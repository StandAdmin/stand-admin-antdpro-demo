(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+2Ae":function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=i[0]+O[0],h[1]=i[1]+O[1],h}},"+D6J":function(Ut,L){function a(h){return h!==h}Ut.exports=a},"+FNX":function(Ut,L,a){var h=a("XSdR"),i=a("43gi").Graph;Ut.exports=O;function O(C,A,S){var M=x(C),b=new i({compound:!0}).setGraph({root:M}).setDefaultNodeLabel(function(g){return C.node(g)});return h.forEach(C.nodes(),function(g){var E=C.node(g),D=C.parent(g);(E.rank===A||E.minRank<=A&&A<=E.maxRank)&&(b.setNode(g),b.setParent(g,D||M),h.forEach(C[S](g),function(p){var N=p.v===g?p.w:p.v,I=b.edge(N,g),G=h.isUndefined(I)?0:I.weight;b.setEdge(N,g,{weight:C.edge(p).weight+G})}),h.has(E,"minRank")&&b.setNode(g,{borderLeft:E.borderLeft[A],borderRight:E.borderRight[A]}))}),b}function x(C){for(var A;C.hasNode(A=h.uniqueId("_root")););return A}},"+QvE":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.tagProperty=L.tagParameter=L.decorate=void 0;var h=a("JIc3"),i=a("4b80");function O(b,g,E,D){var p=i.TAGGED;C(p,b,g,D,E)}L.tagParameter=O;function x(b,g,E){var D=i.TAGGED_PROP;C(D,b.constructor,g,E)}L.tagProperty=x;function C(b,g,E,D,p){var N={},I=typeof p=="number",G=p!==void 0&&I?p.toString():E;if(I&&E!==void 0)throw new Error(h.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(b,g)&&(N=Reflect.getMetadata(b,g));var W=N[G];if(!Array.isArray(W))W=[];else for(var z=0,w=W;z<w.length;z++){var T=w[z];if(T.key===D.key)throw new Error(h.DUPLICATED_METADATA+" "+T.key.toString())}W.push(D),N[G]=W,Reflect.defineMetadata(b,N,g)}function A(b,g){Reflect.decorate(b,g)}function S(b,g){return function(E,D){g(E,D,b)}}function M(b,g,E){typeof E=="number"?A([S(E,b)],g):typeof E=="string"?Reflect.decorate([b],g,E):A([b],g)}L.decorate=M},"+WlW":function(Ut,L,a){Ut.exports={graphlib:a("43gi"),layout:a("GbYH"),debug:a("PoGV"),util:{time:a("hppO").time,notime:a("hppO").notime},version:a("tebh")}},"+asT":function(Ut,L,a){"use strict";a.d(L,"a",function(){return Yt});var h=a("J+IK"),i=a("jg4I"),O=a("d38q"),x=a("RF2d"),C=a("ggto"),A=a("S+j/"),S=a("aw9a"),M;(function(bt){bt.Left="Left",bt.Right="Right"})(M||(M={}));var b;(function(bt){bt.Line="line",bt.Column="column"})(b||(b={}));var g="left-axes-view",E="right-axes-view",D={nice:!0,label:{autoHide:!0,autoRotate:!1}},p=Object(h.a)(Object(h.a)({},D),{position:"left"}),N=Object(h.a)(Object(h.a)({},D),{position:"right",grid:null});function I(bt){return Object(i.s)(bt,"geometry")===b.Line}function G(bt){return Object(i.s)(bt,"geometry")===b.Column}function W(bt,ft,dt){return G(dt)?Object(x.b)({},{geometry:b.Column,label:dt.label&&dt.isRange?{content:function(Mt){var Nt;return(Nt=Mt[ft])===null||Nt===void 0?void 0:Nt.join("-")}}:void 0},dt):Object(h.a)({geometry:b.Line},dt)}function z(bt,ft){var dt=bt[0],ot=bt[1];if(Object(i.B)(ft)){var Mt=ft[0],Nt=ft[1];return[Mt,Nt]}var Pt=Object(i.s)(ft,dt),J=Object(i.s)(ft,ot);return[Pt,J]}function w(bt,ft){return ft===M.Left?bt===!1?!1:Object(x.b)({},p,bt):ft===M.Right?bt===!1?!1:Object(x.b)({},N,bt):bt}var T=a("AO+g");function B(bt){var ft=bt.view,dt=bt.geometryOption,ot=bt.yField,Mt=bt.legend,Nt=Object(i.s)(Mt,"marker"),Pt=Object(x.c)(ft,I(dt)?"line":"interval");if(!dt.seriesField){var J=Pt.getAttribute("color"),X=J.values[0],vt=Nt||(I(dt)?{symbol:function(Ft,Wt,kt){return[["M",Ft-kt,Wt],["L",Ft+kt,Wt]]},style:{lineWidth:2,r:6,stroke:X}}:{symbol:"square",style:{fill:X}});return[{value:ot,name:Object(i.s)(ft,"options.scales."+ot+".alias")||ot,marker:vt,isGeometry:!0,viewId:ft.id}]}var lt=Pt.getGroupAttributes();return Object(i.fb)(lt,function(Ct,Ft){var Wt=T.Util.getLegendItems(ft,Pt,Ft,ft.getTheme(),Nt);return Ct.concat(Wt)},[])}var V=a("OM6K");function $(bt){var ft=bt.options,dt=bt.chart,ot=ft.geometryOption,Mt=ot.isStack,Nt=ot.color,Pt=ot.seriesField,J=ot.groupField,X=ot.isGroup,vt=["xField","yField"];if(I(ot)){Object(V.d)(Object(x.b)({},bt,{options:Object(h.a)(Object(h.a)(Object(h.a)({},Object(x.p)(ft,vt)),ot),{line:{color:ot.color,style:ot.lineStyle}})})),Object(V.e)(Object(x.b)({},bt,{options:Object(h.a)(Object(h.a)(Object(h.a)({},Object(x.p)(ft,vt)),ot),{point:ot.point&&Object(h.a)({color:Nt,shape:"circle"},ot.point)})}));var lt=[];X&&lt.push({type:"dodge",dodgeBy:J||Pt,customOffset:0}),Mt&&lt.push({type:"stack"}),lt.length&&Object(i.j)(dt.geometries,function(Ct){Ct.adjust(lt)})}return G(ot)&&Object(V.c)(Object(x.b)({},bt,{options:Object(h.a)(Object(h.a)(Object(h.a)({},Object(x.p)(ft,vt)),ot),{widthRatio:ot.columnWidthRatio,interval:Object(h.a)(Object(h.a)({},Object(x.p)(ot,["color"])),{style:ot.columnStyle})})})),bt}var nt=function(ft,dt){var ot=dt[0],Mt=dt[1],Nt=ft.getOptions().data,Pt=ft.getXScale(),J=Object(i.jb)(Nt);if(!(!Pt||!J)){var X=!0,vt=Object(i.vb)(Nt,Pt.field),lt=X?vt:vt.reverse(),Ct=Object(i.jb)(lt),Ft=Math.floor(ot*(Ct-1)),Wt=Math.floor(Mt*(Ct-1));ft.filter(Pt.field,function(kt){var jt=lt.indexOf(kt);return jt>-1?Object(x.l)(jt,Ft,Wt):!0}),ft.render(!0)}};function at(bt){var ft,dt=bt.options,ot=dt.geometryOptions,Mt=ot===void 0?[]:ot,Nt=dt.xField,Pt=dt.yField,J=Object(i.k)(Mt,function(X){var vt=X.geometry;return vt===b.Line||vt===void 0});return Object(x.b)({},{options:{geometryOptions:[],meta:(ft={},ft[Nt]={type:"cat",sync:!0,range:J?[0,1]:void 0},ft),tooltip:{showMarkers:J,showCrosshairs:J,shared:!0,crosshairs:{type:"x"}},interactions:J?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},bt,{options:{yAxis:z(Pt,dt.yAxis),geometryOptions:[W(Nt,Pt[0],Mt[0]),W(Nt,Pt[1],Mt[1])],annotations:z(Pt,dt.annotations)}})}function st(bt){var ft=bt.chart,dt=bt.options,ot=dt.xField,Mt=dt.yField,Nt=dt.geometryOptions,Pt=dt.data,J=dt.tooltip,X={line:0,column:1},vt=[Object(h.a)(Object(h.a)({},Nt[0]),{id:g,data:Pt[0],yField:Mt[0]}),Object(h.a)(Object(h.a)({},Nt[1]),{id:E,data:Pt[1],yField:Mt[1]})];return vt.sort(function(lt,Ct){return-X[lt.geometry]+X[Ct.geometry]}).forEach(function(lt){var Ct=lt.id,Ft=lt.data,Wt=lt.yField,kt=G(lt)&&lt.isPercent,jt=kt?Object(A.b)(Ft,Wt,ot,Wt):Ft,Y=ft.createView({id:Ct}).data(jt),U=kt?Object(h.a)({formatter:function(q){return{name:q[lt.seriesField]||Wt,value:(Number(q[Wt])*100).toFixed(2)+"%"}}},J):J;$({chart:Y,options:{xField:ot,yField:Wt,tooltip:U,geometryOption:lt}})}),bt}function tt(bt){var ft,dt=bt.chart,ot=bt.options,Mt=ot.geometryOptions,Nt=((ft=dt.getTheme())===null||ft===void 0?void 0:ft.colors10)||[],Pt=0;return dt.once("beforepaint",function(){Object(i.j)(Mt,function(J,X){var vt=Object(S.a)(dt,X===0?g:E);if(!J.color){var lt=vt.getGroupScales(),Ct=Object(i.s)(lt,[0,"values","length"],1),Ft=Nt.slice(Pt,Pt+Ct).concat(X===0?[]:Nt);vt.geometries.forEach(function(Wt){J.seriesField?Wt.color(J.seriesField,Ft):Wt.color(Ft[0])}),Pt+=Ct}}),dt.render(!0)}),bt}function Q(bt){var ft,dt,ot=bt.chart,Mt=bt.options,Nt=Mt.xAxis,Pt=Mt.yAxis,J=Mt.xField,X=Mt.yField;return Object(C.f)((ft={},ft[J]=Nt,ft[X[0]]=Pt[0],ft))(Object(x.b)({},bt,{chart:Object(S.a)(ot,g)})),Object(C.f)((dt={},dt[J]=Nt,dt[X[1]]=Pt[1],dt))(Object(x.b)({},bt,{chart:Object(S.a)(ot,E)})),bt}function Z(bt){var ft=bt.chart,dt=bt.options,ot=Object(S.a)(ft,g),Mt=Object(S.a)(ft,E),Nt=dt.xField,Pt=dt.yField,J=dt.xAxis,X=dt.yAxis;return ft.axis(Nt,!1),ft.axis(Pt[0],!1),ft.axis(Pt[1],!1),ot.axis(Nt,J),ot.axis(Pt[0],w(X[0],M.Left)),Mt.axis(Nt,!1),Mt.axis(Pt[1],w(X[1],M.Right)),bt}function et(bt){var ft=bt.chart,dt=bt.options,ot=dt.tooltip,Mt=Object(S.a)(ft,g),Nt=Object(S.a)(ft,E);return ft.tooltip(ot),Mt.tooltip({shared:!0}),Nt.tooltip({shared:!0}),bt}function ct(bt){var ft=bt.chart;return Object(C.c)(Object(x.b)({},bt,{chart:Object(S.a)(ft,g)})),Object(C.c)(Object(x.b)({},bt,{chart:Object(S.a)(ft,E)})),bt}function mt(bt){var ft=bt.chart,dt=bt.options,ot=dt.annotations,Mt=Object(i.s)(ot,[0]),Nt=Object(i.s)(ot,[1]);return Object(C.b)(Mt)(Object(x.b)({},bt,{chart:Object(S.a)(ft,g),options:{annotations:Mt}})),Object(C.b)(Nt)(Object(x.b)({},bt,{chart:Object(S.a)(ft,E),options:{annotations:Nt}})),bt}function Ot(bt){var ft=bt.chart;return Object(C.j)(Object(x.b)({},bt,{chart:Object(S.a)(ft,g)})),Object(C.j)(Object(x.b)({},bt,{chart:Object(S.a)(ft,E)})),Object(C.j)(bt),bt}function it(bt){var ft=bt.chart;return Object(C.a)(Object(x.b)({},bt,{chart:Object(S.a)(ft,g)})),Object(C.a)(Object(x.b)({},bt,{chart:Object(S.a)(ft,E)})),bt}function xt(bt){var ft=bt.chart,dt=bt.options,ot=dt.yAxis;return Object(C.e)(Object(x.b)({},bt,{chart:Object(S.a)(ft,g),options:{yAxis:ot[0]}})),Object(C.e)(Object(x.b)({},bt,{chart:Object(S.a)(ft,E),options:{yAxis:ot[1]}})),bt}function It(bt){var ft=bt.chart,dt=bt.options,ot=dt.legend,Mt=dt.geometryOptions,Nt=dt.yField,Pt=dt.data,J=Object(S.a)(ft,g),X=Object(S.a)(ft,E);return ot===!1?ft.legend(!1):Object(i.M)(ot)&&ot.custom===!0?ft.legend(ot):(ft.once("beforepaint",function(){var vt=Pt[0].length?B({view:J,geometryOption:Mt[0],yField:Nt[0],legend:ot}):[],lt=Pt[1].length?B({view:X,geometryOption:Mt[1],yField:Nt[1],legend:ot}):[];ft.legend(Object(x.b)({},ot,{custom:!0,items:vt.concat(lt)}))}),ft.on("legend-item:click",function(vt){var lt=Object(i.s)(vt,"gEvent.delegateObject",{});if(lt&&lt.item){var Ct=lt.item,Ft=Ct.value,Wt=Ct.isGeometry,kt=Ct.viewId;if(Wt){var jt=Object(i.n)(Nt,function(j){return j===Ft});if(jt>-1){var Y=Object(i.s)(Object(S.a)(ft,kt),"geometries");Object(i.j)(Y,function(j){j.changeVisible(!lt.item.unchecked)})}}else{var U=Object(i.s)(ft.getController("legend"),"option.items",[]);Object(i.j)(ft.views,function(j){var q=j.getGroupScales();Object(i.j)(q,function(gt){gt.values&&gt.values.indexOf(Ft)>-1&&j.filter(gt.field,function(_){var yt=Object(i.m)(U,function(wt){return wt.value===_});return!yt.unchecked})}),ft.render(!0)})}}})),bt}function zt(bt){var ft=bt.chart,dt=bt.options,ot=dt.slider,Mt=Object(S.a)(ft,g),Nt=Object(S.a)(ft,E);return ot&&(Mt.option("slider",ot),Mt.on("slider:valuechanged",function(Pt){var J=Pt.event,X=J.value,vt=J.originValue;Object(i.G)(X,vt)||nt(Nt,X)}),ft.once("afterpaint",function(){if(!Object(i.C)(ot)){var Pt=ot.start,J=ot.end;(Pt||J)&&nt(Nt,[Pt,J])}})),bt}function Kt(bt){return Object(x.e)(at,st,Q,Z,xt,et,ct,mt,Ot,it,tt,It,zt)(bt)}var Yt=function(bt){Object(h.c)(ft,bt);function ft(){var dt=bt!==null&&bt.apply(this,arguments)||this;return dt.type="dual-axes",dt}return ft.prototype.getDefaultOptions=function(){return Object(x.b)({},bt.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},ft.prototype.getSchemaAdaptor=function(){return Kt},ft.prototype.setState=function(dt,ot,Mt){Mt===void 0&&(Mt=!0);var Nt=Object(x.g)(this.chart);Object(i.j)(Nt,function(Pt){ot(Pt.getData())&&Pt.setState(dt,Mt)})},ft.prototype.getStates=function(){var dt=Object(x.g)(this.chart),ot=[];return Object(i.j)(dt,function(Mt){var Nt=Mt.getData(),Pt=Mt.getStates();Object(i.j)(Pt,function(J){ot.push({data:Nt,state:J,geometry:Mt.geometry,element:Mt})})}),ot},ft}(O.b)},"+jGG":function(Ut,L,a){"use strict";a.d(L,"a",function(){return jt});var h=a("BLox"),i=a("me+i"),O=a("UHDP"),x=a.n(O),C=a("Hg9g"),A=a("viI4"),S=a.n(A),M=a("Rspp"),b=a.n(M),g=a("2Asv"),E=a.n(g),D=a("PVp4"),p=a.n(D),N=a("e6Zy"),I=a("XN3X"),G=a("ZVT1"),W,z,w,T,B,V,$=(W=Object(i.injectable)(),z=Object(i.inject)(I.a.RenderEngine),W(w=(T=(V=function(){function Y(){b()(this,Y),S()(this,"engine",B,this),this.resourcePool={}}return E()(Y,[{key:"getOrCreateResource",value:function(j){if(!this.resourcePool[j.name]){var q=j.descriptor,gt=q.width,_=q.height,yt=q.usage;this.resourcePool[j.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:gt,height:_,wrapS:G.a.CLAMP_TO_EDGE,wrapT:G.a.CLAMP_TO_EDGE,usage:yt})})}return this.resourcePool[j.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),Y}(),V),B=p()(T.prototype,"engine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T))||w),nt=a("BgQB"),at=a("P7eI"),st=a("J/Yx"),tt=a("PkPV"),Q=a("0os6"),Z=a("//O1"),et=a("7stk"),ct=a("AKnH"),mt=a("RtY/"),Ot=a("aStn"),it=a("K4bE"),xt=a("to4S"),It=a("CURf"),zt=a("xg7u"),Kt=a.n(zt),Yt=a("Kiyl"),bt=a.n(Yt),ft=a("u3/Z"),dt=a.n(ft);function ot(Y){var U=Mt();return function(){var q=dt()(Y),gt;if(U){var _=dt()(this).constructor;gt=Reflect.construct(q,arguments,_)}else gt=q.apply(this,arguments);return bt()(this,gt)}}function Mt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Y){return!1}}var Nt=function(Y){Kt()(j,Y);var U=ot(j);function j(q){var gt;return b()(this,j),gt=U.call(this,q),gt.name=void 0,gt.name=q.name||"",gt}return j}(C.a),Pt=a("Vd04"),J=a("+q6o"),X=a("fo7X"),vt=a("8Vus"),lt=a("bmBd"),Ct=new i.Container,Ft=x()(Ct,!1),Wt=function(U){var j=Ft.lazyInject(U);return function(q,gt,_){j.call(this,q,gt),_&&(_.initializer=function(){return q[gt]})}},kt=function(U){var j=Ft.lazyMultiInject(U);return function(q,gt,_){j.call(this,q,gt),_&&(_.initializer=function(){return q[gt]})}};Ct.bind(I.a.ShaderModuleService).to(lt.a).inSingletonScope(),Ct.bind(I.a.NameComponentManager).toConstantValue(new C.b(Nt)),Ct.bind(I.a.HierarchyComponentManager).toConstantValue(new C.b(It.a)),Ct.bind(I.a.TransformComponentManager).toConstantValue(new C.b(J.a)),Ct.bind(I.a.MeshComponentManager).toConstantValue(new C.b(et.a)),Ct.bind(I.a.CullableComponentManager).toConstantValue(new C.b(Z.a)),Ct.bind(I.a.GeometryComponentManager).toConstantValue(new C.b(at.a)),Ct.bind(I.a.MaterialComponentManager).toConstantValue(new C.b(tt.a));function jt(){var Y=new i.Container;return Y.parent=Ct,Y.bind(I.a.Systems).to(Pt.a).inSingletonScope().whenTargetNamed(I.a.SceneGraphSystem),Y.bind(I.a.Systems).to(nt.a).inSingletonScope().whenTargetNamed(I.a.FrameGraphSystem),Y.bind(I.a.Systems).to(ct.a).inSingletonScope().whenTargetNamed(I.a.MeshSystem),Y.bind(I.a.Systems).to(st.a).inSingletonScope().whenTargetNamed(I.a.GeometrySystem),Y.bind(I.a.Systems).to(Q.a).inSingletonScope().whenTargetNamed(I.a.MaterialSystem),Y.bind(I.a.Systems).to(xt.a).inSingletonScope().whenTargetNamed(I.a.RendererSystem),Y.bind(I.a.ResourcePool).to($).inSingletonScope(),Y.bind(I.a.ConfigService).to(X.a).inSingletonScope(),Y.bind(I.a.InteractorService).to(vt.a).inSingletonScope(),Y.bind(I.a.RenderPass).to(it.a).inSingletonScope().whenTargetNamed(it.a.IDENTIFIER),Y.bind(I.a.RenderPass).to(mt.a).inSingletonScope().whenTargetNamed(mt.a.IDENTIFIER),Y.bind(I.a.RenderPass).to(Ot.a).inSingletonScope().whenTargetNamed(Ot.a.IDENTIFIER),Y.bind(I.a.RenderPassFactory).toFactory(function(U){return function(j){return U.container.getNamed(I.a.RenderPass,j)}}),Y}},"+o0w":function(Ut,L,a){var h=a("2PUN"),i=a("z8FW"),O=a("dhvM"),x=a("TdPr"),C=O(function(A,S){if(A==null)return[];var M=S.length;return M>1&&x(A,S[0],S[1])?S=[]:M>2&&x(S[0],S[1],S[2])&&(S=[S[0]]),i(A,h(S,1),[])});Ut.exports=C},"+q6o":function(Ut,L,a){"use strict";a.d(L,"a",function(){return W});var h=a("Rspp"),i=a.n(h),O=a("2Asv"),x=a.n(O),C=a("WplE"),A=a.n(C),S=a("xg7u"),M=a.n(S),b=a("Kiyl"),g=a.n(b),E=a("u3/Z"),D=a.n(E),p=a("99LQ"),N=a("Hg9g");function I(z){var w=G();return function(){var B=D()(z),V;if(w){var $=D()(this).constructor;V=Reflect.construct(B,arguments,$)}else V=B.apply(this,arguments);return g()(this,V)}}function G(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(z){return!1}}var W=function(z){M()(T,z);var w=I(T);function T(B){var V;return i()(this,T),V=w.call(this,B),V.dirtyFlag=void 0,V.localDirtyFlag=void 0,V.parent=null,V.localPosition=p.e.fromValues(0,0,0),V.localRotation=p.c.fromValues(0,0,0,1),V.localScale=p.e.fromValues(1,1,1),V.localTransform=p.b.create(),V.position=p.e.fromValues(0,0,0),V.rotation=p.c.fromValues(0,0,0,1),V.scaling=p.e.fromValues(1,1,1),V.worldTransform=p.b.create(),V.matrixTransform=function(){var $=p.b.create();return function(nt){p.b.multiply($,V.getLocalTransform(),nt),p.b.getScaling(V.localScale,$),p.b.getTranslation(V.localPosition,$),p.b.getRotation(V.localRotation,$)}}(),V.rotateRollPitchYaw=function(){var $=p.c.create(),nt=p.c.create(),at=p.c.create();return function(st,tt,Q){V.setDirty(),p.c.fromEuler($,st,0,0),p.c.fromEuler(nt,0,tt,0),p.c.fromEuler(at,0,0,Q),p.c.multiply(V.localRotation,$,V.localRotation),p.c.multiply(V.localRotation,V.localRotation,nt),p.c.multiply(V.localRotation,at,V.localRotation),p.c.normalize(V.localRotation,V.localRotation)}}(),V.lerp=function(){var $=p.e.create(),nt=p.c.create(),at=p.e.create(),st=p.e.create(),tt=p.c.create(),Q=p.e.create();return function(Z,et,ct){V.setDirty(),p.b.getScaling($,Z.worldTransform),p.b.getTranslation(at,Z.worldTransform),p.b.getRotation(nt,Z.worldTransform),p.b.getScaling(st,et.worldTransform),p.b.getTranslation(Q,et.worldTransform),p.b.getRotation(tt,et.worldTransform),p.e.lerp(V.localScale,$,st,ct),p.c.slerp(V.localRotation,nt,tt,ct),p.e.lerp(V.localPosition,at,Q,ct)}}(),V.translate=function(){var $=p.e.create();return function(nt){return p.e.add($,V.getPosition(),nt),V.setPosition($),V.setDirty(!0),A()(V)}}(),V.translateLocal=function(){return function($){return p.e.transformQuat($,$,V.localRotation),p.e.add(V.localPosition,V.localPosition,$),V.setLocalDirty(!0),A()(V)}}(),V.setPosition=function(){var $=p.b.create();return function(nt){return V.position=nt,V.setLocalDirty(!0),V.parent===null?p.e.copy(V.localPosition,nt):(p.b.copy($,V.parent.worldTransform),p.b.invert($,$),p.e.transformMat4(V.localPosition,nt,$)),A()(V)}}(),V.rotate=function(){var $=p.c.create();return function(nt){if(V.parent===null)p.c.multiply(V.localRotation,V.localRotation,nt),p.c.normalize(V.localRotation,V.localRotation);else{var at=V.getRotation(),st=V.parent.getRotation();p.c.copy($,st),p.c.invert($,$),p.c.multiply($,$,nt),p.c.multiply(V.localRotation,nt,at),p.c.normalize(V.localRotation,V.localRotation)}return V.setLocalDirty(),A()(V)}}(),V.rotateLocal=function(){return function($){return p.c.multiply(V.localRotation,V.localRotation,$),p.c.normalize(V.localRotation,V.localRotation),V.setLocalDirty(!0),A()(V)}}(),V.setRotation=function(){var $=p.c.create();return function(nt){return V.parent===null?p.c.copy(V.localRotation,nt):(p.c.copy($,V.parent.getRotation()),p.c.invert($,$),p.c.copy(V.localRotation,$),p.c.mul(V.localRotation,V.localRotation,nt)),V.setLocalDirty(!0),A()(V)}}(),V}return x()(T,[{key:"setLocalPosition",value:function(V){p.e.copy(this.localPosition,V),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(V){p.e.copy(this.localScale,V),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(V){return p.c.copy(this.localRotation,V),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;V?this.dirtyFlag|=T.DIRTY:this.dirtyFlag&=~T.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;V?(this.localDirtyFlag|=T.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~T.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(p.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(V){p.b.multiply(this.worldTransform,V.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),p.b.getScaling(this.localScale,this.worldTransform),p.b.getTranslation(this.localPosition,this.worldTransform),p.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=p.e.fromValues(0,0,0),this.localRotation=p.c.fromValues(0,0,0,1),this.localScale=p.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(V){return this.setLocalDirty(),p.e.multiply(this.localScale,this.localScale,V),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(p.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return p.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return p.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return p.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),T}(N.a);W.DIRTY=1<<0},"//O1":function(Ut,L,a){"use strict";a.d(L,"a",function(){return I});var h=a("Rspp"),i=a.n(h),O=a("WplE"),x=a.n(O),C=a("xg7u"),A=a.n(C),S=a("Kiyl"),M=a.n(S),b=a("u3/Z"),g=a.n(b),E=a("Hg9g");function D(G){var W=p();return function(){var w=g()(G),T;if(W){var B=g()(this).constructor;T=Reflect.construct(w,arguments,B)}else T=w.apply(this,arguments);return M()(this,T)}}function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(G){return!1}}var N;(function(G){G[G.Standard=0]="Standard"})(N||(N={}));var I=function(G){A()(z,G);var W=D(z);function z(w){var T;return i()(this,z),T=W.call(this,w),T.strategy=N.Standard,T.visibilityPlaneMask=0,T.visible=!1,Object.assign(x()(T),w),T}return z}(E.a)},"/DyB":function(Ut,L,a){var h=a("dhvM"),i=a("TdPr");function O(x){return h(function(C,A){var S=-1,M=A.length,b=M>1?A[M-1]:void 0,g=M>2?A[2]:void 0;for(b=x.length>3&&typeof b=="function"?(M--,b):void 0,g&&i(A[0],A[1],g)&&(b=M<3?void 0:b,M=1),C=Object(C);++S<M;){var E=A[S];E&&x(C,E,S,b)}return C})}Ut.exports=O},"/LIz":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.id=void 0;var h=0;function i(){return h++}L.id=i},"/WN3":function(Ut,L,a){"use strict";a.d(L,"b",function(){return i}),a.d(L,"a",function(){return O});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h=function(st,tt){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,Z){Q.__proto__=Z}||function(Q,Z){for(var et in Z)Z.hasOwnProperty(et)&&(Q[et]=Z[et])},h(st,tt)};function i(at,st){h(at,st);function tt(){this.constructor=at}at.prototype=st===null?Object.create(st):(tt.prototype=st.prototype,new tt)}var O=function(){return O=Object.assign||function(tt){for(var Q,Z=1,et=arguments.length;Z<et;Z++){Q=arguments[Z];for(var ct in Q)Object.prototype.hasOwnProperty.call(Q,ct)&&(tt[ct]=Q[ct])}return tt},O.apply(this,arguments)};function x(at,st){var tt={};for(var Q in at)Object.prototype.hasOwnProperty.call(at,Q)&&st.indexOf(Q)<0&&(tt[Q]=at[Q]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,Q=Object.getOwnPropertySymbols(at);Z<Q.length;Z++)st.indexOf(Q[Z])<0&&Object.prototype.propertyIsEnumerable.call(at,Q[Z])&&(tt[Q[Z]]=at[Q[Z]]);return tt}function C(at,st,tt,Q){var Z=arguments.length,et=Z<3?st:Q===null?Q=Object.getOwnPropertyDescriptor(st,tt):Q,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(at,st,tt,Q);else for(var mt=at.length-1;mt>=0;mt--)(ct=at[mt])&&(et=(Z<3?ct(et):Z>3?ct(st,tt,et):ct(st,tt))||et);return Z>3&&et&&Object.defineProperty(st,tt,et),et}function A(at,st){return function(tt,Q){st(tt,Q,at)}}function S(at,st){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(at,st)}function M(at,st,tt,Q){function Z(et){return et instanceof tt?et:new tt(function(ct){ct(et)})}return new(tt||(tt=Promise))(function(et,ct){function mt(xt){try{it(Q.next(xt))}catch(It){ct(It)}}function Ot(xt){try{it(Q.throw(xt))}catch(It){ct(It)}}function it(xt){xt.done?et(xt.value):Z(xt.value).then(mt,Ot)}it((Q=Q.apply(at,st||[])).next())})}function b(at,st){var tt={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},Q,Z,et,ct;return ct={next:mt(0),throw:mt(1),return:mt(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function mt(it){return function(xt){return Ot([it,xt])}}function Ot(it){if(Q)throw new TypeError("Generator is already executing.");for(;tt;)try{if(Q=1,Z&&(et=it[0]&2?Z.return:it[0]?Z.throw||((et=Z.return)&&et.call(Z),0):Z.next)&&!(et=et.call(Z,it[1])).done)return et;switch(Z=0,et&&(it=[it[0]&2,et.value]),it[0]){case 0:case 1:et=it;break;case 4:return tt.label++,{value:it[1],done:!1};case 5:tt.label++,Z=it[1],it=[0];continue;case 7:it=tt.ops.pop(),tt.trys.pop();continue;default:if(et=tt.trys,!(et=et.length>0&&et[et.length-1])&&(it[0]===6||it[0]===2)){tt=0;continue}if(it[0]===3&&(!et||it[1]>et[0]&&it[1]<et[3])){tt.label=it[1];break}if(it[0]===6&&tt.label<et[1]){tt.label=et[1],et=it;break}if(et&&tt.label<et[2]){tt.label=et[2],tt.ops.push(it);break}et[2]&&tt.ops.pop(),tt.trys.pop();continue}it=st.call(at,tt)}catch(xt){it=[6,xt],Z=0}finally{Q=et=0}if(it[0]&5)throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}}function g(at,st,tt,Q){Q===void 0&&(Q=tt),at[Q]=st[tt]}function E(at,st){for(var tt in at)tt!=="default"&&!st.hasOwnProperty(tt)&&(st[tt]=at[tt])}function D(at){var st=typeof Symbol=="function"&&Symbol.iterator,tt=st&&at[st],Q=0;if(tt)return tt.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&Q>=at.length&&(at=void 0),{value:at&&at[Q++],done:!at}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(at,st){var tt=typeof Symbol=="function"&&at[Symbol.iterator];if(!tt)return at;var Q=tt.call(at),Z,et=[],ct;try{for(;(st===void 0||st-- >0)&&!(Z=Q.next()).done;)et.push(Z.value)}catch(mt){ct={error:mt}}finally{try{Z&&!Z.done&&(tt=Q.return)&&tt.call(Q)}finally{if(ct)throw ct.error}}return et}function N(){for(var at=[],st=0;st<arguments.length;st++)at=at.concat(p(arguments[st]));return at}function I(){for(var at=0,st=0,tt=arguments.length;st<tt;st++)at+=arguments[st].length;for(var Q=Array(at),Z=0,st=0;st<tt;st++)for(var et=arguments[st],ct=0,mt=et.length;ct<mt;ct++,Z++)Q[Z]=et[ct];return Q}function G(at){return this instanceof G?(this.v=at,this):new G(at)}function W(at,st,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=tt.apply(at,st||[]),Z,et=[];return Z={},ct("next"),ct("throw"),ct("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ct(zt){Q[zt]&&(Z[zt]=function(Kt){return new Promise(function(Yt,bt){et.push([zt,Kt,Yt,bt])>1||mt(zt,Kt)})})}function mt(zt,Kt){try{Ot(Q[zt](Kt))}catch(Yt){It(et[0][3],Yt)}}function Ot(zt){zt.value instanceof G?Promise.resolve(zt.value.v).then(it,xt):It(et[0][2],zt)}function it(zt){mt("next",zt)}function xt(zt){mt("throw",zt)}function It(zt,Kt){zt(Kt),et.shift(),et.length&&mt(et[0][0],et[0][1])}}function z(at){var st,tt;return st={},Q("next"),Q("throw",function(Z){throw Z}),Q("return"),st[Symbol.iterator]=function(){return this},st;function Q(Z,et){st[Z]=at[Z]?function(ct){return(tt=!tt)?{value:G(at[Z](ct)),done:Z==="return"}:et?et(ct):ct}:et}}function w(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st=at[Symbol.asyncIterator],tt;return st?st.call(at):(at=typeof D=="function"?D(at):at[Symbol.iterator](),tt={},Q("next"),Q("throw"),Q("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function Q(et){tt[et]=at[et]&&function(ct){return new Promise(function(mt,Ot){ct=at[et](ct),Z(mt,Ot,ct.done,ct.value)})}}function Z(et,ct,mt,Ot){Promise.resolve(Ot).then(function(it){et({value:it,done:mt})},ct)}}function T(at,st){return Object.defineProperty?Object.defineProperty(at,"raw",{value:st}):at.raw=st,at}function B(at){if(at&&at.__esModule)return at;var st={};if(at!=null)for(var tt in at)Object.hasOwnProperty.call(at,tt)&&(st[tt]=at[tt]);return st.default=at,st}function V(at){return at&&at.__esModule?at:{default:at}}function $(at,st){if(!st.has(at))throw new TypeError("attempted to get private field on non-instance");return st.get(at)}function nt(at,st,tt){if(!st.has(at))throw new TypeError("attempted to set private field on non-instance");return st.set(at,tt),tt}},"/XgH":function(Ut,L,a){Ut.exports=a("EpgB")},"/Ykl":function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=i[0]/O[0],h[1]=i[1]/O[1],h}},"/pXD":function(Ut,L){},"/whS":function(Ut,L,a){"use strict";a.d(L,"a",function(){return S});var h=a("J+IK"),i=a("AO+g"),O=a("d38q"),x=a("34FO"),C=a("4LAd"),A={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"},formatter:function(b){var g=b.percent;return(g*100).toFixed(2)+"%"}}},animation:{}},S=function(M){Object(h.c)(b,M);function b(){var g=M!==null&&M.apply(this,arguments)||this;return g.type="ring-process",g}return b.getDefaultOptions=function(){return A},b.prototype.changeData=function(g){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:g}),this.chart.data(Object(x.a)(g)),Object(C.b)({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b.prototype.getSchemaAdaptor=function(){return C.a},b}(O.b)},"068J":function(Ut,L,a){"use strict";a.d(L,"a",function(){return O}),a.d(L,"c",function(){return x}),a.d(L,"b",function(){return C});var h=a("jg4I"),i=a("OK4B");function O(A,S){var M=A.filter(function(E){var D=Object(h.s)(E,[S]);return Object(h.K)(D)&&!isNaN(D)}),b=M.every(function(E){return Object(h.s)(E,[S])>=0}),g=M.every(function(E){return Object(h.s)(E,[S])<=0});return b?{min:0}:g?{max:0}:{}}function x(A,S,M,b){if(!Array.isArray(A))return{nodes:[],links:[]};var g=[],E={},D=-1;return A.forEach(function(p){var N=p[S],I=p[M],G=p[b];E[N]||(E[N]={id:++D,name:N}),E[I]||(E[I]={id:++D,name:I}),g.push({source:E[N].id,target:E[I].id,value:G})}),{nodes:Object.values(E),links:g}}function C(A,S){var M=Object(h.l)(A,function(b){var g=b[S];return g===null||typeof g=="number"&&!isNaN(g)});return Object(i.b)(i.a.WARN,M.length===A.length,"illegal data existed in chart data."),M}},"08EK":function(Ut,L,a){"use strict";a.d(L,"j",function(){return i}),a.d(L,"c",function(){return O}),a.d(L,"g",function(){return x}),a.d(L,"b",function(){return C});var h=a("jg4I");a.d(L,"e",function(){return h.I}),a.d(L,"d",function(){return h.H}),a.d(L,"h",function(){return h.O}),a.d(L,"f",function(){return h.M}),a.d(L,"i",function(){return h.bb}),a.d(L,"a",function(){return h.j}),a.d(L,"k",function(){return h.tb});function i(A,S){var M=A.indexOf(S);M!==-1&&A.splice(M,1)}var O=typeof window!="undefined"&&typeof window.document!="undefined";function x(A,S){if(A.isCanvas())return!0;for(var M=S.getParent(),b=!1;M;){if(M===A){b=!0;break}M=M.getParent()}return b}function C(A){return A.cfg.visible&&A.cfg.capture}},"0JB/":function(Ut,L,a){"use strict";a.d(L,"c",function(){return b}),a.d(L,"b",function(){return g}),a.d(L,"a",function(){return E});var h=a("J+IK"),i=a("2umH"),O=Math.sin,x=Math.cos,C=Math.atan2,A=Math.PI;function S(D,p,N,I,G,W,z){var w=p.stroke,T=p.lineWidth,B=N-G,V=I-W,$=C(V,B),nt=new i.Path({type:"path",canvas:D.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*x(A/6)+","+10*O(A/6)+" L0,0 L"+10*x(A/6)+",-"+10*O(A/6),stroke:w,lineWidth:T}});nt.translate(G,W),nt.rotateAtPoint(G,W,$),D.set(z?"startArrowShape":"endArrowShape",nt)}function M(D,p,N,I,G,W,z){var w=p.startArrow,T=p.endArrow,B=p.stroke,V=p.lineWidth,$=z?w:T,nt=$.d,at=$.fill,st=$.stroke,tt=$.lineWidth,Q=Object(h.e)($,["d","fill","stroke","lineWidth"]),Z=N-G,et=I-W,ct=C(et,Z);nt&&(G=G-x(ct)*nt,W=W-O(ct)*nt);var mt=new i.Path({type:"path",canvas:D.get("canvas"),isArrowShape:!0,attrs:Object(h.a)(Object(h.a)({},Q),{stroke:st||B,lineWidth:tt||V,fill:at})});mt.translate(G,W),mt.rotateAtPoint(G,W,ct),D.set(z?"startArrowShape":"endArrowShape",mt)}function b(D,p,N,I,G){var W=C(I-p,N-D);return{dx:x(W)*G,dy:O(W)*G}}function g(D,p,N,I,G,W){typeof p.startArrow=="object"?M(D,p,N,I,G,W,!0):p.startArrow?S(D,p,N,I,G,W,!0):D.set("startArrowShape",null)}function E(D,p,N,I,G,W){typeof p.endArrow=="object"?M(D,p,N,I,G,W,!1):p.endArrow?S(D,p,N,I,G,W,!1):D.set("startArrowShape",null)}},"0R1f":function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("nZiY"),O=a("MOSd"),x=function(C){Object(h.c)(A,C);function A(S){var M=C.call(this)||this;M.destroyed=!1;var b=M.getDefaultCfg();return M.cfg=Object(O.i)(b,S),M}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(S){return this.cfg[S]},A.prototype.set=function(S,M){this.cfg[S]=M},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(i.a);L.a=x},"0UF7":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Request=void 0;var h=a("/LIz"),i=function(){function O(x,C,A,S,M){this.id=h.id(),this.serviceIdentifier=x,this.parentContext=C,this.parentRequest=A,this.target=M,this.childRequests=[],this.bindings=Array.isArray(S)?S:[S],this.requestScope=A===null?new Map:null}return O.prototype.addChildRequest=function(x,C,A){var S=new O(x,this.parentContext,this,C,A);return this.childRequests.push(S),S},O}();L.Request=i},"0aAk":function(Ut,L,a){var h=a("ql+n"),i=a("K0S0"),O=a("mbOf");Ut.exports=x;function x(C,A){var S=new i,M={},b=new O,g;function E(p){var N=p.v===g?p.w:p.v,I=b.priority(N);if(I!==void 0){var G=A(p);G<I&&(M[N]=g,b.decrease(N,G))}}if(C.nodeCount()===0)return S;h.each(C.nodes(),function(p){b.add(p,Number.POSITIVE_INFINITY),S.setNode(p)}),b.decrease(C.nodes()[0],0);for(var D=!1;b.size()>0;){if(g=b.removeMin(),h.has(M,g))S.setEdge(g,M[g]);else{if(D)throw new Error("Input graph is not connected: "+C);D=!0}C.nodeEdges(g).forEach(E)}return S}},"0mOh":function(Ut,L,a){"use strict";var h=a("AO+g");Object(h.registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},"0mwY":function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=i,h[1]=O,h}},"0os6":function(Ut,L,a){"use strict";a.d(L,"a",function(){return Ot});var h=a("mwFr"),i=a.n(h),O=a("SDju"),x=a.n(O),C=a("7XXI"),A=a.n(C),S=a("viI4"),M=a.n(S),b=a("Rspp"),g=a.n(b),E=a("2Asv"),D=a.n(E),p=a("PVp4"),N=a.n(p),I=a("e6Zy"),G=a.n(I),W=a("me+i"),z=a.n(W),w=a("2Pg9"),T=a("XN3X"),B,V,$,nt,at,st,tt,Q,Z,et;function ct(it,xt){var It=Object.keys(it);if(Object.getOwnPropertySymbols){var zt=Object.getOwnPropertySymbols(it);xt&&(zt=zt.filter(function(Kt){return Object.getOwnPropertyDescriptor(it,Kt).enumerable})),It.push.apply(It,zt)}return It}function mt(it){for(var xt=1;xt<arguments.length;xt++){var It=arguments[xt]!=null?arguments[xt]:{};xt%2?ct(Object(It),!0).forEach(function(zt){i()(it,zt,It[zt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(It)):ct(Object(It)).forEach(function(zt){Object.defineProperty(it,zt,Object.getOwnPropertyDescriptor(It,zt))})}return it}var Ot=(B=Object(W.injectable)(),V=Object(W.inject)(T.a.MaterialComponentManager),$=Object(W.inject)(T.a.RenderEngine),nt=Object(W.inject)(T.a.ShaderModuleService),B(at=(st=(et=function(){function it(){g()(this,it),M()(this,"material",tt,this),M()(this,"engine",Q,this),M()(this,"shaderModule",Z,this)}return D()(it,[{key:"execute",value:function(){var xt=A()(x.a.mark(function zt(){return x.a.wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:case"end":return Yt.stop()}},zt)}));function It(){return xt.apply(this,arguments)}return It}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(It){var zt=Object(w.createEntity)(),Kt=It.vertexShader,Yt=It.fragmentShader,bt=[];if(!this.engine.supportWebGPU){var ft="material-".concat(zt);this.shaderModule.registerModule(ft,{vs:It.vertexShader,fs:It.fragmentShader});var dt=this.shaderModule.getModule(ft);Kt=dt.vs,Yt=dt.fs,dt.uniforms&&(bt=Object.keys(dt.uniforms).map(function(ot){return{dirty:!0,name:ot,data:dt.uniforms[ot]}}))}return this.material.create(zt,mt(mt({vertexShaderGLSL:Kt,fragmentShaderGLSL:Yt},It),{},{uniforms:bt}))}}]),it}(),et),tt=N()(st.prototype,"material",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=N()(st.prototype,"engine",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=N()(st.prototype,"shaderModule",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st))||at)},"0xlF":function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"b",function(){return i});var h={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},i={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},O=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},"1ImO":function(Ut,L,a){var h=a("SOgk");function i(O,x){var C=[];return h(O,function(A,S,M){x(A,S,M)&&C.push(A)}),C}Ut.exports=i},"1RCG":function(Ut,L){Ut.exports="2.1.8"},"1ZgE":function(Ut,L){},"1ban":function(Ut,L,a){var h=a("kDK3"),i={};for(var O in h)h.hasOwnProperty(O)&&(i[h[O]]=O);var x=Ut.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var C in x)if(x.hasOwnProperty(C)){if(!("channels"in x[C]))throw new Error("missing channels property: "+C);if(!("labels"in x[C]))throw new Error("missing channel labels property: "+C);if(x[C].labels.length!==x[C].channels)throw new Error("channel and label counts mismatch: "+C);var A=x[C].channels,S=x[C].labels;delete x[C].channels,delete x[C].labels,Object.defineProperty(x[C],"channels",{value:A}),Object.defineProperty(x[C],"labels",{value:S})}x.rgb.hsl=function(b){var g=b[0]/255,E=b[1]/255,D=b[2]/255,p=Math.min(g,E,D),N=Math.max(g,E,D),I=N-p,G,W,z;return N===p?G=0:g===N?G=(E-D)/I:E===N?G=2+(D-g)/I:D===N&&(G=4+(g-E)/I),G=Math.min(G*60,360),G<0&&(G+=360),z=(p+N)/2,N===p?W=0:z<=.5?W=I/(N+p):W=I/(2-N-p),[G,W*100,z*100]},x.rgb.hsv=function(b){var g,E,D,p,N,I=b[0]/255,G=b[1]/255,W=b[2]/255,z=Math.max(I,G,W),w=z-Math.min(I,G,W),T=function(V){return(z-V)/6/w+1/2};return w===0?p=N=0:(N=w/z,g=T(I),E=T(G),D=T(W),I===z?p=D-E:G===z?p=1/3+g-D:W===z&&(p=2/3+E-g),p<0?p+=1:p>1&&(p-=1)),[p*360,N*100,z*100]},x.rgb.hwb=function(b){var g=b[0],E=b[1],D=b[2],p=x.rgb.hsl(b)[0],N=1/255*Math.min(g,Math.min(E,D));return D=1-1/255*Math.max(g,Math.max(E,D)),[p,N*100,D*100]},x.rgb.cmyk=function(b){var g=b[0]/255,E=b[1]/255,D=b[2]/255,p,N,I,G;return G=Math.min(1-g,1-E,1-D),p=(1-g-G)/(1-G)||0,N=(1-E-G)/(1-G)||0,I=(1-D-G)/(1-G)||0,[p*100,N*100,I*100,G*100]};function M(b,g){return Math.pow(b[0]-g[0],2)+Math.pow(b[1]-g[1],2)+Math.pow(b[2]-g[2],2)}x.rgb.keyword=function(b){var g=i[b];if(g)return g;var E=Infinity,D;for(var p in h)if(h.hasOwnProperty(p)){var N=h[p],I=M(b,N);I<E&&(E=I,D=p)}return D},x.keyword.rgb=function(b){return h[b]},x.rgb.xyz=function(b){var g=b[0]/255,E=b[1]/255,D=b[2]/255;g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92,E=E>.04045?Math.pow((E+.055)/1.055,2.4):E/12.92,D=D>.04045?Math.pow((D+.055)/1.055,2.4):D/12.92;var p=g*.4124+E*.3576+D*.1805,N=g*.2126+E*.7152+D*.0722,I=g*.0193+E*.1192+D*.9505;return[p*100,N*100,I*100]},x.rgb.lab=function(b){var g=x.rgb.xyz(b),E=g[0],D=g[1],p=g[2],N,I,G;return E/=95.047,D/=100,p/=108.883,E=E>.008856?Math.pow(E,1/3):7.787*E+16/116,D=D>.008856?Math.pow(D,1/3):7.787*D+16/116,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,N=116*D-16,I=500*(E-D),G=200*(D-p),[N,I,G]},x.hsl.rgb=function(b){var g=b[0]/360,E=b[1]/100,D=b[2]/100,p,N,I,G,W;if(E===0)return W=D*255,[W,W,W];D<.5?N=D*(1+E):N=D+E-D*E,p=2*D-N,G=[0,0,0];for(var z=0;z<3;z++)I=g+1/3*-(z-1),I<0&&I++,I>1&&I--,6*I<1?W=p+(N-p)*6*I:2*I<1?W=N:3*I<2?W=p+(N-p)*(2/3-I)*6:W=p,G[z]=W*255;return G},x.hsl.hsv=function(b){var g=b[0],E=b[1]/100,D=b[2]/100,p=E,N=Math.max(D,.01),I,G;return D*=2,E*=D<=1?D:2-D,p*=N<=1?N:2-N,G=(D+E)/2,I=D===0?2*p/(N+p):2*E/(D+E),[g,I*100,G*100]},x.hsv.rgb=function(b){var g=b[0]/60,E=b[1]/100,D=b[2]/100,p=Math.floor(g)%6,N=g-Math.floor(g),I=255*D*(1-E),G=255*D*(1-E*N),W=255*D*(1-E*(1-N));switch(D*=255,p){case 0:return[D,W,I];case 1:return[G,D,I];case 2:return[I,D,W];case 3:return[I,G,D];case 4:return[W,I,D];case 5:return[D,I,G]}},x.hsv.hsl=function(b){var g=b[0],E=b[1]/100,D=b[2]/100,p=Math.max(D,.01),N,I,G;return G=(2-E)*D,N=(2-E)*p,I=E*p,I/=N<=1?N:2-N,I=I||0,G/=2,[g,I*100,G*100]},x.hwb.rgb=function(b){var g=b[0]/360,E=b[1]/100,D=b[2]/100,p=E+D,N,I,G,W;p>1&&(E/=p,D/=p),N=Math.floor(6*g),I=1-D,G=6*g-N,(N&1)!=0&&(G=1-G),W=E+G*(I-E);var z,w,T;switch(N){default:case 6:case 0:z=I,w=W,T=E;break;case 1:z=W,w=I,T=E;break;case 2:z=E,w=I,T=W;break;case 3:z=E,w=W,T=I;break;case 4:z=W,w=E,T=I;break;case 5:z=I,w=E,T=W;break}return[z*255,w*255,T*255]},x.cmyk.rgb=function(b){var g=b[0]/100,E=b[1]/100,D=b[2]/100,p=b[3]/100,N,I,G;return N=1-Math.min(1,g*(1-p)+p),I=1-Math.min(1,E*(1-p)+p),G=1-Math.min(1,D*(1-p)+p),[N*255,I*255,G*255]},x.xyz.rgb=function(b){var g=b[0]/100,E=b[1]/100,D=b[2]/100,p,N,I;return p=g*3.2406+E*-1.5372+D*-.4986,N=g*-.9689+E*1.8758+D*.0415,I=g*.0557+E*-.204+D*1.057,p=p>.0031308?1.055*Math.pow(p,1/2.4)-.055:p*12.92,N=N>.0031308?1.055*Math.pow(N,1/2.4)-.055:N*12.92,I=I>.0031308?1.055*Math.pow(I,1/2.4)-.055:I*12.92,p=Math.min(Math.max(0,p),1),N=Math.min(Math.max(0,N),1),I=Math.min(Math.max(0,I),1),[p*255,N*255,I*255]},x.xyz.lab=function(b){var g=b[0],E=b[1],D=b[2],p,N,I;return g/=95.047,E/=100,D/=108.883,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,E=E>.008856?Math.pow(E,1/3):7.787*E+16/116,D=D>.008856?Math.pow(D,1/3):7.787*D+16/116,p=116*E-16,N=500*(g-E),I=200*(E-D),[p,N,I]},x.lab.xyz=function(b){var g=b[0],E=b[1],D=b[2],p,N,I;N=(g+16)/116,p=E/500+N,I=N-D/200;var G=Math.pow(N,3),W=Math.pow(p,3),z=Math.pow(I,3);return N=G>.008856?G:(N-16/116)/7.787,p=W>.008856?W:(p-16/116)/7.787,I=z>.008856?z:(I-16/116)/7.787,p*=95.047,N*=100,I*=108.883,[p,N,I]},x.lab.lch=function(b){var g=b[0],E=b[1],D=b[2],p,N,I;return p=Math.atan2(D,E),N=p*360/2/Math.PI,N<0&&(N+=360),I=Math.sqrt(E*E+D*D),[g,I,N]},x.lch.lab=function(b){var g=b[0],E=b[1],D=b[2],p,N,I;return I=D/360*2*Math.PI,p=E*Math.cos(I),N=E*Math.sin(I),[g,p,N]},x.rgb.ansi16=function(b){var g=b[0],E=b[1],D=b[2],p=1 in arguments?arguments[1]:x.rgb.hsv(b)[2];if(p=Math.round(p/50),p===0)return 30;var N=30+(Math.round(D/255)<<2|Math.round(E/255)<<1|Math.round(g/255));return p===2&&(N+=60),N},x.hsv.ansi16=function(b){return x.rgb.ansi16(x.hsv.rgb(b),b[2])},x.rgb.ansi256=function(b){var g=b[0],E=b[1],D=b[2];if(g===E&&E===D)return g<8?16:g>248?231:Math.round((g-8)/247*24)+232;var p=16+36*Math.round(g/255*5)+6*Math.round(E/255*5)+Math.round(D/255*5);return p},x.ansi16.rgb=function(b){var g=b%10;if(g===0||g===7)return b>50&&(g+=3.5),g=g/10.5*255,[g,g,g];var E=(~~(b>50)+1)*.5,D=(g&1)*E*255,p=(g>>1&1)*E*255,N=(g>>2&1)*E*255;return[D,p,N]},x.ansi256.rgb=function(b){if(b>=232){var g=(b-232)*10+8;return[g,g,g]}b-=16;var E,D=Math.floor(b/36)/5*255,p=Math.floor((E=b%36)/6)/5*255,N=E%6/5*255;return[D,p,N]},x.rgb.hex=function(b){var g=((Math.round(b[0])&255)<<16)+((Math.round(b[1])&255)<<8)+(Math.round(b[2])&255),E=g.toString(16).toUpperCase();return"000000".substring(E.length)+E},x.hex.rgb=function(b){var g=b.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!g)return[0,0,0];var E=g[0];g[0].length===3&&(E=E.split("").map(function(G){return G+G}).join(""));var D=parseInt(E,16),p=D>>16&255,N=D>>8&255,I=D&255;return[p,N,I]},x.rgb.hcg=function(b){var g=b[0]/255,E=b[1]/255,D=b[2]/255,p=Math.max(Math.max(g,E),D),N=Math.min(Math.min(g,E),D),I=p-N,G,W;return I<1?G=N/(1-I):G=0,I<=0?W=0:p===g?W=(E-D)/I%6:p===E?W=2+(D-g)/I:W=4+(g-E)/I+4,W/=6,W%=1,[W*360,I*100,G*100]},x.hsl.hcg=function(b){var g=b[1]/100,E=b[2]/100,D=1,p=0;return E<.5?D=2*g*E:D=2*g*(1-E),D<1&&(p=(E-.5*D)/(1-D)),[b[0],D*100,p*100]},x.hsv.hcg=function(b){var g=b[1]/100,E=b[2]/100,D=g*E,p=0;return D<1&&(p=(E-D)/(1-D)),[b[0],D*100,p*100]},x.hcg.rgb=function(b){var g=b[0]/360,E=b[1]/100,D=b[2]/100;if(E===0)return[D*255,D*255,D*255];var p=[0,0,0],N=g%1*6,I=N%1,G=1-I,W=0;switch(Math.floor(N)){case 0:p[0]=1,p[1]=I,p[2]=0;break;case 1:p[0]=G,p[1]=1,p[2]=0;break;case 2:p[0]=0,p[1]=1,p[2]=I;break;case 3:p[0]=0,p[1]=G,p[2]=1;break;case 4:p[0]=I,p[1]=0,p[2]=1;break;default:p[0]=1,p[1]=0,p[2]=G}return W=(1-E)*D,[(E*p[0]+W)*255,(E*p[1]+W)*255,(E*p[2]+W)*255]},x.hcg.hsv=function(b){var g=b[1]/100,E=b[2]/100,D=g+E*(1-g),p=0;return D>0&&(p=g/D),[b[0],p*100,D*100]},x.hcg.hsl=function(b){var g=b[1]/100,E=b[2]/100,D=E*(1-g)+.5*g,p=0;return D>0&&D<.5?p=g/(2*D):D>=.5&&D<1&&(p=g/(2*(1-D))),[b[0],p*100,D*100]},x.hcg.hwb=function(b){var g=b[1]/100,E=b[2]/100,D=g+E*(1-g);return[b[0],(D-g)*100,(1-D)*100]},x.hwb.hcg=function(b){var g=b[1]/100,E=b[2]/100,D=1-E,p=D-g,N=0;return p<1&&(N=(D-p)/(1-p)),[b[0],p*100,N*100]},x.apple.rgb=function(b){return[b[0]/65535*255,b[1]/65535*255,b[2]/65535*255]},x.rgb.apple=function(b){return[b[0]/255*65535,b[1]/255*65535,b[2]/255*65535]},x.gray.rgb=function(b){return[b[0]/100*255,b[0]/100*255,b[0]/100*255]},x.gray.hsl=x.gray.hsv=function(b){return[0,0,b[0]]},x.gray.hwb=function(b){return[0,100,b[0]]},x.gray.cmyk=function(b){return[0,0,0,b[0]]},x.gray.lab=function(b){return[b[0],0,0]},x.gray.hex=function(b){var g=Math.round(b[0]/100*255)&255,E=(g<<16)+(g<<8)+g,D=E.toString(16).toUpperCase();return"000000".substring(D.length)+D},x.rgb.gray=function(b){var g=(b[0]+b[1]+b[2])/3;return[g/255*100]}},"27WW":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.MetadataReader=void 0;var h=a("4b80"),i=function(){function O(){}return O.prototype.getConstructorMetadata=function(x){var C=Reflect.getMetadata(h.PARAM_TYPES,x),A=Reflect.getMetadata(h.TAGGED,x);return{compilerGeneratedMetadata:C,userGeneratedMetadata:A||{}}},O.prototype.getPropertiesMetadata=function(x){var C=Reflect.getMetadata(h.TAGGED_PROP,x)||[];return C},O}();L.MetadataReader=i},"2Asv":function(Ut,L){function a(i,O){for(var x=0;x<O.length;x++){var C=O[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(i,C.key,C)}}function h(i,O,x){return O&&a(i.prototype,O),x&&a(i,x),i}Ut.exports=h,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},"2GXS":function(Ut,L,a){var h=a("qTvU"),i=a("MbSy"),O=a("qXgj");function x(C){return O(i(C,void 0,h),C+"")}Ut.exports=x},"2PUN":function(Ut,L,a){var h=a("qgzk"),i=a("swOU");function O(x,C,A,S,M){var b=-1,g=x.length;for(A||(A=i),M||(M=[]);++b<g;){var E=x[b];C>0&&A(E)?C>1?O(E,C-1,A,S,M):h(M,E):S||(M[M.length]=E)}return M}Ut.exports=O},"2Pg9":function(Ut,L,a){"use strict";a.d(L,"AST_TOKEN_TYPES",function(){return Z}),a.d(L,"STORAGE_CLASS",function(){return ct}),a.d(L,"Target",function(){return mt}),a.d(L,"DefineValuePlaceholder",function(){return Ot});var h=a("BLox"),i=a.n(h),O=a("Hg9g"),x=a("BgQB"),C=a("P7eI"),A=a("J/Yx"),S=a("PkPV"),M=a("0os6"),b=a("//O1"),g=a("7stk"),E=a("AKnH"),D=a("aStn"),p=a("to4S"),N=a("CURf"),I=a("Vd04"),G=a("+q6o"),W=a("syls");a.d(L,"createEntity",function(){return W.b});var z=a("XN3X");a.d(L,"IDENTIFIER",function(){return z.a});var w=a("+jGG");a.d(L,"createWorldContainer",function(){return w.a});var T=a("MciM");a.d(L,"generateAABBFromVertices",function(){return T.a});var B=a("wUId");a.d(L,"isSafari",function(){return B.a});var V=a("S9go"),$=a("P6PP");a.d(L,"AABB",function(){return $.a}),a.d(L,"Frustum",function(){return $.b});var nt=a("Pmht");a.o(nt,"gl")&&a.d(L,"gl",function(){return nt.gl});var at=a("SJBz"),st=a.n(at);a.o(at,"gl")&&a.d(L,"gl",function(){return at.gl});var tt=a("Aw3q"),Q=a.n(tt);a.o(tt,"gl")&&a.d(L,"gl",function(){return tt.gl}),a.o(nt,"gl")&&a.d(L,"gl",function(){return nt.gl});var Z;(function(it){it.Void="Void",it.Boolean="Boolean",it.Float="Float",it.Uint32="Uint32",it.Int32="Int32",it.Vector="Vector",it.Vector2Float="vec2<f32>",it.Vector3Float="vec3<f32>",it.Vector4Float="vec4<f32>",it.Vector2Boolean="vec2<bool>",it.Vector3Boolean="vec3<bool>",it.Vector4Boolean="vec4<bool>",it.Vector2Uint="vec2<u32>",it.Vector3Uint="vec3<u32>",it.Vector4Uint="vec4<u32>",it.Vector2Int="vec2<i32>",it.Vector3Int="vec3<i32>",it.Vector4Int="vec4<i32>",it.Matrix="Matrix",it.Matrix3x3Float="mat3x3<f32>",it.Matrix4x4Float="mat4x4<i32>",it.Struct="Struct",it.FloatArray="Float[]",it.Vector4FloatArray="vec4<f32>[]"})(Z||(Z={}));var et;(function(it){it.Program="Program",it.Identifier="Identifier",it.VariableDeclaration="VariableDeclaration",it.BlockStatement="BlockStatement",it.ReturnStatement="ReturnStatement",it.FunctionDeclaration="FunctionDeclaration",it.VariableDeclarator="VariableDeclarator",it.AssignmentExpression="AssignmentExpression",it.LogicalExpression="LogicalExpression",it.BinaryExpression="BinaryExpression",it.ArrayExpression="ArrayExpression",it.UnaryExpression="UnaryExpression",it.UpdateExpression="UpdateExpression",it.FunctionExpression="FunctionExpression",it.MemberExpression="MemberExpression",it.ConditionalExpression="ConditionalExpression",it.ExpressionStatement="ExpressionStatement",it.CallExpression="CallExpression",it.NumThreadStatement="NumThreadStatement",it.StorageStatement="StorageStatement",it.DoWhileStatement="DoWhileStatement",it.WhileStatement="WhileStatement",it.ForStatement="ForStatement",it.BreakStatement="BreakStatement",it.ContinueStatement="ContinueStatement",it.IfStatement="IfStatement",it.ImportedFunctionStatement="ImportedFunctionStatement"})(et||(et={}));var ct;(function(it){it.Input="Input",it.Output="Output",it.Uniform="Uniform",it.Workgroup="Workgroup",it.UniformConstant="UniformConstant",it.Image="Image",it.StorageBuffer="StorageBuffer",it.Private="Private",it.Function="Function"})(ct||(ct={}));var mt;(function(it){it.GLSL100="GLSL100",it.GLSL450="GLSL450",it.WGSL="WGSL"})(mt||(mt={}));var Ot="__DefineValuePlaceholder__"},"2umH":function(Ut,L,a){"use strict";a.r(L),a.d(L,"Base",function(){return M}),a.d(L,"Circle",function(){return g}),a.d(L,"Ellipse",function(){return p}),a.d(L,"Image",function(){return G}),a.d(L,"Line",function(){return B}),a.d(L,"Marker",function(){return st}),a.d(L,"Path",function(){return dt}),a.d(L,"Polygon",function(){return Nt}),a.d(L,"Polyline",function(){return J}),a.d(L,"Rect",function(){return Ft}),a.d(L,"Text",function(){return kt});var h={};a.r(h),a.d(h,"Base",function(){return M}),a.d(h,"Circle",function(){return g}),a.d(h,"Ellipse",function(){return p}),a.d(h,"Image",function(){return G}),a.d(h,"Line",function(){return B}),a.d(h,"Marker",function(){return st}),a.d(h,"Path",function(){return dt}),a.d(h,"Polygon",function(){return Nt}),a.d(h,"Polyline",function(){return J}),a.d(h,"Rect",function(){return Ft}),a.d(h,"Text",function(){return kt});var i=a("J+IK"),O=a("jsfD"),x=a("PZqk"),C=a("ERDx"),A=a("EEvF"),S=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Y.prototype.getShapeBase=function(){return h},Y.prototype.getGroupBase=function(){return A.a},Y.prototype.onCanvasChange=function(U){Object(C.h)(this,U)},Y.prototype.calculateBBox=function(){var U=this.get("type"),j=this.getHitLineWidth(),q=Object(O.getBBoxMethod)(U),gt=q(this),_=j/2,yt=gt.x-_,wt=gt.y-_,St=gt.x+gt.width+_,Dt=gt.y+gt.height+_;return{x:yt,minX:yt,y:wt,minY:wt,width:gt.width+j,height:gt.height+j,maxX:St,maxY:Dt}},Y.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},Y.prototype.isStroke=function(){return!!this.attrs.stroke},Y.prototype._applyClip=function(U,j){j&&(U.save(),Object(C.a)(U,j),j.createPath(U),U.restore(),U.clip(),j._afterDraw())},Y.prototype.draw=function(U,j){var q=this.cfg.clipShape;if(j){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var gt=this.getCanvasBBox();if(!Object(x.f)(j,gt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}U.save(),Object(C.a)(U,this),this._applyClip(U,q),this.drawPath(U),U.restore(),this._afterDraw()},Y.prototype.getCanvasViewBox=function(){var U=this.cfg.canvas;return U?U.getViewRange():null},Y.prototype.cacheCanvasBBox=function(){var U=this.getCanvasViewBox();if(U){var j=this.getCanvasBBox(),q=Object(x.f)(j,U);this.set("isInView",q),q?this.set("cacheCanvasBBox",j):this.set("cacheCanvasBBox",null)}},Y.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},Y.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},Y.prototype.drawPath=function(U){this.createPath(U),this.strokeAndFill(U),this.afterDrawPath(U)},Y.prototype.fill=function(U){U.fill()},Y.prototype.stroke=function(U){U.stroke()},Y.prototype.strokeAndFill=function(U){var j=this.attrs,q=j.lineWidth,gt=j.opacity,_=j.strokeOpacity,yt=j.fillOpacity;this.isFill()&&(!Object(x.i)(yt)&&yt!==1?(U.globalAlpha=yt,this.fill(U),U.globalAlpha=gt):this.fill(U)),this.isStroke()&&q>0&&(!Object(x.i)(_)&&_!==1&&(U.globalAlpha=_),this.stroke(U)),this.afterDrawPath(U)},Y.prototype.createPath=function(U){},Y.prototype.afterDrawPath=function(U){},Y.prototype.isInShape=function(U,j){var q=this.isStroke(),gt=this.isFill(),_=this.getHitLineWidth();return this.isInStrokeOrPath(U,j,q,gt,_)},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){return!1},Y.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var U=this.attrs;return U.lineWidth+U.lineAppendWidth},Y}(O.AbstractShape),M=S,b=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,r:0})},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr(),wt=yt.x,St=yt.y,Dt=yt.r,Vt=_/2,Qt=Object(x.b)(wt,St,U,j);return gt&&q?Qt<=Dt+Vt:gt?Qt<=Dt:q?Qt>=Dt-Vt&&Qt<=Dt+Vt:!1},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x,gt=j.y,_=j.r;U.beginPath(),U.arc(q,gt,_,0,Math.PI*2,!1),U.closePath()},Y}(M),g=b;function E(jt,Y,U,j){return jt/(U*U)+Y/(j*j)}var D=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,rx:0,ry:0})},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr(),wt=_/2,St=yt.x,Dt=yt.y,Vt=yt.rx,Qt=yt.ry,ee=(U-St)*(U-St),se=(j-Dt)*(j-Dt);return gt&&q?E(ee,se,Vt+wt,Qt+wt)<=1:gt?E(ee,se,Vt,Qt)<=1:q?E(ee,se,Vt-wt,Qt-wt)>=1&&E(ee,se,Vt+wt,Qt+wt)<=1:!1},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x,gt=j.y,_=j.rx,yt=j.ry;if(U.beginPath(),U.ellipse)U.ellipse(q,gt,_,yt,0,0,Math.PI*2,!1);else{var wt=_>yt?_:yt,St=_>yt?1:_/yt,Dt=_>yt?yt/_:1;U.save(),U.translate(q,gt),U.scale(St,Dt),U.arc(0,0,wt,0,Math.PI*2),U.restore(),U.closePath()}},Y}(M),p=D;function N(jt){return jt instanceof HTMLElement&&Object(x.k)(jt.nodeName)&&jt.nodeName.toUpperCase()==="CANVAS"}var I=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,width:0,height:0})},Y.prototype.initAttrs=function(U){this._setImage(U.img)},Y.prototype.isStroke=function(){return!1},Y.prototype.isOnlyHitBox=function(){return!0},Y.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var U=this.get("canvas");U?U.draw():this.createPath(this.get("context"))}},Y.prototype._setImage=function(U){var j=this,q=this.attrs;if(Object(x.k)(U)){var gt=new Image;gt.onload=function(){if(j.destroyed)return!1;j.attr("img",gt),j.set("loading",!1),j._afterLoading();var _=j.get("callback");_&&_.call(j)},gt.crossOrigin="Anonymous",gt.src=U,this.set("loading",!0)}else U instanceof Image?(q.width||(q.width=U.width),q.height||(q.height=U.height)):N(U)&&(q.width||(q.width=Number(U.getAttribute("width"))),q.height||(q.height,Number(U.getAttribute("height"))))},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),U==="img"&&this._setImage(j)},Y.prototype.createPath=function(U){if(this.get("loading")){this.set("toDraw",!0),this.set("context",U);return}var j=this.attr(),q=j.x,gt=j.y,_=j.width,yt=j.height,wt=j.sx,St=j.sy,Dt=j.swidth,Vt=j.sheight,Qt=j.img;(Qt instanceof Image||N(Qt))&&(!Object(x.i)(wt)&&!Object(x.i)(St)&&!Object(x.i)(Dt)&&!Object(x.i)(Vt)?U.drawImage(Qt,wt,St,Dt,Vt,q,gt,_,yt):U.drawImage(Qt,q,gt,_,yt))},Y}(M),G=I,W=a("9pBU");function z(jt,Y,U,j,q,gt,_){var yt=Math.min(jt,U),wt=Math.max(jt,U),St=Math.min(Y,j),Dt=Math.max(Y,j),Vt=q/2;return gt>=yt-Vt&&gt<=wt+Vt&&_>=St-Vt&&_<=Dt+Vt?W.c.pointToLine(jt,Y,U,j,gt,_)<=q/2:!1}var w=a("0JB/"),T=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Y.prototype.initAttrs=function(U){this.setArrow()},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),this.setArrow()},Y.prototype.setArrow=function(){var U=this.attr(),j=U.x1,q=U.y1,gt=U.x2,_=U.y2,yt=U.startArrow,wt=U.endArrow;yt&&w.b(this,U,gt,_,j,q),wt&&w.a(this,U,j,q,gt,_)},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){if(!q||!_)return!1;var yt=this.attr(),wt=yt.x1,St=yt.y1,Dt=yt.x2,Vt=yt.y2;return z(wt,St,Dt,Vt,_,U,j)},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x1,gt=j.y1,_=j.x2,yt=j.y2,wt=j.startArrow,St=j.endArrow,Dt={dx:0,dy:0},Vt={dx:0,dy:0};wt&&wt.d&&(Dt=w.c(q,gt,_,yt,j.startArrow.d)),St&&St.d&&(Vt=w.c(q,gt,_,yt,j.endArrow.d)),U.beginPath(),U.moveTo(q+Dt.dx,gt+Dt.dy),U.lineTo(_-Vt.dx,yt-Vt.dy)},Y.prototype.afterDrawPath=function(U){var j=this.get("startArrowShape"),q=this.get("endArrowShape");j&&j.draw(U),q&&q.draw(U)},Y.prototype.getTotalLength=function(){var U=this.attr(),j=U.x1,q=U.y1,gt=U.x2,_=U.y2;return W.c.length(j,q,gt,_)},Y.prototype.getPoint=function(U){var j=this.attr(),q=j.x1,gt=j.y1,_=j.x2,yt=j.y2;return W.c.pointAt(q,gt,_,yt,U)},Y}(M),B=T,V=a("jg4I"),$=a("WOt1"),nt={circle:function(Y,U,j){return[["M",Y-j,U],["A",j,j,0,1,0,Y+j,U],["A",j,j,0,1,0,Y-j,U]]},square:function(Y,U,j){return[["M",Y-j,U-j],["L",Y+j,U-j],["L",Y+j,U+j],["L",Y-j,U+j],["Z"]]},diamond:function(Y,U,j){return[["M",Y-j,U],["L",Y,U-j],["L",Y+j,U],["L",Y,U+j],["Z"]]},triangle:function(Y,U,j){var q=j*Math.sin(1/3*Math.PI);return[["M",Y-j,U+q],["L",Y,U-q],["L",Y+j,U+q],["Z"]]},"triangle-down":function(Y,U,j){var q=j*Math.sin(1/3*Math.PI);return[["M",Y-j,U-q],["L",Y+j,U-q],["L",Y,U+q],["Z"]]}},at=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.initAttrs=function(U){this._resetParamsCache()},Y.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),["symbol","x","y","r","radius"].indexOf(U)!==-1&&this._resetParamsCache()},Y.prototype.isOnlyHitBox=function(){return!0},Y.prototype._getR=function(U){return Object(V.I)(U.r)?U.radius:U.r},Y.prototype._getPath=function(){var U=this.attr(),j=U.x,q=U.y,gt=U.symbol||"circle",_=this._getR(U),yt,wt;if(Object(x.h)(gt))yt=gt,wt=yt(j,q,_),wt=Object($.d)(wt);else{if(yt=Y.Symbols[gt],!yt)return console.warn(gt+" marker is not supported."),null;wt=yt(j,q,_)}return wt},Y.prototype.createPath=function(U){var j=this._getPath(),q=this.get("paramsCache");Object(C.e)(this,U,{path:j},q)},Y.Symbols=nt,Y}(M),st=at;function tt(jt,Y,U){var j=Object(O.getOffScreenContext)();return jt.createPath(j),j.isPointInPath(Y,U)}var Q=1e-6;function Z(jt){return Math.abs(jt)<Q?0:jt<0?-1:1}function et(jt,Y,U){return(U[0]-jt[0])*(Y[1]-jt[1])==(Y[0]-jt[0])*(U[1]-jt[1])&&Math.min(jt[0],Y[0])<=U[0]&&U[0]<=Math.max(jt[0],Y[0])&&Math.min(jt[1],Y[1])<=U[1]&&U[1]<=Math.max(jt[1],Y[1])}function ct(jt,Y,U){var j=!1,q=jt.length;if(q<=2)return!1;for(var gt=0;gt<q;gt++){var _=jt[gt],yt=jt[(gt+1)%q];if(et(_,yt,[Y,U]))return!0;Z(_[1]-U)>0!=Z(yt[1]-U)>0&&Z(Y-(U-_[1])*(_[0]-yt[0])/(_[1]-yt[1])-_[0])<0&&(j=!j)}return j}var mt=a("sxZn"),Ot=a("gCNn");function it(jt,Y,U,j,q,gt,_,yt){var wt=(Math.atan2(yt-Y,_-jt)+Math.PI*2)%(Math.PI*2);if(wt<j||wt>q)return!1;var St={x:jt+U*Math.cos(wt),y:Y+U*Math.sin(wt)};return Object(x.b)(St.x,St.y,_,yt)<=gt/2}var xt=mt.a.transform;function It(jt){for(var Y=!1,U=jt.length,j=0;j<U;j++){var q=jt[j],gt=q[0];if(gt==="C"||gt==="A"||gt==="Q"){Y=!0;break}}return Y}function zt(jt,Y,U,j,q){for(var gt=!1,_=Y/2,yt=0;yt<jt.length;yt++){var wt=jt[yt],St=wt.currentPoint,Dt=wt.params,Vt=wt.prePoint,Qt=wt.box;if(!(Qt&&!Object(x.e)(Qt.x-_,Qt.y-_,Qt.width+Y,Qt.height+Y,U,j))){switch(wt.command){case"L":case"Z":gt=z(Vt[0],Vt[1],St[0],St[1],Y,U,j);break;case"Q":var ee=W.e.pointDistance(Vt[0],Vt[1],Dt[1],Dt[2],Dt[3],Dt[4],U,j);gt=ee<=Y/2;break;case"C":var se=W.b.pointDistance(Vt[0],Vt[1],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5],Dt[6],U,j,q);gt=se<=Y/2;break;case"A":var ye=wt.arcParams,Ie=ye.cx,Be=ye.cy,Ze=ye.rx,we=ye.ry,We=ye.startAngle,Ke=ye.endAngle,cr=ye.xRotation,or=[U,j,1],Ce=Ze>we?Ze:we,sr=Ze>we?1:Ze/we,ke=Ze>we?we/Ze:1,Xe=xt(null,[["t",-Ie,-Be],["r",-cr],["s",1/sr,1/ke]]);Ot.transformMat3(or,or,Xe),gt=it(0,0,Ce,We,Ke,Y,or[0],or[1]);break;default:break}if(gt)break}}return gt}function Kt(jt){for(var Y=jt.length,U=[],j=[],q=[],gt=0;gt<Y;gt++){var _=jt[gt],yt=_[0];yt==="M"?(q.length&&(j.push(q),q=[]),q.push([_[1],_[2]])):yt==="Z"?q.length&&(U.push(q),q=[]):q.push([_[1],_[2]])}return q.length>0&&j.push(q),{polygons:U,polylines:j}}var Yt=Object(i.a)({hasArc:It,extractPolygons:Kt,isPointInStroke:zt},O.PathUtil);function bt(jt,Y,U){for(var j=!1,q=0;q<jt.length;q++){var gt=jt[q];if(j=ct(gt,Y,U),j)break}return j}var ft=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{startArrow:!1,endArrow:!1})},Y.prototype.initAttrs=function(U){this._setPathArr(U.path),this.setArrow()},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),U==="path"&&this._setPathArr(j),this.setArrow()},Y.prototype._setPathArr=function(U){this.attrs.path=Object($.d)(U);var j=Yt.hasArc(U);this.set("hasArc",j),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Y.prototype.getSegments=function(){var U=this.get("segements");return U||(U=Object($.e)(this.attr("path")),this.set("segments",U)),U},Y.prototype.setArrow=function(){var U=this.attr(),j=U.startArrow,q=U.endArrow;if(j){var gt=this.getStartTangent();w.b(this,U,gt[0][0],gt[0][1],gt[1][0],gt[1][1])}if(q){var gt=this.getEndTangent();w.a(this,U,gt[0][0],gt[0][1],gt[1][0],gt[1][1])}},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.getSegments(),wt=this.get("hasArc"),St=!1;if(q){var Dt=this.getTotalLength();St=Yt.isPointInStroke(yt,_,U,j,Dt)}if(!St&&gt)if(wt)St=tt(this,U,j);else{var Vt=this.attr("path"),Qt=Yt.extractPolygons(Vt);St=bt(Qt.polygons,U,j)||bt(Qt.polylines,U,j)}return St},Y.prototype.createPath=function(U){var j=this.attr(),q=this.get("paramsCache");Object(C.e)(this,U,j,q)},Y.prototype.afterDrawPath=function(U){var j=this.get("startArrowShape"),q=this.get("endArrowShape");j&&j.draw(U),q&&q.draw(U)},Y.prototype.getTotalLength=function(){var U=this.get("totalLength");return Object(V.I)(U)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):U},Y.prototype.getPoint=function(U){var j=this.get("tCache");j||(this._calculateCurve(),this._setTcache(),j=this.get("tCache"));var q,gt,_=this.get("curve");if(!j||j.length===0)return _?{x:_[0][1],y:_[0][2]}:null;Object(V.j)(j,function(Dt,Vt){U>=Dt[0]&&U<=Dt[1]&&(q=(U-Dt[0])/(Dt[1]-Dt[0]),gt=Vt)});var yt=_[gt];if(Object(V.I)(yt)||Object(V.I)(gt))return null;var wt=yt.length,St=_[gt+1];return W.b.pointAt(yt[wt-2],yt[wt-1],St[1],St[2],St[3],St[4],St[5],St[6],q)},Y.prototype._calculateCurve=function(){var U=this.attr().path;this.set("curve",Yt.pathToCurve(U))},Y.prototype._setTcache=function(){var U=0,j=0,q=[],gt,_,yt,wt,St=this.get("curve");if(!!St){if(Object(V.j)(St,function(Dt,Vt){yt=St[Vt+1],wt=Dt.length,yt&&(U+=W.b.length(Dt[wt-2],Dt[wt-1],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6])||0)}),this.set("totalLength",U),U===0){this.set("tCache",[]);return}Object(V.j)(St,function(Dt,Vt){yt=St[Vt+1],wt=Dt.length,yt&&(gt=[],gt[0]=j/U,_=W.b.length(Dt[wt-2],Dt[wt-1],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6]),j+=_||0,gt[1]=j/U,q.push(gt))}),this.set("tCache",q)}},Y.prototype.getStartTangent=function(){var U=this.getSegments(),j;if(U.length>1){var q=U[0].currentPoint,gt=U[1].currentPoint,_=U[1].startTangent;j=[],_?(j.push([q[0]-_[0],q[1]-_[1]]),j.push([q[0],q[1]])):(j.push([gt[0],gt[1]]),j.push([q[0],q[1]]))}return j},Y.prototype.getEndTangent=function(){var U=this.getSegments(),j=U.length,q;if(j>1){var gt=U[j-2].currentPoint,_=U[j-1].currentPoint,yt=U[j-1].endTangent;q=[],yt?(q.push([_[0]-yt[0],_[1]-yt[1]]),q.push([_[0],_[1]])):(q.push([gt[0],gt[1]]),q.push([_[0],_[1]]))}return q},Y}(M),dt=ft;function ot(jt,Y,U,j,q){var gt=jt.length;if(gt<2)return!1;for(var _=0;_<gt-1;_++){var yt=jt[_][0],wt=jt[_][1],St=jt[_+1][0],Dt=jt[_+1][1];if(z(yt,wt,St,Dt,Y,U,j))return!0}if(q){var Vt=jt[0],Qt=jt[gt-1];if(z(Vt[0],Vt[1],Qt[0],Qt[1],Y,U,j))return!0}return!1}var Mt=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr().points,wt=!1;return q&&(wt=ot(yt,_,U,j,!0)),!wt&&gt&&(wt=ct(yt,U,j)),wt},Y.prototype.createPath=function(U){var j=this.attr(),q=j.points;if(!(q.length<2)){U.beginPath();for(var gt=0;gt<q.length;gt++){var _=q[gt];gt===0?U.moveTo(_[0],_[1]):U.lineTo(_[0],_[1])}U.closePath()}},Y}(M),Nt=Mt,Pt=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{startArrow:!1,endArrow:!1})},Y.prototype.initAttrs=function(U){this.setArrow()},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),this.setArrow(),["points"].indexOf(U)!==-1&&this._resetCache()},Y.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Y.prototype.setArrow=function(){var U=this.attr(),j=this.attrs,q=j.points,gt=j.startArrow,_=j.endArrow,yt=q.length,wt=q[0][0],St=q[0][1],Dt=q[yt-1][0],Vt=q[yt-1][1];gt&&w.b(this,U,q[1][0],q[1][1],wt,St),_&&w.a(this,U,q[yt-2][0],q[yt-2][1],Dt,Vt)},Y.prototype.isFill=function(){return!1},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){if(!q||!_)return!1;var yt=this.attr().points;return ot(yt,_,U,j,!1)},Y.prototype.isStroke=function(){return!0},Y.prototype.createPath=function(U){var j=this.attr(),q=j.points,gt=j.startArrow,_=j.endArrow,yt=q.length;if(!(q.length<2)){var wt=q[0][0],St=q[0][1],Dt=q[yt-1][0],Vt=q[yt-1][1];if(gt&&gt.d){var Qt=w.c(wt,St,q[1][0],q[1][1],gt.d);wt+=Qt.dx,St+=Qt.dy}if(_&&_.d){var Qt=w.c(q[yt-2][0],q[yt-2][1],Dt,Vt,_.d);Dt-=Qt.dx,Vt-=Qt.dy}U.beginPath(),U.moveTo(wt,St);for(var ee=0;ee<yt-1;ee++){var se=q[ee];U.lineTo(se[0],se[1])}U.lineTo(Dt,Vt)}},Y.prototype.afterDrawPath=function(U){var j=this.get("startArrowShape"),q=this.get("endArrowShape");j&&j.draw(U),q&&q.draw(U)},Y.prototype.getTotalLength=function(){var U=this.attr().points,j=this.get("totalLength");return Object(V.I)(j)?(this.set("totalLength",W.d.length(U)),this.get("totalLength")):j},Y.prototype.getPoint=function(U){var j=this.attr().points,q=this.get("tCache");q||(this._setTcache(),q=this.get("tCache"));var gt,_;return Object(V.j)(q,function(yt,wt){U>=yt[0]&&U<=yt[1]&&(gt=(U-yt[0])/(yt[1]-yt[0]),_=wt)}),W.c.pointAt(j[_][0],j[_][1],j[_+1][0],j[_+1][1],gt)},Y.prototype._setTcache=function(){var U=this.attr().points;if(!(!U||U.length===0)){var j=this.getTotalLength();if(!(j<=0)){var q=0,gt=[],_,yt;Object(V.j)(U,function(wt,St){U[St+1]&&(_=[],_[0]=q/j,yt=W.c.length(wt[0],wt[1],U[St+1][0],U[St+1][1]),q+=yt,_[1]=q/j,gt.push(_))}),this.set("tCache",gt)}}},Y.prototype.getStartTangent=function(){var U=this.attr().points,j=[];return j.push([U[1][0],U[1][1]]),j.push([U[0][0],U[0][1]]),j},Y.prototype.getEndTangent=function(){var U=this.attr().points,j=U.length-1,q=[];return q.push([U[j-1][0],U[j-1][1]]),q.push([U[j][0],U[j][1]]),q},Y}(M),J=Pt,X=a("EsX0");function vt(jt,Y,U,j,q,gt,_){var yt=q/2;return Object(x.e)(jt-yt,Y-yt,U,q,gt,_)||Object(x.e)(jt+U-yt,Y-yt,q,j,gt,_)||Object(x.e)(jt+yt,Y+j-yt,U,q,gt,_)||Object(x.e)(jt-yt,Y+yt,q,j,gt,_)}function lt(jt,Y,U,j,q,gt,_,yt){var wt=gt/2;return z(jt+q,Y,jt+U-q,Y,gt,_,yt)||z(jt+U,Y+q,jt+U,Y+j-q,gt,_,yt)||z(jt+U-q,Y+j,jt+q,Y+j,gt,_,yt)||z(jt,Y+j-q,jt,Y+q,gt,_,yt)||it(jt+U-q,Y+q,q,1.5*Math.PI,2*Math.PI,gt,_,yt)||it(jt+U-q,Y+j-q,q,0,.5*Math.PI,gt,_,yt)||it(jt+q,Y+j-q,q,.5*Math.PI,Math.PI,gt,_,yt)||it(jt+q,Y+q,q,Math.PI,1.5*Math.PI,gt,_,yt)}var Ct=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,width:0,height:0,radius:0})},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr(),wt=yt.x,St=yt.y,Dt=yt.width,Vt=yt.height,Qt=yt.radius;if(Qt){var se=!1;return q&&(se=lt(wt,St,Dt,Vt,Qt,_,U,j)),!se&&gt&&(se=tt(this,U,j)),se}else{var ee=_/2;if(gt&&q)return Object(x.e)(wt-ee,St-ee,Dt+ee,Vt+ee,U,j);if(gt)return Object(x.e)(wt,St,Dt,Vt,U,j);if(q)return vt(wt,St,Dt,Vt,_,U,j)}},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x,gt=j.y,_=j.width,yt=j.height,wt=j.radius;if(U.beginPath(),wt===0)U.rect(q,gt,_,yt);else{var St=Object(X.a)(wt),Dt=St[0],Vt=St[1],Qt=St[2],ee=St[3];U.moveTo(q+Dt,gt),U.lineTo(q+_-Vt,gt),Vt!==0&&U.arc(q+_-Vt,gt+Vt,Vt,-Math.PI/2,0),U.lineTo(q+_,gt+yt-Qt),Qt!==0&&U.arc(q+_-Qt,gt+yt-Qt,Qt,0,Math.PI/2),U.lineTo(q+ee,gt+yt),ee!==0&&U.arc(q+ee,gt+yt-ee,ee,Math.PI/2,Math.PI),U.lineTo(q,gt+Dt),Dt!==0&&U.arc(q+Dt,gt+Dt,Dt,Math.PI,Math.PI*1.5),U.closePath()}},Y}(M),Ft=Ct,Wt=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Y.prototype.isOnlyHitBox=function(){return!0},Y.prototype.initAttrs=function(U){this._assembleFont(),U.text&&this._setText(U.text)},Y.prototype._assembleFont=function(){var U=this.attrs;U.font=Object(O.assembleFont)(U)},Y.prototype._setText=function(U){var j=null;Object(x.k)(U)&&U.indexOf(`
`)!==-1&&(j=U.split(`
`)),this.set("textArr",j)},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),U.startsWith("font")&&this._assembleFont(),U==="text"&&this._setText(j)},Y.prototype._getSpaceingY=function(){var U=this.attrs,j=U.lineHeight,q=U.fontSize*1;return j?j-q:q*.14},Y.prototype._drawTextArr=function(U,j,q){var gt=this.attrs,_=gt.textBaseline,yt=gt.x,wt=gt.y,St=gt.fontSize*1,Dt=this._getSpaceingY(),Vt=Object(O.getTextHeight)(gt.text,gt.fontSize,gt.lineHeight),Qt;Object(x.c)(j,function(ee,se){Qt=wt+se*(Dt+St)-Vt+St,_==="middle"&&(Qt+=Vt-St-(Vt-St)/2),_==="top"&&(Qt+=Vt-St),q?U.fillText(ee,yt,Qt):U.strokeText(ee,yt,Qt)})},Y.prototype._drawText=function(U,j){var q=this.attr(),gt=q.x,_=q.y,yt=this.get("textArr");if(yt)this._drawTextArr(U,yt,j);else{var wt=q.text;j?U.fillText(wt,gt,_):U.strokeText(wt,gt,_)}},Y.prototype.strokeAndFill=function(U){var j=this.attrs,q=j.lineWidth,gt=j.opacity,_=j.strokeOpacity,yt=j.fillOpacity;this.isStroke()&&q>0&&(!Object(x.i)(_)&&_!==1&&(U.globalAlpha=gt),this.stroke(U)),this.isFill()&&(!Object(x.i)(yt)&&yt!==1?(U.globalAlpha=yt,this.fill(U),U.globalAlpha=gt):this.fill(U)),this.afterDrawPath(U)},Y.prototype.fill=function(U){this._drawText(U,!0)},Y.prototype.stroke=function(U){this._drawText(U,!1)},Y}(M),kt=Wt},"2vMh":function(Ut,L,a){var h=a("S8CN"),i=a("+D6J"),O=a("tqoU");function x(C,A,S){return A===A?O(C,A,S):h(C,i,S)}Ut.exports=x},"2xSO":function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=a("jg4I");function i(O,x){if(O===!1)return{fields:!1};var C=Object(h.s)(O,"fields"),A=Object(h.s)(O,"formatter");return A&&!C&&(C=x),{fields:C,formatter:A}}},"34FO":function(Ut,L,a){"use strict";a.d(L,"a",function(){return O});var h=a("jg4I"),i=a("dN4e");function O(x){var C=Object(h.c)(Object(i.b)(x)?x:0,0,1);return[{type:"current",percent:C},{type:"target",percent:1-C}]}},"3FqU":function(Ut,L,a){var h=a("TJOf"),i=a("TpDJ");function O(x,C,A){(A!==void 0&&!i(x[C],A)||A===void 0&&!(C in x))&&h(x,C,A)}Ut.exports=O},"3MnI":function(Ut,L,a){var h=a("ql+n");Ut.exports=i,i.CycleException=O;function i(x){var C={},A={},S=[];function M(b){if(h.has(A,b))throw new O;h.has(C,b)||(A[b]=!0,C[b]=!0,h.each(x.predecessors(b),M),delete A[b],S.push(b))}if(h.each(x.sinks(),M),h.size(C)!==x.nodeCount())throw new O;return S}function O(){}O.prototype=new Error},"3f1o":function(Ut,L,a){var h=a("spfM"),i=a("xOgS"),O=a("R3oX"),x=a("hQ5t"),C=a("8ifL"),A=a("+Gi7"),S=a("lDzS"),M=a("wmqP"),b=a("E5vS"),g=a("lOrw");function E(D,p,N){var I=A(D),G=I||S(D)||g(D);if(p=x(p,4),N==null){var W=D&&D.constructor;G?N=I?new W:[]:b(D)?N=M(W)?i(C(D)):{}:N={}}return(G?h:O)(D,function(z,w,T){return p(N,z,w,T)}),N}Ut.exports=E},"3k0L":function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"d",function(){return i}),a.d(L,"b",function(){return O}),a.d(L,"c",function(){return x});var h=0,i=1/2,O=1/2,x=.05},"3qqr":function(Ut,L,a){var h=a("YKhI");function i(O,x,C){for(var A=-1,S=O.criteria,M=x.criteria,b=S.length,g=C.length;++A<b;){var E=h(S[A],M[A]);if(E){if(A>=g)return E;var D=C[A];return E*(D=="desc"?-1:1)}}return O.index-x.index}Ut.exports=i},"3sqG":function(Ut,L,a){"use strict";a.r(L),a.d(L,"cluster",function(){return M}),a.d(L,"hierarchy",function(){return b.c}),a.d(L,"pack",function(){return et}),a.d(L,"packSiblings",function(){return st}),a.d(L,"packEnclose",function(){return D}),a.d(L,"partition",function(){return it.a}),a.d(L,"stratify",function(){return Yt}),a.d(L,"tree",function(){return X}),a.d(L,"treemap",function(){return vt.a}),a.d(L,"treemapBinary",function(){return lt}),a.d(L,"treemapDice",function(){return Ct.a}),a.d(L,"treemapSlice",function(){return Ft.a}),a.d(L,"treemapSliceDice",function(){return Wt}),a.d(L,"treemapSquarify",function(){return kt.a}),a.d(L,"treemapResquarify",function(){return jt});function h(Y,U){return Y.parent===U.parent?1:2}function i(Y){return Y.reduce(O,0)/Y.length}function O(Y,U){return Y+U.x}function x(Y){return 1+Y.reduce(C,0)}function C(Y,U){return Math.max(Y,U.y)}function A(Y){for(var U;U=Y.children;)Y=U[0];return Y}function S(Y){for(var U;U=Y.children;)Y=U[U.length-1];return Y}var M=function(){var Y=h,U=1,j=1,q=!1;function gt(_){var yt,wt=0;_.eachAfter(function(ee){var se=ee.children;se?(ee.x=i(se),ee.y=x(se)):(ee.x=yt?wt+=Y(ee,yt):0,ee.y=0,yt=ee)});var St=A(_),Dt=S(_),Vt=St.x-Y(St,Dt)/2,Qt=Dt.x+Y(Dt,St)/2;return _.eachAfter(q?function(ee){ee.x=(ee.x-_.x)*U,ee.y=(_.y-ee.y)*j}:function(ee){ee.x=(ee.x-Vt)/(Qt-Vt)*U,ee.y=(1-(_.y?ee.y/_.y:1))*j})}return gt.separation=function(_){return arguments.length?(Y=_,gt):Y},gt.size=function(_){return arguments.length?(q=!1,U=+_[0],j=+_[1],gt):q?null:[U,j]},gt.nodeSize=function(_){return arguments.length?(q=!0,U=+_[0],j=+_[1],gt):q?[U,j]:null},gt},b=a("M1/f"),g=function(Y){return typeof Y=="object"&&"length"in Y?Y:Array.from(Y)};function E(Y){for(var U=Y.length,j,q;U;)q=Math.random()*U--|0,j=Y[U],Y[U]=Y[q],Y[q]=j;return Y}var D=function(Y){for(var U=0,j=(Y=E(Array.from(Y))).length,q=[],gt,_;U<j;)gt=Y[U],_&&I(_,gt)?++U:(_=W(q=p(q,gt)),U=0);return _};function p(Y,U){var j,q;if(G(U,Y))return[U];for(j=0;j<Y.length;++j)if(N(U,Y[j])&&G(w(Y[j],U),Y))return[Y[j],U];for(j=0;j<Y.length-1;++j)for(q=j+1;q<Y.length;++q)if(N(w(Y[j],Y[q]),U)&&N(w(Y[j],U),Y[q])&&N(w(Y[q],U),Y[j])&&G(T(Y[j],Y[q],U),Y))return[Y[j],Y[q],U];throw new Error}function N(Y,U){var j=Y.r-U.r,q=U.x-Y.x,gt=U.y-Y.y;return j<0||j*j<q*q+gt*gt}function I(Y,U){var j=Y.r-U.r+Math.max(Y.r,U.r,1)*1e-9,q=U.x-Y.x,gt=U.y-Y.y;return j>0&&j*j>q*q+gt*gt}function G(Y,U){for(var j=0;j<U.length;++j)if(!I(Y,U[j]))return!1;return!0}function W(Y){switch(Y.length){case 1:return z(Y[0]);case 2:return w(Y[0],Y[1]);case 3:return T(Y[0],Y[1],Y[2])}}function z(Y){return{x:Y.x,y:Y.y,r:Y.r}}function w(Y,U){var j=Y.x,q=Y.y,gt=Y.r,_=U.x,yt=U.y,wt=U.r,St=_-j,Dt=yt-q,Vt=wt-gt,Qt=Math.sqrt(St*St+Dt*Dt);return{x:(j+_+St/Qt*Vt)/2,y:(q+yt+Dt/Qt*Vt)/2,r:(Qt+gt+wt)/2}}function T(Y,U,j){var q=Y.x,gt=Y.y,_=Y.r,yt=U.x,wt=U.y,St=U.r,Dt=j.x,Vt=j.y,Qt=j.r,ee=q-yt,se=q-Dt,ye=gt-wt,Ie=gt-Vt,Be=St-_,Ze=Qt-_,we=q*q+gt*gt-_*_,We=we-yt*yt-wt*wt+St*St,Ke=we-Dt*Dt-Vt*Vt+Qt*Qt,cr=se*ye-ee*Ie,or=(ye*Ke-Ie*We)/(cr*2)-q,Ce=(Ie*Be-ye*Ze)/cr,sr=(se*We-ee*Ke)/(cr*2)-gt,ke=(ee*Ze-se*Be)/cr,Xe=Ce*Ce+ke*ke-1,dr=2*(_+or*Ce+sr*ke),Sr=or*or+sr*sr-_*_,Fr=-(Xe?(dr+Math.sqrt(dr*dr-4*Xe*Sr))/(2*Xe):Sr/dr);return{x:q+or+Ce*Fr,y:gt+sr+ke*Fr,r:Fr}}function B(Y,U,j){var q=Y.x-U.x,gt,_,yt=Y.y-U.y,wt,St,Dt=q*q+yt*yt;Dt?(_=U.r+j.r,_*=_,St=Y.r+j.r,St*=St,_>St?(gt=(Dt+St-_)/(2*Dt),wt=Math.sqrt(Math.max(0,St/Dt-gt*gt)),j.x=Y.x-gt*q-wt*yt,j.y=Y.y-gt*yt+wt*q):(gt=(Dt+_-St)/(2*Dt),wt=Math.sqrt(Math.max(0,_/Dt-gt*gt)),j.x=U.x+gt*q-wt*yt,j.y=U.y+gt*yt+wt*q)):(j.x=U.x+j.r,j.y=U.y)}function V(Y,U){var j=Y.r+U.r-1e-6,q=U.x-Y.x,gt=U.y-Y.y;return j>0&&j*j>q*q+gt*gt}function $(Y){var U=Y._,j=Y.next._,q=U.r+j.r,gt=(U.x*j.r+j.x*U.r)/q,_=(U.y*j.r+j.y*U.r)/q;return gt*gt+_*_}function nt(Y){this._=Y,this.next=null,this.previous=null}function at(Y){if(!(gt=(Y=g(Y)).length))return 0;var U,j,q,gt,_,yt,wt,St,Dt,Vt,Qt;if(U=Y[0],U.x=0,U.y=0,!(gt>1))return U.r;if(j=Y[1],U.x=-j.r,j.x=U.r,j.y=0,!(gt>2))return U.r+j.r;B(j,U,q=Y[2]),U=new nt(U),j=new nt(j),q=new nt(q),U.next=q.previous=j,j.next=U.previous=q,q.next=j.previous=U;t:for(wt=3;wt<gt;++wt){B(U._,j._,q=Y[wt]),q=new nt(q),St=j.next,Dt=U.previous,Vt=j._.r,Qt=U._.r;do if(Vt<=Qt){if(V(St._,q._)){j=St,U.next=j,j.previous=U,--wt;continue t}Vt+=St._.r,St=St.next}else{if(V(Dt._,q._)){U=Dt,U.next=j,j.previous=U,--wt;continue t}Qt+=Dt._.r,Dt=Dt.previous}while(St!==Dt.next);for(q.previous=U,q.next=j,U.next=j.previous=j=q,_=$(U);(q=q.next)!==j;)(yt=$(q))<_&&(U=q,_=yt);j=U.next}for(U=[j._],q=j;(q=q.next)!==j;)U.push(q._);for(q=D(U),wt=0;wt<gt;++wt)U=Y[wt],U.x-=q.x,U.y-=q.y;return q.r}var st=function(Y){return at(Y),Y},tt=a("gPRb"),Q=a("aOLp");function Z(Y){return Math.sqrt(Y.value)}var et=function(){var Y=null,U=1,j=1,q=Q.a;function gt(_){return _.x=U/2,_.y=j/2,Y?_.eachBefore(ct(Y)).eachAfter(mt(q,.5)).eachBefore(Ot(1)):_.eachBefore(ct(Z)).eachAfter(mt(Q.a,1)).eachAfter(mt(q,_.r/Math.min(U,j))).eachBefore(Ot(Math.min(U,j)/(2*_.r))),_}return gt.radius=function(_){return arguments.length?(Y=Object(tt.a)(_),gt):Y},gt.size=function(_){return arguments.length?(U=+_[0],j=+_[1],gt):[U,j]},gt.padding=function(_){return arguments.length?(q=typeof _=="function"?_:Object(Q.b)(+_),gt):q},gt};function ct(Y){return function(U){U.children||(U.r=Math.max(0,+Y(U)||0))}}function mt(Y,U){return function(j){if(q=j.children){var q,gt,_=q.length,yt=Y(j)*U||0,wt;if(yt)for(gt=0;gt<_;++gt)q[gt].r+=yt;if(wt=at(q),yt)for(gt=0;gt<_;++gt)q[gt].r-=yt;j.r=wt+yt}}}function Ot(Y){return function(U){var j=U.parent;U.r*=Y,j&&(U.x=j.x+Y*U.x,U.y=j.y+Y*U.y)}}var it=a("W7Gi"),xt={depth:-1},It={};function zt(Y){return Y.id}function Kt(Y){return Y.parentId}var Yt=function(){var Y=zt,U=Kt;function j(q){var gt=Array.from(q),_=gt.length,yt,wt,St,Dt,Vt,Qt,ee,se=new Map;for(wt=0;wt<_;++wt)yt=gt[wt],Vt=gt[wt]=new b.a(yt),(Qt=Y(yt,wt,q))!=null&&(Qt+="")&&(ee=Vt.id=Qt,se.set(ee,se.has(ee)?It:Vt)),(Qt=U(yt,wt,q))!=null&&(Qt+="")&&(Vt.parent=Qt);for(wt=0;wt<_;++wt)if(Vt=gt[wt],Qt=Vt.parent){if(Dt=se.get(Qt),!Dt)throw new Error("missing: "+Qt);if(Dt===It)throw new Error("ambiguous: "+Qt);Dt.children?Dt.children.push(Vt):Dt.children=[Vt],Vt.parent=Dt}else{if(St)throw new Error("multiple roots");St=Vt}if(!St)throw new Error("no root");if(St.parent=xt,St.eachBefore(function(ye){ye.depth=ye.parent.depth+1,--_}).eachBefore(b.b),St.parent=null,_>0)throw new Error("cycle");return St}return j.id=function(q){return arguments.length?(Y=Object(tt.b)(q),j):Y},j.parentId=function(q){return arguments.length?(U=Object(tt.b)(q),j):U},j};function bt(Y,U){return Y.parent===U.parent?1:2}function ft(Y){var U=Y.children;return U?U[0]:Y.t}function dt(Y){var U=Y.children;return U?U[U.length-1]:Y.t}function ot(Y,U,j){var q=j/(U.i-Y.i);U.c-=q,U.s+=j,Y.c+=q,U.z+=j,U.m+=j}function Mt(Y){for(var U=0,j=0,q=Y.children,gt=q.length,_;--gt>=0;)_=q[gt],_.z+=U,_.m+=U,U+=_.s+(j+=_.c)}function Nt(Y,U,j){return Y.a.parent===U.parent?Y.a:j}function Pt(Y,U){this._=Y,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=U}Pt.prototype=Object.create(b.a.prototype);function J(Y){for(var U=new Pt(Y,0),j,q=[U],gt,_,yt,wt;j=q.pop();)if(_=j._.children)for(j.children=new Array(wt=_.length),yt=wt-1;yt>=0;--yt)q.push(gt=j.children[yt]=new Pt(_[yt],yt)),gt.parent=j;return(U.parent=new Pt(null,0)).children=[U],U}var X=function(){var Y=bt,U=1,j=1,q=null;function gt(Dt){var Vt=J(Dt);if(Vt.eachAfter(_),Vt.parent.m=-Vt.z,Vt.eachBefore(yt),q)Dt.eachBefore(St);else{var Qt=Dt,ee=Dt,se=Dt;Dt.eachBefore(function(we){we.x<Qt.x&&(Qt=we),we.x>ee.x&&(ee=we),we.depth>se.depth&&(se=we)});var ye=Qt===ee?1:Y(Qt,ee)/2,Ie=ye-Qt.x,Be=U/(ee.x+ye+Ie),Ze=j/(se.depth||1);Dt.eachBefore(function(we){we.x=(we.x+Ie)*Be,we.y=we.depth*Ze})}return Dt}function _(Dt){var Vt=Dt.children,Qt=Dt.parent.children,ee=Dt.i?Qt[Dt.i-1]:null;if(Vt){Mt(Dt);var se=(Vt[0].z+Vt[Vt.length-1].z)/2;ee?(Dt.z=ee.z+Y(Dt._,ee._),Dt.m=Dt.z-se):Dt.z=se}else ee&&(Dt.z=ee.z+Y(Dt._,ee._));Dt.parent.A=wt(Dt,ee,Dt.parent.A||Qt[0])}function yt(Dt){Dt._.x=Dt.z+Dt.parent.m,Dt.m+=Dt.parent.m}function wt(Dt,Vt,Qt){if(Vt){for(var ee=Dt,se=Dt,ye=Vt,Ie=ee.parent.children[0],Be=ee.m,Ze=se.m,we=ye.m,We=Ie.m,Ke;ye=dt(ye),ee=ft(ee),ye&&ee;)Ie=ft(Ie),se=dt(se),se.a=Dt,Ke=ye.z+we-ee.z-Be+Y(ye._,ee._),Ke>0&&(ot(Nt(ye,Dt,Qt),Dt,Ke),Be+=Ke,Ze+=Ke),we+=ye.m,Be+=ee.m,We+=Ie.m,Ze+=se.m;ye&&!dt(se)&&(se.t=ye,se.m+=we-Ze),ee&&!ft(Ie)&&(Ie.t=ee,Ie.m+=Be-We,Qt=Dt)}return Qt}function St(Dt){Dt.x*=U,Dt.y=Dt.depth*j}return gt.separation=function(Dt){return arguments.length?(Y=Dt,gt):Y},gt.size=function(Dt){return arguments.length?(q=!1,U=+Dt[0],j=+Dt[1],gt):q?null:[U,j]},gt.nodeSize=function(Dt){return arguments.length?(q=!0,U=+Dt[0],j=+Dt[1],gt):q?[U,j]:null},gt},vt=a("oS5r"),lt=function(Y,U,j,q,gt){var _=Y.children,yt,wt=_.length,St,Dt=new Array(wt+1);for(Dt[0]=St=yt=0;yt<wt;++yt)Dt[yt+1]=St+=_[yt].value;Vt(0,wt,Y.value,U,j,q,gt);function Vt(Qt,ee,se,ye,Ie,Be,Ze){if(Qt>=ee-1){var we=_[Qt];we.x0=ye,we.y0=Ie,we.x1=Be,we.y1=Ze;return}for(var We=Dt[Qt],Ke=se/2+We,cr=Qt+1,or=ee-1;cr<or;){var Ce=cr+or>>>1;Dt[Ce]<Ke?cr=Ce+1:or=Ce}Ke-Dt[cr-1]<Dt[cr]-Ke&&Qt+1<cr&&--cr;var sr=Dt[cr]-We,ke=se-sr;if(Be-ye>Ze-Ie){var Xe=se?(ye*ke+Be*sr)/se:Be;Vt(Qt,cr,sr,ye,Ie,Xe,Ze),Vt(cr,ee,ke,Xe,Ie,Be,Ze)}else{var dr=se?(Ie*ke+Ze*sr)/se:Ze;Vt(Qt,cr,sr,ye,Ie,Be,dr),Vt(cr,ee,ke,ye,dr,Be,Ze)}}},Ct=a("EbMC"),Ft=a("WKd7"),Wt=function(Y,U,j,q,gt){(Y.depth&1?Ft.a:Ct.a)(Y,U,j,q,gt)},kt=a("Od3v"),jt=function Y(U){function j(q,gt,_,yt,wt){if((St=q._squarify)&&St.ratio===U)for(var St,Dt,Vt,Qt,ee=-1,se,ye=St.length,Ie=q.value;++ee<ye;){for(Dt=St[ee],Vt=Dt.children,Qt=Dt.value=0,se=Vt.length;Qt<se;++Qt)Dt.value+=Vt[Qt].value;Dt.dice?Object(Ct.a)(Dt,gt,_,yt,Ie?_+=(wt-_)*Dt.value/Ie:wt):Object(Ft.a)(Dt,gt,_,Ie?gt+=(yt-gt)*Dt.value/Ie:yt,wt),Ie-=Dt.value}else q._squarify=St=Object(kt.c)(U,q,gt,_,yt,wt),St.ratio=U}return j.ratio=function(q){return Y((q=+q)>1?q:1)},j}(kt.b)},"3zSj":function(Ut,L){Ut.exports=a;function a(h,i,O){var x=i[0]*i[0]+i[1]*i[1];if(x>O*O){var C=Math.sqrt(x);h[0]=i[0]/C*O,h[1]=i[1]/C*O}else h[0]=i[0],h[1]=i[1];return h}},"43gi":function(Ut,L,a){var h;try{h=a("lOIa")}catch(i){}h||(h=window.graphlib),Ut.exports=h},"44Go":function(Ut,L){Ut.exports=a;function a(h,i){var O=new Float32Array(2);return O[0]=h,O[1]=i,O}},"4GRf":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.multiInject=void 0;var h=a("4b80"),i=a("TSqk"),O=a("+QvE");function x(C){return function(A,S,M){var b=new i.Metadata(h.MULTI_INJECT_TAG,C);typeof M=="number"?O.tagParameter(A,S,M,b):O.tagProperty(A,S,b)}}L.multiInject=x},"4LAd":function(Ut,L,a){"use strict";a.d(L,"b",function(){return M}),a.d(L,"a",function(){return b});var h=a("J+IK"),i=a("jg4I"),O=a("RF2d"),x=a("ggto"),C=a("cqdR"),A=a("SunQ");function S(g){var E=g.chart,D=g.options,p=D.innerRadius,N=D.radius;return E.coordinate("theta",{innerRadius:p,radius:N}),g}function M(g,E){var D=g.chart,p=g.options,N=p.innerRadius,I=p.statistic,G=p.percent,W=p.meta;if(D.getController("annotation").clear(!0),N&&I){var z=I.content;z&&!z.formatter&&(z.formatter=function(w){var T=w.percent,B=Object(i.s)(W,[A.e,"formatter"]);return B?B(T):T}),Object(O.s)(D,{statistic:Object(h.a)(Object(h.a)({},I),{content:z}),plotType:"ring-progress"},{percent:G})}return E&&D.render(!0),g}function b(g){return Object(O.e)(C.b,Object(x.f)({}),S,M,x.a,x.j,Object(x.b)())(g)}},"4MnK":function(Ut,L,a){"use strict";a.r(L),a.d(L,"Area",function(){return Pt}),a.d(L,"Bar",function(){return vt}),a.d(L,"Box",function(){return Qt}),a.d(L,"Bullet",function(){return Ft}),a.d(L,"Column",function(){return jt}),a.d(L,"Funnel",function(){return j}),a.d(L,"Histogram",function(){return _}),a.d(L,"Line",function(){return St}),a.d(L,"Liquid",function(){return ye}),a.d(L,"Heatmap",function(){return Ze}),a.d(L,"Pie",function(){return Ke}),a.d(L,"Progress",function(){return Xe}),a.d(L,"Radar",function(){return Fr}),a.d(L,"RingProgress",function(){return Dn}),a.d(L,"Rose",function(){return ba}),a.d(L,"Chord",function(){return ai}),a.d(L,"Scatter",function(){return Ti}),a.d(L,"TinyArea",function(){return ia}),a.d(L,"TinyColumn",function(){return wa}),a.d(L,"TinyLine",function(){return $n}),a.d(L,"Waterfall",function(){return ii}),a.d(L,"WordCloud",function(){return Ka}),a.d(L,"Sunburst",function(){return ni}),a.d(L,"DualAxes",function(){return Sa}),a.d(L,"Stock",function(){return hi}),a.d(L,"RadialBar",function(){return he}),a.d(L,"Gauge",function(){return Ce}),a.d(L,"Sankey",function(){return ar}),a.d(L,"Treemap",function(){return Ln}),a.d(L,"MultiView",function(){return Wa}),a.d(L,"BidirectionalBar",function(){return mi}),a.d(L,"OrganizationTreeGraph",function(){return $m}),a.d(L,"DagreGraph",function(){return _m}),a.d(L,"IndentedTree",function(){return n0}),a.d(L,"DagreFundFlowGraph",function(){return e0}),a.d(L,"G2",function(){return D.G2}),a.d(L,"flow",function(){return D.flow}),a.d(L,"measureTextWidth",function(){return D.measureTextWidth}),a.d(L,"adaptors",function(){return D.adaptors});var h={};a.r(h),a.d(h,"compare",function(){return wo}),a.d(h,"getLineIntersect",function(){return _o}),a.d(h,"getRectIntersectByPoint",function(){return qo}),a.d(h,"getCircleIntersectByPoint",function(){return ts}),a.d(h,"getEllipseIntersectByPoint",function(){return Eo}),a.d(h,"applyMatrix",function(){return Go}),a.d(h,"invertMatrix",function(){return Uo}),a.d(h,"getCircleCenterByPoints",function(){return Mo}),a.d(h,"distance",function(){return Wo}),a.d(h,"scaleMatrix",function(){return go}),a.d(h,"floydWarshall",function(){return Ws}),a.d(h,"getAdjMatrix",function(){return zo}),a.d(h,"translate",function(){return xs}),a.d(h,"move",function(){return Bo}),a.d(h,"scale",function(){return es}),a.d(h,"rotate",function(){return zs}),a.d(h,"getDegree",function(){return Pl}),a.d(h,"isPointInPolygon",function(){return ys}),a.d(h,"intersectBBox",function(){return rl}),a.d(h,"isPolygonsIntersect",function(){return At}),a.d(h,"Line",function(){return Jt}),a.d(h,"getBBoxBoundLine",function(){return ne}),a.d(h,"itemIntersectByLine",function(){return xe}),a.d(h,"fractionToLine",function(){return Le}),a.d(h,"getPointsCenter",function(){return ze}),a.d(h,"squareDist",function(){return $e}),a.d(h,"pointLineSquareDist",function(){return nr}),a.d(h,"isPointsOverlap",function(){return rr}),a.d(h,"pointRectSquareDist",function(){return Ir}),a.d(h,"pointLineDistance",function(){return Pr});var i={};a.r(i),a.d(i,"getBBox",function(){return Qe}),a.d(i,"getLoopCfgs",function(){return br}),a.d(i,"getLabelPosition",function(){return Qr}),a.d(i,"traverseTree",function(){return si}),a.d(i,"traverseTreeUp",function(){return No}),a.d(i,"getLetterWidth",function(){return Es}),a.d(i,"getTextSize",function(){return So}),a.d(i,"plainCombosToTrees",function(){return Ms}),a.d(i,"reconstructTree",function(){return au}),a.d(i,"getComboBBox",function(){return rs}),a.d(i,"shouldRefreshEdge",function(){return Xu}),a.d(i,"cloneBesidesImg",function(){return iu});var O={};a.r(O),a.d(O,"uniqueId",function(){return Hu}),a.d(O,"formatPadding",function(){return su}),a.d(O,"cloneEvent",function(){return Nc}),a.d(O,"isViewportChanged",function(){return Vs}),a.d(O,"isNaN",function(){return ao}),a.d(O,"calculationItemsBBox",function(){return Ss}),a.d(O,"processParallelEdges",function(){return lu});var x={};a.r(x),a.d(x,"getSpline",function(){return wl}),a.d(x,"getControlPoint",function(){return _u}),a.d(x,"pointsToPolygon",function(){return Ys}),a.d(x,"pathToPoints",function(){return as}),a.d(x,"getClosedSpline",function(){return ti}),a.d(x,"roundedHull",function(){return qu}),a.d(x,"paddedHull",function(){return tc});var C={};a.r(C),a.d(C,"defaultSubjectColors",function(){return Zh});var A={};a.r(A),a.d(A,"leftTranslate",function(){return il}),a.d(A,"leftRotate",function(){return Jf}),a.d(A,"leftScale",function(){return ol}),a.d(A,"transform",function(){return Ou}),a.d(A,"direction",function(){return Ul}),a.d(A,"angleTo",function(){return of}),a.d(A,"vertical",function(){return sf});var S={};a.r(S),a.d(S,"mixColor",function(){return zi}),a.d(S,"getColorsWithSubjectColor",function(){return Ds}),a.d(S,"getColorSetsBySubjectColors",function(){return ll});var M={};a.r(M),a.d(M,"gpuDetector",function(){return tm});var b={};a.r(b),a.d(b,"proccessToFunc",function(){return HO}),a.d(b,"buildTextureData",function(){return YO}),a.d(b,"buildTextureDataWithOneEdgeAttr",function(){return KO}),a.d(b,"buildTextureDataWithTwoEdgeAttr",function(){return ZO}),a.d(b,"attributesToTextureData",function(){return $O}),a.d(b,"arrayToTextureData",function(){return QO}),a.d(b,"radialLayout",function(){return JO});var g=a("T9Mk"),E=a.n(g),D=a("vAg+"),p=a("jg4I"),N=function(n,t){var e={}.toString;return e.call(n)==="[object "+t+"]"},I=function(n){if(!n)return n;var t={};for(var e in n)t[e]=n[e];return t},G=function l(n){if(!n)return n;var t=new n.constructor,e=function(u){return Object.prototype.toString.call(u).slice(8,-1)};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r])==="Object"||e(n[r])==="Array"?l(n[r]):n[r]);return t},W=function(n,t){for(var e=n,r=0;r<t.length;r+=1)if(e==null?void 0:e[t[r]])e=e[t[r]];else{e=void 0;break}return e},z=function(n,t,e){if(!n)return n;var r=n;return t.forEach(function(o,u){u<t.length-1?r=r[o]:r[o]=e}),n},w=function(n,t){!n||(Object(p.H)(n)?n(t):n.current=t)},T={isType:N,clone:I,hasPath:W,setPath:z,deepClone:G},B=a("d0GS"),V=a.n(B),$=function(n,t){var e=document.createElement("div");return t==="tooltip"&&(e.className="g2-tooltip"),V.a.render(n,e),e},nt=$,at=function(){return at=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},at.apply(this,arguments)},st=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t};function tt(l,n){var t=Object(g.useRef)(),e=Object(g.useRef)(),r=Object(g.useRef)(null),o=n.onReady,u=n.onEvent,d=function(rt,ut){var pt;return rt===void 0&&(rt="image/png"),(pt=t.current)===null||pt===void 0?void 0:pt.chart.canvas.cfg.el.toDataURL(rt,ut)},y=function(rt,ut,pt){var Et;rt===void 0&&(rt="download"),ut===void 0&&(ut="image/png");var Lt=rt;rt.indexOf(".")===-1&&(Lt=rt+"."+ut.split("/")[1]);var Gt=(Et=t.current)===null||Et===void 0?void 0:Et.chart.canvas.cfg.el.toDataURL(ut,pt),Rt=document.createElement("a");return Rt.href=Gt,Rt.download=Lt,document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),Rt=null,Lt},P=function(rt,ut,pt){var Et=T.hasPath,Lt=T.setPath,Gt=Et(rt,ut);Lt(rt,ut,function(){for(var Rt=[],Xt=0;Xt<arguments.length;Xt++)Rt[Xt]=arguments[Xt];var Zt=T.isType(Gt,"Function")?Gt.apply(void 0,Rt):Gt;return T.isType(Zt,"String")||T.isType(Zt,"Number")||T.isType(Zt,"HTMLDivElement")?Zt:nt(Zt,pt)})},F=function(){var rt=T.hasPath;rt(n,["statistic","content","customHtml"])&&P(n,["statistic","content","customHtml"]),rt(n,["statistic","title","customHtml"])&&P(n,["statistic","title","customHtml"]),typeof n.tooltip=="object"&&(rt(n,["tooltip","container"])&&P(n,["tooltip","container"],"tooltip"),rt(n,["tooltip","customContent"])&&P(n,["tooltip","customContent"],"tooltip"))};return Object(g.useEffect)(function(){if(t.current&&!Object(p.G)(e.current,n)){var k=!1;if(e.current){var rt=e.current,ut=rt.data,pt=rt.value,Et=rt.percent,Lt=st(rt,["data","value","percent"]),Gt=n.data,Rt=n.value,Xt=n.percent,Zt=st(n,["data","value","percent"]);k=Object(p.G)(Lt,Zt)}if(k){var _t="data",ie=["percent"],ce=Object.keys(n);ie.forEach(function(be){ce.includes(be)&&(_t=be)}),t.current.changeData((n==null?void 0:n[_t])||[])}else F(),t.current.update(n);e.current=at({},n)}},[n]),Object(g.useEffect)(function(){if(!r.current)return function(){return null};F();var k=new l(r.current,at({},n));l.prototype.toDataURL=function(ut,pt){return d(ut,pt)},l.prototype.downloadImage=function(ut,pt,Et){return y(ut,pt,Et)},k.render(),e.current||(e.current=at({},n)),t.current=T.clone(k),o&&o(k);var rt=function(pt){u&&u(k,pt)};return k.on("*",rt),function(){t.current&&(t.current.destroy(),t.current.off("*",rt),t.current=void 0)}},[]),{chart:t,container:r}}var Q=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Z=function(l){Q(n,l);function n(){var t=l!==null&&l.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(e){var r=t.props.errorTemplate;switch(e){default:return r&&typeof r=="function"?r(e):E.a.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",e.message)}},t}return n.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},n.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},n.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):E.a.createElement(g.Fragment,null,this.props.children)},n}(E.a.Component),et=Z;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ct=function(){return ct=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u])}return t},ct.apply(this,arguments)};function mt(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t}var Ot=function(){return Math.random().toString(36).substring(6)},it=function(n){var t=n.animate,e=n.backgroundColor,r=n.backgroundOpacity,o=n.baseUrl,u=n.children,d=n.foregroundColor,y=n.foregroundOpacity,P=n.gradientRatio,F=n.uniqueKey,k=n.interval,rt=n.rtl,ut=n.speed,pt=n.style,Et=n.title,Lt=mt(n,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),Gt=F||Ot(),Rt=Gt+"-diff",Xt=Gt+"-animated-diff",Zt=Gt+"-aria",_t=rt?{transform:"scaleX(-1)"}:null,ie="0; "+k+"; 1",ce=ut+"s";return Object(g.createElement)("svg",ct({"aria-labelledby":Zt,role:"img",style:ct(ct({},pt),_t)},Lt),Et?Object(g.createElement)("title",{id:Zt},Et):null,Object(g.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+Rt+")",style:{fill:"url("+o+"#"+Xt+")"}}),Object(g.createElement)("defs",{role:"presentation"},Object(g.createElement)("clipPath",{id:Rt},u),Object(g.createElement)("linearGradient",{id:Xt},Object(g.createElement)("stop",{offset:"0%",stopColor:e,stopOpacity:r},t&&Object(g.createElement)("animate",{attributeName:"offset",values:-P+"; "+-P+"; 1",keyTimes:ie,dur:ce,repeatCount:"indefinite"})),Object(g.createElement)("stop",{offset:"50%",stopColor:d,stopOpacity:y},t&&Object(g.createElement)("animate",{attributeName:"offset",values:-P/2+"; "+-P/2+"; "+(1+P/2),keyTimes:ie,dur:ce,repeatCount:"indefinite"})),Object(g.createElement)("stop",{offset:"100%",stopColor:e,stopOpacity:r},t&&Object(g.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+P),keyTimes:ie,dur:ce,repeatCount:"indefinite"})))))};it.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var xt=function(n){return n.children?Object(g.createElement)(it,ct({},n)):Object(g.createElement)(It,ct({},n))},It=function(n){return Object(g.createElement)(xt,ct({viewBox:"0 0 476 124"},n),Object(g.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(g.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(g.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(g.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(g.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(g.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},zt=function(n){return Object(g.createElement)(xt,ct({viewBox:"0 0 400 460"},n),Object(g.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(g.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(g.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(g.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},Kt=function(n){return Object(g.createElement)(xt,ct({viewBox:"0 0 340 84"},n),Object(g.createElement)("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),Object(g.createElement)("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),Object(g.createElement)("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),Object(g.createElement)("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),Object(g.createElement)("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),Object(g.createElement)("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),Object(g.createElement)("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),Object(g.createElement)("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},Yt=function(n){return Object(g.createElement)(xt,ct({viewBox:"0 0 400 110"},n),Object(g.createElement)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),Object(g.createElement)("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),Object(g.createElement)("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),Object(g.createElement)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),Object(g.createElement)("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),Object(g.createElement)("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},bt=function(n){return Object(g.createElement)(xt,ct({viewBox:"0 0 245 125"},n),Object(g.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(g.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(g.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(g.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(g.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(g.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(g.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(g.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},ft=xt,dt=function(n){var t=n.loadingTemplate,e=function(){return t||E.a.createElement(ft,{viewBox:"0 0 400 180",width:200,height:90,speed:1},E.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),E.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),E.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),E.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),E.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),E.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),E.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),E.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),E.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),E.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return E.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},e())},ot=dt,Mt=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Nt=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Mt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Area,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Pt=Nt,J=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},X=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=J(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Bar,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),vt=X,lt=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Ct=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=lt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Bullet,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Ft=Ct,Wt=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},kt=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Wt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Column,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),jt=kt,Y=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},U=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Y(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Funnel,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),j=U,q=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},gt=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=q(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Histogram,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),_=gt,yt=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},wt=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=yt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Line,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),St=wt,Dt=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Vt=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Dt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Box,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Qt=Vt,ee=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},se=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=ee(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Liquid,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),ye=se,Ie=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Be=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Ie(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Heatmap,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Ze=Be,we=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},We=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=we(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Pie,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Ke=We,cr=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},or=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=cr(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Gauge,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Ce=or,sr=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},ke=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=sr(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Progress,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Xe=ke,dr=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Sr=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=dr(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Radar,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Fr=Sr,hn=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},yn=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=hn(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.RingProgress,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Dn=yn,Nn=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Ia=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Nn(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Rose,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),ba=Ia,Oa=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Wn=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Oa(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Chord,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),ai=Wn,Va=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},ci=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Va(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Scatter,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Ti=ci,Ui=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Bi=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Ui(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.TinyArea,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),ia=Bi,ja=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Zn=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=ja(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.TinyColumn,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),wa=Zn,La=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Hn=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=La(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.DualAxes,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Sa=Hn,Ba=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Pa=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Ba(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.TinyLine,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),$n=Pa,Ya=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Da=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Ya(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Waterfall,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),ii=Da,Qn=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Oi=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Qn(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.WordCloud,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Ka=Oi,Na=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},$a=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Na(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Sunburst,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),ni=$a,Cn=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Ni=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Cn(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Stock,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),hi=Ni,fe=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},oe=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=fe(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.RadialBar,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),he=oe,Ne=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},He=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Ne(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Sankey,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),ar=He,Er=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Br=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Er(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.Treemap,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Ln=Br,Bn=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},Sn=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=Bn(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.MultiView,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),Wa=Sn,la=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},yi=Object(g.forwardRef)(function(l,n){var t=l.chartRef,e=l.style,r=e===void 0?{height:"inherit"}:e,o=l.className,u=l.loading,d=l.loadingTemplate,y=l.errorTemplate,P=la(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=tt(D.BidirectionalBar,P),k=F.chart,rt=F.container;return Object(g.useEffect)(function(){w(t,k.current)},[k.current]),Object(g.useImperativeHandle)(n,function(){return{getChart:function(){return k.current}}}),E.a.createElement(et,{errorTemplate:y},u&&E.a.createElement(ot,{loadingTemplate:d}),E.a.createElement("div",{className:o,style:r,ref:rt}))}),mi=yi,ji={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(n){return Object.assign(this,n),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(n){var t=this,e=this.events;this.graph=n,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!0),Object(p.j)(e,function(r,o){n.on(o,r)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(n){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!1),Object(p.j)(t,function(e,r){n.off(r,e)})},get:function(n){return this[n]},set:function(n,t){return this[n]=t,this}},Xi=function(){function l(){}return l.registerBehavior=function(n,t){if(!t)throw new Error("please specify handler for this behavior: "+n);var e=Object(p.e)(ji);Object.assign(e,t);var r=function(u){var d=this;Object.assign(this,this.getDefaultCfg(),u);var y=this.getEvents();this.events=null;var P={};y&&(Object(p.j)(y,function(F,k){P[k]=Object(p.wb)(d,F)}),this.events=P)};r.prototype=e,l.types[n]=r},l.hasBehavior=function(n){return!!l.types[n]},l.getBehavior=function(n){return l.types[n]},l.types={},l}(),uo=Xi,Wi=uo,ge=a("J+IK"),Ki=a("nZiY"),qn=a("sxZn"),Xa=a("6qc8"),Ro=qn.a.transform,wo=function(n){return function(t,e){return t[n]-e[n]}},Hi=function(n,t,e){return n>=t&&n<=e},_o=function(n,t,e,r){var o=1e-4,u={x:e.x-n.x,y:e.y-n.y},d={x:t.x-n.x,y:t.y-n.y},y={x:r.x-e.x,y:r.y-e.y},P=d.x*y.y-d.y*y.x,F=P*P,k=1/P,rt=d.x*d.x+d.y*d.y,ut=y.x*y.x+y.y*y.y;if(F>o*rt*ut){var pt=(u.x*y.y-u.y*y.x)*k,Et=(u.x*d.y-u.y*d.x)*k;return!Hi(pt,0,1)||!Hi(Et,0,1)?null:{x:n.x+pt*d.x,y:n.y+pt*d.y}}return null},qo=function(n,t){var e=n.x,r=n.y,o=n.width,u=n.height,d=e+o/2,y=r+u/2,P=[],F={x:d,y};P.push({x:e,y:r}),P.push({x:e+o,y:r}),P.push({x:e+o,y:r+u}),P.push({x:e,y:r+u}),P.push({x:e,y:r});for(var k=null,rt=1;rt<P.length&&(k=_o(P[rt-1],P[rt],F,t),!k);rt++);return k},ts=function(n,t){var e=n.x,r=n.y,o=n.r,u=t.x,d=t.y,y=u-e,P=d-r,F=Math.sqrt(y*y+P*P);if(F<o)return null;var k=Math.sign(y),rt=Math.sign(P),ut=Math.atan(P/y);return{x:e+Math.abs(o*Math.cos(ut))*k,y:r+Math.abs(o*Math.sin(ut))*rt}},Eo=function(n,t){var e=n.rx,r=n.ry,o=n.x,u=n.y,d=t.x-o,y=t.y-u,P=Math.atan2(y/r,d/e);return P<0&&(P+=2*Math.PI),{x:o+e*Math.cos(P),y:u+r*Math.sin(P)}},Go=function(n,t,e){e===void 0&&(e=1);var r=[n.x,n.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),qn.d.transformMat3(r,r,t),{x:r[0],y:r[1]}},Uo=function(n,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var r=qn.b.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var o=[n.x,n.y,e];return qn.d.transformMat3(o,o,r),{x:o[0],y:o[1]}},Mo=function(n,t,e){var r=n.x-t.x,o=n.y-t.y,u=n.x-e.x,d=n.y-e.y,y=(n.x*n.x-t.x*t.x-t.y*t.y+n.y*n.y)/2,P=(n.x*n.x-e.x*e.x-e.y*e.y+n.y*n.y)/2,F=o*u-r*d;return{x:-(d*y-o*P)/F,y:-(r*P-u*y)/F}},Wo=function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(e*e+r*r)},go=function(n,t){var e=[];return n.forEach(function(r){var o=[];r.forEach(function(u){o.push(u*t)}),e.push(o)}),e},Ws=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var o=0;o<e;o+=1)r===o?t[r][o]=0:n[r][o]===0||!n[r][o]?t[r][o]=Infinity:t[r][o]=n[r][o]}for(var u=0;u<e;u+=1)for(var r=0;r<e;r+=1)for(var o=0;o<e;o+=1)t[r][o]>t[r][u]+t[u][o]&&(t[r][o]=t[r][u]+t[u][o]);return t},zo=function(n,t){var e=n.nodes,r=n.edges,o=[],u={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(d,y){u[d.id]=y;var P=[];o.push(P)}),r&&r.forEach(function(d){var y=d.source,P=d.target,F=u[y],k=u[P];o[F][k]=1,t||(o[k][F]=1)}),o},xs=function(n,t){n.translate(t.x,t.y)},Bo=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=n.getCanvasBBox(),o=t.x-r.minX,u=t.y-r.minY,d=Ro(e,[["t",o,u]]);n.setMatrix(d)},es=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=t;Object(p.B)(t)||(r=[t,t]),Object(p.B)(t)&&t.length===1&&(r=[t[0],t[0]]),e=Ro(e,[["s",r[0],r[1]]]),n.setMatrix(e)},zs=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Ro(e,[["r",t]]),n.setMatrix(e)},Pl=function(n,t,e){for(var r=[],o=0;o<n;o++)r[o]=0;return e.forEach(function(u){u.source&&(r[t[u.source]]+=1),u.target&&(r[t[u.target]]+=1)}),r};function el(l,n,t){return(t[0]-l[0])*(n[1]-l[1])==(n[0]-l[0])*(t[1]-l[1])&&Math.min(l[0],n[0])<=t[0]&&t[0]<=Math.max(l[0],n[0])&&Math.min(l[1],n[1])<=t[1]&&t[1]<=Math.max(l[1],n[1])}var ys=function(n,t,e){var r=!1,o=n.length,u=1e-6;function d(k){return Math.abs(k)<u?0:k<0?-1:1}if(o<=2)return!1;for(var y=0;y<o;y++){var P=n[y],F=n[(y+1)%o];if(el(P,F,[t,e]))return!0;d(P[1]-e)>0!=d(F[1]-e)>0&&d(t-(e-P[1])*(P[0]-F[0])/(P[1]-F[1])-P[0])<0&&(r=!r)}return r},rl=function(n,t){return!(t.minX>n.maxX||t.maxX<n.minX||t.minY>n.maxY||t.maxY<n.minY)},H=function(n,t){var e=!1;return Object(p.j)(n,function(r){if(_o(r.from,r.to,t.from,t.to))return e=!0,!1}),e},At=function(n,t){var e=function(rt){var ut=rt.map(function(Et){return Et[0]}),pt=rt.map(function(Et){return Et[1]});return{minX:Math.min.apply(null,ut),maxX:Math.max.apply(null,ut),minY:Math.min.apply(null,pt),maxY:Math.max.apply(null,pt)}},r=function(rt){for(var ut=[],pt=rt.length,Et=0;Et<pt-1;Et++){var Lt=rt[Et],Gt=rt[Et+1];ut.push({from:{x:Lt[0],y:Lt[1]},to:{x:Gt[0],y:Gt[1]}})}if(ut.length>1){var Rt=rt[0],Xt=rt[pt-1];ut.push({from:{x:Xt[0],y:Xt[1]},to:{x:Rt[0],y:Rt[1]}})}return ut};if(n.length<2||t.length<2)return!1;var o=e(n),u=e(t);if(!rl(o,u))return!1;var d=!1;if(Object(p.j)(t,function(k){if(ys(n,k[0],k[1]))return d=!0,!1}),d||(Object(p.j)(n,function(k){if(ys(t,k[0],k[1]))return d=!0,!1}),d))return!0;var y=r(n),P=r(t),F=!1;return Object(p.j)(P,function(k){if(H(y,k))return F=!0,!1}),F},Jt=function(){function l(n,t,e,r){this.x1=n,this.y1=t,this.x2=e,this.y2=r}return l.prototype.getBBox=function(){var n=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2),o={x:n,y:t,minX:n,minY:t,maxX:e,maxY:r,width:e-n,height:r-t};return o},l}(),ne=function(n,t){var e={top:[n.minX,n.minY,n.maxX,n.minY],left:[n.minX,n.minY,n.minX,n.maxY],bottom:[n.minX,n.maxY,n.maxX,n.maxY],right:[n.maxX,n.minY,n.maxX,n.maxY]};return e[t]},de=function(n,t){var e=(t.x2-t.x1)*(n.y1-t.y1)-(t.y2-t.y1)*(n.x1-t.x1),r=(n.x2-n.x1)*(n.y1-t.y1)-(n.y2-n.y1)*(n.x1-t.x1),o=(t.y2-t.y1)*(n.x2-n.x1)-(t.x2-t.x1)*(n.y2-n.y1);if(o){var u=e/o,d=r/o;if(u>=0&&u<=1&&d>=0&&d<=1)return u}return Number.POSITIVE_INFINITY},xe=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),o=0,u=[],d=0;d<4;d++){var y=ne(r,e[d]),P=y[0],F=y[1],k=y[2],rt=y[3];u[d]=_o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:P,y:F},{x:k,y:rt}),u[d]&&(o+=1)}return[u,o]},Le=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),o=Number.POSITIVE_INFINITY,u=0,d=0;d<4;d++){var y=ne(r,e[d]),P=y[0],F=y[1],k=y[2],rt=y[3],ut=de(t,new Jt(P,F,k,rt));ut=Math.abs(ut-.5),ut>=0&&ut<=1&&(u+=1,o=ut<o?ut:o)}return u===0?-1:o},ze=function(n){var t=0,e=0;if(n.length>0){for(var r=0,o=n;r<o.length;r++){var u=o[r];t+=u.x,e+=u.y}t/=n.length,e/=n.length}return{x:t,y:e}},$e=function(n,t){return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)},nr=function(n,t){var e=t.x1,r=t.y1,o=t.x2-e,u=t.y2-r,d=n.x-e,y=n.y-r,P=d*o+y*u,F;P<=0?F=0:(d=o-d,y=u-y,P=d*o+y*u,P<=0?F=0:F=P*P/(o*o+u*u));var k=d*d+y*y-F;return k<0&&(k=0),k},rr=function(n,t,e){return e===void 0&&(e=.001),Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<Math.pow(e,2)},Ir=function(n,t){var e=n.x<t.x,r=n.x>t.x+t.width,o=n.y>t.y+t.height,u=n.y<t.y,d=e||r||o||u;if(!d)return 0;if(o&&!e&&!r)return Math.pow(t.y+t.height-n.y,2);if(u&&!e&&!r)return Math.pow(n.y-t.y,2);if(e&&!o&&!u)return Math.pow(t.x-n.x,2);if(r&&!o&&!u)return Math.pow(t.x+t.width-n.x,2);var y=Math.min(Math.abs(t.x-n.x),Math.abs(t.x+t.width-n.x)),P=Math.min(Math.abs(t.y-n.y),Math.abs(t.y+t.height-n.y));return y*y+P*P},Pr=function(n,t){var e=n[0],r=n[1],o=n[2],u=n[3],d=t.x,y=t.y,P=[o-e,u-r];if(qn.c.exactEquals(P,[0,0]))return NaN;var F=[-P[1],P[0]];qn.c.normalize(F,F);var k=[d-e,y-r];return Math.abs(qn.c.dot(k,F))},Or="rgb(95, 149, 255)",Zr="rgb(255, 255, 255)",ln="rgb(0, 0, 0)",Dr="rgb(247, 250, 255)",In="rgb(239, 244, 255)",xa="rgb(253, 253, 253)",Yn="rgb(250, 250, 250)",Jn="rgb(224, 224, 224)",fa="rgb(234, 234, 234)",ua="rgb(245, 245, 245)",Ea="rgb(191, 213, 255)",ei="#4572d9",bi="rgb(223, 234, 255)",Rn={mainStroke:Or,mainFill:In,activeStroke:Or,activeFill:Dr,inactiveStroke:Ea,inactiveFill:Dr,selectedStroke:Or,selectedFill:Zr,highlightStroke:ei,highlightFill:bi,disableStroke:Jn,disableFill:Yn,edgeMainStroke:Jn,edgeActiveStroke:Or,edgeInactiveStroke:fa,edgeSelectedStroke:Or,edgeHighlightStroke:Or,edgeDisableStroke:ua,comboMainStroke:Jn,comboMainFill:xa,comboActiveStroke:Or,comboActiveFill:Dr,comboInactiveStroke:Jn,comboInactiveFill:xa,comboSelectedStroke:Or,comboSelectedFill:xa,comboHighlightStroke:ei,comboHighlightFill:xa,comboDisableStroke:fa,comboDisableFill:Yn},mn={version:"0.2.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Rn.mainStroke,fill:In},size:20,color:Rn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Rn.activeFill,stroke:Rn.activeStroke}},nodeStateStyles:{active:{fill:Rn.activeFill,stroke:Rn.activeStroke,lineWidth:2,shadowColor:Rn.mainStroke,shadowBlur:10},selected:{fill:Rn.selectedFill,stroke:Rn.selectedStroke,lineWidth:4,shadowColor:Rn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Rn.highlightFill,stroke:Rn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Rn.inactiveFill,stroke:Rn.inactiveStroke,lineWidth:1},disable:{fill:Rn.disableFill,stroke:Rn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:ln,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Rn.edgeMainStroke,lineAppendWidth:2},color:Rn.edgeMainStroke},edgeStateStyles:{active:{stroke:Rn.edgeActiveStroke,lineWidth:1},selected:{stroke:Rn.edgeSelectedStroke,lineWidth:2,shadowColor:Rn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Rn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Rn.edgeInactiveStroke,lineWidth:1},disable:{stroke:Rn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:ln,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Rn.comboMainFill,lineWidth:1,stroke:Rn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Rn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Rn.comboActiveStroke,lineWidth:1,fill:Rn.comboActiveFill},selected:{stroke:Rn.comboSelectedStroke,lineWidth:2,fill:Rn.comboSelectedFill,shadowColor:Rn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Rn.comboHighlightStroke,lineWidth:2,fill:Rn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Rn.comboInactiveStroke,fill:Rn.comboInactiveFill,lineWidth:1},disable:{stroke:Rn.comboDisableStroke,fill:Rn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},oi={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},za=Math.PI,pa=Math.sin,Oe=Math.cos,le=pa(za/8),je=Oe(za/8),Qe=function(n,t){var e=n.getBBox(),r={x:e.minX,y:e.minY},o={x:e.maxX,y:e.maxY};if(t){var u=t.getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),r=Go(r,u),o=Go(o,u)}var d=r.x,y=r.y,P=o.x,F=o.y;return{x:d,y,minX:d,minY:y,maxX:P,maxY:F,width:P-d,height:F-y}},br=function(n){var t=n.sourceNode||n.targetNode,e=t.get("group"),r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var o=t.getKeyShape(),u=o.getBBox(),d=n.loopCfg||{},y=d.dist||Math.max(u.width,u.height)*2,P=d.position||mn.defaultLoopPosition,F=[r[6],r[7]],k=[n.startPoint.x,n.startPoint.y],rt=[n.endPoint.x,n.endPoint.y],ut=u.height/2,pt=u.height/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je;if(k[0]===rt[0]&&k[1]===rt[1]){switch(P){case"top":k=[F[0]-Et,F[1]-Lt],rt=[F[0]+Gt,F[1]-Rt];break;case"top-right":ut=u.height/2,pt=u.width/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]+Et,F[1]-Lt],rt=[F[0]+Rt,F[1]-Gt];break;case"right":ut=u.width/2,pt=u.width/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]+Lt,F[1]-Et],rt=[F[0]+Rt,F[1]+Gt];break;case"bottom-right":ut=u.width/2,pt=u.height/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]+Lt,F[1]+Et],rt=[F[0]+Gt,F[1]+Rt];break;case"bottom":ut=u.height/2,pt=u.height/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]+Et,F[1]+Lt],rt=[F[0]-Gt,F[1]+Rt];break;case"bottom-left":ut=u.height/2,pt=u.width/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]-Et,F[1]+Lt],rt=[F[0]-Rt,F[1]+Gt];break;case"left":ut=u.width/2,pt=u.width/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]-Lt,F[1]+Et],rt=[F[0]-Rt,F[1]-Gt];break;case"top-left":ut=u.width/2,pt=u.height/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]-Lt,F[1]-Et],rt=[F[0]-Gt,F[1]-Rt];break;default:ut=u.width/2,pt=u.width/2,Et=ut*le,Lt=ut*je,Gt=pt*le,Rt=pt*je,k=[F[0]-Et,F[1]-Lt],rt=[F[0]+Gt,F[1]-Rt]}if(d.clockwise===!1){var Xt=[k[0],k[1]];k=[rt[0],rt[1]],rt=[Xt[0],Xt[1]]}}var Zt=[k[0]-F[0],k[1]-F[1]],_t=(ut+y)/ut,ie=(pt+y)/pt;d.clockwise===!1&&(_t=(pt+y)/pt,ie=(ut+y)/ut);var ce=qn.c.scale([0,0],Zt,_t),be=[F[0]+ce[0],F[1]+ce[1]],Pe=[rt[0]-F[0],rt[1]-F[1]],Se=qn.c.scale([0,0],Pe,ie),Ue=[F[0]+Se[0],F[1]+Se[1]];return n.startPoint={x:k[0],y:k[1]},n.endPoint={x:rt[0],y:rt[1]},n.controlPoints=[{x:be[0],y:be[1]},{x:Ue[0],y:Ue[1]}],n},Qr=function(n,t,e,r,o){var u=1e-4,d=[],y=n.getPoint(t);if(y===null)return{x:0,y:0,angle:0};if(t<u)d=n.getStartTangent().reverse();else if(t>1-u)d=n.getEndTangent();else{var P=n.getPoint(t+u);d.push([y.x,y.y]),d.push([P.x,P.y])}var F=Math.atan2(d[1][1]-d[0][1],d[1][0]-d[0][0]);if(F<0&&(F+=za*2),e&&(y.x+=Oe(F)*e,y.y+=pa(F)*e),r){var k=F-za/2;F>1/2*za&&F<3*1/2*za&&(k-=za),y.x+=Oe(k)*r,y.y+=pa(k)*r}var rt={x:y.x,y:y.y,angle:F};return o?(F>1/2*za&&F<3*1/2*za&&(F-=za),Object(ge.a)({rotate:F},rt)):rt},ta=function l(n,t){if(t(n)===!1)return!1;if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!l(n.children[e],t))return!1}return!0},Ja=function l(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!l(n.children[e],t))return}return t(n)!==!1},si=function(n,t){typeof t=="function"&&ta(n,t)},No=function(n,t){typeof t=="function"&&Ja(n,t)},Es=function(n,t){return t*(oi[n]||1)},So=function(n,t){var e=0,r=new RegExp("[\u4E00-\u9FA5]+");return n.split("").forEach(function(o){r.test(o)?e+=t:e+=Es(o,t)}),[e,t]},Ms=function(n,t){var e=[],r={},o={};n.forEach(function(y){o[y.id]=y}),n.forEach(function(y,P){var F=Object(p.e)(y);F.itemType="combo",F.children=void 0,F.parentId===F.id?(console.warn("The parentId for combo "+F.id+" can not be the same as the combo's id"),delete F.parentId):F.parentId&&!o[F.parentId]&&(console.warn("The parent combo for combo "+F.id+" does not exist!"),delete F.parentId);var k=r[F.id];if(k){if(F.children=k.children,r[F.id]=F,k=F,!k.parentId){e.push(k);return}var rt=r[k.parentId];if(rt)rt.children?rt.children.push(F):rt.children=[F];else{var ut={id:k.parentId,children:[k]};r[k.parentId]=ut,r[F.id]=F}return}if(Object(p.O)(y.parentId)){var pt=r[y.parentId];if(pt)pt.children?pt.children.push(F):pt.children=[F],r[F.id]=F;else{var Et={id:y.parentId,children:[F]};r[Et.id]=Et,r[F.id]=F}}else e.push(F),r[F.id]=F});var u={};(t||[]).forEach(function(y){u[y.id]=y;var P=r[y.comboId];if(P){var F={id:y.id,comboId:y.comboId};P.children?P.children.push(F):P.children=[F],F.itemType="node",r[y.id]=F}});var d=0;return e.forEach(function(y){y.depth=d+10,ta(y,function(P){var F,k=r[P.id].itemType;k==="node"?F=r[P.comboId]:F=r[P.parentId],F&&k==="node"?P.depth=d+1:P.depth=d+10,d<P.depth&&(d=P.depth);var rt=u[P.id];return rt&&(rt.depth=P.depth),!0})}),e},au=function(n,t,e){var r=n,o,u={root:{children:n}},d=!1,y="root";(n||[]).forEach(function(ut){if(!d){if(ut.id===t){o=ut,ut.itemType==="combo"?o.parentId=e:o.comboId=e,d=!0;return}si(ut,function(pt){return u[pt.id]={children:pt.children},r=u[pt.parentId||pt.comboId||"root"].children,pt&&(pt.removed||t===pt.id)&&r?(y=pt.parentId||pt.comboId||"root",o=pt,pt.itemType==="combo"?o.parentId=e:o.comboId=e,d=!0,!1):!0})}}),r=u[y].children;var P=r?r.indexOf(o):-1;if(P>-1&&r.splice(P,1),d||(o={id:t,itemType:"node",comboId:e},u[t]={children:void 0}),t){var F=!1;if(e){var k=0;(n||[]).forEach(function(ut){F||si(ut,function(pt){return e===pt.id?(F=!0,pt.children?pt.children.push(o):pt.children=[o],k=pt.depth,o.itemType==="node"?o.depth=k+2:o.depth=k+1,!1):!0})})}else(!e||!F)&&o.itemType!=="node"&&n.push(o);var rt=o.depth;si(o,function(ut){return ut.itemType==="node"?rt+=2:rt+=1,ut.depth=rt,!0})}return n},rs=function(n,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!n||n.length===0||(n.forEach(function(r){var o=t.findById(r.id);if(!(!o||!o.isVisible())){o.set("bboxCanvasCache",void 0);var u=o.getCanvasBBox();u.x&&e.minX>u.minX&&(e.minX=u.minX),u.y&&e.minY>u.minY&&(e.minY=u.minY),u.x&&e.maxX<u.maxX&&(e.maxX=u.maxX),u.y&&e.maxY<u.maxY&&(e.maxY=u.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(r){(e[r]===Infinity||e[r]===-Infinity)&&(e[r]=void 0)})),e},Xu=function(n){var t=Object(p.K)(n.x)||Object(p.K)(n.y)||n.type||n.anchorPoints||n.size;return n.style&&(t=t||Object(p.K)(n.style.r)||Object(p.K)(n.style.width)||Object(p.K)(n.style.height)||Object(p.K)(n.style.rx)||Object(p.K)(n.style.ry)),t},iu=function(n){var t={};return Object.keys(n).forEach(function(e){var r=n[e];if(Object(p.M)(r)){var o={};Object.keys(r).forEach(function(u){var d=r[u];u==="img"&&!Object(p.O)(d)||(o[u]=Object(p.e)(d))}),t[e]=o}else t[e]=Object(p.e)(r)}),t},ou=function(n){if(!n)return console.error("G6 Error Tips: the data must be defined"),!1;var t=n.nodes,e=n.edges,r=n.combos,o=r===void 0?[]:r;if(!t&&!e){var u=!0;return si(n,function(rt){return Object(p.O)(rt.id)?!0:(u=!1,!1)}),u}var d=(t||[]).find(function(rt){return!Object(p.O)(rt.id)});if(d)return console.warn("G6 Warning Tips: missing 'id' property, or %c"+d.id+"%c is not a string.","font-size: 20px; color: red;",""),!1;var y=(t||[]).map(function(rt){return rt.id}),P=o.map(function(rt){return rt.id}),F=Object(ge.f)(Object(ge.f)([],y),P),k=(e||[]).find(function(rt){return!F.includes(rt.source)||!F.includes(rt.target)});return k?(console.warn("G6 Warning Tips: The source %c"+k.source+"%c or the target %c"+k.target+"%c of the edge do not exist in the nodes or combos.","font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},ns=function(n,t){if(n==="node"||n==="combo"){if(t.id&&!Object(p.O)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c"+t.id+"%c is not a string.","font-size: 20px; color: red;",""),!1}else if(n==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},Bc=function(){function l(n){this.graph=n,this.destroyed=!1,this.modes=n.get("modes")||{default:[]},this.formatModes(),this.mode=n.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return l.prototype.formatModes=function(){var n=this.modes;Object(p.j)(n,function(t){Object(p.j)(t,function(e,r){Object(p.O)(e)&&(t[r]={type:e})})})},l.prototype.setBehaviors=function(n){var t=this.graph,e=this.modes[n],r=[],o;Object(p.j)(e||[],function(u){var d=uo.getBehavior(u.type||u);!d||(o=new d(u),o&&(o.bind(t),r.push(o)))}),this.currentBehaves=r},l.mergeBehaviors=function(n,t){return Object(p.j)(t,function(e){n.indexOf(e)<0&&(Object(p.O)(e)&&(e={type:e}),n.push(e))}),n},l.filterBehaviors=function(n,t){var e=[];return n.forEach(function(r){var o="";Object(p.O)(r)?o=r:o=r.type,t.indexOf(o)<0&&e.push(r)}),e},l.prototype.setMode=function(n){var t=this,e=t.modes,r=t.graph,o=n,u=e[o];!u||(r.emit("beforemodechange",{mode:n}),Object(p.j)(this.currentBehaves,function(d){d.delegate&&d.delegate.remove(),d.unbind(r)}),this.setBehaviors(o),r.emit("aftermodechange",{mode:n}),this.mode=n)},l.prototype.getMode=function(){return this.mode},l.prototype.manipulateBehaviors=function(n,t,e){var r=this,o;if(Object(p.B)(n)?o=n:o=[n],Object(p.B)(t))return Object(p.j)(t,function(d){r.modes[d]?e?r.modes[d]=l.mergeBehaviors(r.modes[d]||[],o):r.modes[d]=l.filterBehaviors(r.modes[d]||[],o):e&&(r.modes[d]=o)}),this;var u=t;return t||(u=this.mode),this.modes[u]||e&&(this.modes[u]=o),e?this.modes[u]=l.mergeBehaviors(this.modes[u]||[],o):this.modes[u]=l.filterBehaviors(this.modes[u]||[],o),this.setMode(this.mode),this},l.prototype.updateBehavior=function(n,t,e){Object(p.O)(n)&&(n={type:n});var r=[];if(!e||e===this.mode||e==="default"){if(r=this.currentBehaves,!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,u=0;u<o;u++){var d=r[u];if(d.type===n.type)return d.updateCfg(t),this;u===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(r=this.modes[e],!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var y=r.length,u=0;u<y;u++){var d=r[u];if(d.type===n.type||d===n.type)return d===n.type&&(d={type:d}),Object.assign(d,t),r[u]=d,this;u===y-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},l.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},l}(),Rf=Bc,ra=a("m8xh"),ks=a("jsfD"),wf=function(l){Object(ge.c)(n,l);function n(t,e){var r=l.call(this,t,e)||this;return r.item=e.item,r.canvasX=e.canvasX,r.canvasY=e.canvasY,r.wheelDelta=e.wheelDelta,r.detail=e.detail,r}return n}(ks.Event),Hu=function(n){return n+"-"+Math.random()+Date.now()},su=function(n){var t=0,e=0,r=0,o=0;if(Object(p.K)(n))t=e=r=o=n;else if(Object(p.O)(n)){var u=parseInt(n,10);t=e=r=o=u}else Object(p.B)(n)&&(t=n[0],r=Object(p.I)(n[1])?n[0]:n[1],o=Object(p.I)(n[2])?n[0]:n[2],e=Object(p.I)(n[3])?r:n[3]);return[t,r,o,e]},Nc=function(n){var t=new wf(n.type,n);return t.clientX=n.clientX,t.clientY=n.clientY,t.x=n.x,t.y=n.y,t.target=n.target,t.currentTarget=n.currentTarget,t.bubbles=!0,t.item=n.item,t},Vs=function(n){if(!n)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],r=0;r<t;r++)if(n[r]!==e[r])return!0;return!1},ao=function(n){return Number.isNaN(Number(n))},Ss=function(n){for(var t=Infinity,e=-Infinity,r=Infinity,o=-Infinity,u=0;u<n.length;u++){var d=n[u],y=d.getBBox(),P=y.minX,F=y.minY,k=y.maxX,rt=y.maxY;P<t&&(t=P),F<r&&(r=F),k>e&&(e=k),rt>o&&(o=rt)}var ut=Math.floor(t),pt=Math.floor(r),Et=Math.ceil(e)-Math.floor(t),Lt=Math.ceil(o)-Math.floor(r);return{x:ut,y:pt,width:Et,height:Lt,minX:t,minY:r,maxX:e,maxY:o}},lu=function(n,t,e,r,o){t===void 0&&(t=15),e===void 0&&(e="quadratic"),r===void 0&&(r=void 0),o===void 0&&(o=void 0);for(var u=n.length,d=t*2,y=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],P={},F=[],k={},rt=0;rt<u;rt++){var ut=n[rt],pt=ut.source,Et=ut.target,Lt=pt+"-"+Et;if(!F[rt]){P[Lt]||(P[Lt]=[]),F[rt]=!0,P[Lt].push(ut);for(var Gt=0;Gt<u;Gt++)if(rt!==Gt){var Rt=n[Gt],Xt=Rt.source,Zt=Rt.target;F[Gt]||(pt===Zt&&Et===Xt?(P[Lt].push(Rt),F[Gt]=!0,k[Xt+"|"+Zt+"|"+(P[Lt].length-1)]=!0):pt===Xt&&Et===Zt&&(P[Lt].push(Rt),F[Gt]=!0))}}}for(var _t in P)for(var ie=P[_t],ce=ie.length,be=0;be<ce;be++){var Pe=ie[be];if(Pe.source===Pe.target){o&&(Pe.type=o),Pe.loopCfg={position:y[be%8],dist:Math.floor(be/8)*20+50};continue}if(ce===1&&r&&Pe.source!==Pe.target){Pe.type=r;continue}Pe.type=e;var Se=(be%2==0?1:-1)*(k[Pe.source+"|"+Pe.target+"|"+be]?-1:1);ce%2==1?Pe.curveOffset=Se*Math.ceil(be/2)*d:Pe.curveOffset=Se*(Math.floor(be/2)*d+t)}return n},Bf=function(){function l(n){this.destroyed=!1,this.graph=n,this.destroyed=!1}return l.prototype.getViewCenter=function(){var n=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),r=t.get("height");return{x:(e-n[1]-n[3])/2+n[3],y:(r-n[0]-n[2])/2+n[0]}},l.prototype.fitCenter=function(){var n=this.graph,t=n.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var r=this.getViewCenter(),o={x:e.x+e.width/2,y:e.y+e.height/2};n.translate(r.x-o.x,r.y-o.y)}},l.prototype.fitView=function(){var n=this.graph,t=this.getFormatPadding(),e=n.get("width"),r=n.get("height"),o=n.get("group");o.resetMatrix();var u=o.getCanvasBBox();if(!(u.width===0||u.height===0)){var d=this.getViewCenter(),y={x:u.x+u.width/2,y:u.y+u.height/2};n.translate(d.x-y.x,d.y-y.y);var P=(e-t[1]-t[3])/u.width,F=(r-t[0]-t[2])/u.height,k=P;P>F&&(k=F),n.zoom(k,d)}},l.prototype.getFormatPadding=function(){var n=this.graph.get("fitViewPadding");return su(n)},l.prototype.focusPoint=function(n,t,e){var r=this,o=this.getViewCenter(),u=this.getPointByCanvas(o.x,o.y),d=this.graph.get("group").getMatrix();if(d||(d=[1,0,0,0,1,0,0,0,1]),t){var y=(u.x-n.x)*d[0],P=(u.y-n.y)*d[4],F=0,k=0,rt=0,ut=0;this.graph.get("canvas").animate(function(pt){rt=y*pt,ut=P*pt,r.graph.translate(rt-F,ut-k),F=rt,k=ut},Object(ge.a)({},e))}else this.graph.translate((u.x-n.x)*d[0],(u.y-n.y)*d[4])},l.prototype.getPointByCanvas=function(n,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=Uo({x:n,y:t},e);return r},l.prototype.getPointByClient=function(n,t){var e=this.graph.get("canvas"),r=e.getPointByClient(n,t);return this.getPointByCanvas(r.x,r.y)},l.prototype.getClientByPoint=function(n,t){var e=this.graph.get("canvas"),r=this.getCanvasByPoint(n,t),o=e.getClientByPoint(r.x,r.y);return{x:o.x,y:o.y}},l.prototype.getCanvasByPoint=function(n,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Go({x:n,y:t},e)},l.prototype.focus=function(n,t,e){Object(p.O)(n)&&(n=this.graph.findById(n));var r=n.get("group"),o=r.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n&&this.focusPoint({x:o[6],y:o[7]},t,e)},l.prototype.changeSize=function(n,t){var e=this.graph;if(!Object(p.K)(n)||!Object(p.K)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:n,height:t});var r=e.get("canvas");r.changeSize(n,t);var o=e.get("plugins");o.forEach(function(u){if(u.get("gridContainer")){var d=e.get("minZoom");Object(ra.e)(u.get("container"),{width:n+"px",height:t+"px"}),Object(ra.e)(u.get("gridContainer"),{width:n/d+"px",height:t/d+"px",left:0,top:0})}})},l.prototype.destroy=function(){this.graph=null,this.destroyed=!1},l}(),Fh=Bf;function uu(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(l)}function Cs(l){if(typeof l!="string")return l;var n=function(ce){if(typeof ce!="string")return ce;try{return JSON.parse(ce.trim())}catch(be){return ce.trim()}},t=n(l);if(typeof t!="string")return t;for(var e=function(ce){return ce[ce.length-1]},r=l.trim(),o=[],u=[],d=function(){for(var ce=[],be=0;be<arguments.length;be++)ce[be]=arguments[be];return ce.some(function(Pe){return e(u)===Pe})},y=function(){return e(o)},P=null,F=0,k="";F<r.length;){var rt=r[F],ut=d('"',"'");if(!ut&&!rt.trim()){F+=1;continue}var pt=r[F-1]==="\\",Et=d("}"),Lt=d("]"),Gt=d(","),Rt=y();if(ut)if(e(u)===rt&&!pt){u.pop();var Xt=n(k);Rt.push(Xt),P=Xt,k=""}else k+=rt;else if(Lt&&rt===",")k&&(Rt.push(n(k)),k="");else if(Et&&rt===":")u.push(","),k&&(Rt.push(k),k="");else if(Gt&&rt===",")k&&(Rt.push(n(k)),k=""),u.pop();else if(rt==="}"&&(Et||Gt)){k&&(Rt.push(n(k)),k=""),Gt&&u.pop();for(var Zt={},_t=1;_t<Rt.length;_t+=2)Zt[Rt[_t-1]]=Rt[_t];o.pop(),o.length&&e(o).push(Zt),u.pop(),P=Zt}else rt==="]"&&Lt?(k&&(Rt.push(n(k)),k=""),o.pop(),o.length&&e(o).push(Rt),u.pop(),P=Rt):rt==="{"?(o.push([]),u.push("}")):rt==="["?(o.push([]),u.push("]")):rt==='"'?u.push('"'):rt==="'"?u.push("'"):k+=rt;F+=1}return P||k}var Gh=function(n){return n.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},Fc=function(n){return function(t){for(var e=n.length,r=[],o=0,u="";o<e;)if(n[o]==="{"&&n[o+1]==="{")r.push(u),u="",o+=2;else if(n[o]==="}"&&n[o+1]==="}"){if(r.length){var d=r.pop();u=Object(p.s)(t,u,d.endsWith("=")?'"{'+u+'}"':u),r.push(d+u)}o+=2,u=""}else u+=n[o],o+=1;return r.push(u),r.map(function(y,P){return r[P-1]&&r[P-1].endsWith("=")?'"{'+y+'}"':y}).join("")}};function Nf(l,n){var t={},e=l.getAttributeNames&&l.getAttributeNames()||[],r=l.children&&Array.from(l.children).map(function(d){return Nf(d,n)}),o={},u=l.tagName?l.tagName.toLowerCase():"group";return u==="text"&&(t.text=l.innerText),o.type=u,u==="img"&&(o.type="image"),Array.from(e).forEach(function(d){var y=Gh(d),P=l.getAttribute(d);try{if(y==="style"||y==="attrs"){var F=Cs(P);t=Object(ge.a)(Object(ge.a)({},t),F)}else o[y]=Cs(P)}catch(k){if(y==="style")throw k;o[y]=P}}),o.attrs=t,n&&n.style&&o.name&&uu(n.style[o.name])==="object"&&(o.attrs=Object(ge.a)(Object(ge.a)({},o.attrs),n.style[o.name])),n&&n.style&&o.keyshape&&(o.attrs=Object(ge.a)(Object(ge.a)({},o.attrs),n.style)),r.length&&(o.children=r),o}function cu(l,n,t){var e=l.attrs,r=e===void 0?{}:e,o={x:n.x||0,y:n.y||0,width:t.width||0,height:t.height||0},u,d;switch(l.type){case"maker":case"circle":r.r&&(d=2*r.r,u=2*r.r);break;case"text":r.text&&(d=So(r.text,r.fontSize||12)[0],u=16,o.y+=u,o.height=u,o.width=d,l.attrs=Object(ge.a)({fontSize:12,fill:"#000"},r));break;default:r.width&&(d=r.width),r.height&&(u=r.height)}return u>=0&&(o.height=u),d>=0&&(o.width=d),r.marginTop&&(o.y+=r.marginTop),r.marginLeft&&(o.x+=r.marginLeft),o}function Gc(l,n){var t;n===void 0&&(n={x:0,y:0});var e=Object(ge.a)({x:0,y:0,width:0,height:0},n);if((t=l.children)===null||t===void 0?void 0:t.length){var r=l.attrs,o=r===void 0?{}:r,u=o.marginTop,d=Object(ge.a)({},n);u&&(d.y+=u);for(var y=0;y<l.children.length;y++){l.children[y].attrs.key=(o.key||"root")+" -"+y+" ";var P=Gc(l.children[y],d);if(P.bbox){var F=P.bbox;P.attrs.next==="inline"?d.x+=P.bbox.width:d.y+=P.bbox.height,F.width+F.x>e.width&&(e.width=F.width+F.x),F.height+F.y>e.height&&(e.height=F.height+F.y)}}}return l.bbox=cu(l,n,e),l.attrs=Object(ge.a)(Object(ge.a)({},l.attrs),l.bbox),l}function fu(l,n){var t,e,r,o,u=(l||{}).type,d=((n==null?void 0:n.attrs)||{}).key;if(d&&l&&(l.attrs.key=d),!l&&n)return{action:"delete",val:n,type:u,key:d};if(l&&!n)return{action:"add",val:l,type:u};if(!l&&!n)return{action:"same",type:u};var y=[];if(((t=l.children)===null||t===void 0?void 0:t.length)>0||((e=n.children)===null||e===void 0?void 0:e.length)>0)for(var P=Math.max((r=l.children)===null||r===void 0?void 0:r.length,(o=n.children)===null||o===void 0?void 0:o.length),F=n.children||[],k=l.children||[],rt=0;rt<P;rt+=1)y.push(fu(k[rt],F[rt]));var ut=Object.keys(n.attrs),pt=Object.keys(l.attrs);return n.type!==l.type?{action:"restructure",nowTarget:l,formerTarget:n,key:d,children:y}:ut.filter(function(Et){return Et!=="children"}).some(function(Et){return l.attrs[Et]!==n.attrs[Et]||!pt.includes(Et)})?{action:"change",val:l,children:y,type:u,key:d}:{action:"same",children:y,type:u,key:d}}function Yu(l){var n={},t=function(r){var o=typeof l=="function"?l(r):l,u=Fc(o)(r),d=document.createElement("div");d.innerHTML=u;var y=d.children[0],P=Gc(Nf(y,r));return d.remove(),P};return{draw:function(r,o){var u=t(r),d=o,y=function P(F){var k=F.attrs,rt=k===void 0?{}:k,ut=F.bbox,pt=F.type,Et=F.children,Lt=Object(ge.e)(F,["attrs","bbox","type","children"]);if(F.type!=="group"){var Gt=o.addShape(F.type,Object(ge.a)({attrs:rt,origin:{bbox:ut,type:pt,children:Et}},Lt));F.keyshape&&(d=Gt)}F.children&&F.children.forEach(function(Rt){return P(Rt)})};return y(u),n[r.id]=[u],d},update:function(r,o){n[r.id]||(n[r.id]=[]);var u=o.getContainer(),d=u.get("children"),y=t(r),P=n[r.id].pop(),F=fu(y,P),k=function pt(Et){var Lt;Et.type!=="group"&&u.addShape(Et.type,{attrs:Et.attrs}),((Lt=Et.children)===null||Lt===void 0?void 0:Lt.length)&&Et.children.map(function(Gt){return pt(Gt)})},rt=function pt(Et){var Lt,Gt=d.find(function(Rt){return Rt.attrs.key===Et.attrs.key});Gt&&u.removeChild(Gt),((Lt=Et.children)===null||Lt===void 0?void 0:Lt.length)&&Et.children.map(function(Rt){return pt(Rt)})},ut=function pt(Et){var Lt=Et.key;if(Et.type!=="group"){var Gt=d.find(function(Xt){return Xt.attrs.key===Lt});switch(Et.action){case"change":if(Gt){var Rt=Et.val.keyshape?o.getOriginStyle():{};Gt.attr(Object(ge.a)(Object(ge.a)({},Rt),Et.val.attrs))}break;case"add":k(Et.val);break;case"delete":rt(Et.val);break;case"restructure":rt(Et.formerTarget),k(Et.nowTarget);break;default:break}}Et.children&&Et.children.forEach(function(Xt){return pt(Xt)})};ut(F),n[r.id].push(y)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Xs={};function hu(l){return Xs[l]||(Xs[l]=Object(p.tb)(l)),Xs[l]}var Co={defaultShapeType:"defaultType",className:null,getShape:function(n){var t=this,e=t[n]||t[t.defaultShapeType]||t["simple-circle"];return e},draw:function(n,t,e){var r=this.getShape(n),o=r.draw(t,e);return r.afterDraw&&r.afterDraw(t,e,o),o},baseUpdate:function(n,t,e){var r=this.getShape(n);r.update&&r.update(t,e),r.afterUpdate&&r.afterUpdate(t,e)},setState:function(n,t,e,r){var o=this.getShape(n);o.setState(t,e,r)},shouldUpdate:function(n){var t=this.getShape(n);return!!t.update},getControlPoints:function(n,t){var e=this.getShape(n);return e.getControlPoints(t)},getAnchorPoints:function(n,t){var e=this.getShape(n);return e.getAnchorPoints(t)}},Dl={options:{},draw:function(n,t){return this.drawShape(n,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.options.anchorPoints,e=n.anchorPoints||t;return e}},Ku=function(){function l(){}return l.registerFactory=function(n,t){var e=hu(n),r=Co,o=Object(ge.a)(Object(ge.a)({},r),t);return l[e]=o,o.className=e,o},l.getFactory=function(n){var t=hu(n);return l[t]},l.registerNode=function(n,t,e){var r=l.Node,o;if(typeof t=="string"||typeof t=="function"){var u=Yu(t);o=Object(ge.a)(Object(ge.a)({},r.getShape("single-node")),u)}else if(t.jsx){var d=t.jsx,u=Yu(d);o=Object(ge.a)(Object(ge.a)(Object(ge.a)({},r.getShape("single-node")),u),t)}else{r.getShape(e);var y=e?r.getShape(e):Dl;o=Object(ge.a)(Object(ge.a)({},y),t)}return o.type=n,o.itemType="node",r[n]=o,o},l.registerEdge=function(n,t,e){var r=l.Edge,o=e?r.getShape(e):Dl,u=Object(ge.a)(Object(ge.a)({},o),t);return u.type=n,u.itemType="edge",r[n]=u,u},l.registerCombo=function(n,t,e){var r=l.Combo,o=e?r.getShape(e):Dl,u=Object(ge.a)(Object(ge.a)({},o),t);return u.type=n,u.itemType="combo",r[n]=u,u},l}(),_i=Ku;Ku.registerFactory("node",{defaultShapeType:"circle"}),Ku.registerFactory("edge",{defaultShapeType:"line"}),Ku.registerFactory("combo",{defaultShapeType:"circle"});var ms="bboxCache",Mi="bboxCanvasCache",Ff=["startArrow","endArrow"],Uh=function(){function l(n){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),n);var e=this.get("model"),r=e.id,o=this.get("type");r||(r=Hu(o),this.get("model").id=r),this.set("id",r);var u=n.group;u&&(u.set("item",this),u.set("id",r)),this.init(),this.draw();var d=e.shape||e.type||(o==="edge"?"line":"circle"),y=this.get("shapeFactory");if(y&&y[d]){var P=y[d].options;if(P&&P.stateStyles){var F=this.get("styles")||e.stateStyles;F=Object(p.h)({},P.stateStyles,F),this.set("styles",F)}}}return l.prototype.calculateBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=Qe(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},l.prototype.calculateCanvasBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=Qe(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},l.prototype.drawInner=function(){var n=this,t=n.get("shapeFactory"),e=n.get("group"),r=n.get("model");e.clear();var o=r.visible;if(o!==void 0&&!o&&n.changeVisibility(o),!!t){n.updatePosition(r);var u=n.getShapeCfg(r),d=u.type,y=t.draw(d,u,e);y&&(n.set("keyShape",y),y.set("isKeyShape",!0),y.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",d),this.restoreStates(t,d)}},l.prototype.setOriginStyle=function(){var n=this.get("group"),t=n.get("children"),e=this.getKeyShape(),r=this,o=e.get("name");if(this.get("originStyle")){var d=this.getOriginStyle();o&&!d[o]&&(d[o]={});var y=this.getCurrentStatesStyle();Object(p.j)(t,function(P){var F=P.get("name"),k=P.attr();if(F&&F!==o){var rt=y[F];d[F]||(d[F]={}),rt?Object.keys(k).forEach(function(Et){var Lt=k[Et];Lt!==rt[Et]&&(d[F][Et]=Lt)}):d[F]=P.get("type")!=="image"?Object(p.e)(k):r.getShapeStyleByName(F)}else{var ut=P.attr(),pt=Object(ge.a)(Object(ge.a)({},y),y[o]);Object.keys(ut).forEach(function(Et){var Lt=ut[Et];pt[Et]!==Lt&&(o?d[o][Et]=Lt:d[Et]=Lt)})}}),d.path&&delete d.path,d.matrix&&delete d.matrix,d.x&&delete d.x,d.y&&delete d.y,d[o]&&d[o].x&&delete d[o].x,d[o]&&d[o].y&&delete d[o].y,r.set("originStyle",d)}else{var u={};Object(p.j)(t,function(P){var F=P.get("type"),k=P.get("name");if(k&&k!==o)u[k]=F!=="image"?Object(p.e)(P.attr()):r.getShapeStyleByName(k);else{var rt=r.getShapeStyleByName();if(rt.path&&delete rt.path,rt.matrix&&delete rt.matrix,!o)Object.assign(u,rt);else if(k)u[o]=rt;else{var ut=Hu("shape");P.set("name",ut),u[ut]=F!=="image"?Object(p.e)(P.attr()):r.getShapeStyleByName(k)}}}),r.set("originStyle",u)}},l.prototype.restoreStates=function(n,t){var e=this,r=e.get("states");Object(p.j)(r,function(o){n.setState(t,o,!0,e)})},l.prototype.init=function(){var n=_i.getFactory(this.get("type"));this.set("shapeFactory",n)},l.prototype.get=function(n){return this._cfg[n]},l.prototype.set=function(n,t){Object(p.N)(n)?this._cfg=Object(ge.a)(Object(ge.a)({},this._cfg),n):this._cfg[n]=t},l.prototype.getDefaultCfg=function(){return{}},l.prototype.clearCache=function(){this.set(ms,null),this.set(Mi,null)},l.prototype.beforeDraw=function(){},l.prototype.afterDraw=function(){},l.prototype.afterUpdate=function(){},l.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},l.prototype.getShapeStyleByName=function(n){var t=this.get("group"),e;if(n?e=t.find(function(o){return o.get("name")===n}):e=this.getKeyShape(),e){var r={};return Object(p.j)(e.attr(),function(o,u){u!=="img"&&(r[u]=o)}),r}return{}},l.prototype.getShapeCfg=function(n){var t=this.get("styles");if(t){var e=n;return e.style=Object(ge.a)(Object(ge.a)({},t),n.style),e}return n},l.prototype.getStateStyle=function(n){var t=this.get("styles"),e=t&&t[n];return e},l.prototype.getOriginStyle=function(){return this.get("originStyle")},l.prototype.getCurrentStatesStyle=function(){var n=this,t={},e=n.getStates();return!e||!e.length?this.getOriginStyle():(Object(p.j)(n.getStates(),function(r){t=Object.assign(t,n.getStateStyle(r))}),t)},l.prototype.setState=function(n,t){var e=this.get("states"),r=this.get("shapeFactory"),o=n,u=n;Object(p.O)(t)&&(o=n+":"+t,u=n+":");var d=e;if(Object(p.C)(t)){var y=e.indexOf(u);if(t){if(y>-1)return;e.push(o)}else y>-1&&e.splice(y,1)}else if(Object(p.O)(t)){var P=e.filter(function(rt){return rt.includes(u)});P.length>0&&this.clearStates(P),d=d.filter(function(rt){return!rt.includes(u)}),d.push(o),this.set("states",d)}if(r){var F=this.get("model"),k=F.type;r.setState(k,n,t,this)}},l.prototype.clearStates=function(n){var t=this,e=t.getStates(),r=t.get("shapeFactory"),o=t.get("model"),u=o.type;n||(n=e),Object(p.O)(n)&&(n=[n]);var d=e.filter(function(y){return n.indexOf(y)===-1});t.set("states",d),n.forEach(function(y){r.setState(u,y,!1,t)})},l.prototype.getContainer=function(){return this.get("group")},l.prototype.getKeyShape=function(){return this.get("keyShape")},l.prototype.getModel=function(){return this.get("model")},l.prototype.getType=function(){return this.get("type")},l.prototype.getID=function(){return this.get("id")},l.prototype.isItem=function(){return!0},l.prototype.getStates=function(){return this.get("states")},l.prototype.hasState=function(n){var t=this.getStates();return t.indexOf(n)>=0},l.prototype.refresh=function(){var n=this.get("model");this.updatePosition(n),this.updateShape(),this.afterUpdate(),this.clearCache()},l.prototype.isOnlyMove=function(n){return!1},l.prototype.update=function(n,t){t===void 0&&(t=!1);var e=this.get("model"),r=e.visible,o=n.visible;r!==o&&o!==void 0&&this.changeVisibility(o);var u={x:e.x,y:e.y};n.x=isNaN(n.x)?e.x:n.x,n.y=isNaN(n.y)?e.y:n.y;var d=this.get("styles");if(n.stateStyles){var y=n.stateStyles;Object(p.bb)(d,y),delete n.stateStyles}Object.assign(e,n),t?this.updatePosition(n):((u.x!==n.x||u.y!==n.y)&&this.updatePosition(n),this.updateShape()),this.afterUpdate(),this.clearCache()},l.prototype.updateShape=function(){var n=this.get("shapeFactory"),t=this.get("model"),e=t.type;if(n.shouldUpdate(e)&&e===this.get("currentShape")){var r=this.getShapeCfg(t);n.baseUpdate(e,r,this),this.setOriginStyle()}else this.draw();this.restoreStates(n,e)},l.prototype.updatePosition=function(n){var t=this.get("model"),e=Object(p.I)(n.x)?t.x:n.x,r=Object(p.I)(n.y)?t.y:n.y,o=this.get("group");if(Object(p.I)(e)||Object(p.I)(r))return!1;t.x=e,t.y=r;var u=o.getMatrix();return u&&u[6]===e&&u[7]===r?!1:(o.resetMatrix(),xs(o,{x:e,y:r}),this.clearCache(),!0)},l.prototype.getBBox=function(){var n=this.get(ms);return n||(n=this.calculateBBox(),this.set(ms,n)),n},l.prototype.getCanvasBBox=function(){var n=this.get(Mi);return n||(n=this.calculateCanvasBBox(),this.set(Mi,n)),n},l.prototype.toFront=function(){var n=this.get("group");n.toFront()},l.prototype.toBack=function(){var n=this.get("group");n.toBack()},l.prototype.show=function(){this.changeVisibility(!0)},l.prototype.hide=function(){this.changeVisibility(!1)},l.prototype.changeVisibility=function(n){var t=this.get("group");n?t.show():t.hide(),this.set("visible",n)},l.prototype.isVisible=function(){return this.get("visible")},l.prototype.enableCapture=function(n){var t=this.get("group");t&&t.set("capture",n)},l.prototype.destroy=function(){if(!this.destroyed){var n=this.get("animate"),t=this.get("group");n&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},l}(),Uc=Uh,Ts={source:"start",target:"end"},Fo="Node",jl="Point",us="Anchor",To=function(l){Object(ge.c)(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},n.prototype.setEnd=function(t,e){var r=Ts[t]+jl,o=t+Fo,u=this.get(o);u&&!u.destroyed&&u.removeEdge(this),Object(p.N)(e)?(this.set(r,e),this.set(o,null)):(e.addEdge(this),this.set(o,e),this.set(r,null))},n.prototype.getLinkPoint=function(t,e,r){var o=Ts[t]+jl,u=t+Fo,d=this.get(o);if(!d){var y=this.get(u),P=t+us,F=this.getPrePoint(t,r),k=e[P];Object(p.I)(k)||(d=y.getLinkPointByAnchor(k)),d=d||y.getLinkPoint(F),Object(p.I)(d.index)||this.set(t+"AnchorIndex",d.index)}return d},n.prototype.getPrePoint=function(t,e){if(e&&e.length){var r=t==="source"?0:e.length-1;return e[r]}var o=t==="source"?"target":"source";return this.getEndPoint(o)},n.prototype.getEndPoint=function(t){var e=t+Fo,r=Ts[t]+jl,o=this.get(e);return o?o.get("model"):this.get(r)},n.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),r=this.getEndPoint("target"),o=this.get("shapeFactory"),u=t.type;return o.getControlPoints(u,{startPoint:e,endPoint:r})},n.prototype.getEndCenter=function(t){var e=t+Fo,r=Ts[t]+jl,o=this.get(e);if(o){var u=o.getBBox();return{x:u.centerX,y:u.centerY}}return this.get(r)},n.prototype.init=function(){l.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},n.prototype.getShapeCfg=function(t){var e=this,r=e.get("linkCenter"),o=l.prototype.getShapeCfg.call(this,t);if(r)o.startPoint=e.getEndCenter("source"),o.endPoint=e.getEndCenter("target");else{var u=o.controlPoints||e.getControlPointsByCenter(o);o.startPoint=e.getLinkPoint("source",t,u),o.endPoint=e.getLinkPoint("target",t,u)}return o.sourceNode=e.get("sourceNode"),o.targetNode=e.get("targetNode"),o},n.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Fo),r=this.get("target"+Fo);return e?delete t["source"+Fo]:t.source=this.get("start"+jl),r?delete t["target"+Fo]:t.target=this.get("end"+jl),!Object(p.O)(t.source)&&!Object(p.N)(t.source)&&(t.source=t.source.getID()),!Object(p.O)(t.target)&&!Object(p.N)(t.target)&&(t.target=t.target.getID()),t},n.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},n.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},n.prototype.getSource=function(){return this.get("source")},n.prototype.getTarget=function(){return this.get("target")},n.prototype.updatePosition=function(){return!1},n.prototype.update=function(t,e){e===void 0&&(e=!1);var r=this.get("model"),o=r.visible,u=t.visible;o!==u&&u!==void 0&&this.changeVisibility(u);var d=this.get("styles");if(t.stateStyles){var y=t.stateStyles;Object(p.bb)(d,y),delete t.stateStyles}Object.assign(r,t),this.updateShape(),this.afterUpdate(),this.clearCache()},n.prototype.destroy=function(){var t=this.get("source"+Fo),e=this.get("target"+Fo);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),l.prototype.destroy.call(this)},n}(Uc),cs=To,Zu="anchorPointsCache",$u="bboxCache",Wh=function(l){Object(ge.c)(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getNearestPoint=function(t,e){for(var r=0,o=t[0],u=Wo(t[0],e),d=0;d<t.length;d++){var y=t[d],P=Wo(y,e);P<u&&(o=y,u=P,r=d)}return o.anchorIndex=r,o},n.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},n.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},n.prototype.getNeighbors=function(t){var e=this,r=this.get("edges");if(t==="target"){var o=function(P){return P.getSource()===e};return r.filter(o).map(function(y){return y.getTarget()})}if(t==="source"){var u=function(P){return P.getTarget()===e};return r.filter(u).map(function(y){return y.getSource()})}var d=function(P){return P.getSource()===e?P.getTarget():P.getSource()};return r.map(d)},n.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},n.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),r=e.get("type"),o=this.get("type"),u,d,y=this.getBBox();o==="combo"?(u=y.centerX||(y.maxX+y.minX)/2,d=y.centerY||(y.maxY+y.minY)/2):(u=y.centerX,d=y.centerY);var P=this.getAnchorPoints(),F;switch(r){case"circle":F=ts({x:u,y:d,r:y.width/2},t);break;case"ellipse":F=Eo({x:u,y:d,rx:y.width/2,ry:y.height/2},t);break;default:F=qo(y,t)}var k=F;return P.length&&(k||(k=t),k=this.getNearestPoint(P,k)),k||(k={x:u,y:d}),k},n.prototype.getAnchorPoints=function(){var t=this.get(Zu);if(!t){t=[];var e=this.get("shapeFactory"),r=this.getBBox(),o=this.get("model"),u=this.getShapeCfg(o),d=o.type,y=e.getAnchorPoints(d,u)||[];Object(p.j)(y,function(P,F){var k={x:r.minX+P[0]*r.width,y:r.minY+P[1]*r.height,anchorIndex:F};t.push(k)}),this.set(Zu,t)}return t},n.prototype.addEdge=function(t){this.get("edges").push(t)},n.prototype.lock=function(){this.set("locked",!0)},n.prototype.unlock=function(){this.set("locked",!1)},n.prototype.hasLocked=function(){return this.get("locked")},n.prototype.removeEdge=function(t){var e=this.getEdges(),r=e.indexOf(t);r>-1&&e.splice(r,1)},n.prototype.clearCache=function(){this.set($u,null),this.set(Zu,null)},n.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!Object(p.I)(t.x),r=!Object(p.I)(t.y),o=Object.keys(t);return o.length===1&&(e||r)||o.length===2&&e&&r},n}(Uc),Qu=Wh,bs="bboxCache",du="bboxCanvasCache",Wc="sizeCache",nl="anchorPointsCache",io=function(l){Object(ge.c)(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},n.prototype.getShapeCfg=function(t){var e=this.get("styles"),r=this.get("bbox");if(e&&r){var o=t,u={r:Math.hypot(r.height,r.width)/2||mn.defaultCombo.size[0]/2,width:r.width||mn.defaultCombo.size[0],height:r.height||mn.defaultCombo.size[1]};o.style=Object(ge.a)(Object(ge.a)(Object(ge.a)({},e),t.style),u);var d=t.padding||mn.defaultCombo.padding;return Object(p.K)(d)?(u.r+=d,u.width+=d*2,u.height+=d*2):(u.r+=d[0],u.width+=d[1]+d[3]||d[1]*2,u.height+=d[0]+d[2]||d[0]*2),this.set(Wc,u),o}return t},n.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),r=Qe(t,e);r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;var o=this.get(Wc),u=this.get(bs)||{},d=u.x,y=u.x;if(o){o.width=Math.max(o.width,r.width),o.height=Math.max(o.height,r.height);var P=t.get("type");P==="circle"?(r.width=o.r*2,r.height=o.r*2):(r.width=o.width,r.height=o.height),r.minX=r.centerX-r.width/2,r.minY=r.centerY-r.height/2,r.maxX=r.centerX+r.width/2,r.maxY=r.centerY+r.height/2}else r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;return r.x=r.minX,r.y=r.minY,(r.x!==d||r.y!==y)&&this.set(nl,null),r}},n.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},n.prototype.getNodes=function(){var t=this;return t.get("nodes")},n.prototype.getCombos=function(){var t=this;return t.get("combos")},n.prototype.addChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},n.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},n.prototype.removeChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.isOnlyMove=function(t){return!1},n.prototype.getBBox=function(){this.set(du,null);var t=this.calculateCanvasBBox();return t},n.prototype.clearCache=function(){this.set(bs,null),this.set(du,null),this.set(nl,null)},n.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Wc,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},n}(Qu),zc=io,Ll="node",fs="edge",kc="vedge",As="combo",Nd="default",Vc="Mapper",Ao="stateStyles",zh=function(){function l(n){this.graph=n,this.destroyed=!1}return l.prototype.addItem=function(n,t){var e=this.graph,r=n===kc?fs:n,o=e.get(r+"Group")||e.get("group"),u=Object(p.tb)(r),d=null,y=e.get(r+Object(p.tb)(Ao))||{},P=e.get(Nd+u);t[Ao]&&(y=t[Ao]),P&&Object(p.j)(P,function(Rt,Xt){Object(p.M)(Rt)&&!Object(p.B)(Rt)?t[Xt]=Object(p.h)({},Rt,t[Xt]):Object(p.B)(Rt)?t[Xt]=t[Xt]||Object(p.e)(P[Xt]):t[Xt]=t[Xt]||P[Xt]});var F=e.get(r+Vc);if(F){var k=F(t);k[Ao]&&(y=k[Ao],delete k[Ao]),Object(p.j)(k,function(Rt,Xt){Object(p.M)(Rt)&&!Object(p.B)(Rt)?t[Xt]=Object(p.h)({},t[Xt],Rt):t[Xt]=k[Xt]||t[Xt]})}if(e.emit("beforeadditem",{type:n,model:t}),n===fs||n===kc){var rt=void 0,ut=void 0;if(rt=t.source,ut=t.target,rt&&Object(p.O)(rt)&&(rt=e.findById(rt)),ut&&Object(p.O)(ut)&&(ut=e.findById(ut)),!rt||!ut){console.warn("The source or target node of edge "+t.id+" does not exist!");return}rt.getType&&rt.getType()==="combo"&&(t.isComboEdge=!0),ut.getType&&ut.getType()==="combo"&&(t.isComboEdge=!0),d=new cs({model:t,source:rt,target:ut,styles:y,linkCenter:e.get("linkCenter"),group:o.addGroup()})}else if(n===Ll)d=new Qu({model:t,styles:y,group:o.addGroup()});else if(n===As){var pt=t.children,Et=rs(pt,e);isNaN(Et.x)?isNaN(t.x)&&(t.x=Math.random()*100):t.x=Et.x,isNaN(Et.y)?isNaN(t.y)&&(t.y=Math.random()*100):t.y=Et.y;var Lt=o.addGroup();Lt.setZIndex(t.depth),d=new zc({model:t,styles:y,bbox:t.collapsed?rs([],e):Et,group:Lt});var Gt=d.getModel();(pt||[]).forEach(function(Rt){var Xt=e.findById(Rt.id);d.addChild(Xt),Rt.depth=Gt.depth+2}),t.collapsed&&setTimeout(function(){e.collapseCombo(d)},16)}if(d)return e.get(n+"s").push(d),e.get("itemMap")[d.get("id")]=d,e.emit("afteradditem",{item:d,model:t}),d},l.prototype.updateItem=function(n,t){var e,r,o=this.graph;if(Object(p.O)(n)&&(n=o.findById(n)),!(!n||n.destroyed)){var u="";n.getType&&(u=n.getType());var d=o.get(u+Vc),y=n.getModel(),P=n.isOnlyMove(t);if(d){var F=Object(p.h)({},y,t),k=d(F),rt=Object(p.h)({},y,k,t);k[Ao]&&(n.set("styles",rt[Ao]),delete rt[Ao]),Object(p.j)(rt,function(Zt,_t){t[_t]=Zt})}else Object(p.j)(t,function(Zt,_t){y[_t]&&Object(p.M)(Zt)&&!Object(p.B)(Zt)&&(t[_t]=Object(ge.a)(Object(ge.a)({},y[_t]),t[_t]))});if(o.emit("beforeupdateitem",{item:n,cfg:t}),u===fs){if(t.source){var ut=t.source;Object(p.O)(ut)&&(ut=o.findById(ut)),n.setSource(ut)}if(t.target){var pt=t.target;Object(p.O)(pt)&&(pt=o.findById(pt)),n.setTarget(pt)}n.update(t)}if(u===Ll||u===As){n.update(t,P);var Et=n.getEdges(),Lt=Xu(t);if(Lt&&u===Ll)Object(p.j)(Et,function(Zt){Zt.refresh()});else if(Lt&&u===As){var Gt=n.get("shapeFactory"),Rt=y.type||"circle",Xt=y.animate===void 0||t.animate===void 0?(r=(e=Gt[Rt])===null||e===void 0?void 0:e.options)===null||r===void 0?void 0:r.animate:y.animate||t.animate;Xt?setTimeout(function(){if(!(!n||n.destroyed)){var Zt=n.getKeyShape();!Zt||Zt.destroyed||Object(p.j)(Et,function(_t){_t&&!_t.destroyed&&_t.refresh()})}},201):Object(p.j)(Et,function(Zt){Zt.refresh()})}}o.emit("afterupdateitem",{item:n,cfg:t})}},l.prototype.updateCombo=function(n,t){var e=this,r,o,u=this.graph;if(Object(p.O)(n)&&(n=u.findById(n)),!(!n||n.destroyed)){var d=n.getModel(),y=rs(d.collapsed?[]:t,u);n.set("bbox",y),n.update({x:y.x,y:y.y});var P=n.get("shapeFactory"),F=d.type||"circle",k=d.animate===void 0?(o=(r=P[F])===null||r===void 0?void 0:r.options)===null||o===void 0?void 0:o.animate:d.animate;k?setTimeout(function(){if(!(!n||n.destroyed)){var rt=n.getKeyShape();!rt||rt.destroyed||(n.getShapeCfg(d),e.updateComboEdges(n))}},201):this.updateComboEdges(n)}},l.prototype.updateComboEdges=function(n){for(var t=n.getEdges()||[],e=0;e<t.length;e++){var r=t[e];if(r&&!r.destroyed){var o=r.get("shapeFactory"),u=r.getShapeCfg(r.getModel()),d=r.getContainer();d.clear(),o.draw(u.type,u,d)}}},l.prototype.collapseCombo=function(n){var t=this.graph;Object(p.O)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.hideItem(r)}),e.combos.forEach(function(r){t.hideItem(r)})},l.prototype.expandCombo=function(n){var t=this.graph;Object(p.O)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.showItem(r)}),e.combos.forEach(function(r){r.getModel().collapsed?r.show():t.showItem(r)})},l.prototype.removeItem=function(n){var t=this,e=this.graph;if(Object(p.O)(n)&&(n=e.findById(n)),!(!n||n.destroyed)){var r=Object(p.e)(n.getModel());e.emit("beforeremoveitem",{item:r});var o="";n.getType&&(o=n.getType());var u=e.get(o+"s"),d=u.indexOf(n);if(d>-1&&u.splice(d,1),o===fs){var y=e.get("v"+o+"s"),P=y.indexOf(n);P>-1&&y.splice(P,1)}var F=n.get("id"),k=e.get("itemMap");delete k[F];var rt=e.get("comboTrees"),ut=n.get("id");if(o===Ll){var pt=n.getModel().comboId;if(rt&&pt){var Et=rt,Lt=!1;rt.forEach(function(ie){Lt||si(ie,function(ce){if(ce.id===ut&&Et){var be=Et.indexOf(ce);return Et.splice(be,1),Lt=!0,!1}return Et=ce.children,!0})})}for(var Gt=n.getEdges(),Rt=Gt.length-1;Rt>=0;Rt--)e.removeItem(Gt[Rt],!1);pt&&e.updateCombo(pt)}else if(o===As){var Xt=n.getModel().parentId,Zt,_t=!1;(rt||[]).forEach(function(ce){_t||si(ce,function(be){return be.id===ut?(Zt=be,_t=!0,!1):!0})}),Zt.removed=!0,Zt&&Zt.children&&Zt.children.forEach(function(ce){t.removeItem(ce.id)});for(var Gt=n.getEdges(),Rt=Gt.length;Rt>=0;Rt--)e.removeItem(Gt[Rt],!1);Xt&&e.updateCombo(Xt)}n.destroy(),e.emit("afterremoveitem",{item:r})}},l.prototype.setItemState=function(n,t,e){var r=this.graph,o=t;Object(p.O)(e)&&(o=t+":"+e),!(n.hasState(o)===e&&e||Object(p.O)(e)&&n.hasState(o))&&(r.emit("beforeitemstatechange",{item:n,state:o,enabled:e}),n.setState(t,e),r.autoPaint(),r.emit("afteritemstatechange",{item:n,state:o,enabled:e}))},l.prototype.priorityState=function(n,t){var e=this.graph,r=n;Object(p.O)(n)&&(r=e.findById(n)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},l.prototype.clearItemStates=function(n,t){var e=this.graph;Object(p.O)(n)&&(n=e.findById(n)),e.emit("beforeitemstatesclear",{item:n,states:t}),n.clearStates(t),e.emit("afteritemstatesclear",{item:n,states:t})},l.prototype.refreshItem=function(n){var t=this.graph;Object(p.O)(n)&&(n=t.findById(n)),t.emit("beforeitemrefresh",{item:n}),n.refresh(),t.emit("afteritemrefresh",{item:n})},l.prototype.addCombos=function(n,t){var e=this,r=this.graph;(n||[]).forEach(function(u){No(u,function(d){var y;return t.forEach(function(P){P.id===d.id&&(P.children=d.children,P.depth=d.depth,y=P)}),y&&e.addItem("combo",y),!0})});var o=r.get("comboGroup");o&&o.sort()},l.prototype.changeItemVisibility=function(n,t){var e=this,r=this.graph;if(Object(p.O)(n)&&(n=r.findById(n)),!n){console.warn("The item to be shown or hidden does not exist!");return}if(r.emit("beforeitemvisibilitychange",{item:n,visible:t}),n.changeVisibility(t),n.getType&&n.getType()===Ll){var o=n.getEdges();Object(p.j)(o,function(F){t&&!(F.get("source").isVisible()&&F.get("target").isVisible())||e.changeItemVisibility(F,t)})}else if(n.getType&&n.getType()===As){var u=r.get("comboTrees"),d=n.get("id"),y=[],P=!1;(u||[]).forEach(function(k){P||!k.children||k.children.length===0||si(k,function(rt){return rt.id===d?(y=rt.children,P=!0,!1):!0})}),y&&(!t||t&&!n.getModel().collapsed)&&y.forEach(function(k){var rt=r.findById(k.id);e.changeItemVisibility(rt,t)});var o=n.getEdges();Object(p.j)(o,function(k){t&&!(k.get("source").isVisible()&&k.get("target").isVisible())||e.changeItemVisibility(k,t)})}return r.emit("afteritemvisibilitychange",{item:n,visible:t}),n},l.prototype.destroy=function(){this.graph=null,this.destroyed=!0},l}(),Xc=zh,Hs=null,Gf=function(){function l(n){this.graph=n,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return l.checkCache=function(n,t,e){if(!!e[t]){var r=e[t].indexOf(n);r>=0&&e[t].splice(r,1)}},l.cacheState=function(n,t,e){e[t]||(e[t]=[]),e[t].push(n)},l.prototype.updateState=function(n,t,e){var r=this,o=l.checkCache,u=l.cacheState;if(!n.destroyed){var d=this.cachedStates,y=d.enabled,P=d.disabled;e?(o(n,t,P),u(n,t,y)):(o(n,t,y),u(n,t,P)),Hs&&clearTimeout(Hs),Hs=setTimeout(function(){Hs=null,r.updateGraphStates()},16)}},l.prototype.updateStates=function(n,t,e){var r=this;Object(p.O)(t)?this.updateState(n,t,e):t.forEach(function(o){r.updateState(n,o,e)})},l.prototype.updateGraphStates=function(){var n=this.graph.get("states"),t=this.cachedStates;Object(p.j)(t.disabled,function(e,r){n[r]&&(n[r]=n[r].filter(function(o){return e.indexOf(o)<0&&!e.destroyed}))}),Object(p.j)(t.enabled,function(e,r){if(!n[r])n[r]=e;else{var o={};n[r].forEach(function(u){u.destroyed||(o[u.get("id")]=!0)}),e.forEach(function(u){if(!u.destroyed){var d=u.get("id");o[d]||(o[d]=!0,n[r].push(u))}})}}),this.graph.emit("graphstatechange",{states:n}),this.cachedStates={enabled:{},disabled:{}}},l.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Hs&&clearTimeout(Hs),Hs=null,this.destroyed=!0},l}(),Ju=Gf,Rl=a("WOt1"),kh=function(n,t){return!n||!t?n:n.replace(/\\?\{([^{}]+)\}/g,function(e,r){if(e.charAt(0)==="\\")return e.slice(1);var o=t[r];return o===0&&(o="0"),o||""})},wl=function(n){var t=[];if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);for(var e=0,r=n;e<r.length;e++){var o=r[e],u=o.x,d=o.y;t.push(u),t.push(d)}var y=Object(Rl.a)(t);return y.unshift(["M",n[0].x,n[0].y]),y},_u=function(n,t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var o={x:(1-e)*n.x+e*t.x,y:(1-e)*n.y+e*t.y},u=[0,0];qn.c.normalize(u,[t.x-n.x,t.y-n.y]),(!u||!u[0]&&!u[1])&&(u=[0,0]);var d=[-u[1]*r,u[0]*r];return o.x+=d[0],o.y+=d[1],o},Ys=function(n,t){var e=n.length;if(!e)return"";for(var r="",o="",u=0;u<e;u++){var d=n[u];u===0?o="M{x} {y}":o="L{x} {y}",r+=kh(o,d)}return t&&(r+="Z"),r},as=function(n){var t=[];return n.forEach(function(e){var r=e[0];if(r!=="A")for(var o=1;o<e.length;o=o+2)t.push([e[o],e[o+1]]);else{var u=e.length;t.push([e[u-2],e[u-1]])}}),t},ti=function(n){if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);var t=n[0],e=n[1],r=n[n.length-1],o=n[n.length-2];n.unshift(r),n.unshift(o),n.push(t),n.push(e);for(var u=[],d=1;d<n.length-2;d+=1){var y=n[d-1].x,P=n[d-1].y,F=n[d].x,k=n[d].y,rt=n[d+1].x,ut=n[d+1].y,pt=d!==n.length-2?n[d+2].x:rt,Et=d!==n.length-2?n[d+2].y:ut,Lt=F+(rt-y)/6,Gt=k+(ut-P)/6,Rt=rt-(pt-F)/6,Xt=ut-(Et-k)/6;u.push(["C",Lt,Gt,Rt,Xt,rt,ut])}return u.unshift(["M",r.x,r.y]),u},ko=function(n,t){return qn.c.scale([0,0],qn.c.normalize([0,0],n),t)},Hc=function(n,t){var e=[n[1]-t[1],t[0]-n[0]],r=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(r===0)throw new Error("p0 should not be equal to p1");return[e[0]/r,e[1]/r]},Yc=function(n,t){return[t[0]-n[0],t[1]-n[1]]};function qu(l,n){var t=function(k){var rt=[k[0][0],k[0][1]-n],ut=[k[0][0],k[0][1]+n];return"M "+rt+" A "+n+","+n+",0,0,0,"+ut+" A "+n+","+n+",0,0,0,"+rt},e=function(k){var rt=qn.c.scale([0,0],Hc(k[0],k[1]),n),ut=qn.c.scale([0,0],rt,-1),pt=qn.c.add([0,0],k[0],rt),Et=qn.c.add([0,0],k[1],rt),Lt=qn.c.add([0,0],k[1],ut),Gt=qn.c.add([0,0],k[0],ut);return"M "+pt+" L "+Et+" A "+[n,n,"0,0,0",Lt].join(",")+" L "+Gt+" A "+[n,n,"0,0,0",pt].join(",")};if(!l||l.length<1)return"";if(l.length===1)return t(l);if(l.length===2)return e(l);for(var r=new Array(l.length),o=0;o<r.length;++o){var u=o===0?l[l.length-1]:l[o-1],d=l[o],y=qn.c.scale([0,0],Hc(u,d),n);r[o]=[qn.c.add([0,0],u,y),qn.c.add([0,0],d,y)]}var P="A "+[n,n,"0,0,0,"].join(",");return r=r.map(function(F,k){var rt="";return k===0&&(rt="M "+r[r.length-1][1]+" "),rt+=P+F[0]+" L "+F[1],rt}),r.join(" ")}function tc(l,n){var t=l.length,e=function(F){var k=[F[0][0],F[0][1]-n],rt=[F[0][0],F[0][1]+n];return"M "+k+" A "+[n,n,"0,0,0",rt].join(",")+" A "+[n,n,"0,0,0",k].join(",")},r=function(F){var k=Yc(F[0],F[1]),rt=ko(k,n),ut=qn.c.add([0,0],F[0],qn.c.scale([0,0],rt,-1)),pt=qn.c.add([0,0],F[1],rt),Et=1.2*n,Lt=ko(qn.c.normalize([0,0],k),Et),Gt=qn.c.scale([0,0],Lt,-1),Rt=qn.c.add([0,0],ut,Gt),Xt=qn.c.add([0,0],pt,Gt),Zt=qn.c.add([0,0],ut,Lt);return"M "+ut+" C "+[Rt,Xt,pt].join(",")+" S "+[Zt,ut].join(",")+" Z"};if(!l||t<1)return"";if(t===1)return e(l);if(t===2)return r(l);for(var o=l.map(function(P,F){var k=l[(F+1)%t];return{p:P,v:qn.c.normalize([0,0],Yc(P,k))}}),u=0;u<o.length;++u){var d=u>0?u-1:t-1,y=qn.c.normalize([0,0],qn.c.add([0,0],o[d].v,qn.c.scale([0,0],o[u].v,-1)));o[u].p=qn.c.add([0,0],o[u].p,qn.c.scale([0,0],y,n))}return o.map(function(P){var F=P.p;return{x:F[0],y:F[1]}})}var Kc=function(n,t,e){return(n.y-e.y)*(t.x-e.x)-(n.x-e.x)*(t.y-e.y)},vu=function(n){var t=n.map(function(d){return{x:d.getModel().x,y:d.getModel().y}});if(t.sort(function(d,y){return d.x===y.x?d.y-y.y:d.x-y.x}),t.length===1)return t;for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&Kc(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var o=[],r=t.length-1;r>=0;r--){for(;o.length>=2&&Kc(o[o.length-2],o[o.length-1],t[r])<=0;)o.pop();o.push(t[r])}o.pop(),e.pop();var u=e.concat(o);return u},Zc={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Vo(l,n,t){var e=!1,r=function(y,P){return n.cells[y+P*n.width]},o=function(y,P){var F=0;return r(y-1,P-1)>=t&&(F+=1),r(y,P-1)>t&&(F+=2),r(y-1,P)>t&&(F+=4),r(y,P)>t&&(F+=8),F},u=function(y,P){for(var F=y,k=P,rt,ut,pt=0;pt<n.width*n.height;pt++){if(rt=F,ut=k,l.findIndex(function(Lt){return Lt.x===F&&Lt.y===k})>-1){if(!(l[0].x!==F||l[0].y!==k))return!0}else l.push({x:F,y:k});var Et=o(F,k);switch(Et){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:F++;break;case 12:case 14:case 4:F--;break;case 6:rt===0&&(ut===-1?F-=1:F+=1);break;case 1:case 13:case 5:k--;break;case 9:rt===1&&(ut===0?k-=1:k+=1);break;case 10:case 8:case 11:k++;break;default:return console.warn("Marching squares invalid state: "+Et),!0}}};this.march=function(){for(var d=0;d<n.width&&!e;d+=1)for(var y=0;y<n.height&&!e;y+=1)r(d,y)>t&&o(d,y)!==15&&(e=u(d,y));return e}}var qi=function(n,t,e){var r=Math.ceil(n/e),o=Math.ceil(t/e),u=new Float32Array(Math.max(0,r*o)).fill(0);return{cells:u,width:r,height:o}},Uf=function(n,t,e){var r=null,o=Number.POSITIVE_INFINITY;return t.forEach(function(u){var d={x:n.getModel().x,y:n.getModel().y},y={x:u.getModel().x,y:u.getModel().y},P=$e(d,y),F=new Jt(d.x,d.y,y.x,y.y),k=e.reduce(function(rt,ut){return Le(ut,F)>0?rt+1:rt},0);P*Math.pow(k+1,2)<o&&(r=u,o=P*Math.pow(k+1,2))}),r},is=function(n,t){var e=Number.POSITIVE_INFINITY,r=null;return n.forEach(function(o){var u=Le(o,t);u>=0&&u<e&&(r=o,e=u)}),r},$c=function(n,t,e,r){var o=[],u=[];u.push(n);for(var d=!0,y=0,P=function(ut,pt){var Et=!1;return pt.forEach(function(Lt){Et||(rr(ut,{x:Lt.x1,y:Lt.y1})||rr(ut,{x:Lt.x2,y:Lt.y2}))&&(Et=!0)}),Et},F=function(ut,pt){for(var Et=0,Lt=pt;Et<Lt.length;Et++){var Gt=Lt[Et],Rt=Gt.getBBox(),Xt=[[Rt.x,Rt.y],[Rt.x+Rt.width,Rt.y],[Rt.x,Rt.y+Rt.height],[Rt.x+Rt.width,Rt.y+Rt.height]];if(ys(Xt,ut.x,ut.y))return!0}return!1};d&&y<e;){d=!1;for(var k=function(){var ut=u.pop(),pt=is(t,ut);if(pt){var Et=xe(pt,ut),Lt=Et[0],Gt=Et[1];if(Gt===2){var Rt=function(Zt){for(var _t=r,ie=Qc(pt,_t,Lt,Zt),ce=P(ie,u)||P(ie,o),be=F(ie,t);!ce&&be&&_t>=1;)_t/=1.5,ie=Qc(pt,_t,Lt,Zt),ce=P(ie,u)||P(ie,o),be=F(ie,t);ie&&!ce&&(!Zt||!be)&&(u.push(new Jt(ut.x1,ut.y1,ie.x,ie.y)),u.push(new Jt(ie.x,ie.y,ut.x2,ut.y2)),d=!0)};Rt(!0),d||Rt(!1)}}d||o.push(ut),y+=1};!d&&u.length;)k()}for(;u.length;)o.push(u.pop());return o};function Ks(l,n,t,e,r){var o=Uf(l,t,n);if(o===null)return[];var u=function(k){for(var rt=[];k.length>0;){var ut=k.pop();if(k.length===0){rt.push(ut);break}var pt=k.pop(),Et=new Jt(ut.x1,ut.y1,pt.x2,pt.y2),Lt=is(n,Et);Lt?(rt.push(ut),k.push(pt)):k.push(Et)}return rt},d=new Jt(l.getModel().x,l.getModel().y,o.getModel().x,o.getModel().y),y=$c(d,n,e,r),P=u(y);return P}var ec=function(n,t,e){var r=Object.assign(Zc,e),o=ze(n.map(function(Rt){return{x:Rt.getModel().x,y:Rt.getModel().y}}));n=n.sort(function(Rt,Xt){return $e({x:Rt.getModel().x,y:Rt.getModel().y},o)-$e({x:Xt.getModel().x,y:Xt.getModel().y},o)});var u=[],d=[];n.forEach(function(Rt){var Xt=Ks(Rt,t,u,r.maxRoutingIterations,r.morphBuffer);Xt.forEach(function(Zt){d.push(Zt)}),u.push(Rt)});for(var y=rc(n,d,r.nodeR0),P=qi(y.width,y.height,r.pixelGroupSize),F=[],k=[],rt=0;rt<r.maxMarchingIterations;rt++)if(Wf(n,t,d,y,P,r),F=[],k=[],!!new Vo(F,P,r.threshold).march()){var ut=F.map(function(Rt){return{x:Math.round(Rt.x*r.pixelGroupSize+y.minX),y:Math.round(Rt.y*r.pixelGroupSize+y.minY)}});if(ut){var pt=ut.length;if(r.skip>1)for(pt=Math.floor(ut.length/r.skip);pt<3&&r.skip>1;)r.skip-=1,pt=Math.floor(ut.length/r.skip);for(var Et=0,Lt=0;Lt<pt;Lt+=1,Et+=r.skip)k.push({x:ut[Et].x,y:ut[Et].y})}var Gt=function(){for(var Xt=0,Zt=n;Xt<Zt.length;Xt++){var _t=Zt[Xt],ie=k.map(function(ce){return[ce.x,ce.y]});if(!ys(ie,_t.getBBox().centerX,_t.getBBox().centerY))return!1}return!0};if(k&&Gt())return k;if(r.threshold*=.9,rt<=r.maxMarchingIterations*.5)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else if(r.nonMemberInfluenceFactor!==0&&t.length>0)r.nonMemberInfluenceFactor*=.8;else break}return k};function rc(l,n,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},r=[];l.forEach(function(y){r.push(y.getBBox())}),n.forEach(function(y){r.push(y.getBBox())});for(var o=0,u=r;o<u.length;o++){var d=u[o];e.minX=(d.minX<e.minX?d.minX:e.minX)-t,e.minY=(d.minY<e.minY?d.minY:e.minY)-t,e.maxX=(d.maxX>e.maxX?d.maxX:e.maxX)+t,e.maxY=(d.maxY>e.maxY?d.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function Wf(l,n,t,e,r,o){function u(ut,pt){var Et=Math.floor((ut-pt)/o.pixelGroupSize);return Et<0?0:Et}function d(ut,pt){return ut*o.pixelGroupSize+pt}var y=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),P=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),F=function(pt,Et){var Lt=Math.min(u(pt.minX,Et+e.minX),r.width),Gt=Math.min(u(pt.minY,Et+e.minY),r.height),Rt=Math.min(u(pt.maxX,-Et+e.minX),r.width),Xt=Math.min(u(pt.maxY,-Et+e.minY),r.height);return[Lt,Gt,Rt,Xt]},k=function(pt,Et){for(var Lt=pt.getBBox(),Gt=F(Lt,o.nodeR1),Rt=Gt[0],Xt=Gt[1],Zt=Gt[2],_t=Gt[3],ie=Xt;ie<_t;ie+=1)for(var ce=Rt;ce<Zt;ce+=1)if(!(Et<0&&r[ce+ie*r.width]<=0)){var be=d(ce,e.minX),Pe=d(ie,e.minY),Se=Ir({x:be,y:Pe},{x:Lt.minX,y:Lt.minY,width:Lt.width,height:Lt.height});if(Se<Math.pow(o.nodeR1,2)){var Ue=Math.sqrt(Se)-o.nodeR1;r.cells[ce+ie*r.width]+=Et*Ue*Ue}}},rt=function(pt,Et){for(var Lt=pt.getBBox(),Gt=F(Lt,o.edgeR1),Rt=Gt[0],Xt=Gt[1],Zt=Gt[2],_t=Gt[3],ie=Xt;ie<_t;ie+=1)for(var ce=Rt;ce<Zt;ce+=1)if(!(Et<0&&r.cells[ce+ie*r.width]<=0)){var be=d(ce,e.minX),Pe=d(ie,e.minY),Se=nr({x:be,y:Pe},pt);if(Se<Math.pow(o.edgeR1,2)){var Ue=Math.sqrt(Se)-o.edgeR1;r.cells[ce+ie*r.width]+=Et*Ue*Ue}}};o.nodeInfluenceFactor&&l.forEach(function(ut){k(ut,o.nodeInfluenceFactor/y)}),o.edgeInfluenceFactor&&t.forEach(function(ut){rt(ut,o.edgeInfluenceFactor/P)}),o.negativeNodeInfluenceFactor&&n.forEach(function(ut){k(ut,o.negativeNodeInfluenceFactor/y)})}function Qc(l,n,t,e){var r=l.getBBox(),o=t[0],u=t[1],d=t[2],y=t[3],P={topLeft:{x:r.minX-n,y:r.minY-n},topRight:{x:r.maxX+n,y:r.minY-n},bottomLeft:{x:r.minX-n,y:r.maxY+n},bottomRight:{x:r.maxX+n,y:r.maxY+n}},F=r.height*r.width;function k(pt,Et){return r.width*((pt.y-r.minY+(Et.y-r.minY))*.5)}if(u){if(o)return e?P.topLeft:P.bottomRight;if(d)return e?P.bottomLeft:P.topRight;var rt=k(u,y);return rt<F*.5?u.y>y.y?e?P.topLeft:P.bottomRight:e?P.topRight:P.bottomLeft:u.y<y.y?e?P.bottomLeft:P.topRight:e?P.bottomRight:P.topLeft}if(y){if(o)return e?P.topRight:P.bottomLeft;if(d)return e?P.bottomRight:P.topLeft}var ut=k(o,d);return ut<F*.5?o.x>d.x?e?P.topLeft:P.bottomRight:e?P.bottomLeft:P.topRight:o.x<d.x?e?P.topRight:P.bottomLeft:e?P.bottomRight:P.topLeft}var zf=function(){function l(n,t){this.cfg=Object(p.h)(this.getDefaultCfg(),t),this.graph=n,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return Object(p.O)(e)?n.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(p.O)(e)?n.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return l.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},l.prototype.setPadding=function(){var n=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+n:10+n,this.cfg.bubbleCfg={nodeR0:this.padding-n,nodeR1:this.padding-n,morphBuffer:this.padding-n}},l.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},l.prototype.calcPath=function(n,t){var e,r,o;switch(this.type){case"round-convex":e=vu(n),o=qu(e.map(function(u){return[u.x,u.y]}),this.padding),r=Object(Rl.c)(o);break;case"smooth-convex":e=vu(n),e.length===2?(o=qu(e.map(function(u){return[u.x,u.y]}),this.padding),r=Object(Rl.c)(o)):e.length>2&&(o=tc(e.map(function(u){return[u.x,u.y]}),this.padding),r=ti(o));break;case"bubble":e=ec(n,t,this.cfg.bubbleCfg),r=e.length>=2&&ti(e);break;default:}return r},l.prototype.render=function(){this.group.addShape("path",{attrs:Object(ge.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},l.prototype.addMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n)),this.members.push(n);var t=this.nonMembers.indexOf(n);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},l.prototype.addNonMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n)),this.nonMembers.push(n);var t=this.members.indexOf(n);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},l.prototype.removeMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n));var t=this.members.indexOf(n);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},l.prototype.removeNonMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n));var t=this.nonMembers.indexOf(n);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},l.prototype.updateData=function(n,t){var e=this;this.group.findById(this.id).remove(),n&&(this.members=n.map(function(r){return Object(p.O)(r)?e.graph.findById(r):r})),t&&(this.nonMembers=t.map(function(r){return Object(p.O)(r)?e.graph.findById(r):r})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},l.prototype.updateStyle=function(n){var t=this.group.findById(this.id);t.attr(Object(ge.a)({},n))},l.prototype.updateCfg=function(n){var t=this;this.cfg=Object(p.h)(this.cfg,n),this.id=this.cfg.id,this.group=this.cfg.group,n.members&&(this.members=this.cfg.members.map(function(e){return Object(p.O)(e)?t.graph.findById(e):e})),n.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(p.O)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},l.prototype.contain=function(n){var t=this,e;Object(p.O)(n)?e=this.graph.findById(n):e=n;var r,o=e.getKeyShape();if(e.get("type")==="path")r=as(o.attr("path"));else{var u=o.getCanvasBBox();r=[[u.minX,u.minY],[u.maxX,u.minY],[u.maxX,u.maxY],[u.minX,u.maxY]]}return r=r.map(function(d){var y=t.graph.getPointByCanvas(d[0],d[1]);return[y.x,y.y]}),At(r,as(this.path))},l.prototype.destroy=function(){this.group.remove(),this.cfg=null},l}(),kf=zf,Jc=qn.a.transform,_c="node",Vh=function(l){Object(ge.c)(n,l);function n(t){var e=l.call(this)||this;return e.cfg=Object(p.h)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Xa.Stack(e.cfg.maxStep),e.redoStack=new Xa.Stack(e.cfg.maxStep)),e}return n.prototype.init=function(){this.initCanvas();var t=new Fh(this),e=new Rf(this),r=new Xc(this),o=new Ju(this);this.set({viewController:t,modeController:e,itemController:r,stateController:o}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},n.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),r=e.id,o=t.addGroup({id:r+"-root",className:mn.rootContainerClassName});if(this.get("groupByTypes")){var u=o.addGroup({id:r+"-edge",className:mn.edgeContainerClassName}),d=o.addGroup({id:r+"-node",className:mn.nodeContainerClassName}),y=o.addGroup({id:r+"-combo",className:mn.comboContainerClassName});y.toBack(),this.set({nodeGroup:d,edgeGroup:u,comboGroup:y})}var P=o.addGroup({id:r+"-delegate",className:mn.delegateContainerClassName});this.set({delegateGroup:P}),this.set("group",o)},n.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},n.prototype.set=function(t,e){return Object(p.N)(t)?this.cfg=Object(ge.a)(Object(ge.a)({},this.cfg),t):this.cfg[t]=e,this},n.prototype.get=function(t){return this.cfg[t]},n.prototype.getGroup=function(){return this.get("group")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.getMinZoom=function(){return this.get("minZoom")},n.prototype.setMinZoom=function(t){return this.set("minZoom",t)},n.prototype.getMaxZoom=function(){return this.get("maxZoom")},n.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},n.prototype.getWidth=function(){return this.get("width")},n.prototype.getHeight=function(){return this.get("height")},n.prototype.clearItemStates=function(t,e){Object(p.O)(t)&&(t=this.findById(t));var r=this.get("itemController");e||(e=t.get("states")),r.clearItemStates(t,e);var o=this.get("stateController");o.updateStates(t,e,!1)},n.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},n.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},n.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},n.prototype.findById=function(t){return this.get("itemMap")[t]},n.prototype.find=function(t,e){var r,o=this.get(t+"s");return Object(p.j)(o,function(u,d){if(e(u,d))return r=u,r}),r},n.prototype.findAll=function(t,e){var r=[];return Object(p.j)(this.get(t+"s"),function(o,u){e(o,u)&&r.push(o)}),r},n.prototype.findAllByState=function(t,e){return this.findAll(t,function(r){return r.hasState(e)})},n.prototype.translate=function(t,e){var r=this.get("group"),o=Object(p.e)(r.getMatrix());o||(o=[1,0,0,0,1,0,0,0,1]),o=Jc(o,[["t",t,e]]),r.setMatrix(o),this.emit("viewportchange",{action:"translate",matrix:r.getMatrix()}),this.autoPaint()},n.prototype.moveTo=function(t,e){var r=this.get("group");Bo(r,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:r.getMatrix()})},n.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},n.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},n.prototype.addBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!0),this},n.prototype.removeBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!1),this},n.prototype.updateBehavior=function(t,e,r){var o=this.get("modeController");return o.updateBehavior(t,e,r),this},n.prototype.zoom=function(t,e){var r=this.get("group"),o=Object(p.e)(r.getMatrix()),u=this.get("minZoom"),d=this.get("maxZoom");o||(o=[1,0,0,0,1,0,0,0,1]),e?o=Jc(o,[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]):o=Jc(o,[["s",t,t]]),!(u&&o[0]<u||d&&o[0]>d)&&(r.setMatrix(o),this.emit("viewportchange",{action:"zoom",matrix:o}),this.autoPaint())},n.prototype.zoomTo=function(t,e){var r=t/this.getZoom();this.zoom(r,e)},n.prototype.focusItem=function(t,e,r){var o=this.get("viewController"),u=!1;e?u=!0:e===void 0&&(u=this.get("animate"));var d={};r?d=r:r===void 0&&(d=this.get("animateCfg")),o.focus(t,u,d),this.autoPaint()},n.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},n.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},n.prototype.getPointByClient=function(t,e){var r=this.get("viewController");return r.getPointByClient(t,e)},n.prototype.getClientByPoint=function(t,e){var r=this.get("viewController");return r.getClientByPoint(t,e)},n.prototype.getPointByCanvas=function(t,e){var r=this.get("viewController");return r.getPointByCanvas(t,e)},n.prototype.getCanvasByPoint=function(t,e){var r=this.get("viewController");return r.getCanvasByPoint(t,e)},n.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},n.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},n.prototype.showItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),o=r.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var u=o.getID(),d=o.getType(),y={},P={};switch(d){case"node":y.nodes=[{id:u,visible:!1}],P.nodes=[{id:u,visible:!0}];break;case"edge":y.nodes=[{id:u,visible:!1}],P.edges=[{id:u,visible:!0}];break;case"combo":y.nodes=[{id:u,visible:!1}],P.combos=[{id:u,visible:!0}];break;default:break}this.pushStack("visible",{before:y,after:P})}},n.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),o=r.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var u=o.getID(),d=o.getType(),y={},P={};switch(d){case"node":y.nodes=[{id:u,visible:!0}],P.nodes=[{id:u,visible:!1}];break;case"edge":y.nodes=[{id:u,visible:!0}],P.edges=[{id:u,visible:!1}];break;case"combo":y.nodes=[{id:u,visible:!0}],P.combos=[{id:u,visible:!1}];break;default:break}this.pushStack("visible",{before:y,after:P})}},n.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},n.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var r=e.get("canvas");r.set("autoDraw",t)},n.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},n.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var r=t;if(Object(p.O)(t)&&(r=this.findById(t)),!r&&Object(p.O)(t))console.warn("The item to be removed does not exist!");else if(r){var o="";if(r.getType&&(o=r.getType()),e&&this.get("enabledStack")){var u=Object(ge.a)(Object(ge.a)({},r.getModel()),{itemType:o}),d={};switch(o){case"node":{d.nodes=[u],d.edges=[];for(var y=r.getEdges(),P=y.length-1;P>=0;P--)d.edges.push(Object(ge.a)(Object(ge.a)({},y[P].getModel()),{itemType:"edge"}));break}case"edge":d.edges=[u];break;case"combo":d.combos=[u];break;default:break}this.pushStack("delete",{before:d,after:{}})}if(o==="node"){var F=r.getModel();F.comboId&&this.updateComboTree(r)}var k=this.get("itemController");if(k.removeItem(r),o==="combo"){var rt=au(this.get("comboTrees"));this.set("comboTrees",rt)}}},n.prototype.addItem=function(t,e,r,o){r===void 0&&(r=!0),o===void 0&&(o=!0);var u=this.get("comboSorted");this.set("comboSorted",u&&!o);var d=this.get("itemController");if(!ns(t,e))return!1;if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var y,P=this.get("comboTrees");if(P||(P=[]),t==="combo"){var F=this.get("itemMap"),k=!1;if(P.forEach(function(Zt){k||No(Zt,function(_t){if(e.parentId===_t.id){k=!0;var ie=Object(ge.a)({id:e.id,depth:_t.depth+2},e);_t.children?_t.children.push(ie):_t.children=[ie],e.depth=ie.depth,y=d.addItem(t,e)}var ce=F[_t.id];return k&&ce&&ce.getType&&ce.getType()==="combo"&&d.updateCombo(ce,_t.children),!0})}),!k){var rt=Object(ge.a)({id:e.id,depth:0},e);e.depth=rt.depth,P.push(rt),y=d.addItem(t,e)}this.set("comboTrees",P)}else if(t==="node"&&Object(p.O)(e.comboId)&&P){var ut=this.findById(e.comboId);ut&&ut.getType&&ut.getType()!=="combo"&&console.warn("'"+e.comboId+"' is not a id of a combo in the graph, the node will be added without combo."),y=d.addItem(t,e);var pt=this.get("itemMap"),Et=!1,Lt=!1;(P||[]).forEach(function(Zt){Lt||Et||No(Zt,function(_t){if(_t.id===e.id)return Lt=!0,!1;if(e.comboId===_t.id&&!Lt){Et=!0;var ie=Object(p.e)(e);ie.itemType="node",_t.children?_t.children.push(ie):_t.children=[ie],e.depth=_t.depth+1}return Et&&pt[_t.id].getType&&pt[_t.id].getType()==="combo"&&d.updateCombo(pt[_t.id],_t.children),!0})})}else y=d.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var ut=this.findById(e.comboId||e.parentId);ut&&ut.getType&&ut.getType()==="combo"&&ut.addChild(y)}var Gt=this.get("combos");if(Gt&&Gt.length>0&&this.sortCombos(),this.autoPaint(),r&&this.get("enabledStack")){var Rt=Object(ge.a)(Object(ge.a)({},y.getModel()),{itemType:t}),Xt={};switch(t){case"node":Xt.nodes=[Rt];break;case"edge":Xt.edges=[Rt];break;case"combo":Xt.combos=[Rt];break;default:break}this.pushStack("add",{before:{},after:Xt})}return y},n.prototype.add=function(t,e,r,o){return r===void 0&&(r=!0),o===void 0&&(o=!0),this.addItem(t,e,r,o)},n.prototype.updateItem=function(t,e,r){var o=this;r===void 0&&(r=!0);var u=this.get("itemController"),d;Object(p.O)(t)?d=this.findById(t):d=t;var y=Object(p.e)(d.getModel()),P="";d.getType&&(P=d.getType());var F=Object(ge.f)([],d.getStates());if(P==="combo"&&Object(p.j)(F,function(pt){return o.setItemState(d,pt,!1)}),u.updateItem(d,e),P==="combo"&&Object(p.j)(F,function(pt){return o.setItemState(d,pt,!0)}),r&&this.get("enabledStack")){var k={nodes:[],edges:[],combos:[]},rt={nodes:[],edges:[],combos:[]},ut=Object(ge.a)({id:y.id},e);switch(P){case"node":k.nodes.push(y),rt.nodes.push(ut);break;case"edge":k.edges.push(y),rt.edges.push(ut);break;case"combo":k.combos.push(y),rt.combos.push(ut);break;default:break}P==="node"&&k.nodes.push(y),this.pushStack("update",{before:k,after:rt})}},n.prototype.update=function(t,e,r){r===void 0&&(r=!0),this.updateItem(t,e,r)},n.prototype.setItemState=function(t,e,r){Object(p.O)(t)&&(t=this.findById(t));var o=this.get("itemController");o.setItemState(t,e,r);var u=this.get("stateController");Object(p.O)(r)?u.updateState(t,e+":"+r,!0):u.updateState(t,e,r)},n.prototype.priorityState=function(t,e){var r=this.get("itemController");r.priorityState(t,e)},n.prototype.data=function(t){ou(t),this.set("data",t)},n.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var r=e.nodes,o=r===void 0?[]:r,u=e.edges,d=u===void 0?[]:u,y=e.combos,P=y===void 0?[]:y;if(this.clear(!0),this.emit("beforerender"),Object(p.j)(o,function(Lt){t.add("node",Lt,!1,!1)}),P&&P.length!==0){var F=Ms(P,o);this.set("comboTrees",F),t.addCombos(P)}Object(p.j)(d,function(Lt){t.add("edge",Lt,!1,!1)});var k=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var rt=t.get("layoutController");if(rt){if(rt.layout(ut),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",k);function ut(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",k)}if(!this.get("groupByTypes"))if(P&&P.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var pt=this.getNodes();pt.forEach(function(Lt){Lt.toFront()})}else{var Et=this.getEdges();Et.forEach(function(Lt){Lt.toBack()})}this.get("enabledStack")&&this.pushStack("render")},n.prototype.read=function(t){this.data(t),this.render()},n.prototype.diffItems=function(t,e,r){var o=this,u,d=this.get("itemMap");Object(p.j)(r,function(y){if(u=d[y.id],u){if(o.get("animate")&&t===_c){var P=u.getContainer().getMatrix();P||(P=[1,0,0,0,1,0,0,0,1]),u.set("originAttrs",{x:P[6],y:P[7]})}o.updateItem(u,y,!1)}else u=o.addItem(t,y,!1);u&&e[t+"s"].push(u)})},n.prototype.changeData=function(t,e){e===void 0&&(e=!0);var r=this;if(!ou(t))return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:r.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(Et){return r.clearItemStates(Et)}),this.getEdges().map(function(Et){return r.clearItemStates(Et)});var o=this.get("canvas"),u=o.get("localRefresh");o.set("localRefresh",!1),r.get("data")||(r.data(t),r.render());var d=this.get("itemMap"),y={nodes:[],edges:[]},P=t.combos;if(P){var F=Ms(P,t.nodes);this.set("comboTrees",F)}this.diffItems("node",y,t.nodes),Object(p.j)(d,function(Et,Lt){d[Lt].getModel().depth=0,!(Et.getType&&Et.getType()==="edge")&&(Et.getType&&Et.getType()==="combo"?(delete d[Lt],Et.destroy()):y.nodes.indexOf(Et)<0&&(delete d[Lt],r.remove(Et,!1)))});for(var k=this.getCombos(),rt=k.length,ut=rt-1;ut>=0;ut--)k[ut].destroyed&&k.splice(ut,1);P&&(r.addCombos(P),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",y,t.edges),Object(p.j)(d,function(Et,Lt){Et.getType&&(Et.getType()==="node"||Et.getType()==="combo")||y.edges.indexOf(Et)<0&&(delete d[Lt],r.remove(Et,!1))}),this.set({nodes:y.nodes,edges:y.edges});var pt=this.get("layoutController");return pt&&(pt.changeData(),r.get("animate")&&!pt.getLayoutType()?r.positionsAnimate():r.autoPaint()),setTimeout(function(){o.set("localRefresh",u)},16),this},n.prototype.addCombos=function(t){var e=this,r=e.get("comboTrees"),o=this.get("itemController");o.addCombos(r,t)},n.prototype.createCombo=function(t,e){var r=this;this.set("comboSorted",!1);var o="",u;if(!!t){if(Object(p.O)(t))o=t,u={id:t};else{if(o=t.id,!o){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}u=t}var d=e.map(function(P){var F=r.findById(P),k=F.getModel(),rt="";F.getType&&(rt=F.getType());var ut={id:F.getID(),itemType:rt};return rt==="combo"?(ut.parentId=o,k.parentId=o):rt==="node"&&(ut.comboId=o,k.comboId=o),ut});u.children=d,this.addItem("combo",u,!1),this.set("comboSorted",!1);var y=this.get("comboTrees");(y||[]).forEach(function(P){No(P,function(F){return F.id===o?(F.itemType="combo",F.children=d,!1):!0})}),y&&this.sortCombos()}},n.prototype.uncombo=function(t){var e=this,r=this,o=t;if(Object(p.O)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var u=o.getModel().parentId,d=r.get("comboTrees");d||(d=[]);var y=this.get("itemMap"),P=o.get("id"),F,k=[],rt=this.get("combos"),ut=this.findById(u);if(d.forEach(function(Et){F||No(Et,function(Lt){if(Lt.id===P){F=Lt;var Gt=o.getEdges();Gt.forEach(function(Xt){e.removeItem(Xt,!1)});var Rt=rt.indexOf(t);rt.splice(Rt,1),delete y[P],o.destroy()}if(u&&F&&Lt.id===u){ut.removeCombo(o),k=Lt.children;var Rt=k.indexOf(F);return Rt!==-1&&k.splice(Rt,1),F.children.forEach(function(Zt){var _t=e.findById(Zt.id),ie=_t.getModel();_t.getType&&_t.getType()==="combo"?(Zt.parentId=u,delete Zt.comboId,ie.parentId=u,delete ie.comboId):_t.getType&&_t.getType()==="node"&&(Zt.comboId=u,ie.comboId=u),ut.addChild(_t),k.push(Zt)}),!1}return!0})}),!u&&F){var pt=d.indexOf(F);d.splice(pt,1),F.children.forEach(function(Et){Et.parentId=void 0;var Lt=e.findById(Et.id).getModel();delete Lt.parentId,delete Lt.comboId,Et.itemType!=="node"&&d.push(Et)})}},n.prototype.updateCombos=function(){var t=this,e=this,r=this.get("comboTrees"),o=e.get("itemController"),u=e.get("itemMap");(r||[]).forEach(function(d){No(d,function(y){if(!y)return!0;var P=u[y.id];if(P&&P.getType&&P.getType()==="combo"){var F=Object(ge.f)([],P.getStates());Object(p.j)(F,function(k){return t.setItemState(P,k,!1)}),o.updateCombo(P,y.children),Object(p.j)(F,function(k){return t.setItemState(P,k,!0)})}return!0})}),e.sortCombos()},n.prototype.updateCombo=function(t){var e=this,r=this,o=t,u;if(Object(p.O)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}u=o.get("id");var d=this.get("comboTrees"),y=r.get("itemController"),P=r.get("itemMap");(d||[]).forEach(function(F){No(F,function(k){if(!k)return!0;var rt=P[k.id];if(u===k.id&&rt&&rt.getType&&rt.getType()==="combo"){var ut=Object(ge.f)([],rt.getStates());Object(p.j)(ut,function(pt){rt.getStateStyle(pt)&&e.setItemState(rt,pt,!1)}),y.updateCombo(rt,k.children),Object(p.j)(ut,function(pt){rt.getStateStyle(pt)&&e.setItemState(rt,pt,!0)}),u&&(u=k.parentId)}return!0})})},n.prototype.updateComboTree=function(t,e,r){r===void 0&&(r=!0);var o=this;this.set("comboSorted",!1);var u;Object(p.O)(t)?u=o.findById(t):u=t;var d=u.getModel(),y=d.comboId||d.parentId,P="";if(u.getType&&(P=u.getType()),e&&P==="combo"){var F=this.get("comboTrees"),k=!0,rt;if((F||[]).forEach(function(Rt){rt||si(Rt,function(Xt){if(!rt)return Xt.id===u.getID()&&(rt=Xt),!0})}),si(rt,function(Rt){return Rt.id===e?(k=!1,!1):!0}),!k){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(r&&this.get("enabledStack")){var ut={},pt={};P==="combo"?(ut.combos=[{id:d.id,parentId:d.parentId}],pt.combos=[{id:d.id,parentId:e}]):P==="node"&&(ut.nodes=[{id:d.id,parentId:d.comboId}],pt.nodes=[{id:d.id,parentId:e}]),this.pushStack("updateComboTree",{before:ut,after:pt})}if(d.parentId||d.comboId){var Et=this.findById(d.parentId||d.comboId);Et&&Et.removeChild(u)}if(P==="combo"?d.parentId=e:P==="node"&&(d.comboId=e),e){var Lt=this.findById(e);Lt&&Lt.addChild(u)}if(y){var Lt=this.findById(y);Lt&&Lt.removeChild(u)}var Gt=au(this.get("comboTrees"),d.id,e);this.set("comboTrees",Gt),this.updateCombos()},n.prototype.save=function(){var t=[],e=[],r=[];return Object(p.j)(this.get("nodes"),function(o){t.push(o.getModel())}),Object(p.j)(this.get("edges"),function(o){e.push(o.getModel())}),Object(p.j)(this.get("combos"),function(o){r.push(o.getModel())}),{nodes:t,edges:e,combos:r}},n.prototype.changeSize=function(t,e){var r=this.get("viewController");return r.changeSize(t,e),this},n.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),r=t.get("edges"),o=t.get("edges");Object(p.j)(e,function(u){u.refresh()}),Object(p.j)(r,function(u){u.refresh()}),Object(p.j)(o,function(u){u.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},n.prototype.getNodes=function(){return this.get("nodes")},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getCombos=function(){return this.get("combos")},n.prototype.getComboChildren=function(t){if(Object(p.O)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},n.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),r=e.onFrame,o=t.getNodes(),u=o.map(function(y){var P=y.getModel();return{id:P.id,x:P.x,y:P.y}});t.isAnimating()&&t.stopAnimate();var d=t.get("canvas");d.animate(function(y){Object(p.j)(u,function(P){var F=t.findById(P.id);if(!(!F||F.destroyed)){var k=F.get("originAttrs"),rt=F.get("model");if(!k){var ut=F.getContainer().getMatrix();ut||(ut=[1,0,0,0,1,0,0,0,1]),k={x:ut[6],y:ut[7]},F.set("originAttrs",k)}if(r){var pt=r(F,y,P,k);F.set("model",Object.assign(rt,pt))}else rt.x=k.x+(P.x-k.x)*y,rt.y=k.y+(P.y-k.y)*y}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){Object(p.j)(o,function(P){P.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},n.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),r=t.get("edges"),o=t.get("vedges"),u=t.get("combos"),d,y={};Object(p.j)(e,function(P){d=P.getModel();var F=P.get("originAttrs");if(!(F&&d.x===F.x&&d.y===F.y)){var k=P.updatePosition({x:d.x,y:d.y});y[d.id]=k,d.comboId&&(y[d.comboId]=y[d.comboId]||k)}}),u&&u.length!==0&&t.updateCombos(),Object(p.j)(r,function(P){var F=P.getSource().getModel(),k=P.getTarget();if(!Object(p.N)(k)){var rt=k.getModel();(y[F.id]||y[rt.id]||P.getModel().isComboEdge)&&P.refresh()}}),Object(p.j)(o,function(P){P.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},n.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},n.prototype.isAnimating=function(){return this.animating},n.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},n.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},n.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},n.prototype.clear=function(t){t===void 0&&(t=!1);var e=this.get("canvas");return e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},n.prototype.updateLayout=function(t){var e=this.get("layoutController");Object(p.O)(t)&&(t={type:t});var r=this.get("layout"),o={};Object.assign(o,r,t),this.set("layout",o),e.isLayoutTypeSame(o)&&o.gpuEnabled===r.gpuEnabled?e.updateLayoutCfg(o):e.changeLayout(o)},n.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},n.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!(!e||!t)){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},n.prototype.collapseCombo=function(t){var e=this;if(Object(p.O)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),o=this.get("itemController");o.collapseCombo(t),r.collapsed=!0;var u=this.getEdges().concat(this.get("vedges")),d=[],y=[],P=this.get("comboTrees"),F=!1;(P||[]).forEach(function(ut){F||si(ut,function(pt){if(F&&pt.depth<=r.depth)return!1;if(r.id===pt.id&&(F=!0),F){var Et=e.findById(pt.id);Et&&Et.getType&&Et.getType()==="combo"&&(d=d.concat(Et.getNodes()),y=y.concat(Et.getCombos()))}return!0})});var k={},rt=[];u.forEach(function(ut){if(!(ut.isVisible()&&!ut.getModel().isVEdge)){var pt=ut.getSource(),Et=ut.getTarget();if((d.includes(pt)||y.includes(pt))&&!d.includes(Et)&&!y.includes(Et)||pt.getModel().id===r.id){var Lt=ut.getModel();if(Lt.isVEdge){e.removeItem(ut,!1);return}for(var Gt=Et.getModel();!Et.isVisible();){if(Et=e.findById(Gt.parentId||Gt.comboId),!Et||!Gt.parentId&&!Gt.comboId)return;Gt=Et.getModel()}var Rt=Gt.id;if(k[r.id+"-"+Rt]){k[r.id+"-"+Rt]+=Lt.size||1;return}var Xt=e.addItem("vedge",{source:r.id,target:Rt,isVEdge:!0},!1);k[r.id+"-"+Rt]=Lt.size||1,rt.push(Xt)}else if(!d.includes(pt)&&!y.includes(pt)&&(d.includes(Et)||y.includes(Et))||Et.getModel().id===r.id){var Lt=ut.getModel();if(Lt.isVEdge){e.removeItem(ut,!1);return}for(var Zt=pt.getModel();!pt.isVisible();){if(pt=e.findById(Zt.parentId||Zt.comboId),!pt||!Zt.parentId&&!Zt.comboId)return;Zt=pt.getModel()}var _t=Zt.id;if(k[_t+"-"+r.id]){k[_t+"-"+r.id]+=Lt.size||1;return}var Xt=e.addItem("vedge",{target:r.id,source:_t,isVEdge:!0},!1);k[_t+"-"+r.id]=Lt.size||1,rt.push(Xt)}}}),rt.forEach(function(ut){var pt=ut.getModel();e.updateItem(ut,{size:k[pt.source+"-"+pt.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})},n.prototype.expandCombo=function(t){var e=this;if(Object(p.O)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),o=this.get("itemController");o.expandCombo(t),r.collapsed=!1;var u=this.getEdges().concat(this.get("vedges")),d=[],y=[],P=this.get("comboTrees"),F=!1;(P||[]).forEach(function(ut){F||si(ut,function(pt){if(F&&pt.depth<=r.depth)return!1;if(r.id===pt.id&&(F=!0),F){var Et=e.findById(pt.id);Et&&Et.getType&&Et.getType()==="combo"&&(d=d.concat(Et.getNodes()),y=y.concat(Et.getCombos()))}return!0})});var k={},rt={};u.forEach(function(ut){if(!(ut.isVisible()&&!ut.getModel().isVEdge)){var pt=ut.getSource(),Et=ut.getTarget(),Lt=pt.get("id"),Gt=Et.get("id");if((d.includes(pt)||y.includes(pt))&&!d.includes(Et)&&!y.includes(Et)||Lt===r.id){if(ut.getModel().isVEdge){e.removeItem(ut,!1);return}for(var Rt=Et.getModel();!Et.isVisible();){if(Et=e.findById(Rt.comboId||Rt.parentId),!Et||!Rt.parentId&&!Rt.comboId)return;Rt=Et.getModel()}Gt=Rt.id;for(var Xt=pt.getModel();!pt.isVisible();){if(pt=e.findById(Xt.comboId||Xt.parentId),!pt||!Xt.parentId&&!Xt.comboId)return;if(Xt.comboId===r.id||Xt.parentId===r.id)break;Xt=pt.getModel()}if(Lt=Xt.id,Gt){var Zt=Lt+"-"+Gt;if(k[Zt]){k[Zt]+=ut.getModel().size||1,e.updateItem(rt[Zt],{size:k[Zt]},!1);return}var _t=e.addItem("vedge",{source:Lt,target:Gt,isVEdge:!0},!1);k[Zt]=ut.getModel().size||1,rt[Zt]=_t}}else if(!d.includes(pt)&&!y.includes(pt)&&(d.includes(Et)||y.includes(Et))||Gt===r.id){if(ut.getModel().isVEdge){e.removeItem(ut,!1);return}for(var Xt=pt.getModel();!pt.isVisible();){if(pt=e.findById(Xt.comboId||Xt.parentId),!pt||!Xt.parentId&&!Xt.comboId)return;Xt=pt.getModel()}Lt=Xt.id;for(var Rt=Et.getModel();!Et.isVisible();){if(Et=e.findById(Rt.comboId||Rt.parentId),!Et||!Rt.parentId&&!Rt.comboId)return;if(Rt.comboId===r.id||Rt.parentId===r.id)break;Rt=Et.getModel()}if(Gt=Rt.id,Lt){var Zt=Lt+"-"+Gt;if(k[Zt]){k[Zt]+=ut.getModel().size||1,e.updateItem(rt[Zt],{size:k[Zt]},!1);return}var _t=e.addItem("vedge",{target:Gt,source:Lt,isVEdge:!0},!1);k[Zt]=ut.getModel().size||1,rt[Zt]=_t}}else(d.includes(pt)||y.includes(pt))&&(d.includes(Et)||y.includes(Et))&&pt.isVisible()&&Et.isVisible()&&ut.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},n.prototype.collapseExpandCombo=function(t){if(Object(p.O)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),r=this.findById(e.parentId);r;){var o=r.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),r=void 0;return}r=this.findById(o.parentId)}var u=e.collapsed;u?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},n.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var r=[],o={},u=this.get("comboTrees");(u||[]).forEach(function(y){si(y,function(P){return r[P.depth]?r[P.depth].push(P.id):r[P.depth]=[P.id],o[P.id]=P.depth,!0})});var d=this.getEdges().concat(this.get("vedges"));(d||[]).forEach(function(y){var P=y.getModel(),F=o[P.source]||0,k=o[P.target]||0,rt=Math.max(F,k);r[rt]?r[rt].push(P.id):r[rt]=[P.id]}),r.forEach(function(y){if(!(!y||!y.length))for(var P=y.length-1;P>=0;P--){var F=t.findById(y[P]);F&&F.toFront()}})}},n.prototype.getNeighbors=function(t,e){var r=t;return Object(p.O)(t)&&(r=this.findById(t)),r.getNeighbors(e)},n.prototype.getNodeDegree=function(t,e,r){e===void 0&&(e=void 0),r===void 0&&(r=!1);var o=t;Object(p.O)(t)&&(o=this.findById(t));var u=this.get("degrees");(!u||r)&&(u=Object(Xa.getDegree)(this.save()),this.set("degrees",u));var d=u[o.getID()],y=0;if(!d)return 0;switch(e){case"in":y=d.inDegree;break;case"out":y=d.outDegree;break;case"all":y=d;break;default:y=d.degree;break}return y},n.prototype.getUndoStack=function(){return this.undoStack},n.prototype.getRedoStack=function(){return this.redoStack},n.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},n.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},n.prototype.pushStack=function(t,e,r){if(t===void 0&&(t="update"),r===void 0&&(r="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var o=e?Object(p.e)(e):{before:{},after:Object(p.e)(this.save())};r==="redo"?this.redoStack.push({action:t,data:o}):this.undoStack.push({action:t,data:o}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},n.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix");return(!r||!t)&&(r=Object(Xa.getAdjMatrix)(this.save(),e),this.set("adjMatrix",r)),r},n.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix"),o=this.get("shortestPathMatrix");return(!r||!t)&&(r=Object(Xa.getAdjMatrix)(this.save(),e),this.set("adjMatrix",r)),(!o||!t)&&(o=Object(Xa.floydWarshall)(this.save(),e),this.set("shortestPathMatrix",o)),o},n.prototype.on=function(t,e,r){return l.prototype.on.call(this,t,e,r)},n.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},n.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var e=this.get("hullGroup"),r=this.get("hullMap");if(r||(r={},this.set("hullMap",r)),(!e||e.get("destroyed"))&&(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),r[t.id])return console.warn("Existed hull id."),r[t.id];var o=e.addGroup({id:t.id+"-container"}),u=new kf(this,Object(ge.a)(Object(ge.a)({},t),{group:o})),d=u.id;return r[d]=u,u},n.prototype.getHulls=function(){return this.get("hullMap")},n.prototype.getHullById=function(t){return this.get("hullMap")[t]},n.prototype.removeHull=function(t){var e;Object(p.O)(t)?e=this.getHullById(t):e=t;var r=this.get("hullMap");delete r[e.id],e.destroy()},n.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(e){var r=t[e];r.destroy()}),this.set("hullMap",{}))},n}(Ki.a),gu=Vh;function pu(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(l)}var al=qn.a.transform,Fd="-shape",qc="-label",yu=["startArrow","endArrow"],Vf={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Gd={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Bl={edge:Gd,node:Vf,combo:Vf},Nl="-label-bg",tf={options:{},itemType:"",type:"",getCustomConfig:function(n){return{}},getOptions:function(n){return Object(p.h)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(n)||{},n)},draw:function(n,t){var e=this.drawShape(n,t);if(e.set("className",this.itemType+Fd),n.label){var r=this.drawLabel(n,t);r.set("className",this.itemType+qc)}return e},afterDraw:function(n,t,e){},drawShape:function(n,t){return null},drawLabel:function(n,t){var e=this.getOptions(n).labelCfg,r=e||{},o=this.getLabelStyle(n,r,t),u=o.rotate;delete o.rotate;var d=t.addShape("text",{attrs:o,draggable:!0,className:"text-shape",name:"text-shape"});if(u){var y=d.getBBox(),P=d.getMatrix();if(P||(P=[1,0,0,0,1,0,0,0,1]),o.rotateCenter)switch(o.rotateCenter){case"center":P=al(P,[["t",-y.width/2,-y.height/2],["r",u],["t",y.width/2,y.height/2]]);break;case"lefttop":P=al(P,[["t",-o.x,-o.y],["r",u],["t",o.x,o.y]]);break;case"leftcenter":P=al(P,[["t",-o.x,-o.y-y.height/2],["r",u],["t",o.x,o.y+y.height/2]]);break;default:P=al(P,[["t",-y.width/2,-y.height/2],["r",u],["t",y.width/2,y.height/2]]);break}else P=al(P,[["t",-o.x,-o.y-y.height/2],["r",u],["t",o.x,o.y+y.height/2]]);d.setMatrix(P)}if(o.background){var F=this.drawLabelBg(n,t,d),k=this.itemType+Nl;F.set("classname",k),d.toFront()}return d},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,o=Object(p.bb)({},r,n.labelCfg),u=this.getLabelBgStyleByPosition(e,n,o,t),d=t.addShape("rect",{name:"text-bg-shape",attrs:u});return d},getLabelStyleByPosition:function(n,t,e){return{text:n.label}},getLabelBgStyleByPosition:function(n,t,e,r){return{}},getLabelStyle:function(n,t,e){var r=this.getLabelStyleByPosition(n,t,e),o=this.itemType+"Label",u=mn[o]?mn[o].style:null,d=Object(ge.a)(Object(ge.a)(Object(ge.a)({},u),r),t.style);return d},getShapeStyle:function(n){return n.style},update:function(n,t){this.updateShapeStyle(n,t),this.updateLabel(n,t)},updateShapeStyle:function(n,t){var e=t.getContainer(),r=t.getKeyShape(),o=Object(p.bb)({},r.attr(),n.style),u=function(P){var F,k=o[P];if(Object(p.N)(k)){var rt=e.find(function(ut){return ut.get("name")===P});rt&&rt.attr(k)}else r.attr((F={},F[P]=k,F))};for(var d in o)u(d)},updateLabel:function(n,t){var e=t.getContainer(),r=this.getOptions({}).labelCfg,o=this.itemType+qc,u=e.find(function(_t){return _t.get("className")===o}),d=this.itemType+Nl,y=e.find(function(_t){return _t.get("classname")===d});if(n.label||n.label==="")if(u){var F={};t.getModel&&(F=t.getModel().labelCfg);var k=Object(p.h)({},r,F,n.labelCfg),rt=this.getLabelStyleByPosition(n,k,e),ut=n.labelCfg?n.labelCfg.style:void 0,pt=k.style&&k.style.background,Et=Object(ge.a)(Object(ge.a)(Object(ge.a)({},u.attr()),rt),ut),Lt=Et.rotate;if(delete Et.rotate,Lt){var Gt=[1,0,0,0,1,0,0,0,1];Gt=al(Gt,[["t",-Et.x,-Et.y],["r",Lt],["t",Et.x,Et.y]]),u.resetMatrix(),u.attr(Object(ge.a)(Object(ge.a)({},Et),{matrix:Gt}))}else u.resetMatrix(),u.attr(Et);if(!y)Et.background&&(y=this.drawLabelBg(n,e,u),y.set("classname",d),u.toFront());else if(Et.background){var Rt=this.getLabelBgStyleByPosition(u,n,k,e),Xt=Object(ge.a)(Object(ge.a)({},Rt),pt);if(y.resetMatrix(),Lt){var Zt=[1,0,0,0,1,0,0,0,1];Zt=al(Zt,[["t",-Xt.x,-Xt.y],["r",Lt],["t",Xt.x,Xt.y]]),Xt.matrix=Zt}y.attr(Xt)}else e.removeChild(y)}else{var P=this.drawLabel(n,e);P.set("className",o)}},afterUpdate:function(n,t){},setState:function(n,t,e){var r,o,u=e.get("keyShape");if(!!u){var d=e.getType(),y=Object(p.C)(t)?n:n+":"+t,P=this.getStateStyle(y,e),F=e.getStateStyle(y);if(!(!F&&!P)){var k=Object(p.bb)({},F||P),rt=e.getContainer(),ut={x:1,y:1,cx:1,cy:1};if(d==="combo"&&(ut.r=1,ut.width=1,ut.height=1),t){var pt=function(zr){var Mn,xn=k[zr];if(Object(p.N)(xn)&&!yu.includes(zr)){var on=rt.find(function(un){return un.get("name")===zr});on&&on.attr(xn)}else u.attr((Mn={},Mn[zr]=xn,Mn))};for(var Et in k)pt(Et)}else{var Lt=iu(e.getCurrentStatesStyle()),Gt=e.getModel(),Rt=Object(p.bb)({},Gt.style,iu(e.getOriginStyle())),Xt=u.get("name"),Zt=u.attr(),_t={};Object.keys(Zt).forEach(function(Wr){if(Wr!=="img"){var zr=Zt[Wr];zr&&pu(zr)==="object"?_t[Wr]=Object(p.e)(zr):_t[Wr]=zr}});var ie={},ce=function(zr){var Mn=k[zr];if(Object(p.N)(Mn)&&!yu.includes(zr)){var xn=rt.find(function(pn){return pn.get("name")===zr});if(xn){var on=Object(p.e)(xn.attr());Object(p.j)(Mn,function(pn,kr){if(zr===Xt&&_t[kr]&&!ut[kr]){delete _t[kr];var bn=Rt[zr][kr]||Bl[d][kr];u.attr(kr,bn)}else if(on[kr]||on[kr]===0){delete on[kr];var Vn=Rt[zr][kr]||Bl[d][kr];xn.attr(kr,Vn)}}),ie[zr]=on}}else if(_t[zr]&&!ut[zr]){delete _t[zr];var un=Rt[zr]||(Rt[Xt]?Rt[Xt][zr]:void 0)||Bl[d][zr];u.attr(zr,un)}};for(var be in k)ce(be);Xt?ie[Xt]=_t:Object(p.bb)(ie,_t);for(var Et in Lt)if(!ut[Et]){var Pe=Lt[Et];(!Object(p.N)(Pe)||yu.includes(Et))&&(Xt?(Object(p.bb)(Rt[Xt],(o={},o[Et]=Pe,o)),delete Rt[Et]):Object(p.bb)(Rt,(r={},r[Et]=Pe,r)),delete Lt[Et])}var Se={};Object(p.h)(Se,Rt,ie,Lt);var Ue=!1,Ye=function(zr){var Mn,xn,on=Se[zr];if(Object(p.N)(on)&&!yu.includes(zr)){var un=rt.find(function(kr){return kr.get("name")===zr});un&&(zr===Xt&&(d==="combo"&&(delete on.r,delete on.width,delete on.height),Ue=!0),un.attr(on))}else if(!Ue){var pn=on||Bl[d][zr];d==="combo"?Xt||u.attr((Mn={},Mn[zr]=pn,Mn)):u.attr((xn={},xn[zr]=pn,xn))}};for(var Ur in Se)Ye(Ur)}}}},getStateStyle:function(n,t){var e=t.getModel(),r=t.getType(),o=this.getOptions(e),u=o.stateStyles,d=o.style,y=d===void 0?{}:d,P=e.stateStyles?e.stateStyles[n]:u&&u[n];return r==="combo"?Object(p.e)(P):Object(p.bb)({},y,P)},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.getOptions(n).anchorPoints;return t}},Xh={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:mn.nodeLabel.offset,getSize:function(n){var t=n.size||this.getOptions({}).size||mn.defaultNode.size;return Object(p.B)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(p.B)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:n.label};var r=t.offset;Object(p.I)(r)&&(r=this.offset);var o=this.getSize(n),u=o[0],d=o[1],y;switch(e){case"top":y={x:0,y:0-d/2-r,textBaseline:"bottom"};break;case"bottom":y={x:0,y:d/2+r,textBaseline:"top"};break;case"left":y={x:0-u/2-r,y:0,textAlign:"right"};break;default:y={x:u/2+r,y:0,textAlign:"left"};break}return y.text=n.label,y},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var o=n.getBBox(),u=e.style&&e.style.background;if(!u)return{};var d=su(u.padding),y=o.width+d[1]+d[3],P=o.height+d[0]+d[2],F=e.offset;Object(p.I)(F)&&(F=this.offset);var k;return k={x:o.minX-d[3],y:o.minY-d[0]},k=Object(ge.a)(Object(ge.a)(Object(ge.a)({},k),u),{width:y,height:P}),k},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),o=t.addShape(e,{attrs:r,draggable:!0,name:"node-shape"});return o},updateLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=t.find(function(ce){return ce.get("className")==="link-point-left"}),o=t.find(function(ce){return ce.get("className")==="link-point-right"}),u=t.find(function(ce){return ce.get("className")==="link-point-top"}),d=t.find(function(ce){return ce.get("className")==="link-point-bottom"}),y;r&&(y=r.attr()),o&&!y&&(y=o.attr()),u&&!y&&(y=u.attr()),d&&!y&&(y=d.attr()),y||(y=e);var P=Object(p.bb)({},y,n.linkPoints),F=P.fill,k=P.stroke,rt=P.lineWidth,ut=P.size/2;ut||(ut=P.r);var pt=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Et=pt.left,Lt=pt.right,Gt=pt.top,Rt=pt.bottom,Xt=this.getSize(n),Zt=Xt[0],_t=Xt[1],ie={r:ut,fill:F,stroke:k,lineWidth:rt};r?!Et&&Et!==void 0?r.remove():r.attr(Object(ge.a)(Object(ge.a)({},ie),{x:-Zt/2,y:0})):Et&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},ie),{x:-Zt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),o?(!Lt&&Lt!==void 0&&o.remove(),o.attr(Object(ge.a)(Object(ge.a)({},ie),{x:Zt/2,y:0}))):Lt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},ie),{x:Zt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),u?(!Gt&&Gt!==void 0&&u.remove(),u.attr(Object(ge.a)(Object(ge.a)({},ie),{x:0,y:-_t/2}))):Gt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},ie),{x:0,y:-_t/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),d?!Rt&&Rt!==void 0?d.remove():d.attr(Object(ge.a)(Object(ge.a)({},ie),{x:0,y:_t/2})):Rt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},ie),{x:0,y:_t/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(n,t,e,r){var o=t.get("keyShape");o.attr(Object(ge.a)({},e)),this.updateLabel(n,t),r&&this.updateIcon(n,t)},updateIcon:function(n,t){var e=this,r=t.getContainer(),o=this.getOptions(n).icon,u=(n.icon?n.icon:{show:void 0}).show,d=r.find(function(rt){return rt.get("className")===e.type+"-icon"});if(d)if(u||u===void 0){var y=Object(p.bb)({},d.attr(),o),P=y.width,F=y.height;d.attr(Object(ge.a)(Object(ge.a)({},y),{x:-P/2,y:-F/2}))}else d.remove();else if(u){var P=o.width,F=o.height;r.addShape("image",{attrs:Object(ge.a)(Object(ge.a)({},o),{x:-P/2,y:-F/2}),className:this.type+"-icon",name:this.type+"-icon"});var k=r.find(function(pt){return pt.get("className")==="node-label"});k&&k.toFront()}}},ef=Object(ge.a)(Object(ge.a)({},tf),Xh);_i.registerNode("single-node",ef);var Fl="edge-shape";function mu(l){var n=l;return l==="start"?n="end":l==="end"&&(n="start"),n}var rf={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:mn.defaultEdge.size,style:{x:0,y:0,stroke:mn.defaultEdge.style.stroke,lineAppendWidth:mn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:mn.edgeLabel.style.fill,fontSize:mn.edgeLabel.style.fontSize}},stateStyles:Object(ge.a)({},mn.edgeStateStyles)},getPath:function(n){var t=[];return Object(p.j)(n,function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(p.bb)({},t,e,n.style),o=n.size||mn.defaultEdge.size;n=this.getPathPoints(n);var u=n.startPoint,d=n.endPoint,y=this.getControlPoints(n),P=[u];y&&(P=P.concat(y)),P.push(d);var F=this.getPath(P),k=Object(p.bb)({},mn.defaultEdge.style,{stroke:mn.defaultEdge.color,lineWidth:o,path:F},r);return k},updateShapeStyle:function(n,t){var e=t.getContainer(),r={stroke:n.color},o=e.find(function(Rt){return Rt.get("className")==="edge-shape"})||t.getKeyShape(),u=n.size;n=this.getPathPoints(n);var d=n.startPoint,y=n.endPoint,P=this.getControlPoints(n),F=[d];P&&(F=F.concat(P)),F.push(y);var k=o.attr(),rt=Object(p.bb)({},r,k,n.style),ut=n.sourceNode,pt=n.targetNode,Et={radius:rt.radius};P||(Et={source:ut,target:pt,offset:rt.offset,radius:rt.radius}),k.endArrow&&rt.endArrow===!1&&(n.style.endArrow={path:""}),k.startArrow&&rt.startArrow===!1&&(n.style.startArrow={path:""});var Lt=this.getPath(F,Et),Gt=Object(p.bb)(r,o.attr(),{lineWidth:u,path:Lt},n.style);o&&o.attr(Gt)},getLabelStyleByPosition:function(n,t,e){var r=t.position||this.labelPosition,o={},u=e&&e.find(function(rt){return rt.get("className")===Fl}),d;r==="start"?d=0:r==="end"?d=1:d=.5;var y=t.refX||this.refX,P=t.refY||this.refY;if(n.startPoint.x===n.endPoint.x&&n.startPoint.y===n.endPoint.y)return o.x=n.startPoint.x+y,o.y=n.startPoint.y+P,o.text=n.label,o;var F;Object(p.I)(t.autoRotate)?F=this.labelAutoRotate:F=t.autoRotate;var k=Qr(u,d,y,P,F);return o.x=k.x,o.y=k.y,o.rotate=k.rotate,o.textAlign=this._getTextAlign(r,k.angle),o.text=n.label,o},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var o=n.getBBox(),u=e.style&&e.style.background;if(!u)return{};var d=u.padding,y=o.width+d[1]+d[3],P=o.height+d[0]+d[2],F=e.position||this.labelPosition,k=Object(ge.a)(Object(ge.a)({},u),{width:y,height:P,x:o.minX-d[2],y:o.minY-d[0],rotate:0}),rt;Object(p.I)(e.autoRotate)?rt=this.labelAutoRotate:rt=e.autoRotate;var ut=r&&r.find(function(Xt){return Xt.get("className")===Fl}),pt;F==="start"?pt=0:F==="end"?pt=1:pt=.5;var Et=e.refX||this.refX,Lt=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return k.x=t.startPoint.x+Et-y/2,k.y=t.startPoint.y+Lt-P/2,k;var Gt=Qr(ut,pt,Et-y/2,Lt+P/2,rt),Rt=Gt.angle;return Rt>1/2*Math.PI&&Rt<3*1/2*Math.PI&&(Gt=Qr(ut,pt,Et+y/2,Lt+P/2,rt)),rt&&(k.x=Gt.x,k.y=Gt.y),k.rotate=Gt.rotate,k},_getTextAlign:function(n,t){var e="center";return t?(t=t%(Math.PI*2),n!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=n:e=mu(n)),e):n},getControlPoints:function(n){return n.controlPoints},getPathPoints:function(n){return n},drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("path",{className:Fl,name:Fl,attrs:e});return r},drawLabel:function(n,t){var e=this.options.labelCfg,r;typeof window!="undefined"?r=window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif":r="Arial, sans-serif";var o=Object(p.h)({fontFamily:r},e,n.labelCfg),u=this.getLabelStyle(n,o,t),d=u.rotate;delete u.rotate;var y=t.addShape("text",{attrs:u,name:"text-shape"});if(d&&y.rotateAtStart(d),u.background){var P=this.drawLabelBg(n,t,y),F=this.itemType+Nl;P.set("classname",F),y.toFront()}return y},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,o=Object(p.h)({},r,n.labelCfg),u=this.getLabelStyle(n,o,t),d=u.rotate,y=this.getLabelBgStyleByPosition(e,n,o,t);delete y.rotate;var P=t.addShape("rect",{name:"text-bg-shape",attrs:y});return d&&P.rotateAtStart(d),P}},Hh=Object(ge.a)(Object(ge.a)({},tf),rf);_i.registerEdge("single-edge",Hh),_i.registerEdge("line",{getControlPoints:function(){}},"single-edge"),_i.registerEdge("spline",{getPath:function(n){var t=wl(n);return t}},"single-edge"),_i.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint,r={x:(t.x+e.x)/2,y:(t.y+e.y)/2},o,u;if(n.controlPoints!==void 0){if(u=n.controlPoints[0],o=Mo(t,u,e),t.x<=e.x&&t.y>e.y?this.clockwise=o.x>u.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=o.x>u.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=o.y<u.y?0:1:this.clockwise=o.y<u.y?1:0,(u.x-t.x)/(u.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),Object(p.B)(n.curveOffset)&&(n.curveOffset=n.curveOffset[0]),n.curveOffset<0?this.clockwise=0:this.clockwise=1;var d={x:e.x-t.x,y:e.y-t.y},y=Math.atan2(d.y,d.x);u={x:n.curveOffset*Math.cos(-Math.PI/2+y)+r.x,y:n.curveOffset*Math.sin(-Math.PI/2+y)+r.y},o=Mo(t,u,e)}var P=Wo(t,o),F=[{x:P,y:P}];return F},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),n.length===2?t.push(["L",n[1].x,n[1].y]):t.push(["A",n[1].x,n[1].y,0,0,this.clockwise,n[2].x,n[2].y]),t}},"single-edge"),_i.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(n){var t=n.controlPoints;if(!t||!t.length){var e=n.startPoint,r=n.endPoint;n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(p.B)(this.curveOffset)&&(n.curveOffset=n.curveOffset[0]),Object(p.B)(this.curvePosition)&&(n.curvePosition=n.curveOffset[0]);var o=_u(e,r,n.curvePosition,n.curveOffset);t=[o]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["Q",n[1].x,n[1].y,n[2].x,n[2].y]),t}},"single-edge"),_i.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(n){var t=n.controlPoints;if(n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(p.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(p.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]),!t||!t.length||t.length<2){var e=n.startPoint,r=n.endPoint,o=_u(e,r,n.curvePosition[0],n.curveOffset[0]),u=_u(e,r,n.curvePosition[1],n.curveOffset[1]);t=[o,u]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["C",n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y]),t}},"single-edge"),_i.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(p.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(p.K)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(p.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.y-t.y,o=[0,0];n.curveOffset?o=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(o=n.minCurveOffset);var u={x:t.x,y:t.y+r*this.curvePosition[0]+o[0]},d={x:e.x,y:e.y-r*this.curvePosition[1]+o[1]};return[u,d]}},"cubic"),_i.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(p.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(p.K)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(p.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.x-t.x,o=[0,0];n.curveOffset?o=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(o=n.minCurveOffset);var u={x:t.x+r*this.curvePosition[0]+o[0],y:t.y},d={x:e.x-r*this.curvePosition[1]+o[1],y:e.y},y=[u,d];return y}},"cubic"),_i.registerEdge("loop",{getPathPoints:function(n){return br(n)},getControlPoints:function(n){return n.controlPoints},afterDraw:function(n){n.controlPoints=void 0},afterUpdate:function(n){n.controlPoints=void 0}},"cubic");var Xf={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:mn.comboLabel.refX,refY:mn.comboLabel.refY,options:{style:{stroke:mn.defaultCombo.style.stroke,fill:mn.defaultCombo.style.fill,lineWidth:mn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:mn.comboLabel.style.fill,fontSize:mn.comboLabel.style.fontSize}},stateStyles:Object(ge.a)({},mn.comboStateStyles)},getSize:function(n){var t=Object(p.e)(n.size||this.options.size||mn.defaultCombo.size);return Object(p.B)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(p.B)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,o=n.padding||this.options.padding;Object(p.B)(o)&&(o=o[0]);var u=t.refX,d=t.refY;Object(p.I)(u)&&(u=this.refX),Object(p.I)(d)&&(d=this.refY);var y=this.getSize(n),P=Math.max(r.r,y[0]/2)||y[0]/2,F=P+o,k;switch(e){case"top":k={x:0,y:-F-d,textBaseline:"bottom",textAlign:"center"};break;case"bottom":k={x:0,y:F+d,textBaseline:"bottom",textAlign:"center"};break;case"left":k={x:-F+u,y:0,textAlign:"left"};break;case"center":k={x:0,y:0,text:n.label,textAlign:"center"};break;default:k={x:F+u,y:0,textAlign:"right"};break}return k.text=n.label,k},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),o=t.addShape(e,{attrs:r,draggable:!0,name:"combo-shape"});return o},updateShape:function(n,t,e){var r=t.get("keyShape"),o=n.animate===void 0?this.options.animate:n.animate;o&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(ge.a)({},e)),this.updateLabel(n,t)}},Yh=Object(ge.a)(Object(ge.a)({},tf),Xf);_i.registerCombo("single-combo",Yh),_i.registerCombo("circle",{options:{size:[mn.defaultCombo.size[0],mn.defaultCombo.size[0]],padding:mn.defaultCombo.padding[0],animate:!0,style:{stroke:mn.defaultCombo.style.stroke,fill:mn.defaultCombo.style.fill,lineWidth:mn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:mn.comboLabel.style.fill,fontSize:mn.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(ge.a)({},mn.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n);delete e.height,delete e.width;var r=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return r},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(p.B)(e)&&(e=e[0]);var r={stroke:n.color},o=Object(p.bb)({},t,r,n.style),u;if(n.fixSize)u=Object(p.K)(n.fixSize)?n.fixSize:n.fixSize[0];else{var d=this.getSize(n);!Object(p.K)(o.r)||isNaN(o.r)?u=d[0]/2||mn.defaultCombo.style.r:u=Math.max(o.r,d[0]/2)||d[0]/2}o.r=u+e;var y=Object(ge.a)({x:0,y:0},o);return n.style?n.style.r=u:n.style={r:u},y},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(p.B)(r)&&(r=r[0]);var o=Object(p.e)(n.style),u;n.fixSize?u=Object(p.K)(n.fixSize)?n.fixSize:n.fixSize[0]:u=Math.max(o.r,e[0]/2)||e[0]/2,o.r=u+r;var d=t.get("sizeCache");d&&(d.r=o.r);var y={stroke:n.color},P=t.get("keyShape"),F=Object(p.bb)({},P.attr(),y,o);n.style?n.style.r=u:n.style={r:u},this.updateShape(n,t,F,!0)}},"single-combo"),_i.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:mn.defaultCombo.style.stroke,fill:mn.defaultCombo.style.fill,lineWidth:mn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:mn.comboLabel.style.fill,fontSize:mn.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ge.a)({},mn.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return r},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,o=n.padding||this.options.padding;Object(p.K)(o)&&(o=[o,o,o,o]);var u=t.refX,d=t.refY;Object(p.I)(u)&&(u=this.refX),Object(p.I)(d)&&(d=this.refY);var y=r.width/2+o[3],P=r.height/2+o[0],F;switch(e){case"top":F={x:0-y+u,y:0-P+d,textBaseline:"top",textAlign:"left"};break;case"bottom":F={x:0,y:P+d,textBaseline:"bottom",textAlign:"center"};break;case"left":F={x:0-y+d,y:0,textAlign:"left"};break;case"center":F={x:0,y:0,text:n.label,textAlign:"center"};break;default:F={x:y+u,y:0,textAlign:"right"};break}return F.text=n.label,F},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(p.K)(e)&&(e=[e,e,e,e]);var r={stroke:n.color},o=Object(p.bb)({},t,r,n.style),u=this.getSize(n),d,y,P=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;P?Object(p.K)(P)?(d=P,y=P):(d=P[0],y=P[1]):(!Object(p.K)(o.width)||isNaN(o.width)?d=u[0]||mn.defaultCombo.style.width:d=Math.max(o.width,u[0])||u[0],!Object(p.K)(o.height)||isNaN(o.height)?y=u[1]||mn.defaultCombo.style.height:y=Math.max(o.height,u[1])||u[1]);var F=-d/2-e[3],k=-y/2-e[0];o.width=d+e[1]+e[3],o.height=y+e[0]+e[2];var rt=Object(ge.a)({x:F,y:k},o);return n.style?(n.style.width=d,n.style.height=y):n.style={width:d,height:y},rt},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(p.K)(r)&&(r=[r,r,r,r]);var o=Object(p.e)(n.style),u,d,y=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;y?Object(p.K)(y)?(u=y,d=y):(u=y[0],d=y[1]):(u=Math.max(o.width,e[0])||e[0],d=Math.max(o.height,e[1])||e[1]),o.width=u+r[1]+r[3],o.height=d+r[0]+r[2];var P=t.get("sizeCache");P&&(P.width=o.width,P.height=o.height),o.x=-u/2-r[3],o.y=-d/2-r[0];var F={stroke:n.color},k=t.get("keyShape"),rt=Object(p.bb)({},k.attr(),F,o);n.style?(n.style.width=u,n.style.height=d):n.style={width:u,height:d},this.updateShape(n,t,rt,!1)},updateShape:function(n,t,e){var r=t.get("keyShape"),o=n.animate===void 0?this.options.animate:n.animate;o&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(ge.a)({},e)),this.updateLabel(n,t)}},"single-combo"),_i.registerNode("simple-circle",{options:{size:mn.defaultNode.size,style:{x:0,y:0,stroke:mn.defaultNode.style.stroke,fill:mn.defaultNode.style.fill,lineWidth:mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:mn.nodeLabel.style.fill,fontSize:mn.nodeLabel.style.fontSize}},stateStyles:Object(ge.a)({},mn.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("circle",{attrs:e,className:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.h)({},t,e),o=this.getSize(n),u=o[0]/2,d=Object(ge.a)({x:0,y:0,r:u},r);return d},update:function(n,t){var e=this.getSize(n),r={stroke:n.color,r:e[0]/2},o=t.get("keyShape"),u=Object(p.h)({},o.attr(),r,n.style);this.updateShape(n,t,u,!0)}},"single-node"),_i.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:mn.defaultNode.style.stroke,fill:mn.defaultNode.style.fill,lineWidth:mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:mn.nodeLabel.style.fill,fontSize:mn.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ge.a)({},mn.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),o=this.getSize(n),u=r.width||o[0],d=r.height||o[1],y=Object(ge.a)({x:-u/2,y:-d/2,width:u,height:d},r);return y},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getSize(n),u=t.get("keyShape");n.size||(o[0]=u.attr("width")||r.width,o[1]=u.attr("height")||r.height);var d={stroke:n.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},y=Object(p.bb)({},r,u.attr(),d);y=Object(p.bb)(y,n.style),this.updateShape(n,t,y,!1)}},"single-node"),_i.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n);delete r.fill;var o=t.addShape(e,{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(n,o),o},drawClip:function(n,t){var e=this.getOptions(n).clipCfg;if(!!e.show){var r=e.type,o=e.x,u=e.y,d=e.style;if(r==="circle"){var y=e.r;t.setClip({type:"circle",attrs:Object(ge.a)({r:y,x:o,y:u},d)})}else if(r==="rect"){var P=e.width,F=e.height,k=o-P/2,rt=u-F/2;t.setClip({type:"rect",attrs:Object(ge.a)({x:k,y:rt,width:P,height:F},d)})}else if(r==="ellipse"){var ut=e.rx,pt=e.ry;t.setClip({type:"ellipse",attrs:Object(ge.a)({x:o,y:u,rx:ut,ry:pt},d)})}else if(r==="polygon"){var Et=e.points;t.setClip({type:"polygon",attrs:Object(ge.a)({points:Et},d)})}else if(r==="path"){var Lt=e.path;t.setClip({type:"path",attrs:Object(ge.a)({path:Lt},d)})}}},getShapeStyle:function(n){var t=this.getOptions(n).style,e=this.getSize(n),r=this.getOptions(n).img,o=e[0],u=e[1];t&&(o=t.width||e[0],u=t.height||e[1]);var d=Object(ge.a)({x:-o/2,y:-u/2,width:o,height:u,img:r},t);return d},updateShapeStyle:function(n,t){var e=t.getContainer(),r=this.itemType+"-shape",o=e.find(function(d){return d.get("className")===r})||t.getKeyShape(),u=this.getShapeStyle(n);o&&o.attr(u)}},"single-node");var Hf={triangle:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,o="M "+r+",0 L "+(r+t)+",-"+n/2+" L "+(r+t)+","+n/2+" Z";return o},vee:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=20),e===void 0&&(e=0);var r=e*2,o="M "+r+",0 L "+(r+t)+",-"+n/2+`
        L `+(r+2*t/3)+",0 L "+(r+t)+","+n/2+" Z";return o},circle:function(n,t){n===void 0&&(n=5),t===void 0&&(t=0);var e=t*2,r="M "+e+`, 0
            a `+n+","+n+" 0 1,0 "+n*2+`,0
            a `+n+","+n+" 0 1,0 "+-n*2+",0";return r},rect:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=10),e===void 0&&(e=0);var r=e*2,o="M "+r+","+-n/2+` 
        L `+(r+t)+","+-n/2+` 
        L `+(r+t)+","+n/2+` 
        L `+r+","+n/2+" Z";return o},diamond:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,o="M "+r+`,0 
        L `+(r+t/2)+","+-n/2+` 
        L `+(r+t)+`,0 
        L `+(r+t/2)+","+n/2+" Z";return o},triangleRect:function(n,t,e,r,o,u){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=15),r===void 0&&(r=3),o===void 0&&(o=5),u===void 0&&(u=0);var d=u*2,y=d+t+o,P="M "+d+",0 L "+(d+t)+",-"+n/2+" L "+(d+t)+","+n/2+` Z
            M `+y+", -"+e/2+`
            L `+(y+r)+" -"+e/2+`
            L `+(y+r)+" "+e/2+`
            L `+y+" "+e/2+`
            Z`;return P}},Kh={collapse:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n+e-4,t]]},expand:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n-e+2*e-4,t],["M",n-e+e,t-e+4],["L",n,t+e-4]]},upTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),o=e*Math.sin(Math.PI/6);return[["M",n-r,t+o],["L",n+r,t+o],["L",n,t-e],["Z"]]},downTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),o=e*Math.sin(Math.PI/6);return[["M",n-r,t-o],["L",n+r,t-o],["L",n,t+e],["Z"]]}},Xo=_i,Zh=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Yf=qn.a.transform,Kf=Object(ge.a)(Object(ge.a)(Object(ge.a)(Object(ge.a)(Object(ge.a)(Object(ge.a)({},O),i),x),h),C),{transform:Yf,mat3:qn.b}),Ho=Kf,$h=function(){function l(n){this.graph=n,this.layoutCfg=n.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return l.prototype.initLayout=function(){},l.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},l.prototype.getLayoutCfgType=function(n){var t=n.type;if(t)return t;var e=n.pipes;return Array.isArray(e)?e.map(function(r){return(r==null?void 0:r.type)||""}):null},l.prototype.isLayoutTypeSame=function(n){var t=this.getLayoutCfgType(n);return Array.isArray(this.layoutType)?this.layoutType.every(function(e,r){return e===t[r]}):(n==null?void 0:n.type)===this.layoutType},l.prototype.refreshLayout=function(){var n=this.graph;!n||(n.get("animate")?n.positionsAnimate():n.refreshPositions())},l.prototype.changeLayout=function(n){this.layoutCfg=n,this.destoryLayoutMethods(),this.layout()},l.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},l.prototype.destoryLayoutMethods=function(){var n=this.layoutMethods;n==null||n.forEach(function(t){t.destroy()}),this.layoutMethods=[]},l.prototype.destroyLayout=function(){var n=this.graph;this.destoryLayoutMethods(),n.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},l.prototype.setDataFromGraph=function(){for(var n=[],t=[],e=[],r=[],o=[],u=[],d=[],y=this.graph.getNodes(),P=this.graph.getEdges(),F=this.graph.getCombos(),k=y.length,rt=0;rt<k;rt++){var ut=y[rt];if(!(!ut||ut.destroyed)){var pt=ut.getModel();if(!ut.isVisible()){t.push(pt);continue}n.push(pt)}}for(var Et=P.length,rt=0;rt<Et;rt++){var Lt=P[rt];if(!(!Lt||Lt.destroyed)){var pt=Lt.getModel();if(!Lt.isVisible()){r.push(pt);continue}pt.isComboEdge?o.push(pt):e.push(pt)}}for(var Gt=F.length,rt=0;rt<Gt;rt++){var Rt=F[rt];if(!Rt.destroyed){var pt=Rt.getModel();if(!Rt.isVisible()){r.push(pt);continue}u.push(pt)}}return{nodes:n,hiddenNodes:t,edges:e,hiddenEdges:r,combos:u,hiddenCombos:d,comboEdges:o}},l.prototype.reLayoutMethod=function(n,t){var e=this;return new Promise(function(r,o){var u=e.graph,d=t==null?void 0:t.type;t.onLayoutEnd=function(){u.emit("aftersublayout",{type:d}),r()},n.init(e.data),d==="force"&&(n.ticking=!1,n.forceSimulation.stop()),u.emit("beforesublayout",{type:d}),n.execute(),n.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()})},l.prototype.relayout=function(n){var t=this,e=this,r=e.graph,o=e.layoutMethods,u=e.layoutCfg;if(n){this.data=this.setDataFromGraph();var d=this.data.nodes;if(!d)return!1;this.initPositions(u.center,d)}r.emit("beforelayout");var y=Promise.resolve();o==null||o.forEach(function(P,F){var k=u[F];y=y.then(function(){return t.reLayoutMethod(P,k)})}),y.then(function(){u.onAllLayoutEnd&&u.onAllLayoutEnd()}).catch(function(P){console.warn("relayout failed",P)})},l.prototype.filterLayoutData=function(n,t){var e=n.nodes,r=n.edges,o=Object(ge.e)(n,["nodes","edges"]);if(!e)return n;var u,d;if(Object(p.H)(t==null?void 0:t.nodesFilter)?u=t.nodesFilter:u=function(){return!0},Object(p.H)(t==null?void 0:t.edgesFilter))d=t.edgesFilter;else{var y=e.reduce(function(P,F){return P[F.id]=!0,P},{});d=function(F){return y[F.source]&&y[F.target]}}return Object(ge.a)({nodes:e.filter(u),edges:r.filter(d)},o)},l.prototype.getLayoutBBox=function(n){var t=this.graph,e=Object(p.v)(t.getNodes(),function(u){return u.getModel().layoutOrder}),r=Object.values(e).map(function(u){var d=Ss(u);return d.size=[d.width,d.height],d}),o=Object.values(Object(p.v)(n,"layoutOrder"));return{groupNodes:o,layoutNodes:r}},l.prototype.layoutAnimate=function(){},l.prototype.moveToZero=function(){var n=this.graph,t=n.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||ao(e[0].x))){for(var r=[0,0],o=e.length,u=0;u<o;u++){var d=e[u];r[0]+=d.x,r[1]+=d.y}r[0]/=e.length,r[1]/=e.length;for(var u=0;u<o;u++){var d=e[u];d.x-=r[0],d.y-=r[1]}}},l.prototype.initPositions=function(n,t){var e=this.graph;if(!t)return!1;var r=t?t.length:0;if(!!r){var o=e.get("width")*.85,u=e.get("height")*.85,d=Math.ceil(Math.sqrt(r)*(o/u)),y=Math.ceil(r/d),P=o/(d-1),F=u/(y-1);(!isFinite(P)||!P)&&(P=0),(!isFinite(F)||!P)&&(F=0);for(var k=n[0]-o/2,rt=n[1]-u/2,ut=!0,pt=0;pt<r;pt++){var Et=t[pt];ao(Et.x)&&(ut=!1,Et.x=pt%d*P+k),ao(Et.y)&&(ut=!1,Et.y=Math.floor(pt/d)*F+rt)}return ut}},l.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},l}(),nf=$h,Zf=function(){function l(n){this.graph=n,this.destroyed=!1,this.initEvents()}return l}(),$f=Zf,Gl;(function(l){l.CLICK="click",l.DBLCLICK="dblclick",l.MOUSEDOWN="mousedown",l.MOUDEUP="mouseup",l.CONTEXTMENU="contextmenu",l.MOUSEENTER="mouseenter",l.MOUSEOUT="mouseout",l.MOUSEOVER="mouseover",l.MOUSEMOVE="mousemove",l.MOUSELEAVE="mouseleave",l.DRAGSTART="dragstart",l.DRAGEND="dragend",l.DRAG="drag",l.DRAGENTER="dragenter",l.DRAGLEAVE="dragleave",l.DRAGOVER="dragover",l.DRAGOUT="dragout",l.DDROP="drop",l.KEYUP="keyup",l.KEYDOWN="keydown",l.WHEEL="wheel",l.FOCUS="focus",l.BLUR="blur",l.TOUCHSTART="touchstart",l.TOUCHMOVE="touchmove",l.TOUCHEND="touchend",l.NODE_CONTEXTMENU="node:contextmenu",l.NODE_CLICK="node:click",l.NODE_DBLCLICK="node:dblclick",l.NODE_MOUSEDOWN="node:mousedown",l.NODE_MOUSEUP="node:mouseup",l.NODE_MOUSEENTER="node:mouseenter",l.NODE_MOUSELEAVE="node:mouseleave",l.NODE_MOUSEMOVE="node:mousemove",l.NODE_MOUSEOUT="node:mouseout",l.NODE_MOUSEOVER="node:mouseover",l.NODE_DROP="node:drop",l.NODE_DRAGOVER="node:dragover",l.NODE_DRAGENTER="node:dragenter",l.NODE_DRAGLEAVE="node:dragleave",l.NODE_DRAGSTART="node:dragstart",l.NODE_DRAG="node:drag",l.NODE_DRAGEND="node:dragend",l.COMBO_CONTEXTMENU="combo:contextmenu",l.COMBO_CLICK="combo:click",l.COMBO_DBLCLICK="combo:dblclick",l.COMBO_MOUSEDOWN="combo:mousedown",l.COMBO_MOUSEUP="combo:mouseup",l.COMBO_MOUSEENTER="combo:mouseenter",l.COMBO_MOUSELEAVE="combo:mouseleave",l.COMBO_MOUSEMOVE="combo:mousemove",l.COMBO_MOUSEOUT="combo:mouseout",l.COMBO_MOUSEOVER="combo:mouseover",l.COMBO_DROP="combo:drop",l.COMBO_DRAGOVER="combo:dragover",l.COMBO_DRAGENTER="combo:dragenter",l.COMBO_DRAGLEAVE="combo:dragleave",l.COMBO_DRAGSTART="combo:dragstart",l.COMBO_DRAG="combo:drag",l.COMBO_DRAGEND="combo:dragend",l.EDGE_CONTEXTMENU="edge:contextmenu",l.EDGE_CLICK="edge:click",l.EDGE_DBLCLICK="edge:dblclick",l.EDGE_MOUSEDOWN="edge:mousedown",l.EDGE_MOUSEUP="edge:mouseup",l.EDGE_MOUSEENTER="edge:mouseenter",l.EDGE_MOUSELEAVE="edge:mouseleave",l.EDGE_MOUSEMOVE="edge:mousemove",l.EDGE_MOUSEOUT="edge:mouseout",l.EDGE_MOUSEOVER="edge:mouseover",l.EDGE_DROP="edge:drop",l.EDGE_DRAGOVER="edge:dragover",l.EDGE_DRAGENTER="edge:dragenter",l.EDGE_DRAGLEAVE="edge:dragleave",l.CANVAS_CONTEXTMENU="canvas:contextmenu",l.CANVAS_CLICK="canvas:click",l.CANVAS_DBLCLICK="canvas:dblclick",l.CANVAS_MOUSEDOWN="canvas:mousedown",l.CANVAS_MOUSEUP="canvas:mouseup",l.CANVAS_MOUSEENTER="canvas:mouseenter",l.CANVAS_MOUSELEAVE="canvas:mouseleave",l.CANVAS_MOUSEMOVE="canvas:mousemove",l.CANVAS_MOUSEOUT="canvas:mouseout",l.CANVAS_MOUSEOVER="canvas:mouseover",l.CANVAS_DROP="canvas:drop",l.CANVAS_DRAGENTER="canvas:dragenter",l.CANVAS_DRAGLEAVE="canvas:dragleave",l.CANVAS_DRAGSTART="canvas:dragstart",l.CANVAS_DRAG="canvas:drag",l.CANVAS_DRAGEND="canvas:dragend",l.BEFORERENDER="beforerender",l.AFTERRENDER="afterrender",l.BEFOREADDITEM="beforeadditem",l.AFTERADDITEM="afteradditem",l.BEFOREREMOVEITEM="beforeremoveitem",l.AFTERREMOVEITEM="afterremoveitem",l.BEFOREUPDATEITEM="beforeupdateitem",l.AFTERUPDATEITEM="afterupdateitem",l.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",l.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",l.BEFOREITEMSTATECHANGE="beforeitemstatechange",l.AFTERITEMSTATECHANGE="afteritemstatechange",l.BEFOREITEMREFRESH="beforeitemrefresh",l.AFTERITEMREFRESH="afteritemrefresh",l.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",l.AFTERITEMSTATESCLEAR="afteritemstatesclear",l.BEFOREMODECHANGE="beforemodechange",l.AFTERMODECHANGE="aftermodechange",l.BEFORELAYOUT="beforelayout",l.AFTERLAYOUT="afterlayout",l.BEFORECREATEEDGE="beforecreateedge",l.AFTERCREATEEDGE="aftercreateedge",l.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",l.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",l.BEFOREGRAPHREFRESH="beforegraphrefresh",l.AFTERGRAPHREFRESH="aftergraphrefresh",l.BEFOREANIMATE="beforeanimate",l.AFTERANIMATE="afteranimate",l.BEFOREPAINT="beforepaint",l.AFTERPAINT="afterpaint",l.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",l.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",l.GRAPHSTATECHANGE="graphstatechange",l.AFTERACTIVATERELATIONS="afteractivaterelations",l.NODESELECTCHANGE="nodeselectchange",l.TOOLTIPCHANGE="tooltipchange",l.WHEELZOOM="wheelzoom",l.VIEWPORTCHANGE="viewportchange",l.DRAGNODEEND="dragnodeend",l.STACKCHANGE="stackchange"})(Gl||(Gl={}));var Is=Xo.registerNode,Qh=Xo.registerEdge,bu=Xo.registerCombo,Qf=Wi.registerBehavior,An=mn,Ud={version:mn.version,AbstractGraph:gu,BaseGlobal:An,Util:Ho,Shape:Xo,Node:Qu,Edge:cs,Combo:zc,Hull:kf,registerNode:Xo.registerNode,registerEdge:Xo.registerEdge,registerCombo:Xo.registerCombo,registerBehavior:Wi.registerBehavior,Arrow:Hf,Marker:Kh,AbstractLayout:nf,AbstractEvent:$f},hs=a("hAmL"),Os=a("l/Sb"),Lr=a("99LQ");function il(l,n,t){var e=[0,0,0,0,0,0,0,0,0];return Lr.a.fromTranslation(e,t),Lr.a.multiply(l,e,n)}function Jf(l,n,t){var e=[0,0,0,0,0,0,0,0,0];return Lr.a.fromRotation(e,t),Lr.a.multiply(l,e,n)}function ol(l,n,t){var e=[0,0,0,0,0,0,0,0,0];return Lr.a.fromScaling(e,t),Lr.a.multiply(l,e,n)}function af(l,n,t){return Lr.a.multiply(l,t,n)}function Ou(l,n){for(var t=l?[].concat(l):[1,0,0,0,1,0,0,0,1],e=0,r=n.length;e<r;e++){var o=n[e];switch(o[0]){case"t":il(t,t,[o[1],o[2]]);break;case"s":ol(t,t,[o[1],o[2]]);break;case"r":Jf(t,t,o[1]);break;case"m":af(t,t,o[1]);break;default:break}}return t}function Ul(l,n){return l[0]*n[1]-n[0]*l[1]}function of(l,n,t){var e=Lr.d.angle(l,n),r=Ul(l,n)>=0;return t?r?Math.PI*2-e:e:r?e:Math.PI*2-e}function sf(l,n,t){return t?(l[0]=n[1],l[1]=-1*n[0]):(l[0]=-1*n[1],l[1]=n[0]),l}var nc=a("qRoJ"),Ps=a.n(nc),_f=a("q4Li"),xu=a.n(_f),Eu=2,lf=.16,uf=.05,cf=.05,qf=.15,ff=5,ac=4,hf=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ic(l,n,t){var e;return Math.round(l.h)>=60&&Math.round(l.h)<=240?e=t?Math.round(l.h)-Eu*n:Math.round(l.h)+Eu*n:e=t?Math.round(l.h)+Eu*n:Math.round(l.h)-Eu*n,e<0?e+=360:e>=360&&(e-=360),e}function df(l,n,t){if(l.h===0&&l.s===0)return l.s;var e;return t?e=l.s-lf*n:n===ac?e=l.s+lf:e=l.s+uf*n,e>1&&(e=1),t&&n===ff&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function oc(l,n,t){var e;return t?e=l.v+cf*n:e=l.v-qf*n,e>1&&(e=1),Number(e.toFixed(2))}function Wl(l){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=xu()(l),r=ff;r>0;r-=1){var o=e.toHsv(),u=xu()({h:ic(o,r,!0),s:df(o,r,!0),v:oc(o,r,!0)}).toHexString();t.push(u)}t.push(e.toHexString());for(var d=1;d<=ac;d+=1){var y=e.toHsv(),P=xu()({h:ic(y,d),s:df(y,d),v:oc(y,d)}).toHexString();t.push(P)}return n.theme==="dark"?hf.map(function(F){var k=F.index,rt=F.opacity,ut=xu.a.mix(n.backgroundColor||"#141414",t[k],rt*100).toHexString();return ut}):t}var Mu={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},co={},Su={};Object.keys(Mu).forEach(function(l){co[l]=Wl(Mu[l]),co[l].primary=co[l][5],Su[l]=Wl(Mu[l],{theme:"dark",backgroundColor:"#141414"}),Su[l].primary=Su[l][5]});var sc=co.red,Jh=co.volcano,vf=co.gold,_h=co.orange,qh=co.yellow,gf=co.lime,th=co.green,lc=co.cyan,eh=co.blue,uc=co.geekblue,Zs=co.purple,cc=co.magenta,$s=co.grey,zi=function(n,t,e){var r=Ps()(n),o=Ps()(t);return Ps()([(1-e)*r.red()+e*o.red(),(1-e)*r.green()+e*o.green(),(1-e)*r.blue()+e*o.blue()]).rgb()},zl=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="rgb(150, 150, 150)");var r=zi(t,n,.05).rgb().toString(),o=zi(t,n,.1).rgb().toString(),u=zi(t,n,.2).rgb().toString(),d=zi(t,n,.4).rgb().toString(),y=zi(t,e,.02).rgb().toString(),P=zi(t,e,.05).rgb().toString(),F=zi(t,e,.1).rgb().toString(),k=zi(t,e,.2).rgb().toString(),rt=zi(t,e,.3).rgb().toString(),ut=Wl(n,{theme:"default",backgroundColor:t}),pt=Ps()(n).hex().toLowerCase(),Et=ut.indexOf(pt),Lt=n;return Et!==-1&&(Lt=ut[Et+1]),{mainStroke:n,mainFill:o,activeStroke:n,activeFill:r,inactiveStroke:d,inactiveFill:r,selectedStroke:n,selectedFill:t,highlightStroke:Lt,highlightFill:u,disableStroke:rt,disableFill:P,edgeMainStroke:rt,edgeActiveStroke:n,edgeInactiveStroke:k,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:F,comboMainStroke:rt,comboMainFill:y,comboActiveStroke:n,comboActiveFill:r,comboInactiveStroke:rt,comboInactiveFill:y,comboSelectedStroke:n,comboSelectedFill:y,comboHighlightStroke:Lt,comboHighlightFill:y,comboDisableStroke:k,comboDisableFill:P}},sl=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="#777");var r=zi(t,n,.2).rgb().toString(),o=zi(t,n,.3).rgb().toString(),u=zi(t,n,.6).rgb().toString(),d=zi(t,n,.8).rgb().toString(),y=zi(t,e,.2).rgb().toString(),P=zi(t,e,.25).rgb().toString(),F=zi(t,e,.3).rgb().toString(),k=zi(t,e,.4).rgb().toString(),rt=zi(t,e,.5).rgb().toString(),ut=Wl(n,{theme:"dark",backgroundColor:t}),pt=Ps()(n).hex().toLowerCase(),Et=ut.indexOf(pt),Lt=n;return Et!==-1&&(Lt=ut[Et+1]),{mainStroke:d,mainFill:r,activeStroke:n,activeFill:o,inactiveStroke:d,inactiveFill:r,selectedStroke:n,selectedFill:r,highlightStroke:n,highlightFill:u,disableStroke:rt,disableFill:P,edgeMainStroke:e,edgeActiveStroke:n,edgeInactiveStroke:e,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:F,comboMainStroke:k,comboMainFill:P,comboActiveStroke:n,comboActiveFill:y,comboInactiveStroke:k,comboInactiveFill:P,comboSelectedStroke:n,comboSelectedFill:y,comboHighlightStroke:Lt,comboHighlightFill:P,comboDisableStroke:k,comboDisableFill:y}},Ds=function(n,t,e,r){return t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)"),e==="default"?zl(n,t,"rgb(150, 150, 150)"):sl(n,t,"#777")},ll=function(n,t,e,r){t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)");var o=[];return n.forEach(function(u){o.push(Ds(u,t,e,r))}),o},fc="rgb(95, 149, 255)",hc="rgb(255, 255, 255)",ul="rgb(0, 0, 0)",Ha=Ds(fc,hc),js={version:"0.2.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Ha.mainStroke,fill:Ha.mainFill},size:20,color:Ha.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Ha.activeFill,stroke:Ha.activeStroke}},nodeStateStyles:{active:{fill:Ha.activeFill,stroke:Ha.activeStroke,lineWidth:2,shadowColor:Ha.mainStroke,shadowBlur:10},selected:{fill:Ha.selectedFill,stroke:Ha.selectedStroke,lineWidth:4,shadowColor:Ha.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Ha.highlightFill,stroke:Ha.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Ha.inactiveFill,stroke:Ha.inactiveStroke,lineWidth:1},disable:{fill:Ha.disableFill,stroke:Ha.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:ul,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Ha.edgeMainStroke,lineAppendWidth:2},color:Ha.edgeMainStroke},edgeStateStyles:{active:{stroke:Ha.edgeActiveStroke,lineWidth:1},selected:{stroke:Ha.edgeSelectedStroke,lineWidth:2,shadowColor:Ha.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ha.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Ha.edgeInactiveStroke,lineWidth:1},disable:{stroke:Ha.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:ul,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Ha.comboMainFill,lineWidth:1,stroke:Ha.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Ha.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Ha.comboActiveStroke,lineWidth:1,fill:Ha.comboActiveFill},selected:{stroke:Ha.comboSelectedStroke,lineWidth:2,fill:Ha.comboSelectedFill,shadowColor:Ha.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ha.comboHighlightStroke,lineWidth:2,fill:Ha.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Ha.comboInactiveStroke,fill:Ha.comboInactiveFill,lineWidth:1},disable:{stroke:Ha.comboDisableStroke,fill:Ha.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},kl=Ho.cloneEvent,Vl=Ho.isViewportChanged,td=function(l){Object(ge.c)(n,l);function n(t){var e=l.call(this,t)||this;return e.extendEvents=[],e.dragging=!1,e.preItem=null,e.graph=t,e.destroyed=!1,e.initEvents(),e}return n.prototype.initEvents=function(){var t=this,e=t.graph,r=t.extendEvents,o=r===void 0?[]:r,u=e.get("canvas"),d=u.get("el"),y=Object(p.wb)(this,"onCanvasEvents"),P=Object(p.wb)(this,"onExtendEvents"),F=Object(p.wb)(this,"onWheelEvent");u.off("*").on("*",y),this.canvasHandler=y,o.push(Object(ra.a)(d,"DOMMouseScroll",F)),o.push(Object(ra.a)(d,"mousewheel",F)),typeof window!="undefined"&&(o.push(Object(ra.a)(window,"keydown",P)),o.push(Object(ra.a)(window,"keyup",P)),o.push(Object(ra.a)(window,"focus",P)))},n.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},n.prototype.onCanvasEvents=function(t){var e=this.graph,r=e.get("canvas"),o=t.target,u=t.type;t.canvasX=t.x,t.canvasY=t.y;var d={x:t.canvasX,y:t.canvasY},y=e.get("group"),P=y.getMatrix();if(P||(P=[1,0,0,0,1,0,0,0,1]),Vl(P)&&(d=e.getPointByClient(t.clientX,t.clientY)),t.x=d.x,t.y=d.y,t.currentTarget=e,o===r){(u==="mousemove"||u==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=r,t.item=null,e.emit(u,t),e.emit("canvas:"+u,t);return}var F=n.getItemRoot(o);if(!F){e.emit(u,t);return}var k=F.get("item");if(!k.destroyed){var rt=k.getType();if(t.target=o,t.item=k,t.canvasX===t.x&&t.canvasY===t.y){var ut=e.getCanvasByPoint(t.x,t.y);t.canvasX=ut.x,t.canvasY=ut.y}e.emit(u,t),t.name&&!t.name.includes(":")?e.emit(rt+":"+u,t):e.emit(t.name,t),u==="dragstart"&&(this.dragging=!0),u==="dragend"&&(this.dragging=!1),u==="mousemove"&&this.handleMouseMove(t,rt)}},n.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},n.prototype.onWheelEvent=function(t){Object(p.I)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},n.prototype.handleMouseMove=function(t,e){var r=this,o=r.graph,u=r.preItem,d=o.get("canvas"),y=t.target===d?null:t.item;t=kl(t),u&&u!==y&&!u.destroyed&&(t.item=u,this.emitCustomEvent(u.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(u.getType(),"dragleave",t)),y&&u!==y&&(t.item=y,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=y},n.prototype.emitCustomEvent=function(t,e,r){r.type=e,this.graph.emit(t+":"+e,r)},n.prototype.destroy=function(){var t=this,e=t.graph,r=t.canvasHandler,o=t.extendEvents,u=e.get("canvas");u.off("*",r),Object(p.j)(o,function(d){d.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},n}($f),rh=td,di=a("MD6V"),pf=a("IDEi"),oo=a("43jC"),fo=a("qOUI"),vi=a("rPbD"),Io=function(){function l(){Object(di.a)(this,l),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return Object(vi.a)(l,[{key:"layout",value:function(t){return this.init(t),this.execute(!0)}},{key:"init",value:function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}},{key:"execute",value:function(t){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(t){t&&Object.assign(this,t)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}]),l}(),Cu=function(n){return typeof n=="string"},nh=function(n){var t=Object.create(null);return function(e){var r=t[e];return r||(t[e]=n(e))}},ah=/-(\w)/g,Wd=nh(function(l){return l.replace(ah,function(n,t){return t?t.toUpperCase():""})}),ho=Array.isArray,Fn=function(n){return typeof n=="number"},dc=function(n){return Number.isNaN(Number(n))},zd=function(n){var t=parseFloat(n);return dc(t)?n:t},Tu=function(n,t,e){for(var r=[],o=0;o<n;o++)r[o]=0;return e&&e.forEach(function(u){u.source&&(r[t[u.source]]+=1),u.target&&(r[t[u.target]]+=1)}),r},ih=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var o=0;o<e;o+=1)r===o?t[r][o]=0:n[r][o]===0||!n[r][o]?t[r][o]=Infinity:t[r][o]=n[r][o]}for(var u=0;u<e;u+=1)for(var d=0;d<e;d+=1)for(var y=0;y<e;y+=1)t[d][y]>t[d][u]+t[u][y]&&(t[d][y]=t[d][u]+t[u][y]);return t},oh=function(n,t){var e=n.nodes,r=n.edges,o=[],u={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(d,y){u[d.id]=y;var P=[];o.push(P)}),r&&r.forEach(function(d){var y=d.source,P=d.target,F=u[y],k=u[P];o[F][k]=1,t||(o[k][F]=1)}),o},sh=function(n,t){var e=[];return n.forEach(function(r){var o=[];r.forEach(function(u){o.push(u*t)}),e.push(o)}),e},ed=function l(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!l(n.children[e],t))return}return!!t(n)},cl=function(n,t){typeof t=="function"&&ed(n,t)},vc=function(n){return n!==null&&typeof n=="object"},gc=function l(n){if(n===null)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof Array){var t=[];return n.forEach(function(r){t.push(r)}),t.map(function(r){return l(r)})}if(typeof n=="object"&&n!=={}){var e=Object.assign({},n);return Object.keys(e).forEach(function(r){e[r]=l(e[r])}),e}return n},os=function(n){return typeof n=="function"},Ls=new Map,to=function(n,t){if(Ls.get(n)&&console.warn("The layout with the name ".concat(n," exists already, it will be overridden")),vc(t)){var e=function(r){Object(oo.a)(u,r);var o=Object(fo.a)(u);function u(d){var y;Object(di.a)(this,u),y=o.call(this);var P=Object(pf.a)(y),F={},k=P.getDefaultCfg();return Object.assign(F,k,t,d),Object.keys(F).forEach(function(rt){var ut=F[rt];P[rt]=ut}),y}return u}(Io);Ls.set(n,e)}else Ls.set(n,t)},yf=function(n){Ls.has(n)&&Ls.delete(n)},fl=function(n){return Ls.has(n)?Ls.get(n):null},mf=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.begin=[0,0],r.preventOverlap=!0,r.preventOverlapPadding=10,r.condense=!1,r.sortBy="degree",r.nodeSize=30,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.row=0,r.col=0,r.cellWidth=0,r.cellHeight=0,r.cellUsed={},r.id2manPos={},r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=o.length,d=r.begin;if(u===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(u===1){o[0].x=d[0],o[0].y=d[1],r.onLayoutEnd&&r.onLayoutEnd();return}var y=r.edges,P=[];o.forEach(function(ie){P.push(ie)});var F={};if(P.forEach(function(ie,ce){F[ie.id]=ce}),(r.sortBy==="degree"||!Cu(r.sortBy)||P[0][r.sortBy]===void 0)&&(r.sortBy="degree",dc(o[0].degree))){var k=Tu(P.length,F,y);P.forEach(function(ie,ce){ie.degree=k[ce]})}P.sort(function(ie,ce){return ce[r.sortBy]-ie[r.sortBy]}),!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var rt=r.rows,ut=r.cols!=null?r.cols:r.columns;if(r.cells=u,rt!=null&&ut!=null?(r.rows=rt,r.cols=ut):rt!=null&&ut==null?(r.rows=rt,r.cols=Math.ceil(r.cells/r.rows)):rt==null&&ut!=null?(r.cols=ut,r.rows=Math.ceil(r.cells/r.cols)):(r.splits=Math.sqrt(r.cells*r.height/r.width),r.rows=Math.round(r.splits),r.cols=Math.round(r.width/r.height*r.splits)),r.cols*r.rows>r.cells){var pt=r.small(),Et=r.large();(pt-1)*Et>=r.cells?r.small(pt-1):(Et-1)*pt>=r.cells&&r.large(Et-1)}else for(;r.cols*r.rows<r.cells;){var Lt=r.small(),Gt=r.large();(Gt+1)*Lt>=r.cells?r.large(Gt+1):r.small(Lt+1)}r.cellWidth=r.width/r.cols,r.cellHeight=r.height/r.rows,r.condense&&(r.cellWidth=0,r.cellHeight=0),r.preventOverlap&&P.forEach(function(ie){(!ie.x||!ie.y)&&(ie.x=0,ie.y=0);var ce,be;ho(ie.size)?(ce=ie.size[0],be=ie.size[1]):Fn(ie.size)&&(ce=ie.size,be=ie.size),(ce===void 0||be===void 0)&&(ho(r.nodeSize)?(ce=r.nodeSize[0],be=r.nodeSize[1]):Fn(r.nodeSize)?(ce=r.nodeSize,be=r.nodeSize):(ce=30,be=30));var Pe=r.preventOverlapPadding,Se=ce+Pe,Ue=be+Pe;r.cellWidth=Math.max(r.cellWidth,Se),r.cellHeight=Math.max(r.cellHeight,Ue)}),r.cellUsed={},r.row=0,r.col=0,r.id2manPos={};for(var Rt=0;Rt<P.length;Rt++){var Xt=P[Rt],Zt=void 0;if(r.position&&(Zt=r.position(Xt)),Zt&&(Zt.row!==void 0||Zt.col!==void 0)){var _t={row:Zt.row,col:Zt.col};if(_t.col===void 0)for(_t.col=0;r.used(_t.row,_t.col);)_t.col++;else if(_t.row===void 0)for(_t.row=0;r.used(_t.row,_t.col);)_t.row++;r.id2manPos[Xt.id]=_t,r.use(_t.row,_t.col)}r.getPos(Xt)}return r.onLayoutEnd&&r.onLayoutEnd(),{edges:y,nodes:P}}},{key:"small",value:function(r){var o=this,u,d=o.rows||5,y=o.cols||5;if(r==null)u=Math.min(d,y);else{var P=Math.min(d,y);P===o.rows?o.rows=r:o.cols=r}return u}},{key:"large",value:function(r){var o=this,u,d=o.rows||5,y=o.cols||5;if(r==null)u=Math.max(d,y);else{var P=Math.max(d,y);P===o.rows?o.rows=r:o.cols=r}return u}},{key:"used",value:function(r,o){var u=this;return u.cellUsed["c-".concat(r,"-").concat(o)]||!1}},{key:"use",value:function(r,o){var u=this;u.cellUsed["c-".concat(r,"-").concat(o)]=!0}},{key:"moveToNextCell",value:function(){var r=this,o=r.cols||5;r.col++,r.col>=o&&(r.col=0,r.row++)}},{key:"getPos",value:function(r){var o=this,u=o.begin,d=o.cellWidth,y=o.cellHeight,P,F,k=o.id2manPos[r.id];if(k)P=k.col*d+d/2+u[0],F=k.row*y+y/2+u[1];else{for(;o.used(o.row,o.col);)o.moveToNextCell();P=o.col*d+d/2+u[0],F=o.row*y+y/2+u[1],o.use(o.row,o.col),o.moveToNextCell()}r.x=P,r.y=F}},{key:"getType",value:function(){return"grid"}}]),t}(Io),hl=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=.9,d=r.center;return!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),o&&o.forEach(function(y){y.x=(Math.random()-.5)*u*r.width+d[0],y.y=(Math.random()-.5)*u*r.height+d[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:this.edges}}},{key:"getType",value:function(){return"random"}}]),t}(Io),Xl=function(n,t){var e;return n?Fn(n)?e=function(o){return n}:e=n:e=function(o){return t||1},e},pc=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=.5,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.preventOverlap=!0,r.tick=function(){},r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var r=this,o=r.nodes;if(r.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(r.timeInterval),!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var u=r.center;if(o.length===1){o[0].x=u[0],o[0].y=u[1],r.onLayoutEnd&&r.onLayoutEnd();return}var d={},y={};o.forEach(function(pt,Et){Fn(pt.x)||(pt.x=Math.random()*r.width),Fn(pt.y)||(pt.y=Math.random()*r.height),d[pt.id]=pt,y[pt.id]=Et}),r.nodeMap=d,r.nodeIdxMap=y,r.linkDistance=Xl(r.linkDistance,1),r.nodeStrength=Xl(r.nodeStrength,1),r.edgeStrength=Xl(r.edgeStrength,1);var P=r.nodeSize,F;if(r.preventOverlap){var k=r.nodeSpacing,rt;Fn(k)?rt=function(){return k}:os(k)?rt=k:rt=function(){return 0},P?ho(P)?F=function(Et){var Lt=P[0]>P[1]?P[0]:P[1];return Lt+rt(Et)}:F=function(Et){return P+rt(Et)}:F=function(Et){if(Et.size){if(ho(Et.size)){var Lt=Et.size[0]>Et.size[1]?Et.size[0]:Et.size[1];return Lt+rt(Et)}return Et.size+rt(Et)}return 10+rt(Et)}}r.nodeSize=F;var ut=r.edges;r.degrees=Tu(o.length,r.nodeIdxMap,ut),r.getMass||(r.getMass=function(pt){return r.degrees[r.nodeIdxMap[pt.id]]||1}),r.run()}},{key:"run",value:function(){var r=this,o=r.nodes,u=r.edges,d=r.maxIteration;if(typeof window!="undefined"){var y=0;this.timeInterval=window.setInterval(function(){var P=[],F=[];if(!!o){o.forEach(function(pt,Et){P[2*Et]=0,P[2*Et+1]=0,F[2*Et]=0,F[2*Et+1]=0}),r.calRepulsive(P,o),u&&r.calAttractive(P,u),r.calGravity(P,o);var k=Math.max(.02,r.interval-y*.002);r.updateVelocity(P,F,k,o);var rt=[];o.forEach(function(pt){rt.push({x:pt.x,y:pt.y})}),r.updatePosition(F,k,o),r.tick&&r.tick();var ut=0;o.forEach(function(pt,Et){var Lt=pt.x-rt[Et].x,Gt=pt.y-rt[Et].y;ut+=Math.sqrt(Lt*Lt+Gt*Gt)}),ut/=o.length,ut<r.minMovement&&(window.clearInterval(r.timeInterval),r.onLayoutEnd&&r.onLayoutEnd()),y++,y>d&&(window.clearInterval(r.timeInterval),r.onLayoutEnd&&r.onLayoutEnd())}},0)}}},{key:"calRepulsive",value:function(r,o){var u=this,d=u.getMass,y=u.nodeStrength,P=u.factor,F=u.coulombDisScale,k=u.preventOverlap,rt=u.nodeSize;o.forEach(function(ut,pt){var Et=d?d(ut):1;o.forEach(function(Lt,Gt){if(!(pt>=Gt)){var Rt=ut.x-Lt.x,Xt=ut.y-Lt.y,Zt=Math.sqrt(Rt*Rt+Xt*Xt)+.01,_t=(Zt+.1)*F,ie=Rt/Zt,ce=Xt/Zt,be=(y(ut)+y(Lt))/2*P/(_t*_t),Pe=d?d(Lt):1;if(r[2*pt]+=ie*be/Et,r[2*pt+1]+=ce*be/Et,r[2*Gt]-=ie*be/Pe,r[2*Gt+1]-=ce*be/Pe,k&&Zt<(rt(ut)+rt(Lt))/2){var Se=(y(ut)+y(Lt))/2/(Zt*Zt);r[2*pt]+=ie*Se/Et,r[2*pt+1]+=ce*Se/Et,r[2*Gt]-=ie*Se/Pe,r[2*Gt+1]-=ce*Se/Pe}}})})}},{key:"calAttractive",value:function(r,o){var u=this,d=u.nodeMap,y=u.nodeIdxMap,P=u.linkDistance,F=u.edgeStrength,k=u.getMass;o.forEach(function(rt,ut){var pt=d[rt.source],Et=d[rt.target],Lt=Et.x-pt.x,Gt=Et.y-pt.y,Rt=Math.sqrt(Lt*Lt+Gt*Gt)+.01,Xt=Lt/Rt,Zt=Gt/Rt,_t=P(rt)||1,ie=_t-Rt,ce=ie*F(rt),be=y[rt.source],Pe=y[rt.target],Se=k?k(pt):1,Ue=k?k(Et):1;r[2*be]-=Xt*ce/Se,r[2*be+1]-=Zt*ce/Se,r[2*Pe]+=Xt*ce/Ue,r[2*Pe+1]+=Zt*ce/Ue})}},{key:"calGravity",value:function(r,o){for(var u=this,d=u.center,y=u.gravity,P=u.degrees,F=o.length,k=0;k<F;k++){var rt=o[k],ut=rt.x-d[0],pt=rt.y-d[1],Et=y;if(u.getCenter){var Lt=u.getCenter(rt,P[k]);Lt&&Fn(Lt[0])&&Fn(Lt[1])&&Fn(Lt[2])&&(ut=rt.x-Lt[0],pt=rt.y-Lt[1],Et=Lt[2])}!Et||(r[2*k]-=Et*ut,r[2*k+1]-=Et*pt)}}},{key:"updateVelocity",value:function(r,o,u,d){var y=this,P=u*y.damping;d.forEach(function(F,k){var rt=r[2*k]*P||.01,ut=r[2*k+1]*P||.01,pt=Math.sqrt(rt*rt+ut*ut);if(pt>y.maxSpeed){var Et=y.maxSpeed/pt;rt=Et*rt,ut=Et*ut}o[2*k]=rt,o[2*k+1]=ut})}},{key:"updatePosition",value:function(r,o,u){u.forEach(function(d,y){var P=r[2*y]*o,F=r[2*y+1]*o;d.x+=P,d.y+=F})}},{key:"stop",value:function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}]),t}(Io),Au=function(l){var n=+this._x.call(null,l),t=+this._y.call(null,l);return Hl(this.cover(n,t),n,t,l)};function Hl(l,n,t,e){if(isNaN(n)||isNaN(t))return l;var r,o=l._root,u={data:e},d=l._x0,y=l._y0,P=l._x1,F=l._y1,k,rt,ut,pt,Et,Lt,Gt,Rt;if(!o)return l._root=u,l;for(;o.length;)if((Et=n>=(k=(d+P)/2))?d=k:P=k,(Lt=t>=(rt=(y+F)/2))?y=rt:F=rt,r=o,!(o=o[Gt=Lt<<1|Et]))return r[Gt]=u,l;if(ut=+l._x.call(null,o.data),pt=+l._y.call(null,o.data),n===ut&&t===pt)return u.next=o,r?r[Gt]=u:l._root=u,l;do r=r?r[Gt]=new Array(4):l._root=new Array(4),(Et=n>=(k=(d+P)/2))?d=k:P=k,(Lt=t>=(rt=(y+F)/2))?y=rt:F=rt;while((Gt=Lt<<1|Et)==(Rt=(pt>=rt)<<1|ut>=k));return r[Rt]=o,r[Gt]=u,l}function Iu(l){var n,t,e=l.length,r,o,u=new Array(e),d=new Array(e),y=Infinity,P=Infinity,F=-Infinity,k=-Infinity;for(t=0;t<e;++t)isNaN(r=+this._x.call(null,n=l[t]))||isNaN(o=+this._y.call(null,n))||(u[t]=r,d[t]=o,r<y&&(y=r),r>F&&(F=r),o<P&&(P=o),o>k&&(k=o));if(y>F||P>k)return this;for(this.cover(y,P).cover(F,k),t=0;t<e;++t)Hl(this,u[t],d[t],l[t]);return this}var dl=function(l,n){if(isNaN(l=+l)||isNaN(n=+n))return this;var t=this._x0,e=this._y0,r=this._x1,o=this._y1;if(isNaN(t))r=(t=Math.floor(l))+1,o=(e=Math.floor(n))+1;else{for(var u=r-t||1,d=this._root,y,P;t>l||l>=r||e>n||n>=o;)switch(P=(n<e)<<1|l<t,y=new Array(4),y[P]=d,d=y,u*=2,P){case 0:r=t+u,o=e+u;break;case 1:t=r-u,o=e+u;break;case 2:r=t+u,e=o-u;break;case 3:t=r-u,e=o-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=t,this._y0=e,this._x1=r,this._y1=o,this},Pu=function(){var l=[];return this.visit(function(n){if(!n.length)do l.push(n.data);while(n=n.next)}),l},lh=function(l){return arguments.length?this.cover(+l[0][0],+l[0][1]).cover(+l[1][0],+l[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},so=function(l,n,t,e,r){this.node=l,this.x0=n,this.y0=t,this.x1=e,this.y1=r},vl=function(l,n,t){var e,r=this._x0,o=this._y0,u,d,y,P,F=this._x1,k=this._y1,rt=[],ut=this._root,pt,Et;for(ut&&rt.push(new so(ut,r,o,F,k)),t==null?t=Infinity:(r=l-t,o=n-t,F=l+t,k=n+t,t*=t);pt=rt.pop();)if(!(!(ut=pt.node)||(u=pt.x0)>F||(d=pt.y0)>k||(y=pt.x1)<r||(P=pt.y1)<o))if(ut.length){var Lt=(u+y)/2,Gt=(d+P)/2;rt.push(new so(ut[3],Lt,Gt,y,P),new so(ut[2],u,Gt,Lt,P),new so(ut[1],Lt,d,y,Gt),new so(ut[0],u,d,Lt,Gt)),(Et=(n>=Gt)<<1|l>=Lt)&&(pt=rt[rt.length-1],rt[rt.length-1]=rt[rt.length-1-Et],rt[rt.length-1-Et]=pt)}else{var Rt=l-+this._x.call(null,ut.data),Xt=n-+this._y.call(null,ut.data),Zt=Rt*Rt+Xt*Xt;if(Zt<t){var _t=Math.sqrt(t=Zt);r=l-_t,o=n-_t,F=l+_t,k=n+_t,e=ut.data}}return e},uh=function(l){if(isNaN(F=+this._x.call(null,l))||isNaN(k=+this._y.call(null,l)))return this;var n,t=this._root,e,r,o,u=this._x0,d=this._y0,y=this._x1,P=this._y1,F,k,rt,ut,pt,Et,Lt,Gt;if(!t)return this;if(t.length)for(;;){if((pt=F>=(rt=(u+y)/2))?u=rt:y=rt,(Et=k>=(ut=(d+P)/2))?d=ut:P=ut,n=t,!(t=t[Lt=Et<<1|pt]))return this;if(!t.length)break;(n[Lt+1&3]||n[Lt+2&3]||n[Lt+3&3])&&(e=n,Gt=Lt)}for(;t.data!==l;)if(r=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,r?(o?r.next=o:delete r.next,this):n?(o?n[Lt]=o:delete n[Lt],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(e?e[Gt]=t:this._root=t),this):(this._root=o,this)};function bf(l){for(var n=0,t=l.length;n<t;++n)this.remove(l[n]);return this}var rd=function(){return this._root},ch=function(){var l=0;return this.visit(function(n){if(!n.length)do++l;while(n=n.next)}),l},fh=function(l){var n=[],t,e=this._root,r,o,u,d,y;for(e&&n.push(new so(e,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!l(e=t.node,o=t.x0,u=t.y0,d=t.x1,y=t.y1)&&e.length){var P=(o+d)/2,F=(u+y)/2;(r=e[3])&&n.push(new so(r,P,F,d,y)),(r=e[2])&&n.push(new so(r,o,F,P,y)),(r=e[1])&&n.push(new so(r,P,u,d,F)),(r=e[0])&&n.push(new so(r,o,u,P,F))}return this},Rs=function(l){var n=[],t=[],e;for(this._root&&n.push(new so(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,u=e.x0,d=e.y0,y=e.x1,P=e.y1,F=(u+y)/2,k=(d+P)/2;(o=r[0])&&n.push(new so(o,u,d,F,k)),(o=r[1])&&n.push(new so(o,F,d,y,k)),(o=r[2])&&n.push(new so(o,u,k,F,P)),(o=r[3])&&n.push(new so(o,F,k,y,P))}t.push(e)}for(;e=t.pop();)l(e.node,e.x0,e.y0,e.x1,e.y1);return this};function hh(l){return l[0]}var dh=function(l){return arguments.length?(this._x=l,this):this._x};function yc(l){return l[1]}var nd=function(l){return arguments.length?(this._y=l,this):this._y};function mc(l,n,t){var e=new ds(n==null?hh:n,t==null?yc:t,NaN,NaN,NaN,NaN);return l==null?e:e.addAll(l)}function ds(l,n,t,e,r,o){this._x=l,this._y=n,this._x0=t,this._y0=e,this._x1=r,this._y1=o,this._root=void 0}function Yo(l){for(var n={data:l.data},t=n;l=l.next;)t=t.next={data:l.data};return n}var po=mc.prototype=ds.prototype;po.copy=function(){var l=new ds(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,e;if(!n)return l;if(!n.length)return l._root=Yo(n),l;for(t=[{source:n,target:l._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(e=n.source[r])&&(e.length?t.push({source:e,target:n.target[r]=new Array(4)}):n.target[r]=Yo(e));return l},po.add=Au,po.addAll=Iu,po.cover=dl,po.data=Pu,po.extent=lh,po.find=vl,po.remove=uh,po.removeAll=bf,po.root=rd,po.size=ch,po.visit=fh,po.visitAfter=Rs,po.x=dh,po.y=nd;var eo=function(l){return function(){return l}},Po=function(l){return(l()-.5)*1e-6},vh={value:function(){}};function bc(){for(var l=0,n=arguments.length,t={},e;l<n;++l){if(!(e=arguments[l]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new gl(t)}function gl(l){this._=l}function gh(l,n){return l.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}gl.prototype=bc.prototype={constructor:gl,on:function(n,t){var e=this._,r=gh(n+"",e),o,u=-1,d=r.length;if(arguments.length<2){for(;++u<d;)if((o=(n=r[u]).type)&&(o=Do(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<d;)if(o=(n=r[u]).type)e[o]=ws(e[o],n.name,t);else if(t==null)for(o in e)e[o]=ws(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new gl(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),r=0,o,u;r<o;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],r=0,o=u.length;r<o;++r)u[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,u=r.length;o<u;++o)r[o].value.apply(t,e)}};function Do(l,n){for(var t=0,e=l.length,r;t<e;++t)if((r=l[t]).name===n)return r.value}function ws(l,n,t){for(var e=0,r=l.length;e<r;++e)if(l[e].name===n){l[e]=vh,l=l.slice(0,e).concat(l.slice(e+1));break}return t!=null&&l.push({name:n,value:t}),l}var Yi=bc,lo=0,Yl=0,Kl=0,ph=1e3,pl,Qs,Du=0,yl=0,ju=0,Js=typeof performance=="object"&&performance.now?performance:Date,Oc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function Of(){return yl||(Oc(Bs),yl=Js.now()+ju)}function Bs(){yl=0}function Lu(){this._call=this._time=this._next=null}Lu.prototype=xf.prototype={constructor:Lu,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Of():+e)+(t==null?0:+t),!this._next&&Qs!==this&&(Qs?Qs._next=this:pl=this,Qs=this),this._call=n,this._time=e,qt()},stop:function(){this._call&&(this._call=null,this._time=Infinity,qt())}};function xf(l,n,t){var e=new Lu;return e.restart(l,n,t),e}function ad(){Of(),++lo;for(var l=pl,n;l;)(n=yl-l._time)>=0&&l._call.call(null,n),l=l._next;--lo}function Ns(){yl=(Du=Js.now())+ju,lo=Yl=0;try{ad()}finally{lo=0,mh(),yl=0}}function yh(){var l=Js.now(),n=l-Du;n>ph&&(ju-=n,Du=l)}function mh(){for(var l,n=pl,t,e=Infinity;n;)n._call?(e>n._time&&(e=n._time),l=n,n=n._next):(t=n._next,n._next=null,n=l?l._next=t:pl=t);Qs=l,qt(e)}function qt(l){if(!lo){Yl&&(Yl=clearTimeout(Yl));var n=l-yl;n>24?(l<Infinity&&(Yl=setTimeout(Ns,l-Js.now()-ju)),Kl&&(Kl=clearInterval(Kl))):(Kl||(Du=Js.now(),Kl=setInterval(yh,ph)),lo=1,Oc(Ns))}}var ae=1664525,De=1013904223,fr=4294967296,Cr=function(){var l=1;return function(){return(l=(ae*l+De)%fr)/fr}};function mr(l){return l.x}function vr(l){return l.y}var Vr=10,rn=Math.PI*(3-Math.sqrt(5)),Hr=function(l){var n,t=1,e=.001,r=1-Math.pow(e,1/300),o=0,u=.6,d=new Map,y=xf(k),P=Yi("tick","end"),F=Cr();l==null&&(l=[]);function k(){rt(),P.call("tick",n),t<e&&(y.stop(),P.call("end",n))}function rt(Et){var Lt,Gt=l.length,Rt;Et===void 0&&(Et=1);for(var Xt=0;Xt<Et;++Xt)for(t+=(o-t)*r,d.forEach(function(Zt){Zt(t)}),Lt=0;Lt<Gt;++Lt)Rt=l[Lt],Rt.fx==null?Rt.x+=Rt.vx*=u:(Rt.x=Rt.fx,Rt.vx=0),Rt.fy==null?Rt.y+=Rt.vy*=u:(Rt.y=Rt.fy,Rt.vy=0);return n}function ut(){for(var Et=0,Lt=l.length,Gt;Et<Lt;++Et){if(Gt=l[Et],Gt.index=Et,Gt.fx!=null&&(Gt.x=Gt.fx),Gt.fy!=null&&(Gt.y=Gt.fy),isNaN(Gt.x)||isNaN(Gt.y)){var Rt=Vr*Math.sqrt(.5+Et),Xt=Et*rn;Gt.x=Rt*Math.cos(Xt),Gt.y=Rt*Math.sin(Xt)}(isNaN(Gt.vx)||isNaN(Gt.vy))&&(Gt.vx=Gt.vy=0)}}function pt(Et){return Et.initialize&&Et.initialize(l,F),Et}return ut(),n={tick:rt,restart:function(){return y.restart(k),n},stop:function(){return y.stop(),n},nodes:function(Lt){return arguments.length?(l=Lt,ut(),d.forEach(pt),n):l},alpha:function(Lt){return arguments.length?(t=+Lt,n):t},alphaMin:function(Lt){return arguments.length?(e=+Lt,n):e},alphaDecay:function(Lt){return arguments.length?(r=+Lt,n):+r},alphaTarget:function(Lt){return arguments.length?(o=+Lt,n):o},velocityDecay:function(Lt){return arguments.length?(u=1-Lt,n):1-u},randomSource:function(Lt){return arguments.length?(F=Lt,d.forEach(pt),n):F},force:function(Lt,Gt){return arguments.length>1?(Gt==null?d.delete(Lt):d.set(Lt,pt(Gt)),n):d.get(Lt)},find:function(Lt,Gt,Rt){var Xt=0,Zt=l.length,_t,ie,ce,be,Pe;for(Rt==null?Rt=Infinity:Rt*=Rt,Xt=0;Xt<Zt;++Xt)be=l[Xt],_t=Lt-be.x,ie=Gt-be.y,ce=_t*_t+ie*ie,ce<Rt&&(Pe=be,Rt=ce);return Pe},on:function(Lt,Gt){return arguments.length>1?(P.on(Lt,Gt),n):P.on(Lt)}}},Xr=function(){var l,n,t,e,r=eo(-30),o,u=1,d=Infinity,y=.81;function P(ut){var pt,Et=l.length,Lt=mc(l,mr,vr).visitAfter(k);for(e=ut,pt=0;pt<Et;++pt)n=l[pt],Lt.visit(rt)}function F(){if(!!l){var ut,pt=l.length,Et;for(o=new Array(pt),ut=0;ut<pt;++ut)Et=l[ut],o[Et.index]=+r(Et,ut,l)}}function k(ut){var pt=0,Et,Lt,Gt=0,Rt,Xt,Zt;if(ut.length){for(Rt=Xt=Zt=0;Zt<4;++Zt)(Et=ut[Zt])&&(Lt=Math.abs(Et.value))&&(pt+=Et.value,Gt+=Lt,Rt+=Lt*Et.x,Xt+=Lt*Et.y);ut.x=Rt/Gt,ut.y=Xt/Gt}else{Et=ut,Et.x=Et.data.x,Et.y=Et.data.y;do pt+=o[Et.data.index];while(Et=Et.next)}ut.value=pt}function rt(ut,pt,Et,Lt){if(!ut.value)return!0;var Gt=ut.x-n.x,Rt=ut.y-n.y,Xt=Lt-pt,Zt=Gt*Gt+Rt*Rt;if(Xt*Xt/y<Zt)return Zt<d&&(Gt===0&&(Gt=Po(t),Zt+=Gt*Gt),Rt===0&&(Rt=Po(t),Zt+=Rt*Rt),Zt<u&&(Zt=Math.sqrt(u*Zt)),n.vx+=Gt*ut.value*e/Zt,n.vy+=Rt*ut.value*e/Zt),!0;if(ut.length||Zt>=d)return;(ut.data!==n||ut.next)&&(Gt===0&&(Gt=Po(t),Zt+=Gt*Gt),Rt===0&&(Rt=Po(t),Zt+=Rt*Rt),Zt<u&&(Zt=Math.sqrt(u*Zt)));do ut.data!==n&&(Xt=o[ut.data.index]*e/Zt,n.vx+=Gt*Xt,n.vy+=Rt*Xt);while(ut=ut.next)}return P.initialize=function(ut,pt){l=ut,t=pt,F()},P.strength=function(ut){return arguments.length?(r=typeof ut=="function"?ut:eo(+ut),F(),P):r},P.distanceMin=function(ut){return arguments.length?(u=ut*ut,P):Math.sqrt(u)},P.distanceMax=function(ut){return arguments.length?(d=ut*ut,P):Math.sqrt(d)},P.theta=function(ut){return arguments.length?(y=ut*ut,P):Math.sqrt(y)},P},an=function(l,n){var t,e=1;l==null&&(l=0),n==null&&(n=0);function r(){var o,u=t.length,d,y=0,P=0;for(o=0;o<u;++o)d=t[o],y+=d.x,P+=d.y;for(y=(y/u-l)*e,P=(P/u-n)*e,o=0;o<u;++o)d=t[o],d.x-=y,d.y-=P}return r.initialize=function(o){t=o},r.x=function(o){return arguments.length?(l=+o,r):l},r.y=function(o){return arguments.length?(n=+o,r):n},r.strength=function(o){return arguments.length?(e=+o,r):e},r};function gn(l){return l.index}function sn(l,n){var t=l.get(n);if(!t)throw new Error("node not found: "+n);return t}var Jr=function(l){var n=gn,t=k,e,r=eo(30),o,u,d,y,P,F=1;l==null&&(l=[]);function k(Lt){return 1/Math.min(d[Lt.source.index],d[Lt.target.index])}function rt(Lt){for(var Gt=0,Rt=l.length;Gt<F;++Gt)for(var Xt=0,Zt,_t,ie,ce,be,Pe,Se;Xt<Rt;++Xt)Zt=l[Xt],_t=Zt.source,ie=Zt.target,ce=ie.x+ie.vx-_t.x-_t.vx||Po(P),be=ie.y+ie.vy-_t.y-_t.vy||Po(P),Pe=Math.sqrt(ce*ce+be*be),Pe=(Pe-o[Xt])/Pe*Lt*e[Xt],ce*=Pe,be*=Pe,ie.vx-=ce*(Se=y[Xt]),ie.vy-=be*Se,_t.vx+=ce*(Se=1-Se),_t.vy+=be*Se}function ut(){if(!!u){var Lt,Gt=u.length,Rt=l.length,Xt=new Map(u.map(function(_t,ie){return[n(_t,ie,u),_t]})),Zt;for(Lt=0,d=new Array(Gt);Lt<Rt;++Lt)Zt=l[Lt],Zt.index=Lt,typeof Zt.source!="object"&&(Zt.source=sn(Xt,Zt.source)),typeof Zt.target!="object"&&(Zt.target=sn(Xt,Zt.target)),d[Zt.source.index]=(d[Zt.source.index]||0)+1,d[Zt.target.index]=(d[Zt.target.index]||0)+1;for(Lt=0,y=new Array(Rt);Lt<Rt;++Lt)Zt=l[Lt],y[Lt]=d[Zt.source.index]/(d[Zt.source.index]+d[Zt.target.index]);e=new Array(Rt),pt(),o=new Array(Rt),Et()}}function pt(){if(!!u)for(var Lt=0,Gt=l.length;Lt<Gt;++Lt)e[Lt]=+t(l[Lt],Lt,l)}function Et(){if(!!u)for(var Lt=0,Gt=l.length;Lt<Gt;++Lt)o[Lt]=+r(l[Lt],Lt,l)}return rt.initialize=function(Lt,Gt){u=Lt,P=Gt,ut()},rt.links=function(Lt){return arguments.length?(l=Lt,ut(),rt):l},rt.id=function(Lt){return arguments.length?(n=Lt,rt):n},rt.iterations=function(Lt){return arguments.length?(F=+Lt,rt):F},rt.strength=function(Lt){return arguments.length?(t=typeof Lt=="function"?Lt:eo(+Lt),pt(),rt):t},rt.distance=function(Lt){return arguments.length?(r=typeof Lt=="function"?Lt:eo(+Lt),Et(),rt):r},rt};function gr(l){return l.x+l.vx}function hr(l){return l.y+l.vy}var Yr=function(l){var n,t,e,r=1,o=1;typeof l!="function"&&(l=eo(l==null?1:+l));function u(){for(var P,F=n.length,k,rt,ut,pt,Et,Lt,Gt=0;Gt<o;++Gt)for(k=mc(n,gr,hr).visitAfter(d),P=0;P<F;++P)rt=n[P],Et=t[rt.index],Lt=Et*Et,ut=rt.x+rt.vx,pt=rt.y+rt.vy,k.visit(Rt);function Rt(Xt,Zt,_t,ie,ce){var be=Xt.data,Pe=Xt.r,Se=Et+Pe;if(be){if(be.index>rt.index){var Ue=ut-be.x-be.vx,Ye=pt-be.y-be.vy,Ur=Ue*Ue+Ye*Ye;Ur<Se*Se&&(Ue===0&&(Ue=Po(e),Ur+=Ue*Ue),Ye===0&&(Ye=Po(e),Ur+=Ye*Ye),Ur=(Se-(Ur=Math.sqrt(Ur)))/Ur*r,rt.vx+=(Ue*=Ur)*(Se=(Pe*=Pe)/(Lt+Pe)),rt.vy+=(Ye*=Ur)*Se,be.vx-=Ue*(Se=1-Se),be.vy-=Ye*Se)}return}return Zt>ut+Se||ie<ut-Se||_t>pt+Se||ce<pt-Se}}function d(P){if(P.data)return P.r=t[P.data.index];for(var F=P.r=0;F<4;++F)P[F]&&P[F].r>P.r&&(P.r=P[F].r)}function y(){if(!!n){var P,F=n.length,k;for(t=new Array(F),P=0;P<F;++P)k=n[P],t[k.index]=+l(k,P,n)}}return u.initialize=function(P,F){n=P,e=F,y()},u.iterations=function(P){return arguments.length?(o=+P,u):o},u.strength=function(P){return arguments.length?(r=+P,u):r},u.radius=function(P){return arguments.length?(l=typeof P=="function"?P:eo(+P),y(),u):l},u},On=a("DREN"),Tr=function(l){var n=eo(.1),t,e,r;typeof l!="function"&&(l=eo(l==null?0:+l));function o(d){for(var y=0,P=t.length,F;y<P;++y)F=t[y],F.vx+=(r[y]-F.x)*e[y]*d}function u(){if(!!t){var d,y=t.length;for(e=new Array(y),r=new Array(y),d=0;d<y;++d)e[d]=isNaN(r[d]=+l(t[d],d,t))?0:+n(t[d],d,t)}}return o.initialize=function(d){t=d,u()},o.strength=function(d){return arguments.length?(n=typeof d=="function"?d:eo(+d),u(),o):n},o.x=function(d){return arguments.length?(l=typeof d=="function"?d:eo(+d),u(),o):l},o},Gn=function(l){var n=eo(.1),t,e,r;typeof l!="function"&&(l=eo(l==null?0:+l));function o(d){for(var y=0,P=t.length,F;y<P;++y)F=t[y],F.vy+=(r[y]-F.y)*e[y]*d}function u(){if(!!t){var d,y=t.length;for(e=new Array(y),r=new Array(y),d=0;d<y;++d)e[d]=isNaN(r[d]=+l(t[d],d,t))?0:+n(t[d],d,t)}}return o.initialize=function(d){t=d,u()},o.strength=function(d){return arguments.length?(n=typeof d=="function"?d:eo(+d),u(),o):n},o.y=function(d){return arguments.length?(l=typeof d=="function"?d:eo(+d),u(),o):l},o};function $r(){function l(Kr){return function(){return Kr}}var n=function(vn){return vn.cluster},t=l(1),e=l(-1),r=l(100),o=l(.1),u=[0,0],d=[],y={},P=[],F=100,k=100,rt={none:{x:0,y:0}},ut=[],pt,Et="force",Lt=!0,Gt=.1;function Rt(Kr){if(!Lt)return Rt;pt.tick(),be();for(var vn=0,sa=d.length,va,Ua=Kr*Gt;vn<sa;++vn)va=d[vn],va.vx+=(rt[n(va)].x-va.x)*Ua,va.vy+=(rt[n(va)].y-va.y)*Ua}function Xt(){!d||Zt()}function Zt(){if(!(!d||!d.length)){if(n(d[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Kr=_t();pt=Hr(Kr.nodes).force("x",Tr(F).strength(.1)).force("y",Gn(k).strength(.1)).force("collide",Yr(function(vn){return vn.r}).iterations(4)).force("charge",Xr().strength(e)).force("links",Jr(Kr.nodes.length?Kr.links:[]).distance(r).strength(o)),ut=pt.nodes(),be()}}function _t(){var Kr=[],vn=[],sa={},va=[],Ua={},Ar=[];return Ua=ie(d),Ar=ce(P),va=Object.keys(Ua),va.forEach(function(fi,Xn){var Tn=Ua[fi];Kr.push({id:fi,size:Tn.count,r:Math.sqrt(Tn.sumforceNodeSize/Math.PI)}),sa[fi]=Xn}),Ar.forEach(function(fi){var Xn=sa[fi.source],Tn=sa[fi.target];Xn!==void 0&&Tn!==void 0&&vn.push({source:Xn,target:Tn,count:fi.count})}),{nodes:Kr,links:vn}}function ie(Kr){var vn={};return Kr.forEach(function(sa){var va=n(sa);vn[va]||(vn[va]={count:0,sumforceNodeSize:0})}),Kr.forEach(function(sa){var va=n(sa),Ua=t(sa),Ar=vn[va];Ar.count=Ar.count+1,Ar.sumforceNodeSize=Ar.sumforceNodeSize+Math.PI*(Ua*Ua)*1.3,vn[va]=Ar}),vn}function ce(Kr){var vn={},sa=[];Kr.forEach(function(Ua){var Ar=Pe(Ua),fi=0;vn[Ar]!==void 0&&(fi=vn[Ar]),fi+=1,vn[Ar]=fi});var va=Object.entries(vn);return va.forEach(function(Ua){var Ar=Object(On.a)(Ua,2),fi=Ar[0],Xn=Ar[1],Tn=fi.split("~")[0],ri=fi.split("~")[1];Tn!==void 0&&ri!==void 0&&sa.push({source:Tn,target:ri,count:Xn})}),sa}function be(){return rt={none:{x:0,y:0}},ut.forEach(function(Kr){rt[Kr.id]={x:Kr.x-u[0],y:Kr.y-u[1]}}),rt}function Pe(Kr){var vn=n(y[Kr.source]),sa=n(y[Kr.target]);return vn<=sa?"".concat(vn,"~").concat(sa):"".concat(sa,"~").concat(vn)}function Se(Kr){y={},Kr.forEach(function(vn){y[vn.id]=vn})}function Ue(Kr){return arguments.length?(Et=Kr,Xt(),Rt):Et}function Ye(Kr){return arguments.length?typeof Kr=="string"?(n=function(sa){return sa[Kr]},Rt):(n=Kr,Rt):n}function Ur(Kr){return arguments.length?(Lt=Kr,Rt):Lt}function Wr(Kr){return arguments.length?(Gt=Kr,Rt):Gt}function zr(Kr){return arguments.length?(F=Kr,Rt):F}function Mn(Kr){return arguments.length?(k=Kr,Rt):k}function xn(Kr){return arguments.length?(Se(Kr||[]),d=Kr||[],Rt):d}function on(Kr){return arguments.length?(P=Kr||[],Xt(),Rt):P}function un(Kr){return arguments.length?(typeof Kr=="function"?t=Kr:t=l(+Kr),Xt(),Rt):t}function pn(Kr){return arguments.length?(typeof Kr=="function"?e=Kr:e=l(+Kr),Xt(),Rt):e}function kr(Kr){return arguments.length?(typeof Kr=="function"?r=Kr:r=l(+Kr),Xt(),Rt):r}function bn(Kr){return arguments.length?(typeof Kr=="function"?o=Kr:o=l(+Kr),Xt(),Rt):o}function Vn(Kr){return arguments.length?(u=Kr,Rt):u}return Rt.initialize=function(Kr){d=Kr,Xt()},Rt.template=Ue,Rt.groupBy=Ye,Rt.enableGrouping=Ur,Rt.strength=Wr,Rt.centerX=zr,Rt.centerY=Mn,Rt.nodes=xn,Rt.links=on,Rt.forceNodeSize=un,Rt.nodeSize=Rt.forceNodeSize,Rt.forceCharge=pn,Rt.forceLinkDistance=kr,Rt.forceLinkStrength=bn,Rt.offset=Vn,Rt.getFocis=be,Rt}var Nr={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},Gr=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.center=[0,0],r.nodeStrength=null,r.edgeStrength=null,r.preventOverlap=!1,r.clusterNodeStrength=null,r.clusterEdgeStrength=null,r.clusterEdgeDistance=null,r.clusterNodeSize=null,r.clusterFociStrength=null,r.linkDistance=50,r.alphaDecay=.028,r.alphaMin=.001,r.alpha=.3,r.collideStrength=1,r.workerEnabled=!1,r.tick=function(){},r.onLayoutEnd=function(){},r.ticking=void 0,e&&r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(r){var o=this;o.nodes=r.nodes||[];var u=r.edges||[];o.edges=u.map(function(d){var y={},P=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(d).forEach(function(F){P.indexOf(F)>-1||(y[F]=d[F])}),y}),o.ticking=!1}},{key:"execute",value:function(r){var o=this,u=o.nodes,d=o.edges;if(!o.ticking){var y=o.forceSimulation,P=o.alphaMin,F=o.alphaDecay,k=o.alpha;if(y){if(r){if(o.clustering&&o.clusterForce&&(o.clusterForce.nodes(u),o.clusterForce.links(d)),y.nodes(u),d&&o.edgeForce)o.edgeForce.links(d);else if(d&&!o.edgeForce){var Gt=Jr().id(function(Rt){return Rt.id}).links(d);o.edgeStrength&&Gt.strength(o.edgeStrength),o.linkDistance&&Gt.distance(o.linkDistance),o.edgeForce=Gt,y.force("link",Gt)}}o.preventOverlap&&o.overlapProcess(y),y.alpha(k).restart(),this.ticking=!0}else try{var rt=Xr();if(o.nodeStrength&&rt.strength(o.nodeStrength),y=Hr().nodes(u),o.clustering){var ut=$r();ut.centerX(o.center[0]).centerY(o.center[1]).template("force").strength(o.clusterFociStrength),d&&ut.links(d),u&&ut.nodes(u),ut.forceLinkDistance(o.clusterEdgeDistance).forceLinkStrength(o.clusterEdgeStrength).forceCharge(o.clusterNodeStrength).forceNodeSize(o.clusterNodeSize),o.clusterForce=ut,y.force("group",ut)}if(y.force("center",an(o.center[0],o.center[1])).force("charge",rt).alpha(k).alphaDecay(F).alphaMin(P),o.preventOverlap&&o.overlapProcess(y),d){var pt=Jr().id(function(Rt){return Rt.id}).links(d);o.edgeStrength&&pt.strength(o.edgeStrength),o.linkDistance&&pt.distance(o.linkDistance),o.edgeForce=pt,y.force("link",pt)}if(o.workerEnabled&&!Un()&&(o.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!o.workerEnabled)y.on("tick",function(){o.tick()}).on("end",function(){o.ticking=!1,o.onLayoutEnd&&o.onLayoutEnd()}),o.ticking=!0;else{y.stop();for(var Et=qr(y),Lt=1;Lt<=Et;Lt++)y.tick(),postMessage({nodes:u,currentTick:Lt,totalTicks:Et,type:Nr.TICK},void 0);o.ticking=!1}o.forceSimulation=y,o.ticking=!0}catch(Rt){o.ticking=!1,console.warn(Rt)}}}},{key:"overlapProcess",value:function(r){var o=this,u=o.nodeSize,d=o.nodeSpacing,y,P,F=o.collideStrength;if(Fn(d)?P=function(){return d}:os(d)?P=d:P=function(){return 0},!u)y=function(Et){if(Et.size){if(ho(Et.size)){var Lt=Et.size[0]>Et.size[1]?Et.size[0]:Et.size[1];return Lt/2+P(Et)}return Et.size/2+P(Et)}return 10+P(Et)};else if(os(u))y=function(Et){var Lt=u(Et);return Lt+P(Et)};else if(ho(u)){var k=u[0]>u[1]?u[0]:u[1],rt=k/2;y=function(Et){return rt+P(Et)}}else if(Fn(u)){var ut=u/2;y=function(Et){return ut+P(Et)}}else y=function(){return 10};r.force("collisionForce",Yr(y).strength(F))}},{key:"updateCfg",value:function(r){var o=this;o.ticking&&(o.forceSimulation.stop(),o.ticking=!1),o.forceSimulation=null,Object.assign(o,r)}},{key:"destroy",value:function(){var r=this;r.ticking&&(r.forceSimulation.stop(),r.ticking=!1),r.nodes=null,r.edges=null,r.destroyed=!0}}]),t}(Io);function qr(l){var n=l.alphaMin(),t=l.alphaTarget(),e=l.alpha(),r=Math.log((n-t)/(e-t))/Math.log(1-l.alphaDecay()),o=Math.ceil(r);return o}function Un(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function aa(l,n,t,e){l.forEach(function(r,o){l[o].children=[],l[o].parent=[]}),e?n.forEach(function(r){var o=0;r.source&&(o=t[r.source]);var u=0;r.target&&(u=t[r.target]);var d=l[o].children,y=l[u].parent;d.push(l[u].id),y.push(l[o].id)}):n.forEach(function(r){var o=0;r.source&&(o=t[r.source]);var u=0;r.target&&(u=t[r.target]);var d=l[o].children,y=l[u].children;d.push(l[u].id),y.push(l[o].id)})}function fn(l,n,t){for(var e=t.length,r=0;r<e;r++)if(l.id===t[r].source&&n.id===t[r].target||n.id===t[r].source&&l.id===t[r].target)return!0;return!1}function tn(l,n){var t=l.degree,e=n.degree;return t<e?-1:t>e?1:0}var wr=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.radius=null,r.startRadius=null,r.endRadius=null,r.startAngle=0,r.endAngle=2*Math.PI,r.clockwise=!0,r.divisions=1,r.ordering=null,r.angleRatio=1,r.nodes=[],r.edges=[],r.nodeMap={},r.degrees=[],r.width=300,r.height=300,r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=r.edges,d=o.length;if(d===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var y=r.center;if(d===1){o[0].x=y[0],o[0].y=y[1],r.onLayoutEnd&&r.onLayoutEnd();return}var P=r.radius,F=r.startRadius,k=r.endRadius,rt=r.divisions,ut=r.startAngle,pt=r.endAngle,Et=(pt-ut)/d,Lt={};o.forEach(function(Ue,Ye){Lt[Ue.id]=Ye}),r.nodeMap=Lt;var Gt=Tu(o.length,Lt,u);r.degrees=Gt,!P&&!F&&!k?P=r.height>r.width?r.width/2:r.height/2:!F&&k?F=k:F&&!k&&(k=F);var Rt=r.angleRatio,Xt=Et*Rt,Zt=r.ordering,_t=[];Zt==="topology"?_t=r.topologyOrdering():Zt==="topology-directed"?_t=r.topologyOrdering(!0):Zt==="degree"?_t=r.degreeOrdering():_t=o;for(var ie=r.clockwise,ce=Math.ceil(d/rt),be=0;be<d;++be){var Pe=P;!Pe&&F!==null&&k!==null&&(Pe=F+be*(k-F)/(d-1)),Pe||(Pe=10+be*100/(d-1));var Se=ut+be%ce*Xt+2*Math.PI/rt*Math.floor(be/ce);ie||(Se=pt-be%ce*Xt-2*Math.PI/rt*Math.floor(be/ce)),_t[be].x=y[0]+Math.cos(Se)*Pe,_t[be].y=y[1]+Math.sin(Se)*Pe,_t[be].weight=Gt[be]}return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:_t,edges:this.edges}}},{key:"topologyOrdering",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=this,u=o.degrees,d=o.edges,y=o.nodes,P=gc(y),F=o.nodeMap,k=[P[0]],rt=[y[0]],ut=[],pt=y.length;ut[0]=!0,aa(P,d,F,r);var Et=0;return P.forEach(function(Lt,Gt){if(Gt!==0)if((Gt===pt-1||u[Gt]!==u[Gt+1]||fn(k[Et],Lt,d))&&!ut[Gt])k.push(Lt),rt.push(y[F[Lt.id]]),ut[Gt]=!0,Et++;else{for(var Rt=k[Et].children,Xt=!1,Zt=0;Zt<Rt.length;Zt++){var _t=F[Rt[Zt]];if(u[_t]===u[Gt]&&!ut[_t]){k.push(P[_t]),rt.push(y[F[P[_t].id]]),ut[_t]=!0,Xt=!0;break}}for(var ie=0;!Xt&&(ut[ie]||(k.push(P[ie]),rt.push(y[F[P[ie].id]]),ut[ie]=!0,Xt=!0),ie++,ie!==pt););}}),rt}},{key:"degreeOrdering",value:function(){var r=this,o=r.nodes,u=[],d=r.degrees;return o.forEach(function(y,P){y.degree=d[P],u.push(y)}),u.sort(tn),u}},{key:"getType",value:function(){return"circular"}}]),t}(Io),ea=a("+WlW"),Ca=a.n(ea),Pn=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.rankdir="TB",r.nodesep=50,r.ranksep=50,r.controlPoints=!1,r.sortByCombo=!1,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var r=this,o=this,u=o.nodes,d=o.nodeSize,y=o.rankdir,P=o.combos;if(!!u){var F=o.edges||[],k=new Ca.a.graphlib.Graph({multigraph:!0,compound:!0}),rt;d?ho(d)?rt=function(){return d}:rt=function(){return[d,d]}:rt=function(Rt){return Rt.size?ho(Rt.size)?Rt.size:[Rt.size,Rt.size]:[40,40]};var ut=Ma(o.nodesepFunc,o.nodesep,50),pt=Ma(o.ranksepFunc,o.ranksep,50);(y==="LR"||y==="RL")&&(ut=Ma(o.ranksepFunc,o.ranksep,50),pt=Ma(o.nodesepFunc,o.nodesep,50)),k.setDefaultEdgeLabel(function(){return{}}),k.setGraph(o);var Et={};u.forEach(function(Gt){var Rt=rt(Gt),Xt=pt(Gt),Zt=ut(Gt),_t=Rt[0]+2*Zt,ie=Rt[1]+2*Xt;k.setNode(Gt.id,{width:_t,height:ie}),r.sortByCombo&&Gt.comboId&&(Et[Gt.comboId]||(Et[Gt.comboId]=!0,k.setNode(Gt.comboId,{})),k.setParent(Gt.id,Gt.comboId))}),this.sortByCombo&&P&&P.forEach(function(Gt){!Gt.parentId||(Et[Gt.parentId]||(Et[Gt.parentId]=!0,k.setNode(Gt.parentId,{})),k.setParent(Gt.id,Gt.parentId))}),F.forEach(function(Gt){k.setEdge(Gt.source,Gt.target,{weight:Gt.weight||1})}),Ca.a.layout(k);var Lt;return k.nodes().forEach(function(Gt){Lt=k.node(Gt);var Rt=u.findIndex(function(Xt){return Xt.id===Gt});!u[Rt]||(u[Rt].x=Lt.x,u[Rt].y=Lt.y)}),k.edges().forEach(function(Gt){Lt=k.edge(Gt);var Rt=F.findIndex(function(Xt){return Xt.source===Gt.v&&Xt.target===Gt.w});o.controlPoints&&F[Rt].type!=="loop"&&(F[Rt].controlPoints=Lt.points.slice(1,Lt.points.length-1))}),o.onLayoutEnd&&o.onLayoutEnd(),{nodes:u,edges:F}}}},{key:"getType",value:function(){return"dagre"}}]),t}(Io);function Ma(l,n,t){var e;return l?e=l:Fn(n)?e=function(){return n}:e=function(){return t},e}var ha=a("WMiQ"),Ta=a("x78M"),Za=Object.prototype.toString;function Li(l){return Za.call(l).endsWith("Array]")}function ro(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Li(l))throw new TypeError("input must be an array");if(l.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,o=r===void 0?l.length:r;if(e<0||e>=l.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=e||o>l.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=l[e],d=e+1;d<o;d++)l[d]>u&&(u=l[d]);return u}var Ra=ro;function Zi(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Li(l))throw new TypeError("input must be an array");if(l.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,o=r===void 0?l.length:r;if(e<0||e>=l.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=e||o>l.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=l[e],d=e+1;d<o;d++)l[d]<u&&(u=l[d]);return u}var xi=Zi;function Ai(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Li(l)){if(l.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(n.output!==void 0){if(!Li(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(l.length);var e=xi(l),r=Ra(l);if(e===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,u=o===void 0?n.autoMinMax?e:0:o,d=n.max,y=d===void 0?n.autoMinMax?r:1:d;if(u>=y)throw new RangeError("min option must be smaller than max option");for(var P=(y-u)/(r-e),F=0;F<l.length;F++)t[F]=(l[F]-e)*P+u;return t}var Ii=Ai,Pi=" ".repeat(2),$i=" ".repeat(4);function Fi(){return li(this)}function li(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.maxRows,e=t===void 0?15:t,r=n.maxColumns,o=r===void 0?10:r,u=n.maxNumSize,d=u===void 0?8:u;return"".concat(l.constructor.name,` {
`).concat(Pi,`[
`).concat($i).concat(Aa(l,e,o,d),`
`).concat(Pi,`]
`).concat(Pi,"rows: ").concat(l.rows,`
`).concat(Pi,"columns: ").concat(l.columns,`
}`)}function Aa(l,n,t,e){for(var r=l.rows,o=l.columns,u=Math.min(r,n),d=Math.min(o,t),y=[],P=0;P<u;P++){for(var F=[],k=0;k<d;k++)F.push(no(l.get(P,k),e));y.push("".concat(F.join(" ")))}return d!==o&&(y[y.length-1]+=" ... ".concat(o-t," more columns")),u!==r&&y.push("... ".concat(r-n," more rows")),y.join(`
`.concat($i))}function no(l,n){var t=String(l);if(t.length<=n)return t.padEnd(n," ");var e=l.toPrecision(n-2);if(e.length<=n)return e;var r=l.toExponential(n-2),o=r.indexOf("e"),u=r.slice(o);return r.slice(0,n-u.length)+u}function _a(l,n){l.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},l.prototype.addS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)+e);return this},l.prototype.addM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)+e.get(r,o));return this},l.add=function(e,r){var o=new n(e);return o.add(r)},l.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},l.prototype.subS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)-e);return this},l.prototype.subM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)-e.get(r,o));return this},l.sub=function(e,r){var o=new n(e);return o.sub(r)},l.prototype.subtract=l.prototype.sub,l.prototype.subtractS=l.prototype.subS,l.prototype.subtractM=l.prototype.subM,l.subtract=l.sub,l.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},l.prototype.mulS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*e);return this},l.prototype.mulM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*e.get(r,o));return this},l.mul=function(e,r){var o=new n(e);return o.mul(r)},l.prototype.multiply=l.prototype.mul,l.prototype.multiplyS=l.prototype.mulS,l.prototype.multiplyM=l.prototype.mulM,l.multiply=l.mul,l.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},l.prototype.divS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)/e);return this},l.prototype.divM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)/e.get(r,o));return this},l.div=function(e,r){var o=new n(e);return o.div(r)},l.prototype.divide=l.prototype.div,l.prototype.divideS=l.prototype.divS,l.prototype.divideM=l.prototype.divM,l.divide=l.div,l.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},l.prototype.modS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)%e);return this},l.prototype.modM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)%e.get(r,o));return this},l.mod=function(e,r){var o=new n(e);return o.mod(r)},l.prototype.modulus=l.prototype.mod,l.prototype.modulusS=l.prototype.modS,l.prototype.modulusM=l.prototype.modM,l.modulus=l.mod,l.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},l.prototype.andS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)&e);return this},l.prototype.andM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)&e.get(r,o));return this},l.and=function(e,r){var o=new n(e);return o.and(r)},l.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},l.prototype.orS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)|e);return this},l.prototype.orM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)|e.get(r,o));return this},l.or=function(e,r){var o=new n(e);return o.or(r)},l.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},l.prototype.xorS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)^e);return this},l.prototype.xorM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)^e.get(r,o));return this},l.xor=function(e,r){var o=new n(e);return o.xor(r)},l.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},l.prototype.leftShiftS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)<<e);return this},l.prototype.leftShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)<<e.get(r,o));return this},l.leftShift=function(e,r){var o=new n(e);return o.leftShift(r)},l.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},l.prototype.signPropagatingRightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>e);return this},l.prototype.signPropagatingRightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>e.get(r,o));return this},l.signPropagatingRightShift=function(e,r){var o=new n(e);return o.signPropagatingRightShift(r)},l.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},l.prototype.rightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>>e);return this},l.prototype.rightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>>e.get(r,o));return this},l.rightShift=function(e,r){var o=new n(e);return o.rightShift(r)},l.prototype.zeroFillRightShift=l.prototype.rightShift,l.prototype.zeroFillRightShiftS=l.prototype.rightShiftS,l.prototype.zeroFillRightShiftM=l.prototype.rightShiftM,l.zeroFillRightShift=l.rightShift,l.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,~this.get(e,r));return this},l.not=function(e){var r=new n(e);return r.not()},l.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.abs(this.get(e,r)));return this},l.abs=function(e){var r=new n(e);return r.abs()},l.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acos(this.get(e,r)));return this},l.acos=function(e){var r=new n(e);return r.acos()},l.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acosh(this.get(e,r)));return this},l.acosh=function(e){var r=new n(e);return r.acosh()},l.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asin(this.get(e,r)));return this},l.asin=function(e){var r=new n(e);return r.asin()},l.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asinh(this.get(e,r)));return this},l.asinh=function(e){var r=new n(e);return r.asinh()},l.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atan(this.get(e,r)));return this},l.atan=function(e){var r=new n(e);return r.atan()},l.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atanh(this.get(e,r)));return this},l.atanh=function(e){var r=new n(e);return r.atanh()},l.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cbrt(this.get(e,r)));return this},l.cbrt=function(e){var r=new n(e);return r.cbrt()},l.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.ceil(this.get(e,r)));return this},l.ceil=function(e){var r=new n(e);return r.ceil()},l.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.clz32(this.get(e,r)));return this},l.clz32=function(e){var r=new n(e);return r.clz32()},l.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cos(this.get(e,r)));return this},l.cos=function(e){var r=new n(e);return r.cos()},l.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cosh(this.get(e,r)));return this},l.cosh=function(e){var r=new n(e);return r.cosh()},l.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.exp(this.get(e,r)));return this},l.exp=function(e){var r=new n(e);return r.exp()},l.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.expm1(this.get(e,r)));return this},l.expm1=function(e){var r=new n(e);return r.expm1()},l.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.floor(this.get(e,r)));return this},l.floor=function(e){var r=new n(e);return r.floor()},l.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.fround(this.get(e,r)));return this},l.fround=function(e){var r=new n(e);return r.fround()},l.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log(this.get(e,r)));return this},l.log=function(e){var r=new n(e);return r.log()},l.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log1p(this.get(e,r)));return this},l.log1p=function(e){var r=new n(e);return r.log1p()},l.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log10(this.get(e,r)));return this},l.log10=function(e){var r=new n(e);return r.log10()},l.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log2(this.get(e,r)));return this},l.log2=function(e){var r=new n(e);return r.log2()},l.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.round(this.get(e,r)));return this},l.round=function(e){var r=new n(e);return r.round()},l.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sign(this.get(e,r)));return this},l.sign=function(e){var r=new n(e);return r.sign()},l.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sin(this.get(e,r)));return this},l.sin=function(e){var r=new n(e);return r.sin()},l.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sinh(this.get(e,r)));return this},l.sinh=function(e){var r=new n(e);return r.sinh()},l.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sqrt(this.get(e,r)));return this},l.sqrt=function(e){var r=new n(e);return r.sqrt()},l.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tan(this.get(e,r)));return this},l.tan=function(e){var r=new n(e);return r.tan()},l.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tanh(this.get(e,r)));return this},l.tanh=function(e){var r=new n(e);return r.tanh()},l.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.trunc(this.get(e,r)));return this},l.trunc=function(e){var r=new n(e);return r.trunc()},l.pow=function(e,r){var o=new n(e);return o.pow(r)},l.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},l.prototype.powS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,Math.pow(this.get(r,o),e));return this},l.prototype.powM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,Math.pow(this.get(r,o),e.get(r,o)));return this}}function zn(l,n,t){var e=t?l.rows:l.rows-1;if(n<0||n>e)throw new RangeError("Row index out of range")}function _n(l,n,t){var e=t?l.columns:l.columns-1;if(n<0||n>e)throw new RangeError("Column index out of range")}function Fa(l,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==l.columns)throw new RangeError("vector size must be the same as the number of columns");return n}function Gi(l,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==l.rows)throw new RangeError("vector size must be the same as the number of rows");return n}function yo(l,n,t){return{row:ml(l,n),column:Te(l,t)}}function ml(l,n){if(typeof n!="object")throw new TypeError("unexpected type for row indices");var t=n.some(function(e){return e<0||e>=l.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function Te(l,n){if(typeof n!="object")throw new TypeError("unexpected type for column indices");var t=n.some(function(e){return e<0||e>=l.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function pr(l,n,t,e,r){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(En("startRow",n),En("endRow",t),En("startColumn",e),En("endColumn",r),n>t||e>r||n<0||n>=l.rows||t<0||t>=l.rows||e<0||e>=l.columns||r<0||r>=l.columns)throw new RangeError("Submatrix indices are out of range")}function ur(l){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<l;e++)t.push(n);return t}function En(l,n){if(typeof n!="number")throw new TypeError("".concat(l," must be a number"))}function ca(l){if(l.isEmpty())throw new Error("Empty matrix has no elements to index")}function Ee(l){for(var n=ur(l.rows),t=0;t<l.rows;++t)for(var e=0;e<l.columns;++e)n[t]+=l.get(t,e);return n}function ue(l){for(var n=ur(l.columns),t=0;t<l.rows;++t)for(var e=0;e<l.columns;++e)n[e]+=l.get(t,e);return n}function Fe(l){for(var n=0,t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)n+=l.get(t,e);return n}function er(l){for(var n=ur(l.rows,1),t=0;t<l.rows;++t)for(var e=0;e<l.columns;++e)n[t]*=l.get(t,e);return n}function ir(l){for(var n=ur(l.columns,1),t=0;t<l.rows;++t)for(var e=0;e<l.columns;++e)n[e]*=l.get(t,e);return n}function Ve(l){for(var n=1,t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)n*=l.get(t,e);return n}function Ge(l,n,t){for(var e=l.rows,r=l.columns,o=[],u=0;u<e;u++){for(var d=0,y=0,P=0,F=0;F<r;F++)P=l.get(u,F)-t[u],d+=P,y+=P*P;n?o.push((y-d*d/r)/(r-1)):o.push((y-d*d/r)/r)}return o}function Je(l,n,t){for(var e=l.rows,r=l.columns,o=[],u=0;u<r;u++){for(var d=0,y=0,P=0,F=0;F<e;F++)P=l.get(F,u)-t[u],d+=P,y+=P*P;n?o.push((y-d*d/e)/(e-1)):o.push((y-d*d/e)/e)}return o}function Me(l,n,t){for(var e=l.rows,r=l.columns,o=e*r,u=0,d=0,y=0,P=0;P<e;P++)for(var F=0;F<r;F++)y=l.get(P,F)-t,u+=y,d+=y*y;return n?(d-u*u/o)/(o-1):(d-u*u/o)/o}function Re(l,n){for(var t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)l.set(t,e,l.get(t,e)-n[t])}function pe(l,n){for(var t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)l.set(t,e,l.get(t,e)-n[e])}function qe(l,n){for(var t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)l.set(t,e,l.get(t,e)-n)}function lr(l){for(var n=[],t=0;t<l.rows;t++){for(var e=0,r=0;r<l.columns;r++)e+=Math.pow(l.get(t,r),2)/(l.columns-1);n.push(Math.sqrt(e))}return n}function jr(l,n){for(var t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)l.set(t,e,l.get(t,e)/n[t])}function Rr(l){for(var n=[],t=0;t<l.columns;t++){for(var e=0,r=0;r<l.rows;r++)e+=Math.pow(l.get(r,t),2)/(l.rows-1);n.push(Math.sqrt(e))}return n}function Mr(l,n){for(var t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)l.set(t,e,l.get(t,e)/n[e])}function _r(l){for(var n=l.size-1,t=0,e=0;e<l.columns;e++)for(var r=0;r<l.rows;r++)t+=Math.pow(l.get(r,e),2)/n;return Math.sqrt(t)}function wn(l,n){for(var t=0;t<l.rows;t++)for(var e=0;e<l.columns;e++)l.set(t,e,l.get(t,e)/n)}var kn=function(){function l(){Object(di.a)(this,l)}return Object(vi.a)(l,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.call(this,e,r);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,r=-1,o=!0,u=!1;t<this.rows&&o;){for(e=0,u=!1;e<this.columns&&u===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(u=!0,r=e):(o=!1,u=!0);t++}return o}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,r=-1,o=!0,u=!1;t<this.rows&&o;){for(e=0,u=!1;e<this.columns&&u===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(u=!0,r=e):(o=!1,u=!0);for(var d=e+1;d<this.rows;d++)this.get(t,d)!==0&&(o=!1);t++}return o}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,r=0;e<t.rows&&r<t.columns;){for(var o=e,u=e;u<t.rows;u++)t.get(u,r)>t.get(o,r)&&(o=u);if(t.get(o,r)===0)r++;else{t.swapRows(e,o);for(var d=t.get(e,r),y=r;y<t.columns;y++)t.set(e,y,t.get(e,y)/d);for(var P=e+1;P<t.rows;P++){var F=t.get(P,r)/t.get(e,r);t.set(P,r,0);for(var k=r+1;k<t.columns;k++)t.set(P,k,t.get(P,k)-t.get(e,k)*F)}e++,r++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,o=r-1;o>=0;)if(t.maxRow(o)===0)o--;else{for(var u=0,d=!1;u<r&&d===!1;)t.get(o,u)===1?d=!0:u++;for(var y=0;y<o;y++)for(var P=t.get(y,u),F=u;F<e;F++){var k=t.get(y,F)-P*t.get(o,F);t.set(y,F,k)}o--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,r=e===void 0?1:e,o=t.columns,u=o===void 0?1:o;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(u)||u<=0)throw new TypeError("columns must be a positive integer");for(var d=new en(this.rows*r,this.columns*u),y=0;y<r;y++)for(var P=0;P<u;P++)d.setSubMatrix(this,this.rows*y,this.columns*P);return d}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){zn(this,t);for(var e=[],r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"getRowVector",value:function(t){return en.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){zn(this,t),e=Fa(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}},{key:"swapRows",value:function(t,e){zn(this,t),zn(this,e);for(var r=0;r<this.columns;r++){var o=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,o)}return this}},{key:"getColumn",value:function(t){_n(this,t);for(var e=[],r=0;r<this.rows;r++)e.push(this.get(r,t));return e}},{key:"getColumnVector",value:function(t){return en.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){_n(this,t),e=Gi(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}},{key:"swapColumns",value:function(t,e){_n(this,t),_n(this,e);for(var r=0;r<this.rows;r++){var o=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,o)}return this}},{key:"addRowVector",value:function(t){t=Fa(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{key:"subRowVector",value:function(t){t=Fa(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{key:"mulRowVector",value:function(t){t=Fa(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}},{key:"divRowVector",value:function(t){t=Fa(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}},{key:"addColumnVector",value:function(t){t=Gi(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Gi(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Gi(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Gi(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}},{key:"mulRow",value:function(t,e){zn(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}},{key:"mulColumn",value:function(t,e){_n(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxIndex",value:function(){ca(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o),e[0]=r,e[1]=o);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minIndex",value:function(){ca(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o),e[0]=r,e[1]=o);return e}},{key:"maxRow",value:function(t){if(zn(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}},{key:"maxRowIndex",value:function(t){zn(this,t),ca(this);for(var e=this.get(t,0),r=[t,0],o=1;o<this.columns;o++)this.get(t,o)>e&&(e=this.get(t,o),r[1]=o);return r}},{key:"minRow",value:function(t){if(zn(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}},{key:"minRowIndex",value:function(t){zn(this,t),ca(this);for(var e=this.get(t,0),r=[t,0],o=1;o<this.columns;o++)this.get(t,o)<e&&(e=this.get(t,o),r[1]=o);return r}},{key:"maxColumn",value:function(t){if(_n(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}},{key:"maxColumnIndex",value:function(t){_n(this,t),ca(this);for(var e=this.get(0,t),r=[0,t],o=1;o<this.rows;o++)this.get(o,t)>e&&(e=this.get(o,t),r[0]=o);return r}},{key:"minColumn",value:function(t){if(_n(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}},{key:"minColumnIndex",value:function(t){_n(this,t),ca(this);for(var e=this.get(0,t),r=[0,t],o=1;o<this.rows;o++)this.get(o,t)<e&&(e=this.get(o,t),r[0]=o);return r}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;r<t;r++)e.push(this.get(r,r));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)e=e+this.get(r,o)*this.get(r,o);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{key:"dot",value:function(t){l.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,o=0;o<e.length;o++)r+=e[o]*t[o];return r}},{key:"mmul",value:function(t){t=en.checkMatrix(t);for(var e=this.rows,r=this.columns,o=t.columns,u=new en(e,o),d=new Float64Array(r),y=0;y<o;y++){for(var P=0;P<r;P++)d[P]=t.get(P,y);for(var F=0;F<e;F++){for(var k=0,rt=0;rt<r;rt++)k+=this.get(F,rt)*d[rt];u.set(F,y,k)}}return u}},{key:"strassen2x2",value:function(t){t=en.checkMatrix(t);var e=new en(2,2),r=this.get(0,0),o=t.get(0,0),u=this.get(0,1),d=t.get(0,1),y=this.get(1,0),P=t.get(1,0),F=this.get(1,1),k=t.get(1,1),rt=(r+F)*(o+k),ut=(y+F)*o,pt=r*(d-k),Et=F*(P-o),Lt=(r+u)*k,Gt=(y-r)*(o+d),Rt=(u-F)*(P+k),Xt=rt+Et-Lt+Rt,Zt=pt+Lt,_t=ut+Et,ie=rt-ut+pt+Gt;return e.set(0,0,Xt),e.set(0,1,Zt),e.set(1,0,_t),e.set(1,1,ie),e}},{key:"strassen3x3",value:function(t){t=en.checkMatrix(t);var e=new en(3,3),r=this.get(0,0),o=this.get(0,1),u=this.get(0,2),d=this.get(1,0),y=this.get(1,1),P=this.get(1,2),F=this.get(2,0),k=this.get(2,1),rt=this.get(2,2),ut=t.get(0,0),pt=t.get(0,1),Et=t.get(0,2),Lt=t.get(1,0),Gt=t.get(1,1),Rt=t.get(1,2),Xt=t.get(2,0),Zt=t.get(2,1),_t=t.get(2,2),ie=(r+o+u-d-y-k-rt)*Gt,ce=(r-d)*(-pt+Gt),be=y*(-ut+pt+Lt-Gt-Rt-Xt+_t),Pe=(-r+d+y)*(ut-pt+Gt),Se=(d+y)*(-ut+pt),Ue=r*ut,Ye=(-r+F+k)*(ut-Et+Rt),Ur=(-r+F)*(Et-Rt),Wr=(F+k)*(-ut+Et),zr=(r+o+u-y-P-F-k)*Rt,Mn=k*(-ut+Et+Lt-Gt-Rt-Xt+Zt),xn=(-u+k+rt)*(Gt+Xt-Zt),on=(u-rt)*(Gt-Zt),un=u*Xt,pn=(k+rt)*(-Xt+Zt),kr=(-u+y+P)*(Rt+Xt-_t),bn=(u-P)*(Rt-_t),Vn=(y+P)*(-Xt+_t),Kr=o*Lt,vn=P*Zt,sa=d*Et,va=F*pt,Ua=rt*_t,Ar=Ue+un+Kr,fi=ie+Pe+Se+Ue+xn+un+pn,Xn=Ue+Ye+Wr+zr+un+kr+Vn,Tn=ce+be+Pe+Ue+un+kr+bn,ri=ce+Pe+Se+Ue+vn,Si=un+kr+bn+Vn+sa,Ci=Ue+Ye+Ur+Mn+xn+on+un,xo=xn+on+un+pn+va,Gs=Ue+Ye+Ur+Wr+Ua;return e.set(0,0,Ar),e.set(0,1,fi),e.set(0,2,Xn),e.set(1,0,Tn),e.set(1,1,ri),e.set(1,2,Si),e.set(2,0,Ci),e.set(2,1,xo),e.set(2,2,Gs),e}},{key:"mmulStrassen",value:function(t){t=en.checkMatrix(t);var e=this.clone(),r=e.rows,o=e.columns,u=t.rows,d=t.columns;o!==u&&console.warn("Multiplying ".concat(r," x ").concat(o," and ").concat(u," x ").concat(d," matrix: dimensions do not match."));function y(rt,ut,pt){var Et=rt.rows,Lt=rt.columns;if(Et===ut&&Lt===pt)return rt;var Gt=l.zeros(ut,pt);return Gt=Gt.setSubMatrix(rt,0,0),Gt}var P=Math.max(r,u),F=Math.max(o,d);e=y(e,P,F),t=y(t,P,F);function k(rt,ut,pt,Et){if(pt<=512||Et<=512)return rt.mmul(ut);pt%2==1&&Et%2==1?(rt=y(rt,pt+1,Et+1),ut=y(ut,pt+1,Et+1)):pt%2==1?(rt=y(rt,pt+1,Et),ut=y(ut,pt+1,Et)):Et%2==1&&(rt=y(rt,pt,Et+1),ut=y(ut,pt,Et+1));var Lt=parseInt(rt.rows/2,10),Gt=parseInt(rt.columns/2,10),Rt=rt.subMatrix(0,Lt-1,0,Gt-1),Xt=ut.subMatrix(0,Lt-1,0,Gt-1),Zt=rt.subMatrix(0,Lt-1,Gt,rt.columns-1),_t=ut.subMatrix(0,Lt-1,Gt,ut.columns-1),ie=rt.subMatrix(Lt,rt.rows-1,0,Gt-1),ce=ut.subMatrix(Lt,ut.rows-1,0,Gt-1),be=rt.subMatrix(Lt,rt.rows-1,Gt,rt.columns-1),Pe=ut.subMatrix(Lt,ut.rows-1,Gt,ut.columns-1),Se=k(l.add(Rt,be),l.add(Xt,Pe),Lt,Gt),Ue=k(l.add(ie,be),Xt,Lt,Gt),Ye=k(Rt,l.sub(_t,Pe),Lt,Gt),Ur=k(be,l.sub(ce,Xt),Lt,Gt),Wr=k(l.add(Rt,Zt),Pe,Lt,Gt),zr=k(l.sub(ie,Rt),l.add(Xt,_t),Lt,Gt),Mn=k(l.sub(Zt,be),l.add(ce,Pe),Lt,Gt),xn=l.add(Se,Ur);xn.sub(Wr),xn.add(Mn);var on=l.add(Ye,Wr),un=l.add(Ue,Ur),pn=l.sub(Se,Ue);pn.add(Ye),pn.add(zr);var kr=l.zeros(2*xn.rows,2*xn.columns);return kr=kr.setSubMatrix(xn,0,0),kr=kr.setSubMatrix(on,xn.rows,0),kr=kr.setSubMatrix(un,0,xn.columns),kr=kr.setSubMatrix(pn,xn.rows,xn.columns),kr.subMatrix(0,pt-1,0,Et-1)}return k(e,t,P,F)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,o=t.max,u=o===void 0?1:o;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(u))throw new TypeError("max must be a number");if(r>=u)throw new RangeError("min must be smaller than max");for(var d=new en(this.rows,this.columns),y=0;y<this.rows;y++){var P=this.getRow(y);P.length>0&&Ii(P,{min:r,max:u,output:P}),d.setRow(y,P)}return d}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,o=t.max,u=o===void 0?1:o;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(u))throw new TypeError("max must be a number");if(r>=u)throw new RangeError("min must be smaller than max");for(var d=new en(this.rows,this.columns),y=0;y<this.columns;y++){var P=this.getColumn(y);P.length&&Ii(P,{min:r,max:u,output:P}),d.setColumn(y,P)}return d}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var r=0;r<t;r++){var o=this.get(e,r),u=this.get(e,this.columns-1-r);this.set(e,r,u),this.set(e,this.columns-1-r,o)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var r=0;r<t;r++){var o=this.get(r,e),u=this.get(this.rows-1-r,e);this.set(r,e,u),this.set(this.rows-1-r,e,o)}return this}},{key:"kroneckerProduct",value:function(t){t=en.checkMatrix(t);for(var e=this.rows,r=this.columns,o=t.rows,u=t.columns,d=new en(e*o,r*u),y=0;y<e;y++)for(var P=0;P<r;P++)for(var F=0;F<o;F++)for(var k=0;k<u;k++)d.set(o*y+F,u*P+k,this.get(y,P)*t.get(F,k));return d}},{key:"kroneckerSum",value:function(t){if(t=en.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,r=t.rows,o=this.kroneckerProduct(en.eye(r,r)),u=en.eye(e,e).kroneckerProduct(t);return o.add(u)}},{key:"transpose",value:function(){for(var t=new en(this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jn,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jn,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,r,o){pr(this,t,e,r,o);for(var u=new en(e-t+1,o-r+1),d=t;d<=e;d++)for(var y=r;y<=o;y++)u.set(d-t,y-r,this.get(d,y));return u}},{key:"subMatrixRow",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var o=new en(t.length,r-e+1),u=0;u<t.length;u++)for(var d=e;d<=r;d++){if(t[u]<0||t[u]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[u]));o.set(u,d-e,this.get(t[u],d))}return o}},{key:"subMatrixColumn",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var o=new en(r-e+1,t.length),u=0;u<t.length;u++)for(var d=e;d<=r;d++){if(t[u]<0||t[u]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[u]));o.set(d-e,u,this.get(d,t[u]))}return o}},{key:"setSubMatrix",value:function(t,e,r){if(t=en.checkMatrix(t),t.isEmpty())return this;var o=e+t.rows-1,u=r+t.columns-1;pr(this,e,o,r,u);for(var d=0;d<t.rows;d++)for(var y=0;y<t.columns;y++)this.set(e+d,r+y,t.get(d,y));return this}},{key:"selection",value:function(t,e){for(var r=yo(this,t,e),o=new en(t.length,e.length),u=0;u<r.row.length;u++)for(var d=r.row[u],y=0;y<r.column.length;y++){var P=r.column[y];o.set(u,y,this.get(d,P))}return o}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}},{key:"clone",value:function(){for(var t=new en(this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}},{key:"sum",value:function(t){switch(t){case"row":return Ee(this);case"column":return ue(this);case void 0:return Fe(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return er(this);case"column":return ir(this);case void 0:return Ve(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var r=0;r<this.rows;r++)e[r]/=this.columns;return e}case"column":{for(var o=0;o<this.columns;o++)e[o]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,o=r.unbiased,u=o===void 0?!0:o,d=r.mean,y=d===void 0?this.mean(t):d;if(typeof u!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(y))throw new TypeError("mean must be an array");return Ge(this,u,y)}case"column":{if(!Array.isArray(y))throw new TypeError("mean must be an array");return Je(this,u,y)}case void 0:{if(typeof y!="number")throw new TypeError("mean must be a number");return Me(this,u,y)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var r=this.variance(t,e);if(t===void 0)return Math.sqrt(r);for(var o=0;o<r.length;o++)r[o]=Math.sqrt(r[o]);return r}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,o=r.center,u=o===void 0?this.mean(t):o;switch(t){case"row":{if(!Array.isArray(u))throw new TypeError("center must be an array");return Re(this,u),this}case"column":{if(!Array.isArray(u))throw new TypeError("center must be an array");return pe(this,u),this}case void 0:{if(typeof u!="number")throw new TypeError("center must be a number");return qe(this,u),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e.scale;switch(t){case"row":{if(r===void 0)r=lr(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return jr(this,r),this}case"column":{if(r===void 0)r=Rr(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Mr(this,r),this}case void 0:{if(r===void 0)r=_r(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return wn(this,r),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return li(this,t)}}],[{key:"from1DArray",value:function(t,e,r){var o=t*e;if(o!==r.length)throw new RangeError("data length does not match given dimensions");for(var u=new en(t,e),d=0;d<t;d++)for(var y=0;y<e;y++)u.set(d,y,r[d*e+y]);return u}},{key:"rowVector",value:function(t){for(var e=new en(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}},{key:"columnVector",value:function(t){for(var e=new en(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}},{key:"zeros",value:function(t,e){return new en(t,e)}},{key:"ones",value:function(t,e){return new en(t,e).fill(1)}},{key:"rand",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");for(var o=r.random,u=o===void 0?Math.random:o,d=new en(t,e),y=0;y<t;y++)for(var P=0;P<e;P++)d.set(y,P,u());return d}},{key:"randInt",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");var o=r.min,u=o===void 0?0:o,d=r.max,y=d===void 0?1e3:d,P=r.random,F=P===void 0?Math.random:P;if(!Number.isInteger(u))throw new TypeError("min must be an integer");if(!Number.isInteger(y))throw new TypeError("max must be an integer");if(u>=y)throw new RangeError("min must be smaller than max");for(var k=y-u,rt=new en(t,e),ut=0;ut<t;ut++)for(var pt=0;pt<e;pt++){var Et=u+Math.round(F()*k);rt.set(ut,pt,Et)}return rt}},{key:"eye",value:function(t,e,r){e===void 0&&(e=t),r===void 0&&(r=1);for(var o=Math.min(t,e),u=this.zeros(t,e),d=0;d<o;d++)u.set(d,d,r);return u}},{key:"diag",value:function(t,e,r){var o=t.length;e===void 0&&(e=o),r===void 0&&(r=e);for(var u=Math.min(o,e,r),d=this.zeros(e,r),y=0;y<u;y++)d.set(y,y,t[y]);return d}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,o=t.columns,u=new en(r,o),d=0;d<r;d++)for(var y=0;y<o;y++)u.set(d,y,Math.min(t.get(d,y),e.get(d,y)));return u}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,o=t.columns,u=new this(r,o),d=0;d<r;d++)for(var y=0;y<o;y++)u.set(d,y,Math.max(t.get(d,y),e.get(d,y)));return u}},{key:"checkMatrix",value:function(t){return l.isMatrix(t)?t:new en(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),l}();kn.prototype.klass="Matrix",typeof Symbol!="undefined"&&(kn.prototype[Symbol.for("nodejs.util.inspect.custom")]=Fi);function jn(l,n){return l-n}kn.random=kn.rand,kn.randomInt=kn.randInt,kn.diagonal=kn.diag,kn.prototype.diagonal=kn.prototype.diag,kn.identity=kn.eye,kn.prototype.negate=kn.prototype.neg,kn.prototype.tensorProduct=kn.prototype.kroneckerProduct;var en=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e,r){var o;if(Object(di.a)(this,t),o=n.call(this),t.isMatrix(e))return Object(Ta.a)(o,e.clone());if(Number.isInteger(e)&&e>=0)if(o.data=[],Number.isInteger(r)&&r>=0)for(var u=0;u<e;u++)o.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var d=e;if(e=d.length,r=e?d[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var y=0;y<e;y++){if(d[y].length!==r)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(d[y]))}}else throw new TypeError("First argument must be a positive number or an array");return o.rows=e,o.columns=r,o}return Object(vi.a)(t,[{key:"set",value:function(r,o,u){return this.data[r][o]=u,this}},{key:"get",value:function(r,o){return this.data[r][o]}},{key:"removeRow",value:function(r){return zn(this,r),this.data.splice(r,1),this.rows-=1,this}},{key:"addRow",value:function(r,o){return o===void 0&&(o=r,r=this.rows),zn(this,r,!0),o=Float64Array.from(Fa(this,o)),this.data.splice(r,0,o),this.rows+=1,this}},{key:"removeColumn",value:function(r){_n(this,r);for(var o=0;o<this.rows;o++){for(var u=new Float64Array(this.columns-1),d=0;d<r;d++)u[d]=this.data[o][d];for(var y=r+1;y<this.columns;y++)u[y-1]=this.data[o][y];this.data[o]=u}return this.columns-=1,this}},{key:"addColumn",value:function(r,o){typeof o=="undefined"&&(o=r,r=this.columns),_n(this,r,!0),o=Gi(this,o);for(var u=0;u<this.rows;u++){for(var d=new Float64Array(this.columns+1),y=0;y<r;y++)d[y]=this.data[u][y];for(d[y++]=o[u];y<this.columns+1;y++)d[y]=this.data[u][y-1];this.data[u]=d}return this.columns+=1,this}}]),t}(kn);_a(kn,en);var ya=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.data=e,r.rows=e.length,r.columns=e[0].length,r}return Object(vi.a)(t,[{key:"set",value:function(r,o,u){return this.data[r][o]=u,this}},{key:"get",value:function(r,o){return this.data[r][o]}}]),t}(kn);function Ga(l,n){var t=0;return Math.abs(l)>Math.abs(n)?(t=n/l,Math.abs(l)*Math.sqrt(1+t*t)):n!==0?(t=l/n,Math.abs(n)*Math.sqrt(1+t*t)):0}var Ri=function(){function l(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(di.a)(this,l),n=ya.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");var e=n.rows,r=n.columns,o=t.computeLeftSingularVectors,u=o===void 0?!0:o,d=t.computeRightSingularVectors,y=d===void 0?!0:d,P=t.autoTranspose,F=P===void 0?!1:P,k=Boolean(u),rt=Boolean(y),ut=!1,pt;if(e<r)if(!F)pt=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{pt=n.transpose(),e=pt.rows,r=pt.columns,ut=!0;var Et=k;k=rt,rt=Et}else pt=n.clone();for(var Lt=Math.min(e,r),Gt=Math.min(e+1,r),Rt=new Float64Array(Gt),Xt=new en(e,Lt),Zt=new en(r,r),_t=new Float64Array(r),ie=new Float64Array(e),ce=new Float64Array(Gt),be=0;be<Gt;be++)ce[be]=be;for(var Pe=Math.min(e-1,r),Se=Math.max(0,Math.min(r-2,e)),Ue=Math.max(Pe,Se),Ye=0;Ye<Ue;Ye++){if(Ye<Pe){Rt[Ye]=0;for(var Ur=Ye;Ur<e;Ur++)Rt[Ye]=Ga(Rt[Ye],pt.get(Ur,Ye));if(Rt[Ye]!==0){pt.get(Ye,Ye)<0&&(Rt[Ye]=-Rt[Ye]);for(var Wr=Ye;Wr<e;Wr++)pt.set(Wr,Ye,pt.get(Wr,Ye)/Rt[Ye]);pt.set(Ye,Ye,pt.get(Ye,Ye)+1)}Rt[Ye]=-Rt[Ye]}for(var zr=Ye+1;zr<r;zr++){if(Ye<Pe&&Rt[Ye]!==0){for(var Mn=0,xn=Ye;xn<e;xn++)Mn+=pt.get(xn,Ye)*pt.get(xn,zr);Mn=-Mn/pt.get(Ye,Ye);for(var on=Ye;on<e;on++)pt.set(on,zr,pt.get(on,zr)+Mn*pt.get(on,Ye))}_t[zr]=pt.get(Ye,zr)}if(k&&Ye<Pe)for(var un=Ye;un<e;un++)Xt.set(un,Ye,pt.get(un,Ye));if(Ye<Se){_t[Ye]=0;for(var pn=Ye+1;pn<r;pn++)_t[Ye]=Ga(_t[Ye],_t[pn]);if(_t[Ye]!==0){_t[Ye+1]<0&&(_t[Ye]=0-_t[Ye]);for(var kr=Ye+1;kr<r;kr++)_t[kr]/=_t[Ye];_t[Ye+1]+=1}if(_t[Ye]=-_t[Ye],Ye+1<e&&_t[Ye]!==0){for(var bn=Ye+1;bn<e;bn++)ie[bn]=0;for(var Vn=Ye+1;Vn<e;Vn++)for(var Kr=Ye+1;Kr<r;Kr++)ie[Vn]+=_t[Kr]*pt.get(Vn,Kr);for(var vn=Ye+1;vn<r;vn++)for(var sa=-_t[vn]/_t[Ye+1],va=Ye+1;va<e;va++)pt.set(va,vn,pt.get(va,vn)+sa*ie[va])}if(rt)for(var Ua=Ye+1;Ua<r;Ua++)Zt.set(Ua,Ye,_t[Ua])}}var Ar=Math.min(r,e+1);if(Pe<r&&(Rt[Pe]=pt.get(Pe,Pe)),e<Ar&&(Rt[Ar-1]=0),Se+1<Ar&&(_t[Se]=pt.get(Se,Ar-1)),_t[Ar-1]=0,k){for(var fi=Pe;fi<Lt;fi++){for(var Xn=0;Xn<e;Xn++)Xt.set(Xn,fi,0);Xt.set(fi,fi,1)}for(var Tn=Pe-1;Tn>=0;Tn--)if(Rt[Tn]!==0){for(var ri=Tn+1;ri<Lt;ri++){for(var Si=0,Ci=Tn;Ci<e;Ci++)Si+=Xt.get(Ci,Tn)*Xt.get(Ci,ri);Si=-Si/Xt.get(Tn,Tn);for(var xo=Tn;xo<e;xo++)Xt.set(xo,ri,Xt.get(xo,ri)+Si*Xt.get(xo,Tn))}for(var Gs=Tn;Gs<e;Gs++)Xt.set(Gs,Tn,-Xt.get(Gs,Tn));Xt.set(Tn,Tn,1+Xt.get(Tn,Tn));for(var Pf=0;Pf<Tn-1;Pf++)Xt.set(Pf,Tn,0)}else{for(var Lh=0;Lh<e;Lh++)Xt.set(Lh,Tn,0);Xt.set(Tn,Tn,1)}}if(rt)for(var ls=r-1;ls>=0;ls--){if(ls<Se&&_t[ls]!==0)for(var zu=ls+1;zu<r;zu++){for(var Df=0,ru=ls+1;ru<r;ru++)Df+=Zt.get(ru,ls)*Zt.get(ru,zu);Df=-Df/Zt.get(ls+1,ls);for(var ku=ls+1;ku<r;ku++)Zt.set(ku,zu,Zt.get(ku,zu)+Df*Zt.get(ku,ls))}for(var Vu=0;Vu<r;Vu++)Zt.set(Vu,ls,0);Zt.set(ls,ls,1)}for(var Sl=Ar-1,Cl=0,nu=Number.EPSILON;Ar>0;){var ga=void 0,Dc=void 0;for(ga=Ar-2;ga>=-1&&ga!==-1;ga--){var pM=Number.MIN_VALUE+nu*Math.abs(Rt[ga]+Math.abs(Rt[ga+1]));if(Math.abs(_t[ga])<=pM||Number.isNaN(_t[ga])){_t[ga]=0;break}}if(ga===Ar-2)Dc=4;else{var Us=void 0;for(Us=Ar-1;Us>=ga&&Us!==ga;Us--){var yM=(Us!==Ar?Math.abs(_t[Us]):0)+(Us!==ga+1?Math.abs(_t[Us-1]):0);if(Math.abs(Rt[Us])<=nu*yM){Rt[Us]=0;break}}Us===ga?Dc=3:Us===Ar-1?Dc=1:(Dc=2,ga=Us)}switch(ga++,Dc){case 1:{var gg=_t[Ar-2];_t[Ar-2]=0;for(var tl=Ar-2;tl>=ga;tl--){var jd=Ga(Rt[tl],gg),pg=Rt[tl]/jd,yg=gg/jd;if(Rt[tl]=jd,tl!==ga&&(gg=-yg*_t[tl-1],_t[tl-1]=pg*_t[tl-1]),rt)for(var jc=0;jc<r;jc++)jd=pg*Zt.get(jc,tl)+yg*Zt.get(jc,Ar-1),Zt.set(jc,Ar-1,-yg*Zt.get(jc,tl)+pg*Zt.get(jc,Ar-1)),Zt.set(jc,tl,jd)}break}case 2:{var mg=_t[ga-1];_t[ga-1]=0;for(var Tl=ga;Tl<Ar;Tl++){var Ld=Ga(Rt[Tl],mg),bg=Rt[Tl]/Ld,Og=mg/Ld;if(Rt[Tl]=Ld,mg=-Og*_t[Tl],_t[Tl]=bg*_t[Tl],k)for(var Lc=0;Lc<e;Lc++)Ld=bg*Xt.get(Lc,Tl)+Og*Xt.get(Lc,ga-1),Xt.set(Lc,ga-1,-Og*Xt.get(Lc,Tl)+bg*Xt.get(Lc,ga-1)),Xt.set(Lc,Tl,Ld)}break}case 3:{var Rd=Math.max(Math.abs(Rt[Ar-1]),Math.abs(Rt[Ar-2]),Math.abs(_t[Ar-2]),Math.abs(Rt[ga]),Math.abs(_t[ga])),Rh=Rt[Ar-1]/Rd,a0=Rt[Ar-2]/Rd,Cv=_t[Ar-2]/Rd,xg=Rt[ga]/Rd,mM=_t[ga]/Rd,jf=((a0+Rh)*(a0-Rh)+Cv*Cv)/2,Tv=Rh*Cv*(Rh*Cv),wd=0;(jf!==0||Tv!==0)&&(jf<0?wd=0-Math.sqrt(jf*jf+Tv):wd=Math.sqrt(jf*jf+Tv),wd=Tv/(jf+wd));for(var Lf=(xg+Rh)*(xg-Rh)+wd,wh=xg*mM,pi=ga;pi<Ar-1;pi++){var ps=Ga(Lf,wh);ps===0&&(ps=Number.MIN_VALUE);var Al=Lf/ps,Il=wh/ps;if(pi!==ga&&(_t[pi-1]=ps),Lf=Al*Rt[pi]+Il*_t[pi],_t[pi]=Al*_t[pi]-Il*Rt[pi],wh=Il*Rt[pi+1],Rt[pi+1]=Al*Rt[pi+1],rt)for(var Rc=0;Rc<r;Rc++)ps=Al*Zt.get(Rc,pi)+Il*Zt.get(Rc,pi+1),Zt.set(Rc,pi+1,-Il*Zt.get(Rc,pi)+Al*Zt.get(Rc,pi+1)),Zt.set(Rc,pi,ps);if(ps=Ga(Lf,wh),ps===0&&(ps=Number.MIN_VALUE),Al=Lf/ps,Il=wh/ps,Rt[pi]=ps,Lf=Al*_t[pi]+Il*Rt[pi+1],Rt[pi+1]=-Il*_t[pi]+Al*Rt[pi+1],wh=Il*_t[pi+1],_t[pi+1]=Al*_t[pi+1],k&&pi<e-1)for(var wc=0;wc<e;wc++)ps=Al*Xt.get(wc,pi)+Il*Xt.get(wc,pi+1),Xt.set(wc,pi+1,-Il*Xt.get(wc,pi)+Al*Xt.get(wc,pi+1)),Xt.set(wc,pi,ps)}_t[Ar-2]=Lf,Cl=Cl+1;break}case 4:{if(Rt[ga]<=0&&(Rt[ga]=Rt[ga]<0?-Rt[ga]:0,rt))for(var Av=0;Av<=Sl;Av++)Zt.set(Av,ga,-Zt.get(Av,ga));for(;ga<Sl&&!(Rt[ga]>=Rt[ga+1]);){var Bd=Rt[ga];if(Rt[ga]=Rt[ga+1],Rt[ga+1]=Bd,rt&&ga<r-1)for(var Bh=0;Bh<r;Bh++)Bd=Zt.get(Bh,ga+1),Zt.set(Bh,ga+1,Zt.get(Bh,ga)),Zt.set(Bh,ga,Bd);if(k&&ga<e-1)for(var Nh=0;Nh<e;Nh++)Bd=Xt.get(Nh,ga+1),Xt.set(Nh,ga+1,Xt.get(Nh,ga)),Xt.set(Nh,ga,Bd);ga++}Cl=0,Ar--;break}}}if(ut){var bM=Zt;Zt=Xt,Xt=bM}this.m=e,this.n=r,this.s=Rt,this.U=Xt,this.V=Zt}return Object(vi.a)(l,[{key:"solve",value:function(t){for(var e=t,r=this.threshold,o=this.s.length,u=en.zeros(o,o),d=0;d<o;d++)Math.abs(this.s[d])<=r?u.set(d,d,0):u.set(d,d,1/this.s[d]);for(var y=this.U,P=this.rightSingularVectors,F=P.mmul(u),k=P.rows,rt=y.rows,ut=en.zeros(k,rt),pt=0;pt<k;pt++)for(var Et=0;Et<rt;Et++){for(var Lt=0,Gt=0;Gt<o;Gt++)Lt+=F.get(pt,Gt)*y.get(Et,Gt);ut.set(pt,Et,Lt)}return ut.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(en.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,r=t.rows,o=t.columns,u=new en(r,this.s.length),d=0;d<r;d++)for(var y=0;y<o;y++)Math.abs(this.s[y])>e&&u.set(d,y,t.get(d,y)/this.s[y]);for(var P=this.U,F=P.rows,k=P.columns,rt=new en(r,F),ut=0;ut<r;ut++)for(var pt=0;pt<F;pt++){for(var Et=0,Lt=0;Lt<k;Lt++)Et+=u.get(ut,Lt)*P.get(pt,Lt);rt.set(ut,pt,Et)}return rt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,o=0,u=r.length;o<u;o++)r[o]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return en.diag(this.s)}}]),l}(),jo=function(){function l(n){Object(di.a)(this,l),this.distances=n.distances,this.dimension=n.dimension||2,this.linkDistance=n.linkDistance}return Object(vi.a)(l,[{key:"layout",value:function(){var t=this,e=t.dimension,r=t.distances,o=t.linkDistance;try{var u=en.mul(en.pow(r,2),-.5),d=u.mean("row"),y=u.mean("column"),P=u.mean();u.add(P).subRowVector(d).subColumnVector(y);var F=new Ri(u),k=en.sqrt(F.diagonalMatrix).diagonal();return F.leftSingularVectors.toJSON().map(function(Lt){return en.mul([Lt],[k]).toJSON()[0].splice(0,e)})}catch(Lt){for(var rt=[],ut=0;ut<r.length;ut++){var pt=Math.random()*o,Et=Math.random()*o;rt.push([pt,Et])}return rt}}}]),l}(),Ef=800,Ko=function(){function l(n){Object(di.a)(this,l),this.disp=[],this.positions=n.positions,this.adjMatrix=n.adjMatrix,this.focusID=n.focusID,this.radii=n.radii,this.iterations=n.iterations||10,this.height=n.height||10,this.width=n.width||10,this.speed=n.speed||100,this.gravity=n.gravity||10,this.nodeSizeFunc=n.nodeSizeFunc,this.k=n.k||5,this.strictRadial=n.strictRadial,this.nodes=n.nodes}return Object(vi.a)(l,[{key:"layout",value:function(){var t=this,e=t.positions,r=[],o=t.iterations,u=t.width/10;t.maxDisplace=u,t.disp=r;for(var d=0;d<o;d++)e.forEach(function(y,P){r[P]={x:0,y:0}}),t.getRepulsion(),t.updatePositions();return e}},{key:"getRepulsion",value:function(){var t=this,e=t.positions,r=t.nodes,o=t.disp,u=t.k,d=t.radii||[];e.forEach(function(y,P){o[P]={x:0,y:0},e.forEach(function(F,k){if(P!==k&&d[P]===d[k]){var rt=y[0]-F[0],ut=y[1]-F[1],pt=Math.sqrt(rt*rt+ut*ut);if(pt===0){pt=1;var Et=P>k?1:-1;rt=.01*Et,ut=.01*Et}if(pt<t.nodeSizeFunc(r[P])/2+t.nodeSizeFunc(r[k])/2){var Lt=u*u/pt;o[P].x+=rt/pt*Lt,o[P].y+=ut/pt*Lt}}})})}},{key:"updatePositions",value:function(){var t=this,e=t.positions,r=t.disp,o=t.speed,u=t.strictRadial,d=t.focusID,y=t.maxDisplace||t.width/10;u&&r.forEach(function(F,k){var rt=e[k][0]-e[d][0],ut=e[k][1]-e[d][1],pt=Math.sqrt(rt*rt+ut*ut),Et=ut/pt,Lt=-rt/pt,Gt=Math.sqrt(F.x*F.x+F.y*F.y),Rt=Math.acos((Et*F.x+Lt*F.y)/Gt);Rt>Math.PI/2&&(Rt-=Math.PI/2,Et*=-1,Lt*=-1);var Xt=Math.cos(Rt)*Gt;F.x=Et*Xt,F.y=Lt*Xt});var P=t.radii;e.forEach(function(F,k){if(k!==d){var rt=Math.sqrt(r[k].x*r[k].x+r[k].y*r[k].y);if(rt>0&&k!==d){var ut=Math.min(y*(o/Ef),rt);if(F[0]+=r[k].x/rt*ut,F[1]+=r[k].y/rt*ut,u){var pt=F[0]-e[d][0],Et=F[1]-e[d][1],Lt=Math.sqrt(pt*pt+Et*Et);pt=pt/Lt*P[k],Et=Et/Lt*P[k],F[0]=e[d][0]+pt,F[1]=e[d][1]+Et}}}})}}]),l}();function Mf(l){for(var n=l.length,t=l[0].length,e=[],r=0;r<n;r++){for(var o=[],u=0;u<t;u++)l[r][u]!==0?o.push(1/(l[r][u]*l[r][u])):o.push(0);e.push(o)}return e}function vs(l,n){var t=-1;return l.forEach(function(e,r){e.id===n&&(t=r)}),t}function xc(l,n){return Math.sqrt((l[0]-n[0])*(l[0]-n[0])+(l[1]-n[1])*(l[1]-n[1]))}var Iv=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.focusNode=null,r.unitRadius=null,r.linkDistance=50,r.preventOverlap=!1,r.strictRadial=!0,r.maxPreventOverlapIteration=200,r.sortStrength=10,r.nodes=[],r.edges=[],r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=r.edges||[];if(!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var d=r.center;if(o.length===1){o[0].x=d[0],o[0].y=d[1],r.onLayoutEnd&&r.onLayoutEnd();return}var y=r.linkDistance,P=null;if(Cu(r.focusNode)){for(var F=!1,k=0;k<o.length;k++)o[k].id===r.focusNode&&(P=o[k],r.focusNode=P,F=!0,k=o.length);F||(P=null)}else P=r.focusNode;P||(P=o[0],r.focusNode=P);var rt=vs(o,P.id);r.focusIndex=rt;var ut=oh({nodes:o,edges:u},!1),pt=ih(ut),Et=r.maxToFocus(pt,rt);r.handleInfinity(pt,rt,Et+1),r.distances=pt;var Lt=pt[rt],Gt=r.width||500,Rt=r.height||500,Xt=Gt-d[0]>d[0]?d[0]:Gt-d[0],Zt=Rt-d[1]>d[1]?d[1]:Rt-d[1];Xt===0&&(Xt=Gt/2),Zt===0&&(Zt=Rt/2);var _t=Zt>Xt?Xt:Zt,ie=Math.max.apply(Math,Object(ha.a)(Lt)),ce=[];Lt.forEach(function(pn,kr){r.unitRadius||(r.unitRadius=_t/ie),ce[kr]=pn*r.unitRadius}),r.radii=ce;var be=r.eIdealDisMatrix();r.eIdealDistances=be;var Pe=Mf(be);r.weights=Pe;var Se=new jo({linkDistance:y,distances:be}),Ue=Se.layout();Ue.forEach(function(pn){dc(pn[0])&&(pn[0]=Math.random()*y),dc(pn[1])&&(pn[1]=Math.random()*y)}),r.positions=Ue,Ue.forEach(function(pn,kr){o[kr].x=pn[0]+d[0],o[kr].y=pn[1]+d[1]}),Ue.forEach(function(pn){pn[0]-=Ue[rt][0],pn[1]-=Ue[rt][1]}),r.run();var Ye=r.preventOverlap,Ur=r.nodeSize,Wr,zr=r.strictRadial;if(Ye){var Mn=r.nodeSpacing,xn;Fn(Mn)?xn=function(){return Mn}:os(Mn)?xn=Mn:xn=function(){return 0},Ur?ho(Ur)?Wr=function(kr){var bn=Ur[0]>Ur[1]?Ur[0]:Ur[1];return bn+xn(kr)}:Wr=function(kr){return Ur+xn(kr)}:Wr=function(kr){if(kr.size){if(ho(kr.size)){var bn=kr.size[0]>kr.size[1]?kr.size[0]:kr.size[1];return bn+xn(kr)}return kr.size+xn(kr)}return 10+xn(kr)};var on={nodes:o,nodeSizeFunc:Wr,adjMatrix:ut,positions:Ue,radii:ce,height:Rt,width:Gt,strictRadial:zr,focusID:rt,iterations:r.maxPreventOverlapIteration||200,k:Ue.length/4.5},un=new Ko(on);Ue=un.layout()}return Ue.forEach(function(pn,kr){o[kr].x=pn[0]+d[0],o[kr].y=pn[1]+d[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:u}}},{key:"run",value:function(){for(var r=this,o=r.maxIteration,u=r.positions||[],d=r.weights||[],y=r.eIdealDistances||[],P=r.radii||[],F=0;F<=o;F++){var k=F/o;r.oneIteration(k,u,P,y,d)}}},{key:"oneIteration",value:function(r,o,u,d,y){var P=this,F=1-r,k=P.focusIndex;o.forEach(function(rt,ut){var pt=xc(rt,[0,0]),Et=pt===0?0:1/pt;if(ut!==k){var Lt=0,Gt=0,Rt=0;o.forEach(function(Zt,_t){if(ut!==_t){var ie=xc(rt,Zt),ce=ie===0?0:1/ie,be=d[_t][ut];Rt+=y[ut][_t],Lt+=y[ut][_t]*(Zt[0]+be*(rt[0]-Zt[0])*ce),Gt+=y[ut][_t]*(Zt[1]+be*(rt[1]-Zt[1])*ce)}});var Xt=u[ut]===0?0:1/u[ut];Rt*=F,Rt+=r*Xt*Xt,Lt*=F,Lt+=r*Xt*rt[0]*Et,rt[0]=Lt/Rt,Gt*=F,Gt+=r*Xt*rt[1]*Et,rt[1]=Gt/Rt}})}},{key:"eIdealDisMatrix",value:function(){var r=this,o=r.nodes;if(!o)return[];var u=r.distances,d=r.linkDistance,y=r.radii||[],P=r.unitRadius||50,F=[];return u&&u.forEach(function(k,rt){var ut=[];k.forEach(function(pt,Et){if(rt===Et)ut.push(0);else if(y[rt]===y[Et])if(r.sortBy==="data")ut.push(pt*(Math.abs(rt-Et)*r.sortStrength)/(y[rt]/P));else if(r.sortBy){var Lt=o[rt][r.sortBy]||0,Gt=o[Et][r.sortBy]||0;Cu(Lt)&&(Lt=Lt.charCodeAt(0)),Cu(Gt)&&(Gt=Gt.charCodeAt(0)),ut.push(pt*(Math.abs(Lt-Gt)*r.sortStrength)/(y[rt]/P))}else ut.push(pt*d/(y[rt]/P));else{var Rt=(d+P)/2;ut.push(pt*Rt)}}),F.push(ut)}),F}},{key:"handleInfinity",value:function(r,o,u){for(var d=r.length,y=0;y<d;y++)if(r[o][y]===Infinity){r[o][y]=u,r[y][o]=u;for(var P=0;P<d;P++)r[y][P]!==Infinity&&r[o][P]===Infinity&&(r[o][P]=u+r[y][P],r[P][o]=u+r[y][P])}for(var F=0;F<d;F++)if(F!==o){for(var k=0;k<d;k++)if(r[F][k]===Infinity){var rt=Math.abs(r[o][F]-r[o][k]);rt=rt===0?1:rt,r[F][k]=rt}}}},{key:"maxToFocus",value:function(r,o){for(var u=0,d=0;d<r[o].length;d++)r[o][d]!==Infinity&&(u=r[o][d]>u?r[o][d]:u);return u}},{key:"getType",value:function(){return"radial"}}]),t}(Io),kd=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.nodeSize=30,r.minNodeSpacing=10,r.preventOverlap=!1,r.equidistant=!1,r.startAngle=3/2*Math.PI,r.clockwise=!0,r.sortBy="degree",r.nodes=[],r.edges=[],r.width=300,r.height=300,r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=r.edges,d=o.length;if(d===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var y=r.center;if(d===1){o[0].x=y[0],o[0].y=y[1],r.onLayoutEnd&&r.onLayoutEnd();return}var P=[],F;ho(r.nodeSize)?F=Math.max(r.nodeSize[0],r.nodeSize[1]):F=r.nodeSize,o.forEach(function(Se){P.push(Se);var Ue=F;ho(Se.size)?Ue=Math.max(Se.size[0],Se.size[1]):Fn(Se.size)&&(Ue=Se.size),F=Math.max(F,Ue)}),r.clockwise=r.counterclockwise!==void 0?!r.counterclockwise:r.clockwise;var k={},rt={};if(P.forEach(function(Se,Ue){k[Se.id]=Se,rt[Se.id]=Ue}),(r.sortBy==="degree"||!Cu(r.sortBy)||P[0][r.sortBy]===void 0)&&(r.sortBy="degree",!Fn(o[0].degree))){var ut=Tu(o.length,rt,u);P.forEach(function(Se,Ue){Se.degree=ut[Ue]})}P.sort(function(Se,Ue){return Ue[r.sortBy]-Se[r.sortBy]}),r.maxValueNode=P[0],r.maxLevelDiff=r.maxLevelDiff||r.maxValueNode[r.sortBy]/4;var pt=[[]],Et=pt[0];P.forEach(function(Se){if(Et.length>0){var Ue=Math.abs(Et[0][r.sortBy]-Se[r.sortBy]);r.maxLevelDiff&&Ue>=r.maxLevelDiff&&(Et=[],pt.push(Et))}Et.push(Se)});var Lt=F+r.minNodeSpacing;if(!r.preventOverlap){var Gt=pt.length>0&&pt[0].length>1,Rt=Math.min(r.width,r.height)/2-Lt,Xt=Rt/(pt.length+(Gt?1:0));Lt=Math.min(Lt,Xt)}var Zt=0;if(pt.forEach(function(Se){var Ue=r.sweep;Ue===void 0&&(Ue=2*Math.PI-2*Math.PI/Se.length);var Ye=Se.dTheta=Ue/Math.max(1,Se.length-1);if(Se.length>1&&r.preventOverlap){var Ur=Math.cos(Ye)-Math.cos(0),Wr=Math.sin(Ye)-Math.sin(0),zr=Math.sqrt(Lt*Lt/(Ur*Ur+Wr*Wr));Zt=Math.max(zr,Zt)}Se.r=Zt,Zt+=Lt}),r.equidistant){for(var _t=0,ie=0,ce=0;ce<pt.length;ce++){var be=pt[ce],Pe=be.r-ie;_t=Math.max(_t,Pe)}ie=0,pt.forEach(function(Se,Ue){Ue===0&&(ie=Se.r),Se.r=ie,ie+=_t})}return pt.forEach(function(Se){var Ue=Se.dTheta,Ye=Se.r;Se.forEach(function(Ur,Wr){var zr=r.startAngle+(r.clockwise?1:-1)*Ue*Wr;Ur.x=y[0]+Ye*Math.cos(zr),Ur.y=y[1]+Ye*Math.sin(zr)})}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:u}}},{key:"getType",value:function(){return"concentric"}}]),t}(Io),Pv=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.center=[0,0],r.linkDistance=50,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=r.edges,d=u===void 0?[]:u,y=r.center;if(!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(o.length===1){o[0].x=y[0],o[0].y=y[1],r.onLayoutEnd&&r.onLayoutEnd();return}var P=r.linkDistance,F=oh({nodes:o,edges:d},!1),k=ih(F);r.handleInfinity(k);var rt=sh(k,P);r.scaledDistances=rt;var ut=r.runMDS();return r.positions=ut,ut.forEach(function(pt,Et){o[Et].x=pt[0]+y[0],o[Et].y=pt[1]+y[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:d}}},{key:"runMDS",value:function(){var r=this,o=2,u=r.scaledDistances,d=en.mul(en.pow(u,2),-.5),y=d.mean("row"),P=d.mean("column"),F=d.mean();d.add(F).subRowVector(y).subColumnVector(P);var k=new Ri(d),rt=en.sqrt(k.diagonalMatrix).diagonal();return k.leftSingularVectors.toJSON().map(function(ut){return en.mul([ut],[rt]).toJSON()[0].splice(0,o)})}},{key:"handleInfinity",value:function(r){var o=-999999;r.forEach(function(u){u.forEach(function(d){d!==Infinity&&o<d&&(o=d)})}),r.forEach(function(u,d){u.forEach(function(y,P){y===Infinity&&(r[d][P]=o)})})}},{key:"getType",value:function(){return"mds"}}]),t}(Io),Dv=800,jv=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=1,r.clustering=!1,r.clusterGravity=10,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var r=this,o=this,u=o.nodes;if(!u||u.length===0){o.onLayoutEnd&&o.onLayoutEnd();return}!o.width&&typeof window!="undefined"&&(o.width=window.innerWidth),!o.height&&typeof window!="undefined"&&(o.height=window.innerHeight),o.center||(o.center=[o.width/2,o.height/2]);var d=o.center;if(u.length===1){u[0].x=d[0],u[0].y=d[1],o.onLayoutEnd&&o.onLayoutEnd();return}var y={},P={};return u.forEach(function(F,k){Fn(F.x)||(F.x=Math.random()*r.width),Fn(F.y)||(F.y=Math.random()*r.height),y[F.id]=F,P[F.id]=k}),o.nodeMap=y,o.nodeIdxMap=P,o.run()}},{key:"run",value:function(){var r=this,o=r.nodes,u=r.edges,d=r.maxIteration,y=r.center,P=r.height*r.width,F=Math.sqrt(P)/10,k=P/(o.length+1),rt=Math.sqrt(k),ut=r.gravity,pt=r.speed,Et=r.clustering,Lt={};if(Et){o.forEach(function(Zt){if(Lt[Zt.cluster]===void 0){var _t={name:Zt.cluster,cx:0,cy:0,count:0};Lt[Zt.cluster]=_t}var ie=Lt[Zt.cluster];Fn(Zt.x)&&(ie.cx+=Zt.x),Fn(Zt.y)&&(ie.cy+=Zt.y),ie.count++});for(var Gt in Lt)Lt[Gt].cx/=Lt[Gt].count,Lt[Gt].cy/=Lt[Gt].count}for(var Rt=function(_t){var ie=[];if(o.forEach(function(Se,Ue){ie[Ue]={x:0,y:0}}),r.applyCalculate(o,u,ie,rt,k),Et){var ce=r.clusterGravity||ut;o.forEach(function(Se,Ue){if(!(!Fn(Se.x)||!Fn(Se.y))){var Ye=Lt[Se.cluster],Ur=Math.sqrt((Se.x-Ye.cx)*(Se.x-Ye.cx)+(Se.y-Ye.cy)*(Se.y-Ye.cy)),Wr=rt*ce;ie[Ue].x-=Wr*(Se.x-Ye.cx)/Ur,ie[Ue].y-=Wr*(Se.y-Ye.cy)/Ur}});for(var be in Lt)Lt[be].cx=0,Lt[be].cy=0,Lt[be].count=0;o.forEach(function(Se){var Ue=Lt[Se.cluster];Fn(Se.x)&&(Ue.cx+=Se.x),Fn(Se.y)&&(Ue.cy+=Se.y),Ue.count++});for(var Pe in Lt)Lt[Pe].cx/=Lt[Pe].count,Lt[Pe].cy/=Lt[Pe].count}o.forEach(function(Se,Ue){if(!(!Fn(Se.x)||!Fn(Se.y))){var Ye=.01*rt*ut;ie[Ue].x-=Ye*(Se.x-y[0]),ie[Ue].y-=Ye*(Se.y-y[1])}}),o.forEach(function(Se,Ue){if(!(!Fn(Se.x)||!Fn(Se.y))){var Ye=Math.sqrt(ie[Ue].x*ie[Ue].x+ie[Ue].y*ie[Ue].y);if(Ye>0){var Ur=Math.min(F*(pt/Dv),Ye);Se.x+=ie[Ue].x/Ye*Ur,Se.y+=ie[Ue].y/Ye*Ur}}})},Xt=0;Xt<d;Xt++)Rt(Xt);return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:u}}},{key:"applyCalculate",value:function(r,o,u,d,y){var P=this;P.calRepulsive(r,u,y),P.calAttractive(o,u,d)}},{key:"calRepulsive",value:function(r,o,u){r.forEach(function(d,y){o[y]={x:0,y:0},r.forEach(function(P,F){if(y!==F&&!(!Fn(d.x)||!Fn(P.x)||!Fn(d.y)||!Fn(P.y))){var k=d.x-P.x,rt=d.y-P.y,ut=k*k+rt*rt;if(ut===0){ut=1;var pt=y>F?1:-1;k=.01*pt,rt=.01*pt}var Et=u/ut;o[y].x+=k*Et,o[y].y+=rt*Et}})})}},{key:"calAttractive",value:function(r,o,u){var d=this;r.forEach(function(y){if(!(!y.source||!y.target)){var P=d.nodeIdxMap[y.source],F=d.nodeIdxMap[y.target];if(P!==F){var k=d.nodeMap[y.source],rt=d.nodeMap[y.target];if(!(!Fn(rt.x)||!Fn(k.x)||!Fn(rt.y)||!Fn(k.y))){var ut=rt.x-k.x,pt=rt.y-k.y,Et=Math.sqrt(ut*ut+pt*pt),Lt=Et*Et/u;o[F].x-=ut/Et*Lt,o[F].y-=pt/Et*Lt,o[P].x+=ut/Et*Lt,o[P].y+=pt/Et*Lt}}}})}},{key:"getType",value:function(){return"fruchterman"}}]),t}(Io),Lv=a("SDju"),oa=a.n(Lv),Rv=a("viI4"),Di=a.n(Rv),wv=a("Rspp"),Qa=a.n(wv),Bv=a("2Asv"),qa=a.n(Bv),Nv=a("PVp4"),wi=a.n(Nv),Eg=a("e6Zy"),Ae=a("2Pg9"),da=a("me+i");function id(l){return typeof l=="number"}function bl(l){return l===void 0?0:l>360||l<-360?l%360:l}function Ru(l,n,t){return id(l)?Lr.e.fromValues(l,n,t):l.length===3?Lr.e.clone(l):Lr.e.fromValues(l[0],l[1],l[2])}var Vd=function(){function l(n,t){Qa()(this,l),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=n,this.matrix=Lr.b.clone(t.matrix),this.right=Lr.e.clone(t.right),this.up=Lr.e.clone(t.up),this.forward=Lr.e.clone(t.forward),this.position=Lr.e.clone(t.position),this.focalPoint=Lr.e.clone(t.focalPoint),this.distanceVector=Lr.e.clone(t.distanceVector),this.azimuth=t.azimuth,this.elevation=t.elevation,this.roll=t.roll,this.relAzimuth=t.relAzimuth,this.relElevation=t.relElevation,this.relRoll=t.relRoll,this.dollyingStep=t.dollyingStep,this.distance=t.distance}return qa()(l,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=Lr.b.copy(t.matrix,this.matrix),t.right=Lr.e.copy(t.right,this.right),t.up=Lr.e.copy(t.up,this.up),t.forward=Lr.e.copy(t.forward,this.forward),t.position=Lr.e.copy(t.position,this.position),t.focalPoint=Lr.e.copy(t.focalPoint,this.focalPoint),t.distanceVector=Lr.e.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),l}(),Xd,Hd,Yd,od,Kd,sd,ld,Ei;(function(l){l.ORBITING="ORBITING",l.EXPLORING="EXPLORING",l.TRACKING="TRACKING"})(Ei||(Ei={}));var Sf;(function(l){l.DEFAULT="DEFAULT",l.ROTATIONAL="ROTATIONAL",l.TRANSLATIONAL="TRANSLATIONAL",l.CINEMATIC="CINEMATIC"})(Sf||(Sf={}));var wu;(function(l){l.ORTHOGRAPHIC="ORTHOGRAPHIC",l.PERSPECTIVE="PERSPECTIVE"})(wu||(wu={}));var Ol=Math.PI/180,Zl=180/Math.PI,Zd=(Xd=Object(da.injectable)(),Hd=Object(da.inject)(Ae.IDENTIFIER.InteractorService),Xd(Yd=(od=(ld=sd=function(){function l(){Qa()(this,l),this.matrix=Lr.b.create(),this.right=Lr.e.fromValues(1,0,0),this.up=Lr.e.fromValues(0,1,0),this.forward=Lr.e.fromValues(0,0,1),this.position=Lr.e.fromValues(0,0,1),this.focalPoint=Lr.e.fromValues(0,0,0),this.distanceVector=Lr.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=Infinity,this.minDistance=-Infinity,this.rotateWorld=!1,Di()(this,"interactor",Kd,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Lr.b.create(),this.view=void 0,this.following=void 0,this.type=Ei.EXPLORING,this.trackingMode=Sf.DEFAULT,this.projectionMode=wu.PERSPECTIVE,this.frustum=new Ae.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return qa()(l,[{key:"clone",value:function(){var t=new l;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===Ei.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Ei.TRACKING&&e!==void 0&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==Ei.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return Lr.b.invert(Lr.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,r,o,u,d){return this.aspect=t/e,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=o,this.view.width=u,this.view.height=d,this.projectionMode===wu.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===wu.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,r,o){return this.projectionMode=wu.PERSPECTIVE,this.fov=r,this.near=t,this.far=e,this.aspect=o,Lr.b.perspective(this.perspective,this.fov*Ol,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,r,o,u,d){this.projectionMode=wu.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=r,this.bottom=o,this.near=u,this.far=d;var y=(this.rright-this.left)/(2*this.zoom),P=(this.top-this.bottom)/(2*this.zoom),F=(this.rright+this.left)/2,k=(this.top+this.bottom)/2,rt=F-y,ut=F+y,pt=k+P,Et=k-P;if(this.view!==void 0&&this.view.enabled){var Lt=(this.rright-this.left)/this.view.fullWidth/this.zoom,Gt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;rt+=Lt*this.view.offsetX,ut=rt+Lt*this.view.width,pt-=Gt*this.view.offsetY,Et=pt-Gt*this.view.height}return Lr.b.ortho(this.perspective,rt,ut,pt,Et,u,d),this}},{key:"setPosition",value:function(t,e,r){return this._setPosition(t,e,r),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,r){var o=Lr.e.fromValues(0,1,0);if(this.focalPoint=Ru(t,e,r),this.trackingMode===Sf.CINEMATIC){var u=Lr.e.subtract(Lr.e.create(),this.focalPoint,this.position);t=u[0],e=u[1],r=u[2];var d=Lr.e.length(u),y=Math.asin(e/d)*Zl,P=90+Math.atan2(r,t)*Zl,F=Lr.b.create();Lr.b.rotateY(F,F,P*Ol),Lr.b.rotateX(F,F,y*Ol),o=Lr.e.transformMat4(Lr.e.create(),[0,1,0],F)}return Lr.b.invert(this.matrix,Lr.b.lookAt(Lr.b.create(),this.position,this.focalPoint,o)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var e=Lr.e.create();t=this.distance;var r=this.forward,o=this.focalPoint;return e[0]=t*r[0]+o[0],e[1]=t*r[1]+o[1],e[2]=t*r[2]+o[2],this._setPosition(e),this}}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=bl(t),this.computeMatrix(),this._getAxes(),this.type===Ei.ORBITING||this.type===Ei.EXPLORING?this._getPosition():this.type===Ei.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=bl(t),this.computeMatrix(),this._getAxes(),this.type===Ei.ORBITING||this.type===Ei.EXPLORING?this._getPosition():this.type===Ei.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=bl(t),this.computeMatrix(),this._getAxes(),this.type===Ei.ORBITING||this.type===Ei.EXPLORING?this._getPosition():this.type===Ei.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,r){if(this.type===Ei.EXPLORING){t=bl(t),e=bl(e),r=bl(r);var o=Lr.c.setAxisAngle(Lr.c.create(),[1,0,0],(this.rotateWorld?1:-1)*e*Ol),u=Lr.c.setAxisAngle(Lr.c.create(),[0,1,0],(this.rotateWorld?1:-1)*t*Ol),d=Lr.c.setAxisAngle(Lr.c.create(),[0,0,1],r*Ol),y=Lr.c.multiply(Lr.c.create(),u,o);y=Lr.c.multiply(Lr.c.create(),y,d);var P=Lr.b.fromQuat(Lr.b.create(),y);Lr.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),Lr.b.multiply(this.matrix,this.matrix,P),Lr.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+e)>90)return;this.relElevation=bl(e),this.relAzimuth=bl(t),this.relRoll=bl(r),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Ei.ORBITING||this.type===Ei.EXPLORING?this._getPosition():this.type===Ei.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var r=Ru(t,e,0),o=Lr.e.clone(this.position);return Lr.e.add(o,o,Lr.e.scale(Lr.e.create(),this.right,r[0])),Lr.e.add(o,o,Lr.e.scale(Lr.e.create(),this.up,r[1])),this._setPosition(o),this}},{key:"dolly",value:function(t){var e=this.forward,r=Lr.e.clone(this.position),o=t*this.dollyingStep,u=this.distance+t*this.dollyingStep;return o=Math.max(Math.min(u,this.maxDistance),this.minDistance)-this.distance,r[0]+=o*e[0],r[1]+=o*e[1],r[2]+=o*e[2],this._setPosition(r),this.type===Ei.ORBITING||this.type===Ei.EXPLORING?this._getDistance():this.type===Ei.TRACKING&&Lr.e.add(this.focalPoint,r,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var r=this.clone();r.setPosition(e.position),r.setFocalPoint(e.focalPoint),e.roll!==void 0&&r.setRoll(e.roll);var o=new Vd(t,r);return this.landmarks.push(o),o}},{key:"setLandmark",value:function(t){var e=new Vd(t,this);return this.landmarks.push(e),this}},{key:"gotoLandmark",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,o=this.landmarks.find(function(k){return k.name===t});if(o){if(r===0){o.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var u=o.getPosition(),d=o.getFocalPoint(),y=o.getRoll(),P,F=function k(rt){P===void 0&&(P=rt);var ut=rt-P,pt=(1-Math.cos(ut/r*Math.PI))/2,Et=Lr.e.create(),Lt=Lr.e.create(),Gt=0;Lr.e.lerp(Et,e.focalPoint,d,pt),Lr.e.lerp(Lt,e.position,u,pt),Gt=e.roll*(1-pt)+y*pt,e.setFocalPoint(Et),e.setPosition(Lt),e.setRoll(Gt),e.computeMatrix();var Rt=Lr.e.dist(Et,d)+Lr.e.dist(Lt,u);if(!(Rt>.01)){e.setFocalPoint(Et),e.setPosition(Lt),e.setRoll(Gt),e.computeMatrix(),e.interactor.connect();return}ut<r&&(e.landmarkAnimationID=window.requestAnimationFrame(k))};window.requestAnimationFrame(F)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,e,r=Lr.c.setAxisAngle(Lr.c.create(),[0,0,1],this.roll*Ol);Lr.b.identity(this.matrix),t=Lr.c.setAxisAngle(Lr.c.create(),[1,0,0],(this.rotateWorld&&this.type!==Ei.TRACKING||this.type===Ei.TRACKING?1:-1)*this.elevation*Ol),e=Lr.c.setAxisAngle(Lr.c.create(),[0,1,0],(this.rotateWorld&&this.type!==Ei.TRACKING||this.type===Ei.TRACKING?1:-1)*this.azimuth*Ol);var o=Lr.c.multiply(Lr.c.create(),e,t);o=Lr.c.multiply(Lr.c.create(),o,r);var u=Lr.b.fromQuat(Lr.b.create(),o);this.type===Ei.ORBITING||this.type===Ei.EXPLORING?(Lr.b.translate(this.matrix,this.matrix,this.focalPoint),Lr.b.multiply(this.matrix,this.matrix,u),Lr.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Ei.TRACKING&&(Lr.b.translate(this.matrix,this.matrix,this.position),Lr.b.multiply(this.matrix,this.matrix,u))}},{key:"_setPosition",value:function(t,e,r){this.position=Ru(t,e,r);var o=this.matrix;o[12]=this.position[0],o[13]=this.position[1],o[14]=this.position[2],o[15]=1}},{key:"_getAxes",value:function(){Lr.e.copy(this.right,Ru(Lr.f.transformMat4(Lr.f.create(),[1,0,0,0],this.matrix))),Lr.e.copy(this.up,Ru(Lr.f.transformMat4(Lr.f.create(),[0,1,0,0],this.matrix))),Lr.e.copy(this.forward,Ru(Lr.f.transformMat4(Lr.f.create(),[0,0,1,0],this.matrix))),Lr.e.normalize(this.right,this.right),Lr.e.normalize(this.up,this.up),Lr.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],r=this.distanceVector[2],o=Lr.e.length(this.distanceVector);if(o===0){this.elevation=0,this.azimuth=0;return}this.type===Ei.TRACKING?(this.elevation=Math.asin(e/o)*Zl,this.azimuth=Math.atan2(-t,-r)*Zl):this.rotateWorld?(this.elevation=Math.asin(e/o)*Zl,this.azimuth=Math.atan2(-t,-r)*Zl):(this.elevation=-Math.asin(e/o)*Zl,this.azimuth=-Math.atan2(-t,-r)*Zl)}},{key:"_getPosition",value:function(){Lr.e.copy(this.position,Ru(Lr.f.transformMat4(Lr.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Lr.e.transformMat3(this.distanceVector,[0,0,-this.distance],Lr.a.fromMat4(Lr.a.create(),this.matrix)),Lr.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Lr.e.subtract(Lr.e.create(),this.focalPoint,this.position),this.distance=Lr.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),l}(),sd.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},ld),Kd=wi()(od.prototype,"interactor",[Hd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),od))||Yd),xl,ud,v,f,s,c,m,R=(xl=Object(da.injectable)(),ud=Object(da.inject)(Ae.IDENTIFIER.GeometryComponentManager),xl(v=(f=(m=c=function(){function l(){Qa()(this,l),this.config=void 0,Di()(this,"geometry",s,this),this.entity=void 0,this.component=void 0}return qa()(l,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.component=this.geometry.create(t),this.component.entity=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),l}(),c.BOX="box",c.SPHERE="sphere",c.PLANE="plane",c.MERGED="merged",m),s=wi()(f.prototype,"geometry",[ud],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f))||v),K=a("7XXI"),ht=a.n(K),Tt=a("mwFr"),Bt=a.n(Tt),Ht=a("weX+");function $t(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var te={}.toString,re=function(n,t){return te.call(n)==="[object "+t+"]"},ve=re,me=function(l){return Array.isArray?Array.isArray(l):ve(l,"Array")},_e=a("oxMB"),tr=a.n(_e),yr=9007199254740991,xr="[object Arguments]",nn="[object Array]",dn="[object Boolean]",cn="[object Date]",ma="[object Error]",na="[object Function]",Kn="[object Map]",ka="[object Number]",gi="[object Object]",ui="[object RegExp]",Qi="[object Set]",Lo="[object String]",mo="[object WeakMap]",bo="[object ArrayBuffer]",Ec="[object DataView]",El="[object Float32Array]",$d="[object Float64Array]",Fv="[object Int8Array]",Gv="[object Int16Array]",Qd="[object Int32Array]",Jd="[object Uint8Array]",_d="[object Uint8ClampedArray]",Uv="[object Uint16Array]",cd="[object Uint32Array]",ki={};ki[El]=ki[$d]=ki[Fv]=ki[Gv]=ki[Qd]=ki[Jd]=ki[_d]=ki[Uv]=ki[cd]=!0,ki[xr]=ki[nn]=ki[bo]=ki[dn]=ki[Ec]=ki[cn]=ki[ma]=ki[na]=ki[Kn]=ki[ka]=ki[gi]=ki[ui]=ki[Qi]=ki[Lo]=ki[mo]=!1;function qd(l){return function(n){return l(n)}}var fd=Object.prototype,Wv=fd.toString;function $l(l){return zv(l)&&Mg(l.length)&&!!ki[Wv.call(l)]}function Mg(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=yr}function zv(l){return!!l&&tr()(l)==="object"}var Bu=$l,Fs,tv,Sg,Cg,ev,Tg,Ag,Ig;function Pg(l,n){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(l);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,e)}return t}function Dg(l){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Pg(Object(t),!0).forEach(function(e){Bt()(l,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):Pg(Object(t)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(t,e))})}return l}var jg=(Fs=Object(da.injectable)(),tv=Object(da.inject)(Ae.IDENTIFIER.RenderEngine),Sg=Object(da.inject)(Ae.IDENTIFIER.ConfigService),Fs(Cg=(ev=(Ig=function(){function l(){Qa()(this,l),Di()(this,"engine",Tg,this),Di()(this,"configService",Ag,this),this.entity=Object(Ae.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return qa()(l,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,r=t.engineOptions;this.initPromise=this.engine.init(Dg({canvas:e||$t(),swapChainFormat:Ht.TextureFormat.BGRA8Unorm,antialiasing:!1},r))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var r=this;if(typeof t=="string"){var o=id(e)||Bu(e)||me(e);if(this.compiledBundle&&this.compiledBundle.context){var u=this.compiledBundle.context.defines.find(function(y){return y.name===t});if(u)return u.value=e,this;var d=this.compiledBundle.context.uniforms.find(function(y){return y.name===t});d&&(o?(d.data=e,d.isReferer=!1,d.storageClass===Ae.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(d.isReferer=!0,d.data=e))}}else Object.keys(t).forEach(function(y){r.setBinding(y,t[y])});return this}},{key:"execute",value:function(){var n=ht()(oa.a.mark(function e(){var r=this,o,u,d=arguments;return oa.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(o=d.length>0&&d[0]!==void 0?d[0]:1,!this.dirty){P.next=6;break}return this.compiledBundle.context&&(o>1?this.compiledBundle.context.maxIteration=o:this.compiledBundle.context.maxIteration++),P.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(F){var k=F.isReferer;return k}).forEach(function(F){var k=F.data,rt=F.name;r.model.confirmInput(k.model,rt)}),u=0;u<o;u++)this.model.run();return this.engine.endFrame(),P.abrupt("return",this);case 12:case"end":return P.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getOutput",value:function(){var n=ht()(oa.a.mark(function e(){return oa.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.model.readData());case 1:case"end":return o.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"compile",value:function(){var n=ht()(oa.a.mark(function e(){var r,o,u;return oa.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this.initPromise;case 2:return r=Dg({},this.compiledBundle.context),o=this.engine.supportWebGPU?this.engine.useWGSL?Ae.Target.WGSL:Ae.Target.GLSL450:Ae.Target.GLSL100,u=this.compiledBundle.shaders[o],r.defines.filter(function(P){return P.runtime}).forEach(function(P){var F="".concat(Ae.DefineValuePlaceholder).concat(P.name);u=u.replace(F,"".concat(P.value))}),r.shader=u,r.uniforms.forEach(function(P){if(!P.data&&P.storageClass===Ae.STORAGE_CLASS.StorageBuffer){var F=1;P.type===Ae.AST_TOKEN_TYPES.FloatArray?F=1:P.type===Ae.AST_TOKEN_TYPES.Vector4FloatArray&&(F=4),P.data=new Float32Array(r.output.length*F).fill(0)}}),this.compiledBundle.context=r,y.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=y.sent;case 12:case"end":return y.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),l}(),Ig),Tg=wi()(ev.prototype,"engine",[tv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ag=wi()(ev.prototype,"configService",[Sg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev))||Cg),Lg,Rg,wg,kv,Bg,Ng,Fg,Gg=(Lg=Object(da.injectable)(),Rg=Object(da.inject)(Ae.IDENTIFIER.MaterialComponentManager),Lg(wg=(kv=(Fg=Ng=function(){function l(){Qa()(this,l),this.config=void 0,Di()(this,"material",Bg,this),this.entity=void 0,this.component=void 0}return qa()(l,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t,e){this.entity=t,this.component=this.material.create(t),this.component.entity=t,this.component.type=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),l}(),Ng.BASIC="basic",Fg),Bg=wi()(kv.prototype,"material",[Rg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kv))||wg),Ug,Wg,zg,kg,Vg,Xg,Hg,bh,Yg,Kg,Zg,$g,rv,Qg,Mc=(Ug=Object(da.injectable)(),Wg=Object(da.inject)(Ae.IDENTIFIER.MeshComponentManager),zg=Object(da.inject)(Ae.IDENTIFIER.CullableComponentManager),kg=Object(da.inject)(Ae.IDENTIFIER.TransformComponentManager),Vg=Object(da.inject)(Ae.IDENTIFIER.Systems),Xg=Object(da.named)(Ae.IDENTIFIER.SceneGraphSystem),Ug(Hg=(bh=(Qg=rv=function(){function l(){Qa()(this,l),this.attributes={},this.config=void 0,Di()(this,"mesh",Yg,this),Di()(this,"cullable",Kg,this),Di()(this,"transform",Zg,this),Di()(this,"sceneGraphSystem",$g,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return qa()(l,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var e=this;Object.keys(t).forEach(function(r){t[r]!==void 0&&t[r]!==e.attributes[r]&&(e.onAttributeChanged({name:r,data:t[r]}),e.attributes[r]=t[r])})}},{key:"setVisible",value:function(t){var e=this;return this.meshComponent.visible=t,this.meshComponent.children.forEach(function(r){var o=e.mesh.getComponentByEntity(r);o&&(o.visible=t)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,r=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),r)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),l}(),rv.POINT="point",rv.LINE="line",rv.GRID="grid",Qg),Yg=wi()(bh.prototype,"mesh",[Wg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kg=wi()(bh.prototype,"cullable",[zg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zg=wi()(bh.prototype,"transform",[kg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$g=wi()(bh.prototype,"sceneGraphSystem",[Vg,Xg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bh))||Hg),i0=a("T0ZP"),o0=a.n(i0),s0=function(){function l(n,t){Qa()(this,l),this.attribute=void 0,this.buffer=void 0;var e=t.buffer,r=t.offset,o=t.stride,u=t.normalized,d=t.size,y=t.divisor;this.buffer=e,this.attribute={buffer:e.get(),offset:r||0,stride:o||0,normalized:u||!1,divisor:y||0},d&&(this.attribute.size=d)}return qa()(l,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),l}(),Nu,hd,Fu,_s,dd,Sc,vd,nv,Ql,Cf,Zo,Jl,_l,av,l0=(Nu={},Bt()(Nu,Ae.gl.POINTS,"points"),Bt()(Nu,Ae.gl.LINES,"lines"),Bt()(Nu,Ae.gl.LINE_LOOP,"line loop"),Bt()(Nu,Ae.gl.LINE_STRIP,"line strip"),Bt()(Nu,Ae.gl.TRIANGLES,"triangles"),Bt()(Nu,Ae.gl.TRIANGLE_FAN,"triangle fan"),Bt()(Nu,Ae.gl.TRIANGLE_STRIP,"triangle strip"),Nu),Jg=(hd={},Bt()(hd,Ae.gl.STATIC_DRAW,"static"),Bt()(hd,Ae.gl.DYNAMIC_DRAW,"dynamic"),Bt()(hd,Ae.gl.STREAM_DRAW,"stream"),hd),Vv=(Fu={},Bt()(Fu,Ae.gl.BYTE,"int8"),Bt()(Fu,Ae.gl.UNSIGNED_INT,"int16"),Bt()(Fu,Ae.gl.INT,"int32"),Bt()(Fu,Ae.gl.UNSIGNED_BYTE,"uint8"),Bt()(Fu,Ae.gl.UNSIGNED_SHORT,"uint16"),Bt()(Fu,Ae.gl.UNSIGNED_INT,"uint32"),Bt()(Fu,Ae.gl.FLOAT,"float"),Fu),u0=(_s={},Bt()(_s,Ae.gl.ALPHA,"alpha"),Bt()(_s,Ae.gl.LUMINANCE,"luminance"),Bt()(_s,Ae.gl.LUMINANCE_ALPHA,"luminance alpha"),Bt()(_s,Ae.gl.RGB,"rgb"),Bt()(_s,Ae.gl.RGBA,"rgba"),Bt()(_s,Ae.gl.RGBA4,"rgba4"),Bt()(_s,Ae.gl.RGB5_A1,"rgb5 a1"),Bt()(_s,Ae.gl.RGB565,"rgb565"),Bt()(_s,Ae.gl.DEPTH_COMPONENT,"depth"),Bt()(_s,Ae.gl.DEPTH_STENCIL,"depth stencil"),_s),c0=(dd={},Bt()(dd,Ae.gl.DONT_CARE,"dont care"),Bt()(dd,Ae.gl.NICEST,"nice"),Bt()(dd,Ae.gl.FASTEST,"fast"),dd),_g=(Sc={},Bt()(Sc,Ae.gl.NEAREST,"nearest"),Bt()(Sc,Ae.gl.LINEAR,"linear"),Bt()(Sc,Ae.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),Bt()(Sc,Ae.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Bt()(Sc,Ae.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Bt()(Sc,Ae.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Sc),qg=(vd={},Bt()(vd,Ae.gl.REPEAT,"repeat"),Bt()(vd,Ae.gl.CLAMP_TO_EDGE,"clamp"),Bt()(vd,Ae.gl.MIRRORED_REPEAT,"mirror"),vd),f0=(nv={},Bt()(nv,Ae.gl.NONE,"none"),Bt()(nv,Ae.gl.BROWSER_DEFAULT_WEBGL,"browser"),nv),h0=(Ql={},Bt()(Ql,Ae.gl.NEVER,"never"),Bt()(Ql,Ae.gl.ALWAYS,"always"),Bt()(Ql,Ae.gl.LESS,"less"),Bt()(Ql,Ae.gl.LEQUAL,"lequal"),Bt()(Ql,Ae.gl.GREATER,"greater"),Bt()(Ql,Ae.gl.GEQUAL,"gequal"),Bt()(Ql,Ae.gl.EQUAL,"equal"),Bt()(Ql,Ae.gl.NOTEQUAL,"notequal"),Ql),tp=(Cf={},Bt()(Cf,Ae.gl.FUNC_ADD,"add"),Bt()(Cf,Ae.gl.MIN_EXT,"min"),Bt()(Cf,Ae.gl.MAX_EXT,"max"),Bt()(Cf,Ae.gl.FUNC_SUBTRACT,"subtract"),Bt()(Cf,Ae.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Cf),iv=(Zo={},Bt()(Zo,Ae.gl.ZERO,"zero"),Bt()(Zo,Ae.gl.ONE,"one"),Bt()(Zo,Ae.gl.SRC_COLOR,"src color"),Bt()(Zo,Ae.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),Bt()(Zo,Ae.gl.SRC_ALPHA,"src alpha"),Bt()(Zo,Ae.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Bt()(Zo,Ae.gl.DST_COLOR,"dst color"),Bt()(Zo,Ae.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),Bt()(Zo,Ae.gl.DST_ALPHA,"dst alpha"),Bt()(Zo,Ae.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Bt()(Zo,Ae.gl.CONSTANT_COLOR,"constant color"),Bt()(Zo,Ae.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Bt()(Zo,Ae.gl.CONSTANT_ALPHA,"constant alpha"),Bt()(Zo,Ae.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Bt()(Zo,Ae.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),Zo),d0=(Jl={},Bt()(Jl,Ae.gl.NEVER,"never"),Bt()(Jl,Ae.gl.ALWAYS,"always"),Bt()(Jl,Ae.gl.LESS,"less"),Bt()(Jl,Ae.gl.LEQUAL,"lequal"),Bt()(Jl,Ae.gl.GREATER,"greater"),Bt()(Jl,Ae.gl.GEQUAL,"gequal"),Bt()(Jl,Ae.gl.EQUAL,"equal"),Bt()(Jl,Ae.gl.NOTEQUAL,"notequal"),Jl),Oh=(_l={},Bt()(_l,Ae.gl.ZERO,"zero"),Bt()(_l,Ae.gl.KEEP,"keep"),Bt()(_l,Ae.gl.REPLACE,"replace"),Bt()(_l,Ae.gl.INVERT,"invert"),Bt()(_l,Ae.gl.INCR,"increment"),Bt()(_l,Ae.gl.DECR,"decrement"),Bt()(_l,Ae.gl.INCR_WRAP,"increment wrap"),Bt()(_l,Ae.gl.DECR_WRAP,"decrement wrap"),_l),v0=(av={},Bt()(av,Ae.gl.FRONT,"front"),Bt()(av,Ae.gl.BACK,"back"),av),g0=function(){function l(n,t){Qa()(this,l),this.buffer=void 0;var e=t.data,r=t.usage,o=t.type;this.buffer=n.buffer({data:e,usage:Jg[r||Ae.gl.STATIC_DRAW],type:Vv[o||Ae.gl.UNSIGNED_BYTE]})}return qa()(l,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.buffer.subdata(e,r)}}]),l}(),p0=a("e4At"),vo=a.n(p0),y0=9007199254740991,m0="[object Arguments]",b0="[object Array]",O0="[object Boolean]",x0="[object Date]",E0="[object Error]",M0="[object Function]",S0="[object Map]",C0="[object Number]",T0="[object Object]",A0="[object RegExp]",I0="[object Set]",P0="[object String]",D0="[object WeakMap]",j0="[object ArrayBuffer]",L0="[object DataView]",R0="[object Float32Array]",w0="[object Float64Array]",B0="[object Int8Array]",N0="[object Int16Array]",F0="[object Int32Array]",G0="[object Uint8Array]",U0="[object Uint8ClampedArray]",W0="[object Uint16Array]",z0="[object Uint32Array]",Ji={};Ji[R0]=Ji[w0]=Ji[B0]=Ji[N0]=Ji[F0]=Ji[G0]=Ji[U0]=Ji[W0]=Ji[z0]=!0,Ji[m0]=Ji[b0]=Ji[j0]=Ji[O0]=Ji[L0]=Ji[x0]=Ji[E0]=Ji[M0]=Ji[S0]=Ji[C0]=Ji[T0]=Ji[A0]=Ji[I0]=Ji[P0]=Ji[D0]=!1;function OM(l){return function(n){return l(n)}}var k0=Object.prototype,V0=k0.toString;function X0(l){return Y0(l)&&H0(l.length)&&!!Ji[V0.call(l)]}function H0(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=y0}function Y0(l){return!!l&&tr()(l)==="object"}var Xv=X0;function ep(l,n){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(l);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,e)}return t}function rp(l){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ep(Object(t),!0).forEach(function(e){Bt()(l,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):ep(Object(t)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(t,e))})}return l}var K0=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,np=0,ov=!1,Z0=function(){function l(n,t){var e=this;Qa()(this,l),this.reGl=n,this.context=t,this.entity=Object(Ae.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var r={};this.context.uniforms.forEach(function(P){var F=P.name,k=P.type,rt=P.data,ut=P.isReferer,pt=P.storageClass;if(pt===Ae.STORAGE_CLASS.StorageBuffer){if(ut)e.textureCache[F]={data:void 0},r["".concat(F,"Size")]=function(){return rt.compiledBundle.context.output.textureSize};else{e.textureCache[F]=e.calcDataTexture(F,k,rt);var Et=e.textureCache[F],Lt=Et.textureWidth,Gt=Et.isOutput;r["".concat(F,"Size")]=[Lt,Lt],Gt&&(e.outputTextureName=F,e.context.needPingpong&&(e.outputTextureName="".concat(F,"Output"),e.textureCache[e.outputTextureName]=e.calcDataTexture(F,k,rt)))}r[F]=function(){return ov&&console.log("[".concat(e.entity,"]: ").concat(F," ").concat(e.textureCache[F].id)),e.textureCache[F].texture}}else if(pt===Ae.STORAGE_CLASS.Uniform){if(rt&&(Array.isArray(rt)||Xv(rt))&&rt.length>16)throw new Error("invalid data type ".concat(k));r[F]=function(){return P.data}}});var o=this.getOuputDataTexture(),u=o.textureWidth,d=o.texelCount;r.u_OutputTextureSize=[u,u],r.u_OutputTexelCount=d,this.context.output.textureSize=[u,u];var y={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:r,vert:K0,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(y)}return qa()(l,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),ov&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var n=ht()(oa.a.mark(function e(){var r=this,o,u,d,y,P,F,k,rt;return oa.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){o=r.reGl.read()}),!o){pt.next=6;break}if(u=this.getOuputDataTexture(),d=u.originalDataLength,y=u.elementsPerTexel,P=u.typedArrayConstructor,F=P===void 0?Float32Array:P,k=[],y!==4)for(rt=0;rt<o.length;rt+=4)y===1?k.push(o[rt]):y===2?k.push(o[rt],o[rt+1]):k.push(o[rt],o[rt+1],o[rt+2]);else k=o;return pt.abrupt("return",new F(k.slice(0,d)));case 6:return pt.abrupt("return",new Float32Array);case 7:case"end":return pt.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"confirmInput",value:function(t,e){var r;this.entity===t.entity?(this.dynamicPingpong=!0,r=this):r=t,this.textureCache[e].id=r.getOuputDataTexture().id,this.textureCache[e].texture=r.getOuputDataTexture().texture,ov&&console.log("[".concat(this.entity,"]: confirm input ").concat(e," from model ").concat(r.entity,", ").concat(r.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.context.uniforms.find(function(P){var F=P.name;return F===t});if(o){var u=this.calcDataTexture(t,o.type,e),d=u.texture,y=u.data;this.textureCache[t].data=y,this.textureCache[t].texture=d}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e,ov&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,r=t.textureWidth;return rp(rp({},t),{},{id:np++,texture:this.reGl.texture({width:r,height:r,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,r){var o=1;e===Ae.AST_TOKEN_TYPES.Vector4FloatArray&&(o=4);for(var u=[],d=0;d<r.length;d+=o)o===1?u.push(r[d],0,0,0):o===2?u.push(r[d],r[d+1],0,0):o===3?u.push(r[d],r[d+1],r[d+2],0):o===4&&u.push(r[d],r[d+1],r[d+2],r[d+3]);var y=r.length,P=Math.ceil(y/o),F=Math.ceil(Math.sqrt(P)),k=F*F;P<k&&u.push.apply(u,vo()(new Array((k-P)*4).fill(0)));var rt=this.reGl.texture({width:F,height:F,data:u,type:"float"});return{id:np++,data:u,originalDataLength:y,typedArrayConstructor:Xv(r)?r.constructor:void 0,textureWidth:F,texture:rt,texelCount:P,elementsPerTexel:o,isOutput:t===this.context.output.name}}}]),l}(),$0=function(){function l(n,t){Qa()(this,l),this.elements=void 0;var e=t.data,r=t.usage,o=t.type,u=t.count;this.elements=n.elements({data:e,usage:Jg[r||Ae.gl.STATIC_DRAW],type:Vv[o||Ae.gl.UNSIGNED_BYTE],count:u})}return qa()(l,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),l}(),Q0=function(){function l(n,t){Qa()(this,l),this.framebuffer=void 0;var e=t.width,r=t.height,o=t.color,u=t.colors,d=t.depth,y=t.stencil,P={width:e,height:r};Array.isArray(u)&&(P.colors=u.map(function(F){return F.get()})),o&&typeof o!="boolean"&&(P.color=o.get()),this.framebuffer=n.framebuffer(P)}return qa()(l,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.framebuffer.resize(e,r)}}]),l}();function J0(l){var n=tr()(l);return l!=null&&(n==="object"||n==="function")}function gd(l){var n={};return Object.keys(l).forEach(function(t){Hv(t,l[t],n,"")}),n}function Hv(l,n,t,e){if(n===null||typeof n=="number"||typeof n=="boolean"||Array.isArray(n)&&typeof n[0]=="number"||Xv(n)||n===""||n.resize!==void 0){t["".concat(e&&e+".").concat(l)]=n;return}J0(n)&&Object.keys(n).forEach(function(r){Hv(r,n[r],t,"".concat(e&&e+".").concat(l))}),Array.isArray(n)&&n.forEach(function(r,o){Object.keys(r).forEach(function(u){Hv(u,r[u],t,"".concat(e&&e+".").concat(l,"[").concat(o,"]"))})})}function ap(l,n){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(l);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,e)}return t}function xh(l){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ap(Object(t),!0).forEach(function(e){Bt()(l,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):ap(Object(t)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(t,e))})}return l}var _0=function(){function l(n,t){Qa()(this,l),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=n;var e=t.vs,r=t.fs,o=t.defines,u=t.attributes,d=t.uniforms,y=t.primitive,P=t.count,F=t.elements,k=t.depth,rt=t.blend,ut=t.stencil,pt=t.cull,Et=t.instances,Lt=t.scissor,Gt=t.viewport,Rt={};d&&(this.uniforms=gd(d),Object.keys(d).forEach(function(ie){Rt[ie]=n.prop(ie)}));var Xt={};Object.keys(u).forEach(function(ie){Xt[ie]=u[ie].get()});var Zt=o&&this.generateDefines(o)||"",_t={attributes:Xt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(Zt,`
`).concat(r),uniforms:Rt,vert:`
`.concat(Zt,`
`).concat(e),primitive:l0[y===void 0?Ae.gl.TRIANGLES:y]};Et&&(_t.instances=Et),P&&(_t.count=P),F&&(_t.elements=F.get()),Lt&&(_t.scissor=Lt),Gt&&(_t.viewport=Gt),this.initDepthDrawParams({depth:k},_t),this.initBlendDrawParams({blend:rt},_t),this.initStencilDrawParams({stencil:ut},_t),this.initCullDrawParams({cull:pt},_t),this.drawCommand=n(_t)}return qa()(l,[{key:"addUniforms",value:function(t){this.uniforms=xh(xh({},this.uniforms),gd(t))}},{key:"draw",value:function(t){var e=xh(xh({},this.uniforms),gd(t.uniforms||{})),r={};Object.keys(e).forEach(function(o){var u=tr()(e[o]);u==="boolean"||u==="number"||Array.isArray(e[o])||e[o].BYTES_PER_ELEMENT?r[o]=e[o]:u==="string"||(r[o]=e[o].get())}),this.drawCommand(r)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var r=t.depth;r&&(e.depth={enable:r.enable===void 0?!0:!!r.enable,mask:r.mask===void 0?!0:!!r.mask,func:h0[r.func||Ae.gl.LESS],range:r.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var r=t.blend;if(r){var o=r.enable,u=r.func,d=r.equation,y=r.color,P=y===void 0?[0,0,0,0]:y;e.blend={enable:!!o,func:{srcRGB:iv[u&&u.srcRGB||Ae.gl.SRC_ALPHA],srcAlpha:iv[u&&u.srcAlpha||Ae.gl.SRC_ALPHA],dstRGB:iv[u&&u.dstRGB||Ae.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:iv[u&&u.dstAlpha||Ae.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:tp[d&&d.rgb||Ae.gl.FUNC_ADD],alpha:tp[d&&d.alpha||Ae.gl.FUNC_ADD]},color:P}}}},{key:"initStencilDrawParams",value:function(t,e){var r=t.stencil;if(r){var o=r.enable,u=r.mask,d=u===void 0?-1:u,y=r.func,P=y===void 0?{cmp:Ae.gl.ALWAYS,ref:0,mask:-1}:y,F=r.opFront,k=F===void 0?{fail:Ae.gl.KEEP,zfail:Ae.gl.KEEP,zpass:Ae.gl.KEEP}:F,rt=r.opBack,ut=rt===void 0?{fail:Ae.gl.KEEP,zfail:Ae.gl.KEEP,zpass:Ae.gl.KEEP}:rt;e.stencil={enable:!!o,mask:d,func:xh(xh({},P),{},{cmp:d0[P.cmp]}),opFront:{fail:Oh[k.fail],zfail:Oh[k.zfail],zpass:Oh[k.zpass]},opBack:{fail:Oh[ut.fail],zfail:Oh[ut.zfail],zpass:Oh[ut.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var r=t.cull;if(r){var o=r.enable,u=r.face,d=u===void 0?Ae.gl.BACK:u;e.cull={enable:!!o,face:v0[d]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(e){return"#define ".concat(e," ").concat(Number(t[e]))}).join(`
`)}}]),l}(),q0=function(){function l(n,t){Qa()(this,l),this.texture=void 0,this.width=void 0,this.height=void 0;var e=t.data,r=t.type,o=r===void 0?Ae.gl.UNSIGNED_BYTE:r,u=t.width,d=t.height,y=t.flipY,P=y===void 0?!1:y,F=t.format,k=F===void 0?Ae.gl.RGBA:F,rt=t.mipmap,ut=rt===void 0?!1:rt,pt=t.wrapS,Et=pt===void 0?Ae.gl.CLAMP_TO_EDGE:pt,Lt=t.wrapT,Gt=Lt===void 0?Ae.gl.CLAMP_TO_EDGE:Lt,Rt=t.aniso,Xt=Rt===void 0?0:Rt,Zt=t.alignment,_t=Zt===void 0?1:Zt,ie=t.premultiplyAlpha,ce=ie===void 0?!1:ie,be=t.mag,Pe=be===void 0?Ae.gl.NEAREST:be,Se=t.min,Ue=Se===void 0?Ae.gl.NEAREST:Se,Ye=t.colorSpace,Ur=Ye===void 0?Ae.gl.BROWSER_DEFAULT_WEBGL:Ye;this.width=u,this.height=d;var Wr={width:u,height:d,type:Vv[o],format:u0[k],wrapS:qg[Et],wrapT:qg[Gt],mag:_g[Pe],min:_g[Ue],alignment:_t,flipY:P,colorSpace:f0[Ur],premultiplyAlpha:ce,aniso:Xt};e&&(Wr.data=e),typeof ut=="number"?Wr.mipmap=c0[ut]:typeof ut=="boolean"&&(Wr.mipmap=ut),this.texture=n.texture(Wr)}return qa()(l,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.texture.resize(e,r),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture.destroy()}}]),l}(),ip,op,sp,tb=(ip=Object(da.injectable)(),ip(op=(sp=function(){function l(){var n=this;Qa()(this,l),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=ht()(oa.a.mark(function e(r){return oa.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!r.uniforms){u.next=3;break}return u.next=3,Promise.all(Object.keys(r.uniforms).map(function(){var d=ht()(oa.a.mark(function y(P){var F;return oa.a.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(!(r.uniforms[P]&&r.uniforms[P].load!==void 0)){rt.next=5;break}return rt.next=3,r.uniforms[P].load();case 3:F=rt.sent,r.uniforms[P]=F;case 5:case"end":return rt.stop()}},y)}));return function(y){return d.apply(this,arguments)}}()));case 3:return u.abrupt("return",new _0(n.gl,r));case 4:case"end":return u.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new s0(n.gl,t)},this.createBuffer=function(t){return new g0(n.gl,t)},this.createElements=function(t){return new $0(n.gl,t)},this.createTexture2D=function(t){return new q0(n.gl,t)},this.createFramebuffer=function(t){return new Q0(n.gl,t)},this.useFramebuffer=function(t,e){n.gl({framebuffer:t?t.get():null})(e)},this.createComputeModel=function(){var t=ht()(oa.a.mark(function e(r){return oa.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Z0(n.gl,r));case 1:case"end":return u.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var e=t.color,r=t.depth,o=t.stencil,u=t.framebuffer,d=u===void 0?null:u,y={color:e,depth:r,stencil:o};y.framebuffer=d===null?d:d.get(),n.gl.clear(y)},this.setScissor=function(t){n.gl&&n.gl._gl&&(t.enable&&t.box?(n.gl._gl.enable(Ae.gl.SCISSOR_TEST),n.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):n.gl._gl.disable(Ae.gl.SCISSOR_TEST),n.gl._refresh())},this.viewport=function(t){var e=t.x,r=t.y,o=t.width,u=t.height;n.gl&&n.gl._gl&&(n.gl._gl.viewport(e,r,o,u),n.gl._refresh())},this.readPixels=function(t){var e=t.framebuffer,r=t.x,o=t.y,u=t.width,d=t.height,y={x:r,y:o,width:u,height:d};return e&&(y.framebuffer=e.get()),n.gl.read(y)},this.getCanvas=function(){return n.$canvas},this.getGLContext=function(){return n.gl._gl},this.destroy=function(){n.gl&&(n.gl.destroy(),n.inited=!1)}}return qa()(l,[{key:"init",value:function(){var n=ht()(oa.a.mark(function e(r){return oa.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.inited){u.next=2;break}return u.abrupt("return");case 2:return this.$canvas=r.canvas,u.next=5,new Promise(function(d,y){o0()({canvas:r.canvas,attributes:{alpha:!0,antialias:r.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(F,k){(F||!k)&&y(F),d(k)}})});case 5:this.gl=u.sent,this.inited=!0;case 7:case"end":return u.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),l}(),sp))||op);function eb(){return typeof window!="undefined"}function rb(l,n,t,e){if(!!eb()){var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",l),e&&(o.id=e),o.onload=function(){n&&n()},o.onerror=function(u){t&&t("Unable to load script '".concat(l,"'"),u)},r.appendChild(o)}}function nb(l,n){return new Promise(function(t,e){rb(l,function(){t()},function(r,o){e(o)})})}var sv,ab=function(){return Yv.apply(this,arguments)};function Yv(){return Yv=ht()(oa.a.mark(function l(){return oa.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!sv){t.next=2;break}return t.abrupt("return",sv);case 2:return t.next=4,nb("https://preview.babylonjs.com/glslang/glslang.js");case 4:return sv=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",sv);case 6:case"end":return t.stop()}},l)})),Yv.apply(this,arguments)}var ib=function(){function l(n,t){Qa()(this,l),this.engine=n,this.options=t,this.attribute=void 0,this.buffer=void 0;var e=t,r=e.buffer,o=e.offset,u=e.stride,d=e.normalized,y=e.size,P=e.divisor,F=e.arrayStride,k=e.attributes,rt=e.stepMode;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:u||0,normalized:d||!1,divisor:P||0,arrayStride:F||0,attributes:k,stepMode:rt||"vertex"},y&&(this.attribute.size=y)}return qa()(l,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),l}(),Eh=function(){function l(n,t){Qa()(this,l),this.engine=n,this.options=t,this.buffer=void 0;var e=t,r=e.data,o=e.usage,u=e.type;this.buffer=this.createBuffer(r instanceof Array?new Float32Array(r):r,o||Ht.BufferUsage.Vertex|Ht.BufferUsage.CopyDst)}return qa()(l,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.setSubData(this.buffer,r,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var r=t.byteLength%4,o={size:t.byteLength+r,usage:e},u=this.engine.device.createBuffer(o);return this.setSubData(u,0,t),u}},{key:"setSubData",value:function(t,e,r){var o=Ae.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;o.writeBuffer(t,e,r)}}]),l}();function ob(l){return typeof l=="number"}var sb=function(){function l(n,t){Qa()(this,l),this.engine=n,this.context=t,this.entity=Object(Ae.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return qa()(l,[{key:"init",value:function(){var n=ht()(oa.a.mark(function e(){var r=this,o,u,d,y,P,F,k;return oa.a.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:return ut.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:o=ut.sent,u=o.computeStage,d=this.context.uniforms.filter(function(pt){return pt.storageClass===Ae.STORAGE_CLASS.StorageBuffer}),y=this.context.uniforms.filter(function(pt){return pt.storageClass===Ae.STORAGE_CLASS.Uniform}),P=y.length?1:0,this.bindGroupEntries=[],P&&(F=0,k=[],y.forEach(function(pt){if(ob(pt.data))r.uniformGPUBufferLayout.push({name:pt.name,offset:F}),F+=4,k.push(pt.data);else{var Et,Lt=((Et=pt.data)===null||Et===void 0?void 0:Et.length)||1;Lt===3&&(Lt=4,pt.data.push(0));var Gt=F/4%4;if(Gt>0){var Rt=4-Gt;if(Lt>1&&Lt<=Rt)Lt===2&&(Rt===3&&(F+=4,k.push(0)),k.push.apply(k,vo()(pt.data)),r.uniformGPUBufferLayout.push({name:pt.name,offset:F}));else{for(var Xt=0;Xt<Rt;Xt++)F+=4,k.push(0);k.push.apply(k,vo()(pt.data)),r.uniformGPUBufferLayout.push({name:pt.name,offset:F})}}F+=4*Lt}}),this.uniformBuffer=new Eh(this.engine,{data:k instanceof Array?new Float32Array(k):k,usage:Ht.BufferUsage.Uniform|Ht.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),d.forEach(function(pt){if(pt.data!==null&&(pt.type===Ae.AST_TOKEN_TYPES.Vector4FloatArray||pt.type===Ae.AST_TOKEN_TYPES.FloatArray)){var Et;pt.name===r.context.output.name?(Et=new Eh(r.engine,{data:isFinite(Number(pt.data))?[pt.data]:pt.data,usage:Ht.BufferUsage.Storage|Ht.BufferUsage.CopyDst|Ht.BufferUsage.CopySrc}),r.outputBuffer=Et,r.context.output={name:pt.name,length:isFinite(Number(pt.data))?1:pt.data.length,typedArrayConstructor:Float32Array,gpuBuffer:Et.get()}):pt.isReferer?pt.data.model&&pt.data.model.outputBuffer&&(Et=pt.data.model.outputBuffer):Et=new Eh(r.engine,{data:isFinite(Number(pt.data))?[pt.data]:pt.data,usage:Ht.BufferUsage.Storage|Ht.BufferUsage.CopyDst|Ht.BufferUsage.CopySrc}),r.vertexBuffers[pt.name]=Et,r.bindGroupEntries.push({binding:P,resource:{name:pt.name,refer:Et?void 0:pt.data,buffer:Et?Et.get():void 0}}),P++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:u}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return ut.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(e){return t.vertexBuffers[e].destroy()})}},{key:"readData",value:function(){var n=ht()(oa.a.mark(function e(){var r,o,u,d,y,P,F,k,rt,ut;return oa.a.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(r=this.context.output,!r){Et.next=16;break}if(o=r.length,u=r.typedArrayConstructor,d=r.gpuBuffer,!d){Et.next=16;break}return y=o*u.BYTES_PER_ELEMENT,P=this.engine.device.createBuffer({size:y,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),F=this.engine.device.createCommandEncoder(),F.copyBufferToBuffer(d,0,P,0,y),k=Ae.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue,k.submit([F.finish()]),Et.next=12,P.mapAsync(Ht.MapMode.Read);case 12:return rt=P.getMappedRange(),ut=new u(rt.slice(0)),P.unmap(),Et.abrupt("return",ut);case 16:return Et.abrupt("return",new Float32Array);case 17:case"end":return Et.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"run",value:function(){if(this.engine.currentComputePass){var t;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,vo()(this.context.dispatch))}}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.vertexBuffers[t];o&&o.subData({data:e,offset:r})}},{key:"updateUniform",value:function(t,e){var r=this.uniformGPUBufferLayout.find(function(o){return o.name===t});r&&this.uniformBuffer.subData({data:Number.isFinite(e)?new Float32Array([e]):new Float32Array(e),offset:r.offset})}},{key:"confirmInput",value:function(t,e){var r=this.vertexBuffers[e],o=t.outputBuffer;if(r&&o&&r!==o){var u=this.engine.device.createCommandEncoder(),d=t.context.output,y=d.length,P=d.typedArrayConstructor,F=y*P.BYTES_PER_ELEMENT;u.copyBufferToBuffer(o.get(),0,r.get(),0,F);var k=Ae.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;k.submit([u.finish()])}}},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:function(){var n=ht()(oa.a.mark(function e(r){var o,u;return oa.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(o=r,u=`#version 450
`,this.engine.options.useWGSL){y.next=6;break}return y.next=5,this.compileShaderToSpirV(r,"compute",u);case 5:o=y.sent;case 6:return y.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:o,isWHLSL:Ae.isSafari}),entryPoint:"main"}});case 7:case"end":return y.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()}]),l}(),lb=function(){function l(n,t){Qa()(this,l),this.engine=n,this.options=t,this.indexCount=void 0,this.buffer=void 0;var e=t,r=e.data,o=e.usage,u=e.type,d=e.count;this.indexCount=d||0,this.buffer=new Eh(n,{data:r instanceof Array?new Uint16Array(r):r,usage:Ht.BufferUsage.Index|Ht.BufferUsage.CopyDst})}return qa()(l,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),l}(),ub=function(){function l(n,t){Qa()(this,l),this.engine=n,this.options=t,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var e=t,r=e.width,o=e.height,u=e.color,d=e.colors,y=e.depth,P=e.stencil;u&&(this.colorTexture=u),y&&(this.depthTexture=y)}return qa()(l,[{key:"get",value:function(){var t,e;return{color:(t=this.colorTexture)===null||t===void 0?void 0:t.get(),depth:(e=this.depthTexture)===null||e===void 0?void 0:e.get()}}},{key:"destroy",value:function(){var t,e;(t=this.colorTexture)===null||t===void 0||t.destroy(),(e=this.depthTexture)===null||e===void 0||e.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;if(e!==this.width||r!==this.height){var o,u;(o=this.colorTexture)===null||o===void 0||o.resize({width:e,height:r}),(u=this.depthTexture)===null||u===void 0||u.resize({width:e,height:r})}this.width=e,this.height=r}}]),l}(),Gu,ql,Tf,gs,Mh,lv,pd,cb=(Gu={},Bt()(Gu,Ae.gl.POINTS,Ht.PrimitiveTopology.PointList),Bt()(Gu,Ae.gl.LINES,Ht.PrimitiveTopology.LineList),Bt()(Gu,Ae.gl.LINE_LOOP,Ht.PrimitiveTopology.LineList),Bt()(Gu,Ae.gl.LINE_STRIP,Ht.PrimitiveTopology.LineStrip),Bt()(Gu,Ae.gl.TRIANGLES,Ht.PrimitiveTopology.TriangleList),Bt()(Gu,Ae.gl.TRIANGLE_FAN,Ht.PrimitiveTopology.TriangleList),Bt()(Gu,Ae.gl.TRIANGLE_STRIP,Ht.PrimitiveTopology.TriangleStrip),Gu),fb=(ql={},Bt()(ql,Ae.gl.NEVER,Ht.CompareFunction.Never),Bt()(ql,Ae.gl.ALWAYS,Ht.CompareFunction.Always),Bt()(ql,Ae.gl.LESS,Ht.CompareFunction.Less),Bt()(ql,Ae.gl.LEQUAL,Ht.CompareFunction.LessEqual),Bt()(ql,Ae.gl.GREATER,Ht.CompareFunction.Greater),Bt()(ql,Ae.gl.GEQUAL,Ht.CompareFunction.GreaterEqual),Bt()(ql,Ae.gl.EQUAL,Ht.CompareFunction.Equal),Bt()(ql,Ae.gl.NOTEQUAL,Ht.CompareFunction.NotEqual),ql),lp=(Tf={},Bt()(Tf,Ae.gl.FUNC_ADD,Ht.BlendOperation.Add),Bt()(Tf,Ae.gl.MIN_EXT,Ht.BlendOperation.Min),Bt()(Tf,Ae.gl.MAX_EXT,Ht.BlendOperation.Max),Bt()(Tf,Ae.gl.FUNC_SUBTRACT,Ht.BlendOperation.Subtract),Bt()(Tf,Ae.gl.FUNC_REVERSE_SUBTRACT,Ht.BlendOperation.ReverseSubtract),Tf),uv=(gs={},Bt()(gs,Ae.gl.ZERO,Ht.BlendFactor.Zero),Bt()(gs,Ae.gl.ONE,Ht.BlendFactor.One),Bt()(gs,Ae.gl.SRC_COLOR,Ht.BlendFactor.SrcColor),Bt()(gs,Ae.gl.ONE_MINUS_SRC_COLOR,Ht.BlendFactor.OneMinusSrcColor),Bt()(gs,Ae.gl.SRC_ALPHA,Ht.BlendFactor.SrcAlpha),Bt()(gs,Ae.gl.ONE_MINUS_SRC_ALPHA,Ht.BlendFactor.OneMinusSrcAlpha),Bt()(gs,Ae.gl.DST_COLOR,Ht.BlendFactor.DstColor),Bt()(gs,Ae.gl.ONE_MINUS_DST_COLOR,Ht.BlendFactor.OneMinusDstColor),Bt()(gs,Ae.gl.DST_ALPHA,Ht.BlendFactor.DstAlpha),Bt()(gs,Ae.gl.ONE_MINUS_DST_ALPHA,Ht.BlendFactor.OneMinusDstAlpha),Bt()(gs,Ae.gl.CONSTANT_COLOR,Ht.BlendFactor.BlendColor),Bt()(gs,Ae.gl.ONE_MINUS_CONSTANT_COLOR,Ht.BlendFactor.OneMinusBlendColor),Bt()(gs,Ae.gl.SRC_ALPHA_SATURATE,Ht.BlendFactor.SrcAlphaSaturated),gs),hb=(Mh={},Bt()(Mh,Ae.gl.ALPHA,"r8unorm"),Bt()(Mh,Ae.gl.RGBA,"rgba8unorm"),Bt()(Mh,Ae.gl.DEPTH_COMPONENT,"depth32float"),Bt()(Mh,Ae.gl.DEPTH_STENCIL,"depth24plus-stencil8"),Mh),up=(lv={},Bt()(lv,Ae.gl.NEAREST,"nearest"),Bt()(lv,Ae.gl.LINEAR,"linear"),lv),Kv=(pd={},Bt()(pd,Ae.gl.REPEAT,"repeat"),Bt()(pd,Ae.gl.CLAMP_TO_EDGE,"clamp-to-edge"),Bt()(pd,Ae.gl.MIRRORED_REPEAT,"mirror-repeat"),pd);function db(l){var n=l.cull;if(!n||!n.enable)return Ht.CullMode.None;if(n.face)return n.face===Ae.gl.FRONT?Ht.CullMode.Front:Ht.CullMode.Back}function vb(l){var n=l.depth,t=l.stencil,e={compare:Ht.CompareFunction.Always,depthFailOp:Ht.StencilOperation.Keep,failOp:Ht.StencilOperation.Keep,passOp:Ht.StencilOperation.Keep};return{depthWriteEnabled:n&&n.enable,depthCompare:fb[(n==null?void 0:n.func)||Ae.gl.ALWAYS],format:Ht.TextureFormat.Depth24PlusStencil8,stencilFront:e,stencilBack:e,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function gb(l,n){var t=l.blend;return[{format:n,alphaBlend:{srcFactor:uv[t&&t.func&&t.func.srcAlpha||Ae.gl.ONE],dstFactor:uv[t&&t.func&&t.func.dstAlpha||Ae.gl.ZERO],operation:lp[t&&t.equation&&t.equation.alpha||Ae.gl.FUNC_ADD]},colorBlend:{srcFactor:uv[t&&t.func&&t.func.srcRGB||Ae.gl.ONE],dstFactor:uv[t&&t.func&&t.func.dstRGB||Ae.gl.ZERO],operation:lp[t&&t.equation&&t.equation.rgb||Ae.gl.FUNC_ADD]},writeMask:Ht.ColorWrite.All}]}function cp(l,n){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(l);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,e)}return t}function Sh(l){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?cp(Object(t),!0).forEach(function(e){Bt()(l,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):cp(Object(t)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(t,e))})}return l}function pb(l){for(var n=0,t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];for(var o=0,u=e;o<u.length;o++){var d=u[o];n+=d.length}for(var y=new l(n),P=0,F=0,k=e;F<k.length;F++){var rt=k[F];y.set(rt,P),P+=rt.length}return y}var yb=function(){function l(n,t){Qa()(this,l),this.engine=n,this.options=t,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return qa()(l,[{key:"init",value:function(){var n=ht()(oa.a.mark(function e(){var r=this,o,u,d,y,P,F,k,rt,ut,pt,Et,Lt,Gt,Rt,Xt,Zt,_t,ie;return oa.a.wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return o=this.options,u=o.vs,d=o.fs,y=o.attributes,P=o.uniforms,F=o.primitive,k=o.count,rt=o.elements,ut=o.depth,pt=o.blend,Et=o.stencil,Lt=o.cull,Gt=o.instances,be.next=3,this.compilePipelineStageDescriptor(u,d,null);case 3:Rt=be.sent,Xt=Rt.vertexStage,Zt=Rt.fragmentStage,P&&this.buildUniformBindGroup(P),rt&&(this.indexBuffer=rt.get(),this.indexCount=rt.indexCount),_t={vertexBuffers:Object.keys(y).map(function(Pe,Se){var Ue=y[Pe],Ye=Ue.get(),Ur=Ye.arrayStride,Wr=Ye.stepMode,zr=Ye.attributes;return r.attributeCache[Pe]=Ue,{arrayStride:Ur,stepMode:Wr,attributes:zr}})},ie={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:cb[F||Ae.gl.TRIANGLES],rasterizationState:Sh(Sh({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:db({cull:Lt})}),depthStencilState:vb({depth:ut,stencil:Et}),colorStates:gb({blend:pt},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:Xt,fragmentStage:Zt,vertexState:_t},this.renderPipeline=this.engine.device.createRenderPipeline(ie);case 11:case"end":return be.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"addUniforms",value:function(t){this.uniforms=Sh(Sh({},this.uniforms),gd(t))}},{key:"draw",value:function(t){var e=this,r=this.engine.getCurrentRenderPass(),o=Sh(Sh({},this.uniforms),gd(t.uniforms||{})),u=[];Object.keys(o).forEach(function(d){var y=tr()(o[d]);if(y==="boolean"||y==="number"||Array.isArray(o[d])||o[d].BYTES_PER_ELEMENT){var P,F=(P=e.uniformGPUBufferLayout.find(function(Gt){var Rt=Gt.name;return Rt===d}))===null||P===void 0?void 0:P.offset;F!==null&&e.uniformBuffer.subData({data:o[d],offset:F})}else{var k,rt=(k=e.uniformGPUBufferLayout.find(function(Gt){var Rt=Gt.name;return Rt===d}))===null||k===void 0?void 0:k.offset;if(rt!==null){var ut=o[d].get(),pt=ut.color||ut,Et=pt.texture,Lt=pt.sampler;Lt&&(u.push({binding:rt,resource:Lt}),rt++),u.push({binding:rt,resource:Et.createView()})}}}),this.uniformBuffer&&(u[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:u}),this.renderPipeline&&r.setPipeline(this.renderPipeline),r.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&r.setIndexBuffer(this.indexBuffer.get(),Ht.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(d,y){r.setVertexBuffer(0+y,e.attributeCache[d].get().buffer,0)}),this.indexBuffer?r.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):r.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var n=ht()(oa.a.mark(function e(r,o,u){var d,y,P;return oa.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(d=`#version 450
`,y=r,P=o,this.engine.options.useWGSL){k.next=10;break}return k.next=6,this.compileShaderToSpirV(r,"vertex",d);case 6:return y=k.sent,k.next=9,this.compileShaderToSpirV(o,"fragment",d);case 9:P=k.sent;case 10:return k.abrupt("return",this.createPipelineStageDescriptor(y,P));case 11:case"end":return k.stop()}},e,this)}));function t(e,r,o){return n.apply(this,arguments)}return t}()},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Ae.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Ae.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:Ht.FrontFace.CCW,cullMode:Ht.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var e=this,r=0,o=pb.apply(void 0,[Float32Array].concat(vo()(Object.keys(t).map(function(y){return t[y]?(e.uniformGPUBufferLayout.push({name:y,offset:r}),r+=(t[y].length||1)*4,t[y]):[]})))),u=[],d=!1;o.length&&(d=!0,u.push({binding:0,visibility:Ht.ShaderStage.Fragment|Ht.ShaderStage.Vertex,type:Ht.BindingType.UniformBuffer})),Object.keys(t).filter(function(y){return t[y]===null}).forEach(function(y,P){e.uniformGPUBufferLayout.push({name:y,offset:P*2+(d?1:0)}),u.push({binding:P*2+(d?1:0),visibility:Ht.ShaderStage.Fragment,type:Ht.BindingType.Sampler},{binding:P*2+(d?1:0)+1,visibility:Ht.ShaderStage.Fragment,type:Ht.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:u}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),d&&(this.uniformBuffer=new Eh(this.engine,{data:o instanceof Array?new Float32Array(o):o,usage:Ht.BufferUsage.Uniform|Ht.BufferUsage.CopyDst}))}}]),l}(),mb=function(){function l(n,t){Qa()(this,l),this.engine=n,this.options=t,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return qa()(l,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,r=t.height;(e!==this.width||r!==this.height)&&(this.destroy(),this.createTexture()),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,e=t.data,r=t.type,o=r===void 0?Ae.gl.UNSIGNED_BYTE:r,u=t.width,d=t.height,y=t.flipY,P=y===void 0?!1:y,F=t.format,k=F===void 0?Ae.gl.RGBA:F,rt=t.mipmap,ut=rt===void 0?!1:rt,pt=t.wrapS,Et=pt===void 0?Ae.gl.CLAMP_TO_EDGE:pt,Lt=t.wrapT,Gt=Lt===void 0?Ae.gl.CLAMP_TO_EDGE:Lt,Rt=t.aniso,Xt=Rt===void 0?0:Rt,Zt=t.alignment,_t=Zt===void 0?1:Zt,ie=t.premultiplyAlpha,ce=ie===void 0?!1:ie,be=t.mag,Pe=be===void 0?Ae.gl.NEAREST:be,Se=t.min,Ue=Se===void 0?Ae.gl.NEAREST:Se,Ye=t.colorSpace,Ur=Ye===void 0?Ae.gl.BROWSER_DEFAULT_WEBGL:Ye,Wr=t.usage;this.width=u,this.height=d,this.texture=this.engine.device.createTexture({size:[u,d,1],mipLevelCount:1,sampleCount:1,dimension:Ht.TextureDimension.E2d,format:hb[k],usage:Wr||Ht.TextureUsage.Sampled|Ht.TextureUsage.CopyDst}),(!Wr||Wr&Ht.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Kv[Et],addressModeV:Kv[Gt],addressModeW:Kv[Et],magFilter:up[Pe],minFilter:up[Ue],maxAnisotropy:Xt}))}}]),l}(),fp,hp,dp,bb=(fp=Object(da.injectable)(),fp(hp=(dp=function(){function l(){var n=this;Qa()(this,l),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:Infinity,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){var e=t.framebuffer,r=t.color,o=t.depth,u=t.stencil;n.options.supportCompute&&n.startComputePass(),n.currentRenderTarget?(n.currentRenderPass&&n.endRenderTargetRenderPass(),n.startRenderTargetRenderPass(n.currentRenderTarget,r||null,!!o,!!u)):(n.mainColorAttachments[0].loadValue=r||Ht.LoadOp.Load,n.mainDepthAttachment.depthLoadValue=o||Ht.LoadOp.Load,n.mainDepthAttachment.stencilLoadValue=u?n.clearStencilValue:Ht.LoadOp.Load,n.mainRenderPass&&n.endMainRenderPass(),n.startMainRenderPass())},this.createModel=function(){var t=ht()(oa.a.mark(function e(r){var o;return oa.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=new yb(n,r),d.next=3,o.init();case 3:return d.abrupt("return",o);case 4:case"end":return d.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new ib(n,t)},this.createBuffer=function(t){return new Eh(n,t)},this.createElements=function(t){return new lb(n,t)},this.createTexture2D=function(t){return new mb(n,t)},this.createFramebuffer=function(t){return new ub(n,t)},this.useFramebuffer=function(t,e){n.currentRenderTarget&&n.unbindFramebuffer(n.currentRenderTarget),n.currentRenderTarget=t,n.currentRenderTargetViewDescriptor={dimension:Ht.TextureViewDimension.E2d,arrayLayerCount:1,aspect:Ht.TextureAspect.All},n.currentRenderPass=null,e()},this.createComputeModel=function(){var t=ht()(oa.a.mark(function e(r){var o;return oa.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=new sb(n,r),d.next=3,o.init();case 3:return d.abrupt("return",o);case 4:case"end":return d.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getCanvas=function(){return n.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var e=t.x,r=t.y,o=t.width,u=t.height;if(!n.currentRenderPass)n.transientViewport={x:e,y:r,width:o,height:u};else if(n.transientViewport.x!==Infinity){var d=n.getCurrentRenderPass();d.setViewport(n.transientViewport.x,n.transientViewport.y,n.transientViewport.width,n.transientViewport.height,0,1)}else if(e!==n.cachedViewport.x||r!==n.cachedViewport.y||o!==n.cachedViewport.width||u!==n.cachedViewport.height){n.cachedViewport={x:e,y:r,width:o,height:u};var y=n.getCurrentRenderPass();y.setViewport(e,r,o,u,0,1)}},this.readPixels=function(t){throw new Error("Method not implemented.")}}return qa()(l,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var n=ht()(oa.a.mark(function e(r){return oa.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.canvas=r.canvas,this.options=r,this.useWGSL=!!r.useWGSL,this.mainPassSampleCount=r.antialiasing?this.defaultSampleCount:1,u.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return u.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"setScissor",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(t){return t.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Ae.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(t){return t})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(t){return t}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var n=ht()(oa.a.mark(function e(){var r,o;return oa.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,ab();case 2:return this.glslang=d.sent,d.next=5,(r=navigator)===null||r===void 0||(o=r.gpu)===null||o===void 0?void 0:o.requestAdapter();case 5:return this.adapter=d.sent,d.next=8,this.adapter.requestDevice();case 8:this.device=d.sent;case 9:case"end":return d.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Ae.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Ht.TextureUsage.OutputAttachment|Ht.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Ht.TextureDimension.E2d,format:Ht.TextureFormat.BGRA8Unorm,usage:Ht.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:Ae.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:Ht.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Ae.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:Ht.StoreOp.Store}];var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Ht.TextureDimension.E2d,format:Ae.isSafari?"depth32float-stencil8":Ht.TextureFormat.Depth24PlusStencil8,usage:Ht.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(e),this.mainDepthAttachment={attachment:Ae.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:Ht.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:Ht.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Ae.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Ae.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,r){var o,u,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,y=(o=t.get().color)===null||o===void 0?void 0:o.texture,P;y&&(P=y.createView(this.currentRenderTargetViewDescriptor));var F=(u=t.get().depth)===null||u===void 0?void 0:u.texture,k;F&&(k=F.createView());var rt=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:P,loadValue:e!==null?e:Ht.LoadOp.Load,storeOp:Ht.StoreOp.Store}],depthStencilAttachment:F&&k?{attachment:k,depthLoadValue:r?this.clearDepthValue:Ht.LoadOp.Load,depthStoreOp:Ht.StoreOp.Store,stencilLoadValue:d?this.clearStencilValue:Ht.LoadOp.Load,stencilStoreOp:Ht.StoreOp.Store}:void 0});this.currentRenderPass=rt,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=Infinity,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),l}(),dp))||hp),Ob=a("xDaT"),xb=a.n(Ob),Eb=a("xg7u"),Cc=a.n(Eb),Mb=a("Kiyl"),Tc=a.n(Mb),Sb=a("u3/Z"),ss=a.n(Sb),vp,gp;function Cb(l){var n=Tb();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function Tb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var Zv=4/64,pp=1-Zv*2,Ab=(vp=Object(da.injectable)(),vp(gp=function(l){Cc()(t,l);var n=Cb(t);function t(){return Qa()(this,t),n.apply(this,arguments)}return qa()(t,[{key:"onEntityCreated",value:function(){var r=this.config,o=r.widthSegments,u=o===void 0?1:o,d=r.heightSegments,y=d===void 0?1:d,P=r.depthSegments,F=P===void 0?1:P,k=r.halfExtents,rt=k===void 0?Lr.e.fromValues(.5,.5,.5):k,ut=u,pt=y,Et=F,Lt=xb()(rt,3),Gt=Lt[0],Rt=Lt[1],Xt=Lt[2],Zt=[Lr.e.fromValues(-Gt,-Rt,Xt),Lr.e.fromValues(Gt,-Rt,Xt),Lr.e.fromValues(Gt,Rt,Xt),Lr.e.fromValues(-Gt,Rt,Xt),Lr.e.fromValues(Gt,-Rt,-Xt),Lr.e.fromValues(-Gt,-Rt,-Xt),Lr.e.fromValues(-Gt,Rt,-Xt),Lr.e.fromValues(Gt,Rt,-Xt)],_t=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],ie=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],ce={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},be=[],Pe=[],Se=[],Ue=[],Ye=[],Ur=0,Wr=function(on,un,pn){var kr,bn,Vn,Kr;for(Vn=0;Vn<=un;Vn++)for(Kr=0;Kr<=pn;Kr++){var vn=Lr.e.create(),sa=Lr.e.create(),va=Lr.e.create(),Ua=Lr.e.create();Lr.e.lerp(vn,Zt[_t[on][0]],Zt[_t[on][1]],Vn/un),Lr.e.lerp(sa,Zt[_t[on][0]],Zt[_t[on][2]],Kr/pn),Lr.e.sub(va,sa,Zt[_t[on][0]]),Lr.e.add(Ua,vn,va),kr=Vn/un,bn=Kr/pn,be.push(Ua[0],Ua[1],Ua[2]),Pe.push(ie[on][0],ie[on][1],ie[on][2]),Se.push(kr,bn),kr/=3,bn/=3,kr=kr*pp+Zv,bn=bn*pp+Zv,kr+=on%3/3,bn+=Math.floor(on/3)/3,Ue.push(kr,bn),Vn<un&&Kr<pn&&(Ye.push(Ur+pn+1,Ur+1,Ur),Ye.push(Ur+pn+1,Ur+pn+2,Ur+1)),Ur++}};Wr(ce.FRONT,ut,pt),Wr(ce.BACK,ut,pt),Wr(ce.TOP,ut,Et),Wr(ce.BOTTOM,ut,Et),Wr(ce.RIGHT,Et,pt),Wr(ce.LEFT,Et,pt);var zr=Object(Ae.generateAABBFromVertices)(be),Mn=this.getComponent();Mn.indices=Uint32Array.from(Ye),Mn.aabb=zr,Mn.vertexCount=Ur,Mn.attributes=[{dirty:!0,name:"position",data:Float32Array.from(be),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(Pe),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(Se),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(R))||gp);function Ib(l,n){if(!l&&!n)throw new Error("Please specify valid arguments for parameters a and b.");if(!n||n.length===0)return l;if(!l||l.length===0)return n;if(Object.prototype.toString.call(l)!==Object.prototype.toString.call(n))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var t=new l.constructor(l.length+n.length);return t.set(l),t.set(n,l.length),t}var yp,mp;function Pb(l){var n=Db();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function Db(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var jb=(yp=Object(da.injectable)(),yp(mp=function(l){Cc()(t,l);var n=Pb(t);function t(){return Qa()(this,t),n.apply(this,arguments)}return qa()(t,[{key:"onEntityCreated",value:function(){var r=this.config.geometries,o=r===void 0?[]:r,u=this.getComponent();u.aabb=new Ae.AABB;var d=[],y=[],P=0;o.forEach(function(F){var k=F.aabb,rt=F.indices,ut=F.vertexCount,pt=F.attributes;u.aabb.add(k),u.vertexCount+=ut,rt&&y.push.apply(y,vo()(rt.map(function(Et){return Et+P}))),P+=ut,pt.forEach(function(Et,Lt){d[Lt]?Et.data&&(id(Et.data)?d[Lt].push(Et.data):Bu(Et.data)?d[Lt].data=Ib(d[Lt].data,Et.data):d[Lt].data=d[Lt].data.concat(Et.data)):(d[Lt]=Et,d[Lt].dirty=!0)})}),u.attributes=d,u.indices=Uint32Array.from(y),u.dirty=!0}}]),t}(R))||mp),bp,Op;function Lb(l){var n=Rb();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function Rb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var wb=(bp=Object(da.injectable)(),bp(Op=function(l){Cc()(t,l);var n=Lb(t);function t(){return Qa()(this,t),n.apply(this,arguments)}return qa()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,o=r.halfExtents,u=o===void 0?[.5,.5]:o,d=r.widthSegments,y=d===void 0?5:d,P=r.lengthSegments,F=P===void 0?5:P,k=[],rt=[],ut=[],pt=[],Et=0,Lt=0;Lt<=y;Lt++)for(var Gt=0;Gt<=F;Gt++){var Rt=-u[0]+2*u[0]*Lt/y,Xt=0,Zt=-(-u[1]+2*u[1]*Gt/F),_t=Lt/y,ie=Gt/F;k.push(Rt,Xt,Zt),rt.push(0,1,0),ut.push(_t,ie),Lt<y&&Gt<F&&(pt.push(Et+F+1,Et+1,Et),pt.push(Et+F+1,Et+F+2,Et+1)),Et++}var ce=Object(Ae.generateAABBFromVertices)(k),be=this.getComponent();be.indices=Uint32Array.from(pt),be.aabb=ce,be.vertexCount=Et,be.attributes=[{dirty:!0,name:"position",data:Float32Array.from(k),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(rt),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(ut),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(R))||Op),xp,Ep;function Bb(l){var n=Nb();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function Nb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var Fb=(xp=Object(da.injectable)(),xp(Ep=function(l){Cc()(t,l);var n=Bb(t);function t(){return Qa()(this,t),n.apply(this,arguments)}return qa()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,o=r.radius,u=o===void 0?.5:o,d=r.latitudeBands,y=d===void 0?16:d,P=r.longitudeBands,F=P===void 0?16:P,k=[],rt=[],ut=[],pt=[],Et=0;Et<=y;Et++)for(var Lt=Et*Math.PI/y,Gt=Math.sin(Lt),Rt=Math.cos(Lt),Xt=0;Xt<=F;Xt++){var Zt=Xt*2*Math.PI/F-Math.PI/2,_t=Math.sin(Zt),ie=Math.cos(Zt),ce=ie*Gt,be=Rt,Pe=_t*Gt,Se=1-Xt/F,Ue=1-Et/y;k.push(ce*u,be*u,Pe*u),rt.push(ce,be,Pe),ut.push(Se,Ue)}for(var Ye=0;Ye<y;++Ye)for(var Ur=0;Ur<F;++Ur){var Wr=Ye*(F+1)+Ur,zr=Wr+F+1;pt.push(Wr+1,zr,Wr),pt.push(Wr+1,zr+1,zr)}var Mn=Object(Ae.generateAABBFromVertices)(k),xn=this.getComponent();xn.indices=Uint32Array.from(pt),xn.aabb=Mn,xn.vertexCount=k.length/3,xn.attributes=[{dirty:!0,name:"position",data:Float32Array.from(k),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(rt),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(ut),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(R))||Ep),Gb=a("WplE"),Ml=a.n(Gb),Mp,Sp,Cp,Tp,cv,Ap,Ip,Pp;function Ub(l){var n=Wb();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function Wb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var zb=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,kb=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,Vb=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,Xb=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,Hb=(Mp=Object(da.injectable)(),Sp=Object(da.inject)(Ae.IDENTIFIER.RenderEngine),Cp=Object(da.inject)(Ae.IDENTIFIER.ShaderModuleService),Mp(Tp=(cv=(Pp=function(l){Cc()(t,l);var n=Ub(t);function t(){var e;Qa()(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=n.call.apply(n,[this].concat(o)),Di()(e,"engine",Ap,Ml()(e)),Di()(e,"shaderModuleService",Ip,Ml()(e)),e}return qa()(t,[{key:"onEntityCreated",value:function(){var r=this.getComponent(),o=this.engine.supportWebGPU?Xb:kb,u=this.engine.supportWebGPU?Vb:zb;this.shaderModuleService.registerModule("material-basic",{vs:o,fs:u});var d=this.shaderModuleService.getModule("material-basic"),y=d.vs,P=d.fs,F=d.uniforms;r.vertexShaderGLSL=y,r.fragmentShaderGLSL=P,r.setUniform(F),this.config.map&&(r.setDefines({USE_UV:1,USE_MAP:1}),r.setUniform({map:this.config.map,uvTransform:Lr.a.create()}))}}]),t}(Gg),Pp),Ap=wi()(cv.prototype,"engine",[Sp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=wi()(cv.prototype,"shaderModuleService",[Cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cv))||Tp),Dp,jp,Lp,Rp,wp,Bp,Np,yd,Fp,Gp,Up,Wp;function Yb(l){var n=Kb();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function Kb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var Zb=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,$b=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,Qb=(Dp=Object(da.injectable)(),jp=Object(da.inject)(Ae.IDENTIFIER.Systems),Lp=Object(da.named)(Ae.IDENTIFIER.MaterialSystem),Rp=Object(da.inject)(Ae.IDENTIFIER.Systems),wp=Object(da.named)(Ae.IDENTIFIER.GeometrySystem),Bp=Object(da.inject)(Ae.IDENTIFIER.ShaderModuleService),Dp(Np=(yd=(Wp=function(l){Cc()(t,l);var n=Yb(t);function t(){var e;Qa()(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=n.call.apply(n,[this].concat(o)),Di()(e,"materialSystem",Fp,Ml()(e)),Di()(e,"geometrySystem",Gp,Ml()(e)),Di()(e,"shaderModuleService",Up,Ml()(e)),e}return qa()(t,[{key:"onAttributeChanged",value:function(r){var o=r.name,u=r.data,d=this.getMeshComponent();d&&d.material&&(o==="gridColor"?(d.material.setUniform("u_GridColor",u),d.material.setUniform("u_GridColor2",u)):o==="gridSize"&&(d.material.setUniform("u_GridSize",u),d.material.setUniform("u_GridSize2",u)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:$b,fs:Zb});var r=this.shaderModuleService.getModule("grid"),o=r.vs,u=r.fs,d=r.uniforms,y=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:u});this.setMaterial(y);var P=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(P),y.setCull({enable:!1,face:Ae.gl.BACK}).setDepth({enable:!0,func:Ae.gl.LESS}),y.setUniform(d),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),P.setIndex([0,3,2,2,1,0]),P.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),t}(Mc),Wp),Fp=wi()(yd.prototype,"materialSystem",[jp,Lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gp=wi()(yd.prototype,"geometrySystem",[Rp,wp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Up=wi()(yd.prototype,"shaderModuleService",[Bp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yd))||Np),fv=a("RV5/"),Af=a("aUeW");function hv(l,n,t,e,r){md(n,e,-r),md(n,e,r),l.push(t),l.push(t)}function md(l,n,t){l.push([[n[0],n[1]],t])}var Jb=function(l,n,t){var e=[0,0],r=[0,0],o=[0,0],u=[0,0],d=-1,y=!1,P=null,F=Object(fv.create)(),k=t||0,rt=3,ut=[],pt=[],Et=[],Lt=[0,0];n&&(l=l.slice(),l.push(l[0]));for(var Gt=l.length,Rt=1;Rt<Gt;Rt++){var Xt=k,Zt=l[Rt-1],_t=l[Rt],ie=Rt<l.length-1?l[Rt+1]:null;if(Lt.push(Rt/Gt,Rt/Gt),Object(Af.direction)(e,_t,Zt),P||(P=[0,0],Object(Af.normal)(P,e)),y||(y=!0,hv(pt,ut,Zt,P,1)),Et.push([Xt+0,Xt+1,Xt+2]),!ie)Object(Af.normal)(P,e),hv(pt,ut,_t,P,1),Et.push(d===1?[Xt,Xt+2,Xt+3]:[Xt+2,Xt+1,Xt+3]),k+=2;else{Object(Af.direction)(r,ie,_t);var ce=Object(Af.computeMiter)(o,u,e,r,1),be=Object(fv.dot)(o,P)<0?-1:1,Pe=ce>rt;if(!isFinite(ce)){Object(Af.normal)(P,e),hv(pt,ut,_t,P,1),Et.push(d===1?[Xt,Xt+2,Xt+3]:[Xt+2,Xt+1,Xt+3]),k+=2,d=be;continue}Pe?(ce=rt,Lt.push(Rt/Gt),md(ut,P,-be),pt.push(_t),md(ut,u,ce*be),pt.push(_t),Et.push(d!==-be?[Xt,Xt+2,Xt+3]:[Xt+2,Xt+1,Xt+3]),Et.push([Xt+2,Xt+3,Xt+4]),Object(Af.normal)(F,r),Object(fv.copy)(P,F),md(ut,P,-be),pt.push(_t),k+=3):(hv(pt,ut,_t,u,ce),Et.push(d===1?[Xt,Xt+2,Xt+3]:[Xt+2,Xt+1,Xt+3]),be=-1,Object(fv.copy)(P,u),k+=2),d=be}}return{normals:ut,attrIndex:Et,attrPos:pt,attrCounters:Lt}},zp,kp,Vp,Xp,Hp,Yp,Kp,bd,Zp,$p,Qp,Jp;function _b(l){var n=qb();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function qb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var tO=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,eO=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,rO=(zp=Object(da.injectable)(),kp=Object(da.inject)(Ae.IDENTIFIER.Systems),Vp=Object(da.named)(Ae.IDENTIFIER.MaterialSystem),Xp=Object(da.inject)(Ae.IDENTIFIER.Systems),Hp=Object(da.named)(Ae.IDENTIFIER.GeometrySystem),Yp=Object(da.inject)(Ae.IDENTIFIER.ShaderModuleService),zp(Kp=(bd=(Jp=function(l){Cc()(t,l);var n=_b(t);function t(){var e;Qa()(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=n.call.apply(n,[this].concat(o)),Di()(e,"materialSystem",Zp,Ml()(e)),Di()(e,"geometrySystem",$p,Ml()(e)),Di()(e,"shaderModuleService",Qp,Ml()(e)),e.vertexCount=void 0,e}return qa()(t,[{key:"onAttributeChanged",value:function(r){var o=r.name,u=r.data,d=this.getMeshComponent();if(d&&d.material)switch(o){case"dashArray":d.material.setUniform("u_dash_array",u);break;case"dashOffset":d.material.setUniform("u_dash_offset",u);break;case"dashRatio":d.material.setUniform("u_dash_ratio",u);break;case"thickness":d.material.setUniform("u_thickness",u);break;case"color":var y=new Array(this.vertexCount).fill(void 0).map(function(){return u}).reduce(function(P,F){return[].concat(vo()(P),vo()(F))},[]);d.geometry.setAttribute("a_color",Float32Array.from(y),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var r=this;this.shaderModuleService.registerModule("line",{vs:eO,fs:tO});var o=this.shaderModuleService.getModule("line"),u=o.vs,d=o.fs,y=o.uniforms,P=this.materialSystem.createShaderMaterial({vertexShader:u,fragmentShader:d}),F=Jb(this.config.points,!1),k=F.normals,rt=F.attrIndex,ut=F.attrPos,pt=F.attrCounters,Et=ut.length;this.vertexCount=Et;var Lt=this.geometrySystem.createBufferGeometry({vertexCount:Et});this.setMaterial(P),this.setGeometry(Lt),P.setCull({enable:!1,face:Ae.gl.BACK}).setUniform(y),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var Gt=[],Rt=[];k.forEach(function(Zt){var _t=Zt[0],ie=Zt[1];Gt.push([_t[0],_t[1]]),Rt.push(ie)}),Lt.setIndex(rt.reduce(function(Zt,_t){return[].concat(vo()(Zt),vo()(_t))},[])),Lt.setAttribute("a_pos",Float32Array.from(ut.reduce(function(Zt,_t){return[].concat(vo()(Zt),vo()(_t))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var Xt=new Array(Et).fill(void 0).map(function(){return vo()(r.config.color)}).reduce(function(Zt,_t){return[].concat(vo()(Zt),vo()(_t))},[]);Lt.setAttribute("a_color",Float32Array.from(Xt),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),Lt.setAttribute("a_line_miter",Float32Array.from(Rt),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),Lt.setAttribute("a_line_normal",Float32Array.from(Gt.reduce(function(Zt,_t){return[].concat(vo()(Zt),vo()(_t))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),Lt.setAttribute("a_counters",Float32Array.from(pt),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),t}(Mc),Jp),Zp=wi()(bd.prototype,"materialSystem",[kp,Vp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=wi()(bd.prototype,"geometrySystem",[Xp,Hp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=wi()(bd.prototype,"shaderModuleService",[Yp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bd))||Kp);function nO(l){return[l+1&255,l+1>>8&255,l+1>>8>>8&255]}var _p,qp,ty,ey,ry,ny,ay,Od,iy,oy,sy,ly;function uy(l,n){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(l);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,e)}return t}function aO(l){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?uy(Object(t),!0).forEach(function(e){Bt()(l,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):uy(Object(t)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(t,e))})}return l}function iO(l){var n=oO();return function(){var e=ss()(l),r;if(n){var o=ss()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Tc()(this,r)}}function oO(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var sO=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,lO=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,uO=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],cO=(_p=Object(da.injectable)(),qp=Object(da.inject)(Ae.IDENTIFIER.Systems),ty=Object(da.named)(Ae.IDENTIFIER.MaterialSystem),ey=Object(da.inject)(Ae.IDENTIFIER.Systems),ry=Object(da.named)(Ae.IDENTIFIER.GeometrySystem),ny=Object(da.inject)(Ae.IDENTIFIER.ShaderModuleService),_p(ay=(Od=(ly=function(l){Cc()(t,l);var n=iO(t);function t(){var e;Qa()(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=n.call.apply(n,[this].concat(o)),Di()(e,"materialSystem",iy,Ml()(e)),Di()(e,"geometrySystem",oy,Ml()(e)),Di()(e,"shaderModuleService",sy,Ml()(e)),e}return qa()(t,[{key:"onAttributeChanged",value:function(r){var o=r.name,u=r.data,d=this.getMeshComponent();d&&d.material&&(o==="strokeWidth"?d.material.setUniform("u_stroke_width",u):o==="strokeColor"?d.material.setUniform("u_stroke_color",u):o==="strokeOpacity"?d.material.setUniform("u_stroke_opacity",u):o==="opacity"?d.material.setUniform("u_opacity",u):o==="blur"&&d.material.setUniform("u_blur",u))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:lO,fs:sO});var r=this.shaderModuleService.getModule("grid"),o=r.vs,u=r.fs,d=r.uniforms,y=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:u,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Ae.gl.SRC_ALPHA,dstRGB:Ae.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});y.setUniform(aO({u_device_pixel_ratio:window.devicePixelRatio},d));var P=this.buildAttributes(),F=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:P.instancedOffsets.length/2,vertexCount:6});F.setIndex([0,2,1,0,3,2]),F.setAttribute("position",Float32Array.from(P.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),F.setAttribute("offset",Float32Array.from(P.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),F.setAttribute("color",Float32Array.from(P.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),F.setAttribute("size",Float32Array.from(P.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),F.setAttribute("shape",Float32Array.from(P.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),F.setAttribute("a_PickingColor",Float32Array.from(P.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(y),this.setGeometry(F)}},{key:"buildAttribute",value:function(r,o,u){var d,y,P,F;(d=o.instancedPickingColors).push.apply(d,vo()(nO(r.id||u))),o.instancedShapes.push(uO.indexOf(r.shape||"circle")),(y=o.instancedColors).push.apply(y,vo()(r.color||[1,0,0,1])),(P=o.instancedOffsets).push.apply(P,vo()(r.position||[0,0])),(F=o.instancedSizes).push.apply(F,vo()(r.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var r=this,o={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(u,d){r.buildAttribute(u,o,d)}):this.buildAttribute(this.config,o,0),o}}]),t}(Mc),ly),iy=wi()(Od.prototype,"materialSystem",[qp,ty],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oy=wi()(Od.prototype,"geometrySystem",[ey,ry],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sy=wi()(Od.prototype,"shaderModuleService",[ny],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Od))||ay),cy,fy,hy,dy,vy,xd,gy,py,yy,my;function by(l,n){var t;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(t=fO(l))||n&&l&&typeof l.length=="number"){t&&(l=t);var e=0,r=function(){};return{s:r,n:function(){return e>=l.length?{done:!0}:{done:!1,value:l[e++]}},e:function(P){throw P},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,d;return{s:function(){t=l[Symbol.iterator]()},n:function(){var P=t.next();return o=P.done,P},e:function(P){u=!0,d=P},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(u)throw d}}}}function fO(l,n){if(!!l){if(typeof l=="string")return Oy(l,n);var t=Object.prototype.toString.call(l).slice(8,-1);if(t==="Object"&&l.constructor&&(t=l.constructor.name),t==="Map"||t==="Set")return Array.from(l);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oy(l,n)}}function Oy(l,n){(n==null||n>l.length)&&(n=l.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=l[t];return e}var hO=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,dO=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,vO=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,gO=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,pO=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,xy=(cy=Object(da.injectable)(),fy=Object(da.inject)(Ae.IDENTIFIER.RenderEngine),hy=Object(da.inject)(Ae.IDENTIFIER.ShaderModuleService),dy=Object(da.inject)(Ae.IDENTIFIER.ConfigService),cy(vy=(xd=(my=function(){function l(){Qa()(this,l),this.container=void 0,Di()(this,"engine",gy,this),Di()(this,"shaderModule",py,this),Di()(this,"configService",yy,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return qa()(l,[{key:"init",value:function(){var n=ht()(oa.a.mark(function e(){var r,o,u,d,y;return oa.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:gO}),this.shaderModule.registerModule("uv.vert.main",{vs:pO}),this.shaderModule.registerModule("uv.frag.declaration",{fs:vO}),this.shaderModule.registerModule("map.frag.declaration",{fs:hO}),this.shaderModule.registerModule("map.frag.main",{fs:dO}),r=this.container.getAll(Ae.IDENTIFIER.Systems),o=this.configService.get(),!o.canvas){F.next=30;break}return F.next=11,this.engine.init({canvas:o.canvas,swapChainFormat:Ht.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:u=by(r),F.prev=12,u.s();case 14:if((d=u.n()).done){F.next=21;break}if(y=d.value,!y.initialize){F.next=19;break}return F.next=19,y.initialize();case 19:F.next=14;break;case 21:F.next=26;break;case 23:F.prev=23,F.t0=F.catch(12),u.e(F.t0);case 26:return F.prev=26,u.f(),F.finish(26);case 29:this.inited=!0;case 30:case"end":return F.stop()}},e,this,[[12,23,26,29]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"render",value:function(){var n=ht()(oa.a.mark(function e(){var r,o,u,d,y,P,F,k=arguments;return oa.a.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(!(!this.inited||this.rendering)){ut.next=2;break}return ut.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(pt){pt()}),this.rendering=!0,this.engine.beginFrame(),r=this.container.getAll(Ae.IDENTIFIER.Systems),o=k.length,u=new Array(o),d=0;d<o;d++)u[d]=k[d];y=by(r),ut.prev=8,y.s();case 10:if((P=y.n()).done){ut.next=17;break}if(F=P.value,!F.execute){ut.next=15;break}return ut.next=15,F.execute(u);case 15:ut.next=10;break;case 17:ut.next=22;break;case 19:ut.prev=19,ut.t0=ut.catch(8),y.e(ut.t0);case 22:return ut.prev=22,y.f(),ut.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return ut.stop()}},e,this,[[8,19,22,25]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift(function(){e.engine.clear(t),e.pendings.shift()}),this}},{key:"setSize",value:function(t){var e=t.width,r=t.height,o=this.engine.getCanvas();return this.size={width:e,height:r},o.width=e,o.height=r,this}},{key:"getSize",value:function(){return this.size}}]),l}(),my),gy=wi()(xd.prototype,"engine",[fy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),py=wi()(xd.prototype,"shaderModule",[hy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yy=wi()(xd.prototype,"configService",[dy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd))||vy),Ey,My,Sy,Cy=(Ey=Object(da.injectable)(),Ey(My=(Sy=function(){function l(){Qa()(this,l),this.entities=[]}return qa()(l,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(t){return this.addEntity(t.getEntity()),this}},{key:"removeRenderable",value:function(t){return this.removeEntity(t.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(t){return this.entities.indexOf(t)===-1&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var e=this.entities.indexOf(t);return this.entities.splice(e,1),this}}]),l}(),Sy))||My),Ty,Ay,Iy,Py=(Ty=Object(da.injectable)(),Ty(Ay=(Iy=function(){function l(){Qa()(this,l),this.cache={}}return qa()(l,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,e){this.cache[t]=e}}]),l}(),Iy))||Ay),Dy,jy,Ly,Ry,dv,wy,By,Ny;function Fy(l,n){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(l);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,e)}return t}function Gy(l){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Fy(Object(t),!0).forEach(function(e){Bt()(l,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):Fy(Object(t)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(t,e))})}return l}var Uy=(Dy=Object(da.injectable)(),jy=Object(da.inject)(Py),Ly=Object(da.inject)(Ae.IDENTIFIER.RenderEngine),Dy(Ry=(dv=(Ny=function(){function l(){Qa()(this,l),Di()(this,"textureCache",wy,this),Di()(this,"engine",By,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return qa()(l,[{key:"setConfig",value:function(t){this.config=t}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var n=ht()(oa.a.mark(function e(){var r=this;return oa.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.config.url){u.next=4;break}return u.abrupt("return",new Promise(function(d,y){var P=r.textureCache.get(r.config.url);if(P)d(P);else{var F=new Image;F.crossOrigin="Anonymous",F.src=r.config.url,F.onload=function(){var k=r.engine.createTexture2D(Gy(Gy({},r.config),{},{data:F,width:F.width,height:F.height,flipY:!0}));r.textureCache.set(r.config.url,k),r.texture=k,r.loaded=!0,d(k)},F.onerror=function(){y()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),u.abrupt("return",this.texture);case 7:case"end":return u.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),l}(),Ny),wy=wi()(dv.prototype,"textureCache",[jy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),By=wi()(dv.prototype,"engine",[Ly],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dv))||Ry),Wy,zy,ky,Vy,$v,Xy,Hy,Yy=(Wy=Object(da.injectable)(),zy=Object(da.inject)(Ae.IDENTIFIER.Systems),ky=Object(da.named)(Ae.IDENTIFIER.RendererSystem),Wy(Vy=($v=(Hy=function(){function l(){Qa()(this,l),Di()(this,"rendererSystem",Xy,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return qa()(l,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),l}(),Hy),Xy=wi()($v.prototype,"rendererSystem",[zy,ky],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$v))||Vy),Ky,Zy,$y,Qv,Qy,Jy;function _y(l,n){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(l);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),t.push.apply(t,e)}return t}function yO(l){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?_y(Object(t),!0).forEach(function(e){Bt()(l,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):_y(Object(t)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(t,e))})}return l}var vv=(Ky=Object(da.injectable)(),Zy=Object(da.inject)(Ae.IDENTIFIER.ConfigService),Ky($y=(Qv=(Jy=function(){function l(){Qa()(this,l),Di()(this,"configService",Qy,this),this.container=void 0}return qa()(l,[{key:"getEngine",value:function(){var n=ht()(oa.a.mark(function e(){var r,o,u,d;return oa.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return r=this.container.get(Ae.IDENTIFIER.RenderEngine),o=this.configService.get(),u=o.canvas,d=o.engineOptions,P.next=4,r.init(yO({canvas:u||$t(),swapChainFormat:Ht.TextureFormat.BGRA8Unorm,antialiasing:!1},d));case 4:return P.abrupt("return",r);case 5:case"end":return P.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getTransformComponent",value:function(t){var e=this.container.get(Ae.IDENTIFIER.TransformComponentManager);return e.getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){var e=this.container.get(Ae.IDENTIFIER.MeshComponentManager);return e.getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(Ae.createEntity)()}},{key:"createScene",value:function(){return this.container.get(Cy)}},{key:"createCamera",value:function(){return this.container.get(Zd)}},{key:"createView",value:function(){return this.container.get(Yy)}},{key:"createRenderable",value:function(t,e){var r=t?this.container.getNamed(Ae.IDENTIFIER.Renderable,t):this.container.get(Mc),o=Object(Ae.createEntity)();return r.setConfig(e||{}),r.setEntity(o),r}},{key:"createGeometry",value:function(t,e){var r=this.container.getNamed(Ae.IDENTIFIER.Geometry,t),o=Object(Ae.createEntity)();return r.setConfig(e||{}),r.setEntity(o),r.getComponent()}},{key:"createMaterial",value:function(t,e){var r=this.container.getNamed(Ae.IDENTIFIER.Material,t),o=Object(Ae.createEntity)();return r.setConfig(e||{}),r.setEntity(o,t),r.getComponent()}},{key:"createTexture2D",value:function(t){var e=this.container.get(Uy);return e.setConfig(t),e}},{key:"createBufferGeometry",value:function(t){var e=this.container.getNamed(Ae.IDENTIFIER.Systems,Ae.IDENTIFIER.GeometrySystem);return e.createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){var e=this.container.getNamed(Ae.IDENTIFIER.Systems,Ae.IDENTIFIER.GeometrySystem);return e.createInstancedBufferGeometry(t)}},{key:"createShaderMaterial",value:function(t){var e=this.container.getNamed(Ae.IDENTIFIER.Systems,Ae.IDENTIFIER.MaterialSystem);return e.createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(jg);return typeof t=="string"?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(xy);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){var t=this.container.getAll(Ae.IDENTIFIER.Systems);t.forEach(function(o){o.tearDown&&o.tearDown()});var e=this.container.get(Ae.IDENTIFIER.RenderEngine);e.destroy();var r=this.container.get(Ae.IDENTIFIER.InteractorService);r.destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object(Ae.createWorldContainer)(),r=navigator.gpu?bb:tb;e.isBound(Ae.IDENTIFIER.RenderEngine)||e.bind(Ae.IDENTIFIER.RenderEngine).to(r).inSingletonScope(),e.bind(xy).toSelf(),e.bind(jg).toSelf(),e.bind(Mc).toSelf(),e.bind(Yy).toSelf(),e.bind(Zd).toSelf(),e.bind(Cy).toSelf(),e.bind(l).toSelf(),e.bind(Py).toSelf(),e.bind(Uy).toSelf(),e.bind(Ae.IDENTIFIER.Geometry).to(Ab).whenTargetNamed(R.BOX),e.bind(Ae.IDENTIFIER.Geometry).to(Fb).whenTargetNamed(R.SPHERE),e.bind(Ae.IDENTIFIER.Geometry).to(wb).whenTargetNamed(R.PLANE),e.bind(Ae.IDENTIFIER.Geometry).to(jb).whenTargetNamed(R.MERGED),e.bind(Ae.IDENTIFIER.Material).to(Hb).whenTargetNamed(Gg.BASIC),e.bind(Ae.IDENTIFIER.Renderable).to(cO).whenTargetNamed(Mc.POINT),e.bind(Ae.IDENTIFIER.Renderable).to(rO).whenTargetNamed(Mc.LINE),e.bind(Ae.IDENTIFIER.Renderable).to(Qb).whenTargetNamed(Mc.GRID);var o=e.get(l);return o.setContainer(e),o.setConfig(t),o}}]),l}(),Jy),Qy=wi()(Qv.prototype,"configService",[Zy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qv))||$y),Ch=function(n,t){var e;return n?Fn(n)?e=function(){return n}:e=n:e=function(){return t||1},e},mO=function(n,t){var e=[],r=[],o={},u=0;for(u=0;u<n.length;u++){var d=n[u];o[d.id]=u,e.push(d.x),e.push(d.y),e.push(0),e.push(0),r.push([])}for(u=0;u<t.length;u++){var y=t[u];r[o[y.source]].push(o[y.target]),r[o[y.target]].push(o[y.source])}var P=0;for(u=0;u<n.length;u++){var F=e.length,k=r[u],rt=k.length;e[u*4+2]=F,e[u*4+3]=k.length,P=Math.max(P,k.length);for(var ut=0;ut<rt;++ut){var pt=k[ut];e.push(+pt)}}for(;e.length%4!=0;)e.push(0);return{maxEdgePerVetex:P,array:new Float32Array(e)}},bO=function(n,t,e,r){var o=[],u=[],d={},y=0;for(y=0;y<n.length;y++){var P=n[y];d[P.id]=y,o.push(P.x),o.push(P.y),o.push(0),o.push(0),u.push([])}for(y=0;y<t.length;y++){var F=t[y];u[d[F.source]].push(d[F.target]),u[d[F.source]].push(e(F)),u[d[F.source]].push(r(F)),u[d[F.source]].push(0),u[d[F.target]].push(d[F.source]),u[d[F.target]].push(e(F)),u[d[F.target]].push(r(F)),u[d[F.target]].push(0)}var k=0;for(y=0;y<n.length;y++){var rt=o.length,ut=u[y],pt=ut.length;o[y*4+2]=rt+1048576*pt/4,o[y*4+3]=0,k=Math.max(k,pt/4);for(var Et=0;Et<pt;++Et){var Lt=ut[Et];o.push(+Lt)}}for(;o.length%4!=0;)o.push(0);return{maxEdgePerVetex:k,array:new Float32Array(o)}},OO=function(n,t){var e=[],r=n.length,o={};return t.forEach(function(u){n.forEach(function(d,y){if(o[u[d]]===void 0&&(o[u[d]]=Object.keys(o).length),e.push(o[u[d]]),y===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(o).length}},qy=function(n){for(var t=[],e=n.length,r=n[0].length,o=function(y){n.forEach(function(P,F){if(t.push(P[y]),F===e-1)for(;t.length%4!=0;)t.push(0)})},u=0;u<r;u++)o(u);return new Float32Array(t)},xM=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }
    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const nodeAttributes = this.u_AttributeArray[i];
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;
    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,xO='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',EM=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,EO='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}',gv=function(l,n,t,e){function r(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(F){try{P(e.next(F))}catch(k){u(k)}}function y(F){try{P(e.throw(F))}catch(k){u(k)}}function P(F){F.done?o(F.value):r(F.value).then(d,y)}P((e=e.apply(l,n||[])).next())})},MO=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=1,r.clustering=!1,r.clusterField="cluster",r.clusterGravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return gv(this,void 0,void 0,oa.a.mark(function r(){var o=this,u,d,y,P,F;return oa.a.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(u=this,d=u.nodes,!(!d||d.length===0)){rt.next=5;break}return u.onLayoutEnd&&u.onLayoutEnd(),rt.abrupt("return");case 5:if(!u.width&&typeof window!="undefined"&&(u.width=window.innerWidth),!u.height&&typeof window!="undefined"&&(u.height=window.innerHeight),u.center||(u.center=[u.width/2,u.height/2]),y=u.center,d.length!==1){rt.next=14;break}return d[0].x=y[0],d[0].y=y[1],u.onLayoutEnd&&u.onLayoutEnd(),rt.abrupt("return");case 14:return P={},F={},d.forEach(function(ut,pt){Fn(ut.x)||(ut.x=Math.random()*o.width),Fn(ut.y)||(ut.y=Math.random()*o.height),P[ut.id]=ut,F[ut.id]=pt}),u.nodeMap=P,u.nodeIdxMap=F,rt.next=21,u.run();case 21:case"end":return rt.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,o){return gv(this,void 0,void 0,oa.a.mark(function u(){var d=this,y,P,F,k,rt;return oa.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(y=this,P=y.nodes,F=y.center,!(!P||P.length===0)){pt.next=5;break}return pt.abrupt("return");case 5:if(P.length!==1){pt.next=9;break}return P[0].x=F[0],P[0].y=F[1],pt.abrupt("return");case 9:return k={},rt={},P.forEach(function(Et,Lt){Fn(Et.x)||(Et.x=Math.random()*d.width),Fn(Et.y)||(Et.y=Math.random()*d.height),k[Et.id]=Et,rt[Et.id]=Lt}),y.nodeMap=k,y.nodeIdxMap=rt,pt.next=16,y.run(r,o);case 16:case"end":return pt.stop()}},u,this)}))}},{key:"run",value:function(r,o){return gv(this,void 0,void 0,oa.a.mark(function u(){var d=this,y,P,F,k,rt,ut,pt,Et,Lt,Gt,Rt,Xt,Zt,_t,ie,ce,be,Pe,Se,Ue,Ye,Ur,Wr,zr,Mn,xn;return oa.a.wrap(function(un){for(;;)switch(un.prev=un.next){case 0:for(y=this,P=y.nodes,F=y.edges,k=y.maxIteration,rt=y.center,ut=y.height*y.width,pt=Math.sqrt(ut)/10,Et=ut/(P.length+1),Lt=Math.sqrt(Et),Gt=y.speed,Rt=y.clustering,Xt=OO([y.clusterField],P),Zt=Xt.array,_t=Xt.count,ie=P.length,ce=mO(P,F),be=ce.maxEdgePerVetex,Pe=ce.array,Se=y.workerEnabled,Se?Ue=vv.create({canvas:r,engineOptions:{supportCompute:!0}}):Ue=vv.create({engineOptions:{supportCompute:!0}}),Ye=y.onLayoutEnd,Ur=[],Wr=0;Wr<_t;Wr++)Ur.push(0,0,0,0);return zr=Ue.createKernel(xO).setDispatch([ie,1,1]).setBinding({u_Data:Pe,u_K:Lt,u_K2:Et,u_Gravity:y.gravity,u_ClusterGravity:y.clusterGravity||y.gravity||1,u_Speed:Gt,u_MaxDisplace:pt,u_Clustering:Rt?1:0,u_Center:rt,u_AttributeArray:Zt,u_ClusterCenters:Ur,MAX_EDGE_PER_VERTEX:be,VERTEX_COUNT:ie}),Rt&&(Mn=Ue.createKernel(EO).setDispatch([_t,1,1]).setBinding({u_Data:Pe,u_NodeAttributes:Zt,u_ClusterCenters:Ur,VERTEX_COUNT:ie,CLUSTER_COUNT:_t})),xn=function(){return gv(d,void 0,void 0,oa.a.mark(function kr(){var bn,Vn;return oa.a.wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:bn=0;case 1:if(!(bn<k)){vn.next=13;break}return vn.next=4,zr.execute();case 4:if(!Rt){vn.next=9;break}return Mn.setBinding({u_Data:zr}),vn.next=8,Mn.execute();case 8:zr.setBinding({u_ClusterCenters:Mn});case 9:zr.setBinding({u_MaxDisplace:pt*=.99});case 10:bn++,vn.next=1;break;case 13:return vn.next=15,zr.getOutput();case 15:Vn=vn.sent,r?o.postMessage({type:Nr.GPUEND,vertexEdgeData:Vn}):P.forEach(function(sa,va){var Ua=Vn[4*va],Ar=Vn[4*va+1];sa.x=Ua,sa.y=Ar}),Ye&&Ye();case 18:case"end":return vn.stop()}},kr)}))},un.next=24,xn();case 24:case"end":return un.stop()}},u,this)}))}},{key:"getType",value:function(){return"fruchterman-gpu"}}]),t}(Io),MM=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = dist * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = 1000 * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[3];
    const ay = vy * attributes2[3];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    const distx = vx * this.u_interval;
    const disty = vy * this.u_interval;
    const distLength = sqrt(distx * distx + disty * disty);

    this.u_Data[i] = [
      currentNode[0] + distx,
      currentNode[1] + disty,
      currentNode[2],
      distLength
    ];
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,SO='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = dist * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.w;\\nvar ay : f32 = vy * attributes2.w;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',SM=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,CO='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}',Jv=function(l,n,t,e){function r(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(F){try{P(e.next(F))}catch(k){u(k)}}function y(F){try{P(e.throw(F))}catch(k){u(k)}}function P(F){F.done?o(F.value):r(F.value).then(d,y)}P((e=e.apply(l,n||[])).next())})},TO=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=1,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Jv(this,void 0,void 0,oa.a.mark(function r(){var o,u,d,y,P;return oa.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(o=this,u=o.nodes,!(!u||u.length===0)){k.next=5;break}return o.onLayoutEnd&&o.onLayoutEnd(),k.abrupt("return");case 5:if(!o.width&&typeof window!="undefined"&&(o.width=window.innerWidth),!o.height&&typeof window!="undefined"&&(o.height=window.innerHeight),o.center||(o.center=[o.width/2,o.height/2]),d=o.center,u.length!==1){k.next=14;break}return u[0].x=d[0],u[0].y=d[1],o.onLayoutEnd&&o.onLayoutEnd(),k.abrupt("return");case 14:return y={},P={},u.forEach(function(rt,ut){Fn(rt.x)||(rt.x=Math.random()*o.width),Fn(rt.y)||(rt.y=Math.random()*o.height),y[rt.id]=rt,P[rt.id]=ut}),o.nodeMap=y,o.nodeIdxMap=P,o.nodeStrength=Ch(o.nodeStrength,1),o.edgeStrength=Ch(o.edgeStrength,1),k.next=23,o.run();case 23:case"end":return k.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,o){var u=this,d=u.nodes,y=u.center;if(!(!d||d.length===0)){if(d.length===1){d[0].x=y[0],d[0].y=y[1];return}var P={},F={};d.forEach(function(k,rt){Fn(k.x)||(k.x=Math.random()*u.width),Fn(k.y)||(k.y=Math.random()*u.height),P[k.id]=k,F[k.id]=rt}),u.nodeMap=P,u.nodeIdxMap=F,u.nodeStrength=Ch(u.nodeStrength,1),u.edgeStrength=Ch(u.edgeStrength,1),u.run(r,o)}}},{key:"run",value:function(r,o){return Jv(this,void 0,void 0,oa.a.mark(function u(){var d=this,y,P,F,k,rt,ut,pt,Et,Lt,Gt,Rt,Xt,Zt,_t,ie,ce,be,Pe,Se,Ue,Ye,Ur,Wr,zr,Mn;return oa.a.wrap(function(on){for(;;)switch(on.prev=on.next){case 0:for(y=this,P=y.nodes,F=y.edges,k=y.maxIteration,!y.width&&typeof window!="undefined"&&(y.width=window.innerWidth),!y.height&&typeof window!="undefined"&&(y.height=window.innerHeight),rt=P.length,y.linkDistance=Ch(y.linkDistance),y.edgeStrength=Ch(y.edgeStrength),ut=bO(P,F,y.linkDistance,y.edgeStrength),pt=ut.maxEdgePerVetex,Et=ut.array,y.degrees=Tu(P.length,y.nodeIdxMap,F),Lt=[],Gt=[],Rt=[],Xt=[],Zt=[],y.getMass||(y.getMass=function(un){return y.degrees[y.nodeIdxMap[un.id]]||1}),_t=y.gravity,ie=y.center,P.forEach(function(un,pn){Lt.push(y.getMass(un)),Gt.push(y.nodeStrength(un)),y.degrees[pn]||(y.degrees[pn]=0);var kr=[ie[0],ie[1],_t];if(y.getCenter){var bn=y.getCenter(un,y.degrees[pn]);bn&&Fn(bn[0])&&Fn(bn[1])&&Fn(bn[2])&&(kr=bn)}Rt.push(kr[0]),Xt.push(kr[1]),Zt.push(kr[2])}),ce=qy([Lt,y.degrees,Gt]),be=qy([Rt,Xt,Zt]),Pe=y.workerEnabled,Pe?Se=vv.create({canvas:r,engineOptions:{supportCompute:!0}}):Se=vv.create({engineOptions:{supportCompute:!0}}),Ue=y.onLayoutEnd,Ye=[],Et.forEach(function(un){Ye.push(un)}),Ur=0;Ur<4;Ur++)Ye.push(0);return Wr=Se.createKernel(SO).setDispatch([rt,1,1]).setBinding({u_Data:Et,u_damping:y.damping,u_maxSpeed:y.maxSpeed,u_minMovement:y.minMovement,u_coulombDisScale:y.coulombDisScale,u_factor:y.factor,u_NodeAttributeArray1:ce,u_NodeAttributeArray2:be,MAX_EDGE_PER_VERTEX:pt,VERTEX_COUNT:rt,u_AveMovement:Ye,u_interval:y.interval}),zr=Se.createKernel(CO).setDispatch([1,1,1]).setBinding({u_Data:Et,VERTEX_COUNT:rt,u_AveMovement:[0,0,0,0]}),Mn=function(){return Jv(d,void 0,void 0,oa.a.mark(function pn(){var kr,bn,Vn;return oa.a.wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:kr=0;case 1:if(!(kr<k)){vn.next=12;break}return vn.next=4,Wr.execute();case 4:return zr.setBinding({u_Data:Wr}),vn.next=7,zr.execute();case 7:bn=Math.max(.02,y.interval-kr*.002),Wr.setBinding({u_interval:bn,u_AveMovement:zr});case 9:kr++,vn.next=1;break;case 12:return vn.next=14,Wr.getOutput();case 14:Vn=vn.sent,r?o.postMessage({type:Nr.GPUEND,vertexEdgeData:Vn}):P.forEach(function(sa,va){var Ua=Vn[4*va],Ar=Vn[4*va+1];sa.x=Ua,sa.y=Ar}),Ue&&Ue();case 17:case"end":return vn.stop()}},pn)}))},on.next=33,Mn();case 33:case"end":return on.stop()}},u,this)}))}},{key:"getType",value:function(){return"gForce-gpu"}}]),t}(Io),AO=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.center=[0,0],r.maxIteration=100,r.gravity=10,r.comboGravity=10,r.linkDistance=10,r.alpha=1,r.alphaMin=.001,r.alphaDecay=1-Math.pow(r.alphaMin,1/300),r.alphaTarget=0,r.velocityDecay=.6,r.edgeStrength=.6,r.nodeStrength=30,r.preventOverlap=!1,r.preventNodeOverlap=!1,r.preventComboOverlap=!1,r.collideStrength=void 0,r.nodeCollideStrength=.5,r.comboCollideStrength=.5,r.comboSpacing=20,r.comboPadding=10,r.optimizeRangeFactor=1,r.onTick=function(){},r.onLayoutEnd=function(){},r.depthAttractiveForceScale=1,r.depthRepulsiveForceScale=2,r.nodes=[],r.edges=[],r.combos=[],r.comboTrees=[],r.width=300,r.height=300,r.bias=[],r.nodeMap={},r.oriComboMap={},r.indexMap={},r.comboMap={},r.previousLayouted=!1,r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=r.center;if(r.comboTree={id:"comboTreeRoot",depth:-1,children:r.comboTrees},!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(o.length===1){o[0].x=u[0],o[0].y=u[1],r.onLayoutEnd&&r.onLayoutEnd();return}r.initVals(),r.run(),r.onLayoutEnd&&r.onLayoutEnd()}},{key:"run",value:function(){var r=this,o=r.nodes,u=r.previousLayouted?r.maxIteration/5:r.maxIteration;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var d=r.center,y=r.velocityDecay,P=r.comboMap;r.previousLayouted||r.initPos(P);for(var F=function(Et){var Lt=[];o.forEach(function(Gt,Rt){Lt[Rt]={x:0,y:0}}),r.applyCalculate(Lt),r.applyComboCenterForce(Lt),o.forEach(function(Gt,Rt){!Fn(Gt.x)||!Fn(Gt.y)||(Gt.x+=Lt[Rt].x*y,Gt.y+=Lt[Rt].y*y)}),r.alpha+=(r.alphaTarget-r.alpha)*r.alphaDecay,r.onTick()},k=0;k<u;k++)F(k);var rt=[0,0];o.forEach(function(pt){!Fn(pt.x)||!Fn(pt.y)||(rt[0]+=pt.x,rt[1]+=pt.y)}),rt[0]/=o.length,rt[1]/=o.length;var ut=[d[0]-rt[0],d[1]-rt[1]];o.forEach(function(pt,Et){!Fn(pt.x)||!Fn(pt.y)||(pt.x+=ut[0],pt.y+=ut[1])}),r.combos.forEach(function(pt){var Et=P[pt.id];Et&&Et.empty&&(pt.x=Et.cx||pt.x,pt.y=Et.cy||pt.y)}),r.previousLayouted=!0}},{key:"initVals",value:function(){var r=this,o=r.edges,u=r.nodes,d=r.combos,y={},P={},F={};u.forEach(function(on,un){P[on.id]=on,F[on.id]=un}),r.nodeMap=P,r.indexMap=F;var k={};d.forEach(function(on){k[on.id]=on}),r.oriComboMap=k,r.comboMap=r.getComboMap();var rt=r.preventOverlap;r.preventComboOverlap=r.preventComboOverlap||rt,r.preventNodeOverlap=r.preventNodeOverlap||rt;var ut=r.collideStrength;ut&&(r.comboCollideStrength=ut,r.nodeCollideStrength=ut),r.comboCollideStrength=r.comboCollideStrength?r.comboCollideStrength:0,r.nodeCollideStrength=r.nodeCollideStrength?r.nodeCollideStrength:0;for(var pt=0;pt<o.length;++pt)y[o[pt].source]?y[o[pt].source]++:y[o[pt].source]=1,y[o[pt].target]?y[o[pt].target]++:y[o[pt].target]=1;for(var Et=[],Lt=0;Lt<o.length;++Lt)Et[Lt]=y[o[Lt].source]/(y[o[Lt].source]+y[o[Lt].target]);this.bias=Et;var Gt=r.nodeSize,Rt=r.nodeSpacing,Xt,Zt;if(Fn(Rt)?Zt=function(){return Rt}:os(Rt)?Zt=Rt:Zt=function(){return 0},this.nodeSpacing=Zt,!Gt)Xt=function(un){if(un.size){if(ho(un.size)){var pn=un.size[0]>un.size[1]?un.size[0]:un.size[1];return pn/2}return un.size/2}return 10};else if(os(Gt))Xt=function(un){return Gt(un)};else if(ho(Gt)){var _t=Gt[0]>Gt[1]?Gt[0]:Gt[1],ie=_t/2;Xt=function(un){return ie}}else{var ce=Gt/2;Xt=function(un){return ce}}this.nodeSize=Xt;var be=r.comboSpacing,Pe;Fn(be)?Pe=function(){return be}:os(be)?Pe=be:Pe=function(){return 0},this.comboSpacing=Pe;var Se=r.comboPadding,Ue;Fn(Se)?Ue=function(){return Se}:ho(Se)?Ue=function(){return Math.max.apply(null,Se)}:os(Se)?Ue=Se:Ue=function(){return 0},this.comboPadding=Ue;var Ye=this.linkDistance,Ur;Ye||(Ye=10),Fn(Ye)?Ur=function(un){return Ye}:Ur=Ye,this.linkDistance=Ur;var Wr=this.edgeStrength,zr;Wr||(Wr=1),Fn(Wr)?zr=function(un){return Wr}:zr=Wr,this.edgeStrength=zr;var Mn=this.nodeStrength,xn;Mn||(Mn=30),Fn(Mn)?xn=function(un){return Mn}:xn=Mn,this.nodeStrength=xn}},{key:"initPos",value:function(r){var o=this,u=o.nodes;u.forEach(function(d,y){var P=d.comboId,F=r[P];P&&F?(d.x=F.cx+100/(y+1),d.y=F.cy+100/(y+1)):(d.x=100/(y+1),d.y=100/(y+1))})}},{key:"getComboMap",value:function(){var r=this,o=r.nodeMap,u=r.indexMap,d=r.comboTrees,y=r.oriComboMap,P={};return(d||[]).forEach(function(F){var k=[];cl(F,function(rt){if(rt.itemType==="node"||!y[rt.id])return!0;if(P[rt.id]===void 0){var ut={id:rt.id,name:rt.id,cx:0,cy:0,count:0,depth:r.oriComboMap[rt.id].depth,children:[]};P[rt.id]=ut}var pt=rt.children;pt&&pt.forEach(function(Zt){if(!P[Zt.id]&&!o[Zt.id])return!0;k.push(Zt)});var Et=P[rt.id];if(Et.cx=0,Et.cy=0,k.length===0){Et.empty=!0;var Lt=y[rt.id],Gt=Object.keys(o).length,Rt="".concat(rt.id,"-visual-child-").concat(Gt),Xt={id:Rt,x:Lt.x,y:Lt.y,depth:Et.depth+1,itemType:"node"};r.nodes.push(Xt),o[Rt]=Xt,u[Rt]=Gt,Et.cx=Lt.x,Et.cy=Lt.y,k.push(Xt)}return k.forEach(function(Zt){if(Et.count++,Zt.itemType!=="node"){var _t=P[Zt.id];Fn(_t.cx)&&(Et.cx+=_t.cx),Fn(_t.cy)&&(Et.cy+=_t.cy);return}var ie=o[Zt.id];!ie||(Fn(ie.x)&&(Et.cx+=ie.x),Fn(ie.y)&&(Et.cy+=ie.y))}),Et.cx/=Et.count,Et.cy/=Et.count,Et.children=k,!0})}),P}},{key:"applyComboCenterForce",value:function(r){var o=this,u=o.gravity,d=o.comboGravity||u,y=this.alpha,P=o.comboTrees,F=o.indexMap,k=o.nodeMap,rt=o.comboMap;(P||[]).forEach(function(ut){cl(ut,function(pt){if(pt.itemType==="node")return!0;var Et=rt[pt.id];if(!Et)return!0;var Lt=rt[pt.id],Gt=(Lt.depth+1)/10*.5,Rt=Lt.cx,Xt=Lt.cy;return Lt.cx=0,Lt.cy=0,Lt.children.forEach(function(Zt){if(Zt.itemType!=="node"){var _t=rt[Zt.id];_t&&Fn(_t.cx)&&(Lt.cx+=_t.cx),_t&&Fn(_t.cy)&&(Lt.cy+=_t.cy);return}var ie=k[Zt.id],ce=ie.x-Rt||.005,be=ie.y-Xt||.005,Pe=Math.sqrt(ce*ce+be*be),Se=F[ie.id],Ue=d*y/Pe*Gt;r[Se].x-=ce*Ue,r[Se].y-=be*Ue,Fn(ie.x)&&(Lt.cx+=ie.x),Fn(ie.y)&&(Lt.cy+=ie.y)}),Lt.cx/=Lt.count,Lt.cy/=Lt.count,!0})})}},{key:"applyCalculate",value:function(r){var o=this,u=o.comboMap,d=o.nodes,y={};d.forEach(function(F,k){d.forEach(function(rt,ut){if(!(k<ut)){var pt=F.x-rt.x||.005,Et=F.y-rt.y||.005,Lt=pt*pt+Et*Et,Gt=Math.sqrt(Lt);Lt<1&&(Lt=Gt),y["".concat(F.id,"-").concat(rt.id)]={vx:pt,vy:Et,vl2:Lt,vl:Gt},y["".concat(rt.id,"-").concat(F.id)]={vl2:Lt,vl:Gt,vx:-pt,vy:-Et}}})}),o.updateComboSizes(u),o.calRepulsive(r,y),o.calAttractive(r,y);var P=o.preventComboOverlap;P&&o.comboNonOverlapping(r,u)}},{key:"updateComboSizes",value:function(r){var o=this,u=o.comboTrees,d=o.nodeMap,y=o.nodeSize,P=o.comboSpacing,F=o.comboPadding;(u||[]).forEach(function(k){var rt=[];cl(k,function(ut){if(ut.itemType==="node")return!0;var pt=r[ut.id];if(!pt)return!1;var Et=ut.children;Et&&Et.forEach(function(Rt){!r[Rt.id]&&!d[Rt.id]||rt.push(Rt)}),pt.minX=Infinity,pt.minY=Infinity,pt.maxX=-Infinity,pt.maxY=-Infinity,rt.forEach(function(Rt){if(Rt.itemType!=="node")return!0;var Xt=d[Rt.id];if(!Xt)return!0;var Zt=y(Xt),_t=Xt.x-Zt,ie=Xt.y-Zt,ce=Xt.x+Zt,be=Xt.y+Zt;pt.minX>_t&&(pt.minX=_t),pt.minY>ie&&(pt.minY=ie),pt.maxX<ce&&(pt.maxX=ce),pt.maxY<be&&(pt.maxY=be)});var Lt=o.oriComboMap[ut.id].size||10;ho(Lt)&&(Lt=Lt[0]);var Gt=Math.max(pt.maxX-pt.minX,pt.maxY-pt.minY,Lt);return pt.r=Gt/2+P(pt)/2+F(pt),!0})})}},{key:"comboNonOverlapping",value:function(r,o){var u=this,d=u.comboTree,y=u.comboCollideStrength,P=u.indexMap,F=u.nodeMap;cl(d,function(k){if(!o[k.id]&&!F[k.id]&&k.id!=="comboTreeRoot")return!1;var rt=k.children;return rt&&rt.length>1&&rt.forEach(function(ut,pt){if(ut.itemType==="node")return!1;var Et=o[ut.id];!Et||rt.forEach(function(Lt,Gt){if(pt<=Gt||Lt.itemType==="node")return!1;var Rt=o[Lt.id];if(!Rt)return!1;var Xt=Et.cx-Rt.cx||.005,Zt=Et.cy-Rt.cy||.005,_t=Xt*Xt+Zt*Zt,ie=Et.r,ce=Rt.r,be=ie+ce,Pe=ce*ce,Se=ie*ie;if(_t<be*be){var Ue=ut.children;if(!Ue||Ue.length===0)return!1;var Ye=Lt.children;if(!Ye||Ye.length===0)return!1;var Ur=Math.sqrt(_t),Wr=(be-Ur)/Ur*y,zr=Xt*Wr,Mn=Zt*Wr,xn=Pe/(Se+Pe),on=1-xn;Ue.forEach(function(un){if(un.itemType!=="node")return!1;if(!!F[un.id]){var pn=P[un.id];Ye.forEach(function(kr){if(kr.itemType!=="node"||!F[kr.id])return!1;var bn=P[kr.id];r[pn].x+=zr*xn,r[pn].y+=Mn*xn,r[bn].x-=zr*on,r[bn].y-=Mn*on})}})}})}),!0})}},{key:"calRepulsive",value:function(r,o){var u=this,d=u.nodes,y=u.width*u.optimizeRangeFactor,P=u.nodeStrength,F=u.alpha,k=u.nodeCollideStrength,rt=u.preventNodeOverlap,ut=u.nodeSize,pt=u.nodeSpacing,Et=u.depthRepulsiveForceScale,Lt=u.center;d.forEach(function(Gt,Rt){if(!(!Gt.x||!Gt.y)){if(Lt){var Xt=u.gravity,Zt=Gt.x-Lt[0]||.005,_t=Gt.y-Lt[1]||.005,ie=Math.sqrt(Zt*Zt+_t*_t);r[Rt].x-=Zt*Xt*F/ie,r[Rt].y-=_t*Xt*F/ie}d.forEach(function(ce,be){if(Rt!==be&&!(!ce.x||!ce.y)){var Pe=o["".concat(Gt.id,"-").concat(ce.id)],Se=Pe.vl2,Ue=Pe.vl;if(!(Ue>y)){var Ye=o["".concat(Gt.id,"-").concat(ce.id)],Ur=Ye.vx,Wr=Ye.vy,zr=Math.log(Math.abs(ce.depth-Gt.depth)/10)+1||1;zr=zr<1?1:zr,ce.comboId!==Gt.comboId&&(zr+=1);var Mn=zr?Math.pow(Et,zr):1,xn=P(ce)*F/Se*Mn;if(r[Rt].x+=Ur*xn,r[Rt].y+=Wr*xn,Rt<be&&rt){var on=ut(Gt)+pt(Gt),un=ut(ce)+pt(ce),pn=on+un;if(Se<pn*pn){var kr=(pn-Ue)/Ue*k,bn=un*un,Vn=bn/(on*on+bn),Kr=Ur*kr,vn=Wr*kr;r[Rt].x+=Kr*Vn,r[Rt].y+=vn*Vn,Vn=1-Vn,r[be].x-=Kr*Vn,r[be].y-=vn*Vn}}}}})}})}},{key:"calAttractive",value:function(r,o){var u=this,d=u.edges,y=u.linkDistance,P=u.alpha,F=u.edgeStrength,k=u.bias,rt=u.depthAttractiveForceScale;d.forEach(function(ut,pt){if(!(!ut.source||!ut.target||ut.source===ut.target)){var Et=u.indexMap[ut.source],Lt=u.indexMap[ut.target],Gt=u.nodeMap[ut.source],Rt=u.nodeMap[ut.target];if(!(!Gt||!Rt)){var Xt=Math.log(Math.abs(Gt.depth-Rt.depth)/10);Gt.comboId===Rt.comboId&&(Xt=Xt/2);var Zt=Xt?Math.pow(rt,Xt):1;if(Gt.comboId!==Rt.comboId&&Zt===1?Zt=rt/2:Gt.comboId===Rt.comboId&&(Zt=2),!(!Fn(Rt.x)||!Fn(Gt.x)||!Fn(Rt.y)||!Fn(Gt.y))){var _t=o["".concat(ut.target,"-").concat(ut.source)],ie=_t.vl,ce=_t.vx,be=_t.vy,Pe=(ie-y(ut))/ie*P*F(ut)*Zt,Se=ce*Pe,Ue=be*Pe,Ye=k[pt];r[Lt].x-=Se*Ye,r[Lt].y-=Ue*Ye,r[Et].x+=Se*(1-Ye),r[Et].y+=Ue*(1-Ye)}}}})}},{key:"getType",value:function(){return"comboForce"}}]),t}(Io),IO=function(){function l(n){Object(di.a)(this,l),this.id=n.id||0,this.rx=n.rx,this.ry=n.ry,this.fx=0,this.fy=0,this.mass=n.mass,this.degree=n.degree,this.g=n.g||0}return Object(vi.a)(l,[{key:"distanceTo",value:function(t){var e=this.rx-t.rx,r=this.ry-t.ry;return Math.hypot(e,r)}},{key:"setPos",value:function(t,e){this.rx=t,this.ry=e}},{key:"resetForce",value:function(){this.fx=0,this.fy=0}},{key:"addForce",value:function(t){var e=t.rx-this.rx,r=t.ry-this.ry,o=Math.hypot(e,r);o=o<1e-4?1e-4:o;var u=this.g*(this.degree+1)*(t.degree+1)/o;this.fx+=u*e/o,this.fy+=u*r/o}},{key:"in",value:function(t){return t.contains(this.rx,this.ry)}},{key:"add",value:function(t){var e=this.mass+t.mass,r=(this.rx*this.mass+t.rx*t.mass)/e,o=(this.ry*this.mass+t.ry*t.mass)/e,u=this.degree+t.degree,d={rx:r,ry:o,mass:e,degree:u};return new l(d)}}]),l}(),PO=function(){function l(n){Object(di.a)(this,l),this.xmid=n.xmid,this.ymid=n.ymid,this.length=n.length,this.massCenter=n.massCenter||[0,0],this.mass=n.mass||1}return Object(vi.a)(l,[{key:"getLength",value:function(){return this.length}},{key:"contains",value:function(t,e){var r=this.length/2;return t<=this.xmid+r&&t>=this.xmid-r&&e<=this.ymid+r&&e>=this.ymid-r}},{key:"NW",value:function(){var t=this.xmid-this.length/4,e=this.ymid+this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},u=new l(o);return u}},{key:"NE",value:function(){var t=this.xmid+this.length/4,e=this.ymid+this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},u=new l(o);return u}},{key:"SW",value:function(){var t=this.xmid-this.length/4,e=this.ymid-this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},u=new l(o);return u}},{key:"SE",value:function(){var t=this.xmid+this.length/4,e=this.ymid-this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},u=new l(o);return u}}]),l}(),DO=function(){function l(n){Object(di.a)(this,l),this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,n!=null&&(this.quad=n)}return Object(vi.a)(l,[{key:"insert",value:function(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new l(this.quad.NW()),this.NE=new l(this.quad.NE()),this.SW=new l(this.quad.SW()),this.SE=new l(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}},{key:"_putBody",value:function(t){!this.quad||(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}},{key:"_isExternal",value:function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}},{key:"updateForce",value:function(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{var e=this.quad?this.quad.getLength():0,r=this.body.distanceTo(t);e/r<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}]),l}(),jO=function(l){Object(oo.a)(t,l);var n=Object(fo.a)(t);function t(e){var r;return Object(di.a)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.kr=5,r.kg=1,r.mode="normal",r.preventOverlap=!1,r.dissuadeHubs=!1,r.barnesHut=!1,r.maxIteration=0,r.ks=.1,r.ksmax=10,r.tao=.1,r.onLayoutEnd=function(){},r.prune=!1,r.updateCfg(e),r}return Object(vi.a)(t,[{key:"getDefaultCfg",value:function(){return{}}},{key:"execute",value:function(){var r=this,o=r.nodes,u=r.maxIteration,d=r.onLayoutEnd,y=r.prune;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);for(var P=[],F=o.length,k=0;k<F;k+=1){var rt=o[k],ut=10,pt=10;Fn(rt.size)&&(ut=rt.size,pt=rt.size),ho(rt.size)&&(isNaN(rt.size[0])||(ut=rt.size[0]),isNaN(rt.size[1])||(pt=rt.size[1])),r.getWidth&&!isNaN(r.getWidth(rt))&&(pt=r.getWidth(rt)),r.getHeight&&!isNaN(r.getHeight(rt))&&(ut=r.getHeight(rt));var Et=Math.max(ut,pt);P.push(Et)}!r.barnesHut&&F>250&&(r.barnesHut=!0),!r.prune&&F>100&&(r.prune=!0),this.maxIteration===0&&!r.prune?(u=250,F<=200&&F>100?u=1e3:F>200&&(u=1200),this.maxIteration=u):this.maxIteration===0&&y&&(u=100,F<=200&&F>100?u=500:F>200&&(u=950),this.maxIteration=u),r.kr||(r.kr=50,F>100&&F<=500?r.kr=20:F>500&&(r.kr=1)),r.kg||(r.kg=20,F>100&&F<=500?r.kg=10:F>500&&(r.kg=1)),this.nodes=r.updateNodesByForces(P),d()}},{key:"updateNodesByForces",value:function(r){for(var o=this,u=o.nodes,d=o.edges,y=o.maxIteration,P=d.filter(function(Pe){return Pe.source!==Pe.target}),F=u.length,k=P.length,rt=[],ut={},pt={},Et=[],Lt=0;Lt<F;Lt+=1)ut[u[Lt].id]=Lt,rt[Lt]=0,(u[Lt].x===void 0||isNaN(u[Lt].x))&&(u[Lt].x=Math.random()*1e3),(u[Lt].y===void 0||isNaN(u[Lt].y))&&(u[Lt].y=Math.random()*1e3),Et.push({x:u[Lt].x,y:u[Lt].y});for(var Gt=0;Gt<k;Gt+=1){for(var Rt=void 0,Xt=void 0,Zt=0,_t=0,ie=0;ie<F;ie+=1)u[ie].id===P[Gt].source?(Rt=u[ie],Zt=ie):u[ie].id===P[Gt].target&&(Xt=u[ie],_t=ie),pt[Gt]={sourceIdx:Zt,targetIdx:_t};Rt&&(rt[ut[Rt.id]]+=1),Xt&&(rt[ut[Xt.id]]+=1)}var ce=y;if(u=this.iterate(ce,ut,pt,k,rt,r),o.prune){for(var be=0;be<k;be+=1)rt[pt[be].sourceIdx]<=1?(u[pt[be].sourceIdx].x=u[pt[be].targetIdx].x,u[pt[be].sourceIdx].y=u[pt[be].targetIdx].y):rt[pt[be].targetIdx]<=1&&(u[pt[be].targetIdx].x=u[pt[be].sourceIdx].x,u[pt[be].targetIdx].y=u[pt[be].sourceIdx].y);o.prune=!1,o.barnesHut=!1,ce=100,u=this.iterate(ce,ut,pt,k,rt,r)}return u}},{key:"iterate",value:function(r,o,u,d,y,P){for(var F=this,k=F.nodes,rt=F.kr,ut=F.preventOverlap,pt=F.barnesHut,Et=k.length,Lt=0,Gt=100,Rt=r,Xt=50,Zt=[],_t=[],ie=[],ce=0;ce<Et;ce+=1)if(Zt[2*ce]=0,Zt[2*ce+1]=0,pt){var be={id:ce,rx:k[ce].x,ry:k[ce].y,mass:1,g:rt,degree:y[ce]};ie[ce]=new IO(be)}for(;Rt>0;){for(var Pe=0;Pe<Et;Pe+=1)_t[2*Pe]=Zt[2*Pe],_t[2*Pe+1]=Zt[2*Pe+1],Zt[2*Pe]=0,Zt[2*Pe+1]=0;Zt=this.getAttrForces(Rt,Xt,d,o,u,y,P,Zt),pt&&(ut&&Rt>Xt||!ut)?Zt=this.getOptRepGraForces(Zt,ie,y):Zt=this.getRepGraForces(Rt,Xt,Zt,Gt,P,y);var Se=this.updatePos(Zt,_t,Lt,y);k=Se.nodes,Lt=Se.sg,Rt--,F.tick&&F.tick()}return k}},{key:"getAttrForces",value:function(r,o,u,d,y,P,F,k){for(var rt=this,ut=rt.nodes,pt=rt.preventOverlap,Et=rt.dissuadeHubs,Lt=rt.mode,Gt=rt.prune,Rt=0;Rt<u;Rt+=1){var Xt=ut[y[Rt].sourceIdx],Zt=y[Rt].sourceIdx,_t=ut[y[Rt].targetIdx],ie=y[Rt].targetIdx;if(!(Gt&&(P[Zt]<=1||P[ie]<=1))){var ce=[_t.x-Xt.x,_t.y-Xt.y],be=Math.hypot(ce[0],ce[1]);be=be<1e-4?1e-4:be,ce[0]=ce[0]/be,ce[1]=ce[1]/be,pt&&r<o&&(be=be-F[Zt]-F[ie]);var Pe=be,Se=Pe;Lt==="linlog"&&(Pe=Math.log(1+be),Se=Pe),Et&&(Pe=be/P[Zt],Se=be/P[ie]),pt&&r<o&&be<=0?(Pe=0,Se=0):pt&&r<o&&be>0&&(Pe=be,Se=be),k[2*d[Xt.id]]+=Pe*ce[0],k[2*d[_t.id]]-=Se*ce[0],k[2*d[Xt.id]+1]+=Pe*ce[1],k[2*d[_t.id]+1]-=Se*ce[1]}}return k}},{key:"getRepGraForces",value:function(r,o,u,d,y,P){for(var F=this,k=F.nodes,rt=F.preventOverlap,ut=F.kr,pt=F.kg,Et=F.center,Lt=F.prune,Gt=k.length,Rt=0;Rt<Gt;Rt+=1){for(var Xt=Rt+1;Xt<Gt;Xt+=1)if(!(Lt&&(P[Rt]<=1||P[Xt]<=1))){var Zt=[k[Xt].x-k[Rt].x,k[Xt].y-k[Rt].y],_t=Math.hypot(Zt[0],Zt[1]);_t=_t<1e-4?1e-4:_t,Zt[0]=Zt[0]/_t,Zt[1]=Zt[1]/_t,rt&&r<o&&(_t=_t-y[Rt]-y[Xt]);var ie=ut*(P[Rt]+1)*(P[Xt]+1)/_t;rt&&r<o&&_t<0?ie=d*(P[Rt]+1)*(P[Xt]+1):rt&&r<o&&_t===0?ie=0:rt&&r<o&&_t>0&&(ie=ut*(P[Rt]+1)*(P[Xt]+1)/_t),u[2*Rt]-=ie*Zt[0],u[2*Xt]+=ie*Zt[0],u[2*Rt+1]-=ie*Zt[1],u[2*Xt+1]+=ie*Zt[1]}var ce=[k[Rt].x-Et[0],k[Rt].y-Et[1]],be=Math.hypot(ce[0],ce[1]);ce[0]=ce[0]/be,ce[1]=ce[1]/be;var Pe=pt*(P[Rt]+1);u[2*Rt]-=Pe*ce[0],u[2*Rt+1]-=Pe*ce[1]}return u}},{key:"getOptRepGraForces",value:function(r,o,u){for(var d=this,y=d.nodes,P=d.kg,F=d.center,k=d.prune,rt=y.length,ut=9e10,pt=-9e10,Et=9e10,Lt=-9e10,Gt=0;Gt<rt;Gt+=1)k&&u[Gt]<=1||(o[Gt].setPos(y[Gt].x,y[Gt].y),y[Gt].x>=pt&&(pt=y[Gt].x),y[Gt].x<=ut&&(ut=y[Gt].x),y[Gt].y>=Lt&&(Lt=y[Gt].y),y[Gt].y<=Et&&(Et=y[Gt].y));for(var Rt=Math.max(pt-ut,Lt-Et),Xt={xmid:(pt+ut)/2,ymid:(Lt+Et)/2,length:Rt,massCenter:F,mass:rt},Zt=new PO(Xt),_t=new DO(Zt),ie=0;ie<rt;ie+=1)k&&u[ie]<=1||o[ie].in(Zt)&&_t.insert(o[ie]);for(var ce=0;ce<rt;ce+=1)if(!(k&&u[ce]<=1)){o[ce].resetForce(),_t.updateForce(o[ce]),r[2*ce]-=o[ce].fx,r[2*ce+1]-=o[ce].fy;var be=[y[ce].x-F[0],y[ce].y-F[1]],Pe=Math.hypot(be[0],be[1]);Pe=Pe<1e-4?1e-4:Pe,be[0]=be[0]/Pe,be[1]=be[1]/Pe;var Se=P*(u[ce]+1);r[2*ce]-=Se*be[0],r[2*ce+1]-=Se*be[1]}return r}},{key:"updatePos",value:function(r,o,u,d){for(var y=this,P=y.nodes,F=y.ks,k=y.tao,rt=y.prune,ut=y.ksmax,pt=P.length,Et=[],Lt=[],Gt=0,Rt=0,Xt=0;Xt<pt;Xt+=1)if(!(rt&&d[Xt]<=1)){var Zt=[r[2*Xt]-o[2*Xt],r[2*Xt+1]-o[2*Xt+1]],_t=Math.hypot(Zt[0],Zt[1]),ie=[r[2*Xt]+o[2*Xt],r[2*Xt+1]+o[2*Xt+1]],ce=Math.hypot(ie[0],ie[1]);Et[Xt]=_t,Lt[Xt]=ce/2,Gt+=(d[Xt]+1)*Et[Xt],Rt+=(d[Xt]+1)*Lt[Xt]}var be=u;u=k*Rt/Gt,be!==0&&(u=u>1.5*be?1.5*be:u);for(var Pe=0;Pe<pt;Pe+=1)if(!(rt&&d[Pe]<=1)){var Se=F*u/(1+u*Math.sqrt(Et[Pe])),Ue=Math.hypot(r[2*Pe],r[2*Pe+1]);Ue=Ue<1e-4?1e-4:Ue;var Ye=ut/Ue;Se=Se>Ye?Ye:Se;var Ur=Se*r[2*Pe],Wr=Se*r[2*Pe+1];P[Pe].x+=Ur,P[Pe].y+=Wr}return{nodes:P,sg:u}}}]),t}(Io),CM=function(){function l(n){Object(di.a)(this,l);var t=fl(n.type);this.layoutInstance=new t(n)}return Object(vi.a)(l,[{key:"layout",value:function(t){return this.layoutInstance.layout(t)}},{key:"updateCfg",value:function(t){this.layoutInstance.updateCfg(t)}},{key:"init",value:function(t){this.layoutInstance.init(t)}},{key:"execute",value:function(){this.layoutInstance.execute()}},{key:"getDefaultCfg",value:function(){return this.layoutInstance.getDefaultCfg()}},{key:"destroy",value:function(){return this.layoutInstance.destroy()}}]),l}(),_v=new Proxy({},{get:function(n,t){return fl(t)},set:function(n,t,e){return to(t,e),!0}});to("grid",mf),to("random",hl),to("force",Gr),to("circular",wr),to("dagre",Pn),to("radial",Iv),to("concentric",kd),to("mds",Pv),to("fruchterman",jv),to("fruchterman-gpu",MO),to("gForce",pc),to("gForce-gpu",TO),to("comboForce",AO),to("forceAtlas2",jO);var LO=function(n,t){t.isCustomLayout=!0,to(n,t)},RO=function(){function l(n,t){var e=n.toString(),r=new Blob(["importScripts('"+t+"');("+e+")()"],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}return l}(),wO=RO,BO=function(n){n===void 0&&(n="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var r={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function o(d){var y=d.data.type;return y===r.RUN||y===r.GPURUN}function u(d){var y=this,P=d.data.type;switch(P){case r.RUN:{var F=d.data,k=F.nodes,rt=F.edges,ut=F.layoutCfg,pt=ut===void 0?{}:ut,Et=pt.type,Lt=layout.getLayoutByName(Et);if(!Lt){this.postMessage({type:r.ERROR,message:"layout "+Et+" not found"});break}var Gt;pt.onLayoutEnd=function(){y.postMessage({type:r.END,nodes:k}),Gt==null||Gt.destroy()},Gt=new Lt(pt),Gt.init({nodes:k,edges:rt}),Gt.execute();break}case r.GPURUN:{var Rt=d.data,Xt=Rt.nodes,rt=Rt.edges,Zt=Rt.layoutCfg,pt=Zt===void 0?{}:Zt,_t=Rt.canvas,Et=pt.type,Lt=layout.getLayoutByName(Et);if(!Lt){this.postMessage({type:r.ERROR,message:"layout "+Et+" not found"});break}if(Et.split("-")[1]!=="gpu"){this.postMessage({type:r.ERROR,message:"layout "+Et+" does not support GPU"});break}var ie=new Lt(pt);ie.init({nodes:Xt,edges:rt}),ie.executeWithWorker(_t,this);break}default:break}}onmessage=function(y){o(y)&&u(y)}}var e=new wO(t,n);return e},Th={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},tm=function l(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var n=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(n.getContext("webgl")||n.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var e=t.parent!==void 0?t.parent:document.body,r=t.id!==void 0?t.id:"oldie",o=l().getWebGLErrorMessage();o.id=r,e.appendChild(o)}}};function pv(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pv=function(t){return typeof t}:pv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(l)}var em=function(n){return setTimeout(n,16)},rm=function(n){return clearTimeout(n)},yv={requestAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||em;return t(n)},cancelAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||rm;return t(n)}},nm=["fruchterman","gForce"],NO=["force","grid","circular"],FO=function(l){Object(ge.c)(n,l);function n(t){var e=l.call(this,t)||this;return e.graph=t,e.layoutCfg=t.get("layout")||{},e.layoutType=e.getLayoutType(),e.worker=null,e.workerData={},e.initLayout(),e}return n.prototype.initLayout=function(){},n.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=BO(this.layoutCfg.workerScriptURL),this.worker)},n.prototype.stopWorker=function(){var t=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,t.requestId&&(yv.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(yv.cancelAnimationFrame(t.requestId2),t.requestId2=null))},n.prototype.execLayoutMethod=function(t,e){var r=this;return new Promise(function(o,u){var d=r.graph,y=t.type;t.onLayoutEnd=function(){d.emit("aftersublayout",{type:y}),o()},y&&r.isGPU&&(r.hasGPUVersion(y)?y=y+"-gpu":console.warn("The '"+y+"' layout does not support GPU calculation for now, it will run in CPU."));var P=y==="force"||y==="g6force"||y==="gForce";if(P){var F=t.onTick,k=function(){F&&F(),d.refreshPositions()};t.tick=k}else t.type==="comboForce"&&(t.comboTrees=d.get("comboTrees"));var rt=!1,ut;try{ut=new _v[y](t)}catch(Lt){console.warn("The layout method: '"+y+"' does not exist! Please specify it first."),u()}if(rt=ut.enableTick,rt){var pt=t.onTick,k=function(){pt&&pt(),d.refreshPositions()};ut.tick=k}var Et=r.filterLayoutData(r.data,t);zO(Et,e),ut.init(Et),d.emit("beforesublayout",{type:y}),ut.execute(),ut.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),r.layoutMethods[e]=ut})},n.prototype.updateLayoutMethod=function(t,e){var r=this;return new Promise(function(o,u){var d=r.graph,y=e==null?void 0:e.type;e.onLayoutEnd=function(){d.emit("aftersublayout",{type:y}),o()};var P=r.filterLayoutData(r.data,e);t.init(P),t.updateCfg(e),d.emit("beforesublayout",{type:y}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()})},n.prototype.layout=function(t){var e=this,r=this.graph;this.data=this.setDataFromGraph();var o=this.data,u=o.nodes,d=o.hiddenNodes;if(!u)return!1;var y=r.get("width"),P=r.get("height"),F={};Object.assign(F,{width:y,height:P,center:[y/2,P/2]},this.layoutCfg),this.layoutCfg=F,this.destoryLayoutMethods(),r.emit("beforelayout"),this.initPositions(F.center,u),this.initPositions(F.center,d);var k=F.type;k&&k.split("-")[1]==="gpu"&&(k=k.split("-")[0],F.gpuEnabled=!0);var rt=!1;F.gpuEnabled&&(rt=!0,tm().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),rt=!1)),this.isGPU=rt;var ut=F.onLayoutEnd,pt=F.layoutEndFormatted,Et=F.adjust;if(pt||(F.layoutEndFormatted=!0,F.onAllLayoutEnd=function(){return Object(ge.b)(e,void 0,void 0,function(){return Object(ge.d)(this,function(Gt){switch(Gt.label){case 0:return ut&&ut(),this.refreshLayout(),Et&&F.pipes?[4,this.adjustPipesBox(this.data,Et)]:[3,2];case 1:Gt.sent(),this.refreshLayout(),Gt.label=2;case 2:return r.emit("afterlayout"),[2]}})})}),this.stopWorker(),F.workerEnabled&&this.layoutWithWorker(this.data))return!0;var Lt=Promise.resolve();return F.type?Lt=Lt.then(function(){return e.execLayoutMethod(F,0)}):F.pipes&&F.pipes.forEach(function(Gt,Rt){Lt=Lt.then(function(){return e.execLayoutMethod(Gt,Rt)})}),Lt.then(function(){F.onAllLayoutEnd&&F.onAllLayoutEnd(),t&&t()}).catch(function(Gt){console.warn("graph layout failed,",Gt)}),!1},n.prototype.layoutWithWorker=function(t){var e=this,r=this,o=r.layoutCfg,u=r.graph,d=this.getWorker(),y=this.workerData;if(!d)return!1;y.requestId=null,y.requestId2=null,y.currentTick=null,y.currentTickData=null,u.emit("beforelayout");var P=Promise.resolve();if(o.type)P=P.then(function(){return e.runWebworker(d,t,o)});else if(o.pipes)for(var F=function(Et){P=P.then(function(){return e.runWebworker(d,t,Et)})},k=0,rt=o.pipes;k<rt.length;k++){var ut=rt[k];F(ut)}return P.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()}).catch(function(pt){console.error("layout failed",pt)}),!0},n.prototype.runWebworker=function(t,e,r){var o=this,u=this.isGPU,d=this.filterLayoutData(e,r),y=d.nodes,P=d.edges,F=document.createElement("canvas"),k=u&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in F,rt=UO(r,function(pt){return typeof pt!="function"});if(!k)t.postMessage({type:Th.RUN,nodes:y,edges:P,layoutCfg:rt});else{var ut=F.transferControlToOffscreen();rt.type=rt.type+"-gpu",t.postMessage({type:Th.GPURUN,nodes:y,edges:P,layoutCfg:rt,canvas:ut},[ut])}return new Promise(function(pt,Et){t.onmessage=function(Lt){o.handleWorkerMessage(pt,Et,Lt,d,r)}})},n.prototype.handleWorkerMessage=function(t,e,r,o,u){var d=this,y=d.graph,P=d.workerData,F=r.data,k=F.type,rt=function(){u.onTick&&u.onTick()};switch(k){case Th.TICK:P.currentTick=F.currentTick,P.currentTickData=F,P.requestId||(P.requestId=yv.requestAnimationFrame(function(){qv(o,F),y.refreshPositions(),rt(),F.currentTick===F.totalTicks?t():P.currentTick===F.totalTicks&&(P.requestId2=yv.requestAnimationFrame(function(){qv(o,P.currentTickData),y.refreshPositions(),P.requestId2=null,rt(),t()})),P.requestId=null}));break;case Th.END:P.currentTick==null&&(qv(o,F),t());break;case Th.GPUEND:P.currentTick==null&&(WO(o,F),t());break;case Th.ERROR:console.warn("Web-Worker layout error!",F.message),e();break;default:e();break}},n.prototype.updateLayoutCfg=function(t){var e=this,r=this,o=r.graph,u=r.layoutMethods,d=Object(p.bb)({},this.layoutCfg,t);if(this.layoutCfg=d,!(u==null?void 0:u.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(t.workerEnabled&&this.layoutWithWorker(this.data))){o.emit("beforelayout");var y=Promise.resolve();u.length===1?y=y.then(function(){return e.updateLayoutMethod(u[0],d)}):u==null||u.forEach(function(P,F){var k=d.pipes[F];y=y.then(function(){return e.updateLayoutMethod(P,k)})}),y.then(function(){d.onAllLayoutEnd&&d.onAllLayoutEnd()}).catch(function(P){console.warn("layout failed",P)})}},n.prototype.adjustPipesBox=function(t,e){var r=this;return new Promise(function(o){var u=t.nodes;(u==null?void 0:u.length)||o(),NO.includes(e)||(console.warn("The adjust type "+e+" is not supported yet, please assign it with 'force', 'grid', or 'circular'."),o());var d={center:r.layoutCfg.center,nodeSize:function(pt){return Math.max(pt.height,pt.width)},preventOverlap:!0,onLayoutEnd:function(){}},y=r.getLayoutBBox(u),P=y.groupNodes,F=y.layoutNodes,k=Object(p.e)(F);d.onLayoutEnd=function(){F==null||F.forEach(function(ut,pt){var Et,Lt,Gt,Rt=ut.x-((Et=k[pt])===null||Et===void 0?void 0:Et.x),Xt=ut.y-((Lt=k[pt])===null||Lt===void 0?void 0:Lt.y);(Gt=P[pt])===null||Gt===void 0||Gt.forEach(function(Zt){Zt.x+=Rt,Zt.y+=Xt})}),o()};var rt=new _v[e](d);rt.layout({nodes:F})})},n.prototype.hasGPUVersion=function(t){for(var e=nm.length,r=0;r<e;r++)if(nm[r]===t)return!0;return!1},n.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},n}(nf),GO=FO;function qv(l,n){for(var t=l.nodes,e=n.nodes,r=t.length,o=0;o<r;o++){var u=t[o];u.x=e[o].x,u.y=e[o].y}}function UO(l,n){var t={};return l&&pv(l)==="object"?(Object.keys(l).forEach(function(e){l.hasOwnProperty(e)&&n(l[e])&&(t[e]=l[e])}),t):l}function WO(l,n){for(var t=l.nodes,e=n.vertexEdgeData,r=t.length,o=0;o<r;o++){var u=t[o],d=e[4*o],y=e[4*o+1];u.x=d,u.y=y}}function zO(l,n){var t;if(!!((t=l==null?void 0:l.nodes)===null||t===void 0?void 0:t.length)){var e=l.nodes;e.forEach(function(r){r.layoutOrder=n})}}var am=A.transform,kO="svg",VO=function(l){Object(ge.c)(n,l);function n(t){var e=l.call(this,t)||this,r=e.get("defaultNode");return r||e.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",e.set("defaultNode",r)),e.destroyed=!1,e}return n.prototype.initLayoutController=function(){var t=new GO(this);this.set({layoutController:t})},n.prototype.initEventController=function(){var t=new rh(this);this.set({eventController:t})},n.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=t.clientWidth,r=t.clientHeight,o=this.get("width")||e,u=this.get("height")||r,d=this.get("renderer"),y;if(d===kO)y=new Os.Canvas({container:t,width:o,height:u});else{var P={container:t,width:o,height:u},F=this.get("pixelRatio");F&&(P.pixelRatio=F),y=new hs.Canvas(P)}this.set("canvas",y)},n.prototype.initPlugins=function(){var t=this;Object(p.j)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},n.prototype.downloadImageWatermark=function(t,e,r,o){return Object(ge.b)(this,void 0,void 0,function(){var u,d,y;return Object(ge.d)(this,function(P){switch(P.label){case 0:return u=t.style.backgroundImage,d=u.slice(5,u.length-2),y=new Image,y.src=d,[4,new Promise(function(F){y.onload=function(){var k=e.createPattern(y,"repeat");e.rect(0,0,r,o),e.fillStyle=k,e.fill(),F("")}})];case 1:return P.sent(),[2]}})})},n.prototype.asyncToDataUrl=function(t,e,r,o,u,d){var y=this,P=document.querySelector(".g6-graph-watermarker"),F=this.get("canvas"),k=F.getRenderer(),rt=d||F.get("el"),ut="";t||(t="image/png"),setTimeout(function(){return Object(ge.b)(y,void 0,void 0,function(){var pt,Et,Lt,Gt,Rt,Xt,Zt,_t,ie,ce;return Object(ge.d)(this,function(be){switch(be.label){case 0:return k!=="svg"?[3,1]:(pt=rt.cloneNode(!0),Et=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Lt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Et),Lt.replaceChild(pt,Lt.documentElement),Gt=new XMLSerializer().serializeToString(Lt),ut="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Gt),[3,4]);case 1:return Rt=void 0,Xt=rt.getContext("2d"),Zt=o||this.get("width"),_t=u||this.get("height"),ie=void 0,P?[4,this.downloadImageWatermark(P,Xt,Zt,_t)]:[3,3];case 2:be.sent(),be.label=3;case 3:e&&(ce=typeof window!="undefined"?window.devicePixelRatio:1,Rt=Xt.getImageData(0,0,Zt*ce,_t*ce),ie=Xt.globalCompositeOperation,Xt.globalCompositeOperation="destination-over",Xt.fillStyle=e,Xt.fillRect(0,0,Zt,_t)),ut=rt.toDataURL(t),e&&(Xt.clearRect(0,0,Zt,_t),Xt.putImageData(Rt,0,0),Xt.globalCompositeOperation=ie),be.label=4;case 4:return r&&r(ut),[2]}})})},16)},n.prototype.toDataURL=function(t,e){var r=this.get("canvas"),o=r.getRenderer(),u=r.get("el");t||(t="image/png");var d="";if(o==="svg"){var y=u.cloneNode(!0),P=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),F=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",P);F.replaceChild(y,F.documentElement);var k=new XMLSerializer().serializeToString(F);d="data:image/svg+xml;charset=utf8,"+encodeURIComponent(k)}else{var rt=void 0,ut=u.getContext("2d"),pt=this.get("width"),Et=this.get("height"),Lt=void 0;if(e){var Gt=typeof window!="undefined"?window.devicePixelRatio:1;rt=ut.getImageData(0,0,pt*Gt,Et*Gt),Lt=ut.globalCompositeOperation,ut.globalCompositeOperation="destination-over",ut.fillStyle=e,ut.fillRect(0,0,pt,Et)}d=u.toDataURL(t),e&&(ut.clearRect(0,0,pt,Et),ut.putImageData(rt,0,0),ut.globalCompositeOperation=Lt)}return d},n.prototype.toFullDataURL=function(t,e,r){var o=this.get("group").getCanvasBBox(),u=o.height,d=o.width,y=this.get("renderer"),P=Object(ra.b)('<id="virtual-image"></div>'),F=r?r.backgroundColor:void 0,k=r?r.padding:void 0;k?Object(p.K)(k)&&(k=[k,k,k,k]):k=[0,0,0,0];var rt=u+k[0]+k[2],ut=d+k[1]+k[3],pt={container:P,height:rt,width:ut,quickHit:!0},Et=y==="svg"?new Os.Canvas(pt):new hs.Canvas(pt),Lt=this.get("group"),Gt=Lt.clone(),Rt=Object(p.e)(Gt.getMatrix());Rt||(Rt=[1,0,0,0,1,0,0,0,1]);var Xt=(o.maxX+o.minX)/2,Zt=(o.maxY+o.minY)/2;Rt=am(Rt,[["t",-Xt,-Zt],["t",d/2+k[3],u/2+k[0]]]),Gt.resetMatrix(),Gt.setMatrix(Rt),Et.add(Gt);var _t=Et.get("el"),ie="";e||(e="image/png"),setTimeout(function(){if(y==="svg"){var ce=_t.cloneNode(!0),be=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Pe=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",be);Pe.replaceChild(ce,Pe.documentElement);var Se=new XMLSerializer().serializeToString(Pe);ie="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Se)}else{var Ue=void 0,Ye=_t.getContext("2d"),Ur=void 0;if(F){var Wr=typeof window!="undefined"?window.devicePixelRatio:1;Ue=Ye.getImageData(0,0,ut*Wr,rt*Wr),Ur=Ye.globalCompositeOperation,Ye.globalCompositeOperation="destination-over",Ye.fillStyle=F,Ye.fillRect(0,0,ut,rt)}ie=_t.toDataURL(e),F&&(Ye.clearRect(0,0,ut,rt),Ye.putImageData(Ue,0,0),Ye.globalCompositeOperation=Ur)}t&&t(ie)},16)},n.prototype.downloadFullImage=function(t,e,r){var o=this,u=this.get("group").getCanvasBBox(),d=u.height,y=u.width,P=this.get("renderer"),F=Object(ra.b)('<id="virtual-image"></div>'),k=document.querySelector(".g6-graph-watermarker"),rt=r?r.backgroundColor:void 0,ut=r?r.padding:void 0;ut?Object(p.K)(ut)&&(ut=[ut,ut,ut,ut]):ut=[0,0,0,0];var pt=d+ut[0]+ut[2],Et=y+ut[1]+ut[3];if(k){var Lt=this.get("graphWaterMarker").cfg||{},Gt=Lt.width,Rt=Lt.height;pt=Math.ceil(pt/Rt)*Rt,Et=Math.ceil(Et/Gt)*Gt}var Xt={container:F,height:pt,width:Et},Zt=P==="svg"?new Os.Canvas(Xt):new hs.Canvas(Xt),_t=this.get("group"),ie=_t.clone(),ce=Object(p.e)(ie.getMatrix());ce||(ce=[1,0,0,0,1,0,0,0,1]);var be=(u.maxX+u.minX)/2,Pe=(u.maxY+u.minY)/2;ce=am(ce,[["t",-be,-Pe],["t",y/2+ut[3],d/2+ut[0]]]),ie.resetMatrix(),ie.setMatrix(ce),Zt.add(ie);var Se=Zt.get("el");e||(e="image/png"),this.asyncToDataUrl(e,rt,function(Ue){var Ye=document.createElement("a"),Ur=(t||"graph")+(P==="svg"?".svg":"."+e.split("/")[1]);o.dataURLToImage(Ue,P,Ye,Ur);var Wr=document.createEvent("MouseEvents");Wr.initEvent("click",!1,!1),Ye.dispatchEvent(Wr)},Et,pt,Se)},n.prototype.downloadImage=function(t,e,r){var o=this,u=this;u.isAnimating()&&u.stopAnimate();var d=u.get("canvas"),y=d.getRenderer();e||(e="image/png");var P=(t||"graph")+(y==="svg"?".svg":e.split("/")[1]),F=document.createElement("a");u.asyncToDataUrl(e,r,function(k){o.dataURLToImage(k,y,F,P);var rt=document.createEvent("MouseEvents");rt.initEvent("click",!1,!1),F.dispatchEvent(rt)})},n.prototype.dataURLToImage=function(t,e,r,o){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var u=t.split(","),d="";if(u&&u.length>0){var y=u[0].match(/:(.*?);/);y&&y.length>=2&&(d=y[1])}for(var P=atob(u[1]),F=P.length,k=new Uint8Array(F);F--;)k[F]=P.charCodeAt(F);var rt=new Blob([k],{type:d});window.navigator.msSaveBlob?window.navigator.msSaveBlob(rt,o):r.addEventListener("click",function(){r.download=o,r.href=window.URL.createObjectURL(rt)})}else r.addEventListener("click",function(){r.download=o,r.href=t})},n.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},n.prototype.removePlugin=function(t){var e=this.get("plugins"),r=e.indexOf(t);r>=0&&(t.destroyPlugin(),e.splice(r,1))},n.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=js.waterMarkerImage);var r=this.get("container");Object(p.O)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var o=this.get("graphWaterMarker"),u=Object(p.h)({},js.imageWaterMarkerConfig,e),d=u.width,y=u.height,P=u.compatible,F=u.image;if(!o){var k={container:r,width:d,height:y,capture:!1},rt=this.get("pixelRatio");rt&&(k.pixelRatio=rt),o=new hs.Canvas(k),this.set("graphWaterMarker",o)}o.get("el").style.display="none";var ut=o.get("context"),pt=F.rotate,Et=F.x,Lt=F.y;ut.rotate(-pt*Math.PI/180);var Gt=new Image;Gt.crossOrigin="anonymous",Gt.src=t,Gt.onload=function(){if(ut.drawImage(Gt,Et,Lt,F.width,F.height),ut.rotate(pt*Math.PI/180),P)r.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Rt=document.querySelector(".g6-graph-watermarker");Rt||(Rt=document.createElement("div"),Rt.className="g6-graph-watermarker"),Rt.className="g6-graph-watermarker",o.destroyed||(Rt.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",r.appendChild(Rt))}}},n.prototype.setTextWaterMarker=function(t,e){var r=this.get("container");Object(p.O)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var o=this.get("graphWaterMarker"),u=Object(p.h)({},js.textWaterMarkerConfig,e),d=u.width,y=u.height,P=u.compatible,F=u.text;if(!o){var k={container:r,width:d,height:y,capture:!1},rt=this.get("pixelRatio");rt&&(k.pixelRatio=rt),o=new hs.Canvas(k),this.set("graphWaterMarker",o)}o.get("el").style.display="none";var ut=o.get("context"),pt=F.rotate,Et=F.fill,Lt=F.fontFamily,Gt=F.fontSize,Rt=F.baseline,Xt=F.x,Zt=F.y,_t=F.lineHeight;ut.rotate(-pt*Math.PI/180),ut.font=Gt+"px "+Lt,ut.fillStyle=Et,ut.textBaseline=Rt;for(var ie=t.length-1;ie>=0;ie--)ut.fillText(t[ie],Xt,Zt+ie*_t);if(ut.rotate(pt*Math.PI/180),P)r.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var ce=document.querySelector(".g6-graph-watermarker");ce||(ce=document.createElement("div"),ce.className="g6-graph-watermarker"),ce.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",r.appendChild(ce)}},n.prototype.destroy=function(){Object(p.j)(this.get("plugins"),function(u){u.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var r=t[e];if(!!r){var o=r.parentElement;!o||o.removeChild(r)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),l.prototype.destroy.call(this)},n}(gu),im=VO,XO=a("efFw"),om=a.n(XO),sm=Ho.traverseTree,HO=function(n,t){var e;return n?Object(p.K)(n)?e=function(o){return n}:e=n:e=function(o){return t||1},e},YO=function(n,t){var e=[],r=[],o={},u=0;for(u=0;u<n.length;u++){var d=n[u];o[d.id]=u,e.push(d.x),e.push(d.y),e.push(0),e.push(0),r.push([])}for(u=0;u<t.length;u++){var y=t[u];r[o[y.source]].push(o[y.target]),r[o[y.target]].push(o[y.source])}var P=0;for(u=0;u<n.length;u++){var F=e.length,k=r[u],rt=k.length;e[u*4+2]=F,e[u*4+3]=k.length,P=Math.max(P,k.length);for(var ut=0;ut<rt;++ut){var pt=k[ut];e.push(+pt)}}for(;e.length%4!=0;)e.push(0);return{array:new Float32Array(e),maxEdgePerVetex:P}},KO=function(n,t,e){var r=[],o=[],u={},d=0;for(d=0;d<n.length;d++){var y=n[d];u[y.id]=d,r.push(y.x),r.push(y.y),r.push(0),r.push(0),o.push([])}for(d=0;d<t.length;d++){var P=t[d];o[u[P.source]].push(u[P.target]),o[u[P.source]].push(e(P)),o[u[P.target]].push(u[P.source]),o[u[P.target]].push(e(P))}var F=0;for(d=0;d<n.length;d++){var k=r.length,rt=o[d],ut=rt.length;r[d*4+2]=k,r[d*4+3]=ut/2,F=Math.max(F,ut/2);for(var pt=0;pt<ut;++pt){var Et=rt[pt];r.push(+Et)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:F}},ZO=function(n,t,e,r){var o=[],u=[],d={},y=0;for(y=0;y<n.length;y++){var P=n[y];d[P.id]=y,o.push(P.x),o.push(P.y),o.push(0),o.push(0),u.push([])}for(y=0;y<t.length;y++){var F=t[y];u[d[F.source]].push(d[F.target]),u[d[F.source]].push(e(F)),u[d[F.source]].push(r(F)),u[d[F.source]].push(0),u[d[F.target]].push(d[F.source]),u[d[F.target]].push(e(F)),u[d[F.target]].push(r(F)),u[d[F.target]].push(0)}var k=0;for(y=0;y<n.length;y++){var rt=o.length,ut=u[y],pt=ut.length;o[y*4+2]=rt+1048576*pt/4,o[y*4+3]=0,k=Math.max(k,pt/4);for(var Et=0;Et<pt;++Et){var Lt=ut[Et];o.push(+Lt)}}for(;o.length%4!=0;)o.push(0);return{array:new Float32Array(o),maxEdgePerVetex:k}},$O=function(n,t){var e=[],r=n.length,o={};return t.forEach(function(u){n.forEach(function(d,y){if(o[u[d]]===void 0&&(o[u[d]]=Object.keys(o).length),e.push(o[u[d]]),y===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(o).length}},QO=function(n){for(var t=[],e=n.length,r=n[0].length,o=function(y){n.forEach(function(P,F){if(t.push(P[y]),F===e-1)for(;t.length%4!=0;)t.push(0)})},u=0;u<r;u++)o(u);return new Float32Array(t)},JO=function(n,t){var e=["V","TB","BT"],r={x:Infinity,y:Infinity},o={x:-Infinity,y:-Infinity},u="x",d="y";t&&e.indexOf(t)>=0&&(d="x",u="y");var y=0;sm(n,function(k){return y++,k.x>o.x&&(o.x=k.x),k.x<r.x&&(r.x=k.x),k.y>o.y&&(o.y=k.y),k.y<r.y&&(r.y=k.y),!0});var P=Math.PI*2/y,F=o[d]-r[d];return F===0||sm(n,function(k){var rt=(k[d]-r[d])/F*(Math.PI*2-P)+P,ut=Math.abs(u==="x"?k.x-n.x:k.y-n.y);return k.x=ut*Math.cos(rt),k.y=ut*Math.sin(rt),!0}),n},_O=Object(ge.a)(Object(ge.a)(Object(ge.a)(Object(ge.a)({},Ho),S),b),M),Ac=_O,qO=Ac.radialLayout,tx=Ac.traverseTree,ex=function(l){Object(ge.c)(n,l);function n(t){var e=l.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return n.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var r=om.a[t.type](e,t);return qO(r),r}:function(e){return om.a[t.type](e,t)}):null},n.indexOfChild=function(t,e){var r=-1;return Object(p.j)(t,function(o,u){if(e===o.id)return r=u,!1}),r},n.prototype.getDefaultCfg=function(){var t=l.prototype.getDefaultCfg.call(this);return t.animate=!0,t},n.prototype.innerAddChild=function(t,e,r){var o=this,u=t.data;u&&(u.x=t.x,u.y=t.y,u.depth=t.depth);var d=o.addItem("node",u,!1);if(e){if(d.set("parent",e),r){var y=e.get("originAttrs");if(y)d.set("originAttrs",y);else{var P=e.getModel();d.set("originAttrs",{x:P.x,y:P.y})}}var F=e.get("children");F?F.push(d):e.set("children",[d]),o.addItem("edge",{source:e.get("id"),target:d.get("id"),id:e.get("id")+":"+d.get("id")},!1)}return Object(p.j)(t.children||[],function(k){o.innerAddChild(k,d,r)}),o.emit("afteraddchild",{item:d,parent:e}),d},n.prototype.innerUpdateChild=function(t,e,r){var o=this,u=o.findById(t.id);if(!u){o.innerAddChild(t,e,r);return}Object(p.j)(t.children||[],function(pt){o.innerUpdateChild(pt,u,r)});var d=u.get("children");if(d){var y=d.length;if(y>0)for(var P=d.length-1;P>=0;P--){var F=d[P].getModel();n.indexOfChild(t.children||[],F.id)===-1&&(o.innerRemoveChild(F.id,{x:t.x,y:t.y},r),d.splice(P,1))}}var k,rt;u.get("originAttrs")&&(k=u.get("originAttrs").x,rt=u.get("originAttrs").y);var ut=u.getModel();r&&u.set("originAttrs",{x:ut.x,y:ut.y}),u.set("model",t.data),(k!==t.x||rt!==t.y)&&u.updatePosition({x:t.x,y:t.y})},n.prototype.innerRemoveChild=function(t,e,r){var o=this,u=o.findById(t);if(!!u)if(Object(p.j)(u.get("children"),function(y){o.innerRemoveChild(y.getModel().id,e,r)}),r){var d=u.getModel();u.set("to",e),u.set("originAttrs",{x:d.x,y:d.y}),o.get("removeList").push(u)}else o.removeItem(u)},n.prototype.changeData=function(t){var e=this;this.getNodes().map(function(r){return e.clearItemStates(r)}),this.getEdges().map(function(r){return e.clearItemStates(r)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},n.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},n.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},n.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},n.prototype.layout=function(t){var e=this,r=e.get("data"),o=e.get("layoutMethod"),u=o(r,e.get("layout")),d=e.get("animate");if(e.emit("beforerefreshlayout",{data:r,layoutData:u}),e.emit("beforelayout"),e.innerUpdateChild(u,void 0,d),t){var y=e.get("viewController");y.fitView()}d?e.layoutAnimate(u):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:r,layoutData:u}),e.emit("afterlayout")},n.prototype.addChild=function(t,e){var r=this;r.emit("beforeaddchild",{model:t,parent:e}),Object(p.O)(e)||(e=e.get("id"));var o=r.findDataById(e);o&&(o.children||(o.children=[]),o.children.push(t),r.changeData())},n.prototype.updateChildren=function(t,e){var r=this;if(!e||!r.findById(e)){console.warn("Update children failed! There is no node with id '"+e+"'");return}var o=r.findDataById(e);o.children=t,r.changeData()},n.prototype.updateChild=function(t,e){var r=this;if(!e||!r.findById(e)){r.changeData(t);return}var o=r.findDataById(e),u=r.findById(t.id);if(o.children||(o.children=[]),!u)o.children.push(t);else{var d=n.indexOfChild(o.children,t.id);o.children[d]=t}r.changeData()},n.prototype.removeChild=function(t){var e=this,r=e.findById(t);if(!!r){var o=r.get("parent");if(o&&!o.destroyed){var u=e.findDataById(o.get("id")),d=u&&u.children||[],y=r.getModel(),P=n.indexOfChild(d,y.id);d.splice(P,1)}e.changeData()}},n.prototype.findDataById=function(t,e){var r=this;if(e||(e=r.get("data")),t===e.id)return e;var o=null;return Object(p.j)(e.children||[],function(u){if(u.id===t)return o=u,!1;if(o=r.findDataById(t,u),o)return!1}),o},n.prototype.layoutAnimate=function(t,e){var r=this,o=this.get("animateCfg");r.emit("beforeanimate",{data:t}),r.getEdges().forEach(function(u){var d=u.get("model");d.sourceAnchor||(d.sourceAnchor=u.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(u){tx(t,function(d){var y=r.findById(d.id);if(y){var P=y.get("originAttrs"),F=y.get("model");if(P||(P={x:F.x,y:F.y},y.set("originAttrs",P)),e){var k=e(y,u,P,t);y.set("model",Object.assign(F,k))}else F.x=P.x+(d.x-P.x)*u,F.y=P.y+(d.y-P.y)*u}return!0}),Object(p.j)(r.get("removeList"),function(d){var y=d.getModel(),P=d.get("originAttrs"),F=d.get("to");y.x=P.x+(F.x-P.x)*u,y.y=P.y+(F.y-P.y)*u}),r.refreshPositions()},{duration:o.duration,easing:o.ease,callback:function(){Object(p.j)(r.getNodes(),function(d){d.set("originAttrs",null)}),Object(p.j)(r.get("removeList"),function(d){r.removeItem(d)}),r.set("removeList",[]),o.callback&&o.callback(),r.emit("afteranimate",{data:t})},delay:o.delay})},n.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},n.prototype.isLayoutAnimating=function(){return this.layoutAnimating},n.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},n.prototype.save=function(){return this.get("data")},n}(im),rx=ex,nx=function(){function l(n){this._cfgs=Object(p.h)(this.getDefaultCfgs(),n),this._events={},this.destroyed=!1}return l.prototype.getDefaultCfgs=function(){return{}},l.prototype.initPlugin=function(n){var t=this;t.set("graph",n);var e=t.getEvents(),r={};Object(p.j)(e,function(o,u){var d=Object(p.wb)(t,o);r[u]=d,n.on(u,d)}),this._events=r,this.init()},l.prototype.getEvents=function(){return{}},l.prototype.get=function(n){return this._cfgs[n]},l.prototype.set=function(n,t){this._cfgs[n]=t},l.prototype.destroy=function(){},l.prototype.destroyPlugin=function(){this.destroy();var n=this.get("graph"),t=this._events;Object(p.j)(t,function(e,r){n.off(r,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},l}(),qs=nx,ax=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lm="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",ix=function(l){ax(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{img:lm}},n.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),r=t.get("container"),o=t.get("canvas").get("el"),u=t.get("width"),d=t.get("height"),y=this.get("img")||lm,P=Object(ra.b)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),F=Object(ra.b)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+y+`;
        user-select: none
        '></div>`);P.appendChild(F),Object(ra.e)(P,{width:u+"px",height:d+"px",left:r.offsetLeft+"px",top:r.offsetTop+"px"}),Object(ra.e)(F,{width:u/e+"px",height:d/e+"px",left:"0px",top:"0px"}),r.insertBefore(P,o),this.set("container",P),this.set("gridContainer",F)},n.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},n.prototype.updateGrid=function(t){var e=this.get("gridContainer"),r=t.matrix;r||(r=[1,0,0,0,1,0,0,0,1]);var o="matrix("+r[0]+", "+r[1]+", "+r[3]+", "+r[4]+", 0, 0)";Object(ra.e)(e,{transform:o})},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),r=this.get("container");e.removeChild(r)},n}(qs),ox=ix,sx=a("PwAq"),tg=a.n(sx),lx=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();tg()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var ux=function(l){lx(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},n.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},n.prototype.init=function(){var t=this.get("className"),e=Object(ra.b)("<div class="+(t||"g6-component-contextmenu")+"></div>");Object(ra.e)(e,{top:"0px",position:"absolute",visibility:"hidden"});var r=this.get("container");r||(r=this.get("graph").get("container")),Object(p.O)(r)&&(r=document.getElementById(r)),r.appendChild(e),this.set("menu",e)},n.prototype.onMenuShow=function(t){var e=this;t.preventDefault(),t.stopPropagation();var r=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1){e.onMenuHide();return}}else if(r.indexOf("canvas")===-1)return;var o=this.get("shouldBegin");if(!!o(t)){var u=this.get("menu"),d=this.get("getContent"),y=this.get("graph"),P=d(t,y);Object(p.O)(P)?u.innerHTML=P:u.innerHTML=P.outerHTML,this.removeMenuEventListener();var F=this.get("handleMenuClick");if(F){var k=function(ce){F(ce.target,t.item,y)};this.set("handleMenuClickWrapper",k),u.addEventListener("click",k)}var rt=y.get("width"),ut=y.get("height"),pt=u.getBoundingClientRect(),Et=this.get("offsetX")||0,Lt=this.get("offsetY")||0,Gt=y.getContainer().offsetTop,Rt=y.getContainer().offsetLeft,Xt=t.canvasX+Rt+Et,Zt=t.canvasY+Gt+Lt;Xt+pt.width>rt&&(Xt=t.canvasX-pt.width-Et+Rt),Zt+pt.height>ut&&(Zt=t.canvasY-pt.height-Lt+Gt),Object(ra.e)(u,{top:Zt+"px",left:Xt+"px",visibility:"visible"});var _t=function(ce){e.onMenuHide()};document.body.addEventListener("click",_t),this.set("handler",_t)}},n.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var r=this.get("menu");r.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},n.prototype.onMenuHide=function(){var t=this.get("menu");t&&Object(ra.e)(t,{visibility:"hidden"}),this.removeMenuEventListener()},n.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(p.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}(qs),cx=ux,fx=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eg=function(){return eg=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},eg.apply(this,arguments)},um=Math.max,hx=A.transform,dx="default",vx="keyShape",gx="delegate",cm="svg",px=function(l){fx(n,l);function n(){var t=l!==null&&l.apply(this,arguments)||this;return t.handleUpdateCanvas=Object(p.g)(function(e){var r=t;r.destroyed||r.updateCanvas()},100,!1),t}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.size,o=e.graph;if(!this.destroyed){var u=this.get("canvas"),d=u.get("container"),y=Object(ra.b)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`),P=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,F=0,k=0,rt=!1,ut=0,pt=0,Et=0,Lt=0,Gt=0,Rt=0;y.addEventListener("dragstart",function(Xt){var Zt,_t;if(Xt.dataTransfer){var ie=new Image;ie.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(_t=(Zt=Xt.dataTransfer).setDragImage)===null||_t===void 0||_t.call(Zt,ie,0,0);try{Xt.dataTransfer.setData("text/html","view-port-minimap")}catch(be){Xt.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,Xt.target===y){var ce=y.style;ut=parseInt(ce.left,10),pt=parseInt(ce.top,10),Et=parseInt(ce.width,10),Lt=parseInt(ce.height,10),!(Et>r[0]||Lt>r[1])&&(Rt=o.getZoom(),Gt=t.get("ratio"),rt=!0,F=Xt.clientX,k=Xt.clientY)}},!1),y.addEventListener(P?"dragover":"drag",function(Xt){if(!(!rt||Object(p.I)(Xt.clientX)||Object(p.I)(Xt.clientY))){var Zt=F-Xt.clientX,_t=k-Xt.clientY;(ut-Zt<0||ut-Zt+Et>=r[0])&&(Zt=0),(pt-_t<0||pt-_t+Lt>=r[1])&&(_t=0),ut-=Zt,pt-=_t,Object(ra.e)(y,{left:ut+"px",top:pt+"px"}),o.translate(Zt*Rt/Gt,_t*Rt/Gt),F=Xt.clientX,k=Xt.clientY}},!1),y.addEventListener("dragend",function(){rt=!1,e.refresh=!0},!1),this.set("viewport",y),d.appendChild(y)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),r=this.get("dy"),o=this.get("totaldx"),u=this.get("totaldy"),d=this.get("graph"),y=this.get("size"),P=d.get("width"),F=d.get("height"),k=d.getPointByCanvas(0,0),rt=d.getPointByCanvas(P,F),ut=this.get("viewport");ut||this.initViewport();var pt=d.getZoom(),Et=(rt.x-k.x)*t,Lt=(rt.y-k.y)*t,Gt=k.x*t+o,Rt=k.y*t+u,Xt=Gt+Et,Zt=Rt+Lt;Gt<0&&(Et+=Gt,Gt=0),Xt>y[0]&&(Et=Et-(Xt-y[0])),Rt<0&&(Lt+=Rt,Rt=0),Zt>y[1]&&(Lt=Lt-(Zt-y[1])),this.set("ratio",t);var _t=Gt+"px",ie=Rt+"px";Object(ra.e)(ut,{left:_t,top:ie,width:Et+"px",height:Lt+"px"})}},n.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),r=t.get("group");if(!r.destroyed){var o=r.clone();o.resetMatrix(),e.clear(),e.add(o);var u=t.get("renderer");u===cm&&this.updateVisible(o)}},n.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var r=t.get("children");if(!r||!r.length)return;r.forEach(function(o){o.get("visible")||o.hide(),e.updateVisible(o)})}},n.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;Object(p.j)(e.getEdges(),function(r){t.updateOneEdgeKeyShape(r)}),Object(p.j)(e.getNodes(),function(r){t.updateOneNodeKeyShape(r)}),this.clearDestroyedShapes()},n.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),o=this.get("itemMap")||{},u=o[t.get("id")],d=t.getBBox(),y=t.get("keyShape").clone(),P=y.attr(),F={x:d.centerX,y:d.centerY};u?F=Object.assign(P,F):(u=y,r.add(u));var k=u.get("type");(k==="rect"||k==="image")&&(F.x=d.minX,F.y=d.minY),u.attr(F),t.isVisible()||u.hide(),u.exist=!0,o[t.get("id")]=u,this.set("itemMap",o)},n.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;Object(p.j)(e.getEdges(),function(r){t.updateOneEdgeKeyShape(r)}),Object(p.j)(e.getNodes(),function(r){t.updateOneNodeDelegateShape(r)}),this.clearDestroyedShapes()},n.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var r=e.length-1;r>=0;r--){var o=t[e[r]],u=o.exist;o.exist=!1,u||(o.remove(),delete t[e[r]])}},n.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),o=this.get("itemMap")||{},u=o[t.get("id")];if(u){var d=t.get("keyShape").attr("path");u.attr("path",d)}else u=t.get("keyShape").clone(),r.add(u),u.toBack();t.isVisible()||u.hide(),u.exist=!0,o[t.get("id")]=u,this.set("itemMap",o)},n.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),o=this.get("delegateStyle"),u=this.get("itemMap")||{},d=u[t.get("id")],y=t.getBBox();if(d){var P={x:y.minX,y:y.minY,width:y.width,height:y.height};d.attr(P)}else d=r.addShape("rect",{attrs:eg({x:y.minX,y:y.minY,width:y.width,height:y.height},o),name:"minimap-node-shape"});t.isVisible()||d.hide(),d.exist=!0,u[t.get("id")]=d,this.set("itemMap",u)},n.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=t.get("size"),o=t.get("className"),u=t.get("container"),d=Object(ra.b)("<div class='"+o+"' style='width: "+r[0]+"px; height: "+r[1]+"px; overflow: hidden'></div>");Object(p.O)(u)&&(u=document.getElementById(u)),u?u.appendChild(d):e.get("container").appendChild(d),t.set("container",d);var y=Object(ra.b)('<div class="g6-minimap-container" style="position: relative;"></div>');d.appendChild(y),y.addEventListener("dragenter",function(k){k.preventDefault()}),y.addEventListener("dragover",function(k){k.preventDefault()});var P,F=e.get("renderer");F===cm?P=new Os.Canvas({container:y,width:r[0],height:r[1]}):P=new hs.Canvas({container:y,width:r[0],height:r[1]}),t.set("canvas",P),t.updateCanvas()},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("size"),o=this.get("canvas"),u=this.get("type"),d=this.get("padding");if(!o.destroyed){switch(u){case dx:this.updateGraphShapes();break;case vx:this.updateKeyShapes();break;case gx:this.updateDelegateShapes();break;default:break}var y=o.get("children")[0];if(!!y){y.resetMatrix();var P=y.getCanvasBBox(),F=e.get("canvas").getCanvasBBox(),k=F.width,rt=F.height;Number.isFinite(P.width)&&(k=um(P.width,k),rt=um(P.height,rt)),k+=2*d,rt+=2*d;var ut=Math.min(r[0]/k,r[1]/rt),pt=[1,0,0,0,1,0,0,0,1],Et=0,Lt=0;Number.isFinite(P.minX)&&(Et=-P.minX),Number.isFinite(P.minY)&&(Lt=-P.minY);var Gt=(r[0]-(k-2*d)*ut)/2,Rt=(r[1]-(rt-2*d)*ut)/2;pt=hx(pt,[["t",Et,Lt],["s",ut,ut],["t",Gt,Rt]]),y.setMatrix(pt),this.set("ratio",ut),this.set("totaldx",Gt+Et*ut),this.set("totaldy",Rt+Lt*ut),this.set("dx",Gt),this.set("dy",Rt),this.updateViewport()}}}}},n.prototype.getCanvas=function(){return this.get("canvas")},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},n}(qs),yx=px,mx=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function tu(l,n,t){var e=l.x-n.x,r=l.y-n.y;return!t||Math.abs(e)>t||Math.abs(r)>t?Math.sqrt(e*e+r*r):t}function bx(l,n){return l.x*n.x+l.y*n.y}function fm(l,n){var t=(n.source.y-n.target.y)/(n.source.x-n.target.x),e=(t*t*n.source.x+t*(l.y-n.source.y)+l.x)/(t*t+1),r=t*(e-n.source.x)+n.source.y;return{x:e,y:r}}var Ox=function(l){mx(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},n.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),r=function(){e&&e(),t.refreshPositions()};this.set("tick",r)},n.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var r=t.edges||[],o=t.nodes||[],u={},d=!1;if(o.forEach(function(Zt){(Zt.x===null||!Zt.y===null||Zt.x===void 0||!Zt.y===void 0)&&(d=!0),u[Zt.id]=Zt}),d)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",u);var y=e.get("divisions"),P=e.get("divRate"),F=e.divideEdges(y);e.set("edgePoints",F);var k=e.getEdgeBundles();e.set("edgeBundles",k);for(var rt=e.get("cycles"),ut=e.get("iterations"),pt=e.get("iterRate"),Et=e.get("lambda"),Lt=0;Lt<rt;Lt++){for(var Gt=function(_t){var ie=[];r.forEach(function(ce,be){if(ce.source!==ce.target){var Pe=u[ce.source],Se=u[ce.target];ie[be]=e.getEdgeForces({source:Pe,target:Se},be,y,Et);for(var Ue=0;Ue<y+1;Ue++)F[be][Ue].x+=ie[be][Ue].x,F[be][Ue].y+=ie[be][Ue].y}})},Rt=0;Rt<ut;Rt++)Gt(Rt);Et=Et/2,y*=P,ut*=pt,F=e.divideEdges(y),e.set("edgePoints",F)}r.forEach(function(Zt,_t){Zt.source!==Zt.target&&(Zt.type="polyline",Zt.controlPoints=F[_t].slice(1,F[_t].length-1))});var Xt=e.get("graph");Xt.refresh()}},n.prototype.updateBundling=function(t){var e=this,r=t.data;if(r&&e.set("data",r),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(u){e.set(u,t[u])}),t.onTick){var o=this.get("graph");e.set("tick",function(){t.onTick(),o.refresh()})}e.bundling(r)},n.prototype.divideEdges=function(t){var e=this,r=e.get("data").edges,o=e.get("nodeIdMap"),u=e.get("edgePoints");return(!u||u===void 0)&&(u=[]),r.forEach(function(d,y){(!u[y]||u[y]===void 0)&&(u[y]=[]);var P=o[d.source],F=o[d.target];if(t===1)u[y].push({x:P.x,y:P.y}),u[y].push({x:.5*(P.x+F.x),y:.5*(P.y+F.y)}),u[y].push({x:F.x,y:F.y});else{var k=0;!u[y]||u[y]===[]?k=tu({x:P.x,y:P.y},{x:F.x,y:F.y}):k=e.getEdgeLength(u[y]);var rt=k/(t+1),ut=rt,pt=[{x:P.x,y:P.y}];u[y].forEach(function(Et,Lt){if(Lt!==0){for(var Gt=tu(Et,u[y][Lt-1]);Gt>ut;){var Rt=ut/Gt,Xt={x:u[y][Lt-1].x,y:u[y][Lt-1].y};Xt.x+=Rt*(Et.x-u[y][Lt-1].x),Xt.y+=Rt*(Et.y-u[y][Lt-1].y),pt.push(Xt),Gt-=ut,ut=rt}ut-=Gt}}),pt.push({x:F.x,y:F.y}),u[y]=pt}}),u},n.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(r,o){o!==0&&(e+=tu(r,t[o-1]))}),e},n.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),r=e.edges||[],o=t.get("bundleThreshold"),u=t.get("nodeIdMap"),d=t.get("edgeBundles");return d||(d=[]),r.forEach(function(y,P){(!d[P]||d[P]===void 0)&&(d[P]=[])}),r.forEach(function(y,P){var F=u[y.source],k=u[y.target];r.forEach(function(rt,ut){if(!(ut<=P)){var pt=u[rt.source],Et=u[rt.target],Lt=t.getBundleScore({source:F,target:k},{source:pt,target:Et});Lt>=o&&(d[P].push(ut),d[ut].push(P))}})}),d},n.prototype.getBundleScore=function(t,e){var r=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=tu({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=tu({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var o=r.getAngleScore(t,e),u=r.getScaleScore(t,e),d=r.getPositionScore(t,e),y=r.getVisibilityScore(t,e);return o*u*d*y},n.prototype.getAngleScore=function(t,e){var r=bx({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return r/(t.length*e.length)},n.prototype.getScaleScore=function(t,e){var r=(t.length+e.length)/2,o=2/(r/Math.min(t.length,e.length)+Math.max(t.length,e.length)/r);return o},n.prototype.getPositionScore=function(t,e){var r=(t.length+e.length)/2,o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},u={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},d=tu(o,u);return r/(r+d)},n.prototype.getVisibilityScore=function(t,e){var r=this.getEdgeVisibility(t,e),o=this.getEdgeVisibility(e,t);return r<o?r:o},n.prototype.getEdgeVisibility=function(t,e){var r=fm(e.source,t),o=fm(e.target,t),u={x:(r.x+o.x)/2,y:(r.y+o.y)/2},d={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*tu(u,d)/tu(r,o))},n.prototype.getEdgeForces=function(t,e,r,o){for(var u=this,d=u.get("edgePoints"),y=u.get("K"),P=y/(tu(t.source,t.target)*(r+1)),F=[{x:0,y:0}],k=1;k<r;k++){var rt={x:0,y:0},ut=u.getSpringForce({pre:d[e][k-1],cur:d[e][k],next:d[e][k+1]},P),pt=u.getElectrostaticForce(k,e);rt.x=o*(ut.x+pt.x),rt.y=o*(ut.y+pt.y),F.push(rt)}return F.push({x:0,y:0}),F},n.prototype.getSpringForce=function(t,e){var r=t.pre.x+t.next.x-2*t.cur.x,o=t.pre.y+t.next.y-2*t.cur.y;return r*=e,o*=e,{x:r,y:o}},n.prototype.getElectrostaticForce=function(t,e){var r=this,o=r.get("eps"),u=r.get("edgeBundles"),d=r.get("edgePoints"),y=u[e],P={x:0,y:0};return y.forEach(function(F){var k={x:d[F][t].x-d[e][t].x,y:d[F][t].y-d[e][t].y};if(Math.abs(k.x)>o||Math.abs(k.y)>o){var rt=tu(d[F][t],d[e][t]),ut=1/rt;P.x+=k.x*ut,P.y+=k.y*ut}}),P},n.prototype.isTicking=function(){return this.get("ticking")},n.prototype.getSimulation=function(){return this.get("forceSimulation")},n.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),l.prototype.destroy.call(this)},n}(qs),xx=Ox,Ex=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rg=function(){return rg=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},rg.apply(this,arguments)},mv=.05,hm={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Mx=function(l){Ex(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(p.e)(hm),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},n.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var r=t.get("d");t.set("molecularParam",(r+1)*e)},n.prototype.createDelegate=function(t){var e=this,r=this,o=r.get("delegate");(!o||o.destroyed)&&(r.magnify(t),o=r.get("delegate"),o.on("dragstart",function(u){r.set("delegateCenterDiff",{x:o.attr("x")-u.x,y:o.attr("y")-u.y})}),o.on("drag",function(u){r.magnify(u)}),this.get("scaleDBy")==="wheel"&&o.on("mousewheel",function(u){e.scaleDByWheel(u)}),this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){r.scaleRByWheel(u)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),o,u=e.get("delegate"),d=u?{x:u.attr("x"),y:u.attr("y")}:void 0,y=d||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?o=1-mv:o=1/(1-mv);var P=e.get("maxR"),F=e.get("minR"),k=e.get("r");(k>(P||r.get("height"))&&o>1||k<(F||r.get("height")*.05)&&o<1)&&(o=1),k*=o,e.set("r",k),e.set("r2",k*k);var rt=e.get("d");e.set("molecularParam",(rt+1)*k),e.set("delegateCenterDiff",void 0),e.magnify(t,y)}},n.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var r=e.get("dragPrePos"),o=e.get("graph"),u,d=o.getPointByClient(t.clientX,t.clientY);t.x-r.x<0?u=1-mv:u=1/(1-mv);var y=e.get("maxR"),P=e.get("minR"),F=e.get("r");(F>(y||o.get("height"))&&u>1||F<(P||o.get("height")*.05)&&u<1)&&(u=1),F*=u,e.set("r",F),e.set("r2",F*F);var k=e.get("d");e.set("molecularParam",(k+1)*F),e.magnify(t,d),e.set("dragPrePos",{x:t.x,y:t.y})}},n.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=0;t.originalEvent.wheelDelta<0?r=-.1:r=.1;var o=e.get("d"),u=o+r,d=e.get("maxD"),y=e.get("minD");if(u<d&&u>y){e.set("d",u);var P=e.get("r");e.set("molecularParam",(u+1)*P);var F=e.get("delegate"),k=F?{x:F.attr("x"),y:F.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,k)}}},n.prototype.scaleDByDrag=function(t){var e=this,r=e.get("dragPrePos"),o=t.x-r.x>0?.1:-.1,u=e.get("d"),d=u+o,y=e.get("maxD"),P=e.get("minD");if(d<y&&d>P){e.set("d",d);var F=e.get("r");e.set("molecularParam",(d+1)*F),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},n.prototype.magnify=function(t,e){var r=this;r.restoreCache();var o=r.get("graph"),u=r.get("cachedMagnifiedModels"),d=r.get("cachedOriginPositions"),y=r.get("showLabel"),P=r.get("r"),F=r.get("r2"),k=r.get("d"),rt=r.get("molecularParam"),ut=o.getNodes(),pt=ut.length,Et=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};r.get("dragging")&&(r.get("trigger")==="mousemove"||r.get("trigger")==="click")&&(Et=r.get("cacheCenter"));var Lt=r.get("delegateCenterDiff");Lt&&(Et.x+=Lt.x,Et.y+=Lt.y),r.updateDelegate(Et,P);for(var Gt=0;Gt<pt;Gt++){var Rt=ut[Gt].getModel(),Xt=Rt.x,Zt=Rt.y;if(!(isNaN(Xt)||isNaN(Zt))){var _t=(Xt-Et.x)*(Xt-Et.x)+(Zt-Et.y)*(Zt-Et.y);if(!isNaN(_t)&&_t<F&&_t!==0){var ie=Math.sqrt(_t),ce=rt*ie/(k*ie+P),be=(Xt-Et.x)/ie,Pe=(Zt-Et.y)/ie;if(Rt.x=be*ce+Et.x,Rt.y=Pe*ce+Et.y,d[Rt.id]||(d[Rt.id]={x:Xt,y:Zt,texts:[]}),u.push(Rt),y&&2*ie<P)for(var Se=ut[Gt],Ue=Se.getContainer(),Ye=Ue.getChildren(),Ur=Ye.length,Wr=0;Wr<Ur;Wr++){var zr=Ye[Wr];zr.get("type")==="text"&&(d[Rt.id].texts.push({visible:zr.get("visible"),shape:zr}),zr.set("visible",!0))}}}}o.refreshPositions()},n.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),r=t.get("cachedOriginPositions"),o=e.length,u=0;u<o;u++){var d=e[u],y=d.id,P=r[y];d.x=P.x,d.y=P.y;for(var F=P.texts.length,k=0;k<F;k++){var rt=P.texts[k];rt.shape.set("visible",rt.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},n.prototype.updateParams=function(t){var e=this,r=t.r,o=t.d,u=t.trigger,d=t.minD,y=t.maxD,P=t.minR,F=t.maxR,k=t.scaleDBy,rt=t.scaleRBy;isNaN(t.r)||(e.set("r",r),e.set("r2",r*r)),isNaN(o)||e.set("d",o),isNaN(y)||e.set("maxD",y),isNaN(d)||e.set("minD",d),isNaN(F)||e.set("maxR",F),isNaN(P)||e.set("minR",P);var ut=e.get("d"),pt=e.get("r");if(e.set("molecularParam",(ut+1)*pt),(u==="mousemove"||u==="click"||u==="drag")&&e.set("trigger",u),k==="drag"||k==="wheel"||k==="unset"){e.set("scaleDBy",k),e.get("delegate").remove(),e.get("delegate").destroy();var Et=e.get("dPercentText");Et&&(Et.remove(),Et.destroy())}if(rt==="drag"||rt==="wheel"||rt==="unset"){e.set("scaleRBy",rt),e.get("delegate").remove(),e.get("delegate").destroy();var Et=e.get("dPercentText");Et&&(Et.remove(),Et.destroy())}},n.prototype.updateDelegate=function(t,e){var r=this,o=this,u=o.get("graph"),d=o.get("delegate");if(!d||d.destroyed){var y=u.get("group"),P=o.get("delegateStyle")||hm;d=y.addShape("circle",{attrs:rg({r:e/1.5,x:t.x,y:t.y},P),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?d.on("mousewheel",function(pt){o.scaleRByWheel(pt)}):this.get("scaleRBy")==="drag"&&(d.on("dragstart",function(pt){o.set("dragging",!0),o.set("cacheCenter",{x:pt.x,y:pt.y}),o.set("dragPrePos",{x:pt.x,y:pt.y})}),d.on("drag",function(pt){o.scaleRByDrag(pt)}),d.on("dragend",function(pt){o.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?d.on("mousewheel",function(pt){r.scaleDByWheel(pt)}):this.get("scaleDBy")==="drag"&&(d.on("dragstart",function(pt){o.set("dragging",!0),o.set("cacheCenter",{x:pt.x,y:pt.y}),o.set("dragPrePos",{x:pt.x,y:pt.y})}),d.on("drag",function(pt){r.scaleDByDrag(pt)}),d.on("dragend",function(pt){o.set("dragging",!1)})))}else d.attr({x:t.x,y:t.y,r:e/1.5});if(o.get("showDPercent")){var F=Math.round((o.get("d")-o.get("minD"))/(o.get("maxD")-o.get("minD"))*100),k=o.get("dPercentText"),rt=t.y+e/1.5+16;if(!k||k.destroyed){var ut=u.get("group");k=ut.addShape("text",{attrs:{text:F+"%",x:t.x,y:rt,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),o.set("dPercentText",k)}else k.attr({text:F+"%",x:t.x,y:rt})}o.set("delegate",d)},n.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var r=this.get("dPercentText");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}(qs),Sx=Mx,Cx=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dm=.05;tg()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var Tx=function(n){if(!n)return[];if(n.composedPath)return n.composedPath();for(var t=[],e=n.target;e;){if(t.push(e),e.tagName==="HTML")return t.push(document,window),t;e=e.parentElement}return t},Ax=function(l){Cx(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},n.prototype.init=function(){var t=this,e=this.get("graph"),r=this.get("getContent"),o=r(e),u=o;Object(p.O)(o)&&(u=Object(ra.b)(o));var d=this.get("className");u.setAttribute("class",d||"g6-component-toolbar");var y=this.get("container");y||(y=this.get("graph").get("container")),Object(p.O)(y)&&(y=document.getElementById(y)),y.appendChild(u),this.set("toolBar",u);var P=this.get("handleClick");u.addEventListener("click",function(k){var rt=Tx(k).filter(function(pt){return pt.nodeName==="LI"});if(rt.length!==0){var ut=rt[0].getAttribute("code");!ut||(P?P(ut,e):t.handleDefaultOperator(ut,e))}});var F=this.get("position");F&&Object(ra.e)(u,{top:F.y+"px",left:F.x+"px"}),this.bindUndoRedo()},n.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),r=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),o=document.querySelector('.g6-component-toolbar li[code="redo"]'),u=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!r||!o||!u||t.on("stackchange",function(d){var y=d.undoStack,P=d.redoStack,F=y.length,k=P.length;F===1?(e.setAttribute("style","cursor: not-allowed"),r.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),r.removeAttribute("style")),k===0?(o.setAttribute("style","cursor: not-allowed"),u.setAttribute("style","opacity: 0.4")):(o.removeAttribute("style"),u.removeAttribute("style"))})},n.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===1)){var r=e.pop();if(r){var o=r.action;t.pushStack(o,Object(p.e)(r.data),"redo");var u=r.data.before;if(o==="add"&&(u=r.data.after),!u)return;switch(o){case"visible":{Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){var F=t.findById(P.id);P.visible?t.showItem(F,!1):t.hideItem(F,!1)})});break}case"render":case"update":Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){t.updateItem(P.id,P,!1)})});break;case"changedata":t.changeData(u,!1);break;case"delete":{Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){var F=P.itemType;delete P.itemType,t.addItem(F,P,!1)})});break}case"add":Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){t.removeItem(P.id,!1)})});break;case"updateComboTree":Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){t.updateComboTree(P.id,P.parentId,!1)})});break;default:}}}},n.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var r=e.pop();if(r){var o=r.action,u=r.data.after;if(t.pushStack(o,Object(p.e)(r.data)),o==="delete"&&(u=r.data.before),!u)return;switch(o){case"visible":{Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){var F=t.findById(P.id);P.visible?t.showItem(F,!1):t.hideItem(F,!1)})});break}case"render":case"update":Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){t.updateItem(P.id,P,!1)})});break;case"changedata":t.changeData(u,!1);break;case"delete":u.edges&&u.edges.forEach(function(d){t.removeItem(d.id,!1)}),u.nodes&&u.nodes.forEach(function(d){t.removeItem(d.id,!1)}),u.combos&&u.combos.forEach(function(d){t.removeItem(d.id,!1)});break;case"add":{Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){var F=P.itemType;delete P.itemType,t.addItem(F,P,!1)})});break}case"updateComboTree":Object.keys(u).forEach(function(d){var y=u[d];!y||y.forEach(function(P){t.updateComboTree(P.id,P.parentId,!1)})});break;default:}}}},n.prototype.handleDefaultOperator=function(t,e){var r=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var o=1/(1-dm*this.get("zoomSensitivity")),u=this.get("maxZoom")||e.get("maxZoom");if(o*r>u)return;e.zoomTo(r*o);break}case"zoomIn":{var d=1-dm*this.get("zoomSensitivity"),y=this.get("minZoom")||e.get("minZoom");if(d*r<y)return;e.zoomTo(r*d);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},n.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(p.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}var r=this.get("handleClick");r&&t.removeEventListener("click",r)},n}(qs),Ix=Ax,Px=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();tg()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var Dx=function(l){Px(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},n.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},n.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=Object(ra.b)("<div class="+t+"></div>"),r=this.get("container");r||(r=this.get("graph").get("container")),Object(p.O)(r)&&(r=document.getElementById(r)),Object(ra.e)(e,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(e),this.set("tooltip",e)},n.prototype.onClick=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,o=this.get("graph");this.currentTarget===r?(this.currentTarget=null,this.hideTooltip(),o.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=r,this.showTooltip(t),o.emit("tooltipchange",{item:t.item,action:"show"}))}},n.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,o=this.get("graph");this.currentTarget=r,this.showTooltip(t),o.emit("tooltipchange",{item:t.item,action:"show"})}},n.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},n.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},n.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=this.get("tooltip"),o=this.get("getContent"),u=o(t);Object(p.O)(u)?r.innerHTML=u:r.innerHTML=u.outerHTML,this.updatePosition(t)}}},n.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Object(ra.e)(t,{visibility:"hidden",display:"none"})},n.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),r=this.get("tooltip");if(!e(t)){Object(ra.e)(r,{visibility:"hidden",display:"none"});return}var o=this.get("graph"),u=o.get("width"),d=o.get("height"),y=this.get("offsetX")||0,P=this.get("offsetY")||0,F=o.getPointByClient(t.clientX,t.clientY),k=this.get("fixToNode"),rt=t.item;if(rt.getType&&rt.getType()==="node"&&k&&Object(p.B)(k)&&k.length>=2){var ut=rt.getBBox();F={x:ut.minX+ut.width*k[0],y:ut.minY+ut.height*k[1]}}var pt=o.getCanvasByPoint(F.x,F.y),Et=pt.x,Lt=pt.y,Gt=o.getContainer(),Rt={x:Et+Gt.offsetLeft+y,y:Lt+Gt.offsetTop+P};Object(ra.e)(r,{visibility:"visible",display:"unset"});var Xt=r.getBoundingClientRect();Et+Xt.width+y>u&&(Rt.x-=Xt.width+y),Lt+Xt.height+P>d&&(Rt.y-=Xt.height+P),Object(ra.e)(r,{left:Rt.x+"px",top:Rt.y+"px"})},n.prototype.hide=function(){this.onMouseLeave()},n.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(p.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}(qs),jx=Dx,Ed=a("rI2c"),Lx=function(l,n){for(var t=0,e=n.length,r=l.length;t<e;t++,r++)l[r]=n[t];return l};function Rx(l){return Object(p.U)(l,function(n,t){var e=t===0?"M":"L",r=n[0],o=n[1];return[e,r,o]})}function vm(l){return Rx(l)}function wx(l){if(l.length<=2)return vm(l);var n=[];Object(p.j)(l,function(u){Object(p.G)(u,n.slice(n.length-2))||n.push(u[0],u[1])});var t=Rl.a(n,!1),e=Object(p.y)(l),r=e[0],o=e[1];return t.unshift(["M",r,o]),t}function Bx(l,n,t,e){e===void 0&&(e=!0);var r=new Ed.b({values:l}),o=new Ed.a({values:Object(p.U)(l,function(d,y){return y})}),u=Object(p.U)(l,function(d,y){return[o.scale(y)*n,t-r.scale(d)*t]});return e?wx(u):vm(u)}function Nx(l,n,t){for(var e=new Ed.b({values:l}),r=new Ed.a({values:Object(p.U)(l,function(k,rt){return rt})}),o=Object(p.U)(l,function(k,rt){return[r.scale(rt)*n,t-e.scale(k)*t]}),u=[],d=0;d<o.length;d++){var y=o[d],P={x:y[0],y:y[1],y0:t,size:5},F=Ux(P);u.push.apply(u,F)}return Wx(u)}function Fx(l,n){var t=new Ed.b({values:l}),e=Math.max(0,t.min);return n-t.scale(e)*n}function Gx(l,n,t,e){var r=Lx([],l),o=Fx(e,t);return r.push(["L",n,o]),r.push(["L",0,o]),r.push(["Z"]),r}function Ux(l){var n=l.x,t=l.y,e=l.y0,r=l.size,o,u;Object(p.B)(t)?(o=t[0],u=t[1]):(o=e,u=t);var d,y;Object(p.B)(n)?(d=n[0],y=n[1]):(d=n-r/2,y=n+r/2);var P=[{x:d,y:o},{x:d,y:u}];return P.push({x:y,y:u},{x:y,y:o}),P}function Wx(l,n){n===void 0&&(n=!0);var t=[],e=l[0];t.push(["M",e.x,e.y]);for(var r=1,o=l.length;r<o;r++)t.push(["L",l[r].x,l[r].y]);return n&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var Md=function(){return Md=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},Md.apply(this,arguments)},zx={stroke:"#C5C5C5",strokeOpacity:.85},kx={fill:"#CACED4",opacity:.85},Vx=function(){function l(n){var t=n.x,e=t===void 0?0:t,r=n.y,o=r===void 0?0:r,u=n.width,d=u===void 0?200:u,y=n.height,P=y===void 0?26:y,F=n.smooth,k=F===void 0?!0:F,rt=n.isArea,ut=rt===void 0?!1:rt,pt=n.data,Et=pt===void 0?[]:pt,Lt=n.lineStyle,Gt=n.areaStyle,Rt=n.group,Xt=n.interval,Zt=Xt===void 0?null:Xt;this.group=Rt,this.x=e,this.y=o,this.width=d,this.height=P,this.data=Et,this.smooth=k,this.isArea=ut,this.lineStyle=Object.assign({},zx,Lt),this.areaStyle=Object.assign({},kx,Gt),this.intervalConfig=Zt,this.renderLine()}return l.prototype.renderLine=function(){var n=this,t=n.x,e=n.y,r=n.width,o=n.height,u=n.data,d=n.smooth,y=n.isArea,P=n.lineStyle,F=n.areaStyle,k=this.group.addGroup({name:"trend-group"});if(u){var rt=Bx(u,r,o,d);if(k.addShape("path",{attrs:Md({path:rt},P)}),y){var ut=Gx(rt,r,o,u);k.addShape("path",{attrs:Md({path:ut},F)})}}this.intervalConfig&&k.addShape("path",{attrs:Md({path:Nx(this.intervalConfig.data,r,o)},this.intervalConfig.style)}),k.move(t,e)},l.prototype.destory=function(){this.group.destroy()},l}(),Xx=Vx,Ah=function(){return Ah=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},Ah.apply(this,arguments)},Hx={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},Yx={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Kx=function(){function l(n){var t=n.group,e=n.name,r=n.type,o=n.x,u=o===void 0?0:o,d=n.y,y=d===void 0?0:d,P=n.width,F=P===void 0?2:P,k=n.height,rt=k===void 0?24:k,ut=n.style,pt=ut===void 0?{}:ut;this.group=t,this.name=e,this.handleType=r,this.x=u,this.y=y,this.width=F,this.height=rt,r==="trend"?this.style=Ah(Ah({},Hx),pt):r==="simple"&&(this.style=Ah(Ah({},Yx),pt)),this.renderHandle()}return l.prototype.setX=function(n){this.setXY(n,void 0)},l.prototype.setY=function(n){this.setXY(void 0,n)},l.prototype.setXY=function(n,t){Object(p.K)(n)&&(this.x=n),Object(p.K)(t)&&(this.y=t),this.updateXY()},l.prototype.renderHandle=function(){var n=this,t=n.width,e=n.height,r=n.style,o=n.name,u=r.fill,d=r.stroke,y=r.radius,P=r.opacity,F=r.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:u,stroke:d,radius:y,opacity:P,cursor:F},name:o+"-handler"}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:u,stroke:d,radius:y,opacity:P,cursor:F},name:o+"-handler"}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:u,stroke:d,radius:y,opacity:P,cursor:F},name:o+"-handler"})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:u,stroke:d,radius:y,opacity:P,cursor:F,lineWidth:2},name:o+"-handler"})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},l.prototype.bindSimpleEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.topCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.topCircle.attr("fill",e)})},l.prototype.bindTrendEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)})},l.prototype.show=function(){this.handleGroup.show()},l.prototype.hide=function(){this.handleGroup.hide()},l.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},l}(),gm=Kx,pm="timebarstartplay",ym="timebarendplay",eu="valuechange",If="timebarConfigChanged",Ic="playPauseBtn",Sd="nextStepBtn",Cd="preStepBtn",ng=function(){return ng=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},ng.apply(this,arguments)},Zx=function(){function l(n){this.config=Object(p.h)({},n),this.init()}return l.prototype.update=function(n){this.config=Object(p.h)({},this.config,n),this.updateElement(),this.renderMarker()},l.prototype.init=function(){this.initElement(),this.renderMarker()},l.prototype.initElement=function(){var n=this.config,t=n.group,e=n.style,r=e.scale,o=r===void 0?1:r,u=e.offsetX,d=u===void 0?0:u,y=e.offsetY,P=y===void 0?0:y,F=this.config.x+d,k=this.config.y+P,rt=t.addGroup({name:Ic});this.startMarkerGroup=rt.addGroup({name:Ic}),this.circle=t.addShape("circle",{attrs:ng({x:F,y:k,r:this.config.r*o},e),name:Ic}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(F,k,o),fill:e.stroke||"#aaa"}}),this.pauseMarkerGroup=rt.addGroup({name:Ic});var ut=.25*this.config.r*o,pt=.5*this.config.r*Math.sqrt(3)*o;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:F-.375*this.config.r*o,y:k-pt/2,width:ut,height:pt,fill:e.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:F+1/8*this.config.r*o,y:k-pt/2,width:ut,height:pt,fill:e.stroke||"#aaa",lineWidth:0}})},l.prototype.updateElement=function(){var n=this.config.style,t=n.scale,e=t===void 0?1:t,r=n.offsetX,o=r===void 0?0:r,u=n.offsetY,d=u===void 0?0:u,y=this.config.x+o,P=this.config.y+d;this.circle.attr("x",y),this.circle.attr("y",P),this.circle.attr("r",this.config.r*e),this.startMarker.attr("path",this.getStartMarkerPath(y,P,e));var F=.25*this.config.r*e,k=.5*this.config.r*Math.sqrt(3)*e;this.pauseLeftMarker.attr("x",y-(1/4+1/8)*this.config.r*e),this.pauseLeftMarker.attr("y",P-k/2),this.pauseLeftMarker.attr("width",F),this.pauseLeftMarker.attr("height",k),this.pauseRightMarker.attr("x",y+1/8*this.config.r*e),this.pauseRightMarker.attr("y",P-k/2),this.pauseRightMarker.attr("width",F),this.pauseRightMarker.attr("height",k)},l.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},l.prototype.getStartMarkerPath=function(n,t,e){var r=.5*this.config.r*Math.sqrt(3)*e;return[["M",n-r/Math.sqrt(3)/2,t-r/2],["L",n+r/Math.sqrt(3),t],["L",n-r/Math.sqrt(3)/2,t+r/2]]},l}(),$x=Zx,Oo=function(){return Oo=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},Oo.apply(this,arguments)},Td=A.transform,Qx="#aaa",Jx="green",_x={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},qx={fill:"#fff"},t1={fill:"green"},mm={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},bm={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},e1={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:mm,timeTypeControllerStyle:bm},ag=110,Pc=50,r1=function(){function l(n){this.controllerCfg=Object(p.h)({},e1,n),this.group=n.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=n.fontFamily||"Arial, sans-serif",this.init()}return l.prototype.init=function(){this.renderPlayButton()},l.prototype.getNextMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n+e,t],["L",n,t+e],["Z",n,t-e],["M",n,t],["L",n-e,t-e],["L",n-e,t+e],["Z"]]},l.prototype.getPreMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n-e,t],["L",n,t+e],["L",n,t-e],["M",n,t],["L",n+e,t-e],["L",n+e,t+e],["Z"]]},l.prototype.renderPlayButton=function(){var n=this.controllerCfg,t=n.width,e=n.height,r=n.x,o=n.y,u=n.hideTimeTypeController,d=n.fill,y=d===void 0?Qx:d,P=n.stroke,F=P===void 0?Jx:P,k=Oo(Oo({},_x),n.playBtnStyle||{}),rt=Oo(Oo({},qx),n.preBtnStyle||{}),ut=Oo(Oo({},t1),n.nextBtnStyle||{}),pt=e/2-5,Et=o+10,Lt=this.controllerGroup.addShape("rect",{attrs:{x:r,y:Et,width:t,height:e,stroke:F,fill:y},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:Et,r:pt}):this.playButton=new $x({group:this.controllerGroup,x:t/2,y:Et+pt+5,r:pt,isPlay:this.isPlay,style:k});var Gt=rt.offsetX||0,Rt=rt.offsetY||0,Xt=(rt.scale||1)*pt;this.controllerGroup.addShape("path",{attrs:Oo({path:this.getPreMarkerPath(t/2-5*pt+Gt,Et+pt+5+Rt,Xt*.5)},rt),name:Cd});var Zt=ut.offsetX||0,_t=ut.offsetY||0,ie=(ut.scale||1)*pt;this.controllerGroup.addShape("path",{attrs:Oo({path:this.getNextMarkerPath(t/2+5*pt+Zt,Et+pt+5+_t,ie*.5)},ut),name:Sd}),Lt.toBack(),this.renderSpeedBtn(),u||this.renderToggleTime(),this.bindEvent();var ce=this.controllerCfg.scale,be=ce===void 0?1:ce,Pe=this.controllerGroup.getCanvasBBox(),Se=(Pe.maxX+Pe.minX)/2,Ue=(Pe.maxY+Pe.minY)/2,Ye=Td([1,0,0,0,1,0,0,0,1],[["t",-Se,-Ue],["s",be,be],["t",Se,Ue]]);this.controllerGroup.setMatrix(Ye)},l.prototype.renderSpeedBtn=function(){var n=this.controllerCfg,t=n.y,e=n.width,r=n.hideTimeTypeController,o=Oo(Oo({},mm),this.controllerCfg.speedControllerStyle||{}),u=o.scroller,d=u===void 0?{}:u,y=o.text,P=y===void 0?{}:y,F=o.pointer,k=F===void 0?{}:F,rt=o.scale,ut=rt===void 0?1:rt,pt=o.offsetX,Et=pt===void 0?0:pt,Lt=o.offsetY,Gt=Lt===void 0?0:Lt,Rt=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=Rt;var Xt=[],Zt=5;this.speedAxisY=[19,22,26,32,39];for(var _t=0;_t<5;_t++){var ie=t+this.speedAxisY[_t],ce=e-(r?Pc:ag);Rt.addShape("line",{attrs:Oo({x1:ce,x2:ce+15,y1:ie,y2:ie},d),speed:Zt,name:"speed-rect"}),this.speedAxisY[_t]=ie,Xt.push(Zt),Zt=Zt-1}this.speedText=Rt.addShape("text",{attrs:Oo({x:e-(r?Pc:ag)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},P)}),this.speedPoint=Rt.addShape("path",{attrs:Oo({path:this.getPointerPath(e-(r?Pc:ag),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},k)});var be=this.speedGroup.getCanvasBBox(),Pe=(be.maxX+be.minX)/2,Se=(be.maxY+be.minY)/2,Ue=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Ue=Td(Ue,[["t",-Pe,-Se],["s",ut,ut],["t",Pe+Et*ut,Se+Gt*ut]]),this.speedGroup.setMatrix(Ue)},l.prototype.getPointerPath=function(n,t){return[["M",n,t],["L",n-10,t-4],["L",n-10,t+4],["Z"]]},l.prototype.renderToggleTime=function(){var n,t=this.controllerCfg.width,e=Oo(Oo({},bm),this.controllerCfg.timeTypeControllerStyle||{}),r=e.scale,o=r===void 0?1:r,u=e.offsetX,d=u===void 0?0:u,y=e.offsetY,P=y===void 0?0:y,F=e.box,k=F===void 0?{}:F,rt=e.check,ut=rt===void 0?{}:rt,pt=e.text,Et=pt===void 0?{}:pt;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:Oo({x:t-Pc,y:this.speedAxisY[0]+3.5},k),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Oo({path:[["M",t-Pc+3,this.speedAxisY[1]+6],["L",t-Pc+7,this.speedAxisY[1]+10],["L",t-Pc+12,this.speedAxisY[1]+4]]},ut),capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Oo({text:((n=this.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:t-Pc+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Et)});var Lt=this.toggleGroup.getCanvasBBox(),Gt=(Lt.maxX+Lt.minX)/2,Rt=(Lt.maxY+Lt.minY)/2,Xt=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Xt=Td(Xt,[["t",-Gt,-Rt],["s",o,o],["t",Gt+d*o,Rt+P*o]]),this.toggleGroup.setMatrix(Xt)},l.prototype.bindEvent=function(){var n=this;this.speedGroup.on("speed-rect:click",function(t){var e=t.target.attr("y1"),r=n.speedPoint.attr("matrix"),o=n.speedAxisY.indexOf(r[7]||0),u=n.speedAxisY.indexOf(e),d=n.speedAxisY[u]-n.speedAxisY[o];r=Td(r,[["t",0,d]]),n.speedPoint.setMatrix(r),n.currentSpeed=n.speedAxisY.length-u,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(If,{speed:n.currentSpeed,type:n.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var e=n.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=e[7],o=n.speedAxisY.indexOf(r);if(o===-1){var u=Infinity;n.speedAxisY.forEach(function(y,P){var F=Math.abs(y-r);u>F&&(u=F,o=P)})}t.originalEvent.deltaY>0?o=Math.max(0,o-1):o=Math.min(n.speedAxisY.length-1,o+1);var d=n.speedAxisY[o]-r;e=Td(e,[["t",0,d]]),n.speedPoint.setMatrix(e),n.currentSpeed=n.speedAxisY.length-o,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(If,{speed:n.currentSpeed,type:n.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var e,r,o=t.target.get("isChecked");o?(n.checkedIcon.hide(),n.checkedText.attr("text",((r=n.controllerCfg)===null||r===void 0?void 0:r.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),n.currentType="range"):(n.checkedIcon.show(),n.checkedText.attr("text",((e=n.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),n.currentType="single"),t.target.set("isChecked",!o),n.group.emit(If,{type:n.currentType,speed:n.currentSpeed})})},l.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},l}(),Om=r1,Vi=function(){return Vi=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},Vi.apply(this,arguments)},n1={fill:"#416180",opacity:.05},a1={fill:"#416180",opacity:.15,radius:5},i1={fill:"#5B8FF9",opacity:.3,cursor:"grab"},ig=2,o1={width:ig,height:24},s1={textBaseline:"middle",fill:"#000",opacity:.45},l1={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},u1={lineWidth:1,stroke:"#ccc"},c1=function(){function l(n){var t=this;this.prevX=0,this.onMouseDown=function(kr){return function(bn){t.currentHandler=kr;var Vn=bn.originalEvent;Vn.stopPropagation(),Vn.preventDefault(),t.prevX=Object(p.s)(Vn,"touches.0.pageX",Vn.pageX);var Kr=t.canvas.get("container");Kr.addEventListener("mousemove",t.onMouseMove),Kr.addEventListener("mouseup",t.onMouseUp),Kr.addEventListener("mouseleave",t.onMouseUp),Kr.addEventListener("touchmove",t.onMouseMove),Kr.addEventListener("touchend",t.onMouseUp),Kr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(kr){kr.stopPropagation(),kr.preventDefault();var bn=Object(p.s)(kr,"touches.0.pageX",kr.pageX),Vn=bn-t.prevX,Kr=t.adjustOffsetRange(Vn/t.width);t.updateStartEnd(Kr),t.updateUI(),t.prevX=bn},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var kr=t.canvas.get("container");kr&&(kr.removeEventListener("mousemove",t.onMouseMove),kr.removeEventListener("mouseup",t.onMouseUp),kr.removeEventListener("mouseleave",t.onMouseUp),kr.removeEventListener("touchmove",t.onMouseMove),kr.removeEventListener("touchend",t.onMouseUp),kr.removeEventListener("touchcancel",t.onMouseUp))};var e=n.x,r=e===void 0?0:e,o=n.y,u=o===void 0?0:o,d=n.width,y=d===void 0?100:d,P=n.height,F=n.padding,k=F===void 0?10:F,rt=n.trendCfg,ut=n.controllerCfg,pt=ut===void 0?{speed:1}:ut,Et=n.backgroundStyle,Lt=Et===void 0?{}:Et,Gt=n.foregroundStyle,Rt=Gt===void 0?{}:Gt,Xt=n.handlerStyle,Zt=Xt===void 0?{}:Xt,_t=n.textStyle,ie=_t===void 0?{}:_t,ce=n.start,be=ce===void 0?0:ce,Pe=n.end,Se=Pe===void 0?1:Pe,Ue=n.minText,Ye=Ue===void 0?"":Ue,Ur=n.maxText,Wr=Ur===void 0?"":Ur,zr=n.group,Mn=n.graph,xn=n.canvas,on=n.tick,un=on===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(bn){return bn},ticks:[]}:on,pn=n.type;this.graph=Mn,this.canvas=xn,this.group=zr,this.timeBarType=pn,this.x=r,this.y=u,this.width=y,this.height=P,this.padding=k,this.ticks=un.ticks,this.trendCfg=rt,this.controllerCfg=pt,this.currentSpeed=pt.speed||1,this.tickLabelFormatter=un.tickLabelFormatter,pn==="trend"?this.backgroundStyle=Vi(Vi({},n1),Lt):pn==="simple"&&(this.backgroundStyle=Vi(Vi({},a1),Lt)),this.foregroundStyle=Vi(Vi({},i1),Rt),this.handlerStyle=Vi(Vi({},o1),Zt),this.textStyle=Vi(Vi({},s1),ie),this.tickLabelStyle=Vi(Vi({},l1),un.tickLabelStyle),this.tickLineStyle=Vi(Vi({},u1),un.tickLineStyle),this.currentMode="range",this.start=be,this.end=Se,this.minText=Ye,this.maxText=Wr,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return l.prototype.update=function(n){var t=n.x,e=n.y,r=n.width,o=n.height,u=n.minText,d=n.maxText,y=n.start,P=n.end;this.start=Math.min(1,Math.max(y,0)),this.end=Math.min(1,Math.max(P,0)),Object(p.b)(this,{x:t,y:e,width:r,height:o,minText:u,maxText:d}),this.updateUI()},l.prototype.setText=function(n,t){this.minTextShape.attr("text",n),this.maxTextShape.attr("text",t)},l.prototype.renderSlider=function(){var n=this,t=this,e=t.width,r=t.height,o=t.timeBarType;if(o==="trend"&&Object(p.jb)(Object(p.s)(this.trendCfg,"data"))){var u=new Xx(Vi(Vi({x:this.x,y:this.y,width:e,height:r},this.trendCfg),{group:this.group}));this.trendComponent=u}var d=this.group.addGroup({name:"slider-group"});d.addShape("rect",{attrs:Vi({x:0,y:0,width:e,height:r},this.backgroundStyle)});var y=this.group.addGroup();o==="trend"?(this.minTextShape=y.addShape("text",{attrs:Vi({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=y.addShape("text",{attrs:Vi({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})):(this.minTextShape=y.addShape("text",{attrs:Vi({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=y.addShape("text",{attrs:Vi({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Vi({x:0,y:this.y,height:r},this.foregroundStyle)}),this.foregroundShape.on("mousedown",function(Lt){Lt.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(Lt){Lt.target.attr("cursor",n.foregroundStyle.cursor||"grab")});var P=Object(p.s)(this.handlerStyle,"width",2),F=Object(p.s)(this.handlerStyle,"height",24),k=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new gm({name:"minHandlerShape",group:k,type:o,x:this.x,y:this.y,width:P,height:F,style:this.handlerStyle});var rt=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new gm({name:"maxHandlerShape",group:rt,type:o,x:this.x,y:this.y,width:P,height:F,style:this.handlerStyle});var ut=this.ticks,pt=e/(ut.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(Lt){Lt.destroy()});var Et=-Infinity;this.textList=ut.map(function(Lt,Gt){n.tickPosList.push(n.x+Gt*pt);var Rt;n.tickLabelFormatter?(Rt=n.tickLabelFormatter(Lt),!Object(p.O)(Rt)&&Rt&&(Rt=Lt.date)):Rt=Lt.date;var Xt=n.group.addShape("text",{attrs:Vi({x:n.x+Gt*pt,y:n.y+r+5,text:Rt,fontFamily:n.fontFamily||"Arial, sans-serif"},n.tickLabelStyle)}),Zt=n.group.addShape("line",{attrs:Vi({x1:n.x+Gt*pt,y1:n.y+r+2,x2:n.x+Gt*pt,y2:n.y+r+6},n.tickLineStyle)});Zt.toBack();var _t=Xt.getBBox();return _t.minX>Et?(Xt.show(),Zt.show(),Et=_t.minX+_t.width+10):(Xt.hide(),Zt.hide()),Xt}),this.controllerBtnGroup=new Om(Vi({group:this.group,x:this.x,y:this.y+r+25,width:e,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),d.move(this.x,this.y),this.bindEvents()},l.prototype.bindEvents=function(){var n=this,t=this.group.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Ic+":click",function(){n.isPlay=!n.isPlay,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()}),this.group.on(Sd+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(.01),n.updateUI()}),this.group.on(Cd+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(-.01),n.updateUI()}),this.group.on(If,function(r){var o=r.type,u=r.speed;n.currentSpeed=u,n.currentMode=o,o==="single"?(n.minHandlerShape.hide(),n.foregroundShape.hide(),n.minTextShape.hide()):o==="range"&&(n.minHandlerShape.show(),n.foregroundShape.show(),n.minTextShape.show())})},l.prototype.adjustTickIndex=function(n){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=n&&n<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-n)<Math.abs(n-this.tickPosList[t+1])?t:t+1;return 0},l.prototype.adjustOffsetRange=function(n){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,n))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,n))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,n))}default:return 0}},l.prototype.updateStartEnd=function(n){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],e=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=n,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.foregroundShape:this.start+=n,this.end+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;default:break}},l.prototype.updateUI=function(){var n=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,e=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var r=Object(p.s)(this.handlerStyle,"width",ig);this.setText(this.minText,this.maxText);var o=this.dodgeText([t,e]),u=o[0],d=o[1];this.minHandlerShape.setX(t-r/2),Object(p.j)(u,function(y,P){return n.minTextShape.attr(P,y)}),this.maxHandlerShape.setX(e-r/2),Object(p.j)(d,function(y,P){return n.maxTextShape.attr(P,y)}),this.currentMode==="range"?this.graph.emit(eu,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(eu,{value:[this.end,this.end]})},l.prototype.dodgeText=function(n){var t,e,r=2,o=Object(p.s)(this.handlerStyle,"width",ig),u=this.minTextShape,d=this.maxTextShape,y=n[0],P=n[1],F=!1;y>P&&(t=[P,y],y=t[0],P=t[1],e=[d,u],u=e[0],d=e[1],F=!0);var k=u.getBBox(),rt=d.getBBox(),ut=null,pt=null;return this.timeBarType==="trend"?(ut=y-k.width<this.x+r?{x:y+o/2+r,textAlign:"left"}:{x:y-o/2-r,textAlign:"right"},pt=P+rt.width>this.x+this.width?{x:P-o/2-r,textAlign:"right"}:{x:P+o/2+r,textAlign:"left"}):this.timeBarType==="simple"&&(ut=k.width>y-r?{x:y+o/2+r,textAlign:"center"}:{x:y-o/2-r,textAlign:"center"},pt=rt.width>this.width-P-r?{x:P-o/2-r,textAlign:"center"}:{x:P+o/2+r,textAlign:"center"}),F?[pt,ut]:[ut,pt]},l.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n,e=t.ticks,r=t.width,o=n.currentSpeed,u=r/e.length,d=u/((10-o)*1e3/60),y=n.adjustOffsetRange(d/n.width);n.updateStartEnd(y),n.updateUI(),n.isPlay&&(n.playHandler=n.startPlay())}):void 0},l.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(pm,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(ym,null))},l.prototype.destory=function(){this.graph.off(eu);var n=this.group,t=n.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=n.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),n.off(Ic+":click"),n.off(Sd+":click"),n.off(Cd+":click"),n.off(If),n.destroy(),this.trendComponent&&this.trendComponent.destory()},l}(),f1=c1,TM={opacity:.5,fill:"#000"},AM={opacity:.5,fill:"#000",r:5},IM={fill:"#fff",fontSize:12},h1=function(){function l(n){var t=n.x,e=t===void 0?0:t,r=n.y,o=r===void 0?0:r,u=n.container,d=n.text,y=n.padding,P=y===void 0?[4,4,4,4]:y,F=n.className,k=F===void 0?"g6-component-timebar-tooltip":F,rt=n.backgroundColor,ut=rt===void 0?"#000":rt,pt=n.textColor,Et=pt===void 0?"#fff":pt,Lt=n.opacity,Gt=Lt===void 0?.8:Lt,Rt=n.fontSize,Xt=Rt===void 0?12:Rt;this.container=u,this.className=k,this.backgroundColor=ut,this.textColor=Et,this.x=e,this.y=o,this.text=d,this.padding=P,this.opacity=Gt,this.fontSize=Xt,this.render()}return l.prototype.render=function(){var n=this,t=n.className,e=n.x,r=n.y,o=n.backgroundColor,u=n.textColor,d=n.text,y=n.padding,P=n.opacity,F=n.fontSize,k=n.container,rt=Object(ra.b)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+P+'"></div>');Object(p.O)(k)&&(k=document.getElementById(k)),k.appendChild(rt),n.parentHeight=k.offsetHeight,n.parentWidth=k.offsetWidth,Object(ra.e)(rt,{visibility:"hidden",top:0,left:0});var ut=Object(ra.b)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+o+"; font-size: "+F+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+u+"; padding: "+y[0]+"px "+y[1]+"px "+y[2]+"px "+y[3]+"px'></div>");ut.innerHTML=d,rt.appendChild(ut),n.backgroundDOM=ut;var pt=Object(ra.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+o+"'></div>");rt.appendChild(pt),n.arrowDOM=pt,n.container=rt},l.prototype.show=function(n){var t=this,e=n.text,r=n.x,o=n.y,u=n.clientX,d=n.clientY;t.backgroundDOM.innerHTML=e;var y=t.backgroundDOM.offsetWidth,P=t.backgroundDOM.offsetHeight,F=t.arrowDOM.offsetWidth,k=t.arrowDOM.offsetHeight;Object(ra.e)(t.container,{top:-P-k+"px",left:r+"px",visibility:"visible"}),Object(ra.e)(t.backgroundDOM,{marginLeft:-y/2+"px"}),Object(ra.e)(t.arrowDOM,{marginLeft:-F/2+"px",top:P+"px"});var rt=r-y/2,ut=r+y/2;rt<0?Object(ra.e)(t.backgroundDOM,{marginLeft:-y/2-rt+"px"}):ut>t.parentWidth&&Object(ra.e)(t.backgroundDOM,{marginLeft:-y/2-ut+t.parentWidth+12+"px"})},l.prototype.hide=function(){Object(ra.e)(this.container,{top:0,left:0,visibility:"hidden"})},l}(),d1=h1,og=function(){return og=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},og.apply(this,arguments)},v1={fill:"#5B8FF9"},g1={fill:"#e6e8e9"},p1=function(){function l(n){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=n.graph,e=n.canvas,r=n.group,o=n.width,u=n.height,d=n.padding,y=n.data,P=n.start,F=n.end,k=n.x,rt=k===void 0?0:k,ut=n.y,pt=ut===void 0?0:ut,Et=n.tickLabelFormatter,Lt=n.selectedTickStyle,Gt=Lt===void 0?v1:Lt,Rt=n.unselectedTickStyle,Xt=Rt===void 0?g1:Rt,Zt=n.tooltipBackgroundColor,_t=n.tooltipFomatter;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=e,this.width=o,this.height=u,this.padding=d,this.data=y,this.start=P,this.end=F,this.tickLabelFormatter=Et,this.selectedTickStyle=Gt,this.unselectedTickStyle=Xt,this.x=rt,this.y=pt,this.tooltipBackgroundColor=Zt,this.tooltipFomatter=_t,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return l.prototype.renderSlices=function(){var n=this,t=this,e=t.width,r=t.height,o=t.padding,u=t.data,d=t.start,y=t.end,P=t.tickLabelFormatter,F=t.selectedTickStyle,k=t.unselectedTickStyle,rt=e-2*o,ut=10,pt=4,Et=3*o+pt+ut,Lt=r-Et-2*o,Gt=2,Rt=u.length,Xt=(rt-Gt*(Rt-1))/Rt;this.tickWidth=Xt;var Zt=this.sliceGroup,_t=[],ie=[],ce=Math.round(Rt*d),be=Math.round(Rt*y);this.startTickRectId=ce,this.endTickRectId=be,u.forEach(function(Se,Ue){var Ye=Ue>=ce&&Ue<=be,Ur=Ye?F:k,Wr=Zt.addShape("rect",{attrs:og({x:o+Ue*(Xt+Gt),y:o,width:Xt,height:Lt},Ur),draggable:!0,name:"tick-rect-"+Ue}),zr=Zt.addShape("rect",{attrs:{x:o+Ue*Xt+Gt*(2*Ue-1)/2,y:o,width:Ue===0||Ue===Rt-1?Xt+Gt/2:Xt+Gt,height:Lt,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+Ue});zr.toFront();var Mn=Wr.getBBox(),xn=(Mn.minX+Mn.maxX)/2;_t.push({rect:Wr,pickRect:zr,value:Se.date,x:xn,y:Mn.minY});var on;if(P?(on=P(Se),!Object(p.O)(on)&&on&&(on=Se.date)):Ue%Math.round(Rt/10)==0&&(on=Se.date),on){ie.push(on);var un=Mn.maxY+o*2;Zt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:xn,y1:un,x2:xn,y2:un+pt}});var pn=un+pt+o,kr=Zt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:xn,y:pn,textAlign:"center",text:on,textBaseline:"top",fontSize:10,fontFamily:n.fontFamily||"Arial, sans-serif"},capture:!1}),bn=kr.getBBox();bn.maxX>e?kr.attr("textAlign","right"):bn.minX<0&&kr.attr("textAlign","left")}}),this.tickRects=_t;var Pe=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Om({group:Pe,x:this.x,y:this.y+r+5,width:e,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},l.prototype.initEvent=function(){var n=this,t=this.sliceGroup;t.on("click",function(F){var k=F.target;if(!(k.get("type")!=="rect"||!k.get("name"))){var rt=parseInt(k.get("name").split("-")[2],10);if(!isNaN(rt)){var ut=n.tickRects,pt=n.unselectedTickStyle;ut.forEach(function(Rt){Rt.rect.attr(pt)});var Et=n.selectedTickStyle;ut[rt].rect.attr(Et),n.startTickRectId=rt,n.endTickRectId=rt;var Lt=ut.length,Gt=rt/Lt;n.graph.emit(eu,{value:[Gt,Gt]})}}}),t.on("dragstart",function(F){var k=n.tickRects,rt=n.unselectedTickStyle;k.forEach(function(Rt){Rt.rect.attr(rt)});var ut=F.target,pt=parseInt(ut.get("name").split("-")[2],10),Et=n.selectedTickStyle;k[pt].rect.attr(Et),n.startTickRectId=pt;var Lt=k.length,Gt=pt/Lt;n.graph.emit(eu,{value:[Gt,Gt]}),n.dragging=!0}),t.on("dragover",function(F){if(!!n.dragging&&F.target.get("type")==="rect"){for(var k=parseInt(F.target.get("name").split("-")[2],10),rt=n.startTickRectId,ut=n.tickRects,pt=n.selectedTickStyle,Et=n.unselectedTickStyle,Lt=0;Lt<ut.length;Lt++){var Gt=Lt>=rt&&Lt<=k?pt:Et;ut[Lt].rect.attr(Gt)}var Rt=ut.length;n.endTickRectId=k;var Xt=rt/Rt,Zt=k/Rt;n.graph.emit(eu,{value:[Xt,Zt]})}}),t.on("drop",function(F){if(!!n.dragging&&(n.dragging=!1,F.target.get("type")==="rect")){var k=n.startTickRectId,rt=parseInt(F.target.get("name").split("-")[2],10);if(!(rt<k)){var ut=n.selectedTickStyle,pt=n.tickRects;pt[rt].rect.attr(ut),n.endTickRectId=rt;var Et=pt.length,Lt=k/Et,Gt=rt/Et;n.graph.emit(eu,{value:[Lt,Gt]})}}});var e=this,r=e.tooltipBackgroundColor,o=e.tooltipFomatter,u=e.canvas,d=new d1({container:u.get("container"),backgroundColor:r}),y=this.tickRects;y.forEach(function(F){var k=F.pickRect;k.on("mouseenter",function(rt){var ut=rt.target;if(ut.get("type")==="rect"){var pt=parseInt(ut.get("name").split("-")[2],10),Et=u.getClientByPoint(y[pt].x,y[pt].y);d.show({x:y[pt].x,y:y[pt].y,clientX:Et.x,clientY:Et.y,text:o?o(y[pt].value):y[pt].value})}}),k.on("mouseleave",function(rt){d.hide()})});var P=this.group;P.on(Ic+":click",function(){n.isPlay=!n.isPlay,n.changePlayStatus()}),P.on(Sd+":click",function(){n.updateStartEnd(1)}),P.on(Cd+":click",function(){n.updateStartEnd(-1)}),P.on(If,function(F){var k=F.type,rt=F.speed;n.currentSpeed=rt})},l.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(pm,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(ym,null))},l.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n.currentSpeed;n.frameCount%(60/t)==0&&(n.frameCount=0,n.updateStartEnd(1)),n.frameCount++,n.isPlay&&(n.playHandler=n.startPlay())}):void 0},l.prototype.updateStartEnd=function(n){var t=this,e=this.tickRects,r=e.length,o=this.unselectedTickStyle,u=this.selectedTickStyle,d=t.endTickRectId;if(n>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(o),t.endTickRectId--),d!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var y=t.startTickRectId;y<=t.endTickRectId-1;y++)e[y].rect.attr(o);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(u);var P=t.startTickRectId/r,F=t.endTickRectId/r;this.graph.emit(eu,{value:[P,F]})}},l.prototype.destory=function(){this.graph.off(eu);var n=this.sliceGroup;n.off("click"),n.off("dragstart"),n.off("dragover"),n.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,n.off(Ic+":click"),n.off(Sd+":click"),n.off(Cd+":click"),n.off(If),this.sliceGroup.destroy()},l}(),y1=p1,m1=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uu=function(){return Uu=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},Uu.apply(this,arguments)},b1=function(l,n){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&n.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(l);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(l,e[r])&&(t[e[r]]=l[e[r]]);return t},O1=4,x1=26,E1=function(l){m1(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1}},n.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,r=e.width,o=e.height,u=this.get("className")||"g6-component-timebar",d=this.get("container"),y=this.get("graph").get("container"),P;d?(Object(p.O)(d)&&(d=document.getElementById(d)),P=d):(P=Object(ra.b)("<div class='"+u+"'></div>"),Object(ra.e)(P,{position:"relative"})),y.appendChild(P),this.set("timeBarContainer",P);var F,k=t.get("renderer");k==="SVG"?F=new Os.Canvas({container:P,width:r,height:o}):F=new hs.Canvas({container:P,width:r,height:o}),this.set("canvas",F)},n.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var r=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",r)},n.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,r=t.x,o=t.y,u=t.padding,d=t.type,y=t.trend,P=t.slider,F=t.controllerCfg,k=t.textStyle,rt=t.tick,ut=t.backgroundStyle,pt=t.foregroundStyle,Et=y.data,Lt=b1(y,["data"]),Gt=e-2*u,Rt=d==="trend"?x1:O1,Xt=this.get("graph"),Zt=this.get("timeBarGroup"),_t=this.get("canvas"),ie=null;d==="trend"||d==="simple"?ie=new f1(Uu(Uu({graph:Xt,canvas:_t,group:Zt,type:d,x:r+u,y:d==="trend"?o+u:o+u+15,width:Gt,height:Rt,padding:u,backgroundStyle:ut,foregroundStyle:pt,trendCfg:Uu(Uu({},Lt),{data:Et.map(function(ce){return ce.value})})},P),{tick:{ticks:Et,tickLabelFormatter:rt.tickLabelFormatter,tickLabelStyle:rt.tickLabelStyle,tickLineStyle:rt.tickLineStyle},handlerStyle:Uu(Uu({},P.handlerStyle),{height:P.height||Rt}),controllerCfg:F,textStyle:k})):d==="tick"&&(ie=new y1(Uu({graph:Xt,canvas:_t,group:Zt,x:r+u,y:o+u},rt))),this.set("timebar",ie)},n.prototype.filterData=function(t){var e,r=t.value,o=null,u=this._cfgs.type;if(u==="trend"||u==="simple"?o=this._cfgs.trend.data:u==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var d=this.get("rangeChange"),y=this.get("graph"),P=Math.round(o.length*r[0]),F=Math.round(o.length*r[1]);F=F>=o.length?o.length-1:F,P=P>=o.length?o.length-1:P;var k=(e=this._cfgs.tick)===null||e===void 0?void 0:e.tickLabelFormatter,rt=k?k(o[P]):o[P].date,ut=k?k(o[F]):o[F].date;if(u!=="tick"){var pt=this.get("timebar");pt.setText(rt,ut)}if(d)d(y,rt,ut);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=y.get("data"));var Et=this.cacheGraphData.nodes.filter(function(Rt){return Rt.date>=o[P].date&&Rt.date<=o[F].date}),Lt=Et.map(function(Rt){return Rt.id}),Gt=[];this.cacheGraphData.edges&&(Gt=this.cacheGraphData.edges.filter(function(Rt){return Lt.includes(Rt.source)&&Lt.includes(Rt.target)}),this.get("filterEdge")&&(Gt=Gt.filter(function(Rt){return Rt.date>=o[P].date&&Rt.date<=o[F].date}))),y.changeData({nodes:Et,edges:Gt})}},n.prototype.initEvent=function(){var t=this,e=0,r=0,o=this._cfgs.type;!o||o==="trend"||o==="simple"?(e=this._cfgs.slider.start,r=this._cfgs.slider.end):o==="tick"&&(e=this._cfgs.tick.start,r=this._cfgs.tick.end);var u=this.get("graph");u.on("afterrender",function(d){t.filterData({value:[e,r]})}),u.on(eu,Object(p.nb)(function(d){t.filterData(d)},200,{trailing:!0,leading:!0}))},n.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),l.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(p.O)(r)&&(r=document.getElementById(r)),r.removeChild(e)}},n}(qs),M1=E1,S1=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C1=Ho.applyMatrix;function T1(l,n){var t,e;if(l.naturalWidth)t=l.naturalWidth,e=l.naturalHeight;else{var r=new Image;r.src=l.src,r.onload=function(){n&&n(r.width,r.height)}}return[t,e]}var A1=function(l){S1(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.graph;if(!this.destroyed){var o=this.get("container");Object(p.O)(o)&&(o=document.getElementById(o));var u=Object(ra.b)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),d=0,y=0,P=!1,F=0,k=0,rt=0,ut=0,pt=0,Et=0;o.addEventListener("mousedown",function(Lt){if(e.refresh=!1,Lt.target===u){var Gt=u.style;rt=parseInt(Gt.width,10),ut=parseInt(Gt.height,10);var Rt=t.get("width"),Xt=t.get("height");rt>Rt||ut>Xt||(Et=r.getZoom(),pt=t.get("ratio"),P=!0,d=Lt.clientX,y=Lt.clientY)}},!1),o.addEventListener("mousemove",function(Lt){if(!(!P||Object(p.I)(Lt.clientX)||Object(p.I)(Lt.clientY))){var Gt=t.get("width"),Rt=t.get("height"),Xt=u.style;F=parseInt(Xt.left,10),k=parseInt(Xt.top,10),rt=parseInt(Xt.width,10),ut=parseInt(Xt.height,10);var Zt=d-Lt.clientX,_t=y-Lt.clientY;F-Zt<0?Zt=F:F-Zt+rt>=Gt&&(Zt=0),k-_t<0?_t=k:k-_t+ut>=Rt&&(_t=0),F-=Zt,k-=_t,Object(ra.e)(u,{left:F+"px",top:k+"px"}),r.translate(Zt*Et/pt,_t*Et/pt),d=Lt.clientX,y=Lt.clientY}},!1),o.addEventListener("mouseleave",function(){P=!1,e.refresh=!0},!1),o.addEventListener("mouseup",function(){P=!1,e.refresh=!0},!1),this.set("viewport",u),o.appendChild(u)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),r=this.get("height"),o=this.get("graph"),u=o.get("width"),d=o.get("height"),y=u/d,P=o.getGroup(),F=P.getCanvasBBox(),k=[(F.minX+F.maxX)/2,(F.minY+F.maxY)/2],rt=[F.maxX-F.minX,F.maxY-F.minY],ut={centerX:k[0],centerY:k[1],width:0,height:0,minX:0,minY:0};F[0]/F[1]>y?(ut.width=rt[0],ut.height=ut.width/y):(ut.height=rt[1],ut.width=ut.height*y),ut.minX=k[0]-ut.width/2,ut.minY=k[1]-ut.height/2;var pt=P.getMatrix();pt||(pt=[1,0,0,0,1,0,0,0,1]);var Et=Lr.a.invert([1,0,0,0,1,0,0,0,1],pt),Lt=C1({x:ut.minX,y:ut.minY},Et),Gt=o.getCanvasByPoint(Lt.x,Lt.y),Rt=this.get("viewport");Rt||this.initViewport();var Xt=u/ut.width,Zt=Xt*e,_t=Xt*r,ie=e*-Gt.x/ut.width,ce=r*-Gt.y/ut.height,be=ie+Zt,Pe=ce+_t;ie<0&&(Zt+=ie,ie=0),be>e&&(Zt=Zt-(be-e)),ce<0&&(_t+=ce,ce=0),Pe>r&&(_t=_t-(Pe-r)),this.set("ratio",t);var Se=ie+"px",Ue=ce+"px";Object(ra.e)(Rt,{left:Se,top:Ue,width:Zt+"px",height:_t+"px"})}},n.prototype.init=function(){this.initContainer()},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=e.get("width"),o=e.get("height"),u=o/r,d=t.get("className"),y=t.get("container"),P=t.get("width"),F=t.get("height");!P&&!F&&(P=200),P?(F=u*P,t.set("height",F)):(P=1/u*F,t.set("width",P));var k=Object(ra.b)("<div class='"+d+"' style='width: "+P+"px; height: "+F+"px; overflow: hidden; position: relative;'></div>");Object(p.O)(y)&&(y=document.getElementById(y)),y?y.appendChild(k):e.get("container").appendChild(k),t.set("container",k);var rt=Object(ra.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');k.appendChild(rt);var ut=Object(ra.b)('<span style="display: table-cell; vertical-align: middle; "></span>');rt.appendChild(ut),t.set("containerDOM",rt),t.set("containerSpan",ut);var pt=Object(ra.b)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",pt),t.updateImgSize(),ut.appendChild(pt),t.updateCanvas()},n.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),r=t.get("width"),o=t.get("height");e.onload=function(){var u=T1(e);u[0]>u[1]?e.width=r:e.height=o}},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("width"),o=e.get("canvas").getCanvasBBox(),u=o.width,d=r/u;this.set("ratio",d),this.updateViewport()}}},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.updateGraphImg=function(t){var e=this,r=e.get("imgDOM");r.remove(),e.set("graphImg",t);var o=Object(ra.b)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",o),o.src=t,e.updateImgSize();var u=e.get("containerSpan");u.appendChild(o),e.updateCanvas()},n.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},n}(qs),I1=A1,P1=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sg=function(){return sg=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},sg.apply(this,arguments)},D1=Ho.distance,xm=.05,Em={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},j1=function(l){P1(n,l);function n(){return l!==null&&l.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(p.e)(Em),showLabel:"edge",scaleRBy:"wheel"}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},n.prototype.init=function(){var t=this,e=t.get("showLabel"),r=e==="node"||e==="both",o=e==="edge"||e==="both";t.set("showNodeLabel",r),t.set("showEdgeLabel",o);var u=t.get("shouldShow");u||t.set("shouldShow",function(){return!0})},n.prototype.createDelegate=function(t){var e=this,r=e.get("delegate");(!r||r.destroyed)&&(e.filter(t),r=e.get("delegate"),r.on("dragstart",function(o){}),r.on("drag",function(o){e.filter(o)}),this.get("scaleRBy")==="wheel"&&r.on("mousewheel",function(o){e.scaleRByWheel(o)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),o,u=e.get("delegate"),d=u?{x:u.attr("x"),y:u.attr("y")}:void 0,y=d||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?o=1-xm:o=1/(1-xm);var P=e.get("maxR"),F=e.get("minR"),k=e.get("r");(k>(P||r.get("height"))&&o>1||k<(F||r.get("height")*.05)&&o<1)&&(o=1),k*=o,e.set("r",k),e.filter(t)}},n.prototype.filter=function(t){var e=this,r=e.get("graph"),o=r.getNodes(),u={},d=e.get("r"),y=e.get("type"),P={x:t.x,y:t.y};e.updateDelegate(P,d);var F=e.get("shouldShow"),k=e.get("vShapes");k&&k.forEach(function(Gt){Gt.remove(),Gt.destroy()}),k=[],o.forEach(function(Gt){var Rt=Gt.getModel(),Xt=Rt.x,Zt=Rt.y;D1({x:Xt,y:Zt},P)<d&&(u[Rt.id]=Gt)});var rt=r.getEdges(),ut=[];rt.forEach(function(Gt){var Rt=Gt.getModel(),Xt=Rt.source,Zt=Rt.target;F(Rt)&&(y==="only-source"||y==="one"?u[Xt]&&!u[Zt]&&ut.push(Gt):y==="only-target"||y==="one"?u[Zt]&&!u[Xt]&&ut.push(Gt):y==="both"&&u[Xt]&&u[Zt]&&ut.push(Gt))});var pt=e.get("showNodeLabel"),Et=e.get("showEdgelabel"),Lt=r.get("group");ut.forEach(function(Gt){var Rt=Gt.get("group").get("children");Rt.forEach(function(Xt){var Zt=Xt.get("type"),_t=Lt.addShape(Zt,{attrs:Xt.attr()});k.push(_t),pt&&Zt==="text"&&_t.set("visible",!0)})}),Object.keys(u).forEach(function(Gt){var Rt=u[Gt],Xt=Rt.get("group").clone();if(Lt.add(Xt),k.push(Xt),Et)for(var Zt=Xt.get("children"),_t=0;_t<Zt.length;_t++){var ie=Zt[_t];ie.get("type")==="text"&&ie.set("visible",!0)}}),e.set("vShapes",k)},n.prototype.updateParams=function(t){var e=this,r=t.r,o=t.trigger,u=t.minR,d=t.maxR,y=t.scaleRBy,P=t.showLabel,F=t.shouldShow;if(isNaN(t.r)||e.set("r",r),isNaN(d)||e.set("maxR",d),isNaN(u)||e.set("minR",u),(o==="mousemove"||o==="click")&&e.set("trigger",o),y==="wheel"||y==="unset"){e.set("scaleRBy",y),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}(P==="node"||P==="both")&&e.set("showNodeLabel",!0),(P==="edge"||P==="both")&&e.set("showEdgeLabel",!0),F&&e.set("shouldShow",F)},n.prototype.updateDelegate=function(t,e){var r=this,o=r.get("graph"),u=r.get("delegate");if(!u||u.destroyed){var d=o.get("group"),y=r.get("delegateStyle")||Em;u=d.addShape("circle",{attrs:sg({r:e,x:t.x,y:t.y},y),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&u.on("mousewheel",function(P){r.scaleRByWheel(P)})}else u.attr({x:t.x,y:t.y,r:e});r.set("delegate",u)},n.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(o){o.remove(),o.destroy()}),e=[],t.set("vShapes",e);var r=t.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}(qs),L1=j1,R1=function(){var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},l(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w1=Ho.pointLineDistance,B1={stroke:"#FA8C16",lineWidth:1},N1=function(l){R1(n,l);function n(t){return l.call(this,t)||this}return n.prototype.getDefaultCfgs=function(){return{line:B1,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},n.prototype.init=function(){},n.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},n.prototype.onDragStart=function(){this.initBoxLine()},n.prototype.onDrag=function(t){var e=t.item,r=e.get("delegateShape")||e,o=r.getBBox(),u=e.getModel(),d=u.x-o.x,y=u.y-o.y;this.show({x:o.minX+d,y:o.minY+y},{width:o.width,height:o.height})},n.prototype.onDragEnd=function(){this.destory()},n.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,o=t.itemAlignType,u=this.get("graph"),d=u.getNodes();d.forEach(function(y){var P=y.getBBox(),F=y.get("id");o===!0||o==="horizontal"?(e[F+"tltr"]=[P.minX,P.minY,P.maxX,P.minY,y],e[F+"lcrc"]=[P.minX,P.centerY,P.maxX,P.centerY,y],e[F+"blbr"]=[P.minX,P.maxY,P.maxX,P.maxY,y]):o==="center"&&(e[F+"lcrc"]=[P.minX,P.centerY,P.maxX,P.centerY,y]),o===!0||o==="vertical"?(r[F+"tlbl"]=[P.minX,P.minY,P.minX,P.maxY,y],r[F+"tcbc"]=[P.centerX,P.minY,P.centerX,P.maxY,y],r[F+"trbr"]=[P.maxX,P.minY,P.maxX,P.maxY,y]):o==="center"&&(r[F+"tcbc"]=[P.centerX,P.minY,P.centerX,P.maxY,y])})},n.prototype.show=function(t,e){var r=Object(p.bb)({},t);return this.itemAlign(t,e,r),t},n.prototype.itemAlign=function(t,e,r){var o=this,u=this._cfgs,d=u.horizontalLines,y=u.verticalLines,P=u.tolerance,F={x:r.x+e.width/2,y:r.y},k={x:r.x+e.width/2,y:r.y+e.height/2},rt={x:r.x+e.width/2,y:r.y+e.height},ut={x:r.x,y:r.y+e.height/2},pt={x:r.x+e.width,y:r.y+e.height/2},Et=[],Lt=[],Gt=null;if(this.clearAlignLine(),Object(p.j)(d,function(Xt){Xt[4].isVisible&&(Et.push(o.getLineDisObject(Xt,F)),Et.push(o.getLineDisObject(Xt,k)),Et.push(o.getLineDisObject(Xt,rt)))}),Object(p.j)(y,function(Xt){Xt[4].isVisible&&(Lt.push(o.getLineDisObject(Xt,ut)),Lt.push(o.getLineDisObject(Xt,k)),Lt.push(o.getLineDisObject(Xt,pt)))}),Et.sort(function(Xt,Zt){return Xt.dis-Zt.dis}),Lt.sort(function(Xt,Zt){return Xt.dis-Zt.dis}),Et.length!==0&&Et[0].dis<P){t.y=Et[0].line[1]-Et[0].point.y+r.y,Gt={type:"item",horizontals:[Et[0]]};for(var Rt=1;Rt<3;Rt++)Et[0].dis===Et[Rt].dis&&Gt.horizontals.push(Et[Rt])}if(Lt.length!==0&&Lt[0].dis<P){t.x=Lt[0].line[0]-Lt[0].point.x+r.x,Gt?Gt.verticals=[Lt[0]]:Gt={type:"item",verticals:[Lt[0]]};for(var Rt=1;Rt<3;Rt++)Lt[0].dis===Lt[Rt].dis&&Gt.verticals.push(Lt[Rt])}Gt&&(Gt.bbox=e,this.addAlignLine(Gt))},n.prototype.addAlignLine=function(t){var e=t.bbox,r=t.type,o=t.horizontals,u=t.verticals,d=this._cfgs,y=d.line,P=d.alignLines,F=this.get("graph"),k=F.get("group");r==="item"&&(o&&Object(p.j)(o,function(rt){var ut=rt.line,pt=rt.point,Et=(ut[0]+ut[2])/2,Lt,Gt;pt.x<Et?(Lt=pt.x-e.width/2,Gt=Math.max(ut[0],ut[2])):(Lt=pt.x+e.width/2,Gt=Math.min(ut[0],ut[2]));var Rt=Object(p.bb)({x1:Lt,y1:ut[1],x2:Gt,y2:ut[1]},y),Xt=k.addShape("line",{attrs:Rt,capture:!1});P.push(Xt)}),u&&Object(p.j)(u,function(rt){var ut=rt.line,pt=rt.point,Et=(ut[1]+ut[3])/2,Lt,Gt;pt.y<Et?(Lt=pt.y-e.height/2,Gt=Math.max(ut[1],ut[3])):(Lt=pt.y+e.height/2,Gt=Math.min(ut[1],ut[3]));var Rt=Object(p.bb)({x1:ut[0],y1:Lt,x2:ut[0],y2:Gt},y),Xt=k.addShape("line",{attrs:Rt,capture:!1});P.push(Xt)}))},n.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:w1(t,e)}},n.prototype.getContainer=function(){return this.get("container")},n.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(p.j)(t,function(e){e.remove()}),t.length=0},n.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,o=this.get("graph"),u=o.getNodes();u.forEach(function(d){var y=d.get("id");delete e[y+"tltr"],delete e[y+"lcrc"],delete e[y+"blbr"],delete r[y+"tlbl"],delete r[y+"tcbc"],delete r[y+"trbr"]}),this.clearAlignLine()},n}(qs),F1=N1,G1={PluginBase:qs,Menu:cx,Grid:ox,Minimap:yx,Bundling:xx,ToolBar:Ix,Tooltip:jx,Fisheye:Sx,TimeBar:M1,ImageMinimap:I1,EdgeFilterLens:L1,SnapLine:F1},U1=G1,$o=U1;Is("circle",{options:{size:An.defaultNode.size,style:{x:0,y:0,stroke:An.defaultNode.style.stroke,fill:An.defaultNode.style.fill,lineWidth:An.defaultNode.style.lineWidth},labelCfg:{style:{fill:An.nodeLabel.style.fill,fontSize:An.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:An.defaultNode.linkPoints.size,lineWidth:An.defaultNode.linkPoints.lineWidth,fill:An.defaultNode.linkPoints.fill,stroke:An.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ge.a)({},An.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),u=Object(p.h)({},r,n.icon),d=t.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0}),y=u.width,P=u.height,F=u.show,k=u.text;return F&&(k?t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ge.a)({x:-y/2,y:-P/2},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),d},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,u=r.left,d=r.right,y=r.bottom,P=r.size,F=r.r,k=Object(ge.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ut=rt[0]/2;u&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:-ut,y:0,r:P/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:ut,y:0,r:P/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:-ut,r:P/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),y&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:ut,r:P/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.h)({},t,e),o=this.getSize(n),u=o[0]/2,d=Object(ge.a)({x:0,y:0,r:u},r);return d},update:function(n,t){var e=t.getContainer(),r=this.getSize(n),o={stroke:n.color,r:r[0]/2},u=t.get("keyShape"),d=Object(p.h)({},u.attr(),o,n.style);this.updateShape(n,t,d,!0),this.updateLinkPoints(n,e)}},"single-node"),Is("rect",{options:{size:[100,30],style:{radius:0,stroke:An.defaultNode.style.stroke,fill:An.defaultNode.style.fill,lineWidth:An.defaultNode.style.lineWidth},labelCfg:{style:{fill:An.nodeLabel.style.fill,fontSize:An.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:An.defaultNode.linkPoints.size,lineWidth:An.defaultNode.linkPoints.lineWidth,fill:An.defaultNode.linkPoints.fill,stroke:An.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ge.a)({},An.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(n,t),r},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,u=r.left,d=r.right,y=r.bottom,P=r.size,F=r.r,k=Object(ge.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ut=rt[0],pt=rt[1];u&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:-ut/2,y:0,r:P/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:ut/2,y:0,r:P/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:-pt/2,r:P/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),y&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:pt/2,r:P/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),o=this.getSize(n),u=r.width||o[0],d=r.height||o[1],y=Object(ge.a)({x:-u/2,y:-d/2,width:u,height:d},r);return y},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getSize(n),u=t.get("keyShape");n.size||(o[0]=u.attr("width")||r.width,o[1]=u.attr("height")||r.height);var d={stroke:n.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},y=Object(p.bb)({},r,u.attr(),d);y=Object(p.bb)(y,n.style),this.updateShape(n,t,y,!1),this.updateLinkPoints(n,e)}},"single-node"),Is("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:An.defaultNode.style.stroke,fill:An.defaultNode.style.fill,lineWidth:An.defaultNode.style.lineWidth},labelCfg:{style:{fill:An.nodeLabel.style.fill,fontSize:An.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:An.defaultNode.linkPoints.size,lineWidth:An.defaultNode.linkPoints.lineWidth,fill:An.defaultNode.linkPoints.fill,stroke:An.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ge.a)({},An.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),u=t.addShape("ellipse",{attrs:o,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),d=r.width,y=r.height,P=r.show,F=r.text;return P&&(F?t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ge.a)({x:-d/2,y:-y/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),u},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,u=r.left,d=r.right,y=r.bottom,P=r.size,F=r.r,k=Object(ge.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ut=rt[0]/2,pt=rt[1]/2;u&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:-ut,y:0,r:P/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:ut,y:0,r:P/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:-pt,r:P/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),y&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:pt,r:P/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),o=this.getSize(n),u=o[0]/2,d=o[1]/2,y=Object(ge.a)({x:0,y:0,rx:u,ry:d},r);return y},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getSize(n),u={stroke:n.color,rx:o[0]/2,ry:o[1]/2},d=t.get("keyShape"),y=Object(p.bb)({},r,d.attr(),u);y=Object(p.bb)(y,n.style),this.updateShape(n,t,y,!0),this.updateLinkPoints(n,e)}},"single-node"),Is("diamond",{options:{size:[80,80],style:{stroke:An.defaultNode.style.stroke,fill:An.defaultNode.style.fill,lineWidth:An.defaultNode.style.lineWidth},labelCfg:{style:{fill:An.nodeLabel.style.fill,fontSize:An.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:An.defaultNode.linkPoints.size,lineWidth:An.defaultNode.linkPoints.lineWidth,fill:An.defaultNode.linkPoints.fill,stroke:An.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ge.a)({},An.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),u=t.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),d=r.width,y=r.height,P=r.show,F=r.text;return P&&(F?t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ge.a)({x:-d/2,y:-y/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),u},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,u=r.left,d=r.right,y=r.bottom,P=r.size,F=r.r,k=Object(ge.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ut=rt[0],pt=rt[1];u&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:-ut/2,y:0,r:P/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:ut/2,y:0,r:P/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:-pt/2,r:P/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),y&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:pt/2,r:P/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(n){var t=this.getSize(n),e=t[0],r=t[1],o=[["M",0,-r/2],["L",e/2,0],["L",0,r/2],["L",-e/2,0],["Z"]];return o},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),o=this.getPath(n),u=Object(ge.a)({path:o},r);return u},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getPath(n),u={stroke:n.color,path:o},d=t.get("keyShape"),y=Object(p.bb)({},r,d.attr(),u);y=Object(p.bb)(y,n.style),this.updateShape(n,t,y,!0),this.updateLinkPoints(n,e)}},"single-node"),Is("triangle",{options:{size:40,direction:"up",style:{stroke:An.defaultNode.style.stroke,fill:An.defaultNode.style.fill,lineWidth:An.defaultNode.style.lineWidth},labelCfg:{style:{fill:An.nodeLabel.style.fill,fontSize:An.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:An.defaultNode.linkPoints.size,lineWidth:An.defaultNode.linkPoints.lineWidth,fill:An.defaultNode.linkPoints.fill,stroke:An.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(ge.a)({},An.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(n,t){var e=this.getOptions(n),r=e.icon,o=r===void 0?{}:r,u=e.direction,d=this.getShapeStyle(n),y=n.direction||u,P=t.addShape("path",{attrs:d,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),F=o.width,k=o.height,rt=o.show,ut=o.offset,pt=o.text;if(rt)if(pt)t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});else{var Et=-F/2,Lt=-k/2;(y==="up"||y==="down")&&(Lt+=ut),(y==="left"||y==="right")&&(Et+=ut),t.addShape("image",{attrs:Object(ge.a)({x:Et,y:Lt},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(n,t),P},drawLinkPoints:function(n,t){var e=this.getOptions(n),r=e.linkPoints,o=r===void 0?{}:r,u=e.direction,d=n.direction||u,y=o.top,P=o.left,F=o.right,k=o.bottom,rt=o.size,ut=o.r,pt=Object(ge.e)(o,["top","left","right","bottom","size","r"]),Et=this.getSize(n),Lt=Et[0];if(P){var Gt=null,Rt=Lt*Math.sin(1/3*Math.PI),Xt=Lt*Math.sin(1/3*Math.PI);d==="up"?Gt=[-Xt,Rt]:d==="down"?Gt=[-Xt,-Rt]:d==="left"&&(Gt=[-Xt,Xt-Rt]),Gt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},pt),{x:Gt[0],y:Gt[1],r:rt/2||ut||5}),className:"link-point-left",name:"link-point-left"})}if(F){var Zt=null,Rt=Lt*Math.sin(1/3*Math.PI),Xt=Lt*Math.sin(1/3*Math.PI);d==="up"?Zt=[Xt,Rt]:d==="down"?Zt=[Xt,-Rt]:d==="right"&&(Zt=[Xt,Xt-Rt]),Zt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},pt),{x:Zt[0],y:Zt[1],r:rt/2||ut||5}),className:"link-point-right",name:"link-point-right"})}if(y){var _t=null,Rt=Lt*Math.sin(1/3*Math.PI),Xt=Lt*Math.sin(1/3*Math.PI);d==="up"?_t=[Xt-Rt,-Rt]:d==="left"?_t=[Xt,-Rt]:d==="right"&&(_t=[-Xt,-Rt]),_t&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},pt),{x:_t[0],y:_t[1],r:rt/2||ut||5}),className:"link-point-top",name:"link-point-top"})}if(k){var ie=null,Rt=Lt*Math.sin(1/3*Math.PI),Xt=Lt*Math.sin(1/3*Math.PI);d==="down"?ie=[-Xt+Rt,Rt]:d==="left"?ie=[Xt,Rt]:d==="right"&&(ie=[-Xt,Rt]),ie&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},pt),{x:ie[0],y:ie[1],r:rt/2||ut||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(n){var t=this.getOptions(n).direction,e=n.direction||t,r=this.getSize(n),o=r[0],u=o*Math.sin(1/3*Math.PI),d=o*Math.sin(1/3*Math.PI),y=[["M",-d,u],["L",0,-u],["L",d,u],["Z"]];return e==="down"?y=[["M",-d,-u],["L",d,-u],["L",0,u],["Z"]]:e==="left"?y=[["M",-d,d-u],["L",d,-d],["L",d,d],["Z"]]:e==="right"&&(y=[["M",d,d-u],["L",-d,d],["L",-d,-d],["Z"]]),y},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),o=this.getPath(n),u=Object(ge.a)({path:o},r);return u},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getPath(n),u={stroke:n.color,path:o},d=t.get("keyShape"),y=Object(p.bb)({},r,d.attr(),u);y=Object(p.bb)(y,n.style),this.updateShape(n,t,y,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}),r=e.linkPoints,o=e.direction,u=n.direction||o,d=t.find(function(Mn){return Mn.get("className")==="link-point-left"}),y=t.find(function(Mn){return Mn.get("className")==="link-point-right"}),P=t.find(function(Mn){return Mn.get("className")==="link-point-top"}),F=t.find(function(Mn){return Mn.get("className")==="link-point-bottom"}),k=r,rt=d||y||P||F;rt&&(k=rt.attr());var ut=Object(p.bb)({},k,n.linkPoints),pt=ut.fill,Et=ut.stroke,Lt=ut.lineWidth,Gt=ut.size/2;Gt||(Gt=ut.r);var Rt=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Xt=Rt.left,Zt=Rt.right,_t=Rt.top,ie=Rt.bottom,ce=this.getSize(n),be=ce[0],Pe={r:Gt,fill:pt,stroke:Et,lineWidth:Lt},Se=null,Ue=be*Math.sin(1/3*Math.PI),Ye=be*Math.sin(1/3*Math.PI);u==="up"?Se=[-Ye,Ue]:u==="down"?Se=[-Ye,-Ue]:u==="left"&&(Se=[-Ye,Ye-Ue]),Se&&(d?!Xt&&Xt!==void 0?d.remove():d.attr(Object(ge.a)(Object(ge.a)({},Pe),{x:Se[0],y:Se[1]})):Xt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},Pe),{x:Se[0],y:Se[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Ur=null;u==="up"?Ur=[Ye,Ue]:u==="down"?Ur=[Ye,-Ue]:u==="right"&&(Ur=[Ye,Ye-Ue]),Ur&&(y?!Zt&&Zt!==void 0?y.remove():y.attr(Object(ge.a)(Object(ge.a)({},Pe),{x:Ur[0],y:Ur[1]})):Zt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},Pe),{x:Ur[0],y:Ur[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Wr=null;u==="up"?Wr=[Ye-Ue,-Ue]:u==="left"?Wr=[Ye,-Ue]:u==="right"&&(Wr=[-Ye,-Ue]),Wr&&(P?!_t&&_t!==void 0?P.remove():P.attr(Object(ge.a)(Object(ge.a)({},Pe),{x:Wr[0],y:Wr[1]})):_t&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},Pe),{x:Wr[0],y:Wr[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var zr=null;u==="down"?zr=[-Ye+Ue,Ue]:u==="left"?zr=[Ye,Ue]:u==="right"&&(zr=[-Ye,Ue]),zr&&(F?!ie&&ie!==void 0?F.remove():F.attr(Object(ge.a)(Object(ge.a)({},Pe),{x:zr[0],y:zr[1]})):ie&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},Pe),{x:zr[0],y:zr[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Is("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:An.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(n,t){var e=this.getOptions(n).preRect,r=e===void 0?{}:e,o=this.getShapeStyle(n),u=this.getSize(n),d=u[0],y=u[1],P=t.addShape("rect",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),F=r.show,k=Object(ge.e)(r,["show"]);return F&&t.addShape("rect",{attrs:Object(ge.a)({x:-d/2,y:-y/2,height:y},k),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(n,t),this.drawStateIcon(n,t),this.drawLinkPoints(n,t),P},drawLogoIcon:function(n,t){var e=this.getOptions(n).logoIcon,r=e===void 0?{}:e,o=this.getSize(n),u=o[0];if(r.show){var d=r.width,y=r.height,P=r.x,F=r.y,k=r.offset,rt=r.text,ut=Object(ge.e)(r,["width","height","x","y","offset","text"]);rt?t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},ut),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:Object(ge.a)(Object(ge.a)({},ut),{x:P||-u/2+d+k,y:F||-y/2,width:d,height:y}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(n,t){var e=this.getOptions(n).stateIcon,r=e===void 0?{}:e,o=this.getSize(n),u=o[0];if(r.show){var d=r.width,y=r.height,P=r.x,F=r.y,k=r.offset,rt=r.text,ut=Object(ge.e)(r,["width","height","x","y","offset","text"]);rt?t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},ut),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:Object(ge.a)(Object(ge.a)({},ut),{x:P||u/2-d+k,y:F||-y/2,width:d,height:y}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,u=r.left,d=r.right,y=r.bottom,P=r.size,F=r.r,k=Object(ge.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ut=rt[0],pt=rt[1];u&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:-ut/2,y:0,r:P/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:ut/2,y:0,r:P/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:-pt/2,r:P/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),y&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},k),{x:0,y:pt/2,r:P/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(n,t){var e=this.getOptions(n),r=e.labelCfg,o=r===void 0?{}:r,u=e.logoIcon,d=u===void 0?{}:u,y=e.descriptionCfg,P=y===void 0?{}:y,F=this.getSize(n),k=F[0],rt=null,ut=d.show,pt=d.width,Et=-k/2+o.offset;ut&&(Et=-k/2+pt+o.offset);var Lt=o.style,Gt=P.style,Rt=P.paddingTop;return Object(p.O)(n.description)?(rt=t.addShape("text",{attrs:Object(ge.a)(Object(ge.a)({},Lt),{x:Et,y:-5,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Object(ge.a)(Object(ge.a)({},Gt),{x:Et,y:17+(Rt||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0})):rt=t.addShape("text",{attrs:Object(ge.a)(Object(ge.a)({},Lt),{x:Et,y:7,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),rt},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),o=this.getSize(n),u=r.width||o[0],d=r.height||o[1],y=Object(ge.a)({x:-u/2,y:-d/2,width:u,height:d},r);return y},update:function(n,t){var e=this.getOptions(n),r=e.style,o=r===void 0?{}:r,u=e.labelCfg,d=u===void 0?{}:u,y=e.descriptionCfg,P=y===void 0?{}:y,F=this.getSize(n),k=F[0],rt=F[1],ut=t.get("keyShape");ut.attr(Object(ge.a)(Object(ge.a)({},o),{x:-k/2,y:-rt/2,width:k,height:rt}));var pt=t.getContainer(),Et=pt.find(function(sa){return sa.get("className")==="rect-logo-icon"}),Lt=Et?Et.attr():{},Gt=Object(p.bb)({},Lt,n.logoIcon),Rt=Gt.width;Rt===void 0&&(Rt=this.options.logoIcon.width);var Xt=n.logoIcon?n.logoIcon.show:void 0,Zt=d.offset,_t=-k/2+Rt+Zt;!Xt&&Xt!==void 0&&(_t=-k/2+Zt);var ie=pt.find(function(sa){return sa.get("className")==="node-label"}),ce=pt.find(function(sa){return sa.get("className")==="rect-description"});if(n.label)if(!ie)pt.addShape("text",{attrs:Object(ge.a)(Object(ge.a)({},d.style),{x:_t,y:n.description?-5:7,text:n.label}),className:"node-label",name:"node-label",draggable:!0});else{var be=n.labelCfg?n.labelCfg.style:{},Pe=Object(p.bb)({},ie.attr(),be);n.label&&(Pe.text=n.label),Pe.x=_t,Object(p.O)(n.description)&&(Pe.y=-5),ce&&(ce.resetMatrix(),ce.attr({x:_t})),ie.resetMatrix(),ie.attr(Pe)}if(Object(p.O)(n.description)){var Se=P.paddingTop;if(!ce)pt.addShape("text",{attrs:Object(ge.a)(Object(ge.a)({},P.style),{x:_t,y:17+(Se||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var be=n.descriptionCfg?n.descriptionCfg.style:{},Ue=Object(p.bb)({},ce.attr(),be);Object(p.O)(n.description)&&(Ue.text=n.description),Ue.x=_t,ce.resetMatrix(),ce.attr(Object(ge.a)(Object(ge.a)({},Ue),{y:17+(Se||0)}))}}var Ye=pt.find(function(sa){return sa.get("className")==="pre-rect"});if(Ye){var Ur=Object(p.bb)({},Ye.attr(),n.preRect);Ye.attr(Object(ge.a)(Object(ge.a)({},Ur),{x:-k/2,y:-rt/2,height:rt}))}if(Et)if(!Xt&&Xt!==void 0)Et.remove();else{var Wr=Gt.width,zr=Gt.height,Mn=Gt.x,xn=Gt.y,on=Gt.offset,un=Object(ge.e)(Gt,["width","height","x","y","offset"]);Et.attr(Object(ge.a)(Object(ge.a)({},un),{x:Mn||-k/2+Wr+on,y:xn||-zr/2,width:Wr,height:zr}))}else Xt&&this.drawLogoIcon(n,pt);var pn=pt.find(function(sa){return sa.get("className")==="rect-state-icon"}),kr=pn?pn.attr():{},bn=Object(p.bb)({},kr,n.stateIcon);if(pn){!bn.show&&bn.show!==void 0&&pn.remove();var Vn=bn.width,zr=bn.height,Mn=bn.x,xn=bn.y,Kr=bn.offset,vn=Object(ge.e)(bn,["width","height","x","y","offset"]);pn.attr(Object(ge.a)(Object(ge.a)({},vn),{x:Mn||k/2-Vn+Kr,y:xn||-zr/2,width:Vn,height:zr}))}else bn.show&&this.drawStateIcon(n,pt);this.updateLinkPoints(n,pt)}},"single-node"),Is("star",{options:{size:60,style:{stroke:An.defaultNode.style.stroke,fill:An.defaultNode.style.fill,lineWidth:An.defaultNode.style.lineWidth},labelCfg:{style:{fill:An.nodeLabel.style.fill,fontSize:An.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:An.defaultNode.linkPoints.size,lineWidth:An.defaultNode.linkPoints.lineWidth,fill:An.defaultNode.linkPoints.fill,stroke:An.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ge.a)({},An.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),u=t.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),d=r.width,y=r.height,P=r.show,F=r.text;return P&&(F?t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ge.a)({x:-d/2,y:-y/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),u},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,u=r.left,d=r.right,y=r.leftBottom,P=r.rightBottom,F=r.size,k=r.r,rt=Object(ge.e)(r,["top","left","right","leftBottom","rightBottom","size","r"]),ut=this.getSize(n),pt=ut[0];if(d){var Et=Math.cos((18+72*0)/180*Math.PI)*pt,Lt=Math.sin((18+72*0)/180*Math.PI)*pt;t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},rt),{x:Et,y:-Lt,r:F/2||k||5}),className:"link-point-right",name:"link-point-right"})}if(o){var Et=Math.cos((18+72*1)/180*Math.PI)*pt,Lt=Math.sin((18+72*1)/180*Math.PI)*pt;t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},rt),{x:Et,y:-Lt,r:F/2||k||5}),className:"link-point-top",name:"link-point-top"})}if(u){var Et=Math.cos((18+72*2)/180*Math.PI)*pt,Lt=Math.sin((18+72*2)/180*Math.PI)*pt;t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},rt),{x:Et,y:-Lt,r:F/2||k||5}),className:"link-point-left",name:"link-point-left"})}if(y){var Et=Math.cos((18+72*3)/180*Math.PI)*pt,Lt=Math.sin((18+72*3)/180*Math.PI)*pt;t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},rt),{x:Et,y:-Lt,r:F/2||k||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(P){var Et=Math.cos((18+72*4)/180*Math.PI)*pt,Lt=Math.sin((18+72*4)/180*Math.PI)*pt;t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},rt),{x:Et,y:-Lt,r:F/2||k||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(n){for(var t=this.getSize(n),e=t[0],r=e*3/8,o=n.innerR||r,u=[],d=0;d<5;d++){var y=Math.cos((18+72*d)/180*Math.PI)*e,P=Math.sin((18+72*d)/180*Math.PI)*e,F=Math.cos((54+72*d)/180*Math.PI)*o,k=Math.sin((54+72*d)/180*Math.PI)*o;d===0?u.push(["M",y,-P]):u.push(["L",y,-P]),u.push(["L",F,-k])}return u.push(["Z"]),u},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),o=this.getPath(n),u=Object(ge.a)({path:o},r);return u},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getPath(n),u={stroke:n.color,path:o},d=t.get("keyShape"),y=Object(p.bb)({},r,d.attr(),u);y=Object(p.bb)(y,n.style),this.updateShape(n,t,y,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}).linkPoints,r=t.find(function(Ue){return Ue.get("className")==="link-point-left"}),o=t.find(function(Ue){return Ue.get("className")==="link-point-right"}),u=t.find(function(Ue){return Ue.get("className")==="link-point-top"}),d=t.find(function(Ue){return Ue.get("className")==="link-point-left-bottom"}),y=t.find(function(Ue){return Ue.get("className")==="link-point-right-bottom"}),P=e,F=r||o||u||d||y;F&&(P=F.attr());var k=Object(p.bb)({},P,n.linkPoints),rt=k.fill,ut=k.stroke,pt=k.lineWidth,Et=k.size/2;Et||(Et=k.r);var Lt=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},Gt=Lt.left,Rt=Lt.right,Xt=Lt.top,Zt=Lt.leftBottom,_t=Lt.rightBottom,ie=this.getSize(n),ce=ie[0],be={r:Et,fill:rt,stroke:ut,lineWidth:pt},Pe=Math.cos((18+72*0)/180*Math.PI)*ce,Se=Math.sin((18+72*0)/180*Math.PI)*ce;o?!Rt&&Rt!==void 0?o.remove():o.attr(Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se})):Rt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Pe=Math.cos((18+72*1)/180*Math.PI)*ce,Se=Math.sin((18+72*1)/180*Math.PI)*ce,u?!Xt&&Xt!==void 0?u.remove():u.attr(Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se})):Xt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Pe=Math.cos((18+72*2)/180*Math.PI)*ce,Se=Math.sin((18+72*2)/180*Math.PI)*ce,r?!Gt&&Gt!==void 0?r.remove():r.attr(Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se})):Gt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Pe=Math.cos((18+72*3)/180*Math.PI)*ce,Se=Math.sin((18+72*3)/180*Math.PI)*ce,d?!Zt&&Zt!==void 0?d.remove():d.attr(Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se})):Zt&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Pe=Math.cos((18+72*4)/180*Math.PI)*ce,Se=Math.sin((18+72*4)/180*Math.PI)*ce,y?!_t&&_t!==void 0?d.remove():y.attr(Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se})):_t&&t.addShape("circle",{attrs:Object(ge.a)(Object(ge.a)({},be),{x:Pe,y:-Se}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var Ad=Ho.defaultSubjectColors;Is("donut",{options:{size:An.defaultNode.size,style:{x:0,y:0,stroke:An.defaultNode.style.stroke,fill:An.defaultNode.style.fill,lineWidth:An.defaultNode.style.lineWidth},labelCfg:{style:{fill:An.nodeLabel.style.fill,fontSize:An.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:An.defaultNode.linkPoints.size,lineWidth:An.defaultNode.linkPoints.lineWidth,fill:An.defaultNode.linkPoints.fill,stroke:An.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ge.a)({},An.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),u=Object(p.h)({},r,n.icon),d=t.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0,name:this.type+"-keyShape"}),y=u.width,P=u.height,F=u.show,k=u.text;F&&(k?t.addShape("text",{attrs:Object(ge.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ge.a)({x:-y/2,y:-P/2},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}));var rt=d.attr("r"),ut=.6*rt,pt=(rt+ut)/2,Et=n,Lt=Et.donutAttrs,Gt=Lt===void 0?{}:Lt,Rt=Et.donutColorMap,Xt=Rt===void 0?{}:Rt,Zt=Object.keys(Gt).length;if(Gt&&Zt>1){var _t=[],ie=0;if(Object.keys(Gt).forEach(function(Se){var Ue=Gt[Se]||0;!Object(p.K)(Ue)||(_t.push({key:Se,value:Ue,color:Xt[Se]}),ie+=Ue)}),ie){var ce=rt-ut;if(Zt===1){t.addShape("circle",{attrs:{r:pt,x:0,y:0,stroke:_t[0].color||Ad[0],lineWidth:ce},name:"fan-shape-0"});return}var be=[pt,0],Pe=0;_t.forEach(function(Se,Ue){var Ye=Se.value/ie;if(!(Ye<.001)){if(Ye>.999&&(Ye=1),Ye===1){t.addShape("circle",{attrs:{r:pt,x:0,y:0,stroke:Se.color||Ad[Ue%Ad.length],lineWidth:ce},name:"fan-shape-"+Ue});return}Se.percent=Ye,Se.angle=Ye*Math.PI*2,Se.beginAgnle=Pe,Pe+=Se.angle,Se.endAngle=Pe,Se.arcBegin=be,Se.arcEnd=[pt*Math.cos(Se.endAngle),-pt*Math.sin(Se.endAngle)];var Ur=Se.angle>Math.PI?1:0,Wr=[["M",Se.arcBegin[0],Se.arcBegin[1]],["A",pt,pt,0,Ur,0,Se.arcEnd[0],Se.arcEnd[1]],["L",Se.arcEnd[0],Se.arcEnd[1]]];t.addShape("path",{attrs:{path:Wr,lineWidth:ce,stroke:Se.color||Ad[Ue%Ad.length]},name:"fan-shape-"+Ue}),be=Se.arcEnd}})}}return this.drawLinkPoints(n,t),d},update:void 0},"circle");var bv=function(n){var t=n.x,e=n.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},W1=function(n){n===void 0&&(n=[]);var t=[],e=[];n.forEach(function(y){t.push(y.x),e.push(y.y)});var r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),u=Math.min.apply(Math,e),d=Math.max.apply(Math,e);return{centerX:(r+o)/2,centerY:(u+d)/2,maxX:o,maxY:d,minX:r,minY:u,height:d-u,width:o-r}},PM=function(n,t){return Math.abs(n.centerX-t.centerX)*2<n.width+t.width&&Math.abs(n.centerY-t.centerY)*2<n.height+t.height},lg=function(n){for(var t=[],e={},r=n.length,o=r-1;o>=0;o--){var u=n[o];u.id=u.x+"|||"+u.y,e[u.id]=u,t.push(u)}return t},Mm=function(n){return lg(n)},DM=function(n,t){return[n,{x:n.x,y:t.y},t]},Ov=function(n,t){return n.width||n.height?{centerX:n.centerX,centerY:n.centerY,minX:n.minX-t,minY:n.minY-t,maxX:n.maxX+t,maxY:n.maxY+t,height:n.height+2*t,width:n.width+2*t}:n},z1=function(n,t){var e=Math.abs(n.x-t.centerX),r=Math.abs(n.y-t.centerY);return e===0&&r===0?0:e/t.width>r/t.height},ug=function(n,t,e){var r=z1(t,n);if(r===0){var o=n.centerX,u=n.centerY;return e.y<t.y?u=n.minY:e.x>t.x?o=n.maxX:e.x<t.x?o=n.minX:e.x===t.x&&(u=n.maxY),{x:o,y:u}}return r?{x:t.x>n.centerX?n.maxX:n.minX,y:t.y}:{x:t.x,y:t.y>n.centerY?n.maxY:n.minY}},Sm=function(n,t){var e=Math.min(n.minX,t.minX),r=Math.min(n.minY,t.minY),o=Math.max(n.maxX,t.maxX),u=Math.max(n.maxY,t.maxY);return{centerX:(e+o)/2,centerY:(r+u)/2,minX:e,minY:r,maxX:o,maxY:u,height:u-r,width:o-e}},cg=function(n){return[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.maxX,y:n.maxY},{x:n.minX,y:n.maxY}]},xv=function(n,t){var e=n.x,r=n.y;return e<t.minX||e>t.maxX||r<t.minY||r>t.maxY},k1=function(n,t){return t<n.minX||t>n.maxX?[]:[{x:t,y:n.minY},{x:t,y:n.maxY}]},V1=function(n,t){return t<n.minY||t>n.maxY?[]:[{x:n.minX,y:t},{x:n.maxX,y:t}]},X1=function(n,t){return k1(n,t.x).concat(V1(n,t.y))},Id=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},H1=function(n,t){var e=-2,r=0;return t.forEach(function(o){o&&(n.x===o.x&&(r+=e),n.y===o.y&&(r+=e))}),r},Cm=function(n,t,e,r,o){return Id(n,t)+Id(n,e)+H1(n,[t,e,r,o])},Y1=function l(n,t,e,r,o){o===void 0&&(o=0),n.unshift(t[r]),e[r]&&e[r]!==r&&o<=100&&l(n,t,e,e[r],o+1)},K1=function(n,t){var e=n.indexOf(t);e>-1&&n.splice(e,1)},Ev=function(n,t,e,r){var o=e.x-n.x,u=e.y-n.y,d=r.x-n.x,y=r.y-n.y,P=e.x-t.x,F=e.y-t.y,k=r.x-t.x,rt=r.y-t.y,ut=o*y-u*d,pt=P*rt-F*k,Et=o*F-u*P,Lt=d*rt-y*k;return ut*pt<=0&&Et*Lt<=0},fg=function(n,t,e){if(e.width||e.height){var r=cg(e),o=r[0],u=r[1],d=r[2],y=r[3];return Ev(n,t,o,u)||Ev(n,t,o,y)||Ev(n,t,u,d)||Ev(n,t,d,y)}return!1},Z1=function(n,t,e,r){var o=[];return n.forEach(function(u){if(u!==t&&(u.x===t.x||u.y===t.y)){if(fg(u,t,e)||fg(u,t,r))return;o.push(u)}}),lg(o)},$1=function(n,t,e,r,o,u,d){var y=[],P=[t],F={},k={},rt={};k[t.id]=0,rt[t.id]=Cm(t,e,t);var ut={};n.forEach(function(Gt){ut[Gt.id]=Gt});for(var pt,Et;P.length;){if(pt=void 0,Et=Infinity,P.forEach(function(Gt){rt[Gt.id]<=Et&&(Et=rt[Gt.id],pt=Gt)}),pt===e){var Lt=[];return Y1(Lt,ut,F,e.id),Lt}K1(P,pt),y.push(pt),Z1(n,pt,r,o).forEach(function(Gt){if(y.indexOf(Gt)===-1){P.indexOf(Gt)===-1&&P.push(Gt);var Rt=rt[pt.id]+Id(pt,Gt);k[Gt.id]&&Rt>=k[Gt.id]||(F[Gt.id]=pt.id,k[Gt.id]=Rt,rt[Gt.id]=k[Gt.id]+Cm(Gt,e,t,u,d))}})}return[t,e]},Q1=function(n,t,e){return!(n.x===t.x&&t.x===e.x||n.y===t.y&&t.y===e.y)},J1=function(n,t,e,r){var o=Id(n,t),u=Id(e,t);o<r&&(r=o),u<r&&(r=u);var d={x:t.x-r/o*(t.x-n.x),y:t.y-r/o*(t.y-n.y)},y={x:t.x-r/u*(t.x-e.x),y:t.y-r/u*(t.y-e.y)};return[d,y]},Tm=function(n,t){var e=[],r=n[0];return e.push("M"+r.x+" "+r.y),n.forEach(function(o,u){var d=n[u+1],y=n[u+2];if(d&&y)if(Q1(o,d,y)){var P=J1(o,d,y,t),F=P[0],k=P[1];e.push("L"+F.x+" "+F.y),e.push("Q"+d.x+" "+d.y+" "+k.x+" "+k.y),e.push("L"+k.x+" "+k.y)}else e.push("L"+d.x+" "+d.y);else d&&e.push("L"+d.x+" "+d.y)}),e.join("")},Am=function(n,t,e,r,o){var u,d;if(!e||!e.getType())u=bv(n);else if(e.getType()==="combo"){var y=e.getKeyShape();u=y.getCanvasBBox()||bv(n),u.centerX=(u.minX+u.maxX)/2,u.centerY=(u.minY+u.maxY)/2}else u=e.getBBox();if(!r||!r.getType())d=bv(t);else if(r.getType()==="combo"){var P=r.getKeyShape().getBBox();if(P){var F=r.getModel(),k=F.x,rt=F.y;d={x:k,y:rt,width:P.width,height:P.height,minX:P.minX+k,maxX:P.maxX+k,minY:P.minY+rt,maxY:P.maxY+rt},d.centerX=(d.minX+d.maxX)/2,d.centerY=(d.minY+d.maxY)/2}else d=bv(t)}else d=r&&r.getBBox();var ut=Ov(u,o),pt=Ov(d,o),Et=ug(ut,n,t),Lt=ug(pt,t,n),Gt=W1([Et,Lt]),Rt=Sm(ut,Gt),Xt=Sm(pt,Gt),Zt=[];Zt=Zt.concat(cg(Rt)).concat(cg(Xt));var _t={x:(n.x+t.x)/2,y:(n.y+t.y)/2};[Gt,Rt,Xt].forEach(function(ce){Zt=Zt.concat(X1(ce,_t).filter(function(be){return xv(be,ut)&&xv(be,pt)}))}),[{x:Et.x,y:Lt.y},{x:Lt.x,y:Et.y}].forEach(function(ce){xv(ce,ut)&&xv(ce,pt)&&Zt.push(ce)}),Zt.unshift(Et),Zt.push(Lt),Zt=lg(Zt);var ie=$1(Zt,Et,Lt,u,d,n,t);return ie.unshift(n),ie.push(t),Mm(ie)},_1=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},q1=function(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},tE=function(n,t){return[n,t]},eE=function(n,t,e,r,o){return Mm(Am(n,t,e,r,o.offset))},rE={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:_1,fallbackRoute:eE},jM={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:q1,fallbackRoute:tE},Wu=function(n,t){var e=Math.round(Math.abs(n/t)),r=n<0?-1:1;return e<0?0:r*e},nE=function(n,t,e){var r={};return n.forEach(function(o){if(!!o)for(var u=Ov(o.getBBox(),e),d=Wu(u.minX,t);d<=Wu(u.maxX,t);d+=1)for(var y=Wu(u.minY,t);y<=Wu(u.maxY,t);y+=1)r[d+"|||"+y]=!0}),r},hg=function(n,t){var e=t.x-n.x,r=t.y-n.y;return e||r?Math.atan2(r,e):0},Im=function(n,t){var e=Math.abs(n-t);return e>Math.PI?2*Math.PI-e:e},Pm=function(n,t,e){for(var r=Infinity,o=0,u=t.length;o<u;o++){var d=e(n,t[o]);d<r&&(r=d)}return r},Dm=function(n,t,e,r,o){var u=[];if(!e)return[n];var d=o.directions,y=o.offset,P=e.getBBox(),F=t.x>P.minX&&t.x<P.maxX&&t.y>P.minY&&t.y<P.maxY,k=Ov(P,y);for(var rt in k)k[rt]=Wu(k[rt],o.gridSize);if(F){for(var ut=0,pt=d;ut<pt.length;ut++)for(var Et=pt[ut],Lt=[[{x:k.minX,y:k.minY},{x:k.maxX,y:k.minY}],[{x:k.minX,y:k.minY},{x:k.minX,y:k.maxY}],[{x:k.maxX,y:k.minY},{x:k.maxX,y:k.maxY}],[{x:k.minX,y:k.maxY},{x:k.maxX,y:k.maxY}]],rt=0;rt<4;rt++){var Gt=Lt[rt],Rt=Ho.getLineIntersect(n,{x:n.x+Et.stepX*k.width,y:n.y+Et.stepY*k.height},Gt[0],Gt[1]);Rt&&!fg(n,Rt,P)&&(Rt.id=Rt.x+"|||"+Rt.y,u.push(Rt))}return u}var Xt=ug(k,n,r);return Xt.id=Xt.x+"|||"+Xt.y,[Xt]},dg=function(n,t,e,r){var o=hg(n,t);if(!e[n.id]){var u=hg(r,n);return Im(u,o)}var d=hg({x:e[n.id].x,y:e[n.id].y},n);return Im(d,o)},aE=function(n,t,e,r,o,u,d){var y=[r],P=n.id,F=n.x,k=n.y,rt={x:F,y:k,id:P};for(dg(rt,u,t,e)&&y.unshift({x:u.x===r.x?r.x:rt.x*d,y:u.y===r.y?r.y:rt.y*d});t[P]&&t[P].id!==P;){var ut={x:F,y:k,id:P},pt=t[P].id,Et=t[P].x,Lt=t[P].y,Gt={x:Et,y:Lt,id:pt},Rt=dg(Gt,ut,t,e);Rt&&y.unshift({x:Gt.x===ut.x?y[0].x:Gt.x*d,y:Gt.y===ut.y?y[0].y:Gt.y*d}),P=pt,F=Et,k=Lt}var Xt={x:F,y:k,id:P};return y[0].x=Xt.x===e.x?o.x:y[0].x,y[0].y=Xt.y===e.y?o.y:y[0].y,y.unshift(o),y},iE=function(n,t,e,r,o){if(isNaN(n.x)||isNaN(t.x))return[];var u=Object(p.h)(rE,o);u.obstacles=u.obstacles||[];var d=u.gridSize,y=nE(u.obstacles.concat([e,r]),d,u.offset),P={x:Wu(n.x,d),y:Wu(n.y,d)},F={x:Wu(t.x,d),y:Wu(t.y,d)};n.id=P.x+"|||"+P.y,t.id=F.x+"|||"+F.y;var k=Dm(P,n,e,F,u),rt=Dm(F,t,r,P,u);k.forEach(function(Ur){delete y[Ur.id]}),rt.forEach(function(Ur){delete y[Ur.id]});for(var ut={},pt={},Et={},Lt={},Gt={},Rt=0;Rt<k.length;Rt++){var Xt=k[Rt];ut[Xt.id]=Xt,Lt[Xt.id]=0,Gt[Xt.id]=Pm(Xt,rt,u.distFunc)}for(var Zt=u.maximumLoops,_t=u.penalties,ie,ce,be,Pe,Se,Ue,Ye;Object.keys(ut).length>0&&Zt>0&&(ie=void 0,ce=Infinity,Object.keys(ut).forEach(function(Ur){var Wr=ut[Ur].id;Gt[Wr]<=ce&&(ce=Gt[Wr],ie=ut[Wr])}),!!ie);){if(rt.findIndex(function(Ur){return Ur.x===ie.x&&Ur.y===ie.y})>-1)return aE(ie,Et,P,t,n,F,d);delete ut[ie.id],pt[ie.id]=!0;for(var Rt=0;Rt<u.directions.length;Rt++)be=u.directions[Rt],Pe={x:ie.x+be.stepX,y:ie.y+be.stepY,id:Math.round(ie.x)+be.stepX+"|||"+(Math.round(ie.y)+be.stepY)},!pt[Pe.id]&&(Ye=dg(ie,Pe,Et,P),!(Ye>u.maxAllowedDirectionChange)&&(y[Pe.id]||(ut[Pe.id]||(ut[Pe.id]=Pe),Se=u.distFunc(ie,Pe)+(isNaN(_t[Ye])?d:_t[Ye]),Ue=Lt[ie.id]+Se,!(Lt[Pe.id]&&Ue>=Lt[Pe.id])&&(Et[Pe.id]=ie,Lt[Pe.id]=Ue,Gt[Pe.id]=Ue+Pm(Pe,rt,u.distFunc)))));Zt-=1}return u.fallbackRoute(n,t,e,r,u)};Qh("polyline",{options:{color:An.defaultEdge.color,size:An.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:An.defaultEdge.style.stroke,lineAppendWidth:An.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:An.edgeLabel.style.fill,fontSize:An.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(ge.a)({},An.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n);e.radius===0&&delete e.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return r},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(p.bb)({},t,e,n.style);n=this.getPathPoints(n),this.radius=r.radius,this.offset=r.offset;var o=n.startPoint,u=n.endPoint,d=this.getControlPoints(n),y=[o];d&&(y=y.concat(d)),y.push(u);var P=n.sourceNode,F=n.targetNode,k=r.radius,rt=this.options.routeCfg,ut=Object(p.bb)({},rt,n.routeCfg);ut.offset=r.offset;var pt=this.getPath(y,P,F,k,ut);(Object(p.B)(pt)&&pt.length<=1||Object(p.O)(pt)&&pt.indexOf("L")===-1)&&(pt="M0 0, L0 0"),(isNaN(o.x)||isNaN(o.y)||isNaN(u.x)||isNaN(u.y))&&(pt="M0 0, L0 0");var Et=Object(p.bb)({},An.defaultEdge.style,r,{lineWidth:n.size,path:pt});return Et},updateShapeStyle:function(n,t){var e=t.getContainer();if(!!t.isVisible()){var r={stroke:n.color},o=e.find(function(Zt){return Zt.get("className")==="edge-shape"})||t.getKeyShape(),u=n.size;n=this.getPathPoints(n);var d=n.startPoint,y=n.endPoint,P=this.getControlPoints(n),F=[d];P&&(F=F.concat(P)),F.push(y);var k=o.attr(),rt=Object(p.bb)({},r,k,n.style),ut=n.sourceNode,pt=n.targetNode,Et=rt.radius,Lt=this.options.routeCfg,Gt=Object(p.bb)({},Lt,n.routeCfg);Gt.offset=rt.offset;var Rt=this.getPath(F,ut,pt,Et,Gt);(Object(p.B)(Rt)&&Rt.length<=1||Object(p.O)(Rt)&&Rt.indexOf("L")===-1)&&(Rt="M0 0, L0 0"),(isNaN(d.x)||isNaN(d.y)||isNaN(y.x)||isNaN(y.y))&&(Rt="M0 0, L0 0"),k.endArrow&&rt.endArrow===!1&&(n.style.endArrow={path:""}),k.startArrow&&rt.startArrow===!1&&(n.style.startArrow={path:""});var Xt=Object(p.bb)(r,o.attr(),{lineWidth:u,path:Rt},n.style);o&&o.attr(Xt)}},getPath:function(n,t,e,r,o){var u=o.offset,d=o.simple;if(!u||n.length>2){if(r)return Tm(n,r);var y=[];return Object(p.j)(n,function(rt,ut){ut===0?y.push(["M",rt.x,rt.y]):y.push(["L",rt.x,rt.y])}),y}var P=d?Am(n[n.length-1],n[0],e,t,u):iE(n[0],n[n.length-1],t,e,o);if(!P||!P.length)return"M0 0, L0 0";if(r){var F=Tm(P,r);return F}var k=Ho.pointsToPolygon(P);return k}},"single-edge");var jm=Ac.cloneEvent,Lm=Ac.isNaN,Rm=Math.abs,oE=10,sE=["shift","ctrl","alt","control"],lE={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(n){var t=this.origin,e=+n.clientX,r=+n.clientY;if(!(Lm(e)||Lm(r))){var o=e-t.x,u=r-t.y;this.get("direction")==="x"?u=0:this.get("direction")==="y"&&(o=0),this.origin={x:e,y:r};var d=this.graph.get("width"),y=this.graph.get("height"),P=this.graph.get("canvas").getCanvasBBox(),F=this.scalableRange,k=this.scalableRange;F<1&&F>-1&&(F=d*F,k=y*k),(P.minX<=d+F&&P.minX+o>d+F||P.maxX+F>=0&&P.maxX+F+o<0)&&(o=0),(P.minY<=y+k&&P.minY+u>y+k||P.maxY+k>=0&&P.maxY+k+u<0)&&(u=0),this.graph.translate(o,u)}},onTouchStart:function(n){var t=this,e=n.originalEvent.touches,r=e[0],o=e[1];r&&o||(n.preventDefault(),t.onMouseDown(n))},onMouseDown:function(n){var t=this,e=n.originalEvent;if(!(e&&n.name!==Gl.TOUCHSTART&&e.button!==0)&&!(n.name!==Gl.TOUCHSTART&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin.call(this,n)&&!t.keydown){var r=n.target,o=r&&r.isCanvas&&r.isCanvas();if(!(!this.allowDragOnItem&&!o)&&(t.origin={x:n.clientX,y:n.clientY},t.dragging=!1,this.enableOptimize)){for(var u=this.graph,d=u.getEdges(),y=0,P=d.length;y<P;y++){var F=d[y].get("group").get("children");!F||F.forEach(function(Zt){Zt.set("ori-visibility",Zt.get("ori-visibility")||Zt.get("visible")),Zt.hide()})}for(var k=u.getNodes(),rt=0,ut=k.length;rt<ut;rt++)for(var pt=k[rt].getContainer(),Et=pt.get("children"),Lt=0,Gt=Et;Lt<Gt.length;Lt++){var Rt=Gt[Lt],Xt=Rt.get("isKeyShape");Xt||(Rt.set("ori-visibility",Rt.get("ori-visibility")||Rt.get("visible")),Rt.hide())}}}},onTouchMove:function(n){var t=this,e=n.originalEvent.touches,r=e[0],o=e[1];if(r&&o){this.onMouseUp(n);return}n.preventDefault(),t.onMouseMove(n)},onMouseMove:function(n){var t=this.graph;if(!this.keydown){var e=n.target,r=e&&e.isCanvas&&e.isCanvas();if(!(!this.allowDragOnItem&&!r)&&(n=jm(n),!!this.origin)){if(this.dragging)n.type="drag",t.emit("canvas:drag",n);else{if(Rm(this.origin.x-n.clientX)+Rm(this.origin.y-n.clientY)<oE)return;this.shouldBegin.call(this,n)&&(n.type="dragstart",t.emit("canvas:dragstart",n),this.dragging=!0)}this.shouldUpdate.call(this,n)&&this.updateViewport(n)}}},onMouseUp:function(n){var t=this.graph;if(!this.keydown){if(this.enableOptimize){for(var e=t.getEdges(),r=0,o=e.length;r<o;r++){var u=e[r].get("group").get("children");!u||u.forEach(function(Gt){var Rt=Gt.get("ori-visibility");Rt&&Gt.show()})}for(var d=t.getNodes(),y=0,P=d.length;y<P;y++)for(var F=d[y].getContainer(),k=F.get("children"),rt=0,ut=k;rt<ut.length;rt++){var pt=ut[rt],Et=pt.get("isKeyShape");if(!Et){var Lt=pt.get("ori-visibility");Lt&&pt.show()}}}if(!this.dragging){this.origin=null;return}n=jm(n),this.shouldEnd.call(this,n)&&this.updateViewport(n),n.type="dragend",t.emit("canvas:dragend",n),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(n){var t=this,e=n.key;!e||(sE.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},uE={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(n){if(!this.origin||!n||n.destroyed)return!1;var t=n.getType();return t==="combo"},onDragStart:function(n){var t=this;if(!!this.shouldBegin.call(this,n)){var e=n.item;if(!(!e||e.destroyed||e.hasLocked())){var r=e.getContainer();r.set("capture",!1);var o=n.target;if(o){var u=o.get("isAnchorPoint");if(u)return}var d=this.graph;this.targets=[],this.targetCombo=null;var y=d.findAllByState("node",this.selectedState),P=e.get("id"),F=y.filter(function(rt){var ut=rt.get("id");return P===ut});F.length===0?this.targets.push(e):y.length>1?y.forEach(function(rt){var ut=rt.hasLocked();ut||t.targets.push(rt)}):this.targets.push(e);var k=[];this.targets.forEach(function(rt){k.push(Object(p.e)(rt.getModel()))}),this.set("beforeDragNodes",k),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(rt){var ut=rt.getEdges();ut.forEach(function(pt){!pt.isVisible()||(t.hidenEdge[pt.getID()]=!0,pt.hide())})}),this.origin={x:n.x,y:n.y},this.point={},this.originPoint={}}}},onDrag:function(n){var t=this;!this.origin||!this.shouldUpdate(this,n)||(this.get("enableDelegate")?this.updateDelegate(n):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge")}):this.targets.map(function(e){t.update(e,n)}))},onDragEnd:function(n){var t=this;if(!(!this.origin||!this.shouldEnd.call(this,n))){var e=n.item;if(e){var r=e.getContainer();r.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(n),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(d){var y=d.getEdges();y.forEach(function(P){t.hidenEdge[P.getID()]&&P.show(),P.refresh()})}),this.hidenEdge={};var o=this.graph;if(o.get("enabledStack")){var u={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(d){u.before.nodes.push({id:d.id,x:d.x,y:d.y})}),this.targets.forEach(function(d){var y=d.getModel();u.after.nodes.push({id:y.id,x:y.x,y:y.y})}),o.pushStack("update",Object(p.e)(u))}o.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(n){var t=n.item;if(!!this.validationCombo(t)){this.updatePositions(n);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var r=t.getModel();this.targets.map(function(o){var u=o.getModel();u.comboId!==r.id&&e.updateComboTree(o,r.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(n){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(n),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var r=e.getModel();r.comboId&&t.updateComboTree(e)}))},onDropNode:function(n){if(!(!this.targets||this.targets.length===0)){var t=this,e=n.item;this.updatePositions(n);var r=t.graph,o=e.getModel().comboId;if(o)if(this.onlyChangeComboSize)r.updateCombos();else{var u=r.findById(o);t.comboActiveState&&r.setItemState(u,t.comboActiveState,!1),this.targets.map(function(d){var y=d.getModel();o!==y.comboId&&r.updateComboTree(d,o)}),r.updateCombo(u)}else this.targets.map(function(d){var y=d.getModel();y.comboId&&r.updateComboTree(d)});r.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(n){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&(this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge"),updateFunc:this.update}):this.targets.map(function(e){return t.update(e,n)}))},update:function(n,t){var e=this.origin,r=n.get("model"),o=n.get("id");this.point[o]||(this.point[o]={x:r.x||0,y:r.y||0});var u=t.x-e.x+this.point[o].x,d=t.y-e.y+this.point[o].y,y={x:u,y:d};this.get("updateEdge")?this.graph.updateItem(n,y,!1):n.updatePosition(y)},debounceUpdate:Object(p.g)(function(l){var n=l.targets,t=l.graph,e=l.point,r=l.origin,o=l.evt,u=l.updateEdge,d=l.updateFunc;n.map(function(y){var P=y.get("model"),F=y.get("id");e[F]||(e[F]={x:P.x||0,y:P.y||0});var k=o.x-r.x+e[F].x,rt=o.y-r.y+e[F].y,ut={x:k,y:rt};u?t.updateItem(y,ut,!1):y.updatePosition(ut)})},50,!0),updateDelegate:function(n){var t=this.graph;if(this.delegateRect){var rt=n.x-this.origin.x+this.originPoint.minX,ut=n.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:rt,y:ut})}else{var e=t.get("group"),r=Object(p.h)({},js.delegateStyle,this.delegateStyle),o=this.calculationGroupPosition(n),u=o.x,d=o.y,y=o.width,P=o.height,F=o.minX,k=o.minY;this.originPoint={x:u,y:d,width:y,height:P,minX:F,minY:k},this.delegateRect=e.addShape("rect",{attrs:Object(ge.a)({width:y,height:P,x:u,y:d},r),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(n){var t=this.targets;t.length===0&&t.push(n.item);for(var e=Infinity,r=-Infinity,o=Infinity,u=-Infinity,d=0;d<t.length;d++){var y=t[d],P=y.getBBox(),F=P.minX,k=P.minY,rt=P.maxX,ut=P.maxY;F<e&&(e=F),k<o&&(o=k),rt>r&&(r=rt),ut>u&&(u=ut)}var pt=Math.floor(e),Et=Math.floor(o),Lt=Math.ceil(r)-Math.floor(e),Gt=Math.ceil(u)-Math.floor(o);return{x:pt,y:Et,width:Lt,height:Gt,minX:e,minY:o}}},cE={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState"}},setAllItemStates:function(n){var t=n.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(n.item,{event:n,action:"activate"})){for(var r=this,o=this.activeState,u=this.inactiveState,d=e.getNodes(),y=e.getCombos(),P=e.getEdges(),F=e.get("vedges"),k=d.length,rt=y.length,ut=P.length,pt=F.length,Et=0;Et<k;Et++){var Lt=d[Et],Gt=Lt.hasState("selected");r.resetSelected&&Gt&&e.setItemState(Lt,"selected",!1),e.setItemState(Lt,o,!1),u&&e.setItemState(Lt,u,!0)}for(var Et=0;Et<rt;Et++){var Rt=y[Et],Gt=Rt.hasState("selected");r.resetSelected&&Gt&&e.setItemState(Rt,"selected",!1),e.setItemState(Rt,o,!1),u&&e.setItemState(Rt,u,!0)}for(var Et=0;Et<ut;Et++){var Xt=P[Et];e.setItemState(Xt,o,!1),u&&e.setItemState(Xt,u,!0)}for(var Et=0;Et<pt;Et++){var Zt=F[Et];e.setItemState(Zt,o,!1),u&&e.setItemState(Zt,u,!0)}u&&e.setItemState(t,u,!1),e.setItemState(t,o,!0);for(var _t=t.getEdges(),ie=_t.length,Et=0;Et<ie;Et++){var Xt=_t[Et],ce=void 0;Xt.getSource()===t?ce=Xt.getTarget():ce=Xt.getSource(),u&&e.setItemState(ce,u,!1),e.setItemState(ce,o,!0),e.setItemState(Xt,u,!1),e.setItemState(Xt,o,!0),Xt.toFront()}e.emit("afteractivaterelations",{item:n.item,action:"activate"})}},clearActiveState:function(n){var t=this,e=t.get("graph");if(!!t.shouldUpdate(n.item,{event:n,action:"deactivate"})){var r=this.activeState,o=this.inactiveState,u=e.get("autoPaint");e.setAutoPaint(!1);for(var d=e.getNodes()||[],y=e.getCombos()||[],P=e.getEdges()||[],F=e.get("vedges")||[],k=d.length,rt=y.length,ut=P.length,pt=F.length,Et=0;Et<k;Et++){var Lt=d[Et];e.clearItemStates(Lt,[r,o])}for(var Et=0;Et<rt;Et++){var Gt=y[Et];e.clearItemStates(Gt,[r,o])}for(var Et=0;Et<ut;Et++){var Rt=P[Et];e.clearItemStates(Rt,[r,o,"deactivate"])}for(var Et=0;Et<pt;Et++){var Xt=F[Et];e.clearItemStates(Xt,[r,o,"deactivate"])}e.paint(),e.setAutoPaint(u),e.emit("afteractivaterelations",{item:n.item||t.get("item"),action:"deactivate"})}}},Mv=Math.min,wm=Math.max,Bm=Math.abs,Nm="shift",fE=["drag","shift","ctrl","alt","control"],hE={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Nm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return fE.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Nm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(n){var t=n.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:n.canvasX,y:n.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(n)},onMouseUp:function(n){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(n),this.dragging=!1)},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),o=t.findAllByState("edge",e);r.forEach(function(u){return t.setItemState(u,e,!1)}),o.forEach(function(u){return t.setItemState(u,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(n){var t=this,e=this,r=e.graph,o=e.originPoint,u=e.shouldUpdate,d=this.selectedState,y={x:n.x,y:n.y},P=r.getPointByCanvas(o.x,o.y),F=Mv(y.x,P.x),k=wm(y.x,P.x),rt=Mv(y.y,P.y),ut=wm(y.y,P.y),pt=[],Et=[];r.getNodes().forEach(function(Gt){if(!!Gt.isVisible()){var Rt=Gt.getBBox();if(Rt.centerX>=F&&Rt.centerX<=k&&Rt.centerY>=rt&&Rt.centerY<=ut&&u(Gt,"select")){pt.push(Gt);var Xt=Gt.getModel();Et.push(Xt.id),r.setItemState(Gt,d,!0)}}});var Lt=[];this.includeEdges&&pt.forEach(function(Gt){var Rt=Gt.getOutEdges();Rt.forEach(function(Xt){if(!!Xt.isVisible()){var Zt=Xt.getModel(),_t=Zt.source,ie=Zt.target;Et.includes(_t)&&Et.includes(ie)&&u(Xt,"select")&&(Lt.push(Xt),r.setItemState(Xt,t.selectedState,!0))}})}),this.selectedEdges=Lt,this.selectedNodes=pt,this.onSelect&&this.onSelect(pt,Lt),r.emit("nodeselectchange",{selectedItems:{nodes:pt,edges:Lt},select:!0})},createBrush:function(){var n=this,t=n.graph.get("canvas").addShape("rect",{attrs:n.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(n){var t=this.originPoint;this.brush.attr({width:Bm(n.canvasX-t.x),height:Bm(n.canvasY-t.y),x:Mv(n.canvasX,t.x),y:Mv(n.canvasY,t.y)})},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Fm="shift",dE=["shift","ctrl","alt","control"],vE={getDefaultCfg:function(){return{multiple:!0,trigger:Fm,selectedState:"selected"}},getEvents:function(){var n=this;return dE.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=Fm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),n.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(n){var t=this,e=n.item;if(!(!e||e.destroyed)){var r=e.getType(),o=t.graph,u=t.keydown,d=t.multiple,y=t.shouldUpdate,P=t.shouldBegin;if(!!P.call(t,n)){if(!u||!d){var F=o.findAllByState(r,t.selectedState);Object(p.j)(F,function(ut){ut!==e&&o.setItemState(ut,t.selectedState,!1)})}if(e.hasState(t.selectedState)){y.call(t,n)&&o.setItemState(e,t.selectedState,!1);var k=o.findAllByState("node",t.selectedState),rt=o.findAllByState("combo",t.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:k,combos:rt},select:!1})}else{y.call(t,n)&&o.setItemState(e,t.selectedState,!0);var k=o.findAllByState("node",t.selectedState),rt=o.findAllByState("combo",t.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:k,combos:rt},select:!0})}}}},onCanvasClick:function(){var n=this,t=this.graph,e=t.findAllByState("node",this.selectedState);Object(p.j)(e,function(o){t.setItemState(o,n.selectedState,!1)});var r=t.findAllByState("combo",this.selectedState);Object(p.j)(r,function(o){t.setItemState(o,n.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===this.trigger.toLowerCase()||e.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.keydown=!1}},gE=A.transform,Gm=.05,pE={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var n=this.fixSelectedItems;return n.fixState||(n.fixState="selected"),n.fixAll&&(n.fixLineWidth=!0,n.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(n){var t=n.originalEvent.touches,e=t[0],r=t[1];n.preventDefault(),!!r&&(this.shouldBegin&&!this.shouldBegin.call(this,n)||(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(n){if(!!this.moveable){n.preventDefault();var t=n.originalEvent.touches,e=t[0],r=t[1];if(!!r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var o=function(ut,pt){return Math.hypot(pt.x-ut.x,pt.y-ut.y)},u=o({x:e.pageX,y:e.pageY},{x:r.pageX,y:r.pageY})/o({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),d=this.originScale*u;this.currentScale=d;var y=this.get("minZoom")||this.graph.get("minZoom"),P=this.get("maxZoom")||this.graph.get("maxZoom");if(!(d>P||d<y)){var F=this.graph.get("canvas"),k=F.getPointByClient(n.clientX,n.clientY);this.graph.zoomTo(d,{x:k.x,y:k.y}),this.graph.emit("wheelzoom",n)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(n){var t=this,e=this,r=e.graph,o=e.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin.call(this,n))&&!!this.shouldUpdate.call(this,n)){n.preventDefault();var u=r.get("canvas"),d=u.getPointByClient(n.clientX,n.clientY),y=this.get("sensitivity"),P=r.getZoom(),F=P,k=P;n.wheelDelta<0?F=1-Gm*y:F=1/(1-Gm*y),k=P*F;var rt=this.get("minZoom")||r.get("minZoom"),ut=this.get("maxZoom")||r.get("maxZoom");if(!(k>ut||k<rt)){var pt=this.get("enableOptimize");if(pt){var Et=this.get("optimizeZoom"),Lt=this.get("optimized"),Gt=r.getNodes(),Rt=r.getEdges(),Xt=Gt.length,Zt=Rt.length;if(!Lt){for(var _t=0;_t<Xt;_t++){var ie=Gt[_t];if(!ie.destroyed)for(var ce=ie.get("group").get("children"),be=ce.length,Pe=0;Pe<be;Pe++){var Se=ce[Pe];!Se.destoryed&&!Se.get("isKeyShape")&&(Se.set("ori-visibility",Se.get("ori-visibility")||Se.get("visible")),Se.hide())}}for(var Ue=0;Ue<Zt;Ue++)for(var Ye=Rt[Ue],ce=Ye.get("group").get("children"),be=ce.length,Pe=0;Pe<be;Pe++){var Se=ce[Pe];Se.set("ori-visibility",Se.get("ori-visibility")||Se.get("visible")),Se.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ur=setTimeout(function(){var Lh=r.getZoom(),ls=t.get("optimized");if(ls){t.set("optimized",!1);for(var zu=0;zu<Xt;zu++){var Df=Gt[zu],ru=Df.get("group").get("children"),ku=ru.length;if(Lh<Et){var Vu=Df.getKeyShape(),Sl=Vu.get("ori-visibility");Sl&&Vu.show()}else for(var Cl=0;Cl<ku;Cl++){var nu=ru[Cl],Sl=nu.get("ori-visibility");!nu.get("visible")&&Sl&&Sl&&nu.show()}}for(var ga=0;ga<Zt;ga++){var Dc=Rt[ga],ru=Dc.get("group").get("children"),ku=ru.length;if(Lh<Et){var Vu=Dc.getKeyShape(),Sl=Vu.get("ori-visibility");Sl&&Vu.show()}else for(var Cl=0;Cl<ku;Cl++){var nu=ru[Cl];if(!nu.get("visible")){var Sl=nu.get("ori-visibility");Sl&&nu.show()}}}}},100);this.set("timeout",Ur)}if(P<=1){var Wr=void 0,zr=void 0;if(o.fixAll||o.fixLineWidth||o.fixLabel){Wr=r.findAllByState("node",o.fixState),zr=r.findAllByState("edge",o.fixState);for(var Mn=P/k,xn=Wr.length,on=0;on<xn;on++){var ie=Wr[on],un=ie.getContainer(),pn=ie.getModel(),kr=ie.getOriginStyle(),bn=ie.getStateStyle(o.fixState),Vn=ie.get("shapeFactory").getShape(pn.type).getStateStyle(o.fixState,ie)[o.fixState];if(o.fixAll){if(k<=1){var Kr=Object(p.e)(un.getMatrix());Kr||(Kr=[1,0,0,0,1,0,0,0,1]);var vn=ie.getModel(),sa=vn.x,va=vn.y;Kr=gE(Kr,[["t",-sa,-va],["s",Mn,Mn],["t",sa,va]]),un.setMatrix(Kr)}}else for(var ce=un.get("children"),be=ce.length,Pe=0;Pe<be;Pe++){var Se=ce[Pe],Ua=void 0,Ar=void 0;if(o.fixLabel){var fi=Se.get("type");if(fi==="text"){Ua=Se.attr("fontSize")||12;var Xn=bn[Se.get("name")],Tn=Vn[Se.get("name")],ri=Xn?Xn.fontSize:12,Si=Tn?Tn.fontSize:12,Ci=ri||Si||12;if(k<=1&&Se.attr("fontSize",Ci/k),Ar)break}}if(o.fixLineWidth&&Se.get("isKeyShape")){Ar=Se.attr("lineWidth")||0;var xo=bn.lineWidth||Vn.lineWidth||kr.lineWidth||0;if(k<=1&&Se.attr("lineWidth",xo/k),Ua)break}}}for(var Gs=zr.length,Pf=0;Pf<Gs;Pf++)for(var Ye=zr[Pf],un=Ye.getContainer(),ce=un.get("children"),pn=Ye.getModel(),bn=Ye.getStateStyle(o.fixState),Vn=Ye.get("shapeFactory").getShape(pn.type).getStateStyle(o.fixState,Ye)[o.fixState],be=ce.length,Pe=0;Pe<be;Pe++){var Se=ce[Pe],Ua=void 0,Ar=void 0;if(o.fixLabel||o.fixAll){var fi=Se.get("type");if(fi==="text"){Ua=Se.attr("fontSize")||12;var Xn=bn[Se.get("name")],Tn=Vn[Se.get("name")],ri=Xn?Xn.fontSize:12,Si=Tn?Tn.fontSize:12,Ci=ri||Si||12;if(k<=1&&Se.attr("fontSize",Ci/k),Ar)break}}if((o.fixLineWidth||o.fixAll)&&Se.get("isKeyShape")){Ar=Se.attr("lineWidth")||0;var xo=bn.lineWidth||Vn.lineWidth||1;if(k<=1&&Se.attr("lineWidth",xo/k),Ua)break}}}}r.zoomTo(k,{x:d.x,y:d.y}),r.emit("wheelzoom",n)}}}},Um={onMouseEnter:function(n){var t=n.item;this.currentTarget=t,this.showTooltip(n),this.graph.emit("tooltipchange",{item:n.item,action:"show"})},onMouseMove:function(n){if(!this.shouldUpdate(n)){this.hideTooltip();return}!this.currentTarget||n.item!==this.currentTarget||this.updatePosition(n)},onMouseLeave:function(n){!this.shouldEnd(n)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(n){var t=this.container;if(!(!n.item||n.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(n.item.get("model"),n);t.innerHTML=e,Object(ra.e)(this.container,{visibility:"visible"}),this.updatePosition(n)}},hideTooltip:function(){Object(ra.e)(this.container,{visibility:"hidden"})},updatePosition:function(n){var t=this.get("shouldBegin"),e=this,r=e.width,o=e.height,u=e.container,d=e.graph;if(!t(n)){Object(ra.e)(u,{visibility:"hidden"});return}var y=d.getPointByClient(n.clientX,n.clientY),P=d.getCanvasByPoint(y.x,y.y),F=P.x,k=P.y,rt=u.getBoundingClientRect();F>r/2?F-=rt.width:F+=this.offset,k>o/2?k-=rt.height:k+=this.offset;var ut=F+"px",pt=k+"px";Object(ra.e)(this.container,{left:ut,top:pt,visibility:"visible"})},createTooltip:function(n){var t=n.get("el");t.style.position="relative";var e=Object(ra.b)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),Object(ra.e)(e,{position:"absolute",visibility:"visible"}),this.width=n.get("width"),this.height=n.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},yE=Object(ge.a)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Um),mE=Object(ge.a)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Um),Wm="click",bE=["click","dblclick"],OE={getDefaultCfg:function(){return{trigger:Wm,onChange:function(){}}},getEvents:function(){var n,t;return bE.includes(this.trigger)?t=this.trigger:(t=Wm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["node:"+t]="onNodeClick",n.touchstart="onNodeClick",n},onNodeClick:function(n){var t=n.item;if(!!t){var e=this.graph.findDataById(t.get("id"));if(!!e){var r=e.children;if(!(!r||r.length===0)){var o=!e.collapsed;!this.shouldBegin(n,o)||(e.collapsed=o,t.getModel().collapsed=o,this.graph.emit("itemcollapsed",{item:n.item,collapsed:o}),!!this.shouldUpdate(n,o)&&(this.onChange(t,o),this.graph.layout()))}}}}},xE=Ac.calculationItemsBBox,EE=function l(n,t){if(t(n)!==!1&&n){var e=n.get("combos");if(e.length===0)return!1;Object(p.j)(e,function(r){l(r,t)})}},ME={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(n){var t=n.item;if(!t||t.destroyed||!this.shouldUpdate(this,n))return!1;var e=t.getType();return e==="combo"},onDragStart:function(n){var t=this,e=this.graph,r=n.item;if(!!this.validationCombo(n)){this.targets=[];var o=e.findAllByState("combo",this.selectedState),u=r.get("id"),d=o.filter(function(y){var P=y.get("id");return u===P});d.length===0?this.targets.push(r):this.targets=o,this.activeState&&this.targets.map(function(y){var P=y.getModel();if(P.parentId){var F=e.findById(P.parentId);F&&e.setItemState(F,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:n.x,y:n.y},this.currentItemChildCombos=[],EE(r,function(y){if(y.destroyed)return!1;var P=y.getModel();return t.currentItemChildCombos.push(P.id),!0})}},onDrag:function(n){var t=this;if(!!this.origin&&!!this.validationCombo(n))if(this.enableDelegate)this.updateDelegate(n);else{if(this.activeState){var e=this.graph,r=n.item,o=r.getModel(),u=e.getCombos(),d=r.getBBox(),y=d.centerX,P=d.centerY,F=d.width,k=u.filter(function(rt){var ut=rt.getModel();return o.parentId,ut.id!==o.id&&!t.currentItemChildCombos.includes(ut.id)});k.map(function(rt){var ut=rt.getBBox(),pt=ut.centerX,Et=ut.centerY,Lt=ut.width,Gt=y-pt,Rt=P-Et,Xt=2*Math.sqrt(Gt*Gt+Rt*Rt);F+Lt-Xt>.8*F?e.setItemState(rt,t.activeState,!0):e.setItemState(rt,t.activeState,!1)})}Object(p.j)(this.targets,function(rt){t.updateCombo(rt,n)})}},updatePositions:function(n){var t=this;this.enableDelegate&&Object(p.j)(this.targets,function(e){t.updateCombo(e,n)})},onDrop:function(n){var t=this,e=n.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(n);var r=this.graph,o=e.getModel();this.targets.map(function(u){var d=u.getModel();d.parentId!==o.id?(t.activeState&&r.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(u):r.updateComboTree(u,o.id)):r.updateCombo(e)}),this.end(e,n),this.endComparison=!0}},onNodeDrop:function(n){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(n);var e=this.graph,r=n.item,o=r.getModel().comboId,u;if(o){if(this.activeState){var d=e.findById(o);e.setItemState(d,this.activeState,!1)}this.targets.map(function(y){t.onlyChangeComboSize?e.updateCombo(y):o!==y.getID()&&(u=e.findById(o),o!==y.getModel().parentId&&e.updateComboTree(y,o))})}else this.targets.map(function(y){if(t.onlyChangeComboSize)e.updateCombo(y);else{var P=y.getModel();P.comboId&&e.updateComboTree(y)}});this.endComparison=!0,this.end(u,n)}},onDragEnter:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(n){if(!(!this.targets||this.targets.length===0)){var t=n.item;this.updatePositions(n);var e=this.getParentCombo(t.getModel().parentId),r=this.graph;e&&this.activeState&&r.setItemState(e,this.activeState,!1),this.end(void 0,n)}},end:function(n,t){var e=this;if(!!this.origin){var r=this.graph;if(this.delegateShape){var o=r.get("delegateGroup");o.clear(),this.delegateShape=null}n&&this.activeState&&r.setItemState(n,this.activeState,!1),n||this.targets.map(function(u){e.onlyChangeComboSize?r.updateCombo(u):r.updateComboTree(u)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(n,t){var e=this;if(t(n)!==!1&&n){var r=n.get("combos");Object(p.j)(r,function(u){e.traverse(u,t)});var o=n.get("nodes");Object(p.j)(o,function(u){e.traverse(u,t)})}},updateCombo:function(n,t){var e=this;this.traverse(n,function(r){return r.destroyed?!1:(e.updateSignleItem(r,t),!0)})},updateSignleItem:function(n,t){var e=this.origin,r=this.graph,o=n.getModel(),u=n.get("id");this.point[u]||(this.point[u]={x:o.x,y:o.y});var d=t.x-e.x+this.point[u].x,y=t.y-e.y+this.point[u].y;r.updateItem(n,{x:d,y})},getParentCombo:function(n){var t=this.graph;if(!!n){var e=t.findById(n);if(!!e)return e}},updateDelegate:function(n){var t=this.graph;if(this.delegateShape){var rt=n.x-this.origin.x+this.originPoint.minX,ut=n.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:rt,y:ut})}else{var e=t.get("delegateGroup"),r=null;this.targets.length>1?r=xE(this.targets):r=this.targets[0].getBBox();var o=r.x,u=r.y,d=r.width,y=r.height,P=r.minX,F=r.minY;this.originPoint={x:o,y:u,width:d,height:y,minX:P,minY:F};var k=Object(ge.a)(Object(ge.a)({},js.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:Object(ge.a)({width:r.width,height:r.height,x:r.x,y:r.y},k),name:"combo-delegate-shape"}),this.delegate=this.delegateShape}}},zm="dblclick",SE=["click","dblclick"],CE={getDefaultCfg:function(){return{trigger:zm,relayout:!0}},getEvents:function(){var n,t;return SE.includes(this.trigger)?t=this.trigger:(t=zm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["combo:"+t]="onComboClick",n},onComboClick:function(n){var t=n.item,e=this,r=e.graph,o=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var u=t.getModel(),d=u.id;!d||(r.collapseExpandCombo(d),o&&r.get("layout")?r.layout():r.refreshPositions())}}},TE=Ac.isPolygonsIntersect,AE=Ac.pathToPoints,km="shift",IE=["drag","shift","ctrl","alt","control"],PE=function(n,t){var e,r=n.getKeyShape();if(n.get("type")==="path")e=AE(r.attr("path"));else{var o=r.getCanvasBBox();e=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return TE(t,e)},DE={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:km,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return IE.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=km,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(n){var t=this.lasso,e=n.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:n.x,y:n.y},this.points.push(this.originPoint),t.show())},onDragMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:n.x,y:n.y}),this.updateLasso(n))},onDragEnd:function(n){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var n=this.points,t=[];return n.length&&(n.forEach(function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",n[0].x,n[0].y])),t},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),o=t.findAllByState("edge",e);r.forEach(function(u){return t.setItemState(u,e,!1)}),o.forEach(function(u){return t.setItemState(u,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var n=this,t=this,e=t.graph,r=t.shouldUpdate,o=this.points.map(function(F){return[e.getCanvasByPoint(F.x,F.y).x,e.getCanvasByPoint(F.x,F.y).y]}),u=this.selectedState,d=[],y=[];e.getNodes().forEach(function(F){if(!!F.isVisible()&&PE(F,o)&&r(F,"select")){d.push(F);var k=F.getModel();y.push(k.id),e.setItemState(F,u,!0)}});var P=[];this.includeEdges&&d.forEach(function(F){var k=F.getOutEdges();k.forEach(function(rt){if(!!rt.isVisible()){var ut=rt.getModel(),pt=ut.source,Et=ut.target;y.includes(pt)&&y.includes(Et)&&r(rt,"select")&&(P.push(rt),e.setItemState(rt,n.selectedState,!0))}})}),this.selectedEdges=P,this.selectedNodes=d,this.onSelect&&this.onSelect(d,P),e.emit("nodeselectchange",{selectedItems:{nodes:d,edges:P},select:!0})},createLasso:function(){var n=this,t=n.graph.get("delegateGroup").addShape("path",{attrs:Object(ge.a)({path:[]},n.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(n){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(n){var t=n.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Vm="click",jE=["click","drag"],Xm=void 0,LE=["shift","ctrl","control","alt","meta",void 0],RE={getDefaultCfg:function(){return{trigger:Vm,key:Xm,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var n=this;jE.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=Vm,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),n.key&&LE.indexOf(n.key.toLowerCase())===-1&&(n.trigger=Xm,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return n.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:n.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),n.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:n.x,y:n.y})}},onClick:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item,r=t.graph,o=e.getModel(),u=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,n))return;var d=void 0;u&&Object(p.H)(u)?d=u({source:t.source,target:o.id}):d=t.edgeConfig;var y=Object(ge.a)({target:o.id},d);if(t.source===o.id&&(y.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,y,!1),r.get("enabledStack")){var P=Object(ge.a)(Object(ge.a)({},t.edge.getModel()),{itemType:"edge"}),F={};F.edges=[P],r.pushStack("add",{before:{},after:F})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,n))return;var d=void 0;u&&Object(p.H)(u)?d=u({source:o.id,target:o.id}):d=t.edgeConfig,t.edge=r.addItem("edge",Object(ge.a)({source:o.id,target:o.id},d),!1),t.source=o.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(n){var t=this;if(!(t.key&&!t.keydown)){var e={x:n.x,y:n.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,r=n.item;if(t.addingEdge&&n.target&&n.target.isCanvas&&n.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}t.addingEdge&&t.edge===r&&(e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1)}},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.addingEdge&&n.edge&&(n.graph.removeItem(n.edge,!1),n.addingEdge=!1,n.edge=null),this.keydown=!1}},Hm="ctrl",wE=["shift","ctrl","alt","control"],BE="1",NE={getDefaultCfg:function(){return{trigger:Hm,combinedKey:BE,functionName:"fitView",functionParams:[]}},getEvents:function(){return wE.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Hm,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var o=this.graph;if(!o[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]();return}var u=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===u||r==="control"&&u==="ctrl"||r==="ctrl"&&u==="control")&&(this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},FE=["shift","ctrl","alt","control"],GE={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return(!this.zoomKey||FE.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(n){var t=this,e=this.graph,r=n[this.zoomKey+"Key"];if(this.zoomKey==="control"&&(r=n.ctrlKey),r){var o=e.get("canvas"),u=o.getPointByClient(n.clientX,n.clientY),d=e.getZoom();n.wheelDelta>0?d=d+d*.05:d=d-d*.05,e.zoomTo(d,{x:u.x,y:u.y})}else{var y=n.deltaX||n.movementX,P=n.deltaY||n.movementY;!P&&navigator.userAgent.indexOf("Firefox")>-1&&(P=-n.wheelDelta*125/3);var F=this.graph.get("width"),k=this.graph.get("height"),rt=this.graph.get("canvas").getCanvasBBox(),ut=this.scalableRange,pt=this.scalableRange;ut<1&&ut>-1&&(ut=F*ut,pt=k*pt),(rt.minX<=F+ut&&rt.minX+y>F+ut||rt.maxX+ut>=0&&rt.maxX+ut+y<0)&&(y=0),(rt.minY<=k+pt&&rt.minY+P>k+pt||rt.maxY+pt>=0&&rt.maxY+pt+P<0)&&(P=0),this.get("direction")==="x"?P=0:this.get("direction")==="y"&&(y=0),e.translate(-y,-P)}n.preventDefault();var Et=this.get("enableOptimize");if(Et){var Lt=this.get("optimizeZoom"),Gt=this.get("optimized"),Rt=e.getNodes(),Xt=e.getEdges(),Zt=Rt.length,_t=Xt.length;if(!Gt){for(var ie=0;ie<Zt;ie++){var ce=Rt[ie];if(!ce.destroyed)for(var be=ce.get("group").get("children"),Pe=be.length,Se=0;Se<Pe;Se++){var Ue=be[Se];!Ue.destoryed&&!Ue.get("isKeyShape")&&(Ue.set("ori-visibility",Ue.get("ori-visibility")||Ue.get("visible")),Ue.hide())}}for(var Ye=0;Ye<_t;Ye++)for(var Ur=Xt[Ye],be=Ur.get("group").get("children"),Pe=be.length,Se=0;Se<Pe;Se++){var Ue=be[Se];Ue.set("ori-visibility",Ue.get("ori-visibility")||Ue.get("visible")),Ue.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Wr=setTimeout(function(){var zr=e.getZoom(),Mn=t.get("optimized");if(Mn){t.set("optimized",!1);for(var xn=0;xn<Zt;xn++){var on=Rt[xn],un=on.get("group").get("children"),pn=un.length;if(zr<Lt){var kr=on.getKeyShape(),bn=kr.get("ori-visibility");bn&&kr.show()}else for(var Vn=0;Vn<pn;Vn++){var Kr=un[Vn],bn=Kr.get("ori-visibility");!Kr.get("visible")&&bn&&bn&&Kr.show()}}for(var vn=0;vn<_t;vn++){var sa=Xt[vn],un=sa.get("group").get("children"),pn=un.length;if(zr<Lt){var kr=sa.getKeyShape(),bn=kr.get("ori-visibility");bn&&kr.show()}else for(var Vn=0;Vn<pn;Vn++){var Kr=un[Vn];if(!Kr.get("visible")){var bn=Kr.get("ori-visibility");bn&&Kr.show()}}}}},100);this.set("timeout",Wr)}}},UE={"drag-canvas":lE,"zoom-canvas":pE,"drag-node":uE,"activate-relations":cE,"brush-select":hE,"click-select":vE,"lasso-select":DE,tooltip:yE,"edge-tooltip":mE,"collapse-expand":OE,"drag-combo":ME,"collapse-expand-combo":CE,"create-edge":RE,"shortcuts-call":NE,"scroll-canvas":GE};Object(p.j)(UE,function(l,n){Qf(n,l)});var LM=$o.Minimap,RM=$o.Grid,wM=$o.Bundling,BM=$o.Menu,WE=$o.Fisheye,NM=$o.ToolBar,FM=$o.Tooltip,zE=$o.TimeBar,kE=$o.ImageMinimap,VE=$o.EdgeFilterLens,XE=$o.SnapLine,Ym={version:js.version,Graph:im,TreeGraph:rx,Util:Ac,Layout:_v,registerLayout:LO,Global:js,registerBehavior:Qf,registerCombo:bu,registerEdge:Qh,registerNode:Is,Minimap:$o.Minimap,Grid:$o.Grid,Bundling:$o.Bundling,Menu:$o.Menu,ToolBar:$o.ToolBar,Tooltip:$o.Tooltip,TimeBar:zE,SnapLine:XE,Fisheye:WE,ImageMinimap:kE,EdgeFilterLens:VE,Algorithm:Xa,Arrow:Hf,Marker:Kh,Shape:Xo};Ym.version="4.2.7";var Qo=Ym,GM="4.2.7",Jo=function(){return Jo=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},Jo.apply(this,arguments)};Qo.registerNode("card-node",{draw:function(n,t){var e=n&&n.color?n.color:"#5B8FF9",r=n&&n.size?n.size:[100,30];typeof r=="number"&&(r=[r,r]);var o=n&&n.style?n.style:{};o=Jo({radius:2,fill:"#fff"},o),e=o.stroke||"#5B8FF9";var u=o.radius||0,d=t.addShape("rect",{attrs:Jo({x:0,y:0,width:r[0],height:r[1],stroke:e},o),name:"main-box",draggable:!0}),y=(n==null?void 0:n.title)||(n==null?void 0:n.label),P,F=n&&n.labelCfg&&n.labelCfg.style?n.labelCfg.style:{};if(y){var k=Jo({fill:"#fff"},F);P=t.addShape("text",{attrs:Jo(Jo({textBaseline:"top",x:8,y:2,text:y},k),{fill:"#fff"}),name:"title"})}var rt=P?P.getBBox():{height:r[1]/2},ut=t.addShape("rect",{attrs:{x:0,y:0,width:r[0],height:rt.height+4,fill:e,radius:[u,u,0,0]},name:"title-rect",draggable:!0});P==null||P.toFront();var pt;(n==null?void 0:n.children)&&(pt=t.addShape("marker",{attrs:{x:r[0]/2,y:0,r:6,cursor:"pointer",symbol:n.collapsed?Qo.Marker.expand:Qo.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var Et=n&&n.description?n.description:void 0,Lt=ut.getBBox(),Gt;if(Et&&(Gt=t.addShape("text",{attrs:Jo({textBaseline:"top",x:8,y:Lt.height+8,text:Et},F),name:"description"})),Gt){var Rt=Gt.getBBox(),Xt=Lt.height+16+Rt.height,Zt=r[0]>Rt.width+16?r[0]:Rt.width+16;d.attr({width:Zt,height:Xt}),ut==null||ut.attr("width",Zt),pt==null||pt.attr({x:Zt,y:Xt/2})}return d},update:void 0},"single-node"),Qo.registerNode("round-rect",{drawShape:function(n,t){var e=n&&n.color?n.color:"#5B8FF9",r=n&&n.size?n.size:[100,30];typeof r=="number"&&(r=[r,r]);var o=n&&n.style?n.style:{};o.stroke&&(e=o.stroke);var u=o&&o.fill?o.fill:"#fff";o=Jo({width:r[0],height:r[1],radius:r[1]/2,fill:u,lineWidth:1.2,stroke:e},o);var d=t.addShape("rect",{attrs:Jo({x:-r[0]/2,y:-r[1]/2},o),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-r[0]/2,y:0,r:3,fill:o.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:r[0]/2,y:0,r:3,fill:o.stroke},name:"circle-shape2"}),d},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(n,t){var e=t.getContainer(),r=e.get("children"),o=r[0],u=r[1],d=r[2],y=n.style&&n.style.stroke?n.style.stroke:"#5B8FF9";y&&(o.attr("stroke",y),u.attr("fill",y),d.attr("fill",y))}},"single-node");var HE=function(n){Qo.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,r){var o=this.getShapeStyle(e),u=(e||{}).labelCfg,d=u===void 0?{}:u,y=r.addShape("rect",{attrs:Jo(Jo({},o),{x:0,y:0})}),P={fill:"#e6fffb"},F="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return(e==null?void 0:e.leftIcon)&&(P=Jo(Jo({},P),e.leftIcon.style),F=e.leftIcon.img),r.addShape("rect",{attrs:Jo({x:1,y:1,width:38,height:o.height-2},P)}),r.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:F},name:"image-shape"}),n.enableEdit&&(r.addShape("marker",{attrs:{x:o.width/3,y:o.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Qo.Marker.expand},name:"add-item"}),r.addShape("marker",{attrs:{x:o.width*2/3,y:o.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Qo.Marker.collapse},name:"remove-item"})),(e==null?void 0:e.label)&&r.addShape("text",{attrs:Jo(Jo({},d.style),{text:e.label,x:o.width/2,y:o.height/1.5})}),y}},"rect")};Qo.registerEdge("fund-polyline",{draw:function(n,t){var e=n==null?void 0:n.startPoint,r=n==null?void 0:n.endPoint,o=r.y-e.y,u=o!==0?Math.min(500/Math.abs(o),20):0,d=u>15?0:16,y=o<0?d:-d,P={x:e.x+u,y:r.y+y},F={x:P.x+d,y:r.y},k={x:(P.x-e.x)*(r.y-e.y)/(P.y-e.y)+e.x,y:r.y},rt=[["M",e.x,e.y],["L",P.x,P.y],["Q",k.x,k.y,F.x,F.y],["L",r.x,r.y]];Math.abs(o)<=5&&(rt=[["M",e.x,e.y],["L",r.x,r.y]]);var ut=(n||{}).style,pt=ut.stroke||(n==null?void 0:n.colorMap)&&n.colorMap[n.dataType]?(n==null?void 0:n.colorMap)[n==null?void 0:n.dataType]:"#5B8FF9",Et=(n==null?void 0:n.style)&&n.style.endArrow?n.style.endArrow:!1;Object(p.M)(Et)&&(Et.fill=pt);var Lt=t.addShape("path",{attrs:{path:rt,stroke:pt,lineWidth:ut.lineWidth||1.2,endArrow:Et},name:"path-shape"}),Gt=0,Rt=8,Xt,Zt=F.x+Gt;if((n==null?void 0:n.label)&&(Xt=t.addShape("text",{attrs:{text:n.label,x:Zt,y:r.y-Rt-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),n==null?void 0:n.dataType){var _t=Xt?Xt.getBBox():{height:0};t.addShape("text",{attrs:{text:n.dataType,x:Zt,y:r.y-Rt-_t.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(n==null?void 0:n.subLabel)&&t.addShape("text",{attrs:{text:n.subLabel,x:Zt,y:r.y+Rt+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),Lt},update:void 0},"single-edge"),Qo.registerEdge("flow-line",{draw:function(n,t){var e=n==null?void 0:n.startPoint,r=n==null?void 0:n.endPoint,o=(n||{}).style,u=o===void 0?{}:o,d=t.addShape("path",{attrs:{stroke:u.stroke,endArrow:u.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+r.y)/2],["L",r.x,(e.y+r.y)/2],["L",r.x,r.y]]}});return d}});var vg=function(){return vg=Object.assign||function(l){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},vg.apply(this,arguments)},YE={show:!1,size:[150,100],type:"keyShape"},Pd=function(n,t,e){var r,o;return e&&e.current&&(r=e.current.offsetWidth,o=e.current.offsetHeight||500),!n&&!r||!t&&!o?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[n||r||500,t||o||500]},Dd=function(n,t){if(!(!t||t.destroyed)){if(n&&n.show){var e=Object.assign(YE,n),r=new Qo.Minimap(vg({},e));return t.addPlugin(r),r}return null}};function Sv(l,n,t){var e=Object(g.useRef)(),r=n.data,o=n.nodeStyle,u=n.nodeAnchorPoints,d=n.nodeType,y=n.edgeType,P=n.edgeStyle,F=n.width,k=n.height,rt=n.layout,ut=n.minimapCfg,pt=n.behaviors,Et=n.nodeLabelCfg,Lt=n.edgeLabelCfg,Gt;return Object(g.useEffect)(function(){l&&!l.destroyed&&l.changeData(r)},[r]),Object(g.useEffect)(function(){l&&!l.destroyed&&l.getNodes().forEach(function(Rt){l.updateItem(Rt,{type:d,style:o,anchorPoints:u,labelCfg:Et})})},[o,u,d]),Object(g.useEffect)(function(){l&&!l.destroyed&&l.getEdges().forEach(function(Rt){l.updateItem(Rt,{type:y,style:P,labelCfg:Lt})})},[P,y]),Object(g.useEffect)(function(){if(l&&!l.destroyed){var Rt=Pd(F,k,t);l.changeSize(Rt[0],Rt[1])}},[t,F,k]),Object(g.useEffect)(function(){l&&!l.destroyed&&l.updateLayout(rt)},[rt]),Object(g.useEffect)(function(){if(!(!ut||!l||l.destroyed))if(ut.show)Gt=Dd(ut,l),Gt==null||Gt.updateCanvas();else{var Rt=l.get("plugins")[0];Rt&&l.removePlugin(Rt)}},[ut]),Object(g.useEffect)(function(){if(l&&!l.destroyed){var Rt=l.get("modes").default,Xt=[];Rt.forEach(function(Zt){Object(p.M)(Zt)?Xt.push(Zt.type):Object(p.O)(Zt)&&Xt.push(Zt)}),l.removeBehaviors(Xt,"default"),l.addBehaviors(pt,"default")}},[pt]),Object(g.useEffect)(function(){return e.current=l,function(){l&&!l.destroyed&&(l.destroy(),l=void 0)}},[]),{graphHook:e}}var Km={hover:{stroke:"#1890ff",lineWidth:2}},KE={fill:"#91d5ff",stroke:"#40a9ff",radius:5},ZE={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},$E={type:"compactBox",direction:"TB",getId:function(n){return n.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},Zm={style:{fill:"#000",fontSize:12}},Ih={},QE=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,u=n.height,d=n.nodeType,y=d===void 0?"rect":d,P=n.edgeType,F=P===void 0?"flow-line":P,k=n.collapseExpand,rt=k===void 0?!1:k,ut=n.nodeSize,pt=ut===void 0?[120,40]:ut,Et=n.nodeLabelCfg,Lt=Et===void 0?Zm:Et,Gt=n.edgeLabelCfg,Rt=Gt===void 0?Zm:Gt,Xt=n.layout,Zt=Xt===void 0?$E:Xt,_t=n.enableEdit,ie=_t===void 0?!1:_t,ce=n.minimapCfg,be=n.nodeStyle,Pe=be===void 0?KE:be,Se=n.edgeStyle,Ue=Se===void 0?ZE:Se,Ye=n.nodeStateStyles,Ur=Ye===void 0?Km:Ye,Wr=n.edgeStateStyles,zr=Wr===void 0?Km:Wr,Mn=n.handleNodeClick,xn=n.handleEdgeClick,on=n.handleNodeHover,un=n.handleNodeUnHover,pn=n.handleEdgeHover,kr=n.handleEdgeUnHover,bn=n.handleCanvasClick,Vn=n.graphRef,Kr=n.graphId,vn=Kr===void 0?"defaultOrganizationTreeGraph":Kr,sa={data:t,className:e,style:r,width:o,height:u,nodeType:y,edgeType:F,collapseExpand:rt,nodeSize:pt,nodeLabelCfg:Lt,edgeLabelCfg:Rt,layout:Zt,enableEdit:ie,minimapCfg:ce,nodeStyle:Pe,edgeStyle:Ue,nodeStateStyles:Ur,edgeStateStyles:zr,handleNodeClick:Mn,handleEdgeClick:xn,handleNodeHover:on,handleNodeUnHover:un,handleEdgeHover:pn,handleEdgeUnHover:kr,handleCanvasClick:bn,graphRef:Vn,graphId:vn},va=E.a.useRef(null);return Sv(Ih[vn],sa,va),Object(g.useEffect)(function(){var Ua=Pd(o,u,va);y==="icon-node"&&HE({enableEdit:ie});var Ar=Ih[vn];Ar||(Ar=new Qo.TreeGraph({container:va.current,width:Ua[0],height:Ua[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:y,size:pt,style:Pe,labelCfg:Lt},defaultEdge:{type:F,style:Ue,labelCfg:Rt},nodeStateStyles:Ur,edgeStateStyles:zr,layout:Zt}),Ih[vn]=Ar),Vn&&(Vn.current=Ar),Dd(ce,Ar);var fi=G(t);return Ar.data(fi),Ar.render(),Ar.fitView(),rt&&Ar.addBehaviors({type:"collapse-expand"},"default"),Ar.on("node:mouseenter",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!0),on&&on(Tn,Ar)}),Ar.on("node:mouseleave",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!1),un&&un(Tn,Ar)}),Ar.on("node:click",function(Xn){var Tn=Xn.item,ri=Xn.target,Si=ri.get("type"),Ci=ri.get("name");if(Si==="marker"){var xo=Tn.getModel();if(Ci==="add-item"){xo.children||(xo.children=[]);var Gs=Math.random().toString(36).slice(-8);xo.children.push({id:Gs,label:Gs}),Ar.updateChild(xo,xo.id)}else Ci==="remove-item"&&Ar.removeChild(xo.id)}Mn&&Mn(Tn,Ar)}),Ar.on("edge:mouseenter",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!0),pn&&pn(Tn,Ar)}),Ar.on("edge:mouseleave",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!1),kr&&kr(Tn,Ar)}),Ar.on("edge:click",function(Xn){var Tn=Xn.item;xn&&xn(Tn,Ar)}),Ar.on("canvas:click",function(){bn==null||bn(Ar)}),function(){Ih[vn]&&(Ih[vn].destroy(),delete Ih[vn])}},[]),E.a.createElement(et,null,E.a.createElement("div",{className:e,style:r,ref:va}))},$m=QE,Qm={hover:{stroke:"#1890ff",lineWidth:2}},JE=[120,40],_E={stroke:"#40a9ff"},qE=[[.5,0],[.5,1]],tM={stroke:"#91d5ff",endArrow:{path:Qo.Arrow.vee(10,10)}},eM={type:"dagre",rankdir:"TB",nodesepFunc:function(){return 0},ranksepFunc:function(){return 0},controlPoints:!0},Jm={style:{fill:"#000",fontSize:12}},Ph={},rM=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,u=n.height,d=n.nodeType,y=d===void 0?"modelRect":d,P=n.edgeType,F=P===void 0?"polyline":P,k=n.behaviors,rt=k===void 0?["zoom-canvas","drag-canvas"]:k,ut=n.nodeSize,pt=ut===void 0?JE:ut,Et=n.nodeLabelCfg,Lt=Et===void 0?Jm:Et,Gt=n.edgeLabelCfg,Rt=Gt===void 0?Jm:Gt,Xt=n.nodeAnchorPoints,Zt=Xt===void 0?qE:Xt,_t=n.layout,ie=_t===void 0?eM:_t,ce=n.minimapCfg,be=n.nodeStyle,Pe=be===void 0?_E:be,Se=n.edgeStyle,Ue=Se===void 0?tM:Se,Ye=n.nodeStateStyles,Ur=Ye===void 0?Qm:Ye,Wr=n.edgeStateStyles,zr=Wr===void 0?Qm:Wr,Mn=n.handleEdgeClick,xn=n.handleEdgeHover,on=n.handleEdgeUnHover,un=n.handleNodeClick,pn=n.handleNodeHover,kr=n.handleNodeUnHover,bn=n.handleCanvasClick,Vn=n.graphRef,Kr=n.graphId,vn=Kr===void 0?"defaultDagreGraph":Kr,sa={data:t,className:e,style:r,width:o,height:u,nodeType:y,edgeType:F,behaviors:rt,nodeSize:pt,nodeLabelCfg:Lt,edgeLabelCfg:Rt,nodeAnchorPoints:Zt,layout:ie,minimapCfg:ce,nodeStyle:Pe,edgeStyle:Ue,nodeStateStyles:Ur,edgeStateStyles:zr,handleEdgeClick:Mn,handleEdgeHover:xn,handleEdgeUnHover:on,handleNodeClick:un,handleNodeHover:pn,handleNodeUnHover:kr,handleCanvasClick:bn,graphRef:Vn,graphId:vn},va=E.a.useRef(null);return Sv(Ph[vn],sa,va),Object(g.useEffect)(function(){var Ua=Pd(o,u,va),Ar=Ph[vn];Ar||(Ar=new Qo.Graph({container:va.current,width:Ua[0],height:Ua[1],modes:{default:rt},defaultNode:{type:y,size:pt,style:Pe,anchorPoints:Zt,labelCfg:Lt},defaultEdge:{type:F,style:Ue,labelCfg:Rt},nodeStateStyles:Ur,edgeStateStyles:zr,layout:ie,fitView:!0}),Ph[vn]=Ar),Vn&&(Vn.current=Ar),Dd(ce,Ar);var fi=G(t);return Ar.data(fi),Ar.render(),Ar.fitView(),Ar.on("edge:mouseenter",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!0),xn&&xn(Tn,Ar)}),Ar.on("node:mouseenter",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!0),pn&&pn(Tn,Ar)}),Ar.on("edge:mouseleave",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!1),on&&on(Tn,Ar)}),Ar.on("node:mouseleave",function(Xn){var Tn=Xn.item;Ar.setItemState(Tn,"hover",!1),kr&&kr(Tn,Ar)}),Ar.on("edge:click",function(Xn){var Tn=Xn.item;Mn&&Mn(Tn,Ar)}),Ar.on("node:click",function(Xn){var Tn=Xn.item;un&&un(Tn,Ar)}),Ar.on("canvas:click",function(){bn&&bn(Ar)}),function(){Ph[vn]&&(Ph[vn].destroy(),delete Ph[vn])}},[]),E.a.createElement(et,null,E.a.createElement("div",{className:e,style:r,ref:va}))},_m=rM,qm={hover:{stroke:"#1890ff",lineWidth:2}},nM=[150,30],aM={stroke:"#72CC4A",fill:"#f00"},iM=[[.5,0],[.5,1]],oM={stroke:"#91d5ff",endArrow:{path:Qo.Arrow.vee(10,10)}},sM={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},t0={style:{fill:"#000000A6",fontSize:10}},Dh={},lM=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,u=n.height,d=n.nodeType,y=d===void 0?"round-rect":d,P=n.edgeType,F=P===void 0?"fund-polyline":P,k=n.behaviors,rt=k===void 0?["zoom-canvas","drag-canvas"]:k,ut=n.nodeSize,pt=ut===void 0?nM:ut,Et=n.nodeLabelCfg,Lt=Et===void 0?t0:Et,Gt=n.edgeLabelCfg,Rt=Gt===void 0?t0:Gt,Xt=n.nodeAnchorPoints,Zt=Xt===void 0?iM:Xt,_t=n.layout,ie=_t===void 0?sM:_t,ce=n.minimapCfg,be=n.nodeStyle,Pe=be===void 0?aM:be,Se=n.edgeStyle,Ue=Se===void 0?oM:Se,Ye=n.nodeStateStyles,Ur=Ye===void 0?qm:Ye,Wr=n.edgeStateStyles,zr=Wr===void 0?qm:Wr,Mn=n.colorMap,xn=Mn===void 0?{}:Mn,on=n.handleEdgeClick,un=n.handleEdgeHover,pn=n.handleEdgeUnHover,kr=n.handleNodeClick,bn=n.handleNodeHover,Vn=n.handleNodeUnHover,Kr=n.handleCanvasClick,vn=n.graphRef,sa=n.graphId,va=sa===void 0?"defaultDagreFundFlowGraph":sa,Ua=E.a.useRef(null),Ar={data:t,className:e,style:r,width:o,height:u,nodeType:y,edgeType:F,behaviors:rt,nodeSize:pt,nodeLabelCfg:Lt,edgeLabelCfg:Rt,nodeAnchorPoints:Zt,layout:ie,minimapCfg:ce,nodeStyle:Pe,edgeStyle:Ue,nodeStateStyles:Ur,edgeStateStyles:zr,colorMap:xn,handleEdgeClick:on,handleEdgeHover:un,handleEdgeUnHover:pn,handleNodeClick:kr,handleNodeHover:bn,handleNodeUnHover:Vn,handleCanvasClick:Kr,graphRef:vn,graphId:va};return Sv(Dh[va],Ar,Ua),Object(g.useEffect)(function(){var fi=Pd(o,u,Ua),Xn=Dh[va];Xn||(Xn=new Qo.Graph({container:Ua.current,width:fi[0],height:fi[1],modes:{default:rt},defaultNode:{type:y,size:pt,style:Pe,anchorPoints:Zt,labelCfg:Lt},defaultEdge:{type:F,style:Ue,colorMap:xn,labelCfg:Rt},nodeStateStyles:Ur,edgeStateStyles:zr,layout:ie,fitView:!0}),Dh[va]=Xn),vn&&(vn.current=Xn),Dd(ce,Xn);var Tn=G(t);Xn.data(Tn),Xn.render();var ri=Xn.getEdges();return ri.forEach(function(Si){var Ci=Si.getKeyShape(),xo=Ci.attr("stroke"),Gs=Si.getTarget();Gs.update({style:{stroke:xo}})}),Xn.fitView(),Xn.on("edge:mouseenter",function(Si){var Ci=Si.item;Xn.setItemState(Ci,"hover",!0),un&&un(Ci,Xn)}),Xn.on("edge:mouseleave",function(Si){var Ci=Si.item;Xn.setItemState(Ci,"hover",!1),pn&&pn(Ci,Xn)}),Xn.on("edge:click",function(Si){var Ci=Si.item;on&&on(Ci,Xn)}),Xn.on("node:mouseenter",function(Si){var Ci=Si.item;Xn.setItemState(Ci,"hover",!1),bn&&bn(Ci,Xn)}),Xn.on("node:mouseleave",function(Si){var Ci=Si.item;Xn.setItemState(Ci,"hover",!1),Vn&&Vn(Ci,Xn)}),Xn.on("node:click",function(Si){var Ci=Si.item;kr&&kr(Ci,Xn)}),Xn.on("canvas:click",function(){Kr==null||Kr(Xn)}),function(){Dh[va]&&(Dh[va].destroy(),delete Dh[va])}},[]),E.a.createElement(et,null,E.a.createElement("div",{className:e,style:r,ref:Ua}))},e0=lM,r0={hover:{stroke:"#1890ff",lineWidth:2}},uM=[120,40],cM={stroke:"#40a9ff"},fM=[[0,.5],[1,.5]],hM={stroke:"#ccc",endArrow:{path:Qo.Arrow.vee(10,10),fill:"#ccc"}},dM={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(){return 100}},vM={style:{fill:"#000",fontSize:12}},jh={},gM=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,u=n.height,d=n.nodeType,y=d===void 0?"card-node":d,P=n.edgeType,F=P===void 0?"cubic-horizontal":P,k=n.behaviors,rt=k===void 0?["zoom-canvas","drag-canvas"]:k,ut=n.nodeSize,pt=ut===void 0?uM:ut,Et=n.nodeLabelCfg,Lt=Et===void 0?vM:Et,Gt=n.nodeAnchorPoints,Rt=Gt===void 0?fM:Gt,Xt=n.layout,Zt=Xt===void 0?dM:Xt,_t=n.minimapCfg,ie=n.nodeStyle,ce=ie===void 0?cM:ie,be=n.edgeStyle,Pe=be===void 0?hM:be,Se=n.nodeStateStyles,Ue=Se===void 0?r0:Se,Ye=n.edgeStateStyles,Ur=Ye===void 0?r0:Ye,Wr=n.collapseExpand,zr=Wr===void 0?!0:Wr,Mn=n.handleEdgeClick,xn=n.handleEdgeHover,on=n.handleEdgeUnHover,un=n.handleNodeClick,pn=n.handleNodeHover,kr=n.handleNodeUnHover,bn=n.handleCanvasClick,Vn=n.graphRef,Kr=n.graphId,vn=Kr===void 0?"defaultIndentedTreeGraph":Kr,sa=E.a.useRef(null),va={data:t,className:e,style:r,width:o,height:u,nodeType:y,edgeType:F,behaviors:rt,nodeSize:pt,nodeLabelCfg:Lt,nodeAnchorPoints:Rt,layout:Zt,minimapCfg:_t,nodeStyle:ce,edgeStyle:Pe,nodeStateStyles:Ue,edgeStateStyles:Ur,collapseExpand:zr,handleEdgeClick:Mn,handleEdgeHover:xn,handleEdgeUnHover:on,handleNodeClick:un,handleNodeHover:pn,handleNodeUnHover:kr,handleCanvasClick:bn,graphRef:Vn,graphId:vn};return Sv(jh[vn],va,sa),Object(g.useEffect)(function(){var Ua=Pd(o,u,sa),Ar=jh[vn];Ar||(Ar=new Qo.TreeGraph({container:sa.current,width:Ua[0],height:Ua[1],modes:{default:rt},defaultNode:{type:y,size:pt,style:ce,anchorPoints:Rt,labelCfg:Lt},defaultEdge:{type:F,style:Pe},nodeStateStyles:Ue,edgeStateStyles:Ur,layout:Zt}),jh[vn]=Ar),Vn&&(Vn.current=Ar),Dd(_t,Ar);var fi=G(t);if(Ar.data(fi),Ar.render(),Ar.fitView(),zr){var Xn=function(ri){var Si=ri.item;ri.target.get("name")==="collapse-icon"?(Ar.updateItem(Si,{collapsed:!Si.getModel().collapsed}),Ar.layout()):un&&un(Si,Ar)};Ar.on("node:click",function(Tn){Xn(Tn)}),Ar.on("node:touchstart",function(Tn){Xn(Tn)})}return Ar.on("edge:mouseenter",function(Tn){var ri=Tn.item;Ar.setItemState(ri,"hover",!0),xn&&xn(ri,Ar)}),Ar.on("edge:mouseleave",function(Tn){var ri=Tn.item;Ar.setItemState(ri,"hover",!1),on&&on(ri,Ar)}),Ar.on("edge:click",function(Tn){var ri=Tn.item;Mn&&Mn(ri,Ar)}),Ar.on("edge:touchstart",function(Tn){var ri=Tn.item;Mn&&Mn(ri,Ar)}),Ar.on("node:mouseenter",function(Tn){var ri=Tn.item;Ar.setItemState(ri,"hover",!1),pn&&pn(ri,Ar)}),Ar.on("node:mouseleave",function(Tn){var ri=Tn.item;Ar.setItemState(ri,"hover",!1),kr&&kr(ri,Ar)}),Ar.on("canvas:click",function(){bn==null||bn(Ar)}),Ar.on("canvas:touchstart",function(){bn==null||bn(Ar)}),function(){jh[vn]&&(jh[vn].destroy(),delete jh[vn])}},[]),E.a.createElement(et,null,E.a.createElement("div",{className:e,style:r,ref:sa}))},n0=gM,UM=L.default={Area:Pt,Bar:vt,Box:Qt,Bullet:Ft,Column:jt,Funnel:j,Histogram:_,Line:St,Liquid:ye,Heatmap:Ze,Pie:Ke,Progress:Xe,Radar:Fr,RingProgress:Dn,Rose:ba,Chord:ai,Scatter:Ti,TinyArea:ia,TinyColumn:wa,TinyLine:$n,Waterfall:ii,WordCloud:Ka,Sunburst:ni,DualAxes:Sa,Stock:hi,RadialBar:he,Gauge:Ce,Sankey:ar,Treemap:Ln,MultiView:Wa,BidirectionalBar:mi,OrganizationTreeGraph:$m,DagreGraph:_m,IndentedTree:n0,DagreFundFlowGraph:e0,G2:D.G2,flow:D.flow,measureTextWidth:D.measureTextWidth,adaptors:D.adaptors}},"4Qiu":function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jg4I"),O=a("sxZn"),x=a("08EK"),C=a("RxlK"),A=a("OEJE"),S=O.a.transform,M="matrix",b=["zIndex","capture","visible","type"],g=["repeat"],E=":",D="*";function p(z){for(var w=[],T=0;T<z.length;T++)Object(i.B)(z[T])?w.push([].concat(z[T])):w.push(z[T]);return w}function N(z,w){var T={},B=w.attrs;for(var V in z)T[V]=B[V];return T}function I(z,w){var T={},B=w.attr();return Object(i.j)(z,function(V,$){g.indexOf($)===-1&&!Object(i.G)(B[$],V)&&(T[$]=V)}),T}function G(z,w){if(w.onFrame)return z;var T=w.startTime,B=w.delay,V=w.duration,$=Object.prototype.hasOwnProperty;return Object(i.j)(z,function(nt){T+B<nt.startTime+nt.delay+nt.duration&&V>nt.delay&&Object(i.j)(w.toAttrs,function(at,st){$.call(nt.toAttrs,st)&&(delete nt.toAttrs[st],delete nt.fromAttrs[st])})}),z}var W=function(z){Object(h.c)(w,z);function w(T){var B=z.call(this,T)||this;B.attrs={};var V=B.getDefaultAttrs();return Object(i.bb)(V,T.attrs),B.attrs=V,B.initAttrs(V),B.initAnimate(),B}return w.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},w.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},w.prototype.onCanvasChange=function(T){},w.prototype.initAttrs=function(T){},w.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},w.prototype.isGroup=function(){return!1},w.prototype.getParent=function(){return this.get("parent")},w.prototype.getCanvas=function(){return this.get("canvas")},w.prototype.attr=function(){for(var T,B=[],V=0;V<arguments.length;V++)B[V]=arguments[V];var $=B[0],nt=B[1];if(!$)return this.attrs;if(Object(i.M)($)){for(var at in $)this.setAttr(at,$[at]);return this.afterAttrsChange($),this}return B.length===2?(this.setAttr($,nt),this.afterAttrsChange((T={},T[$]=nt,T)),this):this.attrs[$]},w.prototype.isClipped=function(T,B){var V=this.getClip();return V&&!V.isHit(T,B)},w.prototype.setAttr=function(T,B){var V=this.attrs[T];V!==B&&(this.attrs[T]=B,this.onAttrChange(T,B,V))},w.prototype.onAttrChange=function(T,B,V){T==="matrix"&&this.set("totalMatrix",null)},w.prototype.afterAttrsChange=function(T){if(this.cfg.isClipShape){var B=this.cfg.applyTo;B&&B.onCanvasChange("clip")}else this.onCanvasChange("attr")},w.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},w.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},w.prototype.setZIndex=function(T){this.set("zIndex",T);var B=this.getParent();return B&&B.sort(),this},w.prototype.toFront=function(){var T=this.getParent();if(!!T){var B=T.getChildren(),V=this.get("el"),$=B.indexOf(this);B.splice($,1),B.push(this),this.onCanvasChange("zIndex")}},w.prototype.toBack=function(){var T=this.getParent();if(!!T){var B=T.getChildren(),V=this.get("el"),$=B.indexOf(this);B.splice($,1),B.unshift(this),this.onCanvasChange("zIndex")}},w.prototype.remove=function(T){T===void 0&&(T=!0);var B=this.getParent();B?(Object(x.j)(B.getChildren(),this),B.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),T&&this.destroy()},w.prototype.resetMatrix=function(){this.attr(M,this.getDefaultMatrix()),this.onCanvasChange("matrix")},w.prototype.getMatrix=function(){return this.attr(M)},w.prototype.setMatrix=function(T){this.attr(M,T),this.onCanvasChange("matrix")},w.prototype.getTotalMatrix=function(){var T=this.cfg.totalMatrix;if(!T){var B=this.attr("matrix"),V=this.cfg.parentMatrix;V&&B?T=Object(C.b)(V,B):T=B||V,this.set("totalMatrix",T)}return T},w.prototype.applyMatrix=function(T){var B=this.attr("matrix"),V=null;T&&B?V=Object(C.b)(T,B):V=B||T,this.set("totalMatrix",V),this.set("parentMatrix",T)},w.prototype.getDefaultMatrix=function(){return null},w.prototype.applyToMatrix=function(T){var B=this.attr("matrix");return B?Object(C.c)(B,T):T},w.prototype.invertFromMatrix=function(T){var B=this.attr("matrix");if(B){var V=Object(C.a)(B);if(V)return Object(C.c)(V,T)}return T},w.prototype.setClip=function(T){var B=this.getCanvas(),V=null;if(T){var $=this.getShapeBase(),nt=Object(i.tb)(T.type),at=$[nt];at&&(V=new at({type:T.type,isClipShape:!0,applyTo:this,attrs:T.attrs,canvas:B}))}return this.set("clipShape",V),this.onCanvasChange("clip"),V},w.prototype.getClip=function(){var T=this.cfg.clipShape;return T||null},w.prototype.clone=function(){var T=this,B=this.attrs,V={};Object(i.j)(B,function(at,st){Object(i.B)(B[st])?V[st]=p(B[st]):V[st]=B[st]});var $=this.constructor,nt=new $({attrs:V});return Object(i.j)(b,function(at){nt.set(at,T.get(at))}),nt},w.prototype.destroy=function(){var T=this.destroyed;T||(this.attrs={},z.prototype.destroy.call(this))},w.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},w.prototype.animate=function(){for(var T=[],B=0;B<arguments.length;B++)T[B]=arguments[B];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var V=this.get("timeline");V||(V=this.get("canvas").get("timeline"),this.set("timeline",V));var $=this.get("animations")||[];V.timer||V.initTimer();var nt=T[0],at=T[1],st=T[2],tt=st===void 0?"easeLinear":st,Q=T[3],Z=Q===void 0?i.db:Q,et=T[4],ct=et===void 0?0:et,mt,Ot,it,xt,It;Object(i.H)(nt)?(mt=nt,nt={}):Object(i.M)(nt)&&nt.onFrame&&(mt=nt.onFrame,Ot=nt.repeat),Object(i.M)(at)?(It=at,at=It.duration,tt=It.easing||"easeLinear",ct=It.delay||0,Ot=It.repeat||Ot||!1,Z=It.callback||i.db,it=It.pauseCallback||i.db,xt=It.resumeCallback||i.db):(Object(i.K)(Z)&&(ct=Z,Z=null),Object(i.H)(tt)?(Z=tt,tt="easeLinear"):tt=tt||"easeLinear");var zt=I(nt,this),Kt={fromAttrs:N(zt,this),toAttrs:zt,duration:at,easing:tt,repeat:Ot,callback:Z,pauseCallback:it,resumeCallback:xt,delay:ct,startTime:V.getTime(),id:Object(i.sb)(),onFrame:mt,pathFormatted:!1};$.length>0?$=G($,Kt):V.addAnimator(this),$.push(Kt),this.set("animations",$),this.set("_pause",{isPaused:!1})}},w.prototype.stopAnimate=function(T){var B=this;T===void 0&&(T=!0);var V=this.get("animations");Object(i.j)(V,function($){T&&($.onFrame?B.attr($.onFrame(1)):B.attr($.toAttrs)),$.callback&&$.callback()}),this.set("animating",!1),this.set("animations",[])},w.prototype.pauseAnimate=function(){var T=this.get("timeline"),B=this.get("animations"),V=T.getTime();return Object(i.j)(B,function($){$._paused=!0,$._pauseTime=V,$.pauseCallback&&$.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:V}),this},w.prototype.resumeAnimate=function(){var T=this.get("timeline"),B=T.getTime(),V=this.get("animations"),$=this.get("_pause").pauseTime;return Object(i.j)(V,function(nt){nt.startTime=nt.startTime+(B-$),nt._paused=!1,nt._pauseTime=null,nt.resumeCallback&&nt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",V),this},w.prototype.emitDelegation=function(T,B){var V=this,$=B.propagationPath,nt=this.getEvents(),at;T==="mouseenter"?at=B.fromShape:T==="mouseleave"&&(at=B.toShape);for(var st=function(ct){var mt=$[ct],Ot=mt.get("name");if(Ot){if((mt.isGroup()||mt.isCanvas&&mt.isCanvas())&&at&&Object(x.g)(mt,at))return"break";Object(i.B)(Ot)?Object(i.j)(Ot,function(it){V.emitDelegateEvent(mt,it,B)}):tt.emitDelegateEvent(mt,Ot,B)}},tt=this,Q=0;Q<$.length;Q++){var Z=st(Q);if(Z==="break")break}},w.prototype.emitDelegateEvent=function(T,B,V){var $=this.getEvents(),nt=B+E+V.type;($[nt]||$[D])&&(V.name=nt,V.currentTarget=T,V.delegateTarget=this,V.delegateObject=T.get("delegateObject"),this.emit(nt,V))},w.prototype.translate=function(T,B){T===void 0&&(T=0),B===void 0&&(B=0);var V=this.getMatrix(),$=S(V,[["t",T,B]]);return this.setMatrix($),this},w.prototype.move=function(T,B){var V=this.attr("x")||0,$=this.attr("y")||0;return this.translate(T-V,B-$),this},w.prototype.moveTo=function(T,B){return this.move(T,B)},w.prototype.scale=function(T,B){var V=this.getMatrix(),$=S(V,[["s",T,B||T]]);return this.setMatrix($),this},w.prototype.rotate=function(T){var B=this.getMatrix(),V=S(B,[["r",T]]);return this.setMatrix(V),this},w.prototype.rotateAtStart=function(T){var B=this.attr(),V=B.x,$=B.y,nt=this.getMatrix(),at=S(nt,[["t",-V,-$],["r",T],["t",V,$]]);return this.setMatrix(at),this},w.prototype.rotateAtPoint=function(T,B,V){var $=this.getMatrix(),nt=S($,[["t",-T,-B],["r",V],["t",T,B]]);return this.setMatrix(nt),this},w}(A.a);L.a=W},"4Yl/":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.targetName=void 0;var h=a("4b80"),i=a("TSqk"),O=a("+QvE");function x(C){return function(A,S,M){var b=new i.Metadata(h.NAME_TAG,C);O.tagParameter(A,S,M,b)}}L.targetName=x},"4b80":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.POST_CONSTRUCT=L.DESIGN_PARAM_TYPES=L.PARAM_TYPES=L.TAGGED_PROP=L.TAGGED=L.MULTI_INJECT_TAG=L.INJECT_TAG=L.OPTIONAL_TAG=L.UNMANAGED_TAG=L.NAME_TAG=L.NAMED_TAG=void 0,L.NAMED_TAG="named",L.NAME_TAG="name",L.UNMANAGED_TAG="unmanaged",L.OPTIONAL_TAG="optional",L.INJECT_TAG="inject",L.MULTI_INJECT_TAG="multi_inject",L.TAGGED="inversify:tagged",L.TAGGED_PROP="inversify:tagged_props",L.PARAM_TYPES="inversify:paramtypes",L.DESIGN_PARAM_TYPES="design:paramtypes",L.POST_CONSTRUCT="post_construct"},"4fVK":function(Ut,L,a){"use strict";var h=function(){function i(O,x){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=x,this.timeStamp=x.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}();L.a=h},"4rFa":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.AsyncContainerModule=L.ContainerModule=void 0;var h=a("/LIz"),i=function(){function x(C){this.id=h.id(),this.registry=C}return x}();L.ContainerModule=i;var O=function(){function x(C){this.id=h.id(),this.registry=C}return x}();L.AsyncContainerModule=O},"4tFv":function(Ut,L){function a(h){return h===void 0}Ut.exports=a},"5+Yv":function(Ut,L,a){var h=a("RaWV"),i=a("SOgk"),O=a("hQ5t"),x=a("NbNK"),C=a("+Gi7");function A(S,M,b){var g=C(S)?h:x,E=arguments.length<3;return g(S,O(M,4),b,E,i)}Ut.exports=A},"5/ae":function(Ut,L){},"5Am0":function(Ut,L,a){Ut.exports=a("oobg")},"5Hz4":function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"b",function(){return i});var h=["#FAAD14","#E8EDF3"],i={percent:.2,color:h,animation:{}}},"5Kaj":function(Ut,L,a){"use strict";var h=a("jg4I"),i=a("3k0L"),O=function(){function x(C){var A=C.xField,S=C.yField,M=C.adjustNames,b=M===void 0?["x","y"]:M;this.adjustNames=b,this.xField=A,this.yField=S}return x.prototype.isAdjust=function(C){return this.adjustNames.indexOf(C)>=0},x.prototype.getAdjustRange=function(C,A,S){var M=this.yField,b=S.indexOf(A),g=S.length,E,D;return!M&&this.isAdjust("y")?(E=0,D=1):g>1?(E=S[b===0?0:b-1],D=S[b===g-1?g-1:b+1],b!==0?E+=(A-E)/2:E-=(D-A)/2,b!==g-1?D-=(D-A)/2:D+=(A-S[g-2])/2):(E=A===0?0:A-.5,D=A===0?1:A+.5),{pre:E,next:D}},x.prototype.adjustData=function(C,A){var S=this,M=this.getDimValues(A);h.j(C,function(b,g){h.j(M,function(E,D){S.adjustDim(D,E,b,g)})})},x.prototype.groupData=function(C,A){return h.j(C,function(S){S[A]===void 0&&(S[A]=i.a)}),h.v(C,A)},x.prototype.adjustDim=function(C,A,S,M){},x.prototype.getDimValues=function(C){var A=this,S=A.xField,M=A.yField,b={},g=[];if(S&&this.isAdjust("x")&&g.push(S),M&&this.isAdjust("y")&&g.push(M),g.forEach(function(D){b[D]=h.vb(C,D).sort(function(p,N){return p-N})}),!M&&this.isAdjust("y")){var E="y";b[E]=[i.a,1]}return b},x}();L.a=O},"5LP0":function(Ut,L){Ut.exports=a;function a(h,i){var O=i[0]-h[0],x=i[1]-h[1];return O*O+x*x}},"5M8n":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var h=function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,C=null;return function(){for(var A=this,S=arguments.length,M=new Array(S),b=0;b<S;b++)M[b]=arguments[b];clearTimeout(C),C=setTimeout(function(){O.apply(A,M)},x)}};L.default=h},"5Nvg":function(Ut,L){function a(){}Ut.exports=a},"5RCt":function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jsfD"),O=a("0xlF"),x=a("BSge"),C=a("oFJY"),A=a("SCaY"),S=a("ozhX"),M=a("CyRS"),b=a("jg4I"),g=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,E=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,D=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function p(Ot){var it=Ot.match(D);if(!it)return"";var xt="";return it.sort(function(It,zt){return It=It.split(":"),zt=zt.split(":"),Number(It[0])-Number(zt[0])}),Object(b.j)(it,function(It){It=It.split(":"),xt+='<stop offset="'+It[0]+'" stop-color="'+It[1]+'"></stop>'}),xt}function N(Ot,it){var xt=g.exec(Ot),It=Object(b.cb)(Object(b.pb)(parseFloat(xt[1])),Math.PI*2),zt=xt[2],Kt,Yt;It>=0&&It<.5*Math.PI?(Kt={x:0,y:0},Yt={x:1,y:1}):.5*Math.PI<=It&&It<Math.PI?(Kt={x:1,y:0},Yt={x:0,y:1}):Math.PI<=It&&It<1.5*Math.PI?(Kt={x:1,y:1},Yt={x:0,y:0}):(Kt={x:0,y:1},Yt={x:1,y:0});var bt=Math.tan(It),ft=bt*bt,dt=(Yt.x-Kt.x+bt*(Yt.y-Kt.y))/(ft+1)+Kt.x,ot=bt*(Yt.x-Kt.x+bt*(Yt.y-Kt.y))/(ft+1)+Kt.y;it.setAttribute("x1",Kt.x),it.setAttribute("y1",Kt.y),it.setAttribute("x2",dt),it.setAttribute("y2",ot),it.innerHTML=p(zt)}function I(Ot,it){var xt=E.exec(Ot),It=parseFloat(xt[1]),zt=parseFloat(xt[2]),Kt=parseFloat(xt[3]),Yt=xt[4];it.setAttribute("cx",It),it.setAttribute("cy",zt),it.setAttribute("r",Kt),it.innerHTML=p(Yt)}var G=function(){function Ot(it){this.cfg={};var xt=null,It=Object(b.sb)("gradient_");return it.toLowerCase()[0]==="l"?(xt=Object(A.b)("linearGradient"),N(it,xt)):(xt=Object(A.b)("radialGradient"),I(it,xt)),xt.setAttribute("id",It),this.el=xt,this.id=It,this.cfg=it,this}return Ot.prototype.match=function(it,xt){return this.cfg===xt},Ot}(),W=G,z={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},w={x:"-40%",y:"-40%",width:"200%",height:"200%"},T=function(){function Ot(it){this.type="filter",this.cfg={},this.type="filter";var xt=Object(A.b)("filter");return Object(b.j)(w,function(It,zt){xt.setAttribute(zt,It)}),this.el=xt,this.id=Object(b.sb)("filter_"),this.el.id=this.id,this.cfg=it,this._parseShadow(it,xt),this}return Ot.prototype.match=function(it,xt){if(this.type!==it)return!1;var It=!0,zt=this.cfg;return Object(b.j)(Object.keys(zt),function(Kt){if(zt[Kt]!==xt[Kt])return It=!1,!1}),It},Ot.prototype.update=function(it,xt){var It=this.cfg;return It[z[it]]=xt,this._parseShadow(It,this.el),this},Ot.prototype._parseShadow=function(it,xt){var It=`<feDropShadow
      dx="`+(it.dx||0)+`"
      dy="`+(it.dy||0)+`"
      stdDeviation="`+(it.blur?it.blur/10:0)+`"
      flood-color="`+(it.color?it.color:"#000")+`"
      flood-opacity="`+(it.opacity?it.opacity:1)+`"
      />`;xt.innerHTML=It},Ot}(),B=T,V=function(){function Ot(it,xt){this.cfg={};var It=Object(A.b)("marker"),zt=Object(b.sb)("marker_");It.setAttribute("id",zt);var Kt=Object(A.b)("path");Kt.setAttribute("stroke",it.stroke||"none"),Kt.setAttribute("fill",it.fill||"none"),It.appendChild(Kt),It.setAttribute("overflow","visible"),It.setAttribute("orient","auto-start-reverse"),this.el=It,this.child=Kt,this.id=zt;var Yt=it[xt==="marker-start"?"startArrow":"endArrow"];return this.stroke=it.stroke||"#000",Yt===!0?this._setDefaultPath(xt,Kt):(this.cfg=Yt,this._setMarker(it.lineWidth,Kt)),this}return Ot.prototype.match=function(){return!1},Ot.prototype._setDefaultPath=function(it,xt){var It=this.el;xt.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),It.setAttribute("refX",""+10*Math.cos(Math.PI/6)),It.setAttribute("refY",""+5)},Ot.prototype._setMarker=function(it,xt){var It=this.el,zt=this.cfg.path,Kt=this.cfg.d;Object(b.B)(zt)&&(zt=zt.map(function(Yt){return Yt.join(" ")}).join("")),xt.setAttribute("d",zt),It.appendChild(xt),Kt&&It.setAttribute("refX",""+Kt/it)},Ot.prototype.update=function(it){var xt=this.child;xt.attr?xt.attr("fill",it):xt.setAttribute("fill",it)},Ot}(),$=V,nt=function(){function Ot(it){this.type="clip",this.cfg={};var xt=Object(A.b)("clipPath");this.el=xt,this.id=Object(b.sb)("clip_"),xt.id=this.id;var It=it.cfg.el;return xt.appendChild(It),this.cfg=it,this}return Ot.prototype.match=function(){return!1},Ot.prototype.remove=function(){var it=this.el;it.parentNode.removeChild(it)},Ot}(),at=nt,st=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,tt=function(){function Ot(it){this.cfg={};var xt=Object(A.b)("pattern");xt.setAttribute("patternUnits","userSpaceOnUse");var It=Object(A.b)("image");xt.appendChild(It);var zt=Object(b.sb)("pattern_");xt.id=zt,this.el=xt,this.id=zt,this.cfg=it;var Kt=st.exec(it),Yt=Kt[2];It.setAttribute("href",Yt);var bt=new Image;Yt.match(/^data:/i)||(bt.crossOrigin="Anonymous"),bt.src=Yt;function ft(){xt.setAttribute("width",""+bt.width),xt.setAttribute("height",""+bt.height)}return bt.complete?ft():(bt.onload=ft,bt.src=bt.src),this}return Ot.prototype.match=function(it,xt){return this.cfg===xt},Ot}(),Q=tt,Z=function(){function Ot(it){var xt=Object(A.b)("defs"),It=Object(b.sb)("defs_");xt.id=It,it.appendChild(xt),this.children=[],this.defaultArrow={},this.el=xt,this.canvas=it}return Ot.prototype.find=function(it,xt){for(var It=this.children,zt=null,Kt=0;Kt<It.length;Kt++)if(It[Kt].match(it,xt)){zt=It[Kt].id;break}return zt},Ot.prototype.findById=function(it){for(var xt=this.children,It=null,zt=0;zt<xt.length;zt++)if(xt[zt].id===it){It=xt[zt];break}return It},Ot.prototype.add=function(it){this.children.push(it),it.canvas=this.canvas,it.parent=this},Ot.prototype.getDefaultArrow=function(it,xt){var It=it.stroke||it.strokeStyle;if(this.defaultArrow[It])return this.defaultArrow[It].id;var zt=new $(it,xt);return this.defaultArrow[It]=zt,this.el.appendChild(zt.el),this.add(zt),zt.id},Ot.prototype.addGradient=function(it){var xt=new W(it);return this.el.appendChild(xt.el),this.add(xt),xt.id},Ot.prototype.addArrow=function(it,xt){var It=new $(it,xt);return this.el.appendChild(It.el),this.add(It),It.id},Ot.prototype.addShadow=function(it){var xt=new B(it);return this.el.appendChild(xt.el),this.add(xt),xt.id},Ot.prototype.addPattern=function(it){var xt=new Q(it);return this.el.appendChild(xt.el),this.add(xt),xt.id},Ot.prototype.addClip=function(it){var xt=new at(it);return this.el.appendChild(xt.el),this.add(xt),xt.id},Ot}(),et=Z,ct=function(Ot){Object(h.c)(it,Ot);function it(xt){return Ot.call(this,Object(h.a)(Object(h.a)({},xt),{autoDraw:!0,renderer:"svg"}))||this}return it.prototype.getShapeBase=function(){return S},it.prototype.getGroupBase=function(){return M.a},it.prototype.getShape=function(xt,It,zt){var Kt=zt.target||zt.srcElement;if(!O.a[Kt.tagName]){for(var Yt=Kt.parentNode;Yt&&!O.a[Yt.tagName];)Yt=Yt.parentNode;Kt=Yt}return this.find(function(bt){return bt.get("el")===Kt})},it.prototype.createDom=function(){var xt=Object(A.b)("svg"),It=new et(xt);return xt.setAttribute("width",""+this.get("width")),xt.setAttribute("height",""+this.get("height")),this.set("context",It),xt},it.prototype.onCanvasChange=function(xt){var It=this.get("context"),zt=this.get("el");if(xt==="sort"){var Kt=this.get("children");Kt&&Kt.length&&Object(A.d)(this,function(bt,ft){return Kt.indexOf(bt)-Kt.indexOf(ft)?1:0})}else if(xt==="clear"){if(zt){zt.innerHTML="";var Yt=It.el;Yt.innerHTML="",zt.appendChild(Yt)}}else xt==="matrix"?Object(C.c)(this):xt==="clip"?Object(C.a)(this,It):xt==="changeSize"&&(zt.setAttribute("width",""+this.get("width")),zt.setAttribute("height",""+this.get("height")))},it.prototype.draw=function(){var xt=this.get("context"),It=this.getChildren();Object(C.a)(this,xt),It.length&&Object(x.a)(xt,It)},it}(i.AbstractCanvas),mt=L.a=ct},"5oMf":function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("hppO");Ut.exports={run:O,undo:C};function O(A){A.graph().dummyChains=[],h.forEach(A.edges(),function(S){x(A,S)})}function x(A,S){var M=S.v,b=A.node(M).rank,g=S.w,E=A.node(g).rank,D=S.name,p=A.edge(S),N=p.labelRank;if(E!==b+1){A.removeEdge(S);var I,G,W;for(W=0,++b;b<E;++W,++b)p.points=[],G={width:0,height:0,edgeLabel:p,edgeObj:S,rank:b},I=i.addDummyNode(A,"edge",G,"_d"),b===N&&(G.width=p.width,G.height=p.height,G.dummy="edge-label",G.labelpos=p.labelpos),A.setEdge(M,I,{weight:p.weight},D),W===0&&A.graph().dummyChains.push(I),M=I;A.setEdge(M,g,{weight:p.weight},D)}}function C(A){h.forEach(A.graph().dummyChains,function(S){var M=A.node(S),b=M.edgeLabel,g;for(A.setEdge(M.edgeObj,b);M.dummy;)g=A.successors(S)[0],A.removeNode(S),b.points.push({x:M.x,y:M.y}),M.dummy==="edge-label"&&(b.x=M.x,b.y=M.y,b.width=M.width,b.height=M.height),S=g,M=A.node(S)})}},"60wz":function(Ut,L,a){"use strict";a.d(L,"b",function(){return S}),a.d(L,"a",function(){return M});var h=a("xDaT"),i=a.n(h),O=a("99LQ");function x(g){return typeof g=="number"}function C(g){return g===void 0?0:g>360||g<-360?g%360:g}function A(g,E,D){return x(g)?O.e.fromValues(g,E,D):g.length===3?O.e.clone(g):O.e.fromValues(g[0],g[1],g[2])}function S(g,E){return E[0]=g[0],E[1]=g[1],E[2]=g[2],E[3]=g[4],E[4]=g[5],E[5]=g[6],E[6]=g[8],E[7]=g[9],E[8]=g[10],E}function M(g){var E=i()(g,3),D=E[0],p=E[1],N=E[2],I=D+p*256+N*65536-1;return I}function b(g){return[g+1&255,g+1>>8&255,g+1>>8>>8&255]}},"69Sz":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.getBindingDictionary=L.createMockRequest=L.plan=void 0;var h=a("VIkg"),i=a("JIc3"),O=a("TKZu"),x=a("4b80"),C=a("zGZQ"),A=a("qagQ"),S=a("Y+uZ"),M=a("TSqk"),b=a("dcUQ"),g=a("lWQu"),E=a("0UF7"),D=a("KzWp");function p(B){return B._bindingDictionary}L.getBindingDictionary=p;function N(B,V,$,nt,at,st){var tt=B?x.MULTI_INJECT_TAG:x.INJECT_TAG,Q=new M.Metadata(tt,$),Z=new D.Target(V,nt,$,Q);if(at!==void 0){var et=new M.Metadata(at,st);Z.metadata.push(et)}return Z}function I(B,V,$,nt,at){var st=z($.container,at.serviceIdentifier),tt=[];return st.length===h.BindingCount.NoBindingsAvailable&&$.container.options.autoBindInjectable&&typeof at.serviceIdentifier=="function"&&B.getConstructorMetadata(at.serviceIdentifier).compilerGeneratedMetadata&&($.container.bind(at.serviceIdentifier).toSelf(),st=z($.container,at.serviceIdentifier)),V?tt=st:tt=st.filter(function(Q){var Z=new E.Request(Q.serviceIdentifier,$,nt,Q,at);return Q.constraint(Z)}),G(at.serviceIdentifier,tt,at,$.container),tt}function G(B,V,$,nt){switch(V.length){case h.BindingCount.NoBindingsAvailable:if($.isOptional())return V;var at=A.getServiceIdentifierAsString(B),st=i.NOT_REGISTERED;throw st+=A.listMetadataForTarget(at,$),st+=A.listRegisteredBindingsForServiceIdentifier(nt,at,z),new Error(st);case h.BindingCount.OnlyOneBindingAvailable:if(!$.isArray())return V;case h.BindingCount.MultipleBindingsAvailable:default:if($.isArray())return V;var at=A.getServiceIdentifierAsString(B),st=i.AMBIGUOUS_MATCH+" "+at;throw st+=A.listRegisteredBindingsForServiceIdentifier(nt,at,z),new Error(st)}}function W(B,V,$,nt,at,st){var tt,Q;if(at===null){tt=I(B,V,nt,null,st),Q=new E.Request($,nt,null,tt,st);var Z=new b.Plan(nt,Q);nt.addPlan(Z)}else tt=I(B,V,nt,at,st),Q=at.addChildRequest(st.serviceIdentifier,tt,st);tt.forEach(function(et){var ct=null;if(st.isArray())ct=Q.addChildRequest(et.serviceIdentifier,et,st);else{if(et.cache)return;ct=Q}if(et.type===O.BindingTypeEnum.Instance&&et.implementationType!==null){var mt=g.getDependencies(B,et.implementationType);if(!nt.container.options.skipBaseClassChecks){var Ot=g.getBaseClassDependencyCount(B,et.implementationType);if(mt.length<Ot){var it=i.ARGUMENTS_LENGTH_MISMATCH(g.getFunctionName(et.implementationType));throw new Error(it)}}mt.forEach(function(xt){W(B,!1,xt.serviceIdentifier,nt,ct,xt)})}})}function z(B,V){var $=[],nt=p(B);return nt.hasKey(V)?$=nt.get(V):B.parent!==null&&($=z(B.parent,V)),$}function w(B,V,$,nt,at,st,tt,Q){Q===void 0&&(Q=!1);var Z=new S.Context(V),et=N($,nt,at,"",st,tt);try{return W(B,Q,at,Z,null,et),Z}catch(ct){throw C.isStackOverflowExeption(ct)&&Z.plan&&A.circularDependencyToException(Z.plan.rootRequest),ct}}L.plan=w;function T(B,V,$,nt){var at=new D.Target(O.TargetTypeEnum.Variable,"",V,new M.Metadata($,nt)),st=new S.Context(B),tt=new E.Request(V,st,null,[],at);return tt}L.createMockRequest=T},"6FVg":function(Ut,L){function a(h,i){var O=h.length;for(h.sort(i);O--;)h[O]=h[O].value;return h}Ut.exports=a},"6qc8":function(Ut,L,a){(function(h,i){Ut.exports=i()})(this,function(){return function(){"use strict";var h={458:function(A){A.exports=function(S,M,b,g){var E=self||window;try{try{var D;try{D=new E.Blob([S])}catch(G){(D=new(E.BlobBuilder||E.WebKitBlobBuilder||E.MozBlobBuilder||E.MSBlobBuilder)).append(S),D=D.getBlob()}var p=E.URL||E.webkitURL,N=p.createObjectURL(D),I=new E[M](N,b);return p.revokeObjectURL(N),I}catch(G){return new E[M]("data:application/javascript,".concat(encodeURIComponent(S)),b)}}catch(G){if(!g)throw Error("Inline worker is not supported");return new E[M](g,b)}}}},i={};function O(C){var A=i[C];if(A!==void 0)return A.exports;var S=i[C]={exports:{}};return h[C](S,S.exports,O),S.exports}O.n=function(C){var A=C&&C.__esModule?function(){return C.default}:function(){return C};return O.d(A,{a:A}),A},O.d=function(C,A){for(var S in A)O.o(A,S)&&!O.o(C,S)&&Object.defineProperty(C,S,{enumerable:!0,get:A[S]})},O.o=function(C,A){return Object.prototype.hasOwnProperty.call(C,A)},O.p="./dist";var x={};return function(){O.d(x,{default:function(){return kt}});var C=function(Y,U){var j=Y.nodes,q=Y.edges,gt=[],_={};if(!j)throw new Error("invalid nodes data!");return j&&j.forEach(function(yt,wt){_[yt.id]=wt,gt.push([])}),q&&q.forEach(function(yt){var wt=yt.source,St=yt.target,Dt=_[wt],Vt=_[St];!Dt&&Dt!==0||!Vt&&Vt!==0||(gt[Dt][Vt]=1,U||(gt[Vt][Dt]=1))}),gt},A=function(Y,U){return Y===U},S=function(){function jt(Y,U){U===void 0&&(U=null),this.value=Y,this.next=U}return jt.prototype.toString=function(Y){return Y?Y(this.value):""+this.value},jt}(),M=function(){function jt(Y){Y===void 0&&(Y=A),this.head=null,this.tail=null,this.compare=Y}return jt.prototype.prepend=function(Y){var U=new S(Y,this.head);return this.head=U,this.tail||(this.tail=U),this},jt.prototype.append=function(Y){var U=new S(Y);return this.head?(this.tail.next=U,this.tail=U,this):(this.head=U,this.tail=U,this)},jt.prototype.delete=function(Y){if(!this.head)return null;for(var U=null;this.head&&this.compare(this.head.value,Y);)U=this.head,this.head=this.head.next;var j=this.head;if(j!==null)for(;j.next;)this.compare(j.next.value,Y)?(U=j.next,j.next=j.next.next):j=j.next;return this.compare(this.tail.value,Y)&&(this.tail=j),U},jt.prototype.find=function(Y){var U=Y.value,j=U===void 0?void 0:U,q=Y.callback,gt=q===void 0?void 0:q;if(!this.head)return null;for(var _=this.head;_;){if(gt&&gt(_.value)||j!==void 0&&this.compare(_.value,j))return _;_=_.next}return null},jt.prototype.deleteTail=function(){var Y=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,Y;for(var U=this.head;U.next;)U.next.next?U=U.next:U.next=null;return this.tail=U,Y},jt.prototype.deleteHead=function(){if(!this.head)return null;var Y=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),Y},jt.prototype.fromArray=function(Y){var U=this;return Y.forEach(function(j){return U.append(j)}),this},jt.prototype.toArray=function(){for(var Y=[],U=this.head;U;)Y.push(U),U=U.next;return Y},jt.prototype.reverse=function(){for(var Y=this.head,U=null,j=null;Y;)j=Y.next,Y.next=U,U=Y,Y=j;this.tail=this.head,this.head=U},jt.prototype.toString=function(Y){return Y===void 0&&(Y=void 0),this.toArray().map(function(U){return U.toString(Y)}).toString()},jt}(),b=function(){function jt(){this.linkedList=new M}return jt.prototype.isEmpty=function(){return!this.linkedList.head},jt.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},jt.prototype.enqueue=function(Y){this.linkedList.append(Y)},jt.prototype.dequeue=function(){var Y=this.linkedList.deleteHead();return Y?Y.value:null},jt.prototype.toString=function(Y){return this.linkedList.toString(Y)},jt}(),g=function(Y,U,j){U===void 0&&(U=[]);var q=U.filter(function(gt){return gt.source===Y||gt.target===Y});return j==="target"?q.filter(function(gt){return gt.source===Y}).map(function(gt){return gt.target}):j==="source"?q.filter(function(gt){return gt.target===Y}).map(function(gt){return gt.source}):q.map(function(gt){return gt.source===Y?gt.target:gt.source})},E=function(Y,U){return U.filter(function(j){return j.source===Y||j.target===Y})},D=function(Y){return Y===void 0&&(Y=0),Y+"-"+(""+Math.random()).split(".")[1].substr(0,5)+(""+Math.random()).split(".")[1].substr(0,5)},p=function(Y){var U={},j=Y.nodes,q=j===void 0?[]:j,gt=Y.edges,_=gt===void 0?[]:gt;return q.forEach(function(yt){U[yt.id]={degree:0,inDegree:0,outDegree:0}}),_.forEach(function(yt){U[yt.source].degree++,U[yt.source].outDegree++,U[yt.target].degree++,U[yt.target].inDegree++}),U},N=p;function I(jt,Y,U,j){j.enter({current:Y,previous:U});var q=jt.edges;g(Y,q===void 0?[]:q,"target").forEach(function(gt){j.allowTraversal({previous:U,current:Y,next:gt})&&I(jt,gt,Y,j)}),j.leave({current:Y,previous:U})}function G(jt,Y,U){I(jt,Y,"",function(j){j===void 0&&(j={});var q,gt=j,_=function(){},yt=(q={},function(wt){var St=wt.next;return!q[St]&&(q[St]=!0,!0)});return gt.allowTraversal=j.allowTraversal||yt,gt.enter=j.enter||_,gt.leave=j.leave||_,gt}(U))}function W(jt,Y){for(var U=0,j=Y.length,q=jt.length;U<j;U++,q++)jt[q]=Y[U];return jt}var z={}.toString,w=function(Y,U){return z.call(Y)==="[object "+U+"]"},T=function(Y){return Array.isArray?Array.isArray(Y):w(Y,"Array")},B=Array.prototype;B.splice,B.indexOf,Array.prototype.splice,Number.isInteger&&Number.isInteger,Object.prototype;var V=function jt(Y){if(typeof Y!="object"||Y===null)return Y;var U;if(T(Y)){U=[];for(var j=0,q=Y.length;j<q;j++)typeof Y[j]=="object"&&Y[j]!=null?U[j]=jt(Y[j]):U[j]=Y[j]}else for(var gt in U={},Y)typeof Y[gt]=="object"&&Y[gt]!=null?U[gt]=jt(Y[gt]):U[gt]=Y[gt];return U};(function(){function jt(){this.map={}}jt.prototype.has=function(Y){return this.map[Y]!==void 0},jt.prototype.get=function(Y,U){var j=this.map[Y];return j===void 0?U:j},jt.prototype.set=function(Y,U){this.map[Y]=U},jt.prototype.clear=function(){this.map={}},jt.prototype.delete=function(Y){delete this.map[Y]},jt.prototype.size=function(){return Object.keys(this.map).length}})();var $=function(Y,U,j,q){var gt=Y.nodes,_=gt===void 0?[]:gt,yt=Y.edges,wt=yt===void 0?[]:yt,St=[],Dt={},Vt={},Qt={};_.forEach(function(we,We){var Ke=we.id;St.push(Ke),Vt[Ke]=1/0,Ke===U&&(Vt[Ke]=0)});for(var ee=_.length,se=function(We){var Ke=function(or,Ce,sr){for(var ke,Xe=1/0,dr=0;dr<Ce.length;dr++){var Sr=Ce[dr].id;!sr[Sr]&&or[Sr]<=Xe&&(Xe=or[Sr],ke=Ce[dr])}return ke}(Vt,_,Dt),cr=Ke.id;if(Dt[cr]=!0,Vt[cr]===1/0)return"continue";(j?function(or,Ce){return Ce.filter(function(sr){return sr.source===or})}(cr,wt):E(cr,wt)).forEach(function(or){var Ce=or.target,sr=or.source,ke=Ce===cr?sr:Ce,Xe=q&&or[q]?or[q]:1;Vt[ke]>Vt[Ke.id]+Xe?(Vt[ke]=Vt[Ke.id]+Xe,Qt[ke]=[Ke.id]):Vt[ke]===Vt[Ke.id]+Xe&&Qt[ke].push(Ke.id)})},ye=0;ye<ee;ye++)se();Qt[U]=[U];var Ie={};for(var Be in Vt)Vt[Be]!==1/0&&nt(U,Be,Qt,Ie);var Ze={};for(var Be in Ie)Ze[Be]=Ie[Be][0];return{length:Vt,path:Ze,allPath:Ie}};function nt(jt,Y,U,j){if(jt===Y)return[jt];if(j[Y])return j[Y];for(var q=[],gt=0,_=U[Y];gt<_.length;gt++){var yt=nt(jt,_[gt],U,j);if(!yt)return;for(var wt=0,St=yt;wt<St.length;wt++){var Dt=St[wt];T(Dt)?q.push(W(W([],Dt),[Y])):q.push([Dt,Y])}}return j[Y]=q,j[Y]}var at=function(Y,U){for(var j=C(Y,U),q=[],gt=j.length,_=0;_<gt;_+=1){q[_]=[];for(var yt=0;yt<gt;yt+=1)_===yt?q[_][yt]=0:j[_][yt]!==0&&j[_][yt]?q[_][yt]=j[_][yt]:q[_][yt]=1/0}for(var wt=0;wt<gt;wt+=1)for(_=0;_<gt;_+=1)for(yt=0;yt<gt;yt+=1)q[_][yt]>q[_][wt]+q[wt][yt]&&(q[_][yt]=q[_][wt]+q[wt][yt]);return q},st=function(Y,U,j,q){for(var gt=U.length,_=2*q,yt=0,wt=0;wt<gt;wt++)for(var St=Y[wt].clusterId,Dt=0;Dt<gt;Dt++)St===Y[Dt].clusterId&&(yt+=(U[wt][Dt]||0)-(j[wt]||0)*(j[Dt]||0)/_);return yt*(1/_)},tt=function(){function jt(Y){this.count=Y.length,this.parent={};for(var U=0,j=Y;U<j.length;U++){var q=j[U];this.parent[q]=q}}return jt.prototype.find=function(Y){for(;this.parent[Y]!==Y;)Y=this.parent[Y];return Y},jt.prototype.union=function(Y,U){var j=this.find(Y),q=this.find(U);j!==q&&(j<q?(this.parent[U]!==U&&this.union(this.parent[U],Y),this.parent[U]=this.parent[Y]):(this.parent[Y]!==Y&&this.union(this.parent[Y],U),this.parent[Y]=this.parent[U]))},jt.prototype.connected=function(Y,U){return this.find(Y)===this.find(U)},jt}(),Q=function(Y,U){return Y-U},Z=function(){function jt(Y){Y===void 0&&(Y=Q),this.compareFn=Y,this.list=[]}return jt.prototype.getLeft=function(Y){return 2*Y+1},jt.prototype.getRight=function(Y){return 2*Y+2},jt.prototype.getParent=function(Y){return Y===0?null:Math.floor((Y-1)/2)},jt.prototype.isEmpty=function(){return this.list.length<=0},jt.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},jt.prototype.delMin=function(){var Y=this.top(),U=this.list.pop();return this.list.length>0&&(this.list[0]=U,this.moveDown(0)),Y},jt.prototype.insert=function(Y){if(Y!==null){this.list.push(Y);var U=this.list.length-1;return this.moveUp(U),!0}return!1},jt.prototype.moveUp=function(Y){for(var U=this.getParent(Y);Y&&Y>0&&this.compareFn(this.list[U],this.list[Y])>0;){var j=this.list[U];this.list[U]=this.list[Y],this.list[Y]=j,Y=U,U=this.getParent(Y)}},jt.prototype.moveDown=function(Y){var U,j=Y,q=this.getLeft(Y),gt=this.getRight(Y),_=this.list.length;q!==null&&q<_&&this.compareFn(this.list[j],this.list[q])>0?j=q:gt!==null&&gt<_&&this.compareFn(this.list[j],this.list[gt])>0&&(j=gt),Y!==j&&(U=[this.list[j],this.list[Y]],this.list[Y]=U[0],this.list[j]=U[1],this.moveDown(j))},jt}(),et=function(Y,U){var j=[],q=Y.nodes,gt=q===void 0?[]:q,_=Y.edges,yt=_===void 0?[]:_;if(gt.length===0)return j;var wt=gt[0],St=new Set;St.add(wt);var Dt=new Z(function(se,ye){return U?se.weight-ye.weight:0});for(E(wt.id,yt).forEach(function(se){Dt.insert(se)});!Dt.isEmpty();){var Vt=Dt.delMin(),Qt=Vt.source,ee=Vt.target;St.has(Qt)&&St.has(ee)||(j.push(Vt),St.has(Qt)||(St.add(Qt),E(Qt,yt).forEach(function(se){Dt.insert(se)})),St.has(ee)||(St.add(ee),E(ee,yt).forEach(function(se){Dt.insert(se)})))}return j},ct=function(Y,U){var j=[],q=Y.nodes,gt=q===void 0?[]:q,_=Y.edges,yt=_===void 0?[]:_;if(gt.length===0)return j;var wt=yt.map(function(ee){return ee});U&&wt.sort(function(ee,se){return ee.weight-se.weight});for(var St=new tt(gt.map(function(ee){return ee.id}));wt.length>0;){var Dt=wt.shift(),Vt=Dt.source,Qt=Dt.target;St.connected(Vt,Qt)||(j.push(Dt),St.union(Vt,Qt))}return j},mt="-1",Ot=function(Y,U,j,q){Y===void 0&&(Y=-1),U===void 0&&(U=-1),j===void 0&&(j=-1),q===void 0&&(q="-1"),this.id=Y,this.from=U,this.to=j,this.label=q},it=function(){function jt(Y,U){Y===void 0&&(Y=-1),U===void 0&&(U=mt),this.id=Y,this.label=U,this.edges=[],this.edgeMap={}}return jt.prototype.addEdge=function(Y){this.edges.push(Y),this.edgeMap[Y.id]=Y},jt}(),xt=function(){function jt(Y,U,j){Y===void 0&&(Y=-1),U===void 0&&(U=!0),j===void 0&&(j=!1),this.id=Y,this.edgeIdAutoIncrease=U,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=j}return jt.prototype.getNodeNum=function(){return this.nodes.length},jt.prototype.addNode=function(Y,U){if(!this.nodeMap[Y]){var j=new it(Y,U);this.nodes.push(j),this.nodeMap[Y]=j,this.nodeLabelMap[U]||(this.nodeLabelMap[U]=[]),this.nodeLabelMap[U].push(Y)}},jt.prototype.addEdge=function(Y,U,j,q){if((this.edgeIdAutoIncrease||Y===void 0)&&(Y=this.counter++),!(this.nodeMap[U]&&this.nodeMap[j]&&this.nodeMap[j].edgeMap[Y])){var gt=new Ot(Y,U,j,q);if(this.edges.push(gt),this.edgeMap[Y]=gt,this.nodeMap[U].addEdge(gt),this.edgeLabelMap[q]||(this.edgeLabelMap[q]=[]),this.edgeLabelMap[q].push(gt),!this.directed){var _=new Ot(Y,j,U,q);this.nodeMap[j].addEdge(_),this.edgeLabelMap[q].push(_)}}},jt}(),It=function(){function jt(Y,U,j,q,gt){this.fromNode=Y,this.toNode=U,this.nodeEdgeNodeLabel={nodeLabel1:j||mt,edgeLabel:q||"-1",nodeLabel2:gt||mt}}return jt.prototype.equalTo=function(Y){return this.fromNode===Y.formNode&&this.toNode===Y.toNode&&this.nodeEdgeNodeLabel===Y.nodeEdgeNodeLabel},jt.prototype.notEqualTo=function(Y){return!this.equalTo(Y)},jt}(),zt=function(){function jt(){this.rmpath=[],this.dfsEdgeList=[]}return jt.prototype.equalTo=function(Y){var U=this.dfsEdgeList.length;if(U!==Y.length)return!1;for(var j=0;j<U;j++)if(this.dfsEdgeList[j]!==Y[j])return!1;return!0},jt.prototype.notEqualTo=function(Y){return!this.equalTo(Y)},jt.prototype.pushBack=function(Y,U,j,q,gt){return this.dfsEdgeList.push(new It(Y,U,j,q,gt)),this.dfsEdgeList},jt.prototype.toGraph=function(Y,U){Y===void 0&&(Y=-1),U===void 0&&(U=!1);var j=new xt(Y,!0,U);return this.dfsEdgeList.forEach(function(q){var gt=q.fromNode,_=q.toNode,yt=q.nodeEdgeNodeLabel,wt=yt.nodeLabel1,St=yt.edgeLabel,Dt=yt.nodeLabel2;wt!==mt&&j.addNode(gt,wt),Dt!==mt&&j.addNode(_,Dt),j.addEdge(void 0,gt,_,St)}),j},jt.prototype.buildRmpath=function(){this.rmpath=[];for(var Y=void 0,U=this.dfsEdgeList.length-1;U>=0;U--){var j=this.dfsEdgeList[U],q=j.fromNode,gt=j.toNode;q<gt&&(Y===void 0||gt===Y)&&(this.rmpath.push(U),Y=q)}return this.rmpath},jt.prototype.getNodeNum=function(){var Y={};return this.dfsEdgeList.forEach(function(U){Y[U.fromNode]||(Y[U.fromNode]=!0),Y[U.toNode]||(Y[U.toNode]=!0)}),Object.keys(Y).length},jt}(),Kt=function(){function jt(Y){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],Y){for(;Y;){var U=Y.edge;this.edges.push(U),this.nodesUsed[U.from]=1,this.nodesUsed[U.to]=1,this.edgesUsed[U.id]=1,Y=Y.preNode}this.edges=this.edges.reverse()}}return jt.prototype.hasNode=function(Y){return this.nodesUsed[Y.id]===1},jt.prototype.hasEdge=function(Y){return this.edgesUsed[Y.id]===1},jt}(),Yt=function(){function jt(Y){var U=Y.graphs,j=Y.minSupport,q=j===void 0?2:j,gt=Y.minNodeNum,_=gt===void 0?1:gt,yt=Y.maxNodeNum,wt=yt===void 0?4:yt,St=Y.top,Dt=St===void 0?10:St,Vt=Y.directed,Qt=Vt!==void 0&&Vt,ee=Y.verbose,se=ee!==void 0&&ee;this.graphs=U,this.dfsCode=new zt,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=q,this.top=Dt,this.directed=Qt,this.counter=0,this.maxNodeNum=wt,this.minNodeNum=_,this.verbose=se,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return jt.prototype.findForwardRootEdges=function(Y,U){var j=this,q=[],gt=Y.nodeMap;return U.edges.forEach(function(_){(j.directed||U.label<=gt[_.to].label)&&q.push(_)}),q},jt.prototype.findBackwardEdge=function(Y,U,j,q){if(!this.directed&&U===j)return null;for(var gt=Y.nodeMap,_=gt[j.to].edges,yt=_.length,wt=0;wt<yt;wt++){var St=_[wt];if(!q.hasEdge(St)&&St.to===U.from){if(this.directed){if(gt[U.from].label<gt[j.to].label||gt[U.from].label===gt[j.to].label&&U.label<=St.label)return St}else if(U.label<St.label||U.label===St.label&&gt[U.to].label<=gt[j.to].label)return St}}return null},jt.prototype.findForwardPureEdges=function(Y,U,j,q){for(var gt=[],_=U.to,yt=Y.nodeMap[_].edges,wt=yt.length,St=0;St<wt;St++){var Dt=yt[St],Vt=Y.nodeMap[Dt.to];j<=Vt.label&&!q.hasNode(Vt)&&gt.push(Dt)}return gt},jt.prototype.findForwardRmpathEdges=function(Y,U,j,q){for(var gt=[],_=Y.nodeMap,yt=_[U.to].label,wt=_[U.from].edges,St=wt.length,Dt=0;Dt<St;Dt++){var Vt=wt[Dt],Qt=_[Vt.to].label;U.to===Vt.to||j>Qt||q.hasNode(_[Vt.to])||(U.label<Vt.label||U.label===Vt.label&&yt<=Qt)&&gt.push(Vt)}return gt},jt.prototype.getSupport=function(Y){var U={};return Y.forEach(function(j){U[j.graphId]||(U[j.graphId]=!0)}),Object.keys(U).length},jt.prototype.findMinLabel=function(Y){var U=void 0;return Object.keys(Y).forEach(function(j){var q=Y[j],gt=q.nodeLabel1,_=q.edgeLabel,yt=q.nodeLabel2;U?(gt<U.nodeLabel1||gt===U.nodeLabel1&&_<U.edgeLabel||gt===U.nodeLabel1&&_===U.edgeLabel&&yt<U.nodeLabel2)&&(U={nodeLabel1:gt,edgeLabel:_,nodeLabel2:yt}):U={nodeLabel1:gt,edgeLabel:_,nodeLabel2:yt}}),U},jt.prototype.isMin=function(){var Y=this,U=this.dfsCode;if(this.verbose&&console.log("isMin checking",U),U.dfsEdgeList.length===1)return!0;var j=this.directed,q=U.toGraph(-1,j),gt=q.nodeMap,_=new zt,yt={};q.nodes.forEach(function(Vt){Y.findForwardRootEdges(q,Vt).forEach(function(Qt){var ee=gt[Qt.to],se=Vt.label+"-"+Qt.label+"-"+ee.label;yt[se]||(yt[se]={projected:[],nodeLabel1:Vt.label,edgeLabel:Qt.label,nodeLabel2:ee.label});var ye={graphId:q.id,edge:Qt,preNode:null};yt[se].projected.push(ye)})});var wt=this.findMinLabel(yt);_.dfsEdgeList.push(new It(0,1,wt.nodeLabel1,wt.edgeLabel,wt.nodeLabel2));var St=function Vt(Qt){for(var ee=_.buildRmpath(),se=_.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,ye=_.dfsEdgeList[ee[0]].toNode,Ie={},Be=!1,Ze=0,we=j?-1:0,We=function(hn){if(Be)return"break";Qt.forEach(function(yn){var Dn=new Kt(yn),Nn=Y.findBackwardEdge(q,Dn.edges[ee[hn]],Dn.edges[ee[0]],Dn);Nn&&(Ie[Nn.label]||(Ie[Nn.label]={projected:[],edgeLabel:Nn.label}),Ie[Nn.label].projected.push({graphId:q.id,edge:Ie,preNode:yn}),Ze=_.dfsEdgeList[ee[hn]].fromNode,Be=!0)})},Ke=ee.length-1;Ke>we&&We(Ke)!=="break";Ke--);if(Be){var cr=Y.findMinLabel(Ie);_.dfsEdgeList.push(new It(ye,Ze,mt,cr.edgeLabel,mt));var or=_.dfsEdgeList.length-1;return Y.dfsCode.dfsEdgeList[or]===_.dfsEdgeList[or]&&Vt(Ie[cr.edgeLabel].projected)}var Ce={};Be=!1;var sr=0;Qt.forEach(function(Fr){var hn=new Kt(Fr),yn=Y.findForwardPureEdges(q,hn.edges[ee[0]],se,hn);yn.length>0&&(Be=!0,sr=ye,yn.forEach(function(Dn){var Nn=Dn.label+"-"+gt[Dn.to].label;Ce[Nn]||(Ce[Nn]={projected:[],edgeLabel:Dn.label,nodeLabel2:gt[Dn.to].label}),Ce[Nn].projected.push({graphId:q.id,edge:Dn,preNode:Fr})}))});var ke=ee.length,Xe=function(hn){if(Be)return"break";var yn=ee[hn];Qt.forEach(function(Dn){var Nn=new Kt(Dn),Ia=Y.findForwardRmpathEdges(q,Nn.edges[yn],se,Nn);Ia.length>0&&(Be=!0,sr=_.dfsEdgeList[yn].fromNode,Ia.forEach(function(ba){var Oa=ba.label+"-"+gt[ba.to].label;Ce[Oa]||(Ce[Oa]={projected:[],edgeLabel:ba.label,nodeLabel2:gt[ba.to].label}),Ce[Oa].projected.push({graphId:q.id,edge:ba,preNode:Dn})}))})};for(Ke=0;Ke<ke&&Xe(Ke)!=="break";Ke++);if(!Be)return!0;var dr=Y.findMinLabel(Ce);_.dfsEdgeList.push(new It(sr,ye+1,mt,dr.edgeLabel,dr.nodeLabel2));var Sr=_.dfsEdgeList.length-1;return U.dfsEdgeList[Sr]===_.dfsEdgeList[Sr]&&Vt(Ce[dr.edgeLabel+"-"+dr.nodeLabel2].projected)},Dt=wt.nodeLabel1+"-"+wt.edgeLabel+"-"+wt.nodeLabel2;return St(yt[Dt].projected)},jt.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var Y=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(V(Y))}},jt.prototype.subGraphMining=function(Y){var U=this;if(!(this.getSupport(Y)<this.minSupport)&&this.isMin()){this.report();var j=this.dfsCode.getNodeNum(),q=this.dfsCode.buildRmpath(),gt=this.dfsCode.dfsEdgeList[q[0]].toNode,_=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,yt={},wt={};Y.forEach(function(St){for(var Dt=U.graphs[St.graphId],Vt=Dt.nodeMap,Qt=new Kt(St),ee=q.length-1;ee>=0;ee--){var se=U.findBackwardEdge(Dt,Qt.edges[q[ee]],Qt.edges[q[0]],Qt);if(se){var ye=U.dfsCode.dfsEdgeList[q[ee]].fromNode+"-"+se.label;wt[ye]||(wt[ye]={projected:[],toNodeId:U.dfsCode.dfsEdgeList[q[ee]].fromNode,edgeLabel:se.label}),wt[ye].projected.push({graphId:St.graphId,edge:se,preNode:St})}}if(!(j>=U.maxNodeNum)){U.findForwardPureEdges(Dt,Qt.edges[q[0]],_,Qt).forEach(function(Be){var Ze=gt+"-"+Be.label+"-"+Vt[Be.to].label;yt[Ze]||(yt[Ze]={projected:[],fromNodeId:gt,edgeLabel:Be.label,nodeLabel2:Vt[Be.to].label}),yt[Ze].projected.push({graphId:St.graphId,edge:Be,preNode:St})});var Ie=function(Ze){U.findForwardRmpathEdges(Dt,Qt.edges[q[Ze]],_,Qt).forEach(function(we){var We=U.dfsCode.dfsEdgeList[q[Ze]].fromNode+"-"+we.label+"-"+Vt[we.to].label;yt[We]||(yt[We]={projected:[],fromNodeId:U.dfsCode.dfsEdgeList[q[Ze]].fromNode,edgeLabel:we.label,nodeLabel2:Vt[we.to].label}),yt[We].projected.push({graphId:St.graphId,edge:we,preNode:St})})};for(ee=0;ee<q.length;ee++)Ie(ee)}}),Object.keys(wt).forEach(function(St){var Dt=wt[St],Vt=Dt.toNodeId,Qt=Dt.edgeLabel;U.dfsCode.dfsEdgeList.push(new It(gt,Vt,"-1",Qt,"-1")),U.subGraphMining(wt[St].projected),U.dfsCode.dfsEdgeList.pop()}),Object.keys(yt).forEach(function(St){var Dt=yt[St],Vt=Dt.fromNodeId,Qt=Dt.edgeLabel,ee=Dt.nodeLabel2;U.dfsCode.dfsEdgeList.push(new It(Vt,gt+1,mt,Qt,ee)),U.subGraphMining(yt[St].projected),U.dfsCode.dfsEdgeList.pop()})}},jt.prototype.generate1EdgeFrequentSubGraphs=function(){var Y=this.graphs,U=this.directed,j=this.minSupport,q=this.frequentSize1Subgraphs,gt={},_={},yt={},wt={};return Object.keys(Y).forEach(function(St){var Dt=Y[St],Vt=Dt.nodeMap;Dt.nodes.forEach(function(Qt,ee){var se=Qt.label,ye=St+"-"+se;if(!yt[ye]){var Ie=gt[se]||0;Ie++,gt[se]=Ie}yt[ye]={graphKey:St,label:se},Qt.edges.forEach(function(Be){var Ze=se,we=Vt[Be.to].label;if(!U&&Ze>we){var We=we;we=Ze,Ze=We}var Ke=Be.label,cr=St+"-"+Ze+"-"+Ke+"-"+we,or=Ze+"-"+Ke+"-"+we;if(!_[or]){var Ce=_[or]||0;Ce++,_[or]=Ce}wt[cr]={graphId:St,nodeLabel1:Ze,edgeLabel:Ke,nodeLabel2:we}})})}),Object.keys(gt).forEach(function(St){if(!(gt[St]<j)){var Dt={nodes:[],edges:[]};Dt.nodes.push({id:"0",label:St}),q.push(Dt)}}),q},jt.prototype.run=function(){var Y=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var U=this.graphs,j=(this.directed,{});Object.keys(U).forEach(function(q){var gt=U[q],_=gt.nodeMap;gt.nodes.forEach(function(yt){Y.findForwardRootEdges(gt,yt).forEach(function(wt){var St=_[wt.to],Dt=yt.label+"-"+wt.label+"-"+St.label;j[Dt]||(j[Dt]={projected:[],nodeLabel1:yt.label,edgeLabel:wt.label,nodeLabel2:St.label});var Vt={graphId:q,edge:wt,preNode:null};j[Dt].projected.push(Vt)})})}),Object.keys(j).forEach(function(q){var gt=j[q],_=gt.projected,yt=gt.nodeLabel1,wt=gt.edgeLabel,St=gt.nodeLabel2;Y.dfsCode.dfsEdgeList.push(new It(0,1,yt,wt,St)),Y.subGraphMining(_),Y.dfsCode.dfsEdgeList.pop()})}},jt}(),bt="cluster",ft=function(Y,U,j,q){j===void 0&&(j="cluster"),q===void 0&&(q=2);var gt=[],_=Y.nodes;return U.forEach(function(yt,wt){gt.push(dt(_,yt,wt,j,q))}),gt},dt=function(Y,U,j,q,gt){var _=[j],yt=[],wt={};return U.forEach(function(St,Dt){if(St<=gt&&j!==Dt){_.push(Dt),yt.push(Y[Dt]);var Vt=Y[Dt][q];wt[Vt]?(wt[Vt].count++,wt[Vt].dists.push(St)):wt[Vt]={count:1,dists:[St]}}}),Object.keys(wt).forEach(function(St){wt[St].dists=wt[St].dists.sort(function(Dt,Vt){return Dt-Vt})}),{nodeIdx:j,nodeId:Y[j].id,nodeIdxs:_,neighbors:yt,neighborNum:_.length-1,nodeLabelCountMap:wt}},ot=function(Y,U,j,q){var gt=j.nodes;return q||(q={}),Object.keys(Y).forEach(function(_){var yt,wt;if(!q||!q[_]){q[_]={nodes:[],edges:[]};var St=Y[_],Dt=(yt=U[St.start])===null||yt===void 0?void 0:yt.nodeIdxs,Vt=(wt=U[St.end])===null||wt===void 0?void 0:wt.nodeIdxs;if(Dt&&Vt){var Qt=new Set(Vt),ee=Dt.filter(function(Ze){return Qt.has(Ze)});if(ee&&ee.length){for(var se={},ye=ee.length,Ie=0;Ie<ye;Ie++){var Be=gt[ee[Ie]];q[_].nodes.push(Be),se[Be.id]=!0}j.edges.forEach(function(Ze){se[Ze.source]&&se[Ze.target]&&q[_].edges.push(Ze)})}}}}),q},Mt=function(Y,U,j,q){var gt={};Y.nodes.forEach(function(yt){gt[yt.id]=yt});var _=0;return Y.edges.forEach(function(yt){var wt=gt[yt.source][j],St=gt[yt.target][j],Dt=U.nodes[0][j],Vt=U.nodes[1][j],Qt=U.edges[0][q];yt[q]===Qt&&(wt===Dt&&St===Vt||wt===Vt&&St===Dt)&&_++}),_},Nt=function(Y,U){var j={},q={};return Y.forEach(function(gt,_){j[gt.id]={idx:_,node:gt,degree:0};var yt=gt[U];q[yt]||(q[yt]=[]),q[yt].push(gt)}),{nodeMap:j,nodeLabelMap:q}},Pt=function(Y,U,j){var q={},gt={};return Y.forEach(function(_,yt){q[""+D]={idx:yt,edge:_};var wt=_[U];gt[wt]||(gt[wt]=[]),gt[wt].push(_);var St=j[_.source];St&&St.degree++;var Dt=j[_.target];Dt&&Dt.degree++}),{edgeMap:q,edgeLabelMap:gt}},J=function(Y,U,j){var q=U.length,gt={};return U.forEach(function(_,yt){for(var wt=j?0:yt+1,St=Y[yt].id,Dt=wt;Dt<q;Dt++)if(yt!==Dt){var Vt=Y[Dt].id,Qt=_[Dt];gt[St+"-"+Vt]=Qt,j||(gt[Vt+"-"+St]=Qt)}}),gt},X=function(){function jt(Y){Y===void 0&&(Y=10),this.linkedList=new M,this.maxStep=Y}return Object.defineProperty(jt.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),jt.prototype.isEmpty=function(){return!this.linkedList.head},jt.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},jt.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},jt.prototype.push=function(Y){this.linkedList.prepend(Y),this.length>this.maxStep&&this.linkedList.deleteTail()},jt.prototype.pop=function(){var Y=this.linkedList.deleteHead();return Y?Y.value:null},jt.prototype.toArray=function(){return this.linkedList.toArray().map(function(Y){return Y.value})},jt.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},jt}(),vt="SUCCESS",lt=O(458),Ct=O.n(lt);function Ft(){return Ct()(`(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{GADDI:()=>re,breadthFirstSearch:()=>f,connectedComponent:()=>h,depthFirstSearch:()=>b,detectCycle:()=>E,dijkstra:()=>k,findAllPath:()=>x,findShortestPath:()=>I,floydWarshall:()=>O,getAdjMatrix:()=>r,getDegree:()=>l,getInDegree:()=>p,getNeighbors:()=>d,getOutDegree:()=>v,labelPropagation:()=>S,louvain:()=>P,minimumSpanningTree:()=>R,pageRank:()=>U});const r=function(e,t){var r=e.nodes,n=e.edges,o=[],i={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){i[e.id]=t,o.push([])})),n&&n.forEach((function(e){var r=e.source,n=e.target,a=i[r],d=i[n];!a&&0!==a||!d&&0!==d||(o[a][d]=1,t||(o[d][a]=1))})),o};var n=function(e,t){return e===t},o=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):""+this.value},e}();const i=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new o(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new o(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(null!==r)for(;r.next;)this.compare(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare(this.tail.value,e)&&(this.tail=r),t},e.prototype.find=function(e){var t=e.value,r=void 0===t?void 0:t,n=e.callback,o=void 0===n?void 0:n;if(!this.head)return null;for(var i=this.head;i;){if(o&&o(i.value))return i;if(void 0!==r&&this.compare(i.value,r))return i;i=i.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),a=function(){function e(){this.linkedList=new i}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();var d=function(e,t,r){void 0===t&&(t=[]);var n=t.filter((function(t){return t.source===e||t.target===e}));return"target"===r?n.filter((function(t){return t.source===e})).map((function(e){return e.target})):"source"===r?n.filter((function(t){return t.target===e})).map((function(e){return e.source})):n.map((function(t){return t.source===e?t.target:t.source}))},s=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},u=function(e){return void 0===e&&(e=0),e+"-"+(""+Math.random()).split(".")[1].substr(0,5)+(""+Math.random()).split(".")[1].substr(0,5)};const f=function(e,t,r){var n=function(e){void 0===e&&(e={});var t,r=e,n=function(){},o=(t={},function(e){var r=e.next;return!t[r]&&(t[r]=!0,!0)});return r.allowTraversal=e.allowTraversal||o,r.enter=e.enter||n,r.leave=e.leave||n,r}(r),o=new a,i=e.edges,s=void 0===i?[]:i;o.enqueue(t);for(var u="",f=function(){var e=o.dequeue();n.enter({current:e,previous:u}),d(e,s,"target").forEach((function(t){n.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)})),n.leave({current:e,previous:u}),u=e};!o.isEmpty();)f()};function h(e,t){return t?function(e){for(var t=e.nodes,r=void 0===t?[]:t,n=e.edges,o=void 0===n?[]:n,i=[],a={},s={},u={},f=[],h=0,c=function(e){s[e.id]=h,u[e.id]=h,h+=1,i.push(e),a[e.id]=!0;for(var t=d(e.id,o,"target").filter((function(e){return r.map((function(e){return e.id})).indexOf(e)>-1})),n=function(n){var o=t[n];if(s[o]||0===s[o])a[o]&&(u[e.id]=Math.min(u[e.id],s[o]));else{var i=r.filter((function(e){return e.id===o}));i.length>0&&c(i[0]),u[e.id]=Math.min(u[e.id],u[o])}},l=0;l<t.length;l++)n(l);if(u[e.id]===s[e.id]){for(var p=[];i.length>0;){var v=i.pop();if(a[v.id]=!1,p.push(v),v===e)break}p.length>0&&f.push(p)}},l=0,p=r;l<p.length;l++){var v=p[l];s[v.id]||0===s[v.id]||c(v)}return f}(e):function(e){for(var t=e.nodes,r=void 0===t?[]:t,n=e.edges,o=void 0===n?[]:n,i=[],a={},s=[],u=function(e){s.push(e),a[e.id]=!0;for(var t=d(e.id,o),n=function(e){var n=t[e];if(!a[n]){var o=r.filter((function(e){return e.id===n}));o.length>0&&u(o[0])}},i=0;i<t.length;++i)n(i)},f=0;f<r.length;f++){var h=r[f];if(!a[h.id]){u(h);for(var c=[];s.length>0;)c.push(s.pop());i.push(c)}}return i}(e)}var c=function(e){var t={},r=e.nodes,n=void 0===r?[]:r,o=e.edges,i=void 0===o?[]:o;return n.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),i.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t};const l=c;var p=function(e,t){return c(e)[t]?c(e)[t].inDegree:0},v=function(e,t){return c(e)[t]?c(e)[t].outDegree:0};function g(e,t,r,n){n.enter({current:t,previous:r});var o=e.edges;d(t,void 0===o?[]:o,"target").forEach((function(o){n.allowTraversal({previous:r,current:t,next:o})&&g(e,o,t,n)})),n.leave({current:t,previous:r})}function b(e,t,r){g(e,t,"",function(e){void 0===e&&(e={});var t,r=e,n=function(){},o=(t={},function(e){var r=e.next;return!t[r]&&(t[r]=!0,!0)});return r.allowTraversal=e.allowTraversal||o,r.enter=e.enter||n,r.leave=e.leave||n,r}(r))}const E=function(e){var t=null,r=e.nodes,n={},o={},i={},a={};(void 0===r?[]:r).forEach((function(e){o[e.id]=e}));for(var d={enter:function(e){var r=e.current,a=e.previous;if(i[r]){t={};for(var d=r,s=a;s!==r;)t[d]=s,d=s,s=n[s];t[d]=s}else i[r]=r,delete o[r],n[r]=a},leave:function(e){var t=e.current;a[t]=t,delete i[t]},allowTraversal:function(e){var r=e.next;return!t&&!a[r]}};Object.keys(o).length;)b(e,Object.keys(o)[0],d);return t};function m(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}Object.create,Object.create;var y={}.toString;const L=function(e,t){return y.call(e)==="[object "+t+"]"},N=function(e){return Array.isArray?Array.isArray(e):L(e,"Array")};Object.keys;var M=Array.prototype;M.splice,M.indexOf,Array.prototype.splice,Object.prototype.hasOwnProperty;Number.isInteger&&Number.isInteger,Math.PI,parseInt,Math.PI,Object.values,Object.prototype;const j=function e(t){if("object"!=typeof t||null===t)return t;var r;if(N(t)){r=[];for(var n=0,o=t.length;n<o;n++)"object"==typeof t[n]&&null!=t[n]?r[n]=e(t[n]):r[n]=t[n]}else for(var i in r={},t)"object"==typeof t[i]&&null!=t[i]?r[i]=e(t[i]):r[i]=t[i];return r};Object.prototype.hasOwnProperty,Object.prototype.hasOwnProperty,function(){function e(){this.map={}}e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var r=this.map[e];return void 0===r?t:r},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length}}();const k=function(e,t,r,n){var o=e.nodes,i=void 0===o?[]:o,a=e.edges,d=void 0===a?[]:a,u=[],f={},h={},c={};i.forEach((function(e,r){var n=e.id;u.push(n),h[n]=1/0,n===t&&(h[n]=0)}));for(var l=i.length,p=function(e){var t=function(e,t,r){for(var n,o=1/0,i=0;i<t.length;i++){var a=t[i].id;!r[a]&&e[a]<=o&&(o=e[a],n=t[i])}return n}(h,i,f),o=t.id;if(f[o]=!0,h[o]===1/0)return"continue";(r?function(e,t){return t.filter((function(t){return t.source===e}))}(o,d):s(o,d)).forEach((function(e){var r=e.target,i=e.source,a=r===o?i:r,d=n&&e[n]?e[n]:1;h[a]>h[t.id]+d?(h[a]=h[t.id]+d,c[a]=[t.id]):h[a]===h[t.id]+d&&c[a].push(t.id)}))},v=0;v<l;v++)p();c[t]=[t];var g={};for(var b in h)h[b]!==1/0&&w(t,b,c,g);var E={};for(var b in g)E[b]=g[b][0];return{length:h,path:E,allPath:g}};function w(e,t,r,n){if(e===t)return[e];if(n[t])return n[t];for(var o=[],i=0,a=r[t];i<a.length;i++){var d=w(e,a[i],r,n);if(!d)return;for(var s=0,u=d;s<u.length;s++){var f=u[s];N(f)?o.push(m(m([],f),[t])):o.push([f,t])}}return n[t]=o,n[t]}var I=function(e,t,r,n,o){var i=k(e,t,n,o),a=i.length,d=i.path,s=i.allPath;return{length:a[r],path:d[r],allPath:s[r]}},x=function(e,t,r,n){var o;if(t===r)return[[t]];var i=e.edges,a=void 0===i?[]:i,s=[t],u=((o={})[t]=!0,o),f=[],h=[],c=n?d(t,a,"target"):d(t,a);for(f.push(c);s.length>0&&f.length>0;){var l=f[f.length-1];if(l.length){var p=l.shift();if(p&&(s.push(p),u[p]=!0,c=n?d(p,a,"target"):d(p,a),f.push(c.filter((function(e){return!u[e]})))),s[s.length-1]===r){var v=s.map((function(e){return e}));h.push(v),g=s.pop(),u[g]=!1,f.pop()}}else{var g=s.pop();u[g]=!1,f.pop()}}return h};const O=function(e,t){for(var n=r(e,t),o=[],i=n.length,a=0;a<i;a+=1){o[a]=[];for(var d=0;d<i;d+=1)a===d?o[a][d]=0:0!==n[a][d]&&n[a][d]?o[a][d]=n[a][d]:o[a][d]=1/0}for(var s=0;s<i;s+=1)for(a=0;a<i;a+=1)for(d=0;d<i;d+=1)o[a][d]>o[a][s]+o[s][d]&&(o[a][d]=o[a][s]+o[s][d]);return o},S=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e3);var i=e.nodes,a=void 0===i?[]:i,d=e.edges,s=void 0===d?[]:d,f={},h={};a.forEach((function(e,t){var r=u();e.clusterId=r,f[r]={id:r,nodes:[e]},h[e.id]={node:e,idx:t}}));var c=r(e,t),l=[],p={};c.forEach((function(e,t){var r=0,n=a[t].id;p[n]={},e.forEach((function(e,t){if(e){r+=e;var o=a[t].id;p[n][o]=e}})),l.push(r)}));for(var v=0,g=function(){var e=!1;if(a.forEach((function(t){var r={};Object.keys(p[t.id]).forEach((function(e){var n=p[t.id][e],o=h[e].node.clusterId;r[o]||(r[o]=0),r[o]+=n}));var n=-1/0,o=[];if(Object.keys(r).forEach((function(e){n<r[e]?(n=r[e],o=[e]):n===r[e]&&o.push(e)})),1!==o.length||o[0]!==t.clusterId){var i=o.indexOf(t.clusterId);if(i>=0&&o.splice(i,1),o&&o.length){e=!0;var a=f[t.clusterId],d=a.nodes.indexOf(t);a.nodes.splice(d,1);var s=Math.floor(Math.random()*o.length),u=f[o[s]];u.nodes.push(t),t.clusterId=u.id}}})),!e)return"break";v++};v<o&&"break"!==g(););Object.keys(f).forEach((function(e){var t=f[e];t.nodes&&t.nodes.length||delete f[e]}));var b=[],E={};s.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=h[t].node.clusterId,a=h[r].node.clusterId,d=i+"---"+a;if(E[d])E[d].weight+=o,E[d].count++;else{var s={source:i,target:a,weight:o,count:1};E[d]=s,b.push(s)}}));var m=[];return Object.keys(f).forEach((function(e){m.push(f[e])})),{clusters:m,clusterEdges:b}};var C=function(e,t,r,n){for(var o=t.length,i=2*n,a=0,d=0;d<o;d++)for(var s=e[d].clusterId,u=0;u<o;u++)s===e[u].clusterId&&(a+=(t[d][u]||0)-(r[d]||0)*(r[u]||0)/i);return a*(1/i)};const P=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4);var i=e.nodes,a=void 0===i?[]:i,d=e.edges,s=void 0===d?[]:d,u=1,f={},h={};a.forEach((function(e,t){var r=String(u++);e.clusterId=r,f[r]={id:r,nodes:[e]},h[e.id]={node:e,idx:t}}));var c=r(e,t),l=[],p={},v=0;c.forEach((function(e,t){var r=0,n=a[t].id;p[n]={},e.forEach((function(e,t){if(e){r+=e;var o=a[t].id;p[n][o]=e,v+=e}})),l.push(r)})),v/=2;for(var g=1/0,b=1/0,E=0;g=C(a,c,l,v),!(Math.abs(g-b)<o||E>100);)b=g,E++,Object.keys(f).forEach((function(e){var t=0;s.forEach((function(r){var o=r.source,i=r.target,a=h[o].node.clusterId,d=h[i].node.clusterId;(a===e&&d!==e||d===e&&a!==e)&&(t+=r[n]||1)})),f[e].sumTot=t})),a.forEach((function(e,t){var r,o=f[e.clusterId],i=0,a=l[t]/(2*v),d=0;o.nodes.forEach((function(e){var r=h[e.id].idx;d+=c[t][r]||0}));var u=d-o.sumTot*a,g=p[e.id];if(Object.keys(g).forEach((function(n){var o=h[n].node.clusterId;if(o!==e.clusterId){var d=f[o],s=d.nodes;if(s&&s.length){var l=0;s.forEach((function(e){var r=h[e.id].idx;l+=c[t][r]||0}));var p=l-d.sumTot*a-u;p>i&&(i=p,r=d)}}})),i>0){r.nodes.push(e);var b=e.clusterId;e.clusterId=r.id;var E=o.nodes.indexOf(e);o.nodes.splice(E,1);var m=0,y=0;s.forEach((function(e){var t=e.source,o=e.target,i=h[t].node.clusterId,a=h[o].node.clusterId;(i===r.id&&a!==r.id||a===r.id&&i!==r.id)&&(m+=e[n]||1),(i===b&&a!==b||a===b&&i!==b)&&(y+=e[n]||1)})),r.sumTot=m,o.sumTot=y}}));var m={},y=0;Object.keys(f).forEach((function(e){var t=f[e];if(t.nodes&&t.nodes.length){var r=String(y+1);r!==e&&(t.id=r,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:r}})),f[r]=t,m[e]=r,delete f[e],y++)}else delete f[e]})),a.forEach((function(e){e.clusterId&&m[e.clusterId]&&(e.clusterId=m[e.clusterId])}));var L=[],N={};s.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=h[t].node.clusterId,a=h[r].node.clusterId,d=i+"---"+a;if(N[d])N[d].weight+=o,N[d].count++;else{var s={source:i,target:a,weight:o,count:1};N[d]=s,L.push(s)}}));var M=[];return Object.keys(f).forEach((function(e){M.push(f[e])})),{clusters:M,clusterEdges:L}},T=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();var q=function(e,t){return e-t};const F=function(){function e(e){void 0===e&&(e=q),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),o=this.getRight(e),i=this.list.length;null!==n&&n<i&&this.compareFn(this.list[r],this.list[n])>0?r=n:null!==o&&o<i&&this.compareFn(this.list[r],this.list[o])>0&&(r=o),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},e}();var D=function(e,t){var r=[],n=e.nodes,o=void 0===n?[]:n,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return r;var d=o[0],u=new Set;u.add(d);var f=new F((function(e,r){return t?e.weight-r.weight:0}));for(s(d.id,a).forEach((function(e){f.insert(e)}));!f.isEmpty();){var h=f.delMin(),c=h.source,l=h.target;u.has(c)&&u.has(l)||(r.push(h),u.has(c)||(u.add(c),s(c,a).forEach((function(e){f.insert(e)}))),u.has(l)||(u.add(l),s(l,a).forEach((function(e){f.insert(e)}))))}return r},A=function(e,t){var r=[],n=e.nodes,o=void 0===n?[]:n,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return r;var d=a.map((function(e){return e}));t&&d.sort((function(e,t){return e.weight-t.weight}));for(var s=new T(o.map((function(e){return e.id})));d.length>0;){var u=d.shift(),f=u.source,h=u.target;s.connected(f,h)||(r.push(u),s.union(f,h))}return r};const R=function(e,t,r){return r?{prim:D,kruskal:A}[r](e,t):A(e,t)},U=function(e,t,r){"number"!=typeof t&&(t=1e-6),"number"!=typeof r&&(r=.85);for(var n,o=1,i=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,f=e.edges,h=void 0===f?[]:f,c=u.length,p={},v={},g=0;g<c;++g)p[E=(M=u[g]).id]=1/c,v[E]=1/c;for(var b=l(e);a>0&&o>t;){for(i=0,g=0;g<c;++g){var E=(M=u[g]).id;if(n=0,0===b[M.id].inDegree)p[E]=0;else{for(var m=d(E,h,"source"),y=0;y<m.length;++y){var L=m[y],N=b[L].outDegree;N>0&&(n+=v[L]/N)}p[E]=r*n,i+=p[E]}}for(i=(1-i)/c,o=0,g=0;g<c;++g){var M;n=p[E=(M=u[g]).id]+i,o+=Math.abs(n-v[E]),v[E]=n}a-=1}return v};var G="-1",_=function(e,t,r,n){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===r&&(r=-1),void 0===n&&(n="-1"),this.id=e,this.from=t,this.to=r,this.label=n},z=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=G),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),B=function(){function e(e,t,r){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===r&&(r=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=r}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var r=new z(e,t);this.nodes.push(r),this.nodeMap[e]=r,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,n){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new _(e,t,r,n);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(o),!this.directed){var i=new _(e,r,t,n);this.nodeMap[r].addEdge(i),this.edgeLabelMap[n].push(i)}}},e}(),H=function(){function e(e,t,r,n,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:r||G,edgeLabel:n||"-1",nodeLabel2:o||G}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),K=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(this.dfsEdgeList[r]!==e[r])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,r,n,o){return this.dfsEdgeList.push(new H(e,t,r,n,o)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var r=new B(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,n=e.toNode,o=e.nodeEdgeNodeLabel,i=o.nodeLabel1,a=o.edgeLabel,d=o.nodeLabel2;i!==G&&r.addNode(t,i),d!==G&&r.addNode(n,d),r.addEdge(void 0,t,n,a)})),r},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var r=this.dfsEdgeList[t],n=r.fromNode,o=r.toNode;n<o&&(void 0===e||o===e)&&(this.rmpath.push(t),e=n)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),W=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),J=function(){function e(e){var t=e.graphs,r=e.minSupport,n=void 0===r?2:r,o=e.minNodeNum,i=void 0===o?1:o,a=e.maxNodeNum,d=void 0===a?4:a,s=e.top,u=void 0===s?10:s,f=e.directed,h=void 0!==f&&f,c=e.verbose,l=void 0!==c&&c;this.graphs=t,this.dfsCode=new K,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=u,this.directed=h,this.counter=0,this.maxNodeNum=d,this.minNodeNum=i,this.verbose=l,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var r=this,n=[],o=e.nodeMap;return t.edges.forEach((function(e){(r.directed||t.label<=o[e.to].label)&&n.push(e)})),n},e.prototype.findBackwardEdge=function(e,t,r,n){if(!this.directed&&t===r)return null;for(var o=e.nodeMap,i=o[r.to].edges,a=i.length,d=0;d<a;d++){var s=i[d];if(!n.hasEdge(s)&&s.to===t.from)if(this.directed){if(o[t.from].label<o[r.to].label||o[t.from].label===o[r.to].label&&t.label<=s.label)return s}else if(t.label<s.label||t.label===s.label&&o[t.to].label<=o[r.to].label)return s}return null},e.prototype.findForwardPureEdges=function(e,t,r,n){for(var o=[],i=t.to,a=e.nodeMap[i].edges,d=a.length,s=0;s<d;s++){var u=a[s],f=e.nodeMap[u.to];r<=f.label&&!n.hasNode(f)&&o.push(u)}return o},e.prototype.findForwardRmpathEdges=function(e,t,r,n){for(var o=[],i=e.nodeMap,a=i[t.to].label,d=i[t.from].edges,s=d.length,u=0;u<s;u++){var f=d[u],h=i[f.to].label;t.to===f.to||r>h||n.hasNode(i[f.to])||(t.label<f.label||t.label===f.label&&a<=h)&&o.push(f)}return o},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(r){var n=e[r],o=n.nodeLabel1,i=n.edgeLabel,a=n.nodeLabel2;t?(o<t.nodeLabel1||o===t.nodeLabel1&&i<t.edgeLabel||o===t.nodeLabel1&&i===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}):t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var r=this.directed,n=t.toGraph(-1,r),o=n.nodeMap,i=new K,a={};n.nodes.forEach((function(t){e.findForwardRootEdges(n,t).forEach((function(e){var r=o[e.to],i=t.label+"-"+e.label+"-"+r.label;a[i]||(a[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:r.label});var d={graphId:n.id,edge:e,preNode:null};a[i].projected.push(d)}))}));var d=this.findMinLabel(a);i.dfsEdgeList.push(new H(0,1,d.nodeLabel1,d.edgeLabel,d.nodeLabel2));var s=function(a){for(var d=i.buildRmpath(),u=i.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f=i.dfsEdgeList[d[0]].toNode,h={},c=!1,l=0,p=r?-1:0,v=function(t){if(c)return"break";a.forEach((function(r){var o=new W(r),a=e.findBackwardEdge(n,o.edges[d[t]],o.edges[d[0]],o);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:n.id,edge:h,preNode:r}),l=i.dfsEdgeList[d[t]].fromNode,c=!0)}))},g=d.length-1;g>p&&"break"!==v(g);g--);if(c){var b=e.findMinLabel(h);i.dfsEdgeList.push(new H(f,l,G,b.edgeLabel,G));var E=i.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[E]===i.dfsEdgeList[E]&&s(h[b.edgeLabel].projected)}var m={};c=!1;var y=0;a.forEach((function(t){var r=new W(t),i=e.findForwardPureEdges(n,r.edges[d[0]],u,r);i.length>0&&(c=!0,y=f,i.forEach((function(e){var r=e.label+"-"+o[e.to].label;m[r]||(m[r]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),m[r].projected.push({graphId:n.id,edge:e,preNode:t})})))}));var L=d.length,N=function(t){if(c)return"break";var r=d[t];a.forEach((function(t){var a=new W(t),d=e.findForwardRmpathEdges(n,a.edges[r],u,a);d.length>0&&(c=!0,y=i.dfsEdgeList[r].fromNode,d.forEach((function(e){var r=e.label+"-"+o[e.to].label;m[r]||(m[r]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),m[r].projected.push({graphId:n.id,edge:e,preNode:t})})))}))};for(g=0;g<L&&"break"!==N(g);g++);if(!c)return!0;var M=e.findMinLabel(m);i.dfsEdgeList.push(new H(y,f+1,G,M.edgeLabel,M.nodeLabel2));var j=i.dfsEdgeList.length-1;return t.dfsEdgeList[j]===i.dfsEdgeList[j]&&s(m[M.edgeLabel+"-"+M.nodeLabel2].projected)},u=d.nodeLabel1+"-"+d.edgeLabel+"-"+d.nodeLabel2;return s(a[u].projected)},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(j(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var r=this.dfsCode.getNodeNum(),n=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[n[0]].toNode,i=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},d={};e.forEach((function(e){for(var s=t.graphs[e.graphId],u=s.nodeMap,f=new W(e),h=n.length-1;h>=0;h--){var c=t.findBackwardEdge(s,f.edges[n[h]],f.edges[n[0]],f);if(c){var l=t.dfsCode.dfsEdgeList[n[h]].fromNode+"-"+c.label;d[l]||(d[l]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[n[h]].fromNode,edgeLabel:c.label}),d[l].projected.push({graphId:e.graphId,edge:c,preNode:e})}}if(!(r>=t.maxNodeNum)){t.findForwardPureEdges(s,f.edges[n[0]],i,f).forEach((function(t){var r=o+"-"+t.label+"-"+u[t.to].label;a[r]||(a[r]={projected:[],fromNodeId:o,edgeLabel:t.label,nodeLabel2:u[t.to].label}),a[r].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(r){t.findForwardRmpathEdges(s,f.edges[n[r]],i,f).forEach((function(o){var i=t.dfsCode.dfsEdgeList[n[r]].fromNode+"-"+o.label+"-"+u[o.to].label;a[i]||(a[i]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[n[r]].fromNode,edgeLabel:o.label,nodeLabel2:u[o.to].label}),a[i].projected.push({graphId:e.graphId,edge:o,preNode:e})}))};for(h=0;h<n.length;h++)p(h)}})),Object.keys(d).forEach((function(e){var r=d[e],n=r.toNodeId,i=r.edgeLabel;t.dfsCode.dfsEdgeList.push(new H(o,n,"-1",i,"-1")),t.subGraphMining(d[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var r=a[e],n=r.fromNodeId,i=r.edgeLabel,d=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new H(n,o+1,G,i,d)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,r=this.minSupport,n=this.frequentSize1Subgraphs,o={},i={},a={},d={};return Object.keys(e).forEach((function(r){var n=e[r],s=n.nodeMap;n.nodes.forEach((function(e,n){var u=e.label,f=r+"-"+u;if(!a[f]){var h=o[u]||0;h++,o[u]=h}a[f]={graphKey:r,label:u},e.edges.forEach((function(e){var n=u,o=s[e.to].label;if(!t&&n>o){var a=o;o=n,n=a}var f=e.label,h=r+"-"+n+"-"+f+"-"+o,c=n+"-"+f+"-"+o;if(!i[c]){var l=i[c]||0;l++,i[c]=l}d[h]={graphId:r,nodeLabel1:n,edgeLabel:f,nodeLabel2:o}}))}))})),Object.keys(o).forEach((function(e){if(!(o[e]<r)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),n.push(t)}})),n},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,r=(this.directed,{});Object.keys(t).forEach((function(n){var o=t[n],i=o.nodeMap;o.nodes.forEach((function(t){e.findForwardRootEdges(o,t).forEach((function(e){var o=i[e.to],a=t.label+"-"+e.label+"-"+o.label;r[a]||(r[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:o.label});var d={graphId:n,edge:e,preNode:null};r[a].projected.push(d)}))}))})),Object.keys(r).forEach((function(t){var n=r[t],o=n.projected,i=n.nodeLabel1,a=n.edgeLabel,d=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new H(0,1,i,a,d)),e.subGraphMining(o),e.dfsCode.dfsEdgeList.pop()}))}},e}(),Q="cluster";var V=function(e,t,r,n){void 0===r&&(r="cluster"),void 0===n&&(n=2);var o=[],i=e.nodes;return t.forEach((function(e,t){o.push(X(i,e,t,r,n))})),o},X=function(e,t,r,n,o){var i=[r],a=[],d={};return t.forEach((function(t,s){if(t<=o&&r!==s){i.push(s),a.push(e[s]);var u=e[s][n];d[u]?(d[u].count++,d[u].dists.push(t)):d[u]={count:1,dists:[t]}}})),Object.keys(d).forEach((function(e){d[e].dists=d[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:r,nodeId:e[r].id,nodeIdxs:i,neighbors:a,neighborNum:i.length-1,nodeLabelCountMap:d}},Y=function(e,t,r,n){var o=r.nodes;return n||(n={}),Object.keys(e).forEach((function(i){var a,d;if(!n||!n[i]){n[i]={nodes:[],edges:[]};var s=e[i],u=null===(a=t[s.start])||void 0===a?void 0:a.nodeIdxs,f=null===(d=t[s.end])||void 0===d?void 0:d.nodeIdxs;if(u&&f){var h=new Set(f),c=u.filter((function(e){return h.has(e)}));if(c&&c.length){for(var l={},p=c.length,v=0;v<p;v++){var g=o[c[v]];n[i].nodes.push(g),l[g.id]=!0}r.edges.forEach((function(e){l[e.source]&&l[e.target]&&n[i].edges.push(e)}))}}}})),n},Z=function(e,t,r,n){var o={};e.nodes.forEach((function(e){o[e.id]=e}));var i=0;return e.edges.forEach((function(e){var a=o[e.source][r],d=o[e.target][r],s=t.nodes[0][r],u=t.nodes[1][r],f=t.edges[0][n];e[n]===f&&(a===s&&d===u||a===u&&d===s)&&i++})),i},$=function(e,t){var r={},n={};return e.forEach((function(e,o){r[e.id]={idx:o,node:e,degree:0};var i=e[t];n[i]||(n[i]=[]),n[i].push(e)})),{nodeMap:r,nodeLabelMap:n}},ee=function(e,t,r){var n={},o={};return e.forEach((function(e,i){n[""+u]={idx:i,edge:e};var a=e[t];o[a]||(o[a]=[]),o[a].push(e);var d=r[e.source];d&&d.degree++;var s=r[e.target];s&&s.degree++})),{edgeMap:n,edgeLabelMap:o}},te=function(e,t,r){var n=t.length,o={};return t.forEach((function(t,i){for(var a=r?0:i+1,d=e[i].id,s=a;s<n;s++)if(i!==s){var u=e[s].id,f=t[s];o[d+"-"+u]=f,r||(o[u+"-"+d]=f)}})),o};const re=function(e,t,r,n,o,i,a){if(void 0===r&&(r=!1),void 0===i&&(i="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var d=e.nodes.length;if(d){var s=O(e,r),u=O(t,r),f=te(e.nodes,s,r),h=te(t.nodes,u,r),c=$(e.nodes,i),l=c.nodeMap,p=c.nodeLabelMap,v=$(t.nodes,i),g=v.nodeMap,b=v.nodeLabelMap;ee(e.edges,a,l);var E=ee(t.edges,a,g).edgeLabelMap;o||(o=Math.max.apply(Math,m(m([],u[0]),[2]))),n||(n=o);var y=V(e,s,i,n),L=V(t,u,i,n),N=function(e,t,r,n,o){var i=Math.ceil(r/t),a={},d=0;return n.forEach((function(e,n){for(var s=0,u=0,f=e.nodeIdxs,h=e.neighborNum-1;s<i;){for(var c=f[1+Math.floor(Math.random()*h)],l=0;(a[n+"-"+c]||a[c+"-"+n])&&(c=Math.floor(Math.random()*t),!(++l>2*t)););if(l<2*t&&(a[n+"-"+c]={start:n,end:c,distance:o[n][c]},s++,++d>=r))return a;if(++u>2*t)break}s<i&&(i=(i+(i-s))/(t-n-1))})),a}(0,d,Math.min(100,d*(d-1)/2),L,s),M=Y(N,y,e),j=function(e){var t=e.graphs,r=e.directed,n=void 0!==r&&r,o=e.nodeLabelProp,i=void 0===o?Q:o,a=e.edgeLabelProp,d=void 0===a?Q:a,s=function(e,t,r,n){var o={};return Object.keys(e).forEach((function(i,a){var d=e[i],s=new B(a,!0,t),u={};d.nodes.forEach((function(e,t){s.addNode(t,e[r]),u[e.id]=t})),d.edges.forEach((function(e,t){var r=u[e.source],o=u[e.target];s.addEdge(-1,r,o,e[n])})),s&&s.getNodeNum()&&(o[s.id]=s)})),o}(t,n,i,d),u=e.minSupport,f=e.maxNodeNum,h=e.minNodeNum,c=e.verbose,l=e.top,p=new J({graphs:s,minSupport:u,maxNodeNum:f,minNodeNum:h,top:l,verbose:c,directed:n});return p.run(),function(e,t,r){var n=[];return e.forEach((function(e){var o={nodes:[],edges:[]};e.nodes.forEach((function(e){var r;o.nodes.push(((r={id:""+e.id})[t]=e.label,r))})),e.edges.forEach((function(e){var t;o.edges.push(((t={source:""+e.from,target:""+e.to})[r]=e.label,t))})),n.push(o)})),n}(p.frequentSubgraphs,i,d)}({graphs:M,nodeLabelProp:i,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:r}).slice(0,10),w=j.length,I=[];j.forEach((function(e,t){I[t]={},Object.keys(M).forEach((function(r){var n=M[r],o=Z(n,e,i,a);I[t][r]=o}))}));var x=function(e,t,r){for(var n=1/0,o=0,i=function(t){var r=e[t],i=Object.keys(r).sort((function(e,t){return r[e]-r[t]})),a=[];i.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=r[e]}));var d=0,s=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,s.push(t);var n=0,o=e.length;e.graphs.forEach((function(t,o){var i=r[t];e.graphs.forEach((function(e,t){o!==t&&(n+=Math.abs(i-r[e]))}))})),d+=n/=o*(o-1)/2})),d/=a.length;var u=0;s.forEach((function(e,t){s.forEach((function(r,n){t!==n&&(u+=Math.abs(e-r))})),u/=s.length*(s.length-1)/2}));var f=u-d;n<f&&(n=f,o=t)},a=0;a<t;a++)i(a);return{structure:r[o],structureCountMap:e[o]}}(I,w,j),S=x.structure,C=x.structureCountMap,P=t.nodes[0],T=P[i],q=p[T],F={},D={},A={},R={},U={};Object.keys(b).forEach((function(r,n){U[r]=[];var o=-1/0,d=b[r],s={};d.forEach((function(e){var t=h[P.id+"-"+e.id];t&&U[r].push(t),o<t&&(o=t),s[P.id+"-"+e.id]={start:0,end:g[e.id].idx,distance:t}})),U[r]=U[r].sort((function(e,t){return e-t})),D=Y(s,L,t,D);var u=[];if(Object.keys(s).forEach((function(e){if(A[e])u.push(A[e]);else{var t=D[e];A[e]=Z(t,S,i,a),u.push(A[e])}})),u=u.sort((function(e,t){return t-e})),R[P.id+"-"+r]=u,r!==T)for(var c=function(t){var n=q[t],o=y[l[n.id].idx],d=o.nodeLabelCountMap[r],s=b[r].length;if(!d||d.count<s)return q.splice(t,1),"continue";for(var h=!1,c=0;c<s;c++)if(d.dists[c]>U[r][c]){h=!0;break}if(h)return q.splice(t,1),"continue";var p={};o.neighbors.forEach((function(e){var t=f[n.id+"-"+e.id];p[n.id+"-"+e.id]={start:l[n.id].idx,end:l[e.id].idx,distance:t}})),M=Y(p,y,e,M);var v=[];Object.keys(p).forEach((function(e){if(C[e])v.push(C[e]);else{var t=M[e];C[e]=Z(t,S,i,a),v.push(C[e])}})),v=v.sort((function(e,t){return t-e}));var g=!1;for(c=0;c<s;c++)if(v[c]<u[c]){g=!0;break}return g?(q.splice(t,1),"continue"):void 0},p=q.length-1;p>=0;p--)c(p)}));var G=[];q.forEach((function(r){for(var n=l[r.id].idx,d=X(e.nodes,s[n],n,i,o).neighbors,u=d.length,h=!1,c=function(n){if(d.length+1<t.nodes.length)return h=!0,{value:void 0};var o=d[n],s=o[i];if(!b[s]||!b[s].length)return d.splice(n,1),"continue";var u=r.id+"-"+o.id;if(!U[s]||!U[s].length)return d.splice(n,1),"continue";var c=f[u];if(c>U[s][U[s].length-1])return d.splice(n,1),"continue";var p=C[u]?C[u]:function(e,t,r,n,o,i,a,d,s,u,f){var h,c=t.id+"-"+r.id;if(u&&u[c])return u[c];var l=f?f[c]:void 0;if(!l){var p=((h={})[c]={start:n[t.id].idx,end:n[r.id].idx,distance:o},h);l=(f=Y(p,i,e,f))[c]}return Z(l,a,d,s)}(e,r,o,l,c,y,S,i,a,C,M),v=P.id+"-"+s;if(p<R[v][R[v].length-1])return d.splice(n,1),"continue";var E=F[s];return void 0===E&&(E=1/0,b[s].forEach((function(e){var t=g[e.id].degree;E>t&&(E=t)})),F[s]=E),l[o.id].degree<E?(d.splice(n,1),"continue"):void 0},p=u-1;p>=0;p--){var v=c(p);if("object"==typeof v)return v.value}h||G.push({nodes:[r].concat(d)})}));var _=k(t,P.id,!1).length,z={};r?(Object.keys(_).forEach((function(e){var t=g[e].node[i];z[t]?z[t].push(_[e]):z[t]=[_[e]]})),Object.keys(z).forEach((function(e){z[e].sort((function(e,t){return e-t}))}))):z=U;for(var H=function(n){var o=G[n],d=o.nodes[0],s={},u={};o.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0};var r=e[i];s[r]?s[r]++:s[r]=1}));var f=[],h={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(f.push(e),h[e[a]]?h[e[a]]++:h[e[a]]=1,u[e.source].degree++,u[e.target].degree++)}));for(var c=Object.keys(E).length,p=!1,v=0;v<c;v++){var m=Object.keys(E)[v];if(!h[m]||h[m]<E[m].length){p=!0;break}}if(p)return G.splice(n,1),"continue";var y=f.length;if(y<t.edges.length)return G.splice(n,1),"break";var L=!1,N=function(e){var t=f[e],n=t[a],o=E[n];if(!o||!o.length)return h[n]--,o&&h[n]<o.length?(L=!0,"break"):(f.splice(e,1),u[t.source].degree--,u[t.target].degree--,"continue");var d=u[t.source].node[i],s=u[t.target].node[i],c=!1;return o.forEach((function(e){var t=g[e.source].node,n=g[e.target].node;t[i]===d&&n[i]===s&&(c=!0),r||t[i]!==s||n[i]!==d||(c=!0)})),c?void 0:(h[n]--,o&&h[n]<o.length?(L=!0,"break"):(f.splice(e,1),u[t.source].degree--,u[t.target].degree--,"continue"))};for(v=y-1;v>=0&&"break"!==N(v);v--);if(L)return G.splice(n,1),"continue";o.edges=f;var M=k(o,o.nodes[0].id,!1).length;if(Object.keys(M).reverse().forEach((function(e){if(e!==o.nodes[0].id&&!L){if(M[e]===1/0){var t=u[e].node[i];if(s[t]--,s[t]<b[t].length)return void(L=!0);var r=o.nodes.indexOf(u[e].node);return o.nodes.splice(r,1),void(u[e]=void 0)}var n=l[e].node[i];if(!z[n]||!z[n].length||M[e]>z[n][z[n].length-1]){if(t=u[e].node[i],s[t]--,s[t]<b[t].length)return void(L=!0);r=o.nodes.indexOf(u[e].node),o.nodes.splice(r,1),u[e]=void 0}}})),L)return G.splice(n,1),"continue";for(var j=!0,w=0;j&&!L;){if(j=!1,u[d.id].degree<g[P.id].degree){L=!0;break}if(s[d[i]]<b[d[i]].length){L=!0;break}for(var I=o.nodes.length-1;I>=0;I--){var x=o.nodes[I],O=u[x.id].degree,S=x[i];if(O<F[S]){if(s[x[i]]--,s[x[i]]<b[x[i]].length){L=!0;break}o.nodes.splice(I,1),u[x.id]=void 0,j=!0}}if(L||!j&&0!==w)break;for(var C=(y=f.length)-1;C>=0;C--){var T=f[C];if(!u[T.source]||!u[T.target]){f.splice(C,1);var q=T[a];if(h[q]--,u[T.source]&&u[T.source].degree--,u[T.target]&&u[T.target].degree--,E[q]&&h[q]<E[q].length){L=!0;break}j=!0}}w++}return L||L||o.nodes.length<t.nodes.length||f.length<t.edges.length?(G.splice(n,1),"continue"):void 0},K=G.length-1;K>=0&&"break"!==H(K);K--);var W=G.length,re=function(e){var t=G[e],r={};t.edges.forEach((function(e){var t=e.source+"-"+e.target+"-"+e.label;r[t]?r[t]++:r[t]=1}));for(var n=function(e){var t=G[e],n={};t.edges.forEach((function(e){var t=e.source+"-"+e.target+"-"+e.label;n[t]?n[t]++:n[t]=1}));var o=!0;Object.keys(n).length!==Object.keys(r).length?o=!1:Object.keys(r).forEach((function(e){n[e]!==r[e]&&(o=!1)})),o&&G.splice(e,1)},o=W-1;o>e;o--)n(o);W=G.length};for(K=0;K<=W-1;K++)re(K);return G}}};var ne=self;ne.onmessage=function(e){var r=e.data,n=r._algorithmType,o=r.data;if(n)if("function"!=typeof t[n])ne.postMessage({_algorithmType:"FAILURE"});else{var i=t[n].apply(t,o);ne.postMessage({_algorithmType:"SUCCESS",data:i})}}})();
//# sourceMappingURL=index.worker.js.map`,"Worker",void 0,O.p+"index.worker.js")}var Wt=function(Y){return function(){for(var U=[],j=0;j<arguments.length;j++)U[j]=arguments[j];return new Promise(function(q,gt){var _=new Ft;_.postMessage({_algorithmType:Y,data:U}),_.onmessage=function(yt){var wt=yt.data,St=wt.data,Dt=wt._algorithmType;vt===Dt?q(St):gt(),_.terminate()}})}},kt={getAdjMatrix:C,breadthFirstSearch:function(Y,U,j){var q=function(Dt){Dt===void 0&&(Dt={});var Vt,Qt=Dt,ee=function(){},se=(Vt={},function(ye){var Ie=ye.next;return!Vt[Ie]&&(Vt[Ie]=!0,!0)});return Qt.allowTraversal=Dt.allowTraversal||se,Qt.enter=Dt.enter||ee,Qt.leave=Dt.leave||ee,Qt}(j),gt=new b,_=Y.edges,yt=_===void 0?[]:_;gt.enqueue(U);for(var wt="",St=function(){var Vt=gt.dequeue();q.enter({current:Vt,previous:wt}),g(Vt,yt,"target").forEach(function(Qt){q.allowTraversal({previous:wt,current:Vt,next:Qt})&&gt.enqueue(Qt)}),q.leave({current:Vt,previous:wt}),wt=Vt};!gt.isEmpty();)St()},connectedComponent:function(Y,U){return U?function(j){for(var q=j.nodes,gt=q===void 0?[]:q,_=j.edges,yt=_===void 0?[]:_,wt=[],St={},Dt={},Vt={},Qt=[],ee=0,se=function Ze(we){Dt[we.id]=ee,Vt[we.id]=ee,ee+=1,wt.push(we),St[we.id]=!0;for(var We=g(we.id,yt,"target").filter(function(sr){return gt.map(function(ke){return ke.id}).indexOf(sr)>-1}),Ke=function(ke){var Xe=We[ke];if(Dt[Xe]||Dt[Xe]===0)St[Xe]&&(Vt[we.id]=Math.min(Vt[we.id],Dt[Xe]));else{var dr=gt.filter(function(Sr){return Sr.id===Xe});dr.length>0&&Ze(dr[0]),Vt[we.id]=Math.min(Vt[we.id],Vt[Xe])}},cr=0;cr<We.length;cr++)Ke(cr);if(Vt[we.id]===Dt[we.id]){for(var or=[];wt.length>0;){var Ce=wt.pop();if(St[Ce.id]=!1,or.push(Ce),Ce===we)break}or.length>0&&Qt.push(or)}},ye=0,Ie=gt;ye<Ie.length;ye++){var Be=Ie[ye];Dt[Be.id]||Dt[Be.id]===0||se(Be)}return Qt}(Y):function(j){for(var q=j.nodes,gt=q===void 0?[]:q,_=j.edges,yt=_===void 0?[]:_,wt=[],St={},Dt=[],Vt=function ye(Ie){Dt.push(Ie),St[Ie.id]=!0;for(var Be=g(Ie.id,yt),Ze=function(Ke){var cr=Be[Ke];if(!St[cr]){var or=gt.filter(function(Ce){return Ce.id===cr});or.length>0&&ye(or[0])}},we=0;we<Be.length;++we)Ze(we)},Qt=0;Qt<gt.length;Qt++){var ee=gt[Qt];if(!St[ee.id]){Vt(ee);for(var se=[];Dt.length>0;)se.push(Dt.pop());wt.push(se)}}return wt}(Y)},getDegree:N,getInDegree:function(Y,U){return p(Y)[U]?p(Y)[U].inDegree:0},getOutDegree:function(Y,U){return p(Y)[U]?p(Y)[U].outDegree:0},detectCycle:function(Y){var U=null,j=Y.nodes,q={},gt={},_={},yt={};(j===void 0?[]:j).forEach(function(St){gt[St.id]=St});for(var wt={enter:function(Dt){var Vt=Dt.current,Qt=Dt.previous;if(_[Vt]){U={};for(var ee=Vt,se=Qt;se!==Vt;)U[ee]=se,ee=se,se=q[se];U[ee]=se}else _[Vt]=Vt,delete gt[Vt],q[Vt]=Qt},leave:function(Dt){var Vt=Dt.current;yt[Vt]=Vt,delete _[Vt]},allowTraversal:function(Dt){var Vt=Dt.next;return!U&&!yt[Vt]}};Object.keys(gt).length;)G(Y,Object.keys(gt)[0],wt);return U},depthFirstSearch:G,dijkstra:$,findAllPath:function(Y,U,j,q){var gt;if(U===j)return[[U]];var _=Y.edges,yt=_===void 0?[]:_,wt=[U],St=((gt={})[U]=!0,gt),Dt=[],Vt=[],Qt=q?g(U,yt,"target"):g(U,yt);for(Dt.push(Qt);wt.length>0&&Dt.length>0;){var ee=Dt[Dt.length-1];if(ee.length){var se=ee.shift();if(se&&(wt.push(se),St[se]=!0,Qt=q?g(se,yt,"target"):g(se,yt),Dt.push(Qt.filter(function(Be){return!St[Be]}))),wt[wt.length-1]===j){var ye=wt.map(function(Be){return Be});Vt.push(ye),Ie=wt.pop(),St[Ie]=!1,Dt.pop()}}else{var Ie=wt.pop();St[Ie]=!1,Dt.pop()}}return Vt},findShortestPath:function(Y,U,j,q,gt){var _=$(Y,U,q,gt),yt=_.length,wt=_.path,St=_.allPath;return{length:yt[j],path:wt[j],allPath:St[j]}},floydWarshall:at,labelPropagation:function(Y,U,j,q){U===void 0&&(U=!1),j===void 0&&(j="weight"),q===void 0&&(q=1e3);var gt=Y.nodes,_=gt===void 0?[]:gt,yt=Y.edges,wt=yt===void 0?[]:yt,St={},Dt={};_.forEach(function(we,We){var Ke=D();we.clusterId=Ke,St[Ke]={id:Ke,nodes:[we]},Dt[we.id]={node:we,idx:We}});var Vt=C(Y,U),Qt=[],ee={};Vt.forEach(function(we,We){var Ke=0,cr=_[We].id;ee[cr]={},we.forEach(function(or,Ce){if(or){Ke+=or;var sr=_[Ce].id;ee[cr][sr]=or}}),Qt.push(Ke)});for(var se=0,ye=function(){var We=!1;if(_.forEach(function(Ke){var cr={};Object.keys(ee[Ke.id]).forEach(function(Fr){var hn=ee[Ke.id][Fr],yn=Dt[Fr].node.clusterId;cr[yn]||(cr[yn]=0),cr[yn]+=hn});var or=-1/0,Ce=[];if(Object.keys(cr).forEach(function(Fr){or<cr[Fr]?(or=cr[Fr],Ce=[Fr]):or===cr[Fr]&&Ce.push(Fr)}),Ce.length!==1||Ce[0]!==Ke.clusterId){var sr=Ce.indexOf(Ke.clusterId);if(sr>=0&&Ce.splice(sr,1),Ce&&Ce.length){We=!0;var ke=St[Ke.clusterId],Xe=ke.nodes.indexOf(Ke);ke.nodes.splice(Xe,1);var dr=Math.floor(Math.random()*Ce.length),Sr=St[Ce[dr]];Sr.nodes.push(Ke),Ke.clusterId=Sr.id}}}),!We)return"break";se++};se<q&&ye()!=="break";);Object.keys(St).forEach(function(we){var We=St[we];We.nodes&&We.nodes.length||delete St[we]});var Ie=[],Be={};wt.forEach(function(we){var We=we.source,Ke=we.target,cr=we[j]||1,or=Dt[We].node.clusterId,Ce=Dt[Ke].node.clusterId,sr=or+"---"+Ce;if(Be[sr])Be[sr].weight+=cr,Be[sr].count++;else{var ke={source:or,target:Ce,weight:cr,count:1};Be[sr]=ke,Ie.push(ke)}});var Ze=[];return Object.keys(St).forEach(function(we){Ze.push(St[we])}),{clusters:Ze,clusterEdges:Ie}},louvain:function(Y,U,j,q){U===void 0&&(U=!1),j===void 0&&(j="weight"),q===void 0&&(q=1e-4);var gt=Y.nodes,_=gt===void 0?[]:gt,yt=Y.edges,wt=yt===void 0?[]:yt,St=1,Dt={},Vt={};_.forEach(function(Ce,sr){var ke=String(St++);Ce.clusterId=ke,Dt[ke]={id:ke,nodes:[Ce]},Vt[Ce.id]={node:Ce,idx:sr}});var Qt=C(Y,U),ee=[],se={},ye=0;Qt.forEach(function(Ce,sr){var ke=0,Xe=_[sr].id;se[Xe]={},Ce.forEach(function(dr,Sr){if(dr){ke+=dr;var Fr=_[Sr].id;se[Xe][Fr]=dr,ye+=dr}}),ee.push(ke)}),ye/=2;for(var Ie=1/0,Be=1/0,Ze=0;Ie=st(_,Qt,ee,ye),!(Math.abs(Ie-Be)<q||Ze>100);)Be=Ie,Ze++,Object.keys(Dt).forEach(function(Ce){var sr=0;wt.forEach(function(ke){var Xe=ke.source,dr=ke.target,Sr=Vt[Xe].node.clusterId,Fr=Vt[dr].node.clusterId;(Sr===Ce&&Fr!==Ce||Fr===Ce&&Sr!==Ce)&&(sr+=ke[j]||1)}),Dt[Ce].sumTot=sr}),_.forEach(function(Ce,sr){var ke,Xe=Dt[Ce.clusterId],dr=0,Sr=ee[sr]/(2*ye),Fr=0;Xe.nodes.forEach(function(Oa){var Wn=Vt[Oa.id].idx;Fr+=Qt[sr][Wn]||0});var hn=Fr-Xe.sumTot*Sr,yn=se[Ce.id];if(Object.keys(yn).forEach(function(Oa){var Wn=Vt[Oa].node.clusterId;if(Wn!==Ce.clusterId){var ai=Dt[Wn],Va=ai.nodes;if(Va&&Va.length){var ci=0;Va.forEach(function(Ui){var Bi=Vt[Ui.id].idx;ci+=Qt[sr][Bi]||0});var Ti=ci-ai.sumTot*Sr-hn;Ti>dr&&(dr=Ti,ke=ai)}}}),dr>0){ke.nodes.push(Ce);var Dn=Ce.clusterId;Ce.clusterId=ke.id;var Nn=Xe.nodes.indexOf(Ce);Xe.nodes.splice(Nn,1);var Ia=0,ba=0;wt.forEach(function(Oa){var Wn=Oa.source,ai=Oa.target,Va=Vt[Wn].node.clusterId,ci=Vt[ai].node.clusterId;(Va===ke.id&&ci!==ke.id||ci===ke.id&&Va!==ke.id)&&(Ia+=Oa[j]||1),(Va===Dn&&ci!==Dn||ci===Dn&&Va!==Dn)&&(ba+=Oa[j]||1)}),ke.sumTot=Ia,Xe.sumTot=ba}});var we={},We=0;Object.keys(Dt).forEach(function(Ce){var sr=Dt[Ce];if(sr.nodes&&sr.nodes.length){var ke=String(We+1);ke!==Ce&&(sr.id=ke,sr.nodes=sr.nodes.map(function(Xe){return{id:Xe.id,clusterId:ke}}),Dt[ke]=sr,we[Ce]=ke,delete Dt[Ce],We++)}else delete Dt[Ce]}),_.forEach(function(Ce){Ce.clusterId&&we[Ce.clusterId]&&(Ce.clusterId=we[Ce.clusterId])});var Ke=[],cr={};wt.forEach(function(Ce){var sr=Ce.source,ke=Ce.target,Xe=Ce[j]||1,dr=Vt[sr].node.clusterId,Sr=Vt[ke].node.clusterId,Fr=dr+"---"+Sr;if(cr[Fr])cr[Fr].weight+=Xe,cr[Fr].count++;else{var hn={source:dr,target:Sr,weight:Xe,count:1};cr[Fr]=hn,Ke.push(hn)}});var or=[];return Object.keys(Dt).forEach(function(Ce){or.push(Dt[Ce])}),{clusters:or,clusterEdges:Ke}},minimumSpanningTree:function(Y,U,j){return j?{prim:et,kruskal:ct}[j](Y,U):ct(Y,U)},pageRank:function(Y,U,j){typeof U!="number"&&(U=1e-6),typeof j!="number"&&(j=.85);for(var q,gt=1,_=0,yt=1e3,wt=Y.nodes,St=wt===void 0?[]:wt,Dt=Y.edges,Vt=Dt===void 0?[]:Dt,Qt=St.length,ee={},se={},ye=0;ye<Qt;++ye)ee[Be=(cr=St[ye]).id]=1/Qt,se[Be]=1/Qt;for(var Ie=N(Y);yt>0&&gt>U;){for(_=0,ye=0;ye<Qt;++ye){var Be=(cr=St[ye]).id;if(q=0,Ie[cr.id].inDegree===0)ee[Be]=0;else{for(var Ze=g(Be,Vt,"source"),we=0;we<Ze.length;++we){var We=Ze[we],Ke=Ie[We].outDegree;Ke>0&&(q+=se[We]/Ke)}ee[Be]=j*q,_+=ee[Be]}}for(_=(1-_)/Qt,gt=0,ye=0;ye<Qt;++ye){var cr;q=ee[Be=(cr=St[ye]).id]+_,gt+=Math.abs(q-se[Be]),se[Be]=q}yt-=1}return se},getNeighbors:g,Stack:X,GADDI:function(Y,U,j,q,gt,_,yt){if(j===void 0&&(j=!1),_===void 0&&(_="cluster"),yt===void 0&&(yt="cluster"),Y&&Y.nodes){var wt=Y.nodes.length;if(wt){var St=at(Y,j),Dt=at(U,j),Vt=J(Y.nodes,St,j),Qt=J(U.nodes,Dt,j),ee=Nt(Y.nodes,_),se=ee.nodeMap,ye=ee.nodeLabelMap,Ie=Nt(U.nodes,_),Be=Ie.nodeMap,Ze=Ie.nodeLabelMap;Pt(Y.edges,yt,se);var we=Pt(U.edges,yt,Be).edgeLabelMap;gt||(gt=Math.max.apply(Math,W(W([],Dt[0]),[2]))),q||(q=gt);var We=ft(Y,St,_,q),Ke=ft(U,Dt,_,q),cr=function(ia,ja,Zn,wa,La){var Hn=Math.ceil(Zn/ja),Sa={},Ba=0;return wa.forEach(function(Pa,$n){for(var Ya=0,Da=0,ii=Pa.nodeIdxs,Qn=Pa.neighborNum-1;Ya<Hn;){for(var Oi=ii[1+Math.floor(Math.random()*Qn)],Ka=0;(Sa[$n+"-"+Oi]||Sa[Oi+"-"+$n])&&(Oi=Math.floor(Math.random()*ja),!(++Ka>2*ja)););if(Ka<2*ja&&(Sa[$n+"-"+Oi]={start:$n,end:Oi,distance:La[$n][Oi]},Ya++,++Ba>=Zn))return Sa;if(++Da>2*ja)break}Ya<Hn&&(Hn=(Hn+(Hn-Ya))/(ja-$n-1))}),Sa}(0,wt,Math.min(100,wt*(wt-1)/2),Ke,St),or=ot(cr,We,Y),Ce=function(ia){var ja=ia.graphs,Zn=ia.directed,wa=Zn!==void 0&&Zn,La=ia.nodeLabelProp,Hn=La===void 0?bt:La,Sa=ia.edgeLabelProp,Ba=Sa===void 0?bt:Sa,Pa=function(Ka,Na,$a,ni){var Cn={};return Object.keys(Ka).forEach(function(Ni,hi){var fe=Ka[Ni],oe=new xt(hi,!0,Na),he={};fe.nodes.forEach(function(Ne,He){oe.addNode(He,Ne[$a]),he[Ne.id]=He}),fe.edges.forEach(function(Ne,He){var ar=he[Ne.source],Er=he[Ne.target];oe.addEdge(-1,ar,Er,Ne[ni])}),oe&&oe.getNodeNum()&&(Cn[oe.id]=oe)}),Cn}(ja,wa,Hn,Ba),$n=ia.minSupport,Ya=ia.maxNodeNum,Da=ia.minNodeNum,ii=ia.verbose,Qn=ia.top,Oi=new Yt({graphs:Pa,minSupport:$n,maxNodeNum:Ya,minNodeNum:Da,top:Qn,verbose:ii,directed:wa});return Oi.run(),function(Ka,Na,$a){var ni=[];return Ka.forEach(function(Cn){var Ni={nodes:[],edges:[]};Cn.nodes.forEach(function(hi){var fe;Ni.nodes.push(((fe={id:""+hi.id})[Na]=hi.label,fe))}),Cn.edges.forEach(function(hi){var fe;Ni.edges.push(((fe={source:""+hi.from,target:""+hi.to})[$a]=hi.label,fe))}),ni.push(Ni)}),ni}(Oi.frequentSubgraphs,Hn,Ba)}({graphs:or,nodeLabelProp:_,edgeLabelProp:yt,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:j}).slice(0,10),sr=Ce.length,ke=[];Ce.forEach(function(ia,ja){ke[ja]={},Object.keys(or).forEach(function(Zn){var wa=or[Zn],La=Mt(wa,ia,_,yt);ke[ja][Zn]=La})});var Xe=function(ia,ja,Zn){for(var wa=1/0,La=0,Hn=function(Pa){var $n=ia[Pa],Ya=Object.keys($n).sort(function(Na,$a){return $n[Na]-$n[$a]}),Da=[];Ya.forEach(function(Na,$a){Da[$a%10]||(Da[$a%10]={graphs:[],totalCount:0,aveCount:0}),Da[$a%10].graphs.push(Na),Da[$a%10].totalCount+=$n[Na]});var ii=0,Qn=[];Da.forEach(function(Na){var $a=Na.totalCount/Na.graphs.length;Na.aveCount=$a,Qn.push($a);var ni=0,Cn=Na.length;Na.graphs.forEach(function(Ni,hi){var fe=$n[Ni];Na.graphs.forEach(function(oe,he){hi!==he&&(ni+=Math.abs(fe-$n[oe]))})}),ii+=ni/=Cn*(Cn-1)/2}),ii/=Da.length;var Oi=0;Qn.forEach(function(Na,$a){Qn.forEach(function(ni,Cn){$a!==Cn&&(Oi+=Math.abs(Na-ni))}),Oi/=Qn.length*(Qn.length-1)/2});var Ka=Oi-ii;wa<Ka&&(wa=Ka,La=Pa)},Sa=0;Sa<ja;Sa++)Hn(Sa);return{structure:Zn[La],structureCountMap:ia[La]}}(ke,sr,Ce),dr=Xe.structure,Sr=Xe.structureCountMap,Fr=U.nodes[0],hn=Fr[_],yn=ye[hn],Dn={},Nn={},Ia={},ba={},Oa={};Object.keys(Ze).forEach(function(ia,ja){Oa[ia]=[];var Zn=-1/0,wa=Ze[ia],La={};wa.forEach(function(Pa){var $n=Qt[Fr.id+"-"+Pa.id];$n&&Oa[ia].push($n),Zn<$n&&(Zn=$n),La[Fr.id+"-"+Pa.id]={start:0,end:Be[Pa.id].idx,distance:$n}}),Oa[ia]=Oa[ia].sort(function(Pa,$n){return Pa-$n}),Nn=ot(La,Ke,U,Nn);var Hn=[];if(Object.keys(La).forEach(function(Pa){if(Ia[Pa])Hn.push(Ia[Pa]);else{var $n=Nn[Pa];Ia[Pa]=Mt($n,dr,_,yt),Hn.push(Ia[Pa])}}),Hn=Hn.sort(function(Pa,$n){return $n-Pa}),ba[Fr.id+"-"+ia]=Hn,ia!==hn)for(var Sa=function($n){var Ya=yn[$n],Da=We[se[Ya.id].idx],ii=Da.nodeLabelCountMap[ia],Qn=Ze[ia].length;if(!ii||ii.count<Qn)return yn.splice($n,1),"continue";for(var Oi=!1,Ka=0;Ka<Qn;Ka++)if(ii.dists[Ka]>Oa[ia][Ka]){Oi=!0;break}if(Oi)return yn.splice($n,1),"continue";var Na={};Da.neighbors.forEach(function(Cn){var Ni=Vt[Ya.id+"-"+Cn.id];Na[Ya.id+"-"+Cn.id]={start:se[Ya.id].idx,end:se[Cn.id].idx,distance:Ni}}),or=ot(Na,We,Y,or);var $a=[];Object.keys(Na).forEach(function(Cn){if(Sr[Cn])$a.push(Sr[Cn]);else{var Ni=or[Cn];Sr[Cn]=Mt(Ni,dr,_,yt),$a.push(Sr[Cn])}}),$a=$a.sort(function(Cn,Ni){return Ni-Cn});var ni=!1;for(Ka=0;Ka<Qn;Ka++)if($a[Ka]<Hn[Ka]){ni=!0;break}return ni?(yn.splice($n,1),"continue"):void 0},Ba=yn.length-1;Ba>=0;Ba--)Sa(Ba)});var Wn=[];yn.forEach(function(ia){for(var ja=se[ia.id].idx,Zn=dt(Y.nodes,St[ja],ja,_,gt).neighbors,wa=Zn.length,La=!1,Hn=function($n){if(Zn.length+1<U.nodes.length)return La=!0,{value:void 0};var Ya=Zn[$n],Da=Ya[_];if(!Ze[Da]||!Ze[Da].length)return Zn.splice($n,1),"continue";var ii=ia.id+"-"+Ya.id;if(!Oa[Da]||!Oa[Da].length)return Zn.splice($n,1),"continue";var Qn=Vt[ii];if(Qn>Oa[Da][Oa[Da].length-1])return Zn.splice($n,1),"continue";var Oi=Sr[ii]?Sr[ii]:function($a,ni,Cn,Ni,hi,fe,oe,he,Ne,He,ar){var Er,Br=ni.id+"-"+Cn.id;if(He&&He[Br])return He[Br];var Ln=ar?ar[Br]:void 0;if(!Ln){var Bn=((Er={})[Br]={start:Ni[ni.id].idx,end:Ni[Cn.id].idx,distance:hi},Er);Ln=(ar=ot(Bn,fe,$a,ar))[Br]}return Mt(Ln,oe,he,Ne)}(Y,ia,Ya,se,Qn,We,dr,_,yt,Sr,or),Ka=Fr.id+"-"+Da;if(Oi<ba[Ka][ba[Ka].length-1])return Zn.splice($n,1),"continue";var Na=Dn[Da];return Na===void 0&&(Na=1/0,Ze[Da].forEach(function($a){var ni=Be[$a.id].degree;Na>ni&&(Na=ni)}),Dn[Da]=Na),se[Ya.id].degree<Na?(Zn.splice($n,1),"continue"):void 0},Sa=wa-1;Sa>=0;Sa--){var Ba=Hn(Sa);if(typeof Ba=="object")return Ba.value}La||Wn.push({nodes:[ia].concat(Zn)})});var ai=$(U,Fr.id,!1).length,Va={};j?(Object.keys(ai).forEach(function(ia){var ja=Be[ia].node[_];Va[ja]?Va[ja].push(ai[ia]):Va[ja]=[ai[ia]]}),Object.keys(Va).forEach(function(ia){Va[ia].sort(function(ja,Zn){return ja-Zn})})):Va=Oa;for(var ci=function(ja){var Zn=Wn[ja],wa=Zn.nodes[0],La={},Hn={};Zn.nodes.forEach(function(Ne,He){Hn[Ne.id]={idx:He,node:Ne,degree:0};var ar=Ne[_];La[ar]?La[ar]++:La[ar]=1});var Sa=[],Ba={};Y.edges.forEach(function(Ne){Hn[Ne.source]&&Hn[Ne.target]&&(Sa.push(Ne),Ba[Ne[yt]]?Ba[Ne[yt]]++:Ba[Ne[yt]]=1,Hn[Ne.source].degree++,Hn[Ne.target].degree++)});for(var Pa=Object.keys(we).length,$n=!1,Ya=0;Ya<Pa;Ya++){var Da=Object.keys(we)[Ya];if(!Ba[Da]||Ba[Da]<we[Da].length){$n=!0;break}}if($n)return Wn.splice(ja,1),"continue";var ii=Sa.length;if(ii<U.edges.length)return Wn.splice(ja,1),"break";var Qn=!1,Oi=function(He){var ar=Sa[He],Er=ar[yt],Br=we[Er];if(!Br||!Br.length)return Ba[Er]--,Br&&Ba[Er]<Br.length?(Qn=!0,"break"):(Sa.splice(He,1),Hn[ar.source].degree--,Hn[ar.target].degree--,"continue");var Ln=Hn[ar.source].node[_],Bn=Hn[ar.target].node[_],Sn=!1;return Br.forEach(function(Wa){var la=Be[Wa.source].node,yi=Be[Wa.target].node;la[_]===Ln&&yi[_]===Bn&&(Sn=!0),j||la[_]!==Bn||yi[_]!==Ln||(Sn=!0)}),Sn?void 0:(Ba[Er]--,Br&&Ba[Er]<Br.length?(Qn=!0,"break"):(Sa.splice(He,1),Hn[ar.source].degree--,Hn[ar.target].degree--,"continue"))};for(Ya=ii-1;Ya>=0&&Oi(Ya)!=="break";Ya--);if(Qn)return Wn.splice(ja,1),"continue";Zn.edges=Sa;var Ka=$(Zn,Zn.nodes[0].id,!1).length;if(Object.keys(Ka).reverse().forEach(function(Ne){if(Ne!==Zn.nodes[0].id&&!Qn){if(Ka[Ne]===1/0){var He=Hn[Ne].node[_];if(La[He]--,La[He]<Ze[He].length)return void(Qn=!0);var ar=Zn.nodes.indexOf(Hn[Ne].node);return Zn.nodes.splice(ar,1),void(Hn[Ne]=void 0)}var Er=se[Ne].node[_];if(!Va[Er]||!Va[Er].length||Ka[Ne]>Va[Er][Va[Er].length-1]){if(He=Hn[Ne].node[_],La[He]--,La[He]<Ze[He].length)return void(Qn=!0);ar=Zn.nodes.indexOf(Hn[Ne].node),Zn.nodes.splice(ar,1),Hn[Ne]=void 0}}}),Qn)return Wn.splice(ja,1),"continue";for(var Na=!0,$a=0;Na&&!Qn;){if(Na=!1,Hn[wa.id].degree<Be[Fr.id].degree){Qn=!0;break}if(La[wa[_]]<Ze[wa[_]].length){Qn=!0;break}for(var ni=Zn.nodes.length-1;ni>=0;ni--){var Cn=Zn.nodes[ni],Ni=Hn[Cn.id].degree,hi=Cn[_];if(Ni<Dn[hi]){if(La[Cn[_]]--,La[Cn[_]]<Ze[Cn[_]].length){Qn=!0;break}Zn.nodes.splice(ni,1),Hn[Cn.id]=void 0,Na=!0}}if(Qn||!Na&&$a!==0)break;for(var fe=(ii=Sa.length)-1;fe>=0;fe--){var oe=Sa[fe];if(!Hn[oe.source]||!Hn[oe.target]){Sa.splice(fe,1);var he=oe[yt];if(Ba[he]--,Hn[oe.source]&&Hn[oe.source].degree--,Hn[oe.target]&&Hn[oe.target].degree--,we[he]&&Ba[he]<we[he].length){Qn=!0;break}Na=!0}}$a++}return Qn||Qn||Zn.nodes.length<U.nodes.length||Sa.length<U.edges.length?(Wn.splice(ja,1),"continue"):void 0},Ti=Wn.length-1;Ti>=0&&ci(Ti)!=="break";Ti--);var Ui=Wn.length,Bi=function(ja){var Zn=Wn[ja],wa={};Zn.edges.forEach(function(Sa){var Ba=Sa.source+"-"+Sa.target+"-"+Sa.label;wa[Ba]?wa[Ba]++:wa[Ba]=1});for(var La=function(Ba){var Pa=Wn[Ba],$n={};Pa.edges.forEach(function(Da){var ii=Da.source+"-"+Da.target+"-"+Da.label;$n[ii]?$n[ii]++:$n[ii]=1});var Ya=!0;Object.keys($n).length!==Object.keys(wa).length?Ya=!1:Object.keys(wa).forEach(function(Da){$n[Da]!==wa[Da]&&(Ya=!1)}),Ya&&Wn.splice(Ba,1)},Hn=Ui-1;Hn>ja;Hn--)La(Hn);Ui=Wn.length};for(Ti=0;Ti<=Ui-1;Ti++)Bi(Ti);return Wn}}},getAdjMatrixAsync:function(Y,U){return Wt("getAdjMatrix").apply(void 0,[Y,U])},connectedComponentAsync:function(Y,U){return Wt("connectedComponent").apply(void 0,[Y,U])},getDegreeAsync:function(Y){return Wt("getDegree")(Y)},getInDegreeAsync:function(Y,U){return Wt("getInDegree")(Y,U)},getOutDegreeAsync:function(Y,U){return Wt("getOutDegree")(Y,U)},detectCycleAsync:function(Y){return Wt("detectCycle")(Y)},dijkstraAsync:function(Y,U,j,q){return Wt("dijkstra").apply(void 0,[Y,U,j,q])},findAllPathAsync:function(Y,U,j,q){return Wt("findAllPath").apply(void 0,[Y,U,j,q])},findShortestPathAsync:function(Y,U,j,q,gt){return Wt("findShortestPath").apply(void 0,[Y,U,j,q,gt])},floydWarshallAsync:function(Y,U){return Wt("floydWarshall").apply(void 0,[Y,U])},labelPropagationAsync:function(Y,U,j,q){return q===void 0&&(q=1e3),Wt("labelPropagation")(Y,U,j,q)},louvainAsync:function(Y,U,j,q){return Wt("louvain")(Y,U,j,q)},minimumSpanningTreeAsync:function(Y,U,j){return Wt("minimumSpanningTree").apply(void 0,[Y,U,j])},pageRankAsync:function(Y,U,j){return Wt("pageRank").apply(void 0,[Y,U,j])},getNeighborsAsync:function(Y,U,j){return Wt("getNeighbors").apply(void 0,[Y,U,j])},GADDIAsync:function(Y,U,j,q,gt,_,yt){return j===void 0&&(j=!1),_===void 0&&(_="cluster"),yt===void 0&&(yt="cluster"),Wt("GADDI").apply(void 0,[Y,U,j,q,gt,_,yt])}}}(),x.default}()})},"70Z/":function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("qoD0"),O=function(x){Object(h.c)(C,x);function C(){return x!==null&&x.apply(this,arguments)||this}return C.prototype.isGroup=function(){return!0},C.prototype.isEntityGroup=function(){return!1},C.prototype.clone=function(){for(var A=x.prototype.clone.call(this),S=this.getChildren(),M=0;M<S.length;M++){var b=S[M];A.add(b.clone())}return A},C}(i.a);L.a=O},"78jE":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.resolve=void 0;var h=a("JIc3"),i=a("TKZu"),O=a("zGZQ"),x=a("qagQ"),C=a("jsAY"),A=function(g,E,D){try{return D()}catch(p){throw O.isStackOverflowExeption(p)?new Error(h.CIRCULAR_DEPENDENCY_IN_FACTORY(g,E.toString())):p}},S=function b(g){return function(E){E.parentContext.setCurrentRequest(E);var D=E.bindings,p=E.childRequests,N=E.target&&E.target.isArray(),I=!E.parentRequest||!E.parentRequest.target||!E.target||!E.parentRequest.target.matchesArray(E.target.serviceIdentifier);if(N&&I)return p.map(function(B){var V=b(g);return V(B)});var G=null;if(E.target.isOptional()&&D.length===0)return;var W=D[0],z=W.scope===i.BindingScopeEnum.Singleton,w=W.scope===i.BindingScopeEnum.Request;if(z&&W.activated)return W.cache;if(w&&g!==null&&g.has(W.id))return g.get(W.id);if(W.type===i.BindingTypeEnum.ConstantValue)G=W.cache;else if(W.type===i.BindingTypeEnum.Function)G=W.cache;else if(W.type===i.BindingTypeEnum.Constructor)G=W.implementationType;else if(W.type===i.BindingTypeEnum.DynamicValue&&W.dynamicValue!==null)G=A("toDynamicValue",W.serviceIdentifier,function(){return W.dynamicValue(E.parentContext)});else if(W.type===i.BindingTypeEnum.Factory&&W.factory!==null)G=A("toFactory",W.serviceIdentifier,function(){return W.factory(E.parentContext)});else if(W.type===i.BindingTypeEnum.Provider&&W.provider!==null)G=A("toProvider",W.serviceIdentifier,function(){return W.provider(E.parentContext)});else if(W.type===i.BindingTypeEnum.Instance&&W.implementationType!==null)G=C.resolveInstance(W.implementationType,p,b(g));else{var T=x.getServiceIdentifierAsString(E.serviceIdentifier);throw new Error(h.INVALID_BINDING_TYPE+" "+T)}return typeof W.onActivation=="function"&&(G=W.onActivation(E.parentContext,G)),z&&(W.cache=G,W.activated=!0),w&&g!==null&&!g.has(W.id)&&g.set(W.id,G),G}};function M(b){var g=S(b.plan.rootRequest.requestScope);return g(b.plan.rootRequest)}L.resolve=M},"7LJS":function(Ut,L,a){var h=a("0Zv/");function i(O,x,C){for(var A=-1,S=O.length;++A<S;){var M=O[A],b=x(M);if(b!=null&&(g===void 0?b===b&&!h(b):C(b,g)))var g=b,E=M}return E}Ut.exports=i},"7XXI":function(Ut,L){function a(i,O,x,C,A,S,M){try{var b=i[S](M),g=b.value}catch(E){x(E);return}b.done?O(g):Promise.resolve(g).then(C,A)}function h(i){return function(){var O=this,x=arguments;return new Promise(function(C,A){var S=i.apply(O,x);function M(g){a(S,C,A,M,b,"next",g)}function b(g){a(S,C,A,M,b,"throw",g)}M(void 0)})}}Ut.exports=h,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},"7Xsh":function(Ut,L){},"7Y4W":function(Ut,L,a){"use strict";a.d(L,"b",function(){return C}),a.d(L,"a",function(){return A});var h=a("J+IK"),i=a("jg4I"),O=a("RF2d");function x(S,M){var b=S.xField,g=S.yField,E=S.colorField,D=S.shapeField,p=S.sizeField,N=S.styleField,I=S.rawFields,G=I===void 0?[]:I,W=[];if(M==="color")W=Object(h.g)([E||b],G);else if(M==="shape")W=Object(h.g)([D||b],G);else if(M==="size")W=Object(h.g)([p||b],G);else{W=Object(h.g)([b,g,E,D,p,N],G);var z=["x","y","color","shape","size","style"].indexOf(M),w=W[z];W.splice(z,1),W.unshift(w)}return Object(i.rb)(W.filter(function(T){return!!T}))}function C(S,M){if(!!M)return function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];var E={};return S.forEach(function(D,p){E[D]=b[p]}),delete E.undefined,M(E)}}function A(S){var M=S.chart,b=S.options,g=b.type,E=b.args,D=b.mapping,p=b.xField,N=b.yField,I=b.colorField,G=b.shapeField,W=b.sizeField,z=b.tooltipFields,w=b.label,T=b.state;if(!D)return S;var B=D.color,V=D.shape,$=D.size,nt=D.style,at=D.tooltip,st=M[g](E).position(p+"*"+N);if(Object(i.O)(B))I?st.color(I,B):st.color(B);else if(Object(i.H)(B)){var tt=x(b,"color");st.color(tt.join("*"),C(tt,B))}else I&&st.color(I,B);if(Object(i.O)(V))G?st.shape(G,[V]):st.shape(V);else if(Object(i.H)(V)){var tt=x(b,"shape");st.shape(tt.join("*"),C(tt,V))}else G&&st.shape(G,V);if(Object(i.K)($))W?st.size(W,$):st.size($);else if(Object(i.H)($)){var tt=x(b,"size");st.size(tt.join("*"),C(tt,$))}else W&&st.size(W,$);if(Object(i.H)(nt)){var tt=x(b,"style");st.style(tt.join("*"),C(tt,nt))}else Object(i.M)(nt)&&st.style(nt);if(z===!1?st.tooltip(!1):Object(i.F)(z)||st.tooltip(z.join("*"),C(z,at)),w===!1)st.label(!1);else if(w){var Q=w.callback,Z=w.fields,et=Object(h.e)(w,["callback","fields"]);st.label({fields:Z||[N],callback:Q,cfg:Object(O.u)(et)})}return T&&st.state(T),[p,N].filter(function(ct){return ct!==I}).forEach(function(ct){M.legend(ct,!1)}),Object(h.a)(Object(h.a)({},S),{ext:{geometry:st}})}},"7a2H":function(Ut,L,a){"use strict";a.r(L),a.d(L,"Category",function(){return p}),a.d(L,"Continuous",function(){return W}),a.d(L,"Base",function(){return g});var h=a("J+IK"),i=a("jg4I"),O=a("uRYK"),x=a("xdm5"),C=a("JRP5"),A=a("KwOt"),S=a("jFyH"),M=a("L+OQ"),b=function(z){Object(h.c)(w,z);function w(){return z!==null&&z.apply(this,arguments)||this}return w.prototype.getDefaultCfg=function(){var T=z.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},T),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},w.prototype.getLayoutBBox=function(){var T=z.prototype.getLayoutBBox.call(this),B=this.get("maxWidth"),V=this.get("maxHeight"),$=T.width,nt=T.height;return B&&($=Math.min($,B)),V&&(nt=Math.min(nt,V)),Object(M.b)(T.minX,T.minY,$,nt)},w.prototype.setLocation=function(T){this.set("x",T.x),this.set("y",T.y),this.resetLocation()},w.prototype.resetLocation=function(){var T=this.get("x"),B=this.get("y"),V=this.get("offsetX"),$=this.get("offsetY");this.moveElementTo(this.get("group"),{x:T+V,y:B+$})},w.prototype.applyOffset=function(){this.resetLocation()},w.prototype.getDrawPoint=function(){return this.get("currentPoint")},w.prototype.setDrawPoint=function(T){return this.set("currentPoint",T)},w.prototype.renderInner=function(T){this.resetDraw(),this.get("title")&&this.drawTitle(T),this.drawLegendContent(T),this.get("background")&&this.drawBackground(T)},w.prototype.drawBackground=function(T){var B=this.get("background"),V=T.getBBox(),$=Object(M.c)(B.padding),nt=Object(h.a)({x:0,y:0,width:V.width+$[1]+$[3],height:V.height+$[0]+$[2]},B.style),at=this.addShape(T,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:nt});at.toBack()},w.prototype.drawTitle=function(T){var B=this.get("currentPoint"),V=this.get("title"),$=V.spacing,nt=V.style,at=V.text,st=this.addShape(T,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(h.a)({text:at,x:B.x,y:B.y},nt)}),tt=st.getBBox();this.set("currentPoint",{x:B.x,y:tt.maxY+$})},w.prototype.resetDraw=function(){var T=this.get("background"),B={x:0,y:0};if(T){var V=Object(M.c)(T.padding);B.x=V[3],B.y=V[0]}this.set("currentPoint",B)},w}(S.a),g=b,E={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},D=function(z){Object(h.c)(w,z);function w(){var T=z!==null&&z.apply(this,arguments)||this;return T.currentPageIndex=1,T.totalPagesCnt=1,T.pageWidth=0,T.pageHeight=0,T.startX=0,T.startY=0,T.onNavigationBack=function(){var B=T.getElementByLocalId("item-group");if(T.currentPageIndex>1){T.currentPageIndex-=1,T.updateNavigation();var V=T.getCurrentNavigationMatrix();T.get("animate")?B.animate({matrix:V},100):B.attr({matrix:V})}},T.onNavigationAfter=function(){var B=T.getElementByLocalId("item-group");if(T.currentPageIndex<T.totalPagesCnt){T.currentPageIndex+=1,T.updateNavigation();var V=T.getCurrentNavigationMatrix();T.get("animate")?B.animate({matrix:V},100):B.attr({matrix:V})}},T}return w.prototype.getDefaultCfg=function(){var T=z.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},T),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:A.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:A.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:E,itemName:{spacing:16,style:{fill:A.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:A.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:A.a.uncheckedColor},markerStyle:{fill:A.a.uncheckedColor,stroke:A.a.uncheckedColor}},inactive:{nameStyle:{fill:A.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},w.prototype.isList=function(){return!0},w.prototype.getItems=function(){return this.get("items")},w.prototype.setItems=function(T){this.update({items:T})},w.prototype.updateItem=function(T,B){Object(i.bb)(T,B),this.clear(),this.render()},w.prototype.clearItems=function(){var T=this.getElementByLocalId("item-group");T&&T.clear()},w.prototype.setItemState=function(T,B,V){T[B]=V;var $=this.getElementByLocalId("item-"+T.id);if($){var nt=this.getItems(),at=nt.indexOf(T),st=this.createOffScreenGroup(),tt=this.drawItem(T,at,this.getItemHeight(),st);this.updateElements(tt,$),this.clearUpdateStatus($)}},w.prototype.hasState=function(T,B){return!!T[B]},w.prototype.getItemStates=function(T){var B=this.get("itemStates"),V=[];return Object(i.j)(B,function($,nt){T[nt]&&V.push(nt)}),V},w.prototype.clearItemsState=function(T){var B=this,V=this.getItemsByState(T);Object(i.j)(V,function($){B.setItemState($,T,!1)})},w.prototype.getItemsByState=function(T){var B=this,V=this.getItems();return Object(i.l)(V,function($){return B.hasState($,T)})},w.prototype.drawLegendContent=function(T){this.processItems(),this.drawItems(T)},w.prototype.processItems=function(){var T=this.get("items");Object(i.j)(T,function(B){B.id||(B.id=B.name)})},w.prototype.drawItems=function(T){var B=this,V=this.addGroup(T,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),$=this.addGroup(V,{id:this.getElementId("item-group"),name:"legend-item-group"}),nt=this.getItemHeight(),at=this.get("itemWidth"),st=this.get("itemSpacing"),tt=this.get("itemMarginBottom"),Q=this.get("currentPoint"),Z=Q.x,et=Q.y,ct=this.get("layout"),mt=this.get("items"),Ot=!1,it=0,xt=this.get("maxWidth"),It=this.get("maxHeight");Object(i.j)(mt,function(zt,Kt){var Yt=B.drawItem(zt,Kt,nt,$),bt=Yt.getBBox(),ft=at||bt.width;ft>it&&(it=ft),ct==="horizontal"?(xt&&xt<Q.x+ft-Z&&(Ot=!0,Q.x=Z,Q.y+=nt+tt),B.moveElementTo(Yt,Q),Q.x+=ft+st):(It&&It<Q.y+nt+tt-et&&(Ot=!0,Q.x+=it+st,Q.y=et,it=0),B.moveElementTo(Yt,Q),Q.y+=nt+tt)}),Ot&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Z,this.startY=et,this.adjustNavigation(T,$))},w.prototype.getItemHeight=function(){var T=this.get("itemHeight");if(!T){var B=this.get("itemName");B&&(T=B.style.fontSize)}return T},w.prototype.drawMarker=function(T,B,V,$){var nt=Object(h.a)(Object(h.a)(Object(h.a)({x:0,y:$/2},B.style),{symbol:Object(i.s)(V.marker,"symbol","circle")}),Object(i.s)(V.marker,"style",{})),at=this.addShape(T,{type:"marker",id:this.getElementId("item-"+V.id+"-marker"),name:"legend-item-marker",attrs:nt}),st=at.getBBox();at.attr("x",st.width/2);var tt=at.attr(),Q=tt.stroke,Z=tt.fill;return Q&&at.set("isStroke",!0),Z&&at.set("isFill",!0),at},w.prototype.drawItemText=function(T,B,V,$,nt,at,st){var tt=V.formatter,Q=Object(h.a)({x:at,y:nt/2,text:tt?tt($[B],$,st):$[B]},V.style);return this.addShape(T,{type:"text",id:this.getElementId("item-"+$.id+"-"+B),name:"legend-item-"+B,attrs:Q})},w.prototype.drawItem=function(T,B,V,$){var nt="item-"+T.id,at=this.addGroup($,{name:"legend-item-container",id:this.getElementId("item-container-"+nt),delegateObject:{item:T,index:B}}),st=this.addGroup(at,{name:"legend-item",id:this.getElementId(nt),delegateObject:{item:T,index:B}}),tt=this.get("marker"),Q=this.get("itemName"),Z=this.get("itemValue"),et=this.get("itemBackground"),ct=this.getLimitItemWidth(),mt=0;if(tt){var Ot=this.drawMarker(st,tt,T,V);mt=Ot.getBBox().maxX+tt.spacing}if(Q){var it=this.drawItemText(st,"name",Q,T,V,mt,B);ct&&Object(O.a)(!0,it,Object(i.c)(ct-mt,0,ct)),mt=it.getBBox().maxX+Q.spacing}if(Z){var xt=this.drawItemText(st,"value",Z,T,V,mt,B);ct&&(Z.alignRight?(xt.attr({textAlign:"right",x:ct}),Object(O.a)(!0,xt,Object(i.c)(ct-mt,0,ct),"head")):Object(O.a)(!0,xt,Object(i.c)(ct-mt,0,ct)))}if(et){var It=st.getBBox(),zt=this.addShape(st,{type:"rect",name:"legend-item-background",id:this.getElementId(nt+"-background"),attrs:Object(h.a)({x:0,y:0,width:It.width,height:V},et.style)});zt.toBack()}return this.applyItemStates(T,st),st},w.prototype.adjustNavigation=function(T,B){var V=this,$=this.startX,nt=this.startY,at=this.get("layout"),st=B.findAll(function(dt){return dt.get("name")==="legend-item"}),tt=this.get("maxWidth"),Q=this.get("maxHeight"),Z=this.get("itemWidth"),et=this.get("itemSpacing"),ct=this.getItemHeight(),mt=Object(i.h)({},E,this.get("pageNavigator")),Ot=this.drawNavigation(T,at,"00/00",mt),it=Ot.getBBox(),xt={x:$,y:nt},It=1,zt=0,Kt=0,Yt=0;if(at==="horizontal")this.pageHeight=ct,Object(i.j)(st,function(dt){var ot=dt.getBBox(),Mt=Z||ot.width;(zt&&zt<xt.x+Mt+et||tt<xt.x+Mt+et+it.width)&&(It===1&&(zt=xt.x+et,V.pageWidth=zt,V.moveElementTo(Ot,{x:tt-et-it.width-it.minX,y:xt.y+ct/2-it.height/2-it.minY})),It+=1,xt.x=$,xt.y+=ct),V.moveElementTo(dt,xt),dt.getParent().setClip({type:"rect",attrs:{x:xt.x,y:xt.y,width:Mt+et,height:ct}}),xt.x+=Mt+et});else{var bt=this.get("itemMarginBottom");Object(i.j)(st,function(dt){var ot=dt.getBBox();ot.width>Kt&&(Kt=ot.width)}),Yt=Kt,Kt+=et,tt&&(Kt=Math.min(tt,Kt),Yt=Math.min(tt,Yt)),this.pageWidth=Kt,this.pageHeight=Q-Math.max(it.height,ct+bt);var ft=Math.floor(this.pageHeight/(ct+bt));Object(i.j)(st,function(dt,ot){ot!==0&&ot%ft==0&&(It+=1,xt.x+=Kt,xt.y=nt),V.moveElementTo(dt,xt),dt.getParent().setClip({type:"rect",attrs:{x:xt.x,y:xt.y,width:Kt,height:ct}}),xt.y+=ct+bt}),this.totalPagesCnt=It,this.moveElementTo(Ot,{x:$+Yt/2-it.width/2-it.minX,y:Q-it.height-it.minY})}this.pageHeight&&this.pageWidth&&B.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=It,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(Ot),B.attr("matrix",this.getCurrentNavigationMatrix())},w.prototype.drawNavigation=function(T,B,V,$){var nt={x:0,y:0},at=this.addGroup(T,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),st=Object(i.s)($.marker,"style",{}),tt=st.size,Q=tt===void 0?12:tt,Z=Object(h.e)(st,["size"]),et=this.drawArrow(at,nt,"navigation-arrow-left",B==="horizontal"?"up":"left",Q,Z);et.on("click",this.onNavigationBack);var ct=et.getBBox();nt.x+=ct.width+2;var mt=this.addShape(at,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(h.a)({x:nt.x,y:nt.y+Q/2,text:V,textBaseline:"middle"},Object(i.s)($.text,"style"))}),Ot=mt.getBBox();nt.x+=Ot.width+2;var it=this.drawArrow(at,nt,"navigation-arrow-right",B==="horizontal"?"down":"right",Q,Z);return it.on("click",this.onNavigationAfter),at},w.prototype.updateNavigation=function(T){var B=Object(i.h)({},E,this.get("pageNavigator")),V=B.marker.style,$=V.fill,nt=V.opacity,at=V.inactiveFill,st=V.inactiveOpacity,tt=this.currentPageIndex+"/"+this.totalPagesCnt,Q=T?T.getChildren()[1]:this.getElementByLocalId("navigation-text"),Z=T?T.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),et=T?T.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),ct=Q.getBBox();Q.attr("text",tt);var mt=Q.getBBox();Q.attr("x",Q.attr("x")-(mt.width-ct.width)/2),Z.attr("opacity",this.currentPageIndex===1?st:nt),Z.attr("fill",this.currentPageIndex===1?at:$),Z.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),et.attr("opacity",this.currentPageIndex===this.totalPagesCnt?st:nt),et.attr("fill",this.currentPageIndex===this.totalPagesCnt?at:$),et.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},w.prototype.drawArrow=function(T,B,V,$,nt,at){var st=B.x,tt=B.y,Q={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Z=this.addShape(T,{type:"path",id:this.getElementId(V),name:V,attrs:Object(h.a)({path:[["M",st+nt/2,tt],["L",st,tt+nt],["L",st+nt,tt+nt],["Z"]],cursor:"pointer"},at)});return Z.attr("matrix",Object(x.e)({x:st+nt/2,y:tt+nt/2},Q[$])),Z},w.prototype.getCurrentNavigationMatrix=function(){var T=this,B=T.currentPageIndex,V=T.pageWidth,$=T.pageHeight,nt=this.get("layout"),at=nt==="horizontal"?{x:0,y:$*(1-B)}:{x:V*(1-B),y:0};return Object(x.f)(at)},w.prototype.applyItemStates=function(T,B){var V=this.getItemStates(T),$=V.length>0;if($){var nt=B.getChildren(),at=this.get("itemStates");Object(i.j)(nt,function(st){var tt=st.get("name"),Q=tt.split("-")[2],Z=Object(C.a)(T,Q,at);Z&&(st.attr(Z),Q==="marker"&&!(st.get("isStroke")&&st.get("isFill"))&&(st.get("isStroke")&&st.attr("fill",null),st.get("isFill")&&st.attr("stroke",null)))})}},w.prototype.getLimitItemWidth=function(){var T=this.get("itemWidth"),B=this.get("maxItemWidth");return B?T&&(B=T<=B?T:B):T&&(B=T),B},w}(g),p=D,N=1.4,I=.4,G=function(z){Object(h.c)(w,z);function w(){return z!==null&&z.apply(this,arguments)||this}return w.prototype.getDefaultCfg=function(){var T=z.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},T),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:A.a.textColor,textBaseline:"middle",fontFamily:A.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:A.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},w.prototype.isSlider=function(){return!0},w.prototype.getValue=function(){return this.getCurrentValue()},w.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},w.prototype.setRange=function(T,B){this.update({min:T,max:B})},w.prototype.setValue=function(T){var B=this.getValue();this.set("value",T);var V=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(V),this.delegateEmit("valuechanged",{originValue:B,value:T})},w.prototype.initEvent=function(){var T=this.get("group");this.bindSliderEvent(T),this.bindRailEvent(T),this.bindTrackEvent(T)},w.prototype.drawLegendContent=function(T){this.drawRail(T),this.drawLabels(T),this.fixedElements(T),this.resetTrack(T),this.resetTrackClip(T),this.get("slidable")&&this.resetHandlers(T)},w.prototype.bindSliderEvent=function(T){this.bindHandlersEvent(T)},w.prototype.bindHandlersEvent=function(T){var B=this;T.on("legend-handler-min:drag",function(V){var $=B.getValueByCanvasPoint(V.x,V.y),nt=B.getCurrentValue(),at=nt[1];at<$&&(at=$),B.setValue([$,at])}),T.on("legend-handler-max:drag",function(V){var $=B.getValueByCanvasPoint(V.x,V.y),nt=B.getCurrentValue(),at=nt[0];at>$&&(at=$),B.setValue([at,$])})},w.prototype.bindRailEvent=function(T){},w.prototype.bindTrackEvent=function(T){var B=this,V=null;T.on("legend-track:dragstart",function($){V={x:$.x,y:$.y}}),T.on("legend-track:drag",function($){if(!!V){var nt=B.getValueByCanvasPoint(V.x,V.y),at=B.getValueByCanvasPoint($.x,$.y),st=B.getCurrentValue(),tt=st[1]-st[0],Q=B.getRange(),Z=at-nt;Z<0?st[0]+Z>Q.min?B.setValue([st[0]+Z,st[1]+Z]):B.setValue([Q.min,Q.min+tt]):Z>0&&(Z>0&&st[1]+Z<Q.max?B.setValue([st[0]+Z,st[1]+Z]):B.setValue([Q.max-tt,Q.max])),V={x:$.x,y:$.y}}}),T.on("legend-track:dragend",function($){V=null})},w.prototype.drawLabels=function(T){this.drawLabel("min",T),this.drawLabel("max",T)},w.prototype.drawLabel=function(T,B){var V=this.get("label"),$=V.style,nt=V.align,at=V.formatter,st=this.get(T),tt=this.getLabelAlignAttrs(T,nt),Q="label-"+T;this.addShape(B,{type:"text",id:this.getElementId(Q),name:"legend-label-"+T,attrs:Object(h.a)(Object(h.a)({x:0,y:0,text:Object(i.H)(at)?at(st):st},$),tt)})},w.prototype.getLabelAlignAttrs=function(T,B){var V=this.isVertical(),$="center",nt="middle";return V?($="start",B!=="rail"?T==="min"?nt="top":nt="bottom":nt="top"):B!=="rail"?(nt="top",T==="min"?$="start":$="end"):($="start",nt="middle"),{textAlign:$,textBaseline:nt}},w.prototype.getRailPath=function(T,B,V,$){var nt=this.get("rail"),at=nt.size,st=nt.defaultLength,tt=nt.type,Q=this.isVertical(),Z=st,et=V,ct=$;et||(et=Q?at:Z),ct||(ct=Q?Z:at);var mt=[];return tt==="color"?(mt.push(["M",T,B]),mt.push(["L",T+et,B]),mt.push(["L",T+et,B+ct]),mt.push(["L",T,B+ct]),mt.push(["Z"])):(mt.push(["M",T+et,B]),mt.push(["L",T+et,B+ct]),mt.push(["L",T,B+ct]),mt.push(["Z"])),mt},w.prototype.drawRail=function(T){var B=this.get("rail"),V=B.style;this.addShape(T,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(h.a)({path:this.getRailPath(0,0)},V)})},w.prototype.getTrackColor=function(T){var B=T.length;if(!B)return null;if(B===1)return T[0];var V;this.isVertical()?V="l(90)":V="l(0)";for(var $=0;$<B;$++){var nt=$/(B-1);V+=" "+nt+":"+T[$]}return V},w.prototype.getTrackPath=function(T){var B=this.getRailShape(T),V=B.attr("path");return Object(i.e)(V)},w.prototype.getClipTrackAttrs=function(T){var B=this.getCurrentValue(),V=B[0],$=B[1],nt=this.getRailBBox(T),at=this.getPointByValue(V,T),st=this.getPointByValue($,T),tt=this.isVertical(),Q,Z,et,ct;return tt?(Q=nt.minX,Z=at.y,et=nt.width,ct=st.y-at.y):(Q=at.x,Z=nt.minY,et=st.x-at.x,ct=nt.height),{x:Q,y:Z,width:et,height:ct}},w.prototype.getTrackAttrs=function(T){var B=this.get("track"),V=this.get("colors"),$=this.getTrackPath(T);return Object(i.bb)({path:$,fill:this.getTrackColor(V)},B.style)},w.prototype.resetTrackClip=function(T){var B=T||this.get("group"),V=this.getElementId("track"),$=B.findById(V),nt=$.getClip(),at=this.getClipTrackAttrs(T);nt?nt.attr(at):$.setClip({type:"rect",attrs:at})},w.prototype.resetTrack=function(T){var B=this.getElementId("track"),V=T.findById(B),$=this.getTrackAttrs(T);V?V.attr($):this.addShape(T,{type:"path",id:B,draggable:this.get("slidable"),name:"legend-track",attrs:$})},w.prototype.getPointByValue=function(T,B){var V=this.getRange(),$=V.min,nt=V.max,at=(T-$)/(nt-$),st=this.getRailBBox(B),tt=this.isVertical(),Q={x:0,y:0};return tt?(Q.x=st.minX+st.width/2,Q.y=Object(M.g)(st.minY,st.maxY,at)):(Q.x=Object(M.g)(st.minX,st.maxX,at),Q.y=st.minY+st.height/2),Q},w.prototype.getRailShape=function(T){var B=T||this.get("group");return B.findById(this.getElementId("rail"))},w.prototype.getRailBBox=function(T){var B=this.getRailShape(T),V=B.getBBox();return V},w.prototype.getRailCanvasBBox=function(){var T=this.get("group"),B=T.findById(this.getElementId("rail")),V=B.getCanvasBBox();return V},w.prototype.isVertical=function(){return this.get("layout")==="vertical"},w.prototype.getValueByCanvasPoint=function(T,B){var V=this.getRange(),$=V.min,nt=V.max,at=this.getRailCanvasBBox(),st=this.isVertical(),tt=this.get("step"),Q;st?Q=(B-at.minY)/at.height:Q=(T-at.minX)/at.width;var Z=Object(M.g)($,nt,Q);if(tt){var et=Math.round((Z-$)/tt);Z=$+et*tt}return Z>nt&&(Z=nt),Z<$&&(Z=$),Z},w.prototype.getCurrentValue=function(){var T=this.get("value");return T||(T=[this.get("min"),this.get("max")]),T},w.prototype.resetHandlers=function(T){var B=this.getCurrentValue(),V=B[0],$=B[1];this.resetHandler(T,"min",V),this.resetHandler(T,"max",$)},w.prototype.getHandlerPath=function(T,B){var V=this.isVertical(),$=[],nt=T.size,at=B.x,st=B.y,tt=nt*N,Q=nt/2,Z=nt/6;if(V){var et=at+tt*I;$.push(["M",at,st]),$.push(["L",et,st+Q]),$.push(["L",at+tt,st+Q]),$.push(["L",at+tt,st-Q]),$.push(["L",et,st-Q]),$.push(["Z"]),$.push(["M",et,st+Z]),$.push(["L",at+tt-2,st+Z]),$.push(["M",et,st-Z]),$.push(["L",at+tt-2,st-Z])}else{var ct=st+tt*I;$.push(["M",at,st]),$.push(["L",at-Q,ct]),$.push(["L",at-Q,st+tt]),$.push(["L",at+Q,st+tt]),$.push(["L",at+Q,ct]),$.push(["Z"]),$.push(["M",at-Z,ct]),$.push(["L",at-Z,st+tt-2]),$.push(["M",at+Z,ct]),$.push(["L",at+Z,st+tt-2])}return $},w.prototype.resetHandler=function(T,B,V){var $=this.getPointByValue(V,T),nt=this.get("handler"),at=this.getHandlerPath(nt,$),st=this.getElementId("handler-"+B),tt=T.findById(st),Q=this.isVertical();tt?tt.attr("path",at):this.addShape(T,{type:"path",name:"legend-handler-"+B,draggable:!0,id:st,attrs:Object(h.a)(Object(h.a)({path:at},nt.style),{cursor:Q?"ns-resize":"ew-resize"})})},w.prototype.fixedElements=function(T){var B=T.findById(this.getElementId("rail")),V=T.findById(this.getElementId("label-min")),$=T.findById(this.getElementId("label-max")),nt=this.getDrawPoint();this.isVertical()?this.fixedVertail(V,$,B,nt):this.fixedHorizontal(V,$,B,nt)},w.prototype.fitRailLength=function(T,B,V,$){var nt=this.isVertical(),at=nt?"height":"width",st=this.get("label"),tt=st.align,Q=st.spacing,Z=this.get("max"+Object(i.tb)(at));if(Z){var et=tt==="rail"?V[at]+T[at]+B[at]+Q*2:V[at],ct=et-Z;ct>0&&this.changeRailLength($,at,V[at]-ct)}},w.prototype.changeRailLength=function(T,B,V){var $=T.getBBox(),nt;B==="height"?nt=this.getRailPath($.x,$.y,$.width,V):nt=this.getRailPath($.x,$.y,V,$.height),T.attr("path",nt)},w.prototype.changeRailPosition=function(T,B,V){var $=T.getBBox(),nt=this.getRailPath(B,V,$.width,$.height);T.attr("path",nt)},w.prototype.fixedHorizontal=function(T,B,V,$){var nt=this.get("label"),at=nt.align,st=nt.spacing,tt=V.getBBox(),Q=T.getBBox(),Z=B.getBBox(),et=tt.height;this.fitRailLength(Q,Z,tt,V),tt=V.getBBox(),at==="rail"?(T.attr({x:$.x,y:$.y+et/2}),this.changeRailPosition(V,$.x+Q.width+st,$.y),B.attr({x:$.x+Q.width+tt.width+st*2,y:$.y+et/2})):at==="top"?(T.attr({x:$.x,y:$.y}),B.attr({x:$.x+tt.width,y:$.y}),this.changeRailPosition(V,$.x,$.y+Q.height+st)):(this.changeRailPosition(V,$.x,$.y),T.attr({x:$.x,y:$.y+tt.height+st}),B.attr({x:$.x+tt.width,y:$.y+tt.height+st}))},w.prototype.fixedVertail=function(T,B,V,$){var nt=this.get("label"),at=nt.align,st=nt.spacing,tt=V.getBBox(),Q=T.getBBox(),Z=B.getBBox();if(this.fitRailLength(Q,Z,tt,V),tt=V.getBBox(),at==="rail")T.attr({x:$.x,y:$.y}),this.changeRailPosition(V,$.x,$.y+Q.height+st),B.attr({x:$.x,y:$.y+Q.height+tt.height+st*2});else if(at==="right")T.attr({x:$.x+tt.width+st,y:$.y}),this.changeRailPosition(V,$.x,$.y),B.attr({x:$.x+tt.width+st,y:$.y+tt.height});else{var et=Math.max(Q.width,Z.width);T.attr({x:$.x,y:$.y}),this.changeRailPosition(V,$.x+et+st,$.y),B.attr({x:$.x,y:$.y+tt.height})}},w}(g),W=G},"7og+":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.tagged=void 0;var h=a("TSqk"),i=a("+QvE");function O(x,C){return function(A,S,M){var b=new h.Metadata(x,C);typeof M=="number"?i.tagParameter(A,S,M,b):i.tagProperty(A,S,b)}}L.tagged=O},"7stk":function(Ut,L,a){"use strict";a.d(L,"a",function(){return I});var h=a("Rspp"),i=a.n(h),O=a("WplE"),x=a.n(O),C=a("xg7u"),A=a.n(C),S=a("Kiyl"),M=a.n(S),b=a("u3/Z"),g=a.n(b),E=a("Hg9g"),D=a("oq+b");function p(G){var W=N();return function(){var w=g()(G),T;if(W){var B=g()(this).constructor;T=Reflect.construct(w,arguments,B)}else T=w.apply(this,arguments);return M()(this,T)}}function N(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(G){return!1}}var I=function(G){A()(z,G);var W=p(z);function z(w){var T;return i()(this,z),T=W.call(this,w),T.material=void 0,T.geometry=void 0,T.aabb=new D.a,T.aabbDirty=!0,T.model=void 0,T.visible=!0,T.children=[],Object.assign(x()(T),w),T}return z}(E.a)},"8+ZV":function(Ut,L){Ut.exports=a;function a(h,i){var O=i[0],x=i[1],C=O*O+x*x;return C>0&&(C=1/Math.sqrt(C),h[0]=i[0]*C,h[1]=i[1]*C),h}},"8Lhm":function(Ut,L,a){var h=a("qccO");function i(O){var x=h(O),C=x%1;return x===x?C?x-C:x:0}Ut.exports=i},"8UnP":function(Ut,L,a){"use strict";a.d(L,"a",function(){return tt});var h=a("J+IK"),i=a("AO+g"),O=a("d38q"),x=a("jg4I"),C=a("ggto"),A=a("RF2d"),S=a("OM6K"),M="liquid";function b(Q){return[{percent:Q,type:M}]}function g(Q){var Z=Q.chart,et=Q.options,ct=et.percent,mt=et.liquidStyle,Ot=et.radius,it=et.outline,xt=et.wave,It=et.shape;Z.scale({percent:{min:0,max:1}}),Z.data(b(ct));var zt=et.color||Z.getTheme().defaultColor,Kt=Object(A.b)({},Q,{options:{xField:"type",yField:"percent",widthRatio:Ot,interval:{color:zt,style:mt,shape:"liquid-fill-gauge"}}}),Yt=Object(S.c)(Kt).ext,bt=Yt.geometry,ft=Z.getTheme().background,dt={radius:Ot,outline:it,wave:xt,shape:It,background:ft};return bt.customInfo(dt),Z.legend(!1),Z.axis(!1),Z.tooltip(!1),Q}function E(Q,Z){var et=Q.chart,ct=Q.options,mt=ct.statistic,Ot=ct.percent,it=ct.meta;if(et.getController("annotation").clear(!0),mt.content&&!mt.content.formatter){var xt=Object(x.s)(it,["percent","formatter"]);mt.content.formatter=function(It){var zt=It.percent;return xt?xt(zt):(zt*100).toFixed(2)+"%"}}return Object(A.s)(et,{statistic:mt,plotType:"liquid"},{percent:Ot}),Z&&et.render(!0),Q}function D(Q){return Object(A.e)(C.j,g,E,Object(C.f)({}),C.a,C.c)(Q)}var p={radius:.9,statistic:{title:!1,content:{formatter:function(Z){var et=Z.percent;return(et*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},N=a("OX44"),I=5e3;function G(Q,Z,et){return Q+(Z-Q)*et}function W(Q){var Z=Object(h.a)({opacity:1},Q.style);return Q.color&&!Z.fill&&(Z.fill=Q.color),Z}function z(Q){var Z={fill:"#fff",fillOpacity:0,lineWidth:4},et=Object(x.bb)({},Z,Q.style);return Q.color&&!et.stroke&&(et.stroke=Q.color),Object(x.K)(Q.opacity)&&(et.opacity=et.strokeOpacity=Q.opacity),et}function w(Q,Z,et,ct){return Z===0?[[Q+1/2*et/Math.PI/2,ct/2],[Q+1/2*et/Math.PI,ct],[Q+et/4,ct]]:Z===1?[[Q+1/2*et/Math.PI/2*(Math.PI-2),ct],[Q+1/2*et/Math.PI/2*(Math.PI-1),ct/2],[Q+et/4,0]]:Z===2?[[Q+1/2*et/Math.PI/2,-ct/2],[Q+1/2*et/Math.PI,-ct],[Q+et/4,-ct]]:[[Q+1/2*et/Math.PI/2*(Math.PI-2),-ct],[Q+1/2*et/Math.PI/2*(Math.PI-1),-ct/2],[Q+et/4,0]]}function T(Q,Z,et,ct,mt,Ot,it){for(var xt=Math.ceil(2*Q/et*4)*4,It=[],zt=ct;zt<-Math.PI*2;)zt+=Math.PI*2;for(;zt>0;)zt-=Math.PI*2;zt=zt/Math.PI/2*et;var Kt=Ot-Q+zt-Q*2;It.push(["M",Kt,Z]);for(var Yt=0,bt=0;bt<xt;++bt){var ft=bt%4,dt=w(bt*et/4,ft,et,mt);It.push(["C",dt[0][0]+Kt,-dt[0][1]+Z,dt[1][0]+Kt,-dt[1][1]+Z,dt[2][0]+Kt,-dt[2][1]+Z]),bt===xt-1&&(Yt=dt[2][0])}return It.push(["L",Yt+Kt,it+Q]),It.push(["L",Kt,it+Q]),It.push(["Z"]),It}function B(Q,Z,et,ct,mt,Ot,it,xt,It){for(var zt=mt.fill,Kt=mt.opacity,Yt=it.getBBox(),bt=Yt.maxX-Yt.minX,ft=Yt.maxY-Yt.minY,dt=0;dt<ct;dt++){var ot=ct<=1?0:dt/(ct-1),Mt=Ot.addShape("path",{name:"waterwave-path",attrs:{path:T(xt,Yt.minY+ft*et,It,0,bt/32,Q,Z),fill:zt,opacity:G(.2,.9,ot)*Kt}});try{var Nt=Object(N.a)([["t",It,0]]);Mt.stopAnimate(),Mt.animate({matrix:Nt},{duration:G(.5*I,I,ot),repeat:!0})}catch(Pt){console.warn("off-screen group animate error!")}}}function V(Q,Z,et,ct){var mt=et*2/3,Ot=Math.max(mt,ct),it=mt/2,xt=Q,It=it+Z-Ot/2,zt=Math.asin(it/((Ot-it)*.85)),Kt=Math.sin(zt)*it,Yt=Math.cos(zt)*it,bt=xt-Yt,ft=It+Kt,dt=Q,ot=It+it/Math.sin(zt);return`
      M `+bt+" "+ft+`
      A `+it+" "+it+" 0 1 1 "+(bt+Yt*2)+" "+ft+`
      Q `+dt+" "+ot+" "+Q+" "+(Z+Ot/2)+`
      Q `+dt+" "+ot+" "+bt+" "+ft+`
      Z 
    `}function $(Q,Z,et,ct){var mt=et/2,Ot=ct/2;return`
      M `+Q+" "+(Z-Ot)+` 
      a `+mt+" "+Ot+" 0 1 0 0 "+Ot*2+`
      a `+mt+" "+Ot+" 0 1 0 0 "+-Ot*2+`
      Z
    `}function nt(Q,Z,et,ct){var mt=ct/2,Ot=et/2;return`
      M `+Q+" "+(Z-mt)+`
      L `+(Q+Ot)+" "+Z+`
      L `+Q+" "+(Z+mt)+`
      L `+(Q-Ot)+" "+Z+`
      Z
    `}function at(Q,Z,et,ct){var mt=ct/2,Ot=et/2;return`
      M `+Q+" "+(Z-mt)+`
      L `+(Q+Ot)+" "+(Z+mt)+`
      L `+(Q-Ot)+" "+(Z+mt)+`
      Z
    `}function st(Q,Z,et,ct){var mt=.618,Ot=ct/2,it=et/2*mt;return`
      M `+(Q-it)+" "+(Z-Ot)+`
      L `+(Q+it)+" "+(Z-Ot)+`
      L `+(Q+it)+" "+(Z+Ot)+`
      L `+(Q-it)+" "+(Z+Ot)+`
      Z
    `}Object(i.registerShape)("interval","liquid-fill-gauge",{draw:function(Z,et){var ct=.5,mt=.5,Ot=Z.customInfo,it=Ot,xt=it.radius,It=it.shape,zt=it.background,Kt=Ot.outline,Yt=Ot.wave,bt=Kt.border,ft=Kt.distance,dt=Yt.count,ot=Yt.length,Mt=Object(x.fb)(Z.points,function(U,j){return Math.min(U,j.x)},Infinity),Nt=this.parsePoint({x:ct,y:mt}),Pt=this.parsePoint({x:Mt,y:mt}),J=Nt.x-Pt.x,X=Math.min(J,Pt.y*xt),vt=W(Z),lt=z(Object(x.bb)({},Z,Kt)),Ct=X-bt/2,Ft={pin:V,circle:$,diamond:nt,triangle:at,rect:st},Wt=typeof It=="function"?It:Ft[It]||Ft.circle,kt=Wt(Nt.x,Nt.y,Ct*2,Ct*2),jt=et.addGroup({name:"waves"}),Y=jt.setClip({type:"path",attrs:{path:kt}});return B(Nt.x,Nt.y,1-Z.points[1].y,dt,vt,jt,Y,X*2,ot),et.addShape("path",{name:"distance",attrs:{path:kt,fill:"transparent",lineWidth:bt+ft*2,stroke:zt==="transparent"?"#fff":zt}}),et.addShape("path",{name:"wrap",attrs:Object(x.bb)(lt,{path:kt,fill:"transparent",lineWidth:bt})}),et}});var tt=function(Q){Object(h.c)(Z,Q);function Z(){var et=Q!==null&&Q.apply(this,arguments)||this;return et.type="liquid",et}return Z.getDefaultOptions=function(){return p},Z.prototype.getDefaultOptions=function(){return Z.getDefaultOptions()},Z.prototype.changeData=function(et){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:et}),this.chart.data(b(et)),E({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},Z.prototype.getSchemaAdaptor=function(){return D},Z}(O.b)},"8Vus":function(Ut,L,a){"use strict";a.d(L,"a",function(){return g});var h=a("Rspp"),i=a.n(h),O=a("2Asv"),x=a.n(O),C=a("me+i"),A=a.n(C),S,M,b;(function(E){E.PANSTART="PANSTART",E.PANEND="PANEND",E.PANMOVE="PANMOVE",E.PINCH="PINCH",E.KEYDOWN="KEYDOWN",E.KEYUP="KEYUP",E.HOVER="HOVER"})(b||(b={}));var g=(S=Object(C.injectable)(),S(M=function(){function E(){i()(this,E)}return x()(E,[{key:"listen",value:function(p){}},{key:"on",value:function(p,N){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),E}())||M)},"8Z6n":function(Ut,L){Ut.exports=a;function a(){var O={};O._next=O._prev=O,this._sentinel=O}a.prototype.dequeue=function(){var O=this._sentinel,x=O._prev;if(x!==O)return h(x),x},a.prototype.enqueue=function(O){var x=this._sentinel;O._prev&&O._next&&h(O),O._next=x._next,x._next._prev=O,x._next=O,O._prev=x},a.prototype.toString=function(){for(var O=[],x=this._sentinel,C=x._prev;C!==x;)O.push(JSON.stringify(C,i)),C=C._prev;return"["+O.join(", ")+"]"};function h(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function i(O,x){if(O!=="_next"&&O!=="_prev")return x}},"8e3m":function(Ut,L,a){"use strict";var h=function(){function i(O,x){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=x,this.timeStamp=x.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}();L.a=h},"8fBB":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.BindingWhenOnSyntax=void 0;var h=a("fXuZ"),i=a("qlOW"),O=function(){function x(C){this._binding=C,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new h.BindingOnSyntax(this._binding)}return x.prototype.when=function(C){return this._bindingWhenSyntax.when(C)},x.prototype.whenTargetNamed=function(C){return this._bindingWhenSyntax.whenTargetNamed(C)},x.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},x.prototype.whenTargetTagged=function(C,A){return this._bindingWhenSyntax.whenTargetTagged(C,A)},x.prototype.whenInjectedInto=function(C){return this._bindingWhenSyntax.whenInjectedInto(C)},x.prototype.whenParentNamed=function(C){return this._bindingWhenSyntax.whenParentNamed(C)},x.prototype.whenParentTagged=function(C,A){return this._bindingWhenSyntax.whenParentTagged(C,A)},x.prototype.whenAnyAncestorIs=function(C){return this._bindingWhenSyntax.whenAnyAncestorIs(C)},x.prototype.whenNoAncestorIs=function(C){return this._bindingWhenSyntax.whenNoAncestorIs(C)},x.prototype.whenAnyAncestorNamed=function(C){return this._bindingWhenSyntax.whenAnyAncestorNamed(C)},x.prototype.whenAnyAncestorTagged=function(C,A){return this._bindingWhenSyntax.whenAnyAncestorTagged(C,A)},x.prototype.whenNoAncestorNamed=function(C){return this._bindingWhenSyntax.whenNoAncestorNamed(C)},x.prototype.whenNoAncestorTagged=function(C,A){return this._bindingWhenSyntax.whenNoAncestorTagged(C,A)},x.prototype.whenAnyAncestorMatches=function(C){return this._bindingWhenSyntax.whenAnyAncestorMatches(C)},x.prototype.whenNoAncestorMatches=function(C){return this._bindingWhenSyntax.whenNoAncestorMatches(C)},x.prototype.onActivation=function(C){return this._bindingOnSyntax.onActivation(C)},x}();L.BindingWhenOnSyntax=O},"8hqx":function(Ut,L,a){Ut.exports=a("KAHC")},"99LQ":function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"b",function(){return i}),a.d(L,"c",function(){return x}),a.d(L,"d",function(){return rl}),a.d(L,"e",function(){return Fr}),a.d(L,"f",function(){return O});var h={};a.r(h),a.d(h,"create",function(){return A}),a.d(h,"fromMat4",function(){return S}),a.d(h,"clone",function(){return M}),a.d(h,"copy",function(){return b}),a.d(h,"fromValues",function(){return g}),a.d(h,"set",function(){return E}),a.d(h,"identity",function(){return D}),a.d(h,"transpose",function(){return p}),a.d(h,"invert",function(){return N}),a.d(h,"adjoint",function(){return I}),a.d(h,"determinant",function(){return G}),a.d(h,"multiply",function(){return W}),a.d(h,"translate",function(){return z}),a.d(h,"rotate",function(){return w}),a.d(h,"scale",function(){return T}),a.d(h,"fromTranslation",function(){return B}),a.d(h,"fromRotation",function(){return V}),a.d(h,"fromScaling",function(){return $}),a.d(h,"fromMat2d",function(){return nt}),a.d(h,"fromQuat",function(){return at}),a.d(h,"normalFromMat4",function(){return st}),a.d(h,"projection",function(){return tt}),a.d(h,"str",function(){return Q}),a.d(h,"frob",function(){return Z}),a.d(h,"add",function(){return et}),a.d(h,"subtract",function(){return ct}),a.d(h,"multiplyScalar",function(){return mt}),a.d(h,"multiplyScalarAndAdd",function(){return Ot}),a.d(h,"exactEquals",function(){return it}),a.d(h,"equals",function(){return xt}),a.d(h,"mul",function(){return It}),a.d(h,"sub",function(){return zt});var i={};a.r(i),a.d(i,"create",function(){return Kt}),a.d(i,"clone",function(){return Yt}),a.d(i,"copy",function(){return bt}),a.d(i,"fromValues",function(){return ft}),a.d(i,"set",function(){return dt}),a.d(i,"identity",function(){return ot}),a.d(i,"transpose",function(){return Mt}),a.d(i,"invert",function(){return Nt}),a.d(i,"adjoint",function(){return Pt}),a.d(i,"determinant",function(){return J}),a.d(i,"multiply",function(){return X}),a.d(i,"translate",function(){return vt}),a.d(i,"scale",function(){return lt}),a.d(i,"rotate",function(){return Ct}),a.d(i,"rotateX",function(){return Ft}),a.d(i,"rotateY",function(){return Wt}),a.d(i,"rotateZ",function(){return kt}),a.d(i,"fromTranslation",function(){return jt}),a.d(i,"fromScaling",function(){return Y}),a.d(i,"fromRotation",function(){return U}),a.d(i,"fromXRotation",function(){return j}),a.d(i,"fromYRotation",function(){return q}),a.d(i,"fromZRotation",function(){return gt}),a.d(i,"fromRotationTranslation",function(){return _}),a.d(i,"fromQuat2",function(){return yt}),a.d(i,"getTranslation",function(){return wt}),a.d(i,"getScaling",function(){return St}),a.d(i,"getRotation",function(){return Dt}),a.d(i,"fromRotationTranslationScale",function(){return Vt}),a.d(i,"fromRotationTranslationScaleOrigin",function(){return Qt}),a.d(i,"fromQuat",function(){return ee}),a.d(i,"frustum",function(){return se}),a.d(i,"perspective",function(){return ye}),a.d(i,"perspectiveFromFieldOfView",function(){return Ie}),a.d(i,"ortho",function(){return Be}),a.d(i,"lookAt",function(){return Ze}),a.d(i,"targetTo",function(){return we}),a.d(i,"str",function(){return We}),a.d(i,"frob",function(){return Ke}),a.d(i,"add",function(){return cr}),a.d(i,"subtract",function(){return or}),a.d(i,"multiplyScalar",function(){return Ce}),a.d(i,"multiplyScalarAndAdd",function(){return sr}),a.d(i,"exactEquals",function(){return ke}),a.d(i,"equals",function(){return Xe}),a.d(i,"mul",function(){return dr}),a.d(i,"sub",function(){return Sr});var O={};a.r(O),a.d(O,"create",function(){return hn}),a.d(O,"clone",function(){return yn}),a.d(O,"fromValues",function(){return Dn}),a.d(O,"copy",function(){return Nn}),a.d(O,"set",function(){return Ia}),a.d(O,"add",function(){return ba}),a.d(O,"subtract",function(){return Oa}),a.d(O,"multiply",function(){return Wn}),a.d(O,"divide",function(){return ai}),a.d(O,"ceil",function(){return Va}),a.d(O,"floor",function(){return ci}),a.d(O,"min",function(){return Ti}),a.d(O,"max",function(){return Ui}),a.d(O,"round",function(){return Bi}),a.d(O,"scale",function(){return ia}),a.d(O,"scaleAndAdd",function(){return ja}),a.d(O,"distance",function(){return Zn}),a.d(O,"squaredDistance",function(){return wa}),a.d(O,"length",function(){return La}),a.d(O,"squaredLength",function(){return Hn}),a.d(O,"negate",function(){return Sa}),a.d(O,"inverse",function(){return Ba}),a.d(O,"normalize",function(){return Pa}),a.d(O,"dot",function(){return $n}),a.d(O,"cross",function(){return Ya}),a.d(O,"lerp",function(){return Da}),a.d(O,"random",function(){return ii}),a.d(O,"transformMat4",function(){return Qn}),a.d(O,"transformQuat",function(){return Oi}),a.d(O,"zero",function(){return Ka}),a.d(O,"str",function(){return Na}),a.d(O,"exactEquals",function(){return $a}),a.d(O,"equals",function(){return ni}),a.d(O,"sub",function(){return Cn}),a.d(O,"mul",function(){return Ni}),a.d(O,"div",function(){return hi}),a.d(O,"dist",function(){return fe}),a.d(O,"sqrDist",function(){return oe}),a.d(O,"len",function(){return he}),a.d(O,"sqrLen",function(){return Ne}),a.d(O,"forEach",function(){return He});var x={};a.r(x),a.d(x,"create",function(){return ar}),a.d(x,"identity",function(){return Er}),a.d(x,"setAxisAngle",function(){return Br}),a.d(x,"getAxisAngle",function(){return Ln}),a.d(x,"getAngle",function(){return Bn}),a.d(x,"multiply",function(){return Sn}),a.d(x,"rotateX",function(){return Wa}),a.d(x,"rotateY",function(){return la}),a.d(x,"rotateZ",function(){return yi}),a.d(x,"calculateW",function(){return mi}),a.d(x,"exp",function(){return ji}),a.d(x,"ln",function(){return Xi}),a.d(x,"pow",function(){return uo}),a.d(x,"slerp",function(){return Wi}),a.d(x,"random",function(){return ge}),a.d(x,"invert",function(){return Ki}),a.d(x,"conjugate",function(){return qn}),a.d(x,"fromMat3",function(){return Xa}),a.d(x,"fromEuler",function(){return Ro}),a.d(x,"str",function(){return wo}),a.d(x,"clone",function(){return Hi}),a.d(x,"fromValues",function(){return _o}),a.d(x,"copy",function(){return qo}),a.d(x,"set",function(){return ts}),a.d(x,"add",function(){return Eo}),a.d(x,"mul",function(){return Go}),a.d(x,"scale",function(){return Uo}),a.d(x,"dot",function(){return Mo}),a.d(x,"lerp",function(){return Wo}),a.d(x,"length",function(){return go}),a.d(x,"len",function(){return Ws}),a.d(x,"squaredLength",function(){return zo}),a.d(x,"sqrLen",function(){return xs}),a.d(x,"normalize",function(){return Bo}),a.d(x,"exactEquals",function(){return es}),a.d(x,"equals",function(){return zs}),a.d(x,"rotationTo",function(){return Pl}),a.d(x,"sqlerp",function(){return el}),a.d(x,"setAxes",function(){return ys});var C=a("TaHB");function A(){var H=new C.a(9);return C.a!=Float32Array&&(H[1]=0,H[2]=0,H[3]=0,H[5]=0,H[6]=0,H[7]=0),H[0]=1,H[4]=1,H[8]=1,H}function S(H,At){return H[0]=At[0],H[1]=At[1],H[2]=At[2],H[3]=At[4],H[4]=At[5],H[5]=At[6],H[6]=At[8],H[7]=At[9],H[8]=At[10],H}function M(H){var At=new C.a(9);return At[0]=H[0],At[1]=H[1],At[2]=H[2],At[3]=H[3],At[4]=H[4],At[5]=H[5],At[6]=H[6],At[7]=H[7],At[8]=H[8],At}function b(H,At){return H[0]=At[0],H[1]=At[1],H[2]=At[2],H[3]=At[3],H[4]=At[4],H[5]=At[5],H[6]=At[6],H[7]=At[7],H[8]=At[8],H}function g(H,At,Jt,ne,de,xe,Le,ze,$e){var nr=new C.a(9);return nr[0]=H,nr[1]=At,nr[2]=Jt,nr[3]=ne,nr[4]=de,nr[5]=xe,nr[6]=Le,nr[7]=ze,nr[8]=$e,nr}function E(H,At,Jt,ne,de,xe,Le,ze,$e,nr){return H[0]=At,H[1]=Jt,H[2]=ne,H[3]=de,H[4]=xe,H[5]=Le,H[6]=ze,H[7]=$e,H[8]=nr,H}function D(H){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=1,H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function p(H,At){if(H===At){var Jt=At[1],ne=At[2],de=At[5];H[1]=At[3],H[2]=At[6],H[3]=Jt,H[5]=At[7],H[6]=ne,H[7]=de}else H[0]=At[0],H[1]=At[3],H[2]=At[6],H[3]=At[1],H[4]=At[4],H[5]=At[7],H[6]=At[2],H[7]=At[5],H[8]=At[8];return H}function N(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=At[4],ze=At[5],$e=At[6],nr=At[7],rr=At[8],Ir=rr*Le-ze*nr,Pr=-rr*xe+ze*$e,Or=nr*xe-Le*$e,Zr=Jt*Ir+ne*Pr+de*Or;return Zr?(Zr=1/Zr,H[0]=Ir*Zr,H[1]=(-rr*ne+de*nr)*Zr,H[2]=(ze*ne-de*Le)*Zr,H[3]=Pr*Zr,H[4]=(rr*Jt-de*$e)*Zr,H[5]=(-ze*Jt+de*xe)*Zr,H[6]=Or*Zr,H[7]=(-nr*Jt+ne*$e)*Zr,H[8]=(Le*Jt-ne*xe)*Zr,H):null}function I(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=At[4],ze=At[5],$e=At[6],nr=At[7],rr=At[8];return H[0]=Le*rr-ze*nr,H[1]=de*nr-ne*rr,H[2]=ne*ze-de*Le,H[3]=ze*$e-xe*rr,H[4]=Jt*rr-de*$e,H[5]=de*xe-Jt*ze,H[6]=xe*nr-Le*$e,H[7]=ne*$e-Jt*nr,H[8]=Jt*Le-ne*xe,H}function G(H){var At=H[0],Jt=H[1],ne=H[2],de=H[3],xe=H[4],Le=H[5],ze=H[6],$e=H[7],nr=H[8];return At*(nr*xe-Le*$e)+Jt*(-nr*de+Le*ze)+ne*($e*de-xe*ze)}function W(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=At[4],$e=At[5],nr=At[6],rr=At[7],Ir=At[8],Pr=Jt[0],Or=Jt[1],Zr=Jt[2],ln=Jt[3],Dr=Jt[4],In=Jt[5],xa=Jt[6],Yn=Jt[7],Jn=Jt[8];return H[0]=Pr*ne+Or*Le+Zr*nr,H[1]=Pr*de+Or*ze+Zr*rr,H[2]=Pr*xe+Or*$e+Zr*Ir,H[3]=ln*ne+Dr*Le+In*nr,H[4]=ln*de+Dr*ze+In*rr,H[5]=ln*xe+Dr*$e+In*Ir,H[6]=xa*ne+Yn*Le+Jn*nr,H[7]=xa*de+Yn*ze+Jn*rr,H[8]=xa*xe+Yn*$e+Jn*Ir,H}function z(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=At[4],$e=At[5],nr=At[6],rr=At[7],Ir=At[8],Pr=Jt[0],Or=Jt[1];return H[0]=ne,H[1]=de,H[2]=xe,H[3]=Le,H[4]=ze,H[5]=$e,H[6]=Pr*ne+Or*Le+nr,H[7]=Pr*de+Or*ze+rr,H[8]=Pr*xe+Or*$e+Ir,H}function w(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=At[4],$e=At[5],nr=At[6],rr=At[7],Ir=At[8],Pr=Math.sin(Jt),Or=Math.cos(Jt);return H[0]=Or*ne+Pr*Le,H[1]=Or*de+Pr*ze,H[2]=Or*xe+Pr*$e,H[3]=Or*Le-Pr*ne,H[4]=Or*ze-Pr*de,H[5]=Or*$e-Pr*xe,H[6]=nr,H[7]=rr,H[8]=Ir,H}function T(H,At,Jt){var ne=Jt[0],de=Jt[1];return H[0]=ne*At[0],H[1]=ne*At[1],H[2]=ne*At[2],H[3]=de*At[3],H[4]=de*At[4],H[5]=de*At[5],H[6]=At[6],H[7]=At[7],H[8]=At[8],H}function B(H,At){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=1,H[5]=0,H[6]=At[0],H[7]=At[1],H[8]=1,H}function V(H,At){var Jt=Math.sin(At),ne=Math.cos(At);return H[0]=ne,H[1]=Jt,H[2]=0,H[3]=-Jt,H[4]=ne,H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function $(H,At){return H[0]=At[0],H[1]=0,H[2]=0,H[3]=0,H[4]=At[1],H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function nt(H,At){return H[0]=At[0],H[1]=At[1],H[2]=0,H[3]=At[2],H[4]=At[3],H[5]=0,H[6]=At[4],H[7]=At[5],H[8]=1,H}function at(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=Jt+Jt,ze=ne+ne,$e=de+de,nr=Jt*Le,rr=ne*Le,Ir=ne*ze,Pr=de*Le,Or=de*ze,Zr=de*$e,ln=xe*Le,Dr=xe*ze,In=xe*$e;return H[0]=1-Ir-Zr,H[3]=rr-In,H[6]=Pr+Dr,H[1]=rr+In,H[4]=1-nr-Zr,H[7]=Or-ln,H[2]=Pr-Dr,H[5]=Or+ln,H[8]=1-nr-Ir,H}function st(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=At[4],ze=At[5],$e=At[6],nr=At[7],rr=At[8],Ir=At[9],Pr=At[10],Or=At[11],Zr=At[12],ln=At[13],Dr=At[14],In=At[15],xa=Jt*ze-ne*Le,Yn=Jt*$e-de*Le,Jn=Jt*nr-xe*Le,fa=ne*$e-de*ze,ua=ne*nr-xe*ze,Ea=de*nr-xe*$e,ei=rr*ln-Ir*Zr,bi=rr*Dr-Pr*Zr,Rn=rr*In-Or*Zr,mn=Ir*Dr-Pr*ln,oi=Ir*In-Or*ln,za=Pr*In-Or*Dr,pa=xa*za-Yn*oi+Jn*mn+fa*Rn-ua*bi+Ea*ei;return pa?(pa=1/pa,H[0]=(ze*za-$e*oi+nr*mn)*pa,H[1]=($e*Rn-Le*za-nr*bi)*pa,H[2]=(Le*oi-ze*Rn+nr*ei)*pa,H[3]=(de*oi-ne*za-xe*mn)*pa,H[4]=(Jt*za-de*Rn+xe*bi)*pa,H[5]=(ne*Rn-Jt*oi-xe*ei)*pa,H[6]=(ln*Ea-Dr*ua+In*fa)*pa,H[7]=(Dr*Jn-Zr*Ea-In*Yn)*pa,H[8]=(Zr*ua-ln*Jn+In*xa)*pa,H):null}function tt(H,At,Jt){return H[0]=2/At,H[1]=0,H[2]=0,H[3]=0,H[4]=-2/Jt,H[5]=0,H[6]=-1,H[7]=1,H[8]=1,H}function Q(H){return"mat3("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+", "+H[4]+", "+H[5]+", "+H[6]+", "+H[7]+", "+H[8]+")"}function Z(H){return Math.hypot(H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],H[8])}function et(H,At,Jt){return H[0]=At[0]+Jt[0],H[1]=At[1]+Jt[1],H[2]=At[2]+Jt[2],H[3]=At[3]+Jt[3],H[4]=At[4]+Jt[4],H[5]=At[5]+Jt[5],H[6]=At[6]+Jt[6],H[7]=At[7]+Jt[7],H[8]=At[8]+Jt[8],H}function ct(H,At,Jt){return H[0]=At[0]-Jt[0],H[1]=At[1]-Jt[1],H[2]=At[2]-Jt[2],H[3]=At[3]-Jt[3],H[4]=At[4]-Jt[4],H[5]=At[5]-Jt[5],H[6]=At[6]-Jt[6],H[7]=At[7]-Jt[7],H[8]=At[8]-Jt[8],H}function mt(H,At,Jt){return H[0]=At[0]*Jt,H[1]=At[1]*Jt,H[2]=At[2]*Jt,H[3]=At[3]*Jt,H[4]=At[4]*Jt,H[5]=At[5]*Jt,H[6]=At[6]*Jt,H[7]=At[7]*Jt,H[8]=At[8]*Jt,H}function Ot(H,At,Jt,ne){return H[0]=At[0]+Jt[0]*ne,H[1]=At[1]+Jt[1]*ne,H[2]=At[2]+Jt[2]*ne,H[3]=At[3]+Jt[3]*ne,H[4]=At[4]+Jt[4]*ne,H[5]=At[5]+Jt[5]*ne,H[6]=At[6]+Jt[6]*ne,H[7]=At[7]+Jt[7]*ne,H[8]=At[8]+Jt[8]*ne,H}function it(H,At){return H[0]===At[0]&&H[1]===At[1]&&H[2]===At[2]&&H[3]===At[3]&&H[4]===At[4]&&H[5]===At[5]&&H[6]===At[6]&&H[7]===At[7]&&H[8]===At[8]}function xt(H,At){var Jt=H[0],ne=H[1],de=H[2],xe=H[3],Le=H[4],ze=H[5],$e=H[6],nr=H[7],rr=H[8],Ir=At[0],Pr=At[1],Or=At[2],Zr=At[3],ln=At[4],Dr=At[5],In=At[6],xa=At[7],Yn=At[8];return Math.abs(Jt-Ir)<=C.b*Math.max(1,Math.abs(Jt),Math.abs(Ir))&&Math.abs(ne-Pr)<=C.b*Math.max(1,Math.abs(ne),Math.abs(Pr))&&Math.abs(de-Or)<=C.b*Math.max(1,Math.abs(de),Math.abs(Or))&&Math.abs(xe-Zr)<=C.b*Math.max(1,Math.abs(xe),Math.abs(Zr))&&Math.abs(Le-ln)<=C.b*Math.max(1,Math.abs(Le),Math.abs(ln))&&Math.abs(ze-Dr)<=C.b*Math.max(1,Math.abs(ze),Math.abs(Dr))&&Math.abs($e-In)<=C.b*Math.max(1,Math.abs($e),Math.abs(In))&&Math.abs(nr-xa)<=C.b*Math.max(1,Math.abs(nr),Math.abs(xa))&&Math.abs(rr-Yn)<=C.b*Math.max(1,Math.abs(rr),Math.abs(Yn))}var It=W,zt=ct;function Kt(){var H=new C.a(16);return C.a!=Float32Array&&(H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[11]=0,H[12]=0,H[13]=0,H[14]=0),H[0]=1,H[5]=1,H[10]=1,H[15]=1,H}function Yt(H){var At=new C.a(16);return At[0]=H[0],At[1]=H[1],At[2]=H[2],At[3]=H[3],At[4]=H[4],At[5]=H[5],At[6]=H[6],At[7]=H[7],At[8]=H[8],At[9]=H[9],At[10]=H[10],At[11]=H[11],At[12]=H[12],At[13]=H[13],At[14]=H[14],At[15]=H[15],At}function bt(H,At){return H[0]=At[0],H[1]=At[1],H[2]=At[2],H[3]=At[3],H[4]=At[4],H[5]=At[5],H[6]=At[6],H[7]=At[7],H[8]=At[8],H[9]=At[9],H[10]=At[10],H[11]=At[11],H[12]=At[12],H[13]=At[13],H[14]=At[14],H[15]=At[15],H}function ft(H,At,Jt,ne,de,xe,Le,ze,$e,nr,rr,Ir,Pr,Or,Zr,ln){var Dr=new C.a(16);return Dr[0]=H,Dr[1]=At,Dr[2]=Jt,Dr[3]=ne,Dr[4]=de,Dr[5]=xe,Dr[6]=Le,Dr[7]=ze,Dr[8]=$e,Dr[9]=nr,Dr[10]=rr,Dr[11]=Ir,Dr[12]=Pr,Dr[13]=Or,Dr[14]=Zr,Dr[15]=ln,Dr}function dt(H,At,Jt,ne,de,xe,Le,ze,$e,nr,rr,Ir,Pr,Or,Zr,ln,Dr){return H[0]=At,H[1]=Jt,H[2]=ne,H[3]=de,H[4]=xe,H[5]=Le,H[6]=ze,H[7]=$e,H[8]=nr,H[9]=rr,H[10]=Ir,H[11]=Pr,H[12]=Or,H[13]=Zr,H[14]=ln,H[15]=Dr,H}function ot(H){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=1,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[10]=1,H[11]=0,H[12]=0,H[13]=0,H[14]=0,H[15]=1,H}function Mt(H,At){if(H===At){var Jt=At[1],ne=At[2],de=At[3],xe=At[6],Le=At[7],ze=At[11];H[1]=At[4],H[2]=At[8],H[3]=At[12],H[4]=Jt,H[6]=At[9],H[7]=At[13],H[8]=ne,H[9]=xe,H[11]=At[14],H[12]=de,H[13]=Le,H[14]=ze}else H[0]=At[0],H[1]=At[4],H[2]=At[8],H[3]=At[12],H[4]=At[1],H[5]=At[5],H[6]=At[9],H[7]=At[13],H[8]=At[2],H[9]=At[6],H[10]=At[10],H[11]=At[14],H[12]=At[3],H[13]=At[7],H[14]=At[11],H[15]=At[15];return H}function Nt(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=At[4],ze=At[5],$e=At[6],nr=At[7],rr=At[8],Ir=At[9],Pr=At[10],Or=At[11],Zr=At[12],ln=At[13],Dr=At[14],In=At[15],xa=Jt*ze-ne*Le,Yn=Jt*$e-de*Le,Jn=Jt*nr-xe*Le,fa=ne*$e-de*ze,ua=ne*nr-xe*ze,Ea=de*nr-xe*$e,ei=rr*ln-Ir*Zr,bi=rr*Dr-Pr*Zr,Rn=rr*In-Or*Zr,mn=Ir*Dr-Pr*ln,oi=Ir*In-Or*ln,za=Pr*In-Or*Dr,pa=xa*za-Yn*oi+Jn*mn+fa*Rn-ua*bi+Ea*ei;return pa?(pa=1/pa,H[0]=(ze*za-$e*oi+nr*mn)*pa,H[1]=(de*oi-ne*za-xe*mn)*pa,H[2]=(ln*Ea-Dr*ua+In*fa)*pa,H[3]=(Pr*ua-Ir*Ea-Or*fa)*pa,H[4]=($e*Rn-Le*za-nr*bi)*pa,H[5]=(Jt*za-de*Rn+xe*bi)*pa,H[6]=(Dr*Jn-Zr*Ea-In*Yn)*pa,H[7]=(rr*Ea-Pr*Jn+Or*Yn)*pa,H[8]=(Le*oi-ze*Rn+nr*ei)*pa,H[9]=(ne*Rn-Jt*oi-xe*ei)*pa,H[10]=(Zr*ua-ln*Jn+In*xa)*pa,H[11]=(Ir*Jn-rr*ua-Or*xa)*pa,H[12]=(ze*bi-Le*mn-$e*ei)*pa,H[13]=(Jt*mn-ne*bi+de*ei)*pa,H[14]=(ln*Yn-Zr*fa-Dr*xa)*pa,H[15]=(rr*fa-Ir*Yn+Pr*xa)*pa,H):null}function Pt(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=At[4],ze=At[5],$e=At[6],nr=At[7],rr=At[8],Ir=At[9],Pr=At[10],Or=At[11],Zr=At[12],ln=At[13],Dr=At[14],In=At[15];return H[0]=ze*(Pr*In-Or*Dr)-Ir*($e*In-nr*Dr)+ln*($e*Or-nr*Pr),H[1]=-(ne*(Pr*In-Or*Dr)-Ir*(de*In-xe*Dr)+ln*(de*Or-xe*Pr)),H[2]=ne*($e*In-nr*Dr)-ze*(de*In-xe*Dr)+ln*(de*nr-xe*$e),H[3]=-(ne*($e*Or-nr*Pr)-ze*(de*Or-xe*Pr)+Ir*(de*nr-xe*$e)),H[4]=-(Le*(Pr*In-Or*Dr)-rr*($e*In-nr*Dr)+Zr*($e*Or-nr*Pr)),H[5]=Jt*(Pr*In-Or*Dr)-rr*(de*In-xe*Dr)+Zr*(de*Or-xe*Pr),H[6]=-(Jt*($e*In-nr*Dr)-Le*(de*In-xe*Dr)+Zr*(de*nr-xe*$e)),H[7]=Jt*($e*Or-nr*Pr)-Le*(de*Or-xe*Pr)+rr*(de*nr-xe*$e),H[8]=Le*(Ir*In-Or*ln)-rr*(ze*In-nr*ln)+Zr*(ze*Or-nr*Ir),H[9]=-(Jt*(Ir*In-Or*ln)-rr*(ne*In-xe*ln)+Zr*(ne*Or-xe*Ir)),H[10]=Jt*(ze*In-nr*ln)-Le*(ne*In-xe*ln)+Zr*(ne*nr-xe*ze),H[11]=-(Jt*(ze*Or-nr*Ir)-Le*(ne*Or-xe*Ir)+rr*(ne*nr-xe*ze)),H[12]=-(Le*(Ir*Dr-Pr*ln)-rr*(ze*Dr-$e*ln)+Zr*(ze*Pr-$e*Ir)),H[13]=Jt*(Ir*Dr-Pr*ln)-rr*(ne*Dr-de*ln)+Zr*(ne*Pr-de*Ir),H[14]=-(Jt*(ze*Dr-$e*ln)-Le*(ne*Dr-de*ln)+Zr*(ne*$e-de*ze)),H[15]=Jt*(ze*Pr-$e*Ir)-Le*(ne*Pr-de*Ir)+rr*(ne*$e-de*ze),H}function J(H){var At=H[0],Jt=H[1],ne=H[2],de=H[3],xe=H[4],Le=H[5],ze=H[6],$e=H[7],nr=H[8],rr=H[9],Ir=H[10],Pr=H[11],Or=H[12],Zr=H[13],ln=H[14],Dr=H[15],In=At*Le-Jt*xe,xa=At*ze-ne*xe,Yn=At*$e-de*xe,Jn=Jt*ze-ne*Le,fa=Jt*$e-de*Le,ua=ne*$e-de*ze,Ea=nr*Zr-rr*Or,ei=nr*ln-Ir*Or,bi=nr*Dr-Pr*Or,Rn=rr*ln-Ir*Zr,mn=rr*Dr-Pr*Zr,oi=Ir*Dr-Pr*ln;return In*oi-xa*mn+Yn*Rn+Jn*bi-fa*ei+ua*Ea}function X(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=At[4],$e=At[5],nr=At[6],rr=At[7],Ir=At[8],Pr=At[9],Or=At[10],Zr=At[11],ln=At[12],Dr=At[13],In=At[14],xa=At[15],Yn=Jt[0],Jn=Jt[1],fa=Jt[2],ua=Jt[3];return H[0]=Yn*ne+Jn*ze+fa*Ir+ua*ln,H[1]=Yn*de+Jn*$e+fa*Pr+ua*Dr,H[2]=Yn*xe+Jn*nr+fa*Or+ua*In,H[3]=Yn*Le+Jn*rr+fa*Zr+ua*xa,Yn=Jt[4],Jn=Jt[5],fa=Jt[6],ua=Jt[7],H[4]=Yn*ne+Jn*ze+fa*Ir+ua*ln,H[5]=Yn*de+Jn*$e+fa*Pr+ua*Dr,H[6]=Yn*xe+Jn*nr+fa*Or+ua*In,H[7]=Yn*Le+Jn*rr+fa*Zr+ua*xa,Yn=Jt[8],Jn=Jt[9],fa=Jt[10],ua=Jt[11],H[8]=Yn*ne+Jn*ze+fa*Ir+ua*ln,H[9]=Yn*de+Jn*$e+fa*Pr+ua*Dr,H[10]=Yn*xe+Jn*nr+fa*Or+ua*In,H[11]=Yn*Le+Jn*rr+fa*Zr+ua*xa,Yn=Jt[12],Jn=Jt[13],fa=Jt[14],ua=Jt[15],H[12]=Yn*ne+Jn*ze+fa*Ir+ua*ln,H[13]=Yn*de+Jn*$e+fa*Pr+ua*Dr,H[14]=Yn*xe+Jn*nr+fa*Or+ua*In,H[15]=Yn*Le+Jn*rr+fa*Zr+ua*xa,H}function vt(H,At,Jt){var ne=Jt[0],de=Jt[1],xe=Jt[2],Le,ze,$e,nr,rr,Ir,Pr,Or,Zr,ln,Dr,In;return At===H?(H[12]=At[0]*ne+At[4]*de+At[8]*xe+At[12],H[13]=At[1]*ne+At[5]*de+At[9]*xe+At[13],H[14]=At[2]*ne+At[6]*de+At[10]*xe+At[14],H[15]=At[3]*ne+At[7]*de+At[11]*xe+At[15]):(Le=At[0],ze=At[1],$e=At[2],nr=At[3],rr=At[4],Ir=At[5],Pr=At[6],Or=At[7],Zr=At[8],ln=At[9],Dr=At[10],In=At[11],H[0]=Le,H[1]=ze,H[2]=$e,H[3]=nr,H[4]=rr,H[5]=Ir,H[6]=Pr,H[7]=Or,H[8]=Zr,H[9]=ln,H[10]=Dr,H[11]=In,H[12]=Le*ne+rr*de+Zr*xe+At[12],H[13]=ze*ne+Ir*de+ln*xe+At[13],H[14]=$e*ne+Pr*de+Dr*xe+At[14],H[15]=nr*ne+Or*de+In*xe+At[15]),H}function lt(H,At,Jt){var ne=Jt[0],de=Jt[1],xe=Jt[2];return H[0]=At[0]*ne,H[1]=At[1]*ne,H[2]=At[2]*ne,H[3]=At[3]*ne,H[4]=At[4]*de,H[5]=At[5]*de,H[6]=At[6]*de,H[7]=At[7]*de,H[8]=At[8]*xe,H[9]=At[9]*xe,H[10]=At[10]*xe,H[11]=At[11]*xe,H[12]=At[12],H[13]=At[13],H[14]=At[14],H[15]=At[15],H}function Ct(H,At,Jt,ne){var de=ne[0],xe=ne[1],Le=ne[2],ze=Math.hypot(de,xe,Le),$e,nr,rr,Ir,Pr,Or,Zr,ln,Dr,In,xa,Yn,Jn,fa,ua,Ea,ei,bi,Rn,mn,oi,za,pa,Oe;return ze<C.b?null:(ze=1/ze,de*=ze,xe*=ze,Le*=ze,$e=Math.sin(Jt),nr=Math.cos(Jt),rr=1-nr,Ir=At[0],Pr=At[1],Or=At[2],Zr=At[3],ln=At[4],Dr=At[5],In=At[6],xa=At[7],Yn=At[8],Jn=At[9],fa=At[10],ua=At[11],Ea=de*de*rr+nr,ei=xe*de*rr+Le*$e,bi=Le*de*rr-xe*$e,Rn=de*xe*rr-Le*$e,mn=xe*xe*rr+nr,oi=Le*xe*rr+de*$e,za=de*Le*rr+xe*$e,pa=xe*Le*rr-de*$e,Oe=Le*Le*rr+nr,H[0]=Ir*Ea+ln*ei+Yn*bi,H[1]=Pr*Ea+Dr*ei+Jn*bi,H[2]=Or*Ea+In*ei+fa*bi,H[3]=Zr*Ea+xa*ei+ua*bi,H[4]=Ir*Rn+ln*mn+Yn*oi,H[5]=Pr*Rn+Dr*mn+Jn*oi,H[6]=Or*Rn+In*mn+fa*oi,H[7]=Zr*Rn+xa*mn+ua*oi,H[8]=Ir*za+ln*pa+Yn*Oe,H[9]=Pr*za+Dr*pa+Jn*Oe,H[10]=Or*za+In*pa+fa*Oe,H[11]=Zr*za+xa*pa+ua*Oe,At!==H&&(H[12]=At[12],H[13]=At[13],H[14]=At[14],H[15]=At[15]),H)}function Ft(H,At,Jt){var ne=Math.sin(Jt),de=Math.cos(Jt),xe=At[4],Le=At[5],ze=At[6],$e=At[7],nr=At[8],rr=At[9],Ir=At[10],Pr=At[11];return At!==H&&(H[0]=At[0],H[1]=At[1],H[2]=At[2],H[3]=At[3],H[12]=At[12],H[13]=At[13],H[14]=At[14],H[15]=At[15]),H[4]=xe*de+nr*ne,H[5]=Le*de+rr*ne,H[6]=ze*de+Ir*ne,H[7]=$e*de+Pr*ne,H[8]=nr*de-xe*ne,H[9]=rr*de-Le*ne,H[10]=Ir*de-ze*ne,H[11]=Pr*de-$e*ne,H}function Wt(H,At,Jt){var ne=Math.sin(Jt),de=Math.cos(Jt),xe=At[0],Le=At[1],ze=At[2],$e=At[3],nr=At[8],rr=At[9],Ir=At[10],Pr=At[11];return At!==H&&(H[4]=At[4],H[5]=At[5],H[6]=At[6],H[7]=At[7],H[12]=At[12],H[13]=At[13],H[14]=At[14],H[15]=At[15]),H[0]=xe*de-nr*ne,H[1]=Le*de-rr*ne,H[2]=ze*de-Ir*ne,H[3]=$e*de-Pr*ne,H[8]=xe*ne+nr*de,H[9]=Le*ne+rr*de,H[10]=ze*ne+Ir*de,H[11]=$e*ne+Pr*de,H}function kt(H,At,Jt){var ne=Math.sin(Jt),de=Math.cos(Jt),xe=At[0],Le=At[1],ze=At[2],$e=At[3],nr=At[4],rr=At[5],Ir=At[6],Pr=At[7];return At!==H&&(H[8]=At[8],H[9]=At[9],H[10]=At[10],H[11]=At[11],H[12]=At[12],H[13]=At[13],H[14]=At[14],H[15]=At[15]),H[0]=xe*de+nr*ne,H[1]=Le*de+rr*ne,H[2]=ze*de+Ir*ne,H[3]=$e*de+Pr*ne,H[4]=nr*de-xe*ne,H[5]=rr*de-Le*ne,H[6]=Ir*de-ze*ne,H[7]=Pr*de-$e*ne,H}function jt(H,At){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=1,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[10]=1,H[11]=0,H[12]=At[0],H[13]=At[1],H[14]=At[2],H[15]=1,H}function Y(H,At){return H[0]=At[0],H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=At[1],H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[10]=At[2],H[11]=0,H[12]=0,H[13]=0,H[14]=0,H[15]=1,H}function U(H,At,Jt){var ne=Jt[0],de=Jt[1],xe=Jt[2],Le=Math.hypot(ne,de,xe),ze,$e,nr;return Le<C.b?null:(Le=1/Le,ne*=Le,de*=Le,xe*=Le,ze=Math.sin(At),$e=Math.cos(At),nr=1-$e,H[0]=ne*ne*nr+$e,H[1]=de*ne*nr+xe*ze,H[2]=xe*ne*nr-de*ze,H[3]=0,H[4]=ne*de*nr-xe*ze,H[5]=de*de*nr+$e,H[6]=xe*de*nr+ne*ze,H[7]=0,H[8]=ne*xe*nr+de*ze,H[9]=de*xe*nr-ne*ze,H[10]=xe*xe*nr+$e,H[11]=0,H[12]=0,H[13]=0,H[14]=0,H[15]=1,H)}function j(H,At){var Jt=Math.sin(At),ne=Math.cos(At);return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=ne,H[6]=Jt,H[7]=0,H[8]=0,H[9]=-Jt,H[10]=ne,H[11]=0,H[12]=0,H[13]=0,H[14]=0,H[15]=1,H}function q(H,At){var Jt=Math.sin(At),ne=Math.cos(At);return H[0]=ne,H[1]=0,H[2]=-Jt,H[3]=0,H[4]=0,H[5]=1,H[6]=0,H[7]=0,H[8]=Jt,H[9]=0,H[10]=ne,H[11]=0,H[12]=0,H[13]=0,H[14]=0,H[15]=1,H}function gt(H,At){var Jt=Math.sin(At),ne=Math.cos(At);return H[0]=ne,H[1]=Jt,H[2]=0,H[3]=0,H[4]=-Jt,H[5]=ne,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[10]=1,H[11]=0,H[12]=0,H[13]=0,H[14]=0,H[15]=1,H}function _(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=ne+ne,$e=de+de,nr=xe+xe,rr=ne*ze,Ir=ne*$e,Pr=ne*nr,Or=de*$e,Zr=de*nr,ln=xe*nr,Dr=Le*ze,In=Le*$e,xa=Le*nr;return H[0]=1-(Or+ln),H[1]=Ir+xa,H[2]=Pr-In,H[3]=0,H[4]=Ir-xa,H[5]=1-(rr+ln),H[6]=Zr+Dr,H[7]=0,H[8]=Pr+In,H[9]=Zr-Dr,H[10]=1-(rr+Or),H[11]=0,H[12]=Jt[0],H[13]=Jt[1],H[14]=Jt[2],H[15]=1,H}function yt(H,At){var Jt=new C.a(3),ne=-At[0],de=-At[1],xe=-At[2],Le=At[3],ze=At[4],$e=At[5],nr=At[6],rr=At[7],Ir=ne*ne+de*de+xe*xe+Le*Le;return Ir>0?(Jt[0]=(ze*Le+rr*ne+$e*xe-nr*de)*2/Ir,Jt[1]=($e*Le+rr*de+nr*ne-ze*xe)*2/Ir,Jt[2]=(nr*Le+rr*xe+ze*de-$e*ne)*2/Ir):(Jt[0]=(ze*Le+rr*ne+$e*xe-nr*de)*2,Jt[1]=($e*Le+rr*de+nr*ne-ze*xe)*2,Jt[2]=(nr*Le+rr*xe+ze*de-$e*ne)*2),_(H,At,Jt),H}function wt(H,At){return H[0]=At[12],H[1]=At[13],H[2]=At[14],H}function St(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[4],Le=At[5],ze=At[6],$e=At[8],nr=At[9],rr=At[10];return H[0]=Math.hypot(Jt,ne,de),H[1]=Math.hypot(xe,Le,ze),H[2]=Math.hypot($e,nr,rr),H}function Dt(H,At){var Jt=new C.a(3);St(Jt,At);var ne=1/Jt[0],de=1/Jt[1],xe=1/Jt[2],Le=At[0]*ne,ze=At[1]*de,$e=At[2]*xe,nr=At[4]*ne,rr=At[5]*de,Ir=At[6]*xe,Pr=At[8]*ne,Or=At[9]*de,Zr=At[10]*xe,ln=Le+rr+Zr,Dr=0;return ln>0?(Dr=Math.sqrt(ln+1)*2,H[3]=.25*Dr,H[0]=(Ir-Or)/Dr,H[1]=(Pr-$e)/Dr,H[2]=(ze-nr)/Dr):Le>rr&&Le>Zr?(Dr=Math.sqrt(1+Le-rr-Zr)*2,H[3]=(Ir-Or)/Dr,H[0]=.25*Dr,H[1]=(ze+nr)/Dr,H[2]=(Pr+$e)/Dr):rr>Zr?(Dr=Math.sqrt(1+rr-Le-Zr)*2,H[3]=(Pr-$e)/Dr,H[0]=(ze+nr)/Dr,H[1]=.25*Dr,H[2]=(Ir+Or)/Dr):(Dr=Math.sqrt(1+Zr-Le-rr)*2,H[3]=(ze-nr)/Dr,H[0]=(Pr+$e)/Dr,H[1]=(Ir+Or)/Dr,H[2]=.25*Dr),H}function Vt(H,At,Jt,ne){var de=At[0],xe=At[1],Le=At[2],ze=At[3],$e=de+de,nr=xe+xe,rr=Le+Le,Ir=de*$e,Pr=de*nr,Or=de*rr,Zr=xe*nr,ln=xe*rr,Dr=Le*rr,In=ze*$e,xa=ze*nr,Yn=ze*rr,Jn=ne[0],fa=ne[1],ua=ne[2];return H[0]=(1-(Zr+Dr))*Jn,H[1]=(Pr+Yn)*Jn,H[2]=(Or-xa)*Jn,H[3]=0,H[4]=(Pr-Yn)*fa,H[5]=(1-(Ir+Dr))*fa,H[6]=(ln+In)*fa,H[7]=0,H[8]=(Or+xa)*ua,H[9]=(ln-In)*ua,H[10]=(1-(Ir+Zr))*ua,H[11]=0,H[12]=Jt[0],H[13]=Jt[1],H[14]=Jt[2],H[15]=1,H}function Qt(H,At,Jt,ne,de){var xe=At[0],Le=At[1],ze=At[2],$e=At[3],nr=xe+xe,rr=Le+Le,Ir=ze+ze,Pr=xe*nr,Or=xe*rr,Zr=xe*Ir,ln=Le*rr,Dr=Le*Ir,In=ze*Ir,xa=$e*nr,Yn=$e*rr,Jn=$e*Ir,fa=ne[0],ua=ne[1],Ea=ne[2],ei=de[0],bi=de[1],Rn=de[2],mn=(1-(ln+In))*fa,oi=(Or+Jn)*fa,za=(Zr-Yn)*fa,pa=(Or-Jn)*ua,Oe=(1-(Pr+In))*ua,le=(Dr+xa)*ua,je=(Zr+Yn)*Ea,Qe=(Dr-xa)*Ea,br=(1-(Pr+ln))*Ea;return H[0]=mn,H[1]=oi,H[2]=za,H[3]=0,H[4]=pa,H[5]=Oe,H[6]=le,H[7]=0,H[8]=je,H[9]=Qe,H[10]=br,H[11]=0,H[12]=Jt[0]+ei-(mn*ei+pa*bi+je*Rn),H[13]=Jt[1]+bi-(oi*ei+Oe*bi+Qe*Rn),H[14]=Jt[2]+Rn-(za*ei+le*bi+br*Rn),H[15]=1,H}function ee(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=Jt+Jt,ze=ne+ne,$e=de+de,nr=Jt*Le,rr=ne*Le,Ir=ne*ze,Pr=de*Le,Or=de*ze,Zr=de*$e,ln=xe*Le,Dr=xe*ze,In=xe*$e;return H[0]=1-Ir-Zr,H[1]=rr+In,H[2]=Pr-Dr,H[3]=0,H[4]=rr-In,H[5]=1-nr-Zr,H[6]=Or+ln,H[7]=0,H[8]=Pr+Dr,H[9]=Or-ln,H[10]=1-nr-Ir,H[11]=0,H[12]=0,H[13]=0,H[14]=0,H[15]=1,H}function se(H,At,Jt,ne,de,xe,Le){var ze=1/(Jt-At),$e=1/(de-ne),nr=1/(xe-Le);return H[0]=xe*2*ze,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=xe*2*$e,H[6]=0,H[7]=0,H[8]=(Jt+At)*ze,H[9]=(de+ne)*$e,H[10]=(Le+xe)*nr,H[11]=-1,H[12]=0,H[13]=0,H[14]=Le*xe*2*nr,H[15]=0,H}function ye(H,At,Jt,ne,de){var xe=1/Math.tan(At/2),Le;return H[0]=xe/Jt,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=xe,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[11]=-1,H[12]=0,H[13]=0,H[15]=0,de!=null&&de!==Infinity?(Le=1/(ne-de),H[10]=(de+ne)*Le,H[14]=2*de*ne*Le):(H[10]=-1,H[14]=-2*ne),H}function Ie(H,At,Jt,ne){var de=Math.tan(At.upDegrees*Math.PI/180),xe=Math.tan(At.downDegrees*Math.PI/180),Le=Math.tan(At.leftDegrees*Math.PI/180),ze=Math.tan(At.rightDegrees*Math.PI/180),$e=2/(Le+ze),nr=2/(de+xe);return H[0]=$e,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=nr,H[6]=0,H[7]=0,H[8]=-((Le-ze)*$e*.5),H[9]=(de-xe)*nr*.5,H[10]=ne/(Jt-ne),H[11]=-1,H[12]=0,H[13]=0,H[14]=ne*Jt/(Jt-ne),H[15]=0,H}function Be(H,At,Jt,ne,de,xe,Le){var ze=1/(At-Jt),$e=1/(ne-de),nr=1/(xe-Le);return H[0]=-2*ze,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=-2*$e,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[10]=2*nr,H[11]=0,H[12]=(At+Jt)*ze,H[13]=(de+ne)*$e,H[14]=(Le+xe)*nr,H[15]=1,H}function Ze(H,At,Jt,ne){var de,xe,Le,ze,$e,nr,rr,Ir,Pr,Or,Zr=At[0],ln=At[1],Dr=At[2],In=ne[0],xa=ne[1],Yn=ne[2],Jn=Jt[0],fa=Jt[1],ua=Jt[2];return Math.abs(Zr-Jn)<C.b&&Math.abs(ln-fa)<C.b&&Math.abs(Dr-ua)<C.b?ot(H):(rr=Zr-Jn,Ir=ln-fa,Pr=Dr-ua,Or=1/Math.hypot(rr,Ir,Pr),rr*=Or,Ir*=Or,Pr*=Or,de=xa*Pr-Yn*Ir,xe=Yn*rr-In*Pr,Le=In*Ir-xa*rr,Or=Math.hypot(de,xe,Le),Or?(Or=1/Or,de*=Or,xe*=Or,Le*=Or):(de=0,xe=0,Le=0),ze=Ir*Le-Pr*xe,$e=Pr*de-rr*Le,nr=rr*xe-Ir*de,Or=Math.hypot(ze,$e,nr),Or?(Or=1/Or,ze*=Or,$e*=Or,nr*=Or):(ze=0,$e=0,nr=0),H[0]=de,H[1]=ze,H[2]=rr,H[3]=0,H[4]=xe,H[5]=$e,H[6]=Ir,H[7]=0,H[8]=Le,H[9]=nr,H[10]=Pr,H[11]=0,H[12]=-(de*Zr+xe*ln+Le*Dr),H[13]=-(ze*Zr+$e*ln+nr*Dr),H[14]=-(rr*Zr+Ir*ln+Pr*Dr),H[15]=1,H)}function we(H,At,Jt,ne){var de=At[0],xe=At[1],Le=At[2],ze=ne[0],$e=ne[1],nr=ne[2],rr=de-Jt[0],Ir=xe-Jt[1],Pr=Le-Jt[2],Or=rr*rr+Ir*Ir+Pr*Pr;Or>0&&(Or=1/Math.sqrt(Or),rr*=Or,Ir*=Or,Pr*=Or);var Zr=$e*Pr-nr*Ir,ln=nr*rr-ze*Pr,Dr=ze*Ir-$e*rr;return Or=Zr*Zr+ln*ln+Dr*Dr,Or>0&&(Or=1/Math.sqrt(Or),Zr*=Or,ln*=Or,Dr*=Or),H[0]=Zr,H[1]=ln,H[2]=Dr,H[3]=0,H[4]=Ir*Dr-Pr*ln,H[5]=Pr*Zr-rr*Dr,H[6]=rr*ln-Ir*Zr,H[7]=0,H[8]=rr,H[9]=Ir,H[10]=Pr,H[11]=0,H[12]=de,H[13]=xe,H[14]=Le,H[15]=1,H}function We(H){return"mat4("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+", "+H[4]+", "+H[5]+", "+H[6]+", "+H[7]+", "+H[8]+", "+H[9]+", "+H[10]+", "+H[11]+", "+H[12]+", "+H[13]+", "+H[14]+", "+H[15]+")"}function Ke(H){return Math.hypot(H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],H[8],H[9],H[10],H[11],H[12],H[13],H[14],H[15])}function cr(H,At,Jt){return H[0]=At[0]+Jt[0],H[1]=At[1]+Jt[1],H[2]=At[2]+Jt[2],H[3]=At[3]+Jt[3],H[4]=At[4]+Jt[4],H[5]=At[5]+Jt[5],H[6]=At[6]+Jt[6],H[7]=At[7]+Jt[7],H[8]=At[8]+Jt[8],H[9]=At[9]+Jt[9],H[10]=At[10]+Jt[10],H[11]=At[11]+Jt[11],H[12]=At[12]+Jt[12],H[13]=At[13]+Jt[13],H[14]=At[14]+Jt[14],H[15]=At[15]+Jt[15],H}function or(H,At,Jt){return H[0]=At[0]-Jt[0],H[1]=At[1]-Jt[1],H[2]=At[2]-Jt[2],H[3]=At[3]-Jt[3],H[4]=At[4]-Jt[4],H[5]=At[5]-Jt[5],H[6]=At[6]-Jt[6],H[7]=At[7]-Jt[7],H[8]=At[8]-Jt[8],H[9]=At[9]-Jt[9],H[10]=At[10]-Jt[10],H[11]=At[11]-Jt[11],H[12]=At[12]-Jt[12],H[13]=At[13]-Jt[13],H[14]=At[14]-Jt[14],H[15]=At[15]-Jt[15],H}function Ce(H,At,Jt){return H[0]=At[0]*Jt,H[1]=At[1]*Jt,H[2]=At[2]*Jt,H[3]=At[3]*Jt,H[4]=At[4]*Jt,H[5]=At[5]*Jt,H[6]=At[6]*Jt,H[7]=At[7]*Jt,H[8]=At[8]*Jt,H[9]=At[9]*Jt,H[10]=At[10]*Jt,H[11]=At[11]*Jt,H[12]=At[12]*Jt,H[13]=At[13]*Jt,H[14]=At[14]*Jt,H[15]=At[15]*Jt,H}function sr(H,At,Jt,ne){return H[0]=At[0]+Jt[0]*ne,H[1]=At[1]+Jt[1]*ne,H[2]=At[2]+Jt[2]*ne,H[3]=At[3]+Jt[3]*ne,H[4]=At[4]+Jt[4]*ne,H[5]=At[5]+Jt[5]*ne,H[6]=At[6]+Jt[6]*ne,H[7]=At[7]+Jt[7]*ne,H[8]=At[8]+Jt[8]*ne,H[9]=At[9]+Jt[9]*ne,H[10]=At[10]+Jt[10]*ne,H[11]=At[11]+Jt[11]*ne,H[12]=At[12]+Jt[12]*ne,H[13]=At[13]+Jt[13]*ne,H[14]=At[14]+Jt[14]*ne,H[15]=At[15]+Jt[15]*ne,H}function ke(H,At){return H[0]===At[0]&&H[1]===At[1]&&H[2]===At[2]&&H[3]===At[3]&&H[4]===At[4]&&H[5]===At[5]&&H[6]===At[6]&&H[7]===At[7]&&H[8]===At[8]&&H[9]===At[9]&&H[10]===At[10]&&H[11]===At[11]&&H[12]===At[12]&&H[13]===At[13]&&H[14]===At[14]&&H[15]===At[15]}function Xe(H,At){var Jt=H[0],ne=H[1],de=H[2],xe=H[3],Le=H[4],ze=H[5],$e=H[6],nr=H[7],rr=H[8],Ir=H[9],Pr=H[10],Or=H[11],Zr=H[12],ln=H[13],Dr=H[14],In=H[15],xa=At[0],Yn=At[1],Jn=At[2],fa=At[3],ua=At[4],Ea=At[5],ei=At[6],bi=At[7],Rn=At[8],mn=At[9],oi=At[10],za=At[11],pa=At[12],Oe=At[13],le=At[14],je=At[15];return Math.abs(Jt-xa)<=C.b*Math.max(1,Math.abs(Jt),Math.abs(xa))&&Math.abs(ne-Yn)<=C.b*Math.max(1,Math.abs(ne),Math.abs(Yn))&&Math.abs(de-Jn)<=C.b*Math.max(1,Math.abs(de),Math.abs(Jn))&&Math.abs(xe-fa)<=C.b*Math.max(1,Math.abs(xe),Math.abs(fa))&&Math.abs(Le-ua)<=C.b*Math.max(1,Math.abs(Le),Math.abs(ua))&&Math.abs(ze-Ea)<=C.b*Math.max(1,Math.abs(ze),Math.abs(Ea))&&Math.abs($e-ei)<=C.b*Math.max(1,Math.abs($e),Math.abs(ei))&&Math.abs(nr-bi)<=C.b*Math.max(1,Math.abs(nr),Math.abs(bi))&&Math.abs(rr-Rn)<=C.b*Math.max(1,Math.abs(rr),Math.abs(Rn))&&Math.abs(Ir-mn)<=C.b*Math.max(1,Math.abs(Ir),Math.abs(mn))&&Math.abs(Pr-oi)<=C.b*Math.max(1,Math.abs(Pr),Math.abs(oi))&&Math.abs(Or-za)<=C.b*Math.max(1,Math.abs(Or),Math.abs(za))&&Math.abs(Zr-pa)<=C.b*Math.max(1,Math.abs(Zr),Math.abs(pa))&&Math.abs(ln-Oe)<=C.b*Math.max(1,Math.abs(ln),Math.abs(Oe))&&Math.abs(Dr-le)<=C.b*Math.max(1,Math.abs(Dr),Math.abs(le))&&Math.abs(In-je)<=C.b*Math.max(1,Math.abs(In),Math.abs(je))}var dr=X,Sr=or,Fr=a("gCNn");function hn(){var H=new C.a(4);return C.a!=Float32Array&&(H[0]=0,H[1]=0,H[2]=0,H[3]=0),H}function yn(H){var At=new C.a(4);return At[0]=H[0],At[1]=H[1],At[2]=H[2],At[3]=H[3],At}function Dn(H,At,Jt,ne){var de=new C.a(4);return de[0]=H,de[1]=At,de[2]=Jt,de[3]=ne,de}function Nn(H,At){return H[0]=At[0],H[1]=At[1],H[2]=At[2],H[3]=At[3],H}function Ia(H,At,Jt,ne,de){return H[0]=At,H[1]=Jt,H[2]=ne,H[3]=de,H}function ba(H,At,Jt){return H[0]=At[0]+Jt[0],H[1]=At[1]+Jt[1],H[2]=At[2]+Jt[2],H[3]=At[3]+Jt[3],H}function Oa(H,At,Jt){return H[0]=At[0]-Jt[0],H[1]=At[1]-Jt[1],H[2]=At[2]-Jt[2],H[3]=At[3]-Jt[3],H}function Wn(H,At,Jt){return H[0]=At[0]*Jt[0],H[1]=At[1]*Jt[1],H[2]=At[2]*Jt[2],H[3]=At[3]*Jt[3],H}function ai(H,At,Jt){return H[0]=At[0]/Jt[0],H[1]=At[1]/Jt[1],H[2]=At[2]/Jt[2],H[3]=At[3]/Jt[3],H}function Va(H,At){return H[0]=Math.ceil(At[0]),H[1]=Math.ceil(At[1]),H[2]=Math.ceil(At[2]),H[3]=Math.ceil(At[3]),H}function ci(H,At){return H[0]=Math.floor(At[0]),H[1]=Math.floor(At[1]),H[2]=Math.floor(At[2]),H[3]=Math.floor(At[3]),H}function Ti(H,At,Jt){return H[0]=Math.min(At[0],Jt[0]),H[1]=Math.min(At[1],Jt[1]),H[2]=Math.min(At[2],Jt[2]),H[3]=Math.min(At[3],Jt[3]),H}function Ui(H,At,Jt){return H[0]=Math.max(At[0],Jt[0]),H[1]=Math.max(At[1],Jt[1]),H[2]=Math.max(At[2],Jt[2]),H[3]=Math.max(At[3],Jt[3]),H}function Bi(H,At){return H[0]=Math.round(At[0]),H[1]=Math.round(At[1]),H[2]=Math.round(At[2]),H[3]=Math.round(At[3]),H}function ia(H,At,Jt){return H[0]=At[0]*Jt,H[1]=At[1]*Jt,H[2]=At[2]*Jt,H[3]=At[3]*Jt,H}function ja(H,At,Jt,ne){return H[0]=At[0]+Jt[0]*ne,H[1]=At[1]+Jt[1]*ne,H[2]=At[2]+Jt[2]*ne,H[3]=At[3]+Jt[3]*ne,H}function Zn(H,At){var Jt=At[0]-H[0],ne=At[1]-H[1],de=At[2]-H[2],xe=At[3]-H[3];return Math.hypot(Jt,ne,de,xe)}function wa(H,At){var Jt=At[0]-H[0],ne=At[1]-H[1],de=At[2]-H[2],xe=At[3]-H[3];return Jt*Jt+ne*ne+de*de+xe*xe}function La(H){var At=H[0],Jt=H[1],ne=H[2],de=H[3];return Math.hypot(At,Jt,ne,de)}function Hn(H){var At=H[0],Jt=H[1],ne=H[2],de=H[3];return At*At+Jt*Jt+ne*ne+de*de}function Sa(H,At){return H[0]=-At[0],H[1]=-At[1],H[2]=-At[2],H[3]=-At[3],H}function Ba(H,At){return H[0]=1/At[0],H[1]=1/At[1],H[2]=1/At[2],H[3]=1/At[3],H}function Pa(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=Jt*Jt+ne*ne+de*de+xe*xe;return Le>0&&(Le=1/Math.sqrt(Le)),H[0]=Jt*Le,H[1]=ne*Le,H[2]=de*Le,H[3]=xe*Le,H}function $n(H,At){return H[0]*At[0]+H[1]*At[1]+H[2]*At[2]+H[3]*At[3]}function Ya(H,At,Jt,ne){var de=Jt[0]*ne[1]-Jt[1]*ne[0],xe=Jt[0]*ne[2]-Jt[2]*ne[0],Le=Jt[0]*ne[3]-Jt[3]*ne[0],ze=Jt[1]*ne[2]-Jt[2]*ne[1],$e=Jt[1]*ne[3]-Jt[3]*ne[1],nr=Jt[2]*ne[3]-Jt[3]*ne[2],rr=At[0],Ir=At[1],Pr=At[2],Or=At[3];return H[0]=Ir*nr-Pr*$e+Or*ze,H[1]=-(rr*nr)+Pr*Le-Or*xe,H[2]=rr*$e-Ir*Le+Or*de,H[3]=-(rr*ze)+Ir*xe-Pr*de,H}function Da(H,At,Jt,ne){var de=At[0],xe=At[1],Le=At[2],ze=At[3];return H[0]=de+ne*(Jt[0]-de),H[1]=xe+ne*(Jt[1]-xe),H[2]=Le+ne*(Jt[2]-Le),H[3]=ze+ne*(Jt[3]-ze),H}function ii(H,At){At=At||1;var Jt,ne,de,xe,Le,ze;do Jt=C.c()*2-1,ne=C.c()*2-1,Le=Jt*Jt+ne*ne;while(Le>=1);do de=C.c()*2-1,xe=C.c()*2-1,ze=de*de+xe*xe;while(ze>=1);var $e=Math.sqrt((1-Le)/ze);return H[0]=At*Jt,H[1]=At*ne,H[2]=At*de*$e,H[3]=At*xe*$e,H}function Qn(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=At[3];return H[0]=Jt[0]*ne+Jt[4]*de+Jt[8]*xe+Jt[12]*Le,H[1]=Jt[1]*ne+Jt[5]*de+Jt[9]*xe+Jt[13]*Le,H[2]=Jt[2]*ne+Jt[6]*de+Jt[10]*xe+Jt[14]*Le,H[3]=Jt[3]*ne+Jt[7]*de+Jt[11]*xe+Jt[15]*Le,H}function Oi(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=Jt[0],ze=Jt[1],$e=Jt[2],nr=Jt[3],rr=nr*ne+ze*xe-$e*de,Ir=nr*de+$e*ne-Le*xe,Pr=nr*xe+Le*de-ze*ne,Or=-Le*ne-ze*de-$e*xe;return H[0]=rr*nr+Or*-Le+Ir*-$e-Pr*-ze,H[1]=Ir*nr+Or*-ze+Pr*-Le-rr*-$e,H[2]=Pr*nr+Or*-$e+rr*-ze-Ir*-Le,H[3]=At[3],H}function Ka(H){return H[0]=0,H[1]=0,H[2]=0,H[3]=0,H}function Na(H){return"vec4("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+")"}function $a(H,At){return H[0]===At[0]&&H[1]===At[1]&&H[2]===At[2]&&H[3]===At[3]}function ni(H,At){var Jt=H[0],ne=H[1],de=H[2],xe=H[3],Le=At[0],ze=At[1],$e=At[2],nr=At[3];return Math.abs(Jt-Le)<=C.b*Math.max(1,Math.abs(Jt),Math.abs(Le))&&Math.abs(ne-ze)<=C.b*Math.max(1,Math.abs(ne),Math.abs(ze))&&Math.abs(de-$e)<=C.b*Math.max(1,Math.abs(de),Math.abs($e))&&Math.abs(xe-nr)<=C.b*Math.max(1,Math.abs(xe),Math.abs(nr))}var Cn=Oa,Ni=Wn,hi=ai,fe=Zn,oe=wa,he=La,Ne=Hn,He=function(){var H=hn();return function(At,Jt,ne,de,xe,Le){var ze,$e;for(Jt||(Jt=4),ne||(ne=0),de?$e=Math.min(de*Jt+ne,At.length):$e=At.length,ze=ne;ze<$e;ze+=Jt)H[0]=At[ze],H[1]=At[ze+1],H[2]=At[ze+2],H[3]=At[ze+3],xe(H,H,Le),At[ze]=H[0],At[ze+1]=H[1],At[ze+2]=H[2],At[ze+3]=H[3];return At}}();function ar(){var H=new C.a(4);return C.a!=Float32Array&&(H[0]=0,H[1]=0,H[2]=0),H[3]=1,H}function Er(H){return H[0]=0,H[1]=0,H[2]=0,H[3]=1,H}function Br(H,At,Jt){Jt=Jt*.5;var ne=Math.sin(Jt);return H[0]=ne*At[0],H[1]=ne*At[1],H[2]=ne*At[2],H[3]=Math.cos(Jt),H}function Ln(H,At){var Jt=Math.acos(At[3])*2,ne=Math.sin(Jt/2);return ne>C.b?(H[0]=At[0]/ne,H[1]=At[1]/ne,H[2]=At[2]/ne):(H[0]=1,H[1]=0,H[2]=0),Jt}function Bn(H,At){var Jt=Mo(H,At);return Math.acos(2*Jt*Jt-1)}function Sn(H,At,Jt){var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=Jt[0],$e=Jt[1],nr=Jt[2],rr=Jt[3];return H[0]=ne*rr+Le*ze+de*nr-xe*$e,H[1]=de*rr+Le*$e+xe*ze-ne*nr,H[2]=xe*rr+Le*nr+ne*$e-de*ze,H[3]=Le*rr-ne*ze-de*$e-xe*nr,H}function Wa(H,At,Jt){Jt*=.5;var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=Math.sin(Jt),$e=Math.cos(Jt);return H[0]=ne*$e+Le*ze,H[1]=de*$e+xe*ze,H[2]=xe*$e-de*ze,H[3]=Le*$e-ne*ze,H}function la(H,At,Jt){Jt*=.5;var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=Math.sin(Jt),$e=Math.cos(Jt);return H[0]=ne*$e-xe*ze,H[1]=de*$e+Le*ze,H[2]=xe*$e+ne*ze,H[3]=Le*$e-de*ze,H}function yi(H,At,Jt){Jt*=.5;var ne=At[0],de=At[1],xe=At[2],Le=At[3],ze=Math.sin(Jt),$e=Math.cos(Jt);return H[0]=ne*$e+de*ze,H[1]=de*$e-ne*ze,H[2]=xe*$e+Le*ze,H[3]=Le*$e-xe*ze,H}function mi(H,At){var Jt=At[0],ne=At[1],de=At[2];return H[0]=Jt,H[1]=ne,H[2]=de,H[3]=Math.sqrt(Math.abs(1-Jt*Jt-ne*ne-de*de)),H}function ji(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=Math.sqrt(Jt*Jt+ne*ne+de*de),ze=Math.exp(xe),$e=Le>0?ze*Math.sin(Le)/Le:0;return H[0]=Jt*$e,H[1]=ne*$e,H[2]=de*$e,H[3]=ze*Math.cos(Le),H}function Xi(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=Math.sqrt(Jt*Jt+ne*ne+de*de),ze=Le>0?Math.atan2(Le,xe)/Le:0;return H[0]=Jt*ze,H[1]=ne*ze,H[2]=de*ze,H[3]=.5*Math.log(Jt*Jt+ne*ne+de*de+xe*xe),H}function uo(H,At,Jt){return Xi(H,At),Uo(H,H,Jt),ji(H,H),H}function Wi(H,At,Jt,ne){var de=At[0],xe=At[1],Le=At[2],ze=At[3],$e=Jt[0],nr=Jt[1],rr=Jt[2],Ir=Jt[3],Pr,Or,Zr,ln,Dr;return Or=de*$e+xe*nr+Le*rr+ze*Ir,Or<0&&(Or=-Or,$e=-$e,nr=-nr,rr=-rr,Ir=-Ir),1-Or>C.b?(Pr=Math.acos(Or),Zr=Math.sin(Pr),ln=Math.sin((1-ne)*Pr)/Zr,Dr=Math.sin(ne*Pr)/Zr):(ln=1-ne,Dr=ne),H[0]=ln*de+Dr*$e,H[1]=ln*xe+Dr*nr,H[2]=ln*Le+Dr*rr,H[3]=ln*ze+Dr*Ir,H}function ge(H){var At=C.c(),Jt=C.c(),ne=C.c(),de=Math.sqrt(1-At),xe=Math.sqrt(At);return H[0]=de*Math.sin(2*Math.PI*Jt),H[1]=de*Math.cos(2*Math.PI*Jt),H[2]=xe*Math.sin(2*Math.PI*ne),H[3]=xe*Math.cos(2*Math.PI*ne),H}function Ki(H,At){var Jt=At[0],ne=At[1],de=At[2],xe=At[3],Le=Jt*Jt+ne*ne+de*de+xe*xe,ze=Le?1/Le:0;return H[0]=-Jt*ze,H[1]=-ne*ze,H[2]=-de*ze,H[3]=xe*ze,H}function qn(H,At){return H[0]=-At[0],H[1]=-At[1],H[2]=-At[2],H[3]=At[3],H}function Xa(H,At){var Jt=At[0]+At[4]+At[8],ne;if(Jt>0)ne=Math.sqrt(Jt+1),H[3]=.5*ne,ne=.5/ne,H[0]=(At[5]-At[7])*ne,H[1]=(At[6]-At[2])*ne,H[2]=(At[1]-At[3])*ne;else{var de=0;At[4]>At[0]&&(de=1),At[8]>At[de*3+de]&&(de=2);var xe=(de+1)%3,Le=(de+2)%3;ne=Math.sqrt(At[de*3+de]-At[xe*3+xe]-At[Le*3+Le]+1),H[de]=.5*ne,ne=.5/ne,H[3]=(At[xe*3+Le]-At[Le*3+xe])*ne,H[xe]=(At[xe*3+de]+At[de*3+xe])*ne,H[Le]=(At[Le*3+de]+At[de*3+Le])*ne}return H}function Ro(H,At,Jt,ne){var de=.5*Math.PI/180;At*=de,Jt*=de,ne*=de;var xe=Math.sin(At),Le=Math.cos(At),ze=Math.sin(Jt),$e=Math.cos(Jt),nr=Math.sin(ne),rr=Math.cos(ne);return H[0]=xe*$e*rr-Le*ze*nr,H[1]=Le*ze*rr+xe*$e*nr,H[2]=Le*$e*nr-xe*ze*rr,H[3]=Le*$e*rr+xe*ze*nr,H}function wo(H){return"quat("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+")"}var Hi=yn,_o=Dn,qo=Nn,ts=Ia,Eo=ba,Go=Sn,Uo=ia,Mo=$n,Wo=Da,go=La,Ws=go,zo=Hn,xs=zo,Bo=Pa,es=$a,zs=ni,Pl=function(){var H=Fr.create(),At=Fr.fromValues(1,0,0),Jt=Fr.fromValues(0,1,0);return function(ne,de,xe){var Le=Fr.dot(de,xe);return Le<-.999999?(Fr.cross(H,At,de),Fr.len(H)<1e-6&&Fr.cross(H,Jt,de),Fr.normalize(H,H),Br(ne,H,Math.PI),ne):Le>.999999?(ne[0]=0,ne[1]=0,ne[2]=0,ne[3]=1,ne):(Fr.cross(H,de,xe),ne[0]=H[0],ne[1]=H[1],ne[2]=H[2],ne[3]=1+Le,Bo(ne,ne))}}(),el=function(){var H=ar(),At=ar();return function(Jt,ne,de,xe,Le,ze){return Wi(H,ne,Le,ze),Wi(At,de,xe,ze),Wi(Jt,H,At,2*ze*(1-ze)),Jt}}(),ys=function(){var H=A();return function(At,Jt,ne,de){return H[0]=ne[0],H[3]=ne[1],H[6]=ne[2],H[1]=de[0],H[4]=de[1],H[7]=de[2],H[2]=-Jt[0],H[5]=-Jt[1],H[8]=-Jt[2],Bo(At,Xa(At,H))}}(),rl=a("d/dq")},"9UY9":function(Ut,L,a){"use strict";a.d(L,"a",function(){return b});var h=a("J+IK"),i=a("d38q"),O=a("ru7r"),x=a("RF2d"),C=Object(x.b)({},i.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1}),A=a("AO+g"),S=a("jg4I"),M=function(g){Object(h.c)(E,g);function E(){return g!==null&&g.apply(this,arguments)||this}return E.prototype.active=function(){var D=this.getView(),p=this.context.event;if(p.data){var N=p.data.items,I=D.geometries.filter(function(G){return G.type==="point"});Object(S.j)(I,function(G){Object(S.j)(G.elements,function(W){var z=Object(S.n)(N,function(w){return w.data===W.data})!==-1;W.setState("active",z)})})}},E.prototype.getView=function(){return this.context.view},E}(A.InteractionAction);Object(A.registerAction)("marker-active",M),Object(A.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var b=function(g){Object(h.c)(E,g);function E(){var D=g!==null&&g.apply(this,arguments)||this;return D.type="line",D}return E.getDefaultOptions=function(){return C},E.prototype.changeData=function(D){this.updateOption({data:D});var p=this,N=p.chart,I=p.options;Object(O.d)({chart:N,options:I}),this.chart.changeData(D)},E.prototype.getDefaultOptions=function(){return E.getDefaultOptions()},E.prototype.getSchemaAdaptor=function(){return O.a},E}(i.b)},"9al/":function(Ut,L,a){"use strict";a.d(L,"a",function(){return Z});var h=a("J+IK"),i=a("d38q"),O=a("ggto"),x=a("RF2d"),C=a("OM6K"),A=a("jg4I"),S={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(ct){return ct.id},source:function(ct){return ct.source},target:function(ct){return ct.target},sourceWeight:function(ct){return ct.value||1},targetWeight:function(ct){return ct.value||1},sortBy:null};function M(et,ct,mt){Object(A.r)(et,function(Ot,it){Ot.inEdges=ct.filter(function(xt){return""+mt.target(xt)==""+it}),Ot.outEdges=ct.filter(function(xt){return""+mt.source(xt)==""+it}),Ot.edges=Ot.outEdges.concat(Ot.inEdges),Ot.frequency=Ot.edges.length,Ot.value=0,Ot.inEdges.forEach(function(xt){Ot.value+=mt.targetWeight(xt)}),Ot.outEdges.forEach(function(xt){Ot.value+=mt.sourceWeight(xt)})})}function b(et,ct){var mt={weight:function(xt,It){return It.value-xt.value},frequency:function(xt,It){return It.frequency-xt.frequency},id:function(xt,It){return(""+ct.id(xt)).localeCompare(""+ct.id(It))}},Ot=mt[ct.sortBy];!Ot&&Object(A.H)(ct.sortBy)&&(Ot=ct.sortBy),Ot&&et.sort(Ot)}function g(et,ct){var mt=et.length;if(!mt)throw new TypeError("Invalid nodes: it's empty!");if(ct.weight){var Ot=ct.nodePaddingRatio;if(Ot<0||Ot>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var it=Ot/(2*mt),xt=ct.nodeWidthRatio;if(xt<=0||xt>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var It=0;et.forEach(function(Kt){It+=Kt.value}),et.forEach(function(Kt){Kt.weight=Kt.value/It,Kt.width=Kt.weight*(1-Ot),Kt.height=xt}),et.forEach(function(Kt,Yt){for(var bt=0,ft=Yt-1;ft>=0;ft--)bt+=et[ft].width+2*it;var dt=Kt.minX=it+bt,ot=Kt.maxX=Kt.minX+Kt.width,Mt=Kt.minY=ct.y-xt/2,Nt=Kt.maxY=Mt+xt;Kt.x=[dt,ot,ot,dt],Kt.y=[Mt,Mt,Nt,Nt]})}else{var zt=1/mt;et.forEach(function(Kt,Yt){Kt.x=(Yt+.5)*zt,Kt.y=ct.y})}return et}function E(et,ct,mt){if(mt.weight){var Ot={};Object(A.r)(et,function(it,xt){Ot[xt]=it.value}),ct.forEach(function(it){var xt=mt.source(it),It=mt.target(it),zt=et[xt],Kt=et[It];if(zt&&Kt){var Yt=Ot[xt],bt=mt.sourceWeight(it),ft=zt.minX+(zt.value-Yt)/zt.value*zt.width,dt=ft+bt/zt.value*zt.width;Ot[xt]-=bt;var ot=Ot[It],Mt=mt.targetWeight(it),Nt=Kt.minX+(Kt.value-ot)/Kt.value*Kt.width,Pt=Nt+Mt/Kt.value*Kt.width;Ot[It]-=Mt;var J=mt.y;it.x=[ft,dt,Nt,Pt],it.y=[J,J,J,J],it.source=zt,it.target=Kt}})}else ct.forEach(function(it){var xt=et[mt.source(it)],It=et[mt.target(it)];xt&&It&&(it.x=[xt.x,It.x],it.y=[xt.y,It.y],it.source=xt,it.target=It)});return ct}function D(et){return Object(A.b)({},S,et)}function p(et,ct){var mt=D(et),Ot={},it=ct.nodes,xt=ct.links;it.forEach(function(Kt){var Yt=mt.id(Kt);Ot[Yt]=Kt}),M(Ot,xt,mt),b(it,mt);var It=g(it,mt),zt=E(Ot,xt,mt);return{nodes:It,links:zt}}var N=a("068J"),I="x",G="y",W="name",z="source",w={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(ct,mt){var Ot=(ct[0]+ct[1])/2,it=Ot>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:it,content:mt}}},tooltip:{fields:["source","target","value"],formatter:function(ct){var mt=ct.source,Ot=ct.target,it=ct.value;return{name:mt+" -> "+Ot,value:it}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function T(et){var ct=et.options,mt=ct.data,Ot=ct.sourceField,it=ct.targetField,xt=ct.weightField,It=ct.nodePaddingRatio,zt=ct.nodeWidthRatio,Kt=Object(N.c)(mt,Ot,it,xt),Yt=p({weight:!0,nodePaddingRatio:It,nodeWidthRatio:zt},Kt),bt=Yt.nodes,ft=Yt.links,dt=bt.map(function(Mt){return{id:Mt.id,x:Mt.x,y:Mt.y,name:Mt.name}}),ot=ft.map(function(Mt){return{source:Mt.source.name,target:Mt.target.name,x:Mt.x,y:Mt.y,value:Mt.value}});return Object(h.a)(Object(h.a)({},et),{ext:Object(h.a)(Object(h.a)({},et.ext),{chordData:{nodesData:dt,edgesData:ot}})})}function B(et){var ct,mt=et.chart;return mt.scale((ct={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},ct[W]={sync:"color"},ct[z]={sync:"color"},ct)),et}function V(et){var ct=et.chart;return ct.axis(!1),et}function $(et){var ct=et.chart;return ct.legend(!1),et}function nt(et){var ct=et.chart;return ct.tooltip({showTitle:!1,showMarkers:!1}),et}function at(et){var ct=et.chart;return ct.coordinate("polar").reflect("y"),et}function st(et){var ct=et.chart,mt=et.options,Ot=et.ext.chordData.nodesData,it=mt.nodeStyle,xt=mt.label,It=ct.createView();return It.data(Ot),Object(C.f)({chart:It,options:{xField:I,yField:G,seriesField:W,polygon:{style:it},label:xt,tooltip:!1}}),et}function tt(et){var ct=et.chart,mt=et.options,Ot=et.ext.chordData.edgesData,it=mt.edgeStyle,xt=mt.tooltip,It=ct.createView();It.data(Ot);var zt={xField:I,yField:G,seriesField:z,edge:{style:it,shape:"arc"},tooltip:xt};return Object(C.b)({chart:It,options:zt}),et}function Q(et){return Object(x.e)(T,at,B,V,$,nt,tt,st,O.c,O.a,O.j)(et)}var Z=function(et){Object(h.c)(ct,et);function ct(){var mt=et!==null&&et.apply(this,arguments)||this;return mt.type="chord",mt}return ct.getDefaultOptions=function(){return w},ct.prototype.getDefaultOptions=function(){return ct.getDefaultOptions()},ct.prototype.getSchemaAdaptor=function(){return Q},ct}(i.b)},"9drk":function(Ut,L){var a=Object.prototype,h=a.hasOwnProperty;function i(O,x){return O!=null&&h.call(O,x)}Ut.exports=i},"9pBU":function(Ut,L,a){"use strict";a.d(L,"e",function(){return w}),a.d(L,"b",function(){return at}),a.d(L,"a",function(){return zt}),a.d(L,"c",function(){return g}),a.d(L,"d",function(){return ot}),a.d(L,"f",function(){return h});var h={};a.r(h),a.d(h,"distance",function(){return x}),a.d(h,"isNumberEqual",function(){return C}),a.d(h,"getBBoxByArray",function(){return A}),a.d(h,"getBBoxRange",function(){return S}),a.d(h,"piMod",function(){return M});function i(Pt){return Math.min.apply(null,Pt)}function O(Pt){return Math.max.apply(null,Pt)}function x(Pt,J,X,vt){var lt=Pt-X,Ct=J-vt;return Math.sqrt(lt*lt+Ct*Ct)}function C(Pt,J){return Math.abs(Pt-J)<.001}function A(Pt,J){var X=i(Pt),vt=i(J),lt=O(Pt),Ct=O(J);return{x:X,y:vt,width:lt-X,height:Ct-vt}}function S(Pt,J,X,vt){return{minX:i([Pt,X]),maxX:O([Pt,X]),minY:i([J,vt]),maxY:O([J,vt])}}function M(Pt){return(Pt+Math.PI*2)%(Math.PI*2)}var b=a("d/dq"),g={box:function(J,X,vt,lt){return A([J,vt],[X,lt])},length:function(J,X,vt,lt){return x(J,X,vt,lt)},pointAt:function(J,X,vt,lt,Ct){return{x:(1-Ct)*J+Ct*vt,y:(1-Ct)*X+Ct*lt}},pointDistance:function(J,X,vt,lt,Ct,Ft){var Wt=(vt-J)*(Ct-J)+(lt-X)*(Ft-X);if(Wt<0)return x(J,X,Ct,Ft);var kt=(vt-J)*(vt-J)+(lt-X)*(lt-X);return Wt>kt?x(vt,lt,Ct,Ft):this.pointToLine(J,X,vt,lt,Ct,Ft)},pointToLine:function(J,X,vt,lt,Ct,Ft){var Wt=[vt-J,lt-X];if(b.exactEquals(Wt,[0,0]))return Math.sqrt((Ct-J)*(Ct-J)+(Ft-X)*(Ft-X));var kt=[-Wt[1],Wt[0]];b.normalize(kt,kt);var jt=[Ct-J,Ft-X];return Math.abs(b.dot(jt,kt))},tangentAngle:function(J,X,vt,lt){return Math.atan2(lt-X,vt-J)}},E=1e-4;function D(Pt,J,X,vt,lt,Ct){var Ft,Wt=Infinity,kt=[X,vt],jt=20;Ct&&Ct>200&&(jt=Ct/10);for(var Y=1/jt,U=Y/10,j=0;j<=jt;j++){var q=j*Y,gt=[lt.apply(null,Pt.concat([q])),lt.apply(null,J.concat([q]))],_=x(kt[0],kt[1],gt[0],gt[1]);_<Wt&&(Ft=q,Wt=_)}if(Ft===0)return{x:Pt[0],y:J[0]};if(Ft===1){var yt=Pt.length;return{x:Pt[yt-1],y:J[yt-1]}}Wt=Infinity;for(var j=0;j<32&&!(U<E);j++){var wt=Ft-U,St=Ft+U,gt=[lt.apply(null,Pt.concat([wt])),lt.apply(null,J.concat([wt]))],_=x(kt[0],kt[1],gt[0],gt[1]);if(wt>=0&&_<Wt)Ft=wt,Wt=_;else{var Dt=[lt.apply(null,Pt.concat([St])),lt.apply(null,J.concat([St]))],Vt=x(kt[0],kt[1],Dt[0],Dt[1]);St<=1&&Vt<Wt?(Ft=St,Wt=Vt):U*=.5}}return{x:lt.apply(null,Pt.concat([Ft])),y:lt.apply(null,J.concat([Ft]))}}function p(Pt,J){for(var X=0,vt=Pt.length,lt=0;lt<vt;lt++){var Ct=Pt[lt],Ft=J[lt],Wt=Pt[(lt+1)%vt],kt=J[(lt+1)%vt];X+=x(Ct,Ft,Wt,kt)}return X/2}function N(Pt,J,X,vt){var lt=1-vt;return lt*lt*Pt+2*vt*lt*J+vt*vt*X}function I(Pt,J,X){var vt=Pt+X-2*J;if(C(vt,0))return[.5];var lt=(Pt-J)/vt;return lt<=1&&lt>=0?[lt]:[]}function G(Pt,J,X,vt){return 2*(1-vt)*(J-Pt)+2*vt*(X-J)}function W(Pt,J,X,vt,lt,Ct,Ft){var Wt=N(Pt,X,lt,Ft),kt=N(J,vt,Ct,Ft),jt=g.pointAt(Pt,J,X,vt,Ft),Y=g.pointAt(X,vt,lt,Ct,Ft);return[[Pt,J,jt.x,jt.y,Wt,kt],[Wt,kt,Y.x,Y.y,lt,Ct]]}function z(Pt,J,X,vt,lt,Ct,Ft){if(Ft===0)return(x(Pt,J,X,vt)+x(X,vt,lt,Ct)+x(Pt,J,lt,Ct))/2;var Wt=W(Pt,J,X,vt,lt,Ct,.5),kt=Wt[0],jt=Wt[1];return kt.push(Ft-1),jt.push(Ft-1),z.apply(null,kt)+z.apply(null,jt)}var w={box:function(J,X,vt,lt,Ct,Ft){var Wt=I(J,vt,Ct)[0],kt=I(X,lt,Ft)[0],jt=[J,Ct],Y=[X,Ft];return Wt!==void 0&&jt.push(N(J,vt,Ct,Wt)),kt!==void 0&&Y.push(N(X,lt,Ft,kt)),A(jt,Y)},length:function(J,X,vt,lt,Ct,Ft){return z(J,X,vt,lt,Ct,Ft,3)},nearestPoint:function(J,X,vt,lt,Ct,Ft,Wt,kt){return D([J,vt,Ct],[X,lt,Ft],Wt,kt,N)},pointDistance:function(J,X,vt,lt,Ct,Ft,Wt,kt){var jt=this.nearestPoint(J,X,vt,lt,Ct,Ft,Wt,kt);return x(jt.x,jt.y,Wt,kt)},interpolationAt:N,pointAt:function(J,X,vt,lt,Ct,Ft,Wt){return{x:N(J,vt,Ct,Wt),y:N(X,lt,Ft,Wt)}},divide:function(J,X,vt,lt,Ct,Ft,Wt){return W(J,X,vt,lt,Ct,Ft,Wt)},tangentAngle:function(J,X,vt,lt,Ct,Ft,Wt){var kt=G(J,vt,Ct,Wt),jt=G(X,lt,Ft,Wt),Y=Math.atan2(jt,kt);return M(Y)}};function T(Pt,J,X,vt,lt){var Ct=1-lt;return Ct*Ct*Ct*Pt+3*J*lt*Ct*Ct+3*X*lt*lt*Ct+vt*lt*lt*lt}function B(Pt,J,X,vt,lt){var Ct=1-lt;return 3*(Ct*Ct*(J-Pt)+2*Ct*lt*(X-J)+lt*lt*(vt-X))}function V(Pt,J,X,vt){var lt=-3*Pt+9*J-9*X+3*vt,Ct=6*Pt-12*J+6*X,Ft=3*J-3*Pt,Wt=[],kt,jt,Y;if(C(lt,0))C(Ct,0)||(kt=-Ft/Ct,kt>=0&&kt<=1&&Wt.push(kt));else{var U=Ct*Ct-4*lt*Ft;C(U,0)?Wt.push(-Ct/(2*lt)):U>0&&(Y=Math.sqrt(U),kt=(-Ct+Y)/(2*lt),jt=(-Ct-Y)/(2*lt),kt>=0&&kt<=1&&Wt.push(kt),jt>=0&&jt<=1&&Wt.push(jt))}return Wt}function $(Pt,J,X,vt,lt,Ct,Ft,Wt,kt){var jt=T(Pt,X,lt,Ft,kt),Y=T(J,vt,Ct,Wt,kt),U=g.pointAt(Pt,J,X,vt,kt),j=g.pointAt(X,vt,lt,Ct,kt),q=g.pointAt(lt,Ct,Ft,Wt,kt),gt=g.pointAt(U.x,U.y,j.x,j.y,kt),_=g.pointAt(j.x,j.y,q.x,q.y,kt);return[[Pt,J,U.x,U.y,gt.x,gt.y,jt,Y],[jt,Y,_.x,_.y,q.x,q.y,Ft,Wt]]}function nt(Pt,J,X,vt,lt,Ct,Ft,Wt,kt){if(kt===0)return p([Pt,X,lt,Ft],[J,vt,Ct,Wt]);var jt=$(Pt,J,X,vt,lt,Ct,Ft,Wt,.5),Y=jt[0],U=jt[1];return Y.push(kt-1),U.push(kt-1),nt.apply(null,Y)+nt.apply(null,U)}var at={extrema:V,box:function(J,X,vt,lt,Ct,Ft,Wt,kt){for(var jt=[J,Wt],Y=[X,kt],U=V(J,vt,Ct,Wt),j=V(X,lt,Ft,kt),q=0;q<U.length;q++)jt.push(T(J,vt,Ct,Wt,U[q]));for(var q=0;q<j.length;q++)Y.push(T(X,lt,Ft,kt,j[q]));return A(jt,Y)},length:function(J,X,vt,lt,Ct,Ft,Wt,kt){return nt(J,X,vt,lt,Ct,Ft,Wt,kt,3)},nearestPoint:function(J,X,vt,lt,Ct,Ft,Wt,kt,jt,Y,U){return D([J,vt,Ct,Wt],[X,lt,Ft,kt],jt,Y,T,U)},pointDistance:function(J,X,vt,lt,Ct,Ft,Wt,kt,jt,Y,U){var j=this.nearestPoint(J,X,vt,lt,Ct,Ft,Wt,kt,jt,Y,U);return x(j.x,j.y,jt,Y)},interpolationAt:T,pointAt:function(J,X,vt,lt,Ct,Ft,Wt,kt,jt){return{x:T(J,vt,Ct,Wt,jt),y:T(X,lt,Ft,kt,jt)}},divide:function(J,X,vt,lt,Ct,Ft,Wt,kt,jt){return $(J,X,vt,lt,Ct,Ft,Wt,kt,jt)},tangentAngle:function(J,X,vt,lt,Ct,Ft,Wt,kt,jt){var Y=B(J,vt,Ct,Wt,jt),U=B(X,lt,Ft,kt,jt);return M(Math.atan2(U,Y))}};function st(Pt,J){var X=Math.abs(Pt);return J>0?X:X*-1}var tt={box:function(J,X,vt,lt){return{x:J-vt,y:X-lt,width:vt*2,height:lt*2}},length:function(J,X,vt,lt){return Math.PI*(3*(vt+lt)-Math.sqrt((3*vt+lt)*(vt+3*lt)))},nearestPoint:function(J,X,vt,lt,Ct,Ft){var Wt=vt,kt=lt;if(Wt===0||kt===0)return{x:J,y:X};for(var jt=Ct-J,Y=Ft-X,U=Math.abs(jt),j=Math.abs(Y),q=Wt*Wt,gt=kt*kt,_=Math.PI/4,yt,wt,St=0;St<4;St++){yt=Wt*Math.cos(_),wt=kt*Math.sin(_);var Dt=(q-gt)*Math.pow(Math.cos(_),3)/Wt,Vt=(gt-q)*Math.pow(Math.sin(_),3)/kt,Qt=yt-Dt,ee=wt-Vt,se=U-Dt,ye=j-Vt,Ie=Math.hypot(ee,Qt),Be=Math.hypot(ye,se),Ze=Ie*Math.asin((Qt*ye-ee*se)/(Ie*Be)),we=Ze/Math.sqrt(q+gt-yt*yt-wt*wt);_+=we,_=Math.min(Math.PI/2,Math.max(0,_))}return{x:J+st(yt,jt),y:X+st(wt,Y)}},pointDistance:function(J,X,vt,lt,Ct,Ft){var Wt=this.nearestPoint(J,X,vt,lt,Ct,Ft);return x(Wt.x,Wt.y,Ct,Ft)},pointAt:function(J,X,vt,lt,Ct){var Ft=2*Math.PI*Ct;return{x:J+vt*Math.cos(Ft),y:X+lt*Math.sin(Ft)}},tangentAngle:function(J,X,vt,lt,Ct){var Ft=2*Math.PI*Ct,Wt=Math.atan2(lt*Math.cos(Ft),-vt*Math.sin(Ft));return M(Wt)}};function Q(Pt,J,X,vt,lt,Ct,Ft,Wt){return-1*X*Math.cos(lt)*Math.sin(Wt)-vt*Math.sin(lt)*Math.cos(Wt)}function Z(Pt,J,X,vt,lt,Ct,Ft,Wt){return-1*X*Math.sin(lt)*Math.sin(Wt)+vt*Math.cos(lt)*Math.cos(Wt)}function et(Pt,J,X){return Math.atan(-J/Pt*Math.tan(X))}function ct(Pt,J,X){return Math.atan(J/(Pt*Math.tan(X)))}function mt(Pt,J,X,vt,lt,Ct){return X*Math.cos(lt)*Math.cos(Ct)-vt*Math.sin(lt)*Math.sin(Ct)+Pt}function Ot(Pt,J,X,vt,lt,Ct){return X*Math.sin(lt)*Math.cos(Ct)+vt*Math.cos(lt)*Math.sin(Ct)+J}function it(Pt,J,X,vt){var lt=Math.atan2(vt*Pt,X*J);return(lt+Math.PI*2)%(Math.PI*2)}function xt(Pt,J,X){return{x:Pt*Math.cos(X),y:J*Math.sin(X)}}function It(Pt,J,X){var vt=Math.cos(X),lt=Math.sin(X);return[Pt*vt-J*lt,Pt*lt+J*vt]}var zt={box:function(J,X,vt,lt,Ct,Ft,Wt){for(var kt=et(vt,lt,Ct),jt=Infinity,Y=-Infinity,U=[Ft,Wt],j=-Math.PI*2;j<=Math.PI*2;j+=Math.PI){var q=kt+j;Ft<Wt?Ft<q&&q<Wt&&U.push(q):Wt<q&&q<Ft&&U.push(q)}for(var j=0;j<U.length;j++){var gt=mt(J,X,vt,lt,Ct,U[j]);gt<jt&&(jt=gt),gt>Y&&(Y=gt)}for(var _=ct(vt,lt,Ct),yt=Infinity,wt=-Infinity,St=[Ft,Wt],j=-Math.PI*2;j<=Math.PI*2;j+=Math.PI){var Dt=_+j;Ft<Wt?Ft<Dt&&Dt<Wt&&St.push(Dt):Wt<Dt&&Dt<Ft&&St.push(Dt)}for(var j=0;j<St.length;j++){var Vt=Ot(J,X,vt,lt,Ct,St[j]);Vt<yt&&(yt=Vt),Vt>wt&&(wt=Vt)}return{x:jt,y:yt,width:Y-jt,height:wt-yt}},length:function(J,X,vt,lt,Ct,Ft,Wt){},nearestPoint:function(J,X,vt,lt,Ct,Ft,Wt,kt,jt){var Y=It(kt-J,jt-X,-Ct),U=Y[0],j=Y[1],q=tt.nearestPoint(0,0,vt,lt,U,j),gt=it(vt,lt,q.x,q.y);gt<Ft?q=xt(vt,lt,Ft):gt>Wt&&(q=xt(vt,lt,Wt));var _=It(q.x,q.y,Ct);return{x:_[0]+J,y:_[1]+X}},pointDistance:function(J,X,vt,lt,Ct,Ft,Wt,kt,jt){var Y=this.nearestPoint(J,X,vt,lt,kt,jt);return x(Y.x,Y.y,kt,jt)},pointAt:function(J,X,vt,lt,Ct,Ft,Wt,kt){var jt=(Wt-Ft)*kt+Ft;return{x:mt(J,X,vt,lt,Ct,jt),y:Ot(J,X,vt,lt,Ct,jt)}},tangentAngle:function(J,X,vt,lt,Ct,Ft,Wt,kt){var jt=(Wt-Ft)*kt+Ft,Y=Q(J,X,vt,lt,Ct,Ft,Wt,jt),U=Z(J,X,vt,lt,Ct,Ft,Wt,jt);return M(Math.atan2(U,Y))}};function Kt(Pt){for(var J=0,X=[],vt=0;vt<Pt.length-1;vt++){var lt=Pt[vt],Ct=Pt[vt+1],Ft=x(lt[0],lt[1],Ct[0],Ct[1]),Wt={from:lt,to:Ct,length:Ft};X.push(Wt),J+=Ft}return{segments:X,totalLength:J}}function Yt(Pt){if(Pt.length<2)return 0;for(var J=0,X=0;X<Pt.length-1;X++){var vt=Pt[X],lt=Pt[X+1];J+=x(vt[0],vt[1],lt[0],lt[1])}return J}function bt(Pt,J){if(J>1||J<0||Pt.length<2)return null;var X=Kt(Pt),vt=X.segments,lt=X.totalLength;if(lt===0)return{x:Pt[0][0],y:Pt[0][1]};for(var Ct=0,Ft=null,Wt=0;Wt<vt.length;Wt++){var kt=vt[Wt],jt=kt.from,Y=kt.to,U=kt.length/lt;if(J>=Ct&&J<=Ct+U){var j=(J-Ct)/U;Ft=g.pointAt(jt[0],jt[1],Y[0],Y[1],j);break}Ct+=U}return Ft}function ft(Pt,J){if(J>1||J<0||Pt.length<2)return 0;for(var X=Kt(Pt),vt=X.segments,lt=X.totalLength,Ct=0,Ft=0,Wt=0;Wt<vt.length;Wt++){var kt=vt[Wt],jt=kt.from,Y=kt.to,U=kt.length/lt;if(J>=Ct&&J<=Ct+U){Ft=Math.atan2(Y[1]-jt[1],Y[0]-jt[0]);break}Ct+=U}return Ft}function dt(Pt,J,X){for(var vt=Infinity,lt=0;lt<Pt.length-1;lt++){var Ct=Pt[lt],Ft=Pt[lt+1],Wt=g.pointDistance(Ct[0],Ct[1],Ft[0],Ft[1],J,X);Wt<vt&&(vt=Wt)}return vt}var ot={box:function(J){for(var X=[],vt=[],lt=0;lt<J.length;lt++){var Ct=J[lt];X.push(Ct[0]),vt.push(Ct[1])}return A(X,vt)},length:function(J){return Yt(J)},pointAt:function(J,X){return bt(J,X)},pointDistance:function(J,X,vt){return dt(J,X,vt)},tangentAngle:function(J,X){return ft(J,X)}};function Mt(Pt){var J=Pt.slice(0);return Pt.length&&J.push(Pt[0]),J}var Nt={box:function(J){return ot.box(J)},length:function(J){return Yt(Mt(J))},pointAt:function(J,X){return bt(Mt(J),X)},pointDistance:function(J,X,vt){return dt(Mt(J),X,vt)},tangentAngle:function(J,X){return ft(Mt(J),X)}}},"9xKD":function(Ut,L,a){"use strict";var h=a("XSdR");Ut.exports={longestPath:i,slack:O};function i(x){var C={};function A(S){var M=x.node(S);if(h.has(C,S))return M.rank;C[S]=!0;var b=h.min(h.map(x.outEdges(S),function(g){return A(g.w)-x.edge(g).minlen}));return(b===Number.POSITIVE_INFINITY||b===void 0||b===null)&&(b=0),M.rank=b}h.forEach(x.sources(),A)}function O(x,C){return x.node(C.w).rank-x.node(C.v).rank-x.edge(C).minlen}},A2sQ:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.createSensor=void 0;var h=a("PJ1B"),i=a("BF5W"),O=typeof ResizeObserver!="undefined"?i.createSensor:h.createSensor;L.createSensor=O},AKnH:function(Ut,L,a){"use strict";a.d(L,"a",function(){return Kt});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("viI4"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("2Asv"),g=a.n(b),E=a("PVp4"),D=a.n(E),p=a("e6Zy"),N=a.n(p),I=a("99LQ"),G=a("me+i"),W=a.n(G),z=a("XN3X"),w=a("c5gd"),T=a("60wz"),B,V,$,nt,at,st,tt,Q,Z,et,ct,mt,Ot,it;function xt(Yt,bt){var ft;if(typeof Symbol=="undefined"||Yt[Symbol.iterator]==null){if(Array.isArray(Yt)||(ft=It(Yt))||bt&&Yt&&typeof Yt.length=="number"){ft&&(Yt=ft);var dt=0,ot=function(){};return{s:ot,n:function(){return dt>=Yt.length?{done:!0}:{done:!1,value:Yt[dt++]}},e:function(X){throw X},f:ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mt=!0,Nt=!1,Pt;return{s:function(){ft=Yt[Symbol.iterator]()},n:function(){var X=ft.next();return Mt=X.done,X},e:function(X){Nt=!0,Pt=X},f:function(){try{!Mt&&ft.return!=null&&ft.return()}finally{if(Nt)throw Pt}}}}function It(Yt,bt){if(!!Yt){if(typeof Yt=="string")return zt(Yt,bt);var ft=Object.prototype.toString.call(Yt).slice(8,-1);if(ft==="Object"&&Yt.constructor&&(ft=Yt.constructor.name),ft==="Map"||ft==="Set")return Array.from(Yt);if(ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ft))return zt(Yt,bt)}}function zt(Yt,bt){(bt==null||bt>Yt.length)&&(bt=Yt.length);for(var ft=0,dt=new Array(bt);ft<bt;ft++)dt[ft]=Yt[ft];return dt}var Kt=(B=Object(G.injectable)(),V=Object(G.inject)(z.a.MeshComponentManager),$=Object(G.inject)(z.a.CullableComponentManager),nt=Object(G.inject)(z.a.GeometryComponentManager),at=Object(G.inject)(z.a.HierarchyComponentManager),st=Object(G.inject)(z.a.TransformComponentManager),B(tt=(Q=(it=function(){function Yt(){M()(this,Yt),A()(this,"mesh",Z,this),A()(this,"cullable",et,this),A()(this,"geometry",ct,this),A()(this,"hierarchy",mt,this),A()(this,"transform",Ot,this),this.planes=void 0}return g()(Yt,[{key:"setFrustumPlanes",value:function(ft){this.planes=ft}},{key:"execute",value:function(){var bt=x()(i.a.mark(function dt(ot){var Mt,Nt,Pt,J,X,vt,lt,Ct,Ft,Wt,kt,jt,Y,U,j,q,gt,_,yt,wt,St;return i.a.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:Mt=xt(ot);try{for(Mt.s();!(Nt=Mt.n()).done;){Pt=Nt.value,J=Pt.getScene(),X=Pt.getCamera(),vt=xt(J.getEntities());try{for(vt.s();!(lt=vt.n()).done;)Ct=lt.value,Ft=this.mesh.getComponentByEntity(Ct),Ft&&(Wt=this.hierarchy.getComponentByEntity(Ct),kt=this.cullable.getComponentByEntity(Ct),jt=Ft.geometry,Y=this.transform.getComponentByEntity(Ct),jt&&jt.aabb&&Y&&Ft.aabbDirty&&(U=Y.worldTransform,j=jt.aabb,q=j.center,gt=j.halfExtents,_=I.e.transformMat4(I.e.create(),q,U),yt=Object(T.b)(U,I.a.create()),wt=I.e.transformMat3(I.e.create(),gt,yt),Ft.aabb.update(_,wt),Ft.aabbDirty=!1),kt&&jt&&(St=this.cullable.getComponentByEntity((Wt==null?void 0:Wt.parentID)||-1),kt.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(Ft.aabb,(St==null?void 0:St.visibilityPlaneMask)||w.b.INDETERMINATE,this.planes||X.getFrustum().planes),kt.visible=kt.visibilityPlaneMask!==w.b.OUTSIDE))}catch(Qt){vt.e(Qt)}finally{vt.f()}}}catch(Qt){Mt.e(Qt)}finally{Mt.f()}case 2:case"end":return Vt.stop()}},dt,this)}));function ft(dt){return bt.apply(this,arguments)}return ft}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(ft,dt,ot){if(dt===w.b.OUTSIDE||dt===w.b.INSIDE)return dt;for(var Mt=w.b.INSIDE,Nt=0,Pt=ot.length;Nt<Pt;++Nt){var J=Nt<31?1<<Nt:0;if(!(Nt<31&&(dt&J)==0)){var X=ot[Nt],vt=X.normal,lt=X.distance;if(I.e.dot(vt,ft.getNegativeFarPoint(ot[Nt]))+lt>0)return w.b.OUTSIDE;I.e.dot(vt,ft.getPositiveFarPoint(ot[Nt]))+lt>0&&(Mt|=J)}}return Mt}}]),Yt}(),it),Z=D()(Q.prototype,"mesh",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=D()(Q.prototype,"cullable",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=D()(Q.prototype,"geometry",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=D()(Q.prototype,"hierarchy",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=D()(Q.prototype,"transform",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q))||tt)},AM3p:function(Ut,L,a){"use strict";var h=a("XSdR");Ut.exports={adjust:i,undo:O};function i(g){var E=g.graph().rankdir.toLowerCase();(E==="lr"||E==="rl")&&x(g)}function O(g){var E=g.graph().rankdir.toLowerCase();(E==="bt"||E==="rl")&&A(g),(E==="lr"||E==="rl")&&(M(g),x(g))}function x(g){h.forEach(g.nodes(),function(E){C(g.node(E))}),h.forEach(g.edges(),function(E){C(g.edge(E))})}function C(g){var E=g.width;g.width=g.height,g.height=E}function A(g){h.forEach(g.nodes(),function(E){S(g.node(E))}),h.forEach(g.edges(),function(E){var D=g.edge(E);h.forEach(D.points,S),h.has(D,"y")&&S(D)})}function S(g){g.y=-g.y}function M(g){h.forEach(g.nodes(),function(E){b(g.node(E))}),h.forEach(g.edges(),function(E){var D=g.edge(E);h.forEach(D.points,b),h.has(D,"x")&&b(D)})}function b(g){var E=g.x;g.x=g.y,g.y=E}},ANdP:function(Ut,L,a){"use strict";var h=a("/WN3"),i=a("jg4I"),O=a("5Kaj"),x=function(C){Object(h.b)(A,C);function A(){return C!==null&&C.apply(this,arguments)||this}return A.prototype.process=function(S){var M=i.q(S),b=this,g=b.xField,E=b.yField,D=this.getXValuesMaxMap(M),p=Math.max.apply(Math,Object.keys(D).map(function(N){return D[N]}));return i.U(S,function(N){return i.U(N,function(I){var G,W,z=I[E],w=I[g];if(i.B(z)){var T=(p-D[w])/2;return Object(h.a)(Object(h.a)({},I),(G={},G[E]=i.U(z,function(V){return T+V}),G))}var B=(p-z)/2;return Object(h.a)(Object(h.a)({},I),(W={},W[E]=[B,z+B],W))})})},A.prototype.getXValuesMaxMap=function(S){var M=this,b=this,g=b.xField,E=b.yField,D=i.v(S,function(p){return p[g]});return i.V(D,function(p){return M.getDimMaxValue(p,E)})},A.prototype.getDimMaxValue=function(S,M){var b=i.U(S,function(E){return i.s(E,M,[])}),g=i.q(b);return Math.max.apply(Math,g)},A}(O.a);L.a=x},"AO+g":function(Ut,L,a){"use strict";a.r(L),a.d(L,"VIEW_LIFE_CIRCLE",function(){return S}),a.d(L,"VERSION",function(){return _u}),a.d(L,"Chart",function(){return ra}),a.d(L,"View",function(){return Bc}),a.d(L,"Event",function(){return So}),a.d(L,"ComponentController",function(){return ks}),a.d(L,"TooltipController",function(){return su}),a.d(L,"Geometry",function(){return us}),a.d(L,"Element",function(){return cu}),a.d(L,"GeometryLabel",function(){return As}),a.d(L,"Interaction",function(){return el}),a.d(L,"Action",function(){return Qn}),a.d(L,"Facet",function(){return Pa}),a.d(L,"InteractionAction",function(){return Qn}),a.d(L,"registerComponentController",function(){return br}),a.d(L,"registerGeometry",function(){return ns}),a.d(L,"registerShape",function(){return Mi}),a.d(L,"registerShapeFactory",function(){return ms}),a.d(L,"getShapeFactory",function(){return Ff}),a.d(L,"registerGeometryLabel",function(){return Xs}),a.d(L,"registerGeometryLabelLayout",function(){return Co}),a.d(L,"getGeometryLabel",function(){return Yu}),a.d(L,"getGeometryLabelLayout",function(){return hu}),a.d(L,"getInteraction",function(){return de}),a.d(L,"registerInteraction",function(){return xe}),a.d(L,"registerAction",function(){return Cn}),a.d(L,"getActionClass",function(){return ni}),a.d(L,"getFacet",function(){return Ya}),a.d(L,"registerFacet",function(){return Da}),a.d(L,"getTheme",function(){return Yn}),a.d(L,"registerTheme",function(){return Jn}),a.d(L,"registerEngine",function(){return z}),a.d(L,"getEngine",function(){return W}),a.d(L,"registerAnimation",function(){return ao}),a.d(L,"getAnimation",function(){return Vs}),a.d(L,"LAYER",function(){return O}),a.d(L,"DIRECTION",function(){return x}),a.d(L,"Coordinate",function(){return lt}),a.d(L,"Scale",function(){return Mt.c}),a.d(L,"Util",function(){return Ys});var h=a("J+IK"),i=a("jg4I"),O;(function(v){v.FORE="fore",v.MID="mid",v.BG="bg"})(O||(O={}));var x;(function(v){v.TOP="top",v.TOP_LEFT="top-left",v.TOP_RIGHT="top-right",v.RIGHT="right",v.RIGHT_TOP="right-top",v.RIGHT_BOTTOM="right-bottom",v.LEFT="left",v.LEFT_TOP="left-top",v.LEFT_BOTTOM="left-bottom",v.BOTTOM="bottom",v.BOTTOM_LEFT="bottom-left",v.BOTTOM_RIGHT="bottom-right",v.RADIUS="radius",v.CIRCLE="circle",v.NONE="none"})(x||(x={}));var C;(function(v){v.AXIS="axis",v.GRID="grid",v.LEGEND="legend",v.TOOLTIP="tooltip",v.ANNOTATION="annotation",v.SLIDER="slider",v.SCROLLBAR="scrollbar",v.OTHER="other"})(C||(C={}));var A={FORE:3,MID:2,BG:1},S;(function(v){v.BEFORE_RENDER="beforerender",v.AFTER_RENDER="afterrender",v.BEFORE_PAINT="beforepaint",v.AFTER_PAINT="afterpaint",v.BEFORE_CHANGE_DATA="beforechangedata",v.AFTER_CHANGE_DATA="afterchangedata",v.BEFORE_CLEAR="beforeclear",v.AFTER_CLEAR="afterclear",v.BEFORE_DESTROY="beforedestroy",v.BEFORE_CHANGE_SIZE="beforechangesize",v.AFTER_CHANGE_SIZE="afterchangesize"})(S||(S={}));var M;(function(v){v.BEFORE_DRAW_ANIMATE="beforeanimate",v.AFTER_DRAW_ANIMATE="afteranimate"})(M||(M={}));var b;(function(v){v.MOUSE_ENTER="plot:mouseenter",v.MOUSE_DOWN="plot:mousedown",v.MOUSE_MOVE="plot:mousemove",v.MOUSE_UP="plot:mouseup",v.MOUSE_LEAVE="plot:mouseleave",v.TOUCH_START="plot:touchstart",v.TOUCH_MOVE="plot:touchmove",v.TOUCH_END="plot:touchend",v.TOUCH_CANCEL="plot:touchcancel",v.CLICK="plot:click",v.DBLCLICK="plot:dblclick",v.CONTEXTMENU="plot:contextmenu",v.LEAVE="plot:leave",v.ENTER="plot:enter"})(b||(b={}));var g;(function(v){v.ACTIVE="active",v.INACTIVE="inactive",v.SELECTED="selected",v.DEFAULT="default"})(g||(g={}));var E=["color","shape","size"],D="_origin",p=1,N=1,I=.25,G={};function W(v){var f=G[v];if(!f)throw new Error("G engine '"+v+"' is not exist, please register it at first.");return f}function z(v,f){G[v]=f}var w=a("m8xh");function T(v){var f=getComputedStyle(v);return{width:(v.clientWidth||parseInt(f.width,10))-parseInt(f.paddingLeft,10)-parseInt(f.paddingRight,10),height:(v.clientHeight||parseInt(f.height,10))-parseInt(f.paddingTop,10)-parseInt(f.paddingBottom,10)}}function B(v){return typeof v=="number"&&!isNaN(v)}function V(v,f,s,c){var m=s,R=c;if(f){var K=T(v);m=K.width?K.width:m,R=K.height?K.height:R}return{width:Math.max(B(m)?m:p,p),height:Math.max(B(R)?R:N,N)}}function $(v){var f=v.parentNode;f&&f.removeChild(v)}var nt=a("nZiY"),at=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this)||this;c.destroyed=!1;var m=s.visible,R=m===void 0?!0:m;return c.visible=R,c}return f.prototype.show=function(){var s=this.visible;s||this.changeVisible(!0)},f.prototype.hide=function(){var s=this.visible;s&&this.changeVisible(!1)},f.prototype.destroy=function(){this.off(),this.destroyed=!0},f.prototype.changeVisible=function(s){this.visible!==s&&(this.visible=s)},f}(nt.a),st=at,tt=a("xXxO"),Q=a("Q55c"),Z=function(f,s){return Object(i.O)(s)?s:f.invert(f.scale(s))},et=function(){function v(f){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(f)}return v.prototype.mapping=function(){for(var f=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var m=s.map(function(R,K){return f._toOriginParam(R,f.scales[K])});return this.callback.apply(this,m)},v.prototype.getLinearValue=function(f){var s=this.values.length-1,c=Math.floor(s*f),m=s*f-c,R=this.values[c],K=c===s?R:this.values[c+1];return R+(K-R)*m},v.prototype.getNames=function(){for(var f=this.scales,s=this.names,c=Math.min(f.length,s.length),m=[],R=0;R<c;R+=1)m.push(s[R]);return m},v.prototype.getFields=function(){return this.scales.map(function(f){return f.field})},v.prototype.getScale=function(f){return this.scales[this.names.indexOf(f)]},v.prototype.defaultCallback=function(){for(var f=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return s.length===0?this.values:s.map(function(m,R){var K=f.scales[R];return K.type==="identity"?K.values[0]:f._getAttributeValue(K,m)})},v.prototype._parseCfg=function(f){var s=this,c=f.type,m=c===void 0?"base":c,R=f.names,K=R===void 0?[]:R,ht=f.scales,Tt=ht===void 0?[]:ht,Bt=f.values,Ht=Bt===void 0?[]:Bt,$t=f.callback;this.type=m,this.scales=Tt,this.values=Ht,this.names=K,this.callback=function(){for(var te=[],re=0;re<arguments.length;re++)te[re]=arguments[re];if($t){var ve=$t.apply(void 0,te);if(!Object(i.I)(ve))return[ve]}return s.defaultCallback.apply(s,te)}},v.prototype._getAttributeValue=function(f,s){if(f.isCategory&&!this.linear){var c=f.translate(s);return this.values[c%this.values.length]}var m=f.scale(s);return this.getLinearValue(m)},v.prototype._toOriginParam=function(f,s){return s.isLinear?f:Object(i.B)(f)?f.map(function(c){return Z(s,c)}):Z(s,f)},v}(),ct=et,mt=a("/WN3"),Ot=a("viQC"),it=function(v){Object(mt.b)(f,v);function f(s){var c=v.call(this,s)||this;return c.type="color",c.names=["color"],Object(i.O)(c.values)&&(c.linear=!0),c.gradient=Ot.a.gradient(c.values),c}return f.prototype.getLinearValue=function(s){return this.gradient(s)},f}(ct),xt=it,It=function(v){Object(mt.b)(f,v);function f(s){var c=v.call(this,s)||this;return c.type="opacity",c.names=["opacity"],c}return f}(ct),zt=It,Kt=function(v){Object(mt.b)(f,v);function f(s){var c=v.call(this,s)||this;return c.names=["x","y"],c.type="position",c}return f.prototype.mapping=function(s,c){var m=this.scales,R=m[0],K=m[1];return Object(i.I)(s)||Object(i.I)(c)?[]:[Object(i.B)(s)?s.map(function(ht){return R.scale(ht)}):R.scale(s),Object(i.B)(c)?c.map(function(ht){return K.scale(ht)}):K.scale(c)]},f}(ct),Yt=Kt,bt=function(v){Object(mt.b)(f,v);function f(s){var c=v.call(this,s)||this;return c.type="shape",c.names=["shape"],c}return f.prototype.getLinearValue=function(s){var c=Math.round((this.values.length-1)*s);return this.values[c]},f}(ct),ft=bt,dt=function(v){Object(mt.b)(f,v);function f(s){var c=v.call(this,s)||this;return c.type="size",c.names=["size"],c}return f}(ct),ot=dt,Mt=a("rI2c"),Nt={},Pt=function(f){return Nt[f.toLowerCase()]},J=function(f,s){if(Pt(f))throw new Error("Attribute type '"+f+"' existed.");Nt[f.toLowerCase()]=s};J("Color",xt),J("Opacity",zt),J("Position",Yt),J("Shape",ft),J("Size",ot);var X=a("sxZn"),vt=function(){function v(f){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var s=f.start,c=f.end,m=f.matrix,R=m===void 0?[1,0,0,0,1,0,0,0,1]:m,K=f.isTransposed,ht=K===void 0?!1:K;this.start=s,this.end=c,this.matrix=R,this.originalMatrix=Object(h.f)([],R),this.isTransposed=ht}return v.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},v.prototype.update=function(f){Object(i.b)(this,f),this.initial()},v.prototype.convertDim=function(f,s){var c,m=this[s],R=m.start,K=m.end;return this.isReflect(s)&&(c=[K,R],R=c[0],K=c[1]),R+f*(K-R)},v.prototype.invertDim=function(f,s){var c,m=this[s],R=m.start,K=m.end;return this.isReflect(s)&&(c=[K,R],R=c[0],K=c[1]),(f-R)/(K-R)},v.prototype.applyMatrix=function(f,s,c){c===void 0&&(c=0);var m=this.matrix,R=[f,s,c];return X.d.transformMat3(R,R,m),R},v.prototype.invertMatrix=function(f,s,c){c===void 0&&(c=0);var m=this.matrix,R=X.b.invert([0,0,0,0,0,0,0,0,0],m),K=[f,s,c];return R&&X.d.transformMat3(K,K,R),K},v.prototype.convert=function(f){var s=this.convertPoint(f),c=s.x,m=s.y,R=this.applyMatrix(c,m,1);return{x:R[0],y:R[1]}},v.prototype.invert=function(f){var s=this.invertMatrix(f.x,f.y,1);return this.invertPoint({x:s[0],y:s[1]})},v.prototype.rotate=function(f){var s=this.matrix,c=this.center;return X.a.leftTranslate(s,s,[-c.x,-c.y]),X.a.leftRotate(s,s,f),X.a.leftTranslate(s,s,[c.x,c.y]),this},v.prototype.reflect=function(f){return f==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},v.prototype.scale=function(f,s){var c=this.matrix,m=this.center;return X.a.leftTranslate(c,c,[-m.x,-m.y]),X.a.leftScale(c,c,[f,s]),X.a.leftTranslate(c,c,[m.x,m.y]),this},v.prototype.translate=function(f,s){var c=this.matrix;return X.a.leftTranslate(c,c,[f,s]),this},v.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},v.prototype.getCenter=function(){return this.center},v.prototype.getWidth=function(){return this.width},v.prototype.getHeight=function(){return this.height},v.prototype.getRadius=function(){return this.radius},v.prototype.isReflect=function(f){return f==="x"?this.isReflectX:this.isReflectY},v.prototype.resetMatrix=function(f){this.matrix=f||Object(h.f)([],this.originalMatrix)},v}(),lt=vt,Ct=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;return c.isRect=!0,c.type="cartesian",c.initial(),c}return f.prototype.initial=function(){v.prototype.initial.call(this);var s=this.start,c=this.end;this.x={start:s.x,end:c.x},this.y={start:s.y,end:c.y}},f.prototype.convertPoint=function(s){var c,m=s.x,R=s.y;return this.isTransposed&&(c=[R,m],m=c[0],R=c[1]),{x:this.convertDim(m,"x"),y:this.convertDim(R,"y")}},f.prototype.invertPoint=function(s){var c,m=this.invertDim(s.x,"x"),R=this.invertDim(s.y,"y");return this.isTransposed&&(c=[R,m],m=c[0],R=c[1]),{x:m,y:R}},f}(lt),Ft=Ct,Wt=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.isHelix=!0,c.type="helix";var m=s.startAngle,R=m===void 0?1.25*Math.PI:m,K=s.endAngle,ht=K===void 0?7.25*Math.PI:K,Tt=s.innerRadius,Bt=Tt===void 0?0:Tt,Ht=s.radius;return c.startAngle=R,c.endAngle=ht,c.innerRadius=Bt,c.radius=Ht,c.initial(),c}return f.prototype.initial=function(){v.prototype.initial.call(this);var s=(this.endAngle-this.startAngle)/(2*Math.PI)+1,c=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(c=c*this.radius),this.d=Math.floor(c*(1-this.innerRadius)/s),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*c,end:this.innerRadius*c+this.d*.99}},f.prototype.convertPoint=function(s){var c,m=s.x,R=s.y;this.isTransposed&&(c=[R,m],m=c[0],R=c[1]);var K=this.convertDim(m,"x"),ht=this.a*K,Tt=this.convertDim(R,"y");return{x:this.center.x+Math.cos(K)*(ht+Tt),y:this.center.y+Math.sin(K)*(ht+Tt)}},f.prototype.invertPoint=function(s){var c,m=this.d+this.y.start,R=X.c.subtract([0,0],[s.x,s.y],[this.center.x,this.center.y]),K=X.a.angleTo(R,[1,0],!0),ht=K*this.a;X.c.length(R)<ht&&(ht=X.c.length(R));var Tt=Math.floor((X.c.length(R)-ht)/m);K=2*Tt*Math.PI+K;var Bt=this.a*K,Ht=X.c.length(R)-Bt;Ht=Object(i.L)(Ht,0)?0:Ht;var $t=this.invertDim(K,"x"),te=this.invertDim(Ht,"y");return $t=Object(i.L)($t,0)?0:$t,te=Object(i.L)(te,0)?0:te,this.isTransposed&&(c=[te,$t],$t=c[0],te=c[1]),{x:$t,y:te}},f}(lt),kt=Wt,jt=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.isPolar=!0,c.type="polar";var m=s.startAngle,R=m===void 0?-Math.PI/2:m,K=s.endAngle,ht=K===void 0?Math.PI*3/2:K,Tt=s.innerRadius,Bt=Tt===void 0?0:Tt,Ht=s.radius;return c.startAngle=R,c.endAngle=ht,c.innerRadius=Bt,c.radius=Ht,c.initial(),c}return f.prototype.initial=function(){for(v.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var s=this.getOneBox(),c=s.maxX-s.minX,m=s.maxY-s.minY,R=Math.abs(s.minX)/c,K=Math.abs(s.minY)/m,ht;this.height/m>this.width/c?(ht=this.width/c,this.circleCenter={x:this.center.x-(.5-R)*this.width,y:this.center.y-(.5-K)*ht*m}):(ht=this.height/m,this.circleCenter={x:this.center.x-(.5-R)*ht*c,y:this.center.y-(.5-K)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=ht*this.radius:(this.radius<=0||this.radius>ht)&&(this.polarRadius=ht):this.polarRadius=ht,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},f.prototype.getRadius=function(){return this.polarRadius},f.prototype.convertPoint=function(s){var c,m=this.getCenter(),R=s.x,K=s.y;return this.isTransposed&&(c=[K,R],R=c[0],K=c[1]),R=this.convertDim(R,"x"),K=this.convertDim(K,"y"),{x:m.x+Math.cos(R)*K,y:m.y+Math.sin(R)*K}},f.prototype.invertPoint=function(s){var c,m=this.getCenter(),R=[s.x-m.x,s.y-m.y],K=this,ht=K.startAngle,Tt=K.endAngle;this.isReflect("x")&&(c=[Tt,ht],ht=c[0],Tt=c[1]);var Bt=[1,0,0,0,1,0,0,0,1];X.a.leftRotate(Bt,Bt,ht);var Ht=[1,0,0];X.d.transformMat3(Ht,Ht,Bt);var $t=[Ht[0],Ht[1]],te=X.a.angleTo($t,R,Tt<ht);Object(i.L)(te,Math.PI*2)&&(te=0);var re=X.c.length(R),ve=te/(Tt-ht);ve=Tt-ht>0?ve:-ve;var me=this.invertDim(re,"y"),_e={x:0,y:0};return _e.x=this.isTransposed?me:ve,_e.y=this.isTransposed?ve:me,_e},f.prototype.getCenter=function(){return this.circleCenter},f.prototype.getOneBox=function(){var s=this.startAngle,c=this.endAngle;if(Math.abs(c-s)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var m=[0,Math.cos(s),Math.cos(c)],R=[0,Math.sin(s),Math.sin(c)],K=Math.min(s,c);K<Math.max(s,c);K+=Math.PI/18)m.push(Math.cos(K)),R.push(Math.sin(K));return{minX:Math.min.apply(Math,m),maxX:Math.max.apply(Math,m),minY:Math.min.apply(Math,R),maxY:Math.max.apply(Math,R)}},f}(lt),Y=jt,U={},j=function(f){return U[f.toLowerCase()]},q=function(f,s){U[f.toLowerCase()]=s};q("rect",Ft),q("cartesian",Ft),q("polar",Y),q("helix",kt);var gt=a("IcjZ"),_=gt.Axis.Line,yt=gt.Axis.Circle,wt=gt.Grid.Line,St=gt.Grid.Circle,Dt=gt.Legend.Category,Vt=gt.Legend.Continuous,Qt=gt.Tooltip.Html;function ee(v){if(Object(i.F)(v))return null;var f=v[0].x,s=v[0].x,c=v[0].y,m=v[0].y;return Object(i.j)(v,function(R){f=f>R.x?R.x:f,s=s<R.x?R.x:s,c=c>R.y?R.y:c,m=m<R.y?R.y:m}),{minX:f,maxX:s,minY:c,maxY:m,centerX:(f+s)/2,centerY:(c+m)/2}}function se(v,f,s,c){return{x:v+s*Math.cos(c),y:f+s*Math.sin(c)}}function ye(v,f,s,c,m,R){R===void 0&&(R=0);var K=se(v,f,s,c),ht=se(v,f,s,m),Tt=se(v,f,R,c),Bt=se(v,f,R,m);if(m-c==Math.PI*2){var Ht=se(v,f,s,c+Math.PI),$t=se(v,f,R,c+Math.PI),te=[["M",K.x,K.y],["A",s,s,0,1,1,Ht.x,Ht.y],["A",s,s,0,1,1,ht.x,ht.y],["M",Tt.x,Tt.y]];return R&&(te.push(["A",R,R,0,1,0,$t.x,$t.y]),te.push(["A",R,R,0,1,0,Bt.x,Bt.y])),te.push(["M",K.x,K.y]),te.push(["Z"]),te}var re=m-c<=Math.PI?0:1,ve=[["M",K.x,K.y],["A",s,s,0,re,1,ht.x,ht.y],["L",Bt.x,Bt.y]];return R&&ve.push(["A",R,R,0,re,0,Tt.x,Tt.y]),ve.push(["L",K.x,K.y]),ve.push(["Z"]),ve}function Ie(v,f,s,c,m){var R=se(v,f,s,c),K=se(v,f,s,m);if(Object(i.L)(m-c,Math.PI*2)){var ht=se(v,f,s,c+Math.PI);return[["M",R.x,R.y],["A",s,s,0,1,1,ht.x,ht.y],["A",s,s,0,1,1,R.x,R.y],["A",s,s,0,1,0,ht.x,ht.y],["A",s,s,0,1,0,R.x,R.y],["Z"]]}var Tt=m-c<=Math.PI?0:1;return[["M",R.x,R.y],["A",s,s,0,Tt,1,K.x,K.y]]}function Be(v,f){var s=v.points,c=ee(s),m,R,K=f.startAngle,ht=f.endAngle,Tt=ht-K;return f.isTransposed?(m=c.maxY*Tt,R=c.minY*Tt):(m=c.maxX*Tt,R=c.minX*Tt),m+=K,R+=K,{startAngle:R,endAngle:m}}function Ze(v,f){if(Object(i.K)(v)&&Object(i.K)(f))return[v,f];for(var s=-1,c=0,m=0,R,K=v.length-1,ht,Tt=0;++s<v.length;)R=K,K=s,Tt+=ht=v[R]*f[K]-v[K]*f[R],c+=(v[R]+v[K])*ht,m+=(f[R]+f[K])*ht;return Tt*=3,[c/Tt,m/Tt]}function we(v,f){var s=v.attr(),c=f.attr();return Object(i.j)(s,function(m,R){c[R]===void 0&&(c[R]=void 0)}),c}function We(v,f,s){var c=Math.min(f,s),m=Math.max(f,s);return v>=c&&v<=m}function Ke(v,f,s){if(Object(i.O)(v))return v.padEnd(f,s);if(Object(i.B)(v)){var c=v.length;if(c<f)for(var m=f-c,R=0;R<m;R++)v.push(s)}return v}function cr(v,f){return f.forEach(function(s){delete v[s]}),v}function or(v,f,s){f===void 0&&(f=[]),s===void 0&&(s={});for(var c=0,m=v;c<m.length;c++){var R=m[c];s[R]||(f.push(R),s[R]=!0)}return f}var Ce=function(){function v(f,s,c,m){f===void 0&&(f=0),s===void 0&&(s=0),c===void 0&&(c=0),m===void 0&&(m=0),this.x=f,this.y=s,this.height=m,this.width=c}return v.fromRange=function(f,s,c,m){return new v(f,s,c-f,m-s)},v.fromObject=function(f){return new v(f.minX,f.minY,f.width,f.height)},Object.defineProperty(v.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),v.prototype.isEqual=function(f){return this.x===f.x&&this.y===f.y&&this.width===f.width&&this.height===f.height},v.prototype.contains=function(f){return f.minX>=this.minX&&f.maxX<=this.maxX&&f.minY>=this.minY&&f.maxY<=this.maxY},v.prototype.clone=function(){return new v(this.x,this.y,this.width,this.height)},v.prototype.add=function(){for(var f=[],s=0;s<arguments.length;s++)f[s]=arguments[s];var c=this.clone();return Object(i.j)(f,function(m){c.x=Math.min(m.x,c.x),c.y=Math.min(m.y,c.y),c.width=Math.max(m.maxX,c.maxX)-c.x,c.height=Math.max(m.maxY,c.maxY)-c.y}),c},v.prototype.merge=function(){for(var f=[],s=0;s<arguments.length;s++)f[s]=arguments[s];var c=this.clone();return Object(i.j)(f,function(m){c.x=Math.max(m.x,c.x),c.y=Math.max(m.y,c.y),c.width=Math.min(m.maxX,c.maxX)-c.x,c.height=Math.min(m.maxY,c.maxY)-c.y}),c},v.prototype.cut=function(f,s){var c=f.width,m=f.height;switch(s){case x.TOP:case x.TOP_LEFT:case x.TOP_RIGHT:return v.fromRange(this.minX,this.minY+m,this.maxX,this.maxY);case x.RIGHT:case x.RIGHT_TOP:case x.RIGHT_BOTTOM:return v.fromRange(this.minX,this.minY,this.maxX-c,this.maxY);case x.BOTTOM:case x.BOTTOM_LEFT:case x.BOTTOM_RIGHT:return v.fromRange(this.minX,this.minY,this.maxX,this.maxY-m);case x.LEFT:case x.LEFT_TOP:case x.LEFT_BOTTOM:return v.fromRange(this.minX+c,this.minY,this.maxX,this.maxY);default:return this}},v.prototype.shrink=function(f){var s=f[0],c=f[1],m=f[2],R=f[3];return new v(this.x+R,this.y+s,this.width-R-c,this.height-s-m)},v.prototype.expand=function(f){var s=f[0],c=f[1],m=f[2],R=f[3];return new v(this.x-R,this.y-s,this.width+R+c,this.height+s+m)},v.prototype.exceed=function(f){return[Math.max(-this.minY+f.minY,0),Math.max(this.maxX-f.maxX,0),Math.max(this.maxY-f.maxY,0),Math.max(-this.minX+f.minX,0)]},v.prototype.collide=function(f){return this.minX<f.maxX&&this.maxX>f.minX&&this.minY<f.maxY&&this.maxY>f.minY},v.prototype.size=function(){return this.width*this.height},v.prototype.isPointIn=function(f){return f.x>=this.minX&&f.x<=this.maxX&&f.y>=this.minY&&f.y<=this.maxY},v}(),sr=function(f,s){var c=s.start,m=s.end;return new Ce(f.x+f.width*c.x,f.y+f.height*c.y,f.width*Math.abs(m.x-c.x),f.height*Math.abs(m.y-c.y))};function ke(v){return[[v.minX,v.minY],[v.maxX,v.minY],[v.maxX,v.maxY],[v.minX,v.maxY]]}function Xe(v){if(v.isPolar&&!v.isTransposed)return(v.endAngle-v.startAngle)*v.getRadius();var f=v.convert({x:0,y:0}),s=v.convert({x:1,y:0});return Math.sqrt(Math.pow(s.x-f.x,2)+Math.pow(s.y-f.y,2))}function dr(v){if(v.isPolar){var f=v.startAngle,s=v.endAngle;return s-f==Math.PI*2}return!1}function Sr(v,f){var s=v.getCenter();return Math.sqrt(Math.pow(f.x-s.x,2)+Math.pow(f.y-s.y,2))}function Fr(v,f){var s=!1;if(v)if(v.type==="theta"){var c=v.start,m=v.end;s=We(f.x,c.x,m.x)&&We(f.y,c.y,m.y)}else{var R=v.invert(f);s=We(R.x,0,1)&&We(R.y,0,1)}return s}function hn(v,f){var s=v.getCenter();return Math.atan2(f.y-s.y,f.x-s.x)}function yn(v,f){f===void 0&&(f=0);var s=v.start,c=v.end,m=v.getWidth(),R=v.getHeight();if(v.isPolar){var K=v.startAngle,ht=v.endAngle,Tt=v.getCenter(),Bt=v.getRadius();return{type:"path",startState:{path:ye(Tt.x,Tt.y,Bt+f,K,K)},endState:function(te){var re=(ht-K)*te+K,ve=ye(Tt.x,Tt.y,Bt+f,K,re);return{path:ve}},attrs:{path:ye(Tt.x,Tt.y,Bt+f,K,ht)}}}var Ht;return v.isTransposed?Ht={height:R+f*2}:Ht={width:m+f*2},{type:"rect",startState:{x:s.x-f,y:c.y-f,width:v.isTransposed?m+f*2:0,height:v.isTransposed?0:R+f*2},endState:Ht,attrs:{x:s.x-f,y:c.y-f,width:m+f*2,height:R+f*2}}}function Dn(v,f){f===void 0&&(f=0);var s=v.start,c=v.end,m=v.getWidth(),R=v.getHeight(),K=Math.min(s.x,c.x),ht=Math.min(s.y,c.y);return Ce.fromRange(K-f,ht-f,K+m+f,ht+R+f)}var Nn=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Ia(v){var f="linear";return Nn.test(v)?f="timeCat":Object(i.O)(v)&&(f="cat"),f}function ba(v,f,s){var c=f||[];if(Object(i.K)(v)||Object(i.I)(Object(i.o)(c,v))&&Object(i.F)(s)){var m=Object(Mt.d)("identity");return new m({field:v.toString(),values:[v]})}var R=Object(i.vb)(c,v),K=Object(i.s)(s,"type",Ia(R[0])),ht=Object(Mt.d)(K);return new ht(Object(h.a)({field:v,values:R},s))}function Oa(v,f){if(v.type!=="identity"&&f.type!=="identity"){var s={};for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(s[c]=f[c]);v.change(s)}}function Wn(v){return v.alias||v.field}function ai(v,f,s){var c=v.values,m=c.length,R;if(m===1)R=[.5,1];else{var K=1,ht=0;dr(f)?f.isTransposed?(K=Object(i.s)(s,"widthRatio.multiplePie",1/1.3),ht=1/m*K,R=[ht/2,1-ht/2]):R=[0,1-1/m]:(ht=1/m/2,R=[ht,1-ht])}return R}function Va(v){var f=v.values.filter(function(s){return!Object(i.I)(s)&&!isNaN(s)});return Math.max.apply(Math,Object(h.g)(f,[Object(i.I)(v.max)?-Infinity:v.max]))}function ci(v){var f,s;switch(v){case x.TOP:f={x:0,y:1},s={x:1,y:1};break;case x.RIGHT:f={x:1,y:0},s={x:1,y:1};break;case x.BOTTOM:f={x:0,y:0},s={x:1,y:0};break;case x.LEFT:f={x:0,y:0},s={x:0,y:1};break;default:f=s={x:0,y:0}}return{start:f,end:s}}function Ti(v){var f,s;return v.isTransposed?(f={x:0,y:0},s={x:1,y:0}):(f={x:0,y:0},s={x:0,y:1}),{start:f,end:s}}function Ui(v,f){var s={start:{x:0,y:0},end:{x:0,y:0}};v.isRect?s=ci(f):v.isPolar&&(s=Ti(v));var c=s.start,m=s.end;return{start:v.convert(c),end:v.convert(m)}}function Bi(v,f){if(v.isRect)return v.isTransposed?[x.RIGHT,x.BOTTOM].includes(f)?1:-1:[x.BOTTOM,x.RIGHT].includes(f)?-1:1;if(v.isPolar){var s=v.x.start;return s<0?-1:1}return 1}function ia(v){var f=v.start,s=v.end;return f.x===s.x}function ja(v,f){var s=v.start,c=v.end,m=ia(v);return m?(s.y-c.y)*(f.x-s.x)>0?1:-1:(c.x-s.x)*(s.y-f.y)>0?-1:1}function Zn(v,f){var s=Object(i.s)(v,["components","axis"],{});return Object(i.h)({},Object(i.s)(s,["common"],{}),Object(i.h)({},Object(i.s)(s,[f],{})))}function wa(v,f,s){var c=Object(i.s)(v,["components","axis"],{});return Object(i.h)({},Object(i.s)(c,["common","title"],{}),Object(i.h)({},Object(i.s)(c,[f,"title"],{})),s)}function La(v){var f=v.x,s=v.y,c=v.circleCenter,m=s.start>s.end,R=v.isTransposed?v.convert({x:m?0:1,y:0}):v.convert({x:0,y:m?0:1}),K=[R.x-c.x,R.y-c.y],ht=[1,0],Tt=R.y>c.y?X.c.angle(K,ht):X.c.angle(K,ht)*-1,Bt=Tt+(f.end-f.start),Ht=Math.sqrt(Math.pow(R.x-c.x,2)+Math.pow(R.y-c.y,2));return{center:c,radius:Ht,startAngle:Tt,endAngle:Bt}}function Hn(v,f){return Object(i.C)(v)?v===!1?!1:{}:Object(i.s)(v,[f])}function Sa(v,f){return Object(i.s)(v,"position",f)}function Ba(v,f){return Object(i.s)(f,["title","text"],Wn(v))}var Pa=function(){function v(f,s){this.destroyed=!1,this.facets=[],this.view=f,this.cfg=Object(i.h)({},this.getDefaultCfg(),s)}return v.prototype.init=function(){this.container||(this.container=this.createContainer());var f=this.view.getData();this.facets=this.generateFacets(f)},v.prototype.render=function(){this.renderViews()},v.prototype.update=function(){},v.prototype.clear=function(){this.clearFacetViews()},v.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},v.prototype.facetToView=function(f){var s=f.region,c=f.data,m=f.padding,R=m===void 0?this.cfg.padding:m,K=this.view.createView({region:s,padding:R});K.data(c||[]),f.view=K,this.beforeEachView(K,f);var ht=this.cfg.eachView;return ht&&ht(K,f),this.afterEachView(K,f),K},v.prototype.createContainer=function(){var f=this.view.getLayer(O.FORE);return f.addGroup()},v.prototype.renderViews=function(){this.createFacetViews()},v.prototype.createFacetViews=function(){var f=this;return this.facets.map(function(s){return f.facetToView(s)})},v.prototype.clearFacetViews=function(){var f=this;Object(i.j)(this.facets,function(s){s.view&&(f.view.removeView(s.view),s.view=void 0)})},v.prototype.getFieldValues=function(f,s){var c=[],m={};return Object(i.j)(f,function(R){var K=R[s];!Object(i.I)(K)&&!m[K]&&(c.push(K),m[K]=!0)}),c},v.prototype.getRegion=function(f,s,c,m){var R=1/(s===0?1:s),K=1/(f===0?1:f),ht={x:R*c,y:K*m},Tt={x:R*(c+1),y:K*(m+1)};return{start:ht,end:Tt}},v.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},v.prototype.getDefaultTitleCfg=function(){var f=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:f}}},v.prototype.processAxis=function(f,s){var c=f.getOptions(),m=c.coordinate,R=f.geometries,K=Object(i.s)(m,"type","rect");if(K==="rect"&&R.length){Object(i.I)(c.axes)&&(c.axes={});var ht=c.axes,Tt=R[0].getXYFields(),Bt=Tt[0],Ht=Tt[1],$t=Hn(ht,Bt),te=Hn(ht,Ht);$t!==!1&&(c.axes[Bt]=this.getXAxisOption(Bt,ht,$t,s)),te!==!1&&(c.axes[Ht]=this.getYAxisOption(Ht,ht,te,s))}},v.prototype.getFacetDataFilter=function(f){return function(s){return Object(i.k)(f,function(c){var m=c.field,R=c.value;return!Object(i.I)(R)&&m?s[m]===R:!0})}},v}(),$n={},Ya=function(f){return $n[Object(i.T)(f)]},Da=function(f,s){$n[Object(i.T)(f)]=s},ii=function(){function v(f,s){this.context=f,this.cfg=s,f.addAction(this)}return v.prototype.applyCfg=function(f){Object(i.b)(this,f)},v.prototype.init=function(){this.applyCfg(this.cfg)},v.prototype.destroy=function(){this.context.removeAction(this),this.context=null},v}(),Qn=ii,Oi=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.execute=function(){this.callback&&this.callback(this.context)},f.prototype.destroy=function(){v.prototype.destroy.call(this),this.callback=null},f}(Qn),Ka=Oi,Na={};function $a(v,f){var s=Na[v],c=null;if(s){var m=s.ActionClass,R=s.cfg;c=new m(f,R),c.name=v,c.init()}return c}function ni(v){var f=Na[v];return Object(i.s)(f,"ActionClass")}function Cn(v,f,s){Na[v]={ActionClass:f,cfg:s}}function Ni(v){delete Na[v]}function hi(v,f){var s=new Ka(f);return s.callback=v,s.name="callback",s}function fe(v,f){var s=[];if(v.length){s.push(["M",v[0].x,v[0].y]);for(var c=1,m=v.length;c<m;c+=1){var R=v[c];s.push(["L",R.x,R.y])}f&&s.push(["Z"])}return s}function oe(v,f){for(var s=[v[0]],c=1,m=v.length;c<m;c=c+2){var R=f.convert({x:v[c],y:v[c+1]});s.push(R.x,R.y)}return s}function he(v,f){var s=f.isTransposed,c=v[1],m=v[6],R=v[7],K=f.convert({x:m,y:R}),ht=s?0:1;return["A",c,c,0,0,ht,K.x,K.y]}function Ne(v,f,s){var c=s.isTransposed,m=s.startAngle,R=s.endAngle,K=v[0].toLowerCase()==="a"?{x:v[6],y:v[7]}:{x:v[1],y:v[2]},ht={x:f[1],y:f[2]},Tt=[],Bt=c?"y":"x",Ht=Math.abs(ht[Bt]-K[Bt])*(R-m),$t=ht[Bt]>=K[Bt]?1:0,te=Ht>Math.PI?1:0,re=s.convert(ht),ve=Sr(s,re);if(ve>=.5)if(Ht===Math.PI*2){var me={x:(ht.x+K.x)/2,y:(ht.y+K.y)/2},_e=s.convert(me);Tt.push(["A",ve,ve,0,te,$t,_e.x,_e.y]),Tt.push(["A",ve,ve,0,te,$t,re.x,re.y])}else Tt.push(["A",ve,ve,0,te,$t,re.x,re.y]);return Tt}function He(v){Object(i.j)(v,function(f,s){var c=f;if(c[0].toLowerCase()==="a"){var m=v[s-1],R=v[s+1];R&&R[0].toLowerCase()==="a"?m&&m[0].toLowerCase()==="l"&&(m[0]="M"):m&&m[0].toLowerCase()==="a"&&R&&R[0].toLowerCase()==="l"&&(R[0]="M")}})}var ar=function(f,s,c,m){var R=[],K,ht,Tt=!!m,Bt,Ht;if(Tt){Bt=[Infinity,Infinity],Ht=[-Infinity,-Infinity];for(var $t=0,te=f.length;$t<te;$t++){var re=f[$t];Bt=X.c.min([0,0],Bt,re),Ht=X.c.max([0,0],Ht,re)}Bt=X.c.min([0,0],Bt,m[0]),Ht=X.c.max([0,0],Ht,m[1])}for(var $t=0,ve=f.length;$t<ve;$t++){var re=f[$t];if(c)K=f[$t?$t-1:ve-1],ht=f[($t+1)%ve];else if($t===0||$t===ve-1){R.push(re);continue}else K=f[$t-1],ht=f[$t+1];var me=[0,0];me=X.c.sub(me,ht,K),me=X.c.scale(me,me,s);var _e=X.c.distance(re,K),tr=X.c.distance(re,ht),yr=_e+tr;yr!==0&&(_e/=yr,tr/=yr);var xr=X.c.scale([0,0],me,-_e),nn=X.c.scale([0,0],me,tr),dn=X.c.add([0,0],re,xr),cn=X.c.add([0,0],re,nn);Tt&&(dn=X.c.max([0,0],dn,Bt),dn=X.c.min([0,0],dn,Ht),cn=X.c.max([0,0],cn,Bt),cn=X.c.min([0,0],cn,Ht)),R.push(dn),R.push(cn)}return c&&R.push(R.shift()),R};function Er(v,f,s){for(var c=!!f,m=[],R=0,K=v.length;R<K;R+=2)m.push([v[R],v[R+1]]);for(var ht=ar(m,.4,c,s),Tt=m.length,Bt=[],Ht,$t,te,R=0;R<Tt-1;R++)Ht=ht[R*2],$t=ht[R*2+1],te=m[R+1],Bt.push(["C",Ht[0],Ht[1],$t[0],$t[1],te[0],te[1]]);return c&&(Ht=ht[Tt],$t=ht[Tt+1],te=m[0],Bt.push(["C",Ht[0],Ht[1],$t[0],$t[1],te[0],te[1]])),Bt}function Br(v,f){return fe(v,f)}function Ln(v,f,s){var c=[],m=v[0],R=null;if(v.length<=2)return Br(v,f);for(var K=0,ht=v.length;K<ht;K++){var Tt=v[K];(!R||!(R.x===Tt.x&&R.y===Tt.y))&&(c.push(Tt.x),c.push(Tt.y),R=Tt)}var Bt=s||[[0,0],[1,1]],Ht=Er(c,f,Bt);return Ht.unshift(["M",m.x,m.y]),Ht}function Bn(v,f){var s=[];return Object(i.j)(f,function(c){var m=c[0];switch(m.toLowerCase()){case"m":case"l":case"c":s.push(oe(c,v));break;case"a":s.push(he(c,v));break;case"z":default:s.push(c);break}}),s}function Sn(v,f){var s=[],c,m,R,K;return Object(i.j)(f,function(ht,Tt){var Bt=ht[0];switch(Bt.toLowerCase()){case"m":case"c":case"q":s.push(oe(ht,v));break;case"l":c=f[Tt-1],m=ht,R=v.isTransposed,K=R?c[c.length-2]===m[1]:c[c.length-1]===m[2],K?s=s.concat(Ne(c,m,v)):s.push(oe(ht,v));break;case"a":s.push(he(ht,v));break;case"z":default:s.push(ht);break}}),He(s),s}var Wa=a("WOt1");function la(v,f){var s=v.event,c=s.target,m=c.getCanvasBBox();return m.width>=f||m.height>=f?m:null}function yi(v,f){var s=v.event,c=s.target,m=c.getCanvasBBox();return m.width>=f||m.height>=f?c.attr("path"):null}function mi(v){var f=v.event,s,c=f.target;return c&&(s=c.get("element")),s}function ji(v){var f=v.event,s=f.target,c;return s&&(c=s.get("delegateObject")),c}function Xi(v){var f=v.event.gEvent;return!(f&&f.fromShape&&f.toShape&&f.fromShape.get("element")===f.toShape.get("element"))}function uo(v){return v&&v.component&&v.component.isList()}function Wi(v){return v&&v.component&&v.component.isSlider()}function ge(v){var f=v.event,s=f.target;return s&&s.get("name")==="mask"}function Ki(v,f){var s=v.event.target;if(s.get("type")==="path"){var c=yi(v,f);return c?Eo(v.view,c):void 0}var m=la(v,f);return m?qo(v.view,m):null}function qn(v,f,s){var c=la(v,s);if(!c)return null;var m=v.view,R=zo(m,f,{x:c.x,y:c.y}),K=zo(m,f,{x:c.maxX,y:c.maxY}),ht={minX:R.x,minY:R.y,maxX:K.x,maxY:K.y};return qo(f,ht)}function Xa(v){var f=v.geometries,s=[];return Object(i.j)(f,function(c){var m=c.elements;s=s.concat(m)}),v.views&&v.views.length&&Object(i.j)(v.views,function(c){s=s.concat(Xa(c))}),s}function Ro(v,f,s){var c=Xa(v);return c.filter(function(m){return Hi(m,f)===s})}function wo(v,f){var s=v.geometries,c=[];return Object(i.j)(s,function(m){var R=m.getElementsBy(function(K){return K.hasState(f)});c=c.concat(R)}),c}function Hi(v,f){var s=v.getModel(),c=s.data,m;return Object(i.B)(c)?m=c[0][f]:m=c[f],m}function _o(v,f){return!(f.minX>v.maxX||f.maxX<v.minX||f.minY>v.maxY||f.maxY<v.minY)}function qo(v,f){var s=Xa(v),c=[];return Object(i.j)(s,function(m){var R=m.shape,K=R.getCanvasBBox();_o(f,K)&&c.push(m)}),c}function ts(v){var f=[];return Object(i.j)(v,function(s){var c=s[0];if(c!=="A")for(var m=1;m<s.length;m=m+2)f.push([s[m],s[m+1]]);else{var R=s.length;f.push([s[R-2],s[R-1]])}}),f}function Eo(v,f){var s=Xa(v),c=ts(f),m=s.filter(function(R){var K=R.shape,ht;if(K.get("type")==="path")ht=ts(K.attr("path"));else{var Tt=K.getCanvasBBox();ht=ke(Tt)}return Object(Wa.b)(c,ht)});return m}function Go(v){return v.getComponents().map(function(f){return f.component})}function Uo(v,f){var s=f.x-v.x,c=f.y-v.y;return Math.sqrt(s*s+c*c)}function Mo(v,f){if(v.length<=2)return Br(v,!1);var s=v[0],c=[];Object(i.j)(v,function(R){c.push(R.x),c.push(R.y)});var m=Er(c,f,null);return m.unshift(["M",s.x,s.y]),m}function Wo(v,f){return v.x<=f.x&&v.maxX>=f.x&&v.y<=f.y&&v.maxY>f.y}function go(v){var f=v.parent,s=null;return f&&(s=f.views.filter(function(c){return c!==v})),s}function Ws(v,f){var s=v.getCoordinate();return s.invert(f)}function zo(v,f,s){var c=Ws(v,s);return f.getCoordinate().convert(c)}function xs(v,f,s,c){var m=!1;return Object(i.j)(v,function(R){if(R[s]===f[s]&&R[c]===f[c])return m=!0,!1}),m}function Bo(v,f){var s=v.getScaleByField(f);return!s&&v.views&&Object(i.j)(v.views,function(c){if(s=Bo(c,f),s)return!1}),s}var es=function(){function v(f){this.actions=[],this.event=null,this.cacheMap={},this.view=f}return v.prototype.cache=function(){for(var f=[],s=0;s<arguments.length;s++)f[s]=arguments[s];if(f.length===1)return this.cacheMap[f[0]];f.length===2&&(this.cacheMap[f[0]]=f[1])},v.prototype.getAction=function(f){return this.actions.find(function(s){return s.name===f})},v.prototype.addAction=function(f){this.actions.push(f)},v.prototype.removeAction=function(f){var s=this.actions,c=this.actions.indexOf(f);c>=0&&s.splice(c,1)},v.prototype.getCurrentPoint=function(){var f=this.event;if(f)if(f.target instanceof HTMLElement){var s=this.view.getCanvas(),c=s.getPointByClient(f.clientX,f.clientY);return c}else return{x:f.x,y:f.y};return null},v.prototype.getCurrentShape=function(){return Object(i.s)(this.event,["gEvent","shape"])},v.prototype.isInPlot=function(){var f=this.getCurrentPoint();return f?this.view.isPointInPlot(f):!1},v.prototype.isInShape=function(f){var s=this.getCurrentShape();return s?s.get("name")===f:!1},v.prototype.isInComponent=function(f){var s=Go(this.view),c=this.getCurrentPoint();return c?!!s.find(function(m){var R=m.getBBox();return f?m.get("name")===f&&Wo(R,c):Wo(R,c)}):!1},v.prototype.destroy=function(){this.view=null,this.event=null,Object(i.j)(this.actions.slice(),function(f){f.destroy()}),this.actions=null,this.cacheMap=null},v}(),zs=es,Pl=function(){function v(f,s){this.view=f,this.cfg=s}return v.prototype.init=function(){this.initEvents()},v.prototype.initEvents=function(){},v.prototype.clearEvents=function(){},v.prototype.destroy=function(){this.clearEvents()},v}(),el=Pl;function ys(v,f,s){var c=v.split(":"),m=c[0],R=f.getAction(m)||$a(m,f);if(!R)throw new Error("There is no action named "+m);var K=c[1];return{action:R,methodName:K,arg:s}}function rl(v){var f=v.action,s=v.methodName,c=v.arg;if(f[s])f[s](c);else throw new Error("Action("+f.name+") doesn't have a method called "+s)}var H={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},At=function(v){Object(h.c)(f,v);function f(s,c){var m=v.call(this,s,c)||this;return m.callbackCaches={},m.emitCaches={},m.steps=c,m}return f.prototype.init=function(){this.initContext(),v.prototype.init.call(this)},f.prototype.destroy=function(){v.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},f.prototype.initEvents=function(){var s=this;Object(i.j)(this.steps,function(c,m){Object(i.j)(c,function(R){var K=s.getActionCallback(m,R);K&&s.bindEvent(R.trigger,K)})})},f.prototype.clearEvents=function(){var s=this;Object(i.j)(this.steps,function(c,m){Object(i.j)(c,function(R){var K=s.getActionCallback(m,R);K&&s.offEvent(R.trigger,K)})})},f.prototype.initContext=function(){var s=this.view,c=new zs(s);this.context=c;var m=this.steps;Object(i.j)(m,function(R){Object(i.j)(R,function(K){if(Object(i.H)(K.action))K.actionObject={action:hi(K.action,c),methodName:"execute"};else if(Object(i.O)(K.action))K.actionObject=ys(K.action,c,K.arg);else if(Object(i.B)(K.action)){var ht=K.action,Tt=Object(i.B)(K.arg)?K.arg:[K.arg];K.actionObject=[],Object(i.j)(ht,function(Bt,Ht){K.actionObject.push(ys(Bt,c,Tt[Ht]))})}})})},f.prototype.isAllowStep=function(s){var c=this.currentStepName,m=this.steps;if(c===s||s===H.SHOW_ENABLE)return!0;if(s===H.PROCESSING)return c===H.START;if(s===H.START)return c!==H.PROCESSING;if(s===H.END)return c===H.PROCESSING||c===H.START;if(s===H.ROLLBACK){if(m[H.END])return c===H.END;if(c===H.START)return!0}return!1},f.prototype.isAllowExecute=function(s,c){if(this.isAllowStep(s)){var m=this.getKey(s,c);return c.once&&this.emitCaches[m]?!1:c.isEnable?c.isEnable(this.context):!0}return!1},f.prototype.enterStep=function(s){this.currentStepName=s,this.emitCaches={}},f.prototype.afterExecute=function(s,c){s!==H.SHOW_ENABLE&&this.currentStepName!==s&&this.enterStep(s);var m=this.getKey(s,c);this.emitCaches[m]=!0},f.prototype.getKey=function(s,c){return s+c.trigger+c.action},f.prototype.getActionCallback=function(s,c){var m=this,R=this.context,K=this.callbackCaches,ht=c.actionObject;if(c.action&&ht){var Tt=this.getKey(s,c);if(!K[Tt]){var Bt=function($t){R.event=$t,m.isAllowExecute(s,c)?(Object(i.B)(ht)?Object(i.j)(ht,function(te){R.event=$t,rl(te)}):(R.event=$t,rl(ht)),m.afterExecute(s,c),c.callback&&(R.event=$t,c.callback(R))):R.event=null};c.debounce?K[Tt]=Object(i.g)(Bt,c.debounce.wait,c.debounce.immediate):c.throttle?K[Tt]=Object(i.nb)(Bt,c.throttle.wait,{leading:c.throttle.leading,trailing:c.throttle.trailing}):K[Tt]=Bt}return K[Tt]}return null},f.prototype.bindEvent=function(s,c){var m=s.split(":");m[0]==="window"?window.addEventListener(m[1],c):m[0]==="document"?document.addEventListener(m[1],c):this.view.on(s,c)},f.prototype.offEvent=function(s,c){var m=s.split(":");m[0]==="window"?window.removeEventListener(m[1],c):m[0]==="document"?document.removeEventListener(m[1],c):this.view.off(s,c)},f}(el),Jt=At,ne={};function de(v){return ne[Object(i.T)(v)]}function xe(v,f){ne[Object(i.T)(v)]=f}function Le(v,f,s){var c=de(v);if(!c)return null;if(Object(i.N)(c)){var m=Object(i.bb)(Object(i.e)(c),s);return new Jt(f,m)}else{var R=c;return new R(f,s)}}function ze(v){return{title:{autoRotate:!0,position:"center",spacing:v.axisTitleSpacing,style:{fill:v.axisTitleTextFillColor,fontSize:v.axisTitleTextFontSize,lineHeight:v.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:v.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:v.axisLabelOffset,style:{fill:v.axisLabelFillColor,fontSize:v.axisLabelFontSize,lineHeight:v.axisLabelLineHeight,fontFamily:v.fontFamily}},line:{style:{lineWidth:v.axisLineBorder,stroke:v.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:v.axisGridBorderColor,lineWidth:v.axisGridBorder,lineDash:v.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:v.axisTickLineBorder,stroke:v.axisTickLineBorderColor},alignTick:!0,length:v.axisTickLineLength},subTickLine:null,animate:!0}}function $e(v){return{title:null,marker:{symbol:"circle",spacing:v.legendMarkerSpacing,style:{r:v.legendCircleMarkerSize,fill:v.legendMarkerColor}},itemName:{spacing:5,style:{fill:v.legendItemNameFillColor,fontFamily:v.fontFamily,fontSize:v.legendItemNameFontSize,lineHeight:v.legendItemNameLineHeight,fontWeight:v.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,pageNavigator:{marker:{style:{size:v.legendPageNavigatorMarkerSize,inactiveFill:v.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:v.legendPageNavigatorMarkerInactiveFillOpacity,fill:v.legendPageNavigatorMarkerFillColor,opacity:v.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:v.legendPageNavigatorTextFillColor,fontSize:v.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:v.legendItemSpacing,itemMarginBottom:v.legendItemMarginBottom,padding:v.legendPadding}}function nr(v){var f,s={point:{default:{fill:v.pointFillColor,r:v.pointSize,stroke:v.pointBorderColor,lineWidth:v.pointBorder,fillOpacity:v.pointFillOpacity},active:{stroke:v.pointActiveBorderColor,lineWidth:v.pointActiveBorder},selected:{stroke:v.pointSelectedBorderColor,lineWidth:v.pointSelectedBorder},inactive:{fillOpacity:v.pointInactiveFillOpacity,strokeOpacity:v.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:v.hollowPointFillColor,lineWidth:v.hollowPointBorder,stroke:v.hollowPointBorderColor,strokeOpacity:v.hollowPointBorderOpacity,r:v.hollowPointSize},active:{stroke:v.hollowPointActiveBorderColor,strokeOpacity:v.hollowPointActiveBorderOpacity},selected:{lineWidth:v.hollowPointSelectedBorder,stroke:v.hollowPointSelectedBorderColor,strokeOpacity:v.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:v.hollowPointInactiveBorderOpacity}},area:{default:{fill:v.areaFillColor,fillOpacity:v.areaFillOpacity,stroke:null},active:{fillOpacity:v.areaActiveFillOpacity},selected:{fillOpacity:v.areaSelectedFillOpacity},inactive:{fillOpacity:v.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:v.hollowAreaBorderColor,lineWidth:v.hollowAreaBorder,strokeOpacity:v.hollowAreaBorderOpacity},active:{fill:null,lineWidth:v.hollowAreaActiveBorder},selected:{fill:null,lineWidth:v.hollowAreaSelectedBorder},inactive:{strokeOpacity:v.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:v.intervalFillColor,fillOpacity:v.intervalFillOpacity},active:{stroke:v.intervalActiveBorderColor,lineWidth:v.intervalActiveBorder},selected:{stroke:v.intervalSelectedBorderColor,lineWidth:v.intervalSelectedBorder},inactive:{fillOpacity:v.intervalInactiveFillOpacity,strokeOpacity:v.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:v.hollowIntervalFillColor,stroke:v.hollowIntervalBorderColor,lineWidth:v.hollowIntervalBorder,strokeOpacity:v.hollowIntervalBorderOpacity},active:{stroke:v.hollowIntervalActiveBorderColor,lineWidth:v.hollowIntervalActiveBorder,strokeOpacity:v.hollowIntervalActiveBorderOpacity},selected:{stroke:v.hollowIntervalSelectedBorderColor,lineWidth:v.hollowIntervalSelectedBorder,strokeOpacity:v.hollowIntervalSelectedBorderOpacity},inactive:{stroke:v.hollowIntervalInactiveBorderColor,lineWidth:v.hollowIntervalInactiveBorder,strokeOpacity:v.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:v.lineBorderColor,lineWidth:v.lineBorder,strokeOpacity:v.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:v.lineActiveBorder},selected:{lineWidth:v.lineSelectedBorder},inactive:{strokeOpacity:v.lineInactiveBorderOpacity}}},c=ze(v),m=$e(v);return{background:v.backgroundColor,defaultColor:v.brandColor,padding:"auto",fontFamily:v.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:v.paletteQualitative10,colors20:v.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:function(K){var ht=K.geometry.coordinate;if(ht.isPolar&&ht.isTransposed){var Tt=Be(K.getModel(),ht),Bt=Tt.startAngle,Ht=Tt.endAngle,$t=(Bt+Ht)/2,te=7.5,re=te*Math.cos($t),ve=te*Math.sin($t);return{matrix:X.a.transform(null,[["t",re,ve]])}}return s.interval.selected}}},"hollow-rect":{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},line:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},tick:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},funnel:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}},pyramid:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},line:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},dot:{default:{style:Object(h.a)(Object(h.a)({},s.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(h.a)(Object(h.a)({},s.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(h.a)(Object(h.a)({},s.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(h.a)(Object(h.a)({},s.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(h.a)(Object(h.a)({},s.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(h.a)(Object(h.a)({},s.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(h.a)(Object(h.a)({},s.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(h.a)(Object(h.a)({},s.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hvh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}},polygon:{polygon:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},point:{circle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},square:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},bowtie:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},diamond:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},hexagon:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},triangle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"triangle-down":{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"hollow-circle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-square":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-bowtie":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-diamond":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-hexagon":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle-down":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},cross:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},tick:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},plus:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},hyphen:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},line:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}}},area:{area:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},smooth:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},line:{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}},"smooth-line":{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}}},schema:{candle:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},box:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}}},edge:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},arc:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}}},components:{axis:{common:c,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(i.h)({},c.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(i.h)({},c.grid,{line:{type:"circle"}})}},legend:{common:m,right:{layout:"vertical",padding:v.legendVerticalPadding},left:{layout:"vertical",padding:v.legendVerticalPadding},top:{layout:"horizontal",padding:v.legendHorizontalPadding},bottom:{layout:"horizontal",padding:v.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:v.sliderRailHeight,defaultLength:v.sliderRailWidth,style:{fill:v.sliderRailFillColor,stroke:v.sliderRailBorderColor,lineWidth:v.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:v.sliderLabelTextFillColor,fontSize:v.sliderLabelTextFontSize,lineHeight:v.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:v.fontFamily}},handler:{size:v.sliderHandlerWidth,style:{fill:v.sliderHandlerFillColor,stroke:v.sliderHandlerBorderColor}},slidable:!0,padding:m.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:v.tooltipCrosshairsBorderColor,lineWidth:v.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(f={},f[""+gt.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:v.tooltipContainerFillColor,opacity:v.tooltipContainerFillOpacity,boxShadow:v.tooltipContainerShadow,borderRadius:v.tooltipContainerBorderRadius+"px",color:v.tooltipTextFillColor,fontSize:v.tooltipTextFontSize+"px",fontFamily:v.fontFamily,lineHeight:v.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},f[""+gt.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},f[""+gt.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},f[""+gt.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},f[""+gt.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},f[""+gt.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},f)},annotation:{arc:{style:{stroke:v.annotationArcBorderColor,lineWidth:v.annotationArcBorder},animate:!0},line:{style:{stroke:v.annotationLineBorderColor,lineDash:v.annotationLineDash,lineWidth:v.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:v.annotationTextFillColor,stroke:v.annotationTextBorderColor,lineWidth:v.annotationTextBorder,fontSize:v.annotationTextFontSize,textAlign:"start",fontFamily:v.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:v.annotationTextFillColor,stroke:v.annotationTextBorderColor,lineWidth:v.annotationTextBorder,fontSize:v.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:v.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:v.annotationRegionBorder,stroke:v.annotationRegionBorderColor,fill:v.annotationRegionFillColor,fillOpacity:v.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:v.brandColor,lineWidth:2}},line:{style:{stroke:v.annotationLineBorderColor,lineWidth:v.annotationLineBorder},length:v.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:v.annotationTextFillColor,stroke:v.annotationTextBorderColor,lineWidth:v.annotationTextBorder,fontSize:v.annotationTextFontSize,fontFamily:v.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:v.annotationRegionFillColor,fillOpacity:v.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:v.annotationTextFillColor,stroke:v.annotationTextBorderColor,lineWidth:v.annotationTextBorder,fontSize:v.annotationTextFontSize,fontFamily:v.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8]}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)"}},hover:{style:{thumbColor:"rgba(0,0,0,0.2)"}}}},labels:{offset:12,style:{fill:v.labelFillColor,fontSize:v.labelFontSize,fontFamily:v.fontFamily,stroke:v.labelBorderColor,lineWidth:v.labelBorder},fillColorDark:v.labelFillColorDark,fillColorLight:v.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:v.innerLabelFillColor,fontSize:v.innerLabelFontSize,fontFamily:v.fontFamily,stroke:v.innerLabelBorderColor,lineWidth:v.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:v.overflowLabelFillColor,fontSize:v.overflowLabelFontSize,fontFamily:v.fontFamily,stroke:v.overflowLabelBorderColor,lineWidth:v.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:v.labelLineBorder}},autoRotate:!0}}}var rr={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ir={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Pr=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Or=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Zr=function(f){f===void 0&&(f={});var s=f.backgroundColor,c=s===void 0?"transparent":s,m=f.paletteQualitative10,R=m===void 0?Pr:m,K=f.paletteQualitative20,ht=K===void 0?Or:K,Tt=f.paletteSemanticRed,Bt=Tt===void 0?"#F4664A":Tt,Ht=f.paletteSemanticGreen,$t=Ht===void 0?"#30BF78":Ht,te=f.paletteSemanticYellow,re=te===void 0?"#FAAD14":te,ve=f.fontFamily,me=ve===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:ve,_e=f.brandColor,tr=_e===void 0?R[0]:_e;return{backgroundColor:c,brandColor:tr,paletteQualitative10:R,paletteQualitative20:ht,paletteSemanticRed:Bt,paletteSemanticGreen:$t,paletteSemanticYellow:re,fontFamily:me,axisLineBorderColor:rr[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:rr[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:rr[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:rr[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:rr[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:rr[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:rr[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:tr,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:rr[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:rr[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:rr[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:rr[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:rr[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:rr[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:rr[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:rr[25],annotationArcBorderColor:rr[15],annotationArcBorder:1,annotationLineBorderColor:rr[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:rr[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:rr[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:rr[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:rr[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:rr[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ir[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:rr[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Ir[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:rr[25],pointFillColor:tr,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ir[100],pointBorderOpacity:1,pointActiveBorderColor:rr[100],pointSelectedBorder:2,pointSelectedBorderColor:rr[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:tr,hollowPointBorderOpacity:.95,hollowPointFillColor:Ir[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:rr[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:rr[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:tr,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:tr,areaFillOpacity:.25,areaActiveFillColor:tr,areaActiveFillOpacity:.5,areaSelectedFillColor:tr,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:tr,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:rr[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:rr[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:tr,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:rr[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:rr[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:tr,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ir[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:rr[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:rr[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},ln=Zr();function Dr(v){var f=v.styleSheet,s=f===void 0?{}:f,c=Object(h.e)(v,["styleSheet"]),m=Zr(s);return Object(i.h)({},nr(m),c)}var In=Dr({}),xa={default:In};function Yn(v){return Object(i.s)(xa,Object(i.T)(v),xa.default)}function Jn(v,f){xa[Object(i.T)(v)]=Dr(f)}function fa(v,f,s){var c=s.translate(v),m=s.translate(f);return Object(i.L)(c,m)}function ua(v,f){var s=f.coordinate,c=f.getXScale(),m=c.range,R=m[m.length-1],K=m[0],ht=s.invert(v),Tt=ht.x;return s.isPolar&&Tt>(1+R)/2&&(Tt=K),c.translate(c.invert(Tt))}function Ea(v,f,s){var c=s.coordinate,m=s.getYScale(),R=m.field,K=c.invert(f),ht=m.invert(K.y),Tt=Object(i.m)(v,function(Bt){var Ht=Bt[D];return Ht[R][0]<=ht&&Ht[R][1]>=ht});return Tt||v[v.length-1]}var ei=Object(i.Y)(function(v){if(v.isCategory)return 1;for(var f=v.values,s=f.length,c=v.translate(f[0]),m=c,R=0;R<s;R++){var K=f[R],ht=v.translate(K);ht<c&&(c=ht),ht>m&&(m=ht)}return(m-c)/(s-1)});function bi(v,f,s){var c=f.getAttribute("position"),m=c.getFields(),R=f.scales,K=Object(i.H)(s)||!s?m[0]:s,ht=R[K],Tt=ht?ht.getText(v[K]):v[K]||K;return Object(i.H)(s)?s(Tt,v):Tt}function Rn(v){var f=Object(i.ub)(v.attributes);return Object(i.l)(f,function(s){return Object(i.f)(E,s.type)})}function mn(v){for(var f=Rn(v),s,c=0,m=f;c<m.length;c++){var R=m[c],K=R.getScale(R.type);if(K&&K.isLinear){s=K;break}}var ht=v.getXScale(),Tt=v.getYScale();return s||Tt||ht}function oi(v,f){var s=f.field,c=v[s];if(Object(i.B)(c)){var m=c.map(function(R){return f.getText(R)});return m.join("-")}return f.getText(c)}function za(v,f){var s,c=f.getGroupScales();if(c.length&&(s=c[0]),s){var m=s.field;return s.getText(v[m])}var R=mn(f);return Wn(R)}function pa(v,f,s){if(f.length===0)return null;var c=s.type,m=s.getXScale(),R=s.getYScale(),K=m.field,ht=R.field,Tt=null;if(c==="heatmap"||c==="point"){for(var Bt=s.coordinate,Ht=Bt.invert(v),$t=m.invert(Ht.x),te=R.invert(Ht.y),re=Infinity,ve=0;ve<f.length;ve++){var me=f[ve],_e=me[D],tr=Math.pow(_e[K]-$t,2)+Math.pow(_e[ht]-te,2);tr<re&&(re=tr,Tt=me)}return Tt}var yr=f[0],xr=f[f.length-1],nn=ua(v,s),dn=yr[D][K],cn=yr[D][ht],ma=xr[D][K],na=R.isLinear&&Object(i.B)(cn);if(Object(i.B)(dn)){for(var ve=0;ve<f.length;ve++){var Kn=f[ve],_e=Kn[D];if(m.translate(_e[K][0])<=nn&&m.translate(_e[K][1])>=nn)if(na)Object(i.B)(Tt)||(Tt=[]),Tt.push(Kn);else{Tt=Kn;break}}Object(i.B)(Tt)&&(Tt=Ea(Tt,v,s))}else{var ka=void 0;if(!m.isLinear&&m.type!=="timeCat"){for(var ve=0;ve<f.length;ve++){var Kn=f[ve],_e=Kn[D];if(fa(_e[K],nn,m))if(na)Object(i.B)(Tt)||(Tt=[]),Tt.push(Kn);else{Tt=Kn;break}else m.translate(_e[K])<=nn&&(xr=Kn,ka=f[ve+1])}Object(i.B)(Tt)&&(Tt=Ea(Tt,v,s))}else{if((nn>m.translate(ma)||nn<m.translate(dn))&&(nn>m.max||nn<m.min))return null;for(var gi=0,ui=f.length-1,Qi=void 0;gi<=ui;){Qi=Math.floor((gi+ui)/2);var Lo=f[Qi][D][K];if(fa(Lo,nn,m))return f[Qi];m.translate(Lo)<=m.translate(nn)?(gi=Qi+1,xr=f[Qi],ka=f[Qi+1]):(ui===0&&(xr=f[0]),ui=Qi-1)}}xr&&ka&&Math.abs(m.translate(xr[D][K])-nn)>Math.abs(m.translate(ka[D][K])-nn)&&(xr=ka)}var mo=ei(s.getXScale());return!Tt&&Math.abs(m.translate(xr[D][K])-nn)<=mo/2&&(Tt=xr),Tt}function Oe(v,f,s,c){s===void 0&&(s=""),c===void 0&&(c=!1);var m=v[D],R=bi(m,f,s),K=f.tooltipOption,ht=f.theme.defaultColor,Tt=[],Bt,Ht;function $t(ma,na){if(c||!Object(i.I)(na)&&na!==""){var Kn={title:R,data:m,mappingData:v,name:ma,value:na,color:v.color||ht,marker:!0};Tt.push(Kn)}}if(Object(i.M)(K)){var te=K.fields,re=K.callback;if(re){var ve=te.map(function(ma){return v[D][ma]}),me=re.apply(void 0,ve),_e=Object(h.a)({data:v[D],mappingData:v,title:R,color:v.color||ht,marker:!0},me);Tt.push(_e)}else for(var tr=f.scales,yr=0,xr=te;yr<xr.length;yr++){var nn=xr[yr];if(!Object(i.I)(m[nn])){var dn=tr[nn];Bt=Wn(dn),Ht=dn.getText(m[nn]),$t(Bt,Ht)}}}else{var cn=mn(f);Ht=oi(m,cn),Bt=za(m,f),$t(Bt,Ht)}return Tt}function le(v){return!Object(i.K)(v)&&!Object(i.B)(v)}function je(v){v===void 0&&(v=0);var f=Object(i.B)(v)?v:[v];switch(f.length){case 0:f=[0,0,0,0];break;case 1:f=new Array(4).fill(f[0]);break;case 2:f=Object(h.g)(f,f);break;case 3:f=Object(h.g)(f,[f[1]]);break;default:f=f.slice(0,4);break}return f}var Qe={};function br(v,f){Qe[v]=f}function Qr(v){delete Qe[v]}function ta(){return Object.keys(Qe)}function Ja(v){return Qe[v]}var si=function(){function v(f){this.option=this.wrapperOption(f)}return v.prototype.update=function(f){return this.option=this.wrapperOption(f),this},v.prototype.hasAction=function(f){var s=this.option.actions;return Object(i.kb)(s,function(c){return c[0]===f})},v.prototype.create=function(f,s){var c=this.option,m=c.type,R=c.cfg,K=m==="theta",ht=Object(h.a)({start:f,end:s},R),Tt=j(K?"polar":m);return this.coordinate=new Tt(ht),this.coordinate.type=m,K&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},v.prototype.adjust=function(f,s){return this.coordinate.update({start:f,end:s}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},v.prototype.rotate=function(f){return this.option.actions.push(["rotate",f]),this},v.prototype.reflect=function(f){return this.option.actions.push(["reflect",f]),this},v.prototype.scale=function(f,s){return this.option.actions.push(["scale",f,s]),this},v.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},v.prototype.getOption=function(){return this.option},v.prototype.getCoordinate=function(){return this.coordinate},v.prototype.wrapperOption=function(f){return Object(h.a)({type:"rect",actions:[],cfg:{}},f)},v.prototype.execActions=function(f){var s=this,c=this.option.actions;Object(i.j)(c,function(m){var R,K=m[0],ht=m.slice(1),Tt=Object(i.I)(f)?!0:f.includes(K);Tt&&(R=s.coordinate)[K].apply(R,ht)})},v}(),No=si,Es=function(){function v(f,s,c){this.view=f,this.gEvent=s,this.data=c,this.type=s.type}return v.fromData=function(f,s,c){return new v(f,new tt.Event(s,{}),c)},Object.defineProperty(v.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),v.prototype.toString=function(){return"[Event (type="+this.type+")]"},v.prototype.clone=function(){return new v(this.view,this.gEvent,this.data)},v}(),So=Es;function Ms(v){var f=v.getController("axis"),s=v.getController("legend"),c=v.getController("annotation"),m=v.getController("slider"),R=v.getController("scrollbar");[f,m,R,s,c].forEach(function(K){K&&K.layout()})}var au=function(){function v(){this.scales=new Map,this.syncScales=new Map}return v.prototype.createScale=function(f,s,c,m){var R=c,K=this.getScaleMeta(m);if(s.length===0&&K){var ht=K.scale,Tt={type:ht.type};ht.isCategory&&(Tt.values=ht.values),R=Object(i.h)(Tt,K.scaleDef,c)}var Bt=ba(f,s,R);return this.cacheScale(Bt,c,m),Bt},v.prototype.sync=function(f,s){var c=this;this.syncScales.forEach(function(m,R){var K=Number.MAX_SAFE_INTEGER,ht=Number.MIN_SAFE_INTEGER,Tt=[];Object(i.j)(m,function(Bt){var Ht=c.getScale(Bt);ht=Object(i.K)(Ht.max)?Math.max(ht,Ht.max):ht,K=Object(i.K)(Ht.min)?Math.min(K,Ht.min):K,Object(i.j)(Ht.values,function($t){Tt.includes($t)||Tt.push($t)})}),Object(i.j)(m,function(Bt){var Ht=c.getScale(Bt);if(Ht.isContinuous)Ht.change({min:K,max:ht,values:Tt});else if(Ht.isCategory){var $t=Ht.range,te=c.getScaleMeta(Bt);Tt&&!Object(i.s)(te,["scaleDef","range"])&&($t=ai(Object(i.h)({},Ht,{values:Tt}),f,s)),Ht.change({values:Tt,range:$t})}})})},v.prototype.cacheScale=function(f,s,c){var m=this.getScaleMeta(c);m&&m.scale.type===f.type?(Oa(m.scale,f),m.scaleDef=s):(m={key:c,scale:f,scaleDef:s},this.scales.set(c,m));var R=this.getSyncKey(m);if(m.syncKey=R,this.removeFromSyncScales(c),R){var K=this.syncScales.get(R);K||(K=[],this.syncScales.set(R,K)),K.push(c)}},v.prototype.getScale=function(f){var s=this.getScaleMeta(f);if(!s){var c=Object(i.S)(f.split("-")),m=this.syncScales.get(c);m&&m.length&&(s=this.getScaleMeta(m[0]))}return s&&s.scale},v.prototype.deleteScale=function(f){var s=this.getScaleMeta(f);if(s){var c=s.syncKey,m=this.syncScales.get(c);if(m&&m.length){var R=m.indexOf(f);R!==-1&&m.splice(R,1)}}this.scales.delete(f)},v.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},v.prototype.removeFromSyncScales=function(f){var s=this;this.syncScales.forEach(function(c,m){var R=c.indexOf(f);if(R!==-1)return c.splice(R,1),c.length===0&&s.syncScales.delete(m),!1})},v.prototype.getSyncKey=function(f){var s=f.scale,c=f.scaleDef,m=s.field,R=Object(i.s)(c,["sync"]);return R===!0?m:R===!1?void 0:R},v.prototype.getScaleMeta=function(f){return this.scales.get(f)},v}(),rs=function(){function v(f,s,c,m){f===void 0&&(f=0),s===void 0&&(s=0),c===void 0&&(c=0),m===void 0&&(m=0),this.top=f,this.right=s,this.bottom=c,this.left=m}return v.instance=function(f,s,c,m){return f===void 0&&(f=0),s===void 0&&(s=0),c===void 0&&(c=0),m===void 0&&(m=0),new v(f,s,c,m)},v.prototype.max=function(f){var s=f[0],c=f[1],m=f[2],R=f[3];return this.top=Math.max(this.top,s),this.right=Math.max(this.right,c),this.bottom=Math.max(this.bottom,m),this.left=Math.max(this.left,R),this},v.prototype.shrink=function(f){var s=f[0],c=f[1],m=f[2],R=f[3];return this.top+=s,this.right+=c,this.bottom+=m,this.left+=R,this},v.prototype.inc=function(f,s){var c=f.width,m=f.height;switch(s){case x.TOP:case x.TOP_LEFT:case x.TOP_RIGHT:this.top+=m;break;case x.RIGHT:case x.RIGHT_TOP:case x.RIGHT_BOTTOM:this.right+=c;break;case x.BOTTOM:case x.BOTTOM_LEFT:case x.BOTTOM_RIGHT:this.bottom+=m;break;case x.LEFT:case x.LEFT_TOP:case x.LEFT_BOTTOM:this.left+=c;break;default:break}return this},v.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},v.prototype.clone=function(){return new(v.bind.apply(v,Object(h.g)([void 0],this.getPadding())))},v}();function Xu(v){var f=v.padding;if(!le(f))return new(rs.bind.apply(rs,Object(h.g)([void 0],je(f))));var s=v.viewBBox,c=new rs,m=[],R=[],K=[];return Object(i.j)(v.getComponents(),function(ht){var Tt=ht.type;Tt===C.AXIS?m.push(ht):[C.LEGEND,C.SLIDER,C.SCROLLBAR].includes(Tt)?R.push(ht):Tt!==C.GRID&&Tt!==C.TOOLTIP&&K.push(ht)}),Object(i.j)(m,function(ht){var Tt=ht.component,Bt=Tt.getLayoutBBox(),Ht=new Ce(Bt.x,Bt.y,Bt.width,Bt.height),$t=Ht.exceed(s);c.max($t)}),Object(i.j)(R,function(ht){var Tt=ht.component,Bt=ht.direction,Ht=Tt.getLayoutBBox(),$t=Tt.get("padding"),te=new Ce(Ht.x,Ht.y,Ht.width,Ht.height).expand($t);c.inc(te,Bt)}),Object(i.j)(K,function(ht){var Tt=ht.component,Bt=ht.direction,Ht=Tt.getLayoutBBox(),$t=new Ce(Ht.x,Ht.y,Ht.width,Ht.height);c.inc($t,Bt)}),c}function iu(v,f,s){var c=s.instance();f.forEach(function(m){m.autoPadding=c.max(m.autoPadding.getPadding())})}var ou=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,{visible:s.visible})||this;c.views=[],c.geometries=[],c.controllers=[],c.interactions={},c.limitInPlot=!1,c.options={data:[],animate:!0},c.usedControllers=ta(),c.scalePool=new au,c.layoutFunc=Ms,c.isPreMouseInPlot=!1,c.isDataChanged=!1,c.isCoordinateChanged=!1,c.createdScaleKeys=new Map,c.onCanvasEvent=function(xr){var nn=xr.name;if(!nn.includes(":")){var dn=c.createViewEvent(xr);c.doPlotEvent(dn),c.emit(nn,dn)}},c.onDelegateEvents=function(xr){var nn=xr.name;if(!!nn.includes(":")){var dn=c.createViewEvent(xr);c.emit(nn,dn)}};var m=s.id,R=m===void 0?Object(i.sb)("view"):m,K=s.parent,ht=s.canvas,Tt=s.backgroundGroup,Bt=s.middleGroup,Ht=s.foregroundGroup,$t=s.region,te=$t===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:$t,re=s.padding,ve=s.appendPadding,me=s.theme,_e=s.options,tr=s.limitInPlot,yr=s.syncViewPadding;return c.parent=K,c.canvas=ht,c.backgroundGroup=Tt,c.middleGroup=Bt,c.foregroundGroup=Ht,c.region=te,c.padding=re,c.appendPadding=ve,c.options=Object(h.a)(Object(h.a)({},c.options),_e),c.limitInPlot=tr,c.id=R,c.syncViewPadding=yr,c.themeObject=Object(i.M)(me)?Object(i.h)({},Yn("default"),Dr(me)):Yn(me),c.init(),c}return f.prototype.setLayout=function(s){this.layoutFunc=s},f.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},f.prototype.render=function(s){s===void 0&&(s=!1),this.emit(S.BEFORE_RENDER),this.paint(s),this.emit(S.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},f.prototype.clear=function(){var s=this;this.emit(S.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var c=this.geometries,m=0;m<c.length;m++)c[m].clear(),c[m].container.remove(!0);this.geometries=[];for(var R=this.controllers,m=0;m<R.length;m++)R[m].name==="annotation"?R[m].clear(!0):R[m].clear();this.createdScaleKeys.forEach(function(ht,Tt){s.getRootView().scalePool.deleteScale(Tt)}),this.createdScaleKeys.clear();for(var K=this.views,m=0;m<K.length;m++)K[m].clear();this.emit(S.AFTER_CLEAR)},f.prototype.destroy=function(){this.emit(S.BEFORE_DESTROY);var s=this.interactions;Object(i.j)(s,function(ht){ht&&ht.destroy()}),this.clear();for(var c=this.controllers,m=0,R=c.length;m<R;m++){var K=c[m];K.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),v.prototype.destroy.call(this)},f.prototype.changeVisible=function(s){v.prototype.changeVisible.call(this,s);for(var c=this.geometries,m=0,R=c.length;m<R;m++){var K=c[m];K.changeVisible(s)}for(var ht=this.controllers,m=0,R=ht.length;m<R;m++){var Tt=ht[m];Tt.changeVisible(s)}return this.foregroundGroup.set("visible",s),this.middleGroup.set("visible",s),this.backgroundGroup.set("visible",s),this.getCanvas().draw(),this},f.prototype.data=function(s){return Object(i.ib)(this.options,"data",s),this.isDataChanged=!0,this},f.prototype.source=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(s)},f.prototype.filter=function(s,c){return Object(i.H)(c)?(Object(i.ib)(this.options,["filters",s],c),this):(!c&&Object(i.s)(this.options,["filters",s])&&delete this.options.filters[s],this)},f.prototype.axis=function(s,c){return Object(i.C)(s)?Object(i.ib)(this.options,["axes"],s):Object(i.ib)(this.options,["axes",s],c),this},f.prototype.legend=function(s,c){return Object(i.C)(s)?Object(i.ib)(this.options,["legends"],s):Object(i.O)(s)?(Object(i.ib)(this.options,["legends",s],c),Object(i.N)(c)&&(c==null?void 0:c.selected)&&Object(i.ib)(this.options,["filters",s],function(m){var R;return(R=c==null?void 0:c.selected[m])!==null&&R!==void 0?R:!0})):Object(i.ib)(this.options,["legends"],s),this},f.prototype.scale=function(s,c){var m=this;return Object(i.O)(s)?Object(i.ib)(this.options,["scales",s],c):Object(i.M)(s)&&Object(i.j)(s,function(R,K){Object(i.ib)(m.options,["scales",K],R)}),this},f.prototype.tooltip=function(s){return Object(i.ib)(this.options,"tooltip",s),this},f.prototype.annotation=function(){return this.getController("annotation")},f.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},f.prototype.coordinate=function(s,c){return Object(i.O)(s)?Object(i.ib)(this.options,"coordinate",{type:s,cfg:c}):Object(i.ib)(this.options,"coordinate",s),this.coordinateController.update(this.options.coordinate),this.coordinateController},f.prototype.coord=function(s,c){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(s,c)},f.prototype.facet=function(s,c){this.facetInstance&&this.facetInstance.destroy();var m=Ya(s);if(!m)throw new Error("facet '"+s+"' is not exist!");return this.facetInstance=new m(this,Object(h.a)(Object(h.a)({},c),{type:s})),this},f.prototype.animate=function(s){return Object(i.ib)(this.options,"animate",s),this},f.prototype.updateOptions=function(s){return this.clear(),Object(i.bb)(this.options,s),this.views.forEach(function(c){return c.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},f.prototype.option=function(s,c){if(f.prototype[s])throw new Error(`Can't use built in variable name "`+s+'", please change another one.');return Object(i.ib)(this.options,s,c),this},f.prototype.theme=function(s){return this.themeObject=Object(i.M)(s)?Object(i.h)({},this.themeObject,Dr(s)):Yn(s),this},f.prototype.interaction=function(s,c){var m=this.interactions[s];m&&m.destroy();var R=Le(s,this,c);return R&&(R.init(),this.interactions[s]=R),this},f.prototype.removeInteraction=function(s){var c=this.interactions[s];c&&(c.destroy(),this.interactions[s]=void 0)},f.prototype.changeData=function(s){this.isDataChanged=!0,this.emit(S.BEFORE_CHANGE_DATA,So.fromData(this,S.BEFORE_CHANGE_DATA,null)),this.data(s),this.paint(!0);for(var c=this.views,m=0,R=c.length;m<R;m++){var K=c[m];K.changeData(s)}this.emit(S.AFTER_CHANGE_DATA,So.fromData(this,S.AFTER_CHANGE_DATA,null))},f.prototype.createView=function(s){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var c={data:this.options.data,scales:Object(i.e)(this.options.scales),axes:Object(i.e)(this.options.axes),coordinate:Object(i.e)(this.coordinateController.getOption()),tooltip:Object(i.e)(this.options.tooltip),legends:Object(i.e)(this.options.legends),animate:this.options.animate,visible:this.visible},m=new f(Object(h.a)(Object(h.a)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:A.BG}),middleGroup:this.middleGroup.addGroup({zIndex:A.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:A.FORE}),theme:this.themeObject,padding:this.padding},s),{options:Object(h.a)(Object(h.a)({},c),Object(i.s)(s,"options",{}))}));return this.views.push(m),m},f.prototype.view=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(s)},f.prototype.removeView=function(s){var c=Object(i.gb)(this.views,function(m){return m===s})[0];return c&&c.destroy(),c},f.prototype.getCoordinate=function(){return this.coordinateInstance},f.prototype.getTheme=function(){return this.themeObject},f.prototype.getXScale=function(){var s=this.geometries[0];return s?s.getXScale():null},f.prototype.getYScales=function(){var s={};return this.geometries.map(function(c){var m=c.getYScale(),R=m.field;if(!s[R])return s[R]=!0,m})},f.prototype.getScalesByDim=function(s){for(var c=this.geometries,m={},R=0,K=c.length;R<K;R++){var ht=c[R],Tt=s==="x"?ht.getXScale():ht.getYScale();Tt&&!m[Tt.field]&&(m[Tt.field]=Tt)}return m},f.prototype.getScaleByField=function(s,c){var m=c||this.getScaleKey(s);return this.getRootView().scalePool.getScale(m)},f.prototype.getOptions=function(){return this.options},f.prototype.getData=function(){return this.filteredData},f.prototype.getLayer=function(s){return s===O.BG?this.backgroundGroup:s===O.MID?this.middleGroup:s===O.FORE?this.foregroundGroup:this.foregroundGroup},f.prototype.isPointInPlot=function(s){return Fr(this.getCoordinate(),s)},f.prototype.getLegendAttributes=function(){return Object(i.q)(this.geometries.map(function(s){return s.getGroupAttributes()}))},f.prototype.getGroupScales=function(){var s=this.geometries.map(function(c){return c.getGroupScales()});return or(Object(i.q)(s))},f.prototype.getCanvas=function(){return this.getRootView().canvas},f.prototype.getRootView=function(){for(var s=this;;){if(s.parent){s=s.parent;continue}break}return s},f.prototype.getXY=function(s){var c=this.getCoordinate(),m=this.getScalesByDim("x"),R=this.getScalesByDim("y"),K,ht;if(Object(i.j)(s,function(Tt,Bt){m[Bt]&&(K=m[Bt].scale(Tt)),R[Bt]&&(ht=R[Bt].scale(Tt))}),!Object(i.I)(K)&&!Object(i.I)(ht))return c.convert({x:K,y:ht})},f.prototype.getController=function(s){return Object(i.m)(this.controllers,function(c){return c.name===s})},f.prototype.showTooltip=function(s){var c=this.getController("tooltip");return c&&c.showTooltip(s),this},f.prototype.hideTooltip=function(){var s=this.getController("tooltip");return s&&s.hideTooltip(),this},f.prototype.lockTooltip=function(){var s=this.getController("tooltip");return s&&s.lockTooltip(),this},f.prototype.unlockTooltip=function(){var s=this.getController("tooltip");return s&&s.unlockTooltip(),this},f.prototype.isTooltipLocked=function(){var s=this.getController("tooltip");return s&&s.isTooltipLocked()},f.prototype.getTooltipItems=function(s){var c=this.getController("tooltip");return c?c.getTooltipItems(s):[]},f.prototype.getSnapRecords=function(s){for(var c=this.geometries,m=[],R=0,K=c.length;R<K;R++){var ht=c[R],Tt=ht.dataArray;ht.sort(Tt);for(var Bt=void 0,Ht=0,$t=Tt.length;Ht<$t;Ht++){var te=Tt[Ht];Bt=pa(s,te,ht),Bt&&m.push(Bt)}}for(var re=this.views,R=0,K=re.length;R<K;R++){var ve=re[R],me=ve.getSnapRecords(s);m=m.concat(me)}return m},f.prototype.getComponents=function(){for(var s=[],c=this.controllers,m=0,R=c.length;m<R;m++){var K=c[m];s=s.concat(K.getComponents())}return s},f.prototype.filterData=function(s){var c=this.options.filters;return Object(i.jb)(c)===0?s:Object(i.l)(s,function(m,R){var K=Object.keys(c);return K.every(function(ht){var Tt=c[ht];return Tt(m[ht],m,R)})})},f.prototype.filterFieldData=function(s,c){var m=this.options.filters,R=Object(i.s)(m,s);return Object(i.Q)(R)?c:c.filter(function(K,ht){return R(K[s],K,ht)})},f.prototype.adjustCoordinate=function(){var s=this.getCoordinate(),c=s.start,m=s.end,R=this.coordinateBBox.bl,K=this.coordinateBBox.tr;if(Object(i.G)(c,R)&&Object(i.G)(m,K)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(R,K)},f.prototype.paint=function(s){this.renderDataRecursive(s),this.syncScale(),this.emit(S.BEFORE_PAINT),this.renderPaddingRecursive(s),this.renderLayoutRecursive(s),this.renderBackgroundStyleShape(),this.renderPaintRecursive(s),this.emit(S.AFTER_PAINT),this.isDataChanged=!1},f.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var s=Object(i.s)(this.themeObject,"background");if(s){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var c=this.viewBBox,m=c.x,R=c.y,K=c.width,ht=c.height;this.backgroundStyleRectShape.attr({fill:s,x:m,y:R,width:K,height:ht})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},f.prototype.renderPaddingRecursive=function(s){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(s),this.autoPadding=Xu(this).shrink(je(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var c=this.views,m=0,R=c.length;m<R;m++){var K=c[m];K.renderPaddingRecursive(s)}},f.prototype.renderLayoutRecursive=function(s){var c=this.syncViewPadding===!0?iu:Object(i.H)(this.syncViewPadding)?this.syncViewPadding:void 0;c&&(c(this,this.views,rs),this.views.forEach(function(Tt){Tt.coordinateBBox=Tt.viewBBox.shrink(Tt.autoPadding.getPadding()),Tt.adjustCoordinate()})),this.doLayout();for(var m=this.views,R=0,K=m.length;R<K;R++){var ht=m[R];ht.renderLayoutRecursive(s)}},f.prototype.renderPaintRecursive=function(s){var c=this.middleGroup;if(this.limitInPlot){var m=yn(this.coordinateInstance),R=m.type,K=m.attrs;c.setClip({type:R,attrs:K})}else c.setClip(void 0);this.paintGeometries(s),this.renderComponents(s);for(var ht=this.views,Tt=0,Bt=ht.length;Tt<Bt;Tt++){var Ht=ht[Tt];Ht.renderPaintRecursive(s)}},f.prototype.createScale=function(s,c,m,R){var K=Object(i.s)(this.options.scales,[s]),ht=Object(h.a)(Object(h.a)({},K),m);return this.parent?this.parent.createScale(s,c,ht,R):this.scalePool.createScale(s,c,ht,R)},f.prototype.renderDataRecursive=function(s){this.doFilterData(),this.createCoordinate(),this.initGeometries(s),this.renderFacet(s);for(var c=this.views,m=0,R=c.length;m<R;m++){var K=c[m];K.renderDataRecursive(s)}},f.prototype.calculateViewBBox=function(){var s,c,m,R;if(this.parent){var K=this.parent.coordinateBBox;s=K.x,c=K.y,m=K.width,R=K.height}else s=0,c=0,m=this.canvas.get("width"),R=this.canvas.get("height");var ht=this.region,Tt=ht.start,Bt=ht.end,Ht=new Ce(s+m*Tt.x,c+R*Tt.y,m*(Bt.x-Tt.x),R*(Bt.y-Tt.y));(!this.viewBBox||!this.viewBBox.isEqual(Ht))&&(this.viewBBox=new Ce(s+m*Tt.x,c+R*Tt.y,m*(Bt.x-Tt.x),R*(Bt.y-Tt.y))),this.coordinateBBox=this.viewBBox},f.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},f.prototype.initComponentController=function(){for(var s=this.usedControllers,c=0,m=s.length;c<m;c++){var R=s[c],K=Ja(R);K&&this.controllers.push(new K(this))}},f.prototype.createViewEvent=function(s){var c=s.shape,m=s.name,R=c?c.get("origin"):null,K=new So(this,s,R);return K.type=m,K},f.prototype.doPlotEvent=function(s){var c=s.type,m=s.x,R=s.y,K={x:m,y:R},ht=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(ht.includes(c)){var Tt=this.isPointInPlot(K),Bt=s.clone();if(Tt){var Ht="plot:"+c;Bt.type=Ht,this.emit(Ht,Bt),(c==="mouseleave"||c==="touchend")&&(this.isPreMouseInPlot=!1)}c==="mousemove"||c==="touchmove"?(this.isPreMouseInPlot&&!Tt?(c==="mousemove"&&(Bt.type=b.MOUSE_LEAVE,this.emit(b.MOUSE_LEAVE,Bt)),Bt.type=b.LEAVE,this.emit(b.LEAVE,Bt)):!this.isPreMouseInPlot&&Tt&&(c==="mousemove"&&(Bt.type=b.MOUSE_ENTER,this.emit(b.MOUSE_ENTER,Bt)),Bt.type=b.ENTER,this.emit(b.ENTER,Bt)),this.isPreMouseInPlot=Tt):(c==="mouseleave"||c==="touchend")&&this.isPreMouseInPlot&&(c==="mouseleave"&&(Bt.type=b.MOUSE_LEAVE,this.emit(b.MOUSE_LEAVE,Bt)),Bt.type=b.LEAVE,this.emit(b.LEAVE,Bt),this.isPreMouseInPlot=!1)}},f.prototype.doFilterData=function(){var s=this.options.data;this.filteredData=this.filterData(s)},f.prototype.initGeometries=function(s){this.createOrUpdateScales();for(var c=this.getCoordinate(),m=Object(i.s)(this.options,"scales",{}),R=this.geometries,K=0,ht=R.length;K<ht;K++){var Tt=R[K];Tt.scales=this.getGeometryScales();var Bt={coordinate:c,scaleDefs:m,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};s?Tt.update(Bt):Tt.init(Bt)}this.adjustScales()},f.prototype.createOrUpdateScales=function(){for(var s=this.getScaleFields(),c=this.getGroupedFields(),m=this.getOptions(),R=m.data,K=m.scales,ht=K===void 0?{}:K,Tt=this.filteredData,Bt=0,Ht=s.length;Bt<Ht;Bt++){var $t=s[Bt],te=ht[$t],re=this.getScaleKey($t);this.createScale($t,c.includes($t)?R:Tt,te,re),this.createdScaleKeys.set(re,!0)}},f.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},f.prototype.getGeometryScales=function(){for(var s=this.getScaleFields(),c={},m=0;m<s.length;m++){var R=s[m];c[R]=this.getScaleByField(R)}return c},f.prototype.getScaleFields=function(){for(var s=[],c={},m=this.geometries,R=0;R<m.length;R++){var K=m[R],ht=K.getScaleFields();or(ht,s,c)}return s},f.prototype.getGroupedFields=function(){for(var s=[],c={},m=this.geometries,R=0;R<m.length;R++){var K=m[R],ht=K.getGroupFields();or(ht,s,c)}return s},f.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},f.prototype.adjustCategoryScaleRange=function(){var s=this,c=Object(h.g)([this.getXScale()],this.getYScales()).filter(function(K){return!!K}),m=this.getCoordinate(),R=this.options.scales;Object(i.j)(c,function(K){var ht=K.field,Tt=K.values,Bt=K.isCategory,Ht=K.isIdentity;(Bt||Ht)&&Tt&&!Object(i.s)(R,[ht,"range"])&&(K.range=ai(K,m,s.theme))})},f.prototype.initComponents=function(s){for(var c=this.controllers,m=0;m<c.length;m++){var R=c[m];s?R.update():(R.clear(),R.render())}},f.prototype.doLayout=function(){this.layoutFunc(this)},f.prototype.createCoordinate=function(){var s=this.coordinateBBox.bl,c=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(s,c)},f.prototype.paintGeometries=function(s){for(var c=this.options.animate,m=this.getCoordinate(),R={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},K=this.geometries,ht=0;ht<K.length;ht++){var Tt=K[ht];Tt.coordinate=m,Tt.canvasRegion=R,c||Tt.animate(!1),Tt.paint(s)}},f.prototype.renderComponents=function(s){for(var c=0;c<this.getComponents().length;c++){var m=this.getComponents()[c];m.component.render()}},f.prototype.renderFacet=function(s){this.facetInstance&&(s?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},f.prototype.initOptions=function(){var s=this,c=this.options,m=c.geometries,R=m===void 0?[]:m,K=c.interactions,ht=K===void 0?[]:K,Tt=c.views,Bt=Tt===void 0?[]:Tt,Ht=c.annotations,$t=Ht===void 0?[]:Ht,te=c.coordinate,re=c.events,ve=c.facets;this.coordinateController?te&&this.coordinateController.update(te):this.coordinateController=new No(te);for(var me=0;me<R.length;me++){var _e=R[me];this.createGeometry(_e)}for(var tr=0;tr<ht.length;tr++){var yr=ht[tr],xr=yr.type,nn=yr.cfg;this.interaction(xr,nn)}for(var dn=0;dn<Bt.length;dn++){var cn=Bt[dn];this.createView(cn)}for(var ma=this.getController("annotation"),na=0;na<$t.length;na++){var Kn=$t[na];ma.annotation(Kn)}re&&Object(i.j)(re,function(ka,gi){s.on(gi,ka)}),ve&&Object(i.j)(ve,function(ka){var gi=ka.type,ui=Object(h.e)(ka,["type"]);s.facet(gi,ui)})},f.prototype.createGeometry=function(s){var c=s.type,m=s.cfg,R=m===void 0?{}:m;if(this[c]){var K=this[c](R);Object(i.j)(s,function(ht,Tt){Object(i.H)(K[Tt])&&K[Tt](ht)})}},f.prototype.getScaleKey=function(s){return this.id+"-"+s},f}(st);function ns(v,f){ou.prototype[v.toLowerCase()]=function(s){s===void 0&&(s={});var c=Object(h.a)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},s),m=new f(c);return this.geometries.push(m),m}}var Bc=ou,Rf=function(v){Object(h.c)(f,v);function f(s){var c=this,m=s.container,R=s.width,K=s.height,ht=s.autoFit,Tt=ht===void 0?!1:ht,Bt=s.padding,Ht=s.appendPadding,$t=s.renderer,te=$t===void 0?"canvas":$t,re=s.pixelRatio,ve=s.localRefresh,me=ve===void 0?!0:ve,_e=s.visible,tr=_e===void 0?!0:_e,yr=s.supportCSSTransform,xr=yr===void 0?!1:yr,nn=s.defaultInteractions,dn=nn===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:nn,cn=s.options,ma=s.limitInPlot,na=s.theme,Kn=s.syncViewPadding,ka=Object(i.O)(m)?document.getElementById(m):m,gi=Object(w.b)('<div style="position:relative;"></div>');ka.appendChild(gi);var ui=V(ka,Tt,R,K),Qi=W(te),Lo=new Qi.Canvas(Object(h.a)({container:gi,pixelRatio:re,localRefresh:me,supportCSSTransform:xr},ui));return c=v.call(this,{parent:null,canvas:Lo,backgroundGroup:Lo.addGroup({zIndex:A.BG}),middleGroup:Lo.addGroup({zIndex:A.MID}),foregroundGroup:Lo.addGroup({zIndex:A.FORE}),padding:Bt,appendPadding:Ht,visible:tr,options:cn,limitInPlot:ma,theme:na,syncViewPadding:Kn})||this,c.onResize=Object(i.g)(function(){c.forceFit()},300),c.ele=ka,c.canvas=Lo,c.width=ui.width,c.height=ui.height,c.autoFit=Tt,c.localRefresh=me,c.renderer=te,c.wrapperElement=gi,c.updateCanvasStyle(),c.bindAutoFit(),c.initDefaultInteractions(dn),c}return f.prototype.initDefaultInteractions=function(s){var c=this;Object(i.j)(s,function(m){c.interaction(m)})},f.prototype.changeSize=function(s,c){return this.width===s&&this.height===c?this:(this.emit(S.BEFORE_CHANGE_SIZE),this.width=s,this.height=c,this.canvas.changeSize(s,c),this.render(!0),this.emit(S.AFTER_CHANGE_SIZE),this)},f.prototype.destroy=function(){v.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),$(this.wrapperElement),this.wrapperElement=null},f.prototype.changeVisible=function(s){return v.prototype.changeVisible.call(this,s),this.wrapperElement.style.display=s?"":"none",this},f.prototype.forceFit=function(){if(!this.destroyed){var s=V(this.ele,!0,this.width,this.height),c=s.width,m=s.height;this.changeSize(c,m)}},f.prototype.updateCanvasStyle=function(){Object(w.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},f.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},f.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},f}(Bc),ra=Rf,ks=function(){function v(f){this.visible=!0,this.components=[],this.view=f}return v.prototype.clear=function(f){Object(i.j)(this.components,function(s){s.component.destroy()}),this.components=[]},v.prototype.destroy=function(){this.clear()},v.prototype.getComponents=function(){return this.components},v.prototype.changeVisible=function(f){this.visible!==f&&(this.components.forEach(function(s){f?s.component.show():s.component.hide()}),this.visible=f)},v}();function wf(v){for(var f=[],s=function(R){var K=v[R],ht=Object(i.m)(f,function(Tt){return Tt.color===K.color&&Tt.name===K.name&&Tt.value===K.value&&Tt.title===K.title});ht||f.push(K)},c=0;c<v.length;c++)s(c);return f}var Hu=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.isLocked=!1,s}return Object.defineProperty(f.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.isVisible=function(){var s=this.view.getOptions().tooltip;return s!==!1},f.prototype.render=function(){},f.prototype.showTooltip=function(s){if(this.point=s,!!this.isVisible()){var c=this.view,m=this.getTooltipItems(s);if(!m.length){this.hideTooltip();return}var R=this.getTitle(m),K={x:m[0].x,y:m[0].y};c.emit("tooltip:show",So.fromData(c,"tooltip:show",Object(h.a)({items:m,title:R},s)));var ht=this.getTooltipCfg(),Tt=ht.follow,Bt=ht.showMarkers,Ht=ht.showCrosshairs,$t=ht.showContent,te=ht.marker,re=this.items,ve=this.title;if(!Object(i.G)(ve,R)||!Object(i.G)(re,m)?(c.emit("tooltip:change",So.fromData(c,"tooltip:change",Object(h.a)({items:m,title:R},s))),(Object(i.H)($t)?$t(m):$t)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(i.bb)({},ht,{items:this.getItemsAfterProcess(m),title:R},Tt?s:{})),this.tooltip.show()),Bt&&this.renderTooltipMarkers(m,te)):(this.tooltip&&Tt&&(this.tooltip.update(s),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=m,this.title=R,Ht){var me=Object(i.s)(ht,["crosshairs","follow"],!1);this.renderCrosshairs(me?s:K,ht)}}},f.prototype.hideTooltip=function(){var s=this.getTooltipCfg().follow;if(!s){this.point=null;return}var c=this.tooltipMarkersGroup;c&&c.hide();var m=this.xCrosshair,R=this.yCrosshair;m&&m.hide(),R&&R.hide();var K=this.tooltip;K&&K.hide(),this.view.emit("tooltip:hide",So.fromData(this.view,"tooltip:hide",{})),this.point=null},f.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},f.prototype.unlockTooltip=function(){this.isLocked=!1;var s=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(s.capture)},f.prototype.isTooltipLocked=function(){return this.isLocked},f.prototype.clear=function(){var s=this,c=s.tooltip,m=s.xCrosshair,R=s.yCrosshair,K=s.tooltipMarkersGroup;c&&(c.hide(),c.clear()),m&&m.clear(),R&&R.clear(),K&&K.clear(),this.reset()},f.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},f.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},f.prototype.changeVisible=function(s){if(this.visible!==s){var c=this,m=c.tooltip,R=c.tooltipMarkersGroup,K=c.xCrosshair,ht=c.yCrosshair;s?(m&&m.show(),R&&R.show(),K&&K.show(),ht&&ht.show()):(m&&m.hide(),R&&R.hide(),K&&K.hide(),ht&&ht.hide()),this.visible=s}},f.prototype.getTooltipItems=function(s){var c=this.findItemsFromView(this.view,s);if(c.length){c=Object(i.q)(c);for(var m=0,R=c;m<R.length;m++)for(var K=R[m],ht=0,Tt=K;ht<Tt.length;ht++){var Bt=Tt[ht],Ht=Bt.mappingData,$t=Ht.x,te=Ht.y;Bt.x=Object(i.B)($t)?$t[$t.length-1]:$t,Bt.y=Object(i.B)(te)?te[te.length-1]:te}var re=this.getTooltipCfg().shared;if(re===!1&&c.length>1){for(var ve=c[0],me=Math.abs(s.y-ve[0].y),_e=0,tr=c;_e<tr.length;_e++){var yr=tr[_e],xr=Math.abs(s.y-yr[0].y);xr<=me&&(ve=yr,me=xr)}c=[ve]}return wf(Object(i.q)(c))}return[]},f.prototype.layout=function(){},f.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var s=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}})}},f.prototype.isCursorEntered=function(s){if(this.tooltip){var c=this.tooltip.getContainer(),m=this.tooltip.get("capture");if(c&&m){var R=c.getBoundingClientRect(),K=R.x,ht=R.y,Tt=R.width,Bt=R.height;return new Ce(K,ht,Tt,Bt).isPointIn(s)}}return!1},f.prototype.getTooltipCfg=function(){var s=this.view,c=s.getOptions().tooltip,m=this.processCustomContent(c),R=s.getTheme(),K=Object(i.s)(R,["components","tooltip"],{}),ht=Object(i.s)(m,"enterable",K.enterable);return Object(i.h)({},K,m,{capture:!!(ht||this.isLocked)})},f.prototype.processCustomContent=function(s){if(Object(i.C)(s)||!Object(i.s)(s,"customContent"))return s;var c=s.customContent,m=function(K,ht){var Tt=c(K,ht)||"";return Object(i.O)(Tt)?'<div class="g2-tooltip">'+Tt+"</div>":Tt};return Object(h.a)(Object(h.a)({},s),{customContent:m})},f.prototype.getTitle=function(s){var c=s[0].title||s[0].name;return this.title=c,c},f.prototype.renderTooltip=function(){var s=this.view.getCanvas(),c={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}},m=this.getTooltipCfg(),R=new Qt(Object(h.a)(Object(h.a)({parent:s.get("el").parentNode,region:c},m),{visible:!1,crosshairs:null}));R.init(),this.tooltip=R},f.prototype.renderTooltipMarkers=function(s,c){for(var m=this.getTooltipMarkersGroup(),R=0,K=s;R<K.length;R++){var ht=K[R],Tt=ht.x,Bt=ht.y,Ht=Object(h.a)(Object(h.a)({fill:ht.color,symbol:"circle",shadowColor:ht.color},c),{x:Tt,y:Bt});m.addShape("marker",{attrs:Ht})}},f.prototype.renderCrosshairs=function(s,c){var m=Object(i.s)(c,["crosshairs","type"],"x");m==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(s,c)):m==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(s,c)):m==="xy"&&(this.renderXCrosshairs(s,c),this.renderYCrosshairs(s,c))},f.prototype.renderXCrosshairs=function(s,c){var m=this.getViewWithGeometry(this.view).getCoordinate();if(!!Fr(m,s)){var R,K;if(m.isRect)m.isTransposed?(R={x:m.start.x,y:s.y},K={x:m.end.x,y:s.y}):(R={x:s.x,y:m.end.y},K={x:s.x,y:m.start.y});else{var ht=hn(m,s),Tt=m.getCenter(),Bt=m.getRadius();K=se(Tt.x,Tt.y,Bt,ht),R=Tt}var Ht=Object(i.h)({start:R,end:K,container:this.getTooltipCrosshairsGroup()},Object(i.s)(c,"crosshairs",{}),this.getCrosshairsText("x",s,c));delete Ht.type;var $t=this.xCrosshair;$t?$t.update(Ht):($t=new gt.Crosshair.Line(Ht),$t.init()),$t.render(),$t.show(),this.xCrosshair=$t}},f.prototype.renderYCrosshairs=function(s,c){var m=this.getViewWithGeometry(this.view).getCoordinate();if(!!Fr(m,s)){var R,K;if(m.isRect){var ht=void 0,Tt=void 0;m.isTransposed?(ht={x:s.x,y:m.end.y},Tt={x:s.x,y:m.start.y}):(ht={x:m.start.x,y:s.y},Tt={x:m.end.x,y:s.y}),R={start:ht,end:Tt},K="Line"}else R={center:m.getCenter(),radius:Sr(m,s),startAngle:m.startAngle,endAngle:m.endAngle},K="Circle";R=Object(i.h)({container:this.getTooltipCrosshairsGroup()},R,Object(i.s)(c,"crosshairs",{}),this.getCrosshairsText("y",s,c)),delete R.type;var Bt=this.yCrosshair;Bt?m.isRect&&Bt.get("type")==="circle"||!m.isRect&&Bt.get("type")==="line"?(Bt=new gt.Crosshair[K](R),Bt.init()):Bt.update(R):(Bt=new gt.Crosshair[K](R),Bt.init()),Bt.render(),Bt.show(),this.yCrosshair=Bt}},f.prototype.getCrosshairsText=function(s,c,m){var R=Object(i.s)(m,["crosshairs","text"]),K=Object(i.s)(m,["crosshairs","follow"]),ht=this.items;if(R){var Tt=this.getViewWithGeometry(this.view),Bt=ht[0],Ht=Tt.getXScale(),$t=Tt.getYScales()[0],te=void 0,re=void 0;if(K){var ve=this.view.getCoordinate().invert(c);te=Ht.invert(ve.x),re=$t.invert(ve.y)}else te=Bt.data[Ht.field],re=Bt.data[$t.field];var me=s==="x"?te:re;return Object(i.H)(R)?R=R(s,me,ht,c):R.content=me,{text:R}}},f.prototype.getGuideGroup=function(){if(!this.guideGroup){var s=this.view.foregroundGroup;this.guideGroup=s.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},f.prototype.getTooltipMarkersGroup=function(){var s=this.tooltipMarkersGroup;return s&&!s.destroyed?(s.clear(),s.show()):(s=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),s.toFront(),this.tooltipMarkersGroup=s),s},f.prototype.getTooltipCrosshairsGroup=function(){var s=this.tooltipCrosshairsGroup;return s||(s=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),s.toBack(),this.tooltipCrosshairsGroup=s),s},f.prototype.getTooltipItemsByHitShape=function(s,c,m){var R=this.getTooltipCfg().showNil,K=[],ht=s.container,Tt=ht.getShape(c.x,c.y);if(Tt&&Tt.get("visible")&&Tt.get("origin")){var Bt=Tt.get("origin").mappingData,Ht=Oe(Bt,s,m,R);Ht.length&&K.push(Ht)}return K},f.prototype.getTooltipItemsByFindData=function(s,c,m){var R=this.getTooltipCfg().showNil,K=[],ht=s.dataArray;if(!Object(i.F)(ht)){s.sort(ht);for(var Tt=0,Bt=ht;Tt<Bt.length;Tt++){var Ht=Bt[Tt],$t=pa(c,Ht,s);if($t){var te=s.getElementId($t),re=s.elementsMap[te];if(s.type==="heatmap"||re.visible){var ve=Oe($t,s,m,R);ve.length&&K.push(ve)}}}}return K},f.prototype.findItemsFromView=function(s,c){if(s.getOptions().tooltip===!1)return[];for(var m=[],R=s.geometries,K=this.getTooltipCfg(),ht=K.shared,Tt=K.title,Bt=K.reversed,Ht=0,$t=R;Ht<$t.length;Ht++){var te=$t[Ht];if(te.visible&&te.tooltipOption!==!1){var re=te.type,ve=void 0;["point","edge","polygon"].includes(re)?ve=this.getTooltipItemsByHitShape(te,c,Tt):["area","line","path","heatmap"].includes(re)?ve=this.getTooltipItemsByFindData(te,c,Tt):ht!==!1?ve=this.getTooltipItemsByFindData(te,c,Tt):ve=this.getTooltipItemsByHitShape(te,c,Tt),ve.length&&(Bt&&ve.reverse(),m.push(ve))}}for(var me=0,_e=s.views;me<_e.length;me++){var tr=_e[me];m=m.concat(this.findItemsFromView(tr,c))}return m},f.prototype.getViewWithGeometry=function(s){var c=this;return s.geometries.length?s:Object(i.m)(s.views,function(m){return c.getViewWithGeometry(m)})},f.prototype.getItemsAfterProcess=function(s){var c=this.getTooltipCfg().customItems,m=c||function(R){return R};return m(s)},f}(ks),su=Hu,Nc={};function Vs(v){return Nc[v.toLowerCase()]}function ao(v,f){Nc[v.toLowerCase()]=f}var Ss={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},lu={interval:function(f){return{enter:{animation:f.isRect?f.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:f.isPolar&&f.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Bf={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(f){var s;return f.isRect?s=f.isTransposed?"grow-in-x":"grow-in-y":(s="grow-in-xy",f.isPolar&&f.isTransposed&&(s="wave-in")),{animation:s}},schema:function(f){var s;return f.isRect?s=f.isTransposed?"grow-in-x":"grow-in-y":s="grow-in-xy",{animation:s}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Fh(v,f){return{delay:Object(i.H)(v.delay)?v.delay(f):v.delay,easing:Object(i.H)(v.easing)?v.easing(f):v.easing,duration:Object(i.H)(v.duration)?v.duration(f):v.duration,callback:v.callback,repeat:v.repeat}}function uu(v,f,s){var c=lu[v];return c&&(Object(i.H)(c)&&(c=c(f)),c=Object(i.h)({},Ss,c),s)?c[s]:c}function Cs(v,f,s){var c=Object(i.s)(v.get("origin"),"data",D),m=f.animation,R=Fh(f,c);if(m){var K=Vs(m);K&&K(v,R,s)}else v.animate(s.toAttrs,R)}function Gh(v,f,s,c,m){if(Bf[s]){var R=Bf[s](c),K=Vs(Object(i.s)(R,"animation",""));if(K){var ht=Object(h.a)(Object(h.a)(Object(h.a)({},Ss.appear),R),f);v.stopAnimate(),K(v,ht,{coordinate:c,minYPoint:m,toAttrs:null})}}}var Fc="element-background",Nf=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.states=[];var m=s.shapeFactory,R=s.container,K=s.offscreenGroup,ht=s.visible,Tt=ht===void 0?!0:ht;return c.shapeFactory=m,c.container=R,c.offscreenGroup=K,c.visible=Tt,c}return f.prototype.draw=function(s,c){c===void 0&&(c=!1),this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.drawShape(s,c),this.visible===!1&&this.changeVisible(!1)},f.prototype.update=function(s){var c=this,m=c.shapeFactory,R=c.shape;if(!!R){this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.setShapeInfo(R,s);var K=this.getOffscreenGroup(),ht=m.drawShape(this.shapeType,s,K);ht.cfg.data=this.data,ht.cfg.origin=s,ht.cfg.element=this,this.syncShapeStyle(R,ht,this.getStates(),this.getAnimateCfg("update"))}},f.prototype.destroy=function(){var s=this,c=s.shapeFactory,m=s.shape;if(m){var R=this.getAnimateCfg("leave");R?Cs(m,R,{coordinate:c.coordinate,toAttrs:Object(h.a)({},m.attr())}):m.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,v.prototype.destroy.call(this)},f.prototype.changeVisible=function(s){v.prototype.changeVisible.call(this,s),s?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(c){c.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(c){c.hide()}))},f.prototype.setState=function(s,c){var m=this,R=m.states,K=m.shapeFactory,ht=m.model,Tt=m.shape,Bt=m.shapeType,Ht=R.indexOf(s);if(c){if(Ht>-1)return;R.push(s),(s==="active"||s==="selected")&&Tt.toFront()}else{if(Ht===-1)return;R.splice(Ht,1),(s==="active"||s==="selected")&&Tt.toBack()}var $t=K.drawShape(Bt,ht,this.getOffscreenGroup());R.length?this.syncShapeStyle(Tt,$t,R,null):this.syncShapeStyle(Tt,$t,["reset"],null),$t.remove(!0);var te={state:s,stateStatus:c,element:this,target:this.container};this.container.emit("statechange",te),Object(gt.propagationDelegate)(this.shape,"statechange",te)},f.prototype.clearStates=function(){var s=this,c=this.states;Object(i.j)(c,function(m){s.setState(m,!1)}),this.states=[]},f.prototype.hasState=function(s){return this.states.includes(s)},f.prototype.getStates=function(){return this.states},f.prototype.getData=function(){return this.data},f.prototype.getModel=function(){return this.model},f.prototype.getBBox=function(){var s=this,c=s.shape,m=s.labelShape,R={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return c&&(R=c.getCanvasBBox()),m&&m.forEach(function(K){var ht=K.getCanvasBBox();R.x=Math.min(ht.x,R.x),R.y=Math.min(ht.y,R.y),R.minX=Math.min(ht.minX,R.minX),R.minY=Math.min(ht.minY,R.minY),R.maxX=Math.max(ht.maxX,R.maxX),R.maxY=Math.max(ht.maxY,R.maxY)}),R.width=R.maxX-R.minX,R.height=R.maxY-R.minY,R},f.prototype.getStatesStyle=function(){if(!this.statesStyle){var s=this,c=s.shapeType,m=s.geometry,R=s.shapeFactory,K=m.stateOption,ht=R.defaultShapeType,Tt=R.theme[c]||R.theme[ht];this.statesStyle=Object(i.h)({},Tt,K)}return this.statesStyle},f.prototype.getStateStyle=function(s,c){var m=this.getStatesStyle(),R=Object(i.s)(m,[s,"style"],{}),K=R[c]||R;return Object(i.H)(K)?K(this):K},f.prototype.getAnimateCfg=function(s){var c=this,m=this.animate;if(m){var R=m[s];return R&&Object(h.a)(Object(h.a)({},R),{callback:function(){var ht;Object(i.H)(R.callback)&&R.callback(),(ht=c.geometry)===null||ht===void 0||ht.emit(M.AFTER_DRAW_ANIMATE)}})}return null},f.prototype.drawShape=function(s,c){var m;c===void 0&&(c=!1);var R=this,K=R.shapeFactory,ht=R.container,Tt=R.shapeType;if(this.shape=K.drawShape(Tt,s,ht),this.shape){this.setShapeInfo(this.shape,s);var Bt=this.shape.cfg.name;Bt?Object(i.O)(Bt)&&(this.shape.cfg.name=["element",Bt]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var Ht=c?"enter":"appear",$t=this.getAnimateCfg(Ht);$t&&((m=this.geometry)===null||m===void 0||m.emit(M.BEFORE_DRAW_ANIMATE),Cs(this.shape,$t,{coordinate:K.coordinate,toAttrs:Object(h.a)({},this.shape.attr())}))}},f.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},f.prototype.setShapeInfo=function(s,c){var m=this;if(s.cfg.origin=c,s.cfg.element=this,s.isGroup()){var R=s.get("children");R.forEach(function(K){m.setShapeInfo(K,c)})}},f.prototype.syncShapeStyle=function(s,c,m,R,K){var ht=this,Tt;if(m===void 0&&(m=[]),K===void 0&&(K=0),!(!s||!c)){var Bt=s.get("clipShape"),Ht=c.get("clipShape");if(this.syncShapeStyle(Bt,Ht,m,R),s.isGroup())for(var $t=s.get("children"),te=c.get("children"),re=0;re<$t.length;re++)this.syncShapeStyle($t[re],te[re],m,R,K+re);else{if(!Object(i.F)(m)&&!Object(i.G)(m,["reset"])){var ve=s.get("name");Object(i.B)(ve)&&(ve=ve[1]),Object(i.j)(m,function(_e){if(c.get("name")!==Fc){var tr=ht.getStateStyle(_e,ve||K);c.attr(tr)}})}var me=we(s,c);this.animate?R?((Tt=this.geometry)===null||Tt===void 0||Tt.emit(M.BEFORE_DRAW_ANIMATE),Cs(s,R,{coordinate:this.shapeFactory.coordinate,toAttrs:me,shapeModel:this.model})):Object(i.F)(m)?(s.stopAnimate(),s.animate(me,{duration:300})):s.attr(me):s.attr(me)}}},f.prototype.getShapeType=function(s){var c=Object(i.s)(s,"shape");return Object(i.B)(c)?c[0]:c},f}(st),cu=Nf,Gc={},fu={};function Yu(v){return Gc[v.toLowerCase()]}function Xs(v,f){Gc[v.toLowerCase()]=f}function hu(v){return fu[v.toLowerCase()]}function Co(v,f){fu[v.toLowerCase()]=f}var Dl={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(f,s){var c=this.getShape(f);return c.getPoints?c.getPoints(s):this.getDefaultPoints(s)},getShape:function(f){var s=this[f]||this[this.defaultShapeType];return s.coordinate=this.coordinate,s},getDefaultPoints:function(){return[]},getDefaultStyle:function(f){return Object(i.s)(f,[this.defaultShapeType,"default","style"],{})},getMarker:function(f,s){var c=this.getShape(f);if(!c.getMarker){var m=this.defaultShapeType;c=this.getShape(m)}var R=this.theme,K=Object(i.s)(R,[f,"default"],{}),ht=c.getMarker(s);return Object(i.h)({},K,ht)},drawShape:function(f,s,c){var m=this.getShape(f);return m.draw(s,c)}},Ku={coordinate:null,parsePath:function(f){var s=this.coordinate,c=Object(Wa.c)(f);return s.isPolar?c=Sn(s,c):c=Bn(s,c),c},parsePoint:function(f){var s=this.coordinate;return s.convert(f)},parsePoints:function(f){var s=this.coordinate;return f.map(function(c){return s.convert(c)})},draw:function(f,s){}},_i={};function ms(v,f){var s=Object(i.tb)(v),c=Object(h.a)(Object(h.a)(Object(h.a)({},Dl),f),{geometryType:v});return _i[s]=c,c}function Mi(v,f,s){var c=Object(i.tb)(v),m=_i[c],R=Object(h.a)(Object(h.a)({},Ku),s);return m[f]=R,R}function Ff(v){var f=Object(i.tb)(v);return _i[f]}function Uh(v,f,s){if(s===void 0&&(s={}),!f)return[v];var c=Object(i.w)(v,f),m=[];if(f.length===1&&s[f[0]])for(var R=s[f[0]],K=0,ht=R;K<ht.length;K++){var Tt=ht[K],Bt=c["_"+Tt];Bt&&m.push(Bt)}else for(var Ht in c)if(c.hasOwnProperty(Ht)){var $t=c[Ht];m.push($t)}return m}function Uc(v,f){return Object(i.kb)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(s){return!Object(i.G)(v[s],f[s])})}function Ts(v){return Object(i.B)(v)?v:v.split("*")}function Fo(v,f){var s=[];return Object(i.j)(f,function(c,m){var R=m.split(" ")[0];R===v&&s.push(c)}),s}var jl=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.type="base",c.attributes={},c.elements=[],c.elementsMap={},c.animateOption=!0,c.attributeOption={},c.lastElementsMap={},c.generatePoints=!1,c.beforeMappingData=null,c.adjusts={},c.idFields=[],c.hasSorted=!1,c.isCoordinateChanged=!1;var m=s.container,R=s.labelsContainer,K=s.coordinate,ht=s.data,Tt=s.sortable,Bt=Tt===void 0?!1:Tt,Ht=s.visible,$t=Ht===void 0?!0:Ht,te=s.theme,re=s.scales,ve=re===void 0?{}:re,me=s.scaleDefs,_e=me===void 0?{}:me,tr=s.intervalPadding,yr=s.dodgePadding,xr=s.maxColumnWidth,nn=s.minColumnWidth,dn=s.columnWidthRatio,cn=s.roseWidthRatio,ma=s.multiplePieWidthRatio,na=s.zIndexReversed;return c.container=m,c.labelsContainer=R,c.coordinate=K,c.data=ht,c.sortable=Bt,c.visible=$t,c.userTheme=te,c.scales=ve,c.scaleDefs=_e,c.intervalPadding=tr,c.dodgePadding=yr,c.maxColumnWidth=xr,c.minColumnWidth=nn,c.columnWidthRatio=dn,c.roseWidthRatio=cn,c.multiplePieWidthRatio=ma,c.zIndexReversed=na,c}return f.prototype.position=function(s){var c=s;Object(i.N)(s)||(c={fields:Ts(s)});var m=Object(i.s)(c,"fields");return m.length===1&&(m.unshift("1"),Object(i.ib)(c,"fields",m)),Object(i.ib)(this.attributeOption,"position",c),this},f.prototype.color=function(s,c){return this.createAttrOption("color",s,c),this},f.prototype.shape=function(s,c){return this.createAttrOption("shape",s,c),this},f.prototype.size=function(s,c){return this.createAttrOption("size",s,c),this},f.prototype.adjust=function(s){var c=s;return(Object(i.O)(s)||Object(i.N)(s))&&(c=[s]),Object(i.j)(c,function(m,R){Object(i.M)(m)||(c[R]={type:m})}),this.adjustOption=c,this},f.prototype.style=function(s,c){if(Object(i.O)(s)){var m=Ts(s);this.styleOption={fields:m,callback:c}}else{var R=s,m=R.fields,K=R.callback,ht=R.cfg;m||K||ht?this.styleOption=s:this.styleOption={cfg:s}}return this},f.prototype.tooltip=function(s,c){if(Object(i.O)(s)){var m=Ts(s);this.tooltipOption={fields:m,callback:c}}else this.tooltipOption=s;return this},f.prototype.animate=function(s){return this.animateOption=s,this},f.prototype.label=function(s,c,m){if(Object(i.O)(s)){var R={},K=Ts(s);R.fields=K,Object(i.H)(c)?R.callback=c:Object(i.N)(c)&&(R.cfg=c),m&&(R.cfg=m),this.labelOption=R}else this.labelOption=s;return this},f.prototype.state=function(s){return this.stateOption=s,this},f.prototype.customInfo=function(s){return this.customOption=s,this},f.prototype.init=function(s){s===void 0&&(s={}),this.setCfg(s),this.initAttributes(),this.processData(this.data),this.adjustScale()},f.prototype.update=function(s){s===void 0&&(s={});var c=s.data,m=s.isDataChanged,R=s.isCoordinateChanged,K=this,ht=K.attributeOption,Tt=K.lastAttributeOption;Object(i.G)(ht,Tt)?c&&(m||!Object(i.G)(c,this.data))?(this.setCfg(s),this.initAttributes(),this.processData(c)):this.setCfg(s):this.init(s),this.adjustScale(),this.isCoordinateChanged=R},f.prototype.paint=function(s){var c=this;s===void 0&&(s=!1),this.animateOption&&(this.animateOption=Object(i.h)({},uu(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var m=this.getOffscreenGroup();m.clear();for(var R=this.beforeMappingData,K=this.beforeMapping(R),ht=[],Tt=0,Bt=K.length;Tt<Bt;Tt++){var Ht=K[Tt],$t=this.mapping(Ht);ht.push($t),this.createElements($t,Tt,s)}if(this.canDoGroupAnimation(s)){var te=this.container,re=this.type,ve=this.coordinate,me=Object(i.s)(this.animateOption,"appear"),_e=this.getYScale(),tr=ve.convert({x:0,y:_e.scale(this.getYMinValue())});Gh(te,me,re,ve,tr)}this.labelOption&&this.renderLabels(Object(i.q)(ht),s),this.dataArray=ht,Object(i.j)(this.lastElementsMap,function(yr){yr.animate=c.animateOption,yr.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(h.a)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},f.prototype.clear=function(){var s=this,c=s.container,m=s.geometryLabel,R=s.offscreenGroup;c&&c.clear(),m&&m.clear(),R&&R.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},f.prototype.destroy=function(){this.clear();var s=this.container;s.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,v.prototype.destroy.call(this)},f.prototype.getGroupScales=function(){return this.groupScales},f.prototype.getAttribute=function(s){return this.attributes[s]},f.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},f.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},f.prototype.getGroupAttributes=function(){var s=[];return Object(i.j)(this.attributes,function(c){E.includes(c.type)&&s.push(c)}),s},f.prototype.getDefaultValue=function(s){var c,m=this.getAttribute(s);return m&&Object(i.F)(m.scales)&&(c=m.values[0]),c},f.prototype.getAttributeValues=function(s,c){for(var m=[],R=s.scales,K=0,ht=R.length;K<ht;K++){var Tt=R[K],Bt=Tt.field;Tt.isIdentity?m.push(Tt.values):m.push(c[Bt])}return s.mapping.apply(s,m)},f.prototype.getAdjust=function(s){return this.adjusts[s]},f.prototype.getShapeMarker=function(s,c){var m=this.getShapeFactory();return m.getMarker(s,c)},f.prototype.getElementsBy=function(s){return this.elements.filter(function(c){return s(c)})},f.prototype.getElementId=function(s){s=Object(i.B)(s)?s[0]:s;var c=s[D];if(this.idFields.length){for(var m=c[this.idFields[0]],R=1;R<this.idFields.length;R++)m+="-"+c[this.idFields[R]];return m}var K=this.type,ht=this.getXScale(),Tt=this.getYScale(),Bt=ht.field||"x",Ht=Tt.field||"y",$t=c[Ht],te;ht.type==="identity"?te=ht.values[0]:te=c[Bt];var re;K==="interval"||K==="schema"?re=""+te:K==="line"||K==="area"||K==="path"?re=K:re=te+"-"+$t;var ve=this.groupScales;Object(i.F)(ve)&&(ve=Object(i.s)(this.getAttribute("color"),"scales",[]));for(var R=0,me=ve.length;R<me;R++){var _e=ve[R],tr=_e.field;re=re+"-"+c[tr]}var yr=this.getAdjust("dodge");if(yr){var xr=yr.dodgeBy;xr&&(re=re+"-"+c[xr])}return this.getAdjust("jitter")&&(re=re+"-"+s.x+"-"+s.y),re},f.prototype.getScaleFields=function(){var s=[],c={},m=this,R=m.attributeOption,K=m.labelOption,ht=m.tooltipOption;for(var Tt in R)if(R.hasOwnProperty(Tt)){var Bt=R[Tt];Bt.fields?or(Bt.fields,s,c):Bt.values&&or(Bt.values,s,c)}return K&&K.fields&&or(K.fields,s,c),Object(i.M)(ht)&&ht.fields&&or(ht.fields,s,c),s},f.prototype.changeVisible=function(s){v.prototype.changeVisible.call(this,s);for(var c=this.elements,m=0,R=c.length;m<R;m++){var K=c[m];K.changeVisible(s)}s?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},f.prototype.getGroupFields=function(){for(var s=[],c={},m=0,R=E.length;m<R;m++){var K=E[m],ht=this.attributeOption[K];ht&&ht.fields&&or(ht.fields,s,c)}return s},f.prototype.getXYFields=function(){var s=this.attributeOption.position.fields,c=s[0],m=s[1];return[c,m]},f.prototype.getShapes=function(){return this.elements.map(function(s){return s.shape})},f.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},f.prototype.sort=function(s){if(!this.hasSorted)for(var c=this.getXScale(),m=c.field,R=0;R<s.length;R++){var K=s[R];K.sort(function(ht,Tt){return c.translate(ht[D][m])-c.translate(Tt[D][m])})}this.hasSorted=!0},f.prototype.adjustScale=function(){var s=this.getYScale();s&&this.getAdjust("stack")&&this.updateStackRange(s,this.beforeMappingData)},f.prototype.getShapeFactory=function(){var s=this.shapeType;if(!!Ff(s))return this.shapeFactory||(this.shapeFactory=Object(i.e)(Ff(s))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[s]||{},this.shapeFactory},f.prototype.createShapePointsCfg=function(s){var c=this.getXScale(),m=this.getYScale(),R=this.normalizeValues(s[c.field],c),K;return m?K=this.normalizeValues(s[m.field],m):K=s.y?s.y:.1,{x:R,y:K,y0:m?m.scale(this.getYMinValue()):void 0}},f.prototype.createElement=function(s,c){c===void 0&&(c=!1);var m=this.container,R=this.getDrawCfg(s),K=this.getShapeFactory(),ht=new cu({shapeFactory:K,container:m,offscreenGroup:this.getOffscreenGroup()});return ht.animate=this.animateOption,ht.geometry=this,ht.draw(R,c),ht},f.prototype.getDrawCfg=function(s){var c=s[D],m={mappingData:s,data:c,x:s.x,y:s.y,color:s.color,size:s.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},R=s.shape;!R&&this.getShapeFactory()&&(R=this.getShapeFactory().defaultShapeType),m.shape=R;var K=this.theme.geometries[this.shapeType];m.defaultStyle=Object(i.s)(K,[R,"default"],{}).style,!m.defaultStyle&&this.getShapeFactory()&&(m.defaultStyle=this.getShapeFactory().getDefaultStyle(K));var ht=this.styleOption;return ht&&(m.style=this.getStyleCfg(ht,c)),this.generatePoints&&(m.points=s.points,m.nextPoints=s.nextPoints),m},f.prototype.createElements=function(s,c,m){m===void 0&&(m=!1);for(var R=this,K=R.lastElementsMap,ht=R.elementsMap,Tt=R.elements,Bt=0,Ht=s.length;Bt<Ht;Bt++){var $t=s[Bt],te=this.getElementId($t);ht[te]&&(te=te+"-"+c+"-"+Bt);var re=K[te];if(!re)re=this.createElement($t,m);else{var ve=this.getDrawCfg($t),me=re.getModel();(this.isCoordinateChanged||Uc(ve,me))&&(re.animate=this.animateOption,re.update(ve)),delete K[te]}Tt.push(re),ht[te]=re}if(this.zIndexReversed){var _e=Tt.length;Tt.forEach(function(tr,yr){tr.shape.setZIndex(_e-yr)})}return Tt},f.prototype.getLabelType=function(){var s=this,c=s.labelOption,m=s.coordinate,R=s.type,K=m.type,ht=m.isTransposed,Tt=Object(i.s)(c,["cfg","type"]);return Tt||(K==="polar"?Tt=ht?"pie":"polar":K==="theta"?Tt="pie":R==="interval"||R==="polygon"?Tt="interval":Tt="base"),Tt},f.prototype.getYMinValue=function(){var s=this.getYScale(),c=s.min,m=s.max,R;return c>=0?R=c:m<=0?R=m:R=0,R},f.prototype.createAttrOption=function(s,c,m){if(Object(i.I)(c)||Object(i.M)(c))Object(i.M)(c)&&Object(i.G)(Object.keys(c),["values"])?Object(i.ib)(this.attributeOption,s,{fields:c.values}):Object(i.ib)(this.attributeOption,s,c);else{var R={};Object(i.K)(c)?R.values=[c]:R.fields=Ts(c),m&&(Object(i.H)(m)?R.callback=m:R.values=m),Object(i.ib)(this.attributeOption,s,R)}},f.prototype.initAttributes=function(){var s=this,c=this,m=c.attributes,R=c.attributeOption,K=c.theme,ht=c.shapeType;this.groupScales=[];var Tt={},Bt=function(re){if(R.hasOwnProperty(re)){var ve=R[re];if(!ve)return{value:void 0};var me=Object(h.a)({},ve),_e=me.callback,tr=me.values,yr=me.fields,xr=yr===void 0?[]:yr,nn=xr.map(function(cn){var ma=s.scales[cn];return ma.isCategory&&!Tt[cn]&&E.includes(re)&&(s.groupScales.push(ma),Tt[cn]=!0),ma});me.scales=nn,re!=="position"&&nn.length===1&&nn[0].type==="identity"?me.values=nn[0].values:!_e&&!tr&&(re==="size"?me.values=K.sizes:re==="shape"?me.values=K.shapes[ht]||[]:re==="color"&&(nn.length?me.values=nn[0].values.length<=10?K.colors10:K.colors20:me.values=K.colors10));var dn=Pt(re);m[re]=new dn(me)}};for(var Ht in R){var $t=Bt(Ht);if(typeof $t=="object")return $t.value}},f.prototype.processData=function(s){this.hasSorted=!1;for(var c=this.getAttribute("position").scales,m=c.filter(function(dn){return dn.isCategory}),R=this.groupData(s),K=[],ht=0,Tt=R.length;ht<Tt;ht++){for(var Bt=R[ht],Ht=[],$t=0,te=Bt.length;$t<te;$t++){var re=Bt[$t],ve={};for(var me in re)ve[me]=re[me];ve[D]=re;for(var _e=0,tr=m;_e<tr.length;_e++){var yr=tr[_e],xr=yr.field;ve[xr]=yr.translate(ve[xr])}Ht.push(ve)}K.push(Ht)}var nn=this.adjustData(K);return this.beforeMappingData=nn,nn},f.prototype.adjustData=function(s){var c=this.adjustOption,m=this,R=m.intervalPadding,K=m.dodgePadding,ht=m.theme,Tt=this.maxColumnWidth||ht.maxColumnWidth,Bt=this.minColumnWidth||ht.minColumnWidth,Ht=this.columnWidthRatio||ht.columnWidthRatio,$t=s;if(c){var te=this.getXScale(),re=this.getYScale(),ve=te.field,me=re?re.field:null,_e=Xe(this.coordinate),tr=te.values.length,yr=this.getAttribute("size"),xr=void 0;yr&&(xr=yr.values[0]);for(var nn=0,dn=c.length;nn<dn;nn++){var cn=c[nn],ma=Object(h.a)({xField:ve,yField:me,intervalPadding:R,dodgePadding:K,xDimensionLength:_e,groupNum:tr,defaultSize:xr,maxColumnWidth:Tt,minColumnWidth:Bt,columnWidthRatio:Ht},cn),na=cn.type;if(na==="dodge"){var Kn=[];if(te.isCategory||te.type==="identity")Kn.push("x");else if(!re)Kn.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");ma.adjustNames=Kn,ma.dodgeRatio=Ht}else if(na==="stack"){var ka=this.coordinate;if(!re){ma.height=ka.getHeight();var gi=this.getDefaultValue("size")||3;ma.size=gi}!ka.isTransposed&&Object(i.I)(ma.reverseOrder)&&(ma.reverseOrder=!0)}var ui=Object(Q.getAdjust)(na),Qi=new ui(ma);$t=Qi.process($t),this.adjusts[na]=Qi}}return $t},f.prototype.groupData=function(s){for(var c=this.getGroupScales(),m=this.scaleDefs,R={},K=[],ht=0;ht<c.length;ht++){var Tt=c[ht],Bt=Tt.field;K.push(Bt),Object(i.s)(m,[Bt,"values"])&&(R[Bt]=m[Bt].values)}return Uh(s,K,R)},f.prototype.updateStackRange=function(s,c){for(var m=Object(i.q)(c),R=s.field,K=s.min,ht=s.max,Tt=0;Tt<m.length;Tt++){var Bt=m[Tt],Ht=Math.min.apply(null,Bt[R]),$t=Math.max.apply(null,Bt[R]);Ht<K&&(K=Ht),$t>ht&&(ht=$t)}var te=this.scaleDefs,re={};K<s.min&&!Object(i.s)(te,[R,"min"])&&(re.min=K),ht>s.max&&!Object(i.s)(te,[R,"max"])&&(re.max=ht),s.change(re)},f.prototype.beforeMapping=function(s){var c=s;if(this.sortable&&this.sort(c),this.generatePoints)for(var m=0,R=c.length;m<R;m++){var K=c[m];this.generateShapePoints(K);var ht=c[m+1];ht&&(this.generateShapePoints(ht),K[0].nextPoints=ht[0].points)}return c},f.prototype.generateShapePoints=function(s){for(var c=this.getShapeFactory(),m=this.getAttribute("shape"),R=0;R<s.length;R++){var K=s[R],ht=this.createShapePointsCfg(K),Tt=m?this.getAttributeValues(m,K):null,Bt=c.getShapePoints(Tt,ht);K.points=Bt}},f.prototype.normalizeValues=function(s,c){var m=[];if(Object(i.B)(s))for(var R=0;R<s.length;R++){var K=s[R];m.push(c.scale(K))}else m=c.scale(s);return m},f.prototype.mapping=function(s){for(var c=this.attributes,m=[],R=0;R<s.length;R++){var K=s[R],ht={_origin:K[D],points:K.points,nextPoints:K.nextPoints};for(var Tt in c)if(c.hasOwnProperty(Tt)){var Bt=c[Tt],Ht=Bt.names,$t=this.getAttributeValues(Bt,K);if(Ht.length>1)for(var te=0;te<$t.length;te+=1){var re=$t[te],ve=Ht[te];ht[ve]=Object(i.B)(re)&&re.length===1?re[0]:re}else ht[Ht[0]]=$t.length===1?$t[0]:$t}this.convertPoint(ht),m.push(ht)}return m},f.prototype.convertPoint=function(s){var c=s.x,m=s.y,R,K,ht,Tt=this.coordinate;if(Object(i.B)(c)&&Object(i.B)(m)){R=[],K=[];for(var Bt=0,Ht=0,$t=c.length,te=m.length;Bt<$t&&Ht<te;Bt+=1,Ht+=1)ht=Tt.convert({x:c[Bt],y:m[Ht]}),R.push(ht.x),K.push(ht.y)}else if(Object(i.B)(m)){K=[];for(var re=0;re<m.length;re++){var ve=m[re];ht=Tt.convert({x:c,y:ve}),R&&R!==ht.x?(Object(i.B)(R)||(R=[R]),R.push(ht.x)):R=ht.x,K.push(ht.y)}}else if(Object(i.B)(c)){R=[];for(var re=0;re<c.length;re++){var me=c[re];ht=Tt.convert({x:me,y:m}),K&&K!==ht.y?(Object(i.B)(K)||(K=[K]),K.push(ht.y)):K=ht.y,R.push(ht.x)}}else{var _e=Tt.convert({x:c,y:m});R=_e.x,K=_e.y}s.x=R,s.y=K},f.prototype.getStyleCfg=function(s,c){var m=s.fields,R=m===void 0?[]:m,K=s.callback,ht=s.cfg;if(ht)return ht;var Tt=R.map(function(Bt){return c[Bt]});return K.apply(void 0,Tt)},f.prototype.setCfg=function(s){var c=this,m=s.coordinate,R=s.data,K=s.theme,ht=s.scaleDefs;m&&(this.coordinate=m),R&&(this.data=R),ht&&(this.scaleDefs=ht,this.idFields=[],Object(i.j)(ht,function(Tt,Bt){Tt&&Tt.key&&c.idFields.push(Bt)})),K&&(this.theme=this.userTheme?Object(i.h)({},K,this.userTheme):K)},f.prototype.renderLabels=function(s,c){c===void 0&&(c=!1);var m=this.geometryLabel;if(!m){var R=this.getLabelType(),K=Yu(R);m=new K(this),this.geometryLabel=m}m.render(s,c);var ht=m.labelsRenderer.shapesMap;Object(i.j)(this.elementsMap,function(Tt,Bt){var Ht=Fo(Bt,ht);if(Ht.length){Tt.labelShape=Ht;for(var $t=0;$t<Ht.length;$t++)for(var te=Ht[$t],re=te.getChildren(),ve=0;ve<re.length;ve++){var me=re[ve];me.cfg.name=["element","label"],me.cfg.element=Tt}}})},f.prototype.canDoGroupAnimation=function(s){return!s&&this.animateOption&&(Object(i.s)(this.animateOption,"appear")===void 0||Object(i.s)(this.animateOption,"appear")&&Object(i.s)(this.animateOption,["appear","animation"])===void 0)},f}(st),us=jl,To=X.a.transform;function cs(v,f,s){var c=To(v.getMatrix(),[["t",f,s]]);v.setMatrix(c)}function Zu(v,f){var s=v.attr(),c=s.x,m=s.y,R=To(v.getMatrix(),[["t",-c,-m],["r",f],["t",c,m]]);return R}function $u(v,f){var s=Zu(v,f);v.setMatrix(s)}function Wh(){return[1,0,0,0,1,0,0,0,1]}function Qu(v,f){var s=v.getBBox(),c=(s.minX+s.maxX)/2,m=(s.minY+s.maxY)/2;v.applyToMatrix([c,m,1]);var R=To(v.getMatrix(),[["t",-c,-m],["s",f,f],["t",c,m]]);v.setMatrix(R)}function bs(v){return v.find(function(f){return f.get("type")==="text"})}function du(v,f,s){s===void 0&&(s=[0,0,0,0]);var c=v.getChildren()[0];if(c){var m=c.clone();(f==null?void 0:f.rotate)&&$u(m,-f.rotate);var R=m.getCanvasBBox(),K=R.x,ht=R.y,Tt=R.width,Bt=R.height;m.destroy();var Ht=s;return Object(i.I)(Ht)?Ht=[2,2,2,2]:Object(i.K)(Ht)&&(Ht=new Array(4).fill(Ht)),{x:K-Ht[3],y:ht-Ht[0],width:Tt+Ht[1]+Ht[3],height:Bt+Ht[0]+Ht[2],rotation:(f==null?void 0:f.rotate)||0}}}function Wc(v,f,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(v.x+v.width+s,f.x+f.width+s)-Math.max(v.x-s,f.x-s)),m=Math.max(0,Math.min(v.y+v.height+s,f.y+f.height+s)-Math.max(v.y-s,f.y-s));return c*m}function nl(v,f){var s=v.getBBox();return Object(i.kb)(f,function(c){var m=c.getBBox();return Wc(s,m,2)>0})}function io(v,f,s){var c=s.data,m=s.origin,R=s.animateCfg,K=s.coordinate,ht=Object(i.s)(R,"update");v.set("data",c),v.set("origin",m),v.set("animateCfg",R),v.set("coordinate",K),v.set("visible",f.get("visible")),v.getChildren().forEach(function(Tt,Bt){var Ht=f.getChildByIndex(Bt);if(!Ht)v.removeChild(Tt),Tt.remove(!0);else{Tt.set("data",c),Tt.set("origin",m),Tt.set("animateCfg",R),Tt.set("coordinate",K);var $t=we(Tt,Ht);ht?Cs(Tt,ht,{toAttrs:$t,coordinate:K}):Tt.attr($t),Ht.isGroup()&&io(Tt,Ht,s)}}),Object(i.j)(f.getChildren(),function(Tt,Bt){Bt>=v.getCount()&&(Tt.destroyed||v.add(Tt))})}var zc=function(){function v(f){this.shapesMap={},this.lastShapesMap={};var s=f.layout,c=f.container;this.layout=s,this.container=c}return v.prototype.render=function(f,s,c){var m=this;c===void 0&&(c=!1),this.shapesMap={};var R=this.container,K=this.createOffscreenGroup();if(f.length){for(var ht=0,Tt=f;ht<Tt.length;ht++){var Bt=Tt[ht];Bt&&this.renderLabel(Bt,K)}this.doLayout(f,s),this.renderLabelLine(f),this.renderLabelBackground(f),this.adjustLabel(f)}var Ht=this.lastShapesMap,$t=this.shapesMap;Object(i.j)($t,function(te,re){if(te.destroyed)delete $t[re];else{if(Ht[re]){var ve=te.get("data"),me=te.get("origin"),_e=te.get("coordinate"),tr=te.get("animateCfg"),yr=Ht[re];io(yr,$t[re],{data:ve,origin:me,animateCfg:tr,coordinate:_e}),m.shapesMap[re]=yr}else{R.add(te);var xr=Object(i.s)(te.get("animateCfg"),c?"enter":"appear");xr&&Cs(te,xr,{toAttrs:Object(h.a)({},te.attr()),coordinate:te.get("coordinate")})}delete Ht[re]}}),Object(i.j)(Ht,function(te){var re=Object(i.s)(te.get("animateCfg"),"leave");re?Cs(te,re,{toAttrs:null,coordinate:te.get("coordinate")}):te.remove(!0)}),this.lastShapesMap=$t,K.destroy()},v.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},v.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},v.prototype.renderLabel=function(f,s){var c=f.id,m=f.elementId,R=f.data,K=f.mappingData,ht=f.coordinate,Tt=f.animate,Bt=f.content,Ht={id:c,elementId:m,data:R,origin:Object(h.a)(Object(h.a)({},K),{data:K[D]}),coordinate:ht},$t=s.addGroup(Object(h.a)({name:"label",animateCfg:this.animate===!1||Tt===null||Tt===!1?!1:Object(i.h)({},this.animate,Tt)},Ht)),te;if(Bt.isGroup&&Bt.isGroup()||Bt.isShape&&Bt.isShape()){var re=Bt.getCanvasBBox(),ve=re.width,me=re.height,_e=Object(i.s)(f,"textAlign","left"),tr=f.x,yr=f.y-me/2;_e==="center"?tr=tr-ve/2:(_e==="right"||_e==="end")&&(tr=tr-ve),cs(Bt,tr,yr),te=Bt,$t.add(Bt)}else{var xr=Object(i.s)(f,["style","fill"]);te=$t.addShape("text",Object(h.a)({attrs:Object(h.a)(Object(h.a)({x:f.x,y:f.y,textAlign:f.textAlign,textBaseline:Object(i.s)(f,"textBaseline","middle"),text:f.content},f.style),{fill:Object(i.J)(xr)?f.color:xr})},Ht))}f.rotate&&$u(te,f.rotate),this.shapesMap[c]=$t},v.prototype.doLayout=function(f,s){var c=this;if(this.layout){var m=Object(i.B)(this.layout)?this.layout:[this.layout];Object(i.j)(m,function(R){var K=hu(Object(i.s)(R,"type",""));if(K){var ht=[],Tt=[];Object(i.j)(c.shapesMap,function(Bt,Ht){ht.push(Bt),Tt.push(s[Bt.get("elementId")])}),K(f,ht,Tt,c.region,R.cfg)}})}},v.prototype.renderLabelLine=function(f){var s=this;Object(i.j)(f,function(c){var m=Object(i.s)(c,"coordinate");if(!(!c||!m)){var R=m.getCenter(),K=m.getRadius();if(!!c.labelLine){var ht=Object(i.s)(c,"labelLine",{}),Tt=c.id,Bt=ht.path;if(!Bt){var Ht=se(R.x,R.y,K,c.angle);Bt=[["M",Ht.x,Ht.y],["L",c.x,c.y]]}var $t=s.shapesMap[Tt];$t.destroyed||$t.addShape("path",{capture:!1,attrs:Object(h.a)({path:Bt,stroke:c.color?c.color:Object(i.s)(c,["style","fill"],"#000"),fill:null},ht.style),id:Tt,origin:c.mappingData,data:c.data,coordinate:c.coordinate})}}})},v.prototype.renderLabelBackground=function(f){var s=this;Object(i.j)(f,function(c){var m=Object(i.s)(c,"coordinate"),R=Object(i.s)(c,"background");if(!(!R||!m)){var K=c.id,ht=s.shapesMap[K];if(!ht.destroyed){var Tt=ht.getChildren()[0];if(Tt){var Bt=du(ht,c,R.padding),Ht=Bt.rotation,$t=Object(h.e)(Bt,["rotation"]),te=ht.addShape("rect",{attrs:Object(h.a)(Object(h.a)({},$t),R.style||{}),id:K,origin:c.mappingData,data:c.data,coordinate:c.coordinate});if(te.setZIndex(-1),Ht){var re=Tt.getMatrix();te.setMatrix(re)}}}}})},v.prototype.createOffscreenGroup=function(){var f=this.container,s=f.getGroupBase(),c=new s({});return c},v.prototype.adjustLabel=function(f){var s=this;Object(i.j)(f,function(c){if(c){var m=c.id,R=s.shapesMap[m];if(!R.destroyed){var K=R.findAll(function(ht){return ht.get("type")!=="path"});Object(i.j)(K,function(ht){ht&&(c.offsetX&&ht.attr("x",ht.attr("x")+c.offsetX),c.offsetY&&ht.attr("y",ht.attr("y")+c.offsetY))})}}})},v}(),Ll=zc;function fs(v){var f=0;return Object(i.j)(v,function(s){f+=s}),f/v.length}var kc=function(){function v(f){this.geometry=f}return v.prototype.getLabelItems=function(f){var s=this,c=[],m=this.getLabelCfgs(f);return Object(i.j)(f,function(R,K){var ht=m[K];if(!ht||Object(i.I)(R.x)||Object(i.I)(R.y)){c.push(null);return}var Tt=Object(i.B)(ht.content)?ht.content:[ht.content];ht.content=Tt;var Bt=Tt.length;Object(i.j)(Tt,function(Ht,$t){if(Object(i.I)(Ht)||Ht===""){c.push(null);return}var te=Object(h.a)(Object(h.a)({},ht),s.getLabelPoint(ht,R,$t));te.textAlign||(te.textAlign=s.getLabelAlign(te,$t,Bt)),te.offset<=0&&(te.labelLine=null),c.push(te)})}),c},v.prototype.render=function(f,s){s===void 0&&(s=!1);var c=this.getLabelItems(f),m=this.getLabelsRenderer(),R=this.getGeometryShapes();m.render(c,R,s)},v.prototype.clear=function(){var f=this.labelsRenderer;f&&f.clear()},v.prototype.destroy=function(){var f=this.labelsRenderer;f&&f.destroy(),this.labelsRenderer=null},v.prototype.getCoordinate=function(){return this.geometry.coordinate},v.prototype.getDefaultLabelCfg=function(f,s){var c=this.geometry,m=c.type,R=c.theme;return m==="polygon"||m==="interval"&&s==="middle"||f<0&&!["line","point","path"].includes(m)?Object(i.s)(R,"innerLabels",{}):Object(i.s)(R,"labels",{})},v.prototype.getThemedLabelCfg=function(f){var s=this.geometry,c=this.getDefaultLabelCfg(),m=s.type,R=s.theme,K;return m==="polygon"||f.offset<0&&!["line","point","path"].includes(m)?K=Object(i.h)({},c,R.innerLabels,f):K=Object(i.h)({},c,R.labels,f),K},v.prototype.setLabelPosition=function(f,s,c,m){},v.prototype.getLabelOffset=function(f){var s=this.getCoordinate(),c=this.getOffsetVector(f);return s.isTransposed?c[0]:c[1]},v.prototype.getLabelOffsetPoint=function(f,s,c){var m=f.offset,R=this.getCoordinate(),K=R.isTransposed,ht=K?"x":"y",Tt=K?1:-1,Bt={x:0,y:0};return s>0||c===1?Bt[ht]=m*Tt:Bt[ht]=m*Tt*-1,Bt},v.prototype.getLabelPoint=function(f,s,c){var m=this.getCoordinate(),R=f.content.length;function K(_e,tr,yr){yr===void 0&&(yr=!1);var xr=_e;return Object(i.B)(xr)&&(f.content.length===1?yr?xr=fs(xr):xr.length<=2?xr=xr[_e.length-1]:xr=fs(xr):xr=xr[tr]),xr}var ht={content:f.content[c],x:0,y:0,start:{x:0,y:0},color:"#fff"},Tt=Object(i.B)(s.shape)?s.shape[0]:s.shape,Bt=Tt==="funnel"||Tt==="pyramid";if(this.geometry.type==="polygon"){var Ht=Ze(s.x,s.y);ht.x=Ht[0],ht.y=Ht[1]}else this.geometry.type==="interval"&&!Bt?(ht.x=K(s.x,c,!0),ht.y=K(s.y,c)):(ht.x=K(s.x,c),ht.y=K(s.y,c));if(Bt){var $t=Object(i.s)(s,"nextPoints"),te=Object(i.s)(s,"points");if($t){var re=m.convert(te[1]),ve=m.convert($t[1]);ht.x=(re.x+ve.x)/2,ht.y=(re.y+ve.y)/2}else if(Tt==="pyramid"){var re=m.convert(te[1]),ve=m.convert(te[2]);ht.x=(re.x+ve.x)/2,ht.y=(re.y+ve.y)/2}}f.position&&this.setLabelPosition(ht,s,c,f.position);var me=this.getLabelOffsetPoint(f,c,R);return ht.start={x:ht.x,y:ht.y},ht.x+=me.x,ht.y+=me.y,ht.color=s.color,ht},v.prototype.getLabelAlign=function(f,s,c){var m="center",R=this.getCoordinate();if(R.isTransposed){var K=f.offset;K<0?m="right":K===0?m="center":m="left",c>1&&s===0&&(m==="right"?m="left":m==="left"&&(m="right"))}return m},v.prototype.getLabelId=function(f){var s=this.geometry,c=s.type,m=s.getXScale(),R=s.getYScale(),K=f[D],ht=s.getElementId(f);return c==="line"||c==="area"?ht+=" "+K[m.field]:c==="path"&&(ht+=" "+K[m.field]+"-"+K[R.field]),ht},v.prototype.getLabelsRenderer=function(){var f=this.geometry,s=f.labelsContainer,c=f.labelOption,m=f.canvasRegion,R=f.animateOption,K=this.geometry.coordinate,ht=this.labelsRenderer;return ht||(ht=new Ll({container:s,layout:Object(i.s)(c,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=ht),ht.region=m,ht.animate=R?uu("label",K):!1,ht},v.prototype.getLabelCfgs=function(f){var s=this,c=this.geometry,m=c.labelOption,R=c.scales,K=c.coordinate,ht=m,Tt=ht.fields,Bt=ht.callback,Ht=ht.cfg,$t=Tt.map(function(re){return R[re]}),te=[];return Object(i.j)(f,function(re,ve){var me=re[D],_e=s.getLabelText(me,$t),tr;if(Bt){var yr=Tt.map(function(ma){return me[ma]});if(tr=Bt.apply(void 0,yr),Object(i.I)(tr)){te.push(null);return}}var xr=Object(h.a)(Object(h.a)({id:s.getLabelId(re),elementId:s.geometry.getElementId(re),data:me,mappingData:re,coordinate:K},Ht),tr);Object(i.H)(xr.position)&&(xr.position=xr.position(me,re,ve));var nn=s.getLabelOffset(xr.offset||0),dn=s.getDefaultLabelCfg(nn,xr.position);xr=Object(i.h)({},dn,xr),xr.offset=s.getLabelOffset(xr.offset||0);var cn=xr.content;Object(i.H)(cn)?xr.content=cn(me,re,ve):Object(i.Q)(cn)&&(xr.content=_e[0]),te.push(xr)}),te},v.prototype.getLabelText=function(f,s){var c=[];return Object(i.j)(s,function(m){var R=f[m.field];Object(i.B)(R)?R=R.map(function(K){return m.getText(K)}):R=m.getText(R),Object(i.I)(R)||R===""?c.push(null):c.push(R)}),c},v.prototype.getOffsetVector=function(f){f===void 0&&(f=0);var s=this.getCoordinate(),c=0;return Object(i.K)(f)&&(c=f),s.isTransposed?s.applyMatrix(c,0):s.applyMatrix(0,c)},v.prototype.getGeometryShapes=function(){var f=this.geometry,s={};return Object(i.j)(f.elementsMap,function(c,m){s[m]=c.shape}),Object(i.j)(f.getOffscreenGroup().getChildren(),function(c){var m=f.getElementId(c.get("origin").mappingData);s[m]=c}),s},v}(),As=kc,Nd=a("Q9F4");function Vc(v,f,s){if(!v)return s;var c;if(v.callback&&v.callback.length>1){var m=Array(v.callback.length-1).fill("");c=v.mapping.apply(v,Object(h.g)([f],m)).join("")}else c=v.mapping(f).join("");return c||s}var Ao={hexagon:function(f,s,c){var m=c/2*Math.sqrt(3);return[["M",f,s-c],["L",f+m,s-c/2],["L",f+m,s+c/2],["L",f,s+c],["L",f-m,s+c/2],["L",f-m,s-c/2],["Z"]]},bowtie:function(f,s,c){var m=c-1.5;return[["M",f-c,s-m],["L",f+c,s+m],["L",f+c,s-m],["L",f-c,s+m],["Z"]]},cross:function(f,s,c){return[["M",f-c,s-c],["L",f+c,s+c],["M",f+c,s-c],["L",f-c,s+c]]},tick:function(f,s,c){return[["M",f-c/2,s-c],["L",f+c/2,s-c],["M",f,s-c],["L",f,s+c],["M",f-c/2,s+c],["L",f+c/2,s+c]]},plus:function(f,s,c){return[["M",f-c,s],["L",f+c,s],["M",f,s-c],["L",f,s+c]]},hyphen:function(f,s,c){return[["M",f-c,s],["L",f+c,s]]},line:function(f,s,c){return[["M",f,s-c],["L",f,s+c]]}},zh=["line","cross","tick","plus","hyphen"];function Xc(v,f){return Object(i.H)(f)?f(v):Object(i.h)({},v,f)}function Hs(v,f){var s=v.symbol;if(Object(i.O)(s)&&zh.indexOf(s)!==-1){var c=Object(i.s)(v,"style",{}),m=Object(i.s)(c,"lineWidth",1),R=c.stroke||c.fill||f;v.style=Object(i.h)({},v.style,{lineWidth:m,stroke:R,fill:null})}}function Gf(v){var f=v.symbol;Object(i.O)(f)&&Ao[f]&&(v.symbol=Ao[f])}function Ju(v){return v.startsWith(x.LEFT)||v.startsWith(x.RIGHT)?"vertical":"horizontal"}function Rl(v,f,s,c,m){var R=s.getScale(s.type);if(R.isCategory){var K=R.field,ht=f.getAttribute("color"),Tt=f.getAttribute("shape"),Bt=v.getTheme().defaultColor,Ht=f.coordinate.isPolar;return R.getTicks().map(function($t){var te,re=$t.text,ve=$t.value,me=re,_e=R.invert(ve),tr=v.filterFieldData(K,[(te={},te[K]=_e,te)]).length===0;Object(i.j)(v.views,function(dn){var cn;dn.filterFieldData(K,[(cn={},cn[K]=_e,cn)]).length||(tr=!0)});var yr=Vc(ht,_e,Bt),xr=Vc(Tt,_e,"point"),nn=f.getShapeMarker(xr,{color:yr,isInPolar:Ht});return nn=Object(i.h)({},c,nn,cr(Object(h.a)({},m),["style"])),Hs(nn,yr),m&&m.style&&(nn.style=Xc(nn.style,m.style)),Gf(nn),{id:_e,name:me,value:_e,marker:nn,unchecked:tr}})}return[]}function kh(v,f,s){return s.map(function(c){var m=Object(i.h)({},v,f,c.marker);return Gf(m),c.marker=m,c})}function wl(v,f){var s=Object(i.s)(v,["components","legend"],{});return Object(i.h)({},Object(i.s)(s,["common"],{}),Object(i.h)({},Object(i.s)(s,[f],{})))}var _u="4.1.14",Ys={getLegendItems:Rl,translate:cs,rotate:$u,zoom:Qu,transform:To,getAngle:Be,getSectorPath:ye,polarToCartesian:se,getDelegationObject:ji,getTooltipItems:Oe},as={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ti={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ko=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Hc=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Yc=function(f){f===void 0&&(f={});var s=f.backgroundColor,c=s===void 0?"#141414":s,m=f.paletteQualitative10,R=m===void 0?ko:m,K=f.paletteQualitative20,ht=K===void 0?Hc:K,Tt=f.paletteSemanticRed,Bt=Tt===void 0?"#F4664A":Tt,Ht=f.paletteSemanticGreen,$t=Ht===void 0?"#30BF78":Ht,te=f.paletteSemanticYellow,re=te===void 0?"#FAAD14":te,ve=f.fontFamily,me=ve===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:ve,_e=f.brandColor,tr=_e===void 0?R[0]:_e;return{backgroundColor:c,brandColor:tr,paletteQualitative10:R,paletteQualitative20:ht,paletteSemanticRed:Bt,paletteSemanticGreen:$t,paletteSemanticYellow:re,fontFamily:me,axisLineBorderColor:ti[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:ti[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:ti[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:ti[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:ti[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:ti[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:ti[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ko[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ti[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:ti[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:ti[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:ti[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:ti[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ti[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:as[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:as[25],annotationArcBorderColor:ti[15],annotationArcBorder:1,annotationLineBorderColor:ti[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:ti[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:ti[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ti[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:ti[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ti[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:as[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:ti[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:as[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:ti[25],pointFillColor:ko[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:as[100],pointBorderOpacity:1,pointActiveBorderColor:ti[100],pointSelectedBorder:2,pointSelectedBorderColor:ti[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ko[0],hollowPointBorderOpacity:.95,hollowPointFillColor:as[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ti[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ti[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ko[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ko[0],areaFillOpacity:.25,areaActiveFillColor:ko[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ko[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ko[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ti[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ti[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ko[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ti[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ti[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ko[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:as[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ti[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ti[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},qu=Yc(),tc=a("Q2Id"),Kc=a("l/Sb");function vu(v){return v?!1:v==null||isNaN(v)}function Zc(v){if(Object(i.B)(v))return vu(v[1].y);var f=v.y;return Object(i.B)(f)?vu(f[0]):vu(f)}function Vo(v,f,s){if(f===void 0&&(f=!1),s===void 0&&(s=!0),!v.length||v.length===1&&!s)return[];if(f){for(var c=[],m=0,R=v.length;m<R;m++){var K=v[m];Zc(K)||c.push(K)}return[c]}for(var ht=[],Tt=[],m=0,R=v.length;m<R;m++){var K=v[m];Zc(K)?Tt.length&&(Tt.length===1&&!s||ht.push(Tt),Tt=[]):Tt.push(K)}return Tt.length&&ht.push(Tt),ht}function qi(v,f,s,c){c===void 0&&(c="");var m=v.style,R=m===void 0?{}:m,K=v.defaultStyle,ht=v.color,Tt=v.size,Bt=Object(h.a)(Object(h.a)({},K),R);return ht&&(f&&(R.stroke||(Bt.stroke=ht)),s&&(R.fill||(Bt.fill=ht))),c&&Object(i.I)(R[c])&&!Object(i.I)(Tt)&&(Bt[c]=Tt),Bt}function Uf(v){return Object(i.h)({},{fill:"#CCD6EC",fillOpacity:.3},Object(i.s)(v,["background","style"]))}function is(v){var f=v.x,s=Object(i.B)(v.y)?v.y:[v.y];return s.map(function(c,m){return{x:Object(i.B)(f)?f[m]:f,y:c}})}var $c={line:function(f,s,c){return[["M",f-c,s],["L",f+c,s]]},dot:function(f,s,c){return[["M",f-c,s],["L",f+c,s]]},dash:function(f,s,c){return[["M",f-c,s],["L",f+c,s]]},smooth:function(f,s,c){return[["M",f-c,s],["A",c/2,c/2,0,1,1,f,s],["A",c/2,c/2,0,1,0,f+c,s]]},hv:function(f,s,c){return[["M",f-c-1,s-2.5],["L",f,s-2.5],["L",f,s+2.5],["L",f+c+1,s+2.5]]},vh:function(f,s,c){return[["M",f-c-1,s+2.5],["L",f,s+2.5],["L",f,s-2.5],["L",f+c+1,s-2.5]]},hvh:function(f,s,c){return[["M",f-(c+1),s+2.5],["L",f-c/2,s+2.5],["L",f-c/2,s-2.5],["L",f+c/2,s-2.5],["L",f+c/2,s+2.5],["L",f+c+1,s+2.5]]},vhv:function(f,s){return[["M",f-5,s+2.5],["L",f-5,s],["L",f,s],["L",f,s-3],["L",f,s+3],["L",f+6.5,s+3]]}};function Ks(v,f){var s=v.color;return{symbol:$c[f],style:{lineWidth:2,r:6,stroke:s}}}function ec(v,f,s){for(var c=v.isStack,m=v.connectNulls,R=v.isInCircle,K=v.showSinglePoint,ht=qi(v,!0,!1,"lineWidth"),Tt=Vo(v.points,m,K),Bt=[],Ht=0,$t=Tt.length;Ht<$t;Ht++){var te=Tt[Ht];Bt=Bt.concat(Qc(te,R,c,f,s,ht))}return ht.path=Bt,ht}function rc(v,f,s,c,m){if(v.length===1)return[["M",v[0].x,v[0].y-m.lineWidth/2],["L",v[0].x,v[0].y],["L",v[0].x,v[0].y+m.lineWidth/2]];var R;return s?(f&&v.length&&v.push({x:v[0].x,y:v[0].y}),R=Ln(v,!1,c)):(R=Br(v,!1),f&&R.push(["Z"])),R}function Wf(v,f,s,c,m,R){var K=[],ht=[];Object(i.j)(v,function(Ht){var $t=is(Ht);K.push($t[1]),ht.push($t[0])});var Tt=rc(K,f,c,m,R),Bt=rc(ht,f,c,m,R);return s?Tt:Tt.concat(Bt)}function Qc(v,f,s,c,m,R){if(v.length){var K=v[0];return Object(i.B)(K.y)?Wf(v,f,s,c,m,R):rc(v,f,c,m,R)}return[]}var zf=ms("line",{defaultShapeType:"line"});Object(i.j)(["line","dot","dash","smooth"],function(v){Mi("line",v,{draw:function(s,c){var m=v==="smooth",R;if(m){var K=this.coordinate,ht=K.start,Tt=K.end;R=[[ht.x,Tt.y],[Tt.x,ht.y]]}var Bt=ec(s,m,R),Ht=c.addShape({type:"path",attrs:Bt,name:"line",capture:!m});return Ht},getMarker:function(s){return Ks(s,v)}})});var kf=zf,Jc=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.type="path",c.shapeType="line";var m=s.connectNulls,R=m===void 0?!1:m,K=s.showSinglePoint,ht=K===void 0?!0:K;return c.connectNulls=R,c.showSinglePoint=ht,c}return f.prototype.createElements=function(s,c,m){m===void 0&&(m=!1);var R=this,K=R.lastElementsMap,ht=R.elementsMap,Tt=R.elements,Bt=R.container,Ht=this.getElementId(s),$t=this.getShapeInfo(s),te=K[Ht];if(te){var ve=te.getModel();(this.isCoordinateChanged||Uc(ve,$t))&&(te.animate=this.animateOption,te.update($t)),delete K[Ht]}else{var re=this.getShapeFactory();te=new cu({shapeFactory:re,container:Bt,offscreenGroup:this.getOffscreenGroup()}),te.geometry=this,te.animate=this.animateOption,te.draw($t,m)}return Tt.push(te),ht[Ht]=te,Tt},f.prototype.getPointsAndData=function(s){for(var c=[],m=[],R=0,K=s.length;R<K;R++){var ht=s[R];c.push({x:ht.x,y:ht.y}),m.push(ht[D])}return{points:c,data:m}},f.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]),m=this.getPointsAndData(s),R=m.points,K=m.data;return c.mappingData=s,c.data=K,c.isStack=!!this.getAdjust("stack"),c.points=R,c.connectNulls=this.connectNulls,c.showSinglePoint=this.showSinglePoint,c},f}(us),_c=Jc;function Vh(v,f,s,c,m){var R=[];if(v.length){for(var K=[],ht=[],Tt=0,Bt=v.length;Tt<Bt;Tt++){var Ht=v[Tt];K.push(Ht[1]),ht.push(Ht[0])}ht=ht.reverse(),Object(i.j)([K,ht],function($t,te){var re=[],ve=c.parsePoints($t),me=ve[0];K.length===1&&ht.length===1?re=te===0?[["M",me.x-.5,me.y],["L",me.x+.5,me.y]]:[["L",me.x+.5,me.y],["L",me.x-.5,me.y]]:(f&&ve.push({x:me.x,y:me.y}),s?re=Ln(ve,!1,m):re=Br(ve,!1),te>0&&(re[0][0]="L")),R=R.concat(re)}),R.push(["Z"])}return R}function gu(v,f,s,c,m){for(var R=qi(v,f,!f,"lineWidth"),K=v.connectNulls,ht=v.isInCircle,Tt=v.points,Bt=v.showSinglePoint,Ht=Vo(Tt,K,Bt),$t=[],te=0,re=Ht.length;te<re;te++){var ve=Ht[te];$t=$t.concat(Vh(ve,ht,s,c,m))}return R.path=$t,R}function pu(v){var f=v.start,s=v.end;return[[f.x,s.y],[s.x,f.y]]}var al=ms("area",{defaultShapeType:"area",getDefaultPoints:function(f){var s=f.x,c=f.y0,m=Object(i.B)(f.y)?f.y:[c,f.y];return m.map(function(R){return{x:s,y:R}})}});Mi("area","area",{draw:function(f,s){var c=gu(f,!1,!1,this),m=s.addShape({type:"path",attrs:c,name:"area"});return m},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){return K===void 0&&(K=5.5),[["M",m-K,R-4],["L",m+K,R-4],["L",m+K,R+4],["L",m-K,R+4],["Z"]]},style:{r:5,fill:s}}}});var Fd=al,qc=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.type="area",c.shapeType="area",c.generatePoints=!0,c.startOnZero=!0;var m=s.startOnZero,R=m===void 0?!0:m,K=s.sortable,ht=K===void 0?!1:K,Tt=s.showSinglePoint,Bt=Tt===void 0?!1:Tt;return c.startOnZero=R,c.sortable=ht,c.showSinglePoint=Bt,c}return f.prototype.getPointsAndData=function(s){for(var c=[],m=[],R=0,K=s.length;R<K;R++){var ht=s[R];c.push(ht.points),m.push(ht[D])}return{points:c,data:m}},f.prototype.getYMinValue=function(){if(this.startOnZero)return v.prototype.getYMinValue.call(this);var s=this.getYScale();return s.min},f}(_c),yu=qc,Vf=ms("edge",{defaultShapeType:"line",getDefaultPoints:function(f){return is(f)}});Mi("edge","line",{draw:function(f,s){var c=qi(f,!0,!1,"lineWidth"),m=Br(this.parsePoints(f.points),this.coordinate.isPolar);return s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:m})})},getMarker:function(f){return{symbol:"circle",style:{r:4.5,fill:f.color}}}});var Gd=Vf,Bl=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.type="edge",s.shapeType="edge",s.generatePoints=!0,s}return f}(us),Nl=Bl,tf=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.type="heatmap",s.paletteCache={},s}return f.prototype.createElements=function(s,c,m){m===void 0&&(m=!1);var R=this.prepareRange(s),K=this.prepareSize(),ht=Object(i.s)(this.styleOption,["style","shadowBlur"]);return Object(i.K)(ht)||(ht=K/2),this.prepareGreyScaleBlurredCircle(K,ht),this.drawWithRange(s,R,K,ht),null},f.prototype.clear=function(){v.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},f.prototype.prepareRange=function(s){var c=this.getAttribute("color"),m=c.getFields()[0],R=Infinity,K=-Infinity;return s.forEach(function(ht){var Tt=ht[D][m];Tt>K&&(K=Tt),Tt<R&&(R=Tt)}),R===K&&(R=K-1),[R,K]},f.prototype.prepareSize=function(){var s=this.getDefaultValue("size");return Object(i.K)(s)||(s=this.getDefaultSize()),s},f.prototype.prepareGreyScaleBlurredCircle=function(s,c){var m=this.getGrayScaleBlurredCanvas(),R=s+c,K=m.getContext("2d");m.width=m.height=R*2,K.clearRect(0,0,m.width,m.height),K.shadowOffsetX=K.shadowOffsetY=R*2,K.shadowBlur=c,K.shadowColor="black",K.beginPath(),K.arc(-R,-R,s,0,Math.PI*2,!0),K.closePath(),K.fill()},f.prototype.drawWithRange=function(s,c,m,R){var K=this.coordinate,ht=K.start,Tt=K.end,Bt=this.coordinate.getWidth(),Ht=this.coordinate.getHeight(),$t=this.getAttribute("color"),te=$t.getFields()[0];this.clearShadowCanvasCtx();var re=this.getShadowCanvasCtx();c&&(s=s.filter(function(na){return na[D][te]<=c[1]&&na[D][te]>=c[0]}));for(var ve=this.scales[te],me=0,_e=s;me<_e.length;me++){var tr=_e[me],yr=this.getDrawCfg(tr),xr=yr.x,nn=yr.y,dn=ve.scale(tr[D][te]);this.drawGrayScaleBlurredCircle(xr-ht.x,nn-Tt.y,m+R,dn,re)}var cn=re.getImageData(0,0,Bt,Ht);this.clearShadowCanvasCtx(),this.colorize(cn),re.putImageData(cn,0,0);var ma=this.getImageShape();ma.attr("x",ht.x),ma.attr("y",Tt.y),ma.attr("width",Bt),ma.attr("height",Ht),ma.attr("img",re.canvas),ma.set("origin",this.getShapeInfo(s))},f.prototype.getDefaultSize=function(){var s=this.getAttribute("position"),c=this.coordinate;return Math.min(c.getWidth()/(s.scales[0].ticks.length*4),c.getHeight()/(s.scales[1].ticks.length*4))},f.prototype.clearShadowCanvasCtx=function(){var s=this.getShadowCanvasCtx();s.clearRect(0,0,s.canvas.width,s.canvas.height)},f.prototype.getShadowCanvasCtx=function(){var s=this.shadowCanvas;return s||(s=document.createElement("canvas"),this.shadowCanvas=s),s.width=this.coordinate.getWidth(),s.height=this.coordinate.getHeight(),s.getContext("2d")},f.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},f.prototype.drawGrayScaleBlurredCircle=function(s,c,m,R,K){var ht=this.getGrayScaleBlurredCanvas();K.globalAlpha=R,K.drawImage(ht,s-m,c-m)},f.prototype.colorize=function(s){for(var c=this.getAttribute("color"),m=s.data,R=this.paletteCache,K=3;K<m.length;K+=4){var ht=m[K];if(Object(i.K)(ht)){var Tt=R[ht]?R[ht]:Ot.a.rgb2arr(c.gradient(ht/256));m[K-3]=Tt[0],m[K-2]=Tt[1],m[K-1]=Tt[2],m[K]=ht}}},f.prototype.getImageShape=function(){var s=this.imageShape;if(s)return s;var c=this.container;return s=c.addShape({type:"image",attrs:{}}),this.imageShape=s,s},f.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]);return Object(h.a)(Object(h.a)({},c),{mappingData:s,data:this.getData(s)})},f.prototype.getData=function(s){return s.map(function(c){return c[D]})},f}(us),Xh=tf;function ef(v,f){f===void 0&&(f=!1);var s=v.x,c=v.y,m=v.y0,R=v.size,K,ht;Object(i.B)(c)?(K=c[0],ht=c[1]):(K=m,ht=c);var Tt,Bt;Object(i.B)(s)?(Tt=s[0],Bt=s[1]):(Tt=s-R/2,Bt=s+R/2);var Ht=[{x:Tt,y:K},{x:Tt,y:ht}];return f?Ht.push({x:Bt,y:(ht+K)/2}):Ht.push({x:Bt,y:ht},{x:Bt,y:K}),Ht}function Fl(v,f){f===void 0&&(f=!0);var s=[],c=v[0];s.push(["M",c.x,c.y]);for(var m=1,R=v.length;m<R;m++)s.push(["L",v[m].x,v[m].y]);return f&&(s.push(["L",c.x,c.y]),s.push(["z"])),s}function mu(v,f){var s=0,c=0,m=0,R=0;return Object(i.B)(v)?v.length===1?s=c=m=R=v[0]:v.length===2?(s=m=v[0],c=R=v[1]):v.length===3?(s=v[0],c=R=v[1],m=v[2]):(s=v[0],c=v[1],m=v[2],R=v[3]):s=c=m=R=v,s+c>f&&(s=s?f/(1+c/s):0,c=f-s),m+R>f&&(m=m?f/(1+R/m):0,R=f-m),[s||0,c||0,m||0,R||0]}function rf(v,f,s){var c=[];if(s.isRect){var m=s.isTransposed?{x:s.start.x,y:f[0].y}:{x:f[0].x,y:s.start.y},R=s.isTransposed?{x:s.end.x,y:f[2].y}:{x:f[3].x,y:s.end.y},K=Object(i.s)(v,["background","style","radius"]);if(K){var ht=s.isTransposed?Math.abs(f[0].y-f[2].y):f[2].x-f[1].x,Tt=s.isTransposed?s.getWidth():s.getHeight(),Bt=mu(K,Math.min(ht,Tt)),Ht=Bt[0],$t=Bt[1],te=Bt[2],re=Bt[3];c.push(["M",m.x,R.y+Ht]),Ht!==0&&c.push(["A",Ht,Ht,0,0,1,m.x+Ht,R.y]),c.push(["L",R.x-$t,R.y]),$t!==0&&c.push(["A",$t,$t,0,0,1,R.x,R.y+$t]),c.push(["L",R.x,m.y-te]),te!==0&&c.push(["A",te,te,0,0,1,R.x-te,m.y]),c.push(["L",m.x+re,m.y]),re!==0&&c.push(["A",re,re,0,0,1,m.x,m.y-re])}else c.push(["M",m.x,m.y]),c.push(["L",R.x,m.y]),c.push(["L",R.x,R.y]),c.push(["L",m.x,R.y]),c.push(["L",m.x,m.y]);c.push(["z"])}if(s.isPolar){var ve=s.getCenter(),me=Be(v,s),_e=me.startAngle,tr=me.endAngle;if(s.type!=="theta"&&!s.isTransposed)c=ye(ve.x,ve.y,s.getRadius(),_e,tr);else{var yr=function(cn){return Math.pow(cn,2)},Ht=Math.sqrt(yr(ve.x-f[0].x)+yr(ve.y-f[0].y)),$t=Math.sqrt(yr(ve.x-f[2].x)+yr(ve.y-f[2].y));c=ye(ve.x,ve.y,Ht,s.startAngle,s.endAngle,$t)}}return c}function Hh(v,f,s){var c=s.getWidth(),m=s.getHeight(),R=s.type==="rect",K=[],ht=(v[2].x-v[1].x)/2,Tt=s.isTransposed?ht*m/c:ht*c/m;return f==="round"?(R?(K.push(["M",v[0].x,v[0].y+Tt]),K.push(["L",v[1].x,v[1].y-Tt]),K.push(["A",ht,ht,0,0,1,v[2].x,v[2].y-Tt]),K.push(["L",v[3].x,v[3].y+Tt]),K.push(["A",ht,ht,0,0,1,v[0].x,v[0].y+Tt])):(K.push(["M",v[0].x,v[0].y]),K.push(["L",v[1].x,v[1].y]),K.push(["A",ht,ht,0,0,1,v[2].x,v[2].y]),K.push(["L",v[3].x,v[3].y]),K.push(["A",ht,ht,0,0,1,v[0].x,v[0].y])),K.push(["z"])):K=Fl(v),K}function Xf(v,f,s){var c=[];return Object(i.I)(f)?s?c.push(["M",v[0].x,v[0].y],["L",v[1].x,v[1].y],["L",v[2].x,v[2].y],["L",v[2].x,v[2].y],["Z"]):c.push(["M",v[0].x,v[0].y],["L",v[1].x,v[1].y],["L",v[2].x,v[2].y],["L",v[3].x,v[3].y],["Z"]):c.push(["M",v[0].x,v[0].y],["L",v[1].x,v[1].y],["L",f[1].x,f[1].y],["L",f[0].x,f[0].y],["Z"]),c}function Yh(v,f,s){var c,m,R,K,ht=v[0],Tt=v[1],Bt=v[2],Ht=v[3],$t=[0,0,0,0],te=$t[0],re=$t[1],ve=$t[2],me=$t[3];ht.y<Tt.y?(Tt=v[0],ht=v[1],Ht=v[2],Bt=v[3],c=mu(s,Math.min(Ht.x-ht.x,ht.y-Tt.y)),me=c[0],ve=c[1],re=c[2],te=c[3]):(m=mu(s,Math.min(Ht.x-ht.x,ht.y-Tt.y)),te=m[0],re=m[1],ve=m[2],me=m[3]),f.isTransposed&&(ht=v[0],Ht=v[1],Bt=v[2],Tt=v[3],v[0].x>v[1].x?(Ht=v[0],ht=v[1],Tt=v[2],Bt=v[3],R=mu(s,Math.min(Ht.x-ht.x,ht.y-Tt.y)),te=R[0],me=R[1],ve=R[2],re=R[3]):(K=mu(s,Math.min(Ht.x-ht.x,ht.y-Tt.y)),re=K[0],ve=K[1],me=K[2],te=K[3]));var _e=[];return _e.push(["M",Tt.x,Tt.y+te]),te!==0&&_e.push(["A",te,te,0,0,1,Tt.x+te,Tt.y]),_e.push(["L",Bt.x-re,Bt.y]),re!==0&&_e.push(["A",re,re,0,0,1,Bt.x,Bt.y+re]),_e.push(["L",Ht.x,Ht.y-ve]),ve!==0&&_e.push(["A",ve,ve,0,0,1,Ht.x-ve,Ht.y]),_e.push(["L",ht.x+me,ht.y]),me!==0&&_e.push(["A",me,me,0,0,1,ht.x,ht.y-me]),_e.push(["L",Tt.x,Tt.y+te]),_e.push(["z"]),_e}var Hf=ms("interval",{defaultShapeType:"rect",getDefaultPoints:function(f){return ef(f)}});Mi("interval","rect",{draw:function(f,s){var c=qi(f,!1,!0),m=s,R=f==null?void 0:f.background;if(R){m=s.addGroup();var K=Uf(f),ht=rf(f,this.parsePoints(f.points),this.coordinate);m.addShape("path",{attrs:Object(h.a)(Object(h.a)({},K),{path:ht}),zIndex:-1,name:Fc})}var Tt;c.radius&&this.coordinate.isRect?Tt=Yh(this.parsePoints(f.points),this.coordinate,c.radius):Tt=this.parsePath(Hh(f.points,c.lineCap,this.coordinate));var Bt=m.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:Tt}),name:"interval"});return R?m:Bt},getMarker:function(f){var s=f.color,c=f.isInPolar;return c?{symbol:"circle",style:{r:4.5,fill:s}}:{symbol:"square",style:{r:4,fill:s}}}});var Kh=Hf;function Xo(v,f){var s=v.length,c=v;Object(i.O)(c[0])&&(c=v.map(function(ht){return f.translate(ht)}));for(var m=c[1]-c[0],R=2;R<s;R++){var K=c[R]-c[R-1];m>K&&(m=K)}return m}function Zh(v,f){if(f){var s=Object(i.q)(v),c=Object(i.vb)(s,f);return c.length}return v.length}function Yf(v){var f=v.theme,s=v.coordinate,c=v.getXScale(),m=c.values,R=v.beforeMappingData,K=m.length,ht=Xe(v.coordinate),Tt=v.intervalPadding,Bt=v.dodgePadding,Ht=v.maxColumnWidth||f.maxColumnWidth,$t=v.minColumnWidth||f.minColumnWidth,te=v.columnWidthRatio||f.columnWidthRatio,re=v.multiplePieWidthRatio||f.multiplePieWidthRatio,ve=v.roseWidthRatio||f.roseWidthRatio;if(c.isLinear&&m.length>1){m.sort();var me=Xo(m,c);K=(c.max-c.min)/me,m.length>K&&(K=m.length)}var _e=c.range,tr=1/K,yr=1;if(s.isPolar?s.isTransposed&&K>1?yr=re:yr=ve:(c.isLinear&&(tr*=_e[1]-_e[0]),yr=te),!Object(i.I)(Tt)&&Tt>=0){var xr=Tt/ht;tr=(1-(K-1)*xr)/K}else tr*=yr;if(v.getAdjust("dodge")){var nn=v.getAdjust("dodge"),dn=nn.dodgeBy,cn=Zh(R,dn);if(!Object(i.I)(Bt)&&Bt>=0){var ma=Bt/ht;tr=(tr-ma*(cn-1))/cn}else!Object(i.I)(Tt)&&Tt>=0&&(tr*=yr),tr=tr/cn;tr=tr>=0?tr:0}if(!Object(i.I)(Ht)&&Ht>=0){var na=Ht/ht;tr>na&&(tr=na)}if(!Object(i.I)($t)&&$t>=0){var Kn=$t/ht;tr<Kn&&(tr=Kn)}return tr}var Kf=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.type="interval",c.shapeType="interval",c.generatePoints=!0;var m=s.background;return c.background=m,c}return f.prototype.createShapePointsCfg=function(s){var c=v.prototype.createShapePointsCfg.call(this,s),m,R=this.getAttribute("size");if(R){m=this.getAttributeValues(R,s)[0];var K=this.coordinate,ht=Xe(K);m=m/ht}else this.defaultSize||(this.defaultSize=Yf(this)),m=this.defaultSize;return c.size=m,c},f.prototype.adjustScale=function(){v.prototype.adjustScale.call(this);var s=this.getYScale();if(this.coordinate.type==="theta")s.change({nice:!1,min:0,max:Va(s)});else{var c=this.scaleDefs,m=s.field,R=s.min,K=s.max,ht=s.type;ht!=="time"&&(R>0&&!Object(i.s)(c,[m,"min"])&&s.change({min:0}),K<=0&&!Object(i.s)(c,[m,"max"])&&s.change({max:0}))}},f.prototype.getDrawCfg=function(s){var c=v.prototype.getDrawCfg.call(this,s);return c.background=this.background,c},f}(us),Ho=Kf,$h=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;c.type="line";var m=s.sortable,R=m===void 0?!1:m;return c.sortable=R,c}return f}(_c),nf=$h,Zf=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],$f=["cross","tick","plus","hyphen","line"];function Gl(v,f,s,c,m){var R=qi(f,m,!m,"r"),K=v.parsePoints(f.points),ht=K[0];if(f.isStack)ht=K[1];else if(K.length>1){for(var Tt=s.addGroup(),Bt=0,Ht=K;Bt<Ht.length;Bt++){var $t=Ht[Bt];Tt.addShape({type:"marker",attrs:Object(h.a)(Object(h.a)(Object(h.a)({},R),{symbol:Ao[c]||c}),$t)})}return Tt}return s.addShape({type:"marker",attrs:Object(h.a)(Object(h.a)(Object(h.a)({},R),{symbol:Ao[c]||c}),ht)})}var Is=ms("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(f){return is(f)}});Object(i.j)(Zf,function(v){Mi("point","hollow-"+v,{draw:function(s,c){return Gl(this,s,c,v,!0)},getMarker:function(s){var c=s.color;return{symbol:Ao[v]||v,style:{r:4.5,stroke:c,fill:null}}}})});var Qh=Is,bu=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.type="point",s.shapeType="point",s.generatePoints=!0,s}return f.prototype.getDrawCfg=function(s){var c=v.prototype.getDrawCfg.call(this,s);return Object(h.a)(Object(h.a)({},c),{isStack:!!this.getAdjust("stack")})},f}(us),Qf=bu;function An(v){for(var f=v[0],s=1,c=[["M",f.x,f.y]];s<v.length;){var m=v[s];(m.x!==v[s-1].x||m.y!==v[s-1].y)&&(c.push(["L",m.x,m.y]),m.x===f.x&&m.y===f.y&&s<v.length-1&&(f=v[s+1],c.push(["Z"]),c.push(["M",f.x,f.y]),s++)),s++}return Object(i.G)(Object(i.S)(c),f)||c.push(["L",f.x,f.y]),c.push(["Z"]),c}var Ud=ms("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(f){var s=[];return Object(i.j)(f.x,function(c,m){var R=f.y[m];s.push({x:c,y:R})}),s}});Mi("polygon","polygon",{draw:function(f,s){if(!Object(i.F)(f.points)){var c=qi(f,!0,!0),m=this.parsePath(An(f.points));return s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:m}),name:"polygon"})}},getMarker:function(f){var s=f.color;return{symbol:"square",style:{r:4,fill:s}}}});var hs=Ud,Os=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.type="polygon",s.shapeType="polygon",s.generatePoints=!0,s}return f.prototype.createShapePointsCfg=function(s){var c=v.prototype.createShapePointsCfg.call(this,s),m=c.x,R=c.y,K;if(!(Object(i.B)(m)&&Object(i.B)(R))){var ht=this.getXScale(),Tt=this.getYScale(),Bt=ht.values.length,Ht=Tt.values.length,$t=.5*1/Bt,te=.5*1/Ht;ht.isCategory&&Tt.isCategory?(m=[m-$t,m-$t,m+$t,m+$t],R=[R-te,R+te,R+te,R-te]):Object(i.B)(m)?(K=m,m=[K[0],K[0],K[1],K[1]],R=[R-te/2,R+te/2,R+te/2,R-te/2]):Object(i.B)(R)&&(K=R,R=[K[0],K[1],K[1],K[0]],m=[m-$t/2,m-$t/2,m+$t/2,m+$t/2]),c.x=m,c.y=R}return c},f}(us),Lr=Os,il=ms("schema",{defaultShapeType:""}),Jf=il,ol=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.type="schema",s.shapeType="schema",s.generatePoints=!0,s}return f.prototype.createShapePointsCfg=function(s){var c=v.prototype.createShapePointsCfg.call(this,s),m,R=this.getAttribute("size");if(R){m=this.getAttributeValues(R,s)[0];var K=this.coordinate,ht=Xe(K);m=m/ht}else this.defaultSize||(this.defaultSize=Yf(this)),m=this.defaultSize;return c.size=m,c},f}(us),af=ol;Mi("area","line",{draw:function(f,s){var c=gu(f,!0,!1,this),m=s.addShape({type:"path",attrs:c,name:"area"});return m},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){return K===void 0&&(K=5.5),[["M",m-K,R-4],["L",m+K,R-4],["L",m+K,R+4],["L",m-K,R+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}}),Mi("area","smooth",{draw:function(f,s){var c=this.coordinate,m=gu(f,!1,!0,this,pu(c)),R=s.addShape({type:"path",attrs:m,name:"area"});return R},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){return K===void 0&&(K=5.5),[["M",m-K,R-4],["L",m+K,R-4],["L",m+K,R+4],["L",m-K,R+4],["Z"]]},style:{r:5,fill:s}}}}),Mi("area","smooth-line",{draw:function(f,s){var c=this.coordinate,m=gu(f,!0,!0,this,pu(c)),R=s.addShape({type:"path",attrs:m,name:"area"});return R},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){return K===void 0&&(K=5.5),[["M",m-K,R-4],["L",m+K,R-4],["L",m+K,R+4],["L",m-K,R+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}});function Ou(v,f){return["C",v.x*1/2+f.x*1/2,v.y,v.x*1/2+f.x*1/2,f.y,f.x,f.y]}function Ul(v,f){var s=[];s.push({x:f.x,y:f.y}),s.push(v);var c=["Q"];return Object(i.j)(s,function(m){c.push(m.x,m.y)}),c}function of(v,f,s){var c=Ul(f,s),m=[["M",v.x,v.y]];return m.push(c),m}function sf(v,f){var s=Ul(v[1],f),c=Ul(v[3],f),m=[["M",v[0].x,v[0].y]];return m.push(c),m.push(["L",v[3].x,v[3].y]),m.push(["L",v[2].x,v[2].y]),m.push(s),m.push(["L",v[1].x,v[1].y]),m.push(["L",v[0].x,v[0].y]),m.push(["Z"]),m}Mi("edge","arc",{draw:function(f,s){var c=qi(f,!0,!1,"lineWidth"),m=f.points,R=m.length>2?"weight":"normal",K;if(f.isInCircle){var ht={x:0,y:1};return R==="normal"?K=of(m[0],m[1],ht):(c.fill=c.stroke,K=sf(m,ht)),K=this.parsePath(K),s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:K})})}else{if(R==="normal")return m=this.parsePoints(m),K=Ie((m[1].x+m[0].x)/2,m[0].y,Math.abs(m[1].x-m[0].x)/2,Math.PI,Math.PI*2),s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:K})});var Tt=Ou(m[1],m[3]),Bt=Ou(m[2],m[0]);return K=[["M",m[0].x,m[0].y],["L",m[1].x,m[1].y],Tt,["L",m[3].x,m[3].y],["L",m[2].x,m[2].y],Bt,["Z"]],K=this.parsePath(K),c.fill=c.stroke,s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:K})})}},getMarker:function(f){return{symbol:"circle",style:{r:4.5,fill:f.color}}}});function nc(v,f){var s=Ou(v,f),c=[["M",v.x,v.y]];return c.push(s),c}Mi("edge","smooth",{draw:function(f,s){var c=qi(f,!0,!1,"lineWidth"),m=f.points,R=this.parsePath(nc(m[0],m[1]));return s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:R})})},getMarker:function(f){return{symbol:"circle",style:{r:4.5,fill:f.color}}}});var Ps=1/3;function _f(v,f){var s=[];s.push({x:v.x,y:v.y*(1-Ps)+f.y*Ps}),s.push({x:f.x,y:v.y*(1-Ps)+f.y*Ps}),s.push(f);var c=[["M",v.x,v.y]];return Object(i.j)(s,function(m){c.push(["L",m.x,m.y])}),c}Mi("edge","vhv",{draw:function(f,s){var c=qi(f,!0,!1,"lineWidth"),m=f.points,R=this.parsePath(_f(m[0],m[1]));return s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:R})})},getMarker:function(f){return{symbol:"circle",style:{r:4.5,fill:f.color}}}}),Mi("interval","funnel",{getPoints:function(f){return f.size=f.size*2,ef(f)},draw:function(f,s){var c=qi(f,!1,!0),m=this.parsePath(Xf(f.points,f.nextPoints,!1)),R=s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:m}),name:"interval"});return R},getMarker:function(f){var s=f.color;return{symbol:"square",style:{r:4,fill:s}}}}),Mi("interval","hollow-rect",{draw:function(f,s){var c=qi(f,!0,!1),m=s,R=f==null?void 0:f.background;if(R){m=s.addGroup();var K=Uf(f),ht=rf(f,this.parsePoints(f.points),this.coordinate);m.addShape("path",{attrs:Object(h.a)(Object(h.a)({},K),{path:ht}),zIndex:-1,name:Fc})}var Tt=this.parsePath(Fl(f.points)),Bt=m.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:Tt}),name:"interval"});return R?m:Bt},getMarker:function(f){var s=f.color,c=f.isInPolar;return c?{symbol:"circle",style:{r:4.5,stroke:s,fill:null}}:{symbol:"square",style:{r:4,stroke:s,fill:null}}}});function xu(v){var f=v.x,s=v.y,c=v.y0;return Object(i.B)(s)?s.map(function(m,R){return{x:Object(i.B)(f)?f[R]:f,y:m}}):[{x:f,y:c},{x:f,y:s}]}Mi("interval","line",{getPoints:function(f){return xu(f)},draw:function(f,s){var c=qi(f,!0,!1,"lineWidth"),m=cr(Object(h.a)({},c),["fill"]),R=this.parsePath(Fl(f.points,!1)),K=s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},m),{path:R}),name:"interval"});return K},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){return[["M",m,R-K],["L",m,R+K]]},style:{r:5,stroke:s}}}}),Mi("interval","pyramid",{getPoints:function(f){return f.size=f.size*2,ef(f,!0)},draw:function(f,s){var c=qi(f,!1,!0),m=this.parsePath(Xf(f.points,f.nextPoints,!0)),R=s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:m}),name:"interval"});return R},getMarker:function(f){var s=f.color;return{symbol:"square",style:{r:4,fill:s}}}});function Eu(v){var f=v.x,s=v.y,c=v.y0,m=v.size,R,K;Object(i.B)(s)?(R=s[0],K=s[1]):(R=c,K=s);var ht=f+m/2,Tt=f-m/2;return[{x:f,y:R},{x:f,y:K},{x:Tt,y:R},{x:ht,y:R},{x:Tt,y:K},{x:ht,y:K}]}function lf(v){return[["M",v[0].x,v[0].y],["L",v[1].x,v[1].y],["M",v[2].x,v[2].y],["L",v[3].x,v[3].y],["M",v[4].x,v[4].y],["L",v[5].x,v[5].y]]}Mi("interval","tick",{getPoints:function(f){return Eu(f)},draw:function(f,s){var c=qi(f,!0,!1),m=this.parsePath(lf(f.points)),R=s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:m}),name:"interval"});return R},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){return[["M",m-K/2,R-K],["L",m+K/2,R-K],["M",m,R-K],["L",m,R+K],["M",m-K/2,R+K],["L",m+K/2,R+K]]},style:{r:5,stroke:s}}}});var uf=function(f,s,c){var m=f.x,R=f.y,K=s.x,ht=s.y,Tt;switch(c){case"hv":Tt=[{x:K,y:R}];break;case"vh":Tt=[{x:m,y:ht}];break;case"hvh":var Bt=(K+m)/2;Tt=[{x:Bt,y:R},{x:Bt,y:ht}];break;case"vhv":var Ht=(R+ht)/2;Tt=[{x:m,y:Ht},{x:K,y:Ht}];break;default:break}return Tt};function cf(v,f){var s=[];return Object(i.j)(v,function(c,m){var R=v[m+1];if(s.push(c),R){var K=uf(c,R,f);s=s.concat(K)}}),s}function qf(v){return v.map(function(f,s){return s===0?["M",f.x,f.y]:["L",f.x,f.y]})}function ff(v,f){var s=Vo(v.points,v.connectNulls,v.showSinglePoint),c=[];return Object(i.j)(s,function(m){var R=cf(m,f);c=c.concat(qf(R))}),Object(h.a)(Object(h.a)({},qi(v,!0,!1,"lineWidth")),{path:c})}Object(i.j)(["hv","vh","hvh","vhv"],function(v){Mi("line",v,{draw:function(s,c){var m=ff(s,v),R=c.addShape({type:"path",attrs:m,name:"line"});return R},getMarker:function(s){return Ks(s,v)}})}),Object(i.j)($f,function(v){Mi("point",v,{draw:function(s,c){return Gl(this,s,c,v,!0)},getMarker:function(s){var c=s.color;return{symbol:Ao[v],style:{r:4.5,stroke:c,fill:null}}}})}),Mi("point","image",{draw:function(f,s){var c=qi(f,!1,!1,"r").r,m=this.parsePoints(f.points),R=m[0];if(f.isStack)R=m[1];else if(m.length>1){for(var K=s.addGroup(),ht=0,Tt=m;ht<Tt.length;ht++){var Bt=Tt[ht];K.addShape("image",{attrs:{x:Bt.x-c/2,y:Bt.y-c,width:c,height:c,img:f.shape[1]}})}return K}return s.addShape("image",{attrs:{x:R.x-c/2,y:R.y-c,width:c,height:c,img:f.shape[1]}})},getMarker:function(f){var s=f.color;return{symbol:"circle",style:{r:4.5,fill:s}}}}),Object(i.j)(Zf,function(v){Mi("point",v,{draw:function(s,c){return Gl(this,s,c,v,!1)},getMarker:function(s){var c=s.color;return{symbol:Ao[v]||v,style:{r:4.5,fill:c}}}})});function ac(v){var f=Object(i.B)(v)?v:[v],s=f[0],c=f[f.length-1],m=f.length>1?f[1]:s,R=f.length>3?f[3]:c,K=f.length>2?f[2]:m;return{min:s,max:c,min1:m,max1:R,median:K}}function hf(v,f,s){var c=s/2,m;if(Object(i.B)(f)){var R=ac(f),K=R.min,ht=R.max,Tt=R.median,Bt=R.min1,Ht=R.max1,$t=v-c,te=v+c;m=[[$t,ht],[te,ht],[v,ht],[v,Ht],[$t,Bt],[$t,Ht],[te,Ht],[te,Bt],[v,Bt],[v,K],[$t,K],[te,K],[$t,Tt],[te,Tt]]}else{f=Object(i.I)(f)?.5:f;var re=ac(v),K=re.min,ht=re.max,Tt=re.median,Bt=re.min1,Ht=re.max1,ve=f-c,me=f+c;m=[[K,ve],[K,me],[K,f],[Bt,f],[Bt,ve],[Bt,me],[Ht,me],[Ht,ve],[Ht,f],[ht,f],[ht,ve],[ht,me],[Tt,ve],[Tt,me]]}return m.map(function(_e){return{x:_e[0],y:_e[1]}})}function ic(v){return[["M",v[0].x,v[0].y],["L",v[1].x,v[1].y],["M",v[2].x,v[2].y],["L",v[3].x,v[3].y],["M",v[4].x,v[4].y],["L",v[5].x,v[5].y],["L",v[6].x,v[6].y],["L",v[7].x,v[7].y],["L",v[4].x,v[4].y],["Z"],["M",v[8].x,v[8].y],["L",v[9].x,v[9].y],["M",v[10].x,v[10].y],["L",v[11].x,v[11].y],["M",v[12].x,v[12].y],["L",v[13].x,v[13].y]]}Mi("schema","box",{getPoints:function(f){var s=f.x,c=f.y,m=f.size;return hf(s,c,m)},draw:function(f,s){var c=qi(f,!0,!1),m=this.parsePath(ic(f.points)),R=s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:m,name:"schema"})});return R},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){var ht=[R-6,R-3,R,R+3,R+6],Tt=hf(m,ht,K);return[["M",Tt[0].x+1,Tt[0].y],["L",Tt[1].x-1,Tt[1].y],["M",Tt[2].x,Tt[2].y],["L",Tt[3].x,Tt[3].y],["M",Tt[4].x,Tt[4].y],["L",Tt[5].x,Tt[5].y],["L",Tt[6].x,Tt[6].y],["L",Tt[7].x,Tt[7].y],["L",Tt[4].x,Tt[4].y],["Z"],["M",Tt[8].x,Tt[8].y],["L",Tt[9].x,Tt[9].y],["M",Tt[10].x+1,Tt[10].y],["L",Tt[11].x-1,Tt[11].y],["M",Tt[12].x,Tt[12].y],["L",Tt[13].x,Tt[13].y]]},style:{r:6,lineWidth:1,stroke:s}}}});function df(v){var f=Object(i.B)(v)?v:[v],s=f.sort(function(c,m){return m-c});return Ke(s,4,s[s.length-1])}function oc(v,f,s){var c=df(f);return[{x:v,y:c[0]},{x:v,y:c[1]},{x:v-s/2,y:c[2]},{x:v-s/2,y:c[1]},{x:v+s/2,y:c[1]},{x:v+s/2,y:c[2]},{x:v,y:c[2]},{x:v,y:c[3]}]}function Wl(v){return[["M",v[0].x,v[0].y],["L",v[1].x,v[1].y],["M",v[2].x,v[2].y],["L",v[3].x,v[3].y],["L",v[4].x,v[4].y],["L",v[5].x,v[5].y],["Z"],["M",v[6].x,v[6].y],["L",v[7].x,v[7].y]]}Mi("schema","candle",{getPoints:function(f){var s=f.x,c=f.y,m=f.size;return oc(s,c,m)},draw:function(f,s){var c=qi(f,!0,!0),m=this.parsePath(Wl(f.points)),R=s.addShape("path",{attrs:Object(h.a)(Object(h.a)({},c),{path:m,name:"schema"})});return R},getMarker:function(f){var s=f.color;return{symbol:function(m,R,K){var ht=[R+7.5,R+3,R-3,R-7.5],Tt=oc(m,ht,K);return[["M",Tt[0].x,Tt[0].y],["L",Tt[1].x,Tt[1].y],["M",Tt[2].x,Tt[2].y],["L",Tt[3].x,Tt[3].y],["L",Tt[4].x,Tt[4].y],["L",Tt[5].x,Tt[5].y],["Z"],["M",Tt[6].x,Tt[6].y],["L",Tt[7].x,Tt[7].y]]},style:{lineWidth:1,stroke:s,fill:s,r:6}}}});function Mu(v,f){var s=Math.abs(v[0].x-v[2].x),c=Math.abs(v[0].y-v[2].y),m=Math.min(s,c);f&&(m=Object(i.c)(f,0,Math.min(s,c))),m=m/2;var R=(v[0].x+v[2].x)/2,K=(v[0].y+v[2].y)/2;return{x:R-m,y:K-m,width:m*2,height:m*2}}Mi("polygon","square",{draw:function(f,s){if(!Object(i.F)(f.points)){var c=qi(f,!0,!0),m=this.parsePoints(f.points);return s.addShape("rect",{attrs:Object(h.a)(Object(h.a)({},c),Mu(m,f.size)),name:"polygon"})}},getMarker:function(f){var s=f.color;return{symbol:"square",style:{r:4,fill:s}}}});var co=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getLabelValueDir=function(s){var c="y",m=s.points;return m[0][c]<=m[2][c]?1:-1},f.prototype.getLabelOffsetPoint=function(s,c,m){var R,K=v.prototype.getLabelOffsetPoint.call(this,s,c,m),ht=this.getCoordinate().isTransposed,Tt=ht?"x":"y",Bt=this.getLabelValueDir(s.mappingData);return Object(h.a)(Object(h.a)({},K),(R={},R[Tt]=K[Tt]*Bt,R))},f.prototype.getThemedLabelCfg=function(s){var c=this.geometry,m=this.getDefaultLabelCfg(),R=c.theme;return Object(i.h)({},m,R.labels,s.position==="middle"?{offset:0}:{},s)},f.prototype.setLabelPosition=function(s,c,m,R){var K=this.getCoordinate(),ht=K.isTransposed,Tt=c.points,Bt=K.convert(Tt[0]),Ht=K.convert(Tt[2]),$t=this.getLabelValueDir(c),te,re,ve,me,_e=Object(i.B)(c.shape)?c.shape[0]:c.shape;if(_e==="funnel"||_e==="pyramid"){var tr=Object(i.s)(c,"nextPoints"),yr=Object(i.s)(c,"points");if(tr){var xr=K.convert(yr[0]),nn=K.convert(yr[1]),dn=K.convert(tr[0]),cn=K.convert(tr[1]);ht?(te=Math.min(dn.y,xr.y),ve=Math.max(dn.y,xr.y),re=(nn.x+cn.x)/2,me=(xr.x+dn.x)/2):(te=Math.min((nn.y+cn.y)/2,(xr.y+dn.y)/2),ve=Math.max((nn.y+cn.y)/2,(xr.y+dn.y)/2),re=cn.x,me=xr.x)}else te=Math.min(Ht.y,Bt.y),ve=Math.max(Ht.y,Bt.y),re=Ht.x,me=Bt.x}else te=Math.min(Ht.y,Bt.y),ve=Math.max(Ht.y,Bt.y),re=Ht.x,me=Bt.x;switch(R){case"right":s.x=re,s.y=(te+ve)/2,s.textAlign=Object(i.s)(s,"textAlign",$t>0?"left":"right");break;case"left":s.x=me,s.y=(te+ve)/2,s.textAlign=Object(i.s)(s,"textAlign",$t>0?"left":"right");break;case"bottom":ht&&(s.x=(re+me)/2),s.y=ve,s.textAlign=Object(i.s)(s,"textAlign","center"),s.textBaseline=Object(i.s)(s,"textBaseline",$t>0?"bottom":"top");break;case"middle":ht&&(s.x=(re+me)/2),s.y=(te+ve)/2,s.textAlign=Object(i.s)(s,"textAlign","center"),s.textBaseline=Object(i.s)(s,"textBaseline","middle");break;case"top":ht&&(s.x=(re+me)/2),s.y=te,s.textAlign=Object(i.s)(s,"textAlign","center"),s.textBaseline=Object(i.s)(s,"textBaseline",$t>0?"bottom":"top");break;default:break}},f}(As),Su=co,sc=Math.PI/2,Jh=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getLabelOffset=function(s){var c=this.getCoordinate(),m=0;if(Object(i.K)(s))m=s;else if(Object(i.O)(s)&&s.indexOf("%")!==-1){var R=c.getRadius();c.innerRadius>0&&(R=R*(1-c.innerRadius)),m=parseFloat(s)*.01*R}return m},f.prototype.getLabelItems=function(s){var c=v.prototype.getLabelItems.call(this,s),m=this.geometry.getYScale();return Object(i.U)(c,function(R){if(R&&m){var K=m.scale(Object(i.s)(R.data,m.field));return Object(h.a)(Object(h.a)({},R),{percent:K})}return R})},f.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),m;if(s.labelEmit)m=s.angle<=Math.PI/2&&s.angle>=-Math.PI/2?"left":"right";else if(!c.isTransposed)m="center";else{var R=c.getCenter(),K=s.offset;Math.abs(s.x-R.x)<1?m="center":s.angle>Math.PI||s.angle<=0?m=K>0?"left":"right":m=K>0?"right":"left"}return m},f.prototype.getLabelPoint=function(s,c,m){var R=1,K,ht=s.content[m];this.isToMiddle(c)?K=this.getMiddlePoint(c.points):(s.content.length===1&&m===0?m=1:m===0&&(R=-1),K=this.getArcPoint(c,m));var Tt=s.offset*R,Bt=this.getPointAngle(K),Ht=s.labelEmit,$t=this.getCirclePoint(Bt,Tt,K,Ht);return $t.r===0?$t.content="":($t.content=ht,$t.angle=Bt,$t.color=c.color),$t.rotate=s.autoRotate?this.getLabelRotate(Bt,Tt,Ht):s.rotate,$t.start={x:K.x,y:K.y},$t},f.prototype.getArcPoint=function(s,c){return c===void 0&&(c=0),!Object(i.B)(s.x)&&!Object(i.B)(s.y)?{x:s.x,y:s.y}:{x:Object(i.B)(s.x)?s.x[c]:s.x,y:Object(i.B)(s.y)?s.y[c]:s.y}},f.prototype.getPointAngle=function(s){return hn(this.getCoordinate(),s)},f.prototype.getCirclePoint=function(s,c,m,R){var K=this.getCoordinate(),ht=K.getCenter(),Tt=Sr(K,m);if(Tt===0)return Object(h.a)(Object(h.a)({},ht),{r:Tt});var Bt=s;if(K.isTransposed&&Tt>c&&!R){var Ht=Math.asin(c/(2*Tt));Bt=s+Ht*2}else Tt=Tt+c;return{x:ht.x+Tt*Math.cos(Bt),y:ht.y+Tt*Math.sin(Bt),r:Tt}},f.prototype.getLabelRotate=function(s,c,m){var R=s+sc;return m&&(R-=sc),R&&(R>sc?R=R-Math.PI:R<-sc&&(R=R+Math.PI)),R},f.prototype.getMiddlePoint=function(s){var c=this.getCoordinate(),m=s.length,R={x:0,y:0};return Object(i.j)(s,function(K){R.x+=K.x,R.y+=K.y}),R.x/=m,R.y/=m,R=c.convert(R),R},f.prototype.isToMiddle=function(s){return s.x.length>2},f}(As),vf=Jh,_h=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.defaultLayout="distribute",s}return f.prototype.getDefaultLabelCfg=function(s,c){var m=v.prototype.getDefaultLabelCfg.call(this,s,c);return Object(i.h)({},m,Object(i.s)(this.geometry.theme,"pieLabels",{}))},f.prototype.getLabelOffset=function(s){return v.prototype.getLabelOffset.call(this,s)||0},f.prototype.getLabelRotate=function(s,c,m){var R;return c<0&&(R=s,R>Math.PI/2&&(R=R-Math.PI),R<-Math.PI/2&&(R=R+Math.PI)),R},f.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),m=c.getCenter(),R;return s.angle<=Math.PI/2&&s.x>=m.x?R="left":R="right",s.offset<=0&&(R==="right"?R="left":R="right"),R},f.prototype.getArcPoint=function(s){return s},f.prototype.getPointAngle=function(s){var c=this.getCoordinate(),m={x:Object(i.B)(s.x)?s.x[0]:s.x,y:s.y[0]},R={x:Object(i.B)(s.x)?s.x[1]:s.x,y:s.y[1]},K,ht=hn(c,m);if(s.points&&s.points[0].y===s.points[1].y)K=ht;else{var Tt=hn(c,R);ht>=Tt&&(Tt=Tt+Math.PI*2),K=ht+(Tt-ht)/2}return K},f.prototype.getCirclePoint=function(s,c){var m=this.getCoordinate(),R=m.getCenter(),K=m.getRadius()+c;return Object(h.a)(Object(h.a)({},se(R.x,R.y,K,s)),{angle:s,r:K})},f}(vf),qh=_h,gf=4;function th(v,f,s,c,m,R){var K=!0,ht=c.start,Tt=c.end,Bt=Math.min(ht.y,Tt.y),Ht=Math.abs(ht.y-Tt.y),$t,te=0,re=Number.MIN_VALUE,ve=f.map(function(dn){return dn.y>te&&(te=dn.y),dn.y<re&&(re=dn.y),{size:s,targets:[dn.y-Bt]}});for(re-=Bt,te-Bt>Ht&&(Ht=te-Bt);K;)for(ve.forEach(function(dn){var cn=(Math.min.apply(re,dn.targets)+Math.max.apply(re,dn.targets))/2;dn.pos=Math.min(Math.max(re,cn-dn.size/2),Ht-dn.size)}),K=!1,$t=ve.length;$t--;)if($t>0){var me=ve[$t-1],_e=ve[$t];me.pos+me.size>_e.pos&&(me.size+=_e.size,me.targets=me.targets.concat(_e.targets),me.pos+me.size>Ht&&(me.pos=Ht-me.size),ve.splice($t,1),K=!0)}$t=0,ve.forEach(function(dn){var cn=Bt+s/2;dn.targets.forEach(function(){f[$t].y=dn.pos+cn,cn+=s,$t++})});for(var tr={},yr=0,xr=v;yr<xr.length;yr++){var nn=xr[yr];tr[nn.get("id")]=nn}f.forEach(function(dn){var cn=dn.r*dn.r,ma=Math.pow(Math.abs(dn.y-m.y),2);if(cn<ma)dn.x=m.x;else{var na=Math.sqrt(cn-ma);R?dn.x=m.x+na:dn.x=m.x-na}var Kn=tr[dn.id];Kn.attr("x",dn.x),Kn.attr("y",dn.y);var ka=Object(i.m)(Kn.getChildren(),function(gi){return gi.get("type")==="text"});ka&&(ka.attr("y",dn.y),ka.attr("x",dn.x))})}function lc(v,f,s,c){if(!(!v.length||!f.length)){var m=v[0]?v[0].offset:0,R=f[0].get("coordinate"),K=R.getRadius(),ht=R.getCenter();if(m>0){var Tt=14,Bt=K+m,Ht=Bt*2+Tt*2,$t={start:R.start,end:R.end},te=[[],[]];v.forEach(function(re){!re||(re.textAlign==="right"?te[0].push(re):te[1].push(re))}),te.forEach(function(re,ve){var me=Ht/Tt;re.length>me&&(re.sort(function(_e,tr){return tr["..percent"]-_e["..percent"]}),re.splice(me,re.length-me)),re.sort(function(_e,tr){return _e.y-tr.y}),th(f,re,Tt,$t,ht,ve)})}Object(i.j)(v,function(re){if(re&&re.labelLine){var ve=re.offset,me=re.angle,_e=se(ht.x,ht.y,K,me),tr=se(ht.x,ht.y,K+ve/2,me),yr=re.x+Object(i.s)(re,"offsetX",0),xr=re.y+Object(i.s)(re,"offsetY",0),nn={x:yr-Math.cos(me)*gf,y:xr-Math.sin(me)*gf};Object(i.M)(re.labelLine)||(re.labelLine={}),re.labelLine.path=["M "+_e.x,_e.y+" Q"+tr.x,tr.y+" "+nn.x,nn.y].join(",")}})}}function eh(v,f,s){var c=v.filter(function(ve){return!ve.invisible});c.sort(function(ve,me){return ve.y-me.y});var m=!0,R=s.minY,K=s.maxY,ht=Math.abs(R-K),Tt,Bt=0,Ht=Number.MIN_VALUE,$t=c.map(function(ve){return ve.y>Bt&&(Bt=ve.y),ve.y<Ht&&(Ht=ve.y),{content:ve.content,size:f,targets:[ve.y-R],pos:null}});for(Ht-=R,Bt-R>ht&&(ht=Bt-R);m;)for($t.forEach(function(ve){var me=(Math.min.apply(Ht,ve.targets)+Math.max.apply(Ht,ve.targets))/2;ve.pos=Math.min(Math.max(Ht,me-ve.size/2),ht-ve.size),ve.pos=Math.max(0,ve.pos)}),m=!1,Tt=$t.length;Tt--;)if(Tt>0){var te=$t[Tt-1],re=$t[Tt];te.pos+te.size>re.pos&&(te.size+=re.size,te.targets=te.targets.concat(re.targets),te.pos+te.size>ht&&(te.pos=ht-te.size),$t.splice(Tt,1),m=!0)}Tt=0,$t.forEach(function(ve){var me=R+f/2;ve.targets.forEach(function(){c[Tt].y=ve.pos+me,me+=f,Tt++})})}var uc=4;function Zs(v,f){var s=f.getCenter(),c=f.getRadius();if(v&&v.labelLine){var m=v.angle,R=v.offset,K=se(s.x,s.y,c,m),ht=v.x+Object(i.s)(v,"offsetX",0)*(Math.cos(m)>0?1:-1),Tt=v.y+Object(i.s)(v,"offsetY",0)*(Math.sin(m)>0?1:-1),Bt={x:ht-Math.cos(m)*uc,y:Tt-Math.sin(m)*uc},Ht=v.labelLine.smooth,$t=[],te=Bt.x-s.x,re=Bt.y-s.y,ve=Math.atan(re/te);if(te<0&&(ve+=Math.PI),Ht===!1){Object(i.M)(v.labelLine)||(v.labelLine={});var me=0;(m<0&&m>-Math.PI/2||m>Math.PI*1.5)&&Bt.y>K.y&&(me=1),m>=0&&m<Math.PI/2&&Bt.y>K.y&&(me=1),m>=Math.PI/2&&m<Math.PI&&K.y>Bt.y&&(me=1),(m<-Math.PI/2||m>=Math.PI&&m<Math.PI*1.5)&&K.y>Bt.y&&(me=1);var _e=R/2>4?4:Math.max(R/2-1,0),tr=se(s.x,s.y,c+_e,m),yr=se(s.x,s.y,c+R/2,ve),xr=0;$t.push("M "+K.x+" "+K.y),$t.push("L "+tr.x+" "+tr.y),$t.push("A "+s.x+" "+s.y+" 0 "+xr+" "+me+" "+yr.x+" "+yr.y),$t.push("L "+Bt.x+" "+Bt.y)}else{var tr=se(s.x,s.y,c+(R/2>4?4:Math.max(R/2-1,0)),m),nn=K.x<s.x?1:-1;$t.push("M "+Bt.x+" "+Bt.y);var dn=(K.y-s.y)/(K.x-s.x),cn=(Bt.y-s.y)/(Bt.x-s.x);Math.abs(dn-cn)>Math.pow(Math.E,-16)&&$t.push.apply($t,["C",Bt.x+nn*4,Bt.y,2*tr.x-K.x,2*tr.y-K.y,K.x,K.y]),$t.push("L "+K.x+" "+K.y)}v.labelLine.path=$t.join(" ")}}function cc(v,f,s,c){var m=Object(i.l)(v,function(cn){return!Object(i.I)(cn)}),R=f[0]&&f[0].get("coordinate");if(!!R){for(var K=R.getCenter(),ht=R.getRadius(),Tt={},Bt=0,Ht=f;Bt<Ht.length;Bt++){var $t=Ht[Bt];Tt[$t.get("id")]=$t}var te=Object(i.s)(m[0],"labelHeight",14),re=Object(i.s)(m[0],"offset",0);if(!(re<=0)){var ve="left",me="right",_e=Object(i.v)(m,function(cn){return cn.x<K.x?ve:me}),tr=R.start,yr=R.end,xr=Math.min((ht+re+te)*2,R.getHeight()),nn=xr/2,dn={minX:tr.x,maxX:yr.x,minY:K.y-nn,maxY:K.y+nn};Object(i.j)(_e,function(cn,ma){var na=Math.floor(xr/te);cn.length>na&&(cn.sort(function(Kn,ka){return ka.percent-Kn.percent}),Object(i.j)(cn,function(Kn,ka){ka+1>na&&(Tt[Kn.id].set("visible",!1),Kn.invisible=!0)})),eh(cn,te,dn)}),Object(i.j)(_e,function(cn,ma){Object(i.j)(cn,function(na){var Kn=ma===me,ka=Tt[na.id],gi=ka.getChildByIndex(0);if(gi){var ui=ht+re,Qi=na.y-K.y,Lo=Math.pow(ui,2),mo=Math.pow(Qi,2),bo=Lo-mo>0?Lo-mo:0,Ec=Math.sqrt(bo),El=Math.abs(Math.cos(na.angle)*ui);Kn?na.x=K.x+Math.max(Ec,El):na.x=K.x-Math.max(Ec,El)}gi&&(gi.attr("y",na.y),gi.attr("x",na.x)),Zs(na,R)})})}}}var $s=4,zi=4,zl=4;function sl(v,f,s){var c=f.getCenter(),m=f.getRadius(),R={x:v.x-(s?zl:-zl),y:v.y},K=se(c.x,c.y,m+$s,v.angle),ht={x:R.x,y:R.y},Tt={x:K.x,y:K.y},Bt=se(c.x,c.y,m,v.angle),Ht="";if(R.y!==K.y){var $t=s?4:-4;ht.y=R.y,v.angle<0&&v.angle>=-Math.PI/2&&(ht.x=Math.max(K.x,R.x-$t),R.y<K.y?Tt.y=ht.y:(Tt.y=K.y,Tt.x=Math.max(Tt.x,ht.x-$t))),v.angle>0&&v.angle<Math.PI/2&&(ht.x=Math.max(K.x,R.x-$t),R.y>K.y?Tt.y=ht.y:(Tt.y=K.y,Tt.x=Math.max(Tt.x,ht.x-$t))),v.angle>Math.PI/2&&(ht.x=Math.min(K.x,R.x-$t),R.y>K.y?Tt.y=ht.y:(Tt.y=K.y,Tt.x=Math.min(Tt.x,ht.x-$t))),v.angle<-Math.PI/2&&(ht.x=Math.min(K.x,R.x-$t),R.y<K.y?Tt.y=ht.y:(Tt.y=K.y,Tt.x=Math.min(Tt.x,ht.x-$t)))}Ht=["M "+R.x+","+R.y,"L "+ht.x+","+ht.y,"L "+Tt.x+","+Tt.y,"L "+K.x+","+K.y,"L "+Bt.x+","+Bt.y].join(" "),v.labelLine=Object(i.h)({},v.labelLine,{path:Ht})}function Ds(v,f,s,c){var m=f[0]&&f[0].get("coordinate");if(!!m){for(var R=m.getCenter(),K=m.getRadius(),ht={},Tt=0,Bt=f;Tt<Bt.length;Tt++){var Ht=Bt[Tt];ht[Ht.get("id")]=Ht}var $t=Object(i.s)(v[0],"labelHeight",14),te=Math.max(Object(i.s)(v[0],"offset",0),$s);Object(i.j)(v,function(cn){var ma=Object(i.s)(ht,[cn.id]);if(!!ma){var na=cn.x>R.x||cn.x===R.x&&cn.y>R.y,Kn=Object(i.I)(cn.offsetX)?zi:cn.offsetX,ka=se(R.x,R.y,K+$s,cn.angle),gi=te+Kn;cn.x=R.x+(na?1:-1)*(K+gi),cn.y=ka.y}});var re=m.start,ve=m.end,me="left",_e="right",tr=Object(i.v)(v,function(cn){return cn.x<R.x?me:_e}),yr=(K+te)*2+$t;Object(i.j)(tr,function(cn){var ma=cn.length*$t;ma>yr&&(yr=Math.min(ma,Math.abs(re.y-ve.y)))});var xr={minX:re.x,maxX:ve.x,minY:R.y-yr/2,maxY:R.y+yr/2};Object(i.j)(tr,function(cn,ma){var na=yr/$t;cn.length>na&&(cn.sort(function(Kn,ka){return ka.percent-Kn.percent}),Object(i.j)(cn,function(Kn,ka){ka>na&&(ht[Kn.id].set("visible",!1),Kn.invisible=!0)})),eh(cn,$t,xr)});var nn=xr.minY,dn=xr.maxY;Object(i.j)(tr,function(cn,ma){var na=ma===_e;Object(i.j)(cn,function(Kn){var ka=Object(i.s)(ht,Kn&&[Kn.id]);if(!!ka){if(Kn.y<nn||Kn.y>dn){ka.set("visible",!1);return}var gi=ka.getChildByIndex(0),ui=gi.getCanvasBBox(),Qi={x:na?ui.x:ui.maxX,y:ui.y+ui.height/2};cs(gi,Kn.x-Qi.x,Kn.y-Qi.y),Kn.labelLine&&sl(Kn,m,na)}})})}}function ll(v,f,s,c){Object(i.j)(f,function(m){var R=c.minX,K=c.minY,ht=c.maxX,Tt=c.maxY,Bt=m.getCanvasBBox(),Ht=Bt.minX,$t=Bt.minY,te=Bt.maxX,re=Bt.maxY,ve=Bt.x,me=Bt.y,_e=Bt.width,tr=Bt.height,yr=ve,xr=me;(Ht<R||te<R)&&(yr=R),($t<K||re<K)&&(xr=K),Ht>ht?yr=ht-_e:te>ht&&(yr=yr-(te-ht)),$t>Tt?xr=Tt-tr:re>Tt&&(xr=xr-(re-Tt)),(yr!==ve||xr!==me)&&cs(m,yr-ve,xr-me)})}function fc(v,f,s,c){Object(i.j)(f,function(m,R){var K=m.getCanvasBBox(),ht=s[R].getBBox();(K.minX<ht.minX||K.minY<ht.minY||K.maxX>ht.maxX||K.maxY>ht.maxY)&&m.remove(!0)})}var hc=100,ul=function(){function v(f){f===void 0&&(f={}),this.bitmap={};var s=f.xGap,c=s===void 0?1:s,m=f.yGap,R=m===void 0?8:m;this.xGap=c,this.yGap=R}return v.prototype.hasGap=function(f){for(var s=!0,c=this.bitmap,m=Math.round(f.minX),R=Math.round(f.maxX),K=Math.round(f.minY),ht=Math.round(f.maxY),Tt=m;Tt<=R;Tt+=1){if(!c[Tt]){c[Tt]={};continue}if(Tt===m||Tt===R){for(var Bt=K;Bt<=ht;Bt++)if(c[Tt][Bt]){s=!1;break}}else if(c[Tt][K]||c[Tt][ht]){s=!1;break}}return s},v.prototype.fillGap=function(f){for(var s=this.bitmap,c=Math.round(f.minX),m=Math.round(f.maxX),R=Math.round(f.minY),K=Math.round(f.maxY),ht=c;ht<=m;ht+=1)s[ht]||(s[ht]={});for(var ht=c;ht<=m;ht+=this.xGap){for(var Tt=R;Tt<=K;Tt+=this.yGap)s[ht][Tt]=!0;s[ht][K]=!0}if(this.yGap!==1)for(var ht=R;ht<=K;ht+=1)s[c][ht]=!0,s[m][ht]=!0;if(this.xGap!==1)for(var ht=c;ht<=m;ht+=1)s[ht][R]=!0,s[ht][K]=!0},v.prototype.destroy=function(){this.bitmap={}},v}();function Ha(v,f,s){s===void 0&&(s=hc);var c=-1,m=v.attr(),R=m.x,K=m.y,ht=v.getCanvasBBox(),Tt=Math.sqrt(ht.width*ht.width+ht.height*ht.height),Bt,Ht=-c,$t=0,te=0,re=function(yr){var xr=yr*.1;return[xr*Math.cos(xr),xr*Math.sin(xr)]};if(f.hasGap(ht))return f.fillGap(ht),!0;for(var ve=!1,me=0,_e={};Math.min(Math.abs($t),Math.abs(te))<Tt&&me<s;)if(Bt=re(Ht+=c),$t=~~Bt[0],te=~~Bt[1],!(!$t&&!te||_e[$t+"-"+te])&&(v.attr({x:R+$t,y:K+te}),$t+te<0&&v.attr("textAlign","right"),me++,f.hasGap(v.getCanvasBBox()))){f.fillGap(v.getCanvasBBox()),ve=!0,_e[$t+"-"+te]=!0;break}return ve}function js(v,f,s,c){var m=v.getCanvasBBox(),R=m.width,K=m.height,ht={x:f,y:s,textAlign:"center"};switch(c){case 0:ht.y-=K+1,ht.x+=1,ht.textAlign="left";break;case 1:ht.y-=K+1,ht.x-=1,ht.textAlign="right";break;case 2:ht.y+=K+1,ht.x-=1,ht.textAlign="right";break;case 3:ht.y+=K+1,ht.x+=1,ht.textAlign="left";break;case 5:ht.y-=K*2+2;break;case 6:ht.y+=K*2+2;break;case 7:ht.x+=R+1,ht.textAlign="left";break;case 8:ht.x-=R+1,ht.textAlign="right";break;default:break}return v.attr(ht),v.getCanvasBBox()}function kl(v,f,s,c){var m=new ul;Object(i.j)(f,function(R){var K=R.find(function(ht){return ht.get("type")==="text"});Ha(K,m)||R.remove(!0)}),m.destroy()}function Vl(v,f,s,c){var m=new ul;Object(i.j)(f,function(R){for(var K=R.find(function(re){return re.get("type")==="text"}),ht=K.attr(),Tt=ht.x,Bt=ht.y,Ht=!1,$t=0;$t<=8;$t++){var te=js(K,Tt,Bt,$t);if(m.hasGap(te)){m.fillGap(te),Ht=!0;break}}Ht||R.remove(!0)}),m.destroy()}var td=X.c.dot;function rh(v){if(v.length>4)return[];var f=function(R,K){return[K.x-R.x,K.y-R.y]},s=f(v[0],v[1]),c=f(v[1],v[2]);return[s,c]}function di(v,f,s){f===void 0&&(f=0),s===void 0&&(s={x:0,y:0});var c=v.x,m=v.y;return{x:(c-s.x)*Math.cos(-f)+(m-s.y)*Math.sin(-f)+s.x,y:(s.x-c)*Math.sin(-f)+(m-s.y)*Math.cos(-f)+s.y}}function pf(v){var f=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],s=v.rotation;return s?[di(f[0],s,f[0]),di(f[1],s,f[0]),di(f[2],s,f[0]),di(f[3],s,f[0])]:f}function oo(v,f){if(v.length>4)return{min:0,max:0};var s=[];return v.forEach(function(c){s.push(td([c.x,c.y],f))}),{min:Math.min.apply(Math,s),max:Math.max.apply(Math,s)}}function fo(v,f){return v.max>f.min&&v.min<f.max}function vi(v,f,s){return s===void 0&&(s=0),!(f.x>v.x+v.width+s||f.x+f.width<v.x-s||f.y>v.y+v.height+s||f.y+f.height<v.y-s)}function Io(v,f){if(!v.rotation&&!f.rotation)return vi(v,f);for(var s=pf(v),c=pf(f),m=Object(h.g)(rh(s),rh(c)),R=0;R<m.length;R++){var K=m[R],ht=oo(s,K),Tt=oo(c,K);if(!fo(ht,Tt))return!1}return!0}function Cu(v,f,s,c){for(var m=0;m<f.length;m++){var R=f[m];if(f[m].get("visible"))for(var K=m+1;K<f.length;K++){var ht=f[K];if(R&&ht&&R!==ht&&ht.get("visible")){var Tt=du(R,v[m],Object(i.s)(v[m],"background.padding")),Bt=du(ht,v[K],Object(i.s)(v[K],"background.padding"));Io(Tt,Bt)&&f[K].set("visible",!1)}}}}var nh={"#5B8FF9":!0},ah=function(f){var s=Ot.a.toRGB(f).toUpperCase();if(nh[s])return nh[s];var c=Ot.a.rgb2arr(s),m=c[0],R=c[1],K=c[2],ht=(m*299+R*587+K*114)/1e3<128;return ht};function Wd(v,f,s){if(s.length!==0){var c=s[0].get("element"),m=c.geometry.theme,R=m.labels||{},K=R.fillColorLight,ht=R.fillColorDark;s.forEach(function(Tt,Bt){var Ht=f[Bt],$t=Ht.find(function(tr){return tr.get("type")==="text"}),te=Ce.fromObject(Tt.getBBox()),re=Ce.fromObject($t.getCanvasBBox()),ve=!te.contains(re),me=Tt.attr("fill"),_e=ah(me);ve?$t.attr(m.overflowLabels.style):_e?K&&$t.attr("fill",K):ht&&$t.attr("fill",ht)})}}function ho(v,f,s){var c=v.coordinate,m=bs(f),R=Ce.fromObject(m.getCanvasBBox()),K=Ce.fromObject(s.getBBox());return c.isTransposed?K.height>=R.height:K.width>=R.width}function Fn(v,f,s){var c=!!v.getAdjust("stack");return c||f.every(function(m,R){var K=s[R];return ho(v,m,K)})}function dc(v,f,s){var c=v.coordinate,m=Ce.fromObject(s.getBBox()),R=bs(f);c.isTransposed?R.attr({x:m.minX+m.width/2,textAlign:"center"}):R.attr({y:m.minY+m.height/2,textBaseline:"middle"})}function zd(v,f,s){var c;if(s.length!==0){var m=(c=s[0])===null||c===void 0?void 0:c.get("element"),R=m==null?void 0:m.geometry;if(!(!R||R.type!=="interval")){var K=Fn(R,f,s);K&&s.forEach(function(ht,Tt){var Bt=f[Tt];dc(R,Bt,ht)})}}}function Tu(v){var f=500,s=[],c=Math.max(Math.floor(v.length/f),1);return Object(i.j)(v,function(m,R){R%c==0?s.push(m):m.set("visible",!1)}),s}function ih(v,f,s){var c;if(s.length!==0){var m=(c=s[0])===null||c===void 0?void 0:c.get("element"),R=m==null?void 0:m.geometry;if(!(!R||R.type!=="interval")){var K=Tu(f),ht=R.getXYFields()[0],Tt=[],Bt=[],Ht=Object(i.v)(K,function(me){return me.get("data")[ht]}),$t=Object(i.rb)(Object(i.U)(K,function(me){return me.get("data")[ht]})),te;K.forEach(function(me){me.set("visible",!0)});var re=function(_e){_e&&(_e.length&&Bt.push(_e.pop()),Bt.push.apply(Bt,_e))};for(Object(i.jb)($t)>0&&(te=$t.shift(),re(Ht[te])),Object(i.jb)($t)>0&&(te=$t.pop(),re(Ht[te])),Object(i.j)($t.reverse(),function(me){re(Ht[me])});Bt.length>0;){var ve=Bt.shift();ve.get("visible")&&(nl(ve,Tt)?ve.set("visible",!1):Tt.push(ve))}}}}function oh(v,f){var s=v.getXYFields()[1],c=[],m=f.sort(function(R,K){return R.get("data")[s]-R.get("data")[s]});return m.length>0&&c.push(m.shift()),m.length>0&&c.push(m.pop()),c.push.apply(c,m),c}function sh(v,f,s){return v.some(function(c){return s(c,f)})}function ed(v,f,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(v.x+v.width+s,f.x+f.width+s)-Math.max(v.x-s,f.x-s)),m=Math.max(0,Math.min(v.y+v.height+s,f.y+f.height+s)-Math.max(v.y-s,f.y-s));return c*m}function cl(v,f){return sh(v,f,function(s,c){var m=bs(s),R=bs(c);return ed(m.getCanvasBBox(),R.getCanvasBBox(),2)>0})}function vc(v,f,s,c,m){var R,K;if(s.length!==0){var ht=(R=s[0])===null||R===void 0?void 0:R.get("element"),Tt=ht==null?void 0:ht.geometry;if(!(!Tt||Tt.type!=="point")){var Bt=Tt.getXYFields(),Ht=Bt[0],$t=Bt[1],te=Object(i.v)(f,function(me){return me.get("data")[Ht]}),re=[],ve=m&&m.offset||((K=v[0])===null||K===void 0?void 0:K.offset)||12;Object(i.U)(Object(i.R)(te).reverse(),function(me){for(var _e=oh(Tt,te[me]);_e.length;){var tr=_e.shift(),yr=bs(tr);if(sh(re,tr,function(dn,cn){return dn.get("data")[Ht]===cn.get("data")[Ht]&&dn.get("data")[$t]===cn.get("data")[$t]})){yr.set("visible",!1);continue}var xr=cl(re,tr),nn=!1;if(xr&&(yr.attr("y",yr.attr("y")+2*ve),nn=cl(re,tr)),nn){yr.set("visible",!1);continue}re.push(tr)}})}}}function gc(v,f){var s=v.getXYFields()[1],c=[],m=f.sort(function(R,K){return R.get("data")[s]-R.get("data")[s]});return m.length>0&&c.push(m.shift()),m.length>0&&c.push(m.pop()),c.push.apply(c,m),c}function os(v,f,s){return v.some(function(c){return s(c,f)})}function Ls(v,f,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(v.x+v.width+s,f.x+f.width+s)-Math.max(v.x-s,f.x-s)),m=Math.max(0,Math.min(v.y+v.height+s,f.y+f.height+s)-Math.max(v.y-s,f.y-s));return c*m}function to(v,f){return os(v,f,function(s,c){var m=bs(s),R=bs(c);return Ls(m.getCanvasBBox(),R.getCanvasBBox(),2)>0})}function yf(v,f,s,c,m){var R,K;if(s.length!==0){var ht=(R=s[0])===null||R===void 0?void 0:R.get("element"),Tt=ht==null?void 0:ht.geometry;if(!(!Tt||["path","line","area"].indexOf(Tt.type)<0)){var Bt=Tt.getXYFields(),Ht=Bt[0],$t=Bt[1],te=Object(i.v)(f,function(me){return me.get("data")[Ht]}),re=[],ve=m&&m.offset||((K=v[0])===null||K===void 0?void 0:K.offset)||12;Object(i.U)(Object(i.R)(te).reverse(),function(me){for(var _e=gc(Tt,te[me]);_e.length;){var tr=_e.shift(),yr=bs(tr);if(os(re,tr,function(dn,cn){return dn.get("data")[Ht]===cn.get("data")[Ht]&&dn.get("data")[$t]===cn.get("data")[$t]})){yr.set("visible",!1);continue}var xr=to(re,tr),nn=!1;if(xr&&(yr.attr("y",yr.attr("y")+2*ve),nn=to(re,tr)),nn){yr.set("visible",!1);continue}re.push(tr)}})}}}var fl;function mf(){return fl||(fl=document.createElement("canvas").getContext("2d")),fl}var hl=Object(i.Y)(function(v,f){f===void 0&&(f={});var s=f.fontSize,c=f.fontFamily,m=f.fontWeight,R=f.fontStyle,K=f.fontVariant,ht=mf();return ht.font=[R,K,m,s+"px",c].join(" "),ht.measureText(Object(i.O)(v)?v:"").width},function(v,f){return f===void 0&&(f={}),Object(h.g)([v],Object(i.ub)(f)).join("")}),Xl=function(f,s,c){var m=16,R=hl("...",c),K;Object(i.O)(f)?K=f:K=Object(i.qb)(f);var ht=s,Tt=[],Bt,Ht;if(hl(f,c)<=s)return f;for(;Bt=K.substr(0,m),Ht=hl(Bt,c),!(Ht+R>ht&&Ht>ht);)if(Tt.push(Bt),ht-=Ht,K=K.substr(m),!K)return Tt.join("");for(;Bt=K.substr(0,1),Ht=hl(Bt,c),!(Ht+R>ht);)if(Tt.push(Bt),ht-=Ht,K=K.substr(1),!K)return Tt.join("");return Tt.join("")+"..."};function pc(v,f,s,c,m){if(!(f.length<=0)){var R=(m==null?void 0:m.direction)||["top","right","bottom","left"],K=(m==null?void 0:m.action)||"translate",ht=(m==null?void 0:m.margin)||0,Tt=f[0].get("coordinate");if(!!Tt){var Bt=Dn(Tt,ht),Ht=Bt.minX,$t=Bt.minY,te=Bt.maxX,re=Bt.maxY;Object(i.j)(f,function(ve){var me=ve.getCanvasBBox(),_e=me.minX,tr=me.minY,yr=me.maxX,xr=me.maxY,nn=me.x,dn=me.y,cn=me.width,ma=me.height,na=nn,Kn=dn;if(R.indexOf("left")>=0&&(_e<Ht||yr<Ht)&&(na=Ht),R.indexOf("top")>=0&&(tr<$t||xr<$t)&&(Kn=$t),R.indexOf("right")>=0&&(_e>te?na=te-cn:yr>te&&(na=na-(yr-te))),R.indexOf("bottom")>=0&&(tr>re?Kn=re-ma:xr>re&&(Kn=Kn-(xr-re))),na!==nn||Kn!==dn){var ka=na-nn;if(K==="translate")cs(ve,ka,Kn-dn);else if(K==="ellipsis"){var gi=ve.findAll(function(ui){return ui.get("type")==="text"});gi.forEach(function(ui){var Qi=Object(i.eb)(ui.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Lo=ui.getCanvasBBox(),mo=Xl(ui.attr("text"),Lo.width-Math.abs(ka),Qi);ui.attr("text",mo)})}else ve.hide()}})}}}function Au(v,f,s){var c={fillOpacity:Object(i.I)(v.attr("fillOpacity"))?1:v.attr("fillOpacity"),strokeOpacity:Object(i.I)(v.attr("strokeOpacity"))?1:v.attr("strokeOpacity"),opacity:Object(i.I)(v.attr("opacity"))?1:v.attr("opacity")};v.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(c,f)}function Hl(v,f,s){var c={fillOpacity:0,strokeOpacity:0,opacity:0},m=f.easing,R=f.duration,K=f.delay;v.animate(c,R,m,function(){v.remove(!0)},K)}function Iu(v,f,s){var c,m=f[0],R=f[1];return v.applyToMatrix([m,R,1]),s==="x"?(v.setMatrix(X.a.transform(v.getMatrix(),[["t",-m,-R],["s",.01,1],["t",m,R]])),c=X.a.transform(v.getMatrix(),[["t",-m,-R],["s",100,1],["t",m,R]])):s==="y"?(v.setMatrix(X.a.transform(v.getMatrix(),[["t",-m,-R],["s",1,.01],["t",m,R]])),c=X.a.transform(v.getMatrix(),[["t",-m,-R],["s",1,100],["t",m,R]])):s==="xy"&&(v.setMatrix(X.a.transform(v.getMatrix(),[["t",-m,-R],["s",.01,.01],["t",m,R]])),c=X.a.transform(v.getMatrix(),[["t",-m,-R],["s",100,100],["t",m,R]])),c}function dl(v,f,s,c,m){var R=s.start,K=s.end,ht=s.getWidth(),Tt=s.getHeight(),Bt,Ht;m==="y"?(Bt=R.x+ht/2,Ht=c.y<R.y?c.y:R.y):m==="x"?(Bt=c.x>R.x?c.x:R.x,Ht=R.y+Tt/2):m==="xy"&&(s.isPolar?(Bt=s.getCenter().x,Ht=s.getCenter().y):(Bt=(R.x+K.x)/2,Ht=(R.y+K.y)/2));var $t=Iu(v,[Bt,Ht],m);v.animate({matrix:$t},f)}function Pu(v,f,s){var c=s.coordinate,m=s.minYPoint;dl(v,f,c,m,"x")}function lh(v,f,s){var c=s.coordinate,m=s.minYPoint;dl(v,f,c,m,"y")}function so(v,f,s){var c=s.coordinate,m=s.minYPoint;dl(v,f,c,m,"xy")}function vl(v,f,s){var c=v.getTotalLength();v.attr("lineDash",[c]),v.animate(function(m){return{lineDashOffset:(1-m)*c}},f)}function uh(v,f,s){var c=s.toAttrs,m=c.x,R=c.y;delete c.x,delete c.y,v.attr(c),v.animate({x:m,y:R},f)}function bf(v,f,s){var c=v.getBBox(),m=v.get("origin").mappingData,R=m.points,K=R[0].y-R[1].y>0?c.maxX:c.minX,ht=(c.minY+c.maxY)/2;v.applyToMatrix([K,ht,1]);var Tt=X.a.transform(v.getMatrix(),[["t",-K,-ht],["s",.01,1],["t",K,ht]]);v.setMatrix(Tt),v.animate({matrix:X.a.transform(v.getMatrix(),[["t",-K,-ht],["s",100,1],["t",K,ht]])},f)}function rd(v,f,s){var c=v.getBBox(),m=v.get("origin").mappingData,R=(c.minX+c.maxX)/2,K=m.points,ht=K[0].y-K[1].y<=0?c.maxY:c.minY;v.applyToMatrix([R,ht,1]);var Tt=X.a.transform(v.getMatrix(),[["t",-R,-ht],["s",1,.01],["t",R,ht]]);v.setMatrix(Tt),v.animate({matrix:X.a.transform(v.getMatrix(),[["t",-R,-ht],["s",1,100],["t",R,ht]])},f)}function ch(v,f){var s,c=Object(tc.getArcParams)(v,f),m=c.startAngle,R=c.endAngle;return!Object(i.L)(m,-Math.PI*.5)&&m<-Math.PI*.5&&(m+=Math.PI*2),!Object(i.L)(R,-Math.PI*.5)&&R<-Math.PI*.5&&(R+=Math.PI*2),f[5]===0&&(s=[R,m],m=s[0],R=s[1]),Object(i.L)(m,Math.PI*1.5)&&(m=Math.PI*-.5),Object(i.L)(R,Math.PI*-.5)&&(R=Math.PI*1.5),{startAngle:m,endAngle:R}}function fh(v){var f;return v[0]==="M"||v[0]==="L"?f=[v[1],v[2]]:(v[0]==="a"||v[0]==="A"||v[0]==="C")&&(f=[v[v.length-2],v[v.length-1]]),f}function Rs(v){var f,s,c,m=v.filter(function(xr){return xr[0]==="A"||xr[0]==="a"});if(m.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var R=m[0],K=m.length>1?m[1]:m[0],ht=v.indexOf(R),Tt=v.indexOf(K),Bt=fh(v[ht-1]),Ht=fh(v[Tt-1]),$t=ch(Bt,R),te=$t.startAngle,re=$t.endAngle,ve=ch(Ht,K),me=ve.startAngle,_e=ve.endAngle;Object(i.L)(te,me)&&Object(i.L)(re,_e)?(s=te,c=re):(s=Math.min(te,me),c=Math.max(re,_e));var tr=R[1],yr=m[m.length-1][1];return tr<yr?(f=[yr,tr],tr=f[0],yr=f[1]):tr===yr&&(yr=0),{startAngle:s,endAngle:c,radius:tr,innerRadius:yr}}function hh(v,f,s){var c=s.toAttrs,m=s.coordinate,R=c.path||[],K=R.map(function(yr){return yr[0]});if(!(R.length<1)){var ht=Rs(R),Tt=ht.startAngle,Bt=ht.endAngle,Ht=ht.radius,$t=ht.innerRadius,te=Rs(v.attr("path")),re=te.startAngle,ve=te.endAngle,me=m.getCenter(),_e=Tt-re,tr=Bt-ve;v.animate(function(yr){var xr=re+yr*_e,nn=ve+yr*tr;return Object(h.a)(Object(h.a)({},c),{path:Object(i.G)(K,["M","A","A","Z"])?Ie(me.x,me.y,Ht,xr,nn):ye(me.x,me.y,Ht,xr,nn,$t)})},Object(h.a)(Object(h.a)({},f),{callback:function(){v.attr("path",R)}}))}}function dh(v,f,s){var c=yn(s.coordinate,20),m=c.type,R=c.startState,K=c.endState,ht=v.setClip({type:m,attrs:R});ht.animate(K,Object(h.a)(Object(h.a)({},f),{callback:function(){v&&!v.get("destroyed")&&v.set("clipShape",null),ht.remove(!0)}}))}function yc(v,f,s){if(v.isGroup())Object(i.j)(v.getChildren(),function(ht){yc(ht,f,s)});else{var c=v.getBBox(),m=(c.minX+c.maxX)/2,R=(c.minY+c.maxY)/2;if(v.applyToMatrix([m,R,1]),s==="zoomIn"){var K=X.a.transform(v.getMatrix(),[["t",-m,-R],["s",.01,.01],["t",m,R]]);v.setMatrix(K),v.animate({matrix:X.a.transform(v.getMatrix(),[["t",-m,-R],["s",100,100],["t",m,R]])},f)}else v.animate({matrix:X.a.transform(v.getMatrix(),[["t",-m,-R],["s",.01,.01],["t",m,R]])},Object(h.a)(Object(h.a)({},f),{callback:function(){v.remove(!0)}}))}}function nd(v,f,s){yc(v,f,"zoomIn")}function mc(v,f,s){yc(v,f,"zoomOut")}function ds(v){return[x.TOP,x.BOTTOM].includes(v)?{offsetX:0,offsetY:v===x.TOP?-8:8,style:{textAlign:"center",textBaseline:v===x.TOP?"bottom":"top"}}:[x.LEFT,x.RIGHT].includes(v)?{offsetX:v===x.LEFT?-8:8,offsetY:0,style:{textAlign:v===x.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Yo(v,f,s){return{x:v.x+f*Math.cos(s),y:v.y+f*Math.sin(s)}}var po=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return Object(i.h)({},v.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:v.prototype.getDefaultTitleCfg.call(this)})},f.prototype.render=function(){v.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.getRegion=function(s,c){var m=1/2,R={x:.5,y:.5},K=Math.PI*2/s,ht=-1*Math.PI/2+K*c,Tt=m/(1+1/Math.sin(K/2)),Bt=Yo(R,m-Tt,ht),Ht=Math.PI*5/4,$t=Math.PI*1/4;return{start:Yo(Bt,Tt,Ht),end:Yo(Bt,Tt,$t)}},f.prototype.afterEachView=function(s,c){this.processAxis(s,c)},f.prototype.beforeEachView=function(s,c){},f.prototype.generateFacets=function(s){var c=this,m=this.cfg,R=m.fields,K=m.type,ht=R[0];if(!ht)throw new Error("No `fields` specified!");var Tt=this.getFieldValues(s,ht),Bt=Tt.length,Ht=[];return Tt.forEach(function($t,te){var re=[{field:ht,value:$t,values:Tt}],ve=Object(i.l)(s,c.getFacetDataFilter(re)),me={type:K,data:ve,region:c.getRegion(Bt,te),columnValue:$t,columnField:ht,columnIndex:te,columnValuesLength:Bt,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};Ht.push(me)}),Ht},f.prototype.getXAxisOption=function(s,c,m,R){return m},f.prototype.getYAxisOption=function(s,c,m,R){return m},f.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c){var m=c.columnValue,R=c.view,K=Object(i.s)(s.cfg.title,"formatter"),ht=Object(i.h)({position:["50%","0%"],content:K?K(m):m},ds(x.TOP),s.cfg.title);R.annotation().text(ht)})},f}(Pa),eo=po,Po=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return Object(i.h)({},v.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:v.prototype.getDefaultTitleCfg.call(this)})},f.prototype.render=function(){v.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.afterEachView=function(s,c){this.processAxis(s,c)},f.prototype.beforeEachView=function(s,c){},f.prototype.generateFacets=function(s){var c=this,m=this.cfg.fields,R=this.cfg.cols,K=m[0];if(!K)throw new Error("No `fields` specified!");var ht=this.getFieldValues(s,K),Tt=ht.length;R=R||Tt;var Bt=this.getPageCount(Tt,R),Ht=[];return ht.forEach(function($t,te){var re=c.getRowCol(te,R),ve=re.row,me=re.col,_e=[{field:K,value:$t,values:ht}],tr=Object(i.l)(s,c.getFacetDataFilter(_e)),yr={type:c.cfg.type,data:tr,region:c.getRegion(Bt,R,me,ve),columnValue:$t,rowValue:$t,columnField:K,rowField:null,columnIndex:me,rowIndex:ve,columnValuesLength:R,rowValuesLength:Bt,total:Tt};Ht.push(yr)}),Ht},f.prototype.getXAxisOption=function(s,c,m,R){return R.rowIndex!==R.rowValuesLength-1&&R.columnValuesLength*R.rowIndex+R.columnIndex+1+R.columnValuesLength<=R.total?Object(h.a)(Object(h.a)({},m),{label:null,title:null}):m},f.prototype.getYAxisOption=function(s,c,m,R){return R.columnIndex!==0?Object(h.a)(Object(h.a)({},m),{title:null,label:null}):m},f.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c){var m=c.columnValue,R=c.view,K=Object(i.s)(s.cfg.title,"formatter"),ht=Object(i.h)({position:["50%","0%"],content:K?K(m):m},ds(x.TOP),s.cfg.title);R.annotation().text(ht)})},f.prototype.getPageCount=function(s,c){return Math.floor((s+c-1)/c)},f.prototype.getRowCol=function(s,c){var m=Math.floor(s/c),R=s%c;return{row:m,col:R}},f}(Pa),vh=Po,bc=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return Object(i.h)({},v.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(h.a)({},v.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(h.a)({},v.prototype.getDefaultTitleCfg.call(this))})},f.prototype.render=function(){v.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.afterEachView=function(s,c){this.processAxis(s,c)},f.prototype.beforeEachView=function(s,c){},f.prototype.generateFacets=function(s){for(var c=this.cfg,m=c.fields,R=c.type,K=m.length,ht=K,Tt=[],Bt=0;Bt<ht;Bt++)for(var Ht=m[Bt],$t=0;$t<K;$t++){var te=m[$t],re={type:R,data:s,region:this.getRegion(K,ht,Bt,$t),columnValue:Ht,rowValue:te,columnField:Ht,rowField:te,columnIndex:Bt,rowIndex:$t,columnValuesLength:ht,rowValuesLength:K};Tt.push(re)}return Tt},f.prototype.getXAxisOption=function(s,c,m,R){return R.rowIndex!==R.rowValuesLength-1?Object(h.a)(Object(h.a)({},m),{label:null,title:null}):m},f.prototype.getYAxisOption=function(s,c,m,R){return R.columnIndex!==0?Object(h.a)(Object(h.a)({},m),{title:null,label:null}):m},f.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c,m){var R=c.columnIndex,K=c.rowIndex,ht=c.columnValuesLength,Tt=c.rowValuesLength,Bt=c.columnValue,Ht=c.rowValue,$t=c.view;if(K===0){var te=Object(i.s)(s.cfg.columnTitle,"formatter"),re=Object(i.h)({position:["50%","0%"],content:te?te(Bt):Bt},ds(x.TOP),s.cfg.columnTitle);$t.annotation().text(re)}if(R===ht-1){var te=Object(i.s)(s.cfg.rowTitle,"formatter"),re=Object(i.h)({position:["100%","50%"],content:te?te(Ht):Ht},ds(x.RIGHT),s.cfg.rowTitle);$t.annotation().text(re)}})},f}(Pa),gl=bc,gh=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return Object(i.h)({},v.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:v.prototype.getDefaultTitleCfg.call(this),transpose:!1})},f.prototype.render=function(){v.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.beforeEachView=function(s,c){this.cfg.transpose?c.columnIndex%2==0?s.coordinate().transpose().reflect("x"):s.coordinate().transpose():c.rowIndex%2!=0&&s.coordinate().reflect("y")},f.prototype.afterEachView=function(s,c){this.processAxis(s,c)},f.prototype.generateFacets=function(s){var c=this,m=this.cfg.fields[0],R=[],K=1,ht=1,Tt=[""],Bt=[""],Ht,$t;return this.cfg.transpose?(Ht=m,Tt=this.getFieldValues(s,Ht).slice(0,2),K=Tt.length):($t=m,Bt=this.getFieldValues(s,$t).slice(0,2),ht=Bt.length),Tt.forEach(function(te,re){Bt.forEach(function(ve,me){var _e=[{field:Ht,value:te,values:Tt},{field:$t,value:ve,values:Bt}],tr=Object(i.l)(s,c.getFacetDataFilter(_e)),yr={type:c.cfg.type,data:tr,region:c.getRegion(ht,K,re,me),columnValue:te,rowValue:ve,columnField:Ht,rowField:$t,columnIndex:re,rowIndex:me,columnValuesLength:K,rowValuesLength:ht};R.push(yr)})}),R},f.prototype.getXAxisOption=function(s,c,m,R){return R.columnIndex===1||R.rowIndex===1?Object(h.a)(Object(h.a)({},m),{label:null,title:null}):m},f.prototype.getYAxisOption=function(s,c,m,R){return m},f.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c,m){var R=c.columnValue,K=c.rowValue,ht=c.view,Tt=Object(i.s)(s.cfg.title,"formatter");if(s.cfg.transpose){var Bt=Object(i.h)({position:["50%","0%"],content:Tt?Tt(R):R},ds(x.TOP),s.cfg.title);ht.annotation().text(Bt)}else{var Bt=Object(i.h)({position:["100%","50%"],content:Tt?Tt(K):K},ds(x.RIGHT),s.cfg.title);ht.annotation().text(Bt)}})},f}(Pa),Do=gh,ws=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.afterEachView=function(s,c){this.processAxis(s,c)},f.prototype.beforeEachView=function(s,c){},f.prototype.getDefaultCfg=function(){return Object(i.h)({},v.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(h.a)({},v.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(h.a)({},v.prototype.getDefaultTitleCfg.call(this))})},f.prototype.render=function(){v.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.generateFacets=function(s){var c=this,m=this.cfg.fields,R=m[0],K=m[1],ht=[],Tt=1,Bt=1,Ht=[""],$t=[""];return R&&(Ht=this.getFieldValues(s,R),Tt=Ht.length),K&&($t=this.getFieldValues(s,K),Bt=$t.length),Ht.forEach(function(te,re){$t.forEach(function(ve,me){var _e=[{field:R,value:te,values:Ht},{field:K,value:ve,values:$t}],tr=Object(i.l)(s,c.getFacetDataFilter(_e)),yr={type:c.cfg.type,data:tr,region:c.getRegion(Bt,Tt,re,me),columnValue:te,rowValue:ve,columnField:R,rowField:K,columnIndex:re,rowIndex:me,columnValuesLength:Tt,rowValuesLength:Bt};ht.push(yr)})}),ht},f.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c,m){var R=c.columnIndex,K=c.rowIndex,ht=c.columnValuesLength,Tt=c.columnValue,Bt=c.rowValue,Ht=c.view;if(K===0){var $t=Object(i.s)(s.cfg.columnTitle,"formatter"),te=Object(i.h)({position:["50%","0%"],content:$t?$t(Tt):Tt},ds(x.TOP),s.cfg.columnTitle);Ht.annotation().text(te)}if(R===ht-1){var $t=Object(i.s)(s.cfg.rowTitle,"formatter"),te=Object(i.h)({position:["100%","50%"],content:$t?$t(Bt):Bt},ds(x.RIGHT),s.cfg.rowTitle);Ht.annotation().text(te)}})},f.prototype.getXAxisOption=function(s,c,m,R){return R.rowIndex!==R.rowValuesLength-1?Object(h.a)(Object(h.a)({},m),{title:null,label:null}):R.columnIndex!==Math.floor((R.columnValuesLength-1)/2)?Object(h.a)(Object(h.a)({},m),{title:null}):m},f.prototype.getYAxisOption=function(s,c,m,R){return R.columnIndex!==0?Object(h.a)(Object(h.a)({},m),{title:null,label:null}):R.rowIndex!==Math.floor((R.rowValuesLength-1)/2)?Object(h.a)(Object(h.a)({},m),{title:null}):m},f}(Pa),Yi=ws,lo=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.afterChartRender=function(){s.facets&&s.cfg.line&&(s.container.clear(),s.drawLines(s.facets))},s}return f.prototype.afterEachView=function(s,c){this.processAxis(s,c)},f.prototype.beforeEachView=function(s,c){},f.prototype.init=function(){v.prototype.init.call(this),this.view.on(S.AFTER_RENDER,this.afterChartRender)},f.prototype.getDefaultCfg=function(){return Object(i.h)({},v.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:v.prototype.getDefaultTitleCfg.call(this)})},f.prototype.generateFacets=function(s){var c=this.cfg.fields;if(!c.length)throw new Error("Please specify for the fields for rootFacet!");var m=[],R={type:this.cfg.type,data:s,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return m.push(R),R.children=this.getChildFacets(s,1,m),this.setRegion(m),m},f.prototype.setRegion=function(s){var c=this;this.forceColIndex(s),s.forEach(function(m){m.region=c.getRegion(m.rowValuesLength,m.columnValuesLength,m.columnIndex,m.rowIndex)})},f.prototype.getRegion=function(s,c,m,R){var K=1/c,ht=1/s,Tt={x:K*m,y:ht*R},Bt={x:Tt.x+K,y:Tt.y+ht*2/3};return{start:Tt,end:Bt}},f.prototype.forceColIndex=function(s){var c=this,m=[],R=0;s.forEach(function(te){c.isLeaf(te)&&(m.push(te),te.columnIndex=R,R++)}),m.forEach(function(te){te.columnValuesLength=m.length});for(var K=this.cfg.fields.length,ht=K-1;ht>=0;ht--)for(var Tt=this.getFacetsByLevel(s,ht),Bt=0,Ht=Tt;Bt<Ht.length;Bt++){var $t=Ht[Bt];this.isLeaf($t)||($t.originColIndex=$t.columnIndex,$t.columnIndex=this.getRegionIndex($t.children),$t.columnValuesLength=m.length)}},f.prototype.getFacetsByLevel=function(s,c){var m=[];return s.forEach(function(R){R.rowIndex===c&&m.push(R)}),m},f.prototype.getRegionIndex=function(s){var c=s[0],m=s[s.length-1];return(m.columnIndex-c.columnIndex)/2+c.columnIndex},f.prototype.isLeaf=function(s){return!s.children||!s.children.length},f.prototype.getRows=function(){return this.cfg.fields.length+1},f.prototype.getChildFacets=function(s,c,m){var R=this,K=this.cfg.fields,ht=K.length;if(!(ht<c)){var Tt=[],Bt=K[c-1],Ht=this.getFieldValues(s,Bt);return Ht.forEach(function($t,te){var re=[{field:Bt,value:$t,values:Ht}],ve=s.filter(R.getFacetDataFilter(re));if(ve.length){var me={type:R.cfg.type,data:ve,region:null,columnValue:$t,rowValue:"",columnField:Bt,rowField:"",columnIndex:te,rowValuesLength:R.getRows(),columnValuesLength:1,rowIndex:c,children:R.getChildFacets(ve,c+1,m)};Tt.push(me),m.push(me)}}),Tt}},f.prototype.render=function(){v.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c){var m=c.columnValue,R=c.view,K=Object(i.s)(s.cfg.title,"formatter"),ht=Object(i.h)({position:["50%","0%"],content:K?K(m):m},ds(x.TOP),s.cfg.title);R.annotation().text(ht)})},f.prototype.drawLines=function(s){var c=this;s.forEach(function(m){if(!c.isLeaf(m)){var R=m.children;c.addFacetLines(m,R)}})},f.prototype.addFacetLines=function(s,c){var m=this,R=s.view,K=R.coordinateBBox,ht={x:K.x+K.width/2,y:K.y+K.height};c.forEach(function(Tt){var Bt=Tt.view.coordinateBBox,Ht={x:Bt.bl.x+(Bt.tr.x-Bt.bl.x)/2,y:Bt.tr.y},$t={x:ht.x,y:ht.y+(Ht.y-ht.y)/2},te={x:Ht.x,y:$t.y};m.drawLine([ht,$t,te,Ht])})},f.prototype.getPath=function(s){var c=[],m=this.cfg.line.smooth;return m?(c.push(["M",s[0].x,s[0].y]),c.push(["C",s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y])):s.forEach(function(R,K){K===0?c.push(["M",R.x,R.y]):c.push(["L",R.x,R.y])}),c},f.prototype.drawLine=function(s){var c=this.getPath(s),m=this.cfg.line.style;this.container.addShape("path",{attrs:Object(i.b)({path:c},m)})},f.prototype.getXAxisOption=function(s,c,m,R){return R.rowIndex!==R.rowValuesLength-1?Object(h.a)(Object(h.a)({},m),{title:null,label:null}):m},f.prototype.getYAxisOption=function(s,c,m,R){return R.originColIndex!==0&&R.columnIndex!==0?Object(h.a)(Object(h.a)({},m),{title:null,label:null}):m},f}(Pa),Yl=lo;function Kl(v){var f=Object(h.g)(v);f.sort(function(c,m){return c-m});var s=f.length;return s===0?0:s%2==1?f[(s-1)/2]:(f[s/2]+f[s/2-1])/2}function ph(v){var f=Object(i.fb)(v,function(s,c){return s+=isNaN(c)||!Object(i.K)(c)?0:c},0);return v.length===0?0:f/v.length}function pl(v,f){var s;switch(v){case"start":return 0;case"end":return 1;case"median":{s=f.isCategory?Kl(f.values.map(function(c,m){return m})):Kl(f.values);break}case"mean":{s=f.isCategory?(f.values.length-1)/2:ph(f.values);break}case"min":s=f.isCategory?0:f[v];break;case"max":s=f.isCategory?f.values.length-1:f[v];break;default:s=v;break}return f.scale(s)}var Qs=["regionFilter","shape"],Du=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;return c.cache=new Map,c.foregroundContainer=c.view.getLayer(O.FORE).addGroup(),c.backgroundContainer=c.view.getLayer(O.BG).addGroup(),c.option=[],c}return Object.defineProperty(f.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.layout=function(){this.update()},f.prototype.render=function(){},f.prototype.update=function(){var s=this;this.onAfterRender(function(){var m=new Map;Object(i.j)(s.option,function(R){if(Object(i.z)(Qs,R.type)){var K=s.updateOrCreate(R);K&&m.set(s.getCacheKey(R),K)}}),s.cache=s.syncCache(m)});var c=new Map;Object(i.j)(this.option,function(m){if(!Object(i.z)(Qs,m.type)){var R=s.updateOrCreate(m);R&&c.set(s.getCacheKey(m),R)}}),this.cache=this.syncCache(c)},f.prototype.clear=function(s){s===void 0&&(s=!1),v.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),s&&(this.option=[])},f.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},f.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},f.prototype.clearComponents=function(){this.getComponents().forEach(function(s){s.component.destroy()}),this.cache.clear()},f.prototype.onAfterRender=function(s){this.view.getOptions().animate?this.view.geometries.forEach(function(c){c.animateOption&&c.once(M.AFTER_DRAW_ANIMATE,function(){s()})}):this.view.getRootView().once(S.AFTER_RENDER,function(){s()})},f.prototype.createAnnotation=function(s){var c=s.type,m=gt.Annotation[Object(i.tb)(c)];if(m){var R=this.getAnnotationTheme(c),K=this.getAnnotationCfg(c,s,R),ht=new m(K);return{component:ht,layer:this.isTop(K)?O.FORE:O.BG,direction:x.NONE,type:C.ANNOTATION,extra:s}}},f.prototype.annotation=function(s){this.option.push(s)},f.prototype.arc=function(s){return this.annotation(Object(h.a)({type:"arc"},s)),this},f.prototype.image=function(s){return this.annotation(Object(h.a)({type:"image"},s)),this},f.prototype.line=function(s){return this.annotation(Object(h.a)({type:"line"},s)),this},f.prototype.region=function(s){return this.annotation(Object(h.a)({type:"region"},s)),this},f.prototype.text=function(s){return this.annotation(Object(h.a)({type:"text"},s)),this},f.prototype.dataMarker=function(s){return this.annotation(Object(h.a)({type:"dataMarker"},s)),this},f.prototype.dataRegion=function(s){this.annotation(Object(h.a)({type:"dataRegion"},s))},f.prototype.regionFilter=function(s){this.annotation(Object(h.a)({type:"regionFilter"},s))},f.prototype.shape=function(s){this.annotation(Object(h.a)({type:"shape"},s))},f.prototype.html=function(s){this.annotation(Object(h.a)({type:"html"},s))},f.prototype.parsePosition=function(s){var c=this.view.getXScale(),m=this.view.getScalesByDim("y"),R=Object(i.H)(s)?s.call(null,c,m):s,K=0,ht=0;if(Object(i.B)(R)){var Tt=R[0],Bt=R[1];if(Object(i.O)(Tt)&&Tt.indexOf("%")!==-1&&!isNaN(Tt.slice(0,-1)))return this.parsePercentPosition(R);K=pl(Tt,c),ht=pl(Bt,Object.values(m)[0])}else if(!Object(i.I)(R))for(var Ht=0,$t=Object(i.R)(R);Ht<$t.length;Ht++){var te=$t[Ht],re=R[te];te===c.field&&(K=pl(re,c)),m[te]&&(ht=pl(re,m[te]))}return this.view.getCoordinate().convert({x:K,y:ht})},f.prototype.getRegionPoints=function(s,c){var m=this,R=this.view.getXScale(),K=this.view.getScalesByDim("y"),ht=Object.values(K)[0],Tt=R.field,Bt=this.view.getData(),Ht=Object(i.B)(s)?s[0]:s[Tt],$t=Object(i.B)(c)?c[0]:c[Tt],te=[],re;return Object(i.j)(Bt,function(ve,me){if(ve[Tt]===Ht&&(re=me),me>=re){var _e=m.parsePosition([ve[Tt],ve[ht.field]]);_e&&te.push(_e)}if(ve[Tt]===$t)return!1}),te},f.prototype.parsePercentPosition=function(s){var c=parseFloat(s[0])/100,m=parseFloat(s[1])/100,R=this.view.getCoordinate(),K=R.start,ht=R.end,Tt={x:Math.min(K.x,ht.x),y:Math.min(K.y,ht.y)},Bt=R.getWidth()*c+Tt.x,Ht=R.getHeight()*m+Tt.y;return{x:Bt,y:Ht}},f.prototype.getCoordinateBBox=function(){var s=this.view.getCoordinate(),c=s.start,m=s.end,R=s.getWidth(),K=s.getHeight(),ht={x:Math.min(c.x,m.x),y:Math.min(c.y,m.y)};return{x:ht.x,y:ht.y,minX:ht.x,minY:ht.y,maxX:ht.x+R,maxY:ht.y+K,width:R,height:K}},f.prototype.getAnnotationCfg=function(s,c,m){var R=this,K=this.view.getCoordinate(),ht=this.view.getCanvas(),Tt={};if(Object(i.I)(c))return null;if(s==="arc"){var Bt=c,Ht=Bt.start,$t=Bt.end,te=this.parsePosition(Ht),re=this.parsePosition($t),ve=hn(K,te),me=hn(K,re);ve>me&&(me=Math.PI*2+me),Tt={center:K.getCenter(),radius:Sr(K,te),startAngle:ve,endAngle:me}}else if(s==="image"){var _e=c,Ht=_e.start,$t=_e.end;Tt={start:this.parsePosition(Ht),end:this.parsePosition($t),src:c.src}}else if(s==="line"){var tr=c,Ht=tr.start,$t=tr.end;Tt={start:this.parsePosition(Ht),end:this.parsePosition($t),text:Object(i.s)(c,"text",null)}}else if(s==="region"){var yr=c,Ht=yr.start,$t=yr.end;Tt={start:this.parsePosition(Ht),end:this.parsePosition($t)}}else if(s==="text"){var xr=this.view.getData(),nn=c,dn=nn.position,cn=nn.content,ma=Object(h.e)(nn,["position","content"]),na=cn;Object(i.H)(cn)&&(na=cn(xr)),Tt=Object(h.a)(Object(h.a)(Object(h.a)({},this.parsePosition(dn)),ma),{content:na})}else if(s==="dataMarker"){var Kn=c,dn=Kn.position,ka=Kn.point,gi=Kn.line,ui=Kn.text,Qi=Kn.autoAdjust,Lo=Kn.direction;Tt=Object(h.a)(Object(h.a)({},this.parsePosition(dn)),{coordinateBBox:this.getCoordinateBBox(),point:ka,line:gi,text:ui,autoAdjust:Qi,direction:Lo})}else if(s==="dataRegion"){var mo=c,Ht=mo.start,$t=mo.end,bo=mo.region,ui=mo.text,Ec=mo.lineLength;Tt={points:this.getRegionPoints(Ht,$t),region:bo,text:ui,lineLength:Ec}}else if(s==="regionFilter"){var El=c,Ht=El.start,$t=El.end,$d=El.apply,Fv=El.color,Gv=this.view.geometries,Qd=[],Jd=function Bu(Fs){!Fs||(Fs.isGroup()?Fs.getChildren().forEach(function(tv){return Bu(tv)}):Qd.push(Fs))};Object(i.j)(Gv,function(Bu){$d?Object(i.f)($d,Bu.type)&&Object(i.j)(Bu.elements,function(Fs){Jd(Fs.shape)}):Object(i.j)(Bu.elements,function(Fs){Jd(Fs.shape)})}),Tt={color:Fv,shapes:Qd,start:this.parsePosition(Ht),end:this.parsePosition($t)}}else if(s==="shape"){var _d=c,Uv=_d.render,cd=Object(h.e)(_d,["render"]),ki=function(zv){if(Object(i.H)(c.render))return Uv(zv,R.view,{parsePosition:R.parsePosition.bind(R)})};Tt=Object(h.a)(Object(h.a)({},cd),{render:ki})}else if(s==="html"){var qd=c,fd=qd.html,dn=qd.position,cd=Object(h.e)(qd,["html","position"]),Wv=function(Fs){return Object(i.H)(fd)?fd(Fs,R.view):fd};Tt=Object(h.a)(Object(h.a)(Object(h.a)({},cd),this.parsePosition(dn)),{parent:ht.get("el").parentNode,html:Wv})}var $l=Object(i.h)({},m,Object(h.a)(Object(h.a)({},Tt),{top:c.top,style:c.style,offsetX:c.offsetX,offsetY:c.offsetY}));return s!=="html"&&($l.container=this.getComponentContainer($l)),$l.animate=this.view.getOptions().animate&&$l.animate&&Object(i.s)(c,"animate",$l.animate),$l.animateOption=Object(i.h)({},Ss,$l.animateOption,c.animateOption),$l},f.prototype.isTop=function(s){return Object(i.s)(s,"top",!0)},f.prototype.getComponentContainer=function(s){return this.isTop(s)?this.foregroundContainer:this.backgroundContainer},f.prototype.getAnnotationTheme=function(s){return Object(i.s)(this.view.getTheme(),["components","annotation",s],{})},f.prototype.updateOrCreate=function(s){var c=this.cache.get(this.getCacheKey(s));if(c){var m=s.type,R=this.getAnnotationTheme(m),K=this.getAnnotationCfg(m,s,R);cr(K,["container"]),c.component.update(K),Object(i.z)(Qs,s.type)&&c.component.render()}else c=this.createAnnotation(s),c&&(c.component.init(),Object(i.z)(Qs,s.type)&&c.component.render());return c},f.prototype.syncCache=function(s){var c=this,m=new Map(this.cache);return s.forEach(function(R,K){m.set(K,R)}),m.forEach(function(R,K){Object(i.m)(c.option,function(ht){return K===c.getCacheKey(ht)})||(R.component.destroy(),m.delete(K))}),m},f.prototype.getCacheKey=function(s){return s},f}(ks),yl=Du;function ju(v,f){var s=Object(i.h)({},Object(i.s)(v,["components","axis","common"]),Object(i.s)(v,["components","axis",f]));return Object(i.s)(s,["grid"],{})}function Js(v,f,s,c){var m=[],R=f.getTicks();return v.isPolar&&R.push({value:1,text:"",tickValue:""}),R.reduce(function(K,ht,Tt){var Bt=ht.value;if(c)m.push({points:[v.convert(s==="y"?{x:0,y:Bt}:{x:Bt,y:0}),v.convert(s==="y"?{x:1,y:Bt}:{x:Bt,y:1})]});else if(Tt){var Ht=K.value,$t=(Ht+Bt)/2;m.push({points:[v.convert(s==="y"?{x:0,y:$t}:{x:$t,y:0}),v.convert(s==="y"?{x:1,y:$t}:{x:$t,y:1})]})}return ht},R[0]),m}function Oc(v,f,s,c,m){var R=f.values.length,K=[],ht=s.getTicks();return ht.reduce(function(Tt,Bt){var Ht=Tt?Tt.value:Bt.value,$t=Bt.value,te=(Ht+$t)/2;return m==="x"?K.push({points:[v.convert({x:c?$t:te,y:0}),v.convert({x:c?$t:te,y:1})]}):K.push({points:Object(i.U)(Array(R+1),function(re,ve){return v.convert({x:ve/R,y:c?$t:te})})}),Bt},ht[0]),K}function Of(v,f){var s=Object(i.s)(f,"grid");if(s===null)return!1;var c=Object(i.s)(v,"grid");return!(s===void 0&&c===null)}var Bs=["container"],Lu=Object(h.a)(Object(h.a)({},Ss),{appear:null}),xf=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;return c.cache=new Map,c.gridContainer=c.view.getLayer(O.BG).addGroup(),c.gridForeContainer=c.view.getLayer(O.FORE).addGroup(),c.axisContainer=c.view.getLayer(O.BG).addGroup(),c.axisForeContainer=c.view.getLayer(O.FORE).addGroup(),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.render=function(){this.update()},f.prototype.layout=function(){var s=this,c=this.view.getCoordinate();Object(i.j)(this.getComponents(),function(m){var R=m.component,K=m.direction,ht=m.type,Tt=m.extra,Bt=Tt.dim,Ht=Tt.scale,$t=Tt.alignTick,te;if(ht===C.AXIS)c.isPolar?Bt==="x"?te=c.isTransposed?Ui(c,K):La(c):Bt==="y"&&(te=c.isTransposed?La(c):Ui(c,K)):te=Ui(c,K);else if(ht===C.GRID)if(c.isPolar){var re=void 0;c.isTransposed?re=Bt==="x"?Oc(c,s.view.getYScales()[0],Ht,$t,Bt):Js(c,Ht,Bt,$t):re=Bt==="x"?Js(c,Ht,Bt,$t):Oc(c,s.view.getXScale(),Ht,$t,Bt),te={items:re,center:s.view.getCoordinate().getCenter()}}else te={items:Js(c,Ht,Bt,$t)};R.update(te)})},f.prototype.update=function(){this.option=this.view.getOptions().axes;var s=new Map;this.updateXAxes(s),this.updateYAxes(s);var c=new Map;this.cache.forEach(function(m,R){s.has(R)?c.set(R,m):m.component.destroy()}),this.cache=c},f.prototype.clear=function(){v.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},f.prototype.destroy=function(){v.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},f.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},f.prototype.updateXAxes=function(s){var c=this.view.getXScale();if(!(!c||c.isIdentity)){var m=Hn(this.option,c.field);if(m!==!1){var R=Sa(m,x.BOTTOM),K=O.BG,ht="x",Tt=this.view.getCoordinate(),Bt=this.getId("axis",c.field),Ht=this.getId("grid",c.field);if(Tt.isRect){var $t=this.cache.get(Bt);if($t){var te=this.getLineAxisCfg(c,m,R);cr(te,Bs),$t.component.update(te),s.set(Bt,$t)}else $t=this.createLineAxis(c,m,K,R,ht),this.cache.set(Bt,$t),s.set(Bt,$t);var re=this.cache.get(Ht);if(re){var te=this.getLineGridCfg(c,m,R,ht);cr(te,Bs),re.component.update(te),s.set(Ht,re)}else re=this.createLineGrid(c,m,K,R,ht),re&&(this.cache.set(Ht,re),s.set(Ht,re))}else if(Tt.isPolar){var $t=this.cache.get(Bt);if($t){var te=Tt.isTransposed?this.getLineAxisCfg(c,m,x.RADIUS):this.getCircleAxisCfg(c,m,R);cr(te,Bs),$t.component.update(te),s.set(Bt,$t)}else{if(Tt.isTransposed){if(Object(i.Q)(m))return;$t=this.createLineAxis(c,m,K,x.RADIUS,ht)}else $t=this.createCircleAxis(c,m,K,R,ht);this.cache.set(Bt,$t),s.set(Bt,$t)}var re=this.cache.get(Ht);if(re){var te=Tt.isTransposed?this.getCircleGridCfg(c,m,x.RADIUS,ht):this.getLineGridCfg(c,m,x.CIRCLE,ht);cr(te,Bs),re.component.update(te),s.set(Ht,re)}else{if(Tt.isTransposed){if(Object(i.Q)(m))return;re=this.createCircleGrid(c,m,K,x.RADIUS,ht)}else re=this.createLineGrid(c,m,K,x.CIRCLE,ht);re&&(this.cache.set(Ht,re),s.set(Ht,re))}}}}},f.prototype.updateYAxes=function(s){var c=this,m=this.view.getYScales();Object(i.j)(m,function(R,K){if(!(!R||R.isIdentity)){var ht=R.field,Tt=Hn(c.option,ht);if(Tt!==!1){var Bt=O.BG,Ht="y",$t=c.getId("axis",ht),te=c.getId("grid",ht),re=c.view.getCoordinate();if(re.isRect){var ve=Sa(Tt,K===0?x.LEFT:x.RIGHT),me=c.cache.get($t);if(me){var _e=c.getLineAxisCfg(R,Tt,ve);cr(_e,Bs),me.component.update(_e),s.set($t,me)}else me=c.createLineAxis(R,Tt,Bt,ve,Ht),c.cache.set($t,me),s.set($t,me);var tr=c.cache.get(te);if(tr){var _e=c.getLineGridCfg(R,Tt,ve,Ht);cr(_e,Bs),tr.component.update(_e),s.set(te,tr)}else tr=c.createLineGrid(R,Tt,Bt,ve,Ht),tr&&(c.cache.set(te,tr),s.set(te,tr))}else if(re.isPolar){var me=c.cache.get($t);if(me){var _e=re.isTransposed?c.getCircleAxisCfg(R,Tt,x.CIRCLE):c.getLineAxisCfg(R,Tt,x.RADIUS);cr(_e,Bs),me.component.update(_e),s.set($t,me)}else{if(re.isTransposed){if(Object(i.Q)(Tt))return;me=c.createCircleAxis(R,Tt,Bt,x.CIRCLE,Ht)}else me=c.createLineAxis(R,Tt,Bt,x.RADIUS,Ht);c.cache.set($t,me),s.set($t,me)}var tr=c.cache.get(te);if(tr){var _e=re.isTransposed?c.getLineGridCfg(R,Tt,x.CIRCLE,Ht):c.getCircleGridCfg(R,Tt,x.RADIUS,Ht);cr(_e,Bs),tr.component.update(_e),s.set(te,tr)}else{if(re.isTransposed){if(Object(i.Q)(Tt))return;tr=c.createLineGrid(R,Tt,Bt,x.CIRCLE,Ht)}else tr=c.createCircleGrid(R,Tt,Bt,x.RADIUS,Ht);tr&&(c.cache.set(te,tr),s.set(te,tr))}}}}})},f.prototype.createLineAxis=function(s,c,m,R,K){var ht={component:new _(this.getLineAxisCfg(s,c,R)),layer:m,direction:R===x.RADIUS?x.NONE:R,type:C.AXIS,extra:{dim:K,scale:s}};return ht.component.set("field",s.field),ht.component.init(),ht},f.prototype.createLineGrid=function(s,c,m,R,K){var ht=this.getLineGridCfg(s,c,R,K);if(ht){var Tt={component:new wt(ht),layer:m,direction:x.NONE,type:C.GRID,extra:{dim:K,scale:s,alignTick:Object(i.s)(ht,"alignTick",!0)}};return Tt.component.init(),Tt}},f.prototype.createCircleAxis=function(s,c,m,R,K){var ht={component:new yt(this.getCircleAxisCfg(s,c,R)),layer:m,direction:R,type:C.AXIS,extra:{dim:K,scale:s}};return ht.component.set("field",s.field),ht.component.init(),ht},f.prototype.createCircleGrid=function(s,c,m,R,K){var ht=this.getCircleGridCfg(s,c,R,K);if(ht){var Tt={component:new St(ht),layer:m,direction:x.NONE,type:C.GRID,extra:{dim:K,scale:s,alignTick:Object(i.s)(ht,"alignTick",!0)}};return Tt.component.init(),Tt}},f.prototype.getLineAxisCfg=function(s,c,m){var R=Object(i.s)(c,["top"])?this.axisForeContainer:this.axisContainer,K=this.view.getCoordinate(),ht=Ui(K,m),Tt=Ba(s,c),Bt=Zn(this.view.getTheme(),m),Ht=Object(i.s)(c,["title"])?Object(i.h)({title:{style:{text:Tt}}},{title:wa(this.view.getTheme(),m,c.title)},c):c,$t=Object(i.h)(Object(h.a)(Object(h.a)({container:R},ht),{ticks:s.getTicks().map(function(xr){return{id:""+xr.tickValue,name:xr.text,value:xr.value}}),verticalFactor:K.isPolar?ja(ht,K.getCenter())*-1:ja(ht,K.getCenter()),theme:Bt}),Bt,Ht),te=this.getAnimateCfg($t),re=te.animate,ve=te.animateOption;$t.animateOption=ve,$t.animate=re;var me=ia(ht),_e=Object(i.s)($t,"verticalLimitLength",me?1/3:1/2);if(_e<=1){var tr=this.view.getCanvas().get("width"),yr=this.view.getCanvas().get("height");$t.verticalLimitLength=_e*(me?tr:yr)}return $t},f.prototype.getLineGridCfg=function(s,c,m,R){if(!!Of(Zn(this.view.getTheme(),m),c)){var K=ju(this.view.getTheme(),m),ht=Object(i.h)({container:Object(i.s)(c,["top"])?this.gridForeContainer:this.gridContainer},K,Object(i.s)(c,"grid"),this.getAnimateCfg(c));return ht.items=Js(this.view.getCoordinate(),s,R,Object(i.s)(ht,"alignTick",!0)),ht}},f.prototype.getCircleAxisCfg=function(s,c,m){var R=Object(i.s)(c,["top"])?this.axisForeContainer:this.axisContainer,K=this.view.getCoordinate(),ht=s.getTicks().map(function(me){return{id:""+me.tickValue,name:me.text,value:me.value}});!s.isCategory&&Math.abs(K.endAngle-K.startAngle)===Math.PI*2&&ht.pop();var Tt=Ba(s,c),Bt=Zn(this.view.getTheme(),x.CIRCLE),Ht=Object(i.s)(c,["title"])?Object(i.h)({title:{style:{text:Tt}}},{title:wa(this.view.getTheme(),m,c.title)},c):c,$t=Object(i.h)(Object(h.a)(Object(h.a)({container:R},La(this.view.getCoordinate())),{ticks:ht,verticalFactor:1,theme:Bt}),Bt,Ht),te=this.getAnimateCfg($t),re=te.animate,ve=te.animateOption;return $t.animate=re,$t.animateOption=ve,$t},f.prototype.getCircleGridCfg=function(s,c,m,R){if(!!Of(Zn(this.view.getTheme(),m),c)){var K=ju(this.view.getTheme(),x.RADIUS),ht=Object(i.h)({container:Object(i.s)(c,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},K,Object(i.s)(c,"grid"),this.getAnimateCfg(c)),Tt=Object(i.s)(ht,"alignTick",!0),Bt=R==="x"?this.view.getYScales()[0]:this.view.getXScale();return ht.items=Oc(this.view.getCoordinate(),Bt,s,Tt,R),ht}},f.prototype.getId=function(s,c){var m=this.view.getCoordinate();return s+"-"+c+"-"+m.type},f.prototype.getAnimateCfg=function(s){return{animate:this.view.getOptions().animate&&Object(i.s)(s,"animate"),animateOption:s&&s.animateOption?Object(i.h)({},Lu,s.animateOption):Lu}},f}(ks),ad=xf;function Ns(v,f,s){return s===x.TOP?[v.minX+v.width/2-f.width/2,v.minY]:s===x.BOTTOM?[v.minX+v.width/2-f.width/2,v.maxY-f.height]:s===x.LEFT?[v.minX,v.minY+v.height/2-f.height/2]:s===x.RIGHT?[v.maxX-f.width,v.minY+v.height/2-f.height/2]:s===x.TOP_LEFT||s===x.LEFT_TOP?[v.tl.x,v.tl.y]:s===x.TOP_RIGHT||s===x.RIGHT_TOP?[v.tr.x-f.width,v.tr.y]:s===x.BOTTOM_LEFT||s===x.LEFT_BOTTOM?[v.bl.x,v.bl.y-f.height]:s===x.BOTTOM_RIGHT||s===x.RIGHT_BOTTOM?[v.br.x-f.width,v.br.y-f.height]:[0,0]}function yh(v,f){if(f.isTransposed)switch(v){case x.BOTTOM:return x.LEFT;case x.LEFT:return x.BOTTOM;case x.RIGHT:return x.TOP;case x.TOP:return x.RIGHT}return v}function mh(v){return v===x.LEFT?x.RIGHT:v===x.RIGHT?x.LEFT:v}function qt(v){return v===x.TOP?x.BOTTOM:v===x.BOTTOM?x.TOP:v}function ae(v,f){var s=f.matrix[0],c=f.matrix[4],m=v;return s<0&&(m=mh(m)),c<0&&(m=qt(m)),m}function De(v,f){var s=v;return f.isReflect("x")&&(s=mh(s)),f.isReflect("y")&&(s=qt(s)),s}function fr(v,f){var s=v;return s=yh(s,f),s=ae(s,f),s=De(s,f),s}function Cr(v,f){return Object(i.C)(v)?v===!1?!1:{}:Object(i.s)(v,[f],v)}function mr(v){return Object(i.s)(v,"position",x.BOTTOM)}var vr=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;return c.container=c.view.getLayer(O.FORE).addGroup(),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.render=function(){this.update()},f.prototype.layout=function(){var s=this;this.layoutBBox=this.view.viewBBox,Object(i.j)(this.components,function(c){var m=c.component,R=c.direction,K=Ju(R),ht=s.getCategoryLegendSizeCfg(K),Tt=m.get("maxWidth"),Bt=m.get("maxHeight");m.update({maxWidth:Math.min(ht.maxWidth,Tt||0),maxHeight:Math.min(ht.maxHeight,Bt||0)});var Ht=m.get("padding"),$t=m.getLayoutBBox(),te=new Ce($t.x,$t.y,$t.width,$t.height).expand(Ht),re=Ns(s.view.viewBBox,te,R),ve=re[0],me=re[1],_e=Ns(s.layoutBBox,te,R),tr=_e[0],yr=_e[1],xr=0,nn=0;R.startsWith("top")||R.startsWith("bottom")?(xr=ve,nn=yr):(xr=tr,nn=me),m.setLocation({x:xr+Ht[3],y:nn+Ht[0]}),s.layoutBBox=s.layoutBBox.cut(te,R)})},f.prototype.update=function(){var s=this;this.option=this.view.getOptions().legends;var c={},m=function(re,ve,me){var _e=s.getId(me.field),tr=s.getComponentById(_e);if(tr){var yr=void 0,xr=Cr(s.option,me.field);xr!==!1&&(Object(i.s)(xr,"custom")?yr=s.getCategoryCfg(re,ve,me,xr,!0):me.isLinear?yr=s.getContinuousCfg(re,ve,me,xr):me.isCategory&&(yr=s.getCategoryCfg(re,ve,me,xr))),yr&&(cr(yr,["container"]),tr.direction=mr(xr),tr.component.update(yr),c[_e]=!0)}else{var nn=s.createFieldLegend(re,ve,me);nn&&(nn.component.init(),s.components.push(nn),c[_e]=!0)}};if(Object(i.s)(this.option,"custom")){var R="global-custom",K=this.getComponentById(R);if(K){var ht=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);cr(ht,["container"]),K.component.update(ht),c[R]=!0}else{var Tt=this.createCustomLegend(void 0,void 0,void 0,this.option);if(Tt){Tt.init();var Bt=O.FORE,Ht=mr(this.option);this.components.push({id:R,component:Tt,layer:Bt,direction:Ht,type:C.LEGEND,extra:void 0}),c[R]=!0}}}else this.loopLegends(m);var $t=[];Object(i.j)(this.getComponents(),function(te){c[te.id]?$t.push(te):te.component.destroy()}),this.components=$t},f.prototype.clear=function(){v.prototype.clear.call(this),this.container.clear()},f.prototype.destroy=function(){v.prototype.destroy.call(this),this.container.remove(!0)},f.prototype.getGeometries=function(s){var c=this,m=s.geometries;return Object(i.j)(s.views,function(R){m=m.concat(c.getGeometries(R))}),m},f.prototype.loopLegends=function(s){var c=this.view.getRootView()===this.view;if(!!c){var m=this.getGeometries(this.view),R={};Object(i.j)(m,function(K){var ht=K.getGroupAttributes();Object(i.j)(ht,function(Tt){var Bt=Tt.getScale(Tt.type);!Bt||Bt.type==="identity"||R[Bt.field]||(s(K,Tt,Bt),R[Bt.field]=!0)})})}},f.prototype.createFieldLegend=function(s,c,m){var R,K=Cr(this.option,m.field),ht=O.FORE,Tt=mr(K);if(K!==!1&&(Object(i.s)(K,"custom")?R=this.createCustomLegend(s,c,m,K):m.isLinear?R=this.createContinuousLegend(s,c,m,K):m.isCategory&&(R=this.createCategoryLegend(s,c,m,K))),R)return R.set("field",m.field),{id:this.getId(m.field),component:R,layer:ht,direction:Tt,type:C.LEGEND,extra:{scale:m}}},f.prototype.createCustomLegend=function(s,c,m,R){var K=this.getCategoryCfg(s,c,m,R,!0);return new Dt(K)},f.prototype.createContinuousLegend=function(s,c,m,R){var K=this.getContinuousCfg(s,c,m,R);return new Vt(K)},f.prototype.createCategoryLegend=function(s,c,m,R){var K=this.getCategoryCfg(s,c,m,R);return new Dt(K)},f.prototype.getContinuousCfg=function(s,c,m,R){var K=m.getTicks(),ht=Object(i.m)(K,function(me){return me.value===0}),Tt=Object(i.m)(K,function(me){return me.value===1}),Bt=K.map(function(me){var _e=me.value,tr=me.tickValue,yr=c.mapping(m.invert(_e)).join("");return{value:tr,attrValue:yr,color:yr,scaleValue:_e}});ht||Bt.push({value:m.min,attrValue:c.mapping(m.invert(0)).join(""),color:c.mapping(m.invert(0)).join(""),scaleValue:0}),Tt||Bt.push({value:m.max,attrValue:c.mapping(m.invert(1)).join(""),color:c.mapping(m.invert(1)).join(""),scaleValue:1}),Bt.sort(function(me,_e){return me.value-_e.value});var Ht={min:Object(i.y)(Bt).value,max:Object(i.S)(Bt).value,colors:[],rail:{type:c.type},track:{}};c.type==="size"&&(Ht.track={style:{fill:c.type==="size"?this.view.getTheme().defaultColor:void 0}}),c.type==="color"&&(Ht.colors=Bt.map(function(me){return me.attrValue}));var $t=this.container,te=mr(R),re=Ju(te),ve=Object(i.s)(R,"title");return ve&&(ve=Object(i.h)({text:Wn(m)},ve)),Ht.container=$t,Ht.layout=re,Ht.title=ve,Ht.animateOption=Ss,this.mergeLegendCfg(Ht,R,"continuous")},f.prototype.getCategoryCfg=function(s,c,m,R,K){var ht=this.container,Tt=Object(i.s)(R,"position",x.BOTTOM),Bt=wl(this.view.getTheme(),Tt),Ht=Object(i.s)(Bt,["marker"]),$t=Object(i.s)(R,"marker"),te=Ju(Tt),re=Object(i.s)(Bt,["pageNavigator"]),ve=Object(i.s)(R,"pageNavigator"),me=K?kh(Ht,$t,R.items):Rl(this.view,s,c,Ht,$t),_e=Object(i.s)(R,"title");_e&&(_e=Object(i.h)({text:m?Wn(m):""},_e));var tr=this.getCategoryLegendSizeCfg(te);tr.container=ht,tr.layout=te,tr.items=me,tr.title=_e,tr.animateOption=Ss,tr.pageNavigator=Object(i.h)({},re,ve);var yr=this.mergeLegendCfg(tr,R,Tt);yr.reversed&&yr.items.reverse();var xr=Object(i.s)(yr,"maxItemWidth");return xr&&xr<=1&&(yr.maxItemWidth=this.view.viewBBox.width*xr),yr},f.prototype.mergeLegendCfg=function(s,c,m){var R=m.split("-")[0],K=wl(this.view.getTheme(),R);return Object(i.h)({},K,s,c)},f.prototype.getId=function(s){return this.name+"-"+s},f.prototype.getComponentById=function(s){return Object(i.m)(this.components,function(c){return c.id===s})},f.prototype.getCategoryLegendSizeCfg=function(s){var c=this.view.viewBBox,m=c.width,R=c.height;return s==="vertical"?{maxWidth:m*I,maxHeight:R}:{maxWidth:m,maxHeight:R*I}},f}(ks),Vr=vr,rn=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;return c.onChangeFn=i.db,c.resetMeasure=function(){c.clear()},c.onValueChange=function(m){var R=m[0],K=m[1];c.start=R,c.end=K,c.changeViewData(R,K)},c.container=c.view.getLayer(O.FORE).addGroup(),c.onChangeFn=Object(i.nb)(c.onValueChange,20,{leading:!0}),c.width=0,c.view.on(S.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(S.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),f.prototype.destroy=function(){v.prototype.destroy.call(this),this.view.off(S.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(S.BEFORE_CHANGE_SIZE,this.resetMeasure)},f.prototype.init=function(){},f.prototype.render=function(){this.option=this.view.getOptions().slider;var s=this.getSliderCfg(),c=s.start,m=s.end;Object(i.I)(this.start)&&(this.start=c,this.end=m);var R=this.view.getOptions().data;this.option&&!Object(i.F)(R)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},f.prototype.layout=function(){var s=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.start,s.end)},0)),this.slider){var c=this.view.coordinateBBox.width,m=this.slider.component.get("padding"),R=m[0],K=m[1],ht=m[2],Tt=m[3],Bt=this.slider.component.getLayoutBBox(),Ht=new Ce(Bt.x,Bt.y,Math.min(Bt.width,c),Bt.height).expand(m),$t=this.getMinMaxText(this.start,this.end),te=$t.minText,re=$t.maxText,ve=Ns(this.view.viewBBox,Ht,x.BOTTOM),me=ve[0],_e=ve[1],tr=Ns(this.view.coordinateBBox,Ht,x.BOTTOM),yr=tr[0],xr=tr[1];this.slider.component.update(Object(h.a)(Object(h.a)({},this.getSliderCfg()),{x:yr+Tt,y:_e+R,width:this.width,start:this.start,end:this.end,minText:te,maxText:re})),this.view.viewBBox=this.view.viewBBox.cut(Ht,x.BOTTOM)}},f.prototype.update=function(){this.render()},f.prototype.createSlider=function(){var s=this.getSliderCfg(),c=new gt.Slider(Object(h.a)({container:this.container},s));return c.init(),{component:c,layer:O.FORE,direction:x.BOTTOM,type:C.SLIDER}},f.prototype.updateSlider=function(){var s=this.getSliderCfg();if(this.width){var c=this.getMinMaxText(this.start,this.end),m=c.minText,R=c.maxText;s=Object(h.a)(Object(h.a)({},s),{width:this.width,start:this.start,end:this.end,minText:m,maxText:R})}return this.slider.component.update(s),this.slider},f.prototype.measureSlider=function(){var s=this.getSliderCfg().width;this.width=s},f.prototype.getSliderCfg=function(){var s={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(i.M)(this.option)){var c=Object(h.a)({data:this.getData()},Object(i.s)(this.option,"trendCfg",{}));s=Object(i.h)({},s,this.getThemeOptions(),this.option),s=Object(h.a)(Object(h.a)({},s),{trendCfg:c})}return s.start=Object(i.c)(Math.min(Object(i.I)(s.start)?0:s.start,Object(i.I)(s.end)?1:s.end),0,1),s.end=Object(i.c)(Math.max(Object(i.I)(s.start)?0:s.start,Object(i.I)(s.end)?1:s.end),0,1),s},f.prototype.getData=function(){var s=this.view.getOptions().data,c=this.view.getYScales()[0],m=this.view.getGroupScales();if(m.length){var R=m[0],K=R.field,ht=R.ticks;return s.reduce(function(Tt,Bt){return Bt[K]===ht[0]&&Tt.push(Bt[c.field]),Tt},[])}return s.map(function(Tt){return Tt[c.field]||0})},f.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(i.s)(s,["components","slider","common"],{})},f.prototype.getMinMaxText=function(s,c){var m=this.view.getOptions().data,R=this.view.getXScale(),K=!0,ht=Object(i.vb)(m,R.field),Tt=K?ht:ht.reverse(),Bt=Object(i.jb)(m);if(!R||!Bt)return{};var Ht=Object(i.jb)(Tt),$t=Math.floor(s*(Ht-1)),te=Math.floor(c*(Ht-1)),re=Object(i.s)(Tt,[$t]),ve=Object(i.s)(Tt,[te]),me=this.getSliderCfg().formatter;return me&&(re=me(re,m[$t],$t),ve=me(ve,m[te],te)),{minText:re,maxText:ve}},f.prototype.changeViewData=function(s,c){var m=this.view.getOptions().data,R=this.view.getXScale(),K=Object(i.jb)(m);if(!(!R||!K)){var ht=!0,Tt=Object(i.vb)(m,R.field),Bt=ht?Tt:Tt.reverse(),Ht=Object(i.jb)(Bt),$t=Math.floor(s*(Ht-1)),te=Math.floor(c*(Ht-1));this.view.filter(R.field,function(re,ve){var me=Bt.indexOf(re);return me>-1?We(me,$t,te):!0}),this.view.render(!0)}},f.prototype.getComponents=function(){return this.slider?[this.slider]:[]},f.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},f}(ks),Hr=rn,Xr=0,an=8,gn=32,sn=20,Jr=function(v){Object(h.c)(f,v);function f(s){var c=v.call(this,s)||this;return c.onChangeFn=i.db,c.resetMeasure=function(){c.clear()},c.onValueChange=function(m){var R=m.ratio,K=c.getValidScrollbarCfg().animate;c.ratio=Object(i.c)(R,0,1);var ht=c.view.getOptions().animate;K||c.view.animate(!1),c.changeViewData(c.getScrollRange(),!0),c.view.animate(ht)},c.container=c.view.getLayer(O.FORE).addGroup(),c.onChangeFn=Object(i.nb)(c.onValueChange,20,{leading:!0}),c.trackLen=0,c.thumbLen=0,c.ratio=0,c.view.on(S.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(S.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),f.prototype.destroy=function(){v.prototype.destroy.call(this),this.view.off(S.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(S.BEFORE_CHANGE_SIZE,this.resetMeasure)},f.prototype.init=function(){},f.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},f.prototype.layout=function(){var s=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.getScrollRange(),!0)})),this.scrollbar){var c=this.view.coordinateBBox.width,m=this.scrollbar.component.get("padding"),R=this.scrollbar.component.getLayoutBBox(),K=new Ce(R.x,R.y,Math.min(R.width,c),R.height).expand(m),ht=this.getScrollbarComponentCfg(),Tt=void 0,Bt=void 0;if(ht.isHorizontal){var Ht=Ns(this.view.viewBBox,K,x.BOTTOM),$t=Ht[0],te=Ht[1],re=Ns(this.view.coordinateBBox,K,x.BOTTOM),ve=re[0],me=re[1];Tt=ve,Bt=te}else{var _e=Ns(this.view.viewBBox,K,x.RIGHT),$t=_e[0],te=_e[1],tr=Ns(this.view.viewBBox,K,x.RIGHT),ve=tr[0],me=tr[1];Tt=ve,Bt=te}Tt+=m[3],Bt+=m[0],this.trackLen?this.scrollbar.component.update(Object(h.a)(Object(h.a)({},ht),{x:Tt,y:Bt,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(h.a)(Object(h.a)({},ht),{x:Tt,y:Bt})),this.view.viewBBox=this.view.viewBBox.cut(K,ht.isHorizontal?x.BOTTOM:x.RIGHT)}},f.prototype.update=function(){this.render()},f.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},f.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},f.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(i.s)(s,["components","scrollbar","common"],{})},f.prototype.getScrollbarTheme=function(s){var c=Object(i.s)(this.view.getTheme(),["components","scrollbar"]),m=s||{},R=m.thumbHighlightColor,K=Object(h.e)(m,["thumbHighlightColor"]);return{default:Object(i.h)({},Object(i.s)(c,["default","style"],{}),K),hover:Object(i.h)({},Object(i.s)(c,["hover","style"],{}),{thumbColor:R})}},f.prototype.measureScrollbar=function(){var s=this.view.getXScale(),c=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var m=this.getScrollbarComponentCfg(),R=m.trackLen,K=m.thumbLen;this.trackLen=R,this.thumbLen=K,this.xScaleCfg={field:s.field,values:s.values||[]},this.yScalesCfg=c},f.prototype.getScrollRange=function(){var s=Math.floor((this.cnt-this.step)*Object(i.c)(this.ratio,0,1)),c=Math.min(s+this.step-1,this.cnt-1);return[s,c]},f.prototype.changeViewData=function(s,c){var m=this,R=s[0],K=s[1],ht=this.getValidScrollbarCfg().type,Tt=ht!=="vertical",Bt=Object(i.vb)(this.data,this.xScaleCfg.field),Ht=Tt?Bt:Bt.reverse();this.yScalesCfg.forEach(function($t){m.view.scale($t.field,{formatter:$t.formatter,type:$t.type,min:$t.min,max:$t.max})}),this.view.filter(this.xScaleCfg.field,function($t){var te=Ht.indexOf($t);return te>-1?We(te,R,K):!0}),this.view.render(!0)},f.prototype.createScrollbar=function(){var s=this.getValidScrollbarCfg().type,c=s!=="vertical",m=new gt.Scrollbar(Object(h.a)(Object(h.a)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return m.init(),{component:m,layer:O.FORE,direction:c?x.BOTTOM:x.RIGHT,type:C.SCROLLBAR}},f.prototype.updateScrollbar=function(){var s=this.getScrollbarComponentCfg(),c=this.trackLen?Object(h.a)(Object(h.a)({},s),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(h.a)({},s);return this.scrollbar.component.update(c),this.scrollbar},f.prototype.getStep=function(){if(this.step)return this.step;var s=this.view.coordinateBBox,c=this.getValidScrollbarCfg(),m=c.type,R=c.categorySize,K=m!=="vertical";return Math.floor((K?s.width:s.height)/R)},f.prototype.getCnt=function(){if(this.cnt)return this.cnt;var s=this.view.getXScale(),c=this.view.getOptions().data,m=Object(i.vb)(c,s.field);return Object(i.jb)(m)},f.prototype.getScrollbarComponentCfg=function(){var s=this.view,c=s.coordinateBBox,m=s.viewBBox,R=this.getValidScrollbarCfg(),K=R.type,ht=R.padding,Tt=R.width,Bt=R.height,Ht=R.style,$t=K!=="vertical",te=ht[0],re=ht[1],ve=ht[2],me=ht[3],_e=$t?{x:c.minX+me,y:m.maxY-Bt-ve}:{x:m.maxX-Tt-re,y:c.minY+te},tr=this.getStep(),yr=this.getCnt(),xr=$t?c.width-me-re:c.height-te-ve,nn=Math.max(xr*Object(i.c)(tr/yr,0,1),sn);return Object(h.a)(Object(h.a)({},this.getThemeOptions()),{x:_e.x,y:_e.y,size:$t?Bt:Tt,isHorizontal:$t,trackLen:xr,thumbLen:nn,thumbOffset:0,theme:this.getScrollbarTheme(Ht)})},f.prototype.getValidScrollbarCfg=function(){var s={type:"horizontal",categorySize:gn,width:an,height:an,padding:[0,0,0,0],animate:!0,style:{}};return Object(i.M)(this.option)&&(s=Object(h.a)(Object(h.a)({},s),this.option)),(!Object(i.M)(this.option)||!this.option.padding)&&(s.padding=s.type==="horizontal"?[Xr,0,Xr,0]:[0,Xr,0,Xr]),s},f}(ks),gr=Jr,hr={fill:"#CCD6EC",opacity:.3},Yr=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.show=function(s){var c=this.context.view,m=this.context.event,R=c.getTooltipItems({x:m.x,y:m.y});if(!Object(i.G)(R,this.items)&&(this.items=R,R.length)){var K=c.getXScale().field,ht=R[0].data[K],Tt=[],Bt=c.geometries;if(Object(i.j)(Bt,function(mo){if(mo.type==="interval"||mo.type==="schema"){var bo=mo.getElementsBy(function(Ec){var El=Ec.getData();return El[K]===ht});Tt=Tt.concat(bo)}}),Tt.length){var Ht=c.getCoordinate(),$t=Tt[0].shape.getCanvasBBox(),te=Tt[0].shape.getCanvasBBox(),re=$t;Object(i.j)(Tt,function(mo){var bo=mo.shape.getCanvasBBox();Ht.isTransposed?(bo.minY<$t.minY&&($t=bo),bo.maxY>te.maxY&&(te=bo)):(bo.minX<$t.minX&&($t=bo),bo.maxX>te.maxX&&(te=bo)),re.x=Math.min(bo.minX,re.minX),re.y=Math.min(bo.minY,re.minY),re.width=Math.max(bo.maxX,re.maxX)-re.x,re.height=Math.max(bo.maxY,re.maxY)-re.y});var ve=c.backgroundGroup,me=c.coordinateBBox,_e=void 0;if(Ht.isRect){var tr=c.getXScale(),yr=tr.isLinear?0:.25,xr=void 0,nn=void 0,dn=void 0,cn=void 0;Ht.isTransposed?(xr=me.minX,nn=Math.min(te.minY,$t.minY)-yr*te.height,dn=me.width,cn=re.height+yr*2*te.height):(xr=Math.min($t.minX,te.minX)-yr*$t.width,nn=Math.min(me.minY,$t.minY),dn=re.width+yr*2*$t.width,cn=me.height),_e=[["M",xr,nn],["L",xr+dn,nn],["L",xr+dn,nn+cn],["L",xr,nn+cn],["Z"]]}else{var ma=Object(i.y)(Tt),na=Object(i.S)(Tt),Kn=Be(ma.getModel(),Ht).startAngle,ka=Be(na.getModel(),Ht).endAngle,gi=Ht.getCenter(),ui=Ht.getRadius(),Qi=Ht.innerRadius*ui;_e=ye(gi.x,gi.y,ui,Kn,ka,Qi)}if(this.regionPath)this.regionPath.attr("path",_e),this.regionPath.show();else{var Lo=Object(i.s)(s,"style",hr);this.regionPath=ve.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(h.a)(Object(h.a)({},Lo),{path:_e})})}}}},f.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},f.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),v.prototype.destroy.call(this)},f}(Qn),On=Yr,Tr=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.timeStamp=0,s}return f.prototype.show=function(){var s=this.context,c=s.event,m=s.view,R=m.isTooltipLocked();if(!R){var K=this.timeStamp,ht=+new Date,Tt=Object(i.s)(s.view.getOptions(),"tooltip.showDelay",16);if(ht-K>Tt){var Bt=this.location,Ht={x:c.x,y:c.y};(!Bt||!Object(i.G)(Bt,Ht))&&this.showTooltip(m,Ht),this.timeStamp=ht,this.location=Ht}}},f.prototype.hide=function(){var s=this.context.view,c=s.getController("tooltip"),m=this.context.event,R=m.clientX,K=m.clientY;c.isCursorEntered({x:R,y:K})||s.isTooltipLocked()||(this.hideTooltip(s),this.location=null)},f.prototype.showTooltip=function(s,c){s.showTooltip(c)},f.prototype.hideTooltip=function(s){s.hideTooltip()},f}(Qn),Gn=Tr,$r=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.showTooltip=function(s,c){var m=go(s);Object(i.j)(m,function(R){var K=zo(s,R,c);R.showTooltip(K)})},f.prototype.hideTooltip=function(s){var c=go(s);Object(i.j)(c,function(m){m.hideTooltip()})},f}(Gn),Nr=$r,Gr=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.timeStamp=0,s}return f.prototype.destroy=function(){v.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},f.prototype.show=function(){var s=this.context,c=s.event,m=this.timeStamp,R=+new Date;if(R-m>16){var K=this.location,ht={x:c.x,y:c.y};(!K||!Object(i.G)(K,ht))&&this.showTooltip(ht),this.timeStamp=R,this.location=ht}},f.prototype.hide=function(){this.hideTooltip(),this.location=null},f.prototype.showTooltip=function(s){var c=this.context,m=c.event,R=m.target;if(R&&R.get("tip")){this.tooltip||this.renderTooltip();var K=R.get("tip");this.tooltip.update(Object(h.a)({title:K},s)),this.tooltip.show()}},f.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},f.prototype.renderTooltip=function(){var s,c=this.context.view,m=c.canvas,R={start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}},K=c.getTheme(),ht=Object(i.s)(K,["components","tooltip","domStyles"],{}),Tt=new Qt({parent:m.get("el").parentNode,region:R,visible:!1,crosshairs:null,domStyles:Object(h.a)({},Object(i.h)({},ht,(s={},s[gt.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},s[gt.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},s)))});Tt.init(),Tt.setCapture(!1),this.tooltip=Tt},f}(Qn),qr=Gr,Un=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="",s}return f.prototype.hasState=function(s){return s.hasState(this.stateName)},f.prototype.setElementState=function(s,c){s.setState(this.stateName,c)},f.prototype.setState=function(){this.setStateEnable(!0)},f.prototype.clear=function(){var s=this.context.view;this.clearViewState(s)},f.prototype.clearViewState=function(s){var c=this,m=wo(s,this.stateName);Object(i.j)(m,function(R){c.setElementState(R,!1)})},f}(Qn),aa=Un;function fn(v){return Object(i.s)(v.get("delegateObject"),"item")}var tn=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.ignoreListItemStates=["unchecked"],s}return f.prototype.isItemIgnore=function(s,c){var m=this.ignoreListItemStates,R=m.filter(function(K){return c.hasState(s,K)});return!!R.length},f.prototype.setStateByComponent=function(s,c,m){var R=this.context.view,K=s.get("field"),ht=Xa(R);this.setElementsStateByItem(ht,K,c,m)},f.prototype.setStateByElement=function(s,c){this.setElementState(s,c)},f.prototype.isMathItem=function(s,c,m){var R=this.context.view,K=Bo(R,c),ht=Hi(s,c);return!Object(i.I)(ht)&&m.name===K.getText(ht)},f.prototype.setElementsStateByItem=function(s,c,m,R){var K=this;Object(i.j)(s,function(ht){K.isMathItem(ht,c,m)&&ht.setState(K.stateName,R)})},f.prototype.setStateEnable=function(s){var c=mi(this.context);if(c)Xi(this.context)&&this.setStateByElement(c,s);else{var m=ji(this.context);if(uo(m)){var R=m.item,K=m.component;if(R&&K&&!this.isItemIgnore(R,K)){var ht=this.context.event.gEvent;if(ht&&ht.fromShape&&ht.toShape&&fn(ht.fromShape)===fn(ht.toShape))return;this.setStateByComponent(K,R,s)}}}},f.prototype.toggle=function(){var s=mi(this.context);if(s){var c=s.hasState(this.stateName);this.setElementState(s,!c)}},f.prototype.reset=function(){this.setStateEnable(!1)},f}(aa),wr=tn,ea=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="active",s}return f.prototype.active=function(){this.setState()},f}(wr),Ca=ea,Pn=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.cache={},s}return f.prototype.getColorScale=function(s,c){var m=c.geometry.getAttribute("color");if(!m)return null;var R=s.getScaleByField(m.getFields()[0]);return R},f.prototype.getLinkPath=function(s,c){var m=this.context.view,R=m.getCoordinate().isTransposed,K=s.shape.getCanvasBBox(),ht=c.shape.getCanvasBBox(),Tt=R?[["M",K.minX,K.minY],["L",ht.minX,ht.maxY],["L",ht.maxX,ht.maxY],["L",K.maxX,K.minY],["Z"]]:[["M",K.maxX,K.minY],["L",ht.minX,ht.minY],["L",ht.minX,ht.maxY],["L",K.maxX,K.maxY],["Z"]];return Tt},f.prototype.addLinkShape=function(s,c,m){s.addShape({type:"path",attrs:{opacity:.4,fill:c.shape.attr("fill"),path:this.getLinkPath(c,m)}})},f.prototype.linkByElement=function(s){var c=this,m=this.context.view,R=this.getColorScale(m,s);if(!!R){var K=Hi(s,R.field);if(!this.cache[K]){var ht=Ro(m,R.field,K),Tt=this.linkGroup,Bt=Tt.addGroup();this.cache[K]=Bt;var Ht=ht.length;Object(i.j)(ht,function($t,te){if(te<Ht-1){var re=ht[te+1];c.addLinkShape(Bt,$t,re)}})}}},f.prototype.removeLink=function(s){var c=this.getColorScale(this.context.view,s);if(!!c){var m=Hi(s,c.field);this.cache[m]&&(this.cache[m].remove(),this.cache[m]=null)}},f.prototype.link=function(){var s=this.context;this.linkGroup||(this.linkGroup=s.view.foregroundGroup.addGroup({capture:!1}));var c=mi(s);c&&this.linkByElement(c)},f.prototype.unlink=function(){var s=mi(this.context);s&&this.removeLink(s)},f.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},f.prototype.destroy=function(){v.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},f}(Qn),Ma=Pn,ha=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.startPoint=null,s.endPoint=null,s.isStarted=!1,s.effectSiblings=!1,s.effectByRecord=!1,s}return f.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},f.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},f.prototype.getIntersectElements=function(){var s=null;if(ge(this.context))s=Ki(this.context,10);else{var c=this.startPoint,m=this.isStarted?this.getCurrentPoint():this.endPoint;if(!c||!m)return;var R={minX:Math.min(c.x,m.x),minY:Math.min(c.y,m.y),maxX:Math.max(c.x,m.x),maxY:Math.max(c.y,m.y)},K=this.context.view;s=qo(K,R)}return s},f.prototype.setStateEnable=function(s){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(s);else{var c=Xa(this.context.view),m=this.getIntersectElements();m&&m.length?this.effectByRecord?this.setSiblingsStateByRecord(m,s):this.setElementsState(m,s,c):this.clear()}},f.prototype.setSiblingsStateByRecord=function(s,c){var m=this,R=this.context.view,K=go(R),ht=s.map(function(Ht){return Ht.getModel().data}),Tt=R.getXScale().field,Bt=R.getYScales()[0].field;Object(i.j)(K,function(Ht){var $t=Xa(Ht),te=$t.filter(function(re){var ve=re.getModel().data;return xs(ht,ve,Tt,Bt)});m.setElementsState(te,c,$t)})},f.prototype.setSiblingsState=function(s){var c=this,m=this.context.view,R=go(m);ge(this.context)&&Object(i.j)(R,function(K){var ht=Xa(K),Tt=qn(c.context,K,10);Tt&&Tt.length?c.setElementsState(Tt,s,ht):c.clearViewState(K)})},f.prototype.setElementsState=function(s,c,m){var R=this;Object(i.j)(m,function(K){s.includes(K)?R.setElementState(K,c):R.setElementState(K,!1)})},f.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},f.prototype.clear=function(){var s=this,c=this.context.view;if(this.effectSiblings){var m=go(c);Object(i.j)(m,function(R){s.clearViewState(R)})}else this.clearViewState(c)},f}(aa),Ta=ha,Za=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="active",s}return f.prototype.active=function(){this.setState()},f}(Ta),Li=Za,ro=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.setStateEnable=function(s){var c=mi(this.context);if(c){if(!Xi(this.context))return;s?(this.clear(),this.setElementState(c,!0)):this.hasState(c)&&this.setElementState(c,!1)}},f.prototype.toggle=function(){var s=mi(this.context);if(s){var c=this.hasState(s);c||this.clear(),this.setElementState(s,!c)}},f.prototype.reset=function(){this.setStateEnable(!1)},f}(aa),Ra=ro,Zi=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="active",s}return f.prototype.active=function(){this.setState()},f}(Ra),xi=Zi,Ai="inactive",Ii="active";function Pi(v){var f=Xa(v);Object(i.j)(f,function(s){s.hasState(Ii)&&s.setState(Ii,!1),s.hasState(Ai)&&s.setState(Ai,!1)})}function $i(v,f,s){Object(i.j)(v,function(c){f(c)?(c.hasState(Ai)&&c.setState(Ai,!1),c.setState(Ii,s)):(c.hasState(Ii)&&c.setState(Ii,!1),c.setState(Ai,s))})}var Fi=g.INACTIVE,li=g.ACTIVE,Aa=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName=li,s}return f.prototype.setElementsStateByItem=function(s,c,m,R){var K=this,ht=function(Bt){return K.isMathItem(Bt,c,m)};this.setHighlightBy(s,ht,R)},f.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState(Fi)&&s.setState(Fi,!1),s.setState(li,!0)):s.hasState(li)||s.setState(Fi,!0)},f.prototype.setHighlightBy=function(s,c,m){var R=this;if(m)Object(i.j)(s,function(Tt){R.setElementHighlight(Tt,c)});else{var K=wo(this.context.view,li),ht=!0;Object(i.j)(K,function(Tt){if(!c(Tt))return ht=!1,!1}),ht?this.clear():Object(i.j)(s,function(Tt){c(Tt)&&(Tt.hasState(li)&&Tt.setState(li,!1),Tt.setState(Fi,!0))})}},f.prototype.setElementState=function(s,c){var m=this.context.view,R=Xa(m);this.setHighlightBy(R,function(K){return s===K},c)},f.prototype.highlight=function(){this.setState()},f.prototype.clear=function(){var s=this.context.view;Pi(s)},f}(wr),no=Aa,_a=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.setStateByElement=function(s,c){var m=this.context.view,R=s.geometry.getAttribute("color");if(!!R){var K=m.getScaleByField(R.getFields()[0]),ht=Hi(s,K.field),Tt=Xa(m),Bt=Tt.filter(function(Ht){return Hi(Ht,K.field)===ht});this.setHighlightBy(Tt,function(Ht){return Bt.includes(Ht)},c)}},f}(no),zn=_a,_n=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState(Fi)&&s.setState(Fi,!1),s.setState(li,!0)):(s.setState(Fi,!0),s.hasState(li)&&s.setState(li,!1))},f.prototype.setStateByElement=function(s,c){var m=this.context.view,R=m.getXScale(),K=Hi(s,R.field),ht=Xa(m),Tt=ht.filter(function(Bt){return Hi(Bt,R.field)===K});this.setHighlightBy(ht,function(Bt){return Tt.includes(Bt)},c)},f.prototype.toggle=function(){var s=mi(this.context);if(s){var c=s.hasState(this.stateName);this.setStateByElement(s,!c)}},f}(no),Fa=_n,Gi=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="active",s}return f.prototype.clearViewState=function(s){Pi(s)},f.prototype.highlight=function(){this.setState()},f.prototype.setElementsState=function(s,c,m){$i(m,function(R){return s.indexOf(R)>=0},c)},f}(Ta),yo=Gi,ml=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="active",s}return f.prototype.highlight=function(){this.setState()},f.prototype.setElementState=function(s,c){var m=this.context.view,R=Xa(m);$i(R,function(K){return s===K},c)},f.prototype.clear=function(){var s=this.context.view;Pi(s)},f}(Ra),Te=ml,pr=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="selected",s}return f.prototype.selected=function(){this.setState()},f}(Ta),ur=pr,En=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="selected",s}return f.prototype.selected=function(){this.setState()},f}(wr),ca=En,Ee=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="selected",s}return f.prototype.selected=function(){this.setState()},f}(Ra),ue=Ee,Fe=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="",s.ignoreItemStates=[],s}return f.prototype.getTriggerListInfo=function(){var s=ji(this.context),c=null;return uo(s)&&(c={item:s.item,list:s.component}),c},f.prototype.getAllowComponents=function(){var s=this,c=this.context.view,m=Go(c),R=[];return Object(i.j)(m,function(K){K.isList()&&s.allowSetStateByElement(K)&&R.push(K)}),R},f.prototype.hasState=function(s,c){return s.hasState(c,this.stateName)},f.prototype.clearAllComponentsState=function(){var s=this,c=this.getAllowComponents();Object(i.j)(c,function(m){m.clearItemsState(s.stateName)})},f.prototype.allowSetStateByElement=function(s){var c=s.get("field");if(!c)return!1;if(this.cfg&&this.cfg.componentNames){var m=s.get("name");if(this.cfg.componentNames.indexOf(m)===-1)return!1}var R=this.context.view,K=Bo(R,c);return K&&K.isCategory},f.prototype.allowSetStateByItem=function(s,c){var m=this.ignoreItemStates;if(m.length){var R=m.filter(function(K){return c.hasState(s,K)});return R.length===0}return!0},f.prototype.setStateByElement=function(s,c,m){var R=s.get("field"),K=this.context.view,ht=Bo(K,R),Tt=Hi(c,R),Bt=ht.getText(Tt);this.setItemsState(s,Bt,m)},f.prototype.setStateEnable=function(s){var c=this,m=mi(this.context);if(m){var R=this.getAllowComponents();Object(i.j)(R,function(Bt){c.setStateByElement(Bt,m,s)})}else{var K=ji(this.context);if(uo(K)){var ht=K.item,Tt=K.component;this.allowSetStateByElement(Tt)&&this.allowSetStateByItem(ht,Tt)&&this.setItemState(Tt,ht,s)}}},f.prototype.setItemsState=function(s,c,m){var R=this,K=s.getItems();Object(i.j)(K,function(ht){ht.name===c&&R.setItemState(s,ht,m)})},f.prototype.setItemState=function(s,c,m){s.setItemState(c,this.stateName,m)},f.prototype.setState=function(){this.setStateEnable(!0)},f.prototype.reset=function(){this.setStateEnable(!1)},f.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,m=s.item,R=this.hasState(c,m);this.setItemState(c,m,!R)}},f.prototype.clear=function(){var s=this.getTriggerListInfo();s?s.list.clearItemsState(this.stateName):this.clearAllComponentsState()},f}(Qn),er=Fe,ir=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="active",s}return f.prototype.active=function(){this.setState()},f}(er),Ve=ir,Ge="inactive",Je="active";function Me(v){var f=v.getItems();Object(i.j)(f,function(s){v.hasState(s,Je)&&v.setItemState(s,Je,!1),v.hasState(s,Ge)&&v.setItemState(s,Ge,!1)})}var Re="inactive",pe="active",qe=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName=pe,s.ignoreItemStates=["unchecked"],s}return f.prototype.setItemsState=function(s,c,m){this.setHighlightBy(s,function(R){return R.name===c},m)},f.prototype.setItemState=function(s,c,m){var R=s.getItems();this.setHighlightBy(s,function(K){return K===c},m)},f.prototype.setHighlightBy=function(s,c,m){var R=s.getItems();if(m)Object(i.j)(R,function(Tt){c(Tt)?(s.hasState(Tt,Re)&&s.setItemState(Tt,Re,!1),s.setItemState(Tt,pe,!0)):s.hasState(Tt,pe)||s.setItemState(Tt,Re,!0)});else{var K=s.getItemsByState(pe),ht=!0;Object(i.j)(K,function(Tt){if(!c(Tt))return ht=!1,!1}),ht?this.clear():Object(i.j)(R,function(Tt){c(Tt)&&(s.hasState(Tt,pe)&&s.setItemState(Tt,pe,!1),s.setItemState(Tt,Re,!0))})}},f.prototype.highlight=function(){this.setState()},f.prototype.clear=function(){var s=this.getTriggerListInfo();if(s)Me(s.list);else{var c=this.getAllowComponents();Object(i.j)(c,function(m){m.clearItemsState(pe),m.clearItemsState(Re)})}},f}(er),lr=qe,jr=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="selected",s}return f.prototype.selected=function(){this.setState()},f}(er),Rr=jr,Mr=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName="unchecked",s}return f.prototype.unchecked=function(){this.setState()},f}(er),_r=Mr,wn="unchecked",kn="checked",jn=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.stateName=kn,s}return f.prototype.setItemState=function(s,c,m){this.setCheckedBy(s,function(R){return R===c},m)},f.prototype.setCheckedBy=function(s,c,m){var R=s.getItems();m&&Object(i.j)(R,function(K){c(K)?(s.hasState(K,wn)&&s.setItemState(K,wn,!1),s.setItemState(K,kn,!0)):s.hasState(K,kn)||s.setItemState(K,wn,!0)})},f.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,m=s.item,R=!Object(i.kb)(c.getItems(),function(K){return c.hasState(K,wn)});R||c.hasState(m,wn)?this.setItemState(c,m,!0):this.reset()}},f.prototype.checked=function(){this.setState()},f.prototype.reset=function(){var s=this.getAllowComponents();Object(i.j)(s,function(c){c.clearItemsState(kn),c.clearItemsState(wn)})},f}(er),en=jn,ya=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.maskShape=null,s.points=[],s.starting=!1,s.moving=!1,s.preMovePoint=null,s.shapeType="path",s}return f.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},f.prototype.emitEvent=function(s){var c="mask:"+s,m=this.context.view,R=this.context.event;m.emit(c,{target:this.maskShape,shape:this.maskShape,points:this.points,x:R.x,y:R.y})},f.prototype.createMask=function(){var s=this.context.view,c=this.getMaskAttrs(),m=s.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(h.a)({fill:"#C5D4EB",opacity:.3},c)});return m},f.prototype.getMaskPath=function(){return[]},f.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},f.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},f.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},f.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var s=this.getCurrentPoint(),c=this.preMovePoint,m=s.x-c.x,R=s.y-c.y,K=this.points;Object(i.j)(K,function(ht){ht.x+=m,ht.y+=R}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=s}},f.prototype.updateMask=function(){var s=this.getMaskAttrs();this.maskShape.attr(s)},f.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},f.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},f.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},f.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},f.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,v.prototype.destroy.call(this)},f}(Qn),Ga=ya,Ri=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.shapeType="circle",s}return f.prototype.getMaskAttrs=function(){var s=this.points,c=Object(i.S)(this.points),m=0,R=0,K=0;if(s.length){var ht=s[0];m=Uo(ht,c)/2,R=(c.x+ht.x)/2,K=(c.y+ht.y)/2}return{x:R,y:K,r:m}},f}(Ga),jo=Ri,Ef=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.shapeType="rect",s}return f.prototype.getRegion=function(){var s=this.points;return{start:Object(i.y)(s),end:Object(i.S)(s)}},f.prototype.getMaskAttrs=function(){var s=this.getRegion(),c=s.start,m=s.end,R=Math.min(c.x,m.x),K=Math.min(c.y,m.y),ht=Math.abs(m.x-c.x),Tt=Math.abs(m.y-c.y);return{x:R,y:K,width:ht,height:Tt}},f}(Ga),Ko=Ef;function Mf(v){v.x=Object(i.c)(v.x,0,1),v.y=Object(i.c)(v.y,0,1)}var vs=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.dim="x",s.inPlot=!0,s}return f.prototype.getRegion=function(){var s=null,c=null,m=this.points,R=this.dim,K=this.context.view.getCoordinate(),ht=K.invert(Object(i.y)(m)),Tt=K.invert(Object(i.S)(m));return this.inPlot&&(Mf(ht),Mf(Tt)),R==="x"?(s=K.convert({x:ht.x,y:0}),c=K.convert({x:Tt.x,y:1})):(s=K.convert({x:0,y:ht.y}),c=K.convert({x:1,y:Tt.y})),{start:s,end:c}},f}(Ko),xc=vs,Iv=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getMaskPath=function(){var s=this.points,c=[];return s.length&&(Object(i.j)(s,function(m,R){R===0?c.push(["M",m.x,m.y]):c.push(["L",m.x,m.y])}),c.push(["L",s[0].x,s[0].y])),c},f.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},f.prototype.addPoint=function(){this.resize()},f}(Ga),kd=Iv,Pv=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.getMaskPath=function(){var s=this.points;return Mo(s,!0)},f}(kd),Dv=Pv,jv=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.setCursor=function(s){var c=this.context.view;c.getCanvas().setCursor(s)},f.prototype.default=function(){this.setCursor("default")},f.prototype.pointer=function(){this.setCursor("pointer")},f.prototype.move=function(){this.setCursor("move")},f.prototype.crosshair=function(){this.setCursor("crosshair")},f.prototype.wait=function(){this.setCursor("wait")},f.prototype.help=function(){this.setCursor("help")},f.prototype.text=function(){this.setCursor("text")},f.prototype.eResize=function(){this.setCursor("e-resize")},f.prototype.wResize=function(){this.setCursor("w-resize")},f.prototype.nResize=function(){this.setCursor("n-resize")},f.prototype.sResize=function(){this.setCursor("s-resize")},f.prototype.neResize=function(){this.setCursor("ne-resize")},f.prototype.nwResize=function(){this.setCursor("nw-resize")},f.prototype.seResize=function(){this.setCursor("se-resize")},f.prototype.swResize=function(){this.setCursor("sw-resize")},f.prototype.nsResize=function(){this.setCursor("ns-resize")},f.prototype.ewResize=function(){this.setCursor("ew-resize")},f}(Qn),Lv=jv,oa=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.filterView=function(s,c,m){var R=this;s.getScaleByField(c)&&s.filter(c,m),s.views&&s.views.length&&Object(i.j)(s.views,function(K){R.filterView(K,c,m)})},f.prototype.filter=function(){var s=ji(this.context);if(s){var c=this.context.view,m=s.component,R=m.get("field");if(uo(s)){if(R){var K=m.getItemsByState("unchecked"),ht=Bo(c,R),Tt=K.map(function(te){return te.name});Tt.length?this.filterView(c,R,function(te){var re=ht.getText(te);return!Tt.includes(re)}):this.filterView(c,R,null),c.render(!0)}}else if(Wi(s)){var Bt=m.getValue(),Ht=Bt[0],$t=Bt[1];this.filterView(c,R,function(te){return te>=Ht&&te<=$t}),c.render(!0)}}},f}(Qn),Rv=oa;function Di(v,f,s,c){var m=Math.min(s[f],c[f]),R=Math.max(s[f],c[f]),K=v.range,ht=K[0],Tt=K[1];if(m<ht&&(m=ht),R>Tt&&(R=Tt),m===Tt&&R===Tt)return null;var Bt=v.invert(m),Ht=v.invert(R);if(v.isCategory){var $t=v.values.indexOf(Bt),te=v.values.indexOf(Ht),re=v.values.slice($t,te+1);return function(ve){return re.includes(ve)}}else return function(ve){return ve>=Bt&&ve<=Ht}}var wv=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.dims=["x","y"],s.startPoint=null,s.isStarted=!1,s}return f.prototype.hasDim=function(s){return this.dims.includes(s)},f.prototype.start=function(){var s=this.context;this.isStarted=!0,this.startPoint=s.getCurrentPoint()},f.prototype.filter=function(){var s,c;if(ge(this.context)){var m=this.context.event.target,R=m.getCanvasBBox();s={x:R.x,y:R.y},c={x:R.maxX,y:R.maxY}}else{if(!this.isStarted)return;s=this.startPoint,c=this.context.getCurrentPoint()}if(!(Math.abs(s.x-c.x)<5||Math.abs(s.x-c.y)<5)){var K=this.context.view,ht=K.getCoordinate(),Tt=ht.invert(c),Bt=ht.invert(s);if(this.hasDim("x")){var Ht=K.getXScale(),$t=Di(Ht,"x",Tt,Bt);this.filterView(K,Ht.field,$t)}if(this.hasDim("y")){var te=K.getYScales()[0],$t=Di(te,"y",Tt,Bt);this.filterView(K,te.field,$t)}this.reRender(K)}},f.prototype.end=function(){this.isStarted=!1},f.prototype.reset=function(){var s=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var c=s.getXScale();this.filterView(s,c.field,null)}if(this.hasDim("y")){var m=s.getYScales()[0];this.filterView(s,m.field,null)}this.reRender(s)},f.prototype.filterView=function(s,c,m){s.filter(c,m)},f.prototype.reRender=function(s){s.render(!0)},f}(Qn),Qa=wv,Bv=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.filterView=function(s,c,m){var R=go(s);Object(i.j)(R,function(K){K.filter(c,m)})},f.prototype.reRender=function(s){var c=go(s);Object(i.j)(c,function(m){m.render(!0)})},f}(Qa),qa=Bv,Nv=function(v){Object(h.c)(f,v);function f(){return v!==null&&v.apply(this,arguments)||this}return f.prototype.filter=function(){var s=ji(this.context),c=this.context.view,m=Xa(c);if(ge(this.context)){var R=Ki(this.context,10);R&&Object(i.j)(m,function(ve){R.includes(ve)?ve.show():ve.hide()})}else if(s){var K=s.component,ht=K.get("field");if(uo(s)){if(ht){var Tt=K.getItemsByState("unchecked"),Bt=Bo(c,ht),Ht=Tt.map(function(ve){return ve.name});Object(i.j)(m,function(ve){var me=Hi(ve,ht),_e=Bt.getText(me);Ht.indexOf(_e)>=0?ve.hide():ve.show()})}}else if(Wi(s)){var $t=K.getValue(),te=$t[0],re=$t[1];Object(i.j)(m,function(ve){var me=Hi(ve,ht);me>=te&&me<=re?ve.show():ve.hide()})}}},f.prototype.clear=function(){var s=Xa(this.context.view);Object(i.j)(s,function(c){c.show()})},f.prototype.reset=function(){this.clear()},f}(Qn),wi=Nv,Eg=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.byRecord=!1,s}return f.prototype.filter=function(){ge(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},f.prototype.filterByRecord=function(){var s=this.context.view,c=Ki(this.context,10);if(!!c){var m=s.getXScale().field,R=s.getYScales()[0].field,K=c.map(function(Tt){return Tt.getModel().data}),ht=go(s);Object(i.j)(ht,function(Tt){var Bt=Xa(Tt);Object(i.j)(Bt,function(Ht){var $t=Ht.getModel().data;xs(K,$t,m,R)?Ht.show():Ht.hide()})})}},f.prototype.filterByBBox=function(){var s=this,c=this.context.view,m=go(c);Object(i.j)(m,function(R){var K=qn(s.context,R,10),ht=Xa(R);K&&Object(i.j)(ht,function(Tt){K.includes(Tt)?Tt.show():Tt.hide()})})},f.prototype.reset=function(){var s=go(this.context.view);Object(i.j)(s,function(c){var m=Xa(c);Object(i.j)(m,function(R){R.show()})})},f}(Qn),Ae=Eg,da=10,id=5,bl=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.buttonGroup=null,s.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},s}return f.prototype.getButtonCfg=function(){return Object(i.h)(this.buttonCfg,this.cfg)},f.prototype.drawButton=function(){var s=this.getButtonCfg(),c=this.context.view.foregroundGroup.addGroup({name:s.name}),m=c.addShape({type:"text",name:"button-text",attrs:Object(h.a)({text:s.text},s.textStyle)}),R=m.getBBox(),K=je(s.padding),ht=c.addShape({type:"rect",name:"button-rect",attrs:Object(h.a)({x:R.x-K[3],y:R.y-K[0],width:R.width+K[1]+K[3],height:R.height+K[0]+K[2]},s.style)});ht.toBack(),c.on("mouseenter",function(){ht.attr(s.activeStyle)}),c.on("mouseleave",function(){ht.attr(s.style)}),this.buttonGroup=c},f.prototype.resetPosition=function(){var s=this.context.view,c=s.getCoordinate(),m=c.convert({x:1,y:1}),R=this.buttonGroup,K=R.getBBox(),ht=X.a.transform(null,[["t",m.x-K.width-da,m.y+K.height+id]]);R.setMatrix(ht)},f.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},f.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},f.prototype.destroy=function(){var s=this.buttonGroup;s&&s.remove(),v.prototype.destroy.call(this)},f}(Qn),Ru=bl,Vd=4,Xd=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.starting=!1,s.dragStart=!1,s}return f.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},f.prototype.drag=function(){if(!!this.startPoint){var s=this.context.getCurrentPoint(),c=this.context.view,m=this.context.event;this.dragStart?c.emit("drag",{target:m.target,x:m.x,y:m.y}):Uo(s,this.startPoint)>Vd&&(c.emit("dragstart",{target:m.target,x:m.x,y:m.y}),this.dragStart=!0)}},f.prototype.end=function(){if(this.dragStart){var s=this.context.view,c=this.context.event;s.emit("dragend",{target:c.target,x:c.x,y:c.y})}this.starting=!1,this.dragStart=!1},f}(Qn),Hd=Xd,Yd=5,od=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.starting=!1,s.isMoving=!1,s.startPoint=null,s.startMatrix=null,s}return f.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},f.prototype.move=function(){if(!!this.starting){var s=this.startPoint,c=this.context.getCurrentPoint(),m=Uo(s,c);if(m>Yd&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var R=this.context.view,K=X.a.transform(this.startMatrix,[["t",c.x-s.x,c.y-s.y]]);R.backgroundGroup.setMatrix(K),R.foregroundGroup.setMatrix(K),R.middleGroup.setMatrix(K)}}},f.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},f.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var s=this.context.view;s.backgroundGroup.resetMatrix(),s.foregroundGroup.resetMatrix(),s.middleGroup.resetMatrix(),this.isMoving=!1},f}(Qn),Kd=od,sd="x",ld="y",Ei=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.dims=[sd,ld],s.cfgFields=["dims"],s.cacheScaleDefs={},s}return f.prototype.hasDim=function(s){return this.dims.includes(s)},f.prototype.getScale=function(s){var c=this.context.view;return s==="x"?c.getXScale():c.getYScales()[0]},f.prototype.resetDim=function(s){var c=this.context.view;if(this.hasDim(s)&&this.cacheScaleDefs[s]){var m=this.getScale(s);c.scale(m.field,this.cacheScaleDefs[s]),this.cacheScaleDefs[s]=null}},f.prototype.reset=function(){this.resetDim(sd),this.resetDim(ld);var s=this.context.view;s.render(!0)},f}(Qn),Sf=Ei,wu=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.startPoint=null,s.starting=!1,s.startCache={},s}return f.prototype.start=function(){var s=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var c=this.dims;Object(i.j)(c,function(m){var R=s.getScale(m),K=R.min,ht=R.max,Tt=R.values;s.startCache[m]={min:K,max:ht,values:Tt}})},f.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},f.prototype.translate=function(){var s=this;if(!!this.starting){var c=this.startPoint,m=this.context.view.getCoordinate(),R=this.context.getCurrentPoint(),K=m.invert(c),ht=m.invert(R),Tt=ht.x-K.x,Bt=ht.y-K.y,Ht=this.context.view,$t=this.dims;Object(i.j)($t,function(te){s.translateDim(te,{x:Tt*-1,y:Bt*-1})}),Ht.render(!0)}},f.prototype.translateDim=function(s,c){if(this.hasDim(s)){var m=this.getScale(s);m.isLinear&&this.translateLinear(s,m,c)}},f.prototype.translateLinear=function(s,c,m){var R=this.context.view,K=this.startCache[s],ht=K.min,Tt=K.max,Bt=Tt-ht,Ht=m[s]*Bt;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:ht,max:Tt}),R.scale(c.field,{nice:!1,min:ht+Ht,max:Tt+Ht})},f.prototype.reset=function(){v.prototype.reset.call(this),this.startPoint=null,this.starting=!1},f}(Sf),Ol=wu,Zl=function(v){Object(h.c)(f,v);function f(){var s=v!==null&&v.apply(this,arguments)||this;return s.zoomRatio=.05,s}return f.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},f.prototype.zoom=function(s){var c=this,m=this.dims;Object(i.j)(m,function(R){c.zoomDim(R,s)}),this.context.view.render(!0)},f.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},f.prototype.zoomDim=function(s,c){if(this.hasDim(s)){var m=this.getScale(s);m.isLinear&&this.zoomLinear(s,m,c)}},f.prototype.zoomLinear=function(s,c,m){var R=this.context.view;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:c.min,max:c.max});var K=this.cacheScaleDefs[s],ht=K.max-K.min,Tt=c.min,Bt=c.max,Ht=m*ht,$t=Tt-Ht,te=Bt+Ht,re=te-$t,ve=re/ht;te>$t&&ve<100&&ve>.01&&R.scale(c.field,{nice:!1,min:Tt-Ht,max:Bt+Ht})},f}(Sf),Zd=Zl;Jn("dark",nr(qu)),z("canvas",tc),z("svg",Kc),ns("Polygon",Lr),ns("Interval",Ho),ns("Schema",af),ns("Path",_c),ns("Point",Qf),ns("Line",nf),ns("Area",yu),ns("Edge",Nl),ns("Heatmap",Xh),Xs("base",As),Xs("interval",Su),Xs("pie",qh),Xs("polar",vf),Co("overlap",Vl),Co("distribute",lc),Co("fixed-overlap",kl),Co("hide-overlap",Cu),Co("limit-in-shape",fc),Co("limit-in-canvas",ll),Co("limit-in-plot",pc),Co("pie-outer",cc),Co("adjust-color",Wd),Co("interval-adjust-position",zd),Co("interval-hide-overlap",ih),Co("point-adjust-position",vc),Co("pie-spider",Ds),Co("path-adjust-position",yf),ao("fade-in",Au),ao("fade-out",Hl),ao("grow-in-x",Pu),ao("grow-in-xy",so),ao("grow-in-y",lh),ao("scale-in-x",bf),ao("scale-in-y",rd),ao("wave-in",dh),ao("zoom-in",nd),ao("zoom-out",mc),ao("position-update",uh),ao("sector-path-update",hh),ao("path-in",vl),Da("rect",Yi),Da("mirror",Do),Da("list",vh),Da("matrix",gl),Da("circle",eo),Da("tree",Yl),br("axis",ad),br("legend",Vr),br("tooltip",su),br("annotation",yl),br("slider",Hr),br("scrollbar",gr),Cn("tooltip",Gn),Cn("sibling-tooltip",Nr),Cn("ellipsis-text",qr),Cn("element-active",Ca),Cn("element-single-active",xi),Cn("element-range-active",Li),Cn("element-highlight",no),Cn("element-highlight-by-x",Fa),Cn("element-highlight-by-color",zn),Cn("element-single-highlight",Te),Cn("element-range-highlight",yo),Cn("element-sibling-highlight",yo,{effectSiblings:!0,effectByRecord:!0}),Cn("element-selected",ca),Cn("element-single-selected",ue),Cn("element-range-selected",ur),Cn("element-link-by-color",Ma),Cn("active-region",On),Cn("list-active",Ve),Cn("list-selected",Rr),Cn("list-highlight",lr),Cn("list-unchecked",_r),Cn("list-checked",en),Cn("legend-item-highlight",lr,{componentNames:["legend"]}),Cn("axis-label-highlight",lr,{componentNames:["axis"]}),Cn("rect-mask",Ko),Cn("x-rect-mask",xc,{dim:"x"}),Cn("y-rect-mask",xc,{dim:"y"}),Cn("circle-mask",jo),Cn("path-mask",kd),Cn("smooth-path-mask",Dv),Cn("cursor",Lv),Cn("data-filter",Rv),Cn("brush",Qa),Cn("brush-x",Qa,{dims:["x"]}),Cn("brush-y",Qa,{dims:["y"]}),Cn("sibling-filter",qa),Cn("sibling-x-filter",qa),Cn("sibling-y-filter",qa),Cn("element-filter",wi),Cn("element-sibling-filter",Ae),Cn("element-sibling-filter-record",Ae,{byRecord:!0}),Cn("view-drag",Hd),Cn("view-move",Kd),Cn("scale-translate",Ol),Cn("scale-zoom",Zd),Cn("reset-button",Ru,{name:"reset-button",text:"reset"});function xl(v){return v.isInPlot()}xe("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),xe("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),xe("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),xe("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),xe("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),xe("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),xe("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),xe("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),xe("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),xe("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),xe("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),xe("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(f){return!f.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(f){return!f.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),xe("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:xl,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:xl,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:xl,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),xe("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),xe("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:xl,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:xl,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:xl,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),xe("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:xl,action:"path-mask:start"},{trigger:"mousedown",isEnable:xl,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),xe("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),xe("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),xe("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),xe("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),xe("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),xe("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function ud(v){return v.gEvent.preventDefault(),v.gEvent.originalEvent.deltaY>0}xe("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(f){return ud(f.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(f){return!ud(f.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),xe("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},AXeJ:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("RF2d"),O=a("d38q"),x=function(C){Object(h.c)(A,C);function A(S,M,b,g){var E=C.call(this,S,Object(i.b)({},g,M))||this;return E.type="g2-plot",E.defaultOptions=g,E.adaptor=b,E}return A.prototype.getDefaultOptions=function(){return this.defaultOptions},A.prototype.getSchemaAdaptor=function(){return this.adaptor},A}(O.b)},AaeU:function(Ut,L,a){var h=a("ql+n");Ut.exports=i;function i(O){var x={},C=[],A;function S(M){h.has(x,M)||(x[M]=!0,A.push(M),h.each(O.successors(M),S),h.each(O.predecessors(M),S))}return h.each(O.nodes(),function(M){A=[],S(M),A.length&&C.push(A)}),C}},AmsH:function(Ut,L){var a="\\ud800-\\udfff",h="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",O="\\u20d0-\\u20ff",x=h+i+O,C="\\ufe0e\\ufe0f",A="\\u200d",S=RegExp("["+A+a+x+C+"]");function M(b){return S.test(b)}Ut.exports=M},Aw3q:function(Ut,L){},B5uA:function(Ut,L,a){"use strict";a.d(L,"a",function(){return N});var h=a("J+IK"),i=a("d38q"),O=a("ggto"),x=a("RF2d"),C=a("OM6K");function A(I,G,W){var z=W.map(function(B){return B[G]}).filter(function(B){return B!==void 0}),w=z.length>0?Math.max.apply(Math,z):0,T=Math.abs(I)%360;return T?w*360/T:w}function S(I){var G=I.chart,W=I.options,z=W.barStyle,w=W.color,T=W.tooltip,B=W.colorField,V=W.type,$=W.xField,nt=W.yField,at=W.data,st=Object(x.q)(at,nt);G.data(st);var tt=Object(x.b)({},I,{options:{tooltip:T,seriesField:B,interval:{style:z,color:w,shape:V==="line"?"line":"intervel"},minColumnWidth:W.minBarWidth,maxColumnWidth:W.maxBarWidth,columnBackground:W.barBackground}});return Object(C.c)(tt),V==="line"&&Object(C.e)({chart:G,options:{xField:$,yField:nt,seriesField:B,point:{shape:"circle",color:w}}}),I}function M(I){var G,W=I.options,z=W.yField,w=W.maxAngle,T=W.data,B=Object(x.q)(T,z);return Object(x.e)(Object(O.f)((G={},G[z]={min:0,max:A(w,z,B)},G)))(I)}function b(I){var G=I.chart,W=I.options,z=W.radius,w=W.innerRadius,T=W.startAngle,B=W.endAngle;return G.coordinate({type:"polar",cfg:{radius:z,innerRadius:w,startAngle:T,endAngle:B}}).transpose(),I}function g(I){var G=I.chart,W=I.options,z=W.xField,w=W.xAxis;return G.axis(z,w),I}function E(I){var G=I.chart,W=I.options,z=W.label,w=W.yField,T=Object(x.c)(G,"interval");if(!z)T.label(!1);else{var B=z.callback,V=Object(h.e)(z,["callback"]);T.label({fields:[w],callback:B,cfg:Object(h.a)(Object(h.a)({},Object(x.u)(V)),{type:"polar"})})}return I}function D(I){return Object(x.e)(S,M,g,b,O.c,O.a,O.j,O.k,O.d,Object(O.b)(),E)(I)}var p=Object(x.b)({},i.b.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),N=function(I){Object(h.c)(G,I);function G(){var W=I!==null&&I.apply(this,arguments)||this;return W.type="radial-bar",W}return G.getDefaultOptions=function(){return p},G.prototype.changeData=function(W){this.updateOption({data:W}),M({chart:this.chart,options:this.options}),this.chart.changeData(W)},G.prototype.getDefaultOptions=function(){return G.getDefaultOptions()},G.prototype.getSchemaAdaptor=function(){return D},G}(i.b)},BF5W:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.createSensor=void 0;var h=i(a("5M8n"));function i(x){return x&&x.__esModule?x:{default:x}}var O=function(C){var A=void 0,S=[],M=(0,h.default)(function(){S.forEach(function(p){p(C)})}),b=function(){var N=new ResizeObserver(M);return N.observe(C),M(),N},g=function(N){A||(A=b()),S.indexOf(N)===-1&&S.push(N)},E=function(){A.disconnect(),S=[],A=void 0},D=function(N){var I=S.indexOf(N);I!==-1&&S.splice(I,1),S.length===0&&A&&E()};return{element:C,bind:g,destroy:E,unbind:D}};L.createSensor=O},BLox:function(Ut,L,a){(function(h,i){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var O;(function(x){(function(C){var A=typeof i=="object"?i:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),S=M(x);typeof A.Reflect=="undefined"?A.Reflect=x:S=M(A.Reflect,S),C(S);function M(b,g){return function(E,D){typeof b[E]!="function"&&Object.defineProperty(b,E,{configurable:!0,writable:!0,value:D}),g&&g(E,D)}}})(function(C){var A=Object.prototype.hasOwnProperty,S=typeof Symbol=="function",M=S&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",b=S&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",g=typeof Object.create=="function",E={__proto__:[]}instanceof Array,D=!g&&!E,p={create:g?function(){return wt(Object.create(null))}:E?function(){return wt({__proto__:null})}:function(){return wt({})},has:D?function(St,Dt){return A.call(St,Dt)}:function(St,Dt){return Dt in St},get:D?function(St,Dt){return A.call(St,Dt)?St[Dt]:void 0}:function(St,Dt){return St[Dt]}},N=Object.getPrototypeOf(Function),I=typeof h=="object"&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL==="true",G=!I&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:gt(),W=!I&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:_(),z=!I&&typeof WeakMap=="function"?WeakMap:yt(),w=new z;function T(St,Dt,Vt,Qt){if(ft(Vt)){if(!lt(St))throw new TypeError;if(!Ft(Dt))throw new TypeError;return et(St,Dt)}else{if(!lt(St))throw new TypeError;if(!Mt(Dt))throw new TypeError;if(!Mt(Qt)&&!ft(Qt)&&!dt(Qt))throw new TypeError;return dt(Qt)&&(Qt=void 0),Vt=vt(Vt),ct(St,Dt,Vt,Qt)}}C("decorate",T);function B(St,Dt){function Vt(Qt,ee){if(!Mt(Qt))throw new TypeError;if(!ft(ee)&&!Wt(ee))throw new TypeError;zt(St,Dt,Qt,ee)}return Vt}C("metadata",B);function V(St,Dt,Vt,Qt){if(!Mt(Vt))throw new TypeError;return ft(Qt)||(Qt=vt(Qt)),zt(St,Dt,Vt,Qt)}C("defineMetadata",V);function $(St,Dt,Vt){if(!Mt(Dt))throw new TypeError;return ft(Vt)||(Vt=vt(Vt)),Ot(St,Dt,Vt)}C("hasMetadata",$);function nt(St,Dt,Vt){if(!Mt(Dt))throw new TypeError;return ft(Vt)||(Vt=vt(Vt)),it(St,Dt,Vt)}C("hasOwnMetadata",nt);function at(St,Dt,Vt){if(!Mt(Dt))throw new TypeError;return ft(Vt)||(Vt=vt(Vt)),xt(St,Dt,Vt)}C("getMetadata",at);function st(St,Dt,Vt){if(!Mt(Dt))throw new TypeError;return ft(Vt)||(Vt=vt(Vt)),It(St,Dt,Vt)}C("getOwnMetadata",st);function tt(St,Dt){if(!Mt(St))throw new TypeError;return ft(Dt)||(Dt=vt(Dt)),Kt(St,Dt)}C("getMetadataKeys",tt);function Q(St,Dt){if(!Mt(St))throw new TypeError;return ft(Dt)||(Dt=vt(Dt)),Yt(St,Dt)}C("getOwnMetadataKeys",Q);function Z(St,Dt,Vt){if(!Mt(Dt))throw new TypeError;ft(Vt)||(Vt=vt(Vt));var Qt=mt(Dt,Vt,!1);if(ft(Qt)||!Qt.delete(St))return!1;if(Qt.size>0)return!0;var ee=w.get(Dt);return ee.delete(Vt),ee.size>0||w.delete(Dt),!0}C("deleteMetadata",Z);function et(St,Dt){for(var Vt=St.length-1;Vt>=0;--Vt){var Qt=St[Vt],ee=Qt(Dt);if(!ft(ee)&&!dt(ee)){if(!Ft(ee))throw new TypeError;Dt=ee}}return Dt}function ct(St,Dt,Vt,Qt){for(var ee=St.length-1;ee>=0;--ee){var se=St[ee],ye=se(Dt,Vt,Qt);if(!ft(ye)&&!dt(ye)){if(!Mt(ye))throw new TypeError;Qt=ye}}return Qt}function mt(St,Dt,Vt){var Qt=w.get(St);if(ft(Qt)){if(!Vt)return;Qt=new G,w.set(St,Qt)}var ee=Qt.get(Dt);if(ft(ee)){if(!Vt)return;ee=new G,Qt.set(Dt,ee)}return ee}function Ot(St,Dt,Vt){var Qt=it(St,Dt,Vt);if(Qt)return!0;var ee=q(Dt);return dt(ee)?!1:Ot(St,ee,Vt)}function it(St,Dt,Vt){var Qt=mt(Dt,Vt,!1);return ft(Qt)?!1:J(Qt.has(St))}function xt(St,Dt,Vt){var Qt=it(St,Dt,Vt);if(Qt)return It(St,Dt,Vt);var ee=q(Dt);if(!dt(ee))return xt(St,ee,Vt)}function It(St,Dt,Vt){var Qt=mt(Dt,Vt,!1);if(!ft(Qt))return Qt.get(St)}function zt(St,Dt,Vt,Qt){var ee=mt(Vt,Qt,!0);ee.set(St,Dt)}function Kt(St,Dt){var Vt=Yt(St,Dt),Qt=q(St);if(Qt===null)return Vt;var ee=Kt(Qt,Dt);if(ee.length<=0)return Vt;if(Vt.length<=0)return ee;for(var se=new W,ye=[],Ie=0,Be=Vt;Ie<Be.length;Ie++){var Ze=Be[Ie],we=se.has(Ze);we||(se.add(Ze),ye.push(Ze))}for(var We=0,Ke=ee;We<Ke.length;We++){var Ze=Ke[We],we=se.has(Ze);we||(se.add(Ze),ye.push(Ze))}return ye}function Yt(St,Dt){var Vt=[],Qt=mt(St,Dt,!1);if(ft(Qt))return Vt;for(var ee=Qt.keys(),se=jt(ee),ye=0;;){var Ie=U(se);if(!Ie)return Vt.length=ye,Vt;var Be=Y(Ie);try{Vt[ye]=Be}catch(Ze){try{j(se)}finally{throw Ze}}ye++}}function bt(St){if(St===null)return 1;switch(typeof St){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return St===null?1:6;default:return 6}}function ft(St){return St===void 0}function dt(St){return St===null}function ot(St){return typeof St=="symbol"}function Mt(St){return typeof St=="object"?St!==null:typeof St=="function"}function Nt(St,Dt){switch(bt(St)){case 0:return St;case 1:return St;case 2:return St;case 3:return St;case 4:return St;case 5:return St}var Vt=Dt===3?"string":Dt===5?"number":"default",Qt=kt(St,M);if(Qt!==void 0){var ee=Qt.call(St,Vt);if(Mt(ee))throw new TypeError;return ee}return Pt(St,Vt==="default"?"number":Vt)}function Pt(St,Dt){if(Dt==="string"){var Vt=St.toString;if(Ct(Vt)){var Qt=Vt.call(St);if(!Mt(Qt))return Qt}var ee=St.valueOf;if(Ct(ee)){var Qt=ee.call(St);if(!Mt(Qt))return Qt}}else{var ee=St.valueOf;if(Ct(ee)){var Qt=ee.call(St);if(!Mt(Qt))return Qt}var se=St.toString;if(Ct(se)){var Qt=se.call(St);if(!Mt(Qt))return Qt}}throw new TypeError}function J(St){return!!St}function X(St){return""+St}function vt(St){var Dt=Nt(St,3);return ot(Dt)?Dt:X(Dt)}function lt(St){return Array.isArray?Array.isArray(St):St instanceof Object?St instanceof Array:Object.prototype.toString.call(St)==="[object Array]"}function Ct(St){return typeof St=="function"}function Ft(St){return typeof St=="function"}function Wt(St){switch(bt(St)){case 3:return!0;case 4:return!0;default:return!1}}function kt(St,Dt){var Vt=St[Dt];if(Vt!=null){if(!Ct(Vt))throw new TypeError;return Vt}}function jt(St){var Dt=kt(St,b);if(!Ct(Dt))throw new TypeError;var Vt=Dt.call(St);if(!Mt(Vt))throw new TypeError;return Vt}function Y(St){return St.value}function U(St){var Dt=St.next();return Dt.done?!1:Dt}function j(St){var Dt=St.return;Dt&&Dt.call(St)}function q(St){var Dt=Object.getPrototypeOf(St);if(typeof St!="function"||St===N||Dt!==N)return Dt;var Vt=St.prototype,Qt=Vt&&Object.getPrototypeOf(Vt);if(Qt==null||Qt===Object.prototype)return Dt;var ee=Qt.constructor;return typeof ee!="function"||ee===St?Dt:ee}function gt(){var St={},Dt=[],Vt=function(){function ye(Ie,Be,Ze){this._index=0,this._keys=Ie,this._values=Be,this._selector=Ze}return ye.prototype["@@iterator"]=function(){return this},ye.prototype[b]=function(){return this},ye.prototype.next=function(){var Ie=this._index;if(Ie>=0&&Ie<this._keys.length){var Be=this._selector(this._keys[Ie],this._values[Ie]);return Ie+1>=this._keys.length?(this._index=-1,this._keys=Dt,this._values=Dt):this._index++,{value:Be,done:!1}}return{value:void 0,done:!0}},ye.prototype.throw=function(Ie){throw this._index>=0&&(this._index=-1,this._keys=Dt,this._values=Dt),Ie},ye.prototype.return=function(Ie){return this._index>=0&&(this._index=-1,this._keys=Dt,this._values=Dt),{value:Ie,done:!0}},ye}();return function(){function ye(){this._keys=[],this._values=[],this._cacheKey=St,this._cacheIndex=-2}return Object.defineProperty(ye.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ye.prototype.has=function(Ie){return this._find(Ie,!1)>=0},ye.prototype.get=function(Ie){var Be=this._find(Ie,!1);return Be>=0?this._values[Be]:void 0},ye.prototype.set=function(Ie,Be){var Ze=this._find(Ie,!0);return this._values[Ze]=Be,this},ye.prototype.delete=function(Ie){var Be=this._find(Ie,!1);if(Be>=0){for(var Ze=this._keys.length,we=Be+1;we<Ze;we++)this._keys[we-1]=this._keys[we],this._values[we-1]=this._values[we];return this._keys.length--,this._values.length--,Ie===this._cacheKey&&(this._cacheKey=St,this._cacheIndex=-2),!0}return!1},ye.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=St,this._cacheIndex=-2},ye.prototype.keys=function(){return new Vt(this._keys,this._values,Qt)},ye.prototype.values=function(){return new Vt(this._keys,this._values,ee)},ye.prototype.entries=function(){return new Vt(this._keys,this._values,se)},ye.prototype["@@iterator"]=function(){return this.entries()},ye.prototype[b]=function(){return this.entries()},ye.prototype._find=function(Ie,Be){return this._cacheKey!==Ie&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ie)),this._cacheIndex<0&&Be&&(this._cacheIndex=this._keys.length,this._keys.push(Ie),this._values.push(void 0)),this._cacheIndex},ye}();function Qt(ye,Ie){return ye}function ee(ye,Ie){return Ie}function se(ye,Ie){return[ye,Ie]}}function _(){return function(){function St(){this._map=new G}return Object.defineProperty(St.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),St.prototype.has=function(Dt){return this._map.has(Dt)},St.prototype.add=function(Dt){return this._map.set(Dt,Dt),this},St.prototype.delete=function(Dt){return this._map.delete(Dt)},St.prototype.clear=function(){this._map.clear()},St.prototype.keys=function(){return this._map.keys()},St.prototype.values=function(){return this._map.values()},St.prototype.entries=function(){return this._map.entries()},St.prototype["@@iterator"]=function(){return this.keys()},St.prototype[b]=function(){return this.keys()},St}()}function yt(){var St=16,Dt=p.create(),Vt=Qt();return function(){function Be(){this._key=Qt()}return Be.prototype.has=function(Ze){var we=ee(Ze,!1);return we!==void 0?p.has(we,this._key):!1},Be.prototype.get=function(Ze){var we=ee(Ze,!1);return we!==void 0?p.get(we,this._key):void 0},Be.prototype.set=function(Ze,we){var We=ee(Ze,!0);return We[this._key]=we,this},Be.prototype.delete=function(Ze){var we=ee(Ze,!1);return we!==void 0?delete we[this._key]:!1},Be.prototype.clear=function(){this._key=Qt()},Be}();function Qt(){var Be;do Be="@@WeakMap@@"+Ie();while(p.has(Dt,Be));return Dt[Be]=!0,Be}function ee(Be,Ze){if(!A.call(Be,Vt)){if(!Ze)return;Object.defineProperty(Be,Vt,{value:p.create()})}return Be[Vt]}function se(Be,Ze){for(var we=0;we<Ze;++we)Be[we]=Math.random()*255|0;return Be}function ye(Be){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Be)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Be)):se(new Uint8Array(Be),Be):se(new Array(Be),Be)}function Ie(){var Be=ye(St);Be[6]=Be[6]&79|64,Be[8]=Be[8]&191|128;for(var Ze="",we=0;we<St;++we){var We=Be[we];(we===4||we===6||we===8)&&(Ze+="-"),We<16&&(Ze+="0"),Ze+=We.toString(16).toLowerCase()}return Ze}}function wt(St){return St.__=void 0,delete St.__,St}})})(O||(O={}))}).call(this,a("7vYp"),a("+7+L"))},BSge:function(Ut,L,a){"use strict";a.d(L,"a",function(){return O}),a.d(L,"b",function(){return x});var h=a("oFJY"),i=a("SCaY");function O(C,A){A.forEach(function(S){S.draw(C)})}function x(C,A){var S=C.get("canvas");if(S&&S.get("autoDraw")){var M=S.get("context"),b=C.getParent(),g=b?b.getChildren():[S],E=C.get("el");if(A==="remove"){var D=C.get("isClipShape");if(D){var p=E&&E.parentNode,N=p&&p.parentNode;p&&N&&N.removeChild(p)}else E&&E.parentNode&&E.parentNode.removeChild(E)}else if(A==="show")E.setAttribute("visibility","visible");else if(A==="hide")E.setAttribute("visibility","hidden");else if(A==="zIndex")Object(i.c)(E,g.indexOf(C));else if(A==="sort"){var I=C.get("children");I&&I.length&&Object(i.d)(C,function(G,W){return I.indexOf(G)-I.indexOf(W)?1:0})}else A==="clear"?E&&(E.innerHTML=""):A==="matrix"?Object(h.c)(C):A==="clip"?Object(h.a)(C,M):A==="attr"||A==="add"&&C.draw(M)}}},BTaQ:function(Ut,L,a){Ut.exports=a("rBQE")},BbNA:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var h=Symbol.for("INJECTION");function i(S,M,b,g){function E(){return g&&!Reflect.hasMetadata(h,this,M)&&Reflect.defineMetadata(h,b(),this,M),Reflect.hasMetadata(h,this,M)?Reflect.getMetadata(h,this,M):b()}function D(p){Reflect.defineMetadata(h,p,this,M)}Object.defineProperty(S,M,{configurable:!0,enumerable:!0,get:E,set:D})}function O(S,M){return function(b){return function(g,E){var D=function(){return S.get(b)};i(g,E,D,M)}}}L.makePropertyInjectDecorator=O;function x(S,M){return function(b,g){return function(E,D){var p=function(){return S.getNamed(b,g)};i(E,D,p,M)}}}L.makePropertyInjectNamedDecorator=x;function C(S,M){return function(b,g,E){return function(D,p){var N=function(){return S.getTagged(b,g,E)};i(D,p,N,M)}}}L.makePropertyInjectTaggedDecorator=C;function A(S,M){return function(b){return function(g,E){var D=function(){return S.getAll(b)};i(g,E,D,M)}}}L.makePropertyMultiInjectDecorator=A},BgQB:function(Ut,L,a){"use strict";a.d(L,"a",function(){return ft});var h=a("xDaT"),i=a.n(h),O=a("SDju"),x=a.n(O),C=a("7XXI"),A=a.n(C),S=a("viI4"),M=a.n(S),b=a("Rspp"),g=a.n(b),E=a("2Asv"),D=a.n(E),p=a("PVp4"),N=a.n(p),I=a("e6Zy"),G=a("me+i"),W=a("XN3X"),z=function dt(){g()(this,dt),this.index=void 0},w=function dt(){g()(this,dt),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},T=function(){function dt(){g()(this,dt),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return D()(dt,[{key:"read",value:function(Mt){return this.reads.find(function(Nt){return Nt.index===Mt.index})||this.reads.push(Mt),Mt}},{key:"sample",value:function(Mt){return this.read(Mt),Mt}},{key:"write",value:function(Mt,Nt){var Pt=this.writes.find(function(lt){return lt.index===Nt.index});if(Pt)return Nt;var J=Mt.getResourceNode(Nt);J.resource.version++,J.resource.imported&&(this.hasSideEffect=!0);var X=Mt.createResourceNode(J.resource),vt=Mt.getResourceNode(X);return vt.writer=this,this.writes.push(X),X}}]),dt}(),B=a("xg7u"),V=a.n(B),$=a("Kiyl"),nt=a.n($),at=a("u3/Z"),st=a.n(at),tt=function dt(){g()(this,dt),this.first=void 0,this.last=void 0};function Q(dt){var ot=Z();return function(){var Nt=st()(dt),Pt;if(ot){var J=st()(this).constructor;Pt=Reflect.construct(Nt,arguments,J)}else Pt=Nt.apply(this,arguments);return nt()(this,Pt)}}function Z(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(dt){return!1}}var et=function(dt){V()(Mt,dt);var ot=Q(Mt);function Mt(){var Nt;g()(this,Mt);for(var Pt=arguments.length,J=new Array(Pt),X=0;X<Pt;X++)J[X]=arguments[X];return Nt=ot.call.apply(ot,[this].concat(J)),Nt.version=0,Nt.refs=0,Nt.name=void 0,Nt.imported=void 0,Nt.priority=void 0,Nt.discardStart=!0,Nt.discardEnd=!1,Nt.descriptor=void 0,Nt.resource=void 0,Nt}return D()(Mt,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){!this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){!this.imported}}]),Mt}(tt),ct=function dt(){g()(this,dt),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},mt,Ot,it,xt,It,zt;function Kt(dt,ot){var Mt;if(typeof Symbol=="undefined"||dt[Symbol.iterator]==null){if(Array.isArray(dt)||(Mt=Yt(dt))||ot&&dt&&typeof dt.length=="number"){Mt&&(dt=Mt);var Nt=0,Pt=function(){};return{s:Pt,n:function(){return Nt>=dt.length?{done:!0}:{done:!1,value:dt[Nt++]}},e:function(Ct){throw Ct},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J=!0,X=!1,vt;return{s:function(){Mt=dt[Symbol.iterator]()},n:function(){var Ct=Mt.next();return J=Ct.done,Ct},e:function(Ct){X=!0,vt=Ct},f:function(){try{!J&&Mt.return!=null&&Mt.return()}finally{if(X)throw vt}}}}function Yt(dt,ot){if(!!dt){if(typeof dt=="string")return bt(dt,ot);var Mt=Object.prototype.toString.call(dt).slice(8,-1);if(Mt==="Object"&&dt.constructor&&(Mt=dt.constructor.name),Mt==="Map"||Mt==="Set")return Array.from(dt);if(Mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mt))return bt(dt,ot)}}function bt(dt,ot){(ot==null||ot>dt.length)&&(ot=dt.length);for(var Mt=0,Nt=new Array(ot);Mt<ot;Mt++)Nt[Mt]=dt[Mt];return Nt}var ft=(mt=Object(G.injectable)(),Ot=Object(G.inject)(W.a.RenderEngine),mt(it=(xt=(zt=function(){function dt(){g()(this,dt),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],M()(this,"engine",It,this)}return D()(dt,[{key:"execute",value:function(){var ot=A()(x.a.mark(function Nt(Pt){return x.a.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return this.compile(),X.next=3,this.executePassNodes(Pt);case 3:case"end":return X.stop()}},Nt,this)}));function Mt(Nt){return ot.apply(this,arguments)}return Mt}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(Mt){Mt.tearDown&&Mt.tearDown()}),this.reset()}},{key:"addPass",value:function(Mt,Nt,Pt,J){var X=new w;X.execute=Pt,J&&(X.tearDown=J),X.name=Mt;var vt=new T;return vt.name=Mt,this.passNodes.push(vt),this.frameGraphPasses.push(X),Nt(this,vt,X),X}},{key:"getPass",value:function(Mt){return this.frameGraphPasses.find(function(Nt){return Nt.name===Mt})}},{key:"compile",value:function(){var Mt=this,Nt=Kt(this.passNodes),Pt;try{for(Nt.s();!(Pt=Nt.n()).done;){var J=Pt.value;J.refCount=J.writes.length+(J.hasSideEffect?1:0),J.reads.forEach(function(Ke){Mt.resourceNodes[Ke.index].readerCount++})}}catch(Ke){Nt.e(Ke)}finally{Nt.f()}var X=[],vt=Kt(this.resourceNodes),lt;try{for(vt.s();!(lt=vt.n()).done;){var Ct=lt.value;Ct.readerCount===0&&X.push(Ct)}}catch(Ke){vt.e(Ke)}finally{vt.f()}for(;X.length;){var Ft=X.pop(),Wt=Ft&&Ft.writer;if(Wt&&--Wt.refCount==0){var kt=Kt(Wt.reads),jt;try{for(kt.s();!(jt=kt.n()).done;){var Y=jt.value,U=this.resourceNodes[Y.index];--U.readerCount==0&&X.push(U)}}catch(Ke){kt.e(Ke)}finally{kt.f()}}}this.resourceNodes.forEach(function(Ke){Ke.resource.refs+=Ke.readerCount});var j=Kt(this.passNodes),q;try{for(j.s();!(q=j.n()).done;){var gt=q.value;if(!!gt.refCount){var _=Kt(gt.reads),yt;try{for(_.s();!(yt=_.n()).done;){var wt=yt.value,St=this.resourceNodes[wt.index].resource;St.first=St.first?St.first:gt,St.last=gt}}catch(Ke){_.e(Ke)}finally{_.f()}var Dt=Kt(gt.writes),Vt;try{for(Dt.s();!(Vt=Dt.n()).done;){var Qt=Vt.value,ee=this.resourceNodes[Qt.index].resource;ee.first=ee.first?ee.first:gt,ee.last=gt}}catch(Ke){Dt.e(Ke)}finally{Dt.f()}}}}catch(Ke){j.e(Ke)}finally{j.f()}for(var se=0;se<2;se++){var ye=Kt(this.resourceNodes),Ie;try{for(ye.s();!(Ie=ye.n()).done;){var Be=Ie.value,Ze=Be.resource;if(Ze.priority===se&&Ze.refs){var we=Ze.first,We=Ze.last;we&&We&&(we.devirtualize.push(Ze),We.destroy.push(Ze))}}}catch(Ke){ye.e(Ke)}finally{ye.f()}}}},{key:"executePassNodes",value:function(){var ot=A()(x.a.mark(function Nt(Pt){var J,X,vt,lt,Ct,Ft,Wt,kt,jt,Y,U,j,q,gt,_,yt,wt;return x.a.wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:J=Kt(this.passNodes.entries()),Dt.prev=1,J.s();case 3:if((X=J.n()).done){Dt.next=18;break}if(vt=i()(X.value,2),lt=vt[0],Ct=vt[1],!Ct.refCount){Dt.next=16;break}Ft=Kt(Ct.devirtualize);try{for(Ft.s();!(Wt=Ft.n()).done;)kt=Wt.value,kt.preExecuteDevirtualize(this.engine)}catch(Vt){Ft.e(Vt)}finally{Ft.f()}jt=Kt(Ct.destroy);try{for(jt.s();!(Y=jt.n()).done;)U=Y.value,U.preExecuteDestroy(this.engine)}catch(Vt){jt.e(Vt)}finally{jt.f()}return Dt.next=12,this.frameGraphPasses[lt].execute(this,this.frameGraphPasses[lt],Pt);case 12:j=Kt(Ct.devirtualize);try{for(j.s();!(q=j.n()).done;)gt=q.value,gt.postExecuteDevirtualize(this.engine)}catch(Vt){j.e(Vt)}finally{j.f()}_=Kt(Ct.destroy);try{for(_.s();!(yt=_.n()).done;)wt=yt.value,wt.postExecuteDestroy(this.engine)}catch(Vt){_.e(Vt)}finally{_.f()}case 16:Dt.next=3;break;case 18:Dt.next=23;break;case 20:Dt.prev=20,Dt.t0=Dt.catch(1),J.e(Dt.t0);case 23:return Dt.prev=23,J.f(),Dt.finish(23);case 26:this.reset();case 27:case"end":return Dt.stop()}},Nt,this,[[1,20,23,26]])}));function Mt(Nt){return ot.apply(this,arguments)}return Mt}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(Mt){return this.resourceNodes[Mt.index]}},{key:"createResourceNode",value:function(Mt){var Nt=new ct;Nt.resource=Mt,Nt.version=Mt.version,this.resourceNodes.push(Nt);var Pt=new z;return Pt.index=this.resourceNodes.length-1,Pt}},{key:"createTexture",value:function(Mt,Nt,Pt){var J=new et;return J.name=Nt,J.descriptor=Pt,this.createResourceNode(J)}},{key:"createRenderTarget",value:function(Mt,Nt,Pt){var J=new et;return J.name=Nt,J.descriptor=Pt,this.createResourceNode(J)}},{key:"present",value:function(Mt){this.addPass("Present",function(Nt,Pt){Pt.read(Mt),Pt.hasSideEffect=!0},A()(x.a.mark(function Nt(){return x.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:case"end":return J.stop()}},Nt)})))}}]),dt}(),zt),It=N()(xt.prototype,"engine",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt))||it)},CALi:function(Ut,L,a){"use strict";a.d(L,"b",function(){return M}),a.d(L,"a",function(){return b});var h=a("ggto"),i=a("RF2d"),O=a("OM6K"),x=a("HEgp"),C=a("N5bZ"),A=a("068J");function S(g){var E=g.chart,D=g.options,p=D.data,N=D.color,I=D.areaStyle,G=D.point,W=D.line,z=G==null?void 0:G.state,w=Object(C.a)(p);E.data(w);var T=Object(i.b)({},g,{options:{xField:x.c,yField:x.d,area:{color:N,style:I},line:W,point:G}}),B=Object(i.b)({},T,{options:{tooltip:!1}}),V=Object(i.b)({},T,{options:{tooltip:!1,state:z}});return Object(O.a)(T),Object(O.d)(B),Object(O.e)(V),E.axis(!1),E.legend(!1),g}function M(g){var E,D,p=g.options,N=p.xAxis,I=p.yAxis,G=p.data,W=Object(C.a)(G);return Object(i.e)(Object(h.f)((E={},E[x.c]=N,E[x.d]=I,E),(D={},D[x.c]={type:"cat"},D[x.d]=Object(A.a)(W,x.d),D)))(g)}function b(g){return Object(i.e)(S,M,h.k,h.j,h.a,Object(h.b)())(g)}},CG4S:function(Ut,L){var a="\\ud800-\\udfff",h="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",O="\\u20d0-\\u20ff",x=h+i+O,C="\\ufe0e\\ufe0f",A="["+a+"]",S="["+x+"]",M="\\ud83c[\\udffb-\\udfff]",b="(?:"+S+"|"+M+")",g="[^"+a+"]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",D="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",N=b+"?",I="["+C+"]?",G="(?:"+p+"(?:"+[g,E,D].join("|")+")"+I+N+")*",W=I+N+G,z="(?:"+[g+S+"?",S,E,D,A].join("|")+")",w=RegExp(M+"(?="+M+")|"+z+W,"g");function T(B){for(var V=w.lastIndex=0;w.test(B);)++V;return V}Ut.exports=T},COEK:function(Ut,L){Ut.exports=a;function a(h,i,O,x){var C=i[0],A=i[1];return h[0]=C+x*(O[0]-C),h[1]=A+x*(O[1]-A),h}},CURf:function(Ut,L,a){"use strict";a.d(L,"a",function(){return N});var h=a("Rspp"),i=a.n(h),O=a("WplE"),x=a.n(O),C=a("xg7u"),A=a.n(C),S=a("Kiyl"),M=a.n(S),b=a("u3/Z"),g=a.n(b),E=a("Hg9g");function D(I){var G=p();return function(){var z=g()(I),w;if(G){var T=g()(this).constructor;w=Reflect.construct(z,arguments,T)}else w=z.apply(this,arguments);return M()(this,w)}}function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(I){return!1}}var N=function(I){A()(W,I);var G=D(W);function W(z){var w;return i()(this,W),w=G.call(this,z),w.parentID=void 0,Object.assign(x()(w),z),w}return W}(E.a)},CjkR:function(Ut,L,a){"use strict";a.d(L,"a",function(){return x});var h=a("J+IK"),i=a("Fbv1"),O=a("vnfV");a.d(L,"b",function(){return i.b});function x(C){var A=C.chart,S=C.options,M=S.xField,b=S.yField,g=S.xAxis,E=S.yAxis,D=S.barStyle,p=S.barWidthRatio,N=S.label,I=S.data,G=S.seriesField,W=S.isStack,z=S.minBarWidth,w=S.maxBarWidth;N&&!N.position&&(N.position="left",N.layout||(N.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var T=S.legend;G?T!==!1&&(T=Object(h.a)({position:W?"top-left":"right-top",reversed:!W},T||{})):T=!1,C.options.legend=T;var B=S.tooltip;return G&&B!==!1&&(B=Object(h.a)({reversed:!W},B||{})),C.options.tooltip=B,A.coordinate().transpose(),Object(i.a)({chart:A,options:Object(h.a)(Object(h.a)({},S),{label:N,xField:b,yField:M,xAxis:E,yAxis:g,columnStyle:D,columnWidthRatio:p,minColumnWidth:z,maxColumnWidth:w,columnBackground:S.barBackground,data:Object(O.a)(I)})},!0)}},CyRS:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jsfD"),O=a("jg4I"),x=a("ozhX"),C=a("BSge"),A=a("oFJY"),S=a("0xlF"),M=a("SCaY"),b=function(g){Object(h.c)(E,g);function E(){return g!==null&&g.apply(this,arguments)||this}return E.prototype.isEntityGroup=function(){return!0},E.prototype.createDom=function(){var D=Object(M.b)("g");this.set("el",D);var p=this.getParent();if(p){var N=p.get("el");N||(N=p.createDom(),p.set("el",N)),N.appendChild(D)}return D},E.prototype.afterAttrsChange=function(D){g.prototype.afterAttrsChange.call(this,D);var p=this.get("canvas");if(p&&p.get("autoDraw")){var N=p.get("context");this.createPath(N,D)}},E.prototype.onCanvasChange=function(D){Object(C.b)(this,D)},E.prototype.getShapeBase=function(){return x},E.prototype.getGroupBase=function(){return E},E.prototype.draw=function(D){var p=this.getChildren(),N=this.get("el");this.get("destroyed")?N&&N.parentNode.removeChild(N):(N||this.createDom(),Object(A.a)(this,D),this.createPath(D),p.length&&Object(C.a)(D,p))},E.prototype.createPath=function(D,p){var N=this.attr(),I=this.get("el");Object(O.j)(p||N,function(G,W){S.b[W]&&I.setAttribute(S.b[W],G)}),Object(A.c)(this)},E}(i.AbstractGroup);L.a=b},DC1X:function(Ut,L,a){var h=a("E9DR");Ut.exports=i;function i(O,x){return h(O,x,"pre")}},DdnP:function(Ut,L,a){"use strict";a.d(L,"b",function(){return h}),a.d(L,"c",function(){return i}),a.d(L,"a",function(){return O});function h(x,C){var A=[],S=x[0],M=x[1],b=x[2],g=x[3],E=x[4],D=x[5],p=x[6],N=x[7],I=x[8],G=C[0],W=C[1],z=C[2],w=C[3],T=C[4],B=C[5],V=C[6],$=C[7],nt=C[8];return A[0]=G*S+W*g+z*p,A[1]=G*M+W*E+z*N,A[2]=G*b+W*D+z*I,A[3]=w*S+T*g+B*p,A[4]=w*M+T*E+B*N,A[5]=w*b+T*D+B*I,A[6]=V*S+$*g+nt*p,A[7]=V*M+$*E+nt*N,A[8]=V*b+$*D+nt*I,A}function i(x,C){var A=[],S=C[0],M=C[1];return A[0]=x[0]*S+x[3]*M+x[6],A[1]=x[1]*S+x[4]*M+x[7],A}function O(x){var C=[],A=x[0],S=x[1],M=x[2],b=x[3],g=x[4],E=x[5],D=x[6],p=x[7],N=x[8],I=N*g-E*p,G=-N*b+E*D,W=p*b-g*D,z=A*I+S*G+M*W;return z?(z=1/z,C[0]=I*z,C[1]=(-N*S+M*p)*z,C[2]=(E*S-M*g)*z,C[3]=G*z,C[4]=(N*A-M*D)*z,C[5]=(-E*A+M*b)*z,C[6]=W*z,C[7]=(-p*A+S*D)*z,C[8]=(g*A-S*b)*z,C):null}},DhYH:function(Ut,L,a){var h=a("ql+n"),i=a("mbOf");Ut.exports=x;var O=h.constant(1);function x(A,S,M,b){return C(A,String(S),M||O,b||function(g){return A.outEdges(g)})}function C(A,S,M,b){var g={},E=new i,D,p,N=function(G){var W=G.v!==D?G.v:G.w,z=g[W],w=M(G),T=p.distance+w;if(w<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+G+" Weight: "+w);T<z.distance&&(z.distance=T,z.predecessor=D,E.decrease(W,T))};for(A.nodes().forEach(function(I){var G=I===S?0:Number.POSITIVE_INFINITY;g[I]={distance:G},E.add(I,G)});E.size()>0&&(D=E.removeMin(),p=g[D],p.distance!==Number.POSITIVE_INFINITY);)b(D).forEach(N);return g}},E6Sp:function(Ut,L){},E9DR:function(Ut,L,a){var h=a("ql+n");Ut.exports=i;function i(x,C,A){h.isArray(C)||(C=[C]);var S=(x.isDirected()?x.successors:x.neighbors).bind(x),M=[],b={};return h.each(C,function(g){if(!x.hasNode(g))throw new Error("Graph does not have node: "+g);O(x,g,A==="post",b,S,M)}),M}function O(x,C,A,S,M,b){h.has(S,C)||(S[C]=!0,A||b.push(C),h.each(M(C),function(g){O(x,g,A,S,M,b)}),A&&b.push(C))}},ECvr:function(Ut,L,a){"use strict";a.d(L,"a",function(){return M});var h=a("AO+g"),i=a("J+IK"),O=a("jg4I"),x=a("OX44"),C=function(b){Object(i.c)(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getActiveElements=function(){var E=h.Util.getDelegationObject(this.context);if(E){var D=this.context.view,p=E.component,N=E.item,I=p.get("field");if(I){var G=D.geometries[0].elements;return G.filter(function(W){return W.getModel().data[I]===N.value})}}return[]},g.prototype.getActiveElementLabels=function(){var E=this.context.view,D=this.getActiveElements(),p=E.geometries[0].labelsContainer.getChildren();return p.filter(function(N){return D.find(function(I){return Object(O.G)(I.getData(),N.get("data"))})})},g.prototype.transfrom=function(E){E===void 0&&(E=7.5);var D=this.getActiveElements(),p=this.getActiveElementLabels();D.forEach(function(N,I){var G=p[I],W=N.geometry.coordinate;if(W.isPolar&&W.isTransposed){var z=h.Util.getAngle(N.getModel(),W),w=z.startAngle,T=z.endAngle,B=(w+T)/2,V=E,$=V*Math.cos(B),nt=V*Math.sin(B);N.shape.setMatrix(Object(x.a)([["t",$,nt]])),G.setMatrix(Object(x.a)([["t",$,nt]]))}})},g.prototype.active=function(){this.transfrom()},g.prototype.reset=function(){this.transfrom(0)},g}(h.Action),A=a("WxhE"),S=function(b){Object(i.c)(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getAnnotations=function(E){var D=E||this.context.view;return D.getController("annotation").option},g.prototype.getInitialAnnotation=function(){return this.initialAnnotation},g.prototype.init=function(){var E=this,D=this.context.view;D.removeInteraction("tooltip"),D.on("afterchangesize",function(){var p=E.getAnnotations(D);E.initialAnnotation=p})},g.prototype.change=function(E){var D=this.context,p=D.view,N=D.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var I=Object(O.s)(N,["data","data"]);if(N.type.match("legend-item")){var G=h.Util.getDelegationObject(this.context),W=p.getGroupedFields()[0];if(G&&W){var z=G.item;I=p.getData().find(function(B){return B[W]===z.value})}}if(I){var w=Object(O.s)(E,"annotations",[]),T=Object(O.s)(E,"statistic",{});p.getController("annotation").clear(!0),Object(O.j)(w,function(B){typeof B=="object"&&p.annotation()[B.type](B)}),Object(A.b)(p,{statistic:T,plotType:"pie"},I),p.render(!0)}},g.prototype.reset=function(){var E=this.context.view,D=E.getController("annotation");D.clear(!0);var p=this.getInitialAnnotation();Object(O.j)(p,function(N){E.annotation()[N.type](N)}),E.render(!0)},g}(h.Action),M="pie-statistic";Object(h.registerAction)(M,S),Object(h.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(h.registerAction)("pie-legend",C),Object(h.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},EEA3:function(Ut,L,a){(function(h,i){i(L)})(this,function(h){"use strict";function i(Q,Z){return O(Q)||x(Q,Z)||C()}function O(Q){if(Array.isArray(Q))return Q}function x(Q,Z){var et=[],ct=!0,mt=!1,Ot=void 0;try{for(var it=Q[Symbol.iterator](),xt;!(ct=(xt=it.next()).done)&&(et.push(xt.value),!(Z&&et.length===Z));ct=!0);}catch(It){mt=!0,Ot=It}finally{try{!ct&&it.return!=null&&it.return()}finally{if(mt)throw Ot}}return et}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function A(Q,Z,et,ct){Q=Q.filter(function(dt){var ot=Z(dt),Mt=et(dt);return ot!=null&&isFinite(ot)&&Mt!=null&&isFinite(Mt)}),ct&&Q.sort(function(dt,ot){return Z(dt)-Z(ot)});for(var mt=Q.length,Ot=new Float64Array(mt),it=new Float64Array(mt),xt=0,It=0,zt,Kt,Yt,bt=0;bt<mt;)Yt=Q[bt],Ot[bt]=zt=+Z(Yt),it[bt]=Kt=+et(Yt),++bt,xt+=(zt-xt)/bt,It+=(Kt-It)/bt;for(var ft=0;ft<mt;++ft)Ot[ft]-=xt,it[ft]-=It;return[Ot,it,xt,It]}function S(Q,Z,et,ct){for(var mt=0,Ot=0,it=Q.length;Ot<it;Ot++){var xt=Q[Ot],It=+Z(xt),zt=+et(xt);It!=null&&isFinite(It)&&zt!=null&&isFinite(zt)&&ct(It,zt,mt++)}}function M(Q,Z,et,ct,mt){var Ot=0,it=0;return S(Q,Z,et,function(xt,It){var zt=It-mt(xt),Kt=It-ct;Ot+=zt*zt,it+=Kt*Kt}),1-Ot/it}function b(Q){return Math.atan2(Q[1][1]-Q[0][1],Q[1][0]-Q[0][0])*180/Math.PI}function g(Q){return[(Q[0][0]+Q[1][0])/2,(Q[0][1]+Q[1][1])/2]}function E(Q,Z,et){for(var ct=Math.log(Z-Q)*Math.LOG10E+1|0,mt=1*Math.pow(10,-ct/2-1),Ot=1e4,it=[It(Q),It(Z)],xt=0;zt(it)&&xt<Ot;);return it;function It(Kt){return[Kt,et(Kt)]}function zt(Kt){xt++;for(var Yt=Kt.length,bt=!1,ft=0;ft<Yt-1;ft++){var dt=Kt[ft],ot=Kt[ft+1],Mt=g([dt,ot]),Nt=It(Mt[0]),Pt=b([dt,Mt]),J=b([dt,Nt]),X=Math.abs(Pt-J);X>mt&&(Kt.splice(ft+1,0,Nt),bt=!0)}return bt}}function D(Q,Z,et,ct){var mt=ct-Q*Q,Ot=Math.abs(mt)<1e-24?0:(et-Q*Z)/mt,it=Z-Ot*Q;return[it,Ot]}function p(){var Q=function(Ot){return Ot[0]},Z=function(Ot){return Ot[1]},et;function ct(mt){var Ot=0,it=0,xt=0,It=0,zt=0,Kt=0,Yt=et?+et[0]:Infinity,bt=et?+et[1]:-Infinity;S(mt,Q,Z,function(J,X){var vt=Math.log(X),lt=J*X;++Ot,it+=(X-it)/Ot,It+=(lt-It)/Ot,Kt+=(J*lt-Kt)/Ot,xt+=(X*vt-xt)/Ot,zt+=(lt*vt-zt)/Ot,et||(J<Yt&&(Yt=J),J>bt&&(bt=J))});var ft=D(It/it,xt/it,zt/it,Kt/it),dt=i(ft,2),ot=dt[0],Mt=dt[1];ot=Math.exp(ot);var Nt=function(X){return ot*Math.exp(Mt*X)},Pt=E(Yt,bt,Nt);return Pt.a=ot,Pt.b=Mt,Pt.predict=Nt,Pt.rSquared=M(mt,Q,Z,it,Nt),Pt}return ct.domain=function(mt){return arguments.length?(et=mt,ct):et},ct.x=function(mt){return arguments.length?(Q=mt,ct):Q},ct.y=function(mt){return arguments.length?(Z=mt,ct):Z},ct}function N(){var Q=function(Ot){return Ot[0]},Z=function(Ot){return Ot[1]},et;function ct(mt){var Ot=0,it=0,xt=0,It=0,zt=0,Kt=et?+et[0]:Infinity,Yt=et?+et[1]:-Infinity;S(mt,Q,Z,function(Pt,J){++Ot,it+=(Pt-it)/Ot,xt+=(J-xt)/Ot,It+=(Pt*J-It)/Ot,zt+=(Pt*Pt-zt)/Ot,et||(Pt<Kt&&(Kt=Pt),Pt>Yt&&(Yt=Pt))});var bt=D(it,xt,It,zt),ft=i(bt,2),dt=ft[0],ot=ft[1],Mt=function(J){return ot*J+dt},Nt=[[Kt,Mt(Kt)],[Yt,Mt(Yt)]];return Nt.a=ot,Nt.b=dt,Nt.predict=Mt,Nt.rSquared=M(mt,Q,Z,xt,Mt),Nt}return ct.domain=function(mt){return arguments.length?(et=mt,ct):et},ct.x=function(mt){return arguments.length?(Q=mt,ct):Q},ct.y=function(mt){return arguments.length?(Z=mt,ct):Z},ct}function I(Q){Q.sort(function(et,ct){return et-ct});var Z=Q.length/2;return Z%1==0?(Q[Z-1]+Q[Z])/2:Q[Math.floor(Z)]}var G=2,W=1e-12;function z(){var Q=function(Ot){return Ot[0]},Z=function(Ot){return Ot[1]},et=.3;function ct(mt){for(var Ot=A(mt,Q,Z,!0),it=i(Ot,4),xt=it[0],It=it[1],zt=it[2],Kt=it[3],Yt=xt.length,bt=Math.max(2,~~(et*Yt)),ft=new Float64Array(Yt),dt=new Float64Array(Yt),ot=new Float64Array(Yt).fill(1),Mt=-1;++Mt<=G;){for(var Nt=[0,bt-1],Pt=0;Pt<Yt;++Pt){for(var J=xt[Pt],X=Nt[0],vt=Nt[1],lt=J-xt[X]>xt[vt]-J?X:vt,Ct=0,Ft=0,Wt=0,kt=0,jt=0,Y=1/Math.abs(xt[lt]-J||1),U=X;U<=vt;++U){var j=xt[U],q=It[U],gt=w(Math.abs(J-j)*Y)*ot[U],_=j*gt;Ct+=gt,Ft+=_,Wt+=q*gt,kt+=q*_,jt+=j*_}var yt=D(Ft/Ct,Wt/Ct,kt/Ct,jt/Ct),wt=i(yt,2),St=wt[0],Dt=wt[1];ft[Pt]=St+Dt*J,dt[Pt]=Math.abs(It[Pt]-ft[Pt]),T(xt,Pt+1,Nt)}if(Mt===G)break;var Vt=I(dt);if(Math.abs(Vt)<W)break;for(var Qt=0,ee,se;Qt<Yt;++Qt)ee=dt[Qt]/(6*Vt),ot[Qt]=ee>=1?W:(se=1-ee*ee)*se}return B(xt,ft,zt,Kt)}return ct.bandwidth=function(mt){return arguments.length?(et=mt,ct):et},ct.x=function(mt){return arguments.length?(Q=mt,ct):Q},ct.y=function(mt){return arguments.length?(Z=mt,ct):Z},ct}function w(Q){return(Q=1-Q*Q*Q)*Q*Q}function T(Q,Z,et){var ct=Q[Z],mt=et[0],Ot=et[1]+1;if(!(Ot>=Q.length))for(;Z>mt&&Q[Ot]-ct<=ct-Q[mt];)et[0]=++mt,et[1]=Ot,++Ot}function B(Q,Z,et,ct){for(var mt=Q.length,Ot=[],it=0,xt=0,It=[],zt;it<mt;++it)zt=Q[it]+et,It[0]===zt?It[1]+=(Z[it]-It[1])/++xt:(xt=0,It[1]+=ct,It=[zt,Z[it]],Ot.push(It));return It[1]+=ct,Ot}function V(){var Q=function(it){return it[0]},Z=function(it){return it[1]},et=Math.E,ct;function mt(Ot){var it=0,xt=0,It=0,zt=0,Kt=0,Yt=ct?+ct[0]:Infinity,bt=ct?+ct[1]:-Infinity,ft=Math.log(et);S(Ot,Q,Z,function(X,vt){var lt=Math.log(X)/ft;++it,xt+=(lt-xt)/it,It+=(vt-It)/it,zt+=(lt*vt-zt)/it,Kt+=(lt*lt-Kt)/it,ct||(X<Yt&&(Yt=X),X>bt&&(bt=X))});var dt=D(xt,It,zt,Kt),ot=i(dt,2),Mt=ot[0],Nt=ot[1],Pt=function(vt){return Nt*Math.log(vt)/ft+Mt},J=E(Yt,bt,Pt);return J.a=Nt,J.b=Mt,J.predict=Pt,J.rSquared=M(Ot,Q,Z,It,Pt),J}return mt.domain=function(Ot){return arguments.length?(ct=Ot,mt):ct},mt.x=function(Ot){return arguments.length?(Q=Ot,mt):Q},mt.y=function(Ot){return arguments.length?(Z=Ot,mt):Z},mt.base=function(Ot){return arguments.length?(et=Ot,mt):et},mt}function $(){var Q=function(Ot){return Ot[0]},Z=function(Ot){return Ot[1]},et;function ct(mt){var Ot=A(mt,Q,Z),it=i(Ot,4),xt=it[0],It=it[1],zt=it[2],Kt=it[3],Yt=xt.length,bt=0,ft=0,dt=0,ot=0,Mt=0,Nt,Pt,J,X;for(Nt=0;Nt<Yt;)Pt=xt[Nt],J=It[Nt++],X=Pt*Pt,bt+=(X-bt)/Nt,ft+=(X*Pt-ft)/Nt,dt+=(X*X-dt)/Nt,ot+=(Pt*J-ot)/Nt,Mt+=(X*J-Mt)/Nt;var vt=0,lt=0,Ct=et?+et[0]:Infinity,Ft=et?+et[1]:-Infinity;S(mt,Q,Z,function(gt,_){lt++,vt+=(_-vt)/lt,et||(gt<Ct&&(Ct=gt),gt>Ft&&(Ft=gt))});var Wt=dt-bt*bt,kt=bt*Wt-ft*ft,jt=(Mt*bt-ot*ft)/kt,Y=(ot*Wt-Mt*ft)/kt,U=-jt*bt,j=function(_){return _=_-zt,jt*_*_+Y*_+U+Kt},q=E(Ct,Ft,j);return q.a=jt,q.b=Y-2*jt*zt,q.c=U-Y*zt+jt*zt*zt+Kt,q.predict=j,q.rSquared=M(mt,Q,Z,vt,j),q}return ct.domain=function(mt){return arguments.length?(et=mt,ct):et},ct.x=function(mt){return arguments.length?(Q=mt,ct):Q},ct.y=function(mt){return arguments.length?(Z=mt,ct):Z},ct}function nt(){var Q=function(it){return it[0]},Z=function(it){return it[1]},et=3,ct;function mt(Ot){if(et===1){var it=N().x(Q).y(Z).domain(ct)(Ot);return it.coefficients=[it.b,it.a],delete it.a,delete it.b,it}if(et===2){var xt=$().x(Q).y(Z).domain(ct)(Ot);return xt.coefficients=[xt.c,xt.b,xt.a],delete xt.a,delete xt.b,delete xt.c,xt}var It=A(Ot,Q,Z),zt=i(It,4),Kt=zt[0],Yt=zt[1],bt=zt[2],ft=zt[3],dt=Kt.length,ot=[],Mt=[],Nt=et+1,Pt=0,J=0,X=ct?+ct[0]:Infinity,vt=ct?+ct[1]:-Infinity;S(Ot,Q,Z,function(j,q){++J,Pt+=(q-Pt)/J,ct||(j<X&&(X=j),j>vt&&(vt=j))});var lt,Ct,Ft,Wt,kt;for(lt=0;lt<Nt;++lt){for(Ft=0,Wt=0;Ft<dt;++Ft)Wt+=Math.pow(Kt[Ft],lt)*Yt[Ft];for(ot.push(Wt),kt=new Float64Array(Nt),Ct=0;Ct<Nt;++Ct){for(Ft=0,Wt=0;Ft<dt;++Ft)Wt+=Math.pow(Kt[Ft],lt+Ct);kt[Ct]=Wt}Mt.push(kt)}Mt.push(ot);var jt=st(Mt),Y=function(q){q-=bt;var gt=ft+jt[0]+jt[1]*q+jt[2]*q*q;for(lt=3;lt<Nt;++lt)gt+=jt[lt]*Math.pow(q,lt);return gt},U=E(X,vt,Y);return U.coefficients=at(Nt,jt,-bt,ft),U.predict=Y,U.rSquared=M(Ot,Q,Z,Pt,Y),U}return mt.domain=function(Ot){return arguments.length?(ct=Ot,mt):ct},mt.x=function(Ot){return arguments.length?(Q=Ot,mt):Q},mt.y=function(Ot){return arguments.length?(Z=Ot,mt):Z},mt.order=function(Ot){return arguments.length?(et=Ot,mt):et},mt}function at(Q,Z,et,ct){var mt=Array(Q),Ot,it,xt,It;for(Ot=0;Ot<Q;++Ot)mt[Ot]=0;for(Ot=Q-1;Ot>=0;--Ot)for(xt=Z[Ot],It=1,mt[Ot]+=xt,it=1;it<=Ot;++it)It*=(Ot+1-it)/it,mt[Ot-it]+=xt*Math.pow(et,it)*It;return mt[0]+=ct,mt}function st(Q){var Z=Q.length-1,et=[],ct,mt,Ot,it,xt;for(ct=0;ct<Z;++ct){for(it=ct,mt=ct+1;mt<Z;++mt)Math.abs(Q[ct][mt])>Math.abs(Q[ct][it])&&(it=mt);for(Ot=ct;Ot<Z+1;++Ot)xt=Q[Ot][ct],Q[Ot][ct]=Q[Ot][it],Q[Ot][it]=xt;for(mt=ct+1;mt<Z;++mt)for(Ot=Z;Ot>=ct;Ot--)Q[Ot][mt]-=Q[Ot][ct]*Q[ct][mt]/Q[ct][ct]}for(mt=Z-1;mt>=0;--mt){for(xt=0,Ot=mt+1;Ot<Z;++Ot)xt+=Q[Ot][mt]*et[Ot];et[mt]=(Q[Z][mt]-xt)/Q[mt][mt]}return et}function tt(){var Q=function(Ot){return Ot[0]},Z=function(Ot){return Ot[1]},et;function ct(mt){var Ot=0,it=0,xt=0,It=0,zt=0,Kt=0,Yt=et?+et[0]:Infinity,bt=et?+et[1]:-Infinity;S(mt,Q,Z,function(J,X){var vt=Math.log(J),lt=Math.log(X);++Ot,it+=(vt-it)/Ot,xt+=(lt-xt)/Ot,It+=(vt*lt-It)/Ot,zt+=(vt*vt-zt)/Ot,Kt+=(X-Kt)/Ot,et||(J<Yt&&(Yt=J),J>bt&&(bt=J))});var ft=D(it,xt,It,zt),dt=i(ft,2),ot=dt[0],Mt=dt[1];ot=Math.exp(ot);var Nt=function(X){return ot*Math.pow(X,Mt)},Pt=E(Yt,bt,Nt);return Pt.a=ot,Pt.b=Mt,Pt.predict=Nt,Pt.rSquared=M(mt,Q,Z,Kt,Nt),Pt}return ct.domain=function(mt){return arguments.length?(et=mt,ct):et},ct.x=function(mt){return arguments.length?(Q=mt,ct):Q},ct.y=function(mt){return arguments.length?(Z=mt,ct):Z},ct}h.regressionExp=p,h.regressionLinear=N,h.regressionLoess=z,h.regressionLog=V,h.regressionPoly=nt,h.regressionPow=tt,h.regressionQuad=$,Object.defineProperty(h,"__esModule",{value:!0})})},EEYS:function(Ut,L,a){var h=a("ql+n");Ut.exports=i;function i(O){var x=0,C=[],A={},S=[];function M(b){var g=A[b]={onStack:!0,lowlink:x,index:x++};if(C.push(b),O.successors(b).forEach(function(p){h.has(A,p)?A[p].onStack&&(g.lowlink=Math.min(g.lowlink,A[p].index)):(M(p),g.lowlink=Math.min(g.lowlink,A[p].lowlink))}),g.lowlink===g.index){var E=[],D;do D=C.pop(),A[D].onStack=!1,E.push(D);while(b!==D);S.push(E)}}return O.nodes().forEach(function(b){h.has(A,b)||M(b)}),S}},EEvF:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jsfD"),O=a("2umH"),x=a("ERDx"),C=a("jg4I"),A=a("PZqk"),S=function(M){Object(h.c)(b,M);function b(){return M!==null&&M.apply(this,arguments)||this}return b.prototype.onCanvasChange=function(g){Object(x.h)(this,g)},b.prototype.getShapeBase=function(){return O},b.prototype.getGroupBase=function(){return b},b.prototype._applyClip=function(g,E){E&&(g.save(),Object(x.a)(g,E),E.createPath(g),g.restore(),g.clip(),E._afterDraw())},b.prototype.cacheCanvasBBox=function(){var g=this.cfg.children,E=[],D=[];Object(C.j)(g,function(T){var B=T.cfg.cacheCanvasBBox;B&&T.cfg.isInView&&(E.push(B.minX,B.maxX),D.push(B.minY,B.maxY))});var p=null;if(E.length){var N=Object(C.Z)(E),I=Object(C.W)(E),G=Object(C.Z)(D),W=Object(C.W)(D);p={minX:N,minY:G,x:N,y:G,maxX:I,maxY:W,width:I-N,height:W-G};var z=this.cfg.canvas;if(z){var w=z.getViewRange();this.set("isInView",Object(A.f)(p,w))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",p)},b.prototype.draw=function(g,E){var D=this.cfg.children,p=E?this.cfg.refresh:!0;D.length&&p&&(g.save(),Object(x.a)(g,this),this._applyClip(g,this.getClip()),Object(x.d)(g,D,E),g.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},b}(i.AbstractGroup);L.a=S},EP80:function(Ut,L,a){"use strict";a.d(L,"a",function(){return bt});var h=a("J+IK"),i=a("d38q"),O=a("jg4I"),x=a("7Y4W"),C=a("ggto"),A=a("c6wE"),S=a("RF2d"),M=a("ru7r"),b=a("MDvc"),g=a("Fbv1"),E=a("CjkR"),D=a("M4f1"),p=a("bLrI"),N=a("ynmA"),I=a("cnAf"),G=a("CALi"),W=a("4LAd"),z=a("cqdR"),w=a("9UY9"),T=a("JP7k"),B=a("Hcmt"),V=a("nbEI"),$=a("P7bb"),nt=a("K105"),at=a("uozB"),st=a("NqnP"),tt=a("lAK3"),Q=a("/whS"),Z=a("XqNA"),et={line:M.a,pie:b.a,column:g.a,bar:E.a,area:D.a,gauge:p.a,"tiny-line":N.a,"tiny-column":I.a,"tiny-area":G.a,"ring-progress":W.a,progress:z.a},ct={line:w.a,pie:T.a,column:V.a,bar:B.a,area:$.a,gauge:nt.a,"tiny-line":at.a,"tiny-column":tt.a,"tiny-area":st.a,"ring-progress":Q.a,progress:Z.a};function mt(ft,dt,ot){var Mt=ct[ft];if(!Mt){console.error("could not find "+ft+" plot");return}var Nt=et[ft];Nt({chart:dt,options:Object(S.b)({},Mt.getDefaultOptions(),ot)})}function Ot(ft){var dt=ft.chart,ot=ft.options,Mt=ot.views,Nt=ot.legend;return Object(O.j)(Mt,function(Pt){var J=Pt.region,X=Pt.data,vt=Pt.meta,lt=Pt.axes,Ct=Pt.coordinate,Ft=Pt.interactions,Wt=Pt.annotations,kt=Pt.tooltip,jt=Pt.geometries,Y=dt.createView({region:J});Y.data(X);var U={};lt&&Object(O.j)(lt,function(j,q){U[q]=Object(S.p)(j,A.a)}),U=Object(S.b)({},vt,U),Y.scale(U),lt?Object(O.j)(lt,function(j,q){Y.axis(q,j)}):Y.axis(!1),Y.coordinate(Ct),Object(O.j)(jt,function(j){var q=Object(x.a)({chart:Y,options:j}).ext,gt=j.adjust;gt&&q.geometry.adjust(gt)}),Object(O.j)(Ft,function(j){j.enable===!1?Y.removeInteraction(j.type):Y.interaction(j.type,j.cfg)}),Object(O.j)(Wt,function(j){Y.annotation()[j.type](Object(h.a)({},j))}),typeof Pt.animation=="boolean"?Y.animate(!1):(Y.animate(!0),Object(O.j)(Y.geometries,function(j){j.animate(Pt.animation)})),kt&&(Y.interaction("tooltip"),Y.tooltip(kt))}),Nt?Object(O.j)(Nt,function(Pt,J){dt.legend(J,Pt)}):dt.legend(!1),dt.tooltip(ot.tooltip),ft}function it(ft){var dt=ft.chart,ot=ft.options,Mt=ot.plots;return Object(O.j)(Mt,function(Nt){var Pt=Nt.type,J=Nt.region,X=Nt.options,vt=X===void 0?{}:X,lt=vt.tooltip,Ct=dt.createView(Object(h.a)({region:J},Object(S.p)(vt,i.a)));lt&&Ct.interaction("tooltip"),mt(Pt,Ct,vt)}),ft}function xt(ft){return Object(S.e)(C.a,Ot,it,C.c,C.a,C.j,C.k)(ft)}var It=a("AO+g");function zt(ft,dt){var ot=ft.getModel(),Mt=ot.data,Nt;return Object(O.B)(Mt)?Nt=Mt[0][dt]:Nt=Mt[dt],Nt}function Kt(ft){var dt=Object(S.f)(ft);Object(O.j)(dt,function(ot){ot.hasState("active")&&ot.setState("active",!1),ot.hasState("selected")&&ot.setState("selected",!1),ot.hasState("inactive")&&ot.setState("inactive",!1)})}var Yt=function(ft){Object(h.c)(dt,ft);function dt(){return ft!==null&&ft.apply(this,arguments)||this}return dt.prototype.getAssociationItems=function(ot,Mt){var Nt,Pt=this.context.event,J=Mt||{},X=J.linkField,vt=J.dim,lt=[];if((Nt=Pt.data)===null||Nt===void 0?void 0:Nt.data){var Ct=Pt.data.data;Object(O.j)(ot,function(Ft){var Wt,kt,jt=X;if(vt==="x"?jt=Ft.getXScale().field:vt==="y"?jt=(Wt=Ft.getYScales().find(function(U){return U.field===jt}))===null||Wt===void 0?void 0:Wt.field:jt||(jt=(kt=Ft.getGroupScales()[0])===null||kt===void 0?void 0:kt.field),!!jt){var Y=Object(O.U)(Object(S.f)(Ft),function(U){var j=!1,q=!1,gt=Object(O.B)(Ct)?Object(O.s)(Ct[0],jt):Object(O.s)(Ct,jt);return zt(U,jt)===gt?j=!0:q=!0,{element:U,view:Ft,active:j,inactive:q}});lt.push.apply(lt,Y)}})}return lt},dt.prototype.showTooltip=function(ot){var Mt=Object(S.i)(this.context.view),Nt=this.getAssociationItems(Mt,ot);Object(O.j)(Nt,function(Pt){if(Pt.active){var J=Pt.element.shape.getCanvasBBox();Pt.view.showTooltip({x:J.minX+J.width/2,y:J.minY+J.height/2})}})},dt.prototype.hideTooltip=function(){var ot=Object(S.i)(this.context.view);Object(O.j)(ot,function(Mt){Mt.hideTooltip()})},dt.prototype.active=function(ot){var Mt=Object(S.k)(this.context.view),Nt=this.getAssociationItems(Mt,ot);Object(O.j)(Nt,function(Pt){var J=Pt.active,X=Pt.element;J&&X.setState("active",!0)})},dt.prototype.selected=function(ot){var Mt=Object(S.k)(this.context.view),Nt=this.getAssociationItems(Mt,ot);Object(O.j)(Nt,function(Pt){var J=Pt.active,X=Pt.element;J&&X.setState("selected",!0)})},dt.prototype.highlight=function(ot){var Mt=Object(S.k)(this.context.view),Nt=this.getAssociationItems(Mt,ot);Object(O.j)(Nt,function(Pt){var J=Pt.inactive,X=Pt.element;J&&X.setState("inactive",!0)})},dt.prototype.reset=function(){var ot=Object(S.k)(this.context.view);Object(O.j)(ot,function(Mt){Kt(Mt)})},dt}(It.Action);Object(It.registerAction)("association",Yt),Object(It.registerInteraction)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(It.registerInteraction)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(It.registerInteraction)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(It.registerInteraction)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var bt=function(ft){Object(h.c)(dt,ft);function dt(){var ot=ft!==null&&ft.apply(this,arguments)||this;return ot.type="multi-view",ot}return dt.prototype.getSchemaAdaptor=function(){return xt},dt}(i.b)},ERDx:function(Ut,L,a){"use strict";a.d(L,"a",function(){return S}),a.d(L,"d",function(){return M}),a.d(L,"b",function(){return b}),a.d(L,"c",function(){return E}),a.d(L,"e",function(){return N}),a.d(L,"h",function(){return I}),a.d(L,"f",function(){return W}),a.d(L,"g",function(){return z});var h=a("jg4I"),i=a("EsX0"),O=a("rCs2"),x=a("PZqk"),C=a("0JB/"),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function S(w,T){var B=T.attr();for(var V in B){var $=B[V],nt=A[V]?A[V]:V;nt==="matrix"&&$?w.transform($[0],$[1],$[3],$[4],$[6],$[7]):nt==="lineDash"&&w.setLineDash?Object(h.B)($)&&w.setLineDash($):(nt==="strokeStyle"||nt==="fillStyle"?$=Object(i.b)(w,T,$):nt==="globalAlpha"&&($=$*w.globalAlpha),w[nt]=$)}}function M(w,T,B){for(var V=0;V<T.length;V++){var $=T[V];$.cfg.visible?$.draw(w,B):$.skipDraw()}}function b(w,T,B){var V=w.get("refreshElements");Object(h.j)(V,function($){if($!==w)for(var nt=$.cfg.parent;nt&&nt!==w&&!nt.cfg.refresh;)nt.cfg.refresh=!0,nt=nt.cfg.parent}),V[0]===w?D(T,B):g(T,B)}function g(w,T){for(var B=0;B<w.length;B++){var V=w[B];if(V.cfg.visible)if(V.cfg.hasChanged)V.cfg.refresh=!0,V.isGroup()&&D(V.cfg.children,T);else if(V.cfg.refresh)V.isGroup()&&g(V.cfg.children,T);else{var $=p(V,T);V.cfg.refresh=$,$&&V.isGroup()&&g(V.cfg.children,T)}}}function E(w){for(var T=0;T<w.length;T++){var B=w[T];B.cfg.hasChanged=!1,B.isGroup()&&!B.destroyed&&E(B.cfg.children)}}function D(w,T){for(var B=0;B<w.length;B++){var V=w[B];V.cfg.refresh=!0,V.isGroup()&&D(V.get("children"),T)}}function p(w,T){var B=w.cfg.cacheCanvasBBox,V=w.cfg.isInView&&B&&Object(x.f)(B,T);return V}function N(w,T,B,V){var $=B.path,nt=B.startArrow,at=B.endArrow;if(!!$){var st=[0,0],tt=[0,0],Q={dx:0,dy:0};T.beginPath();for(var Z=0;Z<$.length;Z++){var et=$[Z],ct=et[0];if(Z===0&&nt&&nt.d){var mt=w.getStartTangent();Q=C.c(mt[0][0],mt[0][1],mt[1][0],mt[1][1],nt.d)}else if(Z===$.length-2&&$[Z+1][0]==="Z"&&at&&at.d){var Ot=$[Z+1];if(Ot[0]==="Z"){var mt=w.getEndTangent();Q=C.c(mt[0][0],mt[0][1],mt[1][0],mt[1][1],at.d)}}else if(Z===$.length-1&&at&&at.d&&$[0]!=="Z"){var mt=w.getEndTangent();Q=C.c(mt[0][0],mt[0][1],mt[1][0],mt[1][1],at.d)}var it=Q.dx,xt=Q.dy;switch(ct){case"M":T.moveTo(et[1]-it,et[2]-xt),tt=[et[1],et[2]];break;case"L":T.lineTo(et[1]-it,et[2]-xt);break;case"Q":T.quadraticCurveTo(et[1],et[2],et[3]-it,et[4]-xt);break;case"C":T.bezierCurveTo(et[1],et[2],et[3],et[4],et[5]-it,et[6]-xt);break;case"A":{var It=void 0;V?(It=V[Z],It||(It=Object(O.a)(st,et),V[Z]=It)):It=Object(O.a)(st,et);var zt=It.cx,Kt=It.cy,Yt=It.rx,bt=It.ry,ft=It.startAngle,dt=It.endAngle,ot=It.xRotation,Mt=It.sweepFlag;if(T.ellipse)T.ellipse(zt,Kt,Yt,bt,ot,ft,dt,1-Mt);else{var Nt=Yt>bt?Yt:bt,Pt=Yt>bt?1:Yt/bt,J=Yt>bt?bt/Yt:1;T.translate(zt,Kt),T.rotate(ot),T.scale(Pt,J),T.arc(0,0,Nt,ft,dt,1-Mt),T.scale(1/Pt,1/J),T.rotate(-ot),T.translate(-zt,-Kt)}break}case"Z":T.closePath();break;default:break}if(ct==="Z")st=tt;else{var X=et.length;st=[et[X-2],et[X-1]]}}}}function I(w,T){var B=w.get("canvas");B&&(T==="remove"&&(w._cacheCanvasBBox=w.get("cacheCanvasBBox")),w.get("hasChanged")||(w.set("hasChanged",!0),w.cfg.parent&&w.cfg.parent.get("hasChanged")||(B.refreshElement(w,T,B),B.get("autoDraw")&&B.draw())))}function G(w){var T;if(w.destroyed)T=w._cacheCanvasBBox;else{var B=w.get("cacheCanvasBBox"),V=B&&!!(B.width&&B.height),$=w.getCanvasBBox(),nt=$&&!!($.width&&$.height);V&&nt?T=Object(x.l)(B,$):V?T=B:nt&&(T=$)}return T}function W(w){if(!w.length)return null;var T=[],B=[],V=[],$=[];return Object(h.j)(w,function(nt){var at=G(nt);at&&(T.push(at.minX),B.push(at.minY),V.push(at.maxX),$.push(at.maxY))}),{minX:Object(h.Z)(T),minY:Object(h.Z)(B),maxX:Object(h.W)(V),maxY:Object(h.W)($)}}function z(w,T){return!w||!T||!Object(x.f)(w,T)?null:{minX:Math.max(w.minX,T.minX),minY:Math.max(w.minY,T.minY),maxX:Math.min(w.maxX,T.maxX),maxY:Math.min(w.maxY,T.maxY)}}},EZPB:function(Ut,L,a){"use strict";a.d(L,"a",function(){return G});var h=a("J+IK"),i=a("d38q"),O=a("jg4I");function x(W,z){var w=Math.floor(W/z);return[z*w,z*(w+1)]}function C(W){return Math.ceil(Math.log(W.length)/Math.LN2)+1}function A(W,z,w,T,B){var V=Object(O.e)(W);Object(O.lb)(V,z);var $=Object(O.vb)(V,z),nt=Object(O.t)($),at=nt.max-nt.min,st=w;if(!w&&T&&(st=at/T),!w&&!T){var tt=C($);st=at/tt}var Q={},Z=Object(O.v)(V,B);Object(O.F)(Z)?Object(O.j)(V,function(ct){var mt=ct[z],Ot=x(mt,st),it=Ot[0]+"-"+Ot[1];Object(O.x)(Q,it)||(Q[it]={range:Ot,count:0}),Q[it].count+=1}):Object.keys(Z).forEach(function(ct){Object(O.j)(Z[ct],function(mt){var Ot=mt[z],it=x(Ot,st),xt=it[0]+"-"+it[1],It=xt+"-"+ct;Object(O.x)(Q,It)||(Q[It]={range:it,count:0},Q[It][B]=ct),Q[It].count+=1})});var et=[];return Object(O.j)(Q,function(ct){et.push(ct)}),et}var S=a("ggto"),M=a("RF2d"),b=a("OM6K");function g(W){var z=W.chart,w=W.options,T=w.data,B=w.binField,V=w.binNumber,$=w.binWidth,nt=w.color,at=w.stackField,st=w.legend,tt=w.columnStyle,Q=A(T,B,$,V,at);z.data(Q);var Z=Object(M.b)({},W,{options:{xField:"range",yField:"count",seriesField:at,isStack:!0,interval:{color:nt,style:tt}}});return Object(b.c)(Z),st&&at&&z.legend(at,st),W}function E(W){var z=W.options,w=z.xAxis,T=z.yAxis;return Object(M.e)(Object(S.f)({range:w,count:T}))(W)}function D(W){var z=W.chart,w=W.options,T=w.xAxis,B=w.yAxis;return T===!1?z.axis("range",!1):z.axis("range",T),B===!1?z.axis("count",!1):z.axis("count",B),W}function p(W){var z=W.chart,w=W.options,T=w.label,B=Object(M.c)(z,"interval");if(!T)B.label(!1);else{var V=T.callback,$=Object(h.e)(T,["callback"]);B.label({fields:["count"],callback:V,cfg:Object(M.u)($)})}return W}function N(W){return Object(M.e)(g,E,D,S.j,S.i,p,S.k,S.c,S.a)(W)}var I=Object(M.b)({},i.b.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),G=function(W){Object(h.c)(z,W);function z(){var w=W!==null&&W.apply(this,arguments)||this;return w.type="histogram",w}return z.getDefaultOptions=function(){return I},z.prototype.changeData=function(w){this.updateOption({data:w});var T=this.options,B=T.binField,V=T.binNumber,$=T.binWidth,nt=T.stackField;this.chart.changeData(A(w,B,$,V,nt))},z.prototype.getDefaultOptions=function(){return z.getDefaultOptions()},z.prototype.getSchemaAdaptor=function(){return N},z}(i.b)},EZfi:function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=Math.max(i[0],O[0]),h[1]=Math.max(i[1],O[1]),h}},EbMC:function(Ut,L,a){"use strict";L.a=function(h,i,O,x,C){for(var A=h.children,S,M=-1,b=A.length,g=h.value&&(x-i)/h.value;++M<b;)S=A[M],S.y0=O,S.y1=C,S.x0=i,S.x1=i+=S.value*g}},EpgB:function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=i[0]-O[0],h[1]=i[1]-O[1],h}},EsX0:function(Ut,L,a){"use strict";a.d(L,"b",function(){return g}),a.d(L,"a",function(){return E});var h=a("PZqk"),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(D,p){var N=D.match(C);Object(h.c)(N,function(I){var G=I.split(":");p.addColorStop(G[0],G[1])})}function S(D,p,N){var I=i.exec(N),G=parseFloat(I[1])%360*(Math.PI/180),W=I[2],z=p.getBBox(),w,T;G>=0&&G<1/2*Math.PI?(w={x:z.minX,y:z.minY},T={x:z.maxX,y:z.maxY}):1/2*Math.PI<=G&&G<Math.PI?(w={x:z.maxX,y:z.minY},T={x:z.minX,y:z.maxY}):Math.PI<=G&&G<3/2*Math.PI?(w={x:z.maxX,y:z.maxY},T={x:z.minX,y:z.minY}):(w={x:z.minX,y:z.maxY},T={x:z.maxX,y:z.minY});var B=Math.tan(G),V=B*B,$=(T.x-w.x+B*(T.y-w.y))/(V+1)+w.x,nt=B*(T.x-w.x+B*(T.y-w.y))/(V+1)+w.y,at=D.createLinearGradient(w.x,w.y,$,nt);return A(W,at),at}function M(D,p,N){var I=O.exec(N),G=parseFloat(I[1]),W=parseFloat(I[2]),z=parseFloat(I[3]),w=I[4];if(z===0){var T=w.match(C);return T[T.length-1].split(":")[1]}var B=p.getBBox(),V=B.maxX-B.minX,$=B.maxY-B.minY,nt=Math.sqrt(V*V+$*$)/2,at=D.createRadialGradient(B.minX+V*G,B.minY+$*W,0,B.minX+V/2,B.minY+$/2,z*nt);return A(w,at),at}function b(D,p,N){if(p.get("patternSource")&&p.get("patternSource")===N)return p.get("pattern");var I,G,W=x.exec(N),z=W[1],w=W[2];function T(){I=D.createPattern(G,z),p.set("pattern",I),p.set("patternSource",N)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return G=new Image,w.match(/^data:/i)||(G.crossOrigin="Anonymous"),G.src=w,G.complete?T():(G.onload=T,G.src=G.src),I}function g(D,p,N){if(Object(h.k)(N)){if(N[1]==="("||N[2]==="("){if(N[0]==="l")return S(D,p,N);if(N[0]==="r")return M(D,p,N);if(N[0]==="p")return b(D,p,N)}return N}}function E(D){var p=0,N=0,I=0,G=0;return Object(h.g)(D)?D.length===1?p=N=I=G=D[0]:D.length===2?(p=I=D[0],N=G=D[1]):D.length===3?(p=D[0],N=G=D[1],I=D[2]):(p=D[0],N=D[1],I=D[2],G=D[3]):p=N=I=G=D,[p,N,I,G]}},F6jN:function(Ut,L,a){"use strict";a.d(L,"a",function(){return J});var h=a("J+IK"),i=a("d38q"),O=a("ggto"),x=a("RF2d"),C=a("OM6K"),A=a("jg4I"),S=a("UooB"),M={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function b(X,vt){return vt=Object(A.b)({},M,vt),g(X,vt)}function g(X,vt){var lt=et();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(Y){Object(A.I)(vt[Y])||lt[Y](vt[Y])}),lt.words(X),vt.imageMask&&lt.createMask(vt.imageMask);var Ct=lt.start(),Ft=Ct._tags;Ft.forEach(function(Y){Y.x+=vt.size[0]/2,Y.y+=vt.size[1]/2});var Wt=vt.size,kt=Wt[0],jt=Wt[1];return Ft.push({text:"",value:0,x:0,y:0,opacity:0}),Ft.push({text:"",value:0,x:kt,y:jt,opacity:0}),Ft}var E=Math.PI/180,D=1<<11>>5,p=1<<11;function N(X){return X.text}function I(){return"serif"}function G(){return"normal"}function W(X){return X.value}function z(){return~~(Math.random()*2)*90}function w(){return 1}function T(X,vt,lt,Ct){if(!vt.sprite){var Ft=X.context,Wt=X.ratio;Ft.clearRect(0,0,(D<<5)/Wt,p/Wt);var kt=0,jt=0,Y=0,U=lt.length;for(--Ct;++Ct<U;){vt=lt[Ct],Ft.save(),Ft.font=vt.style+" "+vt.weight+" "+~~((vt.size+1)/Wt)+"px "+vt.font;var j=Ft.measureText(vt.text+"m").width*Wt,q=vt.size<<1;if(vt.rotate){var gt=Math.sin(vt.rotate*E),_=Math.cos(vt.rotate*E),yt=j*_,wt=j*gt,St=q*_,Dt=q*gt;j=Math.max(Math.abs(yt+Dt),Math.abs(yt-Dt))+31>>5<<5,q=~~Math.max(Math.abs(wt+St),Math.abs(wt-St))}else j=j+31>>5<<5;if(q>Y&&(Y=q),kt+j>=D<<5&&(kt=0,jt+=Y,Y=0),jt+q>=p)break;Ft.translate((kt+(j>>1))/Wt,(jt+(q>>1))/Wt),vt.rotate&&Ft.rotate(vt.rotate*E),Ft.fillText(vt.text,0,0),vt.padding&&(Ft.lineWidth=2*vt.padding,Ft.strokeText(vt.text,0,0)),Ft.restore(),vt.width=j,vt.height=q,vt.xoff=kt,vt.yoff=jt,vt.x1=j>>1,vt.y1=q>>1,vt.x0=-vt.x1,vt.y0=-vt.y1,vt.hasText=!0,kt+=j}for(var Vt=Ft.getImageData(0,0,(D<<5)/Wt,p/Wt).data,Qt=[];--Ct>=0;)if(vt=lt[Ct],!!vt.hasText){for(var j=vt.width,ee=j>>5,q=vt.y1-vt.y0,se=0;se<q*ee;se++)Qt[se]=0;if(kt=vt.xoff,kt==null)return;jt=vt.yoff;for(var ye=0,Ie=-1,Be=0;Be<q;Be++){for(var se=0;se<j;se++){var Ze=ee*Be+(se>>5),we=Vt[(jt+Be)*(D<<5)+(kt+se)<<2]?1<<31-se%32:0;Qt[Ze]|=we,ye|=we}ye?Ie=Be:(vt.y0++,q--,Be--,jt++)}vt.y1=vt.y0+Ie,vt.sprite=Qt.slice(0,(vt.y1-vt.y0)*ee)}}}function B(X,vt,lt){lt>>=5;for(var Ct=X.sprite,Ft=X.width>>5,Wt=X.x-(Ft<<4),kt=Wt&127,jt=32-kt,Y=X.y1-X.y0,U=(X.y+X.y0)*lt+(Wt>>5),j,q=0;q<Y;q++){j=0;for(var gt=0;gt<=Ft;gt++)if((j<<jt|(gt<Ft?(j=Ct[q*Ft+gt])>>>kt:0))&vt[U+gt])return!0;U+=lt}return!1}function V(X,vt){var lt=X[0],Ct=X[1];vt.x+vt.x0<lt.x&&(lt.x=vt.x+vt.x0),vt.y+vt.y0<lt.y&&(lt.y=vt.y+vt.y0),vt.x+vt.x1>Ct.x&&(Ct.x=vt.x+vt.x1),vt.y+vt.y1>Ct.y&&(Ct.y=vt.y+vt.y1)}function $(X,vt){return X.x+X.x1>vt[0].x&&X.x+X.x0<vt[1].x&&X.y+X.y1>vt[0].y&&X.y+X.y0<vt[1].y}function nt(X){var vt=X[0]/X[1];return function(lt){return[vt*(lt*=.1)*Math.cos(lt),lt*Math.sin(lt)]}}function at(X){var vt=4,lt=vt*X[0]/X[1],Ct=0,Ft=0;return function(Wt){var kt=Wt<0?-1:1;switch(Math.sqrt(1+4*kt*Wt)-kt&3){case 0:Ct+=lt;break;case 1:Ft+=vt;break;case 2:Ct-=lt;break;default:Ft-=vt;break}return[Ct,Ft]}}function st(X){for(var vt=[],lt=-1;++lt<X;)vt[lt]=0;return vt}function tt(){return document.createElement("canvas")}function Q(X){return Object(A.H)(X)?X:function(){return X}}var Z={archimedean:nt,rectangular:at};function et(){var X=[256,256],vt=I,lt=W,Ct=G,Ft=z,Wt=w,kt=nt,jt=Math.random,Y=[],U=Infinity,j=N,q=G,gt=tt,_={};_.start=function(){var St=X[0],Dt=X[1],Vt=yt(gt()),Qt=_.board?_.board:st((X[0]>>5)*X[1]),ee=Y.length,se=[],ye=Y.map(function(we,We,Ke){return we.text=j.call(this,we,We,Ke),we.font=vt.call(this,we,We,Ke),we.style=q.call(this,we,We,Ke),we.weight=Ct.call(this,we,We,Ke),we.rotate=Ft.call(this,we,We,Ke),we.size=~~lt.call(this,we,We,Ke),we.padding=Wt.call(this,we,We,Ke),we}).sort(function(we,We){return We.size-we.size}),Ie=-1,Be=_.board?[{x:0,y:0},{x:St,y:Dt}]:null;Ze();function Ze(){for(var we=Date.now();Date.now()-we<U&&++Ie<ee;){var We=ye[Ie];We.x=St*(jt()+.5)>>1,We.y=Dt*(jt()+.5)>>1,T(Vt,We,ye,Ie),We.hasText&&wt(Qt,We,Be)&&(se.push(We),Be?_.hasImage||V(Be,We):Be=[{x:We.x+We.x0,y:We.y+We.y0},{x:We.x+We.x1,y:We.y+We.y1}],We.x-=X[0]>>1,We.y-=X[1]>>1)}_._tags=se,_._bounds=Be}return _};function yt(St){St.width=St.height=1;var Dt=Math.sqrt(St.getContext("2d").getImageData(0,0,1,1).data.length>>2);St.width=(D<<5)/Dt,St.height=p/Dt;var Vt=St.getContext("2d");return Vt.fillStyle=Vt.strokeStyle="red",Vt.textAlign="center",{context:Vt,ratio:Dt}}function wt(St,Dt,Vt){for(var Qt=Dt.x,ee=Dt.y,se=Math.sqrt(X[0]*X[0]+X[1]*X[1]),ye=kt(X),Ie=jt()<.5?1:-1,Be,Ze=-Ie,we,We;(Be=ye(Ze+=Ie))&&(we=~~Be[0],We=~~Be[1],!(Math.min(Math.abs(we),Math.abs(We))>=se));)if(Dt.x=Qt+we,Dt.y=ee+We,!(Dt.x+Dt.x0<0||Dt.y+Dt.y0<0||Dt.x+Dt.x1>X[0]||Dt.y+Dt.y1>X[1])&&(!Vt||!B(Dt,St,X[0]))&&(!Vt||$(Dt,Vt))){for(var Ke=Dt.sprite,cr=Dt.width>>5,or=X[0]>>5,Ce=Dt.x-(cr<<4),sr=Ce&127,ke=32-sr,Xe=Dt.y1-Dt.y0,dr=void 0,Sr=(Dt.y+Dt.y0)*or+(Ce>>5),Fr=0;Fr<Xe;Fr++){dr=0;for(var hn=0;hn<=cr;hn++)St[Sr+hn]|=dr<<ke|(hn<cr?(dr=Ke[Fr*cr+hn])>>>sr:0);Sr+=or}return delete Dt.sprite,!0}return!1}return _.createMask=function(St){var Dt=document.createElement("canvas"),Vt=X[0],Qt=X[1];if(!(!Vt||!Qt)){var ee=Vt>>5,se=st((Vt>>5)*Qt);Dt.width=Vt,Dt.height=Qt;var ye=Dt.getContext("2d");ye.drawImage(St,0,0,St.width,St.height,0,0,Vt,Qt);for(var Ie=ye.getImageData(0,0,Vt,Qt).data,Be=0;Be<Qt;Be++)for(var Ze=0;Ze<Vt;Ze++){var we=ee*Be+(Ze>>5),We=Be*Vt+Ze<<2,Ke=Ie[We]>=250&&Ie[We+1]>=250&&Ie[We+2]>=250,cr=Ke?1<<31-Ze%32:0;se[we]|=cr}_.board=se,_.hasImage=!0}},_.timeInterval=function(St){U=St==null?Infinity:St},_.words=function(St){Y=St},_.size=function(St){X=[+St[0],+St[1]]},_.font=function(St){vt=Q(St)},_.fontWeight=function(St){Ct=Q(St)},_.rotate=function(St){Ft=Q(St)},_.spiral=function(St){kt=Z[St]||St},_.fontSize=function(St){lt=Q(St)},_.padding=function(St){Wt=Q(St)},_.random=function(St){jt=Q(St)},_}function ct(X){var vt=X.options,lt=X.chart,Ct=lt,Ft=Ct.width,Wt=Ct.height,kt=Ct.padding,jt=Ct.appendPadding,Y=Ct.ele,U=vt.data,j=vt.imageMask,q=vt.wordField,gt=vt.weightField,_=vt.colorField,yt=vt.wordStyle,wt=vt.timeInterval,St=vt.random,Dt=vt.spiral,Vt=vt.autoFit,Qt=Vt===void 0?!0:Vt,ee=vt.placementStrategy;if(!U||!U.length)return[];var se=yt.fontFamily,ye=yt.fontWeight,Ie=yt.padding,Be=yt.fontSize,Ze=It(U,gt),we=[Yt(Ze),bt(Ze)],We=U.map(function(or){return{text:or[q],value:or[gt],color:or[_],datum:or}}),Ke={imageMask:j,font:se,fontSize:xt(Be,we),fontWeight:ye,size:mt({width:Ft,height:Wt,padding:kt,appendPadding:jt,autoFit:Qt,container:Y}),padding:Ie,timeInterval:wt,random:St,spiral:Dt,rotate:zt(vt)};if(Object(A.H)(ee)){var cr=We.map(function(or,Ce,sr){return Object(h.a)(Object(h.a)(Object(h.a)({},or),{hasText:!!or.text,font:Q(Ke.font)(or,Ce,sr),weight:Q(Ke.fontWeight)(or,Ce,sr),rotate:Q(Ke.rotate)(or,Ce,sr),size:Q(Ke.fontSize)(or,Ce,sr),style:"normal"}),ee.call(lt,or,Ce,sr))});return cr.push({text:"",value:0,x:0,y:0,opacity:0}),cr.push({text:"",value:0,x:Ke.size[0],y:Ke.size[1],opacity:0}),cr}return b(We,Ke)}function mt(X){var vt=X.width,lt=X.height,Ct=X.container,Ft=X.autoFit,Wt=X.padding,kt=X.appendPadding;if(Ft){var jt=Object(x.h)(Ct);vt=jt.width,lt=jt.height}vt=vt||400,lt=lt||400;var Y=Ot({padding:Wt,appendPadding:kt}),U=Y[0],j=Y[1],q=Y[2],gt=Y[3],_=[vt-(gt+j),lt-(U+q)];return _}function Ot(X){var vt=Object(S.a)(X.padding),lt=Object(S.a)(X.appendPadding),Ct=vt[0]+lt[0],Ft=vt[1]+lt[1],Wt=vt[2]+lt[2],kt=vt[3]+lt[3];return[Ct,Ft,Wt,kt]}function it(X){return new Promise(function(vt,lt){if(X instanceof HTMLImageElement){vt(X);return}if(Object(A.O)(X)){var Ct=new Image;Ct.crossOrigin="anonymous",Ct.src=X,Ct.onload=function(){vt(Ct)},Ct.onerror=function(){Object(x.n)(x.a.ERROR,!1,"image %s load failed !!!",X),lt()};return}Object(x.n)(x.a.WARN,X===void 0,"The type of imageMask option must be String or HTMLImageElement."),lt()})}function xt(X,vt){if(Object(A.H)(X))return X;if(Object(A.B)(X)){var lt=X[0],Ct=X[1];if(!vt)return function(){return(Ct+lt)/2};var Ft=vt[0],Wt=vt[1];return Wt===Ft?function(){return(Ct+lt)/2}:function(jt){var Y=jt.value;return(Ct-lt)/(Wt-Ft)*(Y-Ft)+lt}}return function(){return X}}function It(X,vt){return X.map(function(lt){return lt[vt]}).filter(function(lt){return typeof lt=="number"&&!isNaN(lt)})}function zt(X){var vt=Kt(X),lt=vt.rotation,Ct=vt.rotationSteps;if(!Object(A.B)(lt))return lt;var Ft=lt[0],Wt=lt[1],kt=Ct===1?0:(Wt-Ft)/(Ct-1);return function(){return Wt===Ft?Wt:Math.floor(Math.random()*Ct)*kt}}function Kt(X){var vt=X.wordStyle.rotationSteps;return vt<1&&(Object(x.n)(x.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),vt=1),{rotation:X.wordStyle.rotation,rotationSteps:vt}}function Yt(X){return Math.min.apply(Math,X)}function bt(X){return Math.max.apply(Math,X)}function ft(X){var vt=X.chart,lt=X.options,Ct=lt.colorField,Ft=lt.color,Wt=ct(X);vt.data(Wt);var kt=Object(x.b)({},X,{options:{xField:"x",yField:"y",seriesField:Ct&&"color",point:{color:Ft,shape:"word-cloud"}}}),jt=Object(C.e)(kt).ext;return jt.geometry.label(!1),vt.coordinate().reflect("y"),vt.axis(!1),X}function dt(X){return Object(x.e)(Object(O.f)({x:{nice:!1},y:{nice:!1}}))(X)}function ot(X){Object(x.e)(ft,dt,O.k,O.d,O.c,O.a,O.j,O.i)(X)}var Mt=Object(x.b)({},i.b.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(vt){return{name:vt.text,value:vt.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Nt=a("AO+g");Object(Nt.registerShape)("point","word-cloud",{draw:function(vt,lt){var Ct=vt.x,Ft=vt.y,Wt=lt.addShape("text",{attrs:Object(h.a)(Object(h.a)({},Pt(vt)),{x:Ct,y:Ft})}),kt=vt.data.rotate;return typeof kt=="number"&&Nt.Util.rotate(Wt,kt*Math.PI/180),Wt}});function Pt(X){return{fontSize:X.data.size,text:X.data.text,textAlign:"center",fontFamily:X.data.font,fontWeight:X.data.weight,fill:X.color||X.defaultStyle.stroke,textBaseline:"alphabetic"}}var J=function(X){Object(h.c)(vt,X);function vt(){var lt=X!==null&&X.apply(this,arguments)||this;return lt.type="word-cloud",lt}return vt.getDefaultOptions=function(){return Mt},vt.prototype.changeData=function(lt){this.updateOption({data:lt}),this.options.imageMask?this.render():this.chart.changeData(ct({chart:this.chart,options:this.options}))},vt.prototype.getDefaultOptions=function(){return vt.getDefaultOptions()},vt.prototype.render=function(){var lt=this;return new Promise(function(Ct){var Ft=lt.options.imageMask;if(!Ft){X.prototype.render.call(lt),Ct();return}var Wt=function(jt){lt.options=Object(h.a)(Object(h.a)({},lt.options),{imageMask:jt||null}),X.prototype.render.call(lt),Ct()};it(Ft).then(Wt).catch(Wt)})},vt.prototype.getSchemaAdaptor=function(){return ot},vt.prototype.triggerResize=function(){var lt=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){X.prototype.triggerResize.call(lt)}))},vt}(i.b)},FDop:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jsfD"),O=a("o/SM"),x=a("MYzp"),C=a("jg4I"),A=a("jGCv"),S=function(M){Object(h.c)(b,M);function b(){return M!==null&&M.apply(this,arguments)||this}return b.prototype.onCanvasChange=function(g){Object(x.h)(this,g)},b.prototype.getShapeBase=function(){return O},b.prototype.getGroupBase=function(){return b},b.prototype._applyClip=function(g,E){E&&(g.save(),Object(x.a)(g,E),E.createPath(g),g.restore(),g.clip(),E._afterDraw())},b.prototype.cacheCanvasBBox=function(){var g=this.cfg.children,E=[],D=[];Object(C.j)(g,function(T){var B=T.cfg.cacheCanvasBBox;B&&T.cfg.isInView&&(E.push(B.minX,B.maxX),D.push(B.minY,B.maxY))});var p=null;if(E.length){var N=Math.min.apply(null,E),I=Math.max.apply(null,E),G=Math.min.apply(null,D),W=Math.max.apply(null,D);p={minX:N,minY:G,x:N,y:G,maxX:I,maxY:W,width:I-N,height:W-G};var z=this.cfg.canvas;if(z){var w=z.getViewRange();this.set("isInView",Object(A.f)(p,w))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",p)},b.prototype.draw=function(g,E){var D=this.cfg.children,p=E?this.cfg.refresh:!0;D.length&&p&&(g.save(),Object(x.a)(g,this),this._applyClip(g,this.getClip()),Object(x.d)(g,D,E),g.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},b}(i.AbstractGroup);L.a=S},FP4t:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Binding=void 0;var h=a("TKZu"),i=a("/LIz"),O=function(){function x(C,A){this.id=i.id(),this.activated=!1,this.serviceIdentifier=C,this.scope=A,this.type=h.BindingTypeEnum.Invalid,this.constraint=function(S){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return x.prototype.clone=function(){var C=new x(this.serviceIdentifier,this.scope);return C.activated=!1,C.implementationType=this.implementationType,C.dynamicValue=this.dynamicValue,C.scope=this.scope,C.type=this.type,C.factory=this.factory,C.provider=this.provider,C.constraint=this.constraint,C.onActivation=this.onActivation,C.cache=this.cache,C},x}();L.Binding=O},Fbv1:function(Ut,L,a){"use strict";a.d(L,"b",function(){return T}),a.d(L,"a",function(){return nt});var h=a("J+IK"),i=a("RF2d"),O=a("ggto"),x=a("jg4I"),C=a("AO+g"),A=a("YUZ6");function S(at,st){return Object(i.b)({size:st?32:80,spacing:st?8:12,offset:st?32:0,arrow:at.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:at.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:A.a}},at)}function M(at,st){return Object(x.U)(st.getModel().points,function(tt){return at.convertPoint(tt)})}function b(at,st,tt){var Q=at.view,Z=at.geometry,et=at.group,ct=at.options,mt=at.horizontal,Ot=ct.offset,it=ct.size,xt=ct.arrow,It=Q.getCoordinate(),zt=M(It,st)[mt?3:0],Kt=M(It,tt)[mt?0:3],Yt=Kt.y-zt.y,bt=Kt.x-zt.x;if(typeof xt!="boolean"){var ft=xt.headSize,dt=ct.spacing,ot;mt?(bt-ft)/2<dt?(dt=Math.max(1,(bt-ft)/2),ot=[[zt.x+dt,zt.y-Ot],[zt.x+dt,zt.y-Ot-it],[Kt.x-dt,Kt.y-Ot-it/2]]):ot=[[zt.x+dt,zt.y-Ot],[zt.x+dt,zt.y-Ot-it],[Kt.x-dt-ft,Kt.y-Ot-it],[Kt.x-dt,Kt.y-Ot-it/2],[Kt.x-dt-ft,Kt.y-Ot]]:(Yt-ft)/2<dt?(dt=Math.max(1,(Yt-ft)/2),ot=[[zt.x+Ot,zt.y+dt],[zt.x+Ot+it,zt.y+dt],[Kt.x+Ot+it/2,Kt.y-dt]]):ot=[[zt.x+Ot,zt.y+dt],[zt.x+Ot+it,zt.y+dt],[Kt.x+Ot+it,Kt.y-dt-ft],[Kt.x+Ot+it/2,Kt.y-dt],[Kt.x+Ot,Kt.y-dt-ft]],et.addShape("polygon",{id:Q.id+"-conversion-tag-arrow-"+Z.getElementId(st.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:st,nextElement:tt},attrs:Object(h.a)(Object(h.a)({},xt.style||{}),{points:ot})})}}function g(at,st,tt){var Q,Z,et,ct=at.view,mt=at.geometry,Ot=at.group,it=at.options,xt=at.field,It=at.horizontal,zt=it.offset,Kt=it.size;if(typeof it.text!="boolean"){var Yt=ct.getCoordinate(),bt=((Q=it.text)===null||Q===void 0?void 0:Q.formatter)&&((Z=it.text)===null||Z===void 0?void 0:Z.formatter(st.getData()[xt],tt.getData()[xt])),ft=M(Yt,st)[It?3:0],dt=M(Yt,tt)[It?0:3],ot=Ot.addShape("text",{id:ct.id+"-conversion-tag-text-"+mt.getElementId(st.getModel().mappingData),name:"conversion-tag-text",origin:{element:st,nextElement:tt},attrs:Object(h.a)(Object(h.a)({},((et=it.text)===null||et===void 0?void 0:et.style)||{}),{text:bt,x:It?(ft.x+dt.x)/2:ft.x+zt+Kt/2,y:It?ft.y-zt-Kt/2:(ft.y+dt.y)/2})});if(It){var Mt=dt.x-ft.x,Nt=ot.getBBox().width;if(Nt>Mt){var Pt=Nt/bt.length,J=Math.max(1,Math.ceil(Mt/Pt)-1),X=bt.slice(0,J)+"...";ot.attr("text",X)}}}}function E(at,st,tt){b(at,st,tt),g(at,st,tt)}function D(at,st,tt){return st===void 0&&(st=!0),tt===void 0&&(tt=!1),function(Q){var Z=Q.options,et=Q.chart,ct=Z.conversionTag,mt=Z.theme;return ct&&!tt&&(et.theme(Object(i.b)({},Object(x.M)(mt)?mt:Object(C.getTheme)(mt),{columnWidthRatio:1/3})),et.annotation().shape({render:function(it,xt){var It=it.addGroup({id:et.id+"-conversion-tag-group",name:"conversion-tag-group"}),zt=Object(x.m)(et.geometries,function(bt){return bt.type==="interval"}),Kt={view:xt,geometry:zt,group:It,field:at,horizontal:st,options:S(ct,st)},Yt=st?zt.elements:zt.elements.slice().reverse();Object(x.j)(Yt,function(bt,ft){ft>0&&E(Kt,Yt[ft-1],bt)})}})),Q}}var p={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};Object(C.registerInteraction)(p.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(C.registerInteraction)(p.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function N(at){return at===void 0&&(at=!1),function(st){var tt=st.chart,Q=st.options,Z=Q.connectedArea,et=function(){tt.removeInteraction(p.hover),tt.removeInteraction(p.click)};if(!at&&Z){var ct=Z.trigger||"hover";et(),tt.interaction(p[ct])}else et();return st}}var I=a("OM6K"),G=a("S+j/"),W=a("068J");function z(at){var st=at.options,tt=st.legend,Q=st.seriesField,Z=st.isStack;return Q?tt!==!1&&(tt=Object(h.a)({position:Z?"right-top":"top-left"},tt)):tt=!1,at.options.legend=tt,at}function w(at){var st=at.chart,tt=at.options,Q=tt.data,Z=tt.columnStyle,et=tt.color,ct=tt.columnWidthRatio,mt=tt.isPercent,Ot=tt.xField,it=tt.yField,xt=tt.seriesField,It=tt.tooltip;st.data(Object(G.a)(Q,it,Ot,it,mt));var zt=mt?Object(h.a)({formatter:function(bt){return{name:bt[xt]||bt[Ot],value:(Number(bt[it])*100).toFixed(2)+"%"}}},It):It,Kt=Object(i.b)({},at,{options:{widthRatio:ct,tooltip:zt,interval:{style:Z,color:et}}});return Object(I.c)(Kt),at}function T(at){var st,tt,Q=at.options,Z=Q.xAxis,et=Q.yAxis,ct=Q.xField,mt=Q.yField,Ot=Q.data,it=Q.isPercent,xt=it?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(i.e)(Object(O.f)((st={},st[ct]=Z,st[mt]=et,st),(tt={},tt[ct]={type:"cat"},tt[mt]=Object(h.a)(Object(h.a)({},Object(W.a)(Ot,mt)),xt),tt)))(at)}function B(at){var st=at.chart,tt=at.options,Q=tt.xAxis,Z=tt.yAxis,et=tt.xField,ct=tt.yField;return Q===!1?st.axis(et,!1):st.axis(et,Q),Z===!1?st.axis(ct,!1):st.axis(ct,Z),at}function V(at){var st=at.chart,tt=at.options,Q=tt.legend,Z=tt.seriesField;return Q&&Z?st.legend(Z,Q):Q===!1&&st.legend(!1),at}function $(at){var st=at.chart,tt=at.options,Q=tt.label,Z=tt.yField,et=tt.isRange,ct=Object(i.c)(st,"interval");if(!Q)ct.label(!1);else{var mt=Q.callback,Ot=Object(h.e)(Q,["callback"]);ct.label({fields:[Z],callback:mt,cfg:Object(h.a)({layout:(Ot==null?void 0:Ot.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(i.u)(et?Object(h.a)({content:function(xt){var It;return(It=xt[Z])===null||It===void 0?void 0:It.join("-")}},Ot):Ot))})}return at}function nt(at,st){st===void 0&&(st=!1);var tt=at.options,Q=tt.seriesField;return Object(i.e)(z,O.j,O.i,w,T,B,V,O.k,O.h,O.g,$,O.c,O.a,Object(O.b)(),D(tt.yField,!st,!!Q),N(!tt.isStack),O.e)(at)}},FeKW:function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("43gi").Graph,O=a("hppO");Ut.exports={positionX:I,findType1Conflicts:x,findType2Conflicts:C,addConflict:S,hasConflict:M,verticalAlignment:b,horizontalCompaction:g,alignCoordinates:p,findSmallestWidthAlignment:D,balance:N};function x(z,w){var T={};function B(V,$){var nt=0,at=0,st=V.length,tt=h.last($);return h.forEach($,function(Q,Z){var et=A(z,Q),ct=et?z.node(et).order:st;(et||Q===tt)&&(h.forEach($.slice(at,Z+1),function(mt){h.forEach(z.predecessors(mt),function(Ot){var it=z.node(Ot),xt=it.order;(xt<nt||ct<xt)&&!(it.dummy&&z.node(mt).dummy)&&S(T,Ot,mt)})}),at=Z+1,nt=ct)}),$}return h.reduce(w,B),T}function C(z,w){var T={};function B($,nt,at,st,tt){var Q;h.forEach(h.range(nt,at),function(Z){Q=$[Z],z.node(Q).dummy&&h.forEach(z.predecessors(Q),function(et){var ct=z.node(et);ct.dummy&&(ct.order<st||ct.order>tt)&&S(T,et,Q)})})}function V($,nt){var at=-1,st,tt=0;return h.forEach(nt,function(Q,Z){if(z.node(Q).dummy==="border"){var et=z.predecessors(Q);et.length&&(st=z.node(et[0]).order,B(nt,tt,Z,at,st),tt=Z,at=st)}B(nt,tt,nt.length,st,$.length)}),nt}return h.reduce(w,V),T}function A(z,w){if(z.node(w).dummy)return h.find(z.predecessors(w),function(T){return z.node(T).dummy})}function S(z,w,T){if(w>T){var B=w;w=T,T=B}var V=z[w];V||(z[w]=V={}),V[T]=!0}function M(z,w,T){if(w>T){var B=w;w=T,T=B}return h.has(z[w],T)}function b(z,w,T,B){var V={},$={},nt={};return h.forEach(w,function(at){h.forEach(at,function(st,tt){V[st]=st,$[st]=st,nt[st]=tt})}),h.forEach(w,function(at){var st=-1;h.forEach(at,function(tt){var Q=B(tt);if(Q.length){Q=h.sortBy(Q,function(Ot){return nt[Ot]});for(var Z=(Q.length-1)/2,et=Math.floor(Z),ct=Math.ceil(Z);et<=ct;++et){var mt=Q[et];$[tt]===tt&&st<nt[mt]&&!M(T,tt,mt)&&($[mt]=tt,$[tt]=V[tt]=V[mt],st=nt[mt])}}})}),{root:V,align:$}}function g(z,w,T,B,V){var $={},nt=E(z,w,T,V),at=V?"borderLeft":"borderRight";function st(Z,et){for(var ct=nt.nodes(),mt=ct.pop(),Ot={};mt;)Ot[mt]?Z(mt):(Ot[mt]=!0,ct.push(mt),ct=ct.concat(et(mt))),mt=ct.pop()}function tt(Z){$[Z]=nt.inEdges(Z).reduce(function(et,ct){return Math.max(et,$[ct.v]+nt.edge(ct))},0)}function Q(Z){var et=nt.outEdges(Z).reduce(function(mt,Ot){return Math.min(mt,$[Ot.w]-nt.edge(Ot))},Number.POSITIVE_INFINITY),ct=z.node(Z);et!==Number.POSITIVE_INFINITY&&ct.borderType!==at&&($[Z]=Math.max($[Z],et))}return st(tt,nt.predecessors.bind(nt)),st(Q,nt.successors.bind(nt)),h.forEach(B,function(Z){$[Z]=$[T[Z]]}),$}function E(z,w,T,B){var V=new i,$=z.graph(),nt=G($.nodesep,$.edgesep,B);return h.forEach(w,function(at){var st;h.forEach(at,function(tt){var Q=T[tt];if(V.setNode(Q),st){var Z=T[st],et=V.edge(Z,Q);V.setEdge(Z,Q,Math.max(nt(z,tt,st),et||0))}st=tt})}),V}function D(z,w){return h.minBy(h.values(w),function(T){var B=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY;return h.forIn(T,function($,nt){var at=W(z,nt)/2;B=Math.max($+at,B),V=Math.min($-at,V)}),B-V})}function p(z,w){var T=h.values(w),B=h.min(T),V=h.max(T);h.forEach(["u","d"],function($){h.forEach(["l","r"],function(nt){var at=$+nt,st=z[at],tt;if(st!==w){var Q=h.values(st);tt=nt==="l"?B-h.min(Q):V-h.max(Q),tt&&(z[at]=h.mapValues(st,function(Z){return Z+tt}))}})})}function N(z,w){return h.mapValues(z.ul,function(T,B){if(w)return z[w.toLowerCase()][B];var V=h.sortBy(h.map(z,B));return(V[1]+V[2])/2})}function I(z){var w=O.buildLayerMatrix(z),T=h.merge(x(z,w),C(z,w)),B={},V;h.forEach(["u","d"],function(nt){V=nt==="u"?w:h.values(w).reverse(),h.forEach(["l","r"],function(at){at==="r"&&(V=h.map(V,function(Z){return h.values(Z).reverse()}));var st=(nt==="u"?z.predecessors:z.successors).bind(z),tt=b(z,V,T,st),Q=g(z,V,tt.root,tt.align,at==="r");at==="r"&&(Q=h.mapValues(Q,function(Z){return-Z})),B[nt+at]=Q})});var $=D(z,B);return p(B,$),N(B,z.graph().align)}function G(z,w,T){return function(B,V,$){var nt=B.node(V),at=B.node($),st=0,tt;if(st+=nt.width/2,h.has(nt,"labelpos"))switch(nt.labelpos.toLowerCase()){case"l":tt=-nt.width/2;break;case"r":tt=nt.width/2;break}if(tt&&(st+=T?tt:-tt),tt=0,st+=(nt.dummy?w:z)/2,st+=(at.dummy?w:z)/2,st+=at.width/2,h.has(at,"labelpos"))switch(at.labelpos.toLowerCase()){case"l":tt=at.width/2;break;case"r":tt=-at.width/2;break}return tt&&(st+=T?tt:-tt),tt=0,st}}function W(z,w){return z.node(w).width}},FolP:function(Ut,L){Ut.exports=a;function a(h,i){return h[0]*i[0]+h[1]*i[1]}},G1Ru:function(Ut,L,a){"use strict";a.d(L,"a",function(){return M});var h=a("3sqG"),i=a("oS5r"),O=a("M1/f"),x=a("jg4I"),C=a("IX3a"),A={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(g,E){return E.value-g.value},ratio:.5*(1+Math.sqrt(5))};function S(b,g){return b==="treemapSquarify"?h[b].ratio(g):h[b]}function M(b,g){g=Object(x.b)({},A,g);var E=g.as;if(!Object(x.B)(E)||E.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var D;try{D=Object(C.b)(g)}catch(z){console.warn(z)}var p=S(g.tile,g.ratio),N=function(w){return i.a().tile(p).size(g.size).round(g.round).padding(g.padding).paddingInner(g.paddingInner).paddingOuter(g.paddingOuter).paddingTop(g.paddingTop).paddingRight(g.paddingRight).paddingBottom(g.paddingBottom).paddingLeft(g.paddingLeft)(O.c(w).sum(function(T){return g.ignoreParentValue&&T.children?0:T[D]}).sort(g.sort))},I=N(b),G=E[0],W=E[1];return I.each(function(z){z[G]=[z.x0,z.x1,z.x1,z.x0],z[W]=[z.y1,z.y1,z.y0,z.y0],["x0","x1","y0","y1"].forEach(function(w){E.indexOf(w)===-1&&delete z[w]})}),Object(C.a)(I)}},GCuf:function(Ut,L,a){var h=a("TJOf"),i=a("R3oX"),O=a("hQ5t");function x(C,A){var S={};return A=O(A,3),i(C,function(M,b,g){h(S,b,A(M,b,g))}),S}Ut.exports=x},GbYH:function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("ajvA"),O=a("5oMf"),x=a("OO/B"),C=a("hppO").normalizeRanks,A=a("Oye7"),S=a("hppO").removeEmptyRanks,M=a("v5ut"),b=a("dzzI"),g=a("AM3p"),E=a("Uhlt"),D=a("p/Nb"),p=a("hppO"),N=a("43gi").Graph;Ut.exports=I;function I(ft,dt){var ot=dt&&dt.debugTiming?p.time:p.notime;ot("layout",function(){var Mt=ot("  buildLayoutGraph",function(){return st(ft)});ot("  runLayout",function(){G(Mt,ot)}),ot("  updateInputGraph",function(){W(ft,Mt)})})}function G(ft,dt){dt("    makeSpaceForEdgeLabels",function(){tt(ft)}),dt("    removeSelfEdges",function(){It(ft)}),dt("    acyclic",function(){i.run(ft)}),dt("    nestingGraph.run",function(){M.run(ft)}),dt("    rank",function(){x(p.asNonCompoundGraph(ft))}),dt("    injectEdgeLabelProxies",function(){Q(ft)}),dt("    removeEmptyRanks",function(){S(ft)}),dt("    nestingGraph.cleanup",function(){M.cleanup(ft)}),dt("    normalizeRanks",function(){C(ft)}),dt("    assignRankMinMax",function(){Z(ft)}),dt("    removeEdgeLabelProxies",function(){et(ft)}),dt("    normalize.run",function(){O.run(ft)}),dt("    parentDummyChains",function(){A(ft)}),dt("    addBorderSegments",function(){b(ft)}),dt("    order",function(){E(ft)}),dt("    insertSelfEdges",function(){zt(ft)}),dt("    adjustCoordinateSystem",function(){g.adjust(ft)}),dt("    position",function(){D(ft)}),dt("    positionSelfEdges",function(){Kt(ft)}),dt("    removeBorderNodes",function(){xt(ft)}),dt("    normalize.undo",function(){O.undo(ft)}),dt("    fixupEdgeLabelCoords",function(){Ot(ft)}),dt("    undoCoordinateSystem",function(){g.undo(ft)}),dt("    translateGraph",function(){ct(ft)}),dt("    assignNodeIntersects",function(){mt(ft)}),dt("    reversePoints",function(){it(ft)}),dt("    acyclic.undo",function(){i.undo(ft)})}function W(ft,dt){h.forEach(ft.nodes(),function(ot){var Mt=ft.node(ot),Nt=dt.node(ot);Mt&&(Mt.x=Nt.x,Mt.y=Nt.y,dt.children(ot).length&&(Mt.width=Nt.width,Mt.height=Nt.height))}),h.forEach(ft.edges(),function(ot){var Mt=ft.edge(ot),Nt=dt.edge(ot);Mt.points=Nt.points,h.has(Nt,"x")&&(Mt.x=Nt.x,Mt.y=Nt.y)}),ft.graph().width=dt.graph().width,ft.graph().height=dt.graph().height}var z=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],B=["width","height"],V={width:0,height:0},$=["minlen","weight","width","height","labeloffset"],nt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},at=["labelpos"];function st(ft){var dt=new N({multigraph:!0,compound:!0}),ot=bt(ft.graph());return dt.setGraph(h.merge({},w,Yt(ot,z),h.pick(ot,T))),h.forEach(ft.nodes(),function(Mt){var Nt=bt(ft.node(Mt));dt.setNode(Mt,h.defaults(Yt(Nt,B),V)),dt.setParent(Mt,ft.parent(Mt))}),h.forEach(ft.edges(),function(Mt){var Nt=bt(ft.edge(Mt));dt.setEdge(Mt,h.merge({},nt,Yt(Nt,$),h.pick(Nt,at)))}),dt}function tt(ft){var dt=ft.graph();dt.ranksep/=2,h.forEach(ft.edges(),function(ot){var Mt=ft.edge(ot);Mt.minlen*=2,Mt.labelpos.toLowerCase()!=="c"&&(dt.rankdir==="TB"||dt.rankdir==="BT"?Mt.width+=Mt.labeloffset:Mt.height+=Mt.labeloffset)})}function Q(ft){h.forEach(ft.edges(),function(dt){var ot=ft.edge(dt);if(ot.width&&ot.height){var Mt=ft.node(dt.v),Nt=ft.node(dt.w),Pt={rank:(Nt.rank-Mt.rank)/2+Mt.rank,e:dt};p.addDummyNode(ft,"edge-proxy",Pt,"_ep")}})}function Z(ft){var dt=0;h.forEach(ft.nodes(),function(ot){var Mt=ft.node(ot);Mt.borderTop&&(Mt.minRank=ft.node(Mt.borderTop).rank,Mt.maxRank=ft.node(Mt.borderBottom).rank,dt=h.max(dt,Mt.maxRank))}),ft.graph().maxRank=dt}function et(ft){h.forEach(ft.nodes(),function(dt){var ot=ft.node(dt);ot.dummy==="edge-proxy"&&(ft.edge(ot.e).labelRank=ot.rank,ft.removeNode(dt))})}function ct(ft){var dt=Number.POSITIVE_INFINITY,ot=0,Mt=Number.POSITIVE_INFINITY,Nt=0,Pt=ft.graph(),J=Pt.marginx||0,X=Pt.marginy||0;function vt(lt){var Ct=lt.x,Ft=lt.y,Wt=lt.width,kt=lt.height;dt=Math.min(dt,Ct-Wt/2),ot=Math.max(ot,Ct+Wt/2),Mt=Math.min(Mt,Ft-kt/2),Nt=Math.max(Nt,Ft+kt/2)}h.forEach(ft.nodes(),function(lt){vt(ft.node(lt))}),h.forEach(ft.edges(),function(lt){var Ct=ft.edge(lt);h.has(Ct,"x")&&vt(Ct)}),dt-=J,Mt-=X,h.forEach(ft.nodes(),function(lt){var Ct=ft.node(lt);Ct.x-=dt,Ct.y-=Mt}),h.forEach(ft.edges(),function(lt){var Ct=ft.edge(lt);h.forEach(Ct.points,function(Ft){Ft.x-=dt,Ft.y-=Mt}),h.has(Ct,"x")&&(Ct.x-=dt),h.has(Ct,"y")&&(Ct.y-=Mt)}),Pt.width=ot-dt+J,Pt.height=Nt-Mt+X}function mt(ft){h.forEach(ft.edges(),function(dt){var ot=ft.edge(dt),Mt=ft.node(dt.v),Nt=ft.node(dt.w),Pt,J;ot.points?(Pt=ot.points[0],J=ot.points[ot.points.length-1]):(ot.points=[],Pt=Nt,J=Mt),ot.points.unshift(p.intersectRect(Mt,Pt)),ot.points.push(p.intersectRect(Nt,J))})}function Ot(ft){h.forEach(ft.edges(),function(dt){var ot=ft.edge(dt);if(h.has(ot,"x"))switch((ot.labelpos==="l"||ot.labelpos==="r")&&(ot.width-=ot.labeloffset),ot.labelpos){case"l":ot.x-=ot.width/2+ot.labeloffset;break;case"r":ot.x+=ot.width/2+ot.labeloffset;break}})}function it(ft){h.forEach(ft.edges(),function(dt){var ot=ft.edge(dt);ot.reversed&&ot.points.reverse()})}function xt(ft){h.forEach(ft.nodes(),function(dt){if(ft.children(dt).length){var ot=ft.node(dt),Mt=ft.node(ot.borderTop),Nt=ft.node(ot.borderBottom),Pt=ft.node(h.last(ot.borderLeft)),J=ft.node(h.last(ot.borderRight));ot.width=Math.abs(J.x-Pt.x),ot.height=Math.abs(Nt.y-Mt.y),ot.x=Pt.x+ot.width/2,ot.y=Mt.y+ot.height/2}}),h.forEach(ft.nodes(),function(dt){ft.node(dt).dummy==="border"&&ft.removeNode(dt)})}function It(ft){h.forEach(ft.edges(),function(dt){if(dt.v===dt.w){var ot=ft.node(dt.v);ot.selfEdges||(ot.selfEdges=[]),ot.selfEdges.push({e:dt,label:ft.edge(dt)}),ft.removeEdge(dt)}})}function zt(ft){var dt=p.buildLayerMatrix(ft);h.forEach(dt,function(ot){var Mt=0;h.forEach(ot,function(Nt,Pt){var J=ft.node(Nt);J.order=Pt+Mt,h.forEach(J.selfEdges,function(X){p.addDummyNode(ft,"selfedge",{width:X.label.width,height:X.label.height,rank:J.rank,order:Pt+ ++Mt,e:X.e,label:X.label},"_se")}),delete J.selfEdges})})}function Kt(ft){h.forEach(ft.nodes(),function(dt){var ot=ft.node(dt);if(ot.dummy==="selfedge"){var Mt=ft.node(ot.e.v),Nt=Mt.x+Mt.width/2,Pt=Mt.y,J=ot.x-Nt,X=Mt.height/2;ft.setEdge(ot.e,ot.label),ft.removeNode(dt),ot.label.points=[{x:Nt+2*J/3,y:Pt-X},{x:Nt+5*J/6,y:Pt-X},{x:Nt+J,y:Pt},{x:Nt+5*J/6,y:Pt+X},{x:Nt+2*J/3,y:Pt+X}],ot.label.x=ot.x,ot.label.y=ot.y}})}function Yt(ft,dt){return h.mapValues(h.pick(ft,dt),Number)}function bt(ft){var dt={};return h.forEach(ft,function(ot,Mt){dt[Mt.toLowerCase()]=ot}),dt}},"H+Qf":function(Ut,L,a){var h=a("JWH+"),i=a("2GXS"),O=i(function(x,C){return x==null?{}:h(x,C)});Ut.exports=O},H6vk:function(Ut,L,a){"use strict";a.d(L,"b",function(){return h}),L.a=function(i,O){O||(O=[]);var x=i?Math.min(O.length,i.length):0,C=O.slice(),A;return function(S){for(A=0;A<x;++A)C[A]=i[A]*(1-S)+O[A]*S;return C}};function h(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}},HAYd:function(Ut,L,a){Ut.exports=i;var h=a("pHwo");function i(O,x){var C=O[0],A=O[1],S=x[0],M=x[1];return Math.abs(C-S)<=h*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(A-M)<=h*Math.max(1,Math.abs(A),Math.abs(M))}},HEgp:function(Ut,L,a){"use strict";a.d(L,"c",function(){return O}),a.d(L,"d",function(){return x}),a.d(L,"b",function(){return C}),a.d(L,"a",function(){return A});var h=a("J+IK"),i=a("jg4I"),O="x",x="y",C={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(M,b){return""+Object(i.s)(b,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},A={appendPadding:2,tooltip:Object(h.a)({},C),animation:{}}},HMFt:function(Ut,L,a){var h=a("7LJS"),i=a("hQ5t"),O=a("NA5Q");function x(C,A){return C&&C.length?h(C,i(A,2),O):void 0}Ut.exports=x},HR5z:function(Ut,L,a){var h=a("BXhE"),i=a("5Nvg"),O=a("br1w"),x=1/0,C=h&&1/O(new h([,-0]))[1]==x?function(A){return new h(A)}:i;Ut.exports=C},HUJz:function(Ut,L,a){"use strict";a.d(L,"a",function(){return C});var h=a("jGCv");function i(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function O(A,S){return i(A)*i(S)?(A[0]*S[0]+A[1]*S[1])/(i(A)*i(S)):1}function x(A,S){return(A[0]*S[1]<A[1]*S[0]?-1:1)*Math.acos(O(A,S))}function C(A,S){var M=S[1],b=S[2],g=Object(h.m)(Object(h.o)(S[3]),Math.PI*2),E=S[4],D=S[5],p=A[0],N=A[1],I=S[6],G=S[7],W=Math.cos(g)*(p-I)/2+Math.sin(g)*(N-G)/2,z=-1*Math.sin(g)*(p-I)/2+Math.cos(g)*(N-G)/2,w=W*W/(M*M)+z*z/(b*b);w>1&&(M*=Math.sqrt(w),b*=Math.sqrt(w));var T=M*M*(z*z)+b*b*(W*W),B=T?Math.sqrt((M*M*(b*b)-T)/T):1;E===D&&(B*=-1),isNaN(B)&&(B=0);var V=b?B*M*z/b:0,$=M?B*-b*W/M:0,nt=(p+I)/2+Math.cos(g)*V-Math.sin(g)*$,at=(N+G)/2+Math.sin(g)*V+Math.cos(g)*$,st=[(W-V)/M,(z-$)/b],tt=[(-1*W-V)/M,(-1*z-$)/b],Q=x([1,0],st),Z=x(st,tt);return O(st,tt)<=-1&&(Z=Math.PI),O(st,tt)>=1&&(Z=0),D===0&&Z>0&&(Z=Z-2*Math.PI),D===1&&Z<0&&(Z=Z+2*Math.PI),{cx:nt,cy:at,rx:Object(h.j)(A,[I,G])?0:M,ry:Object(h.j)(A,[I,G])?0:b,startAngle:Q,endAngle:Q+Z,xRotation:g,arcFlag:E,sweepFlag:D}}},Hcmt:function(Ut,L,a){"use strict";a.d(L,"a",function(){return M});var h=a("J+IK"),i=a("d38q"),O=a("S+j/"),x=a("CjkR"),C=a("RF2d"),A=Object(C.b)({},i.b.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),S=a("vnfV"),M=function(b){Object(h.c)(g,b);function g(){var E=b!==null&&b.apply(this,arguments)||this;return E.type="bar",E}return g.getDefaultOptions=function(){return A},g.prototype.changeData=function(E){this.updateOption({data:E});var D=this,p=D.chart,N=D.options,I=N.xField,G=N.yField,W=N.isPercent,z=Object(h.a)(Object(h.a)({},N),{xField:G,yField:I});Object(x.b)({chart:p,options:z}),p.changeData(Object(O.a)(Object(S.a)(E),I,G,I,W))},g.prototype.getDefaultOptions=function(){return g.getDefaultOptions()},g.prototype.getSchemaAdaptor=function(){return x.a},g}(i.b)},Hg9g:function(Ut,L,a){"use strict";a.d(L,"a",function(){return g}),a.d(L,"b",function(){return E});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("2Asv"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("syls"),g=function D(p){M()(this,D)},E=function(){function D(p){M()(this,D),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=p}return A()(D,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(N){return this.lookup[N]>-1}},{key:"create",value:function(N,I){this.lookup[N]=this.components.length;var G=new this.clazz(I||{});return this.components.push(G),this.entities.push(N),G}},{key:"remove",value:function(N){var I=this.lookup[N];I>-1&&I<this.components.length-1&&(this.components[I]=this.components[this.components.length-1],this.entities[I]=this.entities[this.entities.length-1],this.lookup[this.entities[I]]=I),this.components.pop(),this.entities.pop(),delete this.lookup[N]}},{key:"removeKeepSorted",value:function(N){var I=this.lookup[N];if(I>-1){var G=this.entities[I];if(I<this.components.length-1){for(var W=I+1;W<this.components.length;++W)this.components[W-1]=this.components[W];for(var z=I+1;z<this.entities.length;++z)this.entities[z-1]=this.entities[z],this.lookup[this.entities[z-1]]=z-1}this.components.pop(),this.entities.pop(),delete this.lookup[G]}}},{key:"moveItem",value:function(N,I){if(N!==I){for(var G=this.components[N],W=this.entities[N],z=N<I?1:-1,w=N;w!==I;w+=z){var T=w+z;this.components[w]=this.components[T],this.entities[w]=this.entities[T],this.lookup[this.entities[w]]=w}this.components[I]=G,this.entities[I]=W,this.lookup[W]=I}}},{key:"getEntity",value:function(N){return this.entities[N]}},{key:"getComponent",value:function(N){return this.components[N]}},{key:"getComponentByEntity",value:function(N){var I=this.lookup[N];return I>-1?this.components[I]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(N){for(var I=0,G=Object.keys(this.lookup);I<G.length;I++){var W=G[I],z=Number(W);if(this.lookup[z]===N)return z}return b.a}},{key:"find",value:function(N){for(var I=0;I<this.getCount();I++){var G=this.getComponent(I);if(N(G,I))return G}return null}},{key:"findIndex",value:function(N){for(var I=0;I<this.getCount();I++){var G=this.getComponent(I);if(N(G,I))return I}return-1}},{key:"forEach",value:function(N){for(var I=0,G=Object.keys(this.lookup);I<G.length;I++){var W=G[I],z=Number(W),w=this.lookup[z];N(z,this.getComponent(w))}}},{key:"forEachAsync",value:function(){var p=x()(i.a.mark(function I(G){var W,z,w,T,B;return i.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:W=0,z=Object.keys(this.lookup);case 1:if(!(W<z.length)){$.next=10;break}return w=z[W],T=Number(w),B=this.lookup[T],$.next=7,G(T,this.getComponent(B));case 7:W++,$.next=1;break;case 10:case"end":return $.stop()}},I,this)}));function N(I){return p.apply(this,arguments)}return N}()},{key:"map",value:function(N){for(var I=[],G=0,W=Object.keys(this.lookup);G<W.length;G++){var z=W[G],w=Number(z),T=this.lookup[w];I.push(N(w,this.getComponent(T)))}return I}}]),D}()},Hgj1:function(Ut,L,a){"use strict";a.r(L),a.d(L,"easeLinear",function(){return h}),a.d(L,"easeQuad",function(){return x}),a.d(L,"easeQuadIn",function(){return i}),a.d(L,"easeQuadOut",function(){return O}),a.d(L,"easeQuadInOut",function(){return x}),a.d(L,"easeCubic",function(){return S}),a.d(L,"easeCubicIn",function(){return C}),a.d(L,"easeCubicOut",function(){return A}),a.d(L,"easeCubicInOut",function(){return S}),a.d(L,"easePoly",function(){return E}),a.d(L,"easePolyIn",function(){return b}),a.d(L,"easePolyOut",function(){return g}),a.d(L,"easePolyInOut",function(){return E}),a.d(L,"easeSin",function(){return G}),a.d(L,"easeSinIn",function(){return N}),a.d(L,"easeSinOut",function(){return I}),a.d(L,"easeSinInOut",function(){return G}),a.d(L,"easeExp",function(){return T}),a.d(L,"easeExpIn",function(){return z}),a.d(L,"easeExpOut",function(){return w}),a.d(L,"easeExpInOut",function(){return T}),a.d(L,"easeCircle",function(){return $}),a.d(L,"easeCircleIn",function(){return B}),a.d(L,"easeCircleOut",function(){return V}),a.d(L,"easeCircleInOut",function(){return $}),a.d(L,"easeBounce",function(){return xt}),a.d(L,"easeBounceIn",function(){return it}),a.d(L,"easeBounceOut",function(){return xt}),a.d(L,"easeBounceInOut",function(){return It}),a.d(L,"easeBack",function(){return bt}),a.d(L,"easeBackIn",function(){return Kt}),a.d(L,"easeBackOut",function(){return Yt}),a.d(L,"easeBackInOut",function(){return bt}),a.d(L,"easeElastic",function(){return Nt}),a.d(L,"easeElasticIn",function(){return Mt}),a.d(L,"easeElasticOut",function(){return Nt}),a.d(L,"easeElasticInOut",function(){return Pt});function h(J){return+J}function i(J){return J*J}function O(J){return J*(2-J)}function x(J){return((J*=2)<=1?J*J:--J*(2-J)+1)/2}function C(J){return J*J*J}function A(J){return--J*J*J+1}function S(J){return((J*=2)<=1?J*J*J:(J-=2)*J*J+2)/2}var M=3,b=function J(X){X=+X;function vt(lt){return Math.pow(lt,X)}return vt.exponent=J,vt}(M),g=function J(X){X=+X;function vt(lt){return 1-Math.pow(1-lt,X)}return vt.exponent=J,vt}(M),E=function J(X){X=+X;function vt(lt){return((lt*=2)<=1?Math.pow(lt,X):2-Math.pow(2-lt,X))/2}return vt.exponent=J,vt}(M),D=Math.PI,p=D/2;function N(J){return+J==1?1:1-Math.cos(J*p)}function I(J){return Math.sin(J*p)}function G(J){return(1-Math.cos(D*J))/2}function W(J){return(Math.pow(2,-10*J)-.0009765625)*1.0009775171065494}function z(J){return W(1-+J)}function w(J){return 1-W(J)}function T(J){return((J*=2)<=1?W(1-J):2-W(J-1))/2}function B(J){return 1-Math.sqrt(1-J*J)}function V(J){return Math.sqrt(1- --J*J)}function $(J){return((J*=2)<=1?1-Math.sqrt(1-J*J):Math.sqrt(1-(J-=2)*J)+1)/2}var nt=4/11,at=6/11,st=8/11,tt=3/4,Q=9/11,Z=10/11,et=15/16,ct=21/22,mt=63/64,Ot=1/nt/nt;function it(J){return 1-xt(1-J)}function xt(J){return(J=+J)<nt?Ot*J*J:J<st?Ot*(J-=at)*J+tt:J<Z?Ot*(J-=Q)*J+et:Ot*(J-=ct)*J+mt}function It(J){return((J*=2)<=1?1-xt(1-J):xt(J-1)+1)/2}var zt=1.70158,Kt=function J(X){X=+X;function vt(lt){return(lt=+lt)*lt*(X*(lt-1)+lt)}return vt.overshoot=J,vt}(zt),Yt=function J(X){X=+X;function vt(lt){return--lt*lt*((lt+1)*X+lt)+1}return vt.overshoot=J,vt}(zt),bt=function J(X){X=+X;function vt(lt){return((lt*=2)<1?lt*lt*((X+1)*lt-X):(lt-=2)*lt*((X+1)*lt+X)+2)/2}return vt.overshoot=J,vt}(zt),ft=2*Math.PI,dt=1,ot=.3,Mt=function J(X,vt){var lt=Math.asin(1/(X=Math.max(1,X)))*(vt/=ft);function Ct(Ft){return X*W(- --Ft)*Math.sin((lt-Ft)/vt)}return Ct.amplitude=function(Ft){return J(Ft,vt*ft)},Ct.period=function(Ft){return J(X,Ft)},Ct}(dt,ot),Nt=function J(X,vt){var lt=Math.asin(1/(X=Math.max(1,X)))*(vt/=ft);function Ct(Ft){return 1-X*W(Ft=+Ft)*Math.sin((Ft+lt)/vt)}return Ct.amplitude=function(Ft){return J(Ft,vt*ft)},Ct.period=function(Ft){return J(X,Ft)},Ct}(dt,ot),Pt=function J(X,vt){var lt=Math.asin(1/(X=Math.max(1,X)))*(vt/=ft);function Ct(Ft){return((Ft=Ft*2-1)<0?X*W(-Ft)*Math.sin((lt-Ft)/vt):2-X*W(Ft)*Math.sin((lt+Ft)/vt))/2}return Ct.amplitude=function(Ft){return J(Ft,vt*ft)},Ct.period=function(Ft){return J(X,Ft)},Ct}(dt,ot)},I7m4:function(Ut,L,a){var h=a("ql+n"),i=a("EEYS");Ut.exports=O;function O(x){return h.filter(i(x),function(C){return C.length>1||C.length===1&&x.hasEdge(C[0],C[0])})}},IJeR:function(Ut,L,a){var h=a("ql+n"),i=a("K0S0");Ut.exports={write:O,read:A};function O(S){var M={options:{directed:S.isDirected(),multigraph:S.isMultigraph(),compound:S.isCompound()},nodes:x(S),edges:C(S)};return h.isUndefined(S.graph())||(M.value=h.clone(S.graph())),M}function x(S){return h.map(S.nodes(),function(M){var b=S.node(M),g=S.parent(M),E={v:M};return h.isUndefined(b)||(E.value=b),h.isUndefined(g)||(E.parent=g),E})}function C(S){return h.map(S.edges(),function(M){var b=S.edge(M),g={v:M.v,w:M.w};return h.isUndefined(M.name)||(g.name=M.name),h.isUndefined(b)||(g.value=b),g})}function A(S){var M=new i(S.options).setGraph(S.value);return h.each(S.nodes,function(b){M.setNode(b.v,b.value),b.parent&&M.setParent(b.v,b.parent)}),h.each(S.edges,function(b){M.setEdge({v:b.v,w:b.w,name:b.name},b.value)}),M}},IX3a:function(Ut,L,a){"use strict";a.d(L,"b",function(){return O}),a.d(L,"a",function(){return x});var h=a("jg4I"),i="Invalid field: it must be a string!";function O(C,A){var S=C.field,M=C.fields;if(Object(h.O)(S))return S;if(Object(h.B)(S))return console.warn(i),S[0];if(console.warn(i+" will try to get fields instead."),Object(h.O)(M))return M;if(Object(h.B)(M)&&M.length)return M[0];if(A)return A;throw new TypeError(i)}function x(C){var A=[];return C&&C.each?C.each(function(S){A.push(S)}):C&&C.eachNode&&C.eachNode(function(S){A.push(S)}),A}},IXtn:function(Ut,L,a){"use strict";a.d(L,"a",function(){return M});var h=5,i={}.toString,O=function(g,E){return i.call(g)==="[object "+E+"]"},x=function(g){return O(g,"Array")},C=function(g){return typeof g=="object"&&g!==null},A=function(g){if(!C(g)||!O(g,"Object"))return!1;for(var E=g;Object.getPrototypeOf(E)!==null;)E=Object.getPrototypeOf(E);return Object.getPrototypeOf(g)===E},S=function b(g,E,D,p){D=D||0,p=p||h;for(var N in E)if(Object.prototype.hasOwnProperty.call(E,N)){var I=E[N];I?A(I)?(A(g[N])||(g[N]={}),D<p?b(g[N],I,D+1,p):g[N]=E[N]):x(I)?(g[N]=[],g[N]=g[N].concat(I)):g[N]=I:g[N]=I}},M=function(g){for(var E=[],D=1;D<arguments.length;D++)E[D-1]=arguments[D];for(var p=0;p<E.length;p+=1)S(g,E[p]);return g}},IZ4i:function(Ut,L,a){var h=a("vqXp"),i=a("tIv8"),O=a("WeNx"),x=i?function(C,A){return i(C,"toString",{configurable:!0,enumerable:!1,value:h(A),writable:!0})}:O;Ut.exports=x},IcjZ:function(Ut,L,a){"use strict";var h=a("OUPr");a.d(L,"Annotation",function(){return h});var i=a("Yf+D");a.d(L,"Axis",function(){return i});var O=a("dUXx");a.d(L,"Crosshair",function(){return O});var x=a("gsK0");a.d(L,"Grid",function(){return x});var C=a("7a2H");a.d(L,"Legend",function(){return C});var A=a("y1zf");a.d(L,"Tooltip",function(){return A});var S=a("QwgH"),M=a("jFyH"),b=a("oDuu"),g=a("LomN");a.d(L,"Slider",function(){return g.a});var E=a("yjpz");a.d(L,"Scrollbar",function(){return E.a});var D=a("NT8r"),p=a.n(D),N=a("XlHn"),I=a.n(N),G=a("JGup");a.d(L,"propagationDelegate",function(){return G.a});var W=a("nA9L");a.d(L,"TOOLTIP_CSS_CONST",function(){return W})},Ilvg:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jg4I"),O=a("sxZn"),x=a("MOSd"),C=a("DdnP"),A=a("0R1f"),S=O.a.transform,M="matrix",b=["zIndex","capture","visible","type"],g=["repeat"],E=":",D="*";function p(z){for(var w=[],T=0;T<z.length;T++)Object(i.B)(z[T])?w.push([].concat(z[T])):w.push(z[T]);return w}function N(z,w){var T={},B=w.attrs;for(var V in z)T[V]=B[V];return T}function I(z,w){var T={},B=w.attr();return Object(i.j)(z,function(V,$){g.indexOf($)===-1&&!Object(i.G)(B[$],V)&&(T[$]=V)}),T}function G(z,w){if(w.onFrame)return z;var T=w.startTime,B=w.delay,V=w.duration,$=Object.prototype.hasOwnProperty;return Object(i.j)(z,function(nt){T+B<nt.startTime+nt.delay+nt.duration&&V>nt.delay&&Object(i.j)(w.toAttrs,function(at,st){$.call(nt.toAttrs,st)&&(delete nt.toAttrs[st],delete nt.fromAttrs[st])})}),z}var W=function(z){Object(h.c)(w,z);function w(T){var B=z.call(this,T)||this;B.attrs={};var V=B.getDefaultAttrs();return Object(i.bb)(V,T.attrs),B.attrs=V,B.initAttrs(V),B.initAnimate(),B}return w.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},w.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},w.prototype.onCanvasChange=function(T){},w.prototype.initAttrs=function(T){},w.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},w.prototype.isGroup=function(){return!1},w.prototype.getParent=function(){return this.get("parent")},w.prototype.getCanvas=function(){return this.get("canvas")},w.prototype.attr=function(){for(var T,B=[],V=0;V<arguments.length;V++)B[V]=arguments[V];var $=B[0],nt=B[1];if(!$)return this.attrs;if(Object(i.M)($)){for(var at in $)this.setAttr(at,$[at]);return this.afterAttrsChange($),this}return B.length===2?(this.setAttr($,nt),this.afterAttrsChange((T={},T[$]=nt,T)),this):this.attrs[$]},w.prototype.isClipped=function(T,B){var V=this.getClip();return V&&!V.isHit(T,B)},w.prototype.setAttr=function(T,B){var V=this.attrs[T];V!==B&&(this.attrs[T]=B,this.onAttrChange(T,B,V))},w.prototype.onAttrChange=function(T,B,V){T==="matrix"&&this.set("totalMatrix",null)},w.prototype.afterAttrsChange=function(T){if(this.cfg.isClipShape){var B=this.cfg.applyTo;B&&B.onCanvasChange("clip")}else this.onCanvasChange("attr")},w.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},w.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},w.prototype.setZIndex=function(T){this.set("zIndex",T);var B=this.getParent();return B&&B.sort(),this},w.prototype.toFront=function(){var T=this.getParent();if(!!T){var B=T.getChildren(),V=this.get("el"),$=B.indexOf(this);B.splice($,1),B.push(this),this.onCanvasChange("zIndex")}},w.prototype.toBack=function(){var T=this.getParent();if(!!T){var B=T.getChildren(),V=this.get("el"),$=B.indexOf(this);B.splice($,1),B.unshift(this),this.onCanvasChange("zIndex")}},w.prototype.remove=function(T){T===void 0&&(T=!0);var B=this.getParent();B?(Object(x.j)(B.getChildren(),this),B.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),T&&this.destroy()},w.prototype.resetMatrix=function(){this.attr(M,this.getDefaultMatrix()),this.onCanvasChange("matrix")},w.prototype.getMatrix=function(){return this.attr(M)},w.prototype.setMatrix=function(T){this.attr(M,T),this.onCanvasChange("matrix")},w.prototype.getTotalMatrix=function(){var T=this.cfg.totalMatrix;if(!T){var B=this.attr("matrix"),V=this.cfg.parentMatrix;V&&B?T=Object(C.b)(V,B):T=B||V,this.set("totalMatrix",T)}return T},w.prototype.applyMatrix=function(T){var B=this.attr("matrix"),V=null;T&&B?V=Object(C.b)(T,B):V=B||T,this.set("totalMatrix",V),this.set("parentMatrix",T)},w.prototype.getDefaultMatrix=function(){return null},w.prototype.applyToMatrix=function(T){var B=this.attr("matrix");return B?Object(C.c)(B,T):T},w.prototype.invertFromMatrix=function(T){var B=this.attr("matrix");if(B){var V=Object(C.a)(B);if(V)return Object(C.c)(V,T)}return T},w.prototype.setClip=function(T){var B=this.getCanvas(),V=null;if(T){var $=this.getShapeBase(),nt=Object(i.tb)(T.type),at=$[nt];at&&(V=new at({type:T.type,isClipShape:!0,applyTo:this,attrs:T.attrs,canvas:B}))}return this.set("clipShape",V),this.onCanvasChange("clip"),V},w.prototype.getClip=function(){var T=this.cfg.clipShape;return T||null},w.prototype.clone=function(){var T=this,B=this.attrs,V={};Object(i.j)(B,function(at,st){Object(i.B)(B[st])?V[st]=p(B[st]):V[st]=B[st]});var $=this.constructor,nt=new $({attrs:V});return Object(i.j)(b,function(at){nt.set(at,T.get(at))}),nt},w.prototype.destroy=function(){var T=this.destroyed;T||(this.attrs={},z.prototype.destroy.call(this))},w.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},w.prototype.animate=function(){for(var T=[],B=0;B<arguments.length;B++)T[B]=arguments[B];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var V=this.get("timeline");V||(V=this.get("canvas").get("timeline"),this.set("timeline",V));var $=this.get("animations")||[];V.timer||V.initTimer();var nt=T[0],at=T[1],st=T[2],tt=st===void 0?"easeLinear":st,Q=T[3],Z=Q===void 0?i.db:Q,et=T[4],ct=et===void 0?0:et,mt,Ot,it,xt,It;Object(i.H)(nt)?(mt=nt,nt={}):Object(i.M)(nt)&&nt.onFrame&&(mt=nt.onFrame,Ot=nt.repeat),Object(i.M)(at)?(It=at,at=It.duration,tt=It.easing||"easeLinear",ct=It.delay||0,Ot=It.repeat||Ot||!1,Z=It.callback||i.db,it=It.pauseCallback||i.db,xt=It.resumeCallback||i.db):(Object(i.K)(Z)&&(ct=Z,Z=null),Object(i.H)(tt)?(Z=tt,tt="easeLinear"):tt=tt||"easeLinear");var zt=I(nt,this),Kt={fromAttrs:N(zt,this),toAttrs:zt,duration:at,easing:tt,repeat:Ot,callback:Z,pauseCallback:it,resumeCallback:xt,delay:ct,startTime:V.getTime(),id:Object(i.sb)(),onFrame:mt,pathFormatted:!1};$.length>0?$=G($,Kt):V.addAnimator(this),$.push(Kt),this.set("animations",$),this.set("_pause",{isPaused:!1})}},w.prototype.stopAnimate=function(T){var B=this;T===void 0&&(T=!0);var V=this.get("animations");Object(i.j)(V,function($){T&&($.onFrame?B.attr($.onFrame(1)):B.attr($.toAttrs)),$.callback&&$.callback()}),this.set("animating",!1),this.set("animations",[])},w.prototype.pauseAnimate=function(){var T=this.get("timeline"),B=this.get("animations"),V=T.getTime();return Object(i.j)(B,function($){$._paused=!0,$._pauseTime=V,$.pauseCallback&&$.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:V}),this},w.prototype.resumeAnimate=function(){var T=this.get("timeline"),B=T.getTime(),V=this.get("animations"),$=this.get("_pause").pauseTime;return Object(i.j)(V,function(nt){nt.startTime=nt.startTime+(B-$),nt._paused=!1,nt._pauseTime=null,nt.resumeCallback&&nt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",V),this},w.prototype.emitDelegation=function(T,B){var V=this,$=B.propagationPath,nt=this.getEvents(),at;T==="mouseenter"?at=B.fromShape:T==="mouseleave"&&(at=B.toShape);for(var st=function(ct){var mt=$[ct],Ot=mt.get("name");if(Ot){if((mt.isGroup()||mt.isCanvas&&mt.isCanvas())&&at&&Object(x.g)(mt,at))return"break";Object(i.B)(Ot)?Object(i.j)(Ot,function(it){V.emitDelegateEvent(mt,it,B)}):tt.emitDelegateEvent(mt,Ot,B)}},tt=this,Q=0;Q<$.length;Q++){var Z=st(Q);if(Z==="break")break}},w.prototype.emitDelegateEvent=function(T,B,V){var $=this.getEvents(),nt=B+E+V.type;($[nt]||$[D])&&(V.name=nt,V.currentTarget=T,V.delegateTarget=this,V.delegateObject=T.get("delegateObject"),this.emit(nt,V))},w.prototype.translate=function(T,B){T===void 0&&(T=0),B===void 0&&(B=0);var V=this.getMatrix(),$=S(V,[["t",T,B]]);return this.setMatrix($),this},w.prototype.move=function(T,B){var V=this.attr("x")||0,$=this.attr("y")||0;return this.translate(T-V,B-$),this},w.prototype.moveTo=function(T,B){return this.move(T,B)},w.prototype.scale=function(T,B){var V=this.getMatrix(),$=S(V,[["s",T,B||T]]);return this.setMatrix($),this},w.prototype.rotate=function(T){var B=this.getMatrix(),V=S(B,[["r",T]]);return this.setMatrix(V),this},w.prototype.rotateAtStart=function(T){var B=this.attr(),V=B.x,$=B.y,nt=this.getMatrix(),at=S(nt,[["t",-V,-$],["r",T],["t",V,$]]);return this.setMatrix(at),this},w.prototype.rotateAtPoint=function(T,B,V){var $=this.getMatrix(),nt=S($,[["t",-T,-B],["r",V],["t",T,B]]);return this.setMatrix(nt),this},w}(A.a);L.a=W},Ixdt:function(Ut,L,a){var h=a("fQKG"),i=a("/DyB"),O=i(function(x,C,A){h(x,C,A)});Ut.exports=O},"J+IK":function(Ut,L,a){"use strict";a.d(L,"c",function(){return i}),a.d(L,"a",function(){return O}),a.d(L,"e",function(){return x}),a.d(L,"b",function(){return M}),a.d(L,"d",function(){return b}),a.d(L,"g",function(){return I}),a.d(L,"f",function(){return G});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h=function(Q,Z){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,ct){et.__proto__=ct}||function(et,ct){for(var mt in ct)Object.prototype.hasOwnProperty.call(ct,mt)&&(et[mt]=ct[mt])},h(Q,Z)};function i(tt,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");h(tt,Q);function Z(){this.constructor=tt}tt.prototype=Q===null?Object.create(Q):(Z.prototype=Q.prototype,new Z)}var O=function(){return O=Object.assign||function(Z){for(var et,ct=1,mt=arguments.length;ct<mt;ct++){et=arguments[ct];for(var Ot in et)Object.prototype.hasOwnProperty.call(et,Ot)&&(Z[Ot]=et[Ot])}return Z},O.apply(this,arguments)};function x(tt,Q){var Z={};for(var et in tt)Object.prototype.hasOwnProperty.call(tt,et)&&Q.indexOf(et)<0&&(Z[et]=tt[et]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,et=Object.getOwnPropertySymbols(tt);ct<et.length;ct++)Q.indexOf(et[ct])<0&&Object.prototype.propertyIsEnumerable.call(tt,et[ct])&&(Z[et[ct]]=tt[et[ct]]);return Z}function C(tt,Q,Z,et){var ct=arguments.length,mt=ct<3?Q:et===null?et=Object.getOwnPropertyDescriptor(Q,Z):et,Ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")mt=Reflect.decorate(tt,Q,Z,et);else for(var it=tt.length-1;it>=0;it--)(Ot=tt[it])&&(mt=(ct<3?Ot(mt):ct>3?Ot(Q,Z,mt):Ot(Q,Z))||mt);return ct>3&&mt&&Object.defineProperty(Q,Z,mt),mt}function A(tt,Q){return function(Z,et){Q(Z,et,tt)}}function S(tt,Q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tt,Q)}function M(tt,Q,Z,et){function ct(mt){return mt instanceof Z?mt:new Z(function(Ot){Ot(mt)})}return new(Z||(Z=Promise))(function(mt,Ot){function it(zt){try{It(et.next(zt))}catch(Kt){Ot(Kt)}}function xt(zt){try{It(et.throw(zt))}catch(Kt){Ot(Kt)}}function It(zt){zt.done?mt(zt.value):ct(zt.value).then(it,xt)}It((et=et.apply(tt,Q||[])).next())})}function b(tt,Q){var Z={label:0,sent:function(){if(mt[0]&1)throw mt[1];return mt[1]},trys:[],ops:[]},et,ct,mt,Ot;return Ot={next:it(0),throw:it(1),return:it(2)},typeof Symbol=="function"&&(Ot[Symbol.iterator]=function(){return this}),Ot;function it(It){return function(zt){return xt([It,zt])}}function xt(It){if(et)throw new TypeError("Generator is already executing.");for(;Z;)try{if(et=1,ct&&(mt=It[0]&2?ct.return:It[0]?ct.throw||((mt=ct.return)&&mt.call(ct),0):ct.next)&&!(mt=mt.call(ct,It[1])).done)return mt;switch(ct=0,mt&&(It=[It[0]&2,mt.value]),It[0]){case 0:case 1:mt=It;break;case 4:return Z.label++,{value:It[1],done:!1};case 5:Z.label++,ct=It[1],It=[0];continue;case 7:It=Z.ops.pop(),Z.trys.pop();continue;default:if(mt=Z.trys,!(mt=mt.length>0&&mt[mt.length-1])&&(It[0]===6||It[0]===2)){Z=0;continue}if(It[0]===3&&(!mt||It[1]>mt[0]&&It[1]<mt[3])){Z.label=It[1];break}if(It[0]===6&&Z.label<mt[1]){Z.label=mt[1],mt=It;break}if(mt&&Z.label<mt[2]){Z.label=mt[2],Z.ops.push(It);break}mt[2]&&Z.ops.pop(),Z.trys.pop();continue}It=Q.call(tt,Z)}catch(zt){It=[6,zt],ct=0}finally{et=mt=0}if(It[0]&5)throw It[1];return{value:It[0]?It[1]:void 0,done:!0}}}var g=Object.create?function(tt,Q,Z,et){et===void 0&&(et=Z),Object.defineProperty(tt,et,{enumerable:!0,get:function(){return Q[Z]}})}:function(tt,Q,Z,et){et===void 0&&(et=Z),tt[et]=Q[Z]};function E(tt,Q){for(var Z in tt)Z!=="default"&&!Object.prototype.hasOwnProperty.call(Q,Z)&&g(Q,tt,Z)}function D(tt){var Q=typeof Symbol=="function"&&Symbol.iterator,Z=Q&&tt[Q],et=0;if(Z)return Z.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&et>=tt.length&&(tt=void 0),{value:tt&&tt[et++],done:!tt}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(tt,Q){var Z=typeof Symbol=="function"&&tt[Symbol.iterator];if(!Z)return tt;var et=Z.call(tt),ct,mt=[],Ot;try{for(;(Q===void 0||Q-- >0)&&!(ct=et.next()).done;)mt.push(ct.value)}catch(it){Ot={error:it}}finally{try{ct&&!ct.done&&(Z=et.return)&&Z.call(et)}finally{if(Ot)throw Ot.error}}return mt}function N(){for(var tt=[],Q=0;Q<arguments.length;Q++)tt=tt.concat(p(arguments[Q]));return tt}function I(){for(var tt=0,Q=0,Z=arguments.length;Q<Z;Q++)tt+=arguments[Q].length;for(var et=Array(tt),ct=0,Q=0;Q<Z;Q++)for(var mt=arguments[Q],Ot=0,it=mt.length;Ot<it;Ot++,ct++)et[ct]=mt[Ot];return et}function G(tt,Q){for(var Z=0,et=Q.length,ct=tt.length;Z<et;Z++,ct++)tt[ct]=Q[Z];return tt}function W(tt){return this instanceof W?(this.v=tt,this):new W(tt)}function z(tt,Q,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et=Z.apply(tt,Q||[]),ct,mt=[];return ct={},Ot("next"),Ot("throw"),Ot("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function Ot(Yt){et[Yt]&&(ct[Yt]=function(bt){return new Promise(function(ft,dt){mt.push([Yt,bt,ft,dt])>1||it(Yt,bt)})})}function it(Yt,bt){try{xt(et[Yt](bt))}catch(ft){Kt(mt[0][3],ft)}}function xt(Yt){Yt.value instanceof W?Promise.resolve(Yt.value.v).then(It,zt):Kt(mt[0][2],Yt)}function It(Yt){it("next",Yt)}function zt(Yt){it("throw",Yt)}function Kt(Yt,bt){Yt(bt),mt.shift(),mt.length&&it(mt[0][0],mt[0][1])}}function w(tt){var Q,Z;return Q={},et("next"),et("throw",function(ct){throw ct}),et("return"),Q[Symbol.iterator]=function(){return this},Q;function et(ct,mt){Q[ct]=tt[ct]?function(Ot){return(Z=!Z)?{value:W(tt[ct](Ot)),done:ct==="return"}:mt?mt(Ot):Ot}:mt}}function T(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=tt[Symbol.asyncIterator],Z;return Q?Q.call(tt):(tt=typeof D=="function"?D(tt):tt[Symbol.iterator](),Z={},et("next"),et("throw"),et("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function et(mt){Z[mt]=tt[mt]&&function(Ot){return new Promise(function(it,xt){Ot=tt[mt](Ot),ct(it,xt,Ot.done,Ot.value)})}}function ct(mt,Ot,it,xt){Promise.resolve(xt).then(function(It){mt({value:It,done:it})},Ot)}}function B(tt,Q){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:Q}):tt.raw=Q,tt}var V=Object.create?function(tt,Q){Object.defineProperty(tt,"default",{enumerable:!0,value:Q})}:function(tt,Q){tt.default=Q};function $(tt){if(tt&&tt.__esModule)return tt;var Q={};if(tt!=null)for(var Z in tt)Z!=="default"&&Object.prototype.hasOwnProperty.call(tt,Z)&&g(Q,tt,Z);return V(Q,tt),Q}function nt(tt){return tt&&tt.__esModule?tt:{default:tt}}function at(tt,Q,Z,et){if(Z==="a"&&!et)throw new TypeError("Private accessor was defined without a getter");if(typeof Q=="function"?tt!==Q||!et:!Q.has(tt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Z==="m"?et:Z==="a"?et.call(tt):et?et.value:Q.get(tt)}function st(tt,Q,Z,et,ct){if(et==="m")throw new TypeError("Private method is not writable");if(et==="a"&&!ct)throw new TypeError("Private accessor was defined without a setter");if(typeof Q=="function"?tt!==Q||!ct:!Q.has(tt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return et==="a"?ct.call(tt,Z):ct?ct.value=Z:Q.set(tt,Z),Z}},"J/Yx":function(Ut,L,a){"use strict";a.d(L,"a",function(){return Q});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("viI4"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("2Asv"),g=a.n(b),E=a("PVp4"),D=a.n(E),p=a("e6Zy"),N=a.n(p),I=a("me+i"),G=a.n(I),W=a("2Pg9"),z=a("XN3X"),w=a("ZVT1"),T,B,V,$,nt,at,st,tt,Q=(T=Object(I.injectable)(),B=Object(I.inject)(z.a.GeometryComponentManager),V=Object(I.inject)(z.a.RenderEngine),T($=(nt=(tt=function(){function Z(){M()(this,Z),A()(this,"geometry",at,this),A()(this,"engine",st,this)}return g()(Z,[{key:"execute",value:function(){var et=x()(i.a.mark(function mt(){var Ot=this;return i.a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:this.geometry.forEach(function(It,zt){zt.dirty&&(zt.attributes.forEach(function(Kt){if(Kt.dirty&&Kt.data){if(!Kt.buffer)Kt.buffer=Ot.engine.createBuffer({data:Kt.data,type:w.a.FLOAT});else{var Yt;(Yt=Kt.buffer)===null||Yt===void 0||Yt.subData({data:Kt.data,offset:0})}Kt.dirty=!1}}),zt.indices&&(zt.indicesBuffer?zt.indicesBuffer.subData({data:zt.indices,offset:0}):zt.indicesBuffer=Ot.engine.createElements({data:zt.indices,count:zt.indices.length,type:w.a.UNSIGNED_INT,usage:w.a.STATIC_DRAW})),zt.dirty=!1)});case 1:case"end":return xt.stop()}},mt,this)}));function ct(){return et.apply(this,arguments)}return ct}()},{key:"tearDown",value:function(){this.geometry.forEach(function(ct,mt){mt.indicesBuffer&&mt.indicesBuffer.destroy(),mt.attributes.forEach(function(Ot){Ot.buffer&&Ot.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},mt=ct.vertexCount,Ot=Object(W.createEntity)();return this.geometry.create(Ot,{vertexCount:mt})}},{key:"createInstancedBufferGeometry",value:function(ct){var mt=ct.maxInstancedCount,Ot=ct.vertexCount,it=Object(W.createEntity)();return this.geometry.create(it,{maxInstancedCount:mt,vertexCount:Ot})}}]),Z}(),tt),at=D()(nt.prototype,"geometry",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=D()(nt.prototype,"engine",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt))||$)},J8W3:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.postConstruct=void 0;var h=a("JIc3"),i=a("4b80"),O=a("TSqk");function x(){return function(C,A,S){var M=new O.Metadata(i.POST_CONSTRUCT,A);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,C.constructor))throw new Error(h.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,M,C.constructor)}}L.postConstruct=x},JGup:function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=a("xXxO");function i(O,x,C){var A=new h.Event(x,C);A.target=O,A.propagationPath.push(O),O.emitDelegation(x,A);for(var S=O.getParent();S;)S.emitDelegation(x,A),A.propagationPath.push(S),S=S.getParent()}},JIc3:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.STACK_OVERFLOW=L.CIRCULAR_DEPENDENCY_IN_FACTORY=L.POST_CONSTRUCT_ERROR=L.MULTIPLE_POST_CONSTRUCT_METHODS=L.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=L.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=L.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=L.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=L.ARGUMENTS_LENGTH_MISMATCH=L.INVALID_DECORATOR_OPERATION=L.INVALID_TO_SELF_VALUE=L.INVALID_FUNCTION_BINDING=L.INVALID_MIDDLEWARE_RETURN=L.NO_MORE_SNAPSHOTS_AVAILABLE=L.INVALID_BINDING_TYPE=L.NOT_IMPLEMENTED=L.CIRCULAR_DEPENDENCY=L.UNDEFINED_INJECT_ANNOTATION=L.MISSING_INJECT_ANNOTATION=L.MISSING_INJECTABLE_ANNOTATION=L.NOT_REGISTERED=L.CANNOT_UNBIND=L.AMBIGUOUS_MATCH=L.KEY_NOT_FOUND=L.NULL_ARGUMENT=L.DUPLICATED_METADATA=L.DUPLICATED_INJECTABLE_DECORATOR=void 0,L.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",L.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",L.NULL_ARGUMENT="NULL argument",L.KEY_NOT_FOUND="Key Not Found",L.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",L.CANNOT_UNBIND="Could not unbind serviceIdentifier:",L.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",L.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",L.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",L.UNDEFINED_INJECT_ANNOTATION=function(h){return"@inject called with undefined this could mean that the class "+h+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},L.CIRCULAR_DEPENDENCY="Circular dependency found:",L.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",L.INVALID_BINDING_TYPE="Invalid binding type:",L.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",L.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",L.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",L.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",L.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",L.ARGUMENTS_LENGTH_MISMATCH=function(){for(var h=[],i=0;i<arguments.length;i++)h[i]=arguments[i];return"The number of constructor arguments in the derived class "+(h[0]+" must be >= than the number of constructor arguments of its base class.")},L.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",L.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",L.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",L.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",L.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",L.POST_CONSTRUCT_ERROR=function(){for(var h=[],i=0;i<arguments.length;i++)h[i]=arguments[i];return"@postConstruct error in class "+h[0]+": "+h[1]},L.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var h=[],i=0;i<arguments.length;i++)h[i]=arguments[i];return"It looks like there is a circular dependency "+("in one of the '"+h[0]+"' bindings. Please investigate bindings with")+("service identifier '"+h[1]+"'.")},L.STACK_OVERFLOW="Maximum call stack size exceeded"},JJ9t:function(Ut,L){Ut.exports=a;function a(h,i){return h[0]=Math.round(i[0]),h[1]=Math.round(i[1]),h}},JJn1:function(Ut,L){},JP7k:function(Ut,L,a){"use strict";a.d(L,"a",function(){return b});var h=a("J+IK"),i=a("AO+g"),O=a("d38q"),x=a("RF2d"),C=a("MDvc"),A=a("jOdP"),S=a("xpMs"),M=a("ECvr"),b=function(g){Object(h.c)(E,g);function E(){var D=g!==null&&g.apply(this,arguments)||this;return D.type="pie",D}return E.getDefaultOptions=function(){return A.a},E.prototype.changeData=function(D){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var p=this.options,N=this.options.angleField,I=Object(x.q)(p.data,N),G=Object(x.q)(D,N);Object(S.c)(I,N)||Object(S.c)(G,N)?this.update({data:D}):(this.updateOption({data:D}),this.chart.data(G),Object(C.b)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},E.prototype.getDefaultOptions=function(){return E.getDefaultOptions()},E.prototype.getSchemaAdaptor=function(){return C.a},E}(O.b)},JRP5:function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=a("jg4I");function i(O,x,C){var A=x+"Style",S=null;return Object(h.j)(C,function(M,b){O[b]&&M[A]&&(S||(S={}),Object(h.bb)(S,M[A]))}),S}},"JWH+":function(Ut,L,a){var h=a("ThNq"),i=a("HDt/");function O(x,C){return h(x,C,function(A,S){return i(x,S)})}Ut.exports=O},Jtzm:function(Ut,L,a){"use strict";a.d(L,"a",function(){return Pt});var h=a("J+IK"),i=a("jg4I"),O=a("d38q"),x=a("RF2d"),C=a("ggto"),A=a("OM6K"),S="x",M="y",b="name",g="nodes",E="views",D=a("dN4e"),p=a("068J");function N(J){return J.target.depth}function I(J){return J.depth}function G(J,X){return X-1-J.height}function W(J,X){return J.sourceLinks.length?J.depth:X-1}function z(J){return J.targetLinks.length?J.depth:J.sourceLinks.length?Object(i.ab)(J.sourceLinks,N)-1:0}function w(J){return function(){return J}}function T(J,X){for(var vt=0,lt=0;lt<J.length;lt++)vt+=X(J[lt]);return vt}function B(J,X){for(var vt=-Infinity,lt=0;lt<J.length;lt++)vt=Math.max(X(J[lt]),vt);return vt}function V(J,X){for(var vt=Infinity,lt=0;lt<J.length;lt++)vt=Math.min(X(J[lt]),vt);return vt}function $(J,X){return at(J.source,X.source)||J.index-X.index}function nt(J,X){return at(J.target,X.target)||J.index-X.index}function at(J,X){return J.y0-X.y0}function st(J){return J.value}function tt(J){return J.index}function Q(J){return J.nodes}function Z(J){return J.links}function et(J,X){var vt=J.get(X);if(!vt)throw new Error("missing: "+X);return vt}function ct(J){for(var X=J.nodes,vt=0,lt=X;vt<lt.length;vt++){for(var Ct=lt[vt],Ft=Ct.y0,Wt=Ft,kt=0,jt=Ct.sourceLinks;kt<jt.length;kt++){var Y=jt[kt];Y.y0=Ft+Y.width/2,Ft+=Y.width}for(var U=0,j=Ct.targetLinks;U<j.length;U++){var Y=j[U];Y.y1=Wt+Y.width/2,Wt+=Y.width}}}function mt(){var J=0,X=0,vt=1,lt=1,Ct=24,Ft=8,Wt,kt=tt,jt=W,Y,U,j,q=Q,gt=Z,_=6;function yt(Ce){var sr={nodes:q(Ce),links:gt(Ce)};return wt(sr),St(sr),Dt(sr),Vt(sr),se(sr),ct(sr),sr}yt.update=function(Ce){return ct(Ce),Ce},yt.nodeId=function(Ce){return arguments.length?(kt=typeof Ce=="function"?Ce:w(Ce),yt):kt},yt.nodeAlign=function(Ce){return arguments.length?(jt=typeof Ce=="function"?Ce:w(Ce),yt):jt},yt.nodeDepth=function(Ce){return arguments.length?(Y=(typeof Ce=="function",Ce),yt):Y},yt.nodeSort=function(Ce){return arguments.length?(U=Ce,yt):U},yt.nodeWidth=function(Ce){return arguments.length?(Ct=+Ce,yt):Ct},yt.nodePadding=function(Ce){return arguments.length?(Ft=Wt=+Ce,yt):Ft},yt.nodes=function(Ce){return arguments.length?(q=typeof Ce=="function"?Ce:w(Ce),yt):q},yt.links=function(Ce){return arguments.length?(gt=typeof Ce=="function"?Ce:w(Ce),yt):gt},yt.linkSort=function(Ce){return arguments.length?(j=Ce,yt):j},yt.size=function(Ce){return arguments.length?(J=X=0,vt=+Ce[0],lt=+Ce[1],yt):[vt-J,lt-X]},yt.extent=function(Ce){return arguments.length?(J=+Ce[0][0],vt=+Ce[1][0],X=+Ce[0][1],lt=+Ce[1][1],yt):[[J,X],[vt,lt]]},yt.iterations=function(Ce){return arguments.length?(_=+Ce,yt):_};function wt(Ce){var sr=Ce.nodes,ke=Ce.links;sr.forEach(function(Dn,Nn){Dn.index=Nn,Dn.sourceLinks=[],Dn.targetLinks=[]});var Xe=new Map(sr.map(function(Dn){return[kt(Dn),Dn]}));if(ke.forEach(function(Dn,Nn){Dn.index=Nn;var Ia=Dn.source,ba=Dn.target;typeof Ia!="object"&&(Ia=Dn.source=et(Xe,Ia)),typeof ba!="object"&&(ba=Dn.target=et(Xe,ba)),Ia.sourceLinks.push(Dn),ba.targetLinks.push(Dn)}),j!=null)for(var dr=0,Sr=sr;dr<Sr.length;dr++){var Fr=Sr[dr],hn=Fr.sourceLinks,yn=Fr.targetLinks;hn.sort(j),yn.sort(j)}}function St(Ce){for(var sr=Ce.nodes,ke=0,Xe=sr;ke<Xe.length;ke++){var dr=Xe[ke];dr.value=dr.fixedValue===void 0?Math.max(T(dr.sourceLinks,st),T(dr.targetLinks,st)):dr.fixedValue}}function Dt(Ce){for(var sr=Ce.nodes,ke=sr.length,Xe=new Set(sr),dr=new Set,Sr=0;Xe.size;){if(Xe.forEach(function(Nn){Nn.depth=Sr;for(var Ia=0,ba=Nn.sourceLinks;Ia<ba.length;Ia++){var Oa=ba[Ia].target;dr.add(Oa)}}),++Sr>ke)throw new Error("circular link");Xe=dr,dr=new Set}if(Y)for(var Fr=Math.max(B(sr,function(Nn){return Nn.depth})+1,0),hn=void 0,yn=0;yn<sr.length;yn++){hn=sr[yn];var Dn=Math.max(B(sr,function(Nn){return Nn.depth})+1,0);hn.depth=Y.call(null,hn,Fr)}}function Vt(Ce){for(var sr=Ce.nodes,ke=sr.length,Xe=new Set(sr),dr=new Set,Sr=0;Xe.size;){if(Xe.forEach(function(Fr){Fr.height=Sr;for(var hn=0,yn=Fr.targetLinks;hn<yn.length;hn++){var Dn=yn[hn].source;dr.add(Dn)}}),++Sr>ke)throw new Error("circular link");Xe=dr,dr=new Set}}function Qt(Ce){for(var sr=Ce.nodes,ke=Math.max(B(sr,function(ba){return ba.depth})+1,0),Xe=(vt-J-Ct)/(ke-1),dr=new Array(ke).fill(0).map(function(){return[]}),Sr=0,Fr=sr;Sr<Fr.length;Sr++){var hn=Fr[Sr],yn=Math.max(0,Math.min(ke-1,Math.floor(jt.call(null,hn,ke))));hn.layer=yn,hn.x0=J+yn*Xe,hn.x1=hn.x0+Ct,dr[yn]?dr[yn].push(hn):dr[yn]=[hn]}if(U)for(var Dn=0,Nn=dr;Dn<Nn.length;Dn++){var Ia=Nn[Dn];Ia.sort(U)}return dr}function ee(Ce){for(var sr=V(Ce,function(Oa){return(lt-X-(Oa.length-1)*Wt)/T(Oa,st)}),ke=0,Xe=Ce;ke<Xe.length;ke++){for(var dr=Xe[ke],Sr=X,Fr=0,hn=dr;Fr<hn.length;Fr++){var yn=hn[Fr];yn.y0=Sr,yn.y1=Sr+yn.value*sr,Sr=yn.y1+Wt;for(var Dn=0,Nn=yn.sourceLinks;Dn<Nn.length;Dn++){var Ia=Nn[Dn];Ia.width=Ia.value*sr}}Sr=(lt-Sr+Wt)/(dr.length+1);for(var ba=0;ba<dr.length;++ba){var yn=dr[ba];yn.y0+=Sr*(ba+1),yn.y1+=Sr*(ba+1)}Ke(dr)}}function se(Ce){var sr=Qt(Ce);Wt=Math.min(Ft,(lt-X)/(B(sr,function(Sr){return Sr.length})-1)),ee(sr);for(var ke=0;ke<_;++ke){var Xe=Math.pow(.99,ke),dr=Math.max(1-Xe,(ke+1)/_);Ie(sr,Xe,dr),ye(sr,Xe,dr)}}function ye(Ce,sr,ke){for(var Xe=1,dr=Ce.length;Xe<dr;++Xe){for(var Sr=Ce[Xe],Fr=0,hn=Sr;Fr<hn.length;Fr++){for(var yn=hn[Fr],Dn=0,Nn=0,Ia=0,ba=yn.targetLinks;Ia<ba.length;Ia++){var Oa=ba[Ia],Wn=Oa.source,ai=Oa.value,Va=ai*(yn.layer-Wn.layer);Dn+=cr(Wn,yn)*Va,Nn+=Va}if(Nn>0){var ci=(Dn/Nn-yn.y0)*sr;yn.y0+=ci,yn.y1+=ci,We(yn)}}U===void 0&&Sr.sort(at),Sr.length&&Be(Sr,ke)}}function Ie(Ce,sr,ke){for(var Xe=Ce.length,dr=Xe-2;dr>=0;--dr){for(var Sr=Ce[dr],Fr=0,hn=Sr;Fr<hn.length;Fr++){for(var yn=hn[Fr],Dn=0,Nn=0,Ia=0,ba=yn.sourceLinks;Ia<ba.length;Ia++){var Oa=ba[Ia],Wn=Oa.target,ai=Oa.value,Va=ai*(Wn.layer-yn.layer);Dn+=or(yn,Wn)*Va,Nn+=Va}if(Nn>0){var ci=(Dn/Nn-yn.y0)*sr;yn.y0+=ci,yn.y1+=ci,We(yn)}}U===void 0&&Sr.sort(at),Sr.length&&Be(Sr,ke)}}function Be(Ce,sr){var ke=Ce.length>>1,Xe=Ce[ke];we(Ce,Xe.y0-Wt,ke-1,sr),Ze(Ce,Xe.y1+Wt,ke+1,sr),we(Ce,lt,Ce.length-1,sr),Ze(Ce,X,0,sr)}function Ze(Ce,sr,ke,Xe){for(;ke<Ce.length;++ke){var dr=Ce[ke],Sr=(sr-dr.y0)*Xe;Sr>1e-6&&(dr.y0+=Sr,dr.y1+=Sr),sr=dr.y1+Wt}}function we(Ce,sr,ke,Xe){for(;ke>=0;--ke){var dr=Ce[ke],Sr=(dr.y1-sr)*Xe;Sr>1e-6&&(dr.y0-=Sr,dr.y1-=Sr),sr=dr.y0-Wt}}function We(Ce){var sr=Ce.sourceLinks,ke=Ce.targetLinks;if(j===void 0){for(var Xe=0,dr=ke;Xe<dr.length;Xe++){var Sr=dr[Xe].source.sourceLinks;Sr.sort(nt)}for(var Fr=0,hn=sr;Fr<hn.length;Fr++){var yn=hn[Fr].target.targetLinks;yn.sort($)}}}function Ke(Ce){if(j===void 0)for(var sr=0,ke=Ce;sr<ke.length;sr++){var Xe=ke[sr],dr=Xe.sourceLinks,Sr=Xe.targetLinks;dr.sort(nt),Sr.sort($)}}function cr(Ce,sr){for(var ke=Ce.y0-(Ce.sourceLinks.length-1)*Wt/2,Xe=0,dr=Ce.sourceLinks;Xe<dr.length;Xe++){var Sr=dr[Xe],Fr=Sr.target,hn=Sr.width;if(Fr===sr)break;ke+=hn+Wt}for(var yn=0,Dn=sr.targetLinks;yn<Dn.length;yn++){var Nn=Dn[yn],Fr=Nn.source,hn=Nn.width;if(Fr===Ce)break;ke-=hn}return ke}function or(Ce,sr){for(var ke=sr.y0-(sr.targetLinks.length-1)*Wt/2,Xe=0,dr=sr.targetLinks;Xe<dr.length;Xe++){var Sr=dr[Xe],Fr=Sr.source,hn=Sr.width;if(Fr===Ce)break;ke+=hn+Wt}for(var yn=0,Dn=Ce.sourceLinks;yn<Dn.length;yn++){var Nn=Dn[yn],Fr=Nn.target,hn=Nn.width;if(Fr===sr)break;ke-=hn}return ke}return yt}var Ot={left:I,right:G,center:z,justify:W},it={nodeId:function(X){return X.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function xt(J){var X=Object(i.O)(J)?Ot[J]:Object(i.H)(J)?J:null;return X||W}function It(J){return Object(i.b)({},it,J)}function zt(J,X){var vt=It(J),lt=vt.nodeId,Ct=vt.nodeSort,Ft=vt.nodeAlign,Wt=vt.nodeWidth,kt=vt.nodePadding,jt=vt.nodeDepth,Y=mt().nodeSort(Ct).nodeWidth(Wt).nodePadding(kt).nodeDepth(jt).nodeAlign(xt(Ft)).extent([[0,0],[1,1]]).nodeId(lt),U=Y(X);return U.nodes.forEach(function(j){var q=j.x0,gt=j.x1,_=j.y0,yt=j.y1;j.x=[q,gt,gt,q],j.y=[_,_,yt,yt]}),U.links.forEach(function(j){var q=j.source,gt=j.target,_=q.x1,yt=gt.x0;j.x=[_,_,yt,yt];var wt=j.width/2;j.y=[j.y0+wt,j.y0-wt,j.y1+wt,j.y1-wt]}),U}function Kt(J,X,vt){return Object(i.jb)(X)===0?!1:X.includes(vt)?!0:X.some(function(lt){return Kt(J,J.get(lt),vt)})}function Yt(J,X,vt){var lt=[],Ct=[],Ft=new Map;return Object(i.j)(J,function(Wt){var kt=Wt[X],jt=Wt[vt];Kt(Ft,[kt],jt)?Ct.push(Wt):(lt.push(Wt),Ft.has(jt)||Ft.set(jt,[]),Ft.get(jt).push(kt))}),Ct.length!==0&&console.warn("sankey data contains circle, "+Ct.length+" records removed.",Ct),lt}function bt(J,X,vt){return Object(D.b)(J)?J/vt:X}function ft(J,X,vt){return Object(D.b)(J)?J/vt:X}function dt(J,X,vt){var lt=J.data,Ct=J.sourceField,Ft=J.targetField,Wt=J.weightField,kt=J.nodeAlign,jt=J.nodeSort,Y=J.nodePadding,U=J.nodePaddingRatio,j=J.nodeWidth,q=J.nodeWidthRatio,gt=J.nodeDepth,_=Object(p.c)(Yt(lt,Ct,Ft),Ct,Ft,Wt),yt=zt({nodeAlign:kt,nodePadding:ft(Y,U,vt),nodeWidth:bt(j,q,X),nodeSort:jt,nodeDepth:gt},_),wt=yt.nodes,St=yt.links;return{nodes:wt.map(function(Dt){return{x:Dt.x,y:Dt.y,name:Dt.name,isNode:!0}}),edges:St.map(function(Dt){return{source:Dt.source.name,target:Dt.target.name,name:Dt.source.name||Dt.target.name,x:Dt.x,y:Dt.y,value:Dt.value,isNode:!1}})}}function ot(J){var X=J.chart,vt=J.options,lt=vt.color,Ct=vt.nodeStyle,Ft=vt.edgeStyle,Wt=vt.label,kt=vt.tooltip;X.legend(!1),X.tooltip(kt),X.axis(!1),X.coordinate().reflect("y");var jt=dt(vt,X.width,X.height),Y=jt.nodes,U=jt.edges,j=X.createView({id:"views"});j.data(U),Object(A.b)({chart:j,options:{xField:S,yField:M,seriesField:b,edge:{color:lt,style:Ft,shape:"arc"},tooltip:kt,state:{active:{style:{opacity:.8,lineWidth:0}}}}});var q=X.createView({id:"nodes"});return q.data(Y),Object(A.f)({chart:q,options:{xField:S,yField:M,seriesField:b,polygon:{color:lt,style:Ct},label:Wt,tooltip:kt}}),X.interaction("element-active"),X.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color"}}),J}function Mt(J){var X=J.chart,vt=J.options,lt=vt.animation;typeof lt=="boolean"?X.animate(lt):X.animate(!0);var Ct=Object(h.g)(X.views[0].geometries,X.views[1].geometries);return Ct.forEach(function(Ft){Ft.animate(lt)}),J}function Nt(J){return Object(x.e)(ot,C.c,Mt,C.j)(J)}var Pt=function(J){Object(h.c)(X,J);function X(){var vt=J!==null&&J.apply(this,arguments)||this;return vt.type="sankey",vt}return X.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(lt,Ct){var Ft=lt[1]===1;return{style:{fill:"#545454",textAlign:Ft?"end":"start"},offsetX:Ft?-8:8,content:Ct}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,fields:["name","source","target","value","isNode"],showContent:function(lt){return!Object(i.s)(lt,[0,"data","isNode"])},formatter:function(lt){var Ct=lt.source,Ft=lt.target,Wt=lt.value;return{name:Ct+" -> "+Ft,value:Wt}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},X.prototype.changeData=function(vt){this.updateOption({data:vt});var lt=dt(this.options,this.chart.width,this.chart.height),Ct=lt.nodes,Ft=lt.edges,Wt=Object(x.d)(this.chart,g),kt=Object(x.d)(this.chart,E);Wt.changeData(Ct),kt.changeData(Ft)},X.prototype.getSchemaAdaptor=function(){return Nt},X.prototype.getDefaultOptions=function(){return X.getDefaultOptions()},X}(O.b)},Jw3O:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.optional=void 0;var h=a("4b80"),i=a("TSqk"),O=a("+QvE");function x(){return function(C,A,S){var M=new i.Metadata(h.OPTIONAL_TAG,!0);typeof S=="number"?O.tagParameter(C,A,S,M):O.tagProperty(C,A,M)}}L.optional=x},K0S0:function(Ut,L,a){"use strict";var h=a("ql+n");Ut.exports=C;var i="\0",O="\0",x="";function C(E){this._isDirected=h.has(E,"directed")?E.directed:!0,this._isMultigraph=h.has(E,"multigraph")?E.multigraph:!1,this._isCompound=h.has(E,"compound")?E.compound:!1,this._label=void 0,this._defaultNodeLabelFn=h.constant(void 0),this._defaultEdgeLabelFn=h.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[O]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(E){return this._label=E,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(E){return h.isFunction(E)||(E=h.constant(E)),this._defaultNodeLabelFn=E,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return h.keys(this._nodes)},C.prototype.sources=function(){var E=this;return h.filter(this.nodes(),function(D){return h.isEmpty(E._in[D])})},C.prototype.sinks=function(){var E=this;return h.filter(this.nodes(),function(D){return h.isEmpty(E._out[D])})},C.prototype.setNodes=function(E,D){var p=arguments,N=this;return h.each(E,function(I){p.length>1?N.setNode(I,D):N.setNode(I)}),this},C.prototype.setNode=function(E,D){return h.has(this._nodes,E)?(arguments.length>1&&(this._nodes[E]=D),this):(this._nodes[E]=arguments.length>1?D:this._defaultNodeLabelFn(E),this._isCompound&&(this._parent[E]=O,this._children[E]={},this._children[O][E]=!0),this._in[E]={},this._preds[E]={},this._out[E]={},this._sucs[E]={},++this._nodeCount,this)},C.prototype.node=function(E){return this._nodes[E]},C.prototype.hasNode=function(E){return h.has(this._nodes,E)},C.prototype.removeNode=function(E){var D=this;if(h.has(this._nodes,E)){var p=function(I){D.removeEdge(D._edgeObjs[I])};delete this._nodes[E],this._isCompound&&(this._removeFromParentsChildList(E),delete this._parent[E],h.each(this.children(E),function(N){D.setParent(N)}),delete this._children[E]),h.each(h.keys(this._in[E]),p),delete this._in[E],delete this._preds[E],h.each(h.keys(this._out[E]),p),delete this._out[E],delete this._sucs[E],--this._nodeCount}return this},C.prototype.setParent=function(E,D){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h.isUndefined(D))D=O;else{D+="";for(var p=D;!h.isUndefined(p);p=this.parent(p))if(p===E)throw new Error("Setting "+D+" as parent of "+E+" would create a cycle");this.setNode(D)}return this.setNode(E),this._removeFromParentsChildList(E),this._parent[E]=D,this._children[D][E]=!0,this},C.prototype._removeFromParentsChildList=function(E){delete this._children[this._parent[E]][E]},C.prototype.parent=function(E){if(this._isCompound){var D=this._parent[E];if(D!==O)return D}},C.prototype.children=function(E){if(h.isUndefined(E)&&(E=O),this._isCompound){var D=this._children[E];if(D)return h.keys(D)}else{if(E===O)return this.nodes();if(this.hasNode(E))return[]}},C.prototype.predecessors=function(E){var D=this._preds[E];if(D)return h.keys(D)},C.prototype.successors=function(E){var D=this._sucs[E];if(D)return h.keys(D)},C.prototype.neighbors=function(E){var D=this.predecessors(E);if(D)return h.union(D,this.successors(E))},C.prototype.isLeaf=function(E){var D;return this.isDirected()?D=this.successors(E):D=this.neighbors(E),D.length===0},C.prototype.filterNodes=function(E){var D=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});D.setGraph(this.graph());var p=this;h.each(this._nodes,function(G,W){E(W)&&D.setNode(W,G)}),h.each(this._edgeObjs,function(G){D.hasNode(G.v)&&D.hasNode(G.w)&&D.setEdge(G,p.edge(G))});var N={};function I(G){var W=p.parent(G);return W===void 0||D.hasNode(W)?(N[G]=W,W):W in N?N[W]:I(W)}return this._isCompound&&h.each(D.nodes(),function(G){D.setParent(G,I(G))}),D},C.prototype.setDefaultEdgeLabel=function(E){return h.isFunction(E)||(E=h.constant(E)),this._defaultEdgeLabelFn=E,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return h.values(this._edgeObjs)},C.prototype.setPath=function(E,D){var p=this,N=arguments;return h.reduce(E,function(I,G){return N.length>1?p.setEdge(I,G,D):p.setEdge(I,G),G}),this},C.prototype.setEdge=function(){var E,D,p,N,I=!1,G=arguments[0];typeof G=="object"&&G!==null&&"v"in G?(E=G.v,D=G.w,p=G.name,arguments.length===2&&(N=arguments[1],I=!0)):(E=G,D=arguments[1],p=arguments[3],arguments.length>2&&(N=arguments[2],I=!0)),E=""+E,D=""+D,h.isUndefined(p)||(p=""+p);var W=M(this._isDirected,E,D,p);if(h.has(this._edgeLabels,W))return I&&(this._edgeLabels[W]=N),this;if(!h.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(E),this.setNode(D),this._edgeLabels[W]=I?N:this._defaultEdgeLabelFn(E,D,p);var z=b(this._isDirected,E,D,p);return E=z.v,D=z.w,Object.freeze(z),this._edgeObjs[W]=z,A(this._preds[D],E),A(this._sucs[E],D),this._in[D][W]=z,this._out[E][W]=z,this._edgeCount++,this},C.prototype.edge=function(E,D,p){var N=arguments.length===1?g(this._isDirected,arguments[0]):M(this._isDirected,E,D,p);return this._edgeLabels[N]},C.prototype.hasEdge=function(E,D,p){var N=arguments.length===1?g(this._isDirected,arguments[0]):M(this._isDirected,E,D,p);return h.has(this._edgeLabels,N)},C.prototype.removeEdge=function(E,D,p){var N=arguments.length===1?g(this._isDirected,arguments[0]):M(this._isDirected,E,D,p),I=this._edgeObjs[N];return I&&(E=I.v,D=I.w,delete this._edgeLabels[N],delete this._edgeObjs[N],S(this._preds[D],E),S(this._sucs[E],D),delete this._in[D][N],delete this._out[E][N],this._edgeCount--),this},C.prototype.inEdges=function(E,D){var p=this._in[E];if(p){var N=h.values(p);return D?h.filter(N,function(I){return I.v===D}):N}},C.prototype.outEdges=function(E,D){var p=this._out[E];if(p){var N=h.values(p);return D?h.filter(N,function(I){return I.w===D}):N}},C.prototype.nodeEdges=function(E,D){var p=this.inEdges(E,D);if(p)return p.concat(this.outEdges(E,D))};function A(E,D){E[D]?E[D]++:E[D]=1}function S(E,D){--E[D]||delete E[D]}function M(E,D,p,N){var I=""+D,G=""+p;if(!E&&I>G){var W=I;I=G,G=W}return I+x+G+x+(h.isUndefined(N)?i:N)}function b(E,D,p,N){var I=""+D,G=""+p;if(!E&&I>G){var W=I;I=G,G=W}var z={v:I,w:G};return N&&(z.name=N),z}function g(E,D){return M(E,D.v,D.w,D.name)}},K105:function(Ut,L,a){"use strict";a.d(L,"a",function(){return S});var h=a("J+IK"),i=a("AO+g"),O=a("d38q"),x=a("bLrI"),C=a("SunQ"),A=a("aCJu");Object(i.registerShape)("point","gauge-indicator",{draw:function(b,g){var E=b.customInfo,D=E.indicator,p=E.defaultColor,N=D,I=N.pointer,G=N.pin,W=g.addGroup(),z=this.parsePoint({x:0,y:0});return I&&W.addShape("line",{name:"pointer",attrs:Object(h.a)({x1:z.x,y1:z.y,x2:b.x,y2:b.y,stroke:p},I.style)}),G&&W.addShape("circle",{name:"pin",attrs:Object(h.a)({x:z.x,y:z.y,stroke:p},G.style)}),W}}),Object(i.registerShape)("interval","meter-gauge",{draw:function(b,g){var E=b.customInfo.meter,D=E===void 0?{}:E,p=D.steps,N=p===void 0?50:p,I=D.stepRatio,G=I===void 0?.5:I,W=this.coordinate.endAngle-this.coordinate.startAngle,z=W/N,w=0;G>0&&G<=1&&(z=W/((1-G)/G*(N-1)+N),w=z*(1-G)/G);var T=g.addGroup();if(w>0)for(var B=this.coordinate.getCenter(),V=this.coordinate.getRadius(),$=i.Util.getAngle(b,this.coordinate),nt=$.startAngle,at=$.endAngle,st=nt,tt=0;st<at&&tt<2*N-1;tt++){var Q=tt%2;if(Q){var Z=i.Util.getSectorPath(B.x,B.y,V,st,Math.min(st+w,at),V*this.coordinate.innerRadius);T.addShape("path",{name:"meter-gauge-mask",attrs:{path:Z,fill:b.color,stroke:b.color,lineWidth:.5},capture:!1})}st+=Q?w:z}return T}});var S=function(M){Object(h.c)(b,M);function b(){var g=M!==null&&M.apply(this,arguments)||this;return g.type="gauge",g}return b.getDefaultOptions=function(){return C.b},b.prototype.changeData=function(g){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:g});var E=this.chart.views.find(function(p){return p.id===C.c});E&&E.data(Object(A.a)(g));var D=this.chart.views.find(function(p){return p.id===C.h});D&&D.data(Object(A.b)(g,this.options.range)),Object(x.b)({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b.prototype.getSchemaAdaptor=function(){return x.a},b}(O.b)},K4bE:function(Ut,L,a){"use strict";a.d(L,"a",function(){return J});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("viI4"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("2Asv"),g=a.n(b),E=a("PVp4"),D=a.n(E),p=a("e6Zy"),N=a.n(p),I=a("99LQ"),G=a("me+i"),W=a.n(G),z=a("XN3X"),w=a("ZVT1"),T,B,V,$,nt,at,st,tt,Q,Z,et,ct,mt,Ot,it,xt,It,zt,Kt,Yt,bt,ft,dt,ot;function Mt(X,vt){var lt;if(typeof Symbol=="undefined"||X[Symbol.iterator]==null){if(Array.isArray(X)||(lt=Nt(X))||vt&&X&&typeof X.length=="number"){lt&&(X=lt);var Ct=0,Ft=function(){};return{s:Ft,n:function(){return Ct>=X.length?{done:!0}:{done:!1,value:X[Ct++]}},e:function(U){throw U},f:Ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wt=!0,kt=!1,jt;return{s:function(){lt=X[Symbol.iterator]()},n:function(){var U=lt.next();return Wt=U.done,U},e:function(U){kt=!0,jt=U},f:function(){try{!Wt&&lt.return!=null&&lt.return()}finally{if(kt)throw jt}}}}function Nt(X,vt){if(!!X){if(typeof X=="string")return Pt(X,vt);var lt=Object.prototype.toString.call(X).slice(8,-1);if(lt==="Object"&&X.constructor&&(lt=X.constructor.name),lt==="Map"||lt==="Set")return Array.from(X);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return Pt(X,vt)}}function Pt(X,vt){(vt==null||vt>X.length)&&(vt=X.length);for(var lt=0,Ct=new Array(vt);lt<vt;lt++)Ct[lt]=X[lt];return Ct}var J=(T=Object(G.injectable)(),B=Object(G.inject)(z.a.MeshComponentManager),V=Object(G.inject)(z.a.GeometryComponentManager),$=Object(G.inject)(z.a.MaterialComponentManager),nt=Object(G.inject)(z.a.CullableComponentManager),at=Object(G.inject)(z.a.TransformComponentManager),st=Object(G.inject)(z.a.HierarchyComponentManager),tt=Object(G.inject)(z.a.Systems),Q=Object(G.named)(z.a.FrameGraphSystem),Z=Object(G.inject)(z.a.RenderEngine),et=Object(G.inject)(z.a.ResourcePool),T(ct=(mt=(ot=dt=function(){function X(){var vt=this;M()(this,X),A()(this,"mesh",Ot,this),A()(this,"geometry",it,this),A()(this,"material",xt,this),A()(this,"cullable",It,this),A()(this,"transform",zt,this),A()(this,"hierarchy",Kt,this),A()(this,"frameGraphSystem",Yt,this),A()(this,"engine",bt,this),A()(this,"resourcePool",ft,this),this.modelCache={},this.setup=function(lt,Ct,Ft){var Wt=lt.createRenderTarget(Ct,"color buffer",{width:1,height:1,usage:w.a.RENDER_ATTACHMENT|w.a.SAMPLED|w.a.COPY_SRC});Ft.data={output:Ct.write(lt,Wt)}},this.execute=function(){var lt=x()(i.a.mark(function Ct(Ft,Wt,kt){var jt,Y,U,j,q,gt;return i.a.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:jt=Ft.getResourceNode(Wt.data.output),Y=vt.resourcePool.getOrCreateResource(jt.resource),U=Mt(kt),yt.prev=3,U.s();case 5:if((j=U.n()).done){yt.next=11;break}return q=j.value,yt.next=9,vt.initView(q);case 9:yt.next=5;break;case 11:yt.next=16;break;case 13:yt.prev=13,yt.t0=yt.catch(3),U.e(yt.t0);case 16:return yt.prev=16,U.f(),yt.finish(16);case 19:gt=vt.engine.getCanvas(),Y.resize({width:gt.width,height:gt.height}),vt.engine.setScissor({enable:!1}),vt.engine.clear({framebuffer:Y,color:kt[0].getClearColor(),depth:1}),vt.engine.useFramebuffer(Y,function(){var wt=Mt(kt),St;try{for(wt.s();!(St=wt.n()).done;){var Dt=St.value;vt.renderView(Dt)}}catch(Vt){wt.e(Vt)}finally{wt.f()}});case 24:case"end":return yt.stop()}},Ct,null,[[3,13,16,19]])}));return function(Ct,Ft,Wt){return lt.apply(this,arguments)}}()}return g()(X,[{key:"renderView",value:function(lt){var Ct=lt.getScene(),Ft=lt.getCamera(),Wt=Ft.getViewTransform(),kt=I.b.multiply(I.b.create(),Ft.getPerspective(),Wt);Ft.getFrustum().extractFromVPMatrix(kt);var jt=lt.getViewport(),Y=jt.x,U=jt.y,j=jt.width,q=jt.height;this.engine.viewport({x:Y,y:U,width:j,height:q});var gt=Mt(Ct.getEntities()),_;try{for(gt.s();!(_=gt.n()).done;){var yt=_.value;this.renderMesh(yt,{camera:Ft,view:lt,viewMatrix:Wt})}}catch(wt){gt.e(wt)}finally{gt.f()}}},{key:"renderMesh",value:function(lt,Ct){var Ft=Ct.camera,Wt=Ct.view,kt=Ct.viewMatrix,jt=this.mesh.getComponentByEntity(lt);if(!(!jt||!jt.visible)){var Y=jt.material,U=jt.geometry;if(!(!U||U.dirty||!Y)){var j=this.transform.getComponentByEntity(lt),q=I.b.multiply(I.b.create(),kt,j.worldTransform),gt=Wt.getViewport(),_=gt.width,yt=gt.height;Y.setUniform({projectionMatrix:Ft.getPerspective(),modelViewMatrix:q,modelMatrix:j.worldTransform,viewMatrix:kt,cameraPosition:Ft.getPosition(),u_viewport:[_,yt]}),jt.model&&(jt.model.draw({uniforms:Y.uniforms.reduce(function(wt,St){return wt[St.name]=St.data,wt},{})}),Y.uniforms.forEach(function(wt){wt.dirty=!1}),Y.dirty=!1)}}}},{key:"initMesh",value:function(){var vt=x()(i.a.mark(function Ct(Ft,Wt){var kt,jt,Y,U,j,q,gt,_;return i.a.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(kt=this.mesh.getComponentByEntity(Ft),kt){wt.next=3;break}return wt.abrupt("return");case 3:if(jt=kt.material,Y=kt.geometry,!(!Y||Y.dirty||!jt)){wt.next=7;break}return wt.abrupt("return");case 7:if(kt.model){wt.next=24;break}if(U="m-".concat(jt.entity,"-g-").concat(Y.entity),!this.modelCache[U]){wt.next=12;break}return kt.model=this.modelCache[U],wt.abrupt("return");case 12:return jt.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),j=this.engine,q=j.createModel,gt=j.createAttribute,_={vs:jt.vertexShaderGLSL,fs:jt.fragmentShaderGLSL,defines:jt.defines,attributes:Y.attributes.reduce(function(St,Dt){return Dt.data&&Dt.buffer&&(St[Dt.name]=gt({buffer:Dt.buffer,attributes:Dt.attributes,arrayStride:Dt.arrayStride,stepMode:Dt.stepMode,divisor:Dt.stepMode==="vertex"?0:1})),St},{}),uniforms:jt.uniforms.reduce(function(St,Dt){return St[Dt.name]=Dt.data,St},{}),scissor:{enable:!0,box:function(){return Wt.getViewport()}}},jt.cull&&(_.cull=jt.cull),jt.depth&&(_.depth=jt.depth),jt.blend&&(_.blend=jt.blend),Y.indicesBuffer&&(_.elements=Y.indicesBuffer),Y.maxInstancedCount&&(_.instances=Y.maxInstancedCount,_.count=Y.vertexCount||3),wt.next=22,q(_);case 22:kt.model=wt.sent,this.modelCache[U]=kt.model;case 24:case"end":return wt.stop()}},Ct,this)}));function lt(Ct,Ft){return vt.apply(this,arguments)}return lt}()},{key:"initView",value:function(){var vt=x()(i.a.mark(function Ct(Ft){var Wt,kt,jt,Y;return i.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:Wt=Ft.getScene(),kt=Mt(Wt.getEntities()),j.prev=2,kt.s();case 4:if((jt=kt.n()).done){j.next=10;break}return Y=jt.value,j.next=8,this.initMesh(Y,Ft);case 8:j.next=4;break;case 10:j.next=15;break;case 12:j.prev=12,j.t0=j.catch(2),kt.e(j.t0);case 15:return j.prev=15,kt.f(),j.finish(15);case 18:case"end":return j.stop()}},Ct,this,[[2,12,15,18]])}));function lt(Ct){return vt.apply(this,arguments)}return lt}()}]),X}(),dt.IDENTIFIER="Render Pass",ot),Ot=D()(mt.prototype,"mesh",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=D()(mt.prototype,"geometry",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=D()(mt.prototype,"material",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=D()(mt.prototype,"cullable",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=D()(mt.prototype,"transform",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=D()(mt.prototype,"hierarchy",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=D()(mt.prototype,"frameGraphSystem",[tt,Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=D()(mt.prototype,"engine",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=D()(mt.prototype,"resourcePool",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt))||ct)},KAHC:function(Ut,L,a){var h=a("spfM"),i=a("SOgk"),O=a("dVOP"),x=a("+Gi7");function C(A,S){var M=x(A)?h:i;return M(A,O(S))}Ut.exports=C},"KC/J":function(Ut,L,a){var h=a("zPMQ"),i=a("AmsH"),O=a("CG4S");function x(C){return i(C)?O(C):h(C)}Ut.exports=x},Kiyl:function(Ut,L,a){var h=a("oxMB").default,i=a("WplE");function O(x,C){return C&&(h(C)==="object"||typeof C=="function")?C:i(x)}Ut.exports=O,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},KwOt:function(Ut,L,a){"use strict";L.a={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},KzWp:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Target=void 0;var h=a("4b80"),i=a("/LIz"),O=a("TSqk"),x=a("RSob"),C=function(){function A(S,M,b,g){this.id=i.id(),this.type=S,this.serviceIdentifier=b,this.name=new x.QueryableString(M||""),this.metadata=new Array;var E=null;typeof g=="string"?E=new O.Metadata(h.NAMED_TAG,g):g instanceof O.Metadata&&(E=g),E!==null&&this.metadata.push(E)}return A.prototype.hasTag=function(S){for(var M=0,b=this.metadata;M<b.length;M++){var g=b[M];if(g.key===S)return!0}return!1},A.prototype.isArray=function(){return this.hasTag(h.MULTI_INJECT_TAG)},A.prototype.matchesArray=function(S){return this.matchesTag(h.MULTI_INJECT_TAG)(S)},A.prototype.isNamed=function(){return this.hasTag(h.NAMED_TAG)},A.prototype.isTagged=function(){return this.metadata.some(function(S){return S.key!==h.INJECT_TAG&&S.key!==h.MULTI_INJECT_TAG&&S.key!==h.NAME_TAG&&S.key!==h.UNMANAGED_TAG&&S.key!==h.NAMED_TAG})},A.prototype.isOptional=function(){return this.matchesTag(h.OPTIONAL_TAG)(!0)},A.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(S){return S.key===h.NAMED_TAG})[0]:null},A.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(S){return S.key!==h.INJECT_TAG&&S.key!==h.MULTI_INJECT_TAG&&S.key!==h.NAME_TAG&&S.key!==h.UNMANAGED_TAG&&S.key!==h.NAMED_TAG}):null},A.prototype.matchesNamedTag=function(S){return this.matchesTag(h.NAMED_TAG)(S)},A.prototype.matchesTag=function(S){var M=this;return function(b){for(var g=0,E=M.metadata;g<E.length;g++){var D=E[g];if(D.key===S&&D.value===b)return!0}return!1}},A}();L.Target=C},"L+OQ":function(Ut,L,a){"use strict";a.d(L,"c",function(){return i}),a.d(L,"a",function(){return O}),a.d(L,"h",function(){return x}),a.d(L,"k",function(){return C}),a.d(L,"j",function(){return A}),a.d(L,"b",function(){return S}),a.d(L,"g",function(){return M}),a.d(L,"e",function(){return b}),a.d(L,"i",function(){return D}),a.d(L,"d",function(){return I}),a.d(L,"m",function(){return G}),a.d(L,"l",function(){return W}),a.d(L,"f",function(){return z});var h=a("jg4I");function i(w){var T=0,B=0,V=0,$=0;return Object(h.K)(w)?T=B=V=$=w:Object(h.B)(w)&&(T=w[0],V=Object(h.I)(w[1])?w[0]:w[1],$=Object(h.I)(w[2])?w[0]:w[2],B=Object(h.I)(w[3])?V:w[3]),[T,V,$,B]}function O(w){for(var T=w.childNodes,B=T.length,V=B-1;V>=0;V--)w.removeChild(T[V])}function x(w,T){return!!w.className.match(new RegExp("(\\s|^)"+T+"(\\s|$)"))}function C(w){var T=w.start,B=w.end,V=Math.min(T.x,B.x),$=Math.min(T.y,B.y),nt=Math.max(T.x,B.x),at=Math.max(T.y,B.y);return{x:V,y:$,minX:V,minY:$,maxX:nt,maxY:at,width:nt-V,height:at-$}}function A(w){var T=w.map(function(st){return st.x}),B=w.map(function(st){return st.y}),V=Math.min.apply(Math,T),$=Math.min.apply(Math,B),nt=Math.max.apply(Math,T),at=Math.max.apply(Math,B);return{x:V,y:$,minX:V,minY:$,maxX:nt,maxY:at,width:nt-V,height:at-$}}function S(w,T,B,V){var $=w+B,nt=T+V;return{x:w,y:T,width:B,height:V,minX:w,minY:T,maxX:isNaN($)?0:$,maxY:isNaN(nt)?0:nt}}function M(w,T,B){return(1-B)*w+T*B}function b(w,T,B){return{x:w.x+Math.cos(B)*T,y:w.y+Math.sin(B)*T}}function g(w,T){var B=T.x-w.x,V=T.y-w.y;return Math.sqrt(B*B+V*V)}var E=function(T){return new Promise(function(B){setTimeout(B,T)})},D=function(T,B,V){return V===void 0&&(V=Math.pow(Number.EPSILON,.5)),[T,B].includes(Infinity)?Math.abs(T)===Math.abs(B):Math.abs(T-B)<V};function p(w,T){var B=Math.max(w.minX,T.minX),V=Math.max(w.minY,T.minY),$=Math.min(w.maxX,T.maxX),nt=Math.min(w.maxY,T.maxY);return S(B,V,$-B,nt-V)}function N(w,T){var B=Math.min(w.minX,T.minX),V=Math.min(w.minY,T.minY),$=Math.max(w.maxX,T.maxX),nt=Math.max(w.maxY,T.maxY);return S(B,V,$-B,nt-V)}function I(w){var T=w.getClip(),B=T&&T.getBBox(),V;if(!w.isGroup())V=w.getBBox();else{var $=Infinity,nt=-Infinity,at=Infinity,st=-Infinity,tt=w.getChildren();tt.length>0?Object(h.j)(tt,function(Q){if(Q.get("visible")){if(Q.isGroup()&&Q.get("children").length===0)return!0;var Z=I(Q),et=Q.applyToMatrix([Z.minX,Z.minY,1]),ct=Q.applyToMatrix([Z.minX,Z.maxY,1]),mt=Q.applyToMatrix([Z.maxX,Z.minY,1]),Ot=Q.applyToMatrix([Z.maxX,Z.maxY,1]),it=Math.min(et[0],ct[0],mt[0],Ot[0]),xt=Math.max(et[0],ct[0],mt[0],Ot[0]),It=Math.min(et[1],ct[1],mt[1],Ot[1]),zt=Math.max(et[1],ct[1],mt[1],Ot[1]);it<$&&($=it),xt>nt&&(nt=xt),It<at&&(at=It),zt>st&&(st=zt)}}):($=0,nt=0,at=0,st=0),V=S($,at,nt-$,st-at)}return B?p(V,B):V}function G(w,T){if(!(!w.getClip()&&!T.getClip())){var B=T.getClip();if(!B){w.setClip(null);return}var V={type:B.get("type"),attrs:B.attr()};w.setClip(V)}}function W(w){return w+"px"}function z(w,T,B,V){var $=g(w,T),nt=V/$,at=0;return B==="start"?at=0-nt:B==="end"&&(at=1+nt),{x:M(w.x,T.x,at),y:M(w.y,T.y,at)}}},L9IJ:function(Ut,L,a){var h=a("XSdR");Ut.exports=i;function i(O,x){return h.map(x,function(C){var A=O.inEdges(C);if(A.length){var S=h.reduce(A,function(M,b){var g=O.edge(b),E=O.node(b.v);return{sum:M.sum+g.weight*E.order,weight:M.weight+g.weight}},{sum:0,weight:0});return{v:C,barycenter:S.sum/S.weight,weight:S.weight}}else return{v:C}})}},LKUO:function(Ut,L,a){"use strict";var h=a("g1AO"),i=Array.prototype.concat,O=Array.prototype.slice,x=Ut.exports=function(A){for(var S=[],M=0,b=A.length;M<b;M++){var g=A[M];h(g)?S=i.call(S,O.call(g)):S.push(g)}return S};x.wrap=function(C){return function(){return C(x(arguments))}}},Lkm0:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jg4I"),O=a("4Qiu"),x=a("08EK"),C={},A="_INDEX";function S(p,N){if(p.set("canvas",N),p.isGroup()){var I=p.get("children");I.length&&I.forEach(function(G){S(G,N)})}}function M(p,N){if(p.set("timeline",N),p.isGroup()){var I=p.get("children");I.length&&I.forEach(function(G){M(G,N)})}}function b(p,N){var I=p.getChildren();return I.indexOf(N)>=0}function g(p,N,I){I===void 0&&(I=!0),I?N.destroy():(N.set("parent",null),N.set("canvas",null)),Object(x.j)(p.getChildren(),N)}function E(p){return function(N,I){var G=p(N,I);return G===0?N[A]-I[A]:G}}var D=function(p){Object(h.c)(N,p);function N(){return p!==null&&p.apply(this,arguments)||this}return N.prototype.isCanvas=function(){return!1},N.prototype.getBBox=function(){var I=Infinity,G=-Infinity,W=Infinity,z=-Infinity,w=[],T=[],B=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});B.length>0?(Object(x.a)(B,function($){var nt=$.getBBox();w.push(nt.minX,nt.maxX),T.push(nt.minY,nt.maxY)}),I=Object(i.Z)(w),G=Object(i.W)(w),W=Object(i.Z)(T),z=Object(i.W)(T)):(I=0,G=0,W=0,z=0);var V={x:I,y:W,minX:I,minY:W,maxX:G,maxY:z,width:G-I,height:z-W};return V},N.prototype.getCanvasBBox=function(){var I=Infinity,G=-Infinity,W=Infinity,z=-Infinity,w=[],T=[],B=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});B.length>0?(Object(x.a)(B,function($){var nt=$.getCanvasBBox();w.push(nt.minX,nt.maxX),T.push(nt.minY,nt.maxY)}),I=Object(i.Z)(w),G=Object(i.W)(w),W=Object(i.Z)(T),z=Object(i.W)(T)):(I=0,G=0,W=0,z=0);var V={x:I,y:W,minX:I,minY:W,maxX:G,maxY:z,width:G-I,height:z-W};return V},N.prototype.getDefaultCfg=function(){var I=p.prototype.getDefaultCfg.call(this);return I.children=[],I},N.prototype.onAttrChange=function(I,G,W){if(p.prototype.onAttrChange.call(this,I,G,W),I==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},N.prototype.applyMatrix=function(I){var G=this.getTotalMatrix();p.prototype.applyMatrix.call(this,I);var W=this.getTotalMatrix();W!==G&&this._applyChildrenMarix(W)},N.prototype._applyChildrenMarix=function(I){var G=this.getChildren();Object(x.a)(G,function(W){W.applyMatrix(I)})},N.prototype.addShape=function(){for(var I=[],G=0;G<arguments.length;G++)I[G]=arguments[G];var W=I[0],z=I[1];Object(x.f)(W)?z=W:z.type=W;var w=C[z.type];w||(w=Object(x.k)(z.type),C[z.type]=w);var T=this.getShapeBase(),B=new T[w](z);return this.add(B),B},N.prototype.addGroup=function(){for(var I=[],G=0;G<arguments.length;G++)I[G]=arguments[G];var W=I[0],z=I[1],w;if(Object(x.d)(W))z?w=new W(z):w=new W({parent:this});else{var T=W||{},B=this.getGroupBase();w=new B(T)}return this.add(w),w},N.prototype.getCanvas=function(){var I;return this.isCanvas()?I=this:I=this.get("canvas"),I},N.prototype.getShape=function(I,G,W){if(!Object(x.b)(this))return null;var z=this.getChildren(),w;if(this.isCanvas())w=this._findShape(z,I,G,W);else{var T=[I,G,1];T=this.invertFromMatrix(T),this.isClipped(T[0],T[1])||(w=this._findShape(z,T[0],T[1],W))}return w},N.prototype._findShape=function(I,G,W,z){for(var w=null,T=I.length-1;T>=0;T--){var B=I[T];if(Object(x.b)(B)&&(B.isGroup()?w=B.getShape(G,W,z):B.isHit(G,W)&&(w=B)),w)break}return w},N.prototype.add=function(I){var G=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),w=I.getParent();w&&g(w,I,!1),I.set("parent",this),G&&S(I,G),z&&M(I,z),W.push(I),I.onCanvasChange("add"),this._applyElementMatrix(I)},N.prototype._applyElementMatrix=function(I){var G=this.getTotalMatrix();G&&I.applyMatrix(G)},N.prototype.getChildren=function(){return this.get("children")},N.prototype.sort=function(){var I=this.getChildren();Object(x.a)(I,function(G,W){return G[A]=W,G}),I.sort(E(function(G,W){return G.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},N.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var I=this.getChildren(),G=I.length-1;G>=0;G--)I[G].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},N.prototype.destroy=function(){this.get("destroyed")||(this.clear(),p.prototype.destroy.call(this))},N.prototype.getFirst=function(){return this.getChildByIndex(0)},N.prototype.getLast=function(){var I=this.getChildren();return this.getChildByIndex(I.length-1)},N.prototype.getChildByIndex=function(I){var G=this.getChildren();return G[I]},N.prototype.getCount=function(){var I=this.getChildren();return I.length},N.prototype.contain=function(I){var G=this.getChildren();return G.indexOf(I)>-1},N.prototype.removeChild=function(I,G){G===void 0&&(G=!0),this.contain(I)&&I.remove(G)},N.prototype.findAll=function(I){var G=[],W=this.getChildren();return Object(x.a)(W,function(z){I(z)&&G.push(z),z.isGroup()&&(G=G.concat(z.findAll(I)))}),G},N.prototype.find=function(I){var G=null,W=this.getChildren();return Object(x.a)(W,function(z){if(I(z)?G=z:z.isGroup()&&(G=z.find(I)),G)return!1}),G},N.prototype.findById=function(I){return this.find(function(G){return G.get("id")===I})},N.prototype.findByClassName=function(I){return this.find(function(G){return G.get("className")===I})},N.prototype.findAllByName=function(I){return this.findAll(function(G){return G.get("name")===I})},N}(O.a);L.a=D},LomN:function(Ut,L,a){"use strict";a.d(L,"a",function(){return st});var h=a("J+IK"),i=a("jg4I"),O=a("jFyH"),x={opacity:0},C={stroke:"#C5C5C5",strokeOpacity:.85},A={fill:"#CACED4",opacity:.85},S=a("WOt1"),M=a("rI2c");function b(Q){return Object(i.U)(Q,function(Z,et){var ct=et===0?"M":"L",mt=Z[0],Ot=Z[1];return[ct,mt,Ot]})}function g(Q){return b(Q)}function E(Q){if(Q.length<=2)return g(Q);var Z=[];Object(i.j)(Q,function(it){Object(i.G)(it,Z.slice(Z.length-2))||Z.push(it[0],it[1])});var et=Object(S.a)(Z,!1),ct=Object(i.y)(Q),mt=ct[0],Ot=ct[1];return et.unshift(["M",mt,Ot]),et}function D(Q,Z,et,ct){ct===void 0&&(ct=!0);var mt=new M.b({values:Q}),Ot=new M.a({values:Object(i.U)(Q,function(xt,It){return It})}),it=Object(i.U)(Q,function(xt,It){return[Ot.scale(It)*Z,et-mt.scale(xt)*et]});return ct?E(it):g(it)}function p(Q,Z){var et=new M.b({values:Q}),ct=Math.max(0,et.min);return Z-et.scale(ct)*Z}function N(Q,Z,et,ct){var mt=Object(h.g)(Q),Ot=p(ct,et);return mt.push(["L",Z,Ot]),mt.push(["L",0,Ot]),mt.push(["Z"]),mt}var I=function(Q){Object(h.c)(Z,Q);function Z(){return Q!==null&&Q.apply(this,arguments)||this}return Z.prototype.getDefaultCfg=function(){var et=Q.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},et),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:x,lineStyle:C,areaStyle:A})},Z.prototype.renderInner=function(et){var ct=this.cfg,mt=ct.width,Ot=ct.height,it=ct.data,xt=ct.smooth,It=ct.isArea,zt=ct.backgroundStyle,Kt=ct.lineStyle,Yt=ct.areaStyle;this.addShape(et,{id:this.getElementId("background"),type:"rect",attrs:Object(h.a)({x:0,y:0,width:mt,height:Ot},zt)});var bt=D(it,mt,Ot,xt);if(this.addShape(et,{id:this.getElementId("line"),type:"path",attrs:Object(h.a)({path:bt},Kt)}),It){var ft=N(bt,mt,Ot,it);this.addShape(et,{id:this.getElementId("area"),type:"path",attrs:Object(h.a)({path:ft},Yt)})}},Z.prototype.applyOffset=function(){var et=this.cfg,ct=et.x,mt=et.y;this.moveElementTo(this.get("group"),{x:ct,y:mt})},Z}(O.a),G=I,W={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},z=function(Q){Object(h.c)(Z,Q);function Z(){return Q!==null&&Q.apply(this,arguments)||this}return Z.prototype.getDefaultCfg=function(){var et=Q.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},et),{name:"handler",x:0,y:0,width:10,height:24,style:W})},Z.prototype.renderInner=function(et){var ct=this.cfg,mt=ct.width,Ot=ct.height,it=ct.style,xt=it.fill,It=it.stroke,zt=it.radius,Kt=it.opacity,Yt=it.cursor;this.addShape(et,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:mt,height:Ot,fill:xt,stroke:It,radius:zt,opacity:Kt,cursor:Yt}});var bt=1/3*mt,ft=2/3*mt,dt=1/4*Ot,ot=3/4*Ot;this.addShape(et,{id:this.getElementId("line-left"),type:"line",attrs:{x1:bt,y1:dt,x2:bt,y2:ot,stroke:It,cursor:Yt}}),this.addShape(et,{id:this.getElementId("line-right"),type:"line",attrs:{x1:ft,y1:dt,x2:ft,y2:ot,stroke:It,cursor:Yt}})},Z.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},Z.prototype.initEvent=function(){this.bindEvents()},Z.prototype.bindEvents=function(){var et=this;this.get("group").on("mouseenter",function(){var ct=et.get("style").highLightFill;et.getElementByLocalId("background").attr("fill",ct),et.draw()}),this.get("group").on("mouseleave",function(){var ct=et.get("style").fill;et.getElementByLocalId("background").attr("fill",ct),et.draw()})},Z.prototype.draw=function(){var et=this.get("container").get("canvas");et&&et.draw()},Z}(O.a),w=z,T={fill:"#416180",opacity:.05},B={fill:"#5B8FF9",opacity:.15,cursor:"move"},V=10,$={width:V,height:24},nt={textBaseline:"middle",fill:"#000",opacity:.45},at="sliderchange",st=function(Q){Object(h.c)(Z,Q);function Z(){var et=Q!==null&&Q.apply(this,arguments)||this;return et.onMouseDown=function(ct){return function(mt){et.currentTarget=ct;var Ot=mt.originalEvent;Ot.stopPropagation(),Ot.preventDefault(),et.prevX=Object(i.s)(Ot,"touches.0.pageX",Ot.pageX),et.prevY=Object(i.s)(Ot,"touches.0.pageY",Ot.pageY);var it=et.getContainerDOM();it.addEventListener("mousemove",et.onMouseMove),it.addEventListener("mouseup",et.onMouseUp),it.addEventListener("mouseleave",et.onMouseUp),it.addEventListener("touchmove",et.onMouseMove),it.addEventListener("touchend",et.onMouseUp),it.addEventListener("touchcancel",et.onMouseUp)}},et.onMouseMove=function(ct){var mt=et.cfg.width,Ot=[et.get("start"),et.get("end")];ct.stopPropagation(),ct.preventDefault();var it=Object(i.s)(ct,"touches.0.pageX",ct.pageX),xt=Object(i.s)(ct,"touches.0.pageY",ct.pageY),It=it-et.prevX,zt=et.adjustOffsetRange(It/mt);et.updateStartEnd(zt),et.updateUI(et.getElementByLocalId("foreground"),et.getElementByLocalId("minText"),et.getElementByLocalId("maxText")),et.prevX=it,et.prevY=xt,et.draw(),et.emit(at,[et.get("start"),et.get("end")].sort()),et.delegateEmit("valuechanged",{originValue:Ot,value:[et.get("start"),et.get("end")]})},et.onMouseUp=function(){et.currentTarget&&(et.currentTarget=void 0);var ct=et.getContainerDOM();ct&&(ct.removeEventListener("mousemove",et.onMouseMove),ct.removeEventListener("mouseup",et.onMouseUp),ct.removeEventListener("mouseleave",et.onMouseUp),ct.removeEventListener("touchmove",et.onMouseMove),ct.removeEventListener("touchend",et.onMouseUp),ct.removeEventListener("touchcancel",et.onMouseUp))},et}return Z.prototype.setRange=function(et,ct){this.set("minLimit",et),this.set("maxLimit",ct);var mt=this.get("start"),Ot=this.get("end"),it=Object(i.c)(mt,et,ct),xt=Object(i.c)(Ot,et,ct);!this.get("isInit")&&(mt!==it||Ot!==xt)&&this.setValue([it,xt])},Z.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},Z.prototype.setValue=function(et){var ct=this.getRange();if(Object(i.B)(et)&&et.length===2){var mt=[this.get("start"),this.get("end")];this.update({start:Object(i.c)(et[0],ct.min,ct.max),end:Object(i.c)(et[1],ct.min,ct.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:mt,value:et})}},Z.prototype.getValue=function(){return[this.get("start"),this.get("end")]},Z.prototype.getDefaultCfg=function(){var et=Q.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},et),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:T,foregroundStyle:B,handlerStyle:$,textStyle:nt}})},Z.prototype.update=function(et){var ct=et.start,mt=et.end,Ot=Object(h.a)({},et);Object(i.I)(ct)||(Ot.start=Object(i.c)(ct,0,1)),Object(i.I)(mt)||(Ot.end=Object(i.c)(mt,0,1)),Q.prototype.update.call(this,Ot),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},Z.prototype.init=function(){this.set("start",Object(i.c)(this.get("start"),0,1)),this.set("end",Object(i.c)(this.get("end"),0,1)),Q.prototype.init.call(this)},Z.prototype.render=function(){Q.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},Z.prototype.renderInner=function(et){var ct=this.cfg,mt=ct.start,Ot=ct.end,it=ct.width,xt=ct.height,It=ct.trendCfg,zt=It===void 0?{}:It,Kt=ct.minText,Yt=ct.maxText,bt=ct.backgroundStyle,ft=bt===void 0?{}:bt,dt=ct.foregroundStyle,ot=dt===void 0?{}:dt,Mt=ct.textStyle,Nt=Mt===void 0?{}:Mt,Pt=Object(i.h)({},W,this.cfg.handlerStyle),J=mt*it,X=Ot*it;Object(i.jb)(Object(i.s)(zt,"data"))&&(this.trend=this.addComponent(et,Object(h.a)({component:I,id:this.getElementId("trend"),x:0,y:0,width:it,height:xt},zt))),this.addShape(et,{id:this.getElementId("background"),type:"rect",attrs:Object(h.a)({x:0,y:0,width:it,height:xt},ft)});var vt=this.addShape(et,{id:this.getElementId("minText"),type:"text",attrs:Object(h.a)({y:xt/2,textAlign:"right",text:Kt,silent:!1},Nt)}),lt=this.addShape(et,{id:this.getElementId("maxText"),type:"text",attrs:Object(h.a)({y:xt/2,textAlign:"left",text:Yt,silent:!1},Nt)}),Ct=this.addShape(et,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(h.a)({y:0,height:xt},ot)}),Ft=Object(i.s)(Pt,"width",V),Wt=Object(i.s)(Pt,"height",24);this.minHandler=this.addComponent(et,{component:z,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(xt-Wt)/2,width:Ft,height:Wt,cursor:"ew-resize",style:Pt}),this.maxHandler=this.addComponent(et,{component:z,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(xt-Wt)/2,width:Ft,height:Wt,cursor:"ew-resize",style:Pt})},Z.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},Z.prototype.initEvent=function(){this.bindEvents()},Z.prototype.updateUI=function(et,ct,mt){var Ot=this.cfg,it=Ot.start,xt=Ot.end,It=Ot.width,zt=Ot.minText,Kt=Ot.maxText,Yt=Ot.handlerStyle,bt=Ot.height,ft=it*It,dt=xt*It;this.trend&&(this.trend.update({width:It,height:bt}),this.get("updateAutoRender")||this.trend.render()),et.attr("x",ft),et.attr("width",dt-ft);var ot=Object(i.s)(Yt,"width",V);ct.attr("text",zt),mt.attr("text",Kt);var Mt=this._dodgeText([ft,dt],ct,mt),Nt=Mt[0],Pt=Mt[1];this.minHandler&&(this.minHandler.update({x:ft-ot/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(i.j)(Nt,function(J,X){return ct.attr(X,J)}),this.maxHandler&&(this.maxHandler.update({x:dt-ot/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(i.j)(Pt,function(J,X){return mt.attr(X,J)})},Z.prototype.bindEvents=function(){var et=this.get("group");et.on("handler-min:mousedown",this.onMouseDown("minHandler")),et.on("handler-min:touchstart",this.onMouseDown("minHandler")),et.on("handler-max:mousedown",this.onMouseDown("maxHandler")),et.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var ct=et.findById(this.getElementId("foreground"));ct.on("mousedown",this.onMouseDown("foreground")),ct.on("touchstart",this.onMouseDown("foreground"))},Z.prototype.adjustOffsetRange=function(et){var ct=this.cfg,mt=ct.start,Ot=ct.end;switch(this.currentTarget){case"minHandler":{var it=0-mt,xt=1-mt;return Math.min(xt,Math.max(it,et))}case"maxHandler":{var it=0-Ot,xt=1-Ot;return Math.min(xt,Math.max(it,et))}case"foreground":{var it=0-mt,xt=1-Ot;return Math.min(xt,Math.max(it,et))}}},Z.prototype.updateStartEnd=function(et){var ct=this.cfg,mt=ct.start,Ot=ct.end;switch(this.currentTarget){case"minHandler":mt+=et;break;case"maxHandler":Ot+=et;break;case"foreground":mt+=et,Ot+=et;break}this.set("start",mt),this.set("end",Ot)},Z.prototype._dodgeText=function(et,ct,mt){var Ot,it,xt=this.cfg,It=xt.handlerStyle,zt=xt.width,Kt=2,Yt=Object(i.s)(It,"width",V),bt=et[0],ft=et[1],dt=!1;bt>ft&&(Ot=[ft,bt],bt=Ot[0],ft=Ot[1],it=[mt,ct],ct=it[0],mt=it[1],dt=!0);var ot=ct.getBBox(),Mt=mt.getBBox(),Nt=ot.width>bt-Kt?{x:bt+Yt/2+Kt,textAlign:"left"}:{x:bt-Yt/2-Kt,textAlign:"right"},Pt=Mt.width>zt-ft-Kt?{x:ft-Yt/2-Kt,textAlign:"right"}:{x:ft+Yt/2+Kt,textAlign:"left"};return dt?[Pt,Nt]:[Nt,Pt]},Z.prototype.draw=function(){var et=this.get("container"),ct=et&&et.get("canvas");ct&&ct.draw()},Z.prototype.getContainerDOM=function(){var et=this.get("container"),ct=et&&et.get("canvas");return ct&&ct.get("container")},Z}(O.a),tt=st},"M1/f":function(Ut,L,a){"use strict";a.d(L,"c",function(){return B}),a.d(L,"b",function(){return st}),a.d(L,"a",function(){return tt});var h=a("fdbh");function i(Q){var Z=0,et=Q.children,ct=et&&et.length;if(!ct)Z=1;else for(;--ct>=0;)Z+=et[ct].value;Q.value=Z}var O=function(){return this.eachAfter(i)},x=a("opMk"),C=function(Q,Z){var et=-1,ct=Object(x.a)(this),mt;try{for(ct.s();!(mt=ct.n()).done;){var Ot=mt.value;Q.call(Z,Ot,++et,this)}}catch(it){ct.e(it)}finally{ct.f()}return this},A=function(Q,Z){for(var et=this,ct=[et],mt,Ot,it=-1;et=ct.pop();)if(Q.call(Z,et,++it,this),mt=et.children)for(Ot=mt.length-1;Ot>=0;--Ot)ct.push(mt[Ot]);return this},S=function(Q,Z){for(var et=this,ct=[et],mt=[],Ot,it,xt,It=-1;et=ct.pop();)if(mt.push(et),Ot=et.children)for(it=0,xt=Ot.length;it<xt;++it)ct.push(Ot[it]);for(;et=mt.pop();)Q.call(Z,et,++It,this);return this},M=function(Q,Z){var et=-1,ct=Object(x.a)(this),mt;try{for(ct.s();!(mt=ct.n()).done;){var Ot=mt.value;if(Q.call(Z,Ot,++et,this))return Ot}}catch(it){ct.e(it)}finally{ct.f()}},b=function(Q){return this.eachAfter(function(Z){for(var et=+Q(Z.data)||0,ct=Z.children,mt=ct&&ct.length;--mt>=0;)et+=ct[mt].value;Z.value=et})},g=function(Q){return this.eachBefore(function(Z){Z.children&&Z.children.sort(Q)})},E=function(Q){for(var Z=this,et=D(Z,Q),ct=[Z];Z!==et;)Z=Z.parent,ct.push(Z);for(var mt=ct.length;Q!==et;)ct.splice(mt,0,Q),Q=Q.parent;return ct};function D(Q,Z){if(Q===Z)return Q;var et=Q.ancestors(),ct=Z.ancestors(),mt=null;for(Q=et.pop(),Z=ct.pop();Q===Z;)mt=Q,Q=et.pop(),Z=ct.pop();return mt}var p=function(){for(var Q=this,Z=[Q];Q=Q.parent;)Z.push(Q);return Z},N=function(){return Array.from(this)},I=function(){var Q=[];return this.eachBefore(function(Z){Z.children||Q.push(Z)}),Q},G=function(){var Q=this,Z=[];return Q.each(function(et){et!==Q&&Z.push({source:et.parent,target:et})}),Z},W=a("SDju"),z=a.n(W),w=z.a.mark(T);function T(){var Q,Z,et,ct,mt,Ot;return z.a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:Q=this,et=[Q];case 1:Z=et.reverse(),et=[];case 2:if(!(Q=Z.pop())){xt.next=8;break}return xt.next=5,Q;case 5:if(ct=Q.children)for(mt=0,Ot=ct.length;mt<Ot;++mt)et.push(ct[mt]);xt.next=2;break;case 8:if(et.length){xt.next=1;break}case 9:case"end":return xt.stop()}},w,this)}function B(Q,Z){Q instanceof Map?(Q=[void 0,Q],Z===void 0&&(Z=nt)):Z===void 0&&(Z=$);for(var et=new tt(Q),ct,mt=[et],Ot,it,xt,It;ct=mt.pop();)if((it=Z(ct.data))&&(It=(it=Array.from(it)).length))for(ct.children=it,xt=It-1;xt>=0;--xt)mt.push(Ot=it[xt]=new tt(it[xt])),Ot.parent=ct,Ot.depth=ct.depth+1;return et.eachBefore(st)}function V(){return B(this).eachBefore(at)}function $(Q){return Q.children}function nt(Q){return Array.isArray(Q)?Q[1]:null}function at(Q){Q.data.value!==void 0&&(Q.value=Q.data.value),Q.data=Q.data.data}function st(Q){var Z=0;do Q.height=Z;while((Q=Q.parent)&&Q.height<++Z)}function tt(Q){this.data=Q,this.depth=this.height=0,this.parent=null}tt.prototype=B.prototype=Object(h.a)({constructor:tt,count:O,each:C,eachAfter:S,eachBefore:A,find:M,sum:b,sort:g,path:E,ancestors:p,descendants:N,leaves:I,links:G,copy:V},Symbol.iterator,T)},M4f1:function(Ut,L,a){"use strict";a.d(L,"a",function(){return E});var h=a("J+IK"),i=a("jg4I"),O=a("ggto"),x=a("RF2d"),C=a("OM6K"),A=a("S+j/"),S=a("ru7r");a.d(L,"b",function(){return S.d});function M(D){var p=D.chart,N=D.options,I=N.data,G=N.areaStyle,W=N.color,z=N.point,w=N.line,T=N.isPercent,B=N.xField,V=N.yField,$=N.tooltip,nt=N.seriesField,at=N.startOnZero,st=z==null?void 0:z.state,tt=Object(A.a)(I,V,B,V,T);p.data(tt);var Q=T?Object(h.a)({formatter:function(Ot){return{name:Ot[nt]||Ot[B],value:(Number(Ot[V])*100).toFixed(2)+"%"}}},$):$,Z=Object(x.b)({},D,{options:{area:{color:W,style:G},line:w&&Object(h.a)({color:W},w),point:z&&Object(h.a)({color:W},z),tooltip:Q,label:void 0,args:{startOnZero:at}}}),et=Object(x.b)({},Z,{options:{tooltip:!1}}),ct=Object(x.b)({},Z,{options:{tooltip:!1,state:st}});return Object(C.a)(Z),Object(C.d)(et),Object(C.e)(ct),D}function b(D){var p=D.chart,N=D.options,I=N.label,G=N.yField,W=Object(x.c)(p,"area");if(!I)W.label(!1);else{var z=I.callback,w=Object(h.e)(I,["callback"]);W.label({fields:[G],callback:z,cfg:Object(h.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(x.u)(w))})}return D}function g(D){var p=D.chart,N=D.options,I=N.isStack,G=N.isPercent,W=N.seriesField;return(G||I)&&W&&Object(i.j)(p.geometries,function(z){z.adjust("stack")}),D}function E(D){return Object(x.e)(M,S.d,g,O.j,S.b,S.c,O.k,b,O.h,Object(O.b)(),O.c,O.a,O.e)(D)}},MDvc:function(Ut,L,a){"use strict";a.d(L,"b",function(){return I}),a.d(L,"a",function(){return z});var h=a("J+IK"),i=a("jg4I"),O=a("ggto"),x=a("7Y4W"),C=a("OM6K"),A=a("RF2d"),S=a("jOdP"),M=a("xpMs"),b=a("ECvr");function g(w){var T=w.chart,B=w.options,V=B.data,$=B.angleField,nt=B.colorField,at=B.color,st=B.pieStyle,tt=Object(A.q)(V,$);if(Object(M.c)(tt,$)){var Q="$$percentage$$";tt=tt.map(function(et){var ct;return Object(h.a)(Object(h.a)({},et),(ct={},ct[Q]=1/tt.length,ct))}),T.data(tt);var Z=Object(A.b)({},w,{options:{xField:"1",yField:Q,seriesField:nt,isStack:!0,interval:{color:at,style:st},args:{zIndexReversed:!0}}});Object(C.c)(Z)}else{T.data(tt);var Z=Object(A.b)({},w,{options:{xField:"1",yField:$,seriesField:nt,isStack:!0,interval:{color:at,style:st},args:{zIndexReversed:!0}}});Object(C.c)(Z)}return w}function E(w){var T,B=w.chart,V=w.options,$=V.meta,nt=V.colorField,at=Object(A.b)({},$);return B.scale(at,(T={},T[nt]={type:"cat"},T)),w}function D(w){var T=w.chart,B=w.options,V=B.radius,$=B.innerRadius,nt=B.startAngle,at=B.endAngle;return T.coordinate({type:"theta",cfg:{radius:V,innerRadius:$,startAngle:nt,endAngle:at}}),w}function p(w){var T=w.chart,B=w.options,V=B.label,$=B.colorField,nt=B.angleField,at=T.geometries[0];if(!V)at.label(!1);else{var st=V.callback,tt=Object(h.e)(V,["callback"]),Q=Object(A.u)(tt);if(Q.content){var Z=Q.content;Q.content=function(Ot,it,xt){var It=Ot[$],zt=Ot[nt],Kt=T.getScaleByField(nt),Yt=Kt==null?void 0:Kt.scale(zt);return Object(i.H)(Z)?Z(Object(h.a)(Object(h.a)({},Ot),{percent:Yt}),it,xt):Object(i.O)(Z)?Object(A.t)(Z,{value:zt,name:It,percentage:Object(i.K)(Yt)&&!Object(i.I)(zt)?(Yt*100).toFixed(2)+"%":null}):Z}}var et={inner:"",outer:"pie-outer",spider:"pie-spider"},ct=Q.type?et[Q.type]:"pie-outer",mt=Q.layout?Object(i.B)(Q.layout)?Q.layout:[Q.layout]:[];Q.layout=(ct?[{type:ct}]:[]).concat(mt),at.label({fields:$?[nt,$]:[nt],callback:st,cfg:Object(h.a)(Object(h.a)({},Q),{offset:Object(M.a)(Q.type,Q.offset),type:"pie"})})}return w}function N(w){var T=w.innerRadius,B=w.statistic,V=w.angleField,$=w.colorField,nt=w.meta;if(T&&B){var at=Object(A.b)({},S.a.statistic,B),st=at.title,tt=at.content;return st!==!1&&(st=Object(A.b)({},{formatter:function(Z){return Z?Z[$]:"\u603B\u8BA1"}},st)),tt!==!1&&(tt=Object(A.b)({},{formatter:function(Z,et){var ct=Object(i.s)(nt,[V,"formatter"]),mt=Z?Z[V]:Object(M.b)(et,V);return ct?ct(mt):mt}},tt)),Object(A.b)({},{statistic:{title:st,content:tt}},w)}return w}function I(w){var T=w.chart,B=w.options,V=N(B),$=V.innerRadius,nt=V.statistic;return T.getController("annotation").clear(!0),Object(A.e)(Object(O.b)())(w),$&&nt&&Object(A.s)(T,{statistic:nt,plotType:"pie"}),w}function G(w){var T=w.chart,B=w.options,V=B.tooltip,$=B.colorField,nt=B.angleField,at=B.data;if(V===!1)T.tooltip(V);else if(T.tooltip(Object(A.b)({},V,{shared:!1})),Object(M.c)(at,nt)){var st=Object(i.s)(V,"fields"),tt=Object(i.s)(V,"formatter");Object(i.F)(Object(i.s)(V,"fields"))&&(st=[$,nt],tt=tt||function(Q){return{name:Q[$],value:Object(i.qb)(Q[nt])}}),T.geometries[0].tooltip(st.join("*"),Object(x.b)(st,tt))}return w}function W(w){var T=w.chart,B=w.options,V=N(B),$=V.interactions,nt=V.statistic,at=V.annotations;return Object(i.j)($,function(st){var tt,Q;if(st.enable===!1)T.removeInteraction(st.type);else if(st.type==="pie-statistic-active"){var Z=[];((tt=st.cfg)===null||tt===void 0?void 0:tt.start)||(Z=[{trigger:"element:mouseenter",action:b.a+":change",arg:{statistic:nt,annotations:at}}]),Object(i.j)((Q=st.cfg)===null||Q===void 0?void 0:Q.start,function(et){Z.push(Object(h.a)(Object(h.a)({},et),{arg:{statistic:nt,annotations:at}}))}),T.interaction(st.type,Object(A.b)({},st.cfg,{start:Z}))}else T.interaction(st.type,st.cfg||{})}),w}function z(w){return Object(A.e)(g,E,O.j,D,O.d,G,p,O.i,I,W,O.a)(w)}},MGR1:function(Ut,L){Ut.exports=a;function a(h,i){return h[0]=-i[0],h[1]=-i[1],h}},MOSd:function(Ut,L,a){"use strict";a.d(L,"j",function(){return i}),a.d(L,"c",function(){return O}),a.d(L,"g",function(){return x}),a.d(L,"b",function(){return C});var h=a("jg4I");a.d(L,"e",function(){return h.I}),a.d(L,"d",function(){return h.H}),a.d(L,"h",function(){return h.O}),a.d(L,"f",function(){return h.M}),a.d(L,"i",function(){return h.bb}),a.d(L,"a",function(){return h.j}),a.d(L,"k",function(){return h.tb});function i(A,S){var M=A.indexOf(S);M!==-1&&A.splice(M,1)}var O=typeof window!="undefined"&&typeof window.document!="undefined";function x(A,S){if(A.isCanvas())return!0;for(var M=S.getParent(),b=!1;M;){if(M===A){b=!0;break}M=M.getParent()}return b}function C(A){return A.cfg.visible&&A.cfg.capture}},MPYE:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.SensorTabIndex=L.SensorClassName=L.SizeSensorId=void 0;var h="size-sensor-id";L.SizeSensorId=h;var i="size-sensor-object";L.SensorClassName=i;var O="-1";L.SensorTabIndex=O},MWz9:function(Ut,L){},MYzp:function(Ut,L,a){"use strict";a.d(L,"a",function(){return S}),a.d(L,"d",function(){return M}),a.d(L,"b",function(){return b}),a.d(L,"c",function(){return E}),a.d(L,"e",function(){return N}),a.d(L,"h",function(){return I}),a.d(L,"f",function(){return W}),a.d(L,"g",function(){return z});var h=a("jg4I"),i=a("Y3cu"),O=a("HUJz"),x=a("jGCv"),C=a("tKQU"),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function S(w,T){var B=T.attr();for(var V in B){var $=B[V],nt=A[V]?A[V]:V;nt==="matrix"&&$?w.transform($[0],$[1],$[3],$[4],$[6],$[7]):nt==="lineDash"&&w.setLineDash?Object(h.B)($)&&w.setLineDash($):(nt==="strokeStyle"||nt==="fillStyle"?$=Object(i.b)(w,T,$):nt==="globalAlpha"&&($=$*w.globalAlpha),w[nt]=$)}}function M(w,T,B){for(var V=0;V<T.length;V++){var $=T[V];$.cfg.visible?$.draw(w,B):$.skipDraw()}}function b(w,T,B){var V=w.get("refreshElements");Object(h.j)(V,function($){if($!==w)for(var nt=$.cfg.parent;nt&&nt!==w&&!nt.cfg.refresh;)nt.cfg.refresh=!0,nt=nt.cfg.parent}),V[0]===w?D(T,B):g(T,B)}function g(w,T){for(var B=0;B<w.length;B++){var V=w[B];if(V.cfg.visible)if(V.cfg.hasChanged)V.cfg.refresh=!0,V.isGroup()&&D(V.cfg.children,T);else if(V.cfg.refresh)V.isGroup()&&g(V.cfg.children,T);else{var $=p(V,T);V.cfg.refresh=$,$&&V.isGroup()&&g(V.cfg.children,T)}}}function E(w){for(var T=0;T<w.length;T++){var B=w[T];B.cfg.hasChanged=!1,B.isGroup()&&!B.destroyed&&E(B.cfg.children)}}function D(w,T){for(var B=0;B<w.length;B++){var V=w[B];V.cfg.refresh=!0,V.isGroup()&&D(V.get("children"),T)}}function p(w,T){var B=w.cfg.cacheCanvasBBox,V=w.cfg.isInView&&B&&Object(x.f)(B,T);return V}function N(w,T,B,V){var $=B.path,nt=B.startArrow,at=B.endArrow;if(!!$){var st=[0,0],tt=[0,0],Q={dx:0,dy:0};T.beginPath();for(var Z=0;Z<$.length;Z++){var et=$[Z],ct=et[0];if(Z===0&&nt&&nt.d){var mt=w.getStartTangent();Q=C.c(mt[0][0],mt[0][1],mt[1][0],mt[1][1],nt.d)}else if(Z===$.length-2&&$[Z+1][0]==="Z"&&at&&at.d){var Ot=$[Z+1];if(Ot[0]==="Z"){var mt=w.getEndTangent();Q=C.c(mt[0][0],mt[0][1],mt[1][0],mt[1][1],at.d)}}else if(Z===$.length-1&&at&&at.d&&$[0]!=="Z"){var mt=w.getEndTangent();Q=C.c(mt[0][0],mt[0][1],mt[1][0],mt[1][1],at.d)}var it=Q.dx,xt=Q.dy;switch(ct){case"M":T.moveTo(et[1]-it,et[2]-xt),tt=[et[1],et[2]];break;case"L":T.lineTo(et[1]-it,et[2]-xt);break;case"Q":T.quadraticCurveTo(et[1],et[2],et[3]-it,et[4]-xt);break;case"C":T.bezierCurveTo(et[1],et[2],et[3],et[4],et[5]-it,et[6]-xt);break;case"A":{var It=void 0;V?(It=V[Z],It||(It=Object(O.a)(st,et),V[Z]=It)):It=Object(O.a)(st,et);var zt=It.cx,Kt=It.cy,Yt=It.rx,bt=It.ry,ft=It.startAngle,dt=It.endAngle,ot=It.xRotation,Mt=It.sweepFlag;if(T.ellipse)T.ellipse(zt,Kt,Yt,bt,ot,ft,dt,1-Mt);else{var Nt=Yt>bt?Yt:bt,Pt=Yt>bt?1:Yt/bt,J=Yt>bt?bt/Yt:1;T.translate(zt,Kt),T.rotate(ot),T.scale(Pt,J),T.arc(0,0,Nt,ft,dt,1-Mt),T.scale(1/Pt,1/J),T.rotate(-ot),T.translate(-zt,-Kt)}break}case"Z":T.closePath();break;default:break}if(ct==="Z")st=tt;else{var X=et.length;st=[et[X-2],et[X-1]]}}}}function I(w,T){var B=w.get("canvas");B&&(T==="remove"&&(w._cacheCanvasBBox=w.get("cacheCanvasBBox")),w.get("hasChanged")||(w.set("hasChanged",!0),w.cfg.parent&&w.cfg.parent.get("hasChanged")||(B.refreshElement(w,T,B),B.get("autoDraw")&&B.draw())))}function G(w){var T;if(w.destroyed)T=w._cacheCanvasBBox;else{var B=w.get("cacheCanvasBBox"),V=B&&!!(B.width&&B.height),$=w.getCanvasBBox(),nt=$&&!!($.width&&$.height);V&&nt?T=Object(x.l)(B,$):V?T=B:nt&&(T=$)}return T}function W(w){if(!w.length)return null;var T=[],B=[],V=[],$=[];return Object(h.j)(w,function(nt){var at=G(nt);at&&(T.push(at.minX),B.push(at.minY),V.push(at.maxX),$.push(at.maxY))}),{minX:Math.min.apply(null,T),minY:Math.min.apply(null,B),maxX:Math.max.apply(null,V),maxY:Math.max.apply(null,$)}}function z(w,T){return!w||!T||!Object(x.f)(w,T)?null:{minX:Math.max(w.minX,T.minX),minY:Math.max(w.minY,T.minY),maxX:Math.min(w.maxX,T.maxX),maxY:Math.min(w.maxY,T.maxY)}}},MbSy:function(Ut,L,a){var h=a("cvn4"),i=Math.max;function O(x,C,A){return C=i(C===void 0?x.length-1:C,0),function(){for(var S=arguments,M=-1,b=i(S.length-C,0),g=Array(b);++M<b;)g[M]=S[C+M];M=-1;for(var E=Array(C+1);++M<C;)E[M]=S[M];return E[C]=A(g),h(x,this,E)}}Ut.exports=O},MciM:function(Ut,L,a){"use strict";a.d(L,"a",function(){return O});var h=a("99LQ"),i=a("oq+b");function O(x){for(var C=new i.a,A=h.e.fromValues(x[0],x[1],x[2]),S=h.e.fromValues(x[0],x[1],x[2]),M=3;M<x.length;){var b=x[M++],g=x[M++],E=x[M++];b<A[0]&&(A[0]=b),g<A[1]&&(A[1]=g),E<A[2]&&(A[2]=E),b>S[0]&&(S[0]=b),g>S[1]&&(S[1]=g),E>S[2]&&(S[2]=E)}return C.setMinMax(A,S),C}},N5bZ:function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=a("jg4I");function i(O){return Object(h.U)(O||[],function(x,C){return{x:""+C,y:x}})}},NA5Q:function(Ut,L){function a(h,i){return h<i}Ut.exports=a},NAu8:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.unmanaged=void 0;var h=a("4b80"),i=a("TSqk"),O=a("+QvE");function x(){return function(C,A,S){var M=new i.Metadata(h.UNMANAGED_TAG,!0);O.tagParameter(C,A,S,M)}}L.unmanaged=x},NFwm:function(Ut,L,a){var h=a("TxJF"),i=a("1ImO"),O=a("hQ5t"),x=a("+Gi7");function C(A,S){var M=x(A)?h:i;return M(A,O(S,3))}Ut.exports=C},NNdr:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var h=1,i=function(){return"".concat(h++)};L.default=i},NQbK:function(Ut,L){},NT8r:function(Ut,L){},NbNK:function(Ut,L){function a(h,i,O,x,C){return C(h,function(A,S,M){O=x?(x=!1,A):i(O,A,S,M)}),O}Ut.exports=a},Npd2:function(Ut,L,a){var h=a("3FqU"),i=a("ZU2r"),O=a("sCLo"),x=a("qXph"),C=a("zftb"),A=a("VL8K"),S=a("+Gi7"),M=a("wvSg"),b=a("lDzS"),g=a("wmqP"),E=a("E5vS"),D=a("LtJ/"),p=a("lOrw"),N=a("TKkZ"),I=a("k7N2");function G(W,z,w,T,B,V,$){var nt=N(W,w),at=N(z,w),st=$.get(at);if(st){h(W,w,st);return}var tt=V?V(nt,at,w+"",W,z,$):void 0,Q=tt===void 0;if(Q){var Z=S(at),et=!Z&&b(at),ct=!Z&&!et&&p(at);tt=at,Z||et||ct?S(nt)?tt=nt:M(nt)?tt=x(nt):et?(Q=!1,tt=i(at,!0)):ct?(Q=!1,tt=O(at,!0)):tt=[]:D(at)||A(at)?(tt=nt,A(nt)?tt=I(nt):(!E(nt)||g(nt))&&(tt=C(at))):Q=!1}Q&&($.set(at,tt),B(tt,at,T,V,$),$.delete(at)),h(W,w,tt)}Ut.exports=G},NqnP:function(Ut,L,a){"use strict";a.d(L,"a",function(){return S});var h=a("J+IK"),i=a("d38q"),O=a("N5bZ"),x=a("CALi"),C=a("HEgp"),A={appendPadding:2,tooltip:Object(h.a)({},C.b),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},S=function(M){Object(h.c)(b,M);function b(){var g=M!==null&&M.apply(this,arguments)||this;return g.type="tiny-area",g}return b.getDefaultOptions=function(){return A},b.prototype.changeData=function(g){this.updateOption({data:g});var E=this,D=E.chart,p=E.options;Object(x.b)({chart:D,options:p}),D.changeData(Object(O.a)(g))},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b.prototype.getSchemaAdaptor=function(){return x.a},b}(i.b)},OEJE:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("nZiY"),O=a("08EK"),x=function(C){Object(h.c)(A,C);function A(S){var M=C.call(this)||this;M.destroyed=!1;var b=M.getDefaultCfg();return M.cfg=Object(O.i)(b,S),M}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(S){return this.cfg[S]},A.prototype.set=function(S,M){this.cfg[S]=M},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(i.a);L.a=x},OFdx:function(Ut,L,a){var h=a("mXku"),i=a("dVOP"),O=a("rGlR");function x(C,A){return C==null?C:h(C,i(A),O)}Ut.exports=x},OK4B:function(Ut,L,a){"use strict";a.d(L,"a",function(){return i}),a.d(L,"b",function(){return A});var h=a("J+IK"),i;(function(S){S.ERROR="error",S.WARN="warn",S.INFO="log"})(i||(i={}));var O="AntV/G2Plot";function x(S){for(var M=[],b=1;b<arguments.length;b++)M[b-1]=arguments[b];var g=0;return O+": "+S.replace(/%s/g,function(){return""+M[g++]})}function C(S,M){for(var b=[],g=2;g<arguments.length;g++)b[g-2]=arguments[g];if(!S){var E=new Error(x.apply(void 0,Object(h.g)([M],b)));throw E.name=O,E}}function A(S,M,b){for(var g=[],E=3;E<arguments.length;E++)g[E-3]=arguments[E];M||console[S](x.apply(void 0,Object(h.g)([b],g)))}},OM6K:function(Ut,L,a){"use strict";a.d(L,"a",function(){return C}),a.d(L,"d",function(){return S}),a.d(L,"e",function(){return M}),a.d(L,"c",function(){return E}),a.d(L,"f",function(){return D.a}),a.d(L,"b",function(){return p});var h=a("J+IK"),i=a("2xSO"),O=a("RF2d"),x=a("7Y4W");function C(N){var I=N.options,G=I.area,W=I.xField,z=I.yField,w=I.seriesField,T=I.smooth,B=I.tooltip,V=Object(i.a)(B,[W,z,w]),$=V.fields,nt=V.formatter;return G?Object(x.a)(Object(O.b)({},N,{options:{type:"area",colorField:w,tooltipFields:$,mapping:Object(h.a)({shape:T?"smooth":"area",tooltip:nt},G)}})):N}var A=a("jg4I");function S(N){var I=N.options,G=I.line,W=I.stepType,z=I.xField,w=I.yField,T=I.seriesField,B=I.smooth,V=I.connectNulls,$=I.tooltip,nt=Object(i.a)($,[z,w,T]),at=nt.fields,st=nt.formatter;return G?Object(x.a)(Object(O.b)({},N,{options:{type:"line",colorField:T,tooltipFields:at,mapping:Object(A.h)({shape:W||(B?"smooth":"line"),tooltip:st},G),args:{connectNulls:V}}})):N}function M(N){var I=N.options,G=I.point,W=I.xField,z=I.yField,w=I.seriesField,T=I.sizeField,B=I.shapeField,V=I.tooltip,$=Object(i.a)(V,[W,z,w,T,B]),nt=$.fields,at=$.formatter;return G?Object(x.a)(Object(O.b)({},N,{options:{type:"point",colorField:w,shapeField:B,tooltipFields:nt,mapping:Object(h.a)({tooltip:at},G)}})):N}var b=a("AO+g");function g(N){var I=N.chart,G=N.options,W=N.ext,z=G.seriesField,w=G.isGroup,T=G.isStack,B=G.marginRatio,V=G.widthRatio,$=G.groupField,nt=G.theme,at=[];if(z&&(w&&at.push({type:"dodge",dodgeBy:$||z,marginRatio:B}),T&&at.push({type:"stack",marginRatio:B})),at.length&&(W==null?void 0:W.geometry)){var st=W==null?void 0:W.geometry;st.adjust(at)}return Object(A.I)(V)||I.theme(Object(O.b)({},Object(A.M)(nt)?nt:Object(b.getTheme)(nt),{columnWidthRatio:V})),N}function E(N){var I=N.options,G=I.xField,W=I.yField,z=I.interval,w=I.seriesField,T=I.tooltip,B=I.minColumnWidth,V=I.maxColumnWidth,$=I.columnBackground,nt=Object(i.a)(T,[G,W,w]),at=nt.fields,st=nt.formatter,tt=(z?Object(x.a)(Object(O.b)({},N,{options:{type:"interval",colorField:w,tooltipFields:at,mapping:Object(h.a)({tooltip:st},z),args:{minColumnWidth:B,maxColumnWidth:V,background:$}}})):N).ext;return g(Object(h.a)(Object(h.a)({},N),{ext:tt}))}var D=a("qMt/");function p(N){var I=N.options,G=I.edge,W=I.xField,z=I.yField,w=I.seriesField,T=I.tooltip,B=Object(i.a)(T,[W,z,w]),V=B.fields,$=B.formatter;return G?Object(x.a)(Object(O.b)({},N,{options:{type:"edge",colorField:w,tooltipFields:V,mapping:Object(h.a)({tooltip:$},G)}})):N}},"OO/B":function(Ut,L,a){"use strict";var h=a("9xKD"),i=h.longestPath,O=a("kr+H"),x=a("of5Y");Ut.exports=C;function C(b){switch(b.graph().ranker){case"network-simplex":M(b);break;case"tight-tree":S(b);break;case"longest-path":A(b);break;default:M(b)}}var A=i;function S(b){i(b),O(b)}function M(b){x(b)}},OUPr:function(Ut,L,a){"use strict";a.r(L),a.d(L,"Line",function(){return g}),a.d(L,"Text",function(){return D}),a.d(L,"Arc",function(){return N}),a.d(L,"Region",function(){return G}),a.d(L,"Image",function(){return z}),a.d(L,"DataMarker",function(){return T}),a.d(L,"DataRegion",function(){return V}),a.d(L,"RegionFilter",function(){return nt}),a.d(L,"Shape",function(){return st}),a.d(L,"Html",function(){return et});var h=a("J+IK"),i=a("jg4I"),O=a("jFyH"),x=a("uRYK"),C=a("xdm5"),A=a("L+OQ");function S(ct,mt){var Ot=mt.x,it=mt.y,xt=mt.content,It=mt.style,zt=mt.id,Kt=mt.name,Yt=mt.rotate,bt=mt.maxLength,ft=mt.autoEllipsis,dt=mt.isVertical,ot=mt.ellipsisPosition,Mt=mt.background,Nt=ct.addGroup({id:zt+"-group",name:Kt+"-group",attrs:{x:Ot,y:it}}),Pt=Nt.addShape({type:"text",id:zt,name:Kt,attrs:Object(h.a)({x:0,y:0,text:xt},It)}),J=Object(A.c)(Object(i.s)(Mt,"padding",0));if(bt&&ft){var X=bt-(J[1]+J[3]);Object(x.a)(!dt,Pt,X,ot)}if(Mt){var vt=Object(i.s)(Mt,"style",{}),lt=Pt.getCanvasBBox(),Ct=lt.minX,Ft=lt.minY,Wt=lt.width,kt=lt.height,jt=Nt.addShape("rect",{id:zt+"-bg",name:zt+"-bg",attrs:Object(h.a)({x:Ct-J[3],y:Ft-J[0],width:Wt+J[1]+J[3],height:kt+J[0]+J[2]},vt)});jt.toBack()}Object(C.c)(Nt,Ot,it),Object(C.b)(Nt,Yt,Ot,it)}var M=a("KwOt"),b=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:M.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:M.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:M.a.lineColor,lineWidth:1}}}})},mt.prototype.renderInner=function(Ot){this.renderLine(Ot),this.get("text")&&this.renderLabel(Ot)},mt.prototype.renderLine=function(Ot){var it=this.get("start"),xt=this.get("end"),It=this.get("style");this.addShape(Ot,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(h.a)({x1:it.x,y1:it.y,x2:xt.x,y2:xt.y},It)})},mt.prototype.getLabelPoint=function(Ot,it,xt){var It;return xt==="start"?It=0:xt==="center"?It=.5:Object(i.O)(xt)&&xt.indexOf("%")!==-1?It=parseInt(xt,10)/100:Object(i.K)(xt)?It=xt:It=1,(It>1||It<0)&&(It=1),{x:Object(A.g)(Ot.x,it.x,It),y:Object(A.g)(Ot.y,it.y,It)}},mt.prototype.renderLabel=function(Ot){var it=this.get("text"),xt=this.get("start"),It=this.get("end"),zt=it.position,Kt=it.content,Yt=it.style,bt=it.offsetX,ft=it.offsetY,dt=it.autoRotate,ot=it.maxLength,Mt=it.autoEllipsis,Nt=it.ellipsisPosition,Pt=it.background,J=it.isVertical,X=J===void 0?!1:J,vt=this.getLabelPoint(xt,It,zt),lt=vt.x+bt,Ct=vt.y+ft,Ft={id:this.getElementId("line-text"),name:"annotation-line-text",x:lt,y:Ct,content:Kt,style:Yt,maxLength:ot,autoEllipsis:Mt,ellipsisPosition:Nt,background:Pt,isVertical:X};if(dt){var Wt=[It.x-xt.x,It.y-xt.y];Ft.rotate=Math.atan2(Wt[1],Wt[0])}S(Ot,Ft)},mt}(O.a),g=b,E=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:M.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:M.a.fontFamily}}})},mt.prototype.setLocation=function(Ot){this.set("x",Ot.x),this.set("y",Ot.y),this.resetLocation()},mt.prototype.renderInner=function(Ot){var it=this.getLocation(),xt=it.x,It=it.y,zt=this.get("content"),Kt=this.get("style"),Yt=this.getElementId("text"),bt=this.get("name")+"-text",ft=this.get("maxLength"),dt=this.get("autoEllipsis"),ot=this.get("isVertical"),Mt=this.get("ellipsisPosition"),Nt=this.get("background"),Pt=this.get("rotate"),J={id:Yt,name:bt,x:xt,y:It,content:zt,style:Kt,maxLength:ft,autoEllipsis:dt,isVertical:ot,ellipsisPosition:Mt,background:Nt,rotate:Pt};S(Ot,J)},mt.prototype.resetLocation=function(){var Ot=this.getElementByLocalId("text-group");if(Ot){var it=this.getLocation(),xt=it.x,It=it.y,zt=this.get("rotate");Object(C.c)(Ot,xt,It),Object(C.b)(Ot,zt,xt,It)}},mt}(O.a),D=E,p=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},mt.prototype.renderInner=function(Ot){this.renderArc(Ot)},mt.prototype.getArcPath=function(){var Ot=this.getLocation(),it=Ot.center,xt=Ot.radius,It=Ot.startAngle,zt=Ot.endAngle,Kt=Object(A.e)(it,xt,It),Yt=Object(A.e)(it,xt,zt),bt=zt-It>Math.PI?1:0,ft=[["M",Kt.x,Kt.y]];if(zt-It==Math.PI*2){var dt=Object(A.e)(it,xt,It+Math.PI);ft.push(["A",xt,xt,0,bt,1,dt.x,dt.y]),ft.push(["A",xt,xt,0,bt,1,Yt.x,Yt.y])}else ft.push(["A",xt,xt,0,bt,1,Yt.x,Yt.y]);return ft},mt.prototype.renderArc=function(Ot){var it=this.getArcPath(),xt=this.get("style");this.addShape(Ot,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(h.a)({path:it},xt)})},mt}(O.a),N=p,I=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:M.a.regionColor,opacity:.4}}})},mt.prototype.renderInner=function(Ot){this.renderRegion(Ot)},mt.prototype.renderRegion=function(Ot){var it=this.get("start"),xt=this.get("end"),It=this.get("style"),zt=Object(A.k)({start:it,end:xt});this.addShape(Ot,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(h.a)({x:zt.x,y:zt.y,width:zt.width,height:zt.height},It)})},mt}(O.a),G=I,W=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},mt.prototype.renderInner=function(Ot){this.renderImage(Ot)},mt.prototype.getImageAttrs=function(){var Ot=this.get("start"),it=this.get("end"),xt=this.get("style"),It=Object(A.k)({start:Ot,end:it}),zt=this.get("src");return Object(h.a)({x:It.x,y:It.y,img:zt,width:It.width,height:It.height},xt)},mt.prototype.renderImage=function(Ot){this.addShape(Ot,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},mt}(O.a),z=W,w=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:M.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:M.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:M.a.fontFamily}}}})},mt.prototype.renderInner=function(Ot){Object(i.s)(this.get("line"),"display")&&this.renderLine(Ot),Object(i.s)(this.get("text"),"display")&&this.renderText(Ot),Object(i.s)(this.get("point"),"display")&&this.renderPoint(Ot),this.get("autoAdjust")&&this.autoAdjust(Ot)},mt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},mt.prototype.renderPoint=function(Ot){var it=this.getShapeAttrs().point;this.addShape(Ot,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:it})},mt.prototype.renderLine=function(Ot){var it=this.getShapeAttrs().line;this.addShape(Ot,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:it})},mt.prototype.renderText=function(Ot){var it=this.getShapeAttrs().text,xt=it.x,It=it.y,zt=it.text,Kt=Object(h.e)(it,["x","y","text"]),Yt=this.get("text"),bt=Yt.background,ft=Yt.maxLength,dt=Yt.autoEllipsis,ot=Yt.isVertival,Mt=Yt.ellipsisPosition,Nt={x:xt,y:It,id:this.getElementId("text"),name:"annotation-text",content:zt,style:Kt,background:bt,maxLength:ft,autoEllipsis:dt,isVertival:ot,ellipsisPosition:Mt};S(Ot,Nt)},mt.prototype.autoAdjust=function(Ot){var it=this.get("direction"),xt=this.get("x"),It=this.get("y"),zt=Object(i.s)(this.get("line"),"length",0),Kt=this.get("coordinateBBox"),Yt=Ot.getBBox(),bt=Yt.minX,ft=Yt.maxX,dt=Yt.minY,ot=Yt.maxY,Mt=Ot.findById(this.getElementId("text-group")),Nt=Ot.findById(this.getElementId("text")),Pt=Ot.findById(this.getElementId("line"));if(!!Kt){if(Mt){if(xt+bt<=Kt.minX){var J=Kt.minX-(xt+bt);Object(C.c)(Mt,Mt.attr("x")+J,Mt.attr("y"))}if(xt+ft>=Kt.maxX){var J=xt+ft-Kt.maxX;Object(C.c)(Mt,Mt.attr("x")-J,Mt.attr("y"))}}if(it==="upward"&&It+dt<=Kt.minY||it!=="upward"&&It+ot>=Kt.maxY){var X=void 0,vt=void 0;it==="upward"&&It+dt<=Kt.minY?(X="top",vt=1):(X="bottom",vt=-1),Nt.attr("textBaseline",X),Pt&&Pt.attr("path",[["M",0,0],["L",0,zt*vt]]),Object(C.c)(Mt,Mt.attr("x"),(zt+2)*vt)}}},mt.prototype.getShapeAttrs=function(){var Ot=Object(i.s)(this.get("line"),"display"),it=Object(i.s)(this.get("point"),"style",{}),xt=Object(i.s)(this.get("line"),"style",{}),It=Object(i.s)(this.get("text"),"style",{}),zt=this.get("direction"),Kt=Ot?Object(i.s)(this.get("line"),"length",0):0,Yt=zt==="upward"?-1:1;return{point:Object(h.a)({x:0,y:0},it),line:Object(h.a)({path:[["M",0,0],["L",0,Kt*Yt]]},xt),text:Object(h.a)({x:0,y:(Kt+2)*Yt,text:Object(i.s)(this.get("text"),"content",""),textBaseline:zt==="upward"?"bottom":"top"},It)}},mt}(O.a),T=w,B=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:M.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:M.a.textColor,fontFamily:M.a.fontFamily}}}})},mt.prototype.renderInner=function(Ot){var it=Object(i.s)(this.get("region"),"style",{}),xt=Object(i.s)(this.get("text"),"style",{}),It=this.get("lineLength")||0,zt=this.get("points");if(!!zt.length){var Kt=Object(A.j)(zt),Yt=[];Yt.push(["M",zt[0].x,Kt.minY-It]),zt.forEach(function(ft){Yt.push(["L",ft.x,ft.y])}),Yt.push(["L",zt[zt.length-1].x,zt[zt.length-1].y-It]),this.addShape(Ot,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(h.a)({path:Yt},it)});var bt=Object(h.a)({id:this.getElementId("text"),name:"annotation-text",x:(Kt.minX+Kt.maxX)/2,y:Kt.minY-It},this.get("text"));S(Ot,bt)}},mt}(O.a),V=B,$=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},mt.prototype.renderInner=function(Ot){var it=this,xt=this.get("start"),It=this.get("end"),zt=this.addGroup(Ot,{id:this.getElementId("region-filter"),capture:!1});Object(i.j)(this.get("shapes"),function(Yt,bt){var ft=Yt.get("type"),dt=Object(i.e)(Yt.attr());it.adjustShapeAttrs(dt),it.addShape(zt,{id:it.getElementId("shape-"+ft+"-"+bt),capture:!1,type:ft,attrs:dt})});var Kt=Object(A.k)({start:xt,end:It});zt.setClip({type:"rect",attrs:{x:Kt.minX,y:Kt.minY,width:Kt.width,height:Kt.height}})},mt.prototype.adjustShapeAttrs=function(Ot){var it=this.get("color");Ot.fill&&(Ot.fill=Ot.fillStyle=it),Ot.stroke=Ot.strokeStyle=it},mt}(O.a),nt=$,at=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"shape",draw:i.db})},mt.prototype.renderInner=function(Ot){var it=this.get("render");Object(i.H)(it)&&it(Ot)},mt}(O.a),st=at,tt=a("m8xh"),Q=a("oDuu"),Z=function(ct){Object(h.c)(mt,ct);function mt(){return ct!==null&&ct.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var Ot=ct.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},Ot),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},mt.prototype.render=function(){var Ot=this.getContainer(),it=this.get("html");Object(A.a)(Ot);var xt=Object(i.H)(it)?it(Ot):it;Object(i.E)(xt)?Ot.appendChild(xt):Object(i.O)(xt)&&Ot.appendChild(Object(tt.b)(xt)),this.resetPosition()},mt.prototype.resetPosition=function(){var Ot=this.getContainer(),it=this.getLocation(),xt=it.x,It=it.y,zt=this.get("alignX"),Kt=this.get("alignY"),Yt=this.get("offsetX"),bt=this.get("offsetY"),ft=Object(tt.d)(Ot),dt=Object(tt.c)(Ot),ot={x:xt,y:It};zt==="middle"?ot.x-=Math.round(ft/2):zt==="right"&&(ot.x-=Math.round(ft)),Kt==="middle"?ot.y-=Math.round(dt/2):Kt==="bottom"&&(ot.y-=Math.round(dt)),Yt&&(ot.x+=Yt),bt&&(ot.y+=bt),Object(tt.e)(Ot,{position:"absolute",left:ot.x+"px",top:ot.y+"px",zIndex:this.get("zIndex")})},mt}(Q.a),et=Z},OX44:function(Ut,L,a){"use strict";a.d(L,"a",function(){return x});var h=a("J+IK"),i=a("AO+g"),O=[1,0,0,0,1,0,0,0,1];function x(C,A){var S=A?Object(h.g)(A):Object(h.g)(O);return i.Util.transform(S,C)}},Od3v:function(Ut,L,a){"use strict";a.d(L,"b",function(){return O}),a.d(L,"c",function(){return x});var h=a("EbMC"),i=a("WKd7"),O=(1+Math.sqrt(5))/2;function x(C,A,S,M,b,g){for(var E=[],D=A.children,p,N,I=0,G=0,W=D.length,z,w,T=A.value,B,V,$,nt,at,st,tt;I<W;){z=b-S,w=g-M;do B=D[G++].value;while(!B&&G<W);for(V=$=B,st=Math.max(w/z,z/w)/(T*C),tt=B*B*st,at=Math.max($/tt,tt/V);G<W;++G){if(B+=N=D[G].value,N<V&&(V=N),N>$&&($=N),tt=B*B*st,nt=Math.max($/tt,tt/V),nt>at){B-=N;break}at=nt}E.push(p={value:B,dice:z<w,children:D.slice(I,G)}),p.dice?Object(h.a)(p,S,M,b,T?M+=w*B/T:g):Object(i.a)(p,S,M,T?S+=z*B/T:b,g),T-=B,I=G}return E}L.a=function C(A){function S(M,b,g,E,D){x(A,M,b,g,E,D)}return S.ratio=function(M){return C((M=+M)>1?M:1)},S}(O)},OpA2:function(Ut,L){},Oye7:function(Ut,L,a){var h=a("XSdR");Ut.exports=i;function i(C){var A=x(C);h.forEach(C.graph().dummyChains,function(S){for(var M=C.node(S),b=M.edgeObj,g=O(C,A,b.v,b.w),E=g.path,D=g.lca,p=0,N=E[p],I=!0;S!==b.w;){if(M=C.node(S),I){for(;(N=E[p])!==D&&C.node(N).maxRank<M.rank;)p++;N===D&&(I=!1)}if(!I){for(;p<E.length-1&&C.node(N=E[p+1]).minRank<=M.rank;)p++;N=E[p]}C.setParent(S,N),S=C.successors(S)[0]}})}function O(C,A,S,M){var b=[],g=[],E=Math.min(A[S].low,A[M].low),D=Math.max(A[S].lim,A[M].lim),p,N;p=S;do p=C.parent(p),b.push(p);while(p&&(A[p].low>E||D>A[p].lim));for(N=p,p=M;(p=C.parent(p))!==N;)g.push(p);return{path:b.concat(g.reverse()),lca:N}}function x(C){var A={},S=0;function M(b){var g=S;h.forEach(C.children(b),M),A[b]={low:g,lim:S++}}return h.forEach(C.children(),M),A}},"P+oc":function(Ut,L,a){var h=a("3MnI");Ut.exports=i;function i(O){try{h(O)}catch(x){if(x instanceof h.CycleException)return!1;throw x}return!0}},P6PP:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h.a}),a.d(L,"b",function(){return b.a});var h=a("oq+b"),i=a("Rspp"),O=a.n(i),x=a("2Asv"),C=a.n(x),A=a("99LQ"),S=A.e.create(),M=function(){function W(z,w){O()(this,W),this.center=void 0,this.radius=void 0,this.center=z||A.e.create(),this.radius=w||.5}return C()(W,[{key:"containsPoint",value:function(w){return A.e.sub(S,w,this.center),A.e.length(S)<this.radius*this.radius}},{key:"intersects",value:function(w){A.e.sub(S,w.center,this.center);var T=w.radius+this.radius;return A.e.length(S)<=T*T}}]),W}(),b=a("c5gd"),g=a("xO9G"),E=A.e.create(),D=A.e.create(),p=A.e.create(),N=A.e.create(),I=A.e.create(),G=function(){function W(z,w){O()(this,W),this.origin=void 0,this.direction=void 0,this.origin=z||A.e.create(),this.direction=w||A.e.fromValues(0,0,-1)}return C()(W,[{key:"intersectsAABB",value:function(w,T){return T?this.intersectAABBWithIntersection(w,T):this.intersectsAABBWithoutIntersection(w)}},{key:"intersectsSphere",value:function(w,T){var B=A.e.sub(E,this.origin,w.center);A.e.normalize(D,A.e.copy(D,this.direction));var V=A.e.dot(B,D),$=A.e.dot(B,B)-w.radius*w.radius;if($>0&&V>0)return null;var nt=V*V-$;if(nt<0)return!1;var at=Math.abs(-V-Math.sqrt(nt));return T&&(A.e.copy(T,this.direction),A.e.scaleAndAdd(T,this.origin,T,at)),!0}},{key:"intersectsPlane",value:function(w,T){var B=(w.distance-A.e.dot(w.normal,this.origin))/A.e.dot(w.normal,this.direction),V=B>=0;return V&&T&&A.e.scaleAndAdd(T,this.origin,this.direction,B),V}},{key:"intersectsAABBWithoutIntersection",value:function(w){var T=E,B=D,V=p,$=N,nt=I,at=this.direction;return A.e.sub(T,this.origin,w.center),A.e.set($,Math.abs(T[0]),Math.abs(T[1]),Math.abs(T[2])),A.e.mul(V,T,at),$[0]>w.halfExtents[0]&&V[0]>=0||$[1]>w.halfExtents[1]&&V[1]>=0||$[2]>w.halfExtents[2]&&V[2]>=0?!1:(A.e.set(nt,Math.abs(at[0]),Math.abs(at[1]),Math.abs(at[2])),A.e.cross(B,at,T),A.e.set(B,Math.abs(B[0]),Math.abs(B[1]),Math.abs(B[2])),!(B[0]>w.halfExtents[1]*nt[2]+w.halfExtents[2]*nt[1]||B[1]>w.halfExtents[0]*nt[2]+w.halfExtents[2]*nt[0]||B[2]>w.halfExtents[0]*nt[1]+w.halfExtents[1]*nt[0]))}},{key:"intersectAABBWithIntersection",value:function(w,T){var B=A.e.copy(A.e.create(),w.getMin());A.e.sub(B,B,this.origin);var V=A.e.copy(A.e.create(),w.getMax());A.e.sub(V,V,this.origin);var $=this.direction;$[0]===0?(B[0]=B[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE,V[0]=V[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(B[0]/=$[0],V[0]/=$[0]),$[1]===0?(B[1]=B[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE,V[1]=V[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(B[1]/=$[1],V[1]/=$[1]),$[2]===0?(B[2]=B[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE,V[2]=V[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(B[2]/=$[2],V[2]/=$[2]);var nt=A.e.set(p,Math.min(B[0],V[0]),Math.min(B[1],V[1]),Math.min(B[2],V[2])),at=A.e.set(N,Math.max(B[0],V[0]),Math.max(B[1],V[1]),Math.max(B[2],V[2])),st=Math.min(Math.min(at[0],at[1]),at[2]),tt=Math.max(Math.max(nt[0],nt[1]),nt[2]),Q=st>=tt&&tt>=0;return Q&&(A.e.copy(T,this.direction),A.e.scaleAndAdd(T,this.origin,T,tt)),Q}}]),W}()},P7bb:function(Ut,L,a){"use strict";a.d(L,"a",function(){return S});var h=a("J+IK"),i=a("d38q"),O=a("S+j/"),x=a("M4f1"),C=a("RF2d"),A=Object(C.b)({},i.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),S=function(M){Object(h.c)(b,M);function b(){var g=M!==null&&M.apply(this,arguments)||this;return g.type="area",g}return b.getDefaultOptions=function(){return A},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b.prototype.changeData=function(g){this.updateOption({data:g});var E=this.options,D=E.isPercent,p=E.xField,N=E.yField,I=this,G=I.chart,W=I.options;Object(x.b)({chart:G,options:W}),this.chart.changeData(Object(O.a)(g,N,p,N,D))},b.prototype.getSchemaAdaptor=function(){return x.a},b}(i.b)},P7eI:function(Ut,L,a){"use strict";a.d(L,"a",function(){return Y});var h=a("mwFr"),i=a.n(h),O=a("Rspp"),x=a.n(O),C=a("2Asv"),A=a.n(C),S=a("WplE"),M=a.n(S),b=a("xg7u"),g=a.n(b),E=a("Kiyl"),D=a.n(E),p=a("u3/Z"),N=a.n(p),I=a("99LQ"),G=a("Hg9g"),W=a("oxMB"),z=a.n(W),w=9007199254740991,T="[object Arguments]",B="[object Array]",V="[object Boolean]",$="[object Date]",nt="[object Error]",at="[object Function]",st="[object Map]",tt="[object Number]",Q="[object Object]",Z="[object RegExp]",et="[object Set]",ct="[object String]",mt="[object WeakMap]",Ot="[object ArrayBuffer]",it="[object DataView]",xt="[object Float32Array]",It="[object Float64Array]",zt="[object Int8Array]",Kt="[object Int16Array]",Yt="[object Int32Array]",bt="[object Uint8Array]",ft="[object Uint8ClampedArray]",dt="[object Uint16Array]",ot="[object Uint32Array]",Mt={};Mt[xt]=Mt[It]=Mt[zt]=Mt[Kt]=Mt[Yt]=Mt[bt]=Mt[ft]=Mt[dt]=Mt[ot]=!0,Mt[T]=Mt[B]=Mt[Ot]=Mt[V]=Mt[it]=Mt[$]=Mt[nt]=Mt[at]=Mt[st]=Mt[tt]=Mt[Q]=Mt[Z]=Mt[et]=Mt[ct]=Mt[mt]=!1;function Nt(U){return function(j){return U(j)}}var Pt=Object.prototype,J=Pt.toString;function X(U){return lt(U)&&vt(U.length)&&!!Mt[J.call(U)]}function vt(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=w}function lt(U){return!!U&&z()(U)==="object"}var Ct=X;function Ft(U,j){var q=Object.keys(U);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(U);j&&(gt=gt.filter(function(_){return Object.getOwnPropertyDescriptor(U,_).enumerable})),q.push.apply(q,gt)}return q}function Wt(U){for(var j=1;j<arguments.length;j++){var q=arguments[j]!=null?arguments[j]:{};j%2?Ft(Object(q),!0).forEach(function(gt){i()(U,gt,q[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(q)):Ft(Object(q)).forEach(function(gt){Object.defineProperty(U,gt,Object.getOwnPropertyDescriptor(q,gt))})}return U}function kt(U){var j=jt();return function(){var gt=N()(U),_;if(j){var yt=N()(this).constructor;_=Reflect.construct(gt,arguments,yt)}else _=gt.apply(this,arguments);return D()(this,_)}}function jt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(U){return!1}}var Y=function(U){g()(q,U);var j=kt(q);function q(gt){var _;return x()(this,q),_=j.call(this,gt),_.dirty=!0,_.attributes=[],_.indices=void 0,_.indicesBuffer=void 0,_.vertexCount=0,_.maxInstancedCount=void 0,_.aabb=void 0,_.entity=void 0,Object.assign(M()(_),gt),_}return A()(q,[{key:"setAttribute",value:function(_,yt,wt,St){var Dt=this.attributes.find(function(Vt){return Vt.name===_});return Dt?(Dt.data=yt,Dt.dirty=!0):this.attributes.push(Wt(Wt({dirty:!0,name:_,data:yt},wt),{},{bufferGetter:St})),this.dirty=!0,this}},{key:"setIndex",value:function(_){return this.indices=new Uint32Array(_.buffer?_.buffer:_),this.dirty=!0,this}},{key:"applyMatrix",value:function(_){var yt=this.attributes.find(function(se){var ye=se.name;return ye==="position"}),wt=this.attributes.find(function(se){var ye=se.name;return ye==="normal"});if(yt&&(yt.dirty=!0,yt.data&&yt.data.length))for(var St=0;St<yt.data.length;St+=3){var Dt=I.f.fromValues(yt.data[St],yt.data[St+1],yt.data[St+2],1);I.f.transformMat4(Dt,Dt,_),Ct(yt.data)?yt.data.set([Dt[0],Dt[1],Dt[2]],St):(yt.data[St]=Dt[0],yt.data[St+1]=Dt[1],yt.data[St+2]=Dt[2])}if(wt){var Vt=I.a.normalFromMat4(I.a.create(),_);if(wt.data&&wt.data.length)for(var Qt=0;Qt<wt.data.length;Qt+=3){var ee=I.e.fromValues(wt.data[Qt],wt.data[Qt+1],wt.data[Qt+2]);I.e.transformMat3(ee,ee,Vt),I.e.normalize(ee,ee),Ct(wt.data)?wt.data.set([ee[0],ee[1],ee[2]],Qt):(wt.data[Qt]=ee[0],wt.data[Qt+1]=ee[1],wt.data[Qt+2]=ee[2])}}}}]),q}(G.a)},PJ1B:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.createSensor=void 0;var h=O(a("5M8n")),i=a("MPYE");function O(C){return C&&C.__esModule?C:{default:C}}var x=function(A){var S=void 0,M=[],b=function(){getComputedStyle(A).position==="static"&&(A.style.position="relative");var I=document.createElement("object");return I.onload=function(){I.contentDocument.defaultView.addEventListener("resize",g),g()},I.style.display="block",I.style.position="absolute",I.style.top="0",I.style.left="0",I.style.height="100%",I.style.width="100%",I.style.overflow="hidden",I.style.pointerEvents="none",I.style.zIndex="-1",I.style.opacity="0",I.setAttribute("class",i.SensorClassName),I.setAttribute("tabindex",i.SensorTabIndex),I.type="text/html",A.appendChild(I),I.data="about:blank",I},g=(0,h.default)(function(){M.forEach(function(N){N(A)})}),E=function(I){S||(S=b()),M.indexOf(I)===-1&&M.push(I)},D=function(){S&&S.parentNode&&(S.contentDocument&&S.contentDocument.defaultView.removeEventListener("resize",g),S.parentNode.removeChild(S),S=void 0,M=[])},p=function(I){var G=M.indexOf(I);G!==-1&&M.splice(G,1),M.length===0&&S&&D()};return{element:A,bind:E,destroy:D,unbind:p}};L.createSensor=x},PVp4:function(Ut,L){function a(h,i,O,x,C){var A={};return Object.keys(x).forEach(function(S){A[S]=x[S]}),A.enumerable=!!A.enumerable,A.configurable=!!A.configurable,("value"in A||A.initializer)&&(A.writable=!0),A=O.slice().reverse().reduce(function(S,M){return M(h,i,S)||S},A),C&&A.initializer!==void 0&&(A.value=A.initializer?A.initializer.call(C):void 0,A.initializer=void 0),A.initializer===void 0&&(Object.defineProperty(h,i,A),A=null),A}Ut.exports=a,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},PZqk:function(Ut,L,a){"use strict";a.d(L,"d",function(){return i}),a.d(L,"b",function(){return O}),a.d(L,"e",function(){return x}),a.d(L,"f",function(){return C}),a.d(L,"l",function(){return A}),a.d(L,"j",function(){return S});var h=a("jg4I");a.d(L,"i",function(){return h.I}),a.d(L,"k",function(){return h.O}),a.d(L,"h",function(){return h.H}),a.d(L,"g",function(){return h.B}),a.d(L,"c",function(){return h.j}),a.d(L,"o",function(){return h.pb}),a.d(L,"m",function(){return h.cb}),a.d(L,"n",function(){return h.hb}),a.d(L,"a",function(){return h.d});function i(){return window?window.devicePixelRatio:1}function O(M,b,g,E){var D=M-g,p=b-E;return Math.sqrt(D*D+p*p)}function x(M,b,g,E,D,p){return D>=M&&D<=M+g&&p>=b&&p<=b+E}function C(M,b){return!(b.minX>M.maxX||b.maxX<M.minX||b.minY>M.maxY||b.maxY<M.minY)}function A(M,b){return!M||!b?M||b:{minX:Math.min(M.minX,b.minX),minY:Math.min(M.minY,b.minY),maxX:Math.max(M.maxX,b.maxX),maxY:Math.max(M.maxY,b.maxY)}}function S(M,b){return M[0]===b[0]&&M[1]===b[1]}},PdHs:function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=i[0]*O[0],h[1]=i[1]*O[1],h}},PkPV:function(Ut,L,a){"use strict";a.d(L,"a",function(){return B});var h=a("mwFr"),i=a.n(h),O=a("Rspp"),x=a.n(O),C=a("2Asv"),A=a.n(C),S=a("WplE"),M=a.n(S),b=a("xg7u"),g=a.n(b),E=a("Kiyl"),D=a.n(E),p=a("u3/Z"),N=a.n(p),I=a("2Pg9"),G=a("Hg9g");function W(V,$){var nt=Object.keys(V);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(V);$&&(at=at.filter(function(st){return Object.getOwnPropertyDescriptor(V,st).enumerable})),nt.push.apply(nt,at)}return nt}function z(V){for(var $=1;$<arguments.length;$++){var nt=arguments[$]!=null?arguments[$]:{};$%2?W(Object(nt),!0).forEach(function(at){i()(V,at,nt[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(nt)):W(Object(nt)).forEach(function(at){Object.defineProperty(V,at,Object.getOwnPropertyDescriptor(nt,at))})}return V}function w(V){var $=T();return function(){var at=N()(V),st;if($){var tt=N()(this).constructor;st=Reflect.construct(at,arguments,tt)}else st=at.apply(this,arguments);return D()(this,st)}}function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(V){return!1}}var B=function(V){g()(nt,V);var $=w(nt);function nt(at){var st;return x()(this,nt),st=$.call(this,at),st.vertexShaderGLSL=void 0,st.fragmentShaderGLSL=void 0,st.defines={},st.dirty=!0,st.uniforms=[],st.cull={enable:!0,face:I.gl.BACK},st.depth={enable:!0},st.blend=void 0,st.entity=void 0,st.type=void 0,Object.assign(M()(st),at),st}return A()(nt,[{key:"setDefines",value:function(st){return this.defines=z(z({},this.defines),st),this}},{key:"setCull",value:function(st){return this.cull=st,this}},{key:"setDepth",value:function(st){return this.depth=st,this}},{key:"setBlend",value:function(st){return this.blend=st,this}},{key:"setUniform",value:function(st,tt){var Q=this;if(typeof st!="string")return Object.keys(st).forEach(function(et){return Q.setUniform(et,st[et])}),this;var Z=this.uniforms.find(function(et){return et.name===st});return Z?(Z.dirty=!0,Z.data=tt):this.uniforms.push({name:st,dirty:!0,data:tt}),this.dirty=!0,this}}]),nt}(G.a)},Pmht:function(Ut,L,a){"use strict";var h=a("ZVT1");a.d(L,"gl",function(){return h.a});var i=a("5/ae"),O=a.n(i),x=a("vdmW"),C=a.n(x),A=a("/pXD"),S=a.n(A),M=a("sn46"),b=a.n(M),g=a("1ZgE"),E=a.n(g),D=a("VRwR"),p=a.n(D),N=a("zui5"),I=a("JJn1"),G=a.n(I),W=a("TZFZ"),z=a.n(W),w=a("OpA2"),T=a.n(w),B=a("m0YO"),V=a.n(B)},PoGV:function(Ut,L,a){var h=a("XSdR"),i=a("hppO"),O=a("43gi").Graph;Ut.exports={debugOrdering:x};function x(C){var A=i.buildLayerMatrix(C),S=new O({compound:!0,multigraph:!0}).setGraph({});return h.forEach(C.nodes(),function(M){S.setNode(M,{label:M}),S.setParent(M,"layer"+C.node(M).rank)}),h.forEach(C.edges(),function(M){S.setEdge(M.v,M.w,{},M.name)}),h.forEach(A,function(M,b){var g="layer"+b;S.setNode(g,{rank:"same"}),h.reduce(M,function(E,D){return S.setEdge(E,D,{style:"invis"}),D})}),S}},PwAq:function(Ut,L){var a=[],h=[],i="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(C,A){if(A=A||{},C===void 0)throw new Error(i);var S=A.prepend===!0?"prepend":"append",M=A.container!==void 0?A.container:document.querySelector("head"),b=a.indexOf(M);b===-1&&(b=a.push(M)-1,h[b]={});var g;return h[b]!==void 0&&h[b][S]!==void 0?g=h[b][S]:(g=h[b][S]=x(),S==="prepend"?M.insertBefore(g,M.childNodes[0]):M.appendChild(g)),C.charCodeAt(0)===65279&&(C=C.substr(1,C.length)),g.styleSheet?g.styleSheet.cssText+=C:g.textContent+=C,g}function x(){var C=document.createElement("style");return C.setAttribute("type","text/css"),C}Ut.exports=O,Ut.exports.insertCss=O},"Q+aX":function(Ut,L,a){Ut.exports=i;var h=a("jFP1")();function i(O,x,C,A,S,M){var b,g;for(x||(x=2),C||(C=0),A?g=Math.min(A*x+C,O.length):g=O.length,b=C;b<g;b+=x)h[0]=O[b],h[1]=O[b+1],S(h,h,M),O[b]=h[0],O[b+1]=h[1];return O}},Q2Id:function(Ut,L,a){"use strict";a.r(L),a.d(L,"version",function(){return S});var h=a("o/SM");a.d(L,"Shape",function(){return h});var i=a("jsfD");for(var O in i)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(O)<0&&function(M){a.d(L,M,function(){return i[M]})}(O);var x=a("Rju7");a.d(L,"Canvas",function(){return x.a});var C=a("FDop");a.d(L,"Group",function(){return C.a});var A=a("HUJz");a.d(L,"getArcParams",function(){return A.a});var S="0.5.6"},Q55c:function(Ut,L,a){"use strict";var h=a("T1Zk");a.d(L,"getAdjust",function(){return h.getAdjust});var i=a("5Kaj"),O=a("vAzl"),x=a("tKNA"),C=a("Swz8"),A=a("ANdP"),S=a("X5ku"),M=a.n(S);Object(h.registerAdjust)("Dodge",O.a),Object(h.registerAdjust)("Jitter",x.a),Object(h.registerAdjust)("Stack",C.a),Object(h.registerAdjust)("Symmetric",A.a)},Q9F4:function(Ut,L){},QG4h:function(Ut,L){},QwT7:function(Ut,L,a){"use strict";var h=a("EP80"),i;(function(C){C.DEV="DEV",C.BETA="BETA",C.STABLE="STABLE"})(i||(i={}));function O(C,A){console.warn(C===i.DEV?"Plot '"+A+"' is in DEV stage, just give us issues.":C===i.BETA?"Plot '"+A+"' is in BETA stage, DO NOT use it in production env.":C===i.STABLE?"Plot '"+A+`' is in STABLE stage, import it by "import { `+A+` } from '@antv/g2plot'".`:"invalid Stage type.")}var x=function(){function C(){}return Object.defineProperty(C,"MultiView",{get:function(){return O(i.STABLE,"MultiView"),h.a},enumerable:!1,configurable:!0}),C}()},QwgH:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("xXxO"),O=a("jg4I"),x={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},C=function(A){Object(h.c)(S,A);function S(M){var b=A.call(this,M)||this;return b.initCfg(),b}return S.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},S.prototype.clear=function(){},S.prototype.update=function(M){var b=this,g=this.get("defaultCfg");Object(O.j)(M,function(E,D){var p=b.get(D),N=E;p!==E&&(Object(O.M)(E)&&g[D]&&(N=Object(O.h)({},g[D],E)),b.set(D,N))}),this.updateInner(M),this.afterUpdate(M)},S.prototype.updateInner=function(M){},S.prototype.afterUpdate=function(M){Object(O.x)(M,"visible")&&(M.visible?this.show():this.hide()),Object(O.x)(M,"capture")&&this.setCapture(M.capture)},S.prototype.getLayoutBBox=function(){return this.getBBox()},S.prototype.getLocationType=function(){return this.get("locationType")},S.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},S.prototype.setOffset=function(M,b){this.update({offsetX:M,offsetY:b})},S.prototype.setLocation=function(M){var b=Object(h.a)({},M);this.update(b)},S.prototype.getLocation=function(){var M=this,b={},g=this.get("locationType"),E=x[g];return Object(O.j)(E,function(D){b[D]=M.get(D)}),b},S.prototype.isList=function(){return!1},S.prototype.isSlider=function(){return!1},S.prototype.init=function(){},S.prototype.initCfg=function(){var M=this,b=this.get("defaultCfg");Object(O.j)(b,function(g,E){var D=M.get(E);if(Object(O.M)(D)){var p=Object(O.h)({},g,D);M.set(E,p)}})},S}(i.Base);L.a=C},RF2d:function(Ut,L,a){"use strict";a.d(L,"e",function(){return h}),a.d(L,"p",function(){return i}),a.d(L,"t",function(){return x}),a.d(L,"n",function(){return C.b}),a.d(L,"a",function(){return C.a}),a.d(L,"h",function(){return A}),a.d(L,"c",function(){return S}),a.d(L,"f",function(){return M}),a.d(L,"g",function(){return b}),a.d(L,"d",function(){return g.a}),a.d(L,"k",function(){return g.c}),a.d(L,"i",function(){return g.b}),a.d(L,"u",function(){return D}),a.d(L,"j",function(){return W}),a.d(L,"b",function(){return z.a}),a.d(L,"m",function(){return w}),a.d(L,"s",function(){return T.b}),a.d(L,"r",function(){return T.a}),a.d(L,"o",function(){return $}),a.d(L,"l",function(){return nt.a}),a.d(L,"q",function(){return at.b});function h(){for(var st=[],tt=0;tt<arguments.length;tt++)st[tt]=arguments[tt];return function(Q){return st.reduce(function(Z,et){return et(Z)},Q)}}function i(st,tt){var Q={};return st!==null&&typeof st=="object"&&tt.forEach(function(Z){var et=st[Z];et!==void 0&&(Q[Z]=et)}),Q}var O=a("jg4I");function x(st,tt){return Object(O.fb)(tt,function(Q,Z,et){return Q.replace(new RegExp("{\\s*"+et+"\\s*}","g"),Z)},st)}var C=a("OK4B");function A(st){if(!st)return{width:0,height:0};var tt=getComputedStyle(st);return{width:(st.clientWidth||parseInt(tt.width,10))-parseInt(tt.paddingLeft,10)-parseInt(tt.paddingRight,10),height:(st.clientHeight||parseInt(tt.height,10))-parseInt(tt.paddingTop,10)-parseInt(tt.paddingBottom,10)}}function S(st,tt){return st.geometries.find(function(Q){return Q.type===tt})}function M(st){return Object(O.fb)(st.geometries,function(tt,Q){return tt.concat(Q.elements)},[])}function b(st){return Object(O.s)(st,["views","length"],0)<=0?M(st):Object(O.fb)(st.views,function(tt,Q){return tt.concat(b(Q))},M(st))}var g=a("aw9a"),E=a("J+IK");function D(st){if(!Object(O.P)(st,"Object"))return st;var tt=Object(E.a)({},st);return tt.formatter&&!tt.content&&(tt.content=tt.formatter),tt}var p=a("sxZn");function N(st,tt){var Q=[];if(st.length){Q.push(["M",st[0].x,st[0].y]);for(var Z=1,et=st.length;Z<et;Z+=1){var ct=st[Z];Q.push(["L",ct.x,ct.y])}tt&&Q.push(["Z"])}return Q}var I=function(tt,Q,Z,et){var ct=[],mt,Ot,it=!!et,xt,It;if(it){xt=[Infinity,Infinity],It=[-Infinity,-Infinity];for(var zt=0,Kt=tt.length;zt<Kt;zt++){var Yt=tt[zt];xt=p.c.min([0,0],xt,Yt),It=p.c.max([0,0],It,Yt)}xt=p.c.min([0,0],xt,et[0]),It=p.c.max([0,0],It,et[1])}for(var zt=0,bt=tt.length;zt<bt;zt++){var Yt=tt[zt];if(Z)mt=tt[zt?zt-1:bt-1],Ot=tt[(zt+1)%bt];else if(zt===0||zt===bt-1){ct.push(Yt);continue}else mt=tt[zt-1],Ot=tt[zt+1];var ft=[0,0];ft=p.c.sub(ft,Ot,mt),ft=p.c.scale(ft,ft,Q);var dt=p.c.distance(Yt,mt),ot=p.c.distance(Yt,Ot),Mt=dt+ot;Mt!==0&&(dt/=Mt,ot/=Mt);var Nt=p.c.scale([0,0],ft,-dt),Pt=p.c.scale([0,0],ft,ot),J=p.c.add([0,0],Yt,Nt),X=p.c.add([0,0],Yt,Pt);it&&(J=p.c.max([0,0],J,xt),J=p.c.min([0,0],J,It),X=p.c.max([0,0],X,xt),X=p.c.min([0,0],X,It)),ct.push(J),ct.push(X)}return Z&&ct.push(ct.shift()),ct};function G(st,tt,Q){for(var Z=!!tt,et=[],ct=0,mt=st.length;ct<mt;ct+=2)et.push([st[ct],st[ct+1]]);for(var Ot=I(et,.4,Z,Q),it=et.length,xt=[],It,zt,Kt,ct=0;ct<it-1;ct++)It=Ot[ct*2],zt=Ot[ct*2+1],Kt=et[ct+1],xt.push(["C",It[0],It[1],zt[0],zt[1],Kt[0],Kt[1]]);return Z&&(It=Ot[it],zt=Ot[it+1],Kt=et[0],xt.push(["C",It[0],It[1],zt[0],zt[1],Kt[0],Kt[1]])),xt}function W(st,tt,Q){var Z=[],et=st[0],ct=null;if(st.length<=2)return N(st,tt);for(var mt=0,Ot=st.length;mt<Ot;mt++){var it=st[mt];(!ct||!(ct.x===it.x&&ct.y===it.y))&&(Z.push(it.x),Z.push(it.y),ct=it)}var xt=Q||[[0,0],[1,1]],It=G(Z,tt,xt);return It.unshift(["M",et.x,et.y]),It}var z=a("IXtn");function w(st){if(!st)return st;var tt=st.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return tt.map(function(Q){return Q.toLowerCase()}).join("-")}var T=a("WxhE"),B;function V(){return B||(B=document.createElement("canvas").getContext("2d")),B}var $=Object(O.Y)(function(st,tt){tt===void 0&&(tt={});var Q=tt.fontSize,Z=tt.fontFamily,et=Z===void 0?"sans-serif":Z,ct=tt.fontWeight,mt=tt.fontStyle,Ot=tt.fontVariant,it=V();it.font=[mt,ct,Ot,Q+"px",et].join(" ");var xt=it.measureText(Object(O.O)(st)?st:"");return xt.width},function(st,tt){return tt===void 0&&(tt={}),Object(E.g)([st],Object(O.ub)(tt)).join("")}),nt=a("dN4e"),at=a("068J")},RSob:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.QueryableString=void 0;var h=function(){function i(O){this.str=O}return i.prototype.startsWith=function(O){return this.str.indexOf(O)===0},i.prototype.endsWith=function(O){var x="",C=O.split("").reverse().join("");return x=this.str.split("").reverse().join(""),this.startsWith.call({str:x},C)},i.prototype.contains=function(O){return this.str.indexOf(O)!==-1},i.prototype.equals=function(O){return this.str===O},i.prototype.value=function(){return this.str},i}();L.QueryableString=h},"RV5/":function(Ut,L,a){Ut.exports={EPSILON:a("pHwo"),create:a("jFP1"),clone:a("Z23w"),fromValues:a("44Go"),copy:a("r/Jg"),set:a("0mwY"),equals:a("HAYd"),exactEquals:a("kGri"),add:a("+2Ae"),subtract:a("EpgB"),sub:a("/XgH"),multiply:a("PdHs"),mul:a("pUwi"),divide:a("/Ykl"),div:a("jCkg"),inverse:a("eo7c"),min:a("X4CS"),max:a("EZfi"),rotate:a("iUtP"),floor:a("naqw"),ceil:a("zJ04"),round:a("JJ9t"),scale:a("SwPz"),scaleAndAdd:a("aMRv"),distance:a("rBQE"),dist:a("BTaQ"),squaredDistance:a("5LP0"),sqrDist:a("Zkfg"),length:a("oobg"),len:a("5Am0"),squaredLength:a("ebDh"),sqrLen:a("zEOA"),negate:a("MGR1"),normalize:a("8+ZV"),dot:a("FolP"),cross:a("WLqU"),lerp:a("COEK"),random:a("ylrI"),transformMat2:a("fI7b"),transformMat2d:a("WzGa"),transformMat3:a("wMWh"),transformMat4:a("Rj9g"),forEach:a("Q+aX"),limit:a("3zSj")}},RaWV:function(Ut,L){function a(h,i,O,x){var C=-1,A=h==null?0:h.length;for(x&&A&&(O=h[++C]);++C<A;)O=i(O,h[C],C,h);return O}Ut.exports=a},Rj9g:function(Ut,L){Ut.exports=a;function a(h,i,O){var x=i[0],C=i[1];return h[0]=O[0]*x+O[4]*C+O[12],h[1]=O[1]*x+O[5]*C+O[13],h}},Rju7:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jsfD");function O(p,N){if(N){var I=Object(i.invert)(N);return Object(i.multiplyVec2)(I,p)}return p}function x(p,N,I){var G=p.getTotalMatrix();if(G){var W=O([N,I,1],G),z=W[0],w=W[1];return[z,w]}return[N,I]}function C(p,N,I){if(p.isCanvas&&p.isCanvas())return!0;if(!Object(i.isAllowCapture)(p)||p.cfg.isInView===!1)return!1;if(p.cfg.clipShape){var G=x(p,N,I),W=G[0],z=G[1];if(p.isClipped(W,z))return!1}var w=p.cfg.cacheCanvasBBox||p.getCanvasBBox();return N>=w.minX&&N<=w.maxX&&I>=w.minY&&I<=w.maxY}function A(p,N,I){if(!C(p,N,I))return null;for(var G=null,W=p.getChildren(),z=W.length,w=z-1;w>=0;w--){var T=W[w];if(T.isGroup())G=A(T,N,I);else if(C(T,N,I)){var B=T,V=x(T,N,I),$=V[0],nt=V[1];B.isInShape($,nt)&&(G=T)}if(G)break}return G}var S=a("o/SM"),M=a("FDop"),b=a("jGCv"),g=a("MYzp"),E=function(p){Object(h.c)(N,p);function N(){return p!==null&&p.apply(this,arguments)||this}return N.prototype.getDefaultCfg=function(){var I=p.prototype.getDefaultCfg.call(this);return I.renderer="canvas",I.autoDraw=!0,I.localRefresh=!0,I.refreshElements=[],I.clipView=!0,I.quickHit=!1,I},N.prototype.onCanvasChange=function(I){(I==="attr"||I==="sort"||I==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},N.prototype.getShapeBase=function(){return S},N.prototype.getGroupBase=function(){return M.a},N.prototype.getPixelRatio=function(){var I=this.get("pixelRatio")||Object(b.d)();return I>=1?Math.ceil(I):1},N.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},N.prototype.createDom=function(){var I=document.createElement("canvas"),G=I.getContext("2d");return this.set("context",G),I},N.prototype.setDOMSize=function(I,G){p.prototype.setDOMSize.call(this,I,G);var W=this.get("context"),z=this.get("el"),w=this.getPixelRatio();z.width=w*I,z.height=w*G,w>1&&W.scale(w,w)},N.prototype.clear=function(){p.prototype.clear.call(this),this._clearFrame();var I=this.get("context"),G=this.get("el");I.clearRect(0,0,G.width,G.height)},N.prototype.getShape=function(I,G){var W;return this.get("quickHit")?W=A(this,I,G):W=p.prototype.getShape.call(this,I,G,null),W},N.prototype._getRefreshRegion=function(){var I=this.get("refreshElements"),G=this.getViewRange(),W;if(I.length&&I[0]===this)W=G;else if(W=Object(g.f)(I),W){W.minX=Math.floor(W.minX),W.minY=Math.floor(W.minY),W.maxX=Math.ceil(W.maxX),W.maxY=Math.ceil(W.maxY),W.maxY+=1;var z=this.get("clipView");z&&(W=Object(g.g)(W,G))}return W},N.prototype.refreshElement=function(I){var G=this.get("refreshElements");G.push(I)},N.prototype._clearFrame=function(){var I=this.get("drawFrame");I&&(Object(b.a)(I),this.set("drawFrame",null),this.set("refreshElements",[]))},N.prototype.draw=function(){var I=this.get("drawFrame");this.get("autoDraw")&&I||this._startDraw()},N.prototype._drawAll=function(){var I=this.get("context"),G=this.get("el"),W=this.getChildren();I.clearRect(0,0,G.width,G.height),Object(g.a)(I,this),Object(g.d)(I,W),this.set("refreshElements",[])},N.prototype._drawRegion=function(){var I=this.get("context"),G=this.get("refreshElements"),W=this.getChildren(),z=this._getRefreshRegion();z?(I.clearRect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),I.save(),I.beginPath(),I.rect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),I.clip(),Object(g.a)(I,this),Object(g.b)(this,W,z),Object(g.d)(I,W,z),I.restore()):G.length&&Object(g.c)(G),Object(b.c)(G,function(w){w.get("hasChanged")&&w.set("hasChanged",!1)}),this.set("refreshElements",[])},N.prototype._startDraw=function(){var I=this,G=this.get("drawFrame");G||(G=Object(b.n)(function(){I.get("localRefresh")?I._drawRegion():I._drawAll(),I.set("drawFrame",null)}),this.set("drawFrame",G))},N.prototype.skipDraw=function(){},N}(i.AbstractCanvas),D=L.a=E},Rspp:function(Ut,L){function a(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}Ut.exports=a,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},"RtY/":function(Ut,L,a){"use strict";a.d(L,"a",function(){return ct});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("viI4"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("PVp4"),g=a.n(b),E=a("e6Zy"),D=a.n(E),p=a("me+i"),N=a.n(p),I=a("XN3X"),G=a("ZVT1"),W=a("K4bE"),z,w,T,B,V,$,nt,at,st,tt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,Q=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Z=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,et=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ct=(z=Object(p.injectable)(),w=Object(p.inject)(I.a.RenderEngine),T=Object(p.inject)(I.a.ResourcePool),z(B=(V=(st=at=function mt(){var Ot=this;M()(this,mt),A()(this,"engine",$,this),A()(this,"resourcePool",nt,this),this.model=void 0,this.setup=function(it,xt,It){var zt=it.getPass(W.a.IDENTIFIER);if(zt){var Kt=it.createRenderTarget(xt,"render to screen",{width:1,height:1});It.data={input:xt.read(zt.data.output),output:xt.write(it,Kt)}}},this.execute=function(){var it=x()(i.a.mark(function xt(It,zt){var Kt,Yt,bt,ft,dt,ot,Mt;return i.a.wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:if(Kt=Ot.engine,Yt=Kt.createModel,bt=Kt.createAttribute,ft=Kt.createBuffer,Ot.model){Pt.next=6;break}return Pt.next=4,Yt({vs:Ot.engine.supportWebGPU?et:Q,fs:Ot.engine.supportWebGPU?Z:tt,attributes:{a_Position:bt({buffer:ft({data:[-4,-4,4,-4,0,4],type:G.a.FLOAT}),size:2,arrayStride:2*4,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:dt=Pt.sent,Ot.model=dt;case 6:ot=It.getResourceNode(zt.data.input),Mt=Ot.resourcePool.getOrCreateResource(ot.resource),Ot.engine.useFramebuffer(null,function(){Ot.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),Ot.model.draw({uniforms:{u_Texture:Mt}})});case 9:case"end":return Pt.stop()}},xt)}));return function(xt,It){return it.apply(this,arguments)}}(),this.tearDown=function(){Ot.model=void 0}},at.IDENTIFIER="Copy Pass",st),$=g()(V.prototype,"engine",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=g()(V.prototype,"resourcePool",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V))||B)},RxlK:function(Ut,L,a){"use strict";a.d(L,"b",function(){return h}),a.d(L,"c",function(){return i}),a.d(L,"a",function(){return O});function h(x,C){var A=[],S=x[0],M=x[1],b=x[2],g=x[3],E=x[4],D=x[5],p=x[6],N=x[7],I=x[8],G=C[0],W=C[1],z=C[2],w=C[3],T=C[4],B=C[5],V=C[6],$=C[7],nt=C[8];return A[0]=G*S+W*g+z*p,A[1]=G*M+W*E+z*N,A[2]=G*b+W*D+z*I,A[3]=w*S+T*g+B*p,A[4]=w*M+T*E+B*N,A[5]=w*b+T*D+B*I,A[6]=V*S+$*g+nt*p,A[7]=V*M+$*E+nt*N,A[8]=V*b+$*D+nt*I,A}function i(x,C){var A=[],S=C[0],M=C[1];return A[0]=x[0]*S+x[3]*M+x[6],A[1]=x[1]*S+x[4]*M+x[7],A}function O(x){var C=[],A=x[0],S=x[1],M=x[2],b=x[3],g=x[4],E=x[5],D=x[6],p=x[7],N=x[8],I=N*g-E*p,G=-N*b+E*D,W=p*b-g*D,z=A*I+S*G+M*W;return z?(z=1/z,C[0]=I*z,C[1]=(-N*S+M*p)*z,C[2]=(E*S-M*g)*z,C[3]=G*z,C[4]=(N*A-M*D)*z,C[5]=(-E*A+M*b)*z,C[6]=W*z,C[7]=(-p*A+S*D)*z,C[8]=(g*A-S*b)*z,C):null}},"S+j/":function(Ut,L,a){"use strict";a.d(L,"b",function(){return x}),a.d(L,"a",function(){return C});var h=a("J+IK"),i=a("jg4I"),O=a("dN4e");function x(A,S,M,b){var g=Object(i.fb)(A,function(E,D){var p=D[M],N=E.has(p)?E.get(p):0,I=D[S];return N=Object(O.b)(I)?N+I:N,E.set(p,N),E},new Map);return Object(i.U)(A,function(E){var D,p=E[S],N=E[M],I=Object(O.b)(p)?p/g.get(N):0;return Object(h.a)(Object(h.a)({},E),(D={},D[b]=I,D))})}function C(A,S,M,b,g){return g?x(A,S,M,b):A}},S8CN:function(Ut,L){function a(h,i,O,x){for(var C=h.length,A=O+(x?1:-1);x?A--:++A<C;)if(i(h[A],A,h))return A;return-1}Ut.exports=a},S9go:function(Ut,L,a){"use strict";var h=a("fo7X"),i=a("8Vus"),O=a("bmBd")},SCaY:function(Ut,L,a){"use strict";a.d(L,"b",function(){return O}),a.d(L,"a",function(){return x}),a.d(L,"d",function(){return C}),a.d(L,"c",function(){return A});var h=a("jg4I"),i=a("0xlF");function O(S){return document.createElementNS("http://www.w3.org/2000/svg",S)}function x(S){var M=i.a[S.type],b=S.getParent();if(!M)throw new Error("the type "+S.type+" is not supported by svg");var g=O(M);if(S.get("id")&&(g.id=S.get("id")),S.set("el",g),S.set("attrs",{}),b){var E=b.get("el");E||(E=b.createDom(),b.set("el",E)),E.appendChild(g)}return g}function C(S,M){var b=S.get("el"),g=Object(h.ob)(b.children).sort(M),E=document.createDocumentFragment();g.forEach(function(D){E.appendChild(D)}),b.appendChild(E)}function A(S,M){var b=S.parentNode,g=Array.from(b.childNodes).filter(function(N){return N.nodeType===1&&N.nodeName.toLowerCase()!=="defs"}),E=g[M],D=g.indexOf(S);if(E){if(D>M)b.insertBefore(S,E);else if(D<M){var p=g[M+1];p?b.insertBefore(S,p):b.appendChild(S)}}else b.appendChild(S)}},SJBz:function(Ut,L){},SKV0:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.BindingInSyntax=void 0;var h=a("TKZu"),i=a("8fBB"),O=function(){function x(C){this._binding=C}return x.prototype.inRequestScope=function(){return this._binding.scope=h.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},x.prototype.inSingletonScope=function(){return this._binding.scope=h.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},x.prototype.inTransientScope=function(){return this._binding.scope=h.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},x}();L.BindingInSyntax=O},Sltr:function(Ut,L,a){"use strict";a.d(L,"a",function(){return V});var h=a("J+IK"),i=a("d38q"),O=a("jg4I"),x=a("ggto"),C=a("RF2d"),A=a("c6wE"),S,M="$$range$$",b="low-q1-median-q3-high",g="$$y_outliers$$",E="outliers_view",D=Object(C.b)({},i.b.getDefaultOptions(),{meta:(S={},S[M]={min:0,alias:b},S),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0}}),p=function(nt,at){var st=nt;if(Array.isArray(at)){var tt=at[0],Q=at[1],Z=at[2],et=at[3],ct=at[4];st=Object(O.U)(nt,function(mt){return mt[M]=[mt[tt],mt[Q],mt[Z],mt[et],mt[ct]],mt})}return st};function N($){var nt=$.chart,at=$.options,st=at.xField,tt=at.yField,Q=at.groupField,Z=at.color,et=Array.isArray(tt)?M:tt,ct=nt.schema().position(st+"*"+et).shape("box");return Q&&ct.color(Q,Z).adjust("dodge"),nt.data(p(at.data,tt)),$}function I($){var nt=$.chart,at=$.options,st=at.xField,tt=at.data,Q=at.outliersField,Z=at.outliersStyle,et=at.padding;if(!Q)return $;var ct=nt.createView({padding:et,id:E});ct.data(tt),ct.axis(!1);var mt=ct.point().position(st+"*"+Q).shape("circle");return Object(O.H)(Z)?mt.style(st+"*"+Q,function(Ot,it){var xt;return Z((xt={},xt[st]=Ot,xt[Q]=it,xt))}):Object(O.M)(Z)&&mt.style(Z),$}function G($){var nt,at,st=$.chart,tt=$.options,Q=tt.meta,Z=tt.xAxis,et=tt.yAxis,ct=tt.xField,mt=tt.yField,Ot=tt.outliersField,it=Array.isArray(mt)?M:mt,xt={};if(Ot){var It=g;xt=(nt={},nt[Ot]={sync:It,nice:!0},nt[it]={sync:It,nice:!0},nt)}var zt=Object(C.b)(xt,Q,(at={},at[ct]=Object(C.p)(Z,A.a),at[it]=Object(C.p)(et,A.a),at));return st.scale(zt),$}function W($){var nt=$.chart,at=$.options,st=at.xAxis,tt=at.yAxis,Q=at.xField,Z=at.yField,et=Array.isArray(Z)?M:Z;return st===!1?nt.axis(Q,!1):nt.axis(Q,st),tt===!1?nt.axis(M,!1):nt.axis(et,tt),$}function z($){var nt=$.chart,at=$.options,st=at.legend,tt=at.groupField;return tt?st?nt.legend(tt,st):nt.legend(tt,{position:"bottom"}):nt.legend(!1),$}function w($){var nt=$.chart,at=$.options,st=at.xField,tt=at.yField,Q=at.boxStyle,Z=Object(C.c)(nt,"schema"),et=Array.isArray(tt)?M:tt;return Object(O.H)(Q)?Z.style(st+"*"+et,function(ct,mt){var Ot;return Q((Ot={},Ot[st]=ct,Ot[et]=mt,Ot))}):Object(O.M)(Q)&&Z.style(Q),$}function T($){var nt=$.chart,at=$.options,st=at.tooltip;return st!==void 0&&nt.tooltip(st),$}function B($){return Object(C.e)(N,I,G,W,w,z,T,x.c,x.a,x.j)($)}var V=function($){Object(h.c)(nt,$);function nt(){var at=$!==null&&$.apply(this,arguments)||this;return at.type="box",at}return nt.getDefaultOptions=function(){return D},nt.prototype.changeData=function(at){this.updateOption({data:at});var st=this.options.yField,tt=this.chart.views.find(function(Q){return Q.id===E});tt&&tt.data(at),this.chart.changeData(p(at,st))},nt.prototype.getDefaultOptions=function(){return nt.getDefaultOptions()},nt.prototype.getSchemaAdaptor=function(){return B},nt}(i.b)},SunQ:function(Ut,L,a){"use strict";a.d(L,"g",function(){return i}),a.d(L,"f",function(){return O}),a.d(L,"e",function(){return x}),a.d(L,"a",function(){return C}),a.d(L,"c",function(){return A}),a.d(L,"h",function(){return S}),a.d(L,"d",function(){return M}),a.d(L,"b",function(){return b});var h,i="range",O="type",x="percent",C="#f0f0f0",A="indicator-view",S="range-view",M="range-mask-view",b={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(h={},h[i]={sync:"v"},h[x]={sync:"v",tickCount:5,tickInterval:.2},h),animation:!1}},SwPz:function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=i[0]*O,h[1]=i[1]*O,h}},Swz8:function(Ut,L,a){"use strict";var h=a("/WN3"),i=a("jg4I"),O=a("5Kaj"),x=i.a,C=function(A){Object(h.b)(S,A);function S(M){var b=A.call(this,M)||this,g=M.adjustNames,E=g===void 0?["y"]:g,D=M.height,p=D===void 0?NaN:D,N=M.size,I=N===void 0?10:N,G=M.reverseOrder,W=G===void 0?!1:G;return b.adjustNames=E,b.height=p,b.size=I,b.reverseOrder=W,b}return S.prototype.process=function(M){var b=this,g=b.yField,E=b.reverseOrder,D=g?this.processStack(M):this.processOneDimStack(M);return E?this.reverse(D):D},S.prototype.reverse=function(M){return M.slice(0).reverse()},S.prototype.processStack=function(M){var b=this,g=b.xField,E=b.yField,D=b.reverseOrder,p=D?this.reverse(M):M,N=new x,I=new x;return p.map(function(G){return G.map(function(W){var z,w=i.s(W,g,0),T=i.s(W,[E]),B=w.toString();if(T=i.B(T)?T[1]:T,!i.I(T)){var V=T>=0?N:I;V.has(B)||V.set(B,0);var $=V.get(B),nt=T+$;return V.set(B,nt),Object(h.a)(Object(h.a)({},W),(z={},z[E]=[$,nt],z))}return W})})},S.prototype.processOneDimStack=function(M){var b=this,g=this,E=g.xField,D=g.height,p=g.reverseOrder,N="y",I=p?this.reverse(M):M,G=new x;return I.map(function(W){return W.map(function(z){var w,T=b.size,B=z[E],V=T*2/D;G.has(B)||G.set(B,V/2);var $=G.get(B);return G.set(B,$+V),Object(h.a)(Object(h.a)({},z),(w={},w[N]=$,w))})})},S}(O.a);L.a=C},T0ZP:function(Ut,L,a){(function(h,i){Ut.exports=i()})(this,function(){"use strict";var h=function(ae){return ae instanceof Uint8Array||ae instanceof Uint16Array||ae instanceof Uint32Array||ae instanceof Int8Array||ae instanceof Int16Array||ae instanceof Int32Array||ae instanceof Float32Array||ae instanceof Float64Array||ae instanceof Uint8ClampedArray},i=function(ae,De){for(var fr=Object.keys(De),Cr=0;Cr<fr.length;++Cr)ae[fr[Cr]]=De[fr[Cr]];return ae},O=`
`;function x(qt){return typeof atob!="undefined"?atob(qt):"base64:"+qt}function C(qt){var ae=new Error("(regl) "+qt);throw console.error(ae),ae}function A(qt,ae){qt||C(ae)}function S(qt){return qt?": "+qt:""}function M(qt,ae,De){qt in ae||C("unknown parameter ("+qt+")"+S(De)+". possible values: "+Object.keys(ae).join())}function b(qt,ae){h(qt)||C("invalid parameter type"+S(ae)+". must be a typed array")}function g(qt,ae){switch(ae){case"number":return typeof qt=="number";case"object":return typeof qt=="object";case"string":return typeof qt=="string";case"boolean":return typeof qt=="boolean";case"function":return typeof qt=="function";case"undefined":return typeof qt=="undefined";case"symbol":return typeof qt=="symbol"}}function E(qt,ae,De){g(qt,ae)||C("invalid parameter type"+S(De)+". expected "+ae+", got "+typeof qt)}function D(qt,ae){qt>=0&&(qt|0)===qt||C("invalid parameter type, ("+qt+")"+S(ae)+". must be a nonnegative integer")}function p(qt,ae,De){ae.indexOf(qt)<0&&C("invalid value"+S(De)+". must be one of: "+ae)}var N=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function I(qt){Object.keys(qt).forEach(function(ae){N.indexOf(ae)<0&&C('invalid regl constructor argument "'+ae+'". must be one of '+N)})}function G(qt,ae){for(qt=qt+"";qt.length<ae;)qt=" "+qt;return qt}function W(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function z(qt,ae){this.number=qt,this.line=ae,this.errors=[]}function w(qt,ae,De){this.file=qt,this.line=ae,this.message=De}function T(){var qt=new Error,ae=(qt.stack||qt).toString(),De=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ae);if(De)return De[1];var fr=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ae);return fr?fr[1]:"unknown"}function B(){var qt=new Error,ae=(qt.stack||qt).toString(),De=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ae);if(De)return De[1];var fr=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ae);return fr?fr[1]:"unknown"}function V(qt,ae){var De=qt.split(`
`),fr=1,Cr=0,mr={unknown:new W,0:new W};mr.unknown.name=mr[0].name=ae||T(),mr.unknown.lines.push(new z(0,""));for(var vr=0;vr<De.length;++vr){var Vr=De[vr],rn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Vr);if(rn)switch(rn[1]){case"line":var Hr=/(\d+)(\s+\d+)?/.exec(rn[2]);Hr&&(fr=Hr[1]|0,Hr[2]&&(Cr=Hr[2]|0,Cr in mr||(mr[Cr]=new W)));break;case"define":var Xr=/SHADER_NAME(_B64)?\s+(.*)$/.exec(rn[2]);Xr&&(mr[Cr].name=Xr[1]?x(Xr[2]):Xr[2]);break}mr[Cr].lines.push(new z(fr++,Vr))}return Object.keys(mr).forEach(function(an){var gn=mr[an];gn.lines.forEach(function(sn){gn.index[sn.number]=sn})}),mr}function $(qt){var ae=[];return qt.split(`
`).forEach(function(De){if(!(De.length<5)){var fr=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(De);fr?ae.push(new w(fr[1]|0,fr[2]|0,fr[3].trim())):De.length>0&&ae.push(new w("unknown",0,De))}}),ae}function nt(qt,ae){ae.forEach(function(De){var fr=qt[De.file];if(fr){var Cr=fr.index[De.line];if(Cr){Cr.errors.push(De),fr.hasErrors=!0;return}}qt.unknown.hasErrors=!0,qt.unknown.lines[0].errors.push(De)})}function at(qt,ae,De,fr,Cr){if(!qt.getShaderParameter(ae,qt.COMPILE_STATUS)){var mr=qt.getShaderInfoLog(ae),vr=fr===qt.FRAGMENT_SHADER?"fragment":"vertex";mt(De,"string",vr+" shader source must be a string",Cr);var Vr=V(De,Cr),rn=$(mr);nt(Vr,rn),Object.keys(Vr).forEach(function(Hr){var Xr=Vr[Hr];if(!Xr.hasErrors)return;var an=[""],gn=[""];function sn(Jr,gr){an.push(Jr),gn.push(gr||"")}sn("file number "+Hr+": "+Xr.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Xr.lines.forEach(function(Jr){if(Jr.errors.length>0){sn(G(Jr.number,4)+"|  ","background-color:yellow; font-weight:bold"),sn(Jr.line+O,"color:red; background-color:yellow; font-weight:bold");var gr=0;Jr.errors.forEach(function(hr){var Yr=hr.message,On=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Yr);if(On){var Tr=On[1];switch(Yr=On[2],Tr){case"assign":Tr="=";break}gr=Math.max(Jr.line.indexOf(Tr,gr),0)}else gr=0;sn(G("| ",6)),sn(G("^^^",gr+3)+O,"font-weight:bold"),sn(G("| ",6)),sn(Yr+O,"font-weight:bold")}),sn(G("| ",6)+O)}else sn(G(Jr.number,4)+"|  "),sn(Jr.line+O,"color:red")}),typeof document!="undefined"&&!window.chrome?(gn[0]=an.join("%c"),console.log.apply(console,gn)):console.log(an.join(""))}),A.raise("Error compiling "+vr+" shader, "+Vr[0].name)}}function st(qt,ae,De,fr,Cr){if(!qt.getProgramParameter(ae,qt.LINK_STATUS)){var mr=qt.getProgramInfoLog(ae),vr=V(De,Cr),Vr=V(fr,Cr),rn='Error linking program with vertex shader, "'+Vr[0].name+'", and fragment shader "'+vr[0].name+'"';typeof document!="undefined"?console.log("%c"+rn+O+"%c"+mr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(rn+O+mr),A.raise(rn)}}function tt(qt){qt._commandRef=T()}function Q(qt,ae,De,fr){tt(qt);function Cr(rn){return rn?fr.id(rn):0}qt._fragId=Cr(qt.static.frag),qt._vertId=Cr(qt.static.vert);function mr(rn,Hr){Object.keys(Hr).forEach(function(Xr){rn[fr.id(Xr)]=!0})}var vr=qt._uniformSet={};mr(vr,ae.static),mr(vr,ae.dynamic);var Vr=qt._attributeSet={};mr(Vr,De.static),mr(Vr,De.dynamic),qt._hasCount="count"in qt.static||"count"in qt.dynamic||"elements"in qt.static||"elements"in qt.dynamic}function Z(qt,ae){var De=B();C(qt+" in command "+(ae||T())+(De==="unknown"?"":" called from "+De))}function et(qt,ae,De){qt||Z(ae,De||T())}function ct(qt,ae,De,fr){qt in ae||Z("unknown parameter ("+qt+")"+S(De)+". possible values: "+Object.keys(ae).join(),fr||T())}function mt(qt,ae,De,fr){g(qt,ae)||Z("invalid parameter type"+S(De)+". expected "+ae+", got "+typeof qt,fr||T())}function Ot(qt){qt()}function it(qt,ae,De){qt.texture?p(qt.texture._texture.internalformat,ae,"unsupported texture format for attachment"):p(qt.renderbuffer._renderbuffer.format,De,"unsupported renderbuffer format for attachment")}var xt=33071,It=9728,zt=9984,Kt=9985,Yt=9986,bt=9987,ft=5120,dt=5121,ot=5122,Mt=5123,Nt=5124,Pt=5125,J=5126,X=32819,vt=32820,lt=33635,Ct=34042,Ft=36193,Wt={};Wt[ft]=Wt[dt]=1,Wt[ot]=Wt[Mt]=Wt[Ft]=Wt[lt]=Wt[X]=Wt[vt]=2,Wt[Nt]=Wt[Pt]=Wt[J]=Wt[Ct]=4;function kt(qt,ae){return qt===vt||qt===X||qt===lt?2:qt===Ct?4:Wt[qt]*ae}function jt(qt){return!(qt&qt-1)&&!!qt}function Y(qt,ae,De){var fr,Cr=ae.width,mr=ae.height,vr=ae.channels;A(Cr>0&&Cr<=De.maxTextureSize&&mr>0&&mr<=De.maxTextureSize,"invalid texture shape"),(qt.wrapS!==xt||qt.wrapT!==xt)&&A(jt(Cr)&&jt(mr),"incompatible wrap mode for texture, both width and height must be power of 2"),ae.mipmask===1?Cr!==1&&mr!==1&&A(qt.minFilter!==zt&&qt.minFilter!==Yt&&qt.minFilter!==Kt&&qt.minFilter!==bt,"min filter requires mipmap"):(A(jt(Cr)&&jt(mr),"texture must be a square power of 2 to support mipmapping"),A(ae.mipmask===(Cr<<1)-1,"missing or incomplete mipmap data")),ae.type===J&&(De.extensions.indexOf("oes_texture_float_linear")<0&&A(qt.minFilter===It&&qt.magFilter===It,"filter not supported, must enable oes_texture_float_linear"),A(!qt.genMipmaps,"mipmap generation not supported with float textures"));var Vr=ae.images;for(fr=0;fr<16;++fr)if(Vr[fr]){var rn=Cr>>fr,Hr=mr>>fr;A(ae.mipmask&1<<fr,"missing mipmap data");var Xr=Vr[fr];if(A(Xr.width===rn&&Xr.height===Hr,"invalid shape for mip images"),A(Xr.format===ae.format&&Xr.internalformat===ae.internalformat&&Xr.type===ae.type,"incompatible type for mip image"),!Xr.compressed)if(Xr.data){var an=Math.ceil(kt(Xr.type,vr)*rn/Xr.unpackAlignment)*Xr.unpackAlignment;A(Xr.data.byteLength===an*Hr,"invalid data for image, buffer size is inconsistent with image format")}else Xr.element||Xr.copy}else qt.genMipmaps||A((ae.mipmask&1<<fr)==0,"extra mipmap data");ae.compressed&&A(!qt.genMipmaps,"mipmap generation for compressed images not supported")}function U(qt,ae,De,fr){var Cr=qt.width,mr=qt.height,vr=qt.channels;A(Cr>0&&Cr<=fr.maxTextureSize&&mr>0&&mr<=fr.maxTextureSize,"invalid texture shape"),A(Cr===mr,"cube map must be square"),A(ae.wrapS===xt&&ae.wrapT===xt,"wrap mode not supported by cube map");for(var Vr=0;Vr<De.length;++Vr){var rn=De[Vr];A(rn.width===Cr&&rn.height===mr,"inconsistent cube map face shape"),ae.genMipmaps&&(A(!rn.compressed,"can not generate mipmap for compressed textures"),A(rn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Hr=rn.images,Xr=0;Xr<16;++Xr){var an=Hr[Xr];if(an){var gn=Cr>>Xr,sn=mr>>Xr;A(rn.mipmask&1<<Xr,"missing mipmap data"),A(an.width===gn&&an.height===sn,"invalid shape for mip images"),A(an.format===qt.format&&an.internalformat===qt.internalformat&&an.type===qt.type,"incompatible type for mip image"),an.compressed||(an.data?A(an.data.byteLength===gn*sn*Math.max(kt(an.type,vr),an.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):an.element||an.copy)}}}}var j=i(A,{optional:Ot,raise:C,commandRaise:Z,command:et,parameter:M,commandParameter:ct,constructor:I,type:E,commandType:mt,isTypedArray:b,nni:D,oneOf:p,shaderError:at,linkError:st,callSite:B,saveCommandRef:tt,saveDrawInfo:Q,framebufferFormat:it,guessCommand:T,texture2D:Y,textureCube:U}),q=0,gt=0,_=5,yt=6;function wt(qt,ae){this.id=q++,this.type=qt,this.data=ae}function St(qt){return qt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Dt(qt){if(qt.length===0)return[];var ae=qt.charAt(0),De=qt.charAt(qt.length-1);if(qt.length>1&&ae===De&&(ae==='"'||ae==="'"))return['"'+St(qt.substr(1,qt.length-2))+'"'];var fr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(qt);if(fr)return Dt(qt.substr(0,fr.index)).concat(Dt(fr[1])).concat(Dt(qt.substr(fr.index+fr[0].length)));var Cr=qt.split(".");if(Cr.length===1)return['"'+St(qt)+'"'];for(var mr=[],vr=0;vr<Cr.length;++vr)mr=mr.concat(Dt(Cr[vr]));return mr}function Vt(qt){return"["+Dt(qt).join("][")+"]"}function Qt(qt,ae){return new wt(qt,Vt(ae+""))}function ee(qt){return typeof qt=="function"&&!qt._reglType||qt instanceof wt}function se(qt,ae){if(typeof qt=="function")return new wt(gt,qt);if(typeof qt=="number"||typeof qt=="boolean")return new wt(_,qt);if(Array.isArray(qt))return new wt(yt,qt.map(function(De,fr){return se(De,ae+"["+fr+"]")}));if(qt instanceof wt)return qt;j(!1,"invalid option type in uniform "+ae)}var ye={DynamicVariable:wt,define:Qt,isDynamic:ee,unbox:se,accessor:Vt},Ie={next:typeof requestAnimationFrame=="function"?function(qt){return requestAnimationFrame(qt)}:function(qt){return setTimeout(qt,16)},cancel:typeof cancelAnimationFrame=="function"?function(qt){return cancelAnimationFrame(qt)}:clearTimeout},Be=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ze(){var qt={"":0},ae=[""];return{id:function(fr){var Cr=qt[fr];return Cr||(Cr=qt[fr]=ae.length,ae.push(fr),Cr)},str:function(fr){return ae[fr]}}}function we(qt,ae,De){var fr=document.createElement("canvas");i(fr.style,{border:0,margin:0,padding:0,top:0,left:0}),qt.appendChild(fr),qt===document.body&&(fr.style.position="absolute",i(qt.style,{margin:0,padding:0}));function Cr(){var Vr=window.innerWidth,rn=window.innerHeight;if(qt!==document.body){var Hr=qt.getBoundingClientRect();Vr=Hr.right-Hr.left,rn=Hr.bottom-Hr.top}fr.width=De*Vr,fr.height=De*rn,i(fr.style,{width:Vr+"px",height:rn+"px"})}var mr;qt!==document.body&&typeof ResizeObserver=="function"?(mr=new ResizeObserver(function(){setTimeout(Cr)}),mr.observe(qt)):window.addEventListener("resize",Cr,!1);function vr(){mr?mr.disconnect():window.removeEventListener("resize",Cr),qt.removeChild(fr)}return Cr(),{canvas:fr,onDestroy:vr}}function We(qt,ae){function De(fr){try{return qt.getContext(fr,ae)}catch(Cr){return null}}return De("webgl")||De("experimental-webgl")||De("webgl-experimental")}function Ke(qt){return typeof qt.nodeName=="string"&&typeof qt.appendChild=="function"&&typeof qt.getBoundingClientRect=="function"}function cr(qt){return typeof qt.drawArrays=="function"||typeof qt.drawElements=="function"}function or(qt){return typeof qt=="string"?qt.split():(j(Array.isArray(qt),"invalid extension array"),qt)}function Ce(qt){return typeof qt=="string"?(j(typeof document!="undefined","not supported outside of DOM"),document.querySelector(qt)):qt}function sr(qt){var ae=qt||{},De,fr,Cr,mr,vr={},Vr=[],rn=[],Hr=typeof window=="undefined"?1:window.devicePixelRatio,Xr=!1,an=function(gr){gr&&j.raise(gr)},gn=function(){};if(typeof ae=="string"?(j(typeof document!="undefined","selector queries only supported in DOM enviroments"),De=document.querySelector(ae),j(De,"invalid query string for element")):typeof ae=="object"?Ke(ae)?De=ae:cr(ae)?(mr=ae,Cr=mr.canvas):(j.constructor(ae),"gl"in ae?mr=ae.gl:"canvas"in ae?Cr=Ce(ae.canvas):"container"in ae&&(fr=Ce(ae.container)),"attributes"in ae&&(vr=ae.attributes,j.type(vr,"object","invalid context attributes")),"extensions"in ae&&(Vr=or(ae.extensions)),"optionalExtensions"in ae&&(rn=or(ae.optionalExtensions)),"onDone"in ae&&(j.type(ae.onDone,"function","invalid or missing onDone callback"),an=ae.onDone),"profile"in ae&&(Xr=!!ae.profile),"pixelRatio"in ae&&(Hr=+ae.pixelRatio,j(Hr>0,"invalid pixel ratio"))):j.raise("invalid arguments to regl"),De&&(De.nodeName.toLowerCase()==="canvas"?Cr=De:fr=De),!mr){if(!Cr){j(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var sn=we(fr||document.body,an,Hr);if(!sn)return null;Cr=sn.canvas,gn=sn.onDestroy}vr.premultipliedAlpha===void 0&&(vr.premultipliedAlpha=!0),mr=We(Cr,vr)}return mr?{gl:mr,canvas:Cr,container:fr,extensions:Vr,optionalExtensions:rn,pixelRatio:Hr,profile:Xr,onDone:an,onDestroy:gn}:(gn(),an("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ke(qt,ae){var De={};function fr(vr){j.type(vr,"string","extension name must be string");var Vr=vr.toLowerCase(),rn;try{rn=De[Vr]=qt.getExtension(Vr)}catch(Hr){}return!!rn}for(var Cr=0;Cr<ae.extensions.length;++Cr){var mr=ae.extensions[Cr];if(!fr(mr))return ae.onDestroy(),ae.onDone('"'+mr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ae.optionalExtensions.forEach(fr),{extensions:De,restore:function(){Object.keys(De).forEach(function(Vr){if(De[Vr]&&!fr(Vr))throw new Error("(regl): error restoring extension "+Vr)})}}}function Xe(qt,ae){for(var De=Array(qt),fr=0;fr<qt;++fr)De[fr]=ae(fr);return De}var dr=5120,Sr=5121,Fr=5122,hn=5123,yn=5124,Dn=5125,Nn=5126;function Ia(qt){for(var ae=16;ae<=1<<28;ae*=16)if(qt<=ae)return ae;return 0}function ba(qt){var ae,De;return ae=(qt>65535)<<4,qt>>>=ae,De=(qt>255)<<3,qt>>>=De,ae|=De,De=(qt>15)<<2,qt>>>=De,ae|=De,De=(qt>3)<<1,qt>>>=De,ae|=De,ae|qt>>1}function Oa(){var qt=Xe(8,function(){return[]});function ae(mr){var vr=Ia(mr),Vr=qt[ba(vr)>>2];return Vr.length>0?Vr.pop():new ArrayBuffer(vr)}function De(mr){qt[ba(mr.byteLength)>>2].push(mr)}function fr(mr,vr){var Vr=null;switch(mr){case dr:Vr=new Int8Array(ae(vr),0,vr);break;case Sr:Vr=new Uint8Array(ae(vr),0,vr);break;case Fr:Vr=new Int16Array(ae(2*vr),0,vr);break;case hn:Vr=new Uint16Array(ae(2*vr),0,vr);break;case yn:Vr=new Int32Array(ae(4*vr),0,vr);break;case Dn:Vr=new Uint32Array(ae(4*vr),0,vr);break;case Nn:Vr=new Float32Array(ae(4*vr),0,vr);break;default:return null}return Vr.length!==vr?Vr.subarray(0,vr):Vr}function Cr(mr){De(mr.buffer)}return{alloc:ae,free:De,allocType:fr,freeType:Cr}}var Wn=Oa();Wn.zero=Oa();var ai=3408,Va=3410,ci=3411,Ti=3412,Ui=3413,Bi=3414,ia=3415,ja=33901,Zn=33902,wa=3379,La=3386,Hn=34921,Sa=36347,Ba=36348,Pa=35661,$n=35660,Ya=34930,Da=36349,ii=34076,Qn=34024,Oi=7936,Ka=7937,Na=7938,$a=35724,ni=34047,Cn=36063,Ni=34852,hi=3553,fe=34067,oe=34069,he=33984,Ne=6408,He=5126,ar=5121,Er=36160,Br=36053,Ln=36064,Bn=16384,Sn=function(ae,De){var fr=1;De.ext_texture_filter_anisotropic&&(fr=ae.getParameter(ni));var Cr=1,mr=1;De.webgl_draw_buffers&&(Cr=ae.getParameter(Ni),mr=ae.getParameter(Cn));var vr=!!De.oes_texture_float;if(vr){var Vr=ae.createTexture();ae.bindTexture(hi,Vr),ae.texImage2D(hi,0,Ne,1,1,0,Ne,He,null);var rn=ae.createFramebuffer();if(ae.bindFramebuffer(Er,rn),ae.framebufferTexture2D(Er,Ln,hi,Vr,0),ae.bindTexture(hi,null),ae.checkFramebufferStatus(Er)!==Br)vr=!1;else{ae.viewport(0,0,1,1),ae.clearColor(1,0,0,1),ae.clear(Bn);var Hr=Wn.allocType(He,4);ae.readPixels(0,0,1,1,Ne,He,Hr),ae.getError()?vr=!1:(ae.deleteFramebuffer(rn),ae.deleteTexture(Vr),vr=Hr[0]===1),Wn.freeType(Hr)}}var Xr=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),an=!0;if(!Xr){var gn=ae.createTexture(),sn=Wn.allocType(ar,36);ae.activeTexture(he),ae.bindTexture(fe,gn),ae.texImage2D(oe,0,Ne,3,3,0,Ne,ar,sn),Wn.freeType(sn),ae.bindTexture(fe,null),ae.deleteTexture(gn),an=!ae.getError()}return{colorBits:[ae.getParameter(Va),ae.getParameter(ci),ae.getParameter(Ti),ae.getParameter(Ui)],depthBits:ae.getParameter(Bi),stencilBits:ae.getParameter(ia),subpixelBits:ae.getParameter(ai),extensions:Object.keys(De).filter(function(Jr){return!!De[Jr]}),maxAnisotropic:fr,maxDrawbuffers:Cr,maxColorAttachments:mr,pointSizeDims:ae.getParameter(ja),lineWidthDims:ae.getParameter(Zn),maxViewportDims:ae.getParameter(La),maxCombinedTextureUnits:ae.getParameter(Pa),maxCubeMapSize:ae.getParameter(ii),maxRenderbufferSize:ae.getParameter(Qn),maxTextureUnits:ae.getParameter(Ya),maxTextureSize:ae.getParameter(wa),maxAttributes:ae.getParameter(Hn),maxVertexUniforms:ae.getParameter(Sa),maxVertexTextureUnits:ae.getParameter($n),maxVaryingVectors:ae.getParameter(Ba),maxFragmentUniforms:ae.getParameter(Da),glsl:ae.getParameter($a),renderer:ae.getParameter(Ka),vendor:ae.getParameter(Oi),version:ae.getParameter(Na),readFloat:vr,npotTextureCube:an}};function Wa(qt){return!!qt&&typeof qt=="object"&&Array.isArray(qt.shape)&&Array.isArray(qt.stride)&&typeof qt.offset=="number"&&qt.shape.length===qt.stride.length&&(Array.isArray(qt.data)||h(qt.data))}var la=function(ae){return Object.keys(ae).map(function(De){return ae[De]})},yi={shape:ge,flatten:Wi};function mi(qt,ae,De){for(var fr=0;fr<ae;++fr)De[fr]=qt[fr]}function ji(qt,ae,De,fr){for(var Cr=0,mr=0;mr<ae;++mr)for(var vr=qt[mr],Vr=0;Vr<De;++Vr)fr[Cr++]=vr[Vr]}function Xi(qt,ae,De,fr,Cr,mr){for(var vr=mr,Vr=0;Vr<ae;++Vr)for(var rn=qt[Vr],Hr=0;Hr<De;++Hr)for(var Xr=rn[Hr],an=0;an<fr;++an)Cr[vr++]=Xr[an]}function uo(qt,ae,De,fr,Cr){for(var mr=1,vr=De+1;vr<ae.length;++vr)mr*=ae[vr];var Vr=ae[De];if(ae.length-De==4){var rn=ae[De+1],Hr=ae[De+2],Xr=ae[De+3];for(vr=0;vr<Vr;++vr)Xi(qt[vr],rn,Hr,Xr,fr,Cr),Cr+=mr}else for(vr=0;vr<Vr;++vr)uo(qt[vr],ae,De+1,fr,Cr),Cr+=mr}function Wi(qt,ae,De,fr){var Cr=1;if(ae.length)for(var mr=0;mr<ae.length;++mr)Cr*=ae[mr];else Cr=0;var vr=fr||Wn.allocType(De,Cr);switch(ae.length){case 0:break;case 1:mi(qt,ae[0],vr);break;case 2:ji(qt,ae[0],ae[1],vr);break;case 3:Xi(qt,ae[0],ae[1],ae[2],vr,0);break;default:uo(qt,ae,0,vr,0)}return vr}function ge(qt){for(var ae=[],De=qt;De.length;De=De[0])ae.push(De.length);return ae}var Ki={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},qn=5120,Xa=5122,Ro=5124,wo=5121,Hi=5123,_o=5125,qo=5126,ts=5126,Eo={int8:qn,int16:Xa,int32:Ro,uint8:wo,uint16:Hi,uint32:_o,float:qo,float32:ts},Go=35048,Uo=35040,Mo={dynamic:Go,stream:Uo,static:35044},Wo=yi.flatten,go=yi.shape,Ws=35044,zo=35040,xs=5121,Bo=5126,es=[];es[5120]=1,es[5122]=2,es[5124]=4,es[5121]=1,es[5123]=2,es[5125]=4,es[5126]=4;function zs(qt){return Ki[Object.prototype.toString.call(qt)]|0}function Pl(qt,ae){for(var De=0;De<ae.length;++De)qt[De]=ae[De]}function el(qt,ae,De,fr,Cr,mr,vr){for(var Vr=0,rn=0;rn<De;++rn)for(var Hr=0;Hr<fr;++Hr)qt[Vr++]=ae[Cr*rn+mr*Hr+vr]}function ys(qt,ae,De,fr){var Cr=0,mr={};function vr(gr){this.id=Cr++,this.buffer=qt.createBuffer(),this.type=gr,this.usage=Ws,this.byteLength=0,this.dimension=1,this.dtype=xs,this.persistentData=null,De.profile&&(this.stats={size:0})}vr.prototype.bind=function(){qt.bindBuffer(this.type,this.buffer)},vr.prototype.destroy=function(){gn(this)};var Vr=[];function rn(gr,hr){var Yr=Vr.pop();return Yr||(Yr=new vr(gr)),Yr.bind(),an(Yr,hr,zo,0,1,!1),Yr}function Hr(gr){Vr.push(gr)}function Xr(gr,hr,Yr){gr.byteLength=hr.byteLength,qt.bufferData(gr.type,hr,Yr)}function an(gr,hr,Yr,On,Tr,Gn){var $r;if(gr.usage=Yr,Array.isArray(hr)){if(gr.dtype=On||Bo,hr.length>0){var Nr;if(Array.isArray(hr[0])){$r=go(hr);for(var Gr=1,qr=1;qr<$r.length;++qr)Gr*=$r[qr];gr.dimension=Gr,Nr=Wo(hr,$r,gr.dtype),Xr(gr,Nr,Yr),Gn?gr.persistentData=Nr:Wn.freeType(Nr)}else if(typeof hr[0]=="number"){gr.dimension=Tr;var Un=Wn.allocType(gr.dtype,hr.length);Pl(Un,hr),Xr(gr,Un,Yr),Gn?gr.persistentData=Un:Wn.freeType(Un)}else h(hr[0])?(gr.dimension=hr[0].length,gr.dtype=On||zs(hr[0])||Bo,Nr=Wo(hr,[hr.length,hr[0].length],gr.dtype),Xr(gr,Nr,Yr),Gn?gr.persistentData=Nr:Wn.freeType(Nr)):j.raise("invalid buffer data")}}else if(h(hr))gr.dtype=On||zs(hr),gr.dimension=Tr,Xr(gr,hr,Yr),Gn&&(gr.persistentData=new Uint8Array(new Uint8Array(hr.buffer)));else if(Wa(hr)){$r=hr.shape;var aa=hr.stride,fn=hr.offset,tn=0,wr=0,ea=0,Ca=0;$r.length===1?(tn=$r[0],wr=1,ea=aa[0],Ca=0):$r.length===2?(tn=$r[0],wr=$r[1],ea=aa[0],Ca=aa[1]):j.raise("invalid shape"),gr.dtype=On||zs(hr.data)||Bo,gr.dimension=wr;var Pn=Wn.allocType(gr.dtype,tn*wr);el(Pn,hr.data,tn,wr,ea,Ca,fn),Xr(gr,Pn,Yr),Gn?gr.persistentData=Pn:Wn.freeType(Pn)}else hr instanceof ArrayBuffer?(gr.dtype=xs,gr.dimension=Tr,Xr(gr,hr,Yr),Gn&&(gr.persistentData=new Uint8Array(new Uint8Array(hr)))):j.raise("invalid buffer data")}function gn(gr){ae.bufferCount--,fr(gr);var hr=gr.buffer;j(hr,"buffer must not be deleted already"),qt.deleteBuffer(hr),gr.buffer=null,delete mr[gr.id]}function sn(gr,hr,Yr,On){ae.bufferCount++;var Tr=new vr(hr);mr[Tr.id]=Tr;function Gn(Gr){var qr=Ws,Un=null,aa=0,fn=0,tn=1;return Array.isArray(Gr)||h(Gr)||Wa(Gr)||Gr instanceof ArrayBuffer?Un=Gr:typeof Gr=="number"?aa=Gr|0:Gr&&(j.type(Gr,"object","buffer arguments must be an object, a number or an array"),"data"in Gr&&(j(Un===null||Array.isArray(Un)||h(Un)||Wa(Un),"invalid data for buffer"),Un=Gr.data),"usage"in Gr&&(j.parameter(Gr.usage,Mo,"invalid buffer usage"),qr=Mo[Gr.usage]),"type"in Gr&&(j.parameter(Gr.type,Eo,"invalid buffer type"),fn=Eo[Gr.type]),"dimension"in Gr&&(j.type(Gr.dimension,"number","invalid dimension"),tn=Gr.dimension|0),"length"in Gr&&(j.nni(aa,"buffer length must be a nonnegative integer"),aa=Gr.length|0)),Tr.bind(),Un?an(Tr,Un,qr,fn,tn,On):(aa&&qt.bufferData(Tr.type,aa,qr),Tr.dtype=fn||xs,Tr.usage=qr,Tr.dimension=tn,Tr.byteLength=aa),De.profile&&(Tr.stats.size=Tr.byteLength*es[Tr.dtype]),Gn}function $r(Gr,qr){j(qr+Gr.byteLength<=Tr.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Gr.byteLength+" starting from offset "+qr+" to a buffer of size "+Tr.byteLength),qt.bufferSubData(Tr.type,qr,Gr)}function Nr(Gr,qr){var Un=(qr||0)|0,aa;if(Tr.bind(),h(Gr)||Gr instanceof ArrayBuffer)$r(Gr,Un);else if(Array.isArray(Gr)){if(Gr.length>0)if(typeof Gr[0]=="number"){var fn=Wn.allocType(Tr.dtype,Gr.length);Pl(fn,Gr),$r(fn,Un),Wn.freeType(fn)}else if(Array.isArray(Gr[0])||h(Gr[0])){aa=go(Gr);var tn=Wo(Gr,aa,Tr.dtype);$r(tn,Un),Wn.freeType(tn)}else j.raise("invalid buffer data")}else if(Wa(Gr)){aa=Gr.shape;var wr=Gr.stride,ea=0,Ca=0,Pn=0,Ma=0;aa.length===1?(ea=aa[0],Ca=1,Pn=wr[0],Ma=0):aa.length===2?(ea=aa[0],Ca=aa[1],Pn=wr[0],Ma=wr[1]):j.raise("invalid shape");var ha=Array.isArray(Gr.data)?Tr.dtype:zs(Gr.data),Ta=Wn.allocType(ha,ea*Ca);el(Ta,Gr.data,ea,Ca,Pn,Ma,Gr.offset),$r(Ta,Un),Wn.freeType(Ta)}else j.raise("invalid data for buffer subdata");return Gn}return Yr||Gn(gr),Gn._reglType="buffer",Gn._buffer=Tr,Gn.subdata=Nr,De.profile&&(Gn.stats=Tr.stats),Gn.destroy=function(){gn(Tr)},Gn}function Jr(){la(mr).forEach(function(gr){gr.buffer=qt.createBuffer(),qt.bindBuffer(gr.type,gr.buffer),qt.bufferData(gr.type,gr.persistentData||gr.byteLength,gr.usage)})}return De.profile&&(ae.getTotalBufferSize=function(){var gr=0;return Object.keys(mr).forEach(function(hr){gr+=mr[hr].stats.size}),gr}),{create:sn,createStream:rn,destroyStream:Hr,clear:function(){la(mr).forEach(gn),Vr.forEach(gn)},getBuffer:function(hr){return hr&&hr._buffer instanceof vr?hr._buffer:null},restore:Jr,_initBuffer:an}}var rl=0,H=0,At=1,Jt=1,ne=4,de=4,xe={points:rl,point:H,lines:At,line:Jt,triangles:ne,triangle:de,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Le=0,ze=1,$e=4,nr=5120,rr=5121,Ir=5122,Pr=5123,Or=5124,Zr=5125,ln=34963,Dr=35040,In=35044;function xa(qt,ae,De,fr){var Cr={},mr=0,vr={uint8:rr,uint16:Pr};ae.oes_element_index_uint&&(vr.uint32=Zr);function Vr(Jr){this.id=mr++,Cr[this.id]=this,this.buffer=Jr,this.primType=$e,this.vertCount=0,this.type=0}Vr.prototype.bind=function(){this.buffer.bind()};var rn=[];function Hr(Jr){var gr=rn.pop();return gr||(gr=new Vr(De.create(null,ln,!0,!1)._buffer)),an(gr,Jr,Dr,-1,-1,0,0),gr}function Xr(Jr){rn.push(Jr)}function an(Jr,gr,hr,Yr,On,Tr,Gn){Jr.buffer.bind();var $r;if(gr){var Nr=Gn;!Gn&&(!h(gr)||Wa(gr)&&!h(gr.data))&&(Nr=ae.oes_element_index_uint?Zr:Pr),De._initBuffer(Jr.buffer,gr,hr,Nr,3)}else qt.bufferData(ln,Tr,hr),Jr.buffer.dtype=$r||rr,Jr.buffer.usage=hr,Jr.buffer.dimension=3,Jr.buffer.byteLength=Tr;if($r=Gn,!Gn){switch(Jr.buffer.dtype){case rr:case nr:$r=rr;break;case Pr:case Ir:$r=Pr;break;case Zr:case Or:$r=Zr;break;default:j.raise("unsupported type for element array")}Jr.buffer.dtype=$r}Jr.type=$r,j($r!==Zr||!!ae.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Gr=On;Gr<0&&(Gr=Jr.buffer.byteLength,$r===Pr?Gr>>=1:$r===Zr&&(Gr>>=2)),Jr.vertCount=Gr;var qr=Yr;if(Yr<0){qr=$e;var Un=Jr.buffer.dimension;Un===1&&(qr=Le),Un===2&&(qr=ze),Un===3&&(qr=$e)}Jr.primType=qr}function gn(Jr){fr.elementsCount--,j(Jr.buffer!==null,"must not double destroy elements"),delete Cr[Jr.id],Jr.buffer.destroy(),Jr.buffer=null}function sn(Jr,gr){var hr=De.create(null,ln,!0),Yr=new Vr(hr._buffer);fr.elementsCount++;function On(Tr){if(!Tr)hr(),Yr.primType=$e,Yr.vertCount=0,Yr.type=rr;else if(typeof Tr=="number")hr(Tr),Yr.primType=$e,Yr.vertCount=Tr|0,Yr.type=rr;else{var Gn=null,$r=In,Nr=-1,Gr=-1,qr=0,Un=0;Array.isArray(Tr)||h(Tr)||Wa(Tr)?Gn=Tr:(j.type(Tr,"object","invalid arguments for elements"),"data"in Tr&&(Gn=Tr.data,j(Array.isArray(Gn)||h(Gn)||Wa(Gn),"invalid data for element buffer")),"usage"in Tr&&(j.parameter(Tr.usage,Mo,"invalid element buffer usage"),$r=Mo[Tr.usage]),"primitive"in Tr&&(j.parameter(Tr.primitive,xe,"invalid element buffer primitive"),Nr=xe[Tr.primitive]),"count"in Tr&&(j(typeof Tr.count=="number"&&Tr.count>=0,"invalid vertex count for elements"),Gr=Tr.count|0),"type"in Tr&&(j.parameter(Tr.type,vr,"invalid buffer type"),Un=vr[Tr.type]),"length"in Tr?qr=Tr.length|0:(qr=Gr,Un===Pr||Un===Ir?qr*=2:(Un===Zr||Un===Or)&&(qr*=4))),an(Yr,Gn,$r,Nr,Gr,qr,Un)}return On}return On(Jr),On._reglType="elements",On._elements=Yr,On.subdata=function(Tr,Gn){return hr.subdata(Tr,Gn),On},On.destroy=function(){gn(Yr)},On}return{create:sn,createStream:Hr,destroyStream:Xr,getElements:function(gr){return typeof gr=="function"&&gr._elements instanceof Vr?gr._elements:null},clear:function(){la(Cr).forEach(gn)}}}var Yn=new Float32Array(1),Jn=new Uint32Array(Yn.buffer),fa=5123;function ua(qt){for(var ae=Wn.allocType(fa,qt.length),De=0;De<qt.length;++De)if(isNaN(qt[De]))ae[De]=65535;else if(qt[De]===Infinity)ae[De]=31744;else if(qt[De]===-Infinity)ae[De]=64512;else{Yn[0]=qt[De];var fr=Jn[0],Cr=fr>>>31<<15,mr=(fr<<1>>>24)-127,vr=fr>>13&(1<<10)-1;if(mr<-24)ae[De]=Cr;else if(mr<-14){var Vr=-14-mr;ae[De]=Cr+(vr+(1<<10)>>Vr)}else mr>15?ae[De]=Cr+31744:ae[De]=Cr+(mr+15<<10)+vr}return ae}function Ea(qt){return Array.isArray(qt)||h(qt)}var ei=function(ae){return!(ae&ae-1)&&!!ae},bi=34467,Rn=3553,mn=34067,oi=34069,za=6408,pa=6406,Oe=6407,le=6409,je=6410,Qe=32854,br=32855,Qr=36194,ta=32819,Ja=32820,si=33635,No=34042,Es=6402,So=34041,Ms=35904,au=35906,rs=36193,Xu=33776,iu=33777,ou=33778,ns=33779,Bc=35986,Rf=35987,ra=34798,ks=35840,wf=35841,Hu=35842,su=35843,Nc=36196,Vs=5121,ao=5123,Ss=5125,lu=5126,Bf=10242,Fh=10243,uu=10497,Cs=33071,Gh=33648,Fc=10240,Nf=10241,cu=9728,Gc=9729,fu=9984,Yu=9985,Xs=9986,hu=9987,Co=33170,Dl=4352,Ku=4353,_i=4354,ms=34046,Mi=3317,Ff=37440,Uh=37441,Uc=37443,Ts=37444,Fo=33984,jl=[fu,Xs,Yu,hu],us=[0,le,je,Oe,za],To={};To[le]=To[pa]=To[Es]=1,To[So]=To[je]=2,To[Oe]=To[Ms]=3,To[za]=To[au]=4;function cs(qt){return"[object "+qt+"]"}var Zu=cs("HTMLCanvasElement"),$u=cs("OffscreenCanvas"),Wh=cs("CanvasRenderingContext2D"),Qu=cs("ImageBitmap"),bs=cs("HTMLImageElement"),du=cs("HTMLVideoElement"),Wc=Object.keys(Ki).concat([Zu,$u,Wh,Qu,bs,du]),nl=[];nl[Vs]=1,nl[lu]=4,nl[rs]=2,nl[ao]=2,nl[Ss]=4;var io=[];io[Qe]=2,io[br]=2,io[Qr]=2,io[So]=4,io[Xu]=.5,io[iu]=.5,io[ou]=1,io[ns]=1,io[Bc]=.5,io[Rf]=1,io[ra]=1,io[ks]=.5,io[wf]=.25,io[Hu]=.5,io[su]=.25,io[Nc]=.5;function zc(qt){return Array.isArray(qt)&&(qt.length===0||typeof qt[0]=="number")}function Ll(qt){if(!Array.isArray(qt))return!1;var ae=qt.length;return!(ae===0||!Ea(qt[0]))}function fs(qt){return Object.prototype.toString.call(qt)}function kc(qt){return fs(qt)===Zu}function As(qt){return fs(qt)===$u}function Nd(qt){return fs(qt)===Wh}function Vc(qt){return fs(qt)===Qu}function Ao(qt){return fs(qt)===bs}function zh(qt){return fs(qt)===du}function Xc(qt){if(!qt)return!1;var ae=fs(qt);return Wc.indexOf(ae)>=0?!0:zc(qt)||Ll(qt)||Wa(qt)}function Hs(qt){return Ki[Object.prototype.toString.call(qt)]|0}function Gf(qt,ae){var De=ae.length;switch(qt.type){case Vs:case ao:case Ss:case lu:var fr=Wn.allocType(qt.type,De);fr.set(ae),qt.data=fr;break;case rs:qt.data=ua(ae);break;default:j.raise("unsupported texture type, must specify a typed array")}}function Ju(qt,ae){return Wn.allocType(qt.type===rs?lu:qt.type,ae)}function Rl(qt,ae){qt.type===rs?(qt.data=ua(ae),Wn.freeType(ae)):qt.data=ae}function kh(qt,ae,De,fr,Cr,mr){for(var vr=qt.width,Vr=qt.height,rn=qt.channels,Hr=vr*Vr*rn,Xr=Ju(qt,Hr),an=0,gn=0;gn<Vr;++gn)for(var sn=0;sn<vr;++sn)for(var Jr=0;Jr<rn;++Jr)Xr[an++]=ae[De*sn+fr*gn+Cr*Jr+mr];Rl(qt,Xr)}function wl(qt,ae,De,fr,Cr,mr){var vr;if(typeof io[qt]!="undefined"?vr=io[qt]:vr=To[qt]*nl[ae],mr&&(vr*=6),Cr){for(var Vr=0,rn=De;rn>=1;)Vr+=vr*rn*rn,rn/=2;return Vr}else return vr*De*fr}function _u(qt,ae,De,fr,Cr,mr,vr){var Vr={"don't care":Dl,"dont care":Dl,nice:_i,fast:Ku},rn={repeat:uu,clamp:Cs,mirror:Gh},Hr={nearest:cu,linear:Gc},Xr=i({mipmap:hu,"nearest mipmap nearest":fu,"linear mipmap nearest":Yu,"nearest mipmap linear":Xs,"linear mipmap linear":hu},Hr),an={none:0,browser:Ts},gn={uint8:Vs,rgba4:ta,rgb565:si,"rgb5 a1":Ja},sn={alpha:pa,luminance:le,"luminance alpha":je,rgb:Oe,rgba:za,rgba4:Qe,"rgb5 a1":br,rgb565:Qr},Jr={};ae.ext_srgb&&(sn.srgb=Ms,sn.srgba=au),ae.oes_texture_float&&(gn.float32=gn.float=lu),ae.oes_texture_half_float&&(gn.float16=gn["half float"]=rs),ae.webgl_depth_texture&&(i(sn,{depth:Es,"depth stencil":So}),i(gn,{uint16:ao,uint32:Ss,"depth stencil":No})),ae.webgl_compressed_texture_s3tc&&i(Jr,{"rgb s3tc dxt1":Xu,"rgba s3tc dxt1":iu,"rgba s3tc dxt3":ou,"rgba s3tc dxt5":ns}),ae.webgl_compressed_texture_atc&&i(Jr,{"rgb atc":Bc,"rgba atc explicit alpha":Rf,"rgba atc interpolated alpha":ra}),ae.webgl_compressed_texture_pvrtc&&i(Jr,{"rgb pvrtc 4bppv1":ks,"rgb pvrtc 2bppv1":wf,"rgba pvrtc 4bppv1":Hu,"rgba pvrtc 2bppv1":su}),ae.webgl_compressed_texture_etc1&&(Jr["rgb etc1"]=Nc);var gr=Array.prototype.slice.call(qt.getParameter(bi));Object.keys(Jr).forEach(function(Te){var pr=Jr[Te];gr.indexOf(pr)>=0&&(sn[Te]=pr)});var hr=Object.keys(sn);De.textureFormats=hr;var Yr=[];Object.keys(sn).forEach(function(Te){var pr=sn[Te];Yr[pr]=Te});var On=[];Object.keys(gn).forEach(function(Te){var pr=gn[Te];On[pr]=Te});var Tr=[];Object.keys(Hr).forEach(function(Te){var pr=Hr[Te];Tr[pr]=Te});var Gn=[];Object.keys(Xr).forEach(function(Te){var pr=Xr[Te];Gn[pr]=Te});var $r=[];Object.keys(rn).forEach(function(Te){var pr=rn[Te];$r[pr]=Te});var Nr=hr.reduce(function(Te,pr){var ur=sn[pr];return ur===le||ur===pa||ur===le||ur===je||ur===Es||ur===So||ae.ext_srgb&&(ur===Ms||ur===au)?Te[ur]=ur:ur===br||pr.indexOf("rgba")>=0?Te[ur]=za:Te[ur]=Oe,Te},{});function Gr(){this.internalformat=za,this.format=za,this.type=Vs,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ts,this.width=0,this.height=0,this.channels=0}function qr(Te,pr){Te.internalformat=pr.internalformat,Te.format=pr.format,Te.type=pr.type,Te.compressed=pr.compressed,Te.premultiplyAlpha=pr.premultiplyAlpha,Te.flipY=pr.flipY,Te.unpackAlignment=pr.unpackAlignment,Te.colorSpace=pr.colorSpace,Te.width=pr.width,Te.height=pr.height,Te.channels=pr.channels}function Un(Te,pr){if(!(typeof pr!="object"||!pr)){if("premultiplyAlpha"in pr&&(j.type(pr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Te.premultiplyAlpha=pr.premultiplyAlpha),"flipY"in pr&&(j.type(pr.flipY,"boolean","invalid texture flip"),Te.flipY=pr.flipY),"alignment"in pr&&(j.oneOf(pr.alignment,[1,2,4,8],"invalid texture unpack alignment"),Te.unpackAlignment=pr.alignment),"colorSpace"in pr&&(j.parameter(pr.colorSpace,an,"invalid colorSpace"),Te.colorSpace=an[pr.colorSpace]),"type"in pr){var ur=pr.type;j(ae.oes_texture_float||!(ur==="float"||ur==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),j(ae.oes_texture_half_float||!(ur==="half float"||ur==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),j(ae.webgl_depth_texture||!(ur==="uint16"||ur==="uint32"||ur==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),j.parameter(ur,gn,"invalid texture type"),Te.type=gn[ur]}var En=Te.width,ca=Te.height,Ee=Te.channels,ue=!1;"shape"in pr?(j(Array.isArray(pr.shape)&&pr.shape.length>=2,"shape must be an array"),En=pr.shape[0],ca=pr.shape[1],pr.shape.length===3&&(Ee=pr.shape[2],j(Ee>0&&Ee<=4,"invalid number of channels"),ue=!0),j(En>=0&&En<=De.maxTextureSize,"invalid width"),j(ca>=0&&ca<=De.maxTextureSize,"invalid height")):("radius"in pr&&(En=ca=pr.radius,j(En>=0&&En<=De.maxTextureSize,"invalid radius")),"width"in pr&&(En=pr.width,j(En>=0&&En<=De.maxTextureSize,"invalid width")),"height"in pr&&(ca=pr.height,j(ca>=0&&ca<=De.maxTextureSize,"invalid height")),"channels"in pr&&(Ee=pr.channels,j(Ee>0&&Ee<=4,"invalid number of channels"),ue=!0)),Te.width=En|0,Te.height=ca|0,Te.channels=Ee|0;var Fe=!1;if("format"in pr){var er=pr.format;j(ae.webgl_depth_texture||!(er==="depth"||er==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),j.parameter(er,sn,"invalid texture format");var ir=Te.internalformat=sn[er];Te.format=Nr[ir],er in gn&&("type"in pr||(Te.type=gn[er])),er in Jr&&(Te.compressed=!0),Fe=!0}!ue&&Fe?Te.channels=To[Te.format]:ue&&!Fe?Te.channels!==us[Te.format]&&(Te.format=Te.internalformat=us[Te.channels]):Fe&&ue&&j(Te.channels===To[Te.format],"number of channels inconsistent with specified format")}}function aa(Te){qt.pixelStorei(Ff,Te.flipY),qt.pixelStorei(Uh,Te.premultiplyAlpha),qt.pixelStorei(Uc,Te.colorSpace),qt.pixelStorei(Mi,Te.unpackAlignment)}function fn(){Gr.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function tn(Te,pr){var ur=null;if(Xc(pr)?ur=pr:pr&&(j.type(pr,"object","invalid pixel data type"),Un(Te,pr),"x"in pr&&(Te.xOffset=pr.x|0),"y"in pr&&(Te.yOffset=pr.y|0),Xc(pr.data)&&(ur=pr.data)),j(!Te.compressed||ur instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),pr.copy){j(!ur,"can not specify copy and data field for the same texture");var En=Cr.viewportWidth,ca=Cr.viewportHeight;Te.width=Te.width||En-Te.xOffset,Te.height=Te.height||ca-Te.yOffset,Te.needsCopy=!0,j(Te.xOffset>=0&&Te.xOffset<En&&Te.yOffset>=0&&Te.yOffset<ca&&Te.width>0&&Te.width<=En&&Te.height>0&&Te.height<=ca,"copy texture read out of bounds")}else if(!ur)Te.width=Te.width||1,Te.height=Te.height||1,Te.channels=Te.channels||4;else if(h(ur))Te.channels=Te.channels||4,Te.data=ur,!("type"in pr)&&Te.type===Vs&&(Te.type=Hs(ur));else if(zc(ur))Te.channels=Te.channels||4,Gf(Te,ur),Te.alignment=1,Te.needsFree=!0;else if(Wa(ur)){var Ee=ur.data;!Array.isArray(Ee)&&Te.type===Vs&&(Te.type=Hs(Ee));var ue=ur.shape,Fe=ur.stride,er,ir,Ve,Ge,Je,Me;ue.length===3?(Ve=ue[2],Me=Fe[2]):(j(ue.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Ve=1,Me=1),er=ue[0],ir=ue[1],Ge=Fe[0],Je=Fe[1],Te.alignment=1,Te.width=er,Te.height=ir,Te.channels=Ve,Te.format=Te.internalformat=us[Ve],Te.needsFree=!0,kh(Te,Ee,Ge,Je,Me,ur.offset)}else if(kc(ur)||As(ur)||Nd(ur))kc(ur)||As(ur)?Te.element=ur:Te.element=ur.canvas,Te.width=Te.element.width,Te.height=Te.element.height,Te.channels=4;else if(Vc(ur))Te.element=ur,Te.width=ur.width,Te.height=ur.height,Te.channels=4;else if(Ao(ur))Te.element=ur,Te.width=ur.naturalWidth,Te.height=ur.naturalHeight,Te.channels=4;else if(zh(ur))Te.element=ur,Te.width=ur.videoWidth,Te.height=ur.videoHeight,Te.channels=4;else if(Ll(ur)){var Re=Te.width||ur[0].length,pe=Te.height||ur.length,qe=Te.channels;Ea(ur[0][0])?qe=qe||ur[0][0].length:qe=qe||1;for(var lr=yi.shape(ur),jr=1,Rr=0;Rr<lr.length;++Rr)jr*=lr[Rr];var Mr=Ju(Te,jr);yi.flatten(ur,lr,"",Mr),Rl(Te,Mr),Te.alignment=1,Te.width=Re,Te.height=pe,Te.channels=qe,Te.format=Te.internalformat=us[qe],Te.needsFree=!0}Te.type===lu?j(De.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Te.type===rs&&j(De.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function wr(Te,pr,ur){var En=Te.element,ca=Te.data,Ee=Te.internalformat,ue=Te.format,Fe=Te.type,er=Te.width,ir=Te.height;aa(Te),En?qt.texImage2D(pr,ur,ue,ue,Fe,En):Te.compressed?qt.compressedTexImage2D(pr,ur,Ee,er,ir,0,ca):Te.needsCopy?(fr(),qt.copyTexImage2D(pr,ur,ue,Te.xOffset,Te.yOffset,er,ir,0)):qt.texImage2D(pr,ur,ue,er,ir,0,ue,Fe,ca||null)}function ea(Te,pr,ur,En,ca){var Ee=Te.element,ue=Te.data,Fe=Te.internalformat,er=Te.format,ir=Te.type,Ve=Te.width,Ge=Te.height;aa(Te),Ee?qt.texSubImage2D(pr,ca,ur,En,er,ir,Ee):Te.compressed?qt.compressedTexSubImage2D(pr,ca,ur,En,Fe,Ve,Ge,ue):Te.needsCopy?(fr(),qt.copyTexSubImage2D(pr,ca,ur,En,Te.xOffset,Te.yOffset,Ve,Ge)):qt.texSubImage2D(pr,ca,ur,En,Ve,Ge,er,ir,ue)}var Ca=[];function Pn(){return Ca.pop()||new fn}function Ma(Te){Te.needsFree&&Wn.freeType(Te.data),fn.call(Te),Ca.push(Te)}function ha(){Gr.call(this),this.genMipmaps=!1,this.mipmapHint=Dl,this.mipmask=0,this.images=Array(16)}function Ta(Te,pr,ur){var En=Te.images[0]=Pn();Te.mipmask=1,En.width=Te.width=pr,En.height=Te.height=ur,En.channels=Te.channels=4}function Za(Te,pr){var ur=null;if(Xc(pr))ur=Te.images[0]=Pn(),qr(ur,Te),tn(ur,pr),Te.mipmask=1;else if(Un(Te,pr),Array.isArray(pr.mipmap))for(var En=pr.mipmap,ca=0;ca<En.length;++ca)ur=Te.images[ca]=Pn(),qr(ur,Te),ur.width>>=ca,ur.height>>=ca,tn(ur,En[ca]),Te.mipmask|=1<<ca;else ur=Te.images[0]=Pn(),qr(ur,Te),tn(ur,pr),Te.mipmask=1;qr(Te,Te.images[0]),Te.compressed&&(Te.internalformat===Xu||Te.internalformat===iu||Te.internalformat===ou||Te.internalformat===ns)&&j(Te.width%4==0&&Te.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Li(Te,pr){for(var ur=Te.images,En=0;En<ur.length;++En){if(!ur[En])return;wr(ur[En],pr,En)}}var ro=[];function Ra(){var Te=ro.pop()||new ha;Gr.call(Te),Te.mipmask=0;for(var pr=0;pr<16;++pr)Te.images[pr]=null;return Te}function Zi(Te){for(var pr=Te.images,ur=0;ur<pr.length;++ur)pr[ur]&&Ma(pr[ur]),pr[ur]=null;ro.push(Te)}function xi(){this.minFilter=cu,this.magFilter=cu,this.wrapS=Cs,this.wrapT=Cs,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Dl}function Ai(Te,pr){if("min"in pr){var ur=pr.min;j.parameter(ur,Xr),Te.minFilter=Xr[ur],jl.indexOf(Te.minFilter)>=0&&!("faces"in pr)&&(Te.genMipmaps=!0)}if("mag"in pr){var En=pr.mag;j.parameter(En,Hr),Te.magFilter=Hr[En]}var ca=Te.wrapS,Ee=Te.wrapT;if("wrap"in pr){var ue=pr.wrap;typeof ue=="string"?(j.parameter(ue,rn),ca=Ee=rn[ue]):Array.isArray(ue)&&(j.parameter(ue[0],rn),j.parameter(ue[1],rn),ca=rn[ue[0]],Ee=rn[ue[1]])}else{if("wrapS"in pr){var Fe=pr.wrapS;j.parameter(Fe,rn),ca=rn[Fe]}if("wrapT"in pr){var er=pr.wrapT;j.parameter(er,rn),Ee=rn[er]}}if(Te.wrapS=ca,Te.wrapT=Ee,"anisotropic"in pr){var ir=pr.anisotropic;j(typeof ir=="number"&&ir>=1&&ir<=De.maxAnisotropic,"aniso samples must be between 1 and "),Te.anisotropic=pr.anisotropic}if("mipmap"in pr){var Ve=!1;switch(typeof pr.mipmap){case"string":j.parameter(pr.mipmap,Vr,"invalid mipmap hint"),Te.mipmapHint=Vr[pr.mipmap],Te.genMipmaps=!0,Ve=!0;break;case"boolean":Ve=Te.genMipmaps=pr.mipmap;break;case"object":j(Array.isArray(pr.mipmap),"invalid mipmap type"),Te.genMipmaps=!1,Ve=!0;break;default:j.raise("invalid mipmap type")}Ve&&!("min"in pr)&&(Te.minFilter=fu)}}function Ii(Te,pr){qt.texParameteri(pr,Nf,Te.minFilter),qt.texParameteri(pr,Fc,Te.magFilter),qt.texParameteri(pr,Bf,Te.wrapS),qt.texParameteri(pr,Fh,Te.wrapT),ae.ext_texture_filter_anisotropic&&qt.texParameteri(pr,ms,Te.anisotropic),Te.genMipmaps&&(qt.hint(Co,Te.mipmapHint),qt.generateMipmap(pr))}var Pi=0,$i={},Fi=De.maxTextureUnits,li=Array(Fi).map(function(){return null});function Aa(Te){Gr.call(this),this.mipmask=0,this.internalformat=za,this.id=Pi++,this.refCount=1,this.target=Te,this.texture=qt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new xi,vr.profile&&(this.stats={size:0})}function no(Te){qt.activeTexture(Fo),qt.bindTexture(Te.target,Te.texture)}function _a(){var Te=li[0];Te?qt.bindTexture(Te.target,Te.texture):qt.bindTexture(Rn,null)}function zn(Te){var pr=Te.texture;j(pr,"must not double destroy texture");var ur=Te.unit,En=Te.target;ur>=0&&(qt.activeTexture(Fo+ur),qt.bindTexture(En,null),li[ur]=null),qt.deleteTexture(pr),Te.texture=null,Te.params=null,Te.pixels=null,Te.refCount=0,delete $i[Te.id],mr.textureCount--}i(Aa.prototype,{bind:function(){var pr=this;pr.bindCount+=1;var ur=pr.unit;if(ur<0){for(var En=0;En<Fi;++En){var ca=li[En];if(ca){if(ca.bindCount>0)continue;ca.unit=-1}li[En]=pr,ur=En;break}ur>=Fi&&j.raise("insufficient number of texture units"),vr.profile&&mr.maxTextureUnits<ur+1&&(mr.maxTextureUnits=ur+1),pr.unit=ur,qt.activeTexture(Fo+ur),qt.bindTexture(pr.target,pr.texture)}return ur},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&zn(this)}});function _n(Te,pr){var ur=new Aa(Rn);$i[ur.id]=ur,mr.textureCount++;function En(ue,Fe){var er=ur.texInfo;xi.call(er);var ir=Ra();return typeof ue=="number"?typeof Fe=="number"?Ta(ir,ue|0,Fe|0):Ta(ir,ue|0,ue|0):ue?(j.type(ue,"object","invalid arguments to regl.texture"),Ai(er,ue),Za(ir,ue)):Ta(ir,1,1),er.genMipmaps&&(ir.mipmask=(ir.width<<1)-1),ur.mipmask=ir.mipmask,qr(ur,ir),j.texture2D(er,ir,De),ur.internalformat=ir.internalformat,En.width=ir.width,En.height=ir.height,no(ur),Li(ir,Rn),Ii(er,Rn),_a(),Zi(ir),vr.profile&&(ur.stats.size=wl(ur.internalformat,ur.type,ir.width,ir.height,er.genMipmaps,!1)),En.format=Yr[ur.internalformat],En.type=On[ur.type],En.mag=Tr[er.magFilter],En.min=Gn[er.minFilter],En.wrapS=$r[er.wrapS],En.wrapT=$r[er.wrapT],En}function ca(ue,Fe,er,ir){j(!!ue,"must specify image data");var Ve=Fe|0,Ge=er|0,Je=ir|0,Me=Pn();return qr(Me,ur),Me.width=0,Me.height=0,tn(Me,ue),Me.width=Me.width||(ur.width>>Je)-Ve,Me.height=Me.height||(ur.height>>Je)-Ge,j(ur.type===Me.type&&ur.format===Me.format&&ur.internalformat===Me.internalformat,"incompatible format for texture.subimage"),j(Ve>=0&&Ge>=0&&Ve+Me.width<=ur.width&&Ge+Me.height<=ur.height,"texture.subimage write out of bounds"),j(ur.mipmask&1<<Je,"missing mipmap data"),j(Me.data||Me.element||Me.needsCopy,"missing image data"),no(ur),ea(Me,Rn,Ve,Ge,Je),_a(),Ma(Me),En}function Ee(ue,Fe){var er=ue|0,ir=Fe|0||er;if(er===ur.width&&ir===ur.height)return En;En.width=ur.width=er,En.height=ur.height=ir,no(ur);for(var Ve=0;ur.mipmask>>Ve;++Ve){var Ge=er>>Ve,Je=ir>>Ve;if(!Ge||!Je)break;qt.texImage2D(Rn,Ve,ur.format,Ge,Je,0,ur.format,ur.type,null)}return _a(),vr.profile&&(ur.stats.size=wl(ur.internalformat,ur.type,er,ir,!1,!1)),En}return En(Te,pr),En.subimage=ca,En.resize=Ee,En._reglType="texture2d",En._texture=ur,vr.profile&&(En.stats=ur.stats),En.destroy=function(){ur.decRef()},En}function Fa(Te,pr,ur,En,ca,Ee){var ue=new Aa(mn);$i[ue.id]=ue,mr.cubeCount++;var Fe=new Array(6);function er(Ge,Je,Me,Re,pe,qe){var lr,jr=ue.texInfo;for(xi.call(jr),lr=0;lr<6;++lr)Fe[lr]=Ra();if(typeof Ge=="number"||!Ge){var Rr=Ge|0||1;for(lr=0;lr<6;++lr)Ta(Fe[lr],Rr,Rr)}else if(typeof Ge=="object")if(Je)Za(Fe[0],Ge),Za(Fe[1],Je),Za(Fe[2],Me),Za(Fe[3],Re),Za(Fe[4],pe),Za(Fe[5],qe);else if(Ai(jr,Ge),Un(ue,Ge),"faces"in Ge){var Mr=Ge.faces;for(j(Array.isArray(Mr)&&Mr.length===6,"cube faces must be a length 6 array"),lr=0;lr<6;++lr)j(typeof Mr[lr]=="object"&&!!Mr[lr],"invalid input for cube map face"),qr(Fe[lr],ue),Za(Fe[lr],Mr[lr])}else for(lr=0;lr<6;++lr)Za(Fe[lr],Ge);else j.raise("invalid arguments to cube map");for(qr(ue,Fe[0]),De.npotTextureCube||j(ei(ue.width)&&ei(ue.height),"your browser does not support non power or two texture dimensions"),jr.genMipmaps?ue.mipmask=(Fe[0].width<<1)-1:ue.mipmask=Fe[0].mipmask,j.textureCube(ue,jr,Fe,De),ue.internalformat=Fe[0].internalformat,er.width=Fe[0].width,er.height=Fe[0].height,no(ue),lr=0;lr<6;++lr)Li(Fe[lr],oi+lr);for(Ii(jr,mn),_a(),vr.profile&&(ue.stats.size=wl(ue.internalformat,ue.type,er.width,er.height,jr.genMipmaps,!0)),er.format=Yr[ue.internalformat],er.type=On[ue.type],er.mag=Tr[jr.magFilter],er.min=Gn[jr.minFilter],er.wrapS=$r[jr.wrapS],er.wrapT=$r[jr.wrapT],lr=0;lr<6;++lr)Zi(Fe[lr]);return er}function ir(Ge,Je,Me,Re,pe){j(!!Je,"must specify image data"),j(typeof Ge=="number"&&Ge===(Ge|0)&&Ge>=0&&Ge<6,"invalid face");var qe=Me|0,lr=Re|0,jr=pe|0,Rr=Pn();return qr(Rr,ue),Rr.width=0,Rr.height=0,tn(Rr,Je),Rr.width=Rr.width||(ue.width>>jr)-qe,Rr.height=Rr.height||(ue.height>>jr)-lr,j(ue.type===Rr.type&&ue.format===Rr.format&&ue.internalformat===Rr.internalformat,"incompatible format for texture.subimage"),j(qe>=0&&lr>=0&&qe+Rr.width<=ue.width&&lr+Rr.height<=ue.height,"texture.subimage write out of bounds"),j(ue.mipmask&1<<jr,"missing mipmap data"),j(Rr.data||Rr.element||Rr.needsCopy,"missing image data"),no(ue),ea(Rr,oi+Ge,qe,lr,jr),_a(),Ma(Rr),er}function Ve(Ge){var Je=Ge|0;if(Je!==ue.width){er.width=ue.width=Je,er.height=ue.height=Je,no(ue);for(var Me=0;Me<6;++Me)for(var Re=0;ue.mipmask>>Re;++Re)qt.texImage2D(oi+Me,Re,ue.format,Je>>Re,Je>>Re,0,ue.format,ue.type,null);return _a(),vr.profile&&(ue.stats.size=wl(ue.internalformat,ue.type,er.width,er.height,!1,!0)),er}}return er(Te,pr,ur,En,ca,Ee),er.subimage=ir,er.resize=Ve,er._reglType="textureCube",er._texture=ue,vr.profile&&(er.stats=ue.stats),er.destroy=function(){ue.decRef()},er}function Gi(){for(var Te=0;Te<Fi;++Te)qt.activeTexture(Fo+Te),qt.bindTexture(Rn,null),li[Te]=null;la($i).forEach(zn),mr.cubeCount=0,mr.textureCount=0}vr.profile&&(mr.getTotalTextureSize=function(){var Te=0;return Object.keys($i).forEach(function(pr){Te+=$i[pr].stats.size}),Te});function yo(){for(var Te=0;Te<Fi;++Te){var pr=li[Te];pr&&(pr.bindCount=0,pr.unit=-1,li[Te]=null)}la($i).forEach(function(ur){ur.texture=qt.createTexture(),qt.bindTexture(ur.target,ur.texture);for(var En=0;En<32;++En)if((ur.mipmask&1<<En)!=0)if(ur.target===Rn)qt.texImage2D(Rn,En,ur.internalformat,ur.width>>En,ur.height>>En,0,ur.internalformat,ur.type,null);else for(var ca=0;ca<6;++ca)qt.texImage2D(oi+ca,En,ur.internalformat,ur.width>>En,ur.height>>En,0,ur.internalformat,ur.type,null);Ii(ur.texInfo,ur.target)})}function ml(){for(var Te=0;Te<Fi;++Te){var pr=li[Te];pr&&(pr.bindCount=0,pr.unit=-1,li[Te]=null),qt.activeTexture(Fo+Te),qt.bindTexture(Rn,null),qt.bindTexture(mn,null)}}return{create2D:_n,createCube:Fa,clear:Gi,getTexture:function(pr){return null},restore:yo,refresh:ml}}var Ys=36161,as=32854,ti=32855,ko=36194,Hc=33189,Yc=36168,qu=34041,tc=35907,Kc=34836,vu=34842,Zc=34843,Vo=[];Vo[as]=2,Vo[ti]=2,Vo[ko]=2,Vo[Hc]=2,Vo[Yc]=1,Vo[qu]=4,Vo[tc]=4,Vo[Kc]=16,Vo[vu]=8,Vo[Zc]=6;function qi(qt,ae,De){return Vo[qt]*ae*De}var Uf=function(ae,De,fr,Cr,mr){var vr={rgba4:as,rgb565:ko,"rgb5 a1":ti,depth:Hc,stencil:Yc,"depth stencil":qu};De.ext_srgb&&(vr.srgba=tc),De.ext_color_buffer_half_float&&(vr.rgba16f=vu,vr.rgb16f=Zc),De.webgl_color_buffer_float&&(vr.rgba32f=Kc);var Vr=[];Object.keys(vr).forEach(function(Jr){var gr=vr[Jr];Vr[gr]=Jr});var rn=0,Hr={};function Xr(Jr){this.id=rn++,this.refCount=1,this.renderbuffer=Jr,this.format=as,this.width=0,this.height=0,mr.profile&&(this.stats={size:0})}Xr.prototype.decRef=function(){--this.refCount<=0&&an(this)};function an(Jr){var gr=Jr.renderbuffer;j(gr,"must not double destroy renderbuffer"),ae.bindRenderbuffer(Ys,null),ae.deleteRenderbuffer(gr),Jr.renderbuffer=null,Jr.refCount=0,delete Hr[Jr.id],Cr.renderbufferCount--}function gn(Jr,gr){var hr=new Xr(ae.createRenderbuffer());Hr[hr.id]=hr,Cr.renderbufferCount++;function Yr(Tr,Gn){var $r=0,Nr=0,Gr=as;if(typeof Tr=="object"&&Tr){var qr=Tr;if("shape"in qr){var Un=qr.shape;j(Array.isArray(Un)&&Un.length>=2,"invalid renderbuffer shape"),$r=Un[0]|0,Nr=Un[1]|0}else"radius"in qr&&($r=Nr=qr.radius|0),"width"in qr&&($r=qr.width|0),"height"in qr&&(Nr=qr.height|0);"format"in qr&&(j.parameter(qr.format,vr,"invalid renderbuffer format"),Gr=vr[qr.format])}else typeof Tr=="number"?($r=Tr|0,typeof Gn=="number"?Nr=Gn|0:Nr=$r):Tr?j.raise("invalid arguments to renderbuffer constructor"):$r=Nr=1;if(j($r>0&&Nr>0&&$r<=fr.maxRenderbufferSize&&Nr<=fr.maxRenderbufferSize,"invalid renderbuffer size"),!($r===hr.width&&Nr===hr.height&&Gr===hr.format))return Yr.width=hr.width=$r,Yr.height=hr.height=Nr,hr.format=Gr,ae.bindRenderbuffer(Ys,hr.renderbuffer),ae.renderbufferStorage(Ys,Gr,$r,Nr),j(ae.getError()===0,"invalid render buffer format"),mr.profile&&(hr.stats.size=qi(hr.format,hr.width,hr.height)),Yr.format=Vr[hr.format],Yr}function On(Tr,Gn){var $r=Tr|0,Nr=Gn|0||$r;return $r===hr.width&&Nr===hr.height||(j($r>0&&Nr>0&&$r<=fr.maxRenderbufferSize&&Nr<=fr.maxRenderbufferSize,"invalid renderbuffer size"),Yr.width=hr.width=$r,Yr.height=hr.height=Nr,ae.bindRenderbuffer(Ys,hr.renderbuffer),ae.renderbufferStorage(Ys,hr.format,$r,Nr),j(ae.getError()===0,"invalid render buffer format"),mr.profile&&(hr.stats.size=qi(hr.format,hr.width,hr.height))),Yr}return Yr(Jr,gr),Yr.resize=On,Yr._reglType="renderbuffer",Yr._renderbuffer=hr,mr.profile&&(Yr.stats=hr.stats),Yr.destroy=function(){hr.decRef()},Yr}mr.profile&&(Cr.getTotalRenderbufferSize=function(){var Jr=0;return Object.keys(Hr).forEach(function(gr){Jr+=Hr[gr].stats.size}),Jr});function sn(){la(Hr).forEach(function(Jr){Jr.renderbuffer=ae.createRenderbuffer(),ae.bindRenderbuffer(Ys,Jr.renderbuffer),ae.renderbufferStorage(Ys,Jr.format,Jr.width,Jr.height)}),ae.bindRenderbuffer(Ys,null)}return{create:gn,clear:function(){la(Hr).forEach(an)},restore:sn}},is=36160,$c=36161,Ks=3553,ec=34069,rc=36064,Wf=36096,Qc=36128,zf=33306,kf=36053,Jc=36054,_c=36055,Vh=36057,gu=36061,pu=36193,al=5121,Fd=5126,qc=6407,yu=6408,Vf=6402,Gd=[qc,yu],Bl=[];Bl[yu]=4,Bl[qc]=3;var Nl=[];Nl[al]=1,Nl[Fd]=4,Nl[pu]=2;var tf=32854,Xh=32855,ef=36194,Fl=33189,mu=36168,rf=34041,Hh=35907,Xf=34836,Yh=34842,Hf=34843,Kh=[tf,Xh,ef,Hh,Yh,Hf,Xf],Xo={};Xo[kf]="complete",Xo[Jc]="incomplete attachment",Xo[Vh]="incomplete dimensions",Xo[_c]="incomplete, missing attachment",Xo[gu]="unsupported";function Zh(qt,ae,De,fr,Cr,mr){var vr={cur:null,next:null,dirty:!1,setFBO:null},Vr=["rgba"],rn=["rgba4","rgb565","rgb5 a1"];ae.ext_srgb&&rn.push("srgba"),ae.ext_color_buffer_half_float&&rn.push("rgba16f","rgb16f"),ae.webgl_color_buffer_float&&rn.push("rgba32f");var Hr=["uint8"];ae.oes_texture_half_float&&Hr.push("half float","float16"),ae.oes_texture_float&&Hr.push("float","float32");function Xr(fn,tn,wr){this.target=fn,this.texture=tn,this.renderbuffer=wr;var ea=0,Ca=0;tn?(ea=tn.width,Ca=tn.height):wr&&(ea=wr.width,Ca=wr.height),this.width=ea,this.height=Ca}function an(fn){fn&&(fn.texture&&fn.texture._texture.decRef(),fn.renderbuffer&&fn.renderbuffer._renderbuffer.decRef())}function gn(fn,tn,wr){if(!!fn)if(fn.texture){var ea=fn.texture._texture,Ca=Math.max(1,ea.width),Pn=Math.max(1,ea.height);j(Ca===tn&&Pn===wr,"inconsistent width/height for supplied texture"),ea.refCount+=1}else{var Ma=fn.renderbuffer._renderbuffer;j(Ma.width===tn&&Ma.height===wr,"inconsistent width/height for renderbuffer"),Ma.refCount+=1}}function sn(fn,tn){tn&&(tn.texture?qt.framebufferTexture2D(is,fn,tn.target,tn.texture._texture.texture,0):qt.framebufferRenderbuffer(is,fn,$c,tn.renderbuffer._renderbuffer.renderbuffer))}function Jr(fn){var tn=Ks,wr=null,ea=null,Ca=fn;typeof fn=="object"&&(Ca=fn.data,"target"in fn&&(tn=fn.target|0)),j.type(Ca,"function","invalid attachment data");var Pn=Ca._reglType;return Pn==="texture2d"?(wr=Ca,j(tn===Ks)):Pn==="textureCube"?(wr=Ca,j(tn>=ec&&tn<ec+6,"invalid cube map target")):Pn==="renderbuffer"?(ea=Ca,tn=$c):j.raise("invalid regl object for attachment"),new Xr(tn,wr,ea)}function gr(fn,tn,wr,ea,Ca){if(wr){var Pn=fr.create2D({width:fn,height:tn,format:ea,type:Ca});return Pn._texture.refCount=0,new Xr(Ks,Pn,null)}else{var Ma=Cr.create({width:fn,height:tn,format:ea});return Ma._renderbuffer.refCount=0,new Xr($c,null,Ma)}}function hr(fn){return fn&&(fn.texture||fn.renderbuffer)}function Yr(fn,tn,wr){fn&&(fn.texture?fn.texture.resize(tn,wr):fn.renderbuffer&&fn.renderbuffer.resize(tn,wr),fn.width=tn,fn.height=wr)}var On=0,Tr={};function Gn(){this.id=On++,Tr[this.id]=this,this.framebuffer=qt.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function $r(fn){fn.colorAttachments.forEach(an),an(fn.depthAttachment),an(fn.stencilAttachment),an(fn.depthStencilAttachment)}function Nr(fn){var tn=fn.framebuffer;j(tn,"must not double destroy framebuffer"),qt.deleteFramebuffer(tn),fn.framebuffer=null,mr.framebufferCount--,delete Tr[fn.id]}function Gr(fn){var tn;qt.bindFramebuffer(is,fn.framebuffer);var wr=fn.colorAttachments;for(tn=0;tn<wr.length;++tn)sn(rc+tn,wr[tn]);for(tn=wr.length;tn<De.maxColorAttachments;++tn)qt.framebufferTexture2D(is,rc+tn,Ks,null,0);qt.framebufferTexture2D(is,zf,Ks,null,0),qt.framebufferTexture2D(is,Wf,Ks,null,0),qt.framebufferTexture2D(is,Qc,Ks,null,0),sn(Wf,fn.depthAttachment),sn(Qc,fn.stencilAttachment),sn(zf,fn.depthStencilAttachment);var ea=qt.checkFramebufferStatus(is);!qt.isContextLost()&&ea!==kf&&j.raise("framebuffer configuration not supported, status = "+Xo[ea]),qt.bindFramebuffer(is,vr.next?vr.next.framebuffer:null),vr.cur=vr.next,qt.getError()}function qr(fn,tn){var wr=new Gn;mr.framebufferCount++;function ea(Pn,Ma){var ha;j(vr.next!==wr,"can not update framebuffer which is currently in use");var Ta=0,Za=0,Li=!0,ro=!0,Ra=null,Zi=!0,xi="rgba",Ai="uint8",Ii=1,Pi=null,$i=null,Fi=null,li=!1;if(typeof Pn=="number")Ta=Pn|0,Za=Ma|0||Ta;else if(!Pn)Ta=Za=1;else{j.type(Pn,"object","invalid arguments for framebuffer");var Aa=Pn;if("shape"in Aa){var no=Aa.shape;j(Array.isArray(no)&&no.length>=2,"invalid shape for framebuffer"),Ta=no[0],Za=no[1]}else"radius"in Aa&&(Ta=Za=Aa.radius),"width"in Aa&&(Ta=Aa.width),"height"in Aa&&(Za=Aa.height);("color"in Aa||"colors"in Aa)&&(Ra=Aa.color||Aa.colors,Array.isArray(Ra)&&j(Ra.length===1||ae.webgl_draw_buffers,"multiple render targets not supported")),Ra||("colorCount"in Aa&&(Ii=Aa.colorCount|0,j(Ii>0,"invalid color buffer count")),"colorTexture"in Aa&&(Zi=!!Aa.colorTexture,xi="rgba4"),"colorType"in Aa&&(Ai=Aa.colorType,Zi?(j(ae.oes_texture_float||!(Ai==="float"||Ai==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),j(ae.oes_texture_half_float||!(Ai==="half float"||Ai==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Ai==="half float"||Ai==="float16"?(j(ae.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),xi="rgba16f"):(Ai==="float"||Ai==="float32")&&(j(ae.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),xi="rgba32f"),j.oneOf(Ai,Hr,"invalid color type")),"colorFormat"in Aa&&(xi=Aa.colorFormat,Vr.indexOf(xi)>=0?Zi=!0:rn.indexOf(xi)>=0?Zi=!1:Zi?j.oneOf(Aa.colorFormat,Vr,"invalid color format for texture"):j.oneOf(Aa.colorFormat,rn,"invalid color format for renderbuffer"))),("depthTexture"in Aa||"depthStencilTexture"in Aa)&&(li=!!(Aa.depthTexture||Aa.depthStencilTexture),j(!li||ae.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Aa&&(typeof Aa.depth=="boolean"?Li=Aa.depth:(Pi=Aa.depth,ro=!1)),"stencil"in Aa&&(typeof Aa.stencil=="boolean"?ro=Aa.stencil:($i=Aa.stencil,Li=!1)),"depthStencil"in Aa&&(typeof Aa.depthStencil=="boolean"?Li=ro=Aa.depthStencil:(Fi=Aa.depthStencil,Li=!1,ro=!1))}var _a=null,zn=null,_n=null,Fa=null;if(Array.isArray(Ra))_a=Ra.map(Jr);else if(Ra)_a=[Jr(Ra)];else for(_a=new Array(Ii),ha=0;ha<Ii;++ha)_a[ha]=gr(Ta,Za,Zi,xi,Ai);j(ae.webgl_draw_buffers||_a.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),j(_a.length<=De.maxColorAttachments,"too many color attachments, not supported"),Ta=Ta||_a[0].width,Za=Za||_a[0].height,Pi?zn=Jr(Pi):Li&&!ro&&(zn=gr(Ta,Za,li,"depth","uint32")),$i?_n=Jr($i):ro&&!Li&&(_n=gr(Ta,Za,!1,"stencil","uint8")),Fi?Fa=Jr(Fi):!Pi&&!$i&&ro&&Li&&(Fa=gr(Ta,Za,li,"depth stencil","depth stencil")),j(!!Pi+!!$i+!!Fi<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Gi=null;for(ha=0;ha<_a.length;++ha)if(gn(_a[ha],Ta,Za),j(!_a[ha]||_a[ha].texture&&Gd.indexOf(_a[ha].texture._texture.format)>=0||_a[ha].renderbuffer&&Kh.indexOf(_a[ha].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+ha+" is invalid"),_a[ha]&&_a[ha].texture){var yo=Bl[_a[ha].texture._texture.format]*Nl[_a[ha].texture._texture.type];Gi===null?Gi=yo:j(Gi===yo,"all color attachments much have the same number of bits per pixel.")}return gn(zn,Ta,Za),j(!zn||zn.texture&&zn.texture._texture.format===Vf||zn.renderbuffer&&zn.renderbuffer._renderbuffer.format===Fl,"invalid depth attachment for framebuffer object"),gn(_n,Ta,Za),j(!_n||_n.renderbuffer&&_n.renderbuffer._renderbuffer.format===mu,"invalid stencil attachment for framebuffer object"),gn(Fa,Ta,Za),j(!Fa||Fa.texture&&Fa.texture._texture.format===rf||Fa.renderbuffer&&Fa.renderbuffer._renderbuffer.format===rf,"invalid depth-stencil attachment for framebuffer object"),$r(wr),wr.width=Ta,wr.height=Za,wr.colorAttachments=_a,wr.depthAttachment=zn,wr.stencilAttachment=_n,wr.depthStencilAttachment=Fa,ea.color=_a.map(hr),ea.depth=hr(zn),ea.stencil=hr(_n),ea.depthStencil=hr(Fa),ea.width=wr.width,ea.height=wr.height,Gr(wr),ea}function Ca(Pn,Ma){j(vr.next!==wr,"can not resize a framebuffer which is currently in use");var ha=Math.max(Pn|0,1),Ta=Math.max(Ma|0||ha,1);if(ha===wr.width&&Ta===wr.height)return ea;for(var Za=wr.colorAttachments,Li=0;Li<Za.length;++Li)Yr(Za[Li],ha,Ta);return Yr(wr.depthAttachment,ha,Ta),Yr(wr.stencilAttachment,ha,Ta),Yr(wr.depthStencilAttachment,ha,Ta),wr.width=ea.width=ha,wr.height=ea.height=Ta,Gr(wr),ea}return ea(fn,tn),i(ea,{resize:Ca,_reglType:"framebuffer",_framebuffer:wr,destroy:function(){Nr(wr),$r(wr)},use:function(Ma){vr.setFBO({framebuffer:ea},Ma)}})}function Un(fn){var tn=Array(6);function wr(Ca){var Pn;j(tn.indexOf(vr.next)<0,"can not update framebuffer which is currently in use");var Ma={color:null},ha=0,Ta=null,Za="rgba",Li="uint8",ro=1;if(typeof Ca=="number")ha=Ca|0;else if(!Ca)ha=1;else{j.type(Ca,"object","invalid arguments for framebuffer");var Ra=Ca;if("shape"in Ra){var Zi=Ra.shape;j(Array.isArray(Zi)&&Zi.length>=2,"invalid shape for framebuffer"),j(Zi[0]===Zi[1],"cube framebuffer must be square"),ha=Zi[0]}else"radius"in Ra&&(ha=Ra.radius|0),"width"in Ra?(ha=Ra.width|0,"height"in Ra&&j(Ra.height===ha,"must be square")):"height"in Ra&&(ha=Ra.height|0);("color"in Ra||"colors"in Ra)&&(Ta=Ra.color||Ra.colors,Array.isArray(Ta)&&j(Ta.length===1||ae.webgl_draw_buffers,"multiple render targets not supported")),Ta||("colorCount"in Ra&&(ro=Ra.colorCount|0,j(ro>0,"invalid color buffer count")),"colorType"in Ra&&(j.oneOf(Ra.colorType,Hr,"invalid color type"),Li=Ra.colorType),"colorFormat"in Ra&&(Za=Ra.colorFormat,j.oneOf(Ra.colorFormat,Vr,"invalid color format for texture"))),"depth"in Ra&&(Ma.depth=Ra.depth),"stencil"in Ra&&(Ma.stencil=Ra.stencil),"depthStencil"in Ra&&(Ma.depthStencil=Ra.depthStencil)}var xi;if(Ta)if(Array.isArray(Ta))for(xi=[],Pn=0;Pn<Ta.length;++Pn)xi[Pn]=Ta[Pn];else xi=[Ta];else{xi=Array(ro);var Ai={radius:ha,format:Za,type:Li};for(Pn=0;Pn<ro;++Pn)xi[Pn]=fr.createCube(Ai)}for(Ma.color=Array(xi.length),Pn=0;Pn<xi.length;++Pn){var Ii=xi[Pn];j(typeof Ii=="function"&&Ii._reglType==="textureCube","invalid cube map"),ha=ha||Ii.width,j(Ii.width===ha&&Ii.height===ha,"invalid cube map shape"),Ma.color[Pn]={target:ec,data:xi[Pn]}}for(Pn=0;Pn<6;++Pn){for(var Pi=0;Pi<xi.length;++Pi)Ma.color[Pi].target=ec+Pn;Pn>0&&(Ma.depth=tn[0].depth,Ma.stencil=tn[0].stencil,Ma.depthStencil=tn[0].depthStencil),tn[Pn]?tn[Pn](Ma):tn[Pn]=qr(Ma)}return i(wr,{width:ha,height:ha,color:xi})}function ea(Ca){var Pn,Ma=Ca|0;if(j(Ma>0&&Ma<=De.maxCubeMapSize,"invalid radius for cube fbo"),Ma===wr.width)return wr;var ha=wr.color;for(Pn=0;Pn<ha.length;++Pn)ha[Pn].resize(Ma);for(Pn=0;Pn<6;++Pn)tn[Pn].resize(Ma);return wr.width=wr.height=Ma,wr}return wr(fn),i(wr,{faces:tn,resize:ea,_reglType:"framebufferCube",destroy:function(){tn.forEach(function(Pn){Pn.destroy()})}})}function aa(){vr.cur=null,vr.next=null,vr.dirty=!0,la(Tr).forEach(function(fn){fn.framebuffer=qt.createFramebuffer(),Gr(fn)})}return i(vr,{getFramebuffer:function(tn){if(typeof tn=="function"&&tn._reglType==="framebuffer"){var wr=tn._framebuffer;if(wr instanceof Gn)return wr}return null},create:qr,createCube:Un,clear:function(){la(Tr).forEach(Nr)},restore:aa})}var Yf=5126,Kf=34962;function Ho(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Yf,this.offset=0,this.stride=0,this.divisor=0}function $h(qt,ae,De,fr,Cr){for(var mr=De.maxAttributes,vr=new Array(mr),Vr=0;Vr<mr;++Vr)vr[Vr]=new Ho;var rn=0,Hr={},Xr={Record:Ho,scope:{},state:vr,currentVAO:null,targetVAO:null,restore:gn()?Tr:function(){},createVAO:Gn,getVAO:Jr,destroyBuffer:an,setVAO:gn()?gr:hr,clear:gn()?Yr:function(){}};function an($r){for(var Nr=0;Nr<vr.length;++Nr){var Gr=vr[Nr];Gr.buffer===$r&&(qt.disableVertexAttribArray(Nr),Gr.buffer=null)}}function gn(){return ae.oes_vertex_array_object}function sn(){return ae.angle_instanced_arrays}function Jr($r){return typeof $r=="function"&&$r._vao?$r._vao:null}function gr($r){if($r!==Xr.currentVAO){var Nr=gn();$r?Nr.bindVertexArrayOES($r.vao):Nr.bindVertexArrayOES(null),Xr.currentVAO=$r}}function hr($r){if($r!==Xr.currentVAO){if($r)$r.bindAttrs();else for(var Nr=sn(),Gr=0;Gr<vr.length;++Gr){var qr=vr[Gr];qr.buffer?(qt.enableVertexAttribArray(Gr),qt.vertexAttribPointer(Gr,qr.size,qr.type,qr.normalized,qr.stride,qr.offfset),Nr&&qr.divisor&&Nr.vertexAttribDivisorANGLE(Gr,qr.divisor)):(qt.disableVertexAttribArray(Gr),qt.vertexAttrib4f(Gr,qr.x,qr.y,qr.z,qr.w))}Xr.currentVAO=$r}}function Yr(){la(Hr).forEach(function($r){$r.destroy()})}function On(){this.id=++rn,this.attributes=[];var $r=gn();$r?this.vao=$r.createVertexArrayOES():this.vao=null,Hr[this.id]=this,this.buffers=[]}On.prototype.bindAttrs=function(){for(var $r=sn(),Nr=this.attributes,Gr=0;Gr<Nr.length;++Gr){var qr=Nr[Gr];qr.buffer?(qt.enableVertexAttribArray(Gr),qt.bindBuffer(Kf,qr.buffer.buffer),qt.vertexAttribPointer(Gr,qr.size,qr.type,qr.normalized,qr.stride,qr.offset),$r&&qr.divisor&&$r.vertexAttribDivisorANGLE(Gr,qr.divisor)):(qt.disableVertexAttribArray(Gr),qt.vertexAttrib4f(Gr,qr.x,qr.y,qr.z,qr.w))}for(var Un=Nr.length;Un<mr;++Un)qt.disableVertexAttribArray(Un)},On.prototype.refresh=function(){var $r=gn();$r&&($r.bindVertexArrayOES(this.vao),this.bindAttrs(),Xr.currentVAO=this)},On.prototype.destroy=function(){if(this.vao){var $r=gn();this===Xr.currentVAO&&(Xr.currentVAO=null,$r.bindVertexArrayOES(null)),$r.deleteVertexArrayOES(this.vao),this.vao=null}Hr[this.id]&&(delete Hr[this.id],fr.vaoCount-=1)};function Tr(){var $r=gn();$r&&la(Hr).forEach(function(Nr){Nr.refresh()})}function Gn($r){var Nr=new On;fr.vaoCount+=1;function Gr(qr){j(Array.isArray(qr),"arguments to vertex array constructor must be an array"),j(qr.length<mr,"too many attributes"),j(qr.length>0,"must specify at least one attribute");var Un={},aa=Nr.attributes;aa.length=qr.length;for(var fn=0;fn<qr.length;++fn){var tn=qr[fn],wr=aa[fn]=new Ho,ea=tn.data||tn;if(Array.isArray(ea)||h(ea)||Wa(ea)){var Ca;Nr.buffers[fn]&&(Ca=Nr.buffers[fn],h(ea)&&Ca._buffer.byteLength>=ea.byteLength?Ca.subdata(ea):(Ca.destroy(),Nr.buffers[fn]=null)),Nr.buffers[fn]||(Ca=Nr.buffers[fn]=Cr.create(tn,Kf,!1,!0)),wr.buffer=Cr.getBuffer(Ca),wr.size=wr.buffer.dimension|0,wr.normalized=!1,wr.type=wr.buffer.dtype,wr.offset=0,wr.stride=0,wr.divisor=0,wr.state=1,Un[fn]=1}else Cr.getBuffer(tn)?(wr.buffer=Cr.getBuffer(tn),wr.size=wr.buffer.dimension|0,wr.normalized=!1,wr.type=wr.buffer.dtype,wr.offset=0,wr.stride=0,wr.divisor=0,wr.state=1):Cr.getBuffer(tn.buffer)?(wr.buffer=Cr.getBuffer(tn.buffer),wr.size=(+tn.size||wr.buffer.dimension)|0,wr.normalized=!!tn.normalized||!1,"type"in tn?(j.parameter(tn.type,Eo,"invalid buffer type"),wr.type=Eo[tn.type]):wr.type=wr.buffer.dtype,wr.offset=(tn.offset||0)|0,wr.stride=(tn.stride||0)|0,wr.divisor=(tn.divisor||0)|0,wr.state=1,j(wr.size>=1&&wr.size<=4,"size must be between 1 and 4"),j(wr.offset>=0,"invalid offset"),j(wr.stride>=0&&wr.stride<=255,"stride must be between 0 and 255"),j(wr.divisor>=0,"divisor must be positive"),j(!wr.divisor||!!ae.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in tn?(j(fn>0,"first attribute must not be a constant"),wr.x=+tn.x||0,wr.y=+tn.y||0,wr.z=+tn.z||0,wr.w=+tn.w||0,wr.state=2):j(!1,"invalid attribute spec for location "+fn)}for(var Pn=0;Pn<Nr.buffers.length;++Pn)!Un[Pn]&&Nr.buffers[Pn]&&(Nr.buffers[Pn].destroy(),Nr.buffers[Pn]=null);return Nr.refresh(),Gr}return Gr.destroy=function(){for(var qr=0;qr<Nr.buffers.length;++qr)Nr.buffers[qr]&&Nr.buffers[qr].destroy();Nr.buffers.length=0,Nr.destroy()},Gr._vao=Nr,Gr._reglType="vao",Gr($r)}return Xr}var nf=35632,Zf=35633,$f=35718,Gl=35721;function Is(qt,ae,De,fr){var Cr={},mr={};function vr(gr,hr,Yr,On){this.name=gr,this.id=hr,this.location=Yr,this.info=On}function Vr(gr,hr){for(var Yr=0;Yr<gr.length;++Yr)if(gr[Yr].id===hr.id){gr[Yr].location=hr.location;return}gr.push(hr)}function rn(gr,hr,Yr){var On=gr===nf?Cr:mr,Tr=On[hr];if(!Tr){var Gn=ae.str(hr);Tr=qt.createShader(gr),qt.shaderSource(Tr,Gn),qt.compileShader(Tr),j.shaderError(qt,Tr,Gn,gr,Yr),On[hr]=Tr}return Tr}var Hr={},Xr=[],an=0;function gn(gr,hr){this.id=an++,this.fragId=gr,this.vertId=hr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,fr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function sn(gr,hr,Yr){var On,Tr,Gn=rn(nf,gr.fragId),$r=rn(Zf,gr.vertId),Nr=gr.program=qt.createProgram();if(qt.attachShader(Nr,Gn),qt.attachShader(Nr,$r),Yr)for(On=0;On<Yr.length;++On){var Gr=Yr[On];qt.bindAttribLocation(Nr,Gr[0],Gr[1])}qt.linkProgram(Nr),j.linkError(qt,Nr,ae.str(gr.fragId),ae.str(gr.vertId),hr);var qr=qt.getProgramParameter(Nr,$f);fr.profile&&(gr.stats.uniformsCount=qr);var Un=gr.uniforms;for(On=0;On<qr;++On)if(Tr=qt.getActiveUniform(Nr,On),Tr)if(Tr.size>1)for(var aa=0;aa<Tr.size;++aa){var fn=Tr.name.replace("[0]","["+aa+"]");Vr(Un,new vr(fn,ae.id(fn),qt.getUniformLocation(Nr,fn),Tr))}else Vr(Un,new vr(Tr.name,ae.id(Tr.name),qt.getUniformLocation(Nr,Tr.name),Tr));var tn=qt.getProgramParameter(Nr,Gl);fr.profile&&(gr.stats.attributesCount=tn);var wr=gr.attributes;for(On=0;On<tn;++On)Tr=qt.getActiveAttrib(Nr,On),Tr&&Vr(wr,new vr(Tr.name,ae.id(Tr.name),qt.getAttribLocation(Nr,Tr.name),Tr))}fr.profile&&(De.getMaxUniformsCount=function(){var gr=0;return Xr.forEach(function(hr){hr.stats.uniformsCount>gr&&(gr=hr.stats.uniformsCount)}),gr},De.getMaxAttributesCount=function(){var gr=0;return Xr.forEach(function(hr){hr.stats.attributesCount>gr&&(gr=hr.stats.attributesCount)}),gr});function Jr(){Cr={},mr={};for(var gr=0;gr<Xr.length;++gr)sn(Xr[gr],null,Xr[gr].attributes.map(function(hr){return[hr.location,hr.name]}))}return{clear:function(){var hr=qt.deleteShader.bind(qt);la(Cr).forEach(hr),Cr={},la(mr).forEach(hr),mr={},Xr.forEach(function(Yr){qt.deleteProgram(Yr.program)}),Xr.length=0,Hr={},De.shaderCount=0},program:function(hr,Yr,On,Tr){j.command(hr>=0,"missing vertex shader",On),j.command(Yr>=0,"missing fragment shader",On);var Gn=Hr[Yr];Gn||(Gn=Hr[Yr]={});var $r=Gn[hr];if($r&&($r.refCount++,!Tr))return $r;var Nr=new gn(Yr,hr);return De.shaderCount++,sn(Nr,On,Tr),$r||(Gn[hr]=Nr),Xr.push(Nr),i(Nr,{destroy:function(){if(Nr.refCount--,Nr.refCount<=0){qt.deleteProgram(Nr.program);var qr=Xr.indexOf(Nr);Xr.splice(qr,1),De.shaderCount--}Gn[Nr.vertId].refCount<=0&&(qt.deleteShader(mr[Nr.vertId]),delete mr[Nr.vertId],delete Hr[Nr.fragId][Nr.vertId]),Object.keys(Hr[Nr.fragId]).length||(qt.deleteShader(Cr[Nr.fragId]),delete Cr[Nr.fragId],delete Hr[Nr.fragId])}})},restore:Jr,shader:rn,frag:-1,vert:-1}}var Qh=6408,bu=5121,Qf=3333,An=5126;function Ud(qt,ae,De,fr,Cr,mr,vr){function Vr(Xr){var an;ae.next===null?(j(Cr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),an=bu):(j(ae.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),an=ae.next.colorAttachments[0].texture._texture.type,mr.oes_texture_float?(j(an===bu||an===An,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),an===An&&j(vr.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):j(an===bu,"Reading from a framebuffer is only allowed for the type 'uint8'"));var gn=0,sn=0,Jr=fr.framebufferWidth,gr=fr.framebufferHeight,hr=null;h(Xr)?hr=Xr:Xr&&(j.type(Xr,"object","invalid arguments to regl.read()"),gn=Xr.x|0,sn=Xr.y|0,j(gn>=0&&gn<fr.framebufferWidth,"invalid x offset for regl.read"),j(sn>=0&&sn<fr.framebufferHeight,"invalid y offset for regl.read"),Jr=(Xr.width||fr.framebufferWidth-gn)|0,gr=(Xr.height||fr.framebufferHeight-sn)|0,hr=Xr.data||null),hr&&(an===bu?j(hr instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):an===An&&j(hr instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),j(Jr>0&&Jr+gn<=fr.framebufferWidth,"invalid width for read pixels"),j(gr>0&&gr+sn<=fr.framebufferHeight,"invalid height for read pixels"),De();var Yr=Jr*gr*4;return hr||(an===bu?hr=new Uint8Array(Yr):an===An&&(hr=hr||new Float32Array(Yr))),j.isTypedArray(hr,"data buffer for regl.read() must be a typedarray"),j(hr.byteLength>=Yr,"data buffer for regl.read() too small"),qt.pixelStorei(Qf,4),qt.readPixels(gn,sn,Jr,gr,Qh,an,hr),hr}function rn(Xr){var an;return ae.setFBO({framebuffer:Xr.framebuffer},function(){an=Vr(Xr)}),an}function Hr(Xr){return!Xr||!("framebuffer"in Xr)?Vr(Xr):rn(Xr)}return Hr}function hs(qt){return Array.prototype.slice.call(qt)}function Os(qt){return hs(qt).join("")}function Lr(){var qt=0,ae=[],De=[];function fr(an){for(var gn=0;gn<De.length;++gn)if(De[gn]===an)return ae[gn];var sn="g"+qt++;return ae.push(sn),De.push(an),sn}function Cr(){var an=[];function gn(){an.push.apply(an,hs(arguments))}var sn=[];function Jr(){var gr="v"+qt++;return sn.push(gr),arguments.length>0&&(an.push(gr,"="),an.push.apply(an,hs(arguments)),an.push(";")),gr}return i(gn,{def:Jr,toString:function(){return Os([sn.length>0?"var "+sn.join(",")+";":"",Os(an)])}})}function mr(){var an=Cr(),gn=Cr(),sn=an.toString,Jr=gn.toString;function gr(hr,Yr){gn(hr,Yr,"=",an.def(hr,Yr),";")}return i(function(){an.apply(an,hs(arguments))},{def:an.def,entry:an,exit:gn,save:gr,set:function(Yr,On,Tr){gr(Yr,On),an(Yr,On,"=",Tr,";")},toString:function(){return sn()+Jr()}})}function vr(){var an=Os(arguments),gn=mr(),sn=mr(),Jr=gn.toString,gr=sn.toString;return i(gn,{then:function(){return gn.apply(gn,hs(arguments)),this},else:function(){return sn.apply(sn,hs(arguments)),this},toString:function(){var Yr=gr();return Yr&&(Yr="else{"+Yr+"}"),Os(["if(",an,"){",Jr(),"}",Yr])}})}var Vr=Cr(),rn={};function Hr(an,gn){var sn=[];function Jr(){var Tr="a"+sn.length;return sn.push(Tr),Tr}gn=gn||0;for(var gr=0;gr<gn;++gr)Jr();var hr=mr(),Yr=hr.toString,On=rn[an]=i(hr,{arg:Jr,toString:function(){return Os(["function(",sn.join(),"){",Yr(),"}"])}});return On}function Xr(){var an=['"use strict";',Vr,"return {"];Object.keys(rn).forEach(function(Jr){an.push('"',Jr,'":',rn[Jr].toString(),",")}),an.push("}");var gn=Os(an).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),sn=Function.apply(null,ae.concat(gn));return sn.apply(null,De)}return{global:Vr,link:fr,block:Cr,proc:Hr,scope:mr,cond:vr,compile:Xr}}var il="xyzw".split(""),Jf=5121,ol=1,af=2,Ou=0,Ul=1,of=2,sf=3,nc=4,Ps=5,_f=6,xu="dither",Eu="blend.enable",lf="blend.color",uf="blend.equation",cf="blend.func",qf="depth.enable",ff="depth.func",ac="depth.range",hf="depth.mask",ic="colorMask",df="cull.enable",oc="cull.face",Wl="frontFace",Mu="lineWidth",co="polygonOffset.enable",Su="polygonOffset.offset",sc="sample.alpha",Jh="sample.enable",vf="sample.coverage",_h="stencil.enable",qh="stencil.mask",gf="stencil.func",th="stencil.opFront",lc="stencil.opBack",eh="scissor.enable",uc="scissor.box",Zs="viewport",cc="profile",$s="framebuffer",zi="vert",zl="frag",sl="elements",Ds="primitive",ll="count",fc="offset",hc="instances",ul="vao",Ha="Width",js="Height",kl=$s+Ha,Vl=$s+js,td=Zs+Ha,rh=Zs+js,di="drawingBuffer",pf=di+Ha,oo=di+js,fo=[cf,uf,gf,th,lc,vf,Zs,uc,Su],vi=34962,Io=34963,Cu=35632,nh=35633,ah=3553,Wd=34067,ho=2884,Fn=3042,dc=3024,zd=2960,Tu=2929,ih=3089,oh=32823,sh=32926,ed=32928,cl=5126,vc=35664,gc=35665,os=35666,Ls=5124,to=35667,yf=35668,fl=35669,mf=35670,hl=35671,Xl=35672,pc=35673,Au=35674,Hl=35675,Iu=35676,dl=35678,Pu=35680,lh=4,so=1028,vl=1029,uh=2304,bf=2305,rd=32775,ch=32776,fh=519,Rs=7680,hh=0,dh=1,yc=32774,nd=513,mc=36160,ds=36064,Yo={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},po=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],eo={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Po={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},vh={frag:Cu,vert:nh},bc={cw:uh,ccw:bf};function gl(qt){return Array.isArray(qt)||h(qt)||Wa(qt)}function gh(qt){return qt.sort(function(ae,De){return ae===Zs?-1:De===Zs?1:ae<De?-1:1})}function Do(qt,ae,De,fr){this.thisDep=qt,this.contextDep=ae,this.propDep=De,this.append=fr}function ws(qt){return qt&&!(qt.thisDep||qt.contextDep||qt.propDep)}function Yi(qt){return new Do(!1,!1,!1,qt)}function lo(qt,ae){var De=qt.type;if(De===Ou){var fr=qt.data.length;return new Do(!0,fr>=1,fr>=2,ae)}else if(De===nc){var Cr=qt.data;return new Do(Cr.thisDep,Cr.contextDep,Cr.propDep,ae)}else{if(De===Ps)return new Do(!1,!1,!1,ae);if(De===_f){for(var mr=!1,vr=!1,Vr=!1,rn=0;rn<qt.data.length;++rn){var Hr=qt.data[rn];if(Hr.type===Ul)Vr=!0;else if(Hr.type===of)vr=!0;else if(Hr.type===sf)mr=!0;else if(Hr.type===Ou){mr=!0;var Xr=Hr.data;Xr>=1&&(vr=!0),Xr>=2&&(Vr=!0)}else Hr.type===nc&&(mr=mr||Hr.data.thisDep,vr=vr||Hr.data.contextDep,Vr=Vr||Hr.data.propDep)}return new Do(mr,vr,Vr,ae)}else return new Do(De===sf,De===of,De===Ul,ae)}}var Yl=new Do(!1,!1,!1,function(){});function Kl(qt,ae,De,fr,Cr,mr,vr,Vr,rn,Hr,Xr,an,gn,sn,Jr){var gr=Hr.Record,hr={add:32774,subtract:32778,"reverse subtract":32779};De.ext_blend_minmax&&(hr.min=rd,hr.max=ch);var Yr=De.angle_instanced_arrays,On=De.webgl_draw_buffers,Tr={dirty:!0,profile:Jr.profile},Gn={},$r=[],Nr={},Gr={};function qr(Ee){return Ee.replace(".","_")}function Un(Ee,ue,Fe){var er=qr(Ee);$r.push(Ee),Gn[er]=Tr[er]=!!Fe,Nr[er]=ue}function aa(Ee,ue,Fe){var er=qr(Ee);$r.push(Ee),Array.isArray(Fe)?(Tr[er]=Fe.slice(),Gn[er]=Fe.slice()):Tr[er]=Gn[er]=Fe,Gr[er]=ue}Un(xu,dc),Un(Eu,Fn),aa(lf,"blendColor",[0,0,0,0]),aa(uf,"blendEquationSeparate",[yc,yc]),aa(cf,"blendFuncSeparate",[dh,hh,dh,hh]),Un(qf,Tu,!0),aa(ff,"depthFunc",nd),aa(ac,"depthRange",[0,1]),aa(hf,"depthMask",!0),aa(ic,ic,[!0,!0,!0,!0]),Un(df,ho),aa(oc,"cullFace",vl),aa(Wl,Wl,bf),aa(Mu,Mu,1),Un(co,oh),aa(Su,"polygonOffset",[0,0]),Un(sc,sh),Un(Jh,ed),aa(vf,"sampleCoverage",[1,!1]),Un(_h,zd),aa(qh,"stencilMask",-1),aa(gf,"stencilFunc",[fh,0,-1]),aa(th,"stencilOpSeparate",[so,Rs,Rs,Rs]),aa(lc,"stencilOpSeparate",[vl,Rs,Rs,Rs]),Un(eh,ih),aa(uc,"scissor",[0,0,qt.drawingBufferWidth,qt.drawingBufferHeight]),aa(Zs,Zs,[0,0,qt.drawingBufferWidth,qt.drawingBufferHeight]);var fn={gl:qt,context:gn,strings:ae,next:Gn,current:Tr,draw:an,elements:mr,buffer:Cr,shader:Xr,attributes:Hr.state,vao:Hr,uniforms:rn,framebuffer:Vr,extensions:De,timer:sn,isBufferArgs:gl},tn={primTypes:xe,compareFuncs:eo,blendFuncs:Yo,blendEquations:hr,stencilOps:Po,glTypes:Eo,orientationType:bc};j.optional(function(){fn.isArrayLike=Ea}),On&&(tn.backBuffer=[vl],tn.drawBuffer=Xe(fr.maxDrawbuffers,function(Ee){return Ee===0?[0]:Xe(Ee,function(ue){return ds+ue})}));var wr=0;function ea(){var Ee=Lr(),ue=Ee.link,Fe=Ee.global;Ee.id=wr++,Ee.batchId="0";var er=ue(fn),ir=Ee.shared={props:"a0"};Object.keys(fn).forEach(function(Re){ir[Re]=Fe.def(er,".",Re)}),j.optional(function(){Ee.CHECK=ue(j),Ee.commandStr=j.guessCommand(),Ee.command=ue(Ee.commandStr),Ee.assert=function(Re,pe,qe){Re("if(!(",pe,"))",this.CHECK,".commandRaise(",ue(qe),",",this.command,");")},tn.invalidBlendCombinations=po});var Ve=Ee.next={},Ge=Ee.current={};Object.keys(Gr).forEach(function(Re){Array.isArray(Tr[Re])&&(Ve[Re]=Fe.def(ir.next,".",Re),Ge[Re]=Fe.def(ir.current,".",Re))});var Je=Ee.constants={};Object.keys(tn).forEach(function(Re){Je[Re]=Fe.def(JSON.stringify(tn[Re]))}),Ee.invoke=function(Re,pe){switch(pe.type){case Ou:var qe=["this",ir.context,ir.props,Ee.batchId];return Re.def(ue(pe.data),".call(",qe.slice(0,Math.max(pe.data.length+1,4)),")");case Ul:return Re.def(ir.props,pe.data);case of:return Re.def(ir.context,pe.data);case sf:return Re.def("this",pe.data);case nc:return pe.data.append(Ee,Re),pe.data.ref;case Ps:return pe.data.toString();case _f:return pe.data.map(function(lr){return Ee.invoke(Re,lr)})}},Ee.attribCache={};var Me={};return Ee.scopeAttrib=function(Re){var pe=ae.id(Re);if(pe in Me)return Me[pe];var qe=Hr.scope[pe];qe||(qe=Hr.scope[pe]=new gr);var lr=Me[pe]=ue(qe);return lr},Ee}function Ca(Ee){var ue=Ee.static,Fe=Ee.dynamic,er;if(cc in ue){var ir=!!ue[cc];er=Yi(function(Ge,Je){return ir}),er.enable=ir}else if(cc in Fe){var Ve=Fe[cc];er=lo(Ve,function(Ge,Je){return Ge.invoke(Je,Ve)})}return er}function Pn(Ee,ue){var Fe=Ee.static,er=Ee.dynamic;if($s in Fe){var ir=Fe[$s];return ir?(ir=Vr.getFramebuffer(ir),j.command(ir,"invalid framebuffer object"),Yi(function(Ge,Je){var Me=Ge.link(ir),Re=Ge.shared;Je.set(Re.framebuffer,".next",Me);var pe=Re.context;return Je.set(pe,"."+kl,Me+".width"),Je.set(pe,"."+Vl,Me+".height"),Me})):Yi(function(Ge,Je){var Me=Ge.shared;Je.set(Me.framebuffer,".next","null");var Re=Me.context;return Je.set(Re,"."+kl,Re+"."+pf),Je.set(Re,"."+Vl,Re+"."+oo),"null"})}else if($s in er){var Ve=er[$s];return lo(Ve,function(Ge,Je){var Me=Ge.invoke(Je,Ve),Re=Ge.shared,pe=Re.framebuffer,qe=Je.def(pe,".getFramebuffer(",Me,")");j.optional(function(){Ge.assert(Je,"!"+Me+"||"+qe,"invalid framebuffer object")}),Je.set(pe,".next",qe);var lr=Re.context;return Je.set(lr,"."+kl,qe+"?"+qe+".width:"+lr+"."+pf),Je.set(lr,"."+Vl,qe+"?"+qe+".height:"+lr+"."+oo),qe})}else return null}function Ma(Ee,ue,Fe){var er=Ee.static,ir=Ee.dynamic;function Ve(Me){if(Me in er){var Re=er[Me];j.commandType(Re,"object","invalid "+Me,Fe.commandStr);var pe=!0,qe=Re.x|0,lr=Re.y|0,jr,Rr;return"width"in Re?(jr=Re.width|0,j.command(jr>=0,"invalid "+Me,Fe.commandStr)):pe=!1,"height"in Re?(Rr=Re.height|0,j.command(Rr>=0,"invalid "+Me,Fe.commandStr)):pe=!1,new Do(!pe&&ue&&ue.thisDep,!pe&&ue&&ue.contextDep,!pe&&ue&&ue.propDep,function(wn,kn){var jn=wn.shared.context,en=jr;"width"in Re||(en=kn.def(jn,".",kl,"-",qe));var ya=Rr;return"height"in Re||(ya=kn.def(jn,".",Vl,"-",lr)),[qe,lr,en,ya]})}else if(Me in ir){var Mr=ir[Me],_r=lo(Mr,function(wn,kn){var jn=wn.invoke(kn,Mr);j.optional(function(){wn.assert(kn,jn+"&&typeof "+jn+'==="object"',"invalid "+Me)});var en=wn.shared.context,ya=kn.def(jn,".x|0"),Ga=kn.def(jn,".y|0"),Ri=kn.def('"width" in ',jn,"?",jn,".width|0:","(",en,".",kl,"-",ya,")"),jo=kn.def('"height" in ',jn,"?",jn,".height|0:","(",en,".",Vl,"-",Ga,")");return j.optional(function(){wn.assert(kn,Ri+">=0&&"+jo+">=0","invalid "+Me)}),[ya,Ga,Ri,jo]});return ue&&(_r.thisDep=_r.thisDep||ue.thisDep,_r.contextDep=_r.contextDep||ue.contextDep,_r.propDep=_r.propDep||ue.propDep),_r}else return ue?new Do(ue.thisDep,ue.contextDep,ue.propDep,function(wn,kn){var jn=wn.shared.context;return[0,0,kn.def(jn,".",kl),kn.def(jn,".",Vl)]}):null}var Ge=Ve(Zs);if(Ge){var Je=Ge;Ge=new Do(Ge.thisDep,Ge.contextDep,Ge.propDep,function(Me,Re){var pe=Je.append(Me,Re),qe=Me.shared.context;return Re.set(qe,"."+td,pe[2]),Re.set(qe,"."+rh,pe[3]),pe})}return{viewport:Ge,scissor_box:Ve(uc)}}function ha(Ee,ue){var Fe=Ee.static,er=typeof Fe[zl]=="string"&&typeof Fe[zi]=="string";if(er){if(Object.keys(ue.dynamic).length>0)return null;var ir=ue.static,Ve=Object.keys(ir);if(Ve.length>0&&typeof ir[Ve[0]]=="number"){for(var Ge=[],Je=0;Je<Ve.length;++Je)j(typeof ir[Ve[Je]]=="number","must specify all vertex attribute locations when using vaos"),Ge.push([ir[Ve[Je]]|0,Ve[Je]]);return Ge}}return null}function Ta(Ee,ue,Fe){var er=Ee.static,ir=Ee.dynamic;function Ve(pe){if(pe in er){var qe=ae.id(er[pe]);j.optional(function(){Xr.shader(vh[pe],qe,j.guessCommand())});var lr=Yi(function(){return qe});return lr.id=qe,lr}else if(pe in ir){var jr=ir[pe];return lo(jr,function(Rr,Mr){var _r=Rr.invoke(Mr,jr),wn=Mr.def(Rr.shared.strings,".id(",_r,")");return j.optional(function(){Mr(Rr.shared.shader,".shader(",vh[pe],",",wn,",",Rr.command,");")}),wn})}return null}var Ge=Ve(zl),Je=Ve(zi),Me=null,Re;return ws(Ge)&&ws(Je)?(Me=Xr.program(Je.id,Ge.id,null,Fe),Re=Yi(function(pe,qe){return pe.link(Me)})):Re=new Do(Ge&&Ge.thisDep||Je&&Je.thisDep,Ge&&Ge.contextDep||Je&&Je.contextDep,Ge&&Ge.propDep||Je&&Je.propDep,function(pe,qe){var lr=pe.shared.shader,jr;Ge?jr=Ge.append(pe,qe):jr=qe.def(lr,".",zl);var Rr;Je?Rr=Je.append(pe,qe):Rr=qe.def(lr,".",zi);var Mr=lr+".program("+Rr+","+jr;return j.optional(function(){Mr+=","+pe.command}),qe.def(Mr+")")}),{frag:Ge,vert:Je,progVar:Re,program:Me}}function Za(Ee,ue){var Fe=Ee.static,er=Ee.dynamic;function ir(){if(sl in Fe){var pe=Fe[sl];gl(pe)?pe=mr.getElements(mr.create(pe,!0)):pe&&(pe=mr.getElements(pe),j.command(pe,"invalid elements",ue.commandStr));var qe=Yi(function(jr,Rr){if(pe){var Mr=jr.link(pe);return jr.ELEMENTS=Mr,Mr}return jr.ELEMENTS=null,null});return qe.value=pe,qe}else if(sl in er){var lr=er[sl];return lo(lr,function(jr,Rr){var Mr=jr.shared,_r=Mr.isBufferArgs,wn=Mr.elements,kn=jr.invoke(Rr,lr),jn=Rr.def("null"),en=Rr.def(_r,"(",kn,")"),ya=jr.cond(en).then(jn,"=",wn,".createStream(",kn,");").else(jn,"=",wn,".getElements(",kn,");");return j.optional(function(){jr.assert(ya.else,"!"+kn+"||"+jn,"invalid elements")}),Rr.entry(ya),Rr.exit(jr.cond(en).then(wn,".destroyStream(",jn,");")),jr.ELEMENTS=jn,jn})}return null}var Ve=ir();function Ge(){if(Ds in Fe){var pe=Fe[Ds];return j.commandParameter(pe,xe,"invalid primitve",ue.commandStr),Yi(function(lr,jr){return xe[pe]})}else if(Ds in er){var qe=er[Ds];return lo(qe,function(lr,jr){var Rr=lr.constants.primTypes,Mr=lr.invoke(jr,qe);return j.optional(function(){lr.assert(jr,Mr+" in "+Rr,"invalid primitive, must be one of "+Object.keys(xe))}),jr.def(Rr,"[",Mr,"]")})}else if(Ve)return ws(Ve)?Ve.value?Yi(function(lr,jr){return jr.def(lr.ELEMENTS,".primType")}):Yi(function(){return lh}):new Do(Ve.thisDep,Ve.contextDep,Ve.propDep,function(lr,jr){var Rr=lr.ELEMENTS;return jr.def(Rr,"?",Rr,".primType:",lh)});return null}function Je(pe,qe){if(pe in Fe){var lr=Fe[pe]|0;return j.command(!qe||lr>=0,"invalid "+pe,ue.commandStr),Yi(function(Rr,Mr){return qe&&(Rr.OFFSET=lr),lr})}else if(pe in er){var jr=er[pe];return lo(jr,function(Rr,Mr){var _r=Rr.invoke(Mr,jr);return qe&&(Rr.OFFSET=_r,j.optional(function(){Rr.assert(Mr,_r+">=0","invalid "+pe)})),_r})}else if(qe&&Ve)return Yi(function(Rr,Mr){return Rr.OFFSET="0",0});return null}var Me=Je(fc,!0);function Re(){if(ll in Fe){var pe=Fe[ll]|0;return j.command(typeof pe=="number"&&pe>=0,"invalid vertex count",ue.commandStr),Yi(function(){return pe})}else if(ll in er){var qe=er[ll];return lo(qe,function(Rr,Mr){var _r=Rr.invoke(Mr,qe);return j.optional(function(){Rr.assert(Mr,"typeof "+_r+'==="number"&&'+_r+">=0&&"+_r+"===("+_r+"|0)","invalid vertex count")}),_r})}else if(Ve)if(ws(Ve)){if(Ve)return Me?new Do(Me.thisDep,Me.contextDep,Me.propDep,function(Rr,Mr){var _r=Mr.def(Rr.ELEMENTS,".vertCount-",Rr.OFFSET);return j.optional(function(){Rr.assert(Mr,_r+">=0","invalid vertex offset/element buffer too small")}),_r}):Yi(function(Rr,Mr){return Mr.def(Rr.ELEMENTS,".vertCount")});var lr=Yi(function(){return-1});return j.optional(function(){lr.MISSING=!0}),lr}else{var jr=new Do(Ve.thisDep||Me.thisDep,Ve.contextDep||Me.contextDep,Ve.propDep||Me.propDep,function(Rr,Mr){var _r=Rr.ELEMENTS;return Rr.OFFSET?Mr.def(_r,"?",_r,".vertCount-",Rr.OFFSET,":-1"):Mr.def(_r,"?",_r,".vertCount:-1")});return j.optional(function(){jr.DYNAMIC=!0}),jr}return null}return{elements:Ve,primitive:Ge(),count:Re(),instances:Je(hc,!1),offset:Me}}function Li(Ee,ue){var Fe=Ee.static,er=Ee.dynamic,ir={};return $r.forEach(function(Ve){var Ge=qr(Ve);function Je(Me,Re){if(Ve in Fe){var pe=Me(Fe[Ve]);ir[Ge]=Yi(function(){return pe})}else if(Ve in er){var qe=er[Ve];ir[Ge]=lo(qe,function(lr,jr){return Re(lr,jr,lr.invoke(jr,qe))})}}switch(Ve){case df:case Eu:case xu:case _h:case qf:case eh:case co:case sc:case Jh:case hf:return Je(function(Me){return j.commandType(Me,"boolean",Ve,ue.commandStr),Me},function(Me,Re,pe){return j.optional(function(){Me.assert(Re,"typeof "+pe+'==="boolean"',"invalid flag "+Ve,Me.commandStr)}),pe});case ff:return Je(function(Me){return j.commandParameter(Me,eo,"invalid "+Ve,ue.commandStr),eo[Me]},function(Me,Re,pe){var qe=Me.constants.compareFuncs;return j.optional(function(){Me.assert(Re,pe+" in "+qe,"invalid "+Ve+", must be one of "+Object.keys(eo))}),Re.def(qe,"[",pe,"]")});case ac:return Je(function(Me){return j.command(Ea(Me)&&Me.length===2&&typeof Me[0]=="number"&&typeof Me[1]=="number"&&Me[0]<=Me[1],"depth range is 2d array",ue.commandStr),Me},function(Me,Re,pe){j.optional(function(){Me.assert(Re,Me.shared.isArrayLike+"("+pe+")&&"+pe+".length===2&&typeof "+pe+'[0]==="number"&&typeof '+pe+'[1]==="number"&&'+pe+"[0]<="+pe+"[1]","depth range must be a 2d array")});var qe=Re.def("+",pe,"[0]"),lr=Re.def("+",pe,"[1]");return[qe,lr]});case cf:return Je(function(Me){j.commandType(Me,"object","blend.func",ue.commandStr);var Re="srcRGB"in Me?Me.srcRGB:Me.src,pe="srcAlpha"in Me?Me.srcAlpha:Me.src,qe="dstRGB"in Me?Me.dstRGB:Me.dst,lr="dstAlpha"in Me?Me.dstAlpha:Me.dst;return j.commandParameter(Re,Yo,Ge+".srcRGB",ue.commandStr),j.commandParameter(pe,Yo,Ge+".srcAlpha",ue.commandStr),j.commandParameter(qe,Yo,Ge+".dstRGB",ue.commandStr),j.commandParameter(lr,Yo,Ge+".dstAlpha",ue.commandStr),j.command(po.indexOf(Re+", "+qe)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Re+", "+qe+")",ue.commandStr),[Yo[Re],Yo[qe],Yo[pe],Yo[lr]]},function(Me,Re,pe){var qe=Me.constants.blendFuncs;j.optional(function(){Me.assert(Re,pe+"&&typeof "+pe+'==="object"',"invalid blend func, must be an object")});function lr(jn,en){var ya=Re.def('"',jn,en,'" in ',pe,"?",pe,".",jn,en,":",pe,".",jn);return j.optional(function(){Me.assert(Re,ya+" in "+qe,"invalid "+Ve+"."+jn+en+", must be one of "+Object.keys(Yo))}),ya}var jr=lr("src","RGB"),Rr=lr("dst","RGB");j.optional(function(){var jn=Me.constants.invalidBlendCombinations;Me.assert(Re,jn+".indexOf("+jr+'+", "+'+Rr+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Mr=Re.def(qe,"[",jr,"]"),_r=Re.def(qe,"[",lr("src","Alpha"),"]"),wn=Re.def(qe,"[",Rr,"]"),kn=Re.def(qe,"[",lr("dst","Alpha"),"]");return[Mr,wn,_r,kn]});case uf:return Je(function(Me){if(typeof Me=="string")return j.commandParameter(Me,hr,"invalid "+Ve,ue.commandStr),[hr[Me],hr[Me]];if(typeof Me=="object")return j.commandParameter(Me.rgb,hr,Ve+".rgb",ue.commandStr),j.commandParameter(Me.alpha,hr,Ve+".alpha",ue.commandStr),[hr[Me.rgb],hr[Me.alpha]];j.commandRaise("invalid blend.equation",ue.commandStr)},function(Me,Re,pe){var qe=Me.constants.blendEquations,lr=Re.def(),jr=Re.def(),Rr=Me.cond("typeof ",pe,'==="string"');return j.optional(function(){function Mr(_r,wn,kn){Me.assert(_r,kn+" in "+qe,"invalid "+wn+", must be one of "+Object.keys(hr))}Mr(Rr.then,Ve,pe),Me.assert(Rr.else,pe+"&&typeof "+pe+'==="object"',"invalid "+Ve),Mr(Rr.else,Ve+".rgb",pe+".rgb"),Mr(Rr.else,Ve+".alpha",pe+".alpha")}),Rr.then(lr,"=",jr,"=",qe,"[",pe,"];"),Rr.else(lr,"=",qe,"[",pe,".rgb];",jr,"=",qe,"[",pe,".alpha];"),Re(Rr),[lr,jr]});case lf:return Je(function(Me){return j.command(Ea(Me)&&Me.length===4,"blend.color must be a 4d array",ue.commandStr),Xe(4,function(Re){return+Me[Re]})},function(Me,Re,pe){return j.optional(function(){Me.assert(Re,Me.shared.isArrayLike+"("+pe+")&&"+pe+".length===4","blend.color must be a 4d array")}),Xe(4,function(qe){return Re.def("+",pe,"[",qe,"]")})});case qh:return Je(function(Me){return j.commandType(Me,"number",Ge,ue.commandStr),Me|0},function(Me,Re,pe){return j.optional(function(){Me.assert(Re,"typeof "+pe+'==="number"',"invalid stencil.mask")}),Re.def(pe,"|0")});case gf:return Je(function(Me){j.commandType(Me,"object",Ge,ue.commandStr);var Re=Me.cmp||"keep",pe=Me.ref||0,qe="mask"in Me?Me.mask:-1;return j.commandParameter(Re,eo,Ve+".cmp",ue.commandStr),j.commandType(pe,"number",Ve+".ref",ue.commandStr),j.commandType(qe,"number",Ve+".mask",ue.commandStr),[eo[Re],pe,qe]},function(Me,Re,pe){var qe=Me.constants.compareFuncs;j.optional(function(){function Mr(){Me.assert(Re,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Mr(pe+"&&typeof ",pe,'==="object"'),Mr('!("cmp" in ',pe,")||(",pe,".cmp in ",qe,")")});var lr=Re.def('"cmp" in ',pe,"?",qe,"[",pe,".cmp]",":",Rs),jr=Re.def(pe,".ref|0"),Rr=Re.def('"mask" in ',pe,"?",pe,".mask|0:-1");return[lr,jr,Rr]});case th:case lc:return Je(function(Me){j.commandType(Me,"object",Ge,ue.commandStr);var Re=Me.fail||"keep",pe=Me.zfail||"keep",qe=Me.zpass||"keep";return j.commandParameter(Re,Po,Ve+".fail",ue.commandStr),j.commandParameter(pe,Po,Ve+".zfail",ue.commandStr),j.commandParameter(qe,Po,Ve+".zpass",ue.commandStr),[Ve===lc?vl:so,Po[Re],Po[pe],Po[qe]]},function(Me,Re,pe){var qe=Me.constants.stencilOps;j.optional(function(){Me.assert(Re,pe+"&&typeof "+pe+'==="object"',"invalid "+Ve)});function lr(jr){return j.optional(function(){Me.assert(Re,'!("'+jr+'" in '+pe+")||("+pe+"."+jr+" in "+qe+")","invalid "+Ve+"."+jr+", must be one of "+Object.keys(Po))}),Re.def('"',jr,'" in ',pe,"?",qe,"[",pe,".",jr,"]:",Rs)}return[Ve===lc?vl:so,lr("fail"),lr("zfail"),lr("zpass")]});case Su:return Je(function(Me){j.commandType(Me,"object",Ge,ue.commandStr);var Re=Me.factor|0,pe=Me.units|0;return j.commandType(Re,"number",Ge+".factor",ue.commandStr),j.commandType(pe,"number",Ge+".units",ue.commandStr),[Re,pe]},function(Me,Re,pe){j.optional(function(){Me.assert(Re,pe+"&&typeof "+pe+'==="object"',"invalid "+Ve)});var qe=Re.def(pe,".factor|0"),lr=Re.def(pe,".units|0");return[qe,lr]});case oc:return Je(function(Me){var Re=0;return Me==="front"?Re=so:Me==="back"&&(Re=vl),j.command(!!Re,Ge,ue.commandStr),Re},function(Me,Re,pe){return j.optional(function(){Me.assert(Re,pe+'==="front"||'+pe+'==="back"',"invalid cull.face")}),Re.def(pe,'==="front"?',so,":",vl)});case Mu:return Je(function(Me){return j.command(typeof Me=="number"&&Me>=fr.lineWidthDims[0]&&Me<=fr.lineWidthDims[1],"invalid line width, must be a positive number between "+fr.lineWidthDims[0]+" and "+fr.lineWidthDims[1],ue.commandStr),Me},function(Me,Re,pe){return j.optional(function(){Me.assert(Re,"typeof "+pe+'==="number"&&'+pe+">="+fr.lineWidthDims[0]+"&&"+pe+"<="+fr.lineWidthDims[1],"invalid line width")}),pe});case Wl:return Je(function(Me){return j.commandParameter(Me,bc,Ge,ue.commandStr),bc[Me]},function(Me,Re,pe){return j.optional(function(){Me.assert(Re,pe+'==="cw"||'+pe+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Re.def(pe+'==="cw"?'+uh+":"+bf)});case ic:return Je(function(Me){return j.command(Ea(Me)&&Me.length===4,"color.mask must be length 4 array",ue.commandStr),Me.map(function(Re){return!!Re})},function(Me,Re,pe){return j.optional(function(){Me.assert(Re,Me.shared.isArrayLike+"("+pe+")&&"+pe+".length===4","invalid color.mask")}),Xe(4,function(qe){return"!!"+pe+"["+qe+"]"})});case vf:return Je(function(Me){j.command(typeof Me=="object"&&Me,Ge,ue.commandStr);var Re="value"in Me?Me.value:1,pe=!!Me.invert;return j.command(typeof Re=="number"&&Re>=0&&Re<=1,"sample.coverage.value must be a number between 0 and 1",ue.commandStr),[Re,pe]},function(Me,Re,pe){j.optional(function(){Me.assert(Re,pe+"&&typeof "+pe+'==="object"',"invalid sample.coverage")});var qe=Re.def('"value" in ',pe,"?+",pe,".value:1"),lr=Re.def("!!",pe,".invert");return[qe,lr]})}}),ir}function ro(Ee,ue){var Fe=Ee.static,er=Ee.dynamic,ir={};return Object.keys(Fe).forEach(function(Ve){var Ge=Fe[Ve],Je;if(typeof Ge=="number"||typeof Ge=="boolean")Je=Yi(function(){return Ge});else if(typeof Ge=="function"){var Me=Ge._reglType;Me==="texture2d"||Me==="textureCube"?Je=Yi(function(Re){return Re.link(Ge)}):Me==="framebuffer"||Me==="framebufferCube"?(j.command(Ge.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Ve+'"',ue.commandStr),Je=Yi(function(Re){return Re.link(Ge.color[0])})):j.commandRaise('invalid data for uniform "'+Ve+'"',ue.commandStr)}else Ea(Ge)?Je=Yi(function(Re){var pe=Re.global.def("[",Xe(Ge.length,function(qe){return j.command(typeof Ge[qe]=="number"||typeof Ge[qe]=="boolean","invalid uniform "+Ve,Re.commandStr),Ge[qe]}),"]");return pe}):j.commandRaise('invalid or missing data for uniform "'+Ve+'"',ue.commandStr);Je.value=Ge,ir[Ve]=Je}),Object.keys(er).forEach(function(Ve){var Ge=er[Ve];ir[Ve]=lo(Ge,function(Je,Me){return Je.invoke(Me,Ge)})}),ir}function Ra(Ee,ue){var Fe=Ee.static,er=Ee.dynamic,ir={};return Object.keys(Fe).forEach(function(Ve){var Ge=Fe[Ve],Je=ae.id(Ve),Me=new gr;if(gl(Ge))Me.state=ol,Me.buffer=Cr.getBuffer(Cr.create(Ge,vi,!1,!0)),Me.type=0;else{var Re=Cr.getBuffer(Ge);if(Re)Me.state=ol,Me.buffer=Re,Me.type=0;else if(j.command(typeof Ge=="object"&&Ge,"invalid data for attribute "+Ve,ue.commandStr),"constant"in Ge){var pe=Ge.constant;Me.buffer="null",Me.state=af,typeof pe=="number"?Me.x=pe:(j.command(Ea(pe)&&pe.length>0&&pe.length<=4,"invalid constant for attribute "+Ve,ue.commandStr),il.forEach(function(wn,kn){kn<pe.length&&(Me[wn]=pe[kn])}))}else{gl(Ge.buffer)?Re=Cr.getBuffer(Cr.create(Ge.buffer,vi,!1,!0)):Re=Cr.getBuffer(Ge.buffer),j.command(!!Re,'missing buffer for attribute "'+Ve+'"',ue.commandStr);var qe=Ge.offset|0;j.command(qe>=0,'invalid offset for attribute "'+Ve+'"',ue.commandStr);var lr=Ge.stride|0;j.command(lr>=0&&lr<256,'invalid stride for attribute "'+Ve+'", must be integer betweeen [0, 255]',ue.commandStr);var jr=Ge.size|0;j.command(!("size"in Ge)||jr>0&&jr<=4,'invalid size for attribute "'+Ve+'", must be 1,2,3,4',ue.commandStr);var Rr=!!Ge.normalized,Mr=0;"type"in Ge&&(j.commandParameter(Ge.type,Eo,"invalid type for attribute "+Ve,ue.commandStr),Mr=Eo[Ge.type]);var _r=Ge.divisor|0;"divisor"in Ge&&(j.command(_r===0||Yr,'cannot specify divisor for attribute "'+Ve+'", instancing not supported',ue.commandStr),j.command(_r>=0,'invalid divisor for attribute "'+Ve+'"',ue.commandStr)),j.optional(function(){var wn=ue.commandStr,kn=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Ge).forEach(function(jn){j.command(kn.indexOf(jn)>=0,'unknown parameter "'+jn+'" for attribute pointer "'+Ve+'" (valid parameters are '+kn+")",wn)})}),Me.buffer=Re,Me.state=ol,Me.size=jr,Me.normalized=Rr,Me.type=Mr||Re.dtype,Me.offset=qe,Me.stride=lr,Me.divisor=_r}}ir[Ve]=Yi(function(wn,kn){var jn=wn.attribCache;if(Je in jn)return jn[Je];var en={isStream:!1};return Object.keys(Me).forEach(function(ya){en[ya]=Me[ya]}),Me.buffer&&(en.buffer=wn.link(Me.buffer),en.type=en.type||en.buffer+".dtype"),jn[Je]=en,en})}),Object.keys(er).forEach(function(Ve){var Ge=er[Ve];function Je(Me,Re){var pe=Me.invoke(Re,Ge),qe=Me.shared,lr=Me.constants,jr=qe.isBufferArgs,Rr=qe.buffer;j.optional(function(){Me.assert(Re,pe+"&&(typeof "+pe+'==="object"||typeof '+pe+'==="function")&&('+jr+"("+pe+")||"+Rr+".getBuffer("+pe+")||"+Rr+".getBuffer("+pe+".buffer)||"+jr+"("+pe+'.buffer)||("constant" in '+pe+"&&(typeof "+pe+'.constant==="number"||'+qe.isArrayLike+"("+pe+".constant))))",'invalid dynamic attribute "'+Ve+'"')});var Mr={isStream:Re.def(!1)},_r=new gr;_r.state=ol,Object.keys(_r).forEach(function(en){Mr[en]=Re.def(""+_r[en])});var wn=Mr.buffer,kn=Mr.type;Re("if(",jr,"(",pe,")){",Mr.isStream,"=true;",wn,"=",Rr,".createStream(",vi,",",pe,");",kn,"=",wn,".dtype;","}else{",wn,"=",Rr,".getBuffer(",pe,");","if(",wn,"){",kn,"=",wn,".dtype;",'}else if("constant" in ',pe,"){",Mr.state,"=",af,";","if(typeof "+pe+'.constant === "number"){',Mr[il[0]],"=",pe,".constant;",il.slice(1).map(function(en){return Mr[en]}).join("="),"=0;","}else{",il.map(function(en,ya){return Mr[en]+"="+pe+".constant.length>"+ya+"?"+pe+".constant["+ya+"]:0;"}).join(""),"}}else{","if(",jr,"(",pe,".buffer)){",wn,"=",Rr,".createStream(",vi,",",pe,".buffer);","}else{",wn,"=",Rr,".getBuffer(",pe,".buffer);","}",kn,'="type" in ',pe,"?",lr.glTypes,"[",pe,".type]:",wn,".dtype;",Mr.normalized,"=!!",pe,".normalized;");function jn(en){Re(Mr[en],"=",pe,".",en,"|0;")}return jn("size"),jn("offset"),jn("stride"),jn("divisor"),Re("}}"),Re.exit("if(",Mr.isStream,"){",Rr,".destroyStream(",wn,");","}"),Mr}ir[Ve]=lo(Ge,Je)}),ir}function Zi(Ee,ue){var Fe=Ee.static,er=Ee.dynamic;if(ul in Fe){var ir=Fe[ul];return ir!==null&&Hr.getVAO(ir)===null&&(ir=Hr.createVAO(ir)),Yi(function(Ge){return Ge.link(Hr.getVAO(ir))})}else if(ul in er){var Ve=er[ul];return lo(Ve,function(Ge,Je){var Me=Ge.invoke(Je,Ve);return Je.def(Ge.shared.vao+".getVAO("+Me+")")})}return null}function xi(Ee){var ue=Ee.static,Fe=Ee.dynamic,er={};return Object.keys(ue).forEach(function(ir){var Ve=ue[ir];er[ir]=Yi(function(Ge,Je){return typeof Ve=="number"||typeof Ve=="boolean"?""+Ve:Ge.link(Ve)})}),Object.keys(Fe).forEach(function(ir){var Ve=Fe[ir];er[ir]=lo(Ve,function(Ge,Je){return Ge.invoke(Je,Ve)})}),er}function Ai(Ee,ue,Fe,er,ir){var Ve=Ee.static,Ge=Ee.dynamic;j.optional(function(){var jn=[$s,zi,zl,sl,Ds,fc,ll,hc,cc,ul].concat($r);function en(ya){Object.keys(ya).forEach(function(Ga){j.command(jn.indexOf(Ga)>=0,'unknown parameter "'+Ga+'"',ir.commandStr)})}en(Ve),en(Ge)});var Je=ha(Ee,ue),Me=Pn(Ee,ir),Re=Ma(Ee,Me,ir),pe=Za(Ee,ir),qe=Li(Ee,ir),lr=Ta(Ee,ir,Je);function jr(jn){var en=Re[jn];en&&(qe[jn]=en)}jr(Zs),jr(qr(uc));var Rr=Object.keys(qe).length>0,Mr={framebuffer:Me,draw:pe,shader:lr,state:qe,dirty:Rr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Mr.profile=Ca(Ee,ir),Mr.uniforms=ro(Fe,ir),Mr.drawVAO=Mr.scopeVAO=Zi(Ee,ir),!Mr.drawVAO&&lr.program&&!Je&&De.angle_instanced_arrays){var _r=!0,wn=lr.program.attributes.map(function(jn){var en=ue.static[jn];return _r=_r&&!!en,en});if(_r&&wn.length>0){var kn=Hr.getVAO(Hr.createVAO(wn));Mr.drawVAO=new Do(null,null,null,function(jn,en){return jn.link(kn)}),Mr.useVAO=!0}}return Je?Mr.useVAO=!0:Mr.attributes=Ra(ue,ir),Mr.context=xi(er,ir),Mr}function Ii(Ee,ue,Fe){var er=Ee.shared,ir=er.context,Ve=Ee.scope();Object.keys(Fe).forEach(function(Ge){ue.save(ir,"."+Ge);var Je=Fe[Ge],Me=Je.append(Ee,ue);Array.isArray(Me)?Ve(ir,".",Ge,"=[",Me.join(),"];"):Ve(ir,".",Ge,"=",Me,";")}),ue(Ve)}function Pi(Ee,ue,Fe,er){var ir=Ee.shared,Ve=ir.gl,Ge=ir.framebuffer,Je;On&&(Je=ue.def(ir.extensions,".webgl_draw_buffers"));var Me=Ee.constants,Re=Me.drawBuffer,pe=Me.backBuffer,qe;Fe?qe=Fe.append(Ee,ue):qe=ue.def(Ge,".next"),er||ue("if(",qe,"!==",Ge,".cur){"),ue("if(",qe,"){",Ve,".bindFramebuffer(",mc,",",qe,".framebuffer);"),On&&ue(Je,".drawBuffersWEBGL(",Re,"[",qe,".colorAttachments.length]);"),ue("}else{",Ve,".bindFramebuffer(",mc,",null);"),On&&ue(Je,".drawBuffersWEBGL(",pe,");"),ue("}",Ge,".cur=",qe,";"),er||ue("}")}function $i(Ee,ue,Fe){var er=Ee.shared,ir=er.gl,Ve=Ee.current,Ge=Ee.next,Je=er.current,Me=er.next,Re=Ee.cond(Je,".dirty");$r.forEach(function(pe){var qe=qr(pe);if(!(qe in Fe.state)){var lr,jr;if(qe in Ge){lr=Ge[qe],jr=Ve[qe];var Rr=Xe(Tr[qe].length,function(_r){return Re.def(lr,"[",_r,"]")});Re(Ee.cond(Rr.map(function(_r,wn){return _r+"!=="+jr+"["+wn+"]"}).join("||")).then(ir,".",Gr[qe],"(",Rr,");",Rr.map(function(_r,wn){return jr+"["+wn+"]="+_r}).join(";"),";"))}else{lr=Re.def(Me,".",qe);var Mr=Ee.cond(lr,"!==",Je,".",qe);Re(Mr),qe in Nr?Mr(Ee.cond(lr).then(ir,".enable(",Nr[qe],");").else(ir,".disable(",Nr[qe],");"),Je,".",qe,"=",lr,";"):Mr(ir,".",Gr[qe],"(",lr,");",Je,".",qe,"=",lr,";")}}}),Object.keys(Fe.state).length===0&&Re(Je,".dirty=false;"),ue(Re)}function Fi(Ee,ue,Fe,er){var ir=Ee.shared,Ve=Ee.current,Ge=ir.current,Je=ir.gl;gh(Object.keys(Fe)).forEach(function(Me){var Re=Fe[Me];if(!(er&&!er(Re))){var pe=Re.append(Ee,ue);if(Nr[Me]){var qe=Nr[Me];ws(Re)?pe?ue(Je,".enable(",qe,");"):ue(Je,".disable(",qe,");"):ue(Ee.cond(pe).then(Je,".enable(",qe,");").else(Je,".disable(",qe,");")),ue(Ge,".",Me,"=",pe,";")}else if(Ea(pe)){var lr=Ve[Me];ue(Je,".",Gr[Me],"(",pe,");",pe.map(function(jr,Rr){return lr+"["+Rr+"]="+jr}).join(";"),";")}else ue(Je,".",Gr[Me],"(",pe,");",Ge,".",Me,"=",pe,";")}})}function li(Ee,ue){Yr&&(Ee.instancing=ue.def(Ee.shared.extensions,".angle_instanced_arrays"))}function Aa(Ee,ue,Fe,er,ir){var Ve=Ee.shared,Ge=Ee.stats,Je=Ve.current,Me=Ve.timer,Re=Fe.profile;function pe(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var qe,lr;function jr(jn){qe=ue.def(),jn(qe,"=",pe(),";"),typeof ir=="string"?jn(Ge,".count+=",ir,";"):jn(Ge,".count++;"),sn&&(er?(lr=ue.def(),jn(lr,"=",Me,".getNumPendingQueries();")):jn(Me,".beginQuery(",Ge,");"))}function Rr(jn){jn(Ge,".cpuTime+=",pe(),"-",qe,";"),sn&&(er?jn(Me,".pushScopeStats(",lr,",",Me,".getNumPendingQueries(),",Ge,");"):jn(Me,".endQuery();"))}function Mr(jn){var en=ue.def(Je,".profile");ue(Je,".profile=",jn,";"),ue.exit(Je,".profile=",en,";")}var _r;if(Re){if(ws(Re)){Re.enable?(jr(ue),Rr(ue.exit),Mr("true")):Mr("false");return}_r=Re.append(Ee,ue),Mr(_r)}else _r=ue.def(Je,".profile");var wn=Ee.block();jr(wn),ue("if(",_r,"){",wn,"}");var kn=Ee.block();Rr(kn),ue.exit("if(",_r,"){",kn,"}")}function no(Ee,ue,Fe,er,ir){var Ve=Ee.shared;function Ge(Me){switch(Me){case vc:case to:case hl:return 2;case gc:case yf:case Xl:return 3;case os:case fl:case pc:return 4;default:return 1}}function Je(Me,Re,pe){var qe=Ve.gl,lr=ue.def(Me,".location"),jr=ue.def(Ve.attributes,"[",lr,"]"),Rr=pe.state,Mr=pe.buffer,_r=[pe.x,pe.y,pe.z,pe.w],wn=["buffer","normalized","offset","stride"];function kn(){ue("if(!",jr,".buffer){",qe,".enableVertexAttribArray(",lr,");}");var en=pe.type,ya;if(pe.size?ya=ue.def(pe.size,"||",Re):ya=Re,ue("if(",jr,".type!==",en,"||",jr,".size!==",ya,"||",wn.map(function(Ri){return jr+"."+Ri+"!=="+pe[Ri]}).join("||"),"){",qe,".bindBuffer(",vi,",",Mr,".buffer);",qe,".vertexAttribPointer(",[lr,ya,en,pe.normalized,pe.stride,pe.offset],");",jr,".type=",en,";",jr,".size=",ya,";",wn.map(function(Ri){return jr+"."+Ri+"="+pe[Ri]+";"}).join(""),"}"),Yr){var Ga=pe.divisor;ue("if(",jr,".divisor!==",Ga,"){",Ee.instancing,".vertexAttribDivisorANGLE(",[lr,Ga],");",jr,".divisor=",Ga,";}")}}function jn(){ue("if(",jr,".buffer){",qe,".disableVertexAttribArray(",lr,");",jr,".buffer=null;","}if(",il.map(function(en,ya){return jr+"."+en+"!=="+_r[ya]}).join("||"),"){",qe,".vertexAttrib4f(",lr,",",_r,");",il.map(function(en,ya){return jr+"."+en+"="+_r[ya]+";"}).join(""),"}")}Rr===ol?kn():Rr===af?jn():(ue("if(",Rr,"===",ol,"){"),kn(),ue("}else{"),jn(),ue("}"))}er.forEach(function(Me){var Re=Me.name,pe=Fe.attributes[Re],qe;if(pe){if(!ir(pe))return;qe=pe.append(Ee,ue)}else{if(!ir(Yl))return;var lr=Ee.scopeAttrib(Re);j.optional(function(){Ee.assert(ue,lr+".state","missing attribute "+Re)}),qe={},Object.keys(new gr).forEach(function(jr){qe[jr]=ue.def(lr,".",jr)})}Je(Ee.link(Me),Ge(Me.info.type),qe)})}function _a(Ee,ue,Fe,er,ir){for(var Ve=Ee.shared,Ge=Ve.gl,Je,Me=0;Me<er.length;++Me){var Re=er[Me],pe=Re.name,qe=Re.info.type,lr=Fe.uniforms[pe],jr=Ee.link(Re),Rr=jr+".location",Mr;if(lr){if(!ir(lr))continue;if(ws(lr)){var _r=lr.value;if(j.command(_r!==null&&typeof _r!="undefined",'missing uniform "'+pe+'"',Ee.commandStr),qe===dl||qe===Pu){j.command(typeof _r=="function"&&(qe===dl&&(_r._reglType==="texture2d"||_r._reglType==="framebuffer")||qe===Pu&&(_r._reglType==="textureCube"||_r._reglType==="framebufferCube")),"invalid texture for uniform "+pe,Ee.commandStr);var wn=Ee.link(_r._texture||_r.color[0]._texture);ue(Ge,".uniform1i(",Rr,",",wn+".bind());"),ue.exit(wn,".unbind();")}else if(qe===Au||qe===Hl||qe===Iu){j.optional(function(){j.command(Ea(_r),"invalid matrix for uniform "+pe,Ee.commandStr),j.command(qe===Au&&_r.length===4||qe===Hl&&_r.length===9||qe===Iu&&_r.length===16,"invalid length for matrix uniform "+pe,Ee.commandStr)});var kn=Ee.global.def("new Float32Array(["+Array.prototype.slice.call(_r)+"])"),jn=2;qe===Hl?jn=3:qe===Iu&&(jn=4),ue(Ge,".uniformMatrix",jn,"fv(",Rr,",false,",kn,");")}else{switch(qe){case cl:j.commandType(_r,"number","uniform "+pe,Ee.commandStr),Je="1f";break;case vc:j.command(Ea(_r)&&_r.length===2,"uniform "+pe,Ee.commandStr),Je="2f";break;case gc:j.command(Ea(_r)&&_r.length===3,"uniform "+pe,Ee.commandStr),Je="3f";break;case os:j.command(Ea(_r)&&_r.length===4,"uniform "+pe,Ee.commandStr),Je="4f";break;case mf:j.commandType(_r,"boolean","uniform "+pe,Ee.commandStr),Je="1i";break;case Ls:j.commandType(_r,"number","uniform "+pe,Ee.commandStr),Je="1i";break;case hl:j.command(Ea(_r)&&_r.length===2,"uniform "+pe,Ee.commandStr),Je="2i";break;case to:j.command(Ea(_r)&&_r.length===2,"uniform "+pe,Ee.commandStr),Je="2i";break;case Xl:j.command(Ea(_r)&&_r.length===3,"uniform "+pe,Ee.commandStr),Je="3i";break;case yf:j.command(Ea(_r)&&_r.length===3,"uniform "+pe,Ee.commandStr),Je="3i";break;case pc:j.command(Ea(_r)&&_r.length===4,"uniform "+pe,Ee.commandStr),Je="4i";break;case fl:j.command(Ea(_r)&&_r.length===4,"uniform "+pe,Ee.commandStr),Je="4i";break}ue(Ge,".uniform",Je,"(",Rr,",",Ea(_r)?Array.prototype.slice.call(_r):_r,");")}continue}else Mr=lr.append(Ee,ue)}else{if(!ir(Yl))continue;Mr=ue.def(Ve.uniforms,"[",ae.id(pe),"]")}qe===dl?(j(!Array.isArray(Mr),"must specify a scalar prop for textures"),ue("if(",Mr,"&&",Mr,'._reglType==="framebuffer"){',Mr,"=",Mr,".color[0];","}")):qe===Pu&&(j(!Array.isArray(Mr),"must specify a scalar prop for cube maps"),ue("if(",Mr,"&&",Mr,'._reglType==="framebufferCube"){',Mr,"=",Mr,".color[0];","}")),j.optional(function(){function jo(vs,xc){Ee.assert(ue,vs,'bad data or missing for uniform "'+pe+'".  '+xc)}function Ef(vs){j(!Array.isArray(Mr),"must not specify an array type for uniform"),jo("typeof "+Mr+'==="'+vs+'"',"invalid type, expected "+vs)}function Ko(vs,xc){Array.isArray(Mr)?j(Mr.length===vs,"must have length "+vs):jo(Ve.isArrayLike+"("+Mr+")&&"+Mr+".length==="+vs,"invalid vector, should have length "+vs,Ee.commandStr)}function Mf(vs){j(!Array.isArray(Mr),"must not specify a value type"),jo("typeof "+Mr+'==="function"&&'+Mr+'._reglType==="texture'+(vs===ah?"2d":"Cube")+'"',"invalid texture type",Ee.commandStr)}switch(qe){case Ls:Ef("number");break;case to:Ko(2,"number");break;case yf:Ko(3,"number");break;case fl:Ko(4,"number");break;case cl:Ef("number");break;case vc:Ko(2,"number");break;case gc:Ko(3,"number");break;case os:Ko(4,"number");break;case mf:Ef("boolean");break;case hl:Ko(2,"boolean");break;case Xl:Ko(3,"boolean");break;case pc:Ko(4,"boolean");break;case Au:Ko(4,"number");break;case Hl:Ko(9,"number");break;case Iu:Ko(16,"number");break;case dl:Mf(ah);break;case Pu:Mf(Wd);break}});var en=1;switch(qe){case dl:case Pu:var ya=ue.def(Mr,"._texture");ue(Ge,".uniform1i(",Rr,",",ya,".bind());"),ue.exit(ya,".unbind();");continue;case Ls:case mf:Je="1i";break;case to:case hl:Je="2i",en=2;break;case yf:case Xl:Je="3i",en=3;break;case fl:case pc:Je="4i",en=4;break;case cl:Je="1f";break;case vc:Je="2f",en=2;break;case gc:Je="3f",en=3;break;case os:Je="4f",en=4;break;case Au:Je="Matrix2fv";break;case Hl:Je="Matrix3fv";break;case Iu:Je="Matrix4fv";break}if(ue(Ge,".uniform",Je,"(",Rr,","),Je.charAt(0)==="M"){var Ga=Math.pow(qe-Au+2,2),Ri=Ee.global.def("new Float32Array(",Ga,")");Array.isArray(Mr)?ue("false,(",Xe(Ga,function(jo){return Ri+"["+jo+"]="+Mr[jo]}),",",Ri,")"):ue("false,(Array.isArray(",Mr,")||",Mr," instanceof Float32Array)?",Mr,":(",Xe(Ga,function(jo){return Ri+"["+jo+"]="+Mr+"["+jo+"]"}),",",Ri,")")}else en>1?ue(Xe(en,function(jo){return Array.isArray(Mr)?Mr[jo]:Mr+"["+jo+"]"})):(j(!Array.isArray(Mr),"uniform value must not be an array"),ue(Mr));ue(");")}}function zn(Ee,ue,Fe,er){var ir=Ee.shared,Ve=ir.gl,Ge=ir.draw,Je=er.draw;function Me(){var ya=Je.elements,Ga,Ri=ue;return ya?((ya.contextDep&&er.contextDynamic||ya.propDep)&&(Ri=Fe),Ga=ya.append(Ee,Ri)):Ga=Ri.def(Ge,".",sl),Ga&&Ri("if("+Ga+")"+Ve+".bindBuffer("+Io+","+Ga+".buffer.buffer);"),Ga}function Re(){var ya=Je.count,Ga,Ri=ue;return ya?((ya.contextDep&&er.contextDynamic||ya.propDep)&&(Ri=Fe),Ga=ya.append(Ee,Ri),j.optional(function(){ya.MISSING&&Ee.assert(ue,"false","missing vertex count"),ya.DYNAMIC&&Ee.assert(Ri,Ga+">=0","missing vertex count")})):(Ga=Ri.def(Ge,".",ll),j.optional(function(){Ee.assert(Ri,Ga+">=0","missing vertex count")})),Ga}var pe=Me();function qe(ya){var Ga=Je[ya];return Ga?Ga.contextDep&&er.contextDynamic||Ga.propDep?Ga.append(Ee,Fe):Ga.append(Ee,ue):ue.def(Ge,".",ya)}var lr=qe(Ds),jr=qe(fc),Rr=Re();if(typeof Rr=="number"){if(Rr===0)return}else Fe("if(",Rr,"){"),Fe.exit("}");var Mr,_r;Yr&&(Mr=qe(hc),_r=Ee.instancing);var wn=pe+".type",kn=Je.elements&&ws(Je.elements);function jn(){function ya(){Fe(_r,".drawElementsInstancedANGLE(",[lr,Rr,wn,jr+"<<(("+wn+"-"+Jf+")>>1)",Mr],");")}function Ga(){Fe(_r,".drawArraysInstancedANGLE(",[lr,jr,Rr,Mr],");")}pe?kn?ya():(Fe("if(",pe,"){"),ya(),Fe("}else{"),Ga(),Fe("}")):Ga()}function en(){function ya(){Fe(Ve+".drawElements("+[lr,Rr,wn,jr+"<<(("+wn+"-"+Jf+")>>1)"]+");")}function Ga(){Fe(Ve+".drawArrays("+[lr,jr,Rr]+");")}pe?kn?ya():(Fe("if(",pe,"){"),ya(),Fe("}else{"),Ga(),Fe("}")):Ga()}Yr&&(typeof Mr!="number"||Mr>=0)?typeof Mr=="string"?(Fe("if(",Mr,">0){"),jn(),Fe("}else if(",Mr,"<0){"),en(),Fe("}")):jn():en()}function _n(Ee,ue,Fe,er,ir){var Ve=ea(),Ge=Ve.proc("body",ir);return j.optional(function(){Ve.commandStr=ue.commandStr,Ve.command=Ve.link(ue.commandStr)}),Yr&&(Ve.instancing=Ge.def(Ve.shared.extensions,".angle_instanced_arrays")),Ee(Ve,Ge,Fe,er),Ve.compile().body}function Fa(Ee,ue,Fe,er){li(Ee,ue),Fe.useVAO?Fe.drawVAO?ue(Ee.shared.vao,".setVAO(",Fe.drawVAO.append(Ee,ue),");"):ue(Ee.shared.vao,".setVAO(",Ee.shared.vao,".targetVAO);"):(ue(Ee.shared.vao,".setVAO(null);"),no(Ee,ue,Fe,er.attributes,function(){return!0})),_a(Ee,ue,Fe,er.uniforms,function(){return!0}),zn(Ee,ue,ue,Fe)}function Gi(Ee,ue){var Fe=Ee.proc("draw",1);li(Ee,Fe),Ii(Ee,Fe,ue.context),Pi(Ee,Fe,ue.framebuffer),$i(Ee,Fe,ue),Fi(Ee,Fe,ue.state),Aa(Ee,Fe,ue,!1,!0);var er=ue.shader.progVar.append(Ee,Fe);if(Fe(Ee.shared.gl,".useProgram(",er,".program);"),ue.shader.program)Fa(Ee,Fe,ue,ue.shader.program);else{Fe(Ee.shared.vao,".setVAO(null);");var ir=Ee.global.def("{}"),Ve=Fe.def(er,".id"),Ge=Fe.def(ir,"[",Ve,"]");Fe(Ee.cond(Ge).then(Ge,".call(this,a0);").else(Ge,"=",ir,"[",Ve,"]=",Ee.link(function(Je){return _n(Fa,Ee,ue,Je,1)}),"(",er,");",Ge,".call(this,a0);"))}Object.keys(ue.state).length>0&&Fe(Ee.shared.current,".dirty=true;")}function yo(Ee,ue,Fe,er){Ee.batchId="a1",li(Ee,ue);function ir(){return!0}no(Ee,ue,Fe,er.attributes,ir),_a(Ee,ue,Fe,er.uniforms,ir),zn(Ee,ue,ue,Fe)}function ml(Ee,ue,Fe,er){li(Ee,ue);var ir=Fe.contextDep,Ve=ue.def(),Ge="a0",Je="a1",Me=ue.def();Ee.shared.props=Me,Ee.batchId=Ve;var Re=Ee.scope(),pe=Ee.scope();ue(Re.entry,"for(",Ve,"=0;",Ve,"<",Je,";++",Ve,"){",Me,"=",Ge,"[",Ve,"];",pe,"}",Re.exit);function qe(wn){return wn.contextDep&&ir||wn.propDep}function lr(wn){return!qe(wn)}if(Fe.needsContext&&Ii(Ee,pe,Fe.context),Fe.needsFramebuffer&&Pi(Ee,pe,Fe.framebuffer),Fi(Ee,pe,Fe.state,qe),Fe.profile&&qe(Fe.profile)&&Aa(Ee,pe,Fe,!1,!0),er)Fe.useVAO?Fe.drawVAO?qe(Fe.drawVAO)?pe(Ee.shared.vao,".setVAO(",Fe.drawVAO.append(Ee,pe),");"):Re(Ee.shared.vao,".setVAO(",Fe.drawVAO.append(Ee,Re),");"):Re(Ee.shared.vao,".setVAO(",Ee.shared.vao,".targetVAO);"):(Re(Ee.shared.vao,".setVAO(null);"),no(Ee,Re,Fe,er.attributes,lr),no(Ee,pe,Fe,er.attributes,qe)),_a(Ee,Re,Fe,er.uniforms,lr),_a(Ee,pe,Fe,er.uniforms,qe),zn(Ee,Re,pe,Fe);else{var jr=Ee.global.def("{}"),Rr=Fe.shader.progVar.append(Ee,pe),Mr=pe.def(Rr,".id"),_r=pe.def(jr,"[",Mr,"]");pe(Ee.shared.gl,".useProgram(",Rr,".program);","if(!",_r,"){",_r,"=",jr,"[",Mr,"]=",Ee.link(function(wn){return _n(yo,Ee,Fe,wn,2)}),"(",Rr,");}",_r,".call(this,a0[",Ve,"],",Ve,");")}}function Te(Ee,ue){var Fe=Ee.proc("batch",2);Ee.batchId="0",li(Ee,Fe);var er=!1,ir=!0;Object.keys(ue.context).forEach(function(jr){er=er||ue.context[jr].propDep}),er||(Ii(Ee,Fe,ue.context),ir=!1);var Ve=ue.framebuffer,Ge=!1;Ve?(Ve.propDep?er=Ge=!0:Ve.contextDep&&er&&(Ge=!0),Ge||Pi(Ee,Fe,Ve)):Pi(Ee,Fe,null),ue.state.viewport&&ue.state.viewport.propDep&&(er=!0);function Je(jr){return jr.contextDep&&er||jr.propDep}$i(Ee,Fe,ue),Fi(Ee,Fe,ue.state,function(jr){return!Je(jr)}),(!ue.profile||!Je(ue.profile))&&Aa(Ee,Fe,ue,!1,"a1"),ue.contextDep=er,ue.needsContext=ir,ue.needsFramebuffer=Ge;var Me=ue.shader.progVar;if(Me.contextDep&&er||Me.propDep)ml(Ee,Fe,ue,null);else{var Re=Me.append(Ee,Fe);if(Fe(Ee.shared.gl,".useProgram(",Re,".program);"),ue.shader.program)ml(Ee,Fe,ue,ue.shader.program);else{Fe(Ee.shared.vao,".setVAO(null);");var pe=Ee.global.def("{}"),qe=Fe.def(Re,".id"),lr=Fe.def(pe,"[",qe,"]");Fe(Ee.cond(lr).then(lr,".call(this,a0,a1);").else(lr,"=",pe,"[",qe,"]=",Ee.link(function(jr){return _n(ml,Ee,ue,jr,2)}),"(",Re,");",lr,".call(this,a0,a1);"))}}Object.keys(ue.state).length>0&&Fe(Ee.shared.current,".dirty=true;")}function pr(Ee,ue){var Fe=Ee.proc("scope",3);Ee.batchId="a2";var er=Ee.shared,ir=er.current;Ii(Ee,Fe,ue.context),ue.framebuffer&&ue.framebuffer.append(Ee,Fe),gh(Object.keys(ue.state)).forEach(function(Ge){var Je=ue.state[Ge],Me=Je.append(Ee,Fe);Ea(Me)?Me.forEach(function(Re,pe){Fe.set(Ee.next[Ge],"["+pe+"]",Re)}):Fe.set(er.next,"."+Ge,Me)}),Aa(Ee,Fe,ue,!0,!0),[sl,fc,ll,hc,Ds].forEach(function(Ge){var Je=ue.draw[Ge];!Je||Fe.set(er.draw,"."+Ge,""+Je.append(Ee,Fe))}),Object.keys(ue.uniforms).forEach(function(Ge){var Je=ue.uniforms[Ge].append(Ee,Fe);Array.isArray(Je)&&(Je="["+Je.join()+"]"),Fe.set(er.uniforms,"["+ae.id(Ge)+"]",Je)}),Object.keys(ue.attributes).forEach(function(Ge){var Je=ue.attributes[Ge].append(Ee,Fe),Me=Ee.scopeAttrib(Ge);Object.keys(new gr).forEach(function(Re){Fe.set(Me,"."+Re,Je[Re])})}),ue.scopeVAO&&Fe.set(er.vao,".targetVAO",ue.scopeVAO.append(Ee,Fe));function Ve(Ge){var Je=ue.shader[Ge];Je&&Fe.set(er.shader,"."+Ge,Je.append(Ee,Fe))}Ve(zi),Ve(zl),Object.keys(ue.state).length>0&&(Fe(ir,".dirty=true;"),Fe.exit(ir,".dirty=true;")),Fe("a1(",Ee.shared.context,",a0,",Ee.batchId,");")}function ur(Ee){if(!(typeof Ee!="object"||Ea(Ee))){for(var ue=Object.keys(Ee),Fe=0;Fe<ue.length;++Fe)if(ye.isDynamic(Ee[ue[Fe]]))return!0;return!1}}function En(Ee,ue,Fe){var er=ue.static[Fe];if(!er||!ur(er))return;var ir=Ee.global,Ve=Object.keys(er),Ge=!1,Je=!1,Me=!1,Re=Ee.global.def("{}");Ve.forEach(function(qe){var lr=er[qe];if(ye.isDynamic(lr)){typeof lr=="function"&&(lr=er[qe]=ye.unbox(lr));var jr=lo(lr,null);Ge=Ge||jr.thisDep,Me=Me||jr.propDep,Je=Je||jr.contextDep}else{switch(ir(Re,".",qe,"="),typeof lr){case"number":ir(lr);break;case"string":ir('"',lr,'"');break;case"object":Array.isArray(lr)&&ir("[",lr.join(),"]");break;default:ir(Ee.link(lr));break}ir(";")}});function pe(qe,lr){Ve.forEach(function(jr){var Rr=er[jr];if(!!ye.isDynamic(Rr)){var Mr=qe.invoke(lr,Rr);lr(Re,".",jr,"=",Mr,";")}})}ue.dynamic[Fe]=new ye.DynamicVariable(nc,{thisDep:Ge,contextDep:Je,propDep:Me,ref:Re,append:pe}),delete ue.static[Fe]}function ca(Ee,ue,Fe,er,ir){var Ve=ea();Ve.stats=Ve.link(ir),Object.keys(ue.static).forEach(function(Je){En(Ve,ue,Je)}),fo.forEach(function(Je){En(Ve,Ee,Je)});var Ge=Ai(Ee,ue,Fe,er,Ve);return Gi(Ve,Ge),pr(Ve,Ge),Te(Ve,Ge),i(Ve.compile(),{destroy:function(){Ge.shader.program.destroy()}})}return{next:Gn,current:Tr,procs:function(){var Ee=ea(),ue=Ee.proc("poll"),Fe=Ee.proc("refresh"),er=Ee.block();ue(er),Fe(er);var ir=Ee.shared,Ve=ir.gl,Ge=ir.next,Je=ir.current;er(Je,".dirty=false;"),Pi(Ee,ue),Pi(Ee,Fe,null,!0);var Me;Yr&&(Me=Ee.link(Yr)),De.oes_vertex_array_object&&Fe(Ee.link(De.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Re=0;Re<fr.maxAttributes;++Re){var pe=Fe.def(ir.attributes,"[",Re,"]"),qe=Ee.cond(pe,".buffer");qe.then(Ve,".enableVertexAttribArray(",Re,");",Ve,".bindBuffer(",vi,",",pe,".buffer.buffer);",Ve,".vertexAttribPointer(",Re,",",pe,".size,",pe,".type,",pe,".normalized,",pe,".stride,",pe,".offset);").else(Ve,".disableVertexAttribArray(",Re,");",Ve,".vertexAttrib4f(",Re,",",pe,".x,",pe,".y,",pe,".z,",pe,".w);",pe,".buffer=null;"),Fe(qe),Yr&&Fe(Me,".vertexAttribDivisorANGLE(",Re,",",pe,".divisor);")}return Fe(Ee.shared.vao,".currentVAO=null;",Ee.shared.vao,".setVAO(",Ee.shared.vao,".targetVAO);"),Object.keys(Nr).forEach(function(lr){var jr=Nr[lr],Rr=er.def(Ge,".",lr),Mr=Ee.block();Mr("if(",Rr,"){",Ve,".enable(",jr,")}else{",Ve,".disable(",jr,")}",Je,".",lr,"=",Rr,";"),Fe(Mr),ue("if(",Rr,"!==",Je,".",lr,"){",Mr,"}")}),Object.keys(Gr).forEach(function(lr){var jr=Gr[lr],Rr=Tr[lr],Mr,_r,wn=Ee.block();if(wn(Ve,".",jr,"("),Ea(Rr)){var kn=Rr.length;Mr=Ee.global.def(Ge,".",lr),_r=Ee.global.def(Je,".",lr),wn(Xe(kn,function(jn){return Mr+"["+jn+"]"}),");",Xe(kn,function(jn){return _r+"["+jn+"]="+Mr+"["+jn+"];"}).join("")),ue("if(",Xe(kn,function(jn){return Mr+"["+jn+"]!=="+_r+"["+jn+"]"}).join("||"),"){",wn,"}")}else Mr=er.def(Ge,".",lr),_r=er.def(Je,".",lr),wn(Mr,");",Je,".",lr,"=",Mr,";"),ue("if(",Mr,"!==",_r,"){",wn,"}");Fe(wn)}),Ee.compile()}(),compile:ca}}function ph(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var pl=34918,Qs=34919,Du=35007,yl=function(ae,De){if(!De.ext_disjoint_timer_query)return null;var fr=[];function Cr(){return fr.pop()||De.ext_disjoint_timer_query.createQueryEXT()}function mr(On){fr.push(On)}var vr=[];function Vr(On){var Tr=Cr();De.ext_disjoint_timer_query.beginQueryEXT(Du,Tr),vr.push(Tr),Jr(vr.length-1,vr.length,On)}function rn(){De.ext_disjoint_timer_query.endQueryEXT(Du)}function Hr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Xr=[];function an(){return Xr.pop()||new Hr}function gn(On){Xr.push(On)}var sn=[];function Jr(On,Tr,Gn){var $r=an();$r.startQueryIndex=On,$r.endQueryIndex=Tr,$r.sum=0,$r.stats=Gn,sn.push($r)}var gr=[],hr=[];function Yr(){var On,Tr,Gn=vr.length;if(Gn!==0){hr.length=Math.max(hr.length,Gn+1),gr.length=Math.max(gr.length,Gn+1),gr[0]=0,hr[0]=0;var $r=0;for(On=0,Tr=0;Tr<vr.length;++Tr){var Nr=vr[Tr];De.ext_disjoint_timer_query.getQueryObjectEXT(Nr,Qs)?($r+=De.ext_disjoint_timer_query.getQueryObjectEXT(Nr,pl),mr(Nr)):vr[On++]=Nr,gr[Tr+1]=$r,hr[Tr+1]=On}for(vr.length=On,On=0,Tr=0;Tr<sn.length;++Tr){var Gr=sn[Tr],qr=Gr.startQueryIndex,Un=Gr.endQueryIndex;Gr.sum+=gr[Un]-gr[qr];var aa=hr[qr],fn=hr[Un];fn===aa?(Gr.stats.gpuTime+=Gr.sum/1e6,gn(Gr)):(Gr.startQueryIndex=aa,Gr.endQueryIndex=fn,sn[On++]=Gr)}sn.length=On}}return{beginQuery:Vr,endQuery:rn,pushScopeStats:Jr,update:Yr,getNumPendingQueries:function(){return vr.length},clear:function(){fr.push.apply(fr,vr);for(var Tr=0;Tr<fr.length;Tr++)De.ext_disjoint_timer_query.deleteQueryEXT(fr[Tr]);vr.length=0,fr.length=0},restore:function(){vr.length=0,fr.length=0}}},ju=16384,Js=256,Oc=1024,Of=34962,Bs="webglcontextlost",Lu="webglcontextrestored",xf=1,ad=2,Ns=3;function yh(qt,ae){for(var De=0;De<qt.length;++De)if(qt[De]===ae)return De;return-1}function mh(qt){var ae=sr(qt);if(!ae)return null;var De=ae.gl,fr=De.getContextAttributes(),Cr=De.isContextLost(),mr=ke(De,ae);if(!mr)return null;var vr=Ze(),Vr=ph(),rn=mr.extensions,Hr=yl(De,rn),Xr=Be(),an=De.drawingBufferWidth,gn=De.drawingBufferHeight,sn={tick:0,time:0,viewportWidth:an,viewportHeight:gn,framebufferWidth:an,framebufferHeight:gn,drawingBufferWidth:an,drawingBufferHeight:gn,pixelRatio:ae.pixelRatio},Jr={},gr={elements:null,primitive:4,count:-1,offset:0,instances:-1},hr=Sn(De,rn),Yr=ys(De,Vr,ae,Tr),On=$h(De,rn,hr,Vr,Yr);function Tr(zn){return On.destroyBuffer(zn)}var Gn=xa(De,rn,Yr,Vr),$r=Is(De,vr,Vr,ae),Nr=_u(De,rn,hr,function(){Un.procs.poll()},sn,Vr,ae),Gr=Uf(De,rn,hr,Vr,ae),qr=Zh(De,rn,hr,Nr,Gr,Vr),Un=Kl(De,vr,rn,hr,Yr,Gn,Nr,qr,Jr,On,$r,gr,sn,Hr,ae),aa=Ud(De,qr,Un.procs.poll,sn,fr,rn,hr),fn=Un.next,tn=De.canvas,wr=[],ea=[],Ca=[],Pn=[ae.onDestroy],Ma=null;function ha(){if(wr.length===0){Hr&&Hr.update(),Ma=null;return}Ma=Ie.next(ha),Fi();for(var zn=wr.length-1;zn>=0;--zn){var _n=wr[zn];_n&&_n(sn,null,0)}De.flush(),Hr&&Hr.update()}function Ta(){!Ma&&wr.length>0&&(Ma=Ie.next(ha))}function Za(){Ma&&(Ie.cancel(ha),Ma=null)}function Li(zn){zn.preventDefault(),Cr=!0,Za(),ea.forEach(function(_n){_n()})}function ro(zn){De.getError(),Cr=!1,mr.restore(),$r.restore(),Yr.restore(),Nr.restore(),Gr.restore(),qr.restore(),On.restore(),Hr&&Hr.restore(),Un.procs.refresh(),Ta(),Ca.forEach(function(_n){_n()})}tn&&(tn.addEventListener(Bs,Li,!1),tn.addEventListener(Lu,ro,!1));function Ra(){wr.length=0,Za(),tn&&(tn.removeEventListener(Bs,Li),tn.removeEventListener(Lu,ro)),$r.clear(),qr.clear(),Gr.clear(),Nr.clear(),Gn.clear(),Yr.clear(),On.clear(),Hr&&Hr.clear(),Pn.forEach(function(zn){zn()})}function Zi(zn){j(!!zn,"invalid args to regl({...})"),j.type(zn,"object","invalid args to regl({...})");function _n(ir){var Ve=i({},ir);delete Ve.uniforms,delete Ve.attributes,delete Ve.context,delete Ve.vao,"stencil"in Ve&&Ve.stencil.op&&(Ve.stencil.opBack=Ve.stencil.opFront=Ve.stencil.op,delete Ve.stencil.op);function Ge(Je){if(Je in Ve){var Me=Ve[Je];delete Ve[Je],Object.keys(Me).forEach(function(Re){Ve[Je+"."+Re]=Me[Re]})}}return Ge("blend"),Ge("depth"),Ge("cull"),Ge("stencil"),Ge("polygonOffset"),Ge("scissor"),Ge("sample"),"vao"in ir&&(Ve.vao=ir.vao),Ve}function Fa(ir,Ve){var Ge={},Je={};return Object.keys(ir).forEach(function(Me){var Re=ir[Me];if(ye.isDynamic(Re)){Je[Me]=ye.unbox(Re,Me);return}else if(Ve&&Array.isArray(Re)){for(var pe=0;pe<Re.length;++pe)if(ye.isDynamic(Re[pe])){Je[Me]=ye.unbox(Re,Me);return}}Ge[Me]=Re}),{dynamic:Je,static:Ge}}var Gi=Fa(zn.context||{},!0),yo=Fa(zn.uniforms||{},!0),ml=Fa(zn.attributes||{},!1),Te=Fa(_n(zn),!1),pr={gpuTime:0,cpuTime:0,count:0},ur=Un.compile(Te,ml,yo,Gi,pr),En=ur.draw,ca=ur.batch,Ee=ur.scope,ue=[];function Fe(ir){for(;ue.length<ir;)ue.push(null);return ue}function er(ir,Ve){var Ge;if(Cr&&j.raise("context lost"),typeof ir=="function")return Ee.call(this,null,ir,0);if(typeof Ve=="function")if(typeof ir=="number")for(Ge=0;Ge<ir;++Ge)Ee.call(this,null,Ve,Ge);else if(Array.isArray(ir))for(Ge=0;Ge<ir.length;++Ge)Ee.call(this,ir[Ge],Ve,Ge);else return Ee.call(this,ir,Ve,0);else if(typeof ir=="number"){if(ir>0)return ca.call(this,Fe(ir|0),ir|0)}else if(Array.isArray(ir)){if(ir.length)return ca.call(this,ir,ir.length)}else return En.call(this,ir)}return i(er,{stats:pr,destroy:function(){ur.destroy()}})}var xi=qr.setFBO=Zi({framebuffer:ye.define.call(null,xf,"framebuffer")});function Ai(zn,_n){var Fa=0;Un.procs.poll();var Gi=_n.color;Gi&&(De.clearColor(+Gi[0]||0,+Gi[1]||0,+Gi[2]||0,+Gi[3]||0),Fa|=ju),"depth"in _n&&(De.clearDepth(+_n.depth),Fa|=Js),"stencil"in _n&&(De.clearStencil(_n.stencil|0),Fa|=Oc),j(!!Fa,"called regl.clear with no buffer specified"),De.clear(Fa)}function Ii(zn){if(j(typeof zn=="object"&&zn,"regl.clear() takes an object as input"),"framebuffer"in zn)if(zn.framebuffer&&zn.framebuffer_reglType==="framebufferCube")for(var _n=0;_n<6;++_n)xi(i({framebuffer:zn.framebuffer.faces[_n]},zn),Ai);else xi(zn,Ai);else Ai(null,zn)}function Pi(zn){j.type(zn,"function","regl.frame() callback must be a function"),wr.push(zn);function _n(){var Fa=yh(wr,zn);j(Fa>=0,"cannot cancel a frame twice");function Gi(){var yo=yh(wr,Gi);wr[yo]=wr[wr.length-1],wr.length-=1,wr.length<=0&&Za()}wr[Fa]=Gi}return Ta(),{cancel:_n}}function $i(){var zn=fn.viewport,_n=fn.scissor_box;zn[0]=zn[1]=_n[0]=_n[1]=0,sn.viewportWidth=sn.framebufferWidth=sn.drawingBufferWidth=zn[2]=_n[2]=De.drawingBufferWidth,sn.viewportHeight=sn.framebufferHeight=sn.drawingBufferHeight=zn[3]=_n[3]=De.drawingBufferHeight}function Fi(){sn.tick+=1,sn.time=Aa(),$i(),Un.procs.poll()}function li(){Nr.refresh(),$i(),Un.procs.refresh(),Hr&&Hr.update()}function Aa(){return(Be()-Xr)/1e3}li();function no(zn,_n){j.type(_n,"function","listener callback must be a function");var Fa;switch(zn){case"frame":return Pi(_n);case"lost":Fa=ea;break;case"restore":Fa=Ca;break;case"destroy":Fa=Pn;break;default:j.raise("invalid event, must be one of frame,lost,restore,destroy")}return Fa.push(_n),{cancel:function(){for(var yo=0;yo<Fa.length;++yo)if(Fa[yo]===_n){Fa[yo]=Fa[Fa.length-1],Fa.pop();return}}}}var _a=i(Zi,{clear:Ii,prop:ye.define.bind(null,xf),context:ye.define.bind(null,ad),this:ye.define.bind(null,Ns),draw:Zi({}),buffer:function(_n){return Yr.create(_n,Of,!1,!1)},elements:function(_n){return Gn.create(_n,!1)},texture:Nr.create2D,cube:Nr.createCube,renderbuffer:Gr.create,framebuffer:qr.create,framebufferCube:qr.createCube,vao:On.createVAO,attributes:fr,frame:Pi,on:no,limits:hr,hasExtension:function(_n){return hr.extensions.indexOf(_n.toLowerCase())>=0},read:aa,destroy:Ra,_gl:De,_refresh:li,poll:function(){Fi(),Hr&&Hr.update()},now:Aa,stats:Vr});return ae.onDone(null,_a),_a}return mh})},T1Zk:function(Ut,L,a){"use strict";a.d(L,"getAdjust",function(){return C}),a.d(L,"registerAdjust",function(){return A});var h=a("5Kaj"),i=a("X5ku"),O=a.n(i),x={},C=function(M){return x[M.toLowerCase()]},A=function(M,b){if(C(M))throw new Error("Adjust type '"+M+"' existed.");x[M.toLowerCase()]=b}},T7FO:function(Ut,L,a){"use strict";var h=a("ztEw"),i=a.n(h),O=a("E6Sp"),x=a.n(O),C=a("zv5D"),A=a.n(C),S=a("NQbK"),M=a.n(S),b=a("MWz9"),g=a.n(b),E=a("UApP"),D=a.n(E)},TKZu:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.TargetTypeEnum=L.BindingTypeEnum=L.BindingScopeEnum=void 0;var h={Request:"Request",Singleton:"Singleton",Transient:"Transient"};L.BindingScopeEnum=h;var i={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};L.BindingTypeEnum=i;var O={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};L.TargetTypeEnum=O},TKkZ:function(Ut,L){function a(h,i){if(!(i==="constructor"&&typeof h[i]=="function")&&i!="__proto__")return h[i]}Ut.exports=a},TSqk:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var h=a("4b80"),i=function(){function O(x,C){this.key=x,this.value=C}return O.prototype.toString=function(){return this.key===h.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},O}();L.Metadata=i},TZFZ:function(Ut,L){},TaHB:function(Ut,L,a){"use strict";a.d(L,"b",function(){return h}),a.d(L,"a",function(){return i}),a.d(L,"c",function(){return O});var h=1e-6,i=typeof Float32Array!="undefined"?Float32Array:Array,O=Math.random;function x(M){i=M}var C=Math.PI/180;function A(M){return M*C}function S(M,b){return Math.abs(M-b)<=h*Math.max(1,Math.abs(M),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var M=0,b=arguments.length;b--;)M+=arguments[b]*arguments[b];return Math.sqrt(M)})},TdPr:function(Ut,L,a){var h=a("TpDJ"),i=a("TIpG"),O=a("TeP8"),x=a("E5vS");function C(A,S,M){if(!x(M))return!1;var b=typeof S;return(b=="number"?i(M)&&O(S,M.length):b=="string"&&S in M)?h(M[S],A):!1}Ut.exports=C},ThNq:function(Ut,L,a){var h=a("xXdm"),i=a("fQJb"),O=a("ah2v");function x(C,A,S){for(var M=-1,b=A.length,g={};++M<b;){var E=A[M],D=h(C,E);S(D,E)&&i(g,O(E,C),D)}return g}Ut.exports=x},TuJa:function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=null;function i(){if(!h){var O=document.createElement("canvas");O.width=1,O.height=1,h=O.getContext("2d")}return h}},UApP:function(Ut,L){},UHDP:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var h=a("BbNA");function i(O,x){x===void 0&&(x=!0);var C=h.makePropertyInjectDecorator(O,x),A=h.makePropertyInjectNamedDecorator(O,x),S=h.makePropertyInjectTaggedDecorator(O,x),M=h.makePropertyMultiInjectDecorator(O,x);return{lazyInject:C,lazyInjectNamed:A,lazyInjectTagged:S,lazyMultiInject:M}}L.default=i},UaOR:function(Ut,L,a){"use strict";a.d(L,"a",function(){return nt});var h=a("J+IK"),i=a("d38q"),O=a("jg4I"),x=a("ggto"),C=a("OM6K"),A=a("RF2d"),S="$$yField$$",M="$$diffField$$",b="$$absoluteField$$",g="$$isTotal$$",E={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{label:"\u603B\u8BA1",style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function D(at,st,tt,Q,Z){var et,ct=[];if(Object(O.fb)(at,function(Ot,it){var xt;Object(A.n)(A.a.WARN,Object(O.K)(it[tt]),it[tt]+" is not a valid number");var It=Object(O.Q)(it[tt])?null:it[tt];return ct.push(Object(h.a)(Object(h.a)({},it),(xt={},xt[Q]=[Ot,Ot+It],xt))),Ot+It},0),ct.length&&Z){var mt=Object(O.s)(ct,[[at.length-1],Q,[1]]);ct.push((et={},et[st]=Z.label,et[tt]=mt,et[Q]=[0,mt],et))}return ct}function p(at,st,tt,Q){var Z=D(at,st,tt,S,Q);return Z.map(function(et,ct){var mt;return Object(O.M)(et)?Object(h.a)(Object(h.a)({},et),(mt={},mt[b]=et[S][1],mt[M]=et[S][1]-et[S][0],mt[g]=ct===at.length,mt)):et})}var N=a("AO+g");function I(at){for(var st=[],tt=0;tt<at.length;tt++){var Q=at[tt];if(Q){var Z=tt===0?"M":"L";st.push([Z,Q.x,Q.y])}}var et=at[0];return st.push(["L",et.x,et.y]),st.push(["z"]),st}function G(at){return Object(A.b)({},at.defaultStyle,at.style,{fill:at.color})}Object(N.registerShape)("interval","waterfall",{draw:function(st,tt){var Q=st.customInfo,Z=st.points,et=st.nextPoints,ct=tt.addGroup(),mt=this.parsePath(I(Z)),Ot=G(st);ct.addShape("path",{attrs:Object(h.a)(Object(h.a)({},Ot),{path:mt})});var it=Object(O.s)(Q,"leaderLine");if(it&&et){var xt=[["M",Z[2].x,Z[2].y],["L",et[0].x,et[0].y]];Z[2].y===et[1].y&&(xt[1]=["L",et[1].x,et[1].y]),xt=this.parsePath(xt),ct.addShape("path",{attrs:Object(h.a)({path:xt},it.style||{})})}return ct}});function W(at){var st=at.chart,tt=at.options,Q=tt.data,Z=tt.xField,et=tt.yField,ct=tt.total,mt=tt.leaderLine,Ot=tt.columnWidthRatio,it=tt.waterfallStyle,xt=tt.risingFill,It=tt.fallingFill,zt=tt.color;st.data(p(Q,Z,et,ct));var Kt=zt||function(dt){return Object(O.s)(dt,[g])?Object(O.s)(ct,["style","fill"],""):Object(O.s)(dt,[S,1])-Object(O.s)(dt,[S,0])>0?xt:It},Yt=Object(A.b)({},at,{options:{xField:Z,yField:S,seriesField:Z,rawFields:[et,M,g,S],widthRatio:Ot,interval:{style:it,shape:"waterfall",color:Kt}}}),bt=Object(C.c)(Yt).ext,ft=bt.geometry;return ft.customInfo({leaderLine:mt}),at}function z(at){var st,tt,Q=at.options,Z=Q.xAxis,et=Q.yAxis,ct=Q.xField,mt=Q.yField,Ot=Q.meta,it=Object(A.b)({},{alias:mt},Object(O.s)(Ot,mt));return Object(A.e)(Object(x.f)((st={},st[ct]=Z,st[mt]=et,st[S]=et,st),Object(A.b)({},Ot,(tt={},tt[S]=it,tt[M]=it,tt[b]=it,tt))))(at)}function w(at){var st=at.chart,tt=at.options,Q=tt.xAxis,Z=tt.yAxis,et=tt.xField,ct=tt.yField;return Q===!1?st.axis(et,!1):st.axis(et,Q),Z===!1?(st.axis(ct,!1),st.axis(S,!1)):(st.axis(ct,Z),st.axis(S,Z)),at}function T(at){var st=at.chart,tt=at.options,Q=tt.legend,Z=tt.total,et=tt.risingFill,ct=tt.fallingFill;if(Q===!1)st.legend(!1);else{var mt=[{name:"\u589E\u52A0",value:"increase",marker:{symbol:"square",style:{r:5,fill:et}}},{name:"\u51CF\u5C11",value:"decrease",marker:{symbol:"square",style:{r:5,fill:ct}}}];Z&&mt.push({name:Z.label||"",value:"total",marker:{symbol:"square",style:Object(A.b)({},{r:5},Object(O.s)(Z,"style"))}}),st.legend(Object(A.b)({},{custom:!0,position:"top",items:mt},Q)),st.removeInteraction("legend-filter")}return at}function B(at){var st=at.chart,tt=at.options,Q=tt.label,Z=tt.labelMode,et=tt.xField,ct=Object(A.c)(st,"interval");if(!Q)ct.label(!1);else{var mt=Q.callback,Ot=Object(h.e)(Q,["callback"]);ct.label({fields:Z==="absolute"?[b,et]:[M,et],callback:mt,cfg:Object(A.u)(Ot)})}return at}function V(at){var st=at.chart,tt=at.options,Q=tt.tooltip,Z=tt.xField,et=tt.yField;if(Q!==!1){st.tooltip(Object(h.a)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[et]},Q));var ct=st.geometries[0];(Q==null?void 0:Q.formatter)?ct.tooltip(Z+"*"+et,Q.formatter):ct.tooltip(et)}else st.tooltip(!1);return at}function $(at){return Object(A.e)(W,z,w,T,V,B,x.i,x.j,x.c,x.a,Object(x.b)())(at)}var nt=function(at){Object(h.c)(st,at);function st(){var tt=at!==null&&at.apply(this,arguments)||this;return tt.type="waterfall",tt}return st.getDefaultOptions=function(){return E},st.prototype.changeData=function(tt){var Q=this.options,Z=Q.xField,et=Q.yField,ct=Q.total;this.updateOption({data:tt}),this.chart.changeData(p(tt,Z,et,ct))},st.prototype.getSchemaAdaptor=function(){return $},st.prototype.getDefaultOptions=function(){return st.getDefaultOptions()},st}(i.b)},Uhlt:function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("gWxb"),O=a("gs6+"),x=a("rJDL"),C=a("+FNX"),A=a("mxXC"),S=a("43gi").Graph,M=a("hppO");Ut.exports=b;function b(p){var N=M.maxRank(p),I=g(p,h.range(1,N+1),"inEdges"),G=g(p,h.range(N-1,-1,-1),"outEdges"),W=i(p);D(p,W);for(var z=Number.POSITIVE_INFINITY,w,T=0,B=0;B<4;++T,++B){E(T%2?I:G,T%4>=2),W=M.buildLayerMatrix(p);var V=O(p,W);V<z&&(B=0,w=h.cloneDeep(W),z=V)}D(p,w)}function g(p,N,I){return h.map(N,function(G){return C(p,G,I)})}function E(p,N){var I=new S;h.forEach(p,function(G){var W=G.graph().root,z=x(G,W,I,N);h.forEach(z.vs,function(w,T){G.node(w).order=T}),A(G,I,z.vs)})}function D(p,N){h.forEach(N,function(I){h.forEach(I,function(G,W){p.node(G).order=W})})}},UngR:function(Ut,L,a){"use strict";var h=new Map;function i(T,B){h.set(T,B)}function O(T){return h.get(T)}var x=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.width,at=B.height;return{x:V,y:$,width:nt,height:at}},C=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.r;return{x:V-nt,y:$-nt,width:nt*2,height:nt*2}},A=a("9pBU");function S(T,B){return!T||!B?T||B:{minX:Math.min(T.minX,B.minX),minY:Math.min(T.minY,B.minY),maxX:Math.max(T.maxX,B.maxX),maxY:Math.max(T.maxY,B.maxY)}}function M(T,B){var V=T.get("startArrowShape"),$=T.get("endArrowShape"),nt=null,at=null;return V&&(nt=V.getCanvasBBox(),B=S(B,nt)),$&&(at=$.getCanvasBBox(),B=S(B,at)),B}var b=function(T){for(var B=T.attr(),V=B.points,$=[],nt=[],at=0;at<V.length;at++){var st=V[at];$.push(st[0]),nt.push(st[1])}var tt=A.f.getBBoxByArray($,nt),Q=tt.x,Z=tt.y,et=tt.width,ct=tt.height,mt={minX:Q,minY:Z,maxX:Q+et,maxY:Z+ct};return mt=M(T,mt),{x:mt.minX,y:mt.minY,width:mt.maxX-mt.minX,height:mt.maxY-mt.minY}},g=function(T){for(var B=T.attr(),V=B.points,$=[],nt=[],at=0;at<V.length;at++){var st=V[at];$.push(st[0]),nt.push(st[1])}return A.f.getBBoxByArray($,nt)},E=a("n9X1"),D=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.text,at=B.fontSize,st=B.lineHeight,tt=B.font;tt||(tt=Object(E.a)(B));var Q=Object(E.c)(nt,tt),Z;if(!Q)Z={x:V,y:$,width:0,height:0};else{var et=B.textAlign,ct=B.textBaseline,mt=Object(E.b)(nt,at,st),Ot={x:V,y:$-mt};et&&(et==="end"||et==="right"?Ot.x-=Q:et==="center"&&(Ot.x-=Q/2)),ct&&(ct==="top"?Ot.y+=mt:ct==="middle"&&(Ot.y+=mt/2)),Z={x:Ot.x,y:Ot.y,width:Q,height:mt}}return Z},p=a("WOt1"),N=a("jg4I");function I(T,B){for(var V=[],$=[],nt=[],at=0;at<T.length;at++){var st=T[at],tt=st.currentPoint,Q=st.params,Z=st.prePoint,et=void 0;switch(st.command){case"Q":et=A.e.box(Z[0],Z[1],Q[1],Q[2],Q[3],Q[4]);break;case"C":et=A.b.box(Z[0],Z[1],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6]);break;case"A":var ct=st.arcParams;et=A.a.box(ct.cx,ct.cy,ct.rx,ct.ry,ct.xRotation,ct.startAngle,ct.endAngle);break;default:V.push(tt[0]),$.push(tt[1]);break}et&&(st.box=et,V.push(et.x,et.x+et.width),$.push(et.y,et.y+et.height)),B&&(st.command==="L"||st.command==="M")&&st.prePoint&&st.nextPoint&&nt.push(st)}V=V.filter(function(zt){return!Number.isNaN(zt)}),$=$.filter(function(zt){return!Number.isNaN(zt)});var mt=Object(N.Z)(V),Ot=Object(N.Z)($),it=Object(N.W)(V),xt=Object(N.W)($);if(nt.length===0)return{x:mt,y:Ot,width:it-mt,height:xt-Ot};for(var at=0;at<nt.length;at++){var st=nt[at],tt=st.currentPoint,It=void 0;tt[0]===mt?(It=G(st,B),mt=mt-It.xExtra):tt[0]===it&&(It=G(st,B),it=it+It.xExtra),tt[1]===Ot?(It=G(st,B),Ot=Ot-It.yExtra):tt[1]===xt&&(It=G(st,B),xt=xt+It.yExtra)}return{x:mt,y:Ot,width:it-mt,height:xt-Ot}}function G(T,B){var V=T.prePoint,$=T.currentPoint,nt=T.nextPoint,at=Math.pow($[0]-V[0],2)+Math.pow($[1]-V[1],2),st=Math.pow($[0]-nt[0],2)+Math.pow($[1]-nt[1],2),tt=Math.pow(V[0]-nt[0],2)+Math.pow(V[1]-nt[1],2),Q=Math.acos((at+st-tt)/(2*Math.sqrt(at)*Math.sqrt(st)));if(!Q||Math.sin(Q)===0||Object(N.L)(Q,0))return{xExtra:0,yExtra:0};var Z=Math.abs(Math.atan2(nt[1]-$[1],nt[0]-$[0])),et=Math.abs(Math.atan2(nt[0]-$[0],nt[1]-$[1]));Z=Z>Math.PI/2?Math.PI-Z:Z,et=et>Math.PI/2?Math.PI-et:et;var ct={xExtra:Math.cos(Q/2-Z)*(B/2*(1/Math.sin(Q/2)))-B/2||0,yExtra:Math.cos(et-Q/2)*(B/2*(1/Math.sin(Q/2)))-B/2||0};return ct}var W=function(T){var B=T.attr(),V=B.path,$=B.stroke,nt=$?B.lineWidth:0,at=T.get("segments")||Object(p.e)(V),st=I(at,nt),tt=st.x,Q=st.y,Z=st.width,et=st.height,ct={minX:tt,minY:Q,maxX:tt+Z,maxY:Q+et};return ct=M(T,ct),{x:ct.minX,y:ct.minY,width:ct.maxX-ct.minX,height:ct.maxY-ct.minY}},z=function(T){var B=T.attr(),V=B.x1,$=B.y1,nt=B.x2,at=B.y2,st=Math.min(V,nt),tt=Math.max(V,nt),Q=Math.min($,at),Z=Math.max($,at),et={minX:st,maxX:tt,minY:Q,maxY:Z};return et=M(T,et),{x:et.minX,y:et.minY,width:et.maxX-et.minX,height:et.maxY-et.minY}},w=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.rx,at=B.ry;return{x:V-nt,y:$-at,width:nt*2,height:at*2}};i("rect",x),i("image",x),i("circle",C),i("marker",C),i("polyline",b),i("polygon",g),i("text",D),i("path",W),i("line",z),i("ellipse",w)},UooB:function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=a("jg4I");function i(O){if(Object(h.K)(O))return[O,O,O,O];if(Object(h.B)(O)){var x=O.length;if(x===1)return[O[0],O[0],O[0],O[0]];if(x===2)return[O[0],O[1],O[0],O[1]];if(x===3)return[O[0],O[1],O[2],O[1]];if(x===4)return O}return[0,0,0,0]}},VIkg:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.BindingCount=void 0;var h={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};L.BindingCount=h},VMwZ:function(Ut,L,a){var h=a("1ban"),i=a("Wx0M"),O={},x=Object.keys(h);function C(S){var M=function(g){return g==null?g:(arguments.length>1&&(g=Array.prototype.slice.call(arguments)),S(g))};return"conversion"in S&&(M.conversion=S.conversion),M}function A(S){var M=function(g){if(g==null)return g;arguments.length>1&&(g=Array.prototype.slice.call(arguments));var E=S(g);if(typeof E=="object")for(var D=E.length,p=0;p<D;p++)E[p]=Math.round(E[p]);return E};return"conversion"in S&&(M.conversion=S.conversion),M}x.forEach(function(S){O[S]={},Object.defineProperty(O[S],"channels",{value:h[S].channels}),Object.defineProperty(O[S],"labels",{value:h[S].labels});var M=i(S),b=Object.keys(M);b.forEach(function(g){var E=M[g];O[S][g]=A(E),O[S][g].raw=C(E)})}),Ut.exports=O},VRwR:function(Ut,L){},Vd04:function(Ut,L,a){"use strict";a.d(L,"a",function(){return Z});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("viI4"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("2Asv"),g=a.n(b),E=a("PVp4"),D=a.n(E),p=a("e6Zy"),N=a.n(p),I=a("99LQ"),G=a("me+i"),W=a.n(G),z=a("XN3X"),w,T,B,V,$,nt,at,st,tt,Q,Z=(w=Object(G.injectable)(),T=Object(G.inject)(z.a.HierarchyComponentManager),B=Object(G.inject)(z.a.TransformComponentManager),V=Object(G.inject)(z.a.MeshComponentManager),w($=(nt=(Q=function(){function et(){M()(this,et),A()(this,"hierarchy",at,this),A()(this,"transform",st,this),A()(this,"mesh",tt,this)}return g()(et,[{key:"execute",value:function(){var ct=x()(i.a.mark(function Ot(){return i.a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return xt.stop()}},Ot,this)}));function mt(){return ct.apply(this,arguments)}return mt}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var mt=this;this.transform.forEach(function(Ot,it){(it.isDirty()||it.isLocalDirty())&&(mt.setMeshAABBDirty(mt.mesh.getComponentByEntity(Ot)),it.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var mt=this;this.hierarchy.forEach(function(Ot,it){var xt=mt.transform.getComponentByEntity(Ot),It=mt.transform.getComponentByEntity(it.parentID);xt!==null&&It!==null&&xt.updateTransformWithParent(It)})}},{key:"attach",value:function(mt,Ot,it){this.hierarchy.contains(mt)&&this.detach(mt),this.hierarchy.create(mt,{parentID:Ot});var xt=this.mesh.getComponentByEntity(Ot);if(this.setMeshAABBDirty(xt),xt&&xt.children.indexOf(mt)===-1&&xt.children.push(mt),this.hierarchy.getCount()>1)for(var It=this.hierarchy.getCount()-1;It>0;--It)for(var zt=this.hierarchy.getEntity(It),Kt=0;Kt<It;++Kt){var Yt=this.hierarchy.getComponent(Kt);if(Yt.parentID===zt){this.hierarchy.moveItem(It,Kt),++It;break}}var bt=this.hierarchy.getComponentByEntity(mt),ft=this.transform.getComponentByEntity(Ot);ft===null&&(ft=this.transform.create(Ot));var dt=this.transform.getComponentByEntity(mt);dt===null&&(dt=this.transform.create(mt),ft=this.transform.getComponentByEntity(Ot)),dt.parent=ft,!it&&ft&&(dt.matrixTransform(I.b.invert(I.b.create(),ft.worldTransform)),dt.updateTransform()),ft&&dt.updateTransformWithParent(ft)}},{key:"detach",value:function(mt){var Ot=this.hierarchy.getComponentByEntity(mt);if(Ot!==null){var it=this.transform.getComponentByEntity(mt);it!==null&&(it.parent=null,it.applyTransform()),this.hierarchy.removeKeepSorted(mt);var xt=this.mesh.getComponentByEntity(Ot.parentID);if(xt){var It=xt.children.indexOf(mt);xt.children.splice(It,1)}this.setMeshAABBDirty(xt)}}},{key:"detachChildren",value:function(mt){var Ot=this.mesh.getComponentByEntity(mt);Ot&&(Ot.children=[]);for(var it=0;it<this.hierarchy.getCount();){var xt;if(((xt=this.hierarchy.getComponent(it))===null||xt===void 0?void 0:xt.parentID)===mt){var It=this.hierarchy.getEntity(it);this.detach(It)}else++it}}},{key:"setMeshAABBDirty",value:function(mt){mt&&(mt.aabbDirty=!0)}}]),et}(),Q),at=D()(nt.prototype,"hierarchy",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=D()(nt.prototype,"transform",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=D()(nt.prototype,"mesh",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt))||$)},Vlje:function(Ut,L,a){var h=a("dhvM"),i=a("TpDJ"),O=a("TdPr"),x=a("rGlR"),C=Object.prototype,A=C.hasOwnProperty,S=h(function(M,b){M=Object(M);var g=-1,E=b.length,D=E>2?b[2]:void 0;for(D&&O(b[0],b[1],D)&&(E=1);++g<E;)for(var p=b[g],N=x(p),I=-1,G=N.length;++I<G;){var W=N[I],z=M[W];(z===void 0||i(z,C[W])&&!A.call(M,W))&&(M[W]=p[W])}return M});Ut.exports=S},VmDj:function(Ut,L,a){var h=a("2PUN"),i=a("dhvM"),O=a("fUu9"),x=a("wvSg"),C=i(function(A){return O(h(A,1,x,!0))});Ut.exports=C},VrSm:function(Ut,L,a){"use strict";Ut.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"W+ug":function(Ut,L,a){"use strict";a.d(L,"a",function(){return bt});var h=a("J+IK"),i=a("d38q"),O=a("ggto"),x=a("RF2d"),C=a("YUZ6"),A=a("jg4I"),S=a("2xSO"),M=a("7Y4W"),b="$$percentage$$",g="$$mappingValue$$",E="$$conversion$$",D="$$totalPercentage$$",p="$$x$$",N="$$y$$";function I(ft,dt,ot){var Mt=[],Nt=ot.yField,Pt=ot.maxSize,J=ot.minSize,X=Object(A.X)(dt,Nt)[Nt],vt=Object(A.K)(Pt)?Pt:1,lt=Object(A.K)(J)?J:0;return Mt=Object(A.U)(ft,function(Ct,Ft){var Wt=(Ct[Nt]||0)/X;return Ct[b]=Wt,Ct[g]=(vt-lt)*Wt+lt,Ct[E]=[Object(A.s)(ft,[Ft-1,Nt]),Ct[Nt]],Ct}),Mt}function G(ft){return function(dt){var ot=dt.chart,Mt=dt.options,Nt=Mt.conversionTag,Pt=ot.getOptions().data;if(Nt){var J=Nt.formatter;Pt.forEach(function(X,vt){if(!(vt<=0)){var lt=ft(X,vt,Pt,{top:!0,text:{content:Object(A.H)(J)?J(X,Pt):J,offsetX:Nt.offsetX,offsetY:Nt.offsetY,position:"end",autoRotate:!1,style:Object(h.a)({textAlign:"start",textBaseline:"middle"},Nt.style)}});ot.annotation().line(lt)}})}return dt}}function W(ft){var dt=ft.chart,ot=ft.options,Mt=ot.data,Nt=Mt===void 0?[]:Mt,Pt=ot.yField,J=ot.maxSize,X=ot.minSize,vt=I(Nt,Nt,{yField:Pt,maxSize:J,minSize:X});return dt.data(vt),ft}function z(ft){var dt=ft.chart,ot=ft.options,Mt=ot.xField,Nt=ot.yField,Pt=ot.color,J=ot.tooltip,X=ot.label,vt=Object(S.a)(J,[Mt,Nt]),lt=vt.fields,Ct=vt.formatter;Object(M.a)({chart:dt,options:{type:"interval",xField:Mt,yField:g,colorField:Mt,tooltipFields:Object(A.B)(lt)&&lt.concat([b,E]),mapping:{shape:"funnel",tooltip:Ct,color:Pt},label:X}});var Ft=Object(x.c)(ft.chart,"interval");return Ft.adjust("symmetric"),ft}function w(ft){var dt=ft.chart,ot=ft.options,Mt=ot.isTransposed;return dt.coordinate({type:"rect",actions:Mt?[]:[["transpose"],["scale",1,-1]]}),ft}function T(ft){var dt=ft.options,ot=dt.maxSize,Mt=function(Pt,J,X,vt){var lt=ot-(ot-Pt[g])/2;return Object(h.a)(Object(h.a)({},vt),{start:[J-.5,lt],end:[J-.5,lt+.05]})};return G(Mt)(ft),ft}function B(ft){return Object(x.e)(W,z,w,T)(ft)}function V(ft){var dt,ot=ft.chart,Mt=ft.options,Nt=Mt.data,Pt=Nt===void 0?[]:Nt,J=Mt.yField;return ot.data(Pt),ot.scale((dt={},dt[J]={sync:!0},dt)),ft}function $(ft){var dt=ft.chart,ot=ft.options,Mt=ot.data,Nt=ot.xField,Pt=ot.yField,J=ot.color,X=ot.compareField,vt=ot.isTransposed,lt=ot.tooltip,Ct=ot.maxSize,Ft=ot.minSize,Wt=ot.label;return dt.facet("mirror",{fields:[X],transpose:!vt,padding:vt?0:[32,0,0,0],eachView:function(jt,Y){var U=vt?Y.rowIndex:Y.columnIndex;vt||jt.coordinate({type:"rect",actions:[["transpose"],["scale",U===0?-1:1,-1]]});var j=I(Y.data,Mt,{yField:Pt,maxSize:Ct,minSize:Ft});jt.data(j);var q=Object(S.a)(lt,[Nt,Pt,X]),gt=q.fields,_=q.formatter,yt=vt?{offset:U===0?10:-23,position:U===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:U===0?"end":"start"}};Object(M.a)({chart:jt,options:{type:"interval",xField:Nt,yField:g,colorField:Nt,tooltipFields:Object(A.B)(gt)&&gt.concat([b,E]),mapping:{shape:"funnel",tooltip:_,color:J,style:{lineWidth:1,stroke:"#fff"}},label:Wt===!1?!1:Object(x.b)({},yt,Wt)}})}}),ft}function nt(ft){var dt=ft.chart,ot=ft.options,Mt=ot.conversionTag,Nt=ot.isTransposed;return dt.once("beforepaint",function(){dt.views.forEach(function(Pt,J){var X=function(lt,Ct,Ft,Wt){var kt=J===0?-1:1;return Object(x.b)({},Wt,{start:[Ct-.5,lt[g]],end:[Ct-.5,lt[g]+.05],text:Nt?{style:{textAlign:"start"}}:{offsetX:Mt!==!1?kt*Mt.offsetX:0,style:{textAlign:J===0?"end":"start"}}})};G(X)(Object(x.b)({},{chart:Pt,options:ot}))})}),ft}function at(ft){return Object(x.e)(V,$,nt)(ft)}function st(ft){var dt,ot=ft.chart,Mt=ft.options,Nt=Mt.data,Pt=Nt===void 0?[]:Nt,J=Mt.yField;return ot.data(Pt),ot.scale((dt={},dt[J]={sync:!0},dt)),ft}function tt(ft){var dt=ft.chart,ot=ft.options,Mt=ot.seriesField,Nt=ot.isTransposed;return dt.facet("rect",{fields:[Mt],padding:[Nt?0:32,10,0,10],eachView:function(J,X){B(Object(x.b)({},ft,{chart:J,options:{data:X.data}}))}}),ft}function Q(ft){return Object(x.e)(st,tt)(ft)}function Z(ft){var dt=ft.chart,ot=ft.options,Mt=ot.data,Nt=Mt===void 0?[]:Mt,Pt=ot.yField,J=Object(A.fb)(Nt,function(lt,Ct){return lt+(Ct[Pt]||0)},0),X=Object(A.X)(Nt,Pt)[Pt],vt=Object(A.U)(Nt,function(lt,Ct){var Ft=[],Wt=[];if(lt[D]=(lt[Pt]||0)/J,Ct){var kt=Nt[Ct-1][p],jt=Nt[Ct-1][N];Ft[0]=kt[3],Wt[0]=jt[3],Ft[1]=kt[2],Wt[1]=jt[2]}else Ft[0]=-.5,Wt[0]=1,Ft[1]=.5,Wt[1]=1;return Wt[2]=Wt[1]-lt[D],Ft[2]=(Wt[2]+1)/4,Wt[3]=Wt[2],Ft[3]=-Ft[2],lt[p]=Ft,lt[N]=Wt,lt[b]=(lt[Pt]||0)/X,lt[E]=[Object(A.s)(Nt,[Ct-1,Pt]),lt[Pt]],lt});return dt.data(vt),ft}function et(ft){var dt=ft.chart,ot=ft.options,Mt=ot.xField,Nt=ot.yField,Pt=ot.color,J=ot.tooltip,X=ot.label,vt=Object(S.a)(J,[Mt,Nt]),lt=vt.fields,Ct=vt.formatter;return Object(M.a)({chart:dt,options:{type:"polygon",xField:p,yField:N,colorField:Mt,tooltipFields:Object(A.B)(lt)&&lt.concat([b,E]),label:X,mapping:{tooltip:Ct,color:Pt}}}),ft}function ct(ft){var dt=ft.chart,ot=ft.options,Mt=ot.isTransposed;return dt.coordinate({type:"rect",actions:Mt?[["transpose"],["reflect","x"]]:[]}),ft}function mt(ft){var dt=function(Mt,Nt,Pt,J){return Object(h.a)(Object(h.a)({},J),{start:[Mt[p][1],Mt[N][1]],end:[Mt[p][1]+.05,Mt[N][1]]})};return G(dt)(ft),ft}function Ot(ft){return Object(x.e)(Z,et,ct,mt)(ft)}function it(ft){var dt,ot=ft.options,Mt=ot.compareField,Nt=ot.xField,Pt=ot.yField,J={minSize:0,maxSize:1,meta:(dt={},dt[g]={min:0,max:1,nice:!1},dt),label:Mt?{fields:[Nt,Pt,Mt,b,E],style:{fill:"#fff",fontSize:12},formatter:function(vt){return""+vt[Pt]}}:{fields:[Nt,Pt,b,E],offset:0,position:"middle",style:{fill:"#fff",fontSize:12},formatter:function(vt){return vt[Nt]+" "+vt[Pt]}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,title:Nt,formatter:function(vt){return{name:vt[Nt],value:vt[Pt]}}},conversionTag:{offsetX:10,offsetY:0,style:{},formatter:function(vt){return"\u8F6C\u5316\u7387: "+C.a.apply(void 0,vt[E])}}};return Object(x.b)({options:J},ft)}function xt(ft){var dt=ft.options,ot=dt.compareField,Mt=dt.dynamicHeight,Nt=dt.seriesField;return Nt?Q(ft):ot?at(ft):Mt?Ot(ft):B(ft)}function It(ft){var dt,ot=ft.options,Mt=ot.xAxis,Nt=ot.yAxis,Pt=ot.xField,J=ot.yField;return Object(x.e)(Object(O.f)((dt={},dt[Pt]=Mt,dt[J]=Nt,dt)))(ft)}function zt(ft){var dt=ft.chart;return dt.axis(!1),ft}function Kt(ft){var dt=ft.chart,ot=ft.options,Mt=ot.legend;return Mt===!1?dt.legend(!1):dt.legend(Mt),ft}function Yt(ft){return Object(x.e)(it,xt,It,zt,O.k,O.c,Kt,O.a,O.j,Object(O.b)())(ft)}var bt=function(ft){Object(h.c)(dt,ft);function dt(){var ot=ft!==null&&ft.apply(this,arguments)||this;return ot.type="funnel",ot}return dt.getDefaultOptions=function(){return{appendPadding:[0,80]}},dt.prototype.getDefaultOptions=function(){return dt.getDefaultOptions()},dt.prototype.getSchemaAdaptor=function(){return Yt},dt}(i.b)},W7Gi:function(Ut,L,a){"use strict";var h=a("tuqv"),i=a("EbMC");L.a=function(){var O=1,x=1,C=0,A=!1;function S(b){var g=b.height+1;return b.x0=b.y0=C,b.x1=O,b.y1=x/g,b.eachBefore(M(x,g)),A&&b.eachBefore(h.a),b}function M(b,g){return function(E){E.children&&Object(i.a)(E,E.x0,b*(E.depth+1)/g,E.x1,b*(E.depth+2)/g);var D=E.x0,p=E.y0,N=E.x1-C,I=E.y1-C;N<D&&(D=N=(D+N)/2),I<p&&(p=I=(p+I)/2),E.x0=D,E.y0=p,E.x1=N,E.y1=I}}return S.round=function(b){return arguments.length?(A=!!b,S):A},S.size=function(b){return arguments.length?(O=+b[0],x=+b[1],S):[O,x]},S.padding=function(b){return arguments.length?(C=+b,S):C},S}},WKd7:function(Ut,L,a){"use strict";L.a=function(h,i,O,x,C){for(var A=h.children,S,M=-1,b=A.length,g=h.value&&(C-O)/h.value;++M<b;)S=A[M],S.x0=i,S.x1=x,S.y0=O,S.y1=O+=S.value*g}},WLqU:function(Ut,L){Ut.exports=a;function a(h,i,O){var x=i[0]*O[1]-i[1]*O[0];return h[0]=h[1]=0,h[2]=x,h}},WOt1:function(Ut,L,a){"use strict";a.d(L,"a",function(){return A}),a.d(L,"c",function(){return B}),a.d(L,"d",function(){return nt}),a.d(L,"e",function(){return vt}),a.d(L,"b",function(){return gt});var h=a("jg4I"),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,O=/[^\s\,]+/ig;function x(_){var yt=_||[];if(Object(h.B)(yt))return yt;if(Object(h.O)(yt))return yt=yt.match(i),Object(h.j)(yt,function(wt,St){if(wt=wt.match(O),wt[0].length>1){var Dt=wt[0].charAt(0);wt.splice(1,0,wt[0].substr(1)),wt[0]=Dt}Object(h.j)(wt,function(Vt,Qt){isNaN(Vt)||(wt[Qt]=+Vt)}),yt[St]=wt}),yt}var C=x;function A(_,yt){for(var wt=[],St=0,Dt=_.length;Dt-2*!yt>St;St+=2){var Vt=[{x:+_[St-2],y:+_[St-1]},{x:+_[St],y:+_[St+1]},{x:+_[St+2],y:+_[St+3]},{x:+_[St+4],y:+_[St+5]}];yt?St?Dt-4===St?Vt[3]={x:+_[0],y:+_[1]}:Dt-2===St&&(Vt[2]={x:+_[0],y:+_[1]},Vt[3]={x:+_[2],y:+_[3]}):Vt[0]={x:+_[Dt-2],y:+_[Dt-1]}:Dt-4===St?Vt[3]=Vt[2]:St||(Vt[0]={x:+_[St],y:+_[St+1]}),wt.push(["C",(-Vt[0].x+6*Vt[1].x+Vt[2].x)/6,(-Vt[0].y+6*Vt[1].y+Vt[2].y)/6,(Vt[1].x+6*Vt[2].x-Vt[3].x)/6,(Vt[1].y+6*Vt[2].y-Vt[3].y)/6,Vt[2].x,Vt[2].y])}return wt}function S(_,yt){var wt=[],St=[];function Dt(Vt,Qt){if(Vt.length===1)wt.push(Vt[0]),St.push(Vt[0]);else{for(var ee=[],se=0;se<Vt.length-1;se++)se===0&&wt.push(Vt[0]),se===Vt.length-2&&St.push(Vt[se+1]),ee[se]=[(1-Qt)*Vt[se][0]+Qt*Vt[se+1][0],(1-Qt)*Vt[se][1]+Qt*Vt[se+1][1]];Dt(ee,Qt)}}return _.length&&Dt(_,yt),{left:wt,right:St.reverse()}}function M(_,yt,wt){var St=[[_[1],_[2]]];wt=wt||2;var Dt=[];yt[0]==="A"?(St.push(yt[6]),St.push(yt[7])):yt[0]==="C"?(St.push([yt[1],yt[2]]),St.push([yt[3],yt[4]]),St.push([yt[5],yt[6]])):yt[0]==="S"||yt[0]==="Q"?(St.push([yt[1],yt[2]]),St.push([yt[3],yt[4]])):St.push([yt[1],yt[2]]);for(var Vt=St,Qt=1/wt,ee=0;ee<wt-1;ee++){var se=Qt/(1-Qt*ee),ye=S(Vt,se);Dt.push(ye.left),Vt=ye.right}Dt.push(Vt);var Ie=Dt.map(function(Be){var Ze=[];return Be.length===4&&(Ze.push("C"),Ze=Ze.concat(Be[2])),Be.length>=3&&(Be.length===3&&Ze.push("Q"),Ze=Ze.concat(Be[1])),Be.length===2&&Ze.push("L"),Ze=Ze.concat(Be[Be.length-1]),Ze});return Ie}function b(_,yt,wt){if(wt===1)return[[].concat(_)];var St=[];if(yt[0]==="L"||yt[0]==="C"||yt[0]==="Q")St=St.concat(M(_,yt,wt));else{var Dt=[].concat(_);Dt[0]==="M"&&(Dt[0]="L");for(var Vt=0;Vt<=wt-1;Vt++)St.push(Dt)}return St}function g(_,yt){if(_.length===1)return _;var wt=_.length-1,St=yt.length-1,Dt=wt/St,Vt=[];if(_.length===1&&_[0][0]==="M"){for(var Qt=0;Qt<St-wt;Qt++)_.push(_[0]);return _}for(var Qt=0;Qt<St;Qt++){var ee=Math.floor(Dt*Qt);Vt[ee]=(Vt[ee]||0)+1}var se=Vt.reduce(function(ye,Ie,Be){return Be===wt?ye.concat(_[wt]):ye.concat(b(_[Be],_[Be+1],Ie))},[]);return se.unshift(_[0]),(yt[St]==="Z"||yt[St]==="z")&&se.push("Z"),se}function E(_,yt,wt){var St=null,Dt=wt;return yt<Dt&&(Dt=yt,St="add"),_<Dt&&(Dt=_,St="del"),{type:St,min:Dt}}var D=function(yt,wt){var St=yt.length,Dt=wt.length,Vt,Qt,ee=0;if(St===0||Dt===0)return null;for(var se=[],ye=0;ye<=St;ye++)se[ye]=[],se[ye][0]={min:ye};for(var Ie=0;Ie<=Dt;Ie++)se[0][Ie]={min:Ie};for(var ye=1;ye<=St;ye++){Vt=yt[ye-1];for(var Ie=1;Ie<=Dt;Ie++){Qt=wt[Ie-1],Object(h.G)(Vt,Qt)?ee=0:ee=1;var Be=se[ye-1][Ie].min+1,Ze=se[ye][Ie-1].min+1,we=se[ye-1][Ie-1].min+ee;se[ye][Ie]=E(Be,Ze,we)}}return se};function p(_,yt){var wt=D(_,yt),St=_.length,Dt=yt.length,Vt=[],Qt=1,ee=1;if(wt[St][Dt]!==St){for(var se=1;se<=St;se++){var ye=wt[se][se].min;ee=se;for(var Ie=Qt;Ie<=Dt;Ie++)wt[se][Ie].min<ye&&(ye=wt[se][Ie].min,ee=Ie);Qt=ee,wt[se][Qt].type&&Vt.push({index:se-1,type:wt[se][Qt].type})}for(var se=Vt.length-1;se>=0;se--)Qt=Vt[se].index,Vt[se].type==="add"?_.splice(Qt,0,[].concat(_[Qt])):_.splice(Qt,1)}if(St=_.length,St<Dt)for(var se=0;se<Dt-St;se++)_[St-1][0]==="z"||_[St-1][0]==="Z"?_.splice(St-2,0,_[St-2]):_.push(_[St-1]);return _}function N(_){var yt=[];switch(_[0]){case"M":yt.push([_[1],_[2]]);break;case"L":yt.push([_[1],_[2]]);break;case"A":yt.push([_[6],_[7]]);break;case"Q":yt.push([_[3],_[4]]),yt.push([_[1],_[2]]);break;case"T":yt.push([_[1],_[2]]);break;case"C":yt.push([_[5],_[6]]),yt.push([_[1],_[2]]),yt.push([_[3],_[4]]);break;case"S":yt.push([_[3],_[4]]),yt.push([_[1],_[2]]);break;case"H":yt.push([_[1],_[1]]);break;case"V":yt.push([_[1],_[1]]);break;default:}return yt}function I(_,yt,wt){for(var St=[].concat(_),Dt,Vt=1/(wt+1),Qt=N(yt)[0],ee=1;ee<=wt;ee++)Vt*=ee,Dt=Math.floor(_.length*Vt),Dt===0?St.unshift([Qt[0]*Vt+_[Dt][0]*(1-Vt),Qt[1]*Vt+_[Dt][1]*(1-Vt)]):St.splice(Dt,0,[Qt[0]*Vt+_[Dt][0]*(1-Vt),Qt[1]*Vt+_[Dt][1]*(1-Vt)]);return St}function G(_,yt){if(_.length<=1)return _;for(var wt,St=0;St<yt.length;St++)if(_[St][0]!==yt[St][0])switch(wt=N(_[St]),yt[St][0]){case"M":_[St]=["M"].concat(wt[0]);break;case"L":_[St]=["L"].concat(wt[0]);break;case"A":_[St]=[].concat(yt[St]),_[St][6]=wt[0][0],_[St][7]=wt[0][1];break;case"Q":if(wt.length<2)if(St>0)wt=I(wt,_[St-1],1);else{_[St]=yt[St];break}_[St]=["Q"].concat(wt.reduce(function(Dt,Vt){return Dt.concat(Vt)},[]));break;case"T":_[St]=["T"].concat(wt[0]);break;case"C":if(wt.length<3)if(St>0)wt=I(wt,_[St-1],2);else{_[St]=yt[St];break}_[St]=["C"].concat(wt.reduce(function(Dt,Vt){return Dt.concat(Vt)},[]));break;case"S":if(wt.length<2)if(St>0)wt=I(wt,_[St-1],1);else{_[St]=yt[St];break}_[St]=["S"].concat(wt.reduce(function(Dt,Vt){return Dt.concat(Vt)},[]));break;default:_[St]=yt[St]}return _}function W(_,yt,wt,St,Dt){return Dt?[["M",+_+ +Dt,yt],["l",wt-Dt*2,0],["a",Dt,Dt,0,0,1,Dt,Dt],["l",0,St-Dt*2],["a",Dt,Dt,0,0,1,-Dt,Dt],["l",Dt*2-wt,0],["a",Dt,Dt,0,0,1,-Dt,-Dt],["l",0,Dt*2-St],["a",Dt,Dt,0,0,1,Dt,-Dt],["z"]]:[["M",_,yt],["l",wt,0],["l",0,St],["l",-wt,0],["z"]]}var z=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,w=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig");function B(_){if(!_)return null;if(Object(h.B)(_))return _;var yt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},wt=[];return String(_).replace(w,function(St,Dt,Vt){var Qt=[],ee=Dt.toLowerCase();if(Vt.replace(T,function(se,ye){ye&&Qt.push(+ye)}),ee==="m"&&Qt.length>2&&(wt.push([Dt].concat(Qt.splice(0,2))),ee="l",Dt=Dt==="m"?"l":"L"),ee==="o"&&Qt.length===1&&wt.push([Dt,Qt[0]]),ee==="r")wt.push([Dt].concat(Qt));else for(;Qt.length>=yt[ee]&&(wt.push([Dt].concat(Qt.splice(0,yt[ee]))),!!yt[ee]););return""}),wt}var V=/[a-z]/;function $(_,yt){return[yt[0]+(yt[0]-_[0]),yt[1]+(yt[1]-_[1])]}function nt(_){var yt=B(_);if(!yt||!yt.length)return[["M",0,0]];for(var wt=!1,St=0;St<yt.length;St++){var Dt=yt[St][0];if(V.test(Dt)||["V","H","T","S"].indexOf(Dt)>=0){wt=!0;break}}if(!wt)return yt;var Vt=[],Qt=0,ee=0,se=0,ye=0,Ie=0,Be,Ze,we=yt[0];(we[0]==="M"||we[0]==="m")&&(Qt=+we[1],ee=+we[2],se=Qt,ye=ee,Ie++,Vt[0]=["M",Qt,ee]);for(var St=Ie,We=yt.length;St<We;St++){var Ke=yt[St],cr=Vt[St-1],or=[],Dt=Ke[0],Ce=Dt.toUpperCase();if(Dt!==Ce)switch(or[0]=Ce,Ce){case"A":or[1]=Ke[1],or[2]=Ke[2],or[3]=Ke[3],or[4]=Ke[4],or[5]=Ke[5],or[6]=+Ke[6]+Qt,or[7]=+Ke[7]+ee;break;case"V":or[1]=+Ke[1]+ee;break;case"H":or[1]=+Ke[1]+Qt;break;case"M":se=+Ke[1]+Qt,ye=+Ke[2]+ee;break;default:for(var sr=1,ke=Ke.length;sr<ke;sr++)or[sr]=+Ke[sr]+(sr%2?Qt:ee)}else or=yt[St];switch(Ce){case"Z":Qt=+se,ee=+ye;break;case"H":Qt=or[1],or=["L",Qt,ee];break;case"V":ee=or[1],or=["L",Qt,ee];break;case"T":Qt=or[1],ee=or[2];var Xe=$([cr[1],cr[2]],[cr[3],cr[4]]);or=["Q",Xe[0],Xe[1],Qt,ee];break;case"S":Qt=or[or.length-2],ee=or[or.length-1];var dr=cr.length,Sr=$([cr[dr-4],cr[dr-3]],[cr[dr-2],cr[dr-1]]);or=["C",Sr[0],Sr[1],or[1],or[2],Qt,ee];break;case"M":se=or[or.length-2],ye=or[or.length-1];break;default:Qt=or[or.length-2],ee=or[or.length-1]}Vt.push(or)}return Vt}var at=function _(yt,wt,St,Dt,Vt,Qt,ee,se,ye,Ie){St===Dt&&(St+=1);var Be=Math.PI*120/180,Ze=Math.PI/180*(+Vt||0),we=[],We,Ke,cr,or,Ce,sr=function(Sa,Ba,Pa){var $n=Sa*Math.cos(Pa)-Ba*Math.sin(Pa),Ya=Sa*Math.sin(Pa)+Ba*Math.cos(Pa);return{x:$n,y:Ya}};if(Ie)Ke=Ie[0],cr=Ie[1],or=Ie[2],Ce=Ie[3];else{We=sr(yt,wt,-Ze),yt=We.x,wt=We.y,We=sr(se,ye,-Ze),se=We.x,ye=We.y,yt===se&&wt===ye&&(se+=1,ye+=1);var ke=(yt-se)/2,Xe=(wt-ye)/2,dr=ke*ke/(St*St)+Xe*Xe/(Dt*Dt);dr>1&&(dr=Math.sqrt(dr),St=dr*St,Dt=dr*Dt);var Sr=St*St,Fr=Dt*Dt,hn=(Qt===ee?-1:1)*Math.sqrt(Math.abs((Sr*Fr-Sr*Xe*Xe-Fr*ke*ke)/(Sr*Xe*Xe+Fr*ke*ke)));or=hn*St*Xe/Dt+(yt+se)/2,Ce=hn*-Dt*ke/St+(wt+ye)/2,Ke=Math.asin(Number(((wt-Ce)/Dt).toFixed(9))),cr=Math.asin(Number(((ye-Ce)/Dt).toFixed(9))),Ke=yt<or?Math.PI-Ke:Ke,cr=se<or?Math.PI-cr:cr,Ke<0&&(Ke=Math.PI*2+Ke),cr<0&&(cr=Math.PI*2+cr),ee&&Ke>cr&&(Ke=Ke-Math.PI*2),!ee&&cr>Ke&&(cr=cr-Math.PI*2)}var yn=cr-Ke;if(Math.abs(yn)>Be){var Dn=cr,Nn=se,Ia=ye;cr=Ke+Be*(ee&&cr>Ke?1:-1),se=or+St*Math.cos(cr),ye=Ce+Dt*Math.sin(cr),we=_(se,ye,St,Dt,Vt,0,ee,Nn,Ia,[cr,Dn,or,Ce])}yn=cr-Ke;var ba=Math.cos(Ke),Oa=Math.sin(Ke),Wn=Math.cos(cr),ai=Math.sin(cr),Va=Math.tan(yn/4),ci=4/3*St*Va,Ti=4/3*Dt*Va,Ui=[yt,wt],Bi=[yt+ci*Oa,wt-Ti*ba],ia=[se+ci*ai,ye-Ti*Wn],ja=[se,ye];if(Bi[0]=2*Ui[0]-Bi[0],Bi[1]=2*Ui[1]-Bi[1],Ie)return[Bi,ia,ja].concat(we);we=[Bi,ia,ja].concat(we).join().split(",");for(var Zn=[],wa=0,La=we.length;wa<La;wa++)Zn[wa]=wa%2?sr(we[wa-1],we[wa],Ze).y:sr(we[wa],we[wa+1],Ze).x;return Zn},st=function(yt,wt,St,Dt){return[yt,wt,St,Dt,St,Dt]},tt=function(yt,wt,St,Dt,Vt,Qt){var ee=1/3,se=2/3;return[ee*yt+se*St,ee*wt+se*Dt,ee*Vt+se*St,ee*Qt+se*Dt,Vt,Qt]};function Q(_,yt){var wt=nt(_),St=yt&&nt(yt),Dt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Qt=[],ee=[],se="",ye="",Ie,Be=function(ke,Xe,dr){var Sr,Fr;if(!ke)return["C",Xe.x,Xe.y,Xe.x,Xe.y,Xe.x,Xe.y];switch(!(ke[0]in{T:1,Q:1})&&(Xe.qx=Xe.qy=null),ke[0]){case"M":Xe.X=ke[1],Xe.Y=ke[2];break;case"A":ke=["C"].concat(at.apply(0,[Xe.x,Xe.y].concat(ke.slice(1))));break;case"S":dr==="C"||dr==="S"?(Sr=Xe.x*2-Xe.bx,Fr=Xe.y*2-Xe.by):(Sr=Xe.x,Fr=Xe.y),ke=["C",Sr,Fr].concat(ke.slice(1));break;case"T":dr==="Q"||dr==="T"?(Xe.qx=Xe.x*2-Xe.qx,Xe.qy=Xe.y*2-Xe.qy):(Xe.qx=Xe.x,Xe.qy=Xe.y),ke=["C"].concat(tt(Xe.x,Xe.y,Xe.qx,Xe.qy,ke[1],ke[2]));break;case"Q":Xe.qx=ke[1],Xe.qy=ke[2],ke=["C"].concat(tt(Xe.x,Xe.y,ke[1],ke[2],ke[3],ke[4]));break;case"L":ke=["C"].concat(st(Xe.x,Xe.y,ke[1],ke[2]));break;case"H":ke=["C"].concat(st(Xe.x,Xe.y,ke[1],Xe.y));break;case"V":ke=["C"].concat(st(Xe.x,Xe.y,Xe.x,ke[1]));break;case"Z":ke=["C"].concat(st(Xe.x,Xe.y,Xe.X,Xe.Y));break;default:break}return ke},Ze=function(ke,Xe){if(ke[Xe].length>7){ke[Xe].shift();for(var dr=ke[Xe];dr.length;)Qt[Xe]="A",St&&(ee[Xe]="A"),ke.splice(Xe++,0,["C"].concat(dr.splice(0,6)));ke.splice(Xe,1),Ie=Math.max(wt.length,St&&St.length||0)}},we=function(ke,Xe,dr,Sr,Fr){ke&&Xe&&ke[Fr][0]==="M"&&Xe[Fr][0]!=="M"&&(Xe.splice(Fr,0,["M",Sr.x,Sr.y]),dr.bx=0,dr.by=0,dr.x=ke[Fr][1],dr.y=ke[Fr][2],Ie=Math.max(wt.length,St&&St.length||0))};Ie=Math.max(wt.length,St&&St.length||0);for(var We=0;We<Ie;We++){wt[We]&&(se=wt[We][0]),se!=="C"&&(Qt[We]=se,We&&(ye=Qt[We-1])),wt[We]=Be(wt[We],Dt,ye),Qt[We]!=="A"&&se==="C"&&(Qt[We]="C"),Ze(wt,We),St&&(St[We]&&(se=St[We][0]),se!=="C"&&(ee[We]=se,We&&(ye=ee[We-1])),St[We]=Be(St[We],Vt,ye),ee[We]!=="A"&&se==="C"&&(ee[We]="C"),Ze(St,We)),we(wt,St,Dt,Vt,We),we(St,wt,Vt,Dt,We);var Ke=wt[We],cr=St&&St[We],or=Ke.length,Ce=St&&cr.length;Dt.x=Ke[or-2],Dt.y=Ke[or-1],Dt.bx=parseFloat(Ke[or-4])||Dt.x,Dt.by=parseFloat(Ke[or-3])||Dt.y,Vt.bx=St&&(parseFloat(cr[Ce-4])||Vt.x),Vt.by=St&&(parseFloat(cr[Ce-3])||Vt.y),Vt.x=St&&cr[Ce-2],Vt.y=St&&cr[Ce-1]}return St?[wt,St]:wt}var Z=function(yt,wt,St,Dt,Vt){var Qt=-3*wt+9*St-9*Dt+3*Vt,ee=yt*Qt+6*wt-12*St+6*Dt;return yt*ee-3*wt+3*St},et=function(yt,wt,St,Dt,Vt,Qt,ee,se,ye){ye===null&&(ye=1),ye=ye>1?1:ye<0?0:ye;for(var Ie=ye/2,Be=12,Ze=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],we=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],We=0,Ke=0;Ke<Be;Ke++){var cr=Ie*Ze[Ke]+Ie,or=Z(cr,yt,St,Vt,ee),Ce=Z(cr,wt,Dt,Qt,se),sr=or*or+Ce*Ce;We+=we[Ke]*Math.sqrt(sr)}return Ie*We},ct=function(yt,wt,St,Dt,Vt,Qt,ee,se){for(var ye=[],Ie=[[],[]],Be,Ze,we,We,Ke=0;Ke<2;++Ke){if(Ke===0?(Ze=6*yt-12*St+6*Vt,Be=-3*yt+9*St-9*Vt+3*ee,we=3*St-3*yt):(Ze=6*wt-12*Dt+6*Qt,Be=-3*wt+9*Dt-9*Qt+3*se,we=3*Dt-3*wt),Math.abs(Be)<1e-12){if(Math.abs(Ze)<1e-12)continue;We=-we/Ze,We>0&&We<1&&ye.push(We);continue}var cr=Ze*Ze-4*we*Be,or=Math.sqrt(cr);if(!(cr<0)){var Ce=(-Ze+or)/(2*Be);Ce>0&&Ce<1&&ye.push(Ce);var sr=(-Ze-or)/(2*Be);sr>0&&sr<1&&ye.push(sr)}}for(var ke=ye.length,Xe=ke,dr;ke--;)We=ye[ke],dr=1-We,Ie[0][ke]=dr*dr*dr*yt+3*dr*dr*We*St+3*dr*We*We*Vt+We*We*We*ee,Ie[1][ke]=dr*dr*dr*wt+3*dr*dr*We*Dt+3*dr*We*We*Qt+We*We*We*se;return Ie[0][Xe]=yt,Ie[1][Xe]=wt,Ie[0][Xe+1]=ee,Ie[1][Xe+1]=se,Ie[0].length=Ie[1].length=Xe+2,{min:{x:Math.min.apply(0,Ie[0]),y:Math.min.apply(0,Ie[1])},max:{x:Math.max.apply(0,Ie[0]),y:Math.max.apply(0,Ie[1])}}},mt=function(yt,wt,St,Dt,Vt,Qt,ee,se){if(!(Math.max(yt,St)<Math.min(Vt,ee)||Math.min(yt,St)>Math.max(Vt,ee)||Math.max(wt,Dt)<Math.min(Qt,se)||Math.min(wt,Dt)>Math.max(Qt,se))){var ye=(yt*Dt-wt*St)*(Vt-ee)-(yt-St)*(Vt*se-Qt*ee),Ie=(yt*Dt-wt*St)*(Qt-se)-(wt-Dt)*(Vt*se-Qt*ee),Be=(yt-St)*(Qt-se)-(wt-Dt)*(Vt-ee);if(!!Be){var Ze=ye/Be,we=Ie/Be,We=+Ze.toFixed(2),Ke=+we.toFixed(2);if(!(We<+Math.min(yt,St).toFixed(2)||We>+Math.max(yt,St).toFixed(2)||We<+Math.min(Vt,ee).toFixed(2)||We>+Math.max(Vt,ee).toFixed(2)||Ke<+Math.min(wt,Dt).toFixed(2)||Ke>+Math.max(wt,Dt).toFixed(2)||Ke<+Math.min(Qt,se).toFixed(2)||Ke>+Math.max(Qt,se).toFixed(2)))return{x:Ze,y:we}}}},Ot=function(yt,wt,St){return wt>=yt.x&&wt<=yt.x+yt.width&&St>=yt.y&&St<=yt.y+yt.height},it=function(yt,wt,St,Dt){return yt===null&&(yt=wt=St=Dt=0),wt===null&&(wt=yt.y,St=yt.width,Dt=yt.height,yt=yt.x),{x:yt,y:wt,width:St,w:St,height:Dt,h:Dt,x2:yt+St,y2:wt+Dt,cx:yt+St/2,cy:wt+Dt/2,r1:Math.min(St,Dt)/2,r2:Math.max(St,Dt)/2,r0:Math.sqrt(St*St+Dt*Dt)/2,path:W(yt,wt,St,Dt),vb:[yt,wt,St,Dt].join(" ")}},xt=function(yt,wt){return yt=it(yt),wt=it(wt),Ot(wt,yt.x,yt.y)||Ot(wt,yt.x2,yt.y)||Ot(wt,yt.x,yt.y2)||Ot(wt,yt.x2,yt.y2)||Ot(yt,wt.x,wt.y)||Ot(yt,wt.x2,wt.y)||Ot(yt,wt.x,wt.y2)||Ot(yt,wt.x2,wt.y2)||(yt.x<wt.x2&&yt.x>wt.x||wt.x<yt.x2&&wt.x>yt.x)&&(yt.y<wt.y2&&yt.y>wt.y||wt.y<yt.y2&&wt.y>yt.y)},It=function(yt,wt,St,Dt,Vt,Qt,ee,se){Object(h.B)(yt)||(yt=[yt,wt,St,Dt,Vt,Qt,ee,se]);var ye=ct.apply(null,yt);return it(ye.min.x,ye.min.y,ye.max.x-ye.min.x,ye.max.y-ye.min.y)},zt=function(yt,wt,St,Dt,Vt,Qt,ee,se,ye){var Ie=1-ye,Be=Math.pow(Ie,3),Ze=Math.pow(Ie,2),we=ye*ye,We=we*ye,Ke=Be*yt+Ze*3*ye*St+Ie*3*ye*ye*Vt+We*ee,cr=Be*wt+Ze*3*ye*Dt+Ie*3*ye*ye*Qt+We*se,or=yt+2*ye*(St-yt)+we*(Vt-2*St+yt),Ce=wt+2*ye*(Dt-wt)+we*(Qt-2*Dt+wt),sr=St+2*ye*(Vt-St)+we*(ee-2*Vt+St),ke=Dt+2*ye*(Qt-Dt)+we*(se-2*Qt+Dt),Xe=Ie*yt+ye*St,dr=Ie*wt+ye*Dt,Sr=Ie*Vt+ye*ee,Fr=Ie*Qt+ye*se,hn=90-Math.atan2(or-sr,Ce-ke)*180/Math.PI;return{x:Ke,y:cr,m:{x:or,y:Ce},n:{x:sr,y:ke},start:{x:Xe,y:dr},end:{x:Sr,y:Fr},alpha:hn}},Kt=function(yt,wt,St){var Dt=It(yt),Vt=It(wt);if(!xt(Dt,Vt))return St?0:[];for(var Qt=et.apply(0,yt),ee=et.apply(0,wt),se=~~(Qt/8),ye=~~(ee/8),Ie=[],Be=[],Ze={},we=St?0:[],We=0;We<se+1;We++){var Ke=zt.apply(0,yt.concat(We/se));Ie.push({x:Ke.x,y:Ke.y,t:We/se})}for(var We=0;We<ye+1;We++){var Ke=zt.apply(0,wt.concat(We/ye));Be.push({x:Ke.x,y:Ke.y,t:We/ye})}for(var We=0;We<se;We++)for(var cr=0;cr<ye;cr++){var or=Ie[We],Ce=Ie[We+1],sr=Be[cr],ke=Be[cr+1],Xe=Math.abs(Ce.x-or.x)<.001?"y":"x",dr=Math.abs(ke.x-sr.x)<.001?"y":"x",Sr=mt(or.x,or.y,Ce.x,Ce.y,sr.x,sr.y,ke.x,ke.y);if(Sr){if(Ze[Sr.x.toFixed(4)]===Sr.y.toFixed(4))continue;Ze[Sr.x.toFixed(4)]=Sr.y.toFixed(4);var Fr=or.t+Math.abs((Sr[Xe]-or[Xe])/(Ce[Xe]-or[Xe]))*(Ce.t-or.t),hn=sr.t+Math.abs((Sr[dr]-sr[dr])/(ke[dr]-sr[dr]))*(ke.t-sr.t);Fr>=0&&Fr<=1&&hn>=0&&hn<=1&&(St?we++:we.push({x:Sr.x,y:Sr.y,t1:Fr,t2:hn}))}}return we},Yt=function(yt,wt,St){yt=Q(yt),wt=Q(wt);for(var Dt,Vt,Qt,ee,se,ye,Ie,Be,Ze,we,We=St?0:[],Ke=0,cr=yt.length;Ke<cr;Ke++){var or=yt[Ke];if(or[0]==="M")Dt=se=or[1],Vt=ye=or[2];else{or[0]==="C"?(Ze=[Dt,Vt].concat(or.slice(1)),Dt=Ze[6],Vt=Ze[7]):(Ze=[Dt,Vt,Dt,Vt,se,ye,se,ye],Dt=se,Vt=ye);for(var Ce=0,sr=wt.length;Ce<sr;Ce++){var ke=wt[Ce];if(ke[0]==="M")Qt=Ie=ke[1],ee=Be=ke[2];else{ke[0]==="C"?(we=[Qt,ee].concat(ke.slice(1)),Qt=we[6],ee=we[7]):(we=[Qt,ee,Qt,ee,Ie,Be,Ie,Be],Qt=Ie,ee=Be);var Xe=Kt(Ze,we,St);if(St)We+=Xe;else{for(var dr=0,Sr=Xe.length;dr<Sr;dr++)Xe[dr].segment1=Ke,Xe[dr].segment2=Ce,Xe[dr].bez1=Ze,Xe[dr].bez2=we;We=We.concat(Xe)}}}}}return We};function bt(_,yt){return Yt(_,yt)}var ft=/,?([a-z]),?/gi;function dt(_){return _.join(",").replace(ft,"$1")}function ot(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function Mt(_,yt){return ot(_)*ot(yt)?(_[0]*yt[0]+_[1]*yt[1])/(ot(_)*ot(yt)):1}function Nt(_,yt){return(_[0]*yt[1]<_[1]*yt[0]?-1:1)*Math.acos(Mt(_,yt))}function Pt(_,yt){return _[0]===yt[0]&&_[1]===yt[1]}function J(_,yt){var wt=yt[1],St=yt[2],Dt=Object(h.cb)(Object(h.pb)(yt[3]),Math.PI*2),Vt=yt[4],Qt=yt[5],ee=_[0],se=_[1],ye=yt[6],Ie=yt[7],Be=Math.cos(Dt)*(ee-ye)/2+Math.sin(Dt)*(se-Ie)/2,Ze=-1*Math.sin(Dt)*(ee-ye)/2+Math.cos(Dt)*(se-Ie)/2,we=Be*Be/(wt*wt)+Ze*Ze/(St*St);we>1&&(wt*=Math.sqrt(we),St*=Math.sqrt(we));var We=wt*wt*(Ze*Ze)+St*St*(Be*Be),Ke=We?Math.sqrt((wt*wt*(St*St)-We)/We):1;Vt===Qt&&(Ke*=-1),isNaN(Ke)&&(Ke=0);var cr=St?Ke*wt*Ze/St:0,or=wt?Ke*-St*Be/wt:0,Ce=(ee+ye)/2+Math.cos(Dt)*cr-Math.sin(Dt)*or,sr=(se+Ie)/2+Math.sin(Dt)*cr+Math.cos(Dt)*or,ke=[(Be-cr)/wt,(Ze-or)/St],Xe=[(-1*Be-cr)/wt,(-1*Ze-or)/St],dr=Nt([1,0],ke),Sr=Nt(ke,Xe);return Mt(ke,Xe)<=-1&&(Sr=Math.PI),Mt(ke,Xe)>=1&&(Sr=0),Qt===0&&Sr>0&&(Sr=Sr-2*Math.PI),Qt===1&&Sr<0&&(Sr=Sr+2*Math.PI),{cx:Ce,cy:sr,rx:Pt(_,[ye,Ie])?0:wt,ry:Pt(_,[ye,Ie])?0:St,startAngle:dr,endAngle:dr+Sr,xRotation:Dt,arcFlag:Vt,sweepFlag:Qt}}function X(_,yt){return[yt[0]+(yt[0]-_[0]),yt[1]+(yt[1]-_[1])]}function vt(_){_=C(_);for(var yt=[],wt=null,St=null,Dt=null,Vt=0,Qt=_.length,ee=0;ee<Qt;ee++){var se=_[ee];St=_[ee+1];var ye=se[0],Ie={command:ye,prePoint:wt,params:se,startTangent:null,endTangent:null};switch(ye){case"M":Dt=[se[1],se[2]],Vt=ee;break;case"A":var Be=J(wt,se);Ie.arcParams=Be;break;default:break}if(ye==="Z")wt=Dt,St=_[Vt+1];else{var Ze=se.length;wt=[se[Ze-2],se[Ze-1]]}St&&St[0]==="Z"&&(St=_[Vt],yt[Vt]&&(yt[Vt].prePoint=wt)),Ie.currentPoint=wt,yt[Vt]&&Pt(wt,yt[Vt].currentPoint)&&(yt[Vt].prePoint=Ie.prePoint);var we=St?[St[St.length-2],St[St.length-1]]:null;Ie.nextPoint=we;var We=Ie.prePoint;if(["L","H","V"].includes(ye))Ie.startTangent=[We[0]-wt[0],We[1]-wt[1]],Ie.endTangent=[wt[0]-We[0],wt[1]-We[1]];else if(ye==="Q"){var Ke=[se[1],se[2]];Ie.startTangent=[We[0]-Ke[0],We[1]-Ke[1]],Ie.endTangent=[wt[0]-Ke[0],wt[1]-Ke[1]]}else if(ye==="T"){var cr=yt[ee-1],Ke=X(cr.currentPoint,We);cr.command==="Q"?(Ie.command="Q",Ie.startTangent=[We[0]-Ke[0],We[1]-Ke[1]],Ie.endTangent=[wt[0]-Ke[0],wt[1]-Ke[1]]):(Ie.command="TL",Ie.startTangent=[We[0]-wt[0],We[1]-wt[1]],Ie.endTangent=[wt[0]-We[0],wt[1]-We[1]])}else if(ye==="C"){var or=[se[1],se[2]],Ce=[se[3],se[4]];Ie.startTangent=[We[0]-or[0],We[1]-or[1]],Ie.endTangent=[wt[0]-Ce[0],wt[1]-Ce[1]]}else if(ye==="S"){var cr=yt[ee-1],or=X(cr.currentPoint,We),Ce=[se[1],se[2]];cr.command==="C"?(Ie.command="C",Ie.startTangent=[We[0]-or[0],We[1]-or[1]],Ie.endTangent=[wt[0]-Ce[0],wt[1]-Ce[1]]):(Ie.command="SQ",Ie.startTangent=[We[0]-Ce[0],We[1]-Ce[1]],Ie.endTangent=[wt[0]-Ce[0],wt[1]-Ce[1]])}else if(ye==="A"){var sr=.001,ke=Ie.arcParams||{},Xe=ke.cx,dr=Xe===void 0?0:Xe,Sr=ke.cy,Fr=Sr===void 0?0:Sr,hn=ke.rx,yn=hn===void 0?0:hn,Dn=ke.ry,Nn=Dn===void 0?0:Dn,Ia=ke.sweepFlag,ba=Ia===void 0?0:Ia,Oa=ke.startAngle,Wn=Oa===void 0?0:Oa,ai=ke.endAngle,Va=ai===void 0?0:ai;ba===0&&(sr*=-1);var ci=yn*Math.cos(Wn-sr)+dr,Ti=Nn*Math.sin(Wn-sr)+Fr;Ie.startTangent=[ci-Dt[0],Ti-Dt[1]];var Ui=yn*Math.cos(Wn+Va+sr)+dr,Bi=Nn*Math.sin(Wn+Va-sr)+Fr;Ie.endTangent=[We[0]-Ui,We[1]-Bi]}yt.push(Ie)}return yt}var lt=function(yt,wt,St){return yt>=wt&&yt<=St};function Ct(_,yt,wt,St){var Dt=.001,Vt={x:wt.x-_.x,y:wt.y-_.y},Qt={x:yt.x-_.x,y:yt.y-_.y},ee={x:St.x-wt.x,y:St.y-wt.y},se=Qt.x*ee.y-Qt.y*ee.x,ye=se*se,Ie=Qt.x*Qt.x+Qt.y*Qt.y,Be=ee.x*ee.x+ee.y*ee.y,Ze=null;if(ye>Dt*Ie*Be){var we=(Vt.x*ee.y-Vt.y*ee.x)/se,We=(Vt.x*Qt.y-Vt.y*Qt.x)/se;lt(we,0,1)&&lt(We,0,1)&&(Ze={x:_.x+we*Qt.x,y:_.y+we*Qt.y})}return Ze}var Ft=1e-6;function Wt(_){return Math.abs(_)<Ft?0:_<0?-1:1}function kt(_,yt,wt){return(wt[0]-_[0])*(yt[1]-_[1])==(yt[0]-_[0])*(wt[1]-_[1])&&Math.min(_[0],yt[0])<=wt[0]&&wt[0]<=Math.max(_[0],yt[0])&&Math.min(_[1],yt[1])<=wt[1]&&wt[1]<=Math.max(_[1],yt[1])}function jt(_,yt,wt){var St=!1,Dt=_.length;if(Dt<=2)return!1;for(var Vt=0;Vt<Dt;Vt++){var Qt=_[Vt],ee=_[(Vt+1)%Dt];if(kt(Qt,ee,[yt,wt]))return!0;Wt(Qt[1]-wt)>0!=Wt(ee[1]-wt)>0&&Wt(yt-(wt-Qt[1])*(Qt[0]-ee[0])/(Qt[1]-ee[1])-Qt[0])<0&&(St=!St)}return St}function Y(_){for(var yt=[],wt=_.length,St=0;St<wt-1;St++){var Dt=_[St],Vt=_[St+1];yt.push({from:{x:Dt[0],y:Dt[1]},to:{x:Vt[0],y:Vt[1]}})}if(yt.length>1){var Qt=_[0],ee=_[wt-1];yt.push({from:{x:ee[0],y:ee[1]},to:{x:Qt[0],y:Qt[1]}})}return yt}function U(_,yt){var wt=!1;return Object(h.j)(_,function(St){if(Ct(St.from,St.to,yt.from,yt.to))return wt=!0,!1}),wt}function j(_){var yt=_.map(function(St){return St[0]}),wt=_.map(function(St){return St[1]});return{minX:Math.min.apply(null,yt),maxX:Math.max.apply(null,yt),minY:Math.min.apply(null,wt),maxY:Math.max.apply(null,wt)}}function q(_,yt){return!(yt.minX>_.maxX||yt.maxX<_.minX||yt.minY>_.maxY||yt.maxY<_.minY)}function gt(_,yt){if(_.length<2||yt.length<2)return!1;var wt=j(_),St=j(yt);if(!q(wt,St))return!1;var Dt=!1;if(Object(h.j)(yt,function(se){if(jt(_,se[0],se[1]))return Dt=!0,!1}),Dt||(Object(h.j)(_,function(se){if(jt(yt,se[0],se[1]))return Dt=!0,!1}),Dt))return!0;var Vt=Y(_),Qt=Y(yt),ee=!1;return Object(h.j)(Qt,function(se){if(U(Vt,se))return ee=!0,!1}),ee}},WlgG:function(Ut,L,a){var h=a("Evga"),i=4;function O(x){return h(x,i)}Ut.exports=O},WplE:function(Ut,L){function a(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}Ut.exports=a,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},Wx0M:function(Ut,L,a){var h=a("1ban");function i(){for(var A={},S=Object.keys(h),M=S.length,b=0;b<M;b++)A[S[b]]={distance:-1,parent:null};return A}function O(A){var S=i(),M=[A];for(S[A].distance=0;M.length;)for(var b=M.pop(),g=Object.keys(h[b]),E=g.length,D=0;D<E;D++){var p=g[D],N=S[p];N.distance===-1&&(N.distance=S[b].distance+1,N.parent=b,M.unshift(p))}return S}function x(A,S){return function(M){return S(A(M))}}function C(A,S){for(var M=[S[A].parent,A],b=h[S[A].parent][A],g=S[A].parent;S[g].parent;)M.unshift(S[g].parent),b=x(h[S[g].parent][g],b),g=S[g].parent;return b.conversion=M,b}Ut.exports=function(A){for(var S=O(A),M={},b=Object.keys(S),g=b.length,E=0;E<g;E++){var D=b[E],p=S[D];p.parent!==null&&(M[D]=C(D,S))}return M}},WxhE:function(Ut,L,a){"use strict";a.d(L,"b",function(){return A}),a.d(L,"a",function(){return S});var h=a("J+IK"),i=a("jg4I"),O=a("RF2d");function x(M){var b={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},g=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];Object(i.s)(M,"fill")&&(b.color=M.fill);var E=Object(O.p)(M,g),D=E.shadowColor,p=E.shadowBlur,N=p===void 0?0:p,I=E.shadowOffsetX,G=I===void 0?0:I,W=E.shadowOffsetY,z=W===void 0?0:W;b["text-shadow"]=""+[D,G+"px",z+"px",N+"px"].join(" ");var w=Object(O.p)(M,g),T=w.stroke,B=w.lineWidth,V=B===void 0?0:B;return b["-webkit-text-stroke"]=""+[V+"px",T].join(" "),Object(i.j)(M,function($,nt){["fontSize"].includes(nt)&&Object(i.K)($)?b[Object(O.m)(nt)]=$+"px":nt&&!g.includes(nt)&&(b[Object(O.m)(nt)]=""+$)}),b}function C(M,b){M.style["pointer-events"]="none",Object(i.j)(b,function(g,E){E&&g&&(M.style[E]=g)})}var A=function(b,g,E){var D=g.statistic,p=g.plotType,N=D.title,I=D.content;[N,I].forEach(function(G,W){if(!!G){var z="",w="";W===0?w=I?"translate(-50%, -100%)":"translate(-50%, -50%)":w=N?"translate(-50%, 0)":"translate(-50%, -50%)";var T=Object(i.H)(G.style)?G.style(E):G.style;b.annotation().html(Object(h.a)({position:["50%","50%"],html:function(V,$){var nt=$.getCoordinate(),at=0;if(p==="pie"||p==="ring-progress")at=nt.getRadius()*nt.innerRadius*2;else if(p==="liquid"){var st=Object(i.s)($.geometries,[0,"elements",0,"shape"]);if(st){var tt=st.find(function(et){return et.get("name")==="wrap"}),Q=tt.getCanvasBBox().width;at=Q}}else at||(at=nt.getWidth());C(V,Object(h.a)({width:at+"px",transform:w},x(T)));var Z=$.getData();return G.customHtml?G.customHtml(V,$,E,Z):(G.formatter&&(z=G.formatter(E,Z)),z?Object(i.O)(z)?z:""+z:"<div></div>")},key:(W===0?"top":"bottom")+"-statistic"},Object(O.p)(G,["offsetX","offsetY","rotate","style","formatter"])))}})},S=function(b,g,E){var D=g.statistic,p=D.title,N=D.content;[p,N].forEach(function(I){if(!!I){var G="",W=Object(i.H)(I.style)?I.style(E):I.style;b.annotation().html(Object(h.a)({position:["50%","100%"],html:function(w,T){var B=T.getCoordinate(),V=T.views[0].getCoordinate(),$=V.getCenter(),nt=V.getRadius(),at=Math.max(Math.sin(V.startAngle),Math.sin(V.endAngle))*nt,st=$.y+at-B.y.start-parseFloat(Object(i.s)(W,"fontSize",0)),tt=B.getRadius()*B.innerRadius*2;C(w,Object(h.a)({width:tt+"px",transform:"translate(-50%, "+st+"px)"},x(W)));var Q=T.getData();return I.customHtml?I.customHtml(w,T,E,Q):(I.formatter&&(G=I.formatter(E,Q)),G?Object(i.O)(G)?G:""+G:"<div></div>")}},Object(O.p)(I,["offsetX","offsetY","rotate","style","formatter"])))}})}},WzGa:function(Ut,L){Ut.exports=a;function a(h,i,O){var x=i[0],C=i[1];return h[0]=O[0]*x+O[2]*C+O[4],h[1]=O[1]*x+O[3]*C+O[5],h}},Wzpx:function(Ut,L,a){var h=a("S8CN"),i=a("hQ5t"),O=a("8Lhm"),x=Math.max;function C(A,S,M){var b=A==null?0:A.length;if(!b)return-1;var g=M==null?0:O(M);return g<0&&(g=x(b+g,0)),h(A,i(S,3),g)}Ut.exports=C},X4CS:function(Ut,L){Ut.exports=a;function a(h,i,O){return h[0]=Math.min(i[0],O[0]),h[1]=Math.min(i[1],O[1]),h}},X5ku:function(Ut,L){},XN3X:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h});var h={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},XSdR:function(Ut,L,a){var h;try{h={cloneDeep:a("CvKH"),constant:a("vqXp"),defaults:a("Vlje"),each:a("8hqx"),filter:a("NFwm"),find:a("u3Fj"),flatten:a("qTvU"),forEach:a("KAHC"),forIn:a("OFdx"),has:a("v/6M"),isUndefined:a("4tFv"),last:a("bkR+"),map:a("N7LH"),mapValues:a("GCuf"),max:a("tCm8"),merge:a("Ixdt"),min:a("gCgN"),minBy:a("HMFt"),now:a("H4kY"),pick:a("H+Qf"),range:a("t3mm"),reduce:a("5+Yv"),sortBy:a("+o0w"),uniqueId:a("ax0x"),values:a("jHy/"),zipObject:a("sNXT")}}catch(i){}h||(h=window._),Ut.exports=h},XlHn:function(Ut,L){},XqNA:function(Ut,L,a){"use strict";a.d(L,"a",function(){return A});var h=a("J+IK"),i=a("d38q"),O=a("cqdR"),x=a("5Hz4"),C=a("34FO"),A=function(S){Object(h.c)(M,S);function M(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="process",b}return M.getDefaultOptions=function(){return x.b},M.prototype.changeData=function(b){this.updateOption({percent:b}),this.chart.changeData(Object(C.a)(b))},M.prototype.getDefaultOptions=function(){return M.getDefaultOptions()},M.prototype.getSchemaAdaptor=function(){return O.a},M}(i.b)},Xure:function(Ut,L,a){var h=a("ql+n");Ut.exports=O;var i=h.constant(1);function O(C,A,S){return x(C,A||i,S||function(M){return C.outEdges(M)})}function x(C,A,S){var M={},b=C.nodes();return b.forEach(function(g){M[g]={},M[g][g]={distance:0},b.forEach(function(E){g!==E&&(M[g][E]={distance:Number.POSITIVE_INFINITY})}),S(g).forEach(function(E){var D=E.v===g?E.w:E.v,p=A(E);M[g][D]={distance:p,predecessor:g}})}),b.forEach(function(g){var E=M[g];b.forEach(function(D){var p=M[D];b.forEach(function(N){var I=p[g],G=E[N],W=p[N],z=I.distance+G.distance;z<W.distance&&(W.distance=z,W.predecessor=G.predecessor)})})}),M}},"Y+uZ":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Context=void 0;var h=a("/LIz"),i=function(){function O(x){this.id=h.id(),this.container=x}return O.prototype.addPlan=function(x){this.plan=x},O.prototype.setCurrentRequest=function(x){this.currentRequest=x},O}();L.Context=i},Y3cu:function(Ut,L,a){"use strict";a.d(L,"b",function(){return g}),a.d(L,"a",function(){return E});var h=a("jGCv"),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(D,p){var N=D.match(C);Object(h.c)(N,function(I){var G=I.split(":");p.addColorStop(G[0],G[1])})}function S(D,p,N){var I=i.exec(N),G=parseFloat(I[1])%360*(Math.PI/180),W=I[2],z=p.getBBox(),w,T;G>=0&&G<1/2*Math.PI?(w={x:z.minX,y:z.minY},T={x:z.maxX,y:z.maxY}):1/2*Math.PI<=G&&G<Math.PI?(w={x:z.maxX,y:z.minY},T={x:z.minX,y:z.maxY}):Math.PI<=G&&G<3/2*Math.PI?(w={x:z.maxX,y:z.maxY},T={x:z.minX,y:z.minY}):(w={x:z.minX,y:z.maxY},T={x:z.maxX,y:z.minY});var B=Math.tan(G),V=B*B,$=(T.x-w.x+B*(T.y-w.y))/(V+1)+w.x,nt=B*(T.x-w.x+B*(T.y-w.y))/(V+1)+w.y,at=D.createLinearGradient(w.x,w.y,$,nt);return A(W,at),at}function M(D,p,N){var I=O.exec(N),G=parseFloat(I[1]),W=parseFloat(I[2]),z=parseFloat(I[3]),w=I[4];if(z===0){var T=w.match(C);return T[T.length-1].split(":")[1]}var B=p.getBBox(),V=B.maxX-B.minX,$=B.maxY-B.minY,nt=Math.sqrt(V*V+$*$)/2,at=D.createRadialGradient(B.minX+V*G,B.minY+$*W,0,B.minX+V/2,B.minY+$/2,z*nt);return A(w,at),at}function b(D,p,N){if(p.get("patternSource")&&p.get("patternSource")===N)return p.get("pattern");var I,G,W=x.exec(N),z=W[1],w=W[2];function T(){I=D.createPattern(G,z),p.set("pattern",I),p.set("patternSource",N)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return G=new Image,w.match(/^data:/i)||(G.crossOrigin="Anonymous"),G.src=w,G.complete?T():(G.onload=T,G.src=G.src),I}function g(D,p,N){if(Object(h.k)(N)){if(N[1]==="("||N[2]==="("){if(N[0]==="l")return S(D,p,N);if(N[0]==="r")return M(D,p,N);if(N[0]==="p")return b(D,p,N)}return N}}function E(D){var p=0,N=0,I=0,G=0;return Object(h.g)(D)?D.length===1?p=N=I=G=D[0]:D.length===2?(p=I=D[0],N=G=D[1]):D.length===3?(p=D[0],N=G=D[1],I=D[2]):(p=D[0],N=D[1],I=D[2],G=D[3]):p=N=I=G=D,[p,N,I,G]}},YCma:function(Ut,L,a){"use strict";a.r(L),a.d(L,"catmullRomToBezier",function(){return A}),a.d(L,"fillPath",function(){return ct}),a.d(L,"fillPathByDiff",function(){return xt}),a.d(L,"formatPath",function(){return Kt}),a.d(L,"intersection",function(){return tt}),a.d(L,"parsePathArray",function(){return N}),a.d(L,"parsePathString",function(){return C}),a.d(L,"pathToAbsolute",function(){return M}),a.d(L,"pathToCurve",function(){return D}),a.d(L,"rectPath",function(){return T});var h=a("jg4I"),i=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,O=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),C=function(bt){if(!bt)return null;if(Object(h.B)(bt))return bt;var ft={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},dt=[];return String(bt).replace(O,function(ot,Mt,Nt){var Pt=[],J=Mt.toLowerCase();if(Nt.replace(x,function(X,vt){vt&&Pt.push(+vt)}),J==="m"&&Pt.length>2&&(dt.push([Mt].concat(Pt.splice(0,2))),J="l",Mt=Mt==="m"?"l":"L"),J==="o"&&Pt.length===1&&dt.push([Mt,Pt[0]]),J==="r")dt.push([Mt].concat(Pt));else for(;Pt.length>=ft[J]&&(dt.push([Mt].concat(Pt.splice(0,ft[J]))),!!ft[J]););return bt}),dt},A=function(bt,ft){for(var dt=[],ot=0,Mt=bt.length;Mt-2*!ft>ot;ot+=2){var Nt=[{x:+bt[ot-2],y:+bt[ot-1]},{x:+bt[ot],y:+bt[ot+1]},{x:+bt[ot+2],y:+bt[ot+3]},{x:+bt[ot+4],y:+bt[ot+5]}];ft?ot?Mt-4===ot?Nt[3]={x:+bt[0],y:+bt[1]}:Mt-2===ot&&(Nt[2]={x:+bt[0],y:+bt[1]},Nt[3]={x:+bt[2],y:+bt[3]}):Nt[0]={x:+bt[Mt-2],y:+bt[Mt-1]}:Mt-4===ot?Nt[3]=Nt[2]:ot||(Nt[0]={x:+bt[ot],y:+bt[ot+1]}),dt.push(["C",(-Nt[0].x+6*Nt[1].x+Nt[2].x)/6,(-Nt[0].y+6*Nt[1].y+Nt[2].y)/6,(Nt[1].x+6*Nt[2].x-Nt[3].x)/6,(Nt[1].y+6*Nt[2].y-Nt[3].y)/6,Nt[2].x,Nt[2].y])}return dt},S=function(bt,ft,dt,ot,Mt){var Nt=[];if(Mt===null&&ot===null&&(ot=dt),bt=+bt,ft=+ft,dt=+dt,ot=+ot,Mt!==null){var Pt=Math.PI/180,J=bt+dt*Math.cos(-ot*Pt),X=bt+dt*Math.cos(-Mt*Pt),vt=ft+dt*Math.sin(-ot*Pt),lt=ft+dt*Math.sin(-Mt*Pt);Nt=[["M",J,vt],["A",dt,dt,0,+(Mt-ot>180),0,X,lt]]}else Nt=[["M",bt,ft],["m",0,-ot],["a",dt,ot,0,1,1,0,2*ot],["a",dt,ot,0,1,1,0,-2*ot],["z"]];return Nt},M=function(bt){if(bt=C(bt),!bt||!bt.length)return[["M",0,0]];var ft=[],dt=0,ot=0,Mt=0,Nt=0,Pt=0,J,X;bt[0][0]==="M"&&(dt=+bt[0][1],ot=+bt[0][2],Mt=dt,Nt=ot,Pt++,ft[0]=["M",dt,ot]);for(var vt=bt.length===3&&bt[0][0]==="M"&&bt[1][0].toUpperCase()==="R"&&bt[2][0].toUpperCase()==="Z",lt=void 0,Ct=void 0,Ft=Pt,Wt=bt.length;Ft<Wt;Ft++){if(ft.push(lt=[]),Ct=bt[Ft],J=Ct[0],J!==J.toUpperCase())switch(lt[0]=J.toUpperCase(),lt[0]){case"A":lt[1]=Ct[1],lt[2]=Ct[2],lt[3]=Ct[3],lt[4]=Ct[4],lt[5]=Ct[5],lt[6]=+Ct[6]+dt,lt[7]=+Ct[7]+ot;break;case"V":lt[1]=+Ct[1]+ot;break;case"H":lt[1]=+Ct[1]+dt;break;case"R":X=[dt,ot].concat(Ct.slice(1));for(var kt=2,jt=X.length;kt<jt;kt++)X[kt]=+X[kt]+dt,X[++kt]=+X[kt]+ot;ft.pop(),ft=ft.concat(A(X,vt));break;case"O":ft.pop(),X=S(dt,ot,Ct[1],Ct[2]),X.push(X[0]),ft=ft.concat(X);break;case"U":ft.pop(),ft=ft.concat(S(dt,ot,Ct[1],Ct[2],Ct[3])),lt=["U"].concat(ft[ft.length-1].slice(-2));break;case"M":Mt=+Ct[1]+dt,Nt=+Ct[2]+ot;break;default:for(var kt=1,jt=Ct.length;kt<jt;kt++)lt[kt]=+Ct[kt]+(kt%2?dt:ot)}else if(J==="R")X=[dt,ot].concat(Ct.slice(1)),ft.pop(),ft=ft.concat(A(X,vt)),lt=["R"].concat(Ct.slice(-2));else if(J==="O")ft.pop(),X=S(dt,ot,Ct[1],Ct[2]),X.push(X[0]),ft=ft.concat(X);else if(J==="U")ft.pop(),ft=ft.concat(S(dt,ot,Ct[1],Ct[2],Ct[3])),lt=["U"].concat(ft[ft.length-1].slice(-2));else for(var Y=0,U=Ct.length;Y<U;Y++)lt[Y]=Ct[Y];if(J=J.toUpperCase(),J!=="O")switch(lt[0]){case"Z":dt=+Mt,ot=+Nt;break;case"H":dt=lt[1];break;case"V":ot=lt[1];break;case"M":Mt=lt[lt.length-2],Nt=lt[lt.length-1];break;default:dt=lt[lt.length-2],ot=lt[lt.length-1]}}return ft},b=function(bt,ft,dt,ot){return[bt,ft,dt,ot,dt,ot]},g=function(bt,ft,dt,ot,Mt,Nt){var Pt=1/3,J=2/3;return[Pt*bt+J*dt,Pt*ft+J*ot,Pt*Mt+J*dt,Pt*Nt+J*ot,Mt,Nt]},E=function Yt(bt,ft,dt,ot,Mt,Nt,Pt,J,X,vt){dt===ot&&(dt+=1);var lt=Math.PI*120/180,Ct=Math.PI/180*(+Mt||0),Ft=[],Wt,kt,jt,Y,U,j=function(Sr,Fr,hn){var yn=Sr*Math.cos(hn)-Fr*Math.sin(hn),Dn=Sr*Math.sin(hn)+Fr*Math.cos(hn);return{x:yn,y:Dn}};if(vt)kt=vt[0],jt=vt[1],Y=vt[2],U=vt[3];else{Wt=j(bt,ft,-Ct),bt=Wt.x,ft=Wt.y,Wt=j(J,X,-Ct),J=Wt.x,X=Wt.y,bt===J&&ft===X&&(J+=1,X+=1);var q=(bt-J)/2,gt=(ft-X)/2,_=q*q/(dt*dt)+gt*gt/(ot*ot);_>1&&(_=Math.sqrt(_),dt=_*dt,ot=_*ot);var yt=dt*dt,wt=ot*ot,St=(Nt===Pt?-1:1)*Math.sqrt(Math.abs((yt*wt-yt*gt*gt-wt*q*q)/(yt*gt*gt+wt*q*q)));Y=St*dt*gt/ot+(bt+J)/2,U=St*-ot*q/dt+(ft+X)/2,kt=Math.asin(((ft-U)/ot).toFixed(9)),jt=Math.asin(((X-U)/ot).toFixed(9)),kt=bt<Y?Math.PI-kt:kt,jt=J<Y?Math.PI-jt:jt,kt<0&&(kt=Math.PI*2+kt),jt<0&&(jt=Math.PI*2+jt),Pt&&kt>jt&&(kt=kt-Math.PI*2),!Pt&&jt>kt&&(jt=jt-Math.PI*2)}var Dt=jt-kt;if(Math.abs(Dt)>lt){var Vt=jt,Qt=J,ee=X;jt=kt+lt*(Pt&&jt>kt?1:-1),J=Y+dt*Math.cos(jt),X=U+ot*Math.sin(jt),Ft=Yt(J,X,dt,ot,Mt,0,Pt,Qt,ee,[jt,Vt,Y,U])}Dt=jt-kt;var se=Math.cos(kt),ye=Math.sin(kt),Ie=Math.cos(jt),Be=Math.sin(jt),Ze=Math.tan(Dt/4),we=4/3*dt*Ze,We=4/3*ot*Ze,Ke=[bt,ft],cr=[bt+we*ye,ft-We*se],or=[J+we*Be,X-We*Ie],Ce=[J,X];if(cr[0]=2*Ke[0]-cr[0],cr[1]=2*Ke[1]-cr[1],vt)return[cr,or,Ce].concat(Ft);Ft=[cr,or,Ce].concat(Ft).join().split(",");for(var sr=[],ke=0,Xe=Ft.length;ke<Xe;ke++)sr[ke]=ke%2?j(Ft[ke-1],Ft[ke],Ct).y:j(Ft[ke],Ft[ke+1],Ct).x;return sr},D=function(bt,ft){var dt=M(bt),ot=ft&&M(ft),Mt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Pt=[],J=[],X="",vt="",lt,Ct=function(gt,_,yt){var wt,St;if(!gt)return["C",_.x,_.y,_.x,_.y,_.x,_.y];switch(!(gt[0]in{T:1,Q:1})&&(_.qx=_.qy=null),gt[0]){case"M":_.X=gt[1],_.Y=gt[2];break;case"A":gt=["C"].concat(E.apply(0,[_.x,_.y].concat(gt.slice(1))));break;case"S":yt==="C"||yt==="S"?(wt=_.x*2-_.bx,St=_.y*2-_.by):(wt=_.x,St=_.y),gt=["C",wt,St].concat(gt.slice(1));break;case"T":yt==="Q"||yt==="T"?(_.qx=_.x*2-_.qx,_.qy=_.y*2-_.qy):(_.qx=_.x,_.qy=_.y),gt=["C"].concat(g(_.x,_.y,_.qx,_.qy,gt[1],gt[2]));break;case"Q":_.qx=gt[1],_.qy=gt[2],gt=["C"].concat(g(_.x,_.y,gt[1],gt[2],gt[3],gt[4]));break;case"L":gt=["C"].concat(b(_.x,_.y,gt[1],gt[2]));break;case"H":gt=["C"].concat(b(_.x,_.y,gt[1],_.y));break;case"V":gt=["C"].concat(b(_.x,_.y,_.x,gt[1]));break;case"Z":gt=["C"].concat(b(_.x,_.y,_.X,_.Y));break;default:break}return gt},Ft=function(gt,_){if(gt[_].length>7){gt[_].shift();for(var yt=gt[_];yt.length;)Pt[_]="A",ot&&(J[_]="A"),gt.splice(_++,0,["C"].concat(yt.splice(0,6)));gt.splice(_,1),lt=Math.max(dt.length,ot&&ot.length||0)}},Wt=function(gt,_,yt,wt,St){gt&&_&&gt[St][0]==="M"&&_[St][0]!=="M"&&(_.splice(St,0,["M",wt.x,wt.y]),yt.bx=0,yt.by=0,yt.x=gt[St][1],yt.y=gt[St][2],lt=Math.max(dt.length,ot&&ot.length||0))};lt=Math.max(dt.length,ot&&ot.length||0);for(var kt=0;kt<lt;kt++){dt[kt]&&(X=dt[kt][0]),X!=="C"&&(Pt[kt]=X,kt&&(vt=Pt[kt-1])),dt[kt]=Ct(dt[kt],Mt,vt),Pt[kt]!=="A"&&X==="C"&&(Pt[kt]="C"),Ft(dt,kt),ot&&(ot[kt]&&(X=ot[kt][0]),X!=="C"&&(J[kt]=X,kt&&(vt=J[kt-1])),ot[kt]=Ct(ot[kt],Nt,vt),J[kt]!=="A"&&X==="C"&&(J[kt]="C"),Ft(ot,kt)),Wt(dt,ot,Mt,Nt,kt),Wt(ot,dt,Nt,Mt,kt);var jt=dt[kt],Y=ot&&ot[kt],U=jt.length,j=ot&&Y.length;Mt.x=jt[U-2],Mt.y=jt[U-1],Mt.bx=parseFloat(jt[U-4])||Mt.x,Mt.by=parseFloat(jt[U-3])||Mt.y,Nt.bx=ot&&(parseFloat(Y[j-4])||Nt.x),Nt.by=ot&&(parseFloat(Y[j-3])||Nt.y),Nt.x=ot&&Y[j-2],Nt.y=ot&&Y[j-1]}return ot?[dt,ot]:dt},p=/,?([a-z]),?/gi,N=function(bt){return bt.join(",").replace(p,"$1")},I=function(bt,ft,dt,ot,Mt){var Nt=-3*ft+9*dt-9*ot+3*Mt,Pt=bt*Nt+6*ft-12*dt+6*ot;return bt*Pt-3*ft+3*dt},G=function(bt,ft,dt,ot,Mt,Nt,Pt,J,X){X===null&&(X=1),X=X>1?1:X<0?0:X;for(var vt=X/2,lt=12,Ct=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ft=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Wt=0,kt=0;kt<lt;kt++){var jt=vt*Ct[kt]+vt,Y=I(jt,bt,dt,Mt,Pt),U=I(jt,ft,ot,Nt,J),j=Y*Y+U*U;Wt+=Ft[kt]*Math.sqrt(j)}return vt*Wt},W=function(bt,ft,dt,ot,Mt,Nt,Pt,J){for(var X=[],vt=[[],[]],lt,Ct,Ft,Wt,kt=0;kt<2;++kt){if(kt===0?(Ct=6*bt-12*dt+6*Mt,lt=-3*bt+9*dt-9*Mt+3*Pt,Ft=3*dt-3*bt):(Ct=6*ft-12*ot+6*Nt,lt=-3*ft+9*ot-9*Nt+3*J,Ft=3*ot-3*ft),Math.abs(lt)<1e-12){if(Math.abs(Ct)<1e-12)continue;Wt=-Ft/Ct,Wt>0&&Wt<1&&X.push(Wt);continue}var jt=Ct*Ct-4*Ft*lt,Y=Math.sqrt(jt);if(!(jt<0)){var U=(-Ct+Y)/(2*lt);U>0&&U<1&&X.push(U);var j=(-Ct-Y)/(2*lt);j>0&&j<1&&X.push(j)}}for(var q=X.length,gt=q,_;q--;)Wt=X[q],_=1-Wt,vt[0][q]=_*_*_*bt+3*_*_*Wt*dt+3*_*Wt*Wt*Mt+Wt*Wt*Wt*Pt,vt[1][q]=_*_*_*ft+3*_*_*Wt*ot+3*_*Wt*Wt*Nt+Wt*Wt*Wt*J;return vt[0][gt]=bt,vt[1][gt]=ft,vt[0][gt+1]=Pt,vt[1][gt+1]=J,vt[0].length=vt[1].length=gt+2,{min:{x:Math.min.apply(0,vt[0]),y:Math.min.apply(0,vt[1])},max:{x:Math.max.apply(0,vt[0]),y:Math.max.apply(0,vt[1])}}},z=function(bt,ft,dt,ot,Mt,Nt,Pt,J){if(!(Math.max(bt,dt)<Math.min(Mt,Pt)||Math.min(bt,dt)>Math.max(Mt,Pt)||Math.max(ft,ot)<Math.min(Nt,J)||Math.min(ft,ot)>Math.max(Nt,J))){var X=(bt*ot-ft*dt)*(Mt-Pt)-(bt-dt)*(Mt*J-Nt*Pt),vt=(bt*ot-ft*dt)*(Nt-J)-(ft-ot)*(Mt*J-Nt*Pt),lt=(bt-dt)*(Nt-J)-(ft-ot)*(Mt-Pt);if(!!lt){var Ct=X/lt,Ft=vt/lt,Wt=+Ct.toFixed(2),kt=+Ft.toFixed(2);if(!(Wt<+Math.min(bt,dt).toFixed(2)||Wt>+Math.max(bt,dt).toFixed(2)||Wt<+Math.min(Mt,Pt).toFixed(2)||Wt>+Math.max(Mt,Pt).toFixed(2)||kt<+Math.min(ft,ot).toFixed(2)||kt>+Math.max(ft,ot).toFixed(2)||kt<+Math.min(Nt,J).toFixed(2)||kt>+Math.max(Nt,J).toFixed(2)))return{x:Ct,y:Ft}}}},w=function(bt,ft,dt){return ft>=bt.x&&ft<=bt.x+bt.width&&dt>=bt.y&&dt<=bt.y+bt.height},T=function(bt,ft,dt,ot,Mt){if(Mt)return[["M",+bt+ +Mt,ft],["l",dt-Mt*2,0],["a",Mt,Mt,0,0,1,Mt,Mt],["l",0,ot-Mt*2],["a",Mt,Mt,0,0,1,-Mt,Mt],["l",Mt*2-dt,0],["a",Mt,Mt,0,0,1,-Mt,-Mt],["l",0,Mt*2-ot],["a",Mt,Mt,0,0,1,Mt,-Mt],["z"]];var Nt=[["M",bt,ft],["l",dt,0],["l",0,ot],["l",-dt,0],["z"]];return Nt.parsePathArray=N,Nt},B=function(bt,ft,dt,ot){return bt===null&&(bt=ft=dt=ot=0),ft===null&&(ft=bt.y,dt=bt.width,ot=bt.height,bt=bt.x),{x:bt,y:ft,width:dt,w:dt,height:ot,h:ot,x2:bt+dt,y2:ft+ot,cx:bt+dt/2,cy:ft+ot/2,r1:Math.min(dt,ot)/2,r2:Math.max(dt,ot)/2,r0:Math.sqrt(dt*dt+ot*ot)/2,path:T(bt,ft,dt,ot),vb:[bt,ft,dt,ot].join(" ")}},V=function(bt,ft){return bt=B(bt),ft=B(ft),w(ft,bt.x,bt.y)||w(ft,bt.x2,bt.y)||w(ft,bt.x,bt.y2)||w(ft,bt.x2,bt.y2)||w(bt,ft.x,ft.y)||w(bt,ft.x2,ft.y)||w(bt,ft.x,ft.y2)||w(bt,ft.x2,ft.y2)||(bt.x<ft.x2&&bt.x>ft.x||ft.x<bt.x2&&ft.x>bt.x)&&(bt.y<ft.y2&&bt.y>ft.y||ft.y<bt.y2&&ft.y>bt.y)},$=function(bt,ft,dt,ot,Mt,Nt,Pt,J){Object(h.B)(bt)||(bt=[bt,ft,dt,ot,Mt,Nt,Pt,J]);var X=W.apply(null,bt);return B(X.min.x,X.min.y,X.max.x-X.min.x,X.max.y-X.min.y)},nt=function(bt,ft,dt,ot,Mt,Nt,Pt,J,X){var vt=1-X,lt=Math.pow(vt,3),Ct=Math.pow(vt,2),Ft=X*X,Wt=Ft*X,kt=lt*bt+Ct*3*X*dt+vt*3*X*X*Mt+Wt*Pt,jt=lt*ft+Ct*3*X*ot+vt*3*X*X*Nt+Wt*J,Y=bt+2*X*(dt-bt)+Ft*(Mt-2*dt+bt),U=ft+2*X*(ot-ft)+Ft*(Nt-2*ot+ft),j=dt+2*X*(Mt-dt)+Ft*(Pt-2*Mt+dt),q=ot+2*X*(Nt-ot)+Ft*(J-2*Nt+ot),gt=vt*bt+X*dt,_=vt*ft+X*ot,yt=vt*Mt+X*Pt,wt=vt*Nt+X*J,St=90-Math.atan2(Y-j,U-q)*180/Math.PI;return{x:kt,y:jt,m:{x:Y,y:U},n:{x:j,y:q},start:{x:gt,y:_},end:{x:yt,y:wt},alpha:St}},at=function(bt,ft,dt){var ot=$(bt),Mt=$(ft);if(!V(ot,Mt))return dt?0:[];for(var Nt=G.apply(0,bt),Pt=G.apply(0,ft),J=~~(Nt/8),X=~~(Pt/8),vt=[],lt=[],Ct={},Ft=dt?0:[],Wt=0;Wt<J+1;Wt++){var kt=nt.apply(0,bt.concat(Wt/J));vt.push({x:kt.x,y:kt.y,t:Wt/J})}for(var Wt=0;Wt<X+1;Wt++){var kt=nt.apply(0,ft.concat(Wt/X));lt.push({x:kt.x,y:kt.y,t:Wt/X})}for(var Wt=0;Wt<J;Wt++)for(var jt=0;jt<X;jt++){var Y=vt[Wt],U=vt[Wt+1],j=lt[jt],q=lt[jt+1],gt=Math.abs(U.x-Y.x)<.001?"y":"x",_=Math.abs(q.x-j.x)<.001?"y":"x",yt=z(Y.x,Y.y,U.x,U.y,j.x,j.y,q.x,q.y);if(yt){if(Ct[yt.x.toFixed(4)]===yt.y.toFixed(4))continue;Ct[yt.x.toFixed(4)]=yt.y.toFixed(4);var wt=Y.t+Math.abs((yt[gt]-Y[gt])/(U[gt]-Y[gt]))*(U.t-Y.t),St=j.t+Math.abs((yt[_]-j[_])/(q[_]-j[_]))*(q.t-j.t);wt>=0&&wt<=1&&St>=0&&St<=1&&(dt?Ft+=1:Ft.push({x:yt.x,y:yt.y,t1:wt,t2:St}))}}return Ft},st=function(bt,ft,dt){bt=D(bt),ft=D(ft);for(var ot,Mt,Nt,Pt,J,X,vt,lt,Ct,Ft,Wt=dt?0:[],kt=0,jt=bt.length;kt<jt;kt++){var Y=bt[kt];if(Y[0]==="M")ot=J=Y[1],Mt=X=Y[2];else{Y[0]==="C"?(Ct=[ot,Mt].concat(Y.slice(1)),ot=Ct[6],Mt=Ct[7]):(Ct=[ot,Mt,ot,Mt,J,X,J,X],ot=J,Mt=X);for(var U=0,j=ft.length;U<j;U++){var q=ft[U];if(q[0]==="M")Nt=vt=q[1],Pt=lt=q[2];else{q[0]==="C"?(Ft=[Nt,Pt].concat(q.slice(1)),Nt=Ft[6],Pt=Ft[7]):(Ft=[Nt,Pt,Nt,Pt,vt,lt,vt,lt],Nt=vt,Pt=lt);var gt=at(Ct,Ft,dt);if(dt)Wt+=gt;else{for(var _=0,yt=gt.length;_<yt;_++)gt[_].segment1=kt,gt[_].segment2=U,gt[_].bez1=Ct,gt[_].bez2=Ft;Wt=Wt.concat(gt)}}}}}return Wt},tt=function(bt,ft){return st(bt,ft)};function Q(Yt,bt){var ft=[],dt=[];function ot(Mt,Nt){if(Mt.length===1)ft.push(Mt[0]),dt.push(Mt[0]);else{for(var Pt=[],J=0;J<Mt.length-1;J++)J===0&&ft.push(Mt[0]),J===Mt.length-2&&dt.push(Mt[J+1]),Pt[J]=[(1-Nt)*Mt[J][0]+Nt*Mt[J+1][0],(1-Nt)*Mt[J][1]+Nt*Mt[J+1][1]];ot(Pt,Nt)}}return Yt.length&&ot(Yt,bt),{left:ft,right:dt.reverse()}}function Z(Yt,bt,ft){var dt=[[Yt[1],Yt[2]]];ft=ft||2;var ot=[];bt[0]==="A"?(dt.push(bt[6]),dt.push(bt[7])):bt[0]==="C"?(dt.push([bt[1],bt[2]]),dt.push([bt[3],bt[4]]),dt.push([bt[5],bt[6]])):bt[0]==="S"||bt[0]==="Q"?(dt.push([bt[1],bt[2]]),dt.push([bt[3],bt[4]])):dt.push([bt[1],bt[2]]);for(var Mt=dt,Nt=1/ft,Pt=0;Pt<ft-1;Pt++){var J=Nt/(1-Nt*Pt),X=Q(Mt,J);ot.push(X.left),Mt=X.right}ot.push(Mt);var vt=ot.map(function(lt){var Ct=[];return lt.length===4&&(Ct.push("C"),Ct=Ct.concat(lt[2])),lt.length>=3&&(lt.length===3&&Ct.push("Q"),Ct=Ct.concat(lt[1])),lt.length===2&&Ct.push("L"),Ct=Ct.concat(lt[lt.length-1]),Ct});return vt}var et=function(bt,ft,dt){if(dt===1)return[[].concat(bt)];var ot=[];if(ft[0]==="L"||ft[0]==="C"||ft[0]==="Q")ot=ot.concat(Z(bt,ft,dt));else{var Mt=[].concat(bt);Mt[0]==="M"&&(Mt[0]="L");for(var Nt=0;Nt<=dt-1;Nt++)ot.push(Mt)}return ot},ct=function(bt,ft){if(bt.length===1)return bt;var dt=bt.length-1,ot=ft.length-1,Mt=dt/ot,Nt=[];if(bt.length===1&&bt[0][0]==="M"){for(var Pt=0;Pt<ot-dt;Pt++)bt.push(bt[0]);return bt}for(var Pt=0;Pt<ot;Pt++){var J=Math.floor(Mt*Pt);Nt[J]=(Nt[J]||0)+1}var X=Nt.reduce(function(vt,lt,Ct){return Ct===dt?vt.concat(bt[dt]):vt.concat(et(bt[Ct],bt[Ct+1],lt))},[]);return X.unshift(bt[0]),(ft[ot]==="Z"||ft[ot]==="z")&&X.push("Z"),X},mt=function(bt,ft){if(bt.length!==ft.length)return!1;var dt=!0;return Object(h.j)(bt,function(ot,Mt){if(ot!==ft[Mt])return dt=!1,!1}),dt};function Ot(Yt,bt,ft){var dt=null,ot=ft;return bt<ot&&(ot=bt,dt="add"),Yt<ot&&(ot=Yt,dt="del"),{type:dt,min:ot}}var it=function(bt,ft){var dt=bt.length,ot=ft.length,Mt,Nt,Pt=0;if(dt===0||ot===0)return null;for(var J=[],X=0;X<=dt;X++)J[X]=[],J[X][0]={min:X};for(var vt=0;vt<=ot;vt++)J[0][vt]={min:vt};for(var X=1;X<=dt;X++){Mt=bt[X-1];for(var vt=1;vt<=ot;vt++){Nt=ft[vt-1],mt(Mt,Nt)?Pt=0:Pt=1;var lt=J[X-1][vt].min+1,Ct=J[X][vt-1].min+1,Ft=J[X-1][vt-1].min+Pt;J[X][vt]=Ot(lt,Ct,Ft)}}return J},xt=function(bt,ft){var dt=it(bt,ft),ot=bt.length,Mt=ft.length,Nt=[],Pt=1,J=1;if(dt[ot][Mt].min!==ot){for(var X=1;X<=ot;X++){var vt=dt[X][X].min;J=X;for(var lt=Pt;lt<=Mt;lt++)dt[X][lt].min<vt&&(vt=dt[X][lt].min,J=lt);Pt=J,dt[X][Pt].type&&Nt.push({index:X-1,type:dt[X][Pt].type})}for(var X=Nt.length-1;X>=0;X--)Pt=Nt[X].index,Nt[X].type==="add"?bt.splice(Pt,0,[].concat(bt[Pt])):bt.splice(Pt,1)}ot=bt.length;var Ct=Mt-ot;if(ot<Mt)for(var X=0;X<Ct;X++)bt[ot-1][0]==="z"||bt[ot-1][0]==="Z"?bt.splice(ot-2,0,bt[ot-2]):bt.push(bt[ot-1]),ot+=1;return bt};function It(Yt,bt,ft){for(var dt=[].concat(Yt),ot,Mt=1/(ft+1),Nt=zt(bt)[0],Pt=1;Pt<=ft;Pt++)Mt*=Pt,ot=Math.floor(Yt.length*Mt),ot===0?dt.unshift([Nt[0]*Mt+Yt[ot][0]*(1-Mt),Nt[1]*Mt+Yt[ot][1]*(1-Mt)]):dt.splice(ot,0,[Nt[0]*Mt+Yt[ot][0]*(1-Mt),Nt[1]*Mt+Yt[ot][1]*(1-Mt)]);return dt}function zt(Yt){var bt=[];switch(Yt[0]){case"M":bt.push([Yt[1],Yt[2]]);break;case"L":bt.push([Yt[1],Yt[2]]);break;case"A":bt.push([Yt[6],Yt[7]]);break;case"Q":bt.push([Yt[3],Yt[4]]),bt.push([Yt[1],Yt[2]]);break;case"T":bt.push([Yt[1],Yt[2]]);break;case"C":bt.push([Yt[5],Yt[6]]),bt.push([Yt[1],Yt[2]]),bt.push([Yt[3],Yt[4]]);break;case"S":bt.push([Yt[3],Yt[4]]),bt.push([Yt[1],Yt[2]]);break;case"H":bt.push([Yt[1],Yt[1]]);break;case"V":bt.push([Yt[1],Yt[1]]);break;default:}return bt}var Kt=function(bt,ft){if(bt.length<=1)return bt;for(var dt,ot=0;ot<ft.length;ot++)if(bt[ot][0]!==ft[ot][0])switch(dt=zt(bt[ot]),ft[ot][0]){case"M":bt[ot]=["M"].concat(dt[0]);break;case"L":bt[ot]=["L"].concat(dt[0]);break;case"A":bt[ot]=[].concat(ft[ot]),bt[ot][6]=dt[0][0],bt[ot][7]=dt[0][1];break;case"Q":if(dt.length<2)if(ot>0)dt=It(dt,bt[ot-1],1);else{bt[ot]=ft[ot];break}bt[ot]=["Q"].concat(dt.reduce(function(Mt,Nt){return Mt.concat(Nt)},[]));break;case"T":bt[ot]=["T"].concat(dt[0]);break;case"C":if(dt.length<3)if(ot>0)dt=It(dt,bt[ot-1],2);else{bt[ot]=ft[ot];break}bt[ot]=["C"].concat(dt.reduce(function(Mt,Nt){return Mt.concat(Nt)},[]));break;case"S":if(dt.length<2)if(ot>0)dt=It(dt,bt[ot-1],1);else{bt[ot]=ft[ot];break}bt[ot]=["S"].concat(dt.reduce(function(Mt,Nt){return Mt.concat(Nt)},[]));break;default:bt[ot]=ft[ot]}return bt}},YI4C:function(Ut,L,a){"use strict";a.d(L,"a",function(){return G});var h=a("J+IK"),i=a("d38q"),O=a("RF2d"),x=a("ggto"),C=a("OM6K");function A(W){var z=W.chart,w=W.options,T=w.data,B=w.lineStyle,V=w.color,$=w.point,nt=w.area,at=$==null?void 0:$.state;z.data(T);var st=Object(O.b)({},W,{options:{line:{style:B,color:V},point:$&&Object(h.a)({color:V},$),area:nt&&Object(h.a)({color:V},nt),label:void 0}}),tt=Object(O.b)({},st,{options:{tooltip:!1}}),Q=Object(O.b)({},st,{options:{tooltip:!1,state:at}});return Object(C.d)(st),Object(C.e)(Q),Object(C.a)(tt),W}function S(W){var z,w=W.options,T=w.xAxis,B=w.yAxis,V=w.xField,$=w.yField;return Object(O.e)(Object(x.f)((z={},z[V]=T,z[$]=B,z)))(W)}function M(W){var z=W.chart,w=W.options,T=w.radius,B=w.startAngle,V=w.endAngle;return z.coordinate("polar",{radius:T,startAngle:B,endAngle:V}),W}function b(W){var z=W.chart,w=W.options,T=w.xField,B=w.xAxis,V=w.yField,$=w.yAxis;return z.axis(T,B),z.axis(V,$),W}function g(W){var z=W.chart,w=W.options,T=w.label,B=w.yField,V=Object(O.c)(z,"line");if(!T)V.label(!1);else{var $=T.callback,nt=Object(h.e)(T,["callback"]);V.label({fields:[B],callback:$,cfg:Object(O.u)(nt)})}return W}function E(W){return Object(O.e)(A,S,x.j,M,b,x.d,x.k,g,x.c,x.a,Object(x.b)())(W)}var D=a("AO+g"),p=a("jg4I"),N=function(W){Object(h.c)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),z.prototype.getTooltipItems=function(w){var T=this.getTooltipCfg(),B=T.shared,V=T.title,$=W.prototype.getTooltipItems.call(this,w);if($.length>0){var nt=this.view.geometries[0],at=nt.dataArray,st=$[0].name,tt=[];return at.forEach(function(Q){Q.forEach(function(Z){var et=D.Util.getTooltipItems(Z,nt),ct=et[0];if(!B&&ct&&ct.name===st){var mt=Object(p.I)(V)?st:V;tt.push(Object(h.a)(Object(h.a)({},ct),{name:ct.title,title:mt}))}else if(B&&ct){var mt=Object(p.I)(V)?ct.name||st:V;tt.push(Object(h.a)(Object(h.a)({},ct),{name:ct.title,title:mt}))}})}),tt}return[]},z}(D.TooltipController);Object(D.registerComponentController)("radar-tooltip",N);var I=function(W){Object(h.c)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.init=function(){var w=this.context.view;w.removeInteraction("tooltip")},z.prototype.show=function(){var w=this.context.event,T=this.getTooltipController();T.showTooltip({x:w.x,y:w.y})},z.prototype.hide=function(){var w=this.getTooltipController();w.hideTooltip()},z.prototype.getTooltipController=function(){var w=this.context.view;return w.getController("radar-tooltip")},z}(D.Action);Object(D.registerAction)("radar-tooltip",I),Object(D.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var G=function(W){Object(h.c)(z,W);function z(){var w=W!==null&&W.apply(this,arguments)||this;return w.type="radar",w}return z.prototype.changeData=function(w){this.updateOption({data:w}),this.chart.changeData(w)},z.prototype.getDefaultOptions=function(){return Object(O.b)({},W.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},z.prototype.getSchemaAdaptor=function(){return E},z}(i.b)},YKhI:function(Ut,L,a){var h=a("0Zv/");function i(O,x){if(O!==x){var C=O!==void 0,A=O===null,S=O===O,M=h(O),b=x!==void 0,g=x===null,E=x===x,D=h(x);if(!g&&!D&&!M&&O>x||M&&b&&E&&!g&&!D||A&&b&&E||!C&&E||!S)return 1;if(!A&&!M&&!D&&O<x||D&&C&&S&&!A&&!M||g&&C&&S||!b&&S||!E)return-1}return 0}Ut.exports=i},YNac:function(Ut,L,a){"use strict";a.d(L,"a",function(){return I});var h=a("J+IK"),i=a("d38q"),O=a("jg4I"),x=a("RF2d"),C=a("ggto"),A=a("OM6K");function S(G){var W=G.chart,z=G.options,w=z.data,T=z.sectorStyle,B=z.color;return W.data(w),Object(x.e)(A.c)(Object(x.b)({},G,{options:{marginRatio:1,interval:{style:T,color:B}}})),G}function M(G){var W=G.chart,z=G.options,w=z.label,T=z.xField,B=Object(x.c)(W,"interval");if(w===!1)B.label(!1);else if(Object(O.M)(w)){var V=w.callback,$=w.fields,nt=Object(h.e)(w,["callback","fields"]),at=nt.offset,st=nt.layout;(at===void 0||at>=0)&&(st=st?Object(O.B)(st)?st:[st]:[],nt.layout=Object(O.l)(st,function(tt){return tt.type!=="limit-in-shape"}),nt.layout.length||delete nt.layout),B.label({fields:$||[T],callback:V,cfg:Object(x.u)(nt)})}else Object(x.n)(x.a.WARN,w===null,"the label option must be an Object."),B.label({fields:[T]});return G}function b(G){var W=G.chart,z=G.options,w=z.legend,T=z.seriesField;return w===!1?W.legend(!1):T&&W.legend(T,w),G}function g(G){var W=G.chart,z=G.options,w=z.radius,T=z.innerRadius,B=z.startAngle,V=z.endAngle;return W.coordinate({type:"polar",cfg:{radius:w,innerRadius:T,startAngle:B,endAngle:V}}),G}function E(G){var W,z=G.options,w=z.xAxis,T=z.yAxis,B=z.xField,V=z.yField;return Object(x.e)(Object(C.f)((W={},W[B]=w,W[V]=T,W)))(G)}function D(G){var W=G.chart,z=G.options,w=z.xAxis,T=z.yAxis,B=z.xField,V=z.yField;return w?W.axis(B,w):W.axis(B,!1),T?W.axis(V,T):W.axis(V,!1),G}function p(G){Object(x.e)(S,E,M,g,D,b,C.k,C.c,C.a,C.j,Object(C.b)(),C.i)(G)}var N=Object(x.b)({},i.b.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),I=function(G){Object(h.c)(W,G);function W(){var z=G!==null&&G.apply(this,arguments)||this;return z.type="rose",z}return W.getDefaultOptions=function(){return N},W.prototype.changeData=function(z){this.updateOption({data:z}),this.chart.changeData(z)},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W.prototype.getSchemaAdaptor=function(){return p},W}(i.b)},YUZ6:function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=a("jg4I");function i(O,x){return!Object(h.K)(O)||!Object(h.K)(x)?"-":O===x?"100%":O===0?"\u221E":x===0?"-\u221E":(100*x/O).toFixed(2)+"%"}},"Yf+D":function(Ut,L,a){"use strict";a.r(L),a.d(L,"Line",function(){return Kt}),a.d(L,"Circle",function(){return bt}),a.d(L,"Base",function(){return p});var h={};a.r(h),a.d(h,"getDefault",function(){return G}),a.d(h,"ellipsisHead",function(){return W}),a.d(h,"ellipsisTail",function(){return z}),a.d(h,"ellipsisMiddle",function(){return w});var i={};a.r(i),a.d(i,"getDefault",function(){return st}),a.d(i,"reserveFirst",function(){return tt}),a.d(i,"reserveLast",function(){return Q}),a.d(i,"reserveBoth",function(){return Z}),a.d(i,"equidistance",function(){return et}),a.d(i,"equidistanceWithReverseBoth",function(){return ct});var O={};a.r(O),a.d(O,"getDefault",function(){return it}),a.d(O,"fixedAngle",function(){return xt}),a.d(O,"unfixedAngle",function(){return It});var x={};a.r(x),a.d(x,"autoHide",function(){return i}),a.d(x,"autoRotate",function(){return O}),a.d(x,"autoEllipsis",function(){return h});var C=a("J+IK"),A=a("sxZn"),S=a("jg4I"),M=a("jFyH"),b=a("xdm5"),g=a("JRP5"),E=a("KwOt"),D=function(ft){Object(C.c)(dt,ft);function dt(){return ft!==null&&ft.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var ot=ft.prototype.getDefaultCfg.call(this);return Object(C.a)(Object(C.a)({},ot),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:E.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:E.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:E.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:E.a.textColor,fontFamily:E.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:E.a.textColor,textBaseline:"middle",fontFamily:E.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:E.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},dt.prototype.renderInner=function(ot){this.get("line")&&this.drawLine(ot),this.drawTicks(ot),this.get("title")&&this.drawTitle(ot)},dt.prototype.isList=function(){return!0},dt.prototype.getItems=function(){return this.get("ticks")},dt.prototype.setItems=function(ot){this.update({ticks:ot})},dt.prototype.updateItem=function(ot,Mt){Object(S.bb)(ot,Mt),this.clear(),this.render()},dt.prototype.clearItems=function(){var ot=this.getElementByLocalId("label-group");ot&&ot.clear()},dt.prototype.setItemState=function(ot,Mt,Nt){ot[Mt]=Nt,this.updateTickStates(ot)},dt.prototype.hasState=function(ot,Mt){return!!ot[Mt]},dt.prototype.getItemStates=function(ot){var Mt=this.get("tickStates"),Nt=[];return Object(S.j)(Mt,function(Pt,J){ot[J]&&Nt.push(J)}),Nt},dt.prototype.clearItemsState=function(ot){var Mt=this,Nt=this.getItemsByState(ot);Object(S.j)(Nt,function(Pt){Mt.setItemState(Pt,ot,!1)})},dt.prototype.getItemsByState=function(ot){var Mt=this,Nt=this.getItems();return Object(S.l)(Nt,function(Pt){return Mt.hasState(Pt,ot)})},dt.prototype.getSidePoint=function(ot,Mt){var Nt=this,Pt=Nt.getSideVector(Mt,ot);return{x:ot.x+Pt[0],y:ot.y+Pt[1]}},dt.prototype.getTextAnchor=function(ot){var Mt;return Object(S.L)(ot[0],0)?Mt="center":ot[0]>0?Mt="start":ot[0]<0&&(Mt="end"),Mt},dt.prototype.getTextBaseline=function(ot){var Mt;return Object(S.L)(ot[1],0)?Mt="middle":ot[1]>0?Mt="top":ot[1]<0&&(Mt="bottom"),Mt},dt.prototype.processOverlap=function(ot){},dt.prototype.drawLine=function(ot){var Mt=this.getLinePath(),Nt=this.get("line");this.addShape(ot,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(S.bb)({path:Mt},Nt.style)})},dt.prototype.getTickLineItems=function(ot){var Mt=this,Nt=[],Pt=this.get("tickLine"),J=Pt.alignTick,X=Pt.length,vt=1,lt=ot.length;return lt>=2&&(vt=ot[1].value-ot[0].value),Object(S.j)(ot,function(Ct){var Ft=Ct.point;J||(Ft=Mt.getTickPoint(Ct.value-vt/2));var Wt=Mt.getSidePoint(Ft,X);Nt.push({startPoint:Ft,tickValue:Ct.value,endPoint:Wt,tickId:Ct.id,id:"tickline-"+Ct.id})}),Nt},dt.prototype.getSubTickLineItems=function(ot){var Mt=[],Nt=this.get("subTickLine"),Pt=Nt.count,J=ot.length;if(J>=2)for(var X=0;X<J-1;X++)for(var vt=ot[X],lt=ot[X+1],Ct=0;Ct<Pt;Ct++){var Ft=(Ct+1)/(Pt+1),Wt=(1-Ft)*vt.tickValue+Ft*lt.tickValue,kt=this.getTickPoint(Wt),jt=this.getSidePoint(kt,Nt.length);Mt.push({startPoint:kt,endPoint:jt,tickValue:Wt,id:"sub-"+vt.id+"-"+Ct})}return Mt},dt.prototype.getTickLineAttrs=function(ot,Mt,Nt,Pt){var J=this.get(Mt).style,X={points:[ot.startPoint,ot.endPoint]},vt=Object(S.s)(this.get("theme"),["tickLine","style"],{});J=Object(S.H)(J)?Object(S.bb)({},vt,J(X,Nt,Pt)):J;var lt=ot.startPoint,Ct=ot.endPoint;return Object(C.a)({x1:lt.x,y1:lt.y,x2:Ct.x,y2:Ct.y},J)},dt.prototype.drawTick=function(ot,Mt,Nt,Pt,J){this.addShape(Mt,{type:"line",id:this.getElementId(ot.id),name:"axis-"+Nt,attrs:this.getTickLineAttrs(ot,Nt,Pt,J)})},dt.prototype.drawTickLines=function(ot){var Mt=this,Nt=this.get("ticks"),Pt=this.get("subTickLine"),J=this.getTickLineItems(Nt),X=this.addGroup(ot,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),vt=this.get("tickLine");if(Object(S.j)(J,function(Ct,Ft){if(vt.displayWithLabel){var Wt=Mt.getElementId("label-"+Ct.tickId);ot.findById(Wt)&&Mt.drawTick(Ct,X,"tickLine",Ft,J)}else Mt.drawTick(Ct,X,"tickLine",Ft,J)}),Pt){var lt=this.getSubTickLineItems(J);Object(S.j)(lt,function(Ct,Ft){Mt.drawTick(Ct,X,"subTickLine",Ft,lt)})}},dt.prototype.processTicks=function(){var ot=this,Mt=this.get("ticks");Object(S.j)(Mt,function(Nt){Nt.point=ot.getTickPoint(Nt.value),Object(S.I)(Nt.id)&&(Nt.id=Nt.name)})},dt.prototype.drawTicks=function(ot){var Mt=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(ot),this.get("tickLine")&&this.drawTickLines(ot);var Nt=this.get("ticks");Object(S.j)(Nt,function(Pt){Mt.applyTickStates(Pt,ot)})},dt.prototype.optimizeTicks=function(){var ot=this.get("optimize"),Mt=this.get("ticks");if(ot&&ot.enable&&ot.threshold>0){var Nt=Object(S.jb)(Mt);if(Nt>ot.threshold){var Pt=Math.ceil(Nt/ot.threshold),J=Mt.filter(function(X,vt){return vt%Pt==0});this.set("ticks",J),this.set("originalTicks",Mt)}}},dt.prototype.getLabelAttrs=function(ot,Mt,Nt){var Pt=this.get("label"),J=Pt.offset,X=Pt.rotate,vt=Pt.formatter,lt=this.getSidePoint(ot.point,J),Ct=this.getSideVector(J,lt),Ft=vt?vt(ot.name,ot,Mt):ot.name,Wt=Pt.style;Wt=Object(S.H)(Wt)?Object(S.s)(this.get("theme"),["label","style"],{}):Wt;var kt=Object(S.bb)({x:lt.x,y:lt.y,text:Ft,textAlign:this.getTextAnchor(Ct),textBaseline:this.getTextBaseline(Ct)},Wt);return X&&(kt.matrix=Object(b.e)(lt,X)),kt},dt.prototype.drawLabels=function(ot){var Mt=this,Nt=this.get("ticks"),Pt=this.addGroup(ot,{name:"axis-label-group",id:this.getElementId("label-group")});Object(S.j)(Nt,function(Wt,kt){Mt.addShape(Pt,{type:"text",name:"axis-label",id:Mt.getElementId("label-"+Wt.id),attrs:Mt.getLabelAttrs(Wt,kt,Nt),delegateObject:{tick:Wt,item:Wt,index:kt}})}),this.processOverlap(Pt);var J=Pt.getChildren(),X=Object(S.s)(this.get("theme"),["label","style"],{}),vt=this.get("label"),lt=vt.style,Ct=vt.formatter;if(Object(S.H)(lt)){var Ft=J.map(function(Wt){return Object(S.s)(Wt.get("delegateObject"),"tick")});Object(S.j)(J,function(Wt,kt){var jt=Wt.get("delegateObject").tick,Y=Ct?Ct(jt.name,jt,kt):jt.name,U=Object(S.bb)({},X,lt(Y,kt,Ft));Wt.attr(U)})}},dt.prototype.getTitleAttrs=function(){var ot=this.get("title"),Mt=ot.style,Nt=ot.position,Pt=ot.offset,J=ot.spacing,X=J===void 0?0:J,vt=ot.autoRotate,lt=Mt.fontSize,Ct=.5;Nt==="start"?Ct=0:Nt==="end"&&(Ct=1);var Ft=this.getTickPoint(Ct),Wt=this.getSidePoint(Ft,Pt||X+lt/2),kt=Object(S.bb)({x:Wt.x,y:Wt.y,text:ot.text},Mt),jt=ot.rotate,Y=jt;if(Object(S.I)(jt)&&vt){var U=this.getAxisVector(Ft),j=[1,0];Y=A.a.angleTo(U,j,!0)}if(Y){var q=Object(b.e)(Wt,Y);kt.matrix=q}return kt},dt.prototype.drawTitle=function(ot){this.addShape(ot,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},dt.prototype.applyTickStates=function(ot,Mt){var Nt=this.getItemStates(ot);if(Nt.length){var Pt=this.get("tickStates"),J=this.getElementId("label-"+ot.id),X=Mt.findById(J);if(X){var vt=Object(g.a)(ot,"label",Pt);vt&&X.attr(vt)}var lt=this.getElementId("tickline-"+ot.id),Ct=Mt.findById(lt);if(Ct){var Ft=Object(g.a)(ot,"tickLine",Pt);Ft&&Ct.attr(Ft)}}},dt.prototype.updateTickStates=function(ot){var Mt=this.getItemStates(ot),Nt=this.get("tickStates"),Pt=this.get("label"),J=this.getElementByLocalId("label-"+ot.id),X=this.get("tickLine"),vt=this.getElementByLocalId("tickline-"+ot.id);if(Mt.length){if(J){var lt=Object(g.a)(ot,"label",Nt);lt&&J.attr(lt)}if(vt){var Ct=Object(g.a)(ot,"tickLine",Nt);Ct&&vt.attr(Ct)}}else J&&J.attr(Pt.style),vt&&vt.attr(X.style)},dt}(M.a),p=D,N=a("uRYK");function I(ft,dt,ot,Mt){var Nt=dt.getChildren(),Pt=!1;return Object(S.j)(Nt,function(J){var X=Object(N.a)(ft,J,ot,Mt);Pt=Pt||X}),Pt}function G(){return z}function W(ft,dt,ot){return I(ft,dt,ot,"head")}function z(ft,dt,ot){return I(ft,dt,ot,"tail")}function w(ft,dt,ot){return I(ft,dt,ot,"middle")}var T=a("L+OQ");function B(ft){var dt=ft.attr("matrix");return dt&&dt[0]!==1}function V(ft){var dt=B(ft)?Object(b.d)(ft.attr("matrix")):0;return dt%360}function $(ft,dt,ot,Mt){var Nt=!1,Pt=V(dt),J=Math.abs(ft?ot.attr("y")-dt.attr("y"):ot.attr("x")-dt.attr("x")),X=(ft?ot.attr("y")>dt.attr("y"):ot.attr("x")>dt.attr("x"))?dt.getBBox():ot.getBBox();if(ft){var vt=Math.abs(Math.cos(Pt));Object(T.i)(vt,0,Math.PI/180)?Nt=X.width+Mt>J:Nt=X.height/vt+Mt>J}else{var vt=Math.abs(Math.sin(Pt));Object(T.i)(vt,0,Math.PI/180)?Nt=X.width+Mt>J:Nt=X.height/vt+Mt>J}return Nt}function nt(ft,dt,ot,Mt){var Nt=(Mt==null?void 0:Mt.minGap)||0,Pt=dt.getChildren().slice().filter(function(jt){return jt.get("visible")});if(!Pt.length)return!1;var J=!1;ot&&Pt.reverse();for(var X=Pt.length,vt=Pt[0],lt=vt,Ct=1;Ct<X;Ct++){var Ft=Pt[Ct],Wt=Ft.getBBox(),kt=$(ft,lt,Ft,Nt);kt?(Ft.hide(),J=!0):lt=Ft}return J}function at(ft,dt,ot){var Mt=(ot==null?void 0:ot.minGap)||0,Nt=dt.getChildren().slice();if(Nt.length<2)return!1;var Pt=!1,J=Nt[0],X=J.getBBox(),vt=Nt[1],lt=Nt.length,Ct=V(J),Ft=Math.abs(ft?vt.attr("y")-J.attr("y"):vt.attr("x")-J.attr("x")),Wt=0;if(ft){var kt=Math.abs(Math.cos(Ct));if(Object(T.i)(kt,0,Math.PI/180)){var jt=Object(N.b)(Nt);Wt=(jt+Mt)/Ft}else Wt=(X.height/kt+Mt)/Ft}else{var kt=Math.abs(Math.sin(Ct));if(Object(T.i)(kt,0,Math.PI/180)){var jt=Object(N.b)(Nt);Wt=(jt+Mt)/Ft}else Wt=(X.height/kt+Mt)/Ft}if(Wt>1){Wt=Math.ceil(Wt);for(var Y=0;Y<lt;Y++)Y%Wt!=0&&(Nt[Y].hide(),Pt=!0)}return Pt}function st(){return et}function tt(ft,dt,ot,Mt){return nt(ft,dt,!1,Mt)}function Q(ft,dt,ot,Mt){return nt(ft,dt,!0,Mt)}function Z(ft,dt,ot,Mt){var Nt=(Mt==null?void 0:Mt.minGap)||0,Pt=dt.getChildren().slice();if(Pt.length<=2)return!1;for(var J=!1,X=Pt.length,vt=Pt[0],lt=Pt[X-1],Ct=vt,Ft=1;Ft<X-1;Ft++){var Wt=Pt[Ft],kt=Wt.getBBox(),jt=$(ft,Ct,Wt,Nt);jt?(Wt.hide(),J=!0):Ct=Wt}var Y=$(ft,Ct,lt,Nt);return Y&&(Ct.hide(),J=!0),J}function et(ft,dt,ot,Mt){var Nt=at(ft,dt,Mt);return nt(ft,dt,!1)&&(Nt=!0),Nt}function ct(ft,dt,ot,Mt){var Nt=dt.getChildren().slice(),Pt=at(ft,dt,Mt);if(Nt.length>2){var J=Nt[0],X=Nt[Nt.length-1];J.get("visible")||(J.show(),nt(ft,dt,!1,Mt)&&(Pt=!0)),X.get("visible")||(X.show(),nt(ft,dt,!0,Mt)&&(Pt=!0))}return Pt}function mt(ft,dt){Object(S.j)(ft,function(ot){var Mt=ot.attr("x"),Nt=ot.attr("y"),Pt=Object(b.e)({x:Mt,y:Nt},dt);ot.attr("matrix",Pt)})}function Ot(ft,dt,ot,Mt){var Nt=dt.getChildren();if(!Nt.length||!ft&&Nt.length<2)return!1;var Pt=Object(N.b)(Nt),J=!1;if(ft)J=!!ot&&Pt>ot;else{var X=Math.abs(Nt[1].attr("x")-Nt[0].attr("x"));J=Pt>X}if(J){var vt=Mt(ot,Pt);mt(Nt,vt)}return J}function it(){return xt}function xt(ft,dt,ot,Mt){return Ot(ft,dt,ot,function(){return Object(S.K)(Mt)?Mt:ft?E.a.verticalAxisRotate:E.a.horizontalAxisRotate})}function It(ft,dt,ot){return Ot(ft,dt,ot,function(Mt,Nt){if(!Mt)return ft?E.a.verticalAxisRotate:E.a.horizontalAxisRotate;if(ft)return-Math.acos(Mt/Nt);var Pt=0;return Mt>Nt?Pt=Math.PI/4:(Pt=Math.asin(Mt/Nt),Pt>Math.PI/4&&(Pt=Math.PI/4)),Pt})}var zt=function(ft){Object(C.c)(dt,ft);function dt(){return ft!==null&&ft.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var ot=ft.prototype.getDefaultCfg.call(this);return Object(C.a)(Object(C.a)({},ot),{type:"line",locationType:"region",start:null,end:null})},dt.prototype.getLinePath=function(){var ot=this.get("start"),Mt=this.get("end"),Nt=[];return Nt.push(["M",ot.x,ot.y]),Nt.push(["L",Mt.x,Mt.y]),Nt},dt.prototype.getInnerLayoutBBox=function(){var ot=this.get("start"),Mt=this.get("end"),Nt=ft.prototype.getInnerLayoutBBox.call(this),Pt=Math.min(ot.x,Mt.x,Nt.x),J=Math.min(ot.y,Mt.y,Nt.y),X=Math.max(ot.x,Mt.x,Nt.maxX),vt=Math.max(ot.y,Mt.y,Nt.maxY);return{x:Pt,y:J,minX:Pt,minY:J,maxX:X,maxY:vt,width:X-Pt,height:vt-J}},dt.prototype.isVertical=function(){var ot=this.get("start"),Mt=this.get("end");return Object(S.L)(ot.x,Mt.x)},dt.prototype.isHorizontal=function(){var ot=this.get("start"),Mt=this.get("end");return Object(S.L)(ot.y,Mt.y)},dt.prototype.getTickPoint=function(ot){var Mt=this,Nt=Mt.get("start"),Pt=Mt.get("end"),J=Pt.x-Nt.x,X=Pt.y-Nt.y;return{x:Nt.x+J*ot,y:Nt.y+X*ot}},dt.prototype.getSideVector=function(ot){var Mt=this.getAxisVector(),Nt=A.c.normalize([0,0],Mt),Pt=this.get("verticalFactor"),J=[Nt[1],Nt[0]*-1];return A.c.scale([0,0],J,ot*Pt)},dt.prototype.getAxisVector=function(){var ot=this.get("start"),Mt=this.get("end");return[Mt.x-ot.x,Mt.y-ot.y]},dt.prototype.processOverlap=function(ot){var Mt=this,Nt=this.isVertical(),Pt=this.isHorizontal();if(!(!Nt&&!Pt)){var J=this.get("label"),X=this.get("title"),vt=this.get("verticalLimitLength"),lt=J.offset,Ct=vt,Ft=0,Wt=0;X&&(Ft=X.style.fontSize,Wt=X.spacing),Ct&&(Ct=Ct-lt-Wt-Ft);var kt=this.get("overlapOrder");if(Object(S.j)(kt,function(U){J[U]&&Mt.canProcessOverlap(U)&&Mt.autoProcessOverlap(U,J[U],ot,Ct)}),X&&Object(S.I)(X.offset)){var jt=ot.getCanvasBBox(),Y=Nt?jt.width:jt.height;X.offset=lt+Y+Wt+Ft/2}}},dt.prototype.canProcessOverlap=function(ot){var Mt=this.get("label");return ot==="autoRotate"?Object(S.I)(Mt.rotate):!0},dt.prototype.autoProcessOverlap=function(ot,Mt,Nt,Pt){var J=this,X=this.isVertical(),vt=!1,lt=x[ot];if(Mt===!0){var Ct=this.get("label");vt=lt.getDefault()(X,Nt,Pt)}else if(Object(S.H)(Mt))vt=Mt(X,Nt,Pt);else if(Object(S.M)(Mt)){var Ft=Mt;lt[Ft.type]&&(vt=lt[Ft.type](X,Nt,Pt,Ft.cfg))}else lt[Mt]&&(vt=lt[Mt](X,Nt,Pt));if(ot==="autoRotate"){if(vt){var Wt=Nt.getChildren(),kt=this.get("verticalFactor");Object(S.j)(Wt,function(Y){var U=Y.attr("textAlign");if(U==="center"){var j=kt>0?"end":"start";Y.attr("textAlign",j)}})}}else if(ot==="autoHide"){var jt=Nt.getChildren().slice(0);Object(S.j)(jt,function(Y){Y.get("visible")||(J.get("isRegister")&&J.unregisterElement(Y),Y.remove())})}},dt}(p),Kt=zt,Yt=function(ft){Object(C.c)(dt,ft);function dt(){return ft!==null&&ft.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var ot=ft.prototype.getDefaultCfg.call(this);return Object(C.a)(Object(C.a)({},ot),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},dt.prototype.getLinePath=function(){var ot=this.get("center"),Mt=ot.x,Nt=ot.y,Pt=this.get("radius"),J=Pt,X=this.get("startAngle"),vt=this.get("endAngle"),lt=[];if(Math.abs(vt-X)===Math.PI*2)lt=[["M",Mt,Nt-J],["A",Pt,J,0,1,1,Mt,Nt+J],["A",Pt,J,0,1,1,Mt,Nt-J],["Z"]];else{var Ct=this.getCirclePoint(X),Ft=this.getCirclePoint(vt),Wt=Math.abs(vt-X)>Math.PI?1:0,kt=X>vt?0:1;lt=[["M",Mt,Nt],["L",Ct.x,Ct.y],["A",Pt,J,0,Wt,kt,Ft.x,Ft.y],["L",Mt,Nt]]}return lt},dt.prototype.getTickPoint=function(ot){var Mt=this.get("startAngle"),Nt=this.get("endAngle"),Pt=Mt+(Nt-Mt)*ot;return this.getCirclePoint(Pt)},dt.prototype.getSideVector=function(ot,Mt){var Nt=this.get("center"),Pt=[Mt.x-Nt.x,Mt.y-Nt.y],J=this.get("verticalFactor"),X=A.c.length(Pt);return A.c.scale(Pt,Pt,J*ot/X),Pt},dt.prototype.getAxisVector=function(ot){var Mt=this.get("center"),Nt=[ot.x-Mt.x,ot.y-Mt.y];return[Nt[1],-1*Nt[0]]},dt.prototype.getCirclePoint=function(ot,Mt){var Nt=this.get("center");return Mt=Mt||this.get("radius"),{x:Nt.x+Math.cos(ot)*Mt,y:Nt.y+Math.sin(ot)*Mt}},dt}(p),bt=Yt},Ymew:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.multiBindToService=void 0,L.multiBindToService=function(h){return function(i){return function(){for(var O=[],x=0;x<arguments.length;x++)O[x]=arguments[x];return O.forEach(function(C){return h.bind(C).toService(i)})}}}},YrLe:function(Ut,L){function a(h,i){return Ut.exports=a=Object.setPrototypeOf||function(x,C){return x.__proto__=C,x},Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0,a(h,i)}Ut.exports=a,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},Z23w:function(Ut,L){Ut.exports=a;function a(h){var i=new Float32Array(2);return i[0]=h[0],i[1]=h[1],i}},Z8sD:function(Ut,L,a){var h=a("tbeB"),i=a("TdPr"),O=a("qccO");function x(C){return function(A,S,M){return M&&typeof M!="number"&&i(A,S,M)&&(S=M=void 0),A=O(A),S===void 0?(S=A,A=0):S=O(S),M=M===void 0?A<S?1:-1:O(M),h(A,S,M,C)}}Ut.exports=x},ZVT1:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h});var h;(function(i){i[i.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",i[i.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",i[i.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i[i.ZERO=0]="ZERO",i[i.ONE=1]="ONE",i[i.SRC_COLOR=768]="SRC_COLOR",i[i.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",i[i.SRC_ALPHA=770]="SRC_ALPHA",i[i.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",i[i.DST_ALPHA=772]="DST_ALPHA",i[i.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",i[i.DST_COLOR=774]="DST_COLOR",i[i.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",i[i.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",i[i.FUNC_ADD=32774]="FUNC_ADD",i[i.BLEND_EQUATION=32777]="BLEND_EQUATION",i[i.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",i[i.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",i[i.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",i[i.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",i[i.MAX_EXT=32776]="MAX_EXT",i[i.MIN_EXT=32775]="MIN_EXT",i[i.BLEND_DST_RGB=32968]="BLEND_DST_RGB",i[i.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",i[i.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",i[i.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",i[i.CONSTANT_COLOR=32769]="CONSTANT_COLOR",i[i.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",i[i.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",i[i.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",i[i.BLEND_COLOR=32773]="BLEND_COLOR",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",i[i.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",i[i.STREAM_DRAW=35040]="STREAM_DRAW",i[i.STATIC_DRAW=35044]="STATIC_DRAW",i[i.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",i[i.BUFFER_SIZE=34660]="BUFFER_SIZE",i[i.BUFFER_USAGE=34661]="BUFFER_USAGE",i[i.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",i[i.FRONT=1028]="FRONT",i[i.BACK=1029]="BACK",i[i.FRONT_AND_BACK=1032]="FRONT_AND_BACK",i[i.CULL_FACE=2884]="CULL_FACE",i[i.BLEND=3042]="BLEND",i[i.DITHER=3024]="DITHER",i[i.STENCIL_TEST=2960]="STENCIL_TEST",i[i.DEPTH_TEST=2929]="DEPTH_TEST",i[i.SCISSOR_TEST=3089]="SCISSOR_TEST",i[i.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",i[i.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",i[i.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",i[i.NO_ERROR=0]="NO_ERROR",i[i.INVALID_ENUM=1280]="INVALID_ENUM",i[i.INVALID_VALUE=1281]="INVALID_VALUE",i[i.INVALID_OPERATION=1282]="INVALID_OPERATION",i[i.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",i[i.CW=2304]="CW",i[i.CCW=2305]="CCW",i[i.LINE_WIDTH=2849]="LINE_WIDTH",i[i.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",i[i.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",i[i.CULL_FACE_MODE=2885]="CULL_FACE_MODE",i[i.FRONT_FACE=2886]="FRONT_FACE",i[i.DEPTH_RANGE=2928]="DEPTH_RANGE",i[i.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",i[i.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",i[i.DEPTH_FUNC=2932]="DEPTH_FUNC",i[i.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",i[i.STENCIL_FUNC=2962]="STENCIL_FUNC",i[i.STENCIL_FAIL=2964]="STENCIL_FAIL",i[i.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",i[i.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",i[i.STENCIL_REF=2967]="STENCIL_REF",i[i.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",i[i.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",i[i.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",i[i.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",i[i.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",i[i.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",i[i.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",i[i.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",i[i.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",i[i.VIEWPORT=2978]="VIEWPORT",i[i.SCISSOR_BOX=3088]="SCISSOR_BOX",i[i.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",i[i.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",i[i.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",i[i.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",i[i.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",i[i.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",i[i.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",i[i.RED_BITS=3410]="RED_BITS",i[i.GREEN_BITS=3411]="GREEN_BITS",i[i.BLUE_BITS=3412]="BLUE_BITS",i[i.ALPHA_BITS=3413]="ALPHA_BITS",i[i.DEPTH_BITS=3414]="DEPTH_BITS",i[i.STENCIL_BITS=3415]="STENCIL_BITS",i[i.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",i[i.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",i[i.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",i[i.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",i[i.SAMPLES=32937]="SAMPLES",i[i.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",i[i.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",i[i.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",i[i.DONT_CARE=4352]="DONT_CARE",i[i.FASTEST=4353]="FASTEST",i[i.NICEST=4354]="NICEST",i[i.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",i[i.BYTE=5120]="BYTE",i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.SHORT=5122]="SHORT",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.INT=5124]="INT",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.FLOAT=5126]="FLOAT",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.ALPHA=6406]="ALPHA",i[i.RGB=6407]="RGB",i[i.RGBA=6408]="RGBA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",i[i.VERTEX_SHADER=35633]="VERTEX_SHADER",i[i.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",i[i.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",i[i.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",i[i.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",i[i.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",i[i.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",i[i.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",i[i.SHADER_TYPE=35663]="SHADER_TYPE",i[i.DELETE_STATUS=35712]="DELETE_STATUS",i[i.LINK_STATUS=35714]="LINK_STATUS",i[i.VALIDATE_STATUS=35715]="VALIDATE_STATUS",i[i.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",i[i.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",i[i.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",i[i.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",i[i.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",i[i.NEVER=512]="NEVER",i[i.LESS=513]="LESS",i[i.EQUAL=514]="EQUAL",i[i.LEQUAL=515]="LEQUAL",i[i.GREATER=516]="GREATER",i[i.NOTEQUAL=517]="NOTEQUAL",i[i.GEQUAL=518]="GEQUAL",i[i.ALWAYS=519]="ALWAYS",i[i.KEEP=7680]="KEEP",i[i.REPLACE=7681]="REPLACE",i[i.INCR=7682]="INCR",i[i.DECR=7683]="DECR",i[i.INVERT=5386]="INVERT",i[i.INCR_WRAP=34055]="INCR_WRAP",i[i.DECR_WRAP=34056]="DECR_WRAP",i[i.VENDOR=7936]="VENDOR",i[i.RENDERER=7937]="RENDERER",i[i.VERSION=7938]="VERSION",i[i.NEAREST=9728]="NEAREST",i[i.LINEAR=9729]="LINEAR",i[i.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",i[i.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",i[i.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",i[i.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",i[i.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",i[i.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",i[i.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",i[i.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE=5890]="TEXTURE",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i[i.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",i[i.TEXTURE0=33984]="TEXTURE0",i[i.TEXTURE1=33985]="TEXTURE1",i[i.TEXTURE2=33986]="TEXTURE2",i[i.TEXTURE3=33987]="TEXTURE3",i[i.TEXTURE4=33988]="TEXTURE4",i[i.TEXTURE5=33989]="TEXTURE5",i[i.TEXTURE6=33990]="TEXTURE6",i[i.TEXTURE7=33991]="TEXTURE7",i[i.TEXTURE8=33992]="TEXTURE8",i[i.TEXTURE9=33993]="TEXTURE9",i[i.TEXTURE10=33994]="TEXTURE10",i[i.TEXTURE11=33995]="TEXTURE11",i[i.TEXTURE12=33996]="TEXTURE12",i[i.TEXTURE13=33997]="TEXTURE13",i[i.TEXTURE14=33998]="TEXTURE14",i[i.TEXTURE15=33999]="TEXTURE15",i[i.TEXTURE16=34e3]="TEXTURE16",i[i.TEXTURE17=34001]="TEXTURE17",i[i.TEXTURE18=34002]="TEXTURE18",i[i.TEXTURE19=34003]="TEXTURE19",i[i.TEXTURE20=34004]="TEXTURE20",i[i.TEXTURE21=34005]="TEXTURE21",i[i.TEXTURE22=34006]="TEXTURE22",i[i.TEXTURE23=34007]="TEXTURE23",i[i.TEXTURE24=34008]="TEXTURE24",i[i.TEXTURE25=34009]="TEXTURE25",i[i.TEXTURE26=34010]="TEXTURE26",i[i.TEXTURE27=34011]="TEXTURE27",i[i.TEXTURE28=34012]="TEXTURE28",i[i.TEXTURE29=34013]="TEXTURE29",i[i.TEXTURE30=34014]="TEXTURE30",i[i.TEXTURE31=34015]="TEXTURE31",i[i.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",i[i.REPEAT=10497]="REPEAT",i[i.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i[i.FLOAT_VEC2=35664]="FLOAT_VEC2",i[i.FLOAT_VEC3=35665]="FLOAT_VEC3",i[i.FLOAT_VEC4=35666]="FLOAT_VEC4",i[i.INT_VEC2=35667]="INT_VEC2",i[i.INT_VEC3=35668]="INT_VEC3",i[i.INT_VEC4=35669]="INT_VEC4",i[i.BOOL=35670]="BOOL",i[i.BOOL_VEC2=35671]="BOOL_VEC2",i[i.BOOL_VEC3=35672]="BOOL_VEC3",i[i.BOOL_VEC4=35673]="BOOL_VEC4",i[i.FLOAT_MAT2=35674]="FLOAT_MAT2",i[i.FLOAT_MAT3=35675]="FLOAT_MAT3",i[i.FLOAT_MAT4=35676]="FLOAT_MAT4",i[i.SAMPLER_2D=35678]="SAMPLER_2D",i[i.SAMPLER_CUBE=35680]="SAMPLER_CUBE",i[i.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",i[i.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",i[i.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",i[i.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",i[i.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",i[i.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",i[i.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",i[i.COMPILE_STATUS=35713]="COMPILE_STATUS",i[i.LOW_FLOAT=36336]="LOW_FLOAT",i[i.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",i[i.HIGH_FLOAT=36338]="HIGH_FLOAT",i[i.LOW_INT=36339]="LOW_INT",i[i.MEDIUM_INT=36340]="MEDIUM_INT",i[i.HIGH_INT=36341]="HIGH_INT",i[i.FRAMEBUFFER=36160]="FRAMEBUFFER",i[i.RENDERBUFFER=36161]="RENDERBUFFER",i[i.RGBA4=32854]="RGBA4",i[i.RGB5_A1=32855]="RGB5_A1",i[i.RGB565=36194]="RGB565",i[i.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",i[i.STENCIL_INDEX=6401]="STENCIL_INDEX",i[i.STENCIL_INDEX8=36168]="STENCIL_INDEX8",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i[i.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",i[i.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",i[i.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",i[i.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",i[i.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",i[i.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",i[i.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",i[i.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",i[i.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",i[i.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",i[i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",i[i.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",i[i.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",i[i.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",i[i.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",i[i.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",i[i.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",i[i.NONE=0]="NONE",i[i.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",i[i.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",i[i.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",i[i.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",i[i.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",i[i.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",i[i.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",i[i.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",i[i.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",i[i.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",i[i.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",i[i.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",i[i.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",i[i.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",i[i.COPY_SRC=1]="COPY_SRC",i[i.COPY_DST=2]="COPY_DST",i[i.SAMPLED=4]="SAMPLED",i[i.STORAGE=8]="STORAGE",i[i.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(h||(h={}))},Zkfg:function(Ut,L,a){Ut.exports=a("5LP0")},ZvDv:function(Ut,L,a){var h=a("2vMh");function i(O,x){var C=O==null?0:O.length;return!!C&&h(O,x,0)>-1}Ut.exports=i},aCJu:function(Ut,L,a){"use strict";a.d(L,"a",function(){return x}),a.d(L,"b",function(){return C});var h=a("jg4I"),i=a("SunQ");function O(A,S){return A.map(function(M,b){var g;return g={},g[i.g]=M-(A[b-1]||0),g[i.f]=""+b,g[i.e]=S,g}).filter(function(M){return!!M[i.g]})}function x(A){var S;return[(S={},S[i.e]=Object(h.c)(A,0,1),S)]}function C(A,S){var M=Object(h.s)(S,["ticks"],[]),b=Object(h.jb)(M)?M:[0,Object(h.c)(A,0,1),1];return O(b,A)}},aMRv:function(Ut,L){Ut.exports=a;function a(h,i,O,x){return h[0]=i[0]+O[0]*x,h[1]=i[1]+O[1]*x,h}},aOLp:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h});function h(){return 0}L.b=function(i){return function(){return i}}},aStn:function(Ut,L,a){"use strict";a.d(L,"a",function(){return zt});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("viI4"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("2Asv"),g=a.n(b),E=a("PVp4"),D=a.n(E),p=a("e6Zy"),N=a.n(p),I=a("me+i"),G=a.n(I),W=a("XN3X"),z=a("60wz"),w=a("K4bE"),T,B,V,$,nt,at,st,tt,Q,Z,et,ct,mt;function Ot(Kt,Yt){var bt;if(typeof Symbol=="undefined"||Kt[Symbol.iterator]==null){if(Array.isArray(Kt)||(bt=it(Kt))||Yt&&Kt&&typeof Kt.length=="number"){bt&&(Kt=bt);var ft=0,dt=function(){};return{s:dt,n:function(){return ft>=Kt.length?{done:!0}:{done:!1,value:Kt[ft++]}},e:function(J){throw J},f:dt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ot=!0,Mt=!1,Nt;return{s:function(){bt=Kt[Symbol.iterator]()},n:function(){var J=bt.next();return ot=J.done,J},e:function(J){Mt=!0,Nt=J},f:function(){try{!ot&&bt.return!=null&&bt.return()}finally{if(Mt)throw Nt}}}}function it(Kt,Yt){if(!!Kt){if(typeof Kt=="string")return xt(Kt,Yt);var bt=Object.prototype.toString.call(Kt).slice(8,-1);if(bt==="Object"&&Kt.constructor&&(bt=Kt.constructor.name),bt==="Map"||bt==="Set")return Array.from(Kt);if(bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt))return xt(Kt,Yt)}}function xt(Kt,Yt){(Yt==null||Yt>Kt.length)&&(Yt=Kt.length);for(var bt=0,ft=new Array(Yt);bt<Yt;bt++)ft[bt]=Kt[bt];return ft}var It={NONE:0,ENCODE:1,HIGHLIGHT:2},zt=(T=Object(I.injectable)(),B=Object(I.inject)(W.a.RenderEngine),V=Object(I.inject)(W.a.ResourcePool),$=Object(I.inject)(W.a.RenderPassFactory),nt=Object(I.inject)(W.a.MeshComponentManager),T(at=(st=(mt=ct=function(){function Kt(){var Yt=this;M()(this,Kt),A()(this,"engine",tt,this),A()(this,"resourcePool",Q,this),A()(this,"renderPassFactory",Z,this),A()(this,"mesh",et,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(bt,ft,dt){var ot=bt.createRenderTarget(ft,"picking fbo",{width:1,height:1});dt.data={output:ft.write(bt,ot)},ft.hasSideEffect=!0},this.execute=function(){var bt=x()(i.a.mark(function ft(dt,ot,Mt){var Nt,Pt,J;return i.a.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(Yt.views=Mt,!Yt.alreadyInRendering){vt.next=3;break}return vt.abrupt("return");case 3:Nt=Ot(Mt);try{for(J=function(){var Ct=Pt.value,Ft=Ct.getViewport(),Wt=Ft.width,kt=Ft.height;Yt.alreadyInRendering=!0;var jt=dt.getResourceNode(ot.data.output);Yt.pickingFBO=Yt.resourcePool.getOrCreateResource(jt.resource),Yt.pickingFBO.resize({width:Wt,height:kt}),Yt.engine.useFramebuffer(Yt.pickingFBO,function(){Yt.engine.clear({framebuffer:Yt.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var Y=Yt.renderPassFactory(w.a.IDENTIFIER),U=[],j=Ct.getScene(),q=Ot(j.getEntities()),gt;try{for(q.s();!(gt=q.n()).done;){var _=gt.value,yt=Yt.mesh.getComponentByEntity(_),wt=yt.material;wt.setUniform("u_PickingStage",It.ENCODE),U.push(yt)}}catch(St){q.e(St)}finally{q.f()}Y.renderView(Ct),U.forEach(function(St){var Dt=St.material;Dt.setUniform("u_PickingStage",It.HIGHLIGHT)}),Yt.alreadyInRendering=!1})},Nt.s();!(Pt=Nt.n()).done;)J()}catch(lt){Nt.e(lt)}finally{Nt.f()}case 5:case"end":return vt.stop()}},ft)}));return function(ft,dt,ot){return bt.apply(this,arguments)}}(),this.pick=function(bt,ft){var dt=bt.x,ot=bt.y,Mt=Yt.engine,Nt=Mt.readPixels,Pt=Mt.useFramebuffer,J=ft.getViewport(),X=J.width,vt=J.height,lt=dt*window.devicePixelRatio,Ct=ot*window.devicePixelRatio;if(!(lt>X||lt<0||Ct>vt||Ct<0)){var Ft,Wt;return Pt(Yt.pickingFBO,function(){Ft=Nt({x:Math.round(lt),y:Math.round(vt-(ot+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:Yt.pickingFBO}),(Ft[0]!==0||Ft[1]!==0||Ft[2]!==0)&&(Wt=Object(z.a)(Ft),Yt.highlightEnabled&&Yt.highlightPickedFeature(Ft,ft))}),Wt}}}return g()(Kt,[{key:"enableHighlight",value:function(bt){this.highlightEnabled=bt}},{key:"setHighlightColor",value:function(bt){this.highlightColor=bt}},{key:"highlightPickedFeature",value:function(bt,ft){if(bt){var dt=Ot(ft.getScene().getEntities()),ot;try{for(dt.s();!(ot=dt.n()).done;){var Mt=ot.value,Nt=this.mesh.getComponentByEntity(Mt),Pt=Nt.material;Pt.setUniform("u_PickingStage",It.HIGHLIGHT),Pt.setUniform("u_PickingColor",[bt[0],bt[1],bt[2]]),Pt.setUniform("u_HighlightColor",this.highlightColor)}}catch(J){dt.e(J)}finally{dt.f()}}}}]),Kt}(),ct.IDENTIFIER="PixelPicking Pass",mt),tt=D()(st.prototype,"engine",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=D()(st.prototype,"resourcePool",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=D()(st.prototype,"renderPassFactory",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=D()(st.prototype,"mesh",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st))||at)},aUeW:function(Ut,L,a){var h=a("+2Ae"),i=a("0mwY"),O=a("8+ZV"),x=a("EpgB"),C=a("FolP"),A=[0,0];Ut.exports.computeMiter=function(M,b,g,E,D){return h(M,g,E),O(M,M),i(b,-M[1],M[0]),i(A,-g[1],g[0]),D/C(b,A)},Ut.exports.normal=function(M,b){return i(M,-b[1],b[0]),M},Ut.exports.direction=function(M,b,g){return x(M,b,g),O(M,M),M}},ajvA:function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("atuu");Ut.exports={run:O,undo:C};function O(A){var S=A.graph().acyclicer==="greedy"?i(A,M(A)):x(A);h.forEach(S,function(b){var g=A.edge(b);A.removeEdge(b),g.forwardName=b.name,g.reversed=!0,A.setEdge(b.w,b.v,g,h.uniqueId("rev"))});function M(b){return function(g){return b.edge(g).weight}}}function x(A){var S=[],M={},b={};function g(E){h.has(b,E)||(b[E]=!0,M[E]=!0,h.forEach(A.outEdges(E),function(D){h.has(M,D.w)?S.push(D):g(D.w)}),delete M[E])}return h.forEach(A.nodes(),g),S}function C(A){h.forEach(A.edges(),function(S){var M=A.edge(S);if(M.reversed){A.removeEdge(S);var b=M.forwardName;delete M.reversed,delete M.forwardName,A.setEdge(S.w,S.v,M,b)}})}},atuu:function(Ut,L,a){var h=a("XSdR"),i=a("43gi").Graph,O=a("8Z6n");Ut.exports=C;var x=h.constant(1);function C(g,E){if(g.nodeCount()<=1)return[];var D=M(g,E||x),p=A(D.graph,D.buckets,D.zeroIdx);return h.flatten(h.map(p,function(N){return g.outEdges(N.v,N.w)}),!0)}function A(g,E,D){for(var p=[],N=E[E.length-1],I=E[0],G;g.nodeCount();){for(;G=I.dequeue();)S(g,E,D,G);for(;G=N.dequeue();)S(g,E,D,G);if(g.nodeCount()){for(var W=E.length-2;W>0;--W)if(G=E[W].dequeue(),G){p=p.concat(S(g,E,D,G,!0));break}}}return p}function S(g,E,D,p,N){var I=N?[]:void 0;return h.forEach(g.inEdges(p.v),function(G){var W=g.edge(G),z=g.node(G.v);N&&I.push({v:G.v,w:G.w}),z.out-=W,b(E,D,z)}),h.forEach(g.outEdges(p.v),function(G){var W=g.edge(G),z=G.w,w=g.node(z);w.in-=W,b(E,D,w)}),g.removeNode(p.v),I}function M(g,E){var D=new i,p=0,N=0;h.forEach(g.nodes(),function(W){D.setNode(W,{v:W,in:0,out:0})}),h.forEach(g.edges(),function(W){var z=D.edge(W.v,W.w)||0,w=E(W),T=z+w;D.setEdge(W.v,W.w,T),N=Math.max(N,D.node(W.v).out+=w),p=Math.max(p,D.node(W.w).in+=w)});var I=h.range(N+p+3).map(function(){return new O}),G=p+1;return h.forEach(D.nodes(),function(W){b(I,G,D.node(W))}),{graph:D,buckets:I,zeroIdx:G}}function b(g,E,D){D.out?D.in?g[D.out-D.in+E].enqueue(D):g[g.length-1].enqueue(D):g[0].enqueue(D)}},aw9a:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"c",function(){return i}),a.d(L,"b",function(){return O});function h(x,C){return x.views.find(function(A){return A.id===C})}function i(x){var C=x.parent;return C?C.views:[]}function O(x){return i(x).filter(function(C){return C!==x})}},ax0x:function(Ut,L,a){var h=a("cA8S"),i=0;function O(x){var C=++i;return h(x)+C}Ut.exports=O},bCfE:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.ver=L.clear=L.bind=void 0;var h=a("hQli"),i=function(A,S){var M=(0,h.getSensor)(A);return M.bind(S),function(){M.unbind(S)}};L.bind=i;var O=function(A){var S=(0,h.getSensor)(A);(0,h.removeSensor)(S)};L.clear=O;var x="1.0.1";L.ver=x},bEnI:function(Ut,L){},bLrI:function(Ut,L,a){"use strict";a.d(L,"b",function(){return D}),a.d(L,"a",function(){return N});var h=a("J+IK"),i=a("jg4I"),O=a("ggto"),x=a("OM6K"),C=a("c6wE"),A=a("RF2d"),S=a("SunQ"),M=a("aCJu");function b(I){var G=I.chart,W=I.options,z=W.percent,w=W.range,T=W.radius,B=W.innerRadius,V=W.startAngle,$=W.endAngle,nt=W.axis,at=W.indicator,st=W.gaugeStyle,tt=w.color,Q=w.width;if(at){var Z=Object(M.a)(z),et=G.createView({id:S.c});et.data(Z),et.point().position(S.e+"*1").shape("gauge-indicator").customInfo({defaultColor:G.getTheme().defaultColor,indicator:at}),et.coordinate("polar",{startAngle:V,endAngle:$,radius:B*T}),et.axis(S.e,nt),et.scale(S.e,Object(A.p)(nt,C.a))}var ct=Object(M.b)(z,W.range),mt=G.createView({id:S.h});mt.data(ct);var Ot=Object(i.O)(tt)?[tt,S.a]:tt;return Object(x.c)({chart:mt,options:{xField:"1",yField:S.g,seriesField:S.f,rawFields:[S.e],isStack:!0,interval:{color:Ot,style:st},args:{zIndexReversed:!0},minColumnWidth:Q,maxColumnWidth:Q}}),mt.coordinate("polar",{innerRadius:B,radius:T,startAngle:V,endAngle:$}).transpose(),I}function g(I){var G,W=I.chart,z=I.options,w=z.type,T=z.meter;if(w==="meter"){var B=z.innerRadius,V=z.radius,$=z.startAngle,nt=z.endAngle,at=z.range,st=at==null?void 0:at.width,tt=at==null?void 0:at.width,Q=W.getTheme().background,Z=Q;(!Z||Z==="transparent")&&(Z="#fff");var et=W.createView({id:S.d});et.data([(G={},G[S.f]="1",G[S.g]=1,G)]);var ct={meter:T};et.interval({minColumnWidth:st,maxColumnWidth:tt}).position("1*"+S.g).color(Z).adjust("stack").shape("meter-gauge").customInfo(ct),et.coordinate("polar",{innerRadius:B,radius:V,startAngle:$,endAngle:nt}).transpose()}return I}function E(I){var G;return Object(A.e)(Object(O.f)((G={range:{min:0,max:1,maxLimit:1,minLimit:0}},G[S.e]={},G)))(I)}function D(I,G){var W=I.chart,z=I.options,w=z.statistic,T=z.percent;if(W.getController("annotation").clear(!0),w){var B=w.content,V=void 0;B&&(V=Object(A.b)({},{formatter:function(nt){var at=nt.percent;return(at*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},B)),Object(A.r)(W,{statistic:Object(h.a)(Object(h.a)({},w),{content:V})},{percent:T})}return G&&W.render(!0),I}function p(I){var G=I.chart;return G.legend(!1),G.tooltip(!1),I}function N(I){return Object(A.e)(O.j,O.a,b,E,D,O.c,g,Object(O.b)(),p)(I)}},"bkR+":function(Ut,L){function a(h){var i=h==null?0:h.length;return i?h[i-1]:void 0}Ut.exports=a},bmBd:function(Ut,L,a){"use strict";a.d(L,"a",function(){return $});var h=a("mwFr"),i=a.n(h),O=a("Rspp"),x=a.n(O),C=a("2Asv"),A=a.n(C),S=a("me+i");function M(nt){var at=0;switch(nt){case"vec2":case"ivec2":at=2;break;case"vec3":case"ivec3":at=3;break;case"vec4":case"ivec4":case"mat2":at=4;break;case"mat3":at=9;break;case"mat4":at=16;break;default:}return at}var b=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function g(nt){var at={};return nt=nt.replace(b,function(st,tt,Q){var Z=Q.split(":"),et=Z[0].trim(),ct="";switch(Z.length>1&&(ct=Z[1].trim()),tt){case"bool":ct=ct==="true";break;case"float":case"int":ct=Number(ct);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":ct?ct=ct.replace("[","").replace("]","").split(",").reduce(function(mt,Ot){return mt.push(Number(Ot.trim())),mt},[]):ct=new Array(M(tt)).fill(0);break;default:}return at[et]=ct,"uniform ".concat(tt," ").concat(et,`;
`)}),{content:nt,uniforms:at}}function E(nt){return nt.filter(function(at,st,tt){return tt.indexOf(at)===st})}var D,p,N;function I(nt,at){var st=Object.keys(nt);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(nt);at&&(tt=tt.filter(function(Q){return Object.getOwnPropertyDescriptor(nt,Q).enumerable})),st.push.apply(st,tt)}return st}function G(nt){for(var at=1;at<arguments.length;at++){var st=arguments[at]!=null?arguments[at]:{};at%2?I(Object(st),!0).forEach(function(tt){i()(nt,tt,st[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(st)):I(Object(st)).forEach(function(tt){Object.defineProperty(nt,tt,Object.getOwnPropertyDescriptor(st,tt))})}return nt}var W=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,z=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,w=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,T=/precision\s+(high|low|medium)p\s+float/,B=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,V=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,$=(D=Object(S.injectable)(),D(p=(N=function(){function nt(){x()(this,nt),this.moduleCache={},this.rawContentCache={}}return A()(nt,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:z,fs:W}),this.registerModule("sdf2d",{vs:"",fs:w})}},{key:"registerModule",value:function(st,tt){if(!this.rawContentCache[st]){var Q=tt.vs,Z=Q===void 0?"":Q,et=tt.fs,ct=et===void 0?"":et,mt=tt.uniforms,Ot=g(Z),it=Ot.content,xt=Ot.uniforms,It=g(ct),zt=It.content,Kt=It.uniforms;this.rawContentCache[st]={fs:zt,uniforms:G(G(G({},xt),Kt),mt),vs:it}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(st){var tt=this;if(this.moduleCache[st])return this.moduleCache[st];var Q=this.rawContentCache[st].vs||"",Z=this.rawContentCache[st].fs||"",et=this.processModule(Q,[],"vs"),ct=et.content,mt=et.includeList,Ot=this.processModule(Z,[],"fs"),it=Ot.content,xt=Ot.includeList,It=it,zt=E(mt.concat(xt).concat(st)).reduce(function(Kt,Yt){return G(G({},Kt),tt.rawContentCache[Yt].uniforms)},{});return T.test(it)||(It=B+it),this.moduleCache[st]={fs:It.trim(),uniforms:zt,vs:ct.trim()},this.moduleCache[st]}},{key:"processModule",value:function(st,tt,Q){var Z=this,et=st.replace(V,function(ct,mt){var Ot=mt.split(" "),it=Ot[0].replace(/"/g,"");if(tt.indexOf(it)>-1)return"";var xt=Z.rawContentCache[it][Q];tt.push(it);var It=Z.processModule(xt||"",tt,Q),zt=It.content;return zt});return{content:et,includeList:tt}}}]),nt}(),N))||p)},c2a8:function(Ut,L,a){Ut.exports={Graph:a("K0S0"),version:a("1RCG")}},c5gd:function(Ut,L,a){"use strict";a.d(L,"b",function(){return b}),a.d(L,"a",function(){return g});var h=a("xDaT"),i=a.n(h),O=a("Rspp"),x=a.n(O),C=a("2Asv"),A=a.n(C),S=a("99LQ"),M=a("xO9G"),b;(function(E){E[E.OUTSIDE=4294967295]="OUTSIDE",E[E.INSIDE=0]="INSIDE",E[E.INDETERMINATE=2147483647]="INDETERMINATE"})(b||(b={}));var g=function(){function E(D){if(x()(this,E),this.planes=[],D)this.planes=D;else for(var p=0;p<6;p++)this.planes.push(new M.a)}return A()(E,[{key:"extractFromVPMatrix",value:function(p){var N=i()(p,16),I=N[0],G=N[1],W=N[2],z=N[3],w=N[4],T=N[5],B=N[6],V=N[7],$=N[8],nt=N[9],at=N[10],st=N[11],tt=N[12],Q=N[13],Z=N[14],et=N[15];S.e.set(this.planes[0].normal,z-I,V-w,st-$),this.planes[0].distance=-(et-tt),S.e.set(this.planes[1].normal,z+I,V+w,st+$),this.planes[1].distance=-(et+tt),S.e.set(this.planes[2].normal,z+G,V+T,st+nt),this.planes[2].distance=-(et+Q),S.e.set(this.planes[3].normal,z-G,V-T,st-nt),this.planes[3].distance=-(et-Q),S.e.set(this.planes[4].normal,z-W,V-B,st-at),this.planes[4].distance=-(et-Z),S.e.set(this.planes[5].normal,z+W,V+B,st+at),this.planes[5].distance=-(et+Z),this.planes.forEach(function(ct){ct.normalize(),ct.updatePNVertexFlag()})}}]),E}()},c6wE:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"b",function(){return i});var h=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],i={GRADIENT:{CONTINUOUS:"#BAE7FF-#1890FF-#0050B3"}}},cGgO:function(Ut,L,a){var h=a("3sCP"),i=a("5MHJ"),O=a("TIpG"),x=a("BaLd"),C=a("KC/J"),A="[object Map]",S="[object Set]";function M(b){if(b==null)return 0;if(O(b))return x(b)?C(b):b.length;var g=i(b);return g==A||g==S?b.size:h(b).length}Ut.exports=M},"cY+X":function(Ut,L,a){"use strict";a.d(L,"a",function(){return nt});var h=a("J+IK"),i=a("d38q"),O=a("OM6K"),x=a("ggto"),C=a("RF2d"),A=a("W7Gi"),S=a("M1/f"),M=a("jg4I"),b=a("IX3a"),g={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function E(at,st){st=Object(M.b)({},g,st);var tt=st.as;if(!Object(M.B)(tt)||tt.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var Q;try{Q=Object(b.b)(st)}catch(Ot){console.warn(Ot)}var Z=function(it){return A.a().size(st.size).round(st.round).padding(st.padding)(S.c(it).sum(function(xt){return xt[Q]}))},et=Z(at),ct=tt[0],mt=tt[1];return et.each(function(Ot){Ot[ct]=[Ot.x0,Ot.x1,Ot.x1,Ot.x0],Ot[mt]=[Ot.y1,Ot.y1,Ot.y0,Ot.y0],["x0","x1","y0","y1"].forEach(function(it){tt.indexOf(it)===-1&&delete Ot[it]})}),Object(b.a)(et)}var D=a("G1Ru");function p(at){var st=at.data,tt=at.type,Q=at.seriesField,Z=at.colorField,et=at.hierarchyConfig,ct={partition:E,treemap:D.a},mt=ct[tt](st,Object(h.a)(Object(h.a)({},et),{type:"hierarchy."+tt,field:Q,as:["x","y"]})),Ot=[];return mt.forEach(function(it){var xt,It,zt,Kt,Yt;if(it.depth===0)return null;var bt=Object(h.a)((xt={},xt[Q]=it.data[Q]||((zt=(It=it.parent)===null||It===void 0?void 0:It.data)===null||zt===void 0?void 0:zt[Q]),xt[Z]=it.data[Z]||((Yt=(Kt=it.parent)===null||Kt===void 0?void 0:Kt.data)===null||Yt===void 0?void 0:Yt[Z]),xt),it);bt.ext=et,Ot.push(bt)}),Ot}function N(at){var st=at.items,tt=at.formatter,Q=at.fields,Z=st[0]||{},et=Z.color,ct=Z.mappingData,mt=Z.data,Ot=document.createElement("ul");Ot.className="g2-tooltip";var it="",xt=function(zt,Kt){var Yt;return tt?tt(Object(h.a)(Object(h.a)({},zt),{field:Kt})):{name:Kt,value:(zt==null?void 0:zt[Kt])||((Yt=zt==null?void 0:zt.data)===null||Yt===void 0?void 0:Yt[Kt])}};return Q.forEach(function(It){var zt=xt(mt,It),Kt=zt.name,Yt=zt.value;it+=`<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;display:flex;align-items: center;">
        <span style="background-color:`+((ct==null?void 0:ct.color)||et)+`;" class="g2-tooltip-marker"></span>
        <span style="display:inline-flex;flex:1;justify-content:space-between">
        <span style="margin-right: 16px;">`+Kt+`:</span>
        <span class="g2-tooltip-list-item-value">`+Yt+`</span>
        </span>
    </li>`}),Ot.innerHTML=it,Ot}function I(at){var st=at.chart,tt=at.options,Q=tt.color,Z=tt.colorField,et=tt.sunburstStyle,ct=p(tt);return st.data(ct),Object(O.f)(Object(C.b)({},at,{options:{xField:"x",yField:"y",seriesField:Z,polygon:{color:Q,style:et}}})),at}function G(at){var st=at.chart;return st.axis(!1),at}function W(at){var st=at.chart;return st.legend(!1),at}function z(at){var st=at.chart,tt=at.options,Q=tt.label,Z=tt.seriesField,et=Object(C.c)(st,"polygon");if(!Q)et.label(!1);else{var ct=Q.callback,mt=Object(h.e)(Q,["callback"]);et.label({fields:[Z],callback:ct,cfg:Object(C.u)(mt)})}return at}function w(at){var st=at.chart,tt=at.options,Q=tt.innerRadius,Z=tt.radius,et=tt.reflect,ct=st.coordinate({type:"polar",cfg:{innerRadius:Q,radius:Z}});return et&&ct.reflect(et),at}function T(at){var st=at.chart,tt=at.options,Q=tt.meta;return Q&&st.scale(Q),at}function B(at){var st=at.chart,tt=at.options,Q=tt.tooltip,Z=tt.seriesField,et=tt.colorField;return Q&&st.tooltip(Object(h.a)(Object(h.a)({},Q),{customContent:Q&&Q.customContent?Q.customContent:function(ct,mt){return N({value:ct,items:mt,formatter:Q&&(Q==null?void 0:Q.formatter),fields:Q&&Q.fields||[Z,et]})}})),at}function V(at){return Object(C.e)(I,x.j,G,T,W,w,B,z,x.c,x.a,Object(x.b)())(at)}var $=Object(C.b)({},i.b.getDefaultOptions(),{type:"partition",innerRadius:0,seriesField:"value",tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1}}),nt=function(at){Object(h.c)(st,at);function st(){var tt=at!==null&&at.apply(this,arguments)||this;return tt.type="sunburst",tt}return st.getDefaultOptions=function(){return $},st.prototype.getDefaultOptions=function(){return st.getDefaultOptions()},st.prototype.getSchemaAdaptor=function(){return V},st}(i.b)},cnAf:function(Ut,L,a){"use strict";a.d(L,"a",function(){return M});var h=a("ggto"),i=a("RF2d"),O=a("OM6K"),x=a("HEgp"),C=a("N5bZ"),A=a("CALi");a.d(L,"b",function(){return A.b});function S(b){var g=b.chart,E=b.options,D=E.data,p=E.color,N=E.columnStyle,I=E.columnWidthRatio,G=Object(C.a)(D);g.data(G);var W=Object(i.b)({},b,{options:{xField:x.c,yField:x.d,widthRatio:I,interval:{style:N,color:p}}});return Object(O.c)(W),g.axis(!1),g.legend(!1),g.interaction("element-active"),b}function M(b){return Object(i.e)(S,A.b,h.k,h.j,h.a,Object(h.b)())(b)}},cqdR:function(Ut,L,a){"use strict";a.d(L,"b",function(){return S}),a.d(L,"a",function(){return b});var h=a("jg4I"),i=a("RF2d"),O=a("ggto"),x=a("OM6K"),C=a("5Hz4"),A=a("34FO");function S(g){var E=g.chart,D=g.options,p=D.percent,N=D.progressStyle,I=D.color,G=D.barWidthRatio;E.data(Object(A.a)(p));var W=Object(i.b)({},g,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:G,interval:{style:N,color:Object(h.O)(I)?[I,C.a[1]]:I},args:{zIndexReversed:!0}}});return Object(x.c)(W),E.tooltip(!1),E.axis(!1),E.legend(!1),g}function M(g){var E=g.chart;return E.coordinate("rect").transpose(),g}function b(g){return Object(i.e)(S,Object(O.f)({}),M,O.a,O.j,Object(O.b)())(g)}},cvn4:function(Ut,L){function a(h,i,O){switch(O.length){case 0:return h.call(i);case 1:return h.call(i,O[0]);case 2:return h.call(i,O[0],O[1]);case 3:return h.call(i,O[0],O[1],O[2])}return h.apply(i,O)}Ut.exports=a},cxhD:function(Ut,L,a){"use strict";a.d(L,"a",function(){return Z});var h=a("J+IK"),i=a("d38q"),O=a("qMt/"),x=a("ggto"),C=a("RF2d"),A=a("jg4I"),S=a("UooB"),M=a("G1Ru");function b(et,ct){if(!!Object(A.B)(et))return et.find(function(mt){return mt.type===ct})}function g(et,ct){var mt=b(et,ct);return mt&&mt.enable!==!1}function E(et){var ct=et.interactions["treemap-drill-down"];if(!!ct){var mt=ct.context.actions.find(function(Ot){return Ot.name==="treemap-drill-down-action"});mt.reset()}}function D(et,ct){var mt=b(et,"treemap-drill-down");return mt?et.map(function(Ot){return Ot.type==="treemap-drill-down"?Object(C.b)({},Ot,{cfg:{hierarchyConfig:ct}}):Ot}):et}function p(et){var ct=et.data,mt=et.colorField,Ot=et.enableDrillDown,it=et.hierarchyConfig,xt=Object(M.a)(ct,Object(h.a)(Object(h.a)({},it),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),It=[];return xt.forEach(function(zt){if(zt.depth===0||Ot&&zt.depth!==1||!Ot&&zt.children)return null;var Kt=zt.ancestors().map(function(dt){return{data:dt.data,height:dt.height,value:dt.value}}),Yt=Ot&&Object(A.B)(ct.path)?Kt.concat(ct.path.slice(1)):Kt,bt=Object.assign({},zt.data,{x:zt.x,y:zt.y,depth:zt.depth,value:zt.value,path:Yt});if(!zt.data[mt]&&zt.parent){var ft=zt.ancestors().find(function(dt){return dt.data[mt]});bt[mt]=ft==null?void 0:ft.data[mt]}else bt[mt]=zt.data[mt];It.push(bt)}),It}function N(et){var ct=Object(S.a)(et),mt=25;return[ct[0],ct[1],ct[2]+mt,ct[3]]}function I(et){var ct=et.options,mt=ct.colorField;return Object(C.b)({options:{colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1,fields:["name","value",mt,"path"],formatter:function(it){return{name:it.name,value:it.value}}}}},et)}function G(et){var ct=et.chart,mt=et.options,Ot=mt.color,it=mt.colorField,xt=mt.rectStyle,It=mt.hierarchyConfig,zt=p({data:mt.data,colorField:mt.colorField,enableDrillDown:g(mt.interactions,"treemap-drill-down"),hierarchyConfig:It});return ct.data(zt),Object(O.a)(Object(C.b)({},et,{options:{xField:"x",yField:"y",seriesField:it,rawFields:["value"],polygon:{color:Ot,style:xt}}})),ct.coordinate().reflect("y"),et}function W(et){var ct=et.chart;return ct.axis(!1),et}function z(et){var ct=et.chart,mt=et.options,Ot=mt.interactions,it=mt.hierarchyConfig;Object(x.c)({chart:ct,options:{interactions:D(Ot,it)}});var xt=b(Ot,"view-zoom");xt&&(xt.enable!==!1?ct.getCanvas().on("mousewheel",function(zt){zt.preventDefault()}):ct.getCanvas().off("mousewheel"));var It=g(Ot,"treemap-drill-down");return It&&(ct.appendPadding=N(ct.appendPadding)),et}function w(et){return Object(C.e)(I,G,W,x.j,x.d,x.k,z,x.a,Object(x.b)())(et)}var T=a("AO+g"),B=a("IXtn"),V=4,$=0,nt=5,at={name:"treemap-bread-crumb",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeStyle:{fill:"#87B5FF"}},st=function(et){Object(h.c)(ct,et);function ct(){var mt=et!==null&&et.apply(this,arguments)||this;return mt.historyCache=null,mt.breadCrumbGroup=null,mt.breadCrumbCfg=at,mt}return ct.prototype.getButtonCfg=function(){return Object(B.a)(this.breadCrumbCfg,this.cfg)},ct.prototype.drill=function(mt){var Ot=this.getButtonCfg(),it=this.context.view,xt=it.getData(),It=it.getGroupScales(),zt=Object(A.s)(it,["interactions","treemap-drill-down","cfg","hierarchyConfig"],{});this.historyCache||(this.historyCache=[{name:Ot.rootText,children:xt}]);var Kt=p({data:mt,colorField:Object(A.s)(It,[0,"field"]),enableDrillDown:!0,hierarchyConfig:zt});it.changeData(Kt),this.historyCache.push({name:mt.name,children:Kt})},ct.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},ct.prototype.drawBreadCrumbGroup=function(){var mt=this,Ot=this.getButtonCfg(),it=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:Ot.name});var xt=0;it.forEach(function(It,zt){var Kt=mt.breadCrumbGroup.addShape({type:"text",name:Ot.name+"_"+It.name+"_text",attrs:Object(h.a)(Object(h.a)({text:It.name},Ot.textStyle),{x:xt,y:0})}),Yt=Kt.getBBox();if(xt+=Yt.width+V,Kt.on("click",function(){var dt=it.slice(0,zt+1);mt.back(dt)}),Kt.on("mouseenter",function(){Kt.attr(Ot.activeStyle)}),Kt.on("mouseleave",function(){Kt.attr(Ot.textStyle)}),zt<it.length-1){var bt=mt.breadCrumbGroup.addShape({type:"text",name:Ot.name+"_"+It.name+"_divider",attrs:Object(h.a)(Object(h.a)({text:Ot.dividerText},Ot.textStyle),{x:xt,y:0})}),ft=bt.getBBox();xt+=ft.width+V}})},ct.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var mt=this.context.view,Ot=mt.getCoordinate(),it=Ot.convert({x:0,y:1}),xt=this.breadCrumbGroup,It=xt.getBBox(),zt=T.Util.transform(null,[["t",it.x+$,it.y+It.height+nt]]);xt.setMatrix(zt)}},ct.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},ct.prototype.click=function(){var mt=Object(A.s)(this.context,["event","data","data"]);if(!mt)return!1;this.drill(mt),this.drawBreadCrumb()},ct.prototype.back=function(mt){var Ot=this.context.view;if(!(!Object(A.B)(this.historyCache)||this.historyCache.length<=0)){this.historyCache=mt;var it=mt[mt.length-1].children;Ot.changeData(it),mt.length>1?this.drawBreadCrumb():this.hideCrumbGroup()}},ct.prototype.reset=function(){this.historyCache=null,this.hideCrumbGroup()},ct.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),et.prototype.destroy.call(this)},ct}(T.Action);function tt(et){var ct=Object(A.s)(et,["event","data","data"],{});return Object(A.B)(ct.children)&&ct.children.length>0&&ct.depth===1}Object(T.registerAction)("treemap-drill-down-action",st),Object(T.registerInteraction)("treemap-drill-down",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:pointer"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:tt,action:["treemap-drill-down-action:click"]},{trigger:"afterchangesize",action:["treemap-drill-down-action:resetPosition"]}]});var Q=a("0mOh"),Z=function(et){Object(h.c)(ct,et);function ct(){var mt=et!==null&&et.apply(this,arguments)||this;return mt.type="treemap",mt}return ct.prototype.changeData=function(mt){var Ot=this.options,it=Ot.colorField,xt=Ot.interactions,It=Ot.hierarchyConfig;this.updateOption({data:mt});var zt=p({data:mt,colorField:it,enableDrillDown:g(xt,"treemap-drill-down"),hierarchyConfig:It});this.chart.changeData(zt),E(this.chart)},ct.prototype.getSchemaAdaptor=function(){return w},ct}(i.b)},"d/dq":function(Ut,L,a){"use strict";a.r(L),a.d(L,"create",function(){return i}),a.d(L,"clone",function(){return O}),a.d(L,"fromValues",function(){return x}),a.d(L,"copy",function(){return C}),a.d(L,"set",function(){return A}),a.d(L,"add",function(){return S}),a.d(L,"subtract",function(){return M}),a.d(L,"multiply",function(){return b}),a.d(L,"divide",function(){return g}),a.d(L,"ceil",function(){return E}),a.d(L,"floor",function(){return D}),a.d(L,"min",function(){return p}),a.d(L,"max",function(){return N}),a.d(L,"round",function(){return I}),a.d(L,"scale",function(){return G}),a.d(L,"scaleAndAdd",function(){return W}),a.d(L,"distance",function(){return z}),a.d(L,"squaredDistance",function(){return w}),a.d(L,"length",function(){return T}),a.d(L,"squaredLength",function(){return B}),a.d(L,"negate",function(){return V}),a.d(L,"inverse",function(){return $}),a.d(L,"normalize",function(){return nt}),a.d(L,"dot",function(){return at}),a.d(L,"cross",function(){return st}),a.d(L,"lerp",function(){return tt}),a.d(L,"random",function(){return Q}),a.d(L,"transformMat2",function(){return Z}),a.d(L,"transformMat2d",function(){return et}),a.d(L,"transformMat3",function(){return ct}),a.d(L,"transformMat4",function(){return mt}),a.d(L,"rotate",function(){return Ot}),a.d(L,"angle",function(){return it}),a.d(L,"zero",function(){return xt}),a.d(L,"str",function(){return It}),a.d(L,"exactEquals",function(){return zt}),a.d(L,"equals",function(){return Kt}),a.d(L,"len",function(){return Yt}),a.d(L,"sub",function(){return bt}),a.d(L,"mul",function(){return ft}),a.d(L,"div",function(){return dt}),a.d(L,"dist",function(){return ot}),a.d(L,"sqrDist",function(){return Mt}),a.d(L,"sqrLen",function(){return Nt}),a.d(L,"forEach",function(){return Pt});var h=a("TaHB");function i(){var J=new h.a(2);return h.a!=Float32Array&&(J[0]=0,J[1]=0),J}function O(J){var X=new h.a(2);return X[0]=J[0],X[1]=J[1],X}function x(J,X){var vt=new h.a(2);return vt[0]=J,vt[1]=X,vt}function C(J,X){return J[0]=X[0],J[1]=X[1],J}function A(J,X,vt){return J[0]=X,J[1]=vt,J}function S(J,X,vt){return J[0]=X[0]+vt[0],J[1]=X[1]+vt[1],J}function M(J,X,vt){return J[0]=X[0]-vt[0],J[1]=X[1]-vt[1],J}function b(J,X,vt){return J[0]=X[0]*vt[0],J[1]=X[1]*vt[1],J}function g(J,X,vt){return J[0]=X[0]/vt[0],J[1]=X[1]/vt[1],J}function E(J,X){return J[0]=Math.ceil(X[0]),J[1]=Math.ceil(X[1]),J}function D(J,X){return J[0]=Math.floor(X[0]),J[1]=Math.floor(X[1]),J}function p(J,X,vt){return J[0]=Math.min(X[0],vt[0]),J[1]=Math.min(X[1],vt[1]),J}function N(J,X,vt){return J[0]=Math.max(X[0],vt[0]),J[1]=Math.max(X[1],vt[1]),J}function I(J,X){return J[0]=Math.round(X[0]),J[1]=Math.round(X[1]),J}function G(J,X,vt){return J[0]=X[0]*vt,J[1]=X[1]*vt,J}function W(J,X,vt,lt){return J[0]=X[0]+vt[0]*lt,J[1]=X[1]+vt[1]*lt,J}function z(J,X){var vt=X[0]-J[0],lt=X[1]-J[1];return Math.hypot(vt,lt)}function w(J,X){var vt=X[0]-J[0],lt=X[1]-J[1];return vt*vt+lt*lt}function T(J){var X=J[0],vt=J[1];return Math.hypot(X,vt)}function B(J){var X=J[0],vt=J[1];return X*X+vt*vt}function V(J,X){return J[0]=-X[0],J[1]=-X[1],J}function $(J,X){return J[0]=1/X[0],J[1]=1/X[1],J}function nt(J,X){var vt=X[0],lt=X[1],Ct=vt*vt+lt*lt;return Ct>0&&(Ct=1/Math.sqrt(Ct)),J[0]=X[0]*Ct,J[1]=X[1]*Ct,J}function at(J,X){return J[0]*X[0]+J[1]*X[1]}function st(J,X,vt){var lt=X[0]*vt[1]-X[1]*vt[0];return J[0]=J[1]=0,J[2]=lt,J}function tt(J,X,vt,lt){var Ct=X[0],Ft=X[1];return J[0]=Ct+lt*(vt[0]-Ct),J[1]=Ft+lt*(vt[1]-Ft),J}function Q(J,X){X=X||1;var vt=h.c()*2*Math.PI;return J[0]=Math.cos(vt)*X,J[1]=Math.sin(vt)*X,J}function Z(J,X,vt){var lt=X[0],Ct=X[1];return J[0]=vt[0]*lt+vt[2]*Ct,J[1]=vt[1]*lt+vt[3]*Ct,J}function et(J,X,vt){var lt=X[0],Ct=X[1];return J[0]=vt[0]*lt+vt[2]*Ct+vt[4],J[1]=vt[1]*lt+vt[3]*Ct+vt[5],J}function ct(J,X,vt){var lt=X[0],Ct=X[1];return J[0]=vt[0]*lt+vt[3]*Ct+vt[6],J[1]=vt[1]*lt+vt[4]*Ct+vt[7],J}function mt(J,X,vt){var lt=X[0],Ct=X[1];return J[0]=vt[0]*lt+vt[4]*Ct+vt[12],J[1]=vt[1]*lt+vt[5]*Ct+vt[13],J}function Ot(J,X,vt,lt){var Ct=X[0]-vt[0],Ft=X[1]-vt[1],Wt=Math.sin(lt),kt=Math.cos(lt);return J[0]=Ct*kt-Ft*Wt+vt[0],J[1]=Ct*Wt+Ft*kt+vt[1],J}function it(J,X){var vt=J[0],lt=J[1],Ct=X[0],Ft=X[1],Wt=Math.sqrt(vt*vt+lt*lt)*Math.sqrt(Ct*Ct+Ft*Ft),kt=Wt&&(vt*Ct+lt*Ft)/Wt;return Math.acos(Math.min(Math.max(kt,-1),1))}function xt(J){return J[0]=0,J[1]=0,J}function It(J){return"vec2("+J[0]+", "+J[1]+")"}function zt(J,X){return J[0]===X[0]&&J[1]===X[1]}function Kt(J,X){var vt=J[0],lt=J[1],Ct=X[0],Ft=X[1];return Math.abs(vt-Ct)<=h.b*Math.max(1,Math.abs(vt),Math.abs(Ct))&&Math.abs(lt-Ft)<=h.b*Math.max(1,Math.abs(lt),Math.abs(Ft))}var Yt=T,bt=M,ft=b,dt=g,ot=z,Mt=w,Nt=B,Pt=function(){var J=i();return function(X,vt,lt,Ct,Ft,Wt){var kt,jt;for(vt||(vt=2),lt||(lt=0),Ct?jt=Math.min(Ct*vt+lt,X.length):jt=X.length,kt=lt;kt<jt;kt+=vt)J[0]=X[kt],J[1]=X[kt+1],Ft(J,J,Wt),X[kt]=J[0],X[kt+1]=J[1];return X}}()},d38q:function(Ut,L,a){"use strict";a.d(L,"a",function(){return b}),a.d(L,"b",function(){return g});var h=a("J+IK"),i=a("AO+g"),O=a("jg4I"),x=a("nZiY"),C=a("bCfE"),A=a.n(C),S=a("RF2d"),M="data-chart-source-type",b=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],g=function(E){Object(h.c)(D,E);function D(p,N){var I=E.call(this)||this;return I.type="base",I.container=typeof p=="string"?document.getElementById(p):p,I.options=Object(S.b)({},I.getDefaultOptions(),N),I.createG2(),I.bindEvents(),I}return D.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},D.prototype.createG2=function(){var p=this.options,N=p.width,I=p.height;this.chart=new i.Chart(Object(h.a)(Object(h.a)(Object(h.a)({container:this.container,autoFit:!1},this.getChartSize(N,I)),{localRefresh:!1}),Object(S.p)(this.options,b))),this.container.setAttribute(M,"G2Plot")},D.prototype.getChartSize=function(p,N){var I=Object(S.h)(this.container);return{width:p||I.width||400,height:N||I.height||400}},D.prototype.bindEvents=function(){var p=this;this.chart&&this.chart.on("*",function(N){(N==null?void 0:N.type)&&p.emit(N.type,N)})},D.prototype.getDefaultOptions=function(){return D.getDefaultOptions()},D.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},D.prototype.update=function(p){this.updateOption(p),this.render()},D.prototype.updateOption=function(p){this.options=Object(S.b)({},this.options,p)},D.prototype.setState=function(p,N,I){I===void 0&&(I=!0);var G=Object(S.f)(this.chart);Object(O.j)(G,function(W){N(W.getData())&&W.setState(p,I)})},D.prototype.getStates=function(){var p=Object(S.f)(this.chart),N=[];return Object(O.j)(p,function(I){var G=I.getData(),W=I.getStates();Object(O.j)(W,function(z){N.push({data:G,state:z,geometry:I.geometry,element:I})})}),N},D.prototype.changeData=function(p){this.update({data:p})},D.prototype.changeSize=function(p,N){this.chart.changeSize(p,N)},D.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(M)},D.prototype.execAdaptor=function(){var p=this.getSchemaAdaptor(),N=this.options,I=N.padding,G=N.appendPadding;this.chart.padding=I,this.chart.appendPadding=G,p({chart:this.chart,options:this.options})},D.prototype.triggerResize=function(){this.chart.forceFit()},D.prototype.bindSizeSensor=function(){var p=this;if(!this.unbind){var N=this.options.autoFit,I=N===void 0?!0:N;I&&(this.unbind=Object(C.bind)(this.container,function(){var G=Object(S.h)(p.container),W=G.width,z=G.height;(W!==p.chart.width||z!==p.chart.height)&&p.triggerResize()}))}},D.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},D}(x.a)},dAAy:function(Ut,L,a){"use strict";a.d(L,"a",function(){return I});var h=0,i=0,O=0,x=1e3,C,A,S=0,M=0,b=0,g=typeof performance=="object"&&performance.now?performance:Date,E=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(B){setTimeout(B,17)};function D(){return M||(E(p),M=g.now()+b)}function p(){M=0}function N(){this._call=this._time=this._next=null}N.prototype=I.prototype={constructor:N,restart:function(V,$,nt){if(typeof V!="function")throw new TypeError("callback is not a function");nt=(nt==null?D():+nt)+($==null?0:+$),!this._next&&A!==this&&(A?A._next=this:C=this,A=this),this._call=V,this._time=nt,T()},stop:function(){this._call&&(this._call=null,this._time=Infinity,T())}};function I(B,V,$){var nt=new N;return nt.restart(B,V,$),nt}function G(){D(),++h;for(var B=C,V;B;)(V=M-B._time)>=0&&B._call.call(null,V),B=B._next;--h}function W(){M=(S=g.now())+b,h=i=0;try{G()}finally{h=0,w(),M=0}}function z(){var B=g.now(),V=B-S;V>x&&(b-=V,S=B)}function w(){for(var B,V=C,$,nt=Infinity;V;)V._call?(nt>V._time&&(nt=V._time),B=V,V=V._next):($=V._next,V._next=null,V=B?B._next=$:C=$);A=B,T(nt)}function T(B){if(!h){i&&(i=clearTimeout(i));var V=B-M;V>24?(B<Infinity&&(i=setTimeout(W,B-g.now()-b)),O&&(O=clearInterval(O))):(O||(S=g.now(),O=setInterval(z,x)),h=1,E(W))}}},dN4e:function(Ut,L,a){"use strict";a.d(L,"b",function(){return h}),a.d(L,"a",function(){return i});function h(O){return typeof O=="number"&&!isNaN(O)}function i(O,x,C){var A=Math.min(x,C),S=Math.max(x,C);return O>=A&&O<=S}},dUXx:function(Ut,L,a){"use strict";a.r(L),a.d(L,"Line",function(){return g}),a.d(L,"Circle",function(){return D}),a.d(L,"Base",function(){return M}),a.d(L,"Html",function(){return B});var h=a("J+IK"),i=a("L+OQ"),O=a("jg4I"),x=a("jFyH"),C=a("xdm5"),A=a("KwOt"),S=function(V){Object(h.c)($,V);function $(){return V!==null&&V.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=V.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},nt),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:A.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:A.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:A.a.fontFamily}},textBackground:{padding:5,style:{stroke:A.a.lineColor}}}})},$.prototype.renderInner=function(nt){this.get("line")&&this.renderLine(nt),this.get("text")&&(this.renderText(nt),this.renderBackground(nt))},$.prototype.renderText=function(nt){var at=this.get("text"),st=at.style,tt=at.autoRotate,Q=at.content;if(!Object(O.I)(Q)){var Z=this.getTextPoint(),et=null;if(tt){var ct=this.getRotateAngle();et=Object(C.e)(Z,ct)}this.addShape(nt,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(h.a)(Object(h.a)(Object(h.a)({},Z),{text:Q,matrix:et}),st)})}},$.prototype.renderLine=function(nt){var at=this.getLinePath(),st=this.get("line"),tt=st.style;this.addShape(nt,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(h.a)({path:at},tt)})},$.prototype.renderBackground=function(nt){var at=this.getElementId("text"),st=nt.findById(at),tt=this.get("textBackground");if(tt&&st){var Q=st.getBBox(),Z=Object(i.c)(tt.padding),et=tt.style,ct=this.addShape(nt,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(h.a)({x:Q.x-Z[3],y:Q.y-Z[0],width:Q.width+Z[1]+Z[3],height:Q.height+Z[0]+Z[2],matrix:st.attr("matrix")},et)});ct.toBack()}},$}(x.a),M=S,b=function(V){Object(h.c)($,V);function $(){return V!==null&&V.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=V.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},nt),{type:"line",locationType:"region",start:null,end:null})},$.prototype.getRotateAngle=function(){var nt=this.getLocation(),at=nt.start,st=nt.end,tt=this.get("text").position,Q=Math.atan2(st.y-at.y,st.x-at.x),Z=tt==="start"?Q-Math.PI/2:Q+Math.PI/2;return Z},$.prototype.getTextPoint=function(){var nt=this.getLocation(),at=nt.start,st=nt.end,tt=this.get("text"),Q=tt.position,Z=tt.offset;return Object(i.f)(at,st,Q,Z)},$.prototype.getLinePath=function(){var nt=this.getLocation(),at=nt.start,st=nt.end;return[["M",at.x,at.y],["L",st.x,st.y]]},$}(M),g=b,E=function(V){Object(h.c)($,V);function $(){return V!==null&&V.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=V.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},nt),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},$.prototype.getRotateAngle=function(){var nt=this.getLocation(),at=nt.startAngle,st=nt.endAngle,tt=this.get("text").position,Q=tt==="start"?at+Math.PI/2:st-Math.PI/2;return Q},$.prototype.getTextPoint=function(){var nt=this.get("text"),at=nt.position,st=nt.offset,tt=this.getLocation(),Q=tt.center,Z=tt.radius,et=tt.startAngle,ct=tt.endAngle,mt=at==="start"?et:ct,Ot=this.getRotateAngle()-Math.PI,it=Object(i.e)(Q,Z,mt),xt=Math.cos(Ot)*st,It=Math.sin(Ot)*st;return{x:it.x+xt,y:it.y+It}},$.prototype.getLinePath=function(){var nt=this.getLocation(),at=nt.center,st=nt.radius,tt=nt.startAngle,Q=nt.endAngle,Z=null;if(Q-tt==Math.PI*2){var et=at.x,ct=at.y;Z=[["M",et,ct-st],["A",st,st,0,1,1,et,ct+st],["A",st,st,0,1,1,et,ct-st],["Z"]]}else{var mt=Object(i.e)(at,st,tt),Ot=Object(i.e)(at,st,Q),it=Math.abs(Q-tt)>Math.PI?1:0,xt=tt>Q?0:1;Z=[["M",mt.x,mt.y],["A",st,st,0,it,xt,Ot.x,Ot.y]]}return Z},$}(M),D=E,p=a("m8xh"),N=a("oDuu"),I="g2-crosshair",G=I+"-line",W=I+"-text",z,w=(z={},z[""+I]={position:"relative"},z[""+G]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},z[""+W]={position:"absolute",color:A.a.textColor,fontFamily:A.a.fontFamily},z),T=function(V){Object(h.c)($,V);function $(){return V!==null&&V.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=V.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},nt),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+I+'"></div>',crosshairTpl:'<div class="'+G+'"></div>',textTpl:'<span class="'+W+'">{content}</span>',domStyles:null,containerClassName:I,defaultStyles:w,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},$.prototype.render=function(){this.resetText(),this.resetPosition()},$.prototype.initCrossHair=function(){var nt=this.getContainer(),at=this.get("crosshairTpl"),st=Object(p.b)(at);nt.appendChild(st),this.applyStyle(G,st),this.set("crosshairEl",st)},$.prototype.getTextPoint=function(){var nt=this.getLocation(),at=nt.start,st=nt.end,tt=this.get("text"),Q=tt.position,Z=tt.offset;return Object(i.f)(at,st,Q,Z)},$.prototype.resetText=function(){var nt=this.get("text"),at=this.get("textEl");if(nt){var st=nt.content;if(!at){var tt=this.getContainer(),Q=Object(O.mb)(this.get("textTpl"),nt);at=Object(p.b)(Q),tt.appendChild(at),this.applyStyle(W,at),this.set("textEl",at)}at.innerHTML=st}else at&&at.remove()},$.prototype.isVertical=function(nt,at){return nt.x===at.x},$.prototype.resetPosition=function(){var nt=this.get("crosshairEl");nt||(this.initCrossHair(),nt=this.get("crosshairEl"));var at=this.get("start"),st=this.get("end"),tt=Math.min(at.x,st.x),Q=Math.min(at.y,st.y);this.isVertical(at,st)?Object(p.e)(nt,{width:"1px",height:Object(i.l)(Math.abs(st.y-at.y))}):Object(p.e)(nt,{height:"1px",width:Object(i.l)(Math.abs(st.x-at.x))}),Object(p.e)(nt,{top:Object(i.l)(Q),left:Object(i.l)(tt)}),this.alignText()},$.prototype.alignText=function(){var nt=this.get("textEl");if(nt){var at=this.get("text").align,st=nt.clientWidth,tt=this.getTextPoint();switch(at){case"center":tt.x=tt.x-st/2;break;case"right":tt.x=tt.x-st;case"left":break}Object(p.e)(nt,{top:Object(i.l)(tt.y),left:Object(i.l)(tt.x)})}},$.prototype.updateInner=function(nt){Object(O.x)(nt,"text")&&this.resetText(),V.prototype.updateInner.call(this,nt)},$}(N.a),B=T},dcUQ:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Plan=void 0;var h=function(){function i(O,x){this.parentContext=O,this.rootRequest=x}return i}();L.Plan=h},devy:function(Ut,L,a){"use strict";var h=a("XSdR");Ut.exports=i;function i(C,A){var S={};h.forEach(C,function(b,g){var E=S[b.v]={indegree:0,in:[],out:[],vs:[b.v],i:g};h.isUndefined(b.barycenter)||(E.barycenter=b.barycenter,E.weight=b.weight)}),h.forEach(A.edges(),function(b){var g=S[b.v],E=S[b.w];!h.isUndefined(g)&&!h.isUndefined(E)&&(E.indegree++,g.out.push(S[b.w]))});var M=h.filter(S,function(b){return!b.indegree});return O(M)}function O(C){var A=[];function S(g){return function(E){E.merged||(h.isUndefined(E.barycenter)||h.isUndefined(g.barycenter)||E.barycenter>=g.barycenter)&&x(g,E)}}function M(g){return function(E){E.in.push(g),--E.indegree==0&&C.push(E)}}for(;C.length;){var b=C.pop();A.push(b),h.forEach(b.in.reverse(),S(b)),h.forEach(b.out,M(b))}return h.map(h.filter(A,function(g){return!g.merged}),function(g){return h.pick(g,["vs","i","barycenter","weight"])})}function x(C,A){var S=0,M=0;C.weight&&(S+=C.barycenter*C.weight,M+=C.weight),A.weight&&(S+=A.barycenter*A.weight,M+=A.weight),C.vs=A.vs.concat(C.vs),C.barycenter=S/M,C.weight=M,C.i=Math.min(A.i,C.i),A.merged=!0}},dhvM:function(Ut,L,a){var h=a("WeNx"),i=a("MbSy"),O=a("qXgj");function x(C,A){return O(i(C,A,h),C+"")}Ut.exports=x},dzzI:function(Ut,L,a){var h=a("XSdR"),i=a("hppO");Ut.exports=O;function O(C){function A(S){var M=C.children(S),b=C.node(S);if(M.length&&h.forEach(M,A),h.has(b,"minRank")){b.borderLeft=[],b.borderRight=[];for(var g=b.minRank,E=b.maxRank+1;g<E;++g)x(C,"borderLeft","_bl",S,b,g),x(C,"borderRight","_br",S,b,g)}}h.forEach(C.children(),A)}function x(C,A,S,M,b,g){var E={width:0,height:0,rank:g,borderType:A},D=b[A][g-1],p=i.addDummyNode(C,"border",E,S);b[A][g]=p,C.setParent(p,M),D&&C.setEdge(D,p,{weight:1})}},e5xd:function(Ut,L,a){var h=a("DhYH"),i=a("ql+n");Ut.exports=O;function O(x,C,A){return i.transform(x.nodes(),function(S,M){S[M]=h(x,M,C,A)},{})}},e6Zy:function(Ut,L){function a(h,i){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}Ut.exports=a,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},eJ4x:function(Ut,L,a){"use strict";a.d(L,"a",function(){return at});var h=a("J+IK"),i=a("d38q"),O=a("RF2d"),x=a("jg4I"),C=a("OM6K"),A=a("ggto"),S=a("EEA3"),M={exp:S.regressionExp,linear:S.regressionLinear,loess:S.regressionLoess,log:S.regressionLog,poly:S.regressionPoly,pow:S.regressionPow,quad:S.regressionQuad};function b(st,tt){var Q=10,Z={regionStyle:[{position:{start:[st,"max"],end:["max",tt]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[st,tt]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",tt],end:[st,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[st,tt],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",tt],offsetX:-Q,offsetY:-Q,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",tt],offsetX:Q,offsetY:-Q,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",tt],offsetX:Q,offsetY:Q,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",tt],offsetX:-Q,offsetY:Q,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return Z}var g=function(tt,Q){var Z=Q.view,et=Q.options,ct=et.xField,mt=et.yField,Ot=Z.getScaleByField(ct),it=Z.getScaleByField(mt),xt=tt.map(function(It){return Z.getCoordinate().convert({x:Ot.scale(It[0]),y:it.scale(It[1])})});return Object(O.j)(xt,!1)},E=function(tt){var Q=tt.options,Z=Q.xField,et=Q.yField,ct=Q.data,mt=Q.regressionLine,Ot=mt.type,it=Ot===void 0?"linear":Ot,xt=mt.algorithm,It;if(xt)It=Object(x.B)(xt)?xt:xt(ct);else{var zt=M[it]().x(function(Kt){return Kt[Z]}).y(function(Kt){return Kt[et]});It=zt(ct)}return g(It,tt)},D=function(tt){var Q,Z=tt.meta,et=Z===void 0?{}:Z,ct=tt.xField,mt=tt.yField,Ot=tt.data,it=Ot[0][ct],xt=Ot[0][mt],It=it>0,zt=xt>0,Kt=function(bt,ft,dt){var ot=Object(x.s)(et,[bt,ft]);if(Object(x.K)(ot))return ot;if(dt==="x"){var Mt={min:It?0:it*2,max:It?it*2:0};return Mt[ft]}var Nt={min:zt?0:xt*2,max:zt?xt*2:0};return Nt[ft]};return Object(h.a)(Object(h.a)({},et),(Q={},Q[ct]=Object(h.a)(Object(h.a)({},et[ct]),{min:Kt(ct,"min","x"),max:Kt(ct,"max","x")}),Q[mt]=Object(h.a)(Object(h.a)({},et[mt]),{min:Kt(mt,"min","y"),max:Kt(mt,"max","y")}),Q))};function p(st){var tt=st.data,Q=tt===void 0?[]:tt;return Q.length===1?Object(O.b)({},st,{meta:D(st)}):st}function N(st){var tt=st.chart,Q=st.options,Z=Q.data,et=Q.type,ct=Q.color,mt=Q.shape,Ot=Q.pointStyle,it=Q.shapeField,xt=Q.colorField,It=Q.xField,zt=Q.yField,Kt=Q.sizeField,Yt=Q.size,bt=Q.tooltip;Kt&&(Yt||(Yt=[2,8]),Object(x.K)(Yt)&&(Yt=[Yt,Yt])),bt&&!bt.fields&&(bt=Object(h.a)(Object(h.a)({},bt),{fields:[It,zt,xt,Kt,it]})),tt.data(Z),Object(C.e)(Object(O.b)({},st,{options:{seriesField:xt,point:{color:ct,shape:mt,size:Yt,style:Ot},tooltip:bt}}));var ft=Object(O.c)(tt,"point");return et&&ft.adjust(et),st}function I(st){var tt,Q=st.options,Z=Q.data,et=Q.xAxis,ct=Q.yAxis,mt=Q.xField,Ot=Q.yField,it=Q;return Z.length===1&&(it=p(Object(O.b)({},Q,{meta:D(Q)}))),Object(O.e)(Object(A.f)((tt={},tt[mt]=et,tt[Ot]=ct,tt)))(Object(O.b)({},st,{options:it}))}function G(st){var tt=st.chart,Q=st.options,Z=Q.xAxis,et=Q.yAxis,ct=Q.xField,mt=Q.yField;return tt.axis(ct,Z),tt.axis(mt,et),st}function W(st){var tt=st.chart,Q=st.options,Z=Q.legend,et=Q.colorField,ct=Q.shapeField,mt=Q.sizeField,Ot=Q.shapeLegend,it=Q.sizeLegend,xt=Z!==!1;return et&&tt.legend(et,xt?Z:!1),ct&&(Ot?tt.legend(ct,Ot):tt.legend(ct,Ot===!1?!1:Z)),mt&&tt.legend(mt,it||!1),!xt&&!Ot&&!it&&tt.legend(!1),st}function z(st){var tt=st.chart,Q=st.options,Z=Q.label,et=Q.yField,ct=Object(O.c)(tt,"point");if(!Z)ct.label(!1);else{var mt=Z.callback,Ot=Object(h.e)(Z,["callback"]);ct.label({fields:[et],callback:mt,cfg:Object(O.u)(Ot)})}return st}function w(st){var tt=st.options,Q=tt.quadrant,Z=[];if(Q){var et=Q.xBaseline,ct=et===void 0?0:et,mt=Q.yBaseline,Ot=mt===void 0?0:mt,it=Q.labels,xt=Q.regionStyle,It=Q.lineStyle,zt=b(ct,Ot),Kt=new Array(4).join(",").split(",");Kt.forEach(function(Yt,bt){Z.push(Object(h.a)(Object(h.a)({type:"region",top:!1},zt.regionStyle[bt].position),{style:Object(O.b)({},zt.regionStyle[bt].style,xt==null?void 0:xt[bt])}),Object(h.a)({type:"text",top:!0},Object(O.b)({},zt.labelStyle[bt],it==null?void 0:it[bt])))}),Z.push({type:"line",top:!1,start:["min",Ot],end:["max",Ot],style:Object(O.b)({},zt.lineStyle,It)},{type:"line",top:!1,start:[ct,"min"],end:[ct,"max"],style:Object(O.b)({},zt.lineStyle,It)})}return Object(O.e)(Object(A.b)(Z))(st)}function T(st){var tt=st.options,Q=st.chart,Z=tt.regressionLine;if(Z){var et=Z.style,ct=Z.top,mt=ct===void 0?!1:ct,Ot={stroke:"#9ba29a",lineWidth:2,opacity:.5};Q.annotation().shape({top:mt,render:function(xt,It){var zt=xt.addGroup({id:Q.id+"-regression-line",name:"regression-line-group"}),Kt=E({view:It,options:tt});zt.addShape("path",{name:"regression-line",attrs:Object(h.a)(Object(h.a)({path:Kt},Ot),et)})}})}return st}function B(st){var tt=st.chart,Q=st.options,Z=Q.tooltip;return Z?tt.tooltip(Z):Z===!1&&tt.tooltip(!1),st}function V(st){return Object(O.e)(N,I,G,W,B,z,A.c,w,A.a,A.j,T)(st)}var $=Object(O.b)({},i.b.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}}),nt=a("0mOh"),at=function(st){Object(h.c)(tt,st);function tt(){var Q=st!==null&&st.apply(this,arguments)||this;return Q.type="point",Q}return tt.getDefaultOptions=function(){return $},tt.prototype.changeData=function(Q){this.updateOption(p(Object(O.b)({},this.options,{data:Q})));var Z=this,et=Z.options,ct=Z.chart;I({chart:ct,options:et}),this.chart.changeData(Q)},tt.prototype.getSchemaAdaptor=function(){return V},tt.prototype.getDefaultOptions=function(){return tt.getDefaultOptions()},tt}(i.b)},eavU:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.inject=L.LazyServiceIdentifer=void 0;var h=a("JIc3"),i=a("4b80"),O=a("TSqk"),x=a("+QvE"),C=function(){function S(M){this._cb=M}return S.prototype.unwrap=function(){return this._cb()},S}();L.LazyServiceIdentifer=C;function A(S){return function(M,b,g){if(S===void 0)throw new Error(h.UNDEFINED_INJECT_ANNOTATION(M.name));var E=new O.Metadata(i.INJECT_TAG,S);typeof g=="number"?x.tagParameter(M,b,g,E):x.tagProperty(M,b,E)}}L.inject=A},ebDh:function(Ut,L){Ut.exports=a;function a(h){var i=h[0],O=h[1];return i*i+O*O}},efFw:function(Ut,L,a){(function(i,O){Ut.exports=O()})(typeof self!="undefined"?self:this,function(){return function(h){var i={};function O(x){if(i[x])return i[x].exports;var C=i[x]={i:x,l:!1,exports:{}};return h[x].call(C.exports,C,C.exports,O),C.l=!0,C.exports}return O.m=h,O.c=i,O.d=function(x,C,A){O.o(x,C)||Object.defineProperty(x,C,{configurable:!1,enumerable:!0,get:A})},O.n=function(x){var C=x&&x.__esModule?function(){return x.default}:function(){return x};return O.d(C,"a",C),C},O.o=function(x,C){return Object.prototype.hasOwnProperty.call(x,C)},O.p="",O(O.s=31)}([function(h,i,O){"use strict";var x=O(4);i.a=function(C){return Array.isArray?Array.isArray(C):Object(x.a)(C,"Array")}},function(h,i,O){"use strict";var x=function(A){return A!==null&&typeof A!="function"&&isFinite(A.length)};i.a=x},function(h,i,O){"use strict";var x=O(0),C=O(13);function A(S,M){if(!!S){var b;if(Object(x.a)(S))for(var g=0,E=S.length;g<E&&(b=M(S[g],g),b!==!1);g++);else if(Object(C.a)(S)){for(var D in S)if(S.hasOwnProperty(D)&&(b=M(S[D],D),b===!1))break}}}i.a=A},function(h,i,O){"use strict";var x=O(4);i.a=function(C){return Object(x.a)(C,"Function")}},function(h,i,O){"use strict";var x={}.toString,C=function(S,M){return x.call(S)==="[object "+M+"]"};i.a=C},function(h,i,O){"use strict";var x=O(4),C=function(S){return Object(x.a)(S,"Number")};i.a=C},function(h,i,O){"use strict";var x=function(A){return A==null};i.a=x},function(h,i,O){var x=O(33),C=x.mix;h.exports={assign:C}},function(h,i,O){"use strict";var x=O(4);i.a=function(C){return Object(x.a)(C,"String")}},function(h,i,O){"use strict";var x=O(15),C=O(4),A=function(M){if(!Object(x.a)(M)||!Object(C.a)(M,"Object"))return!1;if(Object.getPrototypeOf(M)===null)return!0;for(var b=M;Object.getPrototypeOf(b)!==null;)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(M)===b};i.a=A},function(h,i,O){"use strict";var x=O(6);i.a=function(C){return Object(x.a)(C)?"":C.toString()}},function(h,i,O){var x=O(18),C=function(){function A(M,b){b===void 0&&(b={});var g=this;g.options=b,g.rootNode=x(M,b)}var S=A.prototype;return S.execute=function(){throw new Error("please override this method")},A}();h.exports=C},function(h,i,O){"use strict";var x=O(1),C=function(S,M){return Object(x.a)(S)?S.indexOf(M)>-1:!1};i.a=C},function(h,i,O){"use strict";i.a=function(x){var C=typeof x;return x!==null&&C==="object"||C==="function"}},function(h,i,O){"use strict";var x=O(2),C=O(1),A=function(M,b){if(!Object(C.a)(M))return M;var g=[];return Object(x.a)(M,function(E,D){b(E,D)&&g.push(E)}),g};i.a=A},function(h,i,O){"use strict";var x=function(A){return typeof A=="object"&&A!==null};i.a=x},function(h,i,O){"use strict";i.a=C;function x(A,S){for(var M in S)S.hasOwnProperty(M)&&M!=="constructor"&&S[M]!==void 0&&(A[M]=S[M])}function C(A,S,M,b){return S&&x(A,S),M&&x(A,M),b&&x(A,b),A}},function(h,i,O){var x=O(30),C=["LR","RL","TB","BT","H","V"],A=["LR","RL","H"],S=function(g){return A.indexOf(g)>-1},M=C[0];h.exports=function(b,g,E){var D=g.direction||M;if(g.isHorizontal=S(D),D&&C.indexOf(D)===-1)throw new TypeError("Invalid direction: "+D);if(D===C[0])E(b,g);else if(D===C[1])E(b,g),b.right2left();else if(D===C[2])E(b,g);else if(D===C[3])E(b,g),b.bottom2top();else if(D===C[4]||D===C[5]){var p=x(b,g),N=p.left,I=p.right;E(N,g),E(I,g),g.isHorizontal?N.right2left():N.bottom2top(),I.translate(N.x-I.x,N.y-I.y),b.x=N.x,b.y=I.y;var G=b.getBoundingBox();g.isHorizontal?G.top<0&&b.translate(0,-G.top):G.left<0&&b.translate(-G.left,0)}var W=g.fixedRoot;return W===void 0&&(W=!0),W&&b.translate(-(b.x+b.width/2+b.hgap),-(b.y+b.height/2+b.vgap)),b}},function(h,i,O){var x=O(7),C=18,A=C*2,S=C,M={getId:function(D){return D.id||D.name},getPreH:function(D){return D.preH||0},getPreV:function(D){return D.preV||0},getHGap:function(D){return D.hgap||S},getVGap:function(D){return D.vgap||S},getChildren:function(D){return D.children},getHeight:function(D){return D.height||A},getWidth:function(D){var p=D.label||" ";return D.width||p.split("").length*C}};function b(E,D){var p=this;if(p.vgap=p.hgap=0,E instanceof b)return E;p.data=E;var N=D.getHGap(E),I=D.getVGap(E);return p.preH=D.getPreH(E),p.preV=D.getPreV(E),p.width=D.getWidth(E),p.height=D.getHeight(E),p.width+=p.preH,p.height+=p.preV,p.id=D.getId(E),p.x=p.y=0,p.depth=0,p.children||(p.children=[]),p.addGap(N,I),p}x.assign(b.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(D,p){var N=this;N.hgap+=D,N.vgap+=p,N.width+=2*D,N.height+=2*p},eachNode:function(D){for(var p=this,N=[p],I;I=N.shift();)D(I),N=I.children.concat(N)},DFTraverse:function(D){this.eachNode(D)},BFTraverse:function(D){for(var p=this,N=[p],I;I=N.shift();)D(I),N=N.concat(I.children)},getBoundingBox:function(){var D={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(p){D.left=Math.min(D.left,p.x),D.top=Math.min(D.top,p.y),D.width=Math.max(D.width,p.x+p.width),D.height=Math.max(D.height,p.y+p.height)}),D},translate:function(D,p){D===void 0&&(D=0),p===void 0&&(p=0),this.eachNode(function(N){N.x+=D,N.y+=p,N.x+=N.preH,N.y+=N.preV})},right2left:function(){var D=this,p=D.getBoundingBox();D.eachNode(function(N){N.x=N.x-(N.x-p.left)*2-N.width}),D.translate(p.width,0)},bottom2top:function(){var D=this,p=D.getBoundingBox();D.eachNode(function(N){N.y=N.y-(N.y-p.top)*2-N.height}),D.translate(0,p.height)}});function g(E,D,p){D===void 0&&(D={}),D=x.assign({},M,D);var N=new b(E,D),I=[N],G;if(!p&&!E.collapsed){for(;G=I.shift();)if(!G.data.collapsed){var W=D.getChildren(G.data),z=W?W.length:0;if(G.children=new Array(z),W&&z)for(var w=0;w<z;w++){var T=new b(W[w],D);G.children[w]=T,I.push(T),T.parent=G,T.depth=G.depth+1}}}return N}h.exports=g},function(h,i,O){"use strict";var x=O(6),C=O(20);function A(S,M){var b=Object(C.a)(M),g=b.length;if(Object(x.a)(S))return!g;for(var E=0;E<g;E+=1){var D=b[E];if(M[D]!==S[D]||!(D in S))return!1}return!0}i.a=A},function(h,i,O){"use strict";var x=O(2),C=O(3),A=Object.keys?function(S){return Object.keys(S)}:function(S){var M=[];return Object(x.a)(S,function(b,g){Object(C.a)(S)&&g==="prototype"||M.push(g)}),M};i.a=A},function(h,i,O){"use strict";var x=O(1),C=Array.prototype.splice,A=function(M,b){if(!Object(x.a)(M))return[];for(var g=M?b.length:0,E=g-1;g--;){var D=void 0,p=b[g];(g===E||p!==D)&&(D=p,C.call(M,p,1))}return M};i.a=A},function(h,i,O){"use strict";var x=O(12),C=O(2),A=function(M){var b=[];return Object(C.a)(M,function(g){Object(x.a)(b,g)||b.push(g)}),b};i.a=A},function(h,i,O){"use strict";var x=O(0),C=O(3),A=O(24),S=function(b,g){if(!g)return{0:b};if(!Object(C.a)(g)){var E=Object(x.a)(g)?g:g.replace(/\s+/g,"").split("*");g=function(N){for(var I="_",G=0,W=E.length;G<W;G++)I+=N[E[G]]&&N[E[G]].toString();return I}}var D=Object(A.a)(b,g);return D};i.a=S},function(h,i,O){"use strict";var x=O(2),C=O(0),A=O(3),S=Object.prototype.hasOwnProperty;function M(b,g){if(!g||!Object(C.a)(b))return{};var E={},D=Object(A.a)(g)?g:function(N){return N[g]},p;return Object(x.a)(b,function(N){p=D(N),S.call(E,p)?E[p].push(N):E[p]=[N]}),E}i.a=M},function(h,i,O){"use strict";i.a=function(x,C){return x.hasOwnProperty(C)}},function(h,i,O){"use strict";var x=O(2),C=O(3),A=Object.values?function(S){return Object.values(S)}:function(S){var M=[];return Object(x.a)(S,function(b,g){Object(C.a)(S)&&g==="prototype"||M.push(b)}),M};i.a=A},function(h,i,O){"use strict";var x={}.toString,C=function(S){return x.call(S).replace(/^\[object /,"").replace(/]$/,"")};i.a=C},function(h,i,O){"use strict";var x=Object.prototype,C=function(S){var M=S&&S.constructor,b=typeof M=="function"&&M.prototype||x;return S===b};i.a=C},function(h,i,O){"use strict";var x=O(15),C=O(1),A=O(8),S=function M(b,g){if(b===g)return!0;if(!b||!g||Object(A.a)(b)||Object(A.a)(g))return!1;if(Object(C.a)(b)||Object(C.a)(g)){if(b.length!==g.length)return!1;for(var E=!0,D=0;D<b.length&&(E=M(b[D],g[D]),!!E);D++);return E}if(Object(x.a)(b)||Object(x.a)(g)){var p=Object.keys(b),N=Object.keys(g);if(p.length!==N.length)return!1;for(var E=!0,D=0;D<p.length&&(E=M(b[p[D]],g[p[D]]),!!E);D++);return E}return!1};i.a=S},function(h,i,O){var x=O(18);h.exports=function(C,A){for(var S=x(C.data,A,!0),M=x(C.data,A,!0),b=C.children.length,g=Math.round(b/2),E=A.getSide||function(I,G){return G<g?"right":"left"},D=0;D<b;D++){var p=C.children[D],N=E(p,D);N==="right"?M.children.push(p):S.children.push(p)}return S.eachNode(function(I){I.isRoot()||(I.side="left")}),M.eachNode(function(I){I.isRoot()||(I.side="right")}),{left:S,right:M}}},function(h,i,O){var x={compactBox:O(32),dendrogram:O(114),indented:O(116),mindmap:O(118)};h.exports=x},function(h,i,O){function x(D,p){D.prototype=Object.create(p.prototype),D.prototype.constructor=D,D.__proto__=p}var C=O(11),A=O(113),S=O(17),M=O(7),b=function(D){x(p,D);function p(){return D.apply(this,arguments)||this}var N=p.prototype;return N.execute=function(){var G=this;return S(G.rootNode,G.options,A)},p}(C),g={};function E(D,p){return p=M.assign({},g,p),new b(D,p).execute()}h.exports=E},function(h,i,O){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var x=O(12);O.d(i,"contains",function(){return x.a}),O.d(i,"includes",function(){return x.a});var C=O(34);O.d(i,"difference",function(){return C.a});var A=O(35);O.d(i,"find",function(){return A.a});var S=O(36);O.d(i,"findIndex",function(){return S.a});var M=O(37);O.d(i,"firstValue",function(){return M.a});var b=O(38);O.d(i,"flatten",function(){return b.a});var g=O(39);O.d(i,"flattenDeep",function(){return g.a});var E=O(40);O.d(i,"getRange",function(){return E.a});var D=O(41);O.d(i,"pull",function(){return D.a});var p=O(21);O.d(i,"pullAt",function(){return p.a});var N=O(42);O.d(i,"reduce",function(){return N.a});var I=O(43);O.d(i,"remove",function(){return I.a});var G=O(44);O.d(i,"sortBy",function(){return G.a});var W=O(45);O.d(i,"union",function(){return W.a});var z=O(22);O.d(i,"uniq",function(){return z.a});var w=O(46);O.d(i,"valuesOfKey",function(){return w.a});var T=O(47);O.d(i,"head",function(){return T.a});var B=O(48);O.d(i,"last",function(){return B.a});var V=O(49);O.d(i,"startsWith",function(){return V.a});var $=O(50);O.d(i,"endsWith",function(){return $.a});var nt=O(14);O.d(i,"filter",function(){return nt.a});var at=O(51);O.d(i,"every",function(){return at.a});var st=O(52);O.d(i,"some",function(){return st.a});var tt=O(53);O.d(i,"group",function(){return tt.a});var Q=O(24);O.d(i,"groupBy",function(){return Q.a});var Z=O(23);O.d(i,"groupToMap",function(){return Z.a});var et=O(54);O.d(i,"getWrapBehavior",function(){return et.a});var ct=O(55);O.d(i,"wrapBehavior",function(){return ct.a});var mt=O(56);O.d(i,"number2color",function(){return mt.a});var Ot=O(57);O.d(i,"parseRadius",function(){return Ot.a});var it=O(58);O.d(i,"clamp",function(){return it.a});var xt=O(59);O.d(i,"fixedBase",function(){return xt.a});var It=O(60);O.d(i,"isDecimal",function(){return It.a});var zt=O(61);O.d(i,"isEven",function(){return zt.a});var Kt=O(62);O.d(i,"isInteger",function(){return Kt.a});var Yt=O(63);O.d(i,"isNegative",function(){return Yt.a});var bt=O(64);O.d(i,"isNumberEqual",function(){return bt.a});var ft=O(65);O.d(i,"isOdd",function(){return ft.a});var dt=O(66);O.d(i,"isPositive",function(){return dt.a});var ot=O(67);O.d(i,"maxBy",function(){return ot.a});var Mt=O(68);O.d(i,"minBy",function(){return Mt.a});var Nt=O(69);O.d(i,"mod",function(){return Nt.a});var Pt=O(70);O.d(i,"toDegree",function(){return Pt.a});var J=O(71);O.d(i,"toInteger",function(){return J.a});var X=O(72);O.d(i,"toRadian",function(){return X.a});var vt=O(73);O.d(i,"forIn",function(){return vt.a});var lt=O(25);O.d(i,"has",function(){return lt.a});var Ct=O(74);O.d(i,"hasKey",function(){return Ct.a});var Ft=O(75);O.d(i,"hasValue",function(){return Ft.a});var Wt=O(20);O.d(i,"keys",function(){return Wt.a});var kt=O(19);O.d(i,"isMatch",function(){return kt.a});var jt=O(26);O.d(i,"values",function(){return jt.a});var Y=O(76);O.d(i,"lowerCase",function(){return Y.a});var U=O(77);O.d(i,"lowerFirst",function(){return U.a});var j=O(78);O.d(i,"substitute",function(){return j.a});var q=O(79);O.d(i,"upperCase",function(){return q.a});var gt=O(80);O.d(i,"upperFirst",function(){return gt.a});var _=O(27);O.d(i,"getType",function(){return _.a});var yt=O(81);O.d(i,"isArguments",function(){return yt.a});var wt=O(0);O.d(i,"isArray",function(){return wt.a});var St=O(1);O.d(i,"isArrayLike",function(){return St.a});var Dt=O(82);O.d(i,"isBoolean",function(){return Dt.a});var Vt=O(83);O.d(i,"isDate",function(){return Vt.a});var Qt=O(84);O.d(i,"isError",function(){return Qt.a});var ee=O(3);O.d(i,"isFunction",function(){return ee.a});var se=O(85);O.d(i,"isFinite",function(){return se.a});var ye=O(6);O.d(i,"isNil",function(){return ye.a});var Ie=O(86);O.d(i,"isNull",function(){return Ie.a});var Be=O(5);O.d(i,"isNumber",function(){return Be.a});var Ze=O(13);O.d(i,"isObject",function(){return Ze.a});var we=O(15);O.d(i,"isObjectLike",function(){return we.a});var We=O(9);O.d(i,"isPlainObject",function(){return We.a});var Ke=O(28);O.d(i,"isPrototype",function(){return Ke.a});var cr=O(87);O.d(i,"isRegExp",function(){return cr.a});var or=O(8);O.d(i,"isString",function(){return or.a});var Ce=O(4);O.d(i,"isType",function(){return Ce.a});var sr=O(88);O.d(i,"isUndefined",function(){return sr.a});var ke=O(89);O.d(i,"isElement",function(){return ke.a});var Xe=O(90);O.d(i,"requestAnimationFrame",function(){return Xe.a});var dr=O(91);O.d(i,"clearAnimationFrame",function(){return dr.a});var Sr=O(92);O.d(i,"augment",function(){return Sr.a});var Fr=O(93);O.d(i,"clone",function(){return Fr.a});var hn=O(94);O.d(i,"debounce",function(){return hn.a});var yn=O(95);O.d(i,"memoize",function(){return yn.a});var Dn=O(96);O.d(i,"deepMix",function(){return Dn.a});var Nn=O(2);O.d(i,"each",function(){return Nn.a});var Ia=O(97);O.d(i,"extend",function(){return Ia.a});var ba=O(98);O.d(i,"indexOf",function(){return ba.a});var Oa=O(99);O.d(i,"isEmpty",function(){return Oa.a});var Wn=O(29);O.d(i,"isEqual",function(){return Wn.a});var ai=O(100);O.d(i,"isEqualWith",function(){return ai.a});var Va=O(101);O.d(i,"map",function(){return Va.a});var ci=O(102);O.d(i,"mapValues",function(){return ci.a});var Ti=O(16);O.d(i,"mix",function(){return Ti.a}),O.d(i,"assign",function(){return Ti.a});var Ui=O(103);O.d(i,"get",function(){return Ui.a});var Bi=O(104);O.d(i,"set",function(){return Bi.a});var ia=O(105);O.d(i,"pick",function(){return ia.a});var ja=O(106);O.d(i,"throttle",function(){return ja.a});var Zn=O(107);O.d(i,"toArray",function(){return Zn.a});var wa=O(10);O.d(i,"toString",function(){return wa.a});var La=O(108);O.d(i,"uniqueId",function(){return La.a});var Hn=O(109);O.d(i,"noop",function(){return Hn.a});var Sa=O(110);O.d(i,"identity",function(){return Sa.a});var Ba=O(111);O.d(i,"size",function(){return Ba.a});var Pa=O(112);O.d(i,"Cache",function(){return Pa.a})},function(h,i,O){"use strict";var x=O(14),C=O(12),A=function(M,b){return b===void 0&&(b=[]),Object(x.a)(M,function(g){return!Object(C.a)(b,g)})};i.a=A},function(h,i,O){"use strict";var x=O(3),C=O(19),A=O(0),S=O(9);function M(b,g){if(!Object(A.a)(b))return null;var E;if(Object(x.a)(g)&&(E=g),Object(S.a)(g)&&(E=function(N){return Object(C.a)(N,g)}),E){for(var D=0;D<b.length;D+=1)if(E(b[D]))return b[D]}return null}i.a=M},function(h,i,O){"use strict";function x(C,A,S){S===void 0&&(S=0);for(var M=S;M<C.length;M++)if(A(C[M],M))return M;return-1}i.a=x},function(h,i,O){"use strict";var x=O(6),C=O(0),A=function(M,b){for(var g=null,E=0;E<M.length;E++){var D=M[E],p=D[b];if(!Object(x.a)(p)){Object(C.a)(p)?g=p[0]:g=p;break}}return g};i.a=A},function(h,i,O){"use strict";var x=O(0),C=function(S){if(!Object(x.a)(S))return[];for(var M=[],b=0;b<S.length;b++)M=M.concat(S[b]);return M};i.a=C},function(h,i,O){"use strict";var x=O(0),C=function A(S,M){if(M===void 0&&(M=[]),!Object(x.a)(S))M.push(S);else for(var b=0;b<S.length;b+=1)A(S[b],M);return M};i.a=C},function(h,i,O){"use strict";var x=O(0),C=O(14),A=function(M){if(M=Object(C.a)(M,function(p){return!isNaN(p)}),!M.length)return{min:0,max:0};if(Object(x.a)(M[0])){for(var b=[],g=0;g<M.length;g++)b=b.concat(M[g]);M=b}var E=Math.max.apply(null,M),D=Math.min.apply(null,M);return{min:D,max:E}};i.a=A},function(h,i,O){"use strict";var x=Array.prototype,C=x.splice,A=x.indexOf,S=function(b){for(var g=[],E=1;E<arguments.length;E++)g[E-1]=arguments[E];for(var D=0;D<g.length;D++)for(var p=g[D],N=-1;(N=A.call(b,p))>-1;)C.call(b,N,1);return b};i.a=S},function(h,i,O){"use strict";var x=O(2),C=O(0),A=O(9),S=function(b,g,E){if(!Object(C.a)(b)&&!Object(A.a)(b))return b;var D=E;return Object(x.a)(b,function(p,N){D=g(D,p,N)}),D};i.a=S},function(h,i,O){"use strict";var x=O(1),C=O(21),A=function(M,b){var g=[];if(!Object(x.a)(M))return g;for(var E=-1,D=[],p=M.length;++E<p;){var N=M[E];b(N,E,M)&&(g.push(N),D.push(E))}return Object(C.a)(M,D),g};i.a=A},function(h,i,O){"use strict";var x=O(0),C=O(8),A=O(3);function S(M,b){var g;if(Object(A.a)(b))g=function(p,N){return b(p)-b(N)};else{var E=[];Object(C.a)(b)?E.push(b):Object(x.a)(b)&&(E=b),g=function(p,N){for(var I=0;I<E.length;I+=1){var G=E[I];if(p[G]>N[G])return 1;if(p[G]<N[G])return-1}return 0}}return M.sort(g),M}i.a=S},function(h,i,O){"use strict";var x=O(22),C=function(){for(var S=[],M=0;M<arguments.length;M++)S[M]=arguments[M];return Object(x.a)([].concat.apply([],S))};i.a=C},function(h,i,O){"use strict";var x=O(2),C=O(0),A=O(6);i.a=function(S,M){var b=[],g={};return S.forEach(function(E){var D=E[M];Object(A.a)(D)||(Object(C.a)(D)||(D=[D]),Object(x.a)(D,function(p){g[p]||(b.push(p),g[p]=!0)}))}),b}},function(h,i,O){"use strict";i.a=C;var x=O(1);function C(A){if(Object(x.a)(A))return A[0]}},function(h,i,O){"use strict";i.a=C;var x=O(1);function C(A){if(Object(x.a)(A)){var S=A;return S[S.length-1]}}},function(h,i,O){"use strict";var x=O(0),C=O(8);function A(S,M){return Object(x.a)(S)||Object(C.a)(S)?S[0]===M:!1}i.a=A},function(h,i,O){"use strict";var x=O(0),C=O(8);function A(S,M){return Object(x.a)(S)||Object(C.a)(S)?S[S.length-1]===M:!1}i.a=A},function(h,i,O){"use strict";var x=function(A,S){for(var M=0;M<A.length;M++)if(!S(A[M],M))return!1;return!0};i.a=x},function(h,i,O){"use strict";var x=function(A,S){for(var M=0;M<A.length;M++)if(S(A[M],M))return!0;return!1};i.a=x},function(h,i,O){"use strict";var x=O(23);i.a=function(C,A){if(!A)return[C];var S=Object(x.a)(C,A),M=[];for(var b in S)M.push(S[b]);return M}},function(h,i,O){"use strict";function x(C,A){return C["_wrap_"+A]}i.a=x},function(h,i,O){"use strict";function x(C,A){if(C["_wrap_"+A])return C["_wrap_"+A];var S=function(b){C[A](b)};return C["_wrap_"+A]=S,S}i.a=x},function(h,i,O){"use strict";var x={};function C(A){var S=x[A];if(!S){for(var M=A.toString(16),b=M.length;b<6;b++)M="0"+M;S="#"+M,x[A]=S}return S}i.a=C},function(h,i,O){"use strict";var x=O(0);function C(A){var S=0,M=0,b=0,g=0;return Object(x.a)(A)?A.length===1?S=M=b=g=A[0]:A.length===2?(S=b=A[0],M=g=A[1]):A.length===3?(S=A[0],M=g=A[1],b=A[2]):(S=A[0],M=A[1],b=A[2],g=A[3]):S=M=b=g=A,{r1:S,r2:M,r3:b,r4:g}}i.a=C},function(h,i,O){"use strict";var x=function(A,S,M){return A<S?S:A>M?M:A};i.a=x},function(h,i,O){"use strict";var x=function(A,S){var M=S.toString(),b=M.indexOf(".");if(b===-1)return Math.round(A);var g=M.substr(b+1).length;return g>20&&(g=20),parseFloat(A.toFixed(g))};i.a=x},function(h,i,O){"use strict";var x=O(5),C=function(S){return Object(x.a)(S)&&S%1!=0};i.a=C},function(h,i,O){"use strict";var x=O(5),C=function(S){return Object(x.a)(S)&&S%2==0};i.a=C},function(h,i,O){"use strict";var x=O(5),C=Number.isInteger?Number.isInteger:function(A){return Object(x.a)(A)&&A%1==0};i.a=C},function(h,i,O){"use strict";var x=O(5),C=function(S){return Object(x.a)(S)&&S<0};i.a=C},function(h,i,O){"use strict";i.a=C;var x=1e-5;function C(A,S,M){return M===void 0&&(M=x),Math.abs(A-S)<M}},function(h,i,O){"use strict";var x=O(5),C=function(S){return Object(x.a)(S)&&S%2!=0};i.a=C},function(h,i,O){"use strict";var x=O(5),C=function(S){return Object(x.a)(S)&&S>0};i.a=C},function(h,i,O){"use strict";var x=O(2),C=O(0),A=O(3);i.a=function(S,M){if(!!Object(C.a)(S)){var b=S[0],g;Object(A.a)(M)?g=M(S[0]):g=S[0][M];var E;return Object(x.a)(S,function(D){Object(A.a)(M)?E=M(D):E=D[M],E>g&&(b=D,g=E)}),b}}},function(h,i,O){"use strict";var x=O(2),C=O(0),A=O(3);i.a=function(S,M){if(!!Object(C.a)(S)){var b=S[0],g;Object(A.a)(M)?g=M(S[0]):g=S[0][M];var E;return Object(x.a)(S,function(D){Object(A.a)(M)?E=M(D):E=D[M],E<g&&(b=D,g=E)}),b}}},function(h,i,O){"use strict";var x=function(A,S){return(A%S+S)%S};i.a=x},function(h,i,O){"use strict";var x=180/Math.PI,C=function(S){return x*S};i.a=C},function(h,i,O){"use strict";i.a=parseInt},function(h,i,O){"use strict";var x=Math.PI/180,C=function(S){return x*S};i.a=C},function(h,i,O){"use strict";var x=O(2);i.a=x.a},function(h,i,O){"use strict";var x=O(25);i.a=x.a},function(h,i,O){"use strict";var x=O(12),C=O(26);i.a=function(A,S){return Object(x.a)(Object(C.a)(A),S)}},function(h,i,O){"use strict";var x=O(10),C=function(S){return Object(x.a)(S).toLowerCase()};i.a=C},function(h,i,O){"use strict";var x=O(10),C=function(S){var M=Object(x.a)(S);return M.charAt(0).toLowerCase()+M.substring(1)};i.a=C},function(h,i,O){"use strict";function x(C,A){return!C||!A?C:C.replace(/\\?\{([^{}]+)\}/g,function(S,M){return S.charAt(0)==="\\"?S.slice(1):A[M]===void 0?"":A[M]})}i.a=x},function(h,i,O){"use strict";var x=O(10),C=function(S){return Object(x.a)(S).toUpperCase()};i.a=C},function(h,i,O){"use strict";var x=O(10),C=function(S){var M=Object(x.a)(S);return M.charAt(0).toUpperCase()+M.substring(1)};i.a=C},function(h,i,O){"use strict";var x=O(4),C=function(S){return Object(x.a)(S,"Arguments")};i.a=C},function(h,i,O){"use strict";var x=O(4),C=function(S){return Object(x.a)(S,"Boolean")};i.a=C},function(h,i,O){"use strict";var x=O(4),C=function(S){return Object(x.a)(S,"Date")};i.a=C},function(h,i,O){"use strict";var x=O(4),C=function(S){return Object(x.a)(S,"Error")};i.a=C},function(h,i,O){"use strict";var x=O(5);i.a=function(C){return Object(x.a)(C)&&isFinite(C)}},function(h,i,O){"use strict";var x=function(A){return A===null};i.a=x},function(h,i,O){"use strict";var x=O(4),C=function(S){return Object(x.a)(S,"RegExp")};i.a=C},function(h,i,O){"use strict";var x=function(A){return A===void 0};i.a=x},function(h,i,O){"use strict";var x=function(A){return A instanceof Element||A instanceof HTMLDocument};i.a=x},function(h,i,O){"use strict";i.a=x;function x(C){var A=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(S){return setTimeout(S,16)};return A(C)}},function(h,i,O){"use strict";i.a=x;function x(C){var A=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;A(C)}},function(h,i,O){"use strict";var x=O(16),C=O(3),A=function(){for(var M=[],b=0;b<arguments.length;b++)M[b]=arguments[b];for(var g=M[0],E=1;E<M.length;E++){var D=M[E];Object(C.a)(D)&&(D=D.prototype),Object(x.a)(g.prototype,D)}};i.a=A},function(h,i,O){"use strict";var x=O(0),C=function A(S){if(typeof S!="object"||S===null)return S;var M;if(Object(x.a)(S)){M=[];for(var b=0,g=S.length;b<g;b++)typeof S[b]=="object"&&S[b]!=null?M[b]=A(S[b]):M[b]=S[b]}else{M={};for(var E in S)typeof S[E]=="object"&&S[E]!=null?M[E]=A(S[E]):M[E]=S[E]}return M};i.a=C},function(h,i,O){"use strict";function x(C,A,S){var M;return function(){var b=this,g=arguments,E=function(){M=null,S||C.apply(b,g)},D=S&&!M;clearTimeout(M),M=setTimeout(E,A),D&&C.apply(b,g)}}i.a=x},function(h,i,O){"use strict";var x=O(3);i.a=function(C,A){if(!Object(x.a)(C))throw new TypeError("Expected a function");var S=function M(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];var E=A?A.apply(this,b):b[0],D=M.cache;if(D.has(E))return D.get(E);var p=C.apply(this,b);return D.set(E,p),p};return S.cache=new Map,S}},function(h,i,O){"use strict";var x=O(0),C=O(9),A=5;function S(b,g,E,D){E=E||0,D=D||A;for(var p in g)if(g.hasOwnProperty(p)){var N=g[p];N!==null&&Object(C.a)(N)?(Object(C.a)(b[p])||(b[p]={}),E<D?S(b[p],N,E+1,D):b[p]=g[p]):Object(x.a)(N)?(b[p]=[],b[p]=b[p].concat(N)):N!==void 0&&(b[p]=N)}}var M=function(g){for(var E=[],D=1;D<arguments.length;D++)E[D-1]=arguments[D];for(var p=0;p<E.length;p+=1)S(g,E[p]);return g};i.a=M},function(h,i,O){"use strict";var x=O(16),C=O(3),A=function(M,b,g,E){Object(C.a)(b)||(g=b,b=M,M=function(){});var D=Object.create?function(N,I){return Object.create(N,{constructor:{value:I}})}:function(N,I){function G(){}G.prototype=N;var W=new G;return W.constructor=I,W},p=D(b.prototype,M);return M.prototype=Object(x.a)(p,M.prototype),M.superclass=D(b.prototype,b),Object(x.a)(p,g),Object(x.a)(M,E),M};i.a=A},function(h,i,O){"use strict";var x=O(1),C=function(S,M){if(!Object(x.a)(S))return-1;var b=Array.prototype.indexOf;if(b)return b.call(S,M);for(var g=-1,E=0;E<S.length;E++)if(S[E]===M){g=E;break}return g};i.a=C},function(h,i,O){"use strict";var x=O(6),C=O(1),A=O(27),S=O(28),M=Object.prototype.hasOwnProperty;function b(g){if(Object(x.a)(g))return!0;if(Object(C.a)(g))return!g.length;var E=Object(A.a)(g);if(E==="Map"||E==="Set")return!g.size;if(Object(S.a)(g))return!Object.keys(g).length;for(var D in g)if(M.call(g,D))return!1;return!0}i.a=b},function(h,i,O){"use strict";var x=O(3),C=O(29);i.a=function(A,S,M){return Object(x.a)(M)?!!M(A,S):Object(C.a)(A,S)}},function(h,i,O){"use strict";var x=O(2),C=O(1),A=function(M,b){if(!Object(C.a)(M))return M;var g=[];return Object(x.a)(M,function(E,D){g.push(b(E,D))}),g};i.a=A},function(h,i,O){"use strict";var x=O(6),C=O(13),A=function(M){return M};i.a=function(S,M){M===void 0&&(M=A);var b={};return Object(C.a)(S)&&!Object(x.a)(S)&&Object.keys(S).forEach(function(g){b[g]=M(S[g],g)}),b}},function(h,i,O){"use strict";var x=O(8);i.a=function(C,A,S){for(var M=0,b=Object(x.a)(A)?A.split("."):A;C&&M<b.length;)C=C[b[M++]];return C===void 0||M<b.length?S:C}},function(h,i,O){"use strict";var x=O(13),C=O(8),A=O(5);i.a=function(S,M,b){var g=S,E=Object(C.a)(M)?M.split("."):M;return E.forEach(function(D,p){p<E.length-1?(Object(x.a)(g[D])||(g[D]=Object(A.a)(E[p+1])?[]:{}),g=g[D]):g[D]=b}),S}},function(h,i,O){"use strict";var x=O(2),C=O(9),A=Object.prototype.hasOwnProperty;i.a=function(S,M){if(S===null||!Object(C.a)(S))return{};var b={};return Object(x.a)(M,function(g){A.call(S,g)&&(b[g]=S[g])}),b}},function(h,i,O){"use strict";i.a=function(x,C,A){var S,M,b,g,E=0;A||(A={});var D=function(){E=A.leading===!1?0:Date.now(),S=null,g=x.apply(M,b),S||(M=b=null)},p=function(){var I=Date.now();!E&&A.leading===!1&&(E=I);var G=C-(I-E);return M=this,b=arguments,G<=0||G>C?(S&&(clearTimeout(S),S=null),E=I,g=x.apply(M,b),S||(M=b=null)):!S&&A.trailing!==!1&&(S=setTimeout(D,G)),g};return p.cancel=function(){clearTimeout(S),E=0,S=M=b=null},p}},function(h,i,O){"use strict";var x=O(1);i.a=function(C){return Object(x.a)(C)?Array.prototype.slice.call(C):[]}},function(h,i,O){"use strict";var x={};i.a=function(C){return C=C||"g",x[C]?x[C]+=1:x[C]=1,C+x[C]}},function(h,i,O){"use strict";i.a=function(){}},function(h,i,O){"use strict";i.a=function(x){return x}},function(h,i,O){"use strict";i.a=A;var x=O(6),C=O(1);function A(S){return Object(x.a)(S)?0:Object(C.a)(S)?S.length:Object.keys(S).length}},function(h,i,O){"use strict";var x=function(){function C(){this.map={}}return C.prototype.has=function(A){return this.map[A]!==void 0},C.prototype.get=function(A,S){var M=this.map[A];return M===void 0?S:M},C.prototype.set=function(A,S){this.map[A]=S},C.prototype.clear=function(){this.map={}},C.prototype.delete=function(A){delete this.map[A]},C.prototype.size=function(){return Object.keys(this.map).length},C}();i.a=x},function(h,i){function O(b,g,E,D){D===void 0&&(D=[]);var p=this;p.w=b||0,p.h=g||0,p.y=E||0,p.x=0,p.c=D||[],p.cs=D.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}O.fromNode=function(b,g){if(!b)return null;var E=[];return b.children.forEach(function(D){E.push(O.fromNode(D,g))}),g?new O(b.height,b.width,b.x,E):new O(b.width,b.height,b.y,E)};function x(b,g,E){E?b.y+=g:b.x+=g,b.children.forEach(function(D){x(D,g,E)})}function C(b,g){var E=g?b.y:b.x;return b.children.forEach(function(D){E=Math.min(C(D,g),E)}),E}function A(b,g){var E=C(b,g);x(b,-E,g)}function S(b,g,E){E?g.y=b.x:g.x=b.x,b.c.forEach(function(D,p){S(D,g.children[p],E)})}function M(b,g,E){E===void 0&&(E=0),g?(b.x=E,E+=b.width):(b.y=E,E+=b.height),b.children.forEach(function(D){M(D,g,E)})}h.exports=function(b,g){g===void 0&&(g={});var E=g.isHorizontal;function D(tt){if(tt.cs===0){p(tt);return}D(tt.c[0]);for(var Q=at(z(tt.c[0].el),0,null),Z=1;Z<tt.cs;++Z){D(tt.c[Z]);var et=z(tt.c[Z].er);N(tt,Z,Q),Q=at(et,Z,Q)}B(tt),p(tt)}function p(tt){tt.cs===0?(tt.el=tt,tt.er=tt,tt.msel=tt.mser=0):(tt.el=tt.c[0].el,tt.msel=tt.c[0].msel,tt.er=tt.c[tt.cs-1].er,tt.mser=tt.c[tt.cs-1].mser)}function N(tt,Q,Z){for(var et=tt.c[Q-1],ct=et.mod,mt=tt.c[Q],Ot=mt.mod;et!==null&&mt!==null;){z(et)>Z.low&&(Z=Z.nxt);var it=ct+et.prelim+et.w-(Ot+mt.prelim);it>0&&(Ot+=it,I(tt,Q,Z.index,it));var xt=z(et),It=z(mt);xt<=It&&(et=W(et),et!==null&&(ct+=et.mod)),xt>=It&&(mt=G(mt),mt!==null&&(Ot+=mt.mod))}!et&&!!mt?w(tt,Q,mt,Ot):!!et&&!mt&&T(tt,Q,et,ct)}function I(tt,Q,Z,et){tt.c[Q].mod+=et,tt.c[Q].msel+=et,tt.c[Q].mser+=et,$(tt,Q,Z,et)}function G(tt){return tt.cs===0?tt.tl:tt.c[0]}function W(tt){return tt.cs===0?tt.tr:tt.c[tt.cs-1]}function z(tt){return tt.y+tt.h}function w(tt,Q,Z,et){var ct=tt.c[0].el;ct.tl=Z;var mt=et-Z.mod-tt.c[0].msel;ct.mod+=mt,ct.prelim-=mt,tt.c[0].el=tt.c[Q].el,tt.c[0].msel=tt.c[Q].msel}function T(tt,Q,Z,et){var ct=tt.c[Q].er;ct.tr=Z;var mt=et-Z.mod-tt.c[Q].mser;ct.mod+=mt,ct.prelim-=mt,tt.c[Q].er=tt.c[Q-1].er,tt.c[Q].mser=tt.c[Q-1].mser}function B(tt){tt.prelim=(tt.c[0].prelim+tt.c[0].mod+tt.c[tt.cs-1].mod+tt.c[tt.cs-1].prelim+tt.c[tt.cs-1].w)/2-tt.w/2}function V(tt,Q){Q+=tt.mod,tt.x=tt.prelim+Q,nt(tt);for(var Z=0;Z<tt.cs;Z++)V(tt.c[Z],Q)}function $(tt,Q,Z,et){if(Z!==Q-1){var ct=Q-Z;tt.c[Z+1].shift+=et/ct,tt.c[Q].shift-=et/ct,tt.c[Q].change-=et-et/ct}}function nt(tt){for(var Q=0,Z=0,et=0;et<tt.cs;et++)Q+=tt.c[et].shift,Z+=Q+tt.c[et].change,tt.c[et].mod+=Z}function at(tt,Q,Z){for(;Z!==null&&tt>=Z.low;)Z=Z.nxt;return{low:tt,index:Q,nxt:Z}}M(b,E);var st=O.fromNode(b,E);return D(st),V(st,0),S(st,b,E),A(b,E),b}},function(h,i,O){function x(D,p){D.prototype=Object.create(p.prototype),D.prototype.constructor=D,D.__proto__=p}var C=O(11),A=O(115),S=O(17),M=O(7),b=function(D){x(p,D);function p(){return D.apply(this,arguments)||this}var N=p.prototype;return N.execute=function(){var G=this;return G.rootNode.width=0,S(G.rootNode,G.options,A)},p}(C),g={};function E(D,p){return p=M.assign({},g,p),new b(D,p).execute()}h.exports=E},function(h,i,O){var x=O(7);function C(M,b){M===void 0&&(M=0),b===void 0&&(b=[]);var g=this;g.x=g.y=0,g.leftChild=g.rightChild=null,g.height=0,g.children=b}var A={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function S(M,b,g){g?(b.x=M.x,b.y=M.y):(b.x=M.y,b.y=M.x),M.children.forEach(function(E,D){S(E,b.children[D],g)})}h.exports=function(M,b){b===void 0&&(b={}),b=x.assign({},A,b);var g=0;function E(G){if(!G)return null;G.width=0,G.depth&&G.depth>g&&(g=G.depth);var W=G.children,z=W.length,w=new C(G.height,[]);return W.forEach(function(T,B){var V=E(T);w.children.push(V),B===0&&(w.leftChild=V),B===z-1&&(w.rightChild=V)}),w.originNode=G,w.isLeaf=G.isLeaf(),w}function D(G){if(G.isLeaf||G.children.length===0)G.drawingDepth=g;else{var W=G.children.map(function(w){return D(w)}),z=Math.min.apply(null,W);G.drawingDepth=z-1}return G.drawingDepth}var p;function N(G){G.x=G.drawingDepth*b.rankSep,G.isLeaf?(G.y=0,p&&(G.y=p.y+p.height+b.nodeSep,G.originNode.parent!==p.originNode.parent&&(G.y+=b.subTreeSep)),p=G):(G.children.forEach(function(W){N(W)}),G.y=(G.leftChild.y+G.rightChild.y)/2)}var I=E(M);return D(I),N(I),S(I,M,b.isHorizontal),M}},function(h,i,O){function x(N,I){N.prototype=Object.create(I.prototype),N.prototype.constructor=N,N.__proto__=I}var C=O(11),A=O(117),S=O(30),M=O(7),b=["LR","RL","H"],g=b[0],E=function(N){x(I,N);function I(){return N.apply(this,arguments)||this}var G=I.prototype;return G.execute=function(){var z=this,w=z.options,T=z.rootNode;w.isHorizontal=!0;var B=w.indent,V=B===void 0?20:B,$=w.dropCap,nt=$===void 0?!0:$,at=w.direction||g;if(at&&b.indexOf(at)===-1)throw new TypeError("Invalid direction: "+at);if(at===b[0])A(T,V,nt);else if(at===b[1])A(T,V,nt),T.right2left();else if(at===b[2]){var st=S(T,w),tt=st.left,Q=st.right;A(tt,V,nt),tt.right2left(),A(Q,V,nt);var Z=tt.getBoundingBox();Q.translate(Z.width,0),T.x=Q.x-T.width/2}return T},I}(C),D={};function p(N,I){return I=M.assign({},D,I),new E(N,I).execute()}h.exports=p},function(h,i){function O(x,C,A,S){if(!S)try{if(x.id===x.parent.children[0].id){x.x+=A*x.depth,x.y=C?C.y:0;return}}catch(M){}x.x+=A*x.depth,x.y=C?C.y+C.height:0}h.exports=function(x,C,A){var S=null;x.eachNode(function(M){O(M,S,C,A),S=M})}},function(h,i,O){function x(D,p){D.prototype=Object.create(p.prototype),D.prototype.constructor=D,D.__proto__=p}var C=O(11),A=O(119),S=O(17),M=O(7),b=function(D){x(p,D);function p(){return D.apply(this,arguments)||this}var N=p.prototype;return N.execute=function(){var G=this;return S(G.rootNode,G.options,A)},p}(C),g={};function E(D,p){return p=M.assign({},g,p),new b(D,p).execute()}h.exports=E},function(h,i,O){var x=O(7);function C(M,b){var g=0;return M.children.length?M.children.forEach(function(E){g+=C(E,b)}):g=M.height,M._subTreeSep=b.getSubTreeSep(M.data),M.totalHeight=Math.max(M.height,g)+2*M._subTreeSep,M.totalHeight}function A(M){var b=M.children,g=b.length;if(g){b.forEach(function(G){A(G)});var E=b[0],D=b[g-1],p=D.y-E.y+D.height,N=0;if(b.forEach(function(G){N+=G.totalHeight}),p>M.height)M.y=E.y+p/2-M.height/2;else if(b.length!==1||M.height>N){var I=M.y+(M.height-p)/2-E.y;b.forEach(function(G){G.translate(0,I)})}else M.y=(E.y+E.height/2+D.y+D.height/2)/2-M.height/2}}var S={getSubTreeSep:function(){return 0}};h.exports=function(M,b){b===void 0&&(b={}),b=x.assign({},S,b),M.parent={x:0,width:0,height:0,y:0},M.BFTraverse(function(g){g.x=g.parent.x+g.parent.width}),M.parent=null,C(M,b),M.startY=0,M.y=M.totalHeight/2-M.height/2,M.eachNode(function(g){var E=g.children,D=E.length;if(D){var p=E[0];if(p.startY=g.startY+g._subTreeSep,D===1)p.y=g.y+g.height/2-p.height/2;else{p.y=p.startY+p.totalHeight/2-p.height/2;for(var N=1;N<D;N++){var I=E[N];I.startY=E[N-1].startY+E[N-1].totalHeight,I.y=I.startY+I.totalHeight/2-I.height/2}}}}),A(M)}}])})},eo7c:function(Ut,L){Ut.exports=a;function a(h,i){return h[0]=1/i[0],h[1]=1/i[1],h}},fI7b:function(Ut,L){Ut.exports=a;function a(h,i,O){var x=i[0],C=i[1];return h[0]=O[0]*x+O[2]*C,h[1]=O[1]*x+O[3]*C,h}},fIi5:function(Ut,L,a){var h=a("xi+f");function i(O,x){return h(x,function(C){return O[C]})}Ut.exports=i},fQJb:function(Ut,L,a){var h=a("cEHS"),i=a("ah2v"),O=a("TeP8"),x=a("E5vS"),C=a("0gIx");function A(S,M,b,g){if(!x(S))return S;M=i(M,S);for(var E=-1,D=M.length,p=D-1,N=S;N!=null&&++E<D;){var I=C(M[E]),G=b;if(I==="__proto__"||I==="constructor"||I==="prototype")return S;if(E!=p){var W=N[I];G=g?g(W,I,N):void 0,G===void 0&&(G=x(W)?W:O(M[E+1])?[]:{})}h(N,I,G),N=N[I]}return S}Ut.exports=A},fQKG:function(Ut,L,a){var h=a("qFee"),i=a("3FqU"),O=a("mXku"),x=a("Npd2"),C=a("E5vS"),A=a("rGlR"),S=a("TKkZ");function M(b,g,E,D,p){b!==g&&O(g,function(N,I){if(p||(p=new h),C(N))x(b,g,I,E,M,D,p);else{var G=D?D(S(b,I),N,I+"",b,g,p):void 0;G===void 0&&(G=N),i(b,I,G)}},A)}Ut.exports=M},fUu9:function(Ut,L,a){var h=a("tmP0"),i=a("ZvDv"),O=a("uSfk"),x=a("oX5j"),C=a("HR5z"),A=a("br1w"),S=200;function M(b,g,E){var D=-1,p=i,N=b.length,I=!0,G=[],W=G;if(E)I=!1,p=O;else if(N>=S){var z=g?null:C(b);if(z)return A(z);I=!1,p=x,W=new h}else W=g?[]:G;t:for(;++D<N;){var w=b[D],T=g?g(w):w;if(w=E||w!==0?w:0,I&&T===T){for(var B=W.length;B--;)if(W[B]===T)continue t;g&&W.push(T),G.push(w)}else p(W,T,E)||(W!==G&&W.push(T),G.push(w))}return G}Ut.exports=M},fXuZ:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.BindingOnSyntax=void 0;var h=a("qlOW"),i=function(){function O(x){this._binding=x}return O.prototype.onActivation=function(x){return this._binding.onActivation=x,new h.BindingWhenSyntax(this._binding)},O}();L.BindingOnSyntax=i},fo7X:function(Ut,L,a){"use strict";a.d(L,"a",function(){return g});var h=a("Rspp"),i=a.n(h),O=a("2Asv"),x=a.n(O),C=a("me+i"),A=a.n(C),S,M,b,g=(S=Object(C.injectable)(),S(M=(b=function(){function E(){i()(this,E),this.config=void 0}return x()(E,[{key:"get",value:function(){return this.config}},{key:"set",value:function(p){this.config=p}}]),E}(),b))||M)},fsSc:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("Ilvg"),O=a("DdnP"),x=function(C){Object(h.c)(A,C);function A(S){return C.call(this,S)||this}return A.prototype._isInBBox=function(S,M){var b=this.getBBox();return b.minX<=S&&b.maxX>=S&&b.minY<=M&&b.maxY>=M},A.prototype.afterAttrsChange=function(S){C.prototype.afterAttrsChange.call(this,S),this.clearCacheBBox()},A.prototype.getBBox=function(){var S=this.cfg.bbox;return S||(S=this.calculateBBox(),this.set("bbox",S)),S},A.prototype.getCanvasBBox=function(){var S=this.cfg.canvasBBox;return S||(S=this.calculateCanvasBBox(),this.set("canvasBBox",S)),S},A.prototype.applyMatrix=function(S){C.prototype.applyMatrix.call(this,S),this.set("canvasBBox",null)},A.prototype.calculateCanvasBBox=function(){var S=this.getBBox(),M=this.getTotalMatrix(),b=S.minX,g=S.minY,E=S.maxX,D=S.maxY;if(M){var p=Object(O.c)(M,[S.minX,S.minY]),N=Object(O.c)(M,[S.maxX,S.minY]),I=Object(O.c)(M,[S.minX,S.maxY]),G=Object(O.c)(M,[S.maxX,S.maxY]);b=Math.min(p[0],N[0],I[0],G[0]),E=Math.max(p[0],N[0],I[0],G[0]),g=Math.min(p[1],N[1],I[1],G[1]),D=Math.max(p[1],N[1],I[1],G[1])}var W=this.attrs;if(W.shadowColor){var z=W.shadowBlur,w=z===void 0?0:z,T=W.shadowOffsetX,B=T===void 0?0:T,V=W.shadowOffsetY,$=V===void 0?0:V,nt=b-w+B,at=E+w+B,st=g-w+$,tt=D+w+$;b=Math.min(b,nt),E=Math.max(E,at),g=Math.min(g,st),D=Math.max(D,tt)}return{x:b,y:g,minX:b,minY:g,maxX:E,maxY:D,width:E-b,height:D-g}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(S,M){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(S,M){var b=this.get("startArrowShape"),g=this.get("endArrowShape"),E=[S,M,1];E=this.invertFromMatrix(E);var D=E[0],p=E[1],N=this._isInBBox(D,p);return this.isOnlyHitBox()?N:!!(N&&!this.isClipped(D,p)&&(this.isInShape(D,p)||b&&b.isHit(D,p)||g&&g.isHit(D,p)))},A}(i.a);L.a=x},g1AO:function(Ut,L){Ut.exports=function(h){return!h||typeof h=="string"?!1:h instanceof Array||Array.isArray(h)||h.length>=0&&(h.splice instanceof Function||Object.getOwnPropertyDescriptor(h,h.length-1)&&h.constructor.name!=="String")}},gCNn:function(Ut,L,a){"use strict";a.r(L),a.d(L,"create",function(){return i}),a.d(L,"clone",function(){return O}),a.d(L,"length",function(){return x}),a.d(L,"fromValues",function(){return C}),a.d(L,"copy",function(){return A}),a.d(L,"set",function(){return S}),a.d(L,"add",function(){return M}),a.d(L,"subtract",function(){return b}),a.d(L,"multiply",function(){return g}),a.d(L,"divide",function(){return E}),a.d(L,"ceil",function(){return D}),a.d(L,"floor",function(){return p}),a.d(L,"min",function(){return N}),a.d(L,"max",function(){return I}),a.d(L,"round",function(){return G}),a.d(L,"scale",function(){return W}),a.d(L,"scaleAndAdd",function(){return z}),a.d(L,"distance",function(){return w}),a.d(L,"squaredDistance",function(){return T}),a.d(L,"squaredLength",function(){return B}),a.d(L,"negate",function(){return V}),a.d(L,"inverse",function(){return $}),a.d(L,"normalize",function(){return nt}),a.d(L,"dot",function(){return at}),a.d(L,"cross",function(){return st}),a.d(L,"lerp",function(){return tt}),a.d(L,"hermite",function(){return Q}),a.d(L,"bezier",function(){return Z}),a.d(L,"random",function(){return et}),a.d(L,"transformMat4",function(){return ct}),a.d(L,"transformMat3",function(){return mt}),a.d(L,"transformQuat",function(){return Ot}),a.d(L,"rotateX",function(){return it}),a.d(L,"rotateY",function(){return xt}),a.d(L,"rotateZ",function(){return It}),a.d(L,"angle",function(){return zt}),a.d(L,"zero",function(){return Kt}),a.d(L,"str",function(){return Yt}),a.d(L,"exactEquals",function(){return bt}),a.d(L,"equals",function(){return ft}),a.d(L,"sub",function(){return dt}),a.d(L,"mul",function(){return ot}),a.d(L,"div",function(){return Mt}),a.d(L,"dist",function(){return Nt}),a.d(L,"sqrDist",function(){return Pt}),a.d(L,"len",function(){return J}),a.d(L,"sqrLen",function(){return X}),a.d(L,"forEach",function(){return vt});var h=a("TaHB");function i(){var lt=new h.a(3);return h.a!=Float32Array&&(lt[0]=0,lt[1]=0,lt[2]=0),lt}function O(lt){var Ct=new h.a(3);return Ct[0]=lt[0],Ct[1]=lt[1],Ct[2]=lt[2],Ct}function x(lt){var Ct=lt[0],Ft=lt[1],Wt=lt[2];return Math.hypot(Ct,Ft,Wt)}function C(lt,Ct,Ft){var Wt=new h.a(3);return Wt[0]=lt,Wt[1]=Ct,Wt[2]=Ft,Wt}function A(lt,Ct){return lt[0]=Ct[0],lt[1]=Ct[1],lt[2]=Ct[2],lt}function S(lt,Ct,Ft,Wt){return lt[0]=Ct,lt[1]=Ft,lt[2]=Wt,lt}function M(lt,Ct,Ft){return lt[0]=Ct[0]+Ft[0],lt[1]=Ct[1]+Ft[1],lt[2]=Ct[2]+Ft[2],lt}function b(lt,Ct,Ft){return lt[0]=Ct[0]-Ft[0],lt[1]=Ct[1]-Ft[1],lt[2]=Ct[2]-Ft[2],lt}function g(lt,Ct,Ft){return lt[0]=Ct[0]*Ft[0],lt[1]=Ct[1]*Ft[1],lt[2]=Ct[2]*Ft[2],lt}function E(lt,Ct,Ft){return lt[0]=Ct[0]/Ft[0],lt[1]=Ct[1]/Ft[1],lt[2]=Ct[2]/Ft[2],lt}function D(lt,Ct){return lt[0]=Math.ceil(Ct[0]),lt[1]=Math.ceil(Ct[1]),lt[2]=Math.ceil(Ct[2]),lt}function p(lt,Ct){return lt[0]=Math.floor(Ct[0]),lt[1]=Math.floor(Ct[1]),lt[2]=Math.floor(Ct[2]),lt}function N(lt,Ct,Ft){return lt[0]=Math.min(Ct[0],Ft[0]),lt[1]=Math.min(Ct[1],Ft[1]),lt[2]=Math.min(Ct[2],Ft[2]),lt}function I(lt,Ct,Ft){return lt[0]=Math.max(Ct[0],Ft[0]),lt[1]=Math.max(Ct[1],Ft[1]),lt[2]=Math.max(Ct[2],Ft[2]),lt}function G(lt,Ct){return lt[0]=Math.round(Ct[0]),lt[1]=Math.round(Ct[1]),lt[2]=Math.round(Ct[2]),lt}function W(lt,Ct,Ft){return lt[0]=Ct[0]*Ft,lt[1]=Ct[1]*Ft,lt[2]=Ct[2]*Ft,lt}function z(lt,Ct,Ft,Wt){return lt[0]=Ct[0]+Ft[0]*Wt,lt[1]=Ct[1]+Ft[1]*Wt,lt[2]=Ct[2]+Ft[2]*Wt,lt}function w(lt,Ct){var Ft=Ct[0]-lt[0],Wt=Ct[1]-lt[1],kt=Ct[2]-lt[2];return Math.hypot(Ft,Wt,kt)}function T(lt,Ct){var Ft=Ct[0]-lt[0],Wt=Ct[1]-lt[1],kt=Ct[2]-lt[2];return Ft*Ft+Wt*Wt+kt*kt}function B(lt){var Ct=lt[0],Ft=lt[1],Wt=lt[2];return Ct*Ct+Ft*Ft+Wt*Wt}function V(lt,Ct){return lt[0]=-Ct[0],lt[1]=-Ct[1],lt[2]=-Ct[2],lt}function $(lt,Ct){return lt[0]=1/Ct[0],lt[1]=1/Ct[1],lt[2]=1/Ct[2],lt}function nt(lt,Ct){var Ft=Ct[0],Wt=Ct[1],kt=Ct[2],jt=Ft*Ft+Wt*Wt+kt*kt;return jt>0&&(jt=1/Math.sqrt(jt)),lt[0]=Ct[0]*jt,lt[1]=Ct[1]*jt,lt[2]=Ct[2]*jt,lt}function at(lt,Ct){return lt[0]*Ct[0]+lt[1]*Ct[1]+lt[2]*Ct[2]}function st(lt,Ct,Ft){var Wt=Ct[0],kt=Ct[1],jt=Ct[2],Y=Ft[0],U=Ft[1],j=Ft[2];return lt[0]=kt*j-jt*U,lt[1]=jt*Y-Wt*j,lt[2]=Wt*U-kt*Y,lt}function tt(lt,Ct,Ft,Wt){var kt=Ct[0],jt=Ct[1],Y=Ct[2];return lt[0]=kt+Wt*(Ft[0]-kt),lt[1]=jt+Wt*(Ft[1]-jt),lt[2]=Y+Wt*(Ft[2]-Y),lt}function Q(lt,Ct,Ft,Wt,kt,jt){var Y=jt*jt,U=Y*(2*jt-3)+1,j=Y*(jt-2)+jt,q=Y*(jt-1),gt=Y*(3-2*jt);return lt[0]=Ct[0]*U+Ft[0]*j+Wt[0]*q+kt[0]*gt,lt[1]=Ct[1]*U+Ft[1]*j+Wt[1]*q+kt[1]*gt,lt[2]=Ct[2]*U+Ft[2]*j+Wt[2]*q+kt[2]*gt,lt}function Z(lt,Ct,Ft,Wt,kt,jt){var Y=1-jt,U=Y*Y,j=jt*jt,q=U*Y,gt=3*jt*U,_=3*j*Y,yt=j*jt;return lt[0]=Ct[0]*q+Ft[0]*gt+Wt[0]*_+kt[0]*yt,lt[1]=Ct[1]*q+Ft[1]*gt+Wt[1]*_+kt[1]*yt,lt[2]=Ct[2]*q+Ft[2]*gt+Wt[2]*_+kt[2]*yt,lt}function et(lt,Ct){Ct=Ct||1;var Ft=h.c()*2*Math.PI,Wt=h.c()*2-1,kt=Math.sqrt(1-Wt*Wt)*Ct;return lt[0]=Math.cos(Ft)*kt,lt[1]=Math.sin(Ft)*kt,lt[2]=Wt*Ct,lt}function ct(lt,Ct,Ft){var Wt=Ct[0],kt=Ct[1],jt=Ct[2],Y=Ft[3]*Wt+Ft[7]*kt+Ft[11]*jt+Ft[15];return Y=Y||1,lt[0]=(Ft[0]*Wt+Ft[4]*kt+Ft[8]*jt+Ft[12])/Y,lt[1]=(Ft[1]*Wt+Ft[5]*kt+Ft[9]*jt+Ft[13])/Y,lt[2]=(Ft[2]*Wt+Ft[6]*kt+Ft[10]*jt+Ft[14])/Y,lt}function mt(lt,Ct,Ft){var Wt=Ct[0],kt=Ct[1],jt=Ct[2];return lt[0]=Wt*Ft[0]+kt*Ft[3]+jt*Ft[6],lt[1]=Wt*Ft[1]+kt*Ft[4]+jt*Ft[7],lt[2]=Wt*Ft[2]+kt*Ft[5]+jt*Ft[8],lt}function Ot(lt,Ct,Ft){var Wt=Ft[0],kt=Ft[1],jt=Ft[2],Y=Ft[3],U=Ct[0],j=Ct[1],q=Ct[2],gt=kt*q-jt*j,_=jt*U-Wt*q,yt=Wt*j-kt*U,wt=kt*yt-jt*_,St=jt*gt-Wt*yt,Dt=Wt*_-kt*gt,Vt=Y*2;return gt*=Vt,_*=Vt,yt*=Vt,wt*=2,St*=2,Dt*=2,lt[0]=U+gt+wt,lt[1]=j+_+St,lt[2]=q+yt+Dt,lt}function it(lt,Ct,Ft,Wt){var kt=[],jt=[];return kt[0]=Ct[0]-Ft[0],kt[1]=Ct[1]-Ft[1],kt[2]=Ct[2]-Ft[2],jt[0]=kt[0],jt[1]=kt[1]*Math.cos(Wt)-kt[2]*Math.sin(Wt),jt[2]=kt[1]*Math.sin(Wt)+kt[2]*Math.cos(Wt),lt[0]=jt[0]+Ft[0],lt[1]=jt[1]+Ft[1],lt[2]=jt[2]+Ft[2],lt}function xt(lt,Ct,Ft,Wt){var kt=[],jt=[];return kt[0]=Ct[0]-Ft[0],kt[1]=Ct[1]-Ft[1],kt[2]=Ct[2]-Ft[2],jt[0]=kt[2]*Math.sin(Wt)+kt[0]*Math.cos(Wt),jt[1]=kt[1],jt[2]=kt[2]*Math.cos(Wt)-kt[0]*Math.sin(Wt),lt[0]=jt[0]+Ft[0],lt[1]=jt[1]+Ft[1],lt[2]=jt[2]+Ft[2],lt}function It(lt,Ct,Ft,Wt){var kt=[],jt=[];return kt[0]=Ct[0]-Ft[0],kt[1]=Ct[1]-Ft[1],kt[2]=Ct[2]-Ft[2],jt[0]=kt[0]*Math.cos(Wt)-kt[1]*Math.sin(Wt),jt[1]=kt[0]*Math.sin(Wt)+kt[1]*Math.cos(Wt),jt[2]=kt[2],lt[0]=jt[0]+Ft[0],lt[1]=jt[1]+Ft[1],lt[2]=jt[2]+Ft[2],lt}function zt(lt,Ct){var Ft=lt[0],Wt=lt[1],kt=lt[2],jt=Ct[0],Y=Ct[1],U=Ct[2],j=Math.sqrt(Ft*Ft+Wt*Wt+kt*kt),q=Math.sqrt(jt*jt+Y*Y+U*U),gt=j*q,_=gt&&at(lt,Ct)/gt;return Math.acos(Math.min(Math.max(_,-1),1))}function Kt(lt){return lt[0]=0,lt[1]=0,lt[2]=0,lt}function Yt(lt){return"vec3("+lt[0]+", "+lt[1]+", "+lt[2]+")"}function bt(lt,Ct){return lt[0]===Ct[0]&&lt[1]===Ct[1]&&lt[2]===Ct[2]}function ft(lt,Ct){var Ft=lt[0],Wt=lt[1],kt=lt[2],jt=Ct[0],Y=Ct[1],U=Ct[2];return Math.abs(Ft-jt)<=h.b*Math.max(1,Math.abs(Ft),Math.abs(jt))&&Math.abs(Wt-Y)<=h.b*Math.max(1,Math.abs(Wt),Math.abs(Y))&&Math.abs(kt-U)<=h.b*Math.max(1,Math.abs(kt),Math.abs(U))}var dt=b,ot=g,Mt=E,Nt=w,Pt=T,J=x,X=B,vt=function(){var lt=i();return function(Ct,Ft,Wt,kt,jt,Y){var U,j;for(Ft||(Ft=3),Wt||(Wt=0),kt?j=Math.min(kt*Ft+Wt,Ct.length):j=Ct.length,U=Wt;U<j;U+=Ft)lt[0]=Ct[U],lt[1]=Ct[U+1],lt[2]=Ct[U+2],jt(lt,lt,Y),Ct[U]=lt[0],Ct[U+1]=lt[1],Ct[U+2]=lt[2];return Ct}}()},gCS0:function(Ut,L,a){"use strict";a.d(L,"a",function(){return $});var h=a("J+IK"),i=a("AO+g"),O=a("d38q"),x=a("RF2d"),C=a("jg4I"),A=a("ggto"),S=a("OM6K"),M="first-axes-view",b="second-axes-view",g="series-field-key";function E(nt,at,st,tt,Q){var Z=[];at.forEach(function(xt){tt.forEach(function(It){var zt,Kt=(zt={},zt[nt]=It[nt],zt[st]=xt,zt[xt]=It[xt],zt);Z.push(Kt)})});var et=Object.values(Object(C.v)(Z,st)),ct=et[0],mt=ct===void 0?[]:ct,Ot=et[1],it=Ot===void 0?[]:Ot;return Q?[mt.reverse(),it.reverse()]:[mt,it]}function D(nt){return nt!=="vertical"}function p(nt,at,st){var tt=at[0],Q=at[1],Z=tt.autoPadding,et=Q.autoPadding,ct=nt.__axisPosition,mt=ct.layout,Ot=ct.position;if(D(mt)&&Ot==="top"&&(tt.autoPadding=st.instance(Z.top,0,Z.bottom,Z.left),Q.autoPadding=st.instance(et.top,Z.left,et.bottom,0)),D(mt)&&Ot==="bottom"&&(tt.autoPadding=st.instance(Z.top,Z.right/2+5,Z.bottom,Z.left),Q.autoPadding=st.instance(et.top,et.right,et.bottom,Z.right/2+5)),!D(mt)&&Ot==="bottom"){var it=Z.left>=et.left?Z.left:et.left;tt.autoPadding=st.instance(Z.top,Z.right,Z.bottom/2+5,it),Q.autoPadding=st.instance(Z.bottom/2+5,et.right,et.bottom,it)}if(!D(mt)&&Ot==="top"){var it=Z.left>=et.left?Z.left:et.left;tt.autoPadding=st.instance(Z.top,Z.right,0,it),Q.autoPadding=st.instance(0,et.right,Z.top,it)}}function N(nt){var at=nt.chart,st=nt.options,tt=st.data,Q=st.xField,Z=st.yField,et=st.color,ct=st.barStyle,mt=st.widthRatio,Ot=st.legend,it=st.layout,xt=E(Q,Z,g,tt,D(it));Ot?at.legend(g,Ot):Ot===!1&&at.legend(!1);var It,zt,Kt=xt[0],Yt=xt[1];D(it)?(It=at.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:M}),It.coordinate().transpose().reflect("x"),zt=at.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:b}),zt.coordinate().transpose(),It.data(Kt),zt.data(Yt)):(It=at.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:M}),zt=at.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:b}),zt.coordinate().reflect("y").rotate(Math.PI*0),It.data(Kt),zt.data(Yt));var bt=Object(x.b)({},nt,{chart:It,options:{widthRatio:mt,xField:Q,yField:Z[0],seriesField:g,interval:{color:et,style:ct}}});Object(S.c)(bt);var ft=Object(x.b)({},nt,{chart:zt,options:{xField:Q,yField:Z[1],seriesField:g,widthRatio:mt,interval:{color:et,style:ct}}});return Object(S.c)(ft),nt}function I(nt){var at,st,tt,Q=nt.options,Z=nt.chart,et=Q.xAxis,ct=Q.yAxis,mt=Q.xField,Ot=Q.yField,it=Object(x.d)(Z,M),xt=Object(x.d)(Z,b),It={};return Object(C.R)((Q==null?void 0:Q.meta)||{}).map(function(zt){Object(C.s)(Q==null?void 0:Q.meta,[zt,"alias"])&&(It[zt]=Q.meta[zt].alias)}),Z.scale((at={},at[g]={sync:!0,formatter:function(Kt){return Object(C.s)(It,Kt,Kt)}},at)),Object(A.f)((st={},st[mt]=et,st[Ot[0]]=ct[Ot[0]],st))(Object(x.b)({},nt,{chart:it})),Object(A.f)((tt={},tt[mt]=et,tt[Ot[1]]=ct[Ot[1]],tt))(Object(x.b)({},nt,{chart:xt})),nt}function G(nt){var at=nt.chart,st=nt.options,tt=st.xAxis,Q=st.yAxis,Z=st.xField,et=st.yField,ct=st.layout,mt=Object(x.d)(at,M),Ot=Object(x.d)(at,b);return Ot.axis(Z,!1),tt===!1?mt.axis(Z,!1):mt.axis(Z,Object(h.a)({position:D(ct)?"top":"bottom"},tt)),Q===!1?(mt.axis(et[0],!1),Ot.axis(et[1],!1)):(mt.axis(et[0],Q[et[0]]),Ot.axis(et[1],Q[et[1]])),at.__axisPosition={position:mt.getOptions().axes[Z].position,layout:ct},nt}function W(nt){var at=nt.chart;return Object(A.c)(Object(x.b)({},nt,{chart:Object(x.d)(at,M)})),Object(A.c)(Object(x.b)({},nt,{chart:Object(x.d)(at,b)})),nt}function z(nt){var at=nt.chart,st=nt.options,tt=st.yField,Q=st.yAxis;return Object(A.e)(Object(x.b)({},nt,{chart:Object(x.d)(at,M),options:{yAxis:Q[tt[0]]}})),Object(A.e)(Object(x.b)({},nt,{chart:Object(x.d)(at,b),options:{yAxis:Q[tt[1]]}})),nt}function w(nt){var at=nt.chart;return Object(A.j)(Object(x.b)({},nt,{chart:Object(x.d)(at,M)})),Object(A.j)(Object(x.b)({},nt,{chart:Object(x.d)(at,b)})),nt}function T(nt){var at=nt.chart;return Object(A.a)(Object(x.b)({},nt,{chart:Object(x.d)(at,M)})),Object(A.a)(Object(x.b)({},nt,{chart:Object(x.d)(at,b)})),nt}function B(nt){var at=nt.chart,st=nt.options,tt=st.label,Q=st.yField,Z=Object(x.d)(at,M),et=Object(x.d)(at,b),ct=Object(x.c)(Z,"interval"),mt=Object(x.c)(et,"interval");if(!tt)ct.label(!1),mt.label(!1);else{var Ot=tt.callback,it=Object(h.e)(tt,["callback"]);ct.label({fields:[Q[0]],callback:Ot,cfg:Object(x.u)(it)}),mt.label({fields:[Q[1]],callback:Ot,cfg:Object(x.u)(it)})}return nt}function V(nt){return Object(x.e)(N,I,G,z,w,B,A.k,W,T)(nt)}var $=function(nt){Object(h.c)(at,nt);function at(){var st=nt!==null&&nt.apply(this,arguments)||this;return st.type="bidirectional-bar",st}return at.getDefaultOptions=function(){return Object(x.b)({},nt.getDefaultOptions.call(this),{syncViewPadding:p})},at.prototype.changeData=function(st){st===void 0&&(st=[]),this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({data:st});var tt=this.options,Q=tt.xField,Z=tt.yField,et=tt.layout,ct=E(Q,Z,g,st,D(et)),mt=ct[0],Ot=ct[1],it=Object(x.d)(this.chart,M),xt=Object(x.d)(this.chart,b);it.data(mt),xt.data(Ot),this.chart.render(!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},at.prototype.getDefaultOptions=function(){return at.getDefaultOptions()},at.prototype.getSchemaAdaptor=function(){return V},at}(O.b)},gCgN:function(Ut,L,a){var h=a("7LJS"),i=a("NA5Q"),O=a("WeNx");function x(C){return C&&C.length?h(C,O,i):void 0}Ut.exports=x},gPRb:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"b",function(){return i});function h(O){return O==null?null:i(O)}function i(O){if(typeof O!="function")throw new Error;return O}},gWxb:function(Ut,L,a){"use strict";var h=a("XSdR");Ut.exports=i;function i(O){var x={},C=h.filter(O.nodes(),function(g){return!O.children(g).length}),A=h.max(h.map(C,function(g){return O.node(g).rank})),S=h.map(h.range(A+1),function(){return[]});function M(g){if(!h.has(x,g)){x[g]=!0;var E=O.node(g);S[E.rank].push(g),h.forEach(O.successors(g),M)}}var b=h.sortBy(C,function(g){return O.node(g).rank});return h.forEach(b,M),S}},ggto:function(Ut,L,a){"use strict";a.d(L,"d",function(){return C}),a.d(L,"k",function(){return A}),a.d(L,"c",function(){return S}),a.d(L,"a",function(){return M}),a.d(L,"j",function(){return b}),a.d(L,"i",function(){return g}),a.d(L,"h",function(){return E}),a.d(L,"g",function(){return D}),a.d(L,"f",function(){return p}),a.d(L,"b",function(){return N}),a.d(L,"e",function(){return I});var h=a("J+IK"),i=a("jg4I"),O=a("c6wE"),x=a("RF2d");function C(G){var W=G.chart,z=G.options,w=z.legend,T=z.colorField,B=z.seriesField;return w===!1?W.legend(!1):(T||B)&&W.legend(T||B,w),G}function A(G){var W=G.chart,z=G.options,w=z.tooltip;return w!==void 0&&W.tooltip(w),G}function S(G){var W=G.chart,z=G.options,w=z.interactions;return Object(i.j)(w,function(T){T.enable===!1?W.removeInteraction(T.type):W.interaction(T.type,T.cfg||{})}),G}function M(G){var W=G.chart,z=G.options,w=z.animation;return typeof w=="boolean"?W.animate(w):W.animate(!0),Object(i.j)(W.geometries,function(T){T.animate(w)}),G}function b(G){var W=G.chart,z=G.options,w=z.theme;return w&&W.theme(w),G}function g(G){var W=G.chart,z=G.options,w=z.state;return w&&Object(i.j)(W.geometries,function(T){T.state(w)}),G}function E(G){var W=G.chart,z=G.options,w=z.slider;return W.option("slider",w),G}function D(G){var W=G.chart,z=G.options,w=z.scrollbar;return W.option("scrollbar",w),G}function p(G,W){return function(z){var w=z.chart,T=z.options,B={};return Object(i.j)(G,function(V,$){B[$]=Object(x.p)(V,O.a)}),B=Object(x.b)({},W,T.meta,B),w.scale(B),z}}function N(G){return function(W){var z=W.chart,w=W.options,T=z.getController("annotation");return Object(i.j)(Object(h.g)(w.annotations||[],G||[]),function(B){T.annotation(B)}),W}}function I(G){var W=G.chart,z=G.options,w=z.yAxis,T=z.limitInPlot,B=T;return Object(i.M)(w)&&Object(i.I)(T)&&(Object.values(Object(x.p)(w,["min","max","minLimit","maxLimit"])).some(function(V){return!Object(i.I)(V)})?B=!0:B=!1),W.limitInPlot=B,G}},"gs6+":function(Ut,L,a){"use strict";var h=a("XSdR");Ut.exports=i;function i(x,C){for(var A=0,S=1;S<C.length;++S)A+=O(x,C[S-1],C[S]);return A}function O(x,C,A){for(var S=h.zipObject(A,h.map(A,function(p,N){return N})),M=h.flatten(h.map(C,function(p){return h.sortBy(h.map(x.outEdges(p),function(N){return{pos:S[N.w],weight:x.edge(N).weight}}),"pos")}),!0),b=1;b<A.length;)b<<=1;var g=2*b-1;b-=1;var E=h.map(new Array(g),function(){return 0}),D=0;return h.forEach(M.forEach(function(p){var N=p.pos+b;E[N]+=p.weight;for(var I=0;N>0;)N%2&&(I+=E[N+1]),N=N-1>>1,E[N]+=p.weight;D+=p.weight*I})),D}},gsK0:function(Ut,L,a){"use strict";a.r(L),a.d(L,"Base",function(){return A}),a.d(L,"Circle",function(){return b}),a.d(L,"Line",function(){return E});var h=a("J+IK"),i=a("jg4I"),O=a("jFyH"),x=a("KwOt"),C=function(D){Object(h.c)(p,D);function p(){return D!==null&&D.apply(this,arguments)||this}return p.prototype.getDefaultCfg=function(){var N=D.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},N),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:x.a.lineColor}}}})},p.prototype.getLineType=function(){var N=this.get("line")||this.get("defaultCfg").line;return N.type},p.prototype.renderInner=function(N){this.drawGrid(N)},p.prototype.getAlternatePath=function(N,I){var G=this.getGridPath(N),W=I.slice(0).reverse(),z=this.getGridPath(W,!0),w=this.get("closed");return w?G=G.concat(z):(z[0][0]="L",G=G.concat(z),G.push(["Z"])),G},p.prototype.getPathStyle=function(){return this.get("line").style},p.prototype.drawGrid=function(N){var I=this,G=this.get("line"),W=this.get("items"),z=this.get("alternateColor"),w=null;Object(i.j)(W,function(T,B){var V=T.id||B;if(G){var $=I.getPathStyle();$=Object(i.H)($)?$(T,B,W):$;var nt=I.getElementId("line-"+V),at=I.getGridPath(T.points);I.addShape(N,{type:"path",name:"grid-line",id:nt,attrs:Object(i.bb)({path:at},$)})}if(z&&B>0){var st=I.getElementId("region-"+V),tt=B%2==0;if(Object(i.O)(z))tt&&I.drawAlternateRegion(st,N,w.points,T.points,z);else{var Q=tt?z[1]:z[0];I.drawAlternateRegion(st,N,w.points,T.points,Q)}}w=T})},p.prototype.drawAlternateRegion=function(N,I,G,W,z){var w=this.getAlternatePath(G,W);this.addShape(I,{type:"path",id:N,name:"grid-region",attrs:{path:w,fill:z}})},p}(O.a),A=C;function S(D,p,N,I){var G=N-D,W=I-p;return Math.sqrt(G*G+W*W)}var M=function(D){Object(h.c)(p,D);function p(){return D!==null&&D.apply(this,arguments)||this}return p.prototype.getDefaultCfg=function(){var N=D.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},N),{type:"circle",center:null,closed:!0})},p.prototype.getGridPath=function(N,I){var G=this.getLineType(),W=this.get("closed"),z=[];if(N.length)if(G==="circle"){var w=this.get("center"),T=N[0],B=S(w.x,w.y,T.x,T.y),V=I?0:1;W?(z.push(["M",w.x,w.y-B]),z.push(["A",B,B,0,0,V,w.x,w.y+B]),z.push(["A",B,B,0,0,V,w.x,w.y-B]),z.push(["Z"])):Object(i.j)(N,function($,nt){nt===0?z.push(["M",$.x,$.y]):z.push(["A",B,B,0,0,V,$.x,$.y])})}else Object(i.j)(N,function($,nt){nt===0?z.push(["M",$.x,$.y]):z.push(["L",$.x,$.y])}),W&&z.push(["Z"]);return z},p}(A),b=M,g=function(D){Object(h.c)(p,D);function p(){return D!==null&&D.apply(this,arguments)||this}return p.prototype.getDefaultCfg=function(){var N=D.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},N),{type:"line"})},p.prototype.getGridPath=function(N){var I=[];return Object(i.j)(N,function(G,W){W===0?I.push(["M",G.x,G.y]):I.push(["L",G.x,G.y])}),I},p}(A),E=g},hAmL:function(Ut,L,a){"use strict";var h=a("2umH"),i=a("jsfD"),O=a("uWsc");a.d(L,"Canvas",function(){return O.a});var x=a("EEvF"),C=a("rCs2"),A="0.5.7"},hQli:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.removeSensor=L.getSensor=void 0;var h=x(a("NNdr")),i=a("A2sQ"),O=a("MPYE");function x(M){return M&&M.__esModule?M:{default:M}}var C={},A=function(b){var g=b.getAttribute(O.SizeSensorId);if(g&&C[g])return C[g];var E=(0,h.default)();b.setAttribute(O.SizeSensorId,E);var D=(0,i.createSensor)(b);return C[E]=D,D};L.getSensor=A;var S=function(b){var g=b.element.getAttribute(O.SizeSensorId);b.element.removeAttribute(O.SizeSensorId),b.destroy(),g&&C[g]&&delete C[g]};L.removeSensor=S},"hU+C":function(Ut,L,a){"use strict";a.d(L,"a",function(){return W});var h=a("J+IK"),i=a("d38q"),O=a("jg4I"),x=a("RF2d"),C=a("c6wE"),A=a("ggto");function S(z){var w=z.chart,T=z.options,B=T.data,V=T.type,$=T.xField,nt=T.yField,at=T.colorField,st=T.sizeField,tt=T.sizeRatio,Q=T.shape,Z=T.color;w.data(B);var et;V==="density"?et=w.heatmap().position($+"*"+nt):et=w.polygon().position($+"*"+nt),at&&et.color(at,Z||C.b.GRADIENT.CONTINUOUS);var ct=1;if((tt||tt===0)&&(!Q&&!st?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):tt<0||tt>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):ct=tt),Q&&(st||et.shape("",function(){return[Q,1,ct]}),st)){var mt=B.map(function(xt){return xt[st]}),Ot=Math.min.apply(Math,mt),it=Math.max.apply(Math,mt);et.shape(st,function(xt){return[Q,(xt-Ot)/(it-Ot),ct]})}return z}function M(z){var w,T=z.options,B=T.xAxis,V=T.yAxis,$=T.xField,nt=T.yField;return Object(x.e)(Object(A.f)((w={},w[$]=B,w[nt]=V,w)))(z)}function b(z){var w=z.chart,T=z.options,B=T.xAxis,V=T.yAxis,$=T.xField,nt=T.yField;return B===!1?w.axis($,!1):w.axis($,B),V===!1?w.axis(nt,!1):w.axis(nt,V),z}function g(z){var w=z.chart,T=z.options,B=T.legend,V=T.colorField;return B?w.legend(V,B):w.legend(!1),z}function E(z){var w=z.chart,T=z.options,B=T.xField,V=T.yField,$=T.colorField,nt=T.sizeField,at=T.heatmapStyle,st=w.geometries[0];return at&&st&&(Object(O.H)(at)?st.style(B+"*"+V+"*"+$+"*"+nt,at):Object(O.M)(at)&&st.style(at)),z}function D(z){var w=z.chart,T=z.options,B=T.label,V=T.colorField,$=T.type,nt=Object(x.c)(w,$==="density"?"heatmap":"polygon");if(!B)nt.label(!1);else if(V){var at=B.callback,st=Object(h.e)(B,["callback"]);nt.label({fields:[V],callback:at,cfg:Object(x.u)(st)})}return z}function p(z){var w=z.chart,T=z.options,B=T.coordinate,V=T.reflect;return B&&w.coordinate({type:B.type||"rect",cfg:B.cfg}),V&&w.coordinate().reflect(V),z}function N(z){return Object(x.e)(S,M,A.j,b,g,A.k,E,D,Object(A.b)(),A.c,A.a,A.i,p)(z)}var I=Object(x.b)({},i.b.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}}),G=a("AO+g");Object(G.registerShape)("polygon","circle",{draw:function(w,T){var B,V,$=w.x,nt=w.y,at=this.parsePoints(w.points),st=Math.abs(at[2].x-at[1].x),tt=Math.abs(at[1].y-at[0].y),Q=Math.min(st,tt)/2,Z=Number(w.shape[1]),et=Number(w.shape[2]),ct=Math.sqrt(et),mt=Q*ct*Math.sqrt(Z),Ot=((B=w.style)===null||B===void 0?void 0:B.fill)||w.color||((V=w.defaultStyle)===null||V===void 0?void 0:V.fill),it=T.addShape("circle",{attrs:Object(h.a)(Object(h.a)(Object(h.a)({x:$,y:nt,r:mt},w.defaultStyle),w.style),{fill:Ot})});return it}}),Object(G.registerShape)("polygon","square",{draw:function(w,T){var B,V,$=w.x,nt=w.y,at=this.parsePoints(w.points),st=Math.abs(at[2].x-at[1].x),tt=Math.abs(at[1].y-at[0].y),Q=Math.min(st,tt),Z=Number(w.shape[1]),et=Number(w.shape[2]),ct=Math.sqrt(et),mt=Q*ct*Math.sqrt(Z),Ot=((B=w.style)===null||B===void 0?void 0:B.fill)||w.color||((V=w.defaultStyle)===null||V===void 0?void 0:V.fill),it=T.addShape("rect",{attrs:Object(h.a)(Object(h.a)(Object(h.a)({x:$-mt/2,y:nt-mt/2,width:mt,height:mt},w.defaultStyle),w.style),{fill:Ot})});return it}});var W=function(z){Object(h.c)(w,z);function w(){var T=z!==null&&z.apply(this,arguments)||this;return T.type="heatmap",T}return w.getDefaultOptions=function(){return I},w.prototype.getSchemaAdaptor=function(){return N},w.prototype.getDefaultOptions=function(){return w.getDefaultOptions()},w}(i.b)},hZRB:function(Ut,L,a){"use strict";a.d(L,"a",function(){return B});var h=a("J+IK"),i=a("d38q"),O=a("jg4I"),x=a("ggto"),C=a("RF2d"),A=a("c6wE"),S="$$stock-range$$",M="trend",b="up",g="down",E=["#ef5350","#26a69a"],D={showTitle:!1,showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0},itemTpl:'<li class="g2-tooltip-list-item" data-index={index}><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}{value}</li>'},p=Object(C.b)({},i.b.getDefaultOptions(),{tooltip:D,interactions:[{type:"tooltip"}],legend:{position:"top-left"}});function N(V,$){return Object(O.U)(V,function(nt){if(Object(O.B)($)){var at=$[0],st=$[1],tt=$[2],Q=$[3];nt[M]=nt[at]<=nt[st]?b:g,nt[S]=[nt[at],nt[st],nt[tt],nt[Q]]}return nt})}function I(V){var $=V.chart,nt=V.options,at=nt.xField,st=nt.yField,tt=nt.data;$.data(N(tt,st));var Q=$.schema().position(at+"*"+S).shape("candle");return Q.color(M,E),V}function G(V){var $,nt,at=V.chart,st=V.options,tt=st.meta,Q=st.xAxis,Z=st.yAxis,et=st.xField,ct=($={},$[et]={type:"timeCat",tickCount:6},$[M]={values:[b,g]},$),mt=Object(C.b)(ct,tt,(nt={},nt[et]=Object(C.p)(Q,A.a),nt[S]=Object(C.p)(Z,A.a),nt));return at.scale(mt),V}function W(V){var $=V.chart,nt=V.options,at=nt.xAxis,st=nt.yAxis,tt=nt.xField;return at===!1?$.axis(tt,!1):$.axis(tt,at),st===!1?$.axis(S,!1):$.axis(S,st),V}function z(V){var $=V.chart,nt=V.options,at=nt.xField,st=nt.yField,tt=nt.meta,Q=tt===void 0?{}:tt,Z=nt.tooltip,et=Z===void 0?{}:Z,ct=Object(C.c)($,"schema"),mt=st[0],Ot=st[1],it=st[2],xt=st[3],It=Q[mt]&&Q[mt].alias||mt,zt=Q[Ot]?Q[Ot].alias||mt:Ot,Kt=Q[it]&&Q[it].alias||it,Yt=Q[xt]&&Q[xt].alias||xt,bt={fields:[at,mt,Ot,it,xt],callback:function(Mt,Nt,Pt,J,X){var vt={name:Mt,value:`
          <br><span data-label="`+It+'" style="padding-left: 16px">'+It+"\uFF1A"+Nt+`</span>
          <br><span data-label="`+zt+'" style="padding-left: 16px">'+zt+"\uFF1A"+Pt+`</span>
          <br><span data-label="`+Kt+'" style="padding-left: 16px">'+Kt+"\uFF1A"+J+`</span>
          <br><span data-label="`+Yt+'" style="padding-left: 16px">'+Yt+"\uFF1A"+X+`</span>
        `};return vt}},ft={crosshairs:{text:function(Mt,Nt,Pt){var J={position:"end"};if(Mt==="x"){var X=Pt[0];J.content=X?X.data[at]:Nt}else J.content=Nt;return J}}};if(et){if(Object(O.M)(et)){var dt=Object(C.b)({},ft,et);$.tooltip(dt),ct.tooltip(bt)}}else $.tooltip(!1);return V}function w(V){var $=V.chart,nt=V.options,at=nt.legend;return at?$.legend(M,at):at===!1&&$.legend(!1),V}function T(V){Object(C.e)(I,G,x.j,W,z,w,x.c,x.a)(V)}var B=function(V){Object(h.c)($,V);function $(){var nt=V!==null&&V.apply(this,arguments)||this;return nt.type="stock",nt}return $.getDefaultOptions=function(){return p},$.prototype.getDefaultOptions=function(){return $.getDefaultOptions()},$.prototype.getSchemaAdaptor=function(){return T},$.prototype.changeData=function(nt){this.updateOption({data:nt});var at=this.options.yField;this.chart.changeData(N(nt,at))},$}(i.b)},hppO:function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("43gi").Graph;Ut.exports={addDummyNode:O,simplify:x,asNonCompoundGraph:C,successorWeights:A,predecessorWeights:S,intersectRect:M,buildLayerMatrix:b,normalizeRanks:g,removeEmptyRanks:E,addBorderNode:D,maxRank:p,partition:N,time:I,notime:G};function O(W,z,w,T){var B;do B=h.uniqueId(T);while(W.hasNode(B));return w.dummy=z,W.setNode(B,w),B}function x(W){var z=new i().setGraph(W.graph());return h.forEach(W.nodes(),function(w){z.setNode(w,W.node(w))}),h.forEach(W.edges(),function(w){var T=z.edge(w.v,w.w)||{weight:0,minlen:1},B=W.edge(w);z.setEdge(w.v,w.w,{weight:T.weight+B.weight,minlen:Math.max(T.minlen,B.minlen)})}),z}function C(W){var z=new i({multigraph:W.isMultigraph()}).setGraph(W.graph());return h.forEach(W.nodes(),function(w){W.children(w).length||z.setNode(w,W.node(w))}),h.forEach(W.edges(),function(w){z.setEdge(w,W.edge(w))}),z}function A(W){var z=h.map(W.nodes(),function(w){var T={};return h.forEach(W.outEdges(w),function(B){T[B.w]=(T[B.w]||0)+W.edge(B).weight}),T});return h.zipObject(W.nodes(),z)}function S(W){var z=h.map(W.nodes(),function(w){var T={};return h.forEach(W.inEdges(w),function(B){T[B.v]=(T[B.v]||0)+W.edge(B).weight}),T});return h.zipObject(W.nodes(),z)}function M(W,z){var w=W.x,T=W.y,B=z.x-w,V=z.y-T,$=W.width/2,nt=W.height/2;if(!B&&!V)throw new Error("Not possible to find intersection inside of the rectangle");var at,st;return Math.abs(V)*$>Math.abs(B)*nt?(V<0&&(nt=-nt),at=nt*B/V,st=nt):(B<0&&($=-$),at=$,st=$*V/B),{x:w+at,y:T+st}}function b(W){var z=h.map(h.range(p(W)+1),function(){return[]});return h.forEach(W.nodes(),function(w){var T=W.node(w),B=T.rank;h.isUndefined(B)||(z[B][T.order]=w)}),z}function g(W){var z=h.min(h.map(W.nodes(),function(w){return W.node(w).rank}));h.forEach(W.nodes(),function(w){var T=W.node(w);h.has(T,"rank")&&(T.rank-=z)})}function E(W){var z=h.min(h.map(W.nodes(),function(V){return W.node(V).rank})),w=[];h.forEach(W.nodes(),function(V){var $=W.node(V).rank-z;w[$]||(w[$]=[]),w[$].push(V)});var T=0,B=W.graph().nodeRankFactor;h.forEach(w,function(V,$){h.isUndefined(V)&&$%B!=0?--T:T&&h.forEach(V,function(nt){W.node(nt).rank+=T})})}function D(W,z,w,T){var B={width:0,height:0};return arguments.length>=4&&(B.rank=w,B.order=T),O(W,"border",B,z)}function p(W){return h.max(h.map(W.nodes(),function(z){var w=W.node(z).rank;if(!h.isUndefined(w))return w}))}function N(W,z){var w={lhs:[],rhs:[]};return h.forEach(W,function(T){z(T)?w.lhs.push(T):w.rhs.push(T)}),w}function I(W,z){var w=h.now();try{return z()}finally{console.log(W+" time: "+(h.now()-w)+"ms")}}function G(W,z){return z()}},i1Q6:function(Ut,L){function a(h,i){return h>i}Ut.exports=a},iUtP:function(Ut,L){Ut.exports=a;function a(h,i,O){var x=Math.cos(O),C=Math.sin(O),A=i[0],S=i[1];return h[0]=A*x-S*C,h[1]=A*C+S*x,h}},iuKI:function(Ut,L,a){Ut.exports={components:a("AaeU"),dijkstra:a("DhYH"),dijkstraAll:a("e5xd"),findCycles:a("I7m4"),floydWarshall:a("Xure"),isAcyclic:a("P+oc"),postorder:a("qvXp"),preorder:a("DC1X"),prim:a("0aAk"),tarjan:a("EEYS"),topsort:a("3MnI")}},jCkg:function(Ut,L,a){Ut.exports=a("/Ykl")},jFP1:function(Ut,L){Ut.exports=a;function a(){var h=new Float32Array(2);return h[0]=0,h[1]=0,h}},jFyH:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jg4I"),O=a("JGup"),x=a("xdm5"),C=a("L+OQ"),A=a("QwgH"),S="update_status",M=["visible","tip","delegateObject"],b=["container","group","shapesMap","isRegister","isUpdating","destroyed"],g=function(E){Object(h.c)(D,E);function D(){return E!==null&&E.apply(this,arguments)||this}return D.prototype.getDefaultCfg=function(){var p=E.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},p),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},D.prototype.remove=function(){this.clear();var p=this.get("group");p.remove()},D.prototype.clear=function(){var p=this.get("group");p.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},D.prototype.getChildComponentById=function(p){var N=this.getElementById(p),I=N&&N.get("component");return I},D.prototype.getElementById=function(p){return this.get("shapesMap")[p]},D.prototype.getElementByLocalId=function(p){var N=this.getElementId(p);return this.getElementById(N)},D.prototype.getElementsByName=function(p){var N=[];return Object(i.j)(this.get("shapesMap"),function(I){I.get("name")===p&&N.push(I)}),N},D.prototype.getContainer=function(){return this.get("container")},D.prototype.updateInner=function(p){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},D.prototype.render=function(){var p=this.get("offScreenGroup");p||(p=this.offScreenRender());var N=this.get("group");this.updateElements(p,N),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},D.prototype.show=function(){var p=this.get("group");p.show(),this.set("visible",!0)},D.prototype.hide=function(){var p=this.get("group");p.hide(),this.set("visible",!1)},D.prototype.setCapture=function(p){var N=this.get("group");N.set("capture",p),this.set("capture",p)},D.prototype.destroy=function(){this.removeEvent(),this.remove(),E.prototype.destroy.call(this)},D.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},D.prototype.getLayoutBBox=function(){var p=this.get("group"),N=this.getInnerLayoutBBox(),I=p.getTotalMatrix();return I&&(N=Object(x.a)(I,N)),N},D.prototype.on=function(p,N,I){var G=this.get("group");return G.on(p,N,I),this},D.prototype.off=function(p,N){var I=this.get("group");return I&&I.off(p,N),this},D.prototype.emit=function(p,N){var I=this.get("group");I.emit(p,N)},D.prototype.init=function(){E.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},D.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},D.prototype.delegateEmit=function(p,N){var I=this.get("group");N.target=I,I.emit(p,N),Object(O.a)(I,p,N)},D.prototype.createOffScreenGroup=function(){var p=this.get("group"),N=p.getGroupBase(),I=new N({delegateObject:this.getDelegateObject()});return I},D.prototype.applyOffset=function(){var p=this.get("offsetX"),N=this.get("offsetY");this.moveElementTo(this.get("group"),{x:p,y:N})},D.prototype.initGroup=function(){var p=this.get("container");this.set("group",p.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},D.prototype.offScreenRender=function(){this.clearOffScreenCache();var p=this.createOffScreenGroup();return this.renderInner(p),this.set("offScreenGroup",p),this.set("offScreenBBox",Object(C.d)(p)),p},D.prototype.addGroup=function(p,N){this.appendDelegateObject(p,N);var I=p.addGroup(N);return this.get("isRegister")&&this.registerElement(I),I},D.prototype.addShape=function(p,N){this.appendDelegateObject(p,N);var I=p.addShape(N);return this.get("isRegister")&&this.registerElement(I),I},D.prototype.addComponent=function(p,N){var I=N.id,G=N.component,W=Object(h.e)(N,["id","component"]),z=new G(Object(h.a)(Object(h.a)({},W),{id:I,container:p,updateAutoRender:this.get("updateAutoRender")}));return z.init(),z.render(),this.get("isRegister")&&this.registerElement(z.get("group")),z},D.prototype.initEvent=function(){},D.prototype.removeEvent=function(){var p=this.get("group");p.off()},D.prototype.getElementId=function(p){var N=this.get("id"),I=this.get("name");return N+"-"+I+"-"+p},D.prototype.registerElement=function(p){var N=p.get("id");this.get("shapesMap")[N]=p},D.prototype.unregisterElement=function(p){var N=p.get("id");delete this.get("shapesMap")[N]},D.prototype.moveElementTo=function(p,N){var I=Object(x.f)(N);p.attr("matrix",I)},D.prototype.addAnimation=function(p,N,I){var G=N.attr("opacity");Object(i.I)(G)&&(G=1),N.attr("opacity",0),N.animate({opacity:G},I)},D.prototype.removeAnimation=function(p,N,I){N.animate({opacity:0},I)},D.prototype.updateAnimation=function(p,N,I,G){N.animate(I,G)},D.prototype.updateElements=function(p,N){var I=this,G=this.get("animate"),W=this.get("animateOption"),z=p.getChildren().slice(0),w;Object(i.j)(z,function(T){var B=T.get("id"),V=I.getElementById(B),$=T.get("name");if(V)if(T.get("isComponent")){var nt=T.get("component"),at=V.get("component"),st=Object(i.eb)(nt.cfg,Object(i.i)(Object(i.R)(nt.cfg),b));at.update(st),V.set(S,"update")}else{var tt=I.getReplaceAttrs(V,T);G&&W.update?I.updateAnimation($,V,tt,W.update):V.attr(tt),T.isGroup()&&I.updateElements(T,V),Object(i.j)(M,function(ct){V.set(ct,T.get(ct))}),Object(C.m)(V,T),w=V,V.set(S,"update")}else{N.add(T);var Q=N.getChildren();if(Q.splice(Q.length-1,1),w){var Z=Q.indexOf(w);Q.splice(Z+1,0,T)}else Q.unshift(T);if(I.registerElement(T),T.set(S,"add"),T.get("isComponent")){var nt=T.get("component");nt.set("container",N)}else T.isGroup()&&I.registerNewGroup(T);if(w=T,G){var et=I.get("isInit")?W.appear:W.enter;et&&I.addAnimation($,T,et)}}})},D.prototype.clearUpdateStatus=function(p){var N=p.getChildren();Object(i.j)(N,function(I){I.set(S,null)})},D.prototype.clearOffScreenCache=function(){var p=this.get("offScreenGroup");p&&p.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},D.prototype.getDelegateObject=function(){var p,N=this.get("name"),I=(p={},p[N]=this,p.component=this,p);return I},D.prototype.appendDelegateObject=function(p,N){var I=p.get("delegateObject");N.delegateObject||(N.delegateObject={}),Object(i.bb)(N.delegateObject,I)},D.prototype.getReplaceAttrs=function(p,N){var I=p.attr(),G=N.attr();return Object(i.j)(I,function(W,z){G[z]===void 0&&(G[z]=void 0)}),G},D.prototype.registerNewGroup=function(p){var N=this,I=p.getChildren();Object(i.j)(I,function(G){N.registerElement(G),G.set(S,"add"),G.isGroup()&&N.registerNewGroup(G)})},D.prototype.deleteElements=function(){var p=this,N=this.get("shapesMap"),I=[];Object(i.j)(N,function(z,w){!z.get(S)||z.destroyed?I.push([w,z]):z.set(S,null)});var G=this.get("animate"),W=this.get("animateOption");Object(i.j)(I,function(z){var w=z[0],T=z[1];if(!T.destroyed){var B=T.get("name");if(G&&W.leave){var V=Object(i.bb)({callback:function(){p.removeElement(T)}},W.leave);p.removeAnimation(B,T,V)}else p.removeElement(T)}delete N[w]})},D.prototype.removeElement=function(p){if(p.get("isGroup")){var N=p.get("component");N&&N.destroy()}p.remove()},D}(A.a);L.a=g},jGCv:function(Ut,L,a){"use strict";a.d(L,"d",function(){return i}),a.d(L,"b",function(){return O}),a.d(L,"e",function(){return x}),a.d(L,"f",function(){return C}),a.d(L,"l",function(){return A}),a.d(L,"j",function(){return S});var h=a("jg4I");a.d(L,"i",function(){return h.I}),a.d(L,"k",function(){return h.O}),a.d(L,"h",function(){return h.H}),a.d(L,"g",function(){return h.B}),a.d(L,"c",function(){return h.j}),a.d(L,"o",function(){return h.pb}),a.d(L,"m",function(){return h.cb}),a.d(L,"n",function(){return h.hb}),a.d(L,"a",function(){return h.d});function i(){return window?window.devicePixelRatio:1}function O(M,b,g,E){var D=M-g,p=b-E;return Math.sqrt(D*D+p*p)}function x(M,b,g,E,D,p){return D>=M&&D<=M+g&&p>=b&&p<=b+E}function C(M,b){return!(b.minX>M.maxX||b.maxX<M.minX||b.minY>M.maxY||b.maxY<M.minY)}function A(M,b){return!M||!b?M||b:{minX:Math.min(M.minX,b.minX),minY:Math.min(M.minY,b.minY),maxX:Math.max(M.maxX,b.maxX),maxY:Math.max(M.maxY,b.maxY)}}function S(M,b){return M[0]===b[0]&&M[1]===b[1]}},"jHy/":function(Ut,L,a){var h=a("fIi5"),i=a("KmIr");function O(x){return x==null?[]:h(x,i(x))}Ut.exports=O},jOdP:function(Ut,L,a){"use strict";a.d(L,"a",function(){return O});var h=a("d38q"),i=a("RF2d"),O=Object(i.b)({},h.b.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}})},jg4I:function(Ut,L,a){"use strict";a.d(L,"f",function(){return x}),a.d(L,"z",function(){return x}),a.d(L,"i",function(){return M}),a.d(L,"m",function(){return Q}),a.d(L,"n",function(){return et}),a.d(L,"o",function(){return mt}),a.d(L,"q",function(){return it}),a.d(L,"t",function(){return bt}),a.d(L,"fb",function(){return lt}),a.d(L,"gb",function(){return Ft}),a.d(L,"lb",function(){return jt}),a.d(L,"rb",function(){return Y}),a.d(L,"vb",function(){return q}),a.d(L,"y",function(){return gt}),a.d(L,"S",function(){return _}),a.d(L,"l",function(){return A}),a.d(L,"k",function(){return Qt}),a.d(L,"kb",function(){return se}),a.d(L,"u",function(){return we}),a.d(L,"v",function(){return Be}),a.d(L,"w",function(){return Ze}),a.d(L,"wb",function(){return or}),a.d(L,"c",function(){return Fr}),a.d(L,"p",function(){return yn}),a.d(L,"L",function(){return Bi}),a.d(L,"W",function(){return zt}),a.d(L,"X",function(){return La}),a.d(L,"Z",function(){return Kt}),a.d(L,"ab",function(){return Hn}),a.d(L,"cb",function(){return Ba}),a.d(L,"pb",function(){return Oi}),a.d(L,"r",function(){return Ka}),a.d(L,"x",function(){return $a}),a.d(L,"R",function(){return T}),a.d(L,"ub",function(){return Cn}),a.d(L,"T",function(){return oe}),a.d(L,"mb",function(){return ar}),a.d(L,"tb",function(){return Bn}),a.d(L,"B",function(){return I}),a.d(L,"C",function(){return Xi}),a.d(L,"D",function(){return Wi}),a.d(L,"H",function(){return D}),a.d(L,"I",function(){return N}),a.d(L,"J",function(){return Ro}),a.d(L,"K",function(){return Nn}),a.d(L,"M",function(){return G}),a.d(L,"N",function(){return st}),a.d(L,"O",function(){return Wt}),a.d(L,"P",function(){return E}),a.d(L,"Q",function(){return Go}),a.d(L,"E",function(){return Mo}),a.d(L,"hb",function(){return Wo}),a.d(L,"d",function(){return go}),a.d(L,"e",function(){return zs}),a.d(L,"g",function(){return el}),a.d(L,"Y",function(){return ys}),a.d(L,"h",function(){return Jt}),a.d(L,"j",function(){return z}),a.d(L,"A",function(){return Le}),a.d(L,"F",function(){return nr}),a.d(L,"G",function(){return Ir}),a.d(L,"U",function(){return Zr}),a.d(L,"V",function(){return Dr}),a.d(L,"bb",function(){return zo}),a.d(L,"b",function(){return zo}),a.d(L,"s",function(){return In}),a.d(L,"ib",function(){return xa}),a.d(L,"eb",function(){return Jn}),a.d(L,"nb",function(){return ua}),a.d(L,"ob",function(){return Ea}),a.d(L,"qb",function(){return hi}),a.d(L,"sb",function(){return bi}),a.d(L,"db",function(){return Rn}),a.d(L,"jb",function(){return oi}),a.d(L,"a",function(){return pa});var h=function(le){return le!==null&&typeof le!="function"&&isFinite(le.length)},i=h,O=function(le,je){return i(le)?le.indexOf(je)>-1:!1},x=O,C=function(le,je){if(!i(le))return le;for(var Qe=[],br=0;br<le.length;br++){var Qr=le[br];je(Qr,br)&&Qe.push(Qr)}return Qe},A=C,S=function(le,je){return je===void 0&&(je=[]),A(le,function(Qe){return!x(je,Qe)})},M=S,b={}.toString,g=function(le,je){return b.call(le)==="[object "+je+"]"},E=g,D=function(Oe){return E(Oe,"Function")},p=function(le){return le==null},N=p,I=function(Oe){return Array.isArray?Array.isArray(Oe):E(Oe,"Array")},G=function(Oe){var le=typeof Oe;return Oe!==null&&le==="object"||le==="function"};function W(Oe,le){if(!!Oe){var je;if(I(Oe))for(var Qe=0,br=Oe.length;Qe<br&&(je=le(Oe[Qe],Qe),je!==!1);Qe++);else if(G(Oe)){for(var Qr in Oe)if(Oe.hasOwnProperty(Qr)&&(je=le(Oe[Qr],Qr),je===!1))break}}}var z=W,w=Object.keys?function(Oe){return Object.keys(Oe)}:function(Oe){var le=[];return z(Oe,function(je,Qe){D(Oe)&&Qe==="prototype"||le.push(Qe)}),le},T=w;function B(Oe,le){var je=T(le),Qe=je.length;if(N(Oe))return!Qe;for(var br=0;br<Qe;br+=1){var Qr=je[br];if(le[Qr]!==Oe[Qr]||!(Qr in Oe))return!1}return!0}var V=B,$=function(le){return typeof le=="object"&&le!==null},nt=$,at=function(le){if(!nt(le)||!E(le,"Object"))return!1;if(Object.getPrototypeOf(le)===null)return!0;for(var je=le;Object.getPrototypeOf(je)!==null;)je=Object.getPrototypeOf(je);return Object.getPrototypeOf(le)===je},st=at;function tt(Oe,le){if(!I(Oe))return null;var je;if(D(le)&&(je=le),st(le)&&(je=function(Qr){return V(Qr,le)}),je){for(var Qe=0;Qe<Oe.length;Qe+=1)if(je(Oe[Qe]))return Oe[Qe]}return null}var Q=tt;function Z(Oe,le,je){je===void 0&&(je=0);for(var Qe=je;Qe<Oe.length;Qe++)if(le(Oe[Qe],Qe))return Qe;return-1}var et=Z,ct=function(le,je){for(var Qe=null,br=0;br<le.length;br++){var Qr=le[br],ta=Qr[je];if(!N(ta)){I(ta)?Qe=ta[0]:Qe=ta;break}}return Qe},mt=ct,Ot=function(le){if(!I(le))return[];for(var je=[],Qe=0;Qe<le.length;Qe++)je=je.concat(le[Qe]);return je},it=Ot,xt=function Oe(le,je){if(je===void 0&&(je=[]),!I(le))je.push(le);else for(var Qe=0;Qe<le.length;Qe+=1)Oe(le[Qe],je);return je},It=xt,zt=function(Oe){if(!!I(Oe))return Oe.reduce(function(le,je){return Math.max(le,je)},Oe[0])},Kt=function(Oe){if(!!I(Oe))return Oe.reduce(function(le,je){return Math.min(le,je)},Oe[0])},Yt=function(le){var je=le.filter(function(Ja){return!isNaN(Ja)});if(!je.length)return{min:0,max:0};if(I(le[0])){for(var Qe=[],br=0;br<le.length;br++)Qe=Qe.concat(le[br]);je=Qe}var Qr=zt(je),ta=Kt(je);return{min:ta,max:Qr}},bt=Yt,ft=Array.prototype,dt=ft.splice,ot=ft.indexOf,Mt=function(le){for(var je=[],Qe=1;Qe<arguments.length;Qe++)je[Qe-1]=arguments[Qe];for(var br=0;br<je.length;br++)for(var Qr=je[br],ta=-1;(ta=ot.call(le,Qr))>-1;)dt.call(le,ta,1);return le},Nt=Mt,Pt=Array.prototype.splice,J=function(le,je){if(!i(le))return[];for(var Qe=le?je.length:0,br=Qe-1;Qe--;){var Qr=void 0,ta=je[Qe];(Qe===br||ta!==Qr)&&(Qr=ta,Pt.call(le,ta,1))}return le},X=J,vt=function(le,je,Qe){if(!I(le)&&!st(le))return le;var br=Qe;return z(le,function(Qr,ta){br=je(br,Qr,ta)}),br},lt=vt,Ct=function(le,je){var Qe=[];if(!i(le))return Qe;for(var br=-1,Qr=[],ta=le.length;++br<ta;){var Ja=le[br];je(Ja,br,le)&&(Qe.push(Ja),Qr.push(br))}return X(le,Qr),Qe},Ft=Ct,Wt=function(Oe){return E(Oe,"String")};function kt(Oe,le){var je;if(D(le))je=function(Qr,ta){return le(Qr)-le(ta)};else{var Qe=[];Wt(le)?Qe.push(le):I(le)&&(Qe=le),je=function(Qr,ta){for(var Ja=0;Ja<Qe.length;Ja+=1){var si=Qe[Ja];if(Qr[si]>ta[si])return 1;if(Qr[si]<ta[si])return-1}return 0}}return Oe.sort(je),Oe}var jt=kt;function Y(Oe,le){le===void 0&&(le=new Map);var je=[];if(Array.isArray(Oe))for(var Qe=0,br=Oe.length;Qe<br;Qe++){var Qr=Oe[Qe];le.has(Qr)||(je.push(Qr),le.set(Qr,!0))}return je}var U=function(){for(var le=[],je=0;je<arguments.length;je++)le[je]=arguments[je];return Y([].concat.apply([],le))},j=U,q=function(Oe,le){for(var je=[],Qe={},br=0;br<Oe.length;br++){var Qr=Oe[br],ta=Qr[le];if(!N(ta)){I(ta)||(ta=[ta]);for(var Ja=0;Ja<ta.length;Ja++){var si=ta[Ja];Qe[si]||(je.push(si),Qe[si]=!0)}}}return je};function gt(Oe){if(i(Oe))return Oe[0]}function _(Oe){if(i(Oe)){var le=Oe;return le[le.length-1]}}function yt(Oe,le){return I(Oe)||Wt(Oe)?Oe[0]===le:!1}var wt=yt;function St(Oe,le){return I(Oe)||Wt(Oe)?Oe[Oe.length-1]===le:!1}var Dt=St,Vt=function(le,je){for(var Qe=0;Qe<le.length;Qe++)if(!je(le[Qe],Qe))return!1;return!0},Qt=Vt,ee=function(le,je){for(var Qe=0;Qe<le.length;Qe++)if(je(le[Qe],Qe))return!0;return!1},se=ee,ye=Object.prototype.hasOwnProperty;function Ie(Oe,le){if(!le||!I(Oe))return{};for(var je={},Qe=D(le)?le:function(Ja){return Ja[le]},br,Qr=0;Qr<Oe.length;Qr++){var ta=Oe[Qr];br=Qe(ta),ye.call(je,br)?je[br].push(ta):je[br]=[ta]}return je}var Be=Ie;function Ze(Oe,le){if(!le)return{0:Oe};if(!D(le)){var je=I(le)?le:le.replace(/\s+/g,"").split("*");le=function(br){for(var Qr="_",ta=0,Ja=je.length;ta<Ja;ta++)Qr+=br[je[ta]]&&br[je[ta]].toString();return Qr}}return Be(Oe,le)}var we=function(Oe,le){if(!le)return[Oe];var je=Ze(Oe,le),Qe=[];for(var br in je)Qe.push(je[br]);return Qe};function We(Oe,le){return Oe["_wrap_"+le]}var Ke=We;function cr(Oe,le){if(Oe["_wrap_"+le])return Oe["_wrap_"+le];var je=function(br){Oe[le](br)};return Oe["_wrap_"+le]=je,je}var or=cr,Ce={};function sr(Oe){var le=Ce[Oe];if(!le){for(var je=Oe.toString(16),Qe=je.length;Qe<6;Qe++)je="0"+je;le="#"+je,Ce[Oe]=le}return le}var ke=sr;function Xe(Oe){var le=0,je=0,Qe=0,br=0;return I(Oe)?Oe.length===1?le=je=Qe=br=Oe[0]:Oe.length===2?(le=Qe=Oe[0],je=br=Oe[1]):Oe.length===3?(le=Oe[0],je=br=Oe[1],Qe=Oe[2]):(le=Oe[0],je=Oe[1],Qe=Oe[2],br=Oe[3]):le=je=Qe=br=Oe,{r1:le,r2:je,r3:Qe,r4:br}}var dr=Xe,Sr=function(le,je,Qe){return le<je?je:le>Qe?Qe:le},Fr=Sr,hn=function(le,je){var Qe=je.toString(),br=Qe.indexOf(".");if(br===-1)return Math.round(le);var Qr=Qe.substr(br+1).length;return Qr>20&&(Qr=20),parseFloat(le.toFixed(Qr))},yn=hn,Dn=function(le){return E(le,"Number")},Nn=Dn,Ia=function(le){return Nn(le)&&le%1!=0},ba=Ia,Oa=function(le){return Nn(le)&&le%2==0},Wn=Oa,ai=Number.isInteger?Number.isInteger:function(Oe){return Nn(Oe)&&Oe%1==0},Va=ai,ci=function(le){return Nn(le)&&le<0},Ti=ci,Ui=1e-5;function Bi(Oe,le,je){return je===void 0&&(je=Ui),Math.abs(Oe-le)<je}var ia=function(le){return Nn(le)&&le%2!=0},ja=ia,Zn=function(le){return Nn(le)&&le>0},wa=Zn,La=function(Oe,le){if(!!I(Oe)){var je=Oe[0],Qe;D(le)?Qe=le(Oe[0]):Qe=Oe[0][le];var br;return z(Oe,function(Qr){D(le)?br=le(Qr):br=Qr[le],br>Qe&&(je=Qr,Qe=br)}),je}},Hn=function(Oe,le){if(!!I(Oe)){var je=Oe[0],Qe;D(le)?Qe=le(Oe[0]):Qe=Oe[0][le];var br;return z(Oe,function(Qr){D(le)?br=le(Qr):br=Qr[le],br<Qe&&(je=Qr,Qe=br)}),je}},Sa=function(le,je){return(le%je+je)%je},Ba=Sa,Pa=180/Math.PI,$n=function(le){return Pa*le},Ya=$n,Da=parseInt,ii=Math.PI/180,Qn=function(le){return ii*le},Oi=Qn,Ka=z,Na=function(Oe,le){return Oe.hasOwnProperty(le)},$a=Na,ni=Object.values?function(Oe){return Object.values(Oe)}:function(Oe){var le=[];return z(Oe,function(je,Qe){D(Oe)&&Qe==="prototype"||le.push(je)}),le},Cn=ni,Ni=function(Oe,le){return x(Cn(Oe),le)},hi=function(Oe){return N(Oe)?"":Oe.toString()},fe=function(le){return hi(le).toLowerCase()},oe=fe,he=function(le){var je=hi(le);return je.charAt(0).toLowerCase()+je.substring(1)},Ne=he;function He(Oe,le){return!Oe||!le?Oe:Oe.replace(/\\?\{([^{}]+)\}/g,function(je,Qe){return je.charAt(0)==="\\"?je.slice(1):le[Qe]===void 0?"":le[Qe]})}var ar=He,Er=function(le){return hi(le).toUpperCase()},Br=Er,Ln=function(le){var je=hi(le);return je.charAt(0).toUpperCase()+je.substring(1)},Bn=Ln,Sn={}.toString,Wa=function(le){return Sn.call(le).replace(/^\[object /,"").replace(/]$/,"")},la=Wa,yi=function(le){return E(le,"Arguments")},mi=yi,ji=function(le){return E(le,"Boolean")},Xi=ji,uo=function(le){return E(le,"Date")},Wi=uo,ge=function(le){return E(le,"Error")},Ki=ge,qn=function(Oe){return Nn(Oe)&&isFinite(Oe)},Xa=function(le){return le===null},Ro=Xa,wo=Object.prototype,Hi=function(le){var je=le&&le.constructor,Qe=typeof je=="function"&&je.prototype||wo;return le===Qe},_o=Hi,qo=function(le){return E(le,"RegExp")},ts=qo,Eo=function(le){return le===void 0},Go=Eo,Uo=function(le){return le instanceof Element||le instanceof HTMLDocument},Mo=Uo;function Wo(Oe){var le=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(je){return setTimeout(je,16)};return le(Oe)}function go(Oe){var le=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;le(Oe)}function Ws(Oe,le){for(var je in le)le.hasOwnProperty(je)&&je!=="constructor"&&le[je]!==void 0&&(Oe[je]=le[je])}function zo(Oe,le,je,Qe){return le&&Ws(Oe,le),je&&Ws(Oe,je),Qe&&Ws(Oe,Qe),Oe}var xs=function(){for(var le=[],je=0;je<arguments.length;je++)le[je]=arguments[je];for(var Qe=le[0],br=1;br<le.length;br++){var Qr=le[br];D(Qr)&&(Qr=Qr.prototype),zo(Qe.prototype,Qr)}},Bo=xs,es=function Oe(le){if(typeof le!="object"||le===null)return le;var je;if(I(le)){je=[];for(var Qe=0,br=le.length;Qe<br;Qe++)typeof le[Qe]=="object"&&le[Qe]!=null?je[Qe]=Oe(le[Qe]):je[Qe]=le[Qe]}else{je={};for(var Qr in le)typeof le[Qr]=="object"&&le[Qr]!=null?je[Qr]=Oe(le[Qr]):je[Qr]=le[Qr]}return je},zs=es;function Pl(Oe,le,je){var Qe;return function(){var br=this,Qr=arguments,ta=function(){Qe=null,je||Oe.apply(br,Qr)},Ja=je&&!Qe;clearTimeout(Qe),Qe=setTimeout(ta,le),Ja&&Oe.apply(br,Qr)}}var el=Pl,ys=function(Oe,le){if(!D(Oe))throw new TypeError("Expected a function");var je=function Qe(){for(var br=[],Qr=0;Qr<arguments.length;Qr++)br[Qr]=arguments[Qr];var ta=le?le.apply(this,br):br[0],Ja=Qe.cache;if(Ja.has(ta))return Ja.get(ta);var si=Oe.apply(this,br);return Ja.set(ta,si),si};return je.cache=new Map,je},rl=5;function H(Oe,le,je,Qe){je=je||0,Qe=Qe||rl;for(var br in le)if(le.hasOwnProperty(br)){var Qr=le[br];Qr!==null&&st(Qr)?(st(Oe[br])||(Oe[br]={}),je<Qe?H(Oe[br],Qr,je+1,Qe):Oe[br]=le[br]):I(Qr)?(Oe[br]=[],Oe[br]=Oe[br].concat(Qr)):Qr!==void 0&&(Oe[br]=Qr)}}var At=function(le){for(var je=[],Qe=1;Qe<arguments.length;Qe++)je[Qe-1]=arguments[Qe];for(var br=0;br<je.length;br+=1)H(le,je[br]);return le},Jt=At,ne=function(le,je,Qe,br){D(je)||(Qe=je,je=le,le=function(){});var Qr=Object.create?function(Ja,si){return Object.create(Ja,{constructor:{value:si}})}:function(Ja,si){function No(){}No.prototype=Ja;var Es=new No;return Es.constructor=si,Es},ta=Qr(je.prototype,le);return le.prototype=zo(ta,le.prototype),le.superclass=Qr(je.prototype,je),zo(ta,Qe),zo(le,br),le},de=ne,xe=function(le,je){if(!i(le))return-1;var Qe=Array.prototype.indexOf;if(Qe)return Qe.call(le,je);for(var br=-1,Qr=0;Qr<le.length;Qr++)if(le[Qr]===je){br=Qr;break}return br},Le=xe,ze=Object.prototype.hasOwnProperty;function $e(Oe){if(N(Oe))return!0;if(i(Oe))return!Oe.length;var le=la(Oe);if(le==="Map"||le==="Set")return!Oe.size;if(_o(Oe))return!Object.keys(Oe).length;for(var je in Oe)if(ze.call(Oe,je))return!1;return!0}var nr=$e,rr=function Oe(le,je){if(le===je)return!0;if(!le||!je||Wt(le)||Wt(je))return!1;if(i(le)||i(je)){if(le.length!==je.length)return!1;for(var Qe=!0,br=0;br<le.length&&(Qe=Oe(le[br],je[br]),!!Qe);br++);return Qe}if(nt(le)||nt(je)){var Qr=Object.keys(le),ta=Object.keys(je);if(Qr.length!==ta.length)return!1;for(var Qe=!0,br=0;br<Qr.length&&(Qe=Oe(le[Qr[br]],je[Qr[br]]),!!Qe);br++);return Qe}return!1},Ir=rr,Pr=function(Oe,le,je){return D(je)?!!je(Oe,le):Ir(Oe,le)},Or=function(le,je){if(!i(le))return le;for(var Qe=[],br=0;br<le.length;br++){var Qr=le[br];Qe.push(je(Qr,br))}return Qe},Zr=Or,ln=function(le){return le},Dr=function(Oe,le){le===void 0&&(le=ln);var je={};return G(Oe)&&!N(Oe)&&Object.keys(Oe).forEach(function(Qe){je[Qe]=le(Oe[Qe],Qe)}),je},In=function(Oe,le,je){for(var Qe=0,br=Wt(le)?le.split("."):le;Oe&&Qe<br.length;)Oe=Oe[br[Qe++]];return Oe===void 0||Qe<br.length?je:Oe},xa=function(Oe,le,je){var Qe=Oe,br=Wt(le)?le.split("."):le;return br.forEach(function(Qr,ta){ta<br.length-1?(G(Qe[Qr])||(Qe[Qr]=Nn(br[ta+1])?[]:{}),Qe=Qe[Qr]):Qe[Qr]=je}),Oe},Yn=Object.prototype.hasOwnProperty,Jn=function(Oe,le){if(Oe===null||!st(Oe))return{};var je={};return z(le,function(Qe){Yn.call(Oe,Qe)&&(je[Qe]=Oe[Qe])}),je},fa=function(Oe,le){return lt(Oe,function(je,Qe,br){return le.includes(br)||(je[br]=Qe),je},{})},ua=function(Oe,le,je){var Qe,br,Qr,ta,Ja=0;je||(je={});var si=function(){Ja=je.leading===!1?0:Date.now(),Qe=null,ta=Oe.apply(br,Qr),Qe||(br=Qr=null)},No=function(){var So=Date.now();!Ja&&je.leading===!1&&(Ja=So);var Ms=le-(So-Ja);return br=this,Qr=arguments,Ms<=0||Ms>le?(Qe&&(clearTimeout(Qe),Qe=null),Ja=So,ta=Oe.apply(br,Qr),Qe||(br=Qr=null)):!Qe&&je.trailing!==!1&&(Qe=setTimeout(si,Ms)),ta};return No.cancel=function(){clearTimeout(Qe),Ja=0,Qe=br=Qr=null},No},Ea=function(Oe){return i(Oe)?Array.prototype.slice.call(Oe):[]},ei={},bi=function(Oe){return Oe=Oe||"g",ei[Oe]?ei[Oe]+=1:ei[Oe]=1,Oe+ei[Oe]},Rn=function(){},mn=function(Oe){return Oe};function oi(Oe){return N(Oe)?0:i(Oe)?Oe.length:Object.keys(Oe).length}var za=function(){function Oe(){this.map={}}return Oe.prototype.has=function(le){return this.map[le]!==void 0},Oe.prototype.get=function(le,je){var Qe=this.map[le];return Qe===void 0?je:Qe},Oe.prototype.set=function(le,je){this.map[le]=je},Oe.prototype.clear=function(){this.map={}},Oe.prototype.delete=function(le){delete this.map[le]},Oe.prototype.size=function(){return Object.keys(this.map).length},Oe}(),pa=za},jsAY:function(Ut,L,a){"use strict";var h=this&&this.__spreadArrays||function(){for(var b=0,g=0,E=arguments.length;g<E;g++)b+=arguments[g].length;for(var D=Array(b),p=0,g=0;g<E;g++)for(var N=arguments[g],I=0,G=N.length;I<G;I++,p++)D[p]=N[I];return D};Object.defineProperty(L,"__esModule",{value:!0}),L.resolveInstance=void 0;var i=a("JIc3"),O=a("TKZu"),x=a("4b80");function C(b,g,E){var D=g.filter(function(N){return N.target!==null&&N.target.type===O.TargetTypeEnum.ClassProperty}),p=D.map(E);return D.forEach(function(N,I){var G="";G=N.target.name.value();var W=p[I];b[G]=W}),b}function A(b,g){return new(b.bind.apply(b,h([void 0],g)))}function S(b,g){if(Reflect.hasMetadata(x.POST_CONSTRUCT,b)){var E=Reflect.getMetadata(x.POST_CONSTRUCT,b);try{g[E.value]()}catch(D){throw new Error(i.POST_CONSTRUCT_ERROR(b.name,D.message))}}}function M(b,g,E){var D=null;if(g.length>0){var p=g.filter(function(I){return I.target!==null&&I.target.type===O.TargetTypeEnum.ConstructorArgument}),N=p.map(E);D=A(b,N),D=C(D,g,E)}else D=new b;return S(b,D),D}L.resolveInstance=M},jsfD:function(Ut,L,a){"use strict";a.r(L),a.d(L,"version",function(){return W});var h=a("YCma");a.d(L,"PathUtil",function(){return h});var i=a("bEnI"),O=a.n(i);for(var x in i)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(x)<0&&function(z){a.d(L,z,function(){return i[z]})}(x);var C=a("QG4h"),A=a.n(C);for(var x in C)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(x)<0&&function(w){a.d(L,w,function(){return C[w]})}(x);var S=a("4fVK");a.d(L,"Event",function(){return S.a});var M=a("0R1f");a.d(L,"Base",function(){return M.a});var b=a("nEL3");a.d(L,"AbstractCanvas",function(){return b.a});var g=a("70Z/");a.d(L,"AbstractGroup",function(){return g.a});var E=a("fsSc");a.d(L,"AbstractShape",function(){return E.a});var D=a("mTwr");a.d(L,"getBBoxMethod",function(){return D.a});var p=a("kXzl");a.d(L,"getTextHeight",function(){return p.b}),a.d(L,"assembleFont",function(){return p.a});var N=a("MOSd");a.d(L,"isAllowCapture",function(){return N.b});var I=a("DdnP");a.d(L,"multiplyVec2",function(){return I.c}),a.d(L,"invert",function(){return I.a});var G=a("TuJa");a.d(L,"getOffScreenContext",function(){return G.a});var W="0.5.8"},"k+AY":function(Ut,L,a){"use strict";a.d(L,"a",function(){return i});var h=null;function i(){if(!h){var O=document.createElement("canvas");O.width=1,O.height=1,h=O.getContext("2d")}return h}},k7N2:function(Ut,L,a){var h=a("m9sd"),i=a("rGlR");function O(x){return h(x,i(x))}Ut.exports=O},kDK3:function(Ut,L,a){"use strict";Ut.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},kGri:function(Ut,L){Ut.exports=a;function a(h,i){return h[0]===i[0]&&h[1]===i[1]}},kXzl:function(Ut,L,a){"use strict";a.d(L,"b",function(){return O}),a.d(L,"c",function(){return C}),a.d(L,"a",function(){return A});var h=a("MOSd"),i=a("TuJa");function O(S,M,b){var g=1;if(Object(h.h)(S)&&(g=S.split(`
`).length),g>1){var E=x(M,b);return M*g+E*(g-1)}return M}function x(S,M){return M?M-S:S*.14}function C(S,M){var b=Object(i.a)(),g=0;if(Object(h.e)(S)||S==="")return g;if(b.save(),b.font=M,Object(h.h)(S)&&S.includes(`
`)){var E=S.split(`
`);Object(h.a)(E,function(D){var p=b.measureText(D).width;g<p&&(g=p)})}else g=b.measureText(S).width;return b.restore(),g}function A(S){var M=S.fontSize,b=S.fontFamily,g=S.fontWeight,E=S.fontStyle,D=S.fontVariant;return[E,D,g,M+"px",b].join(" ").trim()}},"kr+H":function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("43gi").Graph,O=a("9xKD").slack;Ut.exports=x;function x(M){var b=new i({directed:!1}),g=M.nodes()[0],E=M.nodeCount();b.setNode(g,{});for(var D,p;C(b,M)<E;)D=A(b,M),p=b.hasNode(D.v)?O(M,D):-O(M,D),S(b,M,p);return b}function C(M,b){function g(E){h.forEach(b.nodeEdges(E),function(D){var p=D.v,N=E===p?D.w:p;!M.hasNode(N)&&!O(b,D)&&(M.setNode(N,{}),M.setEdge(E,N,{}),g(N))})}return h.forEach(M.nodes(),g),M.nodeCount()}function A(M,b){return h.minBy(b.edges(),function(g){if(M.hasNode(g.v)!==M.hasNode(g.w))return O(b,g)})}function S(M,b,g){h.forEach(M.nodes(),function(E){b.node(E).rank+=g})}},"l/Sb":function(Ut,L,a){"use strict";a.r(L),a.d(L,"version",function(){return A});var h=a("ozhX");a.d(L,"Shape",function(){return h});var i=a("jsfD");for(var O in i)["default","Canvas","Group","Shape","version"].indexOf(O)<0&&function(S){a.d(L,S,function(){return i[S]})}(O);var x=a("5RCt");a.d(L,"Canvas",function(){return x.a});var C=a("CyRS");a.d(L,"Group",function(){return C.a});var A="0.5.6"},l0EA:function(Ut,L){function a(h,i,O){for(var x=-1,C=h.length,A=i.length,S={};++x<C;){var M=x<A?i[x]:void 0;O(S,h[x],M)}return S}Ut.exports=a},lAK3:function(Ut,L,a){"use strict";a.d(L,"a",function(){return M});var h=a("J+IK"),i=a("d38q"),O=a("N5bZ"),x=a("cnAf"),C=a("jg4I"),A={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(g,E){return""+Object(C.s)(E,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},S={appendPadding:2,tooltip:Object(h.a)({},A),animation:{}},M=function(b){Object(h.c)(g,b);function g(){var E=b!==null&&b.apply(this,arguments)||this;return E.type="tiny-column",E}return g.getDefaultOptions=function(){return S},g.prototype.changeData=function(E){this.updateOption({data:E});var D=this,p=D.chart,N=D.options;Object(x.b)({chart:p,options:N}),p.changeData(Object(O.a)(E))},g.prototype.getDefaultOptions=function(){return g.getDefaultOptions()},g.prototype.getSchemaAdaptor=function(){return x.a},g}(i.b)},lOIa:function(Ut,L,a){var h=a("c2a8");Ut.exports={Graph:h.Graph,json:a("IJeR"),alg:a("iuKI"),version:h.version}},lWQu:function(Ut,L,a){"use strict";var h=this&&this.__spreadArrays||function(){for(var I=0,G=0,W=arguments.length;G<W;G++)I+=arguments[G].length;for(var z=Array(I),w=0,G=0;G<W;G++)for(var T=arguments[G],B=0,V=T.length;B<V;B++,w++)z[w]=T[B];return z};Object.defineProperty(L,"__esModule",{value:!0}),L.getFunctionName=L.getBaseClassDependencyCount=L.getDependencies=void 0;var i=a("eavU"),O=a("JIc3"),x=a("TKZu"),C=a("4b80"),A=a("qagQ");Object.defineProperty(L,"getFunctionName",{enumerable:!0,get:function(){return A.getFunctionName}});var S=a("KzWp");function M(I,G){var W=A.getFunctionName(G),z=b(I,W,G,!1);return z}L.getDependencies=M;function b(I,G,W,z){var w=I.getConstructorMetadata(W),T=w.compilerGeneratedMetadata;if(T===void 0){var B=O.MISSING_INJECTABLE_ANNOTATION+" "+G+".";throw new Error(B)}var V=w.userGeneratedMetadata,$=Object.keys(V),nt=W.length===0&&$.length>0,at=nt?$.length:W.length,st=E(z,G,T,V,at),tt=D(I,W),Q=h(st,tt);return Q}function g(I,G,W,z,w){var T=w[I.toString()]||[],B=N(T),V=B.unmanaged!==!0,$=z[I],nt=B.inject||B.multiInject;if($=nt||$,$ instanceof i.LazyServiceIdentifer&&($=$.unwrap()),V){var at=$===Object,st=$===Function,tt=$===void 0,Q=at||st||tt;if(!G&&Q){var Z=O.MISSING_INJECT_ANNOTATION+" argument "+I+" in class "+W+".";throw new Error(Z)}var et=new S.Target(x.TargetTypeEnum.ConstructorArgument,B.targetName,$);return et.metadata=T,et}return null}function E(I,G,W,z,w){for(var T=[],B=0;B<w;B++){var V=B,$=g(V,I,G,W,z);$!==null&&T.push($)}return T}function D(I,G){for(var W=I.getPropertiesMetadata(G),z=[],w=Object.keys(W),T=0,B=w;T<B.length;T++){var V=B[T],$=W[V],nt=N(W[V]),at=nt.targetName||V,st=nt.inject||nt.multiInject,tt=new S.Target(x.TargetTypeEnum.ClassProperty,at,st);tt.metadata=$,z.push(tt)}var Q=Object.getPrototypeOf(G.prototype).constructor;if(Q!==Object){var Z=D(I,Q);z=h(z,Z)}return z}function p(I,G){var W=Object.getPrototypeOf(G.prototype).constructor;if(W!==Object){var z=A.getFunctionName(W),w=b(I,z,W,!0),T=w.map(function($){return $.metadata.filter(function(nt){return nt.key===C.UNMANAGED_TAG})}),B=[].concat.apply([],T).length,V=w.length-B;return V>0?V:p(I,W)}else return 0}L.getBaseClassDependencyCount=p;function N(I){var G={};return I.forEach(function(W){G[W.key.toString()]=W.value}),{inject:G[C.INJECT_TAG],multiInject:G[C.MULTI_INJECT_TAG],targetName:G[C.NAME_TAG],unmanaged:G[C.UNMANAGED_TAG]}}},m0YO:function(Ut,L){},m8xh:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"b",function(){return S}),a.d(L,"c",function(){return g}),a.d(L,"d",function(){return D}),a.d(L,"e",function(){return N});function h(I,G,W){if(I){if(typeof I.addEventListener=="function")return I.addEventListener(G,W,!1),{remove:function(){I.removeEventListener(G,W,!1)}};if(typeof I.attachEvent=="function")return I.attachEvent("on"+G,W),{remove:function(){I.detachEvent("on"+G,W)}}}}var i,O,x,C;function A(){i=document.createElement("table"),O=document.createElement("tr"),x=/^\s*<(\w+|!)[^>]*>/,C={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:O,th:O,"*":document.createElement("div")}}function S(I){i||A();var G=x.test(I)&&RegExp.$1;(!G||!(G in C))&&(G="*");var W=C[G];I=I.replace(/(^\s*)|(\s*$)/g,""),W.innerHTML=""+I;var z=W.childNodes[0];return W.removeChild(z),z}function M(I,G,W){var z;try{z=window.getComputedStyle?window.getComputedStyle(I,null)[G]:I.style[G]}catch(w){}finally{z=z===void 0?W:z}return z}function b(I,G){var W=M(I,"height",G);return W==="auto"&&(W=I.offsetHeight),parseFloat(W)}function g(I,G){var W=b(I,G),z=parseFloat(M(I,"borderTopWidth"))||0,w=parseFloat(M(I,"paddingTop"))||0,T=parseFloat(M(I,"paddingBottom"))||0,B=parseFloat(M(I,"borderBottomWidth"))||0,V=parseFloat(M(I,"marginTop"))||0,$=parseFloat(M(I,"marginBottom"))||0;return W+z+B+w+T+V+$}function E(I,G){var W=M(I,"width",G);return W==="auto"&&(W=I.offsetWidth),parseFloat(W)}function D(I,G){var W=E(I,G),z=parseFloat(M(I,"borderLeftWidth"))||0,w=parseFloat(M(I,"paddingLeft"))||0,T=parseFloat(M(I,"paddingRight"))||0,B=parseFloat(M(I,"borderRightWidth"))||0,V=parseFloat(M(I,"marginRight"))||0,$=parseFloat(M(I,"marginLeft"))||0;return W+z+B+w+T+$+V}function p(){return window.devicePixelRatio?window.devicePixelRatio:2}function N(I,G){if(I)for(var W in G)G.hasOwnProperty(W)&&(I.style[W]=G[W]);return I}},mGAR:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.named=void 0;var h=a("4b80"),i=a("TSqk"),O=a("+QvE");function x(C){return function(A,S,M){var b=new i.Metadata(h.NAMED_TAG,C);typeof M=="number"?O.tagParameter(A,S,M,b):O.tagProperty(A,S,b)}}L.named=x},mTwr:function(Ut,L,a){"use strict";a.d(L,"a",function(){return O});var h=new Map;function i(T,B){h.set(T,B)}function O(T){return h.get(T)}var x=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.width,at=B.height;return{x:V,y:$,width:nt,height:at}},C=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.r;return{x:V-nt,y:$-nt,width:nt*2,height:nt*2}},A=a("9pBU");function S(T,B){return!T||!B?T||B:{minX:Math.min(T.minX,B.minX),minY:Math.min(T.minY,B.minY),maxX:Math.max(T.maxX,B.maxX),maxY:Math.max(T.maxY,B.maxY)}}function M(T,B){var V=T.get("startArrowShape"),$=T.get("endArrowShape"),nt=null,at=null;return V&&(nt=V.getCanvasBBox(),B=S(B,nt)),$&&(at=$.getCanvasBBox(),B=S(B,at)),B}var b=function(T){for(var B=T.attr(),V=B.points,$=[],nt=[],at=0;at<V.length;at++){var st=V[at];$.push(st[0]),nt.push(st[1])}var tt=A.f.getBBoxByArray($,nt),Q=tt.x,Z=tt.y,et=tt.width,ct=tt.height,mt={minX:Q,minY:Z,maxX:Q+et,maxY:Z+ct};return mt=M(T,mt),{x:mt.minX,y:mt.minY,width:mt.maxX-mt.minX,height:mt.maxY-mt.minY}},g=function(T){for(var B=T.attr(),V=B.points,$=[],nt=[],at=0;at<V.length;at++){var st=V[at];$.push(st[0]),nt.push(st[1])}return A.f.getBBoxByArray($,nt)},E=a("kXzl"),D=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.text,at=B.fontSize,st=B.lineHeight,tt=B.font;tt||(tt=Object(E.a)(B));var Q=Object(E.c)(nt,tt),Z;if(!Q)Z={x:V,y:$,width:0,height:0};else{var et=B.textAlign,ct=B.textBaseline,mt=Object(E.b)(nt,at,st),Ot={x:V,y:$-mt};et&&(et==="end"||et==="right"?Ot.x-=Q:et==="center"&&(Ot.x-=Q/2)),ct&&(ct==="top"?Ot.y+=mt:ct==="middle"&&(Ot.y+=mt/2)),Z={x:Ot.x,y:Ot.y,width:Q,height:mt}}return Z},p=a("WOt1"),N=a("jg4I");function I(T,B){for(var V=[],$=[],nt=[],at=0;at<T.length;at++){var st=T[at],tt=st.currentPoint,Q=st.params,Z=st.prePoint,et=void 0;switch(st.command){case"Q":et=A.e.box(Z[0],Z[1],Q[1],Q[2],Q[3],Q[4]);break;case"C":et=A.b.box(Z[0],Z[1],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6]);break;case"A":var ct=st.arcParams;et=A.a.box(ct.cx,ct.cy,ct.rx,ct.ry,ct.xRotation,ct.startAngle,ct.endAngle);break;default:V.push(tt[0]),$.push(tt[1]);break}et&&(st.box=et,V.push(et.x,et.x+et.width),$.push(et.y,et.y+et.height)),B&&(st.command==="L"||st.command==="M")&&st.prePoint&&st.nextPoint&&nt.push(st)}V=V.filter(function(zt){return!Number.isNaN(zt)}),$=$.filter(function(zt){return!Number.isNaN(zt)});var mt=Object(N.Z)(V),Ot=Object(N.Z)($),it=Object(N.W)(V),xt=Object(N.W)($);if(nt.length===0)return{x:mt,y:Ot,width:it-mt,height:xt-Ot};for(var at=0;at<nt.length;at++){var st=nt[at],tt=st.currentPoint,It=void 0;tt[0]===mt?(It=G(st,B),mt=mt-It.xExtra):tt[0]===it&&(It=G(st,B),it=it+It.xExtra),tt[1]===Ot?(It=G(st,B),Ot=Ot-It.yExtra):tt[1]===xt&&(It=G(st,B),xt=xt+It.yExtra)}return{x:mt,y:Ot,width:it-mt,height:xt-Ot}}function G(T,B){var V=T.prePoint,$=T.currentPoint,nt=T.nextPoint,at=Math.pow($[0]-V[0],2)+Math.pow($[1]-V[1],2),st=Math.pow($[0]-nt[0],2)+Math.pow($[1]-nt[1],2),tt=Math.pow(V[0]-nt[0],2)+Math.pow(V[1]-nt[1],2),Q=Math.acos((at+st-tt)/(2*Math.sqrt(at)*Math.sqrt(st)));if(!Q||Math.sin(Q)===0||Object(N.L)(Q,0))return{xExtra:0,yExtra:0};var Z=Math.abs(Math.atan2(nt[1]-$[1],nt[0]-$[0])),et=Math.abs(Math.atan2(nt[0]-$[0],nt[1]-$[1]));Z=Z>Math.PI/2?Math.PI-Z:Z,et=et>Math.PI/2?Math.PI-et:et;var ct={xExtra:Math.cos(Q/2-Z)*(B/2*(1/Math.sin(Q/2)))-B/2||0,yExtra:Math.cos(et-Q/2)*(B/2*(1/Math.sin(Q/2)))-B/2||0};return ct}var W=function(T){var B=T.attr(),V=B.path,$=B.stroke,nt=$?B.lineWidth:0,at=T.get("segments")||Object(p.e)(V),st=I(at,nt),tt=st.x,Q=st.y,Z=st.width,et=st.height,ct={minX:tt,minY:Q,maxX:tt+Z,maxY:Q+et};return ct=M(T,ct),{x:ct.minX,y:ct.minY,width:ct.maxX-ct.minX,height:ct.maxY-ct.minY}},z=function(T){var B=T.attr(),V=B.x1,$=B.y1,nt=B.x2,at=B.y2,st=Math.min(V,nt),tt=Math.max(V,nt),Q=Math.min($,at),Z=Math.max($,at),et={minX:st,maxX:tt,minY:Q,maxY:Z};return et=M(T,et),{x:et.minX,y:et.minY,width:et.maxX-et.minX,height:et.maxY-et.minY}},w=function(T){var B=T.attr(),V=B.x,$=B.y,nt=B.rx,at=B.ry;return{x:V-nt,y:$-at,width:nt*2,height:at*2}};i("rect",x),i("image",x),i("circle",C),i("marker",C),i("polyline",b),i("polygon",g),i("text",D),i("path",W),i("line",z),i("ellipse",w)},mX1U:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("qfLv"),O=a("Lkm0"),x=a("08EK"),C=a("jg4I"),A=a("dAAy"),S=a("Hgj1"),M=a("yK/m"),b=a("qh6B"),g=a("riA0"),E=function(it){return["fill","stroke","fillStyle","strokeStyle"].includes(it)},D=function(it){return/^[r,R,L,l]{1}[\s]*\(/.test(it)},p=[1,0,0,0,1,0,0,0,1];function N(Ot,it,xt){var It={},zt=it.fromAttrs,Kt=it.toAttrs;if(!Ot.destroyed){var Yt;for(var bt in Kt)if(!Object(C.G)(zt[bt],Kt[bt]))if(bt==="path"){var ft=Kt[bt],dt=zt[bt];ft.length>dt.length?(ft=g.c(Kt[bt]),dt=g.c(zt[bt]),dt=g.a(dt,ft),dt=g.b(dt,ft),it.fromAttrs.path=dt,it.toAttrs.path=ft):it.pathFormatted||(ft=g.c(Kt[bt]),dt=g.c(zt[bt]),dt=g.b(dt,ft),it.fromAttrs.path=dt,it.toAttrs.path=ft,it.pathFormatted=!0),It[bt]=[];for(var ot=0;ot<ft.length;ot++){for(var Mt=ft[ot],Nt=dt[ot],Pt=[],J=0;J<Mt.length;J++)Object(C.K)(Mt[J])&&Nt&&Object(C.K)(Nt[J])?(Yt=Object(M.a)(Nt[J],Mt[J]),Pt.push(Yt(xt))):Pt.push(Mt[J]);It[bt].push(Pt)}}else if(bt==="matrix"){var X=Object(b.a)(zt[bt]||p,Kt[bt]||p),vt=X(xt);It[bt]=vt}else E(bt)&&D(Kt[bt])?It[bt]=Kt[bt]:Object(C.H)(Kt[bt])||(Yt=Object(M.a)(zt[bt],Kt[bt]),It[bt]=Yt(xt));Ot.attr(It)}}function I(Ot,it,xt){var It=it.startTime,zt=it.delay;if(xt<It+zt||it._paused)return!1;var Kt,Yt=it.duration,bt=it.easing;if(xt=xt-It-it.delay,it.repeat)Kt=xt%Yt/Yt,Kt=S[bt](Kt);else if(Kt=xt/Yt,Kt<1)Kt=S[bt](Kt);else return it.onFrame?Ot.attr(it.onFrame(1)):Ot.attr(it.toAttrs),!0;if(it.onFrame){var ft=it.onFrame(Kt);Ot.attr(ft)}else N(Ot,it,Kt);return!1}var G=function(){function Ot(it){this.animators=[],this.current=0,this.timer=null,this.canvas=it}return Ot.prototype.initTimer=function(){var it=this,xt=!1,It,zt,Kt;this.timer=A.a(function(Yt){if(it.current=Yt,it.animators.length>0){for(var bt=it.animators.length-1;bt>=0;bt--){if(It=it.animators[bt],It.destroyed){it.removeAnimator(bt);continue}if(!It.isAnimatePaused()){zt=It.get("animations");for(var ft=zt.length-1;ft>=0;ft--)Kt=zt[ft],xt=I(It,Kt,Yt),xt&&(zt.splice(ft,1),xt=!1,Kt.callback&&Kt.callback())}zt.length===0&&it.removeAnimator(bt)}var dt=it.canvas.get("autoDraw");dt||it.canvas.draw()}})},Ot.prototype.addAnimator=function(it){this.animators.push(it)},Ot.prototype.removeAnimator=function(it){this.animators.splice(it,1)},Ot.prototype.isAnimating=function(){return!!this.animators.length},Ot.prototype.stop=function(){this.timer&&this.timer.stop()},Ot.prototype.stopAllAnimations=function(it){it===void 0&&(it=!0),this.animators.forEach(function(xt){xt.stopAnimate(it)}),this.animators=[],this.canvas.draw()},Ot.prototype.getTime=function(){return this.current},Ot}(),W=G,z=a("8e3m"),w=40,T=0,B=":",V=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function $(Ot,it){for(var xt in Ot)if(Ot.hasOwnProperty(xt)&&xt.indexOf(B+it)>=0)return!0;return!1}function nt(Ot,it,xt){xt.name=it,xt.target=Ot,xt.currentTarget=Ot,xt.delegateTarget=Ot,Ot.emit(it,xt)}function at(Ot,it,xt){if(xt.bubbles){var It=void 0,zt=!1;if(it==="mouseenter"?(It=xt.fromShape,zt=!0):it==="mouseleave"&&(zt=!0,It=xt.toShape),Ot.isCanvas()&&zt)return;if(It&&Object(x.g)(Ot,It)){xt.bubbles=!1;return}xt.name=it,xt.currentTarget=Ot,xt.delegateTarget=Ot,Ot.emit(it,xt)}}var st=function(){function Ot(it){var xt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(It){var zt=It.type;xt._triggerEvent(zt,It)},this._onDocumentMove=function(It){var zt=xt.canvas,Kt=zt.get("el");if(Kt!==It.target&&(xt.dragging||xt.currentShape)){var Yt=xt._getPointInfo(It);xt.dragging&&xt._emitEvent("drag",It,Yt,xt.draggingShape)}},this._onDocumentMouseUp=function(It){var zt=xt.canvas,Kt=zt.get("el");if(Kt!==It.target&&xt.dragging){var Yt=xt._getPointInfo(It);xt.draggingShape&&xt._emitEvent("drop",It,Yt,null),xt._emitEvent("dragend",It,Yt,xt.draggingShape),xt._afterDrag(xt.draggingShape,Yt,It)}},this.canvas=it.canvas}return Ot.prototype.init=function(){this._bindEvents()},Ot.prototype._bindEvents=function(){var it=this,xt=this.canvas.get("el");Object(x.a)(V,function(It){xt.addEventListener(It,it._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Ot.prototype._clearEvents=function(){var it=this,xt=this.canvas.get("el");Object(x.a)(V,function(It){xt.removeEventListener(It,it._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Ot.prototype._getEventObj=function(it,xt,It,zt,Kt,Yt){var bt=new z.a(it,xt);return bt.fromShape=Kt,bt.toShape=Yt,bt.x=It.x,bt.y=It.y,bt.clientX=It.clientX,bt.clientY=It.clientY,bt.propagationPath.push(zt),bt},Ot.prototype._getShape=function(it,xt){return this.canvas.getShape(it.x,it.y,xt)},Ot.prototype._getPointInfo=function(it){var xt=this.canvas,It=xt.getClientByEvent(it),zt=xt.getPointByEvent(it);return{x:zt.x,y:zt.y,clientX:It.x,clientY:It.y}},Ot.prototype._triggerEvent=function(it,xt){var It=this._getPointInfo(xt),zt=this._getShape(It,xt),Kt=this["_on"+it],Yt=!1;if(Kt)Kt.call(this,It,zt,xt);else{var bt=this.currentShape;it==="mouseenter"||it==="dragenter"||it==="mouseover"?(this._emitEvent(it,xt,It,null,null,zt),zt&&this._emitEvent(it,xt,It,zt,null,zt),it==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",xt,It,null)):it==="mouseleave"||it==="dragleave"||it==="mouseout"?(Yt=!0,bt&&this._emitEvent(it,xt,It,bt,bt,null),this._emitEvent(it,xt,It,null,bt,null),it==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",xt,It,null)):this._emitEvent(it,xt,It,zt,null,null)}if(Yt||(this.currentShape=zt),zt&&!zt.get("destroyed")){var ft=this.canvas,dt=ft.get("el");dt.style.cursor=zt.attr("cursor")||ft.get("cursor")}},Ot.prototype._onmousedown=function(it,xt,It){It.button===T&&(this.mousedownShape=xt,this.mousedownPoint=it,this.mousedownTimeStamp=It.timeStamp),this._emitEvent("mousedown",It,it,xt,null,null)},Ot.prototype._emitMouseoverEvents=function(it,xt,It,zt){var Kt=this.canvas.get("el");It!==zt&&(It&&(this._emitEvent("mouseout",it,xt,It,It,zt),this._emitEvent("mouseleave",it,xt,It,It,zt),(!zt||zt.get("destroyed"))&&(Kt.style.cursor=this.canvas.get("cursor"))),zt&&(this._emitEvent("mouseover",it,xt,zt,It,zt),this._emitEvent("mouseenter",it,xt,zt,It,zt)))},Ot.prototype._emitDragoverEvents=function(it,xt,It,zt,Kt){zt?(zt!==It&&(It&&this._emitEvent("dragleave",it,xt,It,It,zt),this._emitEvent("dragenter",it,xt,zt,It,zt)),Kt||this._emitEvent("dragover",it,xt,zt)):It&&this._emitEvent("dragleave",it,xt,It,It,zt),Kt&&this._emitEvent("dragover",it,xt,zt)},Ot.prototype._afterDrag=function(it,xt,It){it&&(it.set("capture",!0),this.draggingShape=null),this.dragging=!1;var zt=this._getShape(xt,It);zt!==it&&this._emitMouseoverEvents(It,xt,it,zt),this.currentShape=zt},Ot.prototype._onmouseup=function(it,xt,It){if(It.button===T){var zt=this.draggingShape;this.dragging?(zt&&this._emitEvent("drop",It,it,xt),this._emitEvent("dragend",It,it,zt),this._afterDrag(zt,it,It)):(this._emitEvent("mouseup",It,it,xt),xt===this.mousedownShape&&this._emitEvent("click",It,it,xt),this.mousedownShape=null,this.mousedownPoint=null)}},Ot.prototype._ondragover=function(it,xt,It){It.preventDefault();var zt=this.currentShape;this._emitDragoverEvents(It,it,zt,xt,!0)},Ot.prototype._onmousemove=function(it,xt,It){var zt=this.canvas,Kt=this.currentShape,Yt=this.draggingShape;if(this.dragging)Yt&&this._emitDragoverEvents(It,it,Kt,xt,!1),this._emitEvent("drag",It,it,Yt);else{var bt=this.mousedownPoint;if(bt){var ft=this.mousedownShape,dt=It.timeStamp,ot=dt-this.mousedownTimeStamp,Mt=bt.clientX-it.clientX,Nt=bt.clientY-it.clientY,Pt=Mt*Mt+Nt*Nt;ot>120||Pt>w?ft&&ft.get("draggable")?(Yt=this.mousedownShape,Yt.set("capture",!1),this.draggingShape=Yt,this.dragging=!0,this._emitEvent("dragstart",It,it,Yt),this.mousedownShape=null,this.mousedownPoint=null):!ft&&zt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",It,it,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(It,it,Kt,xt),this._emitEvent("mousemove",It,it,xt)):(this._emitMouseoverEvents(It,it,Kt,xt),this._emitEvent("mousemove",It,it,xt))}else this._emitMouseoverEvents(It,it,Kt,xt),this._emitEvent("mousemove",It,it,xt)}},Ot.prototype._emitEvent=function(it,xt,It,zt,Kt,Yt){var bt=this._getEventObj(it,xt,It,zt,Kt,Yt);if(zt){bt.shape=zt,nt(zt,it,bt);for(var ft=zt.getParent();ft;)ft.emitDelegation(it,bt),bt.propagationStopped||at(ft,it,bt),bt.propagationPath.push(ft),ft=ft.getParent()}else{var dt=this.canvas;nt(dt,it,bt)}},Ot.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Ot}(),tt=st,Q="px",Z=Object(i.a)(),et=Z&&Z.name==="firefox",ct=function(Ot){Object(h.c)(it,Ot);function it(xt){var It=Ot.call(this,xt)||this;return It.initContainer(),It.initDom(),It.initEvents(),It.initTimeline(),It}return it.prototype.getDefaultCfg=function(){var xt=Ot.prototype.getDefaultCfg.call(this);return xt.cursor="default",xt.supportCSSTransform=!1,xt},it.prototype.initContainer=function(){var xt=this.get("container");Object(x.h)(xt)&&(xt=document.getElementById(xt),this.set("container",xt))},it.prototype.initDom=function(){var xt=this.createDom();this.set("el",xt);var It=this.get("container");It.appendChild(xt),this.setDOMSize(this.get("width"),this.get("height"))},it.prototype.initEvents=function(){var xt=new tt({canvas:this});xt.init(),this.set("eventController",xt)},it.prototype.initTimeline=function(){var xt=new W(this);this.set("timeline",xt)},it.prototype.setDOMSize=function(xt,It){var zt=this.get("el");x.c&&(zt.style.width=xt+Q,zt.style.height=It+Q)},it.prototype.changeSize=function(xt,It){this.setDOMSize(xt,It),this.set("width",xt),this.set("height",It),this.onCanvasChange("changeSize")},it.prototype.getRenderer=function(){return this.get("renderer")},it.prototype.getCursor=function(){return this.get("cursor")},it.prototype.setCursor=function(xt){this.set("cursor",xt);var It=this.get("el");x.c&&It&&(It.style.cursor=xt)},it.prototype.getPointByEvent=function(xt){var It=this.get("supportCSSTransform");if(It){if(et&&!Object(x.e)(xt.layerX)&&xt.layerX!==xt.offsetX)return{x:xt.layerX,y:xt.layerY};if(!Object(x.e)(xt.offsetX))return{x:xt.offsetX,y:xt.offsetY}}var zt=this.getClientByEvent(xt),Kt=zt.x,Yt=zt.y;return this.getPointByClient(Kt,Yt)},it.prototype.getClientByEvent=function(xt){var It=xt;return xt.touches&&(xt.type==="touchend"?It=xt.changedTouches[0]:It=xt.touches[0]),{x:It.clientX,y:It.clientY}},it.prototype.getPointByClient=function(xt,It){var zt=this.get("el"),Kt=zt.getBoundingClientRect();return{x:xt-Kt.left,y:It-Kt.top}},it.prototype.getClientByPoint=function(xt,It){var zt=this.get("el"),Kt=zt.getBoundingClientRect();return{x:xt+Kt.left,y:It+Kt.top}},it.prototype.draw=function(){},it.prototype.removeDom=function(){var xt=this.get("el");xt.parentNode.removeChild(xt)},it.prototype.clearEvents=function(){var xt=this.get("eventController");xt.destroy()},it.prototype.isCanvas=function(){return!0},it.prototype.getParent=function(){return null},it.prototype.destroy=function(){var xt=this.get("timeline");this.get("destroyed")||(this.clear(),xt&&xt.stop(),this.clearEvents(),this.removeDom(),Ot.prototype.destroy.call(this))},it}(O.a),mt=ct},mbOf:function(Ut,L,a){var h=a("ql+n");Ut.exports=i;function i(){this._arr=[],this._keyIndices={}}i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(O){return O.key})},i.prototype.has=function(O){return h.has(this._keyIndices,O)},i.prototype.priority=function(O){var x=this._keyIndices[O];if(x!==void 0)return this._arr[x].priority},i.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(O,x){var C=this._keyIndices;if(O=String(O),!h.has(C,O)){var A=this._arr,S=A.length;return C[O]=S,A.push({key:O,priority:x}),this._decrease(S),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var O=this._arr.pop();return delete this._keyIndices[O.key],this._heapify(0),O.key},i.prototype.decrease=function(O,x){var C=this._keyIndices[O];if(x>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+O+" Old: "+this._arr[C].priority+" New: "+x);this._arr[C].priority=x,this._decrease(C)},i.prototype._heapify=function(O){var x=this._arr,C=2*O,A=C+1,S=O;C<x.length&&(S=x[C].priority<x[S].priority?C:S,A<x.length&&(S=x[A].priority<x[S].priority?A:S),S!==O&&(this._swap(O,S),this._heapify(S)))},i.prototype._decrease=function(O){for(var x=this._arr,C=x[O].priority,A;O!==0&&(A=O>>1,!(x[A].priority<C));)this._swap(O,A),O=A},i.prototype._swap=function(O,x){var C=this._arr,A=this._keyIndices,S=C[O],M=C[x];C[O]=M,C[x]=S,A[M.key]=O,A[S.key]=x}},mdrB:function(Ut,L,a){var h=a("hQ5t"),i=a("TIpG"),O=a("KmIr");function x(C){return function(A,S,M){var b=Object(A);if(!i(A)){var g=h(S,3);A=O(A),S=function(D){return g(b[D],D,b)}}var E=C(A,S,M);return E>-1?b[g?A[E]:E]:void 0}}Ut.exports=x},"me+i":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.METADATA_KEY=void 0;var h=a("4b80");L.METADATA_KEY=h;var i=a("ztQy");Object.defineProperty(L,"Container",{enumerable:!0,get:function(){return i.Container}});var O=a("TKZu");Object.defineProperty(L,"BindingScopeEnum",{enumerable:!0,get:function(){return O.BindingScopeEnum}}),Object.defineProperty(L,"BindingTypeEnum",{enumerable:!0,get:function(){return O.BindingTypeEnum}}),Object.defineProperty(L,"TargetTypeEnum",{enumerable:!0,get:function(){return O.TargetTypeEnum}});var x=a("4rFa");Object.defineProperty(L,"AsyncContainerModule",{enumerable:!0,get:function(){return x.AsyncContainerModule}}),Object.defineProperty(L,"ContainerModule",{enumerable:!0,get:function(){return x.ContainerModule}});var C=a("oxCo");Object.defineProperty(L,"injectable",{enumerable:!0,get:function(){return C.injectable}});var A=a("7og+");Object.defineProperty(L,"tagged",{enumerable:!0,get:function(){return A.tagged}});var S=a("mGAR");Object.defineProperty(L,"named",{enumerable:!0,get:function(){return S.named}});var M=a("eavU");Object.defineProperty(L,"inject",{enumerable:!0,get:function(){return M.inject}}),Object.defineProperty(L,"LazyServiceIdentifer",{enumerable:!0,get:function(){return M.LazyServiceIdentifer}});var b=a("Jw3O");Object.defineProperty(L,"optional",{enumerable:!0,get:function(){return b.optional}});var g=a("NAu8");Object.defineProperty(L,"unmanaged",{enumerable:!0,get:function(){return g.unmanaged}});var E=a("4GRf");Object.defineProperty(L,"multiInject",{enumerable:!0,get:function(){return E.multiInject}});var D=a("4Yl/");Object.defineProperty(L,"targetName",{enumerable:!0,get:function(){return D.targetName}});var p=a("J8W3");Object.defineProperty(L,"postConstruct",{enumerable:!0,get:function(){return p.postConstruct}});var N=a("27WW");Object.defineProperty(L,"MetadataReader",{enumerable:!0,get:function(){return N.MetadataReader}});var I=a("/LIz");Object.defineProperty(L,"id",{enumerable:!0,get:function(){return I.id}});var G=a("+QvE");Object.defineProperty(L,"decorate",{enumerable:!0,get:function(){return G.decorate}});var W=a("pWqc");Object.defineProperty(L,"traverseAncerstors",{enumerable:!0,get:function(){return W.traverseAncerstors}}),Object.defineProperty(L,"taggedConstraint",{enumerable:!0,get:function(){return W.taggedConstraint}}),Object.defineProperty(L,"namedConstraint",{enumerable:!0,get:function(){return W.namedConstraint}}),Object.defineProperty(L,"typeConstraint",{enumerable:!0,get:function(){return W.typeConstraint}});var z=a("qagQ");Object.defineProperty(L,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return z.getServiceIdentifierAsString}});var w=a("Ymew");Object.defineProperty(L,"multiBindToService",{enumerable:!0,get:function(){return w.multiBindToService}})},mtr9:function(Ut,L,a){"use strict";a.d(L,"a",function(){return I});var h=a("J+IK"),i=a("d38q"),O=a("jg4I"),x=a("ggto"),C=a("RF2d"),A=a("OM6K");function S(G){var W=G.data,z=G.xField,w=G.measureField,T=G.rangeField,B=G.targetField,V=G.layout,$=[],nt=[];W.forEach(function(tt,Q){var Z;tt[T].sort(function(et,ct){return et-ct}),tt[T].forEach(function(et,ct){var mt,Ot=ct===0?et:tt[T][ct]-tt[T][ct-1];$.push((mt={rKey:T+"_"+ct},mt[z]=z?tt[z]:String(Q),mt[T]=Ot,mt))}),tt[w].forEach(function(et,ct){var mt;$.push((mt={mKey:tt[w].length>1?w+"_"+ct:""+w},mt[z]=z?tt[z]:String(Q),mt[w]=et,mt))}),$.push((Z={tKey:""+B},Z[z]=z?tt[z]:String(Q),Z[B]=tt[B],Z)),nt.push(tt[T],tt[w],tt[B])});var at=Math.min.apply(Math,nt.flat(Infinity)),st=Math.max.apply(Math,nt.flat(Infinity));return at=at>0?0:at,V==="vertical"&&$.reverse(),{min:at,max:st,ds:$}}function M(G){var W=G.chart,z=G.options,w=z.bulletStyle,T=z.targetField,B=z.rangeField,V=z.measureField,$=z.xField,nt=z.color,at=z.layout,st=z.size,tt=z.label,Q=S(z),Z=Q.min,et=Q.max,ct=Q.ds;W.data(ct);var mt=Object(C.b)({},G,{options:{xField:$,yField:B,seriesField:"rKey",isStack:!0,label:Object(O.s)(tt,"range"),interval:{color:Object(O.s)(nt,"range"),style:Object(O.s)(w,"range"),size:Object(O.s)(st,"range")}}});Object(A.c)(mt),W.geometries[0].tooltip(!1);var Ot=Object(C.b)({},G,{options:{xField:$,yField:V,seriesField:"mKey",isStack:!0,label:Object(O.s)(tt,"measure"),interval:{color:Object(O.s)(nt,"measure"),style:Object(O.s)(w,"measure"),size:Object(O.s)(st,"measure")}}});Object(A.c)(Ot);var it=Object(C.b)({},G,{options:{xField:$,yField:T,seriesField:"tKey",label:Object(O.s)(tt,"target"),point:{color:Object(O.s)(nt,"target"),style:Object(O.s)(w,"target"),size:Object(O.H)(Object(O.s)(st,"target"))?function(xt){return Object(O.s)(st,"target")(xt)/2}:Object(O.s)(st,"target")/2,shape:at==="horizontal"?"line":"hyphen"}}});return Object(A.e)(it),at==="horizontal"&&W.coordinate().transpose(),Object(h.a)(Object(h.a)({},G),{ext:{data:{min:Z,max:et}}})}function b(G){var W,z,w=G.options,T=G.ext,B=w.xAxis,V=w.yAxis,$=w.targetField,nt=w.rangeField,at=w.measureField,st=w.xField,tt=T.data;return Object(C.e)(Object(x.f)((W={},W[st]=B,W[at]=V,W),(z={},z[at]={min:tt==null?void 0:tt.min,max:tt==null?void 0:tt.max},z[$]={sync:""+at},z[nt]={sync:""+at},z)))(G)}function g(G){var W=G.chart,z=G.options,w=z.xAxis,T=z.yAxis,B=z.xField,V=z.measureField,$=z.rangeField,nt=z.targetField;return W.axis(""+$,!1),W.axis(""+nt,!1),w===!1?W.axis(""+B,!1):W.axis(""+B,w),T===!1?W.axis(""+V,!1):W.axis(""+V,T),G}function E(G){var W=G.chart,z=G.options,w=z.legend;return W.removeInteraction("legend-filter"),W.legend(w),W.legend("rKey",!1),W.legend("mKey",!1),W.legend("tKey",!1),G}function D(G){var W=G.chart,z=G.options,w=z.label,T=z.measureField,B=z.targetField,V=z.rangeField,$=W.geometries,nt=$[0],at=$[1],st=$[2];return Object(O.s)(w,"range")?nt.label(""+V,Object(h.a)({layout:[{type:"limit-in-plot"}]},Object(C.u)(w.range))):nt.label(!1),Object(O.s)(w,"measure")?at.label(""+T,Object(h.a)({layout:[{type:"limit-in-plot"}]},Object(C.u)(w.measure))):at.label(!1),Object(O.s)(w,"target")?st.label(""+B,Object(h.a)({layout:[{type:"limit-in-plot"}]},Object(C.u)(w.target))):st.label(!1),G}function p(G){Object(C.e)(M,b,g,E,x.j,D,x.k,x.c,x.a)(G)}var N=Object(C.b)({},i.b.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),I=function(G){Object(h.c)(W,G);function W(){var z=G!==null&&G.apply(this,arguments)||this;return z.type="bullet",z}return W.getDefaultOptions=function(){return N},W.prototype.changeData=function(z){this.updateOption({data:z});var w=S(this.options),T=w.min,B=w.max,V=w.ds;b({options:this.options,ext:{data:{min:T,max:B}},chart:this.chart}),this.chart.changeData(V)},W.prototype.getSchemaAdaptor=function(){return p},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W}(i.b)},mxXC:function(Ut,L,a){var h=a("XSdR");Ut.exports=i;function i(O,x,C){var A={},S;h.forEach(C,function(M){for(var b=O.parent(M),g,E;b;){if(g=O.parent(b),g?(E=A[g],A[g]=b):(E=S,S=b),E&&E!==b){x.setEdge(E,b);return}b=g}})}},n9X1:function(Ut,L,a){"use strict";a.d(L,"b",function(){return O}),a.d(L,"c",function(){return C}),a.d(L,"a",function(){return A});var h=a("08EK"),i=a("k+AY");function O(S,M,b){var g=1;if(Object(h.h)(S)&&(g=S.split(`
`).length),g>1){var E=x(M,b);return M*g+E*(g-1)}return M}function x(S,M){return M?M-S:S*.14}function C(S,M){var b=Object(i.a)(),g=0;if(Object(h.e)(S)||S==="")return g;if(b.save(),b.font=M,Object(h.h)(S)&&S.includes(`
`)){var E=S.split(`
`);Object(h.a)(E,function(D){var p=b.measureText(D).width;g<p&&(g=p)})}else g=b.measureText(S).width;return b.restore(),g}function A(S){var M=S.fontSize,b=S.fontFamily,g=S.fontWeight,E=S.fontStyle,D=S.fontVariant;return[E,D,g,M+"px",b].join(" ").trim()}},nA9L:function(Ut,L,a){"use strict";a.r(L),a.d(L,"CONTAINER_CLASS",function(){return h}),a.d(L,"TITLE_CLASS",function(){return i}),a.d(L,"LIST_CLASS",function(){return O}),a.d(L,"LIST_ITEM_CLASS",function(){return x}),a.d(L,"MARKER_CLASS",function(){return C}),a.d(L,"VALUE_CLASS",function(){return A}),a.d(L,"NAME_CLASS",function(){return S}),a.d(L,"CROSSHAIR_X",function(){return M}),a.d(L,"CROSSHAIR_Y",function(){return b});var h="g2-tooltip",i="g2-tooltip-title",O="g2-tooltip-list",x="g2-tooltip-list-item",C="g2-tooltip-marker",A="g2-tooltip-value",S="g2-tooltip-name",M="g2-tooltip-crosshair-x",b="g2-tooltip-crosshair-y"},nEL3:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("qfLv"),O=a("qoD0"),x=a("MOSd"),C=a("jg4I"),A=a("dAAy"),S=a("Hgj1"),M=a("yK/m"),b=a("qh6B"),g=a("YCma"),E=function(it){return["fill","stroke","fillStyle","strokeStyle"].includes(it)},D=function(it){return/^[r,R,L,l]{1}[\s]*\(/.test(it)},p=[1,0,0,0,1,0,0,0,1];function N(Ot,it,xt){var It={},zt=it.fromAttrs,Kt=it.toAttrs;if(!Ot.destroyed){var Yt;for(var bt in Kt)if(!Object(C.G)(zt[bt],Kt[bt]))if(bt==="path"){var ft=Kt[bt],dt=zt[bt];ft.length>dt.length?(ft=g.parsePathString(Kt[bt]),dt=g.parsePathString(zt[bt]),dt=g.fillPathByDiff(dt,ft),dt=g.formatPath(dt,ft),it.fromAttrs.path=dt,it.toAttrs.path=ft):it.pathFormatted||(ft=g.parsePathString(Kt[bt]),dt=g.parsePathString(zt[bt]),dt=g.formatPath(dt,ft),it.fromAttrs.path=dt,it.toAttrs.path=ft,it.pathFormatted=!0),It[bt]=[];for(var ot=0;ot<ft.length;ot++){for(var Mt=ft[ot],Nt=dt[ot],Pt=[],J=0;J<Mt.length;J++)Object(C.K)(Mt[J])&&Nt&&Object(C.K)(Nt[J])?(Yt=Object(M.a)(Nt[J],Mt[J]),Pt.push(Yt(xt))):Pt.push(Mt[J]);It[bt].push(Pt)}}else if(bt==="matrix"){var X=Object(b.a)(zt[bt]||p,Kt[bt]||p),vt=X(xt);It[bt]=vt}else E(bt)&&D(Kt[bt])?It[bt]=Kt[bt]:Object(C.H)(Kt[bt])||(Yt=Object(M.a)(zt[bt],Kt[bt]),It[bt]=Yt(xt));Ot.attr(It)}}function I(Ot,it,xt){var It=it.startTime,zt=it.delay;if(xt<It+zt||it._paused)return!1;var Kt,Yt=it.duration,bt=it.easing;if(xt=xt-It-it.delay,it.repeat)Kt=xt%Yt/Yt,Kt=S[bt](Kt);else if(Kt=xt/Yt,Kt<1)Kt=S[bt](Kt);else return it.onFrame?Ot.attr(it.onFrame(1)):Ot.attr(it.toAttrs),!0;if(it.onFrame){var ft=it.onFrame(Kt);Ot.attr(ft)}else N(Ot,it,Kt);return!1}var G=function(){function Ot(it){this.animators=[],this.current=0,this.timer=null,this.canvas=it}return Ot.prototype.initTimer=function(){var it=this,xt=!1,It,zt,Kt;this.timer=A.a(function(Yt){if(it.current=Yt,it.animators.length>0){for(var bt=it.animators.length-1;bt>=0;bt--){if(It=it.animators[bt],It.destroyed){it.removeAnimator(bt);continue}if(!It.isAnimatePaused()){zt=It.get("animations");for(var ft=zt.length-1;ft>=0;ft--)Kt=zt[ft],xt=I(It,Kt,Yt),xt&&(zt.splice(ft,1),xt=!1,Kt.callback&&Kt.callback())}zt.length===0&&it.removeAnimator(bt)}var dt=it.canvas.get("autoDraw");dt||it.canvas.draw()}})},Ot.prototype.addAnimator=function(it){this.animators.push(it)},Ot.prototype.removeAnimator=function(it){this.animators.splice(it,1)},Ot.prototype.isAnimating=function(){return!!this.animators.length},Ot.prototype.stop=function(){this.timer&&this.timer.stop()},Ot.prototype.stopAllAnimations=function(it){it===void 0&&(it=!0),this.animators.forEach(function(xt){xt.stopAnimate(it)}),this.animators=[],this.canvas.draw()},Ot.prototype.getTime=function(){return this.current},Ot}(),W=G,z=a("4fVK"),w=40,T=0,B=":",V=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function $(Ot,it){for(var xt in Ot)if(Ot.hasOwnProperty(xt)&&xt.indexOf(B+it)>=0)return!0;return!1}function nt(Ot,it,xt){xt.name=it,xt.target=Ot,xt.currentTarget=Ot,xt.delegateTarget=Ot,Ot.emit(it,xt)}function at(Ot,it,xt){if(xt.bubbles){var It=void 0,zt=!1;if(it==="mouseenter"?(It=xt.fromShape,zt=!0):it==="mouseleave"&&(zt=!0,It=xt.toShape),Ot.isCanvas()&&zt)return;if(It&&Object(x.g)(Ot,It)){xt.bubbles=!1;return}xt.name=it,xt.currentTarget=Ot,xt.delegateTarget=Ot,Ot.emit(it,xt)}}var st=function(){function Ot(it){var xt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(It){var zt=It.type;xt._triggerEvent(zt,It)},this._onDocumentMove=function(It){var zt=xt.canvas,Kt=zt.get("el");if(Kt!==It.target&&(xt.dragging||xt.currentShape)){var Yt=xt._getPointInfo(It);xt.dragging&&xt._emitEvent("drag",It,Yt,xt.draggingShape)}},this._onDocumentMouseUp=function(It){var zt=xt.canvas,Kt=zt.get("el");if(Kt!==It.target&&xt.dragging){var Yt=xt._getPointInfo(It);xt.draggingShape&&xt._emitEvent("drop",It,Yt,null),xt._emitEvent("dragend",It,Yt,xt.draggingShape),xt._afterDrag(xt.draggingShape,Yt,It)}},this.canvas=it.canvas}return Ot.prototype.init=function(){this._bindEvents()},Ot.prototype._bindEvents=function(){var it=this,xt=this.canvas.get("el");Object(x.a)(V,function(It){xt.addEventListener(It,it._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Ot.prototype._clearEvents=function(){var it=this,xt=this.canvas.get("el");Object(x.a)(V,function(It){xt.removeEventListener(It,it._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Ot.prototype._getEventObj=function(it,xt,It,zt,Kt,Yt){var bt=new z.a(it,xt);return bt.fromShape=Kt,bt.toShape=Yt,bt.x=It.x,bt.y=It.y,bt.clientX=It.clientX,bt.clientY=It.clientY,bt.propagationPath.push(zt),bt},Ot.prototype._getShape=function(it,xt){return this.canvas.getShape(it.x,it.y,xt)},Ot.prototype._getPointInfo=function(it){var xt=this.canvas,It=xt.getClientByEvent(it),zt=xt.getPointByEvent(it);return{x:zt.x,y:zt.y,clientX:It.x,clientY:It.y}},Ot.prototype._triggerEvent=function(it,xt){var It=this._getPointInfo(xt),zt=this._getShape(It,xt),Kt=this["_on"+it],Yt=!1;if(Kt)Kt.call(this,It,zt,xt);else{var bt=this.currentShape;it==="mouseenter"||it==="dragenter"||it==="mouseover"?(this._emitEvent(it,xt,It,null,null,zt),zt&&this._emitEvent(it,xt,It,zt,null,zt),it==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",xt,It,null)):it==="mouseleave"||it==="dragleave"||it==="mouseout"?(Yt=!0,bt&&this._emitEvent(it,xt,It,bt,bt,null),this._emitEvent(it,xt,It,null,bt,null),it==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",xt,It,null)):this._emitEvent(it,xt,It,zt,null,null)}if(Yt||(this.currentShape=zt),zt&&!zt.get("destroyed")){var ft=this.canvas,dt=ft.get("el");dt.style.cursor=zt.attr("cursor")||ft.get("cursor")}},Ot.prototype._onmousedown=function(it,xt,It){It.button===T&&(this.mousedownShape=xt,this.mousedownPoint=it,this.mousedownTimeStamp=It.timeStamp),this._emitEvent("mousedown",It,it,xt,null,null)},Ot.prototype._emitMouseoverEvents=function(it,xt,It,zt){var Kt=this.canvas.get("el");It!==zt&&(It&&(this._emitEvent("mouseout",it,xt,It,It,zt),this._emitEvent("mouseleave",it,xt,It,It,zt),(!zt||zt.get("destroyed"))&&(Kt.style.cursor=this.canvas.get("cursor"))),zt&&(this._emitEvent("mouseover",it,xt,zt,It,zt),this._emitEvent("mouseenter",it,xt,zt,It,zt)))},Ot.prototype._emitDragoverEvents=function(it,xt,It,zt,Kt){zt?(zt!==It&&(It&&this._emitEvent("dragleave",it,xt,It,It,zt),this._emitEvent("dragenter",it,xt,zt,It,zt)),Kt||this._emitEvent("dragover",it,xt,zt)):It&&this._emitEvent("dragleave",it,xt,It,It,zt),Kt&&this._emitEvent("dragover",it,xt,zt)},Ot.prototype._afterDrag=function(it,xt,It){it&&(it.set("capture",!0),this.draggingShape=null),this.dragging=!1;var zt=this._getShape(xt,It);zt!==it&&this._emitMouseoverEvents(It,xt,it,zt),this.currentShape=zt},Ot.prototype._onmouseup=function(it,xt,It){if(It.button===T){var zt=this.draggingShape;this.dragging?(zt&&this._emitEvent("drop",It,it,xt),this._emitEvent("dragend",It,it,zt),this._afterDrag(zt,it,It)):(this._emitEvent("mouseup",It,it,xt),xt===this.mousedownShape&&this._emitEvent("click",It,it,xt),this.mousedownShape=null,this.mousedownPoint=null)}},Ot.prototype._ondragover=function(it,xt,It){It.preventDefault();var zt=this.currentShape;this._emitDragoverEvents(It,it,zt,xt,!0)},Ot.prototype._onmousemove=function(it,xt,It){var zt=this.canvas,Kt=this.currentShape,Yt=this.draggingShape;if(this.dragging)Yt&&this._emitDragoverEvents(It,it,Kt,xt,!1),this._emitEvent("drag",It,it,Yt);else{var bt=this.mousedownPoint;if(bt){var ft=this.mousedownShape,dt=It.timeStamp,ot=dt-this.mousedownTimeStamp,Mt=bt.clientX-it.clientX,Nt=bt.clientY-it.clientY,Pt=Mt*Mt+Nt*Nt;ot>120||Pt>w?ft&&ft.get("draggable")?(Yt=this.mousedownShape,Yt.set("capture",!1),this.draggingShape=Yt,this.dragging=!0,this._emitEvent("dragstart",It,it,Yt),this.mousedownShape=null,this.mousedownPoint=null):!ft&&zt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",It,it,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(It,it,Kt,xt),this._emitEvent("mousemove",It,it,xt)):(this._emitMouseoverEvents(It,it,Kt,xt),this._emitEvent("mousemove",It,it,xt))}else this._emitMouseoverEvents(It,it,Kt,xt),this._emitEvent("mousemove",It,it,xt)}},Ot.prototype._emitEvent=function(it,xt,It,zt,Kt,Yt){var bt=this._getEventObj(it,xt,It,zt,Kt,Yt);if(zt){bt.shape=zt,nt(zt,it,bt);for(var ft=zt.getParent();ft;)ft.emitDelegation(it,bt),bt.propagationStopped||at(ft,it,bt),bt.propagationPath.push(ft),ft=ft.getParent()}else{var dt=this.canvas;nt(dt,it,bt)}},Ot.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Ot}(),tt=st,Q="px",Z=Object(i.a)(),et=Z&&Z.name==="firefox",ct=function(Ot){Object(h.c)(it,Ot);function it(xt){var It=Ot.call(this,xt)||this;return It.initContainer(),It.initDom(),It.initEvents(),It.initTimeline(),It}return it.prototype.getDefaultCfg=function(){var xt=Ot.prototype.getDefaultCfg.call(this);return xt.cursor="default",xt.supportCSSTransform=!1,xt},it.prototype.initContainer=function(){var xt=this.get("container");Object(x.h)(xt)&&(xt=document.getElementById(xt),this.set("container",xt))},it.prototype.initDom=function(){var xt=this.createDom();this.set("el",xt);var It=this.get("container");It.appendChild(xt),this.setDOMSize(this.get("width"),this.get("height"))},it.prototype.initEvents=function(){var xt=new tt({canvas:this});xt.init(),this.set("eventController",xt)},it.prototype.initTimeline=function(){var xt=new W(this);this.set("timeline",xt)},it.prototype.setDOMSize=function(xt,It){var zt=this.get("el");x.c&&(zt.style.width=xt+Q,zt.style.height=It+Q)},it.prototype.changeSize=function(xt,It){this.setDOMSize(xt,It),this.set("width",xt),this.set("height",It),this.onCanvasChange("changeSize")},it.prototype.getRenderer=function(){return this.get("renderer")},it.prototype.getCursor=function(){return this.get("cursor")},it.prototype.setCursor=function(xt){this.set("cursor",xt);var It=this.get("el");x.c&&It&&(It.style.cursor=xt)},it.prototype.getPointByEvent=function(xt){var It=this.get("supportCSSTransform");if(It){if(et&&!Object(x.e)(xt.layerX)&&xt.layerX!==xt.offsetX)return{x:xt.layerX,y:xt.layerY};if(!Object(x.e)(xt.offsetX))return{x:xt.offsetX,y:xt.offsetY}}var zt=this.getClientByEvent(xt),Kt=zt.x,Yt=zt.y;return this.getPointByClient(Kt,Yt)},it.prototype.getClientByEvent=function(xt){var It=xt;return xt.touches&&(xt.type==="touchend"?It=xt.changedTouches[0]:It=xt.touches[0]),{x:It.clientX,y:It.clientY}},it.prototype.getPointByClient=function(xt,It){var zt=this.get("el"),Kt=zt.getBoundingClientRect();return{x:xt-Kt.left,y:It-Kt.top}},it.prototype.getClientByPoint=function(xt,It){var zt=this.get("el"),Kt=zt.getBoundingClientRect();return{x:xt+Kt.left,y:It+Kt.top}},it.prototype.draw=function(){},it.prototype.removeDom=function(){var xt=this.get("el");xt.parentNode.removeChild(xt)},it.prototype.clearEvents=function(){var xt=this.get("eventController");xt.destroy()},it.prototype.isCanvas=function(){return!0},it.prototype.getParent=function(){return null},it.prototype.destroy=function(){var xt=this.get("timeline");this.get("destroyed")||(this.clear(),xt&&xt.stop(),this.clearEvents(),this.removeDom(),Ot.prototype.destroy.call(this))},it}(O.a),mt=L.a=ct},nZiY:function(Ut,L,a){"use strict";var h="*",i=function(){function O(){this._events={}}return O.prototype.on=function(x,C,A){return this._events[x]||(this._events[x]=[]),this._events[x].push({callback:C,once:!!A}),this},O.prototype.once=function(x,C){return this.on(x,C,!0),this},O.prototype.emit=function(x){for(var C=this,A=[],S=1;S<arguments.length;S++)A[S-1]=arguments[S];var M=this._events[x]||[],b=this._events[h]||[],g=function(D){for(var p=D.length,N=0;N<p;N++)if(!!D[N]){var I=D[N],G=I.callback,W=I.once;W&&(D.splice(N,1),D.length===0&&delete C._events[x],p--,N--),G.apply(C,A)}};g(M),g(b)},O.prototype.off=function(x,C){if(!x)this._events={};else if(!C)delete this._events[x];else{for(var A=this._events[x]||[],S=A.length,M=0;M<S;M++)A[M].callback===C&&(A.splice(M,1),S--,M--);A.length===0&&delete this._events[x]}return this},O.prototype.getEvents=function(){return this._events},O}();L.a=i},naqw:function(Ut,L){Ut.exports=a;function a(h,i){return h[0]=Math.floor(i[0]),h[1]=Math.floor(i[1]),h}},nbEI:function(Ut,L,a){"use strict";a.d(L,"a",function(){return S});var h=a("J+IK"),i=a("d38q"),O=a("S+j/"),x=a("Fbv1"),C=a("RF2d"),A=Object(C.b)({},i.b.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),S=function(M){Object(h.c)(b,M);function b(){var g=M!==null&&M.apply(this,arguments)||this;return g.type="column",g}return b.getDefaultOptions=function(){return A},b.prototype.changeData=function(g){this.updateOption({data:g});var E=this.options,D=E.yField,p=E.xField,N=E.isPercent,I=this,G=I.chart,W=I.options;Object(x.b)({chart:G,options:W}),this.chart.changeData(Object(O.a)(g,D,p,D,N))},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b.prototype.getSchemaAdaptor=function(){return x.a},b}(i.b)},ndAl:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.BindingInWhenOnSyntax=void 0;var h=a("SKV0"),i=a("fXuZ"),O=a("qlOW"),x=function(){function C(A){this._binding=A,this._bindingWhenSyntax=new O.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new h.BindingInSyntax(A)}return C.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},C.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},C.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},C.prototype.when=function(A){return this._bindingWhenSyntax.when(A)},C.prototype.whenTargetNamed=function(A){return this._bindingWhenSyntax.whenTargetNamed(A)},C.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},C.prototype.whenTargetTagged=function(A,S){return this._bindingWhenSyntax.whenTargetTagged(A,S)},C.prototype.whenInjectedInto=function(A){return this._bindingWhenSyntax.whenInjectedInto(A)},C.prototype.whenParentNamed=function(A){return this._bindingWhenSyntax.whenParentNamed(A)},C.prototype.whenParentTagged=function(A,S){return this._bindingWhenSyntax.whenParentTagged(A,S)},C.prototype.whenAnyAncestorIs=function(A){return this._bindingWhenSyntax.whenAnyAncestorIs(A)},C.prototype.whenNoAncestorIs=function(A){return this._bindingWhenSyntax.whenNoAncestorIs(A)},C.prototype.whenAnyAncestorNamed=function(A){return this._bindingWhenSyntax.whenAnyAncestorNamed(A)},C.prototype.whenAnyAncestorTagged=function(A,S){return this._bindingWhenSyntax.whenAnyAncestorTagged(A,S)},C.prototype.whenNoAncestorNamed=function(A){return this._bindingWhenSyntax.whenNoAncestorNamed(A)},C.prototype.whenNoAncestorTagged=function(A,S){return this._bindingWhenSyntax.whenNoAncestorTagged(A,S)},C.prototype.whenAnyAncestorMatches=function(A){return this._bindingWhenSyntax.whenAnyAncestorMatches(A)},C.prototype.whenNoAncestorMatches=function(A){return this._bindingWhenSyntax.whenNoAncestorMatches(A)},C.prototype.onActivation=function(A){return this._bindingOnSyntax.onActivation(A)},C}();L.BindingInWhenOnSyntax=x},"o/SM":function(Ut,L,a){"use strict";a.r(L),a.d(L,"Base",function(){return M}),a.d(L,"Circle",function(){return g}),a.d(L,"Ellipse",function(){return p}),a.d(L,"Image",function(){return G}),a.d(L,"Line",function(){return B}),a.d(L,"Marker",function(){return st}),a.d(L,"Path",function(){return dt}),a.d(L,"Polygon",function(){return Nt}),a.d(L,"Polyline",function(){return J}),a.d(L,"Rect",function(){return Ft}),a.d(L,"Text",function(){return kt});var h={};a.r(h),a.d(h,"Base",function(){return M}),a.d(h,"Circle",function(){return g}),a.d(h,"Ellipse",function(){return p}),a.d(h,"Image",function(){return G}),a.d(h,"Line",function(){return B}),a.d(h,"Marker",function(){return st}),a.d(h,"Path",function(){return dt}),a.d(h,"Polygon",function(){return Nt}),a.d(h,"Polyline",function(){return J}),a.d(h,"Rect",function(){return Ft}),a.d(h,"Text",function(){return kt});var i=a("J+IK"),O=a("jsfD"),x=a("jGCv"),C=a("MYzp"),A=a("FDop"),S=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Y.prototype.getShapeBase=function(){return h},Y.prototype.getGroupBase=function(){return A.a},Y.prototype.onCanvasChange=function(U){Object(C.h)(this,U)},Y.prototype.calculateBBox=function(){var U=this.get("type"),j=this.getHitLineWidth(),q=Object(O.getBBoxMethod)(U),gt=q(this),_=j/2,yt=gt.x-_,wt=gt.y-_,St=gt.x+gt.width+_,Dt=gt.y+gt.height+_;return{x:yt,minX:yt,y:wt,minY:wt,width:gt.width+j,height:gt.height+j,maxX:St,maxY:Dt}},Y.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},Y.prototype.isStroke=function(){return!!this.attrs.stroke},Y.prototype._applyClip=function(U,j){j&&(U.save(),Object(C.a)(U,j),j.createPath(U),U.restore(),U.clip(),j._afterDraw())},Y.prototype.draw=function(U,j){var q=this.cfg.clipShape;if(j){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var gt=this.getCanvasBBox();if(!Object(x.f)(j,gt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}U.save(),Object(C.a)(U,this),this._applyClip(U,q),this.drawPath(U),U.restore(),this._afterDraw()},Y.prototype.getCanvasViewBox=function(){var U=this.cfg.canvas;return U?U.getViewRange():null},Y.prototype.cacheCanvasBBox=function(){var U=this.getCanvasViewBox();if(U){var j=this.getCanvasBBox(),q=Object(x.f)(j,U);this.set("isInView",q),q?this.set("cacheCanvasBBox",j):this.set("cacheCanvasBBox",null)}},Y.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},Y.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},Y.prototype.drawPath=function(U){this.createPath(U),this.strokeAndFill(U),this.afterDrawPath(U)},Y.prototype.fill=function(U){U.fill()},Y.prototype.stroke=function(U){U.stroke()},Y.prototype.strokeAndFill=function(U){var j=this.attrs,q=j.lineWidth,gt=j.opacity,_=j.strokeOpacity,yt=j.fillOpacity;this.isFill()&&(!Object(x.i)(yt)&&yt!==1?(U.globalAlpha=yt,this.fill(U),U.globalAlpha=gt):this.fill(U)),this.isStroke()&&q>0&&(!Object(x.i)(_)&&_!==1&&(U.globalAlpha=_),this.stroke(U)),this.afterDrawPath(U)},Y.prototype.createPath=function(U){},Y.prototype.afterDrawPath=function(U){},Y.prototype.isInShape=function(U,j){var q=this.isStroke(),gt=this.isFill(),_=this.getHitLineWidth();return this.isInStrokeOrPath(U,j,q,gt,_)},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){return!1},Y.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var U=this.attrs;return U.lineWidth+U.lineAppendWidth},Y}(O.AbstractShape),M=S,b=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,r:0})},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr(),wt=yt.x,St=yt.y,Dt=yt.r,Vt=_/2,Qt=Object(x.b)(wt,St,U,j);return gt&&q?Qt<=Dt+Vt:gt?Qt<=Dt:q?Qt>=Dt-Vt&&Qt<=Dt+Vt:!1},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x,gt=j.y,_=j.r;U.beginPath(),U.arc(q,gt,_,0,Math.PI*2,!1),U.closePath()},Y}(M),g=b;function E(jt,Y,U,j){return jt/(U*U)+Y/(j*j)}var D=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,rx:0,ry:0})},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr(),wt=_/2,St=yt.x,Dt=yt.y,Vt=yt.rx,Qt=yt.ry,ee=(U-St)*(U-St),se=(j-Dt)*(j-Dt);return gt&&q?E(ee,se,Vt+wt,Qt+wt)<=1:gt?E(ee,se,Vt,Qt)<=1:q?E(ee,se,Vt-wt,Qt-wt)>=1&&E(ee,se,Vt+wt,Qt+wt)<=1:!1},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x,gt=j.y,_=j.rx,yt=j.ry;if(U.beginPath(),U.ellipse)U.ellipse(q,gt,_,yt,0,0,Math.PI*2,!1);else{var wt=_>yt?_:yt,St=_>yt?1:_/yt,Dt=_>yt?yt/_:1;U.save(),U.translate(q,gt),U.scale(St,Dt),U.arc(0,0,wt,0,Math.PI*2),U.restore(),U.closePath()}},Y}(M),p=D;function N(jt){return jt instanceof HTMLElement&&Object(x.k)(jt.nodeName)&&jt.nodeName.toUpperCase()==="CANVAS"}var I=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,width:0,height:0})},Y.prototype.initAttrs=function(U){this._setImage(U.img)},Y.prototype.isStroke=function(){return!1},Y.prototype.isOnlyHitBox=function(){return!0},Y.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var U=this.get("canvas");U?U.draw():this.createPath(this.get("context"))}},Y.prototype._setImage=function(U){var j=this,q=this.attrs;if(Object(x.k)(U)){var gt=new Image;gt.onload=function(){if(j.destroyed)return!1;j.attr("img",gt),j.set("loading",!1),j._afterLoading();var _=j.get("callback");_&&_.call(j)},gt.crossOrigin="Anonymous",gt.src=U,this.set("loading",!0)}else U instanceof Image?(q.width||(q.width=U.width),q.height||(q.height=U.height)):N(U)&&(q.width||(q.width=Number(U.getAttribute("width"))),q.height||(q.height,Number(U.getAttribute("height"))))},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),U==="img"&&this._setImage(j)},Y.prototype.createPath=function(U){if(this.get("loading")){this.set("toDraw",!0),this.set("context",U);return}var j=this.attr(),q=j.x,gt=j.y,_=j.width,yt=j.height,wt=j.sx,St=j.sy,Dt=j.swidth,Vt=j.sheight,Qt=j.img;(Qt instanceof Image||N(Qt))&&(!Object(x.i)(wt)&&!Object(x.i)(St)&&!Object(x.i)(Dt)&&!Object(x.i)(Vt)?U.drawImage(Qt,wt,St,Dt,Vt,q,gt,_,yt):U.drawImage(Qt,q,gt,_,yt))},Y}(M),G=I,W=a("9pBU");function z(jt,Y,U,j,q,gt,_){var yt=Math.min(jt,U),wt=Math.max(jt,U),St=Math.min(Y,j),Dt=Math.max(Y,j),Vt=q/2;return gt>=yt-Vt&&gt<=wt+Vt&&_>=St-Vt&&_<=Dt+Vt?W.c.pointToLine(jt,Y,U,j,gt,_)<=q/2:!1}var w=a("tKQU"),T=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Y.prototype.initAttrs=function(U){this.setArrow()},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),this.setArrow()},Y.prototype.setArrow=function(){var U=this.attr(),j=U.x1,q=U.y1,gt=U.x2,_=U.y2,yt=U.startArrow,wt=U.endArrow;yt&&w.b(this,U,gt,_,j,q),wt&&w.a(this,U,j,q,gt,_)},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){if(!q||!_)return!1;var yt=this.attr(),wt=yt.x1,St=yt.y1,Dt=yt.x2,Vt=yt.y2;return z(wt,St,Dt,Vt,_,U,j)},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x1,gt=j.y1,_=j.x2,yt=j.y2,wt=j.startArrow,St=j.endArrow,Dt={dx:0,dy:0},Vt={dx:0,dy:0};wt&&wt.d&&(Dt=w.c(q,gt,_,yt,j.startArrow.d)),St&&St.d&&(Vt=w.c(q,gt,_,yt,j.endArrow.d)),U.beginPath(),U.moveTo(q+Dt.dx,gt+Dt.dy),U.lineTo(_-Vt.dx,yt-Vt.dy)},Y.prototype.afterDrawPath=function(U){var j=this.get("startArrowShape"),q=this.get("endArrowShape");j&&j.draw(U),q&&q.draw(U)},Y.prototype.getTotalLength=function(){var U=this.attr(),j=U.x1,q=U.y1,gt=U.x2,_=U.y2;return W.c.length(j,q,gt,_)},Y.prototype.getPoint=function(U){var j=this.attr(),q=j.x1,gt=j.y1,_=j.x2,yt=j.y2;return W.c.pointAt(q,gt,_,yt,U)},Y}(M),B=T,V=a("jg4I"),$=a("WOt1"),nt={circle:function(Y,U,j){return[["M",Y-j,U],["A",j,j,0,1,0,Y+j,U],["A",j,j,0,1,0,Y-j,U]]},square:function(Y,U,j){return[["M",Y-j,U-j],["L",Y+j,U-j],["L",Y+j,U+j],["L",Y-j,U+j],["Z"]]},diamond:function(Y,U,j){return[["M",Y-j,U],["L",Y,U-j],["L",Y+j,U],["L",Y,U+j],["Z"]]},triangle:function(Y,U,j){var q=j*Math.sin(1/3*Math.PI);return[["M",Y-j,U+q],["L",Y,U-q],["L",Y+j,U+q],["Z"]]},"triangle-down":function(Y,U,j){var q=j*Math.sin(1/3*Math.PI);return[["M",Y-j,U-q],["L",Y+j,U-q],["L",Y,U+q],["Z"]]}},at=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.initAttrs=function(U){this._resetParamsCache()},Y.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),["symbol","x","y","r","radius"].indexOf(U)!==-1&&this._resetParamsCache()},Y.prototype.isOnlyHitBox=function(){return!0},Y.prototype._getR=function(U){return Object(V.I)(U.r)?U.radius:U.r},Y.prototype._getPath=function(){var U=this.attr(),j=U.x,q=U.y,gt=U.symbol||"circle",_=this._getR(U),yt,wt;if(Object(x.h)(gt))yt=gt,wt=yt(j,q,_),wt=Object($.d)(wt);else{if(yt=Y.Symbols[gt],!yt)return console.warn(gt+" marker is not supported."),null;wt=yt(j,q,_)}return wt},Y.prototype.createPath=function(U){var j=this._getPath(),q=this.get("paramsCache");Object(C.e)(this,U,{path:j},q)},Y.Symbols=nt,Y}(M),st=at;function tt(jt,Y,U){var j=Object(O.getOffScreenContext)();return jt.createPath(j),j.isPointInPath(Y,U)}var Q=1e-6;function Z(jt){return Math.abs(jt)<Q?0:jt<0?-1:1}function et(jt,Y,U){return(U[0]-jt[0])*(Y[1]-jt[1])==(Y[0]-jt[0])*(U[1]-jt[1])&&Math.min(jt[0],Y[0])<=U[0]&&U[0]<=Math.max(jt[0],Y[0])&&Math.min(jt[1],Y[1])<=U[1]&&U[1]<=Math.max(jt[1],Y[1])}function ct(jt,Y,U){var j=!1,q=jt.length;if(q<=2)return!1;for(var gt=0;gt<q;gt++){var _=jt[gt],yt=jt[(gt+1)%q];if(et(_,yt,[Y,U]))return!0;Z(_[1]-U)>0!=Z(yt[1]-U)>0&&Z(Y-(U-_[1])*(_[0]-yt[0])/(_[1]-yt[1])-_[0])<0&&(j=!j)}return j}var mt=a("sxZn"),Ot=a("gCNn");function it(jt,Y,U,j,q,gt,_,yt){var wt=(Math.atan2(yt-Y,_-jt)+Math.PI*2)%(Math.PI*2);if(wt<j||wt>q)return!1;var St={x:jt+U*Math.cos(wt),y:Y+U*Math.sin(wt)};return Object(x.b)(St.x,St.y,_,yt)<=gt/2}var xt=mt.a.transform;function It(jt){for(var Y=!1,U=jt.length,j=0;j<U;j++){var q=jt[j],gt=q[0];if(gt==="C"||gt==="A"||gt==="Q"){Y=!0;break}}return Y}function zt(jt,Y,U,j,q){for(var gt=!1,_=Y/2,yt=0;yt<jt.length;yt++){var wt=jt[yt],St=wt.currentPoint,Dt=wt.params,Vt=wt.prePoint,Qt=wt.box;if(!(Qt&&!Object(x.e)(Qt.x-_,Qt.y-_,Qt.width+Y,Qt.height+Y,U,j))){switch(wt.command){case"L":case"Z":gt=z(Vt[0],Vt[1],St[0],St[1],Y,U,j);break;case"Q":var ee=W.e.pointDistance(Vt[0],Vt[1],Dt[1],Dt[2],Dt[3],Dt[4],U,j);gt=ee<=Y/2;break;case"C":var se=W.b.pointDistance(Vt[0],Vt[1],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5],Dt[6],U,j,q);gt=se<=Y/2;break;case"A":var ye=wt.arcParams,Ie=ye.cx,Be=ye.cy,Ze=ye.rx,we=ye.ry,We=ye.startAngle,Ke=ye.endAngle,cr=ye.xRotation,or=[U,j,1],Ce=Ze>we?Ze:we,sr=Ze>we?1:Ze/we,ke=Ze>we?we/Ze:1,Xe=xt(null,[["t",-Ie,-Be],["r",-cr],["s",1/sr,1/ke]]);Ot.transformMat3(or,or,Xe),gt=it(0,0,Ce,We,Ke,Y,or[0],or[1]);break;default:break}if(gt)break}}return gt}function Kt(jt){for(var Y=jt.length,U=[],j=[],q=[],gt=0;gt<Y;gt++){var _=jt[gt],yt=_[0];yt==="M"?(q.length&&(j.push(q),q=[]),q.push([_[1],_[2]])):yt==="Z"?q.length&&(U.push(q),q=[]):q.push([_[1],_[2]])}return q.length>0&&j.push(q),{polygons:U,polylines:j}}var Yt=Object(i.a)({hasArc:It,extractPolygons:Kt,isPointInStroke:zt},O.PathUtil);function bt(jt,Y,U){for(var j=!1,q=0;q<jt.length;q++){var gt=jt[q];if(j=ct(gt,Y,U),j)break}return j}var ft=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{startArrow:!1,endArrow:!1})},Y.prototype.initAttrs=function(U){this._setPathArr(U.path),this.setArrow()},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),U==="path"&&this._setPathArr(j),this.setArrow()},Y.prototype._setPathArr=function(U){this.attrs.path=Object($.d)(U);var j=Yt.hasArc(U);this.set("hasArc",j),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Y.prototype.getSegments=function(){var U=this.get("segements");return U||(U=Object($.e)(this.attr("path")),this.set("segments",U)),U},Y.prototype.setArrow=function(){var U=this.attr(),j=U.startArrow,q=U.endArrow;if(j){var gt=this.getStartTangent();w.b(this,U,gt[0][0],gt[0][1],gt[1][0],gt[1][1])}if(q){var gt=this.getEndTangent();w.a(this,U,gt[0][0],gt[0][1],gt[1][0],gt[1][1])}},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.getSegments(),wt=this.get("hasArc"),St=!1;if(q){var Dt=this.getTotalLength();St=Yt.isPointInStroke(yt,_,U,j,Dt)}if(!St&&gt)if(wt)St=tt(this,U,j);else{var Vt=this.attr("path"),Qt=Yt.extractPolygons(Vt);St=bt(Qt.polygons,U,j)||bt(Qt.polylines,U,j)}return St},Y.prototype.createPath=function(U){var j=this.attr(),q=this.get("paramsCache");Object(C.e)(this,U,j,q)},Y.prototype.afterDrawPath=function(U){var j=this.get("startArrowShape"),q=this.get("endArrowShape");j&&j.draw(U),q&&q.draw(U)},Y.prototype.getTotalLength=function(){var U=this.get("totalLength");return Object(V.I)(U)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):U},Y.prototype.getPoint=function(U){var j=this.get("tCache");j||(this._calculateCurve(),this._setTcache(),j=this.get("tCache"));var q,gt,_=this.get("curve");if(!j||j.length===0)return _?{x:_[0][1],y:_[0][2]}:null;Object(V.j)(j,function(Dt,Vt){U>=Dt[0]&&U<=Dt[1]&&(q=(U-Dt[0])/(Dt[1]-Dt[0]),gt=Vt)});var yt=_[gt];if(Object(V.I)(yt)||Object(V.I)(gt))return null;var wt=yt.length,St=_[gt+1];return W.b.pointAt(yt[wt-2],yt[wt-1],St[1],St[2],St[3],St[4],St[5],St[6],q)},Y.prototype._calculateCurve=function(){var U=this.attr().path;this.set("curve",Yt.pathToCurve(U))},Y.prototype._setTcache=function(){var U=0,j=0,q=[],gt,_,yt,wt,St=this.get("curve");if(!!St){if(Object(V.j)(St,function(Dt,Vt){yt=St[Vt+1],wt=Dt.length,yt&&(U+=W.b.length(Dt[wt-2],Dt[wt-1],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6])||0)}),this.set("totalLength",U),U===0){this.set("tCache",[]);return}Object(V.j)(St,function(Dt,Vt){yt=St[Vt+1],wt=Dt.length,yt&&(gt=[],gt[0]=j/U,_=W.b.length(Dt[wt-2],Dt[wt-1],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6]),j+=_||0,gt[1]=j/U,q.push(gt))}),this.set("tCache",q)}},Y.prototype.getStartTangent=function(){var U=this.getSegments(),j;if(U.length>1){var q=U[0].currentPoint,gt=U[1].currentPoint,_=U[1].startTangent;j=[],_?(j.push([q[0]-_[0],q[1]-_[1]]),j.push([q[0],q[1]])):(j.push([gt[0],gt[1]]),j.push([q[0],q[1]]))}return j},Y.prototype.getEndTangent=function(){var U=this.getSegments(),j=U.length,q;if(j>1){var gt=U[j-2].currentPoint,_=U[j-1].currentPoint,yt=U[j-1].endTangent;q=[],yt?(q.push([_[0]-yt[0],_[1]-yt[1]]),q.push([_[0],_[1]])):(q.push([gt[0],gt[1]]),q.push([_[0],_[1]]))}return q},Y}(M),dt=ft;function ot(jt,Y,U,j,q){var gt=jt.length;if(gt<2)return!1;for(var _=0;_<gt-1;_++){var yt=jt[_][0],wt=jt[_][1],St=jt[_+1][0],Dt=jt[_+1][1];if(z(yt,wt,St,Dt,Y,U,j))return!0}if(q){var Vt=jt[0],Qt=jt[gt-1];if(z(Vt[0],Vt[1],Qt[0],Qt[1],Y,U,j))return!0}return!1}var Mt=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr().points,wt=!1;return q&&(wt=ot(yt,_,U,j,!0)),!wt&&gt&&(wt=ct(yt,U,j)),wt},Y.prototype.createPath=function(U){var j=this.attr(),q=j.points;if(!(q.length<2)){U.beginPath();for(var gt=0;gt<q.length;gt++){var _=q[gt];gt===0?U.moveTo(_[0],_[1]):U.lineTo(_[0],_[1])}U.closePath()}},Y}(M),Nt=Mt,Pt=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{startArrow:!1,endArrow:!1})},Y.prototype.initAttrs=function(U){this.setArrow()},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),this.setArrow(),["points"].indexOf(U)!==-1&&this._resetCache()},Y.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Y.prototype.setArrow=function(){var U=this.attr(),j=this.attrs,q=j.points,gt=j.startArrow,_=j.endArrow,yt=q.length,wt=q[0][0],St=q[0][1],Dt=q[yt-1][0],Vt=q[yt-1][1];gt&&w.b(this,U,q[1][0],q[1][1],wt,St),_&&w.a(this,U,q[yt-2][0],q[yt-2][1],Dt,Vt)},Y.prototype.isFill=function(){return!1},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){if(!q||!_)return!1;var yt=this.attr().points;return ot(yt,_,U,j,!1)},Y.prototype.isStroke=function(){return!0},Y.prototype.createPath=function(U){var j=this.attr(),q=j.points,gt=j.startArrow,_=j.endArrow,yt=q.length;if(!(q.length<2)){var wt=q[0][0],St=q[0][1],Dt=q[yt-1][0],Vt=q[yt-1][1];if(gt&&gt.d){var Qt=w.c(wt,St,q[1][0],q[1][1],gt.d);wt+=Qt.dx,St+=Qt.dy}if(_&&_.d){var Qt=w.c(q[yt-2][0],q[yt-2][1],Dt,Vt,_.d);Dt-=Qt.dx,Vt-=Qt.dy}U.beginPath(),U.moveTo(wt,St);for(var ee=0;ee<yt-1;ee++){var se=q[ee];U.lineTo(se[0],se[1])}U.lineTo(Dt,Vt)}},Y.prototype.afterDrawPath=function(U){var j=this.get("startArrowShape"),q=this.get("endArrowShape");j&&j.draw(U),q&&q.draw(U)},Y.prototype.getTotalLength=function(){var U=this.attr().points,j=this.get("totalLength");return Object(V.I)(j)?(this.set("totalLength",W.d.length(U)),this.get("totalLength")):j},Y.prototype.getPoint=function(U){var j=this.attr().points,q=this.get("tCache");q||(this._setTcache(),q=this.get("tCache"));var gt,_;return Object(V.j)(q,function(yt,wt){U>=yt[0]&&U<=yt[1]&&(gt=(U-yt[0])/(yt[1]-yt[0]),_=wt)}),W.c.pointAt(j[_][0],j[_][1],j[_+1][0],j[_+1][1],gt)},Y.prototype._setTcache=function(){var U=this.attr().points;if(!(!U||U.length===0)){var j=this.getTotalLength();if(!(j<=0)){var q=0,gt=[],_,yt;Object(V.j)(U,function(wt,St){U[St+1]&&(_=[],_[0]=q/j,yt=W.c.length(wt[0],wt[1],U[St+1][0],U[St+1][1]),q+=yt,_[1]=q/j,gt.push(_))}),this.set("tCache",gt)}}},Y.prototype.getStartTangent=function(){var U=this.attr().points,j=[];return j.push([U[1][0],U[1][1]]),j.push([U[0][0],U[0][1]]),j},Y.prototype.getEndTangent=function(){var U=this.attr().points,j=U.length-1,q=[];return q.push([U[j-1][0],U[j-1][1]]),q.push([U[j][0],U[j][1]]),q},Y}(M),J=Pt,X=a("Y3cu");function vt(jt,Y,U,j,q,gt,_){var yt=q/2;return Object(x.e)(jt-yt,Y-yt,U,q,gt,_)||Object(x.e)(jt+U-yt,Y-yt,q,j,gt,_)||Object(x.e)(jt+yt,Y+j-yt,U,q,gt,_)||Object(x.e)(jt-yt,Y+yt,q,j,gt,_)}function lt(jt,Y,U,j,q,gt,_,yt){var wt=gt/2;return z(jt+q,Y,jt+U-q,Y,gt,_,yt)||z(jt+U,Y+q,jt+U,Y+j-q,gt,_,yt)||z(jt+U-q,Y+j,jt+q,Y+j,gt,_,yt)||z(jt,Y+j-q,jt,Y+q,gt,_,yt)||it(jt+U-q,Y+q,q,1.5*Math.PI,2*Math.PI,gt,_,yt)||it(jt+U-q,Y+j-q,q,0,.5*Math.PI,gt,_,yt)||it(jt+q,Y+j-q,q,.5*Math.PI,Math.PI,gt,_,yt)||it(jt+q,Y+q,q,Math.PI,1.5*Math.PI,gt,_,yt)}var Ct=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,width:0,height:0,radius:0})},Y.prototype.isInStrokeOrPath=function(U,j,q,gt,_){var yt=this.attr(),wt=yt.x,St=yt.y,Dt=yt.width,Vt=yt.height,Qt=yt.radius;if(Qt){var se=!1;return q&&(se=lt(wt,St,Dt,Vt,Qt,_,U,j)),!se&&gt&&(se=tt(this,U,j)),se}else{var ee=_/2;if(gt&&q)return Object(x.e)(wt-ee,St-ee,Dt+ee,Vt+ee,U,j);if(gt)return Object(x.e)(wt,St,Dt,Vt,U,j);if(q)return vt(wt,St,Dt,Vt,_,U,j)}},Y.prototype.createPath=function(U){var j=this.attr(),q=j.x,gt=j.y,_=j.width,yt=j.height,wt=j.radius;if(U.beginPath(),wt===0)U.rect(q,gt,_,yt);else{var St=Object(X.a)(wt),Dt=St[0],Vt=St[1],Qt=St[2],ee=St[3];U.moveTo(q+Dt,gt),U.lineTo(q+_-Vt,gt),Vt!==0&&U.arc(q+_-Vt,gt+Vt,Vt,-Math.PI/2,0),U.lineTo(q+_,gt+yt-Qt),Qt!==0&&U.arc(q+_-Qt,gt+yt-Qt,Qt,0,Math.PI/2),U.lineTo(q+ee,gt+yt),ee!==0&&U.arc(q+ee,gt+yt-ee,ee,Math.PI/2,Math.PI),U.lineTo(q,gt+Dt),Dt!==0&&U.arc(q+Dt,gt+Dt,Dt,Math.PI,Math.PI*1.5),U.closePath()}},Y}(M),Ft=Ct,Wt=function(jt){Object(i.c)(Y,jt);function Y(){return jt!==null&&jt.apply(this,arguments)||this}return Y.prototype.getDefaultAttrs=function(){var U=jt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},U),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Y.prototype.isOnlyHitBox=function(){return!0},Y.prototype.initAttrs=function(U){this._assembleFont(),U.text&&this._setText(U.text)},Y.prototype._assembleFont=function(){var U=this.attrs;U.font=Object(O.assembleFont)(U)},Y.prototype._setText=function(U){var j=null;Object(x.k)(U)&&U.indexOf(`
`)!==-1&&(j=U.split(`
`)),this.set("textArr",j)},Y.prototype.onAttrChange=function(U,j,q){jt.prototype.onAttrChange.call(this,U,j,q),U.startsWith("font")&&this._assembleFont(),U==="text"&&this._setText(j)},Y.prototype._getSpaceingY=function(){var U=this.attrs,j=U.lineHeight,q=U.fontSize*1;return j?j-q:q*.14},Y.prototype._drawTextArr=function(U,j,q){var gt=this.attrs,_=gt.textBaseline,yt=gt.x,wt=gt.y,St=gt.fontSize*1,Dt=this._getSpaceingY(),Vt=Object(O.getTextHeight)(gt.text,gt.fontSize,gt.lineHeight),Qt;Object(x.c)(j,function(ee,se){Qt=wt+se*(Dt+St)-Vt+St,_==="middle"&&(Qt+=Vt-St-(Vt-St)/2),_==="top"&&(Qt+=Vt-St),q?U.fillText(ee,yt,Qt):U.strokeText(ee,yt,Qt)})},Y.prototype._drawText=function(U,j){var q=this.attr(),gt=q.x,_=q.y,yt=this.get("textArr");if(yt)this._drawTextArr(U,yt,j);else{var wt=q.text;j?U.fillText(wt,gt,_):U.strokeText(wt,gt,_)}},Y.prototype.strokeAndFill=function(U){var j=this.attrs,q=j.lineWidth,gt=j.opacity,_=j.strokeOpacity,yt=j.fillOpacity;this.isStroke()&&q>0&&(!Object(x.i)(_)&&_!==1&&(U.globalAlpha=gt),this.stroke(U)),this.isFill()&&(!Object(x.i)(yt)&&yt!==1?(U.globalAlpha=yt,this.fill(U),U.globalAlpha=gt):this.fill(U)),this.afterDrawPath(U)},Y.prototype.fill=function(U){this._drawText(U,!0)},Y.prototype.stroke=function(U){this._drawText(U,!1)},Y}(M),kt=Wt},oDuu:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("m8xh"),O=a("jg4I"),x=a("L+OQ"),C=a("QwgH"),A=function(S){Object(h.c)(M,S);function M(){return S!==null&&S.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var b=S.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},b),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},M.prototype.getContainer=function(){return this.get("container")},M.prototype.show=function(){var b=this.get("container");b.style.display="",this.set("visible",!0)},M.prototype.hide=function(){var b=this.get("container");b.style.display="none",this.set("visible",!1)},M.prototype.setCapture=function(b){var g=this.getContainer(),E=b?"auto":"none";g.style.pointerEvents=E,this.set("capture",b)},M.prototype.getBBox=function(){var b=this.getContainer(),g=parseFloat(b.style.left)||0,E=parseFloat(b.style.top)||0;return Object(x.b)(g,E,b.clientWidth,b.clientHeight)},M.prototype.clear=function(){var b=this.get("container");Object(x.a)(b)},M.prototype.destroy=function(){this.removeEvent(),this.removeDom(),S.prototype.destroy.call(this)},M.prototype.init=function(){S.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},M.prototype.initCapture=function(){this.setCapture(this.get("capture"))},M.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},M.prototype.initDom=function(){},M.prototype.initContainer=function(){var b=this.get("container");if(Object(O.I)(b)){b=this.createDom();var g=this.get("parent");Object(O.O)(g)&&(g=document.getElementById(g),this.set("parent",g)),g.appendChild(b),this.set("container",b)}else Object(O.O)(b)&&(b=document.getElementById(b),this.set("container",b));this.get("parent")||this.set("parent",b.parentNode)},M.prototype.resetStyles=function(){var b=this.get("domStyles"),g=this.get("defaultStyles");b?b=Object(O.h)({},g,b):b=g,this.set("domStyles",b)},M.prototype.applyStyles=function(){var b=this.get("domStyles");if(!!b){var g=this.getContainer();this.applyChildrenStyles(g,b);var E=this.get("containerClassName");if(E&&Object(x.h)(g,E)){var D=b[E];Object(i.e)(g,D)}}},M.prototype.applyChildrenStyles=function(b,g){Object(O.j)(g,function(E,D){var p=b.getElementsByClassName(D);Object(O.j)(p,function(N){Object(i.e)(N,E)})})},M.prototype.applyStyle=function(b,g){var E=this.get("domStyles");Object(i.e)(g,E[b])},M.prototype.createDom=function(){var b=this.get("containerTpl");return Object(i.b)(b)},M.prototype.initEvent=function(){},M.prototype.removeDom=function(){var b=this.get("container");b&&b.parentNode&&b.parentNode.removeChild(b)},M.prototype.removeEvent=function(){},M.prototype.updateInner=function(b){Object(O.x)(b,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},M.prototype.resetPosition=function(){},M}(C.a);L.a=A},oFJY:function(Ut,L,a){"use strict";a.d(L,"b",function(){return i}),a.d(L,"c",function(){return O}),a.d(L,"a",function(){return x});var h=a("SCaY");function i(C,A){var S=C.cfg.el,M=C.attr(),b={dx:M.shadowOffsetX,dy:M.shadowOffsetY,blur:M.shadowBlur,color:M.shadowColor};if(!b.dx&&!b.dy&&!b.blur&&!b.color)S.removeAttribute("filter");else{var g=A.find("filter",b);g||(g=A.addShadow(b)),S.setAttribute("filter","url(#"+g+")")}}function O(C){var A=C.attr().matrix;if(A){for(var S=C.cfg.el,M=[],b=0;b<9;b+=3)M.push(A[b]+","+A[b+1]);M=M.join(","),M.indexOf("NaN")===-1?S.setAttribute("transform","matrix("+M+")"):console.warn("invalid matrix:",A)}}function x(C,A){var S=C.getClip(),M=C.get("el");if(!S)M.removeAttribute("clip-path");else if(S&&!M.hasAttribute("clip-path")){Object(h.a)(S),S.createPath(A);var b=A.addClip(S);M.setAttribute("clip-path","url(#"+b+")")}}},oS5r:function(Ut,L,a){"use strict";var h=a("tuqv"),i=a("Od3v"),O=a("gPRb"),x=a("aOLp");L.a=function(){var C=i.a,A=!1,S=1,M=1,b=[0],g=x.a,E=x.a,D=x.a,p=x.a,N=x.a;function I(W){return W.x0=W.y0=0,W.x1=S,W.y1=M,W.eachBefore(G),b=[0],A&&W.eachBefore(h.a),W}function G(W){var z=b[W.depth],w=W.x0+z,T=W.y0+z,B=W.x1-z,V=W.y1-z;B<w&&(w=B=(w+B)/2),V<T&&(T=V=(T+V)/2),W.x0=w,W.y0=T,W.x1=B,W.y1=V,W.children&&(z=b[W.depth+1]=g(W)/2,w+=N(W)-z,T+=E(W)-z,B-=D(W)-z,V-=p(W)-z,B<w&&(w=B=(w+B)/2),V<T&&(T=V=(T+V)/2),C(W,w,T,B,V))}return I.round=function(W){return arguments.length?(A=!!W,I):A},I.size=function(W){return arguments.length?(S=+W[0],M=+W[1],I):[S,M]},I.tile=function(W){return arguments.length?(C=Object(O.b)(W),I):C},I.padding=function(W){return arguments.length?I.paddingInner(W).paddingOuter(W):I.paddingInner()},I.paddingInner=function(W){return arguments.length?(g=typeof W=="function"?W:Object(x.b)(+W),I):g},I.paddingOuter=function(W){return arguments.length?I.paddingTop(W).paddingRight(W).paddingBottom(W).paddingLeft(W):I.paddingTop()},I.paddingTop=function(W){return arguments.length?(E=typeof W=="function"?W:Object(x.b)(+W),I):E},I.paddingRight=function(W){return arguments.length?(D=typeof W=="function"?W:Object(x.b)(+W),I):D},I.paddingBottom=function(W){return arguments.length?(p=typeof W=="function"?W:Object(x.b)(+W),I):p},I.paddingLeft=function(W){return arguments.length?(N=typeof W=="function"?W:Object(x.b)(+W),I):N},I}},of5Y:function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("kr+H"),O=a("9xKD").slack,x=a("9xKD").longestPath,C=a("43gi").alg.preorder,A=a("43gi").alg.postorder,S=a("hppO").simplify;Ut.exports=M,M.initLowLimValues=D,M.initCutValues=b,M.calcCutValue=E,M.leaveEdge=N,M.enterEdge=I,M.exchangeEdges=G;function M(T){T=S(T),x(T);var B=i(T);D(B),b(B,T);for(var V,$;V=N(B);)$=I(B,T,V),G(B,T,V,$)}function b(T,B){var V=A(T,T.nodes());V=V.slice(0,V.length-1),h.forEach(V,function($){g(T,B,$)})}function g(T,B,V){var $=T.node(V),nt=$.parent;T.edge(V,nt).cutvalue=E(T,B,V)}function E(T,B,V){var $=T.node(V),nt=$.parent,at=!0,st=B.edge(V,nt),tt=0;return st||(at=!1,st=B.edge(nt,V)),tt=st.weight,h.forEach(B.nodeEdges(V),function(Q){var Z=Q.v===V,et=Z?Q.w:Q.v;if(et!==nt){var ct=Z===at,mt=B.edge(Q).weight;if(tt+=ct?mt:-mt,z(T,V,et)){var Ot=T.edge(V,et).cutvalue;tt+=ct?-Ot:Ot}}}),tt}function D(T,B){arguments.length<2&&(B=T.nodes()[0]),p(T,{},1,B)}function p(T,B,V,$,nt){var at=V,st=T.node($);return B[$]=!0,h.forEach(T.neighbors($),function(tt){h.has(B,tt)||(V=p(T,B,V,tt,$))}),st.low=at,st.lim=V++,nt?st.parent=nt:delete st.parent,V}function N(T){return h.find(T.edges(),function(B){return T.edge(B).cutvalue<0})}function I(T,B,V){var $=V.v,nt=V.w;B.hasEdge($,nt)||($=V.w,nt=V.v);var at=T.node($),st=T.node(nt),tt=at,Q=!1;at.lim>st.lim&&(tt=st,Q=!0);var Z=h.filter(B.edges(),function(et){return Q===w(T,T.node(et.v),tt)&&Q!==w(T,T.node(et.w),tt)});return h.minBy(Z,function(et){return O(B,et)})}function G(T,B,V,$){var nt=V.v,at=V.w;T.removeEdge(nt,at),T.setEdge($.v,$.w,{}),D(T),b(T,B),W(T,B)}function W(T,B){var V=h.find(T.nodes(),function(nt){return!B.node(nt).parent}),$=C(T,V);$=$.slice(1),h.forEach($,function(nt){var at=T.node(nt).parent,st=B.edge(nt,at),tt=!1;st||(st=B.edge(at,nt),tt=!0),B.node(nt).rank=B.node(at).rank+(tt?st.minlen:-st.minlen)})}function z(T,B,V){return T.hasEdge(B,V)}function w(T,B,V){return V.low<=B.lim&&B.lim<=V.lim}},oobg:function(Ut,L){Ut.exports=a;function a(h){var i=h[0],O=h[1];return Math.sqrt(i*i+O*O)}},"oq+b":function(Ut,L,a){"use strict";a.d(L,"a",function(){return A});var h=a("Rspp"),i=a.n(h),O=a("2Asv"),x=a.n(O),C=a("99LQ"),A=function(){function S(M,b){i()(this,S),this.center=void 0,this.halfExtents=void 0,this.min=C.e.create(),this.max=C.e.create(),this.update(M,b)}return x()(S,[{key:"update",value:function(b,g){this.center=b||C.e.create(),this.halfExtents=g||C.e.fromValues(.5,.5,.5),this.min=C.e.sub(this.min,this.center,this.halfExtents),this.max=C.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(b,g){C.e.add(this.center,g,b),C.e.scale(this.center,this.center,.5),C.e.sub(this.halfExtents,g,b),C.e.scale(this.halfExtents,this.halfExtents,.5),C.e.copy(this.min,b),C.e.copy(this.max,g)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(b){var g=this.center,E=g[0],D=g[1],p=g[2],N=this.halfExtents,I=N[0],G=N[1],W=N[2],z=E-I,w=E+I,T=D-G,B=D+G,V=p-W,$=p+W,nt=b.center,at=nt[0],st=nt[1],tt=nt[2],Q=b.halfExtents,Z=Q[0],et=Q[1],ct=Q[2],mt=at-Z,Ot=at+Z,it=st-et,xt=st+et,It=tt-ct,zt=tt+ct;mt<z&&(z=mt),Ot>w&&(w=Ot),it<T&&(T=it),xt>B&&(B=xt),It<V&&(V=It),zt>$&&($=zt),g[0]=(z+w)*.5,g[1]=(T+B)*.5,g[2]=(V+$)*.5,N[0]=(w-z)*.5,N[1]=(B-T)*.5,N[2]=($-V)*.5,this.min[0]=z,this.min[1]=T,this.min[2]=V,this.max[0]=w,this.max[1]=B,this.max[2]=$}},{key:"intersects",value:function(b){var g=this.getMax(),E=this.getMin(),D=b.getMax(),p=b.getMin();return E[0]<=D[0]&&g[0]>=p[0]&&E[1]<=D[1]&&g[1]>=p[1]&&E[2]<=D[2]&&g[2]>=p[2]}},{key:"containsPoint",value:function(b){var g=this.getMin(),E=this.getMax();return!(b[0]<g[0]||b[0]>E[0]||b[1]<g[1]||b[1]>E[1]||b[2]<g[2]||b[2]>E[2])}},{key:"getNegativeFarPoint",value:function(b){return b.pnVertexFlag===273?C.e.copy(C.e.create(),this.min):b.pnVertexFlag===272?C.e.fromValues(this.min[0],this.min[1],this.max[2]):b.pnVertexFlag===257?C.e.fromValues(this.min[0],this.max[1],this.min[2]):b.pnVertexFlag===256?C.e.fromValues(this.min[0],this.max[1],this.max[2]):b.pnVertexFlag===17?C.e.fromValues(this.max[0],this.min[1],this.min[2]):b.pnVertexFlag===16?C.e.fromValues(this.max[0],this.min[1],this.max[2]):b.pnVertexFlag===1?C.e.fromValues(this.max[0],this.max[1],this.min[2]):C.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(b){return b.pnVertexFlag===273?C.e.copy(C.e.create(),this.max):b.pnVertexFlag===272?C.e.fromValues(this.max[0],this.max[1],this.min[2]):b.pnVertexFlag===257?C.e.fromValues(this.max[0],this.min[1],this.max[2]):b.pnVertexFlag===256?C.e.fromValues(this.max[0],this.min[1],this.min[2]):b.pnVertexFlag===17?C.e.fromValues(this.min[0],this.max[1],this.max[2]):b.pnVertexFlag===16?C.e.fromValues(this.min[0],this.max[1],this.min[2]):b.pnVertexFlag===1?C.e.fromValues(this.min[0],this.min[1],this.max[2]):C.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),S}()},oxCo:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.injectable=void 0;var h=a("JIc3"),i=a("4b80");function O(){return function(x){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,x))throw new Error(h.DUPLICATED_INJECTABLE_DECORATOR);var C=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,x)||[];return Reflect.defineMetadata(i.PARAM_TYPES,C,x),x}}L.injectable=O},ozhX:function(Ut,L,a){"use strict";a.r(L),a.d(L,"Base",function(){return g}),a.d(L,"Circle",function(){return p}),a.d(L,"Dom",function(){return I}),a.d(L,"Ellipse",function(){return W}),a.d(L,"Image",function(){return w}),a.d(L,"Line",function(){return V}),a.d(L,"Marker",function(){return st}),a.d(L,"Path",function(){return Q}),a.d(L,"Polygon",function(){return et}),a.d(L,"Polyline",function(){return mt}),a.d(L,"Rect",function(){return Kt}),a.d(L,"Text",function(){return Nt});var h={};a.r(h),a.d(h,"Base",function(){return g}),a.d(h,"Circle",function(){return p}),a.d(h,"Dom",function(){return I}),a.d(h,"Ellipse",function(){return W}),a.d(h,"Image",function(){return w}),a.d(h,"Line",function(){return V}),a.d(h,"Marker",function(){return st}),a.d(h,"Path",function(){return Q}),a.d(h,"Polygon",function(){return et}),a.d(h,"Polyline",function(){return mt}),a.d(h,"Rect",function(){return Kt}),a.d(h,"Text",function(){return Nt});var i=a("J+IK"),O=a("jsfD"),x=a("oFJY"),C=a("SCaY"),A=a("BSge"),S=a("0xlF"),M=a("CyRS"),b=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="svg",X.canFill=!1,X.canStroke=!1,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},J.prototype.afterAttrsChange=function(X){Pt.prototype.afterAttrsChange.call(this,X);var vt=this.get("canvas");if(vt&&vt.get("autoDraw")){var lt=vt.get("context");this.draw(lt,X)}},J.prototype.getShapeBase=function(){return h},J.prototype.getGroupBase=function(){return M.a},J.prototype.onCanvasChange=function(X){Object(A.b)(this,X)},J.prototype.calculateBBox=function(){var X=this.get("el"),vt=null;if(X)vt=X.getBBox();else{var lt=Object(O.getBBoxMethod)(this.get("type"));lt&&(vt=lt(this))}if(vt){var Ct=vt.x,Ft=vt.y,Wt=vt.width,kt=vt.height,jt=this.getHitLineWidth(),Y=jt/2,U=Ct-Y,j=Ft-Y,q=Ct+Wt+Y,gt=Ft+kt+Y;return{x:U,y:j,minX:U,minY:j,maxX:q,maxY:gt,width:Wt+jt,height:kt+jt}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},J.prototype.isFill=function(){var X=this.attr(),vt=X.fill,lt=X.fillStyle;return(vt||lt||this.isClipShape())&&this.canFill},J.prototype.isStroke=function(){var X=this.attr(),vt=X.stroke,lt=X.strokeStyle;return(vt||lt)&&this.canStroke},J.prototype.draw=function(X,vt){var lt=this.get("el");this.get("destroyed")?lt&&lt.parentNode.removeChild(lt):(lt||Object(C.a)(this),Object(x.a)(this,X),this.createPath(X,vt),this.shadow(X,vt),this.strokeAndFill(X,vt),this.transform(vt))},J.prototype.createPath=function(X,vt){},J.prototype.strokeAndFill=function(X,vt){var lt=vt||this.attr(),Ct=lt.fill,Ft=lt.fillStyle,Wt=lt.stroke,kt=lt.strokeStyle,jt=lt.fillOpacity,Y=lt.strokeOpacity,U=lt.lineWidth,j=this.get("el");this.canFill&&(vt?"fill"in lt?this._setColor(X,"fill",Ct):"fillStyle"in lt&&this._setColor(X,"fill",Ft):this._setColor(X,"fill",Ct||Ft),jt&&j.setAttribute(S.b.fillOpacity,jt)),this.canStroke&&U>0&&(vt?"stroke"in lt?this._setColor(X,"stroke",Wt):"strokeStyle"in lt&&this._setColor(X,"stroke",kt):this._setColor(X,"stroke",Wt||kt),Y&&j.setAttribute(S.b.strokeOpacity,Y),U&&j.setAttribute(S.b.lineWidth,U))},J.prototype._setColor=function(X,vt,lt){var Ct=this.get("el");if(!lt){Ct.setAttribute(S.b[vt],"none");return}if(lt=lt.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(lt)){var Ft=X.find("gradient",lt);Ft||(Ft=X.addGradient(lt)),Ct.setAttribute(S.b[vt],"url(#"+Ft+")")}else if(/^[p,P]{1}[\s]*\(/.test(lt)){var Ft=X.find("pattern",lt);Ft||(Ft=X.addPattern(lt)),Ct.setAttribute(S.b[vt],"url(#"+Ft+")")}else Ct.setAttribute(S.b[vt],lt)},J.prototype.shadow=function(X,vt){var lt=this.attr(),Ct=vt||lt,Ft=Ct.shadowOffsetX,Wt=Ct.shadowOffsetY,kt=Ct.shadowBlur,jt=Ct.shadowColor;(Ft||Wt||kt||jt)&&Object(x.b)(this,X)},J.prototype.transform=function(X){var vt=this.attr(),lt=(X||vt).matrix;lt&&Object(x.c)(this)},J.prototype.isInShape=function(X,vt){return this.isPointInPath(X,vt)},J.prototype.isPointInPath=function(X,vt){var lt=this.get("el"),Ct=this.get("canvas"),Ft=Ct.get("el").getBoundingClientRect(),Wt=X+Ft.left,kt=vt+Ft.top,jt=document.elementFromPoint(Wt,kt);return!!(jt&&jt.isEqualNode(lt))},J.prototype.getHitLineWidth=function(){var X=this.attrs,vt=X.lineWidth,lt=X.lineAppendWidth;return this.isStroke()?vt+lt:0},J}(O.AbstractShape),g=b,E=a("jg4I"),D=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="circle",X.canFill=!0,X.canStroke=!0,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,r:0})},J.prototype.createPath=function(X,vt){var lt=this.attr(),Ct=this.get("el");Object(E.j)(vt||lt,function(Ft,Wt){Wt==="x"||Wt==="y"?Ct.setAttribute("c"+Wt,Ft):S.b[Wt]&&Ct.setAttribute(S.b[Wt],Ft)})},J}(g),p=D,N=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="dom",X.canFill=!1,X.canStroke=!1,X}return J.prototype.createPath=function(X,vt){var lt=this.attr(),Ct=this.get("el");if(Object(E.j)(vt||lt,function(jt,Y){S.b[Y]&&Ct.setAttribute(S.b[Y],jt)}),typeof lt.html=="function"){var Ft=lt.html.call(this,lt);if(Ft instanceof Element||Ft instanceof HTMLDocument){for(var Wt=Ct.childNodes,kt=Wt.length-1;kt>=0;kt--)Ct.removeChild(Wt[kt]);Ct.appendChild(Ft)}else Ct.innerHTML=Ft}else Ct.innerHTML=lt.html},J}(g),I=N,G=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="ellipse",X.canFill=!0,X.canStroke=!0,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,rx:0,ry:0})},J.prototype.createPath=function(X,vt){var lt=this.attr(),Ct=this.get("el");Object(E.j)(vt||lt,function(Ft,Wt){Wt==="x"||Wt==="y"?Ct.setAttribute("c"+Wt,Ft):S.b[Wt]&&Ct.setAttribute(S.b[Wt],Ft)})},J}(g),W=G,z=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="image",X.canFill=!1,X.canStroke=!1,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,width:0,height:0})},J.prototype.createPath=function(X,vt){var lt=this,Ct=this.attr(),Ft=this.get("el");Object(E.j)(vt||Ct,function(Wt,kt){kt==="img"?lt._setImage(Ct.img):S.b[kt]&&Ft.setAttribute(S.b[kt],Wt)})},J.prototype.setAttr=function(X,vt){this.attrs[X]=vt,X==="img"&&this._setImage(vt)},J.prototype._setImage=function(X){var vt=this.attr(),lt=this.get("el");if(Object(E.O)(X))lt.setAttribute("href",X);else if(X instanceof window.Image)vt.width||(lt.setAttribute("width",X.width),this.attr("width",X.width)),vt.height||(lt.setAttribute("height",X.height),this.attr("height",X.height)),lt.setAttribute("href",X.src);else if(X instanceof HTMLElement&&Object(E.O)(X.nodeName)&&X.nodeName.toUpperCase()==="CANVAS")lt.setAttribute("href",X.toDataURL());else if(X instanceof ImageData){var Ct=document.createElement("canvas");Ct.setAttribute("width",""+X.width),Ct.setAttribute("height",""+X.height),Ct.getContext("2d").putImageData(X,0,0),vt.width||(lt.setAttribute("width",""+X.width),this.attr("width",X.width)),vt.height||(lt.setAttribute("height",""+X.height),this.attr("height",X.height)),lt.setAttribute("href",Ct.toDataURL())}},J}(g),w=z,T=a("9pBU"),B=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="line",X.canFill=!1,X.canStroke=!0,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},J.prototype.createPath=function(X,vt){var lt=this.attr(),Ct=this.get("el");Object(E.j)(vt||lt,function(Ft,Wt){if(Wt==="startArrow"||Wt==="endArrow")if(Ft){var kt=Object(E.M)(Ft)?X.addArrow(lt,S.b[Wt]):X.getDefaultArrow(lt,S.b[Wt]);Ct.setAttribute(S.b[Wt],"url(#"+kt+")")}else Ct.removeAttribute(S.b[Wt]);else S.b[Wt]&&Ct.setAttribute(S.b[Wt],Ft)})},J.prototype.getTotalLength=function(){var X=this.attr(),vt=X.x1,lt=X.y1,Ct=X.x2,Ft=X.y2;return T.c.length(vt,lt,Ct,Ft)},J.prototype.getPoint=function(X){var vt=this.attr(),lt=vt.x1,Ct=vt.y1,Ft=vt.x2,Wt=vt.y2;return T.c.pointAt(lt,Ct,Ft,Wt,X)},J}(g),V=B,$={circle:function(J,X,vt){return[["M",J,X],["m",-vt,0],["a",vt,vt,0,1,0,vt*2,0],["a",vt,vt,0,1,0,-vt*2,0]]},square:function(J,X,vt){return[["M",J-vt,X-vt],["L",J+vt,X-vt],["L",J+vt,X+vt],["L",J-vt,X+vt],["Z"]]},diamond:function(J,X,vt){return[["M",J-vt,X],["L",J,X-vt],["L",J+vt,X],["L",J,X+vt],["Z"]]},triangle:function(J,X,vt){var lt=vt*Math.sin(1/3*Math.PI);return[["M",J-vt,X+lt],["L",J,X-lt],["L",J+vt,X+lt],["z"]]},triangleDown:function(J,X,vt){var lt=vt*Math.sin(1/3*Math.PI);return[["M",J-vt,X-lt],["L",J+vt,X-lt],["L",J,X+lt],["Z"]]}},nt={get:function(J){return $[J]},register:function(J,X){$[J]=X},remove:function(J){delete $[J]},getAll:function(){return $}},at=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="marker",X.canFill=!0,X.canStroke=!0,X}return J.prototype.createPath=function(X){var vt=this.get("el");vt.setAttribute("d",this._assembleMarker())},J.prototype._assembleMarker=function(){var X=this._getPath();return Object(E.B)(X)?X.map(function(vt){return vt.join(" ")}).join(""):X},J.prototype._getPath=function(){var X=this.attr(),vt=X.x,lt=X.y,Ct=X.r||X.radius,Ft=X.symbol||"circle",Wt;return Object(E.H)(Ft)?Wt=Ft:Wt=nt.get(Ft),Wt?Wt(vt,lt,Ct):(console.warn(Wt+" symbol is not exist."),null)},J.symbolsFactory=nt,J}(g),st=at,tt=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="path",X.canFill=!0,X.canStroke=!0,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{startArrow:!1,endArrow:!1})},J.prototype.createPath=function(X,vt){var lt=this,Ct=this.attr(),Ft=this.get("el");Object(E.j)(vt||Ct,function(Wt,kt){if(kt==="path"&&Object(E.B)(Wt))Ft.setAttribute("d",lt._formatPath(Wt));else if(kt==="startArrow"||kt==="endArrow")if(Wt){var jt=Object(E.M)(Wt)?X.addArrow(Ct,S.b[kt]):X.getDefaultArrow(Ct,S.b[kt]);Ft.setAttribute(S.b[kt],"url(#"+jt+")")}else Ft.removeAttribute(S.b[kt]);else S.b[kt]&&Ft.setAttribute(S.b[kt],Wt)})},J.prototype._formatPath=function(X){var vt=X.map(function(lt){return lt.join(" ")}).join("");return~vt.indexOf("NaN")?"":vt},J.prototype.getTotalLength=function(){var X=this.get("el");return X?X.getTotalLength():null},J.prototype.getPoint=function(X){var vt=this.get("el"),lt=this.getTotalLength();if(lt===0)return null;var Ct=vt?vt.getPointAtLength(X*lt):null;return Ct?{x:Ct.x,y:Ct.y}:null},J}(g),Q=tt,Z=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="polygon",X.canFill=!0,X.canStroke=!0,X}return J.prototype.createPath=function(X,vt){var lt=this.attr(),Ct=this.get("el");Object(E.j)(vt||lt,function(Ft,Wt){Wt==="points"&&Object(E.B)(Ft)&&Ft.length>=2?Ct.setAttribute("points",Ft.map(function(kt){return kt[0]+","+kt[1]}).join(" ")):S.b[Wt]&&Ct.setAttribute(S.b[Wt],Ft)})},J}(g),et=Z,ct=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="polyline",X.canFill=!0,X.canStroke=!0,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{startArrow:!1,endArrow:!1})},J.prototype.onAttrChange=function(X,vt,lt){Pt.prototype.onAttrChange.call(this,X,vt,lt),["points"].indexOf(X)!==-1&&this._resetCache()},J.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},J.prototype.createPath=function(X,vt){var lt=this.attr(),Ct=this.get("el");Object(E.j)(vt||lt,function(Ft,Wt){Wt==="points"&&Object(E.B)(Ft)&&Ft.length>=2?Ct.setAttribute("points",Ft.map(function(kt){return kt[0]+","+kt[1]}).join(" ")):S.b[Wt]&&Ct.setAttribute(S.b[Wt],Ft)})},J.prototype.getTotalLength=function(){var X=this.attr().points,vt=this.get("totalLength");return Object(E.I)(vt)?(this.set("totalLength",T.d.length(X)),this.get("totalLength")):vt},J.prototype.getPoint=function(X){var vt=this.attr().points,lt=this.get("tCache");lt||(this._setTcache(),lt=this.get("tCache"));var Ct,Ft;return Object(E.j)(lt,function(Wt,kt){X>=Wt[0]&&X<=Wt[1]&&(Ct=(X-Wt[0])/(Wt[1]-Wt[0]),Ft=kt)}),T.c.pointAt(vt[Ft][0],vt[Ft][1],vt[Ft+1][0],vt[Ft+1][1],Ct)},J.prototype._setTcache=function(){var X=this.attr().points;if(!(!X||X.length===0)){var vt=this.getTotalLength();if(!(vt<=0)){var lt=0,Ct=[],Ft,Wt;Object(E.j)(X,function(kt,jt){X[jt+1]&&(Ft=[],Ft[0]=lt/vt,Wt=T.c.length(kt[0],kt[1],X[jt+1][0],X[jt+1][1]),lt+=Wt,Ft[1]=lt/vt,Ct.push(Ft))}),this.set("tCache",Ct)}}},J.prototype.getStartTangent=function(){var X=this.attr().points,vt=[];return vt.push([X[1][0],X[1][1]]),vt.push([X[0][0],X[0][1]]),vt},J.prototype.getEndTangent=function(){var X=this.attr().points,vt=X.length-1,lt=[];return lt.push([X[vt-1][0],X[vt-1][1]]),lt.push([X[vt][0],X[vt][1]]),lt},J}(g),mt=ct,Ot=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,it=/[^\s,]+/gi;function xt(Pt){var J=0,X=0,vt=0,lt=0;return Object(E.B)(Pt)?Pt.length===1?J=X=vt=lt=Pt[0]:Pt.length===2?(J=vt=Pt[0],X=lt=Pt[1]):Pt.length===3?(J=Pt[0],X=lt=Pt[1],vt=Pt[2]):(J=Pt[0],X=Pt[1],vt=Pt[2],lt=Pt[3]):J=X=vt=lt=Pt,{r1:J,r2:X,r3:vt,r4:lt}}function It(Pt){if(Pt=Pt||[],Object(E.B)(Pt))return Pt;if(Object(E.O)(Pt))return Pt=Pt.match(Ot),Object(E.j)(Pt,function(J,X){if(J=J.match(it),J[0].length>1){var vt=J[0].charAt(0);J.splice(1,0,J[0].substr(1)),J[0]=vt}Object(E.j)(J,function(lt,Ct){isNaN(lt)||(J[Ct]=+lt)}),Pt[X]=J}),Pt}var zt=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="rect",X.canFill=!0,X.canStroke=!0,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,width:0,height:0,radius:0})},J.prototype.createPath=function(X,vt){var lt=this,Ct=this.attr(),Ft=this.get("el"),Wt=!1,kt=["x","y","width","height","radius"];Object(E.j)(vt||Ct,function(jt,Y){kt.indexOf(Y)!==-1&&!Wt?(Ft.setAttribute("d",lt._assembleRect(Ct)),Wt=!0):kt.indexOf(Y)===-1&&S.b[Y]&&Ft.setAttribute(S.b[Y],jt)})},J.prototype._assembleRect=function(X){var vt=X.x,lt=X.y,Ct=X.width,Ft=X.height,Wt=X.radius;if(!Wt)return"M "+vt+","+lt+" l "+Ct+",0 l 0,"+Ft+" l"+-Ct+" 0 z";var kt=xt(Wt);Object(E.B)(Wt)?Wt.length===1?kt.r1=kt.r2=kt.r3=kt.r4=Wt[0]:Wt.length===2?(kt.r1=kt.r3=Wt[0],kt.r2=kt.r4=Wt[1]):Wt.length===3?(kt.r1=Wt[0],kt.r2=kt.r4=Wt[1],kt.r3=Wt[2]):(kt.r1=Wt[0],kt.r2=Wt[1],kt.r3=Wt[2],kt.r4=Wt[3]):kt.r1=kt.r2=kt.r3=kt.r4=Wt;var jt=[["M "+(vt+kt.r1)+","+lt],["l "+(Ct-kt.r1-kt.r2)+",0"],["a "+kt.r2+","+kt.r2+",0,0,1,"+kt.r2+","+kt.r2],["l 0,"+(Ft-kt.r2-kt.r3)],["a "+kt.r3+","+kt.r3+",0,0,1,"+-kt.r3+","+kt.r3],["l "+(kt.r3+kt.r4-Ct)+",0"],["a "+kt.r4+","+kt.r4+",0,0,1,"+-kt.r4+","+-kt.r4],["l 0,"+(kt.r4+kt.r1-Ft)],["a "+kt.r1+","+kt.r1+",0,0,1,"+kt.r1+","+-kt.r1],["z"]];return jt.join(" ")},J}(g),Kt=zt,Yt=a("qfLv"),bt=.3,ft={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},dt={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},ot={left:"left",start:"left",center:"middle",right:"end",end:"end"},Mt=function(Pt){Object(i.c)(J,Pt);function J(){var X=Pt!==null&&Pt.apply(this,arguments)||this;return X.type="text",X.canFill=!0,X.canStroke=!0,X}return J.prototype.getDefaultAttrs=function(){var X=Pt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},J.prototype.createPath=function(X,vt){var lt=this,Ct=this.attr(),Ft=this.get("el");this._setFont(),Object(E.j)(vt||Ct,function(Wt,kt){kt==="text"?lt._setText(""+Wt):kt==="matrix"&&Wt?Object(x.c)(lt):S.b[kt]&&Ft.setAttribute(S.b[kt],Wt)}),Ft.setAttribute("paint-order","stroke"),Ft.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},J.prototype._setFont=function(){var X=this.get("el"),vt=this.attr(),lt=vt.textBaseline,Ct=vt.textAlign,Ft=Object(Yt.a)();Ft&&Ft.name==="firefox"?X.setAttribute("dominant-baseline",dt[lt]||"alphabetic"):X.setAttribute("alignment-baseline",ft[lt]||"baseline"),X.setAttribute("text-anchor",ot[Ct]||"left")},J.prototype._setText=function(X){var vt=this.get("el"),lt=this.attr(),Ct=lt.x,Ft=lt.textBaseline,Wt=Ft===void 0?"bottom":Ft;if(!X)vt.innerHTML="";else if(~X.indexOf(`
`)){var kt=X.split(`
`),jt=kt.length-1,Y="";Object(E.j)(kt,function(U,j){j===0?Wt==="alphabetic"?Y+='<tspan x="'+Ct+'" dy="'+-jt+'em">'+U+"</tspan>":Wt==="top"?Y+='<tspan x="'+Ct+'" dy="0.9em">'+U+"</tspan>":Wt==="middle"?Y+='<tspan x="'+Ct+'" dy="'+-(jt-1)/2+'em">'+U+"</tspan>":Wt==="bottom"?Y+='<tspan x="'+Ct+'" dy="-'+(jt+bt)+'em">'+U+"</tspan>":Wt==="hanging"&&(Y+='<tspan x="'+Ct+'" dy="'+(-(jt-1)-bt)+'em">'+U+"</tspan>"):Y+='<tspan x="'+Ct+'" dy="1em">'+U+"</tspan>"}),vt.innerHTML=Y}else vt.innerHTML=X},J}(g),Nt=Mt},"p/Nb":function(Ut,L,a){"use strict";var h=a("XSdR"),i=a("hppO"),O=a("FeKW").positionX;Ut.exports=x;function x(A){A=i.asNonCompoundGraph(A),C(A),h.forEach(O(A),function(S,M){A.node(M).x=S})}function C(A){var S=i.buildLayerMatrix(A),M=A.graph().ranksep,b=0;h.forEach(S,function(g){var E=h.max(h.map(g,function(D){return A.node(D).height}));h.forEach(g,function(D){A.node(D).y=b+E/2}),b+=E+M})}},pHoc:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Lookup=void 0;var h=a("JIc3"),i=function(){function O(){this._map=new Map}return O.prototype.getMap=function(){return this._map},O.prototype.add=function(x,C){if(x==null)throw new Error(h.NULL_ARGUMENT);if(C==null)throw new Error(h.NULL_ARGUMENT);var A=this._map.get(x);A!==void 0?(A.push(C),this._map.set(x,A)):this._map.set(x,[C])},O.prototype.get=function(x){if(x==null)throw new Error(h.NULL_ARGUMENT);var C=this._map.get(x);if(C!==void 0)return C;throw new Error(h.KEY_NOT_FOUND)},O.prototype.remove=function(x){if(x==null)throw new Error(h.NULL_ARGUMENT);if(!this._map.delete(x))throw new Error(h.KEY_NOT_FOUND)},O.prototype.removeByCondition=function(x){var C=this;this._map.forEach(function(A,S){var M=A.filter(function(b){return!x(b)});M.length>0?C._map.set(S,M):C._map.delete(S)})},O.prototype.hasKey=function(x){if(x==null)throw new Error(h.NULL_ARGUMENT);return this._map.has(x)},O.prototype.clone=function(){var x=new O;return this._map.forEach(function(C,A){C.forEach(function(S){return x.add(A,S.clone())})}),x},O.prototype.traverse=function(x){this._map.forEach(function(C,A){x(A,C)})},O}();L.Lookup=i},pHwo:function(Ut,L){Ut.exports=1e-6},pUwi:function(Ut,L,a){Ut.exports=a("PdHs")},pWqc:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.typeConstraint=L.namedConstraint=L.taggedConstraint=L.traverseAncerstors=void 0;var h=a("4b80"),i=a("TSqk"),O=function S(M,b){var g=M.parentRequest;return g!==null?b(g)?!0:S(g,b):!1};L.traverseAncerstors=O;var x=function(M){return function(b){var g=function(D){return D!==null&&D.target!==null&&D.target.matchesTag(M)(b)};return g.metaData=new i.Metadata(M,b),g}};L.taggedConstraint=x;var C=x(h.NAMED_TAG);L.namedConstraint=C;var A=function(M){return function(b){var g=null;if(b!==null)if(g=b.bindings[0],typeof M=="string"){var E=g.serviceIdentifier;return E===M}else{var D=b.bindings[0].implementationType;return M===D}return!1}};L.typeConstraint=A},"qMt/":function(Ut,L,a){"use strict";a.d(L,"a",function(){return C});var h=a("J+IK"),i=a("2xSO"),O=a("RF2d"),x=a("7Y4W");function C(A){var S=A.options,M=S.polygon,b=S.xField,g=S.yField,E=S.seriesField,D=S.tooltip,p=Object(i.a)(D,[b,g,E]),N=p.fields,I=p.formatter;return M?Object(x.a)(Object(O.b)({},A,{options:{type:"polygon",colorField:E,tooltipFields:N,mapping:Object(h.a)({tooltip:I},M)}})):A}},qRoJ:function(Ut,L,a){"use strict";var h=a("ytXd"),i=a("VMwZ"),O=[].slice,x=["keyword","gray","hex"],C={};Object.keys(i).forEach(function(N){C[O.call(i[N].labels).sort().join("")]=N});var A={};function S(N,I){if(!(this instanceof S))return new S(N,I);if(I&&I in x&&(I=null),I&&!(I in i))throw new Error("Unknown model: "+I);var G,W;if(N==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(N instanceof S)this.model=N.model,this.color=N.color.slice(),this.valpha=N.valpha;else if(typeof N=="string"){var z=h.get(N);if(z===null)throw new Error("Unable to parse color from string: "+N);this.model=z.model,W=i[this.model].channels,this.color=z.value.slice(0,W),this.valpha=typeof z.value[W]=="number"?z.value[W]:1}else if(N.length){this.model=I||"rgb",W=i[this.model].channels;var w=O.call(N,0,W);this.color=p(w,W),this.valpha=typeof N[W]=="number"?N[W]:1}else if(typeof N=="number")N&=16777215,this.model="rgb",this.color=[N>>16&255,N>>8&255,N&255],this.valpha=1;else{this.valpha=1;var T=Object.keys(N);"alpha"in N&&(T.splice(T.indexOf("alpha"),1),this.valpha=typeof N.alpha=="number"?N.alpha:0);var B=T.sort().join("");if(!(B in C))throw new Error("Unable to parse color from object: "+JSON.stringify(N));this.model=C[B];var V=i[this.model].labels,$=[];for(G=0;G<V.length;G++)$.push(N[V[G]]);this.color=p($)}if(A[this.model])for(W=i[this.model].channels,G=0;G<W;G++){var nt=A[this.model][G];nt&&(this.color[G]=nt(this.color[G]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}S.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(I){var G=this.model in h.to?this:this.rgb();G=G.round(typeof I=="number"?I:1);var W=G.valpha===1?G.color:G.color.concat(this.valpha);return h.to[G.model](W)},percentString:function(I){var G=this.rgb().round(typeof I=="number"?I:1),W=G.valpha===1?G.color:G.color.concat(this.valpha);return h.to.rgb.percent(W)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var I={},G=i[this.model].channels,W=i[this.model].labels,z=0;z<G;z++)I[W[z]]=this.color[z];return this.valpha!==1&&(I.alpha=this.valpha),I},unitArray:function(){var I=this.rgb().color;return I[0]/=255,I[1]/=255,I[2]/=255,this.valpha!==1&&I.push(this.valpha),I},unitObject:function(){var I=this.rgb().object();return I.r/=255,I.g/=255,I.b/=255,this.valpha!==1&&(I.alpha=this.valpha),I},round:function(I){return I=Math.max(I||0,0),new S(this.color.map(b(I)).concat(this.valpha),this.model)},alpha:function(I){return arguments.length?new S(this.color.concat(Math.max(0,Math.min(1,I))),this.model):this.valpha},red:g("rgb",0,E(255)),green:g("rgb",1,E(255)),blue:g("rgb",2,E(255)),hue:g(["hsl","hsv","hsl","hwb","hcg"],0,function(N){return(N%360+360)%360}),saturationl:g("hsl",1,E(100)),lightness:g("hsl",2,E(100)),saturationv:g("hsv",1,E(100)),value:g("hsv",2,E(100)),chroma:g("hcg",1,E(100)),gray:g("hcg",2,E(100)),white:g("hwb",1,E(100)),wblack:g("hwb",2,E(100)),cyan:g("cmyk",0,E(100)),magenta:g("cmyk",1,E(100)),yellow:g("cmyk",2,E(100)),black:g("cmyk",3,E(100)),x:g("xyz",0,E(100)),y:g("xyz",1,E(100)),z:g("xyz",2,E(100)),l:g("lab",0,E(100)),a:g("lab",1),b:g("lab",2),keyword:function(I){return arguments.length?new S(I):i[this.model].keyword(this.color)},hex:function(I){return arguments.length?new S(I):h.to.hex(this.rgb().round().color)},rgbNumber:function(){var I=this.rgb().color;return(I[0]&255)<<16|(I[1]&255)<<8|I[2]&255},luminosity:function(){for(var I=this.rgb().color,G=[],W=0;W<I.length;W++){var z=I[W]/255;G[W]=z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4)}return .2126*G[0]+.7152*G[1]+.0722*G[2]},contrast:function(I){var G=this.luminosity(),W=I.luminosity();return G>W?(G+.05)/(W+.05):(W+.05)/(G+.05)},level:function(I){var G=this.contrast(I);return G>=7.1?"AAA":G>=4.5?"AA":""},isDark:function(){var I=this.rgb().color,G=(I[0]*299+I[1]*587+I[2]*114)/1e3;return G<128},isLight:function(){return!this.isDark()},negate:function(){for(var I=this.rgb(),G=0;G<3;G++)I.color[G]=255-I.color[G];return I},lighten:function(I){var G=this.hsl();return G.color[2]+=G.color[2]*I,G},darken:function(I){var G=this.hsl();return G.color[2]-=G.color[2]*I,G},saturate:function(I){var G=this.hsl();return G.color[1]+=G.color[1]*I,G},desaturate:function(I){var G=this.hsl();return G.color[1]-=G.color[1]*I,G},whiten:function(I){var G=this.hwb();return G.color[1]+=G.color[1]*I,G},blacken:function(I){var G=this.hwb();return G.color[2]+=G.color[2]*I,G},grayscale:function(){var I=this.rgb().color,G=I[0]*.3+I[1]*.59+I[2]*.11;return S.rgb(G,G,G)},fade:function(I){return this.alpha(this.valpha-this.valpha*I)},opaquer:function(I){return this.alpha(this.valpha+this.valpha*I)},rotate:function(I){var G=this.hsl(),W=G.color[0];return W=(W+I)%360,W=W<0?360+W:W,G.color[0]=W,G},mix:function(I,G){if(!I||!I.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof I);var W=I.rgb(),z=this.rgb(),w=G===void 0?.5:G,T=2*w-1,B=W.alpha()-z.alpha(),V=((T*B==-1?T:(T+B)/(1+T*B))+1)/2,$=1-V;return S.rgb(V*W.red()+$*z.red(),V*W.green()+$*z.green(),V*W.blue()+$*z.blue(),W.alpha()*w+z.alpha()*(1-w))}},Object.keys(i).forEach(function(N){if(x.indexOf(N)===-1){var I=i[N].channels;S.prototype[N]=function(){if(this.model===N)return new S(this);if(arguments.length)return new S(arguments,N);var G=typeof arguments[I]=="number"?I:this.valpha;return new S(D(i[this.model][N].raw(this.color)).concat(G),N)},S[N]=function(G){return typeof G=="number"&&(G=p(O.call(arguments),I)),new S(G,N)}}});function M(N,I){return Number(N.toFixed(I))}function b(N){return function(I){return M(I,N)}}function g(N,I,G){return N=Array.isArray(N)?N:[N],N.forEach(function(W){(A[W]||(A[W]=[]))[I]=G}),N=N[0],function(W){var z;return arguments.length?(G&&(W=G(W)),z=this[N](),z.color[I]=W,z):(z=this[N]().color[I],G&&(z=G(z)),z)}}function E(N){return function(I){return Math.max(0,Math.min(N,I))}}function D(N){return Array.isArray(N)?N:[N]}function p(N,I){for(var G=0;G<I;G++)typeof N[G]!="number"&&(N[G]=0);return N}Ut.exports=S},qTrL:function(Ut,L){var a=800,h=16,i=Date.now;function O(x){var C=0,A=0;return function(){var S=i(),M=h-(S-A);if(A=S,M>0){if(++C>=a)return arguments[0]}else C=0;return x.apply(void 0,arguments)}}Ut.exports=O},qTvU:function(Ut,L,a){var h=a("2PUN");function i(O){var x=O==null?0:O.length;return x?h(O,1):[]}Ut.exports=i},qXgj:function(Ut,L,a){var h=a("IZ4i"),i=a("qTrL"),O=i(h);Ut.exports=O},qagQ:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.circularDependencyToException=L.listMetadataForTarget=L.listRegisteredBindingsForServiceIdentifier=L.getServiceIdentifierAsString=L.getFunctionName=void 0;var h=a("JIc3");function i(b){if(typeof b=="function"){var g=b;return g.name}else{if(typeof b=="symbol")return b.toString();var g=b;return g}}L.getServiceIdentifierAsString=i;function O(b,g,E){var D="",p=E(b,g);return p.length!==0&&(D=`
Registered bindings:`,p.forEach(function(N){var I="Object";N.implementationType!==null&&(I=M(N.implementationType)),D=D+`
 `+I,N.constraint.metaData&&(D=D+" - "+N.constraint.metaData)})),D}L.listRegisteredBindingsForServiceIdentifier=O;function x(b,g){return b.parentRequest===null?!1:b.parentRequest.serviceIdentifier===g?!0:x(b.parentRequest,g)}function C(b){function g(D,p){p===void 0&&(p=[]);var N=i(D.serviceIdentifier);return p.push(N),D.parentRequest!==null?g(D.parentRequest,p):p}var E=g(b);return E.reverse().join(" --> ")}function A(b){b.childRequests.forEach(function(g){if(x(g,g.serviceIdentifier)){var E=C(g);throw new Error(h.CIRCULAR_DEPENDENCY+" "+E)}else A(g)})}L.circularDependencyToException=A;function S(b,g){if(g.isTagged()||g.isNamed()){var E="",D=g.getNamedTag(),p=g.getCustomTags();return D!==null&&(E+=D.toString()+`
`),p!==null&&p.forEach(function(N){E+=N.toString()+`
`})," "+b+`
 `+b+" - "+E}else return" "+b}L.listMetadataForTarget=S;function M(b){if(b.name)return b.name;var g=b.toString(),E=g.match(/^function\s*([^\s(]+)/);return E?E[1]:"Anonymous function: "+g}L.getFunctionName=M},qccO:function(Ut,L,a){var h=a("qhWv"),i=1/0,O=17976931348623157e292;function x(C){if(!C)return C===0?C:0;if(C=h(C),C===i||C===-i){var A=C<0?-1:1;return A*O}return C===C?C:0}Ut.exports=x},qfLv:function(Ut,L,a){"use strict";(function(h){a.d(L,"a",function(){return p});var i=function(){for(var T=0,B=0,V=arguments.length;B<V;B++)T+=arguments[B].length;for(var $=Array(T),nt=0,B=0;B<V;B++)for(var at=arguments[B],st=0,tt=at.length;st<tt;st++,nt++)$[nt]=at[st];return $},O=function(){function T(B,V,$){this.name=B,this.version=V,this.os=$,this.type="browser"}return T}(),x=function(){function T(B){this.version=B,this.type="node",this.name="node",this.os=h.platform}return T}(),C=function(){function T(B,V,$,nt){this.name=B,this.version=V,this.os=$,this.bot=nt,this.type="bot-device"}return T}(),A=function(){function T(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return T}(),S=function(){function T(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return T}(),M=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,b=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,g=3,E=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",M]],D=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(T){return T?G(T):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new S:typeof navigator!="undefined"?G(navigator.userAgent):z()}function N(T){return T!==""&&E.reduce(function(B,V){var $=V[0],nt=V[1];if(B)return B;var at=nt.exec(T);return!!at&&[$,at]},!1)}function I(T){var B=N(T);return B?B[0]:null}function G(T){var B=N(T);if(!B)return null;var V=B[0],$=B[1];if(V==="searchbot")return new A;var nt=$[1]&&$[1].split(/[._]/).slice(0,3);nt?nt.length<g&&(nt=i(nt,w(g-nt.length))):nt=[];var at=nt.join("."),st=W(T),tt=b.exec(T);return tt&&tt[1]?new C(V,at,st,tt[1]):new O(V,at,st)}function W(T){for(var B=0,V=D.length;B<V;B++){var $=D[B],nt=$[0],at=$[1],st=at.exec(T);if(st)return nt}return null}function z(){var T=typeof h!="undefined"&&h.version;return T?new x(h.version.slice(1)):null}function w(T){for(var B=[],V=0;V<T;V++)B.push("0");return B}}).call(this,a("7vYp"))},qh6B:function(Ut,L,a){"use strict";a.d(L,"b",function(){return O});var h=a("yK/m"),i=a("H6vk");L.a=function(x,C){return(Object(i.b)(C)?i.a:O)(x,C)};function O(x,C){var A=C?C.length:0,S=x?Math.min(A,x.length):0,M=new Array(S),b=new Array(A),g;for(g=0;g<S;++g)M[g]=Object(h.a)(x[g],C[g]);for(;g<A;++g)b[g]=C[g];return function(E){for(g=0;g<S;++g)b[g]=M[g](E);return b}}},"ql+n":function(Ut,L,a){var h;try{h={clone:a("WlgG"),constant:a("vqXp"),each:a("8hqx"),filter:a("NFwm"),has:a("v/6M"),isArray:a("+Gi7"),isEmpty:a("x+i1"),isFunction:a("wmqP"),isUndefined:a("4tFv"),keys:a("KmIr"),map:a("N7LH"),reduce:a("5+Yv"),size:a("cGgO"),transform:a("3f1o"),union:a("VmDj"),values:a("jHy/")}}catch(i){}h||(h=window._),Ut.exports=h},qlOW:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.BindingWhenSyntax=void 0;var h=a("fXuZ"),i=a("pWqc"),O=function(){function x(C){this._binding=C}return x.prototype.when=function(C){return this._binding.constraint=C,new h.BindingOnSyntax(this._binding)},x.prototype.whenTargetNamed=function(C){return this._binding.constraint=i.namedConstraint(C),new h.BindingOnSyntax(this._binding)},x.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(C){var A=C.target!==null&&!C.target.isNamed()&&!C.target.isTagged();return A},new h.BindingOnSyntax(this._binding)},x.prototype.whenTargetTagged=function(C,A){return this._binding.constraint=i.taggedConstraint(C)(A),new h.BindingOnSyntax(this._binding)},x.prototype.whenInjectedInto=function(C){return this._binding.constraint=function(A){return i.typeConstraint(C)(A.parentRequest)},new h.BindingOnSyntax(this._binding)},x.prototype.whenParentNamed=function(C){return this._binding.constraint=function(A){return i.namedConstraint(C)(A.parentRequest)},new h.BindingOnSyntax(this._binding)},x.prototype.whenParentTagged=function(C,A){return this._binding.constraint=function(S){return i.taggedConstraint(C)(A)(S.parentRequest)},new h.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorIs=function(C){return this._binding.constraint=function(A){return i.traverseAncerstors(A,i.typeConstraint(C))},new h.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorIs=function(C){return this._binding.constraint=function(A){return!i.traverseAncerstors(A,i.typeConstraint(C))},new h.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorNamed=function(C){return this._binding.constraint=function(A){return i.traverseAncerstors(A,i.namedConstraint(C))},new h.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorNamed=function(C){return this._binding.constraint=function(A){return!i.traverseAncerstors(A,i.namedConstraint(C))},new h.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorTagged=function(C,A){return this._binding.constraint=function(S){return i.traverseAncerstors(S,i.taggedConstraint(C)(A))},new h.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorTagged=function(C,A){return this._binding.constraint=function(S){return!i.traverseAncerstors(S,i.taggedConstraint(C)(A))},new h.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorMatches=function(C){return this._binding.constraint=function(A){return i.traverseAncerstors(A,C)},new h.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorMatches=function(C){return this._binding.constraint=function(A){return!i.traverseAncerstors(A,C)},new h.BindingOnSyntax(this._binding)},x}();L.BindingWhenSyntax=O},qoD0:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jg4I"),O=a("Ilvg"),x=a("MOSd"),C={},A="_INDEX";function S(p,N){if(p.set("canvas",N),p.isGroup()){var I=p.get("children");I.length&&I.forEach(function(G){S(G,N)})}}function M(p,N){if(p.set("timeline",N),p.isGroup()){var I=p.get("children");I.length&&I.forEach(function(G){M(G,N)})}}function b(p,N){var I=p.getChildren();return I.indexOf(N)>=0}function g(p,N,I){I===void 0&&(I=!0),I?N.destroy():(N.set("parent",null),N.set("canvas",null)),Object(x.j)(p.getChildren(),N)}function E(p){return function(N,I){var G=p(N,I);return G===0?N[A]-I[A]:G}}var D=function(p){Object(h.c)(N,p);function N(){return p!==null&&p.apply(this,arguments)||this}return N.prototype.isCanvas=function(){return!1},N.prototype.getBBox=function(){var I=Infinity,G=-Infinity,W=Infinity,z=-Infinity,w=[],T=[],B=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});B.length>0?(Object(x.a)(B,function($){var nt=$.getBBox();w.push(nt.minX,nt.maxX),T.push(nt.minY,nt.maxY)}),I=Object(i.Z)(w),G=Object(i.W)(w),W=Object(i.Z)(T),z=Object(i.W)(T)):(I=0,G=0,W=0,z=0);var V={x:I,y:W,minX:I,minY:W,maxX:G,maxY:z,width:G-I,height:z-W};return V},N.prototype.getCanvasBBox=function(){var I=Infinity,G=-Infinity,W=Infinity,z=-Infinity,w=[],T=[],B=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});B.length>0?(Object(x.a)(B,function($){var nt=$.getCanvasBBox();w.push(nt.minX,nt.maxX),T.push(nt.minY,nt.maxY)}),I=Object(i.Z)(w),G=Object(i.W)(w),W=Object(i.Z)(T),z=Object(i.W)(T)):(I=0,G=0,W=0,z=0);var V={x:I,y:W,minX:I,minY:W,maxX:G,maxY:z,width:G-I,height:z-W};return V},N.prototype.getDefaultCfg=function(){var I=p.prototype.getDefaultCfg.call(this);return I.children=[],I},N.prototype.onAttrChange=function(I,G,W){if(p.prototype.onAttrChange.call(this,I,G,W),I==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},N.prototype.applyMatrix=function(I){var G=this.getTotalMatrix();p.prototype.applyMatrix.call(this,I);var W=this.getTotalMatrix();W!==G&&this._applyChildrenMarix(W)},N.prototype._applyChildrenMarix=function(I){var G=this.getChildren();Object(x.a)(G,function(W){W.applyMatrix(I)})},N.prototype.addShape=function(){for(var I=[],G=0;G<arguments.length;G++)I[G]=arguments[G];var W=I[0],z=I[1];Object(x.f)(W)?z=W:z.type=W;var w=C[z.type];w||(w=Object(x.k)(z.type),C[z.type]=w);var T=this.getShapeBase(),B=new T[w](z);return this.add(B),B},N.prototype.addGroup=function(){for(var I=[],G=0;G<arguments.length;G++)I[G]=arguments[G];var W=I[0],z=I[1],w;if(Object(x.d)(W))z?w=new W(z):w=new W({parent:this});else{var T=W||{},B=this.getGroupBase();w=new B(T)}return this.add(w),w},N.prototype.getCanvas=function(){var I;return this.isCanvas()?I=this:I=this.get("canvas"),I},N.prototype.getShape=function(I,G,W){if(!Object(x.b)(this))return null;var z=this.getChildren(),w;if(this.isCanvas())w=this._findShape(z,I,G,W);else{var T=[I,G,1];T=this.invertFromMatrix(T),this.isClipped(T[0],T[1])||(w=this._findShape(z,T[0],T[1],W))}return w},N.prototype._findShape=function(I,G,W,z){for(var w=null,T=I.length-1;T>=0;T--){var B=I[T];if(Object(x.b)(B)&&(B.isGroup()?w=B.getShape(G,W,z):B.isHit(G,W)&&(w=B)),w)break}return w},N.prototype.add=function(I){var G=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),w=I.getParent();w&&g(w,I,!1),I.set("parent",this),G&&S(I,G),z&&M(I,z),W.push(I),I.onCanvasChange("add"),this._applyElementMatrix(I)},N.prototype._applyElementMatrix=function(I){var G=this.getTotalMatrix();G&&I.applyMatrix(G)},N.prototype.getChildren=function(){return this.get("children")},N.prototype.sort=function(){var I=this.getChildren();Object(x.a)(I,function(G,W){return G[A]=W,G}),I.sort(E(function(G,W){return G.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},N.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var I=this.getChildren(),G=I.length-1;G>=0;G--)I[G].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},N.prototype.destroy=function(){this.get("destroyed")||(this.clear(),p.prototype.destroy.call(this))},N.prototype.getFirst=function(){return this.getChildByIndex(0)},N.prototype.getLast=function(){var I=this.getChildren();return this.getChildByIndex(I.length-1)},N.prototype.getChildByIndex=function(I){var G=this.getChildren();return G[I]},N.prototype.getCount=function(){var I=this.getChildren();return I.length},N.prototype.contain=function(I){var G=this.getChildren();return G.indexOf(I)>-1},N.prototype.removeChild=function(I,G){G===void 0&&(G=!0),this.contain(I)&&I.remove(G)},N.prototype.findAll=function(I){var G=[],W=this.getChildren();return Object(x.a)(W,function(z){I(z)&&G.push(z),z.isGroup()&&(G=G.concat(z.findAll(I)))}),G},N.prototype.find=function(I){var G=null,W=this.getChildren();return Object(x.a)(W,function(z){if(I(z)?G=z:z.isGroup()&&(G=z.find(I)),G)return!1}),G},N.prototype.findById=function(I){return this.find(function(G){return G.get("id")===I})},N.prototype.findByClassName=function(I){return this.find(function(G){return G.get("className")===I})},N.prototype.findAllByName=function(I){return this.findAll(function(G){return G.get("name")===I})},N}(O.a);L.a=D},qvXp:function(Ut,L,a){var h=a("E9DR");Ut.exports=i;function i(O,x){return h(O,x,"post")}},"r/Jg":function(Ut,L){Ut.exports=a;function a(h,i){return h[0]=i[0],h[1]=i[1],h}},rBQE:function(Ut,L){Ut.exports=a;function a(h,i){var O=i[0]-h[0],x=i[1]-h[1];return Math.sqrt(O*O+x*x)}},rCs2:function(Ut,L,a){"use strict";a.d(L,"a",function(){return C});var h=a("PZqk");function i(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function O(A,S){return i(A)*i(S)?(A[0]*S[0]+A[1]*S[1])/(i(A)*i(S)):1}function x(A,S){return(A[0]*S[1]<A[1]*S[0]?-1:1)*Math.acos(O(A,S))}function C(A,S){var M=S[1],b=S[2],g=Object(h.m)(Object(h.o)(S[3]),Math.PI*2),E=S[4],D=S[5],p=A[0],N=A[1],I=S[6],G=S[7],W=Math.cos(g)*(p-I)/2+Math.sin(g)*(N-G)/2,z=-1*Math.sin(g)*(p-I)/2+Math.cos(g)*(N-G)/2,w=W*W/(M*M)+z*z/(b*b);w>1&&(M*=Math.sqrt(w),b*=Math.sqrt(w));var T=M*M*(z*z)+b*b*(W*W),B=T?Math.sqrt((M*M*(b*b)-T)/T):1;E===D&&(B*=-1),isNaN(B)&&(B=0);var V=b?B*M*z/b:0,$=M?B*-b*W/M:0,nt=(p+I)/2+Math.cos(g)*V-Math.sin(g)*$,at=(N+G)/2+Math.sin(g)*V+Math.cos(g)*$,st=[(W-V)/M,(z-$)/b],tt=[(-1*W-V)/M,(-1*z-$)/b],Q=x([1,0],st),Z=x(st,tt);return O(st,tt)<=-1&&(Z=Math.PI),O(st,tt)>=1&&(Z=0),D===0&&Z>0&&(Z=Z-2*Math.PI),D===1&&Z<0&&(Z=Z+2*Math.PI),{cx:nt,cy:at,rx:Object(h.j)(A,[I,G])?0:M,ry:Object(h.j)(A,[I,G])?0:b,startAngle:Q,endAngle:Q+Z,xRotation:g,arcFlag:E,sweepFlag:D}}},rI2c:function(Ut,L,a){"use strict";a.d(L,"a",function(){return g}),a.d(L,"b",function(){return gt}),a.d(L,"c",function(){return S}),a.d(L,"d",function(){return We});var h={};a.r(h),a.d(h,"default",function(){return dt}),a.d(h,"assign",function(){return T}),a.d(h,"format",function(){return Yt}),a.d(h,"parse",function(){return bt}),a.d(h,"defaultI18n",function(){return at}),a.d(h,"setGlobalDateI18n",function(){return tt}),a.d(h,"setGlobalDateMasks",function(){return Kt});var i=a("jg4I"),O={};function x(fe){return O[fe]}function C(fe,oe){O[fe]=oe}var A=function(){function fe(oe){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=oe,this.initCfg(),this.init()}return fe.prototype.translate=function(oe){return oe},fe.prototype.change=function(oe){Object(i.b)(this.__cfg__,oe),this.init()},fe.prototype.clone=function(){return this.constructor(this.__cfg__)},fe.prototype.getTicks=function(){var oe=this;return Object(i.U)(this.ticks,function(he,Ne){return Object(i.M)(he)?he:{text:oe.getText(he,Ne),tickValue:he,value:oe.scale(he)}})},fe.prototype.getText=function(oe,he){var Ne=this.formatter,He=Ne?Ne(oe,he):oe;return Object(i.I)(He)||!Object(i.H)(He.toString)?"":He.toString()},fe.prototype.getConfig=function(oe){return this.__cfg__[oe]},fe.prototype.init=function(){Object(i.b)(this,this.__cfg__),this.setDomain(),Object(i.F)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},fe.prototype.initCfg=function(){},fe.prototype.setDomain=function(){},fe.prototype.calculateTicks=function(){var oe=this.tickMethod,he=[];if(Object(i.O)(oe)){var Ne=x(oe);if(!Ne)throw new Error("There is no method to to calculate ticks!");he=Ne(this)}else Object(i.H)(oe)&&(he=oe(this));return he},fe.prototype.rangeMin=function(){return Object(i.y)(this.range)},fe.prototype.rangeMax=function(){return Object(i.S)(this.range)},fe.prototype.calcPercent=function(oe,he,Ne){return Object(i.K)(oe)?(oe-he)/(Ne-he):NaN},fe.prototype.calcValue=function(oe,he,Ne){return he+oe*(Ne-he)},fe}(),S=A,M=a("J+IK"),b=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="cat",he.isCategory=!0,he}return oe.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var he=0;he<this.values.length;he++)this.translateIndexMap.set(this.values[he],he)}},oe.prototype.translate=function(he){this.buildIndexMap();var Ne=this.translateIndexMap.get(he);return Ne===void 0&&(Ne=Object(i.K)(he)?he:NaN),Ne},oe.prototype.scale=function(he){var Ne=this.translate(he),He=this.calcPercent(Ne,this.min,this.max);return this.calcValue(He,this.rangeMin(),this.rangeMax())},oe.prototype.invert=function(he){var Ne=this.max-this.min,He=this.calcPercent(he,this.rangeMin(),this.rangeMax()),ar=Math.round(Ne*He)+this.min;return ar<this.min||ar>this.max?NaN:this.values[ar]},oe.prototype.getText=function(he){for(var Ne=[],He=1;He<arguments.length;He++)Ne[He-1]=arguments[He];var ar=he;return Object(i.K)(he)&&!this.values.includes(he)&&(ar=this.values[ar]),fe.prototype.getText.apply(this,Object(M.g)([ar],Ne))},oe.prototype.initCfg=function(){this.tickMethod="cat"},oe.prototype.setDomain=function(){if(Object(i.I)(this.getConfig("min"))&&(this.min=0),Object(i.I)(this.getConfig("max"))){var he=this.values.length;this.max=he>1?he-1:he}this.translateIndexMap&&(this.translateIndexMap=void 0)},oe}(S),g=b,E=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,D="[1-9]\\d?",p="\\d\\d",N="\\d{3}",I="\\d{4}",G="[^\\s]+",W=/\[([^]*?)\]/gm;function z(fe,oe){for(var he=[],Ne=0,He=fe.length;Ne<He;Ne++)he.push(fe[Ne].substr(0,oe));return he}var w=function(oe){return function(he,Ne){var He=Ne[oe].map(function(Er){return Er.toLowerCase()}),ar=He.indexOf(he.toLowerCase());return ar>-1?ar:null}};function T(fe){for(var oe=[],he=1;he<arguments.length;he++)oe[he-1]=arguments[he];for(var Ne=0,He=oe;Ne<He.length;Ne++){var ar=He[Ne];for(var Er in ar)fe[Er]=ar[Er]}return fe}var B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],V=["January","February","March","April","May","June","July","August","September","October","November","December"],$=z(V,3),nt=z(B,3),at={dayNamesShort:nt,dayNames:B,monthNamesShort:$,monthNames:V,amPm:["am","pm"],DoFn:function(oe){return oe+["th","st","nd","rd"][oe%10>3?0:(oe-oe%10!=10?1:0)*oe%10]}},st=T({},at),tt=function(oe){return st=T(st,oe)},Q=function(oe){return oe.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Z=function(oe,he){for(he===void 0&&(he=2),oe=String(oe);oe.length<he;)oe="0"+oe;return oe},et={D:function(oe){return String(oe.getDate())},DD:function(oe){return Z(oe.getDate())},Do:function(oe,he){return he.DoFn(oe.getDate())},d:function(oe){return String(oe.getDay())},dd:function(oe){return Z(oe.getDay())},ddd:function(oe,he){return he.dayNamesShort[oe.getDay()]},dddd:function(oe,he){return he.dayNames[oe.getDay()]},M:function(oe){return String(oe.getMonth()+1)},MM:function(oe){return Z(oe.getMonth()+1)},MMM:function(oe,he){return he.monthNamesShort[oe.getMonth()]},MMMM:function(oe,he){return he.monthNames[oe.getMonth()]},YY:function(oe){return Z(String(oe.getFullYear()),4).substr(2)},YYYY:function(oe){return Z(oe.getFullYear(),4)},h:function(oe){return String(oe.getHours()%12||12)},hh:function(oe){return Z(oe.getHours()%12||12)},H:function(oe){return String(oe.getHours())},HH:function(oe){return Z(oe.getHours())},m:function(oe){return String(oe.getMinutes())},mm:function(oe){return Z(oe.getMinutes())},s:function(oe){return String(oe.getSeconds())},ss:function(oe){return Z(oe.getSeconds())},S:function(oe){return String(Math.round(oe.getMilliseconds()/100))},SS:function(oe){return Z(Math.round(oe.getMilliseconds()/10),2)},SSS:function(oe){return Z(oe.getMilliseconds(),3)},a:function(oe,he){return oe.getHours()<12?he.amPm[0]:he.amPm[1]},A:function(oe,he){return oe.getHours()<12?he.amPm[0].toUpperCase():he.amPm[1].toUpperCase()},ZZ:function(oe){var he=oe.getTimezoneOffset();return(he>0?"-":"+")+Z(Math.floor(Math.abs(he)/60)*100+Math.abs(he)%60,4)},Z:function(oe){var he=oe.getTimezoneOffset();return(he>0?"-":"+")+Z(Math.floor(Math.abs(he)/60),2)+":"+Z(Math.abs(he)%60,2)}},ct=function(oe){return+oe-1},mt=[null,D],Ot=[null,G],it=["isPm",G,function(fe,oe){var he=fe.toLowerCase();return he===oe.amPm[0]?0:he===oe.amPm[1]?1:null}],xt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(fe){var oe=(fe+"").match(/([+-]|\d\d)/gi);if(oe){var he=+oe[1]*60+parseInt(oe[2],10);return oe[0]==="+"?he:-he}return 0}],It={D:["day",D],DD:["day",p],Do:["day",D+G,function(fe){return parseInt(fe,10)}],M:["month",D,ct],MM:["month",p,ct],YY:["year",p,function(fe){var oe=new Date,he=+(""+oe.getFullYear()).substr(0,2);return+(""+(+fe>68?he-1:he)+fe)}],h:["hour",D,void 0,"isPm"],hh:["hour",p,void 0,"isPm"],H:["hour",D],HH:["hour",p],m:["minute",D],mm:["minute",p],s:["second",D],ss:["second",p],YYYY:["year",I],S:["millisecond","\\d",function(fe){return+fe*100}],SS:["millisecond",p,function(fe){return+fe*10}],SSS:["millisecond",N],d:mt,dd:mt,ddd:Ot,dddd:Ot,MMM:["month",G,w("monthNamesShort")],MMMM:["month",G,w("monthNames")],a:it,A:it,ZZ:xt,Z:xt},zt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Kt=function(oe){return T(zt,oe)},Yt=function(oe,he,Ne){if(he===void 0&&(he=zt.default),Ne===void 0&&(Ne={}),typeof oe=="number"&&(oe=new Date(oe)),Object.prototype.toString.call(oe)!=="[object Date]"||isNaN(oe.getTime()))throw new Error("Invalid Date pass to format");he=zt[he]||he;var He=[];he=he.replace(W,function(Er,Br){return He.push(Br),"@@@"});var ar=T(T({},st),Ne);return he=he.replace(E,function(Er){return et[Er](oe,ar)}),he.replace(/@@@/g,function(){return He.shift()})};function bt(fe,oe,he){if(he===void 0&&(he={}),typeof oe!="string")throw new Error("Invalid format in fecha parse");if(oe=zt[oe]||oe,fe.length>1e3)return null;var Ne=new Date,He={year:Ne.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},ar=[],Er=[],Br=oe.replace(W,function(Ki,qn){return Er.push(Q(qn)),"@@@"}),Ln={},Bn={};Br=Q(Br).replace(E,function(Ki){var qn=It[Ki],Xa=qn[0],Ro=qn[1],wo=qn[3];if(Ln[Xa])throw new Error("Invalid format. "+Xa+" specified twice in format");return Ln[Xa]=!0,wo&&(Bn[wo]=!0),ar.push(qn),"("+Ro+")"}),Object.keys(Bn).forEach(function(Ki){if(!Ln[Ki])throw new Error("Invalid format. "+Ki+" is required in specified format")}),Br=Br.replace(/@@@/g,function(){return Er.shift()});var Sn=fe.match(new RegExp(Br,"i"));if(!Sn)return null;for(var Wa=T(T({},st),he),la=1;la<Sn.length;la++){var yi=ar[la-1],mi=yi[0],ji=yi[2],Xi=ji?ji(Sn[la],Wa):+Sn[la];if(Xi==null)return null;He[mi]=Xi}He.isPm===1&&He.hour!=null&&+He.hour!=12?He.hour=+He.hour+12:He.isPm===0&&+He.hour==12&&(He.hour=0);for(var uo=new Date(He.year,He.month,He.day,He.hour,He.minute,He.second,He.millisecond),Wi=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],la=0,ge=Wi.length;la<ge;la++)if(Ln[Wi[la][0]]&&He[Wi[la][0]]!==uo[Wi[la][1]]())return null;return He.timezoneOffset==null?uo:new Date(Date.UTC(He.year,He.month,He.day,He.hour,He.minute-He.timezoneOffset,He.second,He.millisecond))}var ft={format:Yt,parse:bt,defaultI18n:at,setGlobalDateI18n:tt,setGlobalDateMasks:Kt},dt=ft,ot=function(fe){return function(oe,he,Ne,He){for(var ar=Object(i.I)(Ne)?0:Ne,Er=Object(i.I)(He)?oe.length:He;ar<Er;){var Br=ar+Er>>>1;fe(oe[Br])>he?Er=Br:ar=Br+1}return ar}},Mt="format";function Nt(fe,oe){var he=h[Mt]||dt[Mt];return he(fe,oe)}function Pt(fe){return Object(i.O)(fe)&&(fe.indexOf("T")>0?fe=new Date(fe).getTime():fe=new Date(fe.replace(/-/gi,"/")).getTime()),Object(i.D)(fe)&&(fe=fe.getTime()),fe}var J=1e3,X=60*J,vt=60*X,lt=24*vt,Ct=lt*31,Ft=lt*365,Wt=[["HH:mm:ss",J],["HH:mm:ss",J*10],["HH:mm:ss",J*30],["HH:mm",X],["HH:mm",X*10],["HH:mm",X*30],["HH",vt],["HH",vt*6],["HH",vt*12],["YYYY-MM-DD",lt],["YYYY-MM-DD",lt*4],["YYYY-WW",lt*7],["YYYY-MM",Ct],["YYYY-MM",Ct*4],["YYYY-MM",Ct*6],["YYYY",lt*380]];function kt(fe,oe,he){var Ne=(oe-fe)/he,He=ot(function(Er){return Er[1]})(Wt,Ne)-1,ar=Wt[He];return He<0?ar=Wt[0]:He>=Wt.length&&(ar=Object(i.S)(Wt)),ar}var jt=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="timeCat",he}return oe.prototype.translate=function(he){he=Pt(he);var Ne=this.values.indexOf(he);return Ne===-1&&(Object(i.K)(he)&&he<this.values.length?Ne=he:Ne=NaN),Ne},oe.prototype.getText=function(he,Ne){var He=this.translate(he);if(He>-1){var ar=this.values[He],Er=this.formatter;return ar=Er?Er(ar,Ne):Nt(ar,this.mask),ar}return he},oe.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},oe.prototype.setDomain=function(){var he=this.values;Object(i.j)(he,function(Ne,He){he[He]=Pt(Ne)}),he.sort(function(Ne,He){return Ne-He}),fe.prototype.setDomain.call(this)},oe}(g),Y=jt,U=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.isContinuous=!0,he}return oe.prototype.scale=function(he){if(Object(i.I)(he))return NaN;var Ne=this.rangeMin(),He=this.rangeMax(),ar=this.max,Er=this.min;if(ar===Er)return Ne;var Br=this.getScalePercent(he);return Ne+Br*(He-Ne)},oe.prototype.init=function(){fe.prototype.init.call(this);var he=this.ticks,Ne=Object(i.y)(he),He=Object(i.S)(he);Ne<this.min&&(this.min=Ne),He>this.max&&(this.max=He),Object(i.I)(this.minLimit)||(this.min=Ne),Object(i.I)(this.maxLimit)||(this.max=He)},oe.prototype.setDomain=function(){var he=Object(i.t)(this.values),Ne=he.min,He=he.max;Object(i.I)(this.min)&&(this.min=Ne),Object(i.I)(this.max)&&(this.max=He),this.min>this.max&&(this.min=Ne,this.max=He)},oe.prototype.calculateTicks=function(){var he=this,Ne=fe.prototype.calculateTicks.call(this);return this.nice||(Ne=Object(i.l)(Ne,function(He){return He>=he.min&&He<=he.max})),Ne},oe.prototype.getScalePercent=function(he){var Ne=this.max,He=this.min;return(he-He)/(Ne-He)},oe.prototype.getInvertPercent=function(he){return(he-this.rangeMin())/(this.rangeMax()-this.rangeMin())},oe}(S),j=U,q=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="linear",he.isLinear=!0,he}return oe.prototype.invert=function(he){var Ne=this.getInvertPercent(he);return this.min+Ne*(this.max-this.min)},oe.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},oe}(j),gt=q;function _(fe,oe){var he=Math.E,Ne;return oe>=0?Ne=Math.pow(he,Math.log(oe)/fe):Ne=Math.pow(he,Math.log(-oe)/fe)*-1,Ne}function yt(fe,oe){return fe===1?1:Math.log(oe)/Math.log(fe)}function wt(fe,oe,he){Object(i.I)(he)&&(he=Math.max.apply(null,fe));var Ne=he;return Object(i.j)(fe,function(He){He>0&&He<Ne&&(Ne=He)}),Ne===he&&(Ne=he/oe),Ne>1&&(Ne=1),Ne}var St=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="log",he}return oe.prototype.invert=function(he){var Ne=this.base,He=yt(Ne,this.max),ar=this.rangeMin(),Er=this.rangeMax()-ar,Br,Ln=this.positiveMin;if(Ln){if(he===0)return 0;Br=yt(Ne,Ln/Ne);var Bn=1/(He-Br)*Er;if(he<Bn)return he/Bn*Ln}else Br=yt(Ne,this.min);var Sn=(he-ar)/Er,Wa=Sn*(He-Br)+Br;return Math.pow(Ne,Wa)},oe.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},oe.prototype.setDomain=function(){fe.prototype.setDomain.call(this);var he=this.min;if(he<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");he===0&&(this.positiveMin=wt(this.values,this.base,this.max))},oe.prototype.getScalePercent=function(he){var Ne=this.max,He=this.min;if(Ne===He||he<=0)return 0;var ar=this.base,Er=this.positiveMin;Er&&(He=Er*1/ar);var Br;return he<Er?Br=he/Er/(yt(ar,Ne)-yt(ar,He)):Br=(yt(ar,he)-yt(ar,He))/(yt(ar,Ne)-yt(ar,He)),Br},oe}(j),Dt=St,Vt=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="pow",he}return oe.prototype.invert=function(he){var Ne=this.getInvertPercent(he),He=this.exponent,ar=_(He,this.max),Er=_(He,this.min),Br=Ne*(ar-Er)+Er,Ln=Br>=0?1:-1;return Math.pow(Br,He)*Ln},oe.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},oe.prototype.getScalePercent=function(he){var Ne=this.max,He=this.min;if(Ne===He)return 0;var ar=this.exponent,Er=(_(ar,he)-_(ar,He))/(_(ar,Ne)-_(ar,He));return Er},oe}(j),Qt=Vt,ee=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="time",he}return oe.prototype.getText=function(he,Ne){var He=this.translate(he),ar=this.formatter;return ar?ar(He,Ne):Nt(He,this.mask)},oe.prototype.scale=function(he){var Ne=he;return(Object(i.O)(Ne)||Object(i.D)(Ne))&&(Ne=this.translate(Ne)),fe.prototype.scale.call(this,Ne)},oe.prototype.translate=function(he){return Pt(he)},oe.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},oe.prototype.setDomain=function(){var he=this.values,Ne=this.getConfig("min"),He=this.getConfig("max");if((!Object(i.I)(Ne)||!Object(i.K)(Ne))&&(this.min=this.translate(this.min)),(!Object(i.I)(He)||!Object(i.K)(He))&&(this.max=this.translate(this.max)),he&&he.length){var ar=[],Er=Infinity,Br=Er,Ln=0;Object(i.j)(he,function(Bn){var Sn=Pt(Bn);if(isNaN(Sn))throw new TypeError("Invalid Time: "+Bn+" in time scale!");Er>Sn?(Br=Er,Er=Sn):Br>Sn&&(Br=Sn),Ln<Sn&&(Ln=Sn),ar.push(Sn)}),he.length>1&&(this.minTickInterval=Br-Er),Object(i.I)(Ne)&&(this.min=Er),Object(i.I)(He)&&(this.max=Ln)}},oe}(gt),se=ee,ye=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="quantize",he}return oe.prototype.invert=function(he){var Ne=this.ticks,He=Ne.length,ar=this.getInvertPercent(he),Er=Math.floor(ar*(He-1));if(Er>=He-1)return Object(i.S)(Ne);if(Er<0)return Object(i.y)(Ne);var Br=Ne[Er],Ln=Ne[Er+1],Bn=Er/(He-1),Sn=(Er+1)/(He-1);return Br+(ar-Bn)/(Sn-Bn)*(Ln-Br)},oe.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},oe.prototype.calculateTicks=function(){var he=fe.prototype.calculateTicks.call(this);return this.nice||(Object(i.S)(he)!==this.max&&he.push(this.max),Object(i.y)(he)!==this.min&&he.unshift(this.min)),he},oe.prototype.getScalePercent=function(he){var Ne=this.ticks;if(he<Object(i.y)(Ne))return 0;if(he>Object(i.S)(Ne))return 1;var He=0;return Object(i.j)(Ne,function(ar,Er){if(he>=ar)He=Er;else return!1}),He/(Ne.length-1)},oe}(j),Ie=ye,Be=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="quantile",he}return oe.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},oe}(Ie),Ze=Be,we={};function We(fe){return we[fe]}function Ke(fe,oe){if(We(fe))throw new Error("type '"+fe+"' existed.");we[fe]=oe}var cr=function(fe){Object(M.c)(oe,fe);function oe(){var he=fe!==null&&fe.apply(this,arguments)||this;return he.type="identity",he.isIdentity=!0,he}return oe.prototype.calculateTicks=function(){return this.values},oe.prototype.scale=function(he){return this.values[0]!==he&&Object(i.K)(he)?he:this.range[0]},oe.prototype.invert=function(he){var Ne=this.range;return he<Ne[0]||he>Ne[1]?NaN:this.values[0]},oe}(S),or=cr,Ce=[1,5,2,2.5,4,3],sr=[1,5,2,2.5,4,3,1.5,7,6,8,9],ke=Number.EPSILON*100;function Xe(fe,oe){return(fe%oe+oe)%oe}function dr(fe,oe,he,Ne,He,ar){var Er=Object(i.jb)(oe),Br=Object(i.A)(oe,fe),Ln=0,Bn=Xe(Ne,ar);return(Bn<ke||ar-Bn<ke)&&Ne<=0&&He>=0&&(Ln=1),1-Br/(Er-1)-he+Ln}function Sr(fe,oe,he){var Ne=Object(i.jb)(oe),He=Object(i.A)(oe,fe),ar=1;return 1-He/(Ne-1)-he+ar}function Fr(fe,oe,he,Ne,He,ar){var Er=(fe-1)/(ar-He),Br=(oe-1)/(Math.max(ar,Ne)-Math.min(he,He));return 2-Math.max(Er/Br,Br/Er)}function hn(fe,oe){return fe>=oe?2-(fe-1)/(oe-1):1}function yn(fe,oe,he,Ne){var He=oe-fe;return 1-.5*(Math.pow(oe-Ne,2)+Math.pow(fe-he,2))/Math.pow(.1*He,2)}function Dn(fe,oe,he){var Ne=oe-fe;if(he>Ne){var He=(he-Ne)/2;return 1-Math.pow(He,2)/Math.pow(.1*Ne,2)}return 1}function Nn(){return 1}function Ia(fe,oe,he,Ne,He,ar){if(he===void 0&&(he=5),Ne===void 0&&(Ne=!0),He===void 0&&(He=Ce),ar===void 0&&(ar=[.25,.2,.5,.05]),typeof fe!="number"||typeof oe!="number"||!he)return{min:0,max:0,ticks:[]};if(oe-fe<1e-15||he===1)return{min:fe,max:oe,ticks:[fe]};for(var Er={score:-2,lmin:0,lmax:0,lstep:0},Br=1;Br<Infinity;){for(var Ln=0,Bn=He;Ln<Bn.length;Ln++){var Sn=Bn[Ln],Wa=Sr(Sn,He,Br);if(Number.isNaN(Wa))throw new Error("NaN");if(ar[0]*Wa+ar[1]+ar[2]+ar[3]<Er.score){Br=Infinity;break}for(var la=2;la<Infinity;){var yi=hn(la,he);if(ar[0]*Wa+ar[1]+ar[2]*yi+ar[3]<Er.score)break;for(var mi=(oe-fe)/(la+1)/Br/Sn,ji=Math.ceil(Math.log10(mi));ji<Infinity;){var Xi=Br*Sn*Math.pow(10,ji),uo=Dn(fe,oe,Xi*(la-1));if(ar[0]*Wa+ar[1]*uo+ar[2]*yi+ar[3]<Er.score)break;var Wi=Math.floor(oe/Xi)*Br-(la-1)*Br,ge=Math.ceil(fe/Xi)*Br;if(Wi>ge){ji=ji+1;continue}for(var Ki=Wi;Ki<=ge;Ki=Ki+1){var qn=Ki*(Xi/Br),Xa=qn+Xi*(la-1),Ro=Xi,wo=dr(Sn,He,Br,qn,Xa,Ro),Hi=yn(fe,oe,qn,Xa),_o=Fr(la,he,fe,oe,qn,Xa),qo=Nn(),ts=ar[0]*wo+ar[1]*Hi+ar[2]*_o+ar[3]*qo;ts>Er.score&&(!Ne||qn<=fe&&Xa>=oe)&&(Er.lmin=qn,Er.lmax=Xa,Er.lstep=Ro,Er.score=ts)}ji=ji+1}la=la+1}}Br=Br+1}for(var Eo=Number.isInteger(Er.lstep)?0:Math.ceil(Math.abs(Math.log10(Er.lstep))),Go=[],Uo=Er.lmin;Uo<=Er.lmax;Uo+=Er.lstep)Go.push(Uo);var Mo=Eo?Object(i.U)(Go,function(Wo){return Number.parseFloat(Wo.toFixed(Eo))}):Go;return{min:Math.min(fe,Object(i.y)(Mo)),max:Math.max(oe,Object(i.S)(Mo)),ticks:Mo}}function ba(fe){var oe=fe.values,he=fe.tickInterval,Ne=fe.tickCount,He=oe;if(Object(i.K)(he))return Object(i.l)(He,function(Bn,Sn){return Sn%he==0});var ar=fe.min,Er=fe.max;if(Object(i.I)(ar)&&(ar=0),Object(i.I)(Er)&&(Er=oe.length-1),Object(i.K)(Ne)&&Ne<Er-ar){var Br=Ia(ar,Er,Ne,!1,[1,2,5,3,4,7,6,8,9]).ticks,Ln=Object(i.l)(Br,function(Bn){return Bn>=ar&&Bn<=Er});return Ln.map(function(Bn){return oe[Bn]})}return oe.slice(ar,Er+1)}function Oa(fe){var oe=fe.min,he=fe.max,Ne=fe.nice,He=fe.tickCount,ar=new Ti;return ar.domain([oe,he]),Ne&&ar.nice(He),ar.ticks(He)}var Wn=5,ai=Math.sqrt(50),Va=Math.sqrt(10),ci=Math.sqrt(2),Ti=function(){function fe(){this._domain=[0,1]}return fe.prototype.domain=function(oe){return oe?(this._domain=Array.from(oe,Number),this):this._domain.slice()},fe.prototype.nice=function(oe){var he,Ne;oe===void 0&&(oe=Wn);var He=this._domain.slice(),ar=0,Er=this._domain.length-1,Br=this._domain[ar],Ln=this._domain[Er],Bn;return Ln<Br&&(he=[Ln,Br],Br=he[0],Ln=he[1],Ne=[Er,ar],ar=Ne[0],Er=Ne[1]),Bn=Bi(Br,Ln,oe),Bn>0?(Br=Math.floor(Br/Bn)*Bn,Ln=Math.ceil(Ln/Bn)*Bn,Bn=Bi(Br,Ln,oe)):Bn<0&&(Br=Math.ceil(Br*Bn)/Bn,Ln=Math.floor(Ln*Bn)/Bn,Bn=Bi(Br,Ln,oe)),Bn>0?(He[ar]=Math.floor(Br/Bn)*Bn,He[Er]=Math.ceil(Ln/Bn)*Bn,this.domain(He)):Bn<0&&(He[ar]=Math.ceil(Br*Bn)/Bn,He[Er]=Math.floor(Ln*Bn)/Bn,this.domain(He)),this},fe.prototype.ticks=function(oe){return oe===void 0&&(oe=Wn),Ui(this._domain[0],this._domain[this._domain.length-1],oe||Wn)},fe}();function Ui(fe,oe,he){var Ne,He=-1,ar,Er,Br;if(oe=+oe,fe=+fe,he=+he,fe===oe&&he>0)return[fe];if((Ne=oe<fe)&&(ar=fe,fe=oe,oe=ar),(Br=Bi(fe,oe,he))===0||!isFinite(Br))return[];if(Br>0)for(fe=Math.ceil(fe/Br),oe=Math.floor(oe/Br),Er=new Array(ar=Math.ceil(oe-fe+1));++He<ar;)Er[He]=(fe+He)*Br;else for(fe=Math.floor(fe*Br),oe=Math.ceil(oe*Br),Er=new Array(ar=Math.ceil(fe-oe+1));++He<ar;)Er[He]=(fe-He)/Br;return Ne&&Er.reverse(),Er}function Bi(fe,oe,he){var Ne=(oe-fe)/Math.max(0,he),He=Math.floor(Math.log(Ne)/Math.LN10),ar=Ne/Math.pow(10,He);return He>=0?(ar>=ai?10:ar>=Va?5:ar>=ci?2:1)*Math.pow(10,He):-Math.pow(10,-He)/(ar>=ai?10:ar>=Va?5:ar>=ci?2:1)}function ia(fe,oe,he){var Ne;return he==="ceil"?Ne=Math.ceil(fe/oe):he==="floor"?Ne=Math.floor(fe/oe):Ne=Math.round(fe/oe),Ne*oe}function ja(fe,oe,he){var Ne=ia(fe,he,"floor"),He=ia(oe,he,"ceil");Ne=Object(i.p)(Ne,he),He=Object(i.p)(He,he);for(var ar=[],Er=Ne;Er<=He;Er=Er+he){var Br=Object(i.p)(Er,he);ar.push(Br)}return{min:Ne,max:He,ticks:ar}}function Zn(fe,oe,he){var Ne,He=fe.minLimit,ar=fe.maxLimit,Er=fe.min,Br=fe.max,Ln=fe.tickCount,Bn=Ln===void 0?5:Ln,Sn=Object(i.I)(He)?Object(i.I)(oe)?Er:oe:He,Wa=Object(i.I)(ar)?Object(i.I)(he)?Br:he:ar;if(Sn>Wa&&(Ne=[Sn,Wa],Wa=Ne[0],Sn=Ne[1]),Bn<=2)return[Sn,Wa];for(var la=(Wa-Sn)/(Bn-1),yi=[],mi=0;mi<Bn;mi++)yi.push(Sn+la*mi);return yi}function wa(fe){var oe=fe.min,he=fe.max,Ne=fe.tickInterval,He=fe.minLimit,ar=fe.maxLimit,Er=Oa(fe);return!Object(i.I)(He)||!Object(i.I)(ar)?Zn(fe,Object(i.y)(Er),Object(i.S)(Er)):Ne?ja(oe,he,Ne).ticks:Er}function La(fe){var oe=fe.min,he=fe.max,Ne=fe.tickCount,He=fe.nice,ar=fe.tickInterval,Er=fe.minLimit,Br=fe.maxLimit,Ln=Ia(oe,he,Ne,He).ticks;return!Object(i.I)(Er)||!Object(i.I)(Br)?Zn(fe,Object(i.y)(Ln),Object(i.S)(Ln)):ar?ja(oe,he,ar).ticks:Ln}function Hn(fe){var oe=fe.base,he=fe.tickCount,Ne=fe.min,He=fe.max,ar=fe.values,Er,Br=yt(oe,He);if(Ne>0)Er=Math.floor(yt(oe,Ne));else{var Ln=wt(ar,oe,He);Er=Math.floor(yt(oe,Ln))}for(var Bn=Br-Er,Sn=Math.ceil(Bn/he),Wa=[],la=Er;la<Br+Sn;la=la+Sn)Wa.push(Math.pow(oe,la));return Ne<=0&&Wa.unshift(0),Wa}function Sa(fe,oe,he){he===void 0&&(he=5);var Ne={max:0,min:0,ticks:[]};if(fe===oe)return{max:oe,min:fe,ticks:[fe]};var He=1.5,ar=.5+1.5*He,Er=oe-fe,Br=Er/he,Ln=Math.pow(10,Math.floor(Math.log10(Br))),Bn=Ln<1?Math.ceil(Math.abs(Math.log10(Ln))):0,Sn=Ln;2*Ln-Br<He*(Br-Sn)&&(Sn=2*Ln,5*Ln-Br<ar*(Br-Sn)&&(Sn=5*Ln,10*Ln-Br<He*(Br-Sn)&&(Sn=10*Ln)));var Wa=Math.ceil(oe/Sn),la=Math.floor(fe/Sn);Ne.max=Math.max(Wa*Sn,oe),Ne.min=Math.min(la*Sn,fe);for(var yi=Number.parseFloat((la*Sn).toFixed(Bn));yi<oe;)Ne.ticks.push(yi),yi+=Sn,Bn&&(yi=Number.parseFloat(yi.toFixed(Bn)));return Ne.ticks.push(yi),Ne}function Ba(fe){var oe=fe.exponent,he=fe.tickCount,Ne=Math.ceil(_(oe,fe.max)),He=Math.floor(_(oe,fe.min)),ar=Sa(He,Ne,he).ticks;return ar.map(function(Er){var Br=Er>=0?1:-1;return Math.pow(Er,oe)*Br})}function Pa(fe,oe){var he=fe.length*oe;return oe===1?fe[fe.length-1]:oe===0?fe[0]:he%1!=0?fe[Math.ceil(he)-1]:fe.length%2==0?(fe[he-1]+fe[he])/2:fe[he]}function $n(fe){var oe=fe.tickCount,he=fe.values;if(!he||!he.length)return[];for(var Ne=he.slice().sort(function(Br,Ln){return Br-Ln}),He=[],ar=0;ar<oe;ar++){var Er=ar/(oe-1);He.push(Pa(Ne,Er))}return He}function Ya(fe){var oe=fe.min,he=fe.max,Ne=fe.tickCount,He=fe.tickInterval,ar=fe.minLimit,Er=fe.maxLimit,Br=Sa(oe,he,Ne).ticks;return!Object(i.I)(ar)||!Object(i.I)(Er)?Zn(fe,Object(i.y)(Br),Object(i.S)(Br)):He?ja(oe,he,He).ticks:Br}function Da(fe){var oe=fe.min,he=fe.max,Ne=fe.minTickInterval,He=fe.tickInterval,ar=fe.tickCount;if(He)ar=Math.ceil((he-oe)/He);else{He=kt(oe,he,ar)[1];var Er=(he-oe)/He,Br=Er/ar;Br>1&&(He=He*Math.ceil(Br)),Ne&&He<Ne&&(He=Ne)}for(var Ln=[],Bn=oe;Bn<he+He;Bn+=He)Ln.push(Bn);return Ln}function ii(fe){var oe=ba(fe),he=Object(i.S)(fe.values);return he!==Object(i.S)(oe)&&oe.push(he),oe}function Qn(fe){return new Date(fe).getFullYear()}function Oi(fe){return new Date(fe,0,1).getTime()}function Ka(fe){return new Date(fe).getMonth()}function Na(fe,oe){var he=Qn(fe),Ne=Qn(oe),He=Ka(fe),ar=Ka(oe);return(Ne-he)*12+(ar-He)%12}function $a(fe,oe){return new Date(fe,oe,1).getTime()}function ni(fe,oe){return Math.ceil((oe-fe)/lt)}function Cn(fe,oe){return Math.ceil((oe-fe)/vt)}function Ni(fe,oe){return Math.ceil((oe-fe)/(60*1e3))}function hi(fe){var oe=fe.min,he=fe.max,Ne=fe.minTickInterval,He=fe.tickCount,ar=fe.tickInterval,Er=[];ar||(ar=(he-oe)/He,Ne&&ar<Ne&&(ar=Ne));var Br=Qn(oe);if(ar>Ft)for(var Ln=Qn(he),Bn=Math.ceil(ar/Ft),Sn=Br;Sn<=Ln+Bn;Sn=Sn+Bn)Er.push(Oi(Sn));else if(ar>Ct)for(var Wa=Math.ceil(ar/Ct),la=Ka(oe),yi=Na(oe,he),Sn=0;Sn<=yi+Wa;Sn=Sn+Wa)Er.push($a(Br,Sn+la));else if(ar>lt)for(var mi=new Date(oe),ji=mi.getFullYear(),Xi=mi.getMonth(),uo=mi.getDate(),Wi=Math.ceil(ar/lt),ge=ni(oe,he),Sn=0;Sn<ge+Wi;Sn=Sn+Wi)Er.push(new Date(ji,Xi,uo+Sn).getTime());else if(ar>vt)for(var mi=new Date(oe),ji=mi.getFullYear(),Xi=mi.getMonth(),Wi=mi.getDate(),Ki=mi.getHours(),qn=Math.ceil(ar/vt),Xa=Cn(oe,he),Sn=0;Sn<=Xa+qn;Sn=Sn+qn)Er.push(new Date(ji,Xi,Wi,Ki+Sn).getTime());else if(ar>X)for(var Ro=Ni(oe,he),wo=Math.ceil(ar/X),Sn=0;Sn<=Ro+wo;Sn=Sn+wo)Er.push(oe+Sn*X);else{var Hi=ar;Hi<J&&(Hi=J);for(var _o=Math.floor(oe/J)*J,qo=Math.ceil((he-oe)/J),ts=Math.ceil(Hi/J),Sn=0;Sn<qo+ts;Sn=Sn+ts)Er.push(_o+Sn*J)}return Er.length>=512&&console.warn("Notice: current ticks length("+Er.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+ar+") is too small, increase the value to solve the problem!"),Er}C("cat",ba),C("time-cat",ii),C("wilkinson-extended",La),C("r-pretty",Ya),C("time",Da),C("time-pretty",hi),C("log",Hn),C("pow",Ba),C("quantile",$n),C("d3-linear",wa),Ke("cat",g),Ke("category",g),Ke("identity",or),Ke("linear",gt),Ke("log",Dt),Ke("pow",Qt),Ke("time",se),Ke("timeCat",Y),Ke("quantize",Ie),Ke("quantile",Ze)},rJDL:function(Ut,L,a){var h=a("XSdR"),i=a("L9IJ"),O=a("devy"),x=a("yWrq");Ut.exports=C;function C(M,b,g,E){var D=M.children(b),p=M.node(b),N=p?p.borderLeft:void 0,I=p?p.borderRight:void 0,G={};N&&(D=h.filter(D,function(V){return V!==N&&V!==I}));var W=i(M,D);h.forEach(W,function(V){if(M.children(V.v).length){var $=C(M,V.v,g,E);G[V.v]=$,h.has($,"barycenter")&&S(V,$)}});var z=O(W,g);A(z,G);var w=x(z,E);if(N&&(w.vs=h.flatten([N,w.vs,I],!0),M.predecessors(N).length)){var T=M.node(M.predecessors(N)[0]),B=M.node(M.predecessors(I)[0]);h.has(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+T.order+B.order)/(w.weight+2),w.weight+=2}return w}function A(M,b){h.forEach(M,function(g){g.vs=h.flatten(g.vs.map(function(E){return b[E]?b[E].vs:E}),!0)})}function S(M,b){h.isUndefined(M.barycenter)?(M.barycenter=b.barycenter,M.weight=b.weight):(M.barycenter=(M.barycenter*M.weight+b.barycenter*b.weight)/(M.weight+b.weight),M.weight+=b.weight)}},rRjm:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.BindingToSyntax=void 0;var h=a("JIc3"),i=a("TKZu"),O=a("ndAl"),x=a("8fBB"),C=function(){function A(S){this._binding=S}return A.prototype.to=function(S){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=S,new O.BindingInWhenOnSyntax(this._binding)},A.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+h.INVALID_TO_SELF_VALUE);var S=this._binding.serviceIdentifier;return this.to(S)},A.prototype.toConstantValue=function(S){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=S,this._binding.dynamicValue=null,this._binding.implementationType=null,new x.BindingWhenOnSyntax(this._binding)},A.prototype.toDynamicValue=function(S){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=S,this._binding.implementationType=null,new O.BindingInWhenOnSyntax(this._binding)},A.prototype.toConstructor=function(S){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=S,new x.BindingWhenOnSyntax(this._binding)},A.prototype.toFactory=function(S){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=S,new x.BindingWhenOnSyntax(this._binding)},A.prototype.toFunction=function(S){if(typeof S!="function")throw new Error(h.INVALID_FUNCTION_BINDING);var M=this.toConstantValue(S);return this._binding.type=i.BindingTypeEnum.Function,M},A.prototype.toAutoFactory=function(S){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(M){var b=function(){return M.container.get(S)};return b},new x.BindingWhenOnSyntax(this._binding)},A.prototype.toProvider=function(S){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=S,new x.BindingWhenOnSyntax(this._binding)},A.prototype.toService=function(S){this.toDynamicValue(function(M){return M.container.get(S)})},A}();L.BindingToSyntax=C},riA0:function(Ut,L,a){"use strict";a.d(L,"a",function(){return xt}),a.d(L,"b",function(){return Kt}),a.d(L,"c",function(){return C});var h=a("jg4I"),i=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,O=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),C=function(bt){if(!bt)return null;if(Object(h.B)(bt))return bt;var ft={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},dt=[];return String(bt).replace(O,function(ot,Mt,Nt){var Pt=[],J=Mt.toLowerCase();if(Nt.replace(x,function(X,vt){vt&&Pt.push(+vt)}),J==="m"&&Pt.length>2&&(dt.push([Mt].concat(Pt.splice(0,2))),J="l",Mt=Mt==="m"?"l":"L"),J==="o"&&Pt.length===1&&dt.push([Mt,Pt[0]]),J==="r")dt.push([Mt].concat(Pt));else for(;Pt.length>=ft[J]&&(dt.push([Mt].concat(Pt.splice(0,ft[J]))),!!ft[J]););return bt}),dt},A=function(bt,ft){for(var dt=[],ot=0,Mt=bt.length;Mt-2*!ft>ot;ot+=2){var Nt=[{x:+bt[ot-2],y:+bt[ot-1]},{x:+bt[ot],y:+bt[ot+1]},{x:+bt[ot+2],y:+bt[ot+3]},{x:+bt[ot+4],y:+bt[ot+5]}];ft?ot?Mt-4===ot?Nt[3]={x:+bt[0],y:+bt[1]}:Mt-2===ot&&(Nt[2]={x:+bt[0],y:+bt[1]},Nt[3]={x:+bt[2],y:+bt[3]}):Nt[0]={x:+bt[Mt-2],y:+bt[Mt-1]}:Mt-4===ot?Nt[3]=Nt[2]:ot||(Nt[0]={x:+bt[ot],y:+bt[ot+1]}),dt.push(["C",(-Nt[0].x+6*Nt[1].x+Nt[2].x)/6,(-Nt[0].y+6*Nt[1].y+Nt[2].y)/6,(Nt[1].x+6*Nt[2].x-Nt[3].x)/6,(Nt[1].y+6*Nt[2].y-Nt[3].y)/6,Nt[2].x,Nt[2].y])}return dt},S=function(bt,ft,dt,ot,Mt){var Nt=[];if(Mt===null&&ot===null&&(ot=dt),bt=+bt,ft=+ft,dt=+dt,ot=+ot,Mt!==null){var Pt=Math.PI/180,J=bt+dt*Math.cos(-ot*Pt),X=bt+dt*Math.cos(-Mt*Pt),vt=ft+dt*Math.sin(-ot*Pt),lt=ft+dt*Math.sin(-Mt*Pt);Nt=[["M",J,vt],["A",dt,dt,0,+(Mt-ot>180),0,X,lt]]}else Nt=[["M",bt,ft],["m",0,-ot],["a",dt,ot,0,1,1,0,2*ot],["a",dt,ot,0,1,1,0,-2*ot],["z"]];return Nt},M=function(bt){if(bt=C(bt),!bt||!bt.length)return[["M",0,0]];var ft=[],dt=0,ot=0,Mt=0,Nt=0,Pt=0,J,X;bt[0][0]==="M"&&(dt=+bt[0][1],ot=+bt[0][2],Mt=dt,Nt=ot,Pt++,ft[0]=["M",dt,ot]);for(var vt=bt.length===3&&bt[0][0]==="M"&&bt[1][0].toUpperCase()==="R"&&bt[2][0].toUpperCase()==="Z",lt=void 0,Ct=void 0,Ft=Pt,Wt=bt.length;Ft<Wt;Ft++){if(ft.push(lt=[]),Ct=bt[Ft],J=Ct[0],J!==J.toUpperCase())switch(lt[0]=J.toUpperCase(),lt[0]){case"A":lt[1]=Ct[1],lt[2]=Ct[2],lt[3]=Ct[3],lt[4]=Ct[4],lt[5]=Ct[5],lt[6]=+Ct[6]+dt,lt[7]=+Ct[7]+ot;break;case"V":lt[1]=+Ct[1]+ot;break;case"H":lt[1]=+Ct[1]+dt;break;case"R":X=[dt,ot].concat(Ct.slice(1));for(var kt=2,jt=X.length;kt<jt;kt++)X[kt]=+X[kt]+dt,X[++kt]=+X[kt]+ot;ft.pop(),ft=ft.concat(A(X,vt));break;case"O":ft.pop(),X=S(dt,ot,Ct[1],Ct[2]),X.push(X[0]),ft=ft.concat(X);break;case"U":ft.pop(),ft=ft.concat(S(dt,ot,Ct[1],Ct[2],Ct[3])),lt=["U"].concat(ft[ft.length-1].slice(-2));break;case"M":Mt=+Ct[1]+dt,Nt=+Ct[2]+ot;break;default:for(var kt=1,jt=Ct.length;kt<jt;kt++)lt[kt]=+Ct[kt]+(kt%2?dt:ot)}else if(J==="R")X=[dt,ot].concat(Ct.slice(1)),ft.pop(),ft=ft.concat(A(X,vt)),lt=["R"].concat(Ct.slice(-2));else if(J==="O")ft.pop(),X=S(dt,ot,Ct[1],Ct[2]),X.push(X[0]),ft=ft.concat(X);else if(J==="U")ft.pop(),ft=ft.concat(S(dt,ot,Ct[1],Ct[2],Ct[3])),lt=["U"].concat(ft[ft.length-1].slice(-2));else for(var Y=0,U=Ct.length;Y<U;Y++)lt[Y]=Ct[Y];if(J=J.toUpperCase(),J!=="O")switch(lt[0]){case"Z":dt=+Mt,ot=+Nt;break;case"H":dt=lt[1];break;case"V":ot=lt[1];break;case"M":Mt=lt[lt.length-2],Nt=lt[lt.length-1];break;default:dt=lt[lt.length-2],ot=lt[lt.length-1]}}return ft},b=function(bt,ft,dt,ot){return[bt,ft,dt,ot,dt,ot]},g=function(bt,ft,dt,ot,Mt,Nt){var Pt=1/3,J=2/3;return[Pt*bt+J*dt,Pt*ft+J*ot,Pt*Mt+J*dt,Pt*Nt+J*ot,Mt,Nt]},E=function Yt(bt,ft,dt,ot,Mt,Nt,Pt,J,X,vt){dt===ot&&(dt+=1);var lt=Math.PI*120/180,Ct=Math.PI/180*(+Mt||0),Ft=[],Wt,kt,jt,Y,U,j=function(Sr,Fr,hn){var yn=Sr*Math.cos(hn)-Fr*Math.sin(hn),Dn=Sr*Math.sin(hn)+Fr*Math.cos(hn);return{x:yn,y:Dn}};if(vt)kt=vt[0],jt=vt[1],Y=vt[2],U=vt[3];else{Wt=j(bt,ft,-Ct),bt=Wt.x,ft=Wt.y,Wt=j(J,X,-Ct),J=Wt.x,X=Wt.y,bt===J&&ft===X&&(J+=1,X+=1);var q=(bt-J)/2,gt=(ft-X)/2,_=q*q/(dt*dt)+gt*gt/(ot*ot);_>1&&(_=Math.sqrt(_),dt=_*dt,ot=_*ot);var yt=dt*dt,wt=ot*ot,St=(Nt===Pt?-1:1)*Math.sqrt(Math.abs((yt*wt-yt*gt*gt-wt*q*q)/(yt*gt*gt+wt*q*q)));Y=St*dt*gt/ot+(bt+J)/2,U=St*-ot*q/dt+(ft+X)/2,kt=Math.asin(((ft-U)/ot).toFixed(9)),jt=Math.asin(((X-U)/ot).toFixed(9)),kt=bt<Y?Math.PI-kt:kt,jt=J<Y?Math.PI-jt:jt,kt<0&&(kt=Math.PI*2+kt),jt<0&&(jt=Math.PI*2+jt),Pt&&kt>jt&&(kt=kt-Math.PI*2),!Pt&&jt>kt&&(jt=jt-Math.PI*2)}var Dt=jt-kt;if(Math.abs(Dt)>lt){var Vt=jt,Qt=J,ee=X;jt=kt+lt*(Pt&&jt>kt?1:-1),J=Y+dt*Math.cos(jt),X=U+ot*Math.sin(jt),Ft=Yt(J,X,dt,ot,Mt,0,Pt,Qt,ee,[jt,Vt,Y,U])}Dt=jt-kt;var se=Math.cos(kt),ye=Math.sin(kt),Ie=Math.cos(jt),Be=Math.sin(jt),Ze=Math.tan(Dt/4),we=4/3*dt*Ze,We=4/3*ot*Ze,Ke=[bt,ft],cr=[bt+we*ye,ft-We*se],or=[J+we*Be,X-We*Ie],Ce=[J,X];if(cr[0]=2*Ke[0]-cr[0],cr[1]=2*Ke[1]-cr[1],vt)return[cr,or,Ce].concat(Ft);Ft=[cr,or,Ce].concat(Ft).join().split(",");for(var sr=[],ke=0,Xe=Ft.length;ke<Xe;ke++)sr[ke]=ke%2?j(Ft[ke-1],Ft[ke],Ct).y:j(Ft[ke],Ft[ke+1],Ct).x;return sr},D=function(bt,ft){var dt=M(bt),ot=ft&&M(ft),Mt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Pt=[],J=[],X="",vt="",lt,Ct=function(gt,_,yt){var wt,St;if(!gt)return["C",_.x,_.y,_.x,_.y,_.x,_.y];switch(!(gt[0]in{T:1,Q:1})&&(_.qx=_.qy=null),gt[0]){case"M":_.X=gt[1],_.Y=gt[2];break;case"A":gt=["C"].concat(E.apply(0,[_.x,_.y].concat(gt.slice(1))));break;case"S":yt==="C"||yt==="S"?(wt=_.x*2-_.bx,St=_.y*2-_.by):(wt=_.x,St=_.y),gt=["C",wt,St].concat(gt.slice(1));break;case"T":yt==="Q"||yt==="T"?(_.qx=_.x*2-_.qx,_.qy=_.y*2-_.qy):(_.qx=_.x,_.qy=_.y),gt=["C"].concat(g(_.x,_.y,_.qx,_.qy,gt[1],gt[2]));break;case"Q":_.qx=gt[1],_.qy=gt[2],gt=["C"].concat(g(_.x,_.y,gt[1],gt[2],gt[3],gt[4]));break;case"L":gt=["C"].concat(b(_.x,_.y,gt[1],gt[2]));break;case"H":gt=["C"].concat(b(_.x,_.y,gt[1],_.y));break;case"V":gt=["C"].concat(b(_.x,_.y,_.x,gt[1]));break;case"Z":gt=["C"].concat(b(_.x,_.y,_.X,_.Y));break;default:break}return gt},Ft=function(gt,_){if(gt[_].length>7){gt[_].shift();for(var yt=gt[_];yt.length;)Pt[_]="A",ot&&(J[_]="A"),gt.splice(_++,0,["C"].concat(yt.splice(0,6)));gt.splice(_,1),lt=Math.max(dt.length,ot&&ot.length||0)}},Wt=function(gt,_,yt,wt,St){gt&&_&&gt[St][0]==="M"&&_[St][0]!=="M"&&(_.splice(St,0,["M",wt.x,wt.y]),yt.bx=0,yt.by=0,yt.x=gt[St][1],yt.y=gt[St][2],lt=Math.max(dt.length,ot&&ot.length||0))};lt=Math.max(dt.length,ot&&ot.length||0);for(var kt=0;kt<lt;kt++){dt[kt]&&(X=dt[kt][0]),X!=="C"&&(Pt[kt]=X,kt&&(vt=Pt[kt-1])),dt[kt]=Ct(dt[kt],Mt,vt),Pt[kt]!=="A"&&X==="C"&&(Pt[kt]="C"),Ft(dt,kt),ot&&(ot[kt]&&(X=ot[kt][0]),X!=="C"&&(J[kt]=X,kt&&(vt=J[kt-1])),ot[kt]=Ct(ot[kt],Nt,vt),J[kt]!=="A"&&X==="C"&&(J[kt]="C"),Ft(ot,kt)),Wt(dt,ot,Mt,Nt,kt),Wt(ot,dt,Nt,Mt,kt);var jt=dt[kt],Y=ot&&ot[kt],U=jt.length,j=ot&&Y.length;Mt.x=jt[U-2],Mt.y=jt[U-1],Mt.bx=parseFloat(jt[U-4])||Mt.x,Mt.by=parseFloat(jt[U-3])||Mt.y,Nt.bx=ot&&(parseFloat(Y[j-4])||Nt.x),Nt.by=ot&&(parseFloat(Y[j-3])||Nt.y),Nt.x=ot&&Y[j-2],Nt.y=ot&&Y[j-1]}return ot?[dt,ot]:dt},p=/,?([a-z]),?/gi,N=function(bt){return bt.join(",").replace(p,"$1")},I=function(bt,ft,dt,ot,Mt){var Nt=-3*ft+9*dt-9*ot+3*Mt,Pt=bt*Nt+6*ft-12*dt+6*ot;return bt*Pt-3*ft+3*dt},G=function(bt,ft,dt,ot,Mt,Nt,Pt,J,X){X===null&&(X=1),X=X>1?1:X<0?0:X;for(var vt=X/2,lt=12,Ct=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ft=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Wt=0,kt=0;kt<lt;kt++){var jt=vt*Ct[kt]+vt,Y=I(jt,bt,dt,Mt,Pt),U=I(jt,ft,ot,Nt,J),j=Y*Y+U*U;Wt+=Ft[kt]*Math.sqrt(j)}return vt*Wt},W=function(bt,ft,dt,ot,Mt,Nt,Pt,J){for(var X=[],vt=[[],[]],lt,Ct,Ft,Wt,kt=0;kt<2;++kt){if(kt===0?(Ct=6*bt-12*dt+6*Mt,lt=-3*bt+9*dt-9*Mt+3*Pt,Ft=3*dt-3*bt):(Ct=6*ft-12*ot+6*Nt,lt=-3*ft+9*ot-9*Nt+3*J,Ft=3*ot-3*ft),Math.abs(lt)<1e-12){if(Math.abs(Ct)<1e-12)continue;Wt=-Ft/Ct,Wt>0&&Wt<1&&X.push(Wt);continue}var jt=Ct*Ct-4*Ft*lt,Y=Math.sqrt(jt);if(!(jt<0)){var U=(-Ct+Y)/(2*lt);U>0&&U<1&&X.push(U);var j=(-Ct-Y)/(2*lt);j>0&&j<1&&X.push(j)}}for(var q=X.length,gt=q,_;q--;)Wt=X[q],_=1-Wt,vt[0][q]=_*_*_*bt+3*_*_*Wt*dt+3*_*Wt*Wt*Mt+Wt*Wt*Wt*Pt,vt[1][q]=_*_*_*ft+3*_*_*Wt*ot+3*_*Wt*Wt*Nt+Wt*Wt*Wt*J;return vt[0][gt]=bt,vt[1][gt]=ft,vt[0][gt+1]=Pt,vt[1][gt+1]=J,vt[0].length=vt[1].length=gt+2,{min:{x:Math.min.apply(0,vt[0]),y:Math.min.apply(0,vt[1])},max:{x:Math.max.apply(0,vt[0]),y:Math.max.apply(0,vt[1])}}},z=function(bt,ft,dt,ot,Mt,Nt,Pt,J){if(!(Math.max(bt,dt)<Math.min(Mt,Pt)||Math.min(bt,dt)>Math.max(Mt,Pt)||Math.max(ft,ot)<Math.min(Nt,J)||Math.min(ft,ot)>Math.max(Nt,J))){var X=(bt*ot-ft*dt)*(Mt-Pt)-(bt-dt)*(Mt*J-Nt*Pt),vt=(bt*ot-ft*dt)*(Nt-J)-(ft-ot)*(Mt*J-Nt*Pt),lt=(bt-dt)*(Nt-J)-(ft-ot)*(Mt-Pt);if(!!lt){var Ct=X/lt,Ft=vt/lt,Wt=+Ct.toFixed(2),kt=+Ft.toFixed(2);if(!(Wt<+Math.min(bt,dt).toFixed(2)||Wt>+Math.max(bt,dt).toFixed(2)||Wt<+Math.min(Mt,Pt).toFixed(2)||Wt>+Math.max(Mt,Pt).toFixed(2)||kt<+Math.min(ft,ot).toFixed(2)||kt>+Math.max(ft,ot).toFixed(2)||kt<+Math.min(Nt,J).toFixed(2)||kt>+Math.max(Nt,J).toFixed(2)))return{x:Ct,y:Ft}}}},w=function(bt,ft,dt){return ft>=bt.x&&ft<=bt.x+bt.width&&dt>=bt.y&&dt<=bt.y+bt.height},T=function(bt,ft,dt,ot,Mt){if(Mt)return[["M",+bt+ +Mt,ft],["l",dt-Mt*2,0],["a",Mt,Mt,0,0,1,Mt,Mt],["l",0,ot-Mt*2],["a",Mt,Mt,0,0,1,-Mt,Mt],["l",Mt*2-dt,0],["a",Mt,Mt,0,0,1,-Mt,-Mt],["l",0,Mt*2-ot],["a",Mt,Mt,0,0,1,Mt,-Mt],["z"]];var Nt=[["M",bt,ft],["l",dt,0],["l",0,ot],["l",-dt,0],["z"]];return Nt.parsePathArray=N,Nt},B=function(bt,ft,dt,ot){return bt===null&&(bt=ft=dt=ot=0),ft===null&&(ft=bt.y,dt=bt.width,ot=bt.height,bt=bt.x),{x:bt,y:ft,width:dt,w:dt,height:ot,h:ot,x2:bt+dt,y2:ft+ot,cx:bt+dt/2,cy:ft+ot/2,r1:Math.min(dt,ot)/2,r2:Math.max(dt,ot)/2,r0:Math.sqrt(dt*dt+ot*ot)/2,path:T(bt,ft,dt,ot),vb:[bt,ft,dt,ot].join(" ")}},V=function(bt,ft){return bt=B(bt),ft=B(ft),w(ft,bt.x,bt.y)||w(ft,bt.x2,bt.y)||w(ft,bt.x,bt.y2)||w(ft,bt.x2,bt.y2)||w(bt,ft.x,ft.y)||w(bt,ft.x2,ft.y)||w(bt,ft.x,ft.y2)||w(bt,ft.x2,ft.y2)||(bt.x<ft.x2&&bt.x>ft.x||ft.x<bt.x2&&ft.x>bt.x)&&(bt.y<ft.y2&&bt.y>ft.y||ft.y<bt.y2&&ft.y>bt.y)},$=function(bt,ft,dt,ot,Mt,Nt,Pt,J){Object(h.B)(bt)||(bt=[bt,ft,dt,ot,Mt,Nt,Pt,J]);var X=W.apply(null,bt);return B(X.min.x,X.min.y,X.max.x-X.min.x,X.max.y-X.min.y)},nt=function(bt,ft,dt,ot,Mt,Nt,Pt,J,X){var vt=1-X,lt=Math.pow(vt,3),Ct=Math.pow(vt,2),Ft=X*X,Wt=Ft*X,kt=lt*bt+Ct*3*X*dt+vt*3*X*X*Mt+Wt*Pt,jt=lt*ft+Ct*3*X*ot+vt*3*X*X*Nt+Wt*J,Y=bt+2*X*(dt-bt)+Ft*(Mt-2*dt+bt),U=ft+2*X*(ot-ft)+Ft*(Nt-2*ot+ft),j=dt+2*X*(Mt-dt)+Ft*(Pt-2*Mt+dt),q=ot+2*X*(Nt-ot)+Ft*(J-2*Nt+ot),gt=vt*bt+X*dt,_=vt*ft+X*ot,yt=vt*Mt+X*Pt,wt=vt*Nt+X*J,St=90-Math.atan2(Y-j,U-q)*180/Math.PI;return{x:kt,y:jt,m:{x:Y,y:U},n:{x:j,y:q},start:{x:gt,y:_},end:{x:yt,y:wt},alpha:St}},at=function(bt,ft,dt){var ot=$(bt),Mt=$(ft);if(!V(ot,Mt))return dt?0:[];for(var Nt=G.apply(0,bt),Pt=G.apply(0,ft),J=~~(Nt/8),X=~~(Pt/8),vt=[],lt=[],Ct={},Ft=dt?0:[],Wt=0;Wt<J+1;Wt++){var kt=nt.apply(0,bt.concat(Wt/J));vt.push({x:kt.x,y:kt.y,t:Wt/J})}for(var Wt=0;Wt<X+1;Wt++){var kt=nt.apply(0,ft.concat(Wt/X));lt.push({x:kt.x,y:kt.y,t:Wt/X})}for(var Wt=0;Wt<J;Wt++)for(var jt=0;jt<X;jt++){var Y=vt[Wt],U=vt[Wt+1],j=lt[jt],q=lt[jt+1],gt=Math.abs(U.x-Y.x)<.001?"y":"x",_=Math.abs(q.x-j.x)<.001?"y":"x",yt=z(Y.x,Y.y,U.x,U.y,j.x,j.y,q.x,q.y);if(yt){if(Ct[yt.x.toFixed(4)]===yt.y.toFixed(4))continue;Ct[yt.x.toFixed(4)]=yt.y.toFixed(4);var wt=Y.t+Math.abs((yt[gt]-Y[gt])/(U[gt]-Y[gt]))*(U.t-Y.t),St=j.t+Math.abs((yt[_]-j[_])/(q[_]-j[_]))*(q.t-j.t);wt>=0&&wt<=1&&St>=0&&St<=1&&(dt?Ft+=1:Ft.push({x:yt.x,y:yt.y,t1:wt,t2:St}))}}return Ft},st=function(bt,ft,dt){bt=D(bt),ft=D(ft);for(var ot,Mt,Nt,Pt,J,X,vt,lt,Ct,Ft,Wt=dt?0:[],kt=0,jt=bt.length;kt<jt;kt++){var Y=bt[kt];if(Y[0]==="M")ot=J=Y[1],Mt=X=Y[2];else{Y[0]==="C"?(Ct=[ot,Mt].concat(Y.slice(1)),ot=Ct[6],Mt=Ct[7]):(Ct=[ot,Mt,ot,Mt,J,X,J,X],ot=J,Mt=X);for(var U=0,j=ft.length;U<j;U++){var q=ft[U];if(q[0]==="M")Nt=vt=q[1],Pt=lt=q[2];else{q[0]==="C"?(Ft=[Nt,Pt].concat(q.slice(1)),Nt=Ft[6],Pt=Ft[7]):(Ft=[Nt,Pt,Nt,Pt,vt,lt,vt,lt],Nt=vt,Pt=lt);var gt=at(Ct,Ft,dt);if(dt)Wt+=gt;else{for(var _=0,yt=gt.length;_<yt;_++)gt[_].segment1=kt,gt[_].segment2=U,gt[_].bez1=Ct,gt[_].bez2=Ft;Wt=Wt.concat(gt)}}}}}return Wt},tt=function(bt,ft){return st(bt,ft)};function Q(Yt,bt){var ft=[],dt=[];function ot(Mt,Nt){if(Mt.length===1)ft.push(Mt[0]),dt.push(Mt[0]);else{for(var Pt=[],J=0;J<Mt.length-1;J++)J===0&&ft.push(Mt[0]),J===Mt.length-2&&dt.push(Mt[J+1]),Pt[J]=[(1-Nt)*Mt[J][0]+Nt*Mt[J+1][0],(1-Nt)*Mt[J][1]+Nt*Mt[J+1][1]];ot(Pt,Nt)}}return Yt.length&&ot(Yt,bt),{left:ft,right:dt.reverse()}}function Z(Yt,bt,ft){var dt=[[Yt[1],Yt[2]]];ft=ft||2;var ot=[];bt[0]==="A"?(dt.push(bt[6]),dt.push(bt[7])):bt[0]==="C"?(dt.push([bt[1],bt[2]]),dt.push([bt[3],bt[4]]),dt.push([bt[5],bt[6]])):bt[0]==="S"||bt[0]==="Q"?(dt.push([bt[1],bt[2]]),dt.push([bt[3],bt[4]])):dt.push([bt[1],bt[2]]);for(var Mt=dt,Nt=1/ft,Pt=0;Pt<ft-1;Pt++){var J=Nt/(1-Nt*Pt),X=Q(Mt,J);ot.push(X.left),Mt=X.right}ot.push(Mt);var vt=ot.map(function(lt){var Ct=[];return lt.length===4&&(Ct.push("C"),Ct=Ct.concat(lt[2])),lt.length>=3&&(lt.length===3&&Ct.push("Q"),Ct=Ct.concat(lt[1])),lt.length===2&&Ct.push("L"),Ct=Ct.concat(lt[lt.length-1]),Ct});return vt}var et=function(bt,ft,dt){if(dt===1)return[[].concat(bt)];var ot=[];if(ft[0]==="L"||ft[0]==="C"||ft[0]==="Q")ot=ot.concat(Z(bt,ft,dt));else{var Mt=[].concat(bt);Mt[0]==="M"&&(Mt[0]="L");for(var Nt=0;Nt<=dt-1;Nt++)ot.push(Mt)}return ot},ct=function(bt,ft){if(bt.length===1)return bt;var dt=bt.length-1,ot=ft.length-1,Mt=dt/ot,Nt=[];if(bt.length===1&&bt[0][0]==="M"){for(var Pt=0;Pt<ot-dt;Pt++)bt.push(bt[0]);return bt}for(var Pt=0;Pt<ot;Pt++){var J=Math.floor(Mt*Pt);Nt[J]=(Nt[J]||0)+1}var X=Nt.reduce(function(vt,lt,Ct){return Ct===dt?vt.concat(bt[dt]):vt.concat(et(bt[Ct],bt[Ct+1],lt))},[]);return X.unshift(bt[0]),(ft[ot]==="Z"||ft[ot]==="z")&&X.push("Z"),X},mt=function(bt,ft){if(bt.length!==ft.length)return!1;var dt=!0;return Object(h.j)(bt,function(ot,Mt){if(ot!==ft[Mt])return dt=!1,!1}),dt};function Ot(Yt,bt,ft){var dt=null,ot=ft;return bt<ot&&(ot=bt,dt="add"),Yt<ot&&(ot=Yt,dt="del"),{type:dt,min:ot}}var it=function(bt,ft){var dt=bt.length,ot=ft.length,Mt,Nt,Pt=0;if(dt===0||ot===0)return null;for(var J=[],X=0;X<=dt;X++)J[X]=[],J[X][0]={min:X};for(var vt=0;vt<=ot;vt++)J[0][vt]={min:vt};for(var X=1;X<=dt;X++){Mt=bt[X-1];for(var vt=1;vt<=ot;vt++){Nt=ft[vt-1],mt(Mt,Nt)?Pt=0:Pt=1;var lt=J[X-1][vt].min+1,Ct=J[X][vt-1].min+1,Ft=J[X-1][vt-1].min+Pt;J[X][vt]=Ot(lt,Ct,Ft)}}return J},xt=function(bt,ft){var dt=it(bt,ft),ot=bt.length,Mt=ft.length,Nt=[],Pt=1,J=1;if(dt[ot][Mt].min!==ot){for(var X=1;X<=ot;X++){var vt=dt[X][X].min;J=X;for(var lt=Pt;lt<=Mt;lt++)dt[X][lt].min<vt&&(vt=dt[X][lt].min,J=lt);Pt=J,dt[X][Pt].type&&Nt.push({index:X-1,type:dt[X][Pt].type})}for(var X=Nt.length-1;X>=0;X--)Pt=Nt[X].index,Nt[X].type==="add"?bt.splice(Pt,0,[].concat(bt[Pt])):bt.splice(Pt,1)}ot=bt.length;var Ct=Mt-ot;if(ot<Mt)for(var X=0;X<Ct;X++)bt[ot-1][0]==="z"||bt[ot-1][0]==="Z"?bt.splice(ot-2,0,bt[ot-2]):bt.push(bt[ot-1]),ot+=1;return bt};function It(Yt,bt,ft){for(var dt=[].concat(Yt),ot,Mt=1/(ft+1),Nt=zt(bt)[0],Pt=1;Pt<=ft;Pt++)Mt*=Pt,ot=Math.floor(Yt.length*Mt),ot===0?dt.unshift([Nt[0]*Mt+Yt[ot][0]*(1-Mt),Nt[1]*Mt+Yt[ot][1]*(1-Mt)]):dt.splice(ot,0,[Nt[0]*Mt+Yt[ot][0]*(1-Mt),Nt[1]*Mt+Yt[ot][1]*(1-Mt)]);return dt}function zt(Yt){var bt=[];switch(Yt[0]){case"M":bt.push([Yt[1],Yt[2]]);break;case"L":bt.push([Yt[1],Yt[2]]);break;case"A":bt.push([Yt[6],Yt[7]]);break;case"Q":bt.push([Yt[3],Yt[4]]),bt.push([Yt[1],Yt[2]]);break;case"T":bt.push([Yt[1],Yt[2]]);break;case"C":bt.push([Yt[5],Yt[6]]),bt.push([Yt[1],Yt[2]]),bt.push([Yt[3],Yt[4]]);break;case"S":bt.push([Yt[3],Yt[4]]),bt.push([Yt[1],Yt[2]]);break;case"H":bt.push([Yt[1],Yt[1]]);break;case"V":bt.push([Yt[1],Yt[1]]);break;default:}return bt}var Kt=function(bt,ft){if(bt.length<=1)return bt;for(var dt,ot=0;ot<ft.length;ot++)if(bt[ot][0]!==ft[ot][0])switch(dt=zt(bt[ot]),ft[ot][0]){case"M":bt[ot]=["M"].concat(dt[0]);break;case"L":bt[ot]=["L"].concat(dt[0]);break;case"A":bt[ot]=[].concat(ft[ot]),bt[ot][6]=dt[0][0],bt[ot][7]=dt[0][1];break;case"Q":if(dt.length<2)if(ot>0)dt=It(dt,bt[ot-1],1);else{bt[ot]=ft[ot];break}bt[ot]=["Q"].concat(dt.reduce(function(Mt,Nt){return Mt.concat(Nt)},[]));break;case"T":bt[ot]=["T"].concat(dt[0]);break;case"C":if(dt.length<3)if(ot>0)dt=It(dt,bt[ot-1],2);else{bt[ot]=ft[ot];break}bt[ot]=["C"].concat(dt.reduce(function(Mt,Nt){return Mt.concat(Nt)},[]));break;case"S":if(dt.length<2)if(ot>0)dt=It(dt,bt[ot-1],1);else{bt[ot]=ft[ot];break}bt[ot]=["S"].concat(dt.reduce(function(Mt,Nt){return Mt.concat(Nt)},[]));break;default:bt[ot]=ft[ot]}return bt}},ru7r:function(Ut,L,a){"use strict";a.d(L,"d",function(){return M}),a.d(L,"b",function(){return b}),a.d(L,"c",function(){return g}),a.d(L,"a",function(){return p});var h=a("J+IK"),i=a("jg4I"),O=a("ggto"),x=a("RF2d"),C=a("OM6K"),A=a("068J");function S(N){var I=N.chart,G=N.options,W=G.data,z=G.color,w=G.lineStyle,T=G.lineShape,B=G.point,V=G.seriesField,$=B==null?void 0:B.state;I.data(W);var nt=Object(x.b)({},N,{options:{shapeField:V,line:{color:z,style:w,shape:T},point:B&&Object(h.a)({color:z,shape:"circle"},B),label:void 0}}),at=Object(x.b)({},nt,{options:{tooltip:!1,state:$}});return Object(C.d)(nt),Object(C.e)(at),N}function M(N){var I,G,W=N.options,z=W.xAxis,w=W.yAxis,T=W.xField,B=W.yField,V=W.data;return Object(x.e)(Object(O.f)((I={},I[T]=z,I[B]=w,I),(G={},G[T]={type:"cat"},G[B]=Object(A.a)(V,B),G)))(N)}function b(N){var I=N.chart,G=N.options,W=G.xAxis,z=G.yAxis,w=G.xField,T=G.yField;return W===!1?I.axis(w,!1):I.axis(w,W),z===!1?I.axis(T,!1):I.axis(T,z),N}function g(N){var I=N.chart,G=N.options,W=G.legend,z=G.seriesField;return W&&z?I.legend(z,W):W===!1&&I.legend(!1),N}function E(N){var I=N.chart,G=N.options,W=G.label,z=G.yField,w=Object(x.c)(I,"line");if(!W)w.label(!1);else{var T=W.callback,B=Object(h.e)(W,["callback"]);w.label({fields:[z],callback:T,cfg:Object(h.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(x.u)(B))})}return N}function D(N){var I=N.chart,G=N.options,W=G.isStack;return W&&Object(i.j)(I.geometries,function(z){z.adjust("stack")}),N}function p(N){return Object(x.e)(S,M,D,O.j,b,g,O.k,E,O.h,O.c,O.a,Object(O.b)(),O.e)(N)}},sNXT:function(Ut,L,a){var h=a("cEHS"),i=a("l0EA");function O(x,C){return i(x||[],C||[],h)}Ut.exports=O},sn46:function(Ut,L){},swOU:function(Ut,L,a){var h=a("sVUS"),i=a("VL8K"),O=a("+Gi7"),x=h?h.isConcatSpreadable:void 0;function C(A){return O(A)||i(A)||!!(x&&A&&A[x])}Ut.exports=C},sxZn:function(Ut,L,a){"use strict";a.d(L,"b",function(){return i.a}),a.d(L,"c",function(){return i.d}),a.d(L,"d",function(){return i.e}),a.d(L,"a",function(){return h});var h={};a.r(h),a.d(h,"leftTranslate",function(){return O}),a.d(h,"leftRotate",function(){return x}),a.d(h,"leftScale",function(){return C}),a.d(h,"transform",function(){return S}),a.d(h,"direction",function(){return M}),a.d(h,"angleTo",function(){return b}),a.d(h,"vertical",function(){return g});var i=a("99LQ");function O(E,D,p){var N=[0,0,0,0,0,0,0,0,0];return i.a.fromTranslation(N,p),i.a.multiply(E,N,D)}function x(E,D,p){var N=[0,0,0,0,0,0,0,0,0];return i.a.fromRotation(N,p),i.a.multiply(E,N,D)}function C(E,D,p){var N=[0,0,0,0,0,0,0,0,0];return i.a.fromScaling(N,p),i.a.multiply(E,N,D)}function A(E,D,p){return i.a.multiply(E,p,D)}function S(E,D){for(var p=E?[].concat(E):[1,0,0,0,1,0,0,0,1],N=0,I=D.length;N<I;N++){var G=D[N];switch(G[0]){case"t":O(p,p,[G[1],G[2]]);break;case"s":C(p,p,[G[1],G[2]]);break;case"r":x(p,p,G[1]);break;case"m":A(p,p,G[1]);break;default:break}}return p}function M(E,D){return E[0]*D[1]-D[0]*E[1]}function b(E,D,p){var N=i.d.angle(E,D),I=M(E,D)>=0;return p?I?Math.PI*2-N:N:I?N:Math.PI*2-N}function g(E,D,p){return p?(E[0]=D[1],E[1]=-1*D[0]):(E[0]=-1*D[1],E[1]=D[0]),E}},syls:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h}),a.d(L,"b",function(){return O});var h=-1,i=1;function O(){return i++}},t3mm:function(Ut,L,a){var h=a("Z8sD"),i=h();Ut.exports=i},tCm8:function(Ut,L,a){var h=a("7LJS"),i=a("i1Q6"),O=a("WeNx");function x(C){return C&&C.length?h(C,O,i):void 0}Ut.exports=x},tDsh:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("Lkm0"),O=function(C){Object(h.c)(A,C);function A(){return C!==null&&C.apply(this,arguments)||this}return A.prototype.isGroup=function(){return!0},A.prototype.isEntityGroup=function(){return!1},A.prototype.clone=function(){for(var S=C.prototype.clone.call(this),M=this.getChildren(),b=0;b<M.length;b++){var g=M[b];S.add(g.clone())}return S},A}(i.a),x=O},tKNA:function(Ut,L,a){"use strict";var h=a("/WN3"),i=a("jg4I"),O=a("3k0L"),x=a("5Kaj");function C(S,M){return(M-S)*Math.random()+S}var A=function(S){Object(h.b)(M,S);function M(){return S!==null&&S.apply(this,arguments)||this}return M.prototype.process=function(b){var g=i.e(b),E=i.q(g);return this.adjustData(g,E),g},M.prototype.adjustDim=function(b,g,E){var D=this,p=this.groupData(E,b);return i.j(p,function(N,I){return D.adjustGroup(N,b,parseFloat(I),g)})},M.prototype.getAdjustOffset=function(b){var g=b.pre,E=b.next,D=(E-g)*O.c;return C(g+D,E-D)},M.prototype.adjustGroup=function(b,g,E,D){var p=this,N=this.getAdjustRange(g,E,D);return i.j(b,function(I){I[g]=p.getAdjustOffset(N)}),b},M}(x.a);L.a=A},tKQU:function(Ut,L,a){"use strict";a.d(L,"c",function(){return b}),a.d(L,"b",function(){return g}),a.d(L,"a",function(){return E});var h=a("J+IK"),i=a("o/SM"),O=Math.sin,x=Math.cos,C=Math.atan2,A=Math.PI;function S(D,p,N,I,G,W,z){var w=p.stroke,T=p.lineWidth,B=N-G,V=I-W,$=C(V,B),nt=new i.Path({type:"path",canvas:D.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*x(A/6)+","+10*O(A/6)+" L0,0 L"+10*x(A/6)+",-"+10*O(A/6),stroke:w,lineWidth:T}});nt.translate(G,W),nt.rotateAtPoint(G,W,$),D.set(z?"startArrowShape":"endArrowShape",nt)}function M(D,p,N,I,G,W,z){var w=p.startArrow,T=p.endArrow,B=p.stroke,V=p.lineWidth,$=z?w:T,nt=$.d,at=$.fill,st=$.stroke,tt=$.lineWidth,Q=Object(h.e)($,["d","fill","stroke","lineWidth"]),Z=N-G,et=I-W,ct=C(et,Z);nt&&(G=G-x(ct)*nt,W=W-O(ct)*nt);var mt=new i.Path({type:"path",canvas:D.get("canvas"),isArrowShape:!0,attrs:Object(h.a)(Object(h.a)({},Q),{stroke:st||B,lineWidth:tt||V,fill:at})});mt.translate(G,W),mt.rotateAtPoint(G,W,ct),D.set(z?"startArrowShape":"endArrowShape",mt)}function b(D,p,N,I,G){var W=C(I-p,N-D);return{dx:x(W)*G,dy:O(W)*G}}function g(D,p,N,I,G,W){typeof p.startArrow=="object"?M(D,p,N,I,G,W,!0):p.startArrow?S(D,p,N,I,G,W,!0):D.set("startArrowShape",null)}function E(D,p,N,I,G,W){typeof p.endArrow=="object"?M(D,p,N,I,G,W,!1):p.endArrow?S(D,p,N,I,G,W,!1):D.set("startArrowShape",null)}},tbeB:function(Ut,L){var a=Math.ceil,h=Math.max;function i(O,x,C,A){for(var S=-1,M=h(a((x-O)/(C||1)),0),b=Array(M);M--;)b[A?M:++S]=O,O+=C;return b}Ut.exports=i},tebh:function(Ut,L){Ut.exports="0.8.5"},to4S:function(Ut,L,a){"use strict";a.d(L,"a",function(){return it});var h=a("SDju"),i=a.n(h),O=a("7XXI"),x=a.n(O),C=a("viI4"),A=a.n(C),S=a("Rspp"),M=a.n(S),b=a("2Asv"),g=a.n(b),E=a("PVp4"),D=a.n(E),p=a("e6Zy"),N=a.n(p),I=a("me+i"),G=a.n(I),W=a("XN3X"),z=a("RtY/"),w=a("aStn"),T=a("K4bE"),B,V,$,nt,at,st,tt,Q,Z,et,ct,mt,Ot,it=(B=Object(I.injectable)(),V=Object(I.inject)(W.a.Systems),$=Object(I.named)(W.a.FrameGraphSystem),nt=Object(I.inject)(W.a.RenderPassFactory),at=Object(I.inject)(W.a.ConfigService),st=Object(I.inject)(W.a.ResourcePool),B(tt=(Q=(Ot=function(){function xt(){M()(this,xt),A()(this,"frameGraphSystem",Z,this),A()(this,"renderPassFactory",et,this),A()(this,"configService",ct,this),A()(this,"resourcePool",mt,this)}return g()(xt,[{key:"execute",value:function(){var It=x()(i.a.mark(function Kt(Yt){var bt,ft,dt,ot,Mt,Nt,Pt,J,X;return i.a.wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:bt=this.renderPassFactory(T.a.IDENTIFIER),ft=bt.setup,dt=bt.execute,ot=this.frameGraphSystem.addPass(T.a.IDENTIFIER,ft,dt),Mt=this.renderPassFactory(z.a.IDENTIFIER),Nt=Mt.setup,Pt=Mt.execute,J=Mt.tearDown,X=this.frameGraphSystem.addPass(z.a.IDENTIFIER,Nt,Pt,J),this.frameGraphSystem.present(X.data.output);case 5:case"end":return lt.stop()}},Kt,this)}));function zt(Kt){return It.apply(this,arguments)}return zt}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(zt,Kt){var Yt=this.renderPassFactory(w.a.IDENTIFIER);return Yt.pick(zt,Kt)}}]),xt}(),Ot),Z=D()(Q.prototype,"frameGraphSystem",[V,$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=D()(Q.prototype,"renderPassFactory",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=D()(Q.prototype,"configService",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=D()(Q.prototype,"resourcePool",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q))||tt)},tqoU:function(Ut,L){function a(h,i,O){for(var x=O-1,C=h.length;++x<C;)if(h[x]===i)return x;return-1}Ut.exports=a},tuqv:function(Ut,L,a){"use strict";L.a=function(h){h.x0=Math.round(h.x0),h.y0=Math.round(h.y0),h.x1=Math.round(h.x1),h.y1=Math.round(h.y1)}},"u3/Z":function(Ut,L){function a(h){return Ut.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0,a(h)}Ut.exports=a,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},u3Fj:function(Ut,L,a){var h=a("mdrB"),i=a("Wzpx"),O=h(i);Ut.exports=O},uRYK:function(Ut,L,a){"use strict";a.d(L,"b",function(){return g}),a.d(L,"a",function(){return p});var h=a("jg4I"),i="\u2026";function O(N){for(var I=0,G=0;G<N.length;G++)I+=x(N,G);return I}function x(N,I){return N.charCodeAt(I)>0&&N.charCodeAt(I)<128?1:2}function C(N,I,G){G===void 0&&(G="tail");var W=N.length,z="";if(G==="tail"){for(var w=0,T=0;w<I;){var B=x(N,T);if(w+B<=I)z+=N[T],w+=x(N,T),T++;else break}z+=i}else if(G==="head"){for(var w=0,T=W-1;w<I;){var B=x(N,T);if(w+B<=I)z+=N[T],w+=x(N,T),T--;else break}z=i+z}else{for(var V="",$="",w=0,nt=0,at=W-1;w<I;){var st=x(N,nt),tt=!1;st+w<=I&&(V+=N[nt],nt++,w+=st,tt=!0);var Q=x(N,at);if(Q+w<=I&&($=N[at]+$,w+=Q,at--,tt=!0),!tt)break}z=V+i+$}return z}var A="\u2026",S=2,M=400;function b(N){for(var I=N.map(function(V){var $=V.attr("text");return Object(h.I)($)?"":""+$}),G=0,W=0,z=0;z<I.length;z+=1){for(var w=0,T=0;T<=I[z].length;T+=1){var B=I[z].charCodeAt(T);B>=19968&&B<=40869?w+=2:w+=1}w>G&&(G=w,W=z)}return N[W].getBBox().width}function g(N){if(N.length>M)return b(N);var I=0;return Object(h.j)(N,function(G){var W=G.getBBox(),z=W.width;I<z&&(I=z)}),I}function E(N,I){var G=I.getCanvasBBox();return N?G.width:G.height}function D(N,I){return N.getBBox().width<I}function p(N,I,G,W){W===void 0&&(W="tail");var z=I.attr("text"),w=E(N,I),T=O(z),B=!1;if(G<w){var V=Math.floor(G/w*T)-S,$=void 0;V>=0?$=C(z,V,W):$=A,$&&(I.attr("text",$),B=!0)}return B?I.set("tip",z):I.set("tip",null),B}},uSfk:function(Ut,L){function a(h,i,O){for(var x=-1,C=h==null?0:h.length;++x<C;)if(O(i,h[x]))return!0;return!1}Ut.exports=a},uWsc:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("jsfD");function O(p,N){if(N){var I=Object(i.invert)(N);return Object(i.multiplyVec2)(I,p)}return p}function x(p,N,I){var G=p.getTotalMatrix();if(G){var W=O([N,I,1],G),z=W[0],w=W[1];return[z,w]}return[N,I]}function C(p,N,I){if(p.isCanvas&&p.isCanvas())return!0;if(!Object(i.isAllowCapture)(p)||p.cfg.isInView===!1)return!1;if(p.cfg.clipShape){var G=x(p,N,I),W=G[0],z=G[1];if(p.isClipped(W,z))return!1}var w=p.cfg.cacheCanvasBBox||p.getCanvasBBox();return N>=w.minX&&N<=w.maxX&&I>=w.minY&&I<=w.maxY}function A(p,N,I){if(!C(p,N,I))return null;for(var G=null,W=p.getChildren(),z=W.length,w=z-1;w>=0;w--){var T=W[w];if(T.isGroup())G=A(T,N,I);else if(C(T,N,I)){var B=T,V=x(T,N,I),$=V[0],nt=V[1];B.isInShape($,nt)&&(G=T)}if(G)break}return G}var S=a("2umH"),M=a("EEvF"),b=a("PZqk"),g=a("ERDx"),E=function(p){Object(h.c)(N,p);function N(){return p!==null&&p.apply(this,arguments)||this}return N.prototype.getDefaultCfg=function(){var I=p.prototype.getDefaultCfg.call(this);return I.renderer="canvas",I.autoDraw=!0,I.localRefresh=!0,I.refreshElements=[],I.clipView=!0,I.quickHit=!1,I},N.prototype.onCanvasChange=function(I){(I==="attr"||I==="sort"||I==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},N.prototype.getShapeBase=function(){return S},N.prototype.getGroupBase=function(){return M.a},N.prototype.getPixelRatio=function(){var I=this.get("pixelRatio")||Object(b.d)();return I>=1?Math.ceil(I):1},N.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},N.prototype.createDom=function(){var I=document.createElement("canvas"),G=I.getContext("2d");return this.set("context",G),I},N.prototype.setDOMSize=function(I,G){p.prototype.setDOMSize.call(this,I,G);var W=this.get("context"),z=this.get("el"),w=this.getPixelRatio();z.width=w*I,z.height=w*G,w>1&&W.scale(w,w)},N.prototype.clear=function(){p.prototype.clear.call(this),this._clearFrame();var I=this.get("context"),G=this.get("el");I.clearRect(0,0,G.width,G.height)},N.prototype.getShape=function(I,G){var W;return this.get("quickHit")?W=A(this,I,G):W=p.prototype.getShape.call(this,I,G,null),W},N.prototype._getRefreshRegion=function(){var I=this.get("refreshElements"),G=this.getViewRange(),W;if(I.length&&I[0]===this)W=G;else if(W=Object(g.f)(I),W){W.minX=Math.floor(W.minX),W.minY=Math.floor(W.minY),W.maxX=Math.ceil(W.maxX),W.maxY=Math.ceil(W.maxY),W.maxY+=1;var z=this.get("clipView");z&&(W=Object(g.g)(W,G))}return W},N.prototype.refreshElement=function(I){var G=this.get("refreshElements");G.push(I)},N.prototype._clearFrame=function(){var I=this.get("drawFrame");I&&(Object(b.a)(I),this.set("drawFrame",null),this.set("refreshElements",[]))},N.prototype.draw=function(){var I=this.get("drawFrame");this.get("autoDraw")&&I||this._startDraw()},N.prototype._drawAll=function(){var I=this.get("context"),G=this.get("el"),W=this.getChildren();I.clearRect(0,0,G.width,G.height),Object(g.a)(I,this),Object(g.d)(I,W),this.set("refreshElements",[])},N.prototype._drawRegion=function(){var I=this.get("context"),G=this.get("refreshElements"),W=this.getChildren(),z=this._getRefreshRegion();z?(I.clearRect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),I.save(),I.beginPath(),I.rect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),I.clip(),Object(g.a)(I,this),Object(g.b)(this,W,z),Object(g.d)(I,W,z),I.restore()):G.length&&Object(g.c)(G),Object(b.c)(G,function(w){w.get("hasChanged")&&w.set("hasChanged",!1)}),this.set("refreshElements",[])},N.prototype._startDraw=function(){var I=this,G=this.get("drawFrame");G||(G=Object(b.n)(function(){I.get("localRefresh")?I._drawRegion():I._drawAll(),I.set("drawFrame",null)}),this.set("drawFrame",G))},N.prototype.skipDraw=function(){},N.prototype.removeDom=function(){var I=this.get("el");I.width=0,I.height=0,I.parentNode.removeChild(I)},N}(i.AbstractCanvas),D=L.a=E},uozB:function(Ut,L,a){"use strict";a.d(L,"a",function(){return A});var h=a("J+IK"),i=a("d38q"),O=a("ynmA"),x=a("HEgp"),C=a("N5bZ"),A=function(S){Object(h.c)(M,S);function M(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="tiny-line",b}return M.getDefaultOptions=function(){return x.a},M.prototype.changeData=function(b){this.updateOption({data:b});var g=this,E=g.chart,D=g.options;Object(O.b)({chart:E,options:D}),E.changeData(Object(C.a)(b))},M.prototype.getDefaultOptions=function(){return M.getDefaultOptions()},M.prototype.getSchemaAdaptor=function(){return O.a},M}(i.b)},"v/6M":function(Ut,L,a){var h=a("9drk"),i=a("CPGf");function O(x,C){return x!=null&&i(x,C,h)}Ut.exports=O},v5ut:function(Ut,L,a){var h=a("XSdR"),i=a("hppO");Ut.exports={run:O,cleanup:S};function O(M){var b=i.addDummyNode(M,"root",{},"_root"),g=C(M),E=h.max(h.values(g))-1,D=2*E+1;M.graph().nestingRoot=b,h.forEach(M.edges(),function(N){M.edge(N).minlen*=D});var p=A(M)+1;h.forEach(M.children(),function(N){x(M,b,D,p,E,g,N)}),M.graph().nodeRankFactor=D}function x(M,b,g,E,D,p,N){var I=M.children(N);if(!I.length){N!==b&&M.setEdge(b,N,{weight:0,minlen:g});return}var G=i.addBorderNode(M,"_bt"),W=i.addBorderNode(M,"_bb"),z=M.node(N);M.setParent(G,N),z.borderTop=G,M.setParent(W,N),z.borderBottom=W,h.forEach(I,function(w){x(M,b,g,E,D,p,w);var T=M.node(w),B=T.borderTop?T.borderTop:w,V=T.borderBottom?T.borderBottom:w,$=T.borderTop?E:2*E,nt=B!==V?1:D-p[N]+1;M.setEdge(G,B,{weight:$,minlen:nt,nestingEdge:!0}),M.setEdge(V,W,{weight:$,minlen:nt,nestingEdge:!0})}),M.parent(N)||M.setEdge(b,G,{weight:0,minlen:D+p[N]})}function C(M){var b={};function g(E,D){var p=M.children(E);p&&p.length&&h.forEach(p,function(N){g(N,D+1)}),b[E]=D}return h.forEach(M.children(),function(E){g(E,1)}),b}function A(M){return h.reduce(M.edges(),function(b,g){return b+M.edge(g).weight},0)}function S(M){var b=M.graph();M.removeNode(b.nestingRoot),delete b.nestingRoot,h.forEach(M.edges(),function(g){var E=M.edge(g);E.nestingEdge&&M.removeEdge(g)})}},"vAg+":function(Ut,L,a){"use strict";a.d(L,"adaptors",function(){return ft});var h=a("AO+g");a.d(L,"G2",function(){return h});var i=a("d38q"),O=a("T7FO"),x=a("9UY9");a.d(L,"Line",function(){return x.a});var C=a("P7bb");a.d(L,"Area",function(){return C.a});var A=a("nbEI");a.d(L,"Column",function(){return A.a});var S=a("Hcmt");a.d(L,"Bar",function(){return S.a});var M=a("JP7k");a.d(L,"Pie",function(){return M.a});var b=a("YNac");a.d(L,"Rose",function(){return b.a});var g=a("F6jN");a.d(L,"WordCloud",function(){return g.a});var E=a("eJ4x");a.d(L,"Scatter",function(){return E.a});var D=a("YI4C");a.d(L,"Radar",function(){return D.a});var p=a("+asT");a.d(L,"DualAxes",function(){return p.a});var N=a("uozB");a.d(L,"TinyLine",function(){return N.a});var I=a("lAK3");a.d(L,"TinyColumn",function(){return I.a});var G=a("NqnP");a.d(L,"TinyArea",function(){return G.a});var W=a("EZPB");a.d(L,"Histogram",function(){return W.a});var z=a("XqNA");a.d(L,"Progress",function(){return z.a});var w=a("/whS");a.d(L,"RingProgress",function(){return w.a});var T=a("hU+C");a.d(L,"Heatmap",function(){return T.a});var B=a("Sltr");a.d(L,"Box",function(){return B.a});var V=a("hZRB");a.d(L,"Stock",function(){return V.a});var $=a("W+ug");a.d(L,"Funnel",function(){return $.a});var nt=a("8UnP");a.d(L,"Liquid",function(){return nt.a});var at=a("mtr9");a.d(L,"Bullet",function(){return at.a});var st=a("cY+X");a.d(L,"Sunburst",function(){return st.a});var tt=a("K105");a.d(L,"Gauge",function(){return tt.a});var Q=a("UaOR");a.d(L,"Waterfall",function(){return Q.a});var Z=a("B5uA");a.d(L,"RadialBar",function(){return Z.a});var et=a("gCS0");a.d(L,"BidirectionalBar",function(){return et.a});var ct=a("cxhD");a.d(L,"Treemap",function(){return ct.a});var mt=a("Jtzm");a.d(L,"Sankey",function(){return mt.a});var Ot=a("9al/");a.d(L,"Chord",function(){return Ot.a});var it=a("AXeJ"),xt=a("EP80");a.d(L,"MultiView",function(){return xt.a});var It=a("RF2d");a.d(L,"flow",function(){return It.e}),a.d(L,"measureTextWidth",function(){return It.o});var zt=a("OM6K"),Kt=a("ggto"),Yt=a("QwT7"),bt="2.3.18",ft={scale:Kt.f,legend:Kt.d,tooltip:Kt.k,annotation:Kt.b,interaction:Kt.c,theme:Kt.j,animation:Kt.a}},vAzl:function(Ut,L,a){"use strict";var h=a("/WN3"),i=a("jg4I"),O=a("3k0L"),x=a("5Kaj"),C=function(A){Object(h.b)(S,A);function S(M){var b=A.call(this,M)||this;b.cacheMap={},b.adjustDataArray=[],b.mergeData=[];var g=M.marginRatio,E=g===void 0?O.d:g,D=M.dodgeRatio,p=D===void 0?O.b:D,N=M.dodgeBy,I=M.intervalPadding,G=M.dodgePadding,W=M.xDimensionLength,z=M.groupNum,w=M.defaultSize,T=M.maxColumnWidth,B=M.minColumnWidth,V=M.columnWidthRatio;return b.marginRatio=E,b.dodgeRatio=p,b.dodgeBy=N,b.intervalPadding=I,b.dodgePadding=G,b.xDimensionLegenth=W,b.groupNum=z,b.defaultSize=w,b.maxColumnWidth=T,b.minColumnWidth=B,b.columnWidthRatio=V,b}return S.prototype.process=function(M){var b=i.e(M),g=i.q(b),E=this.dodgeBy,D=E?i.u(g,E):b;return this.cacheMap={},this.adjustDataArray=D,this.mergeData=g,this.adjustData(D,g),this.adjustDataArray=[],this.mergeData=[],b},S.prototype.adjustDim=function(M,b,g,E){var D=this,p=this.getDistribution(M),N=this.groupData(g,M);return i.j(N,function(I,G){var W;b.length===1?W={pre:b[0]-1,next:b[0]+1}:W=D.getAdjustRange(M,parseFloat(G),b),i.j(I,function(z){var w=z[M],T=p[w],B=T.indexOf(E);z[M]=D.getDodgeOffset(W,B,T.length)})}),[]},S.prototype.getDodgeOffset=function(M,b,g){var E=this,D=E.dodgeRatio,p=E.marginRatio,N=E.intervalPadding,I=E.dodgePadding,G=M.pre,W=M.next,z=W-G,w;if(!i.I(N)&&i.I(I)&&N>=0){var T=this.getIntervalOnlyOffset(g,b);w=G+T}else if(!i.I(I)&&i.I(N)&&I>=0){var T=this.getDodgeOnlyOffset(g,b);w=G+T}else if(!i.I(N)&&!i.I(I)&&N>=0&&I>=0){var T=this.getIntervalAndDodgeOffset(g,b);w=G+T}else{var B=z*D/g,V=p*B,T=1/2*(z-g*B-(g-1)*V)+((b+1)*B+b*V)-1/2*B-1/2*z;w=(G+W)/2+T}return w},S.prototype.getIntervalOnlyOffset=function(M,b){var g=this,E=g.defaultSize,D=g.intervalPadding,p=g.xDimensionLegenth,N=g.groupNum,I=g.dodgeRatio,G=g.maxColumnWidth,W=g.minColumnWidth,z=g.columnWidthRatio,w=D/p,T=(1-(N-1)*w)/N*I/(M-1),B=((1-w*(N-1))/N-T*(M-1))/M;if(B=i.I(z)?B:1/N/M*z,!i.I(G)){var V=G/p;B=Math.min(B,V)}if(!i.I(W)){var $=W/p;B=Math.max(B,$)}B=E?E/p:B,T=((1-(N-1)*w)/N-M*B)/(M-1);var nt=((1/2+b)*B+b*T+1/2*w)*N-w/2;return nt},S.prototype.getDodgeOnlyOffset=function(M,b){var g=this,E=g.defaultSize,D=g.dodgePadding,p=g.xDimensionLegenth,N=g.groupNum,I=g.marginRatio,G=g.maxColumnWidth,W=g.minColumnWidth,z=g.columnWidthRatio,w=D/p,T=1*I/(N-1),B=((1-T*(N-1))/N-w*(M-1))/M;if(B=z?1/N/M*z:B,!i.I(G)){var V=G/p;B=Math.min(B,V)}if(!i.I(W)){var $=W/p;B=Math.max(B,$)}B=E?E/p:B,T=(1-(B*M+w*(M-1))*N)/(N-1);var nt=((1/2+b)*B+b*w+1/2*T)*N-T/2;return nt},S.prototype.getIntervalAndDodgeOffset=function(M,b){var g=this,E=g.intervalPadding,D=g.dodgePadding,p=g.xDimensionLegenth,N=g.groupNum,I=E/p,G=D/p,W=((1-I*(N-1))/N-G*(M-1))/M,z=((1/2+b)*W+b*G+1/2*I)*N-I/2;return z},S.prototype.getDistribution=function(M){var b=this.adjustDataArray,g=this.cacheMap,E=g[M];return E||(E={},i.j(b,function(D,p){var N=i.vb(D,M);N.length||N.push(0),i.j(N,function(I){E[I]||(E[I]=[]),E[I].push(p)})}),g[M]=E),E},S}(x.a);L.a=C},vCEu:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.ContainerSnapshot=void 0;var h=function(){function i(){}return i.of=function(O,x){var C=new i;return C.bindings=O,C.middleware=x,C},i}();L.ContainerSnapshot=h},vQYD:function(Ut,L,a){"use strict";var h=a("J+IK"),i=a("4Qiu"),O=a("RxlK"),x=function(A){Object(h.c)(S,A);function S(M){return A.call(this,M)||this}return S.prototype._isInBBox=function(M,b){var g=this.getBBox();return g.minX<=M&&g.maxX>=M&&g.minY<=b&&g.maxY>=b},S.prototype.afterAttrsChange=function(M){A.prototype.afterAttrsChange.call(this,M),this.clearCacheBBox()},S.prototype.getBBox=function(){var M=this.cfg.bbox;return M||(M=this.calculateBBox(),this.set("bbox",M)),M},S.prototype.getCanvasBBox=function(){var M=this.cfg.canvasBBox;return M||(M=this.calculateCanvasBBox(),this.set("canvasBBox",M)),M},S.prototype.applyMatrix=function(M){A.prototype.applyMatrix.call(this,M),this.set("canvasBBox",null)},S.prototype.calculateCanvasBBox=function(){var M=this.getBBox(),b=this.getTotalMatrix(),g=M.minX,E=M.minY,D=M.maxX,p=M.maxY;if(b){var N=Object(O.c)(b,[M.minX,M.minY]),I=Object(O.c)(b,[M.maxX,M.minY]),G=Object(O.c)(b,[M.minX,M.maxY]),W=Object(O.c)(b,[M.maxX,M.maxY]);g=Math.min(N[0],I[0],G[0],W[0]),D=Math.max(N[0],I[0],G[0],W[0]),E=Math.min(N[1],I[1],G[1],W[1]),p=Math.max(N[1],I[1],G[1],W[1])}var z=this.attrs;if(z.shadowColor){var w=z.shadowBlur,T=w===void 0?0:w,B=z.shadowOffsetX,V=B===void 0?0:B,$=z.shadowOffsetY,nt=$===void 0?0:$,at=g-T+V,st=D+T+V,tt=E-T+nt,Q=p+T+nt;g=Math.min(g,at),D=Math.max(D,st),E=Math.min(E,tt),p=Math.max(p,Q)}return{x:g,y:E,minX:g,minY:E,maxX:D,maxY:p,width:D-g,height:p-E}},S.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},S.prototype.isClipShape=function(){return this.get("isClipShape")},S.prototype.isInShape=function(M,b){return!1},S.prototype.isOnlyHitBox=function(){return!1},S.prototype.isHit=function(M,b){var g=this.get("startArrowShape"),E=this.get("endArrowShape"),D=[M,b,1];D=this.invertFromMatrix(D);var p=D[0],N=D[1],I=this._isInBBox(p,N);return this.isOnlyHitBox()?I:!!(I&&!this.isClipped(p,N)&&(this.isInShape(p,N)||g&&g.isHit(p,N)||E&&E.isHit(p,N)))},S}(i.a),C=x},vdmW:function(Ut,L){},viI4:function(Ut,L){function a(h,i,O,x){!O||Object.defineProperty(h,i,{enumerable:O.enumerable,configurable:O.configurable,writable:O.writable,value:O.initializer?O.initializer.call(x):void 0})}Ut.exports=a,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},viQC:function(Ut,L,a){"use strict";var h=a("jg4I"),i=/rgba?\(([\s.,0-9]+)\)/,O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,x=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,A=function(z){return/^[r,R,L,l]{1}[\s]*\(/.test(z)},S=function(){var z=document.createElement("i");return z.title="Web Colour Picker",z.style.display="none",document.body.appendChild(z),z},M=function(z,w,T,B){return z[B]+(w[B]-z[B])*T};function b(W){return"#"+E(W[0])+E(W[1])+E(W[2])}var g=function(z){return[parseInt(z.substr(1,2),16),parseInt(z.substr(3,2),16),parseInt(z.substr(5,2),16)]},E=function(z){var w=Math.round(z).toString(16);return w.length===1?"0"+w:w},D=function(z,w){var T=isNaN(Number(w))||w<0?0:w>1?1:Number(w),B=z.length-1,V=Math.floor(B*T),$=B*T-V,nt=z[V],at=V===B?nt:z[V+1];return b([M(nt,at,$,0),M(nt,at,$,1),M(nt,at,$,2)])},p,N=function(z){if(z[0]==="#"&&z.length===7)return z;p||(p=S()),p.style.color=z;var w=document.defaultView.getComputedStyle(p,"").getPropertyValue("color"),T=i.exec(w),B=T[1].split(/\s*,\s*/).map(function(V){return Number(V)});return w=b(B),w},I=function(z){var w=Object(h.O)(z)?z.split("-"):z,T=Object(h.U)(w,function(B){return g(B.indexOf("#")===-1?N(B):B)});return function(B){return D(T,B)}},G=function(z){if(A(z)){var w,T=void 0;if(z[0]==="l"){var B=O.exec(z),V=+B[1]+90;T=B[2],w="linear-gradient("+V+"deg, "}else if(z[0]==="r"){w="radial-gradient(";var B=x.exec(z);T=B[4]}var $=T.match(C);return Object(h.j)($,function(nt,at){var st=nt.split(":");w+=st[1]+" "+st[0]*100+"%",at!==$.length-1&&(w+=", ")}),w+=")",w}return z};L.a={rgb2arr:g,gradient:I,toRGB:Object(h.Y)(N),toCSSGradient:G}},vnfV:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h});function h(i){return i&&i.slice().reverse()}},vqXp:function(Ut,L){function a(h){return function(){return h}}Ut.exports=a},wMWh:function(Ut,L){Ut.exports=a;function a(h,i,O){var x=i[0],C=i[1];return h[0]=O[0]*x+O[3]*C+O[6],h[1]=O[1]*x+O[4]*C+O[7],h}},wUId:function(Ut,L,a){"use strict";a.d(L,"a",function(){return h});var h=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},"weX+":function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var h;(function(Z){Z.TextureCompressionBC="texture-compression-bc"})(h=L.ExtensionName||(L.ExtensionName={}));var i;(function(Z){Z.ClampToEdge="clamp-to-edge",Z.Repeat="repeat",Z.MirrorRepeat="mirror-repeat"})(i=L.AddressMode||(L.AddressMode={}));var O;(function(Z){Z.UniformBuffer="uniform-buffer",Z.StorageBuffer="storage-buffer",Z.ReadonlyStorageBuffer="readonly-storage-buffer",Z.Sampler="sampler",Z.ComparisonSampler="comparison-sampler",Z.SampledTexture="sampled-texture",Z.ReadonlyStorageTexture="readonly-storage-texture",Z.WriteonlyStorageTexture="writeonly-storage-texture"})(O=L.BindingType||(L.BindingType={}));var x;(function(Z){Z.Zero="zero",Z.One="one",Z.SrcColor="src-color",Z.OneMinusSrcColor="one-minus-src-color",Z.SrcAlpha="src-alpha",Z.OneMinusSrcAlpha="one-minus-src-alpha",Z.DstColor="dst-color",Z.OneMinusDstColor="one-minus-dst-color",Z.DstAlpha="dst-alpha",Z.OneMinusDstAlpha="one-minus-dst-alpha",Z.SrcAlphaSaturated="src-alpha-saturated",Z.BlendColor="blend-color",Z.OneMinusBlendColor="one-minus-blend-color"})(x=L.BlendFactor||(L.BlendFactor={}));var C;(function(Z){Z.Add="add",Z.Subtract="subtract",Z.ReverseSubtract="reverse-subtract",Z.Min="min",Z.Max="max"})(C=L.BlendOperation||(L.BlendOperation={}));var A;(function(Z){Z.Never="never",Z.Less="less",Z.Equal="equal",Z.LessEqual="less-equal",Z.Greater="greater",Z.NotEqual="not-equal",Z.GreaterEqual="greater-equal",Z.Always="always"})(A=L.CompareFunction||(L.CompareFunction={}));var S;(function(Z){Z.None="none",Z.Front="front",Z.Back="back"})(S=L.CullMode||(L.CullMode={}));var M;(function(Z){Z.Nearest="nearest",Z.Linear="linear"})(M=L.FilterMode||(L.FilterMode={}));var b;(function(Z){Z.CCW="ccw",Z.CW="cw"})(b=L.FrontFace||(L.FrontFace={}));var g;(function(Z){Z.Uint16="uint16",Z.Uint32="uint32"})(g=L.IndexFormat||(L.IndexFormat={}));var E;(function(Z){Z.Vertex="vertex",Z.Instance="instance"})(E=L.InputStepMode||(L.InputStepMode={}));var D;(function(Z){Z.Load="load"})(D=L.LoadOp||(L.LoadOp={}));var p;(function(Z){Z.PointList="point-list",Z.LineList="line-list",Z.LineStrip="line-strip",Z.TriangleList="triangle-list",Z.TriangleStrip="triangle-strip"})(p=L.PrimitiveTopology||(L.PrimitiveTopology={}));var N;(function(Z){Z.Keep="keep",Z.Zero="zero",Z.Replace="replace",Z.Invert="invert",Z.IncrementClamp="increment-clamp",Z.DecrementClamp="decrement-clamp",Z.IncrementWrap="increment-wrap",Z.DecrementWrap="decrement-wrap"})(N=L.StencilOperation||(L.StencilOperation={}));var I;(function(Z){Z.Store="store",Z.Clear="clear"})(I=L.StoreOp||(L.StoreOp={}));var G;(function(Z){Z.E1d="1d",Z.E2d="2d",Z.E3d="3d"})(G=L.TextureDimension||(L.TextureDimension={}));var W;(function(Z){Z.R8Unorm="r8unorm",Z.R8Snorm="r8snorm",Z.R8Uint="r8uint",Z.R8Sint="r8sint",Z.R16Uint="r16uint",Z.R16Sint="r16sint",Z.R16Float="r16float",Z.RG8Unorm="rg8unorm",Z.RG8Snorm="rg8snorm",Z.RG8Uint="rg8uint",Z.RG8Sint="rg8sint",Z.R32Uint="r32uint",Z.R32Sint="r32sint",Z.R32Float="r32float",Z.RG16Uint="rg16uint",Z.RG16Sint="rg16sint",Z.RG16Float="rg16float",Z.RGBA8Unorm="rgba8unorm",Z.RGBA8UnormSRGB="rgba8unorm-srgb",Z.RGBA8Snorm="rgba8snorm",Z.RGBA8Uint="rgba8uint",Z.RGBA8Sint="rgba8sint",Z.BGRA8Unorm="bgra8unorm",Z.BGRA8UnormSRGB="bgra8unorm-srgb",Z.RGB10A2Unorm="rgb10a2unorm",Z.RG11B10Float="rg11b10float",Z.RG32Uint="rg32uint",Z.RG32Sint="rg32sint",Z.RG32Float="rg32float",Z.RGBA16Uint="rgba16uint",Z.RGBA16Sint="rgba16sint",Z.RGBA16Float="rgba16float",Z.RGBA32Uint="rgba32uint",Z.RGBA32Sint="rgba32sint",Z.RGBA32Float="rgba32float",Z.Depth32Float="depth32float",Z.Depth24Plus="depth24plus",Z.Depth24PlusStencil8="depth24plus-stencil8"})(W=L.TextureFormat||(L.TextureFormat={}));var z;(function(Z){Z.Float="float",Z.Sint="sint",Z.Uint="uint"})(z=L.TextureComponentType||(L.TextureComponentType={}));var w;(function(Z){Z.E1d="1d",Z.E2d="2d",Z.E2dArray="2d-array",Z.Cube="cube",Z.CubeArray="cube-array",Z.E3d="3d"})(w=L.TextureViewDimension||(L.TextureViewDimension={}));var T;(function(Z){Z.Uchar2="uchar2",Z.Uchar4="uchar4",Z.Char2="char2",Z.Char4="char4",Z.Uchar2Norm="uchar2norm",Z.Uchar4Norm="uchar4norm",Z.Char2Norm="char2norm",Z.Char4Norm="char4norm",Z.Ushort2="ushort2",Z.Ushort4="ushort4",Z.Short2="short2",Z.Short4="short4",Z.Ushort2Norm="ushort2norm",Z.Ushort4Norm="ushort4norm",Z.Short2Norm="short2norm",Z.Short4Norm="short4norm",Z.Half2="half2",Z.Half4="half4",Z.Float="float",Z.Float2="float2",Z.Float3="float3",Z.Float4="float4",Z.Uint="uint",Z.Uint2="uint2",Z.Uint3="uint3",Z.Uint4="uint4",Z.Int="int",Z.Int2="int2",Z.Int3="int3",Z.Int4="int4"})(T=L.VertexFormat||(L.VertexFormat={}));var B;(function(Z){Z.All="all",Z.StencilOnly="stencil-only",Z.DepthOnly="depth-only"})(B=L.TextureAspect||(L.TextureAspect={}));var V;(function(Z){Z.Error="error",Z.Warning="warning",Z.Info="info"})(V=L.CompilationMessageType||(L.CompilationMessageType={}));var $;(function(Z){Z.Occlusion="occlusion"})($=L.QueryType||(L.QueryType={}));var nt;(function(Z){Z[Z.MapRead=1]="MapRead",Z[Z.MapWrite=2]="MapWrite",Z[Z.CopySrc=4]="CopySrc",Z[Z.CopyDst=8]="CopyDst",Z[Z.Index=16]="Index",Z[Z.Vertex=32]="Vertex",Z[Z.Uniform=64]="Uniform",Z[Z.Storage=128]="Storage",Z[Z.Indirect=256]="Indirect",Z[Z.QueryResolve=512]="QueryResolve"})(nt=L.BufferUsage||(L.BufferUsage={}));var at;(function(Z){Z[Z.Red=1]="Red",Z[Z.Green=2]="Green",Z[Z.Blue=4]="Blue",Z[Z.Alpha=8]="Alpha",Z[Z.All=15]="All"})(at=L.ColorWrite||(L.ColorWrite={}));var st;(function(Z){Z[Z.Vertex=1]="Vertex",Z[Z.Fragment=2]="Fragment",Z[Z.Compute=4]="Compute"})(st=L.ShaderStage||(L.ShaderStage={}));var tt;(function(Z){Z[Z.CopySrc=1]="CopySrc",Z[Z.CopyDst=2]="CopyDst",Z[Z.Sampled=4]="Sampled",Z[Z.Storage=8]="Storage",Z[Z.OutputAttachment=16]="OutputAttachment"})(tt=L.TextureUsage||(L.TextureUsage={}));var Q;(function(Z){Z[Z.Read=1]="Read",Z[Z.Write=2]="Write"})(Q=L.MapMode||(L.MapMode={}))},wvSg:function(Ut,L,a){var h=a("TIpG"),i=a("2Swa");function O(x){return i(x)&&h(x)}Ut.exports=O},"x+i1":function(Ut,L,a){var h=a("3sCP"),i=a("5MHJ"),O=a("VL8K"),x=a("+Gi7"),C=a("TIpG"),A=a("lDzS"),S=a("/g2i"),M=a("lOrw"),b="[object Map]",g="[object Set]",E=Object.prototype,D=E.hasOwnProperty;function p(N){if(N==null)return!0;if(C(N)&&(x(N)||typeof N=="string"||typeof N.splice=="function"||A(N)||M(N)||O(N)))return!N.length;var I=i(N);if(I==b||I==g)return!N.size;if(S(N))return!h(N).length;for(var G in N)if(D.call(N,G))return!1;return!0}Ut.exports=p},xO9G:function(Ut,L,a){"use strict";a.d(L,"a",function(){return A});var h=a("Rspp"),i=a.n(h),O=a("2Asv"),x=a.n(O),C=a("99LQ"),A=function(){function S(M,b){i()(this,S),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=M||0,this.normal=b||C.e.fromValues(0,1,0),this.updatePNVertexFlag()}return x()(S,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(b){return C.e.dot(b,this.normal)-this.distance}},{key:"normalize",value:function(){var b=1/C.e.len(this.normal);C.e.scale(this.normal,this.normal,b),this.distance*=b}},{key:"intersectsLine",value:function(b,g,E){var D=this.distanceToPoint(b),p=this.distanceToPoint(g),N=D/(D-p),I=N>=0&&N<=1;return I&&E&&C.e.lerp(E,b,g,N),I}}]),S}()},xXxO:function(Ut,L,a){"use strict";var h=a("riA0"),i=a("xvuM"),O=a.n(i),x=a("7Xsh"),C=a.n(x),A=a("8e3m");a.d(L,"Event",function(){return A.a});var S=a("OEJE");a.d(L,"Base",function(){return S.a});var M=a("mX1U"),b=a("tDsh"),g=a("vQYD"),E=a("UngR"),D=a("n9X1"),p=a("08EK"),N=a("RxlK"),I=a("k+AY"),G="0.5.6"},xdm5:function(Ut,L,a){"use strict";a.d(L,"e",function(){return O}),a.d(L,"f",function(){return x}),a.d(L,"d",function(){return C}),a.d(L,"a",function(){return S}),a.d(L,"b",function(){return M}),a.d(L,"c",function(){return b});var h=a("sxZn"),i=[1,0,0,0,1,0,0,0,1];function O(g,E,D){if(D===void 0&&(D=i),!E)return null;var p=h.a.transform(D,[["t",-g.x,-g.y],["r",E],["t",g.x,g.y]]);return p}function x(g,E){return!g.x&&!g.y?null:h.a.transform(E||i,[["t",g.x,g.y]])}function C(g){var E=[1,0,0],D=[0,0,0];return h.d.transformMat3(D,E,g),Math.atan2(D[1],D[0])}function A(g,E){var D=[0,0];return h.c.transformMat3(D,E,g),D}function S(g,E){var D=A(g,[E.minX,E.minY]),p=A(g,[E.maxX,E.minY]),N=A(g,[E.minX,E.maxY]),I=A(g,[E.maxX,E.maxY]),G=Math.min(D[0],p[0],N[0],I[0]),W=Math.max(D[0],p[0],N[0],I[0]),z=Math.min(D[1],p[1],N[1],I[1]),w=Math.max(D[1],p[1],N[1],I[1]);return{x:G,y:z,minX:G,minY:z,maxX:W,maxY:w,width:W-G,height:w-z}}function M(g,E,D,p){if(E){var N=O({x:D,y:p},E,g.getMatrix());g.setMatrix(N)}}function b(g,E,D){var p=x({x:E,y:D});g.attr("matrix",p)}},xg7u:function(Ut,L,a){var h=a("YrLe");function i(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),x&&h(O,x)}Ut.exports=i,Ut.exports.default=Ut.exports,Ut.exports.__esModule=!0},xpMs:function(Ut,L,a){"use strict";a.d(L,"b",function(){return O}),a.d(L,"a",function(){return x}),a.d(L,"c",function(){return C});var h=a("jg4I"),i=a("RF2d");function O(A,S){var M=null;return Object(h.j)(A,function(b){typeof b[S]=="number"&&(M+=b[S])}),M}function x(A,S){var M;switch(A){case"inner":return M="-30%",Object(h.O)(S)&&S.endsWith("%")?parseFloat(S)*.01>0?M:S:S<0?S:M;case"outer":return M=12,Object(h.O)(S)&&S.endsWith("%")?parseFloat(S)*.01<0?M:S:S>0?S:M;default:return S}}function C(A,S){return Object(h.k)(Object(i.q)(A,S),function(M){return M[S]===0})}},xvuM:function(Ut,L){},y1zf:function(Ut,L,a){"use strict";a.r(L),a.d(L,"Html",function(){return G});var h=a("J+IK"),i=a("viQC"),O=a("m8xh"),x=a("jg4I"),C=a("oDuu"),A=a("L+OQ"),S=a("nA9L"),M=a("KwOt"),b,g=(b={},b[""+S.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:M.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},b[""+S.TITLE_CLASS]={marginBottom:"4px"},b[""+S.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},b[""+S.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},b[""+S.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},b[""+S.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},b[""+S.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b[""+S.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b);function E(W,z,w,T,B){var V={left:W<B.x,right:W+w>B.x+B.width,top:z<B.y,bottom:z+T>B.y+B.height};return V}function D(W,z,w,T,B,V){var $=W,nt=z;switch(V){case"left":$=W-T-w,nt=z-B/2;break;case"right":$=W+w,nt=z-B/2;break;case"top":$=W-T/2,nt=z-B-w;break;case"bottom":$=W-T/2,nt=z+w;break;default:$=W+w,nt=z-B-w;break}return{x:$,y:nt}}function p(W,z,w,T,B,V,$){var nt=D(W,z,w,T,B,V);if($){var at=E(nt.x,nt.y,T,B,$);V==="auto"?(at.right&&(nt.x=Math.max(0,W-T-w)),at.top&&(nt.y=Math.max(0,z-B-w))):V==="top"||V==="bottom"?(at.left&&(nt.x=$.x),at.right&&(nt.x=$.x+$.width-T),V==="top"&&at.top&&(nt.y=z+w),V==="bottom"&&at.bottom&&(nt.y=z-B-w)):(at.top&&(nt.y=$.y),at.bottom&&(nt.y=$.y+$.height-B),V==="left"&&at.left&&(nt.x=W+w),V==="right"&&at.right&&(nt.x=W-T-w))}return nt}function N(W,z){var w=!1;return Object(x.j)(z,function(T){if(Object(x.x)(W,T))return w=!0,!1}),w}var I=function(W){Object(h.c)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.getDefaultCfg=function(){var w=W.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},w),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+S.CONTAINER_CLASS+'"><div class="'+S.TITLE_CLASS+'"></div><ul class="'+S.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+S.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+S.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+S.NAME_CLASS+`">{name}</span>:
          <span class="`+S.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+S.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+S.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:S.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:g})},z.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},z.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},z.prototype.show=function(){var w=this.getContainer();!w||this.destroyed||(this.set("visible",!0),Object(O.e)(w,{visibility:"visible"}),this.setCrossHairsVisible(!0))},z.prototype.hide=function(){var w=this.getContainer();!w||this.destroyed||(this.set("visible",!1),Object(O.e)(w,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},z.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},z.prototype.setLocation=function(w){this.set("x",w.x),this.set("y",w.y),this.resetPosition()},z.prototype.setCrossHairsVisible=function(w){var T=w?"":"none",B=this.get("xCrosshairDom"),V=this.get("yCrosshairDom");B&&Object(O.e)(B,{display:T}),V&&Object(O.e)(V,{display:T})},z.prototype.initContainer=function(){if(W.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var w=this.getHtmlContentNode();this.get("parent").appendChild(w),this.set("container",w),this.resetStyles(),this.applyStyles()}},z.prototype.updateInner=function(w){this.get("customContent")?this.renderCustomContent():(N(w,["title","showTitle"])&&this.resetTitle(),Object(x.x)(w,"items")&&this.renderItems()),W.prototype.updateInner.call(this,w)},z.prototype.initDom=function(){this.cacheDoms()},z.prototype.removeDom=function(){W.prototype.removeDom.call(this),this.clearCrosshairs()},z.prototype.resetPosition=function(){var w=this.get("x"),T=this.get("y"),B=this.get("offset"),V=this.getOffset(),$=V.offsetX,nt=V.offsetY,at=this.get("position"),st=this.get("region"),tt=this.getContainer(),Q=this.getBBox(),Z=Q.width,et=Q.height,ct;st&&(ct=Object(A.k)(st));var mt=p(w,T,B,Z,et,at,ct);Object(O.e)(tt,{left:Object(A.l)(mt.x+$),top:Object(A.l)(mt.y+nt)}),this.resetCrosshairs()},z.prototype.renderCustomContent=function(){var w=this.getHtmlContentNode(),T=this.get("parent"),B=this.get("container");B&&B.parentNode===T?T.replaceChild(w,B):T.appendChild(w),this.set("container",w),this.resetStyles(),this.applyStyles()},z.prototype.getHtmlContentNode=function(){var w,T=this.get("customContent");if(T){var B=T(this.get("title"),this.get("items"));Object(x.E)(B)?w=B:w=Object(O.b)(B)}return w},z.prototype.cacheDoms=function(){var w=this.getContainer(),T=w.getElementsByClassName(S.TITLE_CLASS)[0],B=w.getElementsByClassName(S.LIST_CLASS)[0];this.set("titleDom",T),this.set("listDom",B)},z.prototype.resetTitle=function(){var w=this.get("title"),T=this.get("showTitle");T&&w?this.setTitle(w):this.setTitle("")},z.prototype.setTitle=function(w){var T=this.get("titleDom");T&&(T.innerText=w)},z.prototype.resetCrosshairs=function(){var w=this.get("crosshairsRegion"),T=this.get("crosshairs");if(!w||!T)this.clearCrosshairs();else{var B=Object(A.k)(w),V=this.get("xCrosshairDom"),$=this.get("yCrosshairDom");T==="x"?(this.resetCrosshair("x",B),$&&($.remove(),this.set("yCrosshairDom",null))):T==="y"?(this.resetCrosshair("y",B),V&&(V.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",B),this.resetCrosshair("y",B)),this.setCrossHairsVisible(this.get("visible"))}},z.prototype.resetCrosshair=function(w,T){var B=this.checkCrosshair(w),V=this.get(w);w==="x"?Object(O.e)(B,{left:Object(A.l)(V),top:Object(A.l)(T.y),height:Object(A.l)(T.height)}):Object(O.e)(B,{top:Object(A.l)(V),left:Object(A.l)(T.x),width:Object(A.l)(T.width)})},z.prototype.checkCrosshair=function(w){var T=w+"CrosshairDom",B=w+"CrosshairTpl",V="CROSSHAIR_"+w.toUpperCase(),$=S[V],nt=this.get(T),at=this.get("parent");return nt||(nt=Object(O.b)(this.get(B)),this.applyStyle($,nt),at.appendChild(nt),this.set(T,nt)),nt},z.prototype.renderItems=function(){this.clearItemDoms();var w=this.get("items"),T=this.get("itemTpl"),B=this.get("listDom");B&&(Object(x.j)(w,function(V){var $=i.a.toCSSGradient(V.color),nt=Object(h.a)(Object(h.a)({},V),{color:$}),at=Object(x.mb)(T,nt),st=Object(O.b)(at);B.appendChild(st)}),this.applyChildrenStyles(B,this.get("domStyles")))},z.prototype.clearItemDoms=function(){this.get("listDom")&&Object(A.a)(this.get("listDom"))},z.prototype.clearCrosshairs=function(){var w=this.get("xCrosshairDom"),T=this.get("yCrosshairDom");w&&w.remove(),T&&T.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},z}(C.a),G=I},"yK/m":function(Ut,L,a){"use strict";var h=function(j,q,gt){j.prototype=q.prototype=gt,gt.constructor=j};function i(j,q){var gt=Object.create(j.prototype);for(var _ in q)gt[_]=q[_];return gt}function O(){}var x=.7,C=1/x,A="\\s*([+-]?\\d+)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b=/^#([0-9a-f]{3,8})$/,g=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),E=new RegExp("^rgb\\("+[M,M,M]+"\\)$"),D=new RegExp("^rgba\\("+[A,A,A,S]+"\\)$"),p=new RegExp("^rgba\\("+[M,M,M,S]+"\\)$"),N=new RegExp("^hsl\\("+[S,M,M]+"\\)$"),I=new RegExp("^hsla\\("+[S,M,M,S]+"\\)$"),G={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};h(O,T,{copy:function(q){return Object.assign(new this.constructor,this,q)},displayable:function(){return this.rgb().displayable()},hex:W,formatHex:W,formatHsl:z,formatRgb:w,toString:w});function W(){return this.rgb().formatHex()}function z(){return et(this).formatHsl()}function w(){return this.rgb().formatRgb()}function T(j){var q,gt;return j=(j+"").trim().toLowerCase(),(q=b.exec(j))?(gt=q[1].length,q=parseInt(q[1],16),gt===6?B(q):gt===3?new at(q>>8&15|q>>4&240,q>>4&15|q&240,(q&15)<<4|q&15,1):gt===8?V(q>>24&255,q>>16&255,q>>8&255,(q&255)/255):gt===4?V(q>>12&15|q>>8&240,q>>8&15|q>>4&240,q>>4&15|q&240,((q&15)<<4|q&15)/255):null):(q=g.exec(j))?new at(q[1],q[2],q[3],1):(q=E.exec(j))?new at(q[1]*255/100,q[2]*255/100,q[3]*255/100,1):(q=D.exec(j))?V(q[1],q[2],q[3],q[4]):(q=p.exec(j))?V(q[1]*255/100,q[2]*255/100,q[3]*255/100,q[4]):(q=N.exec(j))?Z(q[1],q[2]/100,q[3]/100,1):(q=I.exec(j))?Z(q[1],q[2]/100,q[3]/100,q[4]):G.hasOwnProperty(j)?B(G[j]):j==="transparent"?new at(NaN,NaN,NaN,0):null}function B(j){return new at(j>>16&255,j>>8&255,j&255,1)}function V(j,q,gt,_){return _<=0&&(j=q=gt=NaN),new at(j,q,gt,_)}function $(j){return j instanceof O||(j=T(j)),j?(j=j.rgb(),new at(j.r,j.g,j.b,j.opacity)):new at}function nt(j,q,gt,_){return arguments.length===1?$(j):new at(j,q,gt,_==null?1:_)}function at(j,q,gt,_){this.r=+j,this.g=+q,this.b=+gt,this.opacity=+_}h(at,nt,i(O,{brighter:function(q){return q=q==null?C:Math.pow(C,q),new at(this.r*q,this.g*q,this.b*q,this.opacity)},darker:function(q){return q=q==null?x:Math.pow(x,q),new at(this.r*q,this.g*q,this.b*q,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:st,formatHex:st,formatRgb:tt,toString:tt}));function st(){return"#"+Q(this.r)+Q(this.g)+Q(this.b)}function tt(){var j=this.opacity;return j=isNaN(j)?1:Math.max(0,Math.min(1,j)),(j===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(j===1?")":", "+j+")")}function Q(j){return j=Math.max(0,Math.min(255,Math.round(j)||0)),(j<16?"0":"")+j.toString(16)}function Z(j,q,gt,_){return _<=0?j=q=gt=NaN:gt<=0||gt>=1?j=q=NaN:q<=0&&(j=NaN),new mt(j,q,gt,_)}function et(j){if(j instanceof mt)return new mt(j.h,j.s,j.l,j.opacity);if(j instanceof O||(j=T(j)),!j)return new mt;if(j instanceof mt)return j;j=j.rgb();var q=j.r/255,gt=j.g/255,_=j.b/255,yt=Math.min(q,gt,_),wt=Math.max(q,gt,_),St=NaN,Dt=wt-yt,Vt=(wt+yt)/2;return Dt?(q===wt?St=(gt-_)/Dt+(gt<_)*6:gt===wt?St=(_-q)/Dt+2:St=(q-gt)/Dt+4,Dt/=Vt<.5?wt+yt:2-wt-yt,St*=60):Dt=Vt>0&&Vt<1?0:St,new mt(St,Dt,Vt,j.opacity)}function ct(j,q,gt,_){return arguments.length===1?et(j):new mt(j,q,gt,_==null?1:_)}function mt(j,q,gt,_){this.h=+j,this.s=+q,this.l=+gt,this.opacity=+_}h(mt,ct,i(O,{brighter:function(q){return q=q==null?C:Math.pow(C,q),new mt(this.h,this.s,this.l*q,this.opacity)},darker:function(q){return q=q==null?x:Math.pow(x,q),new mt(this.h,this.s,this.l*q,this.opacity)},rgb:function(){var q=this.h%360+(this.h<0)*360,gt=isNaN(q)||isNaN(this.s)?0:this.s,_=this.l,yt=_+(_<.5?_:1-_)*gt,wt=2*_-yt;return new at(Ot(q>=240?q-240:q+120,wt,yt),Ot(q,wt,yt),Ot(q<120?q+240:q-120,wt,yt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var q=this.opacity;return q=isNaN(q)?1:Math.max(0,Math.min(1,q)),(q===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(q===1?")":", "+q+")")}}));function Ot(j,q,gt){return(j<60?q+(gt-q)*j/60:j<180?gt:j<240?q+(gt-q)*(240-j)/60:q)*255}function it(j,q,gt,_,yt){var wt=j*j,St=wt*j;return((1-3*j+3*wt-St)*q+(4-6*wt+3*St)*gt+(1+3*j+3*wt-3*St)*_+St*yt)/6}var xt=function(j){var q=j.length-1;return function(gt){var _=gt<=0?gt=0:gt>=1?(gt=1,q-1):Math.floor(gt*q),yt=j[_],wt=j[_+1],St=_>0?j[_-1]:2*yt-wt,Dt=_<q-1?j[_+2]:2*wt-yt;return it((gt-_/q)*q,St,yt,wt,Dt)}},It=function(j){var q=j.length;return function(gt){var _=Math.floor(((gt%=1)<0?++gt:gt)*q),yt=j[(_+q-1)%q],wt=j[_%q],St=j[(_+1)%q],Dt=j[(_+2)%q];return it((gt-_/q)*q,yt,wt,St,Dt)}},zt=function(j){return function(){return j}};function Kt(j,q){return function(gt){return j+gt*q}}function Yt(j,q,gt){return j=Math.pow(j,gt),q=Math.pow(q,gt)-j,gt=1/gt,function(_){return Math.pow(j+_*q,gt)}}function bt(j,q){var gt=q-j;return gt?Kt(j,gt>180||gt<-180?gt-360*Math.round(gt/360):gt):zt(isNaN(j)?q:j)}function ft(j){return(j=+j)==1?dt:function(q,gt){return gt-q?Yt(q,gt,j):zt(isNaN(q)?gt:q)}}function dt(j,q){var gt=q-j;return gt?Kt(j,gt):zt(isNaN(j)?q:j)}var ot=function j(q){var gt=ft(q);function _(yt,wt){var St=gt((yt=nt(yt)).r,(wt=nt(wt)).r),Dt=gt(yt.g,wt.g),Vt=gt(yt.b,wt.b),Qt=dt(yt.opacity,wt.opacity);return function(ee){return yt.r=St(ee),yt.g=Dt(ee),yt.b=Vt(ee),yt.opacity=Qt(ee),yt+""}}return _.gamma=j,_}(1);function Mt(j){return function(q){var gt=q.length,_=new Array(gt),yt=new Array(gt),wt=new Array(gt),St,Dt;for(St=0;St<gt;++St)Dt=nt(q[St]),_[St]=Dt.r||0,yt[St]=Dt.g||0,wt[St]=Dt.b||0;return _=j(_),yt=j(yt),wt=j(wt),Dt.opacity=1,function(Vt){return Dt.r=_(Vt),Dt.g=yt(Vt),Dt.b=wt(Vt),Dt+""}}}var Nt=Mt(xt),Pt=Mt(It),J=a("qh6B"),X=function(j,q){var gt=new Date;return j=+j,q=+q,function(_){return gt.setTime(j*(1-_)+q*_),gt}},vt=function(j,q){return j=+j,q=+q,function(gt){return j*(1-gt)+q*gt}},lt=function(j,q){var gt={},_={},yt;(j===null||typeof j!="object")&&(j={}),(q===null||typeof q!="object")&&(q={});for(yt in q)yt in j?gt[yt]=U(j[yt],q[yt]):_[yt]=q[yt];return function(wt){for(yt in gt)_[yt]=gt[yt](wt);return _}},Ct=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ft=new RegExp(Ct.source,"g");function Wt(j){return function(){return j}}function kt(j){return function(q){return j(q)+""}}var jt=function(j,q){var gt=Ct.lastIndex=Ft.lastIndex=0,_,yt,wt,St=-1,Dt=[],Vt=[];for(j=j+"",q=q+"";(_=Ct.exec(j))&&(yt=Ft.exec(q));)(wt=yt.index)>gt&&(wt=q.slice(gt,wt),Dt[St]?Dt[St]+=wt:Dt[++St]=wt),(_=_[0])===(yt=yt[0])?Dt[St]?Dt[St]+=yt:Dt[++St]=yt:(Dt[++St]=null,Vt.push({i:St,x:vt(_,yt)})),gt=Ft.lastIndex;return gt<q.length&&(wt=q.slice(gt),Dt[St]?Dt[St]+=wt:Dt[++St]=wt),Dt.length<2?Vt[0]?kt(Vt[0].x):Wt(q):(q=Vt.length,function(Qt){for(var ee=0,se;ee<q;++ee)Dt[(se=Vt[ee]).i]=se.x(Qt);return Dt.join("")})},Y=a("H6vk"),U=L.a=function(j,q){var gt=typeof q,_;return q==null||gt==="boolean"?zt(q):(gt==="number"?vt:gt==="string"?(_=T(q))?(q=_,ot):jt:q instanceof T?ot:q instanceof Date?X:Object(Y.b)(q)?Y.a:Array.isArray(q)?J.b:typeof q.valueOf!="function"&&typeof q.toString!="function"||isNaN(q)?lt:vt)(j,q)}},yWrq:function(Ut,L,a){var h=a("XSdR"),i=a("hppO");Ut.exports=O;function O(A,S){var M=i.partition(A,function(G){return h.has(G,"barycenter")}),b=M.lhs,g=h.sortBy(M.rhs,function(G){return-G.i}),E=[],D=0,p=0,N=0;b.sort(C(!!S)),N=x(E,g,N),h.forEach(b,function(G){N+=G.vs.length,E.push(G.vs),D+=G.barycenter*G.weight,p+=G.weight,N=x(E,g,N)});var I={vs:h.flatten(E,!0)};return p&&(I.barycenter=D/p,I.weight=p),I}function x(A,S,M){for(var b;S.length&&(b=h.last(S)).i<=M;)S.pop(),A.push(b.vs),M++;return M}function C(A){return function(S,M){return S.barycenter<M.barycenter?-1:S.barycenter>M.barycenter?1:A?M.i-S.i:S.i-M.i}}},yjpz:function(Ut,L,a){"use strict";a.d(L,"a",function(){return S});var h=a("J+IK"),i=a("m8xh"),O=a("jg4I"),x=a("jFyH"),C={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},A={default:C,hover:{thumbColor:"rgba(0,0,0,0.2)"}},S=function(M){Object(h.c)(b,M);function b(){var g=M!==null&&M.apply(this,arguments)||this;return g.clearEvents=O.db,g.onStartEvent=function(E){return function(D){g.isMobile=E,D.originalEvent.preventDefault();var p=E?Object(O.s)(D.originalEvent,"touches.0.clientX"):D.clientX,N=E?Object(O.s)(D.originalEvent,"touches.0.clientY"):D.clientY;g.startPos=g.cfg.isHorizontal?p:N,g.bindLaterEvent()}},g.bindLaterEvent=function(){var E=g.getContainerDOM(),D=[];g.isMobile?D=[Object(i.a)(E,"touchmove",g.onMouseMove),Object(i.a)(E,"touchend",g.onMouseUp),Object(i.a)(E,"touchcancel",g.onMouseUp)]:D=[Object(i.a)(E,"mousemove",g.onMouseMove),Object(i.a)(E,"mouseup",g.onMouseUp),Object(i.a)(E,"mouseleave",g.onMouseUp)],g.clearEvents=function(){D.forEach(function(p){p.remove()})}},g.onMouseMove=function(E){var D=g.cfg,p=D.isHorizontal,N=D.thumbOffset;E.preventDefault();var I=g.isMobile?Object(O.s)(E,"touches.0.clientX"):E.clientX,G=g.isMobile?Object(O.s)(E,"touches.0.clientY"):E.clientY,W=p?I:G,z=W-g.startPos;g.startPos=W,g.updateThumbOffset(N+z)},g.onMouseUp=function(E){E.preventDefault(),g.clearEvents()},g.onTrackClick=function(E){var D=g.cfg,p=D.isHorizontal,N=D.x,I=D.y,G=D.thumbLen,W=g.getContainerDOM(),z=W.getBoundingClientRect(),w=E.clientX,T=E.clientY,B=p?w-z.left-N-G/2:T-z.top-I-G/2,V=g.validateRange(B);g.updateThumbOffset(V)},g.onThumbMouseOver=function(){var E=g.cfg.theme.hover.thumbColor;g.getElementByLocalId("thumb").attr("stroke",E),g.draw()},g.onThumbMouseOut=function(){var E=g.cfg.theme.default.thumbColor;g.getElementByLocalId("thumb").attr("stroke",E),g.draw()},g}return b.prototype.setRange=function(g,E){this.set("minLimit",g),this.set("maxLimit",E);var D=this.getValue(),p=Object(O.c)(D,g,E);D!==p&&!this.get("isInit")&&this.setValue(p)},b.prototype.getRange=function(){var g=this.get("minLimit")||0,E=this.get("maxLimit")||1;return{min:g,max:E}},b.prototype.setValue=function(g){var E=this.getRange(),D=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(O.c)(g,E.min,E.max)}),this.delegateEmit("valuechange",{originalValue:D,value:this.getValue()})},b.prototype.getValue=function(){return Object(O.c)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},b.prototype.getDefaultCfg=function(){var g=M.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},g),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:A})},b.prototype.renderInner=function(g){this.renderTrackShape(g),this.renderThumbShape(g)},b.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},b.prototype.initEvent=function(){this.bindEvents()},b.prototype.renderTrackShape=function(g){var E=this.cfg,D=E.trackLen,p=E.theme,N=p===void 0?{default:{}}:p,I=Object(O.h)({},A,N).default,G=I.lineCap,W=I.trackColor,z=I.size,w=Object(O.s)(this.cfg,"size",z),T=this.get("isHorizontal")?{x1:0+w/2,y1:w/2,x2:D-w/2,y2:w/2,lineWidth:w,stroke:W,lineCap:G}:{x1:w/2,y1:0+w/2,x2:w/2,y2:D-w/2,lineWidth:w,stroke:W,lineCap:G};return this.addShape(g,{id:this.getElementId("track"),name:"track",type:"line",attrs:T})},b.prototype.renderThumbShape=function(g){var E=this.cfg,D=E.thumbOffset,p=E.thumbLen,N=E.theme,I=Object(O.h)({},A,N).default,G=I.size,W=I.lineCap,z=I.thumbColor,w=Object(O.s)(this.cfg,"size",G),T=this.get("isHorizontal")?{x1:D+w/2,y1:w/2,x2:D+p-w/2,y2:w/2,lineWidth:w,stroke:z,lineCap:W,cursor:"default"}:{x1:w/2,y1:D+w/2,x2:w/2,y2:D+p-w/2,lineWidth:w,stroke:z,lineCap:W,cursor:"default"};return this.addShape(g,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:T})},b.prototype.bindEvents=function(){var g=this.get("group");g.on("mousedown",this.onStartEvent(!1)),g.on("mouseup",this.onMouseUp),g.on("touchstart",this.onStartEvent(!0)),g.on("touchend",this.onMouseUp);var E=g.findById(this.getElementId("track"));E.on("click",this.onTrackClick);var D=g.findById(this.getElementId("thumb"));D.on("mouseover",this.onThumbMouseOver),D.on("mouseout",this.onThumbMouseOut)},b.prototype.getContainerDOM=function(){var g=this.get("container"),E=g&&g.get("canvas");return E&&E.get("container")},b.prototype.validateRange=function(g){var E=this.cfg,D=E.thumbLen,p=E.trackLen,N=g;return g+D>p?N=p-D:g+D<D&&(N=0),N},b.prototype.draw=function(){var g=this.get("container"),E=g&&g.get("canvas");E&&E.draw()},b.prototype.updateThumbOffset=function(g){var E=this.cfg,D=E.thumbOffset,p=E.isHorizontal,N=E.thumbLen,I=E.size,G=this.validateRange(g);if(G!==D){var W=this.getElementByLocalId("thumb");p?W.attr({x1:G+I/2,x2:G+N-I/2}):W.attr({y1:G+I/2,y2:G+N-I/2}),this.emitOffsetChange(G)}},b.prototype.emitOffsetChange=function(g){var E=this.cfg,D=E.thumbOffset,p=E.trackLen,N=E.thumbLen;this.cfg.thumbOffset=g,this.emit("scrollchange",{thumbOffset:g,ratio:Object(O.c)(g/(p-N),0,1)}),this.delegateEmit("valuechange",{originalValue:D,value:g})},b}(x.a)},ylrI:function(Ut,L){Ut.exports=a;function a(h,i){i=i||1;var O=Math.random()*2*Math.PI;return h[0]=Math.cos(O)*i,h[1]=Math.sin(O)*i,h}},ynmA:function(Ut,L,a){"use strict";a.d(L,"a",function(){return M});var h=a("RF2d"),i=a("ggto"),O=a("OM6K"),x=a("CALi");a.d(L,"b",function(){return x.b});var C=a("N5bZ"),A=a("HEgp");function S(b){var g=b.chart,E=b.options,D=E.data,p=E.color,N=E.lineStyle,I=E.point,G=I==null?void 0:I.state,W=Object(C.a)(D);g.data(W);var z=Object(h.b)({},b,{options:{xField:A.c,yField:A.d,line:{color:p,style:N},point:I}}),w=Object(h.b)({},z,{options:{tooltip:!1,state:G}});return Object(O.d)(z),Object(O.e)(w),g.axis(!1),g.legend(!1),b}function M(b){return Object(h.e)(S,x.b,i.j,i.k,i.a,Object(i.b)())(b)}},ytXd:function(Ut,L,a){var h=a("VrSm"),i=a("LKUO"),O={};for(var x in h)h.hasOwnProperty(x)&&(O[h[x]]=x);var C=Ut.exports={to:{},get:{}};C.get=function(M){var b=M.substring(0,3).toLowerCase(),g,E;switch(b){case"hsl":g=C.get.hsl(M),E="hsl";break;case"hwb":g=C.get.hwb(M),E="hwb";break;default:g=C.get.rgb(M),E="rgb";break}return g?{model:E,value:g}:null},C.get.rgb=function(M){if(!M)return null;var b=/^#([a-f0-9]{3,4})$/i,g=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,E=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,D=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,p=/(\D+)/,N=[0,0,0,1],I,G,W;if(I=M.match(g)){for(W=I[2],I=I[1],G=0;G<3;G++){var z=G*2;N[G]=parseInt(I.slice(z,z+2),16)}W&&(N[3]=parseInt(W,16)/255)}else if(I=M.match(b)){for(I=I[1],W=I[3],G=0;G<3;G++)N[G]=parseInt(I[G]+I[G],16);W&&(N[3]=parseInt(W+W,16)/255)}else if(I=M.match(E)){for(G=0;G<3;G++)N[G]=parseInt(I[G+1],0);I[4]&&(N[3]=parseFloat(I[4]))}else if(I=M.match(D)){for(G=0;G<3;G++)N[G]=Math.round(parseFloat(I[G+1])*2.55);I[4]&&(N[3]=parseFloat(I[4]))}else return(I=M.match(p))?I[1]==="transparent"?[0,0,0,0]:(N=h[I[1]],N?(N[3]=1,N):null):null;for(G=0;G<3;G++)N[G]=A(N[G],0,255);return N[3]=A(N[3],0,1),N},C.get.hsl=function(M){if(!M)return null;var b=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,g=M.match(b);if(g){var E=parseFloat(g[4]),D=(parseFloat(g[1])+360)%360,p=A(parseFloat(g[2]),0,100),N=A(parseFloat(g[3]),0,100),I=A(isNaN(E)?1:E,0,1);return[D,p,N,I]}return null},C.get.hwb=function(M){if(!M)return null;var b=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,g=M.match(b);if(g){var E=parseFloat(g[4]),D=(parseFloat(g[1])%360+360)%360,p=A(parseFloat(g[2]),0,100),N=A(parseFloat(g[3]),0,100),I=A(isNaN(E)?1:E,0,1);return[D,p,N,I]}return null},C.to.hex=function(){var M=i(arguments);return"#"+S(M[0])+S(M[1])+S(M[2])+(M[3]<1?S(Math.round(M[3]*255)):"")},C.to.rgb=function(){var M=i(arguments);return M.length<4||M[3]===1?"rgb("+Math.round(M[0])+", "+Math.round(M[1])+", "+Math.round(M[2])+")":"rgba("+Math.round(M[0])+", "+Math.round(M[1])+", "+Math.round(M[2])+", "+M[3]+")"},C.to.rgb.percent=function(){var M=i(arguments),b=Math.round(M[0]/255*100),g=Math.round(M[1]/255*100),E=Math.round(M[2]/255*100);return M.length<4||M[3]===1?"rgb("+b+"%, "+g+"%, "+E+"%)":"rgba("+b+"%, "+g+"%, "+E+"%, "+M[3]+")"},C.to.hsl=function(){var M=i(arguments);return M.length<4||M[3]===1?"hsl("+M[0]+", "+M[1]+"%, "+M[2]+"%)":"hsla("+M[0]+", "+M[1]+"%, "+M[2]+"%, "+M[3]+")"},C.to.hwb=function(){var M=i(arguments),b="";return M.length>=4&&M[3]!==1&&(b=", "+M[3]),"hwb("+M[0]+", "+M[1]+"%, "+M[2]+"%"+b+")"},C.to.keyword=function(M){return O[M.slice(0,3)]};function A(M,b,g){return Math.min(Math.max(b,M),g)}function S(M){var b=M.toString(16).toUpperCase();return b.length<2?"0"+b:b}},z8FW:function(Ut,L,a){var h=a("xi+f"),i=a("xXdm"),O=a("hQ5t"),x=a("4hrr"),C=a("6FVg"),A=a("hQlM"),S=a("3qqr"),M=a("WeNx"),b=a("+Gi7");function g(E,D,p){D.length?D=h(D,function(G){return b(G)?function(W){return i(W,G.length===1?G[0]:G)}:G}):D=[M];var N=-1;D=h(D,A(O));var I=x(E,function(G,W,z){var w=h(D,function(T){return T(G)});return{criteria:w,index:++N,value:G}});return C(I,function(G,W){return S(G,W,p)})}Ut.exports=g},zEOA:function(Ut,L,a){Ut.exports=a("ebDh")},zGZQ:function(Ut,L,a){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.isStackOverflowExeption=void 0;var h=a("JIc3");function i(O){return O instanceof RangeError||O.message===h.STACK_OVERFLOW}L.isStackOverflowExeption=i},zJ04:function(Ut,L){Ut.exports=a;function a(h,i){return h[0]=Math.ceil(i[0]),h[1]=Math.ceil(i[1]),h}},zPMQ:function(Ut,L,a){var h=a("Hz7B"),i=h("length");Ut.exports=i},ztEw:function(Ut,L){},ztQy:function(Ut,L,a){"use strict";var h=this&&this.__awaiter||function(G,W,z,w){function T(B){return B instanceof z?B:new z(function(V){V(B)})}return new(z||(z=Promise))(function(B,V){function $(st){try{at(w.next(st))}catch(tt){V(tt)}}function nt(st){try{at(w.throw(st))}catch(tt){V(tt)}}function at(st){st.done?B(st.value):T(st.value).then($,nt)}at((w=w.apply(G,W||[])).next())})},i=this&&this.__generator||function(G,W){var z={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},w,T,B,V;return V={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function $(at){return function(st){return nt([at,st])}}function nt(at){if(w)throw new TypeError("Generator is already executing.");for(;z;)try{if(w=1,T&&(B=at[0]&2?T.return:at[0]?T.throw||((B=T.return)&&B.call(T),0):T.next)&&!(B=B.call(T,at[1])).done)return B;switch(T=0,B&&(at=[at[0]&2,B.value]),at[0]){case 0:case 1:B=at;break;case 4:return z.label++,{value:at[1],done:!1};case 5:z.label++,T=at[1],at=[0];continue;case 7:at=z.ops.pop(),z.trys.pop();continue;default:if(B=z.trys,!(B=B.length>0&&B[B.length-1])&&(at[0]===6||at[0]===2)){z=0;continue}if(at[0]===3&&(!B||at[1]>B[0]&&at[1]<B[3])){z.label=at[1];break}if(at[0]===6&&z.label<B[1]){z.label=B[1],B=at;break}if(B&&z.label<B[2]){z.label=B[2],z.ops.push(at);break}B[2]&&z.ops.pop(),z.trys.pop();continue}at=W.call(G,z)}catch(st){at=[6,st],T=0}finally{w=B=0}if(at[0]&5)throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}};Object.defineProperty(L,"__esModule",{value:!0}),L.Container=void 0;var O=a("FP4t"),x=a("JIc3"),C=a("TKZu"),A=a("4b80"),S=a("27WW"),M=a("69Sz"),b=a("78jE"),g=a("rRjm"),E=a("/LIz"),D=a("qagQ"),p=a("vCEu"),N=a("pHoc"),I=function(){function G(W){var z=W||{};if(typeof z!="object")throw new Error(""+x.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(z.defaultScope===void 0)z.defaultScope=C.BindingScopeEnum.Transient;else if(z.defaultScope!==C.BindingScopeEnum.Singleton&&z.defaultScope!==C.BindingScopeEnum.Transient&&z.defaultScope!==C.BindingScopeEnum.Request)throw new Error(""+x.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(z.autoBindInjectable===void 0)z.autoBindInjectable=!1;else if(typeof z.autoBindInjectable!="boolean")throw new Error(""+x.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(z.skipBaseClassChecks===void 0)z.skipBaseClassChecks=!1;else if(typeof z.skipBaseClassChecks!="boolean")throw new Error(""+x.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:z.autoBindInjectable,defaultScope:z.defaultScope,skipBaseClassChecks:z.skipBaseClassChecks},this.id=E.id(),this._bindingDictionary=new N.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new S.MetadataReader}return G.merge=function(W,z){var w=new G,T=M.getBindingDictionary(w),B=M.getBindingDictionary(W),V=M.getBindingDictionary(z);function $(nt,at){nt.traverse(function(st,tt){tt.forEach(function(Q){at.add(Q.serviceIdentifier,Q.clone())})})}return $(B,T),$(V,T),w},G.prototype.load=function(){for(var W=[],z=0;z<arguments.length;z++)W[z]=arguments[z];for(var w=this._getContainerModuleHelpersFactory(),T=0,B=W;T<B.length;T++){var V=B[T],$=w(V.id);V.registry($.bindFunction,$.unbindFunction,$.isboundFunction,$.rebindFunction)}},G.prototype.loadAsync=function(){for(var W=[],z=0;z<arguments.length;z++)W[z]=arguments[z];return h(this,void 0,void 0,function(){var w,T,B,V,$;return i(this,function(nt){switch(nt.label){case 0:w=this._getContainerModuleHelpersFactory(),T=0,B=W,nt.label=1;case 1:return T<B.length?(V=B[T],$=w(V.id),[4,V.registry($.bindFunction,$.unbindFunction,$.isboundFunction,$.rebindFunction)]):[3,4];case 2:nt.sent(),nt.label=3;case 3:return T++,[3,1];case 4:return[2]}})})},G.prototype.unload=function(){for(var W=this,z=[],w=0;w<arguments.length;w++)z[w]=arguments[w];var T=function(V){return function($){return $.moduleId===V}};z.forEach(function(B){var V=T(B.id);W._bindingDictionary.removeByCondition(V)})},G.prototype.bind=function(W){var z=this.options.defaultScope||C.BindingScopeEnum.Transient,w=new O.Binding(W,z);return this._bindingDictionary.add(W,w),new g.BindingToSyntax(w)},G.prototype.rebind=function(W){return this.unbind(W),this.bind(W)},G.prototype.unbind=function(W){try{this._bindingDictionary.remove(W)}catch(z){throw new Error(x.CANNOT_UNBIND+" "+D.getServiceIdentifierAsString(W))}},G.prototype.unbindAll=function(){this._bindingDictionary=new N.Lookup},G.prototype.isBound=function(W){var z=this._bindingDictionary.hasKey(W);return!z&&this.parent&&(z=this.parent.isBound(W)),z},G.prototype.isBoundNamed=function(W,z){return this.isBoundTagged(W,A.NAMED_TAG,z)},G.prototype.isBoundTagged=function(W,z,w){var T=!1;if(this._bindingDictionary.hasKey(W)){var B=this._bindingDictionary.get(W),V=M.createMockRequest(this,W,z,w);T=B.some(function($){return $.constraint(V)})}return!T&&this.parent&&(T=this.parent.isBoundTagged(W,z,w)),T},G.prototype.snapshot=function(){this._snapshots.push(p.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},G.prototype.restore=function(){var W=this._snapshots.pop();if(W===void 0)throw new Error(x.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=W.bindings,this._middleware=W.middleware},G.prototype.createChild=function(W){var z=new G(W||this.options);return z.parent=this,z},G.prototype.applyMiddleware=function(){for(var W=[],z=0;z<arguments.length;z++)W[z]=arguments[z];var w=this._middleware?this._middleware:this._planAndResolve();this._middleware=W.reduce(function(T,B){return B(T)},w)},G.prototype.applyCustomMetadataReader=function(W){this._metadataReader=W},G.prototype.get=function(W){return this._get(!1,!1,C.TargetTypeEnum.Variable,W)},G.prototype.getTagged=function(W,z,w){return this._get(!1,!1,C.TargetTypeEnum.Variable,W,z,w)},G.prototype.getNamed=function(W,z){return this.getTagged(W,A.NAMED_TAG,z)},G.prototype.getAll=function(W){return this._get(!0,!0,C.TargetTypeEnum.Variable,W)},G.prototype.getAllTagged=function(W,z,w){return this._get(!1,!0,C.TargetTypeEnum.Variable,W,z,w)},G.prototype.getAllNamed=function(W,z){return this.getAllTagged(W,A.NAMED_TAG,z)},G.prototype.resolve=function(W){var z=this.createChild();return z.bind(W).toSelf(),z.get(W)},G.prototype._getContainerModuleHelpersFactory=function(){var W=this,z=function(nt,at){nt._binding.moduleId=at},w=function(nt){return function(at){var st=W.bind.bind(W),tt=st(at);return z(tt,nt),tt}},T=function(nt){return function(at){var st=W.unbind.bind(W);st(at)}},B=function(nt){return function(at){var st=W.isBound.bind(W);return st(at)}},V=function(nt){return function(at){var st=W.rebind.bind(W),tt=st(at);return z(tt,nt),tt}};return function($){return{bindFunction:w($),isboundFunction:B($),rebindFunction:V($),unbindFunction:T($)}}},G.prototype._get=function(W,z,w,T,B,V){var $=null,nt={avoidConstraints:W,contextInterceptor:function(st){return st},isMultiInject:z,key:B,serviceIdentifier:T,targetType:w,value:V};if(this._middleware){if($=this._middleware(nt),$==null)throw new Error(x.INVALID_MIDDLEWARE_RETURN)}else $=this._planAndResolve()(nt);return $},G.prototype._planAndResolve=function(){var W=this;return function(z){var w=M.plan(W._metadataReader,W,z.isMultiInject,z.targetType,z.serviceIdentifier,z.key,z.value,z.avoidConstraints);w=z.contextInterceptor(w);var T=b.resolve(w);return T}},G}();L.Container=I},zui5:function(Ut,L,a){"use strict";var h;(function(i){i.Normal="normal",i.PostProcessing="post-processing"})(h||(h={}))},zv5D:function(Ut,L){}}]);
