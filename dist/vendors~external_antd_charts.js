(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+/lo":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=o(a("g3RE"));function o(C){return C&&C.__esModule?C:{default:C}}var x=function(P,b){for(var S=(0,f.default)(P,b),y=[],E=S.length,m=0;m<E;m+=1){y[m]=[];for(var T=0;T<E;T+=1)m===T?y[m][T]=0:S[m][T]===0||!S[m][T]?y[m][T]=Infinity:y[m][T]=S[m][T]}for(var L=0;L<E;L+=1)for(var m=0;m<E;m+=1)for(var T=0;T<E;T+=1)y[m][T]>y[m][L]+y[L][T]&&(y[m][T]=y[m][L]+y[L][T]);return y},O=x;A.default=O},"+2Ae":function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=o[0]+x[0],f[1]=o[1]+x[1],f}},"+6Kx":function(jt,A,a){"use strict";a.d(A,"b",function(){return b}),a.d(A,"a",function(){return y});var f=a("jg4I"),o=a("nHjW"),x=a("N2cT"),O=a("8DqP"),C=a("bC9S"),P=a("F4DG");function b(E){var m=E.chart,T=E.options,L=T.percent,g=T.progressStyle,j=T.color,U=T.barWidthRatio;m.data(Object(P.a)(L));var W=Object(o.c)({},E,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:U,interval:{style:g,color:Object(f.isString)(j)?[j,C.a[1]]:j},args:{zIndexReversed:!0}}});return Object(O.c)(W),m.tooltip(!1),m.axis(!1),m.legend(!1),E}function S(E){var m=E.chart;return m.coordinate("rect").transpose(),E}function y(E){return Object(o.f)(b,Object(x.f)({}),S,x.a,x.j,Object(x.b)())(E)}},"+D6J":function(jt,A){function a(f){return f!==f}jt.exports=a},"+FNX":function(jt,A,a){var f=a("XSdR"),o=a("43gi").Graph;jt.exports=x;function x(C,P,b){var S=O(C),y=new o({compound:!0}).setGraph({root:S}).setDefaultNodeLabel(function(E){return C.node(E)});return f.forEach(C.nodes(),function(E){var m=C.node(E),T=C.parent(E);(m.rank===P||m.minRank<=P&&P<=m.maxRank)&&(y.setNode(E),y.setParent(E,T||S),f.forEach(C[b](E),function(L){var g=L.v===E?L.w:L.v,j=y.edge(g,E),U=f.isUndefined(j)?0:j.weight;y.setEdge(g,E,{weight:C.edge(L).weight+U})}),f.has(m,"minRank")&&y.setNode(E,{borderLeft:m.borderLeft[P],borderRight:m.borderRight[P]}))}),y}function O(C){for(var P;C.hasNode(P=f.uniqueId("_root")););return P}},"+On4":function(jt,A,a){"use strict";var f=a("CMID"),o=a("m8xh"),x=a("jg4I"),O=a("8Loy"),C=a("iXVM"),P=function(b){Object(f.__extends)(S,b);function S(){return b!==null&&b.apply(this,arguments)||this}return S.prototype.getDefaultCfg=function(){var y=b.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},y),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},S.prototype.getContainer=function(){return this.get("container")},S.prototype.show=function(){var y=this.get("container");y.style.display="",this.set("visible",!0)},S.prototype.hide=function(){var y=this.get("container");y.style.display="none",this.set("visible",!1)},S.prototype.setCapture=function(y){var E=this.getContainer(),m=y?"auto":"none";E.style.pointerEvents=m,this.set("capture",y)},S.prototype.getBBox=function(){var y=this.getContainer(),E=parseFloat(y.style.left)||0,m=parseFloat(y.style.top)||0;return Object(O.b)(E,m,y.clientWidth,y.clientHeight)},S.prototype.clear=function(){var y=this.get("container");Object(O.a)(y)},S.prototype.destroy=function(){this.removeEvent(),this.removeDom(),b.prototype.destroy.call(this)},S.prototype.init=function(){b.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},S.prototype.initCapture=function(){this.setCapture(this.get("capture"))},S.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},S.prototype.initDom=function(){},S.prototype.initContainer=function(){var y=this.get("container");if(Object(x.isNil)(y)){y=this.createDom();var E=this.get("parent");Object(x.isString)(E)&&(E=document.getElementById(E),this.set("parent",E)),E.appendChild(y),this.set("container",y)}else Object(x.isString)(y)&&(y=document.getElementById(y),this.set("container",y));this.get("parent")||this.set("parent",y.parentNode)},S.prototype.resetStyles=function(){var y=this.get("domStyles"),E=this.get("defaultStyles");y?y=Object(x.deepMix)({},E,y):y=E,this.set("domStyles",y)},S.prototype.applyStyles=function(){var y=this.get("domStyles");if(!!y){var E=this.getContainer();this.applyChildrenStyles(E,y);var m=this.get("containerClassName");if(m&&Object(O.h)(E,m)){var T=y[m];Object(o.e)(E,T)}}},S.prototype.applyChildrenStyles=function(y,E){Object(x.each)(E,function(m,T){var L=y.getElementsByClassName(T);Object(x.each)(L,function(g){Object(o.e)(g,m)})})},S.prototype.applyStyle=function(y,E){var m=this.get("domStyles");Object(o.e)(E,m[y])},S.prototype.createDom=function(){var y=this.get("containerTpl");return Object(o.b)(y)},S.prototype.initEvent=function(){},S.prototype.removeDom=function(){var y=this.get("container");y&&y.parentNode&&y.parentNode.removeChild(y)},S.prototype.removeEvent=function(){},S.prototype.updateInner=function(y){Object(x.hasKey)(y,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},S.prototype.resetPosition=function(){},S}(C.a);A.a=P},"+WlW":function(jt,A,a){jt.exports={graphlib:a("43gi"),layout:a("GbYH"),debug:a("PoGV"),util:{time:a("hppO").time,notime:a("hppO").notime},version:a("tebh")}},"+jGG":function(jt,A,a){"use strict";a.d(A,"a",function(){return Vt});var f=a("BLox"),o=a("YcyD"),x=a("UHDP"),O=a.n(x),C=a("Hg9g"),P=a("RHEd"),b=a.n(P),S=a("16OP"),y=a.n(S),E=a("7Nom"),m=a.n(E),T=a("4OuL"),L=a.n(T),g=a("r1m7"),j=a("XN3X"),U=a("ZVT1"),W,z,N,I,B,G,k=(W=Object(o.injectable)(),z=Object(o.inject)(j.a.RenderEngine),W(N=(I=(G=function(){function Lt(){y()(this,Lt),b()(this,"engine",B,this),this.resourcePool={}}return m()(Lt,[{key:"getOrCreateResource",value:function(at){if(!this.resourcePool[at.name]){var It=at.descriptor,Ft=It.width,xt=It.height,Nt=It.usage;this.resourcePool[at.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:Ft,height:xt,wrapS:U.a.CLAMP_TO_EDGE,wrapT:U.a.CLAMP_TO_EDGE,usage:Nt})})}return this.resourcePool[at.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),Lt}(),G),B=L()(I.prototype,"engine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I))||N),V=a("BgQB"),tt=a("P7eI"),Q=a("J/Yx"),K=a("PkPV"),_=a("0os6"),Y=a("//O1"),q=a("7stk"),ot=a("AKnH"),ft=a("RtY/"),ct=a("aStn"),rt=a("K4bE"),gt=a("to4S"),Et=a("CURf"),Gt=a("oOaK"),Yt=a.n(Gt),Xt=a("vpv6"),vt=a.n(Xt),mt=a("G5xY"),ut=a.n(mt);function st(Lt){var Ct=lt();return function(){var It=ut()(Lt),Ft;if(Ct){var xt=ut()(this).constructor;Ft=Reflect.construct(It,arguments,xt)}else Ft=It.apply(this,arguments);return vt()(this,Ft)}}function lt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Lt){return!1}}var Tt=function(Lt){Yt()(at,Lt);var Ct=st(at);function at(It){var Ft;return y()(this,at),Ft=Ct.call(this,It),Ft.name=void 0,Ft.name=It.name||"",Ft}return at}(C.a),Ot=a("Vd04"),et=a("+q6o"),H=a("fo7X"),pt=a("8Vus"),nt=a("bmBd"),yt=new o.Container,Pt=O()(yt,!1),Rt=function(Ct){var at=Pt.lazyInject(Ct);return function(It,Ft,xt){at.call(this,It,Ft),xt&&(xt.initializer=function(){return It[Ft]})}},Wt=function(Ct){var at=Pt.lazyMultiInject(Ct);return function(It,Ft,xt){at.call(this,It,Ft),xt&&(xt.initializer=function(){return It[Ft]})}};yt.bind(j.a.ShaderModuleService).to(nt.a).inSingletonScope(),yt.bind(j.a.NameComponentManager).toConstantValue(new C.b(Tt)),yt.bind(j.a.HierarchyComponentManager).toConstantValue(new C.b(Et.a)),yt.bind(j.a.TransformComponentManager).toConstantValue(new C.b(et.a)),yt.bind(j.a.MeshComponentManager).toConstantValue(new C.b(q.a)),yt.bind(j.a.CullableComponentManager).toConstantValue(new C.b(Y.a)),yt.bind(j.a.GeometryComponentManager).toConstantValue(new C.b(tt.a)),yt.bind(j.a.MaterialComponentManager).toConstantValue(new C.b(K.a));function Vt(){var Lt=new o.Container;return Lt.parent=yt,Lt.bind(j.a.Systems).to(Ot.a).inSingletonScope().whenTargetNamed(j.a.SceneGraphSystem),Lt.bind(j.a.Systems).to(V.a).inSingletonScope().whenTargetNamed(j.a.FrameGraphSystem),Lt.bind(j.a.Systems).to(ot.a).inSingletonScope().whenTargetNamed(j.a.MeshSystem),Lt.bind(j.a.Systems).to(Q.a).inSingletonScope().whenTargetNamed(j.a.GeometrySystem),Lt.bind(j.a.Systems).to(_.a).inSingletonScope().whenTargetNamed(j.a.MaterialSystem),Lt.bind(j.a.Systems).to(gt.a).inSingletonScope().whenTargetNamed(j.a.RendererSystem),Lt.bind(j.a.ResourcePool).to(k).inSingletonScope(),Lt.bind(j.a.ConfigService).to(H.a).inSingletonScope(),Lt.bind(j.a.InteractorService).to(pt.a).inSingletonScope(),Lt.bind(j.a.RenderPass).to(rt.a).inSingletonScope().whenTargetNamed(rt.a.IDENTIFIER),Lt.bind(j.a.RenderPass).to(ft.a).inSingletonScope().whenTargetNamed(ft.a.IDENTIFIER),Lt.bind(j.a.RenderPass).to(ct.a).inSingletonScope().whenTargetNamed(ct.a.IDENTIFIER),Lt.bind(j.a.RenderPassFactory).toFactory(function(Ct){return function(at){return Ct.container.getNamed(j.a.RenderPass,at)}}),Lt}},"+o0w":function(jt,A,a){var f=a("2PUN"),o=a("z8FW"),x=a("dhvM"),O=a("TdPr"),C=x(function(P,b){if(P==null)return[];var S=b.length;return S>1&&O(P,b[0],b[1])?b=[]:S>2&&O(b[0],b[1],b[2])&&(b=[b[0]]),o(P,f(b,1),[])});jt.exports=C},"+oza":function(jt,A){},"+q6o":function(jt,A,a){"use strict";a.d(A,"a",function(){return W});var f=a("16OP"),o=a.n(f),x=a("7Nom"),O=a.n(x),C=a("cW+D"),P=a.n(C),b=a("oOaK"),S=a.n(b),y=a("vpv6"),E=a.n(y),m=a("G5xY"),T=a.n(m),L=a("99LQ"),g=a("Hg9g");function j(z){var N=U();return function(){var B=T()(z),G;if(N){var k=T()(this).constructor;G=Reflect.construct(B,arguments,k)}else G=B.apply(this,arguments);return E()(this,G)}}function U(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(z){return!1}}var W=function(z){S()(I,z);var N=j(I);function I(B){var G;return o()(this,I),G=N.call(this,B),G.dirtyFlag=void 0,G.localDirtyFlag=void 0,G.parent=null,G.localPosition=L.e.fromValues(0,0,0),G.localRotation=L.c.fromValues(0,0,0,1),G.localScale=L.e.fromValues(1,1,1),G.localTransform=L.b.create(),G.position=L.e.fromValues(0,0,0),G.rotation=L.c.fromValues(0,0,0,1),G.scaling=L.e.fromValues(1,1,1),G.worldTransform=L.b.create(),G.matrixTransform=function(){var k=L.b.create();return function(V){L.b.multiply(k,G.getLocalTransform(),V),L.b.getScaling(G.localScale,k),L.b.getTranslation(G.localPosition,k),L.b.getRotation(G.localRotation,k)}}(),G.rotateRollPitchYaw=function(){var k=L.c.create(),V=L.c.create(),tt=L.c.create();return function(Q,K,_){G.setDirty(),L.c.fromEuler(k,Q,0,0),L.c.fromEuler(V,0,K,0),L.c.fromEuler(tt,0,0,_),L.c.multiply(G.localRotation,k,G.localRotation),L.c.multiply(G.localRotation,G.localRotation,V),L.c.multiply(G.localRotation,tt,G.localRotation),L.c.normalize(G.localRotation,G.localRotation)}}(),G.lerp=function(){var k=L.e.create(),V=L.c.create(),tt=L.e.create(),Q=L.e.create(),K=L.c.create(),_=L.e.create();return function(Y,q,ot){G.setDirty(),L.b.getScaling(k,Y.worldTransform),L.b.getTranslation(tt,Y.worldTransform),L.b.getRotation(V,Y.worldTransform),L.b.getScaling(Q,q.worldTransform),L.b.getTranslation(_,q.worldTransform),L.b.getRotation(K,q.worldTransform),L.e.lerp(G.localScale,k,Q,ot),L.c.slerp(G.localRotation,V,K,ot),L.e.lerp(G.localPosition,tt,_,ot)}}(),G.translate=function(){var k=L.e.create();return function(V){return L.e.add(k,G.getPosition(),V),G.setPosition(k),G.setDirty(!0),P()(G)}}(),G.translateLocal=function(){return function(k){return L.e.transformQuat(k,k,G.localRotation),L.e.add(G.localPosition,G.localPosition,k),G.setLocalDirty(!0),P()(G)}}(),G.setPosition=function(){var k=L.b.create();return function(V){return G.position=V,G.setLocalDirty(!0),G.parent===null?L.e.copy(G.localPosition,V):(L.b.copy(k,G.parent.worldTransform),L.b.invert(k,k),L.e.transformMat4(G.localPosition,V,k)),P()(G)}}(),G.rotate=function(){var k=L.c.create();return function(V){if(G.parent===null)L.c.multiply(G.localRotation,G.localRotation,V),L.c.normalize(G.localRotation,G.localRotation);else{var tt=G.getRotation(),Q=G.parent.getRotation();L.c.copy(k,Q),L.c.invert(k,k),L.c.multiply(k,k,V),L.c.multiply(G.localRotation,V,tt),L.c.normalize(G.localRotation,G.localRotation)}return G.setLocalDirty(),P()(G)}}(),G.rotateLocal=function(){return function(k){return L.c.multiply(G.localRotation,G.localRotation,k),L.c.normalize(G.localRotation,G.localRotation),G.setLocalDirty(!0),P()(G)}}(),G.setRotation=function(){var k=L.c.create();return function(V){return G.parent===null?L.c.copy(G.localRotation,V):(L.c.copy(k,G.parent.getRotation()),L.c.invert(k,k),L.c.copy(G.localRotation,k),L.c.mul(G.localRotation,G.localRotation,V)),G.setLocalDirty(!0),P()(G)}}(),G}return O()(I,[{key:"setLocalPosition",value:function(G){L.e.copy(this.localPosition,G),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(G){L.e.copy(this.localScale,G),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(G){return L.c.copy(this.localRotation,G),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;G?this.dirtyFlag|=I.DIRTY:this.dirtyFlag&=~I.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;G?(this.localDirtyFlag|=I.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~I.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(L.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(G){L.b.multiply(this.worldTransform,G.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),L.b.getScaling(this.localScale,this.worldTransform),L.b.getTranslation(this.localPosition,this.worldTransform),L.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=L.e.fromValues(0,0,0),this.localRotation=L.c.fromValues(0,0,0,1),this.localScale=L.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(G){return this.setLocalDirty(),L.e.multiply(this.localScale,this.localScale,G),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(L.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return L.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return L.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return L.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),I}(g.a);W.DIRTY=1<<0},"//O1":function(jt,A,a){"use strict";a.d(A,"a",function(){return j});var f=a("16OP"),o=a.n(f),x=a("cW+D"),O=a.n(x),C=a("oOaK"),P=a.n(C),b=a("vpv6"),S=a.n(b),y=a("G5xY"),E=a.n(y),m=a("Hg9g");function T(U){var W=L();return function(){var N=E()(U),I;if(W){var B=E()(this).constructor;I=Reflect.construct(N,arguments,B)}else I=N.apply(this,arguments);return S()(this,I)}}function L(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(U){return!1}}var g;(function(U){U[U.Standard=0]="Standard"})(g||(g={}));var j=function(U){P()(z,U);var W=T(z);function z(N){var I;return o()(this,z),I=W.call(this,N),I.strategy=g.Standard,I.visibilityPlaneMask=0,I.visible=!1,Object.assign(O()(I),N),I}return z}(m.a)},"/DyB":function(jt,A,a){var f=a("dhvM"),o=a("TdPr");function x(O){return f(function(C,P){var b=-1,S=P.length,y=S>1?P[S-1]:void 0,E=S>2?P[2]:void 0;for(y=O.length>3&&typeof y=="function"?(S--,y):void 0,E&&o(P[0],P[1],E)&&(y=S<3?void 0:y,S=1),C=Object(C);++b<S;){var m=P[b];m&&O(C,m,b,y)}return C})}jt.exports=x},"/FTH":function(jt,A,a){"use strict";a.d(A,"a",function(){return Y});var f=a("CMID"),o=a("tqeG"),x=a("N2cT"),O=a("nHjW"),C=a("8DqP"),P=a("jg4I"),b={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(ot){return ot.id},source:function(ot){return ot.source},target:function(ot){return ot.target},sourceWeight:function(ot){return ot.value||1},targetWeight:function(ot){return ot.value||1},sortBy:null};function S(q,ot,ft){Object(P.forIn)(q,function(ct,rt){ct.inEdges=ot.filter(function(gt){return""+ft.target(gt)==""+rt}),ct.outEdges=ot.filter(function(gt){return""+ft.source(gt)==""+rt}),ct.edges=ct.outEdges.concat(ct.inEdges),ct.frequency=ct.edges.length,ct.value=0,ct.inEdges.forEach(function(gt){ct.value+=ft.targetWeight(gt)}),ct.outEdges.forEach(function(gt){ct.value+=ft.sourceWeight(gt)})})}function y(q,ot){var ft={weight:function(gt,Et){return Et.value-gt.value},frequency:function(gt,Et){return Et.frequency-gt.frequency},id:function(gt,Et){return(""+ot.id(gt)).localeCompare(""+ot.id(Et))}},ct=ft[ot.sortBy];!ct&&Object(P.isFunction)(ot.sortBy)&&(ct=ot.sortBy),ct&&q.sort(ct)}function E(q,ot){var ft=q.length;if(!ft)throw new TypeError("Invalid nodes: it's empty!");if(ot.weight){var ct=ot.nodePaddingRatio;if(ct<0||ct>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var rt=ct/(2*ft),gt=ot.nodeWidthRatio;if(gt<=0||gt>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var Et=0;q.forEach(function(Yt){Et+=Yt.value}),q.forEach(function(Yt){Yt.weight=Yt.value/Et,Yt.width=Yt.weight*(1-ct),Yt.height=gt}),q.forEach(function(Yt,Xt){for(var vt=0,mt=Xt-1;mt>=0;mt--)vt+=q[mt].width+2*rt;var ut=Yt.minX=rt+vt,st=Yt.maxX=Yt.minX+Yt.width,lt=Yt.minY=ot.y-gt/2,Tt=Yt.maxY=lt+gt;Yt.x=[ut,st,st,ut],Yt.y=[lt,lt,Tt,Tt]})}else{var Gt=1/ft;q.forEach(function(Yt,Xt){Yt.x=(Xt+.5)*Gt,Yt.y=ot.y})}return q}function m(q,ot,ft){if(ft.weight){var ct={};Object(P.forIn)(q,function(rt,gt){ct[gt]=rt.value}),ot.forEach(function(rt){var gt=ft.source(rt),Et=ft.target(rt),Gt=q[gt],Yt=q[Et];if(Gt&&Yt){var Xt=ct[gt],vt=ft.sourceWeight(rt),mt=Gt.minX+(Gt.value-Xt)/Gt.value*Gt.width,ut=mt+vt/Gt.value*Gt.width;ct[gt]-=vt;var st=ct[Et],lt=ft.targetWeight(rt),Tt=Yt.minX+(Yt.value-st)/Yt.value*Yt.width,Ot=Tt+lt/Yt.value*Yt.width;ct[Et]-=lt;var et=ft.y;rt.x=[mt,ut,Tt,Ot],rt.y=[et,et,et,et],rt.source=Gt,rt.target=Yt}})}else ot.forEach(function(rt){var gt=q[ft.source(rt)],Et=q[ft.target(rt)];gt&&Et&&(rt.x=[gt.x,Et.x],rt.y=[gt.y,Et.y],rt.source=gt,rt.target=Et)});return ot}function T(q){return Object(P.assign)({},b,q)}function L(q,ot){var ft=T(q),ct={},rt=ot.nodes,gt=ot.links;rt.forEach(function(Yt){var Xt=ft.id(Yt);ct[Xt]=Yt}),S(ct,gt,ft),y(rt,ft);var Et=E(rt,ft),Gt=m(ct,gt,ft);return{nodes:Et,links:Gt}}var g=a("BpQQ"),j="x",U="y",W="name",z="source",N={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(ot,ft){var ct=(ot[0]+ot[1])/2,rt=ct>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:rt,content:ft}}},tooltip:{fields:["source","target","value"],formatter:function(ot){var ft=ot.source,ct=ot.target,rt=ot.value;return{name:ft+" -> "+ct,value:rt}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function I(q){var ot=q.options,ft=ot.data,ct=ot.sourceField,rt=ot.targetField,gt=ot.weightField,Et=ot.nodePaddingRatio,Gt=ot.nodeWidthRatio,Yt=Object(g.c)(ft,ct,rt,gt),Xt=L({weight:!0,nodePaddingRatio:Et,nodeWidthRatio:Gt},Yt),vt=Xt.nodes,mt=Xt.links,ut=vt.map(function(lt){return{id:lt.id,x:lt.x,y:lt.y,name:lt.name}}),st=mt.map(function(lt){return{source:lt.source.name,target:lt.target.name,x:lt.x,y:lt.y,value:lt.value}});return Object(f.__assign)(Object(f.__assign)({},q),{ext:Object(f.__assign)(Object(f.__assign)({},q.ext),{chordData:{nodesData:ut,edgesData:st}})})}function B(q){var ot,ft=q.chart;return ft.scale((ot={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},ot[W]={sync:"color"},ot[z]={sync:"color"},ot)),q}function G(q){var ot=q.chart;return ot.axis(!1),q}function k(q){var ot=q.chart;return ot.legend(!1),q}function V(q){var ot=q.chart;return ot.tooltip({showTitle:!1,showMarkers:!1}),q}function tt(q){var ot=q.chart;return ot.coordinate("polar").reflect("y"),q}function Q(q){var ot=q.chart,ft=q.options,ct=q.ext.chordData.nodesData,rt=ft.nodeStyle,gt=ft.label,Et=ot.createView();return Et.data(ct),Object(C.f)({chart:Et,options:{xField:j,yField:U,seriesField:W,polygon:{style:rt},label:gt,tooltip:!1}}),q}function K(q){var ot=q.chart,ft=q.options,ct=q.ext.chordData.edgesData,rt=ft.edgeStyle,gt=ft.tooltip,Et=ot.createView();Et.data(ct);var Gt={xField:j,yField:U,seriesField:z,edge:{style:rt,shape:"arc"},tooltip:gt};return Object(C.b)({chart:Et,options:Gt}),q}function _(q){return Object(O.f)(x.j,I,tt,B,G,k,V,K,Q,x.c,x.i,x.a)(q)}var Y=function(q){Object(f.__extends)(ot,q);function ot(){var ft=q!==null&&q.apply(this,arguments)||this;return ft.type="chord",ft}return ot.getDefaultOptions=function(){return N},ot.prototype.getDefaultOptions=function(){return ot.getDefaultOptions()},ot.prototype.getSchemaAdaptor=function(){return _},ot}(o.b)},"/WN3":function(jt,A,a){"use strict";a.d(A,"b",function(){return o}),a.d(A,"a",function(){return x});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var f=function(Q,K){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,Y){_.__proto__=Y}||function(_,Y){for(var q in Y)Y.hasOwnProperty(q)&&(_[q]=Y[q])},f(Q,K)};function o(tt,Q){f(tt,Q);function K(){this.constructor=tt}tt.prototype=Q===null?Object.create(Q):(K.prototype=Q.prototype,new K)}var x=function(){return x=Object.assign||function(K){for(var _,Y=1,q=arguments.length;Y<q;Y++){_=arguments[Y];for(var ot in _)Object.prototype.hasOwnProperty.call(_,ot)&&(K[ot]=_[ot])}return K},x.apply(this,arguments)};function O(tt,Q){var K={};for(var _ in tt)Object.prototype.hasOwnProperty.call(tt,_)&&Q.indexOf(_)<0&&(K[_]=tt[_]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,_=Object.getOwnPropertySymbols(tt);Y<_.length;Y++)Q.indexOf(_[Y])<0&&Object.prototype.propertyIsEnumerable.call(tt,_[Y])&&(K[_[Y]]=tt[_[Y]]);return K}function C(tt,Q,K,_){var Y=arguments.length,q=Y<3?Q:_===null?_=Object.getOwnPropertyDescriptor(Q,K):_,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(tt,Q,K,_);else for(var ft=tt.length-1;ft>=0;ft--)(ot=tt[ft])&&(q=(Y<3?ot(q):Y>3?ot(Q,K,q):ot(Q,K))||q);return Y>3&&q&&Object.defineProperty(Q,K,q),q}function P(tt,Q){return function(K,_){Q(K,_,tt)}}function b(tt,Q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tt,Q)}function S(tt,Q,K,_){function Y(q){return q instanceof K?q:new K(function(ot){ot(q)})}return new(K||(K=Promise))(function(q,ot){function ft(gt){try{rt(_.next(gt))}catch(Et){ot(Et)}}function ct(gt){try{rt(_.throw(gt))}catch(Et){ot(Et)}}function rt(gt){gt.done?q(gt.value):Y(gt.value).then(ft,ct)}rt((_=_.apply(tt,Q||[])).next())})}function y(tt,Q){var K={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},_,Y,q,ot;return ot={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function ft(rt){return function(gt){return ct([rt,gt])}}function ct(rt){if(_)throw new TypeError("Generator is already executing.");for(;K;)try{if(_=1,Y&&(q=rt[0]&2?Y.return:rt[0]?Y.throw||((q=Y.return)&&q.call(Y),0):Y.next)&&!(q=q.call(Y,rt[1])).done)return q;switch(Y=0,q&&(rt=[rt[0]&2,q.value]),rt[0]){case 0:case 1:q=rt;break;case 4:return K.label++,{value:rt[1],done:!1};case 5:K.label++,Y=rt[1],rt=[0];continue;case 7:rt=K.ops.pop(),K.trys.pop();continue;default:if(q=K.trys,!(q=q.length>0&&q[q.length-1])&&(rt[0]===6||rt[0]===2)){K=0;continue}if(rt[0]===3&&(!q||rt[1]>q[0]&&rt[1]<q[3])){K.label=rt[1];break}if(rt[0]===6&&K.label<q[1]){K.label=q[1],q=rt;break}if(q&&K.label<q[2]){K.label=q[2],K.ops.push(rt);break}q[2]&&K.ops.pop(),K.trys.pop();continue}rt=Q.call(tt,K)}catch(gt){rt=[6,gt],Y=0}finally{_=q=0}if(rt[0]&5)throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}}function E(tt,Q,K,_){_===void 0&&(_=K),tt[_]=Q[K]}function m(tt,Q){for(var K in tt)K!=="default"&&!Q.hasOwnProperty(K)&&(Q[K]=tt[K])}function T(tt){var Q=typeof Symbol=="function"&&Symbol.iterator,K=Q&&tt[Q],_=0;if(K)return K.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&_>=tt.length&&(tt=void 0),{value:tt&&tt[_++],done:!tt}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(tt,Q){var K=typeof Symbol=="function"&&tt[Symbol.iterator];if(!K)return tt;var _=K.call(tt),Y,q=[],ot;try{for(;(Q===void 0||Q-- >0)&&!(Y=_.next()).done;)q.push(Y.value)}catch(ft){ot={error:ft}}finally{try{Y&&!Y.done&&(K=_.return)&&K.call(_)}finally{if(ot)throw ot.error}}return q}function g(){for(var tt=[],Q=0;Q<arguments.length;Q++)tt=tt.concat(L(arguments[Q]));return tt}function j(){for(var tt=0,Q=0,K=arguments.length;Q<K;Q++)tt+=arguments[Q].length;for(var _=Array(tt),Y=0,Q=0;Q<K;Q++)for(var q=arguments[Q],ot=0,ft=q.length;ot<ft;ot++,Y++)_[Y]=q[ot];return _}function U(tt){return this instanceof U?(this.v=tt,this):new U(tt)}function W(tt,Q,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=K.apply(tt,Q||[]),Y,q=[];return Y={},ot("next"),ot("throw"),ot("return"),Y[Symbol.asyncIterator]=function(){return this},Y;function ot(Gt){_[Gt]&&(Y[Gt]=function(Yt){return new Promise(function(Xt,vt){q.push([Gt,Yt,Xt,vt])>1||ft(Gt,Yt)})})}function ft(Gt,Yt){try{ct(_[Gt](Yt))}catch(Xt){Et(q[0][3],Xt)}}function ct(Gt){Gt.value instanceof U?Promise.resolve(Gt.value.v).then(rt,gt):Et(q[0][2],Gt)}function rt(Gt){ft("next",Gt)}function gt(Gt){ft("throw",Gt)}function Et(Gt,Yt){Gt(Yt),q.shift(),q.length&&ft(q[0][0],q[0][1])}}function z(tt){var Q,K;return Q={},_("next"),_("throw",function(Y){throw Y}),_("return"),Q[Symbol.iterator]=function(){return this},Q;function _(Y,q){Q[Y]=tt[Y]?function(ot){return(K=!K)?{value:U(tt[Y](ot)),done:Y==="return"}:q?q(ot):ot}:q}}function N(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=tt[Symbol.asyncIterator],K;return Q?Q.call(tt):(tt=typeof T=="function"?T(tt):tt[Symbol.iterator](),K={},_("next"),_("throw"),_("return"),K[Symbol.asyncIterator]=function(){return this},K);function _(q){K[q]=tt[q]&&function(ot){return new Promise(function(ft,ct){ot=tt[q](ot),Y(ft,ct,ot.done,ot.value)})}}function Y(q,ot,ft,ct){Promise.resolve(ct).then(function(rt){q({value:rt,done:ft})},ot)}}function I(tt,Q){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:Q}):tt.raw=Q,tt}function B(tt){if(tt&&tt.__esModule)return tt;var Q={};if(tt!=null)for(var K in tt)Object.hasOwnProperty.call(tt,K)&&(Q[K]=tt[K]);return Q.default=tt,Q}function G(tt){return tt&&tt.__esModule?tt:{default:tt}}function k(tt,Q){if(!Q.has(tt))throw new TypeError("attempted to get private field on non-instance");return Q.get(tt)}function V(tt,Q,K){if(!Q.has(tt))throw new TypeError("attempted to set private field on non-instance");return Q.set(tt,K),K}},"/XgH":function(jt,A,a){jt.exports=a("EpgB")},"/Ykl":function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=o[0]/x[0],f[1]=o[1]/x[1],f}},"/dUy":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MetadataReader=void 0;var f=a("9L8m"),o=function(){function x(){}return x.prototype.getConstructorMetadata=function(O){var C=Reflect.getMetadata(f.PARAM_TYPES,O),P=Reflect.getMetadata(f.TAGGED,O);return{compilerGeneratedMetadata:C,userGeneratedMetadata:P||{}}},x.prototype.getPropertiesMetadata=function(O){var C=Reflect.getMetadata(f.TAGGED_PROP,O)||[];return C},x}();A.MetadataReader=o},"/iG4":function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("JUmX"),x=a("tqeG"),O=a("F4DG"),C=a("Jg9/"),P={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="ring-process",E}return y.getDefaultOptions=function(){return P},y.prototype.changeData=function(E){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:E}),this.chart.data(Object(O.a)(E)),Object(C.b)({chart:this.chart,options:this.options},!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.getSchemaAdaptor=function(){return C.a},y}(x.b)},"/pXD":function(jt,A){},"08EK":function(jt,A,a){"use strict";a.d(A,"j",function(){return o}),a.d(A,"c",function(){return x}),a.d(A,"g",function(){return O}),a.d(A,"b",function(){return C});var f=a("jg4I");a.d(A,"e",function(){return f.isNil}),a.d(A,"d",function(){return f.isFunction}),a.d(A,"h",function(){return f.isString}),a.d(A,"f",function(){return f.isObject}),a.d(A,"i",function(){return f.mix}),a.d(A,"a",function(){return f.each}),a.d(A,"k",function(){return f.upperFirst});function o(P,b){var S=P.indexOf(b);S!==-1&&P.splice(S,1)}var x=typeof window!="undefined"&&typeof window.document!="undefined";function O(P,b){if(P.isCanvas())return!0;for(var S=b.getParent(),y=!1;S;){if(S===P){y=!0;break}S=S.getParent()}return y}function C(P){return P.cfg.visible&&P.cfg.capture}},"09fY":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.typeConstraint=A.namedConstraint=A.taggedConstraint=A.traverseAncerstors=void 0;var f=a("9L8m"),o=a("rMkn"),x=function b(S,y){var E=S.parentRequest;return E!==null?y(E)?!0:b(E,y):!1};A.traverseAncerstors=x;var O=function(S){return function(y){var E=function(T){return T!==null&&T.target!==null&&T.target.matchesTag(S)(y)};return E.metaData=new o.Metadata(S,y),E}};A.taggedConstraint=O;var C=O(f.NAMED_TAG);A.namedConstraint=C;var P=function(S){return function(y){var E=null;if(y!==null)if(E=y.bindings[0],typeof S=="string"){var m=E.serviceIdentifier;return m===S}else{var T=y.bindings[0].implementationType;return S===T}return!1}};A.typeConstraint=P},"0aAk":function(jt,A,a){var f=a("ql+n"),o=a("K0S0"),x=a("mbOf");jt.exports=O;function O(C,P){var b=new o,S={},y=new x,E;function m(L){var g=L.v===E?L.w:L.v,j=y.priority(g);if(j!==void 0){var U=P(L);U<j&&(S[g]=E,y.decrease(g,U))}}if(C.nodeCount()===0)return b;f.each(C.nodes(),function(L){y.add(L,Number.POSITIVE_INFINITY),b.setNode(L)}),y.decrease(C.nodes()[0],0);for(var T=!1;y.size()>0;){if(E=y.removeMin(),f.has(S,E))b.setEdge(E,S[E]);else{if(T)throw new Error("Input graph is not connected: "+C);T=!0}C.nodeEdges(E).forEach(m)}return b}},"0dxb":function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=a("jg4I");function o(x){return Object(f.map)(x||[],function(O,C){return{x:""+C,y:O}})}},"0mwY":function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=o,f[1]=x,f}},"0os6":function(jt,A,a){"use strict";a.d(A,"a",function(){return ct});var f=a("QJLF"),o=a.n(f),x=a("/wRx"),O=a.n(x),C=a("qaCK"),P=a.n(C),b=a("RHEd"),S=a.n(b),y=a("16OP"),E=a.n(y),m=a("7Nom"),T=a.n(m),L=a("4OuL"),g=a.n(L),j=a("r1m7"),U=a.n(j),W=a("YcyD"),z=a.n(W),N=a("2Pg9"),I=a("XN3X"),B,G,k,V,tt,Q,K,_,Y,q;function ot(rt,gt){var Et=Object.keys(rt);if(Object.getOwnPropertySymbols){var Gt=Object.getOwnPropertySymbols(rt);gt&&(Gt=Gt.filter(function(Yt){return Object.getOwnPropertyDescriptor(rt,Yt).enumerable})),Et.push.apply(Et,Gt)}return Et}function ft(rt){for(var gt=1;gt<arguments.length;gt++){var Et=arguments[gt]!=null?arguments[gt]:{};gt%2?ot(Object(Et),!0).forEach(function(Gt){o()(rt,Gt,Et[Gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Et)):ot(Object(Et)).forEach(function(Gt){Object.defineProperty(rt,Gt,Object.getOwnPropertyDescriptor(Et,Gt))})}return rt}var ct=(B=Object(W.injectable)(),G=Object(W.inject)(I.a.MaterialComponentManager),k=Object(W.inject)(I.a.RenderEngine),V=Object(W.inject)(I.a.ShaderModuleService),B(tt=(Q=(q=function(){function rt(){E()(this,rt),S()(this,"material",K,this),S()(this,"engine",_,this),S()(this,"shaderModule",Y,this)}return T()(rt,[{key:"execute",value:function(){var gt=P()(O.a.mark(function Gt(){return O.a.wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:case"end":return Xt.stop()}},Gt)}));function Et(){return gt.apply(this,arguments)}return Et}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(Et){var Gt=Object(N.createEntity)(),Yt=Et.vertexShader,Xt=Et.fragmentShader,vt=[];if(!this.engine.supportWebGPU){var mt="material-".concat(Gt);this.shaderModule.registerModule(mt,{vs:Et.vertexShader,fs:Et.fragmentShader});var ut=this.shaderModule.getModule(mt);Yt=ut.vs,Xt=ut.fs,ut.uniforms&&(vt=Object.keys(ut.uniforms).map(function(st){return{dirty:!0,name:st,data:ut.uniforms[st]}}))}return this.material.create(Gt,ft(ft({vertexShaderGLSL:Yt,fragmentShaderGLSL:Xt},Et),{},{uniforms:vt}))}}]),rt}(),q),K=g()(Q.prototype,"material",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=g()(Q.prototype,"engine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=g()(Q.prototype,"shaderModule",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q))||tt)},"0xlF":function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"b",function(){return o});var f={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},o={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},x=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},"13cj":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ContainerSnapshot=void 0;var f=function(){function o(){}return o.of=function(x,O){var C=new o;return C.bindings=x,C.middleware=O,C},o}();A.ContainerSnapshot=f},"16OP":function(jt,A){function a(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}jt.exports=a,jt.exports.default=jt.exports,jt.exports.__esModule=!0},"196R":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.STACK_OVERFLOW=A.CIRCULAR_DEPENDENCY_IN_FACTORY=A.POST_CONSTRUCT_ERROR=A.MULTIPLE_POST_CONSTRUCT_METHODS=A.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=A.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=A.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=A.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=A.ARGUMENTS_LENGTH_MISMATCH=A.INVALID_DECORATOR_OPERATION=A.INVALID_TO_SELF_VALUE=A.INVALID_FUNCTION_BINDING=A.INVALID_MIDDLEWARE_RETURN=A.NO_MORE_SNAPSHOTS_AVAILABLE=A.INVALID_BINDING_TYPE=A.NOT_IMPLEMENTED=A.CIRCULAR_DEPENDENCY=A.UNDEFINED_INJECT_ANNOTATION=A.MISSING_INJECT_ANNOTATION=A.MISSING_INJECTABLE_ANNOTATION=A.NOT_REGISTERED=A.CANNOT_UNBIND=A.AMBIGUOUS_MATCH=A.KEY_NOT_FOUND=A.NULL_ARGUMENT=A.DUPLICATED_METADATA=A.DUPLICATED_INJECTABLE_DECORATOR=void 0,A.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",A.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",A.NULL_ARGUMENT="NULL argument",A.KEY_NOT_FOUND="Key Not Found",A.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",A.CANNOT_UNBIND="Could not unbind serviceIdentifier:",A.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",A.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",A.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var f=function(P){return"@inject called with undefined this could mean that the class "+P+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};A.UNDEFINED_INJECT_ANNOTATION=f,A.CIRCULAR_DEPENDENCY="Circular dependency found:",A.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",A.INVALID_BINDING_TYPE="Invalid binding type:",A.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",A.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",A.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",A.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",A.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var o=function(){for(var P=[],b=0;b<arguments.length;b++)P[b]=arguments[b];return"The number of constructor arguments in the derived class "+(P[0]+" must be >= than the number of constructor arguments of its base class.")};A.ARGUMENTS_LENGTH_MISMATCH=o,A.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",A.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",A.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",A.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",A.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var x=function(){for(var P=[],b=0;b<arguments.length;b++)P[b]=arguments[b];return"@postConstruct error in class "+P[0]+": "+P[1]};A.POST_CONSTRUCT_ERROR=x;var O=function(){for(var P=[],b=0;b<arguments.length;b++)P[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+P[0]+"' bindings. Please investigate bindings with")+("service identifier '"+P[1]+"'.")};A.CIRCULAR_DEPENDENCY_IN_FACTORY=O,A.STACK_OVERFLOW="Maximum call stack size exceeded"},"1ImO":function(jt,A,a){var f=a("SOgk");function o(x,O){var C=[];return f(x,function(P,b,S){O(P,b,S)&&C.push(P)}),C}jt.exports=o},"1LOs":function(jt,A,a){"use strict";a.d(A,"a",function(){return pt});var f=a("CMID"),o=a("jg4I"),x=a("tqeG"),O=a("nHjW"),C=a("N2cT"),P=a("8DqP"),b="x",S="y",y="name",E="nodes",m="edges",T=a("BpQQ");function L(nt){return nt.target.depth}function g(nt){return nt.depth}function j(nt,yt){return yt-1-nt.height}function U(nt,yt){return nt.sourceLinks.length?nt.depth:yt-1}function W(nt){return nt.targetLinks.length?nt.depth:nt.sourceLinks.length?Object(o.minBy)(nt.sourceLinks,L)-1:0}function z(nt){return function(){return nt}}function N(nt,yt){for(var Pt=0,Rt=0;Rt<nt.length;Rt++)Pt+=yt(nt[Rt]);return Pt}function I(nt,yt){for(var Pt=-Infinity,Rt=0;Rt<nt.length;Rt++)Pt=Math.max(yt(nt[Rt]),Pt);return Pt}function B(nt,yt){for(var Pt=Infinity,Rt=0;Rt<nt.length;Rt++)Pt=Math.min(yt(nt[Rt]),Pt);return Pt}function G(nt,yt){return V(nt.source,yt.source)||nt.index-yt.index}function k(nt,yt){return V(nt.target,yt.target)||nt.index-yt.index}function V(nt,yt){return nt.y0-yt.y0}function tt(nt){return nt.value}function Q(nt){return nt.index}function K(nt){return nt.nodes}function _(nt){return nt.links}function Y(nt,yt){var Pt=nt.get(yt);if(!Pt)throw new Error("missing: "+yt);return Pt}function q(nt){for(var yt=nt.nodes,Pt=0,Rt=yt;Pt<Rt.length;Pt++){for(var Wt=Rt[Pt],Vt=Wt.y0,Lt=Vt,Ct=0,at=Wt.sourceLinks;Ct<at.length;Ct++){var It=at[Ct];It.y0=Vt+It.width/2,Vt+=It.width}for(var Ft=0,xt=Wt.targetLinks;Ft<xt.length;Ft++){var It=xt[Ft];It.y1=Lt+It.width/2,Lt+=It.width}}}function ot(){var nt=0,yt=0,Pt=1,Rt=1,Wt=24,Vt=8,Lt,Ct=Q,at=U,It,Ft,xt,Nt=K,Ht=_,Bt=6;function Ut(Le){var or={nodes:Nt(Le),links:Ht(Le)};return Jt(or),oe(or),ge(or),Ce(or),lr(or),q(or),or}Ut.update=function(Le){return q(Le),Le},Ut.nodeId=function(Le){return arguments.length?(Ct=typeof Le=="function"?Le:z(Le),Ut):Ct},Ut.nodeAlign=function(Le){return arguments.length?(at=typeof Le=="function"?Le:z(Le),Ut):at},Ut.nodeDepth=function(Le){return arguments.length?(It=(typeof Le=="function",Le),Ut):It},Ut.nodeSort=function(Le){return arguments.length?(Ft=Le,Ut):Ft},Ut.nodeWidth=function(Le){return arguments.length?(Wt=+Le,Ut):Wt},Ut.nodePadding=function(Le){return arguments.length?(Vt=Lt=+Le,Ut):Vt},Ut.nodes=function(Le){return arguments.length?(Nt=typeof Le=="function"?Le:z(Le),Ut):Nt},Ut.links=function(Le){return arguments.length?(Ht=typeof Le=="function"?Le:z(Le),Ut):Ht},Ut.linkSort=function(Le){return arguments.length?(xt=Le,Ut):xt},Ut.size=function(Le){return arguments.length?(nt=yt=0,Pt=+Le[0],Rt=+Le[1],Ut):[Pt-nt,Rt-yt]},Ut.extent=function(Le){return arguments.length?(nt=+Le[0][0],Pt=+Le[1][0],yt=+Le[0][1],Rt=+Le[1][1],Ut):[[nt,yt],[Pt,Rt]]},Ut.iterations=function(Le){return arguments.length?(Bt=+Le,Ut):Bt};function Jt(Le){var or=Le.nodes,Gr=Le.links;or.forEach(function(Xn,ri){Xn.index=ri,Xn.sourceLinks=[],Xn.targetLinks=[]});var Kr=new Map(or.map(function(Xn){return[Ct(Xn),Xn]}));if(Gr.forEach(function(Xn,ri){Xn.index=ri;var In=Xn.source,gi=Xn.target;typeof In!="object"&&(In=Xn.source=Y(Kr,In)),typeof gi!="object"&&(gi=Xn.target=Y(Kr,gi)),In.sourceLinks.push(Xn),gi.targetLinks.push(Xn)}),xt!=null)for(var $r=0,jn=or;$r<jn.length;$r++){var Qn=jn[$r],Bn=Qn.sourceLinks,Nn=Qn.targetLinks;Bn.sort(xt),Nn.sort(xt)}}function oe(Le){for(var or=Le.nodes,Gr=0,Kr=or;Gr<Kr.length;Gr++){var $r=Kr[Gr];$r.value=$r.fixedValue===void 0?Math.max(N($r.sourceLinks,tt),N($r.targetLinks,tt)):$r.fixedValue}}function ge(Le){for(var or=Le.nodes,Gr=or.length,Kr=new Set(or),$r=new Set,jn=0;Kr.size;){if(Kr.forEach(function(Xn){Xn.depth=jn;for(var ri=0,In=Xn.sourceLinks;ri<In.length;ri++){var gi=In[ri].target;$r.add(gi)}}),++jn>Gr)throw new Error("circular link");Kr=$r,$r=new Set}if(It)for(var Qn=Math.max(I(or,function(Xn){return Xn.depth})+1,0),Bn=void 0,Nn=0;Nn<or.length;Nn++)Bn=or[Nn],Bn.depth=It.call(null,Bn,Qn)}function Ce(Le){for(var or=Le.nodes,Gr=or.length,Kr=new Set(or),$r=new Set,jn=0;Kr.size;){if(Kr.forEach(function(Qn){Qn.height=jn;for(var Bn=0,Nn=Qn.targetLinks;Bn<Nn.length;Bn++){var Xn=Nn[Bn].source;$r.add(Xn)}}),++jn>Gr)throw new Error("circular link");Kr=$r,$r=new Set}}function Ie(Le){for(var or=Le.nodes,Gr=Math.max(I(or,function(gi){return gi.depth})+1,0),Kr=(Pt-nt-Wt)/(Gr-1),$r=new Array(Gr).fill(0).map(function(){return[]}),jn=0,Qn=or;jn<Qn.length;jn++){var Bn=Qn[jn],Nn=Math.max(0,Math.min(Gr-1,Math.floor(at.call(null,Bn,Gr))));Bn.layer=Nn,Bn.x0=nt+Nn*Kr,Bn.x1=Bn.x0+Wt,$r[Nn]?$r[Nn].push(Bn):$r[Nn]=[Bn]}if(Ft)for(var Xn=0,ri=$r;Xn<ri.length;Xn++){var In=ri[Xn];In.sort(Ft)}return $r}function We(Le){for(var or=B(Le,function(oa){return(Rt-yt-(oa.length-1)*Lt)/N(oa,tt)}),Gr=0,Kr=Le;Gr<Kr.length;Gr++){for(var $r=Kr[Gr],jn=yt,Qn=0,Bn=$r;Qn<Bn.length;Qn++){var Nn=Bn[Qn];Nn.y0=jn,Nn.y1=jn+Nn.value*or,jn=Nn.y1+Lt;for(var Xn=0,ri=Nn.sourceLinks;Xn<ri.length;Xn++){var In=ri[Xn];In.width=In.value*or}}jn=(Rt-jn+Lt)/($r.length+1);for(var gi=0;gi<$r.length;++gi){var Nn=$r[gi];Nn.y0+=jn*(gi+1),Nn.y1+=jn*(gi+1)}tn($r)}}function lr(Le){var or=Ie(Le);Lt=Math.min(Vt,(Rt-yt)/(I(or,function(jn){return jn.length})-1)),We(or);for(var Gr=0;Gr<Bt;++Gr){var Kr=Math.pow(.99,Gr),$r=Math.max(1-Kr,(Gr+1)/Bt);$e(or,Kr,$r),rr(or,Kr,$r)}}function rr(Le,or,Gr){for(var Kr=1,$r=Le.length;Kr<$r;++Kr){for(var jn=Le[Kr],Qn=0,Bn=jn;Qn<Bn.length;Qn++){for(var Nn=Bn[Qn],Xn=0,ri=0,In=0,gi=Nn.targetLinks;In<gi.length;In++){var oa=gi[In],wa=oa.source,Ea=oa.value,Vi=Ea*(Nn.layer-wa.layer);Xn+=bn(wa,Nn)*Vi,ri+=Vi}if(ri>0){var fa=(Xn/ri-Nn.y0)*or;Nn.y0+=fa,Nn.y1+=fa,nr(Nn)}}Ft===void 0&&jn.sort(V),jn.length&&Ue(jn,Gr)}}function $e(Le,or,Gr){for(var Kr=Le.length,$r=Kr-2;$r>=0;--$r){for(var jn=Le[$r],Qn=0,Bn=jn;Qn<Bn.length;Qn++){for(var Nn=Bn[Qn],Xn=0,ri=0,In=0,gi=Nn.sourceLinks;In<gi.length;In++){var oa=gi[In],wa=oa.target,Ea=oa.value,Vi=Ea*(wa.layer-Nn.layer);Xn+=Ur(Nn,wa)*Vi,ri+=Vi}if(ri>0){var fa=(Xn/ri-Nn.y0)*or;Nn.y0+=fa,Nn.y1+=fa,nr(Nn)}}Ft===void 0&&jn.sort(V),jn.length&&Ue(jn,Gr)}}function Ue(Le,or){var Gr=Le.length>>1,Kr=Le[Gr];xr(Le,Kr.y0-Lt,Gr-1,or),ir(Le,Kr.y1+Lt,Gr+1,or),xr(Le,Rt,Le.length-1,or),ir(Le,yt,0,or)}function ir(Le,or,Gr,Kr){for(;Gr<Le.length;++Gr){var $r=Le[Gr],jn=(or-$r.y0)*Kr;jn>1e-6&&($r.y0+=jn,$r.y1+=jn),or=$r.y1+Lt}}function xr(Le,or,Gr,Kr){for(;Gr>=0;--Gr){var $r=Le[Gr],jn=($r.y1-or)*Kr;jn>1e-6&&($r.y0-=jn,$r.y1-=jn),or=$r.y0-Lt}}function nr(Le){var or=Le.sourceLinks,Gr=Le.targetLinks;if(xt===void 0){for(var Kr=0,$r=Gr;Kr<$r.length;Kr++){var jn=$r[Kr].source.sourceLinks;jn.sort(k)}for(var Qn=0,Bn=or;Qn<Bn.length;Qn++){var Nn=Bn[Qn].target.targetLinks;Nn.sort(G)}}}function tn(Le){if(xt===void 0)for(var or=0,Gr=Le;or<Gr.length;or++){var Kr=Gr[or],$r=Kr.sourceLinks,jn=Kr.targetLinks;$r.sort(k),jn.sort(G)}}function bn(Le,or){for(var Gr=Le.y0-(Le.sourceLinks.length-1)*Lt/2,Kr=0,$r=Le.sourceLinks;Kr<$r.length;Kr++){var jn=$r[Kr],Qn=jn.target,Bn=jn.width;if(Qn===or)break;Gr+=Bn+Lt}for(var Nn=0,Xn=or.targetLinks;Nn<Xn.length;Nn++){var ri=Xn[Nn],Qn=ri.source,Bn=ri.width;if(Qn===Le)break;Gr-=Bn}return Gr}function Ur(Le,or){for(var Gr=or.y0-(or.targetLinks.length-1)*Lt/2,Kr=0,$r=or.targetLinks;Kr<$r.length;Kr++){var jn=$r[Kr],Qn=jn.source,Bn=jn.width;if(Qn===Le)break;Gr+=Bn+Lt}for(var Nn=0,Xn=Le.sourceLinks;Nn<Xn.length;Nn++){var ri=Xn[Nn],Qn=ri.target,Bn=ri.width;if(Qn===or)break;Gr-=Bn}return Gr}return Ut}var ft={left:g,right:j,center:W,justify:U},ct={nodeId:function(yt){return yt.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function rt(nt){var yt=Object(o.isString)(nt)?ft[nt]:Object(o.isFunction)(nt)?nt:null;return yt||U}function gt(nt){return Object(o.assign)({},ct,nt)}function Et(nt,yt){var Pt=gt(nt),Rt=Pt.nodeId,Wt=Pt.nodeSort,Vt=Pt.nodeAlign,Lt=Pt.nodeWidth,Ct=Pt.nodePadding,at=Pt.nodeDepth,It=ot().nodeSort(Wt).nodeWidth(Lt).nodePadding(Ct).nodeDepth(at).nodeAlign(rt(Vt)).extent([[0,0],[1,1]]).nodeId(Rt),Ft=It(yt);return Ft.nodes.forEach(function(xt){var Nt=xt.x0,Ht=xt.x1,Bt=xt.y0,Ut=xt.y1;xt.x=[Nt,Ht,Ht,Nt],xt.y=[Bt,Bt,Ut,Ut]}),Ft.links.forEach(function(xt){var Nt=xt.source,Ht=xt.target,Bt=Nt.x1,Ut=Ht.x0;xt.x=[Bt,Bt,Ut,Ut];var Jt=xt.width/2;xt.y=[xt.y0+Jt,xt.y0-Jt,xt.y1+Jt,xt.y1-Jt]}),Ft}function Gt(nt,yt,Pt){var Rt=[];return nt.forEach(function(Wt){var Vt=Wt[yt],Lt=Wt[Pt];Rt.includes(Vt)||Rt.push(Vt),Rt.includes(Lt)||Rt.push(Lt)}),Rt}function Yt(nt,yt,Pt,Rt){var Wt={};return yt.forEach(function(Vt){Wt[Vt]={},yt.forEach(function(Lt){Wt[Vt][Lt]=0})}),nt.forEach(function(Vt){Wt[Vt[Pt]][Vt[Rt]]=1}),Wt}function Xt(nt,yt,Pt){if(!Object(o.isArray)(nt))return[];var Rt=[],Wt=Gt(nt,yt,Pt),Vt=Yt(nt,Wt,yt,Pt),Lt={};Wt.forEach(function(at){Lt[at]=0});function Ct(at){Lt[at]=1,Wt.forEach(function(It){if(Vt[at][It]!=0)if(Lt[It]==1)Rt.push(at+"_"+It);else{if(Lt[It]==-1)return;Ct(It)}}),Lt[at]=-1}return Wt.forEach(function(at){Lt[at]!=-1&&Ct(at)}),Rt.length!==0&&console.warn("sankey data contains circle, "+Rt.length+" records removed.",Rt),nt.filter(function(at){return Rt.findIndex(function(It){return It===at[yt]+"_"+at[Pt]})<0})}function vt(nt,yt,Pt){return Object(O.n)(nt)?nt/Pt:yt}function mt(nt,yt,Pt){return Object(O.n)(nt)?nt/Pt:yt}function ut(nt,yt,Pt){var Rt=nt.data,Wt=nt.sourceField,Vt=nt.targetField,Lt=nt.weightField,Ct=nt.nodeAlign,at=nt.nodeSort,It=nt.nodePadding,Ft=nt.nodePaddingRatio,xt=nt.nodeWidth,Nt=nt.nodeWidthRatio,Ht=nt.nodeDepth,Bt=nt.rawFields,Ut=Bt===void 0?[]:Bt,Jt=Object(T.c)(Xt(Rt,Wt,Vt),Wt,Vt,Lt,Ut),oe=Et({nodeAlign:Ct,nodePadding:mt(It,Ft,Pt),nodeWidth:vt(xt,Nt,yt),nodeSort:at,nodeDepth:Ht},Jt),ge=oe.nodes,Ce=oe.links;return{nodes:ge.map(function(Ie){return Object(f.__assign)(Object(f.__assign)({},Object(O.r)(Ie,Object(f.__spreadArrays)(["x","y","name"],Ut))),{isNode:!0})}),edges:Ce.map(function(Ie){return Object(f.__assign)(Object(f.__assign)({source:Ie.source.name,target:Ie.target.name,name:Ie.source.name||Ie.target.name},Object(O.r)(Ie,Object(f.__spreadArrays)(["x","y","value"],Ut))),{isNode:!1})})}}function st(nt){var yt=nt.chart,Pt=nt.options,Rt=Pt.color,Wt=Pt.nodeStyle,Vt=Pt.edgeStyle,Lt=Pt.label,Ct=Pt.tooltip;yt.legend(!1),yt.tooltip(Ct),yt.axis(!1),yt.coordinate().reflect("y");var at=ut(Pt,yt.width,yt.height),It=at.nodes,Ft=at.edges,xt=yt.createView({id:m});xt.data(Ft),Object(P.b)({chart:xt,options:{xField:b,yField:S,seriesField:y,edge:{color:Rt,style:Vt,shape:"arc"},tooltip:Ct,state:{active:{style:{opacity:.8,lineWidth:0}}}}});var Nt=yt.createView({id:E});return Nt.data(It),Object(P.f)({chart:Nt,options:{xField:b,yField:S,seriesField:y,polygon:{color:Rt,style:Wt},label:Lt,tooltip:Ct}}),yt.interaction("element-active"),yt.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),nt}function lt(nt){var yt=nt.chart,Pt=nt.options,Rt=Pt.animation;typeof Rt=="boolean"?yt.animate(Rt):yt.animate(!0);var Wt=Object(f.__spreadArrays)(yt.views[0].geometries,yt.views[1].geometries);return Wt.forEach(function(Vt){Vt.animate(Rt)}),nt}function Tt(nt){var yt=nt.chart,Pt=nt.options,Rt=Pt.nodeDraggable,Wt="sankey-node-draggable";return Rt?yt.interaction(Wt):yt.removeInteraction(Wt),nt}function Ot(nt){return Object(O.f)(st,C.c,Tt,lt,C.j)(nt)}var et=a("JUmX"),H=function(nt){Object(f.__extends)(yt,nt);function yt(){var Pt=nt!==null&&nt.apply(this,arguments)||this;return Pt.isDragging=!1,Pt}return yt.prototype.isNodeElement=function(){var Pt=Object(o.get)(this.context,"event.target");if(Pt){var Rt=Pt.get("element");return Rt&&Rt.getModel().data.isNode}return!1},yt.prototype.getNodeView=function(){return Object(O.e)(this.context.view,E)},yt.prototype.getEdgeView=function(){return Object(O.e)(this.context.view,m)},yt.prototype.getCurrentDatumIdx=function(Pt){return this.getNodeView().geometries[0].elements.indexOf(Pt)},yt.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:Object(o.get)(this.context,"event.x"),y:Object(o.get)(this.context,"event.y")};var Pt=this.context.event.target.get("element"),Rt=this.getCurrentDatumIdx(Pt);if(Rt===-1)return;this.currentElementIdx=Rt,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},yt.prototype.translate=function(){if(this.isDragging){var Pt=this.context.view,Rt={x:Object(o.get)(this.context,"event.x"),y:Object(o.get)(this.context,"event.y")},Wt=Rt.x-this.prevPoint.x,Vt=Rt.y-this.prevPoint.y,Lt=this.getNodeView(),Ct=Lt.geometries[0].elements[this.currentElementIdx];if(Ct&&Ct.getModel()){var at=Ct.getModel().data,It=Lt.getOptions().data,Ft=Lt.getCoordinate(),xt={x:Wt/Ft.getWidth(),y:Vt/Ft.getHeight()},Nt=Object(f.__assign)(Object(f.__assign)({},at),{x:at.x.map(function(oe){return oe+=xt.x}),y:at.y.map(function(oe){return oe+=xt.y})}),Ht=Object(f.__spreadArrays)(It);Ht[this.currentElementIdx]=Nt,Lt.data(Ht);var Bt=at.name,Ut=this.getEdgeView(),Jt=Ut.getOptions().data;Jt.forEach(function(oe){oe.source===Bt&&(oe.x[0]+=xt.x,oe.x[1]+=xt.x,oe.y[0]+=xt.y,oe.y[1]+=xt.y),oe.target===Bt&&(oe.x[2]+=xt.x,oe.x[3]+=xt.x,oe.y[2]+=xt.y,oe.y[3]+=xt.y)}),Ut.data(Jt),this.prevPoint=Rt,Pt.render(!0)}}},yt.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},yt}(et.Action);Object(et.registerAction)("sankey-node-drag",H),Object(et.registerInteraction)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(yt){return yt.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var pt=function(nt){Object(f.__extends)(yt,nt);function yt(){var Pt=nt!==null&&nt.apply(this,arguments)||this;return Pt.type="sankey",Pt}return yt.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(Rt,Wt){var Vt=Rt[1]===1;return{style:{fill:"#545454",textAlign:Vt?"end":"start"},offsetX:Vt?-8:8,content:Wt}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,fields:["name","source","target","value","isNode"],showContent:function(Rt){return!Object(o.get)(Rt,[0,"data","isNode"])},formatter:function(Rt){var Wt=Rt.source,Vt=Rt.target,Lt=Rt.value;return{name:Wt+" -> "+Vt,value:Lt}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},yt.prototype.changeData=function(Pt){this.updateOption({data:Pt});var Rt=ut(this.options,this.chart.width,this.chart.height),Wt=Rt.nodes,Vt=Rt.edges,Lt=Object(O.e)(this.chart,E),Ct=Object(O.e)(this.chart,m);Lt.changeData(Wt),Ct.changeData(Vt)},yt.prototype.getSchemaAdaptor=function(){return Ot},yt.prototype.getDefaultOptions=function(){return yt.getDefaultOptions()},yt}(x.b)},"1QYT":function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("JUmX"),x=a("tqeG"),O=a("om1O"),C=a("iAmF"),P=a("fVaJ");Object(o.registerShape)("point","gauge-indicator",{draw:function(y,E){var m=y.customInfo,T=m.indicator,L=m.defaultColor,g=T,j=g.pointer,U=g.pin,W=E.addGroup(),z=this.parsePoint({x:0,y:0});return j&&W.addShape("line",{name:"pointer",attrs:Object(f.__assign)({x1:z.x,y1:z.y,x2:y.x,y2:y.y,stroke:L},j.style)}),U&&W.addShape("circle",{name:"pin",attrs:Object(f.__assign)({x:z.x,y:z.y,stroke:L},U.style)}),W}}),Object(o.registerShape)("interval","meter-gauge",{draw:function(y,E){var m=y.customInfo.meter,T=m===void 0?{}:m,L=T.steps,g=L===void 0?50:L,j=T.stepRatio,U=j===void 0?.5:j,W=this.coordinate.endAngle-this.coordinate.startAngle,z=W/g,N=0;U>0&&U<=1&&(z=W/((1-U)/U*(g-1)+g),N=z*(1-U)/U);var I=E.addGroup();if(N>0)for(var B=this.coordinate.getCenter(),G=this.coordinate.getRadius(),k=o.Util.getAngle(y,this.coordinate),V=k.startAngle,tt=k.endAngle,Q=V,K=0;Q<tt&&K<2*g-1;K++){var _=K%2;if(_){var Y=o.Util.getSectorPath(B.x,B.y,G,Q,Math.min(Q+N,tt),G*this.coordinate.innerRadius);I.addShape("path",{name:"meter-gauge-mask",attrs:{path:Y,fill:y.color,stroke:y.color,lineWidth:.5},capture:!1})}Q+=_?N:z}return I}});var b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="gauge",E}return y.getDefaultOptions=function(){return C.b},y.prototype.changeData=function(E){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:E});var m=this.chart.views.find(function(L){return L.id===C.c});m&&m.data(Object(P.a)(E));var T=this.chart.views.find(function(L){return L.id===C.h});T&&T.data(Object(P.b)(E,this.options.range)),Object(O.b)({chart:this.chart,options:this.options},!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.getSchemaAdaptor=function(){return O.a},y}(x.b)},"1RCG":function(jt,A){jt.exports="2.1.8"},"1ZgE":function(jt,A){},"1ban":function(jt,A,a){var f=a("kDK3"),o={};for(var x in f)f.hasOwnProperty(x)&&(o[f[x]]=x);var O=jt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var C in O)if(O.hasOwnProperty(C)){if(!("channels"in O[C]))throw new Error("missing channels property: "+C);if(!("labels"in O[C]))throw new Error("missing channel labels property: "+C);if(O[C].labels.length!==O[C].channels)throw new Error("channel and label counts mismatch: "+C);var P=O[C].channels,b=O[C].labels;delete O[C].channels,delete O[C].labels,Object.defineProperty(O[C],"channels",{value:P}),Object.defineProperty(O[C],"labels",{value:b})}O.rgb.hsl=function(y){var E=y[0]/255,m=y[1]/255,T=y[2]/255,L=Math.min(E,m,T),g=Math.max(E,m,T),j=g-L,U,W,z;return g===L?U=0:E===g?U=(m-T)/j:m===g?U=2+(T-E)/j:T===g&&(U=4+(E-m)/j),U=Math.min(U*60,360),U<0&&(U+=360),z=(L+g)/2,g===L?W=0:z<=.5?W=j/(g+L):W=j/(2-g-L),[U,W*100,z*100]},O.rgb.hsv=function(y){var E,m,T,L,g,j=y[0]/255,U=y[1]/255,W=y[2]/255,z=Math.max(j,U,W),N=z-Math.min(j,U,W),I=function(G){return(z-G)/6/N+1/2};return N===0?L=g=0:(g=N/z,E=I(j),m=I(U),T=I(W),j===z?L=T-m:U===z?L=1/3+E-T:W===z&&(L=2/3+m-E),L<0?L+=1:L>1&&(L-=1)),[L*360,g*100,z*100]},O.rgb.hwb=function(y){var E=y[0],m=y[1],T=y[2],L=O.rgb.hsl(y)[0],g=1/255*Math.min(E,Math.min(m,T));return T=1-1/255*Math.max(E,Math.max(m,T)),[L,g*100,T*100]},O.rgb.cmyk=function(y){var E=y[0]/255,m=y[1]/255,T=y[2]/255,L,g,j,U;return U=Math.min(1-E,1-m,1-T),L=(1-E-U)/(1-U)||0,g=(1-m-U)/(1-U)||0,j=(1-T-U)/(1-U)||0,[L*100,g*100,j*100,U*100]};function S(y,E){return Math.pow(y[0]-E[0],2)+Math.pow(y[1]-E[1],2)+Math.pow(y[2]-E[2],2)}O.rgb.keyword=function(y){var E=o[y];if(E)return E;var m=Infinity,T;for(var L in f)if(f.hasOwnProperty(L)){var g=f[L],j=S(y,g);j<m&&(m=j,T=L)}return T},O.keyword.rgb=function(y){return f[y]},O.rgb.xyz=function(y){var E=y[0]/255,m=y[1]/255,T=y[2]/255;E=E>.04045?Math.pow((E+.055)/1.055,2.4):E/12.92,m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92,T=T>.04045?Math.pow((T+.055)/1.055,2.4):T/12.92;var L=E*.4124+m*.3576+T*.1805,g=E*.2126+m*.7152+T*.0722,j=E*.0193+m*.1192+T*.9505;return[L*100,g*100,j*100]},O.rgb.lab=function(y){var E=O.rgb.xyz(y),m=E[0],T=E[1],L=E[2],g,j,U;return m/=95.047,T/=100,L/=108.883,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,T=T>.008856?Math.pow(T,1/3):7.787*T+16/116,L=L>.008856?Math.pow(L,1/3):7.787*L+16/116,g=116*T-16,j=500*(m-T),U=200*(T-L),[g,j,U]},O.hsl.rgb=function(y){var E=y[0]/360,m=y[1]/100,T=y[2]/100,L,g,j,U,W;if(m===0)return W=T*255,[W,W,W];T<.5?g=T*(1+m):g=T+m-T*m,L=2*T-g,U=[0,0,0];for(var z=0;z<3;z++)j=E+1/3*-(z-1),j<0&&j++,j>1&&j--,6*j<1?W=L+(g-L)*6*j:2*j<1?W=g:3*j<2?W=L+(g-L)*(2/3-j)*6:W=L,U[z]=W*255;return U},O.hsl.hsv=function(y){var E=y[0],m=y[1]/100,T=y[2]/100,L=m,g=Math.max(T,.01),j,U;return T*=2,m*=T<=1?T:2-T,L*=g<=1?g:2-g,U=(T+m)/2,j=T===0?2*L/(g+L):2*m/(T+m),[E,j*100,U*100]},O.hsv.rgb=function(y){var E=y[0]/60,m=y[1]/100,T=y[2]/100,L=Math.floor(E)%6,g=E-Math.floor(E),j=255*T*(1-m),U=255*T*(1-m*g),W=255*T*(1-m*(1-g));switch(T*=255,L){case 0:return[T,W,j];case 1:return[U,T,j];case 2:return[j,T,W];case 3:return[j,U,T];case 4:return[W,j,T];case 5:return[T,j,U]}},O.hsv.hsl=function(y){var E=y[0],m=y[1]/100,T=y[2]/100,L=Math.max(T,.01),g,j,U;return U=(2-m)*T,g=(2-m)*L,j=m*L,j/=g<=1?g:2-g,j=j||0,U/=2,[E,j*100,U*100]},O.hwb.rgb=function(y){var E=y[0]/360,m=y[1]/100,T=y[2]/100,L=m+T,g,j,U,W;L>1&&(m/=L,T/=L),g=Math.floor(6*E),j=1-T,U=6*E-g,(g&1)!=0&&(U=1-U),W=m+U*(j-m);var z,N,I;switch(g){default:case 6:case 0:z=j,N=W,I=m;break;case 1:z=W,N=j,I=m;break;case 2:z=m,N=j,I=W;break;case 3:z=m,N=W,I=j;break;case 4:z=W,N=m,I=j;break;case 5:z=j,N=m,I=W;break}return[z*255,N*255,I*255]},O.cmyk.rgb=function(y){var E=y[0]/100,m=y[1]/100,T=y[2]/100,L=y[3]/100,g,j,U;return g=1-Math.min(1,E*(1-L)+L),j=1-Math.min(1,m*(1-L)+L),U=1-Math.min(1,T*(1-L)+L),[g*255,j*255,U*255]},O.xyz.rgb=function(y){var E=y[0]/100,m=y[1]/100,T=y[2]/100,L,g,j;return L=E*3.2406+m*-1.5372+T*-.4986,g=E*-.9689+m*1.8758+T*.0415,j=E*.0557+m*-.204+T*1.057,L=L>.0031308?1.055*Math.pow(L,1/2.4)-.055:L*12.92,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92,j=j>.0031308?1.055*Math.pow(j,1/2.4)-.055:j*12.92,L=Math.min(Math.max(0,L),1),g=Math.min(Math.max(0,g),1),j=Math.min(Math.max(0,j),1),[L*255,g*255,j*255]},O.xyz.lab=function(y){var E=y[0],m=y[1],T=y[2],L,g,j;return E/=95.047,m/=100,T/=108.883,E=E>.008856?Math.pow(E,1/3):7.787*E+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,T=T>.008856?Math.pow(T,1/3):7.787*T+16/116,L=116*m-16,g=500*(E-m),j=200*(m-T),[L,g,j]},O.lab.xyz=function(y){var E=y[0],m=y[1],T=y[2],L,g,j;g=(E+16)/116,L=m/500+g,j=g-T/200;var U=Math.pow(g,3),W=Math.pow(L,3),z=Math.pow(j,3);return g=U>.008856?U:(g-16/116)/7.787,L=W>.008856?W:(L-16/116)/7.787,j=z>.008856?z:(j-16/116)/7.787,L*=95.047,g*=100,j*=108.883,[L,g,j]},O.lab.lch=function(y){var E=y[0],m=y[1],T=y[2],L,g,j;return L=Math.atan2(T,m),g=L*360/2/Math.PI,g<0&&(g+=360),j=Math.sqrt(m*m+T*T),[E,j,g]},O.lch.lab=function(y){var E=y[0],m=y[1],T=y[2],L,g,j;return j=T/360*2*Math.PI,L=m*Math.cos(j),g=m*Math.sin(j),[E,L,g]},O.rgb.ansi16=function(y){var E=y[0],m=y[1],T=y[2],L=1 in arguments?arguments[1]:O.rgb.hsv(y)[2];if(L=Math.round(L/50),L===0)return 30;var g=30+(Math.round(T/255)<<2|Math.round(m/255)<<1|Math.round(E/255));return L===2&&(g+=60),g},O.hsv.ansi16=function(y){return O.rgb.ansi16(O.hsv.rgb(y),y[2])},O.rgb.ansi256=function(y){var E=y[0],m=y[1],T=y[2];if(E===m&&m===T)return E<8?16:E>248?231:Math.round((E-8)/247*24)+232;var L=16+36*Math.round(E/255*5)+6*Math.round(m/255*5)+Math.round(T/255*5);return L},O.ansi16.rgb=function(y){var E=y%10;if(E===0||E===7)return y>50&&(E+=3.5),E=E/10.5*255,[E,E,E];var m=(~~(y>50)+1)*.5,T=(E&1)*m*255,L=(E>>1&1)*m*255,g=(E>>2&1)*m*255;return[T,L,g]},O.ansi256.rgb=function(y){if(y>=232){var E=(y-232)*10+8;return[E,E,E]}y-=16;var m,T=Math.floor(y/36)/5*255,L=Math.floor((m=y%36)/6)/5*255,g=m%6/5*255;return[T,L,g]},O.rgb.hex=function(y){var E=((Math.round(y[0])&255)<<16)+((Math.round(y[1])&255)<<8)+(Math.round(y[2])&255),m=E.toString(16).toUpperCase();return"000000".substring(m.length)+m},O.hex.rgb=function(y){var E=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!E)return[0,0,0];var m=E[0];E[0].length===3&&(m=m.split("").map(function(U){return U+U}).join(""));var T=parseInt(m,16),L=T>>16&255,g=T>>8&255,j=T&255;return[L,g,j]},O.rgb.hcg=function(y){var E=y[0]/255,m=y[1]/255,T=y[2]/255,L=Math.max(Math.max(E,m),T),g=Math.min(Math.min(E,m),T),j=L-g,U,W;return j<1?U=g/(1-j):U=0,j<=0?W=0:L===E?W=(m-T)/j%6:L===m?W=2+(T-E)/j:W=4+(E-m)/j+4,W/=6,W%=1,[W*360,j*100,U*100]},O.hsl.hcg=function(y){var E=y[1]/100,m=y[2]/100,T=1,L=0;return m<.5?T=2*E*m:T=2*E*(1-m),T<1&&(L=(m-.5*T)/(1-T)),[y[0],T*100,L*100]},O.hsv.hcg=function(y){var E=y[1]/100,m=y[2]/100,T=E*m,L=0;return T<1&&(L=(m-T)/(1-T)),[y[0],T*100,L*100]},O.hcg.rgb=function(y){var E=y[0]/360,m=y[1]/100,T=y[2]/100;if(m===0)return[T*255,T*255,T*255];var L=[0,0,0],g=E%1*6,j=g%1,U=1-j,W=0;switch(Math.floor(g)){case 0:L[0]=1,L[1]=j,L[2]=0;break;case 1:L[0]=U,L[1]=1,L[2]=0;break;case 2:L[0]=0,L[1]=1,L[2]=j;break;case 3:L[0]=0,L[1]=U,L[2]=1;break;case 4:L[0]=j,L[1]=0,L[2]=1;break;default:L[0]=1,L[1]=0,L[2]=U}return W=(1-m)*T,[(m*L[0]+W)*255,(m*L[1]+W)*255,(m*L[2]+W)*255]},O.hcg.hsv=function(y){var E=y[1]/100,m=y[2]/100,T=E+m*(1-E),L=0;return T>0&&(L=E/T),[y[0],L*100,T*100]},O.hcg.hsl=function(y){var E=y[1]/100,m=y[2]/100,T=m*(1-E)+.5*E,L=0;return T>0&&T<.5?L=E/(2*T):T>=.5&&T<1&&(L=E/(2*(1-T))),[y[0],L*100,T*100]},O.hcg.hwb=function(y){var E=y[1]/100,m=y[2]/100,T=E+m*(1-E);return[y[0],(T-E)*100,(1-T)*100]},O.hwb.hcg=function(y){var E=y[1]/100,m=y[2]/100,T=1-m,L=T-E,g=0;return L<1&&(g=(T-L)/(1-L)),[y[0],L*100,g*100]},O.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},O.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},O.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},O.gray.hsl=O.gray.hsv=function(y){return[0,0,y[0]]},O.gray.hwb=function(y){return[0,100,y[0]]},O.gray.cmyk=function(y){return[0,0,0,y[0]]},O.gray.lab=function(y){return[y[0],0,0]},O.gray.hex=function(y){var E=Math.round(y[0]/100*255)&255,m=(E<<16)+(E<<8)+E,T=m.toString(16).toUpperCase();return"000000".substring(T.length)+T},O.rgb.gray=function(y){var E=(y[0]+y[1]+y[2])/3;return[E/255*100]}},"2+60":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.TargetTypeEnum=A.BindingTypeEnum=A.BindingScopeEnum=void 0;var f={Request:"Request",Singleton:"Singleton",Transient:"Transient"};A.BindingScopeEnum=f;var o={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};A.BindingTypeEnum=o;var x={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};A.TargetTypeEnum=x},"287h":function(jt,A,a){"use strict";var f=a("CMID"),o=a("U8wd");function x(L,g){if(g){var j=Object(o.invert)(g);return Object(o.multiplyVec2)(j,L)}return L}function O(L,g,j){var U=L.getTotalMatrix();if(U){var W=x([g,j,1],U),z=W[0],N=W[1];return[z,N]}return[g,j]}function C(L,g,j){if(L.isCanvas&&L.isCanvas())return!0;if(!Object(o.isAllowCapture)(L)||L.cfg.isInView===!1)return!1;if(L.cfg.clipShape){var U=O(L,g,j),W=U[0],z=U[1];if(L.isClipped(W,z))return!1}var N=L.cfg.cacheCanvasBBox||L.getCanvasBBox();return g>=N.minX&&g<=N.maxX&&j>=N.minY&&j<=N.maxY}function P(L,g,j){if(!C(L,g,j))return null;for(var U=null,W=L.getChildren(),z=W.length,N=z-1;N>=0;N--){var I=W[N];if(I.isGroup())U=P(I,g,j);else if(C(I,g,j)){var B=I,G=O(I,g,j),k=G[0],V=G[1];B.isInShape(k,V)&&(U=I)}if(U)break}return U}var b=a("Nqgf"),S=a("nl+T"),y=a("bsNZ"),E=a("K0hn"),m=function(L){Object(f.__extends)(g,L);function g(){return L!==null&&L.apply(this,arguments)||this}return g.prototype.getDefaultCfg=function(){var j=L.prototype.getDefaultCfg.call(this);return j.renderer="canvas",j.autoDraw=!0,j.localRefresh=!0,j.refreshElements=[],j.clipView=!0,j.quickHit=!1,j},g.prototype.onCanvasChange=function(j){(j==="attr"||j==="sort"||j==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},g.prototype.getShapeBase=function(){return b},g.prototype.getGroupBase=function(){return S.a},g.prototype.getPixelRatio=function(){var j=this.get("pixelRatio")||Object(y.d)();return j>=1?Math.ceil(j):1},g.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},g.prototype.createDom=function(){var j=document.createElement("canvas"),U=j.getContext("2d");return this.set("context",U),j},g.prototype.setDOMSize=function(j,U){L.prototype.setDOMSize.call(this,j,U);var W=this.get("context"),z=this.get("el"),N=this.getPixelRatio();z.width=N*j,z.height=N*U,N>1&&W.scale(N,N)},g.prototype.clear=function(){L.prototype.clear.call(this),this._clearFrame();var j=this.get("context"),U=this.get("el");j.clearRect(0,0,U.width,U.height)},g.prototype.getShape=function(j,U){var W;return this.get("quickHit")?W=P(this,j,U):W=L.prototype.getShape.call(this,j,U,null),W},g.prototype._getRefreshRegion=function(){var j=this.get("refreshElements"),U=this.getViewRange(),W;if(j.length&&j[0]===this)W=U;else if(W=Object(E.f)(j),W){W.minX=Math.floor(W.minX),W.minY=Math.floor(W.minY),W.maxX=Math.ceil(W.maxX),W.maxY=Math.ceil(W.maxY),W.maxY+=1;var z=this.get("clipView");z&&(W=Object(E.g)(W,U))}return W},g.prototype.refreshElement=function(j){var U=this.get("refreshElements");U.push(j)},g.prototype._clearFrame=function(){var j=this.get("drawFrame");j&&(Object(y.a)(j),this.set("drawFrame",null),this.set("refreshElements",[]))},g.prototype.draw=function(){var j=this.get("drawFrame");this.get("autoDraw")&&j||this._startDraw()},g.prototype._drawAll=function(){var j=this.get("context"),U=this.get("el"),W=this.getChildren();j.clearRect(0,0,U.width,U.height),Object(E.a)(j,this),Object(E.d)(j,W),this.set("refreshElements",[])},g.prototype._drawRegion=function(){var j=this.get("context"),U=this.get("refreshElements"),W=this.getChildren(),z=this._getRefreshRegion();z?(j.clearRect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),j.save(),j.beginPath(),j.rect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),j.clip(),Object(E.a)(j,this),Object(E.b)(this,W,z),Object(E.d)(j,W,z),j.restore()):U.length&&Object(E.c)(U),Object(y.c)(U,function(N){N.get("hasChanged")&&N.set("hasChanged",!1)}),this.set("refreshElements",[])},g.prototype._startDraw=function(){var j=this,U=this.get("drawFrame");U||(U=Object(y.n)(function(){j.get("localRefresh")?j._drawRegion():j._drawAll(),j.set("drawFrame",null)}),this.set("drawFrame",U))},g.prototype.skipDraw=function(){},g.prototype.removeDom=function(){var j=this.get("el");j.width=0,j.height=0,j.parentNode.removeChild(j)},g}(o.AbstractCanvas),T=A.a=m},"2DZl":function(jt,A,a){"use strict";a.d(A,"b",function(){return E}),a.d(A,"a",function(){return L});var f=a("jg4I"),o="\u2026";function x(g){for(var j=0,U=0;U<g.length;U++)j+=O(g,U);return j}function O(g,j){return g.charCodeAt(j)>0&&g.charCodeAt(j)<128?1:2}function C(g,j,U){U===void 0&&(U="tail");var W=g.length,z="";if(U==="tail"){for(var N=0,I=0;N<j;){var B=O(g,I);if(N+B<=j)z+=g[I],N+=O(g,I),I++;else break}z+=o}else if(U==="head"){for(var N=0,I=W-1;N<j;){var B=O(g,I);if(N+B<=j)z+=g[I],N+=O(g,I),I--;else break}z=o+z}else{for(var G="",k="",N=0,V=0,tt=W-1;N<j;){var Q=O(g,V),K=!1;Q+N<=j&&(G+=g[V],V++,N+=Q,K=!0);var _=O(g,tt);if(_+N<=j&&(k=g[tt]+k,N+=_,tt--,K=!0),!K)break}z=G+o+k}return z}var P="\u2026",b=2,S=400;function y(g){for(var j=g.map(function(G){var k=G.attr("text");return Object(f.isNil)(k)?"":""+k}),U=0,W=0,z=0;z<j.length;z+=1){for(var N=0,I=0;I<=j[z].length;I+=1){var B=j[z].charCodeAt(I);B>=19968&&B<=40869?N+=2:N+=1}N>U&&(U=N,W=z)}return g[W].getBBox().width}function E(g){if(g.length>S)return y(g);var j=0;return Object(f.each)(g,function(U){var W=U.getBBox(),z=W.width;j<z&&(j=z)}),j}function m(g,j){var U=j.getCanvasBBox();return g?U.width:U.height}function T(g,j){return g.getBBox().width<j}function L(g,j,U,W){W===void 0&&(W="tail");var z=j.attr("text"),N=m(g,j),I=x(z),B=!1;if(U<N){var G=Math.floor(U/N*I)-b,k=void 0;G>=0?k=C(z,G,W):k=P,k&&(j.attr("text",k),B=!0)}return B?j.set("tip",z):j.set("tip",null),B}},"2GXS":function(jt,A,a){var f=a("qTvU"),o=a("MbSy"),x=a("qXgj");function O(C){return x(o(C,void 0,f),C+"")}jt.exports=O},"2PUN":function(jt,A,a){var f=a("qgzk"),o=a("swOU");function x(O,C,P,b,S){var y=-1,E=O.length;for(P||(P=o),S||(S=[]);++y<E;){var m=O[y];C>0&&P(m)?C>1?x(m,C-1,P,b,S):f(S,m):b||(S[S.length]=m)}return S}jt.exports=x},"2Pg9":function(jt,A,a){"use strict";a.d(A,"AST_TOKEN_TYPES",function(){return Y}),a.d(A,"STORAGE_CLASS",function(){return ot}),a.d(A,"Target",function(){return ft}),a.d(A,"DefineValuePlaceholder",function(){return ct});var f=a("BLox"),o=a.n(f),x=a("Hg9g"),O=a("BgQB"),C=a("P7eI"),P=a("J/Yx"),b=a("PkPV"),S=a("0os6"),y=a("//O1"),E=a("7stk"),m=a("AKnH"),T=a("aStn"),L=a("to4S"),g=a("CURf"),j=a("Vd04"),U=a("+q6o"),W=a("syls");a.d(A,"createEntity",function(){return W.b});var z=a("XN3X");a.d(A,"IDENTIFIER",function(){return z.a});var N=a("+jGG");a.d(A,"createWorldContainer",function(){return N.a});var I=a("MciM");a.d(A,"generateAABBFromVertices",function(){return I.a});var B=a("wUId");a.d(A,"isSafari",function(){return B.a});var G=a("S9go"),k=a("P6PP");a.d(A,"AABB",function(){return k.a}),a.d(A,"Frustum",function(){return k.b});var V=a("Pmht");a.o(V,"gl")&&a.d(A,"gl",function(){return V.gl});var tt=a("SJBz"),Q=a.n(tt);a.o(tt,"gl")&&a.d(A,"gl",function(){return tt.gl});var K=a("Aw3q"),_=a.n(K);a.o(K,"gl")&&a.d(A,"gl",function(){return K.gl}),a.o(V,"gl")&&a.d(A,"gl",function(){return V.gl});var Y;(function(rt){rt.Void="Void",rt.Boolean="Boolean",rt.Float="Float",rt.Uint32="Uint32",rt.Int32="Int32",rt.Vector="Vector",rt.Vector2Float="vec2<f32>",rt.Vector3Float="vec3<f32>",rt.Vector4Float="vec4<f32>",rt.Vector2Boolean="vec2<bool>",rt.Vector3Boolean="vec3<bool>",rt.Vector4Boolean="vec4<bool>",rt.Vector2Uint="vec2<u32>",rt.Vector3Uint="vec3<u32>",rt.Vector4Uint="vec4<u32>",rt.Vector2Int="vec2<i32>",rt.Vector3Int="vec3<i32>",rt.Vector4Int="vec4<i32>",rt.Matrix="Matrix",rt.Matrix3x3Float="mat3x3<f32>",rt.Matrix4x4Float="mat4x4<i32>",rt.Struct="Struct",rt.FloatArray="Float[]",rt.Vector4FloatArray="vec4<f32>[]"})(Y||(Y={}));var q;(function(rt){rt.Program="Program",rt.Identifier="Identifier",rt.VariableDeclaration="VariableDeclaration",rt.BlockStatement="BlockStatement",rt.ReturnStatement="ReturnStatement",rt.FunctionDeclaration="FunctionDeclaration",rt.VariableDeclarator="VariableDeclarator",rt.AssignmentExpression="AssignmentExpression",rt.LogicalExpression="LogicalExpression",rt.BinaryExpression="BinaryExpression",rt.ArrayExpression="ArrayExpression",rt.UnaryExpression="UnaryExpression",rt.UpdateExpression="UpdateExpression",rt.FunctionExpression="FunctionExpression",rt.MemberExpression="MemberExpression",rt.ConditionalExpression="ConditionalExpression",rt.ExpressionStatement="ExpressionStatement",rt.CallExpression="CallExpression",rt.NumThreadStatement="NumThreadStatement",rt.StorageStatement="StorageStatement",rt.DoWhileStatement="DoWhileStatement",rt.WhileStatement="WhileStatement",rt.ForStatement="ForStatement",rt.BreakStatement="BreakStatement",rt.ContinueStatement="ContinueStatement",rt.IfStatement="IfStatement",rt.ImportedFunctionStatement="ImportedFunctionStatement"})(q||(q={}));var ot;(function(rt){rt.Input="Input",rt.Output="Output",rt.Uniform="Uniform",rt.Workgroup="Workgroup",rt.UniformConstant="UniformConstant",rt.Image="Image",rt.StorageBuffer="StorageBuffer",rt.Private="Private",rt.Function="Function"})(ot||(ot={}));var ft;(function(rt){rt.GLSL100="GLSL100",rt.GLSL450="GLSL450",rt.WGSL="WGSL"})(ft||(ft={}));var ct="__DefineValuePlaceholder__"},"2dy+":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=A.LinkedListNode=void 0;var f=function(P,b){return P===b},o=function(){function C(P,b){b===void 0&&(b=null),this.value=P,this.next=b}return C.prototype.toString=function(P){return P?P(this.value):""+this.value},C}();A.LinkedListNode=o;var x=function(){function C(P){P===void 0&&(P=f),this.head=null,this.tail=null,this.compare=P}return C.prototype.prepend=function(P){var b=new o(P,this.head);return this.head=b,this.tail||(this.tail=b),this},C.prototype.append=function(P){var b=new o(P);return this.head?(this.tail.next=b,this.tail=b,this):(this.head=b,this.tail=b,this)},C.prototype.delete=function(P){if(!this.head)return null;for(var b=null;this.head&&this.compare(this.head.value,P);)b=this.head,this.head=this.head.next;var S=this.head;if(S!==null)for(;S.next;)this.compare(S.next.value,P)?(b=S.next,S.next=S.next.next):S=S.next;return this.compare(this.tail.value,P)&&(this.tail=S),b},C.prototype.find=function(P){var b=P.value,S=b===void 0?void 0:b,y=P.callback,E=y===void 0?void 0:y;if(!this.head)return null;for(var m=this.head;m;){if(E&&E(m.value)||S!==void 0&&this.compare(m.value,S))return m;m=m.next}return null},C.prototype.deleteTail=function(){var P=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,P;for(var b=this.head;b.next;)b.next.next?b=b.next:b.next=null;return this.tail=b,P},C.prototype.deleteHead=function(){if(!this.head)return null;var P=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),P},C.prototype.fromArray=function(P){var b=this;return P.forEach(function(S){return b.append(S)}),this},C.prototype.toArray=function(){for(var P=[],b=this.head;b;)P.push(b),b=b.next;return P},C.prototype.reverse=function(){for(var P=this.head,b=null,S=null;P;)S=P.next,P.next=b,b=P,P=S;this.tail=this.head,this.head=b},C.prototype.toString=function(P){return P===void 0&&(P=void 0),this.toArray().map(function(b){return b.toString(P)}).toString()},C}(),O=x;A.default=O},"2h0J":function(jt,A,a){"use strict";a.d(A,"a",function(){return S});var f=a("CMID"),o=a("tqeG"),x=a("vHs8"),O=a("5B5S"),C=a("nHjW"),P=Object(C.c)({},o.b.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),b=a("KtUI"),S=function(y){Object(f.__extends)(E,y);function E(){var m=y!==null&&y.apply(this,arguments)||this;return m.type="bar",m}return E.getDefaultOptions=function(){return P},E.prototype.changeData=function(m){this.updateOption({data:m});var T=this,L=T.chart,g=T.options,j=g.xField,U=g.yField,W=g.isPercent,z=Object(f.__assign)(Object(f.__assign)({},g),{xField:U,yField:j});Object(O.b)({chart:L,options:z}),L.changeData(Object(x.a)(Object(b.a)(m),j,U,j,W))},E.prototype.getDefaultOptions=function(){return E.getDefaultOptions()},E.prototype.getSchemaAdaptor=function(){return O.a},E}(o.b)},"2l0P":function(jt,A,a){"use strict";a.d(A,"b",function(){return o}),a.d(A,"a",function(){return x});var f=a("jg4I");function o(O){if(Object(f.isNumber)(O))return[O,O,O,O];if(Object(f.isArray)(O)){var C=O.length;if(C===1)return[O[0],O[0],O[0],O[0]];if(C===2)return[O[0],O[1],O[0],O[1]];if(C===3)return[O[0],O[1],O[2],O[1]];if(C===4)return O}return[0,0,0,0]}function x(O,C,P){C===void 0&&(C="bottom"),P===void 0&&(P=25);var b=o(O),S=[C.startsWith("top")?P:0,C.startsWith("right")?P:0,C.startsWith("bottom")?P:0,C.startsWith("left")?P:0];return[b[0]+S[0],b[1]+S[1],b[2]+S[2],b[3]+S[3]]}},"2vMh":function(jt,A,a){var f=a("S8CN"),o=a("+D6J"),x=a("tqoU");function O(C,P,b){return P===P?x(C,P,b):f(C,o,b)}jt.exports=O},"319k":function(jt,A,a){"use strict";var f=a("JUmX");Object(f.registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},"3Euq":function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=a("jg4I"),o={locale:"en-US"};function x(O){Object(f.each)(O,function(C,P){return o[P]=C})}},"3FqU":function(jt,A,a){var f=a("TJOf"),o=a("TpDJ");function x(O,C,P){(P!==void 0&&!o(O[C],P)||P===void 0&&!(C in O))&&f(O,C,P)}jt.exports=x},"3MnI":function(jt,A,a){var f=a("ql+n");jt.exports=o,o.CycleException=x;function o(O){var C={},P={},b=[];function S(y){if(f.has(P,y))throw new x;f.has(C,y)||(P[y]=!0,C[y]=!0,f.each(O.predecessors(y),S),delete P[y],b.push(y))}if(f.each(O.sinks(),S),f.size(C)!==O.nodeCount())throw new x;return b}function x(){}x.prototype=new Error},"3RHZ":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.QueryableString=void 0;var f=function(){function o(x){this.str=x}return o.prototype.startsWith=function(x){return this.str.indexOf(x)===0},o.prototype.endsWith=function(x){var O="",C=x.split("").reverse().join("");return O=this.str.split("").reverse().join(""),this.startsWith.call({str:O},C)},o.prototype.contains=function(x){return this.str.indexOf(x)!==-1},o.prototype.equals=function(x){return this.str===x},o.prototype.value=function(){return this.str},o}();A.QueryableString=f},"3f1o":function(jt,A,a){var f=a("spfM"),o=a("xOgS"),x=a("R3oX"),O=a("hQ5t"),C=a("8ifL"),P=a("+Gi7"),b=a("lDzS"),S=a("wmqP"),y=a("E5vS"),E=a("lOrw");function m(T,L,g){var j=P(T),U=j||b(T)||E(T);if(L=O(L,4),g==null){var W=T&&T.constructor;U?g=j?new W:[]:y(T)?g=S(W)?o(C(T)):{}:g={}}return(U?f:x)(T,function(z,N,I){return L(g,z,N,I)}),g}jt.exports=m},"3k0L":function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"d",function(){return o}),a.d(A,"b",function(){return x}),a.d(A,"c",function(){return O});var f=0,o=1/2,x=1/2,O=.05},"3lbB":function(jt,A,a){"use strict";a.d(A,"a",function(){return Q});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("N2cT"),C=a("8DqP"),P=a("nD2R"),b=a("nHjW"),S="$$yField$$",y="$$diffField$$",E="$$absoluteField$$",m="$$isTotal$$",T={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function L(K,_,Y,q,ot){var ft,ct=[];if(Object(x.reduce)(K,function(gt,Et){var Gt;Object(b.p)(b.a.WARN,Object(x.isNumber)(Et[Y]),Et[Y]+" is not a valid number");var Yt=Object(x.isUndefined)(Et[Y])?null:Et[Y];return ct.push(Object(f.__assign)(Object(f.__assign)({},Et),(Gt={},Gt[q]=[gt,gt+Yt],Gt))),gt+Yt},0),ct.length&&ot){var rt=Object(x.get)(ct,[[K.length-1],q,[1]]);ct.push((ft={},ft[_]=ot.label,ft[Y]=rt,ft[q]=[0,rt],ft))}return ct}function g(K,_,Y,q){var ot=L(K,_,Y,S,q);return ot.map(function(ft,ct){var rt;return Object(x.isObject)(ft)?Object(f.__assign)(Object(f.__assign)({},ft),(rt={},rt[E]=ft[S][1],rt[y]=ft[S][1]-ft[S][0],rt[m]=ct===K.length,rt)):ft})}var j=a("JUmX");function U(K){for(var _=[],Y=0;Y<K.length;Y++){var q=K[Y];if(q){var ot=Y===0?"M":"L";_.push([ot,q.x,q.y])}}var ft=K[0];return _.push(["L",ft.x,ft.y]),_.push(["z"]),_}function W(K){return Object(b.c)({},K.defaultStyle,K.style,{fill:K.color})}Object(j.registerShape)("interval","waterfall",{draw:function(_,Y){var q=_.customInfo,ot=_.points,ft=_.nextPoints,ct=Y.addGroup(),rt=this.parsePath(U(ot)),gt=W(_);ct.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},gt),{path:rt})});var Et=Object(x.get)(q,"leaderLine");if(Et&&ft){var Gt=[["M",ot[2].x,ot[2].y],["L",ft[0].x,ft[0].y]];ot[2].y===ft[1].y&&(Gt[1]=["L",ft[1].x,ft[1].y]),Gt=this.parsePath(Gt),ct.addShape("path",{attrs:Object(f.__assign)({path:Gt},Et.style||{})})}return ct}});function z(K){var _=K.options,Y=_.locale,q=_.total,ot=Object(P.a)(Y).get(["waterfall","total"]);return q&&typeof q.label!="string"&&ot&&(K.options.total.label=ot),K}function N(K){var _=K.chart,Y=K.options,q=Y.data,ot=Y.xField,ft=Y.yField,ct=Y.total,rt=Y.leaderLine,gt=Y.columnWidthRatio,Et=Y.waterfallStyle,Gt=Y.risingFill,Yt=Y.fallingFill,Xt=Y.color;_.data(g(q,ot,ft,ct));var vt=Xt||function(lt){return Object(x.get)(lt,[m])?Object(x.get)(ct,["style","fill"],""):Object(x.get)(lt,[S,1])-Object(x.get)(lt,[S,0])>0?Gt:Yt},mt=Object(b.c)({},K,{options:{xField:ot,yField:S,seriesField:ot,rawFields:[ft,y,m,S],widthRatio:gt,interval:{style:Et,shape:"waterfall",color:vt}}}),ut=Object(C.c)(mt).ext,st=ut.geometry;return st.customInfo({leaderLine:rt}),K}function I(K){var _,Y,q=K.options,ot=q.xAxis,ft=q.yAxis,ct=q.xField,rt=q.yField,gt=q.meta,Et=Object(b.c)({},{alias:rt},Object(x.get)(gt,rt));return Object(b.f)(Object(O.f)((_={},_[ct]=ot,_[rt]=ft,_[S]=ft,_),Object(b.c)({},gt,(Y={},Y[S]=Et,Y[y]=Et,Y[E]=Et,Y))))(K)}function B(K){var _=K.chart,Y=K.options,q=Y.xAxis,ot=Y.yAxis,ft=Y.xField,ct=Y.yField;return q===!1?_.axis(ft,!1):_.axis(ft,q),ot===!1?(_.axis(ct,!1),_.axis(S,!1)):(_.axis(ct,ot),_.axis(S,ot)),K}function G(K){var _=K.chart,Y=K.options,q=Y.legend,ot=Y.total,ft=Y.risingFill,ct=Y.fallingFill,rt=Y.locale,gt=Object(P.a)(rt);if(q===!1)_.legend(!1);else{var Et=[{name:gt.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:ft}}},{name:gt.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:ct}}}];ot&&Et.push({name:ot.label||"",value:"total",marker:{symbol:"square",style:Object(b.c)({},{r:5},Object(x.get)(ot,"style"))}}),_.legend(Object(b.c)({},{custom:!0,position:"top",items:Et},q)),_.removeInteraction("legend-filter")}return K}function k(K){var _=K.chart,Y=K.options,q=Y.label,ot=Y.labelMode,ft=Y.xField,ct=Object(b.d)(_,"interval");if(!q)ct.label(!1);else{var rt=q.callback,gt=Object(f.__rest)(q,["callback"]);ct.label({fields:ot==="absolute"?[E,ft]:[y,ft],callback:rt,cfg:Object(b.w)(gt)})}return K}function V(K){var _=K.chart,Y=K.options,q=Y.tooltip,ot=Y.xField,ft=Y.yField;if(q!==!1){_.tooltip(Object(f.__assign)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[ft]},q));var ct=_.geometries[0];(q==null?void 0:q.formatter)?ct.tooltip(ot+"*"+ft,q.formatter):ct.tooltip(ft)}else _.tooltip(!1);return K}function tt(K){return Object(b.f)(z,O.j,N,I,B,G,V,k,O.i,O.c,O.a,Object(O.b)())(K)}var Q=function(K){Object(f.__extends)(_,K);function _(){var Y=K!==null&&K.apply(this,arguments)||this;return Y.type="waterfall",Y}return _.getDefaultOptions=function(){return T},_.prototype.changeData=function(Y){var q=this.options,ot=q.xField,ft=q.yField,ct=q.total;this.updateOption({data:Y}),this.chart.changeData(g(Y,ot,ft,ct))},_.prototype.getSchemaAdaptor=function(){return tt},_.prototype.getDefaultOptions=function(){return _.getDefaultOptions()},_}(o.b)},"3qqr":function(jt,A,a){var f=a("YKhI");function o(x,O,C){for(var P=-1,b=x.criteria,S=O.criteria,y=b.length,E=C.length;++P<y;){var m=f(b[P],S[P]);if(m){if(P>=E)return m;var T=C[P];return m*(T=="desc"?-1:1)}}return x.index-O.index}jt.exports=o},"3sqG":function(jt,A,a){"use strict";a.r(A),a.d(A,"cluster",function(){return S}),a.d(A,"hierarchy",function(){return y.c}),a.d(A,"pack",function(){return q}),a.d(A,"packSiblings",function(){return Q}),a.d(A,"packEnclose",function(){return T}),a.d(A,"partition",function(){return rt.a}),a.d(A,"stratify",function(){return Xt}),a.d(A,"tree",function(){return H}),a.d(A,"treemap",function(){return pt.a}),a.d(A,"treemapBinary",function(){return nt}),a.d(A,"treemapDice",function(){return yt.a}),a.d(A,"treemapSlice",function(){return Pt.a}),a.d(A,"treemapSliceDice",function(){return Rt}),a.d(A,"treemapSquarify",function(){return Wt.a}),a.d(A,"treemapResquarify",function(){return Vt});function f(Lt,Ct){return Lt.parent===Ct.parent?1:2}function o(Lt){return Lt.reduce(x,0)/Lt.length}function x(Lt,Ct){return Lt+Ct.x}function O(Lt){return 1+Lt.reduce(C,0)}function C(Lt,Ct){return Math.max(Lt,Ct.y)}function P(Lt){for(var Ct;Ct=Lt.children;)Lt=Ct[0];return Lt}function b(Lt){for(var Ct;Ct=Lt.children;)Lt=Ct[Ct.length-1];return Lt}var S=function(){var Lt=f,Ct=1,at=1,It=!1;function Ft(xt){var Nt,Ht=0;xt.eachAfter(function(ge){var Ce=ge.children;Ce?(ge.x=o(Ce),ge.y=O(Ce)):(ge.x=Nt?Ht+=Lt(ge,Nt):0,ge.y=0,Nt=ge)});var Bt=P(xt),Ut=b(xt),Jt=Bt.x-Lt(Bt,Ut)/2,oe=Ut.x+Lt(Ut,Bt)/2;return xt.eachAfter(It?function(ge){ge.x=(ge.x-xt.x)*Ct,ge.y=(xt.y-ge.y)*at}:function(ge){ge.x=(ge.x-Jt)/(oe-Jt)*Ct,ge.y=(1-(xt.y?ge.y/xt.y:1))*at})}return Ft.separation=function(xt){return arguments.length?(Lt=xt,Ft):Lt},Ft.size=function(xt){return arguments.length?(It=!1,Ct=+xt[0],at=+xt[1],Ft):It?null:[Ct,at]},Ft.nodeSize=function(xt){return arguments.length?(It=!0,Ct=+xt[0],at=+xt[1],Ft):It?[Ct,at]:null},Ft},y=a("M1/f"),E=function(Lt){return typeof Lt=="object"&&"length"in Lt?Lt:Array.from(Lt)};function m(Lt){for(var Ct=Lt.length,at,It;Ct;)It=Math.random()*Ct--|0,at=Lt[Ct],Lt[Ct]=Lt[It],Lt[It]=at;return Lt}var T=function(Lt){for(var Ct=0,at=(Lt=m(Array.from(Lt))).length,It=[],Ft,xt;Ct<at;)Ft=Lt[Ct],xt&&j(xt,Ft)?++Ct:(xt=W(It=L(It,Ft)),Ct=0);return xt};function L(Lt,Ct){var at,It;if(U(Ct,Lt))return[Ct];for(at=0;at<Lt.length;++at)if(g(Ct,Lt[at])&&U(N(Lt[at],Ct),Lt))return[Lt[at],Ct];for(at=0;at<Lt.length-1;++at)for(It=at+1;It<Lt.length;++It)if(g(N(Lt[at],Lt[It]),Ct)&&g(N(Lt[at],Ct),Lt[It])&&g(N(Lt[It],Ct),Lt[at])&&U(I(Lt[at],Lt[It],Ct),Lt))return[Lt[at],Lt[It],Ct];throw new Error}function g(Lt,Ct){var at=Lt.r-Ct.r,It=Ct.x-Lt.x,Ft=Ct.y-Lt.y;return at<0||at*at<It*It+Ft*Ft}function j(Lt,Ct){var at=Lt.r-Ct.r+Math.max(Lt.r,Ct.r,1)*1e-9,It=Ct.x-Lt.x,Ft=Ct.y-Lt.y;return at>0&&at*at>It*It+Ft*Ft}function U(Lt,Ct){for(var at=0;at<Ct.length;++at)if(!j(Lt,Ct[at]))return!1;return!0}function W(Lt){switch(Lt.length){case 1:return z(Lt[0]);case 2:return N(Lt[0],Lt[1]);case 3:return I(Lt[0],Lt[1],Lt[2])}}function z(Lt){return{x:Lt.x,y:Lt.y,r:Lt.r}}function N(Lt,Ct){var at=Lt.x,It=Lt.y,Ft=Lt.r,xt=Ct.x,Nt=Ct.y,Ht=Ct.r,Bt=xt-at,Ut=Nt-It,Jt=Ht-Ft,oe=Math.sqrt(Bt*Bt+Ut*Ut);return{x:(at+xt+Bt/oe*Jt)/2,y:(It+Nt+Ut/oe*Jt)/2,r:(oe+Ft+Ht)/2}}function I(Lt,Ct,at){var It=Lt.x,Ft=Lt.y,xt=Lt.r,Nt=Ct.x,Ht=Ct.y,Bt=Ct.r,Ut=at.x,Jt=at.y,oe=at.r,ge=It-Nt,Ce=It-Ut,Ie=Ft-Ht,We=Ft-Jt,lr=Bt-xt,rr=oe-xt,$e=It*It+Ft*Ft-xt*xt,Ue=$e-Nt*Nt-Ht*Ht+Bt*Bt,ir=$e-Ut*Ut-Jt*Jt+oe*oe,xr=Ce*Ie-ge*We,nr=(Ie*ir-We*Ue)/(xr*2)-It,tn=(We*lr-Ie*rr)/xr,bn=(Ce*Ue-ge*ir)/(xr*2)-Ft,Ur=(ge*rr-Ce*lr)/xr,Le=tn*tn+Ur*Ur-1,or=2*(xt+nr*tn+bn*Ur),Gr=nr*nr+bn*bn-xt*xt,Kr=-(Le?(or+Math.sqrt(or*or-4*Le*Gr))/(2*Le):Gr/or);return{x:It+nr+tn*Kr,y:Ft+bn+Ur*Kr,r:Kr}}function B(Lt,Ct,at){var It=Lt.x-Ct.x,Ft,xt,Nt=Lt.y-Ct.y,Ht,Bt,Ut=It*It+Nt*Nt;Ut?(xt=Ct.r+at.r,xt*=xt,Bt=Lt.r+at.r,Bt*=Bt,xt>Bt?(Ft=(Ut+Bt-xt)/(2*Ut),Ht=Math.sqrt(Math.max(0,Bt/Ut-Ft*Ft)),at.x=Lt.x-Ft*It-Ht*Nt,at.y=Lt.y-Ft*Nt+Ht*It):(Ft=(Ut+xt-Bt)/(2*Ut),Ht=Math.sqrt(Math.max(0,xt/Ut-Ft*Ft)),at.x=Ct.x+Ft*It-Ht*Nt,at.y=Ct.y+Ft*Nt+Ht*It)):(at.x=Ct.x+at.r,at.y=Ct.y)}function G(Lt,Ct){var at=Lt.r+Ct.r-1e-6,It=Ct.x-Lt.x,Ft=Ct.y-Lt.y;return at>0&&at*at>It*It+Ft*Ft}function k(Lt){var Ct=Lt._,at=Lt.next._,It=Ct.r+at.r,Ft=(Ct.x*at.r+at.x*Ct.r)/It,xt=(Ct.y*at.r+at.y*Ct.r)/It;return Ft*Ft+xt*xt}function V(Lt){this._=Lt,this.next=null,this.previous=null}function tt(Lt){if(!(Ft=(Lt=E(Lt)).length))return 0;var Ct,at,It,Ft,xt,Nt,Ht,Bt,Ut,Jt,oe;if(Ct=Lt[0],Ct.x=0,Ct.y=0,!(Ft>1))return Ct.r;if(at=Lt[1],Ct.x=-at.r,at.x=Ct.r,at.y=0,!(Ft>2))return Ct.r+at.r;B(at,Ct,It=Lt[2]),Ct=new V(Ct),at=new V(at),It=new V(It),Ct.next=It.previous=at,at.next=Ct.previous=It,It.next=at.previous=Ct;t:for(Ht=3;Ht<Ft;++Ht){B(Ct._,at._,It=Lt[Ht]),It=new V(It),Bt=at.next,Ut=Ct.previous,Jt=at._.r,oe=Ct._.r;do if(Jt<=oe){if(G(Bt._,It._)){at=Bt,Ct.next=at,at.previous=Ct,--Ht;continue t}Jt+=Bt._.r,Bt=Bt.next}else{if(G(Ut._,It._)){Ct=Ut,Ct.next=at,at.previous=Ct,--Ht;continue t}oe+=Ut._.r,Ut=Ut.previous}while(Bt!==Ut.next);for(It.previous=Ct,It.next=at,Ct.next=at.previous=at=It,xt=k(Ct);(It=It.next)!==at;)(Nt=k(It))<xt&&(Ct=It,xt=Nt);at=Ct.next}for(Ct=[at._],It=at;(It=It.next)!==at;)Ct.push(It._);for(It=T(Ct),Ht=0;Ht<Ft;++Ht)Ct=Lt[Ht],Ct.x-=It.x,Ct.y-=It.y;return It.r}var Q=function(Lt){return tt(Lt),Lt},K=a("gPRb"),_=a("aOLp");function Y(Lt){return Math.sqrt(Lt.value)}var q=function(){var Lt=null,Ct=1,at=1,It=_.a;function Ft(xt){return xt.x=Ct/2,xt.y=at/2,Lt?xt.eachBefore(ot(Lt)).eachAfter(ft(It,.5)).eachBefore(ct(1)):xt.eachBefore(ot(Y)).eachAfter(ft(_.a,1)).eachAfter(ft(It,xt.r/Math.min(Ct,at))).eachBefore(ct(Math.min(Ct,at)/(2*xt.r))),xt}return Ft.radius=function(xt){return arguments.length?(Lt=Object(K.a)(xt),Ft):Lt},Ft.size=function(xt){return arguments.length?(Ct=+xt[0],at=+xt[1],Ft):[Ct,at]},Ft.padding=function(xt){return arguments.length?(It=typeof xt=="function"?xt:Object(_.b)(+xt),Ft):It},Ft};function ot(Lt){return function(Ct){Ct.children||(Ct.r=Math.max(0,+Lt(Ct)||0))}}function ft(Lt,Ct){return function(at){if(It=at.children){var It,Ft,xt=It.length,Nt=Lt(at)*Ct||0,Ht;if(Nt)for(Ft=0;Ft<xt;++Ft)It[Ft].r+=Nt;if(Ht=tt(It),Nt)for(Ft=0;Ft<xt;++Ft)It[Ft].r-=Nt;at.r=Ht+Nt}}}function ct(Lt){return function(Ct){var at=Ct.parent;Ct.r*=Lt,at&&(Ct.x=at.x+Lt*Ct.x,Ct.y=at.y+Lt*Ct.y)}}var rt=a("W7Gi"),gt={depth:-1},Et={};function Gt(Lt){return Lt.id}function Yt(Lt){return Lt.parentId}var Xt=function(){var Lt=Gt,Ct=Yt;function at(It){var Ft=Array.from(It),xt=Ft.length,Nt,Ht,Bt,Ut,Jt,oe,ge,Ce=new Map;for(Ht=0;Ht<xt;++Ht)Nt=Ft[Ht],Jt=Ft[Ht]=new y.a(Nt),(oe=Lt(Nt,Ht,It))!=null&&(oe+="")&&(ge=Jt.id=oe,Ce.set(ge,Ce.has(ge)?Et:Jt)),(oe=Ct(Nt,Ht,It))!=null&&(oe+="")&&(Jt.parent=oe);for(Ht=0;Ht<xt;++Ht)if(Jt=Ft[Ht],oe=Jt.parent){if(Ut=Ce.get(oe),!Ut)throw new Error("missing: "+oe);if(Ut===Et)throw new Error("ambiguous: "+oe);Ut.children?Ut.children.push(Jt):Ut.children=[Jt],Jt.parent=Ut}else{if(Bt)throw new Error("multiple roots");Bt=Jt}if(!Bt)throw new Error("no root");if(Bt.parent=gt,Bt.eachBefore(function(Ie){Ie.depth=Ie.parent.depth+1,--xt}).eachBefore(y.b),Bt.parent=null,xt>0)throw new Error("cycle");return Bt}return at.id=function(It){return arguments.length?(Lt=Object(K.b)(It),at):Lt},at.parentId=function(It){return arguments.length?(Ct=Object(K.b)(It),at):Ct},at};function vt(Lt,Ct){return Lt.parent===Ct.parent?1:2}function mt(Lt){var Ct=Lt.children;return Ct?Ct[0]:Lt.t}function ut(Lt){var Ct=Lt.children;return Ct?Ct[Ct.length-1]:Lt.t}function st(Lt,Ct,at){var It=at/(Ct.i-Lt.i);Ct.c-=It,Ct.s+=at,Lt.c+=It,Ct.z+=at,Ct.m+=at}function lt(Lt){for(var Ct=0,at=0,It=Lt.children,Ft=It.length,xt;--Ft>=0;)xt=It[Ft],xt.z+=Ct,xt.m+=Ct,Ct+=xt.s+(at+=xt.c)}function Tt(Lt,Ct,at){return Lt.a.parent===Ct.parent?Lt.a:at}function Ot(Lt,Ct){this._=Lt,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ct}Ot.prototype=Object.create(y.a.prototype);function et(Lt){for(var Ct=new Ot(Lt,0),at,It=[Ct],Ft,xt,Nt,Ht;at=It.pop();)if(xt=at._.children)for(at.children=new Array(Ht=xt.length),Nt=Ht-1;Nt>=0;--Nt)It.push(Ft=at.children[Nt]=new Ot(xt[Nt],Nt)),Ft.parent=at;return(Ct.parent=new Ot(null,0)).children=[Ct],Ct}var H=function(){var Lt=vt,Ct=1,at=1,It=null;function Ft(Ut){var Jt=et(Ut);if(Jt.eachAfter(xt),Jt.parent.m=-Jt.z,Jt.eachBefore(Nt),It)Ut.eachBefore(Bt);else{var oe=Ut,ge=Ut,Ce=Ut;Ut.eachBefore(function($e){$e.x<oe.x&&(oe=$e),$e.x>ge.x&&(ge=$e),$e.depth>Ce.depth&&(Ce=$e)});var Ie=oe===ge?1:Lt(oe,ge)/2,We=Ie-oe.x,lr=Ct/(ge.x+Ie+We),rr=at/(Ce.depth||1);Ut.eachBefore(function($e){$e.x=($e.x+We)*lr,$e.y=$e.depth*rr})}return Ut}function xt(Ut){var Jt=Ut.children,oe=Ut.parent.children,ge=Ut.i?oe[Ut.i-1]:null;if(Jt){lt(Ut);var Ce=(Jt[0].z+Jt[Jt.length-1].z)/2;ge?(Ut.z=ge.z+Lt(Ut._,ge._),Ut.m=Ut.z-Ce):Ut.z=Ce}else ge&&(Ut.z=ge.z+Lt(Ut._,ge._));Ut.parent.A=Ht(Ut,ge,Ut.parent.A||oe[0])}function Nt(Ut){Ut._.x=Ut.z+Ut.parent.m,Ut.m+=Ut.parent.m}function Ht(Ut,Jt,oe){if(Jt){for(var ge=Ut,Ce=Ut,Ie=Jt,We=ge.parent.children[0],lr=ge.m,rr=Ce.m,$e=Ie.m,Ue=We.m,ir;Ie=ut(Ie),ge=mt(ge),Ie&&ge;)We=mt(We),Ce=ut(Ce),Ce.a=Ut,ir=Ie.z+$e-ge.z-lr+Lt(Ie._,ge._),ir>0&&(st(Tt(Ie,Ut,oe),Ut,ir),lr+=ir,rr+=ir),$e+=Ie.m,lr+=ge.m,Ue+=We.m,rr+=Ce.m;Ie&&!ut(Ce)&&(Ce.t=Ie,Ce.m+=$e-rr),ge&&!mt(We)&&(We.t=ge,We.m+=lr-Ue,oe=Ut)}return oe}function Bt(Ut){Ut.x*=Ct,Ut.y=Ut.depth*at}return Ft.separation=function(Ut){return arguments.length?(Lt=Ut,Ft):Lt},Ft.size=function(Ut){return arguments.length?(It=!1,Ct=+Ut[0],at=+Ut[1],Ft):It?null:[Ct,at]},Ft.nodeSize=function(Ut){return arguments.length?(It=!0,Ct=+Ut[0],at=+Ut[1],Ft):It?[Ct,at]:null},Ft},pt=a("oS5r"),nt=function(Lt,Ct,at,It,Ft){var xt=Lt.children,Nt,Ht=xt.length,Bt,Ut=new Array(Ht+1);for(Ut[0]=Bt=Nt=0;Nt<Ht;++Nt)Ut[Nt+1]=Bt+=xt[Nt].value;Jt(0,Ht,Lt.value,Ct,at,It,Ft);function Jt(oe,ge,Ce,Ie,We,lr,rr){if(oe>=ge-1){var $e=xt[oe];$e.x0=Ie,$e.y0=We,$e.x1=lr,$e.y1=rr;return}for(var Ue=Ut[oe],ir=Ce/2+Ue,xr=oe+1,nr=ge-1;xr<nr;){var tn=xr+nr>>>1;Ut[tn]<ir?xr=tn+1:nr=tn}ir-Ut[xr-1]<Ut[xr]-ir&&oe+1<xr&&--xr;var bn=Ut[xr]-Ue,Ur=Ce-bn;if(lr-Ie>rr-We){var Le=Ce?(Ie*Ur+lr*bn)/Ce:lr;Jt(oe,xr,bn,Ie,We,Le,rr),Jt(xr,ge,Ur,Le,We,lr,rr)}else{var or=Ce?(We*Ur+rr*bn)/Ce:rr;Jt(oe,xr,bn,Ie,We,lr,or),Jt(xr,ge,Ur,Ie,or,lr,rr)}}},yt=a("EbMC"),Pt=a("WKd7"),Rt=function(Lt,Ct,at,It,Ft){(Lt.depth&1?Pt.a:yt.a)(Lt,Ct,at,It,Ft)},Wt=a("Od3v"),Vt=function Lt(Ct){function at(It,Ft,xt,Nt,Ht){if((Bt=It._squarify)&&Bt.ratio===Ct)for(var Bt,Ut,Jt,oe,ge=-1,Ce,Ie=Bt.length,We=It.value;++ge<Ie;){for(Ut=Bt[ge],Jt=Ut.children,oe=Ut.value=0,Ce=Jt.length;oe<Ce;++oe)Ut.value+=Jt[oe].value;Ut.dice?Object(yt.a)(Ut,Ft,xt,Nt,We?xt+=(Ht-xt)*Ut.value/We:Ht):Object(Pt.a)(Ut,Ft,xt,We?Ft+=(Nt-Ft)*Ut.value/We:Nt,Ht),We-=Ut.value}else It._squarify=Bt=Object(Wt.c)(Ct,It,Ft,xt,Nt,Ht),Bt.ratio=Ct}return at.ratio=function(It){return Lt((It=+It)>1?It:1)},at}(Wt.b)},"3zSj":function(jt,A){jt.exports=a;function a(f,o,x){var O=o[0]*o[0]+o[1]*o[1];if(O>x*x){var C=Math.sqrt(O);f[0]=o[0]/C*x,f[1]=o[1]/C*x}else f[0]=o[0],f[1]=o[1];return f}},"40+6":function(jt,A,a){"use strict";a.d(A,"a",function(){return x});var f=new Map;function o(I,B){f.set(I,B)}function x(I){return f.get(I)}var O=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.width,tt=B.height;return{x:G,y:k,width:V,height:tt}},C=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.r;return{x:G-V,y:k-V,width:V*2,height:V*2}},P=a("9pBU");function b(I,B){return!I||!B?I||B:{minX:Math.min(I.minX,B.minX),minY:Math.min(I.minY,B.minY),maxX:Math.max(I.maxX,B.maxX),maxY:Math.max(I.maxY,B.maxY)}}function S(I,B){var G=I.get("startArrowShape"),k=I.get("endArrowShape"),V=null,tt=null;return G&&(V=G.getCanvasBBox(),B=b(B,V)),k&&(tt=k.getCanvasBBox(),B=b(B,tt)),B}var y=function(I){for(var B=I.attr(),G=B.points,k=[],V=[],tt=0;tt<G.length;tt++){var Q=G[tt];k.push(Q[0]),V.push(Q[1])}var K=P.f.getBBoxByArray(k,V),_=K.x,Y=K.y,q=K.width,ot=K.height,ft={minX:_,minY:Y,maxX:_+q,maxY:Y+ot};return ft=S(I,ft),{x:ft.minX,y:ft.minY,width:ft.maxX-ft.minX,height:ft.maxY-ft.minY}},E=function(I){for(var B=I.attr(),G=B.points,k=[],V=[],tt=0;tt<G.length;tt++){var Q=G[tt];k.push(Q[0]),V.push(Q[1])}return P.f.getBBoxByArray(k,V)},m=a("DBqA"),T=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.text,tt=B.fontSize,Q=B.lineHeight,K=B.font;K||(K=Object(m.a)(B));var _=Object(m.c)(V,K),Y;if(!_)Y={x:G,y:k,width:0,height:0};else{var q=B.textAlign,ot=B.textBaseline,ft=Object(m.b)(V,tt,Q),ct={x:G,y:k-ft};q&&(q==="end"||q==="right"?ct.x-=_:q==="center"&&(ct.x-=_/2)),ot&&(ot==="top"?ct.y+=ft:ot==="middle"&&(ct.y+=ft/2)),Y={x:ct.x,y:ct.y,width:_,height:ft}}return Y},L=a("WOt1"),g=a("jg4I");function j(I,B){for(var G=[],k=[],V=[],tt=0;tt<I.length;tt++){var Q=I[tt],K=Q.currentPoint,_=Q.params,Y=Q.prePoint,q=void 0;switch(Q.command){case"Q":q=P.e.box(Y[0],Y[1],_[1],_[2],_[3],_[4]);break;case"C":q=P.b.box(Y[0],Y[1],_[1],_[2],_[3],_[4],_[5],_[6]);break;case"A":var ot=Q.arcParams;q=P.a.box(ot.cx,ot.cy,ot.rx,ot.ry,ot.xRotation,ot.startAngle,ot.endAngle);break;default:G.push(K[0]),k.push(K[1]);break}q&&(Q.box=q,G.push(q.x,q.x+q.width),k.push(q.y,q.y+q.height)),B&&(Q.command==="L"||Q.command==="M")&&Q.prePoint&&Q.nextPoint&&V.push(Q)}G=G.filter(function(Gt){return!Number.isNaN(Gt)}),k=k.filter(function(Gt){return!Number.isNaN(Gt)});var ft=Object(g.min)(G),ct=Object(g.min)(k),rt=Object(g.max)(G),gt=Object(g.max)(k);if(V.length===0)return{x:ft,y:ct,width:rt-ft,height:gt-ct};for(var tt=0;tt<V.length;tt++){var Q=V[tt],K=Q.currentPoint,Et=void 0;K[0]===ft?(Et=U(Q,B),ft=ft-Et.xExtra):K[0]===rt&&(Et=U(Q,B),rt=rt+Et.xExtra),K[1]===ct?(Et=U(Q,B),ct=ct-Et.yExtra):K[1]===gt&&(Et=U(Q,B),gt=gt+Et.yExtra)}return{x:ft,y:ct,width:rt-ft,height:gt-ct}}function U(I,B){var G=I.prePoint,k=I.currentPoint,V=I.nextPoint,tt=Math.pow(k[0]-G[0],2)+Math.pow(k[1]-G[1],2),Q=Math.pow(k[0]-V[0],2)+Math.pow(k[1]-V[1],2),K=Math.pow(G[0]-V[0],2)+Math.pow(G[1]-V[1],2),_=Math.acos((tt+Q-K)/(2*Math.sqrt(tt)*Math.sqrt(Q)));if(!_||Math.sin(_)===0||Object(g.isNumberEqual)(_,0))return{xExtra:0,yExtra:0};var Y=Math.abs(Math.atan2(V[1]-k[1],V[0]-k[0])),q=Math.abs(Math.atan2(V[0]-k[0],V[1]-k[1]));Y=Y>Math.PI/2?Math.PI-Y:Y,q=q>Math.PI/2?Math.PI-q:q;var ot={xExtra:Math.cos(_/2-Y)*(B/2*(1/Math.sin(_/2)))-B/2||0,yExtra:Math.cos(q-_/2)*(B/2*(1/Math.sin(_/2)))-B/2||0};return ot}var W=function(I){var B=I.attr(),G=B.path,k=B.stroke,V=k?B.lineWidth:0,tt=I.get("segments")||Object(L.e)(G),Q=j(tt,V),K=Q.x,_=Q.y,Y=Q.width,q=Q.height,ot={minX:K,minY:_,maxX:K+Y,maxY:_+q};return ot=S(I,ot),{x:ot.minX,y:ot.minY,width:ot.maxX-ot.minX,height:ot.maxY-ot.minY}},z=function(I){var B=I.attr(),G=B.x1,k=B.y1,V=B.x2,tt=B.y2,Q=Math.min(G,V),K=Math.max(G,V),_=Math.min(k,tt),Y=Math.max(k,tt),q={minX:Q,maxX:K,minY:_,maxY:Y};return q=S(I,q),{x:q.minX,y:q.minY,width:q.maxX-q.minX,height:q.maxY-q.minY}},N=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.rx,tt=B.ry;return{x:G-V,y:k-tt,width:V*2,height:tt*2}};o("rect",O),o("image",O),o("circle",C),o("marker",C),o("polyline",y),o("polygon",E),o("text",T),o("path",W),o("line",z),o("ellipse",N)},"43gi":function(jt,A,a){var f;try{f=a("lOIa")}catch(o){}f||(f=window.graphlib),jt.exports=f},"44Go":function(jt,A){jt.exports=a;function a(f,o){var x=new Float32Array(2);return x[0]=f,x[1]=o,x}},"4GfJ":function(jt,A,a){"use strict";a.r(A),a.d(A,"Base",function(){return P}),a.d(A,"Circle",function(){return y}),a.d(A,"Line",function(){return m});var f=a("CMID"),o=a("jg4I"),x=a("VZin"),O=a("qhN0"),C=function(T){Object(f.__extends)(L,T);function L(){return T!==null&&T.apply(this,arguments)||this}return L.prototype.getDefaultCfg=function(){var g=T.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},g),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:O.a.lineColor}}}})},L.prototype.getLineType=function(){var g=this.get("line")||this.get("defaultCfg").line;return g.type},L.prototype.renderInner=function(g){this.drawGrid(g)},L.prototype.getAlternatePath=function(g,j){var U=this.getGridPath(g),W=j.slice(0).reverse(),z=this.getGridPath(W,!0),N=this.get("closed");return N?U=U.concat(z):(z[0][0]="L",U=U.concat(z),U.push(["Z"])),U},L.prototype.getPathStyle=function(){return this.get("line").style},L.prototype.drawGrid=function(g){var j=this,U=this.get("line"),W=this.get("items"),z=this.get("alternateColor"),N=null;Object(o.each)(W,function(I,B){var G=I.id||B;if(U){var k=j.getPathStyle();k=Object(o.isFunction)(k)?k(I,B,W):k;var V=j.getElementId("line-"+G),tt=j.getGridPath(I.points);j.addShape(g,{type:"path",name:"grid-line",id:V,attrs:Object(o.mix)({path:tt},k)})}if(z&&B>0){var Q=j.getElementId("region-"+G),K=B%2==0;if(Object(o.isString)(z))K&&j.drawAlternateRegion(Q,g,N.points,I.points,z);else{var _=K?z[1]:z[0];j.drawAlternateRegion(Q,g,N.points,I.points,_)}}N=I})},L.prototype.drawAlternateRegion=function(g,j,U,W,z){var N=this.getAlternatePath(U,W);this.addShape(j,{type:"path",id:g,name:"grid-region",attrs:{path:N,fill:z}})},L}(x.a),P=C;function b(T,L,g,j){var U=g-T,W=j-L;return Math.sqrt(U*U+W*W)}var S=function(T){Object(f.__extends)(L,T);function L(){return T!==null&&T.apply(this,arguments)||this}return L.prototype.getDefaultCfg=function(){var g=T.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},g),{type:"circle",center:null,closed:!0})},L.prototype.getGridPath=function(g,j){var U=this.getLineType(),W=this.get("closed"),z=[];if(g.length)if(U==="circle"){var N=this.get("center"),I=g[0],B=b(N.x,N.y,I.x,I.y),G=j?0:1;W?(z.push(["M",N.x,N.y-B]),z.push(["A",B,B,0,0,G,N.x,N.y+B]),z.push(["A",B,B,0,0,G,N.x,N.y-B]),z.push(["Z"])):Object(o.each)(g,function(k,V){V===0?z.push(["M",k.x,k.y]):z.push(["A",B,B,0,0,G,k.x,k.y])})}else Object(o.each)(g,function(k,V){V===0?z.push(["M",k.x,k.y]):z.push(["L",k.x,k.y])}),W&&z.push(["Z"]);return z},L}(P),y=S,E=function(T){Object(f.__extends)(L,T);function L(){return T!==null&&T.apply(this,arguments)||this}return L.prototype.getDefaultCfg=function(){var g=T.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},g),{type:"line"})},L.prototype.getGridPath=function(g){var j=[];return Object(o.each)(g,function(U,W){W===0?j.push(["M",U.x,U.y]):j.push(["L",U.x,U.y])}),j},L}(P),m=E},"4OuL":function(jt,A){function a(f,o,x,O,C){var P={};return Object.keys(O).forEach(function(b){P[b]=O[b]}),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=x.slice().reverse().reduce(function(b,S){return S(f,o,b)||b},P),C&&P.initializer!==void 0&&(P.value=P.initializer?P.initializer.call(C):void 0,P.initializer=void 0),P.initializer===void 0&&(Object.defineProperty(f,o,P),P=null),P}jt.exports=a,jt.exports.default=jt.exports,jt.exports.__esModule=!0},"4Qiu":function(jt,A,a){"use strict";var f=a("CMID"),o=a("jg4I"),x=a("sxZn"),O=a("08EK"),C=a("RxlK"),P=a("OEJE"),b=x.a.transform,S="matrix",y=["zIndex","capture","visible","type"],E=["repeat"],m=":",T="*";function L(z){for(var N=[],I=0;I<z.length;I++)Object(o.isArray)(z[I])?N.push([].concat(z[I])):N.push(z[I]);return N}function g(z,N){var I={},B=N.attrs;for(var G in z)I[G]=B[G];return I}function j(z,N){var I={},B=N.attr();return Object(o.each)(z,function(G,k){E.indexOf(k)===-1&&!Object(o.isEqual)(B[k],G)&&(I[k]=G)}),I}function U(z,N){if(N.onFrame)return z;var I=N.startTime,B=N.delay,G=N.duration,k=Object.prototype.hasOwnProperty;return Object(o.each)(z,function(V){I+B<V.startTime+V.delay+V.duration&&G>V.delay&&Object(o.each)(N.toAttrs,function(tt,Q){k.call(V.toAttrs,Q)&&(delete V.toAttrs[Q],delete V.fromAttrs[Q])})}),z}var W=function(z){Object(f.__extends)(N,z);function N(I){var B=z.call(this,I)||this;B.attrs={};var G=B.getDefaultAttrs();return Object(o.mix)(G,I.attrs),B.attrs=G,B.initAttrs(G),B.initAnimate(),B}return N.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},N.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},N.prototype.onCanvasChange=function(I){},N.prototype.initAttrs=function(I){},N.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},N.prototype.isGroup=function(){return!1},N.prototype.getParent=function(){return this.get("parent")},N.prototype.getCanvas=function(){return this.get("canvas")},N.prototype.attr=function(){for(var I,B=[],G=0;G<arguments.length;G++)B[G]=arguments[G];var k=B[0],V=B[1];if(!k)return this.attrs;if(Object(o.isObject)(k)){for(var tt in k)this.setAttr(tt,k[tt]);return this.afterAttrsChange(k),this}return B.length===2?(this.setAttr(k,V),this.afterAttrsChange((I={},I[k]=V,I)),this):this.attrs[k]},N.prototype.isClipped=function(I,B){var G=this.getClip();return G&&!G.isHit(I,B)},N.prototype.setAttr=function(I,B){var G=this.attrs[I];G!==B&&(this.attrs[I]=B,this.onAttrChange(I,B,G))},N.prototype.onAttrChange=function(I,B,G){I==="matrix"&&this.set("totalMatrix",null)},N.prototype.afterAttrsChange=function(I){if(this.cfg.isClipShape){var B=this.cfg.applyTo;B&&B.onCanvasChange("clip")}else this.onCanvasChange("attr")},N.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},N.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},N.prototype.setZIndex=function(I){this.set("zIndex",I);var B=this.getParent();return B&&B.sort(),this},N.prototype.toFront=function(){var I=this.getParent();if(!!I){var B=I.getChildren(),G=this.get("el"),k=B.indexOf(this);B.splice(k,1),B.push(this),this.onCanvasChange("zIndex")}},N.prototype.toBack=function(){var I=this.getParent();if(!!I){var B=I.getChildren(),G=this.get("el"),k=B.indexOf(this);B.splice(k,1),B.unshift(this),this.onCanvasChange("zIndex")}},N.prototype.remove=function(I){I===void 0&&(I=!0);var B=this.getParent();B?(Object(O.j)(B.getChildren(),this),B.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),I&&this.destroy()},N.prototype.resetMatrix=function(){this.attr(S,this.getDefaultMatrix()),this.onCanvasChange("matrix")},N.prototype.getMatrix=function(){return this.attr(S)},N.prototype.setMatrix=function(I){this.attr(S,I),this.onCanvasChange("matrix")},N.prototype.getTotalMatrix=function(){var I=this.cfg.totalMatrix;if(!I){var B=this.attr("matrix"),G=this.cfg.parentMatrix;G&&B?I=Object(C.b)(G,B):I=B||G,this.set("totalMatrix",I)}return I},N.prototype.applyMatrix=function(I){var B=this.attr("matrix"),G=null;I&&B?G=Object(C.b)(I,B):G=B||I,this.set("totalMatrix",G),this.set("parentMatrix",I)},N.prototype.getDefaultMatrix=function(){return null},N.prototype.applyToMatrix=function(I){var B=this.attr("matrix");return B?Object(C.c)(B,I):I},N.prototype.invertFromMatrix=function(I){var B=this.attr("matrix");if(B){var G=Object(C.a)(B);if(G)return Object(C.c)(G,I)}return I},N.prototype.setClip=function(I){var B=this.getCanvas(),G=null;if(I){var k=this.getShapeBase(),V=Object(o.upperFirst)(I.type),tt=k[V];tt&&(G=new tt({type:I.type,isClipShape:!0,applyTo:this,attrs:I.attrs,canvas:B}))}return this.set("clipShape",G),this.onCanvasChange("clip"),G},N.prototype.getClip=function(){var I=this.cfg.clipShape;return I||null},N.prototype.clone=function(){var I=this,B=this.attrs,G={};Object(o.each)(B,function(tt,Q){Object(o.isArray)(B[Q])?G[Q]=L(B[Q]):G[Q]=B[Q]});var k=this.constructor,V=new k({attrs:G});return Object(o.each)(y,function(tt){V.set(tt,I.get(tt))}),V},N.prototype.destroy=function(){var I=this.destroyed;I||(this.attrs={},z.prototype.destroy.call(this))},N.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},N.prototype.animate=function(){for(var I=[],B=0;B<arguments.length;B++)I[B]=arguments[B];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var G=this.get("timeline");G||(G=this.get("canvas").get("timeline"),this.set("timeline",G));var k=this.get("animations")||[];G.timer||G.initTimer();var V=I[0],tt=I[1],Q=I[2],K=Q===void 0?"easeLinear":Q,_=I[3],Y=_===void 0?o.noop:_,q=I[4],ot=q===void 0?0:q,ft,ct,rt,gt,Et;Object(o.isFunction)(V)?(ft=V,V={}):Object(o.isObject)(V)&&V.onFrame&&(ft=V.onFrame,ct=V.repeat),Object(o.isObject)(tt)?(Et=tt,tt=Et.duration,K=Et.easing||"easeLinear",ot=Et.delay||0,ct=Et.repeat||ct||!1,Y=Et.callback||o.noop,rt=Et.pauseCallback||o.noop,gt=Et.resumeCallback||o.noop):(Object(o.isNumber)(Y)&&(ot=Y,Y=null),Object(o.isFunction)(K)?(Y=K,K="easeLinear"):K=K||"easeLinear");var Gt=j(V,this),Yt={fromAttrs:g(Gt,this),toAttrs:Gt,duration:tt,easing:K,repeat:ct,callback:Y,pauseCallback:rt,resumeCallback:gt,delay:ot,startTime:G.getTime(),id:Object(o.uniqueId)(),onFrame:ft,pathFormatted:!1};k.length>0?k=U(k,Yt):G.addAnimator(this),k.push(Yt),this.set("animations",k),this.set("_pause",{isPaused:!1})}},N.prototype.stopAnimate=function(I){var B=this;I===void 0&&(I=!0);var G=this.get("animations");Object(o.each)(G,function(k){I&&(k.onFrame?B.attr(k.onFrame(1)):B.attr(k.toAttrs)),k.callback&&k.callback()}),this.set("animating",!1),this.set("animations",[])},N.prototype.pauseAnimate=function(){var I=this.get("timeline"),B=this.get("animations"),G=I.getTime();return Object(o.each)(B,function(k){k._paused=!0,k._pauseTime=G,k.pauseCallback&&k.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:G}),this},N.prototype.resumeAnimate=function(){var I=this.get("timeline"),B=I.getTime(),G=this.get("animations"),k=this.get("_pause").pauseTime;return Object(o.each)(G,function(V){V.startTime=V.startTime+(B-k),V._paused=!1,V._pauseTime=null,V.resumeCallback&&V.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",G),this},N.prototype.emitDelegation=function(I,B){var G=this,k=B.propagationPath,V=this.getEvents(),tt;I==="mouseenter"?tt=B.fromShape:I==="mouseleave"&&(tt=B.toShape);for(var Q=function(ot){var ft=k[ot],ct=ft.get("name");if(ct){if((ft.isGroup()||ft.isCanvas&&ft.isCanvas())&&tt&&Object(O.g)(ft,tt))return"break";Object(o.isArray)(ct)?Object(o.each)(ct,function(rt){G.emitDelegateEvent(ft,rt,B)}):K.emitDelegateEvent(ft,ct,B)}},K=this,_=0;_<k.length;_++){var Y=Q(_);if(Y==="break")break}},N.prototype.emitDelegateEvent=function(I,B,G){var k=this.getEvents(),V=B+m+G.type;(k[V]||k[T])&&(G.name=V,G.currentTarget=I,G.delegateTarget=this,G.delegateObject=I.get("delegateObject"),this.emit(V,G))},N.prototype.translate=function(I,B){I===void 0&&(I=0),B===void 0&&(B=0);var G=this.getMatrix(),k=b(G,[["t",I,B]]);return this.setMatrix(k),this},N.prototype.move=function(I,B){var G=this.attr("x")||0,k=this.attr("y")||0;return this.translate(I-G,B-k),this},N.prototype.moveTo=function(I,B){return this.move(I,B)},N.prototype.scale=function(I,B){var G=this.getMatrix(),k=b(G,[["s",I,B||I]]);return this.setMatrix(k),this},N.prototype.rotate=function(I){var B=this.getMatrix(),G=b(B,[["r",I]]);return this.setMatrix(G),this},N.prototype.rotateAtStart=function(I){var B=this.attr(),G=B.x,k=B.y,V=this.getMatrix(),tt=b(V,[["t",-G,-k],["r",I],["t",G,k]]);return this.setMatrix(tt),this},N.prototype.rotateAtPoint=function(I,B,G){var k=this.getMatrix(),V=b(k,[["t",-I,-B],["r",G],["t",I,B]]);return this.setMatrix(V),this},N}(P.a);A.a=W},"4X1q":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Lookup=void 0;var f=a("196R"),o=function(){function x(){this._map=new Map}return x.prototype.getMap=function(){return this._map},x.prototype.add=function(O,C){if(O==null)throw new Error(f.NULL_ARGUMENT);if(C==null)throw new Error(f.NULL_ARGUMENT);var P=this._map.get(O);P!==void 0?(P.push(C),this._map.set(O,P)):this._map.set(O,[C])},x.prototype.get=function(O){if(O==null)throw new Error(f.NULL_ARGUMENT);var C=this._map.get(O);if(C!==void 0)return C;throw new Error(f.KEY_NOT_FOUND)},x.prototype.remove=function(O){if(O==null)throw new Error(f.NULL_ARGUMENT);if(!this._map.delete(O))throw new Error(f.KEY_NOT_FOUND)},x.prototype.removeByCondition=function(O){var C=this;this._map.forEach(function(P,b){var S=P.filter(function(y){return!O(y)});S.length>0?C._map.set(b,S):C._map.delete(b)})},x.prototype.hasKey=function(O){if(O==null)throw new Error(f.NULL_ARGUMENT);return this._map.has(O)},x.prototype.clone=function(){var O=new x;return this._map.forEach(function(C,P){C.forEach(function(b){return O.add(P,b.clone())})}),O},x.prototype.traverse=function(O){this._map.forEach(function(C,P){O(P,C)})},x}();A.Lookup=o},"4tFv":function(jt,A){function a(f){return f===void 0}jt.exports=a},"5+Yv":function(jt,A,a){var f=a("RaWV"),o=a("SOgk"),x=a("hQ5t"),O=a("NbNK"),C=a("+Gi7");function P(b,S,y){var E=C(b)?f:O,m=arguments.length<3;return E(b,x(S,4),y,m,o)}jt.exports=P},"5/ae":function(jt,A){},"5Am0":function(jt,A,a){jt.exports=a("oobg")},"5B5S":function(jt,A,a){"use strict";a.d(A,"a",function(){return O});var f=a("CMID"),o=a("Pys6"),x=a("KtUI");a.d(A,"b",function(){return o.b});function O(C){var P=C.chart,b=C.options,S=b.xField,y=b.yField,E=b.xAxis,m=b.yAxis,T=b.barStyle,L=b.barWidthRatio,g=b.label,j=b.data,U=b.seriesField,W=b.isStack,z=b.minBarWidth,N=b.maxBarWidth;g&&!g.position&&(g.position="left",g.layout||(g.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var I=b.legend;U?I!==!1&&(I=Object(f.__assign)({position:W?"top-left":"right-top",reversed:!W},I||{})):I=!1,C.options.legend=I;var B=b.tooltip;return U&&B!==!1&&(B=Object(f.__assign)({reversed:!W},B||{})),C.options.tooltip=B,P.coordinate().transpose(),Object(o.a)({chart:P,options:Object(f.__assign)(Object(f.__assign)({},b),{label:g,xField:y,yField:S,xAxis:m,yAxis:E,columnStyle:T,columnWidthRatio:L,minColumnWidth:z,maxColumnWidth:N,columnBackground:b.barBackground,data:Object(x.a)(j)})},!0)}},"5BaD":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=a("e9gb"),o=x(a("TkY2"));function x(P){return P&&P.__esModule?P:{default:P}}var O=function(b){return function(){for(var S=[],y=0;y<arguments.length;y++)S[y]=arguments[y];return new Promise(function(E,m){var T=new o.default;T.postMessage({_algorithmType:b,data:S}),T.onmessage=function(L){var g=L.data,j=g.data,U=g._algorithmType;f.MESSAGE.SUCCESS===U?E(j):m(),T.terminate()}})}},C=O;A.default=C},"5Kaj":function(jt,A,a){"use strict";var f=a("jg4I"),o=a("3k0L"),x=function(){function O(C){var P=C.xField,b=C.yField,S=C.adjustNames,y=S===void 0?["x","y"]:S;this.adjustNames=y,this.xField=P,this.yField=b}return O.prototype.isAdjust=function(C){return this.adjustNames.indexOf(C)>=0},O.prototype.getAdjustRange=function(C,P,b){var S=this.yField,y=b.indexOf(P),E=b.length,m,T;return!S&&this.isAdjust("y")?(m=0,T=1):E>1?(m=b[y===0?0:y-1],T=b[y===E-1?E-1:y+1],y!==0?m+=(P-m)/2:m-=(T-P)/2,y!==E-1?T-=(T-P)/2:T+=(P-b[E-2])/2):(m=P===0?0:P-.5,T=P===0?1:P+.5),{pre:m,next:T}},O.prototype.adjustData=function(C,P){var b=this,S=this.getDimValues(P);f.each(C,function(y,E){f.each(S,function(m,T){b.adjustDim(T,m,y,E)})})},O.prototype.groupData=function(C,P){return f.each(C,function(b){b[P]===void 0&&(b[P]=o.a)}),f.groupBy(C,P)},O.prototype.adjustDim=function(C,P,b,S){},O.prototype.getDimValues=function(C){var P=this,b=P.xField,S=P.yField,y={},E=[];if(b&&this.isAdjust("x")&&E.push(b),S&&this.isAdjust("y")&&E.push(S),E.forEach(function(T){y[T]=f.valuesOfKey(C,T).sort(function(L,g){return L-g})}),!S&&this.isAdjust("y")){var m="y";y[m]=[o.a,1]}return y},O}();A.a=x},"5LP0":function(jt,A){jt.exports=a;function a(f,o){var x=o[0]-f[0],O=o[1]-f[1];return x*x+O*O}},"5M8n":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=function(x){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,C=null;return function(){for(var P=this,b=arguments.length,S=new Array(b),y=0;y<b;y++)S[y]=arguments[y];clearTimeout(C),C=setTimeout(function(){x.apply(P,S)},O)}};A.default=f},"5Nvg":function(jt,A){function a(){}jt.exports=a},"5RCt":function(jt,A,a){"use strict";var f=a("CMID"),o=a("U8wd"),x=a("0xlF"),O=a("BSge"),C=a("oFJY"),P=a("SCaY"),b=a("ozhX"),S=a("CyRS"),y=a("jg4I"),E=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,m=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function L(ct){var rt=ct.match(T);if(!rt)return"";var gt="";return rt.sort(function(Et,Gt){return Et=Et.split(":"),Gt=Gt.split(":"),Number(Et[0])-Number(Gt[0])}),Object(y.each)(rt,function(Et){Et=Et.split(":"),gt+='<stop offset="'+Et[0]+'" stop-color="'+Et[1]+'"></stop>'}),gt}function g(ct,rt){var gt=E.exec(ct),Et=Object(y.mod)(Object(y.toRadian)(parseFloat(gt[1])),Math.PI*2),Gt=gt[2],Yt,Xt;Et>=0&&Et<.5*Math.PI?(Yt={x:0,y:0},Xt={x:1,y:1}):.5*Math.PI<=Et&&Et<Math.PI?(Yt={x:1,y:0},Xt={x:0,y:1}):Math.PI<=Et&&Et<1.5*Math.PI?(Yt={x:1,y:1},Xt={x:0,y:0}):(Yt={x:0,y:1},Xt={x:1,y:0});var vt=Math.tan(Et),mt=vt*vt,ut=(Xt.x-Yt.x+vt*(Xt.y-Yt.y))/(mt+1)+Yt.x,st=vt*(Xt.x-Yt.x+vt*(Xt.y-Yt.y))/(mt+1)+Yt.y;rt.setAttribute("x1",Yt.x),rt.setAttribute("y1",Yt.y),rt.setAttribute("x2",ut),rt.setAttribute("y2",st),rt.innerHTML=L(Gt)}function j(ct,rt){var gt=m.exec(ct),Et=parseFloat(gt[1]),Gt=parseFloat(gt[2]),Yt=parseFloat(gt[3]),Xt=gt[4];rt.setAttribute("cx",Et),rt.setAttribute("cy",Gt),rt.setAttribute("r",Yt),rt.innerHTML=L(Xt)}var U=function(){function ct(rt){this.cfg={};var gt=null,Et=Object(y.uniqueId)("gradient_");return rt.toLowerCase()[0]==="l"?(gt=Object(P.b)("linearGradient"),g(rt,gt)):(gt=Object(P.b)("radialGradient"),j(rt,gt)),gt.setAttribute("id",Et),this.el=gt,this.id=Et,this.cfg=rt,this}return ct.prototype.match=function(rt,gt){return this.cfg===gt},ct}(),W=U,z={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},N={x:"-40%",y:"-40%",width:"200%",height:"200%"},I=function(){function ct(rt){this.type="filter",this.cfg={},this.type="filter";var gt=Object(P.b)("filter");return Object(y.each)(N,function(Et,Gt){gt.setAttribute(Gt,Et)}),this.el=gt,this.id=Object(y.uniqueId)("filter_"),this.el.id=this.id,this.cfg=rt,this._parseShadow(rt,gt),this}return ct.prototype.match=function(rt,gt){if(this.type!==rt)return!1;var Et=!0,Gt=this.cfg;return Object(y.each)(Object.keys(Gt),function(Yt){if(Gt[Yt]!==gt[Yt])return Et=!1,!1}),Et},ct.prototype.update=function(rt,gt){var Et=this.cfg;return Et[z[rt]]=gt,this._parseShadow(Et,this.el),this},ct.prototype._parseShadow=function(rt,gt){var Et=`<feDropShadow
      dx="`+(rt.dx||0)+`"
      dy="`+(rt.dy||0)+`"
      stdDeviation="`+(rt.blur?rt.blur/10:0)+`"
      flood-color="`+(rt.color?rt.color:"#000")+`"
      flood-opacity="`+(rt.opacity?rt.opacity:1)+`"
      />`;gt.innerHTML=Et},ct}(),B=I,G=function(){function ct(rt,gt){this.cfg={};var Et=Object(P.b)("marker"),Gt=Object(y.uniqueId)("marker_");Et.setAttribute("id",Gt);var Yt=Object(P.b)("path");Yt.setAttribute("stroke",rt.stroke||"none"),Yt.setAttribute("fill",rt.fill||"none"),Et.appendChild(Yt),Et.setAttribute("overflow","visible"),Et.setAttribute("orient","auto-start-reverse"),this.el=Et,this.child=Yt,this.id=Gt;var Xt=rt[gt==="marker-start"?"startArrow":"endArrow"];return this.stroke=rt.stroke||"#000",Xt===!0?this._setDefaultPath(gt,Yt):(this.cfg=Xt,this._setMarker(rt.lineWidth,Yt)),this}return ct.prototype.match=function(){return!1},ct.prototype._setDefaultPath=function(rt,gt){var Et=this.el;gt.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),Et.setAttribute("refX",""+10*Math.cos(Math.PI/6)),Et.setAttribute("refY",""+5)},ct.prototype._setMarker=function(rt,gt){var Et=this.el,Gt=this.cfg.path,Yt=this.cfg.d;Object(y.isArray)(Gt)&&(Gt=Gt.map(function(Xt){return Xt.join(" ")}).join("")),gt.setAttribute("d",Gt),Et.appendChild(gt),Yt&&Et.setAttribute("refX",""+Yt/rt)},ct.prototype.update=function(rt){var gt=this.child;gt.attr?gt.attr("fill",rt):gt.setAttribute("fill",rt)},ct}(),k=G,V=function(){function ct(rt){this.type="clip",this.cfg={};var gt=Object(P.b)("clipPath");this.el=gt,this.id=Object(y.uniqueId)("clip_"),gt.id=this.id;var Et=rt.cfg.el;return gt.appendChild(Et),this.cfg=rt,this}return ct.prototype.match=function(){return!1},ct.prototype.remove=function(){var rt=this.el;rt.parentNode.removeChild(rt)},ct}(),tt=V,Q=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,K=function(){function ct(rt){this.cfg={};var gt=Object(P.b)("pattern");gt.setAttribute("patternUnits","userSpaceOnUse");var Et=Object(P.b)("image");gt.appendChild(Et);var Gt=Object(y.uniqueId)("pattern_");gt.id=Gt,this.el=gt,this.id=Gt,this.cfg=rt;var Yt=Q.exec(rt),Xt=Yt[2];Et.setAttribute("href",Xt);var vt=new Image;Xt.match(/^data:/i)||(vt.crossOrigin="Anonymous"),vt.src=Xt;function mt(){gt.setAttribute("width",""+vt.width),gt.setAttribute("height",""+vt.height)}return vt.complete?mt():(vt.onload=mt,vt.src=vt.src),this}return ct.prototype.match=function(rt,gt){return this.cfg===gt},ct}(),_=K,Y=function(){function ct(rt){var gt=Object(P.b)("defs"),Et=Object(y.uniqueId)("defs_");gt.id=Et,rt.appendChild(gt),this.children=[],this.defaultArrow={},this.el=gt,this.canvas=rt}return ct.prototype.find=function(rt,gt){for(var Et=this.children,Gt=null,Yt=0;Yt<Et.length;Yt++)if(Et[Yt].match(rt,gt)){Gt=Et[Yt].id;break}return Gt},ct.prototype.findById=function(rt){for(var gt=this.children,Et=null,Gt=0;Gt<gt.length;Gt++)if(gt[Gt].id===rt){Et=gt[Gt];break}return Et},ct.prototype.add=function(rt){this.children.push(rt),rt.canvas=this.canvas,rt.parent=this},ct.prototype.getDefaultArrow=function(rt,gt){var Et=rt.stroke||rt.strokeStyle;if(this.defaultArrow[Et])return this.defaultArrow[Et].id;var Gt=new k(rt,gt);return this.defaultArrow[Et]=Gt,this.el.appendChild(Gt.el),this.add(Gt),Gt.id},ct.prototype.addGradient=function(rt){var gt=new W(rt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct.prototype.addArrow=function(rt,gt){var Et=new k(rt,gt);return this.el.appendChild(Et.el),this.add(Et),Et.id},ct.prototype.addShadow=function(rt){var gt=new B(rt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct.prototype.addPattern=function(rt){var gt=new _(rt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct.prototype.addClip=function(rt){var gt=new tt(rt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct}(),q=Y,ot=function(ct){Object(f.__extends)(rt,ct);function rt(gt){return ct.call(this,Object(f.__assign)(Object(f.__assign)({},gt),{autoDraw:!0,renderer:"svg"}))||this}return rt.prototype.getShapeBase=function(){return b},rt.prototype.getGroupBase=function(){return S.a},rt.prototype.getShape=function(gt,Et,Gt){var Yt=Gt.target||Gt.srcElement;if(!x.a[Yt.tagName]){for(var Xt=Yt.parentNode;Xt&&!x.a[Xt.tagName];)Xt=Xt.parentNode;Yt=Xt}return this.find(function(vt){return vt.get("el")===Yt})},rt.prototype.createDom=function(){var gt=Object(P.b)("svg"),Et=new q(gt);return gt.setAttribute("width",""+this.get("width")),gt.setAttribute("height",""+this.get("height")),this.set("context",Et),gt},rt.prototype.onCanvasChange=function(gt){var Et=this.get("context"),Gt=this.get("el");if(gt==="sort"){var Yt=this.get("children");Yt&&Yt.length&&Object(P.d)(this,function(vt,mt){return Yt.indexOf(vt)-Yt.indexOf(mt)?1:0})}else if(gt==="clear"){if(Gt){Gt.innerHTML="";var Xt=Et.el;Xt.innerHTML="",Gt.appendChild(Xt)}}else gt==="matrix"?Object(C.c)(this):gt==="clip"?Object(C.a)(this,Et):gt==="changeSize"&&(Gt.setAttribute("width",""+this.get("width")),Gt.setAttribute("height",""+this.get("height")))},rt.prototype.draw=function(){var gt=this.get("context"),Et=this.getChildren();Object(C.a)(this,gt),Et.length&&Object(O.a)(gt,Et)},rt}(o.AbstractCanvas),ft=A.a=ot},"5RYK":function(jt,A,a){"use strict";a.r(A),a.d(A,"Html",function(){return U});var f=a("CMID"),o=a("viQC"),x=a("m8xh"),O=a("jg4I"),C=a("+On4"),P=a("8Loy"),b=a("zRtE"),S=a("qhN0"),y,E=(y={},y[""+b.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:S.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},y[""+b.TITLE_CLASS]={marginBottom:"4px"},y[""+b.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},y[""+b.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},y[""+b.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},y[""+b.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},y[""+b.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},y[""+b.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},y);function m(W,z,N,I,B){var G={left:W<B.x,right:W+N>B.x+B.width,top:z<B.y,bottom:z+I>B.y+B.height};return G}function T(W,z,N,I,B,G){var k=W,V=z;switch(G){case"left":k=W-I-N,V=z-B/2;break;case"right":k=W+N,V=z-B/2;break;case"top":k=W-I/2,V=z-B-N;break;case"bottom":k=W-I/2,V=z+N;break;default:k=W+N,V=z-B-N;break}return{x:k,y:V}}function L(W,z,N,I,B,G,k){var V=T(W,z,N,I,B,G);if(k){var tt=m(V.x,V.y,I,B,k);G==="auto"?(tt.right&&(V.x=Math.max(0,W-I-N)),tt.top&&(V.y=Math.max(0,z-B-N))):G==="top"||G==="bottom"?(tt.left&&(V.x=k.x),tt.right&&(V.x=k.x+k.width-I),G==="top"&&tt.top&&(V.y=z+N),G==="bottom"&&tt.bottom&&(V.y=z-B-N)):(tt.top&&(V.y=k.y),tt.bottom&&(V.y=k.y+k.height-B),G==="left"&&tt.left&&(V.x=W+N),G==="right"&&tt.right&&(V.x=W-I-N))}return V}function g(W,z){var N=!1;return Object(O.each)(z,function(I){if(Object(O.hasKey)(W,I))return N=!0,!1}),N}var j=function(W){Object(f.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.getDefaultCfg=function(){var N=W.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},N),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+b.CONTAINER_CLASS+'"><div class="'+b.TITLE_CLASS+'"></div><ul class="'+b.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+b.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+b.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+b.NAME_CLASS+`">{name}</span>:
          <span class="`+b.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+b.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+b.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:b.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:E})},z.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},z.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},z.prototype.show=function(){var N=this.getContainer();!N||this.destroyed||(this.set("visible",!0),Object(x.e)(N,{visibility:"visible"}),this.setCrossHairsVisible(!0))},z.prototype.hide=function(){var N=this.getContainer();!N||this.destroyed||(this.set("visible",!1),Object(x.e)(N,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},z.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},z.prototype.setLocation=function(N){this.set("x",N.x),this.set("y",N.y),this.resetPosition()},z.prototype.setCrossHairsVisible=function(N){var I=N?"":"none",B=this.get("xCrosshairDom"),G=this.get("yCrosshairDom");B&&Object(x.e)(B,{display:I}),G&&Object(x.e)(G,{display:I})},z.prototype.initContainer=function(){if(W.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var N=this.getHtmlContentNode();this.get("parent").appendChild(N),this.set("container",N),this.resetStyles(),this.applyStyles()}},z.prototype.updateInner=function(N){this.get("customContent")?this.renderCustomContent():(g(N,["title","showTitle"])&&this.resetTitle(),Object(O.hasKey)(N,"items")&&this.renderItems()),W.prototype.updateInner.call(this,N)},z.prototype.initDom=function(){this.cacheDoms()},z.prototype.removeDom=function(){W.prototype.removeDom.call(this),this.clearCrosshairs()},z.prototype.resetPosition=function(){var N=this.get("x"),I=this.get("y"),B=this.get("offset"),G=this.getOffset(),k=G.offsetX,V=G.offsetY,tt=this.get("position"),Q=this.get("region"),K=this.getContainer(),_=this.getBBox(),Y=_.width,q=_.height,ot;Q&&(ot=Object(P.k)(Q));var ft=L(N,I,B,Y,q,tt,ot);Object(x.e)(K,{left:Object(P.l)(ft.x+k),top:Object(P.l)(ft.y+V)}),this.resetCrosshairs()},z.prototype.renderCustomContent=function(){var N=this.getHtmlContentNode(),I=this.get("parent"),B=this.get("container");B&&B.parentNode===I?I.replaceChild(N,B):I.appendChild(N),this.set("container",N),this.resetStyles(),this.applyStyles()},z.prototype.getHtmlContentNode=function(){var N,I=this.get("customContent");if(I){var B=I(this.get("title"),this.get("items"));Object(O.isElement)(B)?N=B:N=Object(x.b)(B)}return N},z.prototype.cacheDoms=function(){var N=this.getContainer(),I=N.getElementsByClassName(b.TITLE_CLASS)[0],B=N.getElementsByClassName(b.LIST_CLASS)[0];this.set("titleDom",I),this.set("listDom",B)},z.prototype.resetTitle=function(){var N=this.get("title"),I=this.get("showTitle");I&&N?this.setTitle(N):this.setTitle("")},z.prototype.setTitle=function(N){var I=this.get("titleDom");I&&(I.innerText=N)},z.prototype.resetCrosshairs=function(){var N=this.get("crosshairsRegion"),I=this.get("crosshairs");if(!N||!I)this.clearCrosshairs();else{var B=Object(P.k)(N),G=this.get("xCrosshairDom"),k=this.get("yCrosshairDom");I==="x"?(this.resetCrosshair("x",B),k&&(k.remove(),this.set("yCrosshairDom",null))):I==="y"?(this.resetCrosshair("y",B),G&&(G.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",B),this.resetCrosshair("y",B)),this.setCrossHairsVisible(this.get("visible"))}},z.prototype.resetCrosshair=function(N,I){var B=this.checkCrosshair(N),G=this.get(N);N==="x"?Object(x.e)(B,{left:Object(P.l)(G),top:Object(P.l)(I.y),height:Object(P.l)(I.height)}):Object(x.e)(B,{top:Object(P.l)(G),left:Object(P.l)(I.x),width:Object(P.l)(I.width)})},z.prototype.checkCrosshair=function(N){var I=N+"CrosshairDom",B=N+"CrosshairTpl",G="CROSSHAIR_"+N.toUpperCase(),k=b[G],V=this.get(I),tt=this.get("parent");return V||(V=Object(x.b)(this.get(B)),this.applyStyle(k,V),tt.appendChild(V),this.set(I,V)),V},z.prototype.renderItems=function(){this.clearItemDoms();var N=this.get("items"),I=this.get("itemTpl"),B=this.get("listDom");B&&(Object(O.each)(N,function(G){var k=o.a.toCSSGradient(G.color),V=Object(f.__assign)(Object(f.__assign)({},G),{color:k}),tt=Object(O.substitute)(I,V),Q=Object(x.b)(tt);B.appendChild(Q)}),this.applyChildrenStyles(B,this.get("domStyles")))},z.prototype.clearItemDoms=function(){this.get("listDom")&&Object(P.a)(this.get("listDom"))},z.prototype.clearCrosshairs=function(){var N=this.get("xCrosshairDom"),I=this.get("yCrosshairDom");N&&N.remove(),I&&I.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},z}(C.a),U=j},"5i8x":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Context=void 0;var f=a("qSJf"),o=function(){function x(O){this.id=f.id(),this.container=O}return x.prototype.addPlan=function(O){this.plan=O},x.prototype.setCurrentRequest=function(O){this.currentRequest=O},x}();A.Context=o},"5oMf":function(jt,A,a){"use strict";var f=a("XSdR"),o=a("hppO");jt.exports={run:x,undo:C};function x(P){P.graph().dummyChains=[],f.forEach(P.edges(),function(b){O(P,b)})}function O(P,b){var S=b.v,y=P.node(S).rank,E=b.w,m=P.node(E).rank,T=b.name,L=P.edge(b),g=L.labelRank;if(m!==y+1){P.removeEdge(b);var j,U,W;for(W=0,++y;y<m;++W,++y)L.points=[],U={width:0,height:0,edgeLabel:L,edgeObj:b,rank:y},j=o.addDummyNode(P,"edge",U,"_d"),y===g&&(U.width=L.width,U.height=L.height,U.dummy="edge-label",U.labelpos=L.labelpos),P.setEdge(S,j,{weight:L.weight},T),W===0&&P.graph().dummyChains.push(j),S=j;P.setEdge(S,E,{weight:L.weight},T)}}function C(P){f.forEach(P.graph().dummyChains,function(b){var S=P.node(b),y=S.edgeLabel,E;for(P.setEdge(S.edgeObj,y);S.dummy;)E=P.successors(b)[0],P.removeNode(b),y.points.push({x:S.x,y:S.y}),S.dummy==="edge-label"&&(y.x=S.x,y.y=S.y,y.width=S.width,y.height=S.height),b=E,S=P.node(b)})}},"60wz":function(jt,A,a){"use strict";a.d(A,"b",function(){return b}),a.d(A,"a",function(){return S});var f=a("q66O"),o=a.n(f),x=a("99LQ");function O(E){return typeof E=="number"}function C(E){return E===void 0?0:E>360||E<-360?E%360:E}function P(E,m,T){return O(E)?x.e.fromValues(E,m,T):E.length===3?x.e.clone(E):x.e.fromValues(E[0],E[1],E[2])}function b(E,m){return m[0]=E[0],m[1]=E[1],m[2]=E[2],m[3]=E[4],m[4]=E[5],m[5]=E[6],m[6]=E[8],m[7]=E[9],m[8]=E[10],m}function S(E){var m=o()(E,3),T=m[0],L=m[1],g=m[2],j=T+L*256+g*65536-1;return j}function y(E){return[E+1&255,E+1>>8&255,E+1>>8>>8&255]}},"6FVg":function(jt,A){function a(f,o){var x=f.length;for(f.sort(o);x--;)f[x]=f[x].value;return f}jt.exports=a},"6vWT":function(jt,A,a){"use strict";a.d(A,"a",function(){return E}),a.d(A,"b",function(){return Ft}),a.d(A,"c",function(){return b}),a.d(A,"d",function(){return xr});var f={};a.r(f),a.d(f,"default",function(){return ut}),a.d(f,"assign",function(){return I}),a.d(f,"format",function(){return Xt}),a.d(f,"parse",function(){return vt}),a.d(f,"defaultI18n",function(){return tt}),a.d(f,"setGlobalDateI18n",function(){return K}),a.d(f,"setGlobalDateMasks",function(){return Yt});var o=a("jg4I"),x={};function O(pe){return x[pe]}function C(pe,se){x[pe]=se}var P=function(){function pe(se){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=se,this.initCfg(),this.init()}return pe.prototype.translate=function(se){return se},pe.prototype.change=function(se){Object(o.assign)(this.__cfg__,se),this.init()},pe.prototype.clone=function(){return this.constructor(this.__cfg__)},pe.prototype.getTicks=function(){var se=this;return Object(o.map)(this.ticks,function(ye,ke){return Object(o.isObject)(ye)?ye:{text:se.getText(ye,ke),tickValue:ye,value:se.scale(ye)}})},pe.prototype.getText=function(se,ye){var ke=this.formatter,Xe=ke?ke(se,ye):se;return Object(o.isNil)(Xe)||!Object(o.isFunction)(Xe.toString)?"":Xe.toString()},pe.prototype.getConfig=function(se){return this.__cfg__[se]},pe.prototype.init=function(){Object(o.assign)(this,this.__cfg__),this.setDomain(),Object(o.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},pe.prototype.initCfg=function(){},pe.prototype.setDomain=function(){},pe.prototype.calculateTicks=function(){var se=this.tickMethod,ye=[];if(Object(o.isString)(se)){var ke=O(se);if(!ke)throw new Error("There is no method to to calculate ticks!");ye=ke(this)}else Object(o.isFunction)(se)&&(ye=se(this));return ye},pe.prototype.rangeMin=function(){return this.range[0]},pe.prototype.rangeMax=function(){return this.range[1]},pe.prototype.calcPercent=function(se,ye,ke){return Object(o.isNumber)(se)?(se-ye)/(ke-ye):NaN},pe.prototype.calcValue=function(se,ye,ke){return ye+se*(ke-ye)},pe}(),b=P,S=a("CMID"),y=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="cat",ye.isCategory=!0,ye}return se.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var ye=0;ye<this.values.length;ye++)this.translateIndexMap.set(this.values[ye],ye)}},se.prototype.translate=function(ye){this.buildIndexMap();var ke=this.translateIndexMap.get(ye);return ke===void 0&&(ke=Object(o.isNumber)(ye)?ye:NaN),ke},se.prototype.scale=function(ye){var ke=this.translate(ye),Xe=this.calcPercent(ke,this.min,this.max);return this.calcValue(Xe,this.rangeMin(),this.rangeMax())},se.prototype.invert=function(ye){var ke=this.max-this.min,Xe=this.calcPercent(ye,this.rangeMin(),this.rangeMax()),hr=Math.round(ke*Xe)+this.min;return hr<this.min||hr>this.max?NaN:this.values[hr]},se.prototype.getText=function(ye){for(var ke=[],Xe=1;Xe<arguments.length;Xe++)ke[Xe-1]=arguments[Xe];var hr=ye;return Object(o.isNumber)(ye)&&!this.values.includes(ye)&&(hr=this.values[hr]),pe.prototype.getText.apply(this,Object(S.__spreadArrays)([hr],ke))},se.prototype.initCfg=function(){this.tickMethod="cat"},se.prototype.setDomain=function(){if(Object(o.isNil)(this.getConfig("min"))&&(this.min=0),Object(o.isNil)(this.getConfig("max"))){var ye=this.values.length;this.max=ye>1?ye-1:ye}this.translateIndexMap&&(this.translateIndexMap=void 0)},se}(b),E=y,m=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,T="[1-9]\\d?",L="\\d\\d",g="\\d{3}",j="\\d{4}",U="[^\\s]+",W=/\[([^]*?)\]/gm;function z(pe,se){for(var ye=[],ke=0,Xe=pe.length;ke<Xe;ke++)ye.push(pe[ke].substr(0,se));return ye}var N=function(se){return function(ye,ke){var Xe=ke[se].map(function(Wr){return Wr.toLowerCase()}),hr=Xe.indexOf(ye.toLowerCase());return hr>-1?hr:null}};function I(pe){for(var se=[],ye=1;ye<arguments.length;ye++)se[ye-1]=arguments[ye];for(var ke=0,Xe=se;ke<Xe.length;ke++){var hr=Xe[ke];for(var Wr in hr)pe[Wr]=hr[Wr]}return pe}var B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],G=["January","February","March","April","May","June","July","August","September","October","November","December"],k=z(G,3),V=z(B,3),tt={dayNamesShort:V,dayNames:B,monthNamesShort:k,monthNames:G,amPm:["am","pm"],DoFn:function(se){return se+["th","st","nd","rd"][se%10>3?0:(se-se%10!=10?1:0)*se%10]}},Q=I({},tt),K=function(se){return Q=I(Q,se)},_=function(se){return se.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Y=function(se,ye){for(ye===void 0&&(ye=2),se=String(se);se.length<ye;)se="0"+se;return se},q={D:function(se){return String(se.getDate())},DD:function(se){return Y(se.getDate())},Do:function(se,ye){return ye.DoFn(se.getDate())},d:function(se){return String(se.getDay())},dd:function(se){return Y(se.getDay())},ddd:function(se,ye){return ye.dayNamesShort[se.getDay()]},dddd:function(se,ye){return ye.dayNames[se.getDay()]},M:function(se){return String(se.getMonth()+1)},MM:function(se){return Y(se.getMonth()+1)},MMM:function(se,ye){return ye.monthNamesShort[se.getMonth()]},MMMM:function(se,ye){return ye.monthNames[se.getMonth()]},YY:function(se){return Y(String(se.getFullYear()),4).substr(2)},YYYY:function(se){return Y(se.getFullYear(),4)},h:function(se){return String(se.getHours()%12||12)},hh:function(se){return Y(se.getHours()%12||12)},H:function(se){return String(se.getHours())},HH:function(se){return Y(se.getHours())},m:function(se){return String(se.getMinutes())},mm:function(se){return Y(se.getMinutes())},s:function(se){return String(se.getSeconds())},ss:function(se){return Y(se.getSeconds())},S:function(se){return String(Math.round(se.getMilliseconds()/100))},SS:function(se){return Y(Math.round(se.getMilliseconds()/10),2)},SSS:function(se){return Y(se.getMilliseconds(),3)},a:function(se,ye){return se.getHours()<12?ye.amPm[0]:ye.amPm[1]},A:function(se,ye){return se.getHours()<12?ye.amPm[0].toUpperCase():ye.amPm[1].toUpperCase()},ZZ:function(se){var ye=se.getTimezoneOffset();return(ye>0?"-":"+")+Y(Math.floor(Math.abs(ye)/60)*100+Math.abs(ye)%60,4)},Z:function(se){var ye=se.getTimezoneOffset();return(ye>0?"-":"+")+Y(Math.floor(Math.abs(ye)/60),2)+":"+Y(Math.abs(ye)%60,2)}},ot=function(se){return+se-1},ft=[null,T],ct=[null,U],rt=["isPm",U,function(pe,se){var ye=pe.toLowerCase();return ye===se.amPm[0]?0:ye===se.amPm[1]?1:null}],gt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(pe){var se=(pe+"").match(/([+-]|\d\d)/gi);if(se){var ye=+se[1]*60+parseInt(se[2],10);return se[0]==="+"?ye:-ye}return 0}],Et={D:["day",T],DD:["day",L],Do:["day",T+U,function(pe){return parseInt(pe,10)}],M:["month",T,ot],MM:["month",L,ot],YY:["year",L,function(pe){var se=new Date,ye=+(""+se.getFullYear()).substr(0,2);return+(""+(+pe>68?ye-1:ye)+pe)}],h:["hour",T,void 0,"isPm"],hh:["hour",L,void 0,"isPm"],H:["hour",T],HH:["hour",L],m:["minute",T],mm:["minute",L],s:["second",T],ss:["second",L],YYYY:["year",j],S:["millisecond","\\d",function(pe){return+pe*100}],SS:["millisecond",L,function(pe){return+pe*10}],SSS:["millisecond",g],d:ft,dd:ft,ddd:ct,dddd:ct,MMM:["month",U,N("monthNamesShort")],MMMM:["month",U,N("monthNames")],a:rt,A:rt,ZZ:gt,Z:gt},Gt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Yt=function(se){return I(Gt,se)},Xt=function(se,ye,ke){if(ye===void 0&&(ye=Gt.default),ke===void 0&&(ke={}),typeof se=="number"&&(se=new Date(se)),Object.prototype.toString.call(se)!=="[object Date]"||isNaN(se.getTime()))throw new Error("Invalid Date pass to format");ye=Gt[ye]||ye;var Xe=[];ye=ye.replace(W,function(Wr,hn){return Xe.push(hn),"@@@"});var hr=I(I({},Q),ke);return ye=ye.replace(m,function(Wr){return q[Wr](se,hr)}),ye.replace(/@@@/g,function(){return Xe.shift()})};function vt(pe,se,ye){if(ye===void 0&&(ye={}),typeof se!="string")throw new Error("Invalid format in fecha parse");if(se=Gt[se]||se,pe.length>1e3)return null;var ke=new Date,Xe={year:ke.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},hr=[],Wr=[],hn=se.replace(W,function(Gn,Xa){return Wr.push(_(Xa)),"@@@"}),Vn={},Ln={};hn=_(hn).replace(m,function(Gn){var Xa=Et[Gn],Ha=Xa[0],Ya=Xa[1],jo=Xa[3];if(Vn[Ha])throw new Error("Invalid format. "+Ha+" specified twice in format");return Vn[Ha]=!0,jo&&(Ln[jo]=!0),hr.push(Xa),"("+Ya+")"}),Object.keys(Ln).forEach(function(Gn){if(!Vn[Gn])throw new Error("Invalid format. "+Gn+" is required in specified format")}),hn=hn.replace(/@@@/g,function(){return Wr.shift()});var xn=pe.match(new RegExp(hn,"i"));if(!xn)return null;for(var Fi=I(I({},Q),ye),ji=1;ji<xn.length;ji++){var sa=hr[ji-1],he=sa[0],Ia=sa[2],fo=Ia?Ia(xn[ji],Fi):+xn[ji];if(fo==null)return null;Xe[he]=fo}Xe.isPm===1&&Xe.hour!=null&&+Xe.hour!=12?Xe.hour=+Xe.hour+12:Xe.isPm===0&&+Xe.hour==12&&(Xe.hour=0);for(var ho=new Date(Xe.year,Xe.month,Xe.day,Xe.hour,Xe.minute,Xe.second,Xe.millisecond),Ba=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],ji=0,Xo=Ba.length;ji<Xo;ji++)if(Vn[Ba[ji][0]]&&Xe[Ba[ji][0]]!==ho[Ba[ji][1]]())return null;return Xe.timezoneOffset==null?ho:new Date(Date.UTC(Xe.year,Xe.month,Xe.day,Xe.hour,Xe.minute-Xe.timezoneOffset,Xe.second,Xe.millisecond))}var mt={format:Xt,parse:vt,defaultI18n:tt,setGlobalDateI18n:K,setGlobalDateMasks:Yt},ut=mt,st=function(pe){return function(se,ye,ke,Xe){for(var hr=Object(o.isNil)(ke)?0:ke,Wr=Object(o.isNil)(Xe)?se.length:Xe;hr<Wr;){var hn=hr+Wr>>>1;pe(se[hn])>ye?Wr=hn:hr=hn+1}return hr}},lt="format";function Tt(pe,se){var ye=f[lt]||ut[lt];return ye(pe,se)}function Ot(pe){return Object(o.isString)(pe)&&(pe.indexOf("T")>0?pe=new Date(pe).getTime():pe=new Date(pe.replace(/-/gi,"/")).getTime()),Object(o.isDate)(pe)&&(pe=pe.getTime()),pe}var et=1e3,H=60*et,pt=60*H,nt=24*pt,yt=nt*31,Pt=nt*365,Rt=[["HH:mm:ss",et],["HH:mm:ss",et*10],["HH:mm:ss",et*30],["HH:mm",H],["HH:mm",H*10],["HH:mm",H*30],["HH",pt],["HH",pt*6],["HH",pt*12],["YYYY-MM-DD",nt],["YYYY-MM-DD",nt*4],["YYYY-WW",nt*7],["YYYY-MM",yt],["YYYY-MM",yt*4],["YYYY-MM",yt*6],["YYYY",nt*380]];function Wt(pe,se,ye){var ke=(se-pe)/ye,Xe=st(function(Wr){return Wr[1]})(Rt,ke)-1,hr=Rt[Xe];return Xe<0?hr=Rt[0]:Xe>=Rt.length&&(hr=Object(o.last)(Rt)),hr}var Vt=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="timeCat",ye}return se.prototype.translate=function(ye){ye=Ot(ye);var ke=this.values.indexOf(ye);return ke===-1&&(Object(o.isNumber)(ye)&&ye<this.values.length?ke=ye:ke=NaN),ke},se.prototype.getText=function(ye,ke){var Xe=this.translate(ye);if(Xe>-1){var hr=this.values[Xe],Wr=this.formatter;return hr=Wr?Wr(hr,ke):Tt(hr,this.mask),hr}return ye},se.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},se.prototype.setDomain=function(){var ye=this.values;Object(o.each)(ye,function(ke,Xe){ye[Xe]=Ot(ke)}),ye.sort(function(ke,Xe){return ke-Xe}),pe.prototype.setDomain.call(this)},se}(E),Lt=Vt,Ct=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.isContinuous=!0,ye}return se.prototype.scale=function(ye){if(Object(o.isNil)(ye))return NaN;var ke=this.rangeMin(),Xe=this.rangeMax(),hr=this.max,Wr=this.min;if(hr===Wr)return ke;var hn=this.getScalePercent(ye);return ke+hn*(Xe-ke)},se.prototype.init=function(){pe.prototype.init.call(this);var ye=this.ticks,ke=Object(o.head)(ye),Xe=Object(o.last)(ye);ke<this.min&&(this.min=ke),Xe>this.max&&(this.max=Xe),Object(o.isNil)(this.minLimit)||(this.min=ke),Object(o.isNil)(this.maxLimit)||(this.max=Xe)},se.prototype.setDomain=function(){var ye=Object(o.getRange)(this.values),ke=ye.min,Xe=ye.max;Object(o.isNil)(this.min)&&(this.min=ke),Object(o.isNil)(this.max)&&(this.max=Xe),this.min>this.max&&(this.min=ke,this.max=Xe)},se.prototype.calculateTicks=function(){var ye=this,ke=pe.prototype.calculateTicks.call(this);return this.nice||(ke=Object(o.filter)(ke,function(Xe){return Xe>=ye.min&&Xe<=ye.max})),ke},se.prototype.getScalePercent=function(ye){var ke=this.max,Xe=this.min;return(ye-Xe)/(ke-Xe)},se.prototype.getInvertPercent=function(ye){return(ye-this.rangeMin())/(this.rangeMax()-this.rangeMin())},se}(b),at=Ct,It=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="linear",ye.isLinear=!0,ye}return se.prototype.invert=function(ye){var ke=this.getInvertPercent(ye);return this.min+ke*(this.max-this.min)},se.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},se}(at),Ft=It;function xt(pe,se){var ye=Math.E,ke;return se>=0?ke=Math.pow(ye,Math.log(se)/pe):ke=Math.pow(ye,Math.log(-se)/pe)*-1,ke}function Nt(pe,se){return pe===1?1:Math.log(se)/Math.log(pe)}function Ht(pe,se,ye){Object(o.isNil)(ye)&&(ye=Math.max.apply(null,pe));var ke=ye;return Object(o.each)(pe,function(Xe){Xe>0&&Xe<ke&&(ke=Xe)}),ke===ye&&(ke=ye/se),ke>1&&(ke=1),ke}function Bt(pe){var se=pe.toString().split(/[eE]/),ye=(se[0].split(".")[1]||"").length-+(se[1]||0);return ye>0?ye:0}function Ut(pe,se){var ye=Bt(pe),ke=Bt(se),Xe=Math.pow(10,Math.max(ye,ke));return(pe*Xe+se*Xe)/Xe}var Jt=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="log",ye}return se.prototype.invert=function(ye){var ke=this.base,Xe=Nt(ke,this.max),hr=this.rangeMin(),Wr=this.rangeMax()-hr,hn,Vn=this.positiveMin;if(Vn){if(ye===0)return 0;hn=Nt(ke,Vn/ke);var Ln=1/(Xe-hn)*Wr;if(ye<Ln)return ye/Ln*Vn}else hn=Nt(ke,this.min);var xn=(ye-hr)/Wr,Fi=xn*(Xe-hn)+hn;return Math.pow(ke,Fi)},se.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},se.prototype.setDomain=function(){pe.prototype.setDomain.call(this);var ye=this.min;if(ye<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");ye===0&&(this.positiveMin=Ht(this.values,this.base,this.max))},se.prototype.getScalePercent=function(ye){var ke=this.max,Xe=this.min;if(ke===Xe||ye<=0)return 0;var hr=this.base,Wr=this.positiveMin;Wr&&(Xe=Wr*1/hr);var hn;return ye<Wr?hn=ye/Wr/(Nt(hr,ke)-Nt(hr,Xe)):hn=(Nt(hr,ye)-Nt(hr,Xe))/(Nt(hr,ke)-Nt(hr,Xe)),hn},se}(at),oe=Jt,ge=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="pow",ye}return se.prototype.invert=function(ye){var ke=this.getInvertPercent(ye),Xe=this.exponent,hr=xt(Xe,this.max),Wr=xt(Xe,this.min),hn=ke*(hr-Wr)+Wr,Vn=hn>=0?1:-1;return Math.pow(hn,Xe)*Vn},se.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},se.prototype.getScalePercent=function(ye){var ke=this.max,Xe=this.min;if(ke===Xe)return 0;var hr=this.exponent,Wr=(xt(hr,ye)-xt(hr,Xe))/(xt(hr,ke)-xt(hr,Xe));return Wr},se}(at),Ce=ge,Ie=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="time",ye}return se.prototype.getText=function(ye,ke){var Xe=this.translate(ye),hr=this.formatter;return hr?hr(Xe,ke):Tt(Xe,this.mask)},se.prototype.scale=function(ye){var ke=ye;return(Object(o.isString)(ke)||Object(o.isDate)(ke))&&(ke=this.translate(ke)),pe.prototype.scale.call(this,ke)},se.prototype.translate=function(ye){return Ot(ye)},se.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},se.prototype.setDomain=function(){var ye=this.values,ke=this.getConfig("min"),Xe=this.getConfig("max");if((!Object(o.isNil)(ke)||!Object(o.isNumber)(ke))&&(this.min=this.translate(this.min)),(!Object(o.isNil)(Xe)||!Object(o.isNumber)(Xe))&&(this.max=this.translate(this.max)),ye&&ye.length){var hr=[],Wr=Infinity,hn=Wr,Vn=0;Object(o.each)(ye,function(Ln){var xn=Ot(Ln);if(isNaN(xn))throw new TypeError("Invalid Time: "+Ln+" in time scale!");Wr>xn?(hn=Wr,Wr=xn):hn>xn&&(hn=xn),Vn<xn&&(Vn=xn),hr.push(xn)}),ye.length>1&&(this.minTickInterval=hn-Wr),Object(o.isNil)(ke)&&(this.min=Wr),Object(o.isNil)(Xe)&&(this.max=Vn)}},se}(Ft),We=Ie,lr=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="quantize",ye}return se.prototype.invert=function(ye){var ke=this.ticks,Xe=ke.length,hr=this.getInvertPercent(ye),Wr=Math.floor(hr*(Xe-1));if(Wr>=Xe-1)return Object(o.last)(ke);if(Wr<0)return Object(o.head)(ke);var hn=ke[Wr],Vn=ke[Wr+1],Ln=Wr/(Xe-1),xn=(Wr+1)/(Xe-1);return hn+(hr-Ln)/(xn-Ln)*(Vn-hn)},se.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},se.prototype.calculateTicks=function(){var ye=pe.prototype.calculateTicks.call(this);return this.nice||(Object(o.last)(ye)!==this.max&&ye.push(this.max),Object(o.head)(ye)!==this.min&&ye.unshift(this.min)),ye},se.prototype.getScalePercent=function(ye){var ke=this.ticks;if(ye<Object(o.head)(ke))return 0;if(ye>Object(o.last)(ke))return 1;var Xe=0;return Object(o.each)(ke,function(hr,Wr){if(ye>=hr)Xe=Wr;else return!1}),Xe/(ke.length-1)},se}(at),rr=lr,$e=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="quantile",ye}return se.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},se}(rr),Ue=$e,ir={};function xr(pe){return ir[pe]}function nr(pe,se){if(xr(pe))throw new Error("type '"+pe+"' existed.");ir[pe]=se}var tn=function(pe){Object(S.__extends)(se,pe);function se(){var ye=pe!==null&&pe.apply(this,arguments)||this;return ye.type="identity",ye.isIdentity=!0,ye}return se.prototype.calculateTicks=function(){return this.values},se.prototype.scale=function(ye){return this.values[0]!==ye&&Object(o.isNumber)(ye)?ye:this.range[0]},se.prototype.invert=function(ye){var ke=this.range;return ye<ke[0]||ye>ke[1]?NaN:this.values[0]},se}(b),bn=tn,Ur=[1,5,2,2.5,4,3],Le=[1,5,2,2.5,4,3,1.5,7,6,8,9],or=Number.EPSILON*100;function Gr(pe,se){return(pe%se+se)%se}function Kr(pe,se,ye,ke,Xe,hr){var Wr=Object(o.size)(se),hn=Object(o.indexOf)(se,pe),Vn=0,Ln=Gr(ke,hr);return(Ln<or||hr-Ln<or)&&ke<=0&&Xe>=0&&(Vn=1),1-hn/(Wr-1)-ye+Vn}function $r(pe,se,ye){var ke=Object(o.size)(se),Xe=Object(o.indexOf)(se,pe),hr=1;return 1-Xe/(ke-1)-ye+hr}function jn(pe,se,ye,ke,Xe,hr){var Wr=(pe-1)/(hr-Xe),hn=(se-1)/(Math.max(hr,ke)-Math.min(ye,Xe));return 2-Math.max(Wr/hn,hn/Wr)}function Qn(pe,se){return pe>=se?2-(pe-1)/(se-1):1}function Bn(pe,se,ye,ke){var Xe=se-pe;return 1-.5*(Math.pow(se-ke,2)+Math.pow(pe-ye,2))/Math.pow(.1*Xe,2)}function Nn(pe,se,ye){var ke=se-pe;if(ye>ke){var Xe=(ye-ke)/2;return 1-Math.pow(Xe,2)/Math.pow(.1*ke,2)}return 1}function Xn(){return 1}function ri(pe,se,ye,ke,Xe,hr){if(ye===void 0&&(ye=5),ke===void 0&&(ke=!0),Xe===void 0&&(Xe=Ur),hr===void 0&&(hr=[.25,.2,.5,.05]),Number.isNaN(pe)||Number.isNaN(se)||typeof pe!="number"||typeof se!="number"||!ye)return{min:0,max:0,ticks:[]};if(se-pe<1e-15||ye===1)return{min:pe,max:se,ticks:[pe]};for(var Wr={score:-2,lmin:0,lmax:0,lstep:0},hn=1;hn<Infinity;){for(var Vn=0;Vn<Xe.length;Vn+=1){var Ln=Xe[Vn],xn=$r(Ln,Xe,hn);if(hr[0]*xn+hr[1]+hr[2]+hr[3]<Wr.score){hn=Infinity;break}for(var Fi=2;Fi<Infinity;){var ji=Qn(Fi,ye);if(hr[0]*xn+hr[1]+hr[2]*ji+hr[3]<Wr.score)break;for(var sa=(se-pe)/(Fi+1)/hn/Ln,he=Math.ceil(Math.log10(sa));he<Infinity;){var Ia=hn*Ln*Math.pow(10,he),fo=Nn(pe,se,Ia*(Fi-1));if(hr[0]*xn+hr[1]*fo+hr[2]*ji+hr[3]<Wr.score)break;var ho=Math.floor(se/Ia)*hn-(Fi-1)*hn,Ba=Math.ceil(pe/Ia)*hn;if(ho>Ba){he+=1;continue}for(var Xo=ho;Xo<=Ba;Xo+=1){var Gn=Xo*(Ia/hn),Xa=Gn+Ia*(Fi-1),Ha=Ia,Ya=Kr(Ln,Xe,hn,Gn,Xa,Ha),jo=Bn(pe,se,Gn,Xa),$o=jn(Fi,ye,pe,se,Gn,Xa),ps=Xn(),Co=hr[0]*Ya+hr[1]*jo+hr[2]*$o+hr[3]*ps;Co>Wr.score&&(!ke||Gn<=pe&&Xa>=se)&&(Wr.lmin=Gn,Wr.lmax=Xa,Wr.lstep=Ha,Wr.score=Co)}he+=1}Fi+=1}}hn+=1}for(var us=0,Ma=new Array(Math.floor((Wr.lmax-Wr.lmin)/Wr.lstep)),Ho=Wr.lmin;Ho<=Wr.lmax;Ho=Ut(Ho,Wr.lstep))Ma[us]=Ho,us+=1;return{min:Math.min(pe,Object(o.head)(Ma)),max:Math.max(se,Object(o.last)(Ma)),ticks:Ma}}function In(pe){var se=pe.values,ye=pe.tickInterval,ke=pe.tickCount,Xe=se;if(Object(o.isNumber)(ye))return Object(o.filter)(Xe,function(Ln,xn){return xn%ye==0});var hr=pe.min,Wr=pe.max;if(Object(o.isNil)(hr)&&(hr=0),Object(o.isNil)(Wr)&&(Wr=se.length-1),Object(o.isNumber)(ke)&&ke<Wr-hr){var hn=ri(hr,Wr,ke,!1,[1,2,5,3,4,7,6,8,9]).ticks,Vn=Object(o.filter)(hn,function(Ln){return Ln>=hr&&Ln<=Wr});return Vn.map(function(Ln){return se[Ln]})}return se.slice(hr,Wr+1)}function gi(pe){var se=pe.min,ye=pe.max,ke=pe.nice,Xe=pe.tickCount,hr=new fa;return hr.domain([se,ye]),ke&&hr.nice(Xe),hr.ticks(Xe)}var oa=5,wa=Math.sqrt(50),Ea=Math.sqrt(10),Vi=Math.sqrt(2),fa=function(){function pe(){this._domain=[0,1]}return pe.prototype.domain=function(se){return se?(this._domain=Array.from(se,Number),this):this._domain.slice()},pe.prototype.nice=function(se){var ye,ke;se===void 0&&(se=oa);var Xe=this._domain.slice(),hr=0,Wr=this._domain.length-1,hn=this._domain[hr],Vn=this._domain[Wr],Ln;return Vn<hn&&(ye=[Vn,hn],hn=ye[0],Vn=ye[1],ke=[Wr,hr],hr=ke[0],Wr=ke[1]),Ln=Ji(hn,Vn,se),Ln>0?(hn=Math.floor(hn/Ln)*Ln,Vn=Math.ceil(Vn/Ln)*Ln,Ln=Ji(hn,Vn,se)):Ln<0&&(hn=Math.ceil(hn*Ln)/Ln,Vn=Math.floor(Vn*Ln)/Ln,Ln=Ji(hn,Vn,se)),Ln>0?(Xe[hr]=Math.floor(hn/Ln)*Ln,Xe[Wr]=Math.ceil(Vn/Ln)*Ln,this.domain(Xe)):Ln<0&&(Xe[hr]=Math.ceil(hn*Ln)/Ln,Xe[Wr]=Math.floor(Vn*Ln)/Ln,this.domain(Xe)),this},pe.prototype.ticks=function(se){return se===void 0&&(se=oa),Li(this._domain[0],this._domain[this._domain.length-1],se||oa)},pe}();function Li(pe,se,ye){var ke,Xe=-1,hr,Wr,hn;if(se=+se,pe=+pe,ye=+ye,pe===se&&ye>0)return[pe];if((ke=se<pe)&&(hr=pe,pe=se,se=hr),(hn=Ji(pe,se,ye))===0||!isFinite(hn))return[];if(hn>0)for(pe=Math.ceil(pe/hn),se=Math.floor(se/hn),Wr=new Array(hr=Math.ceil(se-pe+1));++Xe<hr;)Wr[Xe]=(pe+Xe)*hn;else for(pe=Math.floor(pe*hn),se=Math.ceil(se*hn),Wr=new Array(hr=Math.ceil(pe-se+1));++Xe<hr;)Wr[Xe]=(pe-Xe)/hn;return ke&&Wr.reverse(),Wr}function Ji(pe,se,ye){var ke=(se-pe)/Math.max(0,ye),Xe=Math.floor(Math.log(ke)/Math.LN10),hr=ke/Math.pow(10,Xe);return Xe>=0?(hr>=wa?10:hr>=Ea?5:hr>=Vi?2:1)*Math.pow(10,Xe):-Math.pow(10,-Xe)/(hr>=wa?10:hr>=Ea?5:hr>=Vi?2:1)}function Xi(pe,se,ye){var ke;return ye==="ceil"?ke=Math.ceil(pe/se):ye==="floor"?ke=Math.floor(pe/se):ke=Math.round(pe/se),ke*se}function Hi(pe,se,ye){var ke=Xi(pe,ye,"floor"),Xe=Xi(se,ye,"ceil");ke=Object(o.fixedBase)(ke,ye),Xe=Object(o.fixedBase)(Xe,ye);for(var hr=[],Wr=ke;Wr<=Xe;Wr=Wr+ye){var hn=Object(o.fixedBase)(Wr,ye);hr.push(hn)}return{min:ke,max:Xe,ticks:hr}}function pa(pe,se,ye){var ke,Xe=pe.minLimit,hr=pe.maxLimit,Wr=pe.min,hn=pe.max,Vn=pe.tickCount,Ln=Vn===void 0?5:Vn,xn=Object(o.isNil)(Xe)?Object(o.isNil)(se)?Wr:se:Xe,Fi=Object(o.isNil)(hr)?Object(o.isNil)(ye)?hn:ye:hr;if(xn>Fi&&(ke=[xn,Fi],Fi=ke[0],xn=ke[1]),Ln<=2)return[xn,Fi];for(var ji=(Fi-xn)/(Ln-1),sa=[],he=0;he<Ln;he++)sa.push(xn+ji*he);return sa}function uo(pe){var se=pe.min,ye=pe.max,ke=pe.tickInterval,Xe=pe.minLimit,hr=pe.maxLimit,Wr=gi(pe);return!Object(o.isNil)(Xe)||!Object(o.isNil)(hr)?pa(pe,Object(o.head)(Wr),Object(o.last)(Wr)):ke?Hi(se,ye,ke).ticks:Wr}function Mo(pe){var se=pe.min,ye=pe.max,ke=pe.tickCount,Xe=pe.nice,hr=pe.tickInterval,Wr=pe.minLimit,hn=pe.maxLimit,Vn=ri(se,ye,ke,Xe).ticks;return!Object(o.isNil)(Wr)||!Object(o.isNil)(hn)?pa(pe,Object(o.head)(Vn),Object(o.last)(Vn)):hr?Hi(se,ye,hr).ticks:Vn}function co(pe){var se=pe.base,ye=pe.tickCount,ke=pe.min,Xe=pe.max,hr=pe.values,Wr,hn=Nt(se,Xe);if(ke>0)Wr=Math.floor(Nt(se,ke));else{var Vn=Ht(hr,se,Xe);Wr=Math.floor(Nt(se,Vn))}for(var Ln=hn-Wr,xn=Math.ceil(Ln/ye),Fi=[],ji=Wr;ji<hn+xn;ji=ji+xn)Fi.push(Math.pow(se,ji));return ke<=0&&Fi.unshift(0),Fi}function Sa(pe,se,ye){ye===void 0&&(ye=5);var ke={max:0,min:0,ticks:[]};if(pe===se)return{max:se,min:pe,ticks:[pe]};var Xe=1.5,hr=.5+1.5*Xe,Wr=se-pe,hn=Wr/ye,Vn=Math.pow(10,Math.floor(Math.log10(hn))),Ln=Vn<1?Math.ceil(Math.abs(Math.log10(Vn))):0,xn=Vn;2*Vn-hn<Xe*(hn-xn)&&(xn=2*Vn,5*Vn-hn<hr*(hn-xn)&&(xn=5*Vn,10*Vn-hn<Xe*(hn-xn)&&(xn=10*Vn)));var Fi=Math.ceil(se/xn),ji=Math.floor(pe/xn);ke.max=Math.max(Fi*xn,se),ke.min=Math.min(ji*xn,pe);for(var sa=Number.parseFloat((ji*xn).toFixed(Ln));sa<se;)ke.ticks.push(sa),sa+=xn,Ln&&(sa=Number.parseFloat(sa.toFixed(Ln)));return ke.ticks.push(sa),ke}function Wo(pe){var se=pe.exponent,ye=pe.tickCount,ke=Math.ceil(xt(se,pe.max)),Xe=Math.floor(xt(se,pe.min)),hr=Sa(Xe,ke,ye).ticks;return hr.map(function(Wr){var hn=Wr>=0?1:-1;return Math.pow(Wr,se)*hn})}function zo(pe,se){var ye=pe.length*se;return se===1?pe[pe.length-1]:se===0?pe[0]:ye%1!=0?pe[Math.ceil(ye)-1]:pe.length%2==0?(pe[ye-1]+pe[ye])/2:pe[ye]}function ko(pe){var se=pe.tickCount,ye=pe.values;if(!ye||!ye.length)return[];for(var ke=ye.slice().sort(function(hn,Vn){return hn-Vn}),Xe=[],hr=0;hr<se;hr++){var Wr=hr/(se-1);Xe.push(zo(ke,Wr))}return Xe}function yl(pe){var se=pe.min,ye=pe.max,ke=pe.tickCount,Xe=pe.tickInterval,hr=pe.minLimit,Wr=pe.maxLimit,hn=Sa(se,ye,ke).ticks;return!Object(o.isNil)(hr)||!Object(o.isNil)(Wr)?pa(pe,Object(o.head)(hn),Object(o.last)(hn)):Xe?Hi(se,ye,Xe).ticks:hn}function ya(pe){var se=pe.min,ye=pe.max,ke=pe.minTickInterval,Xe=pe.tickInterval,hr=pe.tickCount;if(Xe)hr=Math.ceil((ye-se)/Xe);else{Xe=Wt(se,ye,hr)[1];var Wr=(ye-se)/Xe,hn=Wr/hr;hn>1&&(Xe=Xe*Math.ceil(hn)),ke&&Xe<ke&&(Xe=ke)}for(var Vn=[],Ln=se;Ln<ye+Xe;Ln+=Xe)Vn.push(Ln);return Vn}function ml(pe){var se=In(pe),ye=Object(o.last)(pe.values);return ye!==Object(o.last)(se)&&se.push(ye),se}function Ms(pe){return new Date(pe).getFullYear()}function ls(pe){return new Date(pe,0,1).getTime()}function Cs(pe){return new Date(pe).getMonth()}function qs(pe,se){var ye=Ms(pe),ke=Ms(se),Xe=Cs(pe),hr=Cs(se);return(ke-ye)*12+(hr-Xe)%12}function li(pe,se){return new Date(pe,se,1).getTime()}function Fl(pe,se){return Math.ceil((se-pe)/nt)}function Vo(pe,se){return Math.ceil((se-pe)/pt)}function Gs(pe,se){return Math.ceil((se-pe)/(60*1e3))}function Us(pe){var se=pe.min,ye=pe.max,ke=pe.minTickInterval,Xe=pe.tickCount,hr=pe.tickInterval,Wr=[];hr||(hr=(ye-se)/Xe,ke&&hr<ke&&(hr=ke));var hn=Ms(se);if(hr>Pt)for(var Vn=Ms(ye),Ln=Math.ceil(hr/Pt),xn=hn;xn<=Vn+Ln;xn=xn+Ln)Wr.push(ls(xn));else if(hr>yt)for(var Fi=Math.ceil(hr/yt),ji=Cs(se),sa=qs(se,ye),xn=0;xn<=sa+Fi;xn=xn+Fi)Wr.push(li(hn,xn+ji));else if(hr>nt)for(var he=new Date(se),Ia=he.getFullYear(),fo=he.getMonth(),ho=he.getDate(),Ba=Math.ceil(hr/nt),Xo=Fl(se,ye),xn=0;xn<Xo+Ba;xn=xn+Ba)Wr.push(new Date(Ia,fo,ho+xn).getTime());else if(hr>pt)for(var he=new Date(se),Ia=he.getFullYear(),fo=he.getMonth(),Ba=he.getDate(),Gn=he.getHours(),Xa=Math.ceil(hr/pt),Ha=Vo(se,ye),xn=0;xn<=Ha+Xa;xn=xn+Xa)Wr.push(new Date(Ia,fo,Ba,Gn+xn).getTime());else if(hr>H)for(var Ya=Gs(se,ye),jo=Math.ceil(hr/H),xn=0;xn<=Ya+jo;xn=xn+jo)Wr.push(se+xn*H);else{var $o=hr;$o<et&&($o=et);for(var ps=Math.floor(se/et)*et,Co=Math.ceil((ye-se)/et),us=Math.ceil($o/et),xn=0;xn<Co+us;xn=xn+us)Wr.push(ps+xn*et)}return Wr.length>=512&&console.warn("Notice: current ticks length("+Wr.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+hr+") is too small, increase the value to solve the problem!"),Wr}C("cat",In),C("time-cat",ml),C("wilkinson-extended",Mo),C("r-pretty",yl),C("time",ya),C("time-pretty",Us),C("log",co),C("pow",Wo),C("quantile",ko),C("d3-linear",uo),nr("cat",E),nr("category",E),nr("identity",bn),nr("linear",Ft),nr("log",oe),nr("pow",Ce),nr("time",We),nr("timeCat",Lt),nr("quantize",rr),nr("quantile",Ue)},"7LJS":function(jt,A,a){var f=a("0Zv/");function o(x,O,C){for(var P=-1,b=x.length;++P<b;){var S=x[P],y=O(S);if(y!=null&&(E===void 0?y===y&&!f(y):C(y,E)))var E=y,m=S}return m}jt.exports=o},"7Nom":function(jt,A){function a(o,x){for(var O=0;O<x.length;O++){var C=x[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,C.key,C)}}function f(o,x,O){return x&&a(o.prototype,x),O&&a(o,O),o}jt.exports=f,jt.exports.default=jt.exports,jt.exports.__esModule=!0},"7Xsh":function(jt,A){},"7stk":function(jt,A,a){"use strict";a.d(A,"a",function(){return j});var f=a("16OP"),o=a.n(f),x=a("cW+D"),O=a.n(x),C=a("oOaK"),P=a.n(C),b=a("vpv6"),S=a.n(b),y=a("G5xY"),E=a.n(y),m=a("Hg9g"),T=a("oq+b");function L(U){var W=g();return function(){var N=E()(U),I;if(W){var B=E()(this).constructor;I=Reflect.construct(N,arguments,B)}else I=N.apply(this,arguments);return S()(this,I)}}function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(U){return!1}}var j=function(U){P()(z,U);var W=L(z);function z(N){var I;return o()(this,z),I=W.call(this,N),I.material=void 0,I.geometry=void 0,I.aabb=new T.a,I.aabbDirty=!0,I.model=void 0,I.visible=!0,I.children=[],Object.assign(O()(I),N),I}return z}(m.a)},"8+ZV":function(jt,A){jt.exports=a;function a(f,o){var x=o[0],O=o[1],C=x*x+O*O;return C>0&&(C=1/Math.sqrt(C),f[0]=o[0]*C,f[1]=o[1]*C),f}},"8DqP":function(jt,A,a){"use strict";a.d(A,"a",function(){return C}),a.d(A,"d",function(){return b}),a.d(A,"e",function(){return S}),a.d(A,"c",function(){return m}),a.d(A,"f",function(){return T.a}),a.d(A,"b",function(){return L}),a.d(A,"g",function(){return g}),a.d(A,"h",function(){return j});var f=a("CMID"),o=a("LbVa"),x=a("nHjW"),O=a("cnw0");function C(U){var W=U.options,z=W.area,N=W.xField,I=W.yField,B=W.seriesField,G=W.smooth,k=W.tooltip,V=Object(o.a)(k,[N,I,B]),tt=V.fields,Q=V.formatter;return z?Object(O.a)(Object(x.c)({},U,{options:{type:"area",colorField:B,tooltipFields:tt,mapping:Object(f.__assign)({shape:G?"smooth":"area",tooltip:Q},z)}})):U}var P=a("jg4I");function b(U){var W=U.options,z=W.line,N=W.stepType,I=W.xField,B=W.yField,G=W.seriesField,k=W.smooth,V=W.connectNulls,tt=W.tooltip,Q=Object(o.a)(tt,[I,B,G]),K=Q.fields,_=Q.formatter;return z?Object(O.a)(Object(x.c)({},U,{options:{type:"line",colorField:G,tooltipFields:K,mapping:Object(P.deepMix)({shape:N||(k?"smooth":"line"),tooltip:_},z),args:{connectNulls:V}}})):U}function S(U){var W=U.options,z=W.point,N=W.xField,I=W.yField,B=W.seriesField,G=W.sizeField,k=W.shapeField,V=W.tooltip,tt=Object(o.a)(V,[N,I,B,G,k]),Q=tt.fields,K=tt.formatter;return z?Object(O.a)(Object(x.c)({},U,{options:{type:"point",colorField:B,shapeField:k,tooltipFields:Q,mapping:Object(f.__assign)({tooltip:K},z)}})):U}var y=a("JUmX");function E(U){var W=U.chart,z=U.options,N=U.ext,I=z.seriesField,B=z.isGroup,G=z.isStack,k=z.marginRatio,V=z.widthRatio,tt=z.groupField,Q=z.theme,K=[];if(I&&(B&&K.push({type:"dodge",dodgeBy:tt||I,marginRatio:k}),G&&K.push({type:"stack",marginRatio:k})),K.length&&(N==null?void 0:N.geometry)){var _=N==null?void 0:N.geometry;_.adjust(K)}return Object(P.isNil)(V)||W.theme(Object(x.c)({},Object(P.isObject)(Q)?Q:Object(y.getTheme)(Q),{columnWidthRatio:V})),U}function m(U){var W=U.options,z=W.xField,N=W.yField,I=W.interval,B=W.seriesField,G=W.tooltip,k=W.minColumnWidth,V=W.maxColumnWidth,tt=W.columnBackground,Q=W.dodgePadding,K=W.intervalPadding,_=Object(o.a)(G,[z,N,B]),Y=_.fields,q=_.formatter,ot=(I?Object(O.a)(Object(x.c)({},U,{options:{type:"interval",colorField:B,tooltipFields:Y,mapping:Object(f.__assign)({tooltip:q},I),args:{dodgePadding:Q,intervalPadding:K,minColumnWidth:k,maxColumnWidth:V,background:tt}}})):U).ext;return E(Object(f.__assign)(Object(f.__assign)({},U),{ext:ot}))}var T=a("NG7W");function L(U){var W=U.options,z=W.edge,N=W.xField,I=W.yField,B=W.seriesField,G=W.tooltip,k=Object(o.a)(G,[N,I,B]),V=k.fields,tt=k.formatter;return z?Object(O.a)(Object(x.c)({},U,{options:{type:"edge",colorField:B,tooltipFields:V,mapping:Object(f.__assign)({tooltip:tt},z)}})):U}function g(U){var W=U.options,z=W.schema,N=W.xField,I=W.yField,B=W.seriesField,G=W.tooltip,k=Object(o.a)(G,[N,I,B]),V=k.fields,tt=k.formatter;return z?Object(O.a)(Object(x.c)({},U,{options:{type:"schema",colorField:B,tooltipFields:V,mapping:Object(f.__assign)({tooltip:tt},z)}})):U}function j(U){var W=U.options,z=W.violin,N=W.xField,I=W.yField,B=W.seriesField,G=W.sizeField,k=W.tooltip,V=Object(o.a)(k,[N,I,B,G]),tt=V.fields,Q=V.formatter;return z?Object(O.a)(Object(x.c)({},U,{options:{type:"violin",colorField:B,tooltipFields:tt,mapping:Object(f.__assign)({tooltip:Q},z)}})):U}},"8Lhm":function(jt,A,a){var f=a("qccO");function o(x){var O=f(x),C=O%1;return O===O?C?O-C:O:0}jt.exports=o},"8Loy":function(jt,A,a){"use strict";a.d(A,"c",function(){return o}),a.d(A,"a",function(){return x}),a.d(A,"h",function(){return O}),a.d(A,"k",function(){return C}),a.d(A,"j",function(){return P}),a.d(A,"b",function(){return b}),a.d(A,"g",function(){return S}),a.d(A,"e",function(){return y}),a.d(A,"i",function(){return T}),a.d(A,"d",function(){return j}),a.d(A,"m",function(){return U}),a.d(A,"l",function(){return W}),a.d(A,"f",function(){return z});var f=a("jg4I");function o(N){var I=0,B=0,G=0,k=0;return Object(f.isNumber)(N)?I=B=G=k=N:Object(f.isArray)(N)&&(I=N[0],G=Object(f.isNil)(N[1])?N[0]:N[1],k=Object(f.isNil)(N[2])?N[0]:N[2],B=Object(f.isNil)(N[3])?G:N[3]),[I,G,k,B]}function x(N){for(var I=N.childNodes,B=I.length,G=B-1;G>=0;G--)N.removeChild(I[G])}function O(N,I){return!!N.className.match(new RegExp("(\\s|^)"+I+"(\\s|$)"))}function C(N){var I=N.start,B=N.end,G=Math.min(I.x,B.x),k=Math.min(I.y,B.y),V=Math.max(I.x,B.x),tt=Math.max(I.y,B.y);return{x:G,y:k,minX:G,minY:k,maxX:V,maxY:tt,width:V-G,height:tt-k}}function P(N){var I=N.map(function(Q){return Q.x}),B=N.map(function(Q){return Q.y}),G=Math.min.apply(Math,I),k=Math.min.apply(Math,B),V=Math.max.apply(Math,I),tt=Math.max.apply(Math,B);return{x:G,y:k,minX:G,minY:k,maxX:V,maxY:tt,width:V-G,height:tt-k}}function b(N,I,B,G){var k=N+B,V=I+G;return{x:N,y:I,width:B,height:G,minX:N,minY:I,maxX:isNaN(k)?0:k,maxY:isNaN(V)?0:V}}function S(N,I,B){return(1-B)*N+I*B}function y(N,I,B){return{x:N.x+Math.cos(B)*I,y:N.y+Math.sin(B)*I}}function E(N,I){var B=I.x-N.x,G=I.y-N.y;return Math.sqrt(B*B+G*G)}var m=function(I){return new Promise(function(B){setTimeout(B,I)})},T=function(I,B,G){return G===void 0&&(G=Math.pow(Number.EPSILON,.5)),[I,B].includes(Infinity)?Math.abs(I)===Math.abs(B):Math.abs(I-B)<G};function L(N,I){var B=Math.max(N.minX,I.minX),G=Math.max(N.minY,I.minY),k=Math.min(N.maxX,I.maxX),V=Math.min(N.maxY,I.maxY);return b(B,G,k-B,V-G)}function g(N,I){var B=Math.min(N.minX,I.minX),G=Math.min(N.minY,I.minY),k=Math.max(N.maxX,I.maxX),V=Math.max(N.maxY,I.maxY);return b(B,G,k-B,V-G)}function j(N){var I=N.getClip(),B=I&&I.getBBox(),G;if(!N.isGroup())G=N.getBBox();else{var k=Infinity,V=-Infinity,tt=Infinity,Q=-Infinity,K=N.getChildren();K.length>0?Object(f.each)(K,function(_){if(_.get("visible")){if(_.isGroup()&&_.get("children").length===0)return!0;var Y=j(_),q=_.applyToMatrix([Y.minX,Y.minY,1]),ot=_.applyToMatrix([Y.minX,Y.maxY,1]),ft=_.applyToMatrix([Y.maxX,Y.minY,1]),ct=_.applyToMatrix([Y.maxX,Y.maxY,1]),rt=Math.min(q[0],ot[0],ft[0],ct[0]),gt=Math.max(q[0],ot[0],ft[0],ct[0]),Et=Math.min(q[1],ot[1],ft[1],ct[1]),Gt=Math.max(q[1],ot[1],ft[1],ct[1]);rt<k&&(k=rt),gt>V&&(V=gt),Et<tt&&(tt=Et),Gt>Q&&(Q=Gt)}}):(k=0,V=0,tt=0,Q=0),G=b(k,tt,V-k,Q-tt)}return B?L(G,B):G}function U(N,I){if(!(!N.getClip()&&!I.getClip())){var B=I.getClip();if(!B){N.setClip(null);return}var G={type:B.get("type"),attrs:B.attr()};N.setClip(G)}}function W(N){return N+"px"}function z(N,I,B,G){var k=E(N,I),V=G/k,tt=0;return B==="start"?tt=0-V:B==="end"&&(tt=1+V),{x:S(N.x,I.x,tt),y:S(N.y,I.y,tt)}}},"8Qcm":function(jt,A,a){"use strict";var f=a("NOzu");a.d(A,"Annotation",function(){return f});var o=a("DXmi");a.d(A,"Axis",function(){return o});var x=a("radC");a.d(A,"Crosshair",function(){return x});var O=a("4GfJ");a.d(A,"Grid",function(){return O});var C=a("G0yP");a.d(A,"Legend",function(){return C});var P=a("5RYK");a.d(A,"Tooltip",function(){return P});var b=a("iXVM"),S=a("VZin"),y=a("+On4"),E=a("PrMP");a.d(A,"Slider",function(){return E.a});var m=a("mmcn");a.d(A,"Scrollbar",function(){return m.a});var T=a("DUby"),L=a.n(T),g=a("LbFW"),j=a.n(g),U=a("qi70");a.d(A,"propagationDelegate",function(){return U.a});var W=a("zRtE");a.d(A,"TOOLTIP_CSS_CONST",function(){return W})},"8Vus":function(jt,A,a){"use strict";a.d(A,"a",function(){return E});var f=a("16OP"),o=a.n(f),x=a("7Nom"),O=a.n(x),C=a("YcyD"),P=a.n(C),b,S,y;(function(m){m.PANSTART="PANSTART",m.PANEND="PANEND",m.PANMOVE="PANMOVE",m.PINCH="PINCH",m.KEYDOWN="KEYDOWN",m.KEYUP="KEYUP",m.HOVER="HOVER"})(y||(y={}));var E=(b=Object(C.injectable)(),b(S=function(){function m(){o()(this,m)}return O()(m,[{key:"listen",value:function(L){}},{key:"on",value:function(L,g){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),m}())||S)},"8Ycy":function(jt,A,a){"use strict";a.d(A,"a",function(){return B});var f=a("CMID"),o=a("tqeG"),x=a("N2cT"),O=a("8DqP"),C=a("nHjW"),P=a("VI+R"),b="$$stock-range$$",S="trend",y="up",E="down",m={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(k,V,tt){var Q;if(k==="x"){var K=tt[0];Q=K?K.title:V}else Q=V;return{position:k==="y"?"start":"end",content:Q,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},T=Object(C.c)({},o.b.getDefaultOptions(),{tooltip:m,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"}),L=a("jg4I");function g(G,k){return Object(L.map)(G,function(V){if(Object(L.isArray)(k)){var tt=k[0],Q=k[1],K=k[2],_=k[3];V[S]=V[tt]<=V[Q]?y:E,V[b]=[V[tt],V[Q],V[K],V[_]]}return V})}function j(G){var k=G.chart,V=G.options,tt=V.yField,Q=V.data,K=V.risingFill,_=V.fallingFill,Y=V.tooltip,q=V.stockStyle;k.data(g(Q,tt));var ot=Y;return ot!==!1&&(ot=Object(C.c)({},{fields:tt},ot)),Object(O.g)(Object(C.c)({},G,{options:{schema:{shape:"candle",color:[K,_],style:q},yField:b,seriesField:S,rawFields:tt,tooltip:ot}})),G}function U(G){var k,V,tt=G.chart,Q=G.options,K=Q.meta,_=Q.xAxis,Y=Q.yAxis,q=Q.xField,ot=(k={},k[q]={type:"timeCat",tickCount:6},k[S]={values:[y,E]},k),ft=Object(C.c)(ot,K,(V={},V[q]=Object(C.r)(_,P.a),V[b]=Object(C.r)(Y,P.a),V));return tt.scale(ft),G}function W(G){var k=G.chart,V=G.options,tt=V.xAxis,Q=V.yAxis,K=V.xField;return tt===!1?k.axis(K,!1):k.axis(K,tt),Q===!1?k.axis(b,!1):k.axis(b,Q),G}function z(G){var k=G.chart,V=G.options,tt=V.tooltip;return tt!==!1?k.tooltip(tt):k.tooltip(!1),G}function N(G){var k=G.chart,V=G.options,tt=V.legend;return tt?k.legend(S,tt):tt===!1&&k.legend(!1),G}function I(G){Object(C.f)(x.j,j,U,W,z,N,x.c,x.a,Object(x.b)(),x.h)(G)}var B=function(G){Object(f.__extends)(k,G);function k(){var V=G!==null&&G.apply(this,arguments)||this;return V.type="stock",V}return k.getDefaultOptions=function(){return T},k.prototype.getDefaultOptions=function(){return k.getDefaultOptions()},k.prototype.getSchemaAdaptor=function(){return I},k.prototype.changeData=function(V){this.updateOption({data:V});var tt=this.options.yField;this.chart.changeData(g(V,tt))},k}(o.b)},"8Z6n":function(jt,A){jt.exports=a;function a(){var x={};x._next=x._prev=x,this._sentinel=x}a.prototype.dequeue=function(){var x=this._sentinel,O=x._prev;if(O!==x)return f(O),O},a.prototype.enqueue=function(x){var O=this._sentinel;x._prev&&x._next&&f(x),x._next=O._next,O._next._prev=x,O._next=x,x._prev=O},a.prototype.toString=function(){for(var x=[],O=this._sentinel,C=O._prev;C!==O;)x.push(JSON.stringify(C,o)),C=C._prev;return"["+x.join(", ")+"]"};function f(x){x._prev._next=x._next,x._next._prev=x._prev,delete x._next,delete x._prev}function o(x,O){if(x!=="_next"&&x!=="_prev")return O}},"8ceh":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=o(a("2dy+"));function o(C){return C&&C.__esModule?C:{default:C}}var x=function(){function C(){this.linkedList=new f.default}return C.prototype.isEmpty=function(){return!this.linkedList.head},C.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},C.prototype.enqueue=function(P){this.linkedList.append(P)},C.prototype.dequeue=function(){var P=this.linkedList.deleteHead();return P?P.value:null},C.prototype.toString=function(P){return this.linkedList.toString(P)},C}(),O=x;A.default=O},"8e3m":function(jt,A,a){"use strict";var f=function(){function o(x,O){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=x,this.name=x,this.originalEvent=O,this.timeStamp=O.timeStamp}return o.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.prototype.toString=function(){var x=this.type;return"[Event (type="+x+")]"},o.prototype.save=function(){},o.prototype.restore=function(){},o}();A.a=f},"8hqx":function(jt,A,a){jt.exports=a("KAHC")},"9+FG":function(jt,A,a){"use strict";a.d(A,"a",function(){return S});var f=5,o={}.toString,x=function(E,m){return o.call(E)==="[object "+m+"]"},O=function(E){return x(E,"Array")},C=function(E){return typeof E=="object"&&E!==null},P=function(E){if(!C(E)||!x(E,"Object"))return!1;for(var m=E;Object.getPrototypeOf(m)!==null;)m=Object.getPrototypeOf(m);return Object.getPrototypeOf(E)===m},b=function y(E,m,T,L){T=T||0,L=L||f;for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)){var j=m[g];j?P(j)?(P(E[g])||(E[g]={}),T<L?y(E[g],j,T+1,L):E[g]=m[g]):O(j)?(E[g]=[],E[g]=E[g].concat(j)):E[g]=j:E[g]=j}},S=function(E){for(var m=[],T=1;T<arguments.length;T++)m[T-1]=arguments[T];for(var L=0;L<m.length;L+=1)b(E,m[L]);return E}},"99LQ":function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"b",function(){return o}),a.d(A,"c",function(){return O}),a.d(A,"d",function(){return Ol}),a.d(A,"e",function(){return Kr}),a.d(A,"f",function(){return x});var f={};a.r(f),a.d(f,"create",function(){return P}),a.d(f,"fromMat4",function(){return b}),a.d(f,"clone",function(){return S}),a.d(f,"copy",function(){return y}),a.d(f,"fromValues",function(){return E}),a.d(f,"set",function(){return m}),a.d(f,"identity",function(){return T}),a.d(f,"transpose",function(){return L}),a.d(f,"invert",function(){return g}),a.d(f,"adjoint",function(){return j}),a.d(f,"determinant",function(){return U}),a.d(f,"multiply",function(){return W}),a.d(f,"translate",function(){return z}),a.d(f,"rotate",function(){return N}),a.d(f,"scale",function(){return I}),a.d(f,"fromTranslation",function(){return B}),a.d(f,"fromRotation",function(){return G}),a.d(f,"fromScaling",function(){return k}),a.d(f,"fromMat2d",function(){return V}),a.d(f,"fromQuat",function(){return tt}),a.d(f,"normalFromMat4",function(){return Q}),a.d(f,"projection",function(){return K}),a.d(f,"str",function(){return _}),a.d(f,"frob",function(){return Y}),a.d(f,"add",function(){return q}),a.d(f,"subtract",function(){return ot}),a.d(f,"multiplyScalar",function(){return ft}),a.d(f,"multiplyScalarAndAdd",function(){return ct}),a.d(f,"exactEquals",function(){return rt}),a.d(f,"equals",function(){return gt}),a.d(f,"mul",function(){return Et}),a.d(f,"sub",function(){return Gt});var o={};a.r(o),a.d(o,"create",function(){return Yt}),a.d(o,"clone",function(){return Xt}),a.d(o,"copy",function(){return vt}),a.d(o,"fromValues",function(){return mt}),a.d(o,"set",function(){return ut}),a.d(o,"identity",function(){return st}),a.d(o,"transpose",function(){return lt}),a.d(o,"invert",function(){return Tt}),a.d(o,"adjoint",function(){return Ot}),a.d(o,"determinant",function(){return et}),a.d(o,"multiply",function(){return H}),a.d(o,"translate",function(){return pt}),a.d(o,"scale",function(){return nt}),a.d(o,"rotate",function(){return yt}),a.d(o,"rotateX",function(){return Pt}),a.d(o,"rotateY",function(){return Rt}),a.d(o,"rotateZ",function(){return Wt}),a.d(o,"fromTranslation",function(){return Vt}),a.d(o,"fromScaling",function(){return Lt}),a.d(o,"fromRotation",function(){return Ct}),a.d(o,"fromXRotation",function(){return at}),a.d(o,"fromYRotation",function(){return It}),a.d(o,"fromZRotation",function(){return Ft}),a.d(o,"fromRotationTranslation",function(){return xt}),a.d(o,"fromQuat2",function(){return Nt}),a.d(o,"getTranslation",function(){return Ht}),a.d(o,"getScaling",function(){return Bt}),a.d(o,"getRotation",function(){return Ut}),a.d(o,"fromRotationTranslationScale",function(){return Jt}),a.d(o,"fromRotationTranslationScaleOrigin",function(){return oe}),a.d(o,"fromQuat",function(){return ge}),a.d(o,"frustum",function(){return Ce}),a.d(o,"perspective",function(){return Ie}),a.d(o,"perspectiveFromFieldOfView",function(){return We}),a.d(o,"ortho",function(){return lr}),a.d(o,"lookAt",function(){return rr}),a.d(o,"targetTo",function(){return $e}),a.d(o,"str",function(){return Ue}),a.d(o,"frob",function(){return ir}),a.d(o,"add",function(){return xr}),a.d(o,"subtract",function(){return nr}),a.d(o,"multiplyScalar",function(){return tn}),a.d(o,"multiplyScalarAndAdd",function(){return bn}),a.d(o,"exactEquals",function(){return Ur}),a.d(o,"equals",function(){return Le}),a.d(o,"mul",function(){return or}),a.d(o,"sub",function(){return Gr});var x={};a.r(x),a.d(x,"create",function(){return $r}),a.d(x,"clone",function(){return jn}),a.d(x,"fromValues",function(){return Qn}),a.d(x,"copy",function(){return Bn}),a.d(x,"set",function(){return Nn}),a.d(x,"add",function(){return Xn}),a.d(x,"subtract",function(){return ri}),a.d(x,"multiply",function(){return In}),a.d(x,"divide",function(){return gi}),a.d(x,"ceil",function(){return oa}),a.d(x,"floor",function(){return wa}),a.d(x,"min",function(){return Ea}),a.d(x,"max",function(){return Vi}),a.d(x,"round",function(){return fa}),a.d(x,"scale",function(){return Li}),a.d(x,"scaleAndAdd",function(){return Ji}),a.d(x,"distance",function(){return Xi}),a.d(x,"squaredDistance",function(){return Hi}),a.d(x,"length",function(){return pa}),a.d(x,"squaredLength",function(){return uo}),a.d(x,"negate",function(){return Mo}),a.d(x,"inverse",function(){return co}),a.d(x,"normalize",function(){return Sa}),a.d(x,"dot",function(){return Wo}),a.d(x,"cross",function(){return zo}),a.d(x,"lerp",function(){return ko}),a.d(x,"random",function(){return yl}),a.d(x,"transformMat4",function(){return ya}),a.d(x,"transformQuat",function(){return ml}),a.d(x,"zero",function(){return Ms}),a.d(x,"str",function(){return ls}),a.d(x,"exactEquals",function(){return Cs}),a.d(x,"equals",function(){return qs}),a.d(x,"sub",function(){return li}),a.d(x,"mul",function(){return Fl}),a.d(x,"div",function(){return Vo}),a.d(x,"dist",function(){return Gs}),a.d(x,"sqrDist",function(){return Us}),a.d(x,"len",function(){return pe}),a.d(x,"sqrLen",function(){return se}),a.d(x,"forEach",function(){return ye});var O={};a.r(O),a.d(O,"create",function(){return ke}),a.d(O,"identity",function(){return Xe}),a.d(O,"setAxisAngle",function(){return hr}),a.d(O,"getAxisAngle",function(){return Wr}),a.d(O,"getAngle",function(){return hn}),a.d(O,"multiply",function(){return Vn}),a.d(O,"rotateX",function(){return Ln}),a.d(O,"rotateY",function(){return xn}),a.d(O,"rotateZ",function(){return Fi}),a.d(O,"calculateW",function(){return ji}),a.d(O,"exp",function(){return sa}),a.d(O,"ln",function(){return he}),a.d(O,"pow",function(){return Ia}),a.d(O,"slerp",function(){return fo}),a.d(O,"random",function(){return ho}),a.d(O,"invert",function(){return Ba}),a.d(O,"conjugate",function(){return Xo}),a.d(O,"fromMat3",function(){return Gn}),a.d(O,"fromEuler",function(){return Xa}),a.d(O,"str",function(){return Ha}),a.d(O,"clone",function(){return Ya}),a.d(O,"fromValues",function(){return jo}),a.d(O,"copy",function(){return $o}),a.d(O,"set",function(){return ps}),a.d(O,"add",function(){return Co}),a.d(O,"mul",function(){return us}),a.d(O,"scale",function(){return Ma}),a.d(O,"dot",function(){return Ho}),a.d(O,"lerp",function(){return ys}),a.d(O,"length",function(){return bo}),a.d(O,"len",function(){return tl}),a.d(O,"squaredLength",function(){return Qo}),a.d(O,"sqrLen",function(){return Ws}),a.d(O,"normalize",function(){return Yo}),a.d(O,"exactEquals",function(){return Jo}),a.d(O,"equals",function(){return As}),a.d(O,"rotationTo",function(){return Ts}),a.d(O,"sqlerp",function(){return Ds}),a.d(O,"setAxes",function(){return bl});var C=a("TaHB");function P(){var X=new C.a(9);return C.a!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[5]=0,X[6]=0,X[7]=0),X[0]=1,X[4]=1,X[8]=1,X}function b(X,Mt){return X[0]=Mt[0],X[1]=Mt[1],X[2]=Mt[2],X[3]=Mt[4],X[4]=Mt[5],X[5]=Mt[6],X[6]=Mt[8],X[7]=Mt[9],X[8]=Mt[10],X}function S(X){var Mt=new C.a(9);return Mt[0]=X[0],Mt[1]=X[1],Mt[2]=X[2],Mt[3]=X[3],Mt[4]=X[4],Mt[5]=X[5],Mt[6]=X[6],Mt[7]=X[7],Mt[8]=X[8],Mt}function y(X,Mt){return X[0]=Mt[0],X[1]=Mt[1],X[2]=Mt[2],X[3]=Mt[3],X[4]=Mt[4],X[5]=Mt[5],X[6]=Mt[6],X[7]=Mt[7],X[8]=Mt[8],X}function E(X,Mt,Qt,ae,de,xe,je,Fe,ze){var Qe=new C.a(9);return Qe[0]=X,Qe[1]=Mt,Qe[2]=Qt,Qe[3]=ae,Qe[4]=de,Qe[5]=xe,Qe[6]=je,Qe[7]=Fe,Qe[8]=ze,Qe}function m(X,Mt,Qt,ae,de,xe,je,Fe,ze,Qe){return X[0]=Mt,X[1]=Qt,X[2]=ae,X[3]=de,X[4]=xe,X[5]=je,X[6]=Fe,X[7]=ze,X[8]=Qe,X}function T(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function L(X,Mt){if(X===Mt){var Qt=Mt[1],ae=Mt[2],de=Mt[5];X[1]=Mt[3],X[2]=Mt[6],X[3]=Qt,X[5]=Mt[7],X[6]=ae,X[7]=de}else X[0]=Mt[0],X[1]=Mt[3],X[2]=Mt[6],X[3]=Mt[1],X[4]=Mt[4],X[5]=Mt[7],X[6]=Mt[2],X[7]=Mt[5],X[8]=Mt[8];return X}function g(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Mt[4],Fe=Mt[5],ze=Mt[6],Qe=Mt[7],Ze=Mt[8],jr=Ze*je-Fe*Qe,Pr=-Ze*xe+Fe*ze,Tr=Qe*xe-je*ze,un=Qt*jr+ae*Pr+de*Tr;return un?(un=1/un,X[0]=jr*un,X[1]=(-Ze*ae+de*Qe)*un,X[2]=(Fe*ae-de*je)*un,X[3]=Pr*un,X[4]=(Ze*Qt-de*ze)*un,X[5]=(-Fe*Qt+de*xe)*un,X[6]=Tr*un,X[7]=(-Qe*Qt+ae*ze)*un,X[8]=(je*Qt-ae*xe)*un,X):null}function j(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Mt[4],Fe=Mt[5],ze=Mt[6],Qe=Mt[7],Ze=Mt[8];return X[0]=je*Ze-Fe*Qe,X[1]=de*Qe-ae*Ze,X[2]=ae*Fe-de*je,X[3]=Fe*ze-xe*Ze,X[4]=Qt*Ze-de*ze,X[5]=de*xe-Qt*Fe,X[6]=xe*Qe-je*ze,X[7]=ae*ze-Qt*Qe,X[8]=Qt*je-ae*xe,X}function U(X){var Mt=X[0],Qt=X[1],ae=X[2],de=X[3],xe=X[4],je=X[5],Fe=X[6],ze=X[7],Qe=X[8];return Mt*(Qe*xe-je*ze)+Qt*(-Qe*de+je*Fe)+ae*(ze*de-xe*Fe)}function W(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Mt[4],ze=Mt[5],Qe=Mt[6],Ze=Mt[7],jr=Mt[8],Pr=Qt[0],Tr=Qt[1],un=Qt[2],pn=Qt[3],zr=Qt[4],Pn=Qt[5],Si=Qt[6],Jn=Qt[7],qn=Qt[8];return X[0]=Pr*ae+Tr*je+un*Qe,X[1]=Pr*de+Tr*Fe+un*Ze,X[2]=Pr*xe+Tr*ze+un*jr,X[3]=pn*ae+zr*je+Pn*Qe,X[4]=pn*de+zr*Fe+Pn*Ze,X[5]=pn*xe+zr*ze+Pn*jr,X[6]=Si*ae+Jn*je+qn*Qe,X[7]=Si*de+Jn*Fe+qn*Ze,X[8]=Si*xe+Jn*ze+qn*jr,X}function z(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Mt[4],ze=Mt[5],Qe=Mt[6],Ze=Mt[7],jr=Mt[8],Pr=Qt[0],Tr=Qt[1];return X[0]=ae,X[1]=de,X[2]=xe,X[3]=je,X[4]=Fe,X[5]=ze,X[6]=Pr*ae+Tr*je+Qe,X[7]=Pr*de+Tr*Fe+Ze,X[8]=Pr*xe+Tr*ze+jr,X}function N(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Mt[4],ze=Mt[5],Qe=Mt[6],Ze=Mt[7],jr=Mt[8],Pr=Math.sin(Qt),Tr=Math.cos(Qt);return X[0]=Tr*ae+Pr*je,X[1]=Tr*de+Pr*Fe,X[2]=Tr*xe+Pr*ze,X[3]=Tr*je-Pr*ae,X[4]=Tr*Fe-Pr*de,X[5]=Tr*ze-Pr*xe,X[6]=Qe,X[7]=Ze,X[8]=jr,X}function I(X,Mt,Qt){var ae=Qt[0],de=Qt[1];return X[0]=ae*Mt[0],X[1]=ae*Mt[1],X[2]=ae*Mt[2],X[3]=de*Mt[3],X[4]=de*Mt[4],X[5]=de*Mt[5],X[6]=Mt[6],X[7]=Mt[7],X[8]=Mt[8],X}function B(X,Mt){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=Mt[0],X[7]=Mt[1],X[8]=1,X}function G(X,Mt){var Qt=Math.sin(Mt),ae=Math.cos(Mt);return X[0]=ae,X[1]=Qt,X[2]=0,X[3]=-Qt,X[4]=ae,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function k(X,Mt){return X[0]=Mt[0],X[1]=0,X[2]=0,X[3]=0,X[4]=Mt[1],X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function V(X,Mt){return X[0]=Mt[0],X[1]=Mt[1],X[2]=0,X[3]=Mt[2],X[4]=Mt[3],X[5]=0,X[6]=Mt[4],X[7]=Mt[5],X[8]=1,X}function tt(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Qt+Qt,Fe=ae+ae,ze=de+de,Qe=Qt*je,Ze=ae*je,jr=ae*Fe,Pr=de*je,Tr=de*Fe,un=de*ze,pn=xe*je,zr=xe*Fe,Pn=xe*ze;return X[0]=1-jr-un,X[3]=Ze-Pn,X[6]=Pr+zr,X[1]=Ze+Pn,X[4]=1-Qe-un,X[7]=Tr-pn,X[2]=Pr-zr,X[5]=Tr+pn,X[8]=1-Qe-jr,X}function Q(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Mt[4],Fe=Mt[5],ze=Mt[6],Qe=Mt[7],Ze=Mt[8],jr=Mt[9],Pr=Mt[10],Tr=Mt[11],un=Mt[12],pn=Mt[13],zr=Mt[14],Pn=Mt[15],Si=Qt*Fe-ae*je,Jn=Qt*ze-de*je,qn=Qt*Qe-xe*je,hi=ae*ze-de*Fe,ii=ae*Qe-xe*Fe,xi=de*Qe-xe*ze,Wi=Ze*pn-jr*un,la=Ze*zr-Pr*un,Pi=Ze*Pn-Tr*un,ta=jr*zr-Pr*pn,Yi=jr*Pn-Tr*pn,zi=Pr*Pn-Tr*zr,Ei=Si*zi-Jn*Yi+qn*ta+hi*Pi-ii*la+xi*Wi;return Ei?(Ei=1/Ei,X[0]=(Fe*zi-ze*Yi+Qe*ta)*Ei,X[1]=(ze*Pi-je*zi-Qe*la)*Ei,X[2]=(je*Yi-Fe*Pi+Qe*Wi)*Ei,X[3]=(de*Yi-ae*zi-xe*ta)*Ei,X[4]=(Qt*zi-de*Pi+xe*la)*Ei,X[5]=(ae*Pi-Qt*Yi-xe*Wi)*Ei,X[6]=(pn*xi-zr*ii+Pn*hi)*Ei,X[7]=(zr*qn-un*xi-Pn*Jn)*Ei,X[8]=(un*ii-pn*qn+Pn*Si)*Ei,X):null}function K(X,Mt,Qt){return X[0]=2/Mt,X[1]=0,X[2]=0,X[3]=0,X[4]=-2/Qt,X[5]=0,X[6]=-1,X[7]=1,X[8]=1,X}function _(X){return"mat3("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+", "+X[4]+", "+X[5]+", "+X[6]+", "+X[7]+", "+X[8]+")"}function Y(X){return Math.hypot(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8])}function q(X,Mt,Qt){return X[0]=Mt[0]+Qt[0],X[1]=Mt[1]+Qt[1],X[2]=Mt[2]+Qt[2],X[3]=Mt[3]+Qt[3],X[4]=Mt[4]+Qt[4],X[5]=Mt[5]+Qt[5],X[6]=Mt[6]+Qt[6],X[7]=Mt[7]+Qt[7],X[8]=Mt[8]+Qt[8],X}function ot(X,Mt,Qt){return X[0]=Mt[0]-Qt[0],X[1]=Mt[1]-Qt[1],X[2]=Mt[2]-Qt[2],X[3]=Mt[3]-Qt[3],X[4]=Mt[4]-Qt[4],X[5]=Mt[5]-Qt[5],X[6]=Mt[6]-Qt[6],X[7]=Mt[7]-Qt[7],X[8]=Mt[8]-Qt[8],X}function ft(X,Mt,Qt){return X[0]=Mt[0]*Qt,X[1]=Mt[1]*Qt,X[2]=Mt[2]*Qt,X[3]=Mt[3]*Qt,X[4]=Mt[4]*Qt,X[5]=Mt[5]*Qt,X[6]=Mt[6]*Qt,X[7]=Mt[7]*Qt,X[8]=Mt[8]*Qt,X}function ct(X,Mt,Qt,ae){return X[0]=Mt[0]+Qt[0]*ae,X[1]=Mt[1]+Qt[1]*ae,X[2]=Mt[2]+Qt[2]*ae,X[3]=Mt[3]+Qt[3]*ae,X[4]=Mt[4]+Qt[4]*ae,X[5]=Mt[5]+Qt[5]*ae,X[6]=Mt[6]+Qt[6]*ae,X[7]=Mt[7]+Qt[7]*ae,X[8]=Mt[8]+Qt[8]*ae,X}function rt(X,Mt){return X[0]===Mt[0]&&X[1]===Mt[1]&&X[2]===Mt[2]&&X[3]===Mt[3]&&X[4]===Mt[4]&&X[5]===Mt[5]&&X[6]===Mt[6]&&X[7]===Mt[7]&&X[8]===Mt[8]}function gt(X,Mt){var Qt=X[0],ae=X[1],de=X[2],xe=X[3],je=X[4],Fe=X[5],ze=X[6],Qe=X[7],Ze=X[8],jr=Mt[0],Pr=Mt[1],Tr=Mt[2],un=Mt[3],pn=Mt[4],zr=Mt[5],Pn=Mt[6],Si=Mt[7],Jn=Mt[8];return Math.abs(Qt-jr)<=C.b*Math.max(1,Math.abs(Qt),Math.abs(jr))&&Math.abs(ae-Pr)<=C.b*Math.max(1,Math.abs(ae),Math.abs(Pr))&&Math.abs(de-Tr)<=C.b*Math.max(1,Math.abs(de),Math.abs(Tr))&&Math.abs(xe-un)<=C.b*Math.max(1,Math.abs(xe),Math.abs(un))&&Math.abs(je-pn)<=C.b*Math.max(1,Math.abs(je),Math.abs(pn))&&Math.abs(Fe-zr)<=C.b*Math.max(1,Math.abs(Fe),Math.abs(zr))&&Math.abs(ze-Pn)<=C.b*Math.max(1,Math.abs(ze),Math.abs(Pn))&&Math.abs(Qe-Si)<=C.b*Math.max(1,Math.abs(Qe),Math.abs(Si))&&Math.abs(Ze-Jn)<=C.b*Math.max(1,Math.abs(Ze),Math.abs(Jn))}var Et=W,Gt=ot;function Yt(){var X=new C.a(16);return C.a!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[11]=0,X[12]=0,X[13]=0,X[14]=0),X[0]=1,X[5]=1,X[10]=1,X[15]=1,X}function Xt(X){var Mt=new C.a(16);return Mt[0]=X[0],Mt[1]=X[1],Mt[2]=X[2],Mt[3]=X[3],Mt[4]=X[4],Mt[5]=X[5],Mt[6]=X[6],Mt[7]=X[7],Mt[8]=X[8],Mt[9]=X[9],Mt[10]=X[10],Mt[11]=X[11],Mt[12]=X[12],Mt[13]=X[13],Mt[14]=X[14],Mt[15]=X[15],Mt}function vt(X,Mt){return X[0]=Mt[0],X[1]=Mt[1],X[2]=Mt[2],X[3]=Mt[3],X[4]=Mt[4],X[5]=Mt[5],X[6]=Mt[6],X[7]=Mt[7],X[8]=Mt[8],X[9]=Mt[9],X[10]=Mt[10],X[11]=Mt[11],X[12]=Mt[12],X[13]=Mt[13],X[14]=Mt[14],X[15]=Mt[15],X}function mt(X,Mt,Qt,ae,de,xe,je,Fe,ze,Qe,Ze,jr,Pr,Tr,un,pn){var zr=new C.a(16);return zr[0]=X,zr[1]=Mt,zr[2]=Qt,zr[3]=ae,zr[4]=de,zr[5]=xe,zr[6]=je,zr[7]=Fe,zr[8]=ze,zr[9]=Qe,zr[10]=Ze,zr[11]=jr,zr[12]=Pr,zr[13]=Tr,zr[14]=un,zr[15]=pn,zr}function ut(X,Mt,Qt,ae,de,xe,je,Fe,ze,Qe,Ze,jr,Pr,Tr,un,pn,zr){return X[0]=Mt,X[1]=Qt,X[2]=ae,X[3]=de,X[4]=xe,X[5]=je,X[6]=Fe,X[7]=ze,X[8]=Qe,X[9]=Ze,X[10]=jr,X[11]=Pr,X[12]=Tr,X[13]=un,X[14]=pn,X[15]=zr,X}function st(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function lt(X,Mt){if(X===Mt){var Qt=Mt[1],ae=Mt[2],de=Mt[3],xe=Mt[6],je=Mt[7],Fe=Mt[11];X[1]=Mt[4],X[2]=Mt[8],X[3]=Mt[12],X[4]=Qt,X[6]=Mt[9],X[7]=Mt[13],X[8]=ae,X[9]=xe,X[11]=Mt[14],X[12]=de,X[13]=je,X[14]=Fe}else X[0]=Mt[0],X[1]=Mt[4],X[2]=Mt[8],X[3]=Mt[12],X[4]=Mt[1],X[5]=Mt[5],X[6]=Mt[9],X[7]=Mt[13],X[8]=Mt[2],X[9]=Mt[6],X[10]=Mt[10],X[11]=Mt[14],X[12]=Mt[3],X[13]=Mt[7],X[14]=Mt[11],X[15]=Mt[15];return X}function Tt(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Mt[4],Fe=Mt[5],ze=Mt[6],Qe=Mt[7],Ze=Mt[8],jr=Mt[9],Pr=Mt[10],Tr=Mt[11],un=Mt[12],pn=Mt[13],zr=Mt[14],Pn=Mt[15],Si=Qt*Fe-ae*je,Jn=Qt*ze-de*je,qn=Qt*Qe-xe*je,hi=ae*ze-de*Fe,ii=ae*Qe-xe*Fe,xi=de*Qe-xe*ze,Wi=Ze*pn-jr*un,la=Ze*zr-Pr*un,Pi=Ze*Pn-Tr*un,ta=jr*zr-Pr*pn,Yi=jr*Pn-Tr*pn,zi=Pr*Pn-Tr*zr,Ei=Si*zi-Jn*Yi+qn*ta+hi*Pi-ii*la+xi*Wi;return Ei?(Ei=1/Ei,X[0]=(Fe*zi-ze*Yi+Qe*ta)*Ei,X[1]=(de*Yi-ae*zi-xe*ta)*Ei,X[2]=(pn*xi-zr*ii+Pn*hi)*Ei,X[3]=(Pr*ii-jr*xi-Tr*hi)*Ei,X[4]=(ze*Pi-je*zi-Qe*la)*Ei,X[5]=(Qt*zi-de*Pi+xe*la)*Ei,X[6]=(zr*qn-un*xi-Pn*Jn)*Ei,X[7]=(Ze*xi-Pr*qn+Tr*Jn)*Ei,X[8]=(je*Yi-Fe*Pi+Qe*Wi)*Ei,X[9]=(ae*Pi-Qt*Yi-xe*Wi)*Ei,X[10]=(un*ii-pn*qn+Pn*Si)*Ei,X[11]=(jr*qn-Ze*ii-Tr*Si)*Ei,X[12]=(Fe*la-je*ta-ze*Wi)*Ei,X[13]=(Qt*ta-ae*la+de*Wi)*Ei,X[14]=(pn*Jn-un*hi-zr*Si)*Ei,X[15]=(Ze*hi-jr*Jn+Pr*Si)*Ei,X):null}function Ot(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Mt[4],Fe=Mt[5],ze=Mt[6],Qe=Mt[7],Ze=Mt[8],jr=Mt[9],Pr=Mt[10],Tr=Mt[11],un=Mt[12],pn=Mt[13],zr=Mt[14],Pn=Mt[15];return X[0]=Fe*(Pr*Pn-Tr*zr)-jr*(ze*Pn-Qe*zr)+pn*(ze*Tr-Qe*Pr),X[1]=-(ae*(Pr*Pn-Tr*zr)-jr*(de*Pn-xe*zr)+pn*(de*Tr-xe*Pr)),X[2]=ae*(ze*Pn-Qe*zr)-Fe*(de*Pn-xe*zr)+pn*(de*Qe-xe*ze),X[3]=-(ae*(ze*Tr-Qe*Pr)-Fe*(de*Tr-xe*Pr)+jr*(de*Qe-xe*ze)),X[4]=-(je*(Pr*Pn-Tr*zr)-Ze*(ze*Pn-Qe*zr)+un*(ze*Tr-Qe*Pr)),X[5]=Qt*(Pr*Pn-Tr*zr)-Ze*(de*Pn-xe*zr)+un*(de*Tr-xe*Pr),X[6]=-(Qt*(ze*Pn-Qe*zr)-je*(de*Pn-xe*zr)+un*(de*Qe-xe*ze)),X[7]=Qt*(ze*Tr-Qe*Pr)-je*(de*Tr-xe*Pr)+Ze*(de*Qe-xe*ze),X[8]=je*(jr*Pn-Tr*pn)-Ze*(Fe*Pn-Qe*pn)+un*(Fe*Tr-Qe*jr),X[9]=-(Qt*(jr*Pn-Tr*pn)-Ze*(ae*Pn-xe*pn)+un*(ae*Tr-xe*jr)),X[10]=Qt*(Fe*Pn-Qe*pn)-je*(ae*Pn-xe*pn)+un*(ae*Qe-xe*Fe),X[11]=-(Qt*(Fe*Tr-Qe*jr)-je*(ae*Tr-xe*jr)+Ze*(ae*Qe-xe*Fe)),X[12]=-(je*(jr*zr-Pr*pn)-Ze*(Fe*zr-ze*pn)+un*(Fe*Pr-ze*jr)),X[13]=Qt*(jr*zr-Pr*pn)-Ze*(ae*zr-de*pn)+un*(ae*Pr-de*jr),X[14]=-(Qt*(Fe*zr-ze*pn)-je*(ae*zr-de*pn)+un*(ae*ze-de*Fe)),X[15]=Qt*(Fe*Pr-ze*jr)-je*(ae*Pr-de*jr)+Ze*(ae*ze-de*Fe),X}function et(X){var Mt=X[0],Qt=X[1],ae=X[2],de=X[3],xe=X[4],je=X[5],Fe=X[6],ze=X[7],Qe=X[8],Ze=X[9],jr=X[10],Pr=X[11],Tr=X[12],un=X[13],pn=X[14],zr=X[15],Pn=Mt*je-Qt*xe,Si=Mt*Fe-ae*xe,Jn=Mt*ze-de*xe,qn=Qt*Fe-ae*je,hi=Qt*ze-de*je,ii=ae*ze-de*Fe,xi=Qe*un-Ze*Tr,Wi=Qe*pn-jr*Tr,la=Qe*zr-Pr*Tr,Pi=Ze*pn-jr*un,ta=Ze*zr-Pr*un,Yi=jr*zr-Pr*pn;return Pn*Yi-Si*ta+Jn*Pi+qn*la-hi*Wi+ii*xi}function H(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Mt[4],ze=Mt[5],Qe=Mt[6],Ze=Mt[7],jr=Mt[8],Pr=Mt[9],Tr=Mt[10],un=Mt[11],pn=Mt[12],zr=Mt[13],Pn=Mt[14],Si=Mt[15],Jn=Qt[0],qn=Qt[1],hi=Qt[2],ii=Qt[3];return X[0]=Jn*ae+qn*Fe+hi*jr+ii*pn,X[1]=Jn*de+qn*ze+hi*Pr+ii*zr,X[2]=Jn*xe+qn*Qe+hi*Tr+ii*Pn,X[3]=Jn*je+qn*Ze+hi*un+ii*Si,Jn=Qt[4],qn=Qt[5],hi=Qt[6],ii=Qt[7],X[4]=Jn*ae+qn*Fe+hi*jr+ii*pn,X[5]=Jn*de+qn*ze+hi*Pr+ii*zr,X[6]=Jn*xe+qn*Qe+hi*Tr+ii*Pn,X[7]=Jn*je+qn*Ze+hi*un+ii*Si,Jn=Qt[8],qn=Qt[9],hi=Qt[10],ii=Qt[11],X[8]=Jn*ae+qn*Fe+hi*jr+ii*pn,X[9]=Jn*de+qn*ze+hi*Pr+ii*zr,X[10]=Jn*xe+qn*Qe+hi*Tr+ii*Pn,X[11]=Jn*je+qn*Ze+hi*un+ii*Si,Jn=Qt[12],qn=Qt[13],hi=Qt[14],ii=Qt[15],X[12]=Jn*ae+qn*Fe+hi*jr+ii*pn,X[13]=Jn*de+qn*ze+hi*Pr+ii*zr,X[14]=Jn*xe+qn*Qe+hi*Tr+ii*Pn,X[15]=Jn*je+qn*Ze+hi*un+ii*Si,X}function pt(X,Mt,Qt){var ae=Qt[0],de=Qt[1],xe=Qt[2],je,Fe,ze,Qe,Ze,jr,Pr,Tr,un,pn,zr,Pn;return Mt===X?(X[12]=Mt[0]*ae+Mt[4]*de+Mt[8]*xe+Mt[12],X[13]=Mt[1]*ae+Mt[5]*de+Mt[9]*xe+Mt[13],X[14]=Mt[2]*ae+Mt[6]*de+Mt[10]*xe+Mt[14],X[15]=Mt[3]*ae+Mt[7]*de+Mt[11]*xe+Mt[15]):(je=Mt[0],Fe=Mt[1],ze=Mt[2],Qe=Mt[3],Ze=Mt[4],jr=Mt[5],Pr=Mt[6],Tr=Mt[7],un=Mt[8],pn=Mt[9],zr=Mt[10],Pn=Mt[11],X[0]=je,X[1]=Fe,X[2]=ze,X[3]=Qe,X[4]=Ze,X[5]=jr,X[6]=Pr,X[7]=Tr,X[8]=un,X[9]=pn,X[10]=zr,X[11]=Pn,X[12]=je*ae+Ze*de+un*xe+Mt[12],X[13]=Fe*ae+jr*de+pn*xe+Mt[13],X[14]=ze*ae+Pr*de+zr*xe+Mt[14],X[15]=Qe*ae+Tr*de+Pn*xe+Mt[15]),X}function nt(X,Mt,Qt){var ae=Qt[0],de=Qt[1],xe=Qt[2];return X[0]=Mt[0]*ae,X[1]=Mt[1]*ae,X[2]=Mt[2]*ae,X[3]=Mt[3]*ae,X[4]=Mt[4]*de,X[5]=Mt[5]*de,X[6]=Mt[6]*de,X[7]=Mt[7]*de,X[8]=Mt[8]*xe,X[9]=Mt[9]*xe,X[10]=Mt[10]*xe,X[11]=Mt[11]*xe,X[12]=Mt[12],X[13]=Mt[13],X[14]=Mt[14],X[15]=Mt[15],X}function yt(X,Mt,Qt,ae){var de=ae[0],xe=ae[1],je=ae[2],Fe=Math.hypot(de,xe,je),ze,Qe,Ze,jr,Pr,Tr,un,pn,zr,Pn,Si,Jn,qn,hi,ii,xi,Wi,la,Pi,ta,Yi,zi,Ei,Me;return Fe<C.b?null:(Fe=1/Fe,de*=Fe,xe*=Fe,je*=Fe,ze=Math.sin(Qt),Qe=Math.cos(Qt),Ze=1-Qe,jr=Mt[0],Pr=Mt[1],Tr=Mt[2],un=Mt[3],pn=Mt[4],zr=Mt[5],Pn=Mt[6],Si=Mt[7],Jn=Mt[8],qn=Mt[9],hi=Mt[10],ii=Mt[11],xi=de*de*Ze+Qe,Wi=xe*de*Ze+je*ze,la=je*de*Ze-xe*ze,Pi=de*xe*Ze-je*ze,ta=xe*xe*Ze+Qe,Yi=je*xe*Ze+de*ze,zi=de*je*Ze+xe*ze,Ei=xe*je*Ze-de*ze,Me=je*je*Ze+Qe,X[0]=jr*xi+pn*Wi+Jn*la,X[1]=Pr*xi+zr*Wi+qn*la,X[2]=Tr*xi+Pn*Wi+hi*la,X[3]=un*xi+Si*Wi+ii*la,X[4]=jr*Pi+pn*ta+Jn*Yi,X[5]=Pr*Pi+zr*ta+qn*Yi,X[6]=Tr*Pi+Pn*ta+hi*Yi,X[7]=un*Pi+Si*ta+ii*Yi,X[8]=jr*zi+pn*Ei+Jn*Me,X[9]=Pr*zi+zr*Ei+qn*Me,X[10]=Tr*zi+Pn*Ei+hi*Me,X[11]=un*zi+Si*Ei+ii*Me,Mt!==X&&(X[12]=Mt[12],X[13]=Mt[13],X[14]=Mt[14],X[15]=Mt[15]),X)}function Pt(X,Mt,Qt){var ae=Math.sin(Qt),de=Math.cos(Qt),xe=Mt[4],je=Mt[5],Fe=Mt[6],ze=Mt[7],Qe=Mt[8],Ze=Mt[9],jr=Mt[10],Pr=Mt[11];return Mt!==X&&(X[0]=Mt[0],X[1]=Mt[1],X[2]=Mt[2],X[3]=Mt[3],X[12]=Mt[12],X[13]=Mt[13],X[14]=Mt[14],X[15]=Mt[15]),X[4]=xe*de+Qe*ae,X[5]=je*de+Ze*ae,X[6]=Fe*de+jr*ae,X[7]=ze*de+Pr*ae,X[8]=Qe*de-xe*ae,X[9]=Ze*de-je*ae,X[10]=jr*de-Fe*ae,X[11]=Pr*de-ze*ae,X}function Rt(X,Mt,Qt){var ae=Math.sin(Qt),de=Math.cos(Qt),xe=Mt[0],je=Mt[1],Fe=Mt[2],ze=Mt[3],Qe=Mt[8],Ze=Mt[9],jr=Mt[10],Pr=Mt[11];return Mt!==X&&(X[4]=Mt[4],X[5]=Mt[5],X[6]=Mt[6],X[7]=Mt[7],X[12]=Mt[12],X[13]=Mt[13],X[14]=Mt[14],X[15]=Mt[15]),X[0]=xe*de-Qe*ae,X[1]=je*de-Ze*ae,X[2]=Fe*de-jr*ae,X[3]=ze*de-Pr*ae,X[8]=xe*ae+Qe*de,X[9]=je*ae+Ze*de,X[10]=Fe*ae+jr*de,X[11]=ze*ae+Pr*de,X}function Wt(X,Mt,Qt){var ae=Math.sin(Qt),de=Math.cos(Qt),xe=Mt[0],je=Mt[1],Fe=Mt[2],ze=Mt[3],Qe=Mt[4],Ze=Mt[5],jr=Mt[6],Pr=Mt[7];return Mt!==X&&(X[8]=Mt[8],X[9]=Mt[9],X[10]=Mt[10],X[11]=Mt[11],X[12]=Mt[12],X[13]=Mt[13],X[14]=Mt[14],X[15]=Mt[15]),X[0]=xe*de+Qe*ae,X[1]=je*de+Ze*ae,X[2]=Fe*de+jr*ae,X[3]=ze*de+Pr*ae,X[4]=Qe*de-xe*ae,X[5]=Ze*de-je*ae,X[6]=jr*de-Fe*ae,X[7]=Pr*de-ze*ae,X}function Vt(X,Mt){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=Mt[0],X[13]=Mt[1],X[14]=Mt[2],X[15]=1,X}function Lt(X,Mt){return X[0]=Mt[0],X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=Mt[1],X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=Mt[2],X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function Ct(X,Mt,Qt){var ae=Qt[0],de=Qt[1],xe=Qt[2],je=Math.hypot(ae,de,xe),Fe,ze,Qe;return je<C.b?null:(je=1/je,ae*=je,de*=je,xe*=je,Fe=Math.sin(Mt),ze=Math.cos(Mt),Qe=1-ze,X[0]=ae*ae*Qe+ze,X[1]=de*ae*Qe+xe*Fe,X[2]=xe*ae*Qe-de*Fe,X[3]=0,X[4]=ae*de*Qe-xe*Fe,X[5]=de*de*Qe+ze,X[6]=xe*de*Qe+ae*Fe,X[7]=0,X[8]=ae*xe*Qe+de*Fe,X[9]=de*xe*Qe-ae*Fe,X[10]=xe*xe*Qe+ze,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X)}function at(X,Mt){var Qt=Math.sin(Mt),ae=Math.cos(Mt);return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=ae,X[6]=Qt,X[7]=0,X[8]=0,X[9]=-Qt,X[10]=ae,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function It(X,Mt){var Qt=Math.sin(Mt),ae=Math.cos(Mt);return X[0]=ae,X[1]=0,X[2]=-Qt,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=Qt,X[9]=0,X[10]=ae,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function Ft(X,Mt){var Qt=Math.sin(Mt),ae=Math.cos(Mt);return X[0]=ae,X[1]=Qt,X[2]=0,X[3]=0,X[4]=-Qt,X[5]=ae,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function xt(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=ae+ae,ze=de+de,Qe=xe+xe,Ze=ae*Fe,jr=ae*ze,Pr=ae*Qe,Tr=de*ze,un=de*Qe,pn=xe*Qe,zr=je*Fe,Pn=je*ze,Si=je*Qe;return X[0]=1-(Tr+pn),X[1]=jr+Si,X[2]=Pr-Pn,X[3]=0,X[4]=jr-Si,X[5]=1-(Ze+pn),X[6]=un+zr,X[7]=0,X[8]=Pr+Pn,X[9]=un-zr,X[10]=1-(Ze+Tr),X[11]=0,X[12]=Qt[0],X[13]=Qt[1],X[14]=Qt[2],X[15]=1,X}function Nt(X,Mt){var Qt=new C.a(3),ae=-Mt[0],de=-Mt[1],xe=-Mt[2],je=Mt[3],Fe=Mt[4],ze=Mt[5],Qe=Mt[6],Ze=Mt[7],jr=ae*ae+de*de+xe*xe+je*je;return jr>0?(Qt[0]=(Fe*je+Ze*ae+ze*xe-Qe*de)*2/jr,Qt[1]=(ze*je+Ze*de+Qe*ae-Fe*xe)*2/jr,Qt[2]=(Qe*je+Ze*xe+Fe*de-ze*ae)*2/jr):(Qt[0]=(Fe*je+Ze*ae+ze*xe-Qe*de)*2,Qt[1]=(ze*je+Ze*de+Qe*ae-Fe*xe)*2,Qt[2]=(Qe*je+Ze*xe+Fe*de-ze*ae)*2),xt(X,Mt,Qt),X}function Ht(X,Mt){return X[0]=Mt[12],X[1]=Mt[13],X[2]=Mt[14],X}function Bt(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[4],je=Mt[5],Fe=Mt[6],ze=Mt[8],Qe=Mt[9],Ze=Mt[10];return X[0]=Math.hypot(Qt,ae,de),X[1]=Math.hypot(xe,je,Fe),X[2]=Math.hypot(ze,Qe,Ze),X}function Ut(X,Mt){var Qt=new C.a(3);Bt(Qt,Mt);var ae=1/Qt[0],de=1/Qt[1],xe=1/Qt[2],je=Mt[0]*ae,Fe=Mt[1]*de,ze=Mt[2]*xe,Qe=Mt[4]*ae,Ze=Mt[5]*de,jr=Mt[6]*xe,Pr=Mt[8]*ae,Tr=Mt[9]*de,un=Mt[10]*xe,pn=je+Ze+un,zr=0;return pn>0?(zr=Math.sqrt(pn+1)*2,X[3]=.25*zr,X[0]=(jr-Tr)/zr,X[1]=(Pr-ze)/zr,X[2]=(Fe-Qe)/zr):je>Ze&&je>un?(zr=Math.sqrt(1+je-Ze-un)*2,X[3]=(jr-Tr)/zr,X[0]=.25*zr,X[1]=(Fe+Qe)/zr,X[2]=(Pr+ze)/zr):Ze>un?(zr=Math.sqrt(1+Ze-je-un)*2,X[3]=(Pr-ze)/zr,X[0]=(Fe+Qe)/zr,X[1]=.25*zr,X[2]=(jr+Tr)/zr):(zr=Math.sqrt(1+un-je-Ze)*2,X[3]=(Fe-Qe)/zr,X[0]=(Pr+ze)/zr,X[1]=(jr+Tr)/zr,X[2]=.25*zr),X}function Jt(X,Mt,Qt,ae){var de=Mt[0],xe=Mt[1],je=Mt[2],Fe=Mt[3],ze=de+de,Qe=xe+xe,Ze=je+je,jr=de*ze,Pr=de*Qe,Tr=de*Ze,un=xe*Qe,pn=xe*Ze,zr=je*Ze,Pn=Fe*ze,Si=Fe*Qe,Jn=Fe*Ze,qn=ae[0],hi=ae[1],ii=ae[2];return X[0]=(1-(un+zr))*qn,X[1]=(Pr+Jn)*qn,X[2]=(Tr-Si)*qn,X[3]=0,X[4]=(Pr-Jn)*hi,X[5]=(1-(jr+zr))*hi,X[6]=(pn+Pn)*hi,X[7]=0,X[8]=(Tr+Si)*ii,X[9]=(pn-Pn)*ii,X[10]=(1-(jr+un))*ii,X[11]=0,X[12]=Qt[0],X[13]=Qt[1],X[14]=Qt[2],X[15]=1,X}function oe(X,Mt,Qt,ae,de){var xe=Mt[0],je=Mt[1],Fe=Mt[2],ze=Mt[3],Qe=xe+xe,Ze=je+je,jr=Fe+Fe,Pr=xe*Qe,Tr=xe*Ze,un=xe*jr,pn=je*Ze,zr=je*jr,Pn=Fe*jr,Si=ze*Qe,Jn=ze*Ze,qn=ze*jr,hi=ae[0],ii=ae[1],xi=ae[2],Wi=de[0],la=de[1],Pi=de[2],ta=(1-(pn+Pn))*hi,Yi=(Tr+qn)*hi,zi=(un-Jn)*hi,Ei=(Tr-qn)*ii,Me=(1-(Pr+Pn))*ii,le=(zr+Si)*ii,we=(un+Jn)*xi,He=(zr-Si)*xi,br=(1-(Pr+pn))*xi;return X[0]=ta,X[1]=Yi,X[2]=zi,X[3]=0,X[4]=Ei,X[5]=Me,X[6]=le,X[7]=0,X[8]=we,X[9]=He,X[10]=br,X[11]=0,X[12]=Qt[0]+Wi-(ta*Wi+Ei*la+we*Pi),X[13]=Qt[1]+la-(Yi*Wi+Me*la+He*Pi),X[14]=Qt[2]+Pi-(zi*Wi+le*la+br*Pi),X[15]=1,X}function ge(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Qt+Qt,Fe=ae+ae,ze=de+de,Qe=Qt*je,Ze=ae*je,jr=ae*Fe,Pr=de*je,Tr=de*Fe,un=de*ze,pn=xe*je,zr=xe*Fe,Pn=xe*ze;return X[0]=1-jr-un,X[1]=Ze+Pn,X[2]=Pr-zr,X[3]=0,X[4]=Ze-Pn,X[5]=1-Qe-un,X[6]=Tr+pn,X[7]=0,X[8]=Pr+zr,X[9]=Tr-pn,X[10]=1-Qe-jr,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function Ce(X,Mt,Qt,ae,de,xe,je){var Fe=1/(Qt-Mt),ze=1/(de-ae),Qe=1/(xe-je);return X[0]=xe*2*Fe,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=xe*2*ze,X[6]=0,X[7]=0,X[8]=(Qt+Mt)*Fe,X[9]=(de+ae)*ze,X[10]=(je+xe)*Qe,X[11]=-1,X[12]=0,X[13]=0,X[14]=je*xe*2*Qe,X[15]=0,X}function Ie(X,Mt,Qt,ae,de){var xe=1/Math.tan(Mt/2),je;return X[0]=xe/Qt,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=xe,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[11]=-1,X[12]=0,X[13]=0,X[15]=0,de!=null&&de!==Infinity?(je=1/(ae-de),X[10]=(de+ae)*je,X[14]=2*de*ae*je):(X[10]=-1,X[14]=-2*ae),X}function We(X,Mt,Qt,ae){var de=Math.tan(Mt.upDegrees*Math.PI/180),xe=Math.tan(Mt.downDegrees*Math.PI/180),je=Math.tan(Mt.leftDegrees*Math.PI/180),Fe=Math.tan(Mt.rightDegrees*Math.PI/180),ze=2/(je+Fe),Qe=2/(de+xe);return X[0]=ze,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=Qe,X[6]=0,X[7]=0,X[8]=-((je-Fe)*ze*.5),X[9]=(de-xe)*Qe*.5,X[10]=ae/(Qt-ae),X[11]=-1,X[12]=0,X[13]=0,X[14]=ae*Qt/(Qt-ae),X[15]=0,X}function lr(X,Mt,Qt,ae,de,xe,je){var Fe=1/(Mt-Qt),ze=1/(ae-de),Qe=1/(xe-je);return X[0]=-2*Fe,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=-2*ze,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=2*Qe,X[11]=0,X[12]=(Mt+Qt)*Fe,X[13]=(de+ae)*ze,X[14]=(je+xe)*Qe,X[15]=1,X}function rr(X,Mt,Qt,ae){var de,xe,je,Fe,ze,Qe,Ze,jr,Pr,Tr,un=Mt[0],pn=Mt[1],zr=Mt[2],Pn=ae[0],Si=ae[1],Jn=ae[2],qn=Qt[0],hi=Qt[1],ii=Qt[2];return Math.abs(un-qn)<C.b&&Math.abs(pn-hi)<C.b&&Math.abs(zr-ii)<C.b?st(X):(Ze=un-qn,jr=pn-hi,Pr=zr-ii,Tr=1/Math.hypot(Ze,jr,Pr),Ze*=Tr,jr*=Tr,Pr*=Tr,de=Si*Pr-Jn*jr,xe=Jn*Ze-Pn*Pr,je=Pn*jr-Si*Ze,Tr=Math.hypot(de,xe,je),Tr?(Tr=1/Tr,de*=Tr,xe*=Tr,je*=Tr):(de=0,xe=0,je=0),Fe=jr*je-Pr*xe,ze=Pr*de-Ze*je,Qe=Ze*xe-jr*de,Tr=Math.hypot(Fe,ze,Qe),Tr?(Tr=1/Tr,Fe*=Tr,ze*=Tr,Qe*=Tr):(Fe=0,ze=0,Qe=0),X[0]=de,X[1]=Fe,X[2]=Ze,X[3]=0,X[4]=xe,X[5]=ze,X[6]=jr,X[7]=0,X[8]=je,X[9]=Qe,X[10]=Pr,X[11]=0,X[12]=-(de*un+xe*pn+je*zr),X[13]=-(Fe*un+ze*pn+Qe*zr),X[14]=-(Ze*un+jr*pn+Pr*zr),X[15]=1,X)}function $e(X,Mt,Qt,ae){var de=Mt[0],xe=Mt[1],je=Mt[2],Fe=ae[0],ze=ae[1],Qe=ae[2],Ze=de-Qt[0],jr=xe-Qt[1],Pr=je-Qt[2],Tr=Ze*Ze+jr*jr+Pr*Pr;Tr>0&&(Tr=1/Math.sqrt(Tr),Ze*=Tr,jr*=Tr,Pr*=Tr);var un=ze*Pr-Qe*jr,pn=Qe*Ze-Fe*Pr,zr=Fe*jr-ze*Ze;return Tr=un*un+pn*pn+zr*zr,Tr>0&&(Tr=1/Math.sqrt(Tr),un*=Tr,pn*=Tr,zr*=Tr),X[0]=un,X[1]=pn,X[2]=zr,X[3]=0,X[4]=jr*zr-Pr*pn,X[5]=Pr*un-Ze*zr,X[6]=Ze*pn-jr*un,X[7]=0,X[8]=Ze,X[9]=jr,X[10]=Pr,X[11]=0,X[12]=de,X[13]=xe,X[14]=je,X[15]=1,X}function Ue(X){return"mat4("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+", "+X[4]+", "+X[5]+", "+X[6]+", "+X[7]+", "+X[8]+", "+X[9]+", "+X[10]+", "+X[11]+", "+X[12]+", "+X[13]+", "+X[14]+", "+X[15]+")"}function ir(X){return Math.hypot(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15])}function xr(X,Mt,Qt){return X[0]=Mt[0]+Qt[0],X[1]=Mt[1]+Qt[1],X[2]=Mt[2]+Qt[2],X[3]=Mt[3]+Qt[3],X[4]=Mt[4]+Qt[4],X[5]=Mt[5]+Qt[5],X[6]=Mt[6]+Qt[6],X[7]=Mt[7]+Qt[7],X[8]=Mt[8]+Qt[8],X[9]=Mt[9]+Qt[9],X[10]=Mt[10]+Qt[10],X[11]=Mt[11]+Qt[11],X[12]=Mt[12]+Qt[12],X[13]=Mt[13]+Qt[13],X[14]=Mt[14]+Qt[14],X[15]=Mt[15]+Qt[15],X}function nr(X,Mt,Qt){return X[0]=Mt[0]-Qt[0],X[1]=Mt[1]-Qt[1],X[2]=Mt[2]-Qt[2],X[3]=Mt[3]-Qt[3],X[4]=Mt[4]-Qt[4],X[5]=Mt[5]-Qt[5],X[6]=Mt[6]-Qt[6],X[7]=Mt[7]-Qt[7],X[8]=Mt[8]-Qt[8],X[9]=Mt[9]-Qt[9],X[10]=Mt[10]-Qt[10],X[11]=Mt[11]-Qt[11],X[12]=Mt[12]-Qt[12],X[13]=Mt[13]-Qt[13],X[14]=Mt[14]-Qt[14],X[15]=Mt[15]-Qt[15],X}function tn(X,Mt,Qt){return X[0]=Mt[0]*Qt,X[1]=Mt[1]*Qt,X[2]=Mt[2]*Qt,X[3]=Mt[3]*Qt,X[4]=Mt[4]*Qt,X[5]=Mt[5]*Qt,X[6]=Mt[6]*Qt,X[7]=Mt[7]*Qt,X[8]=Mt[8]*Qt,X[9]=Mt[9]*Qt,X[10]=Mt[10]*Qt,X[11]=Mt[11]*Qt,X[12]=Mt[12]*Qt,X[13]=Mt[13]*Qt,X[14]=Mt[14]*Qt,X[15]=Mt[15]*Qt,X}function bn(X,Mt,Qt,ae){return X[0]=Mt[0]+Qt[0]*ae,X[1]=Mt[1]+Qt[1]*ae,X[2]=Mt[2]+Qt[2]*ae,X[3]=Mt[3]+Qt[3]*ae,X[4]=Mt[4]+Qt[4]*ae,X[5]=Mt[5]+Qt[5]*ae,X[6]=Mt[6]+Qt[6]*ae,X[7]=Mt[7]+Qt[7]*ae,X[8]=Mt[8]+Qt[8]*ae,X[9]=Mt[9]+Qt[9]*ae,X[10]=Mt[10]+Qt[10]*ae,X[11]=Mt[11]+Qt[11]*ae,X[12]=Mt[12]+Qt[12]*ae,X[13]=Mt[13]+Qt[13]*ae,X[14]=Mt[14]+Qt[14]*ae,X[15]=Mt[15]+Qt[15]*ae,X}function Ur(X,Mt){return X[0]===Mt[0]&&X[1]===Mt[1]&&X[2]===Mt[2]&&X[3]===Mt[3]&&X[4]===Mt[4]&&X[5]===Mt[5]&&X[6]===Mt[6]&&X[7]===Mt[7]&&X[8]===Mt[8]&&X[9]===Mt[9]&&X[10]===Mt[10]&&X[11]===Mt[11]&&X[12]===Mt[12]&&X[13]===Mt[13]&&X[14]===Mt[14]&&X[15]===Mt[15]}function Le(X,Mt){var Qt=X[0],ae=X[1],de=X[2],xe=X[3],je=X[4],Fe=X[5],ze=X[6],Qe=X[7],Ze=X[8],jr=X[9],Pr=X[10],Tr=X[11],un=X[12],pn=X[13],zr=X[14],Pn=X[15],Si=Mt[0],Jn=Mt[1],qn=Mt[2],hi=Mt[3],ii=Mt[4],xi=Mt[5],Wi=Mt[6],la=Mt[7],Pi=Mt[8],ta=Mt[9],Yi=Mt[10],zi=Mt[11],Ei=Mt[12],Me=Mt[13],le=Mt[14],we=Mt[15];return Math.abs(Qt-Si)<=C.b*Math.max(1,Math.abs(Qt),Math.abs(Si))&&Math.abs(ae-Jn)<=C.b*Math.max(1,Math.abs(ae),Math.abs(Jn))&&Math.abs(de-qn)<=C.b*Math.max(1,Math.abs(de),Math.abs(qn))&&Math.abs(xe-hi)<=C.b*Math.max(1,Math.abs(xe),Math.abs(hi))&&Math.abs(je-ii)<=C.b*Math.max(1,Math.abs(je),Math.abs(ii))&&Math.abs(Fe-xi)<=C.b*Math.max(1,Math.abs(Fe),Math.abs(xi))&&Math.abs(ze-Wi)<=C.b*Math.max(1,Math.abs(ze),Math.abs(Wi))&&Math.abs(Qe-la)<=C.b*Math.max(1,Math.abs(Qe),Math.abs(la))&&Math.abs(Ze-Pi)<=C.b*Math.max(1,Math.abs(Ze),Math.abs(Pi))&&Math.abs(jr-ta)<=C.b*Math.max(1,Math.abs(jr),Math.abs(ta))&&Math.abs(Pr-Yi)<=C.b*Math.max(1,Math.abs(Pr),Math.abs(Yi))&&Math.abs(Tr-zi)<=C.b*Math.max(1,Math.abs(Tr),Math.abs(zi))&&Math.abs(un-Ei)<=C.b*Math.max(1,Math.abs(un),Math.abs(Ei))&&Math.abs(pn-Me)<=C.b*Math.max(1,Math.abs(pn),Math.abs(Me))&&Math.abs(zr-le)<=C.b*Math.max(1,Math.abs(zr),Math.abs(le))&&Math.abs(Pn-we)<=C.b*Math.max(1,Math.abs(Pn),Math.abs(we))}var or=H,Gr=nr,Kr=a("gCNn");function $r(){var X=new C.a(4);return C.a!=Float32Array&&(X[0]=0,X[1]=0,X[2]=0,X[3]=0),X}function jn(X){var Mt=new C.a(4);return Mt[0]=X[0],Mt[1]=X[1],Mt[2]=X[2],Mt[3]=X[3],Mt}function Qn(X,Mt,Qt,ae){var de=new C.a(4);return de[0]=X,de[1]=Mt,de[2]=Qt,de[3]=ae,de}function Bn(X,Mt){return X[0]=Mt[0],X[1]=Mt[1],X[2]=Mt[2],X[3]=Mt[3],X}function Nn(X,Mt,Qt,ae,de){return X[0]=Mt,X[1]=Qt,X[2]=ae,X[3]=de,X}function Xn(X,Mt,Qt){return X[0]=Mt[0]+Qt[0],X[1]=Mt[1]+Qt[1],X[2]=Mt[2]+Qt[2],X[3]=Mt[3]+Qt[3],X}function ri(X,Mt,Qt){return X[0]=Mt[0]-Qt[0],X[1]=Mt[1]-Qt[1],X[2]=Mt[2]-Qt[2],X[3]=Mt[3]-Qt[3],X}function In(X,Mt,Qt){return X[0]=Mt[0]*Qt[0],X[1]=Mt[1]*Qt[1],X[2]=Mt[2]*Qt[2],X[3]=Mt[3]*Qt[3],X}function gi(X,Mt,Qt){return X[0]=Mt[0]/Qt[0],X[1]=Mt[1]/Qt[1],X[2]=Mt[2]/Qt[2],X[3]=Mt[3]/Qt[3],X}function oa(X,Mt){return X[0]=Math.ceil(Mt[0]),X[1]=Math.ceil(Mt[1]),X[2]=Math.ceil(Mt[2]),X[3]=Math.ceil(Mt[3]),X}function wa(X,Mt){return X[0]=Math.floor(Mt[0]),X[1]=Math.floor(Mt[1]),X[2]=Math.floor(Mt[2]),X[3]=Math.floor(Mt[3]),X}function Ea(X,Mt,Qt){return X[0]=Math.min(Mt[0],Qt[0]),X[1]=Math.min(Mt[1],Qt[1]),X[2]=Math.min(Mt[2],Qt[2]),X[3]=Math.min(Mt[3],Qt[3]),X}function Vi(X,Mt,Qt){return X[0]=Math.max(Mt[0],Qt[0]),X[1]=Math.max(Mt[1],Qt[1]),X[2]=Math.max(Mt[2],Qt[2]),X[3]=Math.max(Mt[3],Qt[3]),X}function fa(X,Mt){return X[0]=Math.round(Mt[0]),X[1]=Math.round(Mt[1]),X[2]=Math.round(Mt[2]),X[3]=Math.round(Mt[3]),X}function Li(X,Mt,Qt){return X[0]=Mt[0]*Qt,X[1]=Mt[1]*Qt,X[2]=Mt[2]*Qt,X[3]=Mt[3]*Qt,X}function Ji(X,Mt,Qt,ae){return X[0]=Mt[0]+Qt[0]*ae,X[1]=Mt[1]+Qt[1]*ae,X[2]=Mt[2]+Qt[2]*ae,X[3]=Mt[3]+Qt[3]*ae,X}function Xi(X,Mt){var Qt=Mt[0]-X[0],ae=Mt[1]-X[1],de=Mt[2]-X[2],xe=Mt[3]-X[3];return Math.hypot(Qt,ae,de,xe)}function Hi(X,Mt){var Qt=Mt[0]-X[0],ae=Mt[1]-X[1],de=Mt[2]-X[2],xe=Mt[3]-X[3];return Qt*Qt+ae*ae+de*de+xe*xe}function pa(X){var Mt=X[0],Qt=X[1],ae=X[2],de=X[3];return Math.hypot(Mt,Qt,ae,de)}function uo(X){var Mt=X[0],Qt=X[1],ae=X[2],de=X[3];return Mt*Mt+Qt*Qt+ae*ae+de*de}function Mo(X,Mt){return X[0]=-Mt[0],X[1]=-Mt[1],X[2]=-Mt[2],X[3]=-Mt[3],X}function co(X,Mt){return X[0]=1/Mt[0],X[1]=1/Mt[1],X[2]=1/Mt[2],X[3]=1/Mt[3],X}function Sa(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Qt*Qt+ae*ae+de*de+xe*xe;return je>0&&(je=1/Math.sqrt(je)),X[0]=Qt*je,X[1]=ae*je,X[2]=de*je,X[3]=xe*je,X}function Wo(X,Mt){return X[0]*Mt[0]+X[1]*Mt[1]+X[2]*Mt[2]+X[3]*Mt[3]}function zo(X,Mt,Qt,ae){var de=Qt[0]*ae[1]-Qt[1]*ae[0],xe=Qt[0]*ae[2]-Qt[2]*ae[0],je=Qt[0]*ae[3]-Qt[3]*ae[0],Fe=Qt[1]*ae[2]-Qt[2]*ae[1],ze=Qt[1]*ae[3]-Qt[3]*ae[1],Qe=Qt[2]*ae[3]-Qt[3]*ae[2],Ze=Mt[0],jr=Mt[1],Pr=Mt[2],Tr=Mt[3];return X[0]=jr*Qe-Pr*ze+Tr*Fe,X[1]=-(Ze*Qe)+Pr*je-Tr*xe,X[2]=Ze*ze-jr*je+Tr*de,X[3]=-(Ze*Fe)+jr*xe-Pr*de,X}function ko(X,Mt,Qt,ae){var de=Mt[0],xe=Mt[1],je=Mt[2],Fe=Mt[3];return X[0]=de+ae*(Qt[0]-de),X[1]=xe+ae*(Qt[1]-xe),X[2]=je+ae*(Qt[2]-je),X[3]=Fe+ae*(Qt[3]-Fe),X}function yl(X,Mt){Mt=Mt||1;var Qt,ae,de,xe,je,Fe;do Qt=C.c()*2-1,ae=C.c()*2-1,je=Qt*Qt+ae*ae;while(je>=1);do de=C.c()*2-1,xe=C.c()*2-1,Fe=de*de+xe*xe;while(Fe>=1);var ze=Math.sqrt((1-je)/Fe);return X[0]=Mt*Qt,X[1]=Mt*ae,X[2]=Mt*de*ze,X[3]=Mt*xe*ze,X}function ya(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3];return X[0]=Qt[0]*ae+Qt[4]*de+Qt[8]*xe+Qt[12]*je,X[1]=Qt[1]*ae+Qt[5]*de+Qt[9]*xe+Qt[13]*je,X[2]=Qt[2]*ae+Qt[6]*de+Qt[10]*xe+Qt[14]*je,X[3]=Qt[3]*ae+Qt[7]*de+Qt[11]*xe+Qt[15]*je,X}function ml(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Qt[0],Fe=Qt[1],ze=Qt[2],Qe=Qt[3],Ze=Qe*ae+Fe*xe-ze*de,jr=Qe*de+ze*ae-je*xe,Pr=Qe*xe+je*de-Fe*ae,Tr=-je*ae-Fe*de-ze*xe;return X[0]=Ze*Qe+Tr*-je+jr*-ze-Pr*-Fe,X[1]=jr*Qe+Tr*-Fe+Pr*-je-Ze*-ze,X[2]=Pr*Qe+Tr*-ze+Ze*-Fe-jr*-je,X[3]=Mt[3],X}function Ms(X){return X[0]=0,X[1]=0,X[2]=0,X[3]=0,X}function ls(X){return"vec4("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+")"}function Cs(X,Mt){return X[0]===Mt[0]&&X[1]===Mt[1]&&X[2]===Mt[2]&&X[3]===Mt[3]}function qs(X,Mt){var Qt=X[0],ae=X[1],de=X[2],xe=X[3],je=Mt[0],Fe=Mt[1],ze=Mt[2],Qe=Mt[3];return Math.abs(Qt-je)<=C.b*Math.max(1,Math.abs(Qt),Math.abs(je))&&Math.abs(ae-Fe)<=C.b*Math.max(1,Math.abs(ae),Math.abs(Fe))&&Math.abs(de-ze)<=C.b*Math.max(1,Math.abs(de),Math.abs(ze))&&Math.abs(xe-Qe)<=C.b*Math.max(1,Math.abs(xe),Math.abs(Qe))}var li=ri,Fl=In,Vo=gi,Gs=Xi,Us=Hi,pe=pa,se=uo,ye=function(){var X=$r();return function(Mt,Qt,ae,de,xe,je){var Fe,ze;for(Qt||(Qt=4),ae||(ae=0),de?ze=Math.min(de*Qt+ae,Mt.length):ze=Mt.length,Fe=ae;Fe<ze;Fe+=Qt)X[0]=Mt[Fe],X[1]=Mt[Fe+1],X[2]=Mt[Fe+2],X[3]=Mt[Fe+3],xe(X,X,je),Mt[Fe]=X[0],Mt[Fe+1]=X[1],Mt[Fe+2]=X[2],Mt[Fe+3]=X[3];return Mt}}();function ke(){var X=new C.a(4);return C.a!=Float32Array&&(X[0]=0,X[1]=0,X[2]=0),X[3]=1,X}function Xe(X){return X[0]=0,X[1]=0,X[2]=0,X[3]=1,X}function hr(X,Mt,Qt){Qt=Qt*.5;var ae=Math.sin(Qt);return X[0]=ae*Mt[0],X[1]=ae*Mt[1],X[2]=ae*Mt[2],X[3]=Math.cos(Qt),X}function Wr(X,Mt){var Qt=Math.acos(Mt[3])*2,ae=Math.sin(Qt/2);return ae>C.b?(X[0]=Mt[0]/ae,X[1]=Mt[1]/ae,X[2]=Mt[2]/ae):(X[0]=1,X[1]=0,X[2]=0),Qt}function hn(X,Mt){var Qt=Ho(X,Mt);return Math.acos(2*Qt*Qt-1)}function Vn(X,Mt,Qt){var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Qt[0],ze=Qt[1],Qe=Qt[2],Ze=Qt[3];return X[0]=ae*Ze+je*Fe+de*Qe-xe*ze,X[1]=de*Ze+je*ze+xe*Fe-ae*Qe,X[2]=xe*Ze+je*Qe+ae*ze-de*Fe,X[3]=je*Ze-ae*Fe-de*ze-xe*Qe,X}function Ln(X,Mt,Qt){Qt*=.5;var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Math.sin(Qt),ze=Math.cos(Qt);return X[0]=ae*ze+je*Fe,X[1]=de*ze+xe*Fe,X[2]=xe*ze-de*Fe,X[3]=je*ze-ae*Fe,X}function xn(X,Mt,Qt){Qt*=.5;var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Math.sin(Qt),ze=Math.cos(Qt);return X[0]=ae*ze-xe*Fe,X[1]=de*ze+je*Fe,X[2]=xe*ze+ae*Fe,X[3]=je*ze-de*Fe,X}function Fi(X,Mt,Qt){Qt*=.5;var ae=Mt[0],de=Mt[1],xe=Mt[2],je=Mt[3],Fe=Math.sin(Qt),ze=Math.cos(Qt);return X[0]=ae*ze+de*Fe,X[1]=de*ze-ae*Fe,X[2]=xe*ze+je*Fe,X[3]=je*ze-xe*Fe,X}function ji(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2];return X[0]=Qt,X[1]=ae,X[2]=de,X[3]=Math.sqrt(Math.abs(1-Qt*Qt-ae*ae-de*de)),X}function sa(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Math.sqrt(Qt*Qt+ae*ae+de*de),Fe=Math.exp(xe),ze=je>0?Fe*Math.sin(je)/je:0;return X[0]=Qt*ze,X[1]=ae*ze,X[2]=de*ze,X[3]=Fe*Math.cos(je),X}function he(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Math.sqrt(Qt*Qt+ae*ae+de*de),Fe=je>0?Math.atan2(je,xe)/je:0;return X[0]=Qt*Fe,X[1]=ae*Fe,X[2]=de*Fe,X[3]=.5*Math.log(Qt*Qt+ae*ae+de*de+xe*xe),X}function Ia(X,Mt,Qt){return he(X,Mt),Ma(X,X,Qt),sa(X,X),X}function fo(X,Mt,Qt,ae){var de=Mt[0],xe=Mt[1],je=Mt[2],Fe=Mt[3],ze=Qt[0],Qe=Qt[1],Ze=Qt[2],jr=Qt[3],Pr,Tr,un,pn,zr;return Tr=de*ze+xe*Qe+je*Ze+Fe*jr,Tr<0&&(Tr=-Tr,ze=-ze,Qe=-Qe,Ze=-Ze,jr=-jr),1-Tr>C.b?(Pr=Math.acos(Tr),un=Math.sin(Pr),pn=Math.sin((1-ae)*Pr)/un,zr=Math.sin(ae*Pr)/un):(pn=1-ae,zr=ae),X[0]=pn*de+zr*ze,X[1]=pn*xe+zr*Qe,X[2]=pn*je+zr*Ze,X[3]=pn*Fe+zr*jr,X}function ho(X){var Mt=C.c(),Qt=C.c(),ae=C.c(),de=Math.sqrt(1-Mt),xe=Math.sqrt(Mt);return X[0]=de*Math.sin(2*Math.PI*Qt),X[1]=de*Math.cos(2*Math.PI*Qt),X[2]=xe*Math.sin(2*Math.PI*ae),X[3]=xe*Math.cos(2*Math.PI*ae),X}function Ba(X,Mt){var Qt=Mt[0],ae=Mt[1],de=Mt[2],xe=Mt[3],je=Qt*Qt+ae*ae+de*de+xe*xe,Fe=je?1/je:0;return X[0]=-Qt*Fe,X[1]=-ae*Fe,X[2]=-de*Fe,X[3]=xe*Fe,X}function Xo(X,Mt){return X[0]=-Mt[0],X[1]=-Mt[1],X[2]=-Mt[2],X[3]=Mt[3],X}function Gn(X,Mt){var Qt=Mt[0]+Mt[4]+Mt[8],ae;if(Qt>0)ae=Math.sqrt(Qt+1),X[3]=.5*ae,ae=.5/ae,X[0]=(Mt[5]-Mt[7])*ae,X[1]=(Mt[6]-Mt[2])*ae,X[2]=(Mt[1]-Mt[3])*ae;else{var de=0;Mt[4]>Mt[0]&&(de=1),Mt[8]>Mt[de*3+de]&&(de=2);var xe=(de+1)%3,je=(de+2)%3;ae=Math.sqrt(Mt[de*3+de]-Mt[xe*3+xe]-Mt[je*3+je]+1),X[de]=.5*ae,ae=.5/ae,X[3]=(Mt[xe*3+je]-Mt[je*3+xe])*ae,X[xe]=(Mt[xe*3+de]+Mt[de*3+xe])*ae,X[je]=(Mt[je*3+de]+Mt[de*3+je])*ae}return X}function Xa(X,Mt,Qt,ae){var de=.5*Math.PI/180;Mt*=de,Qt*=de,ae*=de;var xe=Math.sin(Mt),je=Math.cos(Mt),Fe=Math.sin(Qt),ze=Math.cos(Qt),Qe=Math.sin(ae),Ze=Math.cos(ae);return X[0]=xe*ze*Ze-je*Fe*Qe,X[1]=je*Fe*Ze+xe*ze*Qe,X[2]=je*ze*Qe-xe*Fe*Ze,X[3]=je*ze*Ze+xe*Fe*Qe,X}function Ha(X){return"quat("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+")"}var Ya=jn,jo=Qn,$o=Bn,ps=Nn,Co=Xn,us=Vn,Ma=Li,Ho=Wo,ys=ko,bo=pa,tl=bo,Qo=uo,Ws=Qo,Yo=Sa,Jo=Cs,As=qs,Ts=function(){var X=Kr.create(),Mt=Kr.fromValues(1,0,0),Qt=Kr.fromValues(0,1,0);return function(ae,de,xe){var je=Kr.dot(de,xe);return je<-.999999?(Kr.cross(X,Mt,de),Kr.len(X)<1e-6&&Kr.cross(X,Qt,de),Kr.normalize(X,X),hr(ae,X,Math.PI),ae):je>.999999?(ae[0]=0,ae[1]=0,ae[2]=0,ae[3]=1,ae):(Kr.cross(X,de,xe),ae[0]=X[0],ae[1]=X[1],ae[2]=X[2],ae[3]=1+je,Yo(ae,ae))}}(),Ds=function(){var X=ke(),Mt=ke();return function(Qt,ae,de,xe,je,Fe){return fo(X,ae,je,Fe),fo(Mt,de,xe,Fe),fo(Qt,X,Mt,2*Fe*(1-Fe)),Qt}}(),bl=function(){var X=P();return function(Mt,Qt,ae,de){return X[0]=ae[0],X[3]=ae[1],X[6]=ae[2],X[1]=de[0],X[4]=de[1],X[7]=de[2],X[2]=-Qt[0],X[5]=-Qt[1],X[8]=-Qt[2],Yo(Mt,Gn(Mt,X))}}(),Ol=a("d/dq")},"9L8m":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.NON_CUSTOM_TAG_KEYS=A.POST_CONSTRUCT=A.DESIGN_PARAM_TYPES=A.PARAM_TYPES=A.TAGGED_PROP=A.TAGGED=A.MULTI_INJECT_TAG=A.INJECT_TAG=A.OPTIONAL_TAG=A.UNMANAGED_TAG=A.NAME_TAG=A.NAMED_TAG=void 0,A.NAMED_TAG="named",A.NAME_TAG="name",A.UNMANAGED_TAG="unmanaged",A.OPTIONAL_TAG="optional",A.INJECT_TAG="inject",A.MULTI_INJECT_TAG="multi_inject",A.TAGGED="inversify:tagged",A.TAGGED_PROP="inversify:tagged_props",A.PARAM_TYPES="inversify:paramtypes",A.DESIGN_PARAM_TYPES="design:paramtypes",A.POST_CONSTRUCT="post_construct";function f(){return[A.INJECT_TAG,A.MULTI_INJECT_TAG,A.NAME_TAG,A.UNMANAGED_TAG,A.NAMED_TAG,A.OPTIONAL_TAG]}A.NON_CUSTOM_TAG_KEYS=f()},"9drk":function(jt,A){var a=Object.prototype,f=a.hasOwnProperty;function o(x,O){return x!=null&&f.call(x,O)}jt.exports=o},"9pBU":function(jt,A,a){"use strict";a.d(A,"e",function(){return N}),a.d(A,"b",function(){return tt}),a.d(A,"a",function(){return Gt}),a.d(A,"c",function(){return E}),a.d(A,"d",function(){return st}),a.d(A,"f",function(){return f});var f={};a.r(f),a.d(f,"distance",function(){return O}),a.d(f,"isNumberEqual",function(){return C}),a.d(f,"getBBoxByArray",function(){return P}),a.d(f,"getBBoxRange",function(){return b}),a.d(f,"piMod",function(){return S});function o(Ot){return Math.min.apply(null,Ot)}function x(Ot){return Math.max.apply(null,Ot)}function O(Ot,et,H,pt){var nt=Ot-H,yt=et-pt;return Math.sqrt(nt*nt+yt*yt)}function C(Ot,et){return Math.abs(Ot-et)<.001}function P(Ot,et){var H=o(Ot),pt=o(et),nt=x(Ot),yt=x(et);return{x:H,y:pt,width:nt-H,height:yt-pt}}function b(Ot,et,H,pt){return{minX:o([Ot,H]),maxX:x([Ot,H]),minY:o([et,pt]),maxY:x([et,pt])}}function S(Ot){return(Ot+Math.PI*2)%(Math.PI*2)}var y=a("d/dq"),E={box:function(et,H,pt,nt){return P([et,pt],[H,nt])},length:function(et,H,pt,nt){return O(et,H,pt,nt)},pointAt:function(et,H,pt,nt,yt){return{x:(1-yt)*et+yt*pt,y:(1-yt)*H+yt*nt}},pointDistance:function(et,H,pt,nt,yt,Pt){var Rt=(pt-et)*(yt-et)+(nt-H)*(Pt-H);if(Rt<0)return O(et,H,yt,Pt);var Wt=(pt-et)*(pt-et)+(nt-H)*(nt-H);return Rt>Wt?O(pt,nt,yt,Pt):this.pointToLine(et,H,pt,nt,yt,Pt)},pointToLine:function(et,H,pt,nt,yt,Pt){var Rt=[pt-et,nt-H];if(y.exactEquals(Rt,[0,0]))return Math.sqrt((yt-et)*(yt-et)+(Pt-H)*(Pt-H));var Wt=[-Rt[1],Rt[0]];y.normalize(Wt,Wt);var Vt=[yt-et,Pt-H];return Math.abs(y.dot(Vt,Wt))},tangentAngle:function(et,H,pt,nt){return Math.atan2(nt-H,pt-et)}},m=1e-4;function T(Ot,et,H,pt,nt,yt){var Pt,Rt=Infinity,Wt=[H,pt],Vt=20;yt&&yt>200&&(Vt=yt/10);for(var Lt=1/Vt,Ct=Lt/10,at=0;at<=Vt;at++){var It=at*Lt,Ft=[nt.apply(null,Ot.concat([It])),nt.apply(null,et.concat([It]))],xt=O(Wt[0],Wt[1],Ft[0],Ft[1]);xt<Rt&&(Pt=It,Rt=xt)}if(Pt===0)return{x:Ot[0],y:et[0]};if(Pt===1){var Nt=Ot.length;return{x:Ot[Nt-1],y:et[Nt-1]}}Rt=Infinity;for(var at=0;at<32&&!(Ct<m);at++){var Ht=Pt-Ct,Bt=Pt+Ct,Ft=[nt.apply(null,Ot.concat([Ht])),nt.apply(null,et.concat([Ht]))],xt=O(Wt[0],Wt[1],Ft[0],Ft[1]);if(Ht>=0&&xt<Rt)Pt=Ht,Rt=xt;else{var Ut=[nt.apply(null,Ot.concat([Bt])),nt.apply(null,et.concat([Bt]))],Jt=O(Wt[0],Wt[1],Ut[0],Ut[1]);Bt<=1&&Jt<Rt?(Pt=Bt,Rt=Jt):Ct*=.5}}return{x:nt.apply(null,Ot.concat([Pt])),y:nt.apply(null,et.concat([Pt]))}}function L(Ot,et){for(var H=0,pt=Ot.length,nt=0;nt<pt;nt++){var yt=Ot[nt],Pt=et[nt],Rt=Ot[(nt+1)%pt],Wt=et[(nt+1)%pt];H+=O(yt,Pt,Rt,Wt)}return H/2}function g(Ot,et,H,pt){var nt=1-pt;return nt*nt*Ot+2*pt*nt*et+pt*pt*H}function j(Ot,et,H){var pt=Ot+H-2*et;if(C(pt,0))return[.5];var nt=(Ot-et)/pt;return nt<=1&&nt>=0?[nt]:[]}function U(Ot,et,H,pt){return 2*(1-pt)*(et-Ot)+2*pt*(H-et)}function W(Ot,et,H,pt,nt,yt,Pt){var Rt=g(Ot,H,nt,Pt),Wt=g(et,pt,yt,Pt),Vt=E.pointAt(Ot,et,H,pt,Pt),Lt=E.pointAt(H,pt,nt,yt,Pt);return[[Ot,et,Vt.x,Vt.y,Rt,Wt],[Rt,Wt,Lt.x,Lt.y,nt,yt]]}function z(Ot,et,H,pt,nt,yt,Pt){if(Pt===0)return(O(Ot,et,H,pt)+O(H,pt,nt,yt)+O(Ot,et,nt,yt))/2;var Rt=W(Ot,et,H,pt,nt,yt,.5),Wt=Rt[0],Vt=Rt[1];return Wt.push(Pt-1),Vt.push(Pt-1),z.apply(null,Wt)+z.apply(null,Vt)}var N={box:function(et,H,pt,nt,yt,Pt){var Rt=j(et,pt,yt)[0],Wt=j(H,nt,Pt)[0],Vt=[et,yt],Lt=[H,Pt];return Rt!==void 0&&Vt.push(g(et,pt,yt,Rt)),Wt!==void 0&&Lt.push(g(H,nt,Pt,Wt)),P(Vt,Lt)},length:function(et,H,pt,nt,yt,Pt){return z(et,H,pt,nt,yt,Pt,3)},nearestPoint:function(et,H,pt,nt,yt,Pt,Rt,Wt){return T([et,pt,yt],[H,nt,Pt],Rt,Wt,g)},pointDistance:function(et,H,pt,nt,yt,Pt,Rt,Wt){var Vt=this.nearestPoint(et,H,pt,nt,yt,Pt,Rt,Wt);return O(Vt.x,Vt.y,Rt,Wt)},interpolationAt:g,pointAt:function(et,H,pt,nt,yt,Pt,Rt){return{x:g(et,pt,yt,Rt),y:g(H,nt,Pt,Rt)}},divide:function(et,H,pt,nt,yt,Pt,Rt){return W(et,H,pt,nt,yt,Pt,Rt)},tangentAngle:function(et,H,pt,nt,yt,Pt,Rt){var Wt=U(et,pt,yt,Rt),Vt=U(H,nt,Pt,Rt),Lt=Math.atan2(Vt,Wt);return S(Lt)}};function I(Ot,et,H,pt,nt){var yt=1-nt;return yt*yt*yt*Ot+3*et*nt*yt*yt+3*H*nt*nt*yt+pt*nt*nt*nt}function B(Ot,et,H,pt,nt){var yt=1-nt;return 3*(yt*yt*(et-Ot)+2*yt*nt*(H-et)+nt*nt*(pt-H))}function G(Ot,et,H,pt){var nt=-3*Ot+9*et-9*H+3*pt,yt=6*Ot-12*et+6*H,Pt=3*et-3*Ot,Rt=[],Wt,Vt,Lt;if(C(nt,0))C(yt,0)||(Wt=-Pt/yt,Wt>=0&&Wt<=1&&Rt.push(Wt));else{var Ct=yt*yt-4*nt*Pt;C(Ct,0)?Rt.push(-yt/(2*nt)):Ct>0&&(Lt=Math.sqrt(Ct),Wt=(-yt+Lt)/(2*nt),Vt=(-yt-Lt)/(2*nt),Wt>=0&&Wt<=1&&Rt.push(Wt),Vt>=0&&Vt<=1&&Rt.push(Vt))}return Rt}function k(Ot,et,H,pt,nt,yt,Pt,Rt,Wt){var Vt=I(Ot,H,nt,Pt,Wt),Lt=I(et,pt,yt,Rt,Wt),Ct=E.pointAt(Ot,et,H,pt,Wt),at=E.pointAt(H,pt,nt,yt,Wt),It=E.pointAt(nt,yt,Pt,Rt,Wt),Ft=E.pointAt(Ct.x,Ct.y,at.x,at.y,Wt),xt=E.pointAt(at.x,at.y,It.x,It.y,Wt);return[[Ot,et,Ct.x,Ct.y,Ft.x,Ft.y,Vt,Lt],[Vt,Lt,xt.x,xt.y,It.x,It.y,Pt,Rt]]}function V(Ot,et,H,pt,nt,yt,Pt,Rt,Wt){if(Wt===0)return L([Ot,H,nt,Pt],[et,pt,yt,Rt]);var Vt=k(Ot,et,H,pt,nt,yt,Pt,Rt,.5),Lt=Vt[0],Ct=Vt[1];return Lt.push(Wt-1),Ct.push(Wt-1),V.apply(null,Lt)+V.apply(null,Ct)}var tt={extrema:G,box:function(et,H,pt,nt,yt,Pt,Rt,Wt){for(var Vt=[et,Rt],Lt=[H,Wt],Ct=G(et,pt,yt,Rt),at=G(H,nt,Pt,Wt),It=0;It<Ct.length;It++)Vt.push(I(et,pt,yt,Rt,Ct[It]));for(var It=0;It<at.length;It++)Lt.push(I(H,nt,Pt,Wt,at[It]));return P(Vt,Lt)},length:function(et,H,pt,nt,yt,Pt,Rt,Wt){return V(et,H,pt,nt,yt,Pt,Rt,Wt,3)},nearestPoint:function(et,H,pt,nt,yt,Pt,Rt,Wt,Vt,Lt,Ct){return T([et,pt,yt,Rt],[H,nt,Pt,Wt],Vt,Lt,I,Ct)},pointDistance:function(et,H,pt,nt,yt,Pt,Rt,Wt,Vt,Lt,Ct){var at=this.nearestPoint(et,H,pt,nt,yt,Pt,Rt,Wt,Vt,Lt,Ct);return O(at.x,at.y,Vt,Lt)},interpolationAt:I,pointAt:function(et,H,pt,nt,yt,Pt,Rt,Wt,Vt){return{x:I(et,pt,yt,Rt,Vt),y:I(H,nt,Pt,Wt,Vt)}},divide:function(et,H,pt,nt,yt,Pt,Rt,Wt,Vt){return k(et,H,pt,nt,yt,Pt,Rt,Wt,Vt)},tangentAngle:function(et,H,pt,nt,yt,Pt,Rt,Wt,Vt){var Lt=B(et,pt,yt,Rt,Vt),Ct=B(H,nt,Pt,Wt,Vt);return S(Math.atan2(Ct,Lt))}};function Q(Ot,et){var H=Math.abs(Ot);return et>0?H:H*-1}var K={box:function(et,H,pt,nt){return{x:et-pt,y:H-nt,width:pt*2,height:nt*2}},length:function(et,H,pt,nt){return Math.PI*(3*(pt+nt)-Math.sqrt((3*pt+nt)*(pt+3*nt)))},nearestPoint:function(et,H,pt,nt,yt,Pt){var Rt=pt,Wt=nt;if(Rt===0||Wt===0)return{x:et,y:H};for(var Vt=yt-et,Lt=Pt-H,Ct=Math.abs(Vt),at=Math.abs(Lt),It=Rt*Rt,Ft=Wt*Wt,xt=Math.PI/4,Nt,Ht,Bt=0;Bt<4;Bt++){Nt=Rt*Math.cos(xt),Ht=Wt*Math.sin(xt);var Ut=(It-Ft)*Math.pow(Math.cos(xt),3)/Rt,Jt=(Ft-It)*Math.pow(Math.sin(xt),3)/Wt,oe=Nt-Ut,ge=Ht-Jt,Ce=Ct-Ut,Ie=at-Jt,We=Math.hypot(ge,oe),lr=Math.hypot(Ie,Ce),rr=We*Math.asin((oe*Ie-ge*Ce)/(We*lr)),$e=rr/Math.sqrt(It+Ft-Nt*Nt-Ht*Ht);xt+=$e,xt=Math.min(Math.PI/2,Math.max(0,xt))}return{x:et+Q(Nt,Vt),y:H+Q(Ht,Lt)}},pointDistance:function(et,H,pt,nt,yt,Pt){var Rt=this.nearestPoint(et,H,pt,nt,yt,Pt);return O(Rt.x,Rt.y,yt,Pt)},pointAt:function(et,H,pt,nt,yt){var Pt=2*Math.PI*yt;return{x:et+pt*Math.cos(Pt),y:H+nt*Math.sin(Pt)}},tangentAngle:function(et,H,pt,nt,yt){var Pt=2*Math.PI*yt,Rt=Math.atan2(nt*Math.cos(Pt),-pt*Math.sin(Pt));return S(Rt)}};function _(Ot,et,H,pt,nt,yt,Pt,Rt){return-1*H*Math.cos(nt)*Math.sin(Rt)-pt*Math.sin(nt)*Math.cos(Rt)}function Y(Ot,et,H,pt,nt,yt,Pt,Rt){return-1*H*Math.sin(nt)*Math.sin(Rt)+pt*Math.cos(nt)*Math.cos(Rt)}function q(Ot,et,H){return Math.atan(-et/Ot*Math.tan(H))}function ot(Ot,et,H){return Math.atan(et/(Ot*Math.tan(H)))}function ft(Ot,et,H,pt,nt,yt){return H*Math.cos(nt)*Math.cos(yt)-pt*Math.sin(nt)*Math.sin(yt)+Ot}function ct(Ot,et,H,pt,nt,yt){return H*Math.sin(nt)*Math.cos(yt)+pt*Math.cos(nt)*Math.sin(yt)+et}function rt(Ot,et,H,pt){var nt=Math.atan2(pt*Ot,H*et);return(nt+Math.PI*2)%(Math.PI*2)}function gt(Ot,et,H){return{x:Ot*Math.cos(H),y:et*Math.sin(H)}}function Et(Ot,et,H){var pt=Math.cos(H),nt=Math.sin(H);return[Ot*pt-et*nt,Ot*nt+et*pt]}var Gt={box:function(et,H,pt,nt,yt,Pt,Rt){for(var Wt=q(pt,nt,yt),Vt=Infinity,Lt=-Infinity,Ct=[Pt,Rt],at=-Math.PI*2;at<=Math.PI*2;at+=Math.PI){var It=Wt+at;Pt<Rt?Pt<It&&It<Rt&&Ct.push(It):Rt<It&&It<Pt&&Ct.push(It)}for(var at=0;at<Ct.length;at++){var Ft=ft(et,H,pt,nt,yt,Ct[at]);Ft<Vt&&(Vt=Ft),Ft>Lt&&(Lt=Ft)}for(var xt=ot(pt,nt,yt),Nt=Infinity,Ht=-Infinity,Bt=[Pt,Rt],at=-Math.PI*2;at<=Math.PI*2;at+=Math.PI){var Ut=xt+at;Pt<Rt?Pt<Ut&&Ut<Rt&&Bt.push(Ut):Rt<Ut&&Ut<Pt&&Bt.push(Ut)}for(var at=0;at<Bt.length;at++){var Jt=ct(et,H,pt,nt,yt,Bt[at]);Jt<Nt&&(Nt=Jt),Jt>Ht&&(Ht=Jt)}return{x:Vt,y:Nt,width:Lt-Vt,height:Ht-Nt}},length:function(et,H,pt,nt,yt,Pt,Rt){},nearestPoint:function(et,H,pt,nt,yt,Pt,Rt,Wt,Vt){var Lt=Et(Wt-et,Vt-H,-yt),Ct=Lt[0],at=Lt[1],It=K.nearestPoint(0,0,pt,nt,Ct,at),Ft=rt(pt,nt,It.x,It.y);Ft<Pt?It=gt(pt,nt,Pt):Ft>Rt&&(It=gt(pt,nt,Rt));var xt=Et(It.x,It.y,yt);return{x:xt[0]+et,y:xt[1]+H}},pointDistance:function(et,H,pt,nt,yt,Pt,Rt,Wt,Vt){var Lt=this.nearestPoint(et,H,pt,nt,Wt,Vt);return O(Lt.x,Lt.y,Wt,Vt)},pointAt:function(et,H,pt,nt,yt,Pt,Rt,Wt){var Vt=(Rt-Pt)*Wt+Pt;return{x:ft(et,H,pt,nt,yt,Vt),y:ct(et,H,pt,nt,yt,Vt)}},tangentAngle:function(et,H,pt,nt,yt,Pt,Rt,Wt){var Vt=(Rt-Pt)*Wt+Pt,Lt=_(et,H,pt,nt,yt,Pt,Rt,Vt),Ct=Y(et,H,pt,nt,yt,Pt,Rt,Vt);return S(Math.atan2(Ct,Lt))}};function Yt(Ot){for(var et=0,H=[],pt=0;pt<Ot.length-1;pt++){var nt=Ot[pt],yt=Ot[pt+1],Pt=O(nt[0],nt[1],yt[0],yt[1]),Rt={from:nt,to:yt,length:Pt};H.push(Rt),et+=Pt}return{segments:H,totalLength:et}}function Xt(Ot){if(Ot.length<2)return 0;for(var et=0,H=0;H<Ot.length-1;H++){var pt=Ot[H],nt=Ot[H+1];et+=O(pt[0],pt[1],nt[0],nt[1])}return et}function vt(Ot,et){if(et>1||et<0||Ot.length<2)return null;var H=Yt(Ot),pt=H.segments,nt=H.totalLength;if(nt===0)return{x:Ot[0][0],y:Ot[0][1]};for(var yt=0,Pt=null,Rt=0;Rt<pt.length;Rt++){var Wt=pt[Rt],Vt=Wt.from,Lt=Wt.to,Ct=Wt.length/nt;if(et>=yt&&et<=yt+Ct){var at=(et-yt)/Ct;Pt=E.pointAt(Vt[0],Vt[1],Lt[0],Lt[1],at);break}yt+=Ct}return Pt}function mt(Ot,et){if(et>1||et<0||Ot.length<2)return 0;for(var H=Yt(Ot),pt=H.segments,nt=H.totalLength,yt=0,Pt=0,Rt=0;Rt<pt.length;Rt++){var Wt=pt[Rt],Vt=Wt.from,Lt=Wt.to,Ct=Wt.length/nt;if(et>=yt&&et<=yt+Ct){Pt=Math.atan2(Lt[1]-Vt[1],Lt[0]-Vt[0]);break}yt+=Ct}return Pt}function ut(Ot,et,H){for(var pt=Infinity,nt=0;nt<Ot.length-1;nt++){var yt=Ot[nt],Pt=Ot[nt+1],Rt=E.pointDistance(yt[0],yt[1],Pt[0],Pt[1],et,H);Rt<pt&&(pt=Rt)}return pt}var st={box:function(et){for(var H=[],pt=[],nt=0;nt<et.length;nt++){var yt=et[nt];H.push(yt[0]),pt.push(yt[1])}return P(H,pt)},length:function(et){return Xt(et)},pointAt:function(et,H){return vt(et,H)},pointDistance:function(et,H,pt){return ut(et,H,pt)},tangentAngle:function(et,H){return mt(et,H)}};function lt(Ot){var et=Ot.slice(0);return Ot.length&&et.push(Ot[0]),et}var Tt={box:function(et){return st.box(et)},length:function(et){return Xt(lt(et))},pointAt:function(et,H){return vt(lt(et),H)},pointDistance:function(et,H,pt){return ut(lt(et),H,pt)},tangentAngle:function(et,H){return mt(lt(et),H)}}},"9u1Y":function(jt,A,a){"use strict";var f=this&&this.__awaiter||function(W,z,N,I){function B(G){return G instanceof N?G:new N(function(k){k(G)})}return new(N||(N=Promise))(function(G,k){function V(K){try{Q(I.next(K))}catch(_){k(_)}}function tt(K){try{Q(I.throw(K))}catch(_){k(_)}}function Q(K){K.done?G(K.value):B(K.value).then(V,tt)}Q((I=I.apply(W,z||[])).next())})},o=this&&this.__generator||function(W,z){var N={label:0,sent:function(){if(G[0]&1)throw G[1];return G[1]},trys:[],ops:[]},I,B,G,k;return k={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function V(Q){return function(K){return tt([Q,K])}}function tt(Q){if(I)throw new TypeError("Generator is already executing.");for(;N;)try{if(I=1,B&&(G=Q[0]&2?B.return:Q[0]?B.throw||((G=B.return)&&G.call(B),0):B.next)&&!(G=G.call(B,Q[1])).done)return G;switch(B=0,G&&(Q=[Q[0]&2,G.value]),Q[0]){case 0:case 1:G=Q;break;case 4:return N.label++,{value:Q[1],done:!1};case 5:N.label++,B=Q[1],Q=[0];continue;case 7:Q=N.ops.pop(),N.trys.pop();continue;default:if(G=N.trys,!(G=G.length>0&&G[G.length-1])&&(Q[0]===6||Q[0]===2)){N=0;continue}if(Q[0]===3&&(!G||Q[1]>G[0]&&Q[1]<G[3])){N.label=Q[1];break}if(Q[0]===6&&N.label<G[1]){N.label=G[1],G=Q;break}if(G&&N.label<G[2]){N.label=G[2],N.ops.push(Q);break}G[2]&&N.ops.pop(),N.trys.pop();continue}Q=z.call(W,N)}catch(K){Q=[6,K],B=0}finally{I=G=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}},x=this&&this.__spreadArray||function(W,z){for(var N=0,I=z.length,B=W.length;N<I;N++,B++)W[B]=z[N];return W};Object.defineProperty(A,"__esModule",{value:!0}),A.Container=void 0;var O=a("DpFF"),C=a("196R"),P=a("2+60"),b=a("9L8m"),S=a("/dUy"),y=a("O7jt"),E=a("g5+9"),m=a("szLl"),T=a("qSJf"),L=a("Rph/"),g=a("13cj"),j=a("4X1q"),U=function(){function W(z){this._appliedMiddleware=[];var N=z||{};if(typeof N!="object")throw new Error(""+C.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(N.defaultScope===void 0)N.defaultScope=P.BindingScopeEnum.Transient;else if(N.defaultScope!==P.BindingScopeEnum.Singleton&&N.defaultScope!==P.BindingScopeEnum.Transient&&N.defaultScope!==P.BindingScopeEnum.Request)throw new Error(""+C.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(N.autoBindInjectable===void 0)N.autoBindInjectable=!1;else if(typeof N.autoBindInjectable!="boolean")throw new Error(""+C.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(N.skipBaseClassChecks===void 0)N.skipBaseClassChecks=!1;else if(typeof N.skipBaseClassChecks!="boolean")throw new Error(""+C.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:N.autoBindInjectable,defaultScope:N.defaultScope,skipBaseClassChecks:N.skipBaseClassChecks},this.id=T.id(),this._bindingDictionary=new j.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new S.MetadataReader}return W.merge=function(z,N){for(var I=[],B=2;B<arguments.length;B++)I[B-2]=arguments[B];var G=new W,k=x([z,N],I).map(function(Q){return y.getBindingDictionary(Q)}),V=y.getBindingDictionary(G);function tt(Q,K){Q.traverse(function(_,Y){Y.forEach(function(q){K.add(q.serviceIdentifier,q.clone())})})}return k.forEach(function(Q){tt(Q,V)}),G},W.prototype.load=function(){for(var z=[],N=0;N<arguments.length;N++)z[N]=arguments[N];for(var I=this._getContainerModuleHelpersFactory(),B=0,G=z;B<G.length;B++){var k=G[B],V=I(k.id);k.registry(V.bindFunction,V.unbindFunction,V.isboundFunction,V.rebindFunction)}},W.prototype.loadAsync=function(){for(var z=[],N=0;N<arguments.length;N++)z[N]=arguments[N];return f(this,void 0,void 0,function(){var I,B,G,k,V;return o(this,function(tt){switch(tt.label){case 0:I=this._getContainerModuleHelpersFactory(),B=0,G=z,tt.label=1;case 1:return B<G.length?(k=G[B],V=I(k.id),[4,k.registry(V.bindFunction,V.unbindFunction,V.isboundFunction,V.rebindFunction)]):[3,4];case 2:tt.sent(),tt.label=3;case 3:return B++,[3,1];case 4:return[2]}})})},W.prototype.unload=function(){for(var z=this,N=[],I=0;I<arguments.length;I++)N[I]=arguments[I];var B=function(k){return function(V){return V.moduleId===k}};N.forEach(function(G){var k=B(G.id);z._bindingDictionary.removeByCondition(k)})},W.prototype.bind=function(z){var N=this.options.defaultScope||P.BindingScopeEnum.Transient,I=new O.Binding(z,N);return this._bindingDictionary.add(z,I),new m.BindingToSyntax(I)},W.prototype.rebind=function(z){return this.unbind(z),this.bind(z)},W.prototype.unbind=function(z){try{this._bindingDictionary.remove(z)}catch(N){throw new Error(C.CANNOT_UNBIND+" "+L.getServiceIdentifierAsString(z))}},W.prototype.unbindAll=function(){this._bindingDictionary=new j.Lookup},W.prototype.isBound=function(z){var N=this._bindingDictionary.hasKey(z);return!N&&this.parent&&(N=this.parent.isBound(z)),N},W.prototype.isBoundNamed=function(z,N){return this.isBoundTagged(z,b.NAMED_TAG,N)},W.prototype.isBoundTagged=function(z,N,I){var B=!1;if(this._bindingDictionary.hasKey(z)){var G=this._bindingDictionary.get(z),k=y.createMockRequest(this,z,N,I);B=G.some(function(V){return V.constraint(k)})}return!B&&this.parent&&(B=this.parent.isBoundTagged(z,N,I)),B},W.prototype.snapshot=function(){this._snapshots.push(g.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},W.prototype.restore=function(){var z=this._snapshots.pop();if(z===void 0)throw new Error(C.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=z.bindings,this._middleware=z.middleware},W.prototype.createChild=function(z){var N=new W(z||this.options);return N.parent=this,N},W.prototype.applyMiddleware=function(){for(var z=[],N=0;N<arguments.length;N++)z[N]=arguments[N];this._appliedMiddleware=this._appliedMiddleware.concat(z);var I=this._middleware?this._middleware:this._planAndResolve();this._middleware=z.reduce(function(B,G){return G(B)},I)},W.prototype.applyCustomMetadataReader=function(z){this._metadataReader=z},W.prototype.get=function(z){return this._get(!1,!1,P.TargetTypeEnum.Variable,z)},W.prototype.getTagged=function(z,N,I){return this._get(!1,!1,P.TargetTypeEnum.Variable,z,N,I)},W.prototype.getNamed=function(z,N){return this.getTagged(z,b.NAMED_TAG,N)},W.prototype.getAll=function(z){return this._get(!0,!0,P.TargetTypeEnum.Variable,z)},W.prototype.getAllTagged=function(z,N,I){return this._get(!1,!0,P.TargetTypeEnum.Variable,z,N,I)},W.prototype.getAllNamed=function(z,N){return this.getAllTagged(z,b.NAMED_TAG,N)},W.prototype.resolve=function(z){var N=this.createChild();return N.bind(z).toSelf(),this._appliedMiddleware.forEach(function(I){N.applyMiddleware(I)}),N.get(z)},W.prototype._getContainerModuleHelpersFactory=function(){var z=this,N=function(tt,Q){tt._binding.moduleId=Q},I=function(tt){return function(Q){var K=z.bind.bind(z),_=K(Q);return N(_,tt),_}},B=function(tt){return function(Q){var K=z.unbind.bind(z);K(Q)}},G=function(tt){return function(Q){var K=z.isBound.bind(z);return K(Q)}},k=function(tt){return function(Q){var K=z.rebind.bind(z),_=K(Q);return N(_,tt),_}};return function(V){return{bindFunction:I(V),isboundFunction:G(V),rebindFunction:k(V),unbindFunction:B(V)}}},W.prototype._get=function(z,N,I,B,G,k){var V=null,tt={avoidConstraints:z,contextInterceptor:function(K){return K},isMultiInject:N,key:G,serviceIdentifier:B,targetType:I,value:k};if(this._middleware){if(V=this._middleware(tt),V==null)throw new Error(C.INVALID_MIDDLEWARE_RETURN)}else V=this._planAndResolve()(tt);return V},W.prototype._planAndResolve=function(){var z=this;return function(N){var I=y.plan(z._metadataReader,z,N.isMultiInject,N.targetType,N.serviceIdentifier,N.key,N.value,N.avoidConstraints);I=N.contextInterceptor(I);var B=E.resolve(I);return B}},W}();A.Container=U},"9xKD":function(jt,A,a){"use strict";var f=a("XSdR");jt.exports={longestPath:o,slack:x};function o(O){var C={};function P(b){var S=O.node(b);if(f.has(C,b))return S.rank;C[b]=!0;var y=f.min(f.map(O.outEdges(b),function(E){return P(E.w)-O.edge(E).minlen}));return(y===Number.POSITIVE_INFINITY||y===void 0||y===null)&&(y=0),S.rank=y}f.forEach(O.sources(),P)}function x(O,C){return O.node(C.w).rank-O.node(C.v).rank-O.edge(C).minlen}},A2sQ:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.createSensor=void 0;var f=a("PJ1B"),o=a("BF5W"),x=typeof ResizeObserver!="undefined"?o.createSensor:f.createSensor;A.createSensor=x},A80r:function(jt,A,a){"use strict";a.d(A,"a",function(){return O});var f=a("jg4I");function o(C,P){var b=Math.floor(C/P);return[P*b,P*(b+1)]}function x(C){return Math.ceil(Math.log(C.length)/Math.LN2)+1}function O(C,P,b,S,y){var E=Object(f.clone)(C);Object(f.sortBy)(E,P);var m=Object(f.valuesOfKey)(E,P),T=Object(f.getRange)(m),L=T.max-T.min,g=b;if(!b&&S&&(g=L/S),!b&&!S){var j=x(m);g=L/j}var U={},W=Object(f.groupBy)(E,y);Object(f.isEmpty)(W)?Object(f.each)(E,function(N){var I=N[P],B=o(I,g),G=B[0]+"-"+B[1];Object(f.hasKey)(U,G)||(U[G]={range:B,count:0}),U[G].count+=1}):Object.keys(W).forEach(function(N){Object(f.each)(W[N],function(I){var B=I[P],G=o(B,g),k=G[0]+"-"+G[1],V=k+"-"+N;Object(f.hasKey)(U,V)||(U[V]={range:G,count:0},U[V][y]=N),U[V].count+=1})});var z=[];return Object(f.each)(U,function(N){z.push(N)}),z}},"AD+8":function(jt,A,a){"use strict";a.d(A,"b",function(){return E}),a.d(A,"a",function(){return m});var f=a("CMID"),o=a("JUmX"),x=a("jg4I"),O=a("9+FG"),C=4,P=0,b=5,S="drilldown-bread-crumb",y={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},E="hierarchy-data-transform-params",m=function(T){Object(f.__extends)(L,T);function L(){var g=T!==null&&T.apply(this,arguments)||this;return g.name="drill-down",g.historyCache=[],g.breadCrumbGroup=null,g.breadCrumbCfg=y,g}return L.prototype.click=function(){var g=Object(x.get)(this.context,["event","data","data"]);if(!g)return!1;this.drill(g),this.drawBreadCrumb()},L.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var g=this.context.view.getCoordinate(),j=this.breadCrumbGroup,U=j.getBBox(),W=this.getButtonCfg().position,z={x:0,y:0};W==="bottom-left"&&(z=g.isPolar?{x:0,y:g.getHeight()}:g.convert({x:0,y:1}));var N=o.Util.transform(null,[["t",z.x+P,z.y+U.height+b]]);j.setMatrix(N)}},L.prototype.reset=function(){this.historyCache[0]&&this.back(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},L.prototype.drill=function(g){var j=this.context.view,U=Object(x.get)(j,["interactions","drill-down","cfg","transformData"],function(B){return B}),W=U(Object(f.__assign)({data:g.data},g[E]));j.changeData(W);for(var z=[],N=g;N;){var I=N.data;z.unshift({id:I.name+"_"+N.height+"_"+N.depth,name:I.name,children:U(Object(f.__assign)({data:I},g[E]))}),N=N.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(z)},L.prototype.back=function(g){if(!(!g||g.length<=0)){var j=this.context.view,U=Object(x.last)(g).children;j.changeData(U),g.length>1?(this.historyCache=g,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},L.prototype.getButtonCfg=function(){var g=this.context.view,j=Object(x.get)(g,["interactions","drill-down","cfg","drillDownConfig"]);return Object(O.a)(this.breadCrumbCfg,j==null?void 0:j.breadCrumb,this.cfg)},L.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},L.prototype.drawBreadCrumbGroup=function(){var g=this,j=this.getButtonCfg(),U=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:S});var W=0;U.forEach(function(z,N){var I=g.breadCrumbGroup.addShape({type:"text",id:z.id,name:S+"_"+z.name+"_text",attrs:Object(f.__assign)(Object(f.__assign)({text:N===0&&!Object(x.isNil)(j.rootText)?j.rootText:z.name},j.textStyle),{x:W,y:0})}),B=I.getBBox();if(W+=B.width+C,I.on("click",function(V){var tt,Q=V.target.get("id");if(Q!==((tt=Object(x.last)(U))===null||tt===void 0?void 0:tt.id)){var K=U.slice(0,U.findIndex(function(_){return _.id===Q})+1);g.back(K)}}),I.on("mouseenter",function(V){var tt,Q=V.target.get("id");Q!==((tt=Object(x.last)(U))===null||tt===void 0?void 0:tt.id)?I.attr(j.activeTextStyle):I.attr({cursor:"default"})}),I.on("mouseleave",function(){I.attr(j.textStyle)}),N<U.length-1){var G=g.breadCrumbGroup.addShape({type:"text",name:j.name+"_"+z.name+"_divider",attrs:Object(f.__assign)(Object(f.__assign)({text:j.dividerText},j.textStyle),{x:W,y:0})}),k=G.getBBox();W+=k.width+C}})},L.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},L.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),T.prototype.destroy.call(this)},L}(o.Action)},AKnH:function(jt,A,a){"use strict";a.d(A,"a",function(){return Yt});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("RHEd"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("7Nom"),E=a.n(y),m=a("4OuL"),T=a.n(m),L=a("r1m7"),g=a.n(L),j=a("99LQ"),U=a("YcyD"),W=a.n(U),z=a("XN3X"),N=a("c5gd"),I=a("60wz"),B,G,k,V,tt,Q,K,_,Y,q,ot,ft,ct,rt;function gt(Xt,vt){var mt;if(typeof Symbol=="undefined"||Xt[Symbol.iterator]==null){if(Array.isArray(Xt)||(mt=Et(Xt))||vt&&Xt&&typeof Xt.length=="number"){mt&&(Xt=mt);var ut=0,st=function(){};return{s:st,n:function(){return ut>=Xt.length?{done:!0}:{done:!1,value:Xt[ut++]}},e:function(H){throw H},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lt=!0,Tt=!1,Ot;return{s:function(){mt=Xt[Symbol.iterator]()},n:function(){var H=mt.next();return lt=H.done,H},e:function(H){Tt=!0,Ot=H},f:function(){try{!lt&&mt.return!=null&&mt.return()}finally{if(Tt)throw Ot}}}}function Et(Xt,vt){if(!!Xt){if(typeof Xt=="string")return Gt(Xt,vt);var mt=Object.prototype.toString.call(Xt).slice(8,-1);if(mt==="Object"&&Xt.constructor&&(mt=Xt.constructor.name),mt==="Map"||mt==="Set")return Array.from(Xt);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return Gt(Xt,vt)}}function Gt(Xt,vt){(vt==null||vt>Xt.length)&&(vt=Xt.length);for(var mt=0,ut=new Array(vt);mt<vt;mt++)ut[mt]=Xt[mt];return ut}var Yt=(B=Object(U.injectable)(),G=Object(U.inject)(z.a.MeshComponentManager),k=Object(U.inject)(z.a.CullableComponentManager),V=Object(U.inject)(z.a.GeometryComponentManager),tt=Object(U.inject)(z.a.HierarchyComponentManager),Q=Object(U.inject)(z.a.TransformComponentManager),B(K=(_=(rt=function(){function Xt(){S()(this,Xt),P()(this,"mesh",Y,this),P()(this,"cullable",q,this),P()(this,"geometry",ot,this),P()(this,"hierarchy",ft,this),P()(this,"transform",ct,this),this.planes=void 0}return E()(Xt,[{key:"setFrustumPlanes",value:function(mt){this.planes=mt}},{key:"execute",value:function(){var vt=O()(o.a.mark(function ut(st){var lt,Tt,Ot,et,H,pt,nt,yt,Pt,Rt,Wt,Vt,Lt,Ct,at,It,Ft,xt,Nt,Ht,Bt;return o.a.wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:lt=gt(st);try{for(lt.s();!(Tt=lt.n()).done;){Ot=Tt.value,et=Ot.getScene(),H=Ot.getCamera(),pt=gt(et.getEntities());try{for(pt.s();!(nt=pt.n()).done;)yt=nt.value,Pt=this.mesh.getComponentByEntity(yt),Pt&&(Rt=this.hierarchy.getComponentByEntity(yt),Wt=this.cullable.getComponentByEntity(yt),Vt=Pt.geometry,Lt=this.transform.getComponentByEntity(yt),Vt&&Vt.aabb&&Lt&&Pt.aabbDirty&&(Ct=Lt.worldTransform,at=Vt.aabb,It=at.center,Ft=at.halfExtents,xt=j.e.transformMat4(j.e.create(),It,Ct),Nt=Object(I.b)(Ct,j.a.create()),Ht=j.e.transformMat3(j.e.create(),Ft,Nt),Pt.aabb.update(xt,Ht),Pt.aabbDirty=!1),Wt&&Vt&&(Bt=this.cullable.getComponentByEntity((Rt==null?void 0:Rt.parentID)||-1),Wt.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(Pt.aabb,(Bt==null?void 0:Bt.visibilityPlaneMask)||N.b.INDETERMINATE,this.planes||H.getFrustum().planes),Wt.visible=Wt.visibilityPlaneMask!==N.b.OUTSIDE))}catch(oe){pt.e(oe)}finally{pt.f()}}}catch(oe){lt.e(oe)}finally{lt.f()}case 2:case"end":return Jt.stop()}},ut,this)}));function mt(ut){return vt.apply(this,arguments)}return mt}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(mt,ut,st){if(ut===N.b.OUTSIDE||ut===N.b.INSIDE)return ut;for(var lt=N.b.INSIDE,Tt=0,Ot=st.length;Tt<Ot;++Tt){var et=Tt<31?1<<Tt:0;if(!(Tt<31&&(ut&et)==0)){var H=st[Tt],pt=H.normal,nt=H.distance;if(j.e.dot(pt,mt.getNegativeFarPoint(st[Tt]))+nt>0)return N.b.OUTSIDE;j.e.dot(pt,mt.getPositiveFarPoint(st[Tt]))+nt>0&&(lt|=et)}}return lt}}]),Xt}(),rt),Y=T()(_.prototype,"mesh",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=T()(_.prototype,"cullable",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=T()(_.prototype,"geometry",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=T()(_.prototype,"hierarchy",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=T()(_.prototype,"transform",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_))||K)},AM3p:function(jt,A,a){"use strict";var f=a("XSdR");jt.exports={adjust:o,undo:x};function o(E){var m=E.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&O(E)}function x(E){var m=E.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&P(E),(m==="lr"||m==="rl")&&(S(E),O(E))}function O(E){f.forEach(E.nodes(),function(m){C(E.node(m))}),f.forEach(E.edges(),function(m){C(E.edge(m))})}function C(E){var m=E.width;E.width=E.height,E.height=m}function P(E){f.forEach(E.nodes(),function(m){b(E.node(m))}),f.forEach(E.edges(),function(m){var T=E.edge(m);f.forEach(T.points,b),f.has(T,"y")&&b(T)})}function b(E){E.y=-E.y}function S(E){f.forEach(E.nodes(),function(m){y(E.node(m))}),f.forEach(E.edges(),function(m){var T=E.edge(m);f.forEach(T.points,y),f.has(T,"x")&&y(T)})}function y(E){var m=E.x;E.x=E.y,E.y=m}},ANdP:function(jt,A,a){"use strict";var f=a("/WN3"),o=a("jg4I"),x=a("5Kaj"),O=function(C){Object(f.b)(P,C);function P(){return C!==null&&C.apply(this,arguments)||this}return P.prototype.process=function(b){var S=o.flatten(b),y=this,E=y.xField,m=y.yField,T=this.getXValuesMaxMap(S),L=Math.max.apply(Math,Object.keys(T).map(function(g){return T[g]}));return o.map(b,function(g){return o.map(g,function(j){var U,W,z=j[m],N=j[E];if(o.isArray(z)){var I=(L-T[N])/2;return Object(f.a)(Object(f.a)({},j),(U={},U[m]=o.map(z,function(G){return I+G}),U))}var B=(L-z)/2;return Object(f.a)(Object(f.a)({},j),(W={},W[m]=[B,z+B],W))})})},P.prototype.getXValuesMaxMap=function(b){var S=this,y=this,E=y.xField,m=y.yField,T=o.groupBy(b,function(L){return L[E]});return o.mapValues(T,function(L){return S.getDimMaxValue(L,m)})},P.prototype.getDimMaxValue=function(b,S){var y=o.map(b,function(m){return o.get(m,S,[])}),E=o.flatten(y);return Math.max.apply(Math,E)},P}(x.a);A.a=O},AUMs:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isStackOverflowExeption=void 0;var f=a("196R");function o(x){return x instanceof RangeError||x.message===f.STACK_OVERFLOW}A.isStackOverflowExeption=o},AaeU:function(jt,A,a){var f=a("ql+n");jt.exports=o;function o(x){var O={},C=[],P;function b(S){f.has(O,S)||(O[S]=!0,P.push(S),f.each(x.successors(S),b),f.each(x.predecessors(S),b))}return f.each(x.nodes(),function(S){P=[],b(S),P.length&&C.push(P)}),C}},"Af9/":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=O;var f=a("Eqze");function o(C){C===void 0&&(C={});var P=C,b=function(){},S=function(){var y={};return function(E){var m=E.next;return y[m]?!1:(y[m]=!0,!0)}}();return P.allowTraversal=C.allowTraversal||S,P.enter=C.enter||b,P.leave=C.leave||b,P}function x(C,P,b,S){S.enter({current:P,previous:b});var y=C.edges,E=y===void 0?[]:y;(0,f.getNeighbors)(P,E,"target").forEach(function(m){S.allowTraversal({previous:b,current:P,next:m})&&x(C,m,P,S)}),S.leave({current:P,previous:b})}function O(C,P,b){x(C,P,"",o(b))}},AmsH:function(jt,A){var a="\\ud800-\\udfff",f="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",x="\\u20d0-\\u20ff",O=f+o+x,C="\\ufe0e\\ufe0f",P="\\u200d",b=RegExp("["+P+a+O+C+"]");function S(y){return b.test(y)}jt.exports=S},Aw3q:function(jt,A){},BF5W:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.createSensor=void 0;var f=o(a("5M8n"));function o(O){return O&&O.__esModule?O:{default:O}}var x=function(C){var P=void 0,b=[],S=(0,f.default)(function(){b.forEach(function(L){L(C)})}),y=function(){var g=new ResizeObserver(S);return g.observe(C),S(),g},E=function(g){P||(P=y()),b.indexOf(g)===-1&&b.push(g)},m=function(){P.disconnect(),b=[],P=void 0},T=function(g){var j=b.indexOf(g);j!==-1&&b.splice(j,1),b.length===0&&P&&m()};return{element:C,bind:E,destroy:m,unbind:T}};A.createSensor=x},BLox:function(jt,A,a){(function(f,o){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var x;(function(O){(function(C){var P=typeof o=="object"?o:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),b=S(O);typeof P.Reflect=="undefined"?P.Reflect=O:b=S(P.Reflect,b),C(b);function S(y,E){return function(m,T){typeof y[m]!="function"&&Object.defineProperty(y,m,{configurable:!0,writable:!0,value:T}),E&&E(m,T)}}})(function(C){var P=Object.prototype.hasOwnProperty,b=typeof Symbol=="function",S=b&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",y=b&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",E=typeof Object.create=="function",m={__proto__:[]}instanceof Array,T=!E&&!m,L={create:E?function(){return Ht(Object.create(null))}:m?function(){return Ht({__proto__:null})}:function(){return Ht({})},has:T?function(Bt,Ut){return P.call(Bt,Ut)}:function(Bt,Ut){return Ut in Bt},get:T?function(Bt,Ut){return P.call(Bt,Ut)?Bt[Ut]:void 0}:function(Bt,Ut){return Bt[Ut]}},g=Object.getPrototypeOf(Function),j=typeof f=="object"&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL==="true",U=!j&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ft(),W=!j&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:xt(),z=!j&&typeof WeakMap=="function"?WeakMap:Nt(),N=new z;function I(Bt,Ut,Jt,oe){if(mt(Jt)){if(!nt(Bt))throw new TypeError;if(!Pt(Ut))throw new TypeError;return q(Bt,Ut)}else{if(!nt(Bt))throw new TypeError;if(!lt(Ut))throw new TypeError;if(!lt(oe)&&!mt(oe)&&!ut(oe))throw new TypeError;return ut(oe)&&(oe=void 0),Jt=pt(Jt),ot(Bt,Ut,Jt,oe)}}C("decorate",I);function B(Bt,Ut){function Jt(oe,ge){if(!lt(oe))throw new TypeError;if(!mt(ge)&&!Rt(ge))throw new TypeError;Gt(Bt,Ut,oe,ge)}return Jt}C("metadata",B);function G(Bt,Ut,Jt,oe){if(!lt(Jt))throw new TypeError;return mt(oe)||(oe=pt(oe)),Gt(Bt,Ut,Jt,oe)}C("defineMetadata",G);function k(Bt,Ut,Jt){if(!lt(Ut))throw new TypeError;return mt(Jt)||(Jt=pt(Jt)),ct(Bt,Ut,Jt)}C("hasMetadata",k);function V(Bt,Ut,Jt){if(!lt(Ut))throw new TypeError;return mt(Jt)||(Jt=pt(Jt)),rt(Bt,Ut,Jt)}C("hasOwnMetadata",V);function tt(Bt,Ut,Jt){if(!lt(Ut))throw new TypeError;return mt(Jt)||(Jt=pt(Jt)),gt(Bt,Ut,Jt)}C("getMetadata",tt);function Q(Bt,Ut,Jt){if(!lt(Ut))throw new TypeError;return mt(Jt)||(Jt=pt(Jt)),Et(Bt,Ut,Jt)}C("getOwnMetadata",Q);function K(Bt,Ut){if(!lt(Bt))throw new TypeError;return mt(Ut)||(Ut=pt(Ut)),Yt(Bt,Ut)}C("getMetadataKeys",K);function _(Bt,Ut){if(!lt(Bt))throw new TypeError;return mt(Ut)||(Ut=pt(Ut)),Xt(Bt,Ut)}C("getOwnMetadataKeys",_);function Y(Bt,Ut,Jt){if(!lt(Ut))throw new TypeError;mt(Jt)||(Jt=pt(Jt));var oe=ft(Ut,Jt,!1);if(mt(oe)||!oe.delete(Bt))return!1;if(oe.size>0)return!0;var ge=N.get(Ut);return ge.delete(Jt),ge.size>0||N.delete(Ut),!0}C("deleteMetadata",Y);function q(Bt,Ut){for(var Jt=Bt.length-1;Jt>=0;--Jt){var oe=Bt[Jt],ge=oe(Ut);if(!mt(ge)&&!ut(ge)){if(!Pt(ge))throw new TypeError;Ut=ge}}return Ut}function ot(Bt,Ut,Jt,oe){for(var ge=Bt.length-1;ge>=0;--ge){var Ce=Bt[ge],Ie=Ce(Ut,Jt,oe);if(!mt(Ie)&&!ut(Ie)){if(!lt(Ie))throw new TypeError;oe=Ie}}return oe}function ft(Bt,Ut,Jt){var oe=N.get(Bt);if(mt(oe)){if(!Jt)return;oe=new U,N.set(Bt,oe)}var ge=oe.get(Ut);if(mt(ge)){if(!Jt)return;ge=new U,oe.set(Ut,ge)}return ge}function ct(Bt,Ut,Jt){var oe=rt(Bt,Ut,Jt);if(oe)return!0;var ge=It(Ut);return ut(ge)?!1:ct(Bt,ge,Jt)}function rt(Bt,Ut,Jt){var oe=ft(Ut,Jt,!1);return mt(oe)?!1:et(oe.has(Bt))}function gt(Bt,Ut,Jt){var oe=rt(Bt,Ut,Jt);if(oe)return Et(Bt,Ut,Jt);var ge=It(Ut);if(!ut(ge))return gt(Bt,ge,Jt)}function Et(Bt,Ut,Jt){var oe=ft(Ut,Jt,!1);if(!mt(oe))return oe.get(Bt)}function Gt(Bt,Ut,Jt,oe){var ge=ft(Jt,oe,!0);ge.set(Bt,Ut)}function Yt(Bt,Ut){var Jt=Xt(Bt,Ut),oe=It(Bt);if(oe===null)return Jt;var ge=Yt(oe,Ut);if(ge.length<=0)return Jt;if(Jt.length<=0)return ge;for(var Ce=new W,Ie=[],We=0,lr=Jt;We<lr.length;We++){var rr=lr[We],$e=Ce.has(rr);$e||(Ce.add(rr),Ie.push(rr))}for(var Ue=0,ir=ge;Ue<ir.length;Ue++){var rr=ir[Ue],$e=Ce.has(rr);$e||(Ce.add(rr),Ie.push(rr))}return Ie}function Xt(Bt,Ut){var Jt=[],oe=ft(Bt,Ut,!1);if(mt(oe))return Jt;for(var ge=oe.keys(),Ce=Vt(ge),Ie=0;;){var We=Ct(Ce);if(!We)return Jt.length=Ie,Jt;var lr=Lt(We);try{Jt[Ie]=lr}catch(rr){try{at(Ce)}finally{throw rr}}Ie++}}function vt(Bt){if(Bt===null)return 1;switch(typeof Bt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Bt===null?1:6;default:return 6}}function mt(Bt){return Bt===void 0}function ut(Bt){return Bt===null}function st(Bt){return typeof Bt=="symbol"}function lt(Bt){return typeof Bt=="object"?Bt!==null:typeof Bt=="function"}function Tt(Bt,Ut){switch(vt(Bt)){case 0:return Bt;case 1:return Bt;case 2:return Bt;case 3:return Bt;case 4:return Bt;case 5:return Bt}var Jt=Ut===3?"string":Ut===5?"number":"default",oe=Wt(Bt,S);if(oe!==void 0){var ge=oe.call(Bt,Jt);if(lt(ge))throw new TypeError;return ge}return Ot(Bt,Jt==="default"?"number":Jt)}function Ot(Bt,Ut){if(Ut==="string"){var Jt=Bt.toString;if(yt(Jt)){var oe=Jt.call(Bt);if(!lt(oe))return oe}var ge=Bt.valueOf;if(yt(ge)){var oe=ge.call(Bt);if(!lt(oe))return oe}}else{var ge=Bt.valueOf;if(yt(ge)){var oe=ge.call(Bt);if(!lt(oe))return oe}var Ce=Bt.toString;if(yt(Ce)){var oe=Ce.call(Bt);if(!lt(oe))return oe}}throw new TypeError}function et(Bt){return!!Bt}function H(Bt){return""+Bt}function pt(Bt){var Ut=Tt(Bt,3);return st(Ut)?Ut:H(Ut)}function nt(Bt){return Array.isArray?Array.isArray(Bt):Bt instanceof Object?Bt instanceof Array:Object.prototype.toString.call(Bt)==="[object Array]"}function yt(Bt){return typeof Bt=="function"}function Pt(Bt){return typeof Bt=="function"}function Rt(Bt){switch(vt(Bt)){case 3:return!0;case 4:return!0;default:return!1}}function Wt(Bt,Ut){var Jt=Bt[Ut];if(Jt!=null){if(!yt(Jt))throw new TypeError;return Jt}}function Vt(Bt){var Ut=Wt(Bt,y);if(!yt(Ut))throw new TypeError;var Jt=Ut.call(Bt);if(!lt(Jt))throw new TypeError;return Jt}function Lt(Bt){return Bt.value}function Ct(Bt){var Ut=Bt.next();return Ut.done?!1:Ut}function at(Bt){var Ut=Bt.return;Ut&&Ut.call(Bt)}function It(Bt){var Ut=Object.getPrototypeOf(Bt);if(typeof Bt!="function"||Bt===g||Ut!==g)return Ut;var Jt=Bt.prototype,oe=Jt&&Object.getPrototypeOf(Jt);if(oe==null||oe===Object.prototype)return Ut;var ge=oe.constructor;return typeof ge!="function"||ge===Bt?Ut:ge}function Ft(){var Bt={},Ut=[],Jt=function(){function Ie(We,lr,rr){this._index=0,this._keys=We,this._values=lr,this._selector=rr}return Ie.prototype["@@iterator"]=function(){return this},Ie.prototype[y]=function(){return this},Ie.prototype.next=function(){var We=this._index;if(We>=0&&We<this._keys.length){var lr=this._selector(this._keys[We],this._values[We]);return We+1>=this._keys.length?(this._index=-1,this._keys=Ut,this._values=Ut):this._index++,{value:lr,done:!1}}return{value:void 0,done:!0}},Ie.prototype.throw=function(We){throw this._index>=0&&(this._index=-1,this._keys=Ut,this._values=Ut),We},Ie.prototype.return=function(We){return this._index>=0&&(this._index=-1,this._keys=Ut,this._values=Ut),{value:We,done:!0}},Ie}();return function(){function Ie(){this._keys=[],this._values=[],this._cacheKey=Bt,this._cacheIndex=-2}return Object.defineProperty(Ie.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ie.prototype.has=function(We){return this._find(We,!1)>=0},Ie.prototype.get=function(We){var lr=this._find(We,!1);return lr>=0?this._values[lr]:void 0},Ie.prototype.set=function(We,lr){var rr=this._find(We,!0);return this._values[rr]=lr,this},Ie.prototype.delete=function(We){var lr=this._find(We,!1);if(lr>=0){for(var rr=this._keys.length,$e=lr+1;$e<rr;$e++)this._keys[$e-1]=this._keys[$e],this._values[$e-1]=this._values[$e];return this._keys.length--,this._values.length--,We===this._cacheKey&&(this._cacheKey=Bt,this._cacheIndex=-2),!0}return!1},Ie.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Bt,this._cacheIndex=-2},Ie.prototype.keys=function(){return new Jt(this._keys,this._values,oe)},Ie.prototype.values=function(){return new Jt(this._keys,this._values,ge)},Ie.prototype.entries=function(){return new Jt(this._keys,this._values,Ce)},Ie.prototype["@@iterator"]=function(){return this.entries()},Ie.prototype[y]=function(){return this.entries()},Ie.prototype._find=function(We,lr){return this._cacheKey!==We&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=We)),this._cacheIndex<0&&lr&&(this._cacheIndex=this._keys.length,this._keys.push(We),this._values.push(void 0)),this._cacheIndex},Ie}();function oe(Ie,We){return Ie}function ge(Ie,We){return We}function Ce(Ie,We){return[Ie,We]}}function xt(){return function(){function Bt(){this._map=new U}return Object.defineProperty(Bt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Bt.prototype.has=function(Ut){return this._map.has(Ut)},Bt.prototype.add=function(Ut){return this._map.set(Ut,Ut),this},Bt.prototype.delete=function(Ut){return this._map.delete(Ut)},Bt.prototype.clear=function(){this._map.clear()},Bt.prototype.keys=function(){return this._map.keys()},Bt.prototype.values=function(){return this._map.values()},Bt.prototype.entries=function(){return this._map.entries()},Bt.prototype["@@iterator"]=function(){return this.keys()},Bt.prototype[y]=function(){return this.keys()},Bt}()}function Nt(){var Bt=16,Ut=L.create(),Jt=oe();return function(){function lr(){this._key=oe()}return lr.prototype.has=function(rr){var $e=ge(rr,!1);return $e!==void 0?L.has($e,this._key):!1},lr.prototype.get=function(rr){var $e=ge(rr,!1);return $e!==void 0?L.get($e,this._key):void 0},lr.prototype.set=function(rr,$e){var Ue=ge(rr,!0);return Ue[this._key]=$e,this},lr.prototype.delete=function(rr){var $e=ge(rr,!1);return $e!==void 0?delete $e[this._key]:!1},lr.prototype.clear=function(){this._key=oe()},lr}();function oe(){var lr;do lr="@@WeakMap@@"+We();while(L.has(Ut,lr));return Ut[lr]=!0,lr}function ge(lr,rr){if(!P.call(lr,Jt)){if(!rr)return;Object.defineProperty(lr,Jt,{value:L.create()})}return lr[Jt]}function Ce(lr,rr){for(var $e=0;$e<rr;++$e)lr[$e]=Math.random()*255|0;return lr}function Ie(lr){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(lr)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(lr)):Ce(new Uint8Array(lr),lr):Ce(new Array(lr),lr)}function We(){var lr=Ie(Bt);lr[6]=lr[6]&79|64,lr[8]=lr[8]&191|128;for(var rr="",$e=0;$e<Bt;++$e){var Ue=lr[$e];($e===4||$e===6||$e===8)&&(rr+="-"),Ue<16&&(rr+="0"),rr+=Ue.toString(16).toLowerCase()}return rr}}function Ht(Bt){return Bt.__=void 0,delete Bt.__,Bt}})})(x||(x={}))}).call(this,a("7vYp"),a("I7Zj"))},BQrE:function(jt,A){},BSge:function(jt,A,a){"use strict";a.d(A,"a",function(){return x}),a.d(A,"b",function(){return O});var f=a("oFJY"),o=a("SCaY");function x(C,P){P.forEach(function(b){b.draw(C)})}function O(C,P){var b=C.get("canvas");if(b&&b.get("autoDraw")){var S=b.get("context"),y=C.getParent(),E=y?y.getChildren():[b],m=C.get("el");if(P==="remove"){var T=C.get("isClipShape");if(T){var L=m&&m.parentNode,g=L&&L.parentNode;L&&g&&g.removeChild(L)}else m&&m.parentNode&&m.parentNode.removeChild(m)}else if(P==="show")m.setAttribute("visibility","visible");else if(P==="hide")m.setAttribute("visibility","hidden");else if(P==="zIndex")Object(o.c)(m,E.indexOf(C));else if(P==="sort"){var j=C.get("children");j&&j.length&&Object(o.d)(C,function(U,W){return j.indexOf(U)-j.indexOf(W)?1:0})}else P==="clear"?m&&(m.innerHTML=""):P==="matrix"?Object(f.c)(C):P==="clip"?Object(f.a)(C,S):P==="attr"||P==="add"&&C.draw(S)}}},BTaQ:function(jt,A,a){jt.exports=a("rBQE")},BbNA:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var f=Symbol.for("INJECTION");function o(b,S,y,E){function m(){return E&&!Reflect.hasMetadata(f,this,S)&&Reflect.defineMetadata(f,y(),this,S),Reflect.hasMetadata(f,this,S)?Reflect.getMetadata(f,this,S):y()}function T(L){Reflect.defineMetadata(f,L,this,S)}Object.defineProperty(b,S,{configurable:!0,enumerable:!0,get:m,set:T})}function x(b,S){return function(y){return function(E,m){var T=function(){return b.get(y)};o(E,m,T,S)}}}A.makePropertyInjectDecorator=x;function O(b,S){return function(y,E){return function(m,T){var L=function(){return b.getNamed(y,E)};o(m,T,L,S)}}}A.makePropertyInjectNamedDecorator=O;function C(b,S){return function(y,E,m){return function(T,L){var g=function(){return b.getTagged(y,E,m)};o(T,L,g,S)}}}A.makePropertyInjectTaggedDecorator=C;function P(b,S){return function(y){return function(E,m){var T=function(){return b.getAll(y)};o(E,m,T,S)}}}A.makePropertyMultiInjectDecorator=P},BgQB:function(jt,A,a){"use strict";a.d(A,"a",function(){return mt});var f=a("q66O"),o=a.n(f),x=a("/wRx"),O=a.n(x),C=a("qaCK"),P=a.n(C),b=a("RHEd"),S=a.n(b),y=a("16OP"),E=a.n(y),m=a("7Nom"),T=a.n(m),L=a("4OuL"),g=a.n(L),j=a("r1m7"),U=a("YcyD"),W=a("XN3X"),z=function ut(){E()(this,ut),this.index=void 0},N=function ut(){E()(this,ut),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},I=function(){function ut(){E()(this,ut),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return T()(ut,[{key:"read",value:function(lt){return this.reads.find(function(Tt){return Tt.index===lt.index})||this.reads.push(lt),lt}},{key:"sample",value:function(lt){return this.read(lt),lt}},{key:"write",value:function(lt,Tt){var Ot=this.writes.find(function(nt){return nt.index===Tt.index});if(Ot)return Tt;var et=lt.getResourceNode(Tt);et.resource.version++,et.resource.imported&&(this.hasSideEffect=!0);var H=lt.createResourceNode(et.resource),pt=lt.getResourceNode(H);return pt.writer=this,this.writes.push(H),H}}]),ut}(),B=a("oOaK"),G=a.n(B),k=a("vpv6"),V=a.n(k),tt=a("G5xY"),Q=a.n(tt),K=function ut(){E()(this,ut),this.first=void 0,this.last=void 0};function _(ut){var st=Y();return function(){var Tt=Q()(ut),Ot;if(st){var et=Q()(this).constructor;Ot=Reflect.construct(Tt,arguments,et)}else Ot=Tt.apply(this,arguments);return V()(this,Ot)}}function Y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ut){return!1}}var q=function(ut){G()(lt,ut);var st=_(lt);function lt(){var Tt;E()(this,lt);for(var Ot=arguments.length,et=new Array(Ot),H=0;H<Ot;H++)et[H]=arguments[H];return Tt=st.call.apply(st,[this].concat(et)),Tt.version=0,Tt.refs=0,Tt.name=void 0,Tt.imported=void 0,Tt.priority=void 0,Tt.discardStart=!0,Tt.discardEnd=!1,Tt.descriptor=void 0,Tt.resource=void 0,Tt}return T()(lt,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){!this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){!this.imported}}]),lt}(K),ot=function ut(){E()(this,ut),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},ft,ct,rt,gt,Et,Gt;function Yt(ut,st){var lt;if(typeof Symbol=="undefined"||ut[Symbol.iterator]==null){if(Array.isArray(ut)||(lt=Xt(ut))||st&&ut&&typeof ut.length=="number"){lt&&(ut=lt);var Tt=0,Ot=function(){};return{s:Ot,n:function(){return Tt>=ut.length?{done:!0}:{done:!1,value:ut[Tt++]}},e:function(yt){throw yt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var et=!0,H=!1,pt;return{s:function(){lt=ut[Symbol.iterator]()},n:function(){var yt=lt.next();return et=yt.done,yt},e:function(yt){H=!0,pt=yt},f:function(){try{!et&&lt.return!=null&&lt.return()}finally{if(H)throw pt}}}}function Xt(ut,st){if(!!ut){if(typeof ut=="string")return vt(ut,st);var lt=Object.prototype.toString.call(ut).slice(8,-1);if(lt==="Object"&&ut.constructor&&(lt=ut.constructor.name),lt==="Map"||lt==="Set")return Array.from(ut);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return vt(ut,st)}}function vt(ut,st){(st==null||st>ut.length)&&(st=ut.length);for(var lt=0,Tt=new Array(st);lt<st;lt++)Tt[lt]=ut[lt];return Tt}var mt=(ft=Object(U.injectable)(),ct=Object(U.inject)(W.a.RenderEngine),ft(rt=(gt=(Gt=function(){function ut(){E()(this,ut),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],S()(this,"engine",Et,this)}return T()(ut,[{key:"execute",value:function(){var st=P()(O.a.mark(function Tt(Ot){return O.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return this.compile(),H.next=3,this.executePassNodes(Ot);case 3:case"end":return H.stop()}},Tt,this)}));function lt(Tt){return st.apply(this,arguments)}return lt}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(lt){lt.tearDown&&lt.tearDown()}),this.reset()}},{key:"addPass",value:function(lt,Tt,Ot,et){var H=new N;H.execute=Ot,et&&(H.tearDown=et),H.name=lt;var pt=new I;return pt.name=lt,this.passNodes.push(pt),this.frameGraphPasses.push(H),Tt(this,pt,H),H}},{key:"getPass",value:function(lt){return this.frameGraphPasses.find(function(Tt){return Tt.name===lt})}},{key:"compile",value:function(){var lt=this,Tt=Yt(this.passNodes),Ot;try{for(Tt.s();!(Ot=Tt.n()).done;){var et=Ot.value;et.refCount=et.writes.length+(et.hasSideEffect?1:0),et.reads.forEach(function(ir){lt.resourceNodes[ir.index].readerCount++})}}catch(ir){Tt.e(ir)}finally{Tt.f()}var H=[],pt=Yt(this.resourceNodes),nt;try{for(pt.s();!(nt=pt.n()).done;){var yt=nt.value;yt.readerCount===0&&H.push(yt)}}catch(ir){pt.e(ir)}finally{pt.f()}for(;H.length;){var Pt=H.pop(),Rt=Pt&&Pt.writer;if(Rt&&--Rt.refCount==0){var Wt=Yt(Rt.reads),Vt;try{for(Wt.s();!(Vt=Wt.n()).done;){var Lt=Vt.value,Ct=this.resourceNodes[Lt.index];--Ct.readerCount==0&&H.push(Ct)}}catch(ir){Wt.e(ir)}finally{Wt.f()}}}this.resourceNodes.forEach(function(ir){ir.resource.refs+=ir.readerCount});var at=Yt(this.passNodes),It;try{for(at.s();!(It=at.n()).done;){var Ft=It.value;if(!!Ft.refCount){var xt=Yt(Ft.reads),Nt;try{for(xt.s();!(Nt=xt.n()).done;){var Ht=Nt.value,Bt=this.resourceNodes[Ht.index].resource;Bt.first=Bt.first?Bt.first:Ft,Bt.last=Ft}}catch(ir){xt.e(ir)}finally{xt.f()}var Ut=Yt(Ft.writes),Jt;try{for(Ut.s();!(Jt=Ut.n()).done;){var oe=Jt.value,ge=this.resourceNodes[oe.index].resource;ge.first=ge.first?ge.first:Ft,ge.last=Ft}}catch(ir){Ut.e(ir)}finally{Ut.f()}}}}catch(ir){at.e(ir)}finally{at.f()}for(var Ce=0;Ce<2;Ce++){var Ie=Yt(this.resourceNodes),We;try{for(Ie.s();!(We=Ie.n()).done;){var lr=We.value,rr=lr.resource;if(rr.priority===Ce&&rr.refs){var $e=rr.first,Ue=rr.last;$e&&Ue&&($e.devirtualize.push(rr),Ue.destroy.push(rr))}}}catch(ir){Ie.e(ir)}finally{Ie.f()}}}},{key:"executePassNodes",value:function(){var st=P()(O.a.mark(function Tt(Ot){var et,H,pt,nt,yt,Pt,Rt,Wt,Vt,Lt,Ct,at,It,Ft,xt,Nt,Ht;return O.a.wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:et=Yt(this.passNodes.entries()),Ut.prev=1,et.s();case 3:if((H=et.n()).done){Ut.next=18;break}if(pt=o()(H.value,2),nt=pt[0],yt=pt[1],!yt.refCount){Ut.next=16;break}Pt=Yt(yt.devirtualize);try{for(Pt.s();!(Rt=Pt.n()).done;)Wt=Rt.value,Wt.preExecuteDevirtualize(this.engine)}catch(Jt){Pt.e(Jt)}finally{Pt.f()}Vt=Yt(yt.destroy);try{for(Vt.s();!(Lt=Vt.n()).done;)Ct=Lt.value,Ct.preExecuteDestroy(this.engine)}catch(Jt){Vt.e(Jt)}finally{Vt.f()}return Ut.next=12,this.frameGraphPasses[nt].execute(this,this.frameGraphPasses[nt],Ot);case 12:at=Yt(yt.devirtualize);try{for(at.s();!(It=at.n()).done;)Ft=It.value,Ft.postExecuteDevirtualize(this.engine)}catch(Jt){at.e(Jt)}finally{at.f()}xt=Yt(yt.destroy);try{for(xt.s();!(Nt=xt.n()).done;)Ht=Nt.value,Ht.postExecuteDestroy(this.engine)}catch(Jt){xt.e(Jt)}finally{xt.f()}case 16:Ut.next=3;break;case 18:Ut.next=23;break;case 20:Ut.prev=20,Ut.t0=Ut.catch(1),et.e(Ut.t0);case 23:return Ut.prev=23,et.f(),Ut.finish(23);case 26:this.reset();case 27:case"end":return Ut.stop()}},Tt,this,[[1,20,23,26]])}));function lt(Tt){return st.apply(this,arguments)}return lt}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(lt){return this.resourceNodes[lt.index]}},{key:"createResourceNode",value:function(lt){var Tt=new ot;Tt.resource=lt,Tt.version=lt.version,this.resourceNodes.push(Tt);var Ot=new z;return Ot.index=this.resourceNodes.length-1,Ot}},{key:"createTexture",value:function(lt,Tt,Ot){var et=new q;return et.name=Tt,et.descriptor=Ot,this.createResourceNode(et)}},{key:"createRenderTarget",value:function(lt,Tt,Ot){var et=new q;return et.name=Tt,et.descriptor=Ot,this.createResourceNode(et)}},{key:"present",value:function(lt){this.addPass("Present",function(Tt,Ot){Ot.read(lt),Ot.hasSideEffect=!0},P()(O.a.mark(function Tt(){return O.a.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:case"end":return et.stop()}},Tt)})))}}]),ut}(),Gt),Et=g()(gt.prototype,"engine",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt))||rt)},BpQQ:function(jt,A,a){"use strict";a.d(A,"a",function(){return C}),a.d(A,"c",function(){return P}),a.d(A,"b",function(){return b});var f=a("CMID"),o=a("jg4I"),x=a("Bw4k"),O=a("ygvb");function C(S,y){var E=S.filter(function(L){var g=Object(o.get)(L,[y]);return Object(o.isNumber)(g)&&!isNaN(g)}),m=E.every(function(L){return Object(o.get)(L,[y])>=0}),T=E.every(function(L){return Object(o.get)(L,[y])<=0});return m?{min:0}:T?{max:0}:{}}function P(S,y,E,m,T){if(T===void 0&&(T=[]),!Array.isArray(S))return{nodes:[],links:[]};var L=[],g={},j=-1;return S.forEach(function(U){var W=U[y],z=U[E],N=U[m],I=Object(O.a)(U,T);g[W]||(g[W]=Object(f.__assign)({id:++j,name:W},I)),g[z]||(g[z]=Object(f.__assign)({id:++j,name:z},I)),L.push(Object(f.__assign)({source:g[W].id,target:g[z].id,value:N},I))}),{nodes:Object.values(g),links:L}}function b(S,y){var E=Object(o.filter)(S,function(m){var T=m[y];return T===null||typeof T=="number"&&!isNaN(T)});return Object(x.b)(x.a.WARN,E.length===S.length,"illegal data existed in chart data."),E}},Bw4k:function(jt,A,a){"use strict";a.d(A,"a",function(){return o}),a.d(A,"b",function(){return P});var f=a("CMID"),o;(function(b){b.ERROR="error",b.WARN="warn",b.INFO="log"})(o||(o={}));var x="AntV/G2Plot";function O(b){for(var S=[],y=1;y<arguments.length;y++)S[y-1]=arguments[y];var E=0;return x+": "+b.replace(/%s/g,function(){return""+S[E++]})}function C(b,S){for(var y=[],E=2;E<arguments.length;E++)y[E-2]=arguments[E];if(!b){var m=new Error(O.apply(void 0,Object(f.__spreadArrays)([S],y)));throw m.name=x,m}}function P(b,S,y){for(var E=[],m=3;m<arguments.length;m++)E[m-3]=arguments[m];S||console[b](O.apply(void 0,Object(f.__spreadArrays)([y],E)))}},"C20/":function(jt,A,a){"use strict";a.d(A,"c",function(){return x}),a.d(A,"d",function(){return O}),a.d(A,"b",function(){return C}),a.d(A,"a",function(){return P});var f=a("CMID"),o=a("jg4I"),x="x",O="y",C={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(S,y){return""+Object(o.get)(y,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},P={appendPadding:2,tooltip:Object(f.__assign)({},C),animation:{}}},CG4S:function(jt,A){var a="\\ud800-\\udfff",f="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",x="\\u20d0-\\u20ff",O=f+o+x,C="\\ufe0e\\ufe0f",P="["+a+"]",b="["+O+"]",S="\\ud83c[\\udffb-\\udfff]",y="(?:"+b+"|"+S+")",E="[^"+a+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",L="\\u200d",g=y+"?",j="["+C+"]?",U="(?:"+L+"(?:"+[E,m,T].join("|")+")"+j+g+")*",W=j+g+U,z="(?:"+[E+b+"?",b,m,T,P].join("|")+")",N=RegExp(S+"(?="+S+")|"+z+W,"g");function I(B){for(var G=N.lastIndex=0;N.test(B);)++G;return G}jt.exports=I},CMID:function(jt,A,a){"use strict";a.r(A),a.d(A,"__extends",function(){return o}),a.d(A,"__assign",function(){return x}),a.d(A,"__rest",function(){return O}),a.d(A,"__decorate",function(){return C}),a.d(A,"__param",function(){return P}),a.d(A,"__metadata",function(){return b}),a.d(A,"__awaiter",function(){return S}),a.d(A,"__generator",function(){return y}),a.d(A,"__createBinding",function(){return E}),a.d(A,"__exportStar",function(){return m}),a.d(A,"__values",function(){return T}),a.d(A,"__read",function(){return L}),a.d(A,"__spread",function(){return g}),a.d(A,"__spreadArrays",function(){return j}),a.d(A,"__spreadArray",function(){return U}),a.d(A,"__await",function(){return W}),a.d(A,"__asyncGenerator",function(){return z}),a.d(A,"__asyncDelegator",function(){return N}),a.d(A,"__asyncValues",function(){return I}),a.d(A,"__makeTemplateObject",function(){return B}),a.d(A,"__importStar",function(){return k}),a.d(A,"__importDefault",function(){return V}),a.d(A,"__classPrivateFieldGet",function(){return tt}),a.d(A,"__classPrivateFieldSet",function(){return Q});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var f=function(_,Y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,ot){q.__proto__=ot}||function(q,ot){for(var ft in ot)Object.prototype.hasOwnProperty.call(ot,ft)&&(q[ft]=ot[ft])},f(_,Y)};function o(K,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");f(K,_);function Y(){this.constructor=K}K.prototype=_===null?Object.create(_):(Y.prototype=_.prototype,new Y)}var x=function(){return x=Object.assign||function(Y){for(var q,ot=1,ft=arguments.length;ot<ft;ot++){q=arguments[ot];for(var ct in q)Object.prototype.hasOwnProperty.call(q,ct)&&(Y[ct]=q[ct])}return Y},x.apply(this,arguments)};function O(K,_){var Y={};for(var q in K)Object.prototype.hasOwnProperty.call(K,q)&&_.indexOf(q)<0&&(Y[q]=K[q]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,q=Object.getOwnPropertySymbols(K);ot<q.length;ot++)_.indexOf(q[ot])<0&&Object.prototype.propertyIsEnumerable.call(K,q[ot])&&(Y[q[ot]]=K[q[ot]]);return Y}function C(K,_,Y,q){var ot=arguments.length,ft=ot<3?_:q===null?q=Object.getOwnPropertyDescriptor(_,Y):q,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(K,_,Y,q);else for(var rt=K.length-1;rt>=0;rt--)(ct=K[rt])&&(ft=(ot<3?ct(ft):ot>3?ct(_,Y,ft):ct(_,Y))||ft);return ot>3&&ft&&Object.defineProperty(_,Y,ft),ft}function P(K,_){return function(Y,q){_(Y,q,K)}}function b(K,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(K,_)}function S(K,_,Y,q){function ot(ft){return ft instanceof Y?ft:new Y(function(ct){ct(ft)})}return new(Y||(Y=Promise))(function(ft,ct){function rt(Gt){try{Et(q.next(Gt))}catch(Yt){ct(Yt)}}function gt(Gt){try{Et(q.throw(Gt))}catch(Yt){ct(Yt)}}function Et(Gt){Gt.done?ft(Gt.value):ot(Gt.value).then(rt,gt)}Et((q=q.apply(K,_||[])).next())})}function y(K,_){var Y={label:0,sent:function(){if(ft[0]&1)throw ft[1];return ft[1]},trys:[],ops:[]},q,ot,ft,ct;return ct={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function rt(Et){return function(Gt){return gt([Et,Gt])}}function gt(Et){if(q)throw new TypeError("Generator is already executing.");for(;Y;)try{if(q=1,ot&&(ft=Et[0]&2?ot.return:Et[0]?ot.throw||((ft=ot.return)&&ft.call(ot),0):ot.next)&&!(ft=ft.call(ot,Et[1])).done)return ft;switch(ot=0,ft&&(Et=[Et[0]&2,ft.value]),Et[0]){case 0:case 1:ft=Et;break;case 4:return Y.label++,{value:Et[1],done:!1};case 5:Y.label++,ot=Et[1],Et=[0];continue;case 7:Et=Y.ops.pop(),Y.trys.pop();continue;default:if(ft=Y.trys,!(ft=ft.length>0&&ft[ft.length-1])&&(Et[0]===6||Et[0]===2)){Y=0;continue}if(Et[0]===3&&(!ft||Et[1]>ft[0]&&Et[1]<ft[3])){Y.label=Et[1];break}if(Et[0]===6&&Y.label<ft[1]){Y.label=ft[1],ft=Et;break}if(ft&&Y.label<ft[2]){Y.label=ft[2],Y.ops.push(Et);break}ft[2]&&Y.ops.pop(),Y.trys.pop();continue}Et=_.call(K,Y)}catch(Gt){Et=[6,Gt],ot=0}finally{q=ft=0}if(Et[0]&5)throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}}var E=Object.create?function(K,_,Y,q){q===void 0&&(q=Y),Object.defineProperty(K,q,{enumerable:!0,get:function(){return _[Y]}})}:function(K,_,Y,q){q===void 0&&(q=Y),K[q]=_[Y]};function m(K,_){for(var Y in K)Y!=="default"&&!Object.prototype.hasOwnProperty.call(_,Y)&&E(_,K,Y)}function T(K){var _=typeof Symbol=="function"&&Symbol.iterator,Y=_&&K[_],q=0;if(Y)return Y.call(K);if(K&&typeof K.length=="number")return{next:function(){return K&&q>=K.length&&(K=void 0),{value:K&&K[q++],done:!K}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(K,_){var Y=typeof Symbol=="function"&&K[Symbol.iterator];if(!Y)return K;var q=Y.call(K),ot,ft=[],ct;try{for(;(_===void 0||_-- >0)&&!(ot=q.next()).done;)ft.push(ot.value)}catch(rt){ct={error:rt}}finally{try{ot&&!ot.done&&(Y=q.return)&&Y.call(q)}finally{if(ct)throw ct.error}}return ft}function g(){for(var K=[],_=0;_<arguments.length;_++)K=K.concat(L(arguments[_]));return K}function j(){for(var K=0,_=0,Y=arguments.length;_<Y;_++)K+=arguments[_].length;for(var q=Array(K),ot=0,_=0;_<Y;_++)for(var ft=arguments[_],ct=0,rt=ft.length;ct<rt;ct++,ot++)q[ot]=ft[ct];return q}function U(K,_,Y){if(Y||arguments.length===2)for(var q=0,ot=_.length,ft;q<ot;q++)(ft||!(q in _))&&(ft||(ft=Array.prototype.slice.call(_,0,q)),ft[q]=_[q]);return K.concat(ft||_)}function W(K){return this instanceof W?(this.v=K,this):new W(K)}function z(K,_,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=Y.apply(K,_||[]),ot,ft=[];return ot={},ct("next"),ct("throw"),ct("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function ct(Xt){q[Xt]&&(ot[Xt]=function(vt){return new Promise(function(mt,ut){ft.push([Xt,vt,mt,ut])>1||rt(Xt,vt)})})}function rt(Xt,vt){try{gt(q[Xt](vt))}catch(mt){Yt(ft[0][3],mt)}}function gt(Xt){Xt.value instanceof W?Promise.resolve(Xt.value.v).then(Et,Gt):Yt(ft[0][2],Xt)}function Et(Xt){rt("next",Xt)}function Gt(Xt){rt("throw",Xt)}function Yt(Xt,vt){Xt(vt),ft.shift(),ft.length&&rt(ft[0][0],ft[0][1])}}function N(K){var _,Y;return _={},q("next"),q("throw",function(ot){throw ot}),q("return"),_[Symbol.iterator]=function(){return this},_;function q(ot,ft){_[ot]=K[ot]?function(ct){return(Y=!Y)?{value:W(K[ot](ct)),done:ot==="return"}:ft?ft(ct):ct}:ft}}function I(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=K[Symbol.asyncIterator],Y;return _?_.call(K):(K=typeof T=="function"?T(K):K[Symbol.iterator](),Y={},q("next"),q("throw"),q("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function q(ft){Y[ft]=K[ft]&&function(ct){return new Promise(function(rt,gt){ct=K[ft](ct),ot(rt,gt,ct.done,ct.value)})}}function ot(ft,ct,rt,gt){Promise.resolve(gt).then(function(Et){ft({value:Et,done:rt})},ct)}}function B(K,_){return Object.defineProperty?Object.defineProperty(K,"raw",{value:_}):K.raw=_,K}var G=Object.create?function(K,_){Object.defineProperty(K,"default",{enumerable:!0,value:_})}:function(K,_){K.default=_};function k(K){if(K&&K.__esModule)return K;var _={};if(K!=null)for(var Y in K)Y!=="default"&&Object.prototype.hasOwnProperty.call(K,Y)&&E(_,K,Y);return G(_,K),_}function V(K){return K&&K.__esModule?K:{default:K}}function tt(K,_,Y,q){if(Y==="a"&&!q)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?K!==_||!q:!_.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?q:Y==="a"?q.call(K):q?q.value:_.get(K)}function Q(K,_,Y,q,ot){if(q==="m")throw new TypeError("Private method is not writable");if(q==="a"&&!ot)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?K!==_||!ot:!_.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return q==="a"?ot.call(K,Y):ot?ot.value=Y:_.set(K,Y),Y}},COEK:function(jt,A){jt.exports=a;function a(f,o,x,O){var C=o[0],P=o[1];return f[0]=C+O*(x[0]-C),f[1]=P+O*(x[1]-P),f}},CURf:function(jt,A,a){"use strict";a.d(A,"a",function(){return g});var f=a("16OP"),o=a.n(f),x=a("cW+D"),O=a.n(x),C=a("oOaK"),P=a.n(C),b=a("vpv6"),S=a.n(b),y=a("G5xY"),E=a.n(y),m=a("Hg9g");function T(j){var U=L();return function(){var z=E()(j),N;if(U){var I=E()(this).constructor;N=Reflect.construct(z,arguments,I)}else N=z.apply(this,arguments);return S()(this,N)}}function L(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(j){return!1}}var g=function(j){P()(W,j);var U=T(W);function W(z){var N;return o()(this,W),N=U.call(this,z),N.parentID=void 0,Object.assign(O()(N),z),N}return W}(m.a)},Ca6f:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.targetName=void 0;var f=a("9L8m"),o=a("rMkn"),x=a("ZLnY");function O(C){return function(P,b,S){var y=new o.Metadata(f.NAME_TAG,C);x.tagParameter(P,b,S,y)}}A.targetName=O},CdXo:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.postConstruct=void 0;var f=a("196R"),o=a("9L8m"),x=a("rMkn");function O(){return function(C,P,b){var S=new x.Metadata(o.POST_CONSTRUCT,P);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,C.constructor))throw new Error(f.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,S,C.constructor)}}A.postConstruct=O},CyRS:function(jt,A,a){"use strict";var f=a("CMID"),o=a("U8wd"),x=a("jg4I"),O=a("ozhX"),C=a("BSge"),P=a("oFJY"),b=a("0xlF"),S=a("SCaY"),y=function(E){Object(f.__extends)(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.isEntityGroup=function(){return!0},m.prototype.createDom=function(){var T=Object(S.b)("g");this.set("el",T);var L=this.getParent();if(L){var g=L.get("el");g||(g=L.createDom(),L.set("el",g)),g.appendChild(T)}return T},m.prototype.afterAttrsChange=function(T){E.prototype.afterAttrsChange.call(this,T);var L=this.get("canvas");if(L&&L.get("autoDraw")){var g=L.get("context");this.createPath(g,T)}},m.prototype.onCanvasChange=function(T){Object(C.b)(this,T)},m.prototype.getShapeBase=function(){return O},m.prototype.getGroupBase=function(){return m},m.prototype.draw=function(T){var L=this.getChildren(),g=this.get("el");this.get("destroyed")?g&&g.parentNode.removeChild(g):(g||this.createDom(),Object(P.a)(this,T),this.createPath(T),L.length&&Object(C.a)(T,L))},m.prototype.createPath=function(T,L){var g=this.attr(),j=this.get("el");Object(x.each)(L||g,function(U,W){b.b[W]&&j.setAttribute(b.b[W],U)}),Object(P.c)(this)},m}(o.AbstractGroup);A.a=y},DBqA:function(jt,A,a){"use strict";a.d(A,"b",function(){return x}),a.d(A,"c",function(){return C}),a.d(A,"a",function(){return P});var f=a("tSnd"),o=a("r93A");function x(b,S,y){var E=1;if(Object(f.h)(b)&&(E=b.split(`
`).length),E>1){var m=O(S,y);return S*E+m*(E-1)}return S}function O(b,S){return S?S-b:b*.14}function C(b,S){var y=Object(o.a)(),E=0;if(Object(f.e)(b)||b==="")return E;if(y.save(),y.font=S,Object(f.h)(b)&&b.includes(`
`)){var m=b.split(`
`);Object(f.a)(m,function(T){var L=y.measureText(T).width;E<L&&(E=L)})}else E=y.measureText(b).width;return y.restore(),E}function P(b){var S=b.fontSize,y=b.fontFamily,E=b.fontWeight,m=b.fontStyle,T=b.fontVariant;return[m,T,E,S+"px",y].join(" ").trim()}},DC1X:function(jt,A,a){var f=a("E9DR");jt.exports=o;function o(x,O){return f(x,O,"pre")}},DUby:function(jt,A){},DUss:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=x(a("8ceh")),o=a("Eqze");function x(b){return b&&b.__esModule?b:{default:b}}function O(b){b===void 0&&(b={});var S=b,y=function(){},E=function(){var m={};return function(T){var L=T.next,g=L;return m[g]?!1:(m[g]=!0,!0)}}();return S.allowTraversal=b.allowTraversal||E,S.enter=b.enter||y,S.leave=b.leave||y,S}var C=function(S,y,E){var m=O(E),T=new f.default,L=S.edges,g=L===void 0?[]:L;T.enqueue(y);for(var j="",U=function(){var z=T.dequeue();m.enter({current:z,previous:j}),(0,o.getNeighbors)(z,g,"target").forEach(function(N){m.allowTraversal({previous:j,current:z,next:N})&&T.enqueue(N)}),m.leave({current:z,previous:j}),j=z};!T.isEmpty();)U()},P=C;A.default=P},DXmi:function(jt,A,a){"use strict";a.r(A),a.d(A,"Line",function(){return Yt}),a.d(A,"Circle",function(){return vt}),a.d(A,"Base",function(){return L});var f={};a.r(f),a.d(f,"getDefault",function(){return U}),a.d(f,"ellipsisHead",function(){return W}),a.d(f,"ellipsisTail",function(){return z}),a.d(f,"ellipsisMiddle",function(){return N});var o={};a.r(o),a.d(o,"getDefault",function(){return Q}),a.d(o,"reserveFirst",function(){return K}),a.d(o,"reserveLast",function(){return _}),a.d(o,"reserveBoth",function(){return Y}),a.d(o,"equidistance",function(){return q}),a.d(o,"equidistanceWithReverseBoth",function(){return ot});var x={};a.r(x),a.d(x,"getDefault",function(){return rt}),a.d(x,"fixedAngle",function(){return gt}),a.d(x,"unfixedAngle",function(){return Et});var O={};a.r(O),a.d(O,"autoHide",function(){return o}),a.d(O,"autoRotate",function(){return x}),a.d(O,"autoEllipsis",function(){return f});var C=a("CMID"),P=a("sxZn"),b=a("jg4I"),S=a("VZin"),y=a("x3DA"),E=a("ItRR"),m=a("qhN0"),T=function(mt){Object(C.__extends)(ut,mt);function ut(){return mt!==null&&mt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var st=mt.prototype.getDefaultCfg.call(this);return Object(C.__assign)(Object(C.__assign)({},st),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:m.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:m.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:m.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:m.a.textColor,fontFamily:m.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:m.a.textColor,textBaseline:"middle",fontFamily:m.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:m.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},ut.prototype.renderInner=function(st){this.get("line")&&this.drawLine(st),this.drawTicks(st),this.get("title")&&this.drawTitle(st)},ut.prototype.isList=function(){return!0},ut.prototype.getItems=function(){return this.get("ticks")},ut.prototype.setItems=function(st){this.update({ticks:st})},ut.prototype.updateItem=function(st,lt){Object(b.mix)(st,lt),this.clear(),this.render()},ut.prototype.clearItems=function(){var st=this.getElementByLocalId("label-group");st&&st.clear()},ut.prototype.setItemState=function(st,lt,Tt){st[lt]=Tt,this.updateTickStates(st)},ut.prototype.hasState=function(st,lt){return!!st[lt]},ut.prototype.getItemStates=function(st){var lt=this.get("tickStates"),Tt=[];return Object(b.each)(lt,function(Ot,et){st[et]&&Tt.push(et)}),Tt},ut.prototype.clearItemsState=function(st){var lt=this,Tt=this.getItemsByState(st);Object(b.each)(Tt,function(Ot){lt.setItemState(Ot,st,!1)})},ut.prototype.getItemsByState=function(st){var lt=this,Tt=this.getItems();return Object(b.filter)(Tt,function(Ot){return lt.hasState(Ot,st)})},ut.prototype.getSidePoint=function(st,lt){var Tt=this,Ot=Tt.getSideVector(lt,st);return{x:st.x+Ot[0],y:st.y+Ot[1]}},ut.prototype.getTextAnchor=function(st){var lt;return Object(b.isNumberEqual)(st[0],0)?lt="center":st[0]>0?lt="start":st[0]<0&&(lt="end"),lt},ut.prototype.getTextBaseline=function(st){var lt;return Object(b.isNumberEqual)(st[1],0)?lt="middle":st[1]>0?lt="top":st[1]<0&&(lt="bottom"),lt},ut.prototype.processOverlap=function(st){},ut.prototype.drawLine=function(st){var lt=this.getLinePath(),Tt=this.get("line");this.addShape(st,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(b.mix)({path:lt},Tt.style)})},ut.prototype.getTickLineItems=function(st){var lt=this,Tt=[],Ot=this.get("tickLine"),et=Ot.alignTick,H=Ot.length,pt=1,nt=st.length;return nt>=2&&(pt=st[1].value-st[0].value),Object(b.each)(st,function(yt){var Pt=yt.point;et||(Pt=lt.getTickPoint(yt.value-pt/2));var Rt=lt.getSidePoint(Pt,H);Tt.push({startPoint:Pt,tickValue:yt.value,endPoint:Rt,tickId:yt.id,id:"tickline-"+yt.id})}),Tt},ut.prototype.getSubTickLineItems=function(st){var lt=[],Tt=this.get("subTickLine"),Ot=Tt.count,et=st.length;if(et>=2)for(var H=0;H<et-1;H++)for(var pt=st[H],nt=st[H+1],yt=0;yt<Ot;yt++){var Pt=(yt+1)/(Ot+1),Rt=(1-Pt)*pt.tickValue+Pt*nt.tickValue,Wt=this.getTickPoint(Rt),Vt=this.getSidePoint(Wt,Tt.length);lt.push({startPoint:Wt,endPoint:Vt,tickValue:Rt,id:"sub-"+pt.id+"-"+yt})}return lt},ut.prototype.getTickLineAttrs=function(st,lt,Tt,Ot){var et=this.get(lt).style,H={points:[st.startPoint,st.endPoint]},pt=Object(b.get)(this.get("theme"),["tickLine","style"],{});et=Object(b.isFunction)(et)?Object(b.mix)({},pt,et(H,Tt,Ot)):et;var nt=st.startPoint,yt=st.endPoint;return Object(C.__assign)({x1:nt.x,y1:nt.y,x2:yt.x,y2:yt.y},et)},ut.prototype.drawTick=function(st,lt,Tt,Ot,et){this.addShape(lt,{type:"line",id:this.getElementId(st.id),name:"axis-"+Tt,attrs:this.getTickLineAttrs(st,Tt,Ot,et)})},ut.prototype.drawTickLines=function(st){var lt=this,Tt=this.get("ticks"),Ot=this.get("subTickLine"),et=this.getTickLineItems(Tt),H=this.addGroup(st,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),pt=this.get("tickLine");if(Object(b.each)(et,function(yt,Pt){if(pt.displayWithLabel){var Rt=lt.getElementId("label-"+yt.tickId);st.findById(Rt)&&lt.drawTick(yt,H,"tickLine",Pt,et)}else lt.drawTick(yt,H,"tickLine",Pt,et)}),Ot){var nt=this.getSubTickLineItems(et);Object(b.each)(nt,function(yt,Pt){lt.drawTick(yt,H,"subTickLine",Pt,nt)})}},ut.prototype.processTicks=function(){var st=this,lt=this.get("ticks");Object(b.each)(lt,function(Tt){Tt.point=st.getTickPoint(Tt.value),Object(b.isNil)(Tt.id)&&(Tt.id=Tt.name)})},ut.prototype.drawTicks=function(st){var lt=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(st),this.get("tickLine")&&this.drawTickLines(st);var Tt=this.get("ticks");Object(b.each)(Tt,function(Ot){lt.applyTickStates(Ot,st)})},ut.prototype.optimizeTicks=function(){var st=this.get("optimize"),lt=this.get("ticks");if(st&&st.enable&&st.threshold>0){var Tt=Object(b.size)(lt);if(Tt>st.threshold){var Ot=Math.ceil(Tt/st.threshold),et=lt.filter(function(H,pt){return pt%Ot==0});this.set("ticks",et),this.set("originalTicks",lt)}}},ut.prototype.getLabelAttrs=function(st,lt,Tt){var Ot=this.get("label"),et=Ot.offset,H=Ot.rotate,pt=Ot.formatter,nt=this.getSidePoint(st.point,et),yt=this.getSideVector(et,nt),Pt=pt?pt(st.name,st,lt):st.name,Rt=Ot.style;Rt=Object(b.isFunction)(Rt)?Object(b.get)(this.get("theme"),["label","style"],{}):Rt;var Wt=Object(b.mix)({x:nt.x,y:nt.y,text:Pt,textAlign:this.getTextAnchor(yt),textBaseline:this.getTextBaseline(yt)},Rt);return H&&(Wt.matrix=Object(y.e)(nt,H)),Wt},ut.prototype.drawLabels=function(st){var lt=this,Tt=this.get("ticks"),Ot=this.addGroup(st,{name:"axis-label-group",id:this.getElementId("label-group")});Object(b.each)(Tt,function(Rt,Wt){lt.addShape(Ot,{type:"text",name:"axis-label",id:lt.getElementId("label-"+Rt.id),attrs:lt.getLabelAttrs(Rt,Wt,Tt),delegateObject:{tick:Rt,item:Rt,index:Wt}})}),this.processOverlap(Ot);var et=Ot.getChildren(),H=Object(b.get)(this.get("theme"),["label","style"],{}),pt=this.get("label"),nt=pt.style,yt=pt.formatter;if(Object(b.isFunction)(nt)){var Pt=et.map(function(Rt){return Object(b.get)(Rt.get("delegateObject"),"tick")});Object(b.each)(et,function(Rt,Wt){var Vt=Rt.get("delegateObject").tick,Lt=yt?yt(Vt.name,Vt,Wt):Vt.name,Ct=Object(b.mix)({},H,nt(Lt,Wt,Pt));Rt.attr(Ct)})}},ut.prototype.getTitleAttrs=function(){var st=this.get("title"),lt=st.style,Tt=st.position,Ot=st.offset,et=st.spacing,H=et===void 0?0:et,pt=st.autoRotate,nt=lt.fontSize,yt=.5;Tt==="start"?yt=0:Tt==="end"&&(yt=1);var Pt=this.getTickPoint(yt),Rt=this.getSidePoint(Pt,Ot||H+nt/2),Wt=Object(b.mix)({x:Rt.x,y:Rt.y,text:st.text},lt),Vt=st.rotate,Lt=Vt;if(Object(b.isNil)(Vt)&&pt){var Ct=this.getAxisVector(Pt),at=[1,0];Lt=P.a.angleTo(Ct,at,!0)}if(Lt){var It=Object(y.e)(Rt,Lt);Wt.matrix=It}return Wt},ut.prototype.drawTitle=function(st){this.addShape(st,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},ut.prototype.applyTickStates=function(st,lt){var Tt=this.getItemStates(st);if(Tt.length){var Ot=this.get("tickStates"),et=this.getElementId("label-"+st.id),H=lt.findById(et);if(H){var pt=Object(E.a)(st,"label",Ot);pt&&H.attr(pt)}var nt=this.getElementId("tickline-"+st.id),yt=lt.findById(nt);if(yt){var Pt=Object(E.a)(st,"tickLine",Ot);Pt&&yt.attr(Pt)}}},ut.prototype.updateTickStates=function(st){var lt=this.getItemStates(st),Tt=this.get("tickStates"),Ot=this.get("label"),et=this.getElementByLocalId("label-"+st.id),H=this.get("tickLine"),pt=this.getElementByLocalId("tickline-"+st.id);if(lt.length){if(et){var nt=Object(E.a)(st,"label",Tt);nt&&et.attr(nt)}if(pt){var yt=Object(E.a)(st,"tickLine",Tt);yt&&pt.attr(yt)}}else et&&et.attr(Ot.style),pt&&pt.attr(H.style)},ut}(S.a),L=T,g=a("2DZl");function j(mt,ut,st,lt){var Tt=ut.getChildren(),Ot=!1;return Object(b.each)(Tt,function(et){var H=Object(g.a)(mt,et,st,lt);Ot=Ot||H}),Ot}function U(){return z}function W(mt,ut,st){return j(mt,ut,st,"head")}function z(mt,ut,st){return j(mt,ut,st,"tail")}function N(mt,ut,st){return j(mt,ut,st,"middle")}var I=a("8Loy");function B(mt){var ut=mt.attr("matrix");return ut&&ut[0]!==1}function G(mt){var ut=B(mt)?Object(y.d)(mt.attr("matrix")):0;return ut%360}function k(mt,ut,st,lt){var Tt=!1,Ot=G(ut),et=Math.abs(mt?st.attr("y")-ut.attr("y"):st.attr("x")-ut.attr("x")),H=(mt?st.attr("y")>ut.attr("y"):st.attr("x")>ut.attr("x"))?ut.getBBox():st.getBBox();if(mt){var pt=Math.abs(Math.cos(Ot));Object(I.i)(pt,0,Math.PI/180)?Tt=H.width+lt>et:Tt=H.height/pt+lt>et}else{var pt=Math.abs(Math.sin(Ot));Object(I.i)(pt,0,Math.PI/180)?Tt=H.width+lt>et:Tt=H.height/pt+lt>et}return Tt}function V(mt,ut,st,lt){var Tt=(lt==null?void 0:lt.minGap)||0,Ot=ut.getChildren().slice().filter(function(Vt){return Vt.get("visible")});if(!Ot.length)return!1;var et=!1;st&&Ot.reverse();for(var H=Ot.length,pt=Ot[0],nt=pt,yt=1;yt<H;yt++){var Pt=Ot[yt],Rt=Pt.getBBox(),Wt=k(mt,nt,Pt,Tt);Wt?(Pt.hide(),et=!0):nt=Pt}return et}function tt(mt,ut,st){var lt=(st==null?void 0:st.minGap)||0,Tt=ut.getChildren().slice();if(Tt.length<2)return!1;var Ot=!1,et=Tt[0],H=et.getBBox(),pt=Tt[1],nt=Tt.length,yt=G(et),Pt=Math.abs(mt?pt.attr("y")-et.attr("y"):pt.attr("x")-et.attr("x")),Rt=0;if(mt){var Wt=Math.abs(Math.cos(yt));if(Object(I.i)(Wt,0,Math.PI/180)){var Vt=Object(g.b)(Tt);Rt=(Vt+lt)/Pt}else Rt=(H.height/Wt+lt)/Pt}else{var Wt=Math.abs(Math.sin(yt));if(Object(I.i)(Wt,0,Math.PI/180)){var Vt=Object(g.b)(Tt);Rt=(Vt+lt)/Pt}else Rt=(H.height/Wt+lt)/Pt}if(Rt>1){Rt=Math.ceil(Rt);for(var Lt=0;Lt<nt;Lt++)Lt%Rt!=0&&(Tt[Lt].hide(),Ot=!0)}return Ot}function Q(){return q}function K(mt,ut,st,lt){return V(mt,ut,!1,lt)}function _(mt,ut,st,lt){return V(mt,ut,!0,lt)}function Y(mt,ut,st,lt){var Tt=(lt==null?void 0:lt.minGap)||0,Ot=ut.getChildren().slice();if(Ot.length<=2)return!1;for(var et=!1,H=Ot.length,pt=Ot[0],nt=Ot[H-1],yt=pt,Pt=1;Pt<H-1;Pt++){var Rt=Ot[Pt],Wt=Rt.getBBox(),Vt=k(mt,yt,Rt,Tt);Vt?(Rt.hide(),et=!0):yt=Rt}var Lt=k(mt,yt,nt,Tt);return Lt&&(yt.hide(),et=!0),et}function q(mt,ut,st,lt){var Tt=tt(mt,ut,lt);return V(mt,ut,!1)&&(Tt=!0),Tt}function ot(mt,ut,st,lt){var Tt=ut.getChildren().slice(),Ot=tt(mt,ut,lt);if(Tt.length>2){var et=Tt[0],H=Tt[Tt.length-1];et.get("visible")||(et.show(),V(mt,ut,!1,lt)&&(Ot=!0)),H.get("visible")||(H.show(),V(mt,ut,!0,lt)&&(Ot=!0))}return Ot}function ft(mt,ut){Object(b.each)(mt,function(st){var lt=st.attr("x"),Tt=st.attr("y"),Ot=Object(y.e)({x:lt,y:Tt},ut);st.attr("matrix",Ot)})}function ct(mt,ut,st,lt){var Tt=ut.getChildren();if(!Tt.length||!mt&&Tt.length<2)return!1;var Ot=Object(g.b)(Tt),et=!1;if(mt)et=!!st&&Ot>st;else{var H=Math.abs(Tt[1].attr("x")-Tt[0].attr("x"));et=Ot>H}if(et){var pt=lt(st,Ot);ft(Tt,pt)}return et}function rt(){return gt}function gt(mt,ut,st,lt){return ct(mt,ut,st,function(){return Object(b.isNumber)(lt)?lt:mt?m.a.verticalAxisRotate:m.a.horizontalAxisRotate})}function Et(mt,ut,st){return ct(mt,ut,st,function(lt,Tt){if(!lt)return mt?m.a.verticalAxisRotate:m.a.horizontalAxisRotate;if(mt)return-Math.acos(lt/Tt);var Ot=0;return lt>Tt?Ot=Math.PI/4:(Ot=Math.asin(lt/Tt),Ot>Math.PI/4&&(Ot=Math.PI/4)),Ot})}var Gt=function(mt){Object(C.__extends)(ut,mt);function ut(){return mt!==null&&mt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var st=mt.prototype.getDefaultCfg.call(this);return Object(C.__assign)(Object(C.__assign)({},st),{type:"line",locationType:"region",start:null,end:null})},ut.prototype.getLinePath=function(){var st=this.get("start"),lt=this.get("end"),Tt=[];return Tt.push(["M",st.x,st.y]),Tt.push(["L",lt.x,lt.y]),Tt},ut.prototype.getInnerLayoutBBox=function(){var st=this.get("start"),lt=this.get("end"),Tt=mt.prototype.getInnerLayoutBBox.call(this),Ot=Math.min(st.x,lt.x,Tt.x),et=Math.min(st.y,lt.y,Tt.y),H=Math.max(st.x,lt.x,Tt.maxX),pt=Math.max(st.y,lt.y,Tt.maxY);return{x:Ot,y:et,minX:Ot,minY:et,maxX:H,maxY:pt,width:H-Ot,height:pt-et}},ut.prototype.isVertical=function(){var st=this.get("start"),lt=this.get("end");return Object(b.isNumberEqual)(st.x,lt.x)},ut.prototype.isHorizontal=function(){var st=this.get("start"),lt=this.get("end");return Object(b.isNumberEqual)(st.y,lt.y)},ut.prototype.getTickPoint=function(st){var lt=this,Tt=lt.get("start"),Ot=lt.get("end"),et=Ot.x-Tt.x,H=Ot.y-Tt.y;return{x:Tt.x+et*st,y:Tt.y+H*st}},ut.prototype.getSideVector=function(st){var lt=this.getAxisVector(),Tt=P.c.normalize([0,0],lt),Ot=this.get("verticalFactor"),et=[Tt[1],Tt[0]*-1];return P.c.scale([0,0],et,st*Ot)},ut.prototype.getAxisVector=function(){var st=this.get("start"),lt=this.get("end");return[lt.x-st.x,lt.y-st.y]},ut.prototype.processOverlap=function(st){var lt=this,Tt=this.isVertical(),Ot=this.isHorizontal();if(!(!Tt&&!Ot)){var et=this.get("label"),H=this.get("title"),pt=this.get("verticalLimitLength"),nt=et.offset,yt=pt,Pt=0,Rt=0;H&&(Pt=H.style.fontSize,Rt=H.spacing),yt&&(yt=yt-nt-Rt-Pt);var Wt=this.get("overlapOrder");if(Object(b.each)(Wt,function(Ct){et[Ct]&&lt.canProcessOverlap(Ct)&&lt.autoProcessOverlap(Ct,et[Ct],st,yt)}),H&&Object(b.isNil)(H.offset)){var Vt=st.getCanvasBBox(),Lt=Tt?Vt.width:Vt.height;H.offset=nt+Lt+Rt+Pt/2}}},ut.prototype.canProcessOverlap=function(st){var lt=this.get("label");return st==="autoRotate"?Object(b.isNil)(lt.rotate):!0},ut.prototype.autoProcessOverlap=function(st,lt,Tt,Ot){var et=this,H=this.isVertical(),pt=!1,nt=O[st];if(lt===!0){var yt=this.get("label");pt=nt.getDefault()(H,Tt,Ot)}else if(Object(b.isFunction)(lt))pt=lt(H,Tt,Ot);else if(Object(b.isObject)(lt)){var Pt=lt;nt[Pt.type]&&(pt=nt[Pt.type](H,Tt,Ot,Pt.cfg))}else nt[lt]&&(pt=nt[lt](H,Tt,Ot));if(st==="autoRotate"){if(pt){var Rt=Tt.getChildren(),Wt=this.get("verticalFactor");Object(b.each)(Rt,function(Lt){var Ct=Lt.attr("textAlign");if(Ct==="center"){var at=Wt>0?"end":"start";Lt.attr("textAlign",at)}})}}else if(st==="autoHide"){var Vt=Tt.getChildren().slice(0);Object(b.each)(Vt,function(Lt){Lt.get("visible")||(et.get("isRegister")&&et.unregisterElement(Lt),Lt.remove())})}},ut}(L),Yt=Gt,Xt=function(mt){Object(C.__extends)(ut,mt);function ut(){return mt!==null&&mt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var st=mt.prototype.getDefaultCfg.call(this);return Object(C.__assign)(Object(C.__assign)({},st),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ut.prototype.getLinePath=function(){var st=this.get("center"),lt=st.x,Tt=st.y,Ot=this.get("radius"),et=Ot,H=this.get("startAngle"),pt=this.get("endAngle"),nt=[];if(Math.abs(pt-H)===Math.PI*2)nt=[["M",lt,Tt-et],["A",Ot,et,0,1,1,lt,Tt+et],["A",Ot,et,0,1,1,lt,Tt-et],["Z"]];else{var yt=this.getCirclePoint(H),Pt=this.getCirclePoint(pt),Rt=Math.abs(pt-H)>Math.PI?1:0,Wt=H>pt?0:1;nt=[["M",lt,Tt],["L",yt.x,yt.y],["A",Ot,et,0,Rt,Wt,Pt.x,Pt.y],["L",lt,Tt]]}return nt},ut.prototype.getTickPoint=function(st){var lt=this.get("startAngle"),Tt=this.get("endAngle"),Ot=lt+(Tt-lt)*st;return this.getCirclePoint(Ot)},ut.prototype.getSideVector=function(st,lt){var Tt=this.get("center"),Ot=[lt.x-Tt.x,lt.y-Tt.y],et=this.get("verticalFactor"),H=P.c.length(Ot);return P.c.scale(Ot,Ot,et*st/H),Ot},ut.prototype.getAxisVector=function(st){var lt=this.get("center"),Tt=[st.x-lt.x,st.y-lt.y];return[Tt[1],-1*Tt[0]]},ut.prototype.getCirclePoint=function(st,lt){var Tt=this.get("center");return lt=lt||this.get("radius"),{x:Tt.x+Math.cos(st)*lt,y:Tt.y+Math.sin(st)*lt}},ut}(L),vt=Xt},DhYH:function(jt,A,a){var f=a("ql+n"),o=a("mbOf");jt.exports=O;var x=f.constant(1);function O(P,b,S,y){return C(P,String(b),S||x,y||function(E){return P.outEdges(E)})}function C(P,b,S,y){var E={},m=new o,T,L,g=function(U){var W=U.v!==T?U.v:U.w,z=E[W],N=S(U),I=L.distance+N;if(N<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+U+" Weight: "+N);I<z.distance&&(z.distance=I,z.predecessor=T,m.decrease(W,I))};for(P.nodes().forEach(function(j){var U=j===b?0:Number.POSITIVE_INFINITY;E[j]={distance:U},m.add(j,U)});m.size()>0&&(T=m.removeMin(),L=E[T],L.distance!==Number.POSITIVE_INFINITY);)y(T).forEach(g);return E}},DpFF:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Binding=void 0;var f=a("2+60"),o=a("qSJf"),x=function(){function O(C,P){this.id=o.id(),this.activated=!1,this.serviceIdentifier=C,this.scope=P,this.type=f.BindingTypeEnum.Invalid,this.constraint=function(b){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return O.prototype.clone=function(){var C=new O(this.serviceIdentifier,this.scope);return C.activated=C.scope===f.BindingScopeEnum.Singleton?this.activated:!1,C.implementationType=this.implementationType,C.dynamicValue=this.dynamicValue,C.scope=this.scope,C.type=this.type,C.factory=this.factory,C.provider=this.provider,C.constraint=this.constraint,C.onActivation=this.onActivation,C.cache=this.cache,C},O}();A.Binding=x},E9DR:function(jt,A,a){var f=a("ql+n");jt.exports=o;function o(O,C,P){f.isArray(C)||(C=[C]);var b=(O.isDirected()?O.successors:O.neighbors).bind(O),S=[],y={};return f.each(C,function(E){if(!O.hasNode(E))throw new Error("Graph does not have node: "+E);x(O,E,P==="post",y,b,S)}),S}function x(O,C,P,b,S,y){f.has(b,C)||(b[C]=!0,P||y.push(C),f.each(S(C),function(E){x(O,E,P,b,S,y)}),P&&y.push(C))}},EEYS:function(jt,A,a){var f=a("ql+n");jt.exports=o;function o(x){var O=0,C=[],P={},b=[];function S(y){var E=P[y]={onStack:!0,lowlink:O,index:O++};if(C.push(y),x.successors(y).forEach(function(L){f.has(P,L)?P[L].onStack&&(E.lowlink=Math.min(E.lowlink,P[L].index)):(S(L),E.lowlink=Math.min(E.lowlink,P[L].lowlink))}),E.lowlink===E.index){var m=[],T;do T=C.pop(),P[T].onStack=!1,m.push(T);while(y!==T);b.push(m)}}return x.nodes().forEach(function(y){f.has(P,y)||S(y)}),b}},EZfi:function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=Math.max(o[0],x[0]),f[1]=Math.max(o[1],x[1]),f}},EbMC:function(jt,A,a){"use strict";A.a=function(f,o,x,O,C){for(var P=f.children,b,S=-1,y=P.length,E=f.value&&(O-o)/f.value;++S<y;)b=P[S],b.y0=x,b.y1=C,b.x0=o,b.x1=o+=b.value*E}},EpgB:function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=o[0]-x[0],f[1]=o[1]-x[1],f}},Eqze:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.uniqueId=A.getEdgesByNodeId=A.getOutEdgesNodeId=A.getNeighbors=void 0;var f=function(P,b,S){b===void 0&&(b=[]);var y=b.filter(function(L){return L.source===P||L.target===P});if(S==="target"){var E=function(g){return g.source===P};return y.filter(E).map(function(L){return L.target})}if(S==="source"){var m=function(g){return g.target===P};return y.filter(m).map(function(L){return L.source})}var T=function(g){return g.source===P?g.target:g.source};return y.map(T)};A.getNeighbors=f;var o=function(P,b){return b.filter(function(S){return S.source===P})};A.getOutEdgesNodeId=o;var x=function(P,b){return b.filter(function(S){return S.source===P||S.target===P})};A.getEdgesByNodeId=x;var O=function(P){P===void 0&&(P=0);var b=(""+Math.random()).split(".")[1].substr(0,5),S=(""+Math.random()).split(".")[1].substr(0,5);return P+"-"+b+S};A.uniqueId=O},F4DG:function(jt,A,a){"use strict";a.d(A,"a",function(){return x});var f=a("jg4I"),o=a("m8bt");function x(O){var C=Object(f.clamp)(Object(o.b)(O)?O:0,0,1);return[{type:"current",percent:C},{type:"target",percent:1-C}]}},FA8c:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});var f={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Conversion rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}},FJgl:function(jt,A){},FasI:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=a("jg4I"),o=a("l+tw"),x=function(){function T(L,g,j,U,W){this.fromNode=L,this.toNode=g,this.nodeEdgeNodeLabel={nodeLabel1:j||o.VACANT_NODE_LABEL,edgeLabel:U||o.VACANT_EDGE_LABEL,nodeLabel2:W||o.VACANT_NODE_LABEL}}return T.prototype.equalTo=function(L){return this.fromNode===L.formNode&&this.toNode===L.toNode&&this.nodeEdgeNodeLabel===L.nodeEdgeNodeLabel},T.prototype.notEqualTo=function(L){return!this.equalTo(L)},T}(),O=function(){function T(){this.rmpath=[],this.dfsEdgeList=[]}return T.prototype.equalTo=function(L){var g=this.dfsEdgeList.length,j=L.length;if(g!==j)return!1;for(var U=0;U<g;U++)if(this.dfsEdgeList[U]!==L[U])return!1;return!0},T.prototype.notEqualTo=function(L){return!this.equalTo(L)},T.prototype.pushBack=function(L,g,j,U,W){return this.dfsEdgeList.push(new x(L,g,j,U,W)),this.dfsEdgeList},T.prototype.toGraph=function(L,g){L===void 0&&(L=o.VACANT_GRAPH_ID),g===void 0&&(g=!1);var j=new o.Graph(L,!0,g);return this.dfsEdgeList.forEach(function(U){var W=U.fromNode,z=U.toNode,N=U.nodeEdgeNodeLabel,I=N.nodeLabel1,B=N.edgeLabel,G=N.nodeLabel2;I!==o.VACANT_NODE_LABEL&&j.addNode(W,I),G!==o.VACANT_NODE_LABEL&&j.addNode(z,G),j.addEdge(void 0,W,z,B)}),j},T.prototype.buildRmpath=function(){this.rmpath=[];for(var L=void 0,g=this.dfsEdgeList.length,j=g-1;j>=0;j--){var U=this.dfsEdgeList[j],W=U.fromNode,z=U.toNode;W<z&&(L===void 0||z===L)&&(this.rmpath.push(j),L=W)}return this.rmpath},T.prototype.getNodeNum=function(){var L={};return this.dfsEdgeList.forEach(function(g){L[g.fromNode]||(L[g.fromNode]=!0),L[g.toNode]||(L[g.toNode]=!0)}),Object.keys(L).length},T}(),C=function(){function T(L){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!L){for(;L;){var g=L.edge;this.edges.push(g),this.nodesUsed[g.from]=1,this.nodesUsed[g.to]=1,this.edgesUsed[g.id]=1,L=L.preNode}this.edges=this.edges.reverse()}}return T.prototype.hasNode=function(L){return this.nodesUsed[L.id]===1},T.prototype.hasEdge=function(L){return this.edgesUsed[L.id]===1},T}(),P=function(){function T(L){var g=L.graphs,j=L.minSupport,U=j===void 0?2:j,W=L.minNodeNum,z=W===void 0?1:W,N=L.maxNodeNum,I=N===void 0?4:N,B=L.top,G=B===void 0?10:B,k=L.directed,V=k===void 0?!1:k,tt=L.verbose,Q=tt===void 0?!1:tt;this.graphs=g,this.dfsCode=new O,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=U,this.top=G,this.directed=V,this.counter=0,this.maxNodeNum=I,this.minNodeNum=z,this.verbose=Q,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return T.prototype.findForwardRootEdges=function(L,g){var j=this,U=[],W=L.nodeMap;return g.edges.forEach(function(z){(j.directed||g.label<=W[z.to].label)&&U.push(z)}),U},T.prototype.findBackwardEdge=function(L,g,j,U){if(!this.directed&&g===j)return null;for(var W=L.nodeMap,z=W[j.to],N=z.edges,I=N.length,B=0;B<I;B++){var G=N[B];if(!(U.hasEdge(G)||G.to!==g.from)){if(this.directed){if(W[g.from].label<W[j.to].label||W[g.from].label===W[j.to].label&&g.label<=G.label)return G}else if(g.label<G.label||g.label===G.label&&W[g.to].label<=W[j.to].label)return G}}return null},T.prototype.findForwardPureEdges=function(L,g,j,U){for(var W=[],z=g.to,N=L.nodeMap[z].edges,I=N.length,B=0;B<I;B++){var G=N[B],k=L.nodeMap[G.to];j<=k.label&&!U.hasNode(k)&&W.push(G)}return W},T.prototype.findForwardRmpathEdges=function(L,g,j,U){for(var W=[],z=L.nodeMap,N=z[g.to].label,I=z[g.from],B=I.edges,G=B.length,k=0;k<G;k++){var V=B[k],tt=z[V.to].label;g.to===V.to||j>tt||U.hasNode(z[V.to])||(g.label<V.label||g.label===V.label&&N<=tt)&&W.push(V)}return W},T.prototype.getSupport=function(L){var g={};return L.forEach(function(j){g[j.graphId]||(g[j.graphId]=!0)}),Object.keys(g).length},T.prototype.findMinLabel=function(L){var g=void 0;return Object.keys(L).forEach(function(j){var U=L[j],W=U.nodeLabel1,z=U.edgeLabel,N=U.nodeLabel2;if(!g){g={nodeLabel1:W,edgeLabel:z,nodeLabel2:N};return}(W<g.nodeLabel1||W===g.nodeLabel1&&z<g.edgeLabel||W===g.nodeLabel1&&z===g.edgeLabel&&N<g.nodeLabel2)&&(g={nodeLabel1:W,edgeLabel:z,nodeLabel2:N})}),g},T.prototype.isMin=function(){var L=this,g=this.dfsCode;if(this.verbose&&console.log("isMin checking",g),g.dfsEdgeList.length===1)return!0;var j=this.directed,U=g.toGraph(o.VACANT_GRAPH_ID,j),W=U.nodeMap,z=new O,N={};U.nodes.forEach(function(k){var V=L.findForwardRootEdges(U,k);V.forEach(function(tt){var Q=W[tt.to],K=k.label+"-"+tt.label+"-"+Q.label;N[K]||(N[K]={projected:[],nodeLabel1:k.label,edgeLabel:tt.label,nodeLabel2:Q.label});var _={graphId:U.id,edge:tt,preNode:null};N[K].projected.push(_)})});var I=this.findMinLabel(N);z.dfsEdgeList.push(new x(0,1,I.nodeLabel1,I.edgeLabel,I.nodeLabel2));var B=function k(V){for(var tt=z.buildRmpath(),Q=z.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,K=z.dfsEdgeList[tt[0]].toNode,_={},Y=!1,q=0,ot=j?-1:0,ft=function(Tt){if(Y)return"break";V.forEach(function(Ot){var et=new C(Ot),H=L.findBackwardEdge(U,et.edges[tt[Tt]],et.edges[tt[0]],et);H&&(_[H.label]||(_[H.label]={projected:[],edgeLabel:H.label}),_[H.label].projected.push({graphId:U.id,edge:_,preNode:Ot}),q=z.dfsEdgeList[tt[Tt]].fromNode,Y=!0)})},ct=tt.length-1;ct>ot;ct--){var rt=ft(ct);if(rt==="break")break}if(Y){var gt=L.findMinLabel(_);z.dfsEdgeList.push(new x(K,q,o.VACANT_NODE_LABEL,gt.edgeLabel,o.VACANT_NODE_LABEL));var Et=z.dfsEdgeList.length-1;return L.dfsCode.dfsEdgeList[Et]!==z.dfsEdgeList[Et]?!1:k(_[gt.edgeLabel].projected)}var Gt={};Y=!1;var Yt=0;V.forEach(function(lt){var Tt=new C(lt),Ot=L.findForwardPureEdges(U,Tt.edges[tt[0]],Q,Tt);Ot.length>0&&(Y=!0,Yt=K,Ot.forEach(function(et){var H=et.label+"-"+W[et.to].label;Gt[H]||(Gt[H]={projected:[],edgeLabel:et.label,nodeLabel2:W[et.to].label}),Gt[H].projected.push({graphId:U.id,edge:et,preNode:lt})}))});for(var Xt=tt.length,vt=function(Tt){if(Y)return"break";var Ot=tt[Tt];V.forEach(function(et){var H=new C(et),pt=L.findForwardRmpathEdges(U,H.edges[Ot],Q,H);pt.length>0&&(Y=!0,Yt=z.dfsEdgeList[Ot].fromNode,pt.forEach(function(nt){var yt=nt.label+"-"+W[nt.to].label;Gt[yt]||(Gt[yt]={projected:[],edgeLabel:nt.label,nodeLabel2:W[nt.to].label}),Gt[yt].projected.push({graphId:U.id,edge:nt,preNode:et})}))})},ct=0;ct<Xt;ct++){var mt=vt(ct);if(mt==="break")break}if(!Y)return!0;var ut=L.findMinLabel(Gt);z.dfsEdgeList.push(new x(Yt,K+1,o.VACANT_NODE_LABEL,ut.edgeLabel,ut.nodeLabel2));var st=z.dfsEdgeList.length-1;return g.dfsEdgeList[st]!==z.dfsEdgeList[st]?!1:k(Gt[ut.edgeLabel+"-"+ut.nodeLabel2].projected)},G=I.nodeLabel1+"-"+I.edgeLabel+"-"+I.nodeLabel2;return B(N[G].projected)},T.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var L=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,f.clone)(L))}},T.prototype.subGraphMining=function(L){var g=this,j=this.getSupport(L);if(!(j<this.minSupport)&&!!this.isMin()){this.report();var U=this.dfsCode.getNodeNum(),W=this.dfsCode.buildRmpath(),z=this.dfsCode.dfsEdgeList[W[0]].toNode,N=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,I={},B={};L.forEach(function(G){for(var k=g.graphs[G.graphId],V=k.nodeMap,tt=new C(G),Q=W.length-1;Q>=0;Q--){var K=g.findBackwardEdge(k,tt.edges[W[Q]],tt.edges[W[0]],tt);if(K){var _=g.dfsCode.dfsEdgeList[W[Q]].fromNode+"-"+K.label;B[_]||(B[_]={projected:[],toNodeId:g.dfsCode.dfsEdgeList[W[Q]].fromNode,edgeLabel:K.label}),B[_].projected.push({graphId:G.graphId,edge:K,preNode:G})}}if(!(U>=g.maxNodeNum)){var Y=g.findForwardPureEdges(k,tt.edges[W[0]],N,tt);Y.forEach(function(ot){var ft=z+"-"+ot.label+"-"+V[ot.to].label;I[ft]||(I[ft]={projected:[],fromNodeId:z,edgeLabel:ot.label,nodeLabel2:V[ot.to].label}),I[ft].projected.push({graphId:G.graphId,edge:ot,preNode:G})});for(var q=function(ft){var ct=g.findForwardRmpathEdges(k,tt.edges[W[ft]],N,tt);ct.forEach(function(rt){var gt=g.dfsCode.dfsEdgeList[W[ft]].fromNode+"-"+rt.label+"-"+V[rt.to].label;I[gt]||(I[gt]={projected:[],fromNodeId:g.dfsCode.dfsEdgeList[W[ft]].fromNode,edgeLabel:rt.label,nodeLabel2:V[rt.to].label}),I[gt].projected.push({graphId:G.graphId,edge:rt,preNode:G})})},Q=0;Q<W.length;Q++)q(Q)}}),Object.keys(B).forEach(function(G){var k=B[G],V=k.toNodeId,tt=k.edgeLabel;g.dfsCode.dfsEdgeList.push(new x(z,V,"-1",tt,"-1")),g.subGraphMining(B[G].projected),g.dfsCode.dfsEdgeList.pop()}),Object.keys(I).forEach(function(G){var k=I[G],V=k.fromNodeId,tt=k.edgeLabel,Q=k.nodeLabel2;g.dfsCode.dfsEdgeList.push(new x(V,z+1,o.VACANT_NODE_LABEL,tt,Q)),g.subGraphMining(I[G].projected),g.dfsCode.dfsEdgeList.pop()})}},T.prototype.generate1EdgeFrequentSubGraphs=function(){var L=this.graphs,g=this.directed,j=this.minSupport,U=this.frequentSize1Subgraphs,W={},z={},N={},I={};return Object.keys(L).forEach(function(B){var G=L[B],k=G.nodeMap;G.nodes.forEach(function(V,tt){var Q=V.label,K=B+"-"+Q;if(!N[K]){var _=W[Q]||0;_++,W[Q]=_}N[K]={graphKey:B,label:Q},V.edges.forEach(function(Y){var q=Q,ot=k[Y.to].label;if(!g&&q>ot){var ft=ot;ot=q,q=ft}var ct=Y.label,rt=B+"-"+q+"-"+ct+"-"+ot,gt=q+"-"+ct+"-"+ot;if(!z[gt]){var Et=z[gt]||0;Et++,z[gt]=Et}I[rt]={graphId:B,nodeLabel1:q,edgeLabel:ct,nodeLabel2:ot}})})}),Object.keys(W).forEach(function(B){var G=W[B];if(!(G<j)){var k={nodes:[],edges:[]};k.nodes.push({id:"0",label:B}),U.push(k)}}),U},T.prototype.run=function(){var L=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var g=this.graphs,j=this.directed,U={};Object.keys(g).forEach(function(W){var z=g[W],N=z.nodeMap;z.nodes.forEach(function(I){var B=L.findForwardRootEdges(z,I);B.forEach(function(G){var k=N[G.to],V=I.label+"-"+G.label+"-"+k.label;U[V]||(U[V]={projected:[],nodeLabel1:I.label,edgeLabel:G.label,nodeLabel2:k.label});var tt={graphId:W,edge:G,preNode:null};U[V].projected.push(tt)})})}),Object.keys(U).forEach(function(W){var z=U[W],N=z.projected,I=z.nodeLabel1,B=z.edgeLabel,G=z.nodeLabel2;L.dfsCode.dfsEdgeList.push(new x(0,1,I,B,G)),L.subGraphMining(N),L.dfsCode.dfsEdgeList.pop()})}},T}(),b=function(L,g,j,U){var W={};return Object.keys(L).forEach(function(z,N){var I=L[z],B=new o.Graph(N,!0,g),G={};I.nodes.forEach(function(k,V){B.addNode(V,k[j]),G[k.id]=V}),I.edges.forEach(function(k,V){var tt=G[k.source],Q=G[k.target];B.addEdge(-1,tt,Q,k[U])}),B&&B.getNodeNum()&&(W[B.id]=B)}),W},S=function(L,g,j){var U=[];return L.forEach(function(W){var z={nodes:[],edges:[]};W.nodes.forEach(function(N){var I;z.nodes.push((I={id:""+N.id},I[g]=N.label,I))}),W.edges.forEach(function(N){var I;z.edges.push((I={source:""+N.from,target:""+N.to},I[j]=N.label,I))}),U.push(z)}),U},y="cluster",E=function(L){var g=L.graphs,j=L.directed,U=j===void 0?!1:j,W=L.nodeLabelProp,z=W===void 0?y:W,N=L.edgeLabelProp,I=N===void 0?y:N,B=b(g,U,z,I),G=L.minSupport,k=L.maxNodeNum,V=L.minNodeNum,tt=L.verbose,Q=L.top,K={graphs:B,minSupport:G,maxNodeNum:k,minNodeNum:V,top:Q,verbose:tt,directed:U},_=new P(K);_.run();var Y=S(_.frequentSubgraphs,z,I);return Y},m=E;A.default=m},FeKW:function(jt,A,a){"use strict";var f=a("XSdR"),o=a("43gi").Graph,x=a("hppO");jt.exports={positionX:j,findType1Conflicts:O,findType2Conflicts:C,addConflict:b,hasConflict:S,verticalAlignment:y,horizontalCompaction:E,alignCoordinates:L,findSmallestWidthAlignment:T,balance:g};function O(z,N){var I={};function B(G,k){var V=0,tt=0,Q=G.length,K=f.last(k);return f.forEach(k,function(_,Y){var q=P(z,_),ot=q?z.node(q).order:Q;(q||_===K)&&(f.forEach(k.slice(tt,Y+1),function(ft){f.forEach(z.predecessors(ft),function(ct){var rt=z.node(ct),gt=rt.order;(gt<V||ot<gt)&&!(rt.dummy&&z.node(ft).dummy)&&b(I,ct,ft)})}),tt=Y+1,V=ot)}),k}return f.reduce(N,B),I}function C(z,N){var I={};function B(k,V,tt,Q,K){var _;f.forEach(f.range(V,tt),function(Y){_=k[Y],z.node(_).dummy&&f.forEach(z.predecessors(_),function(q){var ot=z.node(q);ot.dummy&&(ot.order<Q||ot.order>K)&&b(I,q,_)})})}function G(k,V){var tt=-1,Q,K=0;return f.forEach(V,function(_,Y){if(z.node(_).dummy==="border"){var q=z.predecessors(_);q.length&&(Q=z.node(q[0]).order,B(V,K,Y,tt,Q),K=Y,tt=Q)}B(V,K,V.length,Q,k.length)}),V}return f.reduce(N,G),I}function P(z,N){if(z.node(N).dummy)return f.find(z.predecessors(N),function(I){return z.node(I).dummy})}function b(z,N,I){if(N>I){var B=N;N=I,I=B}var G=z[N];G||(z[N]=G={}),G[I]=!0}function S(z,N,I){if(N>I){var B=N;N=I,I=B}return f.has(z[N],I)}function y(z,N,I,B){var G={},k={},V={};return f.forEach(N,function(tt){f.forEach(tt,function(Q,K){G[Q]=Q,k[Q]=Q,V[Q]=K})}),f.forEach(N,function(tt){var Q=-1;f.forEach(tt,function(K){var _=B(K);if(_.length){_=f.sortBy(_,function(ct){return V[ct]});for(var Y=(_.length-1)/2,q=Math.floor(Y),ot=Math.ceil(Y);q<=ot;++q){var ft=_[q];k[K]===K&&Q<V[ft]&&!S(I,K,ft)&&(k[ft]=K,k[K]=G[K]=G[ft],Q=V[ft])}}})}),{root:G,align:k}}function E(z,N,I,B,G){var k={},V=m(z,N,I,G),tt=G?"borderLeft":"borderRight";function Q(Y,q){for(var ot=V.nodes(),ft=ot.pop(),ct={};ft;)ct[ft]?Y(ft):(ct[ft]=!0,ot.push(ft),ot=ot.concat(q(ft))),ft=ot.pop()}function K(Y){k[Y]=V.inEdges(Y).reduce(function(q,ot){return Math.max(q,k[ot.v]+V.edge(ot))},0)}function _(Y){var q=V.outEdges(Y).reduce(function(ft,ct){return Math.min(ft,k[ct.w]-V.edge(ct))},Number.POSITIVE_INFINITY),ot=z.node(Y);q!==Number.POSITIVE_INFINITY&&ot.borderType!==tt&&(k[Y]=Math.max(k[Y],q))}return Q(K,V.predecessors.bind(V)),Q(_,V.successors.bind(V)),f.forEach(B,function(Y){k[Y]=k[I[Y]]}),k}function m(z,N,I,B){var G=new o,k=z.graph(),V=U(k.nodesep,k.edgesep,B);return f.forEach(N,function(tt){var Q;f.forEach(tt,function(K){var _=I[K];if(G.setNode(_),Q){var Y=I[Q],q=G.edge(Y,_);G.setEdge(Y,_,Math.max(V(z,K,Q),q||0))}Q=K})}),G}function T(z,N){return f.minBy(f.values(N),function(I){var B=Number.NEGATIVE_INFINITY,G=Number.POSITIVE_INFINITY;return f.forIn(I,function(k,V){var tt=W(z,V)/2;B=Math.max(k+tt,B),G=Math.min(k-tt,G)}),B-G})}function L(z,N){var I=f.values(N),B=f.min(I),G=f.max(I);f.forEach(["u","d"],function(k){f.forEach(["l","r"],function(V){var tt=k+V,Q=z[tt],K;if(Q!==N){var _=f.values(Q);K=V==="l"?B-f.min(_):G-f.max(_),K&&(z[tt]=f.mapValues(Q,function(Y){return Y+K}))}})})}function g(z,N){return f.mapValues(z.ul,function(I,B){if(N)return z[N.toLowerCase()][B];var G=f.sortBy(f.map(z,B));return(G[1]+G[2])/2})}function j(z){var N=x.buildLayerMatrix(z),I=f.merge(O(z,N),C(z,N)),B={},G;f.forEach(["u","d"],function(V){G=V==="u"?N:f.values(N).reverse(),f.forEach(["l","r"],function(tt){tt==="r"&&(G=f.map(G,function(Y){return f.values(Y).reverse()}));var Q=(V==="u"?z.predecessors:z.successors).bind(z),K=y(z,G,I,Q),_=E(z,G,K.root,K.align,tt==="r");tt==="r"&&(_=f.mapValues(_,function(Y){return-Y})),B[V+tt]=_})});var k=T(z,B);return L(B,k),g(B,z.graph().align)}function U(z,N,I){return function(B,G,k){var V=B.node(G),tt=B.node(k),Q=0,K;if(Q+=V.width/2,f.has(V,"labelpos"))switch(V.labelpos.toLowerCase()){case"l":K=-V.width/2;break;case"r":K=V.width/2;break}if(K&&(Q+=I?K:-K),K=0,Q+=(V.dummy?N:z)/2,Q+=(tt.dummy?N:z)/2,Q+=tt.width/2,f.has(tt,"labelpos"))switch(tt.labelpos.toLowerCase()){case"l":K=tt.width/2;break;case"r":K=-tt.width/2;break}return K&&(Q+=I?K:-K),K=0,Q}}function W(z,N){return z.node(N).width}},FolP:function(jt,A){jt.exports=a;function a(f,o){return f[0]*o[0]+f[1]*o[1]}},G0yP:function(jt,A,a){"use strict";a.r(A),a.d(A,"Category",function(){return L}),a.d(A,"Continuous",function(){return W}),a.d(A,"Base",function(){return E});var f=a("CMID"),o=a("jg4I"),x=a("2DZl"),O=a("x3DA"),C=a("ItRR"),P=a("qhN0"),b=a("VZin"),S=a("8Loy"),y=function(z){Object(f.__extends)(N,z);function N(){return z!==null&&z.apply(this,arguments)||this}return N.prototype.getDefaultCfg=function(){var I=z.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},I),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},N.prototype.getLayoutBBox=function(){var I=z.prototype.getLayoutBBox.call(this),B=this.get("maxWidth"),G=this.get("maxHeight"),k=I.width,V=I.height;return B&&(k=Math.min(k,B)),G&&(V=Math.min(V,G)),Object(S.b)(I.minX,I.minY,k,V)},N.prototype.setLocation=function(I){this.set("x",I.x),this.set("y",I.y),this.resetLocation()},N.prototype.resetLocation=function(){var I=this.get("x"),B=this.get("y"),G=this.get("offsetX"),k=this.get("offsetY");this.moveElementTo(this.get("group"),{x:I+G,y:B+k})},N.prototype.applyOffset=function(){this.resetLocation()},N.prototype.getDrawPoint=function(){return this.get("currentPoint")},N.prototype.setDrawPoint=function(I){return this.set("currentPoint",I)},N.prototype.renderInner=function(I){this.resetDraw(),this.get("title")&&this.drawTitle(I),this.drawLegendContent(I),this.get("background")&&this.drawBackground(I)},N.prototype.drawBackground=function(I){var B=this.get("background"),G=I.getBBox(),k=Object(S.c)(B.padding),V=Object(f.__assign)({x:0,y:0,width:G.width+k[1]+k[3],height:G.height+k[0]+k[2]},B.style),tt=this.addShape(I,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:V});tt.toBack()},N.prototype.drawTitle=function(I){var B=this.get("currentPoint"),G=this.get("title"),k=G.spacing,V=G.style,tt=G.text,Q=this.addShape(I,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(f.__assign)({text:tt,x:B.x,y:B.y},V)}),K=Q.getBBox();this.set("currentPoint",{x:B.x,y:K.maxY+k})},N.prototype.resetDraw=function(){var I=this.get("background"),B={x:0,y:0};if(I){var G=Object(S.c)(I.padding);B.x=G[3],B.y=G[0]}this.set("currentPoint",B)},N}(b.a),E=y,m={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},T=function(z){Object(f.__extends)(N,z);function N(){var I=z!==null&&z.apply(this,arguments)||this;return I.currentPageIndex=1,I.totalPagesCnt=1,I.pageWidth=0,I.pageHeight=0,I.startX=0,I.startY=0,I.onNavigationBack=function(){var B=I.getElementByLocalId("item-group");if(I.currentPageIndex>1){I.currentPageIndex-=1,I.updateNavigation();var G=I.getCurrentNavigationMatrix();I.get("animate")?B.animate({matrix:G},100):B.attr({matrix:G})}},I.onNavigationAfter=function(){var B=I.getElementByLocalId("item-group");if(I.currentPageIndex<I.totalPagesCnt){I.currentPageIndex+=1,I.updateNavigation();var G=I.getCurrentNavigationMatrix();I.get("animate")?B.animate({matrix:G},100):B.attr({matrix:G})}},I}return N.prototype.getDefaultCfg=function(){var I=z.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},I),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:P.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:P.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:m,itemName:{spacing:16,style:{fill:P.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:P.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:P.a.uncheckedColor},markerStyle:{fill:P.a.uncheckedColor,stroke:P.a.uncheckedColor}},inactive:{nameStyle:{fill:P.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},N.prototype.isList=function(){return!0},N.prototype.getItems=function(){return this.get("items")},N.prototype.setItems=function(I){this.update({items:I})},N.prototype.updateItem=function(I,B){Object(o.mix)(I,B),this.clear(),this.render()},N.prototype.clearItems=function(){var I=this.getElementByLocalId("item-group");I&&I.clear()},N.prototype.setItemState=function(I,B,G){I[B]=G;var k=this.getElementByLocalId("item-"+I.id);if(k){var V=this.getItems(),tt=V.indexOf(I),Q=this.createOffScreenGroup(),K=this.drawItem(I,tt,this.getItemHeight(),Q);this.updateElements(K,k),this.clearUpdateStatus(k)}},N.prototype.hasState=function(I,B){return!!I[B]},N.prototype.getItemStates=function(I){var B=this.get("itemStates"),G=[];return Object(o.each)(B,function(k,V){I[V]&&G.push(V)}),G},N.prototype.clearItemsState=function(I){var B=this,G=this.getItemsByState(I);Object(o.each)(G,function(k){B.setItemState(k,I,!1)})},N.prototype.getItemsByState=function(I){var B=this,G=this.getItems();return Object(o.filter)(G,function(k){return B.hasState(k,I)})},N.prototype.drawLegendContent=function(I){this.processItems(),this.drawItems(I)},N.prototype.processItems=function(){var I=this.get("items");Object(o.each)(I,function(B){B.id||(B.id=B.name)})},N.prototype.drawItems=function(I){var B=this,G=this.addGroup(I,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),k=this.addGroup(G,{id:this.getElementId("item-group"),name:"legend-item-group"}),V=this.getItemHeight(),tt=this.get("itemWidth"),Q=this.get("itemSpacing"),K=this.get("itemMarginBottom"),_=this.get("currentPoint"),Y=_.x,q=_.y,ot=this.get("layout"),ft=this.get("items"),ct=!1,rt=0,gt=this.get("maxWidth"),Et=this.get("maxHeight");Object(o.each)(ft,function(Gt,Yt){var Xt=B.drawItem(Gt,Yt,V,k),vt=Xt.getBBox(),mt=tt||vt.width;mt>rt&&(rt=mt),ot==="horizontal"?(gt&&gt<_.x+mt-Y&&(ct=!0,_.x=Y,_.y+=V+K),B.moveElementTo(Xt,_),_.x+=mt+Q):(Et&&Et<_.y+V+K-q&&(ct=!0,_.x+=rt+Q,_.y=q,rt=0),B.moveElementTo(Xt,_),_.y+=V+K)}),ct&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Y,this.startY=q,this.adjustNavigation(I,k))},N.prototype.getItemHeight=function(){var I=this.get("itemHeight");if(!I){var B=this.get("itemName");B&&(I=B.style.fontSize)}return I},N.prototype.drawMarker=function(I,B,G,k){var V=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({x:0,y:k/2},B.style),{symbol:Object(o.get)(G.marker,"symbol","circle")}),Object(o.get)(G.marker,"style",{})),tt=this.addShape(I,{type:"marker",id:this.getElementId("item-"+G.id+"-marker"),name:"legend-item-marker",attrs:V}),Q=tt.getBBox();tt.attr("x",Q.width/2);var K=tt.attr(),_=K.stroke,Y=K.fill;return _&&tt.set("isStroke",!0),Y&&tt.set("isFill",!0),tt},N.prototype.drawItemText=function(I,B,G,k,V,tt,Q){var K=G.formatter,_=Object(f.__assign)({x:tt,y:V/2,text:K?K(k[B],k,Q):k[B]},G.style);return this.addShape(I,{type:"text",id:this.getElementId("item-"+k.id+"-"+B),name:"legend-item-"+B,attrs:_})},N.prototype.drawItem=function(I,B,G,k){var V="item-"+I.id,tt=this.addGroup(k,{name:"legend-item-container",id:this.getElementId("item-container-"+V),delegateObject:{item:I,index:B}}),Q=this.addGroup(tt,{name:"legend-item",id:this.getElementId(V),delegateObject:{item:I,index:B}}),K=this.get("marker"),_=this.get("itemName"),Y=this.get("itemValue"),q=this.get("itemBackground"),ot=this.getLimitItemWidth(),ft=0;if(K){var ct=this.drawMarker(Q,K,I,G);ft=ct.getBBox().maxX+K.spacing}if(_){var rt=this.drawItemText(Q,"name",_,I,G,ft,B);ot&&Object(x.a)(!0,rt,Object(o.clamp)(ot-ft,0,ot)),ft=rt.getBBox().maxX+_.spacing}if(Y){var gt=this.drawItemText(Q,"value",Y,I,G,ft,B);ot&&(Y.alignRight?(gt.attr({textAlign:"right",x:ot}),Object(x.a)(!0,gt,Object(o.clamp)(ot-ft,0,ot),"head")):Object(x.a)(!0,gt,Object(o.clamp)(ot-ft,0,ot)))}if(q){var Et=Q.getBBox(),Gt=this.addShape(Q,{type:"rect",name:"legend-item-background",id:this.getElementId(V+"-background"),attrs:Object(f.__assign)({x:0,y:0,width:Et.width,height:G},q.style)});Gt.toBack()}return this.applyItemStates(I,Q),Q},N.prototype.adjustNavigation=function(I,B){var G=this,k=this.startX,V=this.startY,tt=this.get("layout"),Q=B.findAll(function(ut){return ut.get("name")==="legend-item"}),K=this.get("maxWidth"),_=this.get("maxHeight"),Y=this.get("itemWidth"),q=this.get("itemSpacing"),ot=this.getItemHeight(),ft=Object(o.deepMix)({},m,this.get("pageNavigator")),ct=this.drawNavigation(I,tt,"00/00",ft),rt=ct.getBBox(),gt={x:k,y:V},Et=1,Gt=0,Yt=0,Xt=0;if(tt==="horizontal")this.pageHeight=ot,Object(o.each)(Q,function(ut){var st=ut.getBBox(),lt=Y||st.width;(Gt&&Gt<gt.x+lt+q||K<gt.x+lt+q+rt.width)&&(Et===1&&(Gt=gt.x+q,G.pageWidth=Gt,G.moveElementTo(ct,{x:K-q-rt.width-rt.minX,y:gt.y+ot/2-rt.height/2-rt.minY})),Et+=1,gt.x=k,gt.y+=ot),G.moveElementTo(ut,gt),ut.getParent().setClip({type:"rect",attrs:{x:gt.x,y:gt.y,width:lt+q,height:ot}}),gt.x+=lt+q});else{var vt=this.get("itemMarginBottom");Object(o.each)(Q,function(ut){var st=ut.getBBox();st.width>Yt&&(Yt=st.width)}),Xt=Yt,Yt+=q,K&&(Yt=Math.min(K,Yt),Xt=Math.min(K,Xt)),this.pageWidth=Yt,this.pageHeight=_-Math.max(rt.height,ot+vt);var mt=Math.floor(this.pageHeight/(ot+vt));Object(o.each)(Q,function(ut,st){st!==0&&st%mt==0&&(Et+=1,gt.x+=Yt,gt.y=V),G.moveElementTo(ut,gt),ut.getParent().setClip({type:"rect",attrs:{x:gt.x,y:gt.y,width:Yt,height:ot}}),gt.y+=ot+vt}),this.totalPagesCnt=Et,this.moveElementTo(ct,{x:k+Xt/2-rt.width/2-rt.minX,y:_-rt.height-rt.minY})}this.pageHeight&&this.pageWidth&&B.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Et,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(ct),B.attr("matrix",this.getCurrentNavigationMatrix())},N.prototype.drawNavigation=function(I,B,G,k){var V={x:0,y:0},tt=this.addGroup(I,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),Q=Object(o.get)(k.marker,"style",{}),K=Q.size,_=K===void 0?12:K,Y=Object(f.__rest)(Q,["size"]),q=this.drawArrow(tt,V,"navigation-arrow-left",B==="horizontal"?"up":"left",_,Y);q.on("click",this.onNavigationBack);var ot=q.getBBox();V.x+=ot.width+2;var ft=this.addShape(tt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(f.__assign)({x:V.x,y:V.y+_/2,text:G,textBaseline:"middle"},Object(o.get)(k.text,"style"))}),ct=ft.getBBox();V.x+=ct.width+2;var rt=this.drawArrow(tt,V,"navigation-arrow-right",B==="horizontal"?"down":"right",_,Y);return rt.on("click",this.onNavigationAfter),tt},N.prototype.updateNavigation=function(I){var B=Object(o.deepMix)({},m,this.get("pageNavigator")),G=B.marker.style,k=G.fill,V=G.opacity,tt=G.inactiveFill,Q=G.inactiveOpacity,K=this.currentPageIndex+"/"+this.totalPagesCnt,_=I?I.getChildren()[1]:this.getElementByLocalId("navigation-text"),Y=I?I.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),q=I?I.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),ot=_.getBBox();_.attr("text",K);var ft=_.getBBox();_.attr("x",_.attr("x")-(ft.width-ot.width)/2),Y.attr("opacity",this.currentPageIndex===1?Q:V),Y.attr("fill",this.currentPageIndex===1?tt:k),Y.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),q.attr("opacity",this.currentPageIndex===this.totalPagesCnt?Q:V),q.attr("fill",this.currentPageIndex===this.totalPagesCnt?tt:k),q.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},N.prototype.drawArrow=function(I,B,G,k,V,tt){var Q=B.x,K=B.y,_={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Y=this.addShape(I,{type:"path",id:this.getElementId(G),name:G,attrs:Object(f.__assign)({path:[["M",Q+V/2,K],["L",Q,K+V],["L",Q+V,K+V],["Z"]],cursor:"pointer"},tt)});return Y.attr("matrix",Object(O.e)({x:Q+V/2,y:K+V/2},_[k])),Y},N.prototype.getCurrentNavigationMatrix=function(){var I=this,B=I.currentPageIndex,G=I.pageWidth,k=I.pageHeight,V=this.get("layout"),tt=V==="horizontal"?{x:0,y:k*(1-B)}:{x:G*(1-B),y:0};return Object(O.f)(tt)},N.prototype.applyItemStates=function(I,B){var G=this.getItemStates(I),k=G.length>0;if(k){var V=B.getChildren(),tt=this.get("itemStates");Object(o.each)(V,function(Q){var K=Q.get("name"),_=K.split("-")[2],Y=Object(C.a)(I,_,tt);Y&&(Q.attr(Y),_==="marker"&&!(Q.get("isStroke")&&Q.get("isFill"))&&(Q.get("isStroke")&&Q.attr("fill",null),Q.get("isFill")&&Q.attr("stroke",null)))})}},N.prototype.getLimitItemWidth=function(){var I=this.get("itemWidth"),B=this.get("maxItemWidth");return B?I&&(B=I<=B?I:B):I&&(B=I),B},N}(E),L=T,g=1.4,j=.4,U=function(z){Object(f.__extends)(N,z);function N(){return z!==null&&z.apply(this,arguments)||this}return N.prototype.getDefaultCfg=function(){var I=z.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},I),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:P.a.textColor,textBaseline:"middle",fontFamily:P.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:P.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},N.prototype.isSlider=function(){return!0},N.prototype.getValue=function(){return this.getCurrentValue()},N.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},N.prototype.setRange=function(I,B){this.update({min:I,max:B})},N.prototype.setValue=function(I){var B=this.getValue();this.set("value",I);var G=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(G),this.delegateEmit("valuechanged",{originValue:B,value:I})},N.prototype.initEvent=function(){var I=this.get("group");this.bindSliderEvent(I),this.bindRailEvent(I),this.bindTrackEvent(I)},N.prototype.drawLegendContent=function(I){this.drawRail(I),this.drawLabels(I),this.fixedElements(I),this.resetTrack(I),this.resetTrackClip(I),this.get("slidable")&&this.resetHandlers(I)},N.prototype.bindSliderEvent=function(I){this.bindHandlersEvent(I)},N.prototype.bindHandlersEvent=function(I){var B=this;I.on("legend-handler-min:drag",function(G){var k=B.getValueByCanvasPoint(G.x,G.y),V=B.getCurrentValue(),tt=V[1];tt<k&&(tt=k),B.setValue([k,tt])}),I.on("legend-handler-max:drag",function(G){var k=B.getValueByCanvasPoint(G.x,G.y),V=B.getCurrentValue(),tt=V[0];tt>k&&(tt=k),B.setValue([tt,k])})},N.prototype.bindRailEvent=function(I){},N.prototype.bindTrackEvent=function(I){var B=this,G=null;I.on("legend-track:dragstart",function(k){G={x:k.x,y:k.y}}),I.on("legend-track:drag",function(k){if(!!G){var V=B.getValueByCanvasPoint(G.x,G.y),tt=B.getValueByCanvasPoint(k.x,k.y),Q=B.getCurrentValue(),K=Q[1]-Q[0],_=B.getRange(),Y=tt-V;Y<0?Q[0]+Y>_.min?B.setValue([Q[0]+Y,Q[1]+Y]):B.setValue([_.min,_.min+K]):Y>0&&(Y>0&&Q[1]+Y<_.max?B.setValue([Q[0]+Y,Q[1]+Y]):B.setValue([_.max-K,_.max])),G={x:k.x,y:k.y}}}),I.on("legend-track:dragend",function(k){G=null})},N.prototype.drawLabels=function(I){this.drawLabel("min",I),this.drawLabel("max",I)},N.prototype.drawLabel=function(I,B){var G=this.get("label"),k=G.style,V=G.align,tt=G.formatter,Q=this.get(I),K=this.getLabelAlignAttrs(I,V),_="label-"+I;this.addShape(B,{type:"text",id:this.getElementId(_),name:"legend-label-"+I,attrs:Object(f.__assign)(Object(f.__assign)({x:0,y:0,text:Object(o.isFunction)(tt)?tt(Q):Q},k),K)})},N.prototype.getLabelAlignAttrs=function(I,B){var G=this.isVertical(),k="center",V="middle";return G?(k="start",B!=="rail"?I==="min"?V="top":V="bottom":V="top"):B!=="rail"?(V="top",I==="min"?k="start":k="end"):(k="start",V="middle"),{textAlign:k,textBaseline:V}},N.prototype.getRailPath=function(I,B,G,k){var V=this.get("rail"),tt=V.size,Q=V.defaultLength,K=V.type,_=this.isVertical(),Y=Q,q=G,ot=k;q||(q=_?tt:Y),ot||(ot=_?Y:tt);var ft=[];return K==="color"?(ft.push(["M",I,B]),ft.push(["L",I+q,B]),ft.push(["L",I+q,B+ot]),ft.push(["L",I,B+ot]),ft.push(["Z"])):(ft.push(["M",I+q,B]),ft.push(["L",I+q,B+ot]),ft.push(["L",I,B+ot]),ft.push(["Z"])),ft},N.prototype.drawRail=function(I){var B=this.get("rail"),G=B.style;this.addShape(I,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(f.__assign)({path:this.getRailPath(0,0)},G)})},N.prototype.getTrackColor=function(I){var B=I.length;if(!B)return null;if(B===1)return I[0];var G;this.isVertical()?G="l(90)":G="l(0)";for(var k=0;k<B;k++){var V=k/(B-1);G+=" "+V+":"+I[k]}return G},N.prototype.getTrackPath=function(I){var B=this.getRailShape(I),G=B.attr("path");return Object(o.clone)(G)},N.prototype.getClipTrackAttrs=function(I){var B=this.getCurrentValue(),G=B[0],k=B[1],V=this.getRailBBox(I),tt=this.getPointByValue(G,I),Q=this.getPointByValue(k,I),K=this.isVertical(),_,Y,q,ot;return K?(_=V.minX,Y=tt.y,q=V.width,ot=Q.y-tt.y):(_=tt.x,Y=V.minY,q=Q.x-tt.x,ot=V.height),{x:_,y:Y,width:q,height:ot}},N.prototype.getTrackAttrs=function(I){var B=this.get("track"),G=this.get("colors"),k=this.getTrackPath(I);return Object(o.mix)({path:k,fill:this.getTrackColor(G)},B.style)},N.prototype.resetTrackClip=function(I){var B=I||this.get("group"),G=this.getElementId("track"),k=B.findById(G),V=k.getClip(),tt=this.getClipTrackAttrs(I);V?V.attr(tt):k.setClip({type:"rect",attrs:tt})},N.prototype.resetTrack=function(I){var B=this.getElementId("track"),G=I.findById(B),k=this.getTrackAttrs(I);G?G.attr(k):this.addShape(I,{type:"path",id:B,draggable:this.get("slidable"),name:"legend-track",attrs:k})},N.prototype.getPointByValue=function(I,B){var G=this.getRange(),k=G.min,V=G.max,tt=(I-k)/(V-k),Q=this.getRailBBox(B),K=this.isVertical(),_={x:0,y:0};return K?(_.x=Q.minX+Q.width/2,_.y=Object(S.g)(Q.minY,Q.maxY,tt)):(_.x=Object(S.g)(Q.minX,Q.maxX,tt),_.y=Q.minY+Q.height/2),_},N.prototype.getRailShape=function(I){var B=I||this.get("group");return B.findById(this.getElementId("rail"))},N.prototype.getRailBBox=function(I){var B=this.getRailShape(I),G=B.getBBox();return G},N.prototype.getRailCanvasBBox=function(){var I=this.get("group"),B=I.findById(this.getElementId("rail")),G=B.getCanvasBBox();return G},N.prototype.isVertical=function(){return this.get("layout")==="vertical"},N.prototype.getValueByCanvasPoint=function(I,B){var G=this.getRange(),k=G.min,V=G.max,tt=this.getRailCanvasBBox(),Q=this.isVertical(),K=this.get("step"),_;Q?_=(B-tt.minY)/tt.height:_=(I-tt.minX)/tt.width;var Y=Object(S.g)(k,V,_);if(K){var q=Math.round((Y-k)/K);Y=k+q*K}return Y>V&&(Y=V),Y<k&&(Y=k),Y},N.prototype.getCurrentValue=function(){var I=this.get("value");return I||(I=[this.get("min"),this.get("max")]),I},N.prototype.resetHandlers=function(I){var B=this.getCurrentValue(),G=B[0],k=B[1];this.resetHandler(I,"min",G),this.resetHandler(I,"max",k)},N.prototype.getHandlerPath=function(I,B){var G=this.isVertical(),k=[],V=I.size,tt=B.x,Q=B.y,K=V*g,_=V/2,Y=V/6;if(G){var q=tt+K*j;k.push(["M",tt,Q]),k.push(["L",q,Q+_]),k.push(["L",tt+K,Q+_]),k.push(["L",tt+K,Q-_]),k.push(["L",q,Q-_]),k.push(["Z"]),k.push(["M",q,Q+Y]),k.push(["L",tt+K-2,Q+Y]),k.push(["M",q,Q-Y]),k.push(["L",tt+K-2,Q-Y])}else{var ot=Q+K*j;k.push(["M",tt,Q]),k.push(["L",tt-_,ot]),k.push(["L",tt-_,Q+K]),k.push(["L",tt+_,Q+K]),k.push(["L",tt+_,ot]),k.push(["Z"]),k.push(["M",tt-Y,ot]),k.push(["L",tt-Y,Q+K-2]),k.push(["M",tt+Y,ot]),k.push(["L",tt+Y,Q+K-2])}return k},N.prototype.resetHandler=function(I,B,G){var k=this.getPointByValue(G,I),V=this.get("handler"),tt=this.getHandlerPath(V,k),Q=this.getElementId("handler-"+B),K=I.findById(Q),_=this.isVertical();K?K.attr("path",tt):this.addShape(I,{type:"path",name:"legend-handler-"+B,draggable:!0,id:Q,attrs:Object(f.__assign)(Object(f.__assign)({path:tt},V.style),{cursor:_?"ns-resize":"ew-resize"})})},N.prototype.fixedElements=function(I){var B=I.findById(this.getElementId("rail")),G=I.findById(this.getElementId("label-min")),k=I.findById(this.getElementId("label-max")),V=this.getDrawPoint();this.isVertical()?this.fixedVertail(G,k,B,V):this.fixedHorizontal(G,k,B,V)},N.prototype.fitRailLength=function(I,B,G,k){var V=this.isVertical(),tt=V?"height":"width",Q=this.get("label"),K=Q.align,_=Q.spacing,Y=this.get("max"+Object(o.upperFirst)(tt));if(Y){var q=K==="rail"?G[tt]+I[tt]+B[tt]+_*2:G[tt],ot=q-Y;ot>0&&this.changeRailLength(k,tt,G[tt]-ot)}},N.prototype.changeRailLength=function(I,B,G){var k=I.getBBox(),V;B==="height"?V=this.getRailPath(k.x,k.y,k.width,G):V=this.getRailPath(k.x,k.y,G,k.height),I.attr("path",V)},N.prototype.changeRailPosition=function(I,B,G){var k=I.getBBox(),V=this.getRailPath(B,G,k.width,k.height);I.attr("path",V)},N.prototype.fixedHorizontal=function(I,B,G,k){var V=this.get("label"),tt=V.align,Q=V.spacing,K=G.getBBox(),_=I.getBBox(),Y=B.getBBox(),q=K.height;this.fitRailLength(_,Y,K,G),K=G.getBBox(),tt==="rail"?(I.attr({x:k.x,y:k.y+q/2}),this.changeRailPosition(G,k.x+_.width+Q,k.y),B.attr({x:k.x+_.width+K.width+Q*2,y:k.y+q/2})):tt==="top"?(I.attr({x:k.x,y:k.y}),B.attr({x:k.x+K.width,y:k.y}),this.changeRailPosition(G,k.x,k.y+_.height+Q)):(this.changeRailPosition(G,k.x,k.y),I.attr({x:k.x,y:k.y+K.height+Q}),B.attr({x:k.x+K.width,y:k.y+K.height+Q}))},N.prototype.fixedVertail=function(I,B,G,k){var V=this.get("label"),tt=V.align,Q=V.spacing,K=G.getBBox(),_=I.getBBox(),Y=B.getBBox();if(this.fitRailLength(_,Y,K,G),K=G.getBBox(),tt==="rail")I.attr({x:k.x,y:k.y}),this.changeRailPosition(G,k.x,k.y+_.height+Q),B.attr({x:k.x,y:k.y+_.height+K.height+Q*2});else if(tt==="right")I.attr({x:k.x+K.width+Q,y:k.y}),this.changeRailPosition(G,k.x,k.y),B.attr({x:k.x+K.width+Q,y:k.y+K.height});else{var q=Math.max(_.width,Y.width);I.attr({x:k.x,y:k.y}),this.changeRailPosition(G,k.x+q+Q,k.y),B.attr({x:k.x,y:k.y+K.height})}},N}(E),W=U},G5xY:function(jt,A){function a(f){return jt.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},jt.exports.default=jt.exports,jt.exports.__esModule=!0,a(f)}jt.exports=a,jt.exports.default=jt.exports,jt.exports.__esModule=!0},GCuf:function(jt,A,a){var f=a("TJOf"),o=a("R3oX"),x=a("hQ5t");function O(C,P){var b={};return P=x(P,3),o(C,function(S,y,E){f(b,y,P(S,y,E))}),b}jt.exports=O},GbYH:function(jt,A,a){"use strict";var f=a("XSdR"),o=a("ajvA"),x=a("5oMf"),O=a("OO/B"),C=a("hppO").normalizeRanks,P=a("Oye7"),b=a("hppO").removeEmptyRanks,S=a("v5ut"),y=a("dzzI"),E=a("AM3p"),m=a("Uhlt"),T=a("p/Nb"),L=a("hppO"),g=a("43gi").Graph;jt.exports=j;function j(mt,ut){var st=ut&&ut.debugTiming?L.time:L.notime;st("layout",function(){var lt=st("  buildLayoutGraph",function(){return Q(mt)});st("  runLayout",function(){U(lt,st)}),st("  updateInputGraph",function(){W(mt,lt)})})}function U(mt,ut){ut("    makeSpaceForEdgeLabels",function(){K(mt)}),ut("    removeSelfEdges",function(){Et(mt)}),ut("    acyclic",function(){o.run(mt)}),ut("    nestingGraph.run",function(){S.run(mt)}),ut("    rank",function(){O(L.asNonCompoundGraph(mt))}),ut("    injectEdgeLabelProxies",function(){_(mt)}),ut("    removeEmptyRanks",function(){b(mt)}),ut("    nestingGraph.cleanup",function(){S.cleanup(mt)}),ut("    normalizeRanks",function(){C(mt)}),ut("    assignRankMinMax",function(){Y(mt)}),ut("    removeEdgeLabelProxies",function(){q(mt)}),ut("    normalize.run",function(){x.run(mt)}),ut("    parentDummyChains",function(){P(mt)}),ut("    addBorderSegments",function(){y(mt)}),ut("    order",function(){m(mt)}),ut("    insertSelfEdges",function(){Gt(mt)}),ut("    adjustCoordinateSystem",function(){E.adjust(mt)}),ut("    position",function(){T(mt)}),ut("    positionSelfEdges",function(){Yt(mt)}),ut("    removeBorderNodes",function(){gt(mt)}),ut("    normalize.undo",function(){x.undo(mt)}),ut("    fixupEdgeLabelCoords",function(){ct(mt)}),ut("    undoCoordinateSystem",function(){E.undo(mt)}),ut("    translateGraph",function(){ot(mt)}),ut("    assignNodeIntersects",function(){ft(mt)}),ut("    reversePoints",function(){rt(mt)}),ut("    acyclic.undo",function(){o.undo(mt)})}function W(mt,ut){f.forEach(mt.nodes(),function(st){var lt=mt.node(st),Tt=ut.node(st);lt&&(lt.x=Tt.x,lt.y=Tt.y,ut.children(st).length&&(lt.width=Tt.width,lt.height=Tt.height))}),f.forEach(mt.edges(),function(st){var lt=mt.edge(st),Tt=ut.edge(st);lt.points=Tt.points,f.has(Tt,"x")&&(lt.x=Tt.x,lt.y=Tt.y)}),mt.graph().width=ut.graph().width,mt.graph().height=ut.graph().height}var z=["nodesep","edgesep","ranksep","marginx","marginy"],N={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},I=["acyclicer","ranker","rankdir","align"],B=["width","height"],G={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],V={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},tt=["labelpos"];function Q(mt){var ut=new g({multigraph:!0,compound:!0}),st=vt(mt.graph());return ut.setGraph(f.merge({},N,Xt(st,z),f.pick(st,I))),f.forEach(mt.nodes(),function(lt){var Tt=vt(mt.node(lt));ut.setNode(lt,f.defaults(Xt(Tt,B),G)),ut.setParent(lt,mt.parent(lt))}),f.forEach(mt.edges(),function(lt){var Tt=vt(mt.edge(lt));ut.setEdge(lt,f.merge({},V,Xt(Tt,k),f.pick(Tt,tt)))}),ut}function K(mt){var ut=mt.graph();ut.ranksep/=2,f.forEach(mt.edges(),function(st){var lt=mt.edge(st);lt.minlen*=2,lt.labelpos.toLowerCase()!=="c"&&(ut.rankdir==="TB"||ut.rankdir==="BT"?lt.width+=lt.labeloffset:lt.height+=lt.labeloffset)})}function _(mt){f.forEach(mt.edges(),function(ut){var st=mt.edge(ut);if(st.width&&st.height){var lt=mt.node(ut.v),Tt=mt.node(ut.w),Ot={rank:(Tt.rank-lt.rank)/2+lt.rank,e:ut};L.addDummyNode(mt,"edge-proxy",Ot,"_ep")}})}function Y(mt){var ut=0;f.forEach(mt.nodes(),function(st){var lt=mt.node(st);lt.borderTop&&(lt.minRank=mt.node(lt.borderTop).rank,lt.maxRank=mt.node(lt.borderBottom).rank,ut=f.max(ut,lt.maxRank))}),mt.graph().maxRank=ut}function q(mt){f.forEach(mt.nodes(),function(ut){var st=mt.node(ut);st.dummy==="edge-proxy"&&(mt.edge(st.e).labelRank=st.rank,mt.removeNode(ut))})}function ot(mt){var ut=Number.POSITIVE_INFINITY,st=0,lt=Number.POSITIVE_INFINITY,Tt=0,Ot=mt.graph(),et=Ot.marginx||0,H=Ot.marginy||0;function pt(nt){var yt=nt.x,Pt=nt.y,Rt=nt.width,Wt=nt.height;ut=Math.min(ut,yt-Rt/2),st=Math.max(st,yt+Rt/2),lt=Math.min(lt,Pt-Wt/2),Tt=Math.max(Tt,Pt+Wt/2)}f.forEach(mt.nodes(),function(nt){pt(mt.node(nt))}),f.forEach(mt.edges(),function(nt){var yt=mt.edge(nt);f.has(yt,"x")&&pt(yt)}),ut-=et,lt-=H,f.forEach(mt.nodes(),function(nt){var yt=mt.node(nt);yt.x-=ut,yt.y-=lt}),f.forEach(mt.edges(),function(nt){var yt=mt.edge(nt);f.forEach(yt.points,function(Pt){Pt.x-=ut,Pt.y-=lt}),f.has(yt,"x")&&(yt.x-=ut),f.has(yt,"y")&&(yt.y-=lt)}),Ot.width=st-ut+et,Ot.height=Tt-lt+H}function ft(mt){f.forEach(mt.edges(),function(ut){var st=mt.edge(ut),lt=mt.node(ut.v),Tt=mt.node(ut.w),Ot,et;st.points?(Ot=st.points[0],et=st.points[st.points.length-1]):(st.points=[],Ot=Tt,et=lt),st.points.unshift(L.intersectRect(lt,Ot)),st.points.push(L.intersectRect(Tt,et))})}function ct(mt){f.forEach(mt.edges(),function(ut){var st=mt.edge(ut);if(f.has(st,"x"))switch((st.labelpos==="l"||st.labelpos==="r")&&(st.width-=st.labeloffset),st.labelpos){case"l":st.x-=st.width/2+st.labeloffset;break;case"r":st.x+=st.width/2+st.labeloffset;break}})}function rt(mt){f.forEach(mt.edges(),function(ut){var st=mt.edge(ut);st.reversed&&st.points.reverse()})}function gt(mt){f.forEach(mt.nodes(),function(ut){if(mt.children(ut).length){var st=mt.node(ut),lt=mt.node(st.borderTop),Tt=mt.node(st.borderBottom),Ot=mt.node(f.last(st.borderLeft)),et=mt.node(f.last(st.borderRight));st.width=Math.abs(et.x-Ot.x),st.height=Math.abs(Tt.y-lt.y),st.x=Ot.x+st.width/2,st.y=lt.y+st.height/2}}),f.forEach(mt.nodes(),function(ut){mt.node(ut).dummy==="border"&&mt.removeNode(ut)})}function Et(mt){f.forEach(mt.edges(),function(ut){if(ut.v===ut.w){var st=mt.node(ut.v);st.selfEdges||(st.selfEdges=[]),st.selfEdges.push({e:ut,label:mt.edge(ut)}),mt.removeEdge(ut)}})}function Gt(mt){var ut=L.buildLayerMatrix(mt);f.forEach(ut,function(st){var lt=0;f.forEach(st,function(Tt,Ot){var et=mt.node(Tt);et.order=Ot+lt,f.forEach(et.selfEdges,function(H){L.addDummyNode(mt,"selfedge",{width:H.label.width,height:H.label.height,rank:et.rank,order:Ot+ ++lt,e:H.e,label:H.label},"_se")}),delete et.selfEdges})})}function Yt(mt){f.forEach(mt.nodes(),function(ut){var st=mt.node(ut);if(st.dummy==="selfedge"){var lt=mt.node(st.e.v),Tt=lt.x+lt.width/2,Ot=lt.y,et=st.x-Tt,H=lt.height/2;mt.setEdge(st.e,st.label),mt.removeNode(ut),st.label.points=[{x:Tt+2*et/3,y:Ot-H},{x:Tt+5*et/6,y:Ot-H},{x:Tt+et,y:Ot},{x:Tt+5*et/6,y:Ot+H},{x:Tt+2*et/3,y:Ot+H}],st.label.x=st.x,st.label.y=st.y}})}function Xt(mt,ut){return f.mapValues(f.pick(mt,ut),Number)}function vt(mt){var ut={};return f.forEach(mt,function(st,lt){ut[lt.toLowerCase()]=st}),ut}},Glod:function(jt,A,a){"use strict";a.d(A,"a",function(){return k});var f=a("CMID"),o=a("JUmX"),x=a("tqeG"),O=a("nHjW"),C=a("jg4I"),P=a("N2cT"),b=a("8DqP"),S="first-axes-view",y="second-axes-view",E="series-field-key";function m(V,tt,Q,K,_){var Y=[];tt.forEach(function(gt){K.forEach(function(Et){var Gt,Yt=(Gt={},Gt[V]=Et[V],Gt[Q]=gt,Gt[gt]=Et[gt],Gt);Y.push(Yt)})});var q=Object.values(Object(C.groupBy)(Y,Q)),ot=q[0],ft=ot===void 0?[]:ot,ct=q[1],rt=ct===void 0?[]:ct;return _?[ft.reverse(),rt.reverse()]:[ft,rt]}function T(V){return V!=="vertical"}function L(V,tt,Q){var K=tt[0],_=tt[1],Y=K.autoPadding,q=_.autoPadding,ot=V.__axisPosition,ft=ot.layout,ct=ot.position;if(T(ft)&&ct==="top"&&(K.autoPadding=Q.instance(Y.top,0,Y.bottom,Y.left),_.autoPadding=Q.instance(q.top,Y.left,q.bottom,0)),T(ft)&&ct==="bottom"&&(K.autoPadding=Q.instance(Y.top,Y.right/2+5,Y.bottom,Y.left),_.autoPadding=Q.instance(q.top,q.right,q.bottom,Y.right/2+5)),!T(ft)&&ct==="bottom"){var rt=Y.left>=q.left?Y.left:q.left;K.autoPadding=Q.instance(Y.top,Y.right,Y.bottom/2+5,rt),_.autoPadding=Q.instance(Y.bottom/2+5,q.right,q.bottom,rt)}if(!T(ft)&&ct==="top"){var rt=Y.left>=q.left?Y.left:q.left;K.autoPadding=Q.instance(Y.top,Y.right,0,rt),_.autoPadding=Q.instance(0,q.right,Y.top,rt)}}function g(V){var tt=V.chart,Q=V.options,K=Q.data,_=Q.xField,Y=Q.yField,q=Q.color,ot=Q.barStyle,ft=Q.widthRatio,ct=Q.legend,rt=Q.layout,gt=m(_,Y,E,K,T(rt));ct?tt.legend(E,ct):ct===!1&&tt.legend(!1);var Et,Gt,Yt=gt[0],Xt=gt[1];T(rt)?(Et=tt.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:S}),Et.coordinate().transpose().reflect("x"),Gt=tt.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:y}),Gt.coordinate().transpose(),Et.data(Yt),Gt.data(Xt)):(Et=tt.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:S}),Gt=tt.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:y}),Gt.coordinate().reflect("y").rotate(Math.PI*0),Et.data(Yt),Gt.data(Xt));var vt=Object(O.c)({},V,{chart:Et,options:{widthRatio:ft,xField:_,yField:Y[0],seriesField:E,interval:{color:q,style:ot}}});Object(b.c)(vt);var mt=Object(O.c)({},V,{chart:Gt,options:{xField:_,yField:Y[1],seriesField:E,widthRatio:ft,interval:{color:q,style:ot}}});return Object(b.c)(mt),V}function j(V){var tt,Q,K,_=V.options,Y=V.chart,q=_.xAxis,ot=_.yAxis,ft=_.xField,ct=_.yField,rt=Object(O.e)(Y,S),gt=Object(O.e)(Y,y),Et={};return Object(C.keys)((_==null?void 0:_.meta)||{}).map(function(Gt){Object(C.get)(_==null?void 0:_.meta,[Gt,"alias"])&&(Et[Gt]=_.meta[Gt].alias)}),Y.scale((tt={},tt[E]={sync:!0,formatter:function(Yt){return Object(C.get)(Et,Yt,Yt)}},tt)),Object(P.f)((Q={},Q[ft]=q,Q[ct[0]]=ot[ct[0]],Q))(Object(O.c)({},V,{chart:rt})),Object(P.f)((K={},K[ft]=q,K[ct[1]]=ot[ct[1]],K))(Object(O.c)({},V,{chart:gt})),V}function U(V){var tt=V.chart,Q=V.options,K=Q.xAxis,_=Q.yAxis,Y=Q.xField,q=Q.yField,ot=Q.layout,ft=Object(O.e)(tt,S),ct=Object(O.e)(tt,y);return(K==null?void 0:K.position)==="bottom"?ct.axis(Y,Object(f.__assign)(Object(f.__assign)({},K),{label:{formatter:function(){return""}}})):ct.axis(Y,!1),K===!1?ft.axis(Y,!1):ft.axis(Y,Object(f.__assign)({position:T(ot)?"top":"bottom"},K)),_===!1?(ft.axis(q[0],!1),ct.axis(q[1],!1)):(ft.axis(q[0],_[q[0]]),ct.axis(q[1],_[q[1]])),tt.__axisPosition={position:ft.getOptions().axes[Y].position,layout:ot},V}function W(V){var tt=V.chart;return Object(P.c)(Object(O.c)({},V,{chart:Object(O.e)(tt,S)})),Object(P.c)(Object(O.c)({},V,{chart:Object(O.e)(tt,y)})),V}function z(V){var tt=V.chart,Q=V.options,K=Q.yField,_=Q.yAxis;return Object(P.e)(Object(O.c)({},V,{chart:Object(O.e)(tt,S),options:{yAxis:_[K[0]]}})),Object(P.e)(Object(O.c)({},V,{chart:Object(O.e)(tt,y),options:{yAxis:_[K[1]]}})),V}function N(V){var tt=V.chart;return Object(P.j)(Object(O.c)({},V,{chart:Object(O.e)(tt,S)})),Object(P.j)(Object(O.c)({},V,{chart:Object(O.e)(tt,y)})),V}function I(V){var tt=V.chart;return Object(P.a)(Object(O.c)({},V,{chart:Object(O.e)(tt,S)})),Object(P.a)(Object(O.c)({},V,{chart:Object(O.e)(tt,y)})),V}function B(V){var tt=V.chart,Q=V.options,K=Q.label,_=Q.yField,Y=Object(O.e)(tt,S),q=Object(O.e)(tt,y),ot=Object(O.d)(Y,"interval"),ft=Object(O.d)(q,"interval");if(!K)ot.label(!1),ft.label(!1);else{var ct=K.callback,rt=Object(f.__rest)(K,["callback"]);ot.label({fields:[_[0]],callback:ct,cfg:Object(O.w)(rt)}),ft.label({fields:[_[1]],callback:ct,cfg:Object(O.w)(rt)})}return V}function G(V){return Object(O.f)(g,j,U,z,N,B,P.k,W,I)(V)}var k=function(V){Object(f.__extends)(tt,V);function tt(){var Q=V!==null&&V.apply(this,arguments)||this;return Q.type="bidirectional-bar",Q}return tt.getDefaultOptions=function(){return Object(O.c)({},V.getDefaultOptions.call(this),{syncViewPadding:L})},tt.prototype.changeData=function(Q){Q===void 0&&(Q=[]),this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({data:Q});var K=this.options,_=K.xField,Y=K.yField,q=K.layout,ot=m(_,Y,E,Q,T(q)),ft=ot[0],ct=ot[1],rt=Object(O.e)(this.chart,S),gt=Object(O.e)(this.chart,y);rt.data(ft),gt.data(ct),this.chart.render(!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},tt.prototype.getDefaultOptions=function(){return tt.getDefaultOptions()},tt.prototype.getSchemaAdaptor=function(){return G},tt}(x.b)},"H+Qf":function(jt,A,a){var f=a("JWH+"),o=a("2GXS"),x=o(function(O,C){return O==null?{}:f(O,C)});jt.exports=x},"H0Y/":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.GADDIAsync=A.getNeighborsAsync=A.pageRankAsync=A.minimumSpanningTreeAsync=A.louvainAsync=A.labelPropagationAsync=A.floydWarshallAsync=A.findShortestPathAsync=A.findAllPathAsync=A.dijkstraAsync=A.detectAllUndirectedCycleAsync=A.detectAllDirectedCycleAsync=A.detectAllCyclesAsync=A.detectCycleAsync=A.getOutDegreeAsync=A.getInDegreeAsync=A.getDegreeAsync=A.connectedComponentAsync=A.getAdjMatrixAsync=void 0;var f=x(a("5BaD")),o=a("e9gb");function x(k){return k&&k.__esModule?k:{default:k}}var O=function(V,tt){return(0,f.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[V,tt])};A.getAdjMatrixAsync=O;var C=function(V,tt){return(0,f.default)(o.ALGORITHM.connectedComponent).apply(void 0,[V,tt])};A.connectedComponentAsync=C;var P=function(V){return(0,f.default)(o.ALGORITHM.getDegree)(V)};A.getDegreeAsync=P;var b=function(V,tt){return(0,f.default)(o.ALGORITHM.getInDegree)(V,tt)};A.getInDegreeAsync=b;var S=function(V,tt){return(0,f.default)(o.ALGORITHM.getOutDegree)(V,tt)};A.getOutDegreeAsync=S;var y=function(V){return(0,f.default)(o.ALGORITHM.detectCycle)(V)};A.detectCycleAsync=y;var E=function(V){return(0,f.default)(o.ALGORITHM.detectAllCycles)(V)};A.detectAllCyclesAsync=E;var m=function(V){return(0,f.default)(o.ALGORITHM.detectAllDirectedCycle)(V)};A.detectAllDirectedCycleAsync=m;var T=function(V){return(0,f.default)(o.ALGORITHM.detectAllUndirectedCycle)(V)};A.detectAllUndirectedCycleAsync=T;var L=function(V,tt,Q,K){return(0,f.default)(o.ALGORITHM.dijkstra).apply(void 0,[V,tt,Q,K])};A.dijkstraAsync=L;var g=function(V,tt,Q,K){return(0,f.default)(o.ALGORITHM.findAllPath).apply(void 0,[V,tt,Q,K])};A.findAllPathAsync=g;var j=function(V,tt,Q,K,_){return(0,f.default)(o.ALGORITHM.findShortestPath).apply(void 0,[V,tt,Q,K,_])};A.findShortestPathAsync=j;var U=function(V,tt){return(0,f.default)(o.ALGORITHM.floydWarshall).apply(void 0,[V,tt])};A.floydWarshallAsync=U;var W=function(V,tt,Q,K){return K===void 0&&(K=1e3),(0,f.default)(o.ALGORITHM.labelPropagation)(V,tt,Q,K)};A.labelPropagationAsync=W;var z=function(V,tt,Q,K){return(0,f.default)(o.ALGORITHM.louvain)(V,tt,Q,K)};A.louvainAsync=z;var N=function(V,tt,Q){return(0,f.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[V,tt,Q])};A.minimumSpanningTreeAsync=N;var I=function(V,tt,Q){return(0,f.default)(o.ALGORITHM.pageRank).apply(void 0,[V,tt,Q])};A.pageRankAsync=I;var B=function(V,tt,Q){return(0,f.default)(o.ALGORITHM.getNeighbors).apply(void 0,[V,tt,Q])};A.getNeighborsAsync=B;var G=function(V,tt,Q,K,_,Y,q){return Q===void 0&&(Q=!1),Y===void 0&&(Y="cluster"),q===void 0&&(q="cluster"),(0,f.default)(o.ALGORITHM.GADDI).apply(void 0,[V,tt,Q,K,_,Y,q])};A.GADDIAsync=G},H1QV:function(jt,A,a){"use strict";a.d(A,"a",function(){return E});var f=a("CMID"),o=a("N2cT"),x=a("nHjW"),O=a("8DqP"),C=a("A80r");function P(m){var T=m.chart,L=m.options,g=L.data,j=L.binField,U=L.binNumber,W=L.binWidth,z=L.color,N=L.stackField,I=L.legend,B=L.columnStyle,G=Object(C.a)(g,j,W,U,N);T.data(G);var k=Object(x.c)({},m,{options:{xField:"range",yField:"count",seriesField:N,isStack:!0,interval:{color:z,style:B}}});return Object(O.c)(k),I&&N&&T.legend(N,I),m}function b(m){var T=m.options,L=T.xAxis,g=T.yAxis;return Object(x.f)(Object(o.f)({range:L,count:g}))(m)}function S(m){var T=m.chart,L=m.options,g=L.xAxis,j=L.yAxis;return g===!1?T.axis("range",!1):T.axis("range",g),j===!1?T.axis("count",!1):T.axis("count",j),m}function y(m){var T=m.chart,L=m.options,g=L.label,j=Object(x.d)(T,"interval");if(!g)j.label(!1);else{var U=g.callback,W=Object(f.__rest)(g,["callback"]);j.label({fields:["count"],callback:U,cfg:Object(x.w)(W)})}return m}function E(m){return Object(x.f)(P,b,S,o.j,o.i,y,o.k,o.c,o.a)(m)}},H6vk:function(jt,A,a){"use strict";a.d(A,"b",function(){return f}),A.a=function(o,x){x||(x=[]);var O=o?Math.min(x.length,o.length):0,C=x.slice(),P;return function(b){for(P=0;P<O;++P)C[P]=o[P]*(1-b)+x[P]*b;return C}};function f(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}},HAYd:function(jt,A,a){jt.exports=o;var f=a("pHwo");function o(x,O){var C=x[0],P=x[1],b=O[0],S=O[1];return Math.abs(C-b)<=f*Math.max(1,Math.abs(C),Math.abs(b))&&Math.abs(P-S)<=f*Math.max(1,Math.abs(P),Math.abs(S))}},HMFt:function(jt,A,a){var f=a("7LJS"),o=a("hQ5t"),x=a("NA5Q");function O(C,P){return C&&C.length?f(C,o(P,2),x):void 0}jt.exports=O},HR5z:function(jt,A,a){var f=a("BXhE"),o=a("5Nvg"),x=a("br1w"),O=1/0,C=f&&1/x(new f([,-0]))[1]==O?function(P){return new f(P)}:o;jt.exports=C},HWsn:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiInject=void 0;var f=a("9L8m"),o=a("rMkn"),x=a("ZLnY");function O(C){return function(P,b,S){var y=new o.Metadata(f.MULTI_INJECT_TAG,C);typeof S=="number"?x.tagParameter(P,b,S,y):x.tagProperty(P,b,y)}}A.multiInject=O},Hg9g:function(jt,A,a){"use strict";a.d(A,"a",function(){return E}),a.d(A,"b",function(){return m});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("7Nom"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("syls"),E=function T(L){S()(this,T)},m=function(){function T(L){S()(this,T),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=L}return P()(T,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(g){return this.lookup[g]>-1}},{key:"create",value:function(g,j){this.lookup[g]=this.components.length;var U=new this.clazz(j||{});return this.components.push(U),this.entities.push(g),U}},{key:"remove",value:function(g){var j=this.lookup[g];j>-1&&j<this.components.length-1&&(this.components[j]=this.components[this.components.length-1],this.entities[j]=this.entities[this.entities.length-1],this.lookup[this.entities[j]]=j),this.components.pop(),this.entities.pop(),delete this.lookup[g]}},{key:"removeKeepSorted",value:function(g){var j=this.lookup[g];if(j>-1){var U=this.entities[j];if(j<this.components.length-1){for(var W=j+1;W<this.components.length;++W)this.components[W-1]=this.components[W];for(var z=j+1;z<this.entities.length;++z)this.entities[z-1]=this.entities[z],this.lookup[this.entities[z-1]]=z-1}this.components.pop(),this.entities.pop(),delete this.lookup[U]}}},{key:"moveItem",value:function(g,j){if(g!==j){for(var U=this.components[g],W=this.entities[g],z=g<j?1:-1,N=g;N!==j;N+=z){var I=N+z;this.components[N]=this.components[I],this.entities[N]=this.entities[I],this.lookup[this.entities[N]]=N}this.components[j]=U,this.entities[j]=W,this.lookup[W]=j}}},{key:"getEntity",value:function(g){return this.entities[g]}},{key:"getComponent",value:function(g){return this.components[g]}},{key:"getComponentByEntity",value:function(g){var j=this.lookup[g];return j>-1?this.components[j]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(g){for(var j=0,U=Object.keys(this.lookup);j<U.length;j++){var W=U[j],z=Number(W);if(this.lookup[z]===g)return z}return y.a}},{key:"find",value:function(g){for(var j=0;j<this.getCount();j++){var U=this.getComponent(j);if(g(U,j))return U}return null}},{key:"findIndex",value:function(g){for(var j=0;j<this.getCount();j++){var U=this.getComponent(j);if(g(U,j))return j}return-1}},{key:"forEach",value:function(g){for(var j=0,U=Object.keys(this.lookup);j<U.length;j++){var W=U[j],z=Number(W),N=this.lookup[z];g(z,this.getComponent(N))}}},{key:"forEachAsync",value:function(){var L=O()(o.a.mark(function j(U){var W,z,N,I,B;return o.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:W=0,z=Object.keys(this.lookup);case 1:if(!(W<z.length)){k.next=10;break}return N=z[W],I=Number(N),B=this.lookup[I],k.next=7,U(I,this.getComponent(B));case 7:W++,k.next=1;break;case 10:case"end":return k.stop()}},j,this)}));function g(j){return L.apply(this,arguments)}return g}()},{key:"map",value:function(g){for(var j=[],U=0,W=Object.keys(this.lookup);U<W.length;U++){var z=W[U],N=Number(z),I=this.lookup[N];j.push(g(N,this.getComponent(I)))}return j}}]),T}()},Hgj1:function(jt,A,a){"use strict";a.r(A),a.d(A,"easeLinear",function(){return f}),a.d(A,"easeQuad",function(){return O}),a.d(A,"easeQuadIn",function(){return o}),a.d(A,"easeQuadOut",function(){return x}),a.d(A,"easeQuadInOut",function(){return O}),a.d(A,"easeCubic",function(){return b}),a.d(A,"easeCubicIn",function(){return C}),a.d(A,"easeCubicOut",function(){return P}),a.d(A,"easeCubicInOut",function(){return b}),a.d(A,"easePoly",function(){return m}),a.d(A,"easePolyIn",function(){return y}),a.d(A,"easePolyOut",function(){return E}),a.d(A,"easePolyInOut",function(){return m}),a.d(A,"easeSin",function(){return U}),a.d(A,"easeSinIn",function(){return g}),a.d(A,"easeSinOut",function(){return j}),a.d(A,"easeSinInOut",function(){return U}),a.d(A,"easeExp",function(){return I}),a.d(A,"easeExpIn",function(){return z}),a.d(A,"easeExpOut",function(){return N}),a.d(A,"easeExpInOut",function(){return I}),a.d(A,"easeCircle",function(){return k}),a.d(A,"easeCircleIn",function(){return B}),a.d(A,"easeCircleOut",function(){return G}),a.d(A,"easeCircleInOut",function(){return k}),a.d(A,"easeBounce",function(){return gt}),a.d(A,"easeBounceIn",function(){return rt}),a.d(A,"easeBounceOut",function(){return gt}),a.d(A,"easeBounceInOut",function(){return Et}),a.d(A,"easeBack",function(){return vt}),a.d(A,"easeBackIn",function(){return Yt}),a.d(A,"easeBackOut",function(){return Xt}),a.d(A,"easeBackInOut",function(){return vt}),a.d(A,"easeElastic",function(){return Tt}),a.d(A,"easeElasticIn",function(){return lt}),a.d(A,"easeElasticOut",function(){return Tt}),a.d(A,"easeElasticInOut",function(){return Ot});function f(et){return+et}function o(et){return et*et}function x(et){return et*(2-et)}function O(et){return((et*=2)<=1?et*et:--et*(2-et)+1)/2}function C(et){return et*et*et}function P(et){return--et*et*et+1}function b(et){return((et*=2)<=1?et*et*et:(et-=2)*et*et+2)/2}var S=3,y=function et(H){H=+H;function pt(nt){return Math.pow(nt,H)}return pt.exponent=et,pt}(S),E=function et(H){H=+H;function pt(nt){return 1-Math.pow(1-nt,H)}return pt.exponent=et,pt}(S),m=function et(H){H=+H;function pt(nt){return((nt*=2)<=1?Math.pow(nt,H):2-Math.pow(2-nt,H))/2}return pt.exponent=et,pt}(S),T=Math.PI,L=T/2;function g(et){return+et==1?1:1-Math.cos(et*L)}function j(et){return Math.sin(et*L)}function U(et){return(1-Math.cos(T*et))/2}function W(et){return(Math.pow(2,-10*et)-.0009765625)*1.0009775171065494}function z(et){return W(1-+et)}function N(et){return 1-W(et)}function I(et){return((et*=2)<=1?W(1-et):2-W(et-1))/2}function B(et){return 1-Math.sqrt(1-et*et)}function G(et){return Math.sqrt(1- --et*et)}function k(et){return((et*=2)<=1?1-Math.sqrt(1-et*et):Math.sqrt(1-(et-=2)*et)+1)/2}var V=4/11,tt=6/11,Q=8/11,K=3/4,_=9/11,Y=10/11,q=15/16,ot=21/22,ft=63/64,ct=1/V/V;function rt(et){return 1-gt(1-et)}function gt(et){return(et=+et)<V?ct*et*et:et<Q?ct*(et-=tt)*et+K:et<Y?ct*(et-=_)*et+q:ct*(et-=ot)*et+ft}function Et(et){return((et*=2)<=1?1-gt(1-et):gt(et-1)+1)/2}var Gt=1.70158,Yt=function et(H){H=+H;function pt(nt){return(nt=+nt)*nt*(H*(nt-1)+nt)}return pt.overshoot=et,pt}(Gt),Xt=function et(H){H=+H;function pt(nt){return--nt*nt*((nt+1)*H+nt)+1}return pt.overshoot=et,pt}(Gt),vt=function et(H){H=+H;function pt(nt){return((nt*=2)<1?nt*nt*((H+1)*nt-H):(nt-=2)*nt*((H+1)*nt+H)+2)/2}return pt.overshoot=et,pt}(Gt),mt=2*Math.PI,ut=1,st=.3,lt=function et(H,pt){var nt=Math.asin(1/(H=Math.max(1,H)))*(pt/=mt);function yt(Pt){return H*W(- --Pt)*Math.sin((nt-Pt)/pt)}return yt.amplitude=function(Pt){return et(Pt,pt*mt)},yt.period=function(Pt){return et(H,Pt)},yt}(ut,st),Tt=function et(H,pt){var nt=Math.asin(1/(H=Math.max(1,H)))*(pt/=mt);function yt(Pt){return 1-H*W(Pt=+Pt)*Math.sin((Pt+nt)/pt)}return yt.amplitude=function(Pt){return et(Pt,pt*mt)},yt.period=function(Pt){return et(H,Pt)},yt}(ut,st),Ot=function et(H,pt){var nt=Math.asin(1/(H=Math.max(1,H)))*(pt/=mt);function yt(Pt){return((Pt=Pt*2-1)<0?H*W(-Pt)*Math.sin((nt-Pt)/pt):2-H*W(Pt)*Math.sin((nt+Pt)/pt))/2}return yt.amplitude=function(Pt){return et(Pt,pt*mt)},yt.period=function(Pt){return et(H,Pt)},yt}(ut,st)},HxLA:function(jt,A){function a(f,o){return jt.exports=a=Object.setPrototypeOf||function(O,C){return O.__proto__=C,O},jt.exports.default=jt.exports,jt.exports.__esModule=!0,a(f,o)}jt.exports=a,jt.exports.default=jt.exports,jt.exports.__esModule=!0},I7m4:function(jt,A,a){var f=a("ql+n"),o=a("EEYS");jt.exports=x;function x(O){return f.filter(o(O),function(C){return C.length>1||C.length===1&&O.hasEdge(C[0],C[0])})}},IJeR:function(jt,A,a){var f=a("ql+n"),o=a("K0S0");jt.exports={write:x,read:P};function x(b){var S={options:{directed:b.isDirected(),multigraph:b.isMultigraph(),compound:b.isCompound()},nodes:O(b),edges:C(b)};return f.isUndefined(b.graph())||(S.value=f.clone(b.graph())),S}function O(b){return f.map(b.nodes(),function(S){var y=b.node(S),E=b.parent(S),m={v:S};return f.isUndefined(y)||(m.value=y),f.isUndefined(E)||(m.parent=E),m})}function C(b){return f.map(b.edges(),function(S){var y=b.edge(S),E={v:S.v,w:S.w};return f.isUndefined(S.name)||(E.name=S.name),f.isUndefined(y)||(E.value=y),E})}function P(b){var S=new o(b.options).setGraph(b.value);return f.each(b.nodes,function(y){S.setNode(y.v,y.value),y.parent&&S.setParent(y.v,y.parent)}),f.each(b.edges,function(y){S.setEdge({v:y.v,w:y.w,name:y.name},y.value)}),S}},ITH6:function(jt,A,a){"use strict";a.d(A,"c",function(){return T}),a.d(A,"b",function(){return g}),a.d(A,"a",function(){return B});var f=a("CMID"),o=a("jg4I"),x=a("nHjW"),O=a("8DqP"),C=a("N2cT"),P=a("fxXO"),b={exp:P.regressionExp,linear:P.regressionLinear,loess:P.regressionLoess,log:P.regressionLog,poly:P.regressionPoly,pow:P.regressionPow,quad:P.regressionQuad};function S(G,k){var V=10,tt={regionStyle:[{position:{start:[G,"max"],end:["max",k]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[G,k]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",k],end:[G,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[G,k],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",k],offsetX:-V,offsetY:-V,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",k],offsetX:V,offsetY:-V,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",k],offsetX:V,offsetY:V,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",k],offsetX:-V,offsetY:V,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return tt}var y=function(k,V){var tt=V.view,Q=V.options,K=Q.xField,_=Q.yField,Y=tt.getScaleByField(K),q=tt.getScaleByField(_),ot=k.map(function(ft){return tt.getCoordinate().convert({x:Y.scale(ft[0]),y:q.scale(ft[1])})});return Object(x.k)(ot,!1)},E=function(k){var V=k.options,tt=V.xField,Q=V.yField,K=V.data,_=V.regressionLine,Y=_.type,q=Y===void 0?"linear":Y,ot=_.algorithm,ft;if(ot)ft=Object(o.isArray)(ot)?ot:ot(K);else{var ct=b[q]().x(function(rt){return rt[tt]}).y(function(rt){return rt[Q]});ft=ct(K)}return y(ft,k)},m=function(k){var V,tt=k.meta,Q=tt===void 0?{}:tt,K=k.xField,_=k.yField,Y=k.data,q=Y[0][K],ot=Y[0][_],ft=q>0,ct=ot>0,rt=function(Et,Gt,Yt){var Xt=Object(o.get)(Q,[Et,Gt]);if(Object(o.isNumber)(Xt))return Xt;if(Yt==="x"){var vt={min:ft?0:q*2,max:ft?q*2:0};return vt[Gt]}var mt={min:ct?0:ot*2,max:ct?ot*2:0};return mt[Gt]};return Object(f.__assign)(Object(f.__assign)({},Q),(V={},V[K]=Object(f.__assign)(Object(f.__assign)({},Q[K]),{min:rt(K,"min","x"),max:rt(K,"max","x")}),V[_]=Object(f.__assign)(Object(f.__assign)({},Q[_]),{min:rt(_,"min","y"),max:rt(_,"max","y")}),V))};function T(G){var k=G.data,V=k===void 0?[]:k;return V.length===1?Object(x.c)({},G,{meta:m(G)}):G}function L(G){var k=G.chart,V=G.options,tt=V.data,Q=V.type,K=V.color,_=V.shape,Y=V.pointStyle,q=V.shapeField,ot=V.colorField,ft=V.xField,ct=V.yField,rt=V.sizeField,gt=V.size,Et=V.tooltip;rt&&(gt||(gt=[2,8]),Object(o.isNumber)(gt)&&(gt=[gt,gt])),Et&&!Et.fields&&(Et=Object(f.__assign)(Object(f.__assign)({},Et),{fields:[ft,ct,ot,rt,q]})),k.data(tt),Object(O.e)(Object(x.c)({},G,{options:{seriesField:ot,point:{color:K,shape:_,size:gt,style:Y},tooltip:Et}}));var Gt=Object(x.d)(k,"point");return Q&&Gt.adjust(Q),G}function g(G){var k,V=G.options,tt=V.data,Q=V.xAxis,K=V.yAxis,_=V.xField,Y=V.yField,q=V;return tt.length===1&&(q=T(Object(x.c)({},V,{meta:m(V)}))),Object(x.f)(Object(C.f)((k={},k[_]=Q,k[Y]=K,k)))(Object(x.c)({},G,{options:q}))}function j(G){var k=G.chart,V=G.options,tt=V.xAxis,Q=V.yAxis,K=V.xField,_=V.yField;return k.axis(K,tt),k.axis(_,Q),G}function U(G){var k=G.chart,V=G.options,tt=V.legend,Q=V.colorField,K=V.shapeField,_=V.sizeField,Y=V.shapeLegend,q=V.sizeLegend,ot=tt!==!1;return Q&&k.legend(Q,ot?tt:!1),K&&(Y?k.legend(K,Y):k.legend(K,Y===!1?!1:tt)),_&&k.legend(_,q||!1),!ot&&!Y&&!q&&k.legend(!1),G}function W(G){var k=G.chart,V=G.options,tt=V.label,Q=V.yField,K=Object(x.d)(k,"point");if(!tt)K.label(!1);else{var _=tt.callback,Y=Object(f.__rest)(tt,["callback"]);K.label({fields:[Q],callback:_,cfg:Object(x.w)(Y)})}return G}function z(G){var k=G.options,V=k.quadrant,tt=[];if(V){var Q=V.xBaseline,K=Q===void 0?0:Q,_=V.yBaseline,Y=_===void 0?0:_,q=V.labels,ot=V.regionStyle,ft=V.lineStyle,ct=S(K,Y),rt=new Array(4).join(",").split(",");rt.forEach(function(gt,Et){tt.push(Object(f.__assign)(Object(f.__assign)({type:"region",top:!1},ct.regionStyle[Et].position),{style:Object(x.c)({},ct.regionStyle[Et].style,ot==null?void 0:ot[Et])}),Object(f.__assign)({type:"text",top:!0},Object(x.c)({},ct.labelStyle[Et],q==null?void 0:q[Et])))}),tt.push({type:"line",top:!1,start:["min",Y],end:["max",Y],style:Object(x.c)({},ct.lineStyle,ft)},{type:"line",top:!1,start:[K,"min"],end:[K,"max"],style:Object(x.c)({},ct.lineStyle,ft)})}return Object(x.f)(Object(C.b)(tt))(G)}function N(G){var k=G.options,V=G.chart,tt=k.regressionLine;if(tt){var Q=tt.style,K=tt.top,_=K===void 0?!1:K,Y={stroke:"#9ba29a",lineWidth:2,opacity:.5};V.annotation().shape({top:_,render:function(ot,ft){var ct=ot.addGroup({id:V.id+"-regression-line",name:"regression-line-group"}),rt=E({view:ft,options:k});ct.addShape("path",{name:"regression-line",attrs:Object(f.__assign)(Object(f.__assign)({path:rt},Y),Q)})}})}return G}function I(G){var k=G.chart,V=G.options,tt=V.tooltip;return tt?k.tooltip(tt):tt===!1&&k.tooltip(!1),G}function B(G){return Object(x.f)(L,g,j,U,I,W,C.c,z,C.a,C.j,N)(G)}},ITfU:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingWhenSyntax=void 0;var f=a("zN6Y"),o=a("09fY"),x=function(){function O(C){this._binding=C}return O.prototype.when=function(C){return this._binding.constraint=C,new f.BindingOnSyntax(this._binding)},O.prototype.whenTargetNamed=function(C){return this._binding.constraint=o.namedConstraint(C),new f.BindingOnSyntax(this._binding)},O.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(C){var P=C.target!==null&&!C.target.isNamed()&&!C.target.isTagged();return P},new f.BindingOnSyntax(this._binding)},O.prototype.whenTargetTagged=function(C,P){return this._binding.constraint=o.taggedConstraint(C)(P),new f.BindingOnSyntax(this._binding)},O.prototype.whenInjectedInto=function(C){return this._binding.constraint=function(P){return o.typeConstraint(C)(P.parentRequest)},new f.BindingOnSyntax(this._binding)},O.prototype.whenParentNamed=function(C){return this._binding.constraint=function(P){return o.namedConstraint(C)(P.parentRequest)},new f.BindingOnSyntax(this._binding)},O.prototype.whenParentTagged=function(C,P){return this._binding.constraint=function(b){return o.taggedConstraint(C)(P)(b.parentRequest)},new f.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorIs=function(C){return this._binding.constraint=function(P){return o.traverseAncerstors(P,o.typeConstraint(C))},new f.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorIs=function(C){return this._binding.constraint=function(P){return!o.traverseAncerstors(P,o.typeConstraint(C))},new f.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorNamed=function(C){return this._binding.constraint=function(P){return o.traverseAncerstors(P,o.namedConstraint(C))},new f.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorNamed=function(C){return this._binding.constraint=function(P){return!o.traverseAncerstors(P,o.namedConstraint(C))},new f.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorTagged=function(C,P){return this._binding.constraint=function(b){return o.traverseAncerstors(b,o.taggedConstraint(C)(P))},new f.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorTagged=function(C,P){return this._binding.constraint=function(b){return!o.traverseAncerstors(b,o.taggedConstraint(C)(P))},new f.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorMatches=function(C){return this._binding.constraint=function(P){return o.traverseAncerstors(P,C)},new f.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorMatches=function(C){return this._binding.constraint=function(P){return!o.traverseAncerstors(P,C)},new f.BindingOnSyntax(this._binding)},O}();A.BindingWhenSyntax=x},IZ4i:function(jt,A,a){var f=a("vqXp"),o=a("tIv8"),x=a("WeNx"),O=o?function(C,P){return o(C,"toString",{configurable:!0,enumerable:!1,value:f(P),writable:!0})}:x;jt.exports=O},IetX:function(jt,A){},ItRR:function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=a("jg4I");function o(x,O,C){var P=O+"Style",b=null;return Object(f.each)(C,function(S,y){x[y]&&S[P]&&(b||(b={}),Object(f.mix)(b,S[P]))}),b}},Itlo:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.tagged=void 0;var f=a("rMkn"),o=a("ZLnY");function x(O,C){return function(P,b,S){var y=new f.Metadata(O,C);typeof S=="number"?o.tagParameter(P,b,S,y):o.tagProperty(P,b,y)}}A.tagged=x},Iv2P:function(jt,A,a){"use strict";a.d(A,"b",function(){return P}),a.d(A,"a",function(){return b});var f=a("CMID"),o=a("jg4I"),x=a("nHjW");function O(S){var y={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},E=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];Object(o.get)(S,"fill")&&(y.color=S.fill);var m=Object(x.r)(S,E),T=m.shadowColor,L=m.shadowBlur,g=L===void 0?0:L,j=m.shadowOffsetX,U=j===void 0?0:j,W=m.shadowOffsetY,z=W===void 0?0:W;y["text-shadow"]=""+[T,U+"px",z+"px",g+"px"].join(" ");var N=Object(x.r)(S,E),I=N.stroke,B=N.lineWidth,G=B===void 0?0:B;return y["-webkit-text-stroke"]=""+[G+"px",I].join(" "),Object(o.each)(S,function(k,V){["fontSize"].includes(V)&&Object(o.isNumber)(k)?y[Object(x.o)(V)]=k+"px":V&&!E.includes(V)&&(y[Object(x.o)(V)]=""+k)}),y}function C(S,y){S.style["pointer-events"]="none",Object(o.each)(y,function(E,m){m&&E&&(S.style[m]=E)})}var P=function(y,E,m){var T=E.statistic,L=E.plotType,g=T.title,j=T.content;[g,j].forEach(function(U,W){if(!!U){var z="";W===0?z=j?"translate(-50%, -100%)":"translate(-50%, -50%)":z=g?"translate(-50%, 0)":"translate(-50%, -50%)";var N=Object(o.isFunction)(U.style)?U.style(m):U.style;y.annotation().html(Object(f.__assign)({position:["50%","50%"],html:function(B,G){var k=G.getCoordinate(),V=0;if(L==="pie"||L==="ring-progress")V=k.getRadius()*k.innerRadius*2;else if(L==="liquid"){var tt=Object(o.get)(G.geometries,[0,"elements",0,"shape"]);if(tt){var Q=tt.find(function(q){return q.get("name")==="wrap"}),K=Q.getCanvasBBox().width;V=K}}else V||(V=k.getWidth());C(B,Object(f.__assign)({width:V+"px",transform:z},O(N)));var _=G.getData();if(U.customHtml)return U.customHtml(B,G,m,_);var Y=U.content;return U.formatter&&(Y=U.formatter(m,_)),Y?Object(o.isString)(Y)?Y:""+Y:"<div></div>"},key:(W===0?"top":"bottom")+"-statistic"},Object(x.r)(U,["offsetX","offsetY","rotate","style","formatter"])))}})},b=function(y,E,m){var T=E.statistic,L=T.title,g=T.content;[L,g].forEach(function(j){if(!!j){var U=Object(o.isFunction)(j.style)?j.style(m):j.style;y.annotation().html(Object(f.__assign)({position:["50%","100%"],html:function(z,N){var I=N.getCoordinate(),B=N.views[0].getCoordinate(),G=B.getCenter(),k=B.getRadius(),V=Math.max(Math.sin(B.startAngle),Math.sin(B.endAngle))*k,tt=G.y+V-I.y.start-parseFloat(Object(o.get)(U,"fontSize",0)),Q=I.getRadius()*I.innerRadius*2;C(z,Object(f.__assign)({width:Q+"px",transform:"translate(-50%, "+tt+"px)"},O(U)));var K=N.getData();if(j.customHtml)return j.customHtml(z,N,m,K);var _=j.content;return j.formatter&&(_=j.formatter(m,K)),_?Object(o.isString)(_)?_:""+_:"<div></div>"}},Object(x.r)(j,["offsetX","offsetY","rotate","style","formatter"])))}})}},Ixdt:function(jt,A,a){var f=a("fQKG"),o=a("/DyB"),x=o(function(O,C,P){f(O,C,P)});jt.exports=x},"J/Yx":function(jt,A,a){"use strict";a.d(A,"a",function(){return _});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("RHEd"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("7Nom"),E=a.n(y),m=a("4OuL"),T=a.n(m),L=a("r1m7"),g=a.n(L),j=a("YcyD"),U=a.n(j),W=a("2Pg9"),z=a("XN3X"),N=a("ZVT1"),I,B,G,k,V,tt,Q,K,_=(I=Object(j.injectable)(),B=Object(j.inject)(z.a.GeometryComponentManager),G=Object(j.inject)(z.a.RenderEngine),I(k=(V=(K=function(){function Y(){S()(this,Y),P()(this,"geometry",tt,this),P()(this,"engine",Q,this)}return E()(Y,[{key:"execute",value:function(){var q=O()(o.a.mark(function ft(){var ct=this;return o.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:this.geometry.forEach(function(Et,Gt){Gt.dirty&&(Gt.attributes.forEach(function(Yt){if(Yt.dirty&&Yt.data){if(!Yt.buffer)Yt.buffer=ct.engine.createBuffer({data:Yt.data,type:N.a.FLOAT});else{var Xt;(Xt=Yt.buffer)===null||Xt===void 0||Xt.subData({data:Yt.data,offset:0})}Yt.dirty=!1}}),Gt.indices&&(Gt.indicesBuffer?Gt.indicesBuffer.subData({data:Gt.indices,offset:0}):Gt.indicesBuffer=ct.engine.createElements({data:Gt.indices,count:Gt.indices.length,type:N.a.UNSIGNED_INT,usage:N.a.STATIC_DRAW})),Gt.dirty=!1)});case 1:case"end":return gt.stop()}},ft,this)}));function ot(){return q.apply(this,arguments)}return ot}()},{key:"tearDown",value:function(){this.geometry.forEach(function(ot,ft){ft.indicesBuffer&&ft.indicesBuffer.destroy(),ft.attributes.forEach(function(ct){ct.buffer&&ct.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},ft=ot.vertexCount,ct=Object(W.createEntity)();return this.geometry.create(ct,{vertexCount:ft})}},{key:"createInstancedBufferGeometry",value:function(ot){var ft=ot.maxInstancedCount,ct=ot.vertexCount,rt=Object(W.createEntity)();return this.geometry.create(rt,{maxInstancedCount:ft,vertexCount:ct})}}]),Y}(),K),tt=T()(V.prototype,"geometry",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=T()(V.prototype,"engine",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V))||k)},JJ9t:function(jt,A){jt.exports=a;function a(f,o){return f[0]=Math.round(o[0]),f[1]=Math.round(o[1]),f}},JJn1:function(jt,A){},JUmX:function(jt,A,a){"use strict";a.r(A),a.d(A,"VIEW_LIFE_CIRCLE",function(){return b}),a.d(A,"VERSION",function(){return kn}),a.d(A,"Chart",function(){return lh}),a.d(A,"View",function(){return lc}),a.d(A,"Event",function(){return Ao}),a.d(A,"ComponentController",function(){return ms}),a.d(A,"TooltipController",function(){return uc}),a.d(A,"Geometry",function(){return Ka}),a.d(A,"Element",function(){return kl}),a.d(A,"GeometryLabel",function(){return Au}),a.d(A,"Interaction",function(){return Ds}),a.d(A,"Action",function(){return ya}),a.d(A,"Facet",function(){return Sa}),a.d(A,"InteractionAction",function(){return ya}),a.d(A,"registerComponentController",function(){return nn}),a.d(A,"registerGeometry",function(){return Ro}),a.d(A,"registerShape",function(){return ea}),a.d(A,"registerShapeFactory",function(){return ks}),a.d(A,"getShapeFactory",function(){return pc}),a.d(A,"registerGeometryLabel",function(){return Is}),a.d(A,"registerGeometryLabelLayout",function(){return eo}),a.d(A,"getGeometryLabel",function(){return vc}),a.d(A,"getGeometryLabelLayout",function(){return pf}),a.d(A,"getInteraction",function(){return de}),a.d(A,"registerInteraction",function(){return xe}),a.d(A,"registerAction",function(){return li}),a.d(A,"getActionClass",function(){return qs}),a.d(A,"getFacet",function(){return zo}),a.d(A,"registerFacet",function(){return ko}),a.d(A,"getTheme",function(){return qn}),a.d(A,"registerTheme",function(){return hi}),a.d(A,"registerEngine",function(){return z}),a.d(A,"getEngine",function(){return W}),a.d(A,"registerAnimation",function(){return To}),a.d(A,"getAnimation",function(){return Wl}),a.d(A,"LAYER",function(){return x}),a.d(A,"DIRECTION",function(){return O}),a.d(A,"Coordinate",function(){return nt}),a.d(A,"Scale",function(){return lt.c}),a.d(A,"Util",function(){return xc});var f=a("CMID"),o=a("jg4I"),x;(function(p){p.FORE="fore",p.MID="mid",p.BG="bg"})(x||(x={}));var O;(function(p){p.TOP="top",p.TOP_LEFT="top-left",p.TOP_RIGHT="top-right",p.RIGHT="right",p.RIGHT_TOP="right-top",p.RIGHT_BOTTOM="right-bottom",p.LEFT="left",p.LEFT_TOP="left-top",p.LEFT_BOTTOM="left-bottom",p.BOTTOM="bottom",p.BOTTOM_LEFT="bottom-left",p.BOTTOM_RIGHT="bottom-right",p.RADIUS="radius",p.CIRCLE="circle",p.NONE="none"})(O||(O={}));var C;(function(p){p.AXIS="axis",p.GRID="grid",p.LEGEND="legend",p.TOOLTIP="tooltip",p.ANNOTATION="annotation",p.SLIDER="slider",p.SCROLLBAR="scrollbar",p.OTHER="other"})(C||(C={}));var P={FORE:3,MID:2,BG:1},b;(function(p){p.BEFORE_RENDER="beforerender",p.AFTER_RENDER="afterrender",p.BEFORE_PAINT="beforepaint",p.AFTER_PAINT="afterpaint",p.BEFORE_CHANGE_DATA="beforechangedata",p.AFTER_CHANGE_DATA="afterchangedata",p.BEFORE_CLEAR="beforeclear",p.AFTER_CLEAR="afterclear",p.BEFORE_DESTROY="beforedestroy",p.BEFORE_CHANGE_SIZE="beforechangesize",p.AFTER_CHANGE_SIZE="afterchangesize"})(b||(b={}));var S;(function(p){p.BEFORE_DRAW_ANIMATE="beforeanimate",p.AFTER_DRAW_ANIMATE="afteranimate"})(S||(S={}));var y;(function(p){p.MOUSE_ENTER="plot:mouseenter",p.MOUSE_DOWN="plot:mousedown",p.MOUSE_MOVE="plot:mousemove",p.MOUSE_UP="plot:mouseup",p.MOUSE_LEAVE="plot:mouseleave",p.TOUCH_START="plot:touchstart",p.TOUCH_MOVE="plot:touchmove",p.TOUCH_END="plot:touchend",p.TOUCH_CANCEL="plot:touchcancel",p.CLICK="plot:click",p.DBLCLICK="plot:dblclick",p.CONTEXTMENU="plot:contextmenu",p.LEAVE="plot:leave",p.ENTER="plot:enter"})(y||(y={}));var E;(function(p){p.ACTIVE="active",p.INACTIVE="inactive",p.SELECTED="selected",p.DEFAULT="default"})(E||(E={}));var m=["color","shape","size"],T="_origin",L=1,g=1,j=.25,U={};function W(p){var h=U[p];if(!h)throw new Error("G engine '"+p+"' is not exist, please register it at first.");return h}function z(p,h){U[p]=h}var N=a("m8xh");function I(p){var h=getComputedStyle(p);return{width:(p.clientWidth||parseInt(h.width,10))-parseInt(h.paddingLeft,10)-parseInt(h.paddingRight,10),height:(p.clientHeight||parseInt(h.height,10))-parseInt(h.paddingTop,10)-parseInt(h.paddingBottom,10)}}function B(p){return typeof p=="number"&&!isNaN(p)}function G(p,h,s,c){var M=s,w=c;if(h){var $=I(p);M=$.width?$.width:M,w=$.height?$.height:w}return{width:Math.max(B(M)?M:L,L),height:Math.max(B(w)?w:g,g)}}function k(p){var h=p.parentNode;h&&h.removeChild(p)}var V=a("nZiY"),tt=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this)||this;c.destroyed=!1;var M=s.visible,w=M===void 0?!0:M;return c.visible=w,c}return h.prototype.show=function(){var s=this.visible;s||this.changeVisible(!0)},h.prototype.hide=function(){var s=this.visible;s&&this.changeVisible(!1)},h.prototype.destroy=function(){this.off(),this.destroyed=!0},h.prototype.changeVisible=function(s){this.visible!==s&&(this.visible=s)},h}(V.a),Q=tt,K=a("U8wd"),_=a("Q55c"),Y=function(h,s){return Object(o.isString)(s)?s:h.invert(h.scale(s))},q=function(){function p(h){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(h)}return p.prototype.mapping=function(){for(var h=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var M=s.map(function(w,$){return h._toOriginParam(w,h.scales[$])});return this.callback.apply(this,M)},p.prototype.getLinearValue=function(h){var s=this.values.length-1,c=Math.floor(s*h),M=s*h-c,w=this.values[c],$=c===s?w:this.values[c+1];return w+($-w)*M},p.prototype.getNames=function(){for(var h=this.scales,s=this.names,c=Math.min(h.length,s.length),M=[],w=0;w<c;w+=1)M.push(s[w]);return M},p.prototype.getFields=function(){return this.scales.map(function(h){return h.field})},p.prototype.getScale=function(h){return this.scales[this.names.indexOf(h)]},p.prototype.defaultCallback=function(){for(var h=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return s.length===0?this.values:s.map(function(M,w){var $=h.scales[w];return $.type==="identity"?$.values[0]:h._getAttributeValue($,M)})},p.prototype._parseCfg=function(h){var s=this,c=h.type,M=c===void 0?"base":c,w=h.names,$=w===void 0?[]:w,ht=h.scales,St=ht===void 0?[]:ht,kt=h.values,_t=kt===void 0?[]:kt,Zt=h.callback;this.type=M,this.scales=St,this.values=_t,this.names=$,this.callback=function(){for(var te=[],ne=0;ne<arguments.length;ne++)te[ne]=arguments[ne];if(Zt){var ve=Zt.apply(void 0,te);if(!Object(o.isNil)(ve))return[ve]}return s.defaultCallback.apply(s,te)}},p.prototype._getAttributeValue=function(h,s){if(h.isCategory&&!this.linear){var c=h.translate(s);return this.values[c%this.values.length]}var M=h.scale(s);return this.getLinearValue(M)},p.prototype._toOriginParam=function(h,s){return s.isLinear?h:Object(o.isArray)(h)?h.map(function(c){return Y(s,c)}):Y(s,h)},p}(),ot=q,ft=a("/WN3"),ct=a("viQC"),rt=function(p){Object(ft.b)(h,p);function h(s){var c=p.call(this,s)||this;return c.type="color",c.names=["color"],Object(o.isString)(c.values)&&(c.linear=!0),c.gradient=ct.a.gradient(c.values),c}return h.prototype.getLinearValue=function(s){return this.gradient(s)},h}(ot),gt=rt,Et=function(p){Object(ft.b)(h,p);function h(s){var c=p.call(this,s)||this;return c.type="opacity",c.names=["opacity"],c}return h}(ot),Gt=Et,Yt=function(p){Object(ft.b)(h,p);function h(s){var c=p.call(this,s)||this;return c.names=["x","y"],c.type="position",c}return h.prototype.mapping=function(s,c){var M=this.scales,w=M[0],$=M[1];return Object(o.isNil)(s)||Object(o.isNil)(c)?[]:[Object(o.isArray)(s)?s.map(function(ht){return w.scale(ht)}):w.scale(s),Object(o.isArray)(c)?c.map(function(ht){return $.scale(ht)}):$.scale(c)]},h}(ot),Xt=Yt,vt=function(p){Object(ft.b)(h,p);function h(s){var c=p.call(this,s)||this;return c.type="shape",c.names=["shape"],c}return h.prototype.getLinearValue=function(s){var c=Math.round((this.values.length-1)*s);return this.values[c]},h}(ot),mt=vt,ut=function(p){Object(ft.b)(h,p);function h(s){var c=p.call(this,s)||this;return c.type="size",c.names=["size"],c}return h}(ot),st=ut,lt=a("6vWT"),Tt={},Ot=function(h){return Tt[h.toLowerCase()]},et=function(h,s){if(Ot(h))throw new Error("Attribute type '"+h+"' existed.");Tt[h.toLowerCase()]=s};et("Color",gt),et("Opacity",Gt),et("Position",Xt),et("Shape",mt),et("Size",st);var H=a("sxZn"),pt=function(){function p(h){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var s=h.start,c=h.end,M=h.matrix,w=M===void 0?[1,0,0,0,1,0,0,0,1]:M,$=h.isTransposed,ht=$===void 0?!1:$;this.start=s,this.end=c,this.matrix=w,this.originalMatrix=Object(f.__spreadArray)([],w),this.isTransposed=ht}return p.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},p.prototype.update=function(h){Object(o.assign)(this,h),this.initial()},p.prototype.convertDim=function(h,s){var c,M=this[s],w=M.start,$=M.end;return this.isReflect(s)&&(c=[$,w],w=c[0],$=c[1]),w+h*($-w)},p.prototype.invertDim=function(h,s){var c,M=this[s],w=M.start,$=M.end;return this.isReflect(s)&&(c=[$,w],w=c[0],$=c[1]),(h-w)/($-w)},p.prototype.applyMatrix=function(h,s,c){c===void 0&&(c=0);var M=this.matrix,w=[h,s,c];return H.d.transformMat3(w,w,M),w},p.prototype.invertMatrix=function(h,s,c){c===void 0&&(c=0);var M=this.matrix,w=H.b.invert([0,0,0,0,0,0,0,0,0],M),$=[h,s,c];return w&&H.d.transformMat3($,$,w),$},p.prototype.convert=function(h){var s=this.convertPoint(h),c=s.x,M=s.y,w=this.applyMatrix(c,M,1);return{x:w[0],y:w[1]}},p.prototype.invert=function(h){var s=this.invertMatrix(h.x,h.y,1);return this.invertPoint({x:s[0],y:s[1]})},p.prototype.rotate=function(h){var s=this.matrix,c=this.center;return H.a.leftTranslate(s,s,[-c.x,-c.y]),H.a.leftRotate(s,s,h),H.a.leftTranslate(s,s,[c.x,c.y]),this},p.prototype.reflect=function(h){return h==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},p.prototype.scale=function(h,s){var c=this.matrix,M=this.center;return H.a.leftTranslate(c,c,[-M.x,-M.y]),H.a.leftScale(c,c,[h,s]),H.a.leftTranslate(c,c,[M.x,M.y]),this},p.prototype.translate=function(h,s){var c=this.matrix;return H.a.leftTranslate(c,c,[h,s]),this},p.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},p.prototype.getCenter=function(){return this.center},p.prototype.getWidth=function(){return this.width},p.prototype.getHeight=function(){return this.height},p.prototype.getRadius=function(){return this.radius},p.prototype.isReflect=function(h){return h==="x"?this.isReflectX:this.isReflectY},p.prototype.resetMatrix=function(h){this.matrix=h||Object(f.__spreadArray)([],this.originalMatrix)},p}(),nt=pt,yt=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;return c.isRect=!0,c.type="cartesian",c.initial(),c}return h.prototype.initial=function(){p.prototype.initial.call(this);var s=this.start,c=this.end;this.x={start:s.x,end:c.x},this.y={start:s.y,end:c.y}},h.prototype.convertPoint=function(s){var c,M=s.x,w=s.y;return this.isTransposed&&(c=[w,M],M=c[0],w=c[1]),{x:this.convertDim(M,"x"),y:this.convertDim(w,"y")}},h.prototype.invertPoint=function(s){var c,M=this.invertDim(s.x,"x"),w=this.invertDim(s.y,"y");return this.isTransposed&&(c=[w,M],M=c[0],w=c[1]),{x:M,y:w}},h}(nt),Pt=yt,Rt=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.isHelix=!0,c.type="helix";var M=s.startAngle,w=M===void 0?1.25*Math.PI:M,$=s.endAngle,ht=$===void 0?7.25*Math.PI:$,St=s.innerRadius,kt=St===void 0?0:St,_t=s.radius;return c.startAngle=w,c.endAngle=ht,c.innerRadius=kt,c.radius=_t,c.initial(),c}return h.prototype.initial=function(){p.prototype.initial.call(this);var s=(this.endAngle-this.startAngle)/(2*Math.PI)+1,c=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(c=c*this.radius),this.d=Math.floor(c*(1-this.innerRadius)/s),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*c,end:this.innerRadius*c+this.d*.99}},h.prototype.convertPoint=function(s){var c,M=s.x,w=s.y;this.isTransposed&&(c=[w,M],M=c[0],w=c[1]);var $=this.convertDim(M,"x"),ht=this.a*$,St=this.convertDim(w,"y");return{x:this.center.x+Math.cos($)*(ht+St),y:this.center.y+Math.sin($)*(ht+St)}},h.prototype.invertPoint=function(s){var c,M=this.d+this.y.start,w=H.c.subtract([0,0],[s.x,s.y],[this.center.x,this.center.y]),$=H.a.angleTo(w,[1,0],!0),ht=$*this.a;H.c.length(w)<ht&&(ht=H.c.length(w));var St=Math.floor((H.c.length(w)-ht)/M);$=2*St*Math.PI+$;var kt=this.a*$,_t=H.c.length(w)-kt;_t=Object(o.isNumberEqual)(_t,0)?0:_t;var Zt=this.invertDim($,"x"),te=this.invertDim(_t,"y");return Zt=Object(o.isNumberEqual)(Zt,0)?0:Zt,te=Object(o.isNumberEqual)(te,0)?0:te,this.isTransposed&&(c=[te,Zt],Zt=c[0],te=c[1]),{x:Zt,y:te}},h}(nt),Wt=Rt,Vt=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.isPolar=!0,c.type="polar";var M=s.startAngle,w=M===void 0?-Math.PI/2:M,$=s.endAngle,ht=$===void 0?Math.PI*3/2:$,St=s.innerRadius,kt=St===void 0?0:St,_t=s.radius;return c.startAngle=w,c.endAngle=ht,c.innerRadius=kt,c.radius=_t,c.initial(),c}return h.prototype.initial=function(){for(p.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var s=this.getOneBox(),c=s.maxX-s.minX,M=s.maxY-s.minY,w=Math.abs(s.minX)/c,$=Math.abs(s.minY)/M,ht;this.height/M>this.width/c?(ht=this.width/c,this.circleCenter={x:this.center.x-(.5-w)*this.width,y:this.center.y-(.5-$)*ht*M}):(ht=this.height/M,this.circleCenter={x:this.center.x-(.5-w)*ht*c,y:this.center.y-(.5-$)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=ht*this.radius:(this.radius<=0||this.radius>ht)&&(this.polarRadius=ht):this.polarRadius=ht,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},h.prototype.getRadius=function(){return this.polarRadius},h.prototype.convertPoint=function(s){var c,M=this.getCenter(),w=s.x,$=s.y;return this.isTransposed&&(c=[$,w],w=c[0],$=c[1]),w=this.convertDim(w,"x"),$=this.convertDim($,"y"),{x:M.x+Math.cos(w)*$,y:M.y+Math.sin(w)*$}},h.prototype.invertPoint=function(s){var c,M=this.getCenter(),w=[s.x-M.x,s.y-M.y],$=this,ht=$.startAngle,St=$.endAngle;this.isReflect("x")&&(c=[St,ht],ht=c[0],St=c[1]);var kt=[1,0,0,0,1,0,0,0,1];H.a.leftRotate(kt,kt,ht);var _t=[1,0,0];H.d.transformMat3(_t,_t,kt);var Zt=[_t[0],_t[1]],te=H.a.angleTo(Zt,w,St<ht);Object(o.isNumberEqual)(te,Math.PI*2)&&(te=0);var ne=H.c.length(w),ve=te/(St-ht);ve=St-ht>0?ve:-ve;var Oe=this.invertDim(ne,"y"),Ke={x:0,y:0};return Ke.x=this.isTransposed?Oe:ve,Ke.y=this.isTransposed?ve:Oe,Ke},h.prototype.getCenter=function(){return this.circleCenter},h.prototype.getOneBox=function(){var s=this.startAngle,c=this.endAngle;if(Math.abs(c-s)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var M=[0,Math.cos(s),Math.cos(c)],w=[0,Math.sin(s),Math.sin(c)],$=Math.min(s,c);$<Math.max(s,c);$+=Math.PI/18)M.push(Math.cos($)),w.push(Math.sin($));return{minX:Math.min.apply(Math,M),maxX:Math.max.apply(Math,M),minY:Math.min.apply(Math,w),maxY:Math.max.apply(Math,w)}},h}(nt),Lt=Vt,Ct={},at=function(h){return Ct[h.toLowerCase()]},It=function(h,s){Ct[h.toLowerCase()]=s};It("rect",Pt),It("cartesian",Pt),It("polar",Lt),It("helix",Wt);var Ft=a("8Qcm"),xt=Ft.Axis.Line,Nt=Ft.Axis.Circle,Ht=Ft.Grid.Line,Bt=Ft.Grid.Circle,Ut=Ft.Legend.Category,Jt=Ft.Legend.Continuous,oe=Ft.Tooltip.Html;function ge(p){if(Object(o.isEmpty)(p))return null;var h=p[0].x,s=p[0].x,c=p[0].y,M=p[0].y;return Object(o.each)(p,function(w){h=h>w.x?w.x:h,s=s<w.x?w.x:s,c=c>w.y?w.y:c,M=M<w.y?w.y:M}),{minX:h,maxX:s,minY:c,maxY:M,centerX:(h+s)/2,centerY:(c+M)/2}}function Ce(p,h,s,c){return{x:p+s*Math.cos(c),y:h+s*Math.sin(c)}}function Ie(p,h,s,c,M,w){w===void 0&&(w=0);var $=Ce(p,h,s,c),ht=Ce(p,h,s,M),St=Ce(p,h,w,c),kt=Ce(p,h,w,M);if(M-c==Math.PI*2){var _t=Ce(p,h,s,c+Math.PI),Zt=Ce(p,h,w,c+Math.PI),te=[["M",$.x,$.y],["A",s,s,0,1,1,_t.x,_t.y],["A",s,s,0,1,1,ht.x,ht.y],["M",St.x,St.y]];return w&&(te.push(["A",w,w,0,1,0,Zt.x,Zt.y]),te.push(["A",w,w,0,1,0,kt.x,kt.y])),te.push(["M",$.x,$.y]),te.push(["Z"]),te}var ne=M-c<=Math.PI?0:1,ve=[["M",$.x,$.y],["A",s,s,0,ne,1,ht.x,ht.y],["L",kt.x,kt.y]];return w&&ve.push(["A",w,w,0,ne,0,St.x,St.y]),ve.push(["L",$.x,$.y]),ve.push(["Z"]),ve}function We(p,h,s,c,M){var w=Ce(p,h,s,c),$=Ce(p,h,s,M);if(Object(o.isNumberEqual)(M-c,Math.PI*2)){var ht=Ce(p,h,s,c+Math.PI);return[["M",w.x,w.y],["A",s,s,0,1,1,ht.x,ht.y],["A",s,s,0,1,1,w.x,w.y],["A",s,s,0,1,0,ht.x,ht.y],["A",s,s,0,1,0,w.x,w.y],["Z"]]}var St=M-c<=Math.PI?0:1;return[["M",w.x,w.y],["A",s,s,0,St,1,$.x,$.y]]}function lr(p,h){var s=p.points,c=ge(s),M,w,$=h.startAngle,ht=h.endAngle,St=ht-$;return h.isTransposed?(M=c.maxY*St,w=c.minY*St):(M=c.maxX*St,w=c.minX*St),M+=$,w+=$,{startAngle:w,endAngle:M}}function rr(p,h){if(Object(o.isNumber)(p)&&Object(o.isNumber)(h))return[p,h];for(var s=-1,c=0,M=0,w,$=p.length-1,ht,St=0;++s<p.length;)w=$,$=s,St+=ht=p[w]*h[$]-p[$]*h[w],c+=(p[w]+p[$])*ht,M+=(h[w]+h[$])*ht;return St*=3,[c/St,M/St]}function $e(p,h){var s=p.attr(),c=h.attr();return Object(o.each)(s,function(M,w){c[w]===void 0&&(c[w]=void 0)}),c}function Ue(p,h,s){var c=Math.min(h,s),M=Math.max(h,s);return p>=c&&p<=M}function ir(p,h,s){if(Object(o.isString)(p))return p.padEnd(h,s);if(Object(o.isArray)(p)){var c=p.length;if(c<h)for(var M=h-c,w=0;w<M;w++)p.push(s)}return p}function xr(p,h){return h.forEach(function(s){delete p[s]}),p}function nr(p,h,s){h===void 0&&(h=[]),s===void 0&&(s={});for(var c=0,M=p;c<M.length;c++){var w=M[c];s[w]||(h.push(w),s[w]=!0)}return h}var tn=function(){function p(h,s,c,M){h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),M===void 0&&(M=0),this.x=h,this.y=s,this.height=M,this.width=c}return p.fromRange=function(h,s,c,M){return new p(h,s,c-h,M-s)},p.fromObject=function(h){return new p(h.minX,h.minY,h.width,h.height)},Object.defineProperty(p.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),p.prototype.isEqual=function(h){return this.x===h.x&&this.y===h.y&&this.width===h.width&&this.height===h.height},p.prototype.contains=function(h){return h.minX>=this.minX&&h.maxX<=this.maxX&&h.minY>=this.minY&&h.maxY<=this.maxY},p.prototype.clone=function(){return new p(this.x,this.y,this.width,this.height)},p.prototype.add=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];var c=this.clone();return Object(o.each)(h,function(M){c.x=Math.min(M.x,c.x),c.y=Math.min(M.y,c.y),c.width=Math.max(M.maxX,c.maxX)-c.x,c.height=Math.max(M.maxY,c.maxY)-c.y}),c},p.prototype.merge=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];var c=this.clone();return Object(o.each)(h,function(M){c.x=Math.max(M.x,c.x),c.y=Math.max(M.y,c.y),c.width=Math.min(M.maxX,c.maxX)-c.x,c.height=Math.min(M.maxY,c.maxY)-c.y}),c},p.prototype.cut=function(h,s){var c=h.width,M=h.height;switch(s){case O.TOP:case O.TOP_LEFT:case O.TOP_RIGHT:return p.fromRange(this.minX,this.minY+M,this.maxX,this.maxY);case O.RIGHT:case O.RIGHT_TOP:case O.RIGHT_BOTTOM:return p.fromRange(this.minX,this.minY,this.maxX-c,this.maxY);case O.BOTTOM:case O.BOTTOM_LEFT:case O.BOTTOM_RIGHT:return p.fromRange(this.minX,this.minY,this.maxX,this.maxY-M);case O.LEFT:case O.LEFT_TOP:case O.LEFT_BOTTOM:return p.fromRange(this.minX+c,this.minY,this.maxX,this.maxY);default:return this}},p.prototype.shrink=function(h){var s=h[0],c=h[1],M=h[2],w=h[3];return new p(this.x+w,this.y+s,this.width-w-c,this.height-s-M)},p.prototype.expand=function(h){var s=h[0],c=h[1],M=h[2],w=h[3];return new p(this.x-w,this.y-s,this.width+w+c,this.height+s+M)},p.prototype.exceed=function(h){return[Math.max(-this.minY+h.minY,0),Math.max(this.maxX-h.maxX,0),Math.max(this.maxY-h.maxY,0),Math.max(-this.minX+h.minX,0)]},p.prototype.collide=function(h){return this.minX<h.maxX&&this.maxX>h.minX&&this.minY<h.maxY&&this.maxY>h.minY},p.prototype.size=function(){return this.width*this.height},p.prototype.isPointIn=function(h){return h.x>=this.minX&&h.x<=this.maxX&&h.y>=this.minY&&h.y<=this.maxY},p}(),bn=function(h,s){var c=s.start,M=s.end;return new tn(h.x+h.width*c.x,h.y+h.height*c.y,h.width*Math.abs(M.x-c.x),h.height*Math.abs(M.y-c.y))};function Ur(p){return[[p.minX,p.minY],[p.maxX,p.minY],[p.maxX,p.maxY],[p.minX,p.maxY]]}function Le(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var h=p.convert({x:0,y:0}),s=p.convert({x:1,y:0});return Math.sqrt(Math.pow(s.x-h.x,2)+Math.pow(s.y-h.y,2))}function or(p){if(p.isPolar){var h=p.startAngle,s=p.endAngle;return s-h==Math.PI*2}return!1}function Gr(p,h){var s=p.getCenter();return Math.sqrt(Math.pow(h.x-s.x,2)+Math.pow(h.y-s.y,2))}function Kr(p,h){var s=!1;if(p)if(p.type==="theta"){var c=p.start,M=p.end;s=Ue(h.x,c.x,M.x)&&Ue(h.y,c.y,M.y)}else{var w=p.invert(h);s=Ue(w.x,0,1)&&Ue(w.y,0,1)}return s}function $r(p,h){var s=p.getCenter();return Math.atan2(h.y-s.y,h.x-s.x)}function jn(p,h){h===void 0&&(h=0);var s=p.start,c=p.end,M=p.getWidth(),w=p.getHeight();if(p.isPolar){var $=p.startAngle,ht=p.endAngle,St=p.getCenter(),kt=p.getRadius();return{type:"path",startState:{path:Ie(St.x,St.y,kt+h,$,$)},endState:function(te){var ne=(ht-$)*te+$,ve=Ie(St.x,St.y,kt+h,$,ne);return{path:ve}},attrs:{path:Ie(St.x,St.y,kt+h,$,ht)}}}var _t;return p.isTransposed?_t={height:w+h*2}:_t={width:M+h*2},{type:"rect",startState:{x:s.x-h,y:c.y-h,width:p.isTransposed?M+h*2:0,height:p.isTransposed?0:w+h*2},endState:_t,attrs:{x:s.x-h,y:c.y-h,width:M+h*2,height:w+h*2}}}function Qn(p,h){h===void 0&&(h=0);var s=p.start,c=p.end,M=p.getWidth(),w=p.getHeight(),$=Math.min(s.x,c.x),ht=Math.min(s.y,c.y);return tn.fromRange($-h,ht-h,$+M+h,ht+w+h)}var Bn=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Nn(p){var h="linear";return Bn.test(p)?h="timeCat":Object(o.isString)(p)&&(h="cat"),h}function Xn(p,h,s){var c=h||[];if(Object(o.isNumber)(p)||Object(o.isNil)(Object(o.firstValue)(c,p))&&Object(o.isEmpty)(s)){var M=Object(lt.d)("identity");return new M({field:p.toString(),values:[p]})}var w=Object(o.valuesOfKey)(c,p),$=Object(o.get)(s,"type",Nn(w[0])),ht=Object(lt.d)($);return new ht(Object(f.__assign)({field:p,values:w},s))}function ri(p,h){if(p.type!=="identity"&&h.type!=="identity"){var s={};for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(s[c]=h[c]);p.change(s)}}function In(p){return p.alias||p.field}function gi(p,h,s){var c=p.values,M=c.length,w;if(M===1)w=[.5,1];else{var $=1,ht=0;or(h)?h.isTransposed?($=Object(o.get)(s,"widthRatio.multiplePie",1/1.3),ht=1/M*$,w=[ht/2,1-ht/2]):w=[0,1-1/M]:(ht=1/M/2,w=[ht,1-ht])}return w}function oa(p){var h=p.values.filter(function(s){return!Object(o.isNil)(s)&&!isNaN(s)});return Math.max.apply(Math,Object(f.__spreadArrays)(h,[Object(o.isNil)(p.max)?-Infinity:p.max]))}function wa(p){var h,s;switch(p){case O.TOP:h={x:0,y:1},s={x:1,y:1};break;case O.RIGHT:h={x:1,y:0},s={x:1,y:1};break;case O.BOTTOM:h={x:0,y:0},s={x:1,y:0};break;case O.LEFT:h={x:0,y:0},s={x:0,y:1};break;default:h=s={x:0,y:0}}return{start:h,end:s}}function Ea(p){var h,s;return p.isTransposed?(h={x:0,y:0},s={x:1,y:0}):(h={x:0,y:0},s={x:0,y:1}),{start:h,end:s}}function Vi(p,h){var s={start:{x:0,y:0},end:{x:0,y:0}};p.isRect?s=wa(h):p.isPolar&&(s=Ea(p));var c=s.start,M=s.end;return{start:p.convert(c),end:p.convert(M)}}function fa(p,h){if(p.isRect)return p.isTransposed?[O.RIGHT,O.BOTTOM].includes(h)?1:-1:[O.BOTTOM,O.RIGHT].includes(h)?-1:1;if(p.isPolar){var s=p.x.start;return s<0?-1:1}return 1}function Li(p){var h=p.start,s=p.end;return h.x===s.x}function Ji(p,h){var s=p.start,c=p.end,M=Li(p);return M?(s.y-c.y)*(h.x-s.x)>0?1:-1:(c.x-s.x)*(s.y-h.y)>0?-1:1}function Xi(p,h){var s=Object(o.get)(p,["components","axis"],{});return Object(o.deepMix)({},Object(o.get)(s,["common"],{}),Object(o.deepMix)({},Object(o.get)(s,[h],{})))}function Hi(p,h,s){var c=Object(o.get)(p,["components","axis"],{});return Object(o.deepMix)({},Object(o.get)(c,["common","title"],{}),Object(o.deepMix)({},Object(o.get)(c,[h,"title"],{})),s)}function pa(p){var h=p.x,s=p.y,c=p.circleCenter,M=s.start>s.end,w=p.isTransposed?p.convert({x:M?0:1,y:0}):p.convert({x:0,y:M?0:1}),$=[w.x-c.x,w.y-c.y],ht=[1,0],St=w.y>c.y?H.c.angle($,ht):H.c.angle($,ht)*-1,kt=St+(h.end-h.start),_t=Math.sqrt(Math.pow(w.x-c.x,2)+Math.pow(w.y-c.y,2));return{center:c,radius:_t,startAngle:St,endAngle:kt}}function uo(p,h){return Object(o.isBoolean)(p)?p===!1?!1:{}:Object(o.get)(p,[h])}function Mo(p,h){return Object(o.get)(p,"position",h)}function co(p,h){return Object(o.get)(h,["title","text"],In(p))}var Sa=function(){function p(h,s){this.destroyed=!1,this.facets=[],this.view=h,this.cfg=Object(o.deepMix)({},this.getDefaultCfg(),s)}return p.prototype.init=function(){this.container||(this.container=this.createContainer());var h=this.view.getData();this.facets=this.generateFacets(h)},p.prototype.render=function(){this.renderViews()},p.prototype.update=function(){},p.prototype.clear=function(){this.clearFacetViews()},p.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},p.prototype.facetToView=function(h){var s=h.region,c=h.data,M=h.padding,w=M===void 0?this.cfg.padding:M,$=this.view.createView({region:s,padding:w});$.data(c||[]),h.view=$,this.beforeEachView($,h);var ht=this.cfg.eachView;return ht&&ht($,h),this.afterEachView($,h),$},p.prototype.createContainer=function(){var h=this.view.getLayer(x.FORE);return h.addGroup()},p.prototype.renderViews=function(){this.createFacetViews()},p.prototype.createFacetViews=function(){var h=this;return this.facets.map(function(s){return h.facetToView(s)})},p.prototype.clearFacetViews=function(){var h=this;Object(o.each)(this.facets,function(s){s.view&&(h.view.removeView(s.view),s.view=void 0)})},p.prototype.getFieldValues=function(h,s){var c=[],M={};return Object(o.each)(h,function(w){var $=w[s];!Object(o.isNil)($)&&!M[$]&&(c.push($),M[$]=!0)}),c},p.prototype.getRegion=function(h,s,c,M){var w=1/(s===0?1:s),$=1/(h===0?1:h),ht={x:w*c,y:$*M},St={x:w*(c+1),y:$*(M+1)};return{start:ht,end:St}},p.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},p.prototype.getDefaultTitleCfg=function(){var h=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:h}}},p.prototype.processAxis=function(h,s){var c=h.getOptions(),M=c.coordinate,w=h.geometries,$=Object(o.get)(M,"type","rect");if($==="rect"&&w.length){Object(o.isNil)(c.axes)&&(c.axes={});var ht=c.axes,St=w[0].getXYFields(),kt=St[0],_t=St[1],Zt=uo(ht,kt),te=uo(ht,_t);Zt!==!1&&(c.axes[kt]=this.getXAxisOption(kt,ht,Zt,s)),te!==!1&&(c.axes[_t]=this.getYAxisOption(_t,ht,te,s))}},p.prototype.getFacetDataFilter=function(h){return function(s){return Object(o.every)(h,function(c){var M=c.field,w=c.value;return!Object(o.isNil)(w)&&M?s[M]===w:!0})}},p}(),Wo={},zo=function(h){return Wo[Object(o.lowerCase)(h)]},ko=function(h,s){Wo[Object(o.lowerCase)(h)]=s},yl=function(){function p(h,s){this.context=h,this.cfg=s,h.addAction(this)}return p.prototype.applyCfg=function(h){Object(o.assign)(this,h)},p.prototype.init=function(){this.applyCfg(this.cfg)},p.prototype.destroy=function(){this.context.removeAction(this),this.context=null},p}(),ya=yl,ml=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.execute=function(){this.callback&&this.callback(this.context)},h.prototype.destroy=function(){p.prototype.destroy.call(this),this.callback=null},h}(ya),Ms=ml,ls={};function Cs(p,h){var s=ls[p],c=null;if(s){var M=s.ActionClass,w=s.cfg;c=new M(h,w),c.name=p,c.init()}return c}function qs(p){var h=ls[p];return Object(o.get)(h,"ActionClass")}function li(p,h,s){ls[p]={ActionClass:h,cfg:s}}function Fl(p){delete ls[p]}function Vo(p,h){var s=new Ms(h);return s.callback=p,s.name="callback",s}function Gs(p,h){var s=[];if(p.length){s.push(["M",p[0].x,p[0].y]);for(var c=1,M=p.length;c<M;c+=1){var w=p[c];s.push(["L",w.x,w.y])}h&&s.push(["Z"])}return s}function Us(p,h){for(var s=[p[0]],c=1,M=p.length;c<M;c=c+2){var w=h.convert({x:p[c],y:p[c+1]});s.push(w.x,w.y)}return s}function pe(p,h){var s=h.isTransposed,c=p[1],M=p[6],w=p[7],$=h.convert({x:M,y:w}),ht=s?0:1;return["A",c,c,0,0,ht,$.x,$.y]}function se(p,h,s){var c=s.isTransposed,M=s.startAngle,w=s.endAngle,$=p[0].toLowerCase()==="a"?{x:p[6],y:p[7]}:{x:p[1],y:p[2]},ht={x:h[1],y:h[2]},St=[],kt=c?"y":"x",_t=Math.abs(ht[kt]-$[kt])*(w-M),Zt=ht[kt]>=$[kt]?1:0,te=_t>Math.PI?1:0,ne=s.convert(ht),ve=Gr(s,ne);if(ve>=.5)if(_t===Math.PI*2){var Oe={x:(ht.x+$.x)/2,y:(ht.y+$.y)/2},Ke=s.convert(Oe);St.push(["A",ve,ve,0,te,Zt,Ke.x,Ke.y]),St.push(["A",ve,ve,0,te,Zt,ne.x,ne.y])}else St.push(["A",ve,ve,0,te,Zt,ne.x,ne.y]);return St}function ye(p){Object(o.each)(p,function(h,s){var c=h;if(c[0].toLowerCase()==="a"){var M=p[s-1],w=p[s+1];w&&w[0].toLowerCase()==="a"?M&&M[0].toLowerCase()==="l"&&(M[0]="M"):M&&M[0].toLowerCase()==="a"&&w&&w[0].toLowerCase()==="l"&&(w[0]="M")}})}var ke=function(h,s,c,M){var w=[],$,ht,St=!!M,kt,_t;if(St){kt=[Infinity,Infinity],_t=[-Infinity,-Infinity];for(var Zt=0,te=h.length;Zt<te;Zt++){var ne=h[Zt];kt=H.c.min([0,0],kt,ne),_t=H.c.max([0,0],_t,ne)}kt=H.c.min([0,0],kt,M[0]),_t=H.c.max([0,0],_t,M[1])}for(var Zt=0,ve=h.length;Zt<ve;Zt++){var ne=h[Zt];if(c)$=h[Zt?Zt-1:ve-1],ht=h[(Zt+1)%ve];else if(Zt===0||Zt===ve-1){w.push(ne);continue}else $=h[Zt-1],ht=h[Zt+1];var Oe=[0,0];Oe=H.c.sub(Oe,ht,$),Oe=H.c.scale(Oe,Oe,s);var Ke=H.c.distance(ne,$),tr=H.c.distance(ne,ht),mr=Ke+tr;mr!==0&&(Ke/=mr,tr/=mr);var Or=H.c.scale([0,0],Oe,-Ke),yn=H.c.scale([0,0],Oe,tr),sn=H.c.add([0,0],ne,Or),mn=H.c.add([0,0],ne,yn);St&&(sn=H.c.max([0,0],sn,kt),sn=H.c.min([0,0],sn,_t),mn=H.c.max([0,0],mn,kt),mn=H.c.min([0,0],mn,_t)),w.push(sn),w.push(mn)}return c&&w.push(w.shift()),w};function Xe(p,h,s){for(var c=!!h,M=[],w=0,$=p.length;w<$;w+=2)M.push([p[w],p[w+1]]);for(var ht=ke(M,.4,c,s),St=M.length,kt=[],_t,Zt,te,w=0;w<St-1;w++)_t=ht[w*2],Zt=ht[w*2+1],te=M[w+1],kt.push(["C",_t[0],_t[1],Zt[0],Zt[1],te[0],te[1]]);return c&&(_t=ht[St],Zt=ht[St+1],te=M[0],kt.push(["C",_t[0],_t[1],Zt[0],Zt[1],te[0],te[1]])),kt}function hr(p,h){return Gs(p,h)}function Wr(p,h,s){var c=[],M=p[0],w=null;if(p.length<=2)return hr(p,h);for(var $=0,ht=p.length;$<ht;$++){var St=p[$];(!w||!(w.x===St.x&&w.y===St.y))&&(c.push(St.x),c.push(St.y),w=St)}var kt=s||[[0,0],[1,1]],_t=Xe(c,h,kt);return _t.unshift(["M",M.x,M.y]),_t}function hn(p,h){var s=[];return Object(o.each)(h,function(c){var M=c[0];switch(M.toLowerCase()){case"m":case"l":case"c":s.push(Us(c,p));break;case"a":s.push(pe(c,p));break;case"z":default:s.push(c);break}}),s}function Vn(p,h){var s=[],c,M,w,$;return Object(o.each)(h,function(ht,St){var kt=ht[0];switch(kt.toLowerCase()){case"m":case"c":case"q":s.push(Us(ht,p));break;case"l":c=h[St-1],M=ht,w=p.isTransposed,$=w?c[c.length-2]===M[1]:c[c.length-1]===M[2],$?s=s.concat(se(c,M,p)):s.push(Us(ht,p));break;case"a":s.push(pe(ht,p));break;case"z":default:s.push(ht);break}}),ye(s),s}var Ln=a("WOt1");function xn(p,h){var s=p.event,c=s.target,M=c.getCanvasBBox();return M.width>=h||M.height>=h?M:null}function Fi(p,h){var s=p.event,c=s.target,M=c.getCanvasBBox();return M.width>=h||M.height>=h?c.attr("path"):null}function ji(p){var h=p.event,s,c=h.target;return c&&(s=c.get("element")),s}function sa(p){var h=p.event,s=h.target,c;return s&&(c=s.get("delegateObject")),c}function he(p){var h=p.event.gEvent;return!(h&&h.fromShape&&h.toShape&&h.fromShape.get("element")===h.toShape.get("element"))}function Ia(p){return p&&p.component&&p.component.isList()}function fo(p){return p&&p.component&&p.component.isSlider()}function ho(p){var h=p.event,s=h.target;return s&&s.get("name")==="mask"}function Ba(p,h){var s=p.event.target;if(s.get("type")==="path"){var c=Fi(p,h);return c?Co(p.view,c):void 0}var M=xn(p,h);return M?$o(p.view,M):null}function Xo(p,h,s){var c=xn(p,s);if(!c)return null;var M=p.view,w=Qo(M,h,{x:c.x,y:c.y}),$=Qo(M,h,{x:c.maxX,y:c.maxY}),ht={minX:w.x,minY:w.y,maxX:$.x,maxY:$.y};return $o(h,ht)}function Gn(p){var h=p.geometries,s=[];return Object(o.each)(h,function(c){var M=c.elements;s=s.concat(M)}),p.views&&p.views.length&&Object(o.each)(p.views,function(c){s=s.concat(Gn(c))}),s}function Xa(p,h,s){var c=Gn(p);return c.filter(function(M){return Ya(M,h)===s})}function Ha(p,h){var s=p.geometries,c=[];return Object(o.each)(s,function(M){var w=M.getElementsBy(function($){return $.hasState(h)});c=c.concat(w)}),c}function Ya(p,h){var s=p.getModel(),c=s.data,M;return Object(o.isArray)(c)?M=c[0][h]:M=c[h],M}function jo(p,h){return!(h.minX>p.maxX||h.maxX<p.minX||h.minY>p.maxY||h.maxY<p.minY)}function $o(p,h){var s=Gn(p),c=[];return Object(o.each)(s,function(M){var w=M.shape,$=w.getCanvasBBox();jo(h,$)&&c.push(M)}),c}function ps(p){var h=[];return Object(o.each)(p,function(s){var c=s[0];if(c!=="A")for(var M=1;M<s.length;M=M+2)h.push([s[M],s[M+1]]);else{var w=s.length;h.push([s[w-2],s[w-1]])}}),h}function Co(p,h){var s=Gn(p),c=ps(h),M=s.filter(function(w){var $=w.shape,ht;if($.get("type")==="path")ht=ps($.attr("path"));else{var St=$.getCanvasBBox();ht=Ur(St)}return Object(Ln.b)(c,ht)});return M}function us(p){return p.getComponents().map(function(h){return h.component})}function Ma(p,h){var s=h.x-p.x,c=h.y-p.y;return Math.sqrt(s*s+c*c)}function Ho(p,h){if(p.length<=2)return hr(p,!1);var s=p[0],c=[];Object(o.each)(p,function(w){c.push(w.x),c.push(w.y)});var M=Xe(c,h,null);return M.unshift(["M",s.x,s.y]),M}function ys(p,h){return p.x<=h.x&&p.maxX>=h.x&&p.y<=h.y&&p.maxY>h.y}function bo(p){var h=p.parent,s=null;return h&&(s=h.views.filter(function(c){return c!==p})),s}function tl(p,h){var s=p.getCoordinate();return s.invert(h)}function Qo(p,h,s){var c=tl(p,s);return h.getCoordinate().convert(c)}function Ws(p,h,s,c){var M=!1;return Object(o.each)(p,function(w){if(w[s]===h[s]&&w[c]===h[c])return M=!0,!1}),M}function Yo(p,h){var s=p.getScaleByField(h);return!s&&p.views&&Object(o.each)(p.views,function(c){if(s=Yo(c,h),s)return!1}),s}var Jo=function(){function p(h){this.actions=[],this.event=null,this.cacheMap={},this.view=h}return p.prototype.cache=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];if(h.length===1)return this.cacheMap[h[0]];h.length===2&&(this.cacheMap[h[0]]=h[1])},p.prototype.getAction=function(h){return this.actions.find(function(s){return s.name===h})},p.prototype.addAction=function(h){this.actions.push(h)},p.prototype.removeAction=function(h){var s=this.actions,c=this.actions.indexOf(h);c>=0&&s.splice(c,1)},p.prototype.getCurrentPoint=function(){var h=this.event;if(h)if(h.target instanceof HTMLElement){var s=this.view.getCanvas(),c=s.getPointByClient(h.clientX,h.clientY);return c}else return{x:h.x,y:h.y};return null},p.prototype.getCurrentShape=function(){return Object(o.get)(this.event,["gEvent","shape"])},p.prototype.isInPlot=function(){var h=this.getCurrentPoint();return h?this.view.isPointInPlot(h):!1},p.prototype.isInShape=function(h){var s=this.getCurrentShape();return s?s.get("name")===h:!1},p.prototype.isInComponent=function(h){var s=us(this.view),c=this.getCurrentPoint();return c?!!s.find(function(M){var w=M.getBBox();return h?M.get("name")===h&&ys(w,c):ys(w,c)}):!1},p.prototype.destroy=function(){this.view=null,this.event=null,Object(o.each)(this.actions.slice(),function(h){h.destroy()}),this.actions=null,this.cacheMap=null},p}(),As=Jo,Ts=function(){function p(h,s){this.view=h,this.cfg=s}return p.prototype.init=function(){this.initEvents()},p.prototype.initEvents=function(){},p.prototype.clearEvents=function(){},p.prototype.destroy=function(){this.clearEvents()},p}(),Ds=Ts;function bl(p,h,s){var c=p.split(":"),M=c[0],w=h.getAction(M)||Cs(M,h);if(!w)throw new Error("There is no action named "+M);var $=c[1];return{action:w,methodName:$,arg:s}}function Ol(p){var h=p.action,s=p.methodName,c=p.arg;if(h[s])h[s](c);else throw new Error("Action("+h.name+") doesn't have a method called "+s)}var X={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Mt=function(p){Object(f.__extends)(h,p);function h(s,c){var M=p.call(this,s,c)||this;return M.callbackCaches={},M.emitCaches={},M.steps=c,M}return h.prototype.init=function(){this.initContext(),p.prototype.init.call(this)},h.prototype.destroy=function(){p.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},h.prototype.initEvents=function(){var s=this;Object(o.each)(this.steps,function(c,M){Object(o.each)(c,function(w){var $=s.getActionCallback(M,w);$&&s.bindEvent(w.trigger,$)})})},h.prototype.clearEvents=function(){var s=this;Object(o.each)(this.steps,function(c,M){Object(o.each)(c,function(w){var $=s.getActionCallback(M,w);$&&s.offEvent(w.trigger,$)})})},h.prototype.initContext=function(){var s=this.view,c=new As(s);this.context=c;var M=this.steps;Object(o.each)(M,function(w){Object(o.each)(w,function($){if(Object(o.isFunction)($.action))$.actionObject={action:Vo($.action,c),methodName:"execute"};else if(Object(o.isString)($.action))$.actionObject=bl($.action,c,$.arg);else if(Object(o.isArray)($.action)){var ht=$.action,St=Object(o.isArray)($.arg)?$.arg:[$.arg];$.actionObject=[],Object(o.each)(ht,function(kt,_t){$.actionObject.push(bl(kt,c,St[_t]))})}})})},h.prototype.isAllowStep=function(s){var c=this.currentStepName,M=this.steps;if(c===s||s===X.SHOW_ENABLE)return!0;if(s===X.PROCESSING)return c===X.START;if(s===X.START)return c!==X.PROCESSING;if(s===X.END)return c===X.PROCESSING||c===X.START;if(s===X.ROLLBACK){if(M[X.END])return c===X.END;if(c===X.START)return!0}return!1},h.prototype.isAllowExecute=function(s,c){if(this.isAllowStep(s)){var M=this.getKey(s,c);return c.once&&this.emitCaches[M]?!1:c.isEnable?c.isEnable(this.context):!0}return!1},h.prototype.enterStep=function(s){this.currentStepName=s,this.emitCaches={}},h.prototype.afterExecute=function(s,c){s!==X.SHOW_ENABLE&&this.currentStepName!==s&&this.enterStep(s);var M=this.getKey(s,c);this.emitCaches[M]=!0},h.prototype.getKey=function(s,c){return s+c.trigger+c.action},h.prototype.getActionCallback=function(s,c){var M=this,w=this.context,$=this.callbackCaches,ht=c.actionObject;if(c.action&&ht){var St=this.getKey(s,c);if(!$[St]){var kt=function(Zt){w.event=Zt,M.isAllowExecute(s,c)?(Object(o.isArray)(ht)?Object(o.each)(ht,function(te){w.event=Zt,Ol(te)}):(w.event=Zt,Ol(ht)),M.afterExecute(s,c),c.callback&&(w.event=Zt,c.callback(w))):w.event=null};c.debounce?$[St]=Object(o.debounce)(kt,c.debounce.wait,c.debounce.immediate):c.throttle?$[St]=Object(o.throttle)(kt,c.throttle.wait,{leading:c.throttle.leading,trailing:c.throttle.trailing}):$[St]=kt}return $[St]}return null},h.prototype.bindEvent=function(s,c){var M=s.split(":");M[0]==="window"?window.addEventListener(M[1],c):M[0]==="document"?document.addEventListener(M[1],c):this.view.on(s,c)},h.prototype.offEvent=function(s,c){var M=s.split(":");M[0]==="window"?window.removeEventListener(M[1],c):M[0]==="document"?document.removeEventListener(M[1],c):this.view.off(s,c)},h}(Ds),Qt=Mt,ae={};function de(p){return ae[Object(o.lowerCase)(p)]}function xe(p,h){ae[Object(o.lowerCase)(p)]=h}function je(p,h,s){var c=de(p);if(!c)return null;if(Object(o.isPlainObject)(c)){var M=Object(o.mix)(Object(o.clone)(c),s);return new Qt(h,M)}else{var w=c;return new w(h,s)}}function Fe(p){return{title:{autoRotate:!0,position:"center",spacing:p.axisTitleSpacing,style:{fill:p.axisTitleTextFillColor,fontSize:p.axisTitleTextFontSize,lineHeight:p.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:p.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:p.axisLabelOffset,style:{fill:p.axisLabelFillColor,fontSize:p.axisLabelFontSize,lineHeight:p.axisLabelLineHeight,fontFamily:p.fontFamily}},line:{style:{lineWidth:p.axisLineBorder,stroke:p.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:p.axisGridBorderColor,lineWidth:p.axisGridBorder,lineDash:p.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:p.axisTickLineBorder,stroke:p.axisTickLineBorderColor},alignTick:!0,length:p.axisTickLineLength},subTickLine:null,animate:!0}}function ze(p){return{title:null,marker:{symbol:"circle",spacing:p.legendMarkerSpacing,style:{r:p.legendCircleMarkerSize,fill:p.legendMarkerColor}},itemName:{spacing:5,style:{fill:p.legendItemNameFillColor,fontFamily:p.fontFamily,fontSize:p.legendItemNameFontSize,lineHeight:p.legendItemNameLineHeight,fontWeight:p.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:p.legendPageNavigatorMarkerSize,inactiveFill:p.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:p.legendPageNavigatorMarkerInactiveFillOpacity,fill:p.legendPageNavigatorMarkerFillColor,opacity:p.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:p.legendPageNavigatorTextFillColor,fontSize:p.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:p.legendItemSpacing,itemMarginBottom:p.legendItemMarginBottom,padding:p.legendPadding}}function Qe(p){var h,s={point:{default:{fill:p.pointFillColor,r:p.pointSize,stroke:p.pointBorderColor,lineWidth:p.pointBorder,fillOpacity:p.pointFillOpacity},active:{stroke:p.pointActiveBorderColor,lineWidth:p.pointActiveBorder},selected:{stroke:p.pointSelectedBorderColor,lineWidth:p.pointSelectedBorder},inactive:{fillOpacity:p.pointInactiveFillOpacity,strokeOpacity:p.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:p.hollowPointFillColor,lineWidth:p.hollowPointBorder,stroke:p.hollowPointBorderColor,strokeOpacity:p.hollowPointBorderOpacity,r:p.hollowPointSize},active:{stroke:p.hollowPointActiveBorderColor,strokeOpacity:p.hollowPointActiveBorderOpacity},selected:{lineWidth:p.hollowPointSelectedBorder,stroke:p.hollowPointSelectedBorderColor,strokeOpacity:p.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:p.hollowPointInactiveBorderOpacity}},area:{default:{fill:p.areaFillColor,fillOpacity:p.areaFillOpacity,stroke:null},active:{fillOpacity:p.areaActiveFillOpacity},selected:{fillOpacity:p.areaSelectedFillOpacity},inactive:{fillOpacity:p.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:p.hollowAreaBorderColor,lineWidth:p.hollowAreaBorder,strokeOpacity:p.hollowAreaBorderOpacity},active:{fill:null,lineWidth:p.hollowAreaActiveBorder},selected:{fill:null,lineWidth:p.hollowAreaSelectedBorder},inactive:{strokeOpacity:p.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:p.intervalFillColor,fillOpacity:p.intervalFillOpacity},active:{stroke:p.intervalActiveBorderColor,lineWidth:p.intervalActiveBorder},selected:{stroke:p.intervalSelectedBorderColor,lineWidth:p.intervalSelectedBorder},inactive:{fillOpacity:p.intervalInactiveFillOpacity,strokeOpacity:p.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:p.hollowIntervalFillColor,stroke:p.hollowIntervalBorderColor,lineWidth:p.hollowIntervalBorder,strokeOpacity:p.hollowIntervalBorderOpacity},active:{stroke:p.hollowIntervalActiveBorderColor,lineWidth:p.hollowIntervalActiveBorder,strokeOpacity:p.hollowIntervalActiveBorderOpacity},selected:{stroke:p.hollowIntervalSelectedBorderColor,lineWidth:p.hollowIntervalSelectedBorder,strokeOpacity:p.hollowIntervalSelectedBorderOpacity},inactive:{stroke:p.hollowIntervalInactiveBorderColor,lineWidth:p.hollowIntervalInactiveBorder,strokeOpacity:p.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:p.lineBorderColor,lineWidth:p.lineBorder,strokeOpacity:p.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:p.lineActiveBorder},selected:{lineWidth:p.lineSelectedBorder},inactive:{strokeOpacity:p.lineInactiveBorderOpacity}}},c=Fe(p),M=ze(p);return{background:p.backgroundColor,defaultColor:p.brandColor,subColor:p.subColor,semanticRed:p.paletteSemanticRed,semanticGreen:p.paletteSemanticGreen,padding:"auto",fontFamily:p.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:p.paletteQualitative10,colors20:p.paletteQualitative20,sequenceColors:p.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:function($){var ht=$.geometry.coordinate;if(ht.isPolar&&ht.isTransposed){var St=lr($.getModel(),ht),kt=St.startAngle,_t=St.endAngle,Zt=(kt+_t)/2,te=7.5,ne=te*Math.cos(Zt),ve=te*Math.sin(Zt);return{matrix:H.a.transform(null,[["t",ne,ve]])}}return s.interval.selected}}},"hollow-rect":{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},line:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},tick:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},funnel:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}},pyramid:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},line:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},dot:{default:{style:Object(f.__assign)(Object(f.__assign)({},s.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(f.__assign)(Object(f.__assign)({},s.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(f.__assign)(Object(f.__assign)({},s.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(f.__assign)(Object(f.__assign)({},s.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(f.__assign)(Object(f.__assign)({},s.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(f.__assign)(Object(f.__assign)({},s.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(f.__assign)(Object(f.__assign)({},s.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(f.__assign)(Object(f.__assign)({},s.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hvh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}},polygon:{polygon:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},point:{circle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},square:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},bowtie:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},diamond:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},hexagon:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},triangle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"triangle-down":{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"hollow-circle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-square":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-bowtie":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-diamond":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-hexagon":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle-down":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},cross:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},tick:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},plus:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},hyphen:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},line:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}}},area:{area:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},smooth:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},line:{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}},"smooth-line":{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}}},schema:{candle:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},box:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}}},edge:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},arc:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}},violin:{violin:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hollow:{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}},"hollow-smooth":{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}}}},components:{axis:{common:c,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(o.deepMix)({},c.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(o.deepMix)({},c.grid,{line:{type:"circle"}})}},legend:{common:M,right:{layout:"vertical",padding:p.legendVerticalPadding},left:{layout:"vertical",padding:p.legendVerticalPadding},top:{layout:"horizontal",padding:p.legendHorizontalPadding},bottom:{layout:"horizontal",padding:p.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:p.sliderRailHeight,defaultLength:p.sliderRailWidth,style:{fill:p.sliderRailFillColor,stroke:p.sliderRailBorderColor,lineWidth:p.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:p.sliderLabelTextFillColor,fontSize:p.sliderLabelTextFontSize,lineHeight:p.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:p.fontFamily}},handler:{size:p.sliderHandlerWidth,style:{fill:p.sliderHandlerFillColor,stroke:p.sliderHandlerBorderColor}},slidable:!0,padding:M.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:p.tooltipCrosshairsBorderColor,lineWidth:p.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(h={},h[""+Ft.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:p.tooltipContainerFillColor,opacity:p.tooltipContainerFillOpacity,boxShadow:p.tooltipContainerShadow,borderRadius:p.tooltipContainerBorderRadius+"px",color:p.tooltipTextFillColor,fontSize:p.tooltipTextFontSize+"px",fontFamily:p.fontFamily,lineHeight:p.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},h[""+Ft.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},h[""+Ft.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},h[""+Ft.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},h[""+Ft.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},h[""+Ft.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},h)},annotation:{arc:{style:{stroke:p.annotationArcBorderColor,lineWidth:p.annotationArcBorder},animate:!0},line:{style:{stroke:p.annotationLineBorderColor,lineDash:p.annotationLineDash,lineWidth:p.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:p.annotationTextFillColor,stroke:p.annotationTextBorderColor,lineWidth:p.annotationTextBorder,fontSize:p.annotationTextFontSize,textAlign:"start",fontFamily:p.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:p.annotationTextFillColor,stroke:p.annotationTextBorderColor,lineWidth:p.annotationTextBorder,fontSize:p.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:p.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:p.annotationRegionBorder,stroke:p.annotationRegionBorderColor,fill:p.annotationRegionFillColor,fillOpacity:p.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:p.brandColor,lineWidth:2}},line:{style:{stroke:p.annotationLineBorderColor,lineWidth:p.annotationLineBorder},length:p.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:p.annotationTextFillColor,stroke:p.annotationTextBorderColor,lineWidth:p.annotationTextBorder,fontSize:p.annotationTextFontSize,fontFamily:p.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:p.annotationRegionFillColor,fillOpacity:p.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:p.annotationTextFillColor,stroke:p.annotationTextBorderColor,lineWidth:p.annotationTextBorder,fontSize:p.annotationTextFontSize,fontFamily:p.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:p.cSliderBackgroundFillColor,opacity:p.cSliderBackgroundFillOpacity},foregroundStyle:{fill:p.cSliderForegroundFillColor,opacity:p.cSliderForegroundFillOpacity},handlerStyle:{width:p.cSliderHandlerWidth,height:p.cSliderHandlerHeight,fill:p.cSliderHandlerFillColor,opacity:p.cSliderHandlerFillOpacity,stroke:p.cSliderHandlerBorderColor,lineWidth:p.cSliderHandlerBorder,radius:p.cSliderHandlerBorderRadius,highLightFill:p.cSliderHandlerHighlightFillColor},textStyle:{fill:p.cSliderTextFillColor,opacity:p.cSliderTextFillOpacity,fontSize:p.cSliderTextFontSize,lineHeight:p.cSliderTextLineHeight,fontWeight:p.cSliderTextFontWeight,stroke:p.cSliderTextBorderColor,lineWidth:p.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:p.scrollbarTrackFillColor,thumbColor:p.scrollbarThumbFillColor}},hover:{style:{thumbColor:p.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:p.labelFillColor,fontSize:p.labelFontSize,fontFamily:p.fontFamily,stroke:p.labelBorderColor,lineWidth:p.labelBorder},fillColorDark:p.labelFillColorDark,fillColorLight:p.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:p.innerLabelFillColor,fontSize:p.innerLabelFontSize,fontFamily:p.fontFamily,stroke:p.innerLabelBorderColor,lineWidth:p.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:p.overflowLabelFillColor,fontSize:p.overflowLabelFontSize,fontFamily:p.fontFamily,stroke:p.overflowLabelBorderColor,lineWidth:p.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:p.labelLineBorder}},autoRotate:!0}}}var Ze={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},jr={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Pr=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Tr=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],un=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],pn=function(h){h===void 0&&(h={});var s=h.backgroundColor,c=s===void 0?"transparent":s,M=h.subColor,w=M===void 0?"rgba(0,0,0,0.05)":M,$=h.paletteQualitative10,ht=$===void 0?Pr:$,St=h.paletteQualitative20,kt=St===void 0?Tr:St,_t=h.paletteSemanticRed,Zt=_t===void 0?"#F4664A":_t,te=h.paletteSemanticGreen,ne=te===void 0?"#30BF78":te,ve=h.paletteSemanticYellow,Oe=ve===void 0?"#FAAD14":ve,Ke=h.paletteSequence,tr=Ke===void 0?un:Ke,mr=h.fontFamily,Or=mr===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:mr,yn=h.brandColor,sn=yn===void 0?ht[0]:yn;return{backgroundColor:c,brandColor:sn,subColor:w,paletteQualitative10:ht,paletteQualitative20:kt,paletteSemanticRed:Zt,paletteSemanticGreen:ne,paletteSemanticYellow:Oe,paletteSequence:tr,fontFamily:Or,axisLineBorderColor:Ze[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ze[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Ze[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ze[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ze[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ze[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ze[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:sn,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ze[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ze[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ze[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Ze[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ze[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ze[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Ze[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Ze[25],annotationArcBorderColor:Ze[15],annotationArcBorder:1,annotationLineBorderColor:Ze[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ze[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ze[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ze[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ze[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ze[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:jr[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ze[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:jr[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ze[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:sn,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:jr[100],pointBorderOpacity:1,pointActiveBorderColor:Ze[100],pointSelectedBorder:2,pointSelectedBorderColor:Ze[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:sn,hollowPointBorderOpacity:.95,hollowPointFillColor:jr[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ze[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ze[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:sn,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:sn,areaFillOpacity:.25,areaActiveFillColor:sn,areaActiveFillOpacity:.5,areaSelectedFillColor:sn,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:sn,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ze[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ze[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:sn,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ze[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ze[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:sn,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:jr[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ze[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ze[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},zr=pn();function Pn(p){var h=p.styleSheet,s=h===void 0?{}:h,c=Object(f.__rest)(p,["styleSheet"]),M=pn(s);return Object(o.deepMix)({},Qe(M),c)}var Si=Pn({}),Jn={default:Si};function qn(p){return Object(o.get)(Jn,Object(o.lowerCase)(p),Jn.default)}function hi(p,h){Jn[Object(o.lowerCase)(p)]=Pn(h)}function ii(p,h,s){var c=s.translate(p),M=s.translate(h);return Object(o.isNumberEqual)(c,M)}function xi(p,h){var s=h.coordinate,c=h.getXScale(),M=c.range,w=M[M.length-1],$=M[0],ht=s.invert(p),St=ht.x;return s.isPolar&&St>(1+w)/2&&(St=$),c.translate(c.invert(St))}function Wi(p,h,s){var c=s.coordinate,M=s.getYScale(),w=M.field,$=c.invert(h),ht=M.invert($.y),St=Object(o.find)(p,function(kt){var _t=kt[T];return _t[w][0]<=ht&&_t[w][1]>=ht});return St||p[p.length-1]}var la=Object(o.memoize)(function(p){if(p.isCategory)return 1;for(var h=p.values,s=h.length,c=p.translate(h[0]),M=c,w=0;w<s;w++){var $=h[w],ht=p.translate($);ht<c&&(c=ht),ht>M&&(M=ht)}return(M-c)/(s-1)});function Pi(p,h,s){var c=h.getAttribute("position"),M=c.getFields(),w=h.scales,$=Object(o.isFunction)(s)||!s?M[0]:s,ht=w[$],St=ht?ht.getText(p[$]):p[$]||$;return Object(o.isFunction)(s)?s(St,p):St}function ta(p){var h=Object(o.values)(p.attributes);return Object(o.filter)(h,function(s){return Object(o.contains)(m,s.type)})}function Yi(p){for(var h=ta(p),s,c=0,M=h;c<M.length;c++){var w=M[c],$=w.getScale(w.type);if($&&$.isLinear){s=$;break}}var ht=p.getXScale(),St=p.getYScale();return s||St||ht}function zi(p,h){var s=h.field,c=p[s];if(Object(o.isArray)(c)){var M=c.map(function(w){return h.getText(w)});return M.join("-")}return h.getText(c)}function Ei(p,h){var s,c=h.getGroupScales();if(c.length&&(s=c[0]),s){var M=s.field;return s.getText(p[M])}var w=Yi(h);return In(w)}function Me(p,h,s){if(h.length===0)return null;var c=s.type,M=s.getXScale(),w=s.getYScale(),$=M.field,ht=w.field,St=null;if(c==="heatmap"||c==="point"){for(var kt=s.coordinate,_t=kt.invert(p),Zt=M.invert(_t.x),te=w.invert(_t.y),ne=Infinity,ve=0;ve<h.length;ve++){var Oe=h[ve],Ke=Oe[T],tr=Math.pow(Ke[$]-Zt,2)+Math.pow(Ke[ht]-te,2);tr<ne&&(ne=tr,St=Oe)}return St}var mr=h[0],Or=h[h.length-1],yn=xi(p,s),sn=mr[T][$],mn=mr[T][ht],di=Or[T][$],Zn=w.isLinear&&Object(o.isArray)(mn);if(Object(o.isArray)(sn)){for(var ve=0;ve<h.length;ve++){var $n=h[ve],Ke=$n[T];if(M.translate(Ke[$][0])<=yn&&M.translate(Ke[$][1])>=yn)if(Zn)Object(o.isArray)(St)||(St=[]),St.push($n);else{St=$n;break}}Object(o.isArray)(St)&&(St=Wi(St,p,s))}else{var Di=void 0;if(!M.isLinear&&M.type!=="timeCat"){for(var ve=0;ve<h.length;ve++){var $n=h[ve],Ke=$n[T];if(ii(Ke[$],yn,M))if(Zn)Object(o.isArray)(St)||(St=[]),St.push($n);else{St=$n;break}else M.translate(Ke[$])<=yn&&(Or=$n,Di=h[ve+1])}Object(o.isArray)(St)&&(St=Wi(St,p,s))}else{if((yn>M.translate(di)||yn<M.translate(sn))&&(yn>M.max||yn<M.min))return null;for(var ra=0,_i=h.length-1,Qa=void 0;ra<=_i;){Qa=Math.floor((ra+_i)/2);var Fo=h[Qa][T][$];if(ii(Fo,yn,M))return h[Qa];M.translate(Fo)<=M.translate(yn)?(ra=Qa+1,Or=h[Qa],Di=h[Qa+1]):(_i===0&&(Or=h[0]),_i=Qa-1)}}Or&&Di&&Math.abs(M.translate(Or[T][$])-yn)>Math.abs(M.translate(Di[T][$])-yn)&&(Or=Di)}var Do=la(s.getXScale());return!St&&Math.abs(M.translate(Or[T][$])-yn)<=Do/2&&(St=Or),St}function le(p,h,s,c){s===void 0&&(s=""),c===void 0&&(c=!1);var M=p[T],w=Pi(M,h,s),$=h.tooltipOption,ht=h.theme.defaultColor,St=[],kt,_t;function Zt(di,Zn){if(c||!Object(o.isNil)(Zn)&&Zn!==""){var $n={title:w,data:M,mappingData:p,name:di,value:Zn,color:p.color||ht,marker:!0};St.push($n)}}if(Object(o.isObject)($)){var te=$.fields,ne=$.callback;if(ne){var ve=te.map(function(di){return p[T][di]}),Oe=ne.apply(void 0,ve),Ke=Object(f.__assign)({data:p[T],mappingData:p,title:w,color:p.color||ht,marker:!0},Oe);St.push(Ke)}else for(var tr=h.scales,mr=0,Or=te;mr<Or.length;mr++){var yn=Or[mr];if(!Object(o.isNil)(M[yn])){var sn=tr[yn];kt=In(sn),_t=sn.getText(M[yn]),Zt(kt,_t)}}}else{var mn=Yi(h);_t=zi(M,mn),kt=Ei(M,h),Zt(kt,_t)}return St}function we(p){return!Object(o.isNumber)(p)&&!Object(o.isArray)(p)}function He(p){p===void 0&&(p=0);var h=Object(o.isArray)(p)?p:[p];switch(h.length){case 0:h=[0,0,0,0];break;case 1:h=new Array(4).fill(h[0]);break;case 2:h=Object(f.__spreadArrays)(h,h);break;case 3:h=Object(f.__spreadArrays)(h,[h[1]]);break;default:h=h.slice(0,4);break}return h}var br={};function nn(p,h){br[p]=h}function ai(p){delete br[p]}function Bi(){return Object.keys(br)}function to(p){return br[p]}var el=function(){function p(h){this.option=this.wrapperOption(h)}return p.prototype.update=function(h){return this.option=this.wrapperOption(h),this},p.prototype.hasAction=function(h){var s=this.option.actions;return Object(o.some)(s,function(c){return c[0]===h})},p.prototype.create=function(h,s){var c=this.option,M=c.type,w=c.cfg,$=M==="theta",ht=Object(f.__assign)({start:h,end:s},w),St=at($?"polar":M);return this.coordinate=new St(ht),this.coordinate.type=M,$&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},p.prototype.adjust=function(h,s){return this.coordinate.update({start:h,end:s}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},p.prototype.rotate=function(h){return this.option.actions.push(["rotate",h]),this},p.prototype.reflect=function(h){return this.option.actions.push(["reflect",h]),this},p.prototype.scale=function(h,s){return this.option.actions.push(["scale",h,s]),this},p.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},p.prototype.getOption=function(){return this.option},p.prototype.getCoordinate=function(){return this.coordinate},p.prototype.wrapperOption=function(h){return Object(f.__assign)({type:"rect",actions:[],cfg:{}},h)},p.prototype.execActions=function(h){var s=this,c=this.option.actions;Object(o.each)(c,function(M){var w,$=M[0],ht=M.slice(1),St=Object(o.isNil)(h)?!0:h.includes($);St&&(w=s.coordinate)[$].apply(w,ht)})},p}(),Ko=el,zs=function(){function p(h,s,c){this.view=h,this.gEvent=s,this.data=c,this.type=s.type}return p.fromData=function(h,s,c){return new p(h,new K.Event(s,{}),c)},Object.defineProperty(p.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),p.prototype.toString=function(){return"[Event (type="+this.type+")]"},p.prototype.clone=function(){return new p(this.view,this.gEvent,this.data)},p}(),Ao=zs;function hf(p){var h=p.getController("axis"),s=p.getController("legend"),c=p.getController("annotation"),M=p.getController("slider"),w=p.getController("scrollbar");[h,M,w,s,c].forEach(function($){$&&$.layout()})}var Gl=function(){function p(){this.scales=new Map,this.syncScales=new Map}return p.prototype.createScale=function(h,s,c,M){var w=c,$=this.getScaleMeta(M);if(s.length===0&&$){var ht=$.scale,St={type:ht.type};ht.isCategory&&(St.values=ht.values),w=Object(o.deepMix)(St,$.scaleDef,c)}var kt=Xn(h,s,w);return this.cacheScale(kt,c,M),kt},p.prototype.sync=function(h,s){var c=this;this.syncScales.forEach(function(M,w){var $=Number.MAX_SAFE_INTEGER,ht=Number.MIN_SAFE_INTEGER,St=[];Object(o.each)(M,function(kt){var _t=c.getScale(kt);ht=Object(o.isNumber)(_t.max)?Math.max(ht,_t.max):ht,$=Object(o.isNumber)(_t.min)?Math.min($,_t.min):$,Object(o.each)(_t.values,function(Zt){St.includes(Zt)||St.push(Zt)})}),Object(o.each)(M,function(kt){var _t=c.getScale(kt);if(_t.isContinuous)_t.change({min:$,max:ht,values:St});else if(_t.isCategory){var Zt=_t.range,te=c.getScaleMeta(kt);St&&!Object(o.get)(te,["scaleDef","range"])&&(Zt=gi(Object(o.deepMix)({},_t,{values:St}),h,s)),_t.change({values:St,range:Zt})}})})},p.prototype.cacheScale=function(h,s,c){var M=this.getScaleMeta(c);M&&M.scale.type===h.type?(ri(M.scale,h),M.scaleDef=s):(M={key:c,scale:h,scaleDef:s},this.scales.set(c,M));var w=this.getSyncKey(M);if(M.syncKey=w,this.removeFromSyncScales(c),w){var $=this.syncScales.get(w);$||($=[],this.syncScales.set(w,$)),$.push(c)}},p.prototype.getScale=function(h){var s=this.getScaleMeta(h);if(!s){var c=Object(o.last)(h.split("-")),M=this.syncScales.get(c);M&&M.length&&(s=this.getScaleMeta(M[0]))}return s&&s.scale},p.prototype.deleteScale=function(h){var s=this.getScaleMeta(h);if(s){var c=s.syncKey,M=this.syncScales.get(c);if(M&&M.length){var w=M.indexOf(h);w!==-1&&M.splice(w,1)}}this.scales.delete(h)},p.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},p.prototype.removeFromSyncScales=function(h){var s=this;this.syncScales.forEach(function(c,M){var w=c.indexOf(h);if(w!==-1)return c.splice(w,1),c.length===0&&s.syncScales.delete(M),!1})},p.prototype.getSyncKey=function(h){var s=h.scale,c=h.scaleDef,M=s.field,w=Object(o.get)(c,["sync"]);return w===!0?M:w===!1?void 0:w},p.prototype.getScaleMeta=function(h){return this.scales.get(h)},p}(),Ul=function(){function p(h,s,c,M){h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),M===void 0&&(M=0),this.top=h,this.right=s,this.bottom=c,this.left=M}return p.instance=function(h,s,c,M){return h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),M===void 0&&(M=0),new p(h,s,c,M)},p.prototype.max=function(h){var s=h[0],c=h[1],M=h[2],w=h[3];return this.top=Math.max(this.top,s),this.right=Math.max(this.right,c),this.bottom=Math.max(this.bottom,M),this.left=Math.max(this.left,w),this},p.prototype.shrink=function(h){var s=h[0],c=h[1],M=h[2],w=h[3];return this.top+=s,this.right+=c,this.bottom+=M,this.left+=w,this},p.prototype.inc=function(h,s){var c=h.width,M=h.height;switch(s){case O.TOP:case O.TOP_LEFT:case O.TOP_RIGHT:this.top+=M;break;case O.RIGHT:case O.RIGHT_TOP:case O.RIGHT_BOTTOM:this.right+=c;break;case O.BOTTOM:case O.BOTTOM_LEFT:case O.BOTTOM_RIGHT:this.bottom+=M;break;case O.LEFT:case O.LEFT_TOP:case O.LEFT_BOTTOM:this.left+=c;break;default:break}return this},p.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},p.prototype.clone=function(){return new(p.bind.apply(p,Object(f.__spreadArrays)([void 0],this.getPadding())))},p}();function oc(p){var h=p.padding;if(!we(h))return new(Ul.bind.apply(Ul,Object(f.__spreadArrays)([void 0],He(h))));var s=p.viewBBox,c=new Ul,M=[],w=[],$=[];return Object(o.each)(p.getComponents(),function(ht){var St=ht.type;St===C.AXIS?M.push(ht):[C.LEGEND,C.SLIDER,C.SCROLLBAR].includes(St)?w.push(ht):St!==C.GRID&&St!==C.TOOLTIP&&$.push(ht)}),Object(o.each)(M,function(ht){var St=ht.component,kt=St.getLayoutBBox(),_t=new tn(kt.x,kt.y,kt.width,kt.height),Zt=_t.exceed(s);c.max(Zt)}),Object(o.each)(w,function(ht){var St=ht.component,kt=ht.direction,_t=St.getLayoutBBox(),Zt=St.get("padding"),te=new tn(_t.x,_t.y,_t.width,_t.height).expand(Zt);c.inc(te,kt)}),Object(o.each)($,function(ht){var St=ht.component,kt=ht.direction,_t=St.getLayoutBBox(),Zt=new tn(_t.x,_t.y,_t.width,_t.height);c.inc(Zt,kt)}),c}function df(p,h,s){var c=s.instance();h.forEach(function(M){M.autoPadding=c.max(M.autoPadding.getPadding())})}var sc=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,{visible:s.visible})||this;c.views=[],c.geometries=[],c.controllers=[],c.interactions={},c.limitInPlot=!1,c.options={data:[],animate:!0},c.usedControllers=Bi(),c.scalePool=new Gl,c.layoutFunc=hf,c.isPreMouseInPlot=!1,c.isDataChanged=!1,c.isCoordinateChanged=!1,c.createdScaleKeys=new Map,c.onCanvasEvent=function(Or){var yn=Or.name;if(!yn.includes(":")){var sn=c.createViewEvent(Or);c.doPlotEvent(sn),c.emit(yn,sn)}},c.onDelegateEvents=function(Or){var yn=Or.name;if(!!yn.includes(":")){var sn=c.createViewEvent(Or);c.emit(yn,sn)}};var M=s.id,w=M===void 0?Object(o.uniqueId)("view"):M,$=s.parent,ht=s.canvas,St=s.backgroundGroup,kt=s.middleGroup,_t=s.foregroundGroup,Zt=s.region,te=Zt===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:Zt,ne=s.padding,ve=s.appendPadding,Oe=s.theme,Ke=s.options,tr=s.limitInPlot,mr=s.syncViewPadding;return c.parent=$,c.canvas=ht,c.backgroundGroup=St,c.middleGroup=kt,c.foregroundGroup=_t,c.region=te,c.padding=ne,c.appendPadding=ve,c.options=Object(f.__assign)(Object(f.__assign)({},c.options),Ke),c.limitInPlot=tr,c.id=w,c.syncViewPadding=mr,c.themeObject=Object(o.isObject)(Oe)?Object(o.deepMix)({},qn("default"),Pn(Oe)):qn(Oe),c.init(),c}return h.prototype.setLayout=function(s){this.layoutFunc=s},h.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},h.prototype.render=function(s){s===void 0&&(s=!1),this.emit(b.BEFORE_RENDER),this.paint(s),this.emit(b.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},h.prototype.clear=function(){var s=this;this.emit(b.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var c=this.geometries,M=0;M<c.length;M++)c[M].clear(),c[M].container.remove(!0);this.geometries=[];for(var w=this.controllers,M=0;M<w.length;M++)w[M].name==="annotation"?w[M].clear(!0):w[M].clear();this.createdScaleKeys.forEach(function(ht,St){s.getRootView().scalePool.deleteScale(St)}),this.createdScaleKeys.clear();for(var $=this.views,M=0;M<$.length;M++)$[M].clear();this.emit(b.AFTER_CLEAR)},h.prototype.destroy=function(){this.emit(b.BEFORE_DESTROY);var s=this.interactions;Object(o.each)(s,function(ht){ht&&ht.destroy()}),this.clear();for(var c=this.controllers,M=0,w=c.length;M<w;M++){var $=c[M];$.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),p.prototype.destroy.call(this)},h.prototype.changeVisible=function(s){p.prototype.changeVisible.call(this,s);for(var c=this.geometries,M=0,w=c.length;M<w;M++){var $=c[M];$.changeVisible(s)}for(var ht=this.controllers,M=0,w=ht.length;M<w;M++){var St=ht[M];St.changeVisible(s)}return this.foregroundGroup.set("visible",s),this.middleGroup.set("visible",s),this.backgroundGroup.set("visible",s),this.getCanvas().draw(),this},h.prototype.data=function(s){return Object(o.set)(this.options,"data",s),this.isDataChanged=!0,this},h.prototype.source=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(s)},h.prototype.filter=function(s,c){return Object(o.isFunction)(c)?(Object(o.set)(this.options,["filters",s],c),this):(!c&&Object(o.get)(this.options,["filters",s])&&delete this.options.filters[s],this)},h.prototype.axis=function(s,c){return Object(o.isBoolean)(s)?Object(o.set)(this.options,["axes"],s):Object(o.set)(this.options,["axes",s],c),this},h.prototype.legend=function(s,c){return Object(o.isBoolean)(s)?Object(o.set)(this.options,["legends"],s):Object(o.isString)(s)?(Object(o.set)(this.options,["legends",s],c),Object(o.isPlainObject)(c)&&(c==null?void 0:c.selected)&&Object(o.set)(this.options,["filters",s],function(M){var w;return(w=c==null?void 0:c.selected[M])!==null&&w!==void 0?w:!0})):Object(o.set)(this.options,["legends"],s),this},h.prototype.scale=function(s,c){var M=this;return Object(o.isString)(s)?Object(o.set)(this.options,["scales",s],c):Object(o.isObject)(s)&&Object(o.each)(s,function(w,$){Object(o.set)(M.options,["scales",$],w)}),this},h.prototype.tooltip=function(s){return Object(o.set)(this.options,"tooltip",s),this},h.prototype.annotation=function(){return this.getController("annotation")},h.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},h.prototype.coordinate=function(s,c){return Object(o.isString)(s)?Object(o.set)(this.options,"coordinate",{type:s,cfg:c}):Object(o.set)(this.options,"coordinate",s),this.coordinateController.update(this.options.coordinate),this.coordinateController},h.prototype.coord=function(s,c){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(s,c)},h.prototype.facet=function(s,c){this.facetInstance&&this.facetInstance.destroy();var M=zo(s);if(!M)throw new Error("facet '"+s+"' is not exist!");return this.facetInstance=new M(this,Object(f.__assign)(Object(f.__assign)({},c),{type:s})),this},h.prototype.animate=function(s){return Object(o.set)(this.options,"animate",s),this},h.prototype.updateOptions=function(s){return this.clear(),Object(o.mix)(this.options,s),this.views.forEach(function(c){return c.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},h.prototype.option=function(s,c){if(h.prototype[s])throw new Error(`Can't use built in variable name "`+s+'", please change another one.');return Object(o.set)(this.options,s,c),this},h.prototype.theme=function(s){return this.themeObject=Object(o.isObject)(s)?Object(o.deepMix)({},this.themeObject,Pn(s)):qn(s),this},h.prototype.interaction=function(s,c){var M=this.interactions[s];M&&M.destroy();var w=je(s,this,c);return w&&(w.init(),this.interactions[s]=w),this},h.prototype.removeInteraction=function(s){var c=this.interactions[s];c&&(c.destroy(),this.interactions[s]=void 0)},h.prototype.changeData=function(s){this.isDataChanged=!0,this.emit(b.BEFORE_CHANGE_DATA,Ao.fromData(this,b.BEFORE_CHANGE_DATA,null)),this.data(s),this.paint(!0);for(var c=this.views,M=0,w=c.length;M<w;M++){var $=c[M];$.changeData(s)}this.emit(b.AFTER_CHANGE_DATA,Ao.fromData(this,b.AFTER_CHANGE_DATA,null))},h.prototype.createView=function(s){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var c={data:this.options.data,scales:Object(o.clone)(this.options.scales),axes:Object(o.clone)(this.options.axes),coordinate:Object(o.clone)(this.coordinateController.getOption()),tooltip:Object(o.clone)(this.options.tooltip),legends:Object(o.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},M=new h(Object(f.__assign)(Object(f.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:P.BG}),middleGroup:this.middleGroup.addGroup({zIndex:P.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:P.FORE}),theme:this.themeObject,padding:this.padding},s),{options:Object(f.__assign)(Object(f.__assign)({},c),Object(o.get)(s,"options",{}))}));return this.views.push(M),M},h.prototype.view=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(s)},h.prototype.removeView=function(s){var c=Object(o.remove)(this.views,function(M){return M===s})[0];return c&&c.destroy(),c},h.prototype.getCoordinate=function(){return this.coordinateInstance},h.prototype.getTheme=function(){return this.themeObject},h.prototype.getXScale=function(){var s=this.geometries[0];return s?s.getXScale():null},h.prototype.getYScales=function(){var s={};return this.geometries.map(function(c){var M=c.getYScale(),w=M.field;if(!s[w])return s[w]=!0,M})},h.prototype.getScalesByDim=function(s){for(var c=this.geometries,M={},w=0,$=c.length;w<$;w++){var ht=c[w],St=s==="x"?ht.getXScale():ht.getYScale();St&&!M[St.field]&&(M[St.field]=St)}return M},h.prototype.getScaleByField=function(s,c){var M=c||this.getScaleKey(s);return this.getRootView().scalePool.getScale(M)},h.prototype.getOptions=function(){return this.options},h.prototype.getData=function(){return this.filteredData},h.prototype.getLayer=function(s){return s===x.BG?this.backgroundGroup:s===x.MID?this.middleGroup:s===x.FORE?this.foregroundGroup:this.foregroundGroup},h.prototype.isPointInPlot=function(s){return Kr(this.getCoordinate(),s)},h.prototype.getLegendAttributes=function(){return Object(o.flatten)(this.geometries.map(function(s){return s.getGroupAttributes()}))},h.prototype.getGroupScales=function(){var s=this.geometries.map(function(c){return c.getGroupScales()});return nr(Object(o.flatten)(s))},h.prototype.getCanvas=function(){return this.getRootView().canvas},h.prototype.getRootView=function(){for(var s=this;;){if(s.parent){s=s.parent;continue}break}return s},h.prototype.getXY=function(s){var c=this.getCoordinate(),M=this.getScalesByDim("x"),w=this.getScalesByDim("y"),$,ht;if(Object(o.each)(s,function(St,kt){M[kt]&&($=M[kt].scale(St)),w[kt]&&(ht=w[kt].scale(St))}),!Object(o.isNil)($)&&!Object(o.isNil)(ht))return c.convert({x:$,y:ht})},h.prototype.getController=function(s){return Object(o.find)(this.controllers,function(c){return c.name===s})},h.prototype.showTooltip=function(s){var c=this.getController("tooltip");return c&&c.showTooltip(s),this},h.prototype.hideTooltip=function(){var s=this.getController("tooltip");return s&&s.hideTooltip(),this},h.prototype.lockTooltip=function(){var s=this.getController("tooltip");return s&&s.lockTooltip(),this},h.prototype.unlockTooltip=function(){var s=this.getController("tooltip");return s&&s.unlockTooltip(),this},h.prototype.isTooltipLocked=function(){var s=this.getController("tooltip");return s&&s.isTooltipLocked()},h.prototype.getTooltipItems=function(s){var c=this.getController("tooltip");return c?c.getTooltipItems(s):[]},h.prototype.getSnapRecords=function(s){for(var c=this.geometries,M=[],w=0,$=c.length;w<$;w++){var ht=c[w],St=ht.dataArray;ht.sort(St);for(var kt=void 0,_t=0,Zt=St.length;_t<Zt;_t++){var te=St[_t];kt=Me(s,te,ht),kt&&M.push(kt)}}for(var ne=this.views,w=0,$=ne.length;w<$;w++){var ve=ne[w],Oe=ve.getSnapRecords(s);M=M.concat(Oe)}return M},h.prototype.getComponents=function(){for(var s=[],c=this.controllers,M=0,w=c.length;M<w;M++){var $=c[M];s=s.concat($.getComponents())}return s},h.prototype.filterData=function(s){var c=this.options.filters;return Object(o.size)(c)===0?s:Object(o.filter)(s,function(M,w){var $=Object.keys(c);return $.every(function(ht){var St=c[ht];return St(M[ht],M,w)})})},h.prototype.filterFieldData=function(s,c){var M=this.options.filters,w=Object(o.get)(M,s);return Object(o.isUndefined)(w)?c:c.filter(function($,ht){return w($[s],$,ht)})},h.prototype.adjustCoordinate=function(){var s=this.getCoordinate(),c=s.start,M=s.end,w=this.coordinateBBox.bl,$=this.coordinateBBox.tr;if(Object(o.isEqual)(c,w)&&Object(o.isEqual)(M,$)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(w,$)},h.prototype.paint=function(s){this.renderDataRecursive(s),this.syncScale(),this.emit(b.BEFORE_PAINT),this.renderPaddingRecursive(s),this.renderLayoutRecursive(s),this.renderBackgroundStyleShape(),this.renderPaintRecursive(s),this.emit(b.AFTER_PAINT),this.isDataChanged=!1},h.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var s=Object(o.get)(this.themeObject,"background");if(s){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var c=this.viewBBox,M=c.x,w=c.y,$=c.width,ht=c.height;this.backgroundStyleRectShape.attr({fill:s,x:M,y:w,width:$,height:ht})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},h.prototype.renderPaddingRecursive=function(s){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(s),this.autoPadding=oc(this).shrink(He(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var c=this.views,M=0,w=c.length;M<w;M++){var $=c[M];$.renderPaddingRecursive(s)}},h.prototype.renderLayoutRecursive=function(s){var c=this.syncViewPadding===!0?df:Object(o.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;c&&(c(this,this.views,Ul),this.views.forEach(function(St){St.coordinateBBox=St.viewBBox.shrink(St.autoPadding.getPadding()),St.adjustCoordinate()})),this.doLayout();for(var M=this.views,w=0,$=M.length;w<$;w++){var ht=M[w];ht.renderLayoutRecursive(s)}},h.prototype.renderPaintRecursive=function(s){var c=this.middleGroup;if(this.limitInPlot){var M=jn(this.coordinateInstance),w=M.type,$=M.attrs;c.setClip({type:w,attrs:$})}else c.setClip(void 0);this.paintGeometries(s),this.renderComponents(s);for(var ht=this.views,St=0,kt=ht.length;St<kt;St++){var _t=ht[St];_t.renderPaintRecursive(s)}},h.prototype.createScale=function(s,c,M,w){var $=Object(o.get)(this.options.scales,[s]),ht=Object(f.__assign)(Object(f.__assign)({},$),M);return this.parent?this.parent.createScale(s,c,ht,w):this.scalePool.createScale(s,c,ht,w)},h.prototype.renderDataRecursive=function(s){this.doFilterData(),this.createCoordinate(),this.initGeometries(s),this.renderFacet(s);for(var c=this.views,M=0,w=c.length;M<w;M++){var $=c[M];$.renderDataRecursive(s)}},h.prototype.calculateViewBBox=function(){var s,c,M,w;if(this.parent){var $=this.parent.coordinateBBox;s=$.x,c=$.y,M=$.width,w=$.height}else s=0,c=0,M=this.canvas.get("width"),w=this.canvas.get("height");var ht=this.region,St=ht.start,kt=ht.end,_t=new tn(s+M*St.x,c+w*St.y,M*(kt.x-St.x),w*(kt.y-St.y));(!this.viewBBox||!this.viewBBox.isEqual(_t))&&(this.viewBBox=new tn(s+M*St.x,c+w*St.y,M*(kt.x-St.x),w*(kt.y-St.y))),this.coordinateBBox=this.viewBBox},h.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},h.prototype.initComponentController=function(){for(var s=this.usedControllers,c=0,M=s.length;c<M;c++){var w=s[c],$=to(w);$&&this.controllers.push(new $(this))}},h.prototype.createViewEvent=function(s){var c=s.shape,M=s.name,w=c?c.get("origin"):null,$=new Ao(this,s,w);return $.type=M,$},h.prototype.doPlotEvent=function(s){var c=s.type,M=s.x,w=s.y,$={x:M,y:w},ht=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(ht.includes(c)){var St=this.isPointInPlot($),kt=s.clone();if(St){var _t="plot:"+c;kt.type=_t,this.emit(_t,kt),(c==="mouseleave"||c==="touchend")&&(this.isPreMouseInPlot=!1)}c==="mousemove"||c==="touchmove"?(this.isPreMouseInPlot&&!St?(c==="mousemove"&&(kt.type=y.MOUSE_LEAVE,this.emit(y.MOUSE_LEAVE,kt)),kt.type=y.LEAVE,this.emit(y.LEAVE,kt)):!this.isPreMouseInPlot&&St&&(c==="mousemove"&&(kt.type=y.MOUSE_ENTER,this.emit(y.MOUSE_ENTER,kt)),kt.type=y.ENTER,this.emit(y.ENTER,kt)),this.isPreMouseInPlot=St):(c==="mouseleave"||c==="touchend")&&this.isPreMouseInPlot&&(c==="mouseleave"&&(kt.type=y.MOUSE_LEAVE,this.emit(y.MOUSE_LEAVE,kt)),kt.type=y.LEAVE,this.emit(y.LEAVE,kt),this.isPreMouseInPlot=!1)}},h.prototype.doFilterData=function(){var s=this.options.data;this.filteredData=this.filterData(s)},h.prototype.initGeometries=function(s){this.createOrUpdateScales();for(var c=this.getCoordinate(),M=Object(o.get)(this.options,"scales",{}),w=this.geometries,$=0,ht=w.length;$<ht;$++){var St=w[$];St.scales=this.getGeometryScales();var kt={coordinate:c,scaleDefs:M,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};s?St.update(kt):St.init(kt)}this.adjustScales()},h.prototype.createOrUpdateScales=function(){for(var s=this.getScaleFields(),c=this.getGroupedFields(),M=this.getOptions(),w=M.data,$=M.scales,ht=$===void 0?{}:$,St=this.filteredData,kt=0,_t=s.length;kt<_t;kt++){var Zt=s[kt],te=ht[Zt],ne=this.getScaleKey(Zt);this.createScale(Zt,c.includes(Zt)?w:St,te,ne),this.createdScaleKeys.set(ne,!0)}},h.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},h.prototype.getGeometryScales=function(){for(var s=this.getScaleFields(),c={},M=0;M<s.length;M++){var w=s[M];c[w]=this.getScaleByField(w)}return c},h.prototype.getScaleFields=function(){for(var s=[],c={},M=this.geometries,w=0;w<M.length;w++){var $=M[w],ht=$.getScaleFields();nr(ht,s,c)}return s},h.prototype.getGroupedFields=function(){for(var s=[],c={},M=this.geometries,w=0;w<M.length;w++){var $=M[w],ht=$.getGroupFields();nr(ht,s,c)}return s},h.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},h.prototype.adjustCategoryScaleRange=function(){var s=this,c=Object(f.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function($){return!!$}),M=this.getCoordinate(),w=this.options.scales;Object(o.each)(c,function($){var ht=$.field,St=$.values,kt=$.isCategory,_t=$.isIdentity;(kt||_t)&&St&&!Object(o.get)(w,[ht,"range"])&&($.range=gi($,M,s.theme))})},h.prototype.initComponents=function(s){for(var c=this.controllers,M=0;M<c.length;M++){var w=c[M];s?w.update():(w.clear(),w.render())}},h.prototype.doLayout=function(){this.layoutFunc(this)},h.prototype.createCoordinate=function(){var s=this.coordinateBBox.bl,c=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(s,c)},h.prototype.paintGeometries=function(s){for(var c=this.options.animate,M=this.getCoordinate(),w={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},$=this.geometries,ht=0;ht<$.length;ht++){var St=$[ht];St.coordinate=M,St.canvasRegion=w,c||St.animate(!1),St.paint(s)}},h.prototype.renderComponents=function(s){for(var c=0;c<this.getComponents().length;c++){var M=this.getComponents()[c];M.component.render()}},h.prototype.renderFacet=function(s){this.facetInstance&&(s?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},h.prototype.initOptions=function(){var s=this,c=this.options,M=c.geometries,w=M===void 0?[]:M,$=c.interactions,ht=$===void 0?[]:$,St=c.views,kt=St===void 0?[]:St,_t=c.annotations,Zt=_t===void 0?[]:_t,te=c.coordinate,ne=c.events,ve=c.facets;this.coordinateController?te&&this.coordinateController.update(te):this.coordinateController=new Ko(te);for(var Oe=0;Oe<w.length;Oe++){var Ke=w[Oe];this.createGeometry(Ke)}for(var tr=0;tr<ht.length;tr++){var mr=ht[tr],Or=mr.type,yn=mr.cfg;this.interaction(Or,yn)}for(var sn=0;sn<kt.length;sn++){var mn=kt[sn];this.createView(mn)}for(var di=this.getController("annotation"),Zn=0;Zn<Zt.length;Zn++){var $n=Zt[Zn];di.annotation($n)}ne&&Object(o.each)(ne,function(Di,ra){s.on(ra,Di)}),ve&&Object(o.each)(ve,function(Di){var ra=Di.type,_i=Object(f.__rest)(Di,["type"]);s.facet(ra,_i)})},h.prototype.createGeometry=function(s){var c=s.type,M=s.cfg,w=M===void 0?{}:M;if(this[c]){var $=this[c](w);Object(o.each)(s,function(ht,St){Object(o.isFunction)($[St])&&$[St](ht)})}},h.prototype.getScaleKey=function(s){return this.id+"-"+s},h}(Q);function Ro(p,h){sc.prototype[p.toLowerCase()]=function(s){s===void 0&&(s={});var c=Object(f.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},s),M=new h(c);return this.geometries.push(M),M}}var lc=sc,vf=function(p){Object(f.__extends)(h,p);function h(s){var c=this,M=s.container,w=s.width,$=s.height,ht=s.autoFit,St=ht===void 0?!1:ht,kt=s.padding,_t=s.appendPadding,Zt=s.renderer,te=Zt===void 0?"canvas":Zt,ne=s.pixelRatio,ve=s.localRefresh,Oe=ve===void 0?!0:ve,Ke=s.visible,tr=Ke===void 0?!0:Ke,mr=s.supportCSSTransform,Or=mr===void 0?!1:mr,yn=s.defaultInteractions,sn=yn===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:yn,mn=s.options,di=s.limitInPlot,Zn=s.theme,$n=s.syncViewPadding,Di=Object(o.isString)(M)?document.getElementById(M):M,ra=Object(N.b)('<div style="position:relative;"></div>');Di.appendChild(ra);var _i=G(Di,St,w,$),Qa=W(te),Fo=new Qa.Canvas(Object(f.__assign)({container:ra,pixelRatio:ne,localRefresh:Oe,supportCSSTransform:Or},_i));return c=p.call(this,{parent:null,canvas:Fo,backgroundGroup:Fo.addGroup({zIndex:P.BG}),middleGroup:Fo.addGroup({zIndex:P.MID}),foregroundGroup:Fo.addGroup({zIndex:P.FORE}),padding:kt,appendPadding:_t,visible:tr,options:mn,limitInPlot:di,theme:Zn,syncViewPadding:$n})||this,c.onResize=Object(o.debounce)(function(){c.forceFit()},300),c.ele=Di,c.canvas=Fo,c.width=_i.width,c.height=_i.height,c.autoFit=St,c.localRefresh=Oe,c.renderer=te,c.wrapperElement=ra,c.updateCanvasStyle(),c.bindAutoFit(),c.initDefaultInteractions(sn),c}return h.prototype.initDefaultInteractions=function(s){var c=this;Object(o.each)(s,function(M){c.interaction(M)})},h.prototype.changeSize=function(s,c){return this.width===s&&this.height===c?this:(this.emit(b.BEFORE_CHANGE_SIZE),this.width=s,this.height=c,this.canvas.changeSize(s,c),this.render(!0),this.emit(b.AFTER_CHANGE_SIZE),this)},h.prototype.destroy=function(){p.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),k(this.wrapperElement),this.wrapperElement=null},h.prototype.changeVisible=function(s){return p.prototype.changeVisible.call(this,s),this.wrapperElement.style.display=s?"":"none",this},h.prototype.forceFit=function(){if(!this.destroyed){var s=G(this.ele,!0,this.width,this.height),c=s.width,M=s.height;this.changeSize(c,M)}},h.prototype.updateCanvasStyle=function(){Object(N.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},h.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},h.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},h}(lc),lh=vf,ms=function(){function p(h){this.visible=!0,this.components=[],this.view=h}return p.prototype.clear=function(h){Object(o.each)(this.components,function(s){s.component.destroy()}),this.components=[]},p.prototype.destroy=function(){this.clear()},p.prototype.getComponents=function(){return this.components},p.prototype.changeVisible=function(h){this.visible!==h&&(this.components.forEach(function(s){h?s.component.show():s.component.hide()}),this.visible=h)},p}();function Eu(p){for(var h=[],s=function(w){var $=p[w],ht=Object(o.find)(h,function(St){return St.color===$.color&&St.name===$.name&&St.value===$.value&&St.title===$.title});ht||h.push($)},c=0;c<p.length;c++)s(c);return h}var uh=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.isLocked=!1,s}return Object.defineProperty(h.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.isVisible=function(){var s=this.view.getOptions().tooltip;return s!==!1},h.prototype.render=function(){},h.prototype.showTooltip=function(s){if(this.point=s,!!this.isVisible()){var c=this.view,M=this.getTooltipItems(s);if(!M.length){this.hideTooltip();return}var w=this.getTitle(M),$={x:M[0].x,y:M[0].y};c.emit("tooltip:show",Ao.fromData(c,"tooltip:show",Object(f.__assign)({items:M,title:w},s)));var ht=this.getTooltipCfg(),St=ht.follow,kt=ht.showMarkers,_t=ht.showCrosshairs,Zt=ht.showContent,te=ht.marker,ne=this.items,ve=this.title;if(!Object(o.isEqual)(ve,w)||!Object(o.isEqual)(ne,M)?(c.emit("tooltip:change",Ao.fromData(c,"tooltip:change",Object(f.__assign)({items:M,title:w},s))),(Object(o.isFunction)(Zt)?Zt(M):Zt)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(o.mix)({},ht,{items:this.getItemsAfterProcess(M),title:w},St?s:{})),this.tooltip.show()),kt&&this.renderTooltipMarkers(M,te)):(this.tooltip&&St&&(this.tooltip.update(s),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=M,this.title=w,_t){var Oe=Object(o.get)(ht,["crosshairs","follow"],!1);this.renderCrosshairs(Oe?s:$,ht)}}},h.prototype.hideTooltip=function(){var s=this.getTooltipCfg().follow;if(!s){this.point=null;return}var c=this.tooltipMarkersGroup;c&&c.hide();var M=this.xCrosshair,w=this.yCrosshair;M&&M.hide(),w&&w.hide();var $=this.tooltip;$&&$.hide(),this.view.emit("tooltip:hide",Ao.fromData(this.view,"tooltip:hide",{})),this.point=null},h.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},h.prototype.unlockTooltip=function(){this.isLocked=!1;var s=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(s.capture)},h.prototype.isTooltipLocked=function(){return this.isLocked},h.prototype.clear=function(){var s=this,c=s.tooltip,M=s.xCrosshair,w=s.yCrosshair,$=s.tooltipMarkersGroup;c&&(c.hide(),c.clear()),M&&M.clear(),w&&w.clear(),$&&$.clear(),this.reset()},h.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},h.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},h.prototype.changeVisible=function(s){if(this.visible!==s){var c=this,M=c.tooltip,w=c.tooltipMarkersGroup,$=c.xCrosshair,ht=c.yCrosshair;s?(M&&M.show(),w&&w.show(),$&&$.show(),ht&&ht.show()):(M&&M.hide(),w&&w.hide(),$&&$.hide(),ht&&ht.hide()),this.visible=s}},h.prototype.getTooltipItems=function(s){var c=this.findItemsFromView(this.view,s);if(c.length){c=Object(o.flatten)(c);for(var M=0,w=c;M<w.length;M++)for(var $=w[M],ht=0,St=$;ht<St.length;ht++){var kt=St[ht],_t=kt.mappingData,Zt=_t.x,te=_t.y;kt.x=Object(o.isArray)(Zt)?Zt[Zt.length-1]:Zt,kt.y=Object(o.isArray)(te)?te[te.length-1]:te}var ne=this.getTooltipCfg().shared;if(ne===!1&&c.length>1){for(var ve=c[0],Oe=Math.abs(s.y-ve[0].y),Ke=0,tr=c;Ke<tr.length;Ke++){var mr=tr[Ke],Or=Math.abs(s.y-mr[0].y);Or<=Oe&&(ve=mr,Oe=Or)}c=[ve]}return Eu(Object(o.flatten)(c))}return[]},h.prototype.layout=function(){},h.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var s=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}})}},h.prototype.isCursorEntered=function(s){if(this.tooltip){var c=this.tooltip.getContainer(),M=this.tooltip.get("capture");if(c&&M){var w=c.getBoundingClientRect(),$=w.x,ht=w.y,St=w.width,kt=w.height;return new tn($,ht,St,kt).isPointIn(s)}}return!1},h.prototype.getTooltipCfg=function(){var s=this.view,c=s.getOptions().tooltip,M=this.processCustomContent(c),w=s.getTheme(),$=Object(o.get)(w,["components","tooltip"],{}),ht=Object(o.get)(M,"enterable",$.enterable);return Object(o.deepMix)({},$,M,{capture:!!(ht||this.isLocked)})},h.prototype.processCustomContent=function(s){if(Object(o.isBoolean)(s)||!Object(o.get)(s,"customContent"))return s;var c=s.customContent,M=function($,ht){var St=c($,ht)||"";return Object(o.isString)(St)?'<div class="g2-tooltip">'+St+"</div>":St};return Object(f.__assign)(Object(f.__assign)({},s),{customContent:M})},h.prototype.getTitle=function(s){var c=s[0].title||s[0].name;return this.title=c,c},h.prototype.renderTooltip=function(){var s=this.view.getCanvas(),c={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}},M=this.getTooltipCfg(),w=new oe(Object(f.__assign)(Object(f.__assign)({parent:s.get("el").parentNode,region:c},M),{visible:!1,crosshairs:null}));w.init(),this.tooltip=w},h.prototype.renderTooltipMarkers=function(s,c){for(var M=this.getTooltipMarkersGroup(),w=0,$=s;w<$.length;w++){var ht=$[w],St=ht.x,kt=ht.y,_t=Object(f.__assign)(Object(f.__assign)({fill:ht.color,symbol:"circle",shadowColor:ht.color},c),{x:St,y:kt});M.addShape("marker",{attrs:_t})}},h.prototype.renderCrosshairs=function(s,c){var M=Object(o.get)(c,["crosshairs","type"],"x");M==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(s,c)):M==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(s,c)):M==="xy"&&(this.renderXCrosshairs(s,c),this.renderYCrosshairs(s,c))},h.prototype.renderXCrosshairs=function(s,c){var M=this.getViewWithGeometry(this.view).getCoordinate();if(!!Kr(M,s)){var w,$;if(M.isRect)M.isTransposed?(w={x:M.start.x,y:s.y},$={x:M.end.x,y:s.y}):(w={x:s.x,y:M.end.y},$={x:s.x,y:M.start.y});else{var ht=$r(M,s),St=M.getCenter(),kt=M.getRadius();$=Ce(St.x,St.y,kt,ht),w=St}var _t=Object(o.deepMix)({start:w,end:$,container:this.getTooltipCrosshairsGroup()},Object(o.get)(c,"crosshairs",{}),this.getCrosshairsText("x",s,c));delete _t.type;var Zt=this.xCrosshair;Zt?Zt.update(_t):(Zt=new Ft.Crosshair.Line(_t),Zt.init()),Zt.render(),Zt.show(),this.xCrosshair=Zt}},h.prototype.renderYCrosshairs=function(s,c){var M=this.getViewWithGeometry(this.view).getCoordinate();if(!!Kr(M,s)){var w,$;if(M.isRect){var ht=void 0,St=void 0;M.isTransposed?(ht={x:s.x,y:M.end.y},St={x:s.x,y:M.start.y}):(ht={x:M.start.x,y:s.y},St={x:M.end.x,y:s.y}),w={start:ht,end:St},$="Line"}else w={center:M.getCenter(),radius:Gr(M,s),startAngle:M.startAngle,endAngle:M.endAngle},$="Circle";w=Object(o.deepMix)({container:this.getTooltipCrosshairsGroup()},w,Object(o.get)(c,"crosshairs",{}),this.getCrosshairsText("y",s,c)),delete w.type;var kt=this.yCrosshair;kt?M.isRect&&kt.get("type")==="circle"||!M.isRect&&kt.get("type")==="line"?(kt=new Ft.Crosshair[$](w),kt.init()):kt.update(w):(kt=new Ft.Crosshair[$](w),kt.init()),kt.render(),kt.show(),this.yCrosshair=kt}},h.prototype.getCrosshairsText=function(s,c,M){var w=Object(o.get)(M,["crosshairs","text"]),$=Object(o.get)(M,["crosshairs","follow"]),ht=this.items;if(w){var St=this.getViewWithGeometry(this.view),kt=ht[0],_t=St.getXScale(),Zt=St.getYScales()[0],te=void 0,ne=void 0;if($){var ve=this.view.getCoordinate().invert(c);te=_t.invert(ve.x),ne=Zt.invert(ve.y)}else te=kt.data[_t.field],ne=kt.data[Zt.field];var Oe=s==="x"?te:ne;return Object(o.isFunction)(w)?w=w(s,Oe,ht,c):w.content=Oe,{text:w}}},h.prototype.getGuideGroup=function(){if(!this.guideGroup){var s=this.view.foregroundGroup;this.guideGroup=s.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},h.prototype.getTooltipMarkersGroup=function(){var s=this.tooltipMarkersGroup;return s&&!s.destroyed?(s.clear(),s.show()):(s=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),s.toFront(),this.tooltipMarkersGroup=s),s},h.prototype.getTooltipCrosshairsGroup=function(){var s=this.tooltipCrosshairsGroup;return s||(s=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),s.toBack(),this.tooltipCrosshairsGroup=s),s},h.prototype.getTooltipItemsByHitShape=function(s,c,M){var w=this.getTooltipCfg().showNil,$=[],ht=s.container,St=ht.getShape(c.x,c.y);if(St&&St.get("visible")&&St.get("origin")){var kt=St.get("origin").mappingData,_t=le(kt,s,M,w);_t.length&&$.push(_t)}return $},h.prototype.getTooltipItemsByFindData=function(s,c,M){var w=this.getTooltipCfg().showNil,$=[],ht=s.dataArray;if(!Object(o.isEmpty)(ht)){s.sort(ht);for(var St=0,kt=ht;St<kt.length;St++){var _t=kt[St],Zt=Me(c,_t,s);if(Zt){var te=s.getElementId(Zt),ne=s.elementsMap[te];if(s.type==="heatmap"||ne.visible){var ve=le(Zt,s,M,w);ve.length&&$.push(ve)}}}}return $},h.prototype.findItemsFromView=function(s,c){if(s.getOptions().tooltip===!1)return[];for(var M=[],w=s.geometries,$=this.getTooltipCfg(),ht=$.shared,St=$.title,kt=$.reversed,_t=0,Zt=w;_t<Zt.length;_t++){var te=Zt[_t];if(te.visible&&te.tooltipOption!==!1){var ne=te.type,ve=void 0;["point","edge","polygon"].includes(ne)?ve=this.getTooltipItemsByHitShape(te,c,St):["area","line","path","heatmap"].includes(ne)?ve=this.getTooltipItemsByFindData(te,c,St):ht!==!1?ve=this.getTooltipItemsByFindData(te,c,St):ve=this.getTooltipItemsByHitShape(te,c,St),ve.length&&(kt&&ve.reverse(),M.push(ve))}}for(var Oe=0,Ke=s.views;Oe<Ke.length;Oe++){var tr=Ke[Oe];M=M.concat(this.findItemsFromView(tr,c))}return M},h.prototype.getViewWithGeometry=function(s){var c=this;return s.geometries.length?s:Object(o.find)(s.views,function(M){return c.getViewWithGeometry(M)})},h.prototype.getItemsAfterProcess=function(s){var c=this.getTooltipCfg().customItems,M=c||function(w){return w};return M(s)},h}(ms),uc=uh,rl={};function Wl(p){return rl[p.toLowerCase()]}function To(p,h){rl[p.toLowerCase()]=h}var Ps={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},ch={interval:function(h){return{enter:{animation:h.isRect?h.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:h.isPolar&&h.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},fh={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(h){var s;return h.isRect?s=h.isTransposed?"grow-in-x":"grow-in-y":(s="grow-in-xy",h.isPolar&&h.isTransposed&&(s="wave-in")),{animation:s}},schema:function(h){var s;return h.isRect?s=h.isTransposed?"grow-in-x":"grow-in-y":s="grow-in-xy",{animation:s}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function cc(p,h){return{delay:Object(o.isFunction)(p.delay)?p.delay(h):p.delay,easing:Object(o.isFunction)(p.easing)?p.easing(h):p.easing,duration:Object(o.isFunction)(p.duration)?p.duration(h):p.duration,callback:p.callback,repeat:p.repeat}}function Su(p,h,s){var c=ch[p];return c&&(Object(o.isFunction)(c)&&(c=c(h)),c=Object(o.deepMix)({},Ps,c),s)?c[s]:c}function zl(p,h,s){var c=Object(o.get)(p.get("origin"),"data",T),M=h.animation,w=cc(h,c);if(M){var $=Wl(M);$&&$(p,w,s)}else p.animate(s.toAttrs,w)}function fc(p,h,s,c,M){if(fh[s]){var w=fh[s](c),$=Wl(Object(o.get)(w,"animation",""));if($){var ht=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},Ps.appear),w),h);p.stopAnimate(),$(p,ht,{coordinate:c,minYPoint:M,toAttrs:null})}}}var gf="element-background",hc=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.states=[];var M=s.shapeFactory,w=s.container,$=s.offscreenGroup,ht=s.visible,St=ht===void 0?!0:ht;return c.shapeFactory=M,c.container=w,c.offscreenGroup=$,c.visible=St,c}return h.prototype.draw=function(s,c){c===void 0&&(c=!1),this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.drawShape(s,c),this.visible===!1&&this.changeVisible(!1)},h.prototype.update=function(s){var c=this,M=c.shapeFactory,w=c.shape;if(!!w){this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.setShapeInfo(w,s);var $=this.getOffscreenGroup(),ht=M.drawShape(this.shapeType,s,$);ht.cfg.data=this.data,ht.cfg.origin=s,ht.cfg.element=this,this.syncShapeStyle(w,ht,this.getStates(),this.getAnimateCfg("update"))}},h.prototype.destroy=function(){var s=this,c=s.shapeFactory,M=s.shape;if(M){var w=this.getAnimateCfg("leave");w?zl(M,w,{coordinate:c.coordinate,toAttrs:Object(f.__assign)({},M.attr())}):M.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},h.prototype.changeVisible=function(s){p.prototype.changeVisible.call(this,s),s?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(c){c.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(c){c.hide()}))},h.prototype.setState=function(s,c){var M=this,w=M.states,$=M.shapeFactory,ht=M.model,St=M.shape,kt=M.shapeType,_t=w.indexOf(s);if(c){if(_t>-1)return;w.push(s),(s==="active"||s==="selected")&&(St==null||St.toFront())}else{if(_t===-1)return;w.splice(_t,1),(s==="active"||s==="selected")&&(St==null||St.toBack())}var Zt=$.drawShape(kt,ht,this.getOffscreenGroup());w.length?this.syncShapeStyle(St,Zt,w,null):this.syncShapeStyle(St,Zt,["reset"],null),Zt.remove(!0);var te={state:s,stateStatus:c,element:this,target:this.container};this.container.emit("statechange",te),Object(Ft.propagationDelegate)(this.shape,"statechange",te)},h.prototype.clearStates=function(){var s=this,c=this.states;Object(o.each)(c,function(M){s.setState(M,!1)}),this.states=[]},h.prototype.hasState=function(s){return this.states.includes(s)},h.prototype.getStates=function(){return this.states},h.prototype.getData=function(){return this.data},h.prototype.getModel=function(){return this.model},h.prototype.getBBox=function(){var s=this,c=s.shape,M=s.labelShape,w={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return c&&(w=c.getCanvasBBox()),M&&M.forEach(function($){var ht=$.getCanvasBBox();w.x=Math.min(ht.x,w.x),w.y=Math.min(ht.y,w.y),w.minX=Math.min(ht.minX,w.minX),w.minY=Math.min(ht.minY,w.minY),w.maxX=Math.max(ht.maxX,w.maxX),w.maxY=Math.max(ht.maxY,w.maxY)}),w.width=w.maxX-w.minX,w.height=w.maxY-w.minY,w},h.prototype.getStatesStyle=function(){if(!this.statesStyle){var s=this,c=s.shapeType,M=s.geometry,w=s.shapeFactory,$=M.stateOption,ht=w.defaultShapeType,St=w.theme[c]||w.theme[ht];this.statesStyle=Object(o.deepMix)({},St,$)}return this.statesStyle},h.prototype.getStateStyle=function(s,c){var M=this.getStatesStyle(),w=Object(o.get)(M,[s,"style"],{}),$=w[c]||w;return Object(o.isFunction)($)?$(this):$},h.prototype.getAnimateCfg=function(s){var c=this,M=this.animate;if(M){var w=M[s];return w&&Object(f.__assign)(Object(f.__assign)({},w),{callback:function(){var ht;Object(o.isFunction)(w.callback)&&w.callback(),(ht=c.geometry)===null||ht===void 0||ht.emit(S.AFTER_DRAW_ANIMATE)}})}return null},h.prototype.drawShape=function(s,c){var M;c===void 0&&(c=!1);var w=this,$=w.shapeFactory,ht=w.container,St=w.shapeType;if(this.shape=$.drawShape(St,s,ht),this.shape){this.setShapeInfo(this.shape,s);var kt=this.shape.cfg.name;kt?Object(o.isString)(kt)&&(this.shape.cfg.name=["element",kt]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var _t=c?"enter":"appear",Zt=this.getAnimateCfg(_t);Zt&&((M=this.geometry)===null||M===void 0||M.emit(S.BEFORE_DRAW_ANIMATE),zl(this.shape,Zt,{coordinate:$.coordinate,toAttrs:Object(f.__assign)({},this.shape.attr())}))}},h.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},h.prototype.setShapeInfo=function(s,c){var M=this;if(s.cfg.origin=c,s.cfg.element=this,s.isGroup()){var w=s.get("children");w.forEach(function($){M.setShapeInfo($,c)})}},h.prototype.syncShapeStyle=function(s,c,M,w,$){var ht=this,St;if(M===void 0&&(M=[]),$===void 0&&($=0),!(!s||!c)){var kt=s.get("clipShape"),_t=c.get("clipShape");if(this.syncShapeStyle(kt,_t,M,w),s.isGroup())for(var Zt=s.get("children"),te=c.get("children"),ne=0;ne<Zt.length;ne++)this.syncShapeStyle(Zt[ne],te[ne],M,w,$+ne);else{if(!Object(o.isEmpty)(M)&&!Object(o.isEqual)(M,["reset"])){var ve=s.get("name");Object(o.isArray)(ve)&&(ve=ve[1]),Object(o.each)(M,function(Ke){if(c.get("name")!==gf){var tr=ht.getStateStyle(Ke,ve||$);c.attr(tr)}})}var Oe=$e(s,c);this.animate?w?((St=this.geometry)===null||St===void 0||St.emit(S.BEFORE_DRAW_ANIMATE),zl(s,w,{coordinate:this.shapeFactory.coordinate,toAttrs:Oe,shapeModel:this.model})):Object(o.isEmpty)(M)?(s.stopAnimate(),s.animate(Oe,{duration:300})):s.attr(Oe):s.attr(Oe)}}},h.prototype.getShapeType=function(s){var c=Object(o.get)(s,"shape");return Object(o.isArray)(c)?c[0]:c},h}(Q),kl=hc,Mu={},dc={};function vc(p){return Mu[p.toLowerCase()]}function Is(p,h){Mu[p.toLowerCase()]=h}function pf(p){return dc[p.toLowerCase()]}function eo(p,h){dc[p.toLowerCase()]=h}var gc={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(h,s){var c=this.getShape(h);return c.getPoints?c.getPoints(s):this.getDefaultPoints(s)},getShape:function(h){var s=this[h]||this[this.defaultShapeType];return s.coordinate=this.coordinate,s},getDefaultPoints:function(){return[]},getDefaultStyle:function(h){return Object(o.get)(h,[this.defaultShapeType,"default","style"],{})},getMarker:function(h,s){var c=this.getShape(h);if(!c.getMarker){var M=this.defaultShapeType;c=this.getShape(M)}var w=this.theme,$=Object(o.get)(w,[h,"default"],{}),ht=c.getMarker(s);return Object(o.deepMix)({},$,ht)},drawShape:function(h,s,c){var M=this.getShape(h);return M.draw(s,c)}},fd={coordinate:null,parsePath:function(h){var s=this.coordinate,c=Object(Ln.c)(h);return s.isPolar?c=Vn(s,c):c=hn(s,c),c},parsePoint:function(h){var s=this.coordinate;return s.convert(h)},parsePoints:function(h){var s=this.coordinate;return h.map(function(c){return s.convert(c)})},draw:function(h,s){}},yf={};function ks(p,h){var s=Object(o.upperFirst)(p),c=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},gc),h),{geometryType:p});return yf[s]=c,c}function ea(p,h,s){var c=Object(o.upperFirst)(p),M=yf[c],w=Object(f.__assign)(Object(f.__assign)({},fd),s);return M[h]=w,w}function pc(p){var h=Object(o.upperFirst)(p);return yf[h]}function hd(p,h,s){if(s===void 0&&(s={}),!h)return[p];var c=Object(o.groupToMap)(p,h),M=[];if(h.length===1&&s[h[0]])for(var w=s[h[0]],$=0,ht=w;$<ht.length;$++){var St=ht[$],kt=c["_"+St];kt&&M.push(kt)}else for(var _t in c)if(c.hasOwnProperty(_t)){var Zt=c[_t];M.push(Zt)}return M}function mf(p,h){return Object(o.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(s){return!Object(o.isEqual)(p[s],h[s])})}function Vs(p){return Object(o.isArray)(p)?p:p.split("*")}function dd(p,h){var s=[];return Object(o.each)(h,function(c,M){var w=M.split(" ")[0];w===p&&s.push(c)}),s}var nl=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.type="base",c.attributes={},c.elements=[],c.elementsMap={},c.animateOption=!0,c.attributeOption={},c.lastElementsMap={},c.generatePoints=!1,c.beforeMappingData=null,c.adjusts={},c.idFields=[],c.hasSorted=!1,c.isCoordinateChanged=!1;var M=s.container,w=s.labelsContainer,$=s.coordinate,ht=s.data,St=s.sortable,kt=St===void 0?!1:St,_t=s.visible,Zt=_t===void 0?!0:_t,te=s.theme,ne=s.scales,ve=ne===void 0?{}:ne,Oe=s.scaleDefs,Ke=Oe===void 0?{}:Oe,tr=s.intervalPadding,mr=s.dodgePadding,Or=s.maxColumnWidth,yn=s.minColumnWidth,sn=s.columnWidthRatio,mn=s.roseWidthRatio,di=s.multiplePieWidthRatio,Zn=s.zIndexReversed;return c.container=M,c.labelsContainer=w,c.coordinate=$,c.data=ht,c.sortable=kt,c.visible=Zt,c.userTheme=te,c.scales=ve,c.scaleDefs=Ke,c.intervalPadding=tr,c.dodgePadding=mr,c.maxColumnWidth=Or,c.minColumnWidth=yn,c.columnWidthRatio=sn,c.roseWidthRatio=mn,c.multiplePieWidthRatio=di,c.zIndexReversed=Zn,c}return h.prototype.position=function(s){var c=s;Object(o.isPlainObject)(s)||(c={fields:Vs(s)});var M=Object(o.get)(c,"fields");return M.length===1&&(M.unshift("1"),Object(o.set)(c,"fields",M)),Object(o.set)(this.attributeOption,"position",c),this},h.prototype.color=function(s,c){return this.createAttrOption("color",s,c),this},h.prototype.shape=function(s,c){return this.createAttrOption("shape",s,c),this},h.prototype.size=function(s,c){return this.createAttrOption("size",s,c),this},h.prototype.adjust=function(s){var c=s;return(Object(o.isString)(s)||Object(o.isPlainObject)(s))&&(c=[s]),Object(o.each)(c,function(M,w){Object(o.isObject)(M)||(c[w]={type:M})}),this.adjustOption=c,this},h.prototype.style=function(s,c){if(Object(o.isString)(s)){var M=Vs(s);this.styleOption={fields:M,callback:c}}else{var w=s,M=w.fields,$=w.callback,ht=w.cfg;M||$||ht?this.styleOption=s:this.styleOption={cfg:s}}return this},h.prototype.tooltip=function(s,c){if(Object(o.isString)(s)){var M=Vs(s);this.tooltipOption={fields:M,callback:c}}else this.tooltipOption=s;return this},h.prototype.animate=function(s){return this.animateOption=s,this},h.prototype.label=function(s,c,M){if(Object(o.isString)(s)){var w={},$=Vs(s);w.fields=$,Object(o.isFunction)(c)?w.callback=c:Object(o.isPlainObject)(c)&&(w.cfg=c),M&&(w.cfg=M),this.labelOption=w}else this.labelOption=s;return this},h.prototype.state=function(s){return this.stateOption=s,this},h.prototype.customInfo=function(s){return this.customOption=s,this},h.prototype.init=function(s){s===void 0&&(s={}),this.setCfg(s),this.initAttributes(),this.processData(this.data),this.adjustScale()},h.prototype.update=function(s){s===void 0&&(s={});var c=s.data,M=s.isDataChanged,w=s.isCoordinateChanged,$=this,ht=$.attributeOption,St=$.lastAttributeOption;Object(o.isEqual)(ht,St)?c&&(M||!Object(o.isEqual)(c,this.data))?(this.setCfg(s),this.initAttributes(),this.processData(c)):this.setCfg(s):this.init(s),this.adjustScale(),this.isCoordinateChanged=w},h.prototype.paint=function(s){var c=this;s===void 0&&(s=!1),this.animateOption&&(this.animateOption=Object(o.deepMix)({},Su(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var M=this.getOffscreenGroup();M.clear();for(var w=this.beforeMappingData,$=this.beforeMapping(w),ht=[],St=0,kt=$.length;St<kt;St++){var _t=$[St],Zt=this.mapping(_t);ht.push(Zt),this.createElements(Zt,St,s)}if(this.canDoGroupAnimation(s)){var te=this.container,ne=this.type,ve=this.coordinate,Oe=Object(o.get)(this.animateOption,"appear"),Ke=this.getYScale(),tr=ve.convert({x:0,y:Ke.scale(this.getYMinValue())});fc(te,Oe,ne,ve,tr)}this.labelOption&&this.renderLabels(Object(o.flatten)(ht),s),this.dataArray=ht,Object(o.each)(this.lastElementsMap,function(mr){mr.animate=c.animateOption,mr.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(f.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},h.prototype.clear=function(){var s=this,c=s.container,M=s.geometryLabel,w=s.offscreenGroup;c&&c.clear(),M&&M.clear(),w&&w.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},h.prototype.destroy=function(){this.clear();var s=this.container;s.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,p.prototype.destroy.call(this)},h.prototype.getGroupScales=function(){return this.groupScales},h.prototype.getAttribute=function(s){return this.attributes[s]},h.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},h.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},h.prototype.getGroupAttributes=function(){var s=[];return Object(o.each)(this.attributes,function(c){m.includes(c.type)&&s.push(c)}),s},h.prototype.getDefaultValue=function(s){var c,M=this.getAttribute(s);return M&&Object(o.isEmpty)(M.scales)&&(c=M.values[0]),c},h.prototype.getAttributeValues=function(s,c){for(var M=[],w=s.scales,$=0,ht=w.length;$<ht;$++){var St=w[$],kt=St.field;St.isIdentity?M.push(St.values):M.push(c[kt])}return s.mapping.apply(s,M)},h.prototype.getAdjust=function(s){return this.adjusts[s]},h.prototype.getShapeMarker=function(s,c){var M=this.getShapeFactory();return M.getMarker(s,c)},h.prototype.getElementsBy=function(s){return this.elements.filter(function(c){return s(c)})},h.prototype.getElementId=function(s){s=Object(o.isArray)(s)?s[0]:s;var c=s[T];if(this.idFields.length){for(var M=c[this.idFields[0]],w=1;w<this.idFields.length;w++)M+="-"+c[this.idFields[w]];return M}var $=this.type,ht=this.getXScale(),St=this.getYScale(),kt=ht.field||"x",_t=St.field||"y",Zt=c[_t],te;ht.type==="identity"?te=ht.values[0]:te=c[kt];var ne;$==="interval"||$==="schema"?ne=""+te:$==="line"||$==="area"||$==="path"?ne=$:ne=te+"-"+Zt;var ve=this.groupScales;Object(o.isEmpty)(ve)&&(ve=Object(o.get)(this.getAttribute("color"),"scales",[]));for(var w=0,Oe=ve.length;w<Oe;w++){var Ke=ve[w],tr=Ke.field;ne=ne+"-"+c[tr]}var mr=this.getAdjust("dodge");if(mr){var Or=mr.dodgeBy;Or&&(ne=ne+"-"+c[Or])}return this.getAdjust("jitter")&&(ne=ne+"-"+s.x+"-"+s.y),ne},h.prototype.getScaleFields=function(){var s=[],c={},M=this,w=M.attributeOption,$=M.labelOption,ht=M.tooltipOption;for(var St in w)if(w.hasOwnProperty(St)){var kt=w[St];kt.fields?nr(kt.fields,s,c):kt.values&&nr(kt.values,s,c)}return $&&$.fields&&nr($.fields,s,c),Object(o.isObject)(ht)&&ht.fields&&nr(ht.fields,s,c),s},h.prototype.changeVisible=function(s){p.prototype.changeVisible.call(this,s);for(var c=this.elements,M=0,w=c.length;M<w;M++){var $=c[M];$.changeVisible(s)}s?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},h.prototype.getGroupFields=function(){for(var s=[],c={},M=0,w=m.length;M<w;M++){var $=m[M],ht=this.attributeOption[$];ht&&ht.fields&&nr(ht.fields,s,c)}return s},h.prototype.getXYFields=function(){var s=this.attributeOption.position.fields,c=s[0],M=s[1];return[c,M]},h.prototype.getShapes=function(){return this.elements.map(function(s){return s.shape})},h.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},h.prototype.sort=function(s){if(!this.hasSorted)for(var c=this.getXScale(),M=c.field,w=0;w<s.length;w++){var $=s[w];$.sort(function(ht,St){return c.translate(ht[T][M])-c.translate(St[T][M])})}this.hasSorted=!0},h.prototype.adjustScale=function(){var s=this.getYScale();s&&this.getAdjust("stack")&&this.updateStackRange(s,this.beforeMappingData)},h.prototype.getShapeFactory=function(){var s=this.shapeType;if(!!pc(s))return this.shapeFactory||(this.shapeFactory=Object(o.clone)(pc(s))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[s]||{},this.shapeFactory},h.prototype.createShapePointsCfg=function(s){var c=this.getXScale(),M=this.getYScale(),w=this.normalizeValues(s[c.field],c),$;return M?$=this.normalizeValues(s[M.field],M):$=s.y?s.y:.1,{x:w,y:$,y0:M?M.scale(this.getYMinValue()):void 0}},h.prototype.createElement=function(s,c){c===void 0&&(c=!1);var M=this.container,w=this.getDrawCfg(s),$=this.getShapeFactory(),ht=new kl({shapeFactory:$,container:M,offscreenGroup:this.getOffscreenGroup()});return ht.animate=this.animateOption,ht.geometry=this,ht.draw(w,c),ht},h.prototype.getDrawCfg=function(s){var c=s[T],M={mappingData:s,data:c,x:s.x,y:s.y,color:s.color,size:s.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},w=s.shape;!w&&this.getShapeFactory()&&(w=this.getShapeFactory().defaultShapeType),M.shape=w;var $=this.theme.geometries[this.shapeType];M.defaultStyle=Object(o.get)($,[w,"default"],{}).style,!M.defaultStyle&&this.getShapeFactory()&&(M.defaultStyle=this.getShapeFactory().getDefaultStyle($));var ht=this.styleOption;return ht&&(M.style=this.getStyleCfg(ht,c)),this.generatePoints&&(M.points=s.points,M.nextPoints=s.nextPoints),M},h.prototype.createElements=function(s,c,M){M===void 0&&(M=!1);for(var w=this,$=w.lastElementsMap,ht=w.elementsMap,St=w.elements,kt=0,_t=s.length;kt<_t;kt++){var Zt=s[kt],te=this.getElementId(Zt);ht[te]&&(te=te+"-"+c+"-"+kt);var ne=$[te];if(!ne)ne=this.createElement(Zt,M);else{var ve=this.getDrawCfg(Zt),Oe=ne.getModel();(this.isCoordinateChanged||mf(ve,Oe))&&(ne.animate=this.animateOption,ne.update(ve)),delete $[te]}St.push(ne),ht[te]=ne}if(this.zIndexReversed){var Ke=St.length;St.forEach(function(tr,mr){tr.shape.setZIndex(Ke-mr)})}return St},h.prototype.getLabelType=function(){var s=this,c=s.labelOption,M=s.coordinate,w=s.type,$=M.type,ht=M.isTransposed,St=Object(o.get)(c,["cfg","type"]);return St||($==="polar"?St=ht?"pie":"polar":$==="theta"?St="pie":w==="interval"||w==="polygon"?St="interval":St="base"),St},h.prototype.getYMinValue=function(){var s=this.getYScale(),c=s.min,M=s.max,w;return c>=0?w=c:M<=0?w=M:w=0,w},h.prototype.createAttrOption=function(s,c,M){if(Object(o.isNil)(c)||Object(o.isObject)(c))Object(o.isObject)(c)&&Object(o.isEqual)(Object.keys(c),["values"])?Object(o.set)(this.attributeOption,s,{fields:c.values}):Object(o.set)(this.attributeOption,s,c);else{var w={};Object(o.isNumber)(c)?w.values=[c]:w.fields=Vs(c),M&&(Object(o.isFunction)(M)?w.callback=M:w.values=M),Object(o.set)(this.attributeOption,s,w)}},h.prototype.initAttributes=function(){var s=this,c=this,M=c.attributes,w=c.attributeOption,$=c.theme,ht=c.shapeType;this.groupScales=[];var St={},kt=function(ne){if(w.hasOwnProperty(ne)){var ve=w[ne];if(!ve)return{value:void 0};var Oe=Object(f.__assign)({},ve),Ke=Oe.callback,tr=Oe.values,mr=Oe.fields,Or=mr===void 0?[]:mr,yn=Or.map(function(mn){var di=s.scales[mn];return di.isCategory&&!St[mn]&&m.includes(ne)&&(s.groupScales.push(di),St[mn]=!0),di});Oe.scales=yn,ne!=="position"&&yn.length===1&&yn[0].type==="identity"?Oe.values=yn[0].values:!Ke&&!tr&&(ne==="size"?Oe.values=$.sizes:ne==="shape"?Oe.values=$.shapes[ht]||[]:ne==="color"&&(yn.length?Oe.values=yn[0].values.length<=10?$.colors10:$.colors20:Oe.values=$.colors10));var sn=Ot(ne);M[ne]=new sn(Oe)}};for(var _t in w){var Zt=kt(_t);if(typeof Zt=="object")return Zt.value}},h.prototype.processData=function(s){this.hasSorted=!1;for(var c=this.getAttribute("position").scales,M=c.filter(function(sn){return sn.isCategory}),w=this.groupData(s),$=[],ht=0,St=w.length;ht<St;ht++){for(var kt=w[ht],_t=[],Zt=0,te=kt.length;Zt<te;Zt++){var ne=kt[Zt],ve={};for(var Oe in ne)ve[Oe]=ne[Oe];ve[T]=ne;for(var Ke=0,tr=M;Ke<tr.length;Ke++){var mr=tr[Ke],Or=mr.field;ve[Or]=mr.translate(ve[Or])}_t.push(ve)}$.push(_t)}var yn=this.adjustData($);return this.beforeMappingData=yn,yn},h.prototype.adjustData=function(s){var c=this.adjustOption,M=this,w=M.intervalPadding,$=M.dodgePadding,ht=M.theme,St=this.maxColumnWidth||ht.maxColumnWidth,kt=this.minColumnWidth||ht.minColumnWidth,_t=this.columnWidthRatio||ht.columnWidthRatio,Zt=s;if(c){var te=this.getXScale(),ne=this.getYScale(),ve=te.field,Oe=ne?ne.field:null,Ke=Le(this.coordinate),tr=te.values.length,mr=this.getAttribute("size"),Or=void 0;mr&&(Or=mr.values[0]);for(var yn=0,sn=c.length;yn<sn;yn++){var mn=c[yn],di=Object(f.__assign)({xField:ve,yField:Oe,intervalPadding:w,dodgePadding:$,xDimensionLength:Ke,groupNum:tr,defaultSize:Or,maxColumnWidth:St,minColumnWidth:kt,columnWidthRatio:_t},mn),Zn=mn.type;if(Zn==="dodge"){var $n=[];if(te.isCategory||te.type==="identity")$n.push("x");else if(!ne)$n.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");di.adjustNames=$n,di.dodgeRatio=_t}else if(Zn==="stack"){var Di=this.coordinate;if(!ne){di.height=Di.getHeight();var ra=this.getDefaultValue("size")||3;di.size=ra}!Di.isTransposed&&Object(o.isNil)(di.reverseOrder)&&(di.reverseOrder=!0)}var _i=Object(_.getAdjust)(Zn),Qa=new _i(di);Zt=Qa.process(Zt),this.adjusts[Zn]=Qa}}return Zt},h.prototype.groupData=function(s){for(var c=this.getGroupScales(),M=this.scaleDefs,w={},$=[],ht=0;ht<c.length;ht++){var St=c[ht],kt=St.field;$.push(kt),Object(o.get)(M,[kt,"values"])&&(w[kt]=M[kt].values)}return hd(s,$,w)},h.prototype.updateStackRange=function(s,c){for(var M=Object(o.flatten)(c),w=s.field,$=s.min,ht=s.max,St=0;St<M.length;St++){var kt=M[St],_t=Math.min.apply(null,kt[w]),Zt=Math.max.apply(null,kt[w]);_t<$&&($=_t),Zt>ht&&(ht=Zt)}var te=this.scaleDefs,ne={};$<s.min&&!Object(o.get)(te,[w,"min"])&&(ne.min=$),ht>s.max&&!Object(o.get)(te,[w,"max"])&&(ne.max=ht),s.change(ne)},h.prototype.beforeMapping=function(s){var c=s;if(this.sortable&&this.sort(c),this.generatePoints)for(var M=0,w=c.length;M<w;M++){var $=c[M];this.generateShapePoints($);var ht=c[M+1];ht&&(this.generateShapePoints(ht),$[0].nextPoints=ht[0].points)}return c},h.prototype.generateShapePoints=function(s){for(var c=this.getShapeFactory(),M=this.getAttribute("shape"),w=0;w<s.length;w++){var $=s[w],ht=this.createShapePointsCfg($),St=M?this.getAttributeValues(M,$):null,kt=c.getShapePoints(St,ht);$.points=kt}},h.prototype.normalizeValues=function(s,c){var M=[];if(Object(o.isArray)(s))for(var w=0;w<s.length;w++){var $=s[w];M.push(c.scale($))}else M=c.scale(s);return M},h.prototype.mapping=function(s){for(var c=this.attributes,M=[],w=0;w<s.length;w++){var $=s[w],ht={_origin:$[T],points:$.points,nextPoints:$.nextPoints};for(var St in c)if(c.hasOwnProperty(St)){var kt=c[St],_t=kt.names,Zt=this.getAttributeValues(kt,$);if(_t.length>1)for(var te=0;te<Zt.length;te+=1){var ne=Zt[te],ve=_t[te];ht[ve]=Object(o.isArray)(ne)&&ne.length===1?ne[0]:ne}else ht[_t[0]]=Zt.length===1?Zt[0]:Zt}this.convertPoint(ht),M.push(ht)}return M},h.prototype.convertPoint=function(s){var c=s.x,M=s.y,w,$,ht,St=this.coordinate;if(Object(o.isArray)(c)&&Object(o.isArray)(M)){w=[],$=[];for(var kt=0,_t=0,Zt=c.length,te=M.length;kt<Zt&&_t<te;kt+=1,_t+=1)ht=St.convert({x:c[kt],y:M[_t]}),w.push(ht.x),$.push(ht.y)}else if(Object(o.isArray)(M)){$=[];for(var ne=0;ne<M.length;ne++){var ve=M[ne];ht=St.convert({x:c,y:ve}),w&&w!==ht.x?(Object(o.isArray)(w)||(w=[w]),w.push(ht.x)):w=ht.x,$.push(ht.y)}}else if(Object(o.isArray)(c)){w=[];for(var ne=0;ne<c.length;ne++){var Oe=c[ne];ht=St.convert({x:Oe,y:M}),$&&$!==ht.y?(Object(o.isArray)($)||($=[$]),$.push(ht.y)):$=ht.y,w.push(ht.x)}}else{var Ke=St.convert({x:c,y:M});w=Ke.x,$=Ke.y}s.x=w,s.y=$},h.prototype.getStyleCfg=function(s,c){var M=s.fields,w=M===void 0?[]:M,$=s.callback,ht=s.cfg;if(ht)return ht;var St=w.map(function(kt){return c[kt]});return $.apply(void 0,St)},h.prototype.setCfg=function(s){var c=this,M=s.coordinate,w=s.data,$=s.theme,ht=s.scaleDefs;M&&(this.coordinate=M),w&&(this.data=w),ht&&(this.scaleDefs=ht,this.idFields=[],Object(o.each)(ht,function(St,kt){St&&St.key&&c.idFields.push(kt)})),$&&(this.theme=this.userTheme?Object(o.deepMix)({},$,this.userTheme):$)},h.prototype.renderLabels=function(s,c){c===void 0&&(c=!1);var M=this.geometryLabel;if(!M){var w=this.getLabelType(),$=vc(w);M=new $(this),this.geometryLabel=M}M.render(s,c);var ht=M.labelsRenderer.shapesMap;Object(o.each)(this.elementsMap,function(St,kt){var _t=dd(kt,ht);if(_t.length){St.labelShape=_t;for(var Zt=0;Zt<_t.length;Zt++)for(var te=_t[Zt],ne=te.getChildren(),ve=0;ve<ne.length;ve++){var Oe=ne[ve];Oe.cfg.name=["element","label"],Oe.cfg.element=St}}})},h.prototype.canDoGroupAnimation=function(s){return!s&&this.animateOption&&(Object(o.get)(this.animateOption,"appear")===void 0||Object(o.get)(this.animateOption,"appear")&&Object(o.get)(this.animateOption,["appear","animation"])===void 0)},h}(Q),Ka=nl,Xs=H.a.transform;function xl(p,h,s){var c=Xs(p.getMatrix(),[["t",h,s]]);p.setMatrix(c)}function il(p,h){var s=p.attr(),c=s.x,M=s.y,w=Xs(p.getMatrix(),[["t",-c,-M],["r",h],["t",c,M]]);return w}function Vl(p,h){var s=il(p,h);p.setMatrix(s)}function vd(){return[1,0,0,0,1,0,0,0,1]}function bf(p,h){var s=p.getBBox(),c=(s.minX+s.maxX)/2,M=(s.minY+s.maxY)/2;p.applyToMatrix([c,M,1]);var w=Xs(p.getMatrix(),[["t",-c,-M],["s",h,h],["t",c,M]]);p.setMatrix(w)}function bs(p){return p.find(function(h){return h.get("type")==="text"})}function yc(p,h,s){s===void 0&&(s=[0,0,0,0]);var c=p.getChildren()[0];if(c){var M=c.clone();(h==null?void 0:h.rotate)&&Vl(M,-h.rotate);var w=M.getCanvasBBox(),$=w.x,ht=w.y,St=w.width,kt=w.height;M.destroy();var _t=s;return Object(o.isNil)(_t)?_t=[2,2,2,2]:Object(o.isNumber)(_t)&&(_t=new Array(4).fill(_t)),{x:$-_t[3],y:ht-_t[0],width:St+_t[1]+_t[3],height:kt+_t[0]+_t[2],rotation:(h==null?void 0:h.rotate)||0}}}function Hs(p,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(p.x+p.width+s,h.x+h.width+s)-Math.max(p.x-s,h.x-s)),M=Math.max(0,Math.min(p.y+p.height+s,h.y+h.height+s)-Math.max(p.y-s,h.y-s));return c*M}function io(p,h){var s=p.getBBox();return Object(o.some)(h,function(c){var M=c.getBBox();return Hs(s,M,2)>0})}function Cu(p,h,s){var c=s.data,M=s.origin,w=s.animateCfg,$=s.coordinate,ht=Object(o.get)(w,"update");p.set("data",c),p.set("origin",M),p.set("animateCfg",w),p.set("coordinate",$),p.set("visible",h.get("visible")),p.getChildren().forEach(function(St,kt){var _t=h.getChildByIndex(kt);if(!_t)p.removeChild(St),St.remove(!0);else{St.set("data",c),St.set("origin",M),St.set("animateCfg",w),St.set("coordinate",$);var Zt=$e(St,_t);ht?zl(St,ht,{toAttrs:Zt,coordinate:$}):St.attr(Zt),_t.isGroup()&&Cu(St,_t,s)}}),Object(o.each)(h.getChildren(),function(St,kt){kt>=p.getCount()&&(St.destroyed||p.add(St))})}var Of=function(){function p(h){this.shapesMap={},this.lastShapesMap={};var s=h.layout,c=h.container;this.layout=s,this.container=c}return p.prototype.render=function(h,s,c){var M=this;c===void 0&&(c=!1),this.shapesMap={};var w=this.container,$=this.createOffscreenGroup();if(h.length){for(var ht=0,St=h;ht<St.length;ht++){var kt=St[ht];kt&&this.renderLabel(kt,$)}this.doLayout(h,s),this.renderLabelLine(h),this.renderLabelBackground(h),this.adjustLabel(h)}var _t=this.lastShapesMap,Zt=this.shapesMap;Object(o.each)(Zt,function(te,ne){if(te.destroyed)delete Zt[ne];else{if(_t[ne]){var ve=te.get("data"),Oe=te.get("origin"),Ke=te.get("coordinate"),tr=te.get("animateCfg"),mr=_t[ne];Cu(mr,Zt[ne],{data:ve,origin:Oe,animateCfg:tr,coordinate:Ke}),M.shapesMap[ne]=mr}else{w.add(te);var Or=Object(o.get)(te.get("animateCfg"),c?"enter":"appear");Or&&zl(te,Or,{toAttrs:Object(f.__assign)({},te.attr()),coordinate:te.get("coordinate")})}delete _t[ne]}}),Object(o.each)(_t,function(te){var ne=Object(o.get)(te.get("animateCfg"),"leave");ne?zl(te,ne,{toAttrs:null,coordinate:te.get("coordinate")}):te.remove(!0)}),this.lastShapesMap=Zt,$.destroy()},p.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},p.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},p.prototype.renderLabel=function(h,s){var c=h.id,M=h.elementId,w=h.data,$=h.mappingData,ht=h.coordinate,St=h.animate,kt=h.content,_t={id:c,elementId:M,data:w,origin:Object(f.__assign)(Object(f.__assign)({},$),{data:$[T]}),coordinate:ht},Zt=s.addGroup(Object(f.__assign)({name:"label",animateCfg:this.animate===!1||St===null||St===!1?!1:Object(o.deepMix)({},this.animate,St)},_t)),te;if(kt.isGroup&&kt.isGroup()||kt.isShape&&kt.isShape()){var ne=kt.getCanvasBBox(),ve=ne.width,Oe=ne.height,Ke=Object(o.get)(h,"textAlign","left"),tr=h.x,mr=h.y-Oe/2;Ke==="center"?tr=tr-ve/2:(Ke==="right"||Ke==="end")&&(tr=tr-ve),xl(kt,tr,mr),te=kt,Zt.add(kt)}else{var Or=Object(o.get)(h,["style","fill"]);te=Zt.addShape("text",Object(f.__assign)({attrs:Object(f.__assign)(Object(f.__assign)({x:h.x,y:h.y,textAlign:h.textAlign,textBaseline:Object(o.get)(h,"textBaseline","middle"),text:h.content},h.style),{fill:Object(o.isNull)(Or)?h.color:Or})},_t))}h.rotate&&Vl(te,h.rotate),this.shapesMap[c]=Zt},p.prototype.doLayout=function(h,s){var c=this;if(this.layout){var M=Object(o.isArray)(this.layout)?this.layout:[this.layout];Object(o.each)(M,function(w){var $=pf(Object(o.get)(w,"type",""));if($){var ht=[],St=[];Object(o.each)(c.shapesMap,function(kt,_t){ht.push(kt),St.push(s[kt.get("elementId")])}),$(h,ht,St,c.region,w.cfg)}})}},p.prototype.renderLabelLine=function(h){var s=this;Object(o.each)(h,function(c){var M=Object(o.get)(c,"coordinate");if(!(!c||!M)){var w=M.getCenter(),$=M.getRadius();if(!!c.labelLine){var ht=Object(o.get)(c,"labelLine",{}),St=c.id,kt=ht.path;if(!kt){var _t=Ce(w.x,w.y,$,c.angle);kt=[["M",_t.x,_t.y],["L",c.x,c.y]]}var Zt=s.shapesMap[St];Zt.destroyed||Zt.addShape("path",{capture:!1,attrs:Object(f.__assign)({path:kt,stroke:c.color?c.color:Object(o.get)(c,["style","fill"],"#000"),fill:null},ht.style),id:St,origin:c.mappingData,data:c.data,coordinate:c.coordinate})}}})},p.prototype.renderLabelBackground=function(h){var s=this;Object(o.each)(h,function(c){var M=Object(o.get)(c,"coordinate"),w=Object(o.get)(c,"background");if(!(!w||!M)){var $=c.id,ht=s.shapesMap[$];if(!ht.destroyed){var St=ht.getChildren()[0];if(St){var kt=yc(ht,c,w.padding),_t=kt.rotation,Zt=Object(f.__rest)(kt,["rotation"]),te=ht.addShape("rect",{attrs:Object(f.__assign)(Object(f.__assign)({},Zt),w.style||{}),id:$,origin:c.mappingData,data:c.data,coordinate:c.coordinate});if(te.setZIndex(-1),_t){var ne=St.getMatrix();te.setMatrix(ne)}}}}})},p.prototype.createOffscreenGroup=function(){var h=this.container,s=h.getGroupBase(),c=new s({});return c},p.prototype.adjustLabel=function(h){var s=this;Object(o.each)(h,function(c){if(c){var M=c.id,w=s.shapesMap[M];if(!w.destroyed){var $=w.findAll(function(ht){return ht.get("type")!=="path"});Object(o.each)($,function(ht){ht&&(c.offsetX&&ht.attr("x",ht.attr("x")+c.offsetX),c.offsetY&&ht.attr("y",ht.attr("y")+c.offsetY))})}}})},p}(),El=Of;function Ls(p){var h=0;return Object(o.each)(p,function(s){h+=s}),h/p.length}var hh=function(){function p(h){this.geometry=h}return p.prototype.getLabelItems=function(h){var s=this,c=[],M=this.getLabelCfgs(h);return Object(o.each)(h,function(w,$){var ht=M[$];if(!ht||Object(o.isNil)(w.x)||Object(o.isNil)(w.y)){c.push(null);return}var St=Object(o.isArray)(ht.content)?ht.content:[ht.content];ht.content=St;var kt=St.length;Object(o.each)(St,function(_t,Zt){if(Object(o.isNil)(_t)||_t===""){c.push(null);return}var te=Object(f.__assign)(Object(f.__assign)({},ht),s.getLabelPoint(ht,w,Zt));te.textAlign||(te.textAlign=s.getLabelAlign(te,Zt,kt)),te.offset<=0&&(te.labelLine=null),c.push(te)})}),c},p.prototype.render=function(h,s){s===void 0&&(s=!1);var c=this.getLabelItems(h),M=this.getLabelsRenderer(),w=this.getGeometryShapes();M.render(c,w,s)},p.prototype.clear=function(){var h=this.labelsRenderer;h&&h.clear()},p.prototype.destroy=function(){var h=this.labelsRenderer;h&&h.destroy(),this.labelsRenderer=null},p.prototype.getCoordinate=function(){return this.geometry.coordinate},p.prototype.getDefaultLabelCfg=function(h,s){var c=this.geometry,M=c.type,w=c.theme;return M==="polygon"||M==="interval"&&s==="middle"||h<0&&!["line","point","path"].includes(M)?Object(o.get)(w,"innerLabels",{}):Object(o.get)(w,"labels",{})},p.prototype.getThemedLabelCfg=function(h){var s=this.geometry,c=this.getDefaultLabelCfg(),M=s.type,w=s.theme,$;return M==="polygon"||h.offset<0&&!["line","point","path"].includes(M)?$=Object(o.deepMix)({},c,w.innerLabels,h):$=Object(o.deepMix)({},c,w.labels,h),$},p.prototype.setLabelPosition=function(h,s,c,M){},p.prototype.getLabelOffset=function(h){var s=this.getCoordinate(),c=this.getOffsetVector(h);return s.isTransposed?c[0]:c[1]},p.prototype.getLabelOffsetPoint=function(h,s,c){var M=h.offset,w=this.getCoordinate(),$=w.isTransposed,ht=$?"x":"y",St=$?1:-1,kt={x:0,y:0};return s>0||c===1?kt[ht]=M*St:kt[ht]=M*St*-1,kt},p.prototype.getLabelPoint=function(h,s,c){var M=this.getCoordinate(),w=h.content.length;function $(Ke,tr,mr){mr===void 0&&(mr=!1);var Or=Ke;return Object(o.isArray)(Or)&&(h.content.length===1?mr?Or=Ls(Or):Or.length<=2?Or=Or[Ke.length-1]:Or=Ls(Or):Or=Or[tr]),Or}var ht={content:h.content[c],x:0,y:0,start:{x:0,y:0},color:"#fff"},St=Object(o.isArray)(s.shape)?s.shape[0]:s.shape,kt=St==="funnel"||St==="pyramid";if(this.geometry.type==="polygon"){var _t=rr(s.x,s.y);ht.x=_t[0],ht.y=_t[1]}else this.geometry.type==="interval"&&!kt?(ht.x=$(s.x,c,!0),ht.y=$(s.y,c)):(ht.x=$(s.x,c),ht.y=$(s.y,c));if(kt){var Zt=Object(o.get)(s,"nextPoints"),te=Object(o.get)(s,"points");if(Zt){var ne=M.convert(te[1]),ve=M.convert(Zt[1]);ht.x=(ne.x+ve.x)/2,ht.y=(ne.y+ve.y)/2}else if(St==="pyramid"){var ne=M.convert(te[1]),ve=M.convert(te[2]);ht.x=(ne.x+ve.x)/2,ht.y=(ne.y+ve.y)/2}}h.position&&this.setLabelPosition(ht,s,c,h.position);var Oe=this.getLabelOffsetPoint(h,c,w);return ht.start={x:ht.x,y:ht.y},ht.x+=Oe.x,ht.y+=Oe.y,ht.color=s.color,ht},p.prototype.getLabelAlign=function(h,s,c){var M="center",w=this.getCoordinate();if(w.isTransposed){var $=h.offset;$<0?M="right":$===0?M="center":M="left",c>1&&s===0&&(M==="right"?M="left":M==="left"&&(M="right"))}return M},p.prototype.getLabelId=function(h){var s=this.geometry,c=s.type,M=s.getXScale(),w=s.getYScale(),$=h[T],ht=s.getElementId(h);return c==="line"||c==="area"?ht+=" "+$[M.field]:c==="path"&&(ht+=" "+$[M.field]+"-"+$[w.field]),ht},p.prototype.getLabelsRenderer=function(){var h=this.geometry,s=h.labelsContainer,c=h.labelOption,M=h.canvasRegion,w=h.animateOption,$=this.geometry.coordinate,ht=this.labelsRenderer;return ht||(ht=new El({container:s,layout:Object(o.get)(c,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=ht),ht.region=M,ht.animate=w?Su("label",$):!1,ht},p.prototype.getLabelCfgs=function(h){var s=this,c=this.geometry,M=c.labelOption,w=c.scales,$=c.coordinate,ht=M,St=ht.fields,kt=ht.callback,_t=ht.cfg,Zt=St.map(function(ne){return w[ne]}),te=[];return Object(o.each)(h,function(ne,ve){var Oe=ne[T],Ke=s.getLabelText(Oe,Zt),tr;if(kt){var mr=St.map(function(di){return Oe[di]});if(tr=kt.apply(void 0,mr),Object(o.isNil)(tr)){te.push(null);return}}var Or=Object(f.__assign)(Object(f.__assign)({id:s.getLabelId(ne),elementId:s.geometry.getElementId(ne),data:Oe,mappingData:ne,coordinate:$},_t),tr);Object(o.isFunction)(Or.position)&&(Or.position=Or.position(Oe,ne,ve));var yn=s.getLabelOffset(Or.offset||0),sn=s.getDefaultLabelCfg(yn,Or.position);Or=Object(o.deepMix)({},sn,Or),Or.offset=s.getLabelOffset(Or.offset||0);var mn=Or.content;Object(o.isFunction)(mn)?Or.content=mn(Oe,ne,ve):Object(o.isUndefined)(mn)&&(Or.content=Ke[0]),te.push(Or)}),te},p.prototype.getLabelText=function(h,s){var c=[];return Object(o.each)(s,function(M){var w=h[M.field];Object(o.isArray)(w)?w=w.map(function($){return M.getText($)}):w=M.getText(w),Object(o.isNil)(w)||w===""?c.push(null):c.push(w)}),c},p.prototype.getOffsetVector=function(h){h===void 0&&(h=0);var s=this.getCoordinate(),c=0;return Object(o.isNumber)(h)&&(c=h),s.isTransposed?s.applyMatrix(c,0):s.applyMatrix(0,c)},p.prototype.getGeometryShapes=function(){var h=this.geometry,s={};return Object(o.each)(h.elementsMap,function(c,M){s[M]=c.shape}),Object(o.each)(h.getOffscreenGroup().getChildren(),function(c){var M=h.getElementId(c.get("origin").mappingData);s[M]=c}),s},p}(),Au=hh,dh=a("+oza");function xf(p,h,s){if(!p)return s;var c;if(p.callback&&p.callback.length>1){var M=Array(p.callback.length-1).fill("");c=p.mapping.apply(p,Object(f.__spreadArrays)([h],M)).join("")}else c=p.mapping(h).join("");return c||s}var js={hexagon:function(h,s,c){var M=c/2*Math.sqrt(3);return[["M",h,s-c],["L",h+M,s-c/2],["L",h+M,s+c/2],["L",h,s+c],["L",h-M,s+c/2],["L",h-M,s-c/2],["Z"]]},bowtie:function(h,s,c){var M=c-1.5;return[["M",h-c,s-M],["L",h+c,s+M],["L",h+c,s-M],["L",h-c,s+M],["Z"]]},cross:function(h,s,c){return[["M",h-c,s-c],["L",h+c,s+c],["M",h+c,s-c],["L",h-c,s+c]]},tick:function(h,s,c){return[["M",h-c/2,s-c],["L",h+c/2,s-c],["M",h,s-c],["L",h,s+c],["M",h-c/2,s+c],["L",h+c/2,s+c]]},plus:function(h,s,c){return[["M",h-c,s],["L",h+c,s],["M",h,s-c],["L",h,s+c]]},hyphen:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},line:function(h,s,c){return[["M",h,s-c],["L",h,s+c]]}},mc=["line","cross","tick","plus","hyphen"];function Tu(p,h){return Object(o.isFunction)(h)?h(p):Object(o.deepMix)({},p,h)}function vh(p,h){var s=p.symbol;if(Object(o.isString)(s)&&mc.indexOf(s)!==-1){var c=Object(o.get)(p,"style",{}),M=Object(o.get)(c,"lineWidth",1),w=c.stroke||c.fill||h;p.style=Object(o.deepMix)({},p.style,{lineWidth:M,stroke:w,fill:null})}}function Ef(p){var h=p.symbol;Object(o.isString)(h)&&js[h]&&(p.symbol=js[h])}function bc(p){return p.startsWith(O.LEFT)||p.startsWith(O.RIGHT)?"vertical":"horizontal"}function Sf(p,h,s,c,M){var w=s.getScale(s.type);if(w.isCategory){var $=w.field,ht=h.getAttribute("color"),St=h.getAttribute("shape"),kt=p.getTheme().defaultColor,_t=h.coordinate.isPolar;return w.getTicks().map(function(Zt,te){var ne,ve=Zt.text,Oe=Zt.value,Ke=ve,tr=w.invert(Oe),mr=p.filterFieldData($,[(ne={},ne[$]=tr,ne)]).length===0;Object(o.each)(p.views,function(di){var Zn;di.filterFieldData($,[(Zn={},Zn[$]=tr,Zn)]).length||(mr=!0)});var Or=xf(ht,tr,kt),yn=xf(St,tr,"point"),sn=h.getShapeMarker(yn,{color:Or,isInPolar:_t}),mn=M;return Object(o.isFunction)(mn)&&(mn=mn(Ke,te,Object(f.__assign)({name:Ke,value:tr},Object(o.deepMix)({},c,sn)))),sn=Object(o.deepMix)({},c,sn,xr(Object(f.__assign)({},mn),["style"])),vh(sn,Or),mn&&mn.style&&(sn.style=Tu(sn.style,mn.style)),Ef(sn),{id:tr,name:Ke,value:tr,marker:sn,unchecked:mr}})}return[]}function Oc(p,h,s){return s.map(function(c,M){var w=h;Object(o.isFunction)(w)&&(w=w(c.name,M,Object(o.deepMix)({},p,c)));var $=Object(o.deepMix)({},p,w,c.marker);return Ef($),c.marker=$,c})}function Ri(p,h){var s=Object(o.get)(p,["components","legend"],{});return Object(o.deepMix)({},Object(o.get)(s,["common"],{}),Object(o.deepMix)({},Object(o.get)(s,[h],{})))}var kn="4.1.18",xc={getLegendItems:Sf,translate:xl,rotate:Vl,zoom:bf,transform:Xs,getAngle:lr,getSectorPath:Ie,polarToCartesian:Ce,getDelegationObject:sa,getTooltipItems:le},Oo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ui={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},_o=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ao=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],oo=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Du=function(h){h===void 0&&(h={});var s=h.backgroundColor,c=s===void 0?"#141414":s,M=h.subColor,w=M===void 0?"rgba(255,255,255,0.05)":M,$=h.paletteQualitative10,ht=$===void 0?_o:$,St=h.paletteQualitative20,kt=St===void 0?ao:St,_t=h.paletteSemanticRed,Zt=_t===void 0?"#F4664A":_t,te=h.paletteSemanticGreen,ne=te===void 0?"#30BF78":te,ve=h.paletteSemanticYellow,Oe=ve===void 0?"#FAAD14":ve,Ke=h.paletteSequence,tr=Ke===void 0?oo:Ke,mr=h.fontFamily,Or=mr===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:mr,yn=h.brandColor,sn=yn===void 0?ht[0]:yn;return{backgroundColor:c,brandColor:sn,subColor:w,paletteQualitative10:ht,paletteQualitative20:kt,paletteSemanticRed:Zt,paletteSemanticGreen:ne,paletteSemanticYellow:Oe,paletteSequence:tr,fontFamily:Or,axisLineBorderColor:Ui[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ui[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Ui[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ui[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ui[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ui[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ui[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:_o[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ui[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ui[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ui[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Ui[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ui[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ui[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Oo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Oo[25],annotationArcBorderColor:Ui[15],annotationArcBorder:1,annotationLineBorderColor:Ui[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ui[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ui[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ui[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ui[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ui[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Oo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ui[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Oo[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ui[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:_o[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Oo[100],pointBorderOpacity:1,pointActiveBorderColor:Ui[100],pointSelectedBorder:2,pointSelectedBorderColor:Ui[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:_o[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Oo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ui[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ui[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:_o[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:_o[0],areaFillOpacity:.25,areaActiveFillColor:_o[0],areaActiveFillOpacity:.5,areaSelectedFillColor:_o[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:_o[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ui[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ui[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:_o[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ui[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ui[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:_o[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Oo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ui[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ui[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Mf=Du(),Xl=a("ZVen"),Cf=a("l/Sb");function qo(p){return p?!1:p==null||isNaN(p)}function wo(p){if(Object(o.isArray)(p))return qo(p[1].y);var h=p.y;return Object(o.isArray)(h)?qo(h[0]):qo(h)}function Rs(p,h,s){if(h===void 0&&(h=!1),s===void 0&&(s=!0),!p.length||p.length===1&&!s)return[];if(h){for(var c=[],M=0,w=p.length;M<w;M++){var $=p[M];wo($)||c.push($)}return[c]}for(var ht=[],St=[],M=0,w=p.length;M<w;M++){var $=p[M];wo($)?St.length&&(St.length===1&&!s||ht.push(St),St=[]):St.push($)}return St.length&&ht.push(St),ht}function Os(p){for(var h=[],s=0;s<p.length;s++){var c=p[s];if(c){var M=s===0?"M":"L";h.push([M,c.x,c.y])}}var w=p[0];return w&&(h.push(["L",w.x,w.y]),h.push(["z"])),h}function Pu(p){for(var h=p.length/2,s=[],c=[],M=0;M<p.length;M++)M<h?s.push(p[M]):c.push(p[M]);var w=Wr(s,!1),$=Wr(c,!1);c.length&&w.push(["L",c[0].x,c[0].y]),$.shift();var ht=w.concat($);return s.length&&ht.push(["L",s[0].x,s[0].y]),ht.push(["z"]),ht}function qi(p,h,s,c){c===void 0&&(c="");var M=p.style,w=M===void 0?{}:M,$=p.defaultStyle,ht=p.color,St=p.size,kt=Object(f.__assign)(Object(f.__assign)({},$),w);return ht&&(h&&(w.stroke||(kt.stroke=ht)),s&&(w.fill||(kt.fill=ht))),c&&Object(o.isNil)(w[c])&&!Object(o.isNil)(St)&&(kt[c]=St),kt}function Sl(p){return Object(o.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},Object(o.get)(p,["background","style"]))}function Ml(p){var h=p.x,s=Object(o.isArray)(p.y)?p.y:[p.y];return s.map(function(c,M){return{x:Object(o.isArray)(h)?h[M]:h,y:c}})}var Af={line:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},dot:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},dash:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},smooth:function(h,s,c){return[["M",h-c,s],["A",c/2,c/2,0,1,1,h,s],["A",c/2,c/2,0,1,0,h+c,s]]},hv:function(h,s,c){return[["M",h-c-1,s-2.5],["L",h,s-2.5],["L",h,s+2.5],["L",h+c+1,s+2.5]]},vh:function(h,s,c){return[["M",h-c-1,s+2.5],["L",h,s+2.5],["L",h,s-2.5],["L",h+c+1,s-2.5]]},hvh:function(h,s,c){return[["M",h-(c+1),s+2.5],["L",h-c/2,s+2.5],["L",h-c/2,s-2.5],["L",h+c/2,s-2.5],["L",h+c/2,s+2.5],["L",h+c+1,s+2.5]]},vhv:function(h,s){return[["M",h-5,s+2.5],["L",h-5,s],["L",h,s],["L",h,s-3],["L",h,s+3],["L",h+6.5,s+3]]}};function Hl(p,h){var s=p.color;return{symbol:Af[h],style:{lineWidth:2,r:6,stroke:s}}}function Tf(p,h,s){for(var c=p.isStack,M=p.connectNulls,w=p.isInCircle,$=p.showSinglePoint,ht=qi(p,!0,!1,"lineWidth"),St=Rs(p.points,M,$),kt=[],_t=0,Zt=St.length;_t<Zt;_t++){var te=St[_t];kt=kt.concat(pd(te,w,c,h,s,ht))}return ht.path=kt,ht}function Ec(p,h,s,c,M){if(p.length===1)return[["M",p[0].x,p[0].y-M.lineWidth/2],["L",p[0].x,p[0].y],["L",p[0].x,p[0].y+M.lineWidth/2]];var w;return s?(h&&p.length&&p.push({x:p[0].x,y:p[0].y}),w=Wr(p,!1,c)):(w=hr(p,!1),h&&w.push(["Z"])),w}function gd(p,h,s,c,M,w){var $=[],ht=[];Object(o.each)(p,function(_t){var Zt=Ml(_t);$.push(Zt[1]),ht.push(Zt[0])});var St=Ec($,h,c,M,w),kt=Ec(ht,h,c,M,w);return s?St:St.concat(kt)}function pd(p,h,s,c,M,w){if(p.length){var $=p[0];return Object(o.isArray)($.y)?gd(p,h,s,c,M,w):Ec(p,h,c,M,w)}return[]}var yd=ks("line",{defaultShapeType:"line"});Object(o.each)(["line","dot","dash","smooth"],function(p){ea("line",p,{draw:function(s,c){var M=p==="smooth",w;if(M){var $=this.coordinate,ht=$.start,St=$.end;w=[[ht.x,St.y],[St.x,ht.y]]}var kt=Tf(s,M,w),_t=c.addShape({type:"path",attrs:kt,name:"line",capture:!M});return _t},getMarker:function(s){return Hl(s,p)}})});var pv=yd,Df=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.type="path",c.shapeType="line";var M=s.connectNulls,w=M===void 0?!1:M,$=s.showSinglePoint,ht=$===void 0?!0:$;return c.connectNulls=w,c.showSinglePoint=ht,c}return h.prototype.createElements=function(s,c,M){M===void 0&&(M=!1);var w=this,$=w.lastElementsMap,ht=w.elementsMap,St=w.elements,kt=w.container,_t=this.getElementId(s),Zt=this.getShapeInfo(s),te=$[_t];if(te){var ve=te.getModel();(this.isCoordinateChanged||mf(ve,Zt))&&(te.animate=this.animateOption,te.update(Zt)),delete $[_t]}else{var ne=this.getShapeFactory();te=new kl({shapeFactory:ne,container:kt,offscreenGroup:this.getOffscreenGroup()}),te.geometry=this,te.animate=this.animateOption,te.draw(Zt,M)}return St.push(te),ht[_t]=te,St},h.prototype.getPointsAndData=function(s){for(var c=[],M=[],w=0,$=s.length;w<$;w++){var ht=s[w];c.push({x:ht.x,y:ht.y}),M.push(ht[T])}return{points:c,data:M}},h.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]),M=this.getPointsAndData(s),w=M.points,$=M.data;return c.mappingData=s,c.data=$,c.isStack=!!this.getAdjust("stack"),c.points=w,c.connectNulls=this.connectNulls,c.showSinglePoint=this.showSinglePoint,c},h}(Ka),Iu=Df;function md(p,h,s,c,M){var w=[];if(p.length){for(var $=[],ht=[],St=0,kt=p.length;St<kt;St++){var _t=p[St];$.push(_t[1]),ht.push(_t[0])}ht=ht.reverse(),Object(o.each)([$,ht],function(Zt,te){var ne=[],ve=c.parsePoints(Zt),Oe=ve[0];$.length===1&&ht.length===1?ne=te===0?[["M",Oe.x-.5,Oe.y],["L",Oe.x+.5,Oe.y]]:[["L",Oe.x+.5,Oe.y],["L",Oe.x-.5,Oe.y]]:(h&&ve.push({x:Oe.x,y:Oe.y}),s?ne=Wr(ve,!1,M):ne=hr(ve,!1),te>0&&(ne[0][0]="L")),w=w.concat(ne)}),w.push(["Z"])}return w}function Lu(p,h,s,c,M){for(var w=qi(p,h,!h,"lineWidth"),$=p.connectNulls,ht=p.isInCircle,St=p.points,kt=p.showSinglePoint,_t=Rs(St,$,kt),Zt=[],te=0,ne=_t.length;te<ne;te++){var ve=_t[te];Zt=Zt.concat(md(ve,ht,s,c,M))}return w.path=Zt,w}function Yl(p){var h=p.start,s=p.end;return[[h.x,s.y],[s.x,h.y]]}var gh=ks("area",{defaultShapeType:"area",getDefaultPoints:function(h){var s=h.x,c=h.y0,M=Object(o.isArray)(h.y)?h.y:[c,h.y];return M.map(function(w){return{x:s,y:w}})}});ea("area","area",{draw:function(h,s){var c=Lu(h,!1,!1,this),M=s.addShape({type:"path",attrs:c,name:"area"});return M},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){return $===void 0&&($=5.5),[["M",M-$,w-4],["L",M+$,w-4],["L",M+$,w+4],["L",M-$,w+4],["Z"]]},style:{r:5,fill:s}}}});var yv=gh,Pf=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.type="area",c.shapeType="area",c.generatePoints=!0,c.startOnZero=!0;var M=s.startOnZero,w=M===void 0?!0:M,$=s.sortable,ht=$===void 0?!1:$,St=s.showSinglePoint,kt=St===void 0?!1:St;return c.startOnZero=w,c.sortable=ht,c.showSinglePoint=kt,c}return h.prototype.getPointsAndData=function(s){for(var c=[],M=[],w=0,$=s.length;w<$;w++){var ht=s[w];c.push(ht.points),M.push(ht[T])}return{points:c,data:M}},h.prototype.getYMinValue=function(){if(this.startOnZero)return p.prototype.getYMinValue.call(this);var s=this.getYScale();return s.min},h}(Iu),Sc=Pf,Mc=ks("edge",{defaultShapeType:"line",getDefaultPoints:function(h){return Ml(h)}});ea("edge","line",{draw:function(h,s){var c=qi(h,!0,!1,"lineWidth"),M=hr(this.parsePoints(h.points),this.coordinate.isPolar);return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var bd=Mc,Od=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.type="edge",s.shapeType="edge",s.generatePoints=!0,s}return h}(Ka),xd=Od,ph=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.type="heatmap",s.paletteCache={},s}return h.prototype.createElements=function(s,c,M){M===void 0&&(M=!1);var w=this.prepareRange(s),$=this.prepareSize(),ht=Object(o.get)(this.styleOption,["style","shadowBlur"]);return Object(o.isNumber)(ht)||(ht=$/2),this.prepareGreyScaleBlurredCircle($,ht),this.drawWithRange(s,w,$,ht),null},h.prototype.clear=function(){p.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},h.prototype.prepareRange=function(s){var c=this.getAttribute("color"),M=c.getFields()[0],w=Infinity,$=-Infinity;return s.forEach(function(ht){var St=ht[T][M];St>$&&($=St),St<w&&(w=St)}),w===$&&(w=$-1),[w,$]},h.prototype.prepareSize=function(){var s=this.getDefaultValue("size");return Object(o.isNumber)(s)||(s=this.getDefaultSize()),s},h.prototype.prepareGreyScaleBlurredCircle=function(s,c){var M=this.getGrayScaleBlurredCanvas(),w=s+c,$=M.getContext("2d");M.width=M.height=w*2,$.clearRect(0,0,M.width,M.height),$.shadowOffsetX=$.shadowOffsetY=w*2,$.shadowBlur=c,$.shadowColor="black",$.beginPath(),$.arc(-w,-w,s,0,Math.PI*2,!0),$.closePath(),$.fill()},h.prototype.drawWithRange=function(s,c,M,w){var $=this.coordinate,ht=$.start,St=$.end,kt=this.coordinate.getWidth(),_t=this.coordinate.getHeight(),Zt=this.getAttribute("color"),te=Zt.getFields()[0];this.clearShadowCanvasCtx();var ne=this.getShadowCanvasCtx();c&&(s=s.filter(function(Zn){return Zn[T][te]<=c[1]&&Zn[T][te]>=c[0]}));for(var ve=this.scales[te],Oe=0,Ke=s;Oe<Ke.length;Oe++){var tr=Ke[Oe],mr=this.getDrawCfg(tr),Or=mr.x,yn=mr.y,sn=ve.scale(tr[T][te]);this.drawGrayScaleBlurredCircle(Or-ht.x,yn-St.y,M+w,sn,ne)}var mn=ne.getImageData(0,0,kt,_t);this.clearShadowCanvasCtx(),this.colorize(mn),ne.putImageData(mn,0,0);var di=this.getImageShape();di.attr("x",ht.x),di.attr("y",St.y),di.attr("width",kt),di.attr("height",_t),di.attr("img",ne.canvas),di.set("origin",this.getShapeInfo(s))},h.prototype.getDefaultSize=function(){var s=this.getAttribute("position"),c=this.coordinate;return Math.min(c.getWidth()/(s.scales[0].ticks.length*4),c.getHeight()/(s.scales[1].ticks.length*4))},h.prototype.clearShadowCanvasCtx=function(){var s=this.getShadowCanvasCtx();s.clearRect(0,0,s.canvas.width,s.canvas.height)},h.prototype.getShadowCanvasCtx=function(){var s=this.shadowCanvas;return s||(s=document.createElement("canvas"),this.shadowCanvas=s),s.width=this.coordinate.getWidth(),s.height=this.coordinate.getHeight(),s.getContext("2d")},h.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},h.prototype.drawGrayScaleBlurredCircle=function(s,c,M,w,$){var ht=this.getGrayScaleBlurredCanvas();$.globalAlpha=w,$.drawImage(ht,s-M,c-M)},h.prototype.colorize=function(s){for(var c=this.getAttribute("color"),M=s.data,w=this.paletteCache,$=3;$<M.length;$+=4){var ht=M[$];if(Object(o.isNumber)(ht)){var St=w[ht]?w[ht]:ct.a.rgb2arr(c.gradient(ht/256));M[$-3]=St[0],M[$-2]=St[1],M[$-1]=St[2],M[$]=ht}}},h.prototype.getImageShape=function(){var s=this.imageShape;if(s)return s;var c=this.container;return s=c.addShape({type:"image",attrs:{}}),this.imageShape=s,s},h.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]);return Object(f.__assign)(Object(f.__assign)({},c),{mappingData:s,data:this.getData(s)})},h.prototype.getData=function(s){return s.map(function(c){return c[T]})},h}(Ka),yh=ph;function Cc(p,h){h===void 0&&(h=!1);var s=p.x,c=p.y,M=p.y0,w=p.size,$,ht;Object(o.isArray)(c)?($=c[0],ht=c[1]):($=M,ht=c);var St,kt;Object(o.isArray)(s)?(St=s[0],kt=s[1]):(St=s-w/2,kt=s+w/2);var _t=[{x:St,y:$},{x:St,y:ht}];return h?_t.push({x:kt,y:(ht+$)/2}):_t.push({x:kt,y:ht},{x:kt,y:$}),_t}function Ac(p,h){h===void 0&&(h=!0);var s=[],c=p[0];s.push(["M",c.x,c.y]);for(var M=1,w=p.length;M<w;M++)s.push(["L",p[M].x,p[M].y]);return h&&(s.push(["L",c.x,c.y]),s.push(["z"])),s}function Kl(p,h){var s=0,c=0,M=0,w=0;return Object(o.isArray)(p)?p.length===1?s=c=M=w=p[0]:p.length===2?(s=M=p[0],c=w=p[1]):p.length===3?(s=p[0],c=w=p[1],M=p[2]):(s=p[0],c=p[1],M=p[2],w=p[3]):s=c=M=w=p,s+c>h&&(s=s?h/(1+c/s):0,c=h-s),M+w>h&&(M=M?h/(1+w/M):0,w=h-M),[s||0,c||0,M||0,w||0]}function Tc(p,h,s){var c=[];if(s.isRect){var M=s.isTransposed?{x:s.start.x,y:h[0].y}:{x:h[0].x,y:s.start.y},w=s.isTransposed?{x:s.end.x,y:h[2].y}:{x:h[3].x,y:s.end.y},$=Object(o.get)(p,["background","style","radius"]);if($){var ht=s.isTransposed?Math.abs(h[0].y-h[2].y):h[2].x-h[1].x,St=s.isTransposed?s.getWidth():s.getHeight(),kt=Kl($,Math.min(ht,St)),_t=kt[0],Zt=kt[1],te=kt[2],ne=kt[3];c.push(["M",M.x,w.y+_t]),_t!==0&&c.push(["A",_t,_t,0,0,1,M.x+_t,w.y]),c.push(["L",w.x-Zt,w.y]),Zt!==0&&c.push(["A",Zt,Zt,0,0,1,w.x,w.y+Zt]),c.push(["L",w.x,M.y-te]),te!==0&&c.push(["A",te,te,0,0,1,w.x-te,M.y]),c.push(["L",M.x+ne,M.y]),ne!==0&&c.push(["A",ne,ne,0,0,1,M.x,M.y-ne])}else c.push(["M",M.x,M.y]),c.push(["L",w.x,M.y]),c.push(["L",w.x,w.y]),c.push(["L",M.x,w.y]),c.push(["L",M.x,M.y]);c.push(["z"])}if(s.isPolar){var ve=s.getCenter(),Oe=lr(p,s),Ke=Oe.startAngle,tr=Oe.endAngle;if(s.type!=="theta"&&!s.isTransposed)c=Ie(ve.x,ve.y,s.getRadius(),Ke,tr);else{var mr=function(mn){return Math.pow(mn,2)},_t=Math.sqrt(mr(ve.x-h[0].x)+mr(ve.y-h[0].y)),Zt=Math.sqrt(mr(ve.x-h[2].x)+mr(ve.y-h[2].y));c=Ie(ve.x,ve.y,_t,s.startAngle,s.endAngle,Zt)}}return c}function mh(p,h,s){var c=s.getWidth(),M=s.getHeight(),w=s.type==="rect",$=[],ht=(p[2].x-p[1].x)/2,St=s.isTransposed?ht*M/c:ht*c/M;return h==="round"?(w?($.push(["M",p[0].x,p[0].y+St]),$.push(["L",p[1].x,p[1].y-St]),$.push(["A",ht,ht,0,0,1,p[2].x,p[2].y-St]),$.push(["L",p[3].x,p[3].y+St]),$.push(["A",ht,ht,0,0,1,p[0].x,p[0].y+St])):($.push(["M",p[0].x,p[0].y]),$.push(["L",p[1].x,p[1].y]),$.push(["A",ht,ht,0,0,1,p[2].x,p[2].y]),$.push(["L",p[3].x,p[3].y]),$.push(["A",ht,ht,0,0,1,p[0].x,p[0].y])),$.push(["z"])):$=Ac(p),$}function Cl(p,h,s){var c=[];return Object(o.isNil)(h)?s?c.push(["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],["L",p[2].x,p[2].y],["L",p[2].x,p[2].y],["Z"]):c.push(["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],["L",p[2].x,p[2].y],["L",p[3].x,p[3].y],["Z"]):c.push(["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],["L",h[1].x,h[1].y],["L",h[0].x,h[0].y],["Z"]),c}function If(p,h,s){var c,M,w,$,ht=p[0],St=p[1],kt=p[2],_t=p[3],Zt=[0,0,0,0],te=Zt[0],ne=Zt[1],ve=Zt[2],Oe=Zt[3];ht.y<St.y?(St=p[0],ht=p[1],_t=p[2],kt=p[3],c=Kl(s,Math.min(_t.x-ht.x,ht.y-St.y)),Oe=c[0],ve=c[1],ne=c[2],te=c[3]):(M=Kl(s,Math.min(_t.x-ht.x,ht.y-St.y)),te=M[0],ne=M[1],ve=M[2],Oe=M[3]),h.isTransposed&&(ht=p[0],_t=p[1],kt=p[2],St=p[3],p[0].x>p[1].x?(_t=p[0],ht=p[1],St=p[2],kt=p[3],w=Kl(s,Math.min(_t.x-ht.x,ht.y-St.y)),te=w[0],Oe=w[1],ve=w[2],ne=w[3]):($=Kl(s,Math.min(_t.x-ht.x,ht.y-St.y)),ne=$[0],ve=$[1],Oe=$[2],te=$[3]));var Ke=[];return Ke.push(["M",St.x,St.y+te]),te!==0&&Ke.push(["A",te,te,0,0,1,St.x+te,St.y]),Ke.push(["L",kt.x-ne,kt.y]),ne!==0&&Ke.push(["A",ne,ne,0,0,1,kt.x,kt.y+ne]),Ke.push(["L",_t.x,_t.y-ve]),ve!==0&&Ke.push(["A",ve,ve,0,0,1,_t.x-ve,_t.y]),Ke.push(["L",ht.x+Oe,ht.y]),Oe!==0&&Ke.push(["A",Oe,Oe,0,0,1,ht.x,ht.y-Oe]),Ke.push(["L",St.x,St.y+te]),Ke.push(["z"]),Ke}var Dc=ks("interval",{defaultShapeType:"rect",getDefaultPoints:function(h){return Cc(h)}});ea("interval","rect",{draw:function(h,s){var c=qi(h,!1,!0),M=s,w=h==null?void 0:h.background;if(w){M=s.addGroup();var $=Sl(h),ht=Tc(h,this.parsePoints(h.points),this.coordinate);M.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},$),{path:ht}),zIndex:-1,name:gf})}var St;c.radius&&this.coordinate.isRect?St=If(this.parsePoints(h.points),this.coordinate,c.radius):St=this.parsePath(mh(h.points,c.lineCap,this.coordinate));var kt=M.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:St}),name:"interval"});return w?M:kt},getMarker:function(h){var s=h.color,c=h.isInPolar;return c?{symbol:"circle",style:{r:4.5,fill:s}}:{symbol:"square",style:{r:4,fill:s}}}});var vo=Dc;function ju(p,h){var s=p.length,c=p;Object(o.isString)(c[0])&&(c=p.map(function(ht){return h.translate(ht)}));for(var M=c[1]-c[0],w=2;w<s;w++){var $=c[w]-c[w-1];M>$&&(M=$)}return M}function Lf(p,h){if(h){var s=Object(o.flatten)(p),c=Object(o.valuesOfKey)(s,h);return c.length}return p.length}function jf(p){var h=p.theme,s=p.coordinate,c=p.getXScale(),M=c.values,w=p.beforeMappingData,$=M.length,ht=Le(p.coordinate),St=p.intervalPadding,kt=p.dodgePadding,_t=p.maxColumnWidth||h.maxColumnWidth,Zt=p.minColumnWidth||h.minColumnWidth,te=p.columnWidthRatio||h.columnWidthRatio,ne=p.multiplePieWidthRatio||h.multiplePieWidthRatio,ve=p.roseWidthRatio||h.roseWidthRatio;if(c.isLinear&&M.length>1){M.sort();var Oe=ju(M,c);$=(c.max-c.min)/Oe,M.length>$&&($=M.length)}var Ke=c.range,tr=1/$,mr=1;if(s.isPolar?s.isTransposed&&$>1?mr=ne:mr=ve:(c.isLinear&&(tr*=Ke[1]-Ke[0]),mr=te),!Object(o.isNil)(St)&&St>=0){var Or=St/ht;tr=(1-($-1)*Or)/$}else tr*=mr;if(p.getAdjust("dodge")){var yn=p.getAdjust("dodge"),sn=yn.dodgeBy,mn=Lf(w,sn);if(!Object(o.isNil)(kt)&&kt>=0){var di=kt/ht;tr=(tr-di*(mn-1))/mn}else!Object(o.isNil)(St)&&St>=0&&(tr*=mr),tr=tr/mn;tr=tr>=0?tr:0}if(!Object(o.isNil)(_t)&&_t>=0){var Zn=_t/ht;tr>Zn&&(tr=Zn)}if(!Object(o.isNil)(Zt)&&Zt>=0){var $n=Zt/ht;tr<$n&&(tr=$n)}return tr}var Ed=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.type="interval",c.shapeType="interval",c.generatePoints=!0;var M=s.background;return c.background=M,c}return h.prototype.createShapePointsCfg=function(s){var c=p.prototype.createShapePointsCfg.call(this,s),M,w=this.getAttribute("size");if(w){M=this.getAttributeValues(w,s)[0];var $=this.coordinate,ht=Le($);M=M/ht}else this.defaultSize||(this.defaultSize=jf(this)),M=this.defaultSize;return c.size=M,c},h.prototype.adjustScale=function(){p.prototype.adjustScale.call(this);var s=this.getYScale();if(this.coordinate.type==="theta")s.change({nice:!1,min:0,max:oa(s)});else{var c=this.scaleDefs,M=s.field,w=s.min,$=s.max,ht=s.type;ht!=="time"&&(w>0&&!Object(o.get)(c,[M,"min"])&&s.change({min:0}),$<=0&&!Object(o.get)(c,[M,"max"])&&s.change({max:0}))}},h.prototype.getDrawCfg=function(s){var c=p.prototype.getDrawCfg.call(this,s);return c.background=this.background,c},h}(Ka),bh=Ed,Pc=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;c.type="line";var M=s.sortable,w=M===void 0?!1:M;return c.sortable=w,c}return h}(Iu),ws=Pc,Al=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Ru=["cross","tick","plus","hyphen","line"];function Rf(p,h,s,c,M){var w=qi(h,M,!M,"r"),$=p.parsePoints(h.points),ht=$[0];if(h.isStack)ht=$[1];else if($.length>1){for(var St=s.addGroup(),kt=0,_t=$;kt<_t.length;kt++){var Zt=_t[kt];St.addShape({type:"marker",attrs:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},w),{symbol:js[c]||c}),Zt)})}return St}return s.addShape({type:"marker",attrs:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},w),{symbol:js[c]||c}),ht)})}var wu=ks("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(h){return Ml(h)}});Object(o.each)(Al,function(p){ea("point","hollow-"+p,{draw:function(s,c){return Rf(this,s,c,p,!0)},getMarker:function(s){var c=s.color;return{symbol:js[p]||p,style:{r:4.5,stroke:c,fill:null}}}})});var Oh=wu,_l=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.type="point",s.shapeType="point",s.generatePoints=!0,s}return h.prototype.getDrawCfg=function(s){var c=p.prototype.getDrawCfg.call(this,s);return Object(f.__assign)(Object(f.__assign)({},c),{isStack:!!this.getAdjust("stack")})},h}(Ka),Zl=_l;function wf(p){for(var h=p[0],s=1,c=[["M",h.x,h.y]];s<p.length;){var M=p[s];(M.x!==p[s-1].x||M.y!==p[s-1].y)&&(c.push(["L",M.x,M.y]),M.x===h.x&&M.y===h.y&&s<p.length-1&&(h=p[s+1],c.push(["Z"]),c.push(["M",h.x,h.y]),s++)),s++}return Object(o.isEqual)(Object(o.last)(c),h)||c.push(["L",h.x,h.y]),c.push(["Z"]),c}var Tl=ks("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(h){var s=[];return Object(o.each)(h.x,function(c,M){var w=h.y[M];s.push({x:c,y:w})}),s}});ea("polygon","polygon",{draw:function(h,s){if(!Object(o.isEmpty)(h.points)){var c=qi(h,!0,!0),M=this.parsePath(wf(h.points));return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M}),name:"polygon"})}},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});var xh=Tl,al=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.type="polygon",s.shapeType="polygon",s.generatePoints=!0,s}return h.prototype.createShapePointsCfg=function(s){var c=p.prototype.createShapePointsCfg.call(this,s),M=c.x,w=c.y,$;if(!(Object(o.isArray)(M)&&Object(o.isArray)(w))){var ht=this.getXScale(),St=this.getYScale(),kt=ht.values.length,_t=St.values.length,Zt=.5*1/kt,te=.5*1/_t;ht.isCategory&&St.isCategory?(M=[M-Zt,M-Zt,M+Zt,M+Zt],w=[w-te,w+te,w+te,w-te]):Object(o.isArray)(M)?($=M,M=[$[0],$[0],$[1],$[1]],w=[w-te/2,w+te/2,w+te/2,w-te/2]):Object(o.isArray)(w)&&($=w,w=[$[0],$[1],$[1],$[0]],M=[M-Zt/2,M-Zt/2,M+Zt/2,M+Zt/2]),c.x=M,c.y=w}return c},h}(Ka),Ic=al,Bf=ks("schema",{defaultShapeType:""}),Nf=Bf,Dl=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.type="schema",s.shapeType="schema",s.generatePoints=!0,s}return h.prototype.createShapePointsCfg=function(s){var c=p.prototype.createShapePointsCfg.call(this,s),M,w=this.getAttribute("size");if(w){M=this.getAttributeValues(w,s)[0];var $=this.coordinate,ht=Le($);M=M/ht}else this.defaultSize||(this.defaultSize=jf(this)),M=this.defaultSize;return c.size=M,c},h}(Ka),$l=Dl;function Bu(p){if(!Object(o.isArray)(p))return[];var h=Object(o.max)(p);return Object(o.map)(p,function(s){return s/h})}var Ql=ks("violin",{defaultShapeType:"violin",getDefaultPoints:function(h){var s=h.size/2,c=[],M=Bu(h._size);return Object(o.each)(h.y,function(w,$){var ht=M[$]*s,St=$===0,kt=$===h.y.length-1;c.push({isMin:St,isMax:kt,x:h.x-ht,y:w}),c.unshift({isMin:St,isMax:kt,x:h.x+ht,y:w})}),c}});ea("violin","violin",{draw:function(h,s){var c=qi(h,!0,!0),M=this.parsePath(Os(h.points));return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M}),name:"violin"})},getMarker:function(h){var s=h.color;return{symbol:"circle",style:{r:4,fill:s}}}});var Sd=Ql,Ff=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.type="violin",s.shapeType="violin",s.generatePoints=!0,s}return h.prototype.createShapePointsCfg=function(s){var c=p.prototype.createShapePointsCfg.call(this,s),M,w=this.getAttribute("size");if(w){M=this.getAttributeValues(w,s)[0];var $=this.coordinate,ht=Le($);M=M/ht}else this.defaultSize||(this.defaultSize=jf(this)),M=this.defaultSize;return c.size=M,c._size=Object(o.get)(s[T],[this._sizeField]),c},h.prototype.initAttributes=function(){var s=this.attributeOption,c=s.size?s.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=c,delete s.size,p.prototype.initAttributes.call(this)},h}(Ka),Bs=Ff;ea("area","line",{draw:function(h,s){var c=Lu(h,!0,!1,this),M=s.addShape({type:"path",attrs:c,name:"area"});return M},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){return $===void 0&&($=5.5),[["M",M-$,w-4],["L",M+$,w-4],["L",M+$,w+4],["L",M-$,w+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}}),ea("area","smooth",{draw:function(h,s){var c=this.coordinate,M=Lu(h,!1,!0,this,Yl(c)),w=s.addShape({type:"path",attrs:M,name:"area"});return w},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){return $===void 0&&($=5.5),[["M",M-$,w-4],["L",M+$,w-4],["L",M+$,w+4],["L",M-$,w+4],["Z"]]},style:{r:5,fill:s}}}}),ea("area","smooth-line",{draw:function(h,s){var c=this.coordinate,M=Lu(h,!0,!0,this,Yl(c)),w=s.addShape({type:"path",attrs:M,name:"area"});return w},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){return $===void 0&&($=5.5),[["M",M-$,w-4],["L",M+$,w-4],["L",M+$,w+4],["L",M-$,w+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}});function Lc(p,h){return["C",p.x*1/2+h.x*1/2,p.y,p.x*1/2+h.x*1/2,h.y,h.x,h.y]}function Nu(p,h){var s=[];s.push({x:h.x,y:h.y}),s.push(p);var c=["Q"];return Object(o.each)(s,function(M){c.push(M.x,M.y)}),c}function Ys(p,h,s){var c=Nu(h,s),M=[["M",p.x,p.y]];return M.push(c),M}function Eh(p,h){var s=Nu(p[1],h),c=Nu(p[3],h),M=[["M",p[0].x,p[0].y]];return M.push(c),M.push(["L",p[3].x,p[3].y]),M.push(["L",p[2].x,p[2].y]),M.push(s),M.push(["L",p[1].x,p[1].y]),M.push(["L",p[0].x,p[0].y]),M.push(["Z"]),M}ea("edge","arc",{draw:function(h,s){var c=qi(h,!0,!1,"lineWidth"),M=h.points,w=M.length>2?"weight":"normal",$;if(h.isInCircle){var ht={x:0,y:1};return w==="normal"?$=Ys(M[0],M[1],ht):(c.fill=c.stroke,$=Eh(M,ht)),$=this.parsePath($),s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:$})})}else{if(w==="normal")return M=this.parsePoints(M),$=We((M[1].x+M[0].x)/2,M[0].y,Math.abs(M[1].x-M[0].x)/2,Math.PI,Math.PI*2),s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:$})});var St=Lc(M[1],M[3]),kt=Lc(M[2],M[0]);return $=[["M",M[0].x,M[0].y],["L",M[1].x,M[1].y],St,["L",M[3].x,M[3].y],["L",M[2].x,M[2].y],kt,["Z"]],$=this.parsePath($),c.fill=c.stroke,s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:$})})}},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});function Sh(p,h){var s=Lc(p,h),c=[["M",p.x,p.y]];return c.push(s),c}ea("edge","smooth",{draw:function(h,s){var c=qi(h,!0,!1,"lineWidth"),M=h.points,w=this.parsePath(Sh(M[0],M[1]));return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:w})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var ol=1/3;function Mh(p,h){var s=[];s.push({x:p.x,y:p.y*(1-ol)+h.y*ol}),s.push({x:h.x,y:p.y*(1-ol)+h.y*ol}),s.push(h);var c=[["M",p.x,p.y]];return Object(o.each)(s,function(M){c.push(["L",M.x,M.y])}),c}ea("edge","vhv",{draw:function(h,s){var c=qi(h,!0,!1,"lineWidth"),M=h.points,w=this.parsePath(Mh(M[0],M[1]));return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:w})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}}),ea("interval","funnel",{getPoints:function(h){return h.size=h.size*2,Cc(h)},draw:function(h,s){var c=qi(h,!1,!0),M=this.parsePath(Cl(h.points,h.nextPoints,!1)),w=s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M}),name:"interval"});return w},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}}),ea("interval","hollow-rect",{draw:function(h,s){var c=qi(h,!0,!1),M=s,w=h==null?void 0:h.background;if(w){M=s.addGroup();var $=Sl(h),ht=Tc(h,this.parsePoints(h.points),this.coordinate);M.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},$),{path:ht}),zIndex:-1,name:gf})}var St=this.parsePath(Ac(h.points)),kt=M.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:St}),name:"interval"});return w?M:kt},getMarker:function(h){var s=h.color,c=h.isInPolar;return c?{symbol:"circle",style:{r:4.5,stroke:s,fill:null}}:{symbol:"square",style:{r:4,stroke:s,fill:null}}}});function jc(p){var h=p.x,s=p.y,c=p.y0;return Object(o.isArray)(s)?s.map(function(M,w){return{x:Object(o.isArray)(h)?h[w]:h,y:M}}):[{x:h,y:c},{x:h,y:s}]}ea("interval","line",{getPoints:function(h){return jc(h)},draw:function(h,s){var c=qi(h,!0,!1,"lineWidth"),M=xr(Object(f.__assign)({},c),["fill"]),w=this.parsePath(Ac(h.points,!1)),$=s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},M),{path:w}),name:"interval"});return $},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){return[["M",M,w-$],["L",M,w+$]]},style:{r:5,stroke:s}}}}),ea("interval","pyramid",{getPoints:function(h){return h.size=h.size*2,Cc(h,!0)},draw:function(h,s){var c=qi(h,!1,!0),M=this.parsePath(Cl(h.points,h.nextPoints,!0)),w=s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M}),name:"interval"});return w},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});function Fu(p){var h=p.x,s=p.y,c=p.y0,M=p.size,w,$;Object(o.isArray)(s)?(w=s[0],$=s[1]):(w=c,$=s);var ht=h+M/2,St=h-M/2;return[{x:h,y:w},{x:h,y:$},{x:St,y:w},{x:ht,y:w},{x:St,y:$},{x:ht,y:$}]}function Ch(p){return[["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],["M",p[2].x,p[2].y],["L",p[3].x,p[3].y],["M",p[4].x,p[4].y],["L",p[5].x,p[5].y]]}ea("interval","tick",{getPoints:function(h){return Fu(h)},draw:function(h,s){var c=qi(h,!0,!1),M=this.parsePath(Ch(h.points)),w=s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M}),name:"interval"});return w},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){return[["M",M-$/2,w-$],["L",M+$/2,w-$],["M",M,w-$],["L",M,w+$],["M",M-$/2,w+$],["L",M+$/2,w+$]]},style:{r:5,stroke:s}}}});var Gu=function(h,s,c){var M=h.x,w=h.y,$=s.x,ht=s.y,St;switch(c){case"hv":St=[{x:$,y:w}];break;case"vh":St=[{x:M,y:ht}];break;case"hvh":var kt=($+M)/2;St=[{x:kt,y:w},{x:kt,y:ht}];break;case"vhv":var _t=(w+ht)/2;St=[{x:M,y:_t},{x:$,y:_t}];break;default:break}return St};function Uu(p,h){var s=[];return Object(o.each)(p,function(c,M){var w=p[M+1];if(s.push(c),w){var $=Gu(c,w,h);s=s.concat($)}}),s}function Gf(p){return p.map(function(h,s){return s===0?["M",h.x,h.y]:["L",h.x,h.y]})}function Rc(p,h){var s=Rs(p.points,p.connectNulls,p.showSinglePoint),c=[];return Object(o.each)(s,function(M){var w=Uu(M,h);c=c.concat(Gf(w))}),Object(f.__assign)(Object(f.__assign)({},qi(p,!0,!1,"lineWidth")),{path:c})}Object(o.each)(["hv","vh","hvh","vhv"],function(p){ea("line",p,{draw:function(s,c){var M=Rc(s,p),w=c.addShape({type:"path",attrs:M,name:"line"});return w},getMarker:function(s){return Hl(s,p)}})}),Object(o.each)(Ru,function(p){ea("point",p,{draw:function(s,c){return Rf(this,s,c,p,!0)},getMarker:function(s){var c=s.color;return{symbol:js[p],style:{r:4.5,stroke:c,fill:null}}}})}),ea("point","image",{draw:function(h,s){var c=qi(h,!1,!1,"r").r,M=this.parsePoints(h.points),w=M[0];if(h.isStack)w=M[1];else if(M.length>1){for(var $=s.addGroup(),ht=0,St=M;ht<St.length;ht++){var kt=St[ht];$.addShape("image",{attrs:{x:kt.x-c/2,y:kt.y-c,width:c,height:c,img:h.shape[1]}})}return $}return s.addShape("image",{attrs:{x:w.x-c/2,y:w.y-c,width:c,height:c,img:h.shape[1]}})},getMarker:function(h){var s=h.color;return{symbol:"circle",style:{r:4.5,fill:s}}}}),Object(o.each)(Al,function(p){ea("point",p,{draw:function(s,c){return Rf(this,s,c,p,!1)},getMarker:function(s){var c=s.color;return{symbol:js[p]||p,style:{r:4.5,fill:c}}}})});function wc(p){var h=Object(o.isArray)(p)?p:[p],s=h[0],c=h[h.length-1],M=h.length>1?h[1]:s,w=h.length>3?h[3]:c,$=h.length>2?h[2]:M;return{min:s,max:c,min1:M,max1:w,median:$}}function Wu(p,h,s){var c=s/2,M;if(Object(o.isArray)(h)){var w=wc(h),$=w.min,ht=w.max,St=w.median,kt=w.min1,_t=w.max1,Zt=p-c,te=p+c;M=[[Zt,ht],[te,ht],[p,ht],[p,_t],[Zt,kt],[Zt,_t],[te,_t],[te,kt],[p,kt],[p,$],[Zt,$],[te,$],[Zt,St],[te,St]]}else{h=Object(o.isNil)(h)?.5:h;var ne=wc(p),$=ne.min,ht=ne.max,St=ne.median,kt=ne.min1,_t=ne.max1,ve=h-c,Oe=h+c;M=[[$,ve],[$,Oe],[$,h],[kt,h],[kt,ve],[kt,Oe],[_t,Oe],[_t,ve],[_t,h],[ht,h],[ht,ve],[ht,Oe],[St,ve],[St,Oe]]}return M.map(function(Ke){return{x:Ke[0],y:Ke[1]}})}function Bc(p){return[["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],["M",p[2].x,p[2].y],["L",p[3].x,p[3].y],["M",p[4].x,p[4].y],["L",p[5].x,p[5].y],["L",p[6].x,p[6].y],["L",p[7].x,p[7].y],["L",p[4].x,p[4].y],["Z"],["M",p[8].x,p[8].y],["L",p[9].x,p[9].y],["M",p[10].x,p[10].y],["L",p[11].x,p[11].y],["M",p[12].x,p[12].y],["L",p[13].x,p[13].y]]}ea("schema","box",{getPoints:function(h){var s=h.x,c=h.y,M=h.size;return Wu(s,c,M)},draw:function(h,s){var c=qi(h,!0,!1),M=this.parsePath(Bc(h.points)),w=s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M,name:"schema"})});return w},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){var ht=[w-6,w-3,w,w+3,w+6],St=Wu(M,ht,$);return[["M",St[0].x+1,St[0].y],["L",St[1].x-1,St[1].y],["M",St[2].x,St[2].y],["L",St[3].x,St[3].y],["M",St[4].x,St[4].y],["L",St[5].x,St[5].y],["L",St[6].x,St[6].y],["L",St[7].x,St[7].y],["L",St[4].x,St[4].y],["Z"],["M",St[8].x,St[8].y],["L",St[9].x,St[9].y],["M",St[10].x+1,St[10].y],["L",St[11].x-1,St[11].y],["M",St[12].x,St[12].y],["L",St[13].x,St[13].y]]},style:{r:6,lineWidth:1,stroke:s}}}});function Uf(p){var h=Object(o.isArray)(p)?p:[p],s=h.sort(function(c,M){return M-c});return ir(s,4,s[s.length-1])}function Nc(p,h,s){var c=Uf(h);return[{x:p,y:c[0]},{x:p,y:c[1]},{x:p-s/2,y:c[2]},{x:p-s/2,y:c[1]},{x:p+s/2,y:c[1]},{x:p+s/2,y:c[2]},{x:p,y:c[2]},{x:p,y:c[3]}]}function Wf(p){return[["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],["M",p[2].x,p[2].y],["L",p[3].x,p[3].y],["L",p[4].x,p[4].y],["L",p[5].x,p[5].y],["Z"],["M",p[6].x,p[6].y],["L",p[7].x,p[7].y]]}ea("schema","candle",{getPoints:function(h){var s=h.x,c=h.y,M=h.size;return Nc(s,c,M)},draw:function(h,s){var c=qi(h,!0,!0),M=this.parsePath(Wf(h.points)),w=s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M,name:"schema"})});return w},getMarker:function(h){var s=h.color;return{symbol:function(M,w,$){var ht=[w+7.5,w+3,w-3,w-7.5],St=Nc(M,ht,$);return[["M",St[0].x,St[0].y],["L",St[1].x,St[1].y],["M",St[2].x,St[2].y],["L",St[3].x,St[3].y],["L",St[4].x,St[4].y],["L",St[5].x,St[5].y],["Z"],["M",St[6].x,St[6].y],["L",St[7].x,St[7].y]]},style:{lineWidth:1,stroke:s,fill:s,r:6}}}});function zf(p,h){var s=Math.abs(p[0].x-p[2].x),c=Math.abs(p[0].y-p[2].y),M=Math.min(s,c);h&&(M=Object(o.clamp)(h,0,Math.min(s,c))),M=M/2;var w=(p[0].x+p[2].x)/2,$=(p[0].y+p[2].y)/2;return{x:w-M,y:$-M,width:M*2,height:M*2}}ea("polygon","square",{draw:function(h,s){if(!Object(o.isEmpty)(h.points)){var c=qi(h,!0,!0),M=this.parsePoints(h.points);return s.addShape("rect",{attrs:Object(f.__assign)(Object(f.__assign)({},c),zf(M,h.size)),name:"polygon"})}},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}}),ea("violin","smooth",{draw:function(h,s){var c=qi(h,!0,!0),M=this.parsePath(Pu(h.points));return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M})})},getMarker:function(h){var s=h.color;return{symbol:"circle",style:{stroke:null,r:4,fill:s}}}}),ea("violin","hollow",{draw:function(h,s){var c=qi(h,!0,!1),M=this.parsePath(Os(h.points));return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M})})},getMarker:function(h){var s=h.color;return{symbol:"circle",style:{r:4,fill:null,stroke:s}}}}),ea("violin","hollow-smooth",{draw:function(h,s){var c=qi(h,!0,!1),M=this.parsePath(Pu(h.points));return s.addShape("path",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{path:M})})},getMarker:function(h){var s=h.color;return{symbol:"circle",style:{r:4,fill:null,stroke:s}}}});var zu=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getLabelValueDir=function(s){var c="y",M=s.points;return M[0][c]<=M[2][c]?1:-1},h.prototype.getLabelOffsetPoint=function(s,c,M){var w,$=p.prototype.getLabelOffsetPoint.call(this,s,c,M),ht=this.getCoordinate().isTransposed,St=ht?"x":"y",kt=this.getLabelValueDir(s.mappingData);return Object(f.__assign)(Object(f.__assign)({},$),(w={},w[St]=$[St]*kt,w))},h.prototype.getThemedLabelCfg=function(s){var c=this.geometry,M=this.getDefaultLabelCfg(),w=c.theme;return Object(o.deepMix)({},M,w.labels,s.position==="middle"?{offset:0}:{},s)},h.prototype.setLabelPosition=function(s,c,M,w){var $=this.getCoordinate(),ht=$.isTransposed,St=c.points,kt=$.convert(St[0]),_t=$.convert(St[2]),Zt=this.getLabelValueDir(c),te,ne,ve,Oe,Ke=Object(o.isArray)(c.shape)?c.shape[0]:c.shape;if(Ke==="funnel"||Ke==="pyramid"){var tr=Object(o.get)(c,"nextPoints"),mr=Object(o.get)(c,"points");if(tr){var Or=$.convert(mr[0]),yn=$.convert(mr[1]),sn=$.convert(tr[0]),mn=$.convert(tr[1]);ht?(te=Math.min(sn.y,Or.y),ve=Math.max(sn.y,Or.y),ne=(yn.x+mn.x)/2,Oe=(Or.x+sn.x)/2):(te=Math.min((yn.y+mn.y)/2,(Or.y+sn.y)/2),ve=Math.max((yn.y+mn.y)/2,(Or.y+sn.y)/2),ne=mn.x,Oe=Or.x)}else te=Math.min(_t.y,kt.y),ve=Math.max(_t.y,kt.y),ne=_t.x,Oe=kt.x}else te=Math.min(_t.y,kt.y),ve=Math.max(_t.y,kt.y),ne=_t.x,Oe=kt.x;switch(w){case"right":s.x=ne,s.y=(te+ve)/2,s.textAlign=Object(o.get)(s,"textAlign",Zt>0?"left":"right");break;case"left":s.x=Oe,s.y=(te+ve)/2,s.textAlign=Object(o.get)(s,"textAlign",Zt>0?"left":"right");break;case"bottom":ht&&(s.x=(ne+Oe)/2),s.y=ve,s.textAlign=Object(o.get)(s,"textAlign","center"),s.textBaseline=Object(o.get)(s,"textBaseline",Zt>0?"bottom":"top");break;case"middle":ht&&(s.x=(ne+Oe)/2),s.y=(te+ve)/2,s.textAlign=Object(o.get)(s,"textAlign","center"),s.textBaseline=Object(o.get)(s,"textBaseline","middle");break;case"top":ht&&(s.x=(ne+Oe)/2),s.y=te,s.textAlign=Object(o.get)(s,"textAlign","center"),s.textBaseline=Object(o.get)(s,"textBaseline",Zt>0?"bottom":"top");break;default:break}},h}(Au),Ah=zu,sl=Math.PI/2,Ks=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getLabelOffset=function(s){var c=this.getCoordinate(),M=0;if(Object(o.isNumber)(s))M=s;else if(Object(o.isString)(s)&&s.indexOf("%")!==-1){var w=c.getRadius();c.innerRadius>0&&(w=w*(1-c.innerRadius)),M=parseFloat(s)*.01*w}return M},h.prototype.getLabelItems=function(s){var c=p.prototype.getLabelItems.call(this,s),M=this.geometry.getYScale();return Object(o.map)(c,function(w){if(w&&M){var $=M.scale(Object(o.get)(w.data,M.field));return Object(f.__assign)(Object(f.__assign)({},w),{percent:$})}return w})},h.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),M;if(s.labelEmit)M=s.angle<=Math.PI/2&&s.angle>=-Math.PI/2?"left":"right";else if(!c.isTransposed)M="center";else{var w=c.getCenter(),$=s.offset;Math.abs(s.x-w.x)<1?M="center":s.angle>Math.PI||s.angle<=0?M=$>0?"left":"right":M=$>0?"right":"left"}return M},h.prototype.getLabelPoint=function(s,c,M){var w=1,$,ht=s.content[M];this.isToMiddle(c)?$=this.getMiddlePoint(c.points):(s.content.length===1&&M===0?M=1:M===0&&(w=-1),$=this.getArcPoint(c,M));var St=s.offset*w,kt=this.getPointAngle($),_t=s.labelEmit,Zt=this.getCirclePoint(kt,St,$,_t);return Zt.r===0?Zt.content="":(Zt.content=ht,Zt.angle=kt,Zt.color=c.color),Zt.rotate=s.autoRotate?this.getLabelRotate(kt,St,_t):s.rotate,Zt.start={x:$.x,y:$.y},Zt},h.prototype.getArcPoint=function(s,c){return c===void 0&&(c=0),!Object(o.isArray)(s.x)&&!Object(o.isArray)(s.y)?{x:s.x,y:s.y}:{x:Object(o.isArray)(s.x)?s.x[c]:s.x,y:Object(o.isArray)(s.y)?s.y[c]:s.y}},h.prototype.getPointAngle=function(s){return $r(this.getCoordinate(),s)},h.prototype.getCirclePoint=function(s,c,M,w){var $=this.getCoordinate(),ht=$.getCenter(),St=Gr($,M);if(St===0)return Object(f.__assign)(Object(f.__assign)({},ht),{r:St});var kt=s;if($.isTransposed&&St>c&&!w){var _t=Math.asin(c/(2*St));kt=s+_t*2}else St=St+c;return{x:ht.x+St*Math.cos(kt),y:ht.y+St*Math.sin(kt),r:St}},h.prototype.getLabelRotate=function(s,c,M){var w=s+sl;return M&&(w-=sl),w&&(w>sl?w=w-Math.PI:w<-sl&&(w=w+Math.PI)),w},h.prototype.getMiddlePoint=function(s){var c=this.getCoordinate(),M=s.length,w={x:0,y:0};return Object(o.each)(s,function($){w.x+=$.x,w.y+=$.y}),w.x/=M,w.y/=M,w=c.convert(w),w},h.prototype.isToMiddle=function(s){return s.x.length>2},h}(Au),Jl=Ks,Pl=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.defaultLayout="distribute",s}return h.prototype.getDefaultLabelCfg=function(s,c){var M=p.prototype.getDefaultLabelCfg.call(this,s,c);return Object(o.deepMix)({},M,Object(o.get)(this.geometry.theme,"pieLabels",{}))},h.prototype.getLabelOffset=function(s){return p.prototype.getLabelOffset.call(this,s)||0},h.prototype.getLabelRotate=function(s,c,M){var w;return c<0&&(w=s,w>Math.PI/2&&(w=w-Math.PI),w<-Math.PI/2&&(w=w+Math.PI)),w},h.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),M=c.getCenter(),w;return s.angle<=Math.PI/2&&s.x>=M.x?w="left":w="right",s.offset<=0&&(w==="right"?w="left":w="right"),w},h.prototype.getArcPoint=function(s){return s},h.prototype.getPointAngle=function(s){var c=this.getCoordinate(),M={x:Object(o.isArray)(s.x)?s.x[0]:s.x,y:s.y[0]},w={x:Object(o.isArray)(s.x)?s.x[1]:s.x,y:s.y[1]},$,ht=$r(c,M);if(s.points&&s.points[0].y===s.points[1].y)$=ht;else{var St=$r(c,w);ht>=St&&(St=St+Math.PI*2),$=ht+(St-ht)/2}return $},h.prototype.getCirclePoint=function(s,c){var M=this.getCoordinate(),w=M.getCenter(),$=M.getRadius()+c;return Object(f.__assign)(Object(f.__assign)({},Ce(w.x,w.y,$,s)),{angle:s,r:$})},h}(Jl),ku=Pl,ql=4;function ll(p,h,s,c,M,w){var $=!0,ht=c.start,St=c.end,kt=Math.min(ht.y,St.y),_t=Math.abs(ht.y-St.y),Zt,te=0,ne=Number.MIN_VALUE,ve=h.map(function(sn){return sn.y>te&&(te=sn.y),sn.y<ne&&(ne=sn.y),{size:s,targets:[sn.y-kt]}});for(ne-=kt,te-kt>_t&&(_t=te-kt);$;)for(ve.forEach(function(sn){var mn=(Math.min.apply(ne,sn.targets)+Math.max.apply(ne,sn.targets))/2;sn.pos=Math.min(Math.max(ne,mn-sn.size/2),_t-sn.size)}),$=!1,Zt=ve.length;Zt--;)if(Zt>0){var Oe=ve[Zt-1],Ke=ve[Zt];Oe.pos+Oe.size>Ke.pos&&(Oe.size+=Ke.size,Oe.targets=Oe.targets.concat(Ke.targets),Oe.pos+Oe.size>_t&&(Oe.pos=_t-Oe.size),ve.splice(Zt,1),$=!0)}Zt=0,ve.forEach(function(sn){var mn=kt+s/2;sn.targets.forEach(function(){h[Zt].y=sn.pos+mn,mn+=s,Zt++})});for(var tr={},mr=0,Or=p;mr<Or.length;mr++){var yn=Or[mr];tr[yn.get("id")]=yn}h.forEach(function(sn){var mn=sn.r*sn.r,di=Math.pow(Math.abs(sn.y-M.y),2);if(mn<di)sn.x=M.x;else{var Zn=Math.sqrt(mn-di);w?sn.x=M.x+Zn:sn.x=M.x-Zn}var $n=tr[sn.id];$n.attr("x",sn.x),$n.attr("y",sn.y);var Di=Object(o.find)($n.getChildren(),function(ra){return ra.get("type")==="text"});Di&&(Di.attr("y",sn.y),Di.attr("x",sn.x))})}function Il(p,h,s,c){if(!(!p.length||!h.length)){var M=p[0]?p[0].offset:0,w=h[0].get("coordinate"),$=w.getRadius(),ht=w.getCenter();if(M>0){var St=14,kt=$+M,_t=kt*2+St*2,Zt={start:w.start,end:w.end},te=[[],[]];p.forEach(function(ne){!ne||(ne.textAlign==="right"?te[0].push(ne):te[1].push(ne))}),te.forEach(function(ne,ve){var Oe=_t/St;ne.length>Oe&&(ne.sort(function(Ke,tr){return tr["..percent"]-Ke["..percent"]}),ne.splice(Oe,ne.length-Oe)),ne.sort(function(Ke,tr){return Ke.y-tr.y}),ll(h,ne,St,Zt,ht,ve)})}Object(o.each)(p,function(ne){if(ne&&ne.labelLine){var ve=ne.offset,Oe=ne.angle,Ke=Ce(ht.x,ht.y,$,Oe),tr=Ce(ht.x,ht.y,$+ve/2,Oe),mr=ne.x+Object(o.get)(ne,"offsetX",0),Or=ne.y+Object(o.get)(ne,"offsetY",0),yn={x:mr-Math.cos(Oe)*ql,y:Or-Math.sin(Oe)*ql};Object(o.isObject)(ne.labelLine)||(ne.labelLine={}),ne.labelLine.path=["M "+Ke.x,Ke.y+" Q"+tr.x,tr.y+" "+yn.x,yn.y].join(",")}})}}function _s(p,h,s){var c=p.filter(function(ve){return!ve.invisible});c.sort(function(ve,Oe){return ve.y-Oe.y});var M=!0,w=s.minY,$=s.maxY,ht=Math.abs(w-$),St,kt=0,_t=Number.MIN_VALUE,Zt=c.map(function(ve){return ve.y>kt&&(kt=ve.y),ve.y<_t&&(_t=ve.y),{content:ve.content,size:h,targets:[ve.y-w],pos:null}});for(_t-=w,kt-w>ht&&(ht=kt-w);M;)for(Zt.forEach(function(ve){var Oe=(Math.min.apply(_t,ve.targets)+Math.max.apply(_t,ve.targets))/2;ve.pos=Math.min(Math.max(_t,Oe-ve.size/2),ht-ve.size),ve.pos=Math.max(0,ve.pos)}),M=!1,St=Zt.length;St--;)if(St>0){var te=Zt[St-1],ne=Zt[St];te.pos+te.size>ne.pos&&(te.size+=ne.size,te.targets=te.targets.concat(ne.targets),te.pos+te.size>ht&&(te.pos=ht-te.size),Zt.splice(St,1),M=!0)}St=0,Zt.forEach(function(ve){var Oe=w+h/2;ve.targets.forEach(function(){c[St].y=ve.pos+Oe,Oe+=h,St++})})}var Ll=4;function Fc(p,h){var s=h.getCenter(),c=h.getRadius();if(p&&p.labelLine){var M=p.angle,w=p.offset,$=Ce(s.x,s.y,c,M),ht=p.x+Object(o.get)(p,"offsetX",0)*(Math.cos(M)>0?1:-1),St=p.y+Object(o.get)(p,"offsetY",0)*(Math.sin(M)>0?1:-1),kt={x:ht-Math.cos(M)*Ll,y:St-Math.sin(M)*Ll},_t=p.labelLine.smooth,Zt=[],te=kt.x-s.x,ne=kt.y-s.y,ve=Math.atan(ne/te);if(te<0&&(ve+=Math.PI),_t===!1){Object(o.isObject)(p.labelLine)||(p.labelLine={});var Oe=0;(M<0&&M>-Math.PI/2||M>Math.PI*1.5)&&kt.y>$.y&&(Oe=1),M>=0&&M<Math.PI/2&&kt.y>$.y&&(Oe=1),M>=Math.PI/2&&M<Math.PI&&$.y>kt.y&&(Oe=1),(M<-Math.PI/2||M>=Math.PI&&M<Math.PI*1.5)&&$.y>kt.y&&(Oe=1);var Ke=w/2>4?4:Math.max(w/2-1,0),tr=Ce(s.x,s.y,c+Ke,M),mr=Ce(s.x,s.y,c+w/2,ve),Or=0;Zt.push("M "+$.x+" "+$.y),Zt.push("L "+tr.x+" "+tr.y),Zt.push("A "+s.x+" "+s.y+" 0 "+Or+" "+Oe+" "+mr.x+" "+mr.y),Zt.push("L "+kt.x+" "+kt.y)}else{var tr=Ce(s.x,s.y,c+(w/2>4?4:Math.max(w/2-1,0)),M),yn=$.x<s.x?1:-1;Zt.push("M "+kt.x+" "+kt.y);var sn=($.y-s.y)/($.x-s.x),mn=(kt.y-s.y)/(kt.x-s.x);Math.abs(sn-mn)>Math.pow(Math.E,-16)&&Zt.push.apply(Zt,["C",kt.x+yn*4,kt.y,2*tr.x-$.x,2*tr.y-$.y,$.x,$.y]),Zt.push("L "+$.x+" "+$.y)}p.labelLine.path=Zt.join(" ")}}function Vu(p,h,s,c){var M=Object(o.filter)(p,function(mn){return!Object(o.isNil)(mn)}),w=h[0]&&h[0].get("coordinate");if(!!w){for(var $=w.getCenter(),ht=w.getRadius(),St={},kt=0,_t=h;kt<_t.length;kt++){var Zt=_t[kt];St[Zt.get("id")]=Zt}var te=Object(o.get)(M[0],"labelHeight",14),ne=Object(o.get)(M[0],"offset",0);if(!(ne<=0)){var ve="left",Oe="right",Ke=Object(o.groupBy)(M,function(mn){return mn.x<$.x?ve:Oe}),tr=w.start,mr=w.end,Or=Math.min((ht+ne+te)*2,w.getHeight()),yn=Or/2,sn={minX:tr.x,maxX:mr.x,minY:$.y-yn,maxY:$.y+yn};Object(o.each)(Ke,function(mn,di){var Zn=Math.floor(Or/te);mn.length>Zn&&(mn.sort(function($n,Di){return Di.percent-$n.percent}),Object(o.each)(mn,function($n,Di){Di+1>Zn&&(St[$n.id].set("visible",!1),$n.invisible=!0)})),_s(mn,te,sn)}),Object(o.each)(Ke,function(mn,di){Object(o.each)(mn,function(Zn){var $n=di===Oe,Di=St[Zn.id],ra=Di.getChildByIndex(0);if(ra){var _i=ht+ne,Qa=Zn.y-$.y,Fo=Math.pow(_i,2),Do=Math.pow(Qa,2),ki=Fo-Do>0?Fo-Do:0,Qu=Math.sqrt(ki),si=Math.abs(Math.cos(Zn.angle)*_i);$n?Zn.x=$.x+Math.max(Qu,si):Zn.x=$.x-Math.max(Qu,si)}ra&&(ra.attr("y",Zn.y),ra.attr("x",Zn.x)),Fc(Zn,w)})})}}}var tu=4,eu=4,ts=4;function ru(p,h,s){var c=h.getCenter(),M=h.getRadius(),w={x:p.x-(s?ts:-ts),y:p.y},$=Ce(c.x,c.y,M+tu,p.angle),ht={x:w.x,y:w.y},St={x:$.x,y:$.y},kt=Ce(c.x,c.y,M,p.angle),_t="";if(w.y!==$.y){var Zt=s?4:-4;ht.y=w.y,p.angle<0&&p.angle>=-Math.PI/2&&(ht.x=Math.max($.x,w.x-Zt),w.y<$.y?St.y=ht.y:(St.y=$.y,St.x=Math.max(St.x,ht.x-Zt))),p.angle>0&&p.angle<Math.PI/2&&(ht.x=Math.max($.x,w.x-Zt),w.y>$.y?St.y=ht.y:(St.y=$.y,St.x=Math.max(St.x,ht.x-Zt))),p.angle>Math.PI/2&&(ht.x=Math.min($.x,w.x-Zt),w.y>$.y?St.y=ht.y:(St.y=$.y,St.x=Math.min(St.x,ht.x-Zt))),p.angle<-Math.PI/2&&(ht.x=Math.min($.x,w.x-Zt),w.y<$.y?St.y=ht.y:(St.y=$.y,St.x=Math.min(St.x,ht.x-Zt)))}_t=["M "+w.x+","+w.y,"L "+ht.x+","+ht.y,"L "+St.x+","+St.y,"L "+$.x+","+$.y,"L "+kt.x+","+kt.y].join(" "),p.labelLine=Object(o.deepMix)({},p.labelLine,{path:_t})}function Th(p,h,s,c){var M=h[0]&&h[0].get("coordinate");if(!!M){for(var w=M.getCenter(),$=M.getRadius(),ht={},St=0,kt=h;St<kt.length;St++){var _t=kt[St];ht[_t.get("id")]=_t}var Zt=Object(o.get)(p[0],"labelHeight",14),te=Math.max(Object(o.get)(p[0],"offset",0),tu);Object(o.each)(p,function(mn){var di=Object(o.get)(ht,[mn.id]);if(!!di){var Zn=mn.x>w.x||mn.x===w.x&&mn.y>w.y,$n=Object(o.isNil)(mn.offsetX)?eu:mn.offsetX,Di=Ce(w.x,w.y,$+tu,mn.angle),ra=te+$n;mn.x=w.x+(Zn?1:-1)*($+ra),mn.y=Di.y}});var ne=M.start,ve=M.end,Oe="left",Ke="right",tr=Object(o.groupBy)(p,function(mn){return mn.x<w.x?Oe:Ke}),mr=($+te)*2+Zt;Object(o.each)(tr,function(mn){var di=mn.length*Zt;di>mr&&(mr=Math.min(di,Math.abs(ne.y-ve.y)))});var Or={minX:ne.x,maxX:ve.x,minY:w.y-mr/2,maxY:w.y+mr/2};Object(o.each)(tr,function(mn,di){var Zn=mr/Zt;mn.length>Zn&&(mn.sort(function($n,Di){return Di.percent-$n.percent}),Object(o.each)(mn,function($n,Di){Di>Zn&&(ht[$n.id].set("visible",!1),$n.invisible=!0)})),_s(mn,Zt,Or)});var yn=Or.minY,sn=Or.maxY;Object(o.each)(tr,function(mn,di){var Zn=di===Ke;Object(o.each)(mn,function($n){var Di=Object(o.get)(ht,$n&&[$n.id]);if(!!Di){if($n.y<yn||$n.y>sn){Di.set("visible",!1);return}var ra=Di.getChildByIndex(0),_i=ra.getCanvasBBox(),Qa={x:Zn?_i.x:_i.maxX,y:_i.y+_i.height/2};xl(ra,$n.x-Qa.x,$n.y-Qa.y),$n.labelLine&&ru($n,M,Zn)}})})}}function Gc(p,h,s,c){Object(o.each)(h,function(M){var w=c.minX,$=c.minY,ht=c.maxX,St=c.maxY,kt=M.getCanvasBBox(),_t=kt.minX,Zt=kt.minY,te=kt.maxX,ne=kt.maxY,ve=kt.x,Oe=kt.y,Ke=kt.width,tr=kt.height,mr=ve,Or=Oe;(_t<w||te<w)&&(mr=w),(Zt<$||ne<$)&&(Or=$),_t>ht?mr=ht-Ke:te>ht&&(mr=mr-(te-ht)),Zt>St?Or=St-tr:ne>St&&(Or=Or-(ne-St)),(mr!==ve||Or!==Oe)&&xl(M,mr-ve,Or-Oe)})}function kf(p,h,s,c){Object(o.each)(h,function(M,w){var $=M.getCanvasBBox(),ht=s[w].getBBox();($.minX<ht.minX||$.minY<ht.minY||$.maxX>ht.maxX||$.maxY>ht.maxY)&&M.remove(!0)})}var Dh=100,nu=function(){function p(h){h===void 0&&(h={}),this.bitmap={};var s=h.xGap,c=s===void 0?1:s,M=h.yGap,w=M===void 0?8:M;this.xGap=c,this.yGap=w}return p.prototype.hasGap=function(h){for(var s=!0,c=this.bitmap,M=Math.round(h.minX),w=Math.round(h.maxX),$=Math.round(h.minY),ht=Math.round(h.maxY),St=M;St<=w;St+=1){if(!c[St]){c[St]={};continue}if(St===M||St===w){for(var kt=$;kt<=ht;kt++)if(c[St][kt]){s=!1;break}}else if(c[St][$]||c[St][ht]){s=!1;break}}return s},p.prototype.fillGap=function(h){for(var s=this.bitmap,c=Math.round(h.minX),M=Math.round(h.maxX),w=Math.round(h.minY),$=Math.round(h.maxY),ht=c;ht<=M;ht+=1)s[ht]||(s[ht]={});for(var ht=c;ht<=M;ht+=this.xGap){for(var St=w;St<=$;St+=this.yGap)s[ht][St]=!0;s[ht][$]=!0}if(this.yGap!==1)for(var ht=w;ht<=$;ht+=1)s[c][ht]=!0,s[M][ht]=!0;if(this.xGap!==1)for(var ht=c;ht<=M;ht+=1)s[ht][w]=!0,s[ht][$]=!0},p.prototype.destroy=function(){this.bitmap={}},p}();function Vf(p,h,s){s===void 0&&(s=Dh);var c=-1,M=p.attr(),w=M.x,$=M.y,ht=p.getCanvasBBox(),St=Math.sqrt(ht.width*ht.width+ht.height*ht.height),kt,_t=-c,Zt=0,te=0,ne=function(mr){var Or=mr*.1;return[Or*Math.cos(Or),Or*Math.sin(Or)]};if(h.hasGap(ht))return h.fillGap(ht),!0;for(var ve=!1,Oe=0,Ke={};Math.min(Math.abs(Zt),Math.abs(te))<St&&Oe<s;)if(kt=ne(_t+=c),Zt=~~kt[0],te=~~kt[1],!(!Zt&&!te||Ke[Zt+"-"+te])&&(p.attr({x:w+Zt,y:$+te}),Zt+te<0&&p.attr("textAlign","right"),Oe++,h.hasGap(p.getCanvasBBox()))){h.fillGap(p.getCanvasBBox()),ve=!0,Ke[Zt+"-"+te]=!0;break}return ve}function ul(p,h,s,c){var M=p.getCanvasBBox(),w=M.width,$=M.height,ht={x:h,y:s,textAlign:"center"};switch(c){case 0:ht.y-=$+1,ht.x+=1,ht.textAlign="left";break;case 1:ht.y-=$+1,ht.x-=1,ht.textAlign="right";break;case 2:ht.y+=$+1,ht.x-=1,ht.textAlign="right";break;case 3:ht.y+=$+1,ht.x+=1,ht.textAlign="left";break;case 5:ht.y-=$*2+2;break;case 6:ht.y+=$*2+2;break;case 7:ht.x+=w+1,ht.textAlign="left";break;case 8:ht.x-=w+1,ht.textAlign="right";break;default:break}return p.attr(ht),p.getCanvasBBox()}function Md(p,h,s,c){var M=new nu;Object(o.each)(h,function(w){var $=w.find(function(ht){return ht.get("type")==="text"});Vf($,M)||w.remove(!0)}),M.destroy()}function Cd(p,h,s,c){var M=new nu;Object(o.each)(h,function(w){for(var $=w.find(function(ne){return ne.get("type")==="text"}),ht=$.attr(),St=ht.x,kt=ht.y,_t=!1,Zt=0;Zt<=8;Zt++){var te=ul($,St,kt,Zt);if(M.hasGap(te)){M.fillGap(te),_t=!0;break}}_t||w.remove(!0)}),M.destroy()}var Uc=H.c.dot;function Xf(p){if(p.length>4)return[];var h=function(w,$){return[$.x-w.x,$.y-w.y]},s=h(p[0],p[1]),c=h(p[1],p[2]);return[s,c]}function Wc(p,h,s){h===void 0&&(h=0),s===void 0&&(s={x:0,y:0});var c=p.x,M=p.y;return{x:(c-s.x)*Math.cos(-h)+(M-s.y)*Math.sin(-h)+s.x,y:(s.x-c)*Math.sin(-h)+(M-s.y)*Math.cos(-h)+s.y}}function Ph(p){var h=[{x:p.x,y:p.y},{x:p.x+p.width,y:p.y},{x:p.x+p.width,y:p.y+p.height},{x:p.x,y:p.y+p.height}],s=p.rotation;return s?[Wc(h[0],s,h[0]),Wc(h[1],s,h[0]),Wc(h[2],s,h[0]),Wc(h[3],s,h[0])]:h}function Ih(p,h){if(p.length>4)return{min:0,max:0};var s=[];return p.forEach(function(c){s.push(Uc([c.x,c.y],h))}),{min:Math.min.apply(Math,s),max:Math.max.apply(Math,s)}}function Ad(p,h){return p.max>h.min&&p.min<h.max}function Lh(p,h,s){return s===void 0&&(s=0),!(h.x>p.x+p.width+s||h.x+h.width<p.x-s||h.y>p.y+p.height+s||h.y+h.height<p.y-s)}function jh(p,h){if(!p.rotation&&!h.rotation)return Lh(p,h);for(var s=Ph(p),c=Ph(h),M=Object(f.__spreadArrays)(Xf(s),Xf(c)),w=0;w<M.length;w++){var $=M[w],ht=Ih(s,$),St=Ih(c,$);if(!Ad(ht,St))return!1}return!0}function cl(p,h,s,c){for(var M=0;M<h.length;M++){var w=h[M];if(h[M].get("visible"))for(var $=M+1;$<h.length;$++){var ht=h[$];if(w&&ht&&w!==ht&&ht.get("visible")){var St=yc(w,p[M],Object(o.get)(p[M],"background.padding")),kt=yc(ht,p[$],Object(o.get)(p[$],"background.padding"));jh(St,kt)&&h[$].set("visible",!1)}}}}var Rh={"#5B8FF9":!0},Td=function(h){var s=ct.a.toRGB(h).toUpperCase();if(Rh[s])return Rh[s];var c=ct.a.rgb2arr(s),M=c[0],w=c[1],$=c[2],ht=(M*299+w*587+$*114)/1e3<128;return ht};function Dd(p,h,s){if(s.length!==0){var c=s[0].get("element"),M=c.geometry.theme,w=M.labels||{},$=w.fillColorLight,ht=w.fillColorDark;s.forEach(function(St,kt){var _t=h[kt],Zt=_t.find(function(tr){return tr.get("type")==="text"}),te=tn.fromObject(St.getBBox()),ne=tn.fromObject(Zt.getCanvasBBox()),ve=!te.contains(ne),Oe=St.attr("fill"),Ke=Td(Oe);ve?Zt.attr(M.overflowLabels.style):Ke?$&&Zt.attr("fill",$):ht&&Zt.attr("fill",ht)})}}function Zo(p,h,s){var c=p.coordinate,M=bs(h),w=tn.fromObject(M.getCanvasBBox()),$=tn.fromObject(s.getBBox());return c.isTransposed?$.height>=w.height:$.width>=w.width}function zc(p,h,s){var c=!!p.getAdjust("stack");return c||h.every(function(M,w){var $=s[w];return Zo(p,M,$)})}function Xu(p,h,s){var c=p.coordinate,M=tn.fromObject(s.getBBox()),w=bs(h);c.isTransposed?w.attr({x:M.minX+M.width/2,textAlign:"center"}):w.attr({y:M.minY+M.height/2,textBaseline:"middle"})}function kc(p,h,s){var c;if(s.length!==0){var M=(c=s[0])===null||c===void 0?void 0:c.get("element"),w=M==null?void 0:M.geometry;if(!(!w||w.type!=="interval")){var $=zc(w,h,s);$&&s.forEach(function(ht,St){var kt=h[St];Xu(w,kt,ht)})}}}function Vc(p){var h=500,s=[],c=Math.max(Math.floor(p.length/h),1);return Object(o.each)(p,function(M,w){w%c==0?s.push(M):M.set("visible",!1)}),s}function jl(p,h,s){var c;if(s.length!==0){var M=(c=s[0])===null||c===void 0?void 0:c.get("element"),w=M==null?void 0:M.geometry;if(!(!w||w.type!=="interval")){var $=Vc(h),ht=w.getXYFields()[0],St=[],kt=[],_t=Object(o.groupBy)($,function(Oe){return Oe.get("data")[ht]}),Zt=Object(o.uniq)(Object(o.map)($,function(Oe){return Oe.get("data")[ht]})),te;$.forEach(function(Oe){Oe.set("visible",!0)});var ne=function(Ke){Ke&&(Ke.length&&kt.push(Ke.pop()),kt.push.apply(kt,Ke))};for(Object(o.size)(Zt)>0&&(te=Zt.shift(),ne(_t[te])),Object(o.size)(Zt)>0&&(te=Zt.pop(),ne(_t[te])),Object(o.each)(Zt.reverse(),function(Oe){ne(_t[Oe])});kt.length>0;){var ve=kt.shift();ve.get("visible")&&(io(ve,St)?ve.set("visible",!1):St.push(ve))}}}}function cs(p,h){var s=p.getXYFields()[1],c=[],M=h.sort(function(w,$){return w.get("data")[s]-w.get("data")[s]});return M.length>0&&c.push(M.shift()),M.length>0&&c.push(M.pop()),c.push.apply(c,M),c}function iu(p,h,s){return p.some(function(c){return s(c,h)})}function Hf(p,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(p.x+p.width+s,h.x+h.width+s)-Math.max(p.x-s,h.x-s)),M=Math.max(0,Math.min(p.y+p.height+s,h.y+h.height+s)-Math.max(p.y-s,h.y-s));return c*M}function au(p,h){return iu(p,h,function(s,c){var M=bs(s),w=bs(c);return Hf(M.getCanvasBBox(),w.getCanvasBBox(),2)>0})}function Dn(p,h,s,c,M){var w,$;if(s.length!==0){var ht=(w=s[0])===null||w===void 0?void 0:w.get("element"),St=ht==null?void 0:ht.geometry;if(!(!St||St.type!=="point")){var kt=St.getXYFields(),_t=kt[0],Zt=kt[1],te=Object(o.groupBy)(h,function(Oe){return Oe.get("data")[_t]}),ne=[],ve=M&&M.offset||(($=p[0])===null||$===void 0?void 0:$.offset)||12;Object(o.map)(Object(o.keys)(te).reverse(),function(Oe){for(var Ke=cs(St,te[Oe]);Ke.length;){var tr=Ke.shift(),mr=bs(tr);if(iu(ne,tr,function(sn,mn){return sn.get("data")[_t]===mn.get("data")[_t]&&sn.get("data")[Zt]===mn.get("data")[Zt]})){mr.set("visible",!1);continue}var Or=au(ne,tr),yn=!1;if(Or&&(mr.attr("y",mr.attr("y")+2*ve),yn=au(ne,tr)),yn){mr.set("visible",!1);continue}ne.push(tr)}})}}}function Yf(p,h){var s=p.getXYFields()[1],c=[],M=h.sort(function(w,$){return w.get("data")[s]-w.get("data")[s]});return M.length>0&&c.push(M.shift()),M.length>0&&c.push(M.pop()),c.push.apply(c,M),c}function ou(p,h,s){return p.some(function(c){return s(c,h)})}function fs(p,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(p.x+p.width+s,h.x+h.width+s)-Math.max(p.x-s,h.x-s)),M=Math.max(0,Math.min(p.y+p.height+s,h.y+h.height+s)-Math.max(p.y-s,h.y-s));return c*M}function Ns(p,h){return ou(p,h,function(s,c){var M=bs(s),w=bs(c);return fs(M.getCanvasBBox(),w.getCanvasBBox(),2)>0})}function Rr(p,h,s,c,M){var w,$;if(s.length!==0){var ht=(w=s[0])===null||w===void 0?void 0:w.get("element"),St=ht==null?void 0:ht.geometry;if(!(!St||["path","line","area"].indexOf(St.type)<0)){var kt=St.getXYFields(),_t=kt[0],Zt=kt[1],te=Object(o.groupBy)(h,function(Oe){return Oe.get("data")[_t]}),ne=[],ve=M&&M.offset||(($=p[0])===null||$===void 0?void 0:$.offset)||12;Object(o.map)(Object(o.keys)(te).reverse(),function(Oe){for(var Ke=Yf(St,te[Oe]);Ke.length;){var tr=Ke.shift(),mr=bs(tr);if(ou(ne,tr,function(sn,mn){return sn.get("data")[_t]===mn.get("data")[_t]&&sn.get("data")[Zt]===mn.get("data")[Zt]})){mr.set("visible",!1);continue}var Or=Ns(ne,tr),yn=!1;if(Or&&(mr.attr("y",mr.attr("y")+2*ve),yn=Ns(ne,tr)),yn){mr.set("visible",!1);continue}ne.push(tr)}})}}}var fl;function Kf(){return fl||(fl=document.createElement("canvas").getContext("2d")),fl}var Zs=Object(o.memoize)(function(p,h){h===void 0&&(h={});var s=h.fontSize,c=h.fontFamily,M=h.fontWeight,w=h.fontStyle,$=h.fontVariant,ht=Kf();return ht.font=[w,$,M,s+"px",c].join(" "),ht.measureText(Object(o.isString)(p)?p:"").width},function(p,h){return h===void 0&&(h={}),Object(f.__spreadArrays)([p],Object(o.values)(h)).join("")}),Rl=function(h,s,c){var M=16,w=Zs("...",c),$;Object(o.isString)(h)?$=h:$=Object(o.toString)(h);var ht=s,St=[],kt,_t;if(Zs(h,c)<=s)return h;for(;kt=$.substr(0,M),_t=Zs(kt,c),!(_t+w>ht&&_t>ht);)if(St.push(kt),ht-=_t,$=$.substr(M),!$)return St.join("");for(;kt=$.substr(0,1),_t=Zs(kt,c),!(_t+w>ht);)if(St.push(kt),ht-=_t,$=$.substr(1),!$)return St.join("");return St.join("")+"..."};function wh(p,h,s,c,M){if(!(h.length<=0)){var w=(M==null?void 0:M.direction)||["top","right","bottom","left"],$=(M==null?void 0:M.action)||"translate",ht=(M==null?void 0:M.margin)||0,St=h[0].get("coordinate");if(!!St){var kt=Qn(St,ht),_t=kt.minX,Zt=kt.minY,te=kt.maxX,ne=kt.maxY;Object(o.each)(h,function(ve){var Oe=ve.getCanvasBBox(),Ke=Oe.minX,tr=Oe.minY,mr=Oe.maxX,Or=Oe.maxY,yn=Oe.x,sn=Oe.y,mn=Oe.width,di=Oe.height,Zn=yn,$n=sn;if(w.indexOf("left")>=0&&(Ke<_t||mr<_t)&&(Zn=_t),w.indexOf("top")>=0&&(tr<Zt||Or<Zt)&&($n=Zt),w.indexOf("right")>=0&&(Ke>te?Zn=te-mn:mr>te&&(Zn=Zn-(mr-te))),w.indexOf("bottom")>=0&&(tr>ne?$n=ne-di:Or>ne&&($n=$n-(Or-ne))),Zn!==yn||$n!==sn){var Di=Zn-yn;if($==="translate")xl(ve,Di,$n-sn);else if($==="ellipsis"){var ra=ve.findAll(function(_i){return _i.get("type")==="text"});ra.forEach(function(_i){var Qa=Object(o.pick)(_i.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Fo=_i.getCanvasBBox(),Do=Rl(_i.attr("text"),Fo.width-Math.abs(Di),Qa);_i.attr("text",Do)})}else ve.hide()}})}}}function Xc(p,h,s){var c={fillOpacity:Object(o.isNil)(p.attr("fillOpacity"))?1:p.attr("fillOpacity"),strokeOpacity:Object(o.isNil)(p.attr("strokeOpacity"))?1:p.attr("strokeOpacity"),opacity:Object(o.isNil)(p.attr("opacity"))?1:p.attr("opacity")};p.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate(c,h)}function Pd(p,h,s){var c={fillOpacity:0,strokeOpacity:0,opacity:0},M=h.easing,w=h.duration,$=h.delay;p.animate(c,w,M,function(){p.remove(!0)},$)}function Id(p,h,s){var c,M=h[0],w=h[1];return p.applyToMatrix([M,w,1]),s==="x"?(p.setMatrix(H.a.transform(p.getMatrix(),[["t",-M,-w],["s",.01,1],["t",M,w]])),c=H.a.transform(p.getMatrix(),[["t",-M,-w],["s",100,1],["t",M,w]])):s==="y"?(p.setMatrix(H.a.transform(p.getMatrix(),[["t",-M,-w],["s",1,.01],["t",M,w]])),c=H.a.transform(p.getMatrix(),[["t",-M,-w],["s",1,100],["t",M,w]])):s==="xy"&&(p.setMatrix(H.a.transform(p.getMatrix(),[["t",-M,-w],["s",.01,.01],["t",M,w]])),c=H.a.transform(p.getMatrix(),[["t",-M,-w],["s",100,100],["t",M,w]])),c}function _f(p,h,s,c,M){var w=s.start,$=s.end,ht=s.getWidth(),St=s.getHeight(),kt,_t;M==="y"?(kt=w.x+ht/2,_t=c.y<w.y?c.y:w.y):M==="x"?(kt=c.x>w.x?c.x:w.x,_t=w.y+St/2):M==="xy"&&(s.isPolar?(kt=s.getCenter().x,_t=s.getCenter().y):(kt=(w.x+$.x)/2,_t=(w.y+$.y)/2));var Zt=Id(p,[kt,_t],M);p.animate({matrix:Zt},h)}function hs(p,h,s){var c=s.coordinate,M=s.minYPoint;_f(p,h,c,M,"x")}function Bh(p,h,s){var c=s.coordinate,M=s.minYPoint;_f(p,h,c,M,"y")}function Hu(p,h,s){var c=s.coordinate,M=s.minYPoint;_f(p,h,c,M,"xy")}function Yu(p,h,s){var c=p.getTotalLength();p.attr("lineDash",[c]),p.animate(function(M){return{lineDashOffset:(1-M)*c}},h)}function Nh(p,h,s){var c=s.toAttrs,M=c.x,w=c.y;delete c.x,delete c.y,p.attr(c),p.animate({x:M,y:w},h)}function Fh(p,h,s){var c=p.getBBox(),M=p.get("origin").mappingData,w=M.points,$=w[0].y-w[1].y>0?c.maxX:c.minX,ht=(c.minY+c.maxY)/2;p.applyToMatrix([$,ht,1]);var St=H.a.transform(p.getMatrix(),[["t",-$,-ht],["s",.01,1],["t",$,ht]]);p.setMatrix(St),p.animate({matrix:H.a.transform(p.getMatrix(),[["t",-$,-ht],["s",100,1],["t",$,ht]])},h)}function Ld(p,h,s){var c=p.getBBox(),M=p.get("origin").mappingData,w=(c.minX+c.maxX)/2,$=M.points,ht=$[0].y-$[1].y<=0?c.maxY:c.minY;p.applyToMatrix([w,ht,1]);var St=H.a.transform(p.getMatrix(),[["t",-w,-ht],["s",1,.01],["t",w,ht]]);p.setMatrix(St),p.animate({matrix:H.a.transform(p.getMatrix(),[["t",-w,-ht],["s",1,100],["t",w,ht]])},h)}function xs(p,h){var s,c=Object(Xl.getArcParams)(p,h),M=c.startAngle,w=c.endAngle;return!Object(o.isNumberEqual)(M,-Math.PI*.5)&&M<-Math.PI*.5&&(M+=Math.PI*2),!Object(o.isNumberEqual)(w,-Math.PI*.5)&&w<-Math.PI*.5&&(w+=Math.PI*2),h[5]===0&&(s=[w,M],M=s[0],w=s[1]),Object(o.isNumberEqual)(M,Math.PI*1.5)&&(M=Math.PI*-.5),Object(o.isNumberEqual)(w,Math.PI*-.5)&&(w=Math.PI*1.5),{startAngle:M,endAngle:w}}function Hc(p){var h;return p[0]==="M"||p[0]==="L"?h=[p[1],p[2]]:(p[0]==="a"||p[0]==="A"||p[0]==="C")&&(h=[p[p.length-2],p[p.length-1]]),h}function hl(p){var h,s,c,M=p.filter(function(Or){return Or[0]==="A"||Or[0]==="a"});if(M.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var w=M[0],$=M.length>1?M[1]:M[0],ht=p.indexOf(w),St=p.indexOf($),kt=Hc(p[ht-1]),_t=Hc(p[St-1]),Zt=xs(kt,w),te=Zt.startAngle,ne=Zt.endAngle,ve=xs(_t,$),Oe=ve.startAngle,Ke=ve.endAngle;Object(o.isNumberEqual)(te,Oe)&&Object(o.isNumberEqual)(ne,Ke)?(s=te,c=ne):(s=Math.min(te,Oe),c=Math.max(ne,Ke));var tr=w[1],mr=M[M.length-1][1];return tr<mr?(h=[mr,tr],tr=h[0],mr=h[1]):tr===mr&&(mr=0),{startAngle:s,endAngle:c,radius:tr,innerRadius:mr}}function dl(p,h,s){var c=s.toAttrs,M=s.coordinate,w=c.path||[],$=w.map(function(mr){return mr[0]});if(!(w.length<1)){var ht=hl(w),St=ht.startAngle,kt=ht.endAngle,_t=ht.radius,Zt=ht.innerRadius,te=hl(p.attr("path")),ne=te.startAngle,ve=te.endAngle,Oe=M.getCenter(),Ke=St-ne,tr=kt-ve;if(Ke===0&&tr===0){p.attr("path",w);return}p.animate(function(mr){var Or=ne+mr*Ke,yn=ve+mr*tr;return Object(f.__assign)(Object(f.__assign)({},c),{path:Object(o.isEqual)($,["M","A","A","Z"])?We(Oe.x,Oe.y,_t,Or,yn):Ie(Oe.x,Oe.y,_t,Or,yn,Zt)})},Object(f.__assign)(Object(f.__assign)({},h),{callback:function(){p.attr("path",w)}}))}}function Zf(p,h,s){var c=jn(s.coordinate,20),M=c.type,w=c.startState,$=c.endState,ht=p.setClip({type:M,attrs:w});ht.animate($,Object(f.__assign)(Object(f.__assign)({},h),{callback:function(){p&&!p.get("destroyed")&&p.set("clipShape",null),ht.remove(!0)}}))}function su(p,h,s){if(p.isGroup())Object(o.each)(p.getChildren(),function(ht){su(ht,h,s)});else{var c=p.getBBox(),M=(c.minX+c.maxX)/2,w=(c.minY+c.maxY)/2;if(p.applyToMatrix([M,w,1]),s==="zoomIn"){var $=H.a.transform(p.getMatrix(),[["t",-M,-w],["s",.01,.01],["t",M,w]]);p.setMatrix($),p.animate({matrix:H.a.transform(p.getMatrix(),[["t",-M,-w],["s",100,100],["t",M,w]])},h)}else p.animate({matrix:H.a.transform(p.getMatrix(),[["t",-M,-w],["s",.01,.01],["t",M,w]])},Object(f.__assign)(Object(f.__assign)({},h),{callback:function(){p.remove(!0)}}))}}function Ku(p,h,s){su(p,h,"zoomIn")}function _u(p,h,s){su(p,h,"zoomOut")}function Ca(p){return[O.TOP,O.BOTTOM].includes(p)?{offsetX:0,offsetY:p===O.TOP?-8:8,style:{textAlign:"center",textBaseline:p===O.TOP?"bottom":"top"}}:[O.LEFT,O.RIGHT].includes(p)?{offsetX:p===O.LEFT?-8:8,offsetY:0,style:{textAlign:p===O.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Aa(p,h,s){return{x:p.x+h*Math.cos(s),y:p.y+h*Math.sin(s)}}var La=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.deepMix)({},p.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:p.prototype.getDefaultTitleCfg.call(this)})},h.prototype.render=function(){p.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.getRegion=function(s,c){var M=1/2,w={x:.5,y:.5},$=Math.PI*2/s,ht=-1*Math.PI/2+$*c,St=M/(1+1/Math.sin($/2)),kt=Aa(w,M-St,ht),_t=Math.PI*5/4,Zt=Math.PI*1/4;return{start:Aa(kt,St,_t),end:Aa(kt,St,Zt)}},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){var c=this,M=this.cfg,w=M.fields,$=M.type,ht=w[0];if(!ht)throw new Error("No `fields` specified!");var St=this.getFieldValues(s,ht),kt=St.length,_t=[];return St.forEach(function(Zt,te){var ne=[{field:ht,value:Zt,values:St}],ve=Object(o.filter)(s,c.getFacetDataFilter(ne)),Oe={type:$,data:ve,region:c.getRegion(kt,te),columnValue:Zt,columnField:ht,columnIndex:te,columnValuesLength:kt,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};_t.push(Oe)}),_t},h.prototype.getXAxisOption=function(s,c,M,w){return M},h.prototype.getYAxisOption=function(s,c,M,w){return M},h.prototype.renderTitle=function(){var s=this;Object(o.each)(this.facets,function(c){var M=c.columnValue,w=c.view,$=Object(o.get)(s.cfg.title,"formatter"),ht=Object(o.deepMix)({position:["50%","0%"],content:$?$(M):M},Ca(O.TOP),s.cfg.title);w.annotation().text(ht)})},h}(Sa),es=La,jd=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.deepMix)({},p.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:p.prototype.getDefaultTitleCfg.call(this)})},h.prototype.render=function(){p.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){var c=this,M=this.cfg.fields,w=this.cfg.cols,$=M[0];if(!$)throw new Error("No `fields` specified!");var ht=this.getFieldValues(s,$),St=ht.length;w=w||St;var kt=this.getPageCount(St,w),_t=[];return ht.forEach(function(Zt,te){var ne=c.getRowCol(te,w),ve=ne.row,Oe=ne.col,Ke=[{field:$,value:Zt,values:ht}],tr=Object(o.filter)(s,c.getFacetDataFilter(Ke)),mr={type:c.cfg.type,data:tr,region:c.getRegion(kt,w,Oe,ve),columnValue:Zt,rowValue:Zt,columnField:$,rowField:null,columnIndex:Oe,rowIndex:ve,columnValuesLength:w,rowValuesLength:kt,total:St};_t.push(mr)}),_t},h.prototype.getXAxisOption=function(s,c,M,w){return w.rowIndex!==w.rowValuesLength-1&&w.columnValuesLength*w.rowIndex+w.columnIndex+1+w.columnValuesLength<=w.total?Object(f.__assign)(Object(f.__assign)({},M),{label:null,title:null}):M},h.prototype.getYAxisOption=function(s,c,M,w){return w.columnIndex!==0?Object(f.__assign)(Object(f.__assign)({},M),{title:null,label:null}):M},h.prototype.renderTitle=function(){var s=this;Object(o.each)(this.facets,function(c){var M=c.columnValue,w=c.view,$=Object(o.get)(s.cfg.title,"formatter"),ht=Object(o.deepMix)({position:["50%","0%"],content:$?$(M):M},Ca(O.TOP),s.cfg.title);w.annotation().text(ht)})},h.prototype.getPageCount=function(s,c){return Math.floor((s+c-1)/c)},h.prototype.getRowCol=function(s,c){var M=Math.floor(s/c),w=s%c;return{row:M,col:w}},h}(Sa),mv=jd,bv=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.deepMix)({},p.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(f.__assign)({},p.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(f.__assign)({},p.prototype.getDefaultTitleCfg.call(this))})},h.prototype.render=function(){p.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){for(var c=this.cfg,M=c.fields,w=c.type,$=M.length,ht=$,St=[],kt=0;kt<ht;kt++)for(var _t=M[kt],Zt=0;Zt<$;Zt++){var te=M[Zt],ne={type:w,data:s,region:this.getRegion($,ht,kt,Zt),columnValue:_t,rowValue:te,columnField:_t,rowField:te,columnIndex:kt,rowIndex:Zt,columnValuesLength:ht,rowValuesLength:$};St.push(ne)}return St},h.prototype.getXAxisOption=function(s,c,M,w){return w.rowIndex!==w.rowValuesLength-1?Object(f.__assign)(Object(f.__assign)({},M),{label:null,title:null}):M},h.prototype.getYAxisOption=function(s,c,M,w){return w.columnIndex!==0?Object(f.__assign)(Object(f.__assign)({},M),{title:null,label:null}):M},h.prototype.renderTitle=function(){var s=this;Object(o.each)(this.facets,function(c,M){var w=c.columnIndex,$=c.rowIndex,ht=c.columnValuesLength,St=c.rowValuesLength,kt=c.columnValue,_t=c.rowValue,Zt=c.view;if($===0){var te=Object(o.get)(s.cfg.columnTitle,"formatter"),ne=Object(o.deepMix)({position:["50%","0%"],content:te?te(kt):kt},Ca(O.TOP),s.cfg.columnTitle);Zt.annotation().text(ne)}if(w===ht-1){var te=Object(o.get)(s.cfg.rowTitle,"formatter"),ne=Object(o.deepMix)({position:["100%","50%"],content:te?te(_t):_t},Ca(O.RIGHT),s.cfg.rowTitle);Zt.annotation().text(ne)}})},h}(Sa),Ov=bv,xv=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.deepMix)({},p.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:p.prototype.getDefaultTitleCfg.call(this),transpose:!1})},h.prototype.render=function(){p.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.beforeEachView=function(s,c){this.cfg.transpose?c.columnIndex%2==0?s.coordinate().transpose().reflect("x"):s.coordinate().transpose():c.rowIndex%2!=0&&s.coordinate().reflect("y")},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.generateFacets=function(s){var c=this,M=this.cfg.fields[0],w=[],$=1,ht=1,St=[""],kt=[""],_t,Zt;return this.cfg.transpose?(_t=M,St=this.getFieldValues(s,_t).slice(0,2),$=St.length):(Zt=M,kt=this.getFieldValues(s,Zt).slice(0,2),ht=kt.length),St.forEach(function(te,ne){kt.forEach(function(ve,Oe){var Ke=[{field:_t,value:te,values:St},{field:Zt,value:ve,values:kt}],tr=Object(o.filter)(s,c.getFacetDataFilter(Ke)),mr={type:c.cfg.type,data:tr,region:c.getRegion(ht,$,ne,Oe),columnValue:te,rowValue:ve,columnField:_t,rowField:Zt,columnIndex:ne,rowIndex:Oe,columnValuesLength:$,rowValuesLength:ht};w.push(mr)})}),w},h.prototype.getXAxisOption=function(s,c,M,w){return w.columnIndex===1||w.rowIndex===1?Object(f.__assign)(Object(f.__assign)({},M),{label:null,title:null}):M},h.prototype.getYAxisOption=function(s,c,M,w){return M},h.prototype.renderTitle=function(){var s=this;Object(o.each)(this.facets,function(c,M){var w=c.columnValue,$=c.rowValue,ht=c.view,St=Object(o.get)(s.cfg.title,"formatter");if(s.cfg.transpose){var kt=Object(o.deepMix)({position:["50%","0%"],content:St?St(w):w},Ca(O.TOP),s.cfg.title);ht.annotation().text(kt)}else{var kt=Object(o.deepMix)({position:["100%","50%"],content:St?St($):$},Ca(O.RIGHT),s.cfg.title);ht.annotation().text(kt)}})},h}(Sa),Rd=xv,Ev=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.getDefaultCfg=function(){return Object(o.deepMix)({},p.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(f.__assign)({},p.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(f.__assign)({},p.prototype.getDefaultTitleCfg.call(this))})},h.prototype.render=function(){p.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.generateFacets=function(s){var c=this,M=this.cfg.fields,w=M[0],$=M[1],ht=[],St=1,kt=1,_t=[""],Zt=[""];return w&&(_t=this.getFieldValues(s,w),St=_t.length),$&&(Zt=this.getFieldValues(s,$),kt=Zt.length),_t.forEach(function(te,ne){Zt.forEach(function(ve,Oe){var Ke=[{field:w,value:te,values:_t},{field:$,value:ve,values:Zt}],tr=Object(o.filter)(s,c.getFacetDataFilter(Ke)),mr={type:c.cfg.type,data:tr,region:c.getRegion(kt,St,ne,Oe),columnValue:te,rowValue:ve,columnField:w,rowField:$,columnIndex:ne,rowIndex:Oe,columnValuesLength:St,rowValuesLength:kt};ht.push(mr)})}),ht},h.prototype.renderTitle=function(){var s=this;Object(o.each)(this.facets,function(c,M){var w=c.columnIndex,$=c.rowIndex,ht=c.columnValuesLength,St=c.columnValue,kt=c.rowValue,_t=c.view;if($===0){var Zt=Object(o.get)(s.cfg.columnTitle,"formatter"),te=Object(o.deepMix)({position:["50%","0%"],content:Zt?Zt(St):St},Ca(O.TOP),s.cfg.columnTitle);_t.annotation().text(te)}if(w===ht-1){var Zt=Object(o.get)(s.cfg.rowTitle,"formatter"),te=Object(o.deepMix)({position:["100%","50%"],content:Zt?Zt(kt):kt},Ca(O.RIGHT),s.cfg.rowTitle);_t.annotation().text(te)}})},h.prototype.getXAxisOption=function(s,c,M,w){return w.rowIndex!==w.rowValuesLength-1?Object(f.__assign)(Object(f.__assign)({},M),{title:null,label:null}):w.columnIndex!==Math.floor((w.columnValuesLength-1)/2)?Object(f.__assign)(Object(f.__assign)({},M),{title:null}):M},h.prototype.getYAxisOption=function(s,c,M,w){return w.columnIndex!==0?Object(f.__assign)(Object(f.__assign)({},M),{title:null,label:null}):w.rowIndex!==Math.floor((w.rowValuesLength-1)/2)?Object(f.__assign)(Object(f.__assign)({},M),{title:null}):M},h}(Sa),Sv=Ev,Mv=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.afterChartRender=function(){s.facets&&s.cfg.line&&(s.container.clear(),s.drawLines(s.facets))},s}return h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.init=function(){p.prototype.init.call(this),this.view.on(b.AFTER_RENDER,this.afterChartRender)},h.prototype.getDefaultCfg=function(){return Object(o.deepMix)({},p.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:p.prototype.getDefaultTitleCfg.call(this)})},h.prototype.generateFacets=function(s){var c=this.cfg.fields;if(!c.length)throw new Error("Please specify for the fields for rootFacet!");var M=[],w={type:this.cfg.type,data:s,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return M.push(w),w.children=this.getChildFacets(s,1,M),this.setRegion(M),M},h.prototype.setRegion=function(s){var c=this;this.forceColIndex(s),s.forEach(function(M){M.region=c.getRegion(M.rowValuesLength,M.columnValuesLength,M.columnIndex,M.rowIndex)})},h.prototype.getRegion=function(s,c,M,w){var $=1/c,ht=1/s,St={x:$*M,y:ht*w},kt={x:St.x+$,y:St.y+ht*2/3};return{start:St,end:kt}},h.prototype.forceColIndex=function(s){var c=this,M=[],w=0;s.forEach(function(te){c.isLeaf(te)&&(M.push(te),te.columnIndex=w,w++)}),M.forEach(function(te){te.columnValuesLength=M.length});for(var $=this.cfg.fields.length,ht=$-1;ht>=0;ht--)for(var St=this.getFacetsByLevel(s,ht),kt=0,_t=St;kt<_t.length;kt++){var Zt=_t[kt];this.isLeaf(Zt)||(Zt.originColIndex=Zt.columnIndex,Zt.columnIndex=this.getRegionIndex(Zt.children),Zt.columnValuesLength=M.length)}},h.prototype.getFacetsByLevel=function(s,c){var M=[];return s.forEach(function(w){w.rowIndex===c&&M.push(w)}),M},h.prototype.getRegionIndex=function(s){var c=s[0],M=s[s.length-1];return(M.columnIndex-c.columnIndex)/2+c.columnIndex},h.prototype.isLeaf=function(s){return!s.children||!s.children.length},h.prototype.getRows=function(){return this.cfg.fields.length+1},h.prototype.getChildFacets=function(s,c,M){var w=this,$=this.cfg.fields,ht=$.length;if(!(ht<c)){var St=[],kt=$[c-1],_t=this.getFieldValues(s,kt);return _t.forEach(function(Zt,te){var ne=[{field:kt,value:Zt,values:_t}],ve=s.filter(w.getFacetDataFilter(ne));if(ve.length){var Oe={type:w.cfg.type,data:ve,region:null,columnValue:Zt,rowValue:"",columnField:kt,rowField:"",columnIndex:te,rowValuesLength:w.getRows(),columnValuesLength:1,rowIndex:c,children:w.getChildFacets(ve,c+1,M)};St.push(Oe),M.push(Oe)}}),St}},h.prototype.render=function(){p.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.renderTitle=function(){var s=this;Object(o.each)(this.facets,function(c){var M=c.columnValue,w=c.view,$=Object(o.get)(s.cfg.title,"formatter"),ht=Object(o.deepMix)({position:["50%","0%"],content:$?$(M):M},Ca(O.TOP),s.cfg.title);w.annotation().text(ht)})},h.prototype.drawLines=function(s){var c=this;s.forEach(function(M){if(!c.isLeaf(M)){var w=M.children;c.addFacetLines(M,w)}})},h.prototype.addFacetLines=function(s,c){var M=this,w=s.view,$=w.coordinateBBox,ht={x:$.x+$.width/2,y:$.y+$.height};c.forEach(function(St){var kt=St.view.coordinateBBox,_t={x:kt.bl.x+(kt.tr.x-kt.bl.x)/2,y:kt.tr.y},Zt={x:ht.x,y:ht.y+(_t.y-ht.y)/2},te={x:_t.x,y:Zt.y};M.drawLine([ht,Zt,te,_t])})},h.prototype.getPath=function(s){var c=[],M=this.cfg.line.smooth;return M?(c.push(["M",s[0].x,s[0].y]),c.push(["C",s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y])):s.forEach(function(w,$){$===0?c.push(["M",w.x,w.y]):c.push(["L",w.x,w.y])}),c},h.prototype.drawLine=function(s){var c=this.getPath(s),M=this.cfg.line.style;this.container.addShape("path",{attrs:Object(o.assign)({path:c},M)})},h.prototype.getXAxisOption=function(s,c,M,w){return w.rowIndex!==w.rowValuesLength-1?Object(f.__assign)(Object(f.__assign)({},M),{title:null,label:null}):M},h.prototype.getYAxisOption=function(s,c,M,w){return w.originColIndex!==0&&w.columnIndex!==0?Object(f.__assign)(Object(f.__assign)({},M),{title:null,label:null}):M},h}(Sa),Cv=Mv;function wd(p){var h=Object(f.__spreadArrays)(p);h.sort(function(c,M){return c-M});var s=h.length;return s===0?0:s%2==1?h[(s-1)/2]:(h[s/2]+h[s/2-1])/2}function Bd(p){var h=Object(o.reduce)(p,function(s,c){return s+=isNaN(c)||!Object(o.isNumber)(c)?0:c},0);return p.length===0?0:h/p.length}function Na(p,h){if(!h)return null;var s;switch(p){case"start":return 0;case"end":return 1;case"median":{s=h.isCategory?wd(h.values.map(function(c,M){return M})):wd(h.values);break}case"mean":{s=h.isCategory?(h.values.length-1)/2:Bd(h.values);break}case"min":s=h.isCategory?0:h[p];break;case"max":s=h.isCategory?h.values.length-1:h[p];break;default:s=p;break}return h.scale(s)}var Zu=["regionFilter","shape"],Nd=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;return c.cache=new Map,c.foregroundContainer=c.view.getLayer(x.FORE).addGroup(),c.backgroundContainer=c.view.getLayer(x.BG).addGroup(),c.option=[],c}return Object.defineProperty(h.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.layout=function(){this.update()},h.prototype.render=function(){},h.prototype.update=function(){var s=this;this.onAfterRender(function(){var M=new Map;Object(o.each)(s.option,function(w){if(Object(o.includes)(Zu,w.type)){var $=s.updateOrCreate(w);$&&M.set(s.getCacheKey(w),$)}}),s.cache=s.syncCache(M)});var c=new Map;Object(o.each)(this.option,function(M){if(!Object(o.includes)(Zu,M.type)){var w=s.updateOrCreate(M);w&&c.set(s.getCacheKey(M),w)}}),this.cache=this.syncCache(c)},h.prototype.clear=function(s){s===void 0&&(s=!1),p.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),s&&(this.option=[])},h.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},h.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},h.prototype.clearComponents=function(){this.getComponents().forEach(function(s){s.component.destroy()}),this.cache.clear()},h.prototype.onAfterRender=function(s){this.view.getOptions().animate?this.view.geometries.forEach(function(c){c.animateOption&&c.once(S.AFTER_DRAW_ANIMATE,function(){s()})}):this.view.getRootView().once(b.AFTER_RENDER,function(){s()})},h.prototype.createAnnotation=function(s){var c=s.type,M=Ft.Annotation[Object(o.upperFirst)(c)];if(M){var w=this.getAnnotationTheme(c),$=this.getAnnotationCfg(c,s,w),ht=new M($);return{component:ht,layer:this.isTop($)?x.FORE:x.BG,direction:O.NONE,type:C.ANNOTATION,extra:s}}},h.prototype.annotation=function(s){this.option.push(s)},h.prototype.arc=function(s){return this.annotation(Object(f.__assign)({type:"arc"},s)),this},h.prototype.image=function(s){return this.annotation(Object(f.__assign)({type:"image"},s)),this},h.prototype.line=function(s){return this.annotation(Object(f.__assign)({type:"line"},s)),this},h.prototype.region=function(s){return this.annotation(Object(f.__assign)({type:"region"},s)),this},h.prototype.text=function(s){return this.annotation(Object(f.__assign)({type:"text"},s)),this},h.prototype.dataMarker=function(s){return this.annotation(Object(f.__assign)({type:"dataMarker"},s)),this},h.prototype.dataRegion=function(s){this.annotation(Object(f.__assign)({type:"dataRegion"},s))},h.prototype.regionFilter=function(s){this.annotation(Object(f.__assign)({type:"regionFilter"},s))},h.prototype.shape=function(s){this.annotation(Object(f.__assign)({type:"shape"},s))},h.prototype.html=function(s){this.annotation(Object(f.__assign)({type:"html"},s))},h.prototype.parsePosition=function(s){var c=this.view.getXScale(),M=this.view.getScalesByDim("y"),w=Object(o.isFunction)(s)?s.call(null,c,M):s,$=0,ht=0;if(Object(o.isArray)(w)){var St=w[0],kt=w[1];if(Object(o.isString)(St)&&St.indexOf("%")!==-1&&!isNaN(St.slice(0,-1)))return this.parsePercentPosition(w);$=Na(St,c),ht=Na(kt,Object.values(M)[0])}else if(!Object(o.isNil)(w))for(var _t=0,Zt=Object(o.keys)(w);_t<Zt.length;_t++){var te=Zt[_t],ne=w[te];te===c.field&&($=Na(ne,c)),M[te]&&(ht=Na(ne,M[te]))}return this.view.getCoordinate().convert({x:$,y:ht})},h.prototype.getRegionPoints=function(s,c){var M=this,w=this.view.getXScale(),$=this.view.getScalesByDim("y"),ht=Object.values($)[0],St=w.field,kt=this.view.getData(),_t=Object(o.isArray)(s)?s[0]:s[St],Zt=Object(o.isArray)(c)?c[0]:c[St],te=[],ne;return Object(o.each)(kt,function(ve,Oe){if(ve[St]===_t&&(ne=Oe),Oe>=ne){var Ke=M.parsePosition([ve[St],ve[ht.field]]);Ke&&te.push(Ke)}if(ve[St]===Zt)return!1}),te},h.prototype.parsePercentPosition=function(s){var c=parseFloat(s[0])/100,M=parseFloat(s[1])/100,w=this.view.getCoordinate(),$=w.start,ht=w.end,St={x:Math.min($.x,ht.x),y:Math.min($.y,ht.y)},kt=w.getWidth()*c+St.x,_t=w.getHeight()*M+St.y;return{x:kt,y:_t}},h.prototype.getCoordinateBBox=function(){var s=this.view.getCoordinate(),c=s.start,M=s.end,w=s.getWidth(),$=s.getHeight(),ht={x:Math.min(c.x,M.x),y:Math.min(c.y,M.y)};return{x:ht.x,y:ht.y,minX:ht.x,minY:ht.y,maxX:ht.x+w,maxY:ht.y+$,width:w,height:$}},h.prototype.getAnnotationCfg=function(s,c,M){var w=this,$=this.view.getCoordinate(),ht=this.view.getCanvas(),St={};if(Object(o.isNil)(c))return null;if(s==="arc"){var kt=c,_t=kt.start,Zt=kt.end,te=this.parsePosition(_t),ne=this.parsePosition(Zt),ve=$r($,te),Oe=$r($,ne);ve>Oe&&(Oe=Math.PI*2+Oe),St={center:$.getCenter(),radius:Gr($,te),startAngle:ve,endAngle:Oe}}else if(s==="image"){var Ke=c,_t=Ke.start,Zt=Ke.end;St={start:this.parsePosition(_t),end:this.parsePosition(Zt),src:c.src}}else if(s==="line"){var tr=c,_t=tr.start,Zt=tr.end;St={start:this.parsePosition(_t),end:this.parsePosition(Zt),text:Object(o.get)(c,"text",null)}}else if(s==="region"){var mr=c,_t=mr.start,Zt=mr.end;St={start:this.parsePosition(_t),end:this.parsePosition(Zt)}}else if(s==="text"){var Or=this.view.getData(),yn=c,sn=yn.position,mn=yn.content,di=Object(f.__rest)(yn,["position","content"]),Zn=mn;Object(o.isFunction)(mn)&&(Zn=mn(Or)),St=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},this.parsePosition(sn)),di),{content:Zn})}else if(s==="dataMarker"){var $n=c,sn=$n.position,Di=$n.point,ra=$n.line,_i=$n.text,Qa=$n.autoAdjust,Fo=$n.direction;St=Object(f.__assign)(Object(f.__assign)({},this.parsePosition(sn)),{coordinateBBox:this.getCoordinateBBox(),point:Di,line:ra,text:_i,autoAdjust:Qa,direction:Fo})}else if(s==="dataRegion"){var Do=c,_t=Do.start,Zt=Do.end,ki=Do.region,_i=Do.text,Qu=Do.lineLength;St={points:this.getRegionPoints(_t,Zt),region:ki,text:_i,lineLength:Qu}}else if(s==="regionFilter"){var si=c,_t=si.start,Zt=si.end,Wv=si.apply,_c=si.color,zv=this.view.geometries,kv=[],Vv=function ti(vl){!vl||(vl.isGroup()?vl.getChildren().forEach(function(Da){return ti(Da)}):kv.push(vl))};Object(o.each)(zv,function(ti){Wv?Object(o.contains)(Wv,ti.type)&&Object(o.each)(ti.elements,function(vl){Vv(vl.shape)}):Object(o.each)(ti.elements,function(vl){Vv(vl.shape)})}),St={color:_c,shapes:kv,start:this.parsePosition(_t),end:this.parsePosition(Zt)}}else if(s==="shape"){var Xv=c,Vg=Xv.render,kd=Object(f.__rest)(Xv,["render"]),Hv=function(Hg){if(Object(o.isFunction)(c.render))return Vg(Hg,w.view,{parsePosition:w.parsePosition.bind(w)})};St=Object(f.__assign)(Object(f.__assign)({},kd),{render:Hv})}else if(s==="html"){var Vd=c,Xd=Vd.html,sn=Vd.position,kd=Object(f.__rest)(Vd,["html","position"]),Xg=function(vl){return Object(o.isFunction)(Xd)?Xd(vl,w.view):Xd};St=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},kd),this.parsePosition(sn)),{parent:ht.get("el").parentNode,html:Xg})}var uu=Object(o.deepMix)({},M,Object(f.__assign)(Object(f.__assign)({},St),{top:c.top,style:c.style,offsetX:c.offsetX,offsetY:c.offsetY}));return s!=="html"&&(uu.container=this.getComponentContainer(uu)),uu.animate=this.view.getOptions().animate&&uu.animate&&Object(o.get)(c,"animate",uu.animate),uu.animateOption=Object(o.deepMix)({},Ps,uu.animateOption,c.animateOption),uu},h.prototype.isTop=function(s){return Object(o.get)(s,"top",!0)},h.prototype.getComponentContainer=function(s){return this.isTop(s)?this.foregroundContainer:this.backgroundContainer},h.prototype.getAnnotationTheme=function(s){return Object(o.get)(this.view.getTheme(),["components","annotation",s],{})},h.prototype.updateOrCreate=function(s){var c=this.cache.get(this.getCacheKey(s));if(c){var M=s.type,w=this.getAnnotationTheme(M),$=this.getAnnotationCfg(M,s,w);xr($,["container"]),c.component.update($),Object(o.includes)(Zu,s.type)&&c.component.render()}else c=this.createAnnotation(s),c&&(c.component.init(),Object(o.includes)(Zu,s.type)&&c.component.render());return c},h.prototype.syncCache=function(s){var c=this,M=new Map(this.cache);return s.forEach(function(w,$){M.set($,w)}),M.forEach(function(w,$){Object(o.find)(c.option,function(ht){return $===c.getCacheKey(ht)})||(w.component.destroy(),M.delete($))}),M},h.prototype.getCacheKey=function(s){return s},h}(ms),$f=Nd;function Qf(p,h){var s=Object(o.deepMix)({},Object(o.get)(p,["components","axis","common"]),Object(o.get)(p,["components","axis",h]));return Object(o.get)(s,["grid"],{})}function Yc(p,h,s,c){var M=[],w=h.getTicks();return p.isPolar&&w.push({value:1,text:"",tickValue:""}),w.reduce(function($,ht,St){var kt=ht.value;if(c)M.push({points:[p.convert(s==="y"?{x:0,y:kt}:{x:kt,y:0}),p.convert(s==="y"?{x:1,y:kt}:{x:kt,y:1})]});else if(St){var _t=$.value,Zt=(_t+kt)/2;M.push({points:[p.convert(s==="y"?{x:0,y:Zt}:{x:Zt,y:0}),p.convert(s==="y"?{x:1,y:Zt}:{x:Zt,y:1})]})}return ht},w[0]),M}function qt(p,h,s,c,M){var w=h.values.length,$=[],ht=s.getTicks();return ht.reduce(function(St,kt){var _t=St?St.value:kt.value,Zt=kt.value,te=(_t+Zt)/2;return M==="x"?$.push({points:[p.convert({x:c?Zt:te,y:0}),p.convert({x:c?Zt:te,y:1})]}):$.push({points:Object(o.map)(Array(w+1),function(ne,ve){return p.convert({x:ve/w,y:c?Zt:te})})}),kt},ht[0]),$}function ie(p,h){var s=Object(o.get)(h,"grid");if(s===null)return!1;var c=Object(o.get)(p,"grid");return!(s===void 0&&c===null)}var Ee=["container"],ar=Object(f.__assign)(Object(f.__assign)({},Ps),{appear:null}),_e=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;return c.cache=new Map,c.gridContainer=c.view.getLayer(x.BG).addGroup(),c.gridForeContainer=c.view.getLayer(x.FORE).addGroup(),c.axisContainer=c.view.getLayer(x.BG).addGroup(),c.axisForeContainer=c.view.getLayer(x.FORE).addGroup(),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.render=function(){this.update()},h.prototype.layout=function(){var s=this,c=this.view.getCoordinate();Object(o.each)(this.getComponents(),function(M){var w=M.component,$=M.direction,ht=M.type,St=M.extra,kt=St.dim,_t=St.scale,Zt=St.alignTick,te;if(ht===C.AXIS)c.isPolar?kt==="x"?te=c.isTransposed?Vi(c,$):pa(c):kt==="y"&&(te=c.isTransposed?pa(c):Vi(c,$)):te=Vi(c,$);else if(ht===C.GRID)if(c.isPolar){var ne=void 0;c.isTransposed?ne=kt==="x"?qt(c,s.view.getYScales()[0],_t,Zt,kt):Yc(c,_t,kt,Zt):ne=kt==="x"?Yc(c,_t,kt,Zt):qt(c,s.view.getXScale(),_t,Zt,kt),te={items:ne,center:s.view.getCoordinate().getCenter()}}else te={items:Yc(c,_t,kt,Zt)};w.update(te)})},h.prototype.update=function(){this.option=this.view.getOptions().axes;var s=new Map;this.updateXAxes(s),this.updateYAxes(s);var c=new Map;this.cache.forEach(function(M,w){s.has(w)?c.set(w,M):M.component.destroy()}),this.cache=c},h.prototype.clear=function(){p.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},h.prototype.destroy=function(){p.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},h.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},h.prototype.updateXAxes=function(s){var c=this.view.getXScale();if(!(!c||c.isIdentity)){var M=uo(this.option,c.field);if(M!==!1){var w=Mo(M,O.BOTTOM),$=x.BG,ht="x",St=this.view.getCoordinate(),kt=this.getId("axis",c.field),_t=this.getId("grid",c.field);if(St.isRect){var Zt=this.cache.get(kt);if(Zt){var te=this.getLineAxisCfg(c,M,w);xr(te,Ee),Zt.component.update(te),s.set(kt,Zt)}else Zt=this.createLineAxis(c,M,$,w,ht),this.cache.set(kt,Zt),s.set(kt,Zt);var ne=this.cache.get(_t);if(ne){var te=this.getLineGridCfg(c,M,w,ht);xr(te,Ee),ne.component.update(te),s.set(_t,ne)}else ne=this.createLineGrid(c,M,$,w,ht),ne&&(this.cache.set(_t,ne),s.set(_t,ne))}else if(St.isPolar){var Zt=this.cache.get(kt);if(Zt){var te=St.isTransposed?this.getLineAxisCfg(c,M,O.RADIUS):this.getCircleAxisCfg(c,M,w);xr(te,Ee),Zt.component.update(te),s.set(kt,Zt)}else{if(St.isTransposed){if(Object(o.isUndefined)(M))return;Zt=this.createLineAxis(c,M,$,O.RADIUS,ht)}else Zt=this.createCircleAxis(c,M,$,w,ht);this.cache.set(kt,Zt),s.set(kt,Zt)}var ne=this.cache.get(_t);if(ne){var te=St.isTransposed?this.getCircleGridCfg(c,M,O.RADIUS,ht):this.getLineGridCfg(c,M,O.CIRCLE,ht);xr(te,Ee),ne.component.update(te),s.set(_t,ne)}else{if(St.isTransposed){if(Object(o.isUndefined)(M))return;ne=this.createCircleGrid(c,M,$,O.RADIUS,ht)}else ne=this.createLineGrid(c,M,$,O.CIRCLE,ht);ne&&(this.cache.set(_t,ne),s.set(_t,ne))}}}}},h.prototype.updateYAxes=function(s){var c=this,M=this.view.getYScales();Object(o.each)(M,function(w,$){if(!(!w||w.isIdentity)){var ht=w.field,St=uo(c.option,ht);if(St!==!1){var kt=x.BG,_t="y",Zt=c.getId("axis",ht),te=c.getId("grid",ht),ne=c.view.getCoordinate();if(ne.isRect){var ve=Mo(St,$===0?O.LEFT:O.RIGHT),Oe=c.cache.get(Zt);if(Oe){var Ke=c.getLineAxisCfg(w,St,ve);xr(Ke,Ee),Oe.component.update(Ke),s.set(Zt,Oe)}else Oe=c.createLineAxis(w,St,kt,ve,_t),c.cache.set(Zt,Oe),s.set(Zt,Oe);var tr=c.cache.get(te);if(tr){var Ke=c.getLineGridCfg(w,St,ve,_t);xr(Ke,Ee),tr.component.update(Ke),s.set(te,tr)}else tr=c.createLineGrid(w,St,kt,ve,_t),tr&&(c.cache.set(te,tr),s.set(te,tr))}else if(ne.isPolar){var Oe=c.cache.get(Zt);if(Oe){var Ke=ne.isTransposed?c.getCircleAxisCfg(w,St,O.CIRCLE):c.getLineAxisCfg(w,St,O.RADIUS);xr(Ke,Ee),Oe.component.update(Ke),s.set(Zt,Oe)}else{if(ne.isTransposed){if(Object(o.isUndefined)(St))return;Oe=c.createCircleAxis(w,St,kt,O.CIRCLE,_t)}else Oe=c.createLineAxis(w,St,kt,O.RADIUS,_t);c.cache.set(Zt,Oe),s.set(Zt,Oe)}var tr=c.cache.get(te);if(tr){var Ke=ne.isTransposed?c.getLineGridCfg(w,St,O.CIRCLE,_t):c.getCircleGridCfg(w,St,O.RADIUS,_t);xr(Ke,Ee),tr.component.update(Ke),s.set(te,tr)}else{if(ne.isTransposed){if(Object(o.isUndefined)(St))return;tr=c.createLineGrid(w,St,kt,O.CIRCLE,_t)}else tr=c.createCircleGrid(w,St,kt,O.RADIUS,_t);tr&&(c.cache.set(te,tr),s.set(te,tr))}}}}})},h.prototype.createLineAxis=function(s,c,M,w,$){var ht={component:new xt(this.getLineAxisCfg(s,c,w)),layer:M,direction:w===O.RADIUS?O.NONE:w,type:C.AXIS,extra:{dim:$,scale:s}};return ht.component.set("field",s.field),ht.component.init(),ht},h.prototype.createLineGrid=function(s,c,M,w,$){var ht=this.getLineGridCfg(s,c,w,$);if(ht){var St={component:new Ht(ht),layer:M,direction:O.NONE,type:C.GRID,extra:{dim:$,scale:s,alignTick:Object(o.get)(ht,"alignTick",!0)}};return St.component.init(),St}},h.prototype.createCircleAxis=function(s,c,M,w,$){var ht={component:new Nt(this.getCircleAxisCfg(s,c,w)),layer:M,direction:w,type:C.AXIS,extra:{dim:$,scale:s}};return ht.component.set("field",s.field),ht.component.init(),ht},h.prototype.createCircleGrid=function(s,c,M,w,$){var ht=this.getCircleGridCfg(s,c,w,$);if(ht){var St={component:new Bt(ht),layer:M,direction:O.NONE,type:C.GRID,extra:{dim:$,scale:s,alignTick:Object(o.get)(ht,"alignTick",!0)}};return St.component.init(),St}},h.prototype.getLineAxisCfg=function(s,c,M){var w=Object(o.get)(c,["top"])?this.axisForeContainer:this.axisContainer,$=this.view.getCoordinate(),ht=Vi($,M),St=co(s,c),kt=Xi(this.view.getTheme(),M),_t=Object(o.get)(c,["title"])?Object(o.deepMix)({title:{style:{text:St}}},{title:Hi(this.view.getTheme(),M,c.title)},c):c,Zt=Object(o.deepMix)(Object(f.__assign)(Object(f.__assign)({container:w},ht),{ticks:s.getTicks().map(function(Or){return{id:""+Or.tickValue,name:Or.text,value:Or.value}}),verticalFactor:$.isPolar?Ji(ht,$.getCenter())*-1:Ji(ht,$.getCenter()),theme:kt}),kt,_t),te=this.getAnimateCfg(Zt),ne=te.animate,ve=te.animateOption;Zt.animateOption=ve,Zt.animate=ne;var Oe=Li(ht),Ke=Object(o.get)(Zt,"verticalLimitLength",Oe?1/3:1/2);if(Ke<=1){var tr=this.view.getCanvas().get("width"),mr=this.view.getCanvas().get("height");Zt.verticalLimitLength=Ke*(Oe?tr:mr)}return Zt},h.prototype.getLineGridCfg=function(s,c,M,w){if(!!ie(Xi(this.view.getTheme(),M),c)){var $=Qf(this.view.getTheme(),M),ht=Object(o.deepMix)({container:Object(o.get)(c,["top"])?this.gridForeContainer:this.gridContainer},$,Object(o.get)(c,"grid"),this.getAnimateCfg(c));return ht.items=Yc(this.view.getCoordinate(),s,w,Object(o.get)(ht,"alignTick",!0)),ht}},h.prototype.getCircleAxisCfg=function(s,c,M){var w=Object(o.get)(c,["top"])?this.axisForeContainer:this.axisContainer,$=this.view.getCoordinate(),ht=s.getTicks().map(function(Oe){return{id:""+Oe.tickValue,name:Oe.text,value:Oe.value}});!s.isCategory&&Math.abs($.endAngle-$.startAngle)===Math.PI*2&&ht.pop();var St=co(s,c),kt=Xi(this.view.getTheme(),O.CIRCLE),_t=Object(o.get)(c,["title"])?Object(o.deepMix)({title:{style:{text:St}}},{title:Hi(this.view.getTheme(),M,c.title)},c):c,Zt=Object(o.deepMix)(Object(f.__assign)(Object(f.__assign)({container:w},pa(this.view.getCoordinate())),{ticks:ht,verticalFactor:1,theme:kt}),kt,_t),te=this.getAnimateCfg(Zt),ne=te.animate,ve=te.animateOption;return Zt.animate=ne,Zt.animateOption=ve,Zt},h.prototype.getCircleGridCfg=function(s,c,M,w){if(!!ie(Xi(this.view.getTheme(),M),c)){var $=Qf(this.view.getTheme(),O.RADIUS),ht=Object(o.deepMix)({container:Object(o.get)(c,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},$,Object(o.get)(c,"grid"),this.getAnimateCfg(c)),St=Object(o.get)(ht,"alignTick",!0),kt=w==="x"?this.view.getYScales()[0]:this.view.getXScale();return ht.items=qt(this.view.getCoordinate(),kt,s,St,w),ht}},h.prototype.getId=function(s,c){var M=this.view.getCoordinate();return s+"-"+c+"-"+M.type},h.prototype.getAnimateCfg=function(s){return{animate:this.view.getOptions().animate&&Object(o.get)(s,"animate"),animateOption:s&&s.animateOption?Object(o.deepMix)({},ar,s.animateOption):ar}},h}(ms),Mr=_e;function ur(p,h,s){return s===O.TOP?[p.minX+p.width/2-h.width/2,p.minY]:s===O.BOTTOM?[p.minX+p.width/2-h.width/2,p.maxY-h.height]:s===O.LEFT?[p.minX,p.minY+p.height/2-h.height/2]:s===O.RIGHT?[p.maxX-h.width,p.minY+p.height/2-h.height/2]:s===O.TOP_LEFT||s===O.LEFT_TOP?[p.tl.x,p.tl.y]:s===O.TOP_RIGHT||s===O.RIGHT_TOP?[p.tr.x-h.width,p.tr.y]:s===O.BOTTOM_LEFT||s===O.LEFT_BOTTOM?[p.bl.x,p.bl.y-h.height]:s===O.BOTTOM_RIGHT||s===O.RIGHT_BOTTOM?[p.br.x-h.width,p.br.y-h.height]:[0,0]}function Jr(p,h){if(h.isTransposed)switch(p){case O.BOTTOM:return O.LEFT;case O.LEFT:return O.BOTTOM;case O.RIGHT:return O.TOP;case O.TOP:return O.RIGHT}return p}function vn(p){return p===O.LEFT?O.RIGHT:p===O.RIGHT?O.LEFT:p}function wr(p){return p===O.TOP?O.BOTTOM:p===O.BOTTOM?O.TOP:p}function cn(p,h){var s=h.matrix[0],c=h.matrix[4],M=p;return s<0&&(M=vn(M)),c<0&&(M=wr(M)),M}function rn(p,h){var s=p;return h.isReflect("x")&&(s=vn(s)),h.isReflect("y")&&(s=wr(s)),s}function gn(p,h){var s=p;return s=Jr(s,h),s=cn(s,h),s=rn(s,h),s}function Zr(p,h){return Object(o.isBoolean)(p)?p===!1?!1:{}:Object(o.get)(p,[h],p)}function _r(p){return Object(o.get)(p,"position",O.BOTTOM)}var dr=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;return c.container=c.view.getLayer(x.FORE).addGroup(),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.render=function(){this.update()},h.prototype.layout=function(){var s=this;this.layoutBBox=this.view.viewBBox,Object(o.each)(this.components,function(c){var M=c.component,w=c.direction,$=bc(w),ht=s.getCategoryLegendSizeCfg($),St=M.get("maxWidth"),kt=M.get("maxHeight");M.update({maxWidth:Math.min(ht.maxWidth,St||0),maxHeight:Math.min(ht.maxHeight,kt||0)});var _t=M.get("padding"),Zt=M.getLayoutBBox(),te=new tn(Zt.x,Zt.y,Zt.width,Zt.height).expand(_t),ne=ur(s.view.viewBBox,te,w),ve=ne[0],Oe=ne[1],Ke=ur(s.layoutBBox,te,w),tr=Ke[0],mr=Ke[1],Or=0,yn=0;w.startsWith("top")||w.startsWith("bottom")?(Or=ve,yn=mr):(Or=tr,yn=Oe),M.setLocation({x:Or+_t[3],y:yn+_t[0]}),s.layoutBBox=s.layoutBBox.cut(te,w)})},h.prototype.update=function(){var s=this;this.option=this.view.getOptions().legends;var c={},M=function(ne,ve,Oe){var Ke=s.getId(Oe.field),tr=s.getComponentById(Ke);if(tr){var mr=void 0,Or=Zr(s.option,Oe.field);Or!==!1&&(Object(o.get)(Or,"custom")?mr=s.getCategoryCfg(ne,ve,Oe,Or,!0):Oe.isLinear?mr=s.getContinuousCfg(ne,ve,Oe,Or):Oe.isCategory&&(mr=s.getCategoryCfg(ne,ve,Oe,Or))),mr&&(xr(mr,["container"]),tr.direction=_r(Or),tr.component.update(mr),c[Ke]=!0)}else{var yn=s.createFieldLegend(ne,ve,Oe);yn&&(yn.component.init(),s.components.push(yn),c[Ke]=!0)}};if(Object(o.get)(this.option,"custom")){var w="global-custom",$=this.getComponentById(w);if($){var ht=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);xr(ht,["container"]),$.component.update(ht),c[w]=!0}else{var St=this.createCustomLegend(void 0,void 0,void 0,this.option);if(St){St.init();var kt=x.FORE,_t=_r(this.option);this.components.push({id:w,component:St,layer:kt,direction:_t,type:C.LEGEND,extra:void 0}),c[w]=!0}}}else this.loopLegends(M);var Zt=[];Object(o.each)(this.getComponents(),function(te){c[te.id]?Zt.push(te):te.component.destroy()}),this.components=Zt},h.prototype.clear=function(){p.prototype.clear.call(this),this.container.clear()},h.prototype.destroy=function(){p.prototype.destroy.call(this),this.container.remove(!0)},h.prototype.getGeometries=function(s){var c=this,M=s.geometries;return Object(o.each)(s.views,function(w){M=M.concat(c.getGeometries(w))}),M},h.prototype.loopLegends=function(s){var c=this.view.getRootView()===this.view;if(!!c){var M=this.getGeometries(this.view),w={};Object(o.each)(M,function($){var ht=$.getGroupAttributes();Object(o.each)(ht,function(St){var kt=St.getScale(St.type);!kt||kt.type==="identity"||w[kt.field]||(s($,St,kt),w[kt.field]=!0)})})}},h.prototype.createFieldLegend=function(s,c,M){var w,$=Zr(this.option,M.field),ht=x.FORE,St=_r($);if($!==!1&&(Object(o.get)($,"custom")?w=this.createCustomLegend(s,c,M,$):M.isLinear?w=this.createContinuousLegend(s,c,M,$):M.isCategory&&(w=this.createCategoryLegend(s,c,M,$))),w)return w.set("field",M.field),{id:this.getId(M.field),component:w,layer:ht,direction:St,type:C.LEGEND,extra:{scale:M}}},h.prototype.createCustomLegend=function(s,c,M,w){var $=this.getCategoryCfg(s,c,M,w,!0);return new Ut($)},h.prototype.createContinuousLegend=function(s,c,M,w){var $=this.getContinuousCfg(s,c,M,w);return new Jt($)},h.prototype.createCategoryLegend=function(s,c,M,w){var $=this.getCategoryCfg(s,c,M,w);return new Ut($)},h.prototype.getContinuousCfg=function(s,c,M,w){var $=M.getTicks(),ht=Object(o.find)($,function(Oe){return Oe.value===0}),St=Object(o.find)($,function(Oe){return Oe.value===1}),kt=$.map(function(Oe){var Ke=Oe.value,tr=Oe.tickValue,mr=c.mapping(M.invert(Ke)).join("");return{value:tr,attrValue:mr,color:mr,scaleValue:Ke}});ht||kt.push({value:M.min,attrValue:c.mapping(M.invert(0)).join(""),color:c.mapping(M.invert(0)).join(""),scaleValue:0}),St||kt.push({value:M.max,attrValue:c.mapping(M.invert(1)).join(""),color:c.mapping(M.invert(1)).join(""),scaleValue:1}),kt.sort(function(Oe,Ke){return Oe.value-Ke.value});var _t={min:Object(o.head)(kt).value,max:Object(o.last)(kt).value,colors:[],rail:{type:c.type},track:{}};c.type==="size"&&(_t.track={style:{fill:c.type==="size"?this.view.getTheme().defaultColor:void 0}}),c.type==="color"&&(_t.colors=kt.map(function(Oe){return Oe.attrValue}));var Zt=this.container,te=_r(w),ne=bc(te),ve=Object(o.get)(w,"title");return ve&&(ve=Object(o.deepMix)({text:In(M)},ve)),_t.container=Zt,_t.layout=ne,_t.title=ve,_t.animateOption=Ps,this.mergeLegendCfg(_t,w,"continuous")},h.prototype.getCategoryCfg=function(s,c,M,w,$){var ht=this.container,St=Object(o.get)(w,"position",O.BOTTOM),kt=Ri(this.view.getTheme(),St),_t=Object(o.get)(kt,["marker"]),Zt=Object(o.get)(w,"marker"),te=bc(St),ne=Object(o.get)(kt,["pageNavigator"]),ve=Object(o.get)(w,"pageNavigator"),Oe=$?Oc(_t,Zt,w.items):Sf(this.view,s,c,_t,Zt),Ke=Object(o.get)(w,"title");Ke&&(Ke=Object(o.deepMix)({text:M?In(M):""},Ke));var tr=this.getCategoryLegendSizeCfg(te);tr.container=ht,tr.layout=te,tr.items=Oe,tr.title=Ke,tr.animateOption=Ps,tr.pageNavigator=Object(o.deepMix)({},ne,ve);var mr=this.mergeLegendCfg(tr,w,St);mr.reversed&&mr.items.reverse();var Or=Object(o.get)(mr,"maxItemWidth");return Or&&Or<=1&&(mr.maxItemWidth=this.view.viewBBox.width*Or),mr},h.prototype.mergeLegendCfg=function(s,c,M){var w=M.split("-")[0],$=Ri(this.view.getTheme(),w);return Object(o.deepMix)({},$,s,c)},h.prototype.getId=function(s){return this.name+"-"+s},h.prototype.getComponentById=function(s){return Object(o.find)(this.components,function(c){return c.id===s})},h.prototype.getCategoryLegendSizeCfg=function(s){var c=this.view.viewBBox,M=c.width,w=c.height;return s==="vertical"?{maxWidth:M*j,maxHeight:w}:{maxWidth:M,maxHeight:w*j}},h}(ms),vr=dr,ln=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;return c.onChangeFn=o.noop,c.resetMeasure=function(){c.clear()},c.onValueChange=function(M){var w=M[0],$=M[1];c.start=w,c.end=$,c.changeViewData(w,$)},c.container=c.view.getLayer(x.FORE).addGroup(),c.onChangeFn=Object(o.throttle)(c.onValueChange,20,{leading:!0}),c.width=0,c.view.on(b.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(b.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),h.prototype.destroy=function(){p.prototype.destroy.call(this),this.view.off(b.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(b.BEFORE_CHANGE_SIZE,this.resetMeasure)},h.prototype.init=function(){},h.prototype.render=function(){this.option=this.view.getOptions().slider;var s=this.getSliderCfg(),c=s.start,M=s.end;Object(o.isNil)(this.start)&&(this.start=c,this.end=M);var w=this.view.getOptions().data;this.option&&!Object(o.isEmpty)(w)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},h.prototype.layout=function(){var s=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.start,s.end)},0)),this.slider){var c=this.view.coordinateBBox.width,M=this.slider.component.get("padding"),w=M[0],$=M[1],ht=M[2],St=M[3],kt=this.slider.component.getLayoutBBox(),_t=new tn(kt.x,kt.y,Math.min(kt.width,c),kt.height).expand(M),Zt=this.getMinMaxText(this.start,this.end),te=Zt.minText,ne=Zt.maxText,ve=ur(this.view.viewBBox,_t,O.BOTTOM),Oe=ve[0],Ke=ve[1],tr=ur(this.view.coordinateBBox,_t,O.BOTTOM),mr=tr[0],Or=tr[1];this.slider.component.update(Object(f.__assign)(Object(f.__assign)({},this.getSliderCfg()),{x:mr+St,y:Ke+w,width:this.width,start:this.start,end:this.end,minText:te,maxText:ne})),this.view.viewBBox=this.view.viewBBox.cut(_t,O.BOTTOM)}},h.prototype.update=function(){this.render()},h.prototype.createSlider=function(){var s=this.getSliderCfg(),c=new Ft.Slider(Object(f.__assign)({container:this.container},s));return c.init(),{component:c,layer:x.FORE,direction:O.BOTTOM,type:C.SLIDER}},h.prototype.updateSlider=function(){var s=this.getSliderCfg();if(this.width){var c=this.getMinMaxText(this.start,this.end),M=c.minText,w=c.maxText;s=Object(f.__assign)(Object(f.__assign)({},s),{width:this.width,start:this.start,end:this.end,minText:M,maxText:w})}return this.slider.component.update(s),this.slider},h.prototype.measureSlider=function(){var s=this.getSliderCfg().width;this.width=s},h.prototype.getSliderCfg=function(){var s={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(o.isObject)(this.option)){var c=Object(f.__assign)({data:this.getData()},Object(o.get)(this.option,"trendCfg",{}));s=Object(o.deepMix)({},s,this.getThemeOptions(),this.option),s=Object(f.__assign)(Object(f.__assign)({},s),{trendCfg:c})}return s.start=Object(o.clamp)(Math.min(Object(o.isNil)(s.start)?0:s.start,Object(o.isNil)(s.end)?1:s.end),0,1),s.end=Object(o.clamp)(Math.max(Object(o.isNil)(s.start)?0:s.start,Object(o.isNil)(s.end)?1:s.end),0,1),s},h.prototype.getData=function(){var s=this.view.getOptions().data,c=this.view.getYScales()[0],M=this.view.getGroupScales();if(M.length){var w=M[0],$=w.field,ht=w.ticks;return s.reduce(function(St,kt){return kt[$]===ht[0]&&St.push(kt[c.field]),St},[])}return s.map(function(St){return St[c.field]||0})},h.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(o.get)(s,["components","slider","common"],{})},h.prototype.getMinMaxText=function(s,c){var M=this.view.getOptions().data,w=this.view.getXScale(),$=!0,ht=Object(o.valuesOfKey)(M,w.field),St=$?ht:ht.reverse(),kt=Object(o.size)(M);if(!w||!kt)return{};var _t=Object(o.size)(St),Zt=Math.floor(s*(_t-1)),te=Math.floor(c*(_t-1)),ne=Object(o.get)(St,[Zt]),ve=Object(o.get)(St,[te]),Oe=this.getSliderCfg().formatter;return Oe&&(ne=Oe(ne,M[Zt],Zt),ve=Oe(ve,M[te],te)),{minText:ne,maxText:ve}},h.prototype.changeViewData=function(s,c){var M=this.view.getOptions().data,w=this.view.getXScale(),$=Object(o.size)(M);if(!(!w||!$)){var ht=!0,St=Object(o.valuesOfKey)(M,w.field),kt=ht?St:St.reverse(),_t=Object(o.size)(kt),Zt=Math.floor(s*(_t-1)),te=Math.floor(c*(_t-1));this.view.filter(w.field,function(ne,ve){var Oe=kt.indexOf(ne);return Oe>-1?Ue(Oe,Zt,te):!0}),this.view.render(!0)}},h.prototype.getComponents=function(){return this.slider?[this.slider]:[]},h.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},h}(ms),Sn=ln,yr=0,Cr=8,on=32,Qr=20,Hr=function(p){Object(f.__extends)(h,p);function h(s){var c=p.call(this,s)||this;return c.onChangeFn=o.noop,c.resetMeasure=function(){c.clear()},c.onValueChange=function(M){var w=M.ratio,$=c.getValidScrollbarCfg().animate;c.ratio=Object(o.clamp)(w,0,1);var ht=c.view.getOptions().animate;$||c.view.animate(!1),c.changeViewData(c.getScrollRange(),!0),c.view.animate(ht)},c.container=c.view.getLayer(x.FORE).addGroup(),c.onChangeFn=Object(o.throttle)(c.onValueChange,20,{leading:!0}),c.trackLen=0,c.thumbLen=0,c.ratio=0,c.view.on(b.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(b.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),h.prototype.destroy=function(){p.prototype.destroy.call(this),this.view.off(b.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(b.BEFORE_CHANGE_SIZE,this.resetMeasure)},h.prototype.init=function(){},h.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},h.prototype.layout=function(){var s=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.getScrollRange(),!0)})),this.scrollbar){var c=this.view.coordinateBBox.width,M=this.scrollbar.component.get("padding"),w=this.scrollbar.component.getLayoutBBox(),$=new tn(w.x,w.y,Math.min(w.width,c),w.height).expand(M),ht=this.getScrollbarComponentCfg(),St=void 0,kt=void 0;if(ht.isHorizontal){var _t=ur(this.view.viewBBox,$,O.BOTTOM),Zt=_t[0],te=_t[1],ne=ur(this.view.coordinateBBox,$,O.BOTTOM),ve=ne[0],Oe=ne[1];St=ve,kt=te}else{var Ke=ur(this.view.viewBBox,$,O.RIGHT),Zt=Ke[0],te=Ke[1],tr=ur(this.view.viewBBox,$,O.RIGHT),ve=tr[0],Oe=tr[1];St=ve,kt=te}St+=M[3],kt+=M[0],this.trackLen?this.scrollbar.component.update(Object(f.__assign)(Object(f.__assign)({},ht),{x:St,y:kt,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(f.__assign)(Object(f.__assign)({},ht),{x:St,y:kt})),this.view.viewBBox=this.view.viewBBox.cut($,ht.isHorizontal?O.BOTTOM:O.RIGHT)}},h.prototype.update=function(){this.render()},h.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},h.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},h.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(o.get)(s,["components","scrollbar","common"],{})},h.prototype.getScrollbarTheme=function(s){var c=Object(o.get)(this.view.getTheme(),["components","scrollbar"]),M=s||{},w=M.thumbHighlightColor,$=Object(f.__rest)(M,["thumbHighlightColor"]);return{default:Object(o.deepMix)({},Object(o.get)(c,["default","style"],{}),$),hover:Object(o.deepMix)({},Object(o.get)(c,["hover","style"],{}),{thumbColor:w})}},h.prototype.measureScrollbar=function(){var s=this.view.getXScale(),c=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var M=this.getScrollbarComponentCfg(),w=M.trackLen,$=M.thumbLen;this.trackLen=w,this.thumbLen=$,this.xScaleCfg={field:s.field,values:s.values||[]},this.yScalesCfg=c},h.prototype.getScrollRange=function(){var s=Math.floor((this.cnt-this.step)*Object(o.clamp)(this.ratio,0,1)),c=Math.min(s+this.step-1,this.cnt-1);return[s,c]},h.prototype.changeViewData=function(s,c){var M=this,w=s[0],$=s[1],ht=this.getValidScrollbarCfg().type,St=ht!=="vertical",kt=Object(o.valuesOfKey)(this.data,this.xScaleCfg.field),_t=St?kt:kt.reverse();this.yScalesCfg.forEach(function(Zt){M.view.scale(Zt.field,{formatter:Zt.formatter,type:Zt.type,min:Zt.min,max:Zt.max})}),this.view.filter(this.xScaleCfg.field,function(Zt){var te=_t.indexOf(Zt);return te>-1?Ue(te,w,$):!0}),this.view.render(!0)},h.prototype.createScrollbar=function(){var s=this.getValidScrollbarCfg().type,c=s!=="vertical",M=new Ft.Scrollbar(Object(f.__assign)(Object(f.__assign)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return M.init(),{component:M,layer:x.FORE,direction:c?O.BOTTOM:O.RIGHT,type:C.SCROLLBAR}},h.prototype.updateScrollbar=function(){var s=this.getScrollbarComponentCfg(),c=this.trackLen?Object(f.__assign)(Object(f.__assign)({},s),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(f.__assign)({},s);return this.scrollbar.component.update(c),this.scrollbar},h.prototype.getStep=function(){if(this.step)return this.step;var s=this.view.coordinateBBox,c=this.getValidScrollbarCfg(),M=c.type,w=c.categorySize,$=M!=="vertical";return Math.floor(($?s.width:s.height)/w)},h.prototype.getCnt=function(){if(this.cnt)return this.cnt;var s=this.view.getXScale(),c=this.view.getOptions().data,M=Object(o.valuesOfKey)(c,s.field);return Object(o.size)(M)},h.prototype.getScrollbarComponentCfg=function(){var s=this.view,c=s.coordinateBBox,M=s.viewBBox,w=this.getValidScrollbarCfg(),$=w.type,ht=w.padding,St=w.width,kt=w.height,_t=w.style,Zt=$!=="vertical",te=ht[0],ne=ht[1],ve=ht[2],Oe=ht[3],Ke=Zt?{x:c.minX+Oe,y:M.maxY-kt-ve}:{x:M.maxX-St-ne,y:c.minY+te},tr=this.getStep(),mr=this.getCnt(),Or=Zt?c.width-Oe-ne:c.height-te-ve,yn=Math.max(Or*Object(o.clamp)(tr/mr,0,1),Qr);return Object(f.__assign)(Object(f.__assign)({},this.getThemeOptions()),{x:Ke.x,y:Ke.y,size:Zt?kt:St,isHorizontal:Zt,trackLen:Or,thumbLen:yn,thumbOffset:0,theme:this.getScrollbarTheme(_t)})},h.prototype.getValidScrollbarCfg=function(){var s={type:"horizontal",categorySize:on,width:Cr,height:Cr,padding:[0,0,0,0],animate:!0,style:{}};return Object(o.isObject)(this.option)&&(s=Object(f.__assign)(Object(f.__assign)({},s),this.option)),(!Object(o.isObject)(this.option)||!this.option.padding)&&(s.padding=s.type==="horizontal"?[yr,0,yr,0]:[0,yr,0,yr]),s},h}(ms),dn=Hr,zn={fill:"#CCD6EC",opacity:.3},ui=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.show=function(s){var c=this.context.view,M=this.context.event,w=c.getTooltipItems({x:M.x,y:M.y});if(!Object(o.isEqual)(w,this.items)&&(this.items=w,w.length)){var $=c.getXScale().field,ht=w[0].data[$],St=[],kt=c.geometries;if(Object(o.each)(kt,function(Do){if(Do.type==="interval"||Do.type==="schema"){var ki=Do.getElementsBy(function(Qu){var si=Qu.getData();return si[$]===ht});St=St.concat(ki)}}),St.length){var _t=c.getCoordinate(),Zt=St[0].shape.getCanvasBBox(),te=St[0].shape.getCanvasBBox(),ne=Zt;Object(o.each)(St,function(Do){var ki=Do.shape.getCanvasBBox();_t.isTransposed?(ki.minY<Zt.minY&&(Zt=ki),ki.maxY>te.maxY&&(te=ki)):(ki.minX<Zt.minX&&(Zt=ki),ki.maxX>te.maxX&&(te=ki)),ne.x=Math.min(ki.minX,ne.minX),ne.y=Math.min(ki.minY,ne.minY),ne.width=Math.max(ki.maxX,ne.maxX)-ne.x,ne.height=Math.max(ki.maxY,ne.maxY)-ne.y});var ve=c.backgroundGroup,Oe=c.coordinateBBox,Ke=void 0;if(_t.isRect){var tr=c.getXScale(),mr=tr.isLinear?0:.25,Or=void 0,yn=void 0,sn=void 0,mn=void 0;_t.isTransposed?(Or=Oe.minX,yn=Math.min(te.minY,Zt.minY)-mr*te.height,sn=Oe.width,mn=ne.height+mr*2*te.height):(Or=Math.min(Zt.minX,te.minX)-mr*Zt.width,yn=Math.min(Oe.minY,Zt.minY),sn=ne.width+mr*2*Zt.width,mn=Oe.height),Ke=[["M",Or,yn],["L",Or+sn,yn],["L",Or+sn,yn+mn],["L",Or,yn+mn],["Z"]]}else{var di=Object(o.head)(St),Zn=Object(o.last)(St),$n=lr(di.getModel(),_t).startAngle,Di=lr(Zn.getModel(),_t).endAngle,ra=_t.getCenter(),_i=_t.getRadius(),Qa=_t.innerRadius*_i;Ke=Ie(ra.x,ra.y,_i,$n,Di,Qa)}if(this.regionPath)this.regionPath.attr("path",Ke),this.regionPath.show();else{var Fo=Object(o.get)(s,"style",zn);this.regionPath=ve.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(f.__assign)(Object(f.__assign)({},Fo),{path:Ke})})}}}},h.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},h.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),p.prototype.destroy.call(this)},h}(ya),On=ui,fn=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.timeStamp=0,s}return h.prototype.show=function(){var s=this.context,c=s.event,M=s.view,w=M.isTooltipLocked();if(!w){var $=this.timeStamp,ht=+new Date,St=Object(o.get)(s.view.getOptions(),"tooltip.showDelay",16);if(ht-$>St){var kt=this.location,_t={x:c.x,y:c.y};(!kt||!Object(o.isEqual)(kt,_t))&&this.showTooltip(M,_t),this.timeStamp=ht,this.location=_t}}},h.prototype.hide=function(){var s=this.context.view,c=s.getController("tooltip"),M=this.context.event,w=M.clientX,$=M.clientY;c.isCursorEntered({x:w,y:$})||s.isTooltipLocked()||(this.hideTooltip(s),this.location=null)},h.prototype.showTooltip=function(s,c){s.showTooltip(c)},h.prototype.hideTooltip=function(s){s.hideTooltip()},h}(ya),Vr=fn,ei=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.showTooltip=function(s,c){var M=bo(s);Object(o.each)(M,function(w){var $=Qo(s,w,c);w.showTooltip($)})},h.prototype.hideTooltip=function(s){var c=bo(s);Object(o.each)(c,function(M){M.hideTooltip()})},h}(Vr),oi=ei,Mn=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.timeStamp=0,s}return h.prototype.destroy=function(){p.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},h.prototype.show=function(){var s=this.context,c=s.event,M=this.timeStamp,w=+new Date;if(w-M>16){var $=this.location,ht={x:c.x,y:c.y};(!$||!Object(o.isEqual)($,ht))&&this.showTooltip(ht),this.timeStamp=w,this.location=ht}},h.prototype.hide=function(){this.hideTooltip(),this.location=null},h.prototype.showTooltip=function(s){var c=this.context,M=c.event,w=M.target;if(w&&w.get("tip")){this.tooltip||this.renderTooltip();var $=w.get("tip");this.tooltip.update(Object(f.__assign)({title:$},s)),this.tooltip.show()}},h.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},h.prototype.renderTooltip=function(){var s,c=this.context.view,M=c.canvas,w={start:{x:0,y:0},end:{x:M.get("width"),y:M.get("height")}},$=c.getTheme(),ht=Object(o.get)($,["components","tooltip","domStyles"],{}),St=new oe({parent:M.get("el").parentNode,region:w,visible:!1,crosshairs:null,domStyles:Object(f.__assign)({},Object(o.deepMix)({},ht,(s={},s[Ft.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},s[Ft.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},s)))});St.init(),St.setCapture(!1),this.tooltip=St},h}(ya),Kn=Mn,pi=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="",s}return h.prototype.hasState=function(s){return s.hasState(this.stateName)},h.prototype.setElementState=function(s,c){s.setState(this.stateName,c)},h.prototype.setState=function(){this.setStateEnable(!0)},h.prototype.clear=function(){var s=this.context.view;this.clearViewState(s)},h.prototype.clearViewState=function(s){var c=this,M=Ha(s,this.stateName);Object(o.each)(M,function(w){c.setElementState(w,!1)})},h}(ya),Oi=pi;function wi(p){return Object(o.get)(p.get("delegateObject"),"item")}var ka=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.ignoreListItemStates=["unchecked"],s}return h.prototype.isItemIgnore=function(s,c){var M=this.ignoreListItemStates,w=M.filter(function($){return c.hasState(s,$)});return!!w.length},h.prototype.setStateByComponent=function(s,c,M){var w=this.context.view,$=s.get("field"),ht=Gn(w);this.setElementsStateByItem(ht,$,c,M)},h.prototype.setStateByElement=function(s,c){this.setElementState(s,c)},h.prototype.isMathItem=function(s,c,M){var w=this.context.view,$=Yo(w,c),ht=Ya(s,c);return!Object(o.isNil)(ht)&&M.name===$.getText(ht)},h.prototype.setElementsStateByItem=function(s,c,M,w){var $=this;Object(o.each)(s,function(ht){$.isMathItem(ht,c,M)&&ht.setState($.stateName,w)})},h.prototype.setStateEnable=function(s){var c=ji(this.context);if(c)he(this.context)&&this.setStateByElement(c,s);else{var M=sa(this.context);if(Ia(M)){var w=M.item,$=M.component;if(w&&$&&!this.isItemIgnore(w,$)){var ht=this.context.event.gEvent;if(ht&&ht.fromShape&&ht.toShape&&wi(ht.fromShape)===wi(ht.toShape))return;this.setStateByComponent($,w,s)}}}},h.prototype.toggle=function(){var s=ji(this.context);if(s){var c=s.hasState(this.stateName);this.setElementState(s,!c)}},h.prototype.reset=function(){this.setStateEnable(!1)},h}(Oi),ja=ka,Mi=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(ja),_a=Mi,ua=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.cache={},s}return h.prototype.getColorScale=function(s,c){var M=c.geometry.getAttribute("color");if(!M)return null;var w=s.getScaleByField(M.getFields()[0]);return w},h.prototype.getLinkPath=function(s,c){var M=this.context.view,w=M.getCoordinate().isTransposed,$=s.shape.getCanvasBBox(),ht=c.shape.getCanvasBBox(),St=w?[["M",$.minX,$.minY],["L",ht.minX,ht.maxY],["L",ht.maxX,ht.maxY],["L",$.maxX,$.minY],["Z"]]:[["M",$.maxX,$.minY],["L",ht.minX,ht.minY],["L",ht.minX,ht.maxY],["L",$.maxX,$.maxY],["Z"]];return St},h.prototype.addLinkShape=function(s,c,M){s.addShape({type:"path",attrs:{opacity:.4,fill:c.shape.attr("fill"),path:this.getLinkPath(c,M)}})},h.prototype.linkByElement=function(s){var c=this,M=this.context.view,w=this.getColorScale(M,s);if(!!w){var $=Ya(s,w.field);if(!this.cache[$]){var ht=Xa(M,w.field,$),St=this.linkGroup,kt=St.addGroup();this.cache[$]=kt;var _t=ht.length;Object(o.each)(ht,function(Zt,te){if(te<_t-1){var ne=ht[te+1];c.addLinkShape(kt,Zt,ne)}})}}},h.prototype.removeLink=function(s){var c=this.getColorScale(this.context.view,s);if(!!c){var M=Ya(s,c.field);this.cache[M]&&(this.cache[M].remove(),this.cache[M]=null)}},h.prototype.link=function(){var s=this.context;this.linkGroup||(this.linkGroup=s.view.foregroundGroup.addGroup({capture:!1}));var c=ji(s);c&&this.linkByElement(c)},h.prototype.unlink=function(){var s=ji(this.context);s&&this.removeLink(s)},h.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},h.prototype.destroy=function(){p.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},h}(ya),Va=ua,Za=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.startPoint=null,s.endPoint=null,s.isStarted=!1,s.effectSiblings=!1,s.effectByRecord=!1,s}return h.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},h.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},h.prototype.getIntersectElements=function(){var s=null;if(ho(this.context))s=Ba(this.context,10);else{var c=this.startPoint,M=this.isStarted?this.getCurrentPoint():this.endPoint;if(!c||!M)return;var w={minX:Math.min(c.x,M.x),minY:Math.min(c.y,M.y),maxX:Math.max(c.x,M.x),maxY:Math.max(c.y,M.y)},$=this.context.view;s=$o($,w)}return s},h.prototype.setStateEnable=function(s){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(s);else{var c=Gn(this.context.view),M=this.getIntersectElements();M&&M.length?this.effectByRecord?this.setSiblingsStateByRecord(M,s):this.setElementsState(M,s,c):this.clear()}},h.prototype.setSiblingsStateByRecord=function(s,c){var M=this,w=this.context.view,$=bo(w),ht=s.map(function(_t){return _t.getModel().data}),St=w.getXScale().field,kt=w.getYScales()[0].field;Object(o.each)($,function(_t){var Zt=Gn(_t),te=Zt.filter(function(ne){var ve=ne.getModel().data;return Ws(ht,ve,St,kt)});M.setElementsState(te,c,Zt)})},h.prototype.setSiblingsState=function(s){var c=this,M=this.context.view,w=bo(M);ho(this.context)&&Object(o.each)(w,function($){var ht=Gn($),St=Xo(c.context,$,10);St&&St.length?c.setElementsState(St,s,ht):c.clearViewState($)})},h.prototype.setElementsState=function(s,c,M){var w=this;Object(o.each)(M,function($){s.includes($)?w.setElementState($,c):w.setElementState($,!1)})},h.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},h.prototype.clear=function(){var s=this,c=this.context.view;if(this.effectSiblings){var M=bo(c);Object(o.each)(M,function(w){s.clearViewState(w)})}else this.clearViewState(c)},h}(Oi),Fa=Za,so=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(Fa),Ki=so,Ga=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.setStateEnable=function(s){var c=ji(this.context);if(c){if(!he(this.context))return;s?(this.clear(),this.setElementState(c,!0)):this.hasState(c)&&this.setElementState(c,!1)}},h.prototype.toggle=function(){var s=ji(this.context);if(s){var c=this.hasState(s);c||this.clear(),this.setElementState(s,!c)}},h.prototype.reset=function(){this.setStateEnable(!1)},h}(Oi),mi=Ga,go=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(mi),Gi=go,Hn="inactive",ci="active";function Ti(p){var h=Gn(p);Object(o.each)(h,function(s){s.hasState(ci)&&s.setState(ci,!1),s.hasState(Hn)&&s.setState(Hn,!1)})}function ro(p,h,s){Object(o.each)(p,function(c){h(c)?(c.hasState(Hn)&&c.setState(Hn,!1),c.setState(ci,s)):(c.hasState(ci)&&c.setState(ci,!1),c.setState(Hn,s))})}var $a=E.INACTIVE,Bo=E.ACTIVE,De=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName=Bo,s}return h.prototype.setElementsStateByItem=function(s,c,M,w){var $=this,ht=function(kt){return $.isMathItem(kt,c,M)};this.setHighlightBy(s,ht,w)},h.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState($a)&&s.setState($a,!1),s.setState(Bo,!0)):s.hasState(Bo)||s.setState($a,!0)},h.prototype.setHighlightBy=function(s,c,M){var w=this;if(M)Object(o.each)(s,function(St){w.setElementHighlight(St,c)});else{var $=Ha(this.context.view,Bo),ht=!0;Object(o.each)($,function(St){if(!c(St))return ht=!1,!1}),ht?this.clear():Object(o.each)(s,function(St){c(St)&&(St.hasState(Bo)&&St.setState(Bo,!1),St.setState($a,!0))})}},h.prototype.setElementState=function(s,c){var M=this.context.view,w=Gn(M);this.setHighlightBy(w,function($){return s===$},c)},h.prototype.highlight=function(){this.setState()},h.prototype.clear=function(){var s=this.context.view;Ti(s)},h}(ja),pr=De,sr=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.setStateByElement=function(s,c){var M=this.context.view,w=s.geometry.getAttribute("color");if(!!w){var $=M.getScaleByField(w.getFields()[0]),ht=Ya(s,$.field),St=Gn(M),kt=St.filter(function(_t){return Ya(_t,$.field)===ht});this.setHighlightBy(St,function(_t){return kt.includes(_t)},c)}},h}(pr),Cn=sr,Yn=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState($a)&&s.setState($a,!1),s.setState(Bo,!0)):(s.setState($a,!0),s.hasState(Bo)&&s.setState(Bo,!1))},h.prototype.setStateByElement=function(s,c){var M=this.context.view,w=M.getXScale(),$=Ya(s,w.field),ht=Gn(M),St=ht.filter(function(kt){return Ya(kt,w.field)===$});this.setHighlightBy(ht,function(kt){return St.includes(kt)},c)},h.prototype.toggle=function(){var s=ji(this.context);if(s){var c=s.hasState(this.stateName);this.setStateByElement(s,!c)}},h}(pr),be=Yn,ue=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.clearViewState=function(s){Ti(s)},h.prototype.highlight=function(){this.setState()},h.prototype.setElementsState=function(s,c,M){ro(M,function(w){return s.indexOf(w)>=0},c)},h}(Fa),Be=ue,Je=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.highlight=function(){this.setState()},h.prototype.setElementState=function(s,c){var M=this.context.view,w=Gn(M);ro(w,function($){return s===$},c)},h.prototype.clear=function(){var s=this.context.view;Ti(s)},h}(mi),qe=Je,Ge=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(Fa),Ne=Ge,Ve=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(ja),Se=Ve,Re=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(mi),me=Re,Ye=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="",s.ignoreItemStates=[],s}return h.prototype.getTriggerListInfo=function(){var s=sa(this.context),c=null;return Ia(s)&&(c={item:s.item,list:s.component}),c},h.prototype.getAllowComponents=function(){var s=this,c=this.context.view,M=us(c),w=[];return Object(o.each)(M,function($){$.isList()&&s.allowSetStateByElement($)&&w.push($)}),w},h.prototype.hasState=function(s,c){return s.hasState(c,this.stateName)},h.prototype.clearAllComponentsState=function(){var s=this,c=this.getAllowComponents();Object(o.each)(c,function(M){M.clearItemsState(s.stateName)})},h.prototype.allowSetStateByElement=function(s){var c=s.get("field");if(!c)return!1;if(this.cfg&&this.cfg.componentNames){var M=s.get("name");if(this.cfg.componentNames.indexOf(M)===-1)return!1}var w=this.context.view,$=Yo(w,c);return $&&$.isCategory},h.prototype.allowSetStateByItem=function(s,c){var M=this.ignoreItemStates;if(M.length){var w=M.filter(function($){return c.hasState(s,$)});return w.length===0}return!0},h.prototype.setStateByElement=function(s,c,M){var w=s.get("field"),$=this.context.view,ht=Yo($,w),St=Ya(c,w),kt=ht.getText(St);this.setItemsState(s,kt,M)},h.prototype.setStateEnable=function(s){var c=this,M=ji(this.context);if(M){var w=this.getAllowComponents();Object(o.each)(w,function(kt){c.setStateByElement(kt,M,s)})}else{var $=sa(this.context);if(Ia($)){var ht=$.item,St=$.component;this.allowSetStateByElement(St)&&this.allowSetStateByItem(ht,St)&&this.setItemState(St,ht,s)}}},h.prototype.setItemsState=function(s,c,M){var w=this,$=s.getItems();Object(o.each)($,function(ht){ht.name===c&&w.setItemState(s,ht,M)})},h.prototype.setItemState=function(s,c,M){s.setItemState(c,this.stateName,M)},h.prototype.setState=function(){this.setStateEnable(!0)},h.prototype.reset=function(){this.setStateEnable(!1)},h.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,M=s.item,w=this.hasState(c,M);this.setItemState(c,M,!w)}},h.prototype.clear=function(){var s=this.getTriggerListInfo();s?s.list.clearItemsState(this.stateName):this.clearAllComponentsState()},h}(ya),er=Ye,Lr=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(er),Br=Lr,Er="inactive",an="active";function Wn(p){var h=p.getItems();Object(o.each)(h,function(s){p.hasState(s,an)&&p.setItemState(s,an,!1),p.hasState(s,Er)&&p.setItemState(s,Er,!1)})}var ni="inactive",An="active",_n=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName=An,s.ignoreItemStates=["unchecked"],s}return h.prototype.setItemsState=function(s,c,M){this.setHighlightBy(s,function(w){return w.name===c},M)},h.prototype.setItemState=function(s,c,M){var w=s.getItems();this.setHighlightBy(s,function($){return $===c},M)},h.prototype.setHighlightBy=function(s,c,M){var w=s.getItems();if(M)Object(o.each)(w,function(St){c(St)?(s.hasState(St,ni)&&s.setItemState(St,ni,!1),s.setItemState(St,An,!0)):s.hasState(St,An)||s.setItemState(St,ni,!0)});else{var $=s.getItemsByState(An),ht=!0;Object(o.each)($,function(St){if(!c(St))return ht=!1,!1}),ht?this.clear():Object(o.each)(w,function(St){c(St)&&(s.hasState(St,An)&&s.setItemState(St,An,!1),s.setItemState(St,ni,!0))})}},h.prototype.highlight=function(){this.setState()},h.prototype.clear=function(){var s=this.getTriggerListInfo();if(s)Wn(s.list);else{var c=this.getAllowComponents();Object(o.each)(c,function(M){M.clearItemsState(An),M.clearItemsState(ni)})}},h}(er),fi=_n,Ii=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(er),Ta=Ii,No=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName="unchecked",s}return h.prototype.unchecked=function(){this.setState()},h}(er),Kc=No,xo="unchecked",$u="checked",rs=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.stateName=$u,s}return h.prototype.setItemState=function(s,c,M){this.setCheckedBy(s,function(w){return w===c},M)},h.prototype.setCheckedBy=function(s,c,M){var w=s.getItems();M&&Object(o.each)(w,function($){c($)?(s.hasState($,xo)&&s.setItemState($,xo,!1),s.setItemState($,$u,!0)):s.hasState($,$u)||s.setItemState($,xo,!0)})},h.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,M=s.item,w=!Object(o.some)(c.getItems(),function($){return c.hasState($,xo)});w||c.hasState(M,xo)?this.setItemState(c,M,!0):this.reset()}},h.prototype.checked=function(){this.setState()},h.prototype.reset=function(){var s=this.getAllowComponents();Object(o.each)(s,function(c){c.clearItemsState($u),c.clearItemsState(xo)})},h}(er),Gh=rs,Eg=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.maskShape=null,s.points=[],s.starting=!1,s.moving=!1,s.preMovePoint=null,s.shapeType="path",s}return h.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},h.prototype.emitEvent=function(s){var c="mask:"+s,M=this.context.view,w=this.context.event;M.emit(c,{target:this.maskShape,shape:this.maskShape,points:this.points,x:w.x,y:w.y})},h.prototype.createMask=function(){var s=this.context.view,c=this.getMaskAttrs(),M=s.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(f.__assign)({fill:"#C5D4EB",opacity:.3},c)});return M},h.prototype.getMaskPath=function(){return[]},h.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},h.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},h.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},h.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var s=this.getCurrentPoint(),c=this.preMovePoint,M=s.x-c.x,w=s.y-c.y,$=this.points;Object(o.each)($,function(ht){ht.x+=M,ht.y+=w}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=s}},h.prototype.updateMask=function(){var s=this.getMaskAttrs();this.maskShape.attr(s)},h.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},h.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},h.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},h.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},h.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,p.prototype.destroy.call(this)},h}(ya),Uh=Eg,Sg=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.shapeType="circle",s}return h.prototype.getMaskAttrs=function(){var s=this.points,c=Object(o.last)(this.points),M=0,w=0,$=0;if(s.length){var ht=s[0];M=Ma(ht,c)/2,w=(c.x+ht.x)/2,$=(c.y+ht.y)/2}return{x:w,y:$,r:M}},h}(Uh),Mg=Sg,Cg=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.shapeType="rect",s}return h.prototype.getRegion=function(){var s=this.points;return{start:Object(o.head)(s),end:Object(o.last)(s)}},h.prototype.getMaskAttrs=function(){var s=this.getRegion(),c=s.start,M=s.end,w=Math.min(c.x,M.x),$=Math.min(c.y,M.y),ht=Math.abs(M.x-c.x),St=Math.abs(M.y-c.y);return{x:w,y:$,width:ht,height:St}},h}(Uh),Av=Cg;function Tv(p){p.x=Object(o.clamp)(p.x,0,1),p.y=Object(o.clamp)(p.y,0,1)}var Dv=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.dim="x",s.inPlot=!0,s}return h.prototype.getRegion=function(){var s=null,c=null,M=this.points,w=this.dim,$=this.context.view.getCoordinate(),ht=$.invert(Object(o.head)(M)),St=$.invert(Object(o.last)(M));return this.inPlot&&(Tv(ht),Tv(St)),w==="x"?(s=$.convert({x:ht.x,y:0}),c=$.convert({x:St.x,y:1})):(s=$.convert({x:0,y:ht.y}),c=$.convert({x:1,y:St.y})),{start:s,end:c}},h}(Av),Fd=Dv,Ag=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getMaskPath=function(){var s=this.points,c=[];return s.length&&(Object(o.each)(s,function(M,w){w===0?c.push(["M",M.x,M.y]):c.push(["L",M.x,M.y])}),c.push(["L",s[0].x,s[0].y])),c},h.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},h.prototype.addPoint=function(){this.resize()},h}(Uh),Pv=Ag,Iv=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.getMaskPath=function(){var s=this.points;return Ho(s,!0)},h}(Pv),Gd=Iv,Tg=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.setCursor=function(s){var c=this.context.view;c.getCanvas().setCursor(s)},h.prototype.default=function(){this.setCursor("default")},h.prototype.pointer=function(){this.setCursor("pointer")},h.prototype.move=function(){this.setCursor("move")},h.prototype.crosshair=function(){this.setCursor("crosshair")},h.prototype.wait=function(){this.setCursor("wait")},h.prototype.help=function(){this.setCursor("help")},h.prototype.text=function(){this.setCursor("text")},h.prototype.eResize=function(){this.setCursor("e-resize")},h.prototype.wResize=function(){this.setCursor("w-resize")},h.prototype.nResize=function(){this.setCursor("n-resize")},h.prototype.sResize=function(){this.setCursor("s-resize")},h.prototype.neResize=function(){this.setCursor("ne-resize")},h.prototype.nwResize=function(){this.setCursor("nw-resize")},h.prototype.seResize=function(){this.setCursor("se-resize")},h.prototype.swResize=function(){this.setCursor("sw-resize")},h.prototype.nsResize=function(){this.setCursor("ns-resize")},h.prototype.ewResize=function(){this.setCursor("ew-resize")},h}(ya),Dg=Tg,Lv=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.filterView=function(s,c,M){var w=this;s.getScaleByField(c)&&s.filter(c,M),s.views&&s.views.length&&Object(o.each)(s.views,function($){w.filterView($,c,M)})},h.prototype.filter=function(){var s=sa(this.context);if(s){var c=this.context.view,M=s.component,w=M.get("field");if(Ia(s)){if(w){var $=M.getItemsByState("unchecked"),ht=Yo(c,w),St=$.map(function(te){return te.name});St.length?this.filterView(c,w,function(te){var ne=ht.getText(te);return!St.includes(ne)}):this.filterView(c,w,null),c.render(!0)}}else if(fo(s)){var kt=M.getValue(),_t=kt[0],Zt=kt[1];this.filterView(c,w,function(te){return te>=_t&&te<=Zt}),c.render(!0)}}},h}(ya),Pg=Lv;function jv(p,h,s,c){var M=Math.min(s[h],c[h]),w=Math.max(s[h],c[h]),$=p.range,ht=$[0],St=$[1];if(M<ht&&(M=ht),w>St&&(w=St),M===St&&w===St)return null;var kt=p.invert(M),_t=p.invert(w);if(p.isCategory){var Zt=p.values.indexOf(kt),te=p.values.indexOf(_t),ne=p.values.slice(Zt,te+1);return function(ve){return ne.includes(ve)}}else return function(ve){return ve>=kt&&ve<=_t}}var Ig=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.dims=["x","y"],s.startPoint=null,s.isStarted=!1,s}return h.prototype.hasDim=function(s){return this.dims.includes(s)},h.prototype.start=function(){var s=this.context;this.isStarted=!0,this.startPoint=s.getCurrentPoint()},h.prototype.filter=function(){var s,c;if(ho(this.context)){var M=this.context.event.target,w=M.getCanvasBBox();s={x:w.x,y:w.y},c={x:w.maxX,y:w.maxY}}else{if(!this.isStarted)return;s=this.startPoint,c=this.context.getCurrentPoint()}if(!(Math.abs(s.x-c.x)<5||Math.abs(s.x-c.y)<5)){var $=this.context.view,ht=$.getCoordinate(),St=ht.invert(c),kt=ht.invert(s);if(this.hasDim("x")){var _t=$.getXScale(),Zt=jv(_t,"x",St,kt);this.filterView($,_t.field,Zt)}if(this.hasDim("y")){var te=$.getYScales()[0],Zt=jv(te,"y",St,kt);this.filterView($,te.field,Zt)}this.reRender($)}},h.prototype.end=function(){this.isStarted=!1},h.prototype.reset=function(){var s=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var c=s.getXScale();this.filterView(s,c.field,null)}if(this.hasDim("y")){var M=s.getYScales()[0];this.filterView(s,M.field,null)}this.reRender(s)},h.prototype.filterView=function(s,c,M){s.filter(c,M)},h.prototype.reRender=function(s){s.render(!0)},h}(ya),Wh=Ig,Ud=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.filterView=function(s,c,M){var w=bo(s);Object(o.each)(w,function($){$.filter(c,M)})},h.prototype.reRender=function(s){var c=bo(s);Object(o.each)(c,function(M){M.render(!0)})},h}(Wh),Wd=Ud,Lg=function(p){Object(f.__extends)(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.filter=function(){var s=sa(this.context),c=this.context.view,M=Gn(c);if(ho(this.context)){var w=Ba(this.context,10);w&&Object(o.each)(M,function(ve){w.includes(ve)?ve.show():ve.hide()})}else if(s){var $=s.component,ht=$.get("field");if(Ia(s)){if(ht){var St=$.getItemsByState("unchecked"),kt=Yo(c,ht),_t=St.map(function(ve){return ve.name});Object(o.each)(M,function(ve){var Oe=Ya(ve,ht),Ke=kt.getText(Oe);_t.indexOf(Ke)>=0?ve.hide():ve.show()})}}else if(fo(s)){var Zt=$.getValue(),te=Zt[0],ne=Zt[1];Object(o.each)(M,function(ve){var Oe=Ya(ve,ht);Oe>=te&&Oe<=ne?ve.show():ve.hide()})}}},h.prototype.clear=function(){var s=Gn(this.context.view);Object(o.each)(s,function(c){c.show()})},h.prototype.reset=function(){this.clear()},h}(ya),jg=Lg,Rg=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.byRecord=!1,s}return h.prototype.filter=function(){ho(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},h.prototype.filterByRecord=function(){var s=this.context.view,c=Ba(this.context,10);if(!!c){var M=s.getXScale().field,w=s.getYScales()[0].field,$=c.map(function(St){return St.getModel().data}),ht=bo(s);Object(o.each)(ht,function(St){var kt=Gn(St);Object(o.each)(kt,function(_t){var Zt=_t.getModel().data;Ws($,Zt,M,w)?_t.show():_t.hide()})})}},h.prototype.filterByBBox=function(){var s=this,c=this.context.view,M=bo(c);Object(o.each)(M,function(w){var $=Xo(s.context,w,10),ht=Gn(w);$&&Object(o.each)(ht,function(St){$.includes(St)?St.show():St.hide()})})},h.prototype.reset=function(){var s=bo(this.context.view);Object(o.each)(s,function(c){var M=Gn(c);Object(o.each)(M,function(w){w.show()})})},h}(ya),Rv=Rg,wg=10,Bg=5,Ng=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.buttonGroup=null,s.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},s}return h.prototype.getButtonCfg=function(){return Object(o.deepMix)(this.buttonCfg,this.cfg)},h.prototype.drawButton=function(){var s=this.getButtonCfg(),c=this.context.view.foregroundGroup.addGroup({name:s.name}),M=c.addShape({type:"text",name:"button-text",attrs:Object(f.__assign)({text:s.text},s.textStyle)}),w=M.getBBox(),$=He(s.padding),ht=c.addShape({type:"rect",name:"button-rect",attrs:Object(f.__assign)({x:w.x-$[3],y:w.y-$[0],width:w.width+$[1]+$[3],height:w.height+$[0]+$[2]},s.style)});ht.toBack(),c.on("mouseenter",function(){ht.attr(s.activeStyle)}),c.on("mouseleave",function(){ht.attr(s.style)}),this.buttonGroup=c},h.prototype.resetPosition=function(){var s=this.context.view,c=s.getCoordinate(),M=c.convert({x:1,y:1}),w=this.buttonGroup,$=w.getBBox(),ht=H.a.transform(null,[["t",M.x-$.width-wg,M.y+$.height+Bg]]);w.setMatrix(ht)},h.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},h.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},h.prototype.destroy=function(){var s=this.buttonGroup;s&&s.remove(),p.prototype.destroy.call(this)},h}(ya),wv=Ng,Fg=4,zh=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.starting=!1,s.dragStart=!1,s}return h.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},h.prototype.drag=function(){if(!!this.startPoint){var s=this.context.getCurrentPoint(),c=this.context.view,M=this.context.event;this.dragStart?c.emit("drag",{target:M.target,x:M.x,y:M.y}):Ma(s,this.startPoint)>Fg&&(c.emit("dragstart",{target:M.target,x:M.x,y:M.y}),this.dragStart=!0)}},h.prototype.end=function(){if(this.dragStart){var s=this.context.view,c=this.context.event;s.emit("dragend",{target:c.target,x:c.x,y:c.y})}this.starting=!1,this.dragStart=!1},h}(ya),Gg=zh,Ug=5,Wg=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.starting=!1,s.isMoving=!1,s.startPoint=null,s.startMatrix=null,s}return h.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},h.prototype.move=function(){if(!!this.starting){var s=this.startPoint,c=this.context.getCurrentPoint(),M=Ma(s,c);if(M>Ug&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var w=this.context.view,$=H.a.transform(this.startMatrix,[["t",c.x-s.x,c.y-s.y]]);w.backgroundGroup.setMatrix($),w.foregroundGroup.setMatrix($),w.middleGroup.setMatrix($)}}},h.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},h.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var s=this.context.view;s.backgroundGroup.resetMatrix(),s.foregroundGroup.resetMatrix(),s.middleGroup.resetMatrix(),this.isMoving=!1},h}(ya),kh=Wg,Bv="x",Nv="y",zg=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.dims=[Bv,Nv],s.cfgFields=["dims"],s.cacheScaleDefs={},s}return h.prototype.hasDim=function(s){return this.dims.includes(s)},h.prototype.getScale=function(s){var c=this.context.view;return s==="x"?c.getXScale():c.getYScales()[0]},h.prototype.resetDim=function(s){var c=this.context.view;if(this.hasDim(s)&&this.cacheScaleDefs[s]){var M=this.getScale(s);c.scale(M.field,this.cacheScaleDefs[s]),this.cacheScaleDefs[s]=null}},h.prototype.reset=function(){this.resetDim(Bv),this.resetDim(Nv);var s=this.context.view;s.render(!0)},h}(ya),Fv=zg,kg=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.startPoint=null,s.starting=!1,s.startCache={},s}return h.prototype.start=function(){var s=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var c=this.dims;Object(o.each)(c,function(M){var w=s.getScale(M),$=w.min,ht=w.max,St=w.values;s.startCache[M]={min:$,max:ht,values:St}})},h.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},h.prototype.translate=function(){var s=this;if(!!this.starting){var c=this.startPoint,M=this.context.view.getCoordinate(),w=this.context.getCurrentPoint(),$=M.invert(c),ht=M.invert(w),St=ht.x-$.x,kt=ht.y-$.y,_t=this.context.view,Zt=this.dims;Object(o.each)(Zt,function(te){s.translateDim(te,{x:St*-1,y:kt*-1})}),_t.render(!0)}},h.prototype.translateDim=function(s,c){if(this.hasDim(s)){var M=this.getScale(s);M.isLinear&&this.translateLinear(s,M,c)}},h.prototype.translateLinear=function(s,c,M){var w=this.context.view,$=this.startCache[s],ht=$.min,St=$.max,kt=St-ht,_t=M[s]*kt;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:ht,max:St}),w.scale(c.field,{nice:!1,min:ht+_t,max:St+_t})},h.prototype.reset=function(){p.prototype.reset.call(this),this.startPoint=null,this.starting=!1},h}(Fv),Gv=kg,Vh=function(p){Object(f.__extends)(h,p);function h(){var s=p!==null&&p.apply(this,arguments)||this;return s.zoomRatio=.05,s}return h.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},h.prototype.zoom=function(s){var c=this,M=this.dims;Object(o.each)(M,function(w){c.zoomDim(w,s)}),this.context.view.render(!0)},h.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},h.prototype.zoomDim=function(s,c){if(this.hasDim(s)){var M=this.getScale(s);M.isLinear&&this.zoomLinear(s,M,c)}},h.prototype.zoomLinear=function(s,c,M){var w=this.context.view;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:c.min,max:c.max});var $=this.cacheScaleDefs[s],ht=$.max-$.min,St=c.min,kt=c.max,_t=M*ht,Zt=St-_t,te=kt+_t,ne=te-Zt,ve=ne/ht;te>Zt&&ve<100&&ve>.01&&w.scale(c.field,{nice:!1,min:St-_t,max:kt+_t})},h}(Fv),Uv=Vh;hi("dark",Qe(Mf)),z("canvas",Xl),z("svg",Cf),Ro("Polygon",Ic),Ro("Interval",bh),Ro("Schema",$l),Ro("Path",Iu),Ro("Point",Zl),Ro("Line",ws),Ro("Area",Sc),Ro("Edge",xd),Ro("Heatmap",yh),Ro("Violin",Bs),Is("base",Au),Is("interval",Ah),Is("pie",ku),Is("polar",Jl),eo("overlap",Cd),eo("distribute",Il),eo("fixed-overlap",Md),eo("hide-overlap",cl),eo("limit-in-shape",kf),eo("limit-in-canvas",Gc),eo("limit-in-plot",wh),eo("pie-outer",Vu),eo("adjust-color",Dd),eo("interval-adjust-position",kc),eo("interval-hide-overlap",jl),eo("point-adjust-position",Dn),eo("pie-spider",Th),eo("path-adjust-position",Rr),To("fade-in",Xc),To("fade-out",Pd),To("grow-in-x",hs),To("grow-in-xy",Hu),To("grow-in-y",Bh),To("scale-in-x",Fh),To("scale-in-y",Ld),To("wave-in",Zf),To("zoom-in",Ku),To("zoom-out",_u),To("position-update",Nh),To("sector-path-update",dl),To("path-in",Yu),ko("rect",Sv),ko("mirror",Rd),ko("list",mv),ko("matrix",Ov),ko("circle",es),ko("tree",Cv),nn("axis",Mr),nn("legend",vr),nn("tooltip",uc),nn("annotation",$f),nn("slider",Sn),nn("scrollbar",dn),li("tooltip",Vr),li("sibling-tooltip",oi),li("ellipsis-text",Kn),li("element-active",_a),li("element-single-active",Gi),li("element-range-active",Ki),li("element-highlight",pr),li("element-highlight-by-x",be),li("element-highlight-by-color",Cn),li("element-single-highlight",qe),li("element-range-highlight",Be),li("element-sibling-highlight",Be,{effectSiblings:!0,effectByRecord:!0}),li("element-selected",Se),li("element-single-selected",me),li("element-range-selected",Ne),li("element-link-by-color",Va),li("active-region",On),li("list-active",Br),li("list-selected",Ta),li("list-highlight",fi),li("list-unchecked",Kc),li("list-checked",Gh),li("legend-item-highlight",fi,{componentNames:["legend"]}),li("axis-label-highlight",fi,{componentNames:["axis"]}),li("rect-mask",Av),li("x-rect-mask",Fd,{dim:"x"}),li("y-rect-mask",Fd,{dim:"y"}),li("circle-mask",Mg),li("path-mask",Pv),li("smooth-path-mask",Gd),li("cursor",Dg),li("data-filter",Pg),li("brush",Wh),li("brush-x",Wh,{dims:["x"]}),li("brush-y",Wh,{dims:["y"]}),li("sibling-filter",Wd),li("sibling-x-filter",Wd),li("sibling-y-filter",Wd),li("element-filter",jg),li("element-sibling-filter",Rv),li("element-sibling-filter-record",Rv,{byRecord:!0}),li("view-drag",Gg),li("view-move",kh),li("scale-translate",Gv),li("scale-zoom",Uv),li("reset-button",wv,{name:"reset-button",text:"reset"});function lu(p){return p.isInPlot()}xe("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),xe("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),xe("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),xe("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),xe("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),xe("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),xe("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),xe("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),xe("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),xe("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),xe("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),xe("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(h){return!h.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(h){return!h.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),xe("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:lu,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:lu,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:lu,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),xe("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),xe("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:lu,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:lu,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:lu,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),xe("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:lu,action:"path-mask:start"},{trigger:"mousedown",isEnable:lu,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),xe("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),xe("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),xe("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),xe("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),xe("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),xe("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function zd(p){return p.gEvent.preventDefault(),p.gEvent.originalEvent.deltaY>0}xe("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(h){return zd(h.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(h){return!zd(h.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),xe("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},"JWH+":function(jt,A,a){var f=a("ThNq"),o=a("HDt/");function x(O,C){return f(O,C,function(P,b){return o(O,b)})}jt.exports=x},"Jg9/":function(jt,A,a){"use strict";a.d(A,"b",function(){return b}),a.d(A,"a",function(){return S});var f=a("CMID"),o=a("jg4I"),x=a("nHjW"),O=a("N2cT"),C=a("+6Kx");function P(y){var E=y.chart,m=y.options,T=m.innerRadius,L=m.radius;return E.coordinate("theta",{innerRadius:T,radius:L}),y}function b(y,E){var m=y.chart,T=y.options,L=T.innerRadius,g=T.statistic,j=T.percent,U=T.meta;if(m.getController("annotation").clear(!0),L&&g){var W=Object(o.get)(U,["percent","formatter"])||function(N){return(N*100).toFixed(2)+"%"},z=g.content;z&&(z=Object(x.c)({},z,{content:Object(o.isNil)(z.content)?W(j):z.content})),Object(x.u)(m,{statistic:Object(f.__assign)(Object(f.__assign)({},g),{content:z}),plotType:"ring-progress"},{percent:j})}return E&&m.render(!0),y}function S(y){return Object(x.f)(C.b,Object(O.f)({}),P,b,O.a,O.j,Object(O.b)())(y)}},Jr4d:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=a("CMID"),o=a("jg4I"),x=a("Eqze"),O=function(y,E,m){for(var T=Infinity,L,g=0;g<E.length;g++){var j=E[g].id;!m[j]&&y[j]<=T&&(T=y[j],L=E[g])}return L},C=function(y,E,m,T){var L=y.nodes,g=L===void 0?[]:L,j=y.edges,U=j===void 0?[]:j,W=[],z={},N={},I={};g.forEach(function(K,_){var Y=K.id;W.push(Y),N[Y]=Infinity,Y===E&&(N[Y]=0)});for(var B=g.length,G=function(_){var Y=O(N,g,z),q=Y.id;if(z[q]=!0,N[q]===Infinity)return"continue";var ot=[];m?ot=(0,x.getOutEdgesNodeId)(q,U):ot=(0,x.getEdgesByNodeId)(q,U),ot.forEach(function(ft){var ct=ft.target,rt=ft.source,gt=ct===q?rt:ct,Et=T&&ft[T]?ft[T]:1;N[gt]>N[Y.id]+Et?(N[gt]=N[Y.id]+Et,I[gt]=[Y.id]):N[gt]===N[Y.id]+Et&&I[gt].push(Y.id)})},k=0;k<B;k++)G(k);I[E]=[E];var V={};for(var tt in N)N[tt]!==Infinity&&b(E,tt,I,V);var Q={};for(var tt in V)Q[tt]=V[tt][0];return{length:N,path:Q,allPath:V}},P=C;A.default=P;function b(S,y,E,m){if(S===y)return[S];if(m[y])return m[y];for(var T=[],L=0,g=E[y];L<g.length;L++){var j=g[L],U=b(S,j,E,m);if(!U)return;for(var W=0,z=U;W<z.length;W++){var N=z[W];(0,o.isArray)(N)?T.push((0,f.__spreadArray)((0,f.__spreadArray)([],N),[y])):T.push([N,y])}}return m[y]=T,m[y]}},K0S0:function(jt,A,a){"use strict";var f=a("ql+n");jt.exports=C;var o="\0",x="\0",O="";function C(m){this._isDirected=f.has(m,"directed")?m.directed:!0,this._isMultigraph=f.has(m,"multigraph")?m.multigraph:!1,this._isCompound=f.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=f.constant(void 0),this._defaultEdgeLabelFn=f.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[x]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(m){return this._label=m,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(m){return f.isFunction(m)||(m=f.constant(m)),this._defaultNodeLabelFn=m,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return f.keys(this._nodes)},C.prototype.sources=function(){var m=this;return f.filter(this.nodes(),function(T){return f.isEmpty(m._in[T])})},C.prototype.sinks=function(){var m=this;return f.filter(this.nodes(),function(T){return f.isEmpty(m._out[T])})},C.prototype.setNodes=function(m,T){var L=arguments,g=this;return f.each(m,function(j){L.length>1?g.setNode(j,T):g.setNode(j)}),this},C.prototype.setNode=function(m,T){return f.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=T),this):(this._nodes[m]=arguments.length>1?T:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=x,this._children[m]={},this._children[x][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},C.prototype.node=function(m){return this._nodes[m]},C.prototype.hasNode=function(m){return f.has(this._nodes,m)},C.prototype.removeNode=function(m){var T=this;if(f.has(this._nodes,m)){var L=function(j){T.removeEdge(T._edgeObjs[j])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],f.each(this.children(m),function(g){T.setParent(g)}),delete this._children[m]),f.each(f.keys(this._in[m]),L),delete this._in[m],delete this._preds[m],f.each(f.keys(this._out[m]),L),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},C.prototype.setParent=function(m,T){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f.isUndefined(T))T=x;else{T+="";for(var L=T;!f.isUndefined(L);L=this.parent(L))if(L===m)throw new Error("Setting "+T+" as parent of "+m+" would create a cycle");this.setNode(T)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=T,this._children[T][m]=!0,this},C.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},C.prototype.parent=function(m){if(this._isCompound){var T=this._parent[m];if(T!==x)return T}},C.prototype.children=function(m){if(f.isUndefined(m)&&(m=x),this._isCompound){var T=this._children[m];if(T)return f.keys(T)}else{if(m===x)return this.nodes();if(this.hasNode(m))return[]}},C.prototype.predecessors=function(m){var T=this._preds[m];if(T)return f.keys(T)},C.prototype.successors=function(m){var T=this._sucs[m];if(T)return f.keys(T)},C.prototype.neighbors=function(m){var T=this.predecessors(m);if(T)return f.union(T,this.successors(m))},C.prototype.isLeaf=function(m){var T;return this.isDirected()?T=this.successors(m):T=this.neighbors(m),T.length===0},C.prototype.filterNodes=function(m){var T=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});T.setGraph(this.graph());var L=this;f.each(this._nodes,function(U,W){m(W)&&T.setNode(W,U)}),f.each(this._edgeObjs,function(U){T.hasNode(U.v)&&T.hasNode(U.w)&&T.setEdge(U,L.edge(U))});var g={};function j(U){var W=L.parent(U);return W===void 0||T.hasNode(W)?(g[U]=W,W):W in g?g[W]:j(W)}return this._isCompound&&f.each(T.nodes(),function(U){T.setParent(U,j(U))}),T},C.prototype.setDefaultEdgeLabel=function(m){return f.isFunction(m)||(m=f.constant(m)),this._defaultEdgeLabelFn=m,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return f.values(this._edgeObjs)},C.prototype.setPath=function(m,T){var L=this,g=arguments;return f.reduce(m,function(j,U){return g.length>1?L.setEdge(j,U,T):L.setEdge(j,U),U}),this},C.prototype.setEdge=function(){var m,T,L,g,j=!1,U=arguments[0];typeof U=="object"&&U!==null&&"v"in U?(m=U.v,T=U.w,L=U.name,arguments.length===2&&(g=arguments[1],j=!0)):(m=U,T=arguments[1],L=arguments[3],arguments.length>2&&(g=arguments[2],j=!0)),m=""+m,T=""+T,f.isUndefined(L)||(L=""+L);var W=S(this._isDirected,m,T,L);if(f.has(this._edgeLabels,W))return j&&(this._edgeLabels[W]=g),this;if(!f.isUndefined(L)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(T),this._edgeLabels[W]=j?g:this._defaultEdgeLabelFn(m,T,L);var z=y(this._isDirected,m,T,L);return m=z.v,T=z.w,Object.freeze(z),this._edgeObjs[W]=z,P(this._preds[T],m),P(this._sucs[m],T),this._in[T][W]=z,this._out[m][W]=z,this._edgeCount++,this},C.prototype.edge=function(m,T,L){var g=arguments.length===1?E(this._isDirected,arguments[0]):S(this._isDirected,m,T,L);return this._edgeLabels[g]},C.prototype.hasEdge=function(m,T,L){var g=arguments.length===1?E(this._isDirected,arguments[0]):S(this._isDirected,m,T,L);return f.has(this._edgeLabels,g)},C.prototype.removeEdge=function(m,T,L){var g=arguments.length===1?E(this._isDirected,arguments[0]):S(this._isDirected,m,T,L),j=this._edgeObjs[g];return j&&(m=j.v,T=j.w,delete this._edgeLabels[g],delete this._edgeObjs[g],b(this._preds[T],m),b(this._sucs[m],T),delete this._in[T][g],delete this._out[m][g],this._edgeCount--),this},C.prototype.inEdges=function(m,T){var L=this._in[m];if(L){var g=f.values(L);return T?f.filter(g,function(j){return j.v===T}):g}},C.prototype.outEdges=function(m,T){var L=this._out[m];if(L){var g=f.values(L);return T?f.filter(g,function(j){return j.w===T}):g}},C.prototype.nodeEdges=function(m,T){var L=this.inEdges(m,T);if(L)return L.concat(this.outEdges(m,T))};function P(m,T){m[T]?m[T]++:m[T]=1}function b(m,T){--m[T]||delete m[T]}function S(m,T,L,g){var j=""+T,U=""+L;if(!m&&j>U){var W=j;j=U,U=W}return j+O+U+O+(f.isUndefined(g)?o:g)}function y(m,T,L,g){var j=""+T,U=""+L;if(!m&&j>U){var W=j;j=U,U=W}var z={v:j,w:U};return g&&(z.name=g),z}function E(m,T){return S(m,T.v,T.w,T.name)}},K0hn:function(jt,A,a){"use strict";a.d(A,"a",function(){return b}),a.d(A,"d",function(){return S}),a.d(A,"b",function(){return y}),a.d(A,"c",function(){return m}),a.d(A,"e",function(){return g}),a.d(A,"h",function(){return j}),a.d(A,"f",function(){return W}),a.d(A,"g",function(){return z});var f=a("jg4I"),o=a("aTcL"),x=a("hMip"),O=a("bsNZ"),C=a("Oru/"),P={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function b(N,I){var B=I.attr();for(var G in B){var k=B[G],V=P[G]?P[G]:G;V==="matrix"&&k?N.transform(k[0],k[1],k[3],k[4],k[6],k[7]):V==="lineDash"&&N.setLineDash?Object(f.isArray)(k)&&N.setLineDash(k):(V==="strokeStyle"||V==="fillStyle"?k=Object(o.b)(N,I,k):V==="globalAlpha"&&(k=k*N.globalAlpha),N[V]=k)}}function S(N,I,B){for(var G=0;G<I.length;G++){var k=I[G];k.cfg.visible?k.draw(N,B):k.skipDraw()}}function y(N,I,B){var G=N.get("refreshElements");Object(f.each)(G,function(k){if(k!==N)for(var V=k.cfg.parent;V&&V!==N&&!V.cfg.refresh;)V.cfg.refresh=!0,V=V.cfg.parent}),G[0]===N?T(I,B):E(I,B)}function E(N,I){for(var B=0;B<N.length;B++){var G=N[B];if(G.cfg.visible)if(G.cfg.hasChanged)G.cfg.refresh=!0,G.isGroup()&&T(G.cfg.children,I);else if(G.cfg.refresh)G.isGroup()&&E(G.cfg.children,I);else{var k=L(G,I);G.cfg.refresh=k,k&&G.isGroup()&&E(G.cfg.children,I)}}}function m(N){for(var I=0;I<N.length;I++){var B=N[I];B.cfg.hasChanged=!1,B.isGroup()&&!B.destroyed&&m(B.cfg.children)}}function T(N,I){for(var B=0;B<N.length;B++){var G=N[B];G.cfg.refresh=!0,G.isGroup()&&T(G.get("children"),I)}}function L(N,I){var B=N.cfg.cacheCanvasBBox,G=N.cfg.isInView&&B&&Object(O.f)(B,I);return G}function g(N,I,B,G){var k=B.path,V=B.startArrow,tt=B.endArrow;if(!!k){var Q=[0,0],K=[0,0],_={dx:0,dy:0};I.beginPath();for(var Y=0;Y<k.length;Y++){var q=k[Y],ot=q[0];if(Y===0&&V&&V.d){var ft=N.getStartTangent();_=C.c(ft[0][0],ft[0][1],ft[1][0],ft[1][1],V.d)}else if(Y===k.length-2&&k[Y+1][0]==="Z"&&tt&&tt.d){var ct=k[Y+1];if(ct[0]==="Z"){var ft=N.getEndTangent();_=C.c(ft[0][0],ft[0][1],ft[1][0],ft[1][1],tt.d)}}else if(Y===k.length-1&&tt&&tt.d&&k[0]!=="Z"){var ft=N.getEndTangent();_=C.c(ft[0][0],ft[0][1],ft[1][0],ft[1][1],tt.d)}var rt=_.dx,gt=_.dy;switch(ot){case"M":I.moveTo(q[1]-rt,q[2]-gt),K=[q[1],q[2]];break;case"L":I.lineTo(q[1]-rt,q[2]-gt);break;case"Q":I.quadraticCurveTo(q[1],q[2],q[3]-rt,q[4]-gt);break;case"C":I.bezierCurveTo(q[1],q[2],q[3],q[4],q[5]-rt,q[6]-gt);break;case"A":{var Et=void 0;G?(Et=G[Y],Et||(Et=Object(x.a)(Q,q),G[Y]=Et)):Et=Object(x.a)(Q,q);var Gt=Et.cx,Yt=Et.cy,Xt=Et.rx,vt=Et.ry,mt=Et.startAngle,ut=Et.endAngle,st=Et.xRotation,lt=Et.sweepFlag;if(I.ellipse)I.ellipse(Gt,Yt,Xt,vt,st,mt,ut,1-lt);else{var Tt=Xt>vt?Xt:vt,Ot=Xt>vt?1:Xt/vt,et=Xt>vt?vt/Xt:1;I.translate(Gt,Yt),I.rotate(st),I.scale(Ot,et),I.arc(0,0,Tt,mt,ut,1-lt),I.scale(1/Ot,1/et),I.rotate(-st),I.translate(-Gt,-Yt)}break}case"Z":I.closePath();break;default:break}if(ot==="Z")Q=K;else{var H=q.length;Q=[q[H-2],q[H-1]]}}}}function j(N,I){var B=N.get("canvas");B&&(I==="remove"&&(N._cacheCanvasBBox=N.get("cacheCanvasBBox")),N.get("hasChanged")||(N.set("hasChanged",!0),N.cfg.parent&&N.cfg.parent.get("hasChanged")||(B.refreshElement(N,I,B),B.get("autoDraw")&&B.draw())))}function U(N){var I;if(N.destroyed)I=N._cacheCanvasBBox;else{var B=N.get("cacheCanvasBBox"),G=B&&!!(B.width&&B.height),k=N.getCanvasBBox(),V=k&&!!(k.width&&k.height);G&&V?I=Object(O.l)(B,k):G?I=B:V&&(I=k)}return I}function W(N){if(!N.length)return null;var I=[],B=[],G=[],k=[];return Object(f.each)(N,function(V){var tt=U(V);tt&&(I.push(tt.minX),B.push(tt.minY),G.push(tt.maxX),k.push(tt.maxY))}),{minX:Object(f.min)(I),minY:Object(f.min)(B),maxX:Object(f.max)(G),maxY:Object(f.max)(k)}}function z(N,I){return!N||!I||!Object(O.f)(N,I)?null:{minX:Math.max(N.minX,I.minX),minY:Math.max(N.minY,I.minY),maxX:Math.min(N.maxX,I.maxX),maxY:Math.min(N.maxY,I.maxY)}}},K4bE:function(jt,A,a){"use strict";a.d(A,"a",function(){return et});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("RHEd"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("7Nom"),E=a.n(y),m=a("4OuL"),T=a.n(m),L=a("r1m7"),g=a.n(L),j=a("99LQ"),U=a("YcyD"),W=a.n(U),z=a("XN3X"),N=a("ZVT1"),I,B,G,k,V,tt,Q,K,_,Y,q,ot,ft,ct,rt,gt,Et,Gt,Yt,Xt,vt,mt,ut,st;function lt(H,pt){var nt;if(typeof Symbol=="undefined"||H[Symbol.iterator]==null){if(Array.isArray(H)||(nt=Tt(H))||pt&&H&&typeof H.length=="number"){nt&&(H=nt);var yt=0,Pt=function(){};return{s:Pt,n:function(){return yt>=H.length?{done:!0}:{done:!1,value:H[yt++]}},e:function(Ct){throw Ct},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Rt=!0,Wt=!1,Vt;return{s:function(){nt=H[Symbol.iterator]()},n:function(){var Ct=nt.next();return Rt=Ct.done,Ct},e:function(Ct){Wt=!0,Vt=Ct},f:function(){try{!Rt&&nt.return!=null&&nt.return()}finally{if(Wt)throw Vt}}}}function Tt(H,pt){if(!!H){if(typeof H=="string")return Ot(H,pt);var nt=Object.prototype.toString.call(H).slice(8,-1);if(nt==="Object"&&H.constructor&&(nt=H.constructor.name),nt==="Map"||nt==="Set")return Array.from(H);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return Ot(H,pt)}}function Ot(H,pt){(pt==null||pt>H.length)&&(pt=H.length);for(var nt=0,yt=new Array(pt);nt<pt;nt++)yt[nt]=H[nt];return yt}var et=(I=Object(U.injectable)(),B=Object(U.inject)(z.a.MeshComponentManager),G=Object(U.inject)(z.a.GeometryComponentManager),k=Object(U.inject)(z.a.MaterialComponentManager),V=Object(U.inject)(z.a.CullableComponentManager),tt=Object(U.inject)(z.a.TransformComponentManager),Q=Object(U.inject)(z.a.HierarchyComponentManager),K=Object(U.inject)(z.a.Systems),_=Object(U.named)(z.a.FrameGraphSystem),Y=Object(U.inject)(z.a.RenderEngine),q=Object(U.inject)(z.a.ResourcePool),I(ot=(ft=(st=ut=function(){function H(){var pt=this;S()(this,H),P()(this,"mesh",ct,this),P()(this,"geometry",rt,this),P()(this,"material",gt,this),P()(this,"cullable",Et,this),P()(this,"transform",Gt,this),P()(this,"hierarchy",Yt,this),P()(this,"frameGraphSystem",Xt,this),P()(this,"engine",vt,this),P()(this,"resourcePool",mt,this),this.modelCache={},this.setup=function(nt,yt,Pt){var Rt=nt.createRenderTarget(yt,"color buffer",{width:1,height:1,usage:N.a.RENDER_ATTACHMENT|N.a.SAMPLED|N.a.COPY_SRC});Pt.data={output:yt.write(nt,Rt)}},this.execute=function(){var nt=O()(o.a.mark(function yt(Pt,Rt,Wt){var Vt,Lt,Ct,at,It,Ft;return o.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:Vt=Pt.getResourceNode(Rt.data.output),Lt=pt.resourcePool.getOrCreateResource(Vt.resource),Ct=lt(Wt),Nt.prev=3,Ct.s();case 5:if((at=Ct.n()).done){Nt.next=11;break}return It=at.value,Nt.next=9,pt.initView(It);case 9:Nt.next=5;break;case 11:Nt.next=16;break;case 13:Nt.prev=13,Nt.t0=Nt.catch(3),Ct.e(Nt.t0);case 16:return Nt.prev=16,Ct.f(),Nt.finish(16);case 19:Ft=pt.engine.getCanvas(),Lt.resize({width:Ft.width,height:Ft.height}),pt.engine.setScissor({enable:!1}),pt.engine.clear({framebuffer:Lt,color:Wt[0].getClearColor(),depth:1}),pt.engine.useFramebuffer(Lt,function(){var Ht=lt(Wt),Bt;try{for(Ht.s();!(Bt=Ht.n()).done;){var Ut=Bt.value;pt.renderView(Ut)}}catch(Jt){Ht.e(Jt)}finally{Ht.f()}});case 24:case"end":return Nt.stop()}},yt,null,[[3,13,16,19]])}));return function(yt,Pt,Rt){return nt.apply(this,arguments)}}()}return E()(H,[{key:"renderView",value:function(nt){var yt=nt.getScene(),Pt=nt.getCamera(),Rt=Pt.getViewTransform(),Wt=j.b.multiply(j.b.create(),Pt.getPerspective(),Rt);Pt.getFrustum().extractFromVPMatrix(Wt);var Vt=nt.getViewport(),Lt=Vt.x,Ct=Vt.y,at=Vt.width,It=Vt.height;this.engine.viewport({x:Lt,y:Ct,width:at,height:It});var Ft=lt(yt.getEntities()),xt;try{for(Ft.s();!(xt=Ft.n()).done;){var Nt=xt.value;this.renderMesh(Nt,{camera:Pt,view:nt,viewMatrix:Rt})}}catch(Ht){Ft.e(Ht)}finally{Ft.f()}}},{key:"renderMesh",value:function(nt,yt){var Pt=yt.camera,Rt=yt.view,Wt=yt.viewMatrix,Vt=this.mesh.getComponentByEntity(nt);if(!(!Vt||!Vt.visible)){var Lt=Vt.material,Ct=Vt.geometry;if(!(!Ct||Ct.dirty||!Lt)){var at=this.transform.getComponentByEntity(nt),It=j.b.multiply(j.b.create(),Wt,at.worldTransform),Ft=Rt.getViewport(),xt=Ft.width,Nt=Ft.height;Lt.setUniform({projectionMatrix:Pt.getPerspective(),modelViewMatrix:It,modelMatrix:at.worldTransform,viewMatrix:Wt,cameraPosition:Pt.getPosition(),u_viewport:[xt,Nt]}),Vt.model&&(Vt.model.draw({uniforms:Lt.uniforms.reduce(function(Ht,Bt){return Ht[Bt.name]=Bt.data,Ht},{})}),Lt.uniforms.forEach(function(Ht){Ht.dirty=!1}),Lt.dirty=!1)}}}},{key:"initMesh",value:function(){var pt=O()(o.a.mark(function yt(Pt,Rt){var Wt,Vt,Lt,Ct,at,It,Ft,xt;return o.a.wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(Wt=this.mesh.getComponentByEntity(Pt),Wt){Ht.next=3;break}return Ht.abrupt("return");case 3:if(Vt=Wt.material,Lt=Wt.geometry,!(!Lt||Lt.dirty||!Vt)){Ht.next=7;break}return Ht.abrupt("return");case 7:if(Wt.model){Ht.next=24;break}if(Ct="m-".concat(Vt.entity,"-g-").concat(Lt.entity),!this.modelCache[Ct]){Ht.next=12;break}return Wt.model=this.modelCache[Ct],Ht.abrupt("return");case 12:return Vt.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),at=this.engine,It=at.createModel,Ft=at.createAttribute,xt={vs:Vt.vertexShaderGLSL,fs:Vt.fragmentShaderGLSL,defines:Vt.defines,attributes:Lt.attributes.reduce(function(Bt,Ut){return Ut.data&&Ut.buffer&&(Bt[Ut.name]=Ft({buffer:Ut.buffer,attributes:Ut.attributes,arrayStride:Ut.arrayStride,stepMode:Ut.stepMode,divisor:Ut.stepMode==="vertex"?0:1})),Bt},{}),uniforms:Vt.uniforms.reduce(function(Bt,Ut){return Bt[Ut.name]=Ut.data,Bt},{}),scissor:{enable:!0,box:function(){return Rt.getViewport()}}},Vt.cull&&(xt.cull=Vt.cull),Vt.depth&&(xt.depth=Vt.depth),Vt.blend&&(xt.blend=Vt.blend),Lt.indicesBuffer&&(xt.elements=Lt.indicesBuffer),Lt.maxInstancedCount&&(xt.instances=Lt.maxInstancedCount,xt.count=Lt.vertexCount||3),Ht.next=22,It(xt);case 22:Wt.model=Ht.sent,this.modelCache[Ct]=Wt.model;case 24:case"end":return Ht.stop()}},yt,this)}));function nt(yt,Pt){return pt.apply(this,arguments)}return nt}()},{key:"initView",value:function(){var pt=O()(o.a.mark(function yt(Pt){var Rt,Wt,Vt,Lt;return o.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:Rt=Pt.getScene(),Wt=lt(Rt.getEntities()),at.prev=2,Wt.s();case 4:if((Vt=Wt.n()).done){at.next=10;break}return Lt=Vt.value,at.next=8,this.initMesh(Lt,Pt);case 8:at.next=4;break;case 10:at.next=15;break;case 12:at.prev=12,at.t0=at.catch(2),Wt.e(at.t0);case 15:return at.prev=15,Wt.f(),at.finish(15);case 18:case"end":return at.stop()}},yt,this,[[2,12,15,18]])}));function nt(yt){return pt.apply(this,arguments)}return nt}()}]),H}(),ut.IDENTIFIER="Render Pass",st),ct=T()(ft.prototype,"mesh",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=T()(ft.prototype,"geometry",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=T()(ft.prototype,"material",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=T()(ft.prototype,"cullable",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=T()(ft.prototype,"transform",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=T()(ft.prototype,"hierarchy",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=T()(ft.prototype,"frameGraphSystem",[K,_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=T()(ft.prototype,"engine",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=T()(ft.prototype,"resourcePool",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft))||ot)},KAHC:function(jt,A,a){var f=a("spfM"),o=a("SOgk"),x=a("dVOP"),O=a("+Gi7");function C(P,b){var S=O(P)?f:o;return S(P,x(b))}jt.exports=C},"KC/J":function(jt,A,a){var f=a("zPMQ"),o=a("AmsH"),x=a("CG4S");function O(C){return o(C)?x(C):f(C)}jt.exports=O},KN8b:function(jt,A,a){"use strict";a.d(A,"b",function(){return S}),a.d(A,"a",function(){return y});var f=a("N2cT"),o=a("nHjW"),x=a("8DqP"),O=a("C20/"),C=a("0dxb"),P=a("BpQQ");function b(E){var m=E.chart,T=E.options,L=T.data,g=T.color,j=T.areaStyle,U=T.point,W=T.line,z=U==null?void 0:U.state,N=Object(C.a)(L);m.data(N);var I=Object(o.c)({},E,{options:{xField:O.c,yField:O.d,area:{color:g,style:j},line:W,point:U}}),B=Object(o.c)({},I,{options:{tooltip:!1}}),G=Object(o.c)({},I,{options:{tooltip:!1,state:z}});return Object(x.a)(I),Object(x.d)(B),Object(x.e)(G),m.axis(!1),m.legend(!1),E}function S(E){var m,T,L=E.options,g=L.xAxis,j=L.yAxis,U=L.data,W=Object(C.a)(U);return Object(o.f)(Object(f.f)((m={},m[O.c]=g,m[O.d]=j,m),(T={},T[O.c]={type:"cat"},T[O.d]=Object(P.a)(W,O.d),T)))(E)}function y(E){return Object(o.f)(b,S,f.k,f.j,f.a,Object(f.b)())(E)}},KtUI:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});function f(o){return o&&o.slice().reverse()}},L1jZ:function(jt,A,a){"use strict";a.r(A),a.d(A,"Area",function(){return et}),a.d(A,"Bar",function(){return nt}),a.d(A,"Box",function(){return ge}),a.d(A,"Bullet",function(){return Rt}),a.d(A,"Column",function(){return Lt}),a.d(A,"Funnel",function(){return It}),a.d(A,"Histogram",function(){return Nt}),a.d(A,"Line",function(){return Ut}),a.d(A,"Liquid",function(){return We}),a.d(A,"Heatmap",function(){return $e}),a.d(A,"Pie",function(){return xr}),a.d(A,"Progress",function(){return or}),a.d(A,"Radar",function(){return $r}),a.d(A,"RingProgress",function(){return Bn}),a.d(A,"Rose",function(){return ri}),a.d(A,"Chord",function(){return oa}),a.d(A,"Scatter",function(){return Vi}),a.d(A,"TinyArea",function(){return Ji}),a.d(A,"TinyColumn",function(){return pa}),a.d(A,"TinyLine",function(){return zo}),a.d(A,"Waterfall",function(){return ya}),a.d(A,"WordCloud",function(){return ls}),a.d(A,"Sunburst",function(){return li}),a.d(A,"DualAxes",function(){return co}),a.d(A,"Stock",function(){return Gs}),a.d(A,"RadialBar",function(){return se}),a.d(A,"Gauge",function(){return bn}),a.d(A,"Sankey",function(){return Xe}),a.d(A,"Treemap",function(){return hn}),a.d(A,"MultiView",function(){return xn}),a.d(A,"Mix",function(){return xn}),a.d(A,"BidirectionalBar",function(){return sa}),a.d(A,"OrganizationTreeGraph",function(){return mb}),a.d(A,"DagreGraph",function(){return bb}),a.d(A,"IndentedTree",function(){return Ob}),a.d(A,"DagreFundFlowGraph",function(){return Eb}),a.d(A,"IndentedTreeGraph",function(){return Tb}),a.d(A,"OrganizationalGraph",function(){return Pb}),a.d(A,"RadialGraph",function(){return Ib}),a.d(A,"G2",function(){return L.G2}),a.d(A,"flow",function(){return L.flow}),a.d(A,"measureTextWidth",function(){return L.measureTextWidth}),a.d(A,"adaptors",function(){return L.adaptors});var f={};a.r(f),a.d(f,"getAdjMatrix",function(){return Ha}),a.d(f,"breadthFirstSearch",function(){return Ws}),a.d(f,"connectedComponent",function(){return As}),a.d(f,"getDegree",function(){return Ds}),a.d(f,"getInDegree",function(){return bl}),a.d(f,"getOutDegree",function(){return Ol}),a.d(f,"detectCycle",function(){return Fe}),a.d(f,"detectDirectedCycle",function(){return Su}),a.d(f,"detectAllCycles",function(){return je}),a.d(f,"detectAllDirectedCycle",function(){return xe}),a.d(f,"detectAllUndirectedCycle",function(){return de}),a.d(f,"depthFirstSearch",function(){return Qt}),a.d(f,"dijkstra",function(){return Ze}),a.d(f,"findAllPath",function(){return Tr}),a.d(f,"findShortestPath",function(){return Pr}),a.d(f,"floydWarshall",function(){return pn}),a.d(f,"labelPropagation",function(){return Pn}),a.d(f,"louvain",function(){return qn}),a.d(f,"minimumSpanningTree",function(){return zi}),a.d(f,"pageRank",function(){return Me}),a.d(f,"getNeighbors",function(){return Ma}),a.d(f,"Stack",function(){return cc}),a.d(f,"GADDI",function(){return ch}),a.d(f,"default",function(){return zl});var o={};a.r(o),a.d(o,"compare",function(){return gf}),a.d(o,"getLineIntersect",function(){return kl}),a.d(o,"getRectIntersectByPoint",function(){return Mu}),a.d(o,"getCircleIntersectByPoint",function(){return dc}),a.d(o,"getEllipseIntersectByPoint",function(){return vc}),a.d(o,"applyMatrix",function(){return Is}),a.d(o,"invertMatrix",function(){return pf}),a.d(o,"getCircleCenterByPoints",function(){return eo}),a.d(o,"distance",function(){return gc}),a.d(o,"scaleMatrix",function(){return fd}),a.d(o,"floydWarshall",function(){return yf}),a.d(o,"getAdjMatrix",function(){return ks}),a.d(o,"translate",function(){return ea}),a.d(o,"move",function(){return pc}),a.d(o,"scale",function(){return hd}),a.d(o,"rotate",function(){return mf}),a.d(o,"getDegree",function(){return Vs}),a.d(o,"isPointInPolygon",function(){return nl}),a.d(o,"intersectBBox",function(){return Ka}),a.d(o,"isPolygonsIntersect",function(){return xl}),a.d(o,"Line",function(){return il}),a.d(o,"getBBoxBoundLine",function(){return Vl}),a.d(o,"itemIntersectByLine",function(){return bf}),a.d(o,"fractionToLine",function(){return bs}),a.d(o,"getPointsCenter",function(){return yc}),a.d(o,"squareDist",function(){return Hs}),a.d(o,"pointLineSquareDist",function(){return io}),a.d(o,"isPointsOverlap",function(){return Cu}),a.d(o,"pointRectSquareDist",function(){return Of}),a.d(o,"pointLineDistance",function(){return El});var x={};a.r(x),a.d(x,"getBBox",function(){return Du}),a.d(x,"getLoopCfgs",function(){return Mf}),a.d(x,"getLabelPosition",function(){return Xl}),a.d(x,"traverseTree",function(){return wo}),a.d(x,"traverseTreeUp",function(){return Rs}),a.d(x,"getLetterWidth",function(){return Os}),a.d(x,"getTextSize",function(){return Pu}),a.d(x,"plainCombosToTrees",function(){return qi}),a.d(x,"reconstructTree",function(){return Sl}),a.d(x,"getComboBBox",function(){return Ml}),a.d(x,"shouldRefreshEdge",function(){return Af}),a.d(x,"cloneBesidesImg",function(){return Hl});var O={};a.r(O),a.d(O,"uniqueId",function(){return Df}),a.d(O,"formatPadding",function(){return Iu}),a.d(O,"cloneEvent",function(){return md}),a.d(O,"isViewportChanged",function(){return Lu}),a.d(O,"isNaN",function(){return Yl}),a.d(O,"calculationItemsBBox",function(){return gh}),a.d(O,"processParallelEdges",function(){return yv});var C={};a.r(C),a.d(C,"getSpline",function(){return jc}),a.d(C,"getControlPoint",function(){return Fu}),a.d(C,"pointsToPolygon",function(){return Ch}),a.d(C,"pathToPoints",function(){return Gu}),a.d(C,"getClosedSpline",function(){return Uu}),a.d(C,"roundedHull",function(){return Wu}),a.d(C,"paddedHull",function(){return Bc});var P={};a.r(P),a.d(P,"defaultSubjectColors",function(){return Rh});var b={};a.r(b),a.d(b,"leftTranslate",function(){return fl}),a.d(b,"leftRotate",function(){return Kf}),a.d(b,"leftScale",function(){return Zs}),a.d(b,"transform",function(){return wh}),a.d(b,"direction",function(){return Xc}),a.d(b,"angleTo",function(){return Pd}),a.d(b,"vertical",function(){return Id});var S={};a.r(S),a.d(S,"mixColor",function(){return Na}),a.d(S,"getColorsWithSubjectColor",function(){return $f}),a.d(S,"getColorSetsBySubjectColors",function(){return Qf});var y={};a.r(y),a.d(y,"proccessToFunc",function(){return HE}),a.d(y,"buildTextureData",function(){return YE}),a.d(y,"buildTextureDataWithOneEdgeAttr",function(){return KE}),a.d(y,"buildTextureDataWithTwoEdgeAttr",function(){return _E}),a.d(y,"attributesToTextureData",function(){return ZE}),a.d(y,"arrayToTextureData",function(){return $E}),a.d(y,"radialLayout",function(){return QE});var E={};a.r(E),a.d(E,"gpuDetector",function(){return M0});var m=a("T9Mk"),T=a.n(m),L=a("U0TO"),g=a("jg4I"),j=function(n,t){var e={}.toString;return e.call(n)==="[object "+t+"]"},U=function(n){if(!n)return n;var t={};for(var e in n)t[e]=n[e];return t},W=function u(n){if(!n)return n;var t=new n.constructor,e=function(l){return Object.prototype.toString.call(l).slice(8,-1)};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r])==="Object"||e(n[r])==="Array"?u(n[r]):n[r]);return t},z=function(n,t){for(var e=n,r=0;r<t.length;r+=1)if(e==null?void 0:e[t[r]])e=e[t[r]];else{e=void 0;break}return e},N=function(n,t,e){if(!n)return n;var r=n;return t.forEach(function(i,l){l<t.length-1?r=r[i]:r[i]=e}),n},I={isType:j,clone:U,hasPath:z,setPath:N,deepClone:W},B=a("d0GS"),G=a.n(B),k=function(n,t){var e=document.createElement("div");return t==="tooltip"&&(e.className="g2-tooltip"),G.a.render(n,e),e},V=k,tt=function(){return tt=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},tt.apply(this,arguments)},Q=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t};function K(u,n){var t=Object(m.useRef)(),e=Object(m.useRef)(),r=Object(m.useRef)(null),i=n.onReady,l=n.onEvent,d=function(Z,J){var it;return Z===void 0&&(Z="image/png"),(it=t.current)===null||it===void 0?void 0:it.chart.canvas.cfg.el.toDataURL(Z,J)},v=function(Z,J,it){var dt;Z===void 0&&(Z="download"),J===void 0&&(J="image/png");var bt=Z;Z.indexOf(".")===-1&&(bt=Z+"."+J.split("/")[1]);var Dt=(dt=t.current)===null||dt===void 0?void 0:dt.chart.canvas.cfg.el.toDataURL(J,it),At=document.createElement("a");return At.href=Dt,At.download=bt,document.body.appendChild(At),At.click(),document.body.removeChild(At),At=null,bt},D=function(Z,J,it){var dt=I.hasPath,bt=I.setPath,Dt=dt(Z,J);bt(Z,J,function(){for(var At=[],wt=0;wt<arguments.length;wt++)At[wt]=arguments[wt];var zt=I.isType(Dt,"Function")?Dt.apply(void 0,At):Dt;return I.isType(zt,"String")||I.isType(zt,"Number")||I.isType(zt,"HTMLDivElement")?zt:V(zt,it)})},R=function(){var Z=I.hasPath;Z(n,["statistic","content","customHtml"])&&D(n,["statistic","content","customHtml"]),Z(n,["statistic","title","customHtml"])&&D(n,["statistic","title","customHtml"]),typeof n.tooltip=="object"&&(Z(n,["tooltip","container"])&&D(n,["tooltip","container"],"tooltip"),Z(n,["tooltip","customContent"])&&D(n,["tooltip","customContent"],"tooltip"))};return Object(m.useEffect)(function(){if(t.current&&!Object(g.isEqual)(e.current,n)){var F=!1;if(e.current){var Z=e.current,J=Z.data,it=Z.value,dt=Z.percent,bt=Q(Z,["data","value","percent"]),Dt=n.data,At=n.value,wt=n.percent,zt=Q(n,["data","value","percent"]);F=Object(g.isEqual)(bt,zt)}if(F){var Kt="data",$t=["percent"],ee=Object.keys(n);$t.forEach(function(re){ee.includes(re)&&(Kt=re)}),t.current.changeData((n==null?void 0:n[Kt])||[])}else R(),t.current.update(n);e.current=I.deepClone(n)}},[n]),Object(m.useEffect)(function(){if(!r.current)return function(){return null};R();var F=new u(r.current,tt({},n));u.prototype.toDataURL=function(J,it){return d(J,it)},u.prototype.downloadImage=function(J,it,dt){return v(J,it,dt)},F.render(),e.current||(e.current=I.deepClone(n)),t.current=I.clone(F),i&&i(F);var Z=function(it){l&&l(F,it)};return F.on("*",Z),function(){t.current&&(t.current.destroy(),t.current.off("*",Z),t.current=void 0)}},[]),{chart:t,container:r}}var _=function(n,t){!n||(Object(g.isFunction)(n)?n(t):n.current=t)},Y=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q=function(u){Y(n,u);function n(){var t=u!==null&&u.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(e){var r=t.props.errorTemplate;switch(e){default:return r&&typeof r=="function"?r(e):T.a.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",e.message)}},t}return n.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},n.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},n.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):T.a.createElement(m.Fragment,null,this.props.children)},n}(T.a.Component),ot=q;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ft=function(){return ft=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},ft.apply(this,arguments)};function ct(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t}var rt=function(){return Math.random().toString(36).substring(6)},gt=function(n){var t=n.animate,e=n.backgroundColor,r=n.backgroundOpacity,i=n.baseUrl,l=n.children,d=n.foregroundColor,v=n.foregroundOpacity,D=n.gradientRatio,R=n.uniqueKey,F=n.interval,Z=n.rtl,J=n.speed,it=n.style,dt=n.title,bt=ct(n,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),Dt=R||rt(),At=Dt+"-diff",wt=Dt+"-animated-diff",zt=Dt+"-aria",Kt=Z?{transform:"scaleX(-1)"}:null,$t="0; "+F+"; 1",ee=J+"s";return Object(m.createElement)("svg",ft({"aria-labelledby":zt,role:"img",style:ft(ft({},it),Kt)},bt),dt?Object(m.createElement)("title",{id:zt},dt):null,Object(m.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+At+")",style:{fill:"url("+i+"#"+wt+")"}}),Object(m.createElement)("defs",{role:"presentation"},Object(m.createElement)("clipPath",{id:At},l),Object(m.createElement)("linearGradient",{id:wt},Object(m.createElement)("stop",{offset:"0%",stopColor:e,stopOpacity:r},t&&Object(m.createElement)("animate",{attributeName:"offset",values:-D+"; "+-D+"; 1",keyTimes:$t,dur:ee,repeatCount:"indefinite"})),Object(m.createElement)("stop",{offset:"50%",stopColor:d,stopOpacity:v},t&&Object(m.createElement)("animate",{attributeName:"offset",values:-D/2+"; "+-D/2+"; "+(1+D/2),keyTimes:$t,dur:ee,repeatCount:"indefinite"})),Object(m.createElement)("stop",{offset:"100%",stopColor:e,stopOpacity:r},t&&Object(m.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+D),keyTimes:$t,dur:ee,repeatCount:"indefinite"})))))};gt.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var Et=function(n){return n.children?Object(m.createElement)(gt,ft({},n)):Object(m.createElement)(Gt,ft({},n))},Gt=function(n){return Object(m.createElement)(Et,ft({viewBox:"0 0 476 124"},n),Object(m.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(m.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(m.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(m.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(m.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(m.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},Yt=function(n){return Object(m.createElement)(Et,ft({viewBox:"0 0 400 460"},n),Object(m.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(m.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(m.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(m.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},Xt=function(n){return Object(m.createElement)(Et,ft({viewBox:"0 0 340 84"},n),Object(m.createElement)("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),Object(m.createElement)("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),Object(m.createElement)("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),Object(m.createElement)("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),Object(m.createElement)("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),Object(m.createElement)("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),Object(m.createElement)("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),Object(m.createElement)("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},vt=function(n){return Object(m.createElement)(Et,ft({viewBox:"0 0 400 110"},n),Object(m.createElement)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),Object(m.createElement)("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),Object(m.createElement)("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),Object(m.createElement)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),Object(m.createElement)("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),Object(m.createElement)("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},mt=function(n){return Object(m.createElement)(Et,ft({viewBox:"0 0 245 125"},n),Object(m.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(m.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(m.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(m.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(m.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(m.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(m.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(m.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},ut=Et,st=function(n){var t=n.loadingTemplate,e=function(){return t||T.a.createElement(ut,{viewBox:"0 0 400 180",width:200,height:90,speed:1},T.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),T.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),T.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),T.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),T.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),T.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),T.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),T.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),T.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),T.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return T.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},e())},lt=st,Tt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ot=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Tt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Area,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),et=Ot,H=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},pt=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=H(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Bar,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),nt=pt,yt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Pt=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=yt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Bullet,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Rt=Pt,Wt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Vt=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Wt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Column,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Lt=Vt,Ct=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},at=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Ct(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Funnel,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),It=at,Ft=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},xt=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Ft(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Histogram,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Nt=xt,Ht=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Bt=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Ht(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Line,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Ut=Bt,Jt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},oe=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Jt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Box,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),ge=oe,Ce=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ie=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Ce(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Liquid,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),We=Ie,lr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},rr=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=lr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Heatmap,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),$e=rr,Ue=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ir=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Ue(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Pie,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),xr=ir,nr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},tn=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=nr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Gauge,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),bn=tn,Ur=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Le=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Ur(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Progress,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),or=Le,Gr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Kr=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Gr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Radar,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),$r=Kr,jn=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Qn=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=jn(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.RingProgress,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Bn=Qn,Nn=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Xn=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Nn(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Rose,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),ri=Xn,In=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},gi=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=In(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Chord,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),oa=gi,wa=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ea=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=wa(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Scatter,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Vi=Ea,fa=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Li=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=fa(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.TinyArea,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Ji=Li,Xi=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Hi=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Xi(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.TinyColumn,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),pa=Hi,uo=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Mo=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=uo(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.DualAxes,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),co=Mo,Sa=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Wo=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Sa(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.TinyLine,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),zo=Wo,ko=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},yl=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=ko(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Waterfall,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),ya=yl,ml=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ms=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=ml(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.WordCloud,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),ls=Ms,Cs=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},qs=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Cs(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Sunburst,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),li=qs,Fl=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Vo=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Fl(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Stock,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Gs=Vo,Us=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},pe=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Us(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.RadialBar,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),se=pe,ye=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ke=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=ye(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Sankey,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),Xe=ke,hr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Wr=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=hr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Treemap,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),hn=Wr,Vn=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ln=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Vn(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.Mix,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),xn=Ln,Fi=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ji=Object(m.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,i=u.className,l=u.loading,d=u.loadingTemplate,v=u.errorTemplate,D=Fi(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),R=K(L.BidirectionalBar,D),F=R.chart,Z=R.container;return Object(m.useEffect)(function(){_(t,F.current)},[F.current]),Object(m.useImperativeHandle)(n,function(){return{getChart:function(){return F.current}}}),T.a.createElement(ot,{errorTemplate:v},l&&T.a.createElement(lt,{loadingTemplate:d}),T.a.createElement("div",{className:i,style:r,ref:Z}))}),sa=ji,he=a("CMID"),Ia={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(n){return Object.assign(this,n),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(n){var t=this,e=this.events;this.graph=n,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!0),Object(g.each)(e,function(r,i){n.on(i,r)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(n){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!1),Object(g.each)(t,function(e,r){n.off(r,e)})},get:function(n){return this[n]},set:function(n,t){return this[n]=t,this}},fo=function(){function u(){}return u.registerBehavior=function(n,t){if(!t)throw new Error("please specify handler for this behavior: "+n);var e=Object(g.clone)(Ia);Object.assign(e,t);var r=function(l){var d=this;Object.assign(this,this.getDefaultCfg(),l);var v=this.getEvents();this.events=null;var D={};v&&(Object(g.each)(v,function(R,F){D[F]=Object(g.wrapBehavior)(d,R)}),this.events=D)};r.prototype=e,u.types[n]=r},u.hasBehavior=function(n){return!!u.types[n]},u.getBehavior=function(n){return u.types[n]},u.types={},u}(),ho=fo,Ba=ho,Xo=a("nZiY"),Gn=a("sxZn"),Xa=function(n,t){var e=n.nodes,r=n.edges,i=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(d,v){l[d.id]=v;var D=[];i.push(D)}),r&&r.forEach(function(d){var v=d.source,D=d.target,R=l[v],F=l[D];!R&&R!==0||!F&&F!==0||(i[R][F]=1,t||(i[F][R]=1))}),i},Ha=Xa,Ya=function(n,t){return n===t},jo=function(){function u(n,t){t===void 0&&(t=null),this.value=n,this.next=t}return u.prototype.toString=function(n){return n?n(this.value):""+this.value},u}(),$o=function(){function u(n){n===void 0&&(n=Ya),this.head=null,this.tail=null,this.compare=n}return u.prototype.prepend=function(n){var t=new jo(n,this.head);return this.head=t,this.tail||(this.tail=t),this},u.prototype.append=function(n){var t=new jo(n);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},u.prototype.delete=function(n){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,n);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare(e.next.value,n)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare(this.tail.value,n)&&(this.tail=e),t},u.prototype.find=function(n){var t=n.value,e=t===void 0?void 0:t,r=n.callback,i=r===void 0?void 0:r;if(!this.head)return null;for(var l=this.head;l;){if(i&&i(l.value)||e!==void 0&&this.compare(l.value,e))return l;l=l.next}return null},u.prototype.deleteTail=function(){var n=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,n;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,n},u.prototype.deleteHead=function(){if(!this.head)return null;var n=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),n},u.prototype.fromArray=function(n){var t=this;return n.forEach(function(e){return t.append(e)}),this},u.prototype.toArray=function(){for(var n=[],t=this.head;t;)n.push(t),t=t.next;return n},u.prototype.reverse=function(){for(var n=this.head,t=null,e=null;n;)e=n.next,n.next=t,t=n,n=e;this.tail=this.head,this.head=t},u.prototype.toString=function(n){return n===void 0&&(n=void 0),this.toArray().map(function(t){return t.toString(n)}).toString()},u}(),ps=$o,Co=function(){function u(){this.linkedList=new ps}return u.prototype.isEmpty=function(){return!this.linkedList.head},u.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},u.prototype.enqueue=function(n){this.linkedList.append(n)},u.prototype.dequeue=function(){var n=this.linkedList.deleteHead();return n?n.value:null},u.prototype.toString=function(n){return this.linkedList.toString(n)},u}(),us=Co,Ma=function(n,t,e){t===void 0&&(t=[]);var r=t.filter(function(v){return v.source===n||v.target===n});if(e==="target"){var i=function(D){return D.source===n};return r.filter(i).map(function(v){return v.target})}if(e==="source"){var l=function(D){return D.target===n};return r.filter(l).map(function(v){return v.source})}var d=function(D){return D.source===n?D.target:D.source};return r.map(d)},Ho=function(n,t){return t.filter(function(e){return e.source===n})},ys=function(n,t){return t.filter(function(e){return e.source===n||e.target===n})},bo=function(n){n===void 0&&(n=0);var t=(""+Math.random()).split(".")[1].substr(0,5),e=(""+Math.random()).split(".")[1].substr(0,5);return n+"-"+t+e};function tl(u){u===void 0&&(u={});var n=u,t=function(){},e=function(){var r={};return function(i){var l=i.next,d=l;return r[d]?!1:(r[d]=!0,!0)}}();return n.allowTraversal=u.allowTraversal||e,n.enter=u.enter||t,n.leave=u.leave||t,n}var Qo=function(n,t,e){var r=tl(e),i=new us,l=n.edges,d=l===void 0?[]:l;i.enqueue(t);for(var v="",D=function(){var F=i.dequeue();r.enter({current:F,previous:v}),Ma(F,d,"target").forEach(function(Z){r.allowTraversal({previous:v,current:F,next:Z})&&i.enqueue(Z)}),r.leave({current:F,previous:v}),v=F};!i.isEmpty();)D()},Ws=Qo,Yo=function(n){for(var t=n.nodes,e=t===void 0?[]:t,r=n.edges,i=r===void 0?[]:r,l=[],d={},v=[],D=function J(it){v.push(it),d[it.id]=!0;for(var dt=Ma(it.id,i),bt=function(wt){var zt=dt[wt];if(!d[zt]){var Kt=e.filter(function($t){return $t.id===zt});Kt.length>0&&J(Kt[0])}},Dt=0;Dt<dt.length;++Dt)bt(Dt)},R=0;R<e.length;R++){var F=e[R];if(!d[F.id]){D(F);for(var Z=[];v.length>0;)Z.push(v.pop());l.push(Z)}}return l},Jo=function(n){for(var t=n.nodes,e=t===void 0?[]:t,r=n.edges,i=r===void 0?[]:r,l=[],d={},v={},D={},R=[],F=0,Z=function bt(Dt){v[Dt.id]=F,D[Dt.id]=F,F+=1,l.push(Dt),d[Dt.id]=!0;for(var At=Ma(Dt.id,i,"target").filter(function(ee){return e.map(function(re){return re.id}).indexOf(ee)>-1}),wt=function(re){var fe=At[re];if(!v[fe]&&v[fe]!==0){var ce=e.filter(function(Ae){return Ae.id===fe});ce.length>0&&bt(ce[0]),D[Dt.id]=Math.min(D[Dt.id],D[fe])}else d[fe]&&(D[Dt.id]=Math.min(D[Dt.id],v[fe]))},zt=0;zt<At.length;zt++)wt(zt);if(D[Dt.id]===v[Dt.id]){for(var Kt=[];l.length>0;){var $t=l.pop();if(d[$t.id]=!1,Kt.push($t),$t===Dt)break}Kt.length>0&&R.push(Kt)}},J=0,it=e;J<it.length;J++){var dt=it[J];!v[dt.id]&&v[dt.id]!==0&&Z(dt)}return R};function As(u,n){return n?Jo(u):Yo(u)}var Ts=function(n){var t={},e=n.nodes,r=e===void 0?[]:e,i=n.edges,l=i===void 0?[]:i;return r.forEach(function(d){t[d.id]={degree:0,inDegree:0,outDegree:0}}),l.forEach(function(d){t[d.source].degree++,t[d.source].outDegree++,t[d.target].degree++,t[d.target].inDegree++}),t},Ds=Ts,bl=function(n,t){var e=Ts(n);return e[t]?Ts(n)[t].inDegree:0},Ol=function(n,t){var e=Ts(n);return e[t]?Ts(n)[t].outDegree:0};function X(u){u===void 0&&(u={});var n=u,t=function(){},e=function(){var r={};return function(i){var l=i.next;return r[l]?!1:(r[l]=!0,!0)}}();return n.allowTraversal=u.allowTraversal||e,n.enter=u.enter||t,n.leave=u.leave||t,n}function Mt(u,n,t,e){e.enter({current:n,previous:t});var r=u.edges,i=r===void 0?[]:r;Ma(n,i,"target").forEach(function(l){e.allowTraversal({previous:t,current:n,next:l})&&Mt(u,l,n,e)}),e.leave({current:n,previous:t})}function Qt(u,n,t){Mt(u,n,"",X(t))}var ae=function(n){var t=null,e=n.nodes,r=e===void 0?[]:e,i={},l={},d={},v={};r.forEach(function(F){l[F.id]=F});for(var D={enter:function(Z){var J=Z.current,it=Z.previous;if(d[J]){t={};for(var dt=J,bt=it;bt!==J;)t[dt]=bt,dt=bt,bt=i[bt];t[dt]=bt}else d[J]=J,delete l[J],i[J]=it},leave:function(Z){var J=Z.current;v[J]=J,delete d[J]},allowTraversal:function(Z){var J=Z.next;return t?!1:!v[J]}};Object.keys(l).length;){var R=Object.keys(l)[0];Qt(n,R,D)}return t},de=function(n,t,e){var r,i;e===void 0&&(e=!0);for(var l=[],d=As(n,!1),v=0,D=d;v<D.length;v++){var R=D[v];if(!!R.length)for(var F=R[0],Z=F.id,J=[F],it=(r={},r[Z]=F,r),dt=(i={},i[Z]=new Set,i);J.length>0;)for(var bt=J.pop(),Dt=bt.id,At=Ma(Dt,n.edges),wt=function($t){var ee,re=At[$t],fe=n.nodes.find(function(gr){return gr.id===re});if(re===Dt)l.push((ee={},ee[re]=bt,ee));else if(!(re in dt))it[re]=bt,J.push(fe),dt[re]=new Set([bt]);else if(!dt[Dt].has(fe)){for(var ce=!0,Ae=[fe,bt],Te=it[Dt];dt[re].size&&!dt[re].has(Te)&&(Ae.push(Te),Te!==it[Te.id]);)Te=it[Te.id];if(Ae.push(Te),t&&e?(ce=!1,Ae.findIndex(function(gr){return t.indexOf(gr.id)>-1})>-1&&(ce=!0)):t&&!e&&Ae.findIndex(function(gr){return t.indexOf(gr.id)>-1})>-1&&(ce=!1),ce){for(var cr={},fr=1;fr<Ae.length;fr+=1)cr[Ae[fr-1].id]=Ae[fr];Ae.length&&(cr[Ae[Ae.length-1].id]=Ae[0]),l.push(cr)}dt[re].add(bt)}},zt=0;zt<At.length;zt+=1)wt(zt)}return l},xe=function(n,t,e){e===void 0&&(e=!0);for(var r=[],i=new Set,l=[],d=[],v={},D={},R=function(Te){for(var cr=[Te];cr.length>0;){var fr=cr.pop();i.has(fr)&&(i.delete(fr),l[fr.id].forEach(function(gr){cr.push(gr)}),l[fr.id].clear())}},F=function Ae(Te,cr,fr){var gr=!1;if(t&&e===!1&&t.indexOf(Te.id)>-1)return gr;r.push(Te),i.add(Te);for(var qr=fr[Te.id],kr=0;kr<qr.length;kr+=1){var Nr=v[qr[kr]];if(Nr===cr){for(var Fr={},Ir=1;Ir<r.length;Ir+=1)Fr[r[Ir-1].id]=r[Ir];r.length&&(Fr[r[r.length-1].id]=r[0]),d.push(Fr),gr=!0}else i.has(Nr)||Ae(Nr,cr,fr)&&(gr=!0)}if(gr)R(Te);else for(var kr=0;kr<qr.length;kr+=1){var Nr=v[qr[kr]];l[Nr.id].has(Te)||l[Nr.id].add(Te)}return r.pop(),gr},Z=n.nodes,J=Z===void 0?[]:Z,it=0;it<J.length;it+=1){var dt=J[it],bt=dt.id;D[bt]=it,v[it]=dt}if(t&&e)for(var Dt=function(Te){var cr=t[Te];D[J[Te].id]=D[cr],D[cr]=0,v[0]=J.find(function(fr){return fr.id===cr}),v[D[J[Te].id]]=J[Te]},it=0;it<t.length;it++)Dt(it);for(var At=function(Te){for(var cr,fr,gr=Infinity,qr=0;qr<Te.length;qr+=1)for(var kr=Te[qr],Nr=0;Nr<kr.length;Nr++){var Fr=D[kr[Nr].id];Fr<gr&&(gr=Fr,fr=qr)}for(var Ir=Te[fr],Sr=[],qr=0;qr<Ir.length;qr+=1){var Xr=Ir[qr];Sr[Xr.id]=[];for(var en=0,Ar=Ma(Xr.id,n.edges,"target").filter(function(Rn){return Ir.map(function(wn){return wn.id}).indexOf(Rn)>-1});en<Ar.length;en++){var Dr=Ar[en];Dr===Xr.id&&!(e===!1&&t.indexOf(Xr.id)>-1)?d.push((cr={},cr[Xr.id]=Xr,cr)):Sr[Xr.id].push(D[Dr])}}return{component:Ir,adjList:Sr,minIdx:gr}},wt=0;wt<J.length;){var zt=J.filter(function(Ae){return D[Ae.id]>=wt}),Kt=Jo({nodes:zt,edges:n.edges}).filter(function(Ae){return Ae.length>1});if(Kt.length===0)break;var $t=At(Kt),ee=$t.minIdx,re=$t.adjList,fe=$t.component;if(fe.length>1){fe.forEach(function(Ae){l[Ae.id]=new Set});var ce=v[ee];if(t&&e&&t.indexOf(ce.id)===-1)return d;F(ce,ce,re),wt=ee+1}else break}return d},je=function(n,t,e,r){return r===void 0&&(r=!0),t?xe(n,e,r):de(n,e,r)},Fe=ae,ze=function(n,t,e){for(var r=Infinity,i,l=0;l<t.length;l++){var d=t[l].id;!e[d]&&n[d]<=r&&(r=n[d],i=t[l])}return i},Qe=function(n,t,e,r){var i=n.nodes,l=i===void 0?[]:i,d=n.edges,v=d===void 0?[]:d,D=[],R={},F={},Z={};l.forEach(function(wt,zt){var Kt=wt.id;D.push(Kt),F[Kt]=Infinity,Kt===t&&(F[Kt]=0)});for(var J=l.length,it=function(zt){var Kt=ze(F,l,R),$t=Kt.id;if(R[$t]=!0,F[$t]===Infinity)return"continue";var ee=[];e?ee=Ho($t,v):ee=ys($t,v),ee.forEach(function(re){var fe=re.target,ce=re.source,Ae=fe===$t?ce:fe,Te=r&&re[r]?re[r]:1;F[Ae]>F[Kt.id]+Te?(F[Ae]=F[Kt.id]+Te,Z[Ae]=[Kt.id]):F[Ae]===F[Kt.id]+Te&&Z[Ae].push(Kt.id)})},dt=0;dt<J;dt++)it(dt);Z[t]=[t];var bt={};for(var Dt in F)F[Dt]!==Infinity&&jr(t,Dt,Z,bt);var At={};for(var Dt in bt)At[Dt]=bt[Dt][0];return{length:F,path:At,allPath:bt}},Ze=Qe;function jr(u,n,t,e){if(u===n)return[u];if(e[n])return e[n];for(var r=[],i=0,l=t[n];i<l.length;i++){var d=l[i],v=jr(u,d,t,e);if(!v)return;for(var D=0,R=v;D<R.length;D++){var F=R[D];Object(g.isArray)(F)?r.push(Object(he.__spreadArray)(Object(he.__spreadArray)([],F),[n])):r.push([F,n])}}return e[n]=r,e[n]}var Pr=function(n,t,e,r,i){var l=Ze(n,t,r,i),d=l.length,v=l.path,D=l.allPath;return{length:d[e],path:v[e],allPath:D[e]}},Tr=function(n,t,e,r){var i;if(t===e)return[[t]];var l=n.edges,d=l===void 0?[]:l,v=[t],D=(i={},i[t]=!0,i),R=[],F=[],Z=r?Ma(t,d,"target"):Ma(t,d);for(R.push(Z);v.length>0&&R.length>0;){var J=R[R.length-1];if(J.length){var it=J.shift();it&&(v.push(it),D[it]=!0,Z=r?Ma(it,d,"target"):Ma(it,d),R.push(Z.filter(function(Dt){return!D[Dt]})))}else{var dt=v.pop();D[dt]=!1,R.pop();continue}if(v[v.length-1]===e){var bt=v.map(function(At){return At});F.push(bt);var dt=v.pop();D[dt]=!1,R.pop()}}return F},un=function(n,t){for(var e=Ha(n,t),r=[],i=e.length,l=0;l<i;l+=1){r[l]=[];for(var d=0;d<i;d+=1)l===d?r[l][d]=0:e[l][d]===0||!e[l][d]?r[l][d]=Infinity:r[l][d]=e[l][d]}for(var v=0;v<i;v+=1)for(var l=0;l<i;l+=1)for(var d=0;d<i;d+=1)r[l][d]>r[l][v]+r[v][d]&&(r[l][d]=r[l][v]+r[v][d]);return r},pn=un,zr=function(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e="weight"),r===void 0&&(r=1e3);var i=n.nodes,l=i===void 0?[]:i,d=n.edges,v=d===void 0?[]:d,D={},R={};l.forEach(function(zt,Kt){var $t=bo();zt.clusterId=$t,D[$t]={id:$t,nodes:[zt]},R[zt.id]={node:zt,idx:Kt}});var F=Ha(n,t),Z=[],J={};F.forEach(function(zt,Kt){var $t=0,ee=l[Kt].id;J[ee]={},zt.forEach(function(re,fe){if(!!re){$t+=re;var ce=l[fe].id;J[ee][ce]=re}}),Z.push($t)});for(var it=0,dt=function(){var Kt=!1;if(l.forEach(function($t){var ee={};Object.keys(J[$t.id]).forEach(function(gr){var qr=J[$t.id][gr],kr=R[gr].node,Nr=kr.clusterId;ee[Nr]||(ee[Nr]=0),ee[Nr]+=qr});var re=-Infinity,fe=[];if(Object.keys(ee).forEach(function(gr){re<ee[gr]?(re=ee[gr],fe=[gr]):re===ee[gr]&&fe.push(gr)}),!(fe.length===1&&fe[0]===$t.clusterId)){var ce=fe.indexOf($t.clusterId);if(ce>=0&&fe.splice(ce,1),fe&&fe.length){Kt=!0;var Ae=D[$t.clusterId],Te=Ae.nodes.indexOf($t);Ae.nodes.splice(Te,1);var cr=Math.floor(Math.random()*fe.length),fr=D[fe[cr]];fr.nodes.push($t),$t.clusterId=fr.id}}}),!Kt)return"break";it++};it<r;){var bt=dt();if(bt==="break")break}Object.keys(D).forEach(function(zt){var Kt=D[zt];(!Kt.nodes||!Kt.nodes.length)&&delete D[zt]});var Dt=[],At={};v.forEach(function(zt){var Kt=zt.source,$t=zt.target,ee=zt[e]||1,re=R[Kt].node.clusterId,fe=R[$t].node.clusterId,ce=re+"---"+fe;if(At[ce])At[ce].weight+=ee,At[ce].count++;else{var Ae={source:re,target:fe,weight:ee,count:1};At[ce]=Ae,Dt.push(Ae)}});var wt=[];return Object.keys(D).forEach(function(zt){wt.push(D[zt])}),{clusters:wt,clusterEdges:Dt}},Pn=zr,Si=function(n,t,e,r){for(var i=t.length,l=2*r,d=0,v=0;v<i;v++)for(var D=n[v].clusterId,R=0;R<i;R++){var F=n[R].clusterId;if(D===F){var Z=t[v][R]||0,J=e[v]||0,it=e[R]||0;d+=Z-J*it/l}}return d*=1/l,d},Jn=function(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e="weight"),r===void 0&&(r=1e-4);var i=n.nodes,l=i===void 0?[]:i,d=n.edges,v=d===void 0?[]:d,D=1,R={},F={};l.forEach(function(re,fe){var ce=String(D++);re.clusterId=ce,R[ce]={id:ce,nodes:[re]},F[re.id]={node:re,idx:fe}});var Z=Ha(n,t),J=[],it={},dt=0;Z.forEach(function(re,fe){var ce=0,Ae=l[fe].id;it[Ae]={},re.forEach(function(Te,cr){if(!!Te){ce+=Te;var fr=l[cr].id;it[Ae][fr]=Te,dt+=Te}}),J.push(ce)}),dt/=2;for(var bt=Infinity,Dt=Infinity,At=0;bt=Si(l,Z,J,dt),!(Math.abs(bt-Dt)<r||At>100);)Dt=bt,At++,Object.keys(R).forEach(function(re){var fe=0;v.forEach(function(ce){var Ae=ce.source,Te=ce.target,cr=F[Ae].node.clusterId,fr=F[Te].node.clusterId;(cr===re&&fr!==re||fr===re&&cr!==re)&&(fe=fe+(ce[e]||1))}),R[re].sumTot=fe}),l.forEach(function(re,fe){var ce=R[re.clusterId],Ae=0,Te,cr=J[fe]/(2*dt),fr=0,gr=ce.nodes;gr.forEach(function(Xr){var en=F[Xr.id].idx;fr+=Z[fe][en]||0});var qr=fr-ce.sumTot*cr,kr=it[re.id];if(Object.keys(kr).forEach(function(Xr){var en=F[Xr].node,Ar=en.clusterId;if(Ar!==re.clusterId){var Dr=R[Ar],Tn=Dr.nodes;if(!(!Tn||!Tn.length)){var Rn=0;Tn.forEach(function(yi){var da=F[yi.id].idx;Rn+=Z[fe][da]||0});var wn=Rn-Dr.sumTot*cr,Un=wn-qr;Un>Ae&&(Ae=Un,Te=Dr)}}}),Ae>0){Te.nodes.push(re);var Nr=re.clusterId;re.clusterId=Te.id;var Fr=ce.nodes.indexOf(re);ce.nodes.splice(Fr,1);var Ir=0,Sr=0;v.forEach(function(Xr){var en=Xr.source,Ar=Xr.target,Dr=F[en].node.clusterId,Tn=F[Ar].node.clusterId;(Dr===Te.id&&Tn!==Te.id||Tn===Te.id&&Dr!==Te.id)&&(Ir=Ir+(Xr[e]||1)),(Dr===Nr&&Tn!==Nr||Tn===Nr&&Dr!==Nr)&&(Sr=Sr+(Xr[e]||1))}),Te.sumTot=Ir,ce.sumTot=Sr}});var wt={},zt=0;Object.keys(R).forEach(function(re){var fe=R[re];if(!fe.nodes||!fe.nodes.length){delete R[re];return}var ce=String(zt+1);ce!==re&&(fe.id=ce,fe.nodes=fe.nodes.map(function(Ae){return{id:Ae.id,clusterId:ce}}),R[ce]=fe,wt[re]=ce,delete R[re],zt++)}),l.forEach(function(re){re.clusterId&&wt[re.clusterId]&&(re.clusterId=wt[re.clusterId])});var Kt=[],$t={};v.forEach(function(re){var fe=re.source,ce=re.target,Ae=re[e]||1,Te=F[fe].node.clusterId,cr=F[ce].node.clusterId,fr=Te+"---"+cr;if($t[fr])$t[fr].weight+=Ae,$t[fr].count++;else{var gr={source:Te,target:cr,weight:Ae,count:1};$t[fr]=gr,Kt.push(gr)}});var ee=[];return Object.keys(R).forEach(function(re){ee.push(R[re])}),{clusters:ee,clusterEdges:Kt}},qn=Jn,hi=function(){function u(n){this.count=n.length,this.parent={};for(var t=0,e=n;t<e.length;t++){var r=e[t];this.parent[r]=r}}return u.prototype.find=function(n){for(;this.parent[n]!==n;)n=this.parent[n];return n},u.prototype.union=function(n,t){var e=this.find(n),r=this.find(t);e!==r&&(e<r?(this.parent[t]!==t&&this.union(this.parent[t],n),this.parent[t]=this.parent[n]):(this.parent[n]!==n&&this.union(this.parent[n],t),this.parent[n]=this.parent[t]))},u.prototype.connected=function(n,t){return this.find(n)===this.find(t)},u}(),ii=hi,xi=function(n,t){return n-t},Wi=function(){function u(n){n===void 0&&(n=xi),this.compareFn=n,this.list=[]}return u.prototype.getLeft=function(n){return 2*n+1},u.prototype.getRight=function(n){return 2*n+2},u.prototype.getParent=function(n){return n===0?null:Math.floor((n-1)/2)},u.prototype.isEmpty=function(){return this.list.length<=0},u.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},u.prototype.delMin=function(){var n=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),n},u.prototype.insert=function(n){if(n!==null){this.list.push(n);var t=this.list.length-1;return this.moveUp(t),!0}return!1},u.prototype.moveUp=function(n){for(var t=this.getParent(n);n&&n>0&&this.compareFn(this.list[t],this.list[n])>0;){var e=this.list[t];this.list[t]=this.list[n],this.list[n]=e,n=t,t=this.getParent(n)}},u.prototype.moveDown=function(n){var t,e=n,r=this.getLeft(n),i=this.getRight(n),l=this.list.length;r!==null&&r<l&&this.compareFn(this.list[e],this.list[r])>0?e=r:i!==null&&i<l&&this.compareFn(this.list[e],this.list[i])>0&&(e=i),n!==e&&(t=[this.list[e],this.list[n]],this.list[n]=t[0],this.list[e]=t[1],this.moveDown(e))},u}(),la=Wi,Pi=function(n,t){var e=[],r=n.nodes,i=r===void 0?[]:r,l=n.edges,d=l===void 0?[]:l;if(i.length===0)return e;var v=i[0],D=new Set;D.add(v);var R=function(bt,Dt){return t?bt.weight-Dt.weight:0},F=new la(R);for(ys(v.id,d).forEach(function(dt){F.insert(dt)});!F.isEmpty();){var Z=F.delMin(),J=Z.source,it=Z.target;D.has(J)&&D.has(it)||(e.push(Z),D.has(J)||(D.add(J),ys(J,d).forEach(function(dt){F.insert(dt)})),D.has(it)||(D.add(it),ys(it,d).forEach(function(dt){F.insert(dt)})))}return e},ta=function(n,t){var e=[],r=n.nodes,i=r===void 0?[]:r,l=n.edges,d=l===void 0?[]:l;if(i.length===0)return e;var v=d.map(function(J){return J});t&&v.sort(function(J,it){return J.weight-it.weight});for(var D=new ii(i.map(function(J){return J.id}));v.length>0;){var R=v.shift(),F=R.source,Z=R.target;D.connected(F,Z)||(e.push(R),D.union(F,Z))}return e},Yi=function(n,t,e){var r={prim:Pi,kruskal:ta};return e?r[e](n,t):ta(n,t)},zi=Yi,Ei=function(n,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var r=1,i=0,l=1e3,d=n.nodes,v=d===void 0?[]:d,D=n.edges,R=D===void 0?[]:D,F=v.length,Z,J={},it={},dt=0;dt<F;++dt){var bt=v[dt],Dt=bt.id;J[Dt]=1/F,it[Dt]=1/F}for(var At=Ds(n);l>0&&r>t;){i=0;for(var dt=0;dt<F;++dt){var bt=v[dt],Dt=bt.id;if(Z=0,At[bt.id].inDegree===0)J[Dt]=0;else{for(var wt=Ma(Dt,R,"source"),zt=0;zt<wt.length;++zt){var Kt=wt[zt],$t=At[Kt].outDegree;$t>0&&(Z+=it[Kt]/$t)}J[Dt]=e*Z,i+=J[Dt]}}i=(1-i)/F,r=0;for(var dt=0;dt<F;++dt){var bt=v[dt],Dt=bt.id;Z=J[Dt]+i,r+=Math.abs(Z-it[Dt]),it[Dt]=Z}l-=1}return it},Me=Ei,le=-1,we=-1,He="-1",br="-1",nn=-1,ai="-1",Bi=function(){function u(n,t,e,r){n===void 0&&(n=le),t===void 0&&(t=we),e===void 0&&(e=we),r===void 0&&(r=He),this.id=n,this.from=t,this.to=e,this.label=r}return u}(),to=function(){function u(n,t){n===void 0&&(n=we),t===void 0&&(t=br),this.id=n,this.label=t,this.edges=[],this.edgeMap={}}return u.prototype.addEdge=function(n){this.edges.push(n),this.edgeMap[n.id]=n},u}(),el=function(){function u(n,t,e){n===void 0&&(n=we),t===void 0&&(t=!0),e===void 0&&(e=!1),this.id=n,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=e}return u.prototype.getNodeNum=function(){return this.nodes.length},u.prototype.addNode=function(n,t){if(!this.nodeMap[n]){var e=new to(n,t);this.nodes.push(e),this.nodeMap[n]=e,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(n)}},u.prototype.addEdge=function(n,t,e,r){if((this.edgeIdAutoIncrease||n===void 0)&&(n=this.counter++),!(this.nodeMap[t]&&this.nodeMap[e]&&this.nodeMap[e].edgeMap[n])){var i=new Bi(n,t,e,r);if(this.edges.push(i),this.edgeMap[n]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var l=new Bi(n,e,t,r);this.nodeMap[e].addEdge(l),this.edgeLabelMap[r].push(l)}}},u}(),Ko=function(){function u(n,t,e,r,i){this.fromNode=n,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:e||br,edgeLabel:r||He,nodeLabel2:i||br}}return u.prototype.equalTo=function(n){return this.fromNode===n.formNode&&this.toNode===n.toNode&&this.nodeEdgeNodeLabel===n.nodeEdgeNodeLabel},u.prototype.notEqualTo=function(n){return!this.equalTo(n)},u}(),zs=function(){function u(){this.rmpath=[],this.dfsEdgeList=[]}return u.prototype.equalTo=function(n){var t=this.dfsEdgeList.length,e=n.length;if(t!==e)return!1;for(var r=0;r<t;r++)if(this.dfsEdgeList[r]!==n[r])return!1;return!0},u.prototype.notEqualTo=function(n){return!this.equalTo(n)},u.prototype.pushBack=function(n,t,e,r,i){return this.dfsEdgeList.push(new Ko(n,t,e,r,i)),this.dfsEdgeList},u.prototype.toGraph=function(n,t){n===void 0&&(n=nn),t===void 0&&(t=!1);var e=new el(n,!0,t);return this.dfsEdgeList.forEach(function(r){var i=r.fromNode,l=r.toNode,d=r.nodeEdgeNodeLabel,v=d.nodeLabel1,D=d.edgeLabel,R=d.nodeLabel2;v!==br&&e.addNode(i,v),R!==br&&e.addNode(l,R),e.addEdge(void 0,i,l,D)}),e},u.prototype.buildRmpath=function(){this.rmpath=[];for(var n=void 0,t=this.dfsEdgeList.length,e=t-1;e>=0;e--){var r=this.dfsEdgeList[e],i=r.fromNode,l=r.toNode;i<l&&(n===void 0||l===n)&&(this.rmpath.push(e),n=i)}return this.rmpath},u.prototype.getNodeNum=function(){var n={};return this.dfsEdgeList.forEach(function(t){n[t.fromNode]||(n[t.fromNode]=!0),n[t.toNode]||(n[t.toNode]=!0)}),Object.keys(n).length},u}(),Ao=function(){function u(n){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!n){for(;n;){var t=n.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,n=n.preNode}this.edges=this.edges.reverse()}}return u.prototype.hasNode=function(n){return this.nodesUsed[n.id]===1},u.prototype.hasEdge=function(n){return this.edgesUsed[n.id]===1},u}(),hf=function(){function u(n){var t=n.graphs,e=n.minSupport,r=e===void 0?2:e,i=n.minNodeNum,l=i===void 0?1:i,d=n.maxNodeNum,v=d===void 0?4:d,D=n.top,R=D===void 0?10:D,F=n.directed,Z=F===void 0?!1:F,J=n.verbose,it=J===void 0?!1:J;this.graphs=t,this.dfsCode=new zs,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=R,this.directed=Z,this.counter=0,this.maxNodeNum=v,this.minNodeNum=l,this.verbose=it,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return u.prototype.findForwardRootEdges=function(n,t){var e=this,r=[],i=n.nodeMap;return t.edges.forEach(function(l){(e.directed||t.label<=i[l.to].label)&&r.push(l)}),r},u.prototype.findBackwardEdge=function(n,t,e,r){if(!this.directed&&t===e)return null;for(var i=n.nodeMap,l=i[e.to],d=l.edges,v=d.length,D=0;D<v;D++){var R=d[D];if(!(r.hasEdge(R)||R.to!==t.from)){if(this.directed){if(i[t.from].label<i[e.to].label||i[t.from].label===i[e.to].label&&t.label<=R.label)return R}else if(t.label<R.label||t.label===R.label&&i[t.to].label<=i[e.to].label)return R}}return null},u.prototype.findForwardPureEdges=function(n,t,e,r){for(var i=[],l=t.to,d=n.nodeMap[l].edges,v=d.length,D=0;D<v;D++){var R=d[D],F=n.nodeMap[R.to];e<=F.label&&!r.hasNode(F)&&i.push(R)}return i},u.prototype.findForwardRmpathEdges=function(n,t,e,r){for(var i=[],l=n.nodeMap,d=l[t.to].label,v=l[t.from],D=v.edges,R=D.length,F=0;F<R;F++){var Z=D[F],J=l[Z.to].label;t.to===Z.to||e>J||r.hasNode(l[Z.to])||(t.label<Z.label||t.label===Z.label&&d<=J)&&i.push(Z)}return i},u.prototype.getSupport=function(n){var t={};return n.forEach(function(e){t[e.graphId]||(t[e.graphId]=!0)}),Object.keys(t).length},u.prototype.findMinLabel=function(n){var t=void 0;return Object.keys(n).forEach(function(e){var r=n[e],i=r.nodeLabel1,l=r.edgeLabel,d=r.nodeLabel2;if(!t){t={nodeLabel1:i,edgeLabel:l,nodeLabel2:d};return}(i<t.nodeLabel1||i===t.nodeLabel1&&l<t.edgeLabel||i===t.nodeLabel1&&l===t.edgeLabel&&d<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:l,nodeLabel2:d})}),t},u.prototype.isMin=function(){var n=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var e=this.directed,r=t.toGraph(nn,e),i=r.nodeMap,l=new zs,d={};r.nodes.forEach(function(F){var Z=n.findForwardRootEdges(r,F);Z.forEach(function(J){var it=i[J.to],dt=F.label+"-"+J.label+"-"+it.label;d[dt]||(d[dt]={projected:[],nodeLabel1:F.label,edgeLabel:J.label,nodeLabel2:it.label});var bt={graphId:r.id,edge:J,preNode:null};d[dt].projected.push(bt)})});var v=this.findMinLabel(d);l.dfsEdgeList.push(new Ko(0,1,v.nodeLabel1,v.edgeLabel,v.nodeLabel2));var D=function F(Z){for(var J=l.buildRmpath(),it=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,dt=l.dfsEdgeList[J[0]].toNode,bt={},Dt=!1,At=0,wt=e?-1:0,zt=function(kr){if(Dt)return"break";Z.forEach(function(Nr){var Fr=new Ao(Nr),Ir=n.findBackwardEdge(r,Fr.edges[J[kr]],Fr.edges[J[0]],Fr);Ir&&(bt[Ir.label]||(bt[Ir.label]={projected:[],edgeLabel:Ir.label}),bt[Ir.label].projected.push({graphId:r.id,edge:bt,preNode:Nr}),At=l.dfsEdgeList[J[kr]].fromNode,Dt=!0)})},Kt=J.length-1;Kt>wt;Kt--){var $t=zt(Kt);if($t==="break")break}if(Dt){var ee=n.findMinLabel(bt);l.dfsEdgeList.push(new Ko(dt,At,br,ee.edgeLabel,br));var re=l.dfsEdgeList.length-1;return n.dfsCode.dfsEdgeList[re]!==l.dfsEdgeList[re]?!1:F(bt[ee.edgeLabel].projected)}var fe={};Dt=!1;var ce=0;Z.forEach(function(qr){var kr=new Ao(qr),Nr=n.findForwardPureEdges(r,kr.edges[J[0]],it,kr);Nr.length>0&&(Dt=!0,ce=dt,Nr.forEach(function(Fr){var Ir=Fr.label+"-"+i[Fr.to].label;fe[Ir]||(fe[Ir]={projected:[],edgeLabel:Fr.label,nodeLabel2:i[Fr.to].label}),fe[Ir].projected.push({graphId:r.id,edge:Fr,preNode:qr})}))});for(var Ae=J.length,Te=function(kr){if(Dt)return"break";var Nr=J[kr];Z.forEach(function(Fr){var Ir=new Ao(Fr),Sr=n.findForwardRmpathEdges(r,Ir.edges[Nr],it,Ir);Sr.length>0&&(Dt=!0,ce=l.dfsEdgeList[Nr].fromNode,Sr.forEach(function(Xr){var en=Xr.label+"-"+i[Xr.to].label;fe[en]||(fe[en]={projected:[],edgeLabel:Xr.label,nodeLabel2:i[Xr.to].label}),fe[en].projected.push({graphId:r.id,edge:Xr,preNode:Fr})}))})},Kt=0;Kt<Ae;Kt++){var cr=Te(Kt);if(cr==="break")break}if(!Dt)return!0;var fr=n.findMinLabel(fe);l.dfsEdgeList.push(new Ko(ce,dt+1,br,fr.edgeLabel,fr.nodeLabel2));var gr=l.dfsEdgeList.length-1;return t.dfsEdgeList[gr]!==l.dfsEdgeList[gr]?!1:F(fe[fr.edgeLabel+"-"+fr.nodeLabel2].projected)},R=v.nodeLabel1+"-"+v.edgeLabel+"-"+v.nodeLabel2;return D(d[R].projected)},u.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var n=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Object(g.clone)(n))}},u.prototype.subGraphMining=function(n){var t=this,e=this.getSupport(n);if(!(e<this.minSupport)&&!!this.isMin()){this.report();var r=this.dfsCode.getNodeNum(),i=this.dfsCode.buildRmpath(),l=this.dfsCode.dfsEdgeList[i[0]].toNode,d=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,v={},D={};n.forEach(function(R){for(var F=t.graphs[R.graphId],Z=F.nodeMap,J=new Ao(R),it=i.length-1;it>=0;it--){var dt=t.findBackwardEdge(F,J.edges[i[it]],J.edges[i[0]],J);if(dt){var bt=t.dfsCode.dfsEdgeList[i[it]].fromNode+"-"+dt.label;D[bt]||(D[bt]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[i[it]].fromNode,edgeLabel:dt.label}),D[bt].projected.push({graphId:R.graphId,edge:dt,preNode:R})}}if(!(r>=t.maxNodeNum)){var Dt=t.findForwardPureEdges(F,J.edges[i[0]],d,J);Dt.forEach(function(wt){var zt=l+"-"+wt.label+"-"+Z[wt.to].label;v[zt]||(v[zt]={projected:[],fromNodeId:l,edgeLabel:wt.label,nodeLabel2:Z[wt.to].label}),v[zt].projected.push({graphId:R.graphId,edge:wt,preNode:R})});for(var At=function(zt){var Kt=t.findForwardRmpathEdges(F,J.edges[i[zt]],d,J);Kt.forEach(function($t){var ee=t.dfsCode.dfsEdgeList[i[zt]].fromNode+"-"+$t.label+"-"+Z[$t.to].label;v[ee]||(v[ee]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[i[zt]].fromNode,edgeLabel:$t.label,nodeLabel2:Z[$t.to].label}),v[ee].projected.push({graphId:R.graphId,edge:$t,preNode:R})})},it=0;it<i.length;it++)At(it)}}),Object.keys(D).forEach(function(R){var F=D[R],Z=F.toNodeId,J=F.edgeLabel;t.dfsCode.dfsEdgeList.push(new Ko(l,Z,"-1",J,"-1")),t.subGraphMining(D[R].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(v).forEach(function(R){var F=v[R],Z=F.fromNodeId,J=F.edgeLabel,it=F.nodeLabel2;t.dfsCode.dfsEdgeList.push(new Ko(Z,l+1,br,J,it)),t.subGraphMining(v[R].projected),t.dfsCode.dfsEdgeList.pop()})}},u.prototype.generate1EdgeFrequentSubGraphs=function(){var n=this.graphs,t=this.directed,e=this.minSupport,r=this.frequentSize1Subgraphs,i={},l={},d={},v={};return Object.keys(n).forEach(function(D){var R=n[D],F=R.nodeMap;R.nodes.forEach(function(Z,J){var it=Z.label,dt=D+"-"+it;if(!d[dt]){var bt=i[it]||0;bt++,i[it]=bt}d[dt]={graphKey:D,label:it},Z.edges.forEach(function(Dt){var At=it,wt=F[Dt.to].label;if(!t&&At>wt){var zt=wt;wt=At,At=zt}var Kt=Dt.label,$t=D+"-"+At+"-"+Kt+"-"+wt,ee=At+"-"+Kt+"-"+wt;if(!l[ee]){var re=l[ee]||0;re++,l[ee]=re}v[$t]={graphId:D,nodeLabel1:At,edgeLabel:Kt,nodeLabel2:wt}})})}),Object.keys(i).forEach(function(D){var R=i[D];if(!(R<e)){var F={nodes:[],edges:[]};F.nodes.push({id:"0",label:D}),r.push(F)}}),r},u.prototype.run=function(){var n=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,e=this.directed,r={};Object.keys(t).forEach(function(i){var l=t[i],d=l.nodeMap;l.nodes.forEach(function(v){var D=n.findForwardRootEdges(l,v);D.forEach(function(R){var F=d[R.to],Z=v.label+"-"+R.label+"-"+F.label;r[Z]||(r[Z]={projected:[],nodeLabel1:v.label,edgeLabel:R.label,nodeLabel2:F.label});var J={graphId:i,edge:R,preNode:null};r[Z].projected.push(J)})})}),Object.keys(r).forEach(function(i){var l=r[i],d=l.projected,v=l.nodeLabel1,D=l.edgeLabel,R=l.nodeLabel2;n.dfsCode.dfsEdgeList.push(new Ko(0,1,v,D,R)),n.subGraphMining(d),n.dfsCode.dfsEdgeList.pop()})}},u}(),Gl=function(n,t,e,r){var i={};return Object.keys(n).forEach(function(l,d){var v=n[l],D=new el(d,!0,t),R={};v.nodes.forEach(function(F,Z){D.addNode(Z,F[e]),R[F.id]=Z}),v.edges.forEach(function(F,Z){var J=R[F.source],it=R[F.target];D.addEdge(-1,J,it,F[r])}),D&&D.getNodeNum()&&(i[D.id]=D)}),i},Ul=function(n,t,e){var r=[];return n.forEach(function(i){var l={nodes:[],edges:[]};i.nodes.forEach(function(d){var v;l.nodes.push((v={id:""+d.id},v[t]=d.label,v))}),i.edges.forEach(function(d){var v;l.edges.push((v={source:""+d.from,target:""+d.to},v[e]=d.label,v))}),r.push(l)}),r},oc="cluster",df=function(n){var t=n.graphs,e=n.directed,r=e===void 0?!1:e,i=n.nodeLabelProp,l=i===void 0?oc:i,d=n.edgeLabelProp,v=d===void 0?oc:d,D=Gl(t,r,l,v),R=n.minSupport,F=n.maxNodeNum,Z=n.minNodeNum,J=n.verbose,it=n.top,dt={graphs:D,minSupport:R,maxNodeNum:F,minNodeNum:Z,top:it,verbose:J,directed:r},bt=new hf(dt);bt.run();var Dt=Ul(bt.frequentSubgraphs,l,v);return Dt},sc=df;function Ro(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ro=function(t){return typeof t}:Ro=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(u)}var lc=function(n,t,e,r){e===void 0&&(e="cluster"),r===void 0&&(r=2);var i=[],l=n.nodes;return t.forEach(function(d,v){i.push(vf(l,d,v,e,r))}),i},vf=function(n,t,e,r,i){var l=[e],d=[],v={};return t.forEach(function(D,R){if(D<=i&&e!==R){l.push(R),d.push(n[R]);var F=n[R][r];v[F]?(v[F].count++,v[F].dists.push(D)):v[F]={count:1,dists:[D]}}}),Object.keys(v).forEach(function(D){v[D].dists=v[D].dists.sort(function(R,F){return R-F})}),{nodeIdx:e,nodeId:n[e].id,nodeIdxs:l,neighbors:d,neighborNum:l.length-1,nodeLabelCountMap:v}},lh=function(n,t,e,r,i){var l=Math.ceil(e/t),d={},v=0;return r.forEach(function(D,R){for(var F=0,Z=0,J=D.nodeIdxs,it=D.neighborNum-1;F<l;){for(var dt=J[1+Math.floor(Math.random()*it)],bt=0;(d[R+"-"+dt]||d[dt+"-"+R])&&(dt=Math.floor(Math.random()*t),bt++,!(bt>2*t)););if(bt<2*t&&(d[R+"-"+dt]={start:R,end:dt,distance:i[R][dt]},F++,v++,v>=e))return d;if(Z++,Z>2*t)break}if(F<l){var Dt=l-F;l=(l+Dt)/(t-R-1)}}),d},ms=function(n,t,e,r){var i=e.nodes;return r||(r={}),Object.keys(n).forEach(function(l){var d,v;if(!(r&&r[l])){r[l]={nodes:[],edges:[]};var D=n[l],R=(d=t[D.start])===null||d===void 0?void 0:d.nodeIdxs,F=(v=t[D.end])===null||v===void 0?void 0:v.nodeIdxs;if(!(!R||!F)){var Z=new Set(F),J=R.filter(function(At){return Z.has(At)});if(!(!J||!J.length)){for(var it={},dt=J.length,bt=0;bt<dt;bt++){var Dt=i[J[bt]];r[l].nodes.push(Dt),it[Dt.id]=!0}e.edges.forEach(function(At){it[At.source]&&it[At.target]&&r[l].edges.push(At)})}}}}),r},Eu=function(n,t,e,r){var i={};n.nodes.forEach(function(d){i[d.id]=d});var l=0;return n.edges.forEach(function(d){var v=i[d.source][e],D=i[d.target][e],R=t.nodes[0][e],F=t.nodes[1][e],Z=t.edges[0][r];d[r]===Z&&(v===R&&D===F||v===F&&D===R)&&l++}),l},uh=function(n,t,e){for(var r=Infinity,i=0,l=function(D){var R=n[D],F=Object.keys(R).sort(function(At,wt){return R[At]-R[wt]}),Z=10,J=[];F.forEach(function(At,wt){J[wt%Z]||(J[wt%Z]={graphs:[],totalCount:0,aveCount:0}),J[wt%Z].graphs.push(At),J[wt%Z].totalCount+=R[At]});var it=0,dt=[];J.forEach(function(At){var wt=At.totalCount/At.graphs.length;At.aveCount=wt,dt.push(wt);var zt=0,Kt=At.length;At.graphs.forEach(function($t,ee){var re=R[$t];At.graphs.forEach(function(fe,ce){ee!==ce&&(zt+=Math.abs(re-R[fe]))})}),zt/=Kt*(Kt-1)/2,it+=zt}),it/=J.length;var bt=0;dt.forEach(function(At,wt){dt.forEach(function(zt,Kt){wt!==Kt&&(bt+=Math.abs(At-zt))}),bt/=dt.length*(dt.length-1)/2});var Dt=bt-it;r<Dt&&(r=Dt,i=D)},d=0;d<t;d++)l(d);return{structure:e[i],structureCountMap:n[i]}},uc=function(n,t){var e={},r={};return n.forEach(function(i,l){e[i.id]={idx:l,node:i,degree:0};var d=i[t];r[d]||(r[d]=[]),r[d].push(i)}),{nodeMap:e,nodeLabelMap:r}},rl=function(n,t,e){var r={},i={};return n.forEach(function(l,d){r[""+bo]={idx:d,edge:l};var v=l[t];i[v]||(i[v]=[]),i[v].push(l);var D=e[l.source];D&&D.degree++;var R=e[l.target];R&&R.degree++}),{edgeMap:r,edgeLabelMap:i}},Wl=function(n,t,e){var r=t.length,i={};return t.forEach(function(l,d){for(var v=e?0:d+1,D=n[d].id,R=v;R<r;R++)if(d!==R){var F=n[R].id,Z=l[R];i[D+"-"+F]=Z,e||(i[F+"-"+D]=Z)}}),i},To=function(n,t,e,r,i,l,d,v,D,R,F){var Z,J=t.id+"-"+e.id;if(R&&R[J])return R[J];var it=F?F[J]:void 0;if(!it){var dt=(Z={},Z[J]={start:r[t.id].idx,end:r[e.id].idx,distance:i},Z);F=ms(dt,l,n,F),it=F[J]}return Eu(it,d,v,D)},Ps=function(n,t,e,r,i,l,d){if(e===void 0&&(e=!1),l===void 0&&(l="cluster"),d===void 0&&(d="cluster"),!(!n||!n.nodes)){var v=n.nodes.length;if(!!v){var D=pn(n,e),R=pn(t,e),F=Wl(n.nodes,D,e),Z=Wl(t.nodes,R,e),J=uc(n.nodes,l),it=J.nodeMap,dt=J.nodeLabelMap,bt=uc(t.nodes,l),Dt=bt.nodeMap,At=bt.nodeLabelMap;rl(n.edges,d,it);var wt=rl(t.edges,d,Dt).edgeLabelMap;i||(i=Math.max.apply(Math,Object(he.__spreadArray)(Object(he.__spreadArray)([],R[0]),[2]))),r||(r=i);var zt=lc(n,D,l,r),Kt=lc(t,R,l,r),$t=Math.min(100,v*(v-1)/2),ee=lh(r,v,$t,Kt,D),re=ms(ee,zt,n),fe=10,ce=1,Ae=1,Te=4,cr={graphs:re,nodeLabelProp:l,edgeLabelProp:d,minSupport:ce,minNodeNum:Ae,maxNodeNum:Te,directed:e},fr=sc(cr).slice(0,fe),gr=fr.length,qr=[];fr.forEach(function(na,va){qr[va]={},Object.keys(re).forEach(function(ca){var Ni=re[ca],Oa=Eu(Ni,na,l,d);qr[va][ca]=Oa})});var kr=uh(qr,gr,fr),Nr=kr.structure,Fr=kr.structureCountMap,Ir=t.nodes[0],Sr=Ir[l],Xr=dt[Sr],en={},Ar={},Dr={},Tn={},Rn={};Object.keys(At).forEach(function(na,va){Rn[na]=[];var ca=-Infinity,Ni=At[na],Oa={};Ni.forEach(function(Qi){var Ai=Z[Ir.id+"-"+Qi.id];Ai&&Rn[na].push(Ai),ca<Ai&&(ca=Ai),Oa[Ir.id+"-"+Qi.id]={start:0,end:Dt[Qi.id].idx,distance:Ai}}),Rn[na]=Rn[na].sort(function(Qi,Ai){return Qi-Ai}),Ar=ms(Oa,Kt,t,Ar);var Ci=[];if(Object.keys(Oa).forEach(function(Qi){if(Dr[Qi]){Ci.push(Dr[Qi]);return}var Ai=Ar[Qi];Dr[Qi]=Eu(Ai,Nr,l,d),Ci.push(Dr[Qi])}),Ci=Ci.sort(function(Qi,Ai){return Ai-Qi}),Tn[Ir.id+"-"+na]=Ci,na!==Sr)for(var xa=Xr.length,ia=function(Ai){var ga=Xr[Ai],Fn=zt[it[ga.id].idx],ha=Fn.nodeLabelCountMap[na],mu=At[na].length;if(!ha||ha.count<mu)return Xr.splice(Ai,1),"continue";for(var Lo=!1,as=0;as<mu;as++)if(ha.dists[as]>Rn[na][as]){Lo=!0;break}if(Lo)return Xr.splice(Ai,1),"continue";var vs={};Fn.neighbors.forEach(function(yo){var Uo=F[ga.id+"-"+yo.id];vs[ga.id+"-"+yo.id]={start:it[ga.id].idx,end:it[yo.id].idx,distance:Uo}}),re=ms(vs,zt,n,re);var lo=[];Object.keys(vs).forEach(function(yo){if(Fr[yo]){lo.push(Fr[yo]);return}var Uo=re[yo];Fr[yo]=Eu(Uo,Nr,l,d),lo.push(Fr[yo])}),lo=lo.sort(function(yo,Uo){return Uo-yo});for(var os=!1,as=0;as<mu;as++)if(lo[as]<Ci[as]){os=!0;break}if(os)return Xr.splice(Ai,1),"continue"},Io=xa-1;Io>=0;Io--)ia(Io)});var wn=[];Xr.forEach(function(na){for(var va=it[na.id].idx,ca=vf(n.nodes,D[va],va,l,i),Ni=ca.neighbors,Oa=Ni.length,Ci=!1,xa=function(Ai){if(Ni.length+1<t.nodes.length)return Ci=!0,{value:void 0};var ga=Ni[Ai],Fn=ga[l];if(!At[Fn]||!At[Fn].length)return Ni.splice(Ai,1),"continue";var ha=na.id+"-"+ga.id;if(!Rn[Fn]||!Rn[Fn].length)return Ni.splice(Ai,1),"continue";var mu=F[ha],Lo=Rn[Fn][Rn[Fn].length-1];if(mu>Lo)return Ni.splice(Ai,1),"continue";var as=Fr[ha]?Fr[ha]:To(n,na,ga,it,mu,zt,Nr,l,d,Fr,re),vs=Ir.id+"-"+Fn,lo=Tn[vs][Tn[vs].length-1];if(as<lo)return Ni.splice(Ai,1),"continue";var os=en[Fn];if(os===void 0&&(os=Infinity,At[Fn].forEach(function(yo){var Uo=Dt[yo.id].degree;os>Uo&&(os=Uo)}),en[Fn]=os),it[ga.id].degree<os)return Ni.splice(Ai,1),"continue"},ia=Oa-1;ia>=0;ia--){var Io=xa(ia);if(Ro(Io)==="object")return Io.value}Ci||wn.push({nodes:[na].concat(Ni)})});var Un=Ze(t,Ir.id,!1).length,yi={};e?(Object.keys(Un).forEach(function(na){var va=Dt[na].node[l];yi[va]?yi[va].push(Un[na]):yi[va]=[Un[na]]}),Object.keys(yi).forEach(function(na){yi[na].sort(function(va,ca){return va-ca})})):yi=Rn;for(var da=wn.length,vi=function(va){var ca=wn[va],Ni=ca.nodes[0],Oa={},Ci={};ca.nodes.forEach(function(Ra,mo){Ci[Ra.id]={idx:mo,node:Ra,degree:0};var So=Ra[l];Oa[So]?Oa[So]++:Oa[So]=1});var xa=[],ia={};n.edges.forEach(function(Ra){Ci[Ra.source]&&Ci[Ra.target]&&(xa.push(Ra),ia[Ra[d]]?ia[Ra[d]]++:ia[Ra[d]]=1,Ci[Ra.source].degree++,Ci[Ra.target].degree++)});for(var Io=Object.keys(wt).length,Qi=!1,Ai=0;Ai<Io;Ai++){var ga=Object.keys(wt)[Ai];if(!ia[ga]||ia[ga]<wt[ga].length){Qi=!0;break}}if(Qi)return wn.splice(va,1),"continue";var Fn=xa.length;if(Fn<t.edges.length)return wn.splice(va,1),"break";for(var ha=!1,mu=function(mo){var So=xa[mo],ss=So[d],Ou=wt[ss];if(!Ou||!Ou.length)return ia[ss]--,Ou&&ia[ss]<Ou.length?(ha=!0,"break"):(xa.splice(mo,1),Ci[So.source].degree--,Ci[So.target].degree--,"continue");var ah=Ci[So.source].node[l],sd=Ci[So.target].node[l],vv=!1;if(Ou.forEach(function(xu){var oh=Dt[xu.source].node,uf=Dt[xu.target].node;oh[l]===ah&&uf[l]===sd&&(vv=!0),!e&&oh[l]===sd&&uf[l]===ah&&(vv=!0)}),!vv)return ia[ss]--,Ou&&ia[ss]<Ou.length?(ha=!0,"break"):(xa.splice(mo,1),Ci[So.source].degree--,Ci[So.target].degree--,"continue")},Ai=Fn-1;Ai>=0;Ai--){var Lo=mu(Ai);if(Lo==="break")break}if(ha)return wn.splice(va,1),"continue";ca.edges=xa;var as=Ze(ca,ca.nodes[0].id,!1).length;if(Object.keys(as).reverse().forEach(function(Ra){if(!(Ra===ca.nodes[0].id||ha)){if(as[Ra]===Infinity){var mo=Ci[Ra].node[l];if(Oa[mo]--,Oa[mo]<At[mo].length){ha=!0;return}var So=ca.nodes.indexOf(Ci[Ra].node);ca.nodes.splice(So,1),Ci[Ra]=void 0;return}var ss=it[Ra].node[l];if(!yi[ss]||!yi[ss].length||as[Ra]>yi[ss][yi[ss].length-1]){var mo=Ci[Ra].node[l];if(Oa[mo]--,Oa[mo]<At[mo].length){ha=!0;return}var So=ca.nodes.indexOf(Ci[Ra].node);ca.nodes.splice(So,1),Ci[Ra]=void 0}}}),ha)return wn.splice(va,1),"continue";for(var vs=!0,lo=0;vs&&!ha;){if(vs=!1,Ci[Ni.id].degree<Dt[Ir.id].degree){ha=!0;break}if(Oa[Ni[l]]<At[Ni[l]].length){ha=!0;break}for(var os=ca.nodes.length,yo=os-1;yo>=0;yo--){var Uo=ca.nodes[yo],bu=Ci[Uo.id].degree,dv=Uo[l];if(bu<en[dv]){if(Oa[Uo[l]]--,Oa[Uo[l]]<At[Uo[l]].length){ha=!0;break}ca.nodes.splice(yo,1),Ci[Uo.id]=void 0,vs=!0}}if(ha||!vs&&lo!==0)break;Fn=xa.length;for(var gs=Fn-1;gs>=0;gs--){var Js=xa[gs];if(!Ci[Js.source]||!Ci[Js.target]){xa.splice(gs,1);var lf=Js[d];if(ia[lf]--,Ci[Js.source]&&Ci[Js.source].degree--,Ci[Js.target]&&Ci[Js.target].degree--,wt[lf]&&ia[lf]<wt[lf].length){ha=!0;break}vs=!0}}lo++}if(ha||ha||ca.nodes.length<t.nodes.length||xa.length<t.edges.length)return wn.splice(va,1),"continue"},Pa=da-1;Pa>=0;Pa--){var pl=vi(Pa);if(pl==="break")break}for(var Fs=wn.length,Qs=function(va){var ca=wn[va],Ni={};ca.edges.forEach(function(xa){var ia=xa.source+"-"+xa.target+"-"+xa.label;Ni[ia]?Ni[ia]++:Ni[ia]=1});for(var Oa=function(ia){var Io=wn[ia],Qi={};Io.edges.forEach(function(ga){var Fn=ga.source+"-"+ga.target+"-"+ga.label;Qi[Fn]?Qi[Fn]++:Qi[Fn]=1});var Ai=!0;Object.keys(Qi).length!==Object.keys(Ni).length?Ai=!1:Object.keys(Ni).forEach(function(ga){Qi[ga]!==Ni[ga]&&(Ai=!1)}),Ai&&wn.splice(ia,1)},Ci=Fs-1;Ci>va;Ci--)Oa(Ci);Fs=wn.length},Pa=0;Pa<=Fs-1;Pa++)Qs(Pa);return wn}}},ch=Ps,fh=function(){function u(n){n===void 0&&(n=10),this.linkedList=new ps,this.maxStep=n}return Object.defineProperty(u.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),u.prototype.isEmpty=function(){return!this.linkedList.head},u.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},u.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},u.prototype.push=function(n){this.linkedList.prepend(n),this.length>this.maxStep&&this.linkedList.deleteTail()},u.prototype.pop=function(){var n=this.linkedList.deleteHead();return n?n.value:null},u.prototype.toArray=function(){return this.linkedList.toArray().map(function(n){return n.value})},u.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},u}(),cc=fh,Su=Fe,zl={getAdjMatrix:Ha,breadthFirstSearch:Ws,connectedComponent:As,getDegree:Ds,getInDegree:bl,getOutDegree:Ol,detectCycle:Fe,detectDirectedCycle:Su,detectAllCycles:je,detectAllDirectedCycle:xe,detectAllUndirectedCycle:de,depthFirstSearch:Qt,dijkstra:Ze,findAllPath:Tr,findShortestPath:Pr,floydWarshall:pn,labelPropagation:Pn,louvain:qn,minimumSpanningTree:zi,pageRank:Me,getNeighbors:Ma,Stack:cc,GADDI:ch},fc=Gn.a.transform,gf=function(n){return function(t,e){return t[n]-e[n]}},hc=function(n,t,e){return n>=t&&n<=e},kl=function(n,t,e,r){var i=1e-4,l={x:e.x-n.x,y:e.y-n.y},d={x:t.x-n.x,y:t.y-n.y},v={x:r.x-e.x,y:r.y-e.y},D=d.x*v.y-d.y*v.x,R=D*D,F=1/D,Z=d.x*d.x+d.y*d.y,J=v.x*v.x+v.y*v.y;if(R>i*Z*J){var it=(l.x*v.y-l.y*v.x)*F,dt=(l.x*d.y-l.y*d.x)*F;return!hc(it,0,1)||!hc(dt,0,1)?null:{x:n.x+it*d.x,y:n.y+it*d.y}}return null},Mu=function(n,t){var e=n.x,r=n.y,i=n.width,l=n.height,d=e+i/2,v=r+l/2,D=[],R={x:d,y:v};D.push({x:e,y:r}),D.push({x:e+i,y:r}),D.push({x:e+i,y:r+l}),D.push({x:e,y:r+l}),D.push({x:e,y:r});for(var F=null,Z=1;Z<D.length&&(F=kl(D[Z-1],D[Z],R,t),!F);Z++);return F},dc=function(n,t){var e=n.x,r=n.y,i=n.r,l=t.x,d=t.y,v=l-e,D=d-r,R=Math.sqrt(v*v+D*D);if(R<i)return null;var F=Math.sign(v),Z=Math.sign(D),J=Math.atan(D/v);return{x:e+Math.abs(i*Math.cos(J))*F,y:r+Math.abs(i*Math.sin(J))*Z}},vc=function(n,t){var e=n.rx,r=n.ry,i=n.x,l=n.y,d=t.x-i,v=t.y-l,D=Math.atan2(v/r,d/e);return D<0&&(D+=2*Math.PI),{x:i+e*Math.cos(D),y:l+r*Math.sin(D)}},Is=function(n,t,e){e===void 0&&(e=1);var r=[n.x,n.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Gn.d.transformMat3(r,r,t),{x:r[0],y:r[1]}},pf=function(n,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var r=Gn.b.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[n.x,n.y,e];return Gn.d.transformMat3(i,i,r),{x:i[0],y:i[1]}},eo=function(n,t,e){var r=n.x-t.x,i=n.y-t.y,l=n.x-e.x,d=n.y-e.y,v=(n.x*n.x-t.x*t.x-t.y*t.y+n.y*n.y)/2,D=(n.x*n.x-e.x*e.x-e.y*e.y+n.y*n.y)/2,R=i*l-r*d;return{x:-(d*v-i*D)/R,y:-(r*D-l*v)/R}},gc=function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(e*e+r*r)},fd=function(n,t){var e=[];return n.forEach(function(r){var i=[];r.forEach(function(l){i.push(l*t)}),e.push(i)}),e},yf=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var i=0;i<e;i+=1)r===i?t[r][i]=0:n[r][i]===0||!n[r][i]?t[r][i]=Infinity:t[r][i]=n[r][i]}for(var l=0;l<e;l+=1)for(var r=0;r<e;r+=1)for(var i=0;i<e;i+=1)t[r][i]>t[r][l]+t[l][i]&&(t[r][i]=t[r][l]+t[l][i]);return t},ks=function(n,t){var e=n.nodes,r=n.edges,i=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(d,v){l[d.id]=v;var D=[];i.push(D)}),r&&r.forEach(function(d){var v=d.source,D=d.target,R=l[v],F=l[D];i[R][F]=1,t||(i[F][R]=1)}),i},ea=function(n,t){n.translate(t.x,t.y)},pc=function(n,t,e,r){r===void 0&&(r={duration:500});var i=n.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var l=n.getCanvasBBox(),d=t.x-l.minX,v=t.y-l.minY;if(e){var D=d*i[0],R=v*i[4],F=0,Z=0,J=0,it=0;n.animate(function(bt){return J=D*bt,it=R*bt,i=fc(i,[["t",J-F,it-Z]]),F=J,Z=it,{matrix:i}},r)}else{var dt=fc(i,[["t",d,v]]);n.setMatrix(dt)}},hd=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=t;Object(g.isArray)(t)||(r=[t,t]),Object(g.isArray)(t)&&t.length===1&&(r=[t[0],t[0]]),e=fc(e,[["s",r[0],r[1]]]),n.setMatrix(e)},mf=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=fc(e,[["r",t]]),n.setMatrix(e)},Vs=function(n,t,e){for(var r=[],i=0;i<n;i++)r[i]=0;return e.forEach(function(l){l.source&&(r[t[l.source]]+=1),l.target&&(r[t[l.target]]+=1)}),r};function dd(u,n,t){return(t[0]-u[0])*(n[1]-u[1])==(n[0]-u[0])*(t[1]-u[1])&&Math.min(u[0],n[0])<=t[0]&&t[0]<=Math.max(u[0],n[0])&&Math.min(u[1],n[1])<=t[1]&&t[1]<=Math.max(u[1],n[1])}var nl=function(n,t,e){var r=!1,i=n.length,l=1e-6;function d(F){return Math.abs(F)<l?0:F<0?-1:1}if(i<=2)return!1;for(var v=0;v<i;v++){var D=n[v],R=n[(v+1)%i];if(dd(D,R,[t,e]))return!0;d(D[1]-e)>0!=d(R[1]-e)>0&&d(t-(e-D[1])*(D[0]-R[0])/(D[1]-R[1])-D[0])<0&&(r=!r)}return r},Ka=function(n,t){return!(t.minX>n.maxX||t.maxX<n.minX||t.minY>n.maxY||t.maxY<n.minY)},Xs=function(n,t){var e=!1;return Object(g.each)(n,function(r){if(kl(r.from,r.to,t.from,t.to))return e=!0,!1}),e},xl=function(n,t){var e=function(Z){var J=Z.map(function(dt){return dt[0]}),it=Z.map(function(dt){return dt[1]});return{minX:Math.min.apply(null,J),maxX:Math.max.apply(null,J),minY:Math.min.apply(null,it),maxY:Math.max.apply(null,it)}},r=function(Z){for(var J=[],it=Z.length,dt=0;dt<it-1;dt++){var bt=Z[dt],Dt=Z[dt+1];J.push({from:{x:bt[0],y:bt[1]},to:{x:Dt[0],y:Dt[1]}})}if(J.length>1){var At=Z[0],wt=Z[it-1];J.push({from:{x:wt[0],y:wt[1]},to:{x:At[0],y:At[1]}})}return J};if(n.length<2||t.length<2)return!1;var i=e(n),l=e(t);if(!Ka(i,l))return!1;var d=!1;if(Object(g.each)(t,function(F){if(nl(n,F[0],F[1]))return d=!0,!1}),d||(Object(g.each)(n,function(F){if(nl(t,F[0],F[1]))return d=!0,!1}),d))return!0;var v=r(n),D=r(t),R=!1;return Object(g.each)(D,function(F){if(Xs(v,F))return R=!0,!1}),R},il=function(){function u(n,t,e,r){this.x1=n,this.y1=t,this.x2=e,this.y2=r}return u.prototype.getBBox=function(){var n=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2),i={x:n,y:t,minX:n,minY:t,maxX:e,maxY:r,width:e-n,height:r-t};return i},u}(),Vl=function(n,t){var e={top:[n.minX,n.minY,n.maxX,n.minY],left:[n.minX,n.minY,n.minX,n.maxY],bottom:[n.minX,n.maxY,n.maxX,n.maxY],right:[n.maxX,n.minY,n.maxX,n.maxY]};return e[t]},vd=function(n,t){var e=(t.x2-t.x1)*(n.y1-t.y1)-(t.y2-t.y1)*(n.x1-t.x1),r=(n.x2-n.x1)*(n.y1-t.y1)-(n.y2-n.y1)*(n.x1-t.x1),i=(t.y2-t.y1)*(n.x2-n.x1)-(t.x2-t.x1)*(n.y2-n.y1);if(i){var l=e/i,d=r/i;if(l>=0&&l<=1&&d>=0&&d<=1)return l}return Number.POSITIVE_INFINITY},bf=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),i=0,l=[],d=0;d<4;d++){var v=Vl(r,e[d]),D=v[0],R=v[1],F=v[2],Z=v[3];l[d]=kl({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:D,y:R},{x:F,y:Z}),l[d]&&(i+=1)}return[l,i]},bs=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),i=Number.POSITIVE_INFINITY,l=0,d=0;d<4;d++){var v=Vl(r,e[d]),D=v[0],R=v[1],F=v[2],Z=v[3],J=vd(t,new il(D,R,F,Z));J=Math.abs(J-.5),J>=0&&J<=1&&(l+=1,i=J<i?J:i)}return l===0?-1:i},yc=function(n){var t=0,e=0;if(n.length>0){for(var r=0,i=n;r<i.length;r++){var l=i[r];t+=l.x,e+=l.y}t/=n.length,e/=n.length}return{x:t,y:e}},Hs=function(n,t){return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)},io=function(n,t){var e=t.x1,r=t.y1,i=t.x2-e,l=t.y2-r,d=n.x-e,v=n.y-r,D=d*i+v*l,R;D<=0?R=0:(d=i-d,v=l-v,D=d*i+v*l,D<=0?R=0:R=D*D/(i*i+l*l));var F=d*d+v*v-R;return F<0&&(F=0),F},Cu=function(n,t,e){return e===void 0&&(e=.001),Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<Math.pow(e,2)},Of=function(n,t){var e=n.x<t.x,r=n.x>t.x+t.width,i=n.y>t.y+t.height,l=n.y<t.y,d=e||r||i||l;if(!d)return 0;if(i&&!e&&!r)return Math.pow(t.y+t.height-n.y,2);if(l&&!e&&!r)return Math.pow(n.y-t.y,2);if(e&&!i&&!l)return Math.pow(t.x-n.x,2);if(r&&!i&&!l)return Math.pow(t.x+t.width-n.x,2);var v=Math.min(Math.abs(t.x-n.x),Math.abs(t.x+t.width-n.x)),D=Math.min(Math.abs(t.y-n.y),Math.abs(t.y+t.height-n.y));return v*v+D*D},El=function(n,t){var e=n[0],r=n[1],i=n[2],l=n[3],d=t.x,v=t.y,D=[i-e,l-r];if(Gn.c.exactEquals(D,[0,0]))return NaN;var R=[-D[1],D[0]];Gn.c.normalize(R,R);var F=[d-e,v-r];return Math.abs(Gn.c.dot(F,R))},Ls="rgb(95, 149, 255)",hh="rgb(255, 255, 255)",Au="rgb(0, 0, 0)",dh="rgb(247, 250, 255)",xf="rgb(239, 244, 255)",js="rgb(253, 253, 253)",mc="rgb(250, 250, 250)",Tu="rgb(224, 224, 224)",vh="rgb(234, 234, 234)",Ef="rgb(245, 245, 245)",bc="rgb(191, 213, 255)",Sf="#4572d9",Oc="rgb(223, 234, 255)",Ri={mainStroke:Ls,mainFill:xf,activeStroke:Ls,activeFill:dh,inactiveStroke:bc,inactiveFill:dh,selectedStroke:Ls,selectedFill:hh,highlightStroke:Sf,highlightFill:Oc,disableStroke:Tu,disableFill:mc,edgeMainStroke:Tu,edgeActiveStroke:Ls,edgeInactiveStroke:vh,edgeSelectedStroke:Ls,edgeHighlightStroke:Ls,edgeDisableStroke:Ef,comboMainStroke:Tu,comboMainFill:js,comboActiveStroke:Ls,comboActiveFill:dh,comboInactiveStroke:Tu,comboInactiveFill:js,comboSelectedStroke:Ls,comboSelectedFill:js,comboHighlightStroke:Sf,comboHighlightFill:js,comboDisableStroke:vh,comboDisableFill:mc},kn={version:"0.3.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Ri.mainStroke,fill:xf},size:20,color:Ri.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Ri.activeFill,stroke:Ri.activeStroke}},nodeStateStyles:{active:{fill:Ri.activeFill,stroke:Ri.activeStroke,lineWidth:2,shadowColor:Ri.mainStroke,shadowBlur:10},selected:{fill:Ri.selectedFill,stroke:Ri.selectedStroke,lineWidth:4,shadowColor:Ri.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Ri.highlightFill,stroke:Ri.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Ri.inactiveFill,stroke:Ri.inactiveStroke,lineWidth:1},disable:{fill:Ri.disableFill,stroke:Ri.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Au,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Ri.edgeMainStroke,lineAppendWidth:2},color:Ri.edgeMainStroke},edgeStateStyles:{active:{stroke:Ri.edgeActiveStroke,lineWidth:1},selected:{stroke:Ri.edgeSelectedStroke,lineWidth:2,shadowColor:Ri.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ri.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Ri.edgeInactiveStroke,lineWidth:1},disable:{stroke:Ri.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Au,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Ri.comboMainFill,lineWidth:1,stroke:Ri.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Ri.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Ri.comboActiveStroke,lineWidth:1,fill:Ri.comboActiveFill},selected:{stroke:Ri.comboSelectedStroke,lineWidth:2,fill:Ri.comboSelectedFill,shadowColor:Ri.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ri.comboHighlightStroke,lineWidth:2,fill:Ri.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Ri.comboInactiveStroke,fill:Ri.comboInactiveFill,lineWidth:1},disable:{stroke:Ri.comboDisableStroke,fill:Ri.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},xc={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Oo=Math.PI,Ui=Math.sin,_o=Math.cos,ao=Ui(Oo/8),oo=_o(Oo/8),Du=function(n,t){var e=n.getBBox(),r={x:e.minX,y:e.minY},i={x:e.maxX,y:e.maxY};if(t){var l=t.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),r=Is(r,l),i=Is(i,l)}var d=r.x,v=r.y,D=i.x,R=i.y;return{x:d,y:v,minX:d,minY:v,maxX:D,maxY:R,width:D-d,height:R-v}},Mf=function(n){var t=n.sourceNode||n.targetNode,e=t.get("group"),r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var i=t.getKeyShape(),l=i.getBBox(),d=n.loopCfg||{},v=d.dist||Math.max(l.width,l.height)*2,D=d.position||kn.defaultLoopPosition,R=[r[6],r[7]],F=[n.startPoint.x,n.startPoint.y],Z=[n.endPoint.x,n.endPoint.y],J=l.height/2,it=l.height/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo;if(F[0]===Z[0]&&F[1]===Z[1]){switch(D){case"top":F=[R[0]-dt,R[1]-bt],Z=[R[0]+Dt,R[1]-At];break;case"top-right":J=l.height/2,it=l.width/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]+dt,R[1]-bt],Z=[R[0]+At,R[1]-Dt];break;case"right":J=l.width/2,it=l.width/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]+bt,R[1]-dt],Z=[R[0]+At,R[1]+Dt];break;case"bottom-right":J=l.width/2,it=l.height/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]+bt,R[1]+dt],Z=[R[0]+Dt,R[1]+At];break;case"bottom":J=l.height/2,it=l.height/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]+dt,R[1]+bt],Z=[R[0]-Dt,R[1]+At];break;case"bottom-left":J=l.height/2,it=l.width/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]-dt,R[1]+bt],Z=[R[0]-At,R[1]+Dt];break;case"left":J=l.width/2,it=l.width/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]-bt,R[1]+dt],Z=[R[0]-At,R[1]-Dt];break;case"top-left":J=l.width/2,it=l.height/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]-bt,R[1]-dt],Z=[R[0]-Dt,R[1]-At];break;default:J=l.width/2,it=l.width/2,dt=J*ao,bt=J*oo,Dt=it*ao,At=it*oo,F=[R[0]-dt,R[1]-bt],Z=[R[0]+Dt,R[1]-At]}if(d.clockwise===!1){var wt=[F[0],F[1]];F=[Z[0],Z[1]],Z=[wt[0],wt[1]]}}var zt=[F[0]-R[0],F[1]-R[1]],Kt=(J+v)/J,$t=(it+v)/it;d.clockwise===!1&&(Kt=(it+v)/it,$t=(J+v)/J);var ee=Gn.c.scale([0,0],zt,Kt),re=[R[0]+ee[0],R[1]+ee[1]],fe=[Z[0]-R[0],Z[1]-R[1]],ce=Gn.c.scale([0,0],fe,$t),Ae=[R[0]+ce[0],R[1]+ce[1]];return n.startPoint={x:F[0],y:F[1]},n.endPoint={x:Z[0],y:Z[1]},n.controlPoints=[{x:re[0],y:re[1]},{x:Ae[0],y:Ae[1]}],n},Xl=function(n,t,e,r,i){var l=1e-4,d=[],v=n.getPoint(t);if(v===null)return{x:0,y:0,angle:0};if(t<l)d=n.getStartTangent().reverse();else if(t>1-l)d=n.getEndTangent();else{var D=n.getPoint(t+l);d.push([v.x,v.y]),d.push([D.x,D.y])}var R=Math.atan2(d[1][1]-d[0][1],d[1][0]-d[0][0]);if(R<0&&(R+=Oo*2),e&&(v.x+=_o(R)*e,v.y+=Ui(R)*e),r){var F=R-Oo/2;R>1/2*Oo&&R<3*1/2*Oo&&(F-=Oo),v.x+=_o(F)*r,v.y+=Ui(F)*r}var Z={x:v.x,y:v.y,angle:R};return i?(R>1/2*Oo&&R<3*1/2*Oo&&(R-=Oo),Object(he.__assign)({rotate:R},Z)):Z},Cf=function u(n,t){if(t(n)===!1)return!1;if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return!1}return!0},qo=function u(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return}return t(n)!==!1},wo=function(n,t){typeof t=="function"&&Cf(n,t)},Rs=function(n,t){typeof t=="function"&&qo(n,t)},Os=function(n,t){return t*(xc[n]||1)},Pu=function(n,t){var e=0,r=new RegExp("[\u4E00-\u9FA5]+");return n.split("").forEach(function(i){r.test(i)?e+=t:e+=Os(i,t)}),[e,t]},qi=function(n,t){var e=[],r={},i={};n.forEach(function(v){i[v.id]=v}),n.forEach(function(v,D){var R=Object(g.clone)(v);R.itemType="combo",R.children=void 0,R.parentId===R.id?(console.warn("The parentId for combo "+R.id+" can not be the same as the combo's id"),delete R.parentId):R.parentId&&!i[R.parentId]&&(console.warn("The parent combo for combo "+R.id+" does not exist!"),delete R.parentId);var F=r[R.id];if(F){if(R.children=F.children,r[R.id]=R,F=R,!F.parentId){e.push(F);return}var Z=r[F.parentId];if(Z)Z.children?Z.children.push(R):Z.children=[R];else{var J={id:F.parentId,children:[F]};r[F.parentId]=J,r[R.id]=R}return}if(Object(g.isString)(v.parentId)){var it=r[v.parentId];if(it)it.children?it.children.push(R):it.children=[R],r[R.id]=R;else{var dt={id:v.parentId,children:[R]};r[dt.id]=dt,r[R.id]=R}}else e.push(R),r[R.id]=R});var l={};(t||[]).forEach(function(v){l[v.id]=v;var D=r[v.comboId];if(D){var R={id:v.id,comboId:v.comboId};D.children?D.children.push(R):D.children=[R],R.itemType="node",r[v.id]=R}});var d=0;return e.forEach(function(v){v.depth=d+10,Cf(v,function(D){var R,F=r[D.id].itemType;F==="node"?R=r[D.comboId]:R=r[D.parentId],R&&F==="node"?D.depth=d+1:D.depth=d+10,d<D.depth&&(d=D.depth);var Z=l[D.id];return Z&&(Z.depth=D.depth),!0})}),e},Sl=function(n,t,e){var r=n,i,l={root:{children:n}},d=!1,v="root";(n||[]).forEach(function(J){if(!d){if(J.id===t){i=J,J.itemType==="combo"?i.parentId=e:i.comboId=e,d=!0;return}wo(J,function(it){return l[it.id]={children:it.children},r=l[it.parentId||it.comboId||"root"].children,it&&(it.removed||t===it.id)&&r?(v=it.parentId||it.comboId||"root",i=it,it.itemType==="combo"?i.parentId=e:i.comboId=e,d=!0,!1):!0})}}),r=l[v].children;var D=r?r.indexOf(i):-1;if(D>-1&&r.splice(D,1),d||(i={id:t,itemType:"node",comboId:e},l[t]={children:void 0}),t){var R=!1;if(e){var F=0;(n||[]).forEach(function(J){R||wo(J,function(it){return e===it.id?(R=!0,it.children?it.children.push(i):it.children=[i],F=it.depth,i.itemType==="node"?i.depth=F+2:i.depth=F+1,!1):!0})})}else(!e||!R)&&i.itemType!=="node"&&n.push(i);var Z=i.depth;wo(i,function(J){return J.itemType==="node"?Z+=2:Z+=1,J.depth=Z,!0})}return n},Ml=function(n,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!n||n.length===0||(n.forEach(function(r){var i=t.findById(r.id);if(!(!i||!i.isVisible())){i.set("bboxCanvasCache",void 0);var l=i.getCanvasBBox();l.x&&e.minX>l.minX&&(e.minX=l.minX),l.y&&e.minY>l.minY&&(e.minY=l.minY),l.x&&e.maxX<l.maxX&&(e.maxX=l.maxX),l.y&&e.maxY<l.maxY&&(e.maxY=l.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(r){(e[r]===Infinity||e[r]===-Infinity)&&(e[r]=void 0)})),e},Af=function(n){var t=Object(g.isNumber)(n.x)||Object(g.isNumber)(n.y)||n.type||n.anchorPoints||n.size;return n.style&&(t=t||Object(g.isNumber)(n.style.r)||Object(g.isNumber)(n.style.width)||Object(g.isNumber)(n.style.height)||Object(g.isNumber)(n.style.rx)||Object(g.isNumber)(n.style.ry)),t},Hl=function(n){var t={};return Object.keys(n).forEach(function(e){var r=n[e];if(Object(g.isObject)(r)){var i={};Object.keys(r).forEach(function(l){var d=r[l];l==="img"&&!Object(g.isString)(d)||(i[l]=Object(g.clone)(d))}),t[e]=i}else t[e]=Object(g.clone)(r)}),t},Tf=function(n){if(!n)return console.error("G6 Error Tips: the data must be defined"),!1;var t=n.nodes,e=n.edges,r=n.combos,i=r===void 0?[]:r;if(!t&&!e){var l=!0;return wo(n,function(Z){return Object(g.isString)(Z.id)?!0:(l=!1,!1)}),l}var d=(t||[]).find(function(Z){return!Object(g.isString)(Z.id)});if(d)return console.warn("G6 Warning Tips: missing 'id' property, or %c"+d.id+"%c is not a string.","font-size: 20px; color: red;",""),!1;var v=(t||[]).map(function(Z){return Z.id}),D=i.map(function(Z){return Z.id}),R=Object(he.__spreadArray)(Object(he.__spreadArray)([],v),D),F=(e||[]).find(function(Z){return!R.includes(Z.source)||!R.includes(Z.target)});return F?(console.warn("G6 Warning Tips: The source %c"+F.source+"%c or the target %c"+F.target+"%c of the edge do not exist in the nodes or combos.","font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},Ec=function(n,t){if(n==="node"||n==="combo"){if(t.id&&!Object(g.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c"+t.id+"%c is not a string.","font-size: 20px; color: red;",""),!1}else if(n==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},gd=function(){function u(n){this.graph=n,this.destroyed=!1,this.modes=n.get("modes")||{default:[]},this.formatModes(),this.mode=n.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return u.prototype.formatModes=function(){var n=this.modes;Object(g.each)(n,function(t){Object(g.each)(t,function(e,r){Object(g.isString)(e)&&(t[r]={type:e})})})},u.prototype.setBehaviors=function(n){var t=this.graph,e=this.modes[n],r=[],i;Object(g.each)(e||[],function(l){var d=ho.getBehavior(l.type||l);!d||(i=new d(l),i&&(i.bind(t),r.push(i)))}),this.currentBehaves=r},u.mergeBehaviors=function(n,t){return Object(g.each)(t,function(e){n.indexOf(e)<0&&(Object(g.isString)(e)&&(e={type:e}),n.push(e))}),n},u.filterBehaviors=function(n,t){var e=[];return n.forEach(function(r){var i="";Object(g.isString)(r)?i=r:i=r.type,t.indexOf(i)<0&&e.push(r)}),e},u.prototype.setMode=function(n){var t=this,e=t.modes,r=t.graph,i=n,l=e[i];!l||(r.emit("beforemodechange",{mode:n}),Object(g.each)(this.currentBehaves,function(d){d.delegate&&d.delegate.remove(),d.unbind(r)}),this.setBehaviors(i),r.emit("aftermodechange",{mode:n}),this.mode=n)},u.prototype.getMode=function(){return this.mode},u.prototype.manipulateBehaviors=function(n,t,e){var r=this,i;if(Object(g.isArray)(n)?i=n:i=[n],Object(g.isArray)(t))return Object(g.each)(t,function(d){r.modes[d]?e?r.modes[d]=u.mergeBehaviors(r.modes[d]||[],i):r.modes[d]=u.filterBehaviors(r.modes[d]||[],i):e&&(r.modes[d]=i)}),this;var l=t;return t||(l=this.mode),this.modes[l]||e&&(this.modes[l]=i),e?this.modes[l]=u.mergeBehaviors(this.modes[l]||[],i):this.modes[l]=u.filterBehaviors(this.modes[l]||[],i),this.setMode(this.mode),this},u.prototype.updateBehavior=function(n,t,e){Object(g.isString)(n)&&(n={type:n});var r=[];if(!e||e===this.mode||e==="default"){if(r=this.currentBehaves,!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var i=r.length,l=0;l<i;l++){var d=r[l];if(d.type===n.type)return d.updateCfg(t),this;l===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(r=this.modes[e],!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var v=r.length,l=0;l<v;l++){var d=r[l];if(d.type===n.type||d===n.type)return d===n.type&&(d={type:d}),Object.assign(d,t),r[l]=d,this;l===v-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},u.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},u}(),pd=gd,yd=a("U8wd"),pv=function(u){Object(he.__extends)(n,u);function n(t,e){var r=u.call(this,t,e)||this;return r.item=e.item,r.canvasX=e.canvasX,r.canvasY=e.canvasY,r.wheelDelta=e.wheelDelta,r.detail=e.detail,r}return n}(yd.Event),Df=function(n){return n+"-"+Math.random()+Date.now()},Iu=function(n){var t=0,e=0,r=0,i=0;if(Object(g.isNumber)(n))t=e=r=i=n;else if(Object(g.isString)(n)){var l=parseInt(n,10);t=e=r=i=l}else Object(g.isArray)(n)&&(t=n[0],r=Object(g.isNil)(n[1])?n[0]:n[1],i=Object(g.isNil)(n[2])?n[0]:n[2],e=Object(g.isNil)(n[3])?r:n[3]);return[t,r,i,e]},md=function(n){var t=new pv(n.type,n);return t.clientX=n.clientX,t.clientY=n.clientY,t.x=n.x,t.y=n.y,t.target=n.target,t.currentTarget=n.currentTarget,t.bubbles=!0,t.item=n.item,t},Lu=function(n){if(!n)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],r=0;r<t;r++)if(n[r]!==e[r])return!0;return!1},Yl=function(n){return Number.isNaN(Number(n))},gh=function(n){for(var t=Infinity,e=-Infinity,r=Infinity,i=-Infinity,l=0;l<n.length;l++){var d=n[l],v=d.getBBox(),D=v.minX,R=v.minY,F=v.maxX,Z=v.maxY;D<t&&(t=D),R<r&&(r=R),F>e&&(e=F),Z>i&&(i=Z)}var J=Math.floor(t),it=Math.floor(r),dt=Math.ceil(e)-Math.floor(t),bt=Math.ceil(i)-Math.floor(r);return{x:J,y:it,width:dt,height:bt,minX:t,minY:r,maxX:e,maxY:i}},yv=function(n,t,e,r,i){t===void 0&&(t=15),e===void 0&&(e="quadratic"),r===void 0&&(r=void 0),i===void 0&&(i=void 0);for(var l=n.length,d=t*2,v=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],D={},R=[],F={},Z=0;Z<l;Z++){var J=n[Z],it=J.source,dt=J.target,bt=it+"-"+dt;if(!R[Z]){D[bt]||(D[bt]=[]),R[Z]=!0,D[bt].push(J);for(var Dt=0;Dt<l;Dt++)if(Z!==Dt){var At=n[Dt],wt=At.source,zt=At.target;R[Dt]||(it===zt&&dt===wt?(D[bt].push(At),R[Dt]=!0,F[wt+"|"+zt+"|"+(D[bt].length-1)]=!0):it===wt&&dt===zt&&(D[bt].push(At),R[Dt]=!0))}}}for(var Kt in D)for(var $t=D[Kt],ee=$t.length,re=0;re<ee;re++){var fe=$t[re];if(fe.source===fe.target){i&&(fe.type=i),fe.loopCfg={position:v[re%8],dist:Math.floor(re/8)*20+50};continue}if(ee===1&&r&&fe.source!==fe.target){fe.type=r;continue}fe.type=e;var ce=(re%2==0?1:-1)*(F[fe.source+"|"+fe.target+"|"+re]?-1:1);ee%2==1?fe.curveOffset=ce*Math.ceil(re/2)*d:fe.curveOffset=ce*(Math.floor(re/2)*d+t)}return n},Pf=function(){function u(n){this.destroyed=!1,this.graph=n,this.destroyed=!1}return u.prototype.getViewCenter=function(){var n=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),r=t.get("height");return{x:(e-n[1]-n[3])/2+n[3],y:(r-n[0]-n[2])/2+n[0]}},u.prototype.fitCenter=function(){var n=this.graph,t=n.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var r=this.getViewCenter(),i={x:e.x+e.width/2,y:e.y+e.height/2};n.translate(r.x-i.x,r.y-i.y)}},u.prototype.fitView=function(){var n=this.graph,t=this.getFormatPadding(),e=n.get("width"),r=n.get("height"),i=n.get("group");i.resetMatrix();var l=i.getCanvasBBox();if(!(l.width===0||l.height===0)){var d=this.getViewCenter(),v={x:l.x+l.width/2,y:l.y+l.height/2};n.translate(d.x-v.x,d.y-v.y);var D=(e-t[1]-t[3])/l.width,R=(r-t[0]-t[2])/l.height,F=D;D>R&&(F=R),n.zoom(F,d)}},u.prototype.getFormatPadding=function(){var n=this.graph.get("fitViewPadding");return Iu(n)},u.prototype.focusPoint=function(n,t,e){var r=this,i=this.getViewCenter(),l=this.getPointByCanvas(i.x,i.y),d=this.graph.get("group").getMatrix();if(d||(d=[1,0,0,0,1,0,0,0,1]),t){var v=(l.x-n.x)*d[0],D=(l.y-n.y)*d[4],R=0,F=0,Z=0,J=0;this.graph.get("canvas").animate(function(it){Z=v*it,J=D*it,r.graph.translate(Z-R,J-F),R=Z,F=J},Object(he.__assign)({},e))}else this.graph.translate((l.x-n.x)*d[0],(l.y-n.y)*d[4])},u.prototype.getPointByCanvas=function(n,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=pf({x:n,y:t},e);return r},u.prototype.getPointByClient=function(n,t){var e=this.graph.get("canvas"),r=e.getPointByClient(n,t);return this.getPointByCanvas(r.x,r.y)},u.prototype.getClientByPoint=function(n,t){var e=this.graph.get("canvas"),r=this.getCanvasByPoint(n,t),i=e.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},u.prototype.getCanvasByPoint=function(n,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Is({x:n,y:t},e)},u.prototype.focus=function(n,t,e){if(Object(g.isString)(n)&&(n=this.graph.findById(n)),n){var r=0,i=0;if(n.getType&&n.getType()==="edge"){var l=n.getSource().get("group").getMatrix(),d=n.getTarget().get("group").getMatrix();l&&d?(r=(l[6]+d[6])/2,i=(l[7]+d[7])/2):(l||d)&&(r=l?l[6]:d[6],i=l?l[7]:d[7])}else{var v=n.get("group"),D=v.getMatrix();D||(D=[1,0,0,0,1,0,0,0,1]),r=D[6],i=D[7]}this.focusPoint({x:r,y:i},t,e)}},u.prototype.changeSize=function(n,t){var e=this.graph;if(!Object(g.isNumber)(n)||!Object(g.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:n,height:t});var r=e.get("canvas");r.changeSize(n,t);var i=e.get("plugins");i.forEach(function(l){l.get("gridContainer")&&l.positionInit()})},u.prototype.destroy=function(){this.graph=null,this.destroyed=!1},u}(),Sc=Pf;function Mc(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mc=function(t){return typeof t}:Mc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(u)}function bd(u){if(typeof u!="string")return u;var n=function(ee){if(typeof ee!="string")return ee;try{return JSON.parse(ee.trim())}catch(re){return ee.trim()}},t=n(u);if(typeof t!="string")return t;for(var e=function(ee){return ee[ee.length-1]},r=u.trim(),i=[],l=[],d=function(){for(var ee=[],re=0;re<arguments.length;re++)ee[re]=arguments[re];return ee.some(function(fe){return e(l)===fe})},v=function(){return e(i)},D=null,R=0,F="";R<r.length;){var Z=r[R],J=d('"',"'");if(!J&&!Z.trim()){R+=1;continue}var it=r[R-1]==="\\",dt=d("}"),bt=d("]"),Dt=d(","),At=v();if(J)if(e(l)===Z&&!it){l.pop();var wt=n(F);At.push(wt),D=wt,F=""}else F+=Z;else if(bt&&Z===",")F&&(At.push(n(F)),F="");else if(dt&&Z===":")l.push(","),F&&(At.push(F),F="");else if(Dt&&Z===",")F&&(At.push(n(F)),F=""),l.pop();else if(Z==="}"&&(dt||Dt)){F&&(At.push(n(F)),F=""),Dt&&l.pop();for(var zt={},Kt=1;Kt<At.length;Kt+=2)zt[At[Kt-1]]=At[Kt];i.pop(),i.length&&e(i).push(zt),l.pop(),D=zt}else Z==="]"&&bt?(F&&(At.push(n(F)),F=""),i.pop(),i.length&&e(i).push(At),l.pop(),D=At):Z==="{"?(i.push([]),l.push("}")):Z==="["?(i.push([]),l.push("]")):Z==='"'?l.push('"'):Z==="'"?l.push("'"):F+=Z;R+=1}return D||F}var Od=function(n){return n.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},xd=function(n){return function(t){for(var e=n.length,r=[],i=0,l="";i<e;)if(n[i]==="{"&&n[i+1]==="{")r.push(l),l="",i+=2;else if(n[i]==="}"&&n[i+1]==="}"){if(r.length){var d=r.pop();l=Object(g.get)(t,l,d.endsWith("=")?'"{'+l+'}"':l),r.push(d+l)}i+=2,l=""}else l+=n[i],i+=1;return r.push(l),r.map(function(v,D){return r[D-1]&&r[D-1].endsWith("=")?'"{'+v+'}"':v}).join("")}};function ph(u,n){var t={},e=u.getAttributeNames&&u.getAttributeNames()||[],r=u.children&&Array.from(u.children).map(function(d){return ph(d,n)}),i={},l=u.tagName?u.tagName.toLowerCase():"group";return l==="text"&&(t.text=u.innerText),i.type=l,l==="img"&&(i.type="image"),Array.from(e).forEach(function(d){var v=Od(d),D=u.getAttribute(d);try{if(v==="style"||v==="attrs"){var R=bd(D);t=Object(he.__assign)(Object(he.__assign)({},t),R)}else i[v]=bd(D)}catch(F){if(v==="style")throw F;i[v]=D}}),i.attrs=t,n&&n.style&&i.name&&Mc(n.style[i.name])==="object"&&(i.attrs=Object(he.__assign)(Object(he.__assign)({},i.attrs),n.style[i.name])),n&&n.style&&i.keyshape&&(i.attrs=Object(he.__assign)(Object(he.__assign)({},i.attrs),n.style)),r.length&&(i.children=r),i}function yh(u,n,t){var e=u.attrs,r=e===void 0?{}:e,i={x:n.x||0,y:n.y||0,width:t.width||0,height:t.height||0},l,d;switch(u.type){case"maker":case"circle":r.r&&(d=2*r.r,l=2*r.r);break;case"text":r.text&&(d=Pu(r.text,r.fontSize||12)[0],l=16,i.y+=l,i.height=l,i.width=d,u.attrs=Object(he.__assign)({fontSize:12,fill:"#000"},r));break;default:r.width&&(d=r.width),r.height&&(l=r.height)}return l>=0&&(i.height=l),d>=0&&(i.width=d),r.marginTop&&(i.y+=r.marginTop),r.marginLeft&&(i.x+=r.marginLeft),i}function Cc(u,n){var t;n===void 0&&(n={x:0,y:0});var e=Object(he.__assign)({x:0,y:0,width:0,height:0},n);if((t=u.children)===null||t===void 0?void 0:t.length){var r=u.attrs,i=r===void 0?{}:r,l=i.marginTop,d=Object(he.__assign)({},n);l&&(d.y+=l);for(var v=0;v<u.children.length;v++){u.children[v].attrs.key=(i.key||"root")+" -"+v+" ";var D=Cc(u.children[v],d);if(D.bbox){var R=D.bbox;D.attrs.next==="inline"?d.x+=D.bbox.width:d.y+=D.bbox.height,R.width+R.x>e.width&&(e.width=R.width+R.x),R.height+R.y>e.height&&(e.height=R.height+R.y)}}}return u.bbox=yh(u,n,e),u.attrs=Object(he.__assign)(Object(he.__assign)({},u.attrs),u.bbox),u}function Ac(u,n){var t,e,r,i,l=(u||{}).type,d=((n==null?void 0:n.attrs)||{}).key;if(d&&u&&(u.attrs.key=d),!u&&n)return{action:"delete",val:n,type:l,key:d};if(u&&!n)return{action:"add",val:u,type:l};if(!u&&!n)return{action:"same",type:l};var v=[];if(((t=u.children)===null||t===void 0?void 0:t.length)>0||((e=n.children)===null||e===void 0?void 0:e.length)>0)for(var D=Math.max((r=u.children)===null||r===void 0?void 0:r.length,(i=n.children)===null||i===void 0?void 0:i.length),R=n.children||[],F=u.children||[],Z=0;Z<D;Z+=1)v.push(Ac(F[Z],R[Z]));var J=Object.keys(n.attrs),it=Object.keys(u.attrs);return n.type!==u.type?{action:"restructure",nowTarget:u,formerTarget:n,key:d,children:v}:J.filter(function(dt){return dt!=="children"}).some(function(dt){return u.attrs[dt]!==n.attrs[dt]||!it.includes(dt)})?{action:"change",val:u,children:v,type:l,key:d}:{action:"same",children:v,type:l,key:d}}function Kl(u){var n={},t=function(r){var i=typeof u=="function"?u(r):u,l=xd(i)(r),d=document.createElement("div");d.innerHTML=l;var v=d.children[0],D=Cc(ph(v,r));return d.remove(),D};return{draw:function(r,i){var l=t(r),d=i,v=function D(R){var F=R.attrs,Z=F===void 0?{}:F,J=R.bbox,it=R.type,dt=R.children,bt=Object(he.__rest)(R,["attrs","bbox","type","children"]);if(R.type!=="group"){var Dt=i.addShape(R.type,Object(he.__assign)({attrs:Z,origin:{bbox:J,type:it,children:dt}},bt));R.keyshape&&(d=Dt)}R.children&&R.children.forEach(function(At){return D(At)})};return v(l),n[r.id]=[l],d},update:function(r,i){n[r.id]||(n[r.id]=[]);var l=i.getContainer(),d=l.get("children"),v=t(r),D=n[r.id].pop(),R=Ac(v,D),F=function it(dt){var bt;dt.type!=="group"&&l.addShape(dt.type,{attrs:dt.attrs}),((bt=dt.children)===null||bt===void 0?void 0:bt.length)&&dt.children.map(function(Dt){return it(Dt)})},Z=function it(dt){var bt,Dt=d.find(function(At){return At.attrs.key===dt.attrs.key});Dt&&l.removeChild(Dt),((bt=dt.children)===null||bt===void 0?void 0:bt.length)&&dt.children.map(function(At){return it(At)})},J=function it(dt){var bt=dt.key;if(dt.type!=="group"){var Dt=d.find(function(wt){return wt.attrs.key===bt});switch(dt.action){case"change":if(Dt){var At=dt.val.keyshape?i.getOriginStyle():{};Dt.attr(Object(he.__assign)(Object(he.__assign)({},At),dt.val.attrs))}break;case"add":F(dt.val);break;case"delete":Z(dt.val);break;case"restructure":Z(dt.formerTarget),F(dt.nowTarget);break;default:break}}dt.children&&dt.children.forEach(function(wt){return it(wt)})};J(R),n[r.id].push(v)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Tc={};function mh(u){return Tc[u]||(Tc[u]=Object(g.upperFirst)(u)),Tc[u]}var Cl={defaultShapeType:"defaultType",className:null,getShape:function(n){var t=this,e=t[n]||t[t.defaultShapeType]||t["simple-circle"];return e},draw:function(n,t,e){var r=this.getShape(n),i=r.draw(t,e);return r.afterDraw&&r.afterDraw(t,e,i),i},baseUpdate:function(n,t,e){var r=this.getShape(n);r.update&&r.update(t,e),r.afterUpdate&&r.afterUpdate(t,e)},setState:function(n,t,e,r){var i=this.getShape(n);i.setState(t,e,r)},shouldUpdate:function(n){var t=this.getShape(n);return!!t.update},getControlPoints:function(n,t){var e=this.getShape(n);return e.getControlPoints(t)},getAnchorPoints:function(n,t){var e=this.getShape(n);return e.getAnchorPoints(t)}},If={options:{},draw:function(n,t){return this.drawShape(n,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.options.anchorPoints,e=n.anchorPoints||t;return e}},Dc=function(){function u(){}return u.registerFactory=function(n,t){var e=mh(n),r=Cl,i=Object(he.__assign)(Object(he.__assign)({},r),t);return u[e]=i,i.className=e,i},u.getFactory=function(n){var t=mh(n);return u[t]},u.registerNode=function(n,t,e){var r=u.Node,i;if(typeof t=="string"||typeof t=="function"){var l=Kl(t);i=Object(he.__assign)(Object(he.__assign)({},r.getShape("single-node")),l)}else if(t.jsx){var d=t.jsx,l=Kl(d);i=Object(he.__assign)(Object(he.__assign)(Object(he.__assign)({},r.getShape("single-node")),l),t)}else{r.getShape(e);var v=e?r.getShape(e):If;i=Object(he.__assign)(Object(he.__assign)({},v),t)}return i.type=n,i.itemType="node",r[n]=i,i},u.registerEdge=function(n,t,e){var r=u.Edge,i=e?r.getShape(e):If,l=Object(he.__assign)(Object(he.__assign)({},i),t);return l.type=n,l.itemType="edge",r[n]=l,l},u.registerCombo=function(n,t,e){var r=u.Combo,i=e?r.getShape(e):If,l=Object(he.__assign)(Object(he.__assign)({},i),t);return l.type=n,l.itemType="combo",r[n]=l,l},u}(),vo=Dc;Dc.registerFactory("node",{defaultShapeType:"circle"}),Dc.registerFactory("edge",{defaultShapeType:"line"}),Dc.registerFactory("combo",{defaultShapeType:"circle"});var ju="bboxCache",Lf="bboxCanvasCache",jf=["startArrow","endArrow"],Ed=function(){function u(n){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),n);var e=this.get("model"),r=e.id,i=this.get("type");r||(r=Df(i),this.get("model").id=r),this.set("id",r);var l=n.group;l&&(l.set("item",this),l.set("id",r)),this.init(),this.draw();var d=e.shape||e.type||(i==="edge"?"line":"circle"),v=this.get("shapeFactory");if(v&&v[d]){var D=v[d].options;if(D&&D.stateStyles){var R=this.get("styles")||e.stateStyles;R=Object(g.deepMix)({},D.stateStyles,R),this.set("styles",R)}}}return u.prototype.calculateBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=Du(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},u.prototype.calculateCanvasBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=Du(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},u.prototype.drawInner=function(){var n=this,t=n.get("shapeFactory"),e=n.get("group"),r=n.get("model");e.clear();var i=r.visible;if(i!==void 0&&!i&&n.changeVisibility(i),!!t){n.updatePosition(r);var l=n.getShapeCfg(r),d=l.type,v=t.draw(d,l,e);v&&(n.set("keyShape",v),v.set("isKeyShape",!0),v.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",d),this.restoreStates(t,d)}},u.prototype.setOriginStyle=function(){var n=this.get("group"),t=n.get("children"),e=this.getKeyShape(),r=this,i=e.get("name");if(this.get("originStyle")){var d=this.getOriginStyle();i&&!d[i]&&(d[i]={});var v=this.getCurrentStatesStyle();Object(g.each)(t,function(D){var R=D.get("name"),F=D.attr();if(R&&R!==i){var Z=v[R];d[R]||(d[R]={}),Z?Object.keys(F).forEach(function(dt){var bt=F[dt];bt!==Z[dt]&&(d[R][dt]=bt)}):d[R]=D.get("type")!=="image"?Object(g.clone)(F):r.getShapeStyleByName(R)}else{var J=D.attr(),it=Object(he.__assign)(Object(he.__assign)({},v),v[i]);Object.keys(J).forEach(function(dt){var bt=J[dt];it[dt]!==bt&&(i?d[i][dt]=bt:d[dt]=bt)})}}),d.path&&delete d.path,d.matrix&&delete d.matrix,d.x&&delete d.x,d.y&&delete d.y,d[i]&&d[i].x&&delete d[i].x,d[i]&&d[i].y&&delete d[i].y,r.set("originStyle",d)}else{var l={};Object(g.each)(t,function(D){var R=D.get("type"),F=D.get("name");if(F&&F!==i)l[F]=R!=="image"?Object(g.clone)(D.attr()):r.getShapeStyleByName(F);else{var Z=r.getShapeStyleByName();if(Z.path&&delete Z.path,Z.matrix&&delete Z.matrix,!i)Object.assign(l,Z);else if(F)l[i]=Z;else{var J=Df("shape");D.set("name",J),l[J]=R!=="image"?Object(g.clone)(D.attr()):r.getShapeStyleByName(F)}}}),r.set("originStyle",l)}},u.prototype.restoreStates=function(n,t){var e=this,r=e.get("states");Object(g.each)(r,function(i){n.setState(t,i,!0,e)})},u.prototype.init=function(){var n=vo.getFactory(this.get("type"));this.set("shapeFactory",n)},u.prototype.get=function(n){return this._cfg[n]},u.prototype.set=function(n,t){Object(g.isPlainObject)(n)?this._cfg=Object(he.__assign)(Object(he.__assign)({},this._cfg),n):this._cfg[n]=t},u.prototype.getDefaultCfg=function(){return{}},u.prototype.clearCache=function(){this.set(ju,null),this.set(Lf,null)},u.prototype.beforeDraw=function(){},u.prototype.afterDraw=function(){},u.prototype.afterUpdate=function(){},u.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},u.prototype.getShapeStyleByName=function(n){var t=this.get("group"),e;if(n?e=t.find(function(i){return i.get("name")===n}):e=this.getKeyShape(),e){var r={};return Object(g.each)(e.attr(),function(i,l){(l!=="img"||Object(g.isString)(i))&&(r[l]=i)}),r}return{}},u.prototype.getShapeCfg=function(n){var t=this.get("styles");if(t){var e=n;return e.style=Object(he.__assign)(Object(he.__assign)({},t),n.style),e}return n},u.prototype.getStateStyle=function(n){var t=this.get("styles"),e=t&&t[n];return e},u.prototype.getOriginStyle=function(){return this.get("originStyle")},u.prototype.getCurrentStatesStyle=function(){var n=this,t={},e=n.getStates();return!e||!e.length?this.getOriginStyle():(Object(g.each)(n.getStates(),function(r){t=Object.assign(t,n.getStateStyle(r))}),t)},u.prototype.setState=function(n,t){var e=this.get("states"),r=this.get("shapeFactory"),i=n,l=n;Object(g.isString)(t)&&(i=n+":"+t,l=n+":");var d=e;if(Object(g.isBoolean)(t)){var v=e.indexOf(l);if(t){if(v>-1)return;e.push(i)}else v>-1&&e.splice(v,1)}else if(Object(g.isString)(t)){var D=e.filter(function(Z){return Z.includes(l)});D.length>0&&this.clearStates(D),d=d.filter(function(Z){return!Z.includes(l)}),d.push(i),this.set("states",d)}if(r){var R=this.get("model"),F=R.type;r.setState(F,n,t,this)}},u.prototype.clearStates=function(n){var t=this,e=t.getStates(),r=t.get("shapeFactory"),i=t.get("model"),l=i.type;n||(n=e),Object(g.isString)(n)&&(n=[n]);var d=e.filter(function(v){return n.indexOf(v)===-1});t.set("states",d),n.forEach(function(v){r.setState(l,v,!1,t)})},u.prototype.getContainer=function(){return this.get("group")},u.prototype.getKeyShape=function(){return this.get("keyShape")},u.prototype.getModel=function(){return this.get("model")},u.prototype.getType=function(){return this.get("type")},u.prototype.getID=function(){return this.get("id")},u.prototype.isItem=function(){return!0},u.prototype.getStates=function(){return this.get("states")},u.prototype.hasState=function(n){var t=this.getStates();return t.indexOf(n)>=0},u.prototype.refresh=function(){var n=this.get("model");this.updatePosition(n),this.updateShape(),this.afterUpdate(),this.clearCache()},u.prototype.isOnlyMove=function(n){return!1},u.prototype.update=function(n,t){t===void 0&&(t=!1);var e=this.get("model"),r=e.visible,i=n.visible;r!==i&&i!==void 0&&this.changeVisibility(i);var l={x:e.x,y:e.y};n.x=isNaN(n.x)?e.x:n.x,n.y=isNaN(n.y)?e.y:n.y;var d=this.get("styles");if(n.stateStyles){var v=n.stateStyles;Object(g.mix)(d,v),delete n.stateStyles}Object.assign(e,n),t?this.updatePosition(n):((l.x!==n.x||l.y!==n.y)&&this.updatePosition(n),this.updateShape()),this.afterUpdate(),this.clearCache()},u.prototype.updateShape=function(){var n=this.get("shapeFactory"),t=this.get("model"),e=t.type;if(n.shouldUpdate(e)&&e===this.get("currentShape")){var r=this.getShapeCfg(t);n.baseUpdate(e,r,this),this.setOriginStyle()}else this.draw();this.restoreStates(n,e)},u.prototype.updatePosition=function(n){var t=this.get("model"),e=Object(g.isNil)(n.x)?t.x:n.x,r=Object(g.isNil)(n.y)?t.y:n.y,i=this.get("group");if(Object(g.isNil)(e)||Object(g.isNil)(r))return!1;t.x=e,t.y=r;var l=i.getMatrix();return l&&l[6]===e&&l[7]===r?!1:(i.resetMatrix(),ea(i,{x:e,y:r}),this.clearCache(),!0)},u.prototype.getBBox=function(){var n=this.get(ju);return n||(n=this.calculateBBox(),this.set(ju,n)),n},u.prototype.getCanvasBBox=function(){var n=this.get(Lf);return n||(n=this.calculateCanvasBBox(),this.set(Lf,n)),n},u.prototype.toFront=function(){var n=this.get("group");n.toFront()},u.prototype.toBack=function(){var n=this.get("group");n.toBack()},u.prototype.show=function(){this.changeVisibility(!0)},u.prototype.hide=function(){this.changeVisibility(!1)},u.prototype.changeVisibility=function(n){var t=this.get("group");n?t.show():t.hide(),this.set("visible",n)},u.prototype.isVisible=function(){return this.get("visible")},u.prototype.enableCapture=function(n){var t=this.get("group");t&&t.set("capture",n)},u.prototype.destroy=function(){if(!this.destroyed){var n=this.get("animate"),t=this.get("group");n&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},u}(),bh=Ed,Pc={source:"start",target:"end"},ws="Node",Al="Point",Ru="Anchor",Rf=function(u){Object(he.__extends)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},n.prototype.setEnd=function(t,e){var r=Pc[t]+Al,i=t+ws,l=this.get(i);l&&!l.destroyed&&l.removeEdge(this),Object(g.isPlainObject)(e)?(this.set(r,e),this.set(i,null)):e&&(e.addEdge(this),this.set(i,e),this.set(r,null))},n.prototype.getLinkPoint=function(t,e,r){var i=Pc[t]+Al,l=t+ws,d=this.get(i);if(!d){var v=this.get(l),D=t+Ru,R=this.getPrePoint(t,r),F=e[D];Object(g.isNil)(F)||(d=v.getLinkPointByAnchor(F)),d=d||v.getLinkPoint(R),Object(g.isNil)(d.index)||this.set(t+"AnchorIndex",d.index)}return d},n.prototype.getPrePoint=function(t,e){if(e&&e.length){var r=t==="source"?0:e.length-1;return e[r]}var i=t==="source"?"target":"source";return this.getEndPoint(i)},n.prototype.getEndPoint=function(t){var e=t+ws,r=Pc[t]+Al,i=this.get(e);return i?i.get("model"):this.get(r)},n.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),r=this.getEndPoint("target"),i=this.get("shapeFactory"),l=t.type;return i.getControlPoints(l,{startPoint:e,endPoint:r})},n.prototype.getEndCenter=function(t){var e=t+ws,r=Pc[t]+Al,i=this.get(e);if(i){var l=i.getBBox();return{x:l.centerX,y:l.centerY}}return this.get(r)},n.prototype.init=function(){u.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},n.prototype.getShapeCfg=function(t){var e=this,r=e.get("linkCenter"),i=u.prototype.getShapeCfg.call(this,t);if(r)i.startPoint=e.getEndCenter("source"),i.endPoint=e.getEndCenter("target");else{var l=i.controlPoints||e.getControlPointsByCenter(i);i.startPoint=e.getLinkPoint("source",t,l),i.endPoint=e.getLinkPoint("target",t,l)}return i.sourceNode=e.get("sourceNode"),i.targetNode=e.get("targetNode"),i},n.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+ws),r=this.get("target"+ws);return e?delete t["source"+ws]:t.source=this.get("start"+Al),r?delete t["target"+ws]:t.target=this.get("end"+Al),!Object(g.isString)(t.source)&&!Object(g.isPlainObject)(t.source)&&(t.source=t.source.getID()),!Object(g.isString)(t.target)&&!Object(g.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},n.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},n.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},n.prototype.getSource=function(){return this.get("source")},n.prototype.getTarget=function(){return this.get("target")},n.prototype.updatePosition=function(){return!1},n.prototype.update=function(t,e){e===void 0&&(e=!1);var r=this.get("model"),i=r.visible,l=t.visible;i!==l&&l!==void 0&&this.changeVisibility(l);var d=this.get("styles");if(t.stateStyles){var v=t.stateStyles;Object(g.mix)(d,v),delete t.stateStyles}Object.assign(r,t),this.updateShape(),this.afterUpdate(),this.clearCache()},n.prototype.destroy=function(){var t=this.get("source"+ws),e=this.get("target"+ws);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),u.prototype.destroy.call(this)},n}(bh),wu=Rf,Oh="anchorPointsCache",_l="bboxCache",Zl=function(u){Object(he.__extends)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getNearestPoint=function(t,e){for(var r=0,i=t[0],l=gc(t[0],e),d=0;d<t.length;d++){var v=t[d],D=gc(v,e);D<l&&(i=v,l=D,r=d)}return i.anchorIndex=r,i},n.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},n.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},n.prototype.getNeighbors=function(t){var e=this,r=this.get("edges");if(t==="target"){var i=function(D){return D.getSource()===e};return r.filter(i).map(function(v){return v.getTarget()})}if(t==="source"){var l=function(D){return D.getTarget()===e};return r.filter(l).map(function(v){return v.getSource()})}var d=function(D){return D.getSource()===e?D.getTarget():D.getSource()};return r.map(d)},n.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},n.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),r=e.get("type"),i=this.get("type"),l,d,v=this.getBBox();i==="combo"?(l=v.centerX||(v.maxX+v.minX)/2,d=v.centerY||(v.maxY+v.minY)/2):(l=v.centerX,d=v.centerY);var D=this.getAnchorPoints(),R;switch(r){case"circle":R=dc({x:l,y:d,r:v.width/2},t);break;case"ellipse":R=vc({x:l,y:d,rx:v.width/2,ry:v.height/2},t);break;default:R=Mu(v,t)}var F=R;return D.length&&(F||(F=t),F=this.getNearestPoint(D,F)),F||(F={x:l,y:d}),F},n.prototype.getAnchorPoints=function(){var t=this.get(Oh);if(!t){t=[];var e=this.get("shapeFactory"),r=this.getBBox(),i=this.get("model"),l=this.getShapeCfg(i),d=i.type,v=e.getAnchorPoints(d,l)||[];Object(g.each)(v,function(D,R){var F={x:r.minX+D[0]*r.width,y:r.minY+D[1]*r.height,anchorIndex:R};t.push(F)}),this.set(Oh,t)}return t},n.prototype.addEdge=function(t){this.get("edges").push(t)},n.prototype.lock=function(){this.set("locked",!0)},n.prototype.unlock=function(){this.set("locked",!1)},n.prototype.hasLocked=function(){return this.get("locked")},n.prototype.removeEdge=function(t){var e=this.getEdges(),r=e.indexOf(t);r>-1&&e.splice(r,1)},n.prototype.clearCache=function(){this.set(_l,null),this.set(Oh,null)},n.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!Object(g.isNil)(t.x),r=!Object(g.isNil)(t.y),i=Object.keys(t);return i.length===1&&(e||r)||i.length===2&&e&&r},n}(bh),wf=Zl,Tl="bboxCache",xh="bboxCanvasCache",al="sizeCache",Ic="anchorPointsCache",Bf=function(u){Object(he.__extends)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},n.prototype.getShapeCfg=function(t){var e=this.get("styles"),r=this.get("bbox");if(e&&r){var i=t,l={r:Math.hypot(r.height,r.width)/2||kn.defaultCombo.size[0]/2,width:r.width||kn.defaultCombo.size[0],height:r.height||kn.defaultCombo.size[1]};i.style=Object(he.__assign)(Object(he.__assign)(Object(he.__assign)({},e),t.style),l);var d=t.padding||kn.defaultCombo.padding;return Object(g.isNumber)(d)?(l.r+=d,l.width+=d*2,l.height+=d*2):(l.r+=d[0],l.width+=d[1]+d[3]||d[1]*2,l.height+=d[0]+d[2]||d[0]*2),this.set(al,l),i}return t},n.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),r=Du(t,e);r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;var i=this.get(al),l=this.get(Tl)||{},d=l.x,v=l.x;if(i){i.width=Math.max(i.width,r.width),i.height=Math.max(i.height,r.height);var D=t.get("type");D==="circle"?(r.width=i.r*2,r.height=i.r*2):(r.width=i.width,r.height=i.height),r.minX=r.centerX-r.width/2,r.minY=r.centerY-r.height/2,r.maxX=r.centerX+r.width/2,r.maxY=r.centerY+r.height/2}else r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;return r.x=r.minX,r.y=r.minY,(r.x!==d||r.y!==v)&&this.set(Ic,null),r}},n.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},n.prototype.getNodes=function(){var t=this;return t.get("nodes")},n.prototype.getCombos=function(){var t=this;return t.get("combos")},n.prototype.addChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},n.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},n.prototype.removeChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.isOnlyMove=function(t){return!1},n.prototype.getBBox=function(){this.set(xh,null);var t=this.calculateCanvasBBox();return t},n.prototype.clearCache=function(){this.set(Tl,null),this.set(xh,null),this.set(Ic,null)},n.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(al,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},n}(wf),Nf=Bf,Dl="node",$l="edge",Bu="vedge",Ql="combo",Sd="default",Ff="Mapper",Bs="stateStyles",Lc=function(){function u(n){this.graph=n,this.destroyed=!1}return u.prototype.addItem=function(n,t){var e=this.graph,r=n===Bu?$l:n,i=e.get(r+"Group")||e.get("group"),l=Object(g.upperFirst)(r),d=null,v=e.get(r+Object(g.upperFirst)(Bs))||{},D=e.get(Sd+l);t[Bs]&&(v=t[Bs]),D&&Object(g.each)(D,function(At,wt){Object(g.isObject)(At)&&!Object(g.isArray)(At)?t[wt]=Object(g.deepMix)({},At,t[wt]):Object(g.isArray)(At)?t[wt]=t[wt]||Object(g.clone)(D[wt]):t[wt]=t[wt]||D[wt]});var R=e.get(r+Ff);if(R){var F=R(t);F[Bs]&&(v=F[Bs],delete F[Bs]),Object(g.each)(F,function(At,wt){Object(g.isObject)(At)&&!Object(g.isArray)(At)?t[wt]=Object(g.deepMix)({},t[wt],At):t[wt]=F[wt]||t[wt]})}if(e.emit("beforeadditem",{type:n,model:t}),n===$l||n===Bu){var Z=void 0,J=void 0;if(Z=t.source,J=t.target,Z&&Object(g.isString)(Z)&&(Z=e.findById(Z)),J&&Object(g.isString)(J)&&(J=e.findById(J)),!Z||!J){console.warn("The source or target node of edge "+t.id+" does not exist!");return}Z.getType&&Z.getType()==="combo"&&(t.isComboEdge=!0),J.getType&&J.getType()==="combo"&&(t.isComboEdge=!0),d=new wu({model:t,source:Z,target:J,styles:v,linkCenter:e.get("linkCenter"),group:i.addGroup()})}else if(n===Dl)d=new wf({model:t,styles:v,group:i.addGroup()});else if(n===Ql){var it=t.children,dt=Ml(it,e);isNaN(dt.x)?isNaN(t.x)&&(t.x=Math.random()*100):t.x=dt.x,isNaN(dt.y)?isNaN(t.y)&&(t.y=Math.random()*100):t.y=dt.y;var bt=i.addGroup();bt.setZIndex(t.depth),d=new Nf({model:t,styles:v,bbox:t.collapsed?Ml([],e):dt,group:bt});var Dt=d.getModel();(it||[]).forEach(function(At){var wt=e.findById(At.id);d.addChild(wt),At.depth=Dt.depth+2}),t.collapsed&&setTimeout(function(){e.collapseCombo(d)},16)}if(d)return e.get(n+"s").push(d),e.get("itemMap")[d.get("id")]=d,e.emit("afteradditem",{item:d,model:t}),d},u.prototype.updateItem=function(n,t){var e,r,i=this.graph;if(Object(g.isString)(n)&&(n=i.findById(n)),!(!n||n.destroyed)){var l="";n.getType&&(l=n.getType());var d=i.get(l+Ff),v=n.getModel(),D=n.isOnlyMove(t);if(d){var R=Object(g.deepMix)({},v,t),F=d(R),Z=Object(g.deepMix)({},v,F,t);F[Bs]&&(n.set("styles",Z[Bs]),delete Z[Bs]),Object(g.each)(Z,function(zt,Kt){t[Kt]=zt})}else Object(g.each)(t,function(zt,Kt){v[Kt]&&Object(g.isObject)(zt)&&!Object(g.isArray)(zt)&&(t[Kt]=Object(he.__assign)(Object(he.__assign)({},v[Kt]),t[Kt]))});if(i.emit("beforeupdateitem",{item:n,cfg:t}),l===$l){if(t.source){var J=t.source;Object(g.isString)(J)&&(J=i.findById(J)),n.setSource(J)}if(t.target){var it=t.target;Object(g.isString)(it)&&(it=i.findById(it)),n.setTarget(it)}n.update(t)}if(l===Dl||l===Ql){n.update(t,D);var dt=n.getEdges(),bt=Af(t);if(bt&&l===Dl)Object(g.each)(dt,function(zt){zt.refresh()});else if(bt&&l===Ql){var Dt=n.get("shapeFactory"),At=v.type||"circle",wt=v.animate===void 0||t.animate===void 0?(r=(e=Dt[At])===null||e===void 0?void 0:e.options)===null||r===void 0?void 0:r.animate:v.animate||t.animate;wt?setTimeout(function(){if(!(!n||n.destroyed)){var zt=n.getKeyShape();!zt||zt.destroyed||Object(g.each)(dt,function(Kt){Kt&&!Kt.destroyed&&Kt.refresh()})}},201):Object(g.each)(dt,function(zt){zt.refresh()})}}i.emit("afterupdateitem",{item:n,cfg:t})}},u.prototype.updateCombo=function(n,t){var e=this,r,i,l=this.graph;if(Object(g.isString)(n)&&(n=l.findById(n)),!(!n||n.destroyed)){var d=n.getModel(),v=Ml(d.collapsed?[]:t,l);n.set("bbox",v),n.update({x:v.x,y:v.y});var D=n.get("shapeFactory"),R=d.type||"circle",F=d.animate===void 0?(i=(r=D[R])===null||r===void 0?void 0:r.options)===null||i===void 0?void 0:i.animate:d.animate;F?setTimeout(function(){if(!(!n||n.destroyed)){var Z=n.getKeyShape();!Z||Z.destroyed||(n.getShapeCfg(d),e.updateComboEdges(n))}},201):this.updateComboEdges(n)}},u.prototype.updateComboEdges=function(n){for(var t=n.getEdges()||[],e=0;e<t.length;e++){var r=t[e];if(r&&!r.destroyed){var i=r.get("shapeFactory"),l=r.getShapeCfg(r.getModel()),d=r.getContainer();d.clear();var v=i.draw(l.type,l,d);r.set("keyShape",v),v.set("isKeyShape",!0),v.set("draggable",!0),r.setOriginStyle()}}},u.prototype.collapseCombo=function(n){var t=this.graph;Object(g.isString)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.hideItem(r)}),e.combos.forEach(function(r){t.hideItem(r)})},u.prototype.expandCombo=function(n){var t=this.graph;Object(g.isString)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.showItem(r)}),e.combos.forEach(function(r){r.getModel().collapsed?r.show():t.showItem(r)})},u.prototype.removeItem=function(n){var t=this,e=this.graph;if(Object(g.isString)(n)&&(n=e.findById(n)),!(!n||n.destroyed)){var r=Object(g.clone)(n.getModel());e.emit("beforeremoveitem",{item:r});var i="";n.getType&&(i=n.getType());var l=e.get(i+"s"),d=l.indexOf(n);if(d>-1&&l.splice(d,1),i===$l){var v=e.get("v"+i+"s"),D=v.indexOf(n);D>-1&&v.splice(D,1)}var R=n.get("id"),F=e.get("itemMap");delete F[R];var Z=e.get("comboTrees"),J=n.get("id");if(i===Dl){var it=n.getModel().comboId;if(Z&&it){var dt=Z,bt=!1;Z.forEach(function($t){bt||wo($t,function(ee){if(ee.id===J&&dt){var re=dt.indexOf(ee);return dt.splice(re,1),bt=!0,!1}return dt=ee.children,!0})})}for(var Dt=n.getEdges(),At=Dt.length-1;At>=0;At--)e.removeItem(Dt[At],!1);it&&e.updateCombo(it)}else if(i===Ql){var wt=n.getModel().parentId,zt,Kt=!1;(Z||[]).forEach(function(ee){Kt||wo(ee,function(re){return re.id===J?(zt=re,Kt=!0,!1):!0})}),zt.removed=!0,zt&&zt.children&&zt.children.forEach(function(ee){t.removeItem(ee.id)});for(var Dt=n.getEdges(),At=Dt.length;At>=0;At--)e.removeItem(Dt[At],!1);wt&&e.updateCombo(wt)}n.destroy(),e.emit("afterremoveitem",{item:r})}},u.prototype.setItemState=function(n,t,e){var r=this.graph,i=t;Object(g.isString)(e)&&(i=t+":"+e),!(n.hasState(i)===e&&e||Object(g.isString)(e)&&n.hasState(i))&&(r.emit("beforeitemstatechange",{item:n,state:i,enabled:e}),n.setState(t,e),r.autoPaint(),r.emit("afteritemstatechange",{item:n,state:i,enabled:e}))},u.prototype.priorityState=function(n,t){var e=this.graph,r=n;Object(g.isString)(n)&&(r=e.findById(n)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},u.prototype.clearItemStates=function(n,t){var e=this.graph;Object(g.isString)(n)&&(n=e.findById(n)),e.emit("beforeitemstatesclear",{item:n,states:t}),n.clearStates(t),e.emit("afteritemstatesclear",{item:n,states:t})},u.prototype.refreshItem=function(n){var t=this.graph;Object(g.isString)(n)&&(n=t.findById(n)),t.emit("beforeitemrefresh",{item:n}),n.refresh(),t.emit("afteritemrefresh",{item:n})},u.prototype.addCombos=function(n,t){var e=this,r=this.graph;(n||[]).forEach(function(l){Rs(l,function(d){var v;return t.forEach(function(D){D.id===d.id&&(D.children=d.children,D.depth=d.depth,v=D)}),v&&e.addItem("combo",v),!0})});var i=r.get("comboGroup");i&&i.sort()},u.prototype.changeItemVisibility=function(n,t){var e=this,r=this.graph;if(Object(g.isString)(n)&&(n=r.findById(n)),!n){console.warn("The item to be shown or hidden does not exist!");return}if(r.emit("beforeitemvisibilitychange",{item:n,visible:t}),n.changeVisibility(t),n.getType&&n.getType()===Dl){var i=n.getEdges();Object(g.each)(i,function(R){t&&!(R.get("source").isVisible()&&R.get("target").isVisible())||e.changeItemVisibility(R,t)})}else if(n.getType&&n.getType()===Ql){var l=r.get("comboTrees"),d=n.get("id"),v=[],D=!1;(l||[]).forEach(function(F){D||!F.children||F.children.length===0||wo(F,function(Z){return Z.id===d?(v=Z.children,D=!0,!1):!0})}),v&&(!t||t&&!n.getModel().collapsed)&&v.forEach(function(F){var Z=r.findById(F.id);e.changeItemVisibility(Z,t)});var i=n.getEdges();Object(g.each)(i,function(F){t&&!(F.get("source").isVisible()&&F.get("target").isVisible())||e.changeItemVisibility(F,t)})}return r.emit("afteritemvisibilitychange",{item:n,visible:t}),n},u.prototype.destroy=function(){this.graph=null,this.destroyed=!0},u}(),Nu=Lc,Ys=null,Eh=function(){function u(n){this.graph=n,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return u.checkCache=function(n,t,e){if(!!e[t]){var r=e[t].indexOf(n);r>=0&&e[t].splice(r,1)}},u.cacheState=function(n,t,e){e[t]||(e[t]=[]),e[t].push(n)},u.prototype.updateState=function(n,t,e){var r=this,i=u.checkCache,l=u.cacheState;if(!n.destroyed){var d=this.cachedStates,v=d.enabled,D=d.disabled;e?(i(n,t,D),l(n,t,v)):(i(n,t,v),l(n,t,D)),Ys&&clearTimeout(Ys),Ys=setTimeout(function(){Ys=null,r.updateGraphStates()},16)}},u.prototype.updateStates=function(n,t,e){var r=this;Object(g.isString)(t)?this.updateState(n,t,e):t.forEach(function(i){r.updateState(n,i,e)})},u.prototype.updateGraphStates=function(){var n=this.graph.get("states"),t=this.cachedStates;Object(g.each)(t.disabled,function(e,r){n[r]&&(n[r]=n[r].filter(function(i){return e.indexOf(i)<0&&!e.destroyed}))}),Object(g.each)(t.enabled,function(e,r){if(!n[r])n[r]=e;else{var i={};n[r].forEach(function(l){l.destroyed||(i[l.get("id")]=!0)}),e.forEach(function(l){if(!l.destroyed){var d=l.get("id");i[d]||(i[d]=!0,n[r].push(l))}})}}),this.graph.emit("graphstatechange",{states:n}),this.cachedStates={enabled:{},disabled:{}}},u.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ys&&clearTimeout(Ys),Ys=null,this.destroyed=!0},u}(),Sh=Eh,ol=a("WOt1"),Mh=function(n,t){return!n||!t?n:n.replace(/\\?\{([^{}]+)\}/g,function(e,r){if(e.charAt(0)==="\\")return e.slice(1);var i=t[r];return i===0&&(i="0"),i||""})},jc=function(n){var t=[];if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);for(var e=0,r=n;e<r.length;e++){var i=r[e],l=i.x,d=i.y;t.push(l),t.push(d)}var v=Object(ol.a)(t);return v.unshift(["M",n[0].x,n[0].y]),v},Fu=function(n,t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i={x:(1-e)*n.x+e*t.x,y:(1-e)*n.y+e*t.y},l=[0,0];Gn.c.normalize(l,[t.x-n.x,t.y-n.y]),(!l||!l[0]&&!l[1])&&(l=[0,0]);var d=[-l[1]*r,l[0]*r];return i.x+=d[0],i.y+=d[1],i},Ch=function(n,t){var e=n.length;if(!e)return"";for(var r="",i="",l=0;l<e;l++){var d=n[l];l===0?i="M{x} {y}":i="L{x} {y}",r+=Mh(i,d)}return t&&(r+="Z"),r},Gu=function(n){var t=[];return n.forEach(function(e){var r=e[0];if(r!=="A")for(var i=1;i<e.length;i=i+2)t.push([e[i],e[i+1]]);else{var l=e.length;t.push([e[l-2],e[l-1]])}}),t},Uu=function(n){if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);var t=n[0],e=n[1],r=n[n.length-1],i=n[n.length-2];n.unshift(r),n.unshift(i),n.push(t),n.push(e);for(var l=[],d=1;d<n.length-2;d+=1){var v=n[d-1].x,D=n[d-1].y,R=n[d].x,F=n[d].y,Z=n[d+1].x,J=n[d+1].y,it=d!==n.length-2?n[d+2].x:Z,dt=d!==n.length-2?n[d+2].y:J,bt=R+(Z-v)/6,Dt=F+(J-D)/6,At=Z-(it-R)/6,wt=J-(dt-F)/6;l.push(["C",bt,Dt,At,wt,Z,J])}return l.unshift(["M",r.x,r.y]),l},Gf=function(n,t){return Gn.c.scale([0,0],Gn.c.normalize([0,0],n),t)},Rc=function(n,t){var e=[n[1]-t[1],t[0]-n[0]],r=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(r===0)throw new Error("p0 should not be equal to p1");return[e[0]/r,e[1]/r]},wc=function(n,t){return[t[0]-n[0],t[1]-n[1]]};function Wu(u,n){var t=function(F){var Z=[F[0][0],F[0][1]-n],J=[F[0][0],F[0][1]+n];return"M "+Z+" A "+n+","+n+",0,0,0,"+J+" A "+n+","+n+",0,0,0,"+Z},e=function(F){var Z=Gn.c.scale([0,0],Rc(F[0],F[1]),n),J=Gn.c.scale([0,0],Z,-1),it=Gn.c.add([0,0],F[0],Z),dt=Gn.c.add([0,0],F[1],Z),bt=Gn.c.add([0,0],F[1],J),Dt=Gn.c.add([0,0],F[0],J);return"M "+it+" L "+dt+" A "+[n,n,"0,0,0",bt].join(",")+" L "+Dt+" A "+[n,n,"0,0,0",it].join(",")};if(!u||u.length<1)return"";if(u.length===1)return t(u);if(u.length===2)return e(u);for(var r=new Array(u.length),i=0;i<r.length;++i){var l=i===0?u[u.length-1]:u[i-1],d=u[i],v=Gn.c.scale([0,0],Rc(l,d),n);r[i]=[Gn.c.add([0,0],l,v),Gn.c.add([0,0],d,v)]}var D="A "+[n,n,"0,0,0,"].join(",");return r=r.map(function(R,F){var Z="";return F===0&&(Z="M "+r[r.length-1][1]+" "),Z+=D+R[0]+" L "+R[1],Z}),r.join(" ")}function Bc(u,n){var t=u.length,e=function(R){var F=[R[0][0],R[0][1]-n],Z=[R[0][0],R[0][1]+n];return"M "+F+" A "+[n,n,"0,0,0",Z].join(",")+" A "+[n,n,"0,0,0",F].join(",")},r=function(R){var F=wc(R[0],R[1]),Z=Gf(F,n),J=Gn.c.add([0,0],R[0],Gn.c.scale([0,0],Z,-1)),it=Gn.c.add([0,0],R[1],Z),dt=1.2*n,bt=Gf(Gn.c.normalize([0,0],F),dt),Dt=Gn.c.scale([0,0],bt,-1),At=Gn.c.add([0,0],J,Dt),wt=Gn.c.add([0,0],it,Dt),zt=Gn.c.add([0,0],J,bt);return"M "+J+" C "+[At,wt,it].join(",")+" S "+[zt,J].join(",")+" Z"};if(!u||t<1)return"";if(t===1)return e(u);if(t===2)return r(u);for(var i=u.map(function(D,R){var F=u[(R+1)%t];return{p:D,v:Gn.c.normalize([0,0],wc(D,F))}}),l=0;l<i.length;++l){var d=l>0?l-1:t-1,v=Gn.c.normalize([0,0],Gn.c.add([0,0],i[d].v,Gn.c.scale([0,0],i[l].v,-1)));i[l].p=Gn.c.add([0,0],i[l].p,Gn.c.scale([0,0],v,n))}return i.map(function(D){var R=D.p;return{x:R[0],y:R[1]}})}var Uf=function(n,t,e){return(n.y-e.y)*(t.x-e.x)-(n.x-e.x)*(t.y-e.y)},Nc=function(n){var t=n.map(function(d){return{x:d.getModel().x,y:d.getModel().y}});if(t.sort(function(d,v){return d.x===v.x?d.y-v.y:d.x-v.x}),t.length===1)return t;for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&Uf(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var i=[],r=t.length-1;r>=0;r--){for(;i.length>=2&&Uf(i[i.length-2],i[i.length-1],t[r])<=0;)i.pop();i.push(t[r])}i.pop(),e.pop();var l=e.concat(i);return l},Wf={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function zf(u,n,t){var e=!1,r=function(v,D){return n.cells[v+D*n.width]},i=function(v,D){var R=0;return r(v-1,D-1)>=t&&(R+=1),r(v,D-1)>t&&(R+=2),r(v-1,D)>t&&(R+=4),r(v,D)>t&&(R+=8),R},l=function(v,D){for(var R=v,F=D,Z,J,it=0;it<n.width*n.height;it++){if(Z=R,J=F,u.findIndex(function(bt){return bt.x===R&&bt.y===F})>-1){if(!(u[0].x!==R||u[0].y!==F))return!0}else u.push({x:R,y:F});var dt=i(R,F);switch(dt){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:R++;break;case 12:case 14:case 4:R--;break;case 6:Z===0&&(J===-1?R-=1:R+=1);break;case 1:case 13:case 5:F--;break;case 9:Z===1&&(J===0?F-=1:F+=1);break;case 10:case 8:case 11:F++;break;default:return console.warn("Marching squares invalid state: "+dt),!0}}};this.march=function(){for(var d=0;d<n.width&&!e;d+=1)for(var v=0;v<n.height&&!e;v+=1)r(d,v)>t&&i(d,v)!==15&&(e=l(d,v));return e}}var zu=function(n,t,e){var r=Math.ceil(n/e),i=Math.ceil(t/e),l=new Float32Array(Math.max(0,r*i)).fill(0);return{cells:l,width:r,height:i}},Ah=function(n,t,e){var r=null,i=Number.POSITIVE_INFINITY;return t.forEach(function(l){var d={x:n.getModel().x,y:n.getModel().y},v={x:l.getModel().x,y:l.getModel().y},D=Hs(d,v),R=new il(d.x,d.y,v.x,v.y),F=e.reduce(function(Z,J){return bs(J,R)>0?Z+1:Z},0);D*Math.pow(F+1,2)<i&&(r=l,i=D*Math.pow(F+1,2))}),r},sl=function(n,t){var e=Number.POSITIVE_INFINITY,r=null;return n.forEach(function(i){var l=bs(i,t);l>=0&&l<e&&(r=i,e=l)}),r},Ks=function(n,t,e,r){var i=[],l=[];l.push(n);for(var d=!0,v=0,D=function(J,it){var dt=!1;return it.forEach(function(bt){dt||(Cu(J,{x:bt.x1,y:bt.y1})||Cu(J,{x:bt.x2,y:bt.y2}))&&(dt=!0)}),dt},R=function(J,it){for(var dt=0,bt=it;dt<bt.length;dt++){var Dt=bt[dt],At=Dt.getBBox(),wt=[[At.x,At.y],[At.x+At.width,At.y],[At.x,At.y+At.height],[At.x+At.width,At.y+At.height]];if(nl(wt,J.x,J.y))return!0}return!1};d&&v<e;){d=!1;for(var F=function(){var J=l.pop(),it=sl(t,J);if(it){var dt=bf(it,J),bt=dt[0],Dt=dt[1];if(Dt===2){var At=function(zt){for(var Kt=r,$t=ll(it,Kt,bt,zt),ee=D($t,l)||D($t,i),re=R($t,t);!ee&&re&&Kt>=1;)Kt/=1.5,$t=ll(it,Kt,bt,zt),ee=D($t,l)||D($t,i),re=R($t,t);$t&&!ee&&(!zt||!re)&&(l.push(new il(J.x1,J.y1,$t.x,$t.y)),l.push(new il($t.x,$t.y,J.x2,J.y2)),d=!0)};At(!0),d||At(!1)}}d||i.push(J),v+=1};!d&&l.length;)F()}for(;l.length;)i.push(l.pop());return i};function Jl(u,n,t,e,r){var i=Ah(u,t,n);if(i===null)return[];var l=function(F){for(var Z=[];F.length>0;){var J=F.pop();if(F.length===0){Z.push(J);break}var it=F.pop(),dt=new il(J.x1,J.y1,it.x2,it.y2),bt=sl(n,dt);bt?(Z.push(J),F.push(it)):F.push(dt)}return Z},d=new il(u.getModel().x,u.getModel().y,i.getModel().x,i.getModel().y),v=Ks(d,n,e,r),D=l(v);return D}var Pl=function(n,t,e){var r=Object.assign(Wf,e),i=yc(n.map(function(At){return{x:At.getModel().x,y:At.getModel().y}}));n=n.sort(function(At,wt){return Hs({x:At.getModel().x,y:At.getModel().y},i)-Hs({x:wt.getModel().x,y:wt.getModel().y},i)});var l=[],d=[];n.forEach(function(At){var wt=Jl(At,t,l,r.maxRoutingIterations,r.morphBuffer);wt.forEach(function(zt){d.push(zt)}),l.push(At)});for(var v=ku(n,d,r.nodeR0),D=zu(v.width,v.height,r.pixelGroupSize),R=[],F=[],Z=0;Z<r.maxMarchingIterations;Z++)if(ql(n,t,d,v,D,r),R=[],F=[],!!new zf(R,D,r.threshold).march()){var J=R.map(function(At){return{x:Math.round(At.x*r.pixelGroupSize+v.minX),y:Math.round(At.y*r.pixelGroupSize+v.minY)}});if(J){var it=J.length;if(r.skip>1)for(it=Math.floor(J.length/r.skip);it<3&&r.skip>1;)r.skip-=1,it=Math.floor(J.length/r.skip);for(var dt=0,bt=0;bt<it;bt+=1,dt+=r.skip)F.push({x:J[dt].x,y:J[dt].y})}var Dt=function(){for(var wt=0,zt=n;wt<zt.length;wt++){var Kt=zt[wt],$t=F.map(function(ee){return[ee.x,ee.y]});if(!nl($t,Kt.getBBox().centerX,Kt.getBBox().centerY))return!1}return!0};if(F&&Dt())return F;if(r.threshold*=.9,Z<=r.maxMarchingIterations*.5)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else if(r.nonMemberInfluenceFactor!==0&&t.length>0)r.nonMemberInfluenceFactor*=.8;else break}return F};function ku(u,n,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},r=[];u.forEach(function(v){r.push(v.getBBox())}),n.forEach(function(v){r.push(v.getBBox())});for(var i=0,l=r;i<l.length;i++){var d=l[i];e.minX=(d.minX<e.minX?d.minX:e.minX)-t,e.minY=(d.minY<e.minY?d.minY:e.minY)-t,e.maxX=(d.maxX>e.maxX?d.maxX:e.maxX)+t,e.maxY=(d.maxY>e.maxY?d.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function ql(u,n,t,e,r,i){function l(J,it){var dt=Math.floor((J-it)/i.pixelGroupSize);return dt<0?0:dt}function d(J,it){return J*i.pixelGroupSize+it}var v=(i.nodeR0-i.nodeR1)*(i.nodeR0-i.nodeR1),D=(i.edgeR0-i.edgeR1)*(i.edgeR0-i.edgeR1),R=function(it,dt){var bt=Math.min(l(it.minX,dt+e.minX),r.width),Dt=Math.min(l(it.minY,dt+e.minY),r.height),At=Math.min(l(it.maxX,-dt+e.minX),r.width),wt=Math.min(l(it.maxY,-dt+e.minY),r.height);return[bt,Dt,At,wt]},F=function(it,dt){for(var bt=it.getBBox(),Dt=R(bt,i.nodeR1),At=Dt[0],wt=Dt[1],zt=Dt[2],Kt=Dt[3],$t=wt;$t<Kt;$t+=1)for(var ee=At;ee<zt;ee+=1)if(!(dt<0&&r[ee+$t*r.width]<=0)){var re=d(ee,e.minX),fe=d($t,e.minY),ce=Of({x:re,y:fe},{x:bt.minX,y:bt.minY,width:bt.width,height:bt.height});if(ce<Math.pow(i.nodeR1,2)){var Ae=Math.sqrt(ce)-i.nodeR1;r.cells[ee+$t*r.width]+=dt*Ae*Ae}}},Z=function(it,dt){for(var bt=it.getBBox(),Dt=R(bt,i.edgeR1),At=Dt[0],wt=Dt[1],zt=Dt[2],Kt=Dt[3],$t=wt;$t<Kt;$t+=1)for(var ee=At;ee<zt;ee+=1)if(!(dt<0&&r.cells[ee+$t*r.width]<=0)){var re=d(ee,e.minX),fe=d($t,e.minY),ce=io({x:re,y:fe},it);if(ce<Math.pow(i.edgeR1,2)){var Ae=Math.sqrt(ce)-i.edgeR1;r.cells[ee+$t*r.width]+=dt*Ae*Ae}}};i.nodeInfluenceFactor&&u.forEach(function(J){F(J,i.nodeInfluenceFactor/v)}),i.edgeInfluenceFactor&&t.forEach(function(J){Z(J,i.edgeInfluenceFactor/D)}),i.negativeNodeInfluenceFactor&&n.forEach(function(J){F(J,i.negativeNodeInfluenceFactor/v)})}function ll(u,n,t,e){var r=u.getBBox(),i=t[0],l=t[1],d=t[2],v=t[3],D={topLeft:{x:r.minX-n,y:r.minY-n},topRight:{x:r.maxX+n,y:r.minY-n},bottomLeft:{x:r.minX-n,y:r.maxY+n},bottomRight:{x:r.maxX+n,y:r.maxY+n}},R=r.height*r.width;function F(it,dt){return r.width*((it.y-r.minY+(dt.y-r.minY))*.5)}if(l){if(i)return e?D.topLeft:D.bottomRight;if(d)return e?D.bottomLeft:D.topRight;var Z=F(l,v);return Z<R*.5?l.y>v.y?e?D.topLeft:D.bottomRight:e?D.topRight:D.bottomLeft:l.y<v.y?e?D.bottomLeft:D.topRight:e?D.bottomRight:D.topLeft}if(v){if(i)return e?D.topRight:D.bottomLeft;if(d)return e?D.bottomRight:D.topLeft}var J=F(i,d);return J<R*.5?i.x>d.x?e?D.topLeft:D.bottomRight:e?D.bottomLeft:D.topRight:i.x<d.x?e?D.topRight:D.bottomLeft:e?D.bottomRight:D.topLeft}var Il=function(){function u(n,t){this.cfg=Object(g.deepMix)(this.getDefaultCfg(),t),this.graph=n,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return Object(g.isString)(e)?n.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(g.isString)(e)?n.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return u.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},u.prototype.setPadding=function(){var n=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+n:10+n,this.cfg.bubbleCfg={nodeR0:this.padding-n,nodeR1:this.padding-n,morphBuffer:this.padding-n}},u.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},u.prototype.calcPath=function(n,t){var e,r,i;switch(this.type){case"round-convex":e=Nc(n),i=Wu(e.map(function(l){return[l.x,l.y]}),this.padding),r=Object(ol.c)(i);break;case"smooth-convex":e=Nc(n),e.length===2?(i=Wu(e.map(function(l){return[l.x,l.y]}),this.padding),r=Object(ol.c)(i)):e.length>2&&(i=Bc(e.map(function(l){return[l.x,l.y]}),this.padding),r=Uu(i));break;case"bubble":e=Pl(n,t,this.cfg.bubbleCfg),r=e.length>=2&&Uu(e);break;default:}return r},u.prototype.render=function(){this.group.addShape("path",{attrs:Object(he.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},u.prototype.addMember=function(n){if(!!n){Object(g.isString)(n)&&(n=this.graph.findById(n)),this.members.push(n);var t=this.nonMembers.indexOf(n);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},u.prototype.addNonMember=function(n){if(!!n){Object(g.isString)(n)&&(n=this.graph.findById(n)),this.nonMembers.push(n);var t=this.members.indexOf(n);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},u.prototype.removeMember=function(n){if(!!n){Object(g.isString)(n)&&(n=this.graph.findById(n));var t=this.members.indexOf(n);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},u.prototype.removeNonMember=function(n){if(!!n){Object(g.isString)(n)&&(n=this.graph.findById(n));var t=this.nonMembers.indexOf(n);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},u.prototype.updateData=function(n,t){var e=this;this.group.findById(this.id).remove(),n&&(this.members=n.map(function(r){return Object(g.isString)(r)?e.graph.findById(r):r})),t&&(this.nonMembers=t.map(function(r){return Object(g.isString)(r)?e.graph.findById(r):r})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},u.prototype.updateStyle=function(n){var t=this.group.findById(this.id);t.attr(Object(he.__assign)({},n))},u.prototype.updateCfg=function(n){var t=this;this.cfg=Object(g.deepMix)(this.cfg,n),this.id=this.cfg.id,this.group=this.cfg.group,n.members&&(this.members=this.cfg.members.map(function(e){return Object(g.isString)(e)?t.graph.findById(e):e})),n.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(g.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},u.prototype.contain=function(n){var t=this,e;Object(g.isString)(n)?e=this.graph.findById(n):e=n;var r,i=e.getKeyShape();if(e.get("type")==="path")r=Gu(i.attr("path"));else{var l=i.getCanvasBBox();r=[[l.minX,l.minY],[l.maxX,l.minY],[l.maxX,l.maxY],[l.minX,l.maxY]]}return r=r.map(function(d){var v=t.graph.getPointByCanvas(d[0],d[1]);return[v.x,v.y]}),xl(r,Gu(this.path))},u.prototype.destroy=function(){this.group.remove(),this.cfg=null},u}(),_s=Il,Ll=Gn.a.transform,Fc="node",Vu=function(u){Object(he.__extends)(n,u);function n(t){var e=u.call(this)||this;return e.cfg=Object(g.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new cc(e.cfg.maxStep),e.redoStack=new cc(e.cfg.maxStep)),e}return n.prototype.init=function(){this.initCanvas();var t=new Sc(this),e=new pd(this),r=new Nu(this),i=new Sh(this);this.set({viewController:t,modeController:e,itemController:r,stateController:i}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},n.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),r=e.id,i=t.addGroup({id:r+"-root",className:kn.rootContainerClassName});if(this.get("groupByTypes")){var l=i.addGroup({id:r+"-edge",className:kn.edgeContainerClassName}),d=i.addGroup({id:r+"-node",className:kn.nodeContainerClassName}),v=i.addGroup({id:r+"-combo",className:kn.comboContainerClassName});v.toBack(),this.set({nodeGroup:d,edgeGroup:l,comboGroup:v})}var D=i.addGroup({id:r+"-delegate",className:kn.delegateContainerClassName});this.set({delegateGroup:D}),this.set("group",i)},n.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},n.prototype.set=function(t,e){return Object(g.isPlainObject)(t)?this.cfg=Object(he.__assign)(Object(he.__assign)({},this.cfg),t):this.cfg[t]=e,this},n.prototype.get=function(t){return this.cfg[t]},n.prototype.getGroup=function(){return this.get("group")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.getMinZoom=function(){return this.get("minZoom")},n.prototype.setMinZoom=function(t){return this.set("minZoom",t)},n.prototype.getMaxZoom=function(){return this.get("maxZoom")},n.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},n.prototype.getWidth=function(){return this.get("width")},n.prototype.getHeight=function(){return this.get("height")},n.prototype.clearItemStates=function(t,e){Object(g.isString)(t)&&(t=this.findById(t));var r=this.get("itemController");e||(e=t.get("states")),r.clearItemStates(t,e);var i=this.get("stateController");i.updateStates(t,e,!1)},n.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},n.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},n.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},n.prototype.findById=function(t){return this.get("itemMap")[t]},n.prototype.find=function(t,e){var r,i=this.get(t+"s");return Object(g.each)(i,function(l,d){if(e(l,d))return r=l,r}),r},n.prototype.findAll=function(t,e){var r=[];return Object(g.each)(this.get(t+"s"),function(i,l){e(i,l)&&r.push(i)}),r},n.prototype.findAllByState=function(t,e){return this.findAll(t,function(r){return r.hasState(e)})},n.prototype.translate=function(t,e){var r=this.get("group"),i=Object(g.clone)(r.getMatrix());i||(i=[1,0,0,0,1,0,0,0,1]),i=Ll(i,[["t",t,e]]),r.setMatrix(i),this.emit("viewportchange",{action:"translate",matrix:r.getMatrix()}),this.autoPaint()},n.prototype.moveTo=function(t,e,r,i){var l=this.get("group");pc(l,{x:t,y:e},r,i||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:l.getMatrix()})},n.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},n.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},n.prototype.addBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!0),this},n.prototype.removeBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!1),this},n.prototype.updateBehavior=function(t,e,r){var i=this.get("modeController");return i.updateBehavior(t,e,r),this},n.prototype.zoom=function(t,e){var r=this.get("group"),i=Object(g.clone)(r.getMatrix()),l=this.get("minZoom"),d=this.get("maxZoom");i||(i=[1,0,0,0,1,0,0,0,1]),e?i=Ll(i,[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]):i=Ll(i,[["s",t,t]]),!(l&&i[0]<l||d&&i[0]>d)&&(r.setMatrix(i),this.emit("viewportchange",{action:"zoom",matrix:i}),this.autoPaint())},n.prototype.zoomTo=function(t,e){var r=t/this.getZoom();this.zoom(r,e)},n.prototype.focusItem=function(t,e,r){var i=this.get("viewController"),l=!1;e?l=!0:e===void 0&&(l=this.get("animate"));var d={};r?d=r:r===void 0&&(d=this.get("animateCfg")),i.focus(t,l,d),this.autoPaint()},n.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},n.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},n.prototype.getPointByClient=function(t,e){var r=this.get("viewController");return r.getPointByClient(t,e)},n.prototype.getClientByPoint=function(t,e){var r=this.get("viewController");return r.getClientByPoint(t,e)},n.prototype.getPointByCanvas=function(t,e){var r=this.get("viewController");return r.getPointByCanvas(t,e)},n.prototype.getCanvasByPoint=function(t,e){var r=this.get("viewController");return r.getCanvasByPoint(t,e)},n.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},n.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},n.prototype.showItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),i=r.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var l=i.getID(),d=i.getType(),v={},D={};switch(d){case"node":v.nodes=[{id:l,visible:!1}],D.nodes=[{id:l,visible:!0}];break;case"edge":v.nodes=[{id:l,visible:!1}],D.edges=[{id:l,visible:!0}];break;case"combo":v.nodes=[{id:l,visible:!1}],D.combos=[{id:l,visible:!0}];break;default:break}this.pushStack("visible",{before:v,after:D})}},n.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),i=r.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var l=i.getID(),d=i.getType(),v={},D={};switch(d){case"node":v.nodes=[{id:l,visible:!0}],D.nodes=[{id:l,visible:!1}];break;case"edge":v.nodes=[{id:l,visible:!0}],D.edges=[{id:l,visible:!1}];break;case"combo":v.nodes=[{id:l,visible:!0}],D.combos=[{id:l,visible:!1}];break;default:break}this.pushStack("visible",{before:v,after:D})}},n.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},n.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var r=e.get("canvas");r.set("autoDraw",t)},n.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},n.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var r=t;if(Object(g.isString)(t)&&(r=this.findById(t)),!r&&Object(g.isString)(t))console.warn("The item to be removed does not exist!");else if(r){var i="";if(r.getType&&(i=r.getType()),e&&this.get("enabledStack")){var l=Object(he.__assign)(Object(he.__assign)({},r.getModel()),{itemType:i}),d={};switch(i){case"node":{d.nodes=[l],d.edges=[];for(var v=r.getEdges(),D=v.length-1;D>=0;D--)d.edges.push(Object(he.__assign)(Object(he.__assign)({},v[D].getModel()),{itemType:"edge"}));break}case"edge":d.edges=[l];break;case"combo":d.combos=[l];break;default:break}this.pushStack("delete",{before:d,after:{}})}if(i==="node"){var R=r.getModel();R.comboId&&this.updateComboTree(r)}var F=this.get("itemController");if(F.removeItem(r),i==="combo"){var Z=Sl(this.get("comboTrees"));this.set("comboTrees",Z)}}},n.prototype.addItem=function(t,e,r,i){r===void 0&&(r=!0),i===void 0&&(i=!0);var l=this.get("comboSorted");this.set("comboSorted",l&&!i);var d=this.get("itemController");if(!Ec(t,e))return!1;if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var v,D=this.get("comboTrees");if(D||(D=[]),t==="combo"){var R=this.get("itemMap"),F=!1;if(D.forEach(function(zt){F||Rs(zt,function(Kt){if(e.parentId===Kt.id){F=!0;var $t=Object(he.__assign)({id:e.id,depth:Kt.depth+2},e);Kt.children?Kt.children.push($t):Kt.children=[$t],e.depth=$t.depth,v=d.addItem(t,e)}var ee=R[Kt.id];return F&&ee&&ee.getType&&ee.getType()==="combo"&&d.updateCombo(ee,Kt.children),!0})}),!F){var Z=Object(he.__assign)({id:e.id,depth:0},e);e.depth=Z.depth,D.push(Z),v=d.addItem(t,e)}this.set("comboTrees",D)}else if(t==="node"&&Object(g.isString)(e.comboId)&&D){var J=this.findById(e.comboId);J&&J.getType&&J.getType()!=="combo"&&console.warn("'"+e.comboId+"' is not a id of a combo in the graph, the node will be added without combo."),v=d.addItem(t,e);var it=this.get("itemMap"),dt=!1,bt=!1;(D||[]).forEach(function(zt){bt||dt||Rs(zt,function(Kt){if(Kt.id===e.id)return bt=!0,!1;if(e.comboId===Kt.id&&!bt){dt=!0;var $t=Object(g.clone)(e);$t.itemType="node",Kt.children?Kt.children.push($t):Kt.children=[$t],$t.depth=Kt.depth+1}return dt&&it[Kt.id].getType&&it[Kt.id].getType()==="combo"&&d.updateCombo(it[Kt.id],Kt.children),!0})})}else v=d.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var J=this.findById(e.comboId||e.parentId);J&&J.getType&&J.getType()==="combo"&&J.addChild(v)}var Dt=this.get("combos");if(Dt&&Dt.length>0&&this.sortCombos(),this.autoPaint(),r&&this.get("enabledStack")){var At=Object(he.__assign)(Object(he.__assign)({},v.getModel()),{itemType:t}),wt={};switch(t){case"node":wt.nodes=[At];break;case"edge":wt.edges=[At];break;case"combo":wt.combos=[At];break;default:break}this.pushStack("add",{before:{},after:wt})}return v},n.prototype.add=function(t,e,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),this.addItem(t,e,r,i)},n.prototype.updateItem=function(t,e,r){var i=this;r===void 0&&(r=!0);var l=this.get("itemController"),d;Object(g.isString)(t)?d=this.findById(t):d=t;var v=Object(g.clone)(d.getModel()),D="";d.getType&&(D=d.getType());var R=Object(he.__spreadArray)([],d.getStates());if(D==="combo"&&Object(g.each)(R,function(it){return i.setItemState(d,it,!1)}),l.updateItem(d,e),D==="combo"&&Object(g.each)(R,function(it){return i.setItemState(d,it,!0)}),r&&this.get("enabledStack")){var F={nodes:[],edges:[],combos:[]},Z={nodes:[],edges:[],combos:[]},J=Object(he.__assign)({id:v.id},e);switch(D){case"node":F.nodes.push(v),Z.nodes.push(J);break;case"edge":F.edges.push(v),Z.edges.push(J);break;case"combo":F.combos.push(v),Z.combos.push(J);break;default:break}D==="node"&&F.nodes.push(v),this.pushStack("update",{before:F,after:Z})}},n.prototype.update=function(t,e,r){r===void 0&&(r=!0),this.updateItem(t,e,r)},n.prototype.setItemState=function(t,e,r){Object(g.isString)(t)&&(t=this.findById(t));var i=this.get("itemController");i.setItemState(t,e,r);var l=this.get("stateController");Object(g.isString)(r)?l.updateState(t,e+":"+r,!0):l.updateState(t,e,r)},n.prototype.priorityState=function(t,e){var r=this.get("itemController");r.priorityState(t,e)},n.prototype.data=function(t){Tf(t),this.set("data",t)},n.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var r=e.nodes,i=r===void 0?[]:r,l=e.edges,d=l===void 0?[]:l,v=e.combos,D=v===void 0?[]:v;if(this.clear(!0),this.emit("beforerender"),Object(g.each)(i,function(bt){t.add("node",bt,!1,!1)}),D&&D.length!==0){var R=qi(D,i);this.set("comboTrees",R),t.addCombos(D)}Object(g.each)(d,function(bt){t.add("edge",bt,!1,!1)});var F=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var Z=t.get("layoutController");if(Z){if(Z.layout(J),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",F);function J(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",F)}if(!this.get("groupByTypes"))if(D&&D.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var it=this.getNodes();it.forEach(function(bt){bt.toFront()})}else{var dt=this.getEdges();dt.forEach(function(bt){bt.toBack()})}this.get("enabledStack")&&this.pushStack("render")},n.prototype.read=function(t){this.data(t),this.render()},n.prototype.diffItems=function(t,e,r){var i=this,l,d=this.get("itemMap");Object(g.each)(r,function(v){if(l=d[v.id],l){if(i.get("animate")&&t===Fc){var D=l.getContainer().getMatrix();D||(D=[1,0,0,0,1,0,0,0,1]),l.set("originAttrs",{x:D[6],y:D[7]})}i.updateItem(l,v,!1)}else l=i.addItem(t,v,!1);l&&e[t+"s"].push(l)})},n.prototype.changeData=function(t,e){e===void 0&&(e=!0);var r=this;if(!Tf(t))return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:r.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(dt){return r.clearItemStates(dt)}),this.getEdges().map(function(dt){return r.clearItemStates(dt)});var i=this.get("canvas"),l=i.get("localRefresh");i.set("localRefresh",!1),r.get("data")||(r.data(t),r.render());var d=this.get("itemMap"),v={nodes:[],edges:[]},D=t.combos;if(D){var R=qi(D,t.nodes);this.set("comboTrees",R)}this.diffItems("node",v,t.nodes),Object(g.each)(d,function(dt,bt){d[bt].getModel().depth=0,!(dt.getType&&dt.getType()==="edge")&&(dt.getType&&dt.getType()==="combo"?(delete d[bt],dt.destroy()):v.nodes.indexOf(dt)<0&&(delete d[bt],r.remove(dt,!1)))});for(var F=this.getCombos(),Z=F.length,J=Z-1;J>=0;J--)F[J].destroyed&&F.splice(J,1);D&&(r.addCombos(D),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",v,t.edges),Object(g.each)(d,function(dt,bt){dt.getType&&(dt.getType()==="node"||dt.getType()==="combo")||v.edges.indexOf(dt)<0&&(delete d[bt],r.remove(dt,!1))}),this.set({nodes:v.nodes,edges:v.edges});var it=this.get("layoutController");return it&&(it.changeData(),r.get("animate")&&!it.getLayoutType()?r.positionsAnimate():r.autoPaint()),setTimeout(function(){i.set("localRefresh",l)},16),this},n.prototype.addCombos=function(t){var e=this,r=e.get("comboTrees"),i=this.get("itemController");i.addCombos(r,t)},n.prototype.createCombo=function(t,e){var r=this;this.set("comboSorted",!1);var i="",l;if(!!t){if(Object(g.isString)(t))i=t,l={id:t};else{if(i=t.id,!i){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}l=t}var d=e.map(function(D){var R=r.findById(D),F=R.getModel(),Z="";R.getType&&(Z=R.getType());var J={id:R.getID(),itemType:Z};return Z==="combo"?(J.parentId=i,F.parentId=i):Z==="node"&&(J.comboId=i,F.comboId=i),J});l.children=d,this.addItem("combo",l,!1),this.set("comboSorted",!1);var v=this.get("comboTrees");(v||[]).forEach(function(D){Rs(D,function(R){return R.id===i?(R.itemType="combo",R.children=d,!1):!0})}),v&&this.sortCombos()}},n.prototype.uncombo=function(t){var e=this,r=this,i=t;if(Object(g.isString)(t)&&(i=this.findById(t)),!i||i.getType&&i.getType()!=="combo"){console.warn("The item is not a combo!");return}var l=i.getModel().parentId,d=r.get("comboTrees");d||(d=[]);var v=this.get("itemMap"),D=i.get("id"),R,F=[],Z=this.get("combos"),J=this.findById(l);if(d.forEach(function(dt){R||Rs(dt,function(bt){if(bt.id===D){R=bt;var Dt=i.getEdges();Dt.forEach(function(wt){e.removeItem(wt,!1)});var At=Z.indexOf(i);Z.splice(At,1),delete v[D],i.destroy()}if(l&&R&&bt.id===l){J.removeCombo(i),F=bt.children;var At=F.indexOf(R);return At!==-1&&F.splice(At,1),R.children.forEach(function(zt){var Kt=e.findById(zt.id),$t=Kt.getModel();Kt.getType&&Kt.getType()==="combo"?(zt.parentId=l,delete zt.comboId,$t.parentId=l,delete $t.comboId):Kt.getType&&Kt.getType()==="node"&&(zt.comboId=l,$t.comboId=l),J.addChild(Kt),F.push(zt)}),!1}return!0})}),!l&&R){var it=d.indexOf(R);d.splice(it,1),R.children.forEach(function(dt){dt.parentId=void 0;var bt=e.findById(dt.id).getModel();delete bt.parentId,delete bt.comboId,dt.itemType!=="node"&&d.push(dt)})}},n.prototype.updateCombos=function(){var t=this,e=this,r=this.get("comboTrees"),i=e.get("itemController"),l=e.get("itemMap");(r||[]).forEach(function(d){Rs(d,function(v){if(!v)return!0;var D=l[v.id];if(D&&D.getType&&D.getType()==="combo"){var R=Object(he.__spreadArray)([],D.getStates());Object(g.each)(R,function(F){return t.setItemState(D,F,!1)}),i.updateCombo(D,v.children),Object(g.each)(R,function(F){return t.setItemState(D,F,!0)})}return!0})}),e.sortCombos()},n.prototype.updateCombo=function(t){var e=this,r=this,i=t,l;if(Object(g.isString)(t)&&(i=this.findById(t)),!i||i.getType&&i.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}l=i.get("id");var d=this.get("comboTrees"),v=r.get("itemController"),D=r.get("itemMap");(d||[]).forEach(function(R){Rs(R,function(F){if(!F)return!0;var Z=D[F.id];if(l===F.id&&Z&&Z.getType&&Z.getType()==="combo"){var J=Object(he.__spreadArray)([],Z.getStates());Object(g.each)(J,function(it){Z.getStateStyle(it)&&e.setItemState(Z,it,!1)}),v.updateCombo(Z,F.children),Object(g.each)(J,function(it){Z.getStateStyle(it)&&e.setItemState(Z,it,!0)}),l&&(l=F.parentId)}return!0})})},n.prototype.updateComboTree=function(t,e,r){r===void 0&&(r=!0);var i=this;this.set("comboSorted",!1);var l;Object(g.isString)(t)?l=i.findById(t):l=t;var d=l.getModel(),v=d.comboId||d.parentId,D="";if(l.getType&&(D=l.getType()),e&&D==="combo"){var R=this.get("comboTrees"),F=!0,Z;if((R||[]).forEach(function(At){Z||wo(At,function(wt){if(!Z)return wt.id===l.getID()&&(Z=wt),!0})}),wo(Z,function(At){return At.id===e?(F=!1,!1):!0}),!F){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(r&&this.get("enabledStack")){var J={},it={};D==="combo"?(J.combos=[{id:d.id,parentId:d.parentId}],it.combos=[{id:d.id,parentId:e}]):D==="node"&&(J.nodes=[{id:d.id,parentId:d.comboId}],it.nodes=[{id:d.id,parentId:e}]),this.pushStack("updateComboTree",{before:J,after:it})}if(d.parentId||d.comboId){var dt=this.findById(d.parentId||d.comboId);dt&&dt.removeChild(l)}if(D==="combo"?d.parentId=e:D==="node"&&(d.comboId=e),e){var bt=this.findById(e);bt&&bt.addChild(l)}if(v){var bt=this.findById(v);bt&&bt.removeChild(l)}var Dt=Sl(this.get("comboTrees"),d.id,e);this.set("comboTrees",Dt),this.updateCombos()},n.prototype.save=function(){var t=[],e=[],r=[];return Object(g.each)(this.get("nodes"),function(i){t.push(i.getModel())}),Object(g.each)(this.get("edges"),function(i){e.push(i.getModel())}),Object(g.each)(this.get("combos"),function(i){r.push(i.getModel())}),{nodes:t,edges:e,combos:r}},n.prototype.changeSize=function(t,e){var r=this.get("viewController");return r.changeSize(t,e),this},n.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),r=t.get("edges"),i=t.get("edges");Object(g.each)(e,function(l){l.refresh()}),Object(g.each)(r,function(l){l.refresh()}),Object(g.each)(i,function(l){l.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},n.prototype.getNodes=function(){return this.get("nodes")},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getCombos=function(){return this.get("combos")},n.prototype.getComboChildren=function(t){if(Object(g.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},n.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),r=e.onFrame,i=t.getNodes(),l=i.map(function(v){var D=v.getModel();return{id:D.id,x:D.x,y:D.y}});t.isAnimating()&&t.stopAnimate();var d=t.get("canvas");d.animate(function(v){Object(g.each)(l,function(D){var R=t.findById(D.id);if(!(!R||R.destroyed)){var F=R.get("originAttrs"),Z=R.get("model");if(!F){var J=R.getContainer().getMatrix();J||(J=[1,0,0,0,1,0,0,0,1]),F={x:J[6],y:J[7]},R.set("originAttrs",F)}if(r){var it=r(R,v,D,F);R.set("model",Object.assign(Z,it))}else Z.x=F.x+(D.x-F.x)*v,Z.y=F.y+(D.y-F.y)*v}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){Object(g.each)(i,function(D){D.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},n.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),r=t.get("edges"),i=t.get("vedges"),l=t.get("combos"),d,v={};Object(g.each)(e,function(D){d=D.getModel();var R=D.get("originAttrs");if(!(R&&d.x===R.x&&d.y===R.y)){var F=D.updatePosition({x:d.x,y:d.y});v[d.id]=F,d.comboId&&(v[d.comboId]=v[d.comboId]||F)}}),l&&l.length!==0&&t.updateCombos(),Object(g.each)(r,function(D){var R=D.getSource().getModel(),F=D.getTarget();if(!Object(g.isPlainObject)(F)){var Z=F.getModel();(v[R.id]||v[Z.id]||D.getModel().isComboEdge)&&D.refresh()}}),Object(g.each)(i,function(D){D.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},n.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},n.prototype.isAnimating=function(){return this.animating},n.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},n.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},n.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},n.prototype.clear=function(t){t===void 0&&(t=!1);var e=this.get("canvas");return e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},n.prototype.updateLayout=function(t){var e=this.get("layoutController");Object(g.isString)(t)&&(t={type:t});var r=this.get("layout"),i={};Object.assign(i,r,t),this.set("layout",i),e.isLayoutTypeSame(i)&&i.gpuEnabled===r.gpuEnabled?e.updateLayoutCfg(i):e.changeLayout(i)},n.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},n.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!(!e||!t)){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},n.prototype.collapseCombo=function(t){var e=this;if(Object(g.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),i=this.get("itemController");i.collapseCombo(t),r.collapsed=!0;var l=this.getEdges().concat(this.get("vedges")),d=[],v=[],D=this.get("comboTrees"),R=!1;(D||[]).forEach(function(J){R||wo(J,function(it){if(R&&it.depth<=r.depth)return!1;if(r.id===it.id&&(R=!0),R){var dt=e.findById(it.id);dt&&dt.getType&&dt.getType()==="combo"&&(d=d.concat(dt.getNodes()),v=v.concat(dt.getCombos()))}return!0})});var F={},Z=[];l.forEach(function(J){if(!(J.isVisible()&&!J.getModel().isVEdge)){var it=J.getSource(),dt=J.getTarget();if((d.includes(it)||v.includes(it))&&!d.includes(dt)&&!v.includes(dt)||it.getModel().id===r.id){var bt=J.getModel();if(bt.isVEdge){e.removeItem(J,!1);return}for(var Dt=dt.getModel();!dt.isVisible();){if(dt=e.findById(Dt.parentId||Dt.comboId),!dt||!Dt.parentId&&!Dt.comboId)return;Dt=dt.getModel()}var At=Dt.id;if(F[r.id+"-"+At]){F[r.id+"-"+At]+=bt.size||1;return}var wt=e.addItem("vedge",{source:r.id,target:At,isVEdge:!0},!1);F[r.id+"-"+At]=bt.size||1,Z.push(wt)}else if(!d.includes(it)&&!v.includes(it)&&(d.includes(dt)||v.includes(dt))||dt.getModel().id===r.id){var bt=J.getModel();if(bt.isVEdge){e.removeItem(J,!1);return}for(var zt=it.getModel();!it.isVisible();){if(it=e.findById(zt.parentId||zt.comboId),!it||!zt.parentId&&!zt.comboId)return;zt=it.getModel()}var Kt=zt.id;if(F[Kt+"-"+r.id]){F[Kt+"-"+r.id]+=bt.size||1;return}var wt=e.addItem("vedge",{target:r.id,source:Kt,isVEdge:!0},!1);F[Kt+"-"+r.id]=bt.size||1,Z.push(wt)}}}),Z.forEach(function(J){var it=J.getModel();e.updateItem(J,{size:F[it.source+"-"+it.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})},n.prototype.expandCombo=function(t){var e=this;if(Object(g.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),i=this.get("itemController");i.expandCombo(t),r.collapsed=!1;var l=this.getEdges().concat(this.get("vedges")),d=[],v=[],D=this.get("comboTrees"),R=!1;(D||[]).forEach(function(J){R||wo(J,function(it){if(R&&it.depth<=r.depth)return!1;if(r.id===it.id&&(R=!0),R){var dt=e.findById(it.id);dt&&dt.getType&&dt.getType()==="combo"&&(d=d.concat(dt.getNodes()),v=v.concat(dt.getCombos()))}return!0})});var F={},Z={};l.forEach(function(J){if(!(J.isVisible()&&!J.getModel().isVEdge)){var it=J.getSource(),dt=J.getTarget(),bt=it.get("id"),Dt=dt.get("id");if((d.includes(it)||v.includes(it))&&!d.includes(dt)&&!v.includes(dt)||bt===r.id){if(J.getModel().isVEdge){e.removeItem(J,!1);return}for(var At=dt.getModel();!dt.isVisible();){if(dt=e.findById(At.comboId||At.parentId),!dt||!At.parentId&&!At.comboId)return;At=dt.getModel()}Dt=At.id;for(var wt=it.getModel();!it.isVisible();){if(it=e.findById(wt.comboId||wt.parentId),!it||!wt.parentId&&!wt.comboId)return;if(wt.comboId===r.id||wt.parentId===r.id)break;wt=it.getModel()}if(bt=wt.id,Dt){var zt=bt+"-"+Dt;if(F[zt]){F[zt]+=J.getModel().size||1,e.updateItem(Z[zt],{size:F[zt]},!1);return}var Kt=e.addItem("vedge",{source:bt,target:Dt,isVEdge:!0},!1);F[zt]=J.getModel().size||1,Z[zt]=Kt}}else if(!d.includes(it)&&!v.includes(it)&&(d.includes(dt)||v.includes(dt))||Dt===r.id){if(J.getModel().isVEdge){e.removeItem(J,!1);return}for(var wt=it.getModel();!it.isVisible();){if(it=e.findById(wt.comboId||wt.parentId),!it||!wt.parentId&&!wt.comboId)return;wt=it.getModel()}bt=wt.id;for(var At=dt.getModel();!dt.isVisible();){if(dt=e.findById(At.comboId||At.parentId),!dt||!At.parentId&&!At.comboId)return;if(At.comboId===r.id||At.parentId===r.id)break;At=dt.getModel()}if(Dt=At.id,bt){var zt=bt+"-"+Dt;if(F[zt]){F[zt]+=J.getModel().size||1,e.updateItem(Z[zt],{size:F[zt]},!1);return}var Kt=e.addItem("vedge",{target:Dt,source:bt,isVEdge:!0},!1);F[zt]=J.getModel().size||1,Z[zt]=Kt}}else(d.includes(it)||v.includes(it))&&(d.includes(dt)||v.includes(dt))&&it.isVisible()&&dt.isVisible()&&J.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},n.prototype.collapseExpandCombo=function(t){if(Object(g.isString)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),r=this.findById(e.parentId);r;){var i=r.getModel();if(i.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),r=void 0;return}r=this.findById(i.parentId)}var l=e.collapsed;l?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},n.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var r=[],i={},l=this.get("comboTrees");(l||[]).forEach(function(v){wo(v,function(D){return r[D.depth]?r[D.depth].push(D.id):r[D.depth]=[D.id],i[D.id]=D.depth,!0})});var d=this.getEdges().concat(this.get("vedges"));(d||[]).forEach(function(v){var D=v.getModel(),R=i[D.source]||0,F=i[D.target]||0,Z=Math.max(R,F);r[Z]?r[Z].push(D.id):r[Z]=[D.id]}),r.forEach(function(v){if(!(!v||!v.length))for(var D=v.length-1;D>=0;D--){var R=t.findById(v[D]);R&&R.toFront()}})}},n.prototype.getNeighbors=function(t,e){var r=t;return Object(g.isString)(t)&&(r=this.findById(t)),r.getNeighbors(e)},n.prototype.getNodeDegree=function(t,e,r){e===void 0&&(e=void 0),r===void 0&&(r=!1);var i=t;Object(g.isString)(t)&&(i=this.findById(t));var l=this.get("degrees");(!l||r)&&(l=Ds(this.save()),this.set("degrees",l));var d=l[i.getID()],v=0;if(!d)return 0;switch(e){case"in":v=d.inDegree;break;case"out":v=d.outDegree;break;case"all":v=d;break;default:v=d.degree;break}return v},n.prototype.getUndoStack=function(){return this.undoStack},n.prototype.getRedoStack=function(){return this.redoStack},n.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},n.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},n.prototype.pushStack=function(t,e,r){if(t===void 0&&(t="update"),r===void 0&&(r="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var i=e?Object(g.clone)(e):{before:{},after:Object(g.clone)(this.save())};r==="redo"?this.redoStack.push({action:t,data:i}):this.undoStack.push({action:t,data:i}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},n.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix");return(!r||!t)&&(r=Ha(this.save(),e),this.set("adjMatrix",r)),r},n.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix"),i=this.get("shortestPathMatrix");return(!r||!t)&&(r=Ha(this.save(),e),this.set("adjMatrix",r)),(!i||!t)&&(i=pn(this.save(),e),this.set("shortestPathMatrix",i)),i},n.prototype.on=function(t,e,r){return u.prototype.on.call(this,t,e,r)},n.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},n.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var e=this.get("hullGroup"),r=this.get("hullMap");if(r||(r={},this.set("hullMap",r)),(!e||e.get("destroyed"))&&(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),r[t.id])return console.warn("Existed hull id."),r[t.id];var i=e.addGroup({id:t.id+"-container"}),l=new _s(this,Object(he.__assign)(Object(he.__assign)({},t),{group:i})),d=l.id;return r[d]=l,l},n.prototype.getHulls=function(){return this.get("hullMap")},n.prototype.getHullById=function(t){return this.get("hullMap")[t]},n.prototype.removeHull=function(t){var e;Object(g.isString)(t)?e=this.getHullById(t):e=t;var r=this.get("hullMap");delete r[e.id],e.destroy()},n.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(e){var r=t[e];r.destroy()}),this.set("hullMap",{}))},n}(Xo.a),tu=Vu;function eu(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(u)}var ts=Gn.a.transform,ru="-shape",Th="-label",Gc=["startArrow","endArrow"],kf={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Dh={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},nu={edge:Dh,node:kf,combo:kf},Vf="-label-bg",ul={options:{},itemType:"",type:"",getCustomConfig:function(n){return{}},getOptions:function(n){return Object(g.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(n)||{},n)},draw:function(n,t){var e=this.drawShape(n,t);if(e.set("className",this.itemType+ru),n.label){var r=this.drawLabel(n,t);r.set("className",this.itemType+Th)}return e},afterDraw:function(n,t,e){},drawShape:function(n,t){return null},drawLabel:function(n,t){var e=this.getOptions(n).labelCfg,r=e||{},i=this.getLabelStyle(n,r,t),l=i.rotate;delete i.rotate;var d=t.addShape("text",{attrs:i,draggable:!0,className:"text-shape",name:"text-shape"});if(l){var v=d.getBBox(),D=d.getMatrix();if(D||(D=[1,0,0,0,1,0,0,0,1]),i.rotateCenter)switch(i.rotateCenter){case"center":D=ts(D,[["t",-v.width/2,-v.height/2],["r",l],["t",v.width/2,v.height/2]]);break;case"lefttop":D=ts(D,[["t",-i.x,-i.y],["r",l],["t",i.x,i.y]]);break;case"leftcenter":D=ts(D,[["t",-i.x,-i.y-v.height/2],["r",l],["t",i.x,i.y+v.height/2]]);break;default:D=ts(D,[["t",-v.width/2,-v.height/2],["r",l],["t",v.width/2,v.height/2]]);break}else D=ts(D,[["t",-i.x,-i.y-v.height/2],["r",l],["t",i.x,i.y+v.height/2]]);d.setMatrix(D)}if(i.background){var R=this.drawLabelBg(n,t,d),F=this.itemType+Vf;R.set("classname",F),d.toFront()}return d},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,i=Object(g.mix)({},r,n.labelCfg),l=this.getLabelBgStyleByPosition(e,n,i,t),d=t.addShape("rect",{name:"text-bg-shape",attrs:l});return d},getLabelStyleByPosition:function(n,t,e){return{text:n.label}},getLabelBgStyleByPosition:function(n,t,e,r){return{}},getLabelStyle:function(n,t,e){var r=this.getLabelStyleByPosition(n,t,e),i=this.itemType+"Label",l=kn[i]?kn[i].style:null,d=Object(he.__assign)(Object(he.__assign)(Object(he.__assign)({},l),r),t.style);return d},getShapeStyle:function(n){return n.style},update:function(n,t){this.updateShapeStyle(n,t),this.updateLabel(n,t)},updateShapeStyle:function(n,t){var e=t.getContainer(),r=t.getKeyShape(),i=Object(g.mix)({},r.attr(),n.style),l=function(D){var R,F=i[D];if(Object(g.isPlainObject)(F)){var Z=e.find(function(J){return J.get("name")===D});Z&&Z.attr(F)}else r.attr((R={},R[D]=F,R))};for(var d in i)l(d)},updateLabel:function(n,t){var e=t.getContainer(),r=this.getOptions({}).labelCfg,i=this.itemType+Th,l=e.find(function(Kt){return Kt.get("className")===i}),d=this.itemType+Vf,v=e.find(function(Kt){return Kt.get("classname")===d});if(n.label||n.label==="")if(l){var R={};t.getModel&&(R=t.getModel().labelCfg);var F=Object(g.deepMix)({},r,R,n.labelCfg),Z=this.getLabelStyleByPosition(n,F,e),J=n.labelCfg?n.labelCfg.style:void 0,it=F.style&&F.style.background,dt=Object(he.__assign)(Object(he.__assign)(Object(he.__assign)({},l.attr()),Z),J),bt=dt.rotate;if(delete dt.rotate,bt){var Dt=[1,0,0,0,1,0,0,0,1];Dt=ts(Dt,[["t",-dt.x,-dt.y],["r",bt],["t",dt.x,dt.y]]),l.resetMatrix(),l.attr(Object(he.__assign)(Object(he.__assign)({},dt),{matrix:Dt}))}else l.resetMatrix(),l.attr(dt);if(!v)dt.background&&(v=this.drawLabelBg(n,e,l),v.set("classname",d),l.toFront());else if(dt.background){var At=this.getLabelBgStyleByPosition(l,n,F,e),wt=Object(he.__assign)(Object(he.__assign)({},At),it);if(v.resetMatrix(),bt){var zt=[1,0,0,0,1,0,0,0,1];zt=ts(zt,[["t",-wt.x,-wt.y],["r",bt],["t",wt.x,wt.y]]),wt.matrix=zt}v.attr(wt)}else e.removeChild(v)}else{var D=this.drawLabel(n,e);D.set("className",i)}},afterUpdate:function(n,t){},setState:function(n,t,e){var r,i,l=e.get("keyShape");if(!(!l||l.destroyed)){var d=e.getType(),v=Object(g.isBoolean)(t)?n:n+":"+t,D=this.getStateStyle(v,e),R=e.getStateStyle(v);if(!(!R&&!D)){var F=Object(g.mix)({},R||D),Z=e.getContainer(),J={x:1,y:1,cx:1,cy:1};if(d==="combo"&&(J.r=1,J.width=1,J.height=1),t){var it=function(gr){var qr,kr=F[gr];if(Object(g.isPlainObject)(kr)&&!Gc.includes(gr)){var Nr=Z.find(function(Fr){return Fr.get("name")===gr});Nr&&Nr.attr(kr)}else l.attr((qr={},qr[gr]=kr,qr))};for(var dt in F)it(dt)}else{var bt=Hl(e.getCurrentStatesStyle()),Dt=e.getModel(),At=Object(g.mix)({},Dt.style,Hl(e.getOriginStyle())),wt=l.get("name"),zt=l.attr(),Kt={};Object.keys(zt).forEach(function(fr){if(fr!=="img"){var gr=zt[fr];gr&&eu(gr)==="object"?Kt[fr]=Object(g.clone)(gr):Kt[fr]=gr}});var $t={},ee=function(gr){var qr=F[gr];if(Object(g.isPlainObject)(qr)&&!Gc.includes(gr)){var kr=Z.find(function(Ir){return Ir.get("name")===gr});if(kr){var Nr=Hl(kr.attr());Object(g.each)(qr,function(Ir,Sr){if(gr===wt&&Kt[Sr]&&!J[Sr]){delete Kt[Sr];var Xr=At[gr][Sr]||nu[d][Sr];l.attr(Sr,Xr)}else if(Nr[Sr]||Nr[Sr]===0){delete Nr[Sr];var en=At[gr][Sr]||nu[d][Sr];kr.attr(Sr,en)}}),$t[gr]=Nr}}else if(Kt[gr]&&!J[gr]){delete Kt[gr];var Fr=At[gr]||(At[wt]?At[wt][gr]:void 0)||nu[d][gr];l.attr(gr,Fr)}};for(var re in F)ee(re);wt?$t[wt]=Kt:Object(g.mix)($t,Kt);for(var dt in bt)if(!J[dt]){var fe=bt[dt];(!Object(g.isPlainObject)(fe)||Gc.includes(dt))&&(wt?(Object(g.mix)(At[wt],(i={},i[dt]=fe,i)),delete At[dt]):Object(g.mix)(At,(r={},r[dt]=fe,r)),delete bt[dt])}var ce={};Object(g.deepMix)(ce,At,$t,bt);var Ae=!1,Te=function(gr){var qr,kr,Nr=ce[gr];if(Object(g.isPlainObject)(Nr)&&!Gc.includes(gr)){var Fr=Z.find(function(Sr){return Sr.get("name")===gr});Fr&&(gr===wt&&(d==="combo"&&(delete Nr.r,delete Nr.width,delete Nr.height),Ae=!0),Fr.attr(Nr))}else if(!Ae){var Ir=Nr||nu[d][gr];d==="combo"?wt||l.attr((qr={},qr[gr]=Ir,qr)):l.attr((kr={},kr[gr]=Ir,kr))}};for(var cr in ce)Te(cr)}}}},getStateStyle:function(n,t){var e=t.getModel(),r=t.getType(),i=this.getOptions(e),l=i.stateStyles,d=i.style,v=d===void 0?{}:d,D=e.stateStyles?e.stateStyles[n]:l&&l[n];return r==="combo"?Object(g.clone)(D):Object(g.mix)({},v,D)},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.getOptions(n).anchorPoints;return t}},Md={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:kn.nodeLabel.offset,getSize:function(n){var t=n.size||this.getOptions({}).size||kn.defaultNode.size;return Object(g.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(g.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:n.label};var r=t.offset;Object(g.isNil)(r)&&(r=this.offset);var i=this.getSize(n),l=i[0],d=i[1],v;switch(e){case"top":v={x:0,y:0-d/2-r,textBaseline:"bottom"};break;case"bottom":v={x:0,y:d/2+r,textBaseline:"top"};break;case"left":v={x:0-l/2-r,y:0,textAlign:"right"};break;default:v={x:l/2+r,y:0,textAlign:"left"};break}return v.text=n.label,v},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var i=n.getBBox(),l=e.style&&e.style.background;if(!l)return{};var d=Iu(l.padding),v=i.width+d[1]+d[3],D=i.height+d[0]+d[2],R=e.offset;Object(g.isNil)(R)&&(R=this.offset);var F;return F={x:i.minX-d[3],y:i.minY-d[0]},F=Object(he.__assign)(Object(he.__assign)(Object(he.__assign)({},F),l),{width:v,height:D}),F},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),i=t.addShape(e,{attrs:r,draggable:!0,name:"node-shape"});return i},updateLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=t.find(function(ee){return ee.get("className")==="link-point-left"}),i=t.find(function(ee){return ee.get("className")==="link-point-right"}),l=t.find(function(ee){return ee.get("className")==="link-point-top"}),d=t.find(function(ee){return ee.get("className")==="link-point-bottom"}),v;r&&(v=r.attr()),i&&!v&&(v=i.attr()),l&&!v&&(v=l.attr()),d&&!v&&(v=d.attr()),v||(v=e);var D=Object(g.mix)({},v,n.linkPoints),R=D.fill,F=D.stroke,Z=D.lineWidth,J=D.size/2;J||(J=D.r);var it=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},dt=it.left,bt=it.right,Dt=it.top,At=it.bottom,wt=this.getSize(n),zt=wt[0],Kt=wt[1],$t={r:J,fill:R,stroke:F,lineWidth:Z};r?!dt&&dt!==void 0?r.remove():r.attr(Object(he.__assign)(Object(he.__assign)({},$t),{x:-zt/2,y:0})):dt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},$t),{x:-zt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),i?(!bt&&bt!==void 0&&i.remove(),i.attr(Object(he.__assign)(Object(he.__assign)({},$t),{x:zt/2,y:0}))):bt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},$t),{x:zt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),l?(!Dt&&Dt!==void 0&&l.remove(),l.attr(Object(he.__assign)(Object(he.__assign)({},$t),{x:0,y:-Kt/2}))):Dt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},$t),{x:0,y:-Kt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),d?!At&&At!==void 0?d.remove():d.attr(Object(he.__assign)(Object(he.__assign)({},$t),{x:0,y:Kt/2})):At&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},$t),{x:0,y:Kt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(n,t,e,r){var i=t.get("keyShape");i.attr(Object(he.__assign)({},e)),this.updateLabel(n,t),r&&this.updateIcon(n,t)},updateIcon:function(n,t){var e=this,r=t.getContainer(),i=this.getOptions(n).icon,l=(n.icon?n.icon:{show:void 0}).show,d=r.find(function(Z){return Z.get("className")===e.type+"-icon"});if(d)if(l||l===void 0){var v=Object(g.mix)({},d.attr(),i),D=v.width,R=v.height;d.attr(Object(he.__assign)(Object(he.__assign)({},v),{x:-D/2,y:-R/2}))}else d.remove();else if(l){var D=i.width,R=i.height;r.addShape("image",{attrs:Object(he.__assign)(Object(he.__assign)({},i),{x:-D/2,y:-R/2}),className:this.type+"-icon",name:this.type+"-icon"});var F=r.find(function(it){return it.get("className")==="node-label"});F&&F.toFront()}}},Cd=Object(he.__assign)(Object(he.__assign)({},ul),Md);vo.registerNode("single-node",Cd);var Uc="edge-shape";function Xf(u){var n=u;return u==="start"?n="end":u==="end"&&(n="start"),n}var Wc={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:kn.defaultEdge.size,style:{x:0,y:0,stroke:kn.defaultEdge.style.stroke,lineAppendWidth:kn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:kn.edgeLabel.style.fill,fontSize:kn.edgeLabel.style.fontSize}},stateStyles:Object(he.__assign)({},kn.edgeStateStyles)},getPath:function(n){var t=[];return Object(g.each)(n,function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(g.mix)({},t,e,n.style),i=n.size||kn.defaultEdge.size;n=this.getPathPoints(n);var l=n.startPoint,d=n.endPoint,v=this.getControlPoints(n),D=[l];v&&(D=D.concat(v)),D.push(d);var R=this.getPath(D),F=Object(g.mix)({},kn.defaultEdge.style,{stroke:kn.defaultEdge.color,lineWidth:i,path:R},r);return F},updateShapeStyle:function(n,t){var e=t.getContainer(),r={stroke:n.color},i=e.find(function(At){return At.get("className")==="edge-shape"})||t.getKeyShape(),l=n.size;n=this.getPathPoints(n);var d=n.startPoint,v=n.endPoint,D=this.getControlPoints(n),R=[d];D&&(R=R.concat(D)),R.push(v);var F=i.attr(),Z=Object(g.mix)({},r,F,n.style),J=n.sourceNode,it=n.targetNode,dt={radius:Z.radius};D||(dt={source:J,target:it,offset:Z.offset,radius:Z.radius}),F.endArrow&&Z.endArrow===!1&&(n.style.endArrow={path:""}),F.startArrow&&Z.startArrow===!1&&(n.style.startArrow={path:""});var bt=this.getPath(R,dt),Dt=Object(g.mix)(r,i.attr(),{lineWidth:l,path:bt},n.style);i&&i.attr(Dt)},getLabelStyleByPosition:function(n,t,e){var r=t.position||this.labelPosition,i={},l=e&&e.find(function(Z){return Z.get("className")===Uc}),d;r==="start"?d=0:r==="end"?d=1:d=.5;var v=t.refX||this.refX,D=t.refY||this.refY;if(n.startPoint.x===n.endPoint.x&&n.startPoint.y===n.endPoint.y)return i.x=n.startPoint.x+v,i.y=n.startPoint.y+D,i.text=n.label,i;var R;Object(g.isNil)(t.autoRotate)?R=this.labelAutoRotate:R=t.autoRotate;var F=Xl(l,d,v,D,R);return i.x=F.x,i.y=F.y,i.rotate=F.rotate,i.textAlign=this._getTextAlign(r,F.angle),i.text=n.label,i},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var i=n.getBBox(),l=e.style&&e.style.background;if(!l)return{};var d=l.padding,v=i.width+d[1]+d[3],D=i.height+d[0]+d[2],R=e.position||this.labelPosition,F=Object(he.__assign)(Object(he.__assign)({},l),{width:v,height:D,x:i.minX-d[2],y:i.minY-d[0],rotate:0}),Z;Object(g.isNil)(e.autoRotate)?Z=this.labelAutoRotate:Z=e.autoRotate;var J=r&&r.find(function(wt){return wt.get("className")===Uc}),it;R==="start"?it=0:R==="end"?it=1:it=.5;var dt=e.refX||this.refX,bt=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return F.x=t.startPoint.x+dt-v/2,F.y=t.startPoint.y+bt-D/2,F;var Dt=Xl(J,it,dt-v/2,bt+D/2,Z),At=Dt.angle;return At>1/2*Math.PI&&At<3*1/2*Math.PI&&(Dt=Xl(J,it,dt+v/2,bt+D/2,Z)),Z&&(F.x=Dt.x,F.y=Dt.y),F.rotate=Dt.rotate,F},_getTextAlign:function(n,t){var e="center";return t?(t=t%(Math.PI*2),n!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=n:e=Xf(n)),e):n},getControlPoints:function(n){return n.controlPoints},getPathPoints:function(n){return n},drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("path",{className:Uc,name:Uc,attrs:e});return r},drawLabel:function(n,t){var e=this.options.labelCfg,r;typeof window!="undefined"&&typeof window.getComputedStyle!="undefined"?r=window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif":r="Arial, sans-serif";var i=Object(g.deepMix)({fontFamily:r},e,n.labelCfg),l=this.getLabelStyle(n,i,t),d=l.rotate;delete l.rotate;var v=t.addShape("text",{attrs:l,name:"text-shape"});if(d&&v.rotateAtStart(d),l.background){var D=this.drawLabelBg(n,t,v),R=this.itemType+Vf;D.set("classname",R),v.toFront()}return v},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,i=Object(g.deepMix)({},r,n.labelCfg),l=this.getLabelStyle(n,i,t),d=l.rotate,v=this.getLabelBgStyleByPosition(e,n,i,t);delete v.rotate;var D=t.addShape("rect",{name:"text-bg-shape",attrs:v});return d&&D.rotateAtStart(d),D}},Ph=Object(he.__assign)(Object(he.__assign)({},ul),Wc);vo.registerEdge("single-edge",Ph),vo.registerEdge("line",{getControlPoints:function(){}},"single-edge"),vo.registerEdge("spline",{getPath:function(n){var t=jc(n);return t}},"single-edge"),vo.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint,r={x:(t.x+e.x)/2,y:(t.y+e.y)/2},i,l;if(n.controlPoints!==void 0){if(l=n.controlPoints[0],i=eo(t,l,e),t.x<=e.x&&t.y>e.y?this.clockwise=i.x>l.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=i.x>l.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=i.y<l.y?0:1:this.clockwise=i.y<l.y?1:0,(l.x-t.x)/(l.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),Object(g.isArray)(n.curveOffset)&&(n.curveOffset=n.curveOffset[0]),n.curveOffset<0?this.clockwise=0:this.clockwise=1;var d={x:e.x-t.x,y:e.y-t.y},v=Math.atan2(d.y,d.x);l={x:n.curveOffset*Math.cos(-Math.PI/2+v)+r.x,y:n.curveOffset*Math.sin(-Math.PI/2+v)+r.y},i=eo(t,l,e)}var D=gc(t,i),R=[{x:D,y:D}];return R},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),n.length===2?t.push(["L",n[1].x,n[1].y]):t.push(["A",n[1].x,n[1].y,0,0,this.clockwise,n[2].x,n[2].y]),t}},"single-edge"),vo.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(n){var t=n.controlPoints;if(!t||!t.length){var e=n.startPoint,r=n.endPoint;n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(g.isArray)(this.curveOffset)&&(n.curveOffset=n.curveOffset[0]),Object(g.isArray)(this.curvePosition)&&(n.curvePosition=n.curveOffset[0]);var i=Fu(e,r,n.curvePosition,n.curveOffset);t=[i]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["Q",n[1].x,n[1].y,n[2].x,n[2].y]),t}},"single-edge"),vo.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(n){var t=n.controlPoints;if(n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(g.isNumber)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(g.isNumber)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]),!t||!t.length||t.length<2){var e=n.startPoint,r=n.endPoint,i=Fu(e,r,n.curvePosition[0],n.curveOffset[0]),l=Fu(e,r,n.curvePosition[1],n.curveOffset[1]);t=[i,l]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["C",n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y]),t}},"single-edge"),vo.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(g.isNumber)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(g.isNumber)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(g.isNumber)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.y-t.y,i=[0,0];n.curveOffset?i=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(i=n.minCurveOffset);var l={x:t.x,y:t.y+r*this.curvePosition[0]+i[0]},d={x:e.x,y:e.y-r*this.curvePosition[1]+i[1]};return[l,d]}},"cubic"),vo.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(g.isNumber)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(g.isNumber)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(g.isNumber)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.x-t.x,i=[0,0];n.curveOffset?i=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(i=n.minCurveOffset);var l={x:t.x+r*this.curvePosition[0]+i[0],y:t.y},d={x:e.x-r*this.curvePosition[1]+i[1],y:e.y},v=[l,d];return v}},"cubic"),vo.registerEdge("loop",{getPathPoints:function(n){return Mf(n)},getControlPoints:function(n){return n.controlPoints},afterDraw:function(n){n.controlPoints=void 0},afterUpdate:function(n){n.controlPoints=void 0}},"cubic");var Ih={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:kn.comboLabel.refX,refY:kn.comboLabel.refY,options:{style:{stroke:kn.defaultCombo.style.stroke,fill:kn.defaultCombo.style.fill,lineWidth:kn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:kn.comboLabel.style.fill,fontSize:kn.comboLabel.style.fontSize}},stateStyles:Object(he.__assign)({},kn.comboStateStyles)},getSize:function(n){var t=Object(g.clone)(n.size||this.options.size||kn.defaultCombo.size);return Object(g.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(g.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,i=n.padding||this.options.padding;Object(g.isArray)(i)&&(i=i[0]);var l=t.refX,d=t.refY;Object(g.isNil)(l)&&(l=this.refX),Object(g.isNil)(d)&&(d=this.refY);var v=this.getSize(n),D=Math.max(r.r,v[0]/2)||v[0]/2,R=D+i,F;switch(e){case"top":F={x:0,y:-R-d,textBaseline:"bottom",textAlign:"center"};break;case"bottom":F={x:0,y:R+d,textBaseline:"bottom",textAlign:"center"};break;case"left":F={x:-R+l,y:0,textAlign:"left"};break;case"center":F={x:0,y:0,text:n.label,textAlign:"center"};break;default:F={x:R+l,y:0,textAlign:"right"};break}return F.text=n.label,F},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),i=t.addShape(e,{attrs:r,draggable:!0,name:"combo-shape"});return i},updateShape:function(n,t,e){var r=t.get("keyShape"),i=n.animate===void 0?this.options.animate:n.animate;i&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(he.__assign)({},e)),this.updateLabel(n,t)}},Ad=Object(he.__assign)(Object(he.__assign)({},ul),Ih);vo.registerCombo("single-combo",Ad),vo.registerCombo("circle",{options:{size:[kn.defaultCombo.size[0],kn.defaultCombo.size[0]],padding:kn.defaultCombo.padding[0],animate:!0,style:{stroke:kn.defaultCombo.style.stroke,fill:kn.defaultCombo.style.fill,lineWidth:kn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:kn.comboLabel.style.fill,fontSize:kn.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(he.__assign)({},kn.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n);delete e.height,delete e.width;var r=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return r},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(g.isArray)(e)&&(e=e[0]);var r={stroke:n.color},i=Object(g.mix)({},t,r,n.style),l;if(n.fixSize)l=Object(g.isNumber)(n.fixSize)?n.fixSize:n.fixSize[0];else{var d=this.getSize(n);!Object(g.isNumber)(i.r)||isNaN(i.r)?l=d[0]/2||kn.defaultCombo.style.r:l=Math.max(i.r,d[0]/2)||d[0]/2}i.r=l+e;var v=Object(he.__assign)({x:0,y:0},i);return n.style?n.style.r=l:n.style={r:l},v},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(g.isArray)(r)&&(r=r[0]);var i=Object(g.clone)(n.style),l;n.fixSize?l=Object(g.isNumber)(n.fixSize)?n.fixSize:n.fixSize[0]:l=Math.max(i.r,e[0]/2)||e[0]/2,i.r=l+r;var d=t.get("sizeCache");d&&(d.r=i.r);var v={stroke:n.color},D=t.get("keyShape"),R=Object(g.mix)({},D.attr(),v,i);n.style?n.style.r=l:n.style={r:l},this.updateShape(n,t,R,!0)}},"single-combo"),vo.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:kn.defaultCombo.style.stroke,fill:kn.defaultCombo.style.fill,lineWidth:kn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:kn.comboLabel.style.fill,fontSize:kn.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(he.__assign)({},kn.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return r},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,i=n.padding||this.options.padding;Object(g.isNumber)(i)&&(i=[i,i,i,i]);var l=t.refX,d=t.refY;Object(g.isNil)(l)&&(l=this.refX),Object(g.isNil)(d)&&(d=this.refY);var v=r.width/2+i[3],D=r.height/2+i[0],R;switch(e){case"top":R={x:0-v+l,y:0-D+d,textBaseline:"top",textAlign:"left"};break;case"bottom":R={x:0,y:D+d,textBaseline:"bottom",textAlign:"center"};break;case"left":R={x:0-v+d,y:0,textAlign:"left"};break;case"center":R={x:0,y:0,text:n.label,textAlign:"center"};break;default:R={x:v+l,y:0,textAlign:"right"};break}return R.text=n.label,R},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(g.isNumber)(e)&&(e=[e,e,e,e]);var r={stroke:n.color},i=Object(g.mix)({},t,r,n.style),l=this.getSize(n),d,v,D=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;D?Object(g.isNumber)(D)?(d=D,v=D):(d=D[0],v=D[1]):(!Object(g.isNumber)(i.width)||isNaN(i.width)?d=l[0]||kn.defaultCombo.style.width:d=Math.max(i.width,l[0])||l[0],!Object(g.isNumber)(i.height)||isNaN(i.height)?v=l[1]||kn.defaultCombo.style.height:v=Math.max(i.height,l[1])||l[1]);var R=-d/2-e[3],F=-v/2-e[0];i.width=d+e[1]+e[3],i.height=v+e[0]+e[2];var Z=Object(he.__assign)({x:R,y:F},i);return n.style?(n.style.width=d,n.style.height=v):n.style={width:d,height:v},Z},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(g.isNumber)(r)&&(r=[r,r,r,r]);var i=Object(g.clone)(n.style),l,d,v=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;v?Object(g.isNumber)(v)?(l=v,d=v):(l=v[0],d=v[1]):(l=Math.max(i.width,e[0])||e[0],d=Math.max(i.height,e[1])||e[1]),i.width=l+r[1]+r[3],i.height=d+r[0]+r[2];var D=t.get("sizeCache");D&&(D.width=i.width,D.height=i.height),i.x=-l/2-r[3],i.y=-d/2-r[0];var R={stroke:n.color},F=t.get("keyShape"),Z=Object(g.mix)({},F.attr(),R,i);n.style?(n.style.width=l,n.style.height=d):n.style={width:l,height:d},this.updateShape(n,t,Z,!1)},updateShape:function(n,t,e){var r=t.get("keyShape"),i=n.animate===void 0?this.options.animate:n.animate;i&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(he.__assign)({},e)),this.updateLabel(n,t)}},"single-combo"),vo.registerNode("simple-circle",{options:{size:kn.defaultNode.size,style:{x:0,y:0,stroke:kn.defaultNode.style.stroke,fill:kn.defaultNode.style.fill,lineWidth:kn.defaultNode.style.lineWidth},labelCfg:{style:{fill:kn.nodeLabel.style.fill,fontSize:kn.nodeLabel.style.fontSize}},stateStyles:Object(he.__assign)({},kn.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("circle",{attrs:e,className:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.deepMix)({},t,e),i=this.getSize(n),l=i[0]/2,d=Object(he.__assign)({x:0,y:0,r:l},r);return d},update:function(n,t){var e=this.getSize(n),r={stroke:n.color,r:e[0]/2},i=t.get("keyShape"),l=Object(g.deepMix)({},i.attr(),r,n.style);this.updateShape(n,t,l,!0)}},"single-node"),vo.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:kn.defaultNode.style.stroke,fill:kn.defaultNode.style.fill,lineWidth:kn.defaultNode.style.lineWidth},labelCfg:{style:{fill:kn.nodeLabel.style.fill,fontSize:kn.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(he.__assign)({},kn.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.mix)({},t,e),i=this.getSize(n),l=r.width||i[0],d=r.height||i[1],v=Object(he.__assign)({x:-l/2,y:-d/2,width:l,height:d},r);return v},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,i=this.getSize(n),l=t.get("keyShape");n.size||(i[0]=l.attr("width")||r.width,i[1]=l.attr("height")||r.height);var d={stroke:n.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},v=Object(g.mix)({},r,l.attr(),d);v=Object(g.mix)(v,n.style),this.updateShape(n,t,v,!1)}},"single-node"),vo.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n);delete r.fill;var i=t.addShape(e,{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(n,i),i},drawClip:function(n,t){var e=this.getOptions(n).clipCfg;if(!!e.show){var r=e.type,i=e.x,l=e.y,d=e.style;if(r==="circle"){var v=e.r;t.setClip({type:"circle",attrs:Object(he.__assign)({r:v,x:i,y:l},d)})}else if(r==="rect"){var D=e.width,R=e.height,F=i-D/2,Z=l-R/2;t.setClip({type:"rect",attrs:Object(he.__assign)({x:F,y:Z,width:D,height:R},d)})}else if(r==="ellipse"){var J=e.rx,it=e.ry;t.setClip({type:"ellipse",attrs:Object(he.__assign)({x:i,y:l,rx:J,ry:it},d)})}else if(r==="polygon"){var dt=e.points;t.setClip({type:"polygon",attrs:Object(he.__assign)({points:dt},d)})}else if(r==="path"){var bt=e.path;t.setClip({type:"path",attrs:Object(he.__assign)({path:bt},d)})}}},getShapeStyle:function(n){var t=this.getOptions(n).style,e=this.getSize(n),r=this.getOptions(n).img,i=e[0],l=e[1];t&&(i=t.width||e[0],l=t.height||e[1]);var d=Object(he.__assign)({x:-i/2,y:-l/2,width:i,height:l,img:r},t);return d},updateShapeStyle:function(n,t){var e=t.getContainer(),r=this.itemType+"-shape",i=e.find(function(d){return d.get("className")===r})||t.getKeyShape(),l=this.getShapeStyle(n);i&&i.attr(l)}},"single-node");var Lh={triangle:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,i="M "+r+",0 L "+(r+t)+",-"+n/2+" L "+(r+t)+","+n/2+" Z";return i},vee:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=20),e===void 0&&(e=0);var r=e*2,i="M "+r+",0 L "+(r+t)+",-"+n/2+`
        L `+(r+2*t/3)+",0 L "+(r+t)+","+n/2+" Z";return i},circle:function(n,t){n===void 0&&(n=5),t===void 0&&(t=0);var e=t*2,r="M "+e+`, 0
            a `+n+","+n+" 0 1,0 "+n*2+`,0
            a `+n+","+n+" 0 1,0 "+-n*2+",0";return r},rect:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=10),e===void 0&&(e=0);var r=e*2,i="M "+r+","+-n/2+` 
        L `+(r+t)+","+-n/2+` 
        L `+(r+t)+","+n/2+` 
        L `+r+","+n/2+" Z";return i},diamond:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,i="M "+r+`,0 
        L `+(r+t/2)+","+-n/2+` 
        L `+(r+t)+`,0 
        L `+(r+t/2)+","+n/2+" Z";return i},triangleRect:function(n,t,e,r,i,l){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=15),r===void 0&&(r=3),i===void 0&&(i=5),l===void 0&&(l=0);var d=l*2,v=d+t+i,D="M "+d+",0 L "+(d+t)+",-"+n/2+" L "+(d+t)+","+n/2+` Z
            M `+v+", -"+e/2+`
            L `+(v+r)+" -"+e/2+`
            L `+(v+r)+" "+e/2+`
            L `+v+" "+e/2+`
            Z`;return D}},jh={collapse:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n+e-4,t]]},expand:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n-e+2*e-4,t],["M",n-e+e,t-e+4],["L",n,t+e-4]]},upTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),i=e*Math.sin(Math.PI/6);return[["M",n-r,t+i],["L",n+r,t+i],["L",n,t-e],["Z"]]},downTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),i=e*Math.sin(Math.PI/6);return[["M",n-r,t-i],["L",n+r,t-i],["L",n,t+e],["Z"]]}},cl=vo,Rh=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Td=Gn.a.transform,Dd=Object(he.__assign)(Object(he.__assign)(Object(he.__assign)(Object(he.__assign)(Object(he.__assign)(Object(he.__assign)({},O),x),C),o),P),{transform:Td,mat3:Gn.b}),Zo=Dd,zc=function(){function u(n){this.graph=n,this.layoutCfg=n.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return u.prototype.initLayout=function(){},u.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},u.prototype.getLayoutCfgType=function(n){var t=n.type;if(t)return t;var e=n.pipes;return Array.isArray(e)?e.map(function(r){return(r==null?void 0:r.type)||""}):null},u.prototype.isLayoutTypeSame=function(n){var t=this.getLayoutCfgType(n);return Array.isArray(this.layoutType)?this.layoutType.every(function(e,r){return e===t[r]}):(n==null?void 0:n.type)===this.layoutType},u.prototype.refreshLayout=function(){var n=this.graph;!n||(n.get("animate")?n.positionsAnimate():n.refreshPositions())},u.prototype.changeLayout=function(n){this.layoutCfg=n,this.destoryLayoutMethods(),this.layout()},u.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},u.prototype.destoryLayoutMethods=function(){var n=this.layoutMethods;n==null||n.forEach(function(t){t.destroy()}),this.layoutMethods=[]},u.prototype.destroyLayout=function(){var n=this.graph;this.destoryLayoutMethods(),n.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},u.prototype.setDataFromGraph=function(){for(var n=[],t=[],e=[],r=[],i=[],l=[],d=[],v=this.graph.getNodes(),D=this.graph.getEdges(),R=this.graph.getCombos(),F=v.length,Z=0;Z<F;Z++){var J=v[Z];if(!(!J||J.destroyed)){var it=J.getModel();if(!J.isVisible()){t.push(it);continue}n.push(it)}}for(var dt=D.length,Z=0;Z<dt;Z++){var bt=D[Z];if(!(!bt||bt.destroyed)){var it=bt.getModel();if(!bt.isVisible()){r.push(it);continue}it.isComboEdge?i.push(it):e.push(it)}}for(var Dt=R.length,Z=0;Z<Dt;Z++){var At=R[Z];if(!At.destroyed){var it=At.getModel();if(!At.isVisible()){r.push(it);continue}l.push(it)}}return{nodes:n,hiddenNodes:t,edges:e,hiddenEdges:r,combos:l,hiddenCombos:d,comboEdges:i}},u.prototype.reLayoutMethod=function(n,t){var e=this;return new Promise(function(r,i){var l=e.graph,d=t==null?void 0:t.type;t.onLayoutEnd=function(){l.emit("aftersublayout",{type:d}),r()},n.init(e.data),d==="force"&&(n.ticking=!1,n.forceSimulation.stop()),l.emit("beforesublayout",{type:d}),n.execute(),n.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()})},u.prototype.relayout=function(n){var t=this,e=this,r=e.graph,i=e.layoutMethods,l=e.layoutCfg;if(n){this.data=this.setDataFromGraph();var d=this.data.nodes;if(!d)return!1;this.initPositions(l.center,d)}r.emit("beforelayout");var v=Promise.resolve();i==null||i.forEach(function(D,R){var F=l[R];v=v.then(function(){return t.reLayoutMethod(D,F)})}),v.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd()}).catch(function(D){console.warn("relayout failed",D)})},u.prototype.filterLayoutData=function(n,t){var e=n.nodes,r=n.edges,i=Object(he.__rest)(n,["nodes","edges"]);if(!e)return n;var l,d;if(Object(g.isFunction)(t==null?void 0:t.nodesFilter)?l=t.nodesFilter:l=function(){return!0},Object(g.isFunction)(t==null?void 0:t.edgesFilter))d=t.edgesFilter;else{var v=e.reduce(function(D,R){return D[R.id]=!0,D},{});d=function(R){return v[R.source]&&v[R.target]}}return Object(he.__assign)({nodes:e.filter(l),edges:r.filter(d)},i)},u.prototype.getLayoutBBox=function(n){var t=this.graph,e=Object(g.groupBy)(t.getNodes(),function(l){return l.getModel().layoutOrder}),r=Object.values(e).map(function(l){var d=gh(l);return d.size=[d.width,d.height],d}),i=Object.values(Object(g.groupBy)(n,"layoutOrder"));return{groupNodes:i,layoutNodes:r}},u.prototype.layoutAnimate=function(){},u.prototype.moveToZero=function(){var n=this.graph,t=n.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||Yl(e[0].x))){for(var r=[0,0],i=e.length,l=0;l<i;l++){var d=e[l];r[0]+=d.x,r[1]+=d.y}r[0]/=e.length,r[1]/=e.length;for(var l=0;l<i;l++){var d=e[l];d.x-=r[0],d.y-=r[1]}}},u.prototype.initPositions=function(n,t){var e=this.graph;if(!t)return!1;var r=t?t.length:0;if(!!r){var i=e.get("width")*.85,l=e.get("height")*.85,d=Math.ceil(Math.sqrt(r)*(i/l)),v=Math.ceil(r/d),D=i/(d-1),R=l/(v-1);(!isFinite(D)||!D)&&(D=0),(!isFinite(R)||!D)&&(R=0);for(var F=n[0]-i/2,Z=n[1]-l/2,J=!0,it=0;it<r;it++){var dt=t[it];Yl(dt.x)&&(J=!1,dt.x=it%d*D+F),Yl(dt.y)&&(J=!1,dt.y=Math.floor(it/d)*R+Z)}return J}},u.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},u}(),Xu=zc,kc=function(){function u(n){this.graph=n,this.destroyed=!1,this.initEvents()}return u}(),Vc=kc,jl;(function(u){u.CLICK="click",u.DBLCLICK="dblclick",u.MOUSEDOWN="mousedown",u.MOUDEUP="mouseup",u.CONTEXTMENU="contextmenu",u.MOUSEENTER="mouseenter",u.MOUSEOUT="mouseout",u.MOUSEOVER="mouseover",u.MOUSEMOVE="mousemove",u.MOUSELEAVE="mouseleave",u.DRAGSTART="dragstart",u.DRAGEND="dragend",u.DRAG="drag",u.DRAGENTER="dragenter",u.DRAGLEAVE="dragleave",u.DRAGOVER="dragover",u.DRAGOUT="dragout",u.DDROP="drop",u.KEYUP="keyup",u.KEYDOWN="keydown",u.WHEEL="wheel",u.FOCUS="focus",u.BLUR="blur",u.TOUCHSTART="touchstart",u.TOUCHMOVE="touchmove",u.TOUCHEND="touchend",u.CANVAS_TOUCHSTART="canvas:touchstart",u.CANVAS_TOUCHMOVE="canvas:touchmove",u.CANVAS_TOUCHEND="canvas:touchend",u.NODE_TOUCHSTART="node:touchstart",u.NODE_TOUCHMOVE="node:touchmove",u.NODE_TOUCHEND="node:touchend",u.COMBO_TOUCHSTART="combo:touchstart",u.COMBO_TOUCHMOVE="combo:touchmove",u.COMBO_TOUCHEND="combo:touchend",u.EDGE_TOUCHSTART="edge:touchstart",u.EDGE_TOUCHMOVE="edge:touchmove",u.EDGE_TOUCHEND="edge:touchend",u.NODE_CONTEXTMENU="node:contextmenu",u.NODE_CLICK="node:click",u.NODE_DBLCLICK="node:dblclick",u.NODE_MOUSEDOWN="node:mousedown",u.NODE_MOUSEUP="node:mouseup",u.NODE_MOUSEENTER="node:mouseenter",u.NODE_MOUSELEAVE="node:mouseleave",u.NODE_MOUSEMOVE="node:mousemove",u.NODE_MOUSEOUT="node:mouseout",u.NODE_MOUSEOVER="node:mouseover",u.NODE_DROP="node:drop",u.NODE_DRAGOVER="node:dragover",u.NODE_DRAGENTER="node:dragenter",u.NODE_DRAGLEAVE="node:dragleave",u.NODE_DRAGSTART="node:dragstart",u.NODE_DRAG="node:drag",u.NODE_DRAGEND="node:dragend",u.NODE_TAP="node:tap",u.NODE_PANSTART="node:panstart",u.NODE_PANMOVE="node:panmove",u.NODE_PANEND="node:panend",u.COMBO_CONTEXTMENU="combo:contextmenu",u.COMBO_CLICK="combo:click",u.COMBO_DBLCLICK="combo:dblclick",u.COMBO_MOUSEDOWN="combo:mousedown",u.COMBO_MOUSEUP="combo:mouseup",u.COMBO_MOUSEENTER="combo:mouseenter",u.COMBO_MOUSELEAVE="combo:mouseleave",u.COMBO_MOUSEMOVE="combo:mousemove",u.COMBO_MOUSEOUT="combo:mouseout",u.COMBO_MOUSEOVER="combo:mouseover",u.COMBO_DROP="combo:drop",u.COMBO_DRAGOVER="combo:dragover",u.COMBO_DRAGENTER="combo:dragenter",u.COMBO_DRAGLEAVE="combo:dragleave",u.COMBO_DRAGSTART="combo:dragstart",u.COMBO_DRAG="combo:drag",u.COMBO_DRAGEND="combo:dragend",u.COMBO_TAP="combo:tap",u.COMBO_PANSTART="combo:panstart",u.COMBO_PANMOVE="combo:panmove",u.COMBO_PANEND="combo:panend",u.EDGE_CONTEXTMENU="edge:contextmenu",u.EDGE_CLICK="edge:click",u.EDGE_DBLCLICK="edge:dblclick",u.EDGE_MOUSEDOWN="edge:mousedown",u.EDGE_MOUSEUP="edge:mouseup",u.EDGE_MOUSEENTER="edge:mouseenter",u.EDGE_MOUSELEAVE="edge:mouseleave",u.EDGE_MOUSEMOVE="edge:mousemove",u.EDGE_MOUSEOUT="edge:mouseout",u.EDGE_MOUSEOVER="edge:mouseover",u.EDGE_DROP="edge:drop",u.EDGE_DRAGOVER="edge:dragover",u.EDGE_DRAGENTER="edge:dragenter",u.EDGE_DRAGLEAVE="edge:dragleave",u.CANVAS_CONTEXTMENU="canvas:contextmenu",u.CANVAS_CLICK="canvas:click",u.CANVAS_DBLCLICK="canvas:dblclick",u.CANVAS_MOUSEDOWN="canvas:mousedown",u.CANVAS_MOUSEUP="canvas:mouseup",u.CANVAS_MOUSEENTER="canvas:mouseenter",u.CANVAS_MOUSELEAVE="canvas:mouseleave",u.CANVAS_MOUSEMOVE="canvas:mousemove",u.CANVAS_MOUSEOUT="canvas:mouseout",u.CANVAS_MOUSEOVER="canvas:mouseover",u.CANVAS_DROP="canvas:drop",u.CANVAS_DRAGENTER="canvas:dragenter",u.CANVAS_DRAGLEAVE="canvas:dragleave",u.CANVAS_DRAGSTART="canvas:dragstart",u.CANVAS_DRAG="canvas:drag",u.CANVAS_DRAGEND="canvas:dragend",u.CANVAS_TAP="canvas:tap",u.CANVAS_PANSTART="canvas:panstart",u.CANVAS_PANMOVE="canvas:panmove",u.CANVAS_PANEND="canvas:panend",u.BEFORERENDER="beforerender",u.AFTERRENDER="afterrender",u.BEFOREADDITEM="beforeadditem",u.AFTERADDITEM="afteradditem",u.BEFOREREMOVEITEM="beforeremoveitem",u.AFTERREMOVEITEM="afterremoveitem",u.BEFOREUPDATEITEM="beforeupdateitem",u.AFTERUPDATEITEM="afterupdateitem",u.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",u.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",u.BEFOREITEMSTATECHANGE="beforeitemstatechange",u.AFTERITEMSTATECHANGE="afteritemstatechange",u.BEFOREITEMREFRESH="beforeitemrefresh",u.AFTERITEMREFRESH="afteritemrefresh",u.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",u.AFTERITEMSTATESCLEAR="afteritemstatesclear",u.BEFOREMODECHANGE="beforemodechange",u.AFTERMODECHANGE="aftermodechange",u.BEFORELAYOUT="beforelayout",u.AFTERLAYOUT="afterlayout",u.BEFORECREATEEDGE="beforecreateedge",u.AFTERCREATEEDGE="aftercreateedge",u.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",u.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",u.BEFOREGRAPHREFRESH="beforegraphrefresh",u.AFTERGRAPHREFRESH="aftergraphrefresh",u.BEFOREANIMATE="beforeanimate",u.AFTERANIMATE="afteranimate",u.BEFOREPAINT="beforepaint",u.AFTERPAINT="afterpaint",u.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",u.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",u.GRAPHSTATECHANGE="graphstatechange",u.AFTERACTIVATERELATIONS="afteractivaterelations",u.NODESELECTCHANGE="nodeselectchange",u.TOOLTIPCHANGE="tooltipchange",u.WHEELZOOM="wheelzoom",u.VIEWPORTCHANGE="viewportchange",u.DRAGNODEEND="dragnodeend",u.STACKCHANGE="stackchange",u.TAP="tap",u.PINCHSTART="pinchstart",u.PINCHMOVE="pinchmove",u.PANSTART="panstart",u.PANMOVE="panmove",u.PANEND="panend"})(jl||(jl={}));var cs=cl.registerNode,iu=cl.registerEdge,Hf=cl.registerCombo,au=Ba.registerBehavior,Dn=kn,Yf={version:kn.version,AbstractGraph:tu,BaseGlobal:Dn,Util:Zo,Shape:cl,Node:wf,Edge:wu,Combo:Nf,Hull:_s,registerNode:cl.registerNode,registerEdge:cl.registerEdge,registerCombo:cl.registerCombo,registerBehavior:Ba.registerBehavior,Arrow:Lh,Marker:jh,AbstractLayout:Xu,AbstractEvent:Vc},ou=a("f1V2"),fs=a("ZVen"),Ns=a("l/Sb"),Rr=a("99LQ");function fl(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return Rr.a.fromTranslation(e,t),Rr.a.multiply(u,e,n)}function Kf(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return Rr.a.fromRotation(e,t),Rr.a.multiply(u,e,n)}function Zs(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return Rr.a.fromScaling(e,t),Rr.a.multiply(u,e,n)}function Rl(u,n,t){return Rr.a.multiply(u,t,n)}function wh(u,n){for(var t=u?[].concat(u):[1,0,0,0,1,0,0,0,1],e=0,r=n.length;e<r;e++){var i=n[e];switch(i[0]){case"t":fl(t,t,[i[1],i[2]]);break;case"s":Zs(t,t,[i[1],i[2]]);break;case"r":Kf(t,t,i[1]);break;case"m":Rl(t,t,i[1]);break;default:break}}return t}function Xc(u,n){return u[0]*n[1]-n[0]*u[1]}function Pd(u,n,t){var e=Rr.d.angle(u,n),r=Xc(u,n)>=0;return t?r?Math.PI*2-e:e:r?e:Math.PI*2-e}function Id(u,n,t){return t?(u[0]=n[1],u[1]=-1*n[0]):(u[0]=-1*n[1],u[1]=n[0]),u}var _f=a("qRoJ"),hs=a.n(_f),Bh=a("q4Li"),Hu=a.n(Bh),Yu=2,Nh=.16,Fh=.05,Ld=.05,xs=.15,Hc=5,hl=4,dl=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Zf(u,n,t){var e;return Math.round(u.h)>=60&&Math.round(u.h)<=240?e=t?Math.round(u.h)-Yu*n:Math.round(u.h)+Yu*n:e=t?Math.round(u.h)+Yu*n:Math.round(u.h)-Yu*n,e<0?e+=360:e>=360&&(e-=360),e}function su(u,n,t){if(u.h===0&&u.s===0)return u.s;var e;return t?e=u.s-Nh*n:n===hl?e=u.s+Nh:e=u.s+Fh*n,e>1&&(e=1),t&&n===Hc&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function Ku(u,n,t){var e;return t?e=u.v+Ld*n:e=u.v-xs*n,e>1&&(e=1),Number(e.toFixed(2))}function _u(u){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Hu()(u),r=Hc;r>0;r-=1){var i=e.toHsv(),l=Hu()({h:Zf(i,r,!0),s:su(i,r,!0),v:Ku(i,r,!0)}).toHexString();t.push(l)}t.push(e.toHexString());for(var d=1;d<=hl;d+=1){var v=e.toHsv(),D=Hu()({h:Zf(v,d),s:su(v,d),v:Ku(v,d)}).toHexString();t.push(D)}return n.theme==="dark"?dl.map(function(R){var F=R.index,Z=R.opacity,J=Hu.a.mix(n.backgroundColor||"#141414",t[F],Z*100).toHexString();return J}):t}var Ca={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Aa={},La={};Object.keys(Ca).forEach(function(u){Aa[u]=_u(Ca[u]),Aa[u].primary=Aa[u][5],La[u]=_u(Ca[u],{theme:"dark",backgroundColor:"#141414"}),La[u].primary=La[u][5]});var es=Aa.red,jd=Aa.volcano,mv=Aa.gold,bv=Aa.orange,Ov=Aa.yellow,xv=Aa.lime,Rd=Aa.green,Ev=Aa.cyan,Sv=Aa.blue,Mv=Aa.geekblue,Cv=Aa.purple,wd=Aa.magenta,Bd=Aa.grey,Na=function(n,t,e){var r=hs()(n),i=hs()(t);return hs()([(1-e)*r.red()+e*i.red(),(1-e)*r.green()+e*i.green(),(1-e)*r.blue()+e*i.blue()]).rgb()},Zu=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="rgb(150, 150, 150)");var r=Na(t,n,.05).rgb().toString(),i=Na(t,n,.1).rgb().toString(),l=Na(t,n,.2).rgb().toString(),d=Na(t,n,.4).rgb().toString(),v=Na(t,e,.02).rgb().toString(),D=Na(t,e,.05).rgb().toString(),R=Na(t,e,.1).rgb().toString(),F=Na(t,e,.2).rgb().toString(),Z=Na(t,e,.3).rgb().toString(),J=_u(n,{theme:"default",backgroundColor:t}),it=hs()(n).hex().toLowerCase(),dt=J.indexOf(it),bt=n;return dt!==-1&&(bt=J[dt+1]),{mainStroke:n,mainFill:i,activeStroke:n,activeFill:r,inactiveStroke:d,inactiveFill:r,selectedStroke:n,selectedFill:t,highlightStroke:bt,highlightFill:l,disableStroke:Z,disableFill:D,edgeMainStroke:Z,edgeActiveStroke:n,edgeInactiveStroke:F,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:R,comboMainStroke:Z,comboMainFill:v,comboActiveStroke:n,comboActiveFill:r,comboInactiveStroke:Z,comboInactiveFill:v,comboSelectedStroke:n,comboSelectedFill:v,comboHighlightStroke:bt,comboHighlightFill:v,comboDisableStroke:F,comboDisableFill:D}},Nd=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="#777");var r=Na(t,n,.2).rgb().toString(),i=Na(t,n,.3).rgb().toString(),l=Na(t,n,.6).rgb().toString(),d=Na(t,n,.8).rgb().toString(),v=Na(t,e,.2).rgb().toString(),D=Na(t,e,.25).rgb().toString(),R=Na(t,e,.3).rgb().toString(),F=Na(t,e,.4).rgb().toString(),Z=Na(t,e,.5).rgb().toString(),J=_u(n,{theme:"dark",backgroundColor:t}),it=hs()(n).hex().toLowerCase(),dt=J.indexOf(it),bt=n;return dt!==-1&&(bt=J[dt+1]),{mainStroke:d,mainFill:r,activeStroke:n,activeFill:i,inactiveStroke:d,inactiveFill:r,selectedStroke:n,selectedFill:r,highlightStroke:n,highlightFill:l,disableStroke:Z,disableFill:D,edgeMainStroke:e,edgeActiveStroke:n,edgeInactiveStroke:e,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:R,comboMainStroke:F,comboMainFill:D,comboActiveStroke:n,comboActiveFill:v,comboInactiveStroke:F,comboInactiveFill:D,comboSelectedStroke:n,comboSelectedFill:v,comboHighlightStroke:bt,comboHighlightFill:D,comboDisableStroke:F,comboDisableFill:v}},$f=function(n,t,e,r){return t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)"),e==="default"?Zu(n,t,"rgb(150, 150, 150)"):Nd(n,t,"#777")},Qf=function(n,t,e,r){t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)");var i=[];return n.forEach(function(l){i.push($f(l,t,e,r))}),i},Yc="rgb(95, 149, 255)",qt="rgb(255, 255, 255)",ie="rgb(0, 0, 0)",Ee=$f(Yc,qt),ar={version:"0.3.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Ee.mainStroke,fill:Ee.mainFill},size:20,color:Ee.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Ee.activeFill,stroke:Ee.activeStroke}},nodeStateStyles:{active:{fill:Ee.activeFill,stroke:Ee.activeStroke,lineWidth:2,shadowColor:Ee.mainStroke,shadowBlur:10},selected:{fill:Ee.selectedFill,stroke:Ee.selectedStroke,lineWidth:4,shadowColor:Ee.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Ee.highlightFill,stroke:Ee.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Ee.inactiveFill,stroke:Ee.inactiveStroke,lineWidth:1},disable:{fill:Ee.disableFill,stroke:Ee.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:ie,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Ee.edgeMainStroke,lineAppendWidth:2},color:Ee.edgeMainStroke},edgeStateStyles:{active:{stroke:Ee.edgeActiveStroke,lineWidth:1},selected:{stroke:Ee.edgeSelectedStroke,lineWidth:2,shadowColor:Ee.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ee.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Ee.edgeInactiveStroke,lineWidth:1},disable:{stroke:Ee.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:ie,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Ee.comboMainFill,lineWidth:1,stroke:Ee.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Ee.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Ee.comboActiveStroke,lineWidth:1,fill:Ee.comboActiveFill},selected:{stroke:Ee.comboSelectedStroke,lineWidth:2,fill:Ee.comboSelectedFill,shadowColor:Ee.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ee.comboHighlightStroke,lineWidth:2,fill:Ee.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Ee.comboInactiveStroke,fill:Ee.comboInactiveFill,lineWidth:1},disable:{stroke:Ee.comboDisableStroke,fill:Ee.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},_e=a("m8xh"),Mr=Zo.cloneEvent,ur=Zo.isViewportChanged,Jr=function(u){Object(he.__extends)(n,u);function n(t){var e=u.call(this,t)||this;return e.extendEvents=[],e.dragging=!1,e.preItem=null,e.graph=t,e.destroyed=!1,e.initEvents(),e}return n.prototype.initEvents=function(){var t=this,e=t.graph,r=t.extendEvents,i=r===void 0?[]:r,l=e.get("canvas"),d=l.get("el"),v=Object(g.wrapBehavior)(this,"onCanvasEvents"),D=Object(g.wrapBehavior)(this,"onExtendEvents"),R=Object(g.wrapBehavior)(this,"onWheelEvent");l.off("*").on("*",v),this.canvasHandler=v,i.push(Object(_e.a)(d,"DOMMouseScroll",R)),i.push(Object(_e.a)(d,"mousewheel",R)),typeof window!="undefined"&&(i.push(Object(_e.a)(window,"keydown",D)),i.push(Object(_e.a)(window,"keyup",D)),i.push(Object(_e.a)(window,"focus",D)))},n.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},n.prototype.onCanvasEvents=function(t){var e=this.graph,r=e.get("canvas"),i=t.target,l=t.type;t.canvasX=t.x,t.canvasY=t.y;var d={x:t.canvasX,y:t.canvasY},v=e.get("group"),D=v.getMatrix();if(D||(D=[1,0,0,0,1,0,0,0,1]),ur(D)&&(d=e.getPointByClient(t.clientX,t.clientY)),t.x=d.x,t.y=d.y,t.currentTarget=e,i===r){(l==="mousemove"||l==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=r,t.item=null,e.emit(l,t),e.emit("canvas:"+l,t);return}var R=n.getItemRoot(i);if(!R){e.emit(l,t);return}var F=R.get("item");if(!F.destroyed){var Z=F.getType();if(t.target=i,t.item=F,t.canvasX===t.x&&t.canvasY===t.y){var J=e.getCanvasByPoint(t.x,t.y);t.canvasX=J.x,t.canvasY=J.y}e.emit(l,t),t.name&&!t.name.includes(":")?e.emit(Z+":"+l,t):e.emit(t.name,t),l==="dragstart"&&(this.dragging=!0),l==="dragend"&&(this.dragging=!1),l==="mousemove"&&this.handleMouseMove(t,Z)}},n.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},n.prototype.onWheelEvent=function(t){Object(g.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},n.prototype.handleMouseMove=function(t,e){var r=this,i=r.graph,l=r.preItem,d=i.get("canvas"),v=t.target===d?null:t.item;t=Mr(t),l&&l!==v&&!l.destroyed&&(t.item=l,this.emitCustomEvent(l.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(l.getType(),"dragleave",t)),v&&l!==v&&(t.item=v,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=v},n.prototype.emitCustomEvent=function(t,e,r){r.type=e,this.graph.emit(t+":"+e,r)},n.prototype.destroy=function(){var t=this,e=t.graph,r=t.canvasHandler,i=t.extendEvents,l=e.get("canvas");l.off("*",r),Object(g.each)(i,function(d){d.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},n}(Vc),vn=Jr,wr=a("eOCE"),cn=a("g6dZ"),rn=a("RFMt"),gn=a("hZX5"),Zr=a("uW5x"),_r=function(){function u(){Object(wr.a)(this,u),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return Object(Zr.a)(u,[{key:"layout",value:function(t){return this.init(t),this.execute(!0)}},{key:"init",value:function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}},{key:"execute",value:function(t){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(t){t&&Object.assign(this,t)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}]),u}(),dr=function(n){return typeof n=="string"},vr=function(n){var t=Object.create(null);return function(e){var r=t[e];return r||(t[e]=n(e))}},ln=/-(\w)/g,Sn=vr(function(u){return u.replace(ln,function(n,t){return t?t.toUpperCase():""})}),yr=Array.isArray,Cr=function(n){return typeof n=="number"},on=function(n){return Number.isNaN(Number(n))},Qr=function(n){var t=parseFloat(n);return on(t)?n:t},Hr=function(n,t,e){for(var r=[],i=0;i<n;i++)r[i]=0;return e&&e.forEach(function(l){l.source&&(r[t[l.source]]+=1),l.target&&(r[t[l.target]]+=1)}),r},dn=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var i=0;i<e;i+=1)r===i?t[r][i]=0:n[r][i]===0||!n[r][i]?t[r][i]=Infinity:t[r][i]=n[r][i]}for(var l=0;l<e;l+=1)for(var d=0;d<e;d+=1)for(var v=0;v<e;v+=1)t[d][v]>t[d][l]+t[l][v]&&(t[d][v]=t[d][l]+t[l][v]);return t},zn=function(n,t){var e=n.nodes,r=n.edges,i=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(d,v){l[d.id]=v;var D=[];i.push(D)}),r&&r.forEach(function(d){var v=d.source,D=d.target,R=l[v],F=l[D];i[R][F]=1,t||(i[F][R]=1)}),i},ui=function(n,t){var e=[];return n.forEach(function(r){var i=[];r.forEach(function(l){i.push(l*t)}),e.push(i)}),e},On=function u(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return}return!!t(n)},fn=function(n,t){typeof t=="function"&&On(n,t)},Vr=function(n){return n!==null&&typeof n=="object"},ei=function u(n){if(n===null)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof Array){var t=[];return n.forEach(function(r){t.push(r)}),t.map(function(r){return u(r)})}if(typeof n=="object"&&n!=={}){var e=Object.assign({},n);return Object.keys(e).forEach(function(r){e[r]=u(e[r])}),e}return n},oi=function(n){return typeof n=="function"},Mn=new Map,Kn=function(n,t){if(Mn.get(n)&&console.warn("The layout with the name ".concat(n," exists already, it will be overridden")),Vr(t)){var e=function(r){Object(rn.a)(l,r);var i=Object(gn.a)(l);function l(d){var v;Object(wr.a)(this,l),v=i.call(this);var D=Object(cn.a)(v),R={},F=D.getDefaultCfg();return Object.assign(R,F,t,d),Object.keys(R).forEach(function(Z){var J=R[Z];D[Z]=J}),v}return l}(_r);Mn.set(n,e)}else Mn.set(n,t)},pi=function(n){Mn.has(n)&&Mn.delete(n)},Oi=function(n){return Mn.has(n)?Mn.get(n):null},wi=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.begin=[0,0],r.preventOverlap=!0,r.preventOverlapPadding=10,r.condense=!1,r.sortBy="degree",r.nodeSize=30,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.row=0,r.col=0,r.cellWidth=0,r.cellHeight=0,r.cellUsed={},r.id2manPos={},r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=i.length,d=r.begin;if(l===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(l===1){i[0].x=d[0],i[0].y=d[1],r.onLayoutEnd&&r.onLayoutEnd();return}var v=r.edges,D=[];i.forEach(function($t){D.push($t)});var R={};if(D.forEach(function($t,ee){R[$t.id]=ee}),(r.sortBy==="degree"||!dr(r.sortBy)||D[0][r.sortBy]===void 0)&&(r.sortBy="degree",on(i[0].degree))){var F=Hr(D.length,R,v);D.forEach(function($t,ee){$t.degree=F[ee]})}D.sort(function($t,ee){return ee[r.sortBy]-$t[r.sortBy]}),!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var Z=r.rows,J=r.cols!=null?r.cols:r.columns;if(r.cells=l,Z!=null&&J!=null?(r.rows=Z,r.cols=J):Z!=null&&J==null?(r.rows=Z,r.cols=Math.ceil(r.cells/r.rows)):Z==null&&J!=null?(r.cols=J,r.rows=Math.ceil(r.cells/r.cols)):(r.splits=Math.sqrt(r.cells*r.height/r.width),r.rows=Math.round(r.splits),r.cols=Math.round(r.width/r.height*r.splits)),r.cols*r.rows>r.cells){var it=r.small(),dt=r.large();(it-1)*dt>=r.cells?r.small(it-1):(dt-1)*it>=r.cells&&r.large(dt-1)}else for(;r.cols*r.rows<r.cells;){var bt=r.small(),Dt=r.large();(Dt+1)*bt>=r.cells?r.large(Dt+1):r.small(bt+1)}r.cellWidth=r.width/r.cols,r.cellHeight=r.height/r.rows,r.condense&&(r.cellWidth=0,r.cellHeight=0),r.preventOverlap&&D.forEach(function($t){(!$t.x||!$t.y)&&($t.x=0,$t.y=0);var ee,re;yr($t.size)?(ee=$t.size[0],re=$t.size[1]):Cr($t.size)&&(ee=$t.size,re=$t.size),(ee===void 0||re===void 0)&&(yr(r.nodeSize)?(ee=r.nodeSize[0],re=r.nodeSize[1]):Cr(r.nodeSize)?(ee=r.nodeSize,re=r.nodeSize):(ee=30,re=30));var fe=r.preventOverlapPadding,ce=ee+fe,Ae=re+fe;r.cellWidth=Math.max(r.cellWidth,ce),r.cellHeight=Math.max(r.cellHeight,Ae)}),r.cellUsed={},r.row=0,r.col=0,r.id2manPos={};for(var At=0;At<D.length;At++){var wt=D[At],zt=void 0;if(r.position&&(zt=r.position(wt)),zt&&(zt.row!==void 0||zt.col!==void 0)){var Kt={row:zt.row,col:zt.col};if(Kt.col===void 0)for(Kt.col=0;r.used(Kt.row,Kt.col);)Kt.col++;else if(Kt.row===void 0)for(Kt.row=0;r.used(Kt.row,Kt.col);)Kt.row++;r.id2manPos[wt.id]=Kt,r.use(Kt.row,Kt.col)}r.getPos(wt)}return r.onLayoutEnd&&r.onLayoutEnd(),{edges:v,nodes:D}}},{key:"small",value:function(r){var i=this,l,d=i.rows||5,v=i.cols||5;if(r==null)l=Math.min(d,v);else{var D=Math.min(d,v);D===i.rows?i.rows=r:i.cols=r}return l}},{key:"large",value:function(r){var i=this,l,d=i.rows||5,v=i.cols||5;if(r==null)l=Math.max(d,v);else{var D=Math.max(d,v);D===i.rows?i.rows=r:i.cols=r}return l}},{key:"used",value:function(r,i){var l=this;return l.cellUsed["c-".concat(r,"-").concat(i)]||!1}},{key:"use",value:function(r,i){var l=this;l.cellUsed["c-".concat(r,"-").concat(i)]=!0}},{key:"moveToNextCell",value:function(){var r=this,i=r.cols||5;r.col++,r.col>=i&&(r.col=0,r.row++)}},{key:"getPos",value:function(r){var i=this,l=i.begin,d=i.cellWidth,v=i.cellHeight,D,R,F=i.id2manPos[r.id];if(F)D=F.col*d+d/2+l[0],R=F.row*v+v/2+l[1];else{for(;i.used(i.row,i.col);)i.moveToNextCell();D=i.col*d+d/2+l[0],R=i.row*v+v/2+l[1],i.use(i.row,i.col),i.moveToNextCell()}r.x=D,r.y=R}},{key:"getType",value:function(){return"grid"}}]),t}(_r),ka=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=.9,d=r.center;return!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),i&&i.forEach(function(v){v.x=(Math.random()-.5)*l*r.width+d[0],v.y=(Math.random()-.5)*l*r.height+d[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:i,edges:this.edges}}},{key:"getType",value:function(){return"random"}}]),t}(_r),ja=function(n,t){var e;return n?Cr(n)?e=function(i){return n}:e=n:e=function(i){return t||1},e},Mi=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=.5,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.preventOverlap=!0,r.tick=function(){},r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var r=this,i=r.nodes;if(r.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(r.timeInterval),!i||i.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var l=r.center;if(i.length===1){i[0].x=l[0],i[0].y=l[1],r.onLayoutEnd&&r.onLayoutEnd();return}var d={},v={};i.forEach(function(it,dt){Cr(it.x)||(it.x=Math.random()*r.width),Cr(it.y)||(it.y=Math.random()*r.height),d[it.id]=it,v[it.id]=dt}),r.nodeMap=d,r.nodeIdxMap=v,r.linkDistance=ja(r.linkDistance,1),r.nodeStrength=ja(r.nodeStrength,1),r.edgeStrength=ja(r.edgeStrength,1);var D=r.nodeSize,R;if(r.preventOverlap){var F=r.nodeSpacing,Z;Cr(F)?Z=function(){return F}:oi(F)?Z=F:Z=function(){return 0},D?yr(D)?R=function(dt){var bt=D[0]>D[1]?D[0]:D[1];return bt+Z(dt)}:R=function(dt){return D+Z(dt)}:R=function(dt){if(dt.size){if(yr(dt.size)){var bt=dt.size[0]>dt.size[1]?dt.size[0]:dt.size[1];return bt+Z(dt)}return dt.size+Z(dt)}return 10+Z(dt)}}r.nodeSize=R;var J=r.edges;r.degrees=Hr(i.length,r.nodeIdxMap,J),r.getMass||(r.getMass=function(it){var dt=r.degrees[r.nodeIdxMap[it.id]]||1;return dt}),r.run()}},{key:"run",value:function(){var r=this,i=r.nodes,l=r.edges,d=r.maxIteration;if(typeof window!="undefined"){var v=0;this.timeInterval=window.setInterval(function(){var D=[],R=[];if(!!i){i.forEach(function(it,dt){D[2*dt]=0,D[2*dt+1]=0,R[2*dt]=0,R[2*dt+1]=0}),r.calRepulsive(D,i),l&&r.calAttractive(D,l),r.calGravity(D,i);var F=Math.max(.02,r.interval-v*.002);r.updateVelocity(D,R,F,i);var Z=[];i.forEach(function(it){Z.push({x:it.x,y:it.y})}),r.updatePosition(R,F,i),r.tick&&r.tick();var J=0;i.forEach(function(it,dt){var bt=it.x-Z[dt].x,Dt=it.y-Z[dt].y;J+=Math.sqrt(bt*bt+Dt*Dt)}),J/=i.length,J<r.minMovement&&(window.clearInterval(r.timeInterval),r.onLayoutEnd&&r.onLayoutEnd()),v++,v>=d&&(r.onLayoutEnd&&r.onLayoutEnd(),window.clearInterval(r.timeInterval))}},0)}}},{key:"calRepulsive",value:function(r,i){var l=this,d=l.getMass,v=l.nodeStrength,D=l.factor,R=l.coulombDisScale,F=l.preventOverlap,Z=l.nodeSize;i.forEach(function(J,it){var dt=d?d(J):1;i.forEach(function(bt,Dt){if(!(it>=Dt)){var At=J.x-bt.x,wt=J.y-bt.y,zt=Math.sqrt(At*At+wt*wt)+.01,Kt=(zt+.1)*R,$t=At/zt,ee=wt/zt,re=(v(J)+v(bt))/2*D/(Kt*Kt),fe=d?d(bt):1;if(r[2*it]+=$t*re,r[2*it+1]+=ee*re,r[2*Dt]-=$t*re,r[2*Dt+1]-=ee*re,F&&zt<(Z(J)+Z(bt))/2){var ce=(v(J)+v(bt))/2/(zt*zt);r[2*it]+=$t*ce/dt,r[2*it+1]+=ee*ce/dt,r[2*Dt]-=$t*ce/fe,r[2*Dt+1]-=ee*ce/fe}}})})}},{key:"calAttractive",value:function(r,i){var l=this,d=l.nodeMap,v=l.nodeIdxMap,D=l.linkDistance,R=l.edgeStrength,F=l.getMass;i.forEach(function(Z,J){var it=d[Z.source],dt=d[Z.target],bt=dt.x-it.x,Dt=dt.y-it.y,At=Math.sqrt(bt*bt+Dt*Dt)+.01,wt=bt/At,zt=Dt/At,Kt=D(Z)||1,$t=Kt-At,ee=$t*R(Z),re=v[Z.source],fe=v[Z.target],ce=F?F(it):1,Ae=F?F(dt):1;r[2*re]-=wt*ee/ce,r[2*re+1]-=zt*ee/ce,r[2*fe]+=wt*ee/Ae,r[2*fe+1]+=zt*ee/Ae})}},{key:"calGravity",value:function(r,i){for(var l=this,d=l.center,v=l.gravity,D=l.degrees,R=i.length,F=0;F<R;F++){var Z=i[F],J=Z.x-d[0],it=Z.y-d[1],dt=v;if(l.getCenter){var bt=l.getCenter(Z,D[F]);bt&&Cr(bt[0])&&Cr(bt[1])&&Cr(bt[2])&&(J=Z.x-bt[0],it=Z.y-bt[1],dt=bt[2])}!dt||(r[2*F]-=dt*J,r[2*F+1]-=dt*it)}}},{key:"updateVelocity",value:function(r,i,l,d){var v=this,D=l*v.damping;d.forEach(function(R,F){var Z=r[2*F]*D||.01,J=r[2*F+1]*D||.01,it=Math.sqrt(Z*Z+J*J);if(it>v.maxSpeed){var dt=v.maxSpeed/it;Z=dt*Z,J=dt*J}i[2*F]=Z,i[2*F+1]=J})}},{key:"updatePosition",value:function(r,i,l){l.forEach(function(d,v){if(Cr(d.fx)&&Cr(d.fy)){d.x=d.fx,d.y=d.fy;return}var D=r[2*v]*i,R=r[2*v+1]*i;d.x+=D,d.y+=R})}},{key:"stop",value:function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}]),t}(_r),_a=function(u){var n=+this._x.call(null,u),t=+this._y.call(null,u);return ua(this.cover(n,t),n,t,u)};function ua(u,n,t,e){if(isNaN(n)||isNaN(t))return u;var r,i=u._root,l={data:e},d=u._x0,v=u._y0,D=u._x1,R=u._y1,F,Z,J,it,dt,bt,Dt,At;if(!i)return u._root=l,u;for(;i.length;)if((dt=n>=(F=(d+D)/2))?d=F:D=F,(bt=t>=(Z=(v+R)/2))?v=Z:R=Z,r=i,!(i=i[Dt=bt<<1|dt]))return r[Dt]=l,u;if(J=+u._x.call(null,i.data),it=+u._y.call(null,i.data),n===J&&t===it)return l.next=i,r?r[Dt]=l:u._root=l,u;do r=r?r[Dt]=new Array(4):u._root=new Array(4),(dt=n>=(F=(d+D)/2))?d=F:D=F,(bt=t>=(Z=(v+R)/2))?v=Z:R=Z;while((Dt=bt<<1|dt)==(At=(it>=Z)<<1|J>=F));return r[At]=i,r[Dt]=l,u}function Va(u){var n,t,e=u.length,r,i,l=new Array(e),d=new Array(e),v=Infinity,D=Infinity,R=-Infinity,F=-Infinity;for(t=0;t<e;++t)isNaN(r=+this._x.call(null,n=u[t]))||isNaN(i=+this._y.call(null,n))||(l[t]=r,d[t]=i,r<v&&(v=r),r>R&&(R=r),i<D&&(D=i),i>F&&(F=i));if(v>R||D>F)return this;for(this.cover(v,D).cover(R,F),t=0;t<e;++t)ua(this,l[t],d[t],u[t]);return this}var Za=function(u,n){if(isNaN(u=+u)||isNaN(n=+n))return this;var t=this._x0,e=this._y0,r=this._x1,i=this._y1;if(isNaN(t))r=(t=Math.floor(u))+1,i=(e=Math.floor(n))+1;else{for(var l=r-t||1,d=this._root,v,D;t>u||u>=r||e>n||n>=i;)switch(D=(n<e)<<1|u<t,v=new Array(4),v[D]=d,d=v,l*=2,D){case 0:r=t+l,i=e+l;break;case 1:t=r-l,i=e+l;break;case 2:r=t+l,e=i-l;break;case 3:t=r-l,e=i-l;break}this._root&&this._root.length&&(this._root=d)}return this._x0=t,this._y0=e,this._x1=r,this._y1=i,this},Fa=function(){var u=[];return this.visit(function(n){if(!n.length)do u.push(n.data);while(n=n.next)}),u},so=function(u){return arguments.length?this.cover(+u[0][0],+u[0][1]).cover(+u[1][0],+u[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ki=function(u,n,t,e,r){this.node=u,this.x0=n,this.y0=t,this.x1=e,this.y1=r},Ga=function(u,n,t){var e,r=this._x0,i=this._y0,l,d,v,D,R=this._x1,F=this._y1,Z=[],J=this._root,it,dt;for(J&&Z.push(new Ki(J,r,i,R,F)),t==null?t=Infinity:(r=u-t,i=n-t,R=u+t,F=n+t,t*=t);it=Z.pop();)if(!(!(J=it.node)||(l=it.x0)>R||(d=it.y0)>F||(v=it.x1)<r||(D=it.y1)<i))if(J.length){var bt=(l+v)/2,Dt=(d+D)/2;Z.push(new Ki(J[3],bt,Dt,v,D),new Ki(J[2],l,Dt,bt,D),new Ki(J[1],bt,d,v,Dt),new Ki(J[0],l,d,bt,Dt)),(dt=(n>=Dt)<<1|u>=bt)&&(it=Z[Z.length-1],Z[Z.length-1]=Z[Z.length-1-dt],Z[Z.length-1-dt]=it)}else{var At=u-+this._x.call(null,J.data),wt=n-+this._y.call(null,J.data),zt=At*At+wt*wt;if(zt<t){var Kt=Math.sqrt(t=zt);r=u-Kt,i=n-Kt,R=u+Kt,F=n+Kt,e=J.data}}return e},mi=function(u){if(isNaN(R=+this._x.call(null,u))||isNaN(F=+this._y.call(null,u)))return this;var n,t=this._root,e,r,i,l=this._x0,d=this._y0,v=this._x1,D=this._y1,R,F,Z,J,it,dt,bt,Dt;if(!t)return this;if(t.length)for(;;){if((it=R>=(Z=(l+v)/2))?l=Z:v=Z,(dt=F>=(J=(d+D)/2))?d=J:D=J,n=t,!(t=t[bt=dt<<1|it]))return this;if(!t.length)break;(n[bt+1&3]||n[bt+2&3]||n[bt+3&3])&&(e=n,Dt=bt)}for(;t.data!==u;)if(r=t,!(t=t.next))return this;return(i=t.next)&&delete t.next,r?(i?r.next=i:delete r.next,this):n?(i?n[bt]=i:delete n[bt],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(e?e[Dt]=t:this._root=t),this):(this._root=i,this)};function go(u){for(var n=0,t=u.length;n<t;++n)this.remove(u[n]);return this}var Gi=function(){return this._root},Hn=function(){var u=0;return this.visit(function(n){if(!n.length)do++u;while(n=n.next)}),u},ci=function(u){var n=[],t,e=this._root,r,i,l,d,v;for(e&&n.push(new Ki(e,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!u(e=t.node,i=t.x0,l=t.y0,d=t.x1,v=t.y1)&&e.length){var D=(i+d)/2,R=(l+v)/2;(r=e[3])&&n.push(new Ki(r,D,R,d,v)),(r=e[2])&&n.push(new Ki(r,i,R,D,v)),(r=e[1])&&n.push(new Ki(r,D,l,d,R)),(r=e[0])&&n.push(new Ki(r,i,l,D,R))}return this},Ti=function(u){var n=[],t=[],e;for(this._root&&n.push(new Ki(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var i,l=e.x0,d=e.y0,v=e.x1,D=e.y1,R=(l+v)/2,F=(d+D)/2;(i=r[0])&&n.push(new Ki(i,l,d,R,F)),(i=r[1])&&n.push(new Ki(i,R,d,v,F)),(i=r[2])&&n.push(new Ki(i,l,F,R,D)),(i=r[3])&&n.push(new Ki(i,R,F,v,D))}t.push(e)}for(;e=t.pop();)u(e.node,e.x0,e.y0,e.x1,e.y1);return this};function ro(u){return u[0]}var $a=function(u){return arguments.length?(this._x=u,this):this._x};function Bo(u){return u[1]}var De=function(u){return arguments.length?(this._y=u,this):this._y};function pr(u,n,t){var e=new sr(n==null?ro:n,t==null?Bo:t,NaN,NaN,NaN,NaN);return u==null?e:e.addAll(u)}function sr(u,n,t,e,r,i){this._x=u,this._y=n,this._x0=t,this._y0=e,this._x1=r,this._y1=i,this._root=void 0}function Cn(u){for(var n={data:u.data},t=n;u=u.next;)t=t.next={data:u.data};return n}var Yn=pr.prototype=sr.prototype;Yn.copy=function(){var u=new sr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,e;if(!n)return u;if(!n.length)return u._root=Cn(n),u;for(t=[{source:n,target:u._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(e=n.source[r])&&(e.length?t.push({source:e,target:n.target[r]=new Array(4)}):n.target[r]=Cn(e));return u},Yn.add=_a,Yn.addAll=Va,Yn.cover=Za,Yn.data=Fa,Yn.extent=so,Yn.find=Ga,Yn.remove=mi,Yn.removeAll=go,Yn.root=Gi,Yn.size=Hn,Yn.visit=ci,Yn.visitAfter=Ti,Yn.x=$a,Yn.y=De;var be=function(u){return function(){return u}},ue=function(u){return(u()-.5)*1e-6},Be={value:function(){}};function Je(){for(var u=0,n=arguments.length,t={},e;u<n;++u){if(!(e=arguments[u]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new qe(t)}function qe(u){this._=u}function Ge(u,n){return u.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}qe.prototype=Je.prototype={constructor:qe,on:function(n,t){var e=this._,r=Ge(n+"",e),i,l=-1,d=r.length;if(arguments.length<2){for(;++l<d;)if((i=(n=r[l]).type)&&(i=Ne(e[i],n.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<d;)if(i=(n=r[l]).type)e[i]=Ve(e[i],n.name,t);else if(t==null)for(i in e)e[i]=Ve(e[i],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new qe(n)},call:function(n,t){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,l;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(l=this._[n],r=0,i=l.length;r<i;++r)l[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,l=r.length;i<l;++i)r[i].value.apply(t,e)}};function Ne(u,n){for(var t=0,e=u.length,r;t<e;++t)if((r=u[t]).name===n)return r.value}function Ve(u,n,t){for(var e=0,r=u.length;e<r;++e)if(u[e].name===n){u[e]=Be,u=u.slice(0,e).concat(u.slice(e+1));break}return t!=null&&u.push({name:n,value:t}),u}var Se=Je,Re=0,me=0,Ye=0,er=1e3,Lr,Br,Er=0,an=0,Wn=0,ni=typeof performance=="object"&&performance.now?performance:Date,An=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(u){setTimeout(u,17)};function _n(){return an||(An(fi),an=ni.now()+Wn)}function fi(){an=0}function Ii(){this._call=this._time=this._next=null}Ii.prototype=Ta.prototype={constructor:Ii,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?_n():+e)+(t==null?0:+t),!this._next&&Br!==this&&(Br?Br._next=this:Lr=this,Br=this),this._call=n,this._time=e,rs()},stop:function(){this._call&&(this._call=null,this._time=Infinity,rs())}};function Ta(u,n,t){var e=new Ii;return e.restart(u,n,t),e}function No(){_n(),++Re;for(var u=Lr,n;u;)(n=an-u._time)>=0&&u._call.call(null,n),u=u._next;--Re}function Kc(){an=(Er=ni.now())+Wn,Re=me=0;try{No()}finally{Re=0,$u(),an=0}}function xo(){var u=ni.now(),n=u-Er;n>er&&(Wn-=n,Er=u)}function $u(){for(var u,n=Lr,t,e=Infinity;n;)n._call?(e>n._time&&(e=n._time),u=n,n=n._next):(t=n._next,n._next=null,n=u?u._next=t:Lr=t);Br=u,rs(e)}function rs(u){if(!Re){me&&(me=clearTimeout(me));var n=u-an;n>24?(u<Infinity&&(me=setTimeout(Kc,u-ni.now()-Wn)),Ye&&(Ye=clearInterval(Ye))):(Ye||(Er=ni.now(),Ye=setInterval(xo,er)),Re=1,An(Kc))}}var Gh=1664525,Eg=1013904223,Uh=4294967296,Sg=function(){var u=1;return function(){return(u=(Gh*u+Eg)%Uh)/Uh}};function Mg(u){return u.x}function Cg(u){return u.y}var Av=10,Tv=Math.PI*(3-Math.sqrt(5)),Dv=function(u){var n,t=1,e=.001,r=1-Math.pow(e,1/300),i=0,l=.6,d=new Map,v=Ta(F),D=Se("tick","end"),R=Sg();u==null&&(u=[]);function F(){Z(),D.call("tick",n),t<e&&(v.stop(),D.call("end",n))}function Z(dt){var bt,Dt=u.length,At;dt===void 0&&(dt=1);for(var wt=0;wt<dt;++wt)for(t+=(i-t)*r,d.forEach(function(zt){zt(t)}),bt=0;bt<Dt;++bt)At=u[bt],At.fx==null?At.x+=At.vx*=l:(At.x=At.fx,At.vx=0),At.fy==null?At.y+=At.vy*=l:(At.y=At.fy,At.vy=0);return n}function J(){for(var dt=0,bt=u.length,Dt;dt<bt;++dt){if(Dt=u[dt],Dt.index=dt,Dt.fx!=null&&(Dt.x=Dt.fx),Dt.fy!=null&&(Dt.y=Dt.fy),isNaN(Dt.x)||isNaN(Dt.y)){var At=Av*Math.sqrt(.5+dt),wt=dt*Tv;Dt.x=At*Math.cos(wt),Dt.y=At*Math.sin(wt)}(isNaN(Dt.vx)||isNaN(Dt.vy))&&(Dt.vx=Dt.vy=0)}}function it(dt){return dt.initialize&&dt.initialize(u,R),dt}return J(),n={tick:Z,restart:function(){return v.restart(F),n},stop:function(){return v.stop(),n},nodes:function(bt){return arguments.length?(u=bt,J(),d.forEach(it),n):u},alpha:function(bt){return arguments.length?(t=+bt,n):t},alphaMin:function(bt){return arguments.length?(e=+bt,n):e},alphaDecay:function(bt){return arguments.length?(r=+bt,n):+r},alphaTarget:function(bt){return arguments.length?(i=+bt,n):i},velocityDecay:function(bt){return arguments.length?(l=1-bt,n):1-l},randomSource:function(bt){return arguments.length?(R=bt,d.forEach(it),n):R},force:function(bt,Dt){return arguments.length>1?(Dt==null?d.delete(bt):d.set(bt,it(Dt)),n):d.get(bt)},find:function(bt,Dt,At){var wt=0,zt=u.length,Kt,$t,ee,re,fe;for(At==null?At=Infinity:At*=At,wt=0;wt<zt;++wt)re=u[wt],Kt=bt-re.x,$t=Dt-re.y,ee=Kt*Kt+$t*$t,ee<At&&(fe=re,At=ee);return fe},on:function(bt,Dt){return arguments.length>1?(D.on(bt,Dt),n):D.on(bt)}}},Fd=function(){var u,n,t,e,r=be(-30),i,l=1,d=Infinity,v=.81;function D(J){var it,dt=u.length,bt=pr(u,Mg,Cg).visitAfter(F);for(e=J,it=0;it<dt;++it)n=u[it],bt.visit(Z)}function R(){if(!!u){var J,it=u.length,dt;for(i=new Array(it),J=0;J<it;++J)dt=u[J],i[dt.index]=+r(dt,J,u)}}function F(J){var it=0,dt,bt,Dt=0,At,wt,zt;if(J.length){for(At=wt=zt=0;zt<4;++zt)(dt=J[zt])&&(bt=Math.abs(dt.value))&&(it+=dt.value,Dt+=bt,At+=bt*dt.x,wt+=bt*dt.y);J.x=At/Dt,J.y=wt/Dt}else{dt=J,dt.x=dt.data.x,dt.y=dt.data.y;do it+=i[dt.data.index];while(dt=dt.next)}J.value=it}function Z(J,it,dt,bt){if(!J.value)return!0;var Dt=J.x-n.x,At=J.y-n.y,wt=bt-it,zt=Dt*Dt+At*At;if(wt*wt/v<zt)return zt<d&&(Dt===0&&(Dt=ue(t),zt+=Dt*Dt),At===0&&(At=ue(t),zt+=At*At),zt<l&&(zt=Math.sqrt(l*zt)),n.vx+=Dt*J.value*e/zt,n.vy+=At*J.value*e/zt),!0;if(J.length||zt>=d)return;(J.data!==n||J.next)&&(Dt===0&&(Dt=ue(t),zt+=Dt*Dt),At===0&&(At=ue(t),zt+=At*At),zt<l&&(zt=Math.sqrt(l*zt)));do J.data!==n&&(wt=i[J.data.index]*e/zt,n.vx+=Dt*wt,n.vy+=At*wt);while(J=J.next)}return D.initialize=function(J,it){u=J,t=it,R()},D.strength=function(J){return arguments.length?(r=typeof J=="function"?J:be(+J),R(),D):r},D.distanceMin=function(J){return arguments.length?(l=J*J,D):Math.sqrt(l)},D.distanceMax=function(J){return arguments.length?(d=J*J,D):Math.sqrt(d)},D.theta=function(J){return arguments.length?(v=J*J,D):Math.sqrt(v)},D},Ag=function(u,n){var t,e=1;u==null&&(u=0),n==null&&(n=0);function r(){var i,l=t.length,d,v=0,D=0;for(i=0;i<l;++i)d=t[i],v+=d.x,D+=d.y;for(v=(v/l-u)*e,D=(D/l-n)*e,i=0;i<l;++i)d=t[i],d.x-=v,d.y-=D}return r.initialize=function(i){t=i},r.x=function(i){return arguments.length?(u=+i,r):u},r.y=function(i){return arguments.length?(n=+i,r):n},r.strength=function(i){return arguments.length?(e=+i,r):e},r};function Pv(u){return u.index}function Iv(u,n){var t=u.get(n);if(!t)throw new Error("node not found: "+n);return t}var Gd=function(u){var n=Pv,t=F,e,r=be(30),i,l,d,v,D,R=1;u==null&&(u=[]);function F(bt){return 1/Math.min(d[bt.source.index],d[bt.target.index])}function Z(bt){for(var Dt=0,At=u.length;Dt<R;++Dt)for(var wt=0,zt,Kt,$t,ee,re,fe,ce;wt<At;++wt)zt=u[wt],Kt=zt.source,$t=zt.target,ee=$t.x+$t.vx-Kt.x-Kt.vx||ue(D),re=$t.y+$t.vy-Kt.y-Kt.vy||ue(D),fe=Math.sqrt(ee*ee+re*re),fe=(fe-i[wt])/fe*bt*e[wt],ee*=fe,re*=fe,$t.vx-=ee*(ce=v[wt]),$t.vy-=re*ce,Kt.vx+=ee*(ce=1-ce),Kt.vy+=re*ce}function J(){if(!!l){var bt,Dt=l.length,At=u.length,wt=new Map(l.map(function(Kt,$t){return[n(Kt,$t,l),Kt]})),zt;for(bt=0,d=new Array(Dt);bt<At;++bt)zt=u[bt],zt.index=bt,typeof zt.source!="object"&&(zt.source=Iv(wt,zt.source)),typeof zt.target!="object"&&(zt.target=Iv(wt,zt.target)),d[zt.source.index]=(d[zt.source.index]||0)+1,d[zt.target.index]=(d[zt.target.index]||0)+1;for(bt=0,v=new Array(At);bt<At;++bt)zt=u[bt],v[bt]=d[zt.source.index]/(d[zt.source.index]+d[zt.target.index]);e=new Array(At),it(),i=new Array(At),dt()}}function it(){if(!!l)for(var bt=0,Dt=u.length;bt<Dt;++bt)e[bt]=+t(u[bt],bt,u)}function dt(){if(!!l)for(var bt=0,Dt=u.length;bt<Dt;++bt)i[bt]=+r(u[bt],bt,u)}return Z.initialize=function(bt,Dt){l=bt,D=Dt,J()},Z.links=function(bt){return arguments.length?(u=bt,J(),Z):u},Z.id=function(bt){return arguments.length?(n=bt,Z):n},Z.iterations=function(bt){return arguments.length?(R=+bt,Z):R},Z.strength=function(bt){return arguments.length?(t=typeof bt=="function"?bt:be(+bt),it(),Z):t},Z.distance=function(bt){return arguments.length?(r=typeof bt=="function"?bt:be(+bt),dt(),Z):r},Z};function Tg(u){return u.x+u.vx}function Dg(u){return u.y+u.vy}var Lv=function(u){var n,t,e,r=1,i=1;typeof u!="function"&&(u=be(u==null?1:+u));function l(){for(var D,R=n.length,F,Z,J,it,dt,bt,Dt=0;Dt<i;++Dt)for(F=pr(n,Tg,Dg).visitAfter(d),D=0;D<R;++D)Z=n[D],dt=t[Z.index],bt=dt*dt,J=Z.x+Z.vx,it=Z.y+Z.vy,F.visit(At);function At(wt,zt,Kt,$t,ee){var re=wt.data,fe=wt.r,ce=dt+fe;if(re){if(re.index>Z.index){var Ae=J-re.x-re.vx,Te=it-re.y-re.vy,cr=Ae*Ae+Te*Te;cr<ce*ce&&(Ae===0&&(Ae=ue(e),cr+=Ae*Ae),Te===0&&(Te=ue(e),cr+=Te*Te),cr=(ce-(cr=Math.sqrt(cr)))/cr*r,Z.vx+=(Ae*=cr)*(ce=(fe*=fe)/(bt+fe)),Z.vy+=(Te*=cr)*ce,re.vx-=Ae*(ce=1-ce),re.vy-=Te*ce)}return}return zt>J+ce||$t<J-ce||Kt>it+ce||ee<it-ce}}function d(D){if(D.data)return D.r=t[D.data.index];for(var R=D.r=0;R<4;++R)D[R]&&D[R].r>D.r&&(D.r=D[R].r)}function v(){if(!!n){var D,R=n.length,F;for(t=new Array(R),D=0;D<R;++D)F=n[D],t[F.index]=+u(F,D,n)}}return l.initialize=function(D,R){n=D,e=R,v()},l.iterations=function(D){return arguments.length?(i=+D,l):i},l.strength=function(D){return arguments.length?(r=+D,l):r},l.radius=function(D){return arguments.length?(u=typeof D=="function"?D:be(+D),v(),l):u},l},Pg=a("B6Nv"),jv=function(u){var n=be(.1),t,e,r;typeof u!="function"&&(u=be(u==null?0:+u));function i(d){for(var v=0,D=t.length,R;v<D;++v)R=t[v],R.vx+=(r[v]-R.x)*e[v]*d}function l(){if(!!t){var d,v=t.length;for(e=new Array(v),r=new Array(v),d=0;d<v;++d)e[d]=isNaN(r[d]=+u(t[d],d,t))?0:+n(t[d],d,t)}}return i.initialize=function(d){t=d,l()},i.strength=function(d){return arguments.length?(n=typeof d=="function"?d:be(+d),l(),i):n},i.x=function(d){return arguments.length?(u=typeof d=="function"?d:be(+d),l(),i):u},i},Ig=function(u){var n=be(.1),t,e,r;typeof u!="function"&&(u=be(u==null?0:+u));function i(d){for(var v=0,D=t.length,R;v<D;++v)R=t[v],R.vy+=(r[v]-R.y)*e[v]*d}function l(){if(!!t){var d,v=t.length;for(e=new Array(v),r=new Array(v),d=0;d<v;++d)e[d]=isNaN(r[d]=+u(t[d],d,t))?0:+n(t[d],d,t)}}return i.initialize=function(d){t=d,l()},i.strength=function(d){return arguments.length?(n=typeof d=="function"?d:be(+d),l(),i):n},i.y=function(d){return arguments.length?(u=typeof d=="function"?d:be(+d),l(),i):u},i};function Wh(){function u(Ar){return function(){return Ar}}var n=function(Dr){return Dr.cluster},t=u(1),e=u(-1),r=u(100),i=u(.1),l=[0,0],d=[],v={},D=[],R=100,F=100,Z={none:{x:0,y:0}},J=[],it,dt="force",bt=!0,Dt=.1;function At(Ar){if(!bt)return At;it.tick(),re();for(var Dr=0,Tn=d.length,Rn,wn=Ar*Dt;Dr<Tn;++Dr)Rn=d[Dr],Rn.vx+=(Z[n(Rn)].x-Rn.x)*wn,Rn.vy+=(Z[n(Rn)].y-Rn.y)*wn}function wt(){!d||zt()}function zt(){if(!(!d||!d.length)){if(n(d[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Ar=Kt();it=Dv(Ar.nodes).force("x",jv(R).strength(.1)).force("y",Ig(F).strength(.1)).force("collide",Lv(function(Dr){return Dr.r}).iterations(4)).force("charge",Fd().strength(e)).force("links",Gd(Ar.nodes.length?Ar.links:[]).distance(r).strength(i)),J=it.nodes(),re()}}function Kt(){var Ar=[],Dr=[],Tn={},Rn=[],wn={},Un=[];return wn=$t(d),Un=ee(D),Rn=Object.keys(wn),Rn.forEach(function(yi,da){var vi=wn[yi];Ar.push({id:yi,size:vi.count,r:Math.sqrt(vi.sumforceNodeSize/Math.PI)}),Tn[yi]=da}),Un.forEach(function(yi){var da=Tn[yi.source],vi=Tn[yi.target];da!==void 0&&vi!==void 0&&Dr.push({source:da,target:vi,count:yi.count})}),{nodes:Ar,links:Dr}}function $t(Ar){var Dr={};return Ar.forEach(function(Tn){var Rn=n(Tn);Dr[Rn]||(Dr[Rn]={count:0,sumforceNodeSize:0})}),Ar.forEach(function(Tn){var Rn=n(Tn),wn=t(Tn),Un=Dr[Rn];Un.count=Un.count+1,Un.sumforceNodeSize=Un.sumforceNodeSize+Math.PI*(wn*wn)*1.3,Dr[Rn]=Un}),Dr}function ee(Ar){var Dr={},Tn=[];Ar.forEach(function(wn){var Un=fe(wn),yi=0;Dr[Un]!==void 0&&(yi=Dr[Un]),yi+=1,Dr[Un]=yi});var Rn=Object.entries(Dr);return Rn.forEach(function(wn){var Un=Object(Pg.a)(wn,2),yi=Un[0],da=Un[1],vi=yi.split("~")[0],Pa=yi.split("~")[1];vi!==void 0&&Pa!==void 0&&Tn.push({source:vi,target:Pa,count:da})}),Tn}function re(){return Z={none:{x:0,y:0}},J.forEach(function(Ar){Z[Ar.id]={x:Ar.x-l[0],y:Ar.y-l[1]}}),Z}function fe(Ar){var Dr=n(v[Ar.source]),Tn=n(v[Ar.target]);return Dr<=Tn?"".concat(Dr,"~").concat(Tn):"".concat(Tn,"~").concat(Dr)}function ce(Ar){v={},Ar.forEach(function(Dr){v[Dr.id]=Dr})}function Ae(Ar){return arguments.length?(dt=Ar,wt(),At):dt}function Te(Ar){return arguments.length?typeof Ar=="string"?(n=function(Tn){return Tn[Ar]},At):(n=Ar,At):n}function cr(Ar){return arguments.length?(bt=Ar,At):bt}function fr(Ar){return arguments.length?(Dt=Ar,At):Dt}function gr(Ar){return arguments.length?(R=Ar,At):R}function qr(Ar){return arguments.length?(F=Ar,At):F}function kr(Ar){return arguments.length?(ce(Ar||[]),d=Ar||[],At):d}function Nr(Ar){return arguments.length?(D=Ar||[],wt(),At):D}function Fr(Ar){return arguments.length?(typeof Ar=="function"?t=Ar:t=u(+Ar),wt(),At):t}function Ir(Ar){return arguments.length?(typeof Ar=="function"?e=Ar:e=u(+Ar),wt(),At):e}function Sr(Ar){return arguments.length?(typeof Ar=="function"?r=Ar:r=u(+Ar),wt(),At):r}function Xr(Ar){return arguments.length?(typeof Ar=="function"?i=Ar:i=u(+Ar),wt(),At):i}function en(Ar){return arguments.length?(l=Ar,At):l}return At.initialize=function(Ar){d=Ar,wt()},At.template=Ae,At.groupBy=Te,At.enableGrouping=cr,At.strength=fr,At.centerX=gr,At.centerY=qr,At.nodes=kr,At.links=Nr,At.forceNodeSize=Fr,At.nodeSize=At.forceNodeSize,At.forceCharge=Ir,At.forceLinkDistance=Sr,At.forceLinkStrength=Xr,At.offset=en,At.getFocis=re,At}var Ud={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},Wd=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.center=[0,0],r.nodeStrength=null,r.edgeStrength=null,r.preventOverlap=!1,r.clusterNodeStrength=null,r.clusterEdgeStrength=null,r.clusterEdgeDistance=null,r.clusterNodeSize=null,r.clusterFociStrength=null,r.linkDistance=50,r.alphaDecay=.028,r.alphaMin=.001,r.alpha=.3,r.collideStrength=1,r.workerEnabled=!1,r.tick=function(){},r.onLayoutEnd=function(){},r.ticking=void 0,e&&r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(r){var i=this;i.nodes=r.nodes||[];var l=r.edges||[];i.edges=l.map(function(d){var v={},D=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(d).forEach(function(R){D.indexOf(R)>-1||(v[R]=d[R])}),v}),i.ticking=!1}},{key:"execute",value:function(r){var i=this,l=i.nodes,d=i.edges;if(!i.ticking){var v=i.forceSimulation,D=i.alphaMin,R=i.alphaDecay,F=i.alpha;if(v){if(r){if(i.clustering&&i.clusterForce&&(i.clusterForce.nodes(l),i.clusterForce.links(d)),v.nodes(l),d&&i.edgeForce)i.edgeForce.links(d);else if(d&&!i.edgeForce){var Dt=Gd().id(function(At){return At.id}).links(d);i.edgeStrength&&Dt.strength(i.edgeStrength),i.linkDistance&&Dt.distance(i.linkDistance),i.edgeForce=Dt,v.force("link",Dt)}}i.preventOverlap&&i.overlapProcess(v),v.alpha(F).restart(),this.ticking=!0}else try{var Z=Fd();if(i.nodeStrength&&Z.strength(i.nodeStrength),v=Dv().nodes(l),i.clustering){var J=Wh();J.centerX(i.center[0]).centerY(i.center[1]).template("force").strength(i.clusterFociStrength),d&&J.links(d),l&&J.nodes(l),J.forceLinkDistance(i.clusterEdgeDistance).forceLinkStrength(i.clusterEdgeStrength).forceCharge(i.clusterNodeStrength).forceNodeSize(i.clusterNodeSize),i.clusterForce=J,v.force("group",J)}if(v.force("center",Ag(i.center[0],i.center[1])).force("charge",Z).alpha(F).alphaDecay(R).alphaMin(D),i.preventOverlap&&i.overlapProcess(v),d){var it=Gd().id(function(At){return At.id}).links(d);i.edgeStrength&&it.strength(i.edgeStrength),i.linkDistance&&it.distance(i.linkDistance),i.edgeForce=it,v.force("link",it)}if(i.workerEnabled&&!jg()&&(i.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!i.workerEnabled)v.on("tick",function(){i.tick()}).on("end",function(){i.ticking=!1,i.onLayoutEnd&&i.onLayoutEnd()}),i.ticking=!0;else{v.stop();for(var dt=Lg(v),bt=1;bt<=dt;bt++)v.tick(),postMessage({nodes:l,currentTick:bt,totalTicks:dt,type:Ud.TICK},void 0);i.ticking=!1}i.forceSimulation=v,i.ticking=!0}catch(At){i.ticking=!1,console.warn(At)}}}},{key:"overlapProcess",value:function(r){var i=this,l=i.nodeSize,d=i.nodeSpacing,v,D,R=i.collideStrength;if(Cr(d)?D=function(){return d}:oi(d)?D=d:D=function(){return 0},!l)v=function(dt){if(dt.size){if(yr(dt.size)){var bt=dt.size[0]>dt.size[1]?dt.size[0]:dt.size[1];return bt/2+D(dt)}return dt.size/2+D(dt)}return 10+D(dt)};else if(oi(l))v=function(dt){var bt=l(dt);return bt+D(dt)};else if(yr(l)){var F=l[0]>l[1]?l[0]:l[1],Z=F/2;v=function(dt){return Z+D(dt)}}else if(Cr(l)){var J=l/2;v=function(dt){return J+D(dt)}}else v=function(){return 10};r.force("collisionForce",Lv(v).strength(R))}},{key:"updateCfg",value:function(r){var i=this;i.ticking&&(i.forceSimulation.stop(),i.ticking=!1),i.forceSimulation=null,Object.assign(i,r)}},{key:"destroy",value:function(){var r=this;r.ticking&&(r.forceSimulation.stop(),r.ticking=!1),r.nodes=null,r.edges=null,r.destroyed=!0}}]),t}(_r);function Lg(u){var n=u.alphaMin(),t=u.alphaTarget(),e=u.alpha(),r=Math.log((n-t)/(e-t))/Math.log(1-u.alphaDecay()),i=Math.ceil(r);return i}function jg(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function Rg(u,n,t,e){u.forEach(function(r,i){u[i].children=[],u[i].parent=[]}),e?n.forEach(function(r){var i=0;r.source&&(i=t[r.source]);var l=0;r.target&&(l=t[r.target]);var d=u[i].children,v=u[l].parent;d.push(u[l].id),v.push(u[i].id)}):n.forEach(function(r){var i=0;r.source&&(i=t[r.source]);var l=0;r.target&&(l=t[r.target]);var d=u[i].children,v=u[l].children;d.push(u[l].id),v.push(u[i].id)})}function Rv(u,n,t){for(var e=t.length,r=0;r<e;r++)if(u.id===t[r].source&&n.id===t[r].target||n.id===t[r].source&&u.id===t[r].target)return!0;return!1}function wg(u,n){var t=u.degree,e=n.degree;return t<e?-1:t>e?1:0}var Bg=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.radius=null,r.startRadius=null,r.endRadius=null,r.startAngle=0,r.endAngle=2*Math.PI,r.clockwise=!0,r.divisions=1,r.ordering=null,r.angleRatio=1,r.nodes=[],r.edges=[],r.nodeMap={},r.degrees=[],r.width=300,r.height=300,r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=r.edges,d=i.length;if(d===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var v=r.center;if(d===1){i[0].x=v[0],i[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var D=r.radius,R=r.startRadius,F=r.endRadius,Z=r.divisions,J=r.startAngle,it=r.endAngle,dt=(it-J)/d,bt={};i.forEach(function(Ae,Te){bt[Ae.id]=Te}),r.nodeMap=bt;var Dt=Hr(i.length,bt,l);r.degrees=Dt,!D&&!R&&!F?D=r.height>r.width?r.width/2:r.height/2:!R&&F?R=F:R&&!F&&(F=R);var At=r.angleRatio,wt=dt*At,zt=r.ordering,Kt=[];zt==="topology"?Kt=r.topologyOrdering():zt==="topology-directed"?Kt=r.topologyOrdering(!0):zt==="degree"?Kt=r.degreeOrdering():Kt=i;for(var $t=r.clockwise,ee=Math.ceil(d/Z),re=0;re<d;++re){var fe=D;!fe&&R!==null&&F!==null&&(fe=R+re*(F-R)/(d-1)),fe||(fe=10+re*100/(d-1));var ce=J+re%ee*wt+2*Math.PI/Z*Math.floor(re/ee);$t||(ce=it-re%ee*wt-2*Math.PI/Z*Math.floor(re/ee)),Kt[re].x=v[0]+Math.cos(ce)*fe,Kt[re].y=v[1]+Math.sin(ce)*fe,Kt[re].weight=Dt[re]}return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:Kt,edges:this.edges}}},{key:"topologyOrdering",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this,l=i.degrees,d=i.edges,v=i.nodes,D=ei(v),R=i.nodeMap,F=[D[0]],Z=[v[0]],J=[],it=v.length;J[0]=!0,Rg(D,d,R,r);var dt=0;return D.forEach(function(bt,Dt){if(Dt!==0)if((Dt===it-1||l[Dt]!==l[Dt+1]||Rv(F[dt],bt,d))&&!J[Dt])F.push(bt),Z.push(v[R[bt.id]]),J[Dt]=!0,dt++;else{for(var At=F[dt].children,wt=!1,zt=0;zt<At.length;zt++){var Kt=R[At[zt]];if(l[Kt]===l[Dt]&&!J[Kt]){F.push(D[Kt]),Z.push(v[R[D[Kt].id]]),J[Kt]=!0,wt=!0;break}}for(var $t=0;!wt&&(J[$t]||(F.push(D[$t]),Z.push(v[R[D[$t].id]]),J[$t]=!0,wt=!0),$t++,$t!==it););}}),Z}},{key:"degreeOrdering",value:function(){var r=this,i=r.nodes,l=[],d=r.degrees;return i.forEach(function(v,D){v.degree=d[D],l.push(v)}),l.sort(wg),l}},{key:"getType",value:function(){return"circular"}}]),t}(_r),Ng=a("+WlW"),wv=a.n(Ng),Fg=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.rankdir="TB",r.nodesep=50,r.ranksep=50,r.controlPoints=!1,r.sortByCombo=!1,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var r=this,i=this,l=i.nodes,d=i.nodeSize,v=i.rankdir,D=i.combos;if(!!l){var R=i.edges||[],F=new wv.a.graphlib.Graph({multigraph:!0,compound:!0}),Z;d?yr(d)?Z=function(){return d}:Z=function(){return[d,d]}:Z=function(At){return At.size?yr(At.size)?At.size:[At.size,At.size]:[40,40]};var J=zh(i.nodesepFunc,i.nodesep,50),it=zh(i.ranksepFunc,i.ranksep,50);(v==="LR"||v==="RL")&&(J=zh(i.ranksepFunc,i.ranksep,50),it=zh(i.nodesepFunc,i.nodesep,50)),F.setDefaultEdgeLabel(function(){return{}}),F.setGraph(i);var dt={};l.forEach(function(Dt){var At=Z(Dt),wt=it(Dt),zt=J(Dt),Kt=At[0]+2*zt,$t=At[1]+2*wt;F.setNode(Dt.id,{width:Kt,height:$t}),r.sortByCombo&&Dt.comboId&&(dt[Dt.comboId]||(dt[Dt.comboId]=!0,F.setNode(Dt.comboId,{})),F.setParent(Dt.id,Dt.comboId))}),this.sortByCombo&&D&&D.forEach(function(Dt){!Dt.parentId||(dt[Dt.parentId]||(dt[Dt.parentId]=!0,F.setNode(Dt.parentId,{})),F.setParent(Dt.id,Dt.parentId))}),R.forEach(function(Dt){F.setEdge(Dt.source,Dt.target,{weight:Dt.weight||1})}),wv.a.layout(F);var bt;return F.nodes().forEach(function(Dt){bt=F.node(Dt);var At=l.findIndex(function(wt){return wt.id===Dt});!l[At]||(l[At].x=bt.x,l[At].y=bt.y)}),F.edges().forEach(function(Dt){bt=F.edge(Dt);var At=R.findIndex(function(wt){return wt.source===Dt.v&&wt.target===Dt.w});i.controlPoints&&R[At].type!=="loop"&&(R[At].controlPoints=bt.points.slice(1,bt.points.length-1))}),i.onLayoutEnd&&i.onLayoutEnd(),{nodes:l,edges:R}}}},{key:"getType",value:function(){return"dagre"}}]),t}(_r);function zh(u,n,t){var e;return u?e=u:Cr(n)?e=function(){return n}:e=function(){return t},e}var Gg=a("GQtF"),Ug=a("sAMl"),Wg=Object.prototype.toString;function kh(u){return Wg.call(u).endsWith("Array]")}function Bv(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!kh(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,i=r===void 0?u.length:r;if(e<0||e>=u.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=e||i>u.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=u[e],d=e+1;d<i;d++)u[d]>l&&(l=u[d]);return l}var Nv=Bv;function zg(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!kh(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,i=r===void 0?u.length:r;if(e<0||e>=u.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=e||i>u.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=u[e],d=e+1;d<i;d++)u[d]<l&&(l=u[d]);return l}var Fv=zg;function kg(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(kh(u)){if(u.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(n.output!==void 0){if(!kh(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(u.length);var e=Fv(u),r=Nv(u);if(e===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=n.min,l=i===void 0?n.autoMinMax?e:0:i,d=n.max,v=d===void 0?n.autoMinMax?r:1:d;if(l>=v)throw new RangeError("min option must be smaller than max option");for(var D=(v-l)/(r-e),R=0;R<u.length;R++)t[R]=(u[R]-e)*D+l;return t}var Gv=kg,Vh=" ".repeat(2),Uv=" ".repeat(4);function lu(){return zd(this)}function zd(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.maxRows,e=t===void 0?15:t,r=n.maxColumns,i=r===void 0?10:r,l=n.maxNumSize,d=l===void 0?8:l;return"".concat(u.constructor.name,` {
`).concat(Vh,`[
`).concat(Uv).concat(p(u,e,i,d),`
`).concat(Vh,`]
`).concat(Vh,"rows: ").concat(u.rows,`
`).concat(Vh,"columns: ").concat(u.columns,`
}`)}function p(u,n,t,e){for(var r=u.rows,i=u.columns,l=Math.min(r,n),d=Math.min(i,t),v=[],D=0;D<l;D++){for(var R=[],F=0;F<d;F++)R.push(h(u.get(D,F),e));v.push("".concat(R.join(" ")))}return d!==i&&(v[v.length-1]+=" ... ".concat(i-t," more columns")),l!==r&&v.push("... ".concat(r-n," more rows")),v.join(`
`.concat(Uv))}function h(u,n){var t=String(u);if(t.length<=n)return t.padEnd(n," ");var e=u.toPrecision(n-2);if(e.length<=n)return e;var r=u.toExponential(n-2),i=r.indexOf("e"),l=r.slice(i);return r.slice(0,n-l.length)+l}function s(u,n){u.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},u.prototype.addS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)+e);return this},u.prototype.addM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)+e.get(r,i));return this},u.add=function(e,r){var i=new n(e);return i.add(r)},u.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},u.prototype.subS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)-e);return this},u.prototype.subM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)-e.get(r,i));return this},u.sub=function(e,r){var i=new n(e);return i.sub(r)},u.prototype.subtract=u.prototype.sub,u.prototype.subtractS=u.prototype.subS,u.prototype.subtractM=u.prototype.subM,u.subtract=u.sub,u.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},u.prototype.mulS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)*e);return this},u.prototype.mulM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)*e.get(r,i));return this},u.mul=function(e,r){var i=new n(e);return i.mul(r)},u.prototype.multiply=u.prototype.mul,u.prototype.multiplyS=u.prototype.mulS,u.prototype.multiplyM=u.prototype.mulM,u.multiply=u.mul,u.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},u.prototype.divS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)/e);return this},u.prototype.divM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)/e.get(r,i));return this},u.div=function(e,r){var i=new n(e);return i.div(r)},u.prototype.divide=u.prototype.div,u.prototype.divideS=u.prototype.divS,u.prototype.divideM=u.prototype.divM,u.divide=u.div,u.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},u.prototype.modS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)%e);return this},u.prototype.modM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)%e.get(r,i));return this},u.mod=function(e,r){var i=new n(e);return i.mod(r)},u.prototype.modulus=u.prototype.mod,u.prototype.modulusS=u.prototype.modS,u.prototype.modulusM=u.prototype.modM,u.modulus=u.mod,u.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},u.prototype.andS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)&e);return this},u.prototype.andM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)&e.get(r,i));return this},u.and=function(e,r){var i=new n(e);return i.and(r)},u.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},u.prototype.orS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)|e);return this},u.prototype.orM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)|e.get(r,i));return this},u.or=function(e,r){var i=new n(e);return i.or(r)},u.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},u.prototype.xorS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)^e);return this},u.prototype.xorM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)^e.get(r,i));return this},u.xor=function(e,r){var i=new n(e);return i.xor(r)},u.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},u.prototype.leftShiftS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)<<e);return this},u.prototype.leftShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)<<e.get(r,i));return this},u.leftShift=function(e,r){var i=new n(e);return i.leftShift(r)},u.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},u.prototype.signPropagatingRightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)>>e);return this},u.prototype.signPropagatingRightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)>>e.get(r,i));return this},u.signPropagatingRightShift=function(e,r){var i=new n(e);return i.signPropagatingRightShift(r)},u.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},u.prototype.rightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)>>>e);return this},u.prototype.rightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,this.get(r,i)>>>e.get(r,i));return this},u.rightShift=function(e,r){var i=new n(e);return i.rightShift(r)},u.prototype.zeroFillRightShift=u.prototype.rightShift,u.prototype.zeroFillRightShiftS=u.prototype.rightShiftS,u.prototype.zeroFillRightShiftM=u.prototype.rightShiftM,u.zeroFillRightShift=u.rightShift,u.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,~this.get(e,r));return this},u.not=function(e){var r=new n(e);return r.not()},u.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.abs(this.get(e,r)));return this},u.abs=function(e){var r=new n(e);return r.abs()},u.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acos(this.get(e,r)));return this},u.acos=function(e){var r=new n(e);return r.acos()},u.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acosh(this.get(e,r)));return this},u.acosh=function(e){var r=new n(e);return r.acosh()},u.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asin(this.get(e,r)));return this},u.asin=function(e){var r=new n(e);return r.asin()},u.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asinh(this.get(e,r)));return this},u.asinh=function(e){var r=new n(e);return r.asinh()},u.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atan(this.get(e,r)));return this},u.atan=function(e){var r=new n(e);return r.atan()},u.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atanh(this.get(e,r)));return this},u.atanh=function(e){var r=new n(e);return r.atanh()},u.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cbrt(this.get(e,r)));return this},u.cbrt=function(e){var r=new n(e);return r.cbrt()},u.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.ceil(this.get(e,r)));return this},u.ceil=function(e){var r=new n(e);return r.ceil()},u.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.clz32(this.get(e,r)));return this},u.clz32=function(e){var r=new n(e);return r.clz32()},u.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cos(this.get(e,r)));return this},u.cos=function(e){var r=new n(e);return r.cos()},u.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cosh(this.get(e,r)));return this},u.cosh=function(e){var r=new n(e);return r.cosh()},u.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.exp(this.get(e,r)));return this},u.exp=function(e){var r=new n(e);return r.exp()},u.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.expm1(this.get(e,r)));return this},u.expm1=function(e){var r=new n(e);return r.expm1()},u.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.floor(this.get(e,r)));return this},u.floor=function(e){var r=new n(e);return r.floor()},u.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.fround(this.get(e,r)));return this},u.fround=function(e){var r=new n(e);return r.fround()},u.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log(this.get(e,r)));return this},u.log=function(e){var r=new n(e);return r.log()},u.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log1p(this.get(e,r)));return this},u.log1p=function(e){var r=new n(e);return r.log1p()},u.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log10(this.get(e,r)));return this},u.log10=function(e){var r=new n(e);return r.log10()},u.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log2(this.get(e,r)));return this},u.log2=function(e){var r=new n(e);return r.log2()},u.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.round(this.get(e,r)));return this},u.round=function(e){var r=new n(e);return r.round()},u.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sign(this.get(e,r)));return this},u.sign=function(e){var r=new n(e);return r.sign()},u.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sin(this.get(e,r)));return this},u.sin=function(e){var r=new n(e);return r.sin()},u.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sinh(this.get(e,r)));return this},u.sinh=function(e){var r=new n(e);return r.sinh()},u.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sqrt(this.get(e,r)));return this},u.sqrt=function(e){var r=new n(e);return r.sqrt()},u.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tan(this.get(e,r)));return this},u.tan=function(e){var r=new n(e);return r.tan()},u.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tanh(this.get(e,r)));return this},u.tanh=function(e){var r=new n(e);return r.tanh()},u.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.trunc(this.get(e,r)));return this},u.trunc=function(e){var r=new n(e);return r.trunc()},u.pow=function(e,r){var i=new n(e);return i.pow(r)},u.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},u.prototype.powS=function(e){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,Math.pow(this.get(r,i),e));return this},u.prototype.powM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.set(r,i,Math.pow(this.get(r,i),e.get(r,i)));return this}}function c(u,n,t){var e=t?u.rows:u.rows-1;if(n<0||n>e)throw new RangeError("Row index out of range")}function M(u,n,t){var e=t?u.columns:u.columns-1;if(n<0||n>e)throw new RangeError("Column index out of range")}function w(u,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==u.columns)throw new RangeError("vector size must be the same as the number of columns");return n}function $(u,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==u.rows)throw new RangeError("vector size must be the same as the number of rows");return n}function ht(u,n,t){return{row:St(u,n),column:kt(u,t)}}function St(u,n){if(typeof n!="object")throw new TypeError("unexpected type for row indices");var t=n.some(function(e){return e<0||e>=u.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function kt(u,n){if(typeof n!="object")throw new TypeError("unexpected type for column indices");var t=n.some(function(e){return e<0||e>=u.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function _t(u,n,t,e,r){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(te("startRow",n),te("endRow",t),te("startColumn",e),te("endColumn",r),n>t||e>r||n<0||n>=u.rows||t<0||t>=u.rows||e<0||e>=u.columns||r<0||r>=u.columns)throw new RangeError("Submatrix indices are out of range")}function Zt(u){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<u;e++)t.push(n);return t}function te(u,n){if(typeof n!="number")throw new TypeError("".concat(u," must be a number"))}function ne(u){if(u.isEmpty())throw new Error("Empty matrix has no elements to index")}function ve(u){for(var n=Zt(u.rows),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[t]+=u.get(t,e);return n}function Oe(u){for(var n=Zt(u.columns),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[e]+=u.get(t,e);return n}function Ke(u){for(var n=0,t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)n+=u.get(t,e);return n}function tr(u){for(var n=Zt(u.rows,1),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[t]*=u.get(t,e);return n}function mr(u){for(var n=Zt(u.columns,1),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[e]*=u.get(t,e);return n}function Or(u){for(var n=1,t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)n*=u.get(t,e);return n}function yn(u,n,t){for(var e=u.rows,r=u.columns,i=[],l=0;l<e;l++){for(var d=0,v=0,D=0,R=0;R<r;R++)D=u.get(l,R)-t[l],d+=D,v+=D*D;n?i.push((v-d*d/r)/(r-1)):i.push((v-d*d/r)/r)}return i}function sn(u,n,t){for(var e=u.rows,r=u.columns,i=[],l=0;l<r;l++){for(var d=0,v=0,D=0,R=0;R<e;R++)D=u.get(R,l)-t[l],d+=D,v+=D*D;n?i.push((v-d*d/e)/(e-1)):i.push((v-d*d/e)/e)}return i}function mn(u,n,t){for(var e=u.rows,r=u.columns,i=e*r,l=0,d=0,v=0,D=0;D<e;D++)for(var R=0;R<r;R++)v=u.get(D,R)-t,l+=v,d+=v*v;return n?(d-l*l/i)/(i-1):(d-l*l/i)/i}function di(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n[t])}function Zn(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n[e])}function $n(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n)}function Di(u){for(var n=[],t=0;t<u.rows;t++){for(var e=0,r=0;r<u.columns;r++)e+=Math.pow(u.get(t,r),2)/(u.columns-1);n.push(Math.sqrt(e))}return n}function ra(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n[t])}function _i(u){for(var n=[],t=0;t<u.columns;t++){for(var e=0,r=0;r<u.rows;r++)e+=Math.pow(u.get(r,t),2)/(u.rows-1);n.push(Math.sqrt(e))}return n}function Qa(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n[e])}function Fo(u){for(var n=u.size-1,t=0,e=0;e<u.columns;e++)for(var r=0;r<u.rows;r++)t+=Math.pow(u.get(r,e),2)/n;return Math.sqrt(t)}function Do(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n)}var ki=function(){function u(){Object(wr.a)(this,u)}return Object(Zr.a)(u,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.call(this,e,r);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,r=-1,i=!0,l=!1;t<this.rows&&i;){for(e=0,l=!1;e<this.columns&&l===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(l=!0,r=e):(i=!1,l=!0);t++}return i}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,r=-1,i=!0,l=!1;t<this.rows&&i;){for(e=0,l=!1;e<this.columns&&l===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(l=!0,r=e):(i=!1,l=!0);for(var d=e+1;d<this.rows;d++)this.get(t,d)!==0&&(i=!1);t++}return i}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,r=0;e<t.rows&&r<t.columns;){for(var i=e,l=e;l<t.rows;l++)t.get(l,r)>t.get(i,r)&&(i=l);if(t.get(i,r)===0)r++;else{t.swapRows(e,i);for(var d=t.get(e,r),v=r;v<t.columns;v++)t.set(e,v,t.get(e,v)/d);for(var D=e+1;D<t.rows;D++){var R=t.get(D,r)/t.get(e,r);t.set(D,r,0);for(var F=r+1;F<t.columns;F++)t.set(D,F,t.get(D,F)-t.get(e,F)*R)}e++,r++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,i=r-1;i>=0;)if(t.maxRow(i)===0)i--;else{for(var l=0,d=!1;l<r&&d===!1;)t.get(i,l)===1?d=!0:l++;for(var v=0;v<i;v++)for(var D=t.get(v,l),R=l;R<e;R++){var F=t.get(v,R)-D*t.get(i,R);t.set(v,R,F)}i--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,r=e===void 0?1:e,i=t.columns,l=i===void 0?1:i;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(l)||l<=0)throw new TypeError("columns must be a positive integer");for(var d=new si(this.rows*r,this.columns*l),v=0;v<r;v++)for(var D=0;D<l;D++)d.setSubMatrix(this,this.rows*v,this.columns*D);return d}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){c(this,t);for(var e=[],r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"getRowVector",value:function(t){return si.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){c(this,t),e=w(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}},{key:"swapRows",value:function(t,e){c(this,t),c(this,e);for(var r=0;r<this.columns;r++){var i=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,i)}return this}},{key:"getColumn",value:function(t){M(this,t);for(var e=[],r=0;r<this.rows;r++)e.push(this.get(r,t));return e}},{key:"getColumnVector",value:function(t){return si.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){M(this,t),e=$(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}},{key:"swapColumns",value:function(t,e){M(this,t),M(this,e);for(var r=0;r<this.rows;r++){var i=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,i)}return this}},{key:"addRowVector",value:function(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{key:"subRowVector",value:function(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{key:"mulRowVector",value:function(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}},{key:"divRowVector",value:function(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}},{key:"addColumnVector",value:function(t){t=$(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=$(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=$(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=$(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}},{key:"mulRow",value:function(t,e){c(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}},{key:"mulColumn",value:function(t,e){M(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxIndex",value:function(){ne(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.get(r,i)>t&&(t=this.get(r,i),e[0]=r,e[1]=i);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minIndex",value:function(){ne(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)this.get(r,i)<t&&(t=this.get(r,i),e[0]=r,e[1]=i);return e}},{key:"maxRow",value:function(t){if(c(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}},{key:"maxRowIndex",value:function(t){c(this,t),ne(this);for(var e=this.get(t,0),r=[t,0],i=1;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i),r[1]=i);return r}},{key:"minRow",value:function(t){if(c(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}},{key:"minRowIndex",value:function(t){c(this,t),ne(this);for(var e=this.get(t,0),r=[t,0],i=1;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i),r[1]=i);return r}},{key:"maxColumn",value:function(t){if(M(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}},{key:"maxColumnIndex",value:function(t){M(this,t),ne(this);for(var e=this.get(0,t),r=[0,t],i=1;i<this.rows;i++)this.get(i,t)>e&&(e=this.get(i,t),r[0]=i);return r}},{key:"minColumn",value:function(t){if(M(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}},{key:"minColumnIndex",value:function(t){M(this,t),ne(this);for(var e=this.get(0,t),r=[0,t],i=1;i<this.rows;i++)this.get(i,t)<e&&(e=this.get(i,t),r[0]=i);return r}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;r<t;r++)e.push(this.get(r,r));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var r=0;r<this.rows;r++)for(var i=0;i<this.columns;i++)e=e+this.get(r,i)*this.get(r,i);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{key:"dot",value:function(t){u.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<e.length;i++)r+=e[i]*t[i];return r}},{key:"mmul",value:function(t){t=si.checkMatrix(t);for(var e=this.rows,r=this.columns,i=t.columns,l=new si(e,i),d=new Float64Array(r),v=0;v<i;v++){for(var D=0;D<r;D++)d[D]=t.get(D,v);for(var R=0;R<e;R++){for(var F=0,Z=0;Z<r;Z++)F+=this.get(R,Z)*d[Z];l.set(R,v,F)}}return l}},{key:"strassen2x2",value:function(t){t=si.checkMatrix(t);var e=new si(2,2),r=this.get(0,0),i=t.get(0,0),l=this.get(0,1),d=t.get(0,1),v=this.get(1,0),D=t.get(1,0),R=this.get(1,1),F=t.get(1,1),Z=(r+R)*(i+F),J=(v+R)*i,it=r*(d-F),dt=R*(D-i),bt=(r+l)*F,Dt=(v-r)*(i+d),At=(l-R)*(D+F),wt=Z+dt-bt+At,zt=it+bt,Kt=J+dt,$t=Z-J+it+Dt;return e.set(0,0,wt),e.set(0,1,zt),e.set(1,0,Kt),e.set(1,1,$t),e}},{key:"strassen3x3",value:function(t){t=si.checkMatrix(t);var e=new si(3,3),r=this.get(0,0),i=this.get(0,1),l=this.get(0,2),d=this.get(1,0),v=this.get(1,1),D=this.get(1,2),R=this.get(2,0),F=this.get(2,1),Z=this.get(2,2),J=t.get(0,0),it=t.get(0,1),dt=t.get(0,2),bt=t.get(1,0),Dt=t.get(1,1),At=t.get(1,2),wt=t.get(2,0),zt=t.get(2,1),Kt=t.get(2,2),$t=(r+i+l-d-v-F-Z)*Dt,ee=(r-d)*(-it+Dt),re=v*(-J+it+bt-Dt-At-wt+Kt),fe=(-r+d+v)*(J-it+Dt),ce=(d+v)*(-J+it),Ae=r*J,Te=(-r+R+F)*(J-dt+At),cr=(-r+R)*(dt-At),fr=(R+F)*(-J+dt),gr=(r+i+l-v-D-R-F)*At,qr=F*(-J+dt+bt-Dt-At-wt+zt),kr=(-l+F+Z)*(Dt+wt-zt),Nr=(l-Z)*(Dt-zt),Fr=l*wt,Ir=(F+Z)*(-wt+zt),Sr=(-l+v+D)*(At+wt-Kt),Xr=(l-D)*(At-Kt),en=(v+D)*(-wt+Kt),Ar=i*bt,Dr=D*zt,Tn=d*dt,Rn=R*it,wn=Z*Kt,Un=Ae+Fr+Ar,yi=$t+fe+ce+Ae+kr+Fr+Ir,da=Ae+Te+fr+gr+Fr+Sr+en,vi=ee+re+fe+Ae+Fr+Sr+Xr,Pa=ee+fe+ce+Ae+Dr,pl=Fr+Sr+Xr+en+Tn,Fs=Ae+Te+cr+qr+kr+Nr+Fr,Qs=kr+Nr+Fr+Ir+Rn,na=Ae+Te+cr+fr+wn;return e.set(0,0,Un),e.set(0,1,yi),e.set(0,2,da),e.set(1,0,vi),e.set(1,1,Pa),e.set(1,2,pl),e.set(2,0,Fs),e.set(2,1,Qs),e.set(2,2,na),e}},{key:"mmulStrassen",value:function(t){t=si.checkMatrix(t);var e=this.clone(),r=e.rows,i=e.columns,l=t.rows,d=t.columns;i!==l&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(l," x ").concat(d," matrix: dimensions do not match."));function v(Z,J,it){var dt=Z.rows,bt=Z.columns;if(dt===J&&bt===it)return Z;var Dt=u.zeros(J,it);return Dt=Dt.setSubMatrix(Z,0,0),Dt}var D=Math.max(r,l),R=Math.max(i,d);e=v(e,D,R),t=v(t,D,R);function F(Z,J,it,dt){if(it<=512||dt<=512)return Z.mmul(J);it%2==1&&dt%2==1?(Z=v(Z,it+1,dt+1),J=v(J,it+1,dt+1)):it%2==1?(Z=v(Z,it+1,dt),J=v(J,it+1,dt)):dt%2==1&&(Z=v(Z,it,dt+1),J=v(J,it,dt+1));var bt=parseInt(Z.rows/2,10),Dt=parseInt(Z.columns/2,10),At=Z.subMatrix(0,bt-1,0,Dt-1),wt=J.subMatrix(0,bt-1,0,Dt-1),zt=Z.subMatrix(0,bt-1,Dt,Z.columns-1),Kt=J.subMatrix(0,bt-1,Dt,J.columns-1),$t=Z.subMatrix(bt,Z.rows-1,0,Dt-1),ee=J.subMatrix(bt,J.rows-1,0,Dt-1),re=Z.subMatrix(bt,Z.rows-1,Dt,Z.columns-1),fe=J.subMatrix(bt,J.rows-1,Dt,J.columns-1),ce=F(u.add(At,re),u.add(wt,fe),bt,Dt),Ae=F(u.add($t,re),wt,bt,Dt),Te=F(At,u.sub(Kt,fe),bt,Dt),cr=F(re,u.sub(ee,wt),bt,Dt),fr=F(u.add(At,zt),fe,bt,Dt),gr=F(u.sub($t,At),u.add(wt,Kt),bt,Dt),qr=F(u.sub(zt,re),u.add(ee,fe),bt,Dt),kr=u.add(ce,cr);kr.sub(fr),kr.add(qr);var Nr=u.add(Te,fr),Fr=u.add(Ae,cr),Ir=u.sub(ce,Ae);Ir.add(Te),Ir.add(gr);var Sr=u.zeros(2*kr.rows,2*kr.columns);return Sr=Sr.setSubMatrix(kr,0,0),Sr=Sr.setSubMatrix(Nr,kr.rows,0),Sr=Sr.setSubMatrix(Fr,0,kr.columns),Sr=Sr.setSubMatrix(Ir,kr.rows,kr.columns),Sr.subMatrix(0,it-1,0,dt-1)}return F(e,t,D,R)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,i=t.max,l=i===void 0?1:i;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(l))throw new TypeError("max must be a number");if(r>=l)throw new RangeError("min must be smaller than max");for(var d=new si(this.rows,this.columns),v=0;v<this.rows;v++){var D=this.getRow(v);D.length>0&&Gv(D,{min:r,max:l,output:D}),d.setRow(v,D)}return d}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,i=t.max,l=i===void 0?1:i;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(l))throw new TypeError("max must be a number");if(r>=l)throw new RangeError("min must be smaller than max");for(var d=new si(this.rows,this.columns),v=0;v<this.columns;v++){var D=this.getColumn(v);D.length&&Gv(D,{min:r,max:l,output:D}),d.setColumn(v,D)}return d}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var r=0;r<t;r++){var i=this.get(e,r),l=this.get(e,this.columns-1-r);this.set(e,r,l),this.set(e,this.columns-1-r,i)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var r=0;r<t;r++){var i=this.get(r,e),l=this.get(this.rows-1-r,e);this.set(r,e,l),this.set(this.rows-1-r,e,i)}return this}},{key:"kroneckerProduct",value:function(t){t=si.checkMatrix(t);for(var e=this.rows,r=this.columns,i=t.rows,l=t.columns,d=new si(e*i,r*l),v=0;v<e;v++)for(var D=0;D<r;D++)for(var R=0;R<i;R++)for(var F=0;F<l;F++)d.set(i*v+R,l*D+F,this.get(v,D)*t.get(R,F));return d}},{key:"kroneckerSum",value:function(t){if(t=si.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,r=t.rows,i=this.kroneckerProduct(si.eye(r,r)),l=si.eye(e,e).kroneckerProduct(t);return i.add(l)}},{key:"transpose",value:function(){for(var t=new si(this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qu,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qu,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,r,i){_t(this,t,e,r,i);for(var l=new si(e-t+1,i-r+1),d=t;d<=e;d++)for(var v=r;v<=i;v++)l.set(d-t,v-r,this.get(d,v));return l}},{key:"subMatrixRow",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var i=new si(t.length,r-e+1),l=0;l<t.length;l++)for(var d=e;d<=r;d++){if(t[l]<0||t[l]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[l]));i.set(l,d-e,this.get(t[l],d))}return i}},{key:"subMatrixColumn",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var i=new si(r-e+1,t.length),l=0;l<t.length;l++)for(var d=e;d<=r;d++){if(t[l]<0||t[l]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[l]));i.set(d-e,l,this.get(d,t[l]))}return i}},{key:"setSubMatrix",value:function(t,e,r){if(t=si.checkMatrix(t),t.isEmpty())return this;var i=e+t.rows-1,l=r+t.columns-1;_t(this,e,i,r,l);for(var d=0;d<t.rows;d++)for(var v=0;v<t.columns;v++)this.set(e+d,r+v,t.get(d,v));return this}},{key:"selection",value:function(t,e){for(var r=ht(this,t,e),i=new si(t.length,e.length),l=0;l<r.row.length;l++)for(var d=r.row[l],v=0;v<r.column.length;v++){var D=r.column[v];i.set(l,v,this.get(d,D))}return i}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}},{key:"clone",value:function(){for(var t=new si(this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}},{key:"sum",value:function(t){switch(t){case"row":return ve(this);case"column":return Oe(this);case void 0:return Ke(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return tr(this);case"column":return mr(this);case void 0:return Or(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var r=0;r<this.rows;r++)e[r]/=this.columns;return e}case"column":{for(var i=0;i<this.columns;i++)e[i]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,i=r.unbiased,l=i===void 0?!0:i,d=r.mean,v=d===void 0?this.mean(t):d;if(typeof l!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(v))throw new TypeError("mean must be an array");return yn(this,l,v)}case"column":{if(!Array.isArray(v))throw new TypeError("mean must be an array");return sn(this,l,v)}case void 0:{if(typeof v!="number")throw new TypeError("mean must be a number");return mn(this,l,v)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var r=this.variance(t,e);if(t===void 0)return Math.sqrt(r);for(var i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,i=r.center,l=i===void 0?this.mean(t):i;switch(t){case"row":{if(!Array.isArray(l))throw new TypeError("center must be an array");return di(this,l),this}case"column":{if(!Array.isArray(l))throw new TypeError("center must be an array");return Zn(this,l),this}case void 0:{if(typeof l!="number")throw new TypeError("center must be a number");return $n(this,l),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e.scale;switch(t){case"row":{if(r===void 0)r=Di(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return ra(this,r),this}case"column":{if(r===void 0)r=_i(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Qa(this,r),this}case void 0:{if(r===void 0)r=Fo(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return Do(this,r),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return zd(this,t)}}],[{key:"from1DArray",value:function(t,e,r){var i=t*e;if(i!==r.length)throw new RangeError("data length does not match given dimensions");for(var l=new si(t,e),d=0;d<t;d++)for(var v=0;v<e;v++)l.set(d,v,r[d*e+v]);return l}},{key:"rowVector",value:function(t){for(var e=new si(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}},{key:"columnVector",value:function(t){for(var e=new si(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}},{key:"zeros",value:function(t,e){return new si(t,e)}},{key:"ones",value:function(t,e){return new si(t,e).fill(1)}},{key:"rand",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");for(var i=r.random,l=i===void 0?Math.random:i,d=new si(t,e),v=0;v<t;v++)for(var D=0;D<e;D++)d.set(v,D,l());return d}},{key:"randInt",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");var i=r.min,l=i===void 0?0:i,d=r.max,v=d===void 0?1e3:d,D=r.random,R=D===void 0?Math.random:D;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(v))throw new TypeError("max must be an integer");if(l>=v)throw new RangeError("min must be smaller than max");for(var F=v-l,Z=new si(t,e),J=0;J<t;J++)for(var it=0;it<e;it++){var dt=l+Math.round(R()*F);Z.set(J,it,dt)}return Z}},{key:"eye",value:function(t,e,r){e===void 0&&(e=t),r===void 0&&(r=1);for(var i=Math.min(t,e),l=this.zeros(t,e),d=0;d<i;d++)l.set(d,d,r);return l}},{key:"diag",value:function(t,e,r){var i=t.length;e===void 0&&(e=i),r===void 0&&(r=e);for(var l=Math.min(i,e,r),d=this.zeros(e,r),v=0;v<l;v++)d.set(v,v,t[v]);return d}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,i=t.columns,l=new si(r,i),d=0;d<r;d++)for(var v=0;v<i;v++)l.set(d,v,Math.min(t.get(d,v),e.get(d,v)));return l}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,i=t.columns,l=new this(r,i),d=0;d<r;d++)for(var v=0;v<i;v++)l.set(d,v,Math.max(t.get(d,v),e.get(d,v)));return l}},{key:"checkMatrix",value:function(t){return u.isMatrix(t)?t:new si(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),u}();ki.prototype.klass="Matrix",typeof Symbol!="undefined"&&(ki.prototype[Symbol.for("nodejs.util.inspect.custom")]=lu);function Qu(u,n){return u-n}ki.random=ki.rand,ki.randomInt=ki.randInt,ki.diagonal=ki.diag,ki.prototype.diagonal=ki.prototype.diag,ki.identity=ki.eye,ki.prototype.negate=ki.prototype.neg,ki.prototype.tensorProduct=ki.prototype.kroneckerProduct;var si=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e,r){var i;if(Object(wr.a)(this,t),i=n.call(this),t.isMatrix(e))return Object(Ug.a)(i,e.clone());if(Number.isInteger(e)&&e>=0)if(i.data=[],Number.isInteger(r)&&r>=0)for(var l=0;l<e;l++)i.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var d=e;if(e=d.length,r=e?d[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");i.data=[];for(var v=0;v<e;v++){if(d[v].length!==r)throw new RangeError("Inconsistent array dimensions");i.data.push(Float64Array.from(d[v]))}}else throw new TypeError("First argument must be a positive number or an array");return i.rows=e,i.columns=r,i}return Object(Zr.a)(t,[{key:"set",value:function(r,i,l){return this.data[r][i]=l,this}},{key:"get",value:function(r,i){return this.data[r][i]}},{key:"removeRow",value:function(r){return c(this,r),this.data.splice(r,1),this.rows-=1,this}},{key:"addRow",value:function(r,i){return i===void 0&&(i=r,r=this.rows),c(this,r,!0),i=Float64Array.from(w(this,i)),this.data.splice(r,0,i),this.rows+=1,this}},{key:"removeColumn",value:function(r){M(this,r);for(var i=0;i<this.rows;i++){for(var l=new Float64Array(this.columns-1),d=0;d<r;d++)l[d]=this.data[i][d];for(var v=r+1;v<this.columns;v++)l[v-1]=this.data[i][v];this.data[i]=l}return this.columns-=1,this}},{key:"addColumn",value:function(r,i){typeof i=="undefined"&&(i=r,r=this.columns),M(this,r,!0),i=$(this,i);for(var l=0;l<this.rows;l++){for(var d=new Float64Array(this.columns+1),v=0;v<r;v++)d[v]=this.data[l][v];for(d[v++]=i[l];v<this.columns+1;v++)d[v]=this.data[l][v-1];this.data[l]=d}return this.columns+=1,this}}]),t}(ki);s(ki,si);var Wv=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.data=e,r.rows=e.length,r.columns=e[0].length,r}return Object(Zr.a)(t,[{key:"set",value:function(r,i,l){return this.data[r][i]=l,this}},{key:"get",value:function(r,i){return this.data[r][i]}}]),t}(ki);function _c(u,n){var t=0;return Math.abs(u)>Math.abs(n)?(t=n/u,Math.abs(u)*Math.sqrt(1+t*t)):n!==0?(t=u/n,Math.abs(n)*Math.sqrt(1+t*t)):0}var zv=function(){function u(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(wr.a)(this,u),n=Wv.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");var e=n.rows,r=n.columns,i=t.computeLeftSingularVectors,l=i===void 0?!0:i,d=t.computeRightSingularVectors,v=d===void 0?!0:d,D=t.autoTranspose,R=D===void 0?!1:D,F=Boolean(l),Z=Boolean(v),J=!1,it;if(e<r)if(!R)it=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{it=n.transpose(),e=it.rows,r=it.columns,J=!0;var dt=F;F=Z,Z=dt}else it=n.clone();for(var bt=Math.min(e,r),Dt=Math.min(e+1,r),At=new Float64Array(Dt),wt=new si(e,bt),zt=new si(r,r),Kt=new Float64Array(r),$t=new Float64Array(e),ee=new Float64Array(Dt),re=0;re<Dt;re++)ee[re]=re;for(var fe=Math.min(e-1,r),ce=Math.max(0,Math.min(r-2,e)),Ae=Math.max(fe,ce),Te=0;Te<Ae;Te++){if(Te<fe){At[Te]=0;for(var cr=Te;cr<e;cr++)At[Te]=_c(At[Te],it.get(cr,Te));if(At[Te]!==0){it.get(Te,Te)<0&&(At[Te]=-At[Te]);for(var fr=Te;fr<e;fr++)it.set(fr,Te,it.get(fr,Te)/At[Te]);it.set(Te,Te,it.get(Te,Te)+1)}At[Te]=-At[Te]}for(var gr=Te+1;gr<r;gr++){if(Te<fe&&At[Te]!==0){for(var qr=0,kr=Te;kr<e;kr++)qr+=it.get(kr,Te)*it.get(kr,gr);qr=-qr/it.get(Te,Te);for(var Nr=Te;Nr<e;Nr++)it.set(Nr,gr,it.get(Nr,gr)+qr*it.get(Nr,Te))}Kt[gr]=it.get(Te,gr)}if(F&&Te<fe)for(var Fr=Te;Fr<e;Fr++)wt.set(Fr,Te,it.get(Fr,Te));if(Te<ce){Kt[Te]=0;for(var Ir=Te+1;Ir<r;Ir++)Kt[Te]=_c(Kt[Te],Kt[Ir]);if(Kt[Te]!==0){Kt[Te+1]<0&&(Kt[Te]=0-Kt[Te]);for(var Sr=Te+1;Sr<r;Sr++)Kt[Sr]/=Kt[Te];Kt[Te+1]+=1}if(Kt[Te]=-Kt[Te],Te+1<e&&Kt[Te]!==0){for(var Xr=Te+1;Xr<e;Xr++)$t[Xr]=0;for(var en=Te+1;en<e;en++)for(var Ar=Te+1;Ar<r;Ar++)$t[en]+=Kt[Ar]*it.get(en,Ar);for(var Dr=Te+1;Dr<r;Dr++)for(var Tn=-Kt[Dr]/Kt[Te+1],Rn=Te+1;Rn<e;Rn++)it.set(Rn,Dr,it.get(Rn,Dr)+Tn*$t[Rn])}if(Z)for(var wn=Te+1;wn<r;wn++)zt.set(wn,Te,Kt[wn])}}var Un=Math.min(r,e+1);if(fe<r&&(At[fe]=it.get(fe,fe)),e<Un&&(At[Un-1]=0),ce+1<Un&&(Kt[ce]=it.get(ce,Un-1)),Kt[Un-1]=0,F){for(var yi=fe;yi<bt;yi++){for(var da=0;da<e;da++)wt.set(da,yi,0);wt.set(yi,yi,1)}for(var vi=fe-1;vi>=0;vi--)if(At[vi]!==0){for(var Pa=vi+1;Pa<bt;Pa++){for(var pl=0,Fs=vi;Fs<e;Fs++)pl+=wt.get(Fs,vi)*wt.get(Fs,Pa);pl=-pl/wt.get(vi,vi);for(var Qs=vi;Qs<e;Qs++)wt.set(Qs,Pa,wt.get(Qs,Pa)+pl*wt.get(Qs,vi))}for(var na=vi;na<e;na++)wt.set(na,vi,-wt.get(na,vi));wt.set(vi,vi,1+wt.get(vi,vi));for(var va=0;va<vi-1;va++)wt.set(va,vi,0)}else{for(var ca=0;ca<e;ca++)wt.set(ca,vi,0);wt.set(vi,vi,1)}}if(Z)for(var Ni=r-1;Ni>=0;Ni--){if(Ni<ce&&Kt[Ni]!==0)for(var Oa=Ni+1;Oa<r;Oa++){for(var Ci=0,xa=Ni+1;xa<r;xa++)Ci+=zt.get(xa,Ni)*zt.get(xa,Oa);Ci=-Ci/zt.get(Ni+1,Ni);for(var ia=Ni+1;ia<r;ia++)zt.set(ia,Oa,zt.get(ia,Oa)+Ci*zt.get(ia,Ni))}for(var Io=0;Io<r;Io++)zt.set(Io,Ni,0);zt.set(Ni,Ni,1)}for(var Qi=Un-1,Ai=0,ga=Number.EPSILON;Un>0;){var Fn=void 0,ha=void 0;for(Fn=Un-2;Fn>=-1&&Fn!==-1;Fn--){var mu=Number.MIN_VALUE+ga*Math.abs(At[Fn]+Math.abs(At[Fn+1]));if(Math.abs(Kt[Fn])<=mu||Number.isNaN(Kt[Fn])){Kt[Fn]=0;break}}if(Fn===Un-2)ha=4;else{var Lo=void 0;for(Lo=Un-1;Lo>=Fn&&Lo!==Fn;Lo--){var as=(Lo!==Un?Math.abs(Kt[Lo]):0)+(Lo!==Fn+1?Math.abs(Kt[Lo-1]):0);if(Math.abs(At[Lo])<=ga*as){At[Lo]=0;break}}Lo===Fn?ha=3:Lo===Un-1?ha=1:(ha=2,Fn=Lo)}switch(Fn++,ha){case 1:{var vs=Kt[Un-2];Kt[Un-2]=0;for(var lo=Un-2;lo>=Fn;lo--){var os=_c(At[lo],vs),yo=At[lo]/os,Uo=vs/os;if(At[lo]=os,lo!==Fn&&(vs=-Uo*Kt[lo-1],Kt[lo-1]=yo*Kt[lo-1]),Z)for(var bu=0;bu<r;bu++)os=yo*zt.get(bu,lo)+Uo*zt.get(bu,Un-1),zt.set(bu,Un-1,-Uo*zt.get(bu,lo)+yo*zt.get(bu,Un-1)),zt.set(bu,lo,os)}break}case 2:{var dv=Kt[Fn-1];Kt[Fn-1]=0;for(var gs=Fn;gs<Un;gs++){var Js=_c(At[gs],dv),lf=At[gs]/Js,Ra=dv/Js;if(At[gs]=Js,dv=-Ra*Kt[gs],Kt[gs]=lf*Kt[gs],F)for(var mo=0;mo<e;mo++)Js=lf*wt.get(mo,gs)+Ra*wt.get(mo,Fn-1),wt.set(mo,Fn-1,-Ra*wt.get(mo,gs)+lf*wt.get(mo,Fn-1)),wt.set(mo,gs,Js)}break}case 3:{var So=Math.max(Math.abs(At[Un-1]),Math.abs(At[Un-2]),Math.abs(Kt[Un-2]),Math.abs(At[Fn]),Math.abs(Kt[Fn])),ss=At[Un-1]/So,Ou=At[Un-2]/So,ah=Kt[Un-2]/So,sd=At[Fn]/So,vv=Kt[Fn]/So,xu=((Ou+ss)*(Ou-ss)+ah*ah)/2,oh=ss*ah*(ss*ah),uf=0;(xu!==0||oh!==0)&&(xu<0?uf=0-Math.sqrt(xu*xu+oh):uf=Math.sqrt(xu*xu+oh),uf=oh/(xu+uf));for(var sh=(sd+ss)*(sd-ss)+uf,ld=sd*vv,aa=Fn;aa<Un-1;aa++){var Ss=_c(sh,ld);Ss===0&&(Ss=Number.MIN_VALUE);var Bl=sh/Ss,Nl=ld/Ss;if(aa!==Fn&&(Kt[aa-1]=Ss),sh=Bl*At[aa]+Nl*Kt[aa],Kt[aa]=Bl*Kt[aa]-Nl*At[aa],ld=Nl*At[aa+1],At[aa+1]=Bl*At[aa+1],Z)for(var cf=0;cf<r;cf++)Ss=Bl*zt.get(cf,aa)+Nl*zt.get(cf,aa+1),zt.set(cf,aa+1,-Nl*zt.get(cf,aa)+Bl*zt.get(cf,aa+1)),zt.set(cf,aa,Ss);if(Ss=_c(sh,ld),Ss===0&&(Ss=Number.MIN_VALUE),Bl=sh/Ss,Nl=ld/Ss,At[aa]=Ss,sh=Bl*Kt[aa]+Nl*At[aa+1],At[aa+1]=-Nl*Kt[aa]+Bl*At[aa+1],ld=Nl*Kt[aa+1],Kt[aa+1]=Bl*Kt[aa+1],F&&aa<e-1)for(var ff=0;ff<e;ff++)Ss=Bl*wt.get(ff,aa)+Nl*wt.get(ff,aa+1),wt.set(ff,aa+1,-Nl*wt.get(ff,aa)+Bl*wt.get(ff,aa+1)),wt.set(ff,aa,Ss)}Kt[Un-2]=sh,Ai=Ai+1;break}case 4:{if(At[Fn]<=0&&(At[Fn]=At[Fn]<0?-At[Fn]:0,Z))for(var xg=0;xg<=Qi;xg++)zt.set(xg,Fn,-zt.get(xg,Fn));for(;Fn<Qi&&!(At[Fn]>=At[Fn+1]);){var gv=At[Fn];if(At[Fn]=At[Fn+1],At[Fn+1]=gv,Z&&Fn<r-1)for(var ud=0;ud<r;ud++)gv=zt.get(ud,Fn+1),zt.set(ud,Fn+1,zt.get(ud,Fn)),zt.set(ud,Fn,gv);if(F&&Fn<e-1)for(var cd=0;cd<e;cd++)gv=wt.get(cd,Fn+1),wt.set(cd,Fn+1,wt.get(cd,Fn)),wt.set(cd,Fn,gv);Fn++}Ai=0,Un--;break}}}if(J){var XC=zt;zt=wt,wt=XC}this.m=e,this.n=r,this.s=At,this.U=wt,this.V=zt}return Object(Zr.a)(u,[{key:"solve",value:function(t){for(var e=t,r=this.threshold,i=this.s.length,l=si.zeros(i,i),d=0;d<i;d++)Math.abs(this.s[d])<=r?l.set(d,d,0):l.set(d,d,1/this.s[d]);for(var v=this.U,D=this.rightSingularVectors,R=D.mmul(l),F=D.rows,Z=v.rows,J=si.zeros(F,Z),it=0;it<F;it++)for(var dt=0;dt<Z;dt++){for(var bt=0,Dt=0;Dt<i;Dt++)bt+=R.get(it,Dt)*v.get(dt,Dt);J.set(it,dt,bt)}return J.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(si.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,r=t.rows,i=t.columns,l=new si(r,this.s.length),d=0;d<r;d++)for(var v=0;v<i;v++)Math.abs(this.s[v])>e&&l.set(d,v,t.get(d,v)/this.s[v]);for(var D=this.U,R=D.rows,F=D.columns,Z=new si(r,R),J=0;J<r;J++)for(var it=0;it<R;it++){for(var dt=0,bt=0;bt<F;bt++)dt+=l.get(J,bt)*D.get(it,bt);Z.set(J,it,dt)}return Z}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,i=0,l=r.length;i<l;i++)r[i]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return si.diag(this.s)}}]),u}(),kv=function(){function u(n){Object(wr.a)(this,u),this.distances=n.distances,this.dimension=n.dimension||2,this.linkDistance=n.linkDistance}return Object(Zr.a)(u,[{key:"layout",value:function(){var t=this,e=t.dimension,r=t.distances,i=t.linkDistance;try{var l=si.mul(si.pow(r,2),-.5),d=l.mean("row"),v=l.mean("column"),D=l.mean();l.add(D).subRowVector(d).subColumnVector(v);var R=new zv(l),F=si.sqrt(R.diagonalMatrix).diagonal();return R.leftSingularVectors.toJSON().map(function(bt){return si.mul([bt],[F]).toJSON()[0].splice(0,e)})}catch(bt){for(var Z=[],J=0;J<r.length;J++){var it=Math.random()*i,dt=Math.random()*i;Z.push([it,dt])}return Z}}}]),u}(),Vv=800,Xv=function(){function u(n){Object(wr.a)(this,u),this.disp=[],this.positions=n.positions,this.adjMatrix=n.adjMatrix,this.focusID=n.focusID,this.radii=n.radii,this.iterations=n.iterations||10,this.height=n.height||10,this.width=n.width||10,this.speed=n.speed||100,this.gravity=n.gravity||10,this.nodeSizeFunc=n.nodeSizeFunc,this.k=n.k||5,this.strictRadial=n.strictRadial,this.nodes=n.nodes}return Object(Zr.a)(u,[{key:"layout",value:function(){var t=this,e=t.positions,r=[],i=t.iterations,l=t.width/10;t.maxDisplace=l,t.disp=r;for(var d=0;d<i;d++)e.forEach(function(v,D){r[D]={x:0,y:0}}),t.getRepulsion(),t.updatePositions();return e}},{key:"getRepulsion",value:function(){var t=this,e=t.positions,r=t.nodes,i=t.disp,l=t.k,d=t.radii||[];e.forEach(function(v,D){i[D]={x:0,y:0},e.forEach(function(R,F){if(D!==F&&d[D]===d[F]){var Z=v[0]-R[0],J=v[1]-R[1],it=Math.sqrt(Z*Z+J*J);if(it===0){it=1;var dt=D>F?1:-1;Z=.01*dt,J=.01*dt}if(it<t.nodeSizeFunc(r[D])/2+t.nodeSizeFunc(r[F])/2){var bt=l*l/it;i[D].x+=Z/it*bt,i[D].y+=J/it*bt}}})})}},{key:"updatePositions",value:function(){var t=this,e=t.positions,r=t.disp,i=t.speed,l=t.strictRadial,d=t.focusID,v=t.maxDisplace||t.width/10;l&&r.forEach(function(R,F){var Z=e[F][0]-e[d][0],J=e[F][1]-e[d][1],it=Math.sqrt(Z*Z+J*J),dt=J/it,bt=-Z/it,Dt=Math.sqrt(R.x*R.x+R.y*R.y),At=Math.acos((dt*R.x+bt*R.y)/Dt);At>Math.PI/2&&(At-=Math.PI/2,dt*=-1,bt*=-1);var wt=Math.cos(At)*Dt;R.x=dt*wt,R.y=bt*wt});var D=t.radii;e.forEach(function(R,F){if(F!==d){var Z=Math.sqrt(r[F].x*r[F].x+r[F].y*r[F].y);if(Z>0&&F!==d){var J=Math.min(v*(i/Vv),Z);if(R[0]+=r[F].x/Z*J,R[1]+=r[F].y/Z*J,l){var it=R[0]-e[d][0],dt=R[1]-e[d][1],bt=Math.sqrt(it*it+dt*dt);it=it/bt*D[F],dt=dt/bt*D[F],R[0]=e[d][0]+it,R[1]=e[d][1]+dt}}}})}}]),u}();function Vg(u){for(var n=u.length,t=u[0].length,e=[],r=0;r<n;r++){for(var i=[],l=0;l<t;l++)u[r][l]!==0?i.push(1/(u[r][l]*u[r][l])):i.push(0);e.push(i)}return e}function kd(u,n){var t=-1;return u.forEach(function(e,r){e.id===n&&(t=r)}),t}function Hv(u,n){return Math.sqrt((u[0]-n[0])*(u[0]-n[0])+(u[1]-n[1])*(u[1]-n[1]))}var Vd=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.focusNode=null,r.unitRadius=null,r.linkDistance=50,r.preventOverlap=!1,r.strictRadial=!0,r.maxPreventOverlapIteration=200,r.sortStrength=10,r.nodes=[],r.edges=[],r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=r.edges||[];if(!i||i.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var d=r.center;if(i.length===1){i[0].x=d[0],i[0].y=d[1],r.onLayoutEnd&&r.onLayoutEnd();return}var v=r.linkDistance,D=null;if(dr(r.focusNode)){for(var R=!1,F=0;F<i.length;F++)i[F].id===r.focusNode&&(D=i[F],r.focusNode=D,R=!0,F=i.length);R||(D=null)}else D=r.focusNode;D||(D=i[0],r.focusNode=D);var Z=kd(i,D.id);r.focusIndex=Z;var J=zn({nodes:i,edges:l},!1),it=dn(J),dt=r.maxToFocus(it,Z);r.handleInfinity(it,Z,dt+1),r.distances=it;var bt=it[Z],Dt=r.width||500,At=r.height||500,wt=Dt-d[0]>d[0]?d[0]:Dt-d[0],zt=At-d[1]>d[1]?d[1]:At-d[1];wt===0&&(wt=Dt/2),zt===0&&(zt=At/2);var Kt=zt>wt?wt:zt,$t=Math.max.apply(Math,Object(Gg.a)(bt)),ee=[];bt.forEach(function(Ir,Sr){r.unitRadius||(r.unitRadius=Kt/$t),ee[Sr]=Ir*r.unitRadius}),r.radii=ee;var re=r.eIdealDisMatrix();r.eIdealDistances=re;var fe=Vg(re);r.weights=fe;var ce=new kv({linkDistance:v,distances:re}),Ae=ce.layout();Ae.forEach(function(Ir){on(Ir[0])&&(Ir[0]=Math.random()*v),on(Ir[1])&&(Ir[1]=Math.random()*v)}),r.positions=Ae,Ae.forEach(function(Ir,Sr){i[Sr].x=Ir[0]+d[0],i[Sr].y=Ir[1]+d[1]}),Ae.forEach(function(Ir){Ir[0]-=Ae[Z][0],Ir[1]-=Ae[Z][1]}),r.run();var Te=r.preventOverlap,cr=r.nodeSize,fr,gr=r.strictRadial;if(Te){var qr=r.nodeSpacing,kr;Cr(qr)?kr=function(){return qr}:oi(qr)?kr=qr:kr=function(){return 0},cr?yr(cr)?fr=function(Sr){var Xr=cr[0]>cr[1]?cr[0]:cr[1];return Xr+kr(Sr)}:fr=function(Sr){return cr+kr(Sr)}:fr=function(Sr){if(Sr.size){if(yr(Sr.size)){var Xr=Sr.size[0]>Sr.size[1]?Sr.size[0]:Sr.size[1];return Xr+kr(Sr)}return Sr.size+kr(Sr)}return 10+kr(Sr)};var Nr={nodes:i,nodeSizeFunc:fr,adjMatrix:J,positions:Ae,radii:ee,height:At,width:Dt,strictRadial:gr,focusID:Z,iterations:r.maxPreventOverlapIteration||200,k:Ae.length/4.5},Fr=new Xv(Nr);Ae=Fr.layout()}return Ae.forEach(function(Ir,Sr){i[Sr].x=Ir[0]+d[0],i[Sr].y=Ir[1]+d[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:i,edges:l}}},{key:"run",value:function(){for(var r=this,i=r.maxIteration,l=r.positions||[],d=r.weights||[],v=r.eIdealDistances||[],D=r.radii||[],R=0;R<=i;R++){var F=R/i;r.oneIteration(F,l,D,v,d)}}},{key:"oneIteration",value:function(r,i,l,d,v){var D=this,R=1-r,F=D.focusIndex;i.forEach(function(Z,J){var it=Hv(Z,[0,0]),dt=it===0?0:1/it;if(J!==F){var bt=0,Dt=0,At=0;i.forEach(function(zt,Kt){if(J!==Kt){var $t=Hv(Z,zt),ee=$t===0?0:1/$t,re=d[Kt][J];At+=v[J][Kt],bt+=v[J][Kt]*(zt[0]+re*(Z[0]-zt[0])*ee),Dt+=v[J][Kt]*(zt[1]+re*(Z[1]-zt[1])*ee)}});var wt=l[J]===0?0:1/l[J];At*=R,At+=r*wt*wt,bt*=R,bt+=r*wt*Z[0]*dt,Z[0]=bt/At,Dt*=R,Dt+=r*wt*Z[1]*dt,Z[1]=Dt/At}})}},{key:"eIdealDisMatrix",value:function(){var r=this,i=r.nodes;if(!i)return[];var l=r.distances,d=r.linkDistance,v=r.radii||[],D=r.unitRadius||50,R=[];return l&&l.forEach(function(F,Z){var J=[];F.forEach(function(it,dt){if(Z===dt)J.push(0);else if(v[Z]===v[dt])if(r.sortBy==="data")J.push(it*(Math.abs(Z-dt)*r.sortStrength)/(v[Z]/D));else if(r.sortBy){var bt=i[Z][r.sortBy]||0,Dt=i[dt][r.sortBy]||0;dr(bt)&&(bt=bt.charCodeAt(0)),dr(Dt)&&(Dt=Dt.charCodeAt(0)),J.push(it*(Math.abs(bt-Dt)*r.sortStrength)/(v[Z]/D))}else J.push(it*d/(v[Z]/D));else{var At=(d+D)/2;J.push(it*At)}}),R.push(J)}),R}},{key:"handleInfinity",value:function(r,i,l){for(var d=r.length,v=0;v<d;v++)if(r[i][v]===Infinity){r[i][v]=l,r[v][i]=l;for(var D=0;D<d;D++)r[v][D]!==Infinity&&r[i][D]===Infinity&&(r[i][D]=l+r[v][D],r[D][i]=l+r[v][D])}for(var R=0;R<d;R++)if(R!==i){for(var F=0;F<d;F++)if(r[R][F]===Infinity){var Z=Math.abs(r[i][R]-r[i][F]);Z=Z===0?1:Z,r[R][F]=Z}}}},{key:"maxToFocus",value:function(r,i){for(var l=0,d=0;d<r[i].length;d++)r[i][d]!==Infinity&&(l=r[i][d]>l?r[i][d]:l);return l}},{key:"getType",value:function(){return"radial"}}]),t}(_r),Xd=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.nodeSize=30,r.minNodeSpacing=10,r.preventOverlap=!1,r.equidistant=!1,r.startAngle=3/2*Math.PI,r.clockwise=!0,r.sortBy="degree",r.nodes=[],r.edges=[],r.width=300,r.height=300,r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=r.edges,d=i.length;if(d===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var v=r.center;if(d===1){i[0].x=v[0],i[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var D=[],R;yr(r.nodeSize)?R=Math.max(r.nodeSize[0],r.nodeSize[1]):R=r.nodeSize,i.forEach(function(ce){D.push(ce);var Ae=R;yr(ce.size)?Ae=Math.max(ce.size[0],ce.size[1]):Cr(ce.size)&&(Ae=ce.size),R=Math.max(R,Ae)}),r.clockwise=r.counterclockwise!==void 0?!r.counterclockwise:r.clockwise;var F={},Z={};if(D.forEach(function(ce,Ae){F[ce.id]=ce,Z[ce.id]=Ae}),(r.sortBy==="degree"||!dr(r.sortBy)||D[0][r.sortBy]===void 0)&&(r.sortBy="degree",!Cr(i[0].degree))){var J=Hr(i.length,Z,l);D.forEach(function(ce,Ae){ce.degree=J[Ae]})}D.sort(function(ce,Ae){return Ae[r.sortBy]-ce[r.sortBy]}),r.maxValueNode=D[0],r.maxLevelDiff=r.maxLevelDiff||r.maxValueNode[r.sortBy]/4;var it=[[]],dt=it[0];D.forEach(function(ce){if(dt.length>0){var Ae=Math.abs(dt[0][r.sortBy]-ce[r.sortBy]);r.maxLevelDiff&&Ae>=r.maxLevelDiff&&(dt=[],it.push(dt))}dt.push(ce)});var bt=R+r.minNodeSpacing;if(!r.preventOverlap){var Dt=it.length>0&&it[0].length>1,At=Math.min(r.width,r.height)/2-bt,wt=At/(it.length+(Dt?1:0));bt=Math.min(bt,wt)}var zt=0;if(it.forEach(function(ce){var Ae=r.sweep;Ae===void 0&&(Ae=2*Math.PI-2*Math.PI/ce.length);var Te=ce.dTheta=Ae/Math.max(1,ce.length-1);if(ce.length>1&&r.preventOverlap){var cr=Math.cos(Te)-Math.cos(0),fr=Math.sin(Te)-Math.sin(0),gr=Math.sqrt(bt*bt/(cr*cr+fr*fr));zt=Math.max(gr,zt)}ce.r=zt,zt+=bt}),r.equidistant){for(var Kt=0,$t=0,ee=0;ee<it.length;ee++){var re=it[ee],fe=re.r-$t;Kt=Math.max(Kt,fe)}$t=0,it.forEach(function(ce,Ae){Ae===0&&($t=ce.r),ce.r=$t,$t+=Kt})}return it.forEach(function(ce){var Ae=ce.dTheta,Te=ce.r;ce.forEach(function(cr,fr){var gr=r.startAngle+(r.clockwise?1:-1)*Ae*fr;cr.x=v[0]+Te*Math.cos(gr),cr.y=v[1]+Te*Math.sin(gr)})}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:i,edges:l}}},{key:"getType",value:function(){return"concentric"}}]),t}(_r),Xg=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.center=[0,0],r.linkDistance=50,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=r.edges,d=l===void 0?[]:l,v=r.center;if(!i||i.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(i.length===1){i[0].x=v[0],i[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var D=r.linkDistance,R=zn({nodes:i,edges:d},!1),F=dn(R);r.handleInfinity(F);var Z=ui(F,D);r.scaledDistances=Z;var J=r.runMDS();return r.positions=J,J.forEach(function(it,dt){i[dt].x=it[0]+v[0],i[dt].y=it[1]+v[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:i,edges:d}}},{key:"runMDS",value:function(){var r=this,i=2,l=r.scaledDistances,d=si.mul(si.pow(l,2),-.5),v=d.mean("row"),D=d.mean("column"),R=d.mean();d.add(R).subRowVector(v).subColumnVector(D);var F=new zv(d),Z=si.sqrt(F.diagonalMatrix).diagonal();return F.leftSingularVectors.toJSON().map(function(J){return si.mul([J],[Z]).toJSON()[0].splice(0,i)})}},{key:"handleInfinity",value:function(r){var i=-999999;r.forEach(function(l){l.forEach(function(d){d!==Infinity&&i<d&&(i=d)})}),r.forEach(function(l,d){l.forEach(function(v,D){v===Infinity&&(r[d][D]=i)})})}},{key:"getType",value:function(){return"mds"}}]),t}(_r),uu=800,Pp=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=5,r.clustering=!1,r.clusterGravity=10,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.onLayoutEnd=function(){},r.tick=function(){},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var r=this,i=this,l=i.nodes;if(i.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(i.timeInterval),!l||l.length===0){i.onLayoutEnd&&i.onLayoutEnd();return}!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);var d=i.center;if(l.length===1){l[0].x=d[0],l[0].y=d[1],i.onLayoutEnd&&i.onLayoutEnd();return}var v={},D={};return l.forEach(function(R,F){Cr(R.x)||(R.x=Math.random()*r.width),Cr(R.y)||(R.y=Math.random()*r.height),v[R.id]=R,D[R.id]=F}),i.nodeMap=v,i.nodeIdxMap=D,i.run()}},{key:"run",value:function(){var r=this,i=r.nodes;if(!!i){var l=r.edges,d=r.maxIteration,v=r.center,D=r.height*r.width,R=Math.sqrt(D)/10,F=D/(i.length+1),Z=Math.sqrt(F),J=r.gravity,it=r.speed,dt=r.clustering,bt={};if(dt){i.forEach(function(wt){if(bt[wt.cluster]===void 0){var zt={name:wt.cluster,cx:0,cy:0,count:0};bt[wt.cluster]=zt}var Kt=bt[wt.cluster];Cr(wt.x)&&(Kt.cx+=wt.x),Cr(wt.y)&&(Kt.cy+=wt.y),Kt.count++});for(var Dt in bt)bt[Dt].cx/=bt[Dt].count,bt[Dt].cy/=bt[Dt].count}if(typeof window!="undefined"){var At=0;return this.timeInterval=window.setInterval(function(){if(!!i){var wt=[];if(i.forEach(function(ee,re){wt[re]={x:0,y:0}}),r.applyCalculate(i,l,wt,Z,F),dt){var zt=r.clusterGravity||J;i.forEach(function(ee,re){if(!(!Cr(ee.x)||!Cr(ee.y))){var fe=bt[ee.cluster],ce=Math.sqrt((ee.x-fe.cx)*(ee.x-fe.cx)+(ee.y-fe.cy)*(ee.y-fe.cy)),Ae=Z*zt;wt[re].x-=Ae*(ee.x-fe.cx)/ce,wt[re].y-=Ae*(ee.y-fe.cy)/ce}});for(var Kt in bt)bt[Kt].cx=0,bt[Kt].cy=0,bt[Kt].count=0;i.forEach(function(ee){var re=bt[ee.cluster];Cr(ee.x)&&(re.cx+=ee.x),Cr(ee.y)&&(re.cy+=ee.y),re.count++});for(var $t in bt)bt[$t].cx/=bt[$t].count,bt[$t].cy/=bt[$t].count}i.forEach(function(ee,re){if(!(!Cr(ee.x)||!Cr(ee.y))){var fe=.01*Z*J;wt[re].x-=fe*(ee.x-v[0]),wt[re].y-=fe*(ee.y-v[1])}}),i.forEach(function(ee,re){if(Cr(ee.fx)&&Cr(ee.fy)){ee.x=ee.fx,ee.y=ee.fy;return}if(!(!Cr(ee.x)||!Cr(ee.y))){var fe=Math.sqrt(wt[re].x*wt[re].x+wt[re].y*wt[re].y);if(fe>0){var ce=Math.min(R*(it/uu),fe);ee.x+=wt[re].x/fe*ce,ee.y+=wt[re].y/fe*ce}}}),r.tick&&r.tick(),At++,At>=d&&(r.onLayoutEnd&&r.onLayoutEnd(),window.clearInterval(r.timeInterval))}},0),{nodes:i,edges:l}}}}},{key:"applyCalculate",value:function(r,i,l,d,v){var D=this;D.calRepulsive(r,l,v),i&&D.calAttractive(i,l,d)}},{key:"calRepulsive",value:function(r,i,l){r.forEach(function(d,v){i[v]={x:0,y:0},r.forEach(function(D,R){if(v!==R&&!(!Cr(d.x)||!Cr(D.x)||!Cr(d.y)||!Cr(D.y))){var F=d.x-D.x,Z=d.y-D.y,J=F*F+Z*Z;if(J===0){J=1;var it=v>R?1:-1;F=.01*it,Z=.01*it}var dt=l/J;i[v].x+=F*dt,i[v].y+=Z*dt}})})}},{key:"calAttractive",value:function(r,i,l){var d=this;r.forEach(function(v){if(!(!v.source||!v.target)){var D=d.nodeIdxMap[v.source],R=d.nodeIdxMap[v.target];if(D!==R){var F=d.nodeMap[v.source],Z=d.nodeMap[v.target];if(!(!Cr(Z.x)||!Cr(F.x)||!Cr(Z.y)||!Cr(F.y))){var J=Z.x-F.x,it=Z.y-F.y,dt=Math.sqrt(J*J+it*it),bt=dt*dt/l;i[R].x-=J/dt*bt,i[R].y-=it/dt*bt,i[D].x+=J/dt*bt,i[D].y+=it/dt*bt}}}})}},{key:"stop",value:function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0}},{key:"getType",value:function(){return"fruchterman"}}]),t}(_r),Hg=a("/wRx"),ti=a.n(Hg),vl=a("RHEd"),Da=a.n(vl),Lb=a("16OP"),Zi=a.n(Lb),jb=a("7Nom"),$i=a.n(jb),Rb=a("4OuL"),Ua=a.n(Rb),HC=a("r1m7"),Pe=a("2Pg9"),bi=a("YcyD");function Yg(u){return typeof u=="number"}function Ju(u){return u===void 0?0:u>360||u<-360?u%360:u}function Jf(u,n,t){return Yg(u)?Rr.e.fromValues(u,n,t):u.length===3?Rr.e.clone(u):Rr.e.fromValues(u[0],u[1],u[2])}var Ip=function(){function u(n,t){Zi()(this,u),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=n,this.matrix=Rr.b.clone(t.matrix),this.right=Rr.e.clone(t.right),this.up=Rr.e.clone(t.up),this.forward=Rr.e.clone(t.forward),this.position=Rr.e.clone(t.position),this.focalPoint=Rr.e.clone(t.focalPoint),this.distanceVector=Rr.e.clone(t.distanceVector),this.azimuth=t.azimuth,this.elevation=t.elevation,this.roll=t.roll,this.relAzimuth=t.relAzimuth,this.relElevation=t.relElevation,this.relRoll=t.relRoll,this.dollyingStep=t.dollyingStep,this.distance=t.distance}return $i()(u,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=Rr.b.copy(t.matrix,this.matrix),t.right=Rr.e.copy(t.right,this.right),t.up=Rr.e.copy(t.up,this.up),t.forward=Rr.e.copy(t.forward,this.forward),t.position=Rr.e.copy(t.position,this.position),t.focalPoint=Rr.e.copy(t.focalPoint,this.focalPoint),t.distanceVector=Rr.e.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),u}(),Lp,jp,Rp,Kg,wp,Bp,Np,ma;(function(u){u.ORBITING="ORBITING",u.EXPLORING="EXPLORING",u.TRACKING="TRACKING"})(ma||(ma={}));var Yv;(function(u){u.DEFAULT="DEFAULT",u.ROTATIONAL="ROTATIONAL",u.TRANSLATIONAL="TRANSLATIONAL",u.CINEMATIC="CINEMATIC"})(Yv||(Yv={}));var qf;(function(u){u.ORTHOGRAPHIC="ORTHOGRAPHIC",u.PERSPECTIVE="PERSPECTIVE"})(qf||(qf={}));var qu=Math.PI/180,Zc=180/Math.PI,Fp=(Lp=Object(bi.injectable)(),jp=Object(bi.inject)(Pe.IDENTIFIER.InteractorService),Lp(Rp=(Kg=(Np=Bp=function(){function u(){Zi()(this,u),this.matrix=Rr.b.create(),this.right=Rr.e.fromValues(1,0,0),this.up=Rr.e.fromValues(0,1,0),this.forward=Rr.e.fromValues(0,0,1),this.position=Rr.e.fromValues(0,0,1),this.focalPoint=Rr.e.fromValues(0,0,0),this.distanceVector=Rr.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=Infinity,this.minDistance=-Infinity,this.rotateWorld=!1,Da()(this,"interactor",wp,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Rr.b.create(),this.view=void 0,this.following=void 0,this.type=ma.EXPLORING,this.trackingMode=Yv.DEFAULT,this.projectionMode=qf.PERSPECTIVE,this.frustum=new Pe.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return $i()(u,[{key:"clone",value:function(){var t=new u;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===ma.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===ma.TRACKING&&e!==void 0&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==ma.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return Rr.b.invert(Rr.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,r,i,l,d){return this.aspect=t/e,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=i,this.view.width=l,this.view.height=d,this.projectionMode===qf.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===qf.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,r,i){return this.projectionMode=qf.PERSPECTIVE,this.fov=r,this.near=t,this.far=e,this.aspect=i,Rr.b.perspective(this.perspective,this.fov*qu,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,r,i,l,d){this.projectionMode=qf.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=r,this.bottom=i,this.near=l,this.far=d;var v=(this.rright-this.left)/(2*this.zoom),D=(this.top-this.bottom)/(2*this.zoom),R=(this.rright+this.left)/2,F=(this.top+this.bottom)/2,Z=R-v,J=R+v,it=F+D,dt=F-D;if(this.view!==void 0&&this.view.enabled){var bt=(this.rright-this.left)/this.view.fullWidth/this.zoom,Dt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;Z+=bt*this.view.offsetX,J=Z+bt*this.view.width,it-=Dt*this.view.offsetY,dt=it-Dt*this.view.height}return Rr.b.ortho(this.perspective,Z,J,it,dt,l,d),this}},{key:"setPosition",value:function(t,e,r){return this._setPosition(t,e,r),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,r){var i=Rr.e.fromValues(0,1,0);if(this.focalPoint=Jf(t,e,r),this.trackingMode===Yv.CINEMATIC){var l=Rr.e.subtract(Rr.e.create(),this.focalPoint,this.position);t=l[0],e=l[1],r=l[2];var d=Rr.e.length(l),v=Math.asin(e/d)*Zc,D=90+Math.atan2(r,t)*Zc,R=Rr.b.create();Rr.b.rotateY(R,R,D*qu),Rr.b.rotateX(R,R,v*qu),i=Rr.e.transformMat4(Rr.e.create(),[0,1,0],R)}return Rr.b.invert(this.matrix,Rr.b.lookAt(Rr.b.create(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var e=Rr.e.create();t=this.distance;var r=this.forward,i=this.focalPoint;return e[0]=t*r[0]+i[0],e[1]=t*r[1]+i[1],e[2]=t*r[2]+i[2],this._setPosition(e),this}}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=Ju(t),this.computeMatrix(),this._getAxes(),this.type===ma.ORBITING||this.type===ma.EXPLORING?this._getPosition():this.type===ma.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=Ju(t),this.computeMatrix(),this._getAxes(),this.type===ma.ORBITING||this.type===ma.EXPLORING?this._getPosition():this.type===ma.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=Ju(t),this.computeMatrix(),this._getAxes(),this.type===ma.ORBITING||this.type===ma.EXPLORING?this._getPosition():this.type===ma.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,r){if(this.type===ma.EXPLORING){t=Ju(t),e=Ju(e),r=Ju(r);var i=Rr.c.setAxisAngle(Rr.c.create(),[1,0,0],(this.rotateWorld?1:-1)*e*qu),l=Rr.c.setAxisAngle(Rr.c.create(),[0,1,0],(this.rotateWorld?1:-1)*t*qu),d=Rr.c.setAxisAngle(Rr.c.create(),[0,0,1],r*qu),v=Rr.c.multiply(Rr.c.create(),l,i);v=Rr.c.multiply(Rr.c.create(),v,d);var D=Rr.b.fromQuat(Rr.b.create(),v);Rr.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),Rr.b.multiply(this.matrix,this.matrix,D),Rr.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+e)>90)return;this.relElevation=Ju(e),this.relAzimuth=Ju(t),this.relRoll=Ju(r),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===ma.ORBITING||this.type===ma.EXPLORING?this._getPosition():this.type===ma.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var r=Jf(t,e,0),i=Rr.e.clone(this.position);return Rr.e.add(i,i,Rr.e.scale(Rr.e.create(),this.right,r[0])),Rr.e.add(i,i,Rr.e.scale(Rr.e.create(),this.up,r[1])),this._setPosition(i),this}},{key:"dolly",value:function(t){var e=this.forward,r=Rr.e.clone(this.position),i=t*this.dollyingStep,l=this.distance+t*this.dollyingStep;return i=Math.max(Math.min(l,this.maxDistance),this.minDistance)-this.distance,r[0]+=i*e[0],r[1]+=i*e[1],r[2]+=i*e[2],this._setPosition(r),this.type===ma.ORBITING||this.type===ma.EXPLORING?this._getDistance():this.type===ma.TRACKING&&Rr.e.add(this.focalPoint,r,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var r=this.clone();r.setPosition(e.position),r.setFocalPoint(e.focalPoint),e.roll!==void 0&&r.setRoll(e.roll);var i=new Ip(t,r);return this.landmarks.push(i),i}},{key:"setLandmark",value:function(t){var e=new Ip(t,this);return this.landmarks.push(e),this}},{key:"gotoLandmark",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,i=this.landmarks.find(function(F){return F.name===t});if(i){if(r===0){i.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var l=i.getPosition(),d=i.getFocalPoint(),v=i.getRoll(),D,R=function F(Z){D===void 0&&(D=Z);var J=Z-D,it=(1-Math.cos(J/r*Math.PI))/2,dt=Rr.e.create(),bt=Rr.e.create(),Dt=0;Rr.e.lerp(dt,e.focalPoint,d,it),Rr.e.lerp(bt,e.position,l,it),Dt=e.roll*(1-it)+v*it,e.setFocalPoint(dt),e.setPosition(bt),e.setRoll(Dt),e.computeMatrix();var At=Rr.e.dist(dt,d)+Rr.e.dist(bt,l);if(!(At>.01)){e.setFocalPoint(dt),e.setPosition(bt),e.setRoll(Dt),e.computeMatrix(),e.interactor.connect();return}J<r&&(e.landmarkAnimationID=window.requestAnimationFrame(F))};window.requestAnimationFrame(R)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,e,r=Rr.c.setAxisAngle(Rr.c.create(),[0,0,1],this.roll*qu);Rr.b.identity(this.matrix),t=Rr.c.setAxisAngle(Rr.c.create(),[1,0,0],(this.rotateWorld&&this.type!==ma.TRACKING||this.type===ma.TRACKING?1:-1)*this.elevation*qu),e=Rr.c.setAxisAngle(Rr.c.create(),[0,1,0],(this.rotateWorld&&this.type!==ma.TRACKING||this.type===ma.TRACKING?1:-1)*this.azimuth*qu);var i=Rr.c.multiply(Rr.c.create(),e,t);i=Rr.c.multiply(Rr.c.create(),i,r);var l=Rr.b.fromQuat(Rr.b.create(),i);this.type===ma.ORBITING||this.type===ma.EXPLORING?(Rr.b.translate(this.matrix,this.matrix,this.focalPoint),Rr.b.multiply(this.matrix,this.matrix,l),Rr.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===ma.TRACKING&&(Rr.b.translate(this.matrix,this.matrix,this.position),Rr.b.multiply(this.matrix,this.matrix,l))}},{key:"_setPosition",value:function(t,e,r){this.position=Jf(t,e,r);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1}},{key:"_getAxes",value:function(){Rr.e.copy(this.right,Jf(Rr.f.transformMat4(Rr.f.create(),[1,0,0,0],this.matrix))),Rr.e.copy(this.up,Jf(Rr.f.transformMat4(Rr.f.create(),[0,1,0,0],this.matrix))),Rr.e.copy(this.forward,Jf(Rr.f.transformMat4(Rr.f.create(),[0,0,1,0],this.matrix))),Rr.e.normalize(this.right,this.right),Rr.e.normalize(this.up,this.up),Rr.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],r=this.distanceVector[2],i=Rr.e.length(this.distanceVector);if(i===0){this.elevation=0,this.azimuth=0;return}this.type===ma.TRACKING?(this.elevation=Math.asin(e/i)*Zc,this.azimuth=Math.atan2(-t,-r)*Zc):this.rotateWorld?(this.elevation=Math.asin(e/i)*Zc,this.azimuth=Math.atan2(-t,-r)*Zc):(this.elevation=-Math.asin(e/i)*Zc,this.azimuth=-Math.atan2(-t,-r)*Zc)}},{key:"_getPosition",value:function(){Rr.e.copy(this.position,Jf(Rr.f.transformMat4(Rr.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Rr.e.transformMat3(this.distanceVector,[0,0,-this.distance],Rr.a.fromMat4(Rr.a.create(),this.matrix)),Rr.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Rr.e.subtract(Rr.e.create(),this.focalPoint,this.position),this.distance=Rr.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),u}(),Bp.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},Np),wp=Ua()(Kg.prototype,"interactor",[jp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kg))||Rp),Gp,Up,Wp,_g,zp,Hd,kp,$c=(Gp=Object(bi.injectable)(),Up=Object(bi.inject)(Pe.IDENTIFIER.GeometryComponentManager),Gp(Wp=(_g=(kp=Hd=function(){function u(){Zi()(this,u),this.config=void 0,Da()(this,"geometry",zp,this),this.entity=void 0,this.component=void 0}return $i()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.component=this.geometry.create(t),this.component.entity=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),u}(),Hd.BOX="box",Hd.SPHERE="sphere",Hd.PLANE="plane",Hd.MERGED="merged",kp),zp=Ua()(_g.prototype,"geometry",[Up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_g))||Wp),wb=a("qaCK"),po=a.n(wb),Bb=a("QJLF"),Yr=a.n(Bb),En=a("weX+");function Vp(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var Nb={}.toString,Fb=function(n,t){return Nb.call(n)==="[object "+t+"]"},Gb=Fb,Ub=function(u){return Array.isArray?Array.isArray(u):Gb(u,"Array")},Wb=a("gXEi"),Yd=a.n(Wb),zb=9007199254740991,kb="[object Arguments]",Vb="[object Array]",Xb="[object Boolean]",Hb="[object Date]",Yb="[object Error]",Kb="[object Function]",_b="[object Map]",Zb="[object Number]",$b="[object Object]",Qb="[object RegExp]",Jb="[object Set]",qb="[object String]",tO="[object WeakMap]",eO="[object ArrayBuffer]",rO="[object DataView]",nO="[object Float32Array]",iO="[object Float64Array]",aO="[object Int8Array]",oO="[object Int16Array]",sO="[object Int32Array]",lO="[object Uint8Array]",uO="[object Uint8ClampedArray]",cO="[object Uint16Array]",fO="[object Uint32Array]",Ja={};Ja[nO]=Ja[iO]=Ja[aO]=Ja[oO]=Ja[sO]=Ja[lO]=Ja[uO]=Ja[cO]=Ja[fO]=!0,Ja[kb]=Ja[Vb]=Ja[eO]=Ja[Xb]=Ja[rO]=Ja[Hb]=Ja[Yb]=Ja[Kb]=Ja[_b]=Ja[Zb]=Ja[$b]=Ja[Qb]=Ja[Jb]=Ja[qb]=Ja[tO]=!1;function YC(u){return function(n){return u(n)}}var hO=Object.prototype,dO=hO.toString;function vO(u){return pO(u)&&gO(u.length)&&!!Ja[dO.call(u)]}function gO(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=zb}function pO(u){return!!u&&Yd()(u)==="object"}var Xp=vO,Hp,Yp,Kp,_p,Kv,Zp,$p,Qp;function Jp(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function qp(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Jp(Object(t),!0).forEach(function(e){Yr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):Jp(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var ty=(Hp=Object(bi.injectable)(),Yp=Object(bi.inject)(Pe.IDENTIFIER.RenderEngine),Kp=Object(bi.inject)(Pe.IDENTIFIER.ConfigService),Hp(_p=(Kv=(Qp=function(){function u(){Zi()(this,u),Da()(this,"engine",Zp,this),Da()(this,"configService",$p,this),this.entity=Object(Pe.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return $i()(u,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,r=t.engineOptions;this.initPromise=this.engine.init(qp({canvas:e||Vp(),swapChainFormat:En.TextureFormat.BGRA8Unorm,antialiasing:!1},r))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var r=this;if(typeof t=="string"){var i=Yg(e)||Xp(e)||Ub(e);if(this.compiledBundle&&this.compiledBundle.context){var l=this.compiledBundle.context.defines.find(function(v){return v.name===t});if(l)return l.value=e,this;var d=this.compiledBundle.context.uniforms.find(function(v){return v.name===t});d&&(i?(d.data=e,d.isReferer=!1,d.storageClass===Pe.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(d.isReferer=!0,d.data=e))}}else Object.keys(t).forEach(function(v){r.setBinding(v,t[v])});return this}},{key:"execute",value:function(){var n=po()(ti.a.mark(function e(){var r=this,i,l,d=arguments;return ti.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(i=d.length>0&&d[0]!==void 0?d[0]:1,!this.dirty){D.next=6;break}return this.compiledBundle.context&&(i>1?this.compiledBundle.context.maxIteration=i:this.compiledBundle.context.maxIteration++),D.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(R){var F=R.isReferer;return F}).forEach(function(R){var F=R.data,Z=R.name;r.model.confirmInput(F.model,Z)}),l=0;l<i;l++)this.model.run();return this.engine.endFrame(),D.abrupt("return",this);case 12:case"end":return D.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getOutput",value:function(){var n=po()(ti.a.mark(function e(){return ti.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.model.readData());case 1:case"end":return i.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"compile",value:function(){var n=po()(ti.a.mark(function e(){var r,i,l;return ti.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.initPromise;case 2:return r=qp({},this.compiledBundle.context),i=this.engine.supportWebGPU?this.engine.useWGSL?Pe.Target.WGSL:Pe.Target.GLSL450:Pe.Target.GLSL100,l=this.compiledBundle.shaders[i],r.defines.filter(function(D){return D.runtime}).forEach(function(D){var R="".concat(Pe.DefineValuePlaceholder).concat(D.name);l=l.replace(R,"".concat(D.value))}),r.shader=l,r.uniforms.forEach(function(D){if(!D.data&&D.storageClass===Pe.STORAGE_CLASS.StorageBuffer){var R=1;D.type===Pe.AST_TOKEN_TYPES.FloatArray?R=1:D.type===Pe.AST_TOKEN_TYPES.Vector4FloatArray&&(R=4),D.data=new Float32Array(r.output.length*R).fill(0)}}),this.compiledBundle.context=r,v.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=v.sent;case 12:case"end":return v.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),u}(),Qp),Zp=Ua()(Kv.prototype,"engine",[Yp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=Ua()(Kv.prototype,"configService",[Kp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kv))||_p),ey,ry,ny,Zg,iy,ay,oy,sy=(ey=Object(bi.injectable)(),ry=Object(bi.inject)(Pe.IDENTIFIER.MaterialComponentManager),ey(ny=(Zg=(oy=ay=function(){function u(){Zi()(this,u),this.config=void 0,Da()(this,"material",iy,this),this.entity=void 0,this.component=void 0}return $i()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t,e){this.entity=t,this.component=this.material.create(t),this.component.entity=t,this.component.type=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),u}(),ay.BASIC="basic",oy),iy=Ua()(Zg.prototype,"material",[ry],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zg))||ny),ly,uy,cy,fy,hy,dy,vy,Xh,gy,py,yy,my,_v,by,Qc=(ly=Object(bi.injectable)(),uy=Object(bi.inject)(Pe.IDENTIFIER.MeshComponentManager),cy=Object(bi.inject)(Pe.IDENTIFIER.CullableComponentManager),fy=Object(bi.inject)(Pe.IDENTIFIER.TransformComponentManager),hy=Object(bi.inject)(Pe.IDENTIFIER.Systems),dy=Object(bi.named)(Pe.IDENTIFIER.SceneGraphSystem),ly(vy=(Xh=(by=_v=function(){function u(){Zi()(this,u),this.attributes={},this.config=void 0,Da()(this,"mesh",gy,this),Da()(this,"cullable",py,this),Da()(this,"transform",yy,this),Da()(this,"sceneGraphSystem",my,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return $i()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var e=this;Object.keys(t).forEach(function(r){t[r]!==void 0&&t[r]!==e.attributes[r]&&(e.onAttributeChanged({name:r,data:t[r]}),e.attributes[r]=t[r])})}},{key:"setVisible",value:function(t){var e=this;return this.meshComponent.visible=t,this.meshComponent.children.forEach(function(r){var i=e.mesh.getComponentByEntity(r);i&&(i.visible=t)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,r=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),r)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),u}(),_v.POINT="point",_v.LINE="line",_v.GRID="grid",by),gy=Ua()(Xh.prototype,"mesh",[uy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),py=Ua()(Xh.prototype,"cullable",[cy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yy=Ua()(Xh.prototype,"transform",[fy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),my=Ua()(Xh.prototype,"sceneGraphSystem",[hy,dy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh))||vy),yO=a("T0ZP"),mO=a.n(yO),bO=function(){function u(n,t){Zi()(this,u),this.attribute=void 0,this.buffer=void 0;var e=t.buffer,r=t.offset,i=t.stride,l=t.normalized,d=t.size,v=t.divisor;this.buffer=e,this.attribute={buffer:e.get(),offset:r||0,stride:i||0,normalized:l||!1,divisor:v||0},d&&(this.attribute.size=d)}return $i()(u,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),tc,Kd,ec,gl,_d,Jc,Zd,Zv,cu,th,ns,fu,hu,$v,OO=(tc={},Yr()(tc,Pe.gl.POINTS,"points"),Yr()(tc,Pe.gl.LINES,"lines"),Yr()(tc,Pe.gl.LINE_LOOP,"line loop"),Yr()(tc,Pe.gl.LINE_STRIP,"line strip"),Yr()(tc,Pe.gl.TRIANGLES,"triangles"),Yr()(tc,Pe.gl.TRIANGLE_FAN,"triangle fan"),Yr()(tc,Pe.gl.TRIANGLE_STRIP,"triangle strip"),tc),Oy=(Kd={},Yr()(Kd,Pe.gl.STATIC_DRAW,"static"),Yr()(Kd,Pe.gl.DYNAMIC_DRAW,"dynamic"),Yr()(Kd,Pe.gl.STREAM_DRAW,"stream"),Kd),$g=(ec={},Yr()(ec,Pe.gl.BYTE,"int8"),Yr()(ec,Pe.gl.UNSIGNED_INT,"int16"),Yr()(ec,Pe.gl.INT,"int32"),Yr()(ec,Pe.gl.UNSIGNED_BYTE,"uint8"),Yr()(ec,Pe.gl.UNSIGNED_SHORT,"uint16"),Yr()(ec,Pe.gl.UNSIGNED_INT,"uint32"),Yr()(ec,Pe.gl.FLOAT,"float"),ec),xO=(gl={},Yr()(gl,Pe.gl.ALPHA,"alpha"),Yr()(gl,Pe.gl.LUMINANCE,"luminance"),Yr()(gl,Pe.gl.LUMINANCE_ALPHA,"luminance alpha"),Yr()(gl,Pe.gl.RGB,"rgb"),Yr()(gl,Pe.gl.RGBA,"rgba"),Yr()(gl,Pe.gl.RGBA4,"rgba4"),Yr()(gl,Pe.gl.RGB5_A1,"rgb5 a1"),Yr()(gl,Pe.gl.RGB565,"rgb565"),Yr()(gl,Pe.gl.DEPTH_COMPONENT,"depth"),Yr()(gl,Pe.gl.DEPTH_STENCIL,"depth stencil"),gl),EO=(_d={},Yr()(_d,Pe.gl.DONT_CARE,"dont care"),Yr()(_d,Pe.gl.NICEST,"nice"),Yr()(_d,Pe.gl.FASTEST,"fast"),_d),xy=(Jc={},Yr()(Jc,Pe.gl.NEAREST,"nearest"),Yr()(Jc,Pe.gl.LINEAR,"linear"),Yr()(Jc,Pe.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),Yr()(Jc,Pe.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Yr()(Jc,Pe.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Yr()(Jc,Pe.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Jc),Ey=(Zd={},Yr()(Zd,Pe.gl.REPEAT,"repeat"),Yr()(Zd,Pe.gl.CLAMP_TO_EDGE,"clamp"),Yr()(Zd,Pe.gl.MIRRORED_REPEAT,"mirror"),Zd),SO=(Zv={},Yr()(Zv,Pe.gl.NONE,"none"),Yr()(Zv,Pe.gl.BROWSER_DEFAULT_WEBGL,"browser"),Zv),MO=(cu={},Yr()(cu,Pe.gl.NEVER,"never"),Yr()(cu,Pe.gl.ALWAYS,"always"),Yr()(cu,Pe.gl.LESS,"less"),Yr()(cu,Pe.gl.LEQUAL,"lequal"),Yr()(cu,Pe.gl.GREATER,"greater"),Yr()(cu,Pe.gl.GEQUAL,"gequal"),Yr()(cu,Pe.gl.EQUAL,"equal"),Yr()(cu,Pe.gl.NOTEQUAL,"notequal"),cu),Sy=(th={},Yr()(th,Pe.gl.FUNC_ADD,"add"),Yr()(th,Pe.gl.MIN_EXT,"min"),Yr()(th,Pe.gl.MAX_EXT,"max"),Yr()(th,Pe.gl.FUNC_SUBTRACT,"subtract"),Yr()(th,Pe.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),th),Qv=(ns={},Yr()(ns,Pe.gl.ZERO,"zero"),Yr()(ns,Pe.gl.ONE,"one"),Yr()(ns,Pe.gl.SRC_COLOR,"src color"),Yr()(ns,Pe.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),Yr()(ns,Pe.gl.SRC_ALPHA,"src alpha"),Yr()(ns,Pe.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Yr()(ns,Pe.gl.DST_COLOR,"dst color"),Yr()(ns,Pe.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),Yr()(ns,Pe.gl.DST_ALPHA,"dst alpha"),Yr()(ns,Pe.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Yr()(ns,Pe.gl.CONSTANT_COLOR,"constant color"),Yr()(ns,Pe.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Yr()(ns,Pe.gl.CONSTANT_ALPHA,"constant alpha"),Yr()(ns,Pe.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Yr()(ns,Pe.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),ns),CO=(fu={},Yr()(fu,Pe.gl.NEVER,"never"),Yr()(fu,Pe.gl.ALWAYS,"always"),Yr()(fu,Pe.gl.LESS,"less"),Yr()(fu,Pe.gl.LEQUAL,"lequal"),Yr()(fu,Pe.gl.GREATER,"greater"),Yr()(fu,Pe.gl.GEQUAL,"gequal"),Yr()(fu,Pe.gl.EQUAL,"equal"),Yr()(fu,Pe.gl.NOTEQUAL,"notequal"),fu),Hh=(hu={},Yr()(hu,Pe.gl.ZERO,"zero"),Yr()(hu,Pe.gl.KEEP,"keep"),Yr()(hu,Pe.gl.REPLACE,"replace"),Yr()(hu,Pe.gl.INVERT,"invert"),Yr()(hu,Pe.gl.INCR,"increment"),Yr()(hu,Pe.gl.DECR,"decrement"),Yr()(hu,Pe.gl.INCR_WRAP,"increment wrap"),Yr()(hu,Pe.gl.DECR_WRAP,"decrement wrap"),hu),AO=($v={},Yr()($v,Pe.gl.FRONT,"front"),Yr()($v,Pe.gl.BACK,"back"),$v),TO=function(){function u(n,t){Zi()(this,u),this.buffer=void 0;var e=t.data,r=t.usage,i=t.type;this.buffer=n.buffer({data:e,usage:Oy[r||Pe.gl.STATIC_DRAW],type:$g[i||Pe.gl.UNSIGNED_BYTE]})}return $i()(u,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.buffer.subdata(e,r)}}]),u}(),DO=a("Zxkt"),Eo=a.n(DO),PO=9007199254740991,IO="[object Arguments]",LO="[object Array]",jO="[object Boolean]",RO="[object Date]",wO="[object Error]",BO="[object Function]",NO="[object Map]",FO="[object Number]",GO="[object Object]",UO="[object RegExp]",WO="[object Set]",zO="[object String]",kO="[object WeakMap]",VO="[object ArrayBuffer]",XO="[object DataView]",HO="[object Float32Array]",YO="[object Float64Array]",KO="[object Int8Array]",_O="[object Int16Array]",ZO="[object Int32Array]",$O="[object Uint8Array]",QO="[object Uint8ClampedArray]",JO="[object Uint16Array]",qO="[object Uint32Array]",qa={};qa[HO]=qa[YO]=qa[KO]=qa[_O]=qa[ZO]=qa[$O]=qa[QO]=qa[JO]=qa[qO]=!0,qa[IO]=qa[LO]=qa[VO]=qa[jO]=qa[XO]=qa[RO]=qa[wO]=qa[BO]=qa[NO]=qa[FO]=qa[GO]=qa[UO]=qa[WO]=qa[zO]=qa[kO]=!1;function KC(u){return function(n){return u(n)}}var tx=Object.prototype,ex=tx.toString;function rx(u){return ix(u)&&nx(u.length)&&!!qa[ex.call(u)]}function nx(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=PO}function ix(u){return!!u&&Yd()(u)==="object"}var Qg=rx;function My(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function Cy(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?My(Object(t),!0).forEach(function(e){Yr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):My(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var ax=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,Ay=0,Jv=!1,ox=function(){function u(n,t){var e=this;Zi()(this,u),this.reGl=n,this.context=t,this.entity=Object(Pe.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var r={};this.context.uniforms.forEach(function(D){var R=D.name,F=D.type,Z=D.data,J=D.isReferer,it=D.storageClass;if(it===Pe.STORAGE_CLASS.StorageBuffer){if(J)e.textureCache[R]={data:void 0},r["".concat(R,"Size")]=function(){return Z.compiledBundle.context.output.textureSize};else{e.textureCache[R]=e.calcDataTexture(R,F,Z);var dt=e.textureCache[R],bt=dt.textureWidth,Dt=dt.isOutput;r["".concat(R,"Size")]=[bt,bt],Dt&&(e.outputTextureName=R,e.context.needPingpong&&(e.outputTextureName="".concat(R,"Output"),e.textureCache[e.outputTextureName]=e.calcDataTexture(R,F,Z)))}r[R]=function(){return Jv&&console.log("[".concat(e.entity,"]: ").concat(R," ").concat(e.textureCache[R].id)),e.textureCache[R].texture}}else if(it===Pe.STORAGE_CLASS.Uniform){if(Z&&(Array.isArray(Z)||Qg(Z))&&Z.length>16)throw new Error("invalid data type ".concat(F));r[R]=function(){return D.data}}});var i=this.getOuputDataTexture(),l=i.textureWidth,d=i.texelCount;r.u_OutputTextureSize=[l,l],r.u_OutputTexelCount=d,this.context.output.textureSize=[l,l];var v={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:r,vert:ax,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(v)}return $i()(u,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),Jv&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var n=po()(ti.a.mark(function e(){var r=this,i,l,d,v,D,R,F,Z;return ti.a.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){i=r.reGl.read()}),!i){it.next=6;break}if(l=this.getOuputDataTexture(),d=l.originalDataLength,v=l.elementsPerTexel,D=l.typedArrayConstructor,R=D===void 0?Float32Array:D,F=[],v!==4)for(Z=0;Z<i.length;Z+=4)v===1?F.push(i[Z]):v===2?F.push(i[Z],i[Z+1]):F.push(i[Z],i[Z+1],i[Z+2]);else F=i;return it.abrupt("return",new R(F.slice(0,d)));case 6:return it.abrupt("return",new Float32Array);case 7:case"end":return it.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"confirmInput",value:function(t,e){var r;this.entity===t.entity?(this.dynamicPingpong=!0,r=this):r=t,this.textureCache[e].id=r.getOuputDataTexture().id,this.textureCache[e].texture=r.getOuputDataTexture().texture,Jv&&console.log("[".concat(this.entity,"]: confirm input ").concat(e," from model ").concat(r.entity,", ").concat(r.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=this.context.uniforms.find(function(D){var R=D.name;return R===t});if(i){var l=this.calcDataTexture(t,i.type,e),d=l.texture,v=l.data;this.textureCache[t].data=v,this.textureCache[t].texture=d}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e,Jv&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,r=t.textureWidth;return Cy(Cy({},t),{},{id:Ay++,texture:this.reGl.texture({width:r,height:r,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,r){var i=1;e===Pe.AST_TOKEN_TYPES.Vector4FloatArray&&(i=4);for(var l=[],d=0;d<r.length;d+=i)i===1?l.push(r[d],0,0,0):i===2?l.push(r[d],r[d+1],0,0):i===3?l.push(r[d],r[d+1],r[d+2],0):i===4&&l.push(r[d],r[d+1],r[d+2],r[d+3]);var v=r.length,D=Math.ceil(v/i),R=Math.ceil(Math.sqrt(D)),F=R*R;D<F&&l.push.apply(l,Eo()(new Array((F-D)*4).fill(0)));var Z=this.reGl.texture({width:R,height:R,data:l,type:"float"});return{id:Ay++,data:l,originalDataLength:v,typedArrayConstructor:Qg(r)?r.constructor:void 0,textureWidth:R,texture:Z,texelCount:D,elementsPerTexel:i,isOutput:t===this.context.output.name}}}]),u}(),sx=function(){function u(n,t){Zi()(this,u),this.elements=void 0;var e=t.data,r=t.usage,i=t.type,l=t.count;this.elements=n.elements({data:e,usage:Oy[r||Pe.gl.STATIC_DRAW],type:$g[i||Pe.gl.UNSIGNED_BYTE],count:l})}return $i()(u,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),u}(),lx=function(){function u(n,t){Zi()(this,u),this.framebuffer=void 0;var e=t.width,r=t.height,i=t.color,l=t.colors,d=t.depth,v=t.stencil,D={width:e,height:r};Array.isArray(l)&&(D.colors=l.map(function(R){return R.get()})),i&&typeof i!="boolean"&&(D.color=i.get()),this.framebuffer=n.framebuffer(D)}return $i()(u,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.framebuffer.resize(e,r)}}]),u}();function ux(u){var n=Yd()(u);return u!=null&&(n==="object"||n==="function")}function $d(u){var n={};return Object.keys(u).forEach(function(t){Jg(t,u[t],n,"")}),n}function Jg(u,n,t,e){if(n===null||typeof n=="number"||typeof n=="boolean"||Array.isArray(n)&&typeof n[0]=="number"||Qg(n)||n===""||n.resize!==void 0){t["".concat(e&&e+".").concat(u)]=n;return}ux(n)&&Object.keys(n).forEach(function(r){Jg(r,n[r],t,"".concat(e&&e+".").concat(u))}),Array.isArray(n)&&n.forEach(function(r,i){Object.keys(r).forEach(function(l){Jg(l,r[l],t,"".concat(e&&e+".").concat(u,"[").concat(i,"]"))})})}function Ty(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function Yh(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ty(Object(t),!0).forEach(function(e){Yr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):Ty(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var cx=function(){function u(n,t){Zi()(this,u),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=n;var e=t.vs,r=t.fs,i=t.defines,l=t.attributes,d=t.uniforms,v=t.primitive,D=t.count,R=t.elements,F=t.depth,Z=t.blend,J=t.stencil,it=t.cull,dt=t.instances,bt=t.scissor,Dt=t.viewport,At={};d&&(this.uniforms=$d(d),Object.keys(d).forEach(function($t){At[$t]=n.prop($t)}));var wt={};Object.keys(l).forEach(function($t){wt[$t]=l[$t].get()});var zt=i&&this.generateDefines(i)||"",Kt={attributes:wt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(zt,`
`).concat(r),uniforms:At,vert:`
`.concat(zt,`
`).concat(e),primitive:OO[v===void 0?Pe.gl.TRIANGLES:v]};dt&&(Kt.instances=dt),D&&(Kt.count=D),R&&(Kt.elements=R.get()),bt&&(Kt.scissor=bt),Dt&&(Kt.viewport=Dt),this.initDepthDrawParams({depth:F},Kt),this.initBlendDrawParams({blend:Z},Kt),this.initStencilDrawParams({stencil:J},Kt),this.initCullDrawParams({cull:it},Kt),this.drawCommand=n(Kt)}return $i()(u,[{key:"addUniforms",value:function(t){this.uniforms=Yh(Yh({},this.uniforms),$d(t))}},{key:"draw",value:function(t){var e=Yh(Yh({},this.uniforms),$d(t.uniforms||{})),r={};Object.keys(e).forEach(function(i){var l=Yd()(e[i]);l==="boolean"||l==="number"||Array.isArray(e[i])||e[i].BYTES_PER_ELEMENT?r[i]=e[i]:l==="string"||(r[i]=e[i].get())}),this.drawCommand(r)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var r=t.depth;r&&(e.depth={enable:r.enable===void 0?!0:!!r.enable,mask:r.mask===void 0?!0:!!r.mask,func:MO[r.func||Pe.gl.LESS],range:r.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var r=t.blend;if(r){var i=r.enable,l=r.func,d=r.equation,v=r.color,D=v===void 0?[0,0,0,0]:v;e.blend={enable:!!i,func:{srcRGB:Qv[l&&l.srcRGB||Pe.gl.SRC_ALPHA],srcAlpha:Qv[l&&l.srcAlpha||Pe.gl.SRC_ALPHA],dstRGB:Qv[l&&l.dstRGB||Pe.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:Qv[l&&l.dstAlpha||Pe.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Sy[d&&d.rgb||Pe.gl.FUNC_ADD],alpha:Sy[d&&d.alpha||Pe.gl.FUNC_ADD]},color:D}}}},{key:"initStencilDrawParams",value:function(t,e){var r=t.stencil;if(r){var i=r.enable,l=r.mask,d=l===void 0?-1:l,v=r.func,D=v===void 0?{cmp:Pe.gl.ALWAYS,ref:0,mask:-1}:v,R=r.opFront,F=R===void 0?{fail:Pe.gl.KEEP,zfail:Pe.gl.KEEP,zpass:Pe.gl.KEEP}:R,Z=r.opBack,J=Z===void 0?{fail:Pe.gl.KEEP,zfail:Pe.gl.KEEP,zpass:Pe.gl.KEEP}:Z;e.stencil={enable:!!i,mask:d,func:Yh(Yh({},D),{},{cmp:CO[D.cmp]}),opFront:{fail:Hh[F.fail],zfail:Hh[F.zfail],zpass:Hh[F.zpass]},opBack:{fail:Hh[J.fail],zfail:Hh[J.zfail],zpass:Hh[J.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var r=t.cull;if(r){var i=r.enable,l=r.face,d=l===void 0?Pe.gl.BACK:l;e.cull={enable:!!i,face:AO[d]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(e){return"#define ".concat(e," ").concat(Number(t[e]))}).join(`
`)}}]),u}(),fx=function(){function u(n,t){Zi()(this,u),this.texture=void 0,this.width=void 0,this.height=void 0;var e=t.data,r=t.type,i=r===void 0?Pe.gl.UNSIGNED_BYTE:r,l=t.width,d=t.height,v=t.flipY,D=v===void 0?!1:v,R=t.format,F=R===void 0?Pe.gl.RGBA:R,Z=t.mipmap,J=Z===void 0?!1:Z,it=t.wrapS,dt=it===void 0?Pe.gl.CLAMP_TO_EDGE:it,bt=t.wrapT,Dt=bt===void 0?Pe.gl.CLAMP_TO_EDGE:bt,At=t.aniso,wt=At===void 0?0:At,zt=t.alignment,Kt=zt===void 0?1:zt,$t=t.premultiplyAlpha,ee=$t===void 0?!1:$t,re=t.mag,fe=re===void 0?Pe.gl.NEAREST:re,ce=t.min,Ae=ce===void 0?Pe.gl.NEAREST:ce,Te=t.colorSpace,cr=Te===void 0?Pe.gl.BROWSER_DEFAULT_WEBGL:Te;this.width=l,this.height=d;var fr={width:l,height:d,type:$g[i],format:xO[F],wrapS:Ey[dt],wrapT:Ey[Dt],mag:xy[fe],min:xy[Ae],alignment:Kt,flipY:D,colorSpace:SO[cr],premultiplyAlpha:ee,aniso:wt};e&&(fr.data=e),typeof J=="number"?fr.mipmap=EO[J]:typeof J=="boolean"&&(fr.mipmap=J),this.texture=n.texture(fr)}return $i()(u,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.texture.resize(e,r),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture.destroy()}}]),u}(),Dy,Py,Iy,hx=(Dy=Object(bi.injectable)(),Dy(Py=(Iy=function(){function u(){var n=this;Zi()(this,u),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=po()(ti.a.mark(function e(r){return ti.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!r.uniforms){l.next=3;break}return l.next=3,Promise.all(Object.keys(r.uniforms).map(function(){var d=po()(ti.a.mark(function v(D){var R;return ti.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(r.uniforms[D]&&r.uniforms[D].load!==void 0)){Z.next=5;break}return Z.next=3,r.uniforms[D].load();case 3:R=Z.sent,r.uniforms[D]=R;case 5:case"end":return Z.stop()}},v)}));return function(v){return d.apply(this,arguments)}}()));case 3:return l.abrupt("return",new cx(n.gl,r));case 4:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new bO(n.gl,t)},this.createBuffer=function(t){return new TO(n.gl,t)},this.createElements=function(t){return new sx(n.gl,t)},this.createTexture2D=function(t){return new fx(n.gl,t)},this.createFramebuffer=function(t){return new lx(n.gl,t)},this.useFramebuffer=function(t,e){n.gl({framebuffer:t?t.get():null})(e)},this.createComputeModel=function(){var t=po()(ti.a.mark(function e(r){return ti.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",new ox(n.gl,r));case 1:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var e=t.color,r=t.depth,i=t.stencil,l=t.framebuffer,d=l===void 0?null:l,v={color:e,depth:r,stencil:i};v.framebuffer=d===null?d:d.get(),n.gl.clear(v)},this.setScissor=function(t){n.gl&&n.gl._gl&&(t.enable&&t.box?(n.gl._gl.enable(Pe.gl.SCISSOR_TEST),n.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):n.gl._gl.disable(Pe.gl.SCISSOR_TEST),n.gl._refresh())},this.viewport=function(t){var e=t.x,r=t.y,i=t.width,l=t.height;n.gl&&n.gl._gl&&(n.gl._gl.viewport(e,r,i,l),n.gl._refresh())},this.readPixels=function(t){var e=t.framebuffer,r=t.x,i=t.y,l=t.width,d=t.height,v={x:r,y:i,width:l,height:d};return e&&(v.framebuffer=e.get()),n.gl.read(v)},this.getCanvas=function(){return n.$canvas},this.getGLContext=function(){return n.gl._gl},this.destroy=function(){n.gl&&(n.gl.destroy(),n.inited=!1)}}return $i()(u,[{key:"init",value:function(){var n=po()(ti.a.mark(function e(r){return ti.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.inited){l.next=2;break}return l.abrupt("return");case 2:return this.$canvas=r.canvas,l.next=5,new Promise(function(d,v){mO()({canvas:r.canvas,attributes:{alpha:!0,antialias:r.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(R,F){(R||!F)&&v(R),d(F)}})});case 5:this.gl=l.sent,this.inited=!0;case 7:case"end":return l.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),u}(),Iy))||Py);function dx(){return typeof window!="undefined"}function vx(u,n,t,e){if(!!dx()){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",u),e&&(i.id=e),i.onload=function(){n&&n()},i.onerror=function(l){t&&t("Unable to load script '".concat(u,"'"),l)},r.appendChild(i)}}function gx(u,n){return new Promise(function(t,e){vx(u,function(){t()},function(r,i){e(i)})})}var qv,px=function(){return qg.apply(this,arguments)};function qg(){return qg=po()(ti.a.mark(function u(){return ti.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!qv){t.next=2;break}return t.abrupt("return",qv);case 2:return t.next=4,gx("https://preview.babylonjs.com/glslang/glslang.js");case 4:return qv=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",qv);case 6:case"end":return t.stop()}},u)})),qg.apply(this,arguments)}var yx=function(){function u(n,t){Zi()(this,u),this.engine=n,this.options=t,this.attribute=void 0,this.buffer=void 0;var e=t,r=e.buffer,i=e.offset,l=e.stride,d=e.normalized,v=e.size,D=e.divisor,R=e.arrayStride,F=e.attributes,Z=e.stepMode;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:l||0,normalized:d||!1,divisor:D||0,arrayStride:R||0,attributes:F,stepMode:Z||"vertex"},v&&(this.attribute.size=v)}return $i()(u,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),Kh=function(){function u(n,t){Zi()(this,u),this.engine=n,this.options=t,this.buffer=void 0;var e=t,r=e.data,i=e.usage,l=e.type;this.buffer=this.createBuffer(r instanceof Array?new Float32Array(r):r,i||En.BufferUsage.Vertex|En.BufferUsage.CopyDst)}return $i()(u,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.setSubData(this.buffer,r,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var r=t.byteLength%4,i={size:t.byteLength+r,usage:e},l=this.engine.device.createBuffer(i);return this.setSubData(l,0,t),l}},{key:"setSubData",value:function(t,e,r){var i=Pe.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;i.writeBuffer(t,e,r)}}]),u}();function mx(u){return typeof u=="number"}var bx=function(){function u(n,t){Zi()(this,u),this.engine=n,this.context=t,this.entity=Object(Pe.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return $i()(u,[{key:"init",value:function(){var n=po()(ti.a.mark(function e(){var r=this,i,l,d,v,D,R,F;return ti.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:i=J.sent,l=i.computeStage,d=this.context.uniforms.filter(function(it){return it.storageClass===Pe.STORAGE_CLASS.StorageBuffer}),v=this.context.uniforms.filter(function(it){return it.storageClass===Pe.STORAGE_CLASS.Uniform}),D=v.length?1:0,this.bindGroupEntries=[],D&&(R=0,F=[],v.forEach(function(it){if(mx(it.data))r.uniformGPUBufferLayout.push({name:it.name,offset:R}),R+=4,F.push(it.data);else{var dt,bt=((dt=it.data)===null||dt===void 0?void 0:dt.length)||1;bt===3&&(bt=4,it.data.push(0));var Dt=R/4%4;if(Dt>0){var At=4-Dt;if(bt>1&&bt<=At)bt===2&&(At===3&&(R+=4,F.push(0)),F.push.apply(F,Eo()(it.data)),r.uniformGPUBufferLayout.push({name:it.name,offset:R}));else{for(var wt=0;wt<At;wt++)R+=4,F.push(0);F.push.apply(F,Eo()(it.data)),r.uniformGPUBufferLayout.push({name:it.name,offset:R})}}R+=4*bt}}),this.uniformBuffer=new Kh(this.engine,{data:F instanceof Array?new Float32Array(F):F,usage:En.BufferUsage.Uniform|En.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),d.forEach(function(it){if(it.data!==null&&(it.type===Pe.AST_TOKEN_TYPES.Vector4FloatArray||it.type===Pe.AST_TOKEN_TYPES.FloatArray)){var dt;it.name===r.context.output.name?(dt=new Kh(r.engine,{data:isFinite(Number(it.data))?[it.data]:it.data,usage:En.BufferUsage.Storage|En.BufferUsage.CopyDst|En.BufferUsage.CopySrc}),r.outputBuffer=dt,r.context.output={name:it.name,length:isFinite(Number(it.data))?1:it.data.length,typedArrayConstructor:Float32Array,gpuBuffer:dt.get()}):it.isReferer?it.data.model&&it.data.model.outputBuffer&&(dt=it.data.model.outputBuffer):dt=new Kh(r.engine,{data:isFinite(Number(it.data))?[it.data]:it.data,usage:En.BufferUsage.Storage|En.BufferUsage.CopyDst|En.BufferUsage.CopySrc}),r.vertexBuffers[it.name]=dt,r.bindGroupEntries.push({binding:D,resource:{name:it.name,refer:dt?void 0:it.data,buffer:dt?dt.get():void 0}}),D++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:l}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return J.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(e){return t.vertexBuffers[e].destroy()})}},{key:"readData",value:function(){var n=po()(ti.a.mark(function e(){var r,i,l,d,v,D,R,F,Z,J;return ti.a.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(r=this.context.output,!r){dt.next=16;break}if(i=r.length,l=r.typedArrayConstructor,d=r.gpuBuffer,!d){dt.next=16;break}return v=i*l.BYTES_PER_ELEMENT,D=this.engine.device.createBuffer({size:v,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),R=this.engine.device.createCommandEncoder(),R.copyBufferToBuffer(d,0,D,0,v),F=Pe.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue,F.submit([R.finish()]),dt.next=12,D.mapAsync(En.MapMode.Read);case 12:return Z=D.getMappedRange(),J=new l(Z.slice(0)),D.unmap(),dt.abrupt("return",J);case 16:return dt.abrupt("return",new Float32Array);case 17:case"end":return dt.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"run",value:function(){if(this.engine.currentComputePass){var t;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,Eo()(this.context.dispatch))}}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=this.vertexBuffers[t];i&&i.subData({data:e,offset:r})}},{key:"updateUniform",value:function(t,e){var r=this.uniformGPUBufferLayout.find(function(i){return i.name===t});r&&this.uniformBuffer.subData({data:Number.isFinite(e)?new Float32Array([e]):new Float32Array(e),offset:r.offset})}},{key:"confirmInput",value:function(t,e){var r=this.vertexBuffers[e],i=t.outputBuffer;if(r&&i&&r!==i){var l=this.engine.device.createCommandEncoder(),d=t.context.output,v=d.length,D=d.typedArrayConstructor,R=v*D.BYTES_PER_ELEMENT;l.copyBufferToBuffer(i.get(),0,r.get(),0,R);var F=Pe.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;F.submit([l.finish()])}}},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:function(){var n=po()(ti.a.mark(function e(r){var i,l;return ti.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(i=r,l=`#version 450
`,this.engine.options.useWGSL){v.next=6;break}return v.next=5,this.compileShaderToSpirV(r,"compute",l);case 5:i=v.sent;case 6:return v.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:i,isWHLSL:Pe.isSafari}),entryPoint:"main"}});case 7:case"end":return v.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()}]),u}(),Ox=function(){function u(n,t){Zi()(this,u),this.engine=n,this.options=t,this.indexCount=void 0,this.buffer=void 0;var e=t,r=e.data,i=e.usage,l=e.type,d=e.count;this.indexCount=d||0,this.buffer=new Kh(n,{data:r instanceof Array?new Uint16Array(r):r,usage:En.BufferUsage.Index|En.BufferUsage.CopyDst})}return $i()(u,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),xx=function(){function u(n,t){Zi()(this,u),this.engine=n,this.options=t,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var e=t,r=e.width,i=e.height,l=e.color,d=e.colors,v=e.depth,D=e.stencil;l&&(this.colorTexture=l),v&&(this.depthTexture=v)}return $i()(u,[{key:"get",value:function(){var t,e;return{color:(t=this.colorTexture)===null||t===void 0?void 0:t.get(),depth:(e=this.depthTexture)===null||e===void 0?void 0:e.get()}}},{key:"destroy",value:function(){var t,e;(t=this.colorTexture)===null||t===void 0||t.destroy(),(e=this.depthTexture)===null||e===void 0||e.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;if(e!==this.width||r!==this.height){var i,l;(i=this.colorTexture)===null||i===void 0||i.resize({width:e,height:r}),(l=this.depthTexture)===null||l===void 0||l.resize({width:e,height:r})}this.width=e,this.height=r}}]),u}(),rc,du,eh,Es,_h,tg,Qd,Ex=(rc={},Yr()(rc,Pe.gl.POINTS,En.PrimitiveTopology.PointList),Yr()(rc,Pe.gl.LINES,En.PrimitiveTopology.LineList),Yr()(rc,Pe.gl.LINE_LOOP,En.PrimitiveTopology.LineList),Yr()(rc,Pe.gl.LINE_STRIP,En.PrimitiveTopology.LineStrip),Yr()(rc,Pe.gl.TRIANGLES,En.PrimitiveTopology.TriangleList),Yr()(rc,Pe.gl.TRIANGLE_FAN,En.PrimitiveTopology.TriangleList),Yr()(rc,Pe.gl.TRIANGLE_STRIP,En.PrimitiveTopology.TriangleStrip),rc),Sx=(du={},Yr()(du,Pe.gl.NEVER,En.CompareFunction.Never),Yr()(du,Pe.gl.ALWAYS,En.CompareFunction.Always),Yr()(du,Pe.gl.LESS,En.CompareFunction.Less),Yr()(du,Pe.gl.LEQUAL,En.CompareFunction.LessEqual),Yr()(du,Pe.gl.GREATER,En.CompareFunction.Greater),Yr()(du,Pe.gl.GEQUAL,En.CompareFunction.GreaterEqual),Yr()(du,Pe.gl.EQUAL,En.CompareFunction.Equal),Yr()(du,Pe.gl.NOTEQUAL,En.CompareFunction.NotEqual),du),Ly=(eh={},Yr()(eh,Pe.gl.FUNC_ADD,En.BlendOperation.Add),Yr()(eh,Pe.gl.MIN_EXT,En.BlendOperation.Min),Yr()(eh,Pe.gl.MAX_EXT,En.BlendOperation.Max),Yr()(eh,Pe.gl.FUNC_SUBTRACT,En.BlendOperation.Subtract),Yr()(eh,Pe.gl.FUNC_REVERSE_SUBTRACT,En.BlendOperation.ReverseSubtract),eh),eg=(Es={},Yr()(Es,Pe.gl.ZERO,En.BlendFactor.Zero),Yr()(Es,Pe.gl.ONE,En.BlendFactor.One),Yr()(Es,Pe.gl.SRC_COLOR,En.BlendFactor.SrcColor),Yr()(Es,Pe.gl.ONE_MINUS_SRC_COLOR,En.BlendFactor.OneMinusSrcColor),Yr()(Es,Pe.gl.SRC_ALPHA,En.BlendFactor.SrcAlpha),Yr()(Es,Pe.gl.ONE_MINUS_SRC_ALPHA,En.BlendFactor.OneMinusSrcAlpha),Yr()(Es,Pe.gl.DST_COLOR,En.BlendFactor.DstColor),Yr()(Es,Pe.gl.ONE_MINUS_DST_COLOR,En.BlendFactor.OneMinusDstColor),Yr()(Es,Pe.gl.DST_ALPHA,En.BlendFactor.DstAlpha),Yr()(Es,Pe.gl.ONE_MINUS_DST_ALPHA,En.BlendFactor.OneMinusDstAlpha),Yr()(Es,Pe.gl.CONSTANT_COLOR,En.BlendFactor.BlendColor),Yr()(Es,Pe.gl.ONE_MINUS_CONSTANT_COLOR,En.BlendFactor.OneMinusBlendColor),Yr()(Es,Pe.gl.SRC_ALPHA_SATURATE,En.BlendFactor.SrcAlphaSaturated),Es),Mx=(_h={},Yr()(_h,Pe.gl.ALPHA,"r8unorm"),Yr()(_h,Pe.gl.RGBA,"rgba8unorm"),Yr()(_h,Pe.gl.DEPTH_COMPONENT,"depth32float"),Yr()(_h,Pe.gl.DEPTH_STENCIL,"depth24plus-stencil8"),_h),jy=(tg={},Yr()(tg,Pe.gl.NEAREST,"nearest"),Yr()(tg,Pe.gl.LINEAR,"linear"),tg),tp=(Qd={},Yr()(Qd,Pe.gl.REPEAT,"repeat"),Yr()(Qd,Pe.gl.CLAMP_TO_EDGE,"clamp-to-edge"),Yr()(Qd,Pe.gl.MIRRORED_REPEAT,"mirror-repeat"),Qd);function Cx(u){var n=u.cull;if(!n||!n.enable)return En.CullMode.None;if(n.face)return n.face===Pe.gl.FRONT?En.CullMode.Front:En.CullMode.Back}function Ax(u){var n=u.depth,t=u.stencil,e={compare:En.CompareFunction.Always,depthFailOp:En.StencilOperation.Keep,failOp:En.StencilOperation.Keep,passOp:En.StencilOperation.Keep};return{depthWriteEnabled:n&&n.enable,depthCompare:Sx[(n==null?void 0:n.func)||Pe.gl.ALWAYS],format:En.TextureFormat.Depth24PlusStencil8,stencilFront:e,stencilBack:e,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Tx(u,n){var t=u.blend;return[{format:n,alphaBlend:{srcFactor:eg[t&&t.func&&t.func.srcAlpha||Pe.gl.ONE],dstFactor:eg[t&&t.func&&t.func.dstAlpha||Pe.gl.ZERO],operation:Ly[t&&t.equation&&t.equation.alpha||Pe.gl.FUNC_ADD]},colorBlend:{srcFactor:eg[t&&t.func&&t.func.srcRGB||Pe.gl.ONE],dstFactor:eg[t&&t.func&&t.func.dstRGB||Pe.gl.ZERO],operation:Ly[t&&t.equation&&t.equation.rgb||Pe.gl.FUNC_ADD]},writeMask:En.ColorWrite.All}]}function Ry(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function Zh(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ry(Object(t),!0).forEach(function(e){Yr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):Ry(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function Dx(u){for(var n=0,t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];for(var i=0,l=e;i<l.length;i++){var d=l[i];n+=d.length}for(var v=new u(n),D=0,R=0,F=e;R<F.length;R++){var Z=F[R];v.set(Z,D),D+=Z.length}return v}var Px=function(){function u(n,t){Zi()(this,u),this.engine=n,this.options=t,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return $i()(u,[{key:"init",value:function(){var n=po()(ti.a.mark(function e(){var r=this,i,l,d,v,D,R,F,Z,J,it,dt,bt,Dt,At,wt,zt,Kt,$t;return ti.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return i=this.options,l=i.vs,d=i.fs,v=i.attributes,D=i.uniforms,R=i.primitive,F=i.count,Z=i.elements,J=i.depth,it=i.blend,dt=i.stencil,bt=i.cull,Dt=i.instances,re.next=3,this.compilePipelineStageDescriptor(l,d,null);case 3:At=re.sent,wt=At.vertexStage,zt=At.fragmentStage,D&&this.buildUniformBindGroup(D),Z&&(this.indexBuffer=Z.get(),this.indexCount=Z.indexCount),Kt={vertexBuffers:Object.keys(v).map(function(fe,ce){var Ae=v[fe],Te=Ae.get(),cr=Te.arrayStride,fr=Te.stepMode,gr=Te.attributes;return r.attributeCache[fe]=Ae,{arrayStride:cr,stepMode:fr,attributes:gr}})},$t={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Ex[R||Pe.gl.TRIANGLES],rasterizationState:Zh(Zh({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Cx({cull:bt})}),depthStencilState:Ax({depth:J,stencil:dt}),colorStates:Tx({blend:it},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:wt,fragmentStage:zt,vertexState:Kt},this.renderPipeline=this.engine.device.createRenderPipeline($t);case 11:case"end":return re.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"addUniforms",value:function(t){this.uniforms=Zh(Zh({},this.uniforms),$d(t))}},{key:"draw",value:function(t){var e=this,r=this.engine.getCurrentRenderPass(),i=Zh(Zh({},this.uniforms),$d(t.uniforms||{})),l=[];Object.keys(i).forEach(function(d){var v=Yd()(i[d]);if(v==="boolean"||v==="number"||Array.isArray(i[d])||i[d].BYTES_PER_ELEMENT){var D,R=(D=e.uniformGPUBufferLayout.find(function(Dt){var At=Dt.name;return At===d}))===null||D===void 0?void 0:D.offset;R!==null&&e.uniformBuffer.subData({data:i[d],offset:R})}else{var F,Z=(F=e.uniformGPUBufferLayout.find(function(Dt){var At=Dt.name;return At===d}))===null||F===void 0?void 0:F.offset;if(Z!==null){var J=i[d].get(),it=J.color||J,dt=it.texture,bt=it.sampler;bt&&(l.push({binding:Z,resource:bt}),Z++),l.push({binding:Z,resource:dt.createView()})}}}),this.uniformBuffer&&(l[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:l}),this.renderPipeline&&r.setPipeline(this.renderPipeline),r.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&r.setIndexBuffer(this.indexBuffer.get(),En.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(d,v){r.setVertexBuffer(0+v,e.attributeCache[d].get().buffer,0)}),this.indexBuffer?r.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):r.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var n=po()(ti.a.mark(function e(r,i,l){var d,v,D;return ti.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(d=`#version 450
`,v=r,D=i,this.engine.options.useWGSL){F.next=10;break}return F.next=6,this.compileShaderToSpirV(r,"vertex",d);case 6:return v=F.sent,F.next=9,this.compileShaderToSpirV(i,"fragment",d);case 9:D=F.sent;case 10:return F.abrupt("return",this.createPipelineStageDescriptor(v,D));case 11:case"end":return F.stop()}},e,this)}));function t(e,r,i){return n.apply(this,arguments)}return t}()},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Pe.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Pe.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:En.FrontFace.CCW,cullMode:En.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var e=this,r=0,i=Dx.apply(void 0,[Float32Array].concat(Eo()(Object.keys(t).map(function(v){return t[v]?(e.uniformGPUBufferLayout.push({name:v,offset:r}),r+=(t[v].length||1)*4,t[v]):[]})))),l=[],d=!1;i.length&&(d=!0,l.push({binding:0,visibility:En.ShaderStage.Fragment|En.ShaderStage.Vertex,type:En.BindingType.UniformBuffer})),Object.keys(t).filter(function(v){return t[v]===null}).forEach(function(v,D){e.uniformGPUBufferLayout.push({name:v,offset:D*2+(d?1:0)}),l.push({binding:D*2+(d?1:0),visibility:En.ShaderStage.Fragment,type:En.BindingType.Sampler},{binding:D*2+(d?1:0)+1,visibility:En.ShaderStage.Fragment,type:En.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:l}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),d&&(this.uniformBuffer=new Kh(this.engine,{data:i instanceof Array?new Float32Array(i):i,usage:En.BufferUsage.Uniform|En.BufferUsage.CopyDst}))}}]),u}(),Ix=function(){function u(n,t){Zi()(this,u),this.engine=n,this.options=t,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return $i()(u,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,r=t.height;(e!==this.width||r!==this.height)&&(this.destroy(),this.createTexture()),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,e=t.data,r=t.type,i=r===void 0?Pe.gl.UNSIGNED_BYTE:r,l=t.width,d=t.height,v=t.flipY,D=v===void 0?!1:v,R=t.format,F=R===void 0?Pe.gl.RGBA:R,Z=t.mipmap,J=Z===void 0?!1:Z,it=t.wrapS,dt=it===void 0?Pe.gl.CLAMP_TO_EDGE:it,bt=t.wrapT,Dt=bt===void 0?Pe.gl.CLAMP_TO_EDGE:bt,At=t.aniso,wt=At===void 0?0:At,zt=t.alignment,Kt=zt===void 0?1:zt,$t=t.premultiplyAlpha,ee=$t===void 0?!1:$t,re=t.mag,fe=re===void 0?Pe.gl.NEAREST:re,ce=t.min,Ae=ce===void 0?Pe.gl.NEAREST:ce,Te=t.colorSpace,cr=Te===void 0?Pe.gl.BROWSER_DEFAULT_WEBGL:Te,fr=t.usage;this.width=l,this.height=d,this.texture=this.engine.device.createTexture({size:[l,d,1],mipLevelCount:1,sampleCount:1,dimension:En.TextureDimension.E2d,format:Mx[F],usage:fr||En.TextureUsage.Sampled|En.TextureUsage.CopyDst}),(!fr||fr&En.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:tp[dt],addressModeV:tp[Dt],addressModeW:tp[dt],magFilter:jy[fe],minFilter:jy[Ae],maxAnisotropy:wt}))}}]),u}(),wy,By,Ny,Lx=(wy=Object(bi.injectable)(),wy(By=(Ny=function(){function u(){var n=this;Zi()(this,u),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:Infinity,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){var e=t.framebuffer,r=t.color,i=t.depth,l=t.stencil;n.options.supportCompute&&n.startComputePass(),n.currentRenderTarget?(n.currentRenderPass&&n.endRenderTargetRenderPass(),n.startRenderTargetRenderPass(n.currentRenderTarget,r||null,!!i,!!l)):(n.mainColorAttachments[0].loadValue=r||En.LoadOp.Load,n.mainDepthAttachment.depthLoadValue=i||En.LoadOp.Load,n.mainDepthAttachment.stencilLoadValue=l?n.clearStencilValue:En.LoadOp.Load,n.mainRenderPass&&n.endMainRenderPass(),n.startMainRenderPass())},this.createModel=function(){var t=po()(ti.a.mark(function e(r){var i;return ti.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=new Px(n,r),d.next=3,i.init();case 3:return d.abrupt("return",i);case 4:case"end":return d.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new yx(n,t)},this.createBuffer=function(t){return new Kh(n,t)},this.createElements=function(t){return new Ox(n,t)},this.createTexture2D=function(t){return new Ix(n,t)},this.createFramebuffer=function(t){return new xx(n,t)},this.useFramebuffer=function(t,e){n.currentRenderTarget&&n.unbindFramebuffer(n.currentRenderTarget),n.currentRenderTarget=t,n.currentRenderTargetViewDescriptor={dimension:En.TextureViewDimension.E2d,arrayLayerCount:1,aspect:En.TextureAspect.All},n.currentRenderPass=null,e()},this.createComputeModel=function(){var t=po()(ti.a.mark(function e(r){var i;return ti.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=new bx(n,r),d.next=3,i.init();case 3:return d.abrupt("return",i);case 4:case"end":return d.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getCanvas=function(){return n.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var e=t.x,r=t.y,i=t.width,l=t.height;if(!n.currentRenderPass)n.transientViewport={x:e,y:r,width:i,height:l};else if(n.transientViewport.x!==Infinity){var d=n.getCurrentRenderPass();d.setViewport(n.transientViewport.x,n.transientViewport.y,n.transientViewport.width,n.transientViewport.height,0,1)}else if(e!==n.cachedViewport.x||r!==n.cachedViewport.y||i!==n.cachedViewport.width||l!==n.cachedViewport.height){n.cachedViewport={x:e,y:r,width:i,height:l};var v=n.getCurrentRenderPass();v.setViewport(e,r,i,l,0,1)}},this.readPixels=function(t){throw new Error("Method not implemented.")}}return $i()(u,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var n=po()(ti.a.mark(function e(r){return ti.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.canvas=r.canvas,this.options=r,this.useWGSL=!!r.useWGSL,this.mainPassSampleCount=r.antialiasing?this.defaultSampleCount:1,l.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return l.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"setScissor",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(t){return t.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Pe.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(t){return t})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(t){return t}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var n=po()(ti.a.mark(function e(){var r,i;return ti.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,px();case 2:return this.glslang=d.sent,d.next=5,(r=navigator)===null||r===void 0||(i=r.gpu)===null||i===void 0?void 0:i.requestAdapter();case 5:return this.adapter=d.sent,d.next=8,this.adapter.requestDevice();case 8:this.device=d.sent;case 9:case"end":return d.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Pe.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:En.TextureUsage.OutputAttachment|En.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:En.TextureDimension.E2d,format:En.TextureFormat.BGRA8Unorm,usage:En.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:Pe.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:En.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Pe.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:En.StoreOp.Store}];var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:En.TextureDimension.E2d,format:Pe.isSafari?"depth32float-stencil8":En.TextureFormat.Depth24PlusStencil8,usage:En.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(e),this.mainDepthAttachment={attachment:Pe.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:En.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:En.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Pe.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Pe.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,r){var i,l,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,v=(i=t.get().color)===null||i===void 0?void 0:i.texture,D;v&&(D=v.createView(this.currentRenderTargetViewDescriptor));var R=(l=t.get().depth)===null||l===void 0?void 0:l.texture,F;R&&(F=R.createView());var Z=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:D,loadValue:e!==null?e:En.LoadOp.Load,storeOp:En.StoreOp.Store}],depthStencilAttachment:R&&F?{attachment:F,depthLoadValue:r?this.clearDepthValue:En.LoadOp.Load,depthStoreOp:En.StoreOp.Store,stencilLoadValue:d?this.clearStencilValue:En.LoadOp.Load,stencilStoreOp:En.StoreOp.Store}:void 0});this.currentRenderPass=Z,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=Infinity,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),u}(),Ny))||By),jx=a("q66O"),Rx=a.n(jx),wx=a("oOaK"),qc=a.n(wx),Bx=a("vpv6"),tf=a.n(Bx),Nx=a("G5xY"),ds=a.n(Nx),Fy,Gy;function Fx(u){var n=Gx();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function Gx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var ep=4/64,Uy=1-ep*2,Ux=(Fy=Object(bi.injectable)(),Fy(Gy=function(u){qc()(t,u);var n=Fx(t);function t(){return Zi()(this,t),n.apply(this,arguments)}return $i()(t,[{key:"onEntityCreated",value:function(){var r=this.config,i=r.widthSegments,l=i===void 0?1:i,d=r.heightSegments,v=d===void 0?1:d,D=r.depthSegments,R=D===void 0?1:D,F=r.halfExtents,Z=F===void 0?Rr.e.fromValues(.5,.5,.5):F,J=l,it=v,dt=R,bt=Rx()(Z,3),Dt=bt[0],At=bt[1],wt=bt[2],zt=[Rr.e.fromValues(-Dt,-At,wt),Rr.e.fromValues(Dt,-At,wt),Rr.e.fromValues(Dt,At,wt),Rr.e.fromValues(-Dt,At,wt),Rr.e.fromValues(Dt,-At,-wt),Rr.e.fromValues(-Dt,-At,-wt),Rr.e.fromValues(-Dt,At,-wt),Rr.e.fromValues(Dt,At,-wt)],Kt=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],$t=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],ee={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},re=[],fe=[],ce=[],Ae=[],Te=[],cr=0,fr=function(Nr,Fr,Ir){var Sr,Xr,en,Ar;for(en=0;en<=Fr;en++)for(Ar=0;Ar<=Ir;Ar++){var Dr=Rr.e.create(),Tn=Rr.e.create(),Rn=Rr.e.create(),wn=Rr.e.create();Rr.e.lerp(Dr,zt[Kt[Nr][0]],zt[Kt[Nr][1]],en/Fr),Rr.e.lerp(Tn,zt[Kt[Nr][0]],zt[Kt[Nr][2]],Ar/Ir),Rr.e.sub(Rn,Tn,zt[Kt[Nr][0]]),Rr.e.add(wn,Dr,Rn),Sr=en/Fr,Xr=Ar/Ir,re.push(wn[0],wn[1],wn[2]),fe.push($t[Nr][0],$t[Nr][1],$t[Nr][2]),ce.push(Sr,Xr),Sr/=3,Xr/=3,Sr=Sr*Uy+ep,Xr=Xr*Uy+ep,Sr+=Nr%3/3,Xr+=Math.floor(Nr/3)/3,Ae.push(Sr,Xr),en<Fr&&Ar<Ir&&(Te.push(cr+Ir+1,cr+1,cr),Te.push(cr+Ir+1,cr+Ir+2,cr+1)),cr++}};fr(ee.FRONT,J,it),fr(ee.BACK,J,it),fr(ee.TOP,J,dt),fr(ee.BOTTOM,J,dt),fr(ee.RIGHT,dt,it),fr(ee.LEFT,dt,it);var gr=Object(Pe.generateAABBFromVertices)(re),qr=this.getComponent();qr.indices=Uint32Array.from(Te),qr.aabb=gr,qr.vertexCount=cr,qr.attributes=[{dirty:!0,name:"position",data:Float32Array.from(re),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(fe),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(ce),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}($c))||Gy);function Wx(u,n){if(!u&&!n)throw new Error("Please specify valid arguments for parameters a and b.");if(!n||n.length===0)return u;if(!u||u.length===0)return n;if(Object.prototype.toString.call(u)!==Object.prototype.toString.call(n))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var t=new u.constructor(u.length+n.length);return t.set(u),t.set(n,u.length),t}var Wy,zy;function zx(u){var n=kx();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function kx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var Vx=(Wy=Object(bi.injectable)(),Wy(zy=function(u){qc()(t,u);var n=zx(t);function t(){return Zi()(this,t),n.apply(this,arguments)}return $i()(t,[{key:"onEntityCreated",value:function(){var r=this.config.geometries,i=r===void 0?[]:r,l=this.getComponent();l.aabb=new Pe.AABB;var d=[],v=[],D=0;i.forEach(function(R){var F=R.aabb,Z=R.indices,J=R.vertexCount,it=R.attributes;l.aabb.add(F),l.vertexCount+=J,Z&&v.push.apply(v,Eo()(Z.map(function(dt){return dt+D}))),D+=J,it.forEach(function(dt,bt){d[bt]?dt.data&&(Yg(dt.data)?d[bt].push(dt.data):Xp(dt.data)?d[bt].data=Wx(d[bt].data,dt.data):d[bt].data=d[bt].data.concat(dt.data)):(d[bt]=dt,d[bt].dirty=!0)})}),l.attributes=d,l.indices=Uint32Array.from(v),l.dirty=!0}}]),t}($c))||zy),ky,Vy;function Xx(u){var n=Hx();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function Hx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var Yx=(ky=Object(bi.injectable)(),ky(Vy=function(u){qc()(t,u);var n=Xx(t);function t(){return Zi()(this,t),n.apply(this,arguments)}return $i()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,i=r.halfExtents,l=i===void 0?[.5,.5]:i,d=r.widthSegments,v=d===void 0?5:d,D=r.lengthSegments,R=D===void 0?5:D,F=[],Z=[],J=[],it=[],dt=0,bt=0;bt<=v;bt++)for(var Dt=0;Dt<=R;Dt++){var At=-l[0]+2*l[0]*bt/v,wt=0,zt=-(-l[1]+2*l[1]*Dt/R),Kt=bt/v,$t=Dt/R;F.push(At,wt,zt),Z.push(0,1,0),J.push(Kt,$t),bt<v&&Dt<R&&(it.push(dt+R+1,dt+1,dt),it.push(dt+R+1,dt+R+2,dt+1)),dt++}var ee=Object(Pe.generateAABBFromVertices)(F),re=this.getComponent();re.indices=Uint32Array.from(it),re.aabb=ee,re.vertexCount=dt,re.attributes=[{dirty:!0,name:"position",data:Float32Array.from(F),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(Z),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(J),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}($c))||Vy),Xy,Hy;function Kx(u){var n=_x();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function _x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var Zx=(Xy=Object(bi.injectable)(),Xy(Hy=function(u){qc()(t,u);var n=Kx(t);function t(){return Zi()(this,t),n.apply(this,arguments)}return $i()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,i=r.radius,l=i===void 0?.5:i,d=r.latitudeBands,v=d===void 0?16:d,D=r.longitudeBands,R=D===void 0?16:D,F=[],Z=[],J=[],it=[],dt=0;dt<=v;dt++)for(var bt=dt*Math.PI/v,Dt=Math.sin(bt),At=Math.cos(bt),wt=0;wt<=R;wt++){var zt=wt*2*Math.PI/R-Math.PI/2,Kt=Math.sin(zt),$t=Math.cos(zt),ee=$t*Dt,re=At,fe=Kt*Dt,ce=1-wt/R,Ae=1-dt/v;F.push(ee*l,re*l,fe*l),Z.push(ee,re,fe),J.push(ce,Ae)}for(var Te=0;Te<v;++Te)for(var cr=0;cr<R;++cr){var fr=Te*(R+1)+cr,gr=fr+R+1;it.push(fr+1,gr,fr),it.push(fr+1,gr+1,gr)}var qr=Object(Pe.generateAABBFromVertices)(F),kr=this.getComponent();kr.indices=Uint32Array.from(it),kr.aabb=qr,kr.vertexCount=F.length/3,kr.attributes=[{dirty:!0,name:"position",data:Float32Array.from(F),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(Z),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(J),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}($c))||Hy),$x=a("cW+D"),wl=a.n($x),Yy,Ky,_y,Zy,rg,$y,Qy,Jy;function Qx(u){var n=Jx();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function Jx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var qx=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,tE=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,eE=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,rE=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,nE=(Yy=Object(bi.injectable)(),Ky=Object(bi.inject)(Pe.IDENTIFIER.RenderEngine),_y=Object(bi.inject)(Pe.IDENTIFIER.ShaderModuleService),Yy(Zy=(rg=(Jy=function(u){qc()(t,u);var n=Qx(t);function t(){var e;Zi()(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=n.call.apply(n,[this].concat(i)),Da()(e,"engine",$y,wl()(e)),Da()(e,"shaderModuleService",Qy,wl()(e)),e}return $i()(t,[{key:"onEntityCreated",value:function(){var r=this.getComponent(),i=this.engine.supportWebGPU?rE:tE,l=this.engine.supportWebGPU?eE:qx;this.shaderModuleService.registerModule("material-basic",{vs:i,fs:l});var d=this.shaderModuleService.getModule("material-basic"),v=d.vs,D=d.fs,R=d.uniforms;r.vertexShaderGLSL=v,r.fragmentShaderGLSL=D,r.setUniform(R),this.config.map&&(r.setDefines({USE_UV:1,USE_MAP:1}),r.setUniform({map:this.config.map,uvTransform:Rr.a.create()}))}}]),t}(sy),Jy),$y=Ua()(rg.prototype,"engine",[Ky],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy=Ua()(rg.prototype,"shaderModuleService",[_y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rg))||Zy),qy,tm,em,rm,nm,im,am,Jd,om,sm,lm,um;function iE(u){var n=aE();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function aE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var oE=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,sE=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,lE=(qy=Object(bi.injectable)(),tm=Object(bi.inject)(Pe.IDENTIFIER.Systems),em=Object(bi.named)(Pe.IDENTIFIER.MaterialSystem),rm=Object(bi.inject)(Pe.IDENTIFIER.Systems),nm=Object(bi.named)(Pe.IDENTIFIER.GeometrySystem),im=Object(bi.inject)(Pe.IDENTIFIER.ShaderModuleService),qy(am=(Jd=(um=function(u){qc()(t,u);var n=iE(t);function t(){var e;Zi()(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=n.call.apply(n,[this].concat(i)),Da()(e,"materialSystem",om,wl()(e)),Da()(e,"geometrySystem",sm,wl()(e)),Da()(e,"shaderModuleService",lm,wl()(e)),e}return $i()(t,[{key:"onAttributeChanged",value:function(r){var i=r.name,l=r.data,d=this.getMeshComponent();d&&d.material&&(i==="gridColor"?(d.material.setUniform("u_GridColor",l),d.material.setUniform("u_GridColor2",l)):i==="gridSize"&&(d.material.setUniform("u_GridSize",l),d.material.setUniform("u_GridSize2",l)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:sE,fs:oE});var r=this.shaderModuleService.getModule("grid"),i=r.vs,l=r.fs,d=r.uniforms,v=this.materialSystem.createShaderMaterial({vertexShader:i,fragmentShader:l});this.setMaterial(v);var D=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(D),v.setCull({enable:!1,face:Pe.gl.BACK}).setDepth({enable:!0,func:Pe.gl.LESS}),v.setUniform(d),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),D.setIndex([0,3,2,2,1,0]),D.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),t}(Qc),um),om=Ua()(Jd.prototype,"materialSystem",[tm,em],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sm=Ua()(Jd.prototype,"geometrySystem",[rm,nm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lm=Ua()(Jd.prototype,"shaderModuleService",[im],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jd))||am),ng=a("RV5/"),rh=a("aUeW");function ig(u,n,t,e,r){qd(n,e,-r),qd(n,e,r),u.push(t),u.push(t)}function qd(u,n,t){u.push([[n[0],n[1]],t])}var uE=function(u,n,t){var e=[0,0],r=[0,0],i=[0,0],l=[0,0],d=-1,v=!1,D=null,R=Object(ng.create)(),F=t||0,Z=3,J=[],it=[],dt=[],bt=[0,0];n&&(u=u.slice(),u.push(u[0]));for(var Dt=u.length,At=1;At<Dt;At++){var wt=F,zt=u[At-1],Kt=u[At],$t=At<u.length-1?u[At+1]:null;if(bt.push(At/Dt,At/Dt),Object(rh.direction)(e,Kt,zt),D||(D=[0,0],Object(rh.normal)(D,e)),v||(v=!0,ig(it,J,zt,D,1)),dt.push([wt+0,wt+1,wt+2]),!$t)Object(rh.normal)(D,e),ig(it,J,Kt,D,1),dt.push(d===1?[wt,wt+2,wt+3]:[wt+2,wt+1,wt+3]),F+=2;else{Object(rh.direction)(r,$t,Kt);var ee=Object(rh.computeMiter)(i,l,e,r,1),re=Object(ng.dot)(i,D)<0?-1:1,fe=ee>Z;if(!isFinite(ee)){Object(rh.normal)(D,e),ig(it,J,Kt,D,1),dt.push(d===1?[wt,wt+2,wt+3]:[wt+2,wt+1,wt+3]),F+=2,d=re;continue}fe?(ee=Z,bt.push(At/Dt),qd(J,D,-re),it.push(Kt),qd(J,l,ee*re),it.push(Kt),dt.push(d!==-re?[wt,wt+2,wt+3]:[wt+2,wt+1,wt+3]),dt.push([wt+2,wt+3,wt+4]),Object(rh.normal)(R,r),Object(ng.copy)(D,R),qd(J,D,-re),it.push(Kt),F+=3):(ig(it,J,Kt,l,ee),dt.push(d===1?[wt,wt+2,wt+3]:[wt+2,wt+1,wt+3]),re=-1,Object(ng.copy)(D,l),F+=2),d=re}}return{normals:J,attrIndex:dt,attrPos:it,attrCounters:bt}},cm,fm,hm,dm,vm,gm,pm,tv,ym,mm,bm,Om;function cE(u){var n=fE();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function fE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var hE=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,dE=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,vE=(cm=Object(bi.injectable)(),fm=Object(bi.inject)(Pe.IDENTIFIER.Systems),hm=Object(bi.named)(Pe.IDENTIFIER.MaterialSystem),dm=Object(bi.inject)(Pe.IDENTIFIER.Systems),vm=Object(bi.named)(Pe.IDENTIFIER.GeometrySystem),gm=Object(bi.inject)(Pe.IDENTIFIER.ShaderModuleService),cm(pm=(tv=(Om=function(u){qc()(t,u);var n=cE(t);function t(){var e;Zi()(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=n.call.apply(n,[this].concat(i)),Da()(e,"materialSystem",ym,wl()(e)),Da()(e,"geometrySystem",mm,wl()(e)),Da()(e,"shaderModuleService",bm,wl()(e)),e.vertexCount=void 0,e}return $i()(t,[{key:"onAttributeChanged",value:function(r){var i=r.name,l=r.data,d=this.getMeshComponent();if(d&&d.material)switch(i){case"dashArray":d.material.setUniform("u_dash_array",l);break;case"dashOffset":d.material.setUniform("u_dash_offset",l);break;case"dashRatio":d.material.setUniform("u_dash_ratio",l);break;case"thickness":d.material.setUniform("u_thickness",l);break;case"color":var v=new Array(this.vertexCount).fill(void 0).map(function(){return l}).reduce(function(D,R){return[].concat(Eo()(D),Eo()(R))},[]);d.geometry.setAttribute("a_color",Float32Array.from(v),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var r=this;this.shaderModuleService.registerModule("line",{vs:dE,fs:hE});var i=this.shaderModuleService.getModule("line"),l=i.vs,d=i.fs,v=i.uniforms,D=this.materialSystem.createShaderMaterial({vertexShader:l,fragmentShader:d}),R=uE(this.config.points,!1),F=R.normals,Z=R.attrIndex,J=R.attrPos,it=R.attrCounters,dt=J.length;this.vertexCount=dt;var bt=this.geometrySystem.createBufferGeometry({vertexCount:dt});this.setMaterial(D),this.setGeometry(bt),D.setCull({enable:!1,face:Pe.gl.BACK}).setUniform(v),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var Dt=[],At=[];F.forEach(function(zt){var Kt=zt[0],$t=zt[1];Dt.push([Kt[0],Kt[1]]),At.push($t)}),bt.setIndex(Z.reduce(function(zt,Kt){return[].concat(Eo()(zt),Eo()(Kt))},[])),bt.setAttribute("a_pos",Float32Array.from(J.reduce(function(zt,Kt){return[].concat(Eo()(zt),Eo()(Kt))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var wt=new Array(dt).fill(void 0).map(function(){return Eo()(r.config.color)}).reduce(function(zt,Kt){return[].concat(Eo()(zt),Eo()(Kt))},[]);bt.setAttribute("a_color",Float32Array.from(wt),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),bt.setAttribute("a_line_miter",Float32Array.from(At),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),bt.setAttribute("a_line_normal",Float32Array.from(Dt.reduce(function(zt,Kt){return[].concat(Eo()(zt),Eo()(Kt))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),bt.setAttribute("a_counters",Float32Array.from(it),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),t}(Qc),Om),ym=Ua()(tv.prototype,"materialSystem",[fm,hm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mm=Ua()(tv.prototype,"geometrySystem",[dm,vm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bm=Ua()(tv.prototype,"shaderModuleService",[gm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tv))||pm);function gE(u){return[u+1&255,u+1>>8&255,u+1>>8>>8&255]}var xm,Em,Sm,Mm,Cm,Am,Tm,ev,Dm,Pm,Im,Lm;function jm(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function pE(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?jm(Object(t),!0).forEach(function(e){Yr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):jm(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function yE(u){var n=mE();return function(){var e=ds()(u),r;if(n){var i=ds()(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return tf()(this,r)}}function mE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var bE=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,OE=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,xE=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],EE=(xm=Object(bi.injectable)(),Em=Object(bi.inject)(Pe.IDENTIFIER.Systems),Sm=Object(bi.named)(Pe.IDENTIFIER.MaterialSystem),Mm=Object(bi.inject)(Pe.IDENTIFIER.Systems),Cm=Object(bi.named)(Pe.IDENTIFIER.GeometrySystem),Am=Object(bi.inject)(Pe.IDENTIFIER.ShaderModuleService),xm(Tm=(ev=(Lm=function(u){qc()(t,u);var n=yE(t);function t(){var e;Zi()(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=n.call.apply(n,[this].concat(i)),Da()(e,"materialSystem",Dm,wl()(e)),Da()(e,"geometrySystem",Pm,wl()(e)),Da()(e,"shaderModuleService",Im,wl()(e)),e}return $i()(t,[{key:"onAttributeChanged",value:function(r){var i=r.name,l=r.data,d=this.getMeshComponent();d&&d.material&&(i==="strokeWidth"?d.material.setUniform("u_stroke_width",l):i==="strokeColor"?d.material.setUniform("u_stroke_color",l):i==="strokeOpacity"?d.material.setUniform("u_stroke_opacity",l):i==="opacity"?d.material.setUniform("u_opacity",l):i==="blur"&&d.material.setUniform("u_blur",l))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:OE,fs:bE});var r=this.shaderModuleService.getModule("grid"),i=r.vs,l=r.fs,d=r.uniforms,v=this.materialSystem.createShaderMaterial({vertexShader:i,fragmentShader:l,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Pe.gl.SRC_ALPHA,dstRGB:Pe.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});v.setUniform(pE({u_device_pixel_ratio:window.devicePixelRatio},d));var D=this.buildAttributes(),R=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:D.instancedOffsets.length/2,vertexCount:6});R.setIndex([0,2,1,0,3,2]),R.setAttribute("position",Float32Array.from(D.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),R.setAttribute("offset",Float32Array.from(D.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),R.setAttribute("color",Float32Array.from(D.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),R.setAttribute("size",Float32Array.from(D.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),R.setAttribute("shape",Float32Array.from(D.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),R.setAttribute("a_PickingColor",Float32Array.from(D.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(v),this.setGeometry(R)}},{key:"buildAttribute",value:function(r,i,l){var d,v,D,R;(d=i.instancedPickingColors).push.apply(d,Eo()(gE(r.id||l))),i.instancedShapes.push(xE.indexOf(r.shape||"circle")),(v=i.instancedColors).push.apply(v,Eo()(r.color||[1,0,0,1])),(D=i.instancedOffsets).push.apply(D,Eo()(r.position||[0,0])),(R=i.instancedSizes).push.apply(R,Eo()(r.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var r=this,i={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(l,d){r.buildAttribute(l,i,d)}):this.buildAttribute(this.config,i,0),i}}]),t}(Qc),Lm),Dm=Ua()(ev.prototype,"materialSystem",[Em,Sm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pm=Ua()(ev.prototype,"geometrySystem",[Mm,Cm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Im=Ua()(ev.prototype,"shaderModuleService",[Am],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev))||Tm),Rm,wm,Bm,Nm,Fm,rv,Gm,Um,Wm,zm;function km(u,n){var t;if(typeof Symbol=="undefined"||u[Symbol.iterator]==null){if(Array.isArray(u)||(t=SE(u))||n&&u&&typeof u.length=="number"){t&&(u=t);var e=0,r=function(){};return{s:r,n:function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}},e:function(D){throw D},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,d;return{s:function(){t=u[Symbol.iterator]()},n:function(){var D=t.next();return i=D.done,D},e:function(D){l=!0,d=D},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(l)throw d}}}}function SE(u,n){if(!!u){if(typeof u=="string")return Vm(u,n);var t=Object.prototype.toString.call(u).slice(8,-1);if(t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set")return Array.from(u);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vm(u,n)}}function Vm(u,n){(n==null||n>u.length)&&(n=u.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=u[t];return e}var ME=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,CE=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,AE=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,TE=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,DE=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,Xm=(Rm=Object(bi.injectable)(),wm=Object(bi.inject)(Pe.IDENTIFIER.RenderEngine),Bm=Object(bi.inject)(Pe.IDENTIFIER.ShaderModuleService),Nm=Object(bi.inject)(Pe.IDENTIFIER.ConfigService),Rm(Fm=(rv=(zm=function(){function u(){Zi()(this,u),this.container=void 0,Da()(this,"engine",Gm,this),Da()(this,"shaderModule",Um,this),Da()(this,"configService",Wm,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return $i()(u,[{key:"init",value:function(){var n=po()(ti.a.mark(function e(){var r,i,l,d,v;return ti.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:TE}),this.shaderModule.registerModule("uv.vert.main",{vs:DE}),this.shaderModule.registerModule("uv.frag.declaration",{fs:AE}),this.shaderModule.registerModule("map.frag.declaration",{fs:ME}),this.shaderModule.registerModule("map.frag.main",{fs:CE}),r=this.container.getAll(Pe.IDENTIFIER.Systems),i=this.configService.get(),!i.canvas){R.next=30;break}return R.next=11,this.engine.init({canvas:i.canvas,swapChainFormat:En.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:l=km(r),R.prev=12,l.s();case 14:if((d=l.n()).done){R.next=21;break}if(v=d.value,!v.initialize){R.next=19;break}return R.next=19,v.initialize();case 19:R.next=14;break;case 21:R.next=26;break;case 23:R.prev=23,R.t0=R.catch(12),l.e(R.t0);case 26:return R.prev=26,l.f(),R.finish(26);case 29:this.inited=!0;case 30:case"end":return R.stop()}},e,this,[[12,23,26,29]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"render",value:function(){var n=po()(ti.a.mark(function e(){var r,i,l,d,v,D,R,F=arguments;return ti.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!(!this.inited||this.rendering)){J.next=2;break}return J.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(it){it()}),this.rendering=!0,this.engine.beginFrame(),r=this.container.getAll(Pe.IDENTIFIER.Systems),i=F.length,l=new Array(i),d=0;d<i;d++)l[d]=F[d];v=km(r),J.prev=8,v.s();case 10:if((D=v.n()).done){J.next=17;break}if(R=D.value,!R.execute){J.next=15;break}return J.next=15,R.execute(l);case 15:J.next=10;break;case 17:J.next=22;break;case 19:J.prev=19,J.t0=J.catch(8),v.e(J.t0);case 22:return J.prev=22,v.f(),J.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return J.stop()}},e,this,[[8,19,22,25]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift(function(){e.engine.clear(t),e.pendings.shift()}),this}},{key:"setSize",value:function(t){var e=t.width,r=t.height,i=this.engine.getCanvas();return this.size={width:e,height:r},i.width=e,i.height=r,this}},{key:"getSize",value:function(){return this.size}}]),u}(),zm),Gm=Ua()(rv.prototype,"engine",[wm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Um=Ua()(rv.prototype,"shaderModule",[Bm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wm=Ua()(rv.prototype,"configService",[Nm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rv))||Fm),Hm,Ym,Km,_m=(Hm=Object(bi.injectable)(),Hm(Ym=(Km=function(){function u(){Zi()(this,u),this.entities=[]}return $i()(u,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(t){return this.addEntity(t.getEntity()),this}},{key:"removeRenderable",value:function(t){return this.removeEntity(t.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(t){return this.entities.indexOf(t)===-1&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var e=this.entities.indexOf(t);return this.entities.splice(e,1),this}}]),u}(),Km))||Ym),Zm,$m,Qm,Jm=(Zm=Object(bi.injectable)(),Zm($m=(Qm=function(){function u(){Zi()(this,u),this.cache={}}return $i()(u,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,e){this.cache[t]=e}}]),u}(),Qm))||$m),qm,t0,e0,r0,ag,n0,i0,a0;function o0(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function s0(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?o0(Object(t),!0).forEach(function(e){Yr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):o0(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var l0=(qm=Object(bi.injectable)(),t0=Object(bi.inject)(Jm),e0=Object(bi.inject)(Pe.IDENTIFIER.RenderEngine),qm(r0=(ag=(a0=function(){function u(){Zi()(this,u),Da()(this,"textureCache",n0,this),Da()(this,"engine",i0,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return $i()(u,[{key:"setConfig",value:function(t){this.config=t}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var n=po()(ti.a.mark(function e(){var r=this;return ti.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.config.url){l.next=4;break}return l.abrupt("return",new Promise(function(d,v){var D=r.textureCache.get(r.config.url);if(D)d(D);else{var R=new Image;R.crossOrigin="Anonymous",R.src=r.config.url,R.onload=function(){var F=r.engine.createTexture2D(s0(s0({},r.config),{},{data:R,width:R.width,height:R.height,flipY:!0}));r.textureCache.set(r.config.url,F),r.texture=F,r.loaded=!0,d(F)},R.onerror=function(){v()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),l.abrupt("return",this.texture);case 7:case"end":return l.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),u}(),a0),n0=Ua()(ag.prototype,"textureCache",[t0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i0=Ua()(ag.prototype,"engine",[e0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ag))||r0),u0,c0,f0,h0,rp,d0,v0,g0=(u0=Object(bi.injectable)(),c0=Object(bi.inject)(Pe.IDENTIFIER.Systems),f0=Object(bi.named)(Pe.IDENTIFIER.RendererSystem),u0(h0=(rp=(v0=function(){function u(){Zi()(this,u),Da()(this,"rendererSystem",d0,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return $i()(u,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),u}(),v0),d0=Ua()(rp.prototype,"rendererSystem",[c0,f0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp))||h0),p0,y0,m0,np,b0,O0;function x0(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function PE(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?x0(Object(t),!0).forEach(function(e){Yr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):x0(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var og=(p0=Object(bi.injectable)(),y0=Object(bi.inject)(Pe.IDENTIFIER.ConfigService),p0(m0=(np=(O0=function(){function u(){Zi()(this,u),Da()(this,"configService",b0,this),this.container=void 0}return $i()(u,[{key:"getEngine",value:function(){var n=po()(ti.a.mark(function e(){var r,i,l,d;return ti.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return r=this.container.get(Pe.IDENTIFIER.RenderEngine),i=this.configService.get(),l=i.canvas,d=i.engineOptions,D.next=4,r.init(PE({canvas:l||Vp(),swapChainFormat:En.TextureFormat.BGRA8Unorm,antialiasing:!1},d));case 4:return D.abrupt("return",r);case 5:case"end":return D.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getTransformComponent",value:function(t){var e=this.container.get(Pe.IDENTIFIER.TransformComponentManager);return e.getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){var e=this.container.get(Pe.IDENTIFIER.MeshComponentManager);return e.getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(Pe.createEntity)()}},{key:"createScene",value:function(){return this.container.get(_m)}},{key:"createCamera",value:function(){return this.container.get(Fp)}},{key:"createView",value:function(){return this.container.get(g0)}},{key:"createRenderable",value:function(t,e){var r=t?this.container.getNamed(Pe.IDENTIFIER.Renderable,t):this.container.get(Qc),i=Object(Pe.createEntity)();return r.setConfig(e||{}),r.setEntity(i),r}},{key:"createGeometry",value:function(t,e){var r=this.container.getNamed(Pe.IDENTIFIER.Geometry,t),i=Object(Pe.createEntity)();return r.setConfig(e||{}),r.setEntity(i),r.getComponent()}},{key:"createMaterial",value:function(t,e){var r=this.container.getNamed(Pe.IDENTIFIER.Material,t),i=Object(Pe.createEntity)();return r.setConfig(e||{}),r.setEntity(i,t),r.getComponent()}},{key:"createTexture2D",value:function(t){var e=this.container.get(l0);return e.setConfig(t),e}},{key:"createBufferGeometry",value:function(t){var e=this.container.getNamed(Pe.IDENTIFIER.Systems,Pe.IDENTIFIER.GeometrySystem);return e.createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){var e=this.container.getNamed(Pe.IDENTIFIER.Systems,Pe.IDENTIFIER.GeometrySystem);return e.createInstancedBufferGeometry(t)}},{key:"createShaderMaterial",value:function(t){var e=this.container.getNamed(Pe.IDENTIFIER.Systems,Pe.IDENTIFIER.MaterialSystem);return e.createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(ty);return typeof t=="string"?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(Xm);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){var t=this.container.getAll(Pe.IDENTIFIER.Systems);t.forEach(function(i){i.tearDown&&i.tearDown()});var e=this.container.get(Pe.IDENTIFIER.RenderEngine);e.destroy();var r=this.container.get(Pe.IDENTIFIER.InteractorService);r.destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object(Pe.createWorldContainer)(),r=navigator.gpu?Lx:hx;e.isBound(Pe.IDENTIFIER.RenderEngine)||e.bind(Pe.IDENTIFIER.RenderEngine).to(r).inSingletonScope(),e.bind(Xm).toSelf(),e.bind(ty).toSelf(),e.bind(Qc).toSelf(),e.bind(g0).toSelf(),e.bind(Fp).toSelf(),e.bind(_m).toSelf(),e.bind(u).toSelf(),e.bind(Jm).toSelf(),e.bind(l0).toSelf(),e.bind(Pe.IDENTIFIER.Geometry).to(Ux).whenTargetNamed($c.BOX),e.bind(Pe.IDENTIFIER.Geometry).to(Zx).whenTargetNamed($c.SPHERE),e.bind(Pe.IDENTIFIER.Geometry).to(Yx).whenTargetNamed($c.PLANE),e.bind(Pe.IDENTIFIER.Geometry).to(Vx).whenTargetNamed($c.MERGED),e.bind(Pe.IDENTIFIER.Material).to(nE).whenTargetNamed(sy.BASIC),e.bind(Pe.IDENTIFIER.Renderable).to(EE).whenTargetNamed(Qc.POINT),e.bind(Pe.IDENTIFIER.Renderable).to(vE).whenTargetNamed(Qc.LINE),e.bind(Pe.IDENTIFIER.Renderable).to(lE).whenTargetNamed(Qc.GRID);var i=e.get(u);return i.setContainer(e),i.setConfig(t),i}}]),u}(),O0),b0=Ua()(np.prototype,"configService",[y0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np))||m0),$h=function(n,t){var e;return n?Cr(n)?e=function(){return n}:e=n:e=function(){return t||1},e},IE=function(n,t){var e=[],r=[],i={},l=0;for(l=0;l<n.length;l++){var d=n[l];i[d.id]=l,e.push(d.x),e.push(d.y),e.push(0),e.push(0),r.push([])}for(l=0;l<t.length;l++){var v=t[l];r[i[v.source]].push(i[v.target]),r[i[v.target]].push(i[v.source])}var D=0;for(l=0;l<n.length;l++){var R=e.length,F=r[l],Z=F.length;e[l*4+2]=R,e[l*4+3]=F.length,D=Math.max(D,F.length);for(var J=0;J<Z;++J){var it=F[J];e.push(+it)}}for(;e.length%4!=0;)e.push(0);return{maxEdgePerVetex:D,array:new Float32Array(e)}},LE=function(n,t,e,r){var i=[],l=[],d={},v=0;for(v=0;v<n.length;v++){var D=n[v];d[D.id]=v,i.push(D.x),i.push(D.y),i.push(0),i.push(0),l.push([])}for(v=0;v<t.length;v++){var R=t[v];l[d[R.source]].push(d[R.target]),l[d[R.source]].push(e(R)),l[d[R.source]].push(r(R)),l[d[R.source]].push(0),l[d[R.target]].push(d[R.source]),l[d[R.target]].push(e(R)),l[d[R.target]].push(r(R)),l[d[R.target]].push(0)}var F=0;for(v=0;v<n.length;v++){var Z=i.length,J=l[v],it=J.length;i[v*4+2]=Z+1048576*it/4,i[v*4+3]=0,F=Math.max(F,it/4);for(var dt=0;dt<it;++dt){var bt=J[dt];i.push(+bt)}}for(;i.length%4!=0;)i.push(0);return{maxEdgePerVetex:F,array:new Float32Array(i)}},jE=function(n,t){var e=[],r=n.length,i={};return t.forEach(function(l){n.forEach(function(d,v){if(i[l[d]]===void 0&&(i[l[d]]=Object.keys(i).length),e.push(i[l[d]]),v===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(i).length}},E0=function(n){for(var t=[],e=n.length,r=n[0].length,i=function(v){n.forEach(function(D,R){if(t.push(D[v]),R===e-1)for(;t.length%4!=0;)t.push(0)})},l=0;l<r;l++)i(l);return new Float32Array(t)},_C=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,RE='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',ZC=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,wE='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}',sg=function(u,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(R){try{D(e.next(R))}catch(F){l(F)}}function v(R){try{D(e.throw(R))}catch(F){l(F)}}function D(R){R.done?i(R.value):r(R.value).then(d,v)}D((e=e.apply(u,n||[])).next())})},BE=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=1,r.clustering=!1,r.clusterField="cluster",r.clusterGravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return sg(this,void 0,void 0,ti.a.mark(function r(){var i=this,l,d,v,D,R;return ti.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(l=this,d=l.nodes,!(!d||d.length===0)){Z.next=5;break}return l.onLayoutEnd&&l.onLayoutEnd(),Z.abrupt("return");case 5:if(!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]),v=l.center,d.length!==1){Z.next=14;break}return d[0].x=v[0],d[0].y=v[1],l.onLayoutEnd&&l.onLayoutEnd(),Z.abrupt("return");case 14:return D={},R={},d.forEach(function(J,it){Cr(J.x)||(J.x=Math.random()*i.width),Cr(J.y)||(J.y=Math.random()*i.height),D[J.id]=J,R[J.id]=it}),l.nodeMap=D,l.nodeIdxMap=R,Z.next=21,l.run();case 21:case"end":return Z.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,i){return sg(this,void 0,void 0,ti.a.mark(function l(){var d=this,v,D,R,F,Z;return ti.a.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(v=this,D=v.nodes,R=v.center,!(!D||D.length===0)){it.next=5;break}return it.abrupt("return");case 5:if(D.length!==1){it.next=9;break}return D[0].x=R[0],D[0].y=R[1],it.abrupt("return");case 9:return F={},Z={},D.forEach(function(dt,bt){Cr(dt.x)||(dt.x=Math.random()*d.width),Cr(dt.y)||(dt.y=Math.random()*d.height),F[dt.id]=dt,Z[dt.id]=bt}),v.nodeMap=F,v.nodeIdxMap=Z,it.next=16,v.run(r,i);case 16:case"end":return it.stop()}},l,this)}))}},{key:"run",value:function(r,i){return sg(this,void 0,void 0,ti.a.mark(function l(){var d=this,v,D,R,F,Z,J,it,dt,bt,Dt,At,wt,zt,Kt,$t,ee,re,fe,ce,Ae,Te,cr,fr,gr,qr,kr;return ti.a.wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:for(v=this,D=v.nodes,R=v.edges,F=v.maxIteration,Z=v.center,J=v.height*v.width,it=Math.sqrt(J)/10,dt=J/(D.length+1),bt=Math.sqrt(dt),Dt=v.speed,At=v.clustering,wt=jE([v.clusterField],D),zt=wt.array,Kt=wt.count,D.forEach(function(Ir,Sr){var Xr=0,en=0;Cr(Ir.fx)&&Cr(Ir.fy)&&(Xr=Ir.fx||.001,en=Ir.fy||.001),zt[4*Sr+1]=Xr,zt[4*Sr+2]=en}),$t=D.length,ee=IE(D,R),re=ee.maxEdgePerVetex,fe=ee.array,ce=v.workerEnabled,ce?Ae=og.create({canvas:r,engineOptions:{supportCompute:!0}}):Ae=og.create({engineOptions:{supportCompute:!0}}),Te=v.onLayoutEnd,cr=[],fr=0;fr<Kt;fr++)cr.push(0,0,0,0);return gr=Ae.createKernel(RE).setDispatch([$t,1,1]).setBinding({u_Data:fe,u_K:bt,u_K2:dt,u_Gravity:v.gravity,u_ClusterGravity:v.clusterGravity||v.gravity||1,u_Speed:Dt,u_MaxDisplace:it,u_Clustering:At?1:0,u_Center:Z,u_AttributeArray:zt,u_ClusterCenters:cr,MAX_EDGE_PER_VERTEX:re,VERTEX_COUNT:$t}),At&&(qr=Ae.createKernel(wE).setDispatch([Kt,1,1]).setBinding({u_Data:fe,u_NodeAttributes:zt,u_ClusterCenters:cr,VERTEX_COUNT:$t,CLUSTER_COUNT:Kt})),kr=function(){return sg(d,void 0,void 0,ti.a.mark(function Sr(){var Xr,en;return ti.a.wrap(function(Dr){for(;;)switch(Dr.prev=Dr.next){case 0:Xr=0;case 1:if(!(Xr<F)){Dr.next=13;break}return Dr.next=4,gr.execute();case 4:if(!At){Dr.next=9;break}return qr.setBinding({u_Data:gr}),Dr.next=8,qr.execute();case 8:gr.setBinding({u_ClusterCenters:qr});case 9:gr.setBinding({u_MaxDisplace:it*=.99});case 10:Xr++,Dr.next=1;break;case 13:return Dr.next=15,gr.getOutput();case 15:en=Dr.sent,r?i.postMessage({type:Ud.GPUEND,vertexEdgeData:en}):D.forEach(function(Tn,Rn){var wn=en[4*Rn],Un=en[4*Rn+1];Tn.x=wn,Tn.y=Un}),Te&&Te();case 18:case"end":return Dr.stop()}},Sr)}))},Fr.next=25,kr();case 25:case"end":return Fr.stop()}},l,this)}))}},{key:"getType",value:function(){return"fruchterman-gpu"}}]),t}(_r),$C=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,NE='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',QC=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,FE='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}',ip=function(u,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(R){try{D(e.next(R))}catch(F){l(F)}}function v(R){try{D(e.throw(R))}catch(F){l(F)}}function D(R){R.done?i(R.value):r(R.value).then(d,v)}D((e=e.apply(u,n||[])).next())})},GE=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=.5,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return ip(this,void 0,void 0,ti.a.mark(function r(){var i,l,d,v,D;return ti.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(i=this,l=i.nodes,!(!l||l.length===0)){F.next=5;break}return i.onLayoutEnd&&i.onLayoutEnd(),F.abrupt("return");case 5:if(!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]),d=i.center,l.length!==1){F.next=14;break}return l[0].x=d[0],l[0].y=d[1],i.onLayoutEnd&&i.onLayoutEnd(),F.abrupt("return");case 14:return v={},D={},l.forEach(function(Z,J){Cr(Z.x)||(Z.x=Math.random()*i.width),Cr(Z.y)||(Z.y=Math.random()*i.height),v[Z.id]=Z,D[Z.id]=J}),i.nodeMap=v,i.nodeIdxMap=D,i.nodeStrength=$h(i.nodeStrength,1),i.edgeStrength=$h(i.edgeStrength,1),F.next=23,i.run();case 23:case"end":return F.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,i){var l=this,d=l.nodes,v=l.center;if(!(!d||d.length===0)){if(d.length===1){d[0].x=v[0],d[0].y=v[1];return}var D={},R={};d.forEach(function(F,Z){Cr(F.x)||(F.x=Math.random()*l.width),Cr(F.y)||(F.y=Math.random()*l.height),D[F.id]=F,R[F.id]=Z}),l.nodeMap=D,l.nodeIdxMap=R,l.nodeStrength=$h(l.nodeStrength,1),l.edgeStrength=$h(l.edgeStrength,1),l.run(r,i)}}},{key:"run",value:function(r,i){return ip(this,void 0,void 0,ti.a.mark(function l(){var d=this,v,D,R,F,Z,J,it,dt,bt,Dt,At,wt,zt,Kt,$t,ee,re,fe,ce,Ae,Te,cr,fr,gr,qr,kr,Nr;return ti.a.wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:for(v=this,D=v.nodes,R=v.edges,F=v.maxIteration,!v.width&&typeof window!="undefined"&&(v.width=window.innerWidth),!v.height&&typeof window!="undefined"&&(v.height=window.innerHeight),Z=D.length,v.linkDistance=$h(v.linkDistance),v.edgeStrength=$h(v.edgeStrength),J=LE(D,R,v.linkDistance,v.edgeStrength),it=J.maxEdgePerVetex,dt=J.array,v.degrees=Hr(D.length,v.nodeIdxMap,R),bt=[],Dt=[],At=[],wt=[],zt=[],Kt=[],$t=[],v.getMass||(v.getMass=function(Sr){return v.degrees[v.nodeIdxMap[Sr.id]]||1}),ee=v.gravity,re=v.center,D.forEach(function(Sr,Xr){bt.push(v.getMass(Sr)),Dt.push(v.nodeStrength(Sr)),v.degrees[Xr]||(v.degrees[Xr]=0);var en=[re[0],re[1],ee];if(v.getCenter){var Ar=v.getCenter(Sr,v.degrees[Xr]);Ar&&Cr(Ar[0])&&Cr(Ar[1])&&Cr(Ar[2])&&(en=Ar)}At.push(en[0]),wt.push(en[1]),zt.push(en[2]),Cr(Sr.fx)&&Cr(Sr.fy)?(Kt.push(Sr.fx||.001),$t.push(Sr.fy||.001)):(Kt.push(0),$t.push(0))}),fe=E0([bt,v.degrees,Dt,Kt]),ce=E0([At,wt,zt,$t]),Ae=v.workerEnabled,Ae?Te=og.create({canvas:r,engineOptions:{supportCompute:!0}}):Te=og.create({engineOptions:{supportCompute:!0}}),cr=v.onLayoutEnd,fr=[],dt.forEach(function(Sr){fr.push(Sr)}),gr=0;gr<4;gr++)fr.push(0);return qr=Te.createKernel(NE).setDispatch([Z,1,1]).setBinding({u_Data:dt,u_damping:v.damping,u_maxSpeed:v.maxSpeed,u_minMovement:v.minMovement,u_coulombDisScale:v.coulombDisScale,u_factor:v.factor,u_NodeAttributeArray1:fe,u_NodeAttributeArray2:ce,MAX_EDGE_PER_VERTEX:it,VERTEX_COUNT:Z,u_AveMovement:fr,u_interval:v.interval}),kr=Te.createKernel(FE).setDispatch([1,1,1]).setBinding({u_Data:dt,VERTEX_COUNT:Z,u_AveMovement:[0,0,0,0]}),Nr=function(){return ip(d,void 0,void 0,ti.a.mark(function Xr(){var en,Ar,Dr;return ti.a.wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:en=0;case 1:if(!(en<F)){Rn.next=12;break}return Rn.next=4,qr.execute();case 4:return kr.setBinding({u_Data:qr}),Rn.next=7,kr.execute();case 7:Ar=Math.max(.02,v.interval-en*.002),qr.setBinding({u_interval:Ar,u_AveMovement:kr});case 9:en++,Rn.next=1;break;case 12:return Rn.next=14,qr.getOutput();case 14:Dr=Rn.sent,r?i.postMessage({type:Ud.GPUEND,vertexEdgeData:Dr}):D.forEach(function(wn,Un){var yi=Dr[4*Un],da=Dr[4*Un+1];wn.x=yi,wn.y=da}),cr&&cr();case 17:case"end":return Rn.stop()}},Xr)}))},Ir.next=35,Nr();case 35:case"end":return Ir.stop()}},l,this)}))}},{key:"getType",value:function(){return"gForce-gpu"}}]),t}(_r),UE=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.center=[0,0],r.maxIteration=100,r.gravity=10,r.comboGravity=10,r.linkDistance=10,r.alpha=1,r.alphaMin=.001,r.alphaDecay=1-Math.pow(r.alphaMin,1/300),r.alphaTarget=0,r.velocityDecay=.6,r.edgeStrength=.6,r.nodeStrength=30,r.preventOverlap=!1,r.preventNodeOverlap=!1,r.preventComboOverlap=!1,r.collideStrength=void 0,r.nodeCollideStrength=.5,r.comboCollideStrength=.5,r.comboSpacing=20,r.comboPadding=10,r.optimizeRangeFactor=1,r.onTick=function(){},r.onLayoutEnd=function(){},r.depthAttractiveForceScale=1,r.depthRepulsiveForceScale=2,r.nodes=[],r.edges=[],r.combos=[],r.comboTrees=[],r.width=300,r.height=300,r.bias=[],r.nodeMap={},r.oriComboMap={},r.indexMap={},r.comboMap={},r.previousLayouted=!1,r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=r.center;if(r.comboTree={id:"comboTreeRoot",depth:-1,children:r.comboTrees},!i||i.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(i.length===1){i[0].x=l[0],i[0].y=l[1],r.onLayoutEnd&&r.onLayoutEnd();return}r.initVals(),r.run(),r.onLayoutEnd&&r.onLayoutEnd()}},{key:"run",value:function(){var r=this,i=r.nodes,l=r.previousLayouted?r.maxIteration/5:r.maxIteration;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var d=r.center,v=r.velocityDecay,D=r.comboMap;r.previousLayouted||r.initPos(D);for(var R=function(dt){var bt=[];i.forEach(function(Dt,At){bt[At]={x:0,y:0}}),r.applyCalculate(bt),r.applyComboCenterForce(bt),i.forEach(function(Dt,At){!Cr(Dt.x)||!Cr(Dt.y)||(Dt.x+=bt[At].x*v,Dt.y+=bt[At].y*v)}),r.alpha+=(r.alphaTarget-r.alpha)*r.alphaDecay,r.onTick()},F=0;F<l;F++)R(F);var Z=[0,0];i.forEach(function(it){!Cr(it.x)||!Cr(it.y)||(Z[0]+=it.x,Z[1]+=it.y)}),Z[0]/=i.length,Z[1]/=i.length;var J=[d[0]-Z[0],d[1]-Z[1]];i.forEach(function(it,dt){!Cr(it.x)||!Cr(it.y)||(it.x+=J[0],it.y+=J[1])}),r.combos.forEach(function(it){var dt=D[it.id];dt&&dt.empty&&(it.x=dt.cx||it.x,it.y=dt.cy||it.y)}),r.previousLayouted=!0}},{key:"initVals",value:function(){var r=this,i=r.edges,l=r.nodes,d=r.combos,v={},D={},R={};l.forEach(function(Nr,Fr){D[Nr.id]=Nr,R[Nr.id]=Fr}),r.nodeMap=D,r.indexMap=R;var F={};d.forEach(function(Nr){F[Nr.id]=Nr}),r.oriComboMap=F,r.comboMap=r.getComboMap();var Z=r.preventOverlap;r.preventComboOverlap=r.preventComboOverlap||Z,r.preventNodeOverlap=r.preventNodeOverlap||Z;var J=r.collideStrength;J&&(r.comboCollideStrength=J,r.nodeCollideStrength=J),r.comboCollideStrength=r.comboCollideStrength?r.comboCollideStrength:0,r.nodeCollideStrength=r.nodeCollideStrength?r.nodeCollideStrength:0;for(var it=0;it<i.length;++it)v[i[it].source]?v[i[it].source]++:v[i[it].source]=1,v[i[it].target]?v[i[it].target]++:v[i[it].target]=1;for(var dt=[],bt=0;bt<i.length;++bt)dt[bt]=v[i[bt].source]/(v[i[bt].source]+v[i[bt].target]);this.bias=dt;var Dt=r.nodeSize,At=r.nodeSpacing,wt,zt;if(Cr(At)?zt=function(){return At}:oi(At)?zt=At:zt=function(){return 0},this.nodeSpacing=zt,!Dt)wt=function(Fr){if(Fr.size){if(yr(Fr.size)){var Ir=Fr.size[0]>Fr.size[1]?Fr.size[0]:Fr.size[1];return Ir/2}return Fr.size/2}return 10};else if(oi(Dt))wt=function(Fr){return Dt(Fr)};else if(yr(Dt)){var Kt=Dt[0]>Dt[1]?Dt[0]:Dt[1],$t=Kt/2;wt=function(Fr){return $t}}else{var ee=Dt/2;wt=function(Fr){return ee}}this.nodeSize=wt;var re=r.comboSpacing,fe;Cr(re)?fe=function(){return re}:oi(re)?fe=re:fe=function(){return 0},this.comboSpacing=fe;var ce=r.comboPadding,Ae;Cr(ce)?Ae=function(){return ce}:yr(ce)?Ae=function(){return Math.max.apply(null,ce)}:oi(ce)?Ae=ce:Ae=function(){return 0},this.comboPadding=Ae;var Te=this.linkDistance,cr;Te||(Te=10),Cr(Te)?cr=function(Fr){return Te}:cr=Te,this.linkDistance=cr;var fr=this.edgeStrength,gr;fr||(fr=1),Cr(fr)?gr=function(Fr){return fr}:gr=fr,this.edgeStrength=gr;var qr=this.nodeStrength,kr;qr||(qr=30),Cr(qr)?kr=function(Fr){return qr}:kr=qr,this.nodeStrength=kr}},{key:"initPos",value:function(r){var i=this,l=i.nodes;l.forEach(function(d,v){var D=d.comboId,R=r[D];D&&R?(d.x=R.cx+100/(v+1),d.y=R.cy+100/(v+1)):(d.x=100/(v+1),d.y=100/(v+1))})}},{key:"getComboMap",value:function(){var r=this,i=r.nodeMap,l=r.indexMap,d=r.comboTrees,v=r.oriComboMap,D={};return(d||[]).forEach(function(R){var F=[];fn(R,function(Z){if(Z.itemType==="node"||!v[Z.id])return!0;if(D[Z.id]===void 0){var J={id:Z.id,name:Z.id,cx:0,cy:0,count:0,depth:r.oriComboMap[Z.id].depth,children:[]};D[Z.id]=J}var it=Z.children;it&&it.forEach(function(zt){if(!D[zt.id]&&!i[zt.id])return!0;F.push(zt)});var dt=D[Z.id];if(dt.cx=0,dt.cy=0,F.length===0){dt.empty=!0;var bt=v[Z.id],Dt=Object.keys(i).length,At="".concat(Z.id,"-visual-child-").concat(Dt),wt={id:At,x:bt.x,y:bt.y,depth:dt.depth+1,itemType:"node"};r.nodes.push(wt),i[At]=wt,l[At]=Dt,dt.cx=bt.x,dt.cy=bt.y,F.push(wt)}return F.forEach(function(zt){if(dt.count++,zt.itemType!=="node"){var Kt=D[zt.id];Cr(Kt.cx)&&(dt.cx+=Kt.cx),Cr(Kt.cy)&&(dt.cy+=Kt.cy);return}var $t=i[zt.id];!$t||(Cr($t.x)&&(dt.cx+=$t.x),Cr($t.y)&&(dt.cy+=$t.y))}),dt.cx/=dt.count,dt.cy/=dt.count,dt.children=F,!0})}),D}},{key:"applyComboCenterForce",value:function(r){var i=this,l=i.gravity,d=i.comboGravity||l,v=this.alpha,D=i.comboTrees,R=i.indexMap,F=i.nodeMap,Z=i.comboMap;(D||[]).forEach(function(J){fn(J,function(it){if(it.itemType==="node")return!0;var dt=Z[it.id];if(!dt)return!0;var bt=Z[it.id],Dt=(bt.depth+1)/10*.5,At=bt.cx,wt=bt.cy;return bt.cx=0,bt.cy=0,bt.children.forEach(function(zt){if(zt.itemType!=="node"){var Kt=Z[zt.id];Kt&&Cr(Kt.cx)&&(bt.cx+=Kt.cx),Kt&&Cr(Kt.cy)&&(bt.cy+=Kt.cy);return}var $t=F[zt.id],ee=$t.x-At||.005,re=$t.y-wt||.005,fe=Math.sqrt(ee*ee+re*re),ce=R[$t.id],Ae=d*v/fe*Dt;r[ce].x-=ee*Ae,r[ce].y-=re*Ae,Cr($t.x)&&(bt.cx+=$t.x),Cr($t.y)&&(bt.cy+=$t.y)}),bt.cx/=bt.count,bt.cy/=bt.count,!0})})}},{key:"applyCalculate",value:function(r){var i=this,l=i.comboMap,d=i.nodes,v={};d.forEach(function(R,F){d.forEach(function(Z,J){if(!(F<J)){var it=R.x-Z.x||.005,dt=R.y-Z.y||.005,bt=it*it+dt*dt,Dt=Math.sqrt(bt);bt<1&&(bt=Dt),v["".concat(R.id,"-").concat(Z.id)]={vx:it,vy:dt,vl2:bt,vl:Dt},v["".concat(Z.id,"-").concat(R.id)]={vl2:bt,vl:Dt,vx:-it,vy:-dt}}})}),i.updateComboSizes(l),i.calRepulsive(r,v),i.calAttractive(r,v);var D=i.preventComboOverlap;D&&i.comboNonOverlapping(r,l)}},{key:"updateComboSizes",value:function(r){var i=this,l=i.comboTrees,d=i.nodeMap,v=i.nodeSize,D=i.comboSpacing,R=i.comboPadding;(l||[]).forEach(function(F){var Z=[];fn(F,function(J){if(J.itemType==="node")return!0;var it=r[J.id];if(!it)return!1;var dt=J.children;dt&&dt.forEach(function(At){!r[At.id]&&!d[At.id]||Z.push(At)}),it.minX=Infinity,it.minY=Infinity,it.maxX=-Infinity,it.maxY=-Infinity,Z.forEach(function(At){if(At.itemType!=="node")return!0;var wt=d[At.id];if(!wt)return!0;var zt=v(wt),Kt=wt.x-zt,$t=wt.y-zt,ee=wt.x+zt,re=wt.y+zt;it.minX>Kt&&(it.minX=Kt),it.minY>$t&&(it.minY=$t),it.maxX<ee&&(it.maxX=ee),it.maxY<re&&(it.maxY=re)});var bt=i.oriComboMap[J.id].size||10;yr(bt)&&(bt=bt[0]);var Dt=Math.max(it.maxX-it.minX,it.maxY-it.minY,bt);return it.r=Dt/2+D(it)/2+R(it),!0})})}},{key:"comboNonOverlapping",value:function(r,i){var l=this,d=l.comboTree,v=l.comboCollideStrength,D=l.indexMap,R=l.nodeMap;fn(d,function(F){if(!i[F.id]&&!R[F.id]&&F.id!=="comboTreeRoot")return!1;var Z=F.children;return Z&&Z.length>1&&Z.forEach(function(J,it){if(J.itemType==="node")return!1;var dt=i[J.id];!dt||Z.forEach(function(bt,Dt){if(it<=Dt||bt.itemType==="node")return!1;var At=i[bt.id];if(!At)return!1;var wt=dt.cx-At.cx||.005,zt=dt.cy-At.cy||.005,Kt=wt*wt+zt*zt,$t=dt.r,ee=At.r,re=$t+ee,fe=ee*ee,ce=$t*$t;if(Kt<re*re){var Ae=J.children;if(!Ae||Ae.length===0)return!1;var Te=bt.children;if(!Te||Te.length===0)return!1;var cr=Math.sqrt(Kt),fr=(re-cr)/cr*v,gr=wt*fr,qr=zt*fr,kr=fe/(ce+fe),Nr=1-kr;Ae.forEach(function(Fr){if(Fr.itemType!=="node")return!1;if(!!R[Fr.id]){var Ir=D[Fr.id];Te.forEach(function(Sr){if(Sr.itemType!=="node"||!R[Sr.id])return!1;var Xr=D[Sr.id];r[Ir].x+=gr*kr,r[Ir].y+=qr*kr,r[Xr].x-=gr*Nr,r[Xr].y-=qr*Nr})}})}})}),!0})}},{key:"calRepulsive",value:function(r,i){var l=this,d=l.nodes,v=l.width*l.optimizeRangeFactor,D=l.nodeStrength,R=l.alpha,F=l.nodeCollideStrength,Z=l.preventNodeOverlap,J=l.nodeSize,it=l.nodeSpacing,dt=l.depthRepulsiveForceScale,bt=l.center;d.forEach(function(Dt,At){if(!(!Dt.x||!Dt.y)){if(bt){var wt=l.gravity,zt=Dt.x-bt[0]||.005,Kt=Dt.y-bt[1]||.005,$t=Math.sqrt(zt*zt+Kt*Kt);r[At].x-=zt*wt*R/$t,r[At].y-=Kt*wt*R/$t}d.forEach(function(ee,re){if(At!==re&&!(!ee.x||!ee.y)){var fe=i["".concat(Dt.id,"-").concat(ee.id)],ce=fe.vl2,Ae=fe.vl;if(!(Ae>v)){var Te=i["".concat(Dt.id,"-").concat(ee.id)],cr=Te.vx,fr=Te.vy,gr=Math.log(Math.abs(ee.depth-Dt.depth)/10)+1||1;gr=gr<1?1:gr,ee.comboId!==Dt.comboId&&(gr+=1);var qr=gr?Math.pow(dt,gr):1,kr=D(ee)*R/ce*qr;if(r[At].x+=cr*kr,r[At].y+=fr*kr,At<re&&Z){var Nr=J(Dt)+it(Dt),Fr=J(ee)+it(ee),Ir=Nr+Fr;if(ce<Ir*Ir){var Sr=(Ir-Ae)/Ae*F,Xr=Fr*Fr,en=Xr/(Nr*Nr+Xr),Ar=cr*Sr,Dr=fr*Sr;r[At].x+=Ar*en,r[At].y+=Dr*en,en=1-en,r[re].x-=Ar*en,r[re].y-=Dr*en}}}}})}})}},{key:"calAttractive",value:function(r,i){var l=this,d=l.edges,v=l.linkDistance,D=l.alpha,R=l.edgeStrength,F=l.bias,Z=l.depthAttractiveForceScale;d.forEach(function(J,it){if(!(!J.source||!J.target||J.source===J.target)){var dt=l.indexMap[J.source],bt=l.indexMap[J.target],Dt=l.nodeMap[J.source],At=l.nodeMap[J.target];if(!(!Dt||!At)){var wt=Math.log(Math.abs(Dt.depth-At.depth)/10);Dt.comboId===At.comboId&&(wt=wt/2);var zt=wt?Math.pow(Z,wt):1;if(Dt.comboId!==At.comboId&&zt===1?zt=Z/2:Dt.comboId===At.comboId&&(zt=2),!(!Cr(At.x)||!Cr(Dt.x)||!Cr(At.y)||!Cr(Dt.y))){var Kt=i["".concat(J.target,"-").concat(J.source)],$t=Kt.vl,ee=Kt.vx,re=Kt.vy,fe=($t-v(J))/$t*D*R(J)*zt,ce=ee*fe,Ae=re*fe,Te=F[it];r[bt].x-=ce*Te,r[bt].y-=Ae*Te,r[dt].x+=ce*(1-Te),r[dt].y+=Ae*(1-Te)}}}})}},{key:"getType",value:function(){return"comboForce"}}]),t}(_r),WE=function(){function u(n){Object(wr.a)(this,u),this.id=n.id||0,this.rx=n.rx,this.ry=n.ry,this.fx=0,this.fy=0,this.mass=n.mass,this.degree=n.degree,this.g=n.g||0}return Object(Zr.a)(u,[{key:"distanceTo",value:function(t){var e=this.rx-t.rx,r=this.ry-t.ry;return Math.hypot(e,r)}},{key:"setPos",value:function(t,e){this.rx=t,this.ry=e}},{key:"resetForce",value:function(){this.fx=0,this.fy=0}},{key:"addForce",value:function(t){var e=t.rx-this.rx,r=t.ry-this.ry,i=Math.hypot(e,r);i=i<1e-4?1e-4:i;var l=this.g*(this.degree+1)*(t.degree+1)/i;this.fx+=l*e/i,this.fy+=l*r/i}},{key:"in",value:function(t){return t.contains(this.rx,this.ry)}},{key:"add",value:function(t){var e=this.mass+t.mass,r=(this.rx*this.mass+t.rx*t.mass)/e,i=(this.ry*this.mass+t.ry*t.mass)/e,l=this.degree+t.degree,d={rx:r,ry:i,mass:e,degree:l};return new u(d)}}]),u}(),zE=function(){function u(n){Object(wr.a)(this,u),this.xmid=n.xmid,this.ymid=n.ymid,this.length=n.length,this.massCenter=n.massCenter||[0,0],this.mass=n.mass||1}return Object(Zr.a)(u,[{key:"getLength",value:function(){return this.length}},{key:"contains",value:function(t,e){var r=this.length/2;return t<=this.xmid+r&&t>=this.xmid-r&&e<=this.ymid+r&&e>=this.ymid-r}},{key:"NW",value:function(){var t=this.xmid-this.length/4,e=this.ymid+this.length/4,r=this.length/2,i={xmid:t,ymid:e,length:r},l=new u(i);return l}},{key:"NE",value:function(){var t=this.xmid+this.length/4,e=this.ymid+this.length/4,r=this.length/2,i={xmid:t,ymid:e,length:r},l=new u(i);return l}},{key:"SW",value:function(){var t=this.xmid-this.length/4,e=this.ymid-this.length/4,r=this.length/2,i={xmid:t,ymid:e,length:r},l=new u(i);return l}},{key:"SE",value:function(){var t=this.xmid+this.length/4,e=this.ymid-this.length/4,r=this.length/2,i={xmid:t,ymid:e,length:r},l=new u(i);return l}}]),u}(),kE=function(){function u(n){Object(wr.a)(this,u),this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,n!=null&&(this.quad=n)}return Object(Zr.a)(u,[{key:"insert",value:function(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new u(this.quad.NW()),this.NE=new u(this.quad.NE()),this.SW=new u(this.quad.SW()),this.SE=new u(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}},{key:"_putBody",value:function(t){!this.quad||(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}},{key:"_isExternal",value:function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}},{key:"updateForce",value:function(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{var e=this.quad?this.quad.getLength():0,r=this.body.distanceTo(t);e/r<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}]),u}(),VE=function(u){Object(rn.a)(t,u);var n=Object(gn.a)(t);function t(e){var r;return Object(wr.a)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.kr=5,r.kg=1,r.mode="normal",r.preventOverlap=!1,r.dissuadeHubs=!1,r.barnesHut=!1,r.maxIteration=0,r.ks=.1,r.ksmax=10,r.tao=.1,r.onLayoutEnd=function(){},r.prune=!1,r.updateCfg(e),r}return Object(Zr.a)(t,[{key:"getDefaultCfg",value:function(){return{}}},{key:"execute",value:function(){var r=this,i=r.nodes,l=r.maxIteration,d=r.onLayoutEnd,v=r.prune;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);for(var D=[],R=i.length,F=0;F<R;F+=1){var Z=i[F],J=10,it=10;Cr(Z.size)&&(J=Z.size,it=Z.size),yr(Z.size)&&(isNaN(Z.size[0])||(J=Z.size[0]),isNaN(Z.size[1])||(it=Z.size[1])),r.getWidth&&!isNaN(r.getWidth(Z))&&(it=r.getWidth(Z)),r.getHeight&&!isNaN(r.getHeight(Z))&&(J=r.getHeight(Z));var dt=Math.max(J,it);D.push(dt)}!r.barnesHut&&R>250&&(r.barnesHut=!0),!r.prune&&R>100&&(r.prune=!0),this.maxIteration===0&&!r.prune?(l=250,R<=200&&R>100?l=1e3:R>200&&(l=1200),this.maxIteration=l):this.maxIteration===0&&v&&(l=100,R<=200&&R>100?l=500:R>200&&(l=950),this.maxIteration=l),r.kr||(r.kr=50,R>100&&R<=500?r.kr=20:R>500&&(r.kr=1)),r.kg||(r.kg=20,R>100&&R<=500?r.kg=10:R>500&&(r.kg=1)),this.nodes=r.updateNodesByForces(D),d()}},{key:"updateNodesByForces",value:function(r){for(var i=this,l=i.nodes,d=i.edges,v=i.maxIteration,D=d.filter(function(fe){return fe.source!==fe.target}),R=l.length,F=D.length,Z=[],J={},it={},dt=[],bt=0;bt<R;bt+=1)J[l[bt].id]=bt,Z[bt]=0,(l[bt].x===void 0||isNaN(l[bt].x))&&(l[bt].x=Math.random()*1e3),(l[bt].y===void 0||isNaN(l[bt].y))&&(l[bt].y=Math.random()*1e3),dt.push({x:l[bt].x,y:l[bt].y});for(var Dt=0;Dt<F;Dt+=1){for(var At=void 0,wt=void 0,zt=0,Kt=0,$t=0;$t<R;$t+=1)l[$t].id===D[Dt].source?(At=l[$t],zt=$t):l[$t].id===D[Dt].target&&(wt=l[$t],Kt=$t),it[Dt]={sourceIdx:zt,targetIdx:Kt};At&&(Z[J[At.id]]+=1),wt&&(Z[J[wt.id]]+=1)}var ee=v;if(l=this.iterate(ee,J,it,F,Z,r),i.prune){for(var re=0;re<F;re+=1)Z[it[re].sourceIdx]<=1?(l[it[re].sourceIdx].x=l[it[re].targetIdx].x,l[it[re].sourceIdx].y=l[it[re].targetIdx].y):Z[it[re].targetIdx]<=1&&(l[it[re].targetIdx].x=l[it[re].sourceIdx].x,l[it[re].targetIdx].y=l[it[re].sourceIdx].y);i.prune=!1,i.barnesHut=!1,ee=100,l=this.iterate(ee,J,it,F,Z,r)}return l}},{key:"iterate",value:function(r,i,l,d,v,D){for(var R=this,F=R.nodes,Z=R.kr,J=R.preventOverlap,it=R.barnesHut,dt=F.length,bt=0,Dt=100,At=r,wt=50,zt=[],Kt=[],$t=[],ee=0;ee<dt;ee+=1)if(zt[2*ee]=0,zt[2*ee+1]=0,it){var re={id:ee,rx:F[ee].x,ry:F[ee].y,mass:1,g:Z,degree:v[ee]};$t[ee]=new WE(re)}for(;At>0;){for(var fe=0;fe<dt;fe+=1)Kt[2*fe]=zt[2*fe],Kt[2*fe+1]=zt[2*fe+1],zt[2*fe]=0,zt[2*fe+1]=0;zt=this.getAttrForces(At,wt,d,i,l,v,D,zt),it&&(J&&At>wt||!J)?zt=this.getOptRepGraForces(zt,$t,v):zt=this.getRepGraForces(At,wt,zt,Dt,D,v);var ce=this.updatePos(zt,Kt,bt,v);F=ce.nodes,bt=ce.sg,At--,R.tick&&R.tick()}return F}},{key:"getAttrForces",value:function(r,i,l,d,v,D,R,F){for(var Z=this,J=Z.nodes,it=Z.preventOverlap,dt=Z.dissuadeHubs,bt=Z.mode,Dt=Z.prune,At=0;At<l;At+=1){var wt=J[v[At].sourceIdx],zt=v[At].sourceIdx,Kt=J[v[At].targetIdx],$t=v[At].targetIdx;if(!(Dt&&(D[zt]<=1||D[$t]<=1))){var ee=[Kt.x-wt.x,Kt.y-wt.y],re=Math.hypot(ee[0],ee[1]);re=re<1e-4?1e-4:re,ee[0]=ee[0]/re,ee[1]=ee[1]/re,it&&r<i&&(re=re-R[zt]-R[$t]);var fe=re,ce=fe;bt==="linlog"&&(fe=Math.log(1+re),ce=fe),dt&&(fe=re/D[zt],ce=re/D[$t]),it&&r<i&&re<=0?(fe=0,ce=0):it&&r<i&&re>0&&(fe=re,ce=re),F[2*d[wt.id]]+=fe*ee[0],F[2*d[Kt.id]]-=ce*ee[0],F[2*d[wt.id]+1]+=fe*ee[1],F[2*d[Kt.id]+1]-=ce*ee[1]}}return F}},{key:"getRepGraForces",value:function(r,i,l,d,v,D){for(var R=this,F=R.nodes,Z=R.preventOverlap,J=R.kr,it=R.kg,dt=R.center,bt=R.prune,Dt=F.length,At=0;At<Dt;At+=1){for(var wt=At+1;wt<Dt;wt+=1)if(!(bt&&(D[At]<=1||D[wt]<=1))){var zt=[F[wt].x-F[At].x,F[wt].y-F[At].y],Kt=Math.hypot(zt[0],zt[1]);Kt=Kt<1e-4?1e-4:Kt,zt[0]=zt[0]/Kt,zt[1]=zt[1]/Kt,Z&&r<i&&(Kt=Kt-v[At]-v[wt]);var $t=J*(D[At]+1)*(D[wt]+1)/Kt;Z&&r<i&&Kt<0?$t=d*(D[At]+1)*(D[wt]+1):Z&&r<i&&Kt===0?$t=0:Z&&r<i&&Kt>0&&($t=J*(D[At]+1)*(D[wt]+1)/Kt),l[2*At]-=$t*zt[0],l[2*wt]+=$t*zt[0],l[2*At+1]-=$t*zt[1],l[2*wt+1]+=$t*zt[1]}var ee=[F[At].x-dt[0],F[At].y-dt[1]],re=Math.hypot(ee[0],ee[1]);ee[0]=ee[0]/re,ee[1]=ee[1]/re;var fe=it*(D[At]+1);l[2*At]-=fe*ee[0],l[2*At+1]-=fe*ee[1]}return l}},{key:"getOptRepGraForces",value:function(r,i,l){for(var d=this,v=d.nodes,D=d.kg,R=d.center,F=d.prune,Z=v.length,J=9e10,it=-9e10,dt=9e10,bt=-9e10,Dt=0;Dt<Z;Dt+=1)F&&l[Dt]<=1||(i[Dt].setPos(v[Dt].x,v[Dt].y),v[Dt].x>=it&&(it=v[Dt].x),v[Dt].x<=J&&(J=v[Dt].x),v[Dt].y>=bt&&(bt=v[Dt].y),v[Dt].y<=dt&&(dt=v[Dt].y));for(var At=Math.max(it-J,bt-dt),wt={xmid:(it+J)/2,ymid:(bt+dt)/2,length:At,massCenter:R,mass:Z},zt=new zE(wt),Kt=new kE(zt),$t=0;$t<Z;$t+=1)F&&l[$t]<=1||i[$t].in(zt)&&Kt.insert(i[$t]);for(var ee=0;ee<Z;ee+=1)if(!(F&&l[ee]<=1)){i[ee].resetForce(),Kt.updateForce(i[ee]),r[2*ee]-=i[ee].fx,r[2*ee+1]-=i[ee].fy;var re=[v[ee].x-R[0],v[ee].y-R[1]],fe=Math.hypot(re[0],re[1]);fe=fe<1e-4?1e-4:fe,re[0]=re[0]/fe,re[1]=re[1]/fe;var ce=D*(l[ee]+1);r[2*ee]-=ce*re[0],r[2*ee+1]-=ce*re[1]}return r}},{key:"updatePos",value:function(r,i,l,d){for(var v=this,D=v.nodes,R=v.ks,F=v.tao,Z=v.prune,J=v.ksmax,it=D.length,dt=[],bt=[],Dt=0,At=0,wt=0;wt<it;wt+=1)if(!(Z&&d[wt]<=1)){var zt=[r[2*wt]-i[2*wt],r[2*wt+1]-i[2*wt+1]],Kt=Math.hypot(zt[0],zt[1]),$t=[r[2*wt]+i[2*wt],r[2*wt+1]+i[2*wt+1]],ee=Math.hypot($t[0],$t[1]);dt[wt]=Kt,bt[wt]=ee/2,Dt+=(d[wt]+1)*dt[wt],At+=(d[wt]+1)*bt[wt]}var re=l;l=F*At/Dt,re!==0&&(l=l>1.5*re?1.5*re:l);for(var fe=0;fe<it;fe+=1)if(!(Z&&d[fe]<=1)){var ce=R*l/(1+l*Math.sqrt(dt[fe])),Ae=Math.hypot(r[2*fe],r[2*fe+1]);Ae=Ae<1e-4?1e-4:Ae;var Te=J/Ae;ce=ce>Te?Te:ce;var cr=ce*r[2*fe],fr=ce*r[2*fe+1];D[fe].x+=cr,D[fe].y+=fr}return{nodes:D,sg:l}}}]),t}(_r),JC=function(){function u(n){Object(wr.a)(this,u);var t=Oi(n.type);this.layoutInstance=new t(n)}return Object(Zr.a)(u,[{key:"layout",value:function(t){return this.layoutInstance.layout(t)}},{key:"updateCfg",value:function(t){this.layoutInstance.updateCfg(t)}},{key:"init",value:function(t){this.layoutInstance.init(t)}},{key:"execute",value:function(){this.layoutInstance.execute()}},{key:"getDefaultCfg",value:function(){return this.layoutInstance.getDefaultCfg()}},{key:"destroy",value:function(){return this.layoutInstance.destroy()}}]),u}(),ap=new Proxy({},{get:function(n,t){return Oi(t)},set:function(n,t,e){return Kn(t,e),!0}}),XE=a("efFw"),lg=a.n(XE),S0=Zo.traverseTree,HE=function(n,t){var e;return n?Object(g.isNumber)(n)?e=function(i){return n}:e=n:e=function(i){return t||1},e},YE=function(n,t){var e=[],r=[],i={},l=0;for(l=0;l<n.length;l++){var d=n[l];i[d.id]=l,e.push(d.x),e.push(d.y),e.push(0),e.push(0),r.push([])}for(l=0;l<t.length;l++){var v=t[l];r[i[v.source]].push(i[v.target]),r[i[v.target]].push(i[v.source])}var D=0;for(l=0;l<n.length;l++){var R=e.length,F=r[l],Z=F.length;e[l*4+2]=R,e[l*4+3]=F.length,D=Math.max(D,F.length);for(var J=0;J<Z;++J){var it=F[J];e.push(+it)}}for(;e.length%4!=0;)e.push(0);return{array:new Float32Array(e),maxEdgePerVetex:D}},KE=function(n,t,e){var r=[],i=[],l={},d=0;for(d=0;d<n.length;d++){var v=n[d];l[v.id]=d,r.push(v.x),r.push(v.y),r.push(0),r.push(0),i.push([])}for(d=0;d<t.length;d++){var D=t[d];i[l[D.source]].push(l[D.target]),i[l[D.source]].push(e(D)),i[l[D.target]].push(l[D.source]),i[l[D.target]].push(e(D))}var R=0;for(d=0;d<n.length;d++){var F=r.length,Z=i[d],J=Z.length;r[d*4+2]=F,r[d*4+3]=J/2,R=Math.max(R,J/2);for(var it=0;it<J;++it){var dt=Z[it];r.push(+dt)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:R}},_E=function(n,t,e,r){var i=[],l=[],d={},v=0;for(v=0;v<n.length;v++){var D=n[v];d[D.id]=v,i.push(D.x),i.push(D.y),i.push(0),i.push(0),l.push([])}for(v=0;v<t.length;v++){var R=t[v];l[d[R.source]].push(d[R.target]),l[d[R.source]].push(e(R)),l[d[R.source]].push(r(R)),l[d[R.source]].push(0),l[d[R.target]].push(d[R.source]),l[d[R.target]].push(e(R)),l[d[R.target]].push(r(R)),l[d[R.target]].push(0)}var F=0;for(v=0;v<n.length;v++){var Z=i.length,J=l[v],it=J.length;i[v*4+2]=Z+1048576*it/4,i[v*4+3]=0,F=Math.max(F,it/4);for(var dt=0;dt<it;++dt){var bt=J[dt];i.push(+bt)}}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:F}},ZE=function(n,t){var e=[],r=n.length,i={};return t.forEach(function(l){n.forEach(function(d,v){if(i[l[d]]===void 0&&(i[l[d]]=Object.keys(i).length),e.push(i[l[d]]),v===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(i).length}},$E=function(n){for(var t=[],e=n.length,r=n[0].length,i=function(v){n.forEach(function(D,R){if(t.push(D[v]),R===e-1)for(;t.length%4!=0;)t.push(0)})},l=0;l<r;l++)i(l);return new Float32Array(t)},QE=function(n,t){var e=["V","TB","BT"],r={x:Infinity,y:Infinity},i={x:-Infinity,y:-Infinity},l="x",d="y";t&&e.indexOf(t)>=0&&(d="x",l="y");var v=0;S0(n,function(F){return v++,F.x>i.x&&(i.x=F.x),F.x<r.x&&(r.x=F.x),F.y>i.y&&(i.y=F.y),F.y<r.y&&(r.y=F.y),!0});var D=Math.PI*2/v,R=i[d]-r[d];return R===0||S0(n,function(F){var Z=(F[d]-r[d])/R*(Math.PI*2-D)+D,J=Math.abs(l==="x"?F.x-n.x:F.y-n.y);return F.x=J*Math.cos(Z),F.y=J*Math.sin(Z),!0}),n},M0=function u(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var n=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(n.getContext("webgl")||n.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var e=t.parent!==void 0?t.parent:document.body,r=t.id!==void 0?t.id:"oldie",i=u().getWebGLErrorMessage();i.id=r,e.appendChild(i)}}},JE=Object(he.__assign)(Object(he.__assign)(Object(he.__assign)(Object(he.__assign)({},Zo),S),y),E),nc=JE,qE=nc.radialLayout,t1=function(){function u(n){this.type=n.type,this.radial=n.radial,this.config=n}return u.prototype.init=function(n){var t=this;if(this.data=n,this.radial){this.layoutMethod=function(e){var r=lg.a[t.type](e,t.config);return qE(r),r};return}this.layoutMethod=function(e){return lg.a[t.type](e,t.config)}},u.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},u.prototype.layout=function(n){return this.init(n),this.execute()},u}(),e1=t1;Kn("grid",wi),Kn("random",ka),Kn("force",Wd),Kn("circular",Bg),Kn("dagre",Fg),Kn("radial",Vd),Kn("concentric",Xd),Kn("mds",Xg),Kn("fruchterman",Pp),Kn("fruchterman-gpu",BE),Kn("gForce",Mi),Kn("gForce-gpu",GE),Kn("comboForce",UE),Kn("forceAtlas2",VE);var r1=function(n,t){t.isCustomLayout=!0,Kn(n,t)},n1=function(){function u(n,t){var e=n.toString(),r=new Blob(["importScripts('"+t+"');("+e+")()"],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}return u}(),i1=n1,a1=function(n){n===void 0&&(n="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var r={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function i(d){var v=d.data.type;return v===r.RUN||v===r.GPURUN}function l(d){var v=this,D=d.data.type;switch(D){case r.RUN:{var R=d.data,F=R.nodes,Z=R.edges,J=R.layoutCfg,it=J===void 0?{}:J,dt=it.type,bt=layout.getLayoutByName(dt);if(!bt){this.postMessage({type:r.ERROR,message:"layout "+dt+" not found"});break}var Dt;it.onLayoutEnd=function(){v.postMessage({type:r.END,nodes:F}),Dt==null||Dt.destroy()},Dt=new bt(it),Dt.init({nodes:F,edges:Z}),Dt.execute();break}case r.GPURUN:{var At=d.data,wt=At.nodes,Z=At.edges,zt=At.layoutCfg,it=zt===void 0?{}:zt,Kt=At.canvas,dt=it.type,bt=layout.getLayoutByName(dt);if(!bt){this.postMessage({type:r.ERROR,message:"layout "+dt+" not found"});break}if(dt.split("-")[1]!=="gpu"){this.postMessage({type:r.ERROR,message:"layout "+dt+" does not support GPU"});break}var $t=new bt(it);$t.init({nodes:wt,edges:Z}),$t.executeWithWorker(Kt,this);break}default:break}}onmessage=function(v){i(v)&&l(v)}}var e=new i1(t,n);return e},Qh={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function ug(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ug=function(t){return typeof t}:ug=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(u)}var C0=function(n){return setTimeout(n,16)},A0=function(n){return clearTimeout(n)},cg={requestAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||C0;return t(n)},cancelAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||A0;return t(n)}},T0=["fruchterman","gForce"],o1=["force","grid","circular"],s1=function(u){Object(he.__extends)(n,u);function n(t){var e=u.call(this,t)||this;return e.graph=t,e.layoutCfg=t.get("layout")||{},e.layoutType=e.getLayoutType(),e.worker=null,e.workerData={},e.initLayout(),e}return n.prototype.initLayout=function(){},n.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=a1(this.layoutCfg.workerScriptURL),this.worker)},n.prototype.stopWorker=function(){var t=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,t.requestId&&(cg.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(cg.cancelAnimationFrame(t.requestId2),t.requestId2=null))},n.prototype.execLayoutMethod=function(t,e){var r=this;return new Promise(function(i,l){var d=r.graph,v=t.type;t.onLayoutEnd=function(){d.emit("aftersublayout",{type:v}),i()},v&&r.isGPU&&(r.hasGPUVersion(v)?v=v+"-gpu":console.warn("The '"+v+"' layout does not support GPU calculation for now, it will run in CPU."));var D=v==="force"||v==="g6force"||v==="gForce";if(D){var R=t.onTick,F=function(){R&&R(),d.refreshPositions()};t.tick=F}else t.type==="comboForce"&&(t.comboTrees=d.get("comboTrees"));var Z=!1,J;try{J=new ap[v](t)}catch(bt){console.warn("The layout method: '"+v+"' does not exist! Please specify it first."),l()}if(Z=J.enableTick,Z){var it=t.onTick,F=function(){it&&it(),d.refreshPositions()};J.tick=F}var dt=r.filterLayoutData(r.data,t);f1(dt,e),J.init(dt),d.emit("beforesublayout",{type:v}),J.execute(),J.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),r.layoutMethods[e]=J})},n.prototype.updateLayoutMethod=function(t,e){var r=this;return new Promise(function(i,l){var d=r.graph,v=e==null?void 0:e.type;e.onLayoutEnd=function(){d.emit("aftersublayout",{type:v}),i()};var D=r.filterLayoutData(r.data,e);t.init(D),t.updateCfg(e),d.emit("beforesublayout",{type:v}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()})},n.prototype.layout=function(t){var e=this,r=this.graph;this.data=this.setDataFromGraph();var i=this.data,l=i.nodes,d=i.hiddenNodes;if(!l)return!1;var v=r.get("width"),D=r.get("height"),R={};Object.assign(R,{width:v,height:D,center:[v/2,D/2]},this.layoutCfg),this.layoutCfg=R,this.destoryLayoutMethods(),r.emit("beforelayout"),this.initPositions(R.center,l),this.initPositions(R.center,d);var F=R.type;F&&F.split("-")[1]==="gpu"&&(F=F.split("-")[0],R.gpuEnabled=!0);var Z=!1;R.gpuEnabled&&(Z=!0,M0().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),Z=!1)),this.isGPU=Z;var J=R.onLayoutEnd,it=R.layoutEndFormatted,dt=R.adjust;if(it||(R.layoutEndFormatted=!0,R.onAllLayoutEnd=function(){return Object(he.__awaiter)(e,void 0,void 0,function(){return Object(he.__generator)(this,function(Dt){switch(Dt.label){case 0:return J&&J(),this.refreshLayout(),dt&&R.pipes?[4,this.adjustPipesBox(this.data,dt)]:[3,2];case 1:Dt.sent(),this.refreshLayout(),Dt.label=2;case 2:return r.emit("afterlayout"),[2]}})})}),this.stopWorker(),R.workerEnabled&&this.layoutWithWorker(this.data))return!0;var bt=Promise.resolve();return R.type?bt=bt.then(function(){return e.execLayoutMethod(R,0)}):R.pipes&&R.pipes.forEach(function(Dt,At){bt=bt.then(function(){return e.execLayoutMethod(Dt,At)})}),bt.then(function(){R.onAllLayoutEnd&&R.onAllLayoutEnd(),t&&t()}).catch(function(Dt){console.warn("graph layout failed,",Dt)}),!1},n.prototype.layoutWithWorker=function(t){var e=this,r=this,i=r.layoutCfg,l=r.graph,d=this.getWorker(),v=this.workerData;if(!d)return!1;v.requestId=null,v.requestId2=null,v.currentTick=null,v.currentTickData=null,l.emit("beforelayout");var D=Promise.resolve();if(i.type)D=D.then(function(){return e.runWebworker(d,t,i)});else if(i.pipes)for(var R=function(dt){D=D.then(function(){return e.runWebworker(d,t,dt)})},F=0,Z=i.pipes;F<Z.length;F++){var J=Z[F];R(J)}return D.then(function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()}).catch(function(it){console.error("layout failed",it)}),!0},n.prototype.runWebworker=function(t,e,r){var i=this,l=this.isGPU,d=this.filterLayoutData(e,r),v=d.nodes,D=d.edges,R=document.createElement("canvas"),F=l&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in R,Z=u1(r,function(it){return typeof it!="function"});if(!F)t.postMessage({type:Qh.RUN,nodes:v,edges:D,layoutCfg:Z});else{var J=R.transferControlToOffscreen();Z.type=Z.type+"-gpu",t.postMessage({type:Qh.GPURUN,nodes:v,edges:D,layoutCfg:Z,canvas:J},[J])}return new Promise(function(it,dt){t.onmessage=function(bt){i.handleWorkerMessage(it,dt,bt,d,r)}})},n.prototype.handleWorkerMessage=function(t,e,r,i,l){var d=this,v=d.graph,D=d.workerData,R=r.data,F=R.type,Z=function(){l.onTick&&l.onTick()};switch(F){case Qh.TICK:D.currentTick=R.currentTick,D.currentTickData=R,D.requestId||(D.requestId=cg.requestAnimationFrame(function(){op(i,R),v.refreshPositions(),Z(),R.currentTick===R.totalTicks?t():D.currentTick===R.totalTicks&&(D.requestId2=cg.requestAnimationFrame(function(){op(i,D.currentTickData),v.refreshPositions(),D.requestId2=null,Z(),t()})),D.requestId=null}));break;case Qh.END:D.currentTick==null&&(op(i,R),t());break;case Qh.GPUEND:D.currentTick==null&&(c1(i,R),t());break;case Qh.ERROR:console.warn("Web-Worker layout error!",R.message),e();break;default:e();break}},n.prototype.updateLayoutCfg=function(t){var e=this,r=this,i=r.graph,l=r.layoutMethods,d=Object(g.mix)({},this.layoutCfg,t);if(this.layoutCfg=d,!(l==null?void 0:l.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(t.workerEnabled&&this.layoutWithWorker(this.data))){i.emit("beforelayout");var v=Promise.resolve();l.length===1?v=v.then(function(){return e.updateLayoutMethod(l[0],d)}):l==null||l.forEach(function(D,R){var F=d.pipes[R];v=v.then(function(){return e.updateLayoutMethod(D,F)})}),v.then(function(){d.onAllLayoutEnd&&d.onAllLayoutEnd()}).catch(function(D){console.warn("layout failed",D)})}},n.prototype.adjustPipesBox=function(t,e){var r=this;return new Promise(function(i){var l=t.nodes;(l==null?void 0:l.length)||i(),o1.includes(e)||(console.warn("The adjust type "+e+" is not supported yet, please assign it with 'force', 'grid', or 'circular'."),i());var d={center:r.layoutCfg.center,nodeSize:function(it){return Math.max(it.height,it.width)},preventOverlap:!0,onLayoutEnd:function(){}},v=r.getLayoutBBox(l),D=v.groupNodes,R=v.layoutNodes,F=Object(g.clone)(R);d.onLayoutEnd=function(){R==null||R.forEach(function(J,it){var dt,bt,Dt,At=J.x-((dt=F[it])===null||dt===void 0?void 0:dt.x),wt=J.y-((bt=F[it])===null||bt===void 0?void 0:bt.y);(Dt=D[it])===null||Dt===void 0||Dt.forEach(function(zt){zt.x+=At,zt.y+=wt})}),i()};var Z=new ap[e](d);Z.layout({nodes:R})})},n.prototype.hasGPUVersion=function(t){for(var e=T0.length,r=0;r<e;r++)if(T0[r]===t)return!0;return!1},n.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},n}(Xu),l1=s1;function op(u,n){for(var t=u.nodes,e=n.nodes,r=t.length,i=0;i<r;i++){var l=t[i];l.x=e[i].x,l.y=e[i].y}}function u1(u,n){var t={};return u&&ug(u)==="object"?(Object.keys(u).forEach(function(e){u.hasOwnProperty(e)&&n(u[e])&&(t[e]=u[e])}),t):u}function c1(u,n){for(var t=u.nodes,e=n.vertexEdgeData,r=t.length,i=0;i<r;i++){var l=t[i],d=e[4*i],v=e[4*i+1];l.x=d,l.y=v}}function f1(u,n){var t;if(!!((t=u==null?void 0:u.nodes)===null||t===void 0?void 0:t.length)){var e=u.nodes;e.forEach(function(r){r.layoutOrder=n})}}var D0=b.transform,h1="svg",d1=function(u){Object(he.__extends)(n,u);function n(t){var e=u.call(this,t)||this,r=e.get("defaultNode");return r||e.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",e.set("defaultNode",r)),e.destroyed=!1,e}return n.prototype.initLayoutController=function(){var t=new l1(this);this.set({layoutController:t})},n.prototype.initEventController=function(){var t=new vn(this);this.set({eventController:t})},n.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=t.clientWidth,r=t.clientHeight,i=this.get("width")||e,l=this.get("height")||r;!this.get("width")&&!this.get("height")&&(this.set("width",e),this.set("height",r));var d=this.get("renderer"),v;if(d===h1)v=new Ns.Canvas({container:t,width:i,height:l});else{var D={container:t,width:i,height:l},R=this.get("pixelRatio");R&&(D.pixelRatio=R),v=new fs.Canvas(D)}this.set("canvas",v)},n.prototype.initPlugins=function(){var t=this;Object(g.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},n.prototype.downloadImageWatermark=function(t,e,r,i){return Object(he.__awaiter)(this,void 0,void 0,function(){var l,d,v;return Object(he.__generator)(this,function(D){switch(D.label){case 0:return l=t.style.backgroundImage,d=l.slice(5,l.length-2),v=new Image,v.src=d,[4,new Promise(function(R){v.onload=function(){var F=e.createPattern(v,"repeat");e.rect(0,0,r,i),e.fillStyle=F,e.fill(),R("")}})];case 1:return D.sent(),[2]}})})},n.prototype.asyncToDataUrl=function(t,e,r,i,l,d){var v=this,D=document.querySelector(".g6-graph-watermarker"),R=this.get("canvas"),F=R.getRenderer(),Z=d||R.get("el"),J="";t||(t="image/png"),setTimeout(function(){return Object(he.__awaiter)(v,void 0,void 0,function(){var it,dt,bt,Dt,At,wt,zt,Kt,$t,ee;return Object(he.__generator)(this,function(re){switch(re.label){case 0:return F!=="svg"?[3,1]:(it=Z.cloneNode(!0),dt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),bt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",dt),bt.replaceChild(it,bt.documentElement),Dt=new XMLSerializer().serializeToString(bt),J="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Dt),[3,4]);case 1:return At=void 0,wt=Z.getContext("2d"),zt=i||this.get("width"),Kt=l||this.get("height"),$t=void 0,D?[4,this.downloadImageWatermark(D,wt,zt,Kt)]:[3,3];case 2:re.sent(),re.label=3;case 3:e&&(ee=typeof window!="undefined"?window.devicePixelRatio:1,At=wt.getImageData(0,0,zt*ee,Kt*ee),$t=wt.globalCompositeOperation,wt.globalCompositeOperation="destination-over",wt.fillStyle=e,wt.fillRect(0,0,zt,Kt)),J=Z.toDataURL(t),e&&(wt.clearRect(0,0,zt,Kt),wt.putImageData(At,0,0),wt.globalCompositeOperation=$t),re.label=4;case 4:return r&&r(J),[2]}})})},16)},n.prototype.toDataURL=function(t,e){var r=this.get("canvas"),i=r.getRenderer(),l=r.get("el");t||(t="image/png");var d="";if(i==="svg"){var v=l.cloneNode(!0),D=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),R=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",D);R.replaceChild(v,R.documentElement);var F=new XMLSerializer().serializeToString(R);d="data:image/svg+xml;charset=utf8,"+encodeURIComponent(F)}else{var Z=void 0,J=l.getContext("2d"),it=this.get("width"),dt=this.get("height"),bt=void 0;if(e){var Dt=typeof window!="undefined"?window.devicePixelRatio:1;Z=J.getImageData(0,0,it*Dt,dt*Dt),bt=J.globalCompositeOperation,J.globalCompositeOperation="destination-over",J.fillStyle=e,J.fillRect(0,0,it,dt)}d=l.toDataURL(t),e&&(J.clearRect(0,0,it,dt),J.putImageData(Z,0,0),J.globalCompositeOperation=bt)}return d},n.prototype.toFullDataURL=function(t,e,r){var i=this.get("group").getCanvasBBox(),l=i.height,d=i.width,v=this.get("renderer"),D=Object(_e.b)('<id="virtual-image"></div>'),R=r?r.backgroundColor:void 0,F=r?r.padding:void 0;F?Object(g.isNumber)(F)&&(F=[F,F,F,F]):F=[0,0,0,0];var Z=l+F[0]+F[2],J=d+F[1]+F[3],it={container:D,height:Z,width:J,quickHit:!0},dt=v==="svg"?new Ns.Canvas(it):new fs.Canvas(it),bt=this.get("group"),Dt=bt.clone(),At=Object(g.clone)(Dt.getMatrix());At||(At=[1,0,0,0,1,0,0,0,1]);var wt=(i.maxX+i.minX)/2,zt=(i.maxY+i.minY)/2;At=D0(At,[["t",-wt,-zt],["t",d/2+F[3],l/2+F[0]]]),Dt.resetMatrix(),Dt.setMatrix(At),dt.add(Dt);var Kt=dt.get("el"),$t="";e||(e="image/png"),setTimeout(function(){if(v==="svg"){var ee=Kt.cloneNode(!0),re=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),fe=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",re);fe.replaceChild(ee,fe.documentElement);var ce=new XMLSerializer().serializeToString(fe);$t="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ce)}else{var Ae=void 0,Te=Kt.getContext("2d"),cr=void 0;if(R){var fr=typeof window!="undefined"?window.devicePixelRatio:1;Ae=Te.getImageData(0,0,J*fr,Z*fr),cr=Te.globalCompositeOperation,Te.globalCompositeOperation="destination-over",Te.fillStyle=R,Te.fillRect(0,0,J,Z)}$t=Kt.toDataURL(e),R&&(Te.clearRect(0,0,J,Z),Te.putImageData(Ae,0,0),Te.globalCompositeOperation=cr)}t&&t($t)},16)},n.prototype.downloadFullImage=function(t,e,r){var i=this,l=this.get("group").getCanvasBBox(),d=l.height,v=l.width,D=this.get("renderer"),R=Object(_e.b)('<id="virtual-image"></div>'),F=document.querySelector(".g6-graph-watermarker"),Z=r?r.backgroundColor:void 0,J=r?r.padding:void 0;J?Object(g.isNumber)(J)&&(J=[J,J,J,J]):J=[0,0,0,0];var it=d+J[0]+J[2],dt=v+J[1]+J[3];if(F){var bt=this.get("graphWaterMarker").cfg||{},Dt=bt.width,At=bt.height;it=Math.ceil(it/At)*At,dt=Math.ceil(dt/Dt)*Dt}var wt={container:R,height:it,width:dt},zt=D==="svg"?new Ns.Canvas(wt):new fs.Canvas(wt),Kt=this.get("group"),$t=Kt.clone(),ee=Object(g.clone)($t.getMatrix());ee||(ee=[1,0,0,0,1,0,0,0,1]);var re=(l.maxX+l.minX)/2,fe=(l.maxY+l.minY)/2;ee=D0(ee,[["t",-re,-fe],["t",v/2+J[3],d/2+J[0]]]),$t.resetMatrix(),$t.setMatrix(ee),zt.add($t);var ce=zt.get("el");e||(e="image/png"),this.asyncToDataUrl(e,Z,function(Ae){var Te=document.createElement("a"),cr=(t||"graph")+(D==="svg"?".svg":"."+e.split("/")[1]);i.dataURLToImage(Ae,D,Te,cr);var fr=document.createEvent("MouseEvents");fr.initEvent("click",!1,!1),Te.dispatchEvent(fr)},dt,it,ce)},n.prototype.downloadImage=function(t,e,r){var i=this,l=this;l.isAnimating()&&l.stopAnimate();var d=l.get("canvas"),v=d.getRenderer();e||(e="image/png");var D=(t||"graph")+(v==="svg"?".svg":e.split("/")[1]),R=document.createElement("a");l.asyncToDataUrl(e,r,function(F){i.dataURLToImage(F,v,R,D);var Z=document.createEvent("MouseEvents");Z.initEvent("click",!1,!1),R.dispatchEvent(Z)})},n.prototype.dataURLToImage=function(t,e,r,i){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var l=t.split(","),d="";if(l&&l.length>0){var v=l[0].match(/:(.*?);/);v&&v.length>=2&&(d=v[1])}for(var D=atob(l[1]),R=D.length,F=new Uint8Array(R);R--;)F[R]=D.charCodeAt(R);var Z=new Blob([F],{type:d});window.navigator.msSaveBlob?window.navigator.msSaveBlob(Z,i):r.addEventListener("click",function(){r.download=i,r.href=window.URL.createObjectURL(Z)})}else r.addEventListener("click",function(){r.download=i,r.href=t})},n.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},n.prototype.removePlugin=function(t){var e=this.get("plugins"),r=e.indexOf(t);r>=0&&(t.destroyPlugin(),e.splice(r,1))},n.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=ar.waterMarkerImage);var r=this.get("container");Object(g.isString)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var i=this.get("graphWaterMarker"),l=Object(g.deepMix)({},ar.imageWaterMarkerConfig,e),d=l.width,v=l.height,D=l.compatible,R=l.image;if(!i){var F={container:r,width:d,height:v,capture:!1},Z=this.get("pixelRatio");Z&&(F.pixelRatio=Z),i=new fs.Canvas(F),this.set("graphWaterMarker",i)}i.get("el").style.display="none";var J=i.get("context"),it=R.rotate,dt=R.x,bt=R.y;J.rotate(-it*Math.PI/180);var Dt=new Image;Dt.crossOrigin="anonymous",Dt.src=t,Dt.onload=function(){if(J.drawImage(Dt,dt,bt,R.width,R.height),J.rotate(it*Math.PI/180),D)r.style.cssText="background-image: url("+i.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var At=document.querySelector(".g6-graph-watermarker");At||(At=document.createElement("div"),At.className="g6-graph-watermarker"),At.className="g6-graph-watermarker",i.destroyed||(At.style.cssText="background-image: url("+i.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",r.appendChild(At))}}},n.prototype.setTextWaterMarker=function(t,e){var r=this.get("container");Object(g.isString)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var i=this.get("graphWaterMarker"),l=Object(g.deepMix)({},ar.textWaterMarkerConfig,e),d=l.width,v=l.height,D=l.compatible,R=l.text;if(!i){var F={container:r,width:d,height:v,capture:!1},Z=this.get("pixelRatio");Z&&(F.pixelRatio=Z),i=new fs.Canvas(F),this.set("graphWaterMarker",i)}i.get("el").style.display="none";var J=i.get("context"),it=R.rotate,dt=R.fill,bt=R.fontFamily,Dt=R.fontSize,At=R.baseline,wt=R.x,zt=R.y,Kt=R.lineHeight;J.rotate(-it*Math.PI/180),J.font=Dt+"px "+bt,J.fillStyle=dt,J.textBaseline=At;for(var $t=t.length-1;$t>=0;$t--)J.fillText(t[$t],wt,zt+$t*Kt);if(J.rotate(it*Math.PI/180),D)r.style.cssText="background-image: url("+i.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var ee=document.querySelector(".g6-graph-watermarker");ee||(ee=document.createElement("div"),ee.className="g6-graph-watermarker"),ee.style.cssText="background-image: url("+i.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",r.appendChild(ee)}},n.prototype.destroy=function(){Object(g.each)(this.get("plugins"),function(l){l.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var r=t[e];if(!!r){var i=r.parentElement;!i||i.removeChild(r)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),u.prototype.destroy.call(this)},n}(tu),P0=d1,v1=nc.radialLayout,g1=nc.traverseTree,p1=function(u){Object(he.__extends)(n,u);function n(t){var e=u.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return n.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var r=lg.a[t.type](e,t);return v1(r),r}:function(e){return lg.a[t.type](e,t)}):null},n.indexOfChild=function(t,e){var r=-1;return Object(g.each)(t,function(i,l){if(e===i.id)return r=l,!1}),r},n.prototype.getDefaultCfg=function(){var t=u.prototype.getDefaultCfg.call(this);return t.animate=!0,t},n.prototype.innerAddChild=function(t,e,r){var i=this,l=t.data;l&&(l.x=t.x,l.y=t.y,l.depth=t.depth);var d=i.addItem("node",l,!1);if(e){if(d.set("parent",e),r){var v=e.get("originAttrs");if(v)d.set("originAttrs",v);else{var D=e.getModel();d.set("originAttrs",{x:D.x,y:D.y})}}var R=e.get("children");R?R.push(d):e.set("children",[d]),i.addItem("edge",{source:e.get("id"),target:d.get("id"),id:e.get("id")+":"+d.get("id")},!1)}return Object(g.each)(t.children||[],function(F){i.innerAddChild(F,d,r)}),i.emit("afteraddchild",{item:d,parent:e}),d},n.prototype.innerUpdateChild=function(t,e,r){var i=this,l=i.findById(t.id);if(!l){i.innerAddChild(t,e,r);return}Object(g.each)(t.children||[],function(it){i.innerUpdateChild(it,l,r)});var d=l.get("children");if(d){var v=d.length;if(v>0)for(var D=d.length-1;D>=0;D--){var R=d[D].getModel();n.indexOfChild(t.children||[],R.id)===-1&&(i.innerRemoveChild(R.id,{x:t.x,y:t.y},r),d.splice(D,1))}}var F,Z;l.get("originAttrs")&&(F=l.get("originAttrs").x,Z=l.get("originAttrs").y);var J=l.getModel();r&&l.set("originAttrs",{x:J.x,y:J.y}),l.set("model",t.data),(F!==t.x||Z!==t.y)&&l.updatePosition({x:t.x,y:t.y})},n.prototype.innerRemoveChild=function(t,e,r){var i=this,l=i.findById(t);if(!!l)if(Object(g.each)(l.get("children"),function(v){i.innerRemoveChild(v.getModel().id,e,r)}),r){var d=l.getModel();l.set("to",e),l.set("originAttrs",{x:d.x,y:d.y}),i.get("removeList").push(l)}else i.removeItem(l)},n.prototype.changeData=function(t){var e=this;this.getNodes().map(function(r){return e.clearItemStates(r)}),this.getEdges().map(function(r){return e.clearItemStates(r)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},n.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},n.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},n.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},n.prototype.layout=function(t){var e=this,r=e.get("data"),i=e.get("layoutMethod"),l=i?i(r,e.get("layout")):r,d=e.get("animate");if(e.emit("beforerefreshlayout",{data:r,layoutData:l}),e.emit("beforelayout"),e.innerUpdateChild(l,void 0,d),t){var v=e.get("viewController");v.fitView()}d?e.layoutAnimate(l):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:r,layoutData:l}),e.emit("afterlayout")},n.prototype.addChild=function(t,e){var r=this;r.emit("beforeaddchild",{model:t,parent:e}),Object(g.isString)(e)||(e=e.get("id"));var i=r.findDataById(e);i&&(i.children||(i.children=[]),i.children.push(t),r.changeData())},n.prototype.updateChildren=function(t,e){var r=this;if(!e||!r.findById(e)){console.warn("Update children failed! There is no node with id '"+e+"'");return}var i=r.findDataById(e);i.children=t,r.changeData()},n.prototype.updateChild=function(t,e){var r=this;if(!e||!r.findById(e)){r.changeData(t);return}var i=r.findDataById(e),l=r.findById(t.id);if(i.children||(i.children=[]),!l)i.children.push(t);else{var d=n.indexOfChild(i.children,t.id);i.children[d]=t}r.changeData()},n.prototype.removeChild=function(t){var e=this,r=e.findById(t);if(!!r){var i=r.get("parent");if(i&&!i.destroyed){var l=e.findDataById(i.get("id")),d=l&&l.children||[],v=r.getModel(),D=n.indexOfChild(d,v.id);d.splice(D,1)}e.changeData()}},n.prototype.findDataById=function(t,e){var r=this;if(e||(e=r.get("data")),t===e.id)return e;var i=null;return Object(g.each)(e.children||[],function(l){if(l.id===t)return i=l,!1;if(i=r.findDataById(t,l),i)return!1}),i},n.prototype.layoutAnimate=function(t,e){var r=this,i=this.get("animateCfg");r.emit("beforeanimate",{data:t}),r.getEdges().forEach(function(l){var d=l.get("model");d.sourceAnchor||(d.sourceAnchor=l.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(l){g1(t,function(d){var v=r.findById(d.id);if(v){var D=v.get("originAttrs"),R=v.get("model");if(D||(D={x:R.x,y:R.y},v.set("originAttrs",D)),e){var F=e(v,l,D,t);v.set("model",Object.assign(R,F))}else R.x=D.x+(d.x-D.x)*l,R.y=D.y+(d.y-D.y)*l}return!0}),Object(g.each)(r.get("removeList"),function(d){var v=d.getModel(),D=d.get("originAttrs"),R=d.get("to");v.x=D.x+(R.x-D.x)*l,v.y=D.y+(R.y-D.y)*l}),r.refreshPositions()},{duration:i.duration,easing:i.ease,callback:function(){Object(g.each)(r.getNodes(),function(d){d.set("originAttrs",null)}),Object(g.each)(r.get("removeList"),function(d){r.removeItem(d)}),r.set("removeList",[]),i.callback&&i.callback(),r.emit("afteranimate",{data:t})},delay:i.delay})},n.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},n.prototype.isLayoutAnimating=function(){return this.layoutAnimating},n.prototype.render=function(){var t=this,e=t.get("data");if(!e||!Object(g.isObject)(e)||!Object.keys(e).length)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},n.prototype.save=function(){return this.get("data")},n}(P0),y1=p1,m1=function(){function u(n){this._cfgs=Object(g.deepMix)(this.getDefaultCfgs(),n),this._events={},this.destroyed=!1}return u.prototype.getDefaultCfgs=function(){return{}},u.prototype.initPlugin=function(n){var t=this;t.set("graph",n);var e=t.getEvents(),r={};Object(g.each)(e,function(i,l){var d=Object(g.wrapBehavior)(t,i);r[l]=d,n.on(l,d)}),this._events=r,this.init()},u.prototype.getEvents=function(){return{}},u.prototype.get=function(n){return this._cfgs[n]},u.prototype.set=function(n,t){this._cfgs[n]=t},u.prototype.destroy=function(){},u.prototype.destroyPlugin=function(){this.destroy();var n=this.get("graph"),t=this._events;Object(g.each)(t,function(e,r){n.off(r,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},u}(),$s=m1,b1=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),I0="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",O1=function(u){b1(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{img:I0,follow:!0}},n.prototype.init=function(){var t=this.get("graph"),e=t.get("container"),r=t.get("canvas").get("el"),i=this.get("img")||I0,l=Object(_e.b)(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),d=Object(_e.b)(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `+i+`;
        user-select: none
        '></div>`);this.set("container",l),this.set("gridContainer",d),this.positionInit(),l.appendChild(d),e.insertBefore(l,r)},n.prototype.positionInit=function(){var t=this.get("graph"),e=t.get("minZoom"),r=t.get("width"),i=t.get("height");Object(_e.e)(this.get("container"),{width:r+"px",height:i+"px"});var l=r*80/e,d=i*80/e;Object(_e.e)(this.get("gridContainer"),{width:l+"px",height:d+"px",left:"-"+l/2+"px",top:"-"+d/2+"px"})},n.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},n.prototype.updateGrid=function(t){var e=this.get("gridContainer"),r=t.matrix;r||(r=[1,0,0,0,1,0,0,0,1]);var i=this.get("follow"),l="matrix("+r[0]+", "+r[1]+", "+r[3]+", "+r[4]+", "+(i?r[6]:"0")+", "+(i?r[7]:"0")+")";Object(_e.e)(e,{transform:l})},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),r=this.get("container");e.removeChild(r)},n}($s),x1=O1,E1=a("PwAq"),sp=a.n(E1),S1=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();sp()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var M1=function(u){S1(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},n.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow"}:{contextmenu:"onMenuShow"}},n.prototype.init=function(){var t=this.get("className"),e=Object(_e.b)("<div class="+(t||"g6-component-contextmenu")+"></div>");Object(_e.e)(e,{top:"0px",position:"absolute",visibility:"hidden"});var r=this.get("container");r||(r=this.get("graph").get("container")),Object(g.isString)(r)&&(r=document.getElementById(r)),r.appendChild(e),this.set("menu",e)},n.prototype.onMenuShow=function(t){var e=this;t.preventDefault(),t.stopPropagation();var r=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1){e.onMenuHide();return}}else if(r.indexOf("canvas")===-1)return;var i=this.get("shouldBegin");if(!!i(t)){var l=this.get("menu"),d=this.get("getContent"),v=this.get("graph"),D=d(t,v);Object(g.isString)(D)?l.innerHTML=D:l.innerHTML=D.outerHTML,this.removeMenuEventListener();var R=this.get("handleMenuClick");if(R){var F=function(ee){R(ee.target,t.item,v)};this.set("handleMenuClickWrapper",F),l.addEventListener("click",F)}var Z=v.get("width"),J=v.get("height"),it=l.getBoundingClientRect(),dt=this.get("offsetX")||0,bt=this.get("offsetY")||0,Dt=v.getContainer().offsetTop,At=v.getContainer().offsetLeft,wt=t.canvasX+At+dt,zt=t.canvasY+Dt+bt;wt+it.width>Z&&(wt=t.canvasX-it.width-dt+At),zt+it.height>J&&(zt=t.canvasY-it.height-bt+Dt),Object(_e.e)(l,{top:zt+"px",left:wt+"px",visibility:"visible"});var Kt=function(ee){e.onMenuHide()};document.body.addEventListener("click",Kt),this.set("handler",Kt)}},n.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var r=this.get("menu");r.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},n.prototype.onMenuHide=function(){var t=this.get("menu");t&&Object(_e.e)(t,{visibility:"hidden"}),this.removeMenuEventListener()},n.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(g.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}($s),C1=M1,A1=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lp=function(){return lp=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},lp.apply(this,arguments)},L0=Math.max,T1=b.transform,D1="default",P1="keyShape",I1="delegate",j0="svg",L1=function(u){A1(n,u);function n(){var t=u!==null&&u.apply(this,arguments)||this;return t.handleUpdateCanvas=Object(g.debounce)(function(e){var r=t;r.destroyed||r.updateCanvas()},100,!1),t}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.size,i=e.graph;if(!this.destroyed){var l=this.get("canvas"),d=l.get("container"),v=Object(_e.b)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`),D=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,R=0,F=0,Z=!1,J=0,it=0,dt=0,bt=0,Dt=0,At=0;v.addEventListener("dragstart",function(wt){var zt,Kt;if(wt.dataTransfer){var $t=new Image;$t.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Kt=(zt=wt.dataTransfer).setDragImage)===null||Kt===void 0||Kt.call(zt,$t,0,0);try{wt.dataTransfer.setData("text/html","view-port-minimap")}catch(re){wt.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,wt.target===v){var ee=v.style;J=parseInt(ee.left,10),it=parseInt(ee.top,10),dt=parseInt(ee.width,10),bt=parseInt(ee.height,10),!(dt>r[0]||bt>r[1])&&(At=i.getZoom(),Dt=t.get("ratio"),Z=!0,R=wt.clientX,F=wt.clientY)}},!1),v.addEventListener(D?"dragover":"drag",function(wt){if(!(!Z||Object(g.isNil)(wt.clientX)||Object(g.isNil)(wt.clientY))){var zt=R-wt.clientX,Kt=F-wt.clientY;(J-zt<0||J-zt+dt>=r[0])&&(zt=0),(it-Kt<0||it-Kt+bt>=r[1])&&(Kt=0),J-=zt,it-=Kt,Object(_e.e)(v,{left:J+"px",top:it+"px"}),i.translate(zt*At/Dt,Kt*At/Dt),R=wt.clientX,F=wt.clientY}},!1),v.addEventListener("dragend",function(){Z=!1,e.refresh=!0},!1),this.set("viewport",v),d.appendChild(v)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),r=this.get("dy"),i=this.get("totaldx"),l=this.get("totaldy"),d=this.get("graph"),v=this.get("size"),D=d.get("width"),R=d.get("height"),F=d.getPointByCanvas(0,0),Z=d.getPointByCanvas(D,R),J=this.get("viewport");J||this.initViewport();var it=(Z.x-F.x)*t,dt=(Z.y-F.y)*t,bt=F.x*t+i,Dt=F.y*t+l,At=bt+it,wt=Dt+dt;bt<0&&(it+=bt,bt=0),At>v[0]&&(it=it-(At-v[0])),Dt<0&&(dt+=Dt,Dt=0),wt>v[1]&&(dt=dt-(wt-v[1])),this.set("ratio",t);var zt=bt+"px",Kt=Dt+"px";Object(_e.e)(J,{left:zt,top:Kt,width:it+"px",height:dt+"px"})}},n.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),r=t.get("group");if(!r.destroyed){var i=r.clone();i.resetMatrix(),e.clear(),e.add(i);var l=t.get("renderer");l===j0&&this.updateVisible(i)}},n.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var r=t.get("children");if(!r||!r.length)return;r.forEach(function(i){i.get("visible")||i.hide(),e.updateVisible(i)})}},n.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph,r=this.get("canvas"),i=r.get("children")[0]||r.addGroup();Object(g.each)(e.getEdges(),function(v){t.updateOneEdgeKeyShape(v,i)}),Object(g.each)(e.getNodes(),function(v){t.updateOneNodeKeyShape(v,i)});var l=e.getCombos();if(l&&l.length){var d=i.find(function(v){return v.get("name")==="comboGroup"})||i.addGroup({name:"comboGroup"});setTimeout(function(){Object(g.each)(l,function(v){t.updateOneComboKeyShape(v,d)}),d.sort(),d.toBack()},250)}this.clearDestroyedShapes()},n.prototype.updateOneComboKeyShape=function(t,e){var r=this.get("itemMap")||{},i=r[t.get("id")],l=t.getBBox(),d=t.get("keyShape").clone(),v=d.attr(),D={x:l.centerX,y:l.centerY};i?D=Object.assign(v,D):(i=d,e.add(i));var R=i.get("type");(R==="rect"||R==="image")&&(D.x=l.minX,D.y=l.minY),i.attr(D),t.isVisible()?i.show():i.hide(),i.exist=!0;var F=t.getModel().depth;isNaN(F)||i.set("zIndex",F),r[t.get("id")]=i,this.set("itemMap",r)},n.prototype.updateOneNodeKeyShape=function(t,e){var r=this.get("itemMap")||{},i=r[t.get("id")],l=t.getBBox(),d=t.get("keyShape").clone(),v=d.attr(),D={x:l.centerX,y:l.centerY};i?D=Object.assign(v,D):(i=d,e.add(i));var R=i.get("type");(R==="rect"||R==="image")&&(D.x=l.minX,D.y=l.minY),i.attr(D),t.isVisible()?i.show():i.hide(),i.exist=!0;var F=t.getModel().depth;isNaN(F)||i.set("zIndex",F),r[t.get("id")]=i,this.set("itemMap",r)},n.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph,r=this.get("canvas"),i=r.get("children")[0]||r.addGroup();Object(g.each)(e.getEdges(),function(v){t.updateOneEdgeKeyShape(v,i)}),Object(g.each)(e.getNodes(),function(v){t.updateOneNodeDelegateShape(v,i)});var l=e.getCombos();if(l&&l.length){var d=i.find(function(v){return v.get("name")==="comboGroup"})||i.addGroup({name:"comboGroup"});setTimeout(function(){Object(g.each)(l,function(v){t.updateOneComboKeyShape(v,d)}),d.sort(),d.toBack()},250)}this.clearDestroyedShapes()},n.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var r=e.length-1;r>=0;r--){var i=t[e[r]],l=i.exist;i.exist=!1,l||(i.remove(),delete t[e[r]])}},n.prototype.updateOneEdgeKeyShape=function(t,e){var r=this.get("itemMap")||{},i=r[t.get("id")];if(i){var l=t.get("keyShape").attr("path");i.attr("path",l)}else i=t.get("keyShape").clone(),e.add(i);t.isVisible()?i.show():i.hide(),i.exist=!0,r[t.get("id")]=i,this.set("itemMap",r)},n.prototype.updateOneNodeDelegateShape=function(t,e){var r=this.get("delegateStyle"),i=this.get("itemMap")||{},l=i[t.get("id")],d=t.getBBox();if(l){var v={x:d.minX,y:d.minY,width:d.width,height:d.height};l.attr(v)}else l=e.addShape("rect",{attrs:lp({x:d.minX,y:d.minY,width:d.width,height:d.height},r),name:"minimap-node-shape"});t.isVisible()?l.show():l.hide(),l.exist=!0,i[t.get("id")]=l,this.set("itemMap",i)},n.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=t.get("size"),i=t.get("className"),l=t.get("container"),d=Object(_e.b)("<div class='"+i+"' style='width: "+r[0]+"px; height: "+r[1]+"px; overflow: hidden'></div>");Object(g.isString)(l)&&(l=document.getElementById(l)),l?l.appendChild(d):e.get("container").appendChild(d),t.set("container",d);var v=Object(_e.b)('<div class="g6-minimap-container" style="position: relative;"></div>');d.appendChild(v),v.addEventListener("dragenter",function(F){F.preventDefault()}),v.addEventListener("dragover",function(F){F.preventDefault()});var D,R=e.get("renderer");R===j0?D=new Ns.Canvas({container:v,width:r[0],height:r[1]}):D=new fs.Canvas({container:v,width:r[0],height:r[1]}),t.set("canvas",D),t.updateCanvas()},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("size"),i=this.get("canvas"),l=this.get("type"),d=this.get("padding");if(!i.destroyed){switch(l){case D1:this.updateGraphShapes();break;case P1:this.updateKeyShapes();break;case I1:this.updateDelegateShapes();break;default:break}var v=i.get("children")[0];if(!!v){v.resetMatrix();var D=v.getCanvasBBox(),R=e.get("canvas").getCanvasBBox(),F=e.getZoom()||1,Z=R.width/F,J=R.height/F;Number.isFinite(D.width)&&(Z=L0(D.width,Z),J=L0(D.height,J)),Z+=2*d,J+=2*d;var it=Math.min(r[0]/Z,r[1]/J),dt=[1,0,0,0,1,0,0,0,1],bt=0,Dt=0;Number.isFinite(D.minX)&&(bt=-D.minX),Number.isFinite(D.minY)&&(Dt=-D.minY);var At=(r[0]-(Z-2*d)*it)/2,wt=(r[1]-(J-2*d)*it)/2;dt=T1(dt,[["t",bt,Dt],["s",it,it],["t",At,wt]]),v.setMatrix(dt),this.set("ratio",it),this.set("totaldx",At+bt*it),this.set("totaldy",wt+Dt*it),this.set("dx",At),this.set("dy",wt),this.updateViewport()}}}}},n.prototype.getCanvas=function(){return this.get("canvas")},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},n}($s),j1=L1,R1=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function vu(u,n,t){var e=u.x-n.x,r=u.y-n.y;return!t||Math.abs(e)>t||Math.abs(r)>t?Math.sqrt(e*e+r*r):t}function w1(u,n){return u.x*n.x+u.y*n.y}function R0(u,n){var t=(n.source.y-n.target.y)/(n.source.x-n.target.x),e=(t*t*n.source.x+t*(u.y-n.source.y)+u.x)/(t*t+1),r=t*(e-n.source.x)+n.source.y;return{x:e,y:r}}var B1=function(u){R1(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},n.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),r=function(){e&&e(),t.refreshPositions()};this.set("tick",r)},n.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var r=t.edges||[],i=t.nodes||[],l={},d=!1;if(i.forEach(function(zt){(zt.x===null||!zt.y===null||zt.x===void 0||!zt.y===void 0)&&(d=!0),l[zt.id]=zt}),d)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",l);var v=e.get("divisions"),D=e.get("divRate"),R=e.divideEdges(v);e.set("edgePoints",R);var F=e.getEdgeBundles();e.set("edgeBundles",F);for(var Z=e.get("cycles"),J=e.get("iterations"),it=e.get("iterRate"),dt=e.get("lambda"),bt=0;bt<Z;bt++){for(var Dt=function(Kt){var $t=[];r.forEach(function(ee,re){if(ee.source!==ee.target){var fe=l[ee.source],ce=l[ee.target];$t[re]=e.getEdgeForces({source:fe,target:ce},re,v,dt);for(var Ae=0;Ae<v+1;Ae++)R[re][Ae].x+=$t[re][Ae].x,R[re][Ae].y+=$t[re][Ae].y}})},At=0;At<J;At++)Dt(At);dt=dt/2,v*=D,J*=it,R=e.divideEdges(v),e.set("edgePoints",R)}r.forEach(function(zt,Kt){zt.source!==zt.target&&(zt.type="polyline",zt.controlPoints=R[Kt].slice(1,R[Kt].length-1))});var wt=e.get("graph");wt.refresh()}},n.prototype.updateBundling=function(t){var e=this,r=t.data;if(r&&e.set("data",r),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(l){e.set(l,t[l])}),t.onTick){var i=this.get("graph");e.set("tick",function(){t.onTick(),i.refresh()})}e.bundling(r)},n.prototype.divideEdges=function(t){var e=this,r=e.get("data").edges,i=e.get("nodeIdMap"),l=e.get("edgePoints");return(!l||l===void 0)&&(l=[]),r.forEach(function(d,v){(!l[v]||l[v]===void 0)&&(l[v]=[]);var D=i[d.source],R=i[d.target];if(t===1)l[v].push({x:D.x,y:D.y}),l[v].push({x:.5*(D.x+R.x),y:.5*(D.y+R.y)}),l[v].push({x:R.x,y:R.y});else{var F=0;!l[v]||l[v]===[]?F=vu({x:D.x,y:D.y},{x:R.x,y:R.y}):F=e.getEdgeLength(l[v]);var Z=F/(t+1),J=Z,it=[{x:D.x,y:D.y}];l[v].forEach(function(dt,bt){if(bt!==0){for(var Dt=vu(dt,l[v][bt-1]);Dt>J;){var At=J/Dt,wt={x:l[v][bt-1].x,y:l[v][bt-1].y};wt.x+=At*(dt.x-l[v][bt-1].x),wt.y+=At*(dt.y-l[v][bt-1].y),it.push(wt),Dt-=J,J=Z}J-=Dt}}),it.push({x:R.x,y:R.y}),l[v]=it}}),l},n.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(r,i){i!==0&&(e+=vu(r,t[i-1]))}),e},n.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),r=e.edges||[],i=t.get("bundleThreshold"),l=t.get("nodeIdMap"),d=t.get("edgeBundles");return d||(d=[]),r.forEach(function(v,D){(!d[D]||d[D]===void 0)&&(d[D]=[])}),r.forEach(function(v,D){var R=l[v.source],F=l[v.target];r.forEach(function(Z,J){if(!(J<=D)){var it=l[Z.source],dt=l[Z.target],bt=t.getBundleScore({source:R,target:F},{source:it,target:dt});bt>=i&&(d[D].push(J),d[J].push(D))}})}),d},n.prototype.getBundleScore=function(t,e){var r=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=vu({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=vu({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var i=r.getAngleScore(t,e),l=r.getScaleScore(t,e),d=r.getPositionScore(t,e),v=r.getVisibilityScore(t,e);return i*l*d*v},n.prototype.getAngleScore=function(t,e){var r=w1({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return r/(t.length*e.length)},n.prototype.getScaleScore=function(t,e){var r=(t.length+e.length)/2,i=2/(r/Math.min(t.length,e.length)+Math.max(t.length,e.length)/r);return i},n.prototype.getPositionScore=function(t,e){var r=(t.length+e.length)/2,i={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},l={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},d=vu(i,l);return r/(r+d)},n.prototype.getVisibilityScore=function(t,e){var r=this.getEdgeVisibility(t,e),i=this.getEdgeVisibility(e,t);return r<i?r:i},n.prototype.getEdgeVisibility=function(t,e){var r=R0(e.source,t),i=R0(e.target,t),l={x:(r.x+i.x)/2,y:(r.y+i.y)/2},d={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*vu(l,d)/vu(r,i))},n.prototype.getEdgeForces=function(t,e,r,i){for(var l=this,d=l.get("edgePoints"),v=l.get("K"),D=v/(vu(t.source,t.target)*(r+1)),R=[{x:0,y:0}],F=1;F<r;F++){var Z={x:0,y:0},J=l.getSpringForce({pre:d[e][F-1],cur:d[e][F],next:d[e][F+1]},D),it=l.getElectrostaticForce(F,e);Z.x=i*(J.x+it.x),Z.y=i*(J.y+it.y),R.push(Z)}return R.push({x:0,y:0}),R},n.prototype.getSpringForce=function(t,e){var r=t.pre.x+t.next.x-2*t.cur.x,i=t.pre.y+t.next.y-2*t.cur.y;return r*=e,i*=e,{x:r,y:i}},n.prototype.getElectrostaticForce=function(t,e){var r=this,i=r.get("eps"),l=r.get("edgeBundles"),d=r.get("edgePoints"),v=l[e],D={x:0,y:0};return v.forEach(function(R){var F={x:d[R][t].x-d[e][t].x,y:d[R][t].y-d[e][t].y};if(Math.abs(F.x)>i||Math.abs(F.y)>i){var Z=vu(d[R][t],d[e][t]),J=1/Z;D.x+=F.x*J,D.y+=F.y*J}}),D},n.prototype.isTicking=function(){return this.get("ticking")},n.prototype.getSimulation=function(){return this.get("forceSimulation")},n.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),u.prototype.destroy.call(this)},n}($s),N1=B1,F1=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),up=function(){return up=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},up.apply(this,arguments)},fg=.05,w0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},G1=function(u){F1(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(g.clone)(w0),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},n.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var r=t.get("d");t.set("molecularParam",(r+1)*e)},n.prototype.createDelegate=function(t){var e=this,r=this,i=r.get("delegate");(!i||i.destroyed)&&(r.magnify(t),i=r.get("delegate"),i.on("dragstart",function(l){r.set("delegateCenterDiff",{x:i.attr("x")-l.x,y:i.attr("y")-l.y})}),i.on("drag",function(l){r.magnify(l)}),this.get("scaleDBy")==="wheel"&&i.on("mousewheel",function(l){e.scaleDByWheel(l)}),this.get("scaleRBy")==="wheel"&&i.on("mousewheel",function(l){r.scaleRByWheel(l)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),i,l=e.get("delegate"),d=l?{x:l.attr("x"),y:l.attr("y")}:void 0,v=d||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?i=1-fg:i=1/(1-fg);var D=e.get("maxR"),R=e.get("minR"),F=e.get("r");(F>(D||r.get("height"))&&i>1||F<(R||r.get("height")*.05)&&i<1)&&(i=1),F*=i,e.set("r",F),e.set("r2",F*F);var Z=e.get("d");e.set("molecularParam",(Z+1)*F),e.set("delegateCenterDiff",void 0),e.magnify(t,v)}},n.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var r=e.get("dragPrePos"),i=e.get("graph"),l,d=i.getPointByClient(t.clientX,t.clientY);t.x-r.x<0?l=1-fg:l=1/(1-fg);var v=e.get("maxR"),D=e.get("minR"),R=e.get("r");(R>(v||i.get("height"))&&l>1||R<(D||i.get("height")*.05)&&l<1)&&(l=1),R*=l,e.set("r",R),e.set("r2",R*R);var F=e.get("d");e.set("molecularParam",(F+1)*R),e.magnify(t,d),e.set("dragPrePos",{x:t.x,y:t.y})}},n.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=0;t.originalEvent.wheelDelta<0?r=-.1:r=.1;var i=e.get("d"),l=i+r,d=e.get("maxD"),v=e.get("minD");if(l<d&&l>v){e.set("d",l);var D=e.get("r");e.set("molecularParam",(l+1)*D);var R=e.get("delegate"),F=R?{x:R.attr("x"),y:R.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,F)}}},n.prototype.scaleDByDrag=function(t){var e=this,r=e.get("dragPrePos"),i=t.x-r.x>0?.1:-.1,l=e.get("d"),d=l+i,v=e.get("maxD"),D=e.get("minD");if(d<v&&d>D){e.set("d",d);var R=e.get("r");e.set("molecularParam",(d+1)*R),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},n.prototype.magnify=function(t,e){var r=this;r.restoreCache();var i=r.get("graph"),l=r.get("cachedMagnifiedModels"),d=r.get("cachedOriginPositions"),v=r.get("showLabel"),D=r.get("r"),R=r.get("r2"),F=r.get("d"),Z=r.get("molecularParam"),J=i.getNodes(),it=J.length,dt=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};r.get("dragging")&&(r.get("trigger")==="mousemove"||r.get("trigger")==="click")&&(dt=r.get("cacheCenter"));var bt=r.get("delegateCenterDiff");bt&&(dt.x+=bt.x,dt.y+=bt.y),r.updateDelegate(dt,D);for(var Dt=0;Dt<it;Dt++){var At=J[Dt].getModel(),wt=At.x,zt=At.y;if(!(isNaN(wt)||isNaN(zt))){var Kt=(wt-dt.x)*(wt-dt.x)+(zt-dt.y)*(zt-dt.y);if(!isNaN(Kt)&&Kt<R&&Kt!==0){var $t=Math.sqrt(Kt),ee=Z*$t/(F*$t+D),re=(wt-dt.x)/$t,fe=(zt-dt.y)/$t;if(At.x=re*ee+dt.x,At.y=fe*ee+dt.y,d[At.id]||(d[At.id]={x:wt,y:zt,texts:[]}),l.push(At),v&&2*$t<D)for(var ce=J[Dt],Ae=ce.getContainer(),Te=Ae.getChildren(),cr=Te.length,fr=0;fr<cr;fr++){var gr=Te[fr];gr.get("type")==="text"&&(d[At.id].texts.push({visible:gr.get("visible"),shape:gr}),gr.set("visible",!0))}}}}i.refreshPositions()},n.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),r=t.get("cachedOriginPositions"),i=e.length,l=0;l<i;l++){var d=e[l],v=d.id,D=r[v];d.x=D.x,d.y=D.y;for(var R=D.texts.length,F=0;F<R;F++){var Z=D.texts[F];Z.shape.set("visible",Z.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},n.prototype.updateParams=function(t){var e=this,r=t.r,i=t.d,l=t.trigger,d=t.minD,v=t.maxD,D=t.minR,R=t.maxR,F=t.scaleDBy,Z=t.scaleRBy;isNaN(t.r)||(e.set("r",r),e.set("r2",r*r)),isNaN(i)||e.set("d",i),isNaN(v)||e.set("maxD",v),isNaN(d)||e.set("minD",d),isNaN(R)||e.set("maxR",R),isNaN(D)||e.set("minR",D);var J=e.get("d"),it=e.get("r");if(e.set("molecularParam",(J+1)*it),(l==="mousemove"||l==="click"||l==="drag")&&e.set("trigger",l),F==="drag"||F==="wheel"||F==="unset"){e.set("scaleDBy",F),e.get("delegate").remove(),e.get("delegate").destroy();var dt=e.get("dPercentText");dt&&(dt.remove(),dt.destroy())}if(Z==="drag"||Z==="wheel"||Z==="unset"){e.set("scaleRBy",Z),e.get("delegate").remove(),e.get("delegate").destroy();var dt=e.get("dPercentText");dt&&(dt.remove(),dt.destroy())}},n.prototype.updateDelegate=function(t,e){var r=this,i=this,l=i.get("graph"),d=i.get("delegate");if(!d||d.destroyed){var v=l.get("group"),D=i.get("delegateStyle")||w0;d=v.addShape("circle",{attrs:up({r:e/1.5,x:t.x,y:t.y},D),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?d.on("mousewheel",function(it){i.scaleRByWheel(it)}):this.get("scaleRBy")==="drag"&&(d.on("dragstart",function(it){i.set("dragging",!0),i.set("cacheCenter",{x:it.x,y:it.y}),i.set("dragPrePos",{x:it.x,y:it.y})}),d.on("drag",function(it){i.scaleRByDrag(it)}),d.on("dragend",function(it){i.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?d.on("mousewheel",function(it){r.scaleDByWheel(it)}):this.get("scaleDBy")==="drag"&&(d.on("dragstart",function(it){i.set("dragging",!0),i.set("cacheCenter",{x:it.x,y:it.y}),i.set("dragPrePos",{x:it.x,y:it.y})}),d.on("drag",function(it){r.scaleDByDrag(it)}),d.on("dragend",function(it){i.set("dragging",!1)})))}else d.attr({x:t.x,y:t.y,r:e/1.5});if(i.get("showDPercent")){var R=Math.round((i.get("d")-i.get("minD"))/(i.get("maxD")-i.get("minD"))*100),F=i.get("dPercentText"),Z=t.y+e/1.5+16;if(!F||F.destroyed){var J=l.get("group");F=J.addShape("text",{attrs:{text:R+"%",x:t.x,y:Z,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),i.set("dPercentText",F)}else F.attr({text:R+"%",x:t.x,y:Z})}i.set("delegate",d)},n.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var r=this.get("dPercentText");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}($s),U1=G1,W1=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B0=.05;sp()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var z1=function(n){if(!n)return[];if(n.composedPath)return n.composedPath();for(var t=[],e=n.target;e;){if(t.push(e),e.tagName==="HTML")return t.push(document,window),t;e=e.parentElement}return t},k1=function(u){W1(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},n.prototype.init=function(){var t=this,e=this.get("graph"),r=this.get("getContent"),i=r(e),l=i;Object(g.isString)(i)&&(l=Object(_e.b)(i));var d=this.get("className");l.setAttribute("class",d||"g6-component-toolbar");var v=this.get("container");v||(v=this.get("graph").get("container")),Object(g.isString)(v)&&(v=document.getElementById(v)),v.appendChild(l),this.set("toolBar",l);var D=this.get("handleClick");l.addEventListener("click",function(F){var Z=z1(F).filter(function(it){return it.nodeName==="LI"});if(Z.length!==0){var J=Z[0].getAttribute("code");!J||(D?D(J,e):t.handleDefaultOperator(J,e))}});var R=this.get("position");R&&Object(_e.e)(l,{top:R.y+"px",left:R.x+"px"}),this.bindUndoRedo()},n.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),r=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),i=document.querySelector('.g6-component-toolbar li[code="redo"]'),l=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!r||!i||!l||t.on("stackchange",function(d){var v=d.undoStack,D=d.redoStack,R=v.length,F=D.length;R===1?(e.setAttribute("style","cursor: not-allowed"),r.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),r.removeAttribute("style")),F===0?(i.setAttribute("style","cursor: not-allowed"),l.setAttribute("style","opacity: 0.4")):(i.removeAttribute("style"),l.removeAttribute("style"))})},n.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===1)){var r=e.pop();if(r){var i=r.action;t.pushStack(i,Object(g.clone)(r.data),"redo");var l=r.data.before;if(i==="add"&&(l=r.data.after),!l)return;switch(i){case"visible":{Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){var R=t.findById(D.id);D.visible?t.showItem(R,!1):t.hideItem(R,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){t.updateItem(D.id,D,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":{Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){var R=D.itemType;delete D.itemType,t.addItem(R,D,!1)})});break}case"add":Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){t.removeItem(D.id,!1)})});break;case"updateComboTree":Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){t.updateComboTree(D.id,D.parentId,!1)})});break;default:}}}},n.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var r=e.pop();if(r){var i=r.action,l=r.data.after;if(t.pushStack(i,Object(g.clone)(r.data)),i==="delete"&&(l=r.data.before),!l)return;switch(i){case"visible":{Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){var R=t.findById(D.id);D.visible?t.showItem(R,!1):t.hideItem(R,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){t.updateItem(D.id,D,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":l.edges&&l.edges.forEach(function(d){t.removeItem(d.id,!1)}),l.nodes&&l.nodes.forEach(function(d){t.removeItem(d.id,!1)}),l.combos&&l.combos.forEach(function(d){t.removeItem(d.id,!1)});break;case"add":{Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){var R=D.itemType;delete D.itemType,t.addItem(R,D,!1)})});break}case"updateComboTree":Object.keys(l).forEach(function(d){var v=l[d];!v||v.forEach(function(D){t.updateComboTree(D.id,D.parentId,!1)})});break;default:}}}},n.prototype.handleDefaultOperator=function(t,e){var r=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var i=1/(1-B0*this.get("zoomSensitivity")),l=this.get("maxZoom")||e.get("maxZoom");if(i*r>l)return;e.zoomTo(r*i);break}case"zoomIn":{var d=1-B0*this.get("zoomSensitivity"),v=this.get("minZoom")||e.get("minZoom");if(d*r<v)return;e.zoomTo(r*d);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},n.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(g.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}var r=this.get("handleClick");r&&t.removeEventListener("click",r)},n}($s),V1=k1,X1=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();sp()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var H1=function(u){X1(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},n.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},n.prototype.init=function(){var t=this,e=t.get("className")||"g6-component-tooltip",r=Object(_e.b)("<div class="+e+"></div>"),i=t.get("container");i||(i=t.get("graph").get("container")),Object(g.isString)(i)&&(i=document.getElementById(i)),Object(_e.e)(r,{position:"absolute",visibility:"hidden",display:"none"}),i.appendChild(r),t.get("trigger")!=="click"&&(r.addEventListener("mouseenter",function(l){Object(_e.e)(r,{visibility:"visible",display:"unset"})}),r.addEventListener("mouseleave",function(l){t.hideTooltip()})),t.set("tooltip",r)},n.prototype.onClick=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,i=this.get("graph");this.currentTarget===r?(this.currentTarget=null,this.hideTooltip(),i.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=r,this.showTooltip(t),i.emit("tooltipchange",{item:t.item,action:"show"}))}},n.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,i=this.get("graph");this.currentTarget=r,this.showTooltip(t),i.emit("tooltipchange",{item:t.item,action:"show"})}},n.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},n.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},n.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=this.get("tooltip"),i=this.get("getContent"),l=i(t);Object(g.isString)(l)?r.innerHTML=l:r.innerHTML=l.outerHTML,this.updatePosition(t)}}},n.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Object(_e.e)(t,{visibility:"hidden",display:"none"})},n.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),r=this.get("tooltip");if(!e(t)){Object(_e.e)(r,{visibility:"hidden",display:"none"});return}var i=this.get("graph"),l=i.get("width"),d=i.get("height"),v=this.get("offsetX")||0,D=this.get("offsetY")||0,R=i.getPointByClient(t.clientX,t.clientY),F=this.get("fixToNode"),Z=t.item;if(Z.getType&&Z.getType()==="node"&&F&&Object(g.isArray)(F)&&F.length>=2){var J=Z.getBBox();R={x:J.minX+J.width*F[0],y:J.minY+J.height*F[1]}}var it=i.getCanvasByPoint(R.x,R.y),dt=it.x,bt=it.y,Dt=i.getContainer(),At={x:dt+Dt.offsetLeft+v,y:bt+Dt.offsetTop+D};Object(_e.e)(r,{visibility:"visible",display:"unset"});var wt=r.getBoundingClientRect();dt+wt.width+v>l&&(At.x-=wt.width+v),bt+wt.height+D>d&&(At.y-=wt.height+D),Object(_e.e)(r,{left:At.x+"px",top:At.y+"px"})},n.prototype.hide=function(){this.onMouseLeave()},n.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(g.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}($s),Y1=H1,nv=a("6vWT"),K1=function(u,n){for(var t=0,e=n.length,r=u.length;t<e;t++,r++)u[r]=n[t];return u};function _1(u){return Object(g.map)(u,function(n,t){var e=t===0?"M":"L",r=n[0],i=n[1];return[e,r,i]})}function N0(u){return _1(u)}function Z1(u){if(u.length<=2)return N0(u);var n=[];Object(g.each)(u,function(l){Object(g.isEqual)(l,n.slice(n.length-2))||n.push(l[0],l[1])});var t=ol.a(n,!1),e=Object(g.head)(u),r=e[0],i=e[1];return t.unshift(["M",r,i]),t}function $1(u,n,t,e){e===void 0&&(e=!0);var r=new nv.b({values:u}),i=new nv.a({values:Object(g.map)(u,function(d,v){return v})}),l=Object(g.map)(u,function(d,v){return[i.scale(v)*n,t-r.scale(d)*t]});return e?Z1(l):N0(l)}function Q1(u,n,t,e){e===void 0&&(e=5);for(var r=new nv.b({values:u}),i=new nv.a({values:Object(g.map)(u,function(Z,J){return J})}),l=Object(g.map)(u,function(Z,J){return[i.scale(J)*n,t-r.scale(Z)*t]}),d=[],v=0;v<l.length;v++){var D=l[v],R={x:D[0],y:D[1],y0:t,size:e},F=tS(R);d.push.apply(d,F)}return eS(d)}function J1(u,n){var t=new nv.b({values:u}),e=Math.max(0,t.min);return n-t.scale(e)*n}function q1(u,n,t,e){var r=K1([],u),i=J1(e,t);return r.push(["L",n,i]),r.push(["L",0,i]),r.push(["Z"]),r}function tS(u){var n=u.x,t=u.y,e=u.y0,r=u.size,i,l;Object(g.isArray)(t)?(i=t[0],l=t[1]):(i=e,l=t);var d,v;Object(g.isArray)(n)?(d=n[0],v=n[1]):(d=n-r/2,v=n+r/2);var D=[{x:d,y:i},{x:d,y:l}];return D.push({x:v,y:l},{x:v,y:i}),D}function eS(u,n){n===void 0&&(n=!0);var t=[],e=u[0];t.push(["M",e.x,e.y]);for(var r=1,i=u.length;r<i;r++)t.push(["L",u[r].x,u[r].y]);return n&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var iv=function(){return iv=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},iv.apply(this,arguments)},rS={stroke:"#C5C5C5",strokeOpacity:.85},nS={fill:"#CACED4",opacity:.85},iS=function(){function u(n){var t=n.x,e=t===void 0?0:t,r=n.y,i=r===void 0?0:r,l=n.width,d=l===void 0?200:l,v=n.height,D=v===void 0?26:v,R=n.smooth,F=R===void 0?!0:R,Z=n.isArea,J=Z===void 0?!1:Z,it=n.data,dt=it===void 0?[]:it,bt=n.lineStyle,Dt=n.areaStyle,At=n.group,wt=n.interval,zt=wt===void 0?null:wt;this.group=At,this.x=e,this.y=i,this.width=d,this.height=D,this.data=dt,this.smooth=F,this.isArea=J,this.lineStyle=Object.assign({},rS,bt),this.areaStyle=Object.assign({},nS,Dt),this.intervalConfig=zt,this.renderLine()}return u.prototype.renderLine=function(){var n=this,t=n.x,e=n.y,r=n.width,i=n.height,l=n.barWidth,d=n.data,v=n.smooth,D=n.isArea,R=n.lineStyle,F=n.areaStyle,Z=this.group.addGroup({name:"trend-group"});if(d){var J=$1(d,r,i,v);if(Z.addShape("path",{attrs:iv({path:J},R)}),D){var it=q1(J,r,i,d);Z.addShape("path",{attrs:iv({path:it},F)})}}this.intervalConfig&&Z.addShape("path",{attrs:iv({path:Q1(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style)}),Z.move(t,e)},u.prototype.destory=function(){this.group.destroy()},u}(),aS=iS,Jh=function(){return Jh=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Jh.apply(this,arguments)},oS={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},sS={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},lS=function(){function u(n){var t=n.group,e=n.name,r=n.type,i=n.x,l=i===void 0?0:i,d=n.y,v=d===void 0?0:d,D=n.width,R=D===void 0?2:D,F=n.height,Z=F===void 0?24:F,J=n.style,it=J===void 0?{}:J;this.group=t,this.name=e,this.handleType=r,this.x=l,this.y=v,this.width=R,this.height=Z,r==="trend"?this.style=Jh(Jh({},oS),it):r==="simple"&&(this.style=Jh(Jh({},sS),it)),this.renderHandle()}return u.prototype.setX=function(n){this.setXY(n,void 0)},u.prototype.setY=function(n){this.setXY(void 0,n)},u.prototype.setXY=function(n,t){Object(g.isNumber)(n)&&(this.x=n),Object(g.isNumber)(t)&&(this.y=t),this.updateXY()},u.prototype.renderHandle=function(){var n=this,t=n.width,e=n.height,r=n.style,i=n.name,l=r.fill,d=r.stroke,v=r.radius,D=r.opacity,R=r.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:l,stroke:d,radius:v,opacity:D,cursor:R},name:i+"-handler"}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:l,stroke:d,radius:v,opacity:D,cursor:R},name:i+"-handler"}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:l,stroke:d,radius:v,opacity:D,cursor:R},name:i+"-handler"})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:l,stroke:d,radius:v,opacity:D,cursor:R,lineWidth:2},name:i+"-handler"})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},u.prototype.bindSimpleEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.topCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.topCircle.attr("fill",e)})},u.prototype.bindTrendEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)})},u.prototype.show=function(){this.handleGroup.show()},u.prototype.hide=function(){this.handleGroup.hide()},u.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},u}(),F0=lS,G0="timebarstartplay",U0="timebarendplay",gu="valuechange",nh="timebarConfigChanged",ef="playPauseBtn",av="nextStepBtn",ov="preStepBtn",cp=function(){return cp=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},cp.apply(this,arguments)},uS=function(){function u(n){this.config=Object(g.deepMix)({},n),this.init()}return u.prototype.update=function(n){this.config=Object(g.deepMix)({},this.config,n),this.updateElement(),this.renderMarker()},u.prototype.init=function(){this.initElement(),this.renderMarker()},u.prototype.initElement=function(){var n=this.config,t=n.group,e=n.style,r=e.scale,i=r===void 0?1:r,l=e.offsetX,d=l===void 0?0:l,v=e.offsetY,D=v===void 0?0:v,R=this.config.x+d,F=this.config.y+D,Z=t.addGroup({name:ef});this.startMarkerGroup=Z.addGroup({name:ef}),this.circle=t.addShape("circle",{attrs:cp({x:R,y:F,r:this.config.r*i},e),name:ef}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(R,F,i),fill:e.stroke||"#aaa"}}),this.pauseMarkerGroup=Z.addGroup({name:ef});var J=.25*this.config.r*i,it=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:R-.375*this.config.r*i,y:F-it/2,width:J,height:it,fill:e.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:R+1/8*this.config.r*i,y:F-it/2,width:J,height:it,fill:e.stroke||"#aaa",lineWidth:0}})},u.prototype.updateElement=function(){var n=this.config.style,t=n.scale,e=t===void 0?1:t,r=n.offsetX,i=r===void 0?0:r,l=n.offsetY,d=l===void 0?0:l,v=this.config.x+i,D=this.config.y+d;this.circle.attr("x",v),this.circle.attr("y",D),this.circle.attr("r",this.config.r*e),this.startMarker.attr("path",this.getStartMarkerPath(v,D,e));var R=.25*this.config.r*e,F=.5*this.config.r*Math.sqrt(3)*e;this.pauseLeftMarker.attr("x",v-(1/4+1/8)*this.config.r*e),this.pauseLeftMarker.attr("y",D-F/2),this.pauseLeftMarker.attr("width",R),this.pauseLeftMarker.attr("height",F),this.pauseRightMarker.attr("x",v+1/8*this.config.r*e),this.pauseRightMarker.attr("y",D-F/2),this.pauseRightMarker.attr("width",R),this.pauseRightMarker.attr("height",F)},u.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},u.prototype.getStartMarkerPath=function(n,t,e){var r=.5*this.config.r*Math.sqrt(3)*e;return[["M",n-r/Math.sqrt(3)/2,t-r/2],["L",n+r/Math.sqrt(3),t],["L",n-r/Math.sqrt(3)/2,t+r/2]]},u}(),cS=uS,Po=function(){return Po=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Po.apply(this,arguments)},sv=b.transform,fS="#aaa",hS="green",dS={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},vS={fill:"#fff"},gS={fill:"green"},W0={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},z0={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},pS={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:W0,timeTypeControllerStyle:z0},fp=110,rf=50,yS=function(){function u(n){this.controllerCfg=Object(g.deepMix)({},pS,n),this.group=n.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=n.fontFamily||"Arial, sans-serif",this.init()}return u.prototype.init=function(){this.renderPlayButton()},u.prototype.getNextMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n+e,t],["L",n,t+e],["Z",n,t-e],["M",n,t],["L",n-e,t-e],["L",n-e,t+e],["Z"]]},u.prototype.getPreMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n-e,t],["L",n,t+e],["L",n,t-e],["M",n,t],["L",n+e,t-e],["L",n+e,t+e],["Z"]]},u.prototype.renderPlayButton=function(){var n=this.controllerCfg,t=n.width,e=n.height,r=n.x,i=n.y,l=n.hideTimeTypeController,d=n.fill,v=d===void 0?fS:d,D=n.stroke,R=D===void 0?hS:D,F=Po(Po({},dS),n.playBtnStyle||{}),Z=Po(Po({},vS),n.preBtnStyle||{}),J=Po(Po({},gS),n.nextBtnStyle||{}),it=e/2-5,dt=i+10,bt=this.controllerGroup.addShape("rect",{attrs:{x:r,y:dt,width:t,height:e,stroke:R,fill:v},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:dt,r:it}):this.playButton=new cS({group:this.controllerGroup,x:t/2,y:dt+it+5,r:it,isPlay:this.isPlay,style:F});var Dt=Z.offsetX||0,At=Z.offsetY||0,wt=(Z.scale||1)*it;this.controllerGroup.addShape("path",{attrs:Po({path:this.getPreMarkerPath(t/2-5*it+Dt,dt+it+5+At,wt*.5)},Z),name:ov});var zt=J.offsetX||0,Kt=J.offsetY||0,$t=(J.scale||1)*it;this.controllerGroup.addShape("path",{attrs:Po({path:this.getNextMarkerPath(t/2+5*it+zt,dt+it+5+Kt,$t*.5)},J),name:av}),bt.toBack(),this.renderSpeedBtn(),l||this.renderToggleTime(),this.bindEvent();var ee=this.controllerCfg.scale,re=ee===void 0?1:ee,fe=this.controllerGroup.getCanvasBBox(),ce=(fe.maxX+fe.minX)/2,Ae=(fe.maxY+fe.minY)/2,Te=sv([1,0,0,0,1,0,0,0,1],[["t",-ce,-Ae],["s",re,re],["t",ce,Ae]]);this.controllerGroup.setMatrix(Te)},u.prototype.renderSpeedBtn=function(){var n=this.controllerCfg,t=n.y,e=n.width,r=n.hideTimeTypeController,i=Po(Po({},W0),this.controllerCfg.speedControllerStyle||{}),l=i.scroller,d=l===void 0?{}:l,v=i.text,D=v===void 0?{}:v,R=i.pointer,F=R===void 0?{}:R,Z=i.scale,J=Z===void 0?1:Z,it=i.offsetX,dt=it===void 0?0:it,bt=i.offsetY,Dt=bt===void 0?0:bt,At=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=At;var wt=[],zt=5;this.speedAxisY=[19,22,26,32,39];for(var Kt=0;Kt<5;Kt++){var $t=t+this.speedAxisY[Kt],ee=e-(r?rf:fp);At.addShape("line",{attrs:Po({x1:ee,x2:ee+15,y1:$t,y2:$t},d),speed:zt,name:"speed-rect"}),this.speedAxisY[Kt]=$t,wt.push(zt),zt=zt-1}this.speedText=At.addShape("text",{attrs:Po({x:e-(r?rf:fp)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},D)}),this.speedPoint=At.addShape("path",{attrs:Po({path:this.getPointerPath(e-(r?rf:fp),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},F)});var re=this.speedGroup.getCanvasBBox(),fe=(re.maxX+re.minX)/2,ce=(re.maxY+re.minY)/2,Ae=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Ae=sv(Ae,[["t",-fe,-ce],["s",J,J],["t",fe+dt*J,ce+Dt*J]]),this.speedGroup.setMatrix(Ae)},u.prototype.getPointerPath=function(n,t){return[["M",n,t],["L",n-10,t-4],["L",n-10,t+4],["Z"]]},u.prototype.renderToggleTime=function(){var n,t=this.controllerCfg.width,e=Po(Po({},z0),this.controllerCfg.timeTypeControllerStyle||{}),r=e.scale,i=r===void 0?1:r,l=e.offsetX,d=l===void 0?0:l,v=e.offsetY,D=v===void 0?0:v,R=e.box,F=R===void 0?{}:R,Z=e.check,J=Z===void 0?{}:Z,it=e.text,dt=it===void 0?{}:it;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:Po({x:t-rf,y:this.speedAxisY[0]+3.5},F),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Po({path:[["M",t-rf+3,this.speedAxisY[1]+6],["L",t-rf+7,this.speedAxisY[1]+10],["L",t-rf+12,this.speedAxisY[1]+4]]},J),capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Po({text:((n=this.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:t-rf+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},dt)});var bt=this.toggleGroup.getCanvasBBox(),Dt=(bt.maxX+bt.minX)/2,At=(bt.maxY+bt.minY)/2,wt=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];wt=sv(wt,[["t",-Dt,-At],["s",i,i],["t",Dt+d*i,At+D*i]]),this.toggleGroup.setMatrix(wt)},u.prototype.bindEvent=function(){var n=this;this.speedGroup.on("speed-rect:click",function(t){var e=t.target.attr("y1"),r=n.speedPoint.attr("matrix"),i=n.speedAxisY.indexOf(r[7]||0),l=n.speedAxisY.indexOf(e),d=n.speedAxisY[l]-n.speedAxisY[i];r=sv(r,[["t",0,d]]),n.speedPoint.setMatrix(r),n.currentSpeed=n.speedAxisY.length-l,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(nh,{speed:n.currentSpeed,type:n.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var e=n.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=e[7],i=n.speedAxisY.indexOf(r);if(i===-1){var l=Infinity;n.speedAxisY.forEach(function(v,D){var R=Math.abs(v-r);l>R&&(l=R,i=D)})}t.originalEvent.deltaY>0?i=Math.max(0,i-1):i=Math.min(n.speedAxisY.length-1,i+1);var d=n.speedAxisY[i]-r;e=sv(e,[["t",0,d]]),n.speedPoint.setMatrix(e),n.currentSpeed=n.speedAxisY.length-i,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(nh,{speed:n.currentSpeed,type:n.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var e,r,i=t.target.get("isChecked");i?(n.checkedIcon.hide(),n.checkedText.attr("text",((r=n.controllerCfg)===null||r===void 0?void 0:r.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),n.currentType="range"):(n.checkedIcon.show(),n.checkedText.attr("text",((e=n.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),n.currentType="single"),t.target.set("isChecked",!i),n.group.emit(nh,{type:n.currentType,speed:n.currentSpeed})})},u.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},u}(),k0=yS,Wa=function(){return Wa=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Wa.apply(this,arguments)},mS={fill:"#416180",opacity:.05},bS={fill:"#416180",opacity:.15,radius:5},OS={fill:"#5B8FF9",opacity:.3,cursor:"grab"},hp=2,xS={width:hp,height:24},ES={textBaseline:"middle",fill:"#000",opacity:.45},SS={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},MS={lineWidth:1,stroke:"#ccc"},CS=function(){function u(n){var t=this;this.prevX=0,this.onMouseDown=function(Sr){return function(Xr){t.currentHandler=Sr;var en=Xr.originalEvent;en.stopPropagation(),en.preventDefault(),t.prevX=Object(g.get)(en,"touches.0.pageX",en.pageX);var Ar=t.canvas.get("container");Ar.addEventListener("mousemove",t.onMouseMove),Ar.addEventListener("mouseup",t.onMouseUp),Ar.addEventListener("mouseleave",t.onMouseUp),Ar.addEventListener("touchmove",t.onMouseMove),Ar.addEventListener("touchend",t.onMouseUp),Ar.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Sr){Sr.stopPropagation(),Sr.preventDefault();var Xr=Object(g.get)(Sr,"touches.0.pageX",Sr.pageX),en=Xr-t.prevX,Ar=t.adjustOffsetRange(en/t.width);t.updateStartEnd(Ar),t.updateUI(),t.prevX=Xr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Sr=t.canvas.get("container");Sr&&(Sr.removeEventListener("mousemove",t.onMouseMove),Sr.removeEventListener("mouseup",t.onMouseUp),Sr.removeEventListener("mouseleave",t.onMouseUp),Sr.removeEventListener("touchmove",t.onMouseMove),Sr.removeEventListener("touchend",t.onMouseUp),Sr.removeEventListener("touchcancel",t.onMouseUp))};var e=n.x,r=e===void 0?0:e,i=n.y,l=i===void 0?0:i,d=n.width,v=d===void 0?100:d,D=n.height,R=n.padding,F=R===void 0?10:R,Z=n.trendCfg,J=n.controllerCfg,it=J===void 0?{speed:1}:J,dt=n.backgroundStyle,bt=dt===void 0?{}:dt,Dt=n.foregroundStyle,At=Dt===void 0?{}:Dt,wt=n.handlerStyle,zt=wt===void 0?{}:wt,Kt=n.textStyle,$t=Kt===void 0?{}:Kt,ee=n.start,re=ee===void 0?0:ee,fe=n.end,ce=fe===void 0?1:fe,Ae=n.minText,Te=Ae===void 0?"":Ae,cr=n.maxText,fr=cr===void 0?"":cr,gr=n.group,qr=n.graph,kr=n.canvas,Nr=n.tick,Fr=Nr===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(Xr){return Xr},ticks:[]}:Nr,Ir=n.type;this.graph=qr,this.canvas=kr,this.group=gr,this.timeBarType=Ir,this.x=r,this.y=l,this.width=v,this.height=D,this.padding=F,this.ticks=Fr.ticks,this.trendCfg=Z,this.controllerCfg=it,this.currentSpeed=it.speed||1,this.tickLabelFormatter=Fr.tickLabelFormatter,Ir==="trend"?this.backgroundStyle=Wa(Wa({},mS),bt):Ir==="simple"&&(this.backgroundStyle=Wa(Wa({},bS),bt)),this.foregroundStyle=Wa(Wa({},OS),At),this.handlerStyle=Wa(Wa({},xS),zt),this.textStyle=Wa(Wa({},ES),$t),this.tickLabelStyle=Wa(Wa({},SS),Fr.tickLabelStyle),this.tickLineStyle=Wa(Wa({},MS),Fr.tickLineStyle),this.currentMode="range",this.start=re,this.end=ce,this.minText=Te,this.maxText=fr,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return u.prototype.update=function(n){var t=n.x,e=n.y,r=n.width,i=n.height,l=n.minText,d=n.maxText,v=n.start,D=n.end;this.start=Math.min(1,Math.max(v,0)),this.end=Math.min(1,Math.max(D,0)),Object(g.assign)(this,{x:t,y:e,width:r,height:i,minText:l,maxText:d}),this.updateUI()},u.prototype.setText=function(n,t){this.minTextShape.attr("text",n),this.maxTextShape.attr("text",t)},u.prototype.renderSlider=function(){var n=this,t=this,e=t.width,r=t.height,i=t.timeBarType;if(i==="trend"&&Object(g.size)(Object(g.get)(this.trendCfg,"data"))){var l=new aS(Wa(Wa({x:this.x,y:this.y,width:e,height:r},this.trendCfg),{group:this.group}));this.trendComponent=l}var d=this.group.addGroup({name:"slider-group"});d.addShape("rect",{attrs:Wa({x:0,y:0,width:e,height:r},this.backgroundStyle)});var v=this.group.addGroup();i==="trend"?(this.minTextShape=v.addShape("text",{attrs:Wa({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=v.addShape("text",{attrs:Wa({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})):(this.minTextShape=v.addShape("text",{attrs:Wa({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=v.addShape("text",{attrs:Wa({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Wa({x:0,y:this.y,height:r},this.foregroundStyle)}),this.foregroundShape.on("mousedown",function(bt){bt.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(bt){bt.target.attr("cursor",n.foregroundStyle.cursor||"grab")});var D=Object(g.get)(this.handlerStyle,"width",2),R=Object(g.get)(this.handlerStyle,"height",24),F=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new F0({name:"minHandlerShape",group:F,type:i,x:this.x,y:this.y,width:D,height:R,style:this.handlerStyle});var Z=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new F0({name:"maxHandlerShape",group:Z,type:i,x:this.x,y:this.y,width:D,height:R,style:this.handlerStyle});var J=this.ticks,it=e/(J.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(bt){bt.destroy()});var dt=-Infinity;this.textList=J.map(function(bt,Dt){n.tickPosList.push(n.x+Dt*it);var At;n.tickLabelFormatter?(At=n.tickLabelFormatter(bt),!Object(g.isString)(At)&&At&&(At=bt.date)):At=bt.date;var wt=n.group.addShape("text",{attrs:Wa({x:n.x+Dt*it,y:n.y+r+5,text:At,fontFamily:n.fontFamily||"Arial, sans-serif"},n.tickLabelStyle)}),zt=n.group.addShape("line",{attrs:Wa({x1:n.x+Dt*it,y1:n.y+r+2,x2:n.x+Dt*it,y2:n.y+r+6},n.tickLineStyle)});zt.toBack();var Kt=wt.getBBox();return Kt.minX>dt?(wt.show(),zt.show(),dt=Kt.minX+Kt.width+10):(wt.hide(),zt.hide()),wt}),this.controllerBtnGroup=new k0(Wa({group:this.group,x:this.x,y:this.y+r+25,width:e,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),d.move(this.x,this.y),this.bindEvents()},u.prototype.bindEvents=function(){var n=this,t=this.group.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(ef+":click",function(){n.isPlay=!n.isPlay,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()}),this.group.on(av+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(.01),n.updateUI()}),this.group.on(ov+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(-.01),n.updateUI()}),this.group.on(nh,function(r){var i=r.type,l=r.speed;n.currentSpeed=l,n.currentMode=i,i==="single"?(n.minHandlerShape.hide(),n.foregroundShape.hide(),n.minTextShape.hide()):i==="range"&&(n.minHandlerShape.show(),n.foregroundShape.show(),n.minTextShape.show())})},u.prototype.adjustTickIndex=function(n){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=n&&n<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-n)<Math.abs(n-this.tickPosList[t+1])?t:t+1;return 0},u.prototype.adjustOffsetRange=function(n){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,n))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,n))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,n))}default:return 0}},u.prototype.updateStartEnd=function(n){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],e=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=n,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.foregroundShape:this.start+=n,this.end+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;default:break}},u.prototype.updateUI=function(){var n=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,e=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var r=Object(g.get)(this.handlerStyle,"width",hp);this.setText(this.minText,this.maxText);var i=this.dodgeText([t,e]),l=i[0],d=i[1];this.minHandlerShape.setX(t-r/2),Object(g.each)(l,function(v,D){return n.minTextShape.attr(D,v)}),this.maxHandlerShape.setX(e-r/2),Object(g.each)(d,function(v,D){return n.maxTextShape.attr(D,v)}),this.currentMode==="range"?this.graph.emit(gu,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(gu,{value:[this.end,this.end]})},u.prototype.dodgeText=function(n){var t,e,r=2,i=Object(g.get)(this.handlerStyle,"width",hp),l=this.minTextShape,d=this.maxTextShape,v=n[0],D=n[1],R=!1;v>D&&(t=[D,v],v=t[0],D=t[1],e=[d,l],l=e[0],d=e[1],R=!0);var F=l.getBBox(),Z=d.getBBox(),J=null,it=null;return this.timeBarType==="trend"?(J=v-F.width<this.x+r?{x:v+i/2+r,textAlign:"left"}:{x:v-i/2-r,textAlign:"right"},it=D+Z.width>this.x+this.width?{x:D-i/2-r,textAlign:"right"}:{x:D+i/2+r,textAlign:"left"}):this.timeBarType==="simple"&&(J=F.width>v-r?{x:v+i/2+r,textAlign:"center"}:{x:v-i/2-r,textAlign:"center"},it=Z.width>this.width-D-r?{x:D-i/2-r,textAlign:"center"}:{x:D+i/2+r,textAlign:"center"}),R?[it,J]:[J,it]},u.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n,e=t.ticks,r=t.width,i=n.currentSpeed,l=r/e.length,d=l/((10-i)*1e3/60),v=n.adjustOffsetRange(d/n.width);n.updateStartEnd(v),n.updateUI(),n.isPlay&&(n.playHandler=n.startPlay())}):void 0},u.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(G0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(U0,null))},u.prototype.destory=function(){this.graph.off(gu);var n=this.group,t=n.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=n.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),n.off(ef+":click"),n.off(av+":click"),n.off(ov+":click"),n.off(nh),n.destroy(),this.trendComponent&&this.trendComponent.destory()},u}(),AS=CS,qC={opacity:.5,fill:"#000"},tA={opacity:.5,fill:"#000",r:5},eA={fill:"#fff",fontSize:12},TS=function(){function u(n){var t=n.x,e=t===void 0?0:t,r=n.y,i=r===void 0?0:r,l=n.container,d=n.text,v=n.padding,D=v===void 0?[4,4,4,4]:v,R=n.className,F=R===void 0?"g6-component-timebar-tooltip":R,Z=n.backgroundColor,J=Z===void 0?"#000":Z,it=n.textColor,dt=it===void 0?"#fff":it,bt=n.opacity,Dt=bt===void 0?.8:bt,At=n.fontSize,wt=At===void 0?12:At;this.container=l,this.className=F,this.backgroundColor=J,this.textColor=dt,this.x=e,this.y=i,this.text=d,this.padding=D,this.opacity=Dt,this.fontSize=wt,this.render()}return u.prototype.render=function(){var n=this,t=n.className,e=n.x,r=n.y,i=n.backgroundColor,l=n.textColor,d=n.text,v=n.padding,D=n.opacity,R=n.fontSize,F=n.container,Z=Object(_e.b)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+D+'"></div>');Object(g.isString)(F)&&(F=document.getElementById(F)),F.appendChild(Z),n.parentHeight=F.offsetHeight,n.parentWidth=F.offsetWidth,Object(_e.e)(Z,{visibility:"hidden",top:0,left:0});var J=Object(_e.b)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+i+"; font-size: "+R+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+l+"; padding: "+v[0]+"px "+v[1]+"px "+v[2]+"px "+v[3]+"px'></div>");J.innerHTML=d,Z.appendChild(J),n.backgroundDOM=J;var it=Object(_e.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+i+"'></div>");Z.appendChild(it),n.arrowDOM=it,n.container=Z},u.prototype.show=function(n){var t=this,e=n.text,r=n.x,i=n.y,l=n.clientX,d=n.clientY;t.backgroundDOM.innerHTML=e;var v=t.backgroundDOM.offsetWidth,D=t.backgroundDOM.offsetHeight,R=t.arrowDOM.offsetWidth,F=t.arrowDOM.offsetHeight;Object(_e.e)(t.container,{top:-D-F+"px",left:r+"px",visibility:"visible"}),Object(_e.e)(t.backgroundDOM,{marginLeft:-v/2+"px"}),Object(_e.e)(t.arrowDOM,{marginLeft:-R/2+"px",top:D+"px"});var Z=r-v/2,J=r+v/2;Z<0?Object(_e.e)(t.backgroundDOM,{marginLeft:-v/2-Z+"px"}):J>t.parentWidth&&Object(_e.e)(t.backgroundDOM,{marginLeft:-v/2-J+t.parentWidth+12+"px"})},u.prototype.hide=function(){Object(_e.e)(this.container,{top:0,left:0,visibility:"hidden"})},u}(),DS=TS,dp=function(){return dp=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},dp.apply(this,arguments)},PS={fill:"#5B8FF9"},IS={fill:"#e6e8e9"},LS=function(){function u(n){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=n.graph,e=n.canvas,r=n.group,i=n.width,l=n.height,d=n.padding,v=n.data,D=n.start,R=n.end,F=n.x,Z=F===void 0?0:F,J=n.y,it=J===void 0?0:J,dt=n.tickLabelFormatter,bt=n.selectedTickStyle,Dt=bt===void 0?PS:bt,At=n.unselectedTickStyle,wt=At===void 0?IS:At,zt=n.tooltipBackgroundColor,Kt=n.tooltipFomatter;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=e,this.width=i,this.height=l,this.padding=d,this.data=v,this.start=D,this.end=R,this.tickLabelFormatter=dt,this.selectedTickStyle=Dt,this.unselectedTickStyle=wt,this.x=Z,this.y=it,this.tooltipBackgroundColor=zt,this.tooltipFomatter=Kt,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return u.prototype.renderSlices=function(){var n=this,t=this,e=t.width,r=t.height,i=t.padding,l=t.data,d=t.start,v=t.end,D=t.tickLabelFormatter,R=t.selectedTickStyle,F=t.unselectedTickStyle,Z=e-2*i,J=10,it=4,dt=3*i+it+J,bt=r-dt-2*i,Dt=2,At=l.length,wt=(Z-Dt*(At-1))/At;this.tickWidth=wt;var zt=this.sliceGroup,Kt=[],$t=[],ee=Math.round(At*d),re=Math.round(At*v);this.startTickRectId=ee,this.endTickRectId=re,l.forEach(function(ce,Ae){var Te=Ae>=ee&&Ae<=re,cr=Te?R:F,fr=zt.addShape("rect",{attrs:dp({x:i+Ae*(wt+Dt),y:i,width:wt,height:bt},cr),draggable:!0,name:"tick-rect-"+Ae}),gr=zt.addShape("rect",{attrs:{x:i+Ae*wt+Dt*(2*Ae-1)/2,y:i,width:Ae===0||Ae===At-1?wt+Dt/2:wt+Dt,height:bt,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+Ae});gr.toFront();var qr=fr.getBBox(),kr=(qr.minX+qr.maxX)/2;Kt.push({rect:fr,pickRect:gr,value:ce.date,x:kr,y:qr.minY});var Nr;if(D?(Nr=D(ce),!Object(g.isString)(Nr)&&Nr&&(Nr=ce.date)):Ae%Math.round(At/10)==0&&(Nr=ce.date),Nr){$t.push(Nr);var Fr=qr.maxY+i*2;zt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:kr,y1:Fr,x2:kr,y2:Fr+it}});var Ir=Fr+it+i,Sr=zt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:kr,y:Ir,textAlign:"center",text:Nr,textBaseline:"top",fontSize:10,fontFamily:n.fontFamily||"Arial, sans-serif"},capture:!1}),Xr=Sr.getBBox();Xr.maxX>e?Sr.attr("textAlign","right"):Xr.minX<0&&Sr.attr("textAlign","left")}}),this.tickRects=Kt;var fe=this.group;this.currentSpeed=1,this.controllerBtnGroup=new k0({group:fe,x:this.x,y:this.y+r+5,width:e,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},u.prototype.initEvent=function(){var n=this,t=this.sliceGroup;t.on("click",function(R){var F=R.target;if(!(F.get("type")!=="rect"||!F.get("name"))){var Z=parseInt(F.get("name").split("-")[2],10);if(!isNaN(Z)){var J=n.tickRects,it=n.unselectedTickStyle;J.forEach(function(At){At.rect.attr(it)});var dt=n.selectedTickStyle;J[Z].rect.attr(dt),n.startTickRectId=Z,n.endTickRectId=Z;var bt=J.length,Dt=Z/bt;n.graph.emit(gu,{value:[Dt,Dt]})}}}),t.on("dragstart",function(R){var F=n.tickRects,Z=n.unselectedTickStyle;F.forEach(function(At){At.rect.attr(Z)});var J=R.target,it=parseInt(J.get("name").split("-")[2],10),dt=n.selectedTickStyle;F[it].rect.attr(dt),n.startTickRectId=it;var bt=F.length,Dt=it/bt;n.graph.emit(gu,{value:[Dt,Dt]}),n.dragging=!0}),t.on("dragover",function(R){if(!!n.dragging&&R.target.get("type")==="rect"){for(var F=parseInt(R.target.get("name").split("-")[2],10),Z=n.startTickRectId,J=n.tickRects,it=n.selectedTickStyle,dt=n.unselectedTickStyle,bt=0;bt<J.length;bt++){var Dt=bt>=Z&&bt<=F?it:dt;J[bt].rect.attr(Dt)}var At=J.length;n.endTickRectId=F;var wt=Z/At,zt=F/At;n.graph.emit(gu,{value:[wt,zt]})}}),t.on("drop",function(R){if(!!n.dragging&&(n.dragging=!1,R.target.get("type")==="rect")){var F=n.startTickRectId,Z=parseInt(R.target.get("name").split("-")[2],10);if(!(Z<F)){var J=n.selectedTickStyle,it=n.tickRects;it[Z].rect.attr(J),n.endTickRectId=Z;var dt=it.length,bt=F/dt,Dt=Z/dt;n.graph.emit(gu,{value:[bt,Dt]})}}});var e=this,r=e.tooltipBackgroundColor,i=e.tooltipFomatter,l=e.canvas,d=new DS({container:l.get("container"),backgroundColor:r}),v=this.tickRects;v.forEach(function(R){var F=R.pickRect;F.on("mouseenter",function(Z){var J=Z.target;if(J.get("type")==="rect"){var it=parseInt(J.get("name").split("-")[2],10),dt=l.getClientByPoint(v[it].x,v[it].y);d.show({x:v[it].x,y:v[it].y,clientX:dt.x,clientY:dt.y,text:i?i(v[it].value):v[it].value})}}),F.on("mouseleave",function(Z){d.hide()})});var D=this.group;D.on(ef+":click",function(){n.isPlay=!n.isPlay,n.changePlayStatus()}),D.on(av+":click",function(){n.updateStartEnd(1)}),D.on(ov+":click",function(){n.updateStartEnd(-1)}),D.on(nh,function(R){var F=R.type,Z=R.speed;n.currentSpeed=Z})},u.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(G0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(U0,null))},u.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n.currentSpeed;n.frameCount%(60/t)==0&&(n.frameCount=0,n.updateStartEnd(1)),n.frameCount++,n.isPlay&&(n.playHandler=n.startPlay())}):void 0},u.prototype.updateStartEnd=function(n){var t=this,e=this.tickRects,r=e.length,i=this.unselectedTickStyle,l=this.selectedTickStyle,d=t.endTickRectId;if(n>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(i),t.endTickRectId--),d!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var v=t.startTickRectId;v<=t.endTickRectId-1;v++)e[v].rect.attr(i);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(l);var D=t.startTickRectId/r,R=t.endTickRectId/r;this.graph.emit(gu,{value:[D,R]})}},u.prototype.destory=function(){this.graph.off(gu);var n=this.sliceGroup;n.off("click"),n.off("dragstart"),n.off("dragover"),n.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,n.off(ef+":click"),n.off(av+":click"),n.off(ov+":click"),n.off(nh),this.sliceGroup.destroy()},u}(),jS=LS,RS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ic=function(){return ic=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},ic.apply(this,arguments)},wS=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},BS=4,NS=26,FS=function(u){RS(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1}},n.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,r=e.width,i=e.height,l=this.get("className")||"g6-component-timebar",d=this.get("container"),v=this.get("graph").get("container"),D;d?(Object(g.isString)(d)&&(d=document.getElementById(d)),D=d):(D=Object(_e.b)("<div class='"+l+"'></div>"),Object(_e.e)(D,{position:"relative"})),v.appendChild(D),this.set("timeBarContainer",D);var R,F=t.get("renderer");F==="SVG"?R=new Ns.Canvas({container:D,width:r,height:i}):R=new fs.Canvas({container:D,width:r,height:i}),this.set("canvas",R)},n.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var r=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",r)},n.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,r=t.x,i=t.y,l=t.padding,d=t.type,v=t.trend,D=t.slider,R=t.controllerCfg,F=t.textStyle,Z=t.tick,J=t.backgroundStyle,it=t.foregroundStyle,dt=v.data,bt=wS(v,["data"]),Dt=e-2*l,At=d==="trend"?NS:BS,wt=this.get("graph"),zt=this.get("timeBarGroup"),Kt=this.get("canvas"),$t=null;d==="trend"||d==="simple"?$t=new AS(ic(ic({graph:wt,canvas:Kt,group:zt,type:d,x:r+l,y:d==="trend"?i+l:i+l+15,width:Dt,height:At,padding:l,backgroundStyle:J,foregroundStyle:it,trendCfg:ic(ic({},bt),{data:dt.map(function(ee){return ee.value})})},D),{tick:{ticks:dt,tickLabelFormatter:Z.tickLabelFormatter,tickLabelStyle:Z.tickLabelStyle,tickLineStyle:Z.tickLineStyle},handlerStyle:ic(ic({},D.handlerStyle),{height:D.height||At}),controllerCfg:R,textStyle:F})):d==="tick"&&($t=new jS(ic({graph:wt,canvas:Kt,group:zt,x:r+l,y:i+l},Z))),this.set("timebar",$t)},n.prototype.filterData=function(t){var e,r=t.value,i=null,l=this._cfgs.type;if(l==="trend"||l==="simple"?i=this._cfgs.trend.data:l==="tick"&&(i=this._cfgs.tick.data),!i||i.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var d=this.get("rangeChange"),v=this.get("graph"),D=Math.round(i.length*r[0]),R=Math.round(i.length*r[1]);R=R>=i.length?i.length-1:R,D=D>=i.length?i.length-1:D;var F=(e=this._cfgs.tick)===null||e===void 0?void 0:e.tickLabelFormatter,Z=F?F(i[D]):i[D].date,J=F?F(i[R]):i[R].date;if(l!=="tick"){var it=this.get("timebar");it.setText(Z,J)}if(d)d(v,Z,J);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=v.get("data"));var dt=this.cacheGraphData.nodes.filter(function(At){return At.date>=i[D].date&&At.date<=i[R].date}),bt=dt.map(function(At){return At.id}),Dt=[];this.cacheGraphData.edges&&(Dt=this.cacheGraphData.edges.filter(function(At){return bt.includes(At.source)&&bt.includes(At.target)}),this.get("filterEdge")&&(Dt=Dt.filter(function(At){return At.date>=i[D].date&&At.date<=i[R].date}))),v.changeData({nodes:dt,edges:Dt})}},n.prototype.initEvent=function(){var t=this,e=0,r=0,i=this._cfgs.type;!i||i==="trend"||i==="simple"?(e=this._cfgs.slider.start,r=this._cfgs.slider.end):i==="tick"&&(e=this._cfgs.tick.start,r=this._cfgs.tick.end);var l=this.get("graph");l.on("afterrender",function(d){t.filterData({value:[e,r]})}),l.on(gu,Object(g.throttle)(function(d){t.filterData(d)},200,{trailing:!0,leading:!0}))},n.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),u.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(g.isString)(r)&&(r=document.getElementById(r)),r.removeChild(e)}},n}($s),GS=FS,US=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WS=Zo.applyMatrix;function zS(u,n){var t,e;if(u.naturalWidth)t=u.naturalWidth,e=u.naturalHeight;else{var r=new Image;r.src=u.src,r.onload=function(){n&&n(r.width,r.height)}}return[t,e]}var kS=function(u){US(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.graph;if(!this.destroyed){var i=this.get("container");Object(g.isString)(i)&&(i=document.getElementById(i));var l=Object(_e.b)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),d=0,v=0,D=!1,R=0,F=0,Z=0,J=0,it=0,dt=0;i.addEventListener("mousedown",function(bt){if(e.refresh=!1,bt.target===l){var Dt=l.style;Z=parseInt(Dt.width,10),J=parseInt(Dt.height,10);var At=t.get("width"),wt=t.get("height");Z>At||J>wt||(dt=r.getZoom(),it=t.get("ratio"),D=!0,d=bt.clientX,v=bt.clientY)}},!1),i.addEventListener("mousemove",function(bt){if(!(!D||Object(g.isNil)(bt.clientX)||Object(g.isNil)(bt.clientY))){var Dt=t.get("width"),At=t.get("height"),wt=l.style;R=parseInt(wt.left,10),F=parseInt(wt.top,10),Z=parseInt(wt.width,10),J=parseInt(wt.height,10);var zt=d-bt.clientX,Kt=v-bt.clientY;R-zt<0?zt=R:R-zt+Z>=Dt&&(zt=0),F-Kt<0?Kt=F:F-Kt+J>=At&&(Kt=0),R-=zt,F-=Kt,Object(_e.e)(l,{left:R+"px",top:F+"px"}),r.translate(zt*dt/it,Kt*dt/it),d=bt.clientX,v=bt.clientY}},!1),i.addEventListener("mouseleave",function(){D=!1,e.refresh=!0},!1),i.addEventListener("mouseup",function(){D=!1,e.refresh=!0},!1),this.set("viewport",l),i.appendChild(l)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),r=this.get("height"),i=this.get("graph"),l=i.get("width"),d=i.get("height"),v=l/d,D=i.getGroup(),R=D.getCanvasBBox(),F=[(R.minX+R.maxX)/2,(R.minY+R.maxY)/2],Z=[R.maxX-R.minX,R.maxY-R.minY],J={centerX:F[0],centerY:F[1],width:0,height:0,minX:0,minY:0};R[0]/R[1]>v?(J.width=Z[0],J.height=J.width/v):(J.height=Z[1],J.width=J.height*v),J.minX=F[0]-J.width/2,J.minY=F[1]-J.height/2;var it=D.getMatrix();it||(it=[1,0,0,0,1,0,0,0,1]);var dt=Rr.a.invert([1,0,0,0,1,0,0,0,1],it),bt=WS({x:J.minX,y:J.minY},dt),Dt=i.getCanvasByPoint(bt.x,bt.y),At=this.get("viewport");At||this.initViewport();var wt=l/J.width,zt=wt*e,Kt=wt*r,$t=e*-Dt.x/J.width,ee=r*-Dt.y/J.height,re=$t+zt,fe=ee+Kt;$t<0&&(zt+=$t,$t=0),re>e&&(zt=zt-(re-e)),ee<0&&(Kt+=ee,ee=0),fe>r&&(Kt=Kt-(fe-r)),this.set("ratio",t);var ce=$t+"px",Ae=ee+"px";Object(_e.e)(At,{left:ce,top:Ae,width:zt+"px",height:Kt+"px"})}},n.prototype.init=function(){this.initContainer()},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=e.get("width"),i=e.get("height"),l=i/r,d=t.get("className"),v=t.get("container"),D=t.get("width"),R=t.get("height");!D&&!R&&(D=200),D?(R=l*D,t.set("height",R)):(D=1/l*R,t.set("width",D));var F=Object(_e.b)("<div class='"+d+"' style='width: "+D+"px; height: "+R+"px; overflow: hidden; position: relative;'></div>");Object(g.isString)(v)&&(v=document.getElementById(v)),v?v.appendChild(F):e.get("container").appendChild(F),t.set("container",F);var Z=Object(_e.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');F.appendChild(Z);var J=Object(_e.b)('<span style="display: table-cell; vertical-align: middle; "></span>');Z.appendChild(J),t.set("containerDOM",Z),t.set("containerSpan",J);var it=Object(_e.b)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",it),t.updateImgSize(),J.appendChild(it),t.updateCanvas()},n.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),r=t.get("width"),i=t.get("height");e.onload=function(){var l=zS(e);l[0]>l[1]?e.width=r:e.height=i}},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("width"),i=e.get("canvas").getCanvasBBox(),l=i.width,d=r/l;this.set("ratio",d),this.updateViewport()}}},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.updateGraphImg=function(t){var e=this,r=e.get("imgDOM");r.remove(),e.set("graphImg",t);var i=Object(_e.b)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",i),i.src=t,e.updateImgSize();var l=e.get("containerSpan");l.appendChild(i),e.updateCanvas()},n.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},n}($s),VS=kS,XS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vp=function(){return vp=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},vp.apply(this,arguments)},HS=Zo.distance,V0=.05,X0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},YS=function(u){XS(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(g.clone)(X0),showLabel:"edge",scaleRBy:"wheel"}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},n.prototype.init=function(){var t=this,e=t.get("showLabel"),r=e==="node"||e==="both",i=e==="edge"||e==="both";t.set("showNodeLabel",r),t.set("showEdgeLabel",i);var l=t.get("shouldShow");l||t.set("shouldShow",function(){return!0})},n.prototype.createDelegate=function(t){var e=this,r=e.get("delegate");(!r||r.destroyed)&&(e.filter(t),r=e.get("delegate"),r.on("dragstart",function(i){}),r.on("drag",function(i){e.filter(i)}),this.get("scaleRBy")==="wheel"&&r.on("mousewheel",function(i){e.scaleRByWheel(i)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),i,l=e.get("delegate"),d=l?{x:l.attr("x"),y:l.attr("y")}:void 0,v=d||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?i=1-V0:i=1/(1-V0);var D=e.get("maxR"),R=e.get("minR"),F=e.get("r");(F>(D||r.get("height"))&&i>1||F<(R||r.get("height")*.05)&&i<1)&&(i=1),F*=i,e.set("r",F),e.filter(t)}},n.prototype.filter=function(t){var e=this,r=e.get("graph"),i=r.getNodes(),l={},d=e.get("r"),v=e.get("type"),D={x:t.x,y:t.y};e.updateDelegate(D,d);var R=e.get("shouldShow"),F=e.get("vShapes");F&&F.forEach(function(Dt){Dt.remove(),Dt.destroy()}),F=[],i.forEach(function(Dt){var At=Dt.getModel(),wt=At.x,zt=At.y;HS({x:wt,y:zt},D)<d&&(l[At.id]=Dt)});var Z=r.getEdges(),J=[];Z.forEach(function(Dt){var At=Dt.getModel(),wt=At.source,zt=At.target;R(At)&&(v==="only-source"||v==="one"?l[wt]&&!l[zt]&&J.push(Dt):v==="only-target"||v==="one"?l[zt]&&!l[wt]&&J.push(Dt):v==="both"&&l[wt]&&l[zt]&&J.push(Dt))});var it=e.get("showNodeLabel"),dt=e.get("showEdgelabel"),bt=r.get("group");J.forEach(function(Dt){var At=Dt.get("group").get("children");At.forEach(function(wt){var zt=wt.get("type"),Kt=bt.addShape(zt,{attrs:wt.attr()});F.push(Kt),it&&zt==="text"&&Kt.set("visible",!0)})}),Object.keys(l).forEach(function(Dt){var At=l[Dt],wt=At.get("group").clone();if(bt.add(wt),F.push(wt),dt)for(var zt=wt.get("children"),Kt=0;Kt<zt.length;Kt++){var $t=zt[Kt];$t.get("type")==="text"&&$t.set("visible",!0)}}),e.set("vShapes",F)},n.prototype.updateParams=function(t){var e=this,r=t.r,i=t.trigger,l=t.minR,d=t.maxR,v=t.scaleRBy,D=t.showLabel,R=t.shouldShow;if(isNaN(t.r)||e.set("r",r),isNaN(d)||e.set("maxR",d),isNaN(l)||e.set("minR",l),(i==="mousemove"||i==="click")&&e.set("trigger",i),v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var F=e.get("dPercentText");F&&(F.remove(),F.destroy())}(D==="node"||D==="both")&&e.set("showNodeLabel",!0),(D==="edge"||D==="both")&&e.set("showEdgeLabel",!0),R&&e.set("shouldShow",R)},n.prototype.updateDelegate=function(t,e){var r=this,i=r.get("graph"),l=r.get("delegate");if(!l||l.destroyed){var d=i.get("group"),v=r.get("delegateStyle")||X0;l=d.addShape("circle",{attrs:vp({r:e,x:t.x,y:t.y},v),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&l.on("mousewheel",function(D){r.scaleRByWheel(D)})}else l.attr({x:t.x,y:t.y,r:e});r.set("delegate",l)},n.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(i){i.remove(),i.destroy()}),e=[],t.set("vShapes",e);var r=t.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}($s),KS=YS,_S=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZS=Zo.pointLineDistance,$S={stroke:"#FA8C16",lineWidth:1},QS=function(u){_S(n,u);function n(t){return u.call(this,t)||this}return n.prototype.getDefaultCfgs=function(){return{line:$S,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},n.prototype.init=function(){},n.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},n.prototype.onDragStart=function(){this.initBoxLine()},n.prototype.onDrag=function(t){var e=t.item,r=e.get("delegateShape")||e,i=r.getBBox(),l=e.getModel(),d=l.x-i.x,v=l.y-i.y;this.show({x:i.minX+d,y:i.minY+v},{width:i.width,height:i.height})},n.prototype.onDragEnd=function(){this.destory()},n.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,i=t.itemAlignType,l=this.get("graph"),d=l.getNodes();d.forEach(function(v){var D=v.getBBox(),R=v.get("id");i===!0||i==="horizontal"?(e[R+"tltr"]=[D.minX,D.minY,D.maxX,D.minY,v],e[R+"lcrc"]=[D.minX,D.centerY,D.maxX,D.centerY,v],e[R+"blbr"]=[D.minX,D.maxY,D.maxX,D.maxY,v]):i==="center"&&(e[R+"lcrc"]=[D.minX,D.centerY,D.maxX,D.centerY,v]),i===!0||i==="vertical"?(r[R+"tlbl"]=[D.minX,D.minY,D.minX,D.maxY,v],r[R+"tcbc"]=[D.centerX,D.minY,D.centerX,D.maxY,v],r[R+"trbr"]=[D.maxX,D.minY,D.maxX,D.maxY,v]):i==="center"&&(r[R+"tcbc"]=[D.centerX,D.minY,D.centerX,D.maxY,v])})},n.prototype.show=function(t,e){var r=Object(g.mix)({},t);return this.itemAlign(t,e,r),t},n.prototype.itemAlign=function(t,e,r){var i=this,l=this._cfgs,d=l.horizontalLines,v=l.verticalLines,D=l.tolerance,R={x:r.x+e.width/2,y:r.y},F={x:r.x+e.width/2,y:r.y+e.height/2},Z={x:r.x+e.width/2,y:r.y+e.height},J={x:r.x,y:r.y+e.height/2},it={x:r.x+e.width,y:r.y+e.height/2},dt=[],bt=[],Dt=null;if(this.clearAlignLine(),Object(g.each)(d,function(wt){wt[4].isVisible&&(dt.push(i.getLineDisObject(wt,R)),dt.push(i.getLineDisObject(wt,F)),dt.push(i.getLineDisObject(wt,Z)))}),Object(g.each)(v,function(wt){wt[4].isVisible&&(bt.push(i.getLineDisObject(wt,J)),bt.push(i.getLineDisObject(wt,F)),bt.push(i.getLineDisObject(wt,it)))}),dt.sort(function(wt,zt){return wt.dis-zt.dis}),bt.sort(function(wt,zt){return wt.dis-zt.dis}),dt.length!==0&&dt[0].dis<D){t.y=dt[0].line[1]-dt[0].point.y+r.y,Dt={type:"item",horizontals:[dt[0]]};for(var At=1;At<3;At++)dt[0].dis===dt[At].dis&&Dt.horizontals.push(dt[At])}if(bt.length!==0&&bt[0].dis<D){t.x=bt[0].line[0]-bt[0].point.x+r.x,Dt?Dt.verticals=[bt[0]]:Dt={type:"item",verticals:[bt[0]]};for(var At=1;At<3;At++)bt[0].dis===bt[At].dis&&Dt.verticals.push(bt[At])}Dt&&(Dt.bbox=e,this.addAlignLine(Dt))},n.prototype.addAlignLine=function(t){var e=t.bbox,r=t.type,i=t.horizontals,l=t.verticals,d=this._cfgs,v=d.line,D=d.alignLines,R=this.get("graph"),F=R.get("group");r==="item"&&(i&&Object(g.each)(i,function(Z){var J=Z.line,it=Z.point,dt=(J[0]+J[2])/2,bt,Dt;it.x<dt?(bt=it.x-e.width/2,Dt=Math.max(J[0],J[2])):(bt=it.x+e.width/2,Dt=Math.min(J[0],J[2]));var At=Object(g.mix)({x1:bt,y1:J[1],x2:Dt,y2:J[1]},v),wt=F.addShape("line",{attrs:At,capture:!1});D.push(wt)}),l&&Object(g.each)(l,function(Z){var J=Z.line,it=Z.point,dt=(J[1]+J[3])/2,bt,Dt;it.y<dt?(bt=it.y-e.height/2,Dt=Math.max(J[1],J[3])):(bt=it.y+e.height/2,Dt=Math.min(J[1],J[3]));var At=Object(g.mix)({x1:J[0],y1:bt,x2:J[0],y2:Dt},v),wt=F.addShape("line",{attrs:At,capture:!1});D.push(wt)}))},n.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:ZS(t,e)}},n.prototype.getContainer=function(){return this.get("container")},n.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(g.each)(t,function(e){e.remove()}),t.length=0},n.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,i=this.get("graph"),l=i.getNodes();l.forEach(function(d){var v=d.get("id");delete e[v+"tltr"],delete e[v+"lcrc"],delete e[v+"blbr"],delete r[v+"tlbl"],delete r[v+"tcbc"],delete r[v+"trbr"]}),this.clearAlignLine()},n}($s),JS=QS,qS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),no=function(){return no=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},no.apply(this,arguments)},tM=["click","mouseenter"],eM=function(u){qS(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},n.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},e=t.multiple;e&&t.trigger==="mouseenter"&&this.set("multiple",!1);var r=this.get("align");if(!r){var i=this.get("position").split("-");i.includes("left")&&(r="left"),i.includes("right")?r="right":r="center",this.set("align",r)}var l=this.get("graph"),d=l.get("container"),v=Object(_e.b)(`<div class='g6-legend-container' style="position: absolute;"></div>`);d.appendChild(v),this.set("container",v);var D=this.render();Object(_e.e)(v,this.getContainerPos(D)),this.bindEvents()},n.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var e=this,r=e.get("graph"),i=this.get("offsetX"),l=this.get("offsetY"),d=this.get("margin"),v=this.get("position").split("-"),D={top:0,right:1,bottom:2,left:3},R=0,F=0,Z={left:(r.getWidth()-t[0])/2+R,top:(r.getHeight()-t[1])/2+F};return v.forEach(function(J){var it=d[D[J]],dt=J;switch(J){case"top":it+=F;break;case"left":it+=R;break;case"bottom":it=r.getHeight()-t[1]-it+F,dt="top";break;default:it=r.getWidth()-t[0]-it+R,dt="left";break}Z[dt]=it}),Z.top+=l+r.getContainer().offsetTop,Z.left+=i+r.getContainer().offsetLeft,Object.keys(Z).forEach(function(J){Z[J]=Z[J]+"px"}),Z},n.prototype.bindEvents=function(){var t=this,e=t.get("filter");if(!(!e||!e.enable)){var r=e.trigger||"click";tM.includes(r)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),r="click");var i=t.get("legendCanvas");r==="mouseenter"?(i.on("node-container:mouseenter",function(l){return t.filterData(l)}),i.on("node-container:mouseleave",function(l){t.clearFilter(),t.clearActiveLegend()})):(i.on("node-container:click",function(l){return t.filterData(l)}),i.on("click",function(l){l.target&&l.target.isCanvas&&l.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},n.prototype.changeData=function(t){this.set("data",t);var e=this.render();Object(_e.e)(this.get("container"),this.getContainerPos(e))},n.prototype.activateLegend=function(t){var e=this.get("filter"),r=e==null?void 0:e.multiple;r||this.clearActiveLegend();var i=t.get("parent");i.get("active")?(i.set("active",!1),this.findLegendItemsByState("active").length&&i.set("inactive",!0)):(i.set("inactive",!1),i.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(F){F.set("inactive",!0)}):this.clearActiveLegend();var l=(e==null?void 0:e.lengedStateStyles)||{},d=(l==null?void 0:l.inactive)||{opacity:.5,"text-shape":{opacity:.5}},v=d["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(F){var Z=F.get("children"),J=Z[0],it=Z[1];J.attr(no(no({},J.get("oriAttrs")),d)),it.attr(no(no({},it.get("oriAttrs")),v))});var D=(l==null?void 0:l.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},R=D["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(F){var Z=F.get("children"),J=Z[0],it=Z[1];J.attr(no(no({},J.get("oriAttrs")),D)),it.attr(no(no({},it.get("oriAttrs")),R))})},n.prototype.findLegendItemsByState=function(t,e,r){e===void 0&&(e="all"),r===void 0&&(r=!0);var i=this.get("legendCanvas").find(function(v){return v.get("name")==="root"}),l=i.find(function(v){return v.get("name")==="node-group"}),d=i.find(function(v){return v.get("name")==="edge-group"});return e==="node"?l.get("children").filter(function(v){return!!v.get(t)===r}):e==="edge"?d.get("children").filter(function(v){return!!v.get(t)===r}):l.get("children").filter(function(v){return!!v.get(t)===r}).concat(d.get("children").filter(function(v){return!!v.get(t)===r}))},n.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),e=t.find(function(i){return i.get("name")==="root"}),r=[e.find(function(i){return i.get("name")==="node-group"}),e.find(function(i){return i.get("name")==="edge-group"})];r.forEach(function(i){i.get("children").forEach(function(l){l.set("active",!1),l.set("inactive",!1);var d=l.get("children"),v=d[0],D=d[1];v.attr(v.get("oriAttrs")),D.attr(D.get("oriAttrs"))})})},n.prototype.filterData=function(t){var e=this.get("filter"),r=e==null?void 0:e.filterFunctions;if(!(!e||!r)){var i=this.get("legendCanvas"),l=this.get("graph"),d=e.graphActiveState||"active",v=e.graphInactiveState||"inactive",D=e.multiple;this.clearFilter(),D||this.clearActiveLegend(),this.activateLegend(t.target);var R=i.find(function(Dt){return Dt.get("name")==="root"}),F=R.find(function(Dt){return Dt.get("name")==="node-group"}),Z=R.find(function(Dt){return Dt.get("name")==="edge-group"}),J=F.get("children").filter(function(Dt){return Dt.get("active")}),it=Z.get("children").filter(function(Dt){return Dt.get("active")}),dt=0,bt=["getNodes","getEdges"];bt.forEach(function(Dt){l[Dt]().forEach(function(At){var wt=!1,zt=Dt==="getNodes"?J:it;zt.forEach(function(Kt){var $t=r[Kt.get("id")];wt=wt||$t(At.getModel())}),wt?(l.setItemState(At,v,!1),l.setItemState(At,d,!0),dt++):(l.setItemState(At,d,!1),l.setItemState(At,v,!0))})}),dt||bt.forEach(function(Dt){l[Dt]().forEach(function(At){l.clearItemStates(At,[v])})})}},n.prototype.clearFilter=function(){var t=this.get("graph"),e=this.get("filter");if(!!e){var r=e.graphActiveState||"active",i=e.graphInactiveState||"inactive";t.getNodes().forEach(function(l){t.clearItemStates(l,[r,i])}),t.getEdges().forEach(function(l){t.clearItemStates(l,[r,i])})}},n.prototype.render=function(){var t=this;this.processData();var e=this.get("legendCanvas");if(!e){e=new fs.Canvas({container:this.get("container"),width:200,height:200});var r=e.addGroup({name:"root"});r.addGroup({name:"node-group"}),r.addGroup({name:"edge-group"}),this.set("legendCanvas",e)}var i=e.find(function(kr){return kr.get("name")==="root"}),l=i.find(function(kr){return kr.get("name")==="node-group"}),d=i.find(function(kr){return kr.get("name")==="edge-group"}),v=this.get("itemsData"),D=["nodes","edges"],R=[l,d];D.forEach(function(kr,Nr){v[kr].forEach(function(Fr){var Ir,Sr=R[Nr].addGroup({id:Fr.id,name:"node-container"}),Xr,en=Fr.type,Ar=t.getShapeSize(Fr),Dr=Ar.width,Tn=Ar.height,Rn=Ar.r,wn=t.getStyle(kr.substr(0,4),Fr);switch(Fr.type){case"circle":Xr={r:Rn,x:0,y:0};break;case"rect":Xr={width:Dr,height:Tn,x:-Dr/2,y:-Tn/2};break;case"ellipse":Xr={r1:Dr,r2:Tn,x:0,y:0};break;case"line":Xr={x1:-Dr/2,y1:0,x2:Dr/2,y2:0},en="line";break;case"quadratic":Xr={path:[["M",-Dr/2,0],["Q",0,Dr/2,Dr/2,0]]},en="path";break;case"cubic":Xr={path:[["M",-Dr/2,0],["C",-Dr/6,Dr/2,Dr/6,-Dr/2,Dr/2,0]]},en="path";break;default:Xr={r:Rn,x:0,y:0};break}var Un=Sr.addShape(en,{attrs:no(no({},Xr),wn),name:Fr.type+"-node-keyShape",oriAttrs:no({opacity:1},wn)});if(Fr.label){var yi=Un.getBBox(),da=((Ir=Fr.labelCfg)===null||Ir===void 0?void 0:Ir.style)||{},vi=no({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},da);Sr.addShape("text",{attrs:no({x:yi.maxX+4,y:0,text:Fr.label},vi),className:"legend-label",name:Fr.type+"-node-text",oriAttrs:vi})}})});var F=this.get("padding"),Z,J=i.find(function(kr){return kr.get("name")==="title-container"}),it={height:0,maxY:0,width:0};if(this.get("title")){J||(J=i.addGroup({name:"title-container"}));var dt={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:F[0]},bt=this.get("titleConfig")||{},Dt=Object.assign(dt,bt.style||{});Z=J.addShape("text",{attrs:no({text:this.get("title")},Dt)}),it=J.getCanvasBBox(),J.setMatrix([1,0,0,0,1,0,bt.offsetX,bt.offsetY,1])}this.layoutItems();var At=i.getCanvasBBox(),wt=l.getCanvasBBox(),zt=wt.minX<0?Math.abs(wt.minX)+F[3]:F[3],Kt=it.maxY<wt.minY?Math.abs(it.maxY-wt.minY)+F[0]:it.maxY+F[0],$t=[1,0,0,0,1,0,zt,Kt,1];l.setMatrix($t),At=i.getCanvasBBox();var ee=[At.minX+At.width+F[1],At.minY+At.height+F[2]];if(Z){var bt=no({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));it=J.getCanvasBBox();var re=J.getMatrix()||[1,0,0,0,1,0,0,0,1];bt.position==="center"?re[6]=ee[0]/2+bt.offsetX:bt.position==="right"?(re[6]=ee[0]-F[3]+bt.offsetX,Z.attr({textAlign:"right"})):(re[6]=F[3]+bt.offsetX,Z.attr({textAlign:"left"})),J.setMatrix(re),it=J.getCanvasBBox(),zt=wt.minX<0?Math.abs(wt.minX)+F[3]:F[3],Kt=wt.minY<it.maxY?Math.abs(it.maxY-wt.minY)+F[0]:it.maxY+F[0],$t=[1,0,0,0,1,0,zt,Kt,1],l.setMatrix($t);var fe=[1,0,0,0,1,0,zt,Kt,1];this.get("layout")==="vertical"?fe[6]+=wt.maxX+this.get("horiSep"):fe[7]+=wt.maxY+this.get("vertiSep"),d.setMatrix(fe)}else{wt=l.getCanvasBBox();var ce=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?ce[6]+=$t[6]+wt.maxX+this.get("horiSep"):ce[7]+=$t[7]+wt.maxY+this.get("vertiSep"),d.setMatrix(ce)}At=i.getCanvasBBox(),wt=l.getCanvasBBox(),$t=l.getMatrix()||[1,0,0,0,1,0,0,0,1];var Ae=d.getMatrix()||[1,0,0,0,1,0,0,0,1],Te=d.getCanvasBBox();ee=[Math.max(wt.width+$t[6],Te.width+Ae[6])+F[1],Math.max(wt.height+$t[7],Te.height+Ae[7])+F[2]],e.changeSize(ee[0],ee[1]);var cr=this.get("containerStyle"),fr=i.getMatrix()||[1,0,0,0,1,0,0,0,1],gr=Zo.invertMatrix({x:0,y:0},fr),qr=i.addShape("rect",{attrs:no({x:gr.x+(cr.lineWidth||1),y:gr.y+(cr.lineWidth||1),width:ee[0]-2*(cr.lineWidth||1),height:ee[1]-2*(cr.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},cr),name:"legend-back-rect",capture:!1});return qr.toBack(),ee},n.prototype.layoutItems=function(){var t=this.get("legendCanvas"),e=this.get("horiSep"),r=this.get("vertiSep"),i=this.get("layout"),l=this.get("align"),d=[0,0],v=t.find(function(zt){return zt.get("name")==="root"}),D=v.find(function(zt){return zt.get("name")==="node-group"}),R=v.find(function(zt){return zt.get("name")==="edge-group"}),F={min:0,max:-Infinity},Z=-Infinity;D.get("children").forEach(function(zt,Kt){Kt===0&&(F.min=d[0]);var $t=zt.get("children")[0],ee=zt.getCanvasBBox(),re=$t.getBBox(),fe=re.width,ce=re.height,Ae=0,Te=0,cr=0;i==="vertical"?(Te=d[1],cr=d[0]+fe/2,d[0]=cr+ee.height+r,Ae=ee.maxX+Te+fe/2):(Te=d[0]+fe/2,cr=d[1],d[0]=Te+ee.width+e,Ae=ee.maxY+cr+ce/2),d[0]>F.max&&(F.max=d[0]),Ae>Z&&(Z=Ae),zt.setMatrix([1,0,0,0,1,0,Te,cr,1])});var J=F.max-F.min,it={min:0,max:-Infinity},dt=D.getCanvasBBox();d[0]=0,d[1]=i==="vertical"?dt.maxX+e:dt.maxY+r,R.get("children").forEach(function(zt,Kt){Kt===0&&(it.min=d[0]);var $t=zt.get("children")[0],ee=zt.getCanvasBBox(),re=$t.getBBox(),fe=re.width,ce=re.height,Ae=0,Te=0;i==="vertical"?(Ae=d[1],Te=d[0],d[0]=Te+ee.height+r,zt.setMatrix([1,0,0,0,1,0,0,Te+ce/2,1])):(Ae=d[0],Te=d[1],d[0]=Ae+ee.width+e,zt.setMatrix([1,0,0,0,1,0,Ae+fe/2,0,1])),d[0]>it.max&&(it.max=d[0])});var bt=it.max-it.min;if(l&&l!==""&&l!=="left"){var Dt=J-bt,At=l==="center"?Math.abs(Dt)/2:Math.abs(Dt),wt=Dt<0?D:R;wt.get("children").forEach(function(zt){var Kt=zt.getMatrix()||[1,0,0,0,1,0,0,0,1];i==="vertical"?Kt[7]+=At:Kt[6]+=At,zt.setMatrix(Kt)})}},n.prototype.processData=function(){var t=this.get("data"),e={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(r,i){return r.order-i.order}),t.nodes.forEach(function(r){var i,l,d,v,D,R=r.size||[((i=r.style)===null||i===void 0?void 0:i.width)||((l=r.style)===null||l===void 0?void 0:l.r)||8,((d=r.style)===null||d===void 0?void 0:d.height)||((v=r.style)===null||v===void 0?void 0:v.r)||8],F=((D=r.labelCfg)===null||D===void 0?void 0:D.style)||{};e.nodes.push({id:r.id||Object(g.uniqueId)(),type:r.type||"circle",style:no({},r.style),order:r.order,label:r.label,itemType:"node",size:R,labelCfg:{position:"right",style:no({fontFamily:"Arial"},F)}})})),t.edges&&(t.edges.sort(function(r,i){return r.order-i.order}),t.edges.forEach(function(r){var i,l,d=r.type||"line";r.type==="cubic-horizontal"&&(d="cubic");var v=((i=r.labelCfg)===null||i===void 0?void 0:i.style)||{},D=r.size||[((l=r.style)===null||l===void 0?void 0:l.width)||8,1];e.edges.push({id:r.id||Object(g.uniqueId)(),type:d,size:D,style:no({lineWidth:Object(g.isArray)(D)?D[1]:1},r.style),order:r.order,label:r.label,itemType:"edge",labelCfg:{position:"right",style:no({fontFamily:"Arial"},v)}})})),this.set("itemsData",e)},n.prototype.getContainer=function(){return this.get("container")},n.prototype.formatArray=function(t){var e=this.get(t);if(Object(g.isNumber)(e))this.set(t,[e,e,e,e]);else if(Object(g.isArray)(e))switch(e.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[e[0],e[0],e[0],e[0]]);break;case 2:this.set(t,[e[0],e[1],e[0],e[1]]);break;case 3:this.set(t,[e[0],e[1],e[2],e[1]]);break;default:break}return this.get(t)},n.prototype.getShapeSize=function(t){var e,r,i;return t.size&&(Object(g.isArray)(t.size)?(e=t.size[0],r=t.size[1]||t.size[0],i=t.size[0]/2):Object(g.isNumber)(t.size)&&(e=t.size,r=t.size,i=t.size/2)),t.style&&(t.style.width&&(e=t.style.width),t.style.height&&(r=t.style.height),t.style.r&&(i=t.style.r)),i||(i=5),e||(e=i),r||(r=i),{width:e,height:r,r:i}},n.prototype.getStyle=function(t,e){var r=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return no(no({},r),e.style||{})},n.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),r=this.get("container");e.removeChild(r)},n}($s),rM=eM,nM={PluginBase:$s,Menu:C1,Grid:x1,Minimap:j1,Bundling:N1,ToolBar:V1,Tooltip:Y1,Fisheye:U1,TimeBar:GS,ImageMinimap:VS,EdgeFilterLens:KS,SnapLine:JS,Legend:rM},iM=nM,Go=iM;cs("circle",{options:{size:Dn.defaultNode.size,style:{x:0,y:0,stroke:Dn.defaultNode.style.stroke,fill:Dn.defaultNode.style.fill,lineWidth:Dn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Dn.nodeLabel.style.fill,fontSize:Dn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Dn.defaultNode.linkPoints.size,lineWidth:Dn.defaultNode.linkPoints.lineWidth,fill:Dn.defaultNode.linkPoints.fill,stroke:Dn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(he.__assign)({},Dn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,i=this.getShapeStyle(n),l=Object(g.deepMix)({},r,n.icon),d=t.addShape("circle",{attrs:i,className:this.type+"-keyShape",draggable:!0}),v=l.width,D=l.height,R=l.show,F=l.text;return R&&(F?t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(he.__assign)({x:-v/2,y:-D/2},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),d},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,i=r.top,l=r.left,d=r.right,v=r.bottom,D=r.size,R=r.r,F=Object(he.__rest)(r,["top","left","right","bottom","size","r"]),Z=this.getSize(n),J=Z[0]/2;l&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:-J,y:0,r:D/2||R||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:J,y:0,r:D/2||R||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:-J,r:D/2||R||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:J,r:D/2||R||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.deepMix)({},t,e),i=this.getSize(n),l=i[0]/2,d=Object(he.__assign)({x:0,y:0,r:l},r);return d},update:function(n,t){var e=t.getContainer(),r=this.getSize(n),i={stroke:n.color,r:r[0]/2},l=t.get("keyShape"),d=Object(g.deepMix)({},l.attr(),i,n.style);this.updateShape(n,t,d,!0),this.updateLinkPoints(n,e)}},"single-node"),cs("rect",{options:{size:[100,30],style:{radius:0,stroke:Dn.defaultNode.style.stroke,fill:Dn.defaultNode.style.fill,lineWidth:Dn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Dn.nodeLabel.style.fill,fontSize:Dn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Dn.defaultNode.linkPoints.size,lineWidth:Dn.defaultNode.linkPoints.lineWidth,fill:Dn.defaultNode.linkPoints.fill,stroke:Dn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(he.__assign)({},Dn.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(n,t),r},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,i=r.top,l=r.left,d=r.right,v=r.bottom,D=r.size,R=r.r,F=Object(he.__rest)(r,["top","left","right","bottom","size","r"]),Z=this.getSize(n),J=Z[0],it=Z[1];l&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:-J/2,y:0,r:D/2||R||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:J/2,y:0,r:D/2||R||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:-it/2,r:D/2||R||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:it/2,r:D/2||R||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.mix)({},t,e),i=this.getSize(n),l=r.width||i[0],d=r.height||i[1],v=Object(he.__assign)({x:-l/2,y:-d/2,width:l,height:d},r);return v},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,i=this.getSize(n),l=t.get("keyShape");n.size||(i[0]=l.attr("width")||r.width,i[1]=l.attr("height")||r.height);var d={stroke:n.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},v=Object(g.mix)({},r,l.attr(),d);v=Object(g.mix)(v,n.style),this.updateShape(n,t,v,!1),this.updateLinkPoints(n,e)}},"single-node"),cs("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Dn.defaultNode.style.stroke,fill:Dn.defaultNode.style.fill,lineWidth:Dn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Dn.nodeLabel.style.fill,fontSize:Dn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Dn.defaultNode.linkPoints.size,lineWidth:Dn.defaultNode.linkPoints.lineWidth,fill:Dn.defaultNode.linkPoints.fill,stroke:Dn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(he.__assign)({},Dn.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,i=this.getShapeStyle(n),l=t.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),d=r.width,v=r.height,D=r.show,R=r.text;return D&&(R?t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(he.__assign)({x:-d/2,y:-v/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,i=r.top,l=r.left,d=r.right,v=r.bottom,D=r.size,R=r.r,F=Object(he.__rest)(r,["top","left","right","bottom","size","r"]),Z=this.getSize(n),J=Z[0]/2,it=Z[1]/2;l&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:-J,y:0,r:D/2||R||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:J,y:0,r:D/2||R||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:-it,r:D/2||R||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:it,r:D/2||R||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.mix)({},t,e),i=this.getSize(n),l=i[0]/2,d=i[1]/2,v=Object(he.__assign)({x:0,y:0,rx:l,ry:d},r);return v},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,i=this.getSize(n),l={stroke:n.color,rx:i[0]/2,ry:i[1]/2},d=t.get("keyShape"),v=Object(g.mix)({},r,d.attr(),l);v=Object(g.mix)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)}},"single-node"),cs("diamond",{options:{size:[80,80],style:{stroke:Dn.defaultNode.style.stroke,fill:Dn.defaultNode.style.fill,lineWidth:Dn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Dn.nodeLabel.style.fill,fontSize:Dn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Dn.defaultNode.linkPoints.size,lineWidth:Dn.defaultNode.linkPoints.lineWidth,fill:Dn.defaultNode.linkPoints.fill,stroke:Dn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(he.__assign)({},Dn.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,i=this.getShapeStyle(n),l=t.addShape("path",{attrs:i,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),d=r.width,v=r.height,D=r.show,R=r.text;return D&&(R?t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(he.__assign)({x:-d/2,y:-v/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,i=r.top,l=r.left,d=r.right,v=r.bottom,D=r.size,R=r.r,F=Object(he.__rest)(r,["top","left","right","bottom","size","r"]),Z=this.getSize(n),J=Z[0],it=Z[1];l&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:-J/2,y:0,r:D/2||R||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:J/2,y:0,r:D/2||R||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:-it/2,r:D/2||R||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:it/2,r:D/2||R||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(n){var t=this.getSize(n),e=t[0],r=t[1],i=[["M",0,-r/2],["L",e/2,0],["L",0,r/2],["L",-e/2,0],["Z"]];return i},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.mix)({},t,e),i=this.getPath(n),l=Object(he.__assign)({path:i},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,i=this.getPath(n),l={stroke:n.color,path:i},d=t.get("keyShape"),v=Object(g.mix)({},r,d.attr(),l);v=Object(g.mix)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)}},"single-node"),cs("triangle",{options:{size:40,direction:"up",style:{stroke:Dn.defaultNode.style.stroke,fill:Dn.defaultNode.style.fill,lineWidth:Dn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Dn.nodeLabel.style.fill,fontSize:Dn.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Dn.defaultNode.linkPoints.size,lineWidth:Dn.defaultNode.linkPoints.lineWidth,fill:Dn.defaultNode.linkPoints.fill,stroke:Dn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(he.__assign)({},Dn.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(n,t){var e=this.getOptions(n),r=e.icon,i=r===void 0?{}:r,l=e.direction,d=this.getShapeStyle(n),v=n.direction||l,D=t.addShape("path",{attrs:d,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),R=i.width,F=i.height,Z=i.show,J=i.offset,it=i.text;if(Z)if(it)t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});else{var dt=-R/2,bt=-F/2;(v==="up"||v==="down")&&(bt+=J),(v==="left"||v==="right")&&(dt+=J),t.addShape("image",{attrs:Object(he.__assign)({x:dt,y:bt},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(n,t),D},drawLinkPoints:function(n,t){var e=this.getOptions(n),r=e.linkPoints,i=r===void 0?{}:r,l=e.direction,d=n.direction||l,v=i.top,D=i.left,R=i.right,F=i.bottom,Z=i.size,J=i.r,it=Object(he.__rest)(i,["top","left","right","bottom","size","r"]),dt=this.getSize(n),bt=dt[0];if(D){var Dt=null,At=bt*Math.sin(1/3*Math.PI),wt=bt*Math.sin(1/3*Math.PI);d==="up"?Dt=[-wt,At]:d==="down"?Dt=[-wt,-At]:d==="left"&&(Dt=[-wt,wt-At]),Dt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},it),{x:Dt[0],y:Dt[1],r:Z/2||J||5}),className:"link-point-left",name:"link-point-left"})}if(R){var zt=null,At=bt*Math.sin(1/3*Math.PI),wt=bt*Math.sin(1/3*Math.PI);d==="up"?zt=[wt,At]:d==="down"?zt=[wt,-At]:d==="right"&&(zt=[wt,wt-At]),zt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},it),{x:zt[0],y:zt[1],r:Z/2||J||5}),className:"link-point-right",name:"link-point-right"})}if(v){var Kt=null,At=bt*Math.sin(1/3*Math.PI),wt=bt*Math.sin(1/3*Math.PI);d==="up"?Kt=[wt-At,-At]:d==="left"?Kt=[wt,-At]:d==="right"&&(Kt=[-wt,-At]),Kt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},it),{x:Kt[0],y:Kt[1],r:Z/2||J||5}),className:"link-point-top",name:"link-point-top"})}if(F){var $t=null,At=bt*Math.sin(1/3*Math.PI),wt=bt*Math.sin(1/3*Math.PI);d==="down"?$t=[-wt+At,At]:d==="left"?$t=[wt,At]:d==="right"&&($t=[-wt,At]),$t&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},it),{x:$t[0],y:$t[1],r:Z/2||J||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(n){var t=this.getOptions(n).direction,e=n.direction||t,r=this.getSize(n),i=r[0],l=i*Math.sin(1/3*Math.PI),d=i*Math.sin(1/3*Math.PI),v=[["M",-d,l],["L",0,-l],["L",d,l],["Z"]];return e==="down"?v=[["M",-d,-l],["L",d,-l],["L",0,l],["Z"]]:e==="left"?v=[["M",-d,d-l],["L",d,-d],["L",d,d],["Z"]]:e==="right"&&(v=[["M",d,d-l],["L",-d,d],["L",-d,-d],["Z"]]),v},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.mix)({},t,e),i=this.getPath(n),l=Object(he.__assign)({path:i},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,i=this.getPath(n),l={stroke:n.color,path:i},d=t.get("keyShape"),v=Object(g.mix)({},r,d.attr(),l);v=Object(g.mix)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}),r=e.linkPoints,i=e.direction,l=n.direction||i,d=t.find(function(qr){return qr.get("className")==="link-point-left"}),v=t.find(function(qr){return qr.get("className")==="link-point-right"}),D=t.find(function(qr){return qr.get("className")==="link-point-top"}),R=t.find(function(qr){return qr.get("className")==="link-point-bottom"}),F=r,Z=d||v||D||R;Z&&(F=Z.attr());var J=Object(g.mix)({},F,n.linkPoints),it=J.fill,dt=J.stroke,bt=J.lineWidth,Dt=J.size/2;Dt||(Dt=J.r);var At=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},wt=At.left,zt=At.right,Kt=At.top,$t=At.bottom,ee=this.getSize(n),re=ee[0],fe={r:Dt,fill:it,stroke:dt,lineWidth:bt},ce=null,Ae=re*Math.sin(1/3*Math.PI),Te=re*Math.sin(1/3*Math.PI);l==="up"?ce=[-Te,Ae]:l==="down"?ce=[-Te,-Ae]:l==="left"&&(ce=[-Te,Te-Ae]),ce&&(d?!wt&&wt!==void 0?d.remove():d.attr(Object(he.__assign)(Object(he.__assign)({},fe),{x:ce[0],y:ce[1]})):wt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},fe),{x:ce[0],y:ce[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var cr=null;l==="up"?cr=[Te,Ae]:l==="down"?cr=[Te,-Ae]:l==="right"&&(cr=[Te,Te-Ae]),cr&&(v?!zt&&zt!==void 0?v.remove():v.attr(Object(he.__assign)(Object(he.__assign)({},fe),{x:cr[0],y:cr[1]})):zt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},fe),{x:cr[0],y:cr[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var fr=null;l==="up"?fr=[Te-Ae,-Ae]:l==="left"?fr=[Te,-Ae]:l==="right"&&(fr=[-Te,-Ae]),fr&&(D?!Kt&&Kt!==void 0?D.remove():D.attr(Object(he.__assign)(Object(he.__assign)({},fe),{x:fr[0],y:fr[1]})):Kt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},fe),{x:fr[0],y:fr[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var gr=null;l==="down"?gr=[-Te+Ae,Ae]:l==="left"?gr=[Te,Ae]:l==="right"&&(gr=[-Te,Ae]),gr&&(R?!$t&&$t!==void 0?R.remove():R.attr(Object(he.__assign)(Object(he.__assign)({},fe),{x:gr[0],y:gr[1]})):$t&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},fe),{x:gr[0],y:gr[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),cs("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Dn.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(n,t){var e=this.getOptions(n).preRect,r=e===void 0?{}:e,i=this.getShapeStyle(n),l=this.getSize(n),d=l[0],v=l[1],D=t.addShape("rect",{attrs:i,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),R=r.show,F=Object(he.__rest)(r,["show"]);return R&&t.addShape("rect",{attrs:Object(he.__assign)({x:-d/2,y:-v/2,height:v},F),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(n,t),this.drawStateIcon(n,t),this.drawLinkPoints(n,t),D},drawLogoIcon:function(n,t){var e=this.getOptions(n).logoIcon,r=e===void 0?{}:e,i=this.getSize(n),l=i[0];if(r.show){var d=r.width,v=r.height,D=r.x,R=r.y,F=r.offset,Z=r.text,J=Object(he.__rest)(r,["width","height","x","y","offset","text"]);Z?t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},J),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:Object(he.__assign)(Object(he.__assign)({},J),{x:D||-l/2+d+F,y:R||-v/2,width:d,height:v}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(n,t){var e=this.getOptions(n).stateIcon,r=e===void 0?{}:e,i=this.getSize(n),l=i[0];if(r.show){var d=r.width,v=r.height,D=r.x,R=r.y,F=r.offset,Z=r.text,J=Object(he.__rest)(r,["width","height","x","y","offset","text"]);Z?t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},J),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:Object(he.__assign)(Object(he.__assign)({},J),{x:D||l/2-d+F,y:R||-v/2,width:d,height:v}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,i=r.top,l=r.left,d=r.right,v=r.bottom,D=r.size,R=r.r,F=Object(he.__rest)(r,["top","left","right","bottom","size","r"]),Z=this.getSize(n),J=Z[0],it=Z[1];l&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:-J/2,y:0,r:D/2||R||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:J/2,y:0,r:D/2||R||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:-it/2,r:D/2||R||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},F),{x:0,y:it/2,r:D/2||R||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(n,t){var e=this.getOptions(n),r=e.labelCfg,i=r===void 0?{}:r,l=e.logoIcon,d=l===void 0?{}:l,v=e.descriptionCfg,D=v===void 0?{}:v,R=this.getSize(n),F=R[0],Z=null,J=d.show,it=d.width,dt=-F/2+i.offset;J&&(dt=-F/2+it+i.offset);var bt=i.style,Dt=D.style,At=D.paddingTop;return Object(g.isString)(n.description)?(Z=t.addShape("text",{attrs:Object(he.__assign)(Object(he.__assign)({},bt),{x:dt,y:-5,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Object(he.__assign)(Object(he.__assign)({},Dt),{x:dt,y:17+(At||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0})):Z=t.addShape("text",{attrs:Object(he.__assign)(Object(he.__assign)({},bt),{x:dt,y:7,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),Z},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.mix)({},t,e),i=this.getSize(n),l=r.width||i[0],d=r.height||i[1],v=Object(he.__assign)({x:-l/2,y:-d/2,width:l,height:d},r);return v},update:function(n,t){var e=this.getOptions(n),r=e.style,i=r===void 0?{}:r,l=e.labelCfg,d=l===void 0?{}:l,v=e.descriptionCfg,D=v===void 0?{}:v,R=this.getSize(n),F=R[0],Z=R[1],J=t.get("keyShape");J.attr(Object(he.__assign)(Object(he.__assign)({},i),{x:-F/2,y:-Z/2,width:F,height:Z}));var it=t.getContainer(),dt=it.find(function(Tn){return Tn.get("className")==="rect-logo-icon"}),bt=dt?dt.attr():{},Dt=Object(g.mix)({},bt,n.logoIcon),At=Dt.width;At===void 0&&(At=this.options.logoIcon.width);var wt=n.logoIcon?n.logoIcon.show:void 0,zt=d.offset,Kt=-F/2+At+zt;!wt&&wt!==void 0&&(Kt=-F/2+zt);var $t=it.find(function(Tn){return Tn.get("className")==="node-label"}),ee=it.find(function(Tn){return Tn.get("className")==="rect-description"});if(n.label)if(!$t)it.addShape("text",{attrs:Object(he.__assign)(Object(he.__assign)({},d.style),{x:Kt,y:n.description?-5:7,text:n.label}),className:"node-label",name:"node-label",draggable:!0});else{var re=n.labelCfg?n.labelCfg.style:{},fe=Object(g.mix)({},$t.attr(),re);n.label&&(fe.text=n.label),fe.x=Kt,Object(g.isString)(n.description)&&(fe.y=-5),ee&&(ee.resetMatrix(),ee.attr({x:Kt})),$t.resetMatrix(),$t.attr(fe)}if(Object(g.isString)(n.description)){var ce=D.paddingTop;if(!ee)it.addShape("text",{attrs:Object(he.__assign)(Object(he.__assign)({},D.style),{x:Kt,y:17+(ce||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var re=n.descriptionCfg?n.descriptionCfg.style:{},Ae=Object(g.mix)({},ee.attr(),re);Object(g.isString)(n.description)&&(Ae.text=n.description),Ae.x=Kt,ee.resetMatrix(),ee.attr(Object(he.__assign)(Object(he.__assign)({},Ae),{y:17+(ce||0)}))}}var Te=it.find(function(Tn){return Tn.get("className")==="pre-rect"});if(Te){var cr=Object(g.mix)({},Te.attr(),n.preRect);Te.attr(Object(he.__assign)(Object(he.__assign)({},cr),{x:-F/2,y:-Z/2,height:Z}))}if(dt)if(!wt&&wt!==void 0)dt.remove();else{var fr=Dt.width,gr=Dt.height,qr=Dt.x,kr=Dt.y,Nr=Dt.offset,Fr=Object(he.__rest)(Dt,["width","height","x","y","offset"]);dt.attr(Object(he.__assign)(Object(he.__assign)({},Fr),{x:qr||-F/2+fr+Nr,y:kr||-gr/2,width:fr,height:gr}))}else wt&&this.drawLogoIcon(n,it);var Ir=it.find(function(Tn){return Tn.get("className")==="rect-state-icon"}),Sr=Ir?Ir.attr():{},Xr=Object(g.mix)({},Sr,n.stateIcon);if(Ir){!Xr.show&&Xr.show!==void 0&&Ir.remove();var en=Xr.width,gr=Xr.height,qr=Xr.x,kr=Xr.y,Ar=Xr.offset,Dr=Object(he.__rest)(Xr,["width","height","x","y","offset"]);Ir.attr(Object(he.__assign)(Object(he.__assign)({},Dr),{x:qr||F/2-en+Ar,y:kr||-gr/2,width:en,height:gr}))}else Xr.show&&this.drawStateIcon(n,it);this.updateLinkPoints(n,it)}},"single-node"),cs("star",{options:{size:60,style:{stroke:Dn.defaultNode.style.stroke,fill:Dn.defaultNode.style.fill,lineWidth:Dn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Dn.nodeLabel.style.fill,fontSize:Dn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Dn.defaultNode.linkPoints.size,lineWidth:Dn.defaultNode.linkPoints.lineWidth,fill:Dn.defaultNode.linkPoints.fill,stroke:Dn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(he.__assign)({},Dn.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,i=this.getShapeStyle(n),l=t.addShape("path",{attrs:i,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),d=r.width,v=r.height,D=r.show,R=r.text;return D&&(R?t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(he.__assign)({x:-d/2,y:-v/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,i=r.top,l=r.left,d=r.right,v=r.leftBottom,D=r.rightBottom,R=r.size,F=r.r,Z=Object(he.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),J=this.getSize(n),it=J[0];if(d){var dt=Math.cos((18+72*0)/180*Math.PI)*it,bt=Math.sin((18+72*0)/180*Math.PI)*it;t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},Z),{x:dt,y:-bt,r:R/2||F||5}),className:"link-point-right",name:"link-point-right"})}if(i){var dt=Math.cos((18+72*1)/180*Math.PI)*it,bt=Math.sin((18+72*1)/180*Math.PI)*it;t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},Z),{x:dt,y:-bt,r:R/2||F||5}),className:"link-point-top",name:"link-point-top"})}if(l){var dt=Math.cos((18+72*2)/180*Math.PI)*it,bt=Math.sin((18+72*2)/180*Math.PI)*it;t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},Z),{x:dt,y:-bt,r:R/2||F||5}),className:"link-point-left",name:"link-point-left"})}if(v){var dt=Math.cos((18+72*3)/180*Math.PI)*it,bt=Math.sin((18+72*3)/180*Math.PI)*it;t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},Z),{x:dt,y:-bt,r:R/2||F||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(D){var dt=Math.cos((18+72*4)/180*Math.PI)*it,bt=Math.sin((18+72*4)/180*Math.PI)*it;t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},Z),{x:dt,y:-bt,r:R/2||F||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(n){for(var t=this.getSize(n),e=t[0],r=e*3/8,i=n.innerR||r,l=[],d=0;d<5;d++){var v=Math.cos((18+72*d)/180*Math.PI)*e,D=Math.sin((18+72*d)/180*Math.PI)*e,R=Math.cos((54+72*d)/180*Math.PI)*i,F=Math.sin((54+72*d)/180*Math.PI)*i;d===0?l.push(["M",v,-D]):l.push(["L",v,-D]),l.push(["L",R,-F])}return l.push(["Z"]),l},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(g.mix)({},t,e),i=this.getPath(n),l=Object(he.__assign)({path:i},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,i=this.getPath(n),l={stroke:n.color,path:i},d=t.get("keyShape"),v=Object(g.mix)({},r,d.attr(),l);v=Object(g.mix)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}).linkPoints,r=t.find(function(Ae){return Ae.get("className")==="link-point-left"}),i=t.find(function(Ae){return Ae.get("className")==="link-point-right"}),l=t.find(function(Ae){return Ae.get("className")==="link-point-top"}),d=t.find(function(Ae){return Ae.get("className")==="link-point-left-bottom"}),v=t.find(function(Ae){return Ae.get("className")==="link-point-right-bottom"}),D=e,R=r||i||l||d||v;R&&(D=R.attr());var F=Object(g.mix)({},D,n.linkPoints),Z=F.fill,J=F.stroke,it=F.lineWidth,dt=F.size/2;dt||(dt=F.r);var bt=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},Dt=bt.left,At=bt.right,wt=bt.top,zt=bt.leftBottom,Kt=bt.rightBottom,$t=this.getSize(n),ee=$t[0],re={r:dt,fill:Z,stroke:J,lineWidth:it},fe=Math.cos((18+72*0)/180*Math.PI)*ee,ce=Math.sin((18+72*0)/180*Math.PI)*ee;i?!At&&At!==void 0?i.remove():i.attr(Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce})):At&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),fe=Math.cos((18+72*1)/180*Math.PI)*ee,ce=Math.sin((18+72*1)/180*Math.PI)*ee,l?!wt&&wt!==void 0?l.remove():l.attr(Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce})):wt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),fe=Math.cos((18+72*2)/180*Math.PI)*ee,ce=Math.sin((18+72*2)/180*Math.PI)*ee,r?!Dt&&Dt!==void 0?r.remove():r.attr(Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce})):Dt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),fe=Math.cos((18+72*3)/180*Math.PI)*ee,ce=Math.sin((18+72*3)/180*Math.PI)*ee,d?!zt&&zt!==void 0?d.remove():d.attr(Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce})):zt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),fe=Math.cos((18+72*4)/180*Math.PI)*ee,ce=Math.sin((18+72*4)/180*Math.PI)*ee,v?!Kt&&Kt!==void 0?d.remove():v.attr(Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce})):Kt&&t.addShape("circle",{attrs:Object(he.__assign)(Object(he.__assign)({},re),{x:fe,y:-ce}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var lv=Zo.defaultSubjectColors;cs("donut",{options:{size:Dn.defaultNode.size,style:{x:0,y:0,stroke:Dn.defaultNode.style.stroke,fill:Dn.defaultNode.style.fill,lineWidth:Dn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Dn.nodeLabel.style.fill,fontSize:Dn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Dn.defaultNode.linkPoints.size,lineWidth:Dn.defaultNode.linkPoints.lineWidth,fill:Dn.defaultNode.linkPoints.fill,stroke:Dn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(he.__assign)({},Dn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,i=this.getShapeStyle(n),l=Object(g.deepMix)({},r,n.icon),d=t.addShape("circle",{attrs:i,className:this.type+"-keyShape",draggable:!0,name:this.type+"-keyShape"}),v=l.width,D=l.height,R=l.show,F=l.text;R&&(F?t.addShape("text",{attrs:Object(he.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(he.__assign)({x:-v/2,y:-D/2},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}));var Z=d.attr("r"),J=.6*Z,it=(Z+J)/2,dt=n,bt=dt.donutAttrs,Dt=bt===void 0?{}:bt,At=dt.donutColorMap,wt=At===void 0?{}:At,zt=Object.keys(Dt).length;if(Dt&&zt>1){var Kt=[],$t=0;if(Object.keys(Dt).forEach(function(ce){var Ae=Dt[ce]||0;!Object(g.isNumber)(Ae)||(Kt.push({key:ce,value:Ae,color:wt[ce]}),$t+=Ae)}),$t){var ee=Z-J;if(zt===1){t.addShape("circle",{attrs:{r:it,x:0,y:0,stroke:Kt[0].color||lv[0],lineWidth:ee},name:"fan-shape-0"});return}var re=[it,0],fe=0;Kt.forEach(function(ce,Ae){var Te=ce.value/$t;if(!(Te<.001)){if(Te>.999&&(Te=1),Te===1){t.addShape("circle",{attrs:{r:it,x:0,y:0,stroke:ce.color||lv[Ae%lv.length],lineWidth:ee},name:"fan-shape-"+Ae});return}ce.percent=Te,ce.angle=Te*Math.PI*2,ce.beginAgnle=fe,fe+=ce.angle,ce.endAngle=fe,ce.arcBegin=re,ce.arcEnd=[it*Math.cos(ce.endAngle),-it*Math.sin(ce.endAngle)];var cr=ce.angle>Math.PI?1:0,fr=[["M",ce.arcBegin[0],ce.arcBegin[1]],["A",it,it,0,cr,0,ce.arcEnd[0],ce.arcEnd[1]],["L",ce.arcEnd[0],ce.arcEnd[1]]];t.addShape("path",{attrs:{path:fr,lineWidth:ee,stroke:ce.color||lv[Ae%lv.length]},name:"fan-shape-"+Ae}),re=ce.arcEnd}})}}return this.drawLinkPoints(n,t),d},update:void 0},"circle");var hg=function(n){var t=n.x,e=n.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},aM=function(n){n===void 0&&(n=[]);var t=[],e=[];n.forEach(function(v){t.push(v.x),e.push(v.y)});var r=Math.min.apply(Math,t),i=Math.max.apply(Math,t),l=Math.min.apply(Math,e),d=Math.max.apply(Math,e);return{centerX:(r+i)/2,centerY:(l+d)/2,maxX:i,maxY:d,minX:r,minY:l,height:d-l,width:i-r}},rA=function(n,t){return Math.abs(n.centerX-t.centerX)*2<n.width+t.width&&Math.abs(n.centerY-t.centerY)*2<n.height+t.height},gp=function(n){for(var t=[],e={},r=n.length,i=r-1;i>=0;i--){var l=n[i];l.id=l.x+"|||"+l.y,e[l.id]=l,t.push(l)}return t},H0=function(n){return gp(n)},nA=function(n,t){return[n,{x:n.x,y:t.y},t]},dg=function(n,t){return n.width||n.height?{centerX:n.centerX,centerY:n.centerY,minX:n.minX-t,minY:n.minY-t,maxX:n.maxX+t,maxY:n.maxY+t,height:n.height+2*t,width:n.width+2*t}:n},oM=function(n,t){var e=Math.abs(n.x-t.centerX),r=Math.abs(n.y-t.centerY);return e===0&&r===0?0:e/t.width>r/t.height},pp=function(n,t,e){var r=oM(t,n);if(r===0){var i=n.centerX,l=n.centerY;return e.y<t.y?l=n.minY:e.x>t.x?i=n.maxX:e.x<t.x?i=n.minX:e.x===t.x&&(l=n.maxY),{x:i,y:l}}return r?{x:t.x>n.centerX?n.maxX:n.minX,y:t.y}:{x:t.x,y:t.y>n.centerY?n.maxY:n.minY}},Y0=function(n,t){var e=Math.min(n.minX,t.minX),r=Math.min(n.minY,t.minY),i=Math.max(n.maxX,t.maxX),l=Math.max(n.maxY,t.maxY);return{centerX:(e+i)/2,centerY:(r+l)/2,minX:e,minY:r,maxX:i,maxY:l,height:l-r,width:i-e}},yp=function(n){return[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.maxX,y:n.maxY},{x:n.minX,y:n.maxY}]},vg=function(n,t){var e=n.x,r=n.y;return e<t.minX||e>t.maxX||r<t.minY||r>t.maxY},sM=function(n,t){return t<n.minX||t>n.maxX?[]:[{x:t,y:n.minY},{x:t,y:n.maxY}]},lM=function(n,t){return t<n.minY||t>n.maxY?[]:[{x:n.minX,y:t},{x:n.maxX,y:t}]},uM=function(n,t){return sM(n,t.x).concat(lM(n,t.y))},uv=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},cM=function(n,t){var e=-2,r=0;return t.forEach(function(i){i&&(n.x===i.x&&(r+=e),n.y===i.y&&(r+=e))}),r},K0=function(n,t,e,r,i){return uv(n,t)+uv(n,e)+cM(n,[t,e,r,i])},fM=function u(n,t,e,r,i){i===void 0&&(i=0),n.unshift(t[r]),e[r]&&e[r]!==r&&i<=100&&u(n,t,e,e[r],i+1)},hM=function(n,t){var e=n.indexOf(t);e>-1&&n.splice(e,1)},gg=function(n,t,e,r){var i=e.x-n.x,l=e.y-n.y,d=r.x-n.x,v=r.y-n.y,D=e.x-t.x,R=e.y-t.y,F=r.x-t.x,Z=r.y-t.y,J=i*v-l*d,it=D*Z-R*F,dt=i*R-l*D,bt=d*Z-v*F;return J*it<=0&&dt*bt<=0},mp=function(n,t,e){if(e.width||e.height){var r=yp(e),i=r[0],l=r[1],d=r[2],v=r[3];return gg(n,t,i,l)||gg(n,t,i,v)||gg(n,t,l,d)||gg(n,t,d,v)}return!1},dM=function(n,t,e,r){var i=[];return n.forEach(function(l){if(l!==t&&(l.x===t.x||l.y===t.y)){if(mp(l,t,e)||mp(l,t,r))return;i.push(l)}}),gp(i)},vM=function(n,t,e,r,i,l,d){var v=[],D=[t],R={},F={},Z={};F[t.id]=0,Z[t.id]=K0(t,e,t);var J={};n.forEach(function(Dt){J[Dt.id]=Dt});for(var it,dt;D.length;){if(it=void 0,dt=Infinity,D.forEach(function(Dt){Z[Dt.id]<=dt&&(dt=Z[Dt.id],it=Dt)}),it===e){var bt=[];return fM(bt,J,R,e.id),bt}hM(D,it),v.push(it),dM(n,it,r,i).forEach(function(Dt){if(v.indexOf(Dt)===-1){D.indexOf(Dt)===-1&&D.push(Dt);var At=Z[it.id]+uv(it,Dt);F[Dt.id]&&At>=F[Dt.id]||(R[Dt.id]=it.id,F[Dt.id]=At,Z[Dt.id]=F[Dt.id]+K0(Dt,e,t,l,d))}})}return[t,e]},gM=function(n,t,e){return!(n.x===t.x&&t.x===e.x||n.y===t.y&&t.y===e.y)},pM=function(n,t,e,r){var i=uv(n,t),l=uv(e,t);i<r&&(r=i),l<r&&(r=l);var d={x:t.x-r/i*(t.x-n.x),y:t.y-r/i*(t.y-n.y)},v={x:t.x-r/l*(t.x-e.x),y:t.y-r/l*(t.y-e.y)};return[d,v]},_0=function(n,t){var e=[],r=n[0];return e.push("M"+r.x+" "+r.y),n.forEach(function(i,l){var d=n[l+1],v=n[l+2];if(d&&v)if(gM(i,d,v)){var D=pM(i,d,v,t),R=D[0],F=D[1];e.push("L"+R.x+" "+R.y),e.push("Q"+d.x+" "+d.y+" "+F.x+" "+F.y),e.push("L"+F.x+" "+F.y)}else e.push("L"+d.x+" "+d.y);else d&&e.push("L"+d.x+" "+d.y)}),e.join("")},Z0=function(n,t,e,r,i){var l,d;if(!e||!e.getType())l=hg(n);else if(e.getType()==="combo"){var v=e.getKeyShape();l=v.getCanvasBBox()||hg(n),l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2}else l=e.getBBox();if(!r||!r.getType())d=hg(t);else if(r.getType()==="combo"){var D=r.getKeyShape().getBBox();if(D){var R=r.getModel(),F=R.x,Z=R.y;d={x:F,y:Z,width:D.width,height:D.height,minX:D.minX+F,maxX:D.maxX+F,minY:D.minY+Z,maxY:D.maxY+Z},d.centerX=(d.minX+d.maxX)/2,d.centerY=(d.minY+d.maxY)/2}else d=hg(t)}else d=r&&r.getBBox();var J=dg(l,i),it=dg(d,i),dt=pp(J,n,t),bt=pp(it,t,n),Dt=aM([dt,bt]),At=Y0(J,Dt),wt=Y0(it,Dt),zt=[];zt=zt.concat(yp(At)).concat(yp(wt));var Kt={x:(n.x+t.x)/2,y:(n.y+t.y)/2};[Dt,At,wt].forEach(function(ee){zt=zt.concat(uM(ee,Kt).filter(function(re){return vg(re,J)&&vg(re,it)}))}),[{x:dt.x,y:bt.y},{x:bt.x,y:dt.y}].forEach(function(ee){vg(ee,J)&&vg(ee,it)&&zt.push(ee)}),zt.unshift(dt),zt.push(bt),zt=gp(zt);var $t=vM(zt,dt,bt,l,d,n,t);return $t.unshift(n),$t.push(t),H0($t)},yM=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},mM=function(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},bM=function(n,t){return[n,t]},OM=function(n,t,e,r,i){return H0(Z0(n,t,e,r,i.offset))},xM={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:yM,fallbackRoute:OM},iA={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:mM,fallbackRoute:bM},ac=function(n,t){var e=Math.round(Math.abs(n/t)),r=n<0?-1:1;return e<0?0:r*e},EM=function(n,t,e){var r={};return n.forEach(function(i){if(!!i)for(var l=dg(i.getBBox(),e),d=ac(l.minX,t);d<=ac(l.maxX,t);d+=1)for(var v=ac(l.minY,t);v<=ac(l.maxY,t);v+=1)r[d+"|||"+v]=!0}),r},bp=function(n,t){var e=t.x-n.x,r=t.y-n.y;return e||r?Math.atan2(r,e):0},$0=function(n,t){var e=Math.abs(n-t);return e>Math.PI?2*Math.PI-e:e},Q0=function(n,t,e){for(var r=Infinity,i=0,l=t.length;i<l;i++){var d=e(n,t[i]);d<r&&(r=d)}return r},J0=function(n,t,e,r,i){var l=[];if(!e)return[n];var d=i.directions,v=i.offset,D=e.getBBox(),R=t.x>D.minX&&t.x<D.maxX&&t.y>D.minY&&t.y<D.maxY,F=dg(D,v);for(var Z in F)F[Z]=ac(F[Z],i.gridSize);if(R){for(var J=0,it=d;J<it.length;J++)for(var dt=it[J],bt=[[{x:F.minX,y:F.minY},{x:F.maxX,y:F.minY}],[{x:F.minX,y:F.minY},{x:F.minX,y:F.maxY}],[{x:F.maxX,y:F.minY},{x:F.maxX,y:F.maxY}],[{x:F.minX,y:F.maxY},{x:F.maxX,y:F.maxY}]],Z=0;Z<4;Z++){var Dt=bt[Z],At=Zo.getLineIntersect(n,{x:n.x+dt.stepX*F.width,y:n.y+dt.stepY*F.height},Dt[0],Dt[1]);At&&!mp(n,At,D)&&(At.id=At.x+"|||"+At.y,l.push(At))}return l}var wt=pp(F,n,r);return wt.id=wt.x+"|||"+wt.y,[wt]},Op=function(n,t,e,r){var i=bp(n,t);if(!e[n.id]){var l=bp(r,n);return $0(l,i)}var d=bp({x:e[n.id].x,y:e[n.id].y},n);return $0(d,i)},SM=function(n,t,e,r,i,l,d){var v=[r],D=n.id,R=n.x,F=n.y,Z={x:R,y:F,id:D};for(Op(Z,l,t,e)&&v.unshift({x:l.x===r.x?r.x:Z.x*d,y:l.y===r.y?r.y:Z.y*d});t[D]&&t[D].id!==D;){var J={x:R,y:F,id:D},it=t[D].id,dt=t[D].x,bt=t[D].y,Dt={x:dt,y:bt,id:it},At=Op(Dt,J,t,e);At&&v.unshift({x:Dt.x===J.x?v[0].x:Dt.x*d,y:Dt.y===J.y?v[0].y:Dt.y*d}),D=it,R=dt,F=bt}var wt={x:R,y:F,id:D};return v[0].x=wt.x===e.x?i.x:v[0].x,v[0].y=wt.y===e.y?i.y:v[0].y,v.unshift(i),v},MM=function(n,t,e,r,i){if(isNaN(n.x)||isNaN(t.x))return[];var l=Object(g.deepMix)(xM,i);l.obstacles=l.obstacles||[];var d=l.gridSize,v=EM(l.obstacles.concat([e,r]),d,l.offset),D={x:ac(n.x,d),y:ac(n.y,d)},R={x:ac(t.x,d),y:ac(t.y,d)};n.id=D.x+"|||"+D.y,t.id=R.x+"|||"+R.y;var F=J0(D,n,e,R,l),Z=J0(R,t,r,D,l);F.forEach(function(cr){delete v[cr.id]}),Z.forEach(function(cr){delete v[cr.id]});for(var J={},it={},dt={},bt={},Dt={},At=0;At<F.length;At++){var wt=F[At];J[wt.id]=wt,bt[wt.id]=0,Dt[wt.id]=Q0(wt,Z,l.distFunc)}for(var zt=l.maximumLoops,Kt=l.penalties,$t,ee,re,fe,ce,Ae,Te;Object.keys(J).length>0&&zt>0&&($t=void 0,ee=Infinity,Object.keys(J).forEach(function(cr){var fr=J[cr].id;Dt[fr]<=ee&&(ee=Dt[fr],$t=J[fr])}),!!$t);){if(Z.findIndex(function(cr){return cr.x===$t.x&&cr.y===$t.y})>-1)return SM($t,dt,D,t,n,R,d);delete J[$t.id],it[$t.id]=!0;for(var At=0;At<l.directions.length;At++)re=l.directions[At],fe={x:$t.x+re.stepX,y:$t.y+re.stepY,id:Math.round($t.x)+re.stepX+"|||"+(Math.round($t.y)+re.stepY)},!it[fe.id]&&(Te=Op($t,fe,dt,D),!(Te>l.maxAllowedDirectionChange)&&(v[fe.id]||(J[fe.id]||(J[fe.id]=fe),ce=l.distFunc($t,fe)+(isNaN(Kt[Te])?d:Kt[Te]),Ae=bt[$t.id]+ce,!(bt[fe.id]&&Ae>=bt[fe.id])&&(dt[fe.id]=$t,bt[fe.id]=Ae,Dt[fe.id]=Ae+Q0(fe,Z,l.distFunc)))));zt-=1}return l.fallbackRoute(n,t,e,r,l)};iu("polyline",{options:{color:Dn.defaultEdge.color,size:Dn.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Dn.defaultEdge.style.stroke,lineAppendWidth:Dn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Dn.edgeLabel.style.fill,fontSize:Dn.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(he.__assign)({},Dn.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n);e.radius===0&&delete e.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return r},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(g.mix)({},t,e,n.style);n=this.getPathPoints(n),this.radius=r.radius,this.offset=r.offset;var i=n.startPoint,l=n.endPoint,d=this.getControlPoints(n),v=[i];d&&(v=v.concat(d)),v.push(l);var D=n.sourceNode,R=n.targetNode,F=r.radius,Z=this.options.routeCfg,J=Object(g.mix)({},Z,n.routeCfg);J.offset=r.offset;var it=this.getPath(v,D,R,F,J);(Object(g.isArray)(it)&&it.length<=1||Object(g.isString)(it)&&it.indexOf("L")===-1)&&(it="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(l.x)||isNaN(l.y))&&(it="M0 0, L0 0");var dt=Object(g.mix)({},Dn.defaultEdge.style,r,{lineWidth:n.size,path:it});return dt},updateShapeStyle:function(n,t){var e=t.getContainer();if(!!t.isVisible()){var r={stroke:n.color},i=e.find(function(zt){return zt.get("className")==="edge-shape"})||t.getKeyShape(),l=n.size;n=this.getPathPoints(n);var d=n.startPoint,v=n.endPoint,D=this.getControlPoints(n),R=[d];D&&(R=R.concat(D)),R.push(v);var F=i.attr(),Z=Object(g.mix)({},r,F,n.style),J=n.sourceNode,it=n.targetNode,dt=Z.radius,bt=this.options.routeCfg,Dt=Object(g.mix)({},bt,n.routeCfg);Dt.offset=Z.offset;var At=this.getPath(R,J,it,dt,Dt);(Object(g.isArray)(At)&&At.length<=1||Object(g.isString)(At)&&At.indexOf("L")===-1)&&(At="M0 0, L0 0"),(isNaN(d.x)||isNaN(d.y)||isNaN(v.x)||isNaN(v.y))&&(At="M0 0, L0 0"),F.endArrow&&Z.endArrow===!1&&(n.style.endArrow={path:""}),F.startArrow&&Z.startArrow===!1&&(n.style.startArrow={path:""});var wt=Object(g.mix)(r,i.attr(),{lineWidth:l,path:At},n.style);i&&i.attr(wt)}},getPath:function(n,t,e,r,i){var l=i.offset,d=i.simple;if(!l||n.length>2){if(r)return _0(n,r);var v=[];return Object(g.each)(n,function(Z,J){J===0?v.push(["M",Z.x,Z.y]):v.push(["L",Z.x,Z.y])}),v}var D=d?Z0(n[n.length-1],n[0],e,t,l):MM(n[0],n[n.length-1],t,e,i);if(!D||!D.length)return"M0 0, L0 0";if(r){var R=_0(D,r);return R}var F=Zo.pointsToPolygon(D);return F}},"single-edge");var q0=nc.cloneEvent,tb=nc.isNaN,eb=Math.abs,CM=10,AM=["shift","ctrl","alt","control"],TM={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(n){var t=this.origin,e=+n.clientX,r=+n.clientY;if(!(tb(e)||tb(r))){var i=e-t.x,l=r-t.y;this.get("direction")==="x"?l=0:this.get("direction")==="y"&&(i=0),this.origin={x:e,y:r};var d=this.graph.get("width"),v=this.graph.get("height"),D=this.graph.get("canvas").getCanvasBBox(),R=this.scalableRange,F=this.scalableRange;R<1&&R>-1&&(R=d*R,F=v*F),(D.minX<=d+R&&D.minX+i>d+R||D.maxX+R>=0&&D.maxX+R+i<0)&&(i=0),(D.minY<=v+F&&D.minY+l>v+F||D.maxY+F>=0&&D.maxY+F+l<0)&&(l=0),this.graph.translate(i,l)}},onTouchStart:function(n){var t=this,e=n.originalEvent.touches,r=e[0],i=e[1];r&&i||(n.preventDefault(),t.onMouseDown(n))},onMouseDown:function(n){var t=this,e=n.originalEvent;if(!(e&&n.name!==jl.TOUCHSTART&&e.button!==0)&&!(n.name!==jl.TOUCHSTART&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin.call(this,n)&&!t.keydown){var r=n.target,i=r&&r.isCanvas&&r.isCanvas();if(!(!this.allowDragOnItem&&!i)&&(t.origin={x:n.clientX,y:n.clientY},t.dragging=!1,this.enableOptimize)){for(var l=this.graph,d=l.getEdges(),v=0,D=d.length;v<D;v++){var R=d[v].get("group").get("children");!R||R.forEach(function(zt){zt.set("ori-visibility",zt.get("ori-visibility")||zt.get("visible")),zt.hide()})}for(var F=l.getNodes(),Z=0,J=F.length;Z<J;Z++)for(var it=F[Z].getContainer(),dt=it.get("children"),bt=0,Dt=dt;bt<Dt.length;bt++){var At=Dt[bt],wt=At.get("isKeyShape");wt||(At.set("ori-visibility",At.get("ori-visibility")||At.get("visible")),At.hide())}}}},onTouchMove:function(n){var t=this,e=n.originalEvent.touches,r=e[0],i=e[1];if(r&&i){this.onMouseUp(n);return}n.preventDefault(),t.onMouseMove(n)},onMouseMove:function(n){var t=this.graph;if(!this.keydown){var e=n.target,r=e&&e.isCanvas&&e.isCanvas();if(!(!this.allowDragOnItem&&!r)&&(n=q0(n),!!this.origin)){if(this.dragging)n.type="drag",t.emit("canvas:drag",n);else{if(eb(this.origin.x-n.clientX)+eb(this.origin.y-n.clientY)<CM)return;this.shouldBegin.call(this,n)&&(n.type="dragstart",t.emit("canvas:dragstart",n),this.dragging=!0)}this.shouldUpdate.call(this,n)&&this.updateViewport(n)}}},onMouseUp:function(n){var t=this.graph;if(!this.keydown){if(this.enableOptimize){for(var e=t.getEdges(),r=0,i=e.length;r<i;r++){var l=e[r].get("group").get("children");!l||l.forEach(function(Dt){var At=Dt.get("ori-visibility");At&&Dt.show()})}for(var d=t.getNodes(),v=0,D=d.length;v<D;v++)for(var R=d[v].getContainer(),F=R.get("children"),Z=0,J=F;Z<J.length;Z++){var it=J[Z],dt=it.get("isKeyShape");if(!dt){var bt=it.get("ori-visibility");bt&&it.show()}}}if(!this.dragging){this.origin=null;return}n=q0(n),this.shouldEnd.call(this,n)&&this.updateViewport(n),n.type="dragend",t.emit("canvas:dragend",n),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(n){var t=this,e=n.key;!e||(AM.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},DM={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas","node:touchstart":"onTouchStart","node:touchmove":"onTouchMove","node:touchend":"onDragEnd"}},validationCombo:function(n){if(!this.origin||!n||n.destroyed)return!1;var t=n.getType();return t==="combo"},onTouchStart:function(n){var t=this;try{var e=n.originalEvent.touches,r=e[0],i=e[1];if(r&&i)return;n.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.onDragStart(n)},onTouchMove:function(n){var t=this;try{var e=n.originalEvent.touches,r=e[0],i=e[1];if(r&&i){t.onDragEnd(n);return}n.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.onDrag(n)},onDragStart:function(n){var t=this;if(!!this.shouldBegin.call(this,n)){var e=n.item;if(!(!e||e.destroyed||e.hasLocked())){var r=e.getContainer();r.set("capture",!1);var i=n.target;if(i){var l=i.get("isAnchorPoint");if(l)return}var d=this.graph;this.targets=[],this.targetCombo=null;var v=d.findAllByState("node",this.selectedState),D=e.get("id"),R=v.filter(function(Z){var J=Z.get("id");return D===J});R.length===0?this.targets.push(e):v.length>1?v.forEach(function(Z){var J=Z.hasLocked();J||t.targets.push(Z)}):this.targets.push(e);var F=[];this.targets.forEach(function(Z){F.push(Object(g.clone)(Z.getModel()))}),this.set("beforeDragNodes",F),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(Z){var J=Z.getEdges();J.forEach(function(it){!it.isVisible()||(t.hidenEdge[it.getID()]=!0,it.hide())})}),this.origin={x:n.x,y:n.y},this.point={},this.originPoint={}}}},onDrag:function(n){var t=this;!this.origin||!this.shouldUpdate(this,n)||(this.get("enableDelegate")?this.updateDelegate(n):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge")}):this.targets.map(function(e){t.update(e,n)}))},onDragEnd:function(n){var t=this;if(!(!this.origin||!this.shouldEnd.call(this,n))){var e=n.item;if(e){var r=e.getContainer();r.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(n),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(d){var v=d.getEdges();v.forEach(function(D){t.hidenEdge[D.getID()]&&D.show(),D.refresh()})}),this.hidenEdge={};var i=this.graph;if(i.get("enabledStack")){var l={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(d){l.before.nodes.push({id:d.id,x:d.x,y:d.y})}),this.targets.forEach(function(d){var v=d.getModel();l.after.nodes.push({id:v.id,x:v.x,y:v.y})}),i.pushStack("update",Object(g.clone)(l))}i.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(n){var t=n.item;if(!!this.validationCombo(t)){this.updatePositions(n);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var r=t.getModel();this.targets.map(function(i){var l=i.getModel();l.comboId!==r.id&&e.updateComboTree(i,r.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(n){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(n),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var r=e.getModel();r.comboId&&t.updateComboTree(e)}))},onDropNode:function(n){if(!(!this.targets||this.targets.length===0)){var t=this,e=n.item;this.updatePositions(n);var r=t.graph,i=e.getModel().comboId;if(i)if(this.onlyChangeComboSize)r.updateCombos();else{var l=r.findById(i);t.comboActiveState&&r.setItemState(l,t.comboActiveState,!1),this.targets.map(function(d){var v=d.getModel();i!==v.comboId&&r.updateComboTree(d,i)}),r.updateCombo(l)}else this.targets.map(function(d){var v=d.getModel();v.comboId&&r.updateComboTree(d)});r.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(n){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&(this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge"),updateFunc:this.update}):this.targets.map(function(e){return t.update(e,n)}))},update:function(n,t){var e=this.origin,r=n.get("model"),i=n.get("id");this.point[i]||(this.point[i]={x:r.x||0,y:r.y||0});var l=t.x-e.x+this.point[i].x,d=t.y-e.y+this.point[i].y,v={x:l,y:d};this.get("updateEdge")?this.graph.updateItem(n,v,!1):n.updatePosition(v)},debounceUpdate:Object(g.debounce)(function(u){var n=u.targets,t=u.graph,e=u.point,r=u.origin,i=u.evt,l=u.updateEdge,d=u.updateFunc;n.map(function(v){var D=v.get("model"),R=v.get("id");e[R]||(e[R]={x:D.x||0,y:D.y||0});var F=i.x-r.x+e[R].x,Z=i.y-r.y+e[R].y,J={x:F,y:Z};l?t.updateItem(v,J,!1):v.updatePosition(J)})},50,!0),updateDelegate:function(n){var t=this.graph;if(this.delegateRect){var Z=n.x-this.origin.x+this.originPoint.minX,J=n.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:Z,y:J})}else{var e=t.get("group"),r=Object(g.deepMix)({},ar.delegateStyle,this.delegateStyle),i=this.calculationGroupPosition(n),l=i.x,d=i.y,v=i.width,D=i.height,R=i.minX,F=i.minY;this.originPoint={x:l,y:d,width:v,height:D,minX:R,minY:F},this.delegateRect=e.addShape("rect",{attrs:Object(he.__assign)({width:v,height:D,x:l,y:d},r),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(n){var t=this.targets;t.length===0&&t.push(n.item);for(var e=Infinity,r=-Infinity,i=Infinity,l=-Infinity,d=0;d<t.length;d++){var v=t[d],D=v.getBBox(),R=D.minX,F=D.minY,Z=D.maxX,J=D.maxY;R<e&&(e=R),F<i&&(i=F),Z>r&&(r=Z),J>l&&(l=J)}var it=Math.floor(e),dt=Math.floor(i),bt=Math.ceil(r)-Math.floor(e),Dt=Math.ceil(l)-Math.floor(i);return{x:it,y:dt,width:bt,height:Dt,minX:e,minY:i}}},PM={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(n){var t=this;try{var e=n.originalEvent.touches,r=e[0],i=e[1];if(r&&i)return;n.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.setAllItemStates(n)},clearOnTouchStart:function(n){var t=this;try{var e=n.originalEvent.touches,r=e[0],i=e[1];if(r&&i)return;n.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.clearActiveState(n)},setAllItemStates:function(n){var t=n.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(n.item,{event:n,action:"activate"})){for(var r=this,i=this.activeState,l=this.inactiveState,d=e.getNodes(),v=e.getCombos(),D=e.getEdges(),R=e.get("vedges"),F=d.length,Z=v.length,J=D.length,it=R.length,dt=0;dt<F;dt++){var bt=d[dt],Dt=bt.hasState("selected");r.resetSelected&&Dt&&e.setItemState(bt,"selected",!1),e.setItemState(bt,i,!1),l&&e.setItemState(bt,l,!0)}for(var dt=0;dt<Z;dt++){var At=v[dt],Dt=At.hasState("selected");r.resetSelected&&Dt&&e.setItemState(At,"selected",!1),e.setItemState(At,i,!1),l&&e.setItemState(At,l,!0)}for(var dt=0;dt<J;dt++){var wt=D[dt];e.setItemState(wt,i,!1),l&&e.setItemState(wt,l,!0)}for(var dt=0;dt<it;dt++){var zt=R[dt];e.setItemState(zt,i,!1),l&&e.setItemState(zt,l,!0)}l&&e.setItemState(t,l,!1),e.setItemState(t,i,!0);for(var Kt=t.getEdges(),$t=Kt.length,dt=0;dt<$t;dt++){var wt=Kt[dt],ee=void 0;wt.getSource()===t?ee=wt.getTarget():ee=wt.getSource(),l&&e.setItemState(ee,l,!1),e.setItemState(ee,i,!0),e.setItemState(wt,l,!1),e.setItemState(wt,i,!0),wt.toFront()}e.emit("afteractivaterelations",{item:n.item,action:"activate"})}},clearActiveState:function(n){var t=this,e=t.get("graph");if(!!t.shouldUpdate(n.item,{event:n,action:"deactivate"})){var r=this.activeState,i=this.inactiveState,l=e.get("autoPaint");e.setAutoPaint(!1);for(var d=e.getNodes()||[],v=e.getCombos()||[],D=e.getEdges()||[],R=e.get("vedges")||[],F=d.length,Z=v.length,J=D.length,it=R.length,dt=0;dt<F;dt++){var bt=d[dt];e.clearItemStates(bt,[r,i])}for(var dt=0;dt<Z;dt++){var Dt=v[dt];e.clearItemStates(Dt,[r,i])}for(var dt=0;dt<J;dt++){var At=D[dt];e.clearItemStates(At,[r,i,"deactivate"])}for(var dt=0;dt<it;dt++){var wt=R[dt];e.clearItemStates(wt,[r,i,"deactivate"])}e.paint(),e.setAutoPaint(l),e.emit("afteractivaterelations",{item:n.item||t.get("item"),action:"deactivate"})}}},pg=Math.min,rb=Math.max,nb=Math.abs,ib="shift",IM=["drag","shift","ctrl","alt","control"],LM={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:ib,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return IM.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=ib,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(n){var t=n.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:n.canvasX,y:n.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(n)},onMouseUp:function(n){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(n),this.dragging=!1)},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),i=t.findAllByState("edge",e);r.forEach(function(l){return t.setItemState(l,e,!1)}),i.forEach(function(l){return t.setItemState(l,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(n){var t=this,e=this,r=e.graph,i=e.originPoint,l=e.shouldUpdate,d=this.selectedState,v={x:n.x,y:n.y},D=r.getPointByCanvas(i.x,i.y),R=pg(v.x,D.x),F=rb(v.x,D.x),Z=pg(v.y,D.y),J=rb(v.y,D.y),it=[],dt=[];r.getNodes().forEach(function(Dt){if(!!Dt.isVisible()){var At=Dt.getBBox();if(At.centerX>=R&&At.centerX<=F&&At.centerY>=Z&&At.centerY<=J&&l(Dt,"select")){it.push(Dt);var wt=Dt.getModel();dt.push(wt.id),r.setItemState(Dt,d,!0)}}});var bt=[];this.includeEdges&&it.forEach(function(Dt){var At=Dt.getOutEdges();At.forEach(function(wt){if(!!wt.isVisible()){var zt=wt.getModel(),Kt=zt.source,$t=zt.target;dt.includes(Kt)&&dt.includes($t)&&l(wt,"select")&&(bt.push(wt),r.setItemState(wt,t.selectedState,!0))}})}),this.selectedEdges=bt,this.selectedNodes=it,this.onSelect&&this.onSelect(it,bt),r.emit("nodeselectchange",{selectedItems:{nodes:it,edges:bt},select:!0})},createBrush:function(){var n=this,t=n.graph.get("canvas").addShape("rect",{attrs:n.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(n){var t=this.originPoint;this.brush.attr({width:nb(n.canvasX-t.x),height:nb(n.canvasY-t.y),x:pg(n.canvasX,t.x),y:pg(n.canvasY,t.y)})},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},ab="shift",jM=["shift","ctrl","alt","control"],RM={getDefaultCfg:function(){return{multiple:!0,trigger:ab,selectedState:"selected"}},getEvents:function(){var n=this;return jM.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=ab,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),n.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(n){var t=this,e=n.item;if(!(!e||e.destroyed)){var r=e.getType(),i=t.graph,l=t.keydown,d=t.multiple,v=t.shouldUpdate,D=t.shouldBegin;if(!!D.call(t,n)){if(!l||!d){var R=i.findAllByState(r,t.selectedState);Object(g.each)(R,function(J){J!==e&&i.setItemState(J,t.selectedState,!1)})}if(e.hasState(t.selectedState)){v.call(t,n)&&i.setItemState(e,t.selectedState,!1);var F=i.findAllByState("node",t.selectedState),Z=i.findAllByState("combo",t.selectedState);i.emit("nodeselectchange",{target:e,selectedItems:{nodes:F,combos:Z},select:!1})}else{v.call(t,n)&&i.setItemState(e,t.selectedState,!0);var F=i.findAllByState("node",t.selectedState),Z=i.findAllByState("combo",t.selectedState);i.emit("nodeselectchange",{target:e,selectedItems:{nodes:F,combos:Z},select:!0})}}}},onCanvasClick:function(){var n=this,t=this.graph,e=t.findAllByState("node",this.selectedState);Object(g.each)(e,function(i){t.setItemState(i,n.selectedState,!1)});var r=t.findAllByState("combo",this.selectedState);Object(g.each)(r,function(i){t.setItemState(i,n.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===this.trigger.toLowerCase()||e.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.keydown=!1}},wM=b.transform,ob=.05,BM={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var n=this.fixSelectedItems;return n.fixState||(n.fixState="selected"),n.fixAll&&(n.fixLineWidth=!0,n.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(n){var t=n.originalEvent.touches,e=t[0],r=t[1];n.preventDefault(),!!r&&(this.shouldBegin&&!this.shouldBegin.call(this,n)||(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(n){if(!!this.moveable){n.preventDefault();var t=n.originalEvent.touches,e=t[0],r=t[1];if(!!r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(J,it){return Math.hypot(it.x-J.x,it.y-J.y)},l=i({x:e.pageX,y:e.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),d=this.originScale*l;this.currentScale=d;var v=this.get("minZoom")||this.graph.get("minZoom"),D=this.get("maxZoom")||this.graph.get("maxZoom");if(!(d>D||d<v)){var R=this.graph.get("canvas"),F=R.getPointByClient(n.clientX,n.clientY);this.graph.zoomTo(d,{x:F.x,y:F.y}),this.graph.emit("wheelzoom",n)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(n){var t=this,e=this,r=e.graph,i=e.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin.call(this,n))&&!!this.shouldUpdate.call(this,n)){n.preventDefault();var l=r.get("canvas"),d=l.getPointByClient(n.clientX,n.clientY),v=this.get("sensitivity"),D=r.getZoom(),R=D,F=D;n.wheelDelta<0?R=1-ob*v:R=1/(1-ob*v),F=D*R;var Z=this.get("minZoom")||r.get("minZoom"),J=this.get("maxZoom")||r.get("maxZoom");if(!(F>J||F<Z)){var it=this.get("enableOptimize");if(it){var dt=this.get("optimizeZoom"),bt=this.get("optimized"),Dt=r.getNodes(),At=r.getEdges(),wt=Dt.length,zt=At.length;if(!bt){for(var Kt=0;Kt<wt;Kt++){var $t=Dt[Kt];if(!$t.destroyed)for(var ee=$t.get("group").get("children"),re=ee.length,fe=0;fe<re;fe++){var ce=ee[fe];!ce.destoryed&&!ce.get("isKeyShape")&&(ce.set("ori-visibility",ce.get("ori-visibility")||ce.get("visible")),ce.hide())}}for(var Ae=0;Ae<zt;Ae++)for(var Te=At[Ae],ee=Te.get("group").get("children"),re=ee.length,fe=0;fe<re;fe++){var ce=ee[fe];ce.set("ori-visibility",ce.get("ori-visibility")||ce.get("visible")),ce.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var cr=setTimeout(function(){var ca=r.getZoom(),Ni=t.get("optimized");if(Ni){t.set("optimized",!1);for(var Oa=0;Oa<wt;Oa++){var Ci=Dt[Oa],xa=Ci.get("group").get("children"),ia=xa.length;if(ca<dt){var Io=Ci.getKeyShape(),Qi=Io.get("ori-visibility");Qi&&Io.show()}else for(var Ai=0;Ai<ia;Ai++){var ga=xa[Ai],Qi=ga.get("ori-visibility");!ga.get("visible")&&Qi&&Qi&&ga.show()}}for(var Fn=0;Fn<zt;Fn++){var ha=At[Fn],xa=ha.get("group").get("children"),ia=xa.length;if(ca<dt){var Io=ha.getKeyShape(),Qi=Io.get("ori-visibility");Qi&&Io.show()}else for(var Ai=0;Ai<ia;Ai++){var ga=xa[Ai];if(!ga.get("visible")){var Qi=ga.get("ori-visibility");Qi&&ga.show()}}}}},100);this.set("timeout",cr)}if(D<=1){var fr=void 0,gr=void 0;if(i.fixAll||i.fixLineWidth||i.fixLabel){fr=r.findAllByState("node",i.fixState),gr=r.findAllByState("edge",i.fixState);for(var qr=D/F,kr=fr.length,Nr=0;Nr<kr;Nr++){var $t=fr[Nr],Fr=$t.getContainer(),Ir=$t.getModel(),Sr=$t.getOriginStyle(),Xr=$t.getStateStyle(i.fixState),en=$t.get("shapeFactory").getShape(Ir.type).getStateStyle(i.fixState,$t)[i.fixState];if(i.fixAll){if(F<=1){var Ar=Object(g.clone)(Fr.getMatrix());Ar||(Ar=[1,0,0,0,1,0,0,0,1]);var Dr=$t.getModel(),Tn=Dr.x,Rn=Dr.y;Ar=wM(Ar,[["t",-Tn,-Rn],["s",qr,qr],["t",Tn,Rn]]),Fr.setMatrix(Ar)}}else for(var ee=Fr.get("children"),re=ee.length,fe=0;fe<re;fe++){var ce=ee[fe],wn=void 0,Un=void 0;if(i.fixLabel){var yi=ce.get("type");if(yi==="text"){wn=ce.attr("fontSize")||12;var da=Xr[ce.get("name")],vi=en[ce.get("name")],Pa=da?da.fontSize:12,pl=vi?vi.fontSize:12,Fs=Pa||pl||12;if(F<=1&&ce.attr("fontSize",Fs/F),Un)break}}if(i.fixLineWidth&&ce.get("isKeyShape")){Un=ce.attr("lineWidth")||0;var Qs=Xr.lineWidth||en.lineWidth||Sr.lineWidth||0;if(F<=1&&ce.attr("lineWidth",Qs/F),wn)break}}}for(var na=gr.length,va=0;va<na;va++)for(var Te=gr[va],Fr=Te.getContainer(),ee=Fr.get("children"),Ir=Te.getModel(),Xr=Te.getStateStyle(i.fixState),en=Te.get("shapeFactory").getShape(Ir.type).getStateStyle(i.fixState,Te)[i.fixState],re=ee.length,fe=0;fe<re;fe++){var ce=ee[fe],wn=void 0,Un=void 0;if(i.fixLabel||i.fixAll){var yi=ce.get("type");if(yi==="text"){wn=ce.attr("fontSize")||12;var da=Xr[ce.get("name")],vi=en[ce.get("name")],Pa=da?da.fontSize:12,pl=vi?vi.fontSize:12,Fs=Pa||pl||12;if(F<=1&&ce.attr("fontSize",Fs/F),Un)break}}if((i.fixLineWidth||i.fixAll)&&ce.get("isKeyShape")){Un=ce.attr("lineWidth")||0;var Qs=Xr.lineWidth||en.lineWidth||1;if(F<=1&&ce.attr("lineWidth",Qs/F),wn)break}}}}r.zoomTo(F,{x:d.x,y:d.y}),r.emit("wheelzoom",n)}}}},sb={onMouseEnter:function(n){var t=n.item;this.currentTarget=t,this.showTooltip(n),this.graph.emit("tooltipchange",{item:n.item,action:"show"})},onMouseMove:function(n){if(!this.shouldUpdate(n)){this.hideTooltip();return}!this.currentTarget||n.item!==this.currentTarget||this.updatePosition(n)},onMouseLeave:function(n){!this.shouldEnd(n)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(n){var t=this.container;if(!(!n.item||n.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(n.item.get("model"),n);t.innerHTML=e,Object(_e.e)(this.container,{visibility:"visible"}),this.updatePosition(n)}},hideTooltip:function(){Object(_e.e)(this.container,{visibility:"hidden"})},updatePosition:function(n){var t=this.get("shouldBegin"),e=this,r=e.width,i=e.height,l=e.container,d=e.graph;if(!t(n)){Object(_e.e)(l,{visibility:"hidden"});return}var v=d.getPointByClient(n.clientX,n.clientY),D=d.getCanvasByPoint(v.x,v.y),R=D.x,F=D.y,Z=l.getBoundingClientRect();R>r/2?R-=Z.width:R+=this.offset,F>i/2?F-=Z.height:F+=this.offset;var J=R+"px",it=F+"px";Object(_e.e)(this.container,{left:J,top:it,visibility:"visible"})},createTooltip:function(n){var t=n.get("el");t.style.position="relative";var e=Object(_e.b)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),Object(_e.e)(e,{position:"absolute",visibility:"visible"}),this.width=n.get("width"),this.height=n.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},NM=Object(he.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},sb),FM=Object(he.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},sb),lb="click",GM=["click","dblclick"],UM={getDefaultCfg:function(){return{trigger:lb,onChange:function(){}}},getEvents:function(){var n,t;return GM.includes(this.trigger)?t=this.trigger:(t=lb,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["node:"+t]="onNodeClick",n.touchstart="onNodeClick",n},onNodeClick:function(n){var t=n.item;if(!!t){var e=this.graph.findDataById(t.get("id"));if(!!e){var r=e.children;if(!(!r||r.length===0)){var i=!e.collapsed;!this.shouldBegin(n,i)||(e.collapsed=i,t.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:n.item,collapsed:i}),!!this.shouldUpdate(n,i)&&(this.onChange(t,i),this.graph.layout()))}}}}},WM=nc.calculationItemsBBox,zM=function u(n,t){if(t(n)!==!1&&n){var e=n.get("combos");if(e.length===0)return!1;Object(g.each)(e,function(r){u(r,t)})}},kM={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(n){var t=n.item;if(!t||t.destroyed||!this.shouldUpdate(this,n))return!1;var e=t.getType();return e==="combo"},onDragStart:function(n){var t=this,e=this.graph,r=n.item;if(!!this.validationCombo(n)){this.targets=[];var i=e.findAllByState("combo",this.selectedState),l=r.get("id"),d=i.filter(function(v){var D=v.get("id");return l===D});d.length===0?this.targets.push(r):this.targets=i,this.activeState&&this.targets.map(function(v){var D=v.getModel();if(D.parentId){var R=e.findById(D.parentId);R&&e.setItemState(R,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:n.x,y:n.y},this.currentItemChildCombos=[],zM(r,function(v){if(v.destroyed)return!1;var D=v.getModel();return t.currentItemChildCombos.push(D.id),!0})}},onDrag:function(n){var t=this;if(!!this.origin&&!!this.validationCombo(n))if(this.enableDelegate)this.updateDelegate(n);else{if(this.activeState){var e=this.graph,r=n.item,i=r.getModel(),l=e.getCombos(),d=r.getBBox(),v=d.centerX,D=d.centerY,R=d.width,F=l.filter(function(Z){var J=Z.getModel();return i.parentId,J.id!==i.id&&!t.currentItemChildCombos.includes(J.id)});F.map(function(Z){var J=Z.getBBox(),it=J.centerX,dt=J.centerY,bt=J.width,Dt=v-it,At=D-dt,wt=2*Math.sqrt(Dt*Dt+At*At);R+bt-wt>.8*R?e.setItemState(Z,t.activeState,!0):e.setItemState(Z,t.activeState,!1)})}Object(g.each)(this.targets,function(Z){t.updateCombo(Z,n)})}},updatePositions:function(n){var t=this;this.enableDelegate&&Object(g.each)(this.targets,function(e){t.updateCombo(e,n)})},onDrop:function(n){var t=this,e=n.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(n);var r=this.graph,i=e.getModel();this.targets.map(function(l){var d=l.getModel();d.parentId!==i.id?(t.activeState&&r.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(l):r.updateComboTree(l,i.id)):r.updateCombo(e)}),this.end(e,n),this.endComparison=!0}},onNodeDrop:function(n){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(n);var e=this.graph,r=n.item,i=r.getModel().comboId,l;if(i){if(this.activeState){var d=e.findById(i);e.setItemState(d,this.activeState,!1)}this.targets.map(function(v){t.onlyChangeComboSize?e.updateCombo(v):i!==v.getID()&&(l=e.findById(i),i!==v.getModel().parentId&&e.updateComboTree(v,i))})}else this.targets.map(function(v){if(t.onlyChangeComboSize)e.updateCombo(v);else{var D=v.getModel();D.comboId&&e.updateComboTree(v)}});this.endComparison=!0,this.end(l,n)}},onDragEnter:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(n){if(!(!this.targets||this.targets.length===0)){var t=n.item;this.updatePositions(n);var e=this.getParentCombo(t.getModel().parentId),r=this.graph;e&&this.activeState&&r.setItemState(e,this.activeState,!1),this.end(void 0,n)}},end:function(n,t){var e=this;if(!!this.origin){var r=this.graph;if(this.delegateShape){var i=r.get("delegateGroup");i.clear(),this.delegateShape=null}n&&this.activeState&&r.setItemState(n,this.activeState,!1),n||this.targets.map(function(l){e.onlyChangeComboSize?r.updateCombo(l):r.updateComboTree(l)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(n,t){var e=this;if(t(n)!==!1&&n){var r=n.get("combos");Object(g.each)(r,function(l){e.traverse(l,t)});var i=n.get("nodes");Object(g.each)(i,function(l){e.traverse(l,t)})}},updateCombo:function(n,t){var e=this;this.traverse(n,function(r){return r.destroyed?!1:(e.updateSignleItem(r,t),!0)})},updateSignleItem:function(n,t){var e=this.origin,r=this.graph,i=n.getModel(),l=n.get("id");this.point[l]||(this.point[l]={x:i.x,y:i.y});var d=t.x-e.x+this.point[l].x,v=t.y-e.y+this.point[l].y;r.updateItem(n,{x:d,y:v})},getParentCombo:function(n){var t=this.graph;if(!!n){var e=t.findById(n);if(!!e)return e}},updateDelegate:function(n){var t=this.graph;if(this.delegateShape){var Z=n.x-this.origin.x+this.originPoint.minX,J=n.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:Z,y:J})}else{var e=t.get("delegateGroup"),r=null;this.targets.length>1?r=WM(this.targets):r=this.targets[0].getBBox();var i=r.x,l=r.y,d=r.width,v=r.height,D=r.minX,R=r.minY;this.originPoint={x:i,y:l,width:d,height:v,minX:D,minY:R};var F=Object(he.__assign)(Object(he.__assign)({},ar.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:Object(he.__assign)({width:r.width,height:r.height,x:r.x,y:r.y},F),name:"combo-delegate-shape"}),this.delegate=this.delegateShape}}},ub="dblclick",VM=["click","dblclick"],XM={getDefaultCfg:function(){return{trigger:ub,relayout:!0}},getEvents:function(){var n,t;return VM.includes(this.trigger)?t=this.trigger:(t=ub,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["combo:"+t]="onComboClick",n},onComboClick:function(n){var t=n.item,e=this,r=e.graph,i=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var l=t.getModel(),d=l.id;!d||(r.collapseExpandCombo(d),i&&r.get("layout")?r.layout():r.refreshPositions())}}},HM=nc.isPolygonsIntersect,YM=nc.pathToPoints,cb="shift",KM=["drag","shift","ctrl","alt","control"],_M=function(n,t){var e,r=n.getKeyShape();if(n.get("type")==="path")e=YM(r.attr("path"));else{var i=r.getCanvasBBox();e=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return HM(t,e)},ZM={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:cb,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return KM.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=cb,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(n){var t=this.lasso,e=n.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:n.x,y:n.y},this.points.push(this.originPoint),t.show())},onDragMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:n.x,y:n.y}),this.updateLasso(n))},onDragEnd:function(n){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var n=this.points,t=[];return n.length&&(n.forEach(function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",n[0].x,n[0].y])),t},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),i=t.findAllByState("edge",e);r.forEach(function(l){return t.setItemState(l,e,!1)}),i.forEach(function(l){return t.setItemState(l,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var n=this,t=this,e=t.graph,r=t.shouldUpdate,i=this.points.map(function(R){return[e.getCanvasByPoint(R.x,R.y).x,e.getCanvasByPoint(R.x,R.y).y]}),l=this.selectedState,d=[],v=[];e.getNodes().forEach(function(R){if(!!R.isVisible()&&_M(R,i)&&r(R,"select")){d.push(R);var F=R.getModel();v.push(F.id),e.setItemState(R,l,!0)}});var D=[];this.includeEdges&&d.forEach(function(R){var F=R.getOutEdges();F.forEach(function(Z){if(!!Z.isVisible()){var J=Z.getModel(),it=J.source,dt=J.target;v.includes(it)&&v.includes(dt)&&r(Z,"select")&&(D.push(Z),e.setItemState(Z,n.selectedState,!0))}})}),this.selectedEdges=D,this.selectedNodes=d,this.onSelect&&this.onSelect(d,D),e.emit("nodeselectchange",{selectedItems:{nodes:d,edges:D},select:!0})},createLasso:function(){var n=this,t=n.graph.get("delegateGroup").addShape("path",{attrs:Object(he.__assign)({path:[]},n.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(n){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(n){var t=n.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},fb="click",$M=["click","drag"],hb=void 0,QM=["shift","ctrl","control","alt","meta",void 0],JM={getDefaultCfg:function(){return{trigger:fb,key:hb,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var n=this;$M.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=fb,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),n.key&&QM.indexOf(n.key.toLowerCase())===-1&&(n.trigger=hb,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return n.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:n.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),n.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:n.x,y:n.y})}},onClick:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item,r=t.graph,i=e.getModel(),l=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,n))return;var d=void 0;l&&Object(g.isFunction)(l)?d=l({source:t.source,target:i.id}):d=t.edgeConfig;var v=Object(he.__assign)({target:i.id},d);if(t.source===i.id&&(v.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,v,!1),r.get("enabledStack")){var D=Object(he.__assign)(Object(he.__assign)({},t.edge.getModel()),{itemType:"edge"}),R={};R.edges=[D],r.pushStack("add",{before:{},after:R})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,n))return;var d=void 0;l&&Object(g.isFunction)(l)?d=l({source:i.id,target:i.id}):d=t.edgeConfig,t.edge=r.addItem("edge",Object(he.__assign)({source:i.id,target:i.id},d),!1),t.source=i.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(n){var t=this;if(!(t.key&&!t.keydown)){var e={x:n.x,y:n.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,r=n.item;if(t.addingEdge&&n.target&&n.target.isCanvas&&n.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}t.addingEdge&&t.edge===r&&(e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1)}},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.addingEdge&&n.edge&&(n.graph.removeItem(n.edge,!1),n.addingEdge=!1,n.edge=null),this.keydown=!1}},db="ctrl",qM=["shift","ctrl","alt","control"],tC="1",eC={getDefaultCfg:function(){return{trigger:db,combinedKey:tC,functionName:"fitView",functionParams:[]}},getEvents:function(){return qM.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=db,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]();return}var l=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===l||r==="control"&&l==="ctrl"||r==="ctrl"&&l==="control")&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},rC=["shift","ctrl","alt","control"],nC={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return(!this.zoomKey||rC.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(n){var t=this,e=this.graph,r=n[this.zoomKey+"Key"];if(this.zoomKey==="control"&&(r=n.ctrlKey),r){var i=e.get("canvas"),l=i.getPointByClient(n.clientX,n.clientY),d=e.getZoom();n.wheelDelta>0?d=d+d*.05:d=d-d*.05,e.zoomTo(d,{x:l.x,y:l.y})}else{var v=n.deltaX||n.movementX,D=n.deltaY||n.movementY;!D&&navigator.userAgent.indexOf("Firefox")>-1&&(D=-n.wheelDelta*125/3);var R=this.graph.get("width"),F=this.graph.get("height"),Z=this.graph.get("canvas").getCanvasBBox(),J=this.scalableRange,it=this.scalableRange;J<1&&J>-1&&(J=R*J,it=F*it),(Z.minX<=R+J&&Z.minX+v>R+J||Z.maxX+J>=0&&Z.maxX+J+v<0)&&(v=0),(Z.minY<=F+it&&Z.minY+D>F+it||Z.maxY+it>=0&&Z.maxY+it+D<0)&&(D=0),this.get("direction")==="x"?D=0:this.get("direction")==="y"&&(v=0),e.translate(-v,-D)}n.preventDefault();var dt=this.get("enableOptimize");if(dt){var bt=this.get("optimizeZoom"),Dt=this.get("optimized"),At=e.getNodes(),wt=e.getEdges(),zt=At.length,Kt=wt.length;if(!Dt){for(var $t=0;$t<zt;$t++){var ee=At[$t];if(!ee.destroyed)for(var re=ee.get("group").get("children"),fe=re.length,ce=0;ce<fe;ce++){var Ae=re[ce];!Ae.destoryed&&!Ae.get("isKeyShape")&&(Ae.set("ori-visibility",Ae.get("ori-visibility")||Ae.get("visible")),Ae.hide())}}for(var Te=0;Te<Kt;Te++)for(var cr=wt[Te],re=cr.get("group").get("children"),fe=re.length,ce=0;ce<fe;ce++){var Ae=re[ce];Ae.set("ori-visibility",Ae.get("ori-visibility")||Ae.get("visible")),Ae.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var fr=setTimeout(function(){var gr=e.getZoom(),qr=t.get("optimized");if(qr){t.set("optimized",!1);for(var kr=0;kr<zt;kr++){var Nr=At[kr],Fr=Nr.get("group").get("children"),Ir=Fr.length;if(gr<bt){var Sr=Nr.getKeyShape(),Xr=Sr.get("ori-visibility");Xr&&Sr.show()}else for(var en=0;en<Ir;en++){var Ar=Fr[en],Xr=Ar.get("ori-visibility");!Ar.get("visible")&&Xr&&Xr&&Ar.show()}}for(var Dr=0;Dr<Kt;Dr++){var Tn=wt[Dr],Fr=Tn.get("group").get("children"),Ir=Fr.length;if(gr<bt){var Sr=Tn.getKeyShape(),Xr=Sr.get("ori-visibility");Xr&&Sr.show()}else for(var en=0;en<Ir;en++){var Ar=Fr[en];if(!Ar.get("visible")){var Xr=Ar.get("ori-visibility");Xr&&Ar.show()}}}}},100);this.set("timeout",fr)}}},iC={"drag-canvas":TM,"zoom-canvas":BM,"drag-node":DM,"activate-relations":PM,"brush-select":LM,"click-select":RM,"lasso-select":ZM,tooltip:NM,"edge-tooltip":FM,"collapse-expand":UM,"drag-combo":kM,"collapse-expand-combo":XM,"create-edge":JM,"shortcuts-call":eC,"scroll-canvas":nC};Object(g.each)(iC,function(u,n){au(n,u)});var aC=Object(he.__assign)(Object(he.__assign)({},f),ou),aA=Go.Grid,oA=Go.Minimap,sA=Go.Bundling,lA=Go.Menu,oC=Go.Fisheye,uA=Go.ToolBar,cA=Go.Tooltip,sC=Go.TimeBar,lC=Go.ImageMinimap,uC=Go.EdgeFilterLens,cC=Go.SnapLine,fA=Go.Legend,vb={version:ar.version,Graph:P0,TreeGraph:y1,Util:nc,Layout:ap,TreeLayout:e1,registerLayout:r1,Global:ar,registerBehavior:au,registerCombo:Hf,registerEdge:iu,registerNode:cs,Minimap:Go.Minimap,Grid:Go.Grid,Bundling:Go.Bundling,Menu:Go.Menu,ToolBar:Go.ToolBar,Tooltip:Go.Tooltip,Legend:Go.Legend,TimeBar:sC,SnapLine:cC,Fisheye:oC,ImageMinimap:lC,EdgeFilterLens:uC,Algorithm:aC,Arrow:Lh,Marker:jh,Shape:cl};vb.version="4.3.3";var za=vb,hA="4.3.3",xp=function(){return xp=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},xp.apply(this,arguments)},fC={show:!1,size:[150,100],type:"keyShape"},cv=function(n,t,e){var r,i;return e&&e.current&&(r=e.current.offsetWidth,i=e.current.offsetHeight||500),!n&&!r||!t&&!i?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[n||r||500,t||i||500]},fv=function(n,t){if(!(!t||t.destroyed)){if(n&&n.show){var e=Object.assign(fC,n),r=new za.Minimap(xp({},e));return t.addPlugin(r),r}return null}},hC=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,e=n=="x"?t:t&3|8;return e.toString(16)})},yg=function(n){return n.current||(n.current="IndentedTreeGraph-"+hC()),n.current},Ep=function(n,t){var e=W(t);n.data(e),n.render(),n.fitView()},mg=function(n,t){var e=t.handleEdgeClick,r=t.handleEdgeHover,i=t.handleEdgeUnHover,l=t.handleNodeClick,d=t.handleNodeHover,v=t.handleNodeUnHover,D=t.handleCanvasClick;n.on("edge:mouseenter",function(R){var F=R.item;n.setItemState(F,"hover",!0),r==null||r(F,n)}),n.on("edge:mouseleave",function(R){var F=R.item;n.setItemState(F,"hover",!1),i==null||i(F,n)}),n.on("edge:click",function(R){var F=R.item;e==null||e(F,n)}),n.on("edge:touchstart",function(R){var F=R.item;e==null||e(F,n)}),n.on("node:mouseenter",function(R){var F=R.item;n.setItemState(F,"hover",!0),d==null||d(F,n)}),n.on("node:mouseleave",function(R){var F=R.item;n.setItemState(F,"hover",!1),v==null||v(F,n)}),n.on("node:click",function(R){var F=R.item;l==null||l(F,n)}),n.on("canvas:click",function(){D==null||D(n)}),n.on("canvas:touchstart",function(){D==null||D(n)})};function ih(u,n,t){var e=Object(m.useRef)(),r=n.data,i=n.nodeStyle,l=n.nodeAnchorPoints,d=n.nodeType,v=n.edgeType,D=n.edgeStyle,R=n.width,F=n.height,Z=n.layout,J=n.minimapCfg,it=n.behaviors,dt=n.nodeLabelCfg,bt=n.edgeLabelCfg,Dt=n.autoFit,At=Dt===void 0?!0:Dt,wt;return Object(m.useEffect)(function(){u&&!u.destroyed&&(u.changeData(r),At&&u.fitView())},[r]),Object(m.useEffect)(function(){u&&!u.destroyed&&u.getNodes().forEach(function(zt){u.updateItem(zt,{type:d,style:i,anchorPoints:l,labelCfg:dt})})},[i,l,d]),Object(m.useEffect)(function(){u&&!u.destroyed&&u.getEdges().forEach(function(zt){u.updateItem(zt,{type:v,style:D,labelCfg:bt})})},[D,v]),Object(m.useEffect)(function(){if(u&&!u.destroyed){var zt=cv(R,F,t);u.changeSize(zt[0],zt[1])}},[t,R,F]),Object(m.useEffect)(function(){u&&!u.destroyed&&u.updateLayout(Z)},[Z]),Object(m.useEffect)(function(){if(!(!J||!u||u.destroyed))if(J.show)wt=fv(J,u),wt==null||wt.updateCanvas();else{var zt=u.get("plugins")[0];zt&&u.removePlugin(zt)}},[J]),Object(m.useEffect)(function(){if(u&&!u.destroyed){var zt=u.get("modes").default,Kt=[];zt.forEach(function($t){Object(g.isObject)($t)?Kt.push($t.type):Object(g.isString)($t)&&Kt.push($t)}),u.removeBehaviors(Kt,"default"),u.addBehaviors(it,"default")}},[it]),Object(m.useEffect)(function(){return e.current=u,function(){u&&!u.destroyed&&(u.destroy(),u=void 0)}},[]),{graphHook:e}}var is=function(){return is=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},is.apply(this,arguments)},dC=function(){za.registerNode("card-node",{draw:function(t,e){var r;t===void 0&&(t={});var i=t.size||[100,30];typeof i=="number"&&(i=[i,i]);var l=is({radius:2,fill:"#fff"},t.style),d=l.stroke||t.color||"#5B8FF9",v=l.radius||0,D=e.addShape("rect",{attrs:is({x:0,y:0,width:i[0],height:i[1],stroke:d},l),name:"main-box",draggable:!0}),R=t.title||t.label,F,Z=((r=t.labelCfg)===null||r===void 0?void 0:r.style)||{};if(R){var J=is({fill:"#fff"},Z);F=e.addShape("text",{attrs:is(is({textBaseline:"top",x:8,y:2,text:R},J),{fill:"#fff"}),name:"title"})}var it=F?F.getBBox():{height:i[1]/2},dt=e.addShape("rect",{attrs:{x:0,y:0,width:i[0],height:it.height+4,fill:d,radius:[v,v,0,0]},name:"title-rect",draggable:!0});F==null||F.toFront();var bt;(t==null?void 0:t.children)&&(bt=e.addShape("marker",{attrs:{x:i[0]/2,y:0,r:6,cursor:"pointer",symbol:t.collapsed?za.Marker.expand:za.Marker.collapse,stroke:d,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var Dt=t&&t.description?t.description:void 0,At=dt.getBBox(),wt;if(Dt&&(wt=e.addShape("text",{attrs:is({textBaseline:"top",x:8,y:At.height+8,text:Dt},Z),name:"description"})),wt){var zt=wt.getBBox(),Kt=At.height+16+zt.height,$t=i[0]>zt.width+16?i[0]:zt.width+16;D.attr({width:$t,height:Kt}),dt==null||dt.attr("width",$t),bt==null||bt.attr({x:$t,y:Kt/2})}return D},update:void 0},"single-node"),za.registerNode("round-rect",{drawShape:function(t,e){t===void 0&&(t={});var r=t.size||[100,30];typeof r=="number"&&(r=[r,r]);var i=t.style||{},l=i.stroke||t.color||"#5B8FF9",d=i.fill||"#fff";i=is({width:r[0],height:r[1],radius:r[1]/2,fill:d,lineWidth:1.2,stroke:l},i);var v=e.addShape("rect",{attrs:is({x:-r[0]/2,y:-r[1]/2},i),name:"rect-shape"});return e.addShape("circle",{attrs:{x:-r[0]/2,y:0,r:3,fill:i.stroke},name:"circle-shape"}),e.addShape("circle",{attrs:{x:r[0]/2,y:0,r:3,fill:i.stroke},name:"circle-shape2"}),v},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(t,e){var r;t===void 0&&(t={});var i=e.getContainer(),l=i.get("children"),d=l[0],v=l[1],D=l[2],R=((r=t.style)===null||r===void 0?void 0:r.stroke)||"#5B8FF9";R&&(d.attr("stroke",R),v.attr("fill",R),D.attr("fill",R))}},"single-node"),za.registerEdge("fund-polyline",{draw:function(t,e){var r;t===void 0&&(t={});var i=t.startPoint,l=t.endPoint,d=l.y-i.y,v=d!==0?Math.min(500/Math.abs(d),20):0,D=v>15?0:16,R=d<0?D:-D,F={x:i.x+v,y:l.y+R},Z={x:F.x+D,y:l.y},J={x:(F.x-i.x)*(l.y-i.y)/(F.y-i.y)+i.x,y:l.y},it=[["M",i.x,i.y],["L",F.x,F.y],["Q",J.x,J.y,Z.x,Z.y],["L",l.x,l.y]];Math.abs(d)<=5&&(it=[["M",i.x,i.y],["L",l.x,l.y]]);var dt=t.style,bt=dt.stroke||(t==null?void 0:t.colorMap)&&t.colorMap[t.dataType]?(t==null?void 0:t.colorMap)[t==null?void 0:t.dataType]:"#5B8FF9",Dt=((r=t.style)===null||r===void 0?void 0:r.endArrow)||!1;Object(g.isObject)(Dt)&&(Dt.fill=bt);var At=e.addShape("path",{attrs:{path:it,stroke:bt,lineWidth:dt.lineWidth||1.2,endArrow:Dt},name:"path-shape"}),wt=0,zt=8,Kt,$t=Z.x+wt;if((t==null?void 0:t.label)&&(Kt=e.addShape("text",{attrs:{text:t.label,x:$t,y:l.y-zt-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),t==null?void 0:t.dataType){var ee=Kt?Kt.getBBox():{height:0};e.addShape("text",{attrs:{text:t.dataType,x:$t,y:l.y-zt-ee.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(t==null?void 0:t.subLabel)&&e.addShape("text",{attrs:{text:t.subLabel,x:$t,y:l.y+zt+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),At},update:void 0},"single-edge"),za.registerEdge("flow-line",{draw:function(t,e){t===void 0&&(t={});var r=t.startPoint,i=t.endPoint,l=t.style,d=l===void 0?{}:l,v=e.addShape("path",{attrs:{stroke:d.stroke,endArrow:d.endArrow,path:[["M",r.x,r.y],["L",r.x,(r.y+i.y)/2],["L",i.x,(r.y+i.y)/2],["L",i.x,i.y]]}});return v}})},vC=function(n){za.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,r){e===void 0&&(e={});var i=this.getShapeStyle(e),l=e.labelCfg,d=l===void 0?{}:l,v=r.addShape("rect",{attrs:is(is({},i),{x:0,y:0})}),D={fill:"#e6fffb"},R="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(D=is(is({},D),e.leftIcon.style),R=e.leftIcon.img),r.addShape("rect",{attrs:is({x:1,y:1,width:38,height:i.height-2},D)}),r.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:R},name:"image-shape"}),n.enableEdit&&(r.addShape("marker",{attrs:{x:i.width/3,y:i.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:za.Marker.expand},name:"add-item"}),r.addShape("marker",{attrs:{x:i.width*2/3,y:i.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:za.Marker.collapse},name:"remove-item"})),e.label&&r.addShape("text",{attrs:is(is({},d.style),{text:e.label,x:i.width/2,y:i.height/1.5})}),v}},"rect")},hv={style:{fill:"#000",fontSize:12}},gb={stroke:"#91d5ff",endArrow:{path:za.Arrow.vee(10,10)}},pb=[[.5,0],[.5,1]],nf={hover:{stroke:"#1890ff",lineWidth:2}},yb=[120,40],gC={fill:"#91d5ff",stroke:"#40a9ff",radius:2},pC={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},yC={type:"compactBox",direction:"TB",getId:function(n){return n.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},qh={},mC=function(n){var t=n.data,e=n.className,r=n.style,i=n.width,l=n.height,d=n.nodeType,v=d===void 0?"rect":d,D=n.edgeType,R=D===void 0?"flow-line":D,F=n.collapseExpand,Z=F===void 0?!1:F,J=n.nodeSize,it=J===void 0?[120,40]:J,dt=n.nodeLabelCfg,bt=dt===void 0?hv:dt,Dt=n.edgeLabelCfg,At=Dt===void 0?hv:Dt,wt=n.layout,zt=wt===void 0?yC:wt,Kt=n.enableEdit,$t=Kt===void 0?!1:Kt,ee=n.minimapCfg,re=n.nodeStyle,fe=re===void 0?gC:re,ce=n.edgeStyle,Ae=ce===void 0?pC:ce,Te=n.nodeStateStyles,cr=Te===void 0?nf:Te,fr=n.edgeStateStyles,gr=fr===void 0?nf:fr,qr=n.graphRef,kr=n.onReady,Nr=n.loading,Fr=n.loadingTemplate,Ir=n.errorTemplate,Sr=T.a.useRef(null),Xr=T.a.useRef(null),en=yg(Xr);return ih(qh[en],n,Sr),Object(m.useEffect)(function(){var Ar=cv(i,l,Sr);v==="icon-node"&&vC({enableEdit:$t});var Dr=qh[en];return Dr||(Dr=new za.TreeGraph({container:Sr.current,width:Ar[0],height:Ar[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:v,size:it,style:fe,labelCfg:bt},defaultEdge:{type:R,style:Ae,labelCfg:At},nodeStateStyles:cr,edgeStateStyles:gr,layout:zt}),qh[en]=Dr),qr&&(qr.current=Dr),fv(ee,Dr),Ep(Dr,t),kr&&kr(Dr),Z&&Dr.addBehaviors({type:"collapse-expand"},"default"),mg(Dr,n),function(){qh[en]&&(qh[en].destroy(),delete qh[en])}},[]),T.a.createElement(ot,{errorTemplate:Ir},Nr&&T.a.createElement(lt,{loadingTemplate:Fr}),T.a.createElement("div",{className:e,style:r,ref:Sr}))},mb=mC,bC={stroke:"#40a9ff"},OC={type:"dagre",rankdir:"TB",nodesepFunc:function(){return 0},ranksepFunc:function(){return 0},controlPoints:!0},td={},xC=function(n){var t=n.data,e=n.className,r=n.style,i=n.width,l=n.height,d=n.nodeType,v=d===void 0?"modelRect":d,D=n.edgeType,R=D===void 0?"polyline":D,F=n.behaviors,Z=F===void 0?["zoom-canvas","drag-canvas"]:F,J=n.nodeSize,it=J===void 0?yb:J,dt=n.nodeLabelCfg,bt=dt===void 0?hv:dt,Dt=n.edgeLabelCfg,At=Dt===void 0?hv:Dt,wt=n.nodeAnchorPoints,zt=wt===void 0?pb:wt,Kt=n.layout,$t=Kt===void 0?OC:Kt,ee=n.minimapCfg,re=n.nodeStyle,fe=re===void 0?bC:re,ce=n.edgeStyle,Ae=ce===void 0?gb:ce,Te=n.nodeStateStyles,cr=Te===void 0?nf:Te,fr=n.edgeStateStyles,gr=fr===void 0?nf:fr,qr=n.graphRef,kr=n.onReady,Nr=n.loading,Fr=n.loadingTemplate,Ir=n.errorTemplate,Sr=T.a.useRef(null),Xr=T.a.useRef(null),en=yg(Xr);return ih(td[en],n,Sr),Object(m.useEffect)(function(){var Ar=cv(i,l,Sr),Dr=td[en];return Dr||(Dr=new za.Graph({container:Sr.current,width:Ar[0],height:Ar[1],modes:{default:Z},defaultNode:{type:v,size:it,style:fe,anchorPoints:zt,labelCfg:bt},defaultEdge:{type:R,style:Ae,labelCfg:At},nodeStateStyles:cr,edgeStateStyles:gr,layout:$t,fitView:!0}),td[en]=Dr),qr&&(qr.current=Dr),fv(ee,Dr),Ep(Dr,t),kr&&kr(Dr),mg(Dr,n),function(){td[en]&&(td[en].destroy(),delete td[en])}},[]),T.a.createElement(ot,{errorTemplate:Ir},Nr&&T.a.createElement(lt,{loadingTemplate:Fr}),T.a.createElement("div",{className:e,style:r,ref:Sr}))},bb=xC;dC();var EC={stroke:"#40a9ff"},SC=[[0,.5],[1,.5]],MC={stroke:"#ccc",endArrow:{path:za.Arrow.vee(10,10),fill:"#ccc"}},CC={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(){return 100}},ed={},AC=function(n){var t=n.data,e=n.className,r=n.style,i=n.width,l=n.height,d=n.nodeType,v=d===void 0?"card-node":d,D=n.edgeType,R=D===void 0?"cubic-horizontal":D,F=n.behaviors,Z=F===void 0?["zoom-canvas","drag-canvas"]:F,J=n.nodeSize,it=J===void 0?yb:J,dt=n.nodeLabelCfg,bt=dt===void 0?hv:dt,Dt=n.nodeAnchorPoints,At=Dt===void 0?SC:Dt,wt=n.layout,zt=wt===void 0?CC:wt,Kt=n.minimapCfg,$t=n.nodeStyle,ee=$t===void 0?EC:$t,re=n.edgeStyle,fe=re===void 0?MC:re,ce=n.nodeStateStyles,Ae=ce===void 0?nf:ce,Te=n.edgeStateStyles,cr=Te===void 0?nf:Te,fr=n.collapseExpand,gr=fr===void 0?!0:fr,qr=n.handleNodeClick,kr=n.graphRef,Nr=n.onReady,Fr=n.loading,Ir=n.loadingTemplate,Sr=n.errorTemplate,Xr=T.a.useRef(null),en=yg(Xr),Ar=T.a.useRef(null);return ih(ed[en],n,Ar),Object(m.useEffect)(function(){var Dr=cv(i,l,Ar),Tn=ed[en];if(Tn||(Tn=new za.TreeGraph({container:Ar.current,width:Dr[0],height:Dr[1],modes:{default:Z},defaultNode:{type:v,size:it,style:ee,anchorPoints:At,labelCfg:bt},defaultEdge:{type:R,style:fe},nodeStateStyles:Ae,edgeStateStyles:cr,layout:zt}),ed[en]=Tn),kr&&(kr.current=Tn),fv(Kt,Tn),Ep(Tn,t),Nr&&Nr(Tn),gr){var Rn=function(Un){var yi=Un.item;Un.target.get("name")==="collapse-icon"?(Tn.updateItem(yi,{collapsed:!yi.getModel().collapsed}),Tn.layout()):qr&&qr(yi,Tn)};Tn.on("node:click",function(wn){Rn(wn)}),Tn.on("node:touchstart",function(wn){Rn(wn)})}return mg(Tn,n),function(){ed[en]&&(ed[en].destroy(),delete ed[en])}},[]),T.a.createElement(ot,{errorTemplate:Sr},Fr&&T.a.createElement(lt,{loadingTemplate:Ir}),T.a.createElement("div",{className:e,style:r,ref:Ar}))},Ob=AC,TC=[150,30],DC={stroke:"#72CC4A",fill:"#f00"},PC={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},xb={style:{fill:"#000000A6",fontSize:10}},rd={},IC=function(n){var t=n.data,e=n.className,r=n.style,i=n.width,l=n.height,d=n.nodeType,v=d===void 0?"round-rect":d,D=n.edgeType,R=D===void 0?"fund-polyline":D,F=n.behaviors,Z=F===void 0?["zoom-canvas","drag-canvas"]:F,J=n.nodeSize,it=J===void 0?TC:J,dt=n.nodeLabelCfg,bt=dt===void 0?xb:dt,Dt=n.edgeLabelCfg,At=Dt===void 0?xb:Dt,wt=n.nodeAnchorPoints,zt=wt===void 0?pb:wt,Kt=n.layout,$t=Kt===void 0?PC:Kt,ee=n.minimapCfg,re=n.nodeStyle,fe=re===void 0?DC:re,ce=n.edgeStyle,Ae=ce===void 0?gb:ce,Te=n.nodeStateStyles,cr=Te===void 0?nf:Te,fr=n.edgeStateStyles,gr=fr===void 0?nf:fr,qr=n.colorMap,kr=qr===void 0?{}:qr,Nr=n.graphRef,Fr=n.onReady,Ir=n.loading,Sr=n.loadingTemplate,Xr=n.errorTemplate,en=T.a.useRef(null),Ar=T.a.useRef(null),Dr=yg(Ar);return ih(rd[Dr],n,en),Object(m.useEffect)(function(){var Tn=cv(i,l,en),Rn=rd[Dr];Rn||(Rn=new za.Graph({container:en.current,width:Tn[0],height:Tn[1],modes:{default:Z},defaultNode:{type:v,size:it,style:fe,anchorPoints:zt,labelCfg:bt},defaultEdge:{type:R,style:Ae,colorMap:kr,labelCfg:At},nodeStateStyles:cr,edgeStateStyles:gr,layout:$t,fitView:!0}),rd[Dr]=Rn),Nr&&(Nr.current=Rn),fv(ee,Rn);var wn=W(t);Rn.data(wn),Rn.render(),Fr&&Fr(Rn);var Un=Rn.getEdges();return Un.forEach(function(yi){var da=yi.getKeyShape(),vi=da.attr("stroke"),Pa=yi.getTarget();Pa.update({style:{stroke:vi}})}),Rn.fitView(),mg(Rn,n),function(){rd[Dr]&&(rd[Dr].destroy(),delete rd[Dr])}},[]),T.a.createElement(ot,{errorTemplate:Xr},Ir&&T.a.createElement(lt,{loadingTemplate:Sr}),T.a.createElement("div",{className:e,style:r,ref:en}))},Eb=IC,nd={hover:{stroke:"#1890ff",lineWidth:2}},Sb=[120,40],Mb={stroke:"#40a9ff"},Cb=[[0,.5],[1,.5]],af=8,LC={fill:"#fff",fontSize:12},Sp=2,bg={fill:"#000",fontSize:12},jC={show:!1,size:[150,100],type:"keyShape"},dA={style:{fill:"#000",fontSize:12}},vA={style:{stroke:"#ccc"}},Mp=function(){return Mp=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Mp.apply(this,arguments)},Cp=function(n,t,e){var r,i;return e&&e.current&&(r=e.current.offsetWidth,i=e.current.offsetHeight||500),!n&&!r||!t&&!i?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[n||r||500,t||i||500]},RC=function(n,t){if(t){var e=function(i){var l=i.item;i.target.get("name")==="collapse-icon"&&(n.updateItem(l,{collapsed:!l.getModel().collapsed}),n.layout())};n.on("node:click",function(r){e(r)}),n.on("node:touchstart",function(r){e(r)})}},Ap=function(n,t,e){return n===void 0&&(n=0),t===void 0&&(t="vee"),e===void 0&&(e="#ccc"),{endArrow:{path:za.Arrow[t](10,10,n),fill:e,d:n}}},Og=function(n){if(typeof n=="string"||typeof n=="number")return{text:n};var t=n.content,e=n.style;return{text:t,style:e}},of=function(n,t,e){return typeof n=="function"?n(t,e):n||{}},wC=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,e=n=="x"?t:t&3|8;return e.toString(16)})},Tp=function(n){return n.current||(n.current="IndentedTreeGraph-"+wC()),n.current},Dp=function(n,t){var e=W(t);n.data(e),n.render(),n.fitView()},BC=function(n,t){if(n===void 0&&(n={}),!(!t||t.destroyed)){if(n.show){var e=Object.assign(jC,n),r=new za.Minimap(Mp({},e));return t.addPlugin(r),r}return null}},Ab=function(n,t){n===void 0&&(n="right");var e=t[0],r=t[1],i=0,l=0;switch(n){case"top":i=e/2,l=0;break;case"right":i=e,l=r/2;break;case"bottom":i=e/2,l=r;break;case"left":i=0,l=r/2;break}return{x:i,y:l}},ba=function(){return ba=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},ba.apply(this,arguments)},NC=function(){za.registerNode("card",{draw:function(t,e){var r;t===void 0&&(t={});var i=t.title,l=t.body,d=t.footer,v=t.collapseExpand,D=t.children,R=t.markerPosition,F=t.size||[100,30],Z=0;typeof F=="number"&&(F=[F,F]);var J=ba({radius:2,fill:"#fff"},t.style),it=J.stroke||t.color||"#5B8FF9",dt=J.radius,bt=e.addShape("rect",{attrs:ba({x:0,y:0,width:F[0],height:F[1],stroke:it},J),name:"main-box",draggable:!0}),Dt;if(i){var At=Og(i),wt=At.text,zt=At.style,Kt=zt===void 0?t.titleStyle:zt;Dt=e.addShape("text",{attrs:ba(ba({textBaseline:"top",x:af,y:Sp,text:wt},LC),of(Kt,e)),name:"title"})}var $t=(Dt?Dt.getBBox():{height:F[1]/2}).height,ee=e.addShape("rect",{attrs:{x:0,y:0,width:F[0],height:$t+2*Sp,fill:it,radius:[dt,dt,0,0]},name:"title-rect",draggable:!0});Dt==null||Dt.toFront();var re;v&&D&&(re=e.addShape("marker",{attrs:ba(ba(ba({},Ab(R,F)),{r:6,cursor:"pointer",symbol:t.collapsed?za.Marker.expand:za.Marker.collapse,stroke:it,lineWidth:1,fill:"#fff"}),of(t.markerStyle,e,ba(ba({},t),{name:"collapse-icon"}))),name:"collapse-icon"}));var fe=ee.getBBox().height;Z+=fe;var ce;if(l){var Ae=Og(l),wt=Ae.text,Te=Ae.style,cr=Te===void 0?t.bodyStyle:Te;ce=e.addShape("text",{attrs:ba(ba({textBaseline:"top",x:af,y:Z+af,text:wt},bg),of(cr,e)),name:"body"}),Z+=ce.getBBox().height}var fr;if(d){ce&&(Z+=af);var gr=Og(d),qr=gr.text,kr=gr.style,Nr=kr===void 0?t.footerStyle:kr;fr=e.addShape("text",{attrs:ba(ba({textBaseline:"top",x:af,y:Z+af,text:qr},bg),of(Nr,e)),name:"footer-label"});var Fr=fr.getBBox(),Ir=Fr.width,Sr=Fr.height,Xr=0;if(typeof t.footer=="object"&&((r=t.footer)===null||r===void 0?void 0:r.value)){var en=Og({content:t.footer.value,style:t.footer.valueStyle}),Ar=en.text,Dr=en.style,Tn=Dr===void 0?t.footerValueStyle||t.footerStyle:Dr,Rn=e.addShape("text",{attrs:ba(ba({textBaseline:"top",x:Ir+af*2,y:Z+af,text:Ar},bg),of(Tn,e)),name:"footer-value"}),wn=Rn.getBBox().height;Xr=wn}Z+=Math.max(Sr,Xr)}if(ce){var Un=ce.getBBox();console.log($t);var Ir=F[0]>Un.width+16?F[0]:Un.width+16;bt.attr({width:Ir,height:Z+16}),ee==null||ee.attr("width",Ir),re==null||re.attr(ba({},Ab(R,[Ir,Z+$t+2*Sp])))}return bt},update:void 0},"single-node")},FC=function(){za.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(t,e){t===void 0&&(t={});var r=this.getShapeStyle(t),i=t.labelCfg,l=i===void 0?{}:i,d=t.labelStyle,v=t.label,D=t.markerStyle,R=t.showMarker,F=e.addShape("rect",{attrs:ba(ba({},r),{x:0,y:0})}),Z={fill:"#e6fffb"},J;if(t.leftIcon&&(Z=ba(ba({},Z),t.leftIcon.style),J=t.leftIcon.img),e.addShape("rect",{attrs:ba({x:1,y:1,width:38,height:r.height-2},Z)}),e.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:J},name:"image-shape"}),R&&(e.addShape("marker",{attrs:ba({x:r.width/3,y:r.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:za.Marker.expand},of(D,e,ba(ba({},t),{name:"add-item"}))),name:"add-item"}),e.addShape("marker",{attrs:ba({x:r.width*2/3,y:r.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:za.Marker.collapse},of(D,e,ba(ba({},t),{name:"remove-item"}))),name:"remove-item"})),v){var it=d?of(d,e,t):l;e.addShape("text",{attrs:ba({text:v,x:r.width/2,y:r.height/1.5},it)})}return F}},"rect")},sf=function(){return sf=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},sf.apply(this,arguments)},id={};NC();var GC={type:"compactBox",direction:"LR",getId:function(n){return n.id},getHeight:function(){return 60},getWidth:function(){return 16},getVGap:function(){return 16},getHGap:function(){return 100}},UC=function(n){var t=n.data,e=n.className,r=n.style,i=n.width,l=n.height,d=n.nodeType,v=d===void 0?"card":d,D=n.edgeType,R=D===void 0?"cubic-horizontal":D,F=n.behaviors,Z=F===void 0?["zoom-canvas","drag-canvas"]:F,J=n.nodeAnchorPoints,it=J===void 0?Cb:J,dt=n.nodeSize,bt=dt===void 0?Sb:dt,Dt=n.layout,At=n.animate,wt=At===void 0?!0:At,zt=n.nodeStyle,Kt=n.edgeStyle,$t=n.edgeCfg,ee=n.markerStyle,re=n.markerPosition,fe=re===void 0?"right":re,ce=n.nodeStateStyles,Ae=ce===void 0?nd:ce,Te=n.edgeStateStyles,cr=Te===void 0?nd:Te,fr=n.collapseExpand,gr=fr===void 0?!0:fr,qr=n.titleStyle,kr=n.bodyStyle,Nr=n.footerStyle,Fr=n.footerValueStyle,Ir=n.showArrow,Sr=Ir===void 0?!0:Ir,Xr=n.arrowType,en=Xr===void 0?"vee":Xr,Ar=n.onReady,Dr=n.loading,Tn=n.loadingTemplate,Rn=n.errorTemplate,wn=T.a.useRef(null),Un=T.a.useRef(null),yi=Tp(Un);return ih(id[yi],n,wn),Object(m.useEffect)(function(){var da=Cp(i,l,wn),vi=id[yi];return vi||(vi=new za.TreeGraph({container:wn.current,width:da[0],height:da[1],animate:wt,modes:{default:Z},defaultNode:{type:v,size:bt,anchorPoints:it,titleStyle:qr,bodyStyle:kr,footerStyle:Nr,footerValueStyle:Fr,markerStyle:ee,collapseExpand:gr,markerPosition:fe},defaultEdge:{type:R},nodeStateStyles:Ae,edgeStateStyles:cr,layout:sf(sf({},GC),Dt)}),id[yi]=vi),vi.node(function(Pa){return typeof zt=="function"?{style:zt(Pa,vi)}:{style:sf(sf({},Mb),zt)}}),vi.edge(function(Pa){return $t?typeof $t=="function"?$t(Pa,vi):$t:typeof Kt=="function"?{style:Kt(Pa,vi)}:{style:sf(sf({stroke:"#ccc"},Sr&&Ap(0,en)),Kt)}}),gr&&RC(vi,gr),Dp(vi,t),Ar&&Ar(vi),function(){id[yi]&&(id[yi].destroy(),delete id[yi])}},[]),T.a.createElement(ot,{errorTemplate:Rn},Dr&&T.a.createElement(lt,{loadingTemplate:Tn}),T.a.createElement("div",{className:e,style:r,ref:wn}))},Tb=UC,pu=function(){return pu=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},pu.apply(this,arguments)},WC={fill:"#91d5ff",stroke:"#40a9ff",radius:2},Db={type:"compactBox",direction:"TB",getId:function(n){return n.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},ad={},zC=function(n){var t=n.data,e=n.className,r=n.style,i=n.width,l=n.height,d=n.animate,v=d===void 0?!0:d,D=n.nodeType,R=D===void 0?"rect":D,F=n.edgeType,Z=F===void 0?"flow-line":F,J=n.nodeSize,it=J===void 0?Sb:J,dt=n.behaviors,bt=dt===void 0?["drag-canvas","zoom-canvas"]:dt,Dt=n.nodeLabelCfg,At=Dt===void 0?bg:Dt,wt=n.nodeCfg,zt=n.layout,Kt=zt===void 0?Db:zt,$t=n.showMarker,ee=$t===void 0?!1:$t,re=n.showArrow,fe=re===void 0?!0:re,ce=n.arrowType,Ae=ce===void 0?"triangle":ce,Te=n.minimapCfg,cr=n.edgeCfg,fr=n.markerStyle,gr=n.nodeStateStyles,qr=gr===void 0?nd:gr,kr=n.edgeStateStyles,Nr=kr===void 0?nd:kr,Fr=n.onReady,Ir=n.loading,Sr=n.loadingTemplate,Xr=n.errorTemplate,en=T.a.useRef(null),Ar=T.a.useRef(null),Dr=Tp(Ar);ih(ad[Dr],n,en);var Tn=(Array.isArray(it)?it[1]:it)/2;return Object(m.useEffect)(function(){var Rn=Cp(i,l,en);R==="icon-node"&&FC();var wn=ad[Dr];return wn||(wn=new za.TreeGraph({container:en.current,width:Rn[0],height:Rn[1],linkCenter:!0,animate:v,modes:{default:bt},defaultNode:{type:R,size:it,labelCfg:At,markerStyle:fr,showMarker:ee},defaultEdge:{type:Z},nodeStateStyles:qr,edgeStateStyles:Nr,layout:pu(pu({},Db),Kt)}),ad[Dr]=wn),wn.node(function(Un){return typeof wt=="function"?wt(Un,wn):{style:pu(pu({},WC),wt==null?void 0:wt.style)}}),wn.edge(function(Un){return typeof cr=="function"?cr(Un,wn):pu(pu({},cr),{style:pu(pu({stroke:"#91d5ff"},fe&&Ap(Tn,Ae,"#91d5ff")),cr==null?void 0:cr.style)})}),BC(Te,wn),Dp(wn,t),Fr&&Fr(wn),function(){ad[Dr]&&(ad[Dr].destroy(),delete ad[Dr])}},[]),T.a.createElement(ot,{errorTemplate:Xr},Ir&&T.a.createElement(lt,{loadingTemplate:Sr}),T.a.createElement("div",{className:e,style:r,ref:en}))},Pb=zC,yu=function(){return yu=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},yu.apply(this,arguments)},od={},kC={type:"dendrogram",direction:"LR",nodeSep:20,rankSep:100,radial:!0},VC=function(n){var t=n.data,e=n.className,r=n.style,i=n.width,l=n.height,d=n.nodeType,v=d===void 0?"circle":d,D=n.linkCenter,R=D===void 0?!0:D,F=n.edgeType,Z=F===void 0?"line":F,J=n.behaviors,it=J===void 0?["zoom-canvas","drag-canvas"]:J,dt=n.nodeAnchorPoints,bt=dt===void 0?Cb:dt,Dt=n.nodeSize,At=Dt===void 0?30:Dt,wt=n.layout,zt=n.animate,Kt=zt===void 0?!0:zt,$t=n.nodeCfg,ee=n.edgeCfg,re=n.nodeStateStyles,fe=re===void 0?nd:re,ce=n.edgeStateStyles,Ae=ce===void 0?nd:ce,Te=n.showArrow,cr=Te===void 0?!1:Te,fr=n.arrowType,gr=fr===void 0?"triangle":fr,qr=n.onReady,kr=n.loading,Nr=n.loadingTemplate,Fr=n.errorTemplate,Ir=T.a.useRef(null),Sr=T.a.useRef(null),Xr=Tp(Sr);ih(od[Xr],n,Ir);var en=(Array.isArray(At)?At[0]:At)/2;return Object(m.useEffect)(function(){var Ar=Cp(i,l,Ir),Dr=od[Xr];return Dr||(Dr=new za.TreeGraph({container:Ir.current,width:Ar[0],height:Ar[1],animate:Kt,linkCenter:R,modes:{default:it},defaultNode:{type:v,size:At,anchorPoints:bt},defaultEdge:{type:Z},nodeStateStyles:fe,edgeStateStyles:Ae,layout:yu(yu({},kC),wt)}),od[Xr]=Dr),Dr.node(function(Tn){return typeof $t=="function"?$t(Tn,Dr):yu(yu({},$t),{style:yu(yu({},Mb),$t==null?void 0:$t.style)})}),Dr.edge(function(Tn){return typeof ee=="function"?ee(Tn,Dr):{style:yu(yu({stroke:"#ccc"},cr&&Ap(en,gr)),ee==null?void 0:ee.style)}}),Dp(Dr,t),qr&&qr(Dr),function(){od[Xr]&&(od[Xr].destroy(),delete od[Xr])}},[]),T.a.createElement(ot,{errorTemplate:Fr},kr&&T.a.createElement(lt,{loadingTemplate:Nr}),T.a.createElement("div",{className:e,style:r,ref:Ir}))},Ib=VC,gA=A.default={Area:et,Bar:nt,Box:ge,Bullet:Rt,Column:Lt,Funnel:It,Histogram:Nt,Line:Ut,Liquid:We,Heatmap:$e,Pie:xr,Progress:or,Radar:$r,RingProgress:Bn,Rose:ri,Chord:oa,Scatter:Vi,TinyArea:Ji,TinyColumn:pa,TinyLine:zo,Waterfall:ya,WordCloud:ls,Sunburst:li,DualAxes:co,Stock:Gs,RadialBar:se,Gauge:bn,Sankey:Xe,Treemap:hn,MultiView:xn,Mix:xn,BidirectionalBar:sa,OrganizationTreeGraph:mb,DagreGraph:bb,IndentedTree:Ob,DagreFundFlowGraph:Eb,IndentedTreeGraph:Tb,OrganizationalGraph:Pb,RadialGraph:Ib,G2:L.G2,flow:L.flow,measureTextWidth:L.measureTextWidth,adaptors:L.adaptors}},L9IJ:function(jt,A,a){var f=a("XSdR");jt.exports=o;function o(x,O){return f.map(O,function(C){var P=x.inEdges(C);if(P.length){var b=f.reduce(P,function(S,y){var E=x.edge(y),m=x.node(y.v);return{sum:S.sum+E.weight*m.order,weight:S.weight+E.weight}},{sum:0,weight:0});return{v:C,barycenter:b.sum/b.weight,weight:b.weight}}else return{v:C}})}},LKUO:function(jt,A,a){"use strict";var f=a("g1AO"),o=Array.prototype.concat,x=Array.prototype.slice,O=jt.exports=function(P){for(var b=[],S=0,y=P.length;S<y;S++){var E=P[S];f(E)?b=o.call(b,x.call(E)):b.push(E)}return b};O.wrap=function(C){return function(){return C(O(arguments))}}},LbFW:function(jt,A){},LbVa:function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=a("jg4I");function o(x,O){if(x===!1)return{fields:!1};var C=Object(f.get)(x,"fields"),P=Object(f.get)(x,"formatter");return P&&!C&&(C=O),{fields:C,formatter:P}}},LhfN:function(jt,A,a){"use strict";var f=a("CMID"),o=a("jg4I"),x=a("Zdy7"),O=a("tSnd"),C={},P="_INDEX";function b(L,g){if(L.set("canvas",g),L.isGroup()){var j=L.get("children");j.length&&j.forEach(function(U){b(U,g)})}}function S(L,g){if(L.set("timeline",g),L.isGroup()){var j=L.get("children");j.length&&j.forEach(function(U){S(U,g)})}}function y(L,g){var j=L.getChildren();return j.indexOf(g)>=0}function E(L,g,j){j===void 0&&(j=!0),j?g.destroy():(g.set("parent",null),g.set("canvas",null)),Object(O.j)(L.getChildren(),g)}function m(L){return function(g,j){var U=L(g,j);return U===0?g[P]-j[P]:U}}var T=function(L){Object(f.__extends)(g,L);function g(){return L!==null&&L.apply(this,arguments)||this}return g.prototype.isCanvas=function(){return!1},g.prototype.getBBox=function(){var j=Infinity,U=-Infinity,W=Infinity,z=-Infinity,N=[],I=[],B=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});B.length>0?(Object(O.a)(B,function(k){var V=k.getBBox();N.push(V.minX,V.maxX),I.push(V.minY,V.maxY)}),j=Object(o.min)(N),U=Object(o.max)(N),W=Object(o.min)(I),z=Object(o.max)(I)):(j=0,U=0,W=0,z=0);var G={x:j,y:W,minX:j,minY:W,maxX:U,maxY:z,width:U-j,height:z-W};return G},g.prototype.getCanvasBBox=function(){var j=Infinity,U=-Infinity,W=Infinity,z=-Infinity,N=[],I=[],B=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});B.length>0?(Object(O.a)(B,function(k){var V=k.getCanvasBBox();N.push(V.minX,V.maxX),I.push(V.minY,V.maxY)}),j=Object(o.min)(N),U=Object(o.max)(N),W=Object(o.min)(I),z=Object(o.max)(I)):(j=0,U=0,W=0,z=0);var G={x:j,y:W,minX:j,minY:W,maxX:U,maxY:z,width:U-j,height:z-W};return G},g.prototype.getDefaultCfg=function(){var j=L.prototype.getDefaultCfg.call(this);return j.children=[],j},g.prototype.onAttrChange=function(j,U,W){if(L.prototype.onAttrChange.call(this,j,U,W),j==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},g.prototype.applyMatrix=function(j){var U=this.getTotalMatrix();L.prototype.applyMatrix.call(this,j);var W=this.getTotalMatrix();W!==U&&this._applyChildrenMarix(W)},g.prototype._applyChildrenMarix=function(j){var U=this.getChildren();Object(O.a)(U,function(W){W.applyMatrix(j)})},g.prototype.addShape=function(){for(var j=[],U=0;U<arguments.length;U++)j[U]=arguments[U];var W=j[0],z=j[1];Object(O.f)(W)?z=W:z.type=W;var N=C[z.type];N||(N=Object(O.k)(z.type),C[z.type]=N);var I=this.getShapeBase(),B=new I[N](z);return this.add(B),B},g.prototype.addGroup=function(){for(var j=[],U=0;U<arguments.length;U++)j[U]=arguments[U];var W=j[0],z=j[1],N;if(Object(O.d)(W))z?N=new W(z):N=new W({parent:this});else{var I=W||{},B=this.getGroupBase();N=new B(I)}return this.add(N),N},g.prototype.getCanvas=function(){var j;return this.isCanvas()?j=this:j=this.get("canvas"),j},g.prototype.getShape=function(j,U,W){if(!Object(O.b)(this))return null;var z=this.getChildren(),N;if(this.isCanvas())N=this._findShape(z,j,U,W);else{var I=[j,U,1];I=this.invertFromMatrix(I),this.isClipped(I[0],I[1])||(N=this._findShape(z,I[0],I[1],W))}return N},g.prototype._findShape=function(j,U,W,z){for(var N=null,I=j.length-1;I>=0;I--){var B=j[I];if(Object(O.b)(B)&&(B.isGroup()?N=B.getShape(U,W,z):B.isHit(U,W)&&(N=B)),N)break}return N},g.prototype.add=function(j){var U=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),N=j.getParent();N&&E(N,j,!1),j.set("parent",this),U&&b(j,U),z&&S(j,z),W.push(j),j.onCanvasChange("add"),this._applyElementMatrix(j)},g.prototype._applyElementMatrix=function(j){var U=this.getTotalMatrix();U&&j.applyMatrix(U)},g.prototype.getChildren=function(){return this.get("children")},g.prototype.sort=function(){var j=this.getChildren();Object(O.a)(j,function(U,W){return U[P]=W,U}),j.sort(m(function(U,W){return U.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},g.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var j=this.getChildren(),U=j.length-1;U>=0;U--)j[U].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},g.prototype.destroy=function(){this.get("destroyed")||(this.clear(),L.prototype.destroy.call(this))},g.prototype.getFirst=function(){return this.getChildByIndex(0)},g.prototype.getLast=function(){var j=this.getChildren();return this.getChildByIndex(j.length-1)},g.prototype.getChildByIndex=function(j){var U=this.getChildren();return U[j]},g.prototype.getCount=function(){var j=this.getChildren();return j.length},g.prototype.contain=function(j){var U=this.getChildren();return U.indexOf(j)>-1},g.prototype.removeChild=function(j,U){U===void 0&&(U=!0),this.contain(j)&&j.remove(U)},g.prototype.findAll=function(j){var U=[],W=this.getChildren();return Object(O.a)(W,function(z){j(z)&&U.push(z),z.isGroup()&&(U=U.concat(z.findAll(j)))}),U},g.prototype.find=function(j){var U=null,W=this.getChildren();return Object(O.a)(W,function(z){if(j(z)?U=z:z.isGroup()&&(U=z.find(j)),U)return!1}),U},g.prototype.findById=function(j){return this.find(function(U){return U.get("id")===j})},g.prototype.findByClassName=function(j){return this.find(function(U){return U.get("className")===j})},g.prototype.findAllByName=function(j){return this.findAll(function(U){return U.get("name")===j})},g}(x.a);A.a=T},LkkN:function(jt,A,a){"use strict";a.d(A,"a",function(){return S});var f=a("JUmX"),o=a("CMID"),x=a("jg4I"),O=a("bLhI"),C=function(y){Object(o.__extends)(E,y);function E(){return y!==null&&y.apply(this,arguments)||this}return E.prototype.getActiveElements=function(){var m=f.Util.getDelegationObject(this.context);if(m){var T=this.context.view,L=m.component,g=m.item,j=L.get("field");if(j){var U=T.geometries[0].elements;return U.filter(function(W){return W.getModel().data[j]===g.value})}}return[]},E.prototype.getActiveElementLabels=function(){var m=this.context.view,T=this.getActiveElements(),L=m.geometries[0].labelsContainer.getChildren();return L.filter(function(g){return T.find(function(j){return Object(x.isEqual)(j.getData(),g.get("data"))})})},E.prototype.transfrom=function(m){m===void 0&&(m=7.5);var T=this.getActiveElements(),L=this.getActiveElementLabels();T.forEach(function(g,j){var U=L[j],W=g.geometry.coordinate;if(W.isPolar&&W.isTransposed){var z=f.Util.getAngle(g.getModel(),W),N=z.startAngle,I=z.endAngle,B=(N+I)/2,G=m,k=G*Math.cos(B),V=G*Math.sin(B);g.shape.setMatrix(Object(O.a)([["t",k,V]])),U.setMatrix(Object(O.a)([["t",k,V]]))}})},E.prototype.active=function(){this.transfrom()},E.prototype.reset=function(){this.transfrom(0)},E}(f.Action),P=a("Iv2P"),b=function(y){Object(o.__extends)(E,y);function E(){return y!==null&&y.apply(this,arguments)||this}return E.prototype.getAnnotations=function(m){var T=m||this.context.view;return T.getController("annotation").option},E.prototype.getInitialAnnotation=function(){return this.initialAnnotation},E.prototype.init=function(){var m=this,T=this.context.view;T.removeInteraction("tooltip"),T.on("afterchangesize",function(){var L=m.getAnnotations(T);m.initialAnnotation=L})},E.prototype.change=function(m){var T=this.context,L=T.view,g=T.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var j=Object(x.get)(g,["data","data"]);if(g.type.match("legend-item")){var U=f.Util.getDelegationObject(this.context),W=L.getGroupedFields()[0];if(U&&W){var z=U.item;j=L.getData().find(function(B){return B[W]===z.value})}}if(j){var N=Object(x.get)(m,"annotations",[]),I=Object(x.get)(m,"statistic",{});L.getController("annotation").clear(!0),Object(x.each)(N,function(B){typeof B=="object"&&L.annotation()[B.type](B)}),Object(P.b)(L,{statistic:I,plotType:"pie"},j),L.render(!0)}},E.prototype.reset=function(){var m=this.context.view,T=m.getController("annotation");T.clear(!0);var L=this.getInitialAnnotation();Object(x.each)(L,function(g){m.annotation()[g.type](g)}),m.render(!0)},E}(f.Action),S="pie-statistic";Object(f.registerAction)(S,b),Object(f.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(f.registerAction)("pie-legend",C),Object(f.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},Lkm0:function(jt,A,a){"use strict";var f=a("CMID"),o=a("jg4I"),x=a("4Qiu"),O=a("08EK"),C={},P="_INDEX";function b(L,g){if(L.set("canvas",g),L.isGroup()){var j=L.get("children");j.length&&j.forEach(function(U){b(U,g)})}}function S(L,g){if(L.set("timeline",g),L.isGroup()){var j=L.get("children");j.length&&j.forEach(function(U){S(U,g)})}}function y(L,g){var j=L.getChildren();return j.indexOf(g)>=0}function E(L,g,j){j===void 0&&(j=!0),j?g.destroy():(g.set("parent",null),g.set("canvas",null)),Object(O.j)(L.getChildren(),g)}function m(L){return function(g,j){var U=L(g,j);return U===0?g[P]-j[P]:U}}var T=function(L){Object(f.__extends)(g,L);function g(){return L!==null&&L.apply(this,arguments)||this}return g.prototype.isCanvas=function(){return!1},g.prototype.getBBox=function(){var j=Infinity,U=-Infinity,W=Infinity,z=-Infinity,N=[],I=[],B=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});B.length>0?(Object(O.a)(B,function(k){var V=k.getBBox();N.push(V.minX,V.maxX),I.push(V.minY,V.maxY)}),j=Object(o.min)(N),U=Object(o.max)(N),W=Object(o.min)(I),z=Object(o.max)(I)):(j=0,U=0,W=0,z=0);var G={x:j,y:W,minX:j,minY:W,maxX:U,maxY:z,width:U-j,height:z-W};return G},g.prototype.getCanvasBBox=function(){var j=Infinity,U=-Infinity,W=Infinity,z=-Infinity,N=[],I=[],B=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});B.length>0?(Object(O.a)(B,function(k){var V=k.getCanvasBBox();N.push(V.minX,V.maxX),I.push(V.minY,V.maxY)}),j=Object(o.min)(N),U=Object(o.max)(N),W=Object(o.min)(I),z=Object(o.max)(I)):(j=0,U=0,W=0,z=0);var G={x:j,y:W,minX:j,minY:W,maxX:U,maxY:z,width:U-j,height:z-W};return G},g.prototype.getDefaultCfg=function(){var j=L.prototype.getDefaultCfg.call(this);return j.children=[],j},g.prototype.onAttrChange=function(j,U,W){if(L.prototype.onAttrChange.call(this,j,U,W),j==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},g.prototype.applyMatrix=function(j){var U=this.getTotalMatrix();L.prototype.applyMatrix.call(this,j);var W=this.getTotalMatrix();W!==U&&this._applyChildrenMarix(W)},g.prototype._applyChildrenMarix=function(j){var U=this.getChildren();Object(O.a)(U,function(W){W.applyMatrix(j)})},g.prototype.addShape=function(){for(var j=[],U=0;U<arguments.length;U++)j[U]=arguments[U];var W=j[0],z=j[1];Object(O.f)(W)?z=W:z.type=W;var N=C[z.type];N||(N=Object(O.k)(z.type),C[z.type]=N);var I=this.getShapeBase(),B=new I[N](z);return this.add(B),B},g.prototype.addGroup=function(){for(var j=[],U=0;U<arguments.length;U++)j[U]=arguments[U];var W=j[0],z=j[1],N;if(Object(O.d)(W))z?N=new W(z):N=new W({parent:this});else{var I=W||{},B=this.getGroupBase();N=new B(I)}return this.add(N),N},g.prototype.getCanvas=function(){var j;return this.isCanvas()?j=this:j=this.get("canvas"),j},g.prototype.getShape=function(j,U,W){if(!Object(O.b)(this))return null;var z=this.getChildren(),N;if(this.isCanvas())N=this._findShape(z,j,U,W);else{var I=[j,U,1];I=this.invertFromMatrix(I),this.isClipped(I[0],I[1])||(N=this._findShape(z,I[0],I[1],W))}return N},g.prototype._findShape=function(j,U,W,z){for(var N=null,I=j.length-1;I>=0;I--){var B=j[I];if(Object(O.b)(B)&&(B.isGroup()?N=B.getShape(U,W,z):B.isHit(U,W)&&(N=B)),N)break}return N},g.prototype.add=function(j){var U=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),N=j.getParent();N&&E(N,j,!1),j.set("parent",this),U&&b(j,U),z&&S(j,z),W.push(j),j.onCanvasChange("add"),this._applyElementMatrix(j)},g.prototype._applyElementMatrix=function(j){var U=this.getTotalMatrix();U&&j.applyMatrix(U)},g.prototype.getChildren=function(){return this.get("children")},g.prototype.sort=function(){var j=this.getChildren();Object(O.a)(j,function(U,W){return U[P]=W,U}),j.sort(m(function(U,W){return U.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},g.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var j=this.getChildren(),U=j.length-1;U>=0;U--)j[U].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},g.prototype.destroy=function(){this.get("destroyed")||(this.clear(),L.prototype.destroy.call(this))},g.prototype.getFirst=function(){return this.getChildByIndex(0)},g.prototype.getLast=function(){var j=this.getChildren();return this.getChildByIndex(j.length-1)},g.prototype.getChildByIndex=function(j){var U=this.getChildren();return U[j]},g.prototype.getCount=function(){var j=this.getChildren();return j.length},g.prototype.contain=function(j){var U=this.getChildren();return U.indexOf(j)>-1},g.prototype.removeChild=function(j,U){U===void 0&&(U=!0),this.contain(j)&&j.remove(U)},g.prototype.findAll=function(j){var U=[],W=this.getChildren();return Object(O.a)(W,function(z){j(z)&&U.push(z),z.isGroup()&&(U=U.concat(z.findAll(j)))}),U},g.prototype.find=function(j){var U=null,W=this.getChildren();return Object(O.a)(W,function(z){if(j(z)?U=z:z.isGroup()&&(U=z.find(j)),U)return!1}),U},g.prototype.findById=function(j){return this.find(function(U){return U.get("id")===j})},g.prototype.findByClassName=function(j){return this.find(function(U){return U.get("className")===j})},g.prototype.findAllByName=function(j){return this.findAll(function(U){return U.get("name")===j})},g}(x.a);A.a=T},LxUj:function(jt,A,a){"use strict";var f=function(){function o(x,O){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=x,this.name=x,this.originalEvent=O,this.timeStamp=O.timeStamp}return o.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.prototype.toString=function(){var x=this.type;return"[Event (type="+x+")]"},o.prototype.save=function(){},o.prototype.restore=function(){},o}();A.a=f},"M1/f":function(jt,A,a){"use strict";a.d(A,"c",function(){return B}),a.d(A,"b",function(){return Q}),a.d(A,"a",function(){return K});var f=a("RtOK");function o(_){var Y=0,q=_.children,ot=q&&q.length;if(!ot)Y=1;else for(;--ot>=0;)Y+=q[ot].value;_.value=Y}var x=function(){return this.eachAfter(o)},O=a("YoOg"),C=function(_,Y){var q=-1,ot=Object(O.a)(this),ft;try{for(ot.s();!(ft=ot.n()).done;){var ct=ft.value;_.call(Y,ct,++q,this)}}catch(rt){ot.e(rt)}finally{ot.f()}return this},P=function(_,Y){for(var q=this,ot=[q],ft,ct,rt=-1;q=ot.pop();)if(_.call(Y,q,++rt,this),ft=q.children)for(ct=ft.length-1;ct>=0;--ct)ot.push(ft[ct]);return this},b=function(_,Y){for(var q=this,ot=[q],ft=[],ct,rt,gt,Et=-1;q=ot.pop();)if(ft.push(q),ct=q.children)for(rt=0,gt=ct.length;rt<gt;++rt)ot.push(ct[rt]);for(;q=ft.pop();)_.call(Y,q,++Et,this);return this},S=function(_,Y){var q=-1,ot=Object(O.a)(this),ft;try{for(ot.s();!(ft=ot.n()).done;){var ct=ft.value;if(_.call(Y,ct,++q,this))return ct}}catch(rt){ot.e(rt)}finally{ot.f()}},y=function(_){return this.eachAfter(function(Y){for(var q=+_(Y.data)||0,ot=Y.children,ft=ot&&ot.length;--ft>=0;)q+=ot[ft].value;Y.value=q})},E=function(_){return this.eachBefore(function(Y){Y.children&&Y.children.sort(_)})},m=function(_){for(var Y=this,q=T(Y,_),ot=[Y];Y!==q;)Y=Y.parent,ot.push(Y);for(var ft=ot.length;_!==q;)ot.splice(ft,0,_),_=_.parent;return ot};function T(_,Y){if(_===Y)return _;var q=_.ancestors(),ot=Y.ancestors(),ft=null;for(_=q.pop(),Y=ot.pop();_===Y;)ft=_,_=q.pop(),Y=ot.pop();return ft}var L=function(){for(var _=this,Y=[_];_=_.parent;)Y.push(_);return Y},g=function(){return Array.from(this)},j=function(){var _=[];return this.eachBefore(function(Y){Y.children||_.push(Y)}),_},U=function(){var _=this,Y=[];return _.each(function(q){q!==_&&Y.push({source:q.parent,target:q})}),Y},W=a("/wRx"),z=a.n(W),N=z.a.mark(I);function I(){var _,Y,q,ot,ft,ct;return z.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:_=this,q=[_];case 1:Y=q.reverse(),q=[];case 2:if(!(_=Y.pop())){gt.next=8;break}return gt.next=5,_;case 5:if(ot=_.children)for(ft=0,ct=ot.length;ft<ct;++ft)q.push(ot[ft]);gt.next=2;break;case 8:if(q.length){gt.next=1;break}case 9:case"end":return gt.stop()}},N,this)}function B(_,Y){_ instanceof Map?(_=[void 0,_],Y===void 0&&(Y=V)):Y===void 0&&(Y=k);for(var q=new K(_),ot,ft=[q],ct,rt,gt,Et;ot=ft.pop();)if((rt=Y(ot.data))&&(Et=(rt=Array.from(rt)).length))for(ot.children=rt,gt=Et-1;gt>=0;--gt)ft.push(ct=rt[gt]=new K(rt[gt])),ct.parent=ot,ct.depth=ot.depth+1;return q.eachBefore(Q)}function G(){return B(this).eachBefore(tt)}function k(_){return _.children}function V(_){return Array.isArray(_)?_[1]:null}function tt(_){_.data.value!==void 0&&(_.value=_.data.value),_.data=_.data.data}function Q(_){var Y=0;do _.height=Y;while((_=_.parent)&&_.height<++Y)}function K(_){this.data=_,this.depth=this.height=0,this.parent=null}K.prototype=B.prototype=Object(f.a)({constructor:K,count:x,each:C,eachAfter:b,eachBefore:P,find:S,sum:y,sort:E,path:m,ancestors:L,descendants:g,leaves:j,links:U,copy:G},Symbol.iterator,I)},M6f7:function(jt,A,a){"use strict";function f(L){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(j){return typeof j}:f=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},f(L)}Object.defineProperty(A,"__esModule",{value:!0}),A.default=A.detectAllCycles=A.detectAllDirectedCycle=A.detectAllUndirectedCycle=void 0;var o=b(a("Af9/")),x=P(a("nrny")),O=a("Eqze");function C(){if(typeof WeakMap!="function")return null;var L=new WeakMap;return C=function(){return L},L}function P(L){if(L&&L.__esModule)return L;if(L===null||f(L)!=="object"&&typeof L!="function")return{default:L};var g=C();if(g&&g.has(L))return g.get(L);var j={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in L)if(Object.prototype.hasOwnProperty.call(L,W)){var z=U?Object.getOwnPropertyDescriptor(L,W):null;z&&(z.get||z.set)?Object.defineProperty(j,W,z):j[W]=L[W]}return j.default=L,g&&g.set(L,j),j}function b(L){return L&&L.__esModule?L:{default:L}}var S=function(g){var j=null,U=g.nodes,W=U===void 0?[]:U,z={},N={},I={},B={};W.forEach(function(V){N[V.id]=V});for(var G={enter:function(tt){var Q=tt.current,K=tt.previous;if(I[Q]){j={};for(var _=Q,Y=K;Y!==Q;)j[_]=Y,_=Y,Y=z[Y];j[_]=Y}else I[Q]=Q,delete N[Q],z[Q]=K},leave:function(tt){var Q=tt.current;B[Q]=Q,delete I[Q]},allowTraversal:function(tt){var Q=tt.next;return j?!1:!B[Q]}};Object.keys(N).length;){var k=Object.keys(N)[0];(0,o.default)(g,k,G)}return j},y=function(g,j,U){var W,z;U===void 0&&(U=!0);for(var N=[],I=(0,x.default)(g,!1),B=0,G=I;B<G.length;B++){var k=G[B];if(!!k.length)for(var V=k[0],tt=V.id,Q=[V],K=(W={},W[tt]=V,W),_=(z={},z[tt]=new Set,z);Q.length>0;)for(var Y=Q.pop(),q=Y.id,ot=(0,O.getNeighbors)(q,g.edges),ft=function(gt){var Et,Gt=ot[gt],Yt=g.nodes.find(function(lt){return lt.id===Gt});if(Gt===q)N.push((Et={},Et[Gt]=Y,Et));else if(!(Gt in _))K[Gt]=Y,Q.push(Yt),_[Gt]=new Set([Y]);else if(!_[q].has(Yt)){for(var Xt=!0,vt=[Yt,Y],mt=K[q];_[Gt].size&&!_[Gt].has(mt)&&(vt.push(mt),mt!==K[mt.id]);)mt=K[mt.id];if(vt.push(mt),j&&U?(Xt=!1,vt.findIndex(function(lt){return j.indexOf(lt.id)>-1})>-1&&(Xt=!0)):j&&!U&&vt.findIndex(function(lt){return j.indexOf(lt.id)>-1})>-1&&(Xt=!1),Xt){for(var ut={},st=1;st<vt.length;st+=1)ut[vt[st-1].id]=vt[st];vt.length&&(ut[vt[vt.length-1].id]=vt[0]),N.push(ut)}_[Gt].add(Y)}},ct=0;ct<ot.length;ct+=1)ft(ct)}return N};A.detectAllUndirectedCycle=y;var E=function(g,j,U){U===void 0&&(U=!0);for(var W=[],z=new Set,N=[],I=[],B={},G={},k=function(mt){for(var ut=[mt];ut.length>0;){var st=ut.pop();z.has(st)&&(z.delete(st),N[st.id].forEach(function(lt){ut.push(lt)}),N[st.id].clear())}},V=function vt(mt,ut,st){var lt=!1;if(j&&U===!1&&j.indexOf(mt.id)>-1)return lt;W.push(mt),z.add(mt);for(var Tt=st[mt.id],Ot=0;Ot<Tt.length;Ot+=1){var et=B[Tt[Ot]];if(et===ut){for(var H={},pt=1;pt<W.length;pt+=1)H[W[pt-1].id]=W[pt];W.length&&(H[W[W.length-1].id]=W[0]),I.push(H),lt=!0}else z.has(et)||vt(et,ut,st)&&(lt=!0)}if(lt)k(mt);else for(var Ot=0;Ot<Tt.length;Ot+=1){var et=B[Tt[Ot]];N[et.id].has(mt)||N[et.id].add(mt)}return W.pop(),lt},tt=g.nodes,Q=tt===void 0?[]:tt,K=0;K<Q.length;K+=1){var _=Q[K],Y=_.id;G[Y]=K,B[K]=_}if(j&&U)for(var q=function(mt){var ut=j[mt];G[Q[mt].id]=G[ut],G[ut]=0,B[0]=Q.find(function(st){return st.id===ut}),B[G[Q[mt].id]]=Q[mt]},K=0;K<j.length;K++)q(K);for(var ot=function(mt){for(var ut,st,lt=Infinity,Tt=0;Tt<mt.length;Tt+=1)for(var Ot=mt[Tt],et=0;et<Ot.length;et++){var H=G[Ot[et].id];H<lt&&(lt=H,st=Tt)}for(var pt=mt[st],nt=[],Tt=0;Tt<pt.length;Tt+=1){var yt=pt[Tt];nt[yt.id]=[];for(var Pt=0,Rt=(0,O.getNeighbors)(yt.id,g.edges,"target").filter(function(Lt){return pt.map(function(Ct){return Ct.id}).indexOf(Lt)>-1});Pt<Rt.length;Pt++){var Wt=Rt[Pt];Wt===yt.id&&!(U===!1&&j.indexOf(yt.id)>-1)?I.push((ut={},ut[yt.id]=yt,ut)):nt[yt.id].push(G[Wt])}}return{component:pt,adjList:nt,minIdx:lt}},ft=0;ft<Q.length;){var ct=Q.filter(function(vt){return G[vt.id]>=ft}),rt=(0,x.detectStrongConnectComponents)({nodes:ct,edges:g.edges}).filter(function(vt){return vt.length>1});if(rt.length===0)break;var gt=ot(rt),Et=gt.minIdx,Gt=gt.adjList,Yt=gt.component;if(Yt.length>1){Yt.forEach(function(vt){N[vt.id]=new Set});var Xt=B[Et];if(j&&U&&j.indexOf(Xt.id)===-1)return I;V(Xt,Xt,Gt),ft=Et+1}else break}return I};A.detectAllDirectedCycle=E;var m=function(g,j,U,W){return W===void 0&&(W=!0),j?E(g,U,W):y(g,U,W)};A.detectAllCycles=m;var T=S;A.default=T},MGR1:function(jt,A){jt.exports=a;function a(f,o){return f[0]=-o[0],f[1]=-o[1],f}},MPYE:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SensorTabIndex=A.SensorClassName=A.SizeSensorId=void 0;var f="size-sensor-id";A.SizeSensorId=f;var o="size-sensor-object";A.SensorClassName=o;var x="-1";A.SensorTabIndex=x},MbSy:function(jt,A,a){var f=a("cvn4"),o=Math.max;function x(O,C,P){return C=o(C===void 0?O.length-1:C,0),function(){for(var b=arguments,S=-1,y=o(b.length-C,0),E=Array(y);++S<y;)E[S]=b[C+S];S=-1;for(var m=Array(C+1);++S<C;)m[S]=b[S];return m[C]=P(E),f(O,this,m)}}jt.exports=x},MciM:function(jt,A,a){"use strict";a.d(A,"a",function(){return x});var f=a("99LQ"),o=a("oq+b");function x(O){for(var C=new o.a,P=f.e.fromValues(O[0],O[1],O[2]),b=f.e.fromValues(O[0],O[1],O[2]),S=3;S<O.length;){var y=O[S++],E=O[S++],m=O[S++];y<P[0]&&(P[0]=y),E<P[1]&&(P[1]=E),m<P[2]&&(P[2]=m),y>b[0]&&(b[0]=y),E>b[1]&&(b[1]=E),m>b[2]&&(b[2]=m)}return C.setMinMax(P,b),C}},Mz7Q:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.unmanaged=void 0;var f=a("9L8m"),o=a("rMkn"),x=a("ZLnY");function O(){return function(C,P,b){var S=new o.Metadata(f.UNMANAGED_TAG,!0);x.tagParameter(C,P,b,S)}}A.unmanaged=O},N2cT:function(jt,A,a){"use strict";a.d(A,"d",function(){return C}),a.d(A,"k",function(){return P}),a.d(A,"c",function(){return b}),a.d(A,"a",function(){return S}),a.d(A,"j",function(){return y}),a.d(A,"i",function(){return E}),a.d(A,"h",function(){return m}),a.d(A,"g",function(){return T}),a.d(A,"f",function(){return L}),a.d(A,"b",function(){return g}),a.d(A,"e",function(){return j});var f=a("CMID"),o=a("jg4I"),x=a("VI+R"),O=a("nHjW");function C(U){var W=U.chart,z=U.options,N=z.legend,I=z.colorField,B=z.seriesField;return N===!1?W.legend(!1):(I||B)&&W.legend(I||B,N),U}function P(U){var W=U.chart,z=U.options,N=z.tooltip;return N!==void 0&&W.tooltip(N),U}function b(U){var W=U.chart,z=U.options,N=z.interactions;return Object(o.each)(N,function(I){I.enable===!1?W.removeInteraction(I.type):W.interaction(I.type,I.cfg||{})}),U}function S(U){var W=U.chart,z=U.options,N=z.animation;return typeof N=="boolean"?W.animate(N):W.animate(!0),Object(o.each)(W.geometries,function(I){I.animate(N)}),U}function y(U){var W=U.chart,z=U.options,N=z.theme;return N&&W.theme(N),U}function E(U){var W=U.chart,z=U.options,N=z.state;return N&&Object(o.each)(W.geometries,function(I){I.state(N)}),U}function m(U){var W=U.chart,z=U.options,N=z.slider;return W.option("slider",N),U}function T(U){var W=U.chart,z=U.options,N=z.scrollbar;return W.option("scrollbar",N),U}function L(U,W){return function(z){var N=z.chart,I=z.options,B={};return Object(o.each)(U,function(G,k){B[k]=Object(O.r)(G,x.a)}),B=Object(O.c)({},W,I.meta,B),N.scale(B),z}}function g(U){return function(W){var z=W.chart,N=W.options,I=z.getController("annotation");return Object(o.each)(Object(f.__spreadArrays)(N.annotations||[],U||[]),function(B){I.annotation(B)}),W}}function j(U){var W=U.chart,z=U.options,N=z.yAxis,I=z.limitInPlot,B=I;return Object(o.isObject)(N)&&Object(o.isNil)(I)&&(Object.values(Object(O.r)(N,["min","max","minLimit","maxLimit"])).some(function(G){return!Object(o.isNil)(G)})?B=!0:B=!1),W.limitInPlot=B,U}},NA5Q:function(jt,A){function a(f,o){return f<o}jt.exports=a},NFwm:function(jt,A,a){var f=a("TxJF"),o=a("1ImO"),x=a("hQ5t"),O=a("+Gi7");function C(P,b){var S=O(P)?f:o;return S(P,x(b,3))}jt.exports=C},NG7W:function(jt,A,a){"use strict";a.d(A,"a",function(){return C});var f=a("CMID"),o=a("LbVa"),x=a("nHjW"),O=a("cnw0");function C(P){var b=P.options,S=b.polygon,y=b.xField,E=b.yField,m=b.seriesField,T=b.tooltip,L=Object(o.a)(T,[y,E,m]),g=L.fields,j=L.formatter;return S?Object(O.a)(Object(x.c)({},P,{options:{type:"polygon",colorField:m,tooltipFields:g,mapping:Object(f.__assign)({tooltip:j},S)}})):P}},NNdr:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=1,o=function(){return"".concat(f++)};A.default=o},NOzu:function(jt,A,a){"use strict";a.r(A),a.d(A,"Line",function(){return E}),a.d(A,"Text",function(){return T}),a.d(A,"Arc",function(){return g}),a.d(A,"Region",function(){return U}),a.d(A,"Image",function(){return z}),a.d(A,"DataMarker",function(){return I}),a.d(A,"DataRegion",function(){return G}),a.d(A,"RegionFilter",function(){return V}),a.d(A,"Shape",function(){return Q}),a.d(A,"Html",function(){return q});var f=a("CMID"),o=a("jg4I"),x=a("VZin"),O=a("2DZl"),C=a("x3DA"),P=a("8Loy");function b(ot,ft){var ct=ft.x,rt=ft.y,gt=ft.content,Et=ft.style,Gt=ft.id,Yt=ft.name,Xt=ft.rotate,vt=ft.maxLength,mt=ft.autoEllipsis,ut=ft.isVertical,st=ft.ellipsisPosition,lt=ft.background,Tt=ot.addGroup({id:Gt+"-group",name:Yt+"-group",attrs:{x:ct,y:rt}}),Ot=Tt.addShape({type:"text",id:Gt,name:Yt,attrs:Object(f.__assign)({x:0,y:0,text:gt},Et)}),et=Object(P.c)(Object(o.get)(lt,"padding",0));if(vt&&mt){var H=vt-(et[1]+et[3]);Object(O.a)(!ut,Ot,H,st)}if(lt){var pt=Object(o.get)(lt,"style",{}),nt=Ot.getCanvasBBox(),yt=nt.minX,Pt=nt.minY,Rt=nt.width,Wt=nt.height,Vt=Tt.addShape("rect",{id:Gt+"-bg",name:Gt+"-bg",attrs:Object(f.__assign)({x:yt-et[3],y:Pt-et[0],width:Rt+et[1]+et[3],height:Wt+et[0]+et[2]},pt)});Vt.toBack()}Object(C.c)(Tt,ct,rt),Object(C.b)(Tt,Xt,ct,rt)}var S=a("qhN0"),y=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:S.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:S.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:S.a.lineColor,lineWidth:1}}}})},ft.prototype.renderInner=function(ct){this.renderLine(ct),this.get("text")&&this.renderLabel(ct)},ft.prototype.renderLine=function(ct){var rt=this.get("start"),gt=this.get("end"),Et=this.get("style");this.addShape(ct,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(f.__assign)({x1:rt.x,y1:rt.y,x2:gt.x,y2:gt.y},Et)})},ft.prototype.getLabelPoint=function(ct,rt,gt){var Et;return gt==="start"?Et=0:gt==="center"?Et=.5:Object(o.isString)(gt)&&gt.indexOf("%")!==-1?Et=parseInt(gt,10)/100:Object(o.isNumber)(gt)?Et=gt:Et=1,(Et>1||Et<0)&&(Et=1),{x:Object(P.g)(ct.x,rt.x,Et),y:Object(P.g)(ct.y,rt.y,Et)}},ft.prototype.renderLabel=function(ct){var rt=this.get("text"),gt=this.get("start"),Et=this.get("end"),Gt=rt.position,Yt=rt.content,Xt=rt.style,vt=rt.offsetX,mt=rt.offsetY,ut=rt.autoRotate,st=rt.maxLength,lt=rt.autoEllipsis,Tt=rt.ellipsisPosition,Ot=rt.background,et=rt.isVertical,H=et===void 0?!1:et,pt=this.getLabelPoint(gt,Et,Gt),nt=pt.x+vt,yt=pt.y+mt,Pt={id:this.getElementId("line-text"),name:"annotation-line-text",x:nt,y:yt,content:Yt,style:Xt,maxLength:st,autoEllipsis:lt,ellipsisPosition:Tt,background:Ot,isVertical:H};if(ut){var Rt=[Et.x-gt.x,Et.y-gt.y];Pt.rotate=Math.atan2(Rt[1],Rt[0])}b(ct,Pt)},ft}(x.a),E=y,m=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:S.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:S.a.fontFamily}}})},ft.prototype.setLocation=function(ct){this.set("x",ct.x),this.set("y",ct.y),this.resetLocation()},ft.prototype.renderInner=function(ct){var rt=this.getLocation(),gt=rt.x,Et=rt.y,Gt=this.get("content"),Yt=this.get("style"),Xt=this.getElementId("text"),vt=this.get("name")+"-text",mt=this.get("maxLength"),ut=this.get("autoEllipsis"),st=this.get("isVertical"),lt=this.get("ellipsisPosition"),Tt=this.get("background"),Ot=this.get("rotate"),et={id:Xt,name:vt,x:gt,y:Et,content:Gt,style:Yt,maxLength:mt,autoEllipsis:ut,isVertical:st,ellipsisPosition:lt,background:Tt,rotate:Ot};b(ct,et)},ft.prototype.resetLocation=function(){var ct=this.getElementByLocalId("text-group");if(ct){var rt=this.getLocation(),gt=rt.x,Et=rt.y,Gt=this.get("rotate");Object(C.c)(ct,gt,Et),Object(C.b)(ct,Gt,gt,Et)}},ft}(x.a),T=m,L=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},ft.prototype.renderInner=function(ct){this.renderArc(ct)},ft.prototype.getArcPath=function(){var ct=this.getLocation(),rt=ct.center,gt=ct.radius,Et=ct.startAngle,Gt=ct.endAngle,Yt=Object(P.e)(rt,gt,Et),Xt=Object(P.e)(rt,gt,Gt),vt=Gt-Et>Math.PI?1:0,mt=[["M",Yt.x,Yt.y]];if(Gt-Et==Math.PI*2){var ut=Object(P.e)(rt,gt,Et+Math.PI);mt.push(["A",gt,gt,0,vt,1,ut.x,ut.y]),mt.push(["A",gt,gt,0,vt,1,Xt.x,Xt.y])}else mt.push(["A",gt,gt,0,vt,1,Xt.x,Xt.y]);return mt},ft.prototype.renderArc=function(ct){var rt=this.getArcPath(),gt=this.get("style");this.addShape(ct,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(f.__assign)({path:rt},gt)})},ft}(x.a),g=L,j=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:S.a.regionColor,opacity:.4}}})},ft.prototype.renderInner=function(ct){this.renderRegion(ct)},ft.prototype.renderRegion=function(ct){var rt=this.get("start"),gt=this.get("end"),Et=this.get("style"),Gt=Object(P.k)({start:rt,end:gt});this.addShape(ct,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.__assign)({x:Gt.x,y:Gt.y,width:Gt.width,height:Gt.height},Et)})},ft}(x.a),U=j,W=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},ft.prototype.renderInner=function(ct){this.renderImage(ct)},ft.prototype.getImageAttrs=function(){var ct=this.get("start"),rt=this.get("end"),gt=this.get("style"),Et=Object(P.k)({start:ct,end:rt}),Gt=this.get("src");return Object(f.__assign)({x:Et.x,y:Et.y,img:Gt,width:Et.width,height:Et.height},gt)},ft.prototype.renderImage=function(ct){this.addShape(ct,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},ft}(x.a),z=W,N=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:S.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:S.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:S.a.fontFamily}}}})},ft.prototype.renderInner=function(ct){Object(o.get)(this.get("line"),"display")&&this.renderLine(ct),Object(o.get)(this.get("text"),"display")&&this.renderText(ct),Object(o.get)(this.get("point"),"display")&&this.renderPoint(ct),this.get("autoAdjust")&&this.autoAdjust(ct)},ft.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},ft.prototype.renderPoint=function(ct){var rt=this.getShapeAttrs().point;this.addShape(ct,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:rt})},ft.prototype.renderLine=function(ct){var rt=this.getShapeAttrs().line;this.addShape(ct,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:rt})},ft.prototype.renderText=function(ct){var rt=this.getShapeAttrs().text,gt=rt.x,Et=rt.y,Gt=rt.text,Yt=Object(f.__rest)(rt,["x","y","text"]),Xt=this.get("text"),vt=Xt.background,mt=Xt.maxLength,ut=Xt.autoEllipsis,st=Xt.isVertival,lt=Xt.ellipsisPosition,Tt={x:gt,y:Et,id:this.getElementId("text"),name:"annotation-text",content:Gt,style:Yt,background:vt,maxLength:mt,autoEllipsis:ut,isVertival:st,ellipsisPosition:lt};b(ct,Tt)},ft.prototype.autoAdjust=function(ct){var rt=this.get("direction"),gt=this.get("x"),Et=this.get("y"),Gt=Object(o.get)(this.get("line"),"length",0),Yt=this.get("coordinateBBox"),Xt=ct.getBBox(),vt=Xt.minX,mt=Xt.maxX,ut=Xt.minY,st=Xt.maxY,lt=ct.findById(this.getElementId("text-group")),Tt=ct.findById(this.getElementId("text")),Ot=ct.findById(this.getElementId("line"));if(!!Yt){if(lt){if(gt+vt<=Yt.minX){var et=Yt.minX-(gt+vt);Object(C.c)(lt,lt.attr("x")+et,lt.attr("y"))}if(gt+mt>=Yt.maxX){var et=gt+mt-Yt.maxX;Object(C.c)(lt,lt.attr("x")-et,lt.attr("y"))}}if(rt==="upward"&&Et+ut<=Yt.minY||rt!=="upward"&&Et+st>=Yt.maxY){var H=void 0,pt=void 0;rt==="upward"&&Et+ut<=Yt.minY?(H="top",pt=1):(H="bottom",pt=-1),Tt.attr("textBaseline",H),Ot&&Ot.attr("path",[["M",0,0],["L",0,Gt*pt]]),Object(C.c)(lt,lt.attr("x"),(Gt+2)*pt)}}},ft.prototype.getShapeAttrs=function(){var ct=Object(o.get)(this.get("line"),"display"),rt=Object(o.get)(this.get("point"),"style",{}),gt=Object(o.get)(this.get("line"),"style",{}),Et=Object(o.get)(this.get("text"),"style",{}),Gt=this.get("direction"),Yt=ct?Object(o.get)(this.get("line"),"length",0):0,Xt=Gt==="upward"?-1:1;return{point:Object(f.__assign)({x:0,y:0},rt),line:Object(f.__assign)({path:[["M",0,0],["L",0,Yt*Xt]]},gt),text:Object(f.__assign)({x:0,y:(Yt+2)*Xt,text:Object(o.get)(this.get("text"),"content",""),textBaseline:Gt==="upward"?"bottom":"top"},Et)}},ft}(x.a),I=N,B=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:S.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:S.a.textColor,fontFamily:S.a.fontFamily}}}})},ft.prototype.renderInner=function(ct){var rt=Object(o.get)(this.get("region"),"style",{}),gt=Object(o.get)(this.get("text"),"style",{}),Et=this.get("lineLength")||0,Gt=this.get("points");if(!!Gt.length){var Yt=Object(P.j)(Gt),Xt=[];Xt.push(["M",Gt[0].x,Yt.minY-Et]),Gt.forEach(function(mt){Xt.push(["L",mt.x,mt.y])}),Xt.push(["L",Gt[Gt.length-1].x,Gt[Gt.length-1].y-Et]),this.addShape(ct,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.__assign)({path:Xt},rt)});var vt=Object(f.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Yt.minX+Yt.maxX)/2,y:Yt.minY-Et},this.get("text"));b(ct,vt)}},ft}(x.a),G=B,k=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},ft.prototype.renderInner=function(ct){var rt=this,gt=this.get("start"),Et=this.get("end"),Gt=this.addGroup(ct,{id:this.getElementId("region-filter"),capture:!1});Object(o.each)(this.get("shapes"),function(Xt,vt){var mt=Xt.get("type"),ut=Object(o.clone)(Xt.attr());rt.adjustShapeAttrs(ut),rt.addShape(Gt,{id:rt.getElementId("shape-"+mt+"-"+vt),capture:!1,type:mt,attrs:ut})});var Yt=Object(P.k)({start:gt,end:Et});Gt.setClip({type:"rect",attrs:{x:Yt.minX,y:Yt.minY,width:Yt.width,height:Yt.height}})},ft.prototype.adjustShapeAttrs=function(ct){var rt=this.get("color");ct.fill&&(ct.fill=ct.fillStyle=rt),ct.stroke=ct.strokeStyle=rt},ft}(x.a),V=k,tt=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"shape",draw:o.noop})},ft.prototype.renderInner=function(ct){var rt=this.get("render");Object(o.isFunction)(rt)&&rt(ct)},ft}(x.a),Q=tt,K=a("m8xh"),_=a("+On4"),Y=function(ot){Object(f.__extends)(ft,ot);function ft(){return ot!==null&&ot.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var ct=ot.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},ct),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},ft.prototype.render=function(){var ct=this.getContainer(),rt=this.get("html");Object(P.a)(ct);var gt=Object(o.isFunction)(rt)?rt(ct):rt;Object(o.isElement)(gt)?ct.appendChild(gt):Object(o.isString)(gt)&&ct.appendChild(Object(K.b)(gt)),this.resetPosition()},ft.prototype.resetPosition=function(){var ct=this.getContainer(),rt=this.getLocation(),gt=rt.x,Et=rt.y,Gt=this.get("alignX"),Yt=this.get("alignY"),Xt=this.get("offsetX"),vt=this.get("offsetY"),mt=Object(K.d)(ct),ut=Object(K.c)(ct),st={x:gt,y:Et};Gt==="middle"?st.x-=Math.round(mt/2):Gt==="right"&&(st.x-=Math.round(mt)),Yt==="middle"?st.y-=Math.round(ut/2):Yt==="bottom"&&(st.y-=Math.round(ut)),Xt&&(st.x+=Xt),vt&&(st.y+=vt),Object(K.e)(ct,{position:"absolute",left:st.x+"px",top:st.y+"px",zIndex:this.get("zIndex")})},ft}(_.a),q=Y},NbNK:function(jt,A){function a(f,o,x,O,C){return C(f,function(P,b,S){x=O?(O=!1,P):o(x,P,b,S)}),x}jt.exports=a},Npd2:function(jt,A,a){var f=a("3FqU"),o=a("ZU2r"),x=a("sCLo"),O=a("qXph"),C=a("zftb"),P=a("VL8K"),b=a("+Gi7"),S=a("wvSg"),y=a("lDzS"),E=a("wmqP"),m=a("E5vS"),T=a("LtJ/"),L=a("lOrw"),g=a("TKkZ"),j=a("k7N2");function U(W,z,N,I,B,G,k){var V=g(W,N),tt=g(z,N),Q=k.get(tt);if(Q){f(W,N,Q);return}var K=G?G(V,tt,N+"",W,z,k):void 0,_=K===void 0;if(_){var Y=b(tt),q=!Y&&y(tt),ot=!Y&&!q&&L(tt);K=tt,Y||q||ot?b(V)?K=V:S(V)?K=O(V):q?(_=!1,K=o(tt,!0)):ot?(_=!1,K=x(tt,!0)):K=[]:T(tt)||P(tt)?(K=V,P(V)?K=j(V):(!m(V)||E(V))&&(K=C(tt))):_=!1}_&&(k.set(tt,K),B(K,tt,I,G,k),k.delete(tt)),f(W,N,K)}jt.exports=U},Nqgf:function(jt,A,a){"use strict";a.r(A),a.d(A,"Base",function(){return S}),a.d(A,"Circle",function(){return E}),a.d(A,"Ellipse",function(){return L}),a.d(A,"Image",function(){return U}),a.d(A,"Line",function(){return B}),a.d(A,"Marker",function(){return Q}),a.d(A,"Path",function(){return ut}),a.d(A,"Polygon",function(){return Tt}),a.d(A,"Polyline",function(){return et}),a.d(A,"Rect",function(){return Pt}),a.d(A,"Text",function(){return Wt});var f={};a.r(f),a.d(f,"Base",function(){return S}),a.d(f,"Circle",function(){return E}),a.d(f,"Ellipse",function(){return L}),a.d(f,"Image",function(){return U}),a.d(f,"Line",function(){return B}),a.d(f,"Marker",function(){return Q}),a.d(f,"Path",function(){return ut}),a.d(f,"Polygon",function(){return Tt}),a.d(f,"Polyline",function(){return et}),a.d(f,"Rect",function(){return Pt}),a.d(f,"Text",function(){return Wt});var o=a("CMID"),x=a("U8wd"),O=a("bsNZ"),C=a("K0hn"),P=a("nl+T"),b=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Lt.prototype.getShapeBase=function(){return f},Lt.prototype.getGroupBase=function(){return P.a},Lt.prototype.onCanvasChange=function(Ct){Object(C.h)(this,Ct)},Lt.prototype.calculateBBox=function(){var Ct=this.get("type"),at=this.getHitLineWidth(),It=Object(x.getBBoxMethod)(Ct),Ft=It(this),xt=at/2,Nt=Ft.x-xt,Ht=Ft.y-xt,Bt=Ft.x+Ft.width+xt,Ut=Ft.y+Ft.height+xt;return{x:Nt,minX:Nt,y:Ht,minY:Ht,width:Ft.width+at,height:Ft.height+at,maxX:Bt,maxY:Ut}},Lt.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},Lt.prototype.isStroke=function(){return!!this.attrs.stroke},Lt.prototype._applyClip=function(Ct,at){at&&(Ct.save(),Object(C.a)(Ct,at),at.createPath(Ct),Ct.restore(),Ct.clip(),at._afterDraw())},Lt.prototype.draw=function(Ct,at){var It=this.cfg.clipShape;if(at){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var Ft=this.getCanvasBBox();if(!Object(O.f)(at,Ft)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}Ct.save(),Object(C.a)(Ct,this),this._applyClip(Ct,It),this.drawPath(Ct),Ct.restore(),this._afterDraw()},Lt.prototype.getCanvasViewBox=function(){var Ct=this.cfg.canvas;return Ct?Ct.getViewRange():null},Lt.prototype.cacheCanvasBBox=function(){var Ct=this.getCanvasViewBox();if(Ct){var at=this.getCanvasBBox(),It=Object(O.f)(at,Ct);this.set("isInView",It),It?this.set("cacheCanvasBBox",at):this.set("cacheCanvasBBox",null)}},Lt.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},Lt.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},Lt.prototype.drawPath=function(Ct){this.createPath(Ct),this.strokeAndFill(Ct),this.afterDrawPath(Ct)},Lt.prototype.fill=function(Ct){Ct.fill()},Lt.prototype.stroke=function(Ct){Ct.stroke()},Lt.prototype.strokeAndFill=function(Ct){var at=this.attrs,It=at.lineWidth,Ft=at.opacity,xt=at.strokeOpacity,Nt=at.fillOpacity;this.isFill()&&(!Object(O.i)(Nt)&&Nt!==1?(Ct.globalAlpha=Nt,this.fill(Ct),Ct.globalAlpha=Ft):this.fill(Ct)),this.isStroke()&&It>0&&(!Object(O.i)(xt)&&xt!==1&&(Ct.globalAlpha=xt),this.stroke(Ct)),this.afterDrawPath(Ct)},Lt.prototype.createPath=function(Ct){},Lt.prototype.afterDrawPath=function(Ct){},Lt.prototype.isInShape=function(Ct,at){var It=this.isStroke(),Ft=this.isFill(),xt=this.getHitLineWidth();return this.isInStrokeOrPath(Ct,at,It,Ft,xt)},Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){return!1},Lt.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var Ct=this.attrs;return Ct.lineWidth+Ct.lineAppendWidth},Lt}(x.AbstractShape),S=b,y=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{x:0,y:0,r:0})},Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){var Nt=this.attr(),Ht=Nt.x,Bt=Nt.y,Ut=Nt.r,Jt=xt/2,oe=Object(O.b)(Ht,Bt,Ct,at);return Ft&&It?oe<=Ut+Jt:Ft?oe<=Ut:It?oe>=Ut-Jt&&oe<=Ut+Jt:!1},Lt.prototype.createPath=function(Ct){var at=this.attr(),It=at.x,Ft=at.y,xt=at.r;Ct.beginPath(),Ct.arc(It,Ft,xt,0,Math.PI*2,!1),Ct.closePath()},Lt}(S),E=y;function m(Vt,Lt,Ct,at){return Vt/(Ct*Ct)+Lt/(at*at)}var T=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{x:0,y:0,rx:0,ry:0})},Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){var Nt=this.attr(),Ht=xt/2,Bt=Nt.x,Ut=Nt.y,Jt=Nt.rx,oe=Nt.ry,ge=(Ct-Bt)*(Ct-Bt),Ce=(at-Ut)*(at-Ut);return Ft&&It?m(ge,Ce,Jt+Ht,oe+Ht)<=1:Ft?m(ge,Ce,Jt,oe)<=1:It?m(ge,Ce,Jt-Ht,oe-Ht)>=1&&m(ge,Ce,Jt+Ht,oe+Ht)<=1:!1},Lt.prototype.createPath=function(Ct){var at=this.attr(),It=at.x,Ft=at.y,xt=at.rx,Nt=at.ry;if(Ct.beginPath(),Ct.ellipse)Ct.ellipse(It,Ft,xt,Nt,0,0,Math.PI*2,!1);else{var Ht=xt>Nt?xt:Nt,Bt=xt>Nt?1:xt/Nt,Ut=xt>Nt?Nt/xt:1;Ct.save(),Ct.translate(It,Ft),Ct.scale(Bt,Ut),Ct.arc(0,0,Ht,0,Math.PI*2),Ct.restore(),Ct.closePath()}},Lt}(S),L=T;function g(Vt){return Vt instanceof HTMLElement&&Object(O.k)(Vt.nodeName)&&Vt.nodeName.toUpperCase()==="CANVAS"}var j=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{x:0,y:0,width:0,height:0})},Lt.prototype.initAttrs=function(Ct){this._setImage(Ct.img)},Lt.prototype.isStroke=function(){return!1},Lt.prototype.isOnlyHitBox=function(){return!0},Lt.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var Ct=this.get("canvas");Ct?Ct.draw():this.createPath(this.get("context"))}},Lt.prototype._setImage=function(Ct){var at=this,It=this.attrs;if(Object(O.k)(Ct)){var Ft=new Image;Ft.onload=function(){if(at.destroyed)return!1;at.attr("img",Ft),at.set("loading",!1),at._afterLoading();var xt=at.get("callback");xt&&xt.call(at)},Ft.crossOrigin="Anonymous",Ft.src=Ct,this.set("loading",!0)}else Ct instanceof Image?(It.width||(It.width=Ct.width),It.height||(It.height=Ct.height)):g(Ct)&&(It.width||(It.width=Number(Ct.getAttribute("width"))),It.height||(It.height,Number(Ct.getAttribute("height"))))},Lt.prototype.onAttrChange=function(Ct,at,It){Vt.prototype.onAttrChange.call(this,Ct,at,It),Ct==="img"&&this._setImage(at)},Lt.prototype.createPath=function(Ct){if(this.get("loading")){this.set("toDraw",!0),this.set("context",Ct);return}var at=this.attr(),It=at.x,Ft=at.y,xt=at.width,Nt=at.height,Ht=at.sx,Bt=at.sy,Ut=at.swidth,Jt=at.sheight,oe=at.img;(oe instanceof Image||g(oe))&&(!Object(O.i)(Ht)&&!Object(O.i)(Bt)&&!Object(O.i)(Ut)&&!Object(O.i)(Jt)?Ct.drawImage(oe,Ht,Bt,Ut,Jt,It,Ft,xt,Nt):Ct.drawImage(oe,It,Ft,xt,Nt))},Lt}(S),U=j,W=a("9pBU");function z(Vt,Lt,Ct,at,It,Ft,xt){var Nt=Math.min(Vt,Ct),Ht=Math.max(Vt,Ct),Bt=Math.min(Lt,at),Ut=Math.max(Lt,at),Jt=It/2;return Ft>=Nt-Jt&&Ft<=Ht+Jt&&xt>=Bt-Jt&&xt<=Ut+Jt?W.c.pointToLine(Vt,Lt,Ct,at,Ft,xt)<=It/2:!1}var N=a("Oru/"),I=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Lt.prototype.initAttrs=function(Ct){this.setArrow()},Lt.prototype.onAttrChange=function(Ct,at,It){Vt.prototype.onAttrChange.call(this,Ct,at,It),this.setArrow()},Lt.prototype.setArrow=function(){var Ct=this.attr(),at=Ct.x1,It=Ct.y1,Ft=Ct.x2,xt=Ct.y2,Nt=Ct.startArrow,Ht=Ct.endArrow;Nt&&N.b(this,Ct,Ft,xt,at,It),Ht&&N.a(this,Ct,at,It,Ft,xt)},Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){if(!It||!xt)return!1;var Nt=this.attr(),Ht=Nt.x1,Bt=Nt.y1,Ut=Nt.x2,Jt=Nt.y2;return z(Ht,Bt,Ut,Jt,xt,Ct,at)},Lt.prototype.createPath=function(Ct){var at=this.attr(),It=at.x1,Ft=at.y1,xt=at.x2,Nt=at.y2,Ht=at.startArrow,Bt=at.endArrow,Ut={dx:0,dy:0},Jt={dx:0,dy:0};Ht&&Ht.d&&(Ut=N.c(It,Ft,xt,Nt,at.startArrow.d)),Bt&&Bt.d&&(Jt=N.c(It,Ft,xt,Nt,at.endArrow.d)),Ct.beginPath(),Ct.moveTo(It+Ut.dx,Ft+Ut.dy),Ct.lineTo(xt-Jt.dx,Nt-Jt.dy)},Lt.prototype.afterDrawPath=function(Ct){var at=this.get("startArrowShape"),It=this.get("endArrowShape");at&&at.draw(Ct),It&&It.draw(Ct)},Lt.prototype.getTotalLength=function(){var Ct=this.attr(),at=Ct.x1,It=Ct.y1,Ft=Ct.x2,xt=Ct.y2;return W.c.length(at,It,Ft,xt)},Lt.prototype.getPoint=function(Ct){var at=this.attr(),It=at.x1,Ft=at.y1,xt=at.x2,Nt=at.y2;return W.c.pointAt(It,Ft,xt,Nt,Ct)},Lt}(S),B=I,G=a("jg4I"),k=a("WOt1"),V={circle:function(Lt,Ct,at){return[["M",Lt-at,Ct],["A",at,at,0,1,0,Lt+at,Ct],["A",at,at,0,1,0,Lt-at,Ct]]},square:function(Lt,Ct,at){return[["M",Lt-at,Ct-at],["L",Lt+at,Ct-at],["L",Lt+at,Ct+at],["L",Lt-at,Ct+at],["Z"]]},diamond:function(Lt,Ct,at){return[["M",Lt-at,Ct],["L",Lt,Ct-at],["L",Lt+at,Ct],["L",Lt,Ct+at],["Z"]]},triangle:function(Lt,Ct,at){var It=at*Math.sin(1/3*Math.PI);return[["M",Lt-at,Ct+It],["L",Lt,Ct-It],["L",Lt+at,Ct+It],["Z"]]},"triangle-down":function(Lt,Ct,at){var It=at*Math.sin(1/3*Math.PI);return[["M",Lt-at,Ct-It],["L",Lt+at,Ct-It],["L",Lt,Ct+It],["Z"]]}},tt=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.initAttrs=function(Ct){this._resetParamsCache()},Lt.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Lt.prototype.onAttrChange=function(Ct,at,It){Vt.prototype.onAttrChange.call(this,Ct,at,It),["symbol","x","y","r","radius"].indexOf(Ct)!==-1&&this._resetParamsCache()},Lt.prototype.isOnlyHitBox=function(){return!0},Lt.prototype._getR=function(Ct){return Object(G.isNil)(Ct.r)?Ct.radius:Ct.r},Lt.prototype._getPath=function(){var Ct=this.attr(),at=Ct.x,It=Ct.y,Ft=Ct.symbol||"circle",xt=this._getR(Ct),Nt,Ht;if(Object(O.h)(Ft))Nt=Ft,Ht=Nt(at,It,xt),Ht=Object(k.d)(Ht);else{if(Nt=Lt.Symbols[Ft],!Nt)return console.warn(Ft+" marker is not supported."),null;Ht=Nt(at,It,xt)}return Ht},Lt.prototype.createPath=function(Ct){var at=this._getPath(),It=this.get("paramsCache");Object(C.e)(this,Ct,{path:at},It)},Lt.Symbols=V,Lt}(S),Q=tt;function K(Vt,Lt,Ct){var at=Object(x.getOffScreenContext)();return Vt.createPath(at),at.isPointInPath(Lt,Ct)}var _=1e-6;function Y(Vt){return Math.abs(Vt)<_?0:Vt<0?-1:1}function q(Vt,Lt,Ct){return(Ct[0]-Vt[0])*(Lt[1]-Vt[1])==(Lt[0]-Vt[0])*(Ct[1]-Vt[1])&&Math.min(Vt[0],Lt[0])<=Ct[0]&&Ct[0]<=Math.max(Vt[0],Lt[0])&&Math.min(Vt[1],Lt[1])<=Ct[1]&&Ct[1]<=Math.max(Vt[1],Lt[1])}function ot(Vt,Lt,Ct){var at=!1,It=Vt.length;if(It<=2)return!1;for(var Ft=0;Ft<It;Ft++){var xt=Vt[Ft],Nt=Vt[(Ft+1)%It];if(q(xt,Nt,[Lt,Ct]))return!0;Y(xt[1]-Ct)>0!=Y(Nt[1]-Ct)>0&&Y(Lt-(Ct-xt[1])*(xt[0]-Nt[0])/(xt[1]-Nt[1])-xt[0])<0&&(at=!at)}return at}var ft=a("sxZn"),ct=a("gCNn");function rt(Vt,Lt,Ct,at,It,Ft,xt,Nt){var Ht=(Math.atan2(Nt-Lt,xt-Vt)+Math.PI*2)%(Math.PI*2);if(Ht<at||Ht>It)return!1;var Bt={x:Vt+Ct*Math.cos(Ht),y:Lt+Ct*Math.sin(Ht)};return Object(O.b)(Bt.x,Bt.y,xt,Nt)<=Ft/2}var gt=ft.a.transform;function Et(Vt){for(var Lt=!1,Ct=Vt.length,at=0;at<Ct;at++){var It=Vt[at],Ft=It[0];if(Ft==="C"||Ft==="A"||Ft==="Q"){Lt=!0;break}}return Lt}function Gt(Vt,Lt,Ct,at,It){for(var Ft=!1,xt=Lt/2,Nt=0;Nt<Vt.length;Nt++){var Ht=Vt[Nt],Bt=Ht.currentPoint,Ut=Ht.params,Jt=Ht.prePoint,oe=Ht.box;if(!(oe&&!Object(O.e)(oe.x-xt,oe.y-xt,oe.width+Lt,oe.height+Lt,Ct,at))){switch(Ht.command){case"L":case"Z":Ft=z(Jt[0],Jt[1],Bt[0],Bt[1],Lt,Ct,at);break;case"Q":var ge=W.e.pointDistance(Jt[0],Jt[1],Ut[1],Ut[2],Ut[3],Ut[4],Ct,at);Ft=ge<=Lt/2;break;case"C":var Ce=W.b.pointDistance(Jt[0],Jt[1],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5],Ut[6],Ct,at,It);Ft=Ce<=Lt/2;break;case"A":var Ie=Ht.arcParams,We=Ie.cx,lr=Ie.cy,rr=Ie.rx,$e=Ie.ry,Ue=Ie.startAngle,ir=Ie.endAngle,xr=Ie.xRotation,nr=[Ct,at,1],tn=rr>$e?rr:$e,bn=rr>$e?1:rr/$e,Ur=rr>$e?$e/rr:1,Le=gt(null,[["t",-We,-lr],["r",-xr],["s",1/bn,1/Ur]]);ct.transformMat3(nr,nr,Le),Ft=rt(0,0,tn,Ue,ir,Lt,nr[0],nr[1]);break;default:break}if(Ft)break}}return Ft}function Yt(Vt){for(var Lt=Vt.length,Ct=[],at=[],It=[],Ft=0;Ft<Lt;Ft++){var xt=Vt[Ft],Nt=xt[0];Nt==="M"?(It.length&&(at.push(It),It=[]),It.push([xt[1],xt[2]])):Nt==="Z"?It.length&&(Ct.push(It),It=[]):It.push([xt[1],xt[2]])}return It.length>0&&at.push(It),{polygons:Ct,polylines:at}}var Xt=Object(o.__assign)({hasArc:Et,extractPolygons:Yt,isPointInStroke:Gt},x.PathUtil);function vt(Vt,Lt,Ct){for(var at=!1,It=0;It<Vt.length;It++){var Ft=Vt[It];if(at=ot(Ft,Lt,Ct),at)break}return at}var mt=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{startArrow:!1,endArrow:!1})},Lt.prototype.initAttrs=function(Ct){this._setPathArr(Ct.path),this.setArrow()},Lt.prototype.onAttrChange=function(Ct,at,It){Vt.prototype.onAttrChange.call(this,Ct,at,It),Ct==="path"&&this._setPathArr(at),this.setArrow()},Lt.prototype._setPathArr=function(Ct){this.attrs.path=Object(k.d)(Ct);var at=Xt.hasArc(Ct);this.set("hasArc",at),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Lt.prototype.getSegments=function(){var Ct=this.get("segements");return Ct||(Ct=Object(k.e)(this.attr("path")),this.set("segments",Ct)),Ct},Lt.prototype.setArrow=function(){var Ct=this.attr(),at=Ct.startArrow,It=Ct.endArrow;if(at){var Ft=this.getStartTangent();N.b(this,Ct,Ft[0][0],Ft[0][1],Ft[1][0],Ft[1][1])}if(It){var Ft=this.getEndTangent();N.a(this,Ct,Ft[0][0],Ft[0][1],Ft[1][0],Ft[1][1])}},Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){var Nt=this.getSegments(),Ht=this.get("hasArc"),Bt=!1;if(It){var Ut=this.getTotalLength();Bt=Xt.isPointInStroke(Nt,xt,Ct,at,Ut)}if(!Bt&&Ft)if(Ht)Bt=K(this,Ct,at);else{var Jt=this.attr("path"),oe=Xt.extractPolygons(Jt);Bt=vt(oe.polygons,Ct,at)||vt(oe.polylines,Ct,at)}return Bt},Lt.prototype.createPath=function(Ct){var at=this.attr(),It=this.get("paramsCache");Object(C.e)(this,Ct,at,It)},Lt.prototype.afterDrawPath=function(Ct){var at=this.get("startArrowShape"),It=this.get("endArrowShape");at&&at.draw(Ct),It&&It.draw(Ct)},Lt.prototype.getTotalLength=function(){var Ct=this.get("totalLength");return Object(G.isNil)(Ct)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):Ct},Lt.prototype.getPoint=function(Ct){var at=this.get("tCache");at||(this._calculateCurve(),this._setTcache(),at=this.get("tCache"));var It,Ft,xt=this.get("curve");if(!at||at.length===0)return xt?{x:xt[0][1],y:xt[0][2]}:null;Object(G.each)(at,function(Ut,Jt){Ct>=Ut[0]&&Ct<=Ut[1]&&(It=(Ct-Ut[0])/(Ut[1]-Ut[0]),Ft=Jt)});var Nt=xt[Ft];if(Object(G.isNil)(Nt)||Object(G.isNil)(Ft))return null;var Ht=Nt.length,Bt=xt[Ft+1];return W.b.pointAt(Nt[Ht-2],Nt[Ht-1],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5],Bt[6],It)},Lt.prototype._calculateCurve=function(){var Ct=this.attr().path;this.set("curve",Xt.pathToCurve(Ct))},Lt.prototype._setTcache=function(){var Ct=0,at=0,It=[],Ft,xt,Nt,Ht,Bt=this.get("curve");if(!!Bt){if(Object(G.each)(Bt,function(Ut,Jt){Nt=Bt[Jt+1],Ht=Ut.length,Nt&&(Ct+=W.b.length(Ut[Ht-2],Ut[Ht-1],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6])||0)}),this.set("totalLength",Ct),Ct===0){this.set("tCache",[]);return}Object(G.each)(Bt,function(Ut,Jt){Nt=Bt[Jt+1],Ht=Ut.length,Nt&&(Ft=[],Ft[0]=at/Ct,xt=W.b.length(Ut[Ht-2],Ut[Ht-1],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6]),at+=xt||0,Ft[1]=at/Ct,It.push(Ft))}),this.set("tCache",It)}},Lt.prototype.getStartTangent=function(){var Ct=this.getSegments(),at;if(Ct.length>1){var It=Ct[0].currentPoint,Ft=Ct[1].currentPoint,xt=Ct[1].startTangent;at=[],xt?(at.push([It[0]-xt[0],It[1]-xt[1]]),at.push([It[0],It[1]])):(at.push([Ft[0],Ft[1]]),at.push([It[0],It[1]]))}return at},Lt.prototype.getEndTangent=function(){var Ct=this.getSegments(),at=Ct.length,It;if(at>1){var Ft=Ct[at-2].currentPoint,xt=Ct[at-1].currentPoint,Nt=Ct[at-1].endTangent;It=[],Nt?(It.push([xt[0]-Nt[0],xt[1]-Nt[1]]),It.push([xt[0],xt[1]])):(It.push([Ft[0],Ft[1]]),It.push([xt[0],xt[1]]))}return It},Lt}(S),ut=mt;function st(Vt,Lt,Ct,at,It){var Ft=Vt.length;if(Ft<2)return!1;for(var xt=0;xt<Ft-1;xt++){var Nt=Vt[xt][0],Ht=Vt[xt][1],Bt=Vt[xt+1][0],Ut=Vt[xt+1][1];if(z(Nt,Ht,Bt,Ut,Lt,Ct,at))return!0}if(It){var Jt=Vt[0],oe=Vt[Ft-1];if(z(Jt[0],Jt[1],oe[0],oe[1],Lt,Ct,at))return!0}return!1}var lt=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){var Nt=this.attr().points,Ht=!1;return It&&(Ht=st(Nt,xt,Ct,at,!0)),!Ht&&Ft&&(Ht=ot(Nt,Ct,at)),Ht},Lt.prototype.createPath=function(Ct){var at=this.attr(),It=at.points;if(!(It.length<2)){Ct.beginPath();for(var Ft=0;Ft<It.length;Ft++){var xt=It[Ft];Ft===0?Ct.moveTo(xt[0],xt[1]):Ct.lineTo(xt[0],xt[1])}Ct.closePath()}},Lt}(S),Tt=lt,Ot=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{startArrow:!1,endArrow:!1})},Lt.prototype.initAttrs=function(Ct){this.setArrow()},Lt.prototype.onAttrChange=function(Ct,at,It){Vt.prototype.onAttrChange.call(this,Ct,at,It),this.setArrow(),["points"].indexOf(Ct)!==-1&&this._resetCache()},Lt.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Lt.prototype.setArrow=function(){var Ct=this.attr(),at=this.attrs,It=at.points,Ft=at.startArrow,xt=at.endArrow,Nt=It.length,Ht=It[0][0],Bt=It[0][1],Ut=It[Nt-1][0],Jt=It[Nt-1][1];Ft&&N.b(this,Ct,It[1][0],It[1][1],Ht,Bt),xt&&N.a(this,Ct,It[Nt-2][0],It[Nt-2][1],Ut,Jt)},Lt.prototype.isFill=function(){return!1},Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){if(!It||!xt)return!1;var Nt=this.attr().points;return st(Nt,xt,Ct,at,!1)},Lt.prototype.isStroke=function(){return!0},Lt.prototype.createPath=function(Ct){var at=this.attr(),It=at.points,Ft=at.startArrow,xt=at.endArrow,Nt=It.length;if(!(It.length<2)){var Ht=It[0][0],Bt=It[0][1],Ut=It[Nt-1][0],Jt=It[Nt-1][1];if(Ft&&Ft.d){var oe=N.c(Ht,Bt,It[1][0],It[1][1],Ft.d);Ht+=oe.dx,Bt+=oe.dy}if(xt&&xt.d){var oe=N.c(It[Nt-2][0],It[Nt-2][1],Ut,Jt,xt.d);Ut-=oe.dx,Jt-=oe.dy}Ct.beginPath(),Ct.moveTo(Ht,Bt);for(var ge=0;ge<Nt-1;ge++){var Ce=It[ge];Ct.lineTo(Ce[0],Ce[1])}Ct.lineTo(Ut,Jt)}},Lt.prototype.afterDrawPath=function(Ct){var at=this.get("startArrowShape"),It=this.get("endArrowShape");at&&at.draw(Ct),It&&It.draw(Ct)},Lt.prototype.getTotalLength=function(){var Ct=this.attr().points,at=this.get("totalLength");return Object(G.isNil)(at)?(this.set("totalLength",W.d.length(Ct)),this.get("totalLength")):at},Lt.prototype.getPoint=function(Ct){var at=this.attr().points,It=this.get("tCache");It||(this._setTcache(),It=this.get("tCache"));var Ft,xt;return Object(G.each)(It,function(Nt,Ht){Ct>=Nt[0]&&Ct<=Nt[1]&&(Ft=(Ct-Nt[0])/(Nt[1]-Nt[0]),xt=Ht)}),W.c.pointAt(at[xt][0],at[xt][1],at[xt+1][0],at[xt+1][1],Ft)},Lt.prototype._setTcache=function(){var Ct=this.attr().points;if(!(!Ct||Ct.length===0)){var at=this.getTotalLength();if(!(at<=0)){var It=0,Ft=[],xt,Nt;Object(G.each)(Ct,function(Ht,Bt){Ct[Bt+1]&&(xt=[],xt[0]=It/at,Nt=W.c.length(Ht[0],Ht[1],Ct[Bt+1][0],Ct[Bt+1][1]),It+=Nt,xt[1]=It/at,Ft.push(xt))}),this.set("tCache",Ft)}}},Lt.prototype.getStartTangent=function(){var Ct=this.attr().points,at=[];return at.push([Ct[1][0],Ct[1][1]]),at.push([Ct[0][0],Ct[0][1]]),at},Lt.prototype.getEndTangent=function(){var Ct=this.attr().points,at=Ct.length-1,It=[];return It.push([Ct[at-1][0],Ct[at-1][1]]),It.push([Ct[at][0],Ct[at][1]]),It},Lt}(S),et=Ot,H=a("aTcL");function pt(Vt,Lt,Ct,at,It,Ft,xt){var Nt=It/2;return Object(O.e)(Vt-Nt,Lt-Nt,Ct,It,Ft,xt)||Object(O.e)(Vt+Ct-Nt,Lt-Nt,It,at,Ft,xt)||Object(O.e)(Vt+Nt,Lt+at-Nt,Ct,It,Ft,xt)||Object(O.e)(Vt-Nt,Lt+Nt,It,at,Ft,xt)}function nt(Vt,Lt,Ct,at,It,Ft,xt,Nt){var Ht=Ft/2;return z(Vt+It,Lt,Vt+Ct-It,Lt,Ft,xt,Nt)||z(Vt+Ct,Lt+It,Vt+Ct,Lt+at-It,Ft,xt,Nt)||z(Vt+Ct-It,Lt+at,Vt+It,Lt+at,Ft,xt,Nt)||z(Vt,Lt+at-It,Vt,Lt+It,Ft,xt,Nt)||rt(Vt+Ct-It,Lt+It,It,1.5*Math.PI,2*Math.PI,Ft,xt,Nt)||rt(Vt+Ct-It,Lt+at-It,It,0,.5*Math.PI,Ft,xt,Nt)||rt(Vt+It,Lt+at-It,It,.5*Math.PI,Math.PI,Ft,xt,Nt)||rt(Vt+It,Lt+It,It,Math.PI,1.5*Math.PI,Ft,xt,Nt)}var yt=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{x:0,y:0,width:0,height:0,radius:0})},Lt.prototype.isInStrokeOrPath=function(Ct,at,It,Ft,xt){var Nt=this.attr(),Ht=Nt.x,Bt=Nt.y,Ut=Nt.width,Jt=Nt.height,oe=Nt.radius;if(oe){var Ce=!1;return It&&(Ce=nt(Ht,Bt,Ut,Jt,oe,xt,Ct,at)),!Ce&&Ft&&(Ce=K(this,Ct,at)),Ce}else{var ge=xt/2;if(Ft&&It)return Object(O.e)(Ht-ge,Bt-ge,Ut+ge,Jt+ge,Ct,at);if(Ft)return Object(O.e)(Ht,Bt,Ut,Jt,Ct,at);if(It)return pt(Ht,Bt,Ut,Jt,xt,Ct,at)}},Lt.prototype.createPath=function(Ct){var at=this.attr(),It=at.x,Ft=at.y,xt=at.width,Nt=at.height,Ht=at.radius;if(Ct.beginPath(),Ht===0)Ct.rect(It,Ft,xt,Nt);else{var Bt=Object(H.a)(Ht),Ut=Bt[0],Jt=Bt[1],oe=Bt[2],ge=Bt[3];Ct.moveTo(It+Ut,Ft),Ct.lineTo(It+xt-Jt,Ft),Jt!==0&&Ct.arc(It+xt-Jt,Ft+Jt,Jt,-Math.PI/2,0),Ct.lineTo(It+xt,Ft+Nt-oe),oe!==0&&Ct.arc(It+xt-oe,Ft+Nt-oe,oe,0,Math.PI/2),Ct.lineTo(It+ge,Ft+Nt),ge!==0&&Ct.arc(It+ge,Ft+Nt-ge,ge,Math.PI/2,Math.PI),Ct.lineTo(It,Ft+Ut),Ut!==0&&Ct.arc(It+Ut,Ft+Ut,Ut,Math.PI,Math.PI*1.5),Ct.closePath()}},Lt}(S),Pt=yt,Rt=function(Vt){Object(o.__extends)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},Ct),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Lt.prototype.isOnlyHitBox=function(){return!0},Lt.prototype.initAttrs=function(Ct){this._assembleFont(),Ct.text&&this._setText(Ct.text)},Lt.prototype._assembleFont=function(){var Ct=this.attrs;Ct.font=Object(x.assembleFont)(Ct)},Lt.prototype._setText=function(Ct){var at=null;Object(O.k)(Ct)&&Ct.indexOf(`
`)!==-1&&(at=Ct.split(`
`)),this.set("textArr",at)},Lt.prototype.onAttrChange=function(Ct,at,It){Vt.prototype.onAttrChange.call(this,Ct,at,It),Ct.startsWith("font")&&this._assembleFont(),Ct==="text"&&this._setText(at)},Lt.prototype._getSpaceingY=function(){var Ct=this.attrs,at=Ct.lineHeight,It=Ct.fontSize*1;return at?at-It:It*.14},Lt.prototype._drawTextArr=function(Ct,at,It){var Ft=this.attrs,xt=Ft.textBaseline,Nt=Ft.x,Ht=Ft.y,Bt=Ft.fontSize*1,Ut=this._getSpaceingY(),Jt=Object(x.getTextHeight)(Ft.text,Ft.fontSize,Ft.lineHeight),oe;Object(O.c)(at,function(ge,Ce){oe=Ht+Ce*(Ut+Bt)-Jt+Bt,xt==="middle"&&(oe+=Jt-Bt-(Jt-Bt)/2),xt==="top"&&(oe+=Jt-Bt),ge&&(It?Ct.fillText(ge,Nt,oe):Ct.strokeText(ge,Nt,oe))})},Lt.prototype._drawText=function(Ct,at){var It=this.attr(),Ft=It.x,xt=It.y,Nt=this.get("textArr");if(Nt)this._drawTextArr(Ct,Nt,at);else{var Ht=It.text;Ht&&(at?Ct.fillText(Ht,Ft,xt):Ct.strokeText(Ht,Ft,xt))}},Lt.prototype.strokeAndFill=function(Ct){var at=this.attrs,It=at.lineWidth,Ft=at.opacity,xt=at.strokeOpacity,Nt=at.fillOpacity;this.isStroke()&&It>0&&(!Object(O.i)(xt)&&xt!==1&&(Ct.globalAlpha=Ft),this.stroke(Ct)),this.isFill()&&(!Object(O.i)(Nt)&&Nt!==1?(Ct.globalAlpha=Nt,this.fill(Ct),Ct.globalAlpha=Ft):this.fill(Ct)),this.afterDrawPath(Ct)},Lt.prototype.fill=function(Ct){this._drawText(Ct,!0)},Lt.prototype.stroke=function(Ct){this._drawText(Ct,!1)},Lt}(S),Wt=Rt},O7jt:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getBindingDictionary=A.createMockRequest=A.plan=void 0;var f=a("tMVM"),o=a("196R"),x=a("2+60"),O=a("9L8m"),C=a("AUMs"),P=a("Rph/"),b=a("5i8x"),S=a("rMkn"),y=a("tqfL"),E=a("wOqf"),m=a("qwYJ"),T=a("Y26w");function L(B){return B._bindingDictionary}A.getBindingDictionary=L;function g(B,G,k,V,tt,Q){var K=B?O.MULTI_INJECT_TAG:O.INJECT_TAG,_=new S.Metadata(K,k),Y=new T.Target(G,V,k,_);if(tt!==void 0){var q=new S.Metadata(tt,Q);Y.metadata.push(q)}return Y}function j(B,G,k,V,tt){var Q=z(k.container,tt.serviceIdentifier),K=[];return Q.length===f.BindingCount.NoBindingsAvailable&&k.container.options.autoBindInjectable&&typeof tt.serviceIdentifier=="function"&&B.getConstructorMetadata(tt.serviceIdentifier).compilerGeneratedMetadata&&(k.container.bind(tt.serviceIdentifier).toSelf(),Q=z(k.container,tt.serviceIdentifier)),G?K=Q:K=Q.filter(function(_){var Y=new m.Request(_.serviceIdentifier,k,V,_,tt);return _.constraint(Y)}),U(tt.serviceIdentifier,K,tt,k.container),K}function U(B,G,k,V){switch(G.length){case f.BindingCount.NoBindingsAvailable:if(k.isOptional())return G;var tt=P.getServiceIdentifierAsString(B),Q=o.NOT_REGISTERED;throw Q+=P.listMetadataForTarget(tt,k),Q+=P.listRegisteredBindingsForServiceIdentifier(V,tt,z),new Error(Q);case f.BindingCount.OnlyOneBindingAvailable:if(!k.isArray())return G;case f.BindingCount.MultipleBindingsAvailable:default:if(k.isArray())return G;var tt=P.getServiceIdentifierAsString(B),Q=o.AMBIGUOUS_MATCH+" "+tt;throw Q+=P.listRegisteredBindingsForServiceIdentifier(V,tt,z),new Error(Q)}}function W(B,G,k,V,tt,Q){var K,_;if(tt===null){K=j(B,G,V,null,Q),_=new m.Request(k,V,null,K,Q);var Y=new y.Plan(V,_);V.addPlan(Y)}else K=j(B,G,V,tt,Q),_=tt.addChildRequest(Q.serviceIdentifier,K,Q);K.forEach(function(q){var ot=null;if(Q.isArray())ot=_.addChildRequest(q.serviceIdentifier,q,Q);else{if(q.cache)return;ot=_}if(q.type===x.BindingTypeEnum.Instance&&q.implementationType!==null){var ft=E.getDependencies(B,q.implementationType);if(!V.container.options.skipBaseClassChecks){var ct=E.getBaseClassDependencyCount(B,q.implementationType);if(ft.length<ct){var rt=o.ARGUMENTS_LENGTH_MISMATCH(E.getFunctionName(q.implementationType));throw new Error(rt)}}ft.forEach(function(gt){W(B,!1,gt.serviceIdentifier,V,ot,gt)})}})}function z(B,G){var k=[],V=L(B);return V.hasKey(G)?k=V.get(G):B.parent!==null&&(k=z(B.parent,G)),k}function N(B,G,k,V,tt,Q,K,_){_===void 0&&(_=!1);var Y=new b.Context(G),q=g(k,V,tt,"",Q,K);try{return W(B,_,tt,Y,null,q),Y}catch(ot){throw C.isStackOverflowExeption(ot)&&Y.plan&&P.circularDependencyToException(Y.plan.rootRequest),ot}}A.plan=N;function I(B,G,k,V){var tt=new T.Target(x.TargetTypeEnum.Variable,"",G,new S.Metadata(k,V)),Q=new b.Context(B),K=new m.Request(G,Q,null,[],tt);return K}A.createMockRequest=I},OEJE:function(jt,A,a){"use strict";var f=a("CMID"),o=a("nZiY"),x=a("08EK"),O=function(C){Object(f.__extends)(P,C);function P(b){var S=C.call(this)||this;S.destroyed=!1;var y=S.getDefaultCfg();return S.cfg=Object(x.i)(y,b),S}return P.prototype.getDefaultCfg=function(){return{}},P.prototype.get=function(b){return this.cfg[b]},P.prototype.set=function(b,S){this.cfg[b]=S},P.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},P}(o.a);A.a=O},OFdx:function(jt,A,a){var f=a("mXku"),o=a("dVOP"),x=a("rGlR");function O(C,P){return C==null?C:f(C,o(P),x)}jt.exports=O},"OO/B":function(jt,A,a){"use strict";var f=a("9xKD"),o=f.longestPath,x=a("kr+H"),O=a("of5Y");jt.exports=C;function C(y){switch(y.graph().ranker){case"network-simplex":S(y);break;case"tight-tree":b(y);break;case"longest-path":P(y);break;default:S(y)}}var P=o;function b(y){o(y),x(y)}function S(y){O(y)}},OSUz:function(jt,A,a){"use strict";a.d(A,"a",function(){return mt});var f=a("CMID"),o=a("tqeG"),x=a("N2cT"),O=a("nD2R"),C=a("nHjW"),P=a("P+Gc"),b=a("jg4I"),S=a("LbVa"),y=a("cnw0"),E="$$percentage$$",m="$$mappingValue$$",T="$$conversion$$",L="$$totalPercentage$$",g="$$x$$",j="$$y$$";function U(ut,st,lt){var Tt=[],Ot=lt.yField,et=lt.maxSize,H=lt.minSize,pt=Object(b.maxBy)(st,Ot)[Ot],nt=Object(b.isNumber)(et)?et:1,yt=Object(b.isNumber)(H)?H:0;return Tt=Object(b.map)(ut,function(Pt,Rt){var Wt=(Pt[Ot]||0)/pt;return Pt[E]=Wt,Pt[m]=(nt-yt)*Wt+yt,Pt[T]=[Object(b.get)(ut,[Rt-1,Ot]),Pt[Ot]],Pt}),Tt}function W(ut){return function(st){var lt=st.chart,Tt=st.options,Ot=Tt.conversionTag,et=lt.getOptions().data;if(Ot){var H=Ot.formatter;et.forEach(function(pt,nt){if(!(nt<=0)){var yt=ut(pt,nt,et,{top:!0,text:{content:Object(b.isFunction)(H)?H(pt,et):H,offsetX:Ot.offsetX,offsetY:Ot.offsetY,position:"end",autoRotate:!1,style:Object(f.__assign)({textAlign:"start",textBaseline:"middle"},Ot.style)}});lt.annotation().line(yt)}})}return st}}function z(ut){var st=ut.chart,lt=ut.options,Tt=lt.data,Ot=Tt===void 0?[]:Tt,et=lt.yField,H=lt.maxSize,pt=lt.minSize,nt=U(Ot,Ot,{yField:et,maxSize:H,minSize:pt});return st.data(nt),ut}function N(ut){var st=ut.chart,lt=ut.options,Tt=lt.xField,Ot=lt.yField,et=lt.color,H=lt.tooltip,pt=lt.label,nt=Object(S.a)(H,[Tt,Ot]),yt=nt.fields,Pt=nt.formatter;Object(y.a)({chart:st,options:{type:"interval",xField:Tt,yField:m,colorField:Tt,tooltipFields:Object(b.isArray)(yt)&&yt.concat([E,T]),mapping:{shape:"funnel",tooltip:Pt,color:et},label:pt}});var Rt=Object(C.d)(ut.chart,"interval");return Rt.adjust("symmetric"),ut}function I(ut){var st=ut.chart,lt=ut.options,Tt=lt.isTransposed;return st.coordinate({type:"rect",actions:Tt?[]:[["transpose"],["scale",1,-1]]}),ut}function B(ut){var st=ut.options,lt=st.maxSize,Tt=function(et,H,pt,nt){var yt=lt-(lt-et[m])/2;return Object(f.__assign)(Object(f.__assign)({},nt),{start:[H-.5,yt],end:[H-.5,yt+.05]})};return W(Tt)(ut),ut}function G(ut){return Object(C.f)(z,N,I,B)(ut)}function k(ut){var st,lt=ut.chart,Tt=ut.options,Ot=Tt.data,et=Ot===void 0?[]:Ot,H=Tt.yField;return lt.data(et),lt.scale((st={},st[H]={sync:!0},st)),ut}function V(ut){var st=ut.chart,lt=ut.options,Tt=lt.data,Ot=lt.xField,et=lt.yField,H=lt.color,pt=lt.compareField,nt=lt.isTransposed,yt=lt.tooltip,Pt=lt.maxSize,Rt=lt.minSize,Wt=lt.label;return st.facet("mirror",{fields:[pt],transpose:!nt,padding:nt?0:[32,0,0,0],eachView:function(Lt,Ct){var at=nt?Ct.rowIndex:Ct.columnIndex;nt||Lt.coordinate({type:"rect",actions:[["transpose"],["scale",at===0?-1:1,-1]]});var It=U(Ct.data,Tt,{yField:et,maxSize:Pt,minSize:Rt});Lt.data(It);var Ft=Object(S.a)(yt,[Ot,et,pt]),xt=Ft.fields,Nt=Ft.formatter,Ht=nt?{offset:at===0?10:-23,position:at===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:at===0?"end":"start"}};Object(y.a)({chart:Lt,options:{type:"interval",xField:Ot,yField:m,colorField:Ot,tooltipFields:Object(b.isArray)(xt)&&xt.concat([E,T]),mapping:{shape:"funnel",tooltip:Nt,color:H,style:{lineWidth:1,stroke:"#fff"}},label:Wt===!1?!1:Object(C.c)({},Ht,Wt)}})}}),ut}function tt(ut){var st=ut.chart,lt=ut.options,Tt=lt.conversionTag,Ot=lt.isTransposed;return st.once("beforepaint",function(){st.views.forEach(function(et,H){var pt=function(yt,Pt,Rt,Wt){var Vt=H===0?-1:1;return Object(C.c)({},Wt,{start:[Pt-.5,yt[m]],end:[Pt-.5,yt[m]+.05],text:Ot?{style:{textAlign:"start"}}:{offsetX:Tt!==!1?Vt*Tt.offsetX:0,style:{textAlign:H===0?"end":"start"}}})};W(pt)(Object(C.c)({},{chart:et,options:lt}))})}),ut}function Q(ut){return Object(C.f)(k,V,tt)(ut)}function K(ut){var st,lt=ut.chart,Tt=ut.options,Ot=Tt.data,et=Ot===void 0?[]:Ot,H=Tt.yField;return lt.data(et),lt.scale((st={},st[H]={sync:!0},st)),ut}function _(ut){var st=ut.chart,lt=ut.options,Tt=lt.seriesField,Ot=lt.isTransposed;return st.facet("rect",{fields:[Tt],padding:[Ot?0:32,10,0,10],eachView:function(H,pt){G(Object(C.c)({},ut,{chart:H,options:{data:pt.data}}))}}),ut}function Y(ut){return Object(C.f)(K,_)(ut)}function q(ut){var st=ut.chart,lt=ut.options,Tt=lt.data,Ot=Tt===void 0?[]:Tt,et=lt.yField,H=Object(b.reduce)(Ot,function(yt,Pt){return yt+(Pt[et]||0)},0),pt=Object(b.maxBy)(Ot,et)[et],nt=Object(b.map)(Ot,function(yt,Pt){var Rt=[],Wt=[];if(yt[L]=(yt[et]||0)/H,Pt){var Vt=Ot[Pt-1][g],Lt=Ot[Pt-1][j];Rt[0]=Vt[3],Wt[0]=Lt[3],Rt[1]=Vt[2],Wt[1]=Lt[2]}else Rt[0]=-.5,Wt[0]=1,Rt[1]=.5,Wt[1]=1;return Wt[2]=Wt[1]-yt[L],Rt[2]=(Wt[2]+1)/4,Wt[3]=Wt[2],Rt[3]=-Rt[2],yt[g]=Rt,yt[j]=Wt,yt[E]=(yt[et]||0)/pt,yt[T]=[Object(b.get)(Ot,[Pt-1,et]),yt[et]],yt});return st.data(nt),ut}function ot(ut){var st=ut.chart,lt=ut.options,Tt=lt.xField,Ot=lt.yField,et=lt.color,H=lt.tooltip,pt=lt.label,nt=Object(S.a)(H,[Tt,Ot]),yt=nt.fields,Pt=nt.formatter;return Object(y.a)({chart:st,options:{type:"polygon",xField:g,yField:j,colorField:Tt,tooltipFields:Object(b.isArray)(yt)&&yt.concat([E,T]),label:pt,mapping:{tooltip:Pt,color:et}}}),ut}function ft(ut){var st=ut.chart,lt=ut.options,Tt=lt.isTransposed;return st.coordinate({type:"rect",actions:Tt?[["transpose"],["reflect","x"]]:[]}),ut}function ct(ut){var st=function(Tt,Ot,et,H){return Object(f.__assign)(Object(f.__assign)({},H),{start:[Tt[g][1],Tt[j][1]],end:[Tt[g][1]+.05,Tt[j][1]]})};return W(st)(ut),ut}function rt(ut){return Object(C.f)(q,ot,ft,ct)(ut)}function gt(ut){var st,lt=ut.options,Tt=lt.compareField,Ot=lt.xField,et=lt.yField,H=lt.locale,pt=Object(O.a)(H),nt={minSize:0,maxSize:1,meta:(st={},st[m]={min:0,max:1,nice:!1},st),label:Tt?{fields:[Ot,et,Tt,E,T],style:{fill:"#fff",fontSize:12},formatter:function(Pt){return""+Pt[et]}}:{fields:[Ot,et,E,T],offset:0,position:"middle",style:{fill:"#fff",fontSize:12},formatter:function(Pt){return Pt[Ot]+" "+Pt[et]}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,title:Ot,formatter:function(Pt){return{name:Pt[Ot],value:Pt[et]}}},conversionTag:{offsetX:10,offsetY:0,style:{},formatter:function(Pt){return pt.get(["conversionTag","label"])+": "+P.a.apply(void 0,Pt[T])}}};return Object(C.c)({options:nt},ut)}function Et(ut){var st=ut.options,lt=st.compareField,Tt=st.dynamicHeight,Ot=st.seriesField;return Ot?Y(ut):lt?Q(ut):Tt?rt(ut):G(ut)}function Gt(ut){var st,lt=ut.options,Tt=lt.xAxis,Ot=lt.yAxis,et=lt.xField,H=lt.yField;return Object(C.f)(Object(x.f)((st={},st[et]=Tt,st[H]=Ot,st)))(ut)}function Yt(ut){var st=ut.chart;return st.axis(!1),ut}function Xt(ut){var st=ut.chart,lt=ut.options,Tt=lt.legend;return Tt===!1?st.legend(!1):st.legend(Tt),ut}function vt(ut){return Object(C.f)(gt,Et,Gt,Yt,x.k,x.c,Xt,x.a,x.j,Object(x.b)())(ut)}var mt=function(ut){Object(f.__extends)(st,ut);function st(){var lt=ut!==null&&ut.apply(this,arguments)||this;return lt.type="funnel",lt}return st.getDefaultOptions=function(){return{appendPadding:[0,80]}},st.prototype.getDefaultOptions=function(){return st.getDefaultOptions()},st.prototype.getSchemaAdaptor=function(){return vt},st}(o.b)},Od3v:function(jt,A,a){"use strict";a.d(A,"b",function(){return x}),a.d(A,"c",function(){return O});var f=a("EbMC"),o=a("WKd7"),x=(1+Math.sqrt(5))/2;function O(C,P,b,S,y,E){for(var m=[],T=P.children,L,g,j=0,U=0,W=T.length,z,N,I=P.value,B,G,k,V,tt,Q,K;j<W;){z=y-b,N=E-S;do B=T[U++].value;while(!B&&U<W);for(G=k=B,Q=Math.max(N/z,z/N)/(I*C),K=B*B*Q,tt=Math.max(k/K,K/G);U<W;++U){if(B+=g=T[U].value,g<G&&(G=g),g>k&&(k=g),K=B*B*Q,V=Math.max(k/K,K/G),V>tt){B-=g;break}tt=V}m.push(L={value:B,dice:z<N,children:T.slice(j,U)}),L.dice?Object(f.a)(L,b,S,y,I?S+=N*B/I:E):Object(o.a)(L,b,S,I?b+=z*B/I:y,E),I-=B,j=U}return m}A.a=function C(P){function b(S,y,E,m,T){O(P,S,y,E,m,T)}return b.ratio=function(S){return C((S=+S)>1?S:1)},b}(x)},OeFv:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.findAllPath=A.findShortestPath=void 0;var f=x(a("Jr4d")),o=a("Eqze");function x(P){return P&&P.__esModule?P:{default:P}}var O=function(b,S,y,E,m){var T=(0,f.default)(b,S,E,m),L=T.length,g=T.path,j=T.allPath;return{length:L[y],path:g[y],allPath:j[y]}};A.findShortestPath=O;var C=function(b,S,y,E){var m;if(S===y)return[[S]];var T=b.edges,L=T===void 0?[]:T,g=[S],j=(m={},m[S]=!0,m),U=[],W=[],z=E?(0,o.getNeighbors)(S,L,"target"):(0,o.getNeighbors)(S,L);for(U.push(z);g.length>0&&U.length>0;){var N=U[U.length-1];if(N.length){var I=N.shift();I&&(g.push(I),j[I]=!0,z=E?(0,o.getNeighbors)(I,L,"target"):(0,o.getNeighbors)(I,L),U.push(z.filter(function(k){return!j[k]})))}else{var B=g.pop();j[B]=!1,U.pop();continue}if(g[g.length-1]===y){var G=g.map(function(V){return V});W.push(G);var B=g.pop();j[B]=!1,U.pop()}}return W};A.findAllPath=C},OjaF:function(jt,A,a){"use strict";a.d(A,"a",function(){return V});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("NG7W"),C=a("N2cT"),P=a("nHjW"),b=a("2l0P"),S=a("AD+8"),y=a("zG9U");function E(tt,Q){if(!!Object(x.isArray)(tt))return tt.find(function(K){return K.type===Q})}function m(tt,Q){var K=E(tt,Q);return K&&K.enable!==!1}function T(tt){var Q=tt.interactions,K=tt.drilldown;return Object(x.get)(K,"enabled")||m(Q,"treemap-drill-down")}function L(tt){var Q=tt.interactions["drill-down"];if(!!Q){var K=Q.context.actions.find(function(_){return _.name==="drill-down-action"});K.reset()}}function g(tt){var Q=tt.data,K=tt.colorField,_=tt.enableDrillDown,Y=tt.hierarchyConfig,q=Object(y.a)(Q,Object(f.__assign)(Object(f.__assign)({},Y),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),ot=[];return q.forEach(function(ft){if(ft.depth===0||_&&ft.depth!==1||!_&&ft.children)return null;var ct=ft.ancestors().map(function(Gt){return{data:Gt.data,height:Gt.height,value:Gt.value}}),rt=_&&Object(x.isArray)(Q.path)?ct.concat(Q.path.slice(1)):ct,gt=Object.assign({},ft.data,Object(f.__assign)({x:ft.x,y:ft.y,depth:ft.depth,value:ft.value,path:rt},ft));if(!ft.data[K]&&ft.parent){var Et=ft.ancestors().find(function(Gt){return Gt.data[K]});gt[K]=Et==null?void 0:Et.data[K]}else gt[K]=ft.data[K];gt[S.b]={hierarchyConfig:Y,colorField:K,enableDrillDown:_},ot.push(gt)}),ot}function j(tt){var Q=tt.options,K=Q.colorField;return Object(P.c)({options:{tooltip:{fields:["name","value",K,"path"],formatter:function(Y){return{name:Y.name,value:Y.value}}}}},tt)}function U(tt){var Q=tt.chart,K=tt.options,_=K.color,Y=K.colorField,q=K.rectStyle,ot=K.hierarchyConfig,ft=g({data:K.data,colorField:K.colorField,enableDrillDown:T(K),hierarchyConfig:ot});return Q.data(ft),Object(O.a)(Object(P.c)({},tt,{options:{xField:"x",yField:"y",seriesField:Y,rawFields:["value"],polygon:{color:_,style:q}}})),Q.coordinate().reflect("y"),tt}function W(tt){var Q=tt.chart;return Q.axis(!1),tt}function z(tt){var Q=tt.drilldown,K=tt.interactions,_=K===void 0?[]:K,Y=T(tt);return Y?Object(P.c)({},tt,{interactions:Object(f.__spreadArrays)(_,[{type:"drill-down",cfg:{drillDownConfig:Q,transformData:g}}])}):tt}function N(tt){var Q=tt.chart,K=tt.options,_=K.interactions,Y=K.drilldown;Object(C.c)({chart:Q,options:z(K)});var q=E(_,"view-zoom");q&&(q.enable!==!1?Q.getCanvas().on("mousewheel",function(ft){ft.preventDefault()}):Q.getCanvas().off("mousewheel"));var ot=T(K);return ot&&(Q.appendPadding=Object(b.a)(Q.appendPadding,Object(x.get)(Y,["breadCrumb","position"]))),tt}function I(tt){return Object(P.f)(j,C.j,U,W,C.d,C.k,N,C.a,Object(C.b)())(tt)}var B={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},G=a("319k"),k=a("mGl4"),V=function(tt){Object(f.__extends)(Q,tt);function Q(){var K=tt!==null&&tt.apply(this,arguments)||this;return K.type="treemap",K}return Q.getDefaultOptions=function(){return B},Q.prototype.changeData=function(K){var _=this.options,Y=_.colorField,q=_.interactions,ot=_.hierarchyConfig;this.updateOption({data:K});var ft=g({data:K,colorField:Y,enableDrillDown:m(q,"treemap-drill-down"),hierarchyConfig:ot});this.chart.changeData(ft),L(this.chart)},Q.prototype.getDefaultOptions=function(){return Q.getDefaultOptions()},Q.prototype.getSchemaAdaptor=function(){return I},Q}(o.b)},OpA2:function(jt,A){},"Oru/":function(jt,A,a){"use strict";a.d(A,"c",function(){return y}),a.d(A,"b",function(){return E}),a.d(A,"a",function(){return m});var f=a("CMID"),o=a("Nqgf"),x=Math.sin,O=Math.cos,C=Math.atan2,P=Math.PI;function b(T,L,g,j,U,W,z){var N=L.stroke,I=L.lineWidth,B=g-U,G=j-W,k=C(G,B),V=new o.Path({type:"path",canvas:T.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*O(P/6)+","+10*x(P/6)+" L0,0 L"+10*O(P/6)+",-"+10*x(P/6),stroke:N,lineWidth:I}});V.translate(U,W),V.rotateAtPoint(U,W,k),T.set(z?"startArrowShape":"endArrowShape",V)}function S(T,L,g,j,U,W,z){var N=L.startArrow,I=L.endArrow,B=L.stroke,G=L.lineWidth,k=z?N:I,V=k.d,tt=k.fill,Q=k.stroke,K=k.lineWidth,_=Object(f.__rest)(k,["d","fill","stroke","lineWidth"]),Y=g-U,q=j-W,ot=C(q,Y);V&&(U=U-O(ot)*V,W=W-x(ot)*V);var ft=new o.Path({type:"path",canvas:T.get("canvas"),isArrowShape:!0,attrs:Object(f.__assign)(Object(f.__assign)({},_),{stroke:Q||B,lineWidth:K||G,fill:tt})});ft.translate(U,W),ft.rotateAtPoint(U,W,ot),T.set(z?"startArrowShape":"endArrowShape",ft)}function y(T,L,g,j,U){var W=C(j-L,g-T);return{dx:O(W)*U,dy:x(W)*U}}function E(T,L,g,j,U,W){typeof L.startArrow=="object"?S(T,L,g,j,U,W,!0):L.startArrow?b(T,L,g,j,U,W,!0):T.set("startArrowShape",null)}function m(T,L,g,j,U,W){typeof L.endArrow=="object"?S(T,L,g,j,U,W,!1):L.endArrow?b(T,L,g,j,U,W,!1):T.set("startArrowShape",null)}},Oye7:function(jt,A,a){var f=a("XSdR");jt.exports=o;function o(C){var P=O(C);f.forEach(C.graph().dummyChains,function(b){for(var S=C.node(b),y=S.edgeObj,E=x(C,P,y.v,y.w),m=E.path,T=E.lca,L=0,g=m[L],j=!0;b!==y.w;){if(S=C.node(b),j){for(;(g=m[L])!==T&&C.node(g).maxRank<S.rank;)L++;g===T&&(j=!1)}if(!j){for(;L<m.length-1&&C.node(g=m[L+1]).minRank<=S.rank;)L++;g=m[L]}C.setParent(b,g),b=C.successors(b)[0]}})}function x(C,P,b,S){var y=[],E=[],m=Math.min(P[b].low,P[S].low),T=Math.max(P[b].lim,P[S].lim),L,g;L=b;do L=C.parent(L),y.push(L);while(L&&(P[L].low>m||T>P[L].lim));for(g=L,L=S;(L=C.parent(L))!==g;)E.push(L);return{path:y.concat(E.reverse()),lca:g}}function O(C){var P={},b=0;function S(y){var E=b;f.forEach(C.children(y),S),P[y]={low:E,lim:b++}}return f.forEach(C.children(),S),P}},"P+Gc":function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=a("jg4I");function o(x,O){return!Object(f.isNumber)(x)||!Object(f.isNumber)(O)?"-":x===O?"100%":x===0?"\u221E":O===0?"-\u221E":(100*O/x).toFixed(2)+"%"}},"P+oc":function(jt,A,a){var f=a("3MnI");jt.exports=o;function o(x){try{f(x)}catch(O){if(O instanceof f.CycleException)return!1;throw O}return!0}},P6PP:function(jt,A,a){"use strict";a.d(A,"a",function(){return f.a}),a.d(A,"b",function(){return y.a});var f=a("oq+b"),o=a("16OP"),x=a.n(o),O=a("7Nom"),C=a.n(O),P=a("99LQ"),b=P.e.create(),S=function(){function W(z,N){x()(this,W),this.center=void 0,this.radius=void 0,this.center=z||P.e.create(),this.radius=N||.5}return C()(W,[{key:"containsPoint",value:function(N){return P.e.sub(b,N,this.center),P.e.length(b)<this.radius*this.radius}},{key:"intersects",value:function(N){P.e.sub(b,N.center,this.center);var I=N.radius+this.radius;return P.e.length(b)<=I*I}}]),W}(),y=a("c5gd"),E=a("xO9G"),m=P.e.create(),T=P.e.create(),L=P.e.create(),g=P.e.create(),j=P.e.create(),U=function(){function W(z,N){x()(this,W),this.origin=void 0,this.direction=void 0,this.origin=z||P.e.create(),this.direction=N||P.e.fromValues(0,0,-1)}return C()(W,[{key:"intersectsAABB",value:function(N,I){return I?this.intersectAABBWithIntersection(N,I):this.intersectsAABBWithoutIntersection(N)}},{key:"intersectsSphere",value:function(N,I){var B=P.e.sub(m,this.origin,N.center);P.e.normalize(T,P.e.copy(T,this.direction));var G=P.e.dot(B,T),k=P.e.dot(B,B)-N.radius*N.radius;if(k>0&&G>0)return null;var V=G*G-k;if(V<0)return!1;var tt=Math.abs(-G-Math.sqrt(V));return I&&(P.e.copy(I,this.direction),P.e.scaleAndAdd(I,this.origin,I,tt)),!0}},{key:"intersectsPlane",value:function(N,I){var B=(N.distance-P.e.dot(N.normal,this.origin))/P.e.dot(N.normal,this.direction),G=B>=0;return G&&I&&P.e.scaleAndAdd(I,this.origin,this.direction,B),G}},{key:"intersectsAABBWithoutIntersection",value:function(N){var I=m,B=T,G=L,k=g,V=j,tt=this.direction;return P.e.sub(I,this.origin,N.center),P.e.set(k,Math.abs(I[0]),Math.abs(I[1]),Math.abs(I[2])),P.e.mul(G,I,tt),k[0]>N.halfExtents[0]&&G[0]>=0||k[1]>N.halfExtents[1]&&G[1]>=0||k[2]>N.halfExtents[2]&&G[2]>=0?!1:(P.e.set(V,Math.abs(tt[0]),Math.abs(tt[1]),Math.abs(tt[2])),P.e.cross(B,tt,I),P.e.set(B,Math.abs(B[0]),Math.abs(B[1]),Math.abs(B[2])),!(B[0]>N.halfExtents[1]*V[2]+N.halfExtents[2]*V[1]||B[1]>N.halfExtents[0]*V[2]+N.halfExtents[2]*V[0]||B[2]>N.halfExtents[0]*V[1]+N.halfExtents[1]*V[0]))}},{key:"intersectAABBWithIntersection",value:function(N,I){var B=P.e.copy(P.e.create(),N.getMin());P.e.sub(B,B,this.origin);var G=P.e.copy(P.e.create(),N.getMax());P.e.sub(G,G,this.origin);var k=this.direction;k[0]===0?(B[0]=B[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE,G[0]=G[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(B[0]/=k[0],G[0]/=k[0]),k[1]===0?(B[1]=B[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE,G[1]=G[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(B[1]/=k[1],G[1]/=k[1]),k[2]===0?(B[2]=B[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE,G[2]=G[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(B[2]/=k[2],G[2]/=k[2]);var V=P.e.set(L,Math.min(B[0],G[0]),Math.min(B[1],G[1]),Math.min(B[2],G[2])),tt=P.e.set(g,Math.max(B[0],G[0]),Math.max(B[1],G[1]),Math.max(B[2],G[2])),Q=Math.min(Math.min(tt[0],tt[1]),tt[2]),K=Math.max(Math.max(V[0],V[1]),V[2]),_=Q>=K&&K>=0;return _&&(P.e.copy(I,this.direction),P.e.scaleAndAdd(I,this.origin,I,K)),_}}]),W}()},P7eI:function(jt,A,a){"use strict";a.d(A,"a",function(){return Lt});var f=a("QJLF"),o=a.n(f),x=a("16OP"),O=a.n(x),C=a("7Nom"),P=a.n(C),b=a("cW+D"),S=a.n(b),y=a("oOaK"),E=a.n(y),m=a("vpv6"),T=a.n(m),L=a("G5xY"),g=a.n(L),j=a("99LQ"),U=a("Hg9g"),W=a("gXEi"),z=a.n(W),N=9007199254740991,I="[object Arguments]",B="[object Array]",G="[object Boolean]",k="[object Date]",V="[object Error]",tt="[object Function]",Q="[object Map]",K="[object Number]",_="[object Object]",Y="[object RegExp]",q="[object Set]",ot="[object String]",ft="[object WeakMap]",ct="[object ArrayBuffer]",rt="[object DataView]",gt="[object Float32Array]",Et="[object Float64Array]",Gt="[object Int8Array]",Yt="[object Int16Array]",Xt="[object Int32Array]",vt="[object Uint8Array]",mt="[object Uint8ClampedArray]",ut="[object Uint16Array]",st="[object Uint32Array]",lt={};lt[gt]=lt[Et]=lt[Gt]=lt[Yt]=lt[Xt]=lt[vt]=lt[mt]=lt[ut]=lt[st]=!0,lt[I]=lt[B]=lt[ct]=lt[G]=lt[rt]=lt[k]=lt[V]=lt[tt]=lt[Q]=lt[K]=lt[_]=lt[Y]=lt[q]=lt[ot]=lt[ft]=!1;function Tt(Ct){return function(at){return Ct(at)}}var Ot=Object.prototype,et=Ot.toString;function H(Ct){return nt(Ct)&&pt(Ct.length)&&!!lt[et.call(Ct)]}function pt(Ct){return typeof Ct=="number"&&Ct>-1&&Ct%1==0&&Ct<=N}function nt(Ct){return!!Ct&&z()(Ct)==="object"}var yt=H;function Pt(Ct,at){var It=Object.keys(Ct);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(Ct);at&&(Ft=Ft.filter(function(xt){return Object.getOwnPropertyDescriptor(Ct,xt).enumerable})),It.push.apply(It,Ft)}return It}function Rt(Ct){for(var at=1;at<arguments.length;at++){var It=arguments[at]!=null?arguments[at]:{};at%2?Pt(Object(It),!0).forEach(function(Ft){o()(Ct,Ft,It[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(It)):Pt(Object(It)).forEach(function(Ft){Object.defineProperty(Ct,Ft,Object.getOwnPropertyDescriptor(It,Ft))})}return Ct}function Wt(Ct){var at=Vt();return function(){var Ft=g()(Ct),xt;if(at){var Nt=g()(this).constructor;xt=Reflect.construct(Ft,arguments,Nt)}else xt=Ft.apply(this,arguments);return T()(this,xt)}}function Vt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Ct){return!1}}var Lt=function(Ct){E()(It,Ct);var at=Wt(It);function It(Ft){var xt;return O()(this,It),xt=at.call(this,Ft),xt.dirty=!0,xt.attributes=[],xt.indices=void 0,xt.indicesBuffer=void 0,xt.vertexCount=0,xt.maxInstancedCount=void 0,xt.aabb=void 0,xt.entity=void 0,Object.assign(S()(xt),Ft),xt}return P()(It,[{key:"setAttribute",value:function(xt,Nt,Ht,Bt){var Ut=this.attributes.find(function(Jt){return Jt.name===xt});return Ut?(Ut.data=Nt,Ut.dirty=!0):this.attributes.push(Rt(Rt({dirty:!0,name:xt,data:Nt},Ht),{},{bufferGetter:Bt})),this.dirty=!0,this}},{key:"setIndex",value:function(xt){return this.indices=new Uint32Array(xt.buffer?xt.buffer:xt),this.dirty=!0,this}},{key:"applyMatrix",value:function(xt){var Nt=this.attributes.find(function(Ce){var Ie=Ce.name;return Ie==="position"}),Ht=this.attributes.find(function(Ce){var Ie=Ce.name;return Ie==="normal"});if(Nt&&(Nt.dirty=!0,Nt.data&&Nt.data.length))for(var Bt=0;Bt<Nt.data.length;Bt+=3){var Ut=j.f.fromValues(Nt.data[Bt],Nt.data[Bt+1],Nt.data[Bt+2],1);j.f.transformMat4(Ut,Ut,xt),yt(Nt.data)?Nt.data.set([Ut[0],Ut[1],Ut[2]],Bt):(Nt.data[Bt]=Ut[0],Nt.data[Bt+1]=Ut[1],Nt.data[Bt+2]=Ut[2])}if(Ht){var Jt=j.a.normalFromMat4(j.a.create(),xt);if(Ht.data&&Ht.data.length)for(var oe=0;oe<Ht.data.length;oe+=3){var ge=j.e.fromValues(Ht.data[oe],Ht.data[oe+1],Ht.data[oe+2]);j.e.transformMat3(ge,ge,Jt),j.e.normalize(ge,ge),yt(Ht.data)?Ht.data.set([ge[0],ge[1],ge[2]],oe):(Ht.data[oe]=ge[0],Ht.data[oe+1]=ge[1],Ht.data[oe+2]=ge[2])}}}}]),It}(U.a)},PHCe:function(jt,A,a){"use strict";a.d(A,"b",function(){return f}),a.d(A,"c",function(){return o}),a.d(A,"a",function(){return x});function f(O,C){var P=[],b=O[0],S=O[1],y=O[2],E=O[3],m=O[4],T=O[5],L=O[6],g=O[7],j=O[8],U=C[0],W=C[1],z=C[2],N=C[3],I=C[4],B=C[5],G=C[6],k=C[7],V=C[8];return P[0]=U*b+W*E+z*L,P[1]=U*S+W*m+z*g,P[2]=U*y+W*T+z*j,P[3]=N*b+I*E+B*L,P[4]=N*S+I*m+B*g,P[5]=N*y+I*T+B*j,P[6]=G*b+k*E+V*L,P[7]=G*S+k*m+V*g,P[8]=G*y+k*T+V*j,P}function o(O,C){var P=[],b=C[0],S=C[1];return P[0]=O[0]*b+O[3]*S+O[6],P[1]=O[1]*b+O[4]*S+O[7],P}function x(O){var C=[],P=O[0],b=O[1],S=O[2],y=O[3],E=O[4],m=O[5],T=O[6],L=O[7],g=O[8],j=g*E-m*L,U=-g*y+m*T,W=L*y-E*T,z=P*j+b*U+S*W;return z?(z=1/z,C[0]=j*z,C[1]=(-g*b+S*L)*z,C[2]=(m*b-S*E)*z,C[3]=U*z,C[4]=(g*P-S*T)*z,C[5]=(-m*P+S*y)*z,C[6]=W*z,C[7]=(-L*P+b*T)*z,C[8]=(E*P-b*y)*z,C):null}},PJ1B:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.createSensor=void 0;var f=x(a("5M8n")),o=a("MPYE");function x(C){return C&&C.__esModule?C:{default:C}}var O=function(P){var b=void 0,S=[],y=function(){getComputedStyle(P).position==="static"&&(P.style.position="relative");var j=document.createElement("object");return j.onload=function(){j.contentDocument.defaultView.addEventListener("resize",E),E()},j.style.display="block",j.style.position="absolute",j.style.top="0",j.style.left="0",j.style.height="100%",j.style.width="100%",j.style.overflow="hidden",j.style.pointerEvents="none",j.style.zIndex="-1",j.style.opacity="0",j.setAttribute("class",o.SensorClassName),j.setAttribute("tabindex",o.SensorTabIndex),j.type="text/html",P.appendChild(j),j.data="about:blank",j},E=(0,f.default)(function(){S.forEach(function(g){g(P)})}),m=function(j){b||(b=y()),S.indexOf(j)===-1&&S.push(j)},T=function(){b&&b.parentNode&&(b.contentDocument&&b.contentDocument.defaultView.removeEventListener("resize",E),b.parentNode.removeChild(b),b=void 0,S=[])},L=function(j){var U=S.indexOf(j);U!==-1&&S.splice(U,1),S.length===0&&b&&T()};return{element:P,bind:m,destroy:T,unbind:L}};A.createSensor=O},PdHs:function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=o[0]*x[0],f[1]=o[1]*x[1],f}},PkPV:function(jt,A,a){"use strict";a.d(A,"a",function(){return B});var f=a("QJLF"),o=a.n(f),x=a("16OP"),O=a.n(x),C=a("7Nom"),P=a.n(C),b=a("cW+D"),S=a.n(b),y=a("oOaK"),E=a.n(y),m=a("vpv6"),T=a.n(m),L=a("G5xY"),g=a.n(L),j=a("2Pg9"),U=a("Hg9g");function W(G,k){var V=Object.keys(G);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(G);k&&(tt=tt.filter(function(Q){return Object.getOwnPropertyDescriptor(G,Q).enumerable})),V.push.apply(V,tt)}return V}function z(G){for(var k=1;k<arguments.length;k++){var V=arguments[k]!=null?arguments[k]:{};k%2?W(Object(V),!0).forEach(function(tt){o()(G,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(V)):W(Object(V)).forEach(function(tt){Object.defineProperty(G,tt,Object.getOwnPropertyDescriptor(V,tt))})}return G}function N(G){var k=I();return function(){var tt=g()(G),Q;if(k){var K=g()(this).constructor;Q=Reflect.construct(tt,arguments,K)}else Q=tt.apply(this,arguments);return T()(this,Q)}}function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(G){return!1}}var B=function(G){E()(V,G);var k=N(V);function V(tt){var Q;return O()(this,V),Q=k.call(this,tt),Q.vertexShaderGLSL=void 0,Q.fragmentShaderGLSL=void 0,Q.defines={},Q.dirty=!0,Q.uniforms=[],Q.cull={enable:!0,face:j.gl.BACK},Q.depth={enable:!0},Q.blend=void 0,Q.entity=void 0,Q.type=void 0,Object.assign(S()(Q),tt),Q}return P()(V,[{key:"setDefines",value:function(Q){return this.defines=z(z({},this.defines),Q),this}},{key:"setCull",value:function(Q){return this.cull=Q,this}},{key:"setDepth",value:function(Q){return this.depth=Q,this}},{key:"setBlend",value:function(Q){return this.blend=Q,this}},{key:"setUniform",value:function(Q,K){var _=this;if(typeof Q!="string")return Object.keys(Q).forEach(function(q){return _.setUniform(q,Q[q])}),this;var Y=this.uniforms.find(function(q){return q.name===Q});return Y?(Y.dirty=!0,Y.data=K):this.uniforms.push({name:Q,dirty:!0,data:K}),this.dirty=!0,this}}]),V}(U.a)},Pmht:function(jt,A,a){"use strict";var f=a("ZVT1");a.d(A,"gl",function(){return f.a});var o=a("5/ae"),x=a.n(o),O=a("vdmW"),C=a.n(O),P=a("/pXD"),b=a.n(P),S=a("sn46"),y=a.n(S),E=a("1ZgE"),m=a.n(E),T=a("VRwR"),L=a.n(T),g=a("zui5"),j=a("JJn1"),U=a.n(j),W=a("TZFZ"),z=a.n(W),N=a("OpA2"),I=a.n(N),B=a("m0YO"),G=a.n(B)},PoGV:function(jt,A,a){var f=a("XSdR"),o=a("hppO"),x=a("43gi").Graph;jt.exports={debugOrdering:O};function O(C){var P=o.buildLayerMatrix(C),b=new x({compound:!0,multigraph:!0}).setGraph({});return f.forEach(C.nodes(),function(S){b.setNode(S,{label:S}),b.setParent(S,"layer"+C.node(S).rank)}),f.forEach(C.edges(),function(S){b.setEdge(S.v,S.w,{},S.name)}),f.forEach(P,function(S,y){var E="layer"+y;b.setNode(E,{rank:"same"}),f.reduce(S,function(m,T){return b.setEdge(m,T,{style:"invis"}),T})}),b}},PrMP:function(jt,A,a){"use strict";a.d(A,"a",function(){return Q});var f=a("CMID"),o=a("jg4I"),x=a("VZin"),O={opacity:0},C={stroke:"#C5C5C5",strokeOpacity:.85},P={fill:"#CACED4",opacity:.85},b=a("WOt1"),S=a("6vWT");function y(_){return Object(o.map)(_,function(Y,q){var ot=q===0?"M":"L",ft=Y[0],ct=Y[1];return[ot,ft,ct]})}function E(_){return y(_)}function m(_){if(_.length<=2)return E(_);var Y=[];Object(o.each)(_,function(rt){Object(o.isEqual)(rt,Y.slice(Y.length-2))||Y.push(rt[0],rt[1])});var q=Object(b.a)(Y,!1),ot=Object(o.head)(_),ft=ot[0],ct=ot[1];return q.unshift(["M",ft,ct]),q}function T(_,Y,q,ot){ot===void 0&&(ot=!0);var ft=new S.b({values:_}),ct=new S.a({values:Object(o.map)(_,function(gt,Et){return Et})}),rt=Object(o.map)(_,function(gt,Et){return[ct.scale(Et)*Y,q-ft.scale(gt)*q]});return ot?m(rt):E(rt)}function L(_,Y){var q=new S.b({values:_}),ot=Math.max(0,q.min);return Y-q.scale(ot)*Y}function g(_,Y,q,ot){var ft=Object(f.__spreadArrays)(_),ct=L(ot,q);return ft.push(["L",Y,ct]),ft.push(["L",0,ct]),ft.push(["Z"]),ft}var j=function(_){Object(f.__extends)(Y,_);function Y(){return _!==null&&_.apply(this,arguments)||this}return Y.prototype.getDefaultCfg=function(){var q=_.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},q),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:O,lineStyle:C,areaStyle:P})},Y.prototype.renderInner=function(q){var ot=this.cfg,ft=ot.width,ct=ot.height,rt=ot.data,gt=ot.smooth,Et=ot.isArea,Gt=ot.backgroundStyle,Yt=ot.lineStyle,Xt=ot.areaStyle;this.addShape(q,{id:this.getElementId("background"),type:"rect",attrs:Object(f.__assign)({x:0,y:0,width:ft,height:ct},Gt)});var vt=T(rt,ft,ct,gt);if(this.addShape(q,{id:this.getElementId("line"),type:"path",attrs:Object(f.__assign)({path:vt},Yt)}),Et){var mt=g(vt,ft,ct,rt);this.addShape(q,{id:this.getElementId("area"),type:"path",attrs:Object(f.__assign)({path:mt},Xt)})}},Y.prototype.applyOffset=function(){var q=this.cfg,ot=q.x,ft=q.y;this.moveElementTo(this.get("group"),{x:ot,y:ft})},Y}(x.a),U=j,W={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},z=function(_){Object(f.__extends)(Y,_);function Y(){return _!==null&&_.apply(this,arguments)||this}return Y.prototype.getDefaultCfg=function(){var q=_.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},q),{name:"handler",x:0,y:0,width:10,height:24,style:W})},Y.prototype.renderInner=function(q){var ot=this.cfg,ft=ot.width,ct=ot.height,rt=ot.style,gt=rt.fill,Et=rt.stroke,Gt=rt.radius,Yt=rt.opacity,Xt=rt.cursor;this.addShape(q,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:ft,height:ct,fill:gt,stroke:Et,radius:Gt,opacity:Yt,cursor:Xt}});var vt=1/3*ft,mt=2/3*ft,ut=1/4*ct,st=3/4*ct;this.addShape(q,{id:this.getElementId("line-left"),type:"line",attrs:{x1:vt,y1:ut,x2:vt,y2:st,stroke:Et,cursor:Xt}}),this.addShape(q,{id:this.getElementId("line-right"),type:"line",attrs:{x1:mt,y1:ut,x2:mt,y2:st,stroke:Et,cursor:Xt}})},Y.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},Y.prototype.initEvent=function(){this.bindEvents()},Y.prototype.bindEvents=function(){var q=this;this.get("group").on("mouseenter",function(){var ot=q.get("style").highLightFill;q.getElementByLocalId("background").attr("fill",ot),q.draw()}),this.get("group").on("mouseleave",function(){var ot=q.get("style").fill;q.getElementByLocalId("background").attr("fill",ot),q.draw()})},Y.prototype.draw=function(){var q=this.get("container").get("canvas");q&&q.draw()},Y}(x.a),N=z,I={fill:"#416180",opacity:.05},B={fill:"#5B8FF9",opacity:.15,cursor:"move"},G=10,k={width:G,height:24},V={textBaseline:"middle",fill:"#000",opacity:.45},tt="sliderchange",Q=function(_){Object(f.__extends)(Y,_);function Y(){var q=_!==null&&_.apply(this,arguments)||this;return q.onMouseDown=function(ot){return function(ft){q.currentTarget=ot;var ct=ft.originalEvent;ct.stopPropagation(),ct.preventDefault(),q.prevX=Object(o.get)(ct,"touches.0.pageX",ct.pageX),q.prevY=Object(o.get)(ct,"touches.0.pageY",ct.pageY);var rt=q.getContainerDOM();rt.addEventListener("mousemove",q.onMouseMove),rt.addEventListener("mouseup",q.onMouseUp),rt.addEventListener("mouseleave",q.onMouseUp),rt.addEventListener("touchmove",q.onMouseMove),rt.addEventListener("touchend",q.onMouseUp),rt.addEventListener("touchcancel",q.onMouseUp)}},q.onMouseMove=function(ot){var ft=q.cfg.width,ct=[q.get("start"),q.get("end")];ot.stopPropagation(),ot.preventDefault();var rt=Object(o.get)(ot,"touches.0.pageX",ot.pageX),gt=Object(o.get)(ot,"touches.0.pageY",ot.pageY),Et=rt-q.prevX,Gt=q.adjustOffsetRange(Et/ft);q.updateStartEnd(Gt),q.updateUI(q.getElementByLocalId("foreground"),q.getElementByLocalId("minText"),q.getElementByLocalId("maxText")),q.prevX=rt,q.prevY=gt,q.draw(),q.emit(tt,[q.get("start"),q.get("end")].sort()),q.delegateEmit("valuechanged",{originValue:ct,value:[q.get("start"),q.get("end")]})},q.onMouseUp=function(){q.currentTarget&&(q.currentTarget=void 0);var ot=q.getContainerDOM();ot&&(ot.removeEventListener("mousemove",q.onMouseMove),ot.removeEventListener("mouseup",q.onMouseUp),ot.removeEventListener("mouseleave",q.onMouseUp),ot.removeEventListener("touchmove",q.onMouseMove),ot.removeEventListener("touchend",q.onMouseUp),ot.removeEventListener("touchcancel",q.onMouseUp))},q}return Y.prototype.setRange=function(q,ot){this.set("minLimit",q),this.set("maxLimit",ot);var ft=this.get("start"),ct=this.get("end"),rt=Object(o.clamp)(ft,q,ot),gt=Object(o.clamp)(ct,q,ot);!this.get("isInit")&&(ft!==rt||ct!==gt)&&this.setValue([rt,gt])},Y.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},Y.prototype.setValue=function(q){var ot=this.getRange();if(Object(o.isArray)(q)&&q.length===2){var ft=[this.get("start"),this.get("end")];this.update({start:Object(o.clamp)(q[0],ot.min,ot.max),end:Object(o.clamp)(q[1],ot.min,ot.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:ft,value:q})}},Y.prototype.getValue=function(){return[this.get("start"),this.get("end")]},Y.prototype.getDefaultCfg=function(){var q=_.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},q),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:I,foregroundStyle:B,handlerStyle:k,textStyle:V}})},Y.prototype.update=function(q){var ot=q.start,ft=q.end,ct=Object(f.__assign)({},q);Object(o.isNil)(ot)||(ct.start=Object(o.clamp)(ot,0,1)),Object(o.isNil)(ft)||(ct.end=Object(o.clamp)(ft,0,1)),_.prototype.update.call(this,ct),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},Y.prototype.init=function(){this.set("start",Object(o.clamp)(this.get("start"),0,1)),this.set("end",Object(o.clamp)(this.get("end"),0,1)),_.prototype.init.call(this)},Y.prototype.render=function(){_.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},Y.prototype.renderInner=function(q){var ot=this.cfg,ft=ot.start,ct=ot.end,rt=ot.width,gt=ot.height,Et=ot.trendCfg,Gt=Et===void 0?{}:Et,Yt=ot.minText,Xt=ot.maxText,vt=ot.backgroundStyle,mt=vt===void 0?{}:vt,ut=ot.foregroundStyle,st=ut===void 0?{}:ut,lt=ot.textStyle,Tt=lt===void 0?{}:lt,Ot=Object(o.deepMix)({},W,this.cfg.handlerStyle),et=ft*rt,H=ct*rt;Object(o.size)(Object(o.get)(Gt,"data"))&&(this.trend=this.addComponent(q,Object(f.__assign)({component:j,id:this.getElementId("trend"),x:0,y:0,width:rt,height:gt},Gt))),this.addShape(q,{id:this.getElementId("background"),type:"rect",attrs:Object(f.__assign)({x:0,y:0,width:rt,height:gt},mt)});var pt=this.addShape(q,{id:this.getElementId("minText"),type:"text",attrs:Object(f.__assign)({y:gt/2,textAlign:"right",text:Yt,silent:!1},Tt)}),nt=this.addShape(q,{id:this.getElementId("maxText"),type:"text",attrs:Object(f.__assign)({y:gt/2,textAlign:"left",text:Xt,silent:!1},Tt)}),yt=this.addShape(q,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(f.__assign)({y:0,height:gt},st)}),Pt=Object(o.get)(Ot,"width",G),Rt=Object(o.get)(Ot,"height",24);this.minHandler=this.addComponent(q,{component:z,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(gt-Rt)/2,width:Pt,height:Rt,cursor:"ew-resize",style:Ot}),this.maxHandler=this.addComponent(q,{component:z,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(gt-Rt)/2,width:Pt,height:Rt,cursor:"ew-resize",style:Ot})},Y.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},Y.prototype.initEvent=function(){this.bindEvents()},Y.prototype.updateUI=function(q,ot,ft){var ct=this.cfg,rt=ct.start,gt=ct.end,Et=ct.width,Gt=ct.minText,Yt=ct.maxText,Xt=ct.handlerStyle,vt=ct.height,mt=rt*Et,ut=gt*Et;this.trend&&(this.trend.update({width:Et,height:vt}),this.get("updateAutoRender")||this.trend.render()),q.attr("x",mt),q.attr("width",ut-mt);var st=Object(o.get)(Xt,"width",G);ot.attr("text",Gt),ft.attr("text",Yt);var lt=this._dodgeText([mt,ut],ot,ft),Tt=lt[0],Ot=lt[1];this.minHandler&&(this.minHandler.update({x:mt-st/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(o.each)(Tt,function(et,H){return ot.attr(H,et)}),this.maxHandler&&(this.maxHandler.update({x:ut-st/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(o.each)(Ot,function(et,H){return ft.attr(H,et)})},Y.prototype.bindEvents=function(){var q=this.get("group");q.on("handler-min:mousedown",this.onMouseDown("minHandler")),q.on("handler-min:touchstart",this.onMouseDown("minHandler")),q.on("handler-max:mousedown",this.onMouseDown("maxHandler")),q.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var ot=q.findById(this.getElementId("foreground"));ot.on("mousedown",this.onMouseDown("foreground")),ot.on("touchstart",this.onMouseDown("foreground"))},Y.prototype.adjustOffsetRange=function(q){var ot=this.cfg,ft=ot.start,ct=ot.end;switch(this.currentTarget){case"minHandler":{var rt=0-ft,gt=1-ft;return Math.min(gt,Math.max(rt,q))}case"maxHandler":{var rt=0-ct,gt=1-ct;return Math.min(gt,Math.max(rt,q))}case"foreground":{var rt=0-ft,gt=1-ct;return Math.min(gt,Math.max(rt,q))}}},Y.prototype.updateStartEnd=function(q){var ot=this.cfg,ft=ot.start,ct=ot.end;switch(this.currentTarget){case"minHandler":ft+=q;break;case"maxHandler":ct+=q;break;case"foreground":ft+=q,ct+=q;break}this.set("start",ft),this.set("end",ct)},Y.prototype._dodgeText=function(q,ot,ft){var ct,rt,gt=this.cfg,Et=gt.handlerStyle,Gt=gt.width,Yt=2,Xt=Object(o.get)(Et,"width",G),vt=q[0],mt=q[1],ut=!1;vt>mt&&(ct=[mt,vt],vt=ct[0],mt=ct[1],rt=[ft,ot],ot=rt[0],ft=rt[1],ut=!0);var st=ot.getBBox(),lt=ft.getBBox(),Tt=st.width>vt-Yt?{x:vt+Xt/2+Yt,textAlign:"left"}:{x:vt-Xt/2-Yt,textAlign:"right"},Ot=lt.width>Gt-mt-Yt?{x:mt-Xt/2-Yt,textAlign:"right"}:{x:mt+Xt/2+Yt,textAlign:"left"};return ut?[Ot,Tt]:[Tt,Ot]},Y.prototype.draw=function(){var q=this.get("container"),ot=q&&q.get("canvas");ot&&ot.draw()},Y.prototype.getContainerDOM=function(){var q=this.get("container"),ot=q&&q.get("canvas");return ot&&ot.get("container")},Y}(x.a),K=Q},PsWc:function(jt,A,a){"use strict";a.d(A,"a",function(){return ft});var f=a("jg4I"),o=a("nHjW"),x=a("qo2e"),O=a("yiSY"),C=a("Pys6"),P=a("5B5S"),b=a("hQ/K"),S=a("om1O"),y=a("x9kB"),E=a("VvtR"),m=a("KN8b"),T=a("Jg9/"),L=a("+6Kx"),g=a("ITH6"),j=a("H1QV"),U=a("dOdv"),W=a("iZJk"),z=a("2h0J"),N=a("mZcS"),I=a("Sp2P"),B=a("1QYT"),G=a("vncI"),k=a("mQLO"),V=a("rr1f"),tt=a("/iG4"),Q=a("bQRB"),K=a("kRPs"),_=a("sD+k"),Y={line:x.a,pie:O.a,column:C.a,bar:P.a,area:b.a,gauge:S.a,"tiny-line":y.a,"tiny-column":E.a,"tiny-area":m.a,"ring-progress":T.a,progress:L.a,scatter:g.a,histogram:j.a},q={line:U.a,pie:W.a,column:N.a,bar:z.a,area:I.a,gauge:B.a,"tiny-line":G.a,"tiny-column":V.a,"tiny-area":k.a,"ring-progress":tt.a,progress:Q.a,scatter:K.a,histogram:_.a},ot={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function ft(ct,rt,gt){var Et=q[ct];if(!Et){console.error("could not find "+ct+" plot");return}var Gt=Y[ct];Gt({chart:rt,options:Object(o.c)({},Et.getDefaultOptions(),Object(f.get)(ot,ct,{}),gt)})}},PwAq:function(jt,A){var a=[],f=[],o="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function x(C,P){if(P=P||{},C===void 0)throw new Error(o);var b=P.prepend===!0?"prepend":"append",S=P.container!==void 0?P.container:document.querySelector("head"),y=a.indexOf(S);y===-1&&(y=a.push(S)-1,f[y]={});var E;return f[y]!==void 0&&f[y][b]!==void 0?E=f[y][b]:(E=f[y][b]=O(),b==="prepend"?S.insertBefore(E,S.childNodes[0]):S.appendChild(E)),C.charCodeAt(0)===65279&&(C=C.substr(1,C.length)),E.styleSheet?E.styleSheet.cssText+=C:E.textContent+=C,E}function O(){var C=document.createElement("style");return C.setAttribute("type","text/css"),C}jt.exports=x,jt.exports.insertCss=x},Pys6:function(jt,A,a){"use strict";a.d(A,"b",function(){return N}),a.d(A,"a",function(){return V});var f=a("CMID"),o=a("jg4I"),x=a("N2cT"),O=a("JUmX"),C=a("nHjW"),P=a("P+Gc");function b(tt,Q){return Object(C.c)({size:Q?32:80,spacing:Q?8:12,offset:Q?32:0,arrow:tt.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:tt.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:P.a}},tt)}function S(tt,Q){return Object(o.map)(Q.getModel().points,function(K){return tt.convertPoint(K)})}function y(tt,Q,K){var _=tt.view,Y=tt.geometry,q=tt.group,ot=tt.options,ft=tt.horizontal,ct=ot.offset,rt=ot.size,gt=ot.arrow,Et=_.getCoordinate(),Gt=S(Et,Q)[ft?3:0],Yt=S(Et,K)[ft?0:3],Xt=Yt.y-Gt.y,vt=Yt.x-Gt.x;if(typeof gt!="boolean"){var mt=gt.headSize,ut=ot.spacing,st;ft?(vt-mt)/2<ut?(ut=Math.max(1,(vt-mt)/2),st=[[Gt.x+ut,Gt.y-ct],[Gt.x+ut,Gt.y-ct-rt],[Yt.x-ut,Yt.y-ct-rt/2]]):st=[[Gt.x+ut,Gt.y-ct],[Gt.x+ut,Gt.y-ct-rt],[Yt.x-ut-mt,Yt.y-ct-rt],[Yt.x-ut,Yt.y-ct-rt/2],[Yt.x-ut-mt,Yt.y-ct]]:(Xt-mt)/2<ut?(ut=Math.max(1,(Xt-mt)/2),st=[[Gt.x+ct,Gt.y+ut],[Gt.x+ct+rt,Gt.y+ut],[Yt.x+ct+rt/2,Yt.y-ut]]):st=[[Gt.x+ct,Gt.y+ut],[Gt.x+ct+rt,Gt.y+ut],[Yt.x+ct+rt,Yt.y-ut-mt],[Yt.x+ct+rt/2,Yt.y-ut],[Yt.x+ct,Yt.y-ut-mt]],q.addShape("polygon",{id:_.id+"-conversion-tag-arrow-"+Y.getElementId(Q.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:Q,nextElement:K},attrs:Object(f.__assign)(Object(f.__assign)({},gt.style||{}),{points:st})})}}function E(tt,Q,K){var _,Y,q,ot=tt.view,ft=tt.geometry,ct=tt.group,rt=tt.options,gt=tt.field,Et=tt.horizontal,Gt=rt.offset,Yt=rt.size;if(typeof rt.text!="boolean"){var Xt=ot.getCoordinate(),vt=((_=rt.text)===null||_===void 0?void 0:_.formatter)&&((Y=rt.text)===null||Y===void 0?void 0:Y.formatter(Q.getData()[gt],K.getData()[gt])),mt=S(Xt,Q)[Et?3:0],ut=S(Xt,K)[Et?0:3],st=ct.addShape("text",{id:ot.id+"-conversion-tag-text-"+ft.getElementId(Q.getModel().mappingData),name:"conversion-tag-text",origin:{element:Q,nextElement:K},attrs:Object(f.__assign)(Object(f.__assign)({},((q=rt.text)===null||q===void 0?void 0:q.style)||{}),{text:vt,x:Et?(mt.x+ut.x)/2:mt.x+Gt+Yt/2,y:Et?mt.y-Gt-Yt/2:(mt.y+ut.y)/2})});if(Et){var lt=ut.x-mt.x,Tt=st.getBBox().width;if(Tt>lt){var Ot=Tt/vt.length,et=Math.max(1,Math.ceil(lt/Ot)-1),H=vt.slice(0,et)+"...";st.attr("text",H)}}}}function m(tt,Q,K){y(tt,Q,K),E(tt,Q,K)}function T(tt,Q,K){return Q===void 0&&(Q=!0),K===void 0&&(K=!1),function(_){var Y=_.options,q=_.chart,ot=Y.conversionTag,ft=Y.theme;return ot&&!K&&(q.theme(Object(C.c)({},Object(o.isObject)(ft)?ft:Object(O.getTheme)(ft),{columnWidthRatio:1/3})),q.annotation().shape({render:function(rt,gt){var Et=rt.addGroup({id:q.id+"-conversion-tag-group",name:"conversion-tag-group"}),Gt=Object(o.find)(q.geometries,function(vt){return vt.type==="interval"}),Yt={view:gt,geometry:Gt,group:Et,field:tt,horizontal:Q,options:b(ot,Q)},Xt=Q?Gt.elements:Gt.elements.slice().reverse();Object(o.each)(Xt,function(vt,mt){mt>0&&m(Yt,Xt[mt-1],vt)})}})),_}}var L={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};Object(O.registerInteraction)(L.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(O.registerInteraction)(L.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function g(tt){return tt===void 0&&(tt=!1),function(Q){var K=Q.chart,_=Q.options,Y=_.connectedArea,q=function(){K.removeInteraction(L.hover),K.removeInteraction(L.click)};if(!tt&&Y){var ot=Y.trigger||"hover";q(),K.interaction(L[ot])}else q();return Q}}var j=a("8DqP"),U=a("vHs8");function W(tt){var Q=tt.options,K=Q.legend,_=Q.seriesField,Y=Q.isStack;return _?K!==!1&&(K=Object(f.__assign)({position:Y?"right-top":"top-left"},K)):K=!1,tt.options.legend=K,tt}function z(tt){var Q=tt.chart,K=tt.options,_=K.data,Y=K.columnStyle,q=K.color,ot=K.columnWidthRatio,ft=K.isPercent,ct=K.xField,rt=K.yField,gt=K.seriesField,Et=K.tooltip;Q.data(Object(U.a)(_,rt,ct,rt,ft));var Gt=ft?Object(f.__assign)({formatter:function(vt){return{name:vt[gt]||vt[ct],value:(Number(vt[rt])*100).toFixed(2)+"%"}}},Et):Et,Yt=Object(C.c)({},tt,{options:{widthRatio:ot,tooltip:Gt,interval:{style:Y,color:q}}});return Object(j.c)(Yt),tt}function N(tt){var Q,K,_=tt.options,Y=_.xAxis,q=_.yAxis,ot=_.xField,ft=_.yField,ct=_.data,rt=_.isPercent,gt=rt?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(C.f)(Object(x.f)((Q={},Q[ot]=Y,Q[ft]=q,Q),(K={},K[ot]={type:"cat"},K[ft]=Object(f.__assign)(Object(f.__assign)({},Object(C.b)(ct,ft)),gt),K)))(tt)}function I(tt){var Q=tt.chart,K=tt.options,_=K.xAxis,Y=K.yAxis,q=K.xField,ot=K.yField;return _===!1?Q.axis(q,!1):Q.axis(q,_),Y===!1?Q.axis(ot,!1):Q.axis(ot,Y),tt}function B(tt){var Q=tt.chart,K=tt.options,_=K.legend,Y=K.seriesField;return _&&Y?Q.legend(Y,_):_===!1&&Q.legend(!1),tt}function G(tt){var Q=tt.chart,K=tt.options,_=K.label,Y=K.yField,q=K.isRange,ot=Object(C.d)(Q,"interval");if(!_)ot.label(!1);else{var ft=_.callback,ct=Object(f.__rest)(_,["callback"]);ot.label({fields:[Y],callback:ft,cfg:Object(f.__assign)({layout:(ct==null?void 0:ct.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(C.w)(q?Object(f.__assign)({content:function(gt){var Et;return(Et=gt[Y])===null||Et===void 0?void 0:Et.join("-")}},ct):ct))})}return tt}function k(tt){var Q=tt.chart,K=tt.options,_=K.tooltip,Y=K.isGroup,q=K.isStack,ot=K.groupField,ft=K.data,ct=K.xField,rt=K.yField,gt=K.seriesField;if(_===!1)Q.tooltip(!1);else{var Et=_;if(Y&&q){var Gt=(Et==null?void 0:Et.formatter)||function(Yt){return{name:Yt[gt]+" - "+Yt[ot],value:Yt[rt]}};Et=Object(f.__assign)(Object(f.__assign)({},Et),{customItems:function(Xt){var vt=[];return Object(o.each)(Xt,function(mt){var ut=Object(o.filter)(ft,function(st){return Object(o.isMatch)(st,Object(C.r)(mt.data,[ct,gt]))});ut.forEach(function(st){vt.push(Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},mt),{value:st[rt],data:st,mappingData:{_origin:st}}),Gt(st)))})}),vt}})}Q.tooltip(Et)}return tt}function V(tt,Q){Q===void 0&&(Q=!1);var K=tt.options,_=K.seriesField;return Object(C.f)(W,x.j,x.i,z,N,I,B,k,x.h,x.g,G,x.c,x.a,Object(x.b)(),T(K.yField,!Q,!!_),g(!K.isStack),x.e)(tt)}},"Q+aX":function(jt,A,a){jt.exports=o;var f=a("jFP1")();function o(x,O,C,P,b,S){var y,E;for(O||(O=2),C||(C=0),P?E=Math.min(P*O+C,x.length):E=x.length,y=C;y<E;y+=O)f[0]=x[y],f[1]=x[y+1],b(f,f,S),x[y]=f[0],x[y+1]=f[1];return x}},Q55c:function(jt,A,a){"use strict";var f=a("T1Zk");a.d(A,"getAdjust",function(){return f.getAdjust});var o=a("5Kaj"),x=a("vAzl"),O=a("tKNA"),C=a("Swz8"),P=a("ANdP"),b=a("X5ku"),S=a.n(b);Object(f.registerAdjust)("Dodge",x.a),Object(f.registerAdjust)("Jitter",O.a),Object(f.registerAdjust)("Stack",C.a),Object(f.registerAdjust)("Symmetric",P.a)},Q8h2:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AsyncContainerModule=A.ContainerModule=void 0;var f=a("qSJf"),o=function(){function O(C){this.id=f.id(),this.registry=C}return O}();A.ContainerModule=o;var x=function(){function O(C){this.id=f.id(),this.registry=C}return O}();A.AsyncContainerModule=x},QArz:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getOutDegree=A.getInDegree=A.default=void 0;var f=function(P){var b={},S=P.nodes,y=S===void 0?[]:S,E=P.edges,m=E===void 0?[]:E;return y.forEach(function(T){b[T.id]={degree:0,inDegree:0,outDegree:0}}),m.forEach(function(T){b[T.source].degree++,b[T.source].outDegree++,b[T.target].degree++,b[T.target].inDegree++}),b},o=f;A.default=o;var x=function(P,b){var S=f(P);return S[b]?f(P)[b].inDegree:0};A.getInDegree=x;var O=function(P,b){var S=f(P);return S[b]?f(P)[b].outDegree:0};A.getOutDegree=O},Qbsp:function(jt,A,a){"use strict";a.d(A,"a",function(){return et});var f=a("CMID"),o=a("tqeG"),x=a("N2cT"),O=a("nHjW"),C=a("8DqP"),P=a("jg4I"),b=a("2l0P"),S={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function y(H,pt){return pt=Object(P.assign)({},S,pt),E(H,pt)}function E(H,pt){var nt=q();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(Lt){Object(P.isNil)(pt[Lt])||nt[Lt](pt[Lt])}),nt.words(H),pt.imageMask&&nt.createMask(pt.imageMask);var yt=nt.start(),Pt=yt._tags;Pt.forEach(function(Lt){Lt.x+=pt.size[0]/2,Lt.y+=pt.size[1]/2});var Rt=pt.size,Wt=Rt[0],Vt=Rt[1];return Pt.push({text:"",value:0,x:0,y:0,opacity:0}),Pt.push({text:"",value:0,x:Wt,y:Vt,opacity:0}),Pt}var m=Math.PI/180,T=1<<11>>5,L=1<<11;function g(H){return H.text}function j(){return"serif"}function U(){return"normal"}function W(H){return H.value}function z(){return~~(Math.random()*2)*90}function N(){return 1}function I(H,pt,nt,yt){if(!pt.sprite){var Pt=H.context,Rt=H.ratio;Pt.clearRect(0,0,(T<<5)/Rt,L/Rt);var Wt=0,Vt=0,Lt=0,Ct=nt.length;for(--yt;++yt<Ct;){pt=nt[yt],Pt.save(),Pt.font=pt.style+" "+pt.weight+" "+~~((pt.size+1)/Rt)+"px "+pt.font;var at=Pt.measureText(pt.text+"m").width*Rt,It=pt.size<<1;if(pt.rotate){var Ft=Math.sin(pt.rotate*m),xt=Math.cos(pt.rotate*m),Nt=at*xt,Ht=at*Ft,Bt=It*xt,Ut=It*Ft;at=Math.max(Math.abs(Nt+Ut),Math.abs(Nt-Ut))+31>>5<<5,It=~~Math.max(Math.abs(Ht+Bt),Math.abs(Ht-Bt))}else at=at+31>>5<<5;if(It>Lt&&(Lt=It),Wt+at>=T<<5&&(Wt=0,Vt+=Lt,Lt=0),Vt+It>=L)break;Pt.translate((Wt+(at>>1))/Rt,(Vt+(It>>1))/Rt),pt.rotate&&Pt.rotate(pt.rotate*m),Pt.fillText(pt.text,0,0),pt.padding&&(Pt.lineWidth=2*pt.padding,Pt.strokeText(pt.text,0,0)),Pt.restore(),pt.width=at,pt.height=It,pt.xoff=Wt,pt.yoff=Vt,pt.x1=at>>1,pt.y1=It>>1,pt.x0=-pt.x1,pt.y0=-pt.y1,pt.hasText=!0,Wt+=at}for(var Jt=Pt.getImageData(0,0,(T<<5)/Rt,L/Rt).data,oe=[];--yt>=0;)if(pt=nt[yt],!!pt.hasText){for(var at=pt.width,ge=at>>5,It=pt.y1-pt.y0,Ce=0;Ce<It*ge;Ce++)oe[Ce]=0;if(Wt=pt.xoff,Wt==null)return;Vt=pt.yoff;for(var Ie=0,We=-1,lr=0;lr<It;lr++){for(var Ce=0;Ce<at;Ce++){var rr=ge*lr+(Ce>>5),$e=Jt[(Vt+lr)*(T<<5)+(Wt+Ce)<<2]?1<<31-Ce%32:0;oe[rr]|=$e,Ie|=$e}Ie?We=lr:(pt.y0++,It--,lr--,Vt++)}pt.y1=pt.y0+We,pt.sprite=oe.slice(0,(pt.y1-pt.y0)*ge)}}}function B(H,pt,nt){nt>>=5;for(var yt=H.sprite,Pt=H.width>>5,Rt=H.x-(Pt<<4),Wt=Rt&127,Vt=32-Wt,Lt=H.y1-H.y0,Ct=(H.y+H.y0)*nt+(Rt>>5),at,It=0;It<Lt;It++){at=0;for(var Ft=0;Ft<=Pt;Ft++)if((at<<Vt|(Ft<Pt?(at=yt[It*Pt+Ft])>>>Wt:0))&pt[Ct+Ft])return!0;Ct+=nt}return!1}function G(H,pt){var nt=H[0],yt=H[1];pt.x+pt.x0<nt.x&&(nt.x=pt.x+pt.x0),pt.y+pt.y0<nt.y&&(nt.y=pt.y+pt.y0),pt.x+pt.x1>yt.x&&(yt.x=pt.x+pt.x1),pt.y+pt.y1>yt.y&&(yt.y=pt.y+pt.y1)}function k(H,pt){return H.x+H.x1>pt[0].x&&H.x+H.x0<pt[1].x&&H.y+H.y1>pt[0].y&&H.y+H.y0<pt[1].y}function V(H){var pt=H[0]/H[1];return function(nt){return[pt*(nt*=.1)*Math.cos(nt),nt*Math.sin(nt)]}}function tt(H){var pt=4,nt=pt*H[0]/H[1],yt=0,Pt=0;return function(Rt){var Wt=Rt<0?-1:1;switch(Math.sqrt(1+4*Wt*Rt)-Wt&3){case 0:yt+=nt;break;case 1:Pt+=pt;break;case 2:yt-=nt;break;default:Pt-=pt;break}return[yt,Pt]}}function Q(H){for(var pt=[],nt=-1;++nt<H;)pt[nt]=0;return pt}function K(){return document.createElement("canvas")}function _(H){return Object(P.isFunction)(H)?H:function(){return H}}var Y={archimedean:V,rectangular:tt};function q(){var H=[256,256],pt=j,nt=W,yt=U,Pt=z,Rt=N,Wt=V,Vt=Math.random,Lt=[],Ct=Infinity,at=g,It=U,Ft=K,xt={};xt.start=function(){var Bt=H[0],Ut=H[1],Jt=Nt(Ft()),oe=xt.board?xt.board:Q((H[0]>>5)*H[1]),ge=Lt.length,Ce=[],Ie=Lt.map(function($e,Ue,ir){return $e.text=at.call(this,$e,Ue,ir),$e.font=pt.call(this,$e,Ue,ir),$e.style=It.call(this,$e,Ue,ir),$e.weight=yt.call(this,$e,Ue,ir),$e.rotate=Pt.call(this,$e,Ue,ir),$e.size=~~nt.call(this,$e,Ue,ir),$e.padding=Rt.call(this,$e,Ue,ir),$e}).sort(function($e,Ue){return Ue.size-$e.size}),We=-1,lr=xt.board?[{x:0,y:0},{x:Bt,y:Ut}]:null;rr();function rr(){for(var $e=Date.now();Date.now()-$e<Ct&&++We<ge;){var Ue=Ie[We];Ue.x=Bt*(Vt()+.5)>>1,Ue.y=Ut*(Vt()+.5)>>1,I(Jt,Ue,Ie,We),Ue.hasText&&Ht(oe,Ue,lr)&&(Ce.push(Ue),lr?xt.hasImage||G(lr,Ue):lr=[{x:Ue.x+Ue.x0,y:Ue.y+Ue.y0},{x:Ue.x+Ue.x1,y:Ue.y+Ue.y1}],Ue.x-=H[0]>>1,Ue.y-=H[1]>>1)}xt._tags=Ce,xt._bounds=lr}return xt};function Nt(Bt){Bt.width=Bt.height=1;var Ut=Math.sqrt(Bt.getContext("2d").getImageData(0,0,1,1).data.length>>2);Bt.width=(T<<5)/Ut,Bt.height=L/Ut;var Jt=Bt.getContext("2d");return Jt.fillStyle=Jt.strokeStyle="red",Jt.textAlign="center",{context:Jt,ratio:Ut}}function Ht(Bt,Ut,Jt){for(var oe=Ut.x,ge=Ut.y,Ce=Math.sqrt(H[0]*H[0]+H[1]*H[1]),Ie=Wt(H),We=Vt()<.5?1:-1,lr,rr=-We,$e,Ue;(lr=Ie(rr+=We))&&($e=~~lr[0],Ue=~~lr[1],!(Math.min(Math.abs($e),Math.abs(Ue))>=Ce));)if(Ut.x=oe+$e,Ut.y=ge+Ue,!(Ut.x+Ut.x0<0||Ut.y+Ut.y0<0||Ut.x+Ut.x1>H[0]||Ut.y+Ut.y1>H[1])&&(!Jt||!B(Ut,Bt,H[0]))&&(!Jt||k(Ut,Jt))){for(var ir=Ut.sprite,xr=Ut.width>>5,nr=H[0]>>5,tn=Ut.x-(xr<<4),bn=tn&127,Ur=32-bn,Le=Ut.y1-Ut.y0,or=void 0,Gr=(Ut.y+Ut.y0)*nr+(tn>>5),Kr=0;Kr<Le;Kr++){or=0;for(var $r=0;$r<=xr;$r++)Bt[Gr+$r]|=or<<Ur|($r<xr?(or=ir[Kr*xr+$r])>>>bn:0);Gr+=nr}return delete Ut.sprite,!0}return!1}return xt.createMask=function(Bt){var Ut=document.createElement("canvas"),Jt=H[0],oe=H[1];if(!(!Jt||!oe)){var ge=Jt>>5,Ce=Q((Jt>>5)*oe);Ut.width=Jt,Ut.height=oe;var Ie=Ut.getContext("2d");Ie.drawImage(Bt,0,0,Bt.width,Bt.height,0,0,Jt,oe);for(var We=Ie.getImageData(0,0,Jt,oe).data,lr=0;lr<oe;lr++)for(var rr=0;rr<Jt;rr++){var $e=ge*lr+(rr>>5),Ue=lr*Jt+rr<<2,ir=We[Ue]>=250&&We[Ue+1]>=250&&We[Ue+2]>=250,xr=ir?1<<31-rr%32:0;Ce[$e]|=xr}xt.board=Ce,xt.hasImage=!0}},xt.timeInterval=function(Bt){Ct=Bt==null?Infinity:Bt},xt.words=function(Bt){Lt=Bt},xt.size=function(Bt){H=[+Bt[0],+Bt[1]]},xt.font=function(Bt){pt=_(Bt)},xt.fontWeight=function(Bt){yt=_(Bt)},xt.rotate=function(Bt){Pt=_(Bt)},xt.spiral=function(Bt){Wt=Y[Bt]||Bt},xt.fontSize=function(Bt){nt=_(Bt)},xt.padding=function(Bt){Rt=_(Bt)},xt.random=function(Bt){Vt=_(Bt)},xt}function ot(H){var pt=H.options,nt=H.chart,yt=nt,Pt=yt.width,Rt=yt.height,Wt=yt.padding,Vt=yt.appendPadding,Lt=yt.ele,Ct=pt.data,at=pt.imageMask,It=pt.wordField,Ft=pt.weightField,xt=pt.colorField,Nt=pt.wordStyle,Ht=pt.timeInterval,Bt=pt.random,Ut=pt.spiral,Jt=pt.autoFit,oe=Jt===void 0?!0:Jt,ge=pt.placementStrategy;if(!Ct||!Ct.length)return[];var Ce=Nt.fontFamily,Ie=Nt.fontWeight,We=Nt.padding,lr=Nt.fontSize,rr=Et(Ct,Ft),$e=[Xt(rr),vt(rr)],Ue=Ct.map(function(nr){return{text:nr[It],value:nr[Ft],color:nr[xt],datum:nr}}),ir={imageMask:at,font:Ce,fontSize:gt(lr,$e),fontWeight:Ie,size:ft({width:Pt,height:Rt,padding:Wt,appendPadding:Vt,autoFit:oe,container:Lt}),padding:We,timeInterval:Ht,random:Bt,spiral:Ut,rotate:Gt(pt)};if(Object(P.isFunction)(ge)){var xr=Ue.map(function(nr,tn,bn){return Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},nr),{hasText:!!nr.text,font:_(ir.font)(nr,tn,bn),weight:_(ir.fontWeight)(nr,tn,bn),rotate:_(ir.rotate)(nr,tn,bn),size:_(ir.fontSize)(nr,tn,bn),style:"normal"}),ge.call(nt,nr,tn,bn))});return xr.push({text:"",value:0,x:0,y:0,opacity:0}),xr.push({text:"",value:0,x:ir.size[0],y:ir.size[1],opacity:0}),xr}return y(Ue,ir)}function ft(H){var pt=H.width,nt=H.height,yt=H.container,Pt=H.autoFit,Rt=H.padding,Wt=H.appendPadding;if(Pt){var Vt=Object(O.i)(yt);pt=Vt.width,nt=Vt.height}pt=pt||400,nt=nt||400;var Lt=ct({padding:Rt,appendPadding:Wt}),Ct=Lt[0],at=Lt[1],It=Lt[2],Ft=Lt[3],xt=[pt-(Ft+at),nt-(Ct+It)];return xt}function ct(H){var pt=Object(b.b)(H.padding),nt=Object(b.b)(H.appendPadding),yt=pt[0]+nt[0],Pt=pt[1]+nt[1],Rt=pt[2]+nt[2],Wt=pt[3]+nt[3];return[yt,Pt,Rt,Wt]}function rt(H){return new Promise(function(pt,nt){if(H instanceof HTMLImageElement){pt(H);return}if(Object(P.isString)(H)){var yt=new Image;yt.crossOrigin="anonymous",yt.src=H,yt.onload=function(){pt(yt)},yt.onerror=function(){Object(O.p)(O.a.ERROR,!1,"image %s load failed !!!",H),nt()};return}Object(O.p)(O.a.WARN,H===void 0,"The type of imageMask option must be String or HTMLImageElement."),nt()})}function gt(H,pt){if(Object(P.isFunction)(H))return H;if(Object(P.isArray)(H)){var nt=H[0],yt=H[1];if(!pt)return function(){return(yt+nt)/2};var Pt=pt[0],Rt=pt[1];return Rt===Pt?function(){return(yt+nt)/2}:function(Vt){var Lt=Vt.value;return(yt-nt)/(Rt-Pt)*(Lt-Pt)+nt}}return function(){return H}}function Et(H,pt){return H.map(function(nt){return nt[pt]}).filter(function(nt){return typeof nt=="number"&&!isNaN(nt)})}function Gt(H){var pt=Yt(H),nt=pt.rotation,yt=pt.rotationSteps;if(!Object(P.isArray)(nt))return nt;var Pt=nt[0],Rt=nt[1],Wt=yt===1?0:(Rt-Pt)/(yt-1);return function(){return Rt===Pt?Rt:Math.floor(Math.random()*yt)*Wt}}function Yt(H){var pt=H.wordStyle.rotationSteps;return pt<1&&(Object(O.p)(O.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),pt=1),{rotation:H.wordStyle.rotation,rotationSteps:pt}}function Xt(H){return Math.min.apply(Math,H)}function vt(H){return Math.max.apply(Math,H)}function mt(H){var pt=H.chart,nt=H.options,yt=nt.colorField,Pt=nt.color,Rt=ot(H);pt.data(Rt);var Wt=Object(O.c)({},H,{options:{xField:"x",yField:"y",seriesField:yt&&"color",point:{color:Pt,shape:"word-cloud"}}}),Vt=Object(C.e)(Wt).ext;return Vt.geometry.label(!1),pt.coordinate().reflect("y"),pt.axis(!1),H}function ut(H){return Object(O.f)(Object(x.f)({x:{nice:!1},y:{nice:!1}}))(H)}function st(H){Object(O.f)(mt,ut,x.k,x.d,x.c,x.a,x.j,x.i)(H)}var lt=Object(O.c)({},o.b.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(pt){return{name:pt.text,value:pt.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Tt=a("JUmX");Object(Tt.registerShape)("point","word-cloud",{draw:function(pt,nt){var yt=pt.x,Pt=pt.y,Rt=nt.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({},Ot(pt)),{x:yt,y:Pt})}),Wt=pt.data.rotate;return typeof Wt=="number"&&Tt.Util.rotate(Rt,Wt*Math.PI/180),Rt}});function Ot(H){return{fontSize:H.data.size,text:H.data.text,textAlign:"center",fontFamily:H.data.font,fontWeight:H.data.weight,fill:H.color||H.defaultStyle.stroke,textBaseline:"alphabetic"}}var et=function(H){Object(f.__extends)(pt,H);function pt(){var nt=H!==null&&H.apply(this,arguments)||this;return nt.type="word-cloud",nt}return pt.getDefaultOptions=function(){return lt},pt.prototype.changeData=function(nt){this.updateOption({data:nt}),this.options.imageMask?this.render():this.chart.changeData(ot({chart:this.chart,options:this.options}))},pt.prototype.getDefaultOptions=function(){return pt.getDefaultOptions()},pt.prototype.render=function(){var nt=this;return new Promise(function(yt){var Pt=nt.options.imageMask;if(!Pt){H.prototype.render.call(nt),yt();return}var Rt=function(Vt){nt.options=Object(f.__assign)(Object(f.__assign)({},nt.options),{imageMask:Vt||null}),H.prototype.render.call(nt),yt()};rt(Pt).then(Rt).catch(Rt)})},pt.prototype.getSchemaAdaptor=function(){return st},pt.prototype.triggerResize=function(){var nt=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){H.prototype.triggerResize.call(nt)}))},pt}(o.b)},R5yz:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=function(C,P){return C-P},o=function(){function O(C){C===void 0&&(C=f),this.compareFn=C,this.list=[]}return O.prototype.getLeft=function(C){return 2*C+1},O.prototype.getRight=function(C){return 2*C+2},O.prototype.getParent=function(C){return C===0?null:Math.floor((C-1)/2)},O.prototype.isEmpty=function(){return this.list.length<=0},O.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},O.prototype.delMin=function(){var C=this.top(),P=this.list.pop();return this.list.length>0&&(this.list[0]=P,this.moveDown(0)),C},O.prototype.insert=function(C){if(C!==null){this.list.push(C);var P=this.list.length-1;return this.moveUp(P),!0}return!1},O.prototype.moveUp=function(C){for(var P=this.getParent(C);C&&C>0&&this.compareFn(this.list[P],this.list[C])>0;){var b=this.list[P];this.list[P]=this.list[C],this.list[C]=b,C=P,P=this.getParent(C)}},O.prototype.moveDown=function(C){var P,b=C,S=this.getLeft(C),y=this.getRight(C),E=this.list.length;S!==null&&S<E&&this.compareFn(this.list[b],this.list[S])>0?b=S:y!==null&&y<E&&this.compareFn(this.list[b],this.list[y])>0&&(b=y),C!==b&&(P=[this.list[b],this.list[C]],this.list[C]=P[0],this.list[b]=P[1],this.moveDown(b))},O}(),x=o;A.default=x},RHEd:function(jt,A){function a(f,o,x,O){!x||Object.defineProperty(f,o,{enumerable:x.enumerable,configurable:x.configurable,writable:x.writable,value:x.initializer?x.initializer.call(O):void 0})}jt.exports=a,jt.exports.default=jt.exports,jt.exports.__esModule=!0},"RV5/":function(jt,A,a){jt.exports={EPSILON:a("pHwo"),create:a("jFP1"),clone:a("Z23w"),fromValues:a("44Go"),copy:a("r/Jg"),set:a("0mwY"),equals:a("HAYd"),exactEquals:a("kGri"),add:a("+2Ae"),subtract:a("EpgB"),sub:a("/XgH"),multiply:a("PdHs"),mul:a("pUwi"),divide:a("/Ykl"),div:a("jCkg"),inverse:a("eo7c"),min:a("X4CS"),max:a("EZfi"),rotate:a("iUtP"),floor:a("naqw"),ceil:a("zJ04"),round:a("JJ9t"),scale:a("SwPz"),scaleAndAdd:a("aMRv"),distance:a("rBQE"),dist:a("BTaQ"),squaredDistance:a("5LP0"),sqrDist:a("Zkfg"),length:a("oobg"),len:a("5Am0"),squaredLength:a("ebDh"),sqrLen:a("zEOA"),negate:a("MGR1"),normalize:a("8+ZV"),dot:a("FolP"),cross:a("WLqU"),lerp:a("COEK"),random:a("ylrI"),transformMat2:a("fI7b"),transformMat2d:a("WzGa"),transformMat3:a("wMWh"),transformMat4:a("Rj9g"),forEach:a("Q+aX"),limit:a("3zSj")}},RaWV:function(jt,A){function a(f,o,x,O){var C=-1,P=f==null?0:f.length;for(O&&P&&(x=f[++C]);++C<P;)x=o(x,f[C],C,f);return x}jt.exports=a},Rj9g:function(jt,A){jt.exports=a;function a(f,o,x){var O=o[0],C=o[1];return f[0]=x[0]*O+x[4]*C+x[12],f[1]=x[1]*O+x[5]*C+x[13],f}},"Rph/":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.circularDependencyToException=A.listMetadataForTarget=A.listRegisteredBindingsForServiceIdentifier=A.getServiceIdentifierAsString=A.getFunctionName=void 0;var f=a("196R");function o(y){if(typeof y=="function"){var E=y;return E.name}else{if(typeof y=="symbol")return y.toString();var E=y;return E}}A.getServiceIdentifierAsString=o;function x(y,E,m){var T="",L=m(y,E);return L.length!==0&&(T=`
Registered bindings:`,L.forEach(function(g){var j="Object";g.implementationType!==null&&(j=S(g.implementationType)),T=T+`
 `+j,g.constraint.metaData&&(T=T+" - "+g.constraint.metaData)})),T}A.listRegisteredBindingsForServiceIdentifier=x;function O(y,E){return y.parentRequest===null?!1:y.parentRequest.serviceIdentifier===E?!0:O(y.parentRequest,E)}function C(y){function E(T,L){L===void 0&&(L=[]);var g=o(T.serviceIdentifier);return L.push(g),T.parentRequest!==null?E(T.parentRequest,L):L}var m=E(y);return m.reverse().join(" --> ")}function P(y){y.childRequests.forEach(function(E){if(O(E,E.serviceIdentifier)){var m=C(E);throw new Error(f.CIRCULAR_DEPENDENCY+" "+m)}else P(E)})}A.circularDependencyToException=P;function b(y,E){if(E.isTagged()||E.isNamed()){var m="",T=E.getNamedTag(),L=E.getCustomTags();return T!==null&&(m+=T.toString()+`
`),L!==null&&L.forEach(function(g){m+=g.toString()+`
`})," "+y+`
 `+y+" - "+m}else return" "+y}A.listMetadataForTarget=b;function S(y){if(y.name)return y.name;var E=y.toString(),m=E.match(/^function\s*([^\s(]+)/);return m?m[1]:"Anonymous function: "+E}A.getFunctionName=S},RsfV:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});var f={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}}},"RtY/":function(jt,A,a){"use strict";a.d(A,"a",function(){return ot});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("RHEd"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("4OuL"),E=a.n(y),m=a("r1m7"),T=a.n(m),L=a("YcyD"),g=a.n(L),j=a("XN3X"),U=a("ZVT1"),W=a("K4bE"),z,N,I,B,G,k,V,tt,Q,K=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,_=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Y=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,q=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ot=(z=Object(L.injectable)(),N=Object(L.inject)(j.a.RenderEngine),I=Object(L.inject)(j.a.ResourcePool),z(B=(G=(Q=tt=function ft(){var ct=this;S()(this,ft),P()(this,"engine",k,this),P()(this,"resourcePool",V,this),this.model=void 0,this.setup=function(rt,gt,Et){var Gt=rt.getPass(W.a.IDENTIFIER);if(Gt){var Yt=rt.createRenderTarget(gt,"render to screen",{width:1,height:1});Et.data={input:gt.read(Gt.data.output),output:gt.write(rt,Yt)}}},this.execute=function(){var rt=O()(o.a.mark(function gt(Et,Gt){var Yt,Xt,vt,mt,ut,st,lt;return o.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(Yt=ct.engine,Xt=Yt.createModel,vt=Yt.createAttribute,mt=Yt.createBuffer,ct.model){Ot.next=6;break}return Ot.next=4,Xt({vs:ct.engine.supportWebGPU?q:_,fs:ct.engine.supportWebGPU?Y:K,attributes:{a_Position:vt({buffer:mt({data:[-4,-4,4,-4,0,4],type:U.a.FLOAT}),size:2,arrayStride:2*4,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:ut=Ot.sent,ct.model=ut;case 6:st=Et.getResourceNode(Gt.data.input),lt=ct.resourcePool.getOrCreateResource(st.resource),ct.engine.useFramebuffer(null,function(){ct.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),ct.model.draw({uniforms:{u_Texture:lt}})});case 9:case"end":return Ot.stop()}},gt)}));return function(gt,Et){return rt.apply(this,arguments)}}(),this.tearDown=function(){ct.model=void 0}},tt.IDENTIFIER="Copy Pass",Q),k=E()(G.prototype,"engine",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=E()(G.prototype,"resourcePool",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G))||B)},RxlK:function(jt,A,a){"use strict";a.d(A,"b",function(){return f}),a.d(A,"c",function(){return o}),a.d(A,"a",function(){return x});function f(O,C){var P=[],b=O[0],S=O[1],y=O[2],E=O[3],m=O[4],T=O[5],L=O[6],g=O[7],j=O[8],U=C[0],W=C[1],z=C[2],N=C[3],I=C[4],B=C[5],G=C[6],k=C[7],V=C[8];return P[0]=U*b+W*E+z*L,P[1]=U*S+W*m+z*g,P[2]=U*y+W*T+z*j,P[3]=N*b+I*E+B*L,P[4]=N*S+I*m+B*g,P[5]=N*y+I*T+B*j,P[6]=G*b+k*E+V*L,P[7]=G*S+k*m+V*g,P[8]=G*y+k*T+V*j,P}function o(O,C){var P=[],b=C[0],S=C[1];return P[0]=O[0]*b+O[3]*S+O[6],P[1]=O[1]*b+O[4]*S+O[7],P}function x(O){var C=[],P=O[0],b=O[1],S=O[2],y=O[3],E=O[4],m=O[5],T=O[6],L=O[7],g=O[8],j=g*E-m*L,U=-g*y+m*T,W=L*y-E*T,z=P*j+b*U+S*W;return z?(z=1/z,C[0]=j*z,C[1]=(-g*b+S*L)*z,C[2]=(m*b-S*E)*z,C[3]=U*z,C[4]=(g*P-S*T)*z,C[5]=(-m*P+S*y)*z,C[6]=W*z,C[7]=(-L*P+b*T)*z,C[8]=(E*P-b*y)*z,C):null}},S8CN:function(jt,A){function a(f,o,x,O){for(var C=f.length,P=x+(O?1:-1);O?P--:++P<C;)if(o(f[P],P,f))return P;return-1}jt.exports=a},S9go:function(jt,A,a){"use strict";var f=a("fo7X"),o=a("8Vus"),x=a("bmBd")},SCaY:function(jt,A,a){"use strict";a.d(A,"b",function(){return x}),a.d(A,"a",function(){return O}),a.d(A,"d",function(){return C}),a.d(A,"c",function(){return P});var f=a("jg4I"),o=a("0xlF");function x(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function O(b){var S=o.a[b.type],y=b.getParent();if(!S)throw new Error("the type "+b.type+" is not supported by svg");var E=x(S);if(b.get("id")&&(E.id=b.get("id")),b.set("el",E),b.set("attrs",{}),y){var m=y.get("el");m||(m=y.createDom(),y.set("el",m)),m.appendChild(E)}return E}function C(b,S){var y=b.get("el"),E=Object(f.toArray)(y.children).sort(S),m=document.createDocumentFragment();E.forEach(function(T){m.appendChild(T)}),y.appendChild(m)}function P(b,S){var y=b.parentNode,E=Array.from(y.childNodes).filter(function(g){return g.nodeType===1&&g.nodeName.toLowerCase()!=="defs"}),m=E[S],T=E.indexOf(b);if(m){if(T>S)y.insertBefore(b,m);else if(T<S){var L=E[S+1];L?y.insertBefore(b,L):y.appendChild(b)}}else y.appendChild(b)}},SJBz:function(jt,A){},Sp2P:function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("tqeG"),x=a("vHs8"),O=a("hQ/K"),C=a("nHjW"),P=Object(C.c)({},o.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="area",E}return y.getDefaultOptions=function(){return P},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.changeData=function(E){this.updateOption({data:E});var m=this.options,T=m.isPercent,L=m.xField,g=m.yField,j=this,U=j.chart,W=j.options;Object(O.b)({chart:U,options:W}),this.chart.changeData(Object(x.a)(E,g,L,g,T))},y.prototype.getSchemaAdaptor=function(){return O.a},y}(o.b)},SwPz:function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=o[0]*x,f[1]=o[1]*x,f}},Swz8:function(jt,A,a){"use strict";var f=a("/WN3"),o=a("jg4I"),x=a("5Kaj"),O=o.Cache,C=function(P){Object(f.b)(b,P);function b(S){var y=P.call(this,S)||this,E=S.adjustNames,m=E===void 0?["y"]:E,T=S.height,L=T===void 0?NaN:T,g=S.size,j=g===void 0?10:g,U=S.reverseOrder,W=U===void 0?!1:U;return y.adjustNames=m,y.height=L,y.size=j,y.reverseOrder=W,y}return b.prototype.process=function(S){var y=this,E=y.yField,m=y.reverseOrder,T=E?this.processStack(S):this.processOneDimStack(S);return m?this.reverse(T):T},b.prototype.reverse=function(S){return S.slice(0).reverse()},b.prototype.processStack=function(S){var y=this,E=y.xField,m=y.yField,T=y.reverseOrder,L=T?this.reverse(S):S,g=new O,j=new O;return L.map(function(U){return U.map(function(W){var z,N=o.get(W,E,0),I=o.get(W,[m]),B=N.toString();if(I=o.isArray(I)?I[1]:I,!o.isNil(I)){var G=I>=0?g:j;G.has(B)||G.set(B,0);var k=G.get(B),V=I+k;return G.set(B,V),Object(f.a)(Object(f.a)({},W),(z={},z[m]=[k,V],z))}return W})})},b.prototype.processOneDimStack=function(S){var y=this,E=this,m=E.xField,T=E.height,L=E.reverseOrder,g="y",j=L?this.reverse(S):S,U=new O;return j.map(function(W){return W.map(function(z){var N,I=y.size,B=z[m],G=I*2/T;U.has(B)||U.set(B,G/2);var k=U.get(B);return U.set(B,k+G),Object(f.a)(Object(f.a)({},z),(N={},N[g]=k,N))})})},b}(x.a);A.a=C},T0ZP:function(jt,A,a){(function(f,o){jt.exports=o()})(this,function(){"use strict";var f=function(ie){return ie instanceof Uint8Array||ie instanceof Uint16Array||ie instanceof Uint32Array||ie instanceof Int8Array||ie instanceof Int16Array||ie instanceof Int32Array||ie instanceof Float32Array||ie instanceof Float64Array||ie instanceof Uint8ClampedArray},o=function(ie,Ee){for(var ar=Object.keys(Ee),_e=0;_e<ar.length;++_e)ie[ar[_e]]=Ee[ar[_e]];return ie},x=`
`;function O(qt){return typeof atob!="undefined"?atob(qt):"base64:"+qt}function C(qt){var ie=new Error("(regl) "+qt);throw console.error(ie),ie}function P(qt,ie){qt||C(ie)}function b(qt){return qt?": "+qt:""}function S(qt,ie,Ee){qt in ie||C("unknown parameter ("+qt+")"+b(Ee)+". possible values: "+Object.keys(ie).join())}function y(qt,ie){f(qt)||C("invalid parameter type"+b(ie)+". must be a typed array")}function E(qt,ie){switch(ie){case"number":return typeof qt=="number";case"object":return typeof qt=="object";case"string":return typeof qt=="string";case"boolean":return typeof qt=="boolean";case"function":return typeof qt=="function";case"undefined":return typeof qt=="undefined";case"symbol":return typeof qt=="symbol"}}function m(qt,ie,Ee){E(qt,ie)||C("invalid parameter type"+b(Ee)+". expected "+ie+", got "+typeof qt)}function T(qt,ie){qt>=0&&(qt|0)===qt||C("invalid parameter type, ("+qt+")"+b(ie)+". must be a nonnegative integer")}function L(qt,ie,Ee){ie.indexOf(qt)<0&&C("invalid value"+b(Ee)+". must be one of: "+ie)}var g=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function j(qt){Object.keys(qt).forEach(function(ie){g.indexOf(ie)<0&&C('invalid regl constructor argument "'+ie+'". must be one of '+g)})}function U(qt,ie){for(qt=qt+"";qt.length<ie;)qt=" "+qt;return qt}function W(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function z(qt,ie){this.number=qt,this.line=ie,this.errors=[]}function N(qt,ie,Ee){this.file=qt,this.line=ie,this.message=Ee}function I(){var qt=new Error,ie=(qt.stack||qt).toString(),Ee=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ie);if(Ee)return Ee[1];var ar=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ie);return ar?ar[1]:"unknown"}function B(){var qt=new Error,ie=(qt.stack||qt).toString(),Ee=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ie);if(Ee)return Ee[1];var ar=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ie);return ar?ar[1]:"unknown"}function G(qt,ie){var Ee=qt.split(`
`),ar=1,_e=0,Mr={unknown:new W,0:new W};Mr.unknown.name=Mr[0].name=ie||I(),Mr.unknown.lines.push(new z(0,""));for(var ur=0;ur<Ee.length;++ur){var Jr=Ee[ur],vn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Jr);if(vn)switch(vn[1]){case"line":var wr=/(\d+)(\s+\d+)?/.exec(vn[2]);wr&&(ar=wr[1]|0,wr[2]&&(_e=wr[2]|0,_e in Mr||(Mr[_e]=new W)));break;case"define":var cn=/SHADER_NAME(_B64)?\s+(.*)$/.exec(vn[2]);cn&&(Mr[_e].name=cn[1]?O(cn[2]):cn[2]);break}Mr[_e].lines.push(new z(ar++,Jr))}return Object.keys(Mr).forEach(function(rn){var gn=Mr[rn];gn.lines.forEach(function(Zr){gn.index[Zr.number]=Zr})}),Mr}function k(qt){var ie=[];return qt.split(`
`).forEach(function(Ee){if(!(Ee.length<5)){var ar=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Ee);ar?ie.push(new N(ar[1]|0,ar[2]|0,ar[3].trim())):Ee.length>0&&ie.push(new N("unknown",0,Ee))}}),ie}function V(qt,ie){ie.forEach(function(Ee){var ar=qt[Ee.file];if(ar){var _e=ar.index[Ee.line];if(_e){_e.errors.push(Ee),ar.hasErrors=!0;return}}qt.unknown.hasErrors=!0,qt.unknown.lines[0].errors.push(Ee)})}function tt(qt,ie,Ee,ar,_e){if(!qt.getShaderParameter(ie,qt.COMPILE_STATUS)){var Mr=qt.getShaderInfoLog(ie),ur=ar===qt.FRAGMENT_SHADER?"fragment":"vertex";ft(Ee,"string",ur+" shader source must be a string",_e);var Jr=G(Ee,_e),vn=k(Mr);V(Jr,vn),Object.keys(Jr).forEach(function(wr){var cn=Jr[wr];if(!cn.hasErrors)return;var rn=[""],gn=[""];function Zr(_r,dr){rn.push(_r),gn.push(dr||"")}Zr("file number "+wr+": "+cn.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),cn.lines.forEach(function(_r){if(_r.errors.length>0){Zr(U(_r.number,4)+"|  ","background-color:yellow; font-weight:bold"),Zr(_r.line+x,"color:red; background-color:yellow; font-weight:bold");var dr=0;_r.errors.forEach(function(vr){var ln=vr.message,Sn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ln);if(Sn){var yr=Sn[1];switch(ln=Sn[2],yr){case"assign":yr="=";break}dr=Math.max(_r.line.indexOf(yr,dr),0)}else dr=0;Zr(U("| ",6)),Zr(U("^^^",dr+3)+x,"font-weight:bold"),Zr(U("| ",6)),Zr(ln+x,"font-weight:bold")}),Zr(U("| ",6)+x)}else Zr(U(_r.number,4)+"|  "),Zr(_r.line+x,"color:red")}),typeof document!="undefined"&&!window.chrome?(gn[0]=rn.join("%c"),console.log.apply(console,gn)):console.log(rn.join(""))}),P.raise("Error compiling "+ur+" shader, "+Jr[0].name)}}function Q(qt,ie,Ee,ar,_e){if(!qt.getProgramParameter(ie,qt.LINK_STATUS)){var Mr=qt.getProgramInfoLog(ie),ur=G(Ee,_e),Jr=G(ar,_e),vn='Error linking program with vertex shader, "'+Jr[0].name+'", and fragment shader "'+ur[0].name+'"';typeof document!="undefined"?console.log("%c"+vn+x+"%c"+Mr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(vn+x+Mr),P.raise(vn)}}function K(qt){qt._commandRef=I()}function _(qt,ie,Ee,ar){K(qt);function _e(vn){return vn?ar.id(vn):0}qt._fragId=_e(qt.static.frag),qt._vertId=_e(qt.static.vert);function Mr(vn,wr){Object.keys(wr).forEach(function(cn){vn[ar.id(cn)]=!0})}var ur=qt._uniformSet={};Mr(ur,ie.static),Mr(ur,ie.dynamic);var Jr=qt._attributeSet={};Mr(Jr,Ee.static),Mr(Jr,Ee.dynamic),qt._hasCount="count"in qt.static||"count"in qt.dynamic||"elements"in qt.static||"elements"in qt.dynamic}function Y(qt,ie){var Ee=B();C(qt+" in command "+(ie||I())+(Ee==="unknown"?"":" called from "+Ee))}function q(qt,ie,Ee){qt||Y(ie,Ee||I())}function ot(qt,ie,Ee,ar){qt in ie||Y("unknown parameter ("+qt+")"+b(Ee)+". possible values: "+Object.keys(ie).join(),ar||I())}function ft(qt,ie,Ee,ar){E(qt,ie)||Y("invalid parameter type"+b(Ee)+". expected "+ie+", got "+typeof qt,ar||I())}function ct(qt){qt()}function rt(qt,ie,Ee){qt.texture?L(qt.texture._texture.internalformat,ie,"unsupported texture format for attachment"):L(qt.renderbuffer._renderbuffer.format,Ee,"unsupported renderbuffer format for attachment")}var gt=33071,Et=9728,Gt=9984,Yt=9985,Xt=9986,vt=9987,mt=5120,ut=5121,st=5122,lt=5123,Tt=5124,Ot=5125,et=5126,H=32819,pt=32820,nt=33635,yt=34042,Pt=36193,Rt={};Rt[mt]=Rt[ut]=1,Rt[st]=Rt[lt]=Rt[Pt]=Rt[nt]=Rt[H]=Rt[pt]=2,Rt[Tt]=Rt[Ot]=Rt[et]=Rt[yt]=4;function Wt(qt,ie){return qt===pt||qt===H||qt===nt?2:qt===yt?4:Rt[qt]*ie}function Vt(qt){return!(qt&qt-1)&&!!qt}function Lt(qt,ie,Ee){var ar,_e=ie.width,Mr=ie.height,ur=ie.channels;P(_e>0&&_e<=Ee.maxTextureSize&&Mr>0&&Mr<=Ee.maxTextureSize,"invalid texture shape"),(qt.wrapS!==gt||qt.wrapT!==gt)&&P(Vt(_e)&&Vt(Mr),"incompatible wrap mode for texture, both width and height must be power of 2"),ie.mipmask===1?_e!==1&&Mr!==1&&P(qt.minFilter!==Gt&&qt.minFilter!==Xt&&qt.minFilter!==Yt&&qt.minFilter!==vt,"min filter requires mipmap"):(P(Vt(_e)&&Vt(Mr),"texture must be a square power of 2 to support mipmapping"),P(ie.mipmask===(_e<<1)-1,"missing or incomplete mipmap data")),ie.type===et&&(Ee.extensions.indexOf("oes_texture_float_linear")<0&&P(qt.minFilter===Et&&qt.magFilter===Et,"filter not supported, must enable oes_texture_float_linear"),P(!qt.genMipmaps,"mipmap generation not supported with float textures"));var Jr=ie.images;for(ar=0;ar<16;++ar)if(Jr[ar]){var vn=_e>>ar,wr=Mr>>ar;P(ie.mipmask&1<<ar,"missing mipmap data");var cn=Jr[ar];if(P(cn.width===vn&&cn.height===wr,"invalid shape for mip images"),P(cn.format===ie.format&&cn.internalformat===ie.internalformat&&cn.type===ie.type,"incompatible type for mip image"),!cn.compressed)if(cn.data){var rn=Math.ceil(Wt(cn.type,ur)*vn/cn.unpackAlignment)*cn.unpackAlignment;P(cn.data.byteLength===rn*wr,"invalid data for image, buffer size is inconsistent with image format")}else cn.element||cn.copy}else qt.genMipmaps||P((ie.mipmask&1<<ar)==0,"extra mipmap data");ie.compressed&&P(!qt.genMipmaps,"mipmap generation for compressed images not supported")}function Ct(qt,ie,Ee,ar){var _e=qt.width,Mr=qt.height,ur=qt.channels;P(_e>0&&_e<=ar.maxTextureSize&&Mr>0&&Mr<=ar.maxTextureSize,"invalid texture shape"),P(_e===Mr,"cube map must be square"),P(ie.wrapS===gt&&ie.wrapT===gt,"wrap mode not supported by cube map");for(var Jr=0;Jr<Ee.length;++Jr){var vn=Ee[Jr];P(vn.width===_e&&vn.height===Mr,"inconsistent cube map face shape"),ie.genMipmaps&&(P(!vn.compressed,"can not generate mipmap for compressed textures"),P(vn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var wr=vn.images,cn=0;cn<16;++cn){var rn=wr[cn];if(rn){var gn=_e>>cn,Zr=Mr>>cn;P(vn.mipmask&1<<cn,"missing mipmap data"),P(rn.width===gn&&rn.height===Zr,"invalid shape for mip images"),P(rn.format===qt.format&&rn.internalformat===qt.internalformat&&rn.type===qt.type,"incompatible type for mip image"),rn.compressed||(rn.data?P(rn.data.byteLength===gn*Zr*Math.max(Wt(rn.type,ur),rn.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):rn.element||rn.copy)}}}}var at=o(P,{optional:ct,raise:C,commandRaise:Y,command:q,parameter:S,commandParameter:ot,constructor:j,type:m,commandType:ft,isTypedArray:y,nni:T,oneOf:L,shaderError:tt,linkError:Q,callSite:B,saveCommandRef:K,saveDrawInfo:_,framebufferFormat:rt,guessCommand:I,texture2D:Lt,textureCube:Ct}),It=0,Ft=0,xt=5,Nt=6;function Ht(qt,ie){this.id=It++,this.type=qt,this.data=ie}function Bt(qt){return qt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Ut(qt){if(qt.length===0)return[];var ie=qt.charAt(0),Ee=qt.charAt(qt.length-1);if(qt.length>1&&ie===Ee&&(ie==='"'||ie==="'"))return['"'+Bt(qt.substr(1,qt.length-2))+'"'];var ar=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(qt);if(ar)return Ut(qt.substr(0,ar.index)).concat(Ut(ar[1])).concat(Ut(qt.substr(ar.index+ar[0].length)));var _e=qt.split(".");if(_e.length===1)return['"'+Bt(qt)+'"'];for(var Mr=[],ur=0;ur<_e.length;++ur)Mr=Mr.concat(Ut(_e[ur]));return Mr}function Jt(qt){return"["+Ut(qt).join("][")+"]"}function oe(qt,ie){return new Ht(qt,Jt(ie+""))}function ge(qt){return typeof qt=="function"&&!qt._reglType||qt instanceof Ht}function Ce(qt,ie){if(typeof qt=="function")return new Ht(Ft,qt);if(typeof qt=="number"||typeof qt=="boolean")return new Ht(xt,qt);if(Array.isArray(qt))return new Ht(Nt,qt.map(function(Ee,ar){return Ce(Ee,ie+"["+ar+"]")}));if(qt instanceof Ht)return qt;at(!1,"invalid option type in uniform "+ie)}var Ie={DynamicVariable:Ht,define:oe,isDynamic:ge,unbox:Ce,accessor:Jt},We={next:typeof requestAnimationFrame=="function"?function(qt){return requestAnimationFrame(qt)}:function(qt){return setTimeout(qt,16)},cancel:typeof cancelAnimationFrame=="function"?function(qt){return cancelAnimationFrame(qt)}:clearTimeout},lr=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function rr(){var qt={"":0},ie=[""];return{id:function(ar){var _e=qt[ar];return _e||(_e=qt[ar]=ie.length,ie.push(ar),_e)},str:function(ar){return ie[ar]}}}function $e(qt,ie,Ee){var ar=document.createElement("canvas");o(ar.style,{border:0,margin:0,padding:0,top:0,left:0}),qt.appendChild(ar),qt===document.body&&(ar.style.position="absolute",o(qt.style,{margin:0,padding:0}));function _e(){var Jr=window.innerWidth,vn=window.innerHeight;if(qt!==document.body){var wr=qt.getBoundingClientRect();Jr=wr.right-wr.left,vn=wr.bottom-wr.top}ar.width=Ee*Jr,ar.height=Ee*vn,o(ar.style,{width:Jr+"px",height:vn+"px"})}var Mr;qt!==document.body&&typeof ResizeObserver=="function"?(Mr=new ResizeObserver(function(){setTimeout(_e)}),Mr.observe(qt)):window.addEventListener("resize",_e,!1);function ur(){Mr?Mr.disconnect():window.removeEventListener("resize",_e),qt.removeChild(ar)}return _e(),{canvas:ar,onDestroy:ur}}function Ue(qt,ie){function Ee(ar){try{return qt.getContext(ar,ie)}catch(_e){return null}}return Ee("webgl")||Ee("experimental-webgl")||Ee("webgl-experimental")}function ir(qt){return typeof qt.nodeName=="string"&&typeof qt.appendChild=="function"&&typeof qt.getBoundingClientRect=="function"}function xr(qt){return typeof qt.drawArrays=="function"||typeof qt.drawElements=="function"}function nr(qt){return typeof qt=="string"?qt.split():(at(Array.isArray(qt),"invalid extension array"),qt)}function tn(qt){return typeof qt=="string"?(at(typeof document!="undefined","not supported outside of DOM"),document.querySelector(qt)):qt}function bn(qt){var ie=qt||{},Ee,ar,_e,Mr,ur={},Jr=[],vn=[],wr=typeof window=="undefined"?1:window.devicePixelRatio,cn=!1,rn=function(dr){dr&&at.raise(dr)},gn=function(){};if(typeof ie=="string"?(at(typeof document!="undefined","selector queries only supported in DOM enviroments"),Ee=document.querySelector(ie),at(Ee,"invalid query string for element")):typeof ie=="object"?ir(ie)?Ee=ie:xr(ie)?(Mr=ie,_e=Mr.canvas):(at.constructor(ie),"gl"in ie?Mr=ie.gl:"canvas"in ie?_e=tn(ie.canvas):"container"in ie&&(ar=tn(ie.container)),"attributes"in ie&&(ur=ie.attributes,at.type(ur,"object","invalid context attributes")),"extensions"in ie&&(Jr=nr(ie.extensions)),"optionalExtensions"in ie&&(vn=nr(ie.optionalExtensions)),"onDone"in ie&&(at.type(ie.onDone,"function","invalid or missing onDone callback"),rn=ie.onDone),"profile"in ie&&(cn=!!ie.profile),"pixelRatio"in ie&&(wr=+ie.pixelRatio,at(wr>0,"invalid pixel ratio"))):at.raise("invalid arguments to regl"),Ee&&(Ee.nodeName.toLowerCase()==="canvas"?_e=Ee:ar=Ee),!Mr){if(!_e){at(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Zr=$e(ar||document.body,rn,wr);if(!Zr)return null;_e=Zr.canvas,gn=Zr.onDestroy}ur.premultipliedAlpha===void 0&&(ur.premultipliedAlpha=!0),Mr=Ue(_e,ur)}return Mr?{gl:Mr,canvas:_e,container:ar,extensions:Jr,optionalExtensions:vn,pixelRatio:wr,profile:cn,onDone:rn,onDestroy:gn}:(gn(),rn("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ur(qt,ie){var Ee={};function ar(ur){at.type(ur,"string","extension name must be string");var Jr=ur.toLowerCase(),vn;try{vn=Ee[Jr]=qt.getExtension(Jr)}catch(wr){}return!!vn}for(var _e=0;_e<ie.extensions.length;++_e){var Mr=ie.extensions[_e];if(!ar(Mr))return ie.onDestroy(),ie.onDone('"'+Mr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ie.optionalExtensions.forEach(ar),{extensions:Ee,restore:function(){Object.keys(Ee).forEach(function(Jr){if(Ee[Jr]&&!ar(Jr))throw new Error("(regl): error restoring extension "+Jr)})}}}function Le(qt,ie){for(var Ee=Array(qt),ar=0;ar<qt;++ar)Ee[ar]=ie(ar);return Ee}var or=5120,Gr=5121,Kr=5122,$r=5123,jn=5124,Qn=5125,Bn=5126;function Nn(qt){for(var ie=16;ie<=1<<28;ie*=16)if(qt<=ie)return ie;return 0}function Xn(qt){var ie,Ee;return ie=(qt>65535)<<4,qt>>>=ie,Ee=(qt>255)<<3,qt>>>=Ee,ie|=Ee,Ee=(qt>15)<<2,qt>>>=Ee,ie|=Ee,Ee=(qt>3)<<1,qt>>>=Ee,ie|=Ee,ie|qt>>1}function ri(){var qt=Le(8,function(){return[]});function ie(Mr){var ur=Nn(Mr),Jr=qt[Xn(ur)>>2];return Jr.length>0?Jr.pop():new ArrayBuffer(ur)}function Ee(Mr){qt[Xn(Mr.byteLength)>>2].push(Mr)}function ar(Mr,ur){var Jr=null;switch(Mr){case or:Jr=new Int8Array(ie(ur),0,ur);break;case Gr:Jr=new Uint8Array(ie(ur),0,ur);break;case Kr:Jr=new Int16Array(ie(2*ur),0,ur);break;case $r:Jr=new Uint16Array(ie(2*ur),0,ur);break;case jn:Jr=new Int32Array(ie(4*ur),0,ur);break;case Qn:Jr=new Uint32Array(ie(4*ur),0,ur);break;case Bn:Jr=new Float32Array(ie(4*ur),0,ur);break;default:return null}return Jr.length!==ur?Jr.subarray(0,ur):Jr}function _e(Mr){Ee(Mr.buffer)}return{alloc:ie,free:Ee,allocType:ar,freeType:_e}}var In=ri();In.zero=ri();var gi=3408,oa=3410,wa=3411,Ea=3412,Vi=3413,fa=3414,Li=3415,Ji=33901,Xi=33902,Hi=3379,pa=3386,uo=34921,Mo=36347,co=36348,Sa=35661,Wo=35660,zo=34930,ko=36349,yl=34076,ya=34024,ml=7936,Ms=7937,ls=7938,Cs=35724,qs=34047,li=36063,Fl=34852,Vo=3553,Gs=34067,Us=34069,pe=33984,se=6408,ye=5126,ke=5121,Xe=36160,hr=36053,Wr=36064,hn=16384,Vn=function(ie,Ee){var ar=1;Ee.ext_texture_filter_anisotropic&&(ar=ie.getParameter(qs));var _e=1,Mr=1;Ee.webgl_draw_buffers&&(_e=ie.getParameter(Fl),Mr=ie.getParameter(li));var ur=!!Ee.oes_texture_float;if(ur){var Jr=ie.createTexture();ie.bindTexture(Vo,Jr),ie.texImage2D(Vo,0,se,1,1,0,se,ye,null);var vn=ie.createFramebuffer();if(ie.bindFramebuffer(Xe,vn),ie.framebufferTexture2D(Xe,Wr,Vo,Jr,0),ie.bindTexture(Vo,null),ie.checkFramebufferStatus(Xe)!==hr)ur=!1;else{ie.viewport(0,0,1,1),ie.clearColor(1,0,0,1),ie.clear(hn);var wr=In.allocType(ye,4);ie.readPixels(0,0,1,1,se,ye,wr),ie.getError()?ur=!1:(ie.deleteFramebuffer(vn),ie.deleteTexture(Jr),ur=wr[0]===1),In.freeType(wr)}}var cn=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),rn=!0;if(!cn){var gn=ie.createTexture(),Zr=In.allocType(ke,36);ie.activeTexture(pe),ie.bindTexture(Gs,gn),ie.texImage2D(Us,0,se,3,3,0,se,ke,Zr),In.freeType(Zr),ie.bindTexture(Gs,null),ie.deleteTexture(gn),rn=!ie.getError()}return{colorBits:[ie.getParameter(oa),ie.getParameter(wa),ie.getParameter(Ea),ie.getParameter(Vi)],depthBits:ie.getParameter(fa),stencilBits:ie.getParameter(Li),subpixelBits:ie.getParameter(gi),extensions:Object.keys(Ee).filter(function(_r){return!!Ee[_r]}),maxAnisotropic:ar,maxDrawbuffers:_e,maxColorAttachments:Mr,pointSizeDims:ie.getParameter(Ji),lineWidthDims:ie.getParameter(Xi),maxViewportDims:ie.getParameter(pa),maxCombinedTextureUnits:ie.getParameter(Sa),maxCubeMapSize:ie.getParameter(yl),maxRenderbufferSize:ie.getParameter(ya),maxTextureUnits:ie.getParameter(zo),maxTextureSize:ie.getParameter(Hi),maxAttributes:ie.getParameter(uo),maxVertexUniforms:ie.getParameter(Mo),maxVertexTextureUnits:ie.getParameter(Wo),maxVaryingVectors:ie.getParameter(co),maxFragmentUniforms:ie.getParameter(ko),glsl:ie.getParameter(Cs),renderer:ie.getParameter(Ms),vendor:ie.getParameter(ml),version:ie.getParameter(ls),readFloat:ur,npotTextureCube:rn}};function Ln(qt){return!!qt&&typeof qt=="object"&&Array.isArray(qt.shape)&&Array.isArray(qt.stride)&&typeof qt.offset=="number"&&qt.shape.length===qt.stride.length&&(Array.isArray(qt.data)||f(qt.data))}var xn=function(ie){return Object.keys(ie).map(function(Ee){return ie[Ee]})},Fi={shape:ho,flatten:fo};function ji(qt,ie,Ee){for(var ar=0;ar<ie;++ar)Ee[ar]=qt[ar]}function sa(qt,ie,Ee,ar){for(var _e=0,Mr=0;Mr<ie;++Mr)for(var ur=qt[Mr],Jr=0;Jr<Ee;++Jr)ar[_e++]=ur[Jr]}function he(qt,ie,Ee,ar,_e,Mr){for(var ur=Mr,Jr=0;Jr<ie;++Jr)for(var vn=qt[Jr],wr=0;wr<Ee;++wr)for(var cn=vn[wr],rn=0;rn<ar;++rn)_e[ur++]=cn[rn]}function Ia(qt,ie,Ee,ar,_e){for(var Mr=1,ur=Ee+1;ur<ie.length;++ur)Mr*=ie[ur];var Jr=ie[Ee];if(ie.length-Ee==4){var vn=ie[Ee+1],wr=ie[Ee+2],cn=ie[Ee+3];for(ur=0;ur<Jr;++ur)he(qt[ur],vn,wr,cn,ar,_e),_e+=Mr}else for(ur=0;ur<Jr;++ur)Ia(qt[ur],ie,Ee+1,ar,_e),_e+=Mr}function fo(qt,ie,Ee,ar){var _e=1;if(ie.length)for(var Mr=0;Mr<ie.length;++Mr)_e*=ie[Mr];else _e=0;var ur=ar||In.allocType(Ee,_e);switch(ie.length){case 0:break;case 1:ji(qt,ie[0],ur);break;case 2:sa(qt,ie[0],ie[1],ur);break;case 3:he(qt,ie[0],ie[1],ie[2],ur,0);break;default:Ia(qt,ie,0,ur,0)}return ur}function ho(qt){for(var ie=[],Ee=qt;Ee.length;Ee=Ee[0])ie.push(Ee.length);return ie}var Ba={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Xo=5120,Gn=5122,Xa=5124,Ha=5121,Ya=5123,jo=5125,$o=5126,ps=5126,Co={int8:Xo,int16:Gn,int32:Xa,uint8:Ha,uint16:Ya,uint32:jo,float:$o,float32:ps},us=35048,Ma=35040,Ho={dynamic:us,stream:Ma,static:35044},ys=Fi.flatten,bo=Fi.shape,tl=35044,Qo=35040,Ws=5121,Yo=5126,Jo=[];Jo[5120]=1,Jo[5122]=2,Jo[5124]=4,Jo[5121]=1,Jo[5123]=2,Jo[5125]=4,Jo[5126]=4;function As(qt){return Ba[Object.prototype.toString.call(qt)]|0}function Ts(qt,ie){for(var Ee=0;Ee<ie.length;++Ee)qt[Ee]=ie[Ee]}function Ds(qt,ie,Ee,ar,_e,Mr,ur){for(var Jr=0,vn=0;vn<Ee;++vn)for(var wr=0;wr<ar;++wr)qt[Jr++]=ie[_e*vn+Mr*wr+ur]}function bl(qt,ie,Ee,ar){var _e=0,Mr={};function ur(dr){this.id=_e++,this.buffer=qt.createBuffer(),this.type=dr,this.usage=tl,this.byteLength=0,this.dimension=1,this.dtype=Ws,this.persistentData=null,Ee.profile&&(this.stats={size:0})}ur.prototype.bind=function(){qt.bindBuffer(this.type,this.buffer)},ur.prototype.destroy=function(){gn(this)};var Jr=[];function vn(dr,vr){var ln=Jr.pop();return ln||(ln=new ur(dr)),ln.bind(),rn(ln,vr,Qo,0,1,!1),ln}function wr(dr){Jr.push(dr)}function cn(dr,vr,ln){dr.byteLength=vr.byteLength,qt.bufferData(dr.type,vr,ln)}function rn(dr,vr,ln,Sn,yr,Cr){var on;if(dr.usage=ln,Array.isArray(vr)){if(dr.dtype=Sn||Yo,vr.length>0){var Qr;if(Array.isArray(vr[0])){on=bo(vr);for(var Hr=1,dn=1;dn<on.length;++dn)Hr*=on[dn];dr.dimension=Hr,Qr=ys(vr,on,dr.dtype),cn(dr,Qr,ln),Cr?dr.persistentData=Qr:In.freeType(Qr)}else if(typeof vr[0]=="number"){dr.dimension=yr;var zn=In.allocType(dr.dtype,vr.length);Ts(zn,vr),cn(dr,zn,ln),Cr?dr.persistentData=zn:In.freeType(zn)}else f(vr[0])?(dr.dimension=vr[0].length,dr.dtype=Sn||As(vr[0])||Yo,Qr=ys(vr,[vr.length,vr[0].length],dr.dtype),cn(dr,Qr,ln),Cr?dr.persistentData=Qr:In.freeType(Qr)):at.raise("invalid buffer data")}}else if(f(vr))dr.dtype=Sn||As(vr),dr.dimension=yr,cn(dr,vr,ln),Cr&&(dr.persistentData=new Uint8Array(new Uint8Array(vr.buffer)));else if(Ln(vr)){on=vr.shape;var ui=vr.stride,On=vr.offset,fn=0,Vr=0,ei=0,oi=0;on.length===1?(fn=on[0],Vr=1,ei=ui[0],oi=0):on.length===2?(fn=on[0],Vr=on[1],ei=ui[0],oi=ui[1]):at.raise("invalid shape"),dr.dtype=Sn||As(vr.data)||Yo,dr.dimension=Vr;var Mn=In.allocType(dr.dtype,fn*Vr);Ds(Mn,vr.data,fn,Vr,ei,oi,On),cn(dr,Mn,ln),Cr?dr.persistentData=Mn:In.freeType(Mn)}else vr instanceof ArrayBuffer?(dr.dtype=Ws,dr.dimension=yr,cn(dr,vr,ln),Cr&&(dr.persistentData=new Uint8Array(new Uint8Array(vr)))):at.raise("invalid buffer data")}function gn(dr){ie.bufferCount--,ar(dr);var vr=dr.buffer;at(vr,"buffer must not be deleted already"),qt.deleteBuffer(vr),dr.buffer=null,delete Mr[dr.id]}function Zr(dr,vr,ln,Sn){ie.bufferCount++;var yr=new ur(vr);Mr[yr.id]=yr;function Cr(Hr){var dn=tl,zn=null,ui=0,On=0,fn=1;return Array.isArray(Hr)||f(Hr)||Ln(Hr)||Hr instanceof ArrayBuffer?zn=Hr:typeof Hr=="number"?ui=Hr|0:Hr&&(at.type(Hr,"object","buffer arguments must be an object, a number or an array"),"data"in Hr&&(at(zn===null||Array.isArray(zn)||f(zn)||Ln(zn),"invalid data for buffer"),zn=Hr.data),"usage"in Hr&&(at.parameter(Hr.usage,Ho,"invalid buffer usage"),dn=Ho[Hr.usage]),"type"in Hr&&(at.parameter(Hr.type,Co,"invalid buffer type"),On=Co[Hr.type]),"dimension"in Hr&&(at.type(Hr.dimension,"number","invalid dimension"),fn=Hr.dimension|0),"length"in Hr&&(at.nni(ui,"buffer length must be a nonnegative integer"),ui=Hr.length|0)),yr.bind(),zn?rn(yr,zn,dn,On,fn,Sn):(ui&&qt.bufferData(yr.type,ui,dn),yr.dtype=On||Ws,yr.usage=dn,yr.dimension=fn,yr.byteLength=ui),Ee.profile&&(yr.stats.size=yr.byteLength*Jo[yr.dtype]),Cr}function on(Hr,dn){at(dn+Hr.byteLength<=yr.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Hr.byteLength+" starting from offset "+dn+" to a buffer of size "+yr.byteLength),qt.bufferSubData(yr.type,dn,Hr)}function Qr(Hr,dn){var zn=(dn||0)|0,ui;if(yr.bind(),f(Hr)||Hr instanceof ArrayBuffer)on(Hr,zn);else if(Array.isArray(Hr)){if(Hr.length>0)if(typeof Hr[0]=="number"){var On=In.allocType(yr.dtype,Hr.length);Ts(On,Hr),on(On,zn),In.freeType(On)}else if(Array.isArray(Hr[0])||f(Hr[0])){ui=bo(Hr);var fn=ys(Hr,ui,yr.dtype);on(fn,zn),In.freeType(fn)}else at.raise("invalid buffer data")}else if(Ln(Hr)){ui=Hr.shape;var Vr=Hr.stride,ei=0,oi=0,Mn=0,Kn=0;ui.length===1?(ei=ui[0],oi=1,Mn=Vr[0],Kn=0):ui.length===2?(ei=ui[0],oi=ui[1],Mn=Vr[0],Kn=Vr[1]):at.raise("invalid shape");var pi=Array.isArray(Hr.data)?yr.dtype:As(Hr.data),Oi=In.allocType(pi,ei*oi);Ds(Oi,Hr.data,ei,oi,Mn,Kn,Hr.offset),on(Oi,zn),In.freeType(Oi)}else at.raise("invalid data for buffer subdata");return Cr}return ln||Cr(dr),Cr._reglType="buffer",Cr._buffer=yr,Cr.subdata=Qr,Ee.profile&&(Cr.stats=yr.stats),Cr.destroy=function(){gn(yr)},Cr}function _r(){xn(Mr).forEach(function(dr){dr.buffer=qt.createBuffer(),qt.bindBuffer(dr.type,dr.buffer),qt.bufferData(dr.type,dr.persistentData||dr.byteLength,dr.usage)})}return Ee.profile&&(ie.getTotalBufferSize=function(){var dr=0;return Object.keys(Mr).forEach(function(vr){dr+=Mr[vr].stats.size}),dr}),{create:Zr,createStream:vn,destroyStream:wr,clear:function(){xn(Mr).forEach(gn),Jr.forEach(gn)},getBuffer:function(vr){return vr&&vr._buffer instanceof ur?vr._buffer:null},restore:_r,_initBuffer:rn}}var Ol=0,X=0,Mt=1,Qt=1,ae=4,de=4,xe={points:Ol,point:X,lines:Mt,line:Qt,triangles:ae,triangle:de,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},je=0,Fe=1,ze=4,Qe=5120,Ze=5121,jr=5122,Pr=5123,Tr=5124,un=5125,pn=34963,zr=35040,Pn=35044;function Si(qt,ie,Ee,ar){var _e={},Mr=0,ur={uint8:Ze,uint16:Pr};ie.oes_element_index_uint&&(ur.uint32=un);function Jr(_r){this.id=Mr++,_e[this.id]=this,this.buffer=_r,this.primType=ze,this.vertCount=0,this.type=0}Jr.prototype.bind=function(){this.buffer.bind()};var vn=[];function wr(_r){var dr=vn.pop();return dr||(dr=new Jr(Ee.create(null,pn,!0,!1)._buffer)),rn(dr,_r,zr,-1,-1,0,0),dr}function cn(_r){vn.push(_r)}function rn(_r,dr,vr,ln,Sn,yr,Cr){_r.buffer.bind();var on;if(dr){var Qr=Cr;!Cr&&(!f(dr)||Ln(dr)&&!f(dr.data))&&(Qr=ie.oes_element_index_uint?un:Pr),Ee._initBuffer(_r.buffer,dr,vr,Qr,3)}else qt.bufferData(pn,yr,vr),_r.buffer.dtype=on||Ze,_r.buffer.usage=vr,_r.buffer.dimension=3,_r.buffer.byteLength=yr;if(on=Cr,!Cr){switch(_r.buffer.dtype){case Ze:case Qe:on=Ze;break;case Pr:case jr:on=Pr;break;case un:case Tr:on=un;break;default:at.raise("unsupported type for element array")}_r.buffer.dtype=on}_r.type=on,at(on!==un||!!ie.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Hr=Sn;Hr<0&&(Hr=_r.buffer.byteLength,on===Pr?Hr>>=1:on===un&&(Hr>>=2)),_r.vertCount=Hr;var dn=ln;if(ln<0){dn=ze;var zn=_r.buffer.dimension;zn===1&&(dn=je),zn===2&&(dn=Fe),zn===3&&(dn=ze)}_r.primType=dn}function gn(_r){ar.elementsCount--,at(_r.buffer!==null,"must not double destroy elements"),delete _e[_r.id],_r.buffer.destroy(),_r.buffer=null}function Zr(_r,dr){var vr=Ee.create(null,pn,!0),ln=new Jr(vr._buffer);ar.elementsCount++;function Sn(yr){if(!yr)vr(),ln.primType=ze,ln.vertCount=0,ln.type=Ze;else if(typeof yr=="number")vr(yr),ln.primType=ze,ln.vertCount=yr|0,ln.type=Ze;else{var Cr=null,on=Pn,Qr=-1,Hr=-1,dn=0,zn=0;Array.isArray(yr)||f(yr)||Ln(yr)?Cr=yr:(at.type(yr,"object","invalid arguments for elements"),"data"in yr&&(Cr=yr.data,at(Array.isArray(Cr)||f(Cr)||Ln(Cr),"invalid data for element buffer")),"usage"in yr&&(at.parameter(yr.usage,Ho,"invalid element buffer usage"),on=Ho[yr.usage]),"primitive"in yr&&(at.parameter(yr.primitive,xe,"invalid element buffer primitive"),Qr=xe[yr.primitive]),"count"in yr&&(at(typeof yr.count=="number"&&yr.count>=0,"invalid vertex count for elements"),Hr=yr.count|0),"type"in yr&&(at.parameter(yr.type,ur,"invalid buffer type"),zn=ur[yr.type]),"length"in yr?dn=yr.length|0:(dn=Hr,zn===Pr||zn===jr?dn*=2:(zn===un||zn===Tr)&&(dn*=4))),rn(ln,Cr,on,Qr,Hr,dn,zn)}return Sn}return Sn(_r),Sn._reglType="elements",Sn._elements=ln,Sn.subdata=function(yr,Cr){return vr.subdata(yr,Cr),Sn},Sn.destroy=function(){gn(ln)},Sn}return{create:Zr,createStream:wr,destroyStream:cn,getElements:function(dr){return typeof dr=="function"&&dr._elements instanceof Jr?dr._elements:null},clear:function(){xn(_e).forEach(gn)}}}var Jn=new Float32Array(1),qn=new Uint32Array(Jn.buffer),hi=5123;function ii(qt){for(var ie=In.allocType(hi,qt.length),Ee=0;Ee<qt.length;++Ee)if(isNaN(qt[Ee]))ie[Ee]=65535;else if(qt[Ee]===Infinity)ie[Ee]=31744;else if(qt[Ee]===-Infinity)ie[Ee]=64512;else{Jn[0]=qt[Ee];var ar=qn[0],_e=ar>>>31<<15,Mr=(ar<<1>>>24)-127,ur=ar>>13&(1<<10)-1;if(Mr<-24)ie[Ee]=_e;else if(Mr<-14){var Jr=-14-Mr;ie[Ee]=_e+(ur+(1<<10)>>Jr)}else Mr>15?ie[Ee]=_e+31744:ie[Ee]=_e+(Mr+15<<10)+ur}return ie}function xi(qt){return Array.isArray(qt)||f(qt)}var Wi=function(ie){return!(ie&ie-1)&&!!ie},la=34467,Pi=3553,ta=34067,Yi=34069,zi=6408,Ei=6406,Me=6407,le=6409,we=6410,He=32854,br=32855,nn=36194,ai=32819,Bi=32820,to=33635,el=34042,Ko=6402,zs=34041,Ao=35904,hf=35906,Gl=36193,Ul=33776,oc=33777,df=33778,sc=33779,Ro=35986,lc=35987,vf=34798,lh=35840,ms=35841,Eu=35842,uh=35843,uc=36196,rl=5121,Wl=5123,To=5125,Ps=5126,ch=10242,fh=10243,cc=10497,Su=33071,zl=33648,fc=10240,gf=10241,hc=9728,kl=9729,Mu=9984,dc=9985,vc=9986,Is=9987,pf=33170,eo=4352,gc=4353,fd=4354,yf=34046,ks=3317,ea=37440,pc=37441,hd=37443,mf=37444,Vs=33984,dd=[Mu,vc,dc,Is],nl=[0,le,we,Me,zi],Ka={};Ka[le]=Ka[Ei]=Ka[Ko]=1,Ka[zs]=Ka[we]=2,Ka[Me]=Ka[Ao]=3,Ka[zi]=Ka[hf]=4;function Xs(qt){return"[object "+qt+"]"}var xl=Xs("HTMLCanvasElement"),il=Xs("OffscreenCanvas"),Vl=Xs("CanvasRenderingContext2D"),vd=Xs("ImageBitmap"),bf=Xs("HTMLImageElement"),bs=Xs("HTMLVideoElement"),yc=Object.keys(Ba).concat([xl,il,Vl,vd,bf,bs]),Hs=[];Hs[rl]=1,Hs[Ps]=4,Hs[Gl]=2,Hs[Wl]=2,Hs[To]=4;var io=[];io[He]=2,io[br]=2,io[nn]=2,io[zs]=4,io[Ul]=.5,io[oc]=.5,io[df]=1,io[sc]=1,io[Ro]=.5,io[lc]=1,io[vf]=1,io[lh]=.5,io[ms]=.25,io[Eu]=.5,io[uh]=.25,io[uc]=.5;function Cu(qt){return Array.isArray(qt)&&(qt.length===0||typeof qt[0]=="number")}function Of(qt){if(!Array.isArray(qt))return!1;var ie=qt.length;return!(ie===0||!xi(qt[0]))}function El(qt){return Object.prototype.toString.call(qt)}function Ls(qt){return El(qt)===xl}function hh(qt){return El(qt)===il}function Au(qt){return El(qt)===Vl}function dh(qt){return El(qt)===vd}function xf(qt){return El(qt)===bf}function js(qt){return El(qt)===bs}function mc(qt){if(!qt)return!1;var ie=El(qt);return yc.indexOf(ie)>=0?!0:Cu(qt)||Of(qt)||Ln(qt)}function Tu(qt){return Ba[Object.prototype.toString.call(qt)]|0}function vh(qt,ie){var Ee=ie.length;switch(qt.type){case rl:case Wl:case To:case Ps:var ar=In.allocType(qt.type,Ee);ar.set(ie),qt.data=ar;break;case Gl:qt.data=ii(ie);break;default:at.raise("unsupported texture type, must specify a typed array")}}function Ef(qt,ie){return In.allocType(qt.type===Gl?Ps:qt.type,ie)}function bc(qt,ie){qt.type===Gl?(qt.data=ii(ie),In.freeType(ie)):qt.data=ie}function Sf(qt,ie,Ee,ar,_e,Mr){for(var ur=qt.width,Jr=qt.height,vn=qt.channels,wr=ur*Jr*vn,cn=Ef(qt,wr),rn=0,gn=0;gn<Jr;++gn)for(var Zr=0;Zr<ur;++Zr)for(var _r=0;_r<vn;++_r)cn[rn++]=ie[Ee*Zr+ar*gn+_e*_r+Mr];bc(qt,cn)}function Oc(qt,ie,Ee,ar,_e,Mr){var ur;if(typeof io[qt]!="undefined"?ur=io[qt]:ur=Ka[qt]*Hs[ie],Mr&&(ur*=6),_e){for(var Jr=0,vn=Ee;vn>=1;)Jr+=ur*vn*vn,vn/=2;return Jr}else return ur*Ee*ar}function Ri(qt,ie,Ee,ar,_e,Mr,ur){var Jr={"don't care":eo,"dont care":eo,nice:fd,fast:gc},vn={repeat:cc,clamp:Su,mirror:zl},wr={nearest:hc,linear:kl},cn=o({mipmap:Is,"nearest mipmap nearest":Mu,"linear mipmap nearest":dc,"nearest mipmap linear":vc,"linear mipmap linear":Is},wr),rn={none:0,browser:mf},gn={uint8:rl,rgba4:ai,rgb565:to,"rgb5 a1":Bi},Zr={alpha:Ei,luminance:le,"luminance alpha":we,rgb:Me,rgba:zi,rgba4:He,"rgb5 a1":br,rgb565:nn},_r={};ie.ext_srgb&&(Zr.srgb=Ao,Zr.srgba=hf),ie.oes_texture_float&&(gn.float32=gn.float=Ps),ie.oes_texture_half_float&&(gn.float16=gn["half float"]=Gl),ie.webgl_depth_texture&&(o(Zr,{depth:Ko,"depth stencil":zs}),o(gn,{uint16:Wl,uint32:To,"depth stencil":el})),ie.webgl_compressed_texture_s3tc&&o(_r,{"rgb s3tc dxt1":Ul,"rgba s3tc dxt1":oc,"rgba s3tc dxt3":df,"rgba s3tc dxt5":sc}),ie.webgl_compressed_texture_atc&&o(_r,{"rgb atc":Ro,"rgba atc explicit alpha":lc,"rgba atc interpolated alpha":vf}),ie.webgl_compressed_texture_pvrtc&&o(_r,{"rgb pvrtc 4bppv1":lh,"rgb pvrtc 2bppv1":ms,"rgba pvrtc 4bppv1":Eu,"rgba pvrtc 2bppv1":uh}),ie.webgl_compressed_texture_etc1&&(_r["rgb etc1"]=uc);var dr=Array.prototype.slice.call(qt.getParameter(la));Object.keys(_r).forEach(function(De){var pr=_r[De];dr.indexOf(pr)>=0&&(Zr[De]=pr)});var vr=Object.keys(Zr);Ee.textureFormats=vr;var ln=[];Object.keys(Zr).forEach(function(De){var pr=Zr[De];ln[pr]=De});var Sn=[];Object.keys(gn).forEach(function(De){var pr=gn[De];Sn[pr]=De});var yr=[];Object.keys(wr).forEach(function(De){var pr=wr[De];yr[pr]=De});var Cr=[];Object.keys(cn).forEach(function(De){var pr=cn[De];Cr[pr]=De});var on=[];Object.keys(vn).forEach(function(De){var pr=vn[De];on[pr]=De});var Qr=vr.reduce(function(De,pr){var sr=Zr[pr];return sr===le||sr===Ei||sr===le||sr===we||sr===Ko||sr===zs||ie.ext_srgb&&(sr===Ao||sr===hf)?De[sr]=sr:sr===br||pr.indexOf("rgba")>=0?De[sr]=zi:De[sr]=Me,De},{});function Hr(){this.internalformat=zi,this.format=zi,this.type=rl,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=mf,this.width=0,this.height=0,this.channels=0}function dn(De,pr){De.internalformat=pr.internalformat,De.format=pr.format,De.type=pr.type,De.compressed=pr.compressed,De.premultiplyAlpha=pr.premultiplyAlpha,De.flipY=pr.flipY,De.unpackAlignment=pr.unpackAlignment,De.colorSpace=pr.colorSpace,De.width=pr.width,De.height=pr.height,De.channels=pr.channels}function zn(De,pr){if(!(typeof pr!="object"||!pr)){if("premultiplyAlpha"in pr&&(at.type(pr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),De.premultiplyAlpha=pr.premultiplyAlpha),"flipY"in pr&&(at.type(pr.flipY,"boolean","invalid texture flip"),De.flipY=pr.flipY),"alignment"in pr&&(at.oneOf(pr.alignment,[1,2,4,8],"invalid texture unpack alignment"),De.unpackAlignment=pr.alignment),"colorSpace"in pr&&(at.parameter(pr.colorSpace,rn,"invalid colorSpace"),De.colorSpace=rn[pr.colorSpace]),"type"in pr){var sr=pr.type;at(ie.oes_texture_float||!(sr==="float"||sr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),at(ie.oes_texture_half_float||!(sr==="half float"||sr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),at(ie.webgl_depth_texture||!(sr==="uint16"||sr==="uint32"||sr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),at.parameter(sr,gn,"invalid texture type"),De.type=gn[sr]}var Cn=De.width,Yn=De.height,be=De.channels,ue=!1;"shape"in pr?(at(Array.isArray(pr.shape)&&pr.shape.length>=2,"shape must be an array"),Cn=pr.shape[0],Yn=pr.shape[1],pr.shape.length===3&&(be=pr.shape[2],at(be>0&&be<=4,"invalid number of channels"),ue=!0),at(Cn>=0&&Cn<=Ee.maxTextureSize,"invalid width"),at(Yn>=0&&Yn<=Ee.maxTextureSize,"invalid height")):("radius"in pr&&(Cn=Yn=pr.radius,at(Cn>=0&&Cn<=Ee.maxTextureSize,"invalid radius")),"width"in pr&&(Cn=pr.width,at(Cn>=0&&Cn<=Ee.maxTextureSize,"invalid width")),"height"in pr&&(Yn=pr.height,at(Yn>=0&&Yn<=Ee.maxTextureSize,"invalid height")),"channels"in pr&&(be=pr.channels,at(be>0&&be<=4,"invalid number of channels"),ue=!0)),De.width=Cn|0,De.height=Yn|0,De.channels=be|0;var Be=!1;if("format"in pr){var Je=pr.format;at(ie.webgl_depth_texture||!(Je==="depth"||Je==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),at.parameter(Je,Zr,"invalid texture format");var qe=De.internalformat=Zr[Je];De.format=Qr[qe],Je in gn&&("type"in pr||(De.type=gn[Je])),Je in _r&&(De.compressed=!0),Be=!0}!ue&&Be?De.channels=Ka[De.format]:ue&&!Be?De.channels!==nl[De.format]&&(De.format=De.internalformat=nl[De.channels]):Be&&ue&&at(De.channels===Ka[De.format],"number of channels inconsistent with specified format")}}function ui(De){qt.pixelStorei(ea,De.flipY),qt.pixelStorei(pc,De.premultiplyAlpha),qt.pixelStorei(hd,De.colorSpace),qt.pixelStorei(ks,De.unpackAlignment)}function On(){Hr.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function fn(De,pr){var sr=null;if(mc(pr)?sr=pr:pr&&(at.type(pr,"object","invalid pixel data type"),zn(De,pr),"x"in pr&&(De.xOffset=pr.x|0),"y"in pr&&(De.yOffset=pr.y|0),mc(pr.data)&&(sr=pr.data)),at(!De.compressed||sr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),pr.copy){at(!sr,"can not specify copy and data field for the same texture");var Cn=_e.viewportWidth,Yn=_e.viewportHeight;De.width=De.width||Cn-De.xOffset,De.height=De.height||Yn-De.yOffset,De.needsCopy=!0,at(De.xOffset>=0&&De.xOffset<Cn&&De.yOffset>=0&&De.yOffset<Yn&&De.width>0&&De.width<=Cn&&De.height>0&&De.height<=Yn,"copy texture read out of bounds")}else if(!sr)De.width=De.width||1,De.height=De.height||1,De.channels=De.channels||4;else if(f(sr))De.channels=De.channels||4,De.data=sr,!("type"in pr)&&De.type===rl&&(De.type=Tu(sr));else if(Cu(sr))De.channels=De.channels||4,vh(De,sr),De.alignment=1,De.needsFree=!0;else if(Ln(sr)){var be=sr.data;!Array.isArray(be)&&De.type===rl&&(De.type=Tu(be));var ue=sr.shape,Be=sr.stride,Je,qe,Ge,Ne,Ve,Se;ue.length===3?(Ge=ue[2],Se=Be[2]):(at(ue.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Ge=1,Se=1),Je=ue[0],qe=ue[1],Ne=Be[0],Ve=Be[1],De.alignment=1,De.width=Je,De.height=qe,De.channels=Ge,De.format=De.internalformat=nl[Ge],De.needsFree=!0,Sf(De,be,Ne,Ve,Se,sr.offset)}else if(Ls(sr)||hh(sr)||Au(sr))Ls(sr)||hh(sr)?De.element=sr:De.element=sr.canvas,De.width=De.element.width,De.height=De.element.height,De.channels=4;else if(dh(sr))De.element=sr,De.width=sr.width,De.height=sr.height,De.channels=4;else if(xf(sr))De.element=sr,De.width=sr.naturalWidth,De.height=sr.naturalHeight,De.channels=4;else if(js(sr))De.element=sr,De.width=sr.videoWidth,De.height=sr.videoHeight,De.channels=4;else if(Of(sr)){var Re=De.width||sr[0].length,me=De.height||sr.length,Ye=De.channels;xi(sr[0][0])?Ye=Ye||sr[0][0].length:Ye=Ye||1;for(var er=Fi.shape(sr),Lr=1,Br=0;Br<er.length;++Br)Lr*=er[Br];var Er=Ef(De,Lr);Fi.flatten(sr,er,"",Er),bc(De,Er),De.alignment=1,De.width=Re,De.height=me,De.channels=Ye,De.format=De.internalformat=nl[Ye],De.needsFree=!0}De.type===Ps?at(Ee.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):De.type===Gl&&at(Ee.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Vr(De,pr,sr){var Cn=De.element,Yn=De.data,be=De.internalformat,ue=De.format,Be=De.type,Je=De.width,qe=De.height;ui(De),Cn?qt.texImage2D(pr,sr,ue,ue,Be,Cn):De.compressed?qt.compressedTexImage2D(pr,sr,be,Je,qe,0,Yn):De.needsCopy?(ar(),qt.copyTexImage2D(pr,sr,ue,De.xOffset,De.yOffset,Je,qe,0)):qt.texImage2D(pr,sr,ue,Je,qe,0,ue,Be,Yn||null)}function ei(De,pr,sr,Cn,Yn){var be=De.element,ue=De.data,Be=De.internalformat,Je=De.format,qe=De.type,Ge=De.width,Ne=De.height;ui(De),be?qt.texSubImage2D(pr,Yn,sr,Cn,Je,qe,be):De.compressed?qt.compressedTexSubImage2D(pr,Yn,sr,Cn,Be,Ge,Ne,ue):De.needsCopy?(ar(),qt.copyTexSubImage2D(pr,Yn,sr,Cn,De.xOffset,De.yOffset,Ge,Ne)):qt.texSubImage2D(pr,Yn,sr,Cn,Ge,Ne,Je,qe,ue)}var oi=[];function Mn(){return oi.pop()||new On}function Kn(De){De.needsFree&&In.freeType(De.data),On.call(De),oi.push(De)}function pi(){Hr.call(this),this.genMipmaps=!1,this.mipmapHint=eo,this.mipmask=0,this.images=Array(16)}function Oi(De,pr,sr){var Cn=De.images[0]=Mn();De.mipmask=1,Cn.width=De.width=pr,Cn.height=De.height=sr,Cn.channels=De.channels=4}function wi(De,pr){var sr=null;if(mc(pr))sr=De.images[0]=Mn(),dn(sr,De),fn(sr,pr),De.mipmask=1;else if(zn(De,pr),Array.isArray(pr.mipmap))for(var Cn=pr.mipmap,Yn=0;Yn<Cn.length;++Yn)sr=De.images[Yn]=Mn(),dn(sr,De),sr.width>>=Yn,sr.height>>=Yn,fn(sr,Cn[Yn]),De.mipmask|=1<<Yn;else sr=De.images[0]=Mn(),dn(sr,De),fn(sr,pr),De.mipmask=1;dn(De,De.images[0]),De.compressed&&(De.internalformat===Ul||De.internalformat===oc||De.internalformat===df||De.internalformat===sc)&&at(De.width%4==0&&De.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function ka(De,pr){for(var sr=De.images,Cn=0;Cn<sr.length;++Cn){if(!sr[Cn])return;Vr(sr[Cn],pr,Cn)}}var ja=[];function Mi(){var De=ja.pop()||new pi;Hr.call(De),De.mipmask=0;for(var pr=0;pr<16;++pr)De.images[pr]=null;return De}function _a(De){for(var pr=De.images,sr=0;sr<pr.length;++sr)pr[sr]&&Kn(pr[sr]),pr[sr]=null;ja.push(De)}function ua(){this.minFilter=hc,this.magFilter=hc,this.wrapS=Su,this.wrapT=Su,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=eo}function Va(De,pr){if("min"in pr){var sr=pr.min;at.parameter(sr,cn),De.minFilter=cn[sr],dd.indexOf(De.minFilter)>=0&&!("faces"in pr)&&(De.genMipmaps=!0)}if("mag"in pr){var Cn=pr.mag;at.parameter(Cn,wr),De.magFilter=wr[Cn]}var Yn=De.wrapS,be=De.wrapT;if("wrap"in pr){var ue=pr.wrap;typeof ue=="string"?(at.parameter(ue,vn),Yn=be=vn[ue]):Array.isArray(ue)&&(at.parameter(ue[0],vn),at.parameter(ue[1],vn),Yn=vn[ue[0]],be=vn[ue[1]])}else{if("wrapS"in pr){var Be=pr.wrapS;at.parameter(Be,vn),Yn=vn[Be]}if("wrapT"in pr){var Je=pr.wrapT;at.parameter(Je,vn),be=vn[Je]}}if(De.wrapS=Yn,De.wrapT=be,"anisotropic"in pr){var qe=pr.anisotropic;at(typeof qe=="number"&&qe>=1&&qe<=Ee.maxAnisotropic,"aniso samples must be between 1 and "),De.anisotropic=pr.anisotropic}if("mipmap"in pr){var Ge=!1;switch(typeof pr.mipmap){case"string":at.parameter(pr.mipmap,Jr,"invalid mipmap hint"),De.mipmapHint=Jr[pr.mipmap],De.genMipmaps=!0,Ge=!0;break;case"boolean":Ge=De.genMipmaps=pr.mipmap;break;case"object":at(Array.isArray(pr.mipmap),"invalid mipmap type"),De.genMipmaps=!1,Ge=!0;break;default:at.raise("invalid mipmap type")}Ge&&!("min"in pr)&&(De.minFilter=Mu)}}function Za(De,pr){qt.texParameteri(pr,gf,De.minFilter),qt.texParameteri(pr,fc,De.magFilter),qt.texParameteri(pr,ch,De.wrapS),qt.texParameteri(pr,fh,De.wrapT),ie.ext_texture_filter_anisotropic&&qt.texParameteri(pr,yf,De.anisotropic),De.genMipmaps&&(qt.hint(pf,De.mipmapHint),qt.generateMipmap(pr))}var Fa=0,so={},Ki=Ee.maxTextureUnits,Ga=Array(Ki).map(function(){return null});function mi(De){Hr.call(this),this.mipmask=0,this.internalformat=zi,this.id=Fa++,this.refCount=1,this.target=De,this.texture=qt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ua,ur.profile&&(this.stats={size:0})}function go(De){qt.activeTexture(Vs),qt.bindTexture(De.target,De.texture)}function Gi(){var De=Ga[0];De?qt.bindTexture(De.target,De.texture):qt.bindTexture(Pi,null)}function Hn(De){var pr=De.texture;at(pr,"must not double destroy texture");var sr=De.unit,Cn=De.target;sr>=0&&(qt.activeTexture(Vs+sr),qt.bindTexture(Cn,null),Ga[sr]=null),qt.deleteTexture(pr),De.texture=null,De.params=null,De.pixels=null,De.refCount=0,delete so[De.id],Mr.textureCount--}o(mi.prototype,{bind:function(){var pr=this;pr.bindCount+=1;var sr=pr.unit;if(sr<0){for(var Cn=0;Cn<Ki;++Cn){var Yn=Ga[Cn];if(Yn){if(Yn.bindCount>0)continue;Yn.unit=-1}Ga[Cn]=pr,sr=Cn;break}sr>=Ki&&at.raise("insufficient number of texture units"),ur.profile&&Mr.maxTextureUnits<sr+1&&(Mr.maxTextureUnits=sr+1),pr.unit=sr,qt.activeTexture(Vs+sr),qt.bindTexture(pr.target,pr.texture)}return sr},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Hn(this)}});function ci(De,pr){var sr=new mi(Pi);so[sr.id]=sr,Mr.textureCount++;function Cn(ue,Be){var Je=sr.texInfo;ua.call(Je);var qe=Mi();return typeof ue=="number"?typeof Be=="number"?Oi(qe,ue|0,Be|0):Oi(qe,ue|0,ue|0):ue?(at.type(ue,"object","invalid arguments to regl.texture"),Va(Je,ue),wi(qe,ue)):Oi(qe,1,1),Je.genMipmaps&&(qe.mipmask=(qe.width<<1)-1),sr.mipmask=qe.mipmask,dn(sr,qe),at.texture2D(Je,qe,Ee),sr.internalformat=qe.internalformat,Cn.width=qe.width,Cn.height=qe.height,go(sr),ka(qe,Pi),Za(Je,Pi),Gi(),_a(qe),ur.profile&&(sr.stats.size=Oc(sr.internalformat,sr.type,qe.width,qe.height,Je.genMipmaps,!1)),Cn.format=ln[sr.internalformat],Cn.type=Sn[sr.type],Cn.mag=yr[Je.magFilter],Cn.min=Cr[Je.minFilter],Cn.wrapS=on[Je.wrapS],Cn.wrapT=on[Je.wrapT],Cn}function Yn(ue,Be,Je,qe){at(!!ue,"must specify image data");var Ge=Be|0,Ne=Je|0,Ve=qe|0,Se=Mn();return dn(Se,sr),Se.width=0,Se.height=0,fn(Se,ue),Se.width=Se.width||(sr.width>>Ve)-Ge,Se.height=Se.height||(sr.height>>Ve)-Ne,at(sr.type===Se.type&&sr.format===Se.format&&sr.internalformat===Se.internalformat,"incompatible format for texture.subimage"),at(Ge>=0&&Ne>=0&&Ge+Se.width<=sr.width&&Ne+Se.height<=sr.height,"texture.subimage write out of bounds"),at(sr.mipmask&1<<Ve,"missing mipmap data"),at(Se.data||Se.element||Se.needsCopy,"missing image data"),go(sr),ei(Se,Pi,Ge,Ne,Ve),Gi(),Kn(Se),Cn}function be(ue,Be){var Je=ue|0,qe=Be|0||Je;if(Je===sr.width&&qe===sr.height)return Cn;Cn.width=sr.width=Je,Cn.height=sr.height=qe,go(sr);for(var Ge=0;sr.mipmask>>Ge;++Ge){var Ne=Je>>Ge,Ve=qe>>Ge;if(!Ne||!Ve)break;qt.texImage2D(Pi,Ge,sr.format,Ne,Ve,0,sr.format,sr.type,null)}return Gi(),ur.profile&&(sr.stats.size=Oc(sr.internalformat,sr.type,Je,qe,!1,!1)),Cn}return Cn(De,pr),Cn.subimage=Yn,Cn.resize=be,Cn._reglType="texture2d",Cn._texture=sr,ur.profile&&(Cn.stats=sr.stats),Cn.destroy=function(){sr.decRef()},Cn}function Ti(De,pr,sr,Cn,Yn,be){var ue=new mi(ta);so[ue.id]=ue,Mr.cubeCount++;var Be=new Array(6);function Je(Ne,Ve,Se,Re,me,Ye){var er,Lr=ue.texInfo;for(ua.call(Lr),er=0;er<6;++er)Be[er]=Mi();if(typeof Ne=="number"||!Ne){var Br=Ne|0||1;for(er=0;er<6;++er)Oi(Be[er],Br,Br)}else if(typeof Ne=="object")if(Ve)wi(Be[0],Ne),wi(Be[1],Ve),wi(Be[2],Se),wi(Be[3],Re),wi(Be[4],me),wi(Be[5],Ye);else if(Va(Lr,Ne),zn(ue,Ne),"faces"in Ne){var Er=Ne.faces;for(at(Array.isArray(Er)&&Er.length===6,"cube faces must be a length 6 array"),er=0;er<6;++er)at(typeof Er[er]=="object"&&!!Er[er],"invalid input for cube map face"),dn(Be[er],ue),wi(Be[er],Er[er])}else for(er=0;er<6;++er)wi(Be[er],Ne);else at.raise("invalid arguments to cube map");for(dn(ue,Be[0]),Ee.npotTextureCube||at(Wi(ue.width)&&Wi(ue.height),"your browser does not support non power or two texture dimensions"),Lr.genMipmaps?ue.mipmask=(Be[0].width<<1)-1:ue.mipmask=Be[0].mipmask,at.textureCube(ue,Lr,Be,Ee),ue.internalformat=Be[0].internalformat,Je.width=Be[0].width,Je.height=Be[0].height,go(ue),er=0;er<6;++er)ka(Be[er],Yi+er);for(Za(Lr,ta),Gi(),ur.profile&&(ue.stats.size=Oc(ue.internalformat,ue.type,Je.width,Je.height,Lr.genMipmaps,!0)),Je.format=ln[ue.internalformat],Je.type=Sn[ue.type],Je.mag=yr[Lr.magFilter],Je.min=Cr[Lr.minFilter],Je.wrapS=on[Lr.wrapS],Je.wrapT=on[Lr.wrapT],er=0;er<6;++er)_a(Be[er]);return Je}function qe(Ne,Ve,Se,Re,me){at(!!Ve,"must specify image data"),at(typeof Ne=="number"&&Ne===(Ne|0)&&Ne>=0&&Ne<6,"invalid face");var Ye=Se|0,er=Re|0,Lr=me|0,Br=Mn();return dn(Br,ue),Br.width=0,Br.height=0,fn(Br,Ve),Br.width=Br.width||(ue.width>>Lr)-Ye,Br.height=Br.height||(ue.height>>Lr)-er,at(ue.type===Br.type&&ue.format===Br.format&&ue.internalformat===Br.internalformat,"incompatible format for texture.subimage"),at(Ye>=0&&er>=0&&Ye+Br.width<=ue.width&&er+Br.height<=ue.height,"texture.subimage write out of bounds"),at(ue.mipmask&1<<Lr,"missing mipmap data"),at(Br.data||Br.element||Br.needsCopy,"missing image data"),go(ue),ei(Br,Yi+Ne,Ye,er,Lr),Gi(),Kn(Br),Je}function Ge(Ne){var Ve=Ne|0;if(Ve!==ue.width){Je.width=ue.width=Ve,Je.height=ue.height=Ve,go(ue);for(var Se=0;Se<6;++Se)for(var Re=0;ue.mipmask>>Re;++Re)qt.texImage2D(Yi+Se,Re,ue.format,Ve>>Re,Ve>>Re,0,ue.format,ue.type,null);return Gi(),ur.profile&&(ue.stats.size=Oc(ue.internalformat,ue.type,Je.width,Je.height,!1,!0)),Je}}return Je(De,pr,sr,Cn,Yn,be),Je.subimage=qe,Je.resize=Ge,Je._reglType="textureCube",Je._texture=ue,ur.profile&&(Je.stats=ue.stats),Je.destroy=function(){ue.decRef()},Je}function ro(){for(var De=0;De<Ki;++De)qt.activeTexture(Vs+De),qt.bindTexture(Pi,null),Ga[De]=null;xn(so).forEach(Hn),Mr.cubeCount=0,Mr.textureCount=0}ur.profile&&(Mr.getTotalTextureSize=function(){var De=0;return Object.keys(so).forEach(function(pr){De+=so[pr].stats.size}),De});function $a(){for(var De=0;De<Ki;++De){var pr=Ga[De];pr&&(pr.bindCount=0,pr.unit=-1,Ga[De]=null)}xn(so).forEach(function(sr){sr.texture=qt.createTexture(),qt.bindTexture(sr.target,sr.texture);for(var Cn=0;Cn<32;++Cn)if((sr.mipmask&1<<Cn)!=0)if(sr.target===Pi)qt.texImage2D(Pi,Cn,sr.internalformat,sr.width>>Cn,sr.height>>Cn,0,sr.internalformat,sr.type,null);else for(var Yn=0;Yn<6;++Yn)qt.texImage2D(Yi+Yn,Cn,sr.internalformat,sr.width>>Cn,sr.height>>Cn,0,sr.internalformat,sr.type,null);Za(sr.texInfo,sr.target)})}function Bo(){for(var De=0;De<Ki;++De){var pr=Ga[De];pr&&(pr.bindCount=0,pr.unit=-1,Ga[De]=null),qt.activeTexture(Vs+De),qt.bindTexture(Pi,null),qt.bindTexture(ta,null)}}return{create2D:ci,createCube:Ti,clear:ro,getTexture:function(pr){return null},restore:$a,refresh:Bo}}var kn=36161,xc=32854,Oo=32855,Ui=36194,_o=33189,ao=36168,oo=34041,Du=35907,Mf=34836,Xl=34842,Cf=34843,qo=[];qo[xc]=2,qo[Oo]=2,qo[Ui]=2,qo[_o]=2,qo[ao]=1,qo[oo]=4,qo[Du]=4,qo[Mf]=16,qo[Xl]=8,qo[Cf]=6;function wo(qt,ie,Ee){return qo[qt]*ie*Ee}var Rs=function(ie,Ee,ar,_e,Mr){var ur={rgba4:xc,rgb565:Ui,"rgb5 a1":Oo,depth:_o,stencil:ao,"depth stencil":oo};Ee.ext_srgb&&(ur.srgba=Du),Ee.ext_color_buffer_half_float&&(ur.rgba16f=Xl,ur.rgb16f=Cf),Ee.webgl_color_buffer_float&&(ur.rgba32f=Mf);var Jr=[];Object.keys(ur).forEach(function(_r){var dr=ur[_r];Jr[dr]=_r});var vn=0,wr={};function cn(_r){this.id=vn++,this.refCount=1,this.renderbuffer=_r,this.format=xc,this.width=0,this.height=0,Mr.profile&&(this.stats={size:0})}cn.prototype.decRef=function(){--this.refCount<=0&&rn(this)};function rn(_r){var dr=_r.renderbuffer;at(dr,"must not double destroy renderbuffer"),ie.bindRenderbuffer(kn,null),ie.deleteRenderbuffer(dr),_r.renderbuffer=null,_r.refCount=0,delete wr[_r.id],_e.renderbufferCount--}function gn(_r,dr){var vr=new cn(ie.createRenderbuffer());wr[vr.id]=vr,_e.renderbufferCount++;function ln(yr,Cr){var on=0,Qr=0,Hr=xc;if(typeof yr=="object"&&yr){var dn=yr;if("shape"in dn){var zn=dn.shape;at(Array.isArray(zn)&&zn.length>=2,"invalid renderbuffer shape"),on=zn[0]|0,Qr=zn[1]|0}else"radius"in dn&&(on=Qr=dn.radius|0),"width"in dn&&(on=dn.width|0),"height"in dn&&(Qr=dn.height|0);"format"in dn&&(at.parameter(dn.format,ur,"invalid renderbuffer format"),Hr=ur[dn.format])}else typeof yr=="number"?(on=yr|0,typeof Cr=="number"?Qr=Cr|0:Qr=on):yr?at.raise("invalid arguments to renderbuffer constructor"):on=Qr=1;if(at(on>0&&Qr>0&&on<=ar.maxRenderbufferSize&&Qr<=ar.maxRenderbufferSize,"invalid renderbuffer size"),!(on===vr.width&&Qr===vr.height&&Hr===vr.format))return ln.width=vr.width=on,ln.height=vr.height=Qr,vr.format=Hr,ie.bindRenderbuffer(kn,vr.renderbuffer),ie.renderbufferStorage(kn,Hr,on,Qr),at(ie.getError()===0,"invalid render buffer format"),Mr.profile&&(vr.stats.size=wo(vr.format,vr.width,vr.height)),ln.format=Jr[vr.format],ln}function Sn(yr,Cr){var on=yr|0,Qr=Cr|0||on;return on===vr.width&&Qr===vr.height||(at(on>0&&Qr>0&&on<=ar.maxRenderbufferSize&&Qr<=ar.maxRenderbufferSize,"invalid renderbuffer size"),ln.width=vr.width=on,ln.height=vr.height=Qr,ie.bindRenderbuffer(kn,vr.renderbuffer),ie.renderbufferStorage(kn,vr.format,on,Qr),at(ie.getError()===0,"invalid render buffer format"),Mr.profile&&(vr.stats.size=wo(vr.format,vr.width,vr.height))),ln}return ln(_r,dr),ln.resize=Sn,ln._reglType="renderbuffer",ln._renderbuffer=vr,Mr.profile&&(ln.stats=vr.stats),ln.destroy=function(){vr.decRef()},ln}Mr.profile&&(_e.getTotalRenderbufferSize=function(){var _r=0;return Object.keys(wr).forEach(function(dr){_r+=wr[dr].stats.size}),_r});function Zr(){xn(wr).forEach(function(_r){_r.renderbuffer=ie.createRenderbuffer(),ie.bindRenderbuffer(kn,_r.renderbuffer),ie.renderbufferStorage(kn,_r.format,_r.width,_r.height)}),ie.bindRenderbuffer(kn,null)}return{create:gn,clear:function(){xn(wr).forEach(rn)},restore:Zr}},Os=36160,Pu=36161,qi=3553,Sl=34069,Ml=36064,Af=36096,Hl=36128,Tf=33306,Ec=36053,gd=36054,pd=36055,yd=36057,pv=36061,Df=36193,Iu=5121,md=5126,Lu=6407,Yl=6408,gh=6402,yv=[Lu,Yl],Pf=[];Pf[Yl]=4,Pf[Lu]=3;var Sc=[];Sc[Iu]=1,Sc[md]=4,Sc[Df]=2;var Mc=32854,bd=32855,Od=36194,xd=33189,ph=36168,yh=34041,Cc=35907,Ac=34836,Kl=34842,Tc=34843,mh=[Mc,bd,Od,Cc,Kl,Tc,Ac],Cl={};Cl[Ec]="complete",Cl[gd]="incomplete attachment",Cl[yd]="incomplete dimensions",Cl[pd]="incomplete, missing attachment",Cl[pv]="unsupported";function If(qt,ie,Ee,ar,_e,Mr){var ur={cur:null,next:null,dirty:!1,setFBO:null},Jr=["rgba"],vn=["rgba4","rgb565","rgb5 a1"];ie.ext_srgb&&vn.push("srgba"),ie.ext_color_buffer_half_float&&vn.push("rgba16f","rgb16f"),ie.webgl_color_buffer_float&&vn.push("rgba32f");var wr=["uint8"];ie.oes_texture_half_float&&wr.push("half float","float16"),ie.oes_texture_float&&wr.push("float","float32");function cn(On,fn,Vr){this.target=On,this.texture=fn,this.renderbuffer=Vr;var ei=0,oi=0;fn?(ei=fn.width,oi=fn.height):Vr&&(ei=Vr.width,oi=Vr.height),this.width=ei,this.height=oi}function rn(On){On&&(On.texture&&On.texture._texture.decRef(),On.renderbuffer&&On.renderbuffer._renderbuffer.decRef())}function gn(On,fn,Vr){if(!!On)if(On.texture){var ei=On.texture._texture,oi=Math.max(1,ei.width),Mn=Math.max(1,ei.height);at(oi===fn&&Mn===Vr,"inconsistent width/height for supplied texture"),ei.refCount+=1}else{var Kn=On.renderbuffer._renderbuffer;at(Kn.width===fn&&Kn.height===Vr,"inconsistent width/height for renderbuffer"),Kn.refCount+=1}}function Zr(On,fn){fn&&(fn.texture?qt.framebufferTexture2D(Os,On,fn.target,fn.texture._texture.texture,0):qt.framebufferRenderbuffer(Os,On,Pu,fn.renderbuffer._renderbuffer.renderbuffer))}function _r(On){var fn=qi,Vr=null,ei=null,oi=On;typeof On=="object"&&(oi=On.data,"target"in On&&(fn=On.target|0)),at.type(oi,"function","invalid attachment data");var Mn=oi._reglType;return Mn==="texture2d"?(Vr=oi,at(fn===qi)):Mn==="textureCube"?(Vr=oi,at(fn>=Sl&&fn<Sl+6,"invalid cube map target")):Mn==="renderbuffer"?(ei=oi,fn=Pu):at.raise("invalid regl object for attachment"),new cn(fn,Vr,ei)}function dr(On,fn,Vr,ei,oi){if(Vr){var Mn=ar.create2D({width:On,height:fn,format:ei,type:oi});return Mn._texture.refCount=0,new cn(qi,Mn,null)}else{var Kn=_e.create({width:On,height:fn,format:ei});return Kn._renderbuffer.refCount=0,new cn(Pu,null,Kn)}}function vr(On){return On&&(On.texture||On.renderbuffer)}function ln(On,fn,Vr){On&&(On.texture?On.texture.resize(fn,Vr):On.renderbuffer&&On.renderbuffer.resize(fn,Vr),On.width=fn,On.height=Vr)}var Sn=0,yr={};function Cr(){this.id=Sn++,yr[this.id]=this,this.framebuffer=qt.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function on(On){On.colorAttachments.forEach(rn),rn(On.depthAttachment),rn(On.stencilAttachment),rn(On.depthStencilAttachment)}function Qr(On){var fn=On.framebuffer;at(fn,"must not double destroy framebuffer"),qt.deleteFramebuffer(fn),On.framebuffer=null,Mr.framebufferCount--,delete yr[On.id]}function Hr(On){var fn;qt.bindFramebuffer(Os,On.framebuffer);var Vr=On.colorAttachments;for(fn=0;fn<Vr.length;++fn)Zr(Ml+fn,Vr[fn]);for(fn=Vr.length;fn<Ee.maxColorAttachments;++fn)qt.framebufferTexture2D(Os,Ml+fn,qi,null,0);qt.framebufferTexture2D(Os,Tf,qi,null,0),qt.framebufferTexture2D(Os,Af,qi,null,0),qt.framebufferTexture2D(Os,Hl,qi,null,0),Zr(Af,On.depthAttachment),Zr(Hl,On.stencilAttachment),Zr(Tf,On.depthStencilAttachment);var ei=qt.checkFramebufferStatus(Os);!qt.isContextLost()&&ei!==Ec&&at.raise("framebuffer configuration not supported, status = "+Cl[ei]),qt.bindFramebuffer(Os,ur.next?ur.next.framebuffer:null),ur.cur=ur.next,qt.getError()}function dn(On,fn){var Vr=new Cr;Mr.framebufferCount++;function ei(Mn,Kn){var pi;at(ur.next!==Vr,"can not update framebuffer which is currently in use");var Oi=0,wi=0,ka=!0,ja=!0,Mi=null,_a=!0,ua="rgba",Va="uint8",Za=1,Fa=null,so=null,Ki=null,Ga=!1;if(typeof Mn=="number")Oi=Mn|0,wi=Kn|0||Oi;else if(!Mn)Oi=wi=1;else{at.type(Mn,"object","invalid arguments for framebuffer");var mi=Mn;if("shape"in mi){var go=mi.shape;at(Array.isArray(go)&&go.length>=2,"invalid shape for framebuffer"),Oi=go[0],wi=go[1]}else"radius"in mi&&(Oi=wi=mi.radius),"width"in mi&&(Oi=mi.width),"height"in mi&&(wi=mi.height);("color"in mi||"colors"in mi)&&(Mi=mi.color||mi.colors,Array.isArray(Mi)&&at(Mi.length===1||ie.webgl_draw_buffers,"multiple render targets not supported")),Mi||("colorCount"in mi&&(Za=mi.colorCount|0,at(Za>0,"invalid color buffer count")),"colorTexture"in mi&&(_a=!!mi.colorTexture,ua="rgba4"),"colorType"in mi&&(Va=mi.colorType,_a?(at(ie.oes_texture_float||!(Va==="float"||Va==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),at(ie.oes_texture_half_float||!(Va==="half float"||Va==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Va==="half float"||Va==="float16"?(at(ie.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),ua="rgba16f"):(Va==="float"||Va==="float32")&&(at(ie.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),ua="rgba32f"),at.oneOf(Va,wr,"invalid color type")),"colorFormat"in mi&&(ua=mi.colorFormat,Jr.indexOf(ua)>=0?_a=!0:vn.indexOf(ua)>=0?_a=!1:_a?at.oneOf(mi.colorFormat,Jr,"invalid color format for texture"):at.oneOf(mi.colorFormat,vn,"invalid color format for renderbuffer"))),("depthTexture"in mi||"depthStencilTexture"in mi)&&(Ga=!!(mi.depthTexture||mi.depthStencilTexture),at(!Ga||ie.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in mi&&(typeof mi.depth=="boolean"?ka=mi.depth:(Fa=mi.depth,ja=!1)),"stencil"in mi&&(typeof mi.stencil=="boolean"?ja=mi.stencil:(so=mi.stencil,ka=!1)),"depthStencil"in mi&&(typeof mi.depthStencil=="boolean"?ka=ja=mi.depthStencil:(Ki=mi.depthStencil,ka=!1,ja=!1))}var Gi=null,Hn=null,ci=null,Ti=null;if(Array.isArray(Mi))Gi=Mi.map(_r);else if(Mi)Gi=[_r(Mi)];else for(Gi=new Array(Za),pi=0;pi<Za;++pi)Gi[pi]=dr(Oi,wi,_a,ua,Va);at(ie.webgl_draw_buffers||Gi.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),at(Gi.length<=Ee.maxColorAttachments,"too many color attachments, not supported"),Oi=Oi||Gi[0].width,wi=wi||Gi[0].height,Fa?Hn=_r(Fa):ka&&!ja&&(Hn=dr(Oi,wi,Ga,"depth","uint32")),so?ci=_r(so):ja&&!ka&&(ci=dr(Oi,wi,!1,"stencil","uint8")),Ki?Ti=_r(Ki):!Fa&&!so&&ja&&ka&&(Ti=dr(Oi,wi,Ga,"depth stencil","depth stencil")),at(!!Fa+!!so+!!Ki<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var ro=null;for(pi=0;pi<Gi.length;++pi)if(gn(Gi[pi],Oi,wi),at(!Gi[pi]||Gi[pi].texture&&yv.indexOf(Gi[pi].texture._texture.format)>=0||Gi[pi].renderbuffer&&mh.indexOf(Gi[pi].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+pi+" is invalid"),Gi[pi]&&Gi[pi].texture){var $a=Pf[Gi[pi].texture._texture.format]*Sc[Gi[pi].texture._texture.type];ro===null?ro=$a:at(ro===$a,"all color attachments much have the same number of bits per pixel.")}return gn(Hn,Oi,wi),at(!Hn||Hn.texture&&Hn.texture._texture.format===gh||Hn.renderbuffer&&Hn.renderbuffer._renderbuffer.format===xd,"invalid depth attachment for framebuffer object"),gn(ci,Oi,wi),at(!ci||ci.renderbuffer&&ci.renderbuffer._renderbuffer.format===ph,"invalid stencil attachment for framebuffer object"),gn(Ti,Oi,wi),at(!Ti||Ti.texture&&Ti.texture._texture.format===yh||Ti.renderbuffer&&Ti.renderbuffer._renderbuffer.format===yh,"invalid depth-stencil attachment for framebuffer object"),on(Vr),Vr.width=Oi,Vr.height=wi,Vr.colorAttachments=Gi,Vr.depthAttachment=Hn,Vr.stencilAttachment=ci,Vr.depthStencilAttachment=Ti,ei.color=Gi.map(vr),ei.depth=vr(Hn),ei.stencil=vr(ci),ei.depthStencil=vr(Ti),ei.width=Vr.width,ei.height=Vr.height,Hr(Vr),ei}function oi(Mn,Kn){at(ur.next!==Vr,"can not resize a framebuffer which is currently in use");var pi=Math.max(Mn|0,1),Oi=Math.max(Kn|0||pi,1);if(pi===Vr.width&&Oi===Vr.height)return ei;for(var wi=Vr.colorAttachments,ka=0;ka<wi.length;++ka)ln(wi[ka],pi,Oi);return ln(Vr.depthAttachment,pi,Oi),ln(Vr.stencilAttachment,pi,Oi),ln(Vr.depthStencilAttachment,pi,Oi),Vr.width=ei.width=pi,Vr.height=ei.height=Oi,Hr(Vr),ei}return ei(On,fn),o(ei,{resize:oi,_reglType:"framebuffer",_framebuffer:Vr,destroy:function(){Qr(Vr),on(Vr)},use:function(Kn){ur.setFBO({framebuffer:ei},Kn)}})}function zn(On){var fn=Array(6);function Vr(oi){var Mn;at(fn.indexOf(ur.next)<0,"can not update framebuffer which is currently in use");var Kn={color:null},pi=0,Oi=null,wi="rgba",ka="uint8",ja=1;if(typeof oi=="number")pi=oi|0;else if(!oi)pi=1;else{at.type(oi,"object","invalid arguments for framebuffer");var Mi=oi;if("shape"in Mi){var _a=Mi.shape;at(Array.isArray(_a)&&_a.length>=2,"invalid shape for framebuffer"),at(_a[0]===_a[1],"cube framebuffer must be square"),pi=_a[0]}else"radius"in Mi&&(pi=Mi.radius|0),"width"in Mi?(pi=Mi.width|0,"height"in Mi&&at(Mi.height===pi,"must be square")):"height"in Mi&&(pi=Mi.height|0);("color"in Mi||"colors"in Mi)&&(Oi=Mi.color||Mi.colors,Array.isArray(Oi)&&at(Oi.length===1||ie.webgl_draw_buffers,"multiple render targets not supported")),Oi||("colorCount"in Mi&&(ja=Mi.colorCount|0,at(ja>0,"invalid color buffer count")),"colorType"in Mi&&(at.oneOf(Mi.colorType,wr,"invalid color type"),ka=Mi.colorType),"colorFormat"in Mi&&(wi=Mi.colorFormat,at.oneOf(Mi.colorFormat,Jr,"invalid color format for texture"))),"depth"in Mi&&(Kn.depth=Mi.depth),"stencil"in Mi&&(Kn.stencil=Mi.stencil),"depthStencil"in Mi&&(Kn.depthStencil=Mi.depthStencil)}var ua;if(Oi)if(Array.isArray(Oi))for(ua=[],Mn=0;Mn<Oi.length;++Mn)ua[Mn]=Oi[Mn];else ua=[Oi];else{ua=Array(ja);var Va={radius:pi,format:wi,type:ka};for(Mn=0;Mn<ja;++Mn)ua[Mn]=ar.createCube(Va)}for(Kn.color=Array(ua.length),Mn=0;Mn<ua.length;++Mn){var Za=ua[Mn];at(typeof Za=="function"&&Za._reglType==="textureCube","invalid cube map"),pi=pi||Za.width,at(Za.width===pi&&Za.height===pi,"invalid cube map shape"),Kn.color[Mn]={target:Sl,data:ua[Mn]}}for(Mn=0;Mn<6;++Mn){for(var Fa=0;Fa<ua.length;++Fa)Kn.color[Fa].target=Sl+Mn;Mn>0&&(Kn.depth=fn[0].depth,Kn.stencil=fn[0].stencil,Kn.depthStencil=fn[0].depthStencil),fn[Mn]?fn[Mn](Kn):fn[Mn]=dn(Kn)}return o(Vr,{width:pi,height:pi,color:ua})}function ei(oi){var Mn,Kn=oi|0;if(at(Kn>0&&Kn<=Ee.maxCubeMapSize,"invalid radius for cube fbo"),Kn===Vr.width)return Vr;var pi=Vr.color;for(Mn=0;Mn<pi.length;++Mn)pi[Mn].resize(Kn);for(Mn=0;Mn<6;++Mn)fn[Mn].resize(Kn);return Vr.width=Vr.height=Kn,Vr}return Vr(On),o(Vr,{faces:fn,resize:ei,_reglType:"framebufferCube",destroy:function(){fn.forEach(function(Mn){Mn.destroy()})}})}function ui(){ur.cur=null,ur.next=null,ur.dirty=!0,xn(yr).forEach(function(On){On.framebuffer=qt.createFramebuffer(),Hr(On)})}return o(ur,{getFramebuffer:function(fn){if(typeof fn=="function"&&fn._reglType==="framebuffer"){var Vr=fn._framebuffer;if(Vr instanceof Cr)return Vr}return null},create:dn,createCube:zn,clear:function(){xn(yr).forEach(Qr)},restore:ui})}var Dc=5126,vo=34962;function ju(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Dc,this.offset=0,this.stride=0,this.divisor=0}function Lf(qt,ie,Ee,ar,_e){for(var Mr=Ee.maxAttributes,ur=new Array(Mr),Jr=0;Jr<Mr;++Jr)ur[Jr]=new ju;var vn=0,wr={},cn={Record:ju,scope:{},state:ur,currentVAO:null,targetVAO:null,restore:gn()?yr:function(){},createVAO:Cr,getVAO:_r,destroyBuffer:rn,setVAO:gn()?dr:vr,clear:gn()?ln:function(){}};function rn(on){for(var Qr=0;Qr<ur.length;++Qr){var Hr=ur[Qr];Hr.buffer===on&&(qt.disableVertexAttribArray(Qr),Hr.buffer=null)}}function gn(){return ie.oes_vertex_array_object}function Zr(){return ie.angle_instanced_arrays}function _r(on){return typeof on=="function"&&on._vao?on._vao:null}function dr(on){if(on!==cn.currentVAO){var Qr=gn();on?Qr.bindVertexArrayOES(on.vao):Qr.bindVertexArrayOES(null),cn.currentVAO=on}}function vr(on){if(on!==cn.currentVAO){if(on)on.bindAttrs();else for(var Qr=Zr(),Hr=0;Hr<ur.length;++Hr){var dn=ur[Hr];dn.buffer?(qt.enableVertexAttribArray(Hr),qt.vertexAttribPointer(Hr,dn.size,dn.type,dn.normalized,dn.stride,dn.offfset),Qr&&dn.divisor&&Qr.vertexAttribDivisorANGLE(Hr,dn.divisor)):(qt.disableVertexAttribArray(Hr),qt.vertexAttrib4f(Hr,dn.x,dn.y,dn.z,dn.w))}cn.currentVAO=on}}function ln(){xn(wr).forEach(function(on){on.destroy()})}function Sn(){this.id=++vn,this.attributes=[];var on=gn();on?this.vao=on.createVertexArrayOES():this.vao=null,wr[this.id]=this,this.buffers=[]}Sn.prototype.bindAttrs=function(){for(var on=Zr(),Qr=this.attributes,Hr=0;Hr<Qr.length;++Hr){var dn=Qr[Hr];dn.buffer?(qt.enableVertexAttribArray(Hr),qt.bindBuffer(vo,dn.buffer.buffer),qt.vertexAttribPointer(Hr,dn.size,dn.type,dn.normalized,dn.stride,dn.offset),on&&dn.divisor&&on.vertexAttribDivisorANGLE(Hr,dn.divisor)):(qt.disableVertexAttribArray(Hr),qt.vertexAttrib4f(Hr,dn.x,dn.y,dn.z,dn.w))}for(var zn=Qr.length;zn<Mr;++zn)qt.disableVertexAttribArray(zn)},Sn.prototype.refresh=function(){var on=gn();on&&(on.bindVertexArrayOES(this.vao),this.bindAttrs(),cn.currentVAO=this)},Sn.prototype.destroy=function(){if(this.vao){var on=gn();this===cn.currentVAO&&(cn.currentVAO=null,on.bindVertexArrayOES(null)),on.deleteVertexArrayOES(this.vao),this.vao=null}wr[this.id]&&(delete wr[this.id],ar.vaoCount-=1)};function yr(){var on=gn();on&&xn(wr).forEach(function(Qr){Qr.refresh()})}function Cr(on){var Qr=new Sn;ar.vaoCount+=1;function Hr(dn){at(Array.isArray(dn),"arguments to vertex array constructor must be an array"),at(dn.length<Mr,"too many attributes"),at(dn.length>0,"must specify at least one attribute");var zn={},ui=Qr.attributes;ui.length=dn.length;for(var On=0;On<dn.length;++On){var fn=dn[On],Vr=ui[On]=new ju,ei=fn.data||fn;if(Array.isArray(ei)||f(ei)||Ln(ei)){var oi;Qr.buffers[On]&&(oi=Qr.buffers[On],f(ei)&&oi._buffer.byteLength>=ei.byteLength?oi.subdata(ei):(oi.destroy(),Qr.buffers[On]=null)),Qr.buffers[On]||(oi=Qr.buffers[On]=_e.create(fn,vo,!1,!0)),Vr.buffer=_e.getBuffer(oi),Vr.size=Vr.buffer.dimension|0,Vr.normalized=!1,Vr.type=Vr.buffer.dtype,Vr.offset=0,Vr.stride=0,Vr.divisor=0,Vr.state=1,zn[On]=1}else _e.getBuffer(fn)?(Vr.buffer=_e.getBuffer(fn),Vr.size=Vr.buffer.dimension|0,Vr.normalized=!1,Vr.type=Vr.buffer.dtype,Vr.offset=0,Vr.stride=0,Vr.divisor=0,Vr.state=1):_e.getBuffer(fn.buffer)?(Vr.buffer=_e.getBuffer(fn.buffer),Vr.size=(+fn.size||Vr.buffer.dimension)|0,Vr.normalized=!!fn.normalized||!1,"type"in fn?(at.parameter(fn.type,Co,"invalid buffer type"),Vr.type=Co[fn.type]):Vr.type=Vr.buffer.dtype,Vr.offset=(fn.offset||0)|0,Vr.stride=(fn.stride||0)|0,Vr.divisor=(fn.divisor||0)|0,Vr.state=1,at(Vr.size>=1&&Vr.size<=4,"size must be between 1 and 4"),at(Vr.offset>=0,"invalid offset"),at(Vr.stride>=0&&Vr.stride<=255,"stride must be between 0 and 255"),at(Vr.divisor>=0,"divisor must be positive"),at(!Vr.divisor||!!ie.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in fn?(at(On>0,"first attribute must not be a constant"),Vr.x=+fn.x||0,Vr.y=+fn.y||0,Vr.z=+fn.z||0,Vr.w=+fn.w||0,Vr.state=2):at(!1,"invalid attribute spec for location "+On)}for(var Mn=0;Mn<Qr.buffers.length;++Mn)!zn[Mn]&&Qr.buffers[Mn]&&(Qr.buffers[Mn].destroy(),Qr.buffers[Mn]=null);return Qr.refresh(),Hr}return Hr.destroy=function(){for(var dn=0;dn<Qr.buffers.length;++dn)Qr.buffers[dn]&&Qr.buffers[dn].destroy();Qr.buffers.length=0,Qr.destroy()},Hr._vao=Qr,Hr._reglType="vao",Hr(on)}return cn}var jf=35632,Ed=35633,bh=35718,Pc=35721;function ws(qt,ie,Ee,ar){var _e={},Mr={};function ur(dr,vr,ln,Sn){this.name=dr,this.id=vr,this.location=ln,this.info=Sn}function Jr(dr,vr){for(var ln=0;ln<dr.length;++ln)if(dr[ln].id===vr.id){dr[ln].location=vr.location;return}dr.push(vr)}function vn(dr,vr,ln){var Sn=dr===jf?_e:Mr,yr=Sn[vr];if(!yr){var Cr=ie.str(vr);yr=qt.createShader(dr),qt.shaderSource(yr,Cr),qt.compileShader(yr),at.shaderError(qt,yr,Cr,dr,ln),Sn[vr]=yr}return yr}var wr={},cn=[],rn=0;function gn(dr,vr){this.id=rn++,this.fragId=dr,this.vertId=vr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ar.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Zr(dr,vr,ln){var Sn,yr,Cr=vn(jf,dr.fragId),on=vn(Ed,dr.vertId),Qr=dr.program=qt.createProgram();if(qt.attachShader(Qr,Cr),qt.attachShader(Qr,on),ln)for(Sn=0;Sn<ln.length;++Sn){var Hr=ln[Sn];qt.bindAttribLocation(Qr,Hr[0],Hr[1])}qt.linkProgram(Qr),at.linkError(qt,Qr,ie.str(dr.fragId),ie.str(dr.vertId),vr);var dn=qt.getProgramParameter(Qr,bh);ar.profile&&(dr.stats.uniformsCount=dn);var zn=dr.uniforms;for(Sn=0;Sn<dn;++Sn)if(yr=qt.getActiveUniform(Qr,Sn),yr)if(yr.size>1)for(var ui=0;ui<yr.size;++ui){var On=yr.name.replace("[0]","["+ui+"]");Jr(zn,new ur(On,ie.id(On),qt.getUniformLocation(Qr,On),yr))}else Jr(zn,new ur(yr.name,ie.id(yr.name),qt.getUniformLocation(Qr,yr.name),yr));var fn=qt.getProgramParameter(Qr,Pc);ar.profile&&(dr.stats.attributesCount=fn);var Vr=dr.attributes;for(Sn=0;Sn<fn;++Sn)yr=qt.getActiveAttrib(Qr,Sn),yr&&Jr(Vr,new ur(yr.name,ie.id(yr.name),qt.getAttribLocation(Qr,yr.name),yr))}ar.profile&&(Ee.getMaxUniformsCount=function(){var dr=0;return cn.forEach(function(vr){vr.stats.uniformsCount>dr&&(dr=vr.stats.uniformsCount)}),dr},Ee.getMaxAttributesCount=function(){var dr=0;return cn.forEach(function(vr){vr.stats.attributesCount>dr&&(dr=vr.stats.attributesCount)}),dr});function _r(){_e={},Mr={};for(var dr=0;dr<cn.length;++dr)Zr(cn[dr],null,cn[dr].attributes.map(function(vr){return[vr.location,vr.name]}))}return{clear:function(){var vr=qt.deleteShader.bind(qt);xn(_e).forEach(vr),_e={},xn(Mr).forEach(vr),Mr={},cn.forEach(function(ln){qt.deleteProgram(ln.program)}),cn.length=0,wr={},Ee.shaderCount=0},program:function(vr,ln,Sn,yr){at.command(vr>=0,"missing vertex shader",Sn),at.command(ln>=0,"missing fragment shader",Sn);var Cr=wr[ln];Cr||(Cr=wr[ln]={});var on=Cr[vr];if(on&&(on.refCount++,!yr))return on;var Qr=new gn(ln,vr);return Ee.shaderCount++,Zr(Qr,Sn,yr),on||(Cr[vr]=Qr),cn.push(Qr),o(Qr,{destroy:function(){if(Qr.refCount--,Qr.refCount<=0){qt.deleteProgram(Qr.program);var dn=cn.indexOf(Qr);cn.splice(dn,1),Ee.shaderCount--}Cr[Qr.vertId].refCount<=0&&(qt.deleteShader(Mr[Qr.vertId]),delete Mr[Qr.vertId],delete wr[Qr.fragId][Qr.vertId]),Object.keys(wr[Qr.fragId]).length||(qt.deleteShader(_e[Qr.fragId]),delete _e[Qr.fragId],delete wr[Qr.fragId])}})},restore:_r,shader:vn,frag:-1,vert:-1}}var Al=6408,Ru=5121,Rf=3333,wu=5126;function Oh(qt,ie,Ee,ar,_e,Mr,ur){function Jr(cn){var rn;ie.next===null?(at(_e.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),rn=Ru):(at(ie.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),rn=ie.next.colorAttachments[0].texture._texture.type,Mr.oes_texture_float?(at(rn===Ru||rn===wu,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),rn===wu&&at(ur.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):at(rn===Ru,"Reading from a framebuffer is only allowed for the type 'uint8'"));var gn=0,Zr=0,_r=ar.framebufferWidth,dr=ar.framebufferHeight,vr=null;f(cn)?vr=cn:cn&&(at.type(cn,"object","invalid arguments to regl.read()"),gn=cn.x|0,Zr=cn.y|0,at(gn>=0&&gn<ar.framebufferWidth,"invalid x offset for regl.read"),at(Zr>=0&&Zr<ar.framebufferHeight,"invalid y offset for regl.read"),_r=(cn.width||ar.framebufferWidth-gn)|0,dr=(cn.height||ar.framebufferHeight-Zr)|0,vr=cn.data||null),vr&&(rn===Ru?at(vr instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):rn===wu&&at(vr instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),at(_r>0&&_r+gn<=ar.framebufferWidth,"invalid width for read pixels"),at(dr>0&&dr+Zr<=ar.framebufferHeight,"invalid height for read pixels"),Ee();var ln=_r*dr*4;return vr||(rn===Ru?vr=new Uint8Array(ln):rn===wu&&(vr=vr||new Float32Array(ln))),at.isTypedArray(vr,"data buffer for regl.read() must be a typedarray"),at(vr.byteLength>=ln,"data buffer for regl.read() too small"),qt.pixelStorei(Rf,4),qt.readPixels(gn,Zr,_r,dr,Al,rn,vr),vr}function vn(cn){var rn;return ie.setFBO({framebuffer:cn.framebuffer},function(){rn=Jr(cn)}),rn}function wr(cn){return!cn||!("framebuffer"in cn)?Jr(cn):vn(cn)}return wr}function _l(qt){return Array.prototype.slice.call(qt)}function Zl(qt){return _l(qt).join("")}function wf(){var qt=0,ie=[],Ee=[];function ar(rn){for(var gn=0;gn<Ee.length;++gn)if(Ee[gn]===rn)return ie[gn];var Zr="g"+qt++;return ie.push(Zr),Ee.push(rn),Zr}function _e(){var rn=[];function gn(){rn.push.apply(rn,_l(arguments))}var Zr=[];function _r(){var dr="v"+qt++;return Zr.push(dr),arguments.length>0&&(rn.push(dr,"="),rn.push.apply(rn,_l(arguments)),rn.push(";")),dr}return o(gn,{def:_r,toString:function(){return Zl([Zr.length>0?"var "+Zr.join(",")+";":"",Zl(rn)])}})}function Mr(){var rn=_e(),gn=_e(),Zr=rn.toString,_r=gn.toString;function dr(vr,ln){gn(vr,ln,"=",rn.def(vr,ln),";")}return o(function(){rn.apply(rn,_l(arguments))},{def:rn.def,entry:rn,exit:gn,save:dr,set:function(ln,Sn,yr){dr(ln,Sn),rn(ln,Sn,"=",yr,";")},toString:function(){return Zr()+_r()}})}function ur(){var rn=Zl(arguments),gn=Mr(),Zr=Mr(),_r=gn.toString,dr=Zr.toString;return o(gn,{then:function(){return gn.apply(gn,_l(arguments)),this},else:function(){return Zr.apply(Zr,_l(arguments)),this},toString:function(){var ln=dr();return ln&&(ln="else{"+ln+"}"),Zl(["if(",rn,"){",_r(),"}",ln])}})}var Jr=_e(),vn={};function wr(rn,gn){var Zr=[];function _r(){var yr="a"+Zr.length;return Zr.push(yr),yr}gn=gn||0;for(var dr=0;dr<gn;++dr)_r();var vr=Mr(),ln=vr.toString,Sn=vn[rn]=o(vr,{arg:_r,toString:function(){return Zl(["function(",Zr.join(),"){",ln(),"}"])}});return Sn}function cn(){var rn=['"use strict";',Jr,"return {"];Object.keys(vn).forEach(function(_r){rn.push('"',_r,'":',vn[_r].toString(),",")}),rn.push("}");var gn=Zl(rn).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Zr=Function.apply(null,ie.concat(gn));return Zr.apply(null,Ee)}return{global:Jr,link:ar,block:_e,proc:wr,scope:Mr,cond:ur,compile:cn}}var Tl="xyzw".split(""),xh=5121,al=1,Ic=2,Bf=0,Nf=1,Dl=2,$l=3,Bu=4,Ql=5,Sd=6,Ff="dither",Bs="blend.enable",Lc="blend.color",Nu="blend.equation",Ys="blend.func",Eh="depth.enable",Sh="depth.func",ol="depth.range",Mh="depth.mask",jc="colorMask",Fu="cull.enable",Ch="cull.face",Gu="frontFace",Uu="lineWidth",Gf="polygonOffset.enable",Rc="polygonOffset.offset",wc="sample.alpha",Wu="sample.enable",Bc="sample.coverage",Uf="stencil.enable",Nc="stencil.mask",Wf="stencil.func",zf="stencil.opFront",zu="stencil.opBack",Ah="scissor.enable",sl="scissor.box",Ks="viewport",Jl="profile",Pl="framebuffer",ku="vert",ql="frag",ll="elements",Il="primitive",_s="count",Ll="offset",Fc="instances",Vu="vao",tu="Width",eu="Height",ts=Pl+tu,ru=Pl+eu,Th=Ks+tu,Gc=Ks+eu,kf="drawingBuffer",Dh=kf+tu,nu=kf+eu,Vf=[Ys,Nu,Wf,zf,zu,Bc,Ks,sl,Rc],ul=34962,Md=34963,Cd=35632,Uc=35633,Xf=3553,Wc=34067,Ph=2884,Ih=3042,Ad=3024,Lh=2960,jh=2929,cl=3089,Rh=32823,Td=32926,Dd=32928,Zo=5126,zc=35664,Xu=35665,kc=35666,Vc=5124,jl=35667,cs=35668,iu=35669,Hf=35670,au=35671,Dn=35672,Yf=35673,ou=35674,fs=35675,Ns=35676,Rr=35678,fl=35680,Kf=4,Zs=1028,Rl=1029,wh=2304,Xc=2305,Pd=32775,Id=32776,_f=519,hs=7680,Bh=0,Hu=1,Yu=32774,Nh=513,Fh=36160,Ld=36064,xs={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Hc=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],hl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},dl={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Zf={frag:Cd,vert:Uc},su={cw:wh,ccw:Xc};function Ku(qt){return Array.isArray(qt)||f(qt)||Ln(qt)}function _u(qt){return qt.sort(function(ie,Ee){return ie===Ks?-1:Ee===Ks?1:ie<Ee?-1:1})}function Ca(qt,ie,Ee,ar){this.thisDep=qt,this.contextDep=ie,this.propDep=Ee,this.append=ar}function Aa(qt){return qt&&!(qt.thisDep||qt.contextDep||qt.propDep)}function La(qt){return new Ca(!1,!1,!1,qt)}function es(qt,ie){var Ee=qt.type;if(Ee===Bf){var ar=qt.data.length;return new Ca(!0,ar>=1,ar>=2,ie)}else if(Ee===Bu){var _e=qt.data;return new Ca(_e.thisDep,_e.contextDep,_e.propDep,ie)}else{if(Ee===Ql)return new Ca(!1,!1,!1,ie);if(Ee===Sd){for(var Mr=!1,ur=!1,Jr=!1,vn=0;vn<qt.data.length;++vn){var wr=qt.data[vn];if(wr.type===Nf)Jr=!0;else if(wr.type===Dl)ur=!0;else if(wr.type===$l)Mr=!0;else if(wr.type===Bf){Mr=!0;var cn=wr.data;cn>=1&&(ur=!0),cn>=2&&(Jr=!0)}else wr.type===Bu&&(Mr=Mr||wr.data.thisDep,ur=ur||wr.data.contextDep,Jr=Jr||wr.data.propDep)}return new Ca(Mr,ur,Jr,ie)}else return new Ca(Ee===$l,Ee===Dl,Ee===Nf,ie)}}var jd=new Ca(!1,!1,!1,function(){});function mv(qt,ie,Ee,ar,_e,Mr,ur,Jr,vn,wr,cn,rn,gn,Zr,_r){var dr=wr.Record,vr={add:32774,subtract:32778,"reverse subtract":32779};Ee.ext_blend_minmax&&(vr.min=Pd,vr.max=Id);var ln=Ee.angle_instanced_arrays,Sn=Ee.webgl_draw_buffers,yr={dirty:!0,profile:_r.profile},Cr={},on=[],Qr={},Hr={};function dn(be){return be.replace(".","_")}function zn(be,ue,Be){var Je=dn(be);on.push(be),Cr[Je]=yr[Je]=!!Be,Qr[Je]=ue}function ui(be,ue,Be){var Je=dn(be);on.push(be),Array.isArray(Be)?(yr[Je]=Be.slice(),Cr[Je]=Be.slice()):yr[Je]=Cr[Je]=Be,Hr[Je]=ue}zn(Ff,Ad),zn(Bs,Ih),ui(Lc,"blendColor",[0,0,0,0]),ui(Nu,"blendEquationSeparate",[Yu,Yu]),ui(Ys,"blendFuncSeparate",[Hu,Bh,Hu,Bh]),zn(Eh,jh,!0),ui(Sh,"depthFunc",Nh),ui(ol,"depthRange",[0,1]),ui(Mh,"depthMask",!0),ui(jc,jc,[!0,!0,!0,!0]),zn(Fu,Ph),ui(Ch,"cullFace",Rl),ui(Gu,Gu,Xc),ui(Uu,Uu,1),zn(Gf,Rh),ui(Rc,"polygonOffset",[0,0]),zn(wc,Td),zn(Wu,Dd),ui(Bc,"sampleCoverage",[1,!1]),zn(Uf,Lh),ui(Nc,"stencilMask",-1),ui(Wf,"stencilFunc",[_f,0,-1]),ui(zf,"stencilOpSeparate",[Zs,hs,hs,hs]),ui(zu,"stencilOpSeparate",[Rl,hs,hs,hs]),zn(Ah,cl),ui(sl,"scissor",[0,0,qt.drawingBufferWidth,qt.drawingBufferHeight]),ui(Ks,Ks,[0,0,qt.drawingBufferWidth,qt.drawingBufferHeight]);var On={gl:qt,context:gn,strings:ie,next:Cr,current:yr,draw:rn,elements:Mr,buffer:_e,shader:cn,attributes:wr.state,vao:wr,uniforms:vn,framebuffer:Jr,extensions:Ee,timer:Zr,isBufferArgs:Ku},fn={primTypes:xe,compareFuncs:hl,blendFuncs:xs,blendEquations:vr,stencilOps:dl,glTypes:Co,orientationType:su};at.optional(function(){On.isArrayLike=xi}),Sn&&(fn.backBuffer=[Rl],fn.drawBuffer=Le(ar.maxDrawbuffers,function(be){return be===0?[0]:Le(be,function(ue){return Ld+ue})}));var Vr=0;function ei(){var be=wf(),ue=be.link,Be=be.global;be.id=Vr++,be.batchId="0";var Je=ue(On),qe=be.shared={props:"a0"};Object.keys(On).forEach(function(Re){qe[Re]=Be.def(Je,".",Re)}),at.optional(function(){be.CHECK=ue(at),be.commandStr=at.guessCommand(),be.command=ue(be.commandStr),be.assert=function(Re,me,Ye){Re("if(!(",me,"))",this.CHECK,".commandRaise(",ue(Ye),",",this.command,");")},fn.invalidBlendCombinations=Hc});var Ge=be.next={},Ne=be.current={};Object.keys(Hr).forEach(function(Re){Array.isArray(yr[Re])&&(Ge[Re]=Be.def(qe.next,".",Re),Ne[Re]=Be.def(qe.current,".",Re))});var Ve=be.constants={};Object.keys(fn).forEach(function(Re){Ve[Re]=Be.def(JSON.stringify(fn[Re]))}),be.invoke=function(Re,me){switch(me.type){case Bf:var Ye=["this",qe.context,qe.props,be.batchId];return Re.def(ue(me.data),".call(",Ye.slice(0,Math.max(me.data.length+1,4)),")");case Nf:return Re.def(qe.props,me.data);case Dl:return Re.def(qe.context,me.data);case $l:return Re.def("this",me.data);case Bu:return me.data.append(be,Re),me.data.ref;case Ql:return me.data.toString();case Sd:return me.data.map(function(er){return be.invoke(Re,er)})}},be.attribCache={};var Se={};return be.scopeAttrib=function(Re){var me=ie.id(Re);if(me in Se)return Se[me];var Ye=wr.scope[me];Ye||(Ye=wr.scope[me]=new dr);var er=Se[me]=ue(Ye);return er},be}function oi(be){var ue=be.static,Be=be.dynamic,Je;if(Jl in ue){var qe=!!ue[Jl];Je=La(function(Ne,Ve){return qe}),Je.enable=qe}else if(Jl in Be){var Ge=Be[Jl];Je=es(Ge,function(Ne,Ve){return Ne.invoke(Ve,Ge)})}return Je}function Mn(be,ue){var Be=be.static,Je=be.dynamic;if(Pl in Be){var qe=Be[Pl];return qe?(qe=Jr.getFramebuffer(qe),at.command(qe,"invalid framebuffer object"),La(function(Ne,Ve){var Se=Ne.link(qe),Re=Ne.shared;Ve.set(Re.framebuffer,".next",Se);var me=Re.context;return Ve.set(me,"."+ts,Se+".width"),Ve.set(me,"."+ru,Se+".height"),Se})):La(function(Ne,Ve){var Se=Ne.shared;Ve.set(Se.framebuffer,".next","null");var Re=Se.context;return Ve.set(Re,"."+ts,Re+"."+Dh),Ve.set(Re,"."+ru,Re+"."+nu),"null"})}else if(Pl in Je){var Ge=Je[Pl];return es(Ge,function(Ne,Ve){var Se=Ne.invoke(Ve,Ge),Re=Ne.shared,me=Re.framebuffer,Ye=Ve.def(me,".getFramebuffer(",Se,")");at.optional(function(){Ne.assert(Ve,"!"+Se+"||"+Ye,"invalid framebuffer object")}),Ve.set(me,".next",Ye);var er=Re.context;return Ve.set(er,"."+ts,Ye+"?"+Ye+".width:"+er+"."+Dh),Ve.set(er,"."+ru,Ye+"?"+Ye+".height:"+er+"."+nu),Ye})}else return null}function Kn(be,ue,Be){var Je=be.static,qe=be.dynamic;function Ge(Se){if(Se in Je){var Re=Je[Se];at.commandType(Re,"object","invalid "+Se,Be.commandStr);var me=!0,Ye=Re.x|0,er=Re.y|0,Lr,Br;return"width"in Re?(Lr=Re.width|0,at.command(Lr>=0,"invalid "+Se,Be.commandStr)):me=!1,"height"in Re?(Br=Re.height|0,at.command(Br>=0,"invalid "+Se,Be.commandStr)):me=!1,new Ca(!me&&ue&&ue.thisDep,!me&&ue&&ue.contextDep,!me&&ue&&ue.propDep,function(Wn,ni){var An=Wn.shared.context,_n=Lr;"width"in Re||(_n=ni.def(An,".",ts,"-",Ye));var fi=Br;return"height"in Re||(fi=ni.def(An,".",ru,"-",er)),[Ye,er,_n,fi]})}else if(Se in qe){var Er=qe[Se],an=es(Er,function(Wn,ni){var An=Wn.invoke(ni,Er);at.optional(function(){Wn.assert(ni,An+"&&typeof "+An+'==="object"',"invalid "+Se)});var _n=Wn.shared.context,fi=ni.def(An,".x|0"),Ii=ni.def(An,".y|0"),Ta=ni.def('"width" in ',An,"?",An,".width|0:","(",_n,".",ts,"-",fi,")"),No=ni.def('"height" in ',An,"?",An,".height|0:","(",_n,".",ru,"-",Ii,")");return at.optional(function(){Wn.assert(ni,Ta+">=0&&"+No+">=0","invalid "+Se)}),[fi,Ii,Ta,No]});return ue&&(an.thisDep=an.thisDep||ue.thisDep,an.contextDep=an.contextDep||ue.contextDep,an.propDep=an.propDep||ue.propDep),an}else return ue?new Ca(ue.thisDep,ue.contextDep,ue.propDep,function(Wn,ni){var An=Wn.shared.context;return[0,0,ni.def(An,".",ts),ni.def(An,".",ru)]}):null}var Ne=Ge(Ks);if(Ne){var Ve=Ne;Ne=new Ca(Ne.thisDep,Ne.contextDep,Ne.propDep,function(Se,Re){var me=Ve.append(Se,Re),Ye=Se.shared.context;return Re.set(Ye,"."+Th,me[2]),Re.set(Ye,"."+Gc,me[3]),me})}return{viewport:Ne,scissor_box:Ge(sl)}}function pi(be,ue){var Be=be.static,Je=typeof Be[ql]=="string"&&typeof Be[ku]=="string";if(Je){if(Object.keys(ue.dynamic).length>0)return null;var qe=ue.static,Ge=Object.keys(qe);if(Ge.length>0&&typeof qe[Ge[0]]=="number"){for(var Ne=[],Ve=0;Ve<Ge.length;++Ve)at(typeof qe[Ge[Ve]]=="number","must specify all vertex attribute locations when using vaos"),Ne.push([qe[Ge[Ve]]|0,Ge[Ve]]);return Ne}}return null}function Oi(be,ue,Be){var Je=be.static,qe=be.dynamic;function Ge(me){if(me in Je){var Ye=ie.id(Je[me]);at.optional(function(){cn.shader(Zf[me],Ye,at.guessCommand())});var er=La(function(){return Ye});return er.id=Ye,er}else if(me in qe){var Lr=qe[me];return es(Lr,function(Br,Er){var an=Br.invoke(Er,Lr),Wn=Er.def(Br.shared.strings,".id(",an,")");return at.optional(function(){Er(Br.shared.shader,".shader(",Zf[me],",",Wn,",",Br.command,");")}),Wn})}return null}var Ne=Ge(ql),Ve=Ge(ku),Se=null,Re;return Aa(Ne)&&Aa(Ve)?(Se=cn.program(Ve.id,Ne.id,null,Be),Re=La(function(me,Ye){return me.link(Se)})):Re=new Ca(Ne&&Ne.thisDep||Ve&&Ve.thisDep,Ne&&Ne.contextDep||Ve&&Ve.contextDep,Ne&&Ne.propDep||Ve&&Ve.propDep,function(me,Ye){var er=me.shared.shader,Lr;Ne?Lr=Ne.append(me,Ye):Lr=Ye.def(er,".",ql);var Br;Ve?Br=Ve.append(me,Ye):Br=Ye.def(er,".",ku);var Er=er+".program("+Br+","+Lr;return at.optional(function(){Er+=","+me.command}),Ye.def(Er+")")}),{frag:Ne,vert:Ve,progVar:Re,program:Se}}function wi(be,ue){var Be=be.static,Je=be.dynamic;function qe(){if(ll in Be){var me=Be[ll];Ku(me)?me=Mr.getElements(Mr.create(me,!0)):me&&(me=Mr.getElements(me),at.command(me,"invalid elements",ue.commandStr));var Ye=La(function(Lr,Br){if(me){var Er=Lr.link(me);return Lr.ELEMENTS=Er,Er}return Lr.ELEMENTS=null,null});return Ye.value=me,Ye}else if(ll in Je){var er=Je[ll];return es(er,function(Lr,Br){var Er=Lr.shared,an=Er.isBufferArgs,Wn=Er.elements,ni=Lr.invoke(Br,er),An=Br.def("null"),_n=Br.def(an,"(",ni,")"),fi=Lr.cond(_n).then(An,"=",Wn,".createStream(",ni,");").else(An,"=",Wn,".getElements(",ni,");");return at.optional(function(){Lr.assert(fi.else,"!"+ni+"||"+An,"invalid elements")}),Br.entry(fi),Br.exit(Lr.cond(_n).then(Wn,".destroyStream(",An,");")),Lr.ELEMENTS=An,An})}return null}var Ge=qe();function Ne(){if(Il in Be){var me=Be[Il];return at.commandParameter(me,xe,"invalid primitve",ue.commandStr),La(function(er,Lr){return xe[me]})}else if(Il in Je){var Ye=Je[Il];return es(Ye,function(er,Lr){var Br=er.constants.primTypes,Er=er.invoke(Lr,Ye);return at.optional(function(){er.assert(Lr,Er+" in "+Br,"invalid primitive, must be one of "+Object.keys(xe))}),Lr.def(Br,"[",Er,"]")})}else if(Ge)return Aa(Ge)?Ge.value?La(function(er,Lr){return Lr.def(er.ELEMENTS,".primType")}):La(function(){return Kf}):new Ca(Ge.thisDep,Ge.contextDep,Ge.propDep,function(er,Lr){var Br=er.ELEMENTS;return Lr.def(Br,"?",Br,".primType:",Kf)});return null}function Ve(me,Ye){if(me in Be){var er=Be[me]|0;return at.command(!Ye||er>=0,"invalid "+me,ue.commandStr),La(function(Br,Er){return Ye&&(Br.OFFSET=er),er})}else if(me in Je){var Lr=Je[me];return es(Lr,function(Br,Er){var an=Br.invoke(Er,Lr);return Ye&&(Br.OFFSET=an,at.optional(function(){Br.assert(Er,an+">=0","invalid "+me)})),an})}else if(Ye&&Ge)return La(function(Br,Er){return Br.OFFSET="0",0});return null}var Se=Ve(Ll,!0);function Re(){if(_s in Be){var me=Be[_s]|0;return at.command(typeof me=="number"&&me>=0,"invalid vertex count",ue.commandStr),La(function(){return me})}else if(_s in Je){var Ye=Je[_s];return es(Ye,function(Br,Er){var an=Br.invoke(Er,Ye);return at.optional(function(){Br.assert(Er,"typeof "+an+'==="number"&&'+an+">=0&&"+an+"===("+an+"|0)","invalid vertex count")}),an})}else if(Ge)if(Aa(Ge)){if(Ge)return Se?new Ca(Se.thisDep,Se.contextDep,Se.propDep,function(Br,Er){var an=Er.def(Br.ELEMENTS,".vertCount-",Br.OFFSET);return at.optional(function(){Br.assert(Er,an+">=0","invalid vertex offset/element buffer too small")}),an}):La(function(Br,Er){return Er.def(Br.ELEMENTS,".vertCount")});var er=La(function(){return-1});return at.optional(function(){er.MISSING=!0}),er}else{var Lr=new Ca(Ge.thisDep||Se.thisDep,Ge.contextDep||Se.contextDep,Ge.propDep||Se.propDep,function(Br,Er){var an=Br.ELEMENTS;return Br.OFFSET?Er.def(an,"?",an,".vertCount-",Br.OFFSET,":-1"):Er.def(an,"?",an,".vertCount:-1")});return at.optional(function(){Lr.DYNAMIC=!0}),Lr}return null}return{elements:Ge,primitive:Ne(),count:Re(),instances:Ve(Fc,!1),offset:Se}}function ka(be,ue){var Be=be.static,Je=be.dynamic,qe={};return on.forEach(function(Ge){var Ne=dn(Ge);function Ve(Se,Re){if(Ge in Be){var me=Se(Be[Ge]);qe[Ne]=La(function(){return me})}else if(Ge in Je){var Ye=Je[Ge];qe[Ne]=es(Ye,function(er,Lr){return Re(er,Lr,er.invoke(Lr,Ye))})}}switch(Ge){case Fu:case Bs:case Ff:case Uf:case Eh:case Ah:case Gf:case wc:case Wu:case Mh:return Ve(function(Se){return at.commandType(Se,"boolean",Ge,ue.commandStr),Se},function(Se,Re,me){return at.optional(function(){Se.assert(Re,"typeof "+me+'==="boolean"',"invalid flag "+Ge,Se.commandStr)}),me});case Sh:return Ve(function(Se){return at.commandParameter(Se,hl,"invalid "+Ge,ue.commandStr),hl[Se]},function(Se,Re,me){var Ye=Se.constants.compareFuncs;return at.optional(function(){Se.assert(Re,me+" in "+Ye,"invalid "+Ge+", must be one of "+Object.keys(hl))}),Re.def(Ye,"[",me,"]")});case ol:return Ve(function(Se){return at.command(xi(Se)&&Se.length===2&&typeof Se[0]=="number"&&typeof Se[1]=="number"&&Se[0]<=Se[1],"depth range is 2d array",ue.commandStr),Se},function(Se,Re,me){at.optional(function(){Se.assert(Re,Se.shared.isArrayLike+"("+me+")&&"+me+".length===2&&typeof "+me+'[0]==="number"&&typeof '+me+'[1]==="number"&&'+me+"[0]<="+me+"[1]","depth range must be a 2d array")});var Ye=Re.def("+",me,"[0]"),er=Re.def("+",me,"[1]");return[Ye,er]});case Ys:return Ve(function(Se){at.commandType(Se,"object","blend.func",ue.commandStr);var Re="srcRGB"in Se?Se.srcRGB:Se.src,me="srcAlpha"in Se?Se.srcAlpha:Se.src,Ye="dstRGB"in Se?Se.dstRGB:Se.dst,er="dstAlpha"in Se?Se.dstAlpha:Se.dst;return at.commandParameter(Re,xs,Ne+".srcRGB",ue.commandStr),at.commandParameter(me,xs,Ne+".srcAlpha",ue.commandStr),at.commandParameter(Ye,xs,Ne+".dstRGB",ue.commandStr),at.commandParameter(er,xs,Ne+".dstAlpha",ue.commandStr),at.command(Hc.indexOf(Re+", "+Ye)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Re+", "+Ye+")",ue.commandStr),[xs[Re],xs[Ye],xs[me],xs[er]]},function(Se,Re,me){var Ye=Se.constants.blendFuncs;at.optional(function(){Se.assert(Re,me+"&&typeof "+me+'==="object"',"invalid blend func, must be an object")});function er(An,_n){var fi=Re.def('"',An,_n,'" in ',me,"?",me,".",An,_n,":",me,".",An);return at.optional(function(){Se.assert(Re,fi+" in "+Ye,"invalid "+Ge+"."+An+_n+", must be one of "+Object.keys(xs))}),fi}var Lr=er("src","RGB"),Br=er("dst","RGB");at.optional(function(){var An=Se.constants.invalidBlendCombinations;Se.assert(Re,An+".indexOf("+Lr+'+", "+'+Br+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Er=Re.def(Ye,"[",Lr,"]"),an=Re.def(Ye,"[",er("src","Alpha"),"]"),Wn=Re.def(Ye,"[",Br,"]"),ni=Re.def(Ye,"[",er("dst","Alpha"),"]");return[Er,Wn,an,ni]});case Nu:return Ve(function(Se){if(typeof Se=="string")return at.commandParameter(Se,vr,"invalid "+Ge,ue.commandStr),[vr[Se],vr[Se]];if(typeof Se=="object")return at.commandParameter(Se.rgb,vr,Ge+".rgb",ue.commandStr),at.commandParameter(Se.alpha,vr,Ge+".alpha",ue.commandStr),[vr[Se.rgb],vr[Se.alpha]];at.commandRaise("invalid blend.equation",ue.commandStr)},function(Se,Re,me){var Ye=Se.constants.blendEquations,er=Re.def(),Lr=Re.def(),Br=Se.cond("typeof ",me,'==="string"');return at.optional(function(){function Er(an,Wn,ni){Se.assert(an,ni+" in "+Ye,"invalid "+Wn+", must be one of "+Object.keys(vr))}Er(Br.then,Ge,me),Se.assert(Br.else,me+"&&typeof "+me+'==="object"',"invalid "+Ge),Er(Br.else,Ge+".rgb",me+".rgb"),Er(Br.else,Ge+".alpha",me+".alpha")}),Br.then(er,"=",Lr,"=",Ye,"[",me,"];"),Br.else(er,"=",Ye,"[",me,".rgb];",Lr,"=",Ye,"[",me,".alpha];"),Re(Br),[er,Lr]});case Lc:return Ve(function(Se){return at.command(xi(Se)&&Se.length===4,"blend.color must be a 4d array",ue.commandStr),Le(4,function(Re){return+Se[Re]})},function(Se,Re,me){return at.optional(function(){Se.assert(Re,Se.shared.isArrayLike+"("+me+")&&"+me+".length===4","blend.color must be a 4d array")}),Le(4,function(Ye){return Re.def("+",me,"[",Ye,"]")})});case Nc:return Ve(function(Se){return at.commandType(Se,"number",Ne,ue.commandStr),Se|0},function(Se,Re,me){return at.optional(function(){Se.assert(Re,"typeof "+me+'==="number"',"invalid stencil.mask")}),Re.def(me,"|0")});case Wf:return Ve(function(Se){at.commandType(Se,"object",Ne,ue.commandStr);var Re=Se.cmp||"keep",me=Se.ref||0,Ye="mask"in Se?Se.mask:-1;return at.commandParameter(Re,hl,Ge+".cmp",ue.commandStr),at.commandType(me,"number",Ge+".ref",ue.commandStr),at.commandType(Ye,"number",Ge+".mask",ue.commandStr),[hl[Re],me,Ye]},function(Se,Re,me){var Ye=Se.constants.compareFuncs;at.optional(function(){function Er(){Se.assert(Re,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Er(me+"&&typeof ",me,'==="object"'),Er('!("cmp" in ',me,")||(",me,".cmp in ",Ye,")")});var er=Re.def('"cmp" in ',me,"?",Ye,"[",me,".cmp]",":",hs),Lr=Re.def(me,".ref|0"),Br=Re.def('"mask" in ',me,"?",me,".mask|0:-1");return[er,Lr,Br]});case zf:case zu:return Ve(function(Se){at.commandType(Se,"object",Ne,ue.commandStr);var Re=Se.fail||"keep",me=Se.zfail||"keep",Ye=Se.zpass||"keep";return at.commandParameter(Re,dl,Ge+".fail",ue.commandStr),at.commandParameter(me,dl,Ge+".zfail",ue.commandStr),at.commandParameter(Ye,dl,Ge+".zpass",ue.commandStr),[Ge===zu?Rl:Zs,dl[Re],dl[me],dl[Ye]]},function(Se,Re,me){var Ye=Se.constants.stencilOps;at.optional(function(){Se.assert(Re,me+"&&typeof "+me+'==="object"',"invalid "+Ge)});function er(Lr){return at.optional(function(){Se.assert(Re,'!("'+Lr+'" in '+me+")||("+me+"."+Lr+" in "+Ye+")","invalid "+Ge+"."+Lr+", must be one of "+Object.keys(dl))}),Re.def('"',Lr,'" in ',me,"?",Ye,"[",me,".",Lr,"]:",hs)}return[Ge===zu?Rl:Zs,er("fail"),er("zfail"),er("zpass")]});case Rc:return Ve(function(Se){at.commandType(Se,"object",Ne,ue.commandStr);var Re=Se.factor|0,me=Se.units|0;return at.commandType(Re,"number",Ne+".factor",ue.commandStr),at.commandType(me,"number",Ne+".units",ue.commandStr),[Re,me]},function(Se,Re,me){at.optional(function(){Se.assert(Re,me+"&&typeof "+me+'==="object"',"invalid "+Ge)});var Ye=Re.def(me,".factor|0"),er=Re.def(me,".units|0");return[Ye,er]});case Ch:return Ve(function(Se){var Re=0;return Se==="front"?Re=Zs:Se==="back"&&(Re=Rl),at.command(!!Re,Ne,ue.commandStr),Re},function(Se,Re,me){return at.optional(function(){Se.assert(Re,me+'==="front"||'+me+'==="back"',"invalid cull.face")}),Re.def(me,'==="front"?',Zs,":",Rl)});case Uu:return Ve(function(Se){return at.command(typeof Se=="number"&&Se>=ar.lineWidthDims[0]&&Se<=ar.lineWidthDims[1],"invalid line width, must be a positive number between "+ar.lineWidthDims[0]+" and "+ar.lineWidthDims[1],ue.commandStr),Se},function(Se,Re,me){return at.optional(function(){Se.assert(Re,"typeof "+me+'==="number"&&'+me+">="+ar.lineWidthDims[0]+"&&"+me+"<="+ar.lineWidthDims[1],"invalid line width")}),me});case Gu:return Ve(function(Se){return at.commandParameter(Se,su,Ne,ue.commandStr),su[Se]},function(Se,Re,me){return at.optional(function(){Se.assert(Re,me+'==="cw"||'+me+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Re.def(me+'==="cw"?'+wh+":"+Xc)});case jc:return Ve(function(Se){return at.command(xi(Se)&&Se.length===4,"color.mask must be length 4 array",ue.commandStr),Se.map(function(Re){return!!Re})},function(Se,Re,me){return at.optional(function(){Se.assert(Re,Se.shared.isArrayLike+"("+me+")&&"+me+".length===4","invalid color.mask")}),Le(4,function(Ye){return"!!"+me+"["+Ye+"]"})});case Bc:return Ve(function(Se){at.command(typeof Se=="object"&&Se,Ne,ue.commandStr);var Re="value"in Se?Se.value:1,me=!!Se.invert;return at.command(typeof Re=="number"&&Re>=0&&Re<=1,"sample.coverage.value must be a number between 0 and 1",ue.commandStr),[Re,me]},function(Se,Re,me){at.optional(function(){Se.assert(Re,me+"&&typeof "+me+'==="object"',"invalid sample.coverage")});var Ye=Re.def('"value" in ',me,"?+",me,".value:1"),er=Re.def("!!",me,".invert");return[Ye,er]})}}),qe}function ja(be,ue){var Be=be.static,Je=be.dynamic,qe={};return Object.keys(Be).forEach(function(Ge){var Ne=Be[Ge],Ve;if(typeof Ne=="number"||typeof Ne=="boolean")Ve=La(function(){return Ne});else if(typeof Ne=="function"){var Se=Ne._reglType;Se==="texture2d"||Se==="textureCube"?Ve=La(function(Re){return Re.link(Ne)}):Se==="framebuffer"||Se==="framebufferCube"?(at.command(Ne.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Ge+'"',ue.commandStr),Ve=La(function(Re){return Re.link(Ne.color[0])})):at.commandRaise('invalid data for uniform "'+Ge+'"',ue.commandStr)}else xi(Ne)?Ve=La(function(Re){var me=Re.global.def("[",Le(Ne.length,function(Ye){return at.command(typeof Ne[Ye]=="number"||typeof Ne[Ye]=="boolean","invalid uniform "+Ge,Re.commandStr),Ne[Ye]}),"]");return me}):at.commandRaise('invalid or missing data for uniform "'+Ge+'"',ue.commandStr);Ve.value=Ne,qe[Ge]=Ve}),Object.keys(Je).forEach(function(Ge){var Ne=Je[Ge];qe[Ge]=es(Ne,function(Ve,Se){return Ve.invoke(Se,Ne)})}),qe}function Mi(be,ue){var Be=be.static,Je=be.dynamic,qe={};return Object.keys(Be).forEach(function(Ge){var Ne=Be[Ge],Ve=ie.id(Ge),Se=new dr;if(Ku(Ne))Se.state=al,Se.buffer=_e.getBuffer(_e.create(Ne,ul,!1,!0)),Se.type=0;else{var Re=_e.getBuffer(Ne);if(Re)Se.state=al,Se.buffer=Re,Se.type=0;else if(at.command(typeof Ne=="object"&&Ne,"invalid data for attribute "+Ge,ue.commandStr),"constant"in Ne){var me=Ne.constant;Se.buffer="null",Se.state=Ic,typeof me=="number"?Se.x=me:(at.command(xi(me)&&me.length>0&&me.length<=4,"invalid constant for attribute "+Ge,ue.commandStr),Tl.forEach(function(Wn,ni){ni<me.length&&(Se[Wn]=me[ni])}))}else{Ku(Ne.buffer)?Re=_e.getBuffer(_e.create(Ne.buffer,ul,!1,!0)):Re=_e.getBuffer(Ne.buffer),at.command(!!Re,'missing buffer for attribute "'+Ge+'"',ue.commandStr);var Ye=Ne.offset|0;at.command(Ye>=0,'invalid offset for attribute "'+Ge+'"',ue.commandStr);var er=Ne.stride|0;at.command(er>=0&&er<256,'invalid stride for attribute "'+Ge+'", must be integer betweeen [0, 255]',ue.commandStr);var Lr=Ne.size|0;at.command(!("size"in Ne)||Lr>0&&Lr<=4,'invalid size for attribute "'+Ge+'", must be 1,2,3,4',ue.commandStr);var Br=!!Ne.normalized,Er=0;"type"in Ne&&(at.commandParameter(Ne.type,Co,"invalid type for attribute "+Ge,ue.commandStr),Er=Co[Ne.type]);var an=Ne.divisor|0;"divisor"in Ne&&(at.command(an===0||ln,'cannot specify divisor for attribute "'+Ge+'", instancing not supported',ue.commandStr),at.command(an>=0,'invalid divisor for attribute "'+Ge+'"',ue.commandStr)),at.optional(function(){var Wn=ue.commandStr,ni=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Ne).forEach(function(An){at.command(ni.indexOf(An)>=0,'unknown parameter "'+An+'" for attribute pointer "'+Ge+'" (valid parameters are '+ni+")",Wn)})}),Se.buffer=Re,Se.state=al,Se.size=Lr,Se.normalized=Br,Se.type=Er||Re.dtype,Se.offset=Ye,Se.stride=er,Se.divisor=an}}qe[Ge]=La(function(Wn,ni){var An=Wn.attribCache;if(Ve in An)return An[Ve];var _n={isStream:!1};return Object.keys(Se).forEach(function(fi){_n[fi]=Se[fi]}),Se.buffer&&(_n.buffer=Wn.link(Se.buffer),_n.type=_n.type||_n.buffer+".dtype"),An[Ve]=_n,_n})}),Object.keys(Je).forEach(function(Ge){var Ne=Je[Ge];function Ve(Se,Re){var me=Se.invoke(Re,Ne),Ye=Se.shared,er=Se.constants,Lr=Ye.isBufferArgs,Br=Ye.buffer;at.optional(function(){Se.assert(Re,me+"&&(typeof "+me+'==="object"||typeof '+me+'==="function")&&('+Lr+"("+me+")||"+Br+".getBuffer("+me+")||"+Br+".getBuffer("+me+".buffer)||"+Lr+"("+me+'.buffer)||("constant" in '+me+"&&(typeof "+me+'.constant==="number"||'+Ye.isArrayLike+"("+me+".constant))))",'invalid dynamic attribute "'+Ge+'"')});var Er={isStream:Re.def(!1)},an=new dr;an.state=al,Object.keys(an).forEach(function(_n){Er[_n]=Re.def(""+an[_n])});var Wn=Er.buffer,ni=Er.type;Re("if(",Lr,"(",me,")){",Er.isStream,"=true;",Wn,"=",Br,".createStream(",ul,",",me,");",ni,"=",Wn,".dtype;","}else{",Wn,"=",Br,".getBuffer(",me,");","if(",Wn,"){",ni,"=",Wn,".dtype;",'}else if("constant" in ',me,"){",Er.state,"=",Ic,";","if(typeof "+me+'.constant === "number"){',Er[Tl[0]],"=",me,".constant;",Tl.slice(1).map(function(_n){return Er[_n]}).join("="),"=0;","}else{",Tl.map(function(_n,fi){return Er[_n]+"="+me+".constant.length>"+fi+"?"+me+".constant["+fi+"]:0;"}).join(""),"}}else{","if(",Lr,"(",me,".buffer)){",Wn,"=",Br,".createStream(",ul,",",me,".buffer);","}else{",Wn,"=",Br,".getBuffer(",me,".buffer);","}",ni,'="type" in ',me,"?",er.glTypes,"[",me,".type]:",Wn,".dtype;",Er.normalized,"=!!",me,".normalized;");function An(_n){Re(Er[_n],"=",me,".",_n,"|0;")}return An("size"),An("offset"),An("stride"),An("divisor"),Re("}}"),Re.exit("if(",Er.isStream,"){",Br,".destroyStream(",Wn,");","}"),Er}qe[Ge]=es(Ne,Ve)}),qe}function _a(be,ue){var Be=be.static,Je=be.dynamic;if(Vu in Be){var qe=Be[Vu];return qe!==null&&wr.getVAO(qe)===null&&(qe=wr.createVAO(qe)),La(function(Ne){return Ne.link(wr.getVAO(qe))})}else if(Vu in Je){var Ge=Je[Vu];return es(Ge,function(Ne,Ve){var Se=Ne.invoke(Ve,Ge);return Ve.def(Ne.shared.vao+".getVAO("+Se+")")})}return null}function ua(be){var ue=be.static,Be=be.dynamic,Je={};return Object.keys(ue).forEach(function(qe){var Ge=ue[qe];Je[qe]=La(function(Ne,Ve){return typeof Ge=="number"||typeof Ge=="boolean"?""+Ge:Ne.link(Ge)})}),Object.keys(Be).forEach(function(qe){var Ge=Be[qe];Je[qe]=es(Ge,function(Ne,Ve){return Ne.invoke(Ve,Ge)})}),Je}function Va(be,ue,Be,Je,qe){var Ge=be.static,Ne=be.dynamic;at.optional(function(){var An=[Pl,ku,ql,ll,Il,Ll,_s,Fc,Jl,Vu].concat(on);function _n(fi){Object.keys(fi).forEach(function(Ii){at.command(An.indexOf(Ii)>=0,'unknown parameter "'+Ii+'"',qe.commandStr)})}_n(Ge),_n(Ne)});var Ve=pi(be,ue),Se=Mn(be,qe),Re=Kn(be,Se,qe),me=wi(be,qe),Ye=ka(be,qe),er=Oi(be,qe,Ve);function Lr(An){var _n=Re[An];_n&&(Ye[An]=_n)}Lr(Ks),Lr(dn(sl));var Br=Object.keys(Ye).length>0,Er={framebuffer:Se,draw:me,shader:er,state:Ye,dirty:Br,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Er.profile=oi(be,qe),Er.uniforms=ja(Be,qe),Er.drawVAO=Er.scopeVAO=_a(be,qe),!Er.drawVAO&&er.program&&!Ve&&Ee.angle_instanced_arrays){var an=!0,Wn=er.program.attributes.map(function(An){var _n=ue.static[An];return an=an&&!!_n,_n});if(an&&Wn.length>0){var ni=wr.getVAO(wr.createVAO(Wn));Er.drawVAO=new Ca(null,null,null,function(An,_n){return An.link(ni)}),Er.useVAO=!0}}return Ve?Er.useVAO=!0:Er.attributes=Mi(ue,qe),Er.context=ua(Je,qe),Er}function Za(be,ue,Be){var Je=be.shared,qe=Je.context,Ge=be.scope();Object.keys(Be).forEach(function(Ne){ue.save(qe,"."+Ne);var Ve=Be[Ne],Se=Ve.append(be,ue);Array.isArray(Se)?Ge(qe,".",Ne,"=[",Se.join(),"];"):Ge(qe,".",Ne,"=",Se,";")}),ue(Ge)}function Fa(be,ue,Be,Je){var qe=be.shared,Ge=qe.gl,Ne=qe.framebuffer,Ve;Sn&&(Ve=ue.def(qe.extensions,".webgl_draw_buffers"));var Se=be.constants,Re=Se.drawBuffer,me=Se.backBuffer,Ye;Be?Ye=Be.append(be,ue):Ye=ue.def(Ne,".next"),Je||ue("if(",Ye,"!==",Ne,".cur){"),ue("if(",Ye,"){",Ge,".bindFramebuffer(",Fh,",",Ye,".framebuffer);"),Sn&&ue(Ve,".drawBuffersWEBGL(",Re,"[",Ye,".colorAttachments.length]);"),ue("}else{",Ge,".bindFramebuffer(",Fh,",null);"),Sn&&ue(Ve,".drawBuffersWEBGL(",me,");"),ue("}",Ne,".cur=",Ye,";"),Je||ue("}")}function so(be,ue,Be){var Je=be.shared,qe=Je.gl,Ge=be.current,Ne=be.next,Ve=Je.current,Se=Je.next,Re=be.cond(Ve,".dirty");on.forEach(function(me){var Ye=dn(me);if(!(Ye in Be.state)){var er,Lr;if(Ye in Ne){er=Ne[Ye],Lr=Ge[Ye];var Br=Le(yr[Ye].length,function(an){return Re.def(er,"[",an,"]")});Re(be.cond(Br.map(function(an,Wn){return an+"!=="+Lr+"["+Wn+"]"}).join("||")).then(qe,".",Hr[Ye],"(",Br,");",Br.map(function(an,Wn){return Lr+"["+Wn+"]="+an}).join(";"),";"))}else{er=Re.def(Se,".",Ye);var Er=be.cond(er,"!==",Ve,".",Ye);Re(Er),Ye in Qr?Er(be.cond(er).then(qe,".enable(",Qr[Ye],");").else(qe,".disable(",Qr[Ye],");"),Ve,".",Ye,"=",er,";"):Er(qe,".",Hr[Ye],"(",er,");",Ve,".",Ye,"=",er,";")}}}),Object.keys(Be.state).length===0&&Re(Ve,".dirty=false;"),ue(Re)}function Ki(be,ue,Be,Je){var qe=be.shared,Ge=be.current,Ne=qe.current,Ve=qe.gl;_u(Object.keys(Be)).forEach(function(Se){var Re=Be[Se];if(!(Je&&!Je(Re))){var me=Re.append(be,ue);if(Qr[Se]){var Ye=Qr[Se];Aa(Re)?me?ue(Ve,".enable(",Ye,");"):ue(Ve,".disable(",Ye,");"):ue(be.cond(me).then(Ve,".enable(",Ye,");").else(Ve,".disable(",Ye,");")),ue(Ne,".",Se,"=",me,";")}else if(xi(me)){var er=Ge[Se];ue(Ve,".",Hr[Se],"(",me,");",me.map(function(Lr,Br){return er+"["+Br+"]="+Lr}).join(";"),";")}else ue(Ve,".",Hr[Se],"(",me,");",Ne,".",Se,"=",me,";")}})}function Ga(be,ue){ln&&(be.instancing=ue.def(be.shared.extensions,".angle_instanced_arrays"))}function mi(be,ue,Be,Je,qe){var Ge=be.shared,Ne=be.stats,Ve=Ge.current,Se=Ge.timer,Re=Be.profile;function me(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var Ye,er;function Lr(An){Ye=ue.def(),An(Ye,"=",me(),";"),typeof qe=="string"?An(Ne,".count+=",qe,";"):An(Ne,".count++;"),Zr&&(Je?(er=ue.def(),An(er,"=",Se,".getNumPendingQueries();")):An(Se,".beginQuery(",Ne,");"))}function Br(An){An(Ne,".cpuTime+=",me(),"-",Ye,";"),Zr&&(Je?An(Se,".pushScopeStats(",er,",",Se,".getNumPendingQueries(),",Ne,");"):An(Se,".endQuery();"))}function Er(An){var _n=ue.def(Ve,".profile");ue(Ve,".profile=",An,";"),ue.exit(Ve,".profile=",_n,";")}var an;if(Re){if(Aa(Re)){Re.enable?(Lr(ue),Br(ue.exit),Er("true")):Er("false");return}an=Re.append(be,ue),Er(an)}else an=ue.def(Ve,".profile");var Wn=be.block();Lr(Wn),ue("if(",an,"){",Wn,"}");var ni=be.block();Br(ni),ue.exit("if(",an,"){",ni,"}")}function go(be,ue,Be,Je,qe){var Ge=be.shared;function Ne(Se){switch(Se){case zc:case jl:case au:return 2;case Xu:case cs:case Dn:return 3;case kc:case iu:case Yf:return 4;default:return 1}}function Ve(Se,Re,me){var Ye=Ge.gl,er=ue.def(Se,".location"),Lr=ue.def(Ge.attributes,"[",er,"]"),Br=me.state,Er=me.buffer,an=[me.x,me.y,me.z,me.w],Wn=["buffer","normalized","offset","stride"];function ni(){ue("if(!",Lr,".buffer){",Ye,".enableVertexAttribArray(",er,");}");var _n=me.type,fi;if(me.size?fi=ue.def(me.size,"||",Re):fi=Re,ue("if(",Lr,".type!==",_n,"||",Lr,".size!==",fi,"||",Wn.map(function(Ta){return Lr+"."+Ta+"!=="+me[Ta]}).join("||"),"){",Ye,".bindBuffer(",ul,",",Er,".buffer);",Ye,".vertexAttribPointer(",[er,fi,_n,me.normalized,me.stride,me.offset],");",Lr,".type=",_n,";",Lr,".size=",fi,";",Wn.map(function(Ta){return Lr+"."+Ta+"="+me[Ta]+";"}).join(""),"}"),ln){var Ii=me.divisor;ue("if(",Lr,".divisor!==",Ii,"){",be.instancing,".vertexAttribDivisorANGLE(",[er,Ii],");",Lr,".divisor=",Ii,";}")}}function An(){ue("if(",Lr,".buffer){",Ye,".disableVertexAttribArray(",er,");",Lr,".buffer=null;","}if(",Tl.map(function(_n,fi){return Lr+"."+_n+"!=="+an[fi]}).join("||"),"){",Ye,".vertexAttrib4f(",er,",",an,");",Tl.map(function(_n,fi){return Lr+"."+_n+"="+an[fi]+";"}).join(""),"}")}Br===al?ni():Br===Ic?An():(ue("if(",Br,"===",al,"){"),ni(),ue("}else{"),An(),ue("}"))}Je.forEach(function(Se){var Re=Se.name,me=Be.attributes[Re],Ye;if(me){if(!qe(me))return;Ye=me.append(be,ue)}else{if(!qe(jd))return;var er=be.scopeAttrib(Re);at.optional(function(){be.assert(ue,er+".state","missing attribute "+Re)}),Ye={},Object.keys(new dr).forEach(function(Lr){Ye[Lr]=ue.def(er,".",Lr)})}Ve(be.link(Se),Ne(Se.info.type),Ye)})}function Gi(be,ue,Be,Je,qe){for(var Ge=be.shared,Ne=Ge.gl,Ve,Se=0;Se<Je.length;++Se){var Re=Je[Se],me=Re.name,Ye=Re.info.type,er=Be.uniforms[me],Lr=be.link(Re),Br=Lr+".location",Er;if(er){if(!qe(er))continue;if(Aa(er)){var an=er.value;if(at.command(an!==null&&typeof an!="undefined",'missing uniform "'+me+'"',be.commandStr),Ye===Rr||Ye===fl){at.command(typeof an=="function"&&(Ye===Rr&&(an._reglType==="texture2d"||an._reglType==="framebuffer")||Ye===fl&&(an._reglType==="textureCube"||an._reglType==="framebufferCube")),"invalid texture for uniform "+me,be.commandStr);var Wn=be.link(an._texture||an.color[0]._texture);ue(Ne,".uniform1i(",Br,",",Wn+".bind());"),ue.exit(Wn,".unbind();")}else if(Ye===ou||Ye===fs||Ye===Ns){at.optional(function(){at.command(xi(an),"invalid matrix for uniform "+me,be.commandStr),at.command(Ye===ou&&an.length===4||Ye===fs&&an.length===9||Ye===Ns&&an.length===16,"invalid length for matrix uniform "+me,be.commandStr)});var ni=be.global.def("new Float32Array(["+Array.prototype.slice.call(an)+"])"),An=2;Ye===fs?An=3:Ye===Ns&&(An=4),ue(Ne,".uniformMatrix",An,"fv(",Br,",false,",ni,");")}else{switch(Ye){case Zo:at.commandType(an,"number","uniform "+me,be.commandStr),Ve="1f";break;case zc:at.command(xi(an)&&an.length===2,"uniform "+me,be.commandStr),Ve="2f";break;case Xu:at.command(xi(an)&&an.length===3,"uniform "+me,be.commandStr),Ve="3f";break;case kc:at.command(xi(an)&&an.length===4,"uniform "+me,be.commandStr),Ve="4f";break;case Hf:at.commandType(an,"boolean","uniform "+me,be.commandStr),Ve="1i";break;case Vc:at.commandType(an,"number","uniform "+me,be.commandStr),Ve="1i";break;case au:at.command(xi(an)&&an.length===2,"uniform "+me,be.commandStr),Ve="2i";break;case jl:at.command(xi(an)&&an.length===2,"uniform "+me,be.commandStr),Ve="2i";break;case Dn:at.command(xi(an)&&an.length===3,"uniform "+me,be.commandStr),Ve="3i";break;case cs:at.command(xi(an)&&an.length===3,"uniform "+me,be.commandStr),Ve="3i";break;case Yf:at.command(xi(an)&&an.length===4,"uniform "+me,be.commandStr),Ve="4i";break;case iu:at.command(xi(an)&&an.length===4,"uniform "+me,be.commandStr),Ve="4i";break}ue(Ne,".uniform",Ve,"(",Br,",",xi(an)?Array.prototype.slice.call(an):an,");")}continue}else Er=er.append(be,ue)}else{if(!qe(jd))continue;Er=ue.def(Ge.uniforms,"[",ie.id(me),"]")}Ye===Rr?(at(!Array.isArray(Er),"must specify a scalar prop for textures"),ue("if(",Er,"&&",Er,'._reglType==="framebuffer"){',Er,"=",Er,".color[0];","}")):Ye===fl&&(at(!Array.isArray(Er),"must specify a scalar prop for cube maps"),ue("if(",Er,"&&",Er,'._reglType==="framebufferCube"){',Er,"=",Er,".color[0];","}")),at.optional(function(){function No(rs,Gh){be.assert(ue,rs,'bad data or missing for uniform "'+me+'".  '+Gh)}function Kc(rs){at(!Array.isArray(Er),"must not specify an array type for uniform"),No("typeof "+Er+'==="'+rs+'"',"invalid type, expected "+rs)}function xo(rs,Gh){Array.isArray(Er)?at(Er.length===rs,"must have length "+rs):No(Ge.isArrayLike+"("+Er+")&&"+Er+".length==="+rs,"invalid vector, should have length "+rs,be.commandStr)}function $u(rs){at(!Array.isArray(Er),"must not specify a value type"),No("typeof "+Er+'==="function"&&'+Er+'._reglType==="texture'+(rs===Xf?"2d":"Cube")+'"',"invalid texture type",be.commandStr)}switch(Ye){case Vc:Kc("number");break;case jl:xo(2,"number");break;case cs:xo(3,"number");break;case iu:xo(4,"number");break;case Zo:Kc("number");break;case zc:xo(2,"number");break;case Xu:xo(3,"number");break;case kc:xo(4,"number");break;case Hf:Kc("boolean");break;case au:xo(2,"boolean");break;case Dn:xo(3,"boolean");break;case Yf:xo(4,"boolean");break;case ou:xo(4,"number");break;case fs:xo(9,"number");break;case Ns:xo(16,"number");break;case Rr:$u(Xf);break;case fl:$u(Wc);break}});var _n=1;switch(Ye){case Rr:case fl:var fi=ue.def(Er,"._texture");ue(Ne,".uniform1i(",Br,",",fi,".bind());"),ue.exit(fi,".unbind();");continue;case Vc:case Hf:Ve="1i";break;case jl:case au:Ve="2i",_n=2;break;case cs:case Dn:Ve="3i",_n=3;break;case iu:case Yf:Ve="4i",_n=4;break;case Zo:Ve="1f";break;case zc:Ve="2f",_n=2;break;case Xu:Ve="3f",_n=3;break;case kc:Ve="4f",_n=4;break;case ou:Ve="Matrix2fv";break;case fs:Ve="Matrix3fv";break;case Ns:Ve="Matrix4fv";break}if(ue(Ne,".uniform",Ve,"(",Br,","),Ve.charAt(0)==="M"){var Ii=Math.pow(Ye-ou+2,2),Ta=be.global.def("new Float32Array(",Ii,")");Array.isArray(Er)?ue("false,(",Le(Ii,function(No){return Ta+"["+No+"]="+Er[No]}),",",Ta,")"):ue("false,(Array.isArray(",Er,")||",Er," instanceof Float32Array)?",Er,":(",Le(Ii,function(No){return Ta+"["+No+"]="+Er+"["+No+"]"}),",",Ta,")")}else _n>1?ue(Le(_n,function(No){return Array.isArray(Er)?Er[No]:Er+"["+No+"]"})):(at(!Array.isArray(Er),"uniform value must not be an array"),ue(Er));ue(");")}}function Hn(be,ue,Be,Je){var qe=be.shared,Ge=qe.gl,Ne=qe.draw,Ve=Je.draw;function Se(){var fi=Ve.elements,Ii,Ta=ue;return fi?((fi.contextDep&&Je.contextDynamic||fi.propDep)&&(Ta=Be),Ii=fi.append(be,Ta)):Ii=Ta.def(Ne,".",ll),Ii&&Ta("if("+Ii+")"+Ge+".bindBuffer("+Md+","+Ii+".buffer.buffer);"),Ii}function Re(){var fi=Ve.count,Ii,Ta=ue;return fi?((fi.contextDep&&Je.contextDynamic||fi.propDep)&&(Ta=Be),Ii=fi.append(be,Ta),at.optional(function(){fi.MISSING&&be.assert(ue,"false","missing vertex count"),fi.DYNAMIC&&be.assert(Ta,Ii+">=0","missing vertex count")})):(Ii=Ta.def(Ne,".",_s),at.optional(function(){be.assert(Ta,Ii+">=0","missing vertex count")})),Ii}var me=Se();function Ye(fi){var Ii=Ve[fi];return Ii?Ii.contextDep&&Je.contextDynamic||Ii.propDep?Ii.append(be,Be):Ii.append(be,ue):ue.def(Ne,".",fi)}var er=Ye(Il),Lr=Ye(Ll),Br=Re();if(typeof Br=="number"){if(Br===0)return}else Be("if(",Br,"){"),Be.exit("}");var Er,an;ln&&(Er=Ye(Fc),an=be.instancing);var Wn=me+".type",ni=Ve.elements&&Aa(Ve.elements);function An(){function fi(){Be(an,".drawElementsInstancedANGLE(",[er,Br,Wn,Lr+"<<(("+Wn+"-"+xh+")>>1)",Er],");")}function Ii(){Be(an,".drawArraysInstancedANGLE(",[er,Lr,Br,Er],");")}me?ni?fi():(Be("if(",me,"){"),fi(),Be("}else{"),Ii(),Be("}")):Ii()}function _n(){function fi(){Be(Ge+".drawElements("+[er,Br,Wn,Lr+"<<(("+Wn+"-"+xh+")>>1)"]+");")}function Ii(){Be(Ge+".drawArrays("+[er,Lr,Br]+");")}me?ni?fi():(Be("if(",me,"){"),fi(),Be("}else{"),Ii(),Be("}")):Ii()}ln&&(typeof Er!="number"||Er>=0)?typeof Er=="string"?(Be("if(",Er,">0){"),An(),Be("}else if(",Er,"<0){"),_n(),Be("}")):An():_n()}function ci(be,ue,Be,Je,qe){var Ge=ei(),Ne=Ge.proc("body",qe);return at.optional(function(){Ge.commandStr=ue.commandStr,Ge.command=Ge.link(ue.commandStr)}),ln&&(Ge.instancing=Ne.def(Ge.shared.extensions,".angle_instanced_arrays")),be(Ge,Ne,Be,Je),Ge.compile().body}function Ti(be,ue,Be,Je){Ga(be,ue),Be.useVAO?Be.drawVAO?ue(be.shared.vao,".setVAO(",Be.drawVAO.append(be,ue),");"):ue(be.shared.vao,".setVAO(",be.shared.vao,".targetVAO);"):(ue(be.shared.vao,".setVAO(null);"),go(be,ue,Be,Je.attributes,function(){return!0})),Gi(be,ue,Be,Je.uniforms,function(){return!0}),Hn(be,ue,ue,Be)}function ro(be,ue){var Be=be.proc("draw",1);Ga(be,Be),Za(be,Be,ue.context),Fa(be,Be,ue.framebuffer),so(be,Be,ue),Ki(be,Be,ue.state),mi(be,Be,ue,!1,!0);var Je=ue.shader.progVar.append(be,Be);if(Be(be.shared.gl,".useProgram(",Je,".program);"),ue.shader.program)Ti(be,Be,ue,ue.shader.program);else{Be(be.shared.vao,".setVAO(null);");var qe=be.global.def("{}"),Ge=Be.def(Je,".id"),Ne=Be.def(qe,"[",Ge,"]");Be(be.cond(Ne).then(Ne,".call(this,a0);").else(Ne,"=",qe,"[",Ge,"]=",be.link(function(Ve){return ci(Ti,be,ue,Ve,1)}),"(",Je,");",Ne,".call(this,a0);"))}Object.keys(ue.state).length>0&&Be(be.shared.current,".dirty=true;")}function $a(be,ue,Be,Je){be.batchId="a1",Ga(be,ue);function qe(){return!0}go(be,ue,Be,Je.attributes,qe),Gi(be,ue,Be,Je.uniforms,qe),Hn(be,ue,ue,Be)}function Bo(be,ue,Be,Je){Ga(be,ue);var qe=Be.contextDep,Ge=ue.def(),Ne="a0",Ve="a1",Se=ue.def();be.shared.props=Se,be.batchId=Ge;var Re=be.scope(),me=be.scope();ue(Re.entry,"for(",Ge,"=0;",Ge,"<",Ve,";++",Ge,"){",Se,"=",Ne,"[",Ge,"];",me,"}",Re.exit);function Ye(Wn){return Wn.contextDep&&qe||Wn.propDep}function er(Wn){return!Ye(Wn)}if(Be.needsContext&&Za(be,me,Be.context),Be.needsFramebuffer&&Fa(be,me,Be.framebuffer),Ki(be,me,Be.state,Ye),Be.profile&&Ye(Be.profile)&&mi(be,me,Be,!1,!0),Je)Be.useVAO?Be.drawVAO?Ye(Be.drawVAO)?me(be.shared.vao,".setVAO(",Be.drawVAO.append(be,me),");"):Re(be.shared.vao,".setVAO(",Be.drawVAO.append(be,Re),");"):Re(be.shared.vao,".setVAO(",be.shared.vao,".targetVAO);"):(Re(be.shared.vao,".setVAO(null);"),go(be,Re,Be,Je.attributes,er),go(be,me,Be,Je.attributes,Ye)),Gi(be,Re,Be,Je.uniforms,er),Gi(be,me,Be,Je.uniforms,Ye),Hn(be,Re,me,Be);else{var Lr=be.global.def("{}"),Br=Be.shader.progVar.append(be,me),Er=me.def(Br,".id"),an=me.def(Lr,"[",Er,"]");me(be.shared.gl,".useProgram(",Br,".program);","if(!",an,"){",an,"=",Lr,"[",Er,"]=",be.link(function(Wn){return ci($a,be,Be,Wn,2)}),"(",Br,");}",an,".call(this,a0[",Ge,"],",Ge,");")}}function De(be,ue){var Be=be.proc("batch",2);be.batchId="0",Ga(be,Be);var Je=!1,qe=!0;Object.keys(ue.context).forEach(function(Lr){Je=Je||ue.context[Lr].propDep}),Je||(Za(be,Be,ue.context),qe=!1);var Ge=ue.framebuffer,Ne=!1;Ge?(Ge.propDep?Je=Ne=!0:Ge.contextDep&&Je&&(Ne=!0),Ne||Fa(be,Be,Ge)):Fa(be,Be,null),ue.state.viewport&&ue.state.viewport.propDep&&(Je=!0);function Ve(Lr){return Lr.contextDep&&Je||Lr.propDep}so(be,Be,ue),Ki(be,Be,ue.state,function(Lr){return!Ve(Lr)}),(!ue.profile||!Ve(ue.profile))&&mi(be,Be,ue,!1,"a1"),ue.contextDep=Je,ue.needsContext=qe,ue.needsFramebuffer=Ne;var Se=ue.shader.progVar;if(Se.contextDep&&Je||Se.propDep)Bo(be,Be,ue,null);else{var Re=Se.append(be,Be);if(Be(be.shared.gl,".useProgram(",Re,".program);"),ue.shader.program)Bo(be,Be,ue,ue.shader.program);else{Be(be.shared.vao,".setVAO(null);");var me=be.global.def("{}"),Ye=Be.def(Re,".id"),er=Be.def(me,"[",Ye,"]");Be(be.cond(er).then(er,".call(this,a0,a1);").else(er,"=",me,"[",Ye,"]=",be.link(function(Lr){return ci(Bo,be,ue,Lr,2)}),"(",Re,");",er,".call(this,a0,a1);"))}}Object.keys(ue.state).length>0&&Be(be.shared.current,".dirty=true;")}function pr(be,ue){var Be=be.proc("scope",3);be.batchId="a2";var Je=be.shared,qe=Je.current;Za(be,Be,ue.context),ue.framebuffer&&ue.framebuffer.append(be,Be),_u(Object.keys(ue.state)).forEach(function(Ne){var Ve=ue.state[Ne],Se=Ve.append(be,Be);xi(Se)?Se.forEach(function(Re,me){Be.set(be.next[Ne],"["+me+"]",Re)}):Be.set(Je.next,"."+Ne,Se)}),mi(be,Be,ue,!0,!0),[ll,Ll,_s,Fc,Il].forEach(function(Ne){var Ve=ue.draw[Ne];!Ve||Be.set(Je.draw,"."+Ne,""+Ve.append(be,Be))}),Object.keys(ue.uniforms).forEach(function(Ne){var Ve=ue.uniforms[Ne].append(be,Be);Array.isArray(Ve)&&(Ve="["+Ve.join()+"]"),Be.set(Je.uniforms,"["+ie.id(Ne)+"]",Ve)}),Object.keys(ue.attributes).forEach(function(Ne){var Ve=ue.attributes[Ne].append(be,Be),Se=be.scopeAttrib(Ne);Object.keys(new dr).forEach(function(Re){Be.set(Se,"."+Re,Ve[Re])})}),ue.scopeVAO&&Be.set(Je.vao,".targetVAO",ue.scopeVAO.append(be,Be));function Ge(Ne){var Ve=ue.shader[Ne];Ve&&Be.set(Je.shader,"."+Ne,Ve.append(be,Be))}Ge(ku),Ge(ql),Object.keys(ue.state).length>0&&(Be(qe,".dirty=true;"),Be.exit(qe,".dirty=true;")),Be("a1(",be.shared.context,",a0,",be.batchId,");")}function sr(be){if(!(typeof be!="object"||xi(be))){for(var ue=Object.keys(be),Be=0;Be<ue.length;++Be)if(Ie.isDynamic(be[ue[Be]]))return!0;return!1}}function Cn(be,ue,Be){var Je=ue.static[Be];if(!Je||!sr(Je))return;var qe=be.global,Ge=Object.keys(Je),Ne=!1,Ve=!1,Se=!1,Re=be.global.def("{}");Ge.forEach(function(Ye){var er=Je[Ye];if(Ie.isDynamic(er)){typeof er=="function"&&(er=Je[Ye]=Ie.unbox(er));var Lr=es(er,null);Ne=Ne||Lr.thisDep,Se=Se||Lr.propDep,Ve=Ve||Lr.contextDep}else{switch(qe(Re,".",Ye,"="),typeof er){case"number":qe(er);break;case"string":qe('"',er,'"');break;case"object":Array.isArray(er)&&qe("[",er.join(),"]");break;default:qe(be.link(er));break}qe(";")}});function me(Ye,er){Ge.forEach(function(Lr){var Br=Je[Lr];if(!!Ie.isDynamic(Br)){var Er=Ye.invoke(er,Br);er(Re,".",Lr,"=",Er,";")}})}ue.dynamic[Be]=new Ie.DynamicVariable(Bu,{thisDep:Ne,contextDep:Ve,propDep:Se,ref:Re,append:me}),delete ue.static[Be]}function Yn(be,ue,Be,Je,qe){var Ge=ei();Ge.stats=Ge.link(qe),Object.keys(ue.static).forEach(function(Ve){Cn(Ge,ue,Ve)}),Vf.forEach(function(Ve){Cn(Ge,be,Ve)});var Ne=Va(be,ue,Be,Je,Ge);return ro(Ge,Ne),pr(Ge,Ne),De(Ge,Ne),o(Ge.compile(),{destroy:function(){Ne.shader.program.destroy()}})}return{next:Cr,current:yr,procs:function(){var be=ei(),ue=be.proc("poll"),Be=be.proc("refresh"),Je=be.block();ue(Je),Be(Je);var qe=be.shared,Ge=qe.gl,Ne=qe.next,Ve=qe.current;Je(Ve,".dirty=false;"),Fa(be,ue),Fa(be,Be,null,!0);var Se;ln&&(Se=be.link(ln)),Ee.oes_vertex_array_object&&Be(be.link(Ee.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Re=0;Re<ar.maxAttributes;++Re){var me=Be.def(qe.attributes,"[",Re,"]"),Ye=be.cond(me,".buffer");Ye.then(Ge,".enableVertexAttribArray(",Re,");",Ge,".bindBuffer(",ul,",",me,".buffer.buffer);",Ge,".vertexAttribPointer(",Re,",",me,".size,",me,".type,",me,".normalized,",me,".stride,",me,".offset);").else(Ge,".disableVertexAttribArray(",Re,");",Ge,".vertexAttrib4f(",Re,",",me,".x,",me,".y,",me,".z,",me,".w);",me,".buffer=null;"),Be(Ye),ln&&Be(Se,".vertexAttribDivisorANGLE(",Re,",",me,".divisor);")}return Be(be.shared.vao,".currentVAO=null;",be.shared.vao,".setVAO(",be.shared.vao,".targetVAO);"),Object.keys(Qr).forEach(function(er){var Lr=Qr[er],Br=Je.def(Ne,".",er),Er=be.block();Er("if(",Br,"){",Ge,".enable(",Lr,")}else{",Ge,".disable(",Lr,")}",Ve,".",er,"=",Br,";"),Be(Er),ue("if(",Br,"!==",Ve,".",er,"){",Er,"}")}),Object.keys(Hr).forEach(function(er){var Lr=Hr[er],Br=yr[er],Er,an,Wn=be.block();if(Wn(Ge,".",Lr,"("),xi(Br)){var ni=Br.length;Er=be.global.def(Ne,".",er),an=be.global.def(Ve,".",er),Wn(Le(ni,function(An){return Er+"["+An+"]"}),");",Le(ni,function(An){return an+"["+An+"]="+Er+"["+An+"];"}).join("")),ue("if(",Le(ni,function(An){return Er+"["+An+"]!=="+an+"["+An+"]"}).join("||"),"){",Wn,"}")}else Er=Je.def(Ne,".",er),an=Je.def(Ve,".",er),Wn(Er,");",Ve,".",er,"=",Er,";"),ue("if(",Er,"!==",an,"){",Wn,"}");Be(Wn)}),be.compile()}(),compile:Yn}}function bv(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ov=34918,xv=34919,Rd=35007,Ev=function(ie,Ee){if(!Ee.ext_disjoint_timer_query)return null;var ar=[];function _e(){return ar.pop()||Ee.ext_disjoint_timer_query.createQueryEXT()}function Mr(Sn){ar.push(Sn)}var ur=[];function Jr(Sn){var yr=_e();Ee.ext_disjoint_timer_query.beginQueryEXT(Rd,yr),ur.push(yr),_r(ur.length-1,ur.length,Sn)}function vn(){Ee.ext_disjoint_timer_query.endQueryEXT(Rd)}function wr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var cn=[];function rn(){return cn.pop()||new wr}function gn(Sn){cn.push(Sn)}var Zr=[];function _r(Sn,yr,Cr){var on=rn();on.startQueryIndex=Sn,on.endQueryIndex=yr,on.sum=0,on.stats=Cr,Zr.push(on)}var dr=[],vr=[];function ln(){var Sn,yr,Cr=ur.length;if(Cr!==0){vr.length=Math.max(vr.length,Cr+1),dr.length=Math.max(dr.length,Cr+1),dr[0]=0,vr[0]=0;var on=0;for(Sn=0,yr=0;yr<ur.length;++yr){var Qr=ur[yr];Ee.ext_disjoint_timer_query.getQueryObjectEXT(Qr,xv)?(on+=Ee.ext_disjoint_timer_query.getQueryObjectEXT(Qr,Ov),Mr(Qr)):ur[Sn++]=Qr,dr[yr+1]=on,vr[yr+1]=Sn}for(ur.length=Sn,Sn=0,yr=0;yr<Zr.length;++yr){var Hr=Zr[yr],dn=Hr.startQueryIndex,zn=Hr.endQueryIndex;Hr.sum+=dr[zn]-dr[dn];var ui=vr[dn],On=vr[zn];On===ui?(Hr.stats.gpuTime+=Hr.sum/1e6,gn(Hr)):(Hr.startQueryIndex=ui,Hr.endQueryIndex=On,Zr[Sn++]=Hr)}Zr.length=Sn}}return{beginQuery:Jr,endQuery:vn,pushScopeStats:_r,update:ln,getNumPendingQueries:function(){return ur.length},clear:function(){ar.push.apply(ar,ur);for(var yr=0;yr<ar.length;yr++)Ee.ext_disjoint_timer_query.deleteQueryEXT(ar[yr]);ur.length=0,ar.length=0},restore:function(){ur.length=0,ar.length=0}}},Sv=16384,Mv=256,Cv=1024,wd=34962,Bd="webglcontextlost",Na="webglcontextrestored",Zu=1,Nd=2,$f=3;function Qf(qt,ie){for(var Ee=0;Ee<qt.length;++Ee)if(qt[Ee]===ie)return Ee;return-1}function Yc(qt){var ie=bn(qt);if(!ie)return null;var Ee=ie.gl,ar=Ee.getContextAttributes(),_e=Ee.isContextLost(),Mr=Ur(Ee,ie);if(!Mr)return null;var ur=rr(),Jr=bv(),vn=Mr.extensions,wr=Ev(Ee,vn),cn=lr(),rn=Ee.drawingBufferWidth,gn=Ee.drawingBufferHeight,Zr={tick:0,time:0,viewportWidth:rn,viewportHeight:gn,framebufferWidth:rn,framebufferHeight:gn,drawingBufferWidth:rn,drawingBufferHeight:gn,pixelRatio:ie.pixelRatio},_r={},dr={elements:null,primitive:4,count:-1,offset:0,instances:-1},vr=Vn(Ee,vn),ln=bl(Ee,Jr,ie,yr),Sn=Lf(Ee,vn,vr,Jr,ln);function yr(Hn){return Sn.destroyBuffer(Hn)}var Cr=Si(Ee,vn,ln,Jr),on=ws(Ee,ur,Jr,ie),Qr=Ri(Ee,vn,vr,function(){zn.procs.poll()},Zr,Jr,ie),Hr=Rs(Ee,vn,vr,Jr,ie),dn=If(Ee,vn,vr,Qr,Hr,Jr),zn=mv(Ee,ur,vn,vr,ln,Cr,Qr,dn,_r,Sn,on,dr,Zr,wr,ie),ui=Oh(Ee,dn,zn.procs.poll,Zr,ar,vn,vr),On=zn.next,fn=Ee.canvas,Vr=[],ei=[],oi=[],Mn=[ie.onDestroy],Kn=null;function pi(){if(Vr.length===0){wr&&wr.update(),Kn=null;return}Kn=We.next(pi),Ki();for(var Hn=Vr.length-1;Hn>=0;--Hn){var ci=Vr[Hn];ci&&ci(Zr,null,0)}Ee.flush(),wr&&wr.update()}function Oi(){!Kn&&Vr.length>0&&(Kn=We.next(pi))}function wi(){Kn&&(We.cancel(pi),Kn=null)}function ka(Hn){Hn.preventDefault(),_e=!0,wi(),ei.forEach(function(ci){ci()})}function ja(Hn){Ee.getError(),_e=!1,Mr.restore(),on.restore(),ln.restore(),Qr.restore(),Hr.restore(),dn.restore(),Sn.restore(),wr&&wr.restore(),zn.procs.refresh(),Oi(),oi.forEach(function(ci){ci()})}fn&&(fn.addEventListener(Bd,ka,!1),fn.addEventListener(Na,ja,!1));function Mi(){Vr.length=0,wi(),fn&&(fn.removeEventListener(Bd,ka),fn.removeEventListener(Na,ja)),on.clear(),dn.clear(),Hr.clear(),Qr.clear(),Cr.clear(),ln.clear(),Sn.clear(),wr&&wr.clear(),Mn.forEach(function(Hn){Hn()})}function _a(Hn){at(!!Hn,"invalid args to regl({...})"),at.type(Hn,"object","invalid args to regl({...})");function ci(qe){var Ge=o({},qe);delete Ge.uniforms,delete Ge.attributes,delete Ge.context,delete Ge.vao,"stencil"in Ge&&Ge.stencil.op&&(Ge.stencil.opBack=Ge.stencil.opFront=Ge.stencil.op,delete Ge.stencil.op);function Ne(Ve){if(Ve in Ge){var Se=Ge[Ve];delete Ge[Ve],Object.keys(Se).forEach(function(Re){Ge[Ve+"."+Re]=Se[Re]})}}return Ne("blend"),Ne("depth"),Ne("cull"),Ne("stencil"),Ne("polygonOffset"),Ne("scissor"),Ne("sample"),"vao"in qe&&(Ge.vao=qe.vao),Ge}function Ti(qe,Ge){var Ne={},Ve={};return Object.keys(qe).forEach(function(Se){var Re=qe[Se];if(Ie.isDynamic(Re)){Ve[Se]=Ie.unbox(Re,Se);return}else if(Ge&&Array.isArray(Re)){for(var me=0;me<Re.length;++me)if(Ie.isDynamic(Re[me])){Ve[Se]=Ie.unbox(Re,Se);return}}Ne[Se]=Re}),{dynamic:Ve,static:Ne}}var ro=Ti(Hn.context||{},!0),$a=Ti(Hn.uniforms||{},!0),Bo=Ti(Hn.attributes||{},!1),De=Ti(ci(Hn),!1),pr={gpuTime:0,cpuTime:0,count:0},sr=zn.compile(De,Bo,$a,ro,pr),Cn=sr.draw,Yn=sr.batch,be=sr.scope,ue=[];function Be(qe){for(;ue.length<qe;)ue.push(null);return ue}function Je(qe,Ge){var Ne;if(_e&&at.raise("context lost"),typeof qe=="function")return be.call(this,null,qe,0);if(typeof Ge=="function")if(typeof qe=="number")for(Ne=0;Ne<qe;++Ne)be.call(this,null,Ge,Ne);else if(Array.isArray(qe))for(Ne=0;Ne<qe.length;++Ne)be.call(this,qe[Ne],Ge,Ne);else return be.call(this,qe,Ge,0);else if(typeof qe=="number"){if(qe>0)return Yn.call(this,Be(qe|0),qe|0)}else if(Array.isArray(qe)){if(qe.length)return Yn.call(this,qe,qe.length)}else return Cn.call(this,qe)}return o(Je,{stats:pr,destroy:function(){sr.destroy()}})}var ua=dn.setFBO=_a({framebuffer:Ie.define.call(null,Zu,"framebuffer")});function Va(Hn,ci){var Ti=0;zn.procs.poll();var ro=ci.color;ro&&(Ee.clearColor(+ro[0]||0,+ro[1]||0,+ro[2]||0,+ro[3]||0),Ti|=Sv),"depth"in ci&&(Ee.clearDepth(+ci.depth),Ti|=Mv),"stencil"in ci&&(Ee.clearStencil(ci.stencil|0),Ti|=Cv),at(!!Ti,"called regl.clear with no buffer specified"),Ee.clear(Ti)}function Za(Hn){if(at(typeof Hn=="object"&&Hn,"regl.clear() takes an object as input"),"framebuffer"in Hn)if(Hn.framebuffer&&Hn.framebuffer_reglType==="framebufferCube")for(var ci=0;ci<6;++ci)ua(o({framebuffer:Hn.framebuffer.faces[ci]},Hn),Va);else ua(Hn,Va);else Va(null,Hn)}function Fa(Hn){at.type(Hn,"function","regl.frame() callback must be a function"),Vr.push(Hn);function ci(){var Ti=Qf(Vr,Hn);at(Ti>=0,"cannot cancel a frame twice");function ro(){var $a=Qf(Vr,ro);Vr[$a]=Vr[Vr.length-1],Vr.length-=1,Vr.length<=0&&wi()}Vr[Ti]=ro}return Oi(),{cancel:ci}}function so(){var Hn=On.viewport,ci=On.scissor_box;Hn[0]=Hn[1]=ci[0]=ci[1]=0,Zr.viewportWidth=Zr.framebufferWidth=Zr.drawingBufferWidth=Hn[2]=ci[2]=Ee.drawingBufferWidth,Zr.viewportHeight=Zr.framebufferHeight=Zr.drawingBufferHeight=Hn[3]=ci[3]=Ee.drawingBufferHeight}function Ki(){Zr.tick+=1,Zr.time=mi(),so(),zn.procs.poll()}function Ga(){Qr.refresh(),so(),zn.procs.refresh(),wr&&wr.update()}function mi(){return(lr()-cn)/1e3}Ga();function go(Hn,ci){at.type(ci,"function","listener callback must be a function");var Ti;switch(Hn){case"frame":return Fa(ci);case"lost":Ti=ei;break;case"restore":Ti=oi;break;case"destroy":Ti=Mn;break;default:at.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ti.push(ci),{cancel:function(){for(var $a=0;$a<Ti.length;++$a)if(Ti[$a]===ci){Ti[$a]=Ti[Ti.length-1],Ti.pop();return}}}}var Gi=o(_a,{clear:Za,prop:Ie.define.bind(null,Zu),context:Ie.define.bind(null,Nd),this:Ie.define.bind(null,$f),draw:_a({}),buffer:function(ci){return ln.create(ci,wd,!1,!1)},elements:function(ci){return Cr.create(ci,!1)},texture:Qr.create2D,cube:Qr.createCube,renderbuffer:Hr.create,framebuffer:dn.create,framebufferCube:dn.createCube,vao:Sn.createVAO,attributes:ar,frame:Fa,on:go,limits:vr,hasExtension:function(ci){return vr.extensions.indexOf(ci.toLowerCase())>=0},read:ui,destroy:Mi,_gl:Ee,_refresh:Ga,poll:function(){Ki(),wr&&wr.update()},now:mi,stats:Jr});return ie.onDone(null,Gi),Gi}return Yc})},T1Zk:function(jt,A,a){"use strict";a.d(A,"getAdjust",function(){return C}),a.d(A,"registerAdjust",function(){return P});var f=a("5Kaj"),o=a("X5ku"),x=a.n(o),O={},C=function(S){return O[S.toLowerCase()]},P=function(S,y){if(C(S))throw new Error("Adjust type '"+S+"' existed.");O[S.toLowerCase()]=y}},"T3K+":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=x(a("g3RE")),o=a("Eqze");function x(P){return P&&P.__esModule?P:{default:P}}var O=function(b,S,y,E){S===void 0&&(S=!1),y===void 0&&(y="weight"),E===void 0&&(E=1e3);var m=b.nodes,T=m===void 0?[]:m,L=b.edges,g=L===void 0?[]:L,j={},U={};T.forEach(function(Q,K){var _=(0,o.uniqueId)();Q.clusterId=_,j[_]={id:_,nodes:[Q]},U[Q.id]={node:Q,idx:K}});var W=(0,f.default)(b,S),z=[],N={};W.forEach(function(Q,K){var _=0,Y=T[K].id;N[Y]={},Q.forEach(function(q,ot){if(!!q){_+=q;var ft=T[ot].id;N[Y][ft]=q}}),z.push(_)});for(var I=0,B=function(){var K=!1;if(T.forEach(function(_){var Y={};Object.keys(N[_.id]).forEach(function(Gt){var Yt=N[_.id][Gt],Xt=U[Gt].node,vt=Xt.clusterId;Y[vt]||(Y[vt]=0),Y[vt]+=Yt});var q=-Infinity,ot=[];if(Object.keys(Y).forEach(function(Gt){q<Y[Gt]?(q=Y[Gt],ot=[Gt]):q===Y[Gt]&&ot.push(Gt)}),!(ot.length===1&&ot[0]===_.clusterId)){var ft=ot.indexOf(_.clusterId);if(ft>=0&&ot.splice(ft,1),ot&&ot.length){K=!0;var ct=j[_.clusterId],rt=ct.nodes.indexOf(_);ct.nodes.splice(rt,1);var gt=Math.floor(Math.random()*ot.length),Et=j[ot[gt]];Et.nodes.push(_),_.clusterId=Et.id}}}),!K)return"break";I++};I<E;){var G=B();if(G==="break")break}Object.keys(j).forEach(function(Q){var K=j[Q];(!K.nodes||!K.nodes.length)&&delete j[Q]});var k=[],V={};g.forEach(function(Q){var K=Q.source,_=Q.target,Y=Q[y]||1,q=U[K].node.clusterId,ot=U[_].node.clusterId,ft=q+"---"+ot;if(V[ft])V[ft].weight+=Y,V[ft].count++;else{var ct={source:q,target:ot,weight:Y,count:1};V[ft]=ct,k.push(ct)}});var tt=[];return Object.keys(j).forEach(function(Q){tt.push(j[Q])}),{clusters:tt,clusterEdges:k}},C=O;A.default=C},T5ir:function(jt,A,a){"use strict";a.r(A),a.d(A,"catmullRomToBezier",function(){return P}),a.d(A,"fillPath",function(){return ot}),a.d(A,"fillPathByDiff",function(){return gt}),a.d(A,"formatPath",function(){return Yt}),a.d(A,"intersection",function(){return K}),a.d(A,"parsePathArray",function(){return g}),a.d(A,"parsePathString",function(){return C}),a.d(A,"pathToAbsolute",function(){return S}),a.d(A,"pathToCurve",function(){return T}),a.d(A,"rectPath",function(){return I});var f=a("jg4I"),o=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,x=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),C=function(vt){if(!vt)return null;if(Object(f.isArray)(vt))return vt;var mt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ut=[];return String(vt).replace(x,function(st,lt,Tt){var Ot=[],et=lt.toLowerCase();if(Tt.replace(O,function(H,pt){pt&&Ot.push(+pt)}),et==="m"&&Ot.length>2&&(ut.push([lt].concat(Ot.splice(0,2))),et="l",lt=lt==="m"?"l":"L"),et==="o"&&Ot.length===1&&ut.push([lt,Ot[0]]),et==="r")ut.push([lt].concat(Ot));else for(;Ot.length>=mt[et]&&(ut.push([lt].concat(Ot.splice(0,mt[et]))),!!mt[et]););return vt}),ut},P=function(vt,mt){for(var ut=[],st=0,lt=vt.length;lt-2*!mt>st;st+=2){var Tt=[{x:+vt[st-2],y:+vt[st-1]},{x:+vt[st],y:+vt[st+1]},{x:+vt[st+2],y:+vt[st+3]},{x:+vt[st+4],y:+vt[st+5]}];mt?st?lt-4===st?Tt[3]={x:+vt[0],y:+vt[1]}:lt-2===st&&(Tt[2]={x:+vt[0],y:+vt[1]},Tt[3]={x:+vt[2],y:+vt[3]}):Tt[0]={x:+vt[lt-2],y:+vt[lt-1]}:lt-4===st?Tt[3]=Tt[2]:st||(Tt[0]={x:+vt[st],y:+vt[st+1]}),ut.push(["C",(-Tt[0].x+6*Tt[1].x+Tt[2].x)/6,(-Tt[0].y+6*Tt[1].y+Tt[2].y)/6,(Tt[1].x+6*Tt[2].x-Tt[3].x)/6,(Tt[1].y+6*Tt[2].y-Tt[3].y)/6,Tt[2].x,Tt[2].y])}return ut},b=function(vt,mt,ut,st,lt){var Tt=[];if(lt===null&&st===null&&(st=ut),vt=+vt,mt=+mt,ut=+ut,st=+st,lt!==null){var Ot=Math.PI/180,et=vt+ut*Math.cos(-st*Ot),H=vt+ut*Math.cos(-lt*Ot),pt=mt+ut*Math.sin(-st*Ot),nt=mt+ut*Math.sin(-lt*Ot);Tt=[["M",et,pt],["A",ut,ut,0,+(lt-st>180),0,H,nt]]}else Tt=[["M",vt,mt],["m",0,-st],["a",ut,st,0,1,1,0,2*st],["a",ut,st,0,1,1,0,-2*st],["z"]];return Tt},S=function(vt){if(vt=C(vt),!vt||!vt.length)return[["M",0,0]];var mt=[],ut=0,st=0,lt=0,Tt=0,Ot=0,et,H;vt[0][0]==="M"&&(ut=+vt[0][1],st=+vt[0][2],lt=ut,Tt=st,Ot++,mt[0]=["M",ut,st]);for(var pt=vt.length===3&&vt[0][0]==="M"&&vt[1][0].toUpperCase()==="R"&&vt[2][0].toUpperCase()==="Z",nt=void 0,yt=void 0,Pt=Ot,Rt=vt.length;Pt<Rt;Pt++){if(mt.push(nt=[]),yt=vt[Pt],et=yt[0],et!==et.toUpperCase())switch(nt[0]=et.toUpperCase(),nt[0]){case"A":nt[1]=yt[1],nt[2]=yt[2],nt[3]=yt[3],nt[4]=yt[4],nt[5]=yt[5],nt[6]=+yt[6]+ut,nt[7]=+yt[7]+st;break;case"V":nt[1]=+yt[1]+st;break;case"H":nt[1]=+yt[1]+ut;break;case"R":H=[ut,st].concat(yt.slice(1));for(var Wt=2,Vt=H.length;Wt<Vt;Wt++)H[Wt]=+H[Wt]+ut,H[++Wt]=+H[Wt]+st;mt.pop(),mt=mt.concat(P(H,pt));break;case"O":mt.pop(),H=b(ut,st,yt[1],yt[2]),H.push(H[0]),mt=mt.concat(H);break;case"U":mt.pop(),mt=mt.concat(b(ut,st,yt[1],yt[2],yt[3])),nt=["U"].concat(mt[mt.length-1].slice(-2));break;case"M":lt=+yt[1]+ut,Tt=+yt[2]+st;break;default:for(var Wt=1,Vt=yt.length;Wt<Vt;Wt++)nt[Wt]=+yt[Wt]+(Wt%2?ut:st)}else if(et==="R")H=[ut,st].concat(yt.slice(1)),mt.pop(),mt=mt.concat(P(H,pt)),nt=["R"].concat(yt.slice(-2));else if(et==="O")mt.pop(),H=b(ut,st,yt[1],yt[2]),H.push(H[0]),mt=mt.concat(H);else if(et==="U")mt.pop(),mt=mt.concat(b(ut,st,yt[1],yt[2],yt[3])),nt=["U"].concat(mt[mt.length-1].slice(-2));else for(var Lt=0,Ct=yt.length;Lt<Ct;Lt++)nt[Lt]=yt[Lt];if(et=et.toUpperCase(),et!=="O")switch(nt[0]){case"Z":ut=+lt,st=+Tt;break;case"H":ut=nt[1];break;case"V":st=nt[1];break;case"M":lt=nt[nt.length-2],Tt=nt[nt.length-1];break;default:ut=nt[nt.length-2],st=nt[nt.length-1]}}return mt},y=function(vt,mt,ut,st){return[vt,mt,ut,st,ut,st]},E=function(vt,mt,ut,st,lt,Tt){var Ot=1/3,et=2/3;return[Ot*vt+et*ut,Ot*mt+et*st,Ot*lt+et*ut,Ot*Tt+et*st,lt,Tt]},m=function Xt(vt,mt,ut,st,lt,Tt,Ot,et,H,pt){ut===st&&(ut+=1);var nt=Math.PI*120/180,yt=Math.PI/180*(+lt||0),Pt=[],Rt,Wt,Vt,Lt,Ct,at=function(Gr,Kr,$r){var jn=Gr*Math.cos($r)-Kr*Math.sin($r),Qn=Gr*Math.sin($r)+Kr*Math.cos($r);return{x:jn,y:Qn}};if(pt)Wt=pt[0],Vt=pt[1],Lt=pt[2],Ct=pt[3];else{Rt=at(vt,mt,-yt),vt=Rt.x,mt=Rt.y,Rt=at(et,H,-yt),et=Rt.x,H=Rt.y,vt===et&&mt===H&&(et+=1,H+=1);var It=(vt-et)/2,Ft=(mt-H)/2,xt=It*It/(ut*ut)+Ft*Ft/(st*st);xt>1&&(xt=Math.sqrt(xt),ut=xt*ut,st=xt*st);var Nt=ut*ut,Ht=st*st,Bt=(Tt===Ot?-1:1)*Math.sqrt(Math.abs((Nt*Ht-Nt*Ft*Ft-Ht*It*It)/(Nt*Ft*Ft+Ht*It*It)));Lt=Bt*ut*Ft/st+(vt+et)/2,Ct=Bt*-st*It/ut+(mt+H)/2,Wt=Math.asin(((mt-Ct)/st).toFixed(9)),Vt=Math.asin(((H-Ct)/st).toFixed(9)),Wt=vt<Lt?Math.PI-Wt:Wt,Vt=et<Lt?Math.PI-Vt:Vt,Wt<0&&(Wt=Math.PI*2+Wt),Vt<0&&(Vt=Math.PI*2+Vt),Ot&&Wt>Vt&&(Wt=Wt-Math.PI*2),!Ot&&Vt>Wt&&(Vt=Vt-Math.PI*2)}var Ut=Vt-Wt;if(Math.abs(Ut)>nt){var Jt=Vt,oe=et,ge=H;Vt=Wt+nt*(Ot&&Vt>Wt?1:-1),et=Lt+ut*Math.cos(Vt),H=Ct+st*Math.sin(Vt),Pt=Xt(et,H,ut,st,lt,0,Ot,oe,ge,[Vt,Jt,Lt,Ct])}Ut=Vt-Wt;var Ce=Math.cos(Wt),Ie=Math.sin(Wt),We=Math.cos(Vt),lr=Math.sin(Vt),rr=Math.tan(Ut/4),$e=4/3*ut*rr,Ue=4/3*st*rr,ir=[vt,mt],xr=[vt+$e*Ie,mt-Ue*Ce],nr=[et+$e*lr,H-Ue*We],tn=[et,H];if(xr[0]=2*ir[0]-xr[0],xr[1]=2*ir[1]-xr[1],pt)return[xr,nr,tn].concat(Pt);Pt=[xr,nr,tn].concat(Pt).join().split(",");for(var bn=[],Ur=0,Le=Pt.length;Ur<Le;Ur++)bn[Ur]=Ur%2?at(Pt[Ur-1],Pt[Ur],yt).y:at(Pt[Ur],Pt[Ur+1],yt).x;return bn},T=function(vt,mt){var ut=S(vt),st=mt&&S(mt),lt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Tt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ot=[],et=[],H="",pt="",nt,yt=function(Ft,xt,Nt){var Ht,Bt;if(!Ft)return["C",xt.x,xt.y,xt.x,xt.y,xt.x,xt.y];switch(!(Ft[0]in{T:1,Q:1})&&(xt.qx=xt.qy=null),Ft[0]){case"M":xt.X=Ft[1],xt.Y=Ft[2];break;case"A":Ft=["C"].concat(m.apply(0,[xt.x,xt.y].concat(Ft.slice(1))));break;case"S":Nt==="C"||Nt==="S"?(Ht=xt.x*2-xt.bx,Bt=xt.y*2-xt.by):(Ht=xt.x,Bt=xt.y),Ft=["C",Ht,Bt].concat(Ft.slice(1));break;case"T":Nt==="Q"||Nt==="T"?(xt.qx=xt.x*2-xt.qx,xt.qy=xt.y*2-xt.qy):(xt.qx=xt.x,xt.qy=xt.y),Ft=["C"].concat(E(xt.x,xt.y,xt.qx,xt.qy,Ft[1],Ft[2]));break;case"Q":xt.qx=Ft[1],xt.qy=Ft[2],Ft=["C"].concat(E(xt.x,xt.y,Ft[1],Ft[2],Ft[3],Ft[4]));break;case"L":Ft=["C"].concat(y(xt.x,xt.y,Ft[1],Ft[2]));break;case"H":Ft=["C"].concat(y(xt.x,xt.y,Ft[1],xt.y));break;case"V":Ft=["C"].concat(y(xt.x,xt.y,xt.x,Ft[1]));break;case"Z":Ft=["C"].concat(y(xt.x,xt.y,xt.X,xt.Y));break;default:break}return Ft},Pt=function(Ft,xt){if(Ft[xt].length>7){Ft[xt].shift();for(var Nt=Ft[xt];Nt.length;)Ot[xt]="A",st&&(et[xt]="A"),Ft.splice(xt++,0,["C"].concat(Nt.splice(0,6)));Ft.splice(xt,1),nt=Math.max(ut.length,st&&st.length||0)}},Rt=function(Ft,xt,Nt,Ht,Bt){Ft&&xt&&Ft[Bt][0]==="M"&&xt[Bt][0]!=="M"&&(xt.splice(Bt,0,["M",Ht.x,Ht.y]),Nt.bx=0,Nt.by=0,Nt.x=Ft[Bt][1],Nt.y=Ft[Bt][2],nt=Math.max(ut.length,st&&st.length||0))};nt=Math.max(ut.length,st&&st.length||0);for(var Wt=0;Wt<nt;Wt++){ut[Wt]&&(H=ut[Wt][0]),H!=="C"&&(Ot[Wt]=H,Wt&&(pt=Ot[Wt-1])),ut[Wt]=yt(ut[Wt],lt,pt),Ot[Wt]!=="A"&&H==="C"&&(Ot[Wt]="C"),Pt(ut,Wt),st&&(st[Wt]&&(H=st[Wt][0]),H!=="C"&&(et[Wt]=H,Wt&&(pt=et[Wt-1])),st[Wt]=yt(st[Wt],Tt,pt),et[Wt]!=="A"&&H==="C"&&(et[Wt]="C"),Pt(st,Wt)),Rt(ut,st,lt,Tt,Wt),Rt(st,ut,Tt,lt,Wt);var Vt=ut[Wt],Lt=st&&st[Wt],Ct=Vt.length,at=st&&Lt.length;lt.x=Vt[Ct-2],lt.y=Vt[Ct-1],lt.bx=parseFloat(Vt[Ct-4])||lt.x,lt.by=parseFloat(Vt[Ct-3])||lt.y,Tt.bx=st&&(parseFloat(Lt[at-4])||Tt.x),Tt.by=st&&(parseFloat(Lt[at-3])||Tt.y),Tt.x=st&&Lt[at-2],Tt.y=st&&Lt[at-1]}return st?[ut,st]:ut},L=/,?([a-z]),?/gi,g=function(vt){return vt.join(",").replace(L,"$1")},j=function(vt,mt,ut,st,lt){var Tt=-3*mt+9*ut-9*st+3*lt,Ot=vt*Tt+6*mt-12*ut+6*st;return vt*Ot-3*mt+3*ut},U=function(vt,mt,ut,st,lt,Tt,Ot,et,H){H===null&&(H=1),H=H>1?1:H<0?0:H;for(var pt=H/2,nt=12,yt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Pt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Rt=0,Wt=0;Wt<nt;Wt++){var Vt=pt*yt[Wt]+pt,Lt=j(Vt,vt,ut,lt,Ot),Ct=j(Vt,mt,st,Tt,et),at=Lt*Lt+Ct*Ct;Rt+=Pt[Wt]*Math.sqrt(at)}return pt*Rt},W=function(vt,mt,ut,st,lt,Tt,Ot,et){for(var H=[],pt=[[],[]],nt,yt,Pt,Rt,Wt=0;Wt<2;++Wt){if(Wt===0?(yt=6*vt-12*ut+6*lt,nt=-3*vt+9*ut-9*lt+3*Ot,Pt=3*ut-3*vt):(yt=6*mt-12*st+6*Tt,nt=-3*mt+9*st-9*Tt+3*et,Pt=3*st-3*mt),Math.abs(nt)<1e-12){if(Math.abs(yt)<1e-12)continue;Rt=-Pt/yt,Rt>0&&Rt<1&&H.push(Rt);continue}var Vt=yt*yt-4*Pt*nt,Lt=Math.sqrt(Vt);if(!(Vt<0)){var Ct=(-yt+Lt)/(2*nt);Ct>0&&Ct<1&&H.push(Ct);var at=(-yt-Lt)/(2*nt);at>0&&at<1&&H.push(at)}}for(var It=H.length,Ft=It,xt;It--;)Rt=H[It],xt=1-Rt,pt[0][It]=xt*xt*xt*vt+3*xt*xt*Rt*ut+3*xt*Rt*Rt*lt+Rt*Rt*Rt*Ot,pt[1][It]=xt*xt*xt*mt+3*xt*xt*Rt*st+3*xt*Rt*Rt*Tt+Rt*Rt*Rt*et;return pt[0][Ft]=vt,pt[1][Ft]=mt,pt[0][Ft+1]=Ot,pt[1][Ft+1]=et,pt[0].length=pt[1].length=Ft+2,{min:{x:Math.min.apply(0,pt[0]),y:Math.min.apply(0,pt[1])},max:{x:Math.max.apply(0,pt[0]),y:Math.max.apply(0,pt[1])}}},z=function(vt,mt,ut,st,lt,Tt,Ot,et){if(!(Math.max(vt,ut)<Math.min(lt,Ot)||Math.min(vt,ut)>Math.max(lt,Ot)||Math.max(mt,st)<Math.min(Tt,et)||Math.min(mt,st)>Math.max(Tt,et))){var H=(vt*st-mt*ut)*(lt-Ot)-(vt-ut)*(lt*et-Tt*Ot),pt=(vt*st-mt*ut)*(Tt-et)-(mt-st)*(lt*et-Tt*Ot),nt=(vt-ut)*(Tt-et)-(mt-st)*(lt-Ot);if(!!nt){var yt=H/nt,Pt=pt/nt,Rt=+yt.toFixed(2),Wt=+Pt.toFixed(2);if(!(Rt<+Math.min(vt,ut).toFixed(2)||Rt>+Math.max(vt,ut).toFixed(2)||Rt<+Math.min(lt,Ot).toFixed(2)||Rt>+Math.max(lt,Ot).toFixed(2)||Wt<+Math.min(mt,st).toFixed(2)||Wt>+Math.max(mt,st).toFixed(2)||Wt<+Math.min(Tt,et).toFixed(2)||Wt>+Math.max(Tt,et).toFixed(2)))return{x:yt,y:Pt}}}},N=function(vt,mt,ut){return mt>=vt.x&&mt<=vt.x+vt.width&&ut>=vt.y&&ut<=vt.y+vt.height},I=function(vt,mt,ut,st,lt){if(lt)return[["M",+vt+ +lt,mt],["l",ut-lt*2,0],["a",lt,lt,0,0,1,lt,lt],["l",0,st-lt*2],["a",lt,lt,0,0,1,-lt,lt],["l",lt*2-ut,0],["a",lt,lt,0,0,1,-lt,-lt],["l",0,lt*2-st],["a",lt,lt,0,0,1,lt,-lt],["z"]];var Tt=[["M",vt,mt],["l",ut,0],["l",0,st],["l",-ut,0],["z"]];return Tt.parsePathArray=g,Tt},B=function(vt,mt,ut,st){return vt===null&&(vt=mt=ut=st=0),mt===null&&(mt=vt.y,ut=vt.width,st=vt.height,vt=vt.x),{x:vt,y:mt,width:ut,w:ut,height:st,h:st,x2:vt+ut,y2:mt+st,cx:vt+ut/2,cy:mt+st/2,r1:Math.min(ut,st)/2,r2:Math.max(ut,st)/2,r0:Math.sqrt(ut*ut+st*st)/2,path:I(vt,mt,ut,st),vb:[vt,mt,ut,st].join(" ")}},G=function(vt,mt){return vt=B(vt),mt=B(mt),N(mt,vt.x,vt.y)||N(mt,vt.x2,vt.y)||N(mt,vt.x,vt.y2)||N(mt,vt.x2,vt.y2)||N(vt,mt.x,mt.y)||N(vt,mt.x2,mt.y)||N(vt,mt.x,mt.y2)||N(vt,mt.x2,mt.y2)||(vt.x<mt.x2&&vt.x>mt.x||mt.x<vt.x2&&mt.x>vt.x)&&(vt.y<mt.y2&&vt.y>mt.y||mt.y<vt.y2&&mt.y>vt.y)},k=function(vt,mt,ut,st,lt,Tt,Ot,et){Object(f.isArray)(vt)||(vt=[vt,mt,ut,st,lt,Tt,Ot,et]);var H=W.apply(null,vt);return B(H.min.x,H.min.y,H.max.x-H.min.x,H.max.y-H.min.y)},V=function(vt,mt,ut,st,lt,Tt,Ot,et,H){var pt=1-H,nt=Math.pow(pt,3),yt=Math.pow(pt,2),Pt=H*H,Rt=Pt*H,Wt=nt*vt+yt*3*H*ut+pt*3*H*H*lt+Rt*Ot,Vt=nt*mt+yt*3*H*st+pt*3*H*H*Tt+Rt*et,Lt=vt+2*H*(ut-vt)+Pt*(lt-2*ut+vt),Ct=mt+2*H*(st-mt)+Pt*(Tt-2*st+mt),at=ut+2*H*(lt-ut)+Pt*(Ot-2*lt+ut),It=st+2*H*(Tt-st)+Pt*(et-2*Tt+st),Ft=pt*vt+H*ut,xt=pt*mt+H*st,Nt=pt*lt+H*Ot,Ht=pt*Tt+H*et,Bt=90-Math.atan2(Lt-at,Ct-It)*180/Math.PI;return{x:Wt,y:Vt,m:{x:Lt,y:Ct},n:{x:at,y:It},start:{x:Ft,y:xt},end:{x:Nt,y:Ht},alpha:Bt}},tt=function(vt,mt,ut){var st=k(vt),lt=k(mt);if(!G(st,lt))return ut?0:[];for(var Tt=U.apply(0,vt),Ot=U.apply(0,mt),et=~~(Tt/8),H=~~(Ot/8),pt=[],nt=[],yt={},Pt=ut?0:[],Rt=0;Rt<et+1;Rt++){var Wt=V.apply(0,vt.concat(Rt/et));pt.push({x:Wt.x,y:Wt.y,t:Rt/et})}for(var Rt=0;Rt<H+1;Rt++){var Wt=V.apply(0,mt.concat(Rt/H));nt.push({x:Wt.x,y:Wt.y,t:Rt/H})}for(var Rt=0;Rt<et;Rt++)for(var Vt=0;Vt<H;Vt++){var Lt=pt[Rt],Ct=pt[Rt+1],at=nt[Vt],It=nt[Vt+1],Ft=Math.abs(Ct.x-Lt.x)<.001?"y":"x",xt=Math.abs(It.x-at.x)<.001?"y":"x",Nt=z(Lt.x,Lt.y,Ct.x,Ct.y,at.x,at.y,It.x,It.y);if(Nt){if(yt[Nt.x.toFixed(4)]===Nt.y.toFixed(4))continue;yt[Nt.x.toFixed(4)]=Nt.y.toFixed(4);var Ht=Lt.t+Math.abs((Nt[Ft]-Lt[Ft])/(Ct[Ft]-Lt[Ft]))*(Ct.t-Lt.t),Bt=at.t+Math.abs((Nt[xt]-at[xt])/(It[xt]-at[xt]))*(It.t-at.t);Ht>=0&&Ht<=1&&Bt>=0&&Bt<=1&&(ut?Pt+=1:Pt.push({x:Nt.x,y:Nt.y,t1:Ht,t2:Bt}))}}return Pt},Q=function(vt,mt,ut){vt=T(vt),mt=T(mt);for(var st,lt,Tt,Ot,et,H,pt,nt,yt,Pt,Rt=ut?0:[],Wt=0,Vt=vt.length;Wt<Vt;Wt++){var Lt=vt[Wt];if(Lt[0]==="M")st=et=Lt[1],lt=H=Lt[2];else{Lt[0]==="C"?(yt=[st,lt].concat(Lt.slice(1)),st=yt[6],lt=yt[7]):(yt=[st,lt,st,lt,et,H,et,H],st=et,lt=H);for(var Ct=0,at=mt.length;Ct<at;Ct++){var It=mt[Ct];if(It[0]==="M")Tt=pt=It[1],Ot=nt=It[2];else{It[0]==="C"?(Pt=[Tt,Ot].concat(It.slice(1)),Tt=Pt[6],Ot=Pt[7]):(Pt=[Tt,Ot,Tt,Ot,pt,nt,pt,nt],Tt=pt,Ot=nt);var Ft=tt(yt,Pt,ut);if(ut)Rt+=Ft;else{for(var xt=0,Nt=Ft.length;xt<Nt;xt++)Ft[xt].segment1=Wt,Ft[xt].segment2=Ct,Ft[xt].bez1=yt,Ft[xt].bez2=Pt;Rt=Rt.concat(Ft)}}}}}return Rt},K=function(vt,mt){return Q(vt,mt)};function _(Xt,vt){var mt=[],ut=[];function st(lt,Tt){if(lt.length===1)mt.push(lt[0]),ut.push(lt[0]);else{for(var Ot=[],et=0;et<lt.length-1;et++)et===0&&mt.push(lt[0]),et===lt.length-2&&ut.push(lt[et+1]),Ot[et]=[(1-Tt)*lt[et][0]+Tt*lt[et+1][0],(1-Tt)*lt[et][1]+Tt*lt[et+1][1]];st(Ot,Tt)}}return Xt.length&&st(Xt,vt),{left:mt,right:ut.reverse()}}function Y(Xt,vt,mt){var ut=[[Xt[1],Xt[2]]];mt=mt||2;var st=[];vt[0]==="A"?(ut.push(vt[6]),ut.push(vt[7])):vt[0]==="C"?(ut.push([vt[1],vt[2]]),ut.push([vt[3],vt[4]]),ut.push([vt[5],vt[6]])):vt[0]==="S"||vt[0]==="Q"?(ut.push([vt[1],vt[2]]),ut.push([vt[3],vt[4]])):ut.push([vt[1],vt[2]]);for(var lt=ut,Tt=1/mt,Ot=0;Ot<mt-1;Ot++){var et=Tt/(1-Tt*Ot),H=_(lt,et);st.push(H.left),lt=H.right}st.push(lt);var pt=st.map(function(nt){var yt=[];return nt.length===4&&(yt.push("C"),yt=yt.concat(nt[2])),nt.length>=3&&(nt.length===3&&yt.push("Q"),yt=yt.concat(nt[1])),nt.length===2&&yt.push("L"),yt=yt.concat(nt[nt.length-1]),yt});return pt}var q=function(vt,mt,ut){if(ut===1)return[[].concat(vt)];var st=[];if(mt[0]==="L"||mt[0]==="C"||mt[0]==="Q")st=st.concat(Y(vt,mt,ut));else{var lt=[].concat(vt);lt[0]==="M"&&(lt[0]="L");for(var Tt=0;Tt<=ut-1;Tt++)st.push(lt)}return st},ot=function(vt,mt){if(vt.length===1)return vt;var ut=vt.length-1,st=mt.length-1,lt=ut/st,Tt=[];if(vt.length===1&&vt[0][0]==="M"){for(var Ot=0;Ot<st-ut;Ot++)vt.push(vt[0]);return vt}for(var Ot=0;Ot<st;Ot++){var et=Math.floor(lt*Ot);Tt[et]=(Tt[et]||0)+1}var H=Tt.reduce(function(pt,nt,yt){return yt===ut?pt.concat(vt[ut]):pt.concat(q(vt[yt],vt[yt+1],nt))},[]);return H.unshift(vt[0]),(mt[st]==="Z"||mt[st]==="z")&&H.push("Z"),H},ft=function(vt,mt){if(vt.length!==mt.length)return!1;var ut=!0;return Object(f.each)(vt,function(st,lt){if(st!==mt[lt])return ut=!1,!1}),ut};function ct(Xt,vt,mt){var ut=null,st=mt;return vt<st&&(st=vt,ut="add"),Xt<st&&(st=Xt,ut="del"),{type:ut,min:st}}var rt=function(vt,mt){var ut=vt.length,st=mt.length,lt,Tt,Ot=0;if(ut===0||st===0)return null;for(var et=[],H=0;H<=ut;H++)et[H]=[],et[H][0]={min:H};for(var pt=0;pt<=st;pt++)et[0][pt]={min:pt};for(var H=1;H<=ut;H++){lt=vt[H-1];for(var pt=1;pt<=st;pt++){Tt=mt[pt-1],ft(lt,Tt)?Ot=0:Ot=1;var nt=et[H-1][pt].min+1,yt=et[H][pt-1].min+1,Pt=et[H-1][pt-1].min+Ot;et[H][pt]=ct(nt,yt,Pt)}}return et},gt=function(vt,mt){var ut=rt(vt,mt),st=vt.length,lt=mt.length,Tt=[],Ot=1,et=1;if(ut[st][lt].min!==st){for(var H=1;H<=st;H++){var pt=ut[H][H].min;et=H;for(var nt=Ot;nt<=lt;nt++)ut[H][nt].min<pt&&(pt=ut[H][nt].min,et=nt);Ot=et,ut[H][Ot].type&&Tt.push({index:H-1,type:ut[H][Ot].type})}for(var H=Tt.length-1;H>=0;H--)Ot=Tt[H].index,Tt[H].type==="add"?vt.splice(Ot,0,[].concat(vt[Ot])):vt.splice(Ot,1)}st=vt.length;var yt=lt-st;if(st<lt)for(var H=0;H<yt;H++)vt[st-1][0]==="z"||vt[st-1][0]==="Z"?vt.splice(st-2,0,vt[st-2]):vt.push(vt[st-1]),st+=1;return vt};function Et(Xt,vt,mt){for(var ut=[].concat(Xt),st,lt=1/(mt+1),Tt=Gt(vt)[0],Ot=1;Ot<=mt;Ot++)lt*=Ot,st=Math.floor(Xt.length*lt),st===0?ut.unshift([Tt[0]*lt+Xt[st][0]*(1-lt),Tt[1]*lt+Xt[st][1]*(1-lt)]):ut.splice(st,0,[Tt[0]*lt+Xt[st][0]*(1-lt),Tt[1]*lt+Xt[st][1]*(1-lt)]);return ut}function Gt(Xt){var vt=[];switch(Xt[0]){case"M":vt.push([Xt[1],Xt[2]]);break;case"L":vt.push([Xt[1],Xt[2]]);break;case"A":vt.push([Xt[6],Xt[7]]);break;case"Q":vt.push([Xt[3],Xt[4]]),vt.push([Xt[1],Xt[2]]);break;case"T":vt.push([Xt[1],Xt[2]]);break;case"C":vt.push([Xt[5],Xt[6]]),vt.push([Xt[1],Xt[2]]),vt.push([Xt[3],Xt[4]]);break;case"S":vt.push([Xt[3],Xt[4]]),vt.push([Xt[1],Xt[2]]);break;case"H":vt.push([Xt[1],Xt[1]]);break;case"V":vt.push([Xt[1],Xt[1]]);break;default:}return vt}var Yt=function(vt,mt){if(vt.length<=1)return vt;for(var ut,st=0;st<mt.length;st++)if(vt[st][0]!==mt[st][0])switch(ut=Gt(vt[st]),mt[st][0]){case"M":vt[st]=["M"].concat(ut[0]);break;case"L":vt[st]=["L"].concat(ut[0]);break;case"A":vt[st]=[].concat(mt[st]),vt[st][6]=ut[0][0],vt[st][7]=ut[0][1];break;case"Q":if(ut.length<2)if(st>0)ut=Et(ut,vt[st-1],1);else{vt[st]=mt[st];break}vt[st]=["Q"].concat(ut.reduce(function(lt,Tt){return lt.concat(Tt)},[]));break;case"T":vt[st]=["T"].concat(ut[0]);break;case"C":if(ut.length<3)if(st>0)ut=Et(ut,vt[st-1],2);else{vt[st]=mt[st];break}vt[st]=["C"].concat(ut.reduce(function(lt,Tt){return lt.concat(Tt)},[]));break;case"S":if(ut.length<2)if(st>0)ut=Et(ut,vt[st-1],1);else{vt[st]=mt[st];break}vt[st]=["S"].concat(ut.reduce(function(lt,Tt){return lt.concat(Tt)},[]));break;default:vt[st]=mt[st]}return vt}},"T8j/":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=O(a("Wdwj")),o=O(a("R5yz")),x=a("Eqze");function O(y){return y&&y.__esModule?y:{default:y}}var C=function(E,m){var T=[],L=E.nodes,g=L===void 0?[]:L,j=E.edges,U=j===void 0?[]:j;if(g.length===0)return T;var W=g[0],z=new Set;z.add(W);var N=function(tt,Q){return m?tt.weight-Q.weight:0},I=new o.default(N);for((0,x.getEdgesByNodeId)(W.id,U).forEach(function(V){I.insert(V)});!I.isEmpty();){var B=I.delMin(),G=B.source,k=B.target;z.has(G)&&z.has(k)||(T.push(B),z.has(G)||(z.add(G),(0,x.getEdgesByNodeId)(G,U).forEach(function(V){I.insert(V)})),z.has(k)||(z.add(k),(0,x.getEdgesByNodeId)(k,U).forEach(function(V){I.insert(V)})))}return T},P=function(E,m){var T=[],L=E.nodes,g=L===void 0?[]:L,j=E.edges,U=j===void 0?[]:j;if(g.length===0)return T;var W=U.map(function(G){return G});m&&W.sort(function(G,k){return G.weight-k.weight});for(var z=new f.default(g.map(function(G){return G.id}));W.length>0;){var N=W.shift(),I=N.source,B=N.target;z.connected(I,B)||(T.push(N),z.union(I,B))}return T},b=function(E,m,T){var L={prim:C,kruskal:P};return T?L[T](E,m):P(E,m)},S=b;A.default=S},TKkZ:function(jt,A){function a(f,o){if(!(o==="constructor"&&typeof f[o]=="function")&&o!="__proto__")return f[o]}jt.exports=a},TWDS:function(jt,A,a){"use strict";var f=a("CMID"),o=a("nHjW"),x=a("tqeG"),O=function(C){Object(f.__extends)(P,C);function P(b,S,y,E){var m=C.call(this,b,Object(o.c)({},E,S))||this;return m.type="g2-plot",m.defaultOptions=E,m.adaptor=y,m}return P.prototype.getDefaultOptions=function(){return this.defaultOptions},P.prototype.getSchemaAdaptor=function(){return this.adaptor},P}(x.b)},TZFZ:function(jt,A){},TaHB:function(jt,A,a){"use strict";a.d(A,"b",function(){return f}),a.d(A,"a",function(){return o}),a.d(A,"c",function(){return x});var f=1e-6,o=typeof Float32Array!="undefined"?Float32Array:Array,x=Math.random;function O(S){o=S}var C=Math.PI/180;function P(S){return S*C}function b(S,y){return Math.abs(S-y)<=f*Math.max(1,Math.abs(S),Math.abs(y))}Math.hypot||(Math.hypot=function(){for(var S=0,y=arguments.length;y--;)S+=arguments[y]*arguments[y];return Math.sqrt(S)})},TdPr:function(jt,A,a){var f=a("TpDJ"),o=a("TIpG"),x=a("TeP8"),O=a("E5vS");function C(P,b,S){if(!O(S))return!1;var y=typeof b;return(y=="number"?o(S)&&x(b,S.length):y=="string"&&b in S)?f(S[b],P):!1}jt.exports=C},ThNq:function(jt,A,a){var f=a("xXdm"),o=a("fQJb"),x=a("ah2v");function O(C,P,b){for(var S=-1,y=P.length,E={};++S<y;){var m=P[S],T=f(C,m);b(T,m)&&o(E,x(m,C),T)}return E}jt.exports=O},TkY2:function(jt,A,a){"use strict";function f(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(E){return typeof E}:f=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(S)}Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var o=C(a("bQN1")),x=a("e9gb");function O(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return O=function(){return S},S}function C(S){if(S&&S.__esModule)return S;if(S===null||f(S)!=="object"&&typeof S!="function")return{default:S};var y=O();if(y&&y.has(S))return y.get(S);var E={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in S)if(Object.prototype.hasOwnProperty.call(S,T)){var L=m?Object.getOwnPropertyDescriptor(S,T):null;L&&(L.get||L.set)?Object.defineProperty(E,T,L):E[T]=S[T]}return E.default=S,y&&y.set(S,E),E}var P=self;P.onmessage=function(S){var y=S.data,E=y._algorithmType,m=y.data;if(!!E){if(typeof o[E]=="function"){var T=o[E].apply(o,m);P.postMessage({_algorithmType:x.MESSAGE.SUCCESS,data:T});return}P.postMessage({_algorithmType:x.MESSAGE.FAILURE})}};var b=null;A.default=b},U0TO:function(jt,A,a){"use strict";a.d(A,"adaptors",function(){return et});var f=a("JUmX");a.d(A,"G2",function(){return f});var o=a("nD2R"),x=a("FA8c"),O=a("RsfV"),C=a("3Euq"),P=a("tqeG"),b=a("p3uk"),S=a("dOdv");a.d(A,"Line",function(){return S.a});var y=a("Sp2P");a.d(A,"Area",function(){return y.a});var E=a("mZcS");a.d(A,"Column",function(){return E.a});var m=a("2h0J");a.d(A,"Bar",function(){return m.a});var T=a("iZJk");a.d(A,"Pie",function(){return T.a});var L=a("hZee");a.d(A,"Rose",function(){return L.a});var g=a("Qbsp");a.d(A,"WordCloud",function(){return g.a});var j=a("kRPs");a.d(A,"Scatter",function(){return j.a});var U=a("Y8+p");a.d(A,"Radar",function(){return U.a});var W=a("qM/j");a.d(A,"DualAxes",function(){return W.a});var z=a("vncI");a.d(A,"TinyLine",function(){return z.a});var N=a("rr1f");a.d(A,"TinyColumn",function(){return N.a});var I=a("mQLO");a.d(A,"TinyArea",function(){return I.a});var B=a("sD+k");a.d(A,"Histogram",function(){return B.a});var G=a("bQRB");a.d(A,"Progress",function(){return G.a});var k=a("/iG4");a.d(A,"RingProgress",function(){return k.a});var V=a("mnH5");a.d(A,"Heatmap",function(){return V.a});var tt=a("lioj");a.d(A,"Box",function(){return tt.a});var Q=a("v2z0"),K=a("8Ycy");a.d(A,"Stock",function(){return K.a});var _=a("OSUz");a.d(A,"Funnel",function(){return _.a});var Y=a("Z313");a.d(A,"Liquid",function(){return Y.a});var q=a("bs4/");a.d(A,"Bullet",function(){return q.a});var ot=a("kD8f");a.d(A,"Sunburst",function(){return ot.a});var ft=a("1QYT");a.d(A,"Gauge",function(){return ft.a});var ct=a("3lbB");a.d(A,"Waterfall",function(){return ct.a});var rt=a("tm1u");a.d(A,"RadialBar",function(){return rt.a});var gt=a("Glod");a.d(A,"BidirectionalBar",function(){return gt.a});var Et=a("OjaF");a.d(A,"Treemap",function(){return Et.a});var Gt=a("1LOs");a.d(A,"Sankey",function(){return Gt.a});var Yt=a("/FTH");a.d(A,"Chord",function(){return Yt.a});var Xt=a("TWDS"),vt=a("clcR");a.d(A,"Mix",function(){return vt.a});var mt=a("ZjV+"),ut=a("nHjW");a.d(A,"flow",function(){return ut.f}),a.d(A,"measureTextWidth",function(){return ut.q});var st=a("8DqP"),lt=a("N2cT"),Tt=a("cMHk"),Ot="2.3.23";Object(o.b)("en-US",x.a),Object(o.b)("zh-CN",O.a);var et={scale:lt.f,legend:lt.d,tooltip:lt.k,annotation:lt.b,interaction:lt.c,theme:lt.j,animation:lt.a}},U8wd:function(jt,A,a){"use strict";a.r(A),a.d(A,"version",function(){return W});var f=a("T5ir");a.d(A,"PathUtil",function(){return f});var o=a("zWOy"),x=a.n(o);for(var O in o)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(O)<0&&function(z){a.d(A,z,function(){return o[z]})}(O);var C=a("bYNP"),P=a.n(C);for(var O in C)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(O)<0&&function(N){a.d(A,N,function(){return C[N]})}(O);var b=a("LxUj");a.d(A,"Event",function(){return b.a});var S=a("xOhq");a.d(A,"Base",function(){return S.a});var y=a("nxzP");a.d(A,"AbstractCanvas",function(){return y.a});var E=a("t9r2");a.d(A,"AbstractGroup",function(){return E.a});var m=a("aib0");a.d(A,"AbstractShape",function(){return m.a});var T=a("40+6");a.d(A,"getBBoxMethod",function(){return T.a});var L=a("DBqA");a.d(A,"getTextHeight",function(){return L.b}),a.d(A,"assembleFont",function(){return L.a});var g=a("tSnd");a.d(A,"isAllowCapture",function(){return g.b});var j=a("PHCe");a.d(A,"multiplyVec2",function(){return j.c}),a.d(A,"invert",function(){return j.a});var U=a("r93A");a.d(A,"getOffScreenContext",function(){return U.a});var W="0.5.6"},UHDP:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var f=a("BbNA");function o(x,O){O===void 0&&(O=!0);var C=f.makePropertyInjectDecorator(x,O),P=f.makePropertyInjectNamedDecorator(x,O),b=f.makePropertyInjectTaggedDecorator(x,O),S=f.makePropertyMultiInjectDecorator(x,O);return{lazyInject:C,lazyInjectNamed:P,lazyInjectTagged:b,lazyMultiInject:S}}A.default=o},Uhlt:function(jt,A,a){"use strict";var f=a("XSdR"),o=a("gWxb"),x=a("gs6+"),O=a("rJDL"),C=a("+FNX"),P=a("mxXC"),b=a("43gi").Graph,S=a("hppO");jt.exports=y;function y(L){var g=S.maxRank(L),j=E(L,f.range(1,g+1),"inEdges"),U=E(L,f.range(g-1,-1,-1),"outEdges"),W=o(L);T(L,W);for(var z=Number.POSITIVE_INFINITY,N,I=0,B=0;B<4;++I,++B){m(I%2?j:U,I%4>=2),W=S.buildLayerMatrix(L);var G=x(L,W);G<z&&(B=0,N=f.cloneDeep(W),z=G)}T(L,N)}function E(L,g,j){return f.map(g,function(U){return C(L,U,j)})}function m(L,g){var j=new b;f.forEach(L,function(U){var W=U.graph().root,z=O(U,W,j,g);f.forEach(z.vs,function(N,I){U.node(N).order=I}),P(U,j,z.vs)})}function T(L,g){f.forEach(g,function(j){f.forEach(j,function(U,W){L.node(U).order=W})})}},UngR:function(jt,A,a){"use strict";var f=new Map;function o(I,B){f.set(I,B)}function x(I){return f.get(I)}var O=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.width,tt=B.height;return{x:G,y:k,width:V,height:tt}},C=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.r;return{x:G-V,y:k-V,width:V*2,height:V*2}},P=a("9pBU");function b(I,B){return!I||!B?I||B:{minX:Math.min(I.minX,B.minX),minY:Math.min(I.minY,B.minY),maxX:Math.max(I.maxX,B.maxX),maxY:Math.max(I.maxY,B.maxY)}}function S(I,B){var G=I.get("startArrowShape"),k=I.get("endArrowShape"),V=null,tt=null;return G&&(V=G.getCanvasBBox(),B=b(B,V)),k&&(tt=k.getCanvasBBox(),B=b(B,tt)),B}var y=function(I){for(var B=I.attr(),G=B.points,k=[],V=[],tt=0;tt<G.length;tt++){var Q=G[tt];k.push(Q[0]),V.push(Q[1])}var K=P.f.getBBoxByArray(k,V),_=K.x,Y=K.y,q=K.width,ot=K.height,ft={minX:_,minY:Y,maxX:_+q,maxY:Y+ot};return ft=S(I,ft),{x:ft.minX,y:ft.minY,width:ft.maxX-ft.minX,height:ft.maxY-ft.minY}},E=function(I){for(var B=I.attr(),G=B.points,k=[],V=[],tt=0;tt<G.length;tt++){var Q=G[tt];k.push(Q[0]),V.push(Q[1])}return P.f.getBBoxByArray(k,V)},m=a("n9X1"),T=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.text,tt=B.fontSize,Q=B.lineHeight,K=B.font;K||(K=Object(m.a)(B));var _=Object(m.c)(V,K),Y;if(!_)Y={x:G,y:k,width:0,height:0};else{var q=B.textAlign,ot=B.textBaseline,ft=Object(m.b)(V,tt,Q),ct={x:G,y:k-ft};q&&(q==="end"||q==="right"?ct.x-=_:q==="center"&&(ct.x-=_/2)),ot&&(ot==="top"?ct.y+=ft:ot==="middle"&&(ct.y+=ft/2)),Y={x:ct.x,y:ct.y,width:_,height:ft}}return Y},L=a("WOt1"),g=a("jg4I");function j(I,B){for(var G=[],k=[],V=[],tt=0;tt<I.length;tt++){var Q=I[tt],K=Q.currentPoint,_=Q.params,Y=Q.prePoint,q=void 0;switch(Q.command){case"Q":q=P.e.box(Y[0],Y[1],_[1],_[2],_[3],_[4]);break;case"C":q=P.b.box(Y[0],Y[1],_[1],_[2],_[3],_[4],_[5],_[6]);break;case"A":var ot=Q.arcParams;q=P.a.box(ot.cx,ot.cy,ot.rx,ot.ry,ot.xRotation,ot.startAngle,ot.endAngle);break;default:G.push(K[0]),k.push(K[1]);break}q&&(Q.box=q,G.push(q.x,q.x+q.width),k.push(q.y,q.y+q.height)),B&&(Q.command==="L"||Q.command==="M")&&Q.prePoint&&Q.nextPoint&&V.push(Q)}G=G.filter(function(Gt){return!Number.isNaN(Gt)}),k=k.filter(function(Gt){return!Number.isNaN(Gt)});var ft=Object(g.min)(G),ct=Object(g.min)(k),rt=Object(g.max)(G),gt=Object(g.max)(k);if(V.length===0)return{x:ft,y:ct,width:rt-ft,height:gt-ct};for(var tt=0;tt<V.length;tt++){var Q=V[tt],K=Q.currentPoint,Et=void 0;K[0]===ft?(Et=U(Q,B),ft=ft-Et.xExtra):K[0]===rt&&(Et=U(Q,B),rt=rt+Et.xExtra),K[1]===ct?(Et=U(Q,B),ct=ct-Et.yExtra):K[1]===gt&&(Et=U(Q,B),gt=gt+Et.yExtra)}return{x:ft,y:ct,width:rt-ft,height:gt-ct}}function U(I,B){var G=I.prePoint,k=I.currentPoint,V=I.nextPoint,tt=Math.pow(k[0]-G[0],2)+Math.pow(k[1]-G[1],2),Q=Math.pow(k[0]-V[0],2)+Math.pow(k[1]-V[1],2),K=Math.pow(G[0]-V[0],2)+Math.pow(G[1]-V[1],2),_=Math.acos((tt+Q-K)/(2*Math.sqrt(tt)*Math.sqrt(Q)));if(!_||Math.sin(_)===0||Object(g.isNumberEqual)(_,0))return{xExtra:0,yExtra:0};var Y=Math.abs(Math.atan2(V[1]-k[1],V[0]-k[0])),q=Math.abs(Math.atan2(V[0]-k[0],V[1]-k[1]));Y=Y>Math.PI/2?Math.PI-Y:Y,q=q>Math.PI/2?Math.PI-q:q;var ot={xExtra:Math.cos(_/2-Y)*(B/2*(1/Math.sin(_/2)))-B/2||0,yExtra:Math.cos(q-_/2)*(B/2*(1/Math.sin(_/2)))-B/2||0};return ot}var W=function(I){var B=I.attr(),G=B.path,k=B.stroke,V=k?B.lineWidth:0,tt=I.get("segments")||Object(L.e)(G),Q=j(tt,V),K=Q.x,_=Q.y,Y=Q.width,q=Q.height,ot={minX:K,minY:_,maxX:K+Y,maxY:_+q};return ot=S(I,ot),{x:ot.minX,y:ot.minY,width:ot.maxX-ot.minX,height:ot.maxY-ot.minY}},z=function(I){var B=I.attr(),G=B.x1,k=B.y1,V=B.x2,tt=B.y2,Q=Math.min(G,V),K=Math.max(G,V),_=Math.min(k,tt),Y=Math.max(k,tt),q={minX:Q,maxX:K,minY:_,maxY:Y};return q=S(I,q),{x:q.minX,y:q.minY,width:q.maxX-q.minX,height:q.maxY-q.minY}},N=function(I){var B=I.attr(),G=B.x,k=B.y,V=B.rx,tt=B.ry;return{x:G-V,y:k-tt,width:V*2,height:tt*2}};o("rect",O),o("image",O),o("circle",C),o("marker",C),o("polyline",y),o("polygon",E),o("text",T),o("path",W),o("line",z),o("ellipse",N)},V6jZ:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=a("CMID"),o=P(a("+/lo")),x=P(a("FasI")),O=P(a("Jr4d")),C=a("Eqze");function P(I){return I&&I.__esModule?I:{default:I}}function b(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(G){return typeof G}:b=function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},b(I)}var S=function(B,G,k,V){k===void 0&&(k="cluster"),V===void 0&&(V=2);var tt=[],Q=B.nodes;return G.forEach(function(K,_){tt.push(y(Q,K,_,k,V))}),tt},y=function(B,G,k,V,tt){var Q=[k],K=[],_={};return G.forEach(function(Y,q){if(Y<=tt&&k!==q){Q.push(q),K.push(B[q]);var ot=B[q][V];_[ot]?(_[ot].count++,_[ot].dists.push(Y)):_[ot]={count:1,dists:[Y]}}}),Object.keys(_).forEach(function(Y){_[Y].dists=_[Y].dists.sort(function(q,ot){return q-ot})}),{nodeIdx:k,nodeId:B[k].id,nodeIdxs:Q,neighbors:K,neighborNum:Q.length-1,nodeLabelCountMap:_}},E=function(B,G,k,V,tt){var Q=Math.ceil(k/G),K={},_=0;return V.forEach(function(Y,q){for(var ot=0,ft=0,ct=Y.nodeIdxs,rt=Y.neighborNum-1;ot<Q;){for(var gt=ct[1+Math.floor(Math.random()*rt)],Et=0;(K[q+"-"+gt]||K[gt+"-"+q])&&(gt=Math.floor(Math.random()*G),Et++,!(Et>2*G)););if(Et<2*G&&(K[q+"-"+gt]={start:q,end:gt,distance:tt[q][gt]},ot++,_++,_>=k))return K;if(ft++,ft>2*G)break}if(ot<Q){var Gt=Q-ot;Q=(Q+Gt)/(G-q-1)}}),K},m=function(B,G,k,V){var tt=k.nodes;return V||(V={}),Object.keys(B).forEach(function(Q){var K,_;if(!(V&&V[Q])){V[Q]={nodes:[],edges:[]};var Y=B[Q],q=(K=G[Y.start])===null||K===void 0?void 0:K.nodeIdxs,ot=(_=G[Y.end])===null||_===void 0?void 0:_.nodeIdxs;if(!(!q||!ot)){var ft=new Set(ot),ct=q.filter(function(Yt){return ft.has(Yt)});if(!(!ct||!ct.length)){for(var rt={},gt=ct.length,Et=0;Et<gt;Et++){var Gt=tt[ct[Et]];V[Q].nodes.push(Gt),rt[Gt.id]=!0}k.edges.forEach(function(Yt){rt[Yt.source]&&rt[Yt.target]&&V[Q].edges.push(Yt)})}}}}),V},T=function(B,G,k,V){var tt={};B.nodes.forEach(function(K){tt[K.id]=K});var Q=0;return B.edges.forEach(function(K){var _=tt[K.source][k],Y=tt[K.target][k],q=G.nodes[0][k],ot=G.nodes[1][k],ft=G.edges[0][V];K[V]===ft&&(_===q&&Y===ot||_===ot&&Y===q)&&Q++}),Q},L=function(B,G,k){for(var V=Infinity,tt=0,Q=function(Y){var q=B[Y],ot=Object.keys(q).sort(function(Yt,Xt){return q[Yt]-q[Xt]}),ft=10,ct=[];ot.forEach(function(Yt,Xt){ct[Xt%ft]||(ct[Xt%ft]={graphs:[],totalCount:0,aveCount:0}),ct[Xt%ft].graphs.push(Yt),ct[Xt%ft].totalCount+=q[Yt]});var rt=0,gt=[];ct.forEach(function(Yt){var Xt=Yt.totalCount/Yt.graphs.length;Yt.aveCount=Xt,gt.push(Xt);var vt=0,mt=Yt.length;Yt.graphs.forEach(function(ut,st){var lt=q[ut];Yt.graphs.forEach(function(Tt,Ot){st!==Ot&&(vt+=Math.abs(lt-q[Tt]))})}),vt/=mt*(mt-1)/2,rt+=vt}),rt/=ct.length;var Et=0;gt.forEach(function(Yt,Xt){gt.forEach(function(vt,mt){Xt!==mt&&(Et+=Math.abs(Yt-vt))}),Et/=gt.length*(gt.length-1)/2});var Gt=Et-rt;V<Gt&&(V=Gt,tt=Y)},K=0;K<G;K++)Q(K);return{structure:k[tt],structureCountMap:B[tt]}},g=function(B,G){var k={},V={};return B.forEach(function(tt,Q){k[tt.id]={idx:Q,node:tt,degree:0};var K=tt[G];V[K]||(V[K]=[]),V[K].push(tt)}),{nodeMap:k,nodeLabelMap:V}},j=function(B,G,k){var V={},tt={};return B.forEach(function(Q,K){V[""+C.uniqueId]={idx:K,edge:Q};var _=Q[G];tt[_]||(tt[_]=[]),tt[_].push(Q);var Y=k[Q.source];Y&&Y.degree++;var q=k[Q.target];q&&q.degree++}),{edgeMap:V,edgeLabelMap:tt}},U=function(B,G,k){var V=G.length,tt={};return G.forEach(function(Q,K){for(var _=k?0:K+1,Y=B[K].id,q=_;q<V;q++)if(K!==q){var ot=B[q].id,ft=Q[q];tt[Y+"-"+ot]=ft,k||(tt[ot+"-"+Y]=ft)}}),tt},W=function(B,G,k,V,tt,Q,K,_,Y,q,ot){var ft,ct=G.id+"-"+k.id;if(q&&q[ct])return q[ct];var rt=ot?ot[ct]:void 0;if(!rt){var gt=(ft={},ft[ct]={start:V[G.id].idx,end:V[k.id].idx,distance:tt},ft);ot=m(gt,Q,B,ot),rt=ot[ct]}return T(rt,K,_,Y)},z=function(B,G,k,V,tt,Q,K){if(k===void 0&&(k=!1),Q===void 0&&(Q="cluster"),K===void 0&&(K="cluster"),!(!B||!B.nodes)){var _=B.nodes.length;if(!!_){var Y=(0,o.default)(B,k),q=(0,o.default)(G,k),ot=U(B.nodes,Y,k),ft=U(G.nodes,q,k),ct=g(B.nodes,Q),rt=ct.nodeMap,gt=ct.nodeLabelMap,Et=g(G.nodes,Q),Gt=Et.nodeMap,Yt=Et.nodeLabelMap;j(B.edges,K,rt);var Xt=j(G.edges,K,Gt).edgeLabelMap;tt||(tt=Math.max.apply(Math,(0,f.__spreadArray)((0,f.__spreadArray)([],q[0]),[2]))),V||(V=tt);var vt=S(B,Y,Q,V),mt=S(G,q,Q,V),ut=Math.min(100,_*(_-1)/2),st=E(V,_,ut,mt,Y),lt=m(st,vt,B),Tt=10,Ot=1,et=1,H=4,pt={graphs:lt,nodeLabelProp:Q,edgeLabelProp:K,minSupport:Ot,minNodeNum:et,maxNodeNum:H,directed:k},nt=(0,x.default)(pt).slice(0,Tt),yt=nt.length,Pt=[];nt.forEach(function(rr,$e){Pt[$e]={},Object.keys(lt).forEach(function(Ue){var ir=lt[Ue],xr=T(ir,rr,Q,K);Pt[$e][Ue]=xr})});var Rt=L(Pt,yt,nt),Wt=Rt.structure,Vt=Rt.structureCountMap,Lt=G.nodes[0],Ct=Lt[Q],at=gt[Ct],It={},Ft={},xt={},Nt={},Ht={};Object.keys(Yt).forEach(function(rr,$e){Ht[rr]=[];var Ue=-Infinity,ir=Yt[rr],xr={};ir.forEach(function(Le){var or=ft[Lt.id+"-"+Le.id];or&&Ht[rr].push(or),Ue<or&&(Ue=or),xr[Lt.id+"-"+Le.id]={start:0,end:Gt[Le.id].idx,distance:or}}),Ht[rr]=Ht[rr].sort(function(Le,or){return Le-or}),Ft=m(xr,mt,G,Ft);var nr=[];if(Object.keys(xr).forEach(function(Le){if(xt[Le]){nr.push(xt[Le]);return}var or=Ft[Le];xt[Le]=T(or,Wt,Q,K),nr.push(xt[Le])}),nr=nr.sort(function(Le,or){return or-Le}),Nt[Lt.id+"-"+rr]=nr,rr!==Ct)for(var tn=at.length,bn=function(or){var Gr=at[or],Kr=vt[rt[Gr.id].idx],$r=Kr.nodeLabelCountMap[rr],jn=Yt[rr].length;if(!$r||$r.count<jn)return at.splice(or,1),"continue";for(var Qn=!1,Bn=0;Bn<jn;Bn++)if($r.dists[Bn]>Ht[rr][Bn]){Qn=!0;break}if(Qn)return at.splice(or,1),"continue";var Nn={};Kr.neighbors.forEach(function(In){var gi=ot[Gr.id+"-"+In.id];Nn[Gr.id+"-"+In.id]={start:rt[Gr.id].idx,end:rt[In.id].idx,distance:gi}}),lt=m(Nn,vt,B,lt);var Xn=[];Object.keys(Nn).forEach(function(In){if(Vt[In]){Xn.push(Vt[In]);return}var gi=lt[In];Vt[In]=T(gi,Wt,Q,K),Xn.push(Vt[In])}),Xn=Xn.sort(function(In,gi){return gi-In});for(var ri=!1,Bn=0;Bn<jn;Bn++)if(Xn[Bn]<nr[Bn]){ri=!0;break}if(ri)return at.splice(or,1),"continue"},Ur=tn-1;Ur>=0;Ur--)bn(Ur)});var Bt=[];at.forEach(function(rr){for(var $e=rt[rr.id].idx,Ue=y(B.nodes,Y[$e],$e,Q,tt),ir=Ue.neighbors,xr=ir.length,nr=!1,tn=function(or){if(ir.length+1<G.nodes.length)return nr=!0,{value:void 0};var Gr=ir[or],Kr=Gr[Q];if(!Yt[Kr]||!Yt[Kr].length)return ir.splice(or,1),"continue";var $r=rr.id+"-"+Gr.id;if(!Ht[Kr]||!Ht[Kr].length)return ir.splice(or,1),"continue";var jn=ot[$r],Qn=Ht[Kr][Ht[Kr].length-1];if(jn>Qn)return ir.splice(or,1),"continue";var Bn=Vt[$r]?Vt[$r]:W(B,rr,Gr,rt,jn,vt,Wt,Q,K,Vt,lt),Nn=Lt.id+"-"+Kr,Xn=Nt[Nn][Nt[Nn].length-1];if(Bn<Xn)return ir.splice(or,1),"continue";var ri=It[Kr];if(ri===void 0&&(ri=Infinity,Yt[Kr].forEach(function(In){var gi=Gt[In.id].degree;ri>gi&&(ri=gi)}),It[Kr]=ri),rt[Gr.id].degree<ri)return ir.splice(or,1),"continue"},bn=xr-1;bn>=0;bn--){var Ur=tn(bn);if(b(Ur)==="object")return Ur.value}nr||Bt.push({nodes:[rr].concat(ir)})});var Ut=(0,O.default)(G,Lt.id,!1).length,Jt={};k?(Object.keys(Ut).forEach(function(rr){var $e=Gt[rr].node[Q];Jt[$e]?Jt[$e].push(Ut[rr]):Jt[$e]=[Ut[rr]]}),Object.keys(Jt).forEach(function(rr){Jt[rr].sort(function($e,Ue){return $e-Ue})})):Jt=Ht;for(var oe=Bt.length,ge=function($e){var Ue=Bt[$e],ir=Ue.nodes[0],xr={},nr={};Ue.nodes.forEach(function(Li,Ji){nr[Li.id]={idx:Ji,node:Li,degree:0};var Xi=Li[Q];xr[Xi]?xr[Xi]++:xr[Xi]=1});var tn=[],bn={};B.edges.forEach(function(Li){nr[Li.source]&&nr[Li.target]&&(tn.push(Li),bn[Li[K]]?bn[Li[K]]++:bn[Li[K]]=1,nr[Li.source].degree++,nr[Li.target].degree++)});for(var Ur=Object.keys(Xt).length,Le=!1,or=0;or<Ur;or++){var Gr=Object.keys(Xt)[or];if(!bn[Gr]||bn[Gr]<Xt[Gr].length){Le=!0;break}}if(Le)return Bt.splice($e,1),"continue";var Kr=tn.length;if(Kr<G.edges.length)return Bt.splice($e,1),"break";for(var $r=!1,jn=function(Ji){var Xi=tn[Ji],Hi=Xi[K],pa=Xt[Hi];if(!pa||!pa.length)return bn[Hi]--,pa&&bn[Hi]<pa.length?($r=!0,"break"):(tn.splice(Ji,1),nr[Xi.source].degree--,nr[Xi.target].degree--,"continue");var uo=nr[Xi.source].node[Q],Mo=nr[Xi.target].node[Q],co=!1;if(pa.forEach(function(Sa){var Wo=Gt[Sa.source].node,zo=Gt[Sa.target].node;Wo[Q]===uo&&zo[Q]===Mo&&(co=!0),!k&&Wo[Q]===Mo&&zo[Q]===uo&&(co=!0)}),!co)return bn[Hi]--,pa&&bn[Hi]<pa.length?($r=!0,"break"):(tn.splice(Ji,1),nr[Xi.source].degree--,nr[Xi.target].degree--,"continue")},or=Kr-1;or>=0;or--){var Qn=jn(or);if(Qn==="break")break}if($r)return Bt.splice($e,1),"continue";Ue.edges=tn;var Bn=(0,O.default)(Ue,Ue.nodes[0].id,!1).length;if(Object.keys(Bn).reverse().forEach(function(Li){if(!(Li===Ue.nodes[0].id||$r)){if(Bn[Li]===Infinity){var Ji=nr[Li].node[Q];if(xr[Ji]--,xr[Ji]<Yt[Ji].length){$r=!0;return}var Xi=Ue.nodes.indexOf(nr[Li].node);Ue.nodes.splice(Xi,1),nr[Li]=void 0;return}var Hi=rt[Li].node[Q];if(!Jt[Hi]||!Jt[Hi].length||Bn[Li]>Jt[Hi][Jt[Hi].length-1]){var Ji=nr[Li].node[Q];if(xr[Ji]--,xr[Ji]<Yt[Ji].length){$r=!0;return}var Xi=Ue.nodes.indexOf(nr[Li].node);Ue.nodes.splice(Xi,1),nr[Li]=void 0}}}),$r)return Bt.splice($e,1),"continue";for(var Nn=!0,Xn=0;Nn&&!$r;){if(Nn=!1,nr[ir.id].degree<Gt[Lt.id].degree){$r=!0;break}if(xr[ir[Q]]<Yt[ir[Q]].length){$r=!0;break}for(var ri=Ue.nodes.length,In=ri-1;In>=0;In--){var gi=Ue.nodes[In],oa=nr[gi.id].degree,wa=gi[Q];if(oa<It[wa]){if(xr[gi[Q]]--,xr[gi[Q]]<Yt[gi[Q]].length){$r=!0;break}Ue.nodes.splice(In,1),nr[gi.id]=void 0,Nn=!0}}if($r||!Nn&&Xn!==0)break;Kr=tn.length;for(var Ea=Kr-1;Ea>=0;Ea--){var Vi=tn[Ea];if(!nr[Vi.source]||!nr[Vi.target]){tn.splice(Ea,1);var fa=Vi[K];if(bn[fa]--,nr[Vi.source]&&nr[Vi.source].degree--,nr[Vi.target]&&nr[Vi.target].degree--,Xt[fa]&&bn[fa]<Xt[fa].length){$r=!0;break}Nn=!0}}Xn++}if($r||$r||Ue.nodes.length<G.nodes.length||tn.length<G.edges.length)return Bt.splice($e,1),"continue"},Ce=oe-1;Ce>=0;Ce--){var Ie=ge(Ce);if(Ie==="break")break}for(var We=Bt.length,lr=function($e){var Ue=Bt[$e],ir={};Ue.edges.forEach(function(tn){var bn=tn.source+"-"+tn.target+"-"+tn.label;ir[bn]?ir[bn]++:ir[bn]=1});for(var xr=function(bn){var Ur=Bt[bn],Le={};Ur.edges.forEach(function(Gr){var Kr=Gr.source+"-"+Gr.target+"-"+Gr.label;Le[Kr]?Le[Kr]++:Le[Kr]=1});var or=!0;Object.keys(Le).length!==Object.keys(ir).length?or=!1:Object.keys(ir).forEach(function(Gr){Le[Gr]!==ir[Gr]&&(or=!1)}),or&&Bt.splice(bn,1)},nr=We-1;nr>$e;nr--)xr(nr);We=Bt.length},Ce=0;Ce<=We-1;Ce++)lr(Ce);return Bt}}},N=z;A.default=N},"VI+R":function(jt,A,a){"use strict";a.d(A,"a",function(){return f});var f=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"]},VMwZ:function(jt,A,a){var f=a("1ban"),o=a("Wx0M"),x={},O=Object.keys(f);function C(b){var S=function(E){return E==null?E:(arguments.length>1&&(E=Array.prototype.slice.call(arguments)),b(E))};return"conversion"in b&&(S.conversion=b.conversion),S}function P(b){var S=function(E){if(E==null)return E;arguments.length>1&&(E=Array.prototype.slice.call(arguments));var m=b(E);if(typeof m=="object")for(var T=m.length,L=0;L<T;L++)m[L]=Math.round(m[L]);return m};return"conversion"in b&&(S.conversion=b.conversion),S}O.forEach(function(b){x[b]={},Object.defineProperty(x[b],"channels",{value:f[b].channels}),Object.defineProperty(x[b],"labels",{value:f[b].labels});var S=o(b),y=Object.keys(S);y.forEach(function(E){var m=S[E];x[b][E]=P(m),x[b][E].raw=C(m)})}),jt.exports=x},VRwR:function(jt,A){},VZin:function(jt,A,a){"use strict";var f=a("CMID"),o=a("jg4I"),x=a("qi70"),O=a("x3DA"),C=a("8Loy"),P=a("iXVM"),b="update_status",S=["visible","tip","delegateObject"],y=["container","group","shapesMap","isRegister","isUpdating","destroyed"],E=function(m){Object(f.__extends)(T,m);function T(){return m!==null&&m.apply(this,arguments)||this}return T.prototype.getDefaultCfg=function(){var L=m.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},L),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},T.prototype.remove=function(){this.clear();var L=this.get("group");L.remove()},T.prototype.clear=function(){var L=this.get("group");L.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},T.prototype.getChildComponentById=function(L){var g=this.getElementById(L),j=g&&g.get("component");return j},T.prototype.getElementById=function(L){return this.get("shapesMap")[L]},T.prototype.getElementByLocalId=function(L){var g=this.getElementId(L);return this.getElementById(g)},T.prototype.getElementsByName=function(L){var g=[];return Object(o.each)(this.get("shapesMap"),function(j){j.get("name")===L&&g.push(j)}),g},T.prototype.getContainer=function(){return this.get("container")},T.prototype.updateInner=function(L){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},T.prototype.render=function(){var L=this.get("offScreenGroup");L||(L=this.offScreenRender());var g=this.get("group");this.updateElements(L,g),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},T.prototype.show=function(){var L=this.get("group");L.show(),this.set("visible",!0)},T.prototype.hide=function(){var L=this.get("group");L.hide(),this.set("visible",!1)},T.prototype.setCapture=function(L){var g=this.get("group");g.set("capture",L),this.set("capture",L)},T.prototype.destroy=function(){this.removeEvent(),this.remove(),m.prototype.destroy.call(this)},T.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},T.prototype.getLayoutBBox=function(){var L=this.get("group"),g=this.getInnerLayoutBBox(),j=L.getTotalMatrix();return j&&(g=Object(O.a)(j,g)),g},T.prototype.on=function(L,g,j){var U=this.get("group");return U.on(L,g,j),this},T.prototype.off=function(L,g){var j=this.get("group");return j&&j.off(L,g),this},T.prototype.emit=function(L,g){var j=this.get("group");j.emit(L,g)},T.prototype.init=function(){m.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},T.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},T.prototype.delegateEmit=function(L,g){var j=this.get("group");g.target=j,j.emit(L,g),Object(x.a)(j,L,g)},T.prototype.createOffScreenGroup=function(){var L=this.get("group"),g=L.getGroupBase(),j=new g({delegateObject:this.getDelegateObject()});return j},T.prototype.applyOffset=function(){var L=this.get("offsetX"),g=this.get("offsetY");this.moveElementTo(this.get("group"),{x:L,y:g})},T.prototype.initGroup=function(){var L=this.get("container");this.set("group",L.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},T.prototype.offScreenRender=function(){this.clearOffScreenCache();var L=this.createOffScreenGroup();return this.renderInner(L),this.set("offScreenGroup",L),this.set("offScreenBBox",Object(C.d)(L)),L},T.prototype.addGroup=function(L,g){this.appendDelegateObject(L,g);var j=L.addGroup(g);return this.get("isRegister")&&this.registerElement(j),j},T.prototype.addShape=function(L,g){this.appendDelegateObject(L,g);var j=L.addShape(g);return this.get("isRegister")&&this.registerElement(j),j},T.prototype.addComponent=function(L,g){var j=g.id,U=g.component,W=Object(f.__rest)(g,["id","component"]),z=new U(Object(f.__assign)(Object(f.__assign)({},W),{id:j,container:L,updateAutoRender:this.get("updateAutoRender")}));return z.init(),z.render(),this.get("isRegister")&&this.registerElement(z.get("group")),z},T.prototype.initEvent=function(){},T.prototype.removeEvent=function(){var L=this.get("group");L.off()},T.prototype.getElementId=function(L){var g=this.get("id"),j=this.get("name");return g+"-"+j+"-"+L},T.prototype.registerElement=function(L){var g=L.get("id");this.get("shapesMap")[g]=L},T.prototype.unregisterElement=function(L){var g=L.get("id");delete this.get("shapesMap")[g]},T.prototype.moveElementTo=function(L,g){var j=Object(O.f)(g);L.attr("matrix",j)},T.prototype.addAnimation=function(L,g,j){var U=g.attr("opacity");Object(o.isNil)(U)&&(U=1),g.attr("opacity",0),g.animate({opacity:U},j)},T.prototype.removeAnimation=function(L,g,j){g.animate({opacity:0},j)},T.prototype.updateAnimation=function(L,g,j,U){g.animate(j,U)},T.prototype.updateElements=function(L,g){var j=this,U=this.get("animate"),W=this.get("animateOption"),z=L.getChildren().slice(0),N;Object(o.each)(z,function(I){var B=I.get("id"),G=j.getElementById(B),k=I.get("name");if(G)if(I.get("isComponent")){var V=I.get("component"),tt=G.get("component"),Q=Object(o.pick)(V.cfg,Object(o.difference)(Object(o.keys)(V.cfg),y));tt.update(Q),G.set(b,"update")}else{var K=j.getReplaceAttrs(G,I);U&&W.update?j.updateAnimation(k,G,K,W.update):G.attr(K),I.isGroup()&&j.updateElements(I,G),Object(o.each)(S,function(ot){G.set(ot,I.get(ot))}),Object(C.m)(G,I),N=G,G.set(b,"update")}else{g.add(I);var _=g.getChildren();if(_.splice(_.length-1,1),N){var Y=_.indexOf(N);_.splice(Y+1,0,I)}else _.unshift(I);if(j.registerElement(I),I.set(b,"add"),I.get("isComponent")){var V=I.get("component");V.set("container",g)}else I.isGroup()&&j.registerNewGroup(I);if(N=I,U){var q=j.get("isInit")?W.appear:W.enter;q&&j.addAnimation(k,I,q)}}})},T.prototype.clearUpdateStatus=function(L){var g=L.getChildren();Object(o.each)(g,function(j){j.set(b,null)})},T.prototype.clearOffScreenCache=function(){var L=this.get("offScreenGroup");L&&L.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},T.prototype.getDelegateObject=function(){var L,g=this.get("name"),j=(L={},L[g]=this,L.component=this,L);return j},T.prototype.appendDelegateObject=function(L,g){var j=L.get("delegateObject");g.delegateObject||(g.delegateObject={}),Object(o.mix)(g.delegateObject,j)},T.prototype.getReplaceAttrs=function(L,g){var j=L.attr(),U=g.attr();return Object(o.each)(j,function(W,z){U[z]===void 0&&(U[z]=void 0)}),U},T.prototype.registerNewGroup=function(L){var g=this,j=L.getChildren();Object(o.each)(j,function(U){g.registerElement(U),U.set(b,"add"),U.isGroup()&&g.registerNewGroup(U)})},T.prototype.deleteElements=function(){var L=this,g=this.get("shapesMap"),j=[];Object(o.each)(g,function(z,N){!z.get(b)||z.destroyed?j.push([N,z]):z.set(b,null)});var U=this.get("animate"),W=this.get("animateOption");Object(o.each)(j,function(z){var N=z[0],I=z[1];if(!I.destroyed){var B=I.get("name");if(U&&W.leave){var G=Object(o.mix)({callback:function(){L.removeElement(I)}},W.leave);L.removeAnimation(B,I,G)}else L.removeElement(I)}delete g[N]})},T.prototype.removeElement=function(L){if(L.get("isGroup")){var g=L.get("component");g&&g.destroy()}L.remove()},T}(P.a);A.a=E},Vd04:function(jt,A,a){"use strict";a.d(A,"a",function(){return Y});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("RHEd"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("7Nom"),E=a.n(y),m=a("4OuL"),T=a.n(m),L=a("r1m7"),g=a.n(L),j=a("99LQ"),U=a("YcyD"),W=a.n(U),z=a("XN3X"),N,I,B,G,k,V,tt,Q,K,_,Y=(N=Object(U.injectable)(),I=Object(U.inject)(z.a.HierarchyComponentManager),B=Object(U.inject)(z.a.TransformComponentManager),G=Object(U.inject)(z.a.MeshComponentManager),N(k=(V=(_=function(){function q(){S()(this,q),P()(this,"hierarchy",tt,this),P()(this,"transform",Q,this),P()(this,"mesh",K,this)}return E()(q,[{key:"execute",value:function(){var ot=O()(o.a.mark(function ct(){return o.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return gt.stop()}},ct,this)}));function ft(){return ot.apply(this,arguments)}return ft}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var ft=this;this.transform.forEach(function(ct,rt){(rt.isDirty()||rt.isLocalDirty())&&(ft.setMeshAABBDirty(ft.mesh.getComponentByEntity(ct)),rt.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var ft=this;this.hierarchy.forEach(function(ct,rt){var gt=ft.transform.getComponentByEntity(ct),Et=ft.transform.getComponentByEntity(rt.parentID);gt!==null&&Et!==null&&gt.updateTransformWithParent(Et)})}},{key:"attach",value:function(ft,ct,rt){this.hierarchy.contains(ft)&&this.detach(ft),this.hierarchy.create(ft,{parentID:ct});var gt=this.mesh.getComponentByEntity(ct);if(this.setMeshAABBDirty(gt),gt&&gt.children.indexOf(ft)===-1&&gt.children.push(ft),this.hierarchy.getCount()>1)for(var Et=this.hierarchy.getCount()-1;Et>0;--Et)for(var Gt=this.hierarchy.getEntity(Et),Yt=0;Yt<Et;++Yt){var Xt=this.hierarchy.getComponent(Yt);if(Xt.parentID===Gt){this.hierarchy.moveItem(Et,Yt),++Et;break}}var vt=this.hierarchy.getComponentByEntity(ft),mt=this.transform.getComponentByEntity(ct);mt===null&&(mt=this.transform.create(ct));var ut=this.transform.getComponentByEntity(ft);ut===null&&(ut=this.transform.create(ft),mt=this.transform.getComponentByEntity(ct)),ut.parent=mt,!rt&&mt&&(ut.matrixTransform(j.b.invert(j.b.create(),mt.worldTransform)),ut.updateTransform()),mt&&ut.updateTransformWithParent(mt)}},{key:"detach",value:function(ft){var ct=this.hierarchy.getComponentByEntity(ft);if(ct!==null){var rt=this.transform.getComponentByEntity(ft);rt!==null&&(rt.parent=null,rt.applyTransform()),this.hierarchy.removeKeepSorted(ft);var gt=this.mesh.getComponentByEntity(ct.parentID);if(gt){var Et=gt.children.indexOf(ft);gt.children.splice(Et,1)}this.setMeshAABBDirty(gt)}}},{key:"detachChildren",value:function(ft){var ct=this.mesh.getComponentByEntity(ft);ct&&(ct.children=[]);for(var rt=0;rt<this.hierarchy.getCount();){var gt;if(((gt=this.hierarchy.getComponent(rt))===null||gt===void 0?void 0:gt.parentID)===ft){var Et=this.hierarchy.getEntity(rt);this.detach(Et)}else++rt}}},{key:"setMeshAABBDirty",value:function(ft){ft&&(ft.aabbDirty=!0)}}]),q}(),_),tt=T()(V.prototype,"hierarchy",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=T()(V.prototype,"transform",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=T()(V.prototype,"mesh",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V))||k)},Vlje:function(jt,A,a){var f=a("dhvM"),o=a("TpDJ"),x=a("TdPr"),O=a("rGlR"),C=Object.prototype,P=C.hasOwnProperty,b=f(function(S,y){S=Object(S);var E=-1,m=y.length,T=m>2?y[2]:void 0;for(T&&x(y[0],y[1],T)&&(m=1);++E<m;)for(var L=y[E],g=O(L),j=-1,U=g.length;++j<U;){var W=g[j],z=S[W];(z===void 0||o(z,C[W])&&!P.call(S,W))&&(S[W]=L[W])}return S});jt.exports=b},VmDj:function(jt,A,a){var f=a("2PUN"),o=a("dhvM"),x=a("fUu9"),O=a("wvSg"),C=o(function(P){return x(f(P,1,O,!0))});jt.exports=C},VrSm:function(jt,A,a){"use strict";jt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},VvtR:function(jt,A,a){"use strict";a.d(A,"a",function(){return S});var f=a("N2cT"),o=a("nHjW"),x=a("8DqP"),O=a("C20/"),C=a("0dxb"),P=a("KN8b");a.d(A,"b",function(){return P.b});function b(y){var E=y.chart,m=y.options,T=m.data,L=m.color,g=m.columnStyle,j=m.columnWidthRatio,U=Object(C.a)(T);E.data(U);var W=Object(o.c)({},y,{options:{xField:O.c,yField:O.d,widthRatio:j,interval:{style:g,color:L}}});return Object(x.c)(W),E.axis(!1),E.legend(!1),E.interaction("element-active"),y}function S(y){return Object(o.f)(b,P.b,f.k,f.j,f.a,Object(f.b)())(y)}},W7Gi:function(jt,A,a){"use strict";var f=a("tuqv"),o=a("EbMC");A.a=function(){var x=1,O=1,C=0,P=!1;function b(y){var E=y.height+1;return y.x0=y.y0=C,y.x1=x,y.y1=O/E,y.eachBefore(S(O,E)),P&&y.eachBefore(f.a),y}function S(y,E){return function(m){m.children&&Object(o.a)(m,m.x0,y*(m.depth+1)/E,m.x1,y*(m.depth+2)/E);var T=m.x0,L=m.y0,g=m.x1-C,j=m.y1-C;g<T&&(T=g=(T+g)/2),j<L&&(L=j=(L+j)/2),m.x0=T,m.y0=L,m.x1=g,m.y1=j}}return b.round=function(y){return arguments.length?(P=!!y,b):P},b.size=function(y){return arguments.length?(x=+y[0],O=+y[1],b):[x,O]},b.padding=function(y){return arguments.length?(C=+y,b):C},b}},WKd7:function(jt,A,a){"use strict";A.a=function(f,o,x,O,C){for(var P=f.children,b,S=-1,y=P.length,E=f.value&&(C-x)/f.value;++S<y;)b=P[S],b.x0=o,b.x1=O,b.y0=x,b.y1=x+=b.value*E}},WLqU:function(jt,A){jt.exports=a;function a(f,o,x){var O=o[0]*x[1]-o[1]*x[0];return f[0]=f[1]=0,f[2]=O,f}},WOt1:function(jt,A,a){"use strict";a.d(A,"a",function(){return P}),a.d(A,"c",function(){return B}),a.d(A,"d",function(){return V}),a.d(A,"e",function(){return pt}),a.d(A,"b",function(){return Ft});var f=a("jg4I"),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,x=/[^\s\,]+/ig;function O(xt){var Nt=xt||[];if(Object(f.isArray)(Nt))return Nt;if(Object(f.isString)(Nt))return Nt=Nt.match(o),Object(f.each)(Nt,function(Ht,Bt){if(Ht=Ht.match(x),Ht[0].length>1){var Ut=Ht[0].charAt(0);Ht.splice(1,0,Ht[0].substr(1)),Ht[0]=Ut}Object(f.each)(Ht,function(Jt,oe){isNaN(Jt)||(Ht[oe]=+Jt)}),Nt[Bt]=Ht}),Nt}var C=O;function P(xt,Nt){for(var Ht=[],Bt=0,Ut=xt.length;Ut-2*!Nt>Bt;Bt+=2){var Jt=[{x:+xt[Bt-2],y:+xt[Bt-1]},{x:+xt[Bt],y:+xt[Bt+1]},{x:+xt[Bt+2],y:+xt[Bt+3]},{x:+xt[Bt+4],y:+xt[Bt+5]}];Nt?Bt?Ut-4===Bt?Jt[3]={x:+xt[0],y:+xt[1]}:Ut-2===Bt&&(Jt[2]={x:+xt[0],y:+xt[1]},Jt[3]={x:+xt[2],y:+xt[3]}):Jt[0]={x:+xt[Ut-2],y:+xt[Ut-1]}:Ut-4===Bt?Jt[3]=Jt[2]:Bt||(Jt[0]={x:+xt[Bt],y:+xt[Bt+1]}),Ht.push(["C",(-Jt[0].x+6*Jt[1].x+Jt[2].x)/6,(-Jt[0].y+6*Jt[1].y+Jt[2].y)/6,(Jt[1].x+6*Jt[2].x-Jt[3].x)/6,(Jt[1].y+6*Jt[2].y-Jt[3].y)/6,Jt[2].x,Jt[2].y])}return Ht}function b(xt,Nt){var Ht=[],Bt=[];function Ut(Jt,oe){if(Jt.length===1)Ht.push(Jt[0]),Bt.push(Jt[0]);else{for(var ge=[],Ce=0;Ce<Jt.length-1;Ce++)Ce===0&&Ht.push(Jt[0]),Ce===Jt.length-2&&Bt.push(Jt[Ce+1]),ge[Ce]=[(1-oe)*Jt[Ce][0]+oe*Jt[Ce+1][0],(1-oe)*Jt[Ce][1]+oe*Jt[Ce+1][1]];Ut(ge,oe)}}return xt.length&&Ut(xt,Nt),{left:Ht,right:Bt.reverse()}}function S(xt,Nt,Ht){var Bt=[[xt[1],xt[2]]];Ht=Ht||2;var Ut=[];Nt[0]==="A"?(Bt.push(Nt[6]),Bt.push(Nt[7])):Nt[0]==="C"?(Bt.push([Nt[1],Nt[2]]),Bt.push([Nt[3],Nt[4]]),Bt.push([Nt[5],Nt[6]])):Nt[0]==="S"||Nt[0]==="Q"?(Bt.push([Nt[1],Nt[2]]),Bt.push([Nt[3],Nt[4]])):Bt.push([Nt[1],Nt[2]]);for(var Jt=Bt,oe=1/Ht,ge=0;ge<Ht-1;ge++){var Ce=oe/(1-oe*ge),Ie=b(Jt,Ce);Ut.push(Ie.left),Jt=Ie.right}Ut.push(Jt);var We=Ut.map(function(lr){var rr=[];return lr.length===4&&(rr.push("C"),rr=rr.concat(lr[2])),lr.length>=3&&(lr.length===3&&rr.push("Q"),rr=rr.concat(lr[1])),lr.length===2&&rr.push("L"),rr=rr.concat(lr[lr.length-1]),rr});return We}function y(xt,Nt,Ht){if(Ht===1)return[[].concat(xt)];var Bt=[];if(Nt[0]==="L"||Nt[0]==="C"||Nt[0]==="Q")Bt=Bt.concat(S(xt,Nt,Ht));else{var Ut=[].concat(xt);Ut[0]==="M"&&(Ut[0]="L");for(var Jt=0;Jt<=Ht-1;Jt++)Bt.push(Ut)}return Bt}function E(xt,Nt){if(xt.length===1)return xt;var Ht=xt.length-1,Bt=Nt.length-1,Ut=Ht/Bt,Jt=[];if(xt.length===1&&xt[0][0]==="M"){for(var oe=0;oe<Bt-Ht;oe++)xt.push(xt[0]);return xt}for(var oe=0;oe<Bt;oe++){var ge=Math.floor(Ut*oe);Jt[ge]=(Jt[ge]||0)+1}var Ce=Jt.reduce(function(Ie,We,lr){return lr===Ht?Ie.concat(xt[Ht]):Ie.concat(y(xt[lr],xt[lr+1],We))},[]);return Ce.unshift(xt[0]),(Nt[Bt]==="Z"||Nt[Bt]==="z")&&Ce.push("Z"),Ce}function m(xt,Nt,Ht){var Bt=null,Ut=Ht;return Nt<Ut&&(Ut=Nt,Bt="add"),xt<Ut&&(Ut=xt,Bt="del"),{type:Bt,min:Ut}}var T=function(Nt,Ht){var Bt=Nt.length,Ut=Ht.length,Jt,oe,ge=0;if(Bt===0||Ut===0)return null;for(var Ce=[],Ie=0;Ie<=Bt;Ie++)Ce[Ie]=[],Ce[Ie][0]={min:Ie};for(var We=0;We<=Ut;We++)Ce[0][We]={min:We};for(var Ie=1;Ie<=Bt;Ie++){Jt=Nt[Ie-1];for(var We=1;We<=Ut;We++){oe=Ht[We-1],Object(f.isEqual)(Jt,oe)?ge=0:ge=1;var lr=Ce[Ie-1][We].min+1,rr=Ce[Ie][We-1].min+1,$e=Ce[Ie-1][We-1].min+ge;Ce[Ie][We]=m(lr,rr,$e)}}return Ce};function L(xt,Nt){var Ht=T(xt,Nt),Bt=xt.length,Ut=Nt.length,Jt=[],oe=1,ge=1;if(Ht[Bt][Ut]!==Bt){for(var Ce=1;Ce<=Bt;Ce++){var Ie=Ht[Ce][Ce].min;ge=Ce;for(var We=oe;We<=Ut;We++)Ht[Ce][We].min<Ie&&(Ie=Ht[Ce][We].min,ge=We);oe=ge,Ht[Ce][oe].type&&Jt.push({index:Ce-1,type:Ht[Ce][oe].type})}for(var Ce=Jt.length-1;Ce>=0;Ce--)oe=Jt[Ce].index,Jt[Ce].type==="add"?xt.splice(oe,0,[].concat(xt[oe])):xt.splice(oe,1)}if(Bt=xt.length,Bt<Ut)for(var Ce=0;Ce<Ut-Bt;Ce++)xt[Bt-1][0]==="z"||xt[Bt-1][0]==="Z"?xt.splice(Bt-2,0,xt[Bt-2]):xt.push(xt[Bt-1]);return xt}function g(xt){var Nt=[];switch(xt[0]){case"M":Nt.push([xt[1],xt[2]]);break;case"L":Nt.push([xt[1],xt[2]]);break;case"A":Nt.push([xt[6],xt[7]]);break;case"Q":Nt.push([xt[3],xt[4]]),Nt.push([xt[1],xt[2]]);break;case"T":Nt.push([xt[1],xt[2]]);break;case"C":Nt.push([xt[5],xt[6]]),Nt.push([xt[1],xt[2]]),Nt.push([xt[3],xt[4]]);break;case"S":Nt.push([xt[3],xt[4]]),Nt.push([xt[1],xt[2]]);break;case"H":Nt.push([xt[1],xt[1]]);break;case"V":Nt.push([xt[1],xt[1]]);break;default:}return Nt}function j(xt,Nt,Ht){for(var Bt=[].concat(xt),Ut,Jt=1/(Ht+1),oe=g(Nt)[0],ge=1;ge<=Ht;ge++)Jt*=ge,Ut=Math.floor(xt.length*Jt),Ut===0?Bt.unshift([oe[0]*Jt+xt[Ut][0]*(1-Jt),oe[1]*Jt+xt[Ut][1]*(1-Jt)]):Bt.splice(Ut,0,[oe[0]*Jt+xt[Ut][0]*(1-Jt),oe[1]*Jt+xt[Ut][1]*(1-Jt)]);return Bt}function U(xt,Nt){if(xt.length<=1)return xt;for(var Ht,Bt=0;Bt<Nt.length;Bt++)if(xt[Bt][0]!==Nt[Bt][0])switch(Ht=g(xt[Bt]),Nt[Bt][0]){case"M":xt[Bt]=["M"].concat(Ht[0]);break;case"L":xt[Bt]=["L"].concat(Ht[0]);break;case"A":xt[Bt]=[].concat(Nt[Bt]),xt[Bt][6]=Ht[0][0],xt[Bt][7]=Ht[0][1];break;case"Q":if(Ht.length<2)if(Bt>0)Ht=j(Ht,xt[Bt-1],1);else{xt[Bt]=Nt[Bt];break}xt[Bt]=["Q"].concat(Ht.reduce(function(Ut,Jt){return Ut.concat(Jt)},[]));break;case"T":xt[Bt]=["T"].concat(Ht[0]);break;case"C":if(Ht.length<3)if(Bt>0)Ht=j(Ht,xt[Bt-1],2);else{xt[Bt]=Nt[Bt];break}xt[Bt]=["C"].concat(Ht.reduce(function(Ut,Jt){return Ut.concat(Jt)},[]));break;case"S":if(Ht.length<2)if(Bt>0)Ht=j(Ht,xt[Bt-1],1);else{xt[Bt]=Nt[Bt];break}xt[Bt]=["S"].concat(Ht.reduce(function(Ut,Jt){return Ut.concat(Jt)},[]));break;default:xt[Bt]=Nt[Bt]}return xt}function W(xt,Nt,Ht,Bt,Ut){return Ut?[["M",+xt+ +Ut,Nt],["l",Ht-Ut*2,0],["a",Ut,Ut,0,0,1,Ut,Ut],["l",0,Bt-Ut*2],["a",Ut,Ut,0,0,1,-Ut,Ut],["l",Ut*2-Ht,0],["a",Ut,Ut,0,0,1,-Ut,-Ut],["l",0,Ut*2-Bt],["a",Ut,Ut,0,0,1,Ut,-Ut],["z"]]:[["M",xt,Nt],["l",Ht,0],["l",0,Bt],["l",-Ht,0],["z"]]}var z=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,N=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),I=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig");function B(xt){if(!xt)return null;if(Object(f.isArray)(xt))return xt;var Nt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Ht=[];return String(xt).replace(N,function(Bt,Ut,Jt){var oe=[],ge=Ut.toLowerCase();if(Jt.replace(I,function(Ce,Ie){Ie&&oe.push(+Ie)}),ge==="m"&&oe.length>2&&(Ht.push([Ut].concat(oe.splice(0,2))),ge="l",Ut=Ut==="m"?"l":"L"),ge==="o"&&oe.length===1&&Ht.push([Ut,oe[0]]),ge==="r")Ht.push([Ut].concat(oe));else for(;oe.length>=Nt[ge]&&(Ht.push([Ut].concat(oe.splice(0,Nt[ge]))),!!Nt[ge]););return""}),Ht}var G=/[a-z]/;function k(xt,Nt){return[Nt[0]+(Nt[0]-xt[0]),Nt[1]+(Nt[1]-xt[1])]}function V(xt){var Nt=B(xt);if(!Nt||!Nt.length)return[["M",0,0]];for(var Ht=!1,Bt=0;Bt<Nt.length;Bt++){var Ut=Nt[Bt][0];if(G.test(Ut)||["V","H","T","S"].indexOf(Ut)>=0){Ht=!0;break}}if(!Ht)return Nt;var Jt=[],oe=0,ge=0,Ce=0,Ie=0,We=0,lr,rr,$e=Nt[0];($e[0]==="M"||$e[0]==="m")&&(oe=+$e[1],ge=+$e[2],Ce=oe,Ie=ge,We++,Jt[0]=["M",oe,ge]);for(var Bt=We,Ue=Nt.length;Bt<Ue;Bt++){var ir=Nt[Bt],xr=Jt[Bt-1],nr=[],Ut=ir[0],tn=Ut.toUpperCase();if(Ut!==tn)switch(nr[0]=tn,tn){case"A":nr[1]=ir[1],nr[2]=ir[2],nr[3]=ir[3],nr[4]=ir[4],nr[5]=ir[5],nr[6]=+ir[6]+oe,nr[7]=+ir[7]+ge;break;case"V":nr[1]=+ir[1]+ge;break;case"H":nr[1]=+ir[1]+oe;break;case"M":Ce=+ir[1]+oe,Ie=+ir[2]+ge;break;default:for(var bn=1,Ur=ir.length;bn<Ur;bn++)nr[bn]=+ir[bn]+(bn%2?oe:ge)}else nr=Nt[Bt];switch(tn){case"Z":oe=+Ce,ge=+Ie;break;case"H":oe=nr[1],nr=["L",oe,ge];break;case"V":ge=nr[1],nr=["L",oe,ge];break;case"T":oe=nr[1],ge=nr[2];var Le=k([xr[1],xr[2]],[xr[3],xr[4]]);nr=["Q",Le[0],Le[1],oe,ge];break;case"S":oe=nr[nr.length-2],ge=nr[nr.length-1];var or=xr.length,Gr=k([xr[or-4],xr[or-3]],[xr[or-2],xr[or-1]]);nr=["C",Gr[0],Gr[1],nr[1],nr[2],oe,ge];break;case"M":Ce=nr[nr.length-2],Ie=nr[nr.length-1];break;default:oe=nr[nr.length-2],ge=nr[nr.length-1]}Jt.push(nr)}return Jt}var tt=function xt(Nt,Ht,Bt,Ut,Jt,oe,ge,Ce,Ie,We){Bt===Ut&&(Bt+=1);var lr=Math.PI*120/180,rr=Math.PI/180*(+Jt||0),$e=[],Ue,ir,xr,nr,tn,bn=function(Mo,co,Sa){var Wo=Mo*Math.cos(Sa)-co*Math.sin(Sa),zo=Mo*Math.sin(Sa)+co*Math.cos(Sa);return{x:Wo,y:zo}};if(We)ir=We[0],xr=We[1],nr=We[2],tn=We[3];else{Ue=bn(Nt,Ht,-rr),Nt=Ue.x,Ht=Ue.y,Ue=bn(Ce,Ie,-rr),Ce=Ue.x,Ie=Ue.y,Nt===Ce&&Ht===Ie&&(Ce+=1,Ie+=1);var Ur=(Nt-Ce)/2,Le=(Ht-Ie)/2,or=Ur*Ur/(Bt*Bt)+Le*Le/(Ut*Ut);or>1&&(or=Math.sqrt(or),Bt=or*Bt,Ut=or*Ut);var Gr=Bt*Bt,Kr=Ut*Ut,$r=(oe===ge?-1:1)*Math.sqrt(Math.abs((Gr*Kr-Gr*Le*Le-Kr*Ur*Ur)/(Gr*Le*Le+Kr*Ur*Ur)));nr=$r*Bt*Le/Ut+(Nt+Ce)/2,tn=$r*-Ut*Ur/Bt+(Ht+Ie)/2,ir=Math.asin(Number(((Ht-tn)/Ut).toFixed(9))),xr=Math.asin(Number(((Ie-tn)/Ut).toFixed(9))),ir=Nt<nr?Math.PI-ir:ir,xr=Ce<nr?Math.PI-xr:xr,ir<0&&(ir=Math.PI*2+ir),xr<0&&(xr=Math.PI*2+xr),ge&&ir>xr&&(ir=ir-Math.PI*2),!ge&&xr>ir&&(xr=xr-Math.PI*2)}var jn=xr-ir;if(Math.abs(jn)>lr){var Qn=xr,Bn=Ce,Nn=Ie;xr=ir+lr*(ge&&xr>ir?1:-1),Ce=nr+Bt*Math.cos(xr),Ie=tn+Ut*Math.sin(xr),$e=xt(Ce,Ie,Bt,Ut,Jt,0,ge,Bn,Nn,[xr,Qn,nr,tn])}jn=xr-ir;var Xn=Math.cos(ir),ri=Math.sin(ir),In=Math.cos(xr),gi=Math.sin(xr),oa=Math.tan(jn/4),wa=4/3*Bt*oa,Ea=4/3*Ut*oa,Vi=[Nt,Ht],fa=[Nt+wa*ri,Ht-Ea*Xn],Li=[Ce+wa*gi,Ie-Ea*In],Ji=[Ce,Ie];if(fa[0]=2*Vi[0]-fa[0],fa[1]=2*Vi[1]-fa[1],We)return[fa,Li,Ji].concat($e);$e=[fa,Li,Ji].concat($e).join().split(",");for(var Xi=[],Hi=0,pa=$e.length;Hi<pa;Hi++)Xi[Hi]=Hi%2?bn($e[Hi-1],$e[Hi],rr).y:bn($e[Hi],$e[Hi+1],rr).x;return Xi},Q=function(Nt,Ht,Bt,Ut){return[Nt,Ht,Bt,Ut,Bt,Ut]},K=function(Nt,Ht,Bt,Ut,Jt,oe){var ge=1/3,Ce=2/3;return[ge*Nt+Ce*Bt,ge*Ht+Ce*Ut,ge*Jt+Ce*Bt,ge*oe+Ce*Ut,Jt,oe]};function _(xt,Nt){var Ht=V(xt),Bt=Nt&&V(Nt),Ut={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Jt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe=[],ge=[],Ce="",Ie="",We,lr=function(Ur,Le,or){var Gr,Kr;if(!Ur)return["C",Le.x,Le.y,Le.x,Le.y,Le.x,Le.y];switch(!(Ur[0]in{T:1,Q:1})&&(Le.qx=Le.qy=null),Ur[0]){case"M":Le.X=Ur[1],Le.Y=Ur[2];break;case"A":Ur=["C"].concat(tt.apply(0,[Le.x,Le.y].concat(Ur.slice(1))));break;case"S":or==="C"||or==="S"?(Gr=Le.x*2-Le.bx,Kr=Le.y*2-Le.by):(Gr=Le.x,Kr=Le.y),Ur=["C",Gr,Kr].concat(Ur.slice(1));break;case"T":or==="Q"||or==="T"?(Le.qx=Le.x*2-Le.qx,Le.qy=Le.y*2-Le.qy):(Le.qx=Le.x,Le.qy=Le.y),Ur=["C"].concat(K(Le.x,Le.y,Le.qx,Le.qy,Ur[1],Ur[2]));break;case"Q":Le.qx=Ur[1],Le.qy=Ur[2],Ur=["C"].concat(K(Le.x,Le.y,Ur[1],Ur[2],Ur[3],Ur[4]));break;case"L":Ur=["C"].concat(Q(Le.x,Le.y,Ur[1],Ur[2]));break;case"H":Ur=["C"].concat(Q(Le.x,Le.y,Ur[1],Le.y));break;case"V":Ur=["C"].concat(Q(Le.x,Le.y,Le.x,Ur[1]));break;case"Z":Ur=["C"].concat(Q(Le.x,Le.y,Le.X,Le.Y));break;default:break}return Ur},rr=function(Ur,Le){if(Ur[Le].length>7){Ur[Le].shift();for(var or=Ur[Le];or.length;)oe[Le]="A",Bt&&(ge[Le]="A"),Ur.splice(Le++,0,["C"].concat(or.splice(0,6)));Ur.splice(Le,1),We=Math.max(Ht.length,Bt&&Bt.length||0)}},$e=function(Ur,Le,or,Gr,Kr){Ur&&Le&&Ur[Kr][0]==="M"&&Le[Kr][0]!=="M"&&(Le.splice(Kr,0,["M",Gr.x,Gr.y]),or.bx=0,or.by=0,or.x=Ur[Kr][1],or.y=Ur[Kr][2],We=Math.max(Ht.length,Bt&&Bt.length||0))};We=Math.max(Ht.length,Bt&&Bt.length||0);for(var Ue=0;Ue<We;Ue++){Ht[Ue]&&(Ce=Ht[Ue][0]),Ce!=="C"&&(oe[Ue]=Ce,Ue&&(Ie=oe[Ue-1])),Ht[Ue]=lr(Ht[Ue],Ut,Ie),oe[Ue]!=="A"&&Ce==="C"&&(oe[Ue]="C"),rr(Ht,Ue),Bt&&(Bt[Ue]&&(Ce=Bt[Ue][0]),Ce!=="C"&&(ge[Ue]=Ce,Ue&&(Ie=ge[Ue-1])),Bt[Ue]=lr(Bt[Ue],Jt,Ie),ge[Ue]!=="A"&&Ce==="C"&&(ge[Ue]="C"),rr(Bt,Ue)),$e(Ht,Bt,Ut,Jt,Ue),$e(Bt,Ht,Jt,Ut,Ue);var ir=Ht[Ue],xr=Bt&&Bt[Ue],nr=ir.length,tn=Bt&&xr.length;Ut.x=ir[nr-2],Ut.y=ir[nr-1],Ut.bx=parseFloat(ir[nr-4])||Ut.x,Ut.by=parseFloat(ir[nr-3])||Ut.y,Jt.bx=Bt&&(parseFloat(xr[tn-4])||Jt.x),Jt.by=Bt&&(parseFloat(xr[tn-3])||Jt.y),Jt.x=Bt&&xr[tn-2],Jt.y=Bt&&xr[tn-1]}return Bt?[Ht,Bt]:Ht}var Y=function(Nt,Ht,Bt,Ut,Jt){var oe=-3*Ht+9*Bt-9*Ut+3*Jt,ge=Nt*oe+6*Ht-12*Bt+6*Ut;return Nt*ge-3*Ht+3*Bt},q=function(Nt,Ht,Bt,Ut,Jt,oe,ge,Ce,Ie){Ie===null&&(Ie=1),Ie=Ie>1?1:Ie<0?0:Ie;for(var We=Ie/2,lr=12,rr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$e=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ue=0,ir=0;ir<lr;ir++){var xr=We*rr[ir]+We,nr=Y(xr,Nt,Bt,Jt,ge),tn=Y(xr,Ht,Ut,oe,Ce),bn=nr*nr+tn*tn;Ue+=$e[ir]*Math.sqrt(bn)}return We*Ue},ot=function(Nt,Ht,Bt,Ut,Jt,oe,ge,Ce){for(var Ie=[],We=[[],[]],lr,rr,$e,Ue,ir=0;ir<2;++ir){if(ir===0?(rr=6*Nt-12*Bt+6*Jt,lr=-3*Nt+9*Bt-9*Jt+3*ge,$e=3*Bt-3*Nt):(rr=6*Ht-12*Ut+6*oe,lr=-3*Ht+9*Ut-9*oe+3*Ce,$e=3*Ut-3*Ht),Math.abs(lr)<1e-12){if(Math.abs(rr)<1e-12)continue;Ue=-$e/rr,Ue>0&&Ue<1&&Ie.push(Ue);continue}var xr=rr*rr-4*$e*lr,nr=Math.sqrt(xr);if(!(xr<0)){var tn=(-rr+nr)/(2*lr);tn>0&&tn<1&&Ie.push(tn);var bn=(-rr-nr)/(2*lr);bn>0&&bn<1&&Ie.push(bn)}}for(var Ur=Ie.length,Le=Ur,or;Ur--;)Ue=Ie[Ur],or=1-Ue,We[0][Ur]=or*or*or*Nt+3*or*or*Ue*Bt+3*or*Ue*Ue*Jt+Ue*Ue*Ue*ge,We[1][Ur]=or*or*or*Ht+3*or*or*Ue*Ut+3*or*Ue*Ue*oe+Ue*Ue*Ue*Ce;return We[0][Le]=Nt,We[1][Le]=Ht,We[0][Le+1]=ge,We[1][Le+1]=Ce,We[0].length=We[1].length=Le+2,{min:{x:Math.min.apply(0,We[0]),y:Math.min.apply(0,We[1])},max:{x:Math.max.apply(0,We[0]),y:Math.max.apply(0,We[1])}}},ft=function(Nt,Ht,Bt,Ut,Jt,oe,ge,Ce){if(!(Math.max(Nt,Bt)<Math.min(Jt,ge)||Math.min(Nt,Bt)>Math.max(Jt,ge)||Math.max(Ht,Ut)<Math.min(oe,Ce)||Math.min(Ht,Ut)>Math.max(oe,Ce))){var Ie=(Nt*Ut-Ht*Bt)*(Jt-ge)-(Nt-Bt)*(Jt*Ce-oe*ge),We=(Nt*Ut-Ht*Bt)*(oe-Ce)-(Ht-Ut)*(Jt*Ce-oe*ge),lr=(Nt-Bt)*(oe-Ce)-(Ht-Ut)*(Jt-ge);if(!!lr){var rr=Ie/lr,$e=We/lr,Ue=+rr.toFixed(2),ir=+$e.toFixed(2);if(!(Ue<+Math.min(Nt,Bt).toFixed(2)||Ue>+Math.max(Nt,Bt).toFixed(2)||Ue<+Math.min(Jt,ge).toFixed(2)||Ue>+Math.max(Jt,ge).toFixed(2)||ir<+Math.min(Ht,Ut).toFixed(2)||ir>+Math.max(Ht,Ut).toFixed(2)||ir<+Math.min(oe,Ce).toFixed(2)||ir>+Math.max(oe,Ce).toFixed(2)))return{x:rr,y:$e}}}},ct=function(Nt,Ht,Bt){return Ht>=Nt.x&&Ht<=Nt.x+Nt.width&&Bt>=Nt.y&&Bt<=Nt.y+Nt.height},rt=function(Nt,Ht,Bt,Ut){return Nt===null&&(Nt=Ht=Bt=Ut=0),Ht===null&&(Ht=Nt.y,Bt=Nt.width,Ut=Nt.height,Nt=Nt.x),{x:Nt,y:Ht,width:Bt,w:Bt,height:Ut,h:Ut,x2:Nt+Bt,y2:Ht+Ut,cx:Nt+Bt/2,cy:Ht+Ut/2,r1:Math.min(Bt,Ut)/2,r2:Math.max(Bt,Ut)/2,r0:Math.sqrt(Bt*Bt+Ut*Ut)/2,path:W(Nt,Ht,Bt,Ut),vb:[Nt,Ht,Bt,Ut].join(" ")}},gt=function(Nt,Ht){return Nt=rt(Nt),Ht=rt(Ht),ct(Ht,Nt.x,Nt.y)||ct(Ht,Nt.x2,Nt.y)||ct(Ht,Nt.x,Nt.y2)||ct(Ht,Nt.x2,Nt.y2)||ct(Nt,Ht.x,Ht.y)||ct(Nt,Ht.x2,Ht.y)||ct(Nt,Ht.x,Ht.y2)||ct(Nt,Ht.x2,Ht.y2)||(Nt.x<Ht.x2&&Nt.x>Ht.x||Ht.x<Nt.x2&&Ht.x>Nt.x)&&(Nt.y<Ht.y2&&Nt.y>Ht.y||Ht.y<Nt.y2&&Ht.y>Nt.y)},Et=function(Nt,Ht,Bt,Ut,Jt,oe,ge,Ce){Object(f.isArray)(Nt)||(Nt=[Nt,Ht,Bt,Ut,Jt,oe,ge,Ce]);var Ie=ot.apply(null,Nt);return rt(Ie.min.x,Ie.min.y,Ie.max.x-Ie.min.x,Ie.max.y-Ie.min.y)},Gt=function(Nt,Ht,Bt,Ut,Jt,oe,ge,Ce,Ie){var We=1-Ie,lr=Math.pow(We,3),rr=Math.pow(We,2),$e=Ie*Ie,Ue=$e*Ie,ir=lr*Nt+rr*3*Ie*Bt+We*3*Ie*Ie*Jt+Ue*ge,xr=lr*Ht+rr*3*Ie*Ut+We*3*Ie*Ie*oe+Ue*Ce,nr=Nt+2*Ie*(Bt-Nt)+$e*(Jt-2*Bt+Nt),tn=Ht+2*Ie*(Ut-Ht)+$e*(oe-2*Ut+Ht),bn=Bt+2*Ie*(Jt-Bt)+$e*(ge-2*Jt+Bt),Ur=Ut+2*Ie*(oe-Ut)+$e*(Ce-2*oe+Ut),Le=We*Nt+Ie*Bt,or=We*Ht+Ie*Ut,Gr=We*Jt+Ie*ge,Kr=We*oe+Ie*Ce,$r=90-Math.atan2(nr-bn,tn-Ur)*180/Math.PI;return{x:ir,y:xr,m:{x:nr,y:tn},n:{x:bn,y:Ur},start:{x:Le,y:or},end:{x:Gr,y:Kr},alpha:$r}},Yt=function(Nt,Ht,Bt){var Ut=Et(Nt),Jt=Et(Ht);if(!gt(Ut,Jt))return Bt?0:[];for(var oe=q.apply(0,Nt),ge=q.apply(0,Ht),Ce=~~(oe/8),Ie=~~(ge/8),We=[],lr=[],rr={},$e=Bt?0:[],Ue=0;Ue<Ce+1;Ue++){var ir=Gt.apply(0,Nt.concat(Ue/Ce));We.push({x:ir.x,y:ir.y,t:Ue/Ce})}for(var Ue=0;Ue<Ie+1;Ue++){var ir=Gt.apply(0,Ht.concat(Ue/Ie));lr.push({x:ir.x,y:ir.y,t:Ue/Ie})}for(var Ue=0;Ue<Ce;Ue++)for(var xr=0;xr<Ie;xr++){var nr=We[Ue],tn=We[Ue+1],bn=lr[xr],Ur=lr[xr+1],Le=Math.abs(tn.x-nr.x)<.001?"y":"x",or=Math.abs(Ur.x-bn.x)<.001?"y":"x",Gr=ft(nr.x,nr.y,tn.x,tn.y,bn.x,bn.y,Ur.x,Ur.y);if(Gr){if(rr[Gr.x.toFixed(4)]===Gr.y.toFixed(4))continue;rr[Gr.x.toFixed(4)]=Gr.y.toFixed(4);var Kr=nr.t+Math.abs((Gr[Le]-nr[Le])/(tn[Le]-nr[Le]))*(tn.t-nr.t),$r=bn.t+Math.abs((Gr[or]-bn[or])/(Ur[or]-bn[or]))*(Ur.t-bn.t);Kr>=0&&Kr<=1&&$r>=0&&$r<=1&&(Bt?$e++:$e.push({x:Gr.x,y:Gr.y,t1:Kr,t2:$r}))}}return $e},Xt=function(Nt,Ht,Bt){Nt=_(Nt),Ht=_(Ht);for(var Ut,Jt,oe,ge,Ce,Ie,We,lr,rr,$e,Ue=Bt?0:[],ir=0,xr=Nt.length;ir<xr;ir++){var nr=Nt[ir];if(nr[0]==="M")Ut=Ce=nr[1],Jt=Ie=nr[2];else{nr[0]==="C"?(rr=[Ut,Jt].concat(nr.slice(1)),Ut=rr[6],Jt=rr[7]):(rr=[Ut,Jt,Ut,Jt,Ce,Ie,Ce,Ie],Ut=Ce,Jt=Ie);for(var tn=0,bn=Ht.length;tn<bn;tn++){var Ur=Ht[tn];if(Ur[0]==="M")oe=We=Ur[1],ge=lr=Ur[2];else{Ur[0]==="C"?($e=[oe,ge].concat(Ur.slice(1)),oe=$e[6],ge=$e[7]):($e=[oe,ge,oe,ge,We,lr,We,lr],oe=We,ge=lr);var Le=Yt(rr,$e,Bt);if(Bt)Ue+=Le;else{for(var or=0,Gr=Le.length;or<Gr;or++)Le[or].segment1=ir,Le[or].segment2=tn,Le[or].bez1=rr,Le[or].bez2=$e;Ue=Ue.concat(Le)}}}}}return Ue};function vt(xt,Nt){return Xt(xt,Nt)}var mt=/,?([a-z]),?/gi;function ut(xt){return xt.join(",").replace(mt,"$1")}function st(xt){return Math.sqrt(xt[0]*xt[0]+xt[1]*xt[1])}function lt(xt,Nt){return st(xt)*st(Nt)?(xt[0]*Nt[0]+xt[1]*Nt[1])/(st(xt)*st(Nt)):1}function Tt(xt,Nt){return(xt[0]*Nt[1]<xt[1]*Nt[0]?-1:1)*Math.acos(lt(xt,Nt))}function Ot(xt,Nt){return xt[0]===Nt[0]&&xt[1]===Nt[1]}function et(xt,Nt){var Ht=Nt[1],Bt=Nt[2],Ut=Object(f.mod)(Object(f.toRadian)(Nt[3]),Math.PI*2),Jt=Nt[4],oe=Nt[5],ge=xt[0],Ce=xt[1],Ie=Nt[6],We=Nt[7],lr=Math.cos(Ut)*(ge-Ie)/2+Math.sin(Ut)*(Ce-We)/2,rr=-1*Math.sin(Ut)*(ge-Ie)/2+Math.cos(Ut)*(Ce-We)/2,$e=lr*lr/(Ht*Ht)+rr*rr/(Bt*Bt);$e>1&&(Ht*=Math.sqrt($e),Bt*=Math.sqrt($e));var Ue=Ht*Ht*(rr*rr)+Bt*Bt*(lr*lr),ir=Ue?Math.sqrt((Ht*Ht*(Bt*Bt)-Ue)/Ue):1;Jt===oe&&(ir*=-1),isNaN(ir)&&(ir=0);var xr=Bt?ir*Ht*rr/Bt:0,nr=Ht?ir*-Bt*lr/Ht:0,tn=(ge+Ie)/2+Math.cos(Ut)*xr-Math.sin(Ut)*nr,bn=(Ce+We)/2+Math.sin(Ut)*xr+Math.cos(Ut)*nr,Ur=[(lr-xr)/Ht,(rr-nr)/Bt],Le=[(-1*lr-xr)/Ht,(-1*rr-nr)/Bt],or=Tt([1,0],Ur),Gr=Tt(Ur,Le);return lt(Ur,Le)<=-1&&(Gr=Math.PI),lt(Ur,Le)>=1&&(Gr=0),oe===0&&Gr>0&&(Gr=Gr-2*Math.PI),oe===1&&Gr<0&&(Gr=Gr+2*Math.PI),{cx:tn,cy:bn,rx:Ot(xt,[Ie,We])?0:Ht,ry:Ot(xt,[Ie,We])?0:Bt,startAngle:or,endAngle:or+Gr,xRotation:Ut,arcFlag:Jt,sweepFlag:oe}}function H(xt,Nt){return[Nt[0]+(Nt[0]-xt[0]),Nt[1]+(Nt[1]-xt[1])]}function pt(xt){xt=C(xt);for(var Nt=[],Ht=null,Bt=null,Ut=null,Jt=0,oe=xt.length,ge=0;ge<oe;ge++){var Ce=xt[ge];Bt=xt[ge+1];var Ie=Ce[0],We={command:Ie,prePoint:Ht,params:Ce,startTangent:null,endTangent:null};switch(Ie){case"M":Ut=[Ce[1],Ce[2]],Jt=ge;break;case"A":var lr=et(Ht,Ce);We.arcParams=lr;break;default:break}if(Ie==="Z")Ht=Ut,Bt=xt[Jt+1];else{var rr=Ce.length;Ht=[Ce[rr-2],Ce[rr-1]]}Bt&&Bt[0]==="Z"&&(Bt=xt[Jt],Nt[Jt]&&(Nt[Jt].prePoint=Ht)),We.currentPoint=Ht,Nt[Jt]&&Ot(Ht,Nt[Jt].currentPoint)&&(Nt[Jt].prePoint=We.prePoint);var $e=Bt?[Bt[Bt.length-2],Bt[Bt.length-1]]:null;We.nextPoint=$e;var Ue=We.prePoint;if(["L","H","V"].includes(Ie))We.startTangent=[Ue[0]-Ht[0],Ue[1]-Ht[1]],We.endTangent=[Ht[0]-Ue[0],Ht[1]-Ue[1]];else if(Ie==="Q"){var ir=[Ce[1],Ce[2]];We.startTangent=[Ue[0]-ir[0],Ue[1]-ir[1]],We.endTangent=[Ht[0]-ir[0],Ht[1]-ir[1]]}else if(Ie==="T"){var xr=Nt[ge-1],ir=H(xr.currentPoint,Ue);xr.command==="Q"?(We.command="Q",We.startTangent=[Ue[0]-ir[0],Ue[1]-ir[1]],We.endTangent=[Ht[0]-ir[0],Ht[1]-ir[1]]):(We.command="TL",We.startTangent=[Ue[0]-Ht[0],Ue[1]-Ht[1]],We.endTangent=[Ht[0]-Ue[0],Ht[1]-Ue[1]])}else if(Ie==="C"){var nr=[Ce[1],Ce[2]],tn=[Ce[3],Ce[4]];We.startTangent=[Ue[0]-nr[0],Ue[1]-nr[1]],We.endTangent=[Ht[0]-tn[0],Ht[1]-tn[1]]}else if(Ie==="S"){var xr=Nt[ge-1],nr=H(xr.currentPoint,Ue),tn=[Ce[1],Ce[2]];xr.command==="C"?(We.command="C",We.startTangent=[Ue[0]-nr[0],Ue[1]-nr[1]],We.endTangent=[Ht[0]-tn[0],Ht[1]-tn[1]]):(We.command="SQ",We.startTangent=[Ue[0]-tn[0],Ue[1]-tn[1]],We.endTangent=[Ht[0]-tn[0],Ht[1]-tn[1]])}else if(Ie==="A"){var bn=.001,Ur=We.arcParams||{},Le=Ur.cx,or=Le===void 0?0:Le,Gr=Ur.cy,Kr=Gr===void 0?0:Gr,$r=Ur.rx,jn=$r===void 0?0:$r,Qn=Ur.ry,Bn=Qn===void 0?0:Qn,Nn=Ur.sweepFlag,Xn=Nn===void 0?0:Nn,ri=Ur.startAngle,In=ri===void 0?0:ri,gi=Ur.endAngle,oa=gi===void 0?0:gi;Xn===0&&(bn*=-1);var wa=jn*Math.cos(In-bn)+or,Ea=Bn*Math.sin(In-bn)+Kr;We.startTangent=[wa-Ut[0],Ea-Ut[1]];var Vi=jn*Math.cos(In+oa+bn)+or,fa=Bn*Math.sin(In+oa-bn)+Kr;We.endTangent=[Ue[0]-Vi,Ue[1]-fa]}Nt.push(We)}return Nt}var nt=function(Nt,Ht,Bt){return Nt>=Ht&&Nt<=Bt};function yt(xt,Nt,Ht,Bt){var Ut=.001,Jt={x:Ht.x-xt.x,y:Ht.y-xt.y},oe={x:Nt.x-xt.x,y:Nt.y-xt.y},ge={x:Bt.x-Ht.x,y:Bt.y-Ht.y},Ce=oe.x*ge.y-oe.y*ge.x,Ie=Ce*Ce,We=oe.x*oe.x+oe.y*oe.y,lr=ge.x*ge.x+ge.y*ge.y,rr=null;if(Ie>Ut*We*lr){var $e=(Jt.x*ge.y-Jt.y*ge.x)/Ce,Ue=(Jt.x*oe.y-Jt.y*oe.x)/Ce;nt($e,0,1)&&nt(Ue,0,1)&&(rr={x:xt.x+$e*oe.x,y:xt.y+$e*oe.y})}return rr}var Pt=1e-6;function Rt(xt){return Math.abs(xt)<Pt?0:xt<0?-1:1}function Wt(xt,Nt,Ht){return(Ht[0]-xt[0])*(Nt[1]-xt[1])==(Nt[0]-xt[0])*(Ht[1]-xt[1])&&Math.min(xt[0],Nt[0])<=Ht[0]&&Ht[0]<=Math.max(xt[0],Nt[0])&&Math.min(xt[1],Nt[1])<=Ht[1]&&Ht[1]<=Math.max(xt[1],Nt[1])}function Vt(xt,Nt,Ht){var Bt=!1,Ut=xt.length;if(Ut<=2)return!1;for(var Jt=0;Jt<Ut;Jt++){var oe=xt[Jt],ge=xt[(Jt+1)%Ut];if(Wt(oe,ge,[Nt,Ht]))return!0;Rt(oe[1]-Ht)>0!=Rt(ge[1]-Ht)>0&&Rt(Nt-(Ht-oe[1])*(oe[0]-ge[0])/(oe[1]-ge[1])-oe[0])<0&&(Bt=!Bt)}return Bt}function Lt(xt){for(var Nt=[],Ht=xt.length,Bt=0;Bt<Ht-1;Bt++){var Ut=xt[Bt],Jt=xt[Bt+1];Nt.push({from:{x:Ut[0],y:Ut[1]},to:{x:Jt[0],y:Jt[1]}})}if(Nt.length>1){var oe=xt[0],ge=xt[Ht-1];Nt.push({from:{x:ge[0],y:ge[1]},to:{x:oe[0],y:oe[1]}})}return Nt}function Ct(xt,Nt){var Ht=!1;return Object(f.each)(xt,function(Bt){if(yt(Bt.from,Bt.to,Nt.from,Nt.to))return Ht=!0,!1}),Ht}function at(xt){var Nt=xt.map(function(Bt){return Bt[0]}),Ht=xt.map(function(Bt){return Bt[1]});return{minX:Math.min.apply(null,Nt),maxX:Math.max.apply(null,Nt),minY:Math.min.apply(null,Ht),maxY:Math.max.apply(null,Ht)}}function It(xt,Nt){return!(Nt.minX>xt.maxX||Nt.maxX<xt.minX||Nt.minY>xt.maxY||Nt.maxY<xt.minY)}function Ft(xt,Nt){if(xt.length<2||Nt.length<2)return!1;var Ht=at(xt),Bt=at(Nt);if(!It(Ht,Bt))return!1;var Ut=!1;if(Object(f.each)(Nt,function(Ce){if(Vt(xt,Ce[0],Ce[1]))return Ut=!0,!1}),Ut||(Object(f.each)(xt,function(Ce){if(Vt(Nt,Ce[0],Ce[1]))return Ut=!0,!1}),Ut))return!0;var Jt=Lt(xt),oe=Lt(Nt),ge=!1;return Object(f.each)(oe,function(Ce){if(Ct(Jt,Ce))return ge=!0,!1}),ge}},Wdwj:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=function(){function x(O){this.count=O.length,this.parent={};for(var C=0,P=O;C<P.length;C++){var b=P[C];this.parent[b]=b}}return x.prototype.find=function(O){for(;this.parent[O]!==O;)O=this.parent[O];return O},x.prototype.union=function(O,C){var P=this.find(O),b=this.find(C);P!==b&&(P<b?(this.parent[C]!==C&&this.union(this.parent[C],O),this.parent[C]=this.parent[O]):(this.parent[O]!==O&&this.union(this.parent[O],C),this.parent[O]=this.parent[C]))},x.prototype.connected=function(O,C){return this.find(O)===this.find(C)},x}(),o=f;A.default=o},WemT:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.optional=void 0;var f=a("9L8m"),o=a("rMkn"),x=a("ZLnY");function O(){return function(C,P,b){var S=new o.Metadata(f.OPTIONAL_TAG,!0);typeof b=="number"?x.tagParameter(C,P,b,S):x.tagProperty(C,P,S)}}A.optional=O},WlgG:function(jt,A,a){var f=a("Evga"),o=4;function x(O){return f(O,o)}jt.exports=x},Wx0M:function(jt,A,a){var f=a("1ban");function o(){for(var P={},b=Object.keys(f),S=b.length,y=0;y<S;y++)P[b[y]]={distance:-1,parent:null};return P}function x(P){var b=o(),S=[P];for(b[P].distance=0;S.length;)for(var y=S.pop(),E=Object.keys(f[y]),m=E.length,T=0;T<m;T++){var L=E[T],g=b[L];g.distance===-1&&(g.distance=b[y].distance+1,g.parent=y,S.unshift(L))}return b}function O(P,b){return function(S){return b(P(S))}}function C(P,b){for(var S=[b[P].parent,P],y=f[b[P].parent][P],E=b[P].parent;b[E].parent;)S.unshift(b[E].parent),y=O(f[b[E].parent][E],y),E=b[E].parent;return y.conversion=S,y}jt.exports=function(P){for(var b=x(P),S={},y=Object.keys(b),E=y.length,m=0;m<E;m++){var T=y[m],L=b[T];L.parent!==null&&(S[T]=C(T,b))}return S}},WzGa:function(jt,A){jt.exports=a;function a(f,o,x){var O=o[0],C=o[1];return f[0]=x[0]*O+x[2]*C+x[4],f[1]=x[1]*O+x[3]*C+x[5],f}},Wzpx:function(jt,A,a){var f=a("S8CN"),o=a("hQ5t"),x=a("8Lhm"),O=Math.max;function C(P,b,S){var y=P==null?0:P.length;if(!y)return-1;var E=S==null?0:x(S);return E<0&&(E=O(y+E,0)),f(P,o(b,3),E)}jt.exports=C},X4CS:function(jt,A){jt.exports=a;function a(f,o,x){return f[0]=Math.min(o[0],x[0]),f[1]=Math.min(o[1],x[1]),f}},X5ku:function(jt,A){},XFzX:function(jt,A){},XN3X:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});var f={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},XSdR:function(jt,A,a){var f;try{f={cloneDeep:a("CvKH"),constant:a("vqXp"),defaults:a("Vlje"),each:a("8hqx"),filter:a("NFwm"),find:a("u3Fj"),flatten:a("qTvU"),forEach:a("KAHC"),forIn:a("OFdx"),has:a("v/6M"),isUndefined:a("4tFv"),last:a("bkR+"),map:a("N7LH"),mapValues:a("GCuf"),max:a("tCm8"),merge:a("Ixdt"),min:a("gCgN"),minBy:a("HMFt"),now:a("H4kY"),pick:a("H+Qf"),range:a("t3mm"),reduce:a("5+Yv"),sortBy:a("+o0w"),uniqueId:a("ax0x"),values:a("jHy/"),zipObject:a("sNXT")}}catch(o){}f||(f=window._),jt.exports=f},Xure:function(jt,A,a){var f=a("ql+n");jt.exports=x;var o=f.constant(1);function x(C,P,b){return O(C,P||o,b||function(S){return C.outEdges(S)})}function O(C,P,b){var S={},y=C.nodes();return y.forEach(function(E){S[E]={},S[E][E]={distance:0},y.forEach(function(m){E!==m&&(S[E][m]={distance:Number.POSITIVE_INFINITY})}),b(E).forEach(function(m){var T=m.v===E?m.w:m.v,L=P(m);S[E][T]={distance:L,predecessor:E}})}),y.forEach(function(E){var m=S[E];y.forEach(function(T){var L=S[T];y.forEach(function(g){var j=L[E],U=m[g],W=L[g],z=j.distance+U.distance;z<W.distance&&(W.distance=z,W.predecessor=U.predecessor)})})}),S}},Y26w:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Target=void 0;var f=a("9L8m"),o=a("qSJf"),x=a("rMkn"),O=a("3RHZ"),C=function(){function P(b,S,y,E){this.id=o.id(),this.type=b,this.serviceIdentifier=y,this.name=new O.QueryableString(S||""),this.metadata=new Array;var m=null;typeof E=="string"?m=new x.Metadata(f.NAMED_TAG,E):E instanceof x.Metadata&&(m=E),m!==null&&this.metadata.push(m)}return P.prototype.hasTag=function(b){for(var S=0,y=this.metadata;S<y.length;S++){var E=y[S];if(E.key===b)return!0}return!1},P.prototype.isArray=function(){return this.hasTag(f.MULTI_INJECT_TAG)},P.prototype.matchesArray=function(b){return this.matchesTag(f.MULTI_INJECT_TAG)(b)},P.prototype.isNamed=function(){return this.hasTag(f.NAMED_TAG)},P.prototype.isTagged=function(){return this.metadata.some(function(b){return f.NON_CUSTOM_TAG_KEYS.every(function(S){return b.key!==S})})},P.prototype.isOptional=function(){return this.matchesTag(f.OPTIONAL_TAG)(!0)},P.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(b){return b.key===f.NAMED_TAG})[0]:null},P.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(b){return f.NON_CUSTOM_TAG_KEYS.every(function(S){return b.key!==S})}):null},P.prototype.matchesNamedTag=function(b){return this.matchesTag(f.NAMED_TAG)(b)},P.prototype.matchesTag=function(b){var S=this;return function(y){for(var E=0,m=S.metadata;E<m.length;E++){var T=m[E];if(T.key===b&&T.value===y)return!0}return!1}},P}();A.Target=C},"Y8+p":function(jt,A,a){"use strict";a.d(A,"a",function(){return U});var f=a("CMID"),o=a("tqeG"),x=a("nHjW"),O=a("N2cT"),C=a("8DqP");function P(W){var z=W.chart,N=W.options,I=N.data,B=N.lineStyle,G=N.color,k=N.point,V=N.area;z.data(I);var tt=Object(x.c)({},W,{options:{line:{style:B,color:G},point:k&&Object(f.__assign)({color:G},k),area:V&&Object(f.__assign)({color:G},V),label:void 0}}),Q=Object(x.c)({},tt,{options:{tooltip:!1}}),K=(k==null?void 0:k.state)||N.state,_=Object(x.c)({},tt,{options:{tooltip:!1,state:K}});return Object(C.d)(tt),Object(C.e)(_),Object(C.a)(Q),W}function b(W){var z,N=W.options,I=N.xAxis,B=N.yAxis,G=N.xField,k=N.yField;return Object(x.f)(Object(O.f)((z={},z[G]=I,z[k]=B,z)))(W)}function S(W){var z=W.chart,N=W.options,I=N.radius,B=N.startAngle,G=N.endAngle;return z.coordinate("polar",{radius:I,startAngle:B,endAngle:G}),W}function y(W){var z=W.chart,N=W.options,I=N.xField,B=N.xAxis,G=N.yField,k=N.yAxis;return z.axis(I,B),z.axis(G,k),W}function E(W){var z=W.chart,N=W.options,I=N.label,B=N.yField,G=Object(x.d)(z,"line");if(!I)G.label(!1);else{var k=I.callback,V=Object(f.__rest)(I,["callback"]);G.label({fields:[B],callback:k,cfg:Object(x.w)(V)})}return W}function m(W){return Object(x.f)(P,b,O.j,S,y,O.d,O.k,E,O.c,O.a,Object(O.b)())(W)}var T=a("JUmX"),L=a("jg4I"),g=function(W){Object(f.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),z.prototype.getTooltipItems=function(N){var I=this.getTooltipCfg(),B=I.shared,G=I.title,k=W.prototype.getTooltipItems.call(this,N);if(k.length>0){var V=this.view.geometries[0],tt=V.dataArray,Q=k[0].name,K=[];return tt.forEach(function(_){_.forEach(function(Y){var q=T.Util.getTooltipItems(Y,V),ot=q[0];if(!B&&ot&&ot.name===Q){var ft=Object(L.isNil)(G)?Q:G;K.push(Object(f.__assign)(Object(f.__assign)({},ot),{name:ot.title,title:ft}))}else if(B&&ot){var ft=Object(L.isNil)(G)?ot.name||Q:G;K.push(Object(f.__assign)(Object(f.__assign)({},ot),{name:ot.title,title:ft}))}})}),K}return[]},z}(T.TooltipController);Object(T.registerComponentController)("radar-tooltip",g);var j=function(W){Object(f.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.init=function(){var N=this.context.view;N.removeInteraction("tooltip")},z.prototype.show=function(){var N=this.context.event,I=this.getTooltipController();I.showTooltip({x:N.x,y:N.y})},z.prototype.hide=function(){var N=this.getTooltipController();N.hideTooltip()},z.prototype.getTooltipController=function(){var N=this.context.view;return N.getController("radar-tooltip")},z}(T.Action);Object(T.registerAction)("radar-tooltip",j),Object(T.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var U=function(W){Object(f.__extends)(z,W);function z(){var N=W!==null&&W.apply(this,arguments)||this;return N.type="radar",N}return z.prototype.changeData=function(N){this.updateOption({data:N}),this.chart.changeData(N)},z.prototype.getDefaultOptions=function(){return Object(x.c)({},W.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},z.prototype.getSchemaAdaptor=function(){return m},z}(o.b)},YKhI:function(jt,A,a){var f=a("0Zv/");function o(x,O){if(x!==O){var C=x!==void 0,P=x===null,b=x===x,S=f(x),y=O!==void 0,E=O===null,m=O===O,T=f(O);if(!E&&!T&&!S&&x>O||S&&y&&m&&!E&&!T||P&&y&&m||!C&&m||!b)return 1;if(!P&&!S&&!T&&x<O||T&&C&&b&&!P&&!S||E&&C&&b||!y&&b||!m)return-1}return 0}jt.exports=o},YcyD:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiBindToService=A.getServiceIdentifierAsString=A.typeConstraint=A.namedConstraint=A.taggedConstraint=A.traverseAncerstors=A.decorate=A.id=A.MetadataReader=A.postConstruct=A.targetName=A.multiInject=A.unmanaged=A.optional=A.LazyServiceIdentifer=A.inject=A.named=A.tagged=A.injectable=A.ContainerModule=A.AsyncContainerModule=A.TargetTypeEnum=A.BindingTypeEnum=A.BindingScopeEnum=A.Container=A.METADATA_KEY=void 0;var f=a("9L8m");A.METADATA_KEY=f;var o=a("9u1Y");Object.defineProperty(A,"Container",{enumerable:!0,get:function(){return o.Container}});var x=a("2+60");Object.defineProperty(A,"BindingScopeEnum",{enumerable:!0,get:function(){return x.BindingScopeEnum}}),Object.defineProperty(A,"BindingTypeEnum",{enumerable:!0,get:function(){return x.BindingTypeEnum}}),Object.defineProperty(A,"TargetTypeEnum",{enumerable:!0,get:function(){return x.TargetTypeEnum}});var O=a("Q8h2");Object.defineProperty(A,"AsyncContainerModule",{enumerable:!0,get:function(){return O.AsyncContainerModule}}),Object.defineProperty(A,"ContainerModule",{enumerable:!0,get:function(){return O.ContainerModule}});var C=a("koGu");Object.defineProperty(A,"injectable",{enumerable:!0,get:function(){return C.injectable}});var P=a("Itlo");Object.defineProperty(A,"tagged",{enumerable:!0,get:function(){return P.tagged}});var b=a("u6QS");Object.defineProperty(A,"named",{enumerable:!0,get:function(){return b.named}});var S=a("tjpL");Object.defineProperty(A,"inject",{enumerable:!0,get:function(){return S.inject}}),Object.defineProperty(A,"LazyServiceIdentifer",{enumerable:!0,get:function(){return S.LazyServiceIdentifer}});var y=a("WemT");Object.defineProperty(A,"optional",{enumerable:!0,get:function(){return y.optional}});var E=a("Mz7Q");Object.defineProperty(A,"unmanaged",{enumerable:!0,get:function(){return E.unmanaged}});var m=a("HWsn");Object.defineProperty(A,"multiInject",{enumerable:!0,get:function(){return m.multiInject}});var T=a("Ca6f");Object.defineProperty(A,"targetName",{enumerable:!0,get:function(){return T.targetName}});var L=a("CdXo");Object.defineProperty(A,"postConstruct",{enumerable:!0,get:function(){return L.postConstruct}});var g=a("/dUy");Object.defineProperty(A,"MetadataReader",{enumerable:!0,get:function(){return g.MetadataReader}});var j=a("qSJf");Object.defineProperty(A,"id",{enumerable:!0,get:function(){return j.id}});var U=a("ZLnY");Object.defineProperty(A,"decorate",{enumerable:!0,get:function(){return U.decorate}});var W=a("09fY");Object.defineProperty(A,"traverseAncerstors",{enumerable:!0,get:function(){return W.traverseAncerstors}}),Object.defineProperty(A,"taggedConstraint",{enumerable:!0,get:function(){return W.taggedConstraint}}),Object.defineProperty(A,"namedConstraint",{enumerable:!0,get:function(){return W.namedConstraint}}),Object.defineProperty(A,"typeConstraint",{enumerable:!0,get:function(){return W.typeConstraint}});var z=a("Rph/");Object.defineProperty(A,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return z.getServiceIdentifierAsString}});var N=a("Zub2");Object.defineProperty(A,"multiBindToService",{enumerable:!0,get:function(){return N.multiBindToService}})},Z23w:function(jt,A){jt.exports=a;function a(f){var o=new Float32Array(2);return o[0]=f[0],o[1]=f[1],o}},Z313:function(jt,A,a){"use strict";a.d(A,"a",function(){return K});var f=a("CMID"),o=a("JUmX"),x=a("tqeG"),O=a("jg4I"),C=a("N2cT"),P=a("nHjW"),b=a("8DqP"),S="liquid";function y(_){return[{percent:_,type:S}]}function E(_){var Y=_.chart,q=_.options,ot=q.percent,ft=q.liquidStyle,ct=q.radius,rt=q.outline,gt=q.wave,Et=q.shape;Y.scale({percent:{min:0,max:1}}),Y.data(y(ot));var Gt=q.color||Y.getTheme().defaultColor,Yt=Object(P.c)({},_,{options:{xField:"type",yField:"percent",widthRatio:ct,interval:{color:Gt,style:ft,shape:"liquid-fill-gauge"}}}),Xt=Object(b.c)(Yt).ext,vt=Xt.geometry,mt=Y.getTheme().background,ut={radius:ct,outline:rt,wave:gt,shape:Et,background:mt};return vt.customInfo(ut),Y.legend(!1),Y.axis(!1),Y.tooltip(!1),_}function m(_,Y){var q=_.chart,ot=_.options,ft=ot.statistic,ct=ot.percent,rt=ot.meta;q.getController("annotation").clear(!0);var gt=Object(O.get)(rt,["percent","formatter"])||function(Gt){return(Gt*100).toFixed(2)+"%"},Et=ft.content;return Et&&(Et=Object(P.c)({},Et,{content:Object(O.isNil)(Et.content)?gt(ct):Et.content})),Object(P.u)(q,{statistic:Object(f.__assign)(Object(f.__assign)({},ft),{content:Et}),plotType:"liquid"},{percent:ct}),Y&&q.render(!0),_}function T(_){return Object(P.f)(C.j,E,m,Object(C.f)({}),C.a,C.c)(_)}var L={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},g=a("bLhI"),j=5e3;function U(_,Y,q){return _+(Y-_)*q}function W(_){var Y=Object(f.__assign)({opacity:1},_.style);return _.color&&!Y.fill&&(Y.fill=_.color),Y}function z(_){var Y={fill:"#fff",fillOpacity:0,lineWidth:4},q=Object(O.mix)({},Y,_.style);return _.color&&!q.stroke&&(q.stroke=_.color),Object(O.isNumber)(_.opacity)&&(q.opacity=q.strokeOpacity=_.opacity),q}function N(_,Y,q,ot){return Y===0?[[_+1/2*q/Math.PI/2,ot/2],[_+1/2*q/Math.PI,ot],[_+q/4,ot]]:Y===1?[[_+1/2*q/Math.PI/2*(Math.PI-2),ot],[_+1/2*q/Math.PI/2*(Math.PI-1),ot/2],[_+q/4,0]]:Y===2?[[_+1/2*q/Math.PI/2,-ot/2],[_+1/2*q/Math.PI,-ot],[_+q/4,-ot]]:[[_+1/2*q/Math.PI/2*(Math.PI-2),-ot],[_+1/2*q/Math.PI/2*(Math.PI-1),-ot/2],[_+q/4,0]]}function I(_,Y,q,ot,ft,ct,rt){for(var gt=Math.ceil(2*_/q*4)*4,Et=[],Gt=ot;Gt<-Math.PI*2;)Gt+=Math.PI*2;for(;Gt>0;)Gt-=Math.PI*2;Gt=Gt/Math.PI/2*q;var Yt=ct-_+Gt-_*2;Et.push(["M",Yt,Y]);for(var Xt=0,vt=0;vt<gt;++vt){var mt=vt%4,ut=N(vt*q/4,mt,q,ft);Et.push(["C",ut[0][0]+Yt,-ut[0][1]+Y,ut[1][0]+Yt,-ut[1][1]+Y,ut[2][0]+Yt,-ut[2][1]+Y]),vt===gt-1&&(Xt=ut[2][0])}return Et.push(["L",Xt+Yt,rt+_]),Et.push(["L",Yt,rt+_]),Et.push(["Z"]),Et}function B(_,Y,q,ot,ft,ct,rt,gt,Et){for(var Gt=ft.fill,Yt=ft.opacity,Xt=rt.getBBox(),vt=Xt.maxX-Xt.minX,mt=Xt.maxY-Xt.minY,ut=0;ut<ot;ut++){var st=ot<=1?0:ut/(ot-1),lt=ct.addShape("path",{name:"waterwave-path",attrs:{path:I(gt,Xt.minY+mt*q,Et,0,vt/32,_,Y),fill:Gt,opacity:U(.2,.9,st)*Yt}});try{var Tt=Object(g.a)([["t",Et,0]]);lt.stopAnimate(),lt.animate({matrix:Tt},{duration:U(.5*j,j,st),repeat:!0})}catch(Ot){console.warn("off-screen group animate error!")}}}function G(_,Y,q,ot){var ft=q*2/3,ct=Math.max(ft,ot),rt=ft/2,gt=_,Et=rt+Y-ct/2,Gt=Math.asin(rt/((ct-rt)*.85)),Yt=Math.sin(Gt)*rt,Xt=Math.cos(Gt)*rt,vt=gt-Xt,mt=Et+Yt,ut=_,st=Et+rt/Math.sin(Gt);return`
      M `+vt+" "+mt+`
      A `+rt+" "+rt+" 0 1 1 "+(vt+Xt*2)+" "+mt+`
      Q `+ut+" "+st+" "+_+" "+(Y+ct/2)+`
      Q `+ut+" "+st+" "+vt+" "+mt+`
      Z 
    `}function k(_,Y,q,ot){var ft=q/2,ct=ot/2;return`
      M `+_+" "+(Y-ct)+` 
      a `+ft+" "+ct+" 0 1 0 0 "+ct*2+`
      a `+ft+" "+ct+" 0 1 0 0 "+-ct*2+`
      Z
    `}function V(_,Y,q,ot){var ft=ot/2,ct=q/2;return`
      M `+_+" "+(Y-ft)+`
      L `+(_+ct)+" "+Y+`
      L `+_+" "+(Y+ft)+`
      L `+(_-ct)+" "+Y+`
      Z
    `}function tt(_,Y,q,ot){var ft=ot/2,ct=q/2;return`
      M `+_+" "+(Y-ft)+`
      L `+(_+ct)+" "+(Y+ft)+`
      L `+(_-ct)+" "+(Y+ft)+`
      Z
    `}function Q(_,Y,q,ot){var ft=.618,ct=ot/2,rt=q/2*ft;return`
      M `+(_-rt)+" "+(Y-ct)+`
      L `+(_+rt)+" "+(Y-ct)+`
      L `+(_+rt)+" "+(Y+ct)+`
      L `+(_-rt)+" "+(Y+ct)+`
      Z
    `}Object(o.registerShape)("interval","liquid-fill-gauge",{draw:function(Y,q){var ot=.5,ft=.5,ct=Y.customInfo,rt=ct,gt=rt.radius,Et=rt.shape,Gt=rt.background,Yt=ct.outline,Xt=ct.wave,vt=Yt.border,mt=Yt.distance,ut=Xt.count,st=Xt.length,lt=Object(O.reduce)(Y.points,function(Ct,at){return Math.min(Ct,at.x)},Infinity),Tt=this.parsePoint({x:ot,y:ft}),Ot=this.parsePoint({x:lt,y:ft}),et=Tt.x-Ot.x,H=Math.min(et,Ot.y*gt),pt=W(Y),nt=z(Object(O.mix)({},Y,Yt)),yt=H-vt/2,Pt={pin:G,circle:k,diamond:V,triangle:tt,rect:Q},Rt=typeof Et=="function"?Et:Pt[Et]||Pt.circle,Wt=Rt(Tt.x,Tt.y,yt*2,yt*2),Vt=q.addGroup({name:"waves"}),Lt=Vt.setClip({type:"path",attrs:{path:Wt}});return B(Tt.x,Tt.y,1-Y.points[1].y,ut,pt,Vt,Lt,H*2,st),q.addShape("path",{name:"distance",attrs:{path:Wt,fill:"transparent",lineWidth:vt+mt*2,stroke:Gt==="transparent"?"#fff":Gt}}),q.addShape("path",{name:"wrap",attrs:Object(O.mix)(nt,{path:Wt,fill:"transparent",lineWidth:vt})}),q}});var K=function(_){Object(f.__extends)(Y,_);function Y(){var q=_!==null&&_.apply(this,arguments)||this;return q.type="liquid",q}return Y.getDefaultOptions=function(){return L},Y.prototype.getDefaultOptions=function(){return Y.getDefaultOptions()},Y.prototype.changeData=function(q){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:q}),this.chart.data(y(q)),m({chart:this.chart,options:this.options},!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},Y.prototype.getSchemaAdaptor=function(){return T},Y}(x.b)},Z8sD:function(jt,A,a){var f=a("tbeB"),o=a("TdPr"),x=a("qccO");function O(C){return function(P,b,S){return S&&typeof S!="number"&&o(P,b,S)&&(b=S=void 0),P=x(P),b===void 0?(b=P,P=0):b=x(b),S=S===void 0?P<b?1:-1:x(S),f(P,b,S,C)}}jt.exports=O},ZLnY:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.tagProperty=A.tagParameter=A.decorate=void 0;var f=a("196R"),o=a("9L8m");function x(y,E,m,T){var L=o.TAGGED;C(L,y,E,T,m)}A.tagParameter=x;function O(y,E,m){var T=o.TAGGED_PROP;C(T,y.constructor,E,m)}A.tagProperty=O;function C(y,E,m,T,L){var g={},j=typeof L=="number",U=L!==void 0&&j?L.toString():m;if(j&&m!==void 0)throw new Error(f.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(y,E)&&(g=Reflect.getMetadata(y,E));var W=g[U];if(!Array.isArray(W))W=[];else for(var z=0,N=W;z<N.length;z++){var I=N[z];if(I.key===T.key)throw new Error(f.DUPLICATED_METADATA+" "+I.key.toString())}W.push(T),g[U]=W,Reflect.defineMetadata(y,g,E)}function P(y,E){Reflect.decorate(y,E)}function b(y,E){return function(m,T){E(m,T,y)}}function S(y,E,m){typeof m=="number"?P([b(m,y)],E):typeof m=="string"?Reflect.decorate([y],E,m):P([y],E)}A.decorate=S},ZVT1:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});var f;(function(o){o[o.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",o[o.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",o[o.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN",o[o.ZERO=0]="ZERO",o[o.ONE=1]="ONE",o[o.SRC_COLOR=768]="SRC_COLOR",o[o.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",o[o.SRC_ALPHA=770]="SRC_ALPHA",o[o.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",o[o.DST_ALPHA=772]="DST_ALPHA",o[o.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",o[o.DST_COLOR=774]="DST_COLOR",o[o.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",o[o.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",o[o.FUNC_ADD=32774]="FUNC_ADD",o[o.BLEND_EQUATION=32777]="BLEND_EQUATION",o[o.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",o[o.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",o[o.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",o[o.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",o[o.MAX_EXT=32776]="MAX_EXT",o[o.MIN_EXT=32775]="MIN_EXT",o[o.BLEND_DST_RGB=32968]="BLEND_DST_RGB",o[o.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",o[o.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",o[o.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",o[o.CONSTANT_COLOR=32769]="CONSTANT_COLOR",o[o.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",o[o.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",o[o.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",o[o.BLEND_COLOR=32773]="BLEND_COLOR",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",o[o.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",o[o.STREAM_DRAW=35040]="STREAM_DRAW",o[o.STATIC_DRAW=35044]="STATIC_DRAW",o[o.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",o[o.BUFFER_SIZE=34660]="BUFFER_SIZE",o[o.BUFFER_USAGE=34661]="BUFFER_USAGE",o[o.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",o[o.FRONT=1028]="FRONT",o[o.BACK=1029]="BACK",o[o.FRONT_AND_BACK=1032]="FRONT_AND_BACK",o[o.CULL_FACE=2884]="CULL_FACE",o[o.BLEND=3042]="BLEND",o[o.DITHER=3024]="DITHER",o[o.STENCIL_TEST=2960]="STENCIL_TEST",o[o.DEPTH_TEST=2929]="DEPTH_TEST",o[o.SCISSOR_TEST=3089]="SCISSOR_TEST",o[o.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",o[o.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",o[o.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",o[o.NO_ERROR=0]="NO_ERROR",o[o.INVALID_ENUM=1280]="INVALID_ENUM",o[o.INVALID_VALUE=1281]="INVALID_VALUE",o[o.INVALID_OPERATION=1282]="INVALID_OPERATION",o[o.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",o[o.CW=2304]="CW",o[o.CCW=2305]="CCW",o[o.LINE_WIDTH=2849]="LINE_WIDTH",o[o.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",o[o.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",o[o.CULL_FACE_MODE=2885]="CULL_FACE_MODE",o[o.FRONT_FACE=2886]="FRONT_FACE",o[o.DEPTH_RANGE=2928]="DEPTH_RANGE",o[o.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",o[o.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",o[o.DEPTH_FUNC=2932]="DEPTH_FUNC",o[o.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",o[o.STENCIL_FUNC=2962]="STENCIL_FUNC",o[o.STENCIL_FAIL=2964]="STENCIL_FAIL",o[o.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",o[o.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",o[o.STENCIL_REF=2967]="STENCIL_REF",o[o.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",o[o.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",o[o.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",o[o.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",o[o.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",o[o.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",o[o.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",o[o.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",o[o.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",o[o.VIEWPORT=2978]="VIEWPORT",o[o.SCISSOR_BOX=3088]="SCISSOR_BOX",o[o.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",o[o.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",o[o.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",o[o.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",o[o.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",o[o.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",o[o.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",o[o.RED_BITS=3410]="RED_BITS",o[o.GREEN_BITS=3411]="GREEN_BITS",o[o.BLUE_BITS=3412]="BLUE_BITS",o[o.ALPHA_BITS=3413]="ALPHA_BITS",o[o.DEPTH_BITS=3414]="DEPTH_BITS",o[o.STENCIL_BITS=3415]="STENCIL_BITS",o[o.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",o[o.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",o[o.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",o[o.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",o[o.SAMPLES=32937]="SAMPLES",o[o.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",o[o.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",o[o.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",o[o.DONT_CARE=4352]="DONT_CARE",o[o.FASTEST=4353]="FASTEST",o[o.NICEST=4354]="NICEST",o[o.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",o[o.BYTE=5120]="BYTE",o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.SHORT=5122]="SHORT",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.INT=5124]="INT",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.FLOAT=5126]="FLOAT",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.ALPHA=6406]="ALPHA",o[o.RGB=6407]="RGB",o[o.RGBA=6408]="RGBA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",o[o.VERTEX_SHADER=35633]="VERTEX_SHADER",o[o.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",o[o.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",o[o.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",o[o.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",o[o.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",o[o.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",o[o.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",o[o.SHADER_TYPE=35663]="SHADER_TYPE",o[o.DELETE_STATUS=35712]="DELETE_STATUS",o[o.LINK_STATUS=35714]="LINK_STATUS",o[o.VALIDATE_STATUS=35715]="VALIDATE_STATUS",o[o.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",o[o.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",o[o.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",o[o.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",o[o.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",o[o.NEVER=512]="NEVER",o[o.LESS=513]="LESS",o[o.EQUAL=514]="EQUAL",o[o.LEQUAL=515]="LEQUAL",o[o.GREATER=516]="GREATER",o[o.NOTEQUAL=517]="NOTEQUAL",o[o.GEQUAL=518]="GEQUAL",o[o.ALWAYS=519]="ALWAYS",o[o.KEEP=7680]="KEEP",o[o.REPLACE=7681]="REPLACE",o[o.INCR=7682]="INCR",o[o.DECR=7683]="DECR",o[o.INVERT=5386]="INVERT",o[o.INCR_WRAP=34055]="INCR_WRAP",o[o.DECR_WRAP=34056]="DECR_WRAP",o[o.VENDOR=7936]="VENDOR",o[o.RENDERER=7937]="RENDERER",o[o.VERSION=7938]="VERSION",o[o.NEAREST=9728]="NEAREST",o[o.LINEAR=9729]="LINEAR",o[o.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",o[o.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",o[o.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",o[o.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",o[o.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",o[o.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",o[o.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",o[o.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE=5890]="TEXTURE",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",o[o.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",o[o.TEXTURE0=33984]="TEXTURE0",o[o.TEXTURE1=33985]="TEXTURE1",o[o.TEXTURE2=33986]="TEXTURE2",o[o.TEXTURE3=33987]="TEXTURE3",o[o.TEXTURE4=33988]="TEXTURE4",o[o.TEXTURE5=33989]="TEXTURE5",o[o.TEXTURE6=33990]="TEXTURE6",o[o.TEXTURE7=33991]="TEXTURE7",o[o.TEXTURE8=33992]="TEXTURE8",o[o.TEXTURE9=33993]="TEXTURE9",o[o.TEXTURE10=33994]="TEXTURE10",o[o.TEXTURE11=33995]="TEXTURE11",o[o.TEXTURE12=33996]="TEXTURE12",o[o.TEXTURE13=33997]="TEXTURE13",o[o.TEXTURE14=33998]="TEXTURE14",o[o.TEXTURE15=33999]="TEXTURE15",o[o.TEXTURE16=34e3]="TEXTURE16",o[o.TEXTURE17=34001]="TEXTURE17",o[o.TEXTURE18=34002]="TEXTURE18",o[o.TEXTURE19=34003]="TEXTURE19",o[o.TEXTURE20=34004]="TEXTURE20",o[o.TEXTURE21=34005]="TEXTURE21",o[o.TEXTURE22=34006]="TEXTURE22",o[o.TEXTURE23=34007]="TEXTURE23",o[o.TEXTURE24=34008]="TEXTURE24",o[o.TEXTURE25=34009]="TEXTURE25",o[o.TEXTURE26=34010]="TEXTURE26",o[o.TEXTURE27=34011]="TEXTURE27",o[o.TEXTURE28=34012]="TEXTURE28",o[o.TEXTURE29=34013]="TEXTURE29",o[o.TEXTURE30=34014]="TEXTURE30",o[o.TEXTURE31=34015]="TEXTURE31",o[o.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",o[o.REPEAT=10497]="REPEAT",o[o.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",o[o.FLOAT_VEC2=35664]="FLOAT_VEC2",o[o.FLOAT_VEC3=35665]="FLOAT_VEC3",o[o.FLOAT_VEC4=35666]="FLOAT_VEC4",o[o.INT_VEC2=35667]="INT_VEC2",o[o.INT_VEC3=35668]="INT_VEC3",o[o.INT_VEC4=35669]="INT_VEC4",o[o.BOOL=35670]="BOOL",o[o.BOOL_VEC2=35671]="BOOL_VEC2",o[o.BOOL_VEC3=35672]="BOOL_VEC3",o[o.BOOL_VEC4=35673]="BOOL_VEC4",o[o.FLOAT_MAT2=35674]="FLOAT_MAT2",o[o.FLOAT_MAT3=35675]="FLOAT_MAT3",o[o.FLOAT_MAT4=35676]="FLOAT_MAT4",o[o.SAMPLER_2D=35678]="SAMPLER_2D",o[o.SAMPLER_CUBE=35680]="SAMPLER_CUBE",o[o.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",o[o.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",o[o.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",o[o.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",o[o.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",o[o.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",o[o.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",o[o.COMPILE_STATUS=35713]="COMPILE_STATUS",o[o.LOW_FLOAT=36336]="LOW_FLOAT",o[o.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",o[o.HIGH_FLOAT=36338]="HIGH_FLOAT",o[o.LOW_INT=36339]="LOW_INT",o[o.MEDIUM_INT=36340]="MEDIUM_INT",o[o.HIGH_INT=36341]="HIGH_INT",o[o.FRAMEBUFFER=36160]="FRAMEBUFFER",o[o.RENDERBUFFER=36161]="RENDERBUFFER",o[o.RGBA4=32854]="RGBA4",o[o.RGB5_A1=32855]="RGB5_A1",o[o.RGB565=36194]="RGB565",o[o.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",o[o.STENCIL_INDEX=6401]="STENCIL_INDEX",o[o.STENCIL_INDEX8=36168]="STENCIL_INDEX8",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL",o[o.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",o[o.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",o[o.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",o[o.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",o[o.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",o[o.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",o[o.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",o[o.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",o[o.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",o[o.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",o[o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",o[o.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",o[o.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",o[o.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",o[o.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",o[o.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",o[o.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",o[o.NONE=0]="NONE",o[o.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",o[o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",o[o.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",o[o.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",o[o.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",o[o.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",o[o.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",o[o.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",o[o.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",o[o.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",o[o.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",o[o.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",o[o.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",o[o.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",o[o.COPY_SRC=1]="COPY_SRC",o[o.COPY_DST=2]="COPY_DST",o[o.SAMPLED=4]="SAMPLED",o[o.STORAGE=8]="STORAGE",o[o.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(f||(f={}))},ZVen:function(jt,A,a){"use strict";a.r(A),a.d(A,"version",function(){return b});var f=a("Nqgf");a.d(A,"Shape",function(){return f});var o=a("U8wd");for(var x in o)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(x)<0&&function(S){a.d(A,S,function(){return o[S]})}(x);var O=a("287h");a.d(A,"Canvas",function(){return O.a});var C=a("nl+T");a.d(A,"Group",function(){return C.a});var P=a("hMip");a.d(A,"getArcParams",function(){return P.a});var b="0.5.10"},Zdy7:function(jt,A,a){"use strict";var f=a("CMID"),o=a("jg4I"),x=a("sxZn"),O=a("tSnd"),C=a("PHCe"),P=a("xOhq"),b=x.a.transform,S="matrix",y=["zIndex","capture","visible","type"],E=["repeat"],m=":",T="*";function L(z){for(var N=[],I=0;I<z.length;I++)Object(o.isArray)(z[I])?N.push([].concat(z[I])):N.push(z[I]);return N}function g(z,N){var I={},B=N.attrs;for(var G in z)I[G]=B[G];return I}function j(z,N){var I={},B=N.attr();return Object(o.each)(z,function(G,k){E.indexOf(k)===-1&&!Object(o.isEqual)(B[k],G)&&(I[k]=G)}),I}function U(z,N){if(N.onFrame)return z;var I=N.startTime,B=N.delay,G=N.duration,k=Object.prototype.hasOwnProperty;return Object(o.each)(z,function(V){I+B<V.startTime+V.delay+V.duration&&G>V.delay&&Object(o.each)(N.toAttrs,function(tt,Q){k.call(V.toAttrs,Q)&&(delete V.toAttrs[Q],delete V.fromAttrs[Q])})}),z}var W=function(z){Object(f.__extends)(N,z);function N(I){var B=z.call(this,I)||this;B.attrs={};var G=B.getDefaultAttrs();return Object(o.mix)(G,I.attrs),B.attrs=G,B.initAttrs(G),B.initAnimate(),B}return N.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},N.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},N.prototype.onCanvasChange=function(I){},N.prototype.initAttrs=function(I){},N.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},N.prototype.isGroup=function(){return!1},N.prototype.getParent=function(){return this.get("parent")},N.prototype.getCanvas=function(){return this.get("canvas")},N.prototype.attr=function(){for(var I,B=[],G=0;G<arguments.length;G++)B[G]=arguments[G];var k=B[0],V=B[1];if(!k)return this.attrs;if(Object(o.isObject)(k)){for(var tt in k)this.setAttr(tt,k[tt]);return this.afterAttrsChange(k),this}return B.length===2?(this.setAttr(k,V),this.afterAttrsChange((I={},I[k]=V,I)),this):this.attrs[k]},N.prototype.isClipped=function(I,B){var G=this.getClip();return G&&!G.isHit(I,B)},N.prototype.setAttr=function(I,B){var G=this.attrs[I];G!==B&&(this.attrs[I]=B,this.onAttrChange(I,B,G))},N.prototype.onAttrChange=function(I,B,G){I==="matrix"&&this.set("totalMatrix",null)},N.prototype.afterAttrsChange=function(I){if(this.cfg.isClipShape){var B=this.cfg.applyTo;B&&B.onCanvasChange("clip")}else this.onCanvasChange("attr")},N.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},N.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},N.prototype.setZIndex=function(I){this.set("zIndex",I);var B=this.getParent();return B&&B.sort(),this},N.prototype.toFront=function(){var I=this.getParent();if(!!I){var B=I.getChildren(),G=this.get("el"),k=B.indexOf(this);B.splice(k,1),B.push(this),this.onCanvasChange("zIndex")}},N.prototype.toBack=function(){var I=this.getParent();if(!!I){var B=I.getChildren(),G=this.get("el"),k=B.indexOf(this);B.splice(k,1),B.unshift(this),this.onCanvasChange("zIndex")}},N.prototype.remove=function(I){I===void 0&&(I=!0);var B=this.getParent();B?(Object(O.j)(B.getChildren(),this),B.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),I&&this.destroy()},N.prototype.resetMatrix=function(){this.attr(S,this.getDefaultMatrix()),this.onCanvasChange("matrix")},N.prototype.getMatrix=function(){return this.attr(S)},N.prototype.setMatrix=function(I){this.attr(S,I),this.onCanvasChange("matrix")},N.prototype.getTotalMatrix=function(){var I=this.cfg.totalMatrix;if(!I){var B=this.attr("matrix"),G=this.cfg.parentMatrix;G&&B?I=Object(C.b)(G,B):I=B||G,this.set("totalMatrix",I)}return I},N.prototype.applyMatrix=function(I){var B=this.attr("matrix"),G=null;I&&B?G=Object(C.b)(I,B):G=B||I,this.set("totalMatrix",G),this.set("parentMatrix",I)},N.prototype.getDefaultMatrix=function(){return null},N.prototype.applyToMatrix=function(I){var B=this.attr("matrix");return B?Object(C.c)(B,I):I},N.prototype.invertFromMatrix=function(I){var B=this.attr("matrix");if(B){var G=Object(C.a)(B);if(G)return Object(C.c)(G,I)}return I},N.prototype.setClip=function(I){var B=this.getCanvas(),G=null;if(I){var k=this.getShapeBase(),V=Object(o.upperFirst)(I.type),tt=k[V];tt&&(G=new tt({type:I.type,isClipShape:!0,applyTo:this,attrs:I.attrs,canvas:B}))}return this.set("clipShape",G),this.onCanvasChange("clip"),G},N.prototype.getClip=function(){var I=this.cfg.clipShape;return I||null},N.prototype.clone=function(){var I=this,B=this.attrs,G={};Object(o.each)(B,function(tt,Q){Object(o.isArray)(B[Q])?G[Q]=L(B[Q]):G[Q]=B[Q]});var k=this.constructor,V=new k({attrs:G});return Object(o.each)(y,function(tt){V.set(tt,I.get(tt))}),V},N.prototype.destroy=function(){var I=this.destroyed;I||(this.attrs={},z.prototype.destroy.call(this))},N.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},N.prototype.animate=function(){for(var I=[],B=0;B<arguments.length;B++)I[B]=arguments[B];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var G=this.get("timeline");G||(G=this.get("canvas").get("timeline"),this.set("timeline",G));var k=this.get("animations")||[];G.timer||G.initTimer();var V=I[0],tt=I[1],Q=I[2],K=Q===void 0?"easeLinear":Q,_=I[3],Y=_===void 0?o.noop:_,q=I[4],ot=q===void 0?0:q,ft,ct,rt,gt,Et;Object(o.isFunction)(V)?(ft=V,V={}):Object(o.isObject)(V)&&V.onFrame&&(ft=V.onFrame,ct=V.repeat),Object(o.isObject)(tt)?(Et=tt,tt=Et.duration,K=Et.easing||"easeLinear",ot=Et.delay||0,ct=Et.repeat||ct||!1,Y=Et.callback||o.noop,rt=Et.pauseCallback||o.noop,gt=Et.resumeCallback||o.noop):(Object(o.isNumber)(Y)&&(ot=Y,Y=null),Object(o.isFunction)(K)?(Y=K,K="easeLinear"):K=K||"easeLinear");var Gt=j(V,this),Yt={fromAttrs:g(Gt,this),toAttrs:Gt,duration:tt,easing:K,repeat:ct,callback:Y,pauseCallback:rt,resumeCallback:gt,delay:ot,startTime:G.getTime(),id:Object(o.uniqueId)(),onFrame:ft,pathFormatted:!1};k.length>0?k=U(k,Yt):G.addAnimator(this),k.push(Yt),this.set("animations",k),this.set("_pause",{isPaused:!1})}},N.prototype.stopAnimate=function(I){var B=this;I===void 0&&(I=!0);var G=this.get("animations");Object(o.each)(G,function(k){I&&(k.onFrame?B.attr(k.onFrame(1)):B.attr(k.toAttrs)),k.callback&&k.callback()}),this.set("animating",!1),this.set("animations",[])},N.prototype.pauseAnimate=function(){var I=this.get("timeline"),B=this.get("animations"),G=I.getTime();return Object(o.each)(B,function(k){k._paused=!0,k._pauseTime=G,k.pauseCallback&&k.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:G}),this},N.prototype.resumeAnimate=function(){var I=this.get("timeline"),B=I.getTime(),G=this.get("animations"),k=this.get("_pause").pauseTime;return Object(o.each)(G,function(V){V.startTime=V.startTime+(B-k),V._paused=!1,V._pauseTime=null,V.resumeCallback&&V.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",G),this},N.prototype.emitDelegation=function(I,B){var G=this,k=B.propagationPath,V=this.getEvents(),tt;I==="mouseenter"?tt=B.fromShape:I==="mouseleave"&&(tt=B.toShape);for(var Q=function(ot){var ft=k[ot],ct=ft.get("name");if(ct){if((ft.isGroup()||ft.isCanvas&&ft.isCanvas())&&tt&&Object(O.g)(ft,tt))return"break";Object(o.isArray)(ct)?Object(o.each)(ct,function(rt){G.emitDelegateEvent(ft,rt,B)}):K.emitDelegateEvent(ft,ct,B)}},K=this,_=0;_<k.length;_++){var Y=Q(_);if(Y==="break")break}},N.prototype.emitDelegateEvent=function(I,B,G){var k=this.getEvents(),V=B+m+G.type;(k[V]||k[T])&&(G.name=V,G.currentTarget=I,G.delegateTarget=this,G.delegateObject=I.get("delegateObject"),this.emit(V,G))},N.prototype.translate=function(I,B){I===void 0&&(I=0),B===void 0&&(B=0);var G=this.getMatrix(),k=b(G,[["t",I,B]]);return this.setMatrix(k),this},N.prototype.move=function(I,B){var G=this.attr("x")||0,k=this.attr("y")||0;return this.translate(I-G,B-k),this},N.prototype.moveTo=function(I,B){return this.move(I,B)},N.prototype.scale=function(I,B){var G=this.getMatrix(),k=b(G,[["s",I,B||I]]);return this.setMatrix(k),this},N.prototype.rotate=function(I){var B=this.getMatrix(),G=b(B,[["r",I]]);return this.setMatrix(G),this},N.prototype.rotateAtStart=function(I){var B=this.attr(),G=B.x,k=B.y,V=this.getMatrix(),tt=b(V,[["t",-G,-k],["r",I],["t",G,k]]);return this.setMatrix(tt),this},N.prototype.rotateAtPoint=function(I,B,G){var k=this.getMatrix(),V=b(k,[["t",-I,-B],["r",G],["t",I,B]]);return this.setMatrix(V),this},N}(P.a);A.a=W},"ZjV+":function(jt,A,a){"use strict";var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("N2cT"),C=a("VI+R"),P=a("nHjW"),b=a("PsWc"),S=a("cnw0");function y(j,U){var W=U.data,z=U.coordinate,N=U.interactions,I=U.annotations,B=U.animation,G=U.tooltip,k=U.axes,V=U.meta,tt=U.geometries;W&&j.data(W);var Q={};k&&Object(x.each)(k,function(K,_){Q[_]=Object(P.r)(K,C.a)}),Q=Object(P.c)({},V,Q),j.scale(Q),z&&j.coordinate(z),k===!1?j.axis(!1):Object(x.each)(k,function(K,_){j.axis(_,K)}),Object(x.each)(tt,function(K){var _=Object(S.a)({chart:j,options:K}).ext,Y=K.adjust;Y&&_.geometry.adjust(Y)}),Object(x.each)(N,function(K){K.enable===!1?j.removeInteraction(K.type):j.interaction(K.type,K.cfg)}),Object(x.each)(I,function(K){j.annotation()[K.type](Object(f.__assign)({},K))}),typeof B=="boolean"?j.animate(!1):(j.animate(!0),Object(x.each)(j.geometries,function(K){K.animate(B)})),G?(j.interaction("tooltip"),j.tooltip(G)):G===!1&&j.removeInteraction("tooltip")}function E(j){var U=j.chart,W=j.options,z=W.type,N=W.data,I=W.fields,B=W.eachView,G=Object(x.omit)(W,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return U.data(N),U.facet(z,Object(f.__assign)(Object(f.__assign)({},G),{fields:I,eachView:function(V,tt){var Q=B(V,tt);if(Q.geometries)y(V,Q);else{var K=Q,_=K.options;_.tooltip&&V.interaction("tooltip"),Object(b.a)(K.type,V,_)}}})),j}function m(j){var U=j.chart,W=j.options,z=W.axes,N=W.meta,I=W.tooltip,B=W.coordinate,G=W.theme,k=W.legend,V=W.interactions,tt=W.annotations,Q={};return z&&Object(x.each)(z,function(K,_){Q[_]=Object(P.r)(K,C.a)}),Q=Object(P.c)({},N,Q),U.scale(Q),U.coordinate(B),z?Object(x.each)(z,function(K,_){U.axis(_,K)}):U.axis(!1),I?(U.interaction("tooltip"),U.tooltip(I)):I===!1&&U.removeInteraction("tooltip"),U.legend(k),G&&U.theme(G),Object(x.each)(V,function(K){K.enable===!1?U.removeInteraction(K.type):U.interaction(K.type,K.cfg)}),Object(x.each)(tt,function(K){U.annotation()[K.type](Object(f.__assign)({},K))}),j}function T(j){return Object(P.f)(O.j,E,m)(j)}var L={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},g=function(j){Object(f.__extends)(U,j);function U(){var W=j!==null&&j.apply(this,arguments)||this;return W.type="area",W}return U.getDefaultOptions=function(){return L},U.prototype.getDefaultOptions=function(){return U.getDefaultOptions()},U.prototype.getSchemaAdaptor=function(){return T},U}(o.b)},Zkfg:function(jt,A,a){jt.exports=a("5LP0")},Zub2:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiBindToService=void 0;var f=function(x){return function(O){return function(){for(var C=[],P=0;P<arguments.length;P++)C[P]=arguments[P];return C.forEach(function(b){return x.bind(b).toService(O)})}}};A.multiBindToService=f},ZvDv:function(jt,A,a){var f=a("2vMh");function o(x,O){var C=x==null?0:x.length;return!!C&&f(x,O,0)>-1}jt.exports=o},aMRv:function(jt,A){jt.exports=a;function a(f,o,x,O){return f[0]=o[0]+x[0]*O,f[1]=o[1]+x[1]*O,f}},aNuW:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingInSyntax=void 0;var f=a("2+60"),o=a("uh8N"),x=function(){function O(C){this._binding=C}return O.prototype.inRequestScope=function(){return this._binding.scope=f.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},O.prototype.inSingletonScope=function(){return this._binding.scope=f.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},O.prototype.inTransientScope=function(){return this._binding.scope=f.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},O}();A.BindingInSyntax=x},aOLp:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});function f(){return 0}A.b=function(o){return function(){return o}}},aStn:function(jt,A,a){"use strict";a.d(A,"a",function(){return Gt});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("RHEd"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("7Nom"),E=a.n(y),m=a("4OuL"),T=a.n(m),L=a("r1m7"),g=a.n(L),j=a("YcyD"),U=a.n(j),W=a("XN3X"),z=a("60wz"),N=a("K4bE"),I,B,G,k,V,tt,Q,K,_,Y,q,ot,ft;function ct(Yt,Xt){var vt;if(typeof Symbol=="undefined"||Yt[Symbol.iterator]==null){if(Array.isArray(Yt)||(vt=rt(Yt))||Xt&&Yt&&typeof Yt.length=="number"){vt&&(Yt=vt);var mt=0,ut=function(){};return{s:ut,n:function(){return mt>=Yt.length?{done:!0}:{done:!1,value:Yt[mt++]}},e:function(et){throw et},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var st=!0,lt=!1,Tt;return{s:function(){vt=Yt[Symbol.iterator]()},n:function(){var et=vt.next();return st=et.done,et},e:function(et){lt=!0,Tt=et},f:function(){try{!st&&vt.return!=null&&vt.return()}finally{if(lt)throw Tt}}}}function rt(Yt,Xt){if(!!Yt){if(typeof Yt=="string")return gt(Yt,Xt);var vt=Object.prototype.toString.call(Yt).slice(8,-1);if(vt==="Object"&&Yt.constructor&&(vt=Yt.constructor.name),vt==="Map"||vt==="Set")return Array.from(Yt);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return gt(Yt,Xt)}}function gt(Yt,Xt){(Xt==null||Xt>Yt.length)&&(Xt=Yt.length);for(var vt=0,mt=new Array(Xt);vt<Xt;vt++)mt[vt]=Yt[vt];return mt}var Et={NONE:0,ENCODE:1,HIGHLIGHT:2},Gt=(I=Object(j.injectable)(),B=Object(j.inject)(W.a.RenderEngine),G=Object(j.inject)(W.a.ResourcePool),k=Object(j.inject)(W.a.RenderPassFactory),V=Object(j.inject)(W.a.MeshComponentManager),I(tt=(Q=(ft=ot=function(){function Yt(){var Xt=this;S()(this,Yt),P()(this,"engine",K,this),P()(this,"resourcePool",_,this),P()(this,"renderPassFactory",Y,this),P()(this,"mesh",q,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(vt,mt,ut){var st=vt.createRenderTarget(mt,"picking fbo",{width:1,height:1});ut.data={output:mt.write(vt,st)},mt.hasSideEffect=!0},this.execute=function(){var vt=O()(o.a.mark(function mt(ut,st,lt){var Tt,Ot,et;return o.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(Xt.views=lt,!Xt.alreadyInRendering){pt.next=3;break}return pt.abrupt("return");case 3:Tt=ct(lt);try{for(et=function(){var yt=Ot.value,Pt=yt.getViewport(),Rt=Pt.width,Wt=Pt.height;Xt.alreadyInRendering=!0;var Vt=ut.getResourceNode(st.data.output);Xt.pickingFBO=Xt.resourcePool.getOrCreateResource(Vt.resource),Xt.pickingFBO.resize({width:Rt,height:Wt}),Xt.engine.useFramebuffer(Xt.pickingFBO,function(){Xt.engine.clear({framebuffer:Xt.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var Lt=Xt.renderPassFactory(N.a.IDENTIFIER),Ct=[],at=yt.getScene(),It=ct(at.getEntities()),Ft;try{for(It.s();!(Ft=It.n()).done;){var xt=Ft.value,Nt=Xt.mesh.getComponentByEntity(xt),Ht=Nt.material;Ht.setUniform("u_PickingStage",Et.ENCODE),Ct.push(Nt)}}catch(Bt){It.e(Bt)}finally{It.f()}Lt.renderView(yt),Ct.forEach(function(Bt){var Ut=Bt.material;Ut.setUniform("u_PickingStage",Et.HIGHLIGHT)}),Xt.alreadyInRendering=!1})},Tt.s();!(Ot=Tt.n()).done;)et()}catch(nt){Tt.e(nt)}finally{Tt.f()}case 5:case"end":return pt.stop()}},mt)}));return function(mt,ut,st){return vt.apply(this,arguments)}}(),this.pick=function(vt,mt){var ut=vt.x,st=vt.y,lt=Xt.engine,Tt=lt.readPixels,Ot=lt.useFramebuffer,et=mt.getViewport(),H=et.width,pt=et.height,nt=ut*window.devicePixelRatio,yt=st*window.devicePixelRatio;if(!(nt>H||nt<0||yt>pt||yt<0)){var Pt,Rt;return Ot(Xt.pickingFBO,function(){Pt=Tt({x:Math.round(nt),y:Math.round(pt-(st+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:Xt.pickingFBO}),(Pt[0]!==0||Pt[1]!==0||Pt[2]!==0)&&(Rt=Object(z.a)(Pt),Xt.highlightEnabled&&Xt.highlightPickedFeature(Pt,mt))}),Rt}}}return E()(Yt,[{key:"enableHighlight",value:function(vt){this.highlightEnabled=vt}},{key:"setHighlightColor",value:function(vt){this.highlightColor=vt}},{key:"highlightPickedFeature",value:function(vt,mt){if(vt){var ut=ct(mt.getScene().getEntities()),st;try{for(ut.s();!(st=ut.n()).done;){var lt=st.value,Tt=this.mesh.getComponentByEntity(lt),Ot=Tt.material;Ot.setUniform("u_PickingStage",Et.HIGHLIGHT),Ot.setUniform("u_PickingColor",[vt[0],vt[1],vt[2]]),Ot.setUniform("u_HighlightColor",this.highlightColor)}}catch(et){ut.e(et)}finally{ut.f()}}}}]),Yt}(),ot.IDENTIFIER="PixelPicking Pass",ft),K=T()(Q.prototype,"engine",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T()(Q.prototype,"resourcePool",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=T()(Q.prototype,"renderPassFactory",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=T()(Q.prototype,"mesh",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q))||tt)},aTcL:function(jt,A,a){"use strict";a.d(A,"b",function(){return E}),a.d(A,"a",function(){return m});var f=a("bsNZ"),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,x=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,O=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function P(T,L){var g=T.match(C);Object(f.c)(g,function(j){var U=j.split(":");L.addColorStop(U[0],U[1])})}function b(T,L,g){var j=o.exec(g),U=parseFloat(j[1])%360*(Math.PI/180),W=j[2],z=L.getBBox(),N,I;U>=0&&U<1/2*Math.PI?(N={x:z.minX,y:z.minY},I={x:z.maxX,y:z.maxY}):1/2*Math.PI<=U&&U<Math.PI?(N={x:z.maxX,y:z.minY},I={x:z.minX,y:z.maxY}):Math.PI<=U&&U<3/2*Math.PI?(N={x:z.maxX,y:z.maxY},I={x:z.minX,y:z.minY}):(N={x:z.minX,y:z.maxY},I={x:z.maxX,y:z.minY});var B=Math.tan(U),G=B*B,k=(I.x-N.x+B*(I.y-N.y))/(G+1)+N.x,V=B*(I.x-N.x+B*(I.y-N.y))/(G+1)+N.y,tt=T.createLinearGradient(N.x,N.y,k,V);return P(W,tt),tt}function S(T,L,g){var j=x.exec(g),U=parseFloat(j[1]),W=parseFloat(j[2]),z=parseFloat(j[3]),N=j[4];if(z===0){var I=N.match(C);return I[I.length-1].split(":")[1]}var B=L.getBBox(),G=B.maxX-B.minX,k=B.maxY-B.minY,V=Math.sqrt(G*G+k*k)/2,tt=T.createRadialGradient(B.minX+G*U,B.minY+k*W,0,B.minX+G/2,B.minY+k/2,z*V);return P(N,tt),tt}function y(T,L,g){if(L.get("patternSource")&&L.get("patternSource")===g)return L.get("pattern");var j,U,W=O.exec(g),z=W[1],N=W[2];function I(){j=T.createPattern(U,z),L.set("pattern",j),L.set("patternSource",g)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return U=new Image,N.match(/^data:/i)||(U.crossOrigin="Anonymous"),U.src=N,U.complete?I():(U.onload=I,U.src=U.src),j}function E(T,L,g){if(Object(f.k)(g)){if(g[1]==="("||g[2]==="("){if(g[0]==="l")return b(T,L,g);if(g[0]==="r")return S(T,L,g);if(g[0]==="p")return y(T,L,g)}return g}}function m(T){var L=0,g=0,j=0,U=0;return Object(f.g)(T)?T.length===1?L=g=j=U=T[0]:T.length===2?(L=j=T[0],g=U=T[1]):T.length===3?(L=T[0],g=U=T[1],j=T[2]):(L=T[0],g=T[1],j=T[2],U=T[3]):L=g=j=U=T,[L,g,j,U]}},aUeW:function(jt,A,a){var f=a("+2Ae"),o=a("0mwY"),x=a("8+ZV"),O=a("EpgB"),C=a("FolP"),P=[0,0];jt.exports.computeMiter=function(S,y,E,m,T){return f(S,E,m),x(S,S),o(y,-S[1],S[0]),o(P,-E[1],E[0]),T/C(y,P)},jt.exports.normal=function(S,y){return o(S,-y[1],y[0]),S},jt.exports.direction=function(S,y,E){return O(S,y,E),x(S,S),S}},aib0:function(jt,A,a){"use strict";var f=a("CMID"),o=a("Zdy7"),x=a("PHCe"),O=function(C){Object(f.__extends)(P,C);function P(b){return C.call(this,b)||this}return P.prototype._isInBBox=function(b,S){var y=this.getBBox();return y.minX<=b&&y.maxX>=b&&y.minY<=S&&y.maxY>=S},P.prototype.afterAttrsChange=function(b){C.prototype.afterAttrsChange.call(this,b),this.clearCacheBBox()},P.prototype.getBBox=function(){var b=this.cfg.bbox;return b||(b=this.calculateBBox(),this.set("bbox",b)),b},P.prototype.getCanvasBBox=function(){var b=this.cfg.canvasBBox;return b||(b=this.calculateCanvasBBox(),this.set("canvasBBox",b)),b},P.prototype.applyMatrix=function(b){C.prototype.applyMatrix.call(this,b),this.set("canvasBBox",null)},P.prototype.calculateCanvasBBox=function(){var b=this.getBBox(),S=this.getTotalMatrix(),y=b.minX,E=b.minY,m=b.maxX,T=b.maxY;if(S){var L=Object(x.c)(S,[b.minX,b.minY]),g=Object(x.c)(S,[b.maxX,b.minY]),j=Object(x.c)(S,[b.minX,b.maxY]),U=Object(x.c)(S,[b.maxX,b.maxY]);y=Math.min(L[0],g[0],j[0],U[0]),m=Math.max(L[0],g[0],j[0],U[0]),E=Math.min(L[1],g[1],j[1],U[1]),T=Math.max(L[1],g[1],j[1],U[1])}var W=this.attrs;if(W.shadowColor){var z=W.shadowBlur,N=z===void 0?0:z,I=W.shadowOffsetX,B=I===void 0?0:I,G=W.shadowOffsetY,k=G===void 0?0:G,V=y-N+B,tt=m+N+B,Q=E-N+k,K=T+N+k;y=Math.min(y,V),m=Math.max(m,tt),E=Math.min(E,Q),T=Math.max(T,K)}return{x:y,y:E,minX:y,minY:E,maxX:m,maxY:T,width:m-y,height:T-E}},P.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},P.prototype.isClipShape=function(){return this.get("isClipShape")},P.prototype.isInShape=function(b,S){return!1},P.prototype.isOnlyHitBox=function(){return!1},P.prototype.isHit=function(b,S){var y=this.get("startArrowShape"),E=this.get("endArrowShape"),m=[b,S,1];m=this.invertFromMatrix(m);var T=m[0],L=m[1],g=this._isInBBox(T,L);return this.isOnlyHitBox()?g:!!(g&&!this.isClipped(T,L)&&(this.isInShape(T,L)||y&&y.isHit(T,L)||E&&E.isHit(T,L)))},P}(o.a);A.a=O},ajvA:function(jt,A,a){"use strict";var f=a("XSdR"),o=a("atuu");jt.exports={run:x,undo:C};function x(P){var b=P.graph().acyclicer==="greedy"?o(P,S(P)):O(P);f.forEach(b,function(y){var E=P.edge(y);P.removeEdge(y),E.forwardName=y.name,E.reversed=!0,P.setEdge(y.w,y.v,E,f.uniqueId("rev"))});function S(y){return function(E){return y.edge(E).weight}}}function O(P){var b=[],S={},y={};function E(m){f.has(y,m)||(y[m]=!0,S[m]=!0,f.forEach(P.outEdges(m),function(T){f.has(S,T.w)?b.push(T):E(T.w)}),delete S[m])}return f.forEach(P.nodes(),E),b}function C(P){f.forEach(P.edges(),function(b){var S=P.edge(b);if(S.reversed){P.removeEdge(b);var y=S.forwardName;delete S.reversed,delete S.forwardName,P.setEdge(b.w,b.v,S,y)}})}},aosO:function(jt,A){},atuu:function(jt,A,a){var f=a("XSdR"),o=a("43gi").Graph,x=a("8Z6n");jt.exports=C;var O=f.constant(1);function C(E,m){if(E.nodeCount()<=1)return[];var T=S(E,m||O),L=P(T.graph,T.buckets,T.zeroIdx);return f.flatten(f.map(L,function(g){return E.outEdges(g.v,g.w)}),!0)}function P(E,m,T){for(var L=[],g=m[m.length-1],j=m[0],U;E.nodeCount();){for(;U=j.dequeue();)b(E,m,T,U);for(;U=g.dequeue();)b(E,m,T,U);if(E.nodeCount()){for(var W=m.length-2;W>0;--W)if(U=m[W].dequeue(),U){L=L.concat(b(E,m,T,U,!0));break}}}return L}function b(E,m,T,L,g){var j=g?[]:void 0;return f.forEach(E.inEdges(L.v),function(U){var W=E.edge(U),z=E.node(U.v);g&&j.push({v:U.v,w:U.w}),z.out-=W,y(m,T,z)}),f.forEach(E.outEdges(L.v),function(U){var W=E.edge(U),z=U.w,N=E.node(z);N.in-=W,y(m,T,N)}),E.removeNode(L.v),j}function S(E,m){var T=new o,L=0,g=0;f.forEach(E.nodes(),function(W){T.setNode(W,{v:W,in:0,out:0})}),f.forEach(E.edges(),function(W){var z=T.edge(W.v,W.w)||0,N=m(W),I=z+N;T.setEdge(W.v,W.w,I),g=Math.max(g,T.node(W.v).out+=N),L=Math.max(L,T.node(W.w).in+=N)});var j=f.range(g+L+3).map(function(){return new x}),U=L+1;return f.forEach(T.nodes(),function(W){y(j,U,T.node(W))}),{graph:T,buckets:j,zeroIdx:U}}function y(E,m,T){T.out?T.in?E[T.out-T.in+m].enqueue(T):E[E.length-1].enqueue(T):E[0].enqueue(T)}},ax0x:function(jt,A,a){var f=a("cA8S"),o=0;function x(O){var C=++o;return f(O)+C}jt.exports=x},bC9S:function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"b",function(){return o});var f=["#FAAD14","#E8EDF3"],o={percent:.2,color:f,animation:{}}},bCfE:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ver=A.clear=A.bind=void 0;var f=a("hQli"),o=function(P,b){var S=(0,f.getSensor)(P);return S.bind(b),function(){S.unbind(b)}};A.bind=o;var x=function(P){var b=(0,f.getSensor)(P);(0,f.removeSensor)(b)};A.clear=x;var O="1.0.1";A.ver=O},bLhI:function(jt,A,a){"use strict";a.d(A,"a",function(){return O});var f=a("CMID"),o=a("JUmX"),x=[1,0,0,0,1,0,0,0,1];function O(C,P){var b=P?Object(f.__spreadArrays)(P):Object(f.__spreadArrays)(x);return o.Util.transform(b,C)}},bQN1:function(jt,A,a){"use strict";function f(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(G){return typeof G}:f=function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},f(I)}Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"getAdjMatrix",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(A,"breadthFirstSearch",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(A,"connectedComponent",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(A,"getDegree",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(A,"getInDegree",{enumerable:!0,get:function(){return C.getInDegree}}),Object.defineProperty(A,"getOutDegree",{enumerable:!0,get:function(){return C.getOutDegree}}),Object.defineProperty(A,"detectCycle",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(A,"depthFirstSearch",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(A,"dijkstra",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(A,"findAllPath",{enumerable:!0,get:function(){return y.findAllPath}}),Object.defineProperty(A,"findShortestPath",{enumerable:!0,get:function(){return y.findShortestPath}}),Object.defineProperty(A,"floydWarshall",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(A,"labelPropagation",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(A,"louvain",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(A,"minimumSpanningTree",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(A,"pageRank",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(A,"GADDI",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(A,"getNeighbors",{enumerable:!0,get:function(){return U.getNeighbors}});var o=N(a("g3RE")),x=N(a("DUss")),O=N(a("nrny")),C=z(a("QArz")),P=N(a("M6f7")),b=N(a("Af9/")),S=N(a("Jr4d")),y=a("OeFv"),E=N(a("+/lo")),m=N(a("T3K+")),T=N(a("fC6O")),L=N(a("T8j/")),g=N(a("vA80")),j=N(a("V6jZ")),U=a("Eqze");function W(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return W=function(){return I},I}function z(I){if(I&&I.__esModule)return I;if(I===null||f(I)!=="object"&&typeof I!="function")return{default:I};var B=W();if(B&&B.has(I))return B.get(I);var G={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in I)if(Object.prototype.hasOwnProperty.call(I,V)){var tt=k?Object.getOwnPropertyDescriptor(I,V):null;tt&&(tt.get||tt.set)?Object.defineProperty(G,V,tt):G[V]=I[V]}return G.default=I,B&&B.set(I,G),G}function N(I){return I&&I.__esModule?I:{default:I}}},bQRB:function(jt,A,a){"use strict";a.d(A,"a",function(){return P});var f=a("CMID"),o=a("tqeG"),x=a("+6Kx"),O=a("bC9S"),C=a("F4DG"),P=function(b){Object(f.__extends)(S,b);function S(){var y=b!==null&&b.apply(this,arguments)||this;return y.type="process",y}return S.getDefaultOptions=function(){return O.b},S.prototype.changeData=function(y){this.updateOption({percent:y}),this.chart.changeData(Object(C.a)(y))},S.prototype.getDefaultOptions=function(){return S.getDefaultOptions()},S.prototype.getSchemaAdaptor=function(){return x.a},S}(o.b)},bYNP:function(jt,A){},"bkR+":function(jt,A){function a(f){var o=f==null?0:f.length;return o?f[o-1]:void 0}jt.exports=a},bmBd:function(jt,A,a){"use strict";a.d(A,"a",function(){return k});var f=a("QJLF"),o=a.n(f),x=a("16OP"),O=a.n(x),C=a("7Nom"),P=a.n(C),b=a("YcyD");function S(V){var tt=0;switch(V){case"vec2":case"ivec2":tt=2;break;case"vec3":case"ivec3":tt=3;break;case"vec4":case"ivec4":case"mat2":tt=4;break;case"mat3":tt=9;break;case"mat4":tt=16;break;default:}return tt}var y=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function E(V){var tt={};return V=V.replace(y,function(Q,K,_){var Y=_.split(":"),q=Y[0].trim(),ot="";switch(Y.length>1&&(ot=Y[1].trim()),K){case"bool":ot=ot==="true";break;case"float":case"int":ot=Number(ot);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":ot?ot=ot.replace("[","").replace("]","").split(",").reduce(function(ft,ct){return ft.push(Number(ct.trim())),ft},[]):ot=new Array(S(K)).fill(0);break;default:}return tt[q]=ot,"uniform ".concat(K," ").concat(q,`;
`)}),{content:V,uniforms:tt}}function m(V){return V.filter(function(tt,Q,K){return K.indexOf(tt)===Q})}var T,L,g;function j(V,tt){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(V);tt&&(K=K.filter(function(_){return Object.getOwnPropertyDescriptor(V,_).enumerable})),Q.push.apply(Q,K)}return Q}function U(V){for(var tt=1;tt<arguments.length;tt++){var Q=arguments[tt]!=null?arguments[tt]:{};tt%2?j(Object(Q),!0).forEach(function(K){o()(V,K,Q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):j(Object(Q)).forEach(function(K){Object.defineProperty(V,K,Object.getOwnPropertyDescriptor(Q,K))})}return V}var W=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,z=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,N=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,I=/precision\s+(high|low|medium)p\s+float/,B=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,G=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,k=(T=Object(b.injectable)(),T(L=(g=function(){function V(){O()(this,V),this.moduleCache={},this.rawContentCache={}}return P()(V,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:z,fs:W}),this.registerModule("sdf2d",{vs:"",fs:N})}},{key:"registerModule",value:function(Q,K){if(!this.rawContentCache[Q]){var _=K.vs,Y=_===void 0?"":_,q=K.fs,ot=q===void 0?"":q,ft=K.uniforms,ct=E(Y),rt=ct.content,gt=ct.uniforms,Et=E(ot),Gt=Et.content,Yt=Et.uniforms;this.rawContentCache[Q]={fs:Gt,uniforms:U(U(U({},gt),Yt),ft),vs:rt}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(Q){var K=this;if(this.moduleCache[Q])return this.moduleCache[Q];var _=this.rawContentCache[Q].vs||"",Y=this.rawContentCache[Q].fs||"",q=this.processModule(_,[],"vs"),ot=q.content,ft=q.includeList,ct=this.processModule(Y,[],"fs"),rt=ct.content,gt=ct.includeList,Et=rt,Gt=m(ft.concat(gt).concat(Q)).reduce(function(Yt,Xt){return U(U({},Yt),K.rawContentCache[Xt].uniforms)},{});return I.test(rt)||(Et=B+rt),this.moduleCache[Q]={fs:Et.trim(),uniforms:Gt,vs:ot.trim()},this.moduleCache[Q]}},{key:"processModule",value:function(Q,K,_){var Y=this,q=Q.replace(G,function(ot,ft){var ct=ft.split(" "),rt=ct[0].replace(/"/g,"");if(K.indexOf(rt)>-1)return"";var gt=Y.rawContentCache[rt][_];K.push(rt);var Et=Y.processModule(gt||"",K,_),Gt=Et.content;return Gt});return{content:q,includeList:K}}}]),V}(),g))||L)},"bs4/":function(jt,A,a){"use strict";a.d(A,"a",function(){return j});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("N2cT"),C=a("nHjW"),P=a("8DqP");function b(U){var W=U.data,z=U.xField,N=U.measureField,I=U.rangeField,B=U.targetField,G=U.layout,k=[],V=[];W.forEach(function(K,_){var Y;K[I].sort(function(q,ot){return q-ot}),K[I].forEach(function(q,ot){var ft,ct=ot===0?q:K[I][ot]-K[I][ot-1];k.push((ft={rKey:I+"_"+ot},ft[z]=z?K[z]:String(_),ft[I]=ct,ft))}),K[N].forEach(function(q,ot){var ft;k.push((ft={mKey:K[N].length>1?N+"_"+ot:""+N},ft[z]=z?K[z]:String(_),ft[N]=q,ft))}),k.push((Y={tKey:""+B},Y[z]=z?K[z]:String(_),Y[B]=K[B],Y)),V.push(K[I],K[N],K[B])});var tt=Math.min.apply(Math,V.flat(Infinity)),Q=Math.max.apply(Math,V.flat(Infinity));return tt=tt>0?0:tt,G==="vertical"&&k.reverse(),{min:tt,max:Q,ds:k}}function S(U){var W=U.chart,z=U.options,N=z.bulletStyle,I=z.targetField,B=z.rangeField,G=z.measureField,k=z.xField,V=z.color,tt=z.layout,Q=z.size,K=z.label,_=b(z),Y=_.min,q=_.max,ot=_.ds;W.data(ot);var ft=Object(C.c)({},U,{options:{xField:k,yField:B,seriesField:"rKey",isStack:!0,label:Object(x.get)(K,"range"),interval:{color:Object(x.get)(V,"range"),style:Object(x.get)(N,"range"),size:Object(x.get)(Q,"range")}}});Object(P.c)(ft),W.geometries[0].tooltip(!1);var ct=Object(C.c)({},U,{options:{xField:k,yField:G,seriesField:"mKey",isStack:!0,label:Object(x.get)(K,"measure"),interval:{color:Object(x.get)(V,"measure"),style:Object(x.get)(N,"measure"),size:Object(x.get)(Q,"measure")}}});Object(P.c)(ct);var rt=Object(C.c)({},U,{options:{xField:k,yField:I,seriesField:"tKey",label:Object(x.get)(K,"target"),point:{color:Object(x.get)(V,"target"),style:Object(x.get)(N,"target"),size:Object(x.isFunction)(Object(x.get)(Q,"target"))?function(gt){return Object(x.get)(Q,"target")(gt)/2}:Object(x.get)(Q,"target")/2,shape:tt==="horizontal"?"line":"hyphen"}}});return Object(P.e)(rt),tt==="horizontal"&&W.coordinate().transpose(),Object(f.__assign)(Object(f.__assign)({},U),{ext:{data:{min:Y,max:q}}})}function y(U){var W,z,N=U.options,I=U.ext,B=N.xAxis,G=N.yAxis,k=N.targetField,V=N.rangeField,tt=N.measureField,Q=N.xField,K=I.data;return Object(C.f)(Object(O.f)((W={},W[Q]=B,W[tt]=G,W),(z={},z[tt]={min:K==null?void 0:K.min,max:K==null?void 0:K.max},z[k]={sync:""+tt},z[V]={sync:""+tt},z)))(U)}function E(U){var W=U.chart,z=U.options,N=z.xAxis,I=z.yAxis,B=z.xField,G=z.measureField,k=z.rangeField,V=z.targetField;return W.axis(""+k,!1),W.axis(""+V,!1),N===!1?W.axis(""+B,!1):W.axis(""+B,N),I===!1?W.axis(""+G,!1):W.axis(""+G,I),U}function m(U){var W=U.chart,z=U.options,N=z.legend;return W.removeInteraction("legend-filter"),W.legend(N),W.legend("rKey",!1),W.legend("mKey",!1),W.legend("tKey",!1),U}function T(U){var W=U.chart,z=U.options,N=z.label,I=z.measureField,B=z.targetField,G=z.rangeField,k=W.geometries,V=k[0],tt=k[1],Q=k[2];return Object(x.get)(N,"range")?V.label(""+G,Object(f.__assign)({layout:[{type:"limit-in-plot"}]},Object(C.w)(N.range))):V.label(!1),Object(x.get)(N,"measure")?tt.label(""+I,Object(f.__assign)({layout:[{type:"limit-in-plot"}]},Object(C.w)(N.measure))):tt.label(!1),Object(x.get)(N,"target")?Q.label(""+B,Object(f.__assign)({layout:[{type:"limit-in-plot"}]},Object(C.w)(N.target))):Q.label(!1),U}function L(U){Object(C.f)(S,y,E,m,O.j,T,O.k,O.c,O.a)(U)}var g=Object(C.c)({},o.b.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),j=function(U){Object(f.__extends)(W,U);function W(){var z=U!==null&&U.apply(this,arguments)||this;return z.type="bullet",z}return W.getDefaultOptions=function(){return g},W.prototype.changeData=function(z){this.updateOption({data:z});var N=b(this.options),I=N.min,B=N.max,G=N.ds;y({options:this.options,ext:{data:{min:I,max:B}},chart:this.chart}),this.chart.changeData(G)},W.prototype.getSchemaAdaptor=function(){return L},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W}(o.b)},bsNZ:function(jt,A,a){"use strict";a.d(A,"d",function(){return o}),a.d(A,"b",function(){return x}),a.d(A,"e",function(){return O}),a.d(A,"f",function(){return C}),a.d(A,"l",function(){return P}),a.d(A,"j",function(){return b});var f=a("jg4I");a.d(A,"i",function(){return f.isNil}),a.d(A,"k",function(){return f.isString}),a.d(A,"h",function(){return f.isFunction}),a.d(A,"g",function(){return f.isArray}),a.d(A,"c",function(){return f.each}),a.d(A,"o",function(){return f.toRadian}),a.d(A,"m",function(){return f.mod}),a.d(A,"n",function(){return f.requestAnimationFrame}),a.d(A,"a",function(){return f.clearAnimationFrame});function o(){return window?window.devicePixelRatio:1}function x(S,y,E,m){var T=S-E,L=y-m;return Math.sqrt(T*T+L*L)}function O(S,y,E,m,T,L){return T>=S&&T<=S+E&&L>=y&&L<=y+m}function C(S,y){return!(y.minX>S.maxX||y.maxX<S.minX||y.minY>S.maxY||y.maxY<S.minY)}function P(S,y){return!S||!y?S||y:{minX:Math.min(S.minX,y.minX),minY:Math.min(S.minY,y.minY),maxX:Math.max(S.maxX,y.maxX),maxY:Math.max(S.maxY,y.maxY)}}function b(S,y){return S[0]===y[0]&&S[1]===y[1]}},c2a8:function(jt,A,a){jt.exports={Graph:a("K0S0"),version:a("1RCG")}},c5gd:function(jt,A,a){"use strict";a.d(A,"b",function(){return y}),a.d(A,"a",function(){return E});var f=a("q66O"),o=a.n(f),x=a("16OP"),O=a.n(x),C=a("7Nom"),P=a.n(C),b=a("99LQ"),S=a("xO9G"),y;(function(m){m[m.OUTSIDE=4294967295]="OUTSIDE",m[m.INSIDE=0]="INSIDE",m[m.INDETERMINATE=2147483647]="INDETERMINATE"})(y||(y={}));var E=function(){function m(T){if(O()(this,m),this.planes=[],T)this.planes=T;else for(var L=0;L<6;L++)this.planes.push(new S.a)}return P()(m,[{key:"extractFromVPMatrix",value:function(L){var g=o()(L,16),j=g[0],U=g[1],W=g[2],z=g[3],N=g[4],I=g[5],B=g[6],G=g[7],k=g[8],V=g[9],tt=g[10],Q=g[11],K=g[12],_=g[13],Y=g[14],q=g[15];b.e.set(this.planes[0].normal,z-j,G-N,Q-k),this.planes[0].distance=-(q-K),b.e.set(this.planes[1].normal,z+j,G+N,Q+k),this.planes[1].distance=-(q+K),b.e.set(this.planes[2].normal,z+U,G+I,Q+V),this.planes[2].distance=-(q+_),b.e.set(this.planes[3].normal,z-U,G-I,Q-V),this.planes[3].distance=-(q-_),b.e.set(this.planes[4].normal,z-W,G-B,Q-tt),this.planes[4].distance=-(q-Y),b.e.set(this.planes[5].normal,z+W,G+B,Q+tt),this.planes[5].distance=-(q+Y),this.planes.forEach(function(ot){ot.normalize(),ot.updatePNVertexFlag()})}}]),m}()},cGgO:function(jt,A,a){var f=a("3sCP"),o=a("5MHJ"),x=a("TIpG"),O=a("BaLd"),C=a("KC/J"),P="[object Map]",b="[object Set]";function S(y){if(y==null)return 0;if(x(y))return O(y)?C(y):y.length;var E=o(y);return E==P||E==b?y.size:f(y).length}jt.exports=S},cMHk:function(jt,A,a){"use strict";var f=a("clcR"),o;(function(C){C.DEV="DEV",C.BETA="BETA",C.STABLE="STABLE"})(o||(o={}));function x(C,P){console.warn(C===o.DEV?"Plot '"+P+"' is in DEV stage, just give us issues.":C===o.BETA?"Plot '"+P+"' is in BETA stage, DO NOT use it in production env.":C===o.STABLE?"Plot '"+P+`' is in STABLE stage, import it by "import { `+P+` } from '@antv/g2plot'".`:"invalid Stage type.")}var O=function(){function C(){}return Object.defineProperty(C,"MultiView",{get:function(){return x(o.STABLE,"MultiView"),f.a},enumerable:!1,configurable:!0}),C}()},"cW+D":function(jt,A){function a(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}jt.exports=a,jt.exports.default=jt.exports,jt.exports.__esModule=!0},clcR:function(jt,A,a){"use strict";a.d(A,"a",function(){return U});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("cnw0"),C=a("N2cT"),P=a("VI+R"),b=a("nHjW"),S=a("PsWc");function y(W){var z=W.chart,N=W.options,I=N.views,B=N.legend;return Object(x.each)(I,function(G){var k=G.region,V=G.data,tt=G.meta,Q=G.axes,K=G.coordinate,_=G.interactions,Y=G.annotations,q=G.tooltip,ot=G.geometries,ft=z.createView({region:k});ft.data(V);var ct={};Q&&Object(x.each)(Q,function(rt,gt){ct[gt]=Object(b.r)(rt,P.a)}),ct=Object(b.c)({},tt,ct),ft.scale(ct),Q?Object(x.each)(Q,function(rt,gt){ft.axis(gt,rt)}):ft.axis(!1),ft.coordinate(K),Object(x.each)(ot,function(rt){var gt=Object(O.a)({chart:ft,options:rt}).ext,Et=rt.adjust;Et&&gt.geometry.adjust(Et)}),Object(x.each)(_,function(rt){rt.enable===!1?ft.removeInteraction(rt.type):ft.interaction(rt.type,rt.cfg)}),Object(x.each)(Y,function(rt){ft.annotation()[rt.type](Object(f.__assign)({},rt))}),typeof G.animation=="boolean"?ft.animate(!1):(ft.animate(!0),Object(x.each)(ft.geometries,function(rt){rt.animate(G.animation)})),q&&(ft.interaction("tooltip"),ft.tooltip(q))}),B?Object(x.each)(B,function(G,k){z.legend(k,G)}):z.legend(!1),z.tooltip(N.tooltip),W}function E(W){var z=W.chart,N=W.options,I=N.plots;return Object(x.each)(I,function(B){var G=B.type,k=B.region,V=B.options,tt=V===void 0?{}:V,Q=tt.tooltip,K=z.createView(Object(f.__assign)({region:k},Object(b.r)(tt,o.a)));Q&&K.interaction("tooltip"),Object(S.a)(G,K,tt)}),W}function m(W){return Object(b.f)(C.a,y,E,C.c,C.a,C.j,C.k)(W)}var T=a("JUmX");function L(W,z){var N=W.getModel(),I=N.data,B;return Object(x.isArray)(I)?B=I[0][z]:B=I[z],B}function g(W){var z=Object(b.g)(W);Object(x.each)(z,function(N){N.hasState("active")&&N.setState("active",!1),N.hasState("selected")&&N.setState("selected",!1),N.hasState("inactive")&&N.setState("inactive",!1)})}var j=function(W){Object(f.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.getAssociationItems=function(N,I){var B,G=this.context.event,k=I||{},V=k.linkField,tt=k.dim,Q=[];if((B=G.data)===null||B===void 0?void 0:B.data){var K=G.data.data;Object(x.each)(N,function(_){var Y,q,ot=V;if(tt==="x"?ot=_.getXScale().field:tt==="y"?ot=(Y=_.getYScales().find(function(ct){return ct.field===ot}))===null||Y===void 0?void 0:Y.field:ot||(ot=(q=_.getGroupScales()[0])===null||q===void 0?void 0:q.field),!!ot){var ft=Object(x.map)(Object(b.g)(_),function(ct){var rt=!1,gt=!1,Et=Object(x.isArray)(K)?Object(x.get)(K[0],ot):Object(x.get)(K,ot);return L(ct,ot)===Et?rt=!0:gt=!0,{element:ct,view:_,active:rt,inactive:gt}});Q.push.apply(Q,ft)}})}return Q},z.prototype.showTooltip=function(N){var I=Object(b.j)(this.context.view),B=this.getAssociationItems(I,N);Object(x.each)(B,function(G){if(G.active){var k=G.element.shape.getCanvasBBox();G.view.showTooltip({x:k.minX+k.width/2,y:k.minY+k.height/2})}})},z.prototype.hideTooltip=function(){var N=Object(b.j)(this.context.view);Object(x.each)(N,function(I){I.hideTooltip()})},z.prototype.active=function(N){var I=Object(b.l)(this.context.view),B=this.getAssociationItems(I,N);Object(x.each)(B,function(G){var k=G.active,V=G.element;k&&V.setState("active",!0)})},z.prototype.selected=function(N){var I=Object(b.l)(this.context.view),B=this.getAssociationItems(I,N);Object(x.each)(B,function(G){var k=G.active,V=G.element;k&&V.setState("selected",!0)})},z.prototype.highlight=function(N){var I=Object(b.l)(this.context.view),B=this.getAssociationItems(I,N);Object(x.each)(B,function(G){var k=G.inactive,V=G.element;k&&V.setState("inactive",!0)})},z.prototype.reset=function(){var N=Object(b.l)(this.context.view);Object(x.each)(N,function(I){g(I)})},z}(T.Action);Object(T.registerAction)("association",j),Object(T.registerInteraction)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(T.registerInteraction)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(T.registerInteraction)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(T.registerInteraction)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var U=function(W){Object(f.__extends)(z,W);function z(){var N=W!==null&&W.apply(this,arguments)||this;return N.type="mix",N}return z.prototype.getSchemaAdaptor=function(){return m},z}(o.b)},cnw0:function(jt,A,a){"use strict";a.d(A,"b",function(){return C}),a.d(A,"a",function(){return P});var f=a("CMID"),o=a("jg4I"),x=a("nHjW");function O(b,S){var y=b.xField,E=b.yField,m=b.colorField,T=b.shapeField,L=b.sizeField,g=b.styleField,j=b.rawFields,U=j===void 0?[]:j,W=[];if(S==="color")W=Object(f.__spreadArrays)([m||y],U);else if(S==="shape")W=Object(f.__spreadArrays)([T||y],U);else if(S==="size")W=Object(f.__spreadArrays)([L||y],U);else{W=Object(f.__spreadArrays)([y,E,m,T,L,g],U);var z=["x","y","color","shape","size","style"].indexOf(S),N=W[z];W.splice(z,1),W.unshift(N)}return Object(o.uniq)(W.filter(function(I){return!!I}))}function C(b,S){if(!!S)return function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];var m={};return b.forEach(function(T,L){m[T]=y[L]}),delete m.undefined,S(m)}}function P(b){var S=b.chart,y=b.options,E=y.type,m=y.args,T=y.mapping,L=y.xField,g=y.yField,j=y.colorField,U=y.shapeField,W=y.sizeField,z=y.tooltipFields,N=y.label,I=y.state;if(!T)return b;var B=T.color,G=T.shape,k=T.size,V=T.style,tt=T.tooltip,Q=S[E](m).position(L+"*"+g);if(Object(o.isString)(B))j?Q.color(j,B):Q.color(B);else if(Object(o.isFunction)(B)){var K=O(y,"color");Q.color(K.join("*"),C(K,B))}else j&&Q.color(j,B);if(Object(o.isString)(G))U?Q.shape(U,[G]):Q.shape(G);else if(Object(o.isFunction)(G)){var K=O(y,"shape");Q.shape(K.join("*"),C(K,G))}else U&&Q.shape(U,G);if(Object(o.isNumber)(k))W?Q.size(W,k):Q.size(k);else if(Object(o.isFunction)(k)){var K=O(y,"size");Q.size(K.join("*"),C(K,k))}else W&&Q.size(W,k);if(Object(o.isFunction)(V)){var K=O(y,"style");Q.style(K.join("*"),C(K,V))}else Object(o.isObject)(V)&&Q.style(V);if(z===!1?Q.tooltip(!1):Object(o.isEmpty)(z)||Q.tooltip(z.join("*"),C(z,tt)),N===!1)Q.label(!1);else if(N){var _=N.callback,Y=N.fields,q=Object(f.__rest)(N,["callback","fields"]);Q.label({fields:Y||[g],callback:_,cfg:Object(x.w)(q)})}return I&&Q.state(I),[L,g].filter(function(ot){return ot!==j}).forEach(function(ot){S.legend(ot,!1)}),Object(f.__assign)(Object(f.__assign)({},b),{ext:{geometry:Q}})}},cvn4:function(jt,A){function a(f,o,x){switch(x.length){case 0:return f.call(o);case 1:return f.call(o,x[0]);case 2:return f.call(o,x[0],x[1]);case 3:return f.call(o,x[0],x[1],x[2])}return f.apply(o,x)}jt.exports=a},"d/dq":function(jt,A,a){"use strict";a.r(A),a.d(A,"create",function(){return o}),a.d(A,"clone",function(){return x}),a.d(A,"fromValues",function(){return O}),a.d(A,"copy",function(){return C}),a.d(A,"set",function(){return P}),a.d(A,"add",function(){return b}),a.d(A,"subtract",function(){return S}),a.d(A,"multiply",function(){return y}),a.d(A,"divide",function(){return E}),a.d(A,"ceil",function(){return m}),a.d(A,"floor",function(){return T}),a.d(A,"min",function(){return L}),a.d(A,"max",function(){return g}),a.d(A,"round",function(){return j}),a.d(A,"scale",function(){return U}),a.d(A,"scaleAndAdd",function(){return W}),a.d(A,"distance",function(){return z}),a.d(A,"squaredDistance",function(){return N}),a.d(A,"length",function(){return I}),a.d(A,"squaredLength",function(){return B}),a.d(A,"negate",function(){return G}),a.d(A,"inverse",function(){return k}),a.d(A,"normalize",function(){return V}),a.d(A,"dot",function(){return tt}),a.d(A,"cross",function(){return Q}),a.d(A,"lerp",function(){return K}),a.d(A,"random",function(){return _}),a.d(A,"transformMat2",function(){return Y}),a.d(A,"transformMat2d",function(){return q}),a.d(A,"transformMat3",function(){return ot}),a.d(A,"transformMat4",function(){return ft}),a.d(A,"rotate",function(){return ct}),a.d(A,"angle",function(){return rt}),a.d(A,"zero",function(){return gt}),a.d(A,"str",function(){return Et}),a.d(A,"exactEquals",function(){return Gt}),a.d(A,"equals",function(){return Yt}),a.d(A,"len",function(){return Xt}),a.d(A,"sub",function(){return vt}),a.d(A,"mul",function(){return mt}),a.d(A,"div",function(){return ut}),a.d(A,"dist",function(){return st}),a.d(A,"sqrDist",function(){return lt}),a.d(A,"sqrLen",function(){return Tt}),a.d(A,"forEach",function(){return Ot});var f=a("TaHB");function o(){var et=new f.a(2);return f.a!=Float32Array&&(et[0]=0,et[1]=0),et}function x(et){var H=new f.a(2);return H[0]=et[0],H[1]=et[1],H}function O(et,H){var pt=new f.a(2);return pt[0]=et,pt[1]=H,pt}function C(et,H){return et[0]=H[0],et[1]=H[1],et}function P(et,H,pt){return et[0]=H,et[1]=pt,et}function b(et,H,pt){return et[0]=H[0]+pt[0],et[1]=H[1]+pt[1],et}function S(et,H,pt){return et[0]=H[0]-pt[0],et[1]=H[1]-pt[1],et}function y(et,H,pt){return et[0]=H[0]*pt[0],et[1]=H[1]*pt[1],et}function E(et,H,pt){return et[0]=H[0]/pt[0],et[1]=H[1]/pt[1],et}function m(et,H){return et[0]=Math.ceil(H[0]),et[1]=Math.ceil(H[1]),et}function T(et,H){return et[0]=Math.floor(H[0]),et[1]=Math.floor(H[1]),et}function L(et,H,pt){return et[0]=Math.min(H[0],pt[0]),et[1]=Math.min(H[1],pt[1]),et}function g(et,H,pt){return et[0]=Math.max(H[0],pt[0]),et[1]=Math.max(H[1],pt[1]),et}function j(et,H){return et[0]=Math.round(H[0]),et[1]=Math.round(H[1]),et}function U(et,H,pt){return et[0]=H[0]*pt,et[1]=H[1]*pt,et}function W(et,H,pt,nt){return et[0]=H[0]+pt[0]*nt,et[1]=H[1]+pt[1]*nt,et}function z(et,H){var pt=H[0]-et[0],nt=H[1]-et[1];return Math.hypot(pt,nt)}function N(et,H){var pt=H[0]-et[0],nt=H[1]-et[1];return pt*pt+nt*nt}function I(et){var H=et[0],pt=et[1];return Math.hypot(H,pt)}function B(et){var H=et[0],pt=et[1];return H*H+pt*pt}function G(et,H){return et[0]=-H[0],et[1]=-H[1],et}function k(et,H){return et[0]=1/H[0],et[1]=1/H[1],et}function V(et,H){var pt=H[0],nt=H[1],yt=pt*pt+nt*nt;return yt>0&&(yt=1/Math.sqrt(yt)),et[0]=H[0]*yt,et[1]=H[1]*yt,et}function tt(et,H){return et[0]*H[0]+et[1]*H[1]}function Q(et,H,pt){var nt=H[0]*pt[1]-H[1]*pt[0];return et[0]=et[1]=0,et[2]=nt,et}function K(et,H,pt,nt){var yt=H[0],Pt=H[1];return et[0]=yt+nt*(pt[0]-yt),et[1]=Pt+nt*(pt[1]-Pt),et}function _(et,H){H=H||1;var pt=f.c()*2*Math.PI;return et[0]=Math.cos(pt)*H,et[1]=Math.sin(pt)*H,et}function Y(et,H,pt){var nt=H[0],yt=H[1];return et[0]=pt[0]*nt+pt[2]*yt,et[1]=pt[1]*nt+pt[3]*yt,et}function q(et,H,pt){var nt=H[0],yt=H[1];return et[0]=pt[0]*nt+pt[2]*yt+pt[4],et[1]=pt[1]*nt+pt[3]*yt+pt[5],et}function ot(et,H,pt){var nt=H[0],yt=H[1];return et[0]=pt[0]*nt+pt[3]*yt+pt[6],et[1]=pt[1]*nt+pt[4]*yt+pt[7],et}function ft(et,H,pt){var nt=H[0],yt=H[1];return et[0]=pt[0]*nt+pt[4]*yt+pt[12],et[1]=pt[1]*nt+pt[5]*yt+pt[13],et}function ct(et,H,pt,nt){var yt=H[0]-pt[0],Pt=H[1]-pt[1],Rt=Math.sin(nt),Wt=Math.cos(nt);return et[0]=yt*Wt-Pt*Rt+pt[0],et[1]=yt*Rt+Pt*Wt+pt[1],et}function rt(et,H){var pt=et[0],nt=et[1],yt=H[0],Pt=H[1],Rt=Math.sqrt(pt*pt+nt*nt)*Math.sqrt(yt*yt+Pt*Pt),Wt=Rt&&(pt*yt+nt*Pt)/Rt;return Math.acos(Math.min(Math.max(Wt,-1),1))}function gt(et){return et[0]=0,et[1]=0,et}function Et(et){return"vec2("+et[0]+", "+et[1]+")"}function Gt(et,H){return et[0]===H[0]&&et[1]===H[1]}function Yt(et,H){var pt=et[0],nt=et[1],yt=H[0],Pt=H[1];return Math.abs(pt-yt)<=f.b*Math.max(1,Math.abs(pt),Math.abs(yt))&&Math.abs(nt-Pt)<=f.b*Math.max(1,Math.abs(nt),Math.abs(Pt))}var Xt=I,vt=S,mt=y,ut=E,st=z,lt=N,Tt=B,Ot=function(){var et=o();return function(H,pt,nt,yt,Pt,Rt){var Wt,Vt;for(pt||(pt=2),nt||(nt=0),yt?Vt=Math.min(yt*pt+nt,H.length):Vt=H.length,Wt=nt;Wt<Vt;Wt+=pt)et[0]=H[Wt],et[1]=H[Wt+1],Pt(et,et,Rt),H[Wt]=et[0],H[Wt+1]=et[1];return H}}()},dAAy:function(jt,A,a){"use strict";a.d(A,"a",function(){return j});var f=0,o=0,x=0,O=1e3,C,P,b=0,S=0,y=0,E=typeof performance=="object"&&performance.now?performance:Date,m=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(B){setTimeout(B,17)};function T(){return S||(m(L),S=E.now()+y)}function L(){S=0}function g(){this._call=this._time=this._next=null}g.prototype=j.prototype={constructor:g,restart:function(G,k,V){if(typeof G!="function")throw new TypeError("callback is not a function");V=(V==null?T():+V)+(k==null?0:+k),!this._next&&P!==this&&(P?P._next=this:C=this,P=this),this._call=G,this._time=V,I()},stop:function(){this._call&&(this._call=null,this._time=Infinity,I())}};function j(B,G,k){var V=new g;return V.restart(B,G,k),V}function U(){T(),++f;for(var B=C,G;B;)(G=S-B._time)>=0&&B._call.call(null,G),B=B._next;--f}function W(){S=(b=E.now())+y,f=o=0;try{U()}finally{f=0,N(),S=0}}function z(){var B=E.now(),G=B-b;G>O&&(y-=G,b=B)}function N(){for(var B,G=C,k,V=Infinity;G;)G._call?(V>G._time&&(V=G._time),B=G,G=G._next):(k=G._next,G._next=null,G=B?B._next=k:C=k);P=B,I(V)}function I(B){if(!f){o&&(o=clearTimeout(o));var G=B-S;G>24?(B<Infinity&&(o=setTimeout(W,B-E.now()-y)),x&&(x=clearInterval(x))):(x||(b=E.now(),x=setInterval(z,O)),f=1,m(W))}}},dOdv:function(jt,A,a){"use strict";a.d(A,"a",function(){return y});var f=a("CMID"),o=a("tqeG"),x=a("qo2e"),O=a("nHjW"),C=Object(O.c)({},o.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1}),P=a("JUmX"),b=a("jg4I"),S=function(E){Object(f.__extends)(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.active=function(){var T=this.getView(),L=this.context.event;if(L.data){var g=L.data.items,j=T.geometries.filter(function(U){return U.type==="point"});Object(b.each)(j,function(U){Object(b.each)(U.elements,function(W){var z=Object(b.findIndex)(g,function(N){return N.data===W.data})!==-1;W.setState("active",z)})})}},m.prototype.getView=function(){return this.context.view},m}(P.InteractionAction);Object(P.registerAction)("marker-active",S),Object(P.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var y=function(E){Object(f.__extends)(m,E);function m(){var T=E!==null&&E.apply(this,arguments)||this;return T.type="line",T}return m.getDefaultOptions=function(){return C},m.prototype.changeData=function(T){this.updateOption({data:T});var L=this,g=L.chart,j=L.options;Object(x.d)({chart:g,options:j}),this.chart.changeData(T)},m.prototype.getDefaultOptions=function(){return m.getDefaultOptions()},m.prototype.getSchemaAdaptor=function(){return x.a},m}(o.b)},dckT:function(jt,A,a){"use strict";var f=50,o=2,x=Math.log(2),O=jt.exports,C=a("t8pM");function P(S){return 1-Math.abs(S)}jt.exports.getUnifiedMinMax=function(S,y){return O.getUnifiedMinMaxMulti([S],y)},jt.exports.getUnifiedMinMaxMulti=function(S,y){y=y||{};var E=!1,m=!1,T=C.isNumber(y.width)?y.width:o,L=C.isNumber(y.size)?y.size:f,g=C.isNumber(y.min)?y.min:(E=!0,C.findMinMulti(S)),j=C.isNumber(y.max)?y.max:(m=!0,C.findMaxMulti(S)),U=j-g,W=U/(L-1);return E&&(g=g-2*T*W),m&&(j=j+2*T*W),{min:g,max:j}},jt.exports.create=function(S,y){if(y=y||{},!S||S.length===0)return[];var E=C.isNumber(y.size)?y.size:f,m=C.isNumber(y.width)?y.width:o,T=O.getUnifiedMinMax(S,{size:E,width:m,min:y.min,max:y.max}),L=T.min,g=T.max,j=g-L,U=j/(E-1);if(j===0)return[{x:L,y:1}];for(var W=[],z=0;z<E;z++)W.push({x:L+z*U,y:0});var N=function(_){return Math.floor((_-L)/U)},I=b(P,m),B=I[m],G=I[m-1]-I[m-2],k=0;S.forEach(function(K){var _=N(K);if(!(_+m<0||_-m>=W.length)){var Y=Math.max(_-m,0),q=_,ot=Math.min(_+m,W.length-1),ft=Y-(_-m),ct=_+m-ot,rt=I[-m-1+ft]||0,gt=I[-m-1+ct]||0,Et=B/(B-rt-gt);ft>0&&(k+=Et*(ft-1)*G);var Gt=Math.max(0,_-m+1);C.inside(0,W.length-1,Gt)&&(W[Gt].y+=Et*1*G),C.inside(0,W.length-1,q+1)&&(W[q+1].y-=Et*2*G),C.inside(0,W.length-1,ot+1)&&(W[ot+1].y+=Et*1*G)}});var V=k,tt=0,Q=0;return W.forEach(function(K){tt+=K.y,V+=tt,K.y=V,Q+=V}),Q>0&&W.forEach(function(K){K.y/=Q}),W};function b(S,y){for(var E={},m=0,T=-y;T<=y;T++)m+=S(T/y),E[T]=m;return E}jt.exports.getExpectedValueFromPdf=function(S){if(!(!S||S.length===0)){var y=0;return S.forEach(function(E){y+=E.x*E.y}),y}},jt.exports.getXWithLeftTailArea=function(S,y){if(!(!S||S.length===0)){for(var E=0,m=0,T=0;T<S.length&&(m=T,E+=S[T].y,!(E>=y));T++);return S[m].x}},jt.exports.getPerplexity=function(S){if(!(!S||S.length===0)){var y=0;return S.forEach(function(E){var m=Math.log(E.y);isFinite(m)&&(y+=E.y*m)}),y=-y/x,Math.pow(2,y)}}},devy:function(jt,A,a){"use strict";var f=a("XSdR");jt.exports=o;function o(C,P){var b={};f.forEach(C,function(y,E){var m=b[y.v]={indegree:0,in:[],out:[],vs:[y.v],i:E};f.isUndefined(y.barycenter)||(m.barycenter=y.barycenter,m.weight=y.weight)}),f.forEach(P.edges(),function(y){var E=b[y.v],m=b[y.w];!f.isUndefined(E)&&!f.isUndefined(m)&&(m.indegree++,E.out.push(b[y.w]))});var S=f.filter(b,function(y){return!y.indegree});return x(S)}function x(C){var P=[];function b(E){return function(m){m.merged||(f.isUndefined(m.barycenter)||f.isUndefined(E.barycenter)||m.barycenter>=E.barycenter)&&O(E,m)}}function S(E){return function(m){m.in.push(E),--m.indegree==0&&C.push(m)}}for(;C.length;){var y=C.pop();P.push(y),f.forEach(y.in.reverse(),b(y)),f.forEach(y.out,S(y))}return f.map(f.filter(P,function(E){return!E.merged}),function(E){return f.pick(E,["vs","i","barycenter","weight"])})}function O(C,P){var b=0,S=0;C.weight&&(b+=C.barycenter*C.weight,S+=C.weight),P.weight&&(b+=P.barycenter*P.weight,S+=P.weight),C.vs=P.vs.concat(C.vs),C.barycenter=b/S,C.weight=S,C.i=Math.min(P.i,C.i),P.merged=!0}},dhvM:function(jt,A,a){var f=a("WeNx"),o=a("MbSy"),x=a("qXgj");function O(C,P){return x(o(C,P,f),C+"")}jt.exports=O},dzzI:function(jt,A,a){var f=a("XSdR"),o=a("hppO");jt.exports=x;function x(C){function P(b){var S=C.children(b),y=C.node(b);if(S.length&&f.forEach(S,P),f.has(y,"minRank")){y.borderLeft=[],y.borderRight=[];for(var E=y.minRank,m=y.maxRank+1;E<m;++E)O(C,"borderLeft","_bl",b,y,E),O(C,"borderRight","_br",b,y,E)}}f.forEach(C.children(),P)}function O(C,P,b,S,y,E){var m={width:0,height:0,rank:E,borderType:P},T=y[P][E-1],L=o.addDummyNode(C,"border",m,b);y[P][E]=L,C.setParent(L,S),T&&C.setEdge(T,L,{weight:1})}},e5xd:function(jt,A,a){var f=a("DhYH"),o=a("ql+n");jt.exports=x;function x(O,C,P){return o.transform(O.nodes(),function(b,S){b[S]=f(O,S,C,P)},{})}},e9gb:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MESSAGE=A.ALGORITHM=void 0;var f={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};A.ALGORITHM=f;var o={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};A.MESSAGE=o},ebDh:function(jt,A){jt.exports=a;function a(f){var o=f[0],x=f[1];return o*o+x*x}},efFw:function(jt,A,a){(function(o,x){jt.exports=x()})(typeof self!="undefined"?self:this,function(){return function(f){var o={};function x(O){if(o[O])return o[O].exports;var C=o[O]={i:O,l:!1,exports:{}};return f[O].call(C.exports,C,C.exports,x),C.l=!0,C.exports}return x.m=f,x.c=o,x.d=function(O,C,P){x.o(O,C)||Object.defineProperty(O,C,{configurable:!1,enumerable:!0,get:P})},x.n=function(O){var C=O&&O.__esModule?function(){return O.default}:function(){return O};return x.d(C,"a",C),C},x.o=function(O,C){return Object.prototype.hasOwnProperty.call(O,C)},x.p="",x(x.s=31)}([function(f,o,x){"use strict";var O=x(4);o.a=function(C){return Array.isArray?Array.isArray(C):Object(O.a)(C,"Array")}},function(f,o,x){"use strict";var O=function(P){return P!==null&&typeof P!="function"&&isFinite(P.length)};o.a=O},function(f,o,x){"use strict";var O=x(0),C=x(13);function P(b,S){if(!!b){var y;if(Object(O.a)(b))for(var E=0,m=b.length;E<m&&(y=S(b[E],E),y!==!1);E++);else if(Object(C.a)(b)){for(var T in b)if(b.hasOwnProperty(T)&&(y=S(b[T],T),y===!1))break}}}o.a=P},function(f,o,x){"use strict";var O=x(4);o.a=function(C){return Object(O.a)(C,"Function")}},function(f,o,x){"use strict";var O={}.toString,C=function(b,S){return O.call(b)==="[object "+S+"]"};o.a=C},function(f,o,x){"use strict";var O=x(4),C=function(b){return Object(O.a)(b,"Number")};o.a=C},function(f,o,x){"use strict";var O=function(P){return P==null};o.a=O},function(f,o,x){var O=x(33),C=O.mix;f.exports={assign:C}},function(f,o,x){"use strict";var O=x(4);o.a=function(C){return Object(O.a)(C,"String")}},function(f,o,x){"use strict";var O=x(15),C=x(4),P=function(S){if(!Object(O.a)(S)||!Object(C.a)(S,"Object"))return!1;if(Object.getPrototypeOf(S)===null)return!0;for(var y=S;Object.getPrototypeOf(y)!==null;)y=Object.getPrototypeOf(y);return Object.getPrototypeOf(S)===y};o.a=P},function(f,o,x){"use strict";var O=x(6);o.a=function(C){return Object(O.a)(C)?"":C.toString()}},function(f,o,x){var O=x(18),C=function(){function P(S,y){y===void 0&&(y={});var E=this;E.options=y,E.rootNode=O(S,y)}var b=P.prototype;return b.execute=function(){throw new Error("please override this method")},P}();f.exports=C},function(f,o,x){"use strict";var O=x(1),C=function(b,S){return Object(O.a)(b)?b.indexOf(S)>-1:!1};o.a=C},function(f,o,x){"use strict";o.a=function(O){var C=typeof O;return O!==null&&C==="object"||C==="function"}},function(f,o,x){"use strict";var O=x(2),C=x(1),P=function(S,y){if(!Object(C.a)(S))return S;var E=[];return Object(O.a)(S,function(m,T){y(m,T)&&E.push(m)}),E};o.a=P},function(f,o,x){"use strict";var O=function(P){return typeof P=="object"&&P!==null};o.a=O},function(f,o,x){"use strict";o.a=C;function O(P,b){for(var S in b)b.hasOwnProperty(S)&&S!=="constructor"&&b[S]!==void 0&&(P[S]=b[S])}function C(P,b,S,y){return b&&O(P,b),S&&O(P,S),y&&O(P,y),P}},function(f,o,x){var O=x(30),C=["LR","RL","TB","BT","H","V"],P=["LR","RL","H"],b=function(E){return P.indexOf(E)>-1},S=C[0];f.exports=function(y,E,m){var T=E.direction||S;if(E.isHorizontal=b(T),T&&C.indexOf(T)===-1)throw new TypeError("Invalid direction: "+T);if(T===C[0])m(y,E);else if(T===C[1])m(y,E),y.right2left();else if(T===C[2])m(y,E);else if(T===C[3])m(y,E),y.bottom2top();else if(T===C[4]||T===C[5]){var L=O(y,E),g=L.left,j=L.right;m(g,E),m(j,E),E.isHorizontal?g.right2left():g.bottom2top(),j.translate(g.x-j.x,g.y-j.y),y.x=g.x,y.y=j.y;var U=y.getBoundingBox();E.isHorizontal?U.top<0&&y.translate(0,-U.top):U.left<0&&y.translate(-U.left,0)}var W=E.fixedRoot;return W===void 0&&(W=!0),W&&y.translate(-(y.x+y.width/2+y.hgap),-(y.y+y.height/2+y.vgap)),y}},function(f,o,x){var O=x(7),C=18,P=C*2,b=C,S={getId:function(T){return T.id||T.name},getPreH:function(T){return T.preH||0},getPreV:function(T){return T.preV||0},getHGap:function(T){return T.hgap||b},getVGap:function(T){return T.vgap||b},getChildren:function(T){return T.children},getHeight:function(T){return T.height||P},getWidth:function(T){var L=T.label||" ";return T.width||L.split("").length*C}};function y(m,T){var L=this;if(L.vgap=L.hgap=0,m instanceof y)return m;L.data=m;var g=T.getHGap(m),j=T.getVGap(m);return L.preH=T.getPreH(m),L.preV=T.getPreV(m),L.width=T.getWidth(m),L.height=T.getHeight(m),L.width+=L.preH,L.height+=L.preV,L.id=T.getId(m),L.x=L.y=0,L.depth=0,L.children||(L.children=[]),L.addGap(g,j),L}O.assign(y.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(T,L){var g=this;g.hgap+=T,g.vgap+=L,g.width+=2*T,g.height+=2*L},eachNode:function(T){for(var L=this,g=[L],j;j=g.shift();)T(j),g=j.children.concat(g)},DFTraverse:function(T){this.eachNode(T)},BFTraverse:function(T){for(var L=this,g=[L],j;j=g.shift();)T(j),g=g.concat(j.children)},getBoundingBox:function(){var T={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(L){T.left=Math.min(T.left,L.x),T.top=Math.min(T.top,L.y),T.width=Math.max(T.width,L.x+L.width),T.height=Math.max(T.height,L.y+L.height)}),T},translate:function(T,L){T===void 0&&(T=0),L===void 0&&(L=0),this.eachNode(function(g){g.x+=T,g.y+=L,g.x+=g.preH,g.y+=g.preV})},right2left:function(){var T=this,L=T.getBoundingBox();T.eachNode(function(g){g.x=g.x-(g.x-L.left)*2-g.width}),T.translate(L.width,0)},bottom2top:function(){var T=this,L=T.getBoundingBox();T.eachNode(function(g){g.y=g.y-(g.y-L.top)*2-g.height}),T.translate(0,L.height)}});function E(m,T,L){T===void 0&&(T={}),T=O.assign({},S,T);var g=new y(m,T),j=[g],U;if(!L&&!m.collapsed){for(;U=j.shift();)if(!U.data.collapsed){var W=T.getChildren(U.data),z=W?W.length:0;if(U.children=new Array(z),W&&z)for(var N=0;N<z;N++){var I=new y(W[N],T);U.children[N]=I,j.push(I),I.parent=U,I.depth=U.depth+1}}}return g}f.exports=E},function(f,o,x){"use strict";var O=x(6),C=x(20);function P(b,S){var y=Object(C.a)(S),E=y.length;if(Object(O.a)(b))return!E;for(var m=0;m<E;m+=1){var T=y[m];if(S[T]!==b[T]||!(T in b))return!1}return!0}o.a=P},function(f,o,x){"use strict";var O=x(2),C=x(3),P=Object.keys?function(b){return Object.keys(b)}:function(b){var S=[];return Object(O.a)(b,function(y,E){Object(C.a)(b)&&E==="prototype"||S.push(E)}),S};o.a=P},function(f,o,x){"use strict";var O=x(1),C=Array.prototype.splice,P=function(S,y){if(!Object(O.a)(S))return[];for(var E=S?y.length:0,m=E-1;E--;){var T=void 0,L=y[E];(E===m||L!==T)&&(T=L,C.call(S,L,1))}return S};o.a=P},function(f,o,x){"use strict";var O=x(12),C=x(2),P=function(S){var y=[];return Object(C.a)(S,function(E){Object(O.a)(y,E)||y.push(E)}),y};o.a=P},function(f,o,x){"use strict";var O=x(0),C=x(3),P=x(24),b=function(y,E){if(!E)return{0:y};if(!Object(C.a)(E)){var m=Object(O.a)(E)?E:E.replace(/\s+/g,"").split("*");E=function(g){for(var j="_",U=0,W=m.length;U<W;U++)j+=g[m[U]]&&g[m[U]].toString();return j}}var T=Object(P.a)(y,E);return T};o.a=b},function(f,o,x){"use strict";var O=x(2),C=x(0),P=x(3),b=Object.prototype.hasOwnProperty;function S(y,E){if(!E||!Object(C.a)(y))return{};var m={},T=Object(P.a)(E)?E:function(g){return g[E]},L;return Object(O.a)(y,function(g){L=T(g),b.call(m,L)?m[L].push(g):m[L]=[g]}),m}o.a=S},function(f,o,x){"use strict";o.a=function(O,C){return O.hasOwnProperty(C)}},function(f,o,x){"use strict";var O=x(2),C=x(3),P=Object.values?function(b){return Object.values(b)}:function(b){var S=[];return Object(O.a)(b,function(y,E){Object(C.a)(b)&&E==="prototype"||S.push(y)}),S};o.a=P},function(f,o,x){"use strict";var O={}.toString,C=function(b){return O.call(b).replace(/^\[object /,"").replace(/]$/,"")};o.a=C},function(f,o,x){"use strict";var O=Object.prototype,C=function(b){var S=b&&b.constructor,y=typeof S=="function"&&S.prototype||O;return b===y};o.a=C},function(f,o,x){"use strict";var O=x(15),C=x(1),P=x(8),b=function S(y,E){if(y===E)return!0;if(!y||!E||Object(P.a)(y)||Object(P.a)(E))return!1;if(Object(C.a)(y)||Object(C.a)(E)){if(y.length!==E.length)return!1;for(var m=!0,T=0;T<y.length&&(m=S(y[T],E[T]),!!m);T++);return m}if(Object(O.a)(y)||Object(O.a)(E)){var L=Object.keys(y),g=Object.keys(E);if(L.length!==g.length)return!1;for(var m=!0,T=0;T<L.length&&(m=S(y[L[T]],E[L[T]]),!!m);T++);return m}return!1};o.a=b},function(f,o,x){var O=x(18);f.exports=function(C,P){for(var b=O(C.data,P,!0),S=O(C.data,P,!0),y=C.children.length,E=Math.round(y/2),m=P.getSide||function(j,U){return U<E?"right":"left"},T=0;T<y;T++){var L=C.children[T],g=m(L,T);g==="right"?S.children.push(L):b.children.push(L)}return b.eachNode(function(j){j.isRoot()||(j.side="left")}),S.eachNode(function(j){j.isRoot()||(j.side="right")}),{left:b,right:S}}},function(f,o,x){var O={compactBox:x(32),dendrogram:x(114),indented:x(116),mindmap:x(118)};f.exports=O},function(f,o,x){function O(T,L){T.prototype=Object.create(L.prototype),T.prototype.constructor=T,T.__proto__=L}var C=x(11),P=x(113),b=x(17),S=x(7),y=function(T){O(L,T);function L(){return T.apply(this,arguments)||this}var g=L.prototype;return g.execute=function(){var U=this;return b(U.rootNode,U.options,P)},L}(C),E={};function m(T,L){return L=S.assign({},E,L),new y(T,L).execute()}f.exports=m},function(f,o,x){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var O=x(12);x.d(o,"contains",function(){return O.a}),x.d(o,"includes",function(){return O.a});var C=x(34);x.d(o,"difference",function(){return C.a});var P=x(35);x.d(o,"find",function(){return P.a});var b=x(36);x.d(o,"findIndex",function(){return b.a});var S=x(37);x.d(o,"firstValue",function(){return S.a});var y=x(38);x.d(o,"flatten",function(){return y.a});var E=x(39);x.d(o,"flattenDeep",function(){return E.a});var m=x(40);x.d(o,"getRange",function(){return m.a});var T=x(41);x.d(o,"pull",function(){return T.a});var L=x(21);x.d(o,"pullAt",function(){return L.a});var g=x(42);x.d(o,"reduce",function(){return g.a});var j=x(43);x.d(o,"remove",function(){return j.a});var U=x(44);x.d(o,"sortBy",function(){return U.a});var W=x(45);x.d(o,"union",function(){return W.a});var z=x(22);x.d(o,"uniq",function(){return z.a});var N=x(46);x.d(o,"valuesOfKey",function(){return N.a});var I=x(47);x.d(o,"head",function(){return I.a});var B=x(48);x.d(o,"last",function(){return B.a});var G=x(49);x.d(o,"startsWith",function(){return G.a});var k=x(50);x.d(o,"endsWith",function(){return k.a});var V=x(14);x.d(o,"filter",function(){return V.a});var tt=x(51);x.d(o,"every",function(){return tt.a});var Q=x(52);x.d(o,"some",function(){return Q.a});var K=x(53);x.d(o,"group",function(){return K.a});var _=x(24);x.d(o,"groupBy",function(){return _.a});var Y=x(23);x.d(o,"groupToMap",function(){return Y.a});var q=x(54);x.d(o,"getWrapBehavior",function(){return q.a});var ot=x(55);x.d(o,"wrapBehavior",function(){return ot.a});var ft=x(56);x.d(o,"number2color",function(){return ft.a});var ct=x(57);x.d(o,"parseRadius",function(){return ct.a});var rt=x(58);x.d(o,"clamp",function(){return rt.a});var gt=x(59);x.d(o,"fixedBase",function(){return gt.a});var Et=x(60);x.d(o,"isDecimal",function(){return Et.a});var Gt=x(61);x.d(o,"isEven",function(){return Gt.a});var Yt=x(62);x.d(o,"isInteger",function(){return Yt.a});var Xt=x(63);x.d(o,"isNegative",function(){return Xt.a});var vt=x(64);x.d(o,"isNumberEqual",function(){return vt.a});var mt=x(65);x.d(o,"isOdd",function(){return mt.a});var ut=x(66);x.d(o,"isPositive",function(){return ut.a});var st=x(67);x.d(o,"maxBy",function(){return st.a});var lt=x(68);x.d(o,"minBy",function(){return lt.a});var Tt=x(69);x.d(o,"mod",function(){return Tt.a});var Ot=x(70);x.d(o,"toDegree",function(){return Ot.a});var et=x(71);x.d(o,"toInteger",function(){return et.a});var H=x(72);x.d(o,"toRadian",function(){return H.a});var pt=x(73);x.d(o,"forIn",function(){return pt.a});var nt=x(25);x.d(o,"has",function(){return nt.a});var yt=x(74);x.d(o,"hasKey",function(){return yt.a});var Pt=x(75);x.d(o,"hasValue",function(){return Pt.a});var Rt=x(20);x.d(o,"keys",function(){return Rt.a});var Wt=x(19);x.d(o,"isMatch",function(){return Wt.a});var Vt=x(26);x.d(o,"values",function(){return Vt.a});var Lt=x(76);x.d(o,"lowerCase",function(){return Lt.a});var Ct=x(77);x.d(o,"lowerFirst",function(){return Ct.a});var at=x(78);x.d(o,"substitute",function(){return at.a});var It=x(79);x.d(o,"upperCase",function(){return It.a});var Ft=x(80);x.d(o,"upperFirst",function(){return Ft.a});var xt=x(27);x.d(o,"getType",function(){return xt.a});var Nt=x(81);x.d(o,"isArguments",function(){return Nt.a});var Ht=x(0);x.d(o,"isArray",function(){return Ht.a});var Bt=x(1);x.d(o,"isArrayLike",function(){return Bt.a});var Ut=x(82);x.d(o,"isBoolean",function(){return Ut.a});var Jt=x(83);x.d(o,"isDate",function(){return Jt.a});var oe=x(84);x.d(o,"isError",function(){return oe.a});var ge=x(3);x.d(o,"isFunction",function(){return ge.a});var Ce=x(85);x.d(o,"isFinite",function(){return Ce.a});var Ie=x(6);x.d(o,"isNil",function(){return Ie.a});var We=x(86);x.d(o,"isNull",function(){return We.a});var lr=x(5);x.d(o,"isNumber",function(){return lr.a});var rr=x(13);x.d(o,"isObject",function(){return rr.a});var $e=x(15);x.d(o,"isObjectLike",function(){return $e.a});var Ue=x(9);x.d(o,"isPlainObject",function(){return Ue.a});var ir=x(28);x.d(o,"isPrototype",function(){return ir.a});var xr=x(87);x.d(o,"isRegExp",function(){return xr.a});var nr=x(8);x.d(o,"isString",function(){return nr.a});var tn=x(4);x.d(o,"isType",function(){return tn.a});var bn=x(88);x.d(o,"isUndefined",function(){return bn.a});var Ur=x(89);x.d(o,"isElement",function(){return Ur.a});var Le=x(90);x.d(o,"requestAnimationFrame",function(){return Le.a});var or=x(91);x.d(o,"clearAnimationFrame",function(){return or.a});var Gr=x(92);x.d(o,"augment",function(){return Gr.a});var Kr=x(93);x.d(o,"clone",function(){return Kr.a});var $r=x(94);x.d(o,"debounce",function(){return $r.a});var jn=x(95);x.d(o,"memoize",function(){return jn.a});var Qn=x(96);x.d(o,"deepMix",function(){return Qn.a});var Bn=x(2);x.d(o,"each",function(){return Bn.a});var Nn=x(97);x.d(o,"extend",function(){return Nn.a});var Xn=x(98);x.d(o,"indexOf",function(){return Xn.a});var ri=x(99);x.d(o,"isEmpty",function(){return ri.a});var In=x(29);x.d(o,"isEqual",function(){return In.a});var gi=x(100);x.d(o,"isEqualWith",function(){return gi.a});var oa=x(101);x.d(o,"map",function(){return oa.a});var wa=x(102);x.d(o,"mapValues",function(){return wa.a});var Ea=x(16);x.d(o,"mix",function(){return Ea.a}),x.d(o,"assign",function(){return Ea.a});var Vi=x(103);x.d(o,"get",function(){return Vi.a});var fa=x(104);x.d(o,"set",function(){return fa.a});var Li=x(105);x.d(o,"pick",function(){return Li.a});var Ji=x(106);x.d(o,"throttle",function(){return Ji.a});var Xi=x(107);x.d(o,"toArray",function(){return Xi.a});var Hi=x(10);x.d(o,"toString",function(){return Hi.a});var pa=x(108);x.d(o,"uniqueId",function(){return pa.a});var uo=x(109);x.d(o,"noop",function(){return uo.a});var Mo=x(110);x.d(o,"identity",function(){return Mo.a});var co=x(111);x.d(o,"size",function(){return co.a});var Sa=x(112);x.d(o,"Cache",function(){return Sa.a})},function(f,o,x){"use strict";var O=x(14),C=x(12),P=function(S,y){return y===void 0&&(y=[]),Object(O.a)(S,function(E){return!Object(C.a)(y,E)})};o.a=P},function(f,o,x){"use strict";var O=x(3),C=x(19),P=x(0),b=x(9);function S(y,E){if(!Object(P.a)(y))return null;var m;if(Object(O.a)(E)&&(m=E),Object(b.a)(E)&&(m=function(g){return Object(C.a)(g,E)}),m){for(var T=0;T<y.length;T+=1)if(m(y[T]))return y[T]}return null}o.a=S},function(f,o,x){"use strict";function O(C,P,b){b===void 0&&(b=0);for(var S=b;S<C.length;S++)if(P(C[S],S))return S;return-1}o.a=O},function(f,o,x){"use strict";var O=x(6),C=x(0),P=function(S,y){for(var E=null,m=0;m<S.length;m++){var T=S[m],L=T[y];if(!Object(O.a)(L)){Object(C.a)(L)?E=L[0]:E=L;break}}return E};o.a=P},function(f,o,x){"use strict";var O=x(0),C=function(b){if(!Object(O.a)(b))return[];for(var S=[],y=0;y<b.length;y++)S=S.concat(b[y]);return S};o.a=C},function(f,o,x){"use strict";var O=x(0),C=function P(b,S){if(S===void 0&&(S=[]),!Object(O.a)(b))S.push(b);else for(var y=0;y<b.length;y+=1)P(b[y],S);return S};o.a=C},function(f,o,x){"use strict";var O=x(0),C=x(14),P=function(S){if(S=Object(C.a)(S,function(L){return!isNaN(L)}),!S.length)return{min:0,max:0};if(Object(O.a)(S[0])){for(var y=[],E=0;E<S.length;E++)y=y.concat(S[E]);S=y}var m=Math.max.apply(null,S),T=Math.min.apply(null,S);return{min:T,max:m}};o.a=P},function(f,o,x){"use strict";var O=Array.prototype,C=O.splice,P=O.indexOf,b=function(y){for(var E=[],m=1;m<arguments.length;m++)E[m-1]=arguments[m];for(var T=0;T<E.length;T++)for(var L=E[T],g=-1;(g=P.call(y,L))>-1;)C.call(y,g,1);return y};o.a=b},function(f,o,x){"use strict";var O=x(2),C=x(0),P=x(9),b=function(y,E,m){if(!Object(C.a)(y)&&!Object(P.a)(y))return y;var T=m;return Object(O.a)(y,function(L,g){T=E(T,L,g)}),T};o.a=b},function(f,o,x){"use strict";var O=x(1),C=x(21),P=function(S,y){var E=[];if(!Object(O.a)(S))return E;for(var m=-1,T=[],L=S.length;++m<L;){var g=S[m];y(g,m,S)&&(E.push(g),T.push(m))}return Object(C.a)(S,T),E};o.a=P},function(f,o,x){"use strict";var O=x(0),C=x(8),P=x(3);function b(S,y){var E;if(Object(P.a)(y))E=function(L,g){return y(L)-y(g)};else{var m=[];Object(C.a)(y)?m.push(y):Object(O.a)(y)&&(m=y),E=function(L,g){for(var j=0;j<m.length;j+=1){var U=m[j];if(L[U]>g[U])return 1;if(L[U]<g[U])return-1}return 0}}return S.sort(E),S}o.a=b},function(f,o,x){"use strict";var O=x(22),C=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];return Object(O.a)([].concat.apply([],b))};o.a=C},function(f,o,x){"use strict";var O=x(2),C=x(0),P=x(6);o.a=function(b,S){var y=[],E={};return b.forEach(function(m){var T=m[S];Object(P.a)(T)||(Object(C.a)(T)||(T=[T]),Object(O.a)(T,function(L){E[L]||(y.push(L),E[L]=!0)}))}),y}},function(f,o,x){"use strict";o.a=C;var O=x(1);function C(P){if(Object(O.a)(P))return P[0]}},function(f,o,x){"use strict";o.a=C;var O=x(1);function C(P){if(Object(O.a)(P)){var b=P;return b[b.length-1]}}},function(f,o,x){"use strict";var O=x(0),C=x(8);function P(b,S){return Object(O.a)(b)||Object(C.a)(b)?b[0]===S:!1}o.a=P},function(f,o,x){"use strict";var O=x(0),C=x(8);function P(b,S){return Object(O.a)(b)||Object(C.a)(b)?b[b.length-1]===S:!1}o.a=P},function(f,o,x){"use strict";var O=function(P,b){for(var S=0;S<P.length;S++)if(!b(P[S],S))return!1;return!0};o.a=O},function(f,o,x){"use strict";var O=function(P,b){for(var S=0;S<P.length;S++)if(b(P[S],S))return!0;return!1};o.a=O},function(f,o,x){"use strict";var O=x(23);o.a=function(C,P){if(!P)return[C];var b=Object(O.a)(C,P),S=[];for(var y in b)S.push(b[y]);return S}},function(f,o,x){"use strict";function O(C,P){return C["_wrap_"+P]}o.a=O},function(f,o,x){"use strict";function O(C,P){if(C["_wrap_"+P])return C["_wrap_"+P];var b=function(y){C[P](y)};return C["_wrap_"+P]=b,b}o.a=O},function(f,o,x){"use strict";var O={};function C(P){var b=O[P];if(!b){for(var S=P.toString(16),y=S.length;y<6;y++)S="0"+S;b="#"+S,O[P]=b}return b}o.a=C},function(f,o,x){"use strict";var O=x(0);function C(P){var b=0,S=0,y=0,E=0;return Object(O.a)(P)?P.length===1?b=S=y=E=P[0]:P.length===2?(b=y=P[0],S=E=P[1]):P.length===3?(b=P[0],S=E=P[1],y=P[2]):(b=P[0],S=P[1],y=P[2],E=P[3]):b=S=y=E=P,{r1:b,r2:S,r3:y,r4:E}}o.a=C},function(f,o,x){"use strict";var O=function(P,b,S){return P<b?b:P>S?S:P};o.a=O},function(f,o,x){"use strict";var O=function(P,b){var S=b.toString(),y=S.indexOf(".");if(y===-1)return Math.round(P);var E=S.substr(y+1).length;return E>20&&(E=20),parseFloat(P.toFixed(E))};o.a=O},function(f,o,x){"use strict";var O=x(5),C=function(b){return Object(O.a)(b)&&b%1!=0};o.a=C},function(f,o,x){"use strict";var O=x(5),C=function(b){return Object(O.a)(b)&&b%2==0};o.a=C},function(f,o,x){"use strict";var O=x(5),C=Number.isInteger?Number.isInteger:function(P){return Object(O.a)(P)&&P%1==0};o.a=C},function(f,o,x){"use strict";var O=x(5),C=function(b){return Object(O.a)(b)&&b<0};o.a=C},function(f,o,x){"use strict";o.a=C;var O=1e-5;function C(P,b,S){return S===void 0&&(S=O),Math.abs(P-b)<S}},function(f,o,x){"use strict";var O=x(5),C=function(b){return Object(O.a)(b)&&b%2!=0};o.a=C},function(f,o,x){"use strict";var O=x(5),C=function(b){return Object(O.a)(b)&&b>0};o.a=C},function(f,o,x){"use strict";var O=x(2),C=x(0),P=x(3);o.a=function(b,S){if(!!Object(C.a)(b)){var y=b[0],E;Object(P.a)(S)?E=S(b[0]):E=b[0][S];var m;return Object(O.a)(b,function(T){Object(P.a)(S)?m=S(T):m=T[S],m>E&&(y=T,E=m)}),y}}},function(f,o,x){"use strict";var O=x(2),C=x(0),P=x(3);o.a=function(b,S){if(!!Object(C.a)(b)){var y=b[0],E;Object(P.a)(S)?E=S(b[0]):E=b[0][S];var m;return Object(O.a)(b,function(T){Object(P.a)(S)?m=S(T):m=T[S],m<E&&(y=T,E=m)}),y}}},function(f,o,x){"use strict";var O=function(P,b){return(P%b+b)%b};o.a=O},function(f,o,x){"use strict";var O=180/Math.PI,C=function(b){return O*b};o.a=C},function(f,o,x){"use strict";o.a=parseInt},function(f,o,x){"use strict";var O=Math.PI/180,C=function(b){return O*b};o.a=C},function(f,o,x){"use strict";var O=x(2);o.a=O.a},function(f,o,x){"use strict";var O=x(25);o.a=O.a},function(f,o,x){"use strict";var O=x(12),C=x(26);o.a=function(P,b){return Object(O.a)(Object(C.a)(P),b)}},function(f,o,x){"use strict";var O=x(10),C=function(b){return Object(O.a)(b).toLowerCase()};o.a=C},function(f,o,x){"use strict";var O=x(10),C=function(b){var S=Object(O.a)(b);return S.charAt(0).toLowerCase()+S.substring(1)};o.a=C},function(f,o,x){"use strict";function O(C,P){return!C||!P?C:C.replace(/\\?\{([^{}]+)\}/g,function(b,S){return b.charAt(0)==="\\"?b.slice(1):P[S]===void 0?"":P[S]})}o.a=O},function(f,o,x){"use strict";var O=x(10),C=function(b){return Object(O.a)(b).toUpperCase()};o.a=C},function(f,o,x){"use strict";var O=x(10),C=function(b){var S=Object(O.a)(b);return S.charAt(0).toUpperCase()+S.substring(1)};o.a=C},function(f,o,x){"use strict";var O=x(4),C=function(b){return Object(O.a)(b,"Arguments")};o.a=C},function(f,o,x){"use strict";var O=x(4),C=function(b){return Object(O.a)(b,"Boolean")};o.a=C},function(f,o,x){"use strict";var O=x(4),C=function(b){return Object(O.a)(b,"Date")};o.a=C},function(f,o,x){"use strict";var O=x(4),C=function(b){return Object(O.a)(b,"Error")};o.a=C},function(f,o,x){"use strict";var O=x(5);o.a=function(C){return Object(O.a)(C)&&isFinite(C)}},function(f,o,x){"use strict";var O=function(P){return P===null};o.a=O},function(f,o,x){"use strict";var O=x(4),C=function(b){return Object(O.a)(b,"RegExp")};o.a=C},function(f,o,x){"use strict";var O=function(P){return P===void 0};o.a=O},function(f,o,x){"use strict";var O=function(P){return P instanceof Element||P instanceof HTMLDocument};o.a=O},function(f,o,x){"use strict";o.a=O;function O(C){var P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(b){return setTimeout(b,16)};return P(C)}},function(f,o,x){"use strict";o.a=O;function O(C){var P=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;P(C)}},function(f,o,x){"use strict";var O=x(16),C=x(3),P=function(){for(var S=[],y=0;y<arguments.length;y++)S[y]=arguments[y];for(var E=S[0],m=1;m<S.length;m++){var T=S[m];Object(C.a)(T)&&(T=T.prototype),Object(O.a)(E.prototype,T)}};o.a=P},function(f,o,x){"use strict";var O=x(0),C=function P(b){if(typeof b!="object"||b===null)return b;var S;if(Object(O.a)(b)){S=[];for(var y=0,E=b.length;y<E;y++)typeof b[y]=="object"&&b[y]!=null?S[y]=P(b[y]):S[y]=b[y]}else{S={};for(var m in b)typeof b[m]=="object"&&b[m]!=null?S[m]=P(b[m]):S[m]=b[m]}return S};o.a=C},function(f,o,x){"use strict";function O(C,P,b){var S;return function(){var y=this,E=arguments,m=function(){S=null,b||C.apply(y,E)},T=b&&!S;clearTimeout(S),S=setTimeout(m,P),T&&C.apply(y,E)}}o.a=O},function(f,o,x){"use strict";var O=x(3);o.a=function(C,P){if(!Object(O.a)(C))throw new TypeError("Expected a function");var b=function S(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];var m=P?P.apply(this,y):y[0],T=S.cache;if(T.has(m))return T.get(m);var L=C.apply(this,y);return T.set(m,L),L};return b.cache=new Map,b}},function(f,o,x){"use strict";var O=x(0),C=x(9),P=5;function b(y,E,m,T){m=m||0,T=T||P;for(var L in E)if(E.hasOwnProperty(L)){var g=E[L];g!==null&&Object(C.a)(g)?(Object(C.a)(y[L])||(y[L]={}),m<T?b(y[L],g,m+1,T):y[L]=E[L]):Object(O.a)(g)?(y[L]=[],y[L]=y[L].concat(g)):g!==void 0&&(y[L]=g)}}var S=function(E){for(var m=[],T=1;T<arguments.length;T++)m[T-1]=arguments[T];for(var L=0;L<m.length;L+=1)b(E,m[L]);return E};o.a=S},function(f,o,x){"use strict";var O=x(16),C=x(3),P=function(S,y,E,m){Object(C.a)(y)||(E=y,y=S,S=function(){});var T=Object.create?function(g,j){return Object.create(g,{constructor:{value:j}})}:function(g,j){function U(){}U.prototype=g;var W=new U;return W.constructor=j,W},L=T(y.prototype,S);return S.prototype=Object(O.a)(L,S.prototype),S.superclass=T(y.prototype,y),Object(O.a)(L,E),Object(O.a)(S,m),S};o.a=P},function(f,o,x){"use strict";var O=x(1),C=function(b,S){if(!Object(O.a)(b))return-1;var y=Array.prototype.indexOf;if(y)return y.call(b,S);for(var E=-1,m=0;m<b.length;m++)if(b[m]===S){E=m;break}return E};o.a=C},function(f,o,x){"use strict";var O=x(6),C=x(1),P=x(27),b=x(28),S=Object.prototype.hasOwnProperty;function y(E){if(Object(O.a)(E))return!0;if(Object(C.a)(E))return!E.length;var m=Object(P.a)(E);if(m==="Map"||m==="Set")return!E.size;if(Object(b.a)(E))return!Object.keys(E).length;for(var T in E)if(S.call(E,T))return!1;return!0}o.a=y},function(f,o,x){"use strict";var O=x(3),C=x(29);o.a=function(P,b,S){return Object(O.a)(S)?!!S(P,b):Object(C.a)(P,b)}},function(f,o,x){"use strict";var O=x(2),C=x(1),P=function(S,y){if(!Object(C.a)(S))return S;var E=[];return Object(O.a)(S,function(m,T){E.push(y(m,T))}),E};o.a=P},function(f,o,x){"use strict";var O=x(6),C=x(13),P=function(S){return S};o.a=function(b,S){S===void 0&&(S=P);var y={};return Object(C.a)(b)&&!Object(O.a)(b)&&Object.keys(b).forEach(function(E){y[E]=S(b[E],E)}),y}},function(f,o,x){"use strict";var O=x(8);o.a=function(C,P,b){for(var S=0,y=Object(O.a)(P)?P.split("."):P;C&&S<y.length;)C=C[y[S++]];return C===void 0||S<y.length?b:C}},function(f,o,x){"use strict";var O=x(13),C=x(8),P=x(5);o.a=function(b,S,y){var E=b,m=Object(C.a)(S)?S.split("."):S;return m.forEach(function(T,L){L<m.length-1?(Object(O.a)(E[T])||(E[T]=Object(P.a)(m[L+1])?[]:{}),E=E[T]):E[T]=y}),b}},function(f,o,x){"use strict";var O=x(2),C=x(9),P=Object.prototype.hasOwnProperty;o.a=function(b,S){if(b===null||!Object(C.a)(b))return{};var y={};return Object(O.a)(S,function(E){P.call(b,E)&&(y[E]=b[E])}),y}},function(f,o,x){"use strict";o.a=function(O,C,P){var b,S,y,E,m=0;P||(P={});var T=function(){m=P.leading===!1?0:Date.now(),b=null,E=O.apply(S,y),b||(S=y=null)},L=function(){var j=Date.now();!m&&P.leading===!1&&(m=j);var U=C-(j-m);return S=this,y=arguments,U<=0||U>C?(b&&(clearTimeout(b),b=null),m=j,E=O.apply(S,y),b||(S=y=null)):!b&&P.trailing!==!1&&(b=setTimeout(T,U)),E};return L.cancel=function(){clearTimeout(b),m=0,b=S=y=null},L}},function(f,o,x){"use strict";var O=x(1);o.a=function(C){return Object(O.a)(C)?Array.prototype.slice.call(C):[]}},function(f,o,x){"use strict";var O={};o.a=function(C){return C=C||"g",O[C]?O[C]+=1:O[C]=1,C+O[C]}},function(f,o,x){"use strict";o.a=function(){}},function(f,o,x){"use strict";o.a=function(O){return O}},function(f,o,x){"use strict";o.a=P;var O=x(6),C=x(1);function P(b){return Object(O.a)(b)?0:Object(C.a)(b)?b.length:Object.keys(b).length}},function(f,o,x){"use strict";var O=function(){function C(){this.map={}}return C.prototype.has=function(P){return this.map[P]!==void 0},C.prototype.get=function(P,b){var S=this.map[P];return S===void 0?b:S},C.prototype.set=function(P,b){this.map[P]=b},C.prototype.clear=function(){this.map={}},C.prototype.delete=function(P){delete this.map[P]},C.prototype.size=function(){return Object.keys(this.map).length},C}();o.a=O},function(f,o){function x(y,E,m,T){T===void 0&&(T=[]);var L=this;L.w=y||0,L.h=E||0,L.y=m||0,L.x=0,L.c=T||[],L.cs=T.length,L.prelim=0,L.mod=0,L.shift=0,L.change=0,L.tl=null,L.tr=null,L.el=null,L.er=null,L.msel=0,L.mser=0}x.fromNode=function(y,E){if(!y)return null;var m=[];return y.children.forEach(function(T){m.push(x.fromNode(T,E))}),E?new x(y.height,y.width,y.x,m):new x(y.width,y.height,y.y,m)};function O(y,E,m){m?y.y+=E:y.x+=E,y.children.forEach(function(T){O(T,E,m)})}function C(y,E){var m=E?y.y:y.x;return y.children.forEach(function(T){m=Math.min(C(T,E),m)}),m}function P(y,E){var m=C(y,E);O(y,-m,E)}function b(y,E,m){m?E.y=y.x:E.x=y.x,y.c.forEach(function(T,L){b(T,E.children[L],m)})}function S(y,E,m){m===void 0&&(m=0),E?(y.x=m,m+=y.width):(y.y=m,m+=y.height),y.children.forEach(function(T){S(T,E,m)})}f.exports=function(y,E){E===void 0&&(E={});var m=E.isHorizontal;function T(K){if(K.cs===0){L(K);return}T(K.c[0]);for(var _=tt(z(K.c[0].el),0,null),Y=1;Y<K.cs;++Y){T(K.c[Y]);var q=z(K.c[Y].er);g(K,Y,_),_=tt(q,Y,_)}B(K),L(K)}function L(K){K.cs===0?(K.el=K,K.er=K,K.msel=K.mser=0):(K.el=K.c[0].el,K.msel=K.c[0].msel,K.er=K.c[K.cs-1].er,K.mser=K.c[K.cs-1].mser)}function g(K,_,Y){for(var q=K.c[_-1],ot=q.mod,ft=K.c[_],ct=ft.mod;q!==null&&ft!==null;){z(q)>Y.low&&(Y=Y.nxt);var rt=ot+q.prelim+q.w-(ct+ft.prelim);rt>0&&(ct+=rt,j(K,_,Y.index,rt));var gt=z(q),Et=z(ft);gt<=Et&&(q=W(q),q!==null&&(ot+=q.mod)),gt>=Et&&(ft=U(ft),ft!==null&&(ct+=ft.mod))}!q&&!!ft?N(K,_,ft,ct):!!q&&!ft&&I(K,_,q,ot)}function j(K,_,Y,q){K.c[_].mod+=q,K.c[_].msel+=q,K.c[_].mser+=q,k(K,_,Y,q)}function U(K){return K.cs===0?K.tl:K.c[0]}function W(K){return K.cs===0?K.tr:K.c[K.cs-1]}function z(K){return K.y+K.h}function N(K,_,Y,q){var ot=K.c[0].el;ot.tl=Y;var ft=q-Y.mod-K.c[0].msel;ot.mod+=ft,ot.prelim-=ft,K.c[0].el=K.c[_].el,K.c[0].msel=K.c[_].msel}function I(K,_,Y,q){var ot=K.c[_].er;ot.tr=Y;var ft=q-Y.mod-K.c[_].mser;ot.mod+=ft,ot.prelim-=ft,K.c[_].er=K.c[_-1].er,K.c[_].mser=K.c[_-1].mser}function B(K){K.prelim=(K.c[0].prelim+K.c[0].mod+K.c[K.cs-1].mod+K.c[K.cs-1].prelim+K.c[K.cs-1].w)/2-K.w/2}function G(K,_){_+=K.mod,K.x=K.prelim+_,V(K);for(var Y=0;Y<K.cs;Y++)G(K.c[Y],_)}function k(K,_,Y,q){if(Y!==_-1){var ot=_-Y;K.c[Y+1].shift+=q/ot,K.c[_].shift-=q/ot,K.c[_].change-=q-q/ot}}function V(K){for(var _=0,Y=0,q=0;q<K.cs;q++)_+=K.c[q].shift,Y+=_+K.c[q].change,K.c[q].mod+=Y}function tt(K,_,Y){for(;Y!==null&&K>=Y.low;)Y=Y.nxt;return{low:K,index:_,nxt:Y}}S(y,m);var Q=x.fromNode(y,m);return T(Q),G(Q,0),b(Q,y,m),P(y,m),y}},function(f,o,x){function O(T,L){T.prototype=Object.create(L.prototype),T.prototype.constructor=T,T.__proto__=L}var C=x(11),P=x(115),b=x(17),S=x(7),y=function(T){O(L,T);function L(){return T.apply(this,arguments)||this}var g=L.prototype;return g.execute=function(){var U=this;return U.rootNode.width=0,b(U.rootNode,U.options,P)},L}(C),E={};function m(T,L){return L=S.assign({},E,L),new y(T,L).execute()}f.exports=m},function(f,o,x){var O=x(7);function C(S,y){S===void 0&&(S=0),y===void 0&&(y=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=y}var P={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function b(S,y,E){E?(y.x=S.x,y.y=S.y):(y.x=S.y,y.y=S.x),S.children.forEach(function(m,T){b(m,y.children[T],E)})}f.exports=function(S,y){y===void 0&&(y={}),y=O.assign({},P,y);var E=0;function m(U){if(!U)return null;U.width=0,U.depth&&U.depth>E&&(E=U.depth);var W=U.children,z=W.length,N=new C(U.height,[]);return W.forEach(function(I,B){var G=m(I);N.children.push(G),B===0&&(N.leftChild=G),B===z-1&&(N.rightChild=G)}),N.originNode=U,N.isLeaf=U.isLeaf(),N}function T(U){if(U.isLeaf||U.children.length===0)U.drawingDepth=E;else{var W=U.children.map(function(N){return T(N)}),z=Math.min.apply(null,W);U.drawingDepth=z-1}return U.drawingDepth}var L;function g(U){U.x=U.drawingDepth*y.rankSep,U.isLeaf?(U.y=0,L&&(U.y=L.y+L.height+y.nodeSep,U.originNode.parent!==L.originNode.parent&&(U.y+=y.subTreeSep)),L=U):(U.children.forEach(function(W){g(W)}),U.y=(U.leftChild.y+U.rightChild.y)/2)}var j=m(S);return T(j),g(j),b(j,S,y.isHorizontal),S}},function(f,o,x){function O(g,j){g.prototype=Object.create(j.prototype),g.prototype.constructor=g,g.__proto__=j}var C=x(11),P=x(117),b=x(30),S=x(7),y=["LR","RL","H"],E=y[0],m=function(g){O(j,g);function j(){return g.apply(this,arguments)||this}var U=j.prototype;return U.execute=function(){var z=this,N=z.options,I=z.rootNode;N.isHorizontal=!0;var B=N.indent,G=B===void 0?20:B,k=N.dropCap,V=k===void 0?!0:k,tt=N.direction||E;if(tt&&y.indexOf(tt)===-1)throw new TypeError("Invalid direction: "+tt);if(tt===y[0])P(I,G,V);else if(tt===y[1])P(I,G,V),I.right2left();else if(tt===y[2]){var Q=b(I,N),K=Q.left,_=Q.right;P(K,G,V),K.right2left(),P(_,G,V);var Y=K.getBoundingBox();_.translate(Y.width,0),I.x=_.x-I.width/2}return I},j}(C),T={};function L(g,j){return j=S.assign({},T,j),new m(g,j).execute()}f.exports=L},function(f,o){function x(O,C,P,b){if(!b)try{if(O.id===O.parent.children[0].id){O.x+=P*O.depth,O.y=C?C.y:0;return}}catch(S){}O.x+=P*O.depth,O.y=C?C.y+C.height:0}f.exports=function(O,C,P){var b=null;O.eachNode(function(S){x(S,b,C,P),b=S})}},function(f,o,x){function O(T,L){T.prototype=Object.create(L.prototype),T.prototype.constructor=T,T.__proto__=L}var C=x(11),P=x(119),b=x(17),S=x(7),y=function(T){O(L,T);function L(){return T.apply(this,arguments)||this}var g=L.prototype;return g.execute=function(){var U=this;return b(U.rootNode,U.options,P)},L}(C),E={};function m(T,L){return L=S.assign({},E,L),new y(T,L).execute()}f.exports=m},function(f,o,x){var O=x(7);function C(S,y){var E=0;return S.children.length?S.children.forEach(function(m){E+=C(m,y)}):E=S.height,S._subTreeSep=y.getSubTreeSep(S.data),S.totalHeight=Math.max(S.height,E)+2*S._subTreeSep,S.totalHeight}function P(S){var y=S.children,E=y.length;if(E){y.forEach(function(U){P(U)});var m=y[0],T=y[E-1],L=T.y-m.y+T.height,g=0;if(y.forEach(function(U){g+=U.totalHeight}),L>S.height)S.y=m.y+L/2-S.height/2;else if(y.length!==1||S.height>g){var j=S.y+(S.height-L)/2-m.y;y.forEach(function(U){U.translate(0,j)})}else S.y=(m.y+m.height/2+T.y+T.height/2)/2-S.height/2}}var b={getSubTreeSep:function(){return 0}};f.exports=function(S,y){y===void 0&&(y={}),y=O.assign({},b,y),S.parent={x:0,width:0,height:0,y:0},S.BFTraverse(function(E){E.x=E.parent.x+E.parent.width}),S.parent=null,C(S,y),S.startY=0,S.y=S.totalHeight/2-S.height/2,S.eachNode(function(E){var m=E.children,T=m.length;if(T){var L=m[0];if(L.startY=E.startY+E._subTreeSep,T===1)L.y=E.y+E.height/2-L.height/2;else{L.y=L.startY+L.totalHeight/2-L.height/2;for(var g=1;g<T;g++){var j=m[g];j.startY=m[g-1].startY+m[g-1].totalHeight,j.y=j.startY+j.totalHeight/2-j.height/2}}}}),P(S)}}])})},eo7c:function(jt,A){jt.exports=a;function a(f,o){return f[0]=1/o[0],f[1]=1/o[1],f}},f1V2:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"getAdjMatrixAsync",{enumerable:!0,get:function(){return f.getAdjMatrixAsync}}),Object.defineProperty(A,"connectedComponentAsync",{enumerable:!0,get:function(){return f.connectedComponentAsync}}),Object.defineProperty(A,"getDegreeAsync",{enumerable:!0,get:function(){return f.getDegreeAsync}}),Object.defineProperty(A,"getInDegreeAsync",{enumerable:!0,get:function(){return f.getInDegreeAsync}}),Object.defineProperty(A,"getOutDegreeAsync",{enumerable:!0,get:function(){return f.getOutDegreeAsync}}),Object.defineProperty(A,"detectCycleAsync",{enumerable:!0,get:function(){return f.detectCycleAsync}}),Object.defineProperty(A,"detectAllCyclesAsync",{enumerable:!0,get:function(){return f.detectAllCyclesAsync}}),Object.defineProperty(A,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return f.detectAllDirectedCycleAsync}}),Object.defineProperty(A,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return f.detectAllUndirectedCycleAsync}}),Object.defineProperty(A,"dijkstraAsync",{enumerable:!0,get:function(){return f.dijkstraAsync}}),Object.defineProperty(A,"findAllPathAsync",{enumerable:!0,get:function(){return f.findAllPathAsync}}),Object.defineProperty(A,"findShortestPathAsync",{enumerable:!0,get:function(){return f.findShortestPathAsync}}),Object.defineProperty(A,"floydWarshallAsync",{enumerable:!0,get:function(){return f.floydWarshallAsync}}),Object.defineProperty(A,"labelPropagationAsync",{enumerable:!0,get:function(){return f.labelPropagationAsync}}),Object.defineProperty(A,"louvainAsync",{enumerable:!0,get:function(){return f.louvainAsync}}),Object.defineProperty(A,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return f.minimumSpanningTreeAsync}}),Object.defineProperty(A,"pageRankAsync",{enumerable:!0,get:function(){return f.pageRankAsync}}),Object.defineProperty(A,"getNeighborsAsync",{enumerable:!0,get:function(){return f.getNeighborsAsync}}),Object.defineProperty(A,"GADDIAsync",{enumerable:!0,get:function(){return f.GADDIAsync}}),A.default=A.detectDirectedCycleAsync=void 0;var f=a("H0Y/"),o=f.detectCycleAsync;A.detectDirectedCycleAsync=o;var x={getAdjMatrixAsync:f.getAdjMatrixAsync,connectedComponentAsync:f.connectedComponentAsync,getDegreeAsync:f.getDegreeAsync,getInDegreeAsync:f.getInDegreeAsync,getOutDegreeAsync:f.getOutDegreeAsync,detectCycleAsync:f.detectCycleAsync,detectDirectedCycleAsync:o,detectAllCyclesAsync:f.detectAllCyclesAsync,detectAllDirectedCycleAsync:f.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:f.detectAllUndirectedCycleAsync,dijkstraAsync:f.dijkstraAsync,findAllPathAsync:f.findAllPathAsync,findShortestPathAsync:f.findShortestPathAsync,floydWarshallAsync:f.floydWarshallAsync,labelPropagationAsync:f.labelPropagationAsync,louvainAsync:f.louvainAsync,minimumSpanningTreeAsync:f.minimumSpanningTreeAsync,pageRankAsync:f.pageRankAsync,getNeighborsAsync:f.getNeighborsAsync,GADDIAsync:f.GADDIAsync};A.default=x},fC6O:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=o(a("g3RE"));function o(P){return P&&P.__esModule?P:{default:P}}var x=function(b,S,y,E){for(var m=S.length,T=2*E,L=0,g=0;g<m;g++)for(var j=b[g].clusterId,U=0;U<m;U++){var W=b[U].clusterId;if(j===W){var z=S[g][U]||0,N=y[g]||0,I=y[U]||0;L+=z-N*I/T}}return L*=1/T,L},O=function(b,S,y,E){S===void 0&&(S=!1),y===void 0&&(y="weight"),E===void 0&&(E=1e-4);var m=b.nodes,T=m===void 0?[]:m,L=b.edges,g=L===void 0?[]:L,j=1,U={},W={};T.forEach(function(q,ot){var ft=String(j++);q.clusterId=ft,U[ft]={id:ft,nodes:[q]},W[q.id]={node:q,idx:ot}});var z=(0,f.default)(b,S),N=[],I={},B=0;z.forEach(function(q,ot){var ft=0,ct=T[ot].id;I[ct]={},q.forEach(function(rt,gt){if(!!rt){ft+=rt;var Et=T[gt].id;I[ct][Et]=rt,B+=rt}}),N.push(ft)}),B/=2;for(var G=Infinity,k=Infinity,V=0;G=x(T,z,N,B),!(Math.abs(G-k)<E||V>100);)k=G,V++,Object.keys(U).forEach(function(q){var ot=0;g.forEach(function(ft){var ct=ft.source,rt=ft.target,gt=W[ct].node.clusterId,Et=W[rt].node.clusterId;(gt===q&&Et!==q||Et===q&&gt!==q)&&(ot=ot+(ft[y]||1))}),U[q].sumTot=ot}),T.forEach(function(q,ot){var ft=U[q.clusterId],ct=0,rt,gt=N[ot]/(2*B),Et=0,Gt=ft.nodes;Gt.forEach(function(lt){var Tt=W[lt.id].idx;Et+=z[ot][Tt]||0});var Yt=Et-ft.sumTot*gt,Xt=I[q.id];if(Object.keys(Xt).forEach(function(lt){var Tt=W[lt].node,Ot=Tt.clusterId;if(Ot!==q.clusterId){var et=U[Ot],H=et.nodes;if(!(!H||!H.length)){var pt=0;H.forEach(function(Pt){var Rt=W[Pt.id].idx;pt+=z[ot][Rt]||0});var nt=pt-et.sumTot*gt,yt=nt-Yt;yt>ct&&(ct=yt,rt=et)}}}),ct>0){rt.nodes.push(q);var vt=q.clusterId;q.clusterId=rt.id;var mt=ft.nodes.indexOf(q);ft.nodes.splice(mt,1);var ut=0,st=0;g.forEach(function(lt){var Tt=lt.source,Ot=lt.target,et=W[Tt].node.clusterId,H=W[Ot].node.clusterId;(et===rt.id&&H!==rt.id||H===rt.id&&et!==rt.id)&&(ut=ut+(lt[y]||1)),(et===vt&&H!==vt||H===vt&&et!==vt)&&(st=st+(lt[y]||1))}),rt.sumTot=ut,ft.sumTot=st}});var tt={},Q=0;Object.keys(U).forEach(function(q){var ot=U[q];if(!ot.nodes||!ot.nodes.length){delete U[q];return}var ft=String(Q+1);ft!==q&&(ot.id=ft,ot.nodes=ot.nodes.map(function(ct){return{id:ct.id,clusterId:ft}}),U[ft]=ot,tt[q]=ft,delete U[q],Q++)}),T.forEach(function(q){q.clusterId&&tt[q.clusterId]&&(q.clusterId=tt[q.clusterId])});var K=[],_={};g.forEach(function(q){var ot=q.source,ft=q.target,ct=q[y]||1,rt=W[ot].node.clusterId,gt=W[ft].node.clusterId,Et=rt+"---"+gt;if(_[Et])_[Et].weight+=ct,_[Et].count++;else{var Gt={source:rt,target:gt,weight:ct,count:1};_[Et]=Gt,K.push(Gt)}});var Y=[];return Object.keys(U).forEach(function(q){Y.push(U[q])}),{clusters:Y,clusterEdges:K}},C=O;A.default=C},fI7b:function(jt,A){jt.exports=a;function a(f,o,x){var O=o[0],C=o[1];return f[0]=x[0]*O+x[2]*C,f[1]=x[1]*O+x[3]*C,f}},fIi5:function(jt,A,a){var f=a("xi+f");function o(x,O){return f(O,function(C){return x[C]})}jt.exports=o},fQJb:function(jt,A,a){var f=a("cEHS"),o=a("ah2v"),x=a("TeP8"),O=a("E5vS"),C=a("0gIx");function P(b,S,y,E){if(!O(b))return b;S=o(S,b);for(var m=-1,T=S.length,L=T-1,g=b;g!=null&&++m<T;){var j=C(S[m]),U=y;if(j==="__proto__"||j==="constructor"||j==="prototype")return b;if(m!=L){var W=g[j];U=E?E(W,j,g):void 0,U===void 0&&(U=O(W)?W:x(S[m+1])?[]:{})}f(g,j,U),g=g[j]}return b}jt.exports=P},fQKG:function(jt,A,a){var f=a("qFee"),o=a("3FqU"),x=a("mXku"),O=a("Npd2"),C=a("E5vS"),P=a("rGlR"),b=a("TKkZ");function S(y,E,m,T,L){y!==E&&x(E,function(g,j){if(L||(L=new f),C(g))O(y,E,j,m,S,T,L);else{var U=T?T(b(y,j),g,j+"",y,E,L):void 0;U===void 0&&(U=g),o(y,j,U)}},P)}jt.exports=S},fUu9:function(jt,A,a){var f=a("tmP0"),o=a("ZvDv"),x=a("uSfk"),O=a("oX5j"),C=a("HR5z"),P=a("br1w"),b=200;function S(y,E,m){var T=-1,L=o,g=y.length,j=!0,U=[],W=U;if(m)j=!1,L=x;else if(g>=b){var z=E?null:C(y);if(z)return P(z);j=!1,L=O,W=new f}else W=E?[]:U;t:for(;++T<g;){var N=y[T],I=E?E(N):N;if(N=m||N!==0?N:0,j&&I===I){for(var B=W.length;B--;)if(W[B]===I)continue t;E&&W.push(I),U.push(N)}else L(W,I,m)||(W!==U&&W.push(I),U.push(N))}return U}jt.exports=S},fVaJ:function(jt,A,a){"use strict";a.d(A,"a",function(){return O}),a.d(A,"b",function(){return C});var f=a("jg4I"),o=a("iAmF");function x(P,b){return P.map(function(S,y){var E;return E={},E[o.g]=S-(P[y-1]||0),E[o.f]=""+y,E[o.e]=b,E}).filter(function(S){return!!S[o.g]})}function O(P){var b;return[(b={},b[o.e]=Object(f.clamp)(P,0,1),b)]}function C(P,b){var S=Object(f.get)(b,["ticks"],[]),y=Object(f.size)(S)?S:[0,Object(f.clamp)(P,0,1),1];return x(y,P)}},fo7X:function(jt,A,a){"use strict";a.d(A,"a",function(){return E});var f=a("16OP"),o=a.n(f),x=a("7Nom"),O=a.n(x),C=a("YcyD"),P=a.n(C),b,S,y,E=(b=Object(C.injectable)(),b(S=(y=function(){function m(){o()(this,m),this.config=void 0}return O()(m,[{key:"get",value:function(){return this.config}},{key:"set",value:function(L){this.config=L}}]),m}(),y))||S)},fxXO:function(jt,A,a){(function(f,o){o(A)})(this,function(f){"use strict";function o(_,Y){return x(_)||O(_,Y)||C()}function x(_){if(Array.isArray(_))return _}function O(_,Y){var q=[],ot=!0,ft=!1,ct=void 0;try{for(var rt=_[Symbol.iterator](),gt;!(ot=(gt=rt.next()).done)&&(q.push(gt.value),!(Y&&q.length===Y));ot=!0);}catch(Et){ft=!0,ct=Et}finally{try{!ot&&rt.return!=null&&rt.return()}finally{if(ft)throw ct}}return q}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(_,Y,q,ot){_=_.filter(function(ut,st){var lt=Y(ut,st),Tt=q(ut,st);return lt!=null&&isFinite(lt)&&Tt!=null&&isFinite(Tt)}),ot&&_.sort(function(ut,st){return Y(ut)-Y(st)});for(var ft=_.length,ct=new Float64Array(ft),rt=new Float64Array(ft),gt=0,Et=0,Gt,Yt,Xt,vt=0;vt<ft;)Xt=_[vt],ct[vt]=Gt=+Y(Xt,vt,_),rt[vt]=Yt=+q(Xt,vt,_),++vt,gt+=(Gt-gt)/vt,Et+=(Yt-Et)/vt;for(var mt=0;mt<ft;++mt)ct[mt]-=gt,rt[mt]-=Et;return[ct,rt,gt,Et]}function b(_,Y,q,ot){for(var ft=0,ct=0,rt=_.length;ct<rt;ct++){var gt=_[ct],Et=+Y(gt,ct,_),Gt=+q(gt,ct,_);Et!=null&&isFinite(Et)&&Gt!=null&&isFinite(Gt)&&ot(Et,Gt,ft++)}}function S(_,Y,q,ot,ft){var ct=0,rt=0;return b(_,Y,q,function(gt,Et){var Gt=Et-ft(gt),Yt=Et-ot;ct+=Gt*Gt,rt+=Yt*Yt}),1-ct/rt}function y(_){return Math.atan2(_[1][1]-_[0][1],_[1][0]-_[0][0])*180/Math.PI}function E(_){return[(_[0][0]+_[1][0])/2,(_[0][1]+_[1][1])/2]}function m(_,Y,q){for(var ot=Math.log(Y-_)*Math.LOG10E+1|0,ft=1*Math.pow(10,-ot/2-1),ct=1e4,rt=[Et(_),Et(Y)],gt=0;Gt(rt)&&gt<ct;);return rt;function Et(Yt){return[Yt,q(Yt)]}function Gt(Yt){gt++;for(var Xt=Yt.length,vt=!1,mt=0;mt<Xt-1;mt++){var ut=Yt[mt],st=Yt[mt+1],lt=E([ut,st]),Tt=Et(lt[0]),Ot=y([ut,lt]),et=y([ut,Tt]),H=Math.abs(Ot-et);H>ft&&(Yt.splice(mt+1,0,Tt),vt=!0)}return vt}}function T(_,Y,q,ot){var ft=ot-_*_,ct=Math.abs(ft)<1e-24?0:(q-_*Y)/ft,rt=Y-ct*_;return[rt,ct]}function L(){var _=function(ct){return ct[0]},Y=function(ct){return ct[1]},q;function ot(ft){var ct=0,rt=0,gt=0,Et=0,Gt=0,Yt=0,Xt=q?+q[0]:Infinity,vt=q?+q[1]:-Infinity;b(ft,_,Y,function(et,H){var pt=Math.log(H),nt=et*H;++ct,rt+=(H-rt)/ct,Et+=(nt-Et)/ct,Yt+=(et*nt-Yt)/ct,gt+=(H*pt-gt)/ct,Gt+=(nt*pt-Gt)/ct,q||(et<Xt&&(Xt=et),et>vt&&(vt=et))});var mt=T(Et/rt,gt/rt,Gt/rt,Yt/rt),ut=o(mt,2),st=ut[0],lt=ut[1];st=Math.exp(st);var Tt=function(H){return st*Math.exp(lt*H)},Ot=m(Xt,vt,Tt);return Ot.a=st,Ot.b=lt,Ot.predict=Tt,Ot.rSquared=S(ft,_,Y,rt,Tt),Ot}return ot.domain=function(ft){return arguments.length?(q=ft,ot):q},ot.x=function(ft){return arguments.length?(_=ft,ot):_},ot.y=function(ft){return arguments.length?(Y=ft,ot):Y},ot}function g(){var _=function(ct){return ct[0]},Y=function(ct){return ct[1]},q;function ot(ft){var ct=0,rt=0,gt=0,Et=0,Gt=0,Yt=q?+q[0]:Infinity,Xt=q?+q[1]:-Infinity;b(ft,_,Y,function(Ot,et){++ct,rt+=(Ot-rt)/ct,gt+=(et-gt)/ct,Et+=(Ot*et-Et)/ct,Gt+=(Ot*Ot-Gt)/ct,q||(Ot<Yt&&(Yt=Ot),Ot>Xt&&(Xt=Ot))});var vt=T(rt,gt,Et,Gt),mt=o(vt,2),ut=mt[0],st=mt[1],lt=function(et){return st*et+ut},Tt=[[Yt,lt(Yt)],[Xt,lt(Xt)]];return Tt.a=st,Tt.b=ut,Tt.predict=lt,Tt.rSquared=S(ft,_,Y,gt,lt),Tt}return ot.domain=function(ft){return arguments.length?(q=ft,ot):q},ot.x=function(ft){return arguments.length?(_=ft,ot):_},ot.y=function(ft){return arguments.length?(Y=ft,ot):Y},ot}function j(_){_.sort(function(q,ot){return q-ot});var Y=_.length/2;return Y%1==0?(_[Y-1]+_[Y])/2:_[Math.floor(Y)]}var U=2,W=1e-12;function z(){var _=function(ct){return ct[0]},Y=function(ct){return ct[1]},q=.3;function ot(ft){for(var ct=P(ft,_,Y,!0),rt=o(ct,4),gt=rt[0],Et=rt[1],Gt=rt[2],Yt=rt[3],Xt=gt.length,vt=Math.max(2,~~(q*Xt)),mt=new Float64Array(Xt),ut=new Float64Array(Xt),st=new Float64Array(Xt).fill(1),lt=-1;++lt<=U;){for(var Tt=[0,vt-1],Ot=0;Ot<Xt;++Ot){for(var et=gt[Ot],H=Tt[0],pt=Tt[1],nt=et-gt[H]>gt[pt]-et?H:pt,yt=0,Pt=0,Rt=0,Wt=0,Vt=0,Lt=1/Math.abs(gt[nt]-et||1),Ct=H;Ct<=pt;++Ct){var at=gt[Ct],It=Et[Ct],Ft=N(Math.abs(et-at)*Lt)*st[Ct],xt=at*Ft;yt+=Ft,Pt+=xt,Rt+=It*Ft,Wt+=It*xt,Vt+=at*xt}var Nt=T(Pt/yt,Rt/yt,Wt/yt,Vt/yt),Ht=o(Nt,2),Bt=Ht[0],Ut=Ht[1];mt[Ot]=Bt+Ut*et,ut[Ot]=Math.abs(Et[Ot]-mt[Ot]),I(gt,Ot+1,Tt)}if(lt===U)break;var Jt=j(ut);if(Math.abs(Jt)<W)break;for(var oe=0,ge,Ce;oe<Xt;++oe)ge=ut[oe]/(6*Jt),st[oe]=ge>=1?W:(Ce=1-ge*ge)*Ce}return B(gt,mt,Gt,Yt)}return ot.bandwidth=function(ft){return arguments.length?(q=ft,ot):q},ot.x=function(ft){return arguments.length?(_=ft,ot):_},ot.y=function(ft){return arguments.length?(Y=ft,ot):Y},ot}function N(_){return(_=1-_*_*_)*_*_}function I(_,Y,q){var ot=_[Y],ft=q[0],ct=q[1]+1;if(!(ct>=_.length))for(;Y>ft&&_[ct]-ot<=ot-_[ft];)q[0]=++ft,q[1]=ct,++ct}function B(_,Y,q,ot){for(var ft=_.length,ct=[],rt=0,gt=0,Et=[],Gt;rt<ft;++rt)Gt=_[rt]+q,Et[0]===Gt?Et[1]+=(Y[rt]-Et[1])/++gt:(gt=0,Et[1]+=ot,Et=[Gt,Y[rt]],ct.push(Et));return Et[1]+=ot,ct}function G(){var _=function(rt){return rt[0]},Y=function(rt){return rt[1]},q=Math.E,ot;function ft(ct){var rt=0,gt=0,Et=0,Gt=0,Yt=0,Xt=ot?+ot[0]:Infinity,vt=ot?+ot[1]:-Infinity,mt=Math.log(q);b(ct,_,Y,function(H,pt){var nt=Math.log(H)/mt;++rt,gt+=(nt-gt)/rt,Et+=(pt-Et)/rt,Gt+=(nt*pt-Gt)/rt,Yt+=(nt*nt-Yt)/rt,ot||(H<Xt&&(Xt=H),H>vt&&(vt=H))});var ut=T(gt,Et,Gt,Yt),st=o(ut,2),lt=st[0],Tt=st[1],Ot=function(pt){return Tt*Math.log(pt)/mt+lt},et=m(Xt,vt,Ot);return et.a=Tt,et.b=lt,et.predict=Ot,et.rSquared=S(ct,_,Y,Et,Ot),et}return ft.domain=function(ct){return arguments.length?(ot=ct,ft):ot},ft.x=function(ct){return arguments.length?(_=ct,ft):_},ft.y=function(ct){return arguments.length?(Y=ct,ft):Y},ft.base=function(ct){return arguments.length?(q=ct,ft):q},ft}function k(){var _=function(ct){return ct[0]},Y=function(ct){return ct[1]},q;function ot(ft){var ct=P(ft,_,Y),rt=o(ct,4),gt=rt[0],Et=rt[1],Gt=rt[2],Yt=rt[3],Xt=gt.length,vt=0,mt=0,ut=0,st=0,lt=0,Tt,Ot,et,H;for(Tt=0;Tt<Xt;)Ot=gt[Tt],et=Et[Tt++],H=Ot*Ot,vt+=(H-vt)/Tt,mt+=(H*Ot-mt)/Tt,ut+=(H*H-ut)/Tt,st+=(Ot*et-st)/Tt,lt+=(H*et-lt)/Tt;var pt=0,nt=0,yt=q?+q[0]:Infinity,Pt=q?+q[1]:-Infinity;b(ft,_,Y,function(Ft,xt){nt++,pt+=(xt-pt)/nt,q||(Ft<yt&&(yt=Ft),Ft>Pt&&(Pt=Ft))});var Rt=ut-vt*vt,Wt=vt*Rt-mt*mt,Vt=(lt*vt-st*mt)/Wt,Lt=(st*Rt-lt*mt)/Wt,Ct=-Vt*vt,at=function(xt){return xt=xt-Gt,Vt*xt*xt+Lt*xt+Ct+Yt},It=m(yt,Pt,at);return It.a=Vt,It.b=Lt-2*Vt*Gt,It.c=Ct-Lt*Gt+Vt*Gt*Gt+Yt,It.predict=at,It.rSquared=S(ft,_,Y,pt,at),It}return ot.domain=function(ft){return arguments.length?(q=ft,ot):q},ot.x=function(ft){return arguments.length?(_=ft,ot):_},ot.y=function(ft){return arguments.length?(Y=ft,ot):Y},ot}function V(){var _=function(rt){return rt[0]},Y=function(rt){return rt[1]},q=3,ot;function ft(ct){if(q===1){var rt=g().x(_).y(Y).domain(ot)(ct);return rt.coefficients=[rt.b,rt.a],delete rt.a,delete rt.b,rt}if(q===2){var gt=k().x(_).y(Y).domain(ot)(ct);return gt.coefficients=[gt.c,gt.b,gt.a],delete gt.a,delete gt.b,delete gt.c,gt}var Et=P(ct,_,Y),Gt=o(Et,4),Yt=Gt[0],Xt=Gt[1],vt=Gt[2],mt=Gt[3],ut=Yt.length,st=[],lt=[],Tt=q+1,Ot=0,et=0,H=ot?+ot[0]:Infinity,pt=ot?+ot[1]:-Infinity;b(ct,_,Y,function(at,It){++et,Ot+=(It-Ot)/et,ot||(at<H&&(H=at),at>pt&&(pt=at))});var nt,yt,Pt,Rt,Wt;for(nt=0;nt<Tt;++nt){for(Pt=0,Rt=0;Pt<ut;++Pt)Rt+=Math.pow(Yt[Pt],nt)*Xt[Pt];for(st.push(Rt),Wt=new Float64Array(Tt),yt=0;yt<Tt;++yt){for(Pt=0,Rt=0;Pt<ut;++Pt)Rt+=Math.pow(Yt[Pt],nt+yt);Wt[yt]=Rt}lt.push(Wt)}lt.push(st);var Vt=Q(lt),Lt=function(It){It-=vt;var Ft=mt+Vt[0]+Vt[1]*It+Vt[2]*It*It;for(nt=3;nt<Tt;++nt)Ft+=Vt[nt]*Math.pow(It,nt);return Ft},Ct=m(H,pt,Lt);return Ct.coefficients=tt(Tt,Vt,-vt,mt),Ct.predict=Lt,Ct.rSquared=S(ct,_,Y,Ot,Lt),Ct}return ft.domain=function(ct){return arguments.length?(ot=ct,ft):ot},ft.x=function(ct){return arguments.length?(_=ct,ft):_},ft.y=function(ct){return arguments.length?(Y=ct,ft):Y},ft.order=function(ct){return arguments.length?(q=ct,ft):q},ft}function tt(_,Y,q,ot){var ft=Array(_),ct,rt,gt,Et;for(ct=0;ct<_;++ct)ft[ct]=0;for(ct=_-1;ct>=0;--ct)for(gt=Y[ct],Et=1,ft[ct]+=gt,rt=1;rt<=ct;++rt)Et*=(ct+1-rt)/rt,ft[ct-rt]+=gt*Math.pow(q,rt)*Et;return ft[0]+=ot,ft}function Q(_){var Y=_.length-1,q=[],ot,ft,ct,rt,gt;for(ot=0;ot<Y;++ot){for(rt=ot,ft=ot+1;ft<Y;++ft)Math.abs(_[ot][ft])>Math.abs(_[ot][rt])&&(rt=ft);for(ct=ot;ct<Y+1;++ct)gt=_[ct][ot],_[ct][ot]=_[ct][rt],_[ct][rt]=gt;for(ft=ot+1;ft<Y;++ft)for(ct=Y;ct>=ot;ct--)_[ct][ft]-=_[ct][ot]*_[ot][ft]/_[ot][ot]}for(ft=Y-1;ft>=0;--ft){for(gt=0,ct=ft+1;ct<Y;++ct)gt+=_[ct][ft]*q[ct];q[ft]=(_[Y][ft]-gt)/_[ft][ft]}return q}function K(){var _=function(ct){return ct[0]},Y=function(ct){return ct[1]},q;function ot(ft){var ct=0,rt=0,gt=0,Et=0,Gt=0,Yt=0,Xt=q?+q[0]:Infinity,vt=q?+q[1]:-Infinity;b(ft,_,Y,function(et,H){var pt=Math.log(et),nt=Math.log(H);++ct,rt+=(pt-rt)/ct,gt+=(nt-gt)/ct,Et+=(pt*nt-Et)/ct,Gt+=(pt*pt-Gt)/ct,Yt+=(H-Yt)/ct,q||(et<Xt&&(Xt=et),et>vt&&(vt=et))});var mt=T(rt,gt,Et,Gt),ut=o(mt,2),st=ut[0],lt=ut[1];st=Math.exp(st);var Tt=function(H){return st*Math.pow(H,lt)},Ot=m(Xt,vt,Tt);return Ot.a=st,Ot.b=lt,Ot.predict=Tt,Ot.rSquared=S(ft,_,Y,Yt,Tt),Ot}return ot.domain=function(ft){return arguments.length?(q=ft,ot):q},ot.x=function(ft){return arguments.length?(_=ft,ot):_},ot.y=function(ft){return arguments.length?(Y=ft,ot):Y},ot}f.regressionExp=L,f.regressionLinear=g,f.regressionLoess=z,f.regressionLog=G,f.regressionPoly=V,f.regressionPow=K,f.regressionQuad=k,Object.defineProperty(f,"__esModule",{value:!0})})},g1AO:function(jt,A){jt.exports=function(f){return!f||typeof f=="string"?!1:f instanceof Array||Array.isArray(f)||f.length>=0&&(f.splice instanceof Function||Object.getOwnPropertyDescriptor(f,f.length-1)&&f.constructor.name!=="String")}},g3RE:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=function(O,C){var P=O.nodes,b=O.edges,S=[],y={};if(!P)throw new Error("invalid nodes data!");return P&&P.forEach(function(E,m){y[E.id]=m;var T=[];S.push(T)}),b&&b.forEach(function(E){var m=E.source,T=E.target,L=y[m],g=y[T];!L&&L!==0||!g&&g!==0||(S[L][g]=1,C||(S[g][L]=1))}),S},o=f;A.default=o},"g5+9":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.resolve=void 0;var f=a("196R"),o=a("2+60"),x=a("AUMs"),O=a("Rph/"),C=a("wfm+"),P=function(E,m,T){try{return T()}catch(L){throw x.isStackOverflowExeption(L)?new Error(f.CIRCULAR_DEPENDENCY_IN_FACTORY(E,m.toString())):L}},b=function y(E){return function(m){m.parentContext.setCurrentRequest(m);var T=m.bindings,L=m.childRequests,g=m.target&&m.target.isArray(),j=!m.parentRequest||!m.parentRequest.target||!m.target||!m.parentRequest.target.matchesArray(m.target.serviceIdentifier);if(g&&j)return L.map(function(B){var G=y(E);return G(B)});var U=null;if(m.target.isOptional()&&T.length===0)return;var W=T[0],z=W.scope===o.BindingScopeEnum.Singleton,N=W.scope===o.BindingScopeEnum.Request;if(z&&W.activated)return W.cache;if(N&&E!==null&&E.has(W.id))return E.get(W.id);if(W.type===o.BindingTypeEnum.ConstantValue)U=W.cache,W.activated=!0;else if(W.type===o.BindingTypeEnum.Function)U=W.cache,W.activated=!0;else if(W.type===o.BindingTypeEnum.Constructor)U=W.implementationType;else if(W.type===o.BindingTypeEnum.DynamicValue&&W.dynamicValue!==null)U=P("toDynamicValue",W.serviceIdentifier,function(){return W.dynamicValue(m.parentContext)});else if(W.type===o.BindingTypeEnum.Factory&&W.factory!==null)U=P("toFactory",W.serviceIdentifier,function(){return W.factory(m.parentContext)});else if(W.type===o.BindingTypeEnum.Provider&&W.provider!==null)U=P("toProvider",W.serviceIdentifier,function(){return W.provider(m.parentContext)});else if(W.type===o.BindingTypeEnum.Instance&&W.implementationType!==null)U=C.resolveInstance(W.implementationType,L,y(E));else{var I=O.getServiceIdentifierAsString(m.serviceIdentifier);throw new Error(f.INVALID_BINDING_TYPE+" "+I)}return typeof W.onActivation=="function"&&(U=W.onActivation(m.parentContext,U)),z&&(W.cache=U,W.activated=!0),N&&E!==null&&!E.has(W.id)&&E.set(W.id,U),U}};function S(y){var E=b(y.plan.rootRequest.requestScope);return E(y.plan.rootRequest)}A.resolve=S},gCNn:function(jt,A,a){"use strict";a.r(A),a.d(A,"create",function(){return o}),a.d(A,"clone",function(){return x}),a.d(A,"length",function(){return O}),a.d(A,"fromValues",function(){return C}),a.d(A,"copy",function(){return P}),a.d(A,"set",function(){return b}),a.d(A,"add",function(){return S}),a.d(A,"subtract",function(){return y}),a.d(A,"multiply",function(){return E}),a.d(A,"divide",function(){return m}),a.d(A,"ceil",function(){return T}),a.d(A,"floor",function(){return L}),a.d(A,"min",function(){return g}),a.d(A,"max",function(){return j}),a.d(A,"round",function(){return U}),a.d(A,"scale",function(){return W}),a.d(A,"scaleAndAdd",function(){return z}),a.d(A,"distance",function(){return N}),a.d(A,"squaredDistance",function(){return I}),a.d(A,"squaredLength",function(){return B}),a.d(A,"negate",function(){return G}),a.d(A,"inverse",function(){return k}),a.d(A,"normalize",function(){return V}),a.d(A,"dot",function(){return tt}),a.d(A,"cross",function(){return Q}),a.d(A,"lerp",function(){return K}),a.d(A,"hermite",function(){return _}),a.d(A,"bezier",function(){return Y}),a.d(A,"random",function(){return q}),a.d(A,"transformMat4",function(){return ot}),a.d(A,"transformMat3",function(){return ft}),a.d(A,"transformQuat",function(){return ct}),a.d(A,"rotateX",function(){return rt}),a.d(A,"rotateY",function(){return gt}),a.d(A,"rotateZ",function(){return Et}),a.d(A,"angle",function(){return Gt}),a.d(A,"zero",function(){return Yt}),a.d(A,"str",function(){return Xt}),a.d(A,"exactEquals",function(){return vt}),a.d(A,"equals",function(){return mt}),a.d(A,"sub",function(){return ut}),a.d(A,"mul",function(){return st}),a.d(A,"div",function(){return lt}),a.d(A,"dist",function(){return Tt}),a.d(A,"sqrDist",function(){return Ot}),a.d(A,"len",function(){return et}),a.d(A,"sqrLen",function(){return H}),a.d(A,"forEach",function(){return pt});var f=a("TaHB");function o(){var nt=new f.a(3);return f.a!=Float32Array&&(nt[0]=0,nt[1]=0,nt[2]=0),nt}function x(nt){var yt=new f.a(3);return yt[0]=nt[0],yt[1]=nt[1],yt[2]=nt[2],yt}function O(nt){var yt=nt[0],Pt=nt[1],Rt=nt[2];return Math.hypot(yt,Pt,Rt)}function C(nt,yt,Pt){var Rt=new f.a(3);return Rt[0]=nt,Rt[1]=yt,Rt[2]=Pt,Rt}function P(nt,yt){return nt[0]=yt[0],nt[1]=yt[1],nt[2]=yt[2],nt}function b(nt,yt,Pt,Rt){return nt[0]=yt,nt[1]=Pt,nt[2]=Rt,nt}function S(nt,yt,Pt){return nt[0]=yt[0]+Pt[0],nt[1]=yt[1]+Pt[1],nt[2]=yt[2]+Pt[2],nt}function y(nt,yt,Pt){return nt[0]=yt[0]-Pt[0],nt[1]=yt[1]-Pt[1],nt[2]=yt[2]-Pt[2],nt}function E(nt,yt,Pt){return nt[0]=yt[0]*Pt[0],nt[1]=yt[1]*Pt[1],nt[2]=yt[2]*Pt[2],nt}function m(nt,yt,Pt){return nt[0]=yt[0]/Pt[0],nt[1]=yt[1]/Pt[1],nt[2]=yt[2]/Pt[2],nt}function T(nt,yt){return nt[0]=Math.ceil(yt[0]),nt[1]=Math.ceil(yt[1]),nt[2]=Math.ceil(yt[2]),nt}function L(nt,yt){return nt[0]=Math.floor(yt[0]),nt[1]=Math.floor(yt[1]),nt[2]=Math.floor(yt[2]),nt}function g(nt,yt,Pt){return nt[0]=Math.min(yt[0],Pt[0]),nt[1]=Math.min(yt[1],Pt[1]),nt[2]=Math.min(yt[2],Pt[2]),nt}function j(nt,yt,Pt){return nt[0]=Math.max(yt[0],Pt[0]),nt[1]=Math.max(yt[1],Pt[1]),nt[2]=Math.max(yt[2],Pt[2]),nt}function U(nt,yt){return nt[0]=Math.round(yt[0]),nt[1]=Math.round(yt[1]),nt[2]=Math.round(yt[2]),nt}function W(nt,yt,Pt){return nt[0]=yt[0]*Pt,nt[1]=yt[1]*Pt,nt[2]=yt[2]*Pt,nt}function z(nt,yt,Pt,Rt){return nt[0]=yt[0]+Pt[0]*Rt,nt[1]=yt[1]+Pt[1]*Rt,nt[2]=yt[2]+Pt[2]*Rt,nt}function N(nt,yt){var Pt=yt[0]-nt[0],Rt=yt[1]-nt[1],Wt=yt[2]-nt[2];return Math.hypot(Pt,Rt,Wt)}function I(nt,yt){var Pt=yt[0]-nt[0],Rt=yt[1]-nt[1],Wt=yt[2]-nt[2];return Pt*Pt+Rt*Rt+Wt*Wt}function B(nt){var yt=nt[0],Pt=nt[1],Rt=nt[2];return yt*yt+Pt*Pt+Rt*Rt}function G(nt,yt){return nt[0]=-yt[0],nt[1]=-yt[1],nt[2]=-yt[2],nt}function k(nt,yt){return nt[0]=1/yt[0],nt[1]=1/yt[1],nt[2]=1/yt[2],nt}function V(nt,yt){var Pt=yt[0],Rt=yt[1],Wt=yt[2],Vt=Pt*Pt+Rt*Rt+Wt*Wt;return Vt>0&&(Vt=1/Math.sqrt(Vt)),nt[0]=yt[0]*Vt,nt[1]=yt[1]*Vt,nt[2]=yt[2]*Vt,nt}function tt(nt,yt){return nt[0]*yt[0]+nt[1]*yt[1]+nt[2]*yt[2]}function Q(nt,yt,Pt){var Rt=yt[0],Wt=yt[1],Vt=yt[2],Lt=Pt[0],Ct=Pt[1],at=Pt[2];return nt[0]=Wt*at-Vt*Ct,nt[1]=Vt*Lt-Rt*at,nt[2]=Rt*Ct-Wt*Lt,nt}function K(nt,yt,Pt,Rt){var Wt=yt[0],Vt=yt[1],Lt=yt[2];return nt[0]=Wt+Rt*(Pt[0]-Wt),nt[1]=Vt+Rt*(Pt[1]-Vt),nt[2]=Lt+Rt*(Pt[2]-Lt),nt}function _(nt,yt,Pt,Rt,Wt,Vt){var Lt=Vt*Vt,Ct=Lt*(2*Vt-3)+1,at=Lt*(Vt-2)+Vt,It=Lt*(Vt-1),Ft=Lt*(3-2*Vt);return nt[0]=yt[0]*Ct+Pt[0]*at+Rt[0]*It+Wt[0]*Ft,nt[1]=yt[1]*Ct+Pt[1]*at+Rt[1]*It+Wt[1]*Ft,nt[2]=yt[2]*Ct+Pt[2]*at+Rt[2]*It+Wt[2]*Ft,nt}function Y(nt,yt,Pt,Rt,Wt,Vt){var Lt=1-Vt,Ct=Lt*Lt,at=Vt*Vt,It=Ct*Lt,Ft=3*Vt*Ct,xt=3*at*Lt,Nt=at*Vt;return nt[0]=yt[0]*It+Pt[0]*Ft+Rt[0]*xt+Wt[0]*Nt,nt[1]=yt[1]*It+Pt[1]*Ft+Rt[1]*xt+Wt[1]*Nt,nt[2]=yt[2]*It+Pt[2]*Ft+Rt[2]*xt+Wt[2]*Nt,nt}function q(nt,yt){yt=yt||1;var Pt=f.c()*2*Math.PI,Rt=f.c()*2-1,Wt=Math.sqrt(1-Rt*Rt)*yt;return nt[0]=Math.cos(Pt)*Wt,nt[1]=Math.sin(Pt)*Wt,nt[2]=Rt*yt,nt}function ot(nt,yt,Pt){var Rt=yt[0],Wt=yt[1],Vt=yt[2],Lt=Pt[3]*Rt+Pt[7]*Wt+Pt[11]*Vt+Pt[15];return Lt=Lt||1,nt[0]=(Pt[0]*Rt+Pt[4]*Wt+Pt[8]*Vt+Pt[12])/Lt,nt[1]=(Pt[1]*Rt+Pt[5]*Wt+Pt[9]*Vt+Pt[13])/Lt,nt[2]=(Pt[2]*Rt+Pt[6]*Wt+Pt[10]*Vt+Pt[14])/Lt,nt}function ft(nt,yt,Pt){var Rt=yt[0],Wt=yt[1],Vt=yt[2];return nt[0]=Rt*Pt[0]+Wt*Pt[3]+Vt*Pt[6],nt[1]=Rt*Pt[1]+Wt*Pt[4]+Vt*Pt[7],nt[2]=Rt*Pt[2]+Wt*Pt[5]+Vt*Pt[8],nt}function ct(nt,yt,Pt){var Rt=Pt[0],Wt=Pt[1],Vt=Pt[2],Lt=Pt[3],Ct=yt[0],at=yt[1],It=yt[2],Ft=Wt*It-Vt*at,xt=Vt*Ct-Rt*It,Nt=Rt*at-Wt*Ct,Ht=Wt*Nt-Vt*xt,Bt=Vt*Ft-Rt*Nt,Ut=Rt*xt-Wt*Ft,Jt=Lt*2;return Ft*=Jt,xt*=Jt,Nt*=Jt,Ht*=2,Bt*=2,Ut*=2,nt[0]=Ct+Ft+Ht,nt[1]=at+xt+Bt,nt[2]=It+Nt+Ut,nt}function rt(nt,yt,Pt,Rt){var Wt=[],Vt=[];return Wt[0]=yt[0]-Pt[0],Wt[1]=yt[1]-Pt[1],Wt[2]=yt[2]-Pt[2],Vt[0]=Wt[0],Vt[1]=Wt[1]*Math.cos(Rt)-Wt[2]*Math.sin(Rt),Vt[2]=Wt[1]*Math.sin(Rt)+Wt[2]*Math.cos(Rt),nt[0]=Vt[0]+Pt[0],nt[1]=Vt[1]+Pt[1],nt[2]=Vt[2]+Pt[2],nt}function gt(nt,yt,Pt,Rt){var Wt=[],Vt=[];return Wt[0]=yt[0]-Pt[0],Wt[1]=yt[1]-Pt[1],Wt[2]=yt[2]-Pt[2],Vt[0]=Wt[2]*Math.sin(Rt)+Wt[0]*Math.cos(Rt),Vt[1]=Wt[1],Vt[2]=Wt[2]*Math.cos(Rt)-Wt[0]*Math.sin(Rt),nt[0]=Vt[0]+Pt[0],nt[1]=Vt[1]+Pt[1],nt[2]=Vt[2]+Pt[2],nt}function Et(nt,yt,Pt,Rt){var Wt=[],Vt=[];return Wt[0]=yt[0]-Pt[0],Wt[1]=yt[1]-Pt[1],Wt[2]=yt[2]-Pt[2],Vt[0]=Wt[0]*Math.cos(Rt)-Wt[1]*Math.sin(Rt),Vt[1]=Wt[0]*Math.sin(Rt)+Wt[1]*Math.cos(Rt),Vt[2]=Wt[2],nt[0]=Vt[0]+Pt[0],nt[1]=Vt[1]+Pt[1],nt[2]=Vt[2]+Pt[2],nt}function Gt(nt,yt){var Pt=nt[0],Rt=nt[1],Wt=nt[2],Vt=yt[0],Lt=yt[1],Ct=yt[2],at=Math.sqrt(Pt*Pt+Rt*Rt+Wt*Wt),It=Math.sqrt(Vt*Vt+Lt*Lt+Ct*Ct),Ft=at*It,xt=Ft&&tt(nt,yt)/Ft;return Math.acos(Math.min(Math.max(xt,-1),1))}function Yt(nt){return nt[0]=0,nt[1]=0,nt[2]=0,nt}function Xt(nt){return"vec3("+nt[0]+", "+nt[1]+", "+nt[2]+")"}function vt(nt,yt){return nt[0]===yt[0]&&nt[1]===yt[1]&&nt[2]===yt[2]}function mt(nt,yt){var Pt=nt[0],Rt=nt[1],Wt=nt[2],Vt=yt[0],Lt=yt[1],Ct=yt[2];return Math.abs(Pt-Vt)<=f.b*Math.max(1,Math.abs(Pt),Math.abs(Vt))&&Math.abs(Rt-Lt)<=f.b*Math.max(1,Math.abs(Rt),Math.abs(Lt))&&Math.abs(Wt-Ct)<=f.b*Math.max(1,Math.abs(Wt),Math.abs(Ct))}var ut=y,st=E,lt=m,Tt=N,Ot=I,et=O,H=B,pt=function(){var nt=o();return function(yt,Pt,Rt,Wt,Vt,Lt){var Ct,at;for(Pt||(Pt=3),Rt||(Rt=0),Wt?at=Math.min(Wt*Pt+Rt,yt.length):at=yt.length,Ct=Rt;Ct<at;Ct+=Pt)nt[0]=yt[Ct],nt[1]=yt[Ct+1],nt[2]=yt[Ct+2],Vt(nt,nt,Lt),yt[Ct]=nt[0],yt[Ct+1]=nt[1],yt[Ct+2]=nt[2];return yt}}()},gCgN:function(jt,A,a){var f=a("7LJS"),o=a("NA5Q"),x=a("WeNx");function O(C){return C&&C.length?f(C,x,o):void 0}jt.exports=O},gPRb:function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"b",function(){return o});function f(x){return x==null?null:o(x)}function o(x){if(typeof x!="function")throw new Error;return x}},gWxb:function(jt,A,a){"use strict";var f=a("XSdR");jt.exports=o;function o(x){var O={},C=f.filter(x.nodes(),function(E){return!x.children(E).length}),P=f.max(f.map(C,function(E){return x.node(E).rank})),b=f.map(f.range(P+1),function(){return[]});function S(E){if(!f.has(O,E)){O[E]=!0;var m=x.node(E);b[m.rank].push(E),f.forEach(x.successors(E),S)}}var y=f.sortBy(C,function(E){return x.node(E).rank});return f.forEach(y,S),b}},giuo:function(jt,A){},"gs6+":function(jt,A,a){"use strict";var f=a("XSdR");jt.exports=o;function o(O,C){for(var P=0,b=1;b<C.length;++b)P+=x(O,C[b-1],C[b]);return P}function x(O,C,P){for(var b=f.zipObject(P,f.map(P,function(L,g){return g})),S=f.flatten(f.map(C,function(L){return f.sortBy(f.map(O.outEdges(L),function(g){return{pos:b[g.w],weight:O.edge(g).weight}}),"pos")}),!0),y=1;y<P.length;)y<<=1;var E=2*y-1;y-=1;var m=f.map(new Array(E),function(){return 0}),T=0;return f.forEach(S.forEach(function(L){var g=L.pos+y;m[g]+=L.weight;for(var j=0;g>0;)g%2&&(j+=m[g+1]),g=g-1>>1,m[g]+=L.weight;T+=L.weight*j})),T}},hMip:function(jt,A,a){"use strict";a.d(A,"a",function(){return C});var f=a("bsNZ");function o(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])}function x(P,b){return o(P)*o(b)?(P[0]*b[0]+P[1]*b[1])/(o(P)*o(b)):1}function O(P,b){return(P[0]*b[1]<P[1]*b[0]?-1:1)*Math.acos(x(P,b))}function C(P,b){var S=b[1],y=b[2],E=Object(f.m)(Object(f.o)(b[3]),Math.PI*2),m=b[4],T=b[5],L=P[0],g=P[1],j=b[6],U=b[7],W=Math.cos(E)*(L-j)/2+Math.sin(E)*(g-U)/2,z=-1*Math.sin(E)*(L-j)/2+Math.cos(E)*(g-U)/2,N=W*W/(S*S)+z*z/(y*y);N>1&&(S*=Math.sqrt(N),y*=Math.sqrt(N));var I=S*S*(z*z)+y*y*(W*W),B=I?Math.sqrt((S*S*(y*y)-I)/I):1;m===T&&(B*=-1),isNaN(B)&&(B=0);var G=y?B*S*z/y:0,k=S?B*-y*W/S:0,V=(L+j)/2+Math.cos(E)*G-Math.sin(E)*k,tt=(g+U)/2+Math.sin(E)*G+Math.cos(E)*k,Q=[(W-G)/S,(z-k)/y],K=[(-1*W-G)/S,(-1*z-k)/y],_=O([1,0],Q),Y=O(Q,K);return x(Q,K)<=-1&&(Y=Math.PI),x(Q,K)>=1&&(Y=0),T===0&&Y>0&&(Y=Y-2*Math.PI),T===1&&Y<0&&(Y=Y+2*Math.PI),{cx:V,cy:tt,rx:Object(f.j)(P,[j,U])?0:S,ry:Object(f.j)(P,[j,U])?0:y,startAngle:_,endAngle:_+Y,xRotation:E,arcFlag:m,sweepFlag:T}}},"hQ/K":function(jt,A,a){"use strict";a.d(A,"a",function(){return m});var f=a("CMID"),o=a("jg4I"),x=a("N2cT"),O=a("nHjW"),C=a("8DqP"),P=a("vHs8"),b=a("qo2e");a.d(A,"b",function(){return b.d});function S(T){var L=T.chart,g=T.options,j=g.data,U=g.areaStyle,W=g.color,z=g.point,N=g.line,I=g.isPercent,B=g.xField,G=g.yField,k=g.tooltip,V=g.seriesField,tt=g.startOnZero,Q=z==null?void 0:z.state,K=Object(P.a)(j,G,B,G,I);L.data(K);var _=I?Object(f.__assign)({formatter:function(ct){return{name:ct[V]||ct[B],value:(Number(ct[G])*100).toFixed(2)+"%"}}},k):k,Y=Object(O.c)({},T,{options:{area:{color:W,style:U},line:N&&Object(f.__assign)({color:W},N),point:z&&Object(f.__assign)({color:W},z),tooltip:_,label:void 0,args:{startOnZero:tt}}}),q=Object(O.c)({},Y,{options:{tooltip:!1}}),ot=Object(O.c)({},Y,{options:{tooltip:!1,state:Q}});return Object(C.a)(Y),Object(C.d)(q),Object(C.e)(ot),T}function y(T){var L=T.chart,g=T.options,j=g.label,U=g.yField,W=Object(O.d)(L,"area");if(!j)W.label(!1);else{var z=j.callback,N=Object(f.__rest)(j,["callback"]);W.label({fields:[U],callback:z,cfg:Object(f.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(O.w)(N))})}return T}function E(T){var L=T.chart,g=T.options,j=g.isStack,U=g.isPercent,W=g.seriesField;return(U||j)&&W&&Object(o.each)(L.geometries,function(z){z.adjust("stack")}),T}function m(T){return Object(O.f)(S,b.d,E,x.j,b.b,b.c,x.k,y,x.h,Object(x.b)(),x.c,x.a,x.e)(T)}},hQli:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.removeSensor=A.getSensor=void 0;var f=O(a("NNdr")),o=a("A2sQ"),x=a("MPYE");function O(S){return S&&S.__esModule?S:{default:S}}var C={},P=function(y){var E=y.getAttribute(x.SizeSensorId);if(E&&C[E])return C[E];var m=(0,f.default)();y.setAttribute(x.SizeSensorId,m);var T=(0,o.createSensor)(y);return C[m]=T,T};A.getSensor=P;var b=function(y){var E=y.element.getAttribute(x.SizeSensorId);y.element.removeAttribute(x.SizeSensorId),y.destroy(),E&&C[E]&&delete C[E]};A.removeSensor=b},hZee:function(jt,A,a){"use strict";a.d(A,"a",function(){return j});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("nHjW"),C=a("N2cT"),P=a("8DqP");function b(U){var W=U.chart,z=U.options,N=z.data,I=z.sectorStyle,B=z.color;return W.data(N),Object(O.f)(P.c)(Object(O.c)({},U,{options:{marginRatio:1,interval:{style:I,color:B}}})),U}function S(U){var W=U.chart,z=U.options,N=z.label,I=z.xField,B=Object(O.d)(W,"interval");if(N===!1)B.label(!1);else if(Object(x.isObject)(N)){var G=N.callback,k=N.fields,V=Object(f.__rest)(N,["callback","fields"]),tt=V.offset,Q=V.layout;(tt===void 0||tt>=0)&&(Q=Q?Object(x.isArray)(Q)?Q:[Q]:[],V.layout=Object(x.filter)(Q,function(K){return K.type!=="limit-in-shape"}),V.layout.length||delete V.layout),B.label({fields:k||[I],callback:G,cfg:Object(O.w)(V)})}else Object(O.p)(O.a.WARN,N===null,"the label option must be an Object."),B.label({fields:[I]});return U}function y(U){var W=U.chart,z=U.options,N=z.legend,I=z.seriesField;return N===!1?W.legend(!1):I&&W.legend(I,N),U}function E(U){var W=U.chart,z=U.options,N=z.radius,I=z.innerRadius,B=z.startAngle,G=z.endAngle;return W.coordinate({type:"polar",cfg:{radius:N,innerRadius:I,startAngle:B,endAngle:G}}),U}function m(U){var W,z=U.options,N=z.xAxis,I=z.yAxis,B=z.xField,G=z.yField;return Object(O.f)(Object(C.f)((W={},W[B]=N,W[G]=I,W)))(U)}function T(U){var W=U.chart,z=U.options,N=z.xAxis,I=z.yAxis,B=z.xField,G=z.yField;return N?W.axis(B,N):W.axis(B,!1),I?W.axis(G,I):W.axis(G,!1),U}function L(U){Object(O.f)(b,m,S,E,T,y,C.k,C.c,C.a,C.j,Object(C.b)(),C.i)(U)}var g=Object(O.c)({},o.b.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),j=function(U){Object(f.__extends)(W,U);function W(){var z=U!==null&&U.apply(this,arguments)||this;return z.type="rose",z}return W.getDefaultOptions=function(){return g},W.prototype.changeData=function(z){this.updateOption({data:z}),this.chart.changeData(z)},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W.prototype.getSchemaAdaptor=function(){return L},W}(o.b)},hppO:function(jt,A,a){"use strict";var f=a("XSdR"),o=a("43gi").Graph;jt.exports={addDummyNode:x,simplify:O,asNonCompoundGraph:C,successorWeights:P,predecessorWeights:b,intersectRect:S,buildLayerMatrix:y,normalizeRanks:E,removeEmptyRanks:m,addBorderNode:T,maxRank:L,partition:g,time:j,notime:U};function x(W,z,N,I){var B;do B=f.uniqueId(I);while(W.hasNode(B));return N.dummy=z,W.setNode(B,N),B}function O(W){var z=new o().setGraph(W.graph());return f.forEach(W.nodes(),function(N){z.setNode(N,W.node(N))}),f.forEach(W.edges(),function(N){var I=z.edge(N.v,N.w)||{weight:0,minlen:1},B=W.edge(N);z.setEdge(N.v,N.w,{weight:I.weight+B.weight,minlen:Math.max(I.minlen,B.minlen)})}),z}function C(W){var z=new o({multigraph:W.isMultigraph()}).setGraph(W.graph());return f.forEach(W.nodes(),function(N){W.children(N).length||z.setNode(N,W.node(N))}),f.forEach(W.edges(),function(N){z.setEdge(N,W.edge(N))}),z}function P(W){var z=f.map(W.nodes(),function(N){var I={};return f.forEach(W.outEdges(N),function(B){I[B.w]=(I[B.w]||0)+W.edge(B).weight}),I});return f.zipObject(W.nodes(),z)}function b(W){var z=f.map(W.nodes(),function(N){var I={};return f.forEach(W.inEdges(N),function(B){I[B.v]=(I[B.v]||0)+W.edge(B).weight}),I});return f.zipObject(W.nodes(),z)}function S(W,z){var N=W.x,I=W.y,B=z.x-N,G=z.y-I,k=W.width/2,V=W.height/2;if(!B&&!G)throw new Error("Not possible to find intersection inside of the rectangle");var tt,Q;return Math.abs(G)*k>Math.abs(B)*V?(G<0&&(V=-V),tt=V*B/G,Q=V):(B<0&&(k=-k),tt=k,Q=k*G/B),{x:N+tt,y:I+Q}}function y(W){var z=f.map(f.range(L(W)+1),function(){return[]});return f.forEach(W.nodes(),function(N){var I=W.node(N),B=I.rank;f.isUndefined(B)||(z[B][I.order]=N)}),z}function E(W){var z=f.min(f.map(W.nodes(),function(N){return W.node(N).rank}));f.forEach(W.nodes(),function(N){var I=W.node(N);f.has(I,"rank")&&(I.rank-=z)})}function m(W){var z=f.min(f.map(W.nodes(),function(G){return W.node(G).rank})),N=[];f.forEach(W.nodes(),function(G){var k=W.node(G).rank-z;N[k]||(N[k]=[]),N[k].push(G)});var I=0,B=W.graph().nodeRankFactor;f.forEach(N,function(G,k){f.isUndefined(G)&&k%B!=0?--I:I&&f.forEach(G,function(V){W.node(V).rank+=I})})}function T(W,z,N,I){var B={width:0,height:0};return arguments.length>=4&&(B.rank=N,B.order=I),x(W,"border",B,z)}function L(W){return f.max(f.map(W.nodes(),function(z){var N=W.node(z).rank;if(!f.isUndefined(N))return N}))}function g(W,z){var N={lhs:[],rhs:[]};return f.forEach(W,function(I){z(I)?N.lhs.push(I):N.rhs.push(I)}),N}function j(W,z){var N=f.now();try{return z()}finally{console.log(W+" time: "+(f.now()-N)+"ms")}}function U(W,z){return z()}},i1Q6:function(jt,A){function a(f,o){return f>o}jt.exports=a},iAmF:function(jt,A,a){"use strict";a.d(A,"g",function(){return o}),a.d(A,"f",function(){return x}),a.d(A,"e",function(){return O}),a.d(A,"a",function(){return C}),a.d(A,"c",function(){return P}),a.d(A,"h",function(){return b}),a.d(A,"d",function(){return S}),a.d(A,"b",function(){return y});var f,o="range",x="type",O="percent",C="#f0f0f0",P="indicator-view",b="range-view",S="range-mask-view",y={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(f={},f[o]={sync:"v"},f[O]={sync:"v",tickCount:5,tickInterval:.2},f),animation:!1}},iUtP:function(jt,A){jt.exports=a;function a(f,o,x){var O=Math.cos(x),C=Math.sin(x),P=o[0],b=o[1];return f[0]=P*O-b*C,f[1]=P*C+b*O,f}},iXVM:function(jt,A,a){"use strict";var f=a("CMID"),o=a("xXxO"),x=a("jg4I"),O={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},C=function(P){Object(f.__extends)(b,P);function b(S){var y=P.call(this,S)||this;return y.initCfg(),y}return b.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},b.prototype.clear=function(){},b.prototype.update=function(S){var y=this,E=this.get("defaultCfg");Object(x.each)(S,function(m,T){var L=y.get(T),g=m;L!==m&&(Object(x.isObject)(m)&&E[T]&&(g=Object(x.deepMix)({},E[T],m)),y.set(T,g))}),this.updateInner(S),this.afterUpdate(S)},b.prototype.updateInner=function(S){},b.prototype.afterUpdate=function(S){Object(x.hasKey)(S,"visible")&&(S.visible?this.show():this.hide()),Object(x.hasKey)(S,"capture")&&this.setCapture(S.capture)},b.prototype.getLayoutBBox=function(){return this.getBBox()},b.prototype.getLocationType=function(){return this.get("locationType")},b.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},b.prototype.setOffset=function(S,y){this.update({offsetX:S,offsetY:y})},b.prototype.setLocation=function(S){var y=Object(f.__assign)({},S);this.update(y)},b.prototype.getLocation=function(){var S=this,y={},E=this.get("locationType"),m=O[E];return Object(x.each)(m,function(T){y[T]=S.get(T)}),y},b.prototype.isList=function(){return!1},b.prototype.isSlider=function(){return!1},b.prototype.init=function(){},b.prototype.initCfg=function(){var S=this,y=this.get("defaultCfg");Object(x.each)(y,function(E,m){var T=S.get(m);if(Object(x.isObject)(T)){var L=Object(x.deepMix)({},E,T);S.set(m,L)}})},b}(o.Base);A.a=C},iZJk:function(jt,A,a){"use strict";a.d(A,"a",function(){return y});var f=a("CMID"),o=a("JUmX"),x=a("tqeG"),O=a("nHjW"),C=a("yiSY"),P=a("v4nE"),b=a("j4BG"),S=a("LkkN"),y=function(E){Object(f.__extends)(m,E);function m(){var T=E!==null&&E.apply(this,arguments)||this;return T.type="pie",T}return m.getDefaultOptions=function(){return P.a},m.prototype.changeData=function(T){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var L=this.options,g=this.options.angleField,j=Object(O.s)(L.data,g),U=Object(O.s)(T,g);Object(b.c)(j,g)||Object(b.c)(U,g)?this.update({data:T}):(this.updateOption({data:T}),this.chart.data(U),Object(C.b)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},m.prototype.getDefaultOptions=function(){return m.getDefaultOptions()},m.prototype.getSchemaAdaptor=function(){return C.a},m}(x.b)},iuKI:function(jt,A,a){jt.exports={components:a("AaeU"),dijkstra:a("DhYH"),dijkstraAll:a("e5xd"),findCycles:a("I7m4"),floydWarshall:a("Xure"),isAcyclic:a("P+oc"),postorder:a("qvXp"),preorder:a("DC1X"),prim:a("0aAk"),tarjan:a("EEYS"),topsort:a("3MnI")}},j4BG:function(jt,A,a){"use strict";a.d(A,"b",function(){return x}),a.d(A,"a",function(){return O}),a.d(A,"c",function(){return C});var f=a("jg4I"),o=a("nHjW");function x(P,b){var S=null;return Object(f.each)(P,function(y){typeof y[b]=="number"&&(S+=y[b])}),S}function O(P,b){var S;switch(P){case"inner":return S="-30%",Object(f.isString)(b)&&b.endsWith("%")?parseFloat(b)*.01>0?S:b:b<0?b:S;case"outer":return S=12,Object(f.isString)(b)&&b.endsWith("%")?parseFloat(b)*.01<0?S:b:b>0?b:S;default:return b}}function C(P,b){return Object(f.every)(Object(o.s)(P,b),function(S){return S[b]===0})}},jCkg:function(jt,A,a){jt.exports=a("/Ykl")},jFP1:function(jt,A){jt.exports=a;function a(){var f=new Float32Array(2);return f[0]=0,f[1]=0,f}},"jHy/":function(jt,A,a){var f=a("fIi5"),o=a("KmIr");function x(O){return O==null?[]:f(O,o(O))}jt.exports=x},jg4I:function(jt,A,a){"use strict";a.r(A),a.d(A,"contains",function(){return O}),a.d(A,"includes",function(){return O}),a.d(A,"difference",function(){return S}),a.d(A,"find",function(){return _}),a.d(A,"findIndex",function(){return q}),a.d(A,"firstValue",function(){return ft}),a.d(A,"flatten",function(){return rt}),a.d(A,"flattenDeep",function(){return Et}),a.d(A,"getRange",function(){return vt}),a.d(A,"pull",function(){return Tt}),a.d(A,"pullAt",function(){return H}),a.d(A,"reduce",function(){return nt}),a.d(A,"remove",function(){return Pt}),a.d(A,"sortBy",function(){return Vt}),a.d(A,"union",function(){return at}),a.d(A,"uniq",function(){return Lt}),a.d(A,"valuesOfKey",function(){return It}),a.d(A,"head",function(){return Ft}),a.d(A,"last",function(){return xt}),a.d(A,"startsWith",function(){return Ht}),a.d(A,"endsWith",function(){return Ut}),a.d(A,"filter",function(){return P}),a.d(A,"every",function(){return oe}),a.d(A,"some",function(){return Ce}),a.d(A,"group",function(){return $e}),a.d(A,"groupBy",function(){return lr}),a.d(A,"groupToMap",function(){return rr}),a.d(A,"getWrapBehavior",function(){return ir}),a.d(A,"wrapBehavior",function(){return nr}),a.d(A,"number2color",function(){return Ur}),a.d(A,"parseRadius",function(){return or}),a.d(A,"clamp",function(){return Kr}),a.d(A,"fixedBase",function(){return jn}),a.d(A,"isDecimal",function(){return Xn}),a.d(A,"isEven",function(){return In}),a.d(A,"isInteger",function(){return oa}),a.d(A,"isNegative",function(){return Ea}),a.d(A,"isNumberEqual",function(){return fa}),a.d(A,"isOdd",function(){return Ji}),a.d(A,"isPositive",function(){return Hi}),a.d(A,"max",function(){return Gt}),a.d(A,"maxBy",function(){return pa}),a.d(A,"min",function(){return Yt}),a.d(A,"minBy",function(){return uo}),a.d(A,"mod",function(){return co}),a.d(A,"toDegree",function(){return zo}),a.d(A,"toInteger",function(){return ko}),a.d(A,"toRadian",function(){return ml}),a.d(A,"forIn",function(){return Ms}),a.d(A,"has",function(){return ls}),a.d(A,"hasKey",function(){return Cs}),a.d(A,"hasValue",function(){return Fl}),a.d(A,"keys",function(){return I}),a.d(A,"isMatch",function(){return G}),a.d(A,"values",function(){return li}),a.d(A,"lowerCase",function(){return Us}),a.d(A,"lowerFirst",function(){return se}),a.d(A,"substitute",function(){return ke}),a.d(A,"upperCase",function(){return hr}),a.d(A,"upperFirst",function(){return hn}),a.d(A,"getType",function(){return xn}),a.d(A,"isArguments",function(){return ji}),a.d(A,"isArray",function(){return j}),a.d(A,"isArrayLike",function(){return o}),a.d(A,"isBoolean",function(){return he}),a.d(A,"isDate",function(){return fo}),a.d(A,"isError",function(){return Ba}),a.d(A,"isFunction",function(){return T}),a.d(A,"isFinite",function(){return Xo}),a.d(A,"isNil",function(){return g}),a.d(A,"isNull",function(){return Xa}),a.d(A,"isNumber",function(){return Bn}),a.d(A,"isObject",function(){return U}),a.d(A,"isObjectLike",function(){return V}),a.d(A,"isPlainObject",function(){return Q}),a.d(A,"isPrototype",function(){return jo}),a.d(A,"isRegExp",function(){return ps}),a.d(A,"isString",function(){return Rt}),a.d(A,"isType",function(){return m}),a.d(A,"isUndefined",function(){return us}),a.d(A,"isElement",function(){return Ho}),a.d(A,"requestAnimationFrame",function(){return ys}),a.d(A,"clearAnimationFrame",function(){return bo}),a.d(A,"augment",function(){return Yo}),a.d(A,"clone",function(){return As}),a.d(A,"debounce",function(){return Ds}),a.d(A,"memoize",function(){return bl}),a.d(A,"deepMix",function(){return Qt}),a.d(A,"each",function(){return z}),a.d(A,"extend",function(){return de}),a.d(A,"indexOf",function(){return je}),a.d(A,"isEmpty",function(){return Qe}),a.d(A,"isEqual",function(){return jr}),a.d(A,"isEqualWith",function(){return Pr}),a.d(A,"map",function(){return un}),a.d(A,"mapValues",function(){return zr}),a.d(A,"mix",function(){return Qo}),a.d(A,"assign",function(){return Qo}),a.d(A,"get",function(){return Pn}),a.d(A,"set",function(){return Si}),a.d(A,"pick",function(){return qn}),a.d(A,"omit",function(){return hi}),a.d(A,"throttle",function(){return ii}),a.d(A,"toArray",function(){return xi}),a.d(A,"toString",function(){return Vo}),a.d(A,"uniqueId",function(){return la}),a.d(A,"noop",function(){return Pi}),a.d(A,"identity",function(){return ta}),a.d(A,"size",function(){return Yi}),a.d(A,"Cache",function(){return Ei});var f=function(le){return le!==null&&typeof le!="function"&&isFinite(le.length)},o=f,x=function(le,we){return o(le)?le.indexOf(we)>-1:!1},O=x,C=function(le,we){if(!o(le))return le;for(var He=[],br=0;br<le.length;br++){var nn=le[br];we(nn,br)&&He.push(nn)}return He},P=C,b=function(le,we){return we===void 0&&(we=[]),P(le,function(He){return!O(we,He)})},S=b,y={}.toString,E=function(le,we){return y.call(le)==="[object "+we+"]"},m=E,T=function(Me){return m(Me,"Function")},L=function(le){return le==null},g=L,j=function(Me){return Array.isArray?Array.isArray(Me):m(Me,"Array")},U=function(Me){var le=typeof Me;return Me!==null&&le==="object"||le==="function"};function W(Me,le){if(!!Me){var we;if(j(Me))for(var He=0,br=Me.length;He<br&&(we=le(Me[He],He),we!==!1);He++);else if(U(Me)){for(var nn in Me)if(Me.hasOwnProperty(nn)&&(we=le(Me[nn],nn),we===!1))break}}}var z=W,N=Object.keys?function(Me){return Object.keys(Me)}:function(Me){var le=[];return z(Me,function(we,He){T(Me)&&He==="prototype"||le.push(He)}),le},I=N;function B(Me,le){var we=I(le),He=we.length;if(g(Me))return!He;for(var br=0;br<He;br+=1){var nn=we[br];if(le[nn]!==Me[nn]||!(nn in Me))return!1}return!0}var G=B,k=function(le){return typeof le=="object"&&le!==null},V=k,tt=function(le){if(!V(le)||!m(le,"Object"))return!1;if(Object.getPrototypeOf(le)===null)return!0;for(var we=le;Object.getPrototypeOf(we)!==null;)we=Object.getPrototypeOf(we);return Object.getPrototypeOf(le)===we},Q=tt;function K(Me,le){if(!j(Me))return null;var we;if(T(le)&&(we=le),Q(le)&&(we=function(nn){return G(nn,le)}),we){for(var He=0;He<Me.length;He+=1)if(we(Me[He]))return Me[He]}return null}var _=K;function Y(Me,le,we){we===void 0&&(we=0);for(var He=we;He<Me.length;He++)if(le(Me[He],He))return He;return-1}var q=Y,ot=function(le,we){for(var He=null,br=0;br<le.length;br++){var nn=le[br],ai=nn[we];if(!g(ai)){j(ai)?He=ai[0]:He=ai;break}}return He},ft=ot,ct=function(le){if(!j(le))return[];for(var we=[],He=0;He<le.length;He++)we=we.concat(le[He]);return we},rt=ct,gt=function Me(le,we){if(we===void 0&&(we=[]),!j(le))we.push(le);else for(var He=0;He<le.length;He+=1)Me(le[He],we);return we},Et=gt,Gt=function(Me){if(!!j(Me))return Me.reduce(function(le,we){return Math.max(le,we)},Me[0])},Yt=function(Me){if(!!j(Me))return Me.reduce(function(le,we){return Math.min(le,we)},Me[0])},Xt=function(le){var we=le.filter(function(Bi){return!isNaN(Bi)});if(!we.length)return{min:0,max:0};if(j(le[0])){for(var He=[],br=0;br<le.length;br++)He=He.concat(le[br]);we=He}var nn=Gt(we),ai=Yt(we);return{min:ai,max:nn}},vt=Xt,mt=Array.prototype,ut=mt.splice,st=mt.indexOf,lt=function(le){for(var we=[],He=1;He<arguments.length;He++)we[He-1]=arguments[He];for(var br=0;br<we.length;br++)for(var nn=we[br],ai=-1;(ai=st.call(le,nn))>-1;)ut.call(le,ai,1);return le},Tt=lt,Ot=Array.prototype.splice,et=function(le,we){if(!o(le))return[];for(var He=le?we.length:0,br=He-1;He--;){var nn=void 0,ai=we[He];(He===br||ai!==nn)&&(nn=ai,Ot.call(le,ai,1))}return le},H=et,pt=function(le,we,He){if(!j(le)&&!Q(le))return le;var br=He;return z(le,function(nn,ai){br=we(br,nn,ai)}),br},nt=pt,yt=function(le,we){var He=[];if(!o(le))return He;for(var br=-1,nn=[],ai=le.length;++br<ai;){var Bi=le[br];we(Bi,br,le)&&(He.push(Bi),nn.push(br))}return H(le,nn),He},Pt=yt,Rt=function(Me){return m(Me,"String")};function Wt(Me,le){var we;if(T(le))we=function(nn,ai){return le(nn)-le(ai)};else{var He=[];Rt(le)?He.push(le):j(le)&&(He=le),we=function(nn,ai){for(var Bi=0;Bi<He.length;Bi+=1){var to=He[Bi];if(nn[to]>ai[to])return 1;if(nn[to]<ai[to])return-1}return 0}}return Me.sort(we),Me}var Vt=Wt;function Lt(Me,le){le===void 0&&(le=new Map);var we=[];if(Array.isArray(Me))for(var He=0,br=Me.length;He<br;He++){var nn=Me[He];le.has(nn)||(we.push(nn),le.set(nn,!0))}return we}var Ct=function(){for(var le=[],we=0;we<arguments.length;we++)le[we]=arguments[we];return Lt([].concat.apply([],le))},at=Ct,It=function(Me,le){for(var we=[],He={},br=0;br<Me.length;br++){var nn=Me[br],ai=nn[le];if(!g(ai)){j(ai)||(ai=[ai]);for(var Bi=0;Bi<ai.length;Bi++){var to=ai[Bi];He[to]||(we.push(to),He[to]=!0)}}}return we};function Ft(Me){if(o(Me))return Me[0]}function xt(Me){if(o(Me)){var le=Me;return le[le.length-1]}}function Nt(Me,le){return j(Me)||Rt(Me)?Me[0]===le:!1}var Ht=Nt;function Bt(Me,le){return j(Me)||Rt(Me)?Me[Me.length-1]===le:!1}var Ut=Bt,Jt=function(le,we){for(var He=0;He<le.length;He++)if(!we(le[He],He))return!1;return!0},oe=Jt,ge=function(le,we){for(var He=0;He<le.length;He++)if(we(le[He],He))return!0;return!1},Ce=ge,Ie=Object.prototype.hasOwnProperty;function We(Me,le){if(!le||!j(Me))return{};for(var we={},He=T(le)?le:function(Bi){return Bi[le]},br,nn=0;nn<Me.length;nn++){var ai=Me[nn];br=He(ai),Ie.call(we,br)?we[br].push(ai):we[br]=[ai]}return we}var lr=We;function rr(Me,le){if(!le)return{0:Me};if(!T(le)){var we=j(le)?le:le.replace(/\s+/g,"").split("*");le=function(br){for(var nn="_",ai=0,Bi=we.length;ai<Bi;ai++)nn+=br[we[ai]]&&br[we[ai]].toString();return nn}}return lr(Me,le)}var $e=function(Me,le){if(!le)return[Me];var we=rr(Me,le),He=[];for(var br in we)He.push(we[br]);return He};function Ue(Me,le){return Me["_wrap_"+le]}var ir=Ue;function xr(Me,le){if(Me["_wrap_"+le])return Me["_wrap_"+le];var we=function(br){Me[le](br)};return Me["_wrap_"+le]=we,we}var nr=xr,tn={};function bn(Me){var le=tn[Me];if(!le){for(var we=Me.toString(16),He=we.length;He<6;He++)we="0"+we;le="#"+we,tn[Me]=le}return le}var Ur=bn;function Le(Me){var le=0,we=0,He=0,br=0;return j(Me)?Me.length===1?le=we=He=br=Me[0]:Me.length===2?(le=He=Me[0],we=br=Me[1]):Me.length===3?(le=Me[0],we=br=Me[1],He=Me[2]):(le=Me[0],we=Me[1],He=Me[2],br=Me[3]):le=we=He=br=Me,{r1:le,r2:we,r3:He,r4:br}}var or=Le,Gr=function(le,we,He){return le<we?we:le>He?He:le},Kr=Gr,$r=function(le,we){var He=we.toString(),br=He.indexOf(".");if(br===-1)return Math.round(le);var nn=He.substr(br+1).length;return nn>20&&(nn=20),parseFloat(le.toFixed(nn))},jn=$r,Qn=function(le){return m(le,"Number")},Bn=Qn,Nn=function(le){return Bn(le)&&le%1!=0},Xn=Nn,ri=function(le){return Bn(le)&&le%2==0},In=ri,gi=Number.isInteger?Number.isInteger:function(Me){return Bn(Me)&&Me%1==0},oa=gi,wa=function(le){return Bn(le)&&le<0},Ea=wa,Vi=1e-5;function fa(Me,le,we){return we===void 0&&(we=Vi),Math.abs(Me-le)<we}var Li=function(le){return Bn(le)&&le%2!=0},Ji=Li,Xi=function(le){return Bn(le)&&le>0},Hi=Xi,pa=function(Me,le){if(!!j(Me)){var we=Me[0],He;T(le)?He=le(Me[0]):He=Me[0][le];var br;return z(Me,function(nn){T(le)?br=le(nn):br=nn[le],br>He&&(we=nn,He=br)}),we}},uo=function(Me,le){if(!!j(Me)){var we=Me[0],He;T(le)?He=le(Me[0]):He=Me[0][le];var br;return z(Me,function(nn){T(le)?br=le(nn):br=nn[le],br<He&&(we=nn,He=br)}),we}},Mo=function(le,we){return(le%we+we)%we},co=Mo,Sa=180/Math.PI,Wo=function(le){return Sa*le},zo=Wo,ko=parseInt,yl=Math.PI/180,ya=function(le){return yl*le},ml=ya,Ms=z,ls=function(Me,le){return Me.hasOwnProperty(le)},Cs=ls,qs=Object.values?function(Me){return Object.values(Me)}:function(Me){var le=[];return z(Me,function(we,He){T(Me)&&He==="prototype"||le.push(we)}),le},li=qs,Fl=function(Me,le){return O(li(Me),le)},Vo=function(Me){return g(Me)?"":Me.toString()},Gs=function(le){return Vo(le).toLowerCase()},Us=Gs,pe=function(le){var we=Vo(le);return we.charAt(0).toLowerCase()+we.substring(1)},se=pe;function ye(Me,le){return!Me||!le?Me:Me.replace(/\\?\{([^{}]+)\}/g,function(we,He){return we.charAt(0)==="\\"?we.slice(1):le[He]===void 0?"":le[He]})}var ke=ye,Xe=function(le){return Vo(le).toUpperCase()},hr=Xe,Wr=function(le){var we=Vo(le);return we.charAt(0).toUpperCase()+we.substring(1)},hn=Wr,Vn={}.toString,Ln=function(le){return Vn.call(le).replace(/^\[object /,"").replace(/]$/,"")},xn=Ln,Fi=function(le){return m(le,"Arguments")},ji=Fi,sa=function(le){return m(le,"Boolean")},he=sa,Ia=function(le){return m(le,"Date")},fo=Ia,ho=function(le){return m(le,"Error")},Ba=ho,Xo=function(Me){return Bn(Me)&&isFinite(Me)},Gn=function(le){return le===null},Xa=Gn,Ha=Object.prototype,Ya=function(le){var we=le&&le.constructor,He=typeof we=="function"&&we.prototype||Ha;return le===He},jo=Ya,$o=function(le){return m(le,"RegExp")},ps=$o,Co=function(le){return le===void 0},us=Co,Ma=function(le){return le instanceof Element||le instanceof HTMLDocument},Ho=Ma;function ys(Me){var le=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(we){return setTimeout(we,16)};return le(Me)}function bo(Me){var le=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;le(Me)}function tl(Me,le){for(var we in le)le.hasOwnProperty(we)&&we!=="constructor"&&le[we]!==void 0&&(Me[we]=le[we])}function Qo(Me,le,we,He){return le&&tl(Me,le),we&&tl(Me,we),He&&tl(Me,He),Me}var Ws=function(){for(var le=[],we=0;we<arguments.length;we++)le[we]=arguments[we];for(var He=le[0],br=1;br<le.length;br++){var nn=le[br];T(nn)&&(nn=nn.prototype),Qo(He.prototype,nn)}},Yo=Ws,Jo=function Me(le){if(typeof le!="object"||le===null)return le;var we;if(j(le)){we=[];for(var He=0,br=le.length;He<br;He++)typeof le[He]=="object"&&le[He]!=null?we[He]=Me(le[He]):we[He]=le[He]}else{we={};for(var nn in le)typeof le[nn]=="object"&&le[nn]!=null?we[nn]=Me(le[nn]):we[nn]=le[nn]}return we},As=Jo;function Ts(Me,le,we){var He;return function(){var br=this,nn=arguments,ai=function(){He=null,we||Me.apply(br,nn)},Bi=we&&!He;clearTimeout(He),He=setTimeout(ai,le),Bi&&Me.apply(br,nn)}}var Ds=Ts,bl=function(Me,le){if(!T(Me))throw new TypeError("Expected a function");var we=function He(){for(var br=[],nn=0;nn<arguments.length;nn++)br[nn]=arguments[nn];var ai=le?le.apply(this,br):br[0],Bi=He.cache;if(Bi.has(ai))return Bi.get(ai);var to=Me.apply(this,br);return Bi.set(ai,to),to};return we.cache=new Map,we},Ol=5;function X(Me,le,we,He){we=we||0,He=He||Ol;for(var br in le)if(le.hasOwnProperty(br)){var nn=le[br];nn!==null&&Q(nn)?(Q(Me[br])||(Me[br]={}),we<He?X(Me[br],nn,we+1,He):Me[br]=le[br]):j(nn)?(Me[br]=[],Me[br]=Me[br].concat(nn)):nn!==void 0&&(Me[br]=nn)}}var Mt=function(le){for(var we=[],He=1;He<arguments.length;He++)we[He-1]=arguments[He];for(var br=0;br<we.length;br+=1)X(le,we[br]);return le},Qt=Mt,ae=function(le,we,He,br){T(we)||(He=we,we=le,le=function(){});var nn=Object.create?function(Bi,to){return Object.create(Bi,{constructor:{value:to}})}:function(Bi,to){function el(){}el.prototype=Bi;var Ko=new el;return Ko.constructor=to,Ko},ai=nn(we.prototype,le);return le.prototype=Qo(ai,le.prototype),le.superclass=nn(we.prototype,we),Qo(ai,He),Qo(le,br),le},de=ae,xe=function(le,we){if(!o(le))return-1;var He=Array.prototype.indexOf;if(He)return He.call(le,we);for(var br=-1,nn=0;nn<le.length;nn++)if(le[nn]===we){br=nn;break}return br},je=xe,Fe=Object.prototype.hasOwnProperty;function ze(Me){if(g(Me))return!0;if(o(Me))return!Me.length;var le=xn(Me);if(le==="Map"||le==="Set")return!Me.size;if(jo(Me))return!Object.keys(Me).length;for(var we in Me)if(Fe.call(Me,we))return!1;return!0}var Qe=ze,Ze=function Me(le,we){if(le===we)return!0;if(!le||!we||Rt(le)||Rt(we))return!1;if(o(le)||o(we)){if(le.length!==we.length)return!1;for(var He=!0,br=0;br<le.length&&(He=Me(le[br],we[br]),!!He);br++);return He}if(V(le)||V(we)){var nn=Object.keys(le),ai=Object.keys(we);if(nn.length!==ai.length)return!1;for(var He=!0,br=0;br<nn.length&&(He=Me(le[nn[br]],we[nn[br]]),!!He);br++);return He}return!1},jr=Ze,Pr=function(Me,le,we){return T(we)?!!we(Me,le):jr(Me,le)},Tr=function(le,we){if(!o(le))return le;for(var He=[],br=0;br<le.length;br++){var nn=le[br];He.push(we(nn,br))}return He},un=Tr,pn=function(le){return le},zr=function(Me,le){le===void 0&&(le=pn);var we={};return U(Me)&&!g(Me)&&Object.keys(Me).forEach(function(He){we[He]=le(Me[He],He)}),we},Pn=function(Me,le,we){for(var He=0,br=Rt(le)?le.split("."):le;Me&&He<br.length;)Me=Me[br[He++]];return Me===void 0||He<br.length?we:Me},Si=function(Me,le,we){var He=Me,br=Rt(le)?le.split("."):le;return br.forEach(function(nn,ai){ai<br.length-1?(U(He[nn])||(He[nn]=Bn(br[ai+1])?[]:{}),He=He[nn]):He[nn]=we}),Me},Jn=Object.prototype.hasOwnProperty,qn=function(Me,le){if(Me===null||!Q(Me))return{};var we={};return z(le,function(He){Jn.call(Me,He)&&(we[He]=Me[He])}),we},hi=function(Me,le){return nt(Me,function(we,He,br){return le.includes(br)||(we[br]=He),we},{})},ii=function(Me,le,we){var He,br,nn,ai,Bi=0;we||(we={});var to=function(){Bi=we.leading===!1?0:Date.now(),He=null,ai=Me.apply(br,nn),He||(br=nn=null)},el=function(){var zs=Date.now();!Bi&&we.leading===!1&&(Bi=zs);var Ao=le-(zs-Bi);return br=this,nn=arguments,Ao<=0||Ao>le?(He&&(clearTimeout(He),He=null),Bi=zs,ai=Me.apply(br,nn),He||(br=nn=null)):!He&&we.trailing!==!1&&(He=setTimeout(to,Ao)),ai};return el.cancel=function(){clearTimeout(He),Bi=0,He=br=nn=null},el},xi=function(Me){return o(Me)?Array.prototype.slice.call(Me):[]},Wi={},la=function(Me){return Me=Me||"g",Wi[Me]?Wi[Me]+=1:Wi[Me]=1,Me+Wi[Me]},Pi=function(){},ta=function(Me){return Me};function Yi(Me){return g(Me)?0:o(Me)?Me.length:Object.keys(Me).length}var zi=function(){function Me(){this.map={}}return Me.prototype.has=function(le){return this.map[le]!==void 0},Me.prototype.get=function(le,we){var He=this.map[le];return He===void 0?we:He},Me.prototype.set=function(le,we){this.map[le]=we},Me.prototype.clear=function(){this.map={}},Me.prototype.delete=function(le){delete this.map[le]},Me.prototype.size=function(){return Object.keys(this.map).length},Me}(),Ei=zi},"k+AY":function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=null;function o(){if(!f){var x=document.createElement("canvas");x.width=1,x.height=1,f=x.getContext("2d")}return f}},k7N2:function(jt,A,a){var f=a("m9sd"),o=a("rGlR");function x(O){return f(O,o(O))}jt.exports=x},kD8f:function(jt,A,a){"use strict";a.d(A,"a",function(){return ft});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("8DqP"),C=a("N2cT"),P=a("nHjW"),b=a("2l0P"),S="ancestor-node",y="value",E="path",m=[E,"name","depth","height"],T=Object(P.c)({},o.b.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),L=a("AD+8"),g=a("W7Gi"),j=a("M1/f"),U=a("o5Uy"),W={field:"value",size:[1,1],round:!1,padding:0,sort:function(rt,gt){return gt.value-rt.value},as:["x","y"]};function z(ct,rt){rt=Object(x.assign)({},W,rt);var gt=rt.as;if(!Object(x.isArray)(gt)||gt.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var Et;try{Et=Object(U.b)(rt)}catch(mt){console.warn(mt)}var Gt=function(ut){return g.a().size(rt.size).round(rt.round).padding(rt.padding)(j.c(ut).sum(function(st){return st.children?st[Et]-Object(x.reduce)(st.children,function(lt,Tt){return lt+Tt[Et]},0):st[Et]}).sort(rt.sort))},Yt=Gt(ct),Xt=gt[0],vt=gt[1];return Yt.each(function(mt){var ut,st;mt[Xt]=[mt.x0,mt.x1,mt.x1,mt.x0],mt[vt]=[mt.y1,mt.y1,mt.y0,mt.y0],mt.name=mt.name||((ut=mt.data)===null||ut===void 0?void 0:ut.name)||((st=mt.data)===null||st===void 0?void 0:st.label),mt.data.name=mt.name,["x0","x1","y0","y1"].forEach(function(lt){gt.indexOf(lt)===-1&&delete mt[lt]})}),Object(U.a)(Yt)}var N=a("zG9U");function I(ct){var rt=ct.data,gt=ct.colorField,Et=ct.rawFields,Gt=ct.hierarchyConfig,Yt=Gt===void 0?{}:Gt,Xt={partition:z,treemap:N.a},vt=ct.seriesField,mt=ct.type||"partition",ut=Xt[mt](rt,Object(f.__assign)(Object(f.__assign)({field:vt||"value"},Yt),{type:"hierarchy."+mt,as:["x","y"]})),st=[];return ut.forEach(function(lt){var Tt,Ot,et,H,pt,nt;if(lt.depth===0)return null;for(var yt=lt.data.name,Pt=Object(f.__assign)({},lt);Pt.depth>1;)yt=((Ot=Pt.parent.data)===null||Ot===void 0?void 0:Ot.name)+" / "+yt,Pt=Pt.parent;var Rt=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},Object(P.r)(lt.data,Object(f.__spreadArrays)(Et||[],[Yt.field]))),(Tt={},Tt[E]=yt,Tt[S]=Pt.data.name,Tt)),lt);vt&&(Rt[vt]=lt.data[vt]||((H=(et=lt.parent)===null||et===void 0?void 0:et.data)===null||H===void 0?void 0:H[vt])),gt&&(Rt[gt]=lt.data[gt]||((nt=(pt=lt.parent)===null||pt===void 0?void 0:pt.data)===null||nt===void 0?void 0:nt[gt])),Rt.ext=Yt,Rt[L.b]={hierarchyConfig:Yt,colorField:gt,rawFields:Et},st.push(Rt)}),st}function B(ct){var rt=ct.chart,gt=ct.options,Et=gt.color,Gt=gt.colorField,Yt=Gt===void 0?S:Gt,Xt=gt.sunburstStyle,vt=gt.rawFields,mt=vt===void 0?[]:vt,ut=I(gt);rt.data(ut);var st;return Xt&&(st=function(Tt){return Object(P.c)({},{fillOpacity:Math.pow(.85,Tt.depth)},Object(x.isFunction)(Xt)?Xt(Tt):Xt)}),Object(O.f)(Object(P.c)({},ct,{options:{xField:"x",yField:"y",seriesField:Yt,rawFields:Object(x.uniq)(Object(f.__spreadArrays)(m,mt)),polygon:{color:Et,style:st}}})),ct}function G(ct){var rt=ct.chart;return rt.axis(!1),ct}function k(ct){var rt=ct.chart;return rt.legend(!1),ct}function V(ct){var rt=ct.chart,gt=ct.options,Et=gt.label,Gt=Object(P.d)(rt,"polygon");if(!Et)Gt.label(!1);else{var Yt=Et.fields,Xt=Yt===void 0?["name"]:Yt,vt=Et.callback,mt=Object(f.__rest)(Et,["fields","callback"]);Gt.label({fields:Xt,callback:vt,cfg:Object(P.w)(mt)})}return ct}function tt(ct){var rt=ct.chart,gt=ct.options,Et=gt.innerRadius,Gt=gt.radius,Yt=gt.reflect,Xt=rt.coordinate({type:"polar",cfg:{innerRadius:Et,radius:Gt}});return Yt&&Xt.reflect(Yt),ct}function Q(ct){var rt,gt=ct.options,Et=gt.hierarchyConfig,Gt=gt.meta;return Object(P.f)(Object(C.f)({},(rt={},rt[y]=Object(x.get)(Gt,Object(x.get)(Et,["field"],"value")),rt)))(ct)}function K(ct){var rt=ct.chart,gt=ct.options,Et=gt.tooltip;if(Et===!1)rt.tooltip(!1);else{var Gt=Et;Object(x.get)(Et,"fields")||(Gt=Object(P.c)({},{customItems:function(Xt){return Xt.map(function(vt){var mt=Object(x.get)(rt.getOptions(),"scales"),ut=Object(x.get)(mt,[E,"formatter"],function(lt){return lt}),st=Object(x.get)(mt,[y,"formatter"],function(lt){return lt});return Object(f.__assign)(Object(f.__assign)({},vt),{name:ut(vt.data[E]),value:st(vt.data.value)})})}},Gt)),rt.tooltip(Gt)}return ct}function _(ct){var rt=ct.drilldown,gt=ct.interactions,Et=gt===void 0?[]:gt;return(rt==null?void 0:rt.enabled)?Object(P.c)({},ct,{interactions:Object(f.__spreadArrays)(Et,[{type:"drill-down",cfg:{drillDownConfig:rt,transformData:I}}])}):ct}function Y(ct){var rt=ct.chart,gt=ct.options,Et=gt.drilldown;return Object(C.c)({chart:rt,options:_(gt)}),(Et==null?void 0:Et.enabled)&&(rt.appendPadding=Object(b.a)(rt.appendPadding,Object(x.get)(Et,["breadCrumb","position"]))),ct}function q(ct){return Object(P.f)(C.j,B,G,Q,k,tt,K,V,Y,C.a,Object(C.b)())(ct)}var ot=a("mGl4"),ft=function(ct){Object(f.__extends)(rt,ct);function rt(){var gt=ct!==null&&ct.apply(this,arguments)||this;return gt.type="sunburst",gt}return rt.getDefaultOptions=function(){return T},rt.prototype.getDefaultOptions=function(){return rt.getDefaultOptions()},rt.prototype.getSchemaAdaptor=function(){return q},rt.SUNBURST_ANCESTOR_FIELD=S,rt.SUNBURST_PATH_FIELD=E,rt}(o.b)},kDK3:function(jt,A,a){"use strict";jt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},kGri:function(jt,A){jt.exports=a;function a(f,o){return f[0]===o[0]&&f[1]===o[1]}},kRPs:function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("tqeG"),x=a("nHjW"),O=a("ITH6"),C=Object(x.c)({},o.b.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}}),P=a("319k"),b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="point",E}return y.getDefaultOptions=function(){return C},y.prototype.changeData=function(E){this.updateOption(Object(O.c)(Object(x.c)({},this.options,{data:E})));var m=this,T=m.options,L=m.chart;Object(O.b)({chart:L,options:T}),this.chart.changeData(E)},y.prototype.getSchemaAdaptor=function(){return O.a},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y}(o.b)},kkS8:function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"c",function(){return o}),a.d(A,"b",function(){return x});function f(O,C){return O.views.find(function(P){return P.id===C})}function o(O){var C=O.parent;return C?C.views:[]}function x(O){return o(O).filter(function(C){return C!==O})}},koGu:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.injectable=void 0;var f=a("196R"),o=a("9L8m");function x(){return function(O){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,O))throw new Error(f.DUPLICATED_INJECTABLE_DECORATOR);var C=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,O)||[];return Reflect.defineMetadata(o.PARAM_TYPES,C,O),O}}A.injectable=x},"kr+H":function(jt,A,a){"use strict";var f=a("XSdR"),o=a("43gi").Graph,x=a("9xKD").slack;jt.exports=O;function O(S){var y=new o({directed:!1}),E=S.nodes()[0],m=S.nodeCount();y.setNode(E,{});for(var T,L;C(y,S)<m;)T=P(y,S),L=y.hasNode(T.v)?x(S,T):-x(S,T),b(y,S,L);return y}function C(S,y){function E(m){f.forEach(y.nodeEdges(m),function(T){var L=T.v,g=m===L?T.w:L;!S.hasNode(g)&&!x(y,T)&&(S.setNode(g,{}),S.setEdge(m,g,{}),E(g))})}return f.forEach(S.nodes(),E),S.nodeCount()}function P(S,y){return f.minBy(y.edges(),function(E){if(S.hasNode(E.v)!==S.hasNode(E.w))return x(y,E)})}function b(S,y,E){f.forEach(S.nodes(),function(m){y.node(m).rank+=E})}},"l+tw":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Graph=A.Node=A.Edge=A.AUTO_EDGE_ID=A.VACANT_GRAPH_ID=A.VACANT_NODE_LABEL=A.VACANT_EDGE_LABEL=A.VACANT_NODE_ID=A.VACANT_EDGE_ID=void 0;var f=-1;A.VACANT_EDGE_ID=f;var o=-1;A.VACANT_NODE_ID=o;var x="-1";A.VACANT_EDGE_LABEL=x;var O="-1";A.VACANT_NODE_LABEL=O;var C=-1;A.VACANT_GRAPH_ID=C;var P="-1";A.AUTO_EDGE_ID=P;var b=function(){function E(m,T,L,g){m===void 0&&(m=f),T===void 0&&(T=o),L===void 0&&(L=o),g===void 0&&(g=x),this.id=m,this.from=T,this.to=L,this.label=g}return E}();A.Edge=b;var S=function(){function E(m,T){m===void 0&&(m=o),T===void 0&&(T=O),this.id=m,this.label=T,this.edges=[],this.edgeMap={}}return E.prototype.addEdge=function(m){this.edges.push(m),this.edgeMap[m.id]=m},E}();A.Node=S;var y=function(){function E(m,T,L){m===void 0&&(m=o),T===void 0&&(T=!0),L===void 0&&(L=!1),this.id=m,this.edgeIdAutoIncrease=T,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=L}return E.prototype.getNodeNum=function(){return this.nodes.length},E.prototype.addNode=function(m,T){if(!this.nodeMap[m]){var L=new S(m,T);this.nodes.push(L),this.nodeMap[m]=L,this.nodeLabelMap[T]||(this.nodeLabelMap[T]=[]),this.nodeLabelMap[T].push(m)}},E.prototype.addEdge=function(m,T,L,g){if((this.edgeIdAutoIncrease||m===void 0)&&(m=this.counter++),!(this.nodeMap[T]&&this.nodeMap[L]&&this.nodeMap[L].edgeMap[m])){var j=new b(m,T,L,g);if(this.edges.push(j),this.edgeMap[m]=j,this.nodeMap[T].addEdge(j),this.edgeLabelMap[g]||(this.edgeLabelMap[g]=[]),this.edgeLabelMap[g].push(j),!this.directed){var U=new b(m,L,T,g);this.nodeMap[L].addEdge(U),this.edgeLabelMap[g].push(U)}}},E}();A.Graph=y},"l/Sb":function(jt,A,a){"use strict";a.r(A),a.d(A,"version",function(){return P});var f=a("ozhX");a.d(A,"Shape",function(){return f});var o=a("U8wd");for(var x in o)["default","Canvas","Group","Shape","version"].indexOf(x)<0&&function(b){a.d(A,b,function(){return o[b]})}(x);var O=a("5RCt");a.d(A,"Canvas",function(){return O.a});var C=a("CyRS");a.d(A,"Group",function(){return C.a});var P="0.5.6"},l0EA:function(jt,A){function a(f,o,x){for(var O=-1,C=f.length,P=o.length,b={};++O<C;){var S=O<P?o[O]:void 0;x(b,f[O],S)}return b}jt.exports=a},lEEW:function(jt,A){},lOIa:function(jt,A,a){var f=a("c2a8");jt.exports={Graph:f.Graph,json:a("IJeR"),alg:a("iuKI"),version:f.version}},lVYH:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingInWhenOnSyntax=void 0;var f=a("aNuW"),o=a("zN6Y"),x=a("ITfU"),O=function(){function C(P){this._binding=P,this._bindingWhenSyntax=new x.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new f.BindingInSyntax(P)}return C.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},C.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},C.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},C.prototype.when=function(P){return this._bindingWhenSyntax.when(P)},C.prototype.whenTargetNamed=function(P){return this._bindingWhenSyntax.whenTargetNamed(P)},C.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},C.prototype.whenTargetTagged=function(P,b){return this._bindingWhenSyntax.whenTargetTagged(P,b)},C.prototype.whenInjectedInto=function(P){return this._bindingWhenSyntax.whenInjectedInto(P)},C.prototype.whenParentNamed=function(P){return this._bindingWhenSyntax.whenParentNamed(P)},C.prototype.whenParentTagged=function(P,b){return this._bindingWhenSyntax.whenParentTagged(P,b)},C.prototype.whenAnyAncestorIs=function(P){return this._bindingWhenSyntax.whenAnyAncestorIs(P)},C.prototype.whenNoAncestorIs=function(P){return this._bindingWhenSyntax.whenNoAncestorIs(P)},C.prototype.whenAnyAncestorNamed=function(P){return this._bindingWhenSyntax.whenAnyAncestorNamed(P)},C.prototype.whenAnyAncestorTagged=function(P,b){return this._bindingWhenSyntax.whenAnyAncestorTagged(P,b)},C.prototype.whenNoAncestorNamed=function(P){return this._bindingWhenSyntax.whenNoAncestorNamed(P)},C.prototype.whenNoAncestorTagged=function(P,b){return this._bindingWhenSyntax.whenNoAncestorTagged(P,b)},C.prototype.whenAnyAncestorMatches=function(P){return this._bindingWhenSyntax.whenAnyAncestorMatches(P)},C.prototype.whenNoAncestorMatches=function(P){return this._bindingWhenSyntax.whenNoAncestorMatches(P)},C.prototype.onActivation=function(P){return this._bindingOnSyntax.onActivation(P)},C}();A.BindingInWhenOnSyntax=O},lioj:function(jt,A,a){"use strict";a.d(A,"a",function(){return B});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("N2cT"),C=a("8DqP"),P=a("nHjW"),b=a("VI+R"),S,y="$$range$$",E="low-q1-median-q3-high",m="$$y_outliers$$",T="outliers_view",L=Object(P.c)({},o.b.getDefaultOptions(),{meta:(S={},S[y]={min:0,alias:E},S),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),g=function(k,V){var tt=k;if(Array.isArray(V)){var Q=V[0],K=V[1],_=V[2],Y=V[3],q=V[4];tt=Object(x.map)(k,function(ot){return ot[y]=[ot[Q],ot[K],ot[_],ot[Y],ot[q]],ot})}return tt};function j(G){var k=G.chart,V=G.options,tt=V.xField,Q=V.yField,K=V.groupField,_=V.color,Y=V.tooltip,q=V.boxStyle;k.data(g(V.data,Q));var ot=Object(x.isArray)(Q)?y:Q,ft=Q?Object(x.isArray)(Q)?Q:[Q]:[],ct=Y;ct!==!1&&(ct=Object(P.c)({},{fields:Object(x.isArray)(Q)?Q:[]},ct));var rt=Object(C.g)(Object(P.c)({},G,{options:{xField:tt,yField:ot,seriesField:K,tooltip:ct,rawFields:ft,schema:{shape:"box",color:_,style:q}}})).ext;return K&&rt.geometry.adjust("dodge"),G}function U(G){var k=G.chart,V=G.options,tt=V.xField,Q=V.data,K=V.outliersField,_=V.outliersStyle,Y=V.padding;if(!K)return G;var q=k.createView({padding:Y,id:T});return q.data(Q),Object(C.e)({chart:q,options:{xField:tt,yField:K,point:{shape:"circle",style:_}}}),q.axis(!1),G}function W(G){var k,V,tt=G.chart,Q=G.options,K=Q.meta,_=Q.xAxis,Y=Q.yAxis,q=Q.xField,ot=Q.yField,ft=Q.outliersField,ct=Array.isArray(ot)?y:ot,rt={};if(ft){var gt=m;rt=(k={},k[ft]={sync:gt,nice:!0},k[ct]={sync:gt,nice:!0},k)}var Et=Object(P.c)(rt,K,(V={},V[q]=Object(P.r)(_,b.a),V[ct]=Object(P.r)(Y,b.a),V));return tt.scale(Et),G}function z(G){var k=G.chart,V=G.options,tt=V.xAxis,Q=V.yAxis,K=V.xField,_=V.yField,Y=Array.isArray(_)?y:_;return tt===!1?k.axis(K,!1):k.axis(K,tt),Q===!1?k.axis(y,!1):k.axis(Y,Q),G}function N(G){var k=G.chart,V=G.options,tt=V.legend,Q=V.groupField;return Q?tt?k.legend(Q,tt):k.legend(Q,{position:"bottom"}):k.legend(!1),G}function I(G){return Object(P.f)(j,U,W,z,N,O.k,O.c,O.a,O.j)(G)}var B=function(G){Object(f.__extends)(k,G);function k(){var V=G!==null&&G.apply(this,arguments)||this;return V.type="box",V}return k.getDefaultOptions=function(){return L},k.prototype.changeData=function(V){this.updateOption({data:V});var tt=this.options.yField,Q=this.chart.views.find(function(K){return K.id===T});Q&&Q.data(V),this.chart.changeData(g(V,tt))},k.prototype.getDefaultOptions=function(){return k.getDefaultOptions()},k.prototype.getSchemaAdaptor=function(){return I},k}(o.b)},m0YO:function(jt,A){},m2Ot:function(jt,A){},m8bt:function(jt,A,a){"use strict";a.d(A,"b",function(){return f}),a.d(A,"a",function(){return o});function f(x){return typeof x=="number"&&!isNaN(x)}function o(x,O,C){var P=Math.min(O,C),b=Math.max(O,C);return x>=P&&x<=b}},m8xh:function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"b",function(){return b}),a.d(A,"c",function(){return E}),a.d(A,"d",function(){return T}),a.d(A,"e",function(){return g});function f(j,U,W){if(j){if(typeof j.addEventListener=="function")return j.addEventListener(U,W,!1),{remove:function(){j.removeEventListener(U,W,!1)}};if(typeof j.attachEvent=="function")return j.attachEvent("on"+U,W),{remove:function(){j.detachEvent("on"+U,W)}}}}var o,x,O,C;function P(){o=document.createElement("table"),x=document.createElement("tr"),O=/^\s*<(\w+|!)[^>]*>/,C={tr:document.createElement("tbody"),tbody:o,thead:o,tfoot:o,td:x,th:x,"*":document.createElement("div")}}function b(j){o||P();var U=O.test(j)&&RegExp.$1;(!U||!(U in C))&&(U="*");var W=C[U];j=j.replace(/(^\s*)|(\s*$)/g,""),W.innerHTML=""+j;var z=W.childNodes[0];return W.removeChild(z),z}function S(j,U,W){var z;try{z=window.getComputedStyle?window.getComputedStyle(j,null)[U]:j.style[U]}catch(N){}finally{z=z===void 0?W:z}return z}function y(j,U){var W=S(j,"height",U);return W==="auto"&&(W=j.offsetHeight),parseFloat(W)}function E(j,U){var W=y(j,U),z=parseFloat(S(j,"borderTopWidth"))||0,N=parseFloat(S(j,"paddingTop"))||0,I=parseFloat(S(j,"paddingBottom"))||0,B=parseFloat(S(j,"borderBottomWidth"))||0,G=parseFloat(S(j,"marginTop"))||0,k=parseFloat(S(j,"marginBottom"))||0;return W+z+B+N+I+G+k}function m(j,U){var W=S(j,"width",U);return W==="auto"&&(W=j.offsetWidth),parseFloat(W)}function T(j,U){var W=m(j,U),z=parseFloat(S(j,"borderLeftWidth"))||0,N=parseFloat(S(j,"paddingLeft"))||0,I=parseFloat(S(j,"paddingRight"))||0,B=parseFloat(S(j,"borderRightWidth"))||0,G=parseFloat(S(j,"marginRight"))||0,k=parseFloat(S(j,"marginLeft"))||0;return W+z+B+N+I+k+G}function L(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(j,U){if(j)for(var W in U)U.hasOwnProperty(W)&&(j.style[W]=U[W]);return j}},mGl4:function(jt,A,a){"use strict";var f=a("JUmX"),o=a("jg4I"),x=a("AD+8");function O(C){var P=Object(o.get)(C,["event","data","data"],{});return Object(o.isArray)(P.children)&&P.children.length>0}Object(f.registerAction)("drill-down-action",x.a),Object(f.registerInteraction)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:O},{trigger:"element:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:O,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]}]})},mQLO:function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("tqeG"),x=a("0dxb"),O=a("KN8b"),C=a("C20/"),P={appendPadding:2,tooltip:Object(f.__assign)({},C.b),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="tiny-area",E}return y.getDefaultOptions=function(){return P},y.prototype.changeData=function(E){this.updateOption({data:E});var m=this,T=m.chart,L=m.options;Object(O.b)({chart:T,options:L}),T.changeData(Object(x.a)(E))},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.getSchemaAdaptor=function(){return O.a},y}(o.b)},mX1U:function(jt,A,a){"use strict";var f=a("CMID"),o=a("qfLv"),x=a("Lkm0"),O=a("08EK"),C=a("jg4I"),P=a("dAAy"),b=a("Hgj1"),S=a("yK/m"),y=a("qh6B"),E=a("riA0"),m=function(rt){return["fill","stroke","fillStyle","strokeStyle"].includes(rt)},T=function(rt){return/^[r,R,L,l]{1}[\s]*\(/.test(rt)},L=[1,0,0,0,1,0,0,0,1];function g(ct,rt,gt){var Et={},Gt=rt.fromAttrs,Yt=rt.toAttrs;if(!ct.destroyed){var Xt;for(var vt in Yt)if(!Object(C.isEqual)(Gt[vt],Yt[vt]))if(vt==="path"){var mt=Yt[vt],ut=Gt[vt];mt.length>ut.length?(mt=E.c(Yt[vt]),ut=E.c(Gt[vt]),ut=E.a(ut,mt),ut=E.b(ut,mt),rt.fromAttrs.path=ut,rt.toAttrs.path=mt):rt.pathFormatted||(mt=E.c(Yt[vt]),ut=E.c(Gt[vt]),ut=E.b(ut,mt),rt.fromAttrs.path=ut,rt.toAttrs.path=mt,rt.pathFormatted=!0),Et[vt]=[];for(var st=0;st<mt.length;st++){for(var lt=mt[st],Tt=ut[st],Ot=[],et=0;et<lt.length;et++)Object(C.isNumber)(lt[et])&&Tt&&Object(C.isNumber)(Tt[et])?(Xt=Object(S.a)(Tt[et],lt[et]),Ot.push(Xt(gt))):Ot.push(lt[et]);Et[vt].push(Ot)}}else if(vt==="matrix"){var H=Object(y.a)(Gt[vt]||L,Yt[vt]||L),pt=H(gt);Et[vt]=pt}else m(vt)&&T(Yt[vt])?Et[vt]=Yt[vt]:Object(C.isFunction)(Yt[vt])||(Xt=Object(S.a)(Gt[vt],Yt[vt]),Et[vt]=Xt(gt));ct.attr(Et)}}function j(ct,rt,gt){var Et=rt.startTime,Gt=rt.delay;if(gt<Et+Gt||rt._paused)return!1;var Yt,Xt=rt.duration,vt=rt.easing;if(gt=gt-Et-rt.delay,rt.repeat)Yt=gt%Xt/Xt,Yt=b[vt](Yt);else if(Yt=gt/Xt,Yt<1)Yt=b[vt](Yt);else return rt.onFrame?ct.attr(rt.onFrame(1)):ct.attr(rt.toAttrs),!0;if(rt.onFrame){var mt=rt.onFrame(Yt);ct.attr(mt)}else g(ct,rt,Yt);return!1}var U=function(){function ct(rt){this.animators=[],this.current=0,this.timer=null,this.canvas=rt}return ct.prototype.initTimer=function(){var rt=this,gt=!1,Et,Gt,Yt;this.timer=P.a(function(Xt){if(rt.current=Xt,rt.animators.length>0){for(var vt=rt.animators.length-1;vt>=0;vt--){if(Et=rt.animators[vt],Et.destroyed){rt.removeAnimator(vt);continue}if(!Et.isAnimatePaused()){Gt=Et.get("animations");for(var mt=Gt.length-1;mt>=0;mt--)Yt=Gt[mt],gt=j(Et,Yt,Xt),gt&&(Gt.splice(mt,1),gt=!1,Yt.callback&&Yt.callback())}Gt.length===0&&rt.removeAnimator(vt)}var ut=rt.canvas.get("autoDraw");ut||rt.canvas.draw()}})},ct.prototype.addAnimator=function(rt){this.animators.push(rt)},ct.prototype.removeAnimator=function(rt){this.animators.splice(rt,1)},ct.prototype.isAnimating=function(){return!!this.animators.length},ct.prototype.stop=function(){this.timer&&this.timer.stop()},ct.prototype.stopAllAnimations=function(rt){rt===void 0&&(rt=!0),this.animators.forEach(function(gt){gt.stopAnimate(rt)}),this.animators=[],this.canvas.draw()},ct.prototype.getTime=function(){return this.current},ct}(),W=U,z=a("8e3m"),N=40,I=0,B=":",G=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function k(ct,rt){for(var gt in ct)if(ct.hasOwnProperty(gt)&&gt.indexOf(B+rt)>=0)return!0;return!1}function V(ct,rt,gt){gt.name=rt,gt.target=ct,gt.currentTarget=ct,gt.delegateTarget=ct,ct.emit(rt,gt)}function tt(ct,rt,gt){if(gt.bubbles){var Et=void 0,Gt=!1;if(rt==="mouseenter"?(Et=gt.fromShape,Gt=!0):rt==="mouseleave"&&(Gt=!0,Et=gt.toShape),ct.isCanvas()&&Gt)return;if(Et&&Object(O.g)(ct,Et)){gt.bubbles=!1;return}gt.name=rt,gt.currentTarget=ct,gt.delegateTarget=ct,ct.emit(rt,gt)}}var Q=function(){function ct(rt){var gt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Et){var Gt=Et.type;gt._triggerEvent(Gt,Et)},this._onDocumentMove=function(Et){var Gt=gt.canvas,Yt=Gt.get("el");if(Yt!==Et.target&&(gt.dragging||gt.currentShape)){var Xt=gt._getPointInfo(Et);gt.dragging&&gt._emitEvent("drag",Et,Xt,gt.draggingShape)}},this._onDocumentMouseUp=function(Et){var Gt=gt.canvas,Yt=Gt.get("el");if(Yt!==Et.target&&gt.dragging){var Xt=gt._getPointInfo(Et);gt.draggingShape&&gt._emitEvent("drop",Et,Xt,null),gt._emitEvent("dragend",Et,Xt,gt.draggingShape),gt._afterDrag(gt.draggingShape,Xt,Et)}},this.canvas=rt.canvas}return ct.prototype.init=function(){this._bindEvents()},ct.prototype._bindEvents=function(){var rt=this,gt=this.canvas.get("el");Object(O.a)(G,function(Et){gt.addEventListener(Et,rt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},ct.prototype._clearEvents=function(){var rt=this,gt=this.canvas.get("el");Object(O.a)(G,function(Et){gt.removeEventListener(Et,rt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},ct.prototype._getEventObj=function(rt,gt,Et,Gt,Yt,Xt){var vt=new z.a(rt,gt);return vt.fromShape=Yt,vt.toShape=Xt,vt.x=Et.x,vt.y=Et.y,vt.clientX=Et.clientX,vt.clientY=Et.clientY,vt.propagationPath.push(Gt),vt},ct.prototype._getShape=function(rt,gt){return this.canvas.getShape(rt.x,rt.y,gt)},ct.prototype._getPointInfo=function(rt){var gt=this.canvas,Et=gt.getClientByEvent(rt),Gt=gt.getPointByEvent(rt);return{x:Gt.x,y:Gt.y,clientX:Et.x,clientY:Et.y}},ct.prototype._triggerEvent=function(rt,gt){var Et=this._getPointInfo(gt),Gt=this._getShape(Et,gt),Yt=this["_on"+rt],Xt=!1;if(Yt)Yt.call(this,Et,Gt,gt);else{var vt=this.currentShape;rt==="mouseenter"||rt==="dragenter"||rt==="mouseover"?(this._emitEvent(rt,gt,Et,null,null,Gt),Gt&&this._emitEvent(rt,gt,Et,Gt,null,Gt),rt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",gt,Et,null)):rt==="mouseleave"||rt==="dragleave"||rt==="mouseout"?(Xt=!0,vt&&this._emitEvent(rt,gt,Et,vt,vt,null),this._emitEvent(rt,gt,Et,null,vt,null),rt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",gt,Et,null)):this._emitEvent(rt,gt,Et,Gt,null,null)}if(Xt||(this.currentShape=Gt),Gt&&!Gt.get("destroyed")){var mt=this.canvas,ut=mt.get("el");ut.style.cursor=Gt.attr("cursor")||mt.get("cursor")}},ct.prototype._onmousedown=function(rt,gt,Et){Et.button===I&&(this.mousedownShape=gt,this.mousedownPoint=rt,this.mousedownTimeStamp=Et.timeStamp),this._emitEvent("mousedown",Et,rt,gt,null,null)},ct.prototype._emitMouseoverEvents=function(rt,gt,Et,Gt){var Yt=this.canvas.get("el");Et!==Gt&&(Et&&(this._emitEvent("mouseout",rt,gt,Et,Et,Gt),this._emitEvent("mouseleave",rt,gt,Et,Et,Gt),(!Gt||Gt.get("destroyed"))&&(Yt.style.cursor=this.canvas.get("cursor"))),Gt&&(this._emitEvent("mouseover",rt,gt,Gt,Et,Gt),this._emitEvent("mouseenter",rt,gt,Gt,Et,Gt)))},ct.prototype._emitDragoverEvents=function(rt,gt,Et,Gt,Yt){Gt?(Gt!==Et&&(Et&&this._emitEvent("dragleave",rt,gt,Et,Et,Gt),this._emitEvent("dragenter",rt,gt,Gt,Et,Gt)),Yt||this._emitEvent("dragover",rt,gt,Gt)):Et&&this._emitEvent("dragleave",rt,gt,Et,Et,Gt),Yt&&this._emitEvent("dragover",rt,gt,Gt)},ct.prototype._afterDrag=function(rt,gt,Et){rt&&(rt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Gt=this._getShape(gt,Et);Gt!==rt&&this._emitMouseoverEvents(Et,gt,rt,Gt),this.currentShape=Gt},ct.prototype._onmouseup=function(rt,gt,Et){if(Et.button===I){var Gt=this.draggingShape;this.dragging?(Gt&&this._emitEvent("drop",Et,rt,gt),this._emitEvent("dragend",Et,rt,Gt),this._afterDrag(Gt,rt,Et)):(this._emitEvent("mouseup",Et,rt,gt),gt===this.mousedownShape&&this._emitEvent("click",Et,rt,gt),this.mousedownShape=null,this.mousedownPoint=null)}},ct.prototype._ondragover=function(rt,gt,Et){Et.preventDefault();var Gt=this.currentShape;this._emitDragoverEvents(Et,rt,Gt,gt,!0)},ct.prototype._onmousemove=function(rt,gt,Et){var Gt=this.canvas,Yt=this.currentShape,Xt=this.draggingShape;if(this.dragging)Xt&&this._emitDragoverEvents(Et,rt,Yt,gt,!1),this._emitEvent("drag",Et,rt,Xt);else{var vt=this.mousedownPoint;if(vt){var mt=this.mousedownShape,ut=Et.timeStamp,st=ut-this.mousedownTimeStamp,lt=vt.clientX-rt.clientX,Tt=vt.clientY-rt.clientY,Ot=lt*lt+Tt*Tt;st>120||Ot>N?mt&&mt.get("draggable")?(Xt=this.mousedownShape,Xt.set("capture",!1),this.draggingShape=Xt,this.dragging=!0,this._emitEvent("dragstart",Et,rt,Xt),this.mousedownShape=null,this.mousedownPoint=null):!mt&&Gt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Et,rt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Et,rt,Yt,gt),this._emitEvent("mousemove",Et,rt,gt)):(this._emitMouseoverEvents(Et,rt,Yt,gt),this._emitEvent("mousemove",Et,rt,gt))}else this._emitMouseoverEvents(Et,rt,Yt,gt),this._emitEvent("mousemove",Et,rt,gt)}},ct.prototype._emitEvent=function(rt,gt,Et,Gt,Yt,Xt){var vt=this._getEventObj(rt,gt,Et,Gt,Yt,Xt);if(Gt){vt.shape=Gt,V(Gt,rt,vt);for(var mt=Gt.getParent();mt;)mt.emitDelegation(rt,vt),vt.propagationStopped||tt(mt,rt,vt),vt.propagationPath.push(mt),mt=mt.getParent()}else{var ut=this.canvas;V(ut,rt,vt)}},ct.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},ct}(),K=Q,_="px",Y=Object(o.a)(),q=Y&&Y.name==="firefox",ot=function(ct){Object(f.__extends)(rt,ct);function rt(gt){var Et=ct.call(this,gt)||this;return Et.initContainer(),Et.initDom(),Et.initEvents(),Et.initTimeline(),Et}return rt.prototype.getDefaultCfg=function(){var gt=ct.prototype.getDefaultCfg.call(this);return gt.cursor="default",gt.supportCSSTransform=!1,gt},rt.prototype.initContainer=function(){var gt=this.get("container");Object(O.h)(gt)&&(gt=document.getElementById(gt),this.set("container",gt))},rt.prototype.initDom=function(){var gt=this.createDom();this.set("el",gt);var Et=this.get("container");Et.appendChild(gt),this.setDOMSize(this.get("width"),this.get("height"))},rt.prototype.initEvents=function(){var gt=new K({canvas:this});gt.init(),this.set("eventController",gt)},rt.prototype.initTimeline=function(){var gt=new W(this);this.set("timeline",gt)},rt.prototype.setDOMSize=function(gt,Et){var Gt=this.get("el");O.c&&(Gt.style.width=gt+_,Gt.style.height=Et+_)},rt.prototype.changeSize=function(gt,Et){this.setDOMSize(gt,Et),this.set("width",gt),this.set("height",Et),this.onCanvasChange("changeSize")},rt.prototype.getRenderer=function(){return this.get("renderer")},rt.prototype.getCursor=function(){return this.get("cursor")},rt.prototype.setCursor=function(gt){this.set("cursor",gt);var Et=this.get("el");O.c&&Et&&(Et.style.cursor=gt)},rt.prototype.getPointByEvent=function(gt){var Et=this.get("supportCSSTransform");if(Et){if(q&&!Object(O.e)(gt.layerX)&&gt.layerX!==gt.offsetX)return{x:gt.layerX,y:gt.layerY};if(!Object(O.e)(gt.offsetX))return{x:gt.offsetX,y:gt.offsetY}}var Gt=this.getClientByEvent(gt),Yt=Gt.x,Xt=Gt.y;return this.getPointByClient(Yt,Xt)},rt.prototype.getClientByEvent=function(gt){var Et=gt;return gt.touches&&(gt.type==="touchend"?Et=gt.changedTouches[0]:Et=gt.touches[0]),{x:Et.clientX,y:Et.clientY}},rt.prototype.getPointByClient=function(gt,Et){var Gt=this.get("el"),Yt=Gt.getBoundingClientRect();return{x:gt-Yt.left,y:Et-Yt.top}},rt.prototype.getClientByPoint=function(gt,Et){var Gt=this.get("el"),Yt=Gt.getBoundingClientRect();return{x:gt+Yt.left,y:Et+Yt.top}},rt.prototype.draw=function(){},rt.prototype.removeDom=function(){var gt=this.get("el");gt.parentNode.removeChild(gt)},rt.prototype.clearEvents=function(){var gt=this.get("eventController");gt.destroy()},rt.prototype.isCanvas=function(){return!0},rt.prototype.getParent=function(){return null},rt.prototype.destroy=function(){var gt=this.get("timeline");this.get("destroyed")||(this.clear(),gt&&gt.stop(),this.clearEvents(),this.removeDom(),ct.prototype.destroy.call(this))},rt}(x.a),ft=ot},mZcS:function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("tqeG"),x=a("vHs8"),O=a("Pys6"),C=a("nHjW"),P=Object(C.c)({},o.b.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="column",E}return y.getDefaultOptions=function(){return P},y.prototype.changeData=function(E){this.updateOption({data:E});var m=this.options,T=m.yField,L=m.xField,g=m.isPercent,j=this,U=j.chart,W=j.options;Object(O.b)({chart:U,options:W}),this.chart.changeData(Object(x.a)(E,T,L,T,g))},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.getSchemaAdaptor=function(){return O.a},y}(o.b)},mbOf:function(jt,A,a){var f=a("ql+n");jt.exports=o;function o(){this._arr=[],this._keyIndices={}}o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(x){return x.key})},o.prototype.has=function(x){return f.has(this._keyIndices,x)},o.prototype.priority=function(x){var O=this._keyIndices[x];if(O!==void 0)return this._arr[O].priority},o.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(x,O){var C=this._keyIndices;if(x=String(x),!f.has(C,x)){var P=this._arr,b=P.length;return C[x]=b,P.push({key:x,priority:O}),this._decrease(b),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var x=this._arr.pop();return delete this._keyIndices[x.key],this._heapify(0),x.key},o.prototype.decrease=function(x,O){var C=this._keyIndices[x];if(O>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+x+" Old: "+this._arr[C].priority+" New: "+O);this._arr[C].priority=O,this._decrease(C)},o.prototype._heapify=function(x){var O=this._arr,C=2*x,P=C+1,b=x;C<O.length&&(b=O[C].priority<O[b].priority?C:b,P<O.length&&(b=O[P].priority<O[b].priority?P:b),b!==x&&(this._swap(x,b),this._heapify(b)))},o.prototype._decrease=function(x){for(var O=this._arr,C=O[x].priority,P;x!==0&&(P=x>>1,!(O[P].priority<C));)this._swap(x,P),x=P},o.prototype._swap=function(x,O){var C=this._arr,P=this._keyIndices,b=C[x],S=C[O];C[x]=S,C[O]=b,P[S.key]=x,P[b.key]=O}},mdrB:function(jt,A,a){var f=a("hQ5t"),o=a("TIpG"),x=a("KmIr");function O(C){return function(P,b,S){var y=Object(P);if(!o(P)){var E=f(b,3);P=x(P),b=function(T){return E(y[T],T,y)}}var m=C(P,b,S);return m>-1?y[E?P[m]:m]:void 0}}jt.exports=O},mmcn:function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("m8xh"),x=a("jg4I"),O=a("VZin"),C={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},P={default:C,hover:{thumbColor:"rgba(0,0,0,0.2)"}},b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.clearEvents=x.noop,E.onStartEvent=function(m){return function(T){E.isMobile=m,T.originalEvent.preventDefault();var L=m?Object(x.get)(T.originalEvent,"touches.0.clientX"):T.clientX,g=m?Object(x.get)(T.originalEvent,"touches.0.clientY"):T.clientY;E.startPos=E.cfg.isHorizontal?L:g,E.bindLaterEvent()}},E.bindLaterEvent=function(){var m=E.getContainerDOM(),T=[];E.isMobile?T=[Object(o.a)(m,"touchmove",E.onMouseMove),Object(o.a)(m,"touchend",E.onMouseUp),Object(o.a)(m,"touchcancel",E.onMouseUp)]:T=[Object(o.a)(m,"mousemove",E.onMouseMove),Object(o.a)(m,"mouseup",E.onMouseUp),Object(o.a)(m,"mouseleave",E.onMouseUp)],E.clearEvents=function(){T.forEach(function(L){L.remove()})}},E.onMouseMove=function(m){var T=E.cfg,L=T.isHorizontal,g=T.thumbOffset;m.preventDefault();var j=E.isMobile?Object(x.get)(m,"touches.0.clientX"):m.clientX,U=E.isMobile?Object(x.get)(m,"touches.0.clientY"):m.clientY,W=L?j:U,z=W-E.startPos;E.startPos=W,E.updateThumbOffset(g+z)},E.onMouseUp=function(m){m.preventDefault(),E.clearEvents()},E.onTrackClick=function(m){var T=E.cfg,L=T.isHorizontal,g=T.x,j=T.y,U=T.thumbLen,W=E.getContainerDOM(),z=W.getBoundingClientRect(),N=m.clientX,I=m.clientY,B=L?N-z.left-g-U/2:I-z.top-j-U/2,G=E.validateRange(B);E.updateThumbOffset(G)},E.onThumbMouseOver=function(){var m=E.cfg.theme.hover.thumbColor;E.getElementByLocalId("thumb").attr("stroke",m),E.draw()},E.onThumbMouseOut=function(){var m=E.cfg.theme.default.thumbColor;E.getElementByLocalId("thumb").attr("stroke",m),E.draw()},E}return y.prototype.setRange=function(E,m){this.set("minLimit",E),this.set("maxLimit",m);var T=this.getValue(),L=Object(x.clamp)(T,E,m);T!==L&&!this.get("isInit")&&this.setValue(L)},y.prototype.getRange=function(){var E=this.get("minLimit")||0,m=this.get("maxLimit")||1;return{min:E,max:m}},y.prototype.setValue=function(E){var m=this.getRange(),T=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(x.clamp)(E,m.min,m.max)}),this.delegateEmit("valuechange",{originalValue:T,value:this.getValue()})},y.prototype.getValue=function(){return Object(x.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},y.prototype.getDefaultCfg=function(){var E=S.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},E),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:P})},y.prototype.renderInner=function(E){this.renderTrackShape(E),this.renderThumbShape(E)},y.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},y.prototype.initEvent=function(){this.bindEvents()},y.prototype.renderTrackShape=function(E){var m=this.cfg,T=m.trackLen,L=m.theme,g=L===void 0?{default:{}}:L,j=Object(x.deepMix)({},P,g).default,U=j.lineCap,W=j.trackColor,z=j.size,N=Object(x.get)(this.cfg,"size",z),I=this.get("isHorizontal")?{x1:0+N/2,y1:N/2,x2:T-N/2,y2:N/2,lineWidth:N,stroke:W,lineCap:U}:{x1:N/2,y1:0+N/2,x2:N/2,y2:T-N/2,lineWidth:N,stroke:W,lineCap:U};return this.addShape(E,{id:this.getElementId("track"),name:"track",type:"line",attrs:I})},y.prototype.renderThumbShape=function(E){var m=this.cfg,T=m.thumbOffset,L=m.thumbLen,g=m.theme,j=Object(x.deepMix)({},P,g).default,U=j.size,W=j.lineCap,z=j.thumbColor,N=Object(x.get)(this.cfg,"size",U),I=this.get("isHorizontal")?{x1:T+N/2,y1:N/2,x2:T+L-N/2,y2:N/2,lineWidth:N,stroke:z,lineCap:W,cursor:"default"}:{x1:N/2,y1:T+N/2,x2:N/2,y2:T+L-N/2,lineWidth:N,stroke:z,lineCap:W,cursor:"default"};return this.addShape(E,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:I})},y.prototype.bindEvents=function(){var E=this.get("group");E.on("mousedown",this.onStartEvent(!1)),E.on("mouseup",this.onMouseUp),E.on("touchstart",this.onStartEvent(!0)),E.on("touchend",this.onMouseUp);var m=E.findById(this.getElementId("track"));m.on("click",this.onTrackClick);var T=E.findById(this.getElementId("thumb"));T.on("mouseover",this.onThumbMouseOver),T.on("mouseout",this.onThumbMouseOut)},y.prototype.getContainerDOM=function(){var E=this.get("container"),m=E&&E.get("canvas");return m&&m.get("container")},y.prototype.validateRange=function(E){var m=this.cfg,T=m.thumbLen,L=m.trackLen,g=E;return E+T>L?g=L-T:E+T<T&&(g=0),g},y.prototype.draw=function(){var E=this.get("container"),m=E&&E.get("canvas");m&&m.draw()},y.prototype.updateThumbOffset=function(E){var m=this.cfg,T=m.thumbOffset,L=m.isHorizontal,g=m.thumbLen,j=m.size,U=this.validateRange(E);if(U!==T){var W=this.getElementByLocalId("thumb");L?W.attr({x1:U+j/2,x2:U+g-j/2}):W.attr({y1:U+j/2,y2:U+g-j/2}),this.emitOffsetChange(U)}},y.prototype.emitOffsetChange=function(E){var m=this.cfg,T=m.thumbOffset,L=m.trackLen,g=m.thumbLen;this.cfg.thumbOffset=E,this.emit("scrollchange",{thumbOffset:E,ratio:Object(x.clamp)(E/(L-g),0,1)}),this.delegateEmit("valuechange",{originalValue:T,value:E})},y}(O.a)},mnH5:function(jt,A,a){"use strict";a.d(A,"a",function(){return U});var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("nHjW"),C=a("N2cT"),P=a("cnw0"),b=a("LbVa");function S(W){var z=W.chart,N=W.options,I=N.data,B=N.type,G=N.xField,k=N.yField,V=N.colorField,tt=N.sizeField,Q=N.sizeRatio,K=N.shape,_=N.color,Y=N.tooltip,q=N.heatmapStyle;z.data(I);var ot="polygon";B==="density"&&(ot="heatmap");var ft=Object(b.a)(Y,[G,k,V]),ct=ft.fields,rt=ft.formatter,gt=1;return(Q||Q===0)&&(!K&&!tt?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):Q<0||Q>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):gt=Q),Object(P.a)(Object(O.c)({},W,{options:{type:ot,colorField:V,tooltipFields:ct,shapeField:tt||"",label:void 0,mapping:{tooltip:rt,shape:K&&(tt?function(Et){var Gt=I.map(function(vt){return vt[tt]}),Yt=Math.min.apply(Math,Gt),Xt=Math.max.apply(Math,Gt);return[K,(Object(x.get)(Et,tt)-Yt)/(Xt-Yt),gt]}:function(){return[K,1,gt]}),color:_||V&&z.getTheme().sequenceColors.join("-"),style:q}}})),W}function y(W){var z,N=W.options,I=N.xAxis,B=N.yAxis,G=N.xField,k=N.yField;return Object(O.f)(Object(C.f)((z={},z[G]=I,z[k]=B,z)))(W)}function E(W){var z=W.chart,N=W.options,I=N.xAxis,B=N.yAxis,G=N.xField,k=N.yField;return I===!1?z.axis(G,!1):z.axis(G,I),B===!1?z.axis(k,!1):z.axis(k,B),W}function m(W){var z=W.chart,N=W.options,I=N.label,B=N.colorField,G=N.type,k=Object(O.d)(z,G==="density"?"heatmap":"polygon");if(!I)k.label(!1);else if(B){var V=I.callback,tt=Object(f.__rest)(I,["callback"]);k.label({fields:[B],callback:V,cfg:Object(O.w)(tt)})}return W}function T(W){var z=W.chart,N=W.options,I=N.coordinate,B=N.reflect;return I&&z.coordinate({type:I.type||"rect",cfg:I.cfg}),B&&z.coordinate().reflect(B),W}function L(W){return Object(O.f)(C.j,y,T,S,E,C.d,C.k,m,Object(C.b)(),C.c,C.a,C.i)(W)}var g=Object(O.c)({},o.b.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}}),j=a("JUmX");Object(j.registerShape)("polygon","circle",{draw:function(z,N){var I,B,G=z.x,k=z.y,V=this.parsePoints(z.points),tt=Math.abs(V[2].x-V[1].x),Q=Math.abs(V[1].y-V[0].y),K=Math.min(tt,Q)/2,_=Number(z.shape[1]),Y=Number(z.shape[2]),q=Math.sqrt(Y),ot=K*q*Math.sqrt(_),ft=((I=z.style)===null||I===void 0?void 0:I.fill)||z.color||((B=z.defaultStyle)===null||B===void 0?void 0:B.fill),ct=N.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({x:G,y:k,r:ot},z.defaultStyle),z.style),{fill:ft})});return ct}}),Object(j.registerShape)("polygon","square",{draw:function(z,N){var I,B,G=z.x,k=z.y,V=this.parsePoints(z.points),tt=Math.abs(V[2].x-V[1].x),Q=Math.abs(V[1].y-V[0].y),K=Math.min(tt,Q),_=Number(z.shape[1]),Y=Number(z.shape[2]),q=Math.sqrt(Y),ot=K*q*Math.sqrt(_),ft=((I=z.style)===null||I===void 0?void 0:I.fill)||z.color||((B=z.defaultStyle)===null||B===void 0?void 0:B.fill),ct=N.addShape("rect",{attrs:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({x:G-ot/2,y:k-ot/2,width:ot,height:ot},z.defaultStyle),z.style),{fill:ft})});return ct}});var U=function(W){Object(f.__extends)(z,W);function z(){var N=W!==null&&W.apply(this,arguments)||this;return N.type="heatmap",N}return z.getDefaultOptions=function(){return g},z.prototype.getSchemaAdaptor=function(){return L},z.prototype.getDefaultOptions=function(){return z.getDefaultOptions()},z}(o.b)},mxXC:function(jt,A,a){var f=a("XSdR");jt.exports=o;function o(x,O,C){var P={},b;f.forEach(C,function(S){for(var y=x.parent(S),E,m;y;){if(E=x.parent(y),E?(m=P[E],P[E]=y):(m=b,b=y),m&&m!==y){O.setEdge(m,y);return}y=E}})}},n9X1:function(jt,A,a){"use strict";a.d(A,"b",function(){return x}),a.d(A,"c",function(){return C}),a.d(A,"a",function(){return P});var f=a("08EK"),o=a("k+AY");function x(b,S,y){var E=1;if(Object(f.h)(b)&&(E=b.split(`
`).length),E>1){var m=O(S,y);return S*E+m*(E-1)}return S}function O(b,S){return S?S-b:b*.14}function C(b,S){var y=Object(o.a)(),E=0;if(Object(f.e)(b)||b==="")return E;if(y.save(),y.font=S,Object(f.h)(b)&&b.includes(`
`)){var m=b.split(`
`);Object(f.a)(m,function(T){var L=y.measureText(T).width;E<L&&(E=L)})}else E=y.measureText(b).width;return y.restore(),E}function P(b){var S=b.fontSize,y=b.fontFamily,E=b.fontWeight,m=b.fontStyle,T=b.fontVariant;return[m,T,E,S+"px",y].join(" ").trim()}},nD2R:function(jt,A,a){"use strict";a.d(A,"b",function(){return C}),a.d(A,"a",function(){return P});var f=a("jg4I"),o=a("nHjW"),x=a("3Euq"),O={};function C(b,S){O[b]=S}function P(b){return{get:function(y,E){return Object(o.v)(Object(f.get)(O[b],y)||Object(f.get)(O[x.a.locale],y)||Object(f.get)(O["en-US"],y)||y,E)}}}},nHjW:function(jt,A,a){"use strict";a.d(A,"f",function(){return f}),a.d(A,"r",function(){return o.a}),a.d(A,"v",function(){return O}),a.d(A,"p",function(){return C.b}),a.d(A,"a",function(){return C.a}),a.d(A,"i",function(){return P}),a.d(A,"d",function(){return b}),a.d(A,"g",function(){return S}),a.d(A,"h",function(){return y}),a.d(A,"e",function(){return E.a}),a.d(A,"l",function(){return E.c}),a.d(A,"j",function(){return E.b}),a.d(A,"w",function(){return T}),a.d(A,"k",function(){return W}),a.d(A,"c",function(){return z.a}),a.d(A,"o",function(){return N}),a.d(A,"u",function(){return I.b}),a.d(A,"t",function(){return I.a}),a.d(A,"q",function(){return k}),a.d(A,"m",function(){return V.a}),a.d(A,"n",function(){return V.b}),a.d(A,"b",function(){return tt.a}),a.d(A,"s",function(){return tt.b});function f(){for(var Q=[],K=0;K<arguments.length;K++)Q[K]=arguments[K];return function(_){return Q.reduce(function(Y,q){return q(Y)},_)}}var o=a("ygvb"),x=a("jg4I");function O(Q,K){return K?Object(x.reduce)(K,function(_,Y,q){return _.replace(new RegExp("{\\s*"+q+"\\s*}","g"),Y)},Q):Q}var C=a("Bw4k");function P(Q){if(!Q)return{width:0,height:0};var K=getComputedStyle(Q);return{width:(Q.clientWidth||parseInt(K.width,10))-parseInt(K.paddingLeft,10)-parseInt(K.paddingRight,10),height:(Q.clientHeight||parseInt(K.height,10))-parseInt(K.paddingTop,10)-parseInt(K.paddingBottom,10)}}function b(Q,K){return Q.geometries.find(function(_){return _.type===K})}function S(Q){return Object(x.reduce)(Q.geometries,function(K,_){return K.concat(_.elements)},[])}function y(Q){return Object(x.get)(Q,["views","length"],0)<=0?S(Q):Object(x.reduce)(Q.views,function(K,_){return K.concat(y(_))},S(Q))}var E=a("kkS8"),m=a("CMID");function T(Q){if(!Object(x.isType)(Q,"Object"))return Q;var K=Object(m.__assign)({},Q);return K.formatter&&!K.content&&(K.content=K.formatter),K}var L=a("sxZn");function g(Q,K){var _=[];if(Q.length){_.push(["M",Q[0].x,Q[0].y]);for(var Y=1,q=Q.length;Y<q;Y+=1){var ot=Q[Y];_.push(["L",ot.x,ot.y])}K&&_.push(["Z"])}return _}var j=function(K,_,Y,q){var ot=[],ft,ct,rt=!!q,gt,Et;if(rt){gt=[Infinity,Infinity],Et=[-Infinity,-Infinity];for(var Gt=0,Yt=K.length;Gt<Yt;Gt++){var Xt=K[Gt];gt=L.c.min([0,0],gt,Xt),Et=L.c.max([0,0],Et,Xt)}gt=L.c.min([0,0],gt,q[0]),Et=L.c.max([0,0],Et,q[1])}for(var Gt=0,vt=K.length;Gt<vt;Gt++){var Xt=K[Gt];if(Y)ft=K[Gt?Gt-1:vt-1],ct=K[(Gt+1)%vt];else if(Gt===0||Gt===vt-1){ot.push(Xt);continue}else ft=K[Gt-1],ct=K[Gt+1];var mt=[0,0];mt=L.c.sub(mt,ct,ft),mt=L.c.scale(mt,mt,_);var ut=L.c.distance(Xt,ft),st=L.c.distance(Xt,ct),lt=ut+st;lt!==0&&(ut/=lt,st/=lt);var Tt=L.c.scale([0,0],mt,-ut),Ot=L.c.scale([0,0],mt,st),et=L.c.add([0,0],Xt,Tt),H=L.c.add([0,0],Xt,Ot);rt&&(et=L.c.max([0,0],et,gt),et=L.c.min([0,0],et,Et),H=L.c.max([0,0],H,gt),H=L.c.min([0,0],H,Et)),ot.push(et),ot.push(H)}return Y&&ot.push(ot.shift()),ot};function U(Q,K,_){for(var Y=!!K,q=[],ot=0,ft=Q.length;ot<ft;ot+=2)q.push([Q[ot],Q[ot+1]]);for(var ct=j(q,.4,Y,_),rt=q.length,gt=[],Et,Gt,Yt,ot=0;ot<rt-1;ot++)Et=ct[ot*2],Gt=ct[ot*2+1],Yt=q[ot+1],gt.push(["C",Et[0],Et[1],Gt[0],Gt[1],Yt[0],Yt[1]]);return Y&&(Et=ct[rt],Gt=ct[rt+1],Yt=q[0],gt.push(["C",Et[0],Et[1],Gt[0],Gt[1],Yt[0],Yt[1]])),gt}function W(Q,K,_){var Y=[],q=Q[0],ot=null;if(Q.length<=2)return g(Q,K);for(var ft=0,ct=Q.length;ft<ct;ft++){var rt=Q[ft];(!ot||!(ot.x===rt.x&&ot.y===rt.y))&&(Y.push(rt.x),Y.push(rt.y),ot=rt)}var gt=_||[[0,0],[1,1]],Et=U(Y,K,gt);return Et.unshift(["M",q.x,q.y]),Et}var z=a("9+FG");function N(Q){if(!Q)return Q;var K=Q.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return K.map(function(_){return _.toLowerCase()}).join("-")}var I=a("Iv2P"),B;function G(){return B||(B=document.createElement("canvas").getContext("2d")),B}var k=Object(x.memoize)(function(Q,K){K===void 0&&(K={});var _=K.fontSize,Y=K.fontFamily,q=Y===void 0?"sans-serif":Y,ot=K.fontWeight,ft=K.fontStyle,ct=K.fontVariant,rt=G();rt.font=[ft,ot,ct,_+"px",q].join(" ");var gt=rt.measureText(Object(x.isString)(Q)?Q:"");return gt.width},function(Q,K){return K===void 0&&(K={}),Object(m.__spreadArrays)([Q],Object(x.values)(K)).join("")}),V=a("m8bt"),tt=a("BpQQ")},nZiY:function(jt,A,a){"use strict";var f="*",o=function(){function x(){this._events={}}return x.prototype.on=function(O,C,P){return this._events[O]||(this._events[O]=[]),this._events[O].push({callback:C,once:!!P}),this},x.prototype.once=function(O,C){return this.on(O,C,!0),this},x.prototype.emit=function(O){for(var C=this,P=[],b=1;b<arguments.length;b++)P[b-1]=arguments[b];var S=this._events[O]||[],y=this._events[f]||[],E=function(T){for(var L=T.length,g=0;g<L;g++)if(!!T[g]){var j=T[g],U=j.callback,W=j.once;W&&(T.splice(g,1),T.length===0&&delete C._events[O],L--,g--),U.apply(C,P)}};E(S),E(y)},x.prototype.off=function(O,C){if(!O)this._events={};else if(!C)delete this._events[O];else{for(var P=this._events[O]||[],b=P.length,S=0;S<b;S++)P[S].callback===C&&(P.splice(S,1),b--,S--);P.length===0&&delete this._events[O]}return this},x.prototype.getEvents=function(){return this._events},x}();A.a=o},naqw:function(jt,A){jt.exports=a;function a(f,o){return f[0]=Math.floor(o[0]),f[1]=Math.floor(o[1]),f}},"nl+T":function(jt,A,a){"use strict";var f=a("CMID"),o=a("U8wd"),x=a("Nqgf"),O=a("K0hn"),C=a("jg4I"),P=a("bsNZ"),b=function(S){Object(f.__extends)(y,S);function y(){return S!==null&&S.apply(this,arguments)||this}return y.prototype.onCanvasChange=function(E){Object(O.h)(this,E)},y.prototype.getShapeBase=function(){return x},y.prototype.getGroupBase=function(){return y},y.prototype._applyClip=function(E,m){m&&(E.save(),Object(O.a)(E,m),m.createPath(E),E.restore(),E.clip(),m._afterDraw())},y.prototype.cacheCanvasBBox=function(){var E=this.cfg.children,m=[],T=[];Object(C.each)(E,function(I){var B=I.cfg.cacheCanvasBBox;B&&I.cfg.isInView&&(m.push(B.minX,B.maxX),T.push(B.minY,B.maxY))});var L=null;if(m.length){var g=Object(C.min)(m),j=Object(C.max)(m),U=Object(C.min)(T),W=Object(C.max)(T);L={minX:g,minY:U,x:g,y:U,maxX:j,maxY:W,width:j-g,height:W-U};var z=this.cfg.canvas;if(z){var N=z.getViewRange();this.set("isInView",Object(P.f)(L,N))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",L)},y.prototype.draw=function(E,m){var T=this.cfg.children,L=m?this.cfg.refresh:!0;T.length&&L&&(E.save(),Object(O.a)(E,this),this._applyClip(E,this.getClip()),Object(O.d)(E,T,m),E.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},y.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},y}(o.AbstractGroup);A.a=b},nrny:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=O,A.detectStrongConnectComponents=A.detectConnectedComponents=void 0;var f=a("Eqze"),o=function(P){for(var b=P.nodes,S=b===void 0?[]:b,y=P.edges,E=y===void 0?[]:y,m=[],T={},L=[],g=function z(N){L.push(N),T[N.id]=!0;for(var I=(0,f.getNeighbors)(N.id,E),B=function(V){var tt=I[V];if(!T[tt]){var Q=S.filter(function(K){return K.id===tt});Q.length>0&&z(Q[0])}},G=0;G<I.length;++G)B(G)},j=0;j<S.length;j++){var U=S[j];if(!T[U.id]){g(U);for(var W=[];L.length>0;)W.push(L.pop());m.push(W)}}return m};A.detectConnectedComponents=o;var x=function(P){for(var b=P.nodes,S=b===void 0?[]:b,y=P.edges,E=y===void 0?[]:y,m=[],T={},L={},g={},j=[],U=0,W=function B(G){L[G.id]=U,g[G.id]=U,U+=1,m.push(G),T[G.id]=!0;for(var k=(0,f.getNeighbors)(G.id,E,"target").filter(function(_){return S.map(function(Y){return Y.id}).indexOf(_)>-1}),V=function(Y){var q=k[Y];if(!L[q]&&L[q]!==0){var ot=S.filter(function(ft){return ft.id===q});ot.length>0&&B(ot[0]),g[G.id]=Math.min(g[G.id],g[q])}else T[q]&&(g[G.id]=Math.min(g[G.id],L[q]))},tt=0;tt<k.length;tt++)V(tt);if(g[G.id]===L[G.id]){for(var Q=[];m.length>0;){var K=m.pop();if(T[K.id]=!1,Q.push(K),K===G)break}Q.length>0&&j.push(Q)}},z=0,N=S;z<N.length;z++){var I=N[z];!L[I.id]&&L[I.id]!==0&&W(I)}return j};A.detectStrongConnectComponents=x;function O(C,P){return P?x(C):o(C)}},nxzP:function(jt,A,a){"use strict";var f=a("CMID"),o=a("qfLv"),x=a("LhfN"),O=a("tSnd"),C=a("jg4I"),P=a("dAAy"),b=a("Hgj1"),S=a("yK/m"),y=a("qh6B"),E=a("T5ir"),m=function(rt){return["fill","stroke","fillStyle","strokeStyle"].includes(rt)},T=function(rt){return/^[r,R,L,l]{1}[\s]*\(/.test(rt)},L=[1,0,0,0,1,0,0,0,1];function g(ct,rt,gt){var Et={},Gt=rt.fromAttrs,Yt=rt.toAttrs;if(!ct.destroyed){var Xt;for(var vt in Yt)if(!Object(C.isEqual)(Gt[vt],Yt[vt]))if(vt==="path"){var mt=Yt[vt],ut=Gt[vt];mt.length>ut.length?(mt=E.parsePathString(Yt[vt]),ut=E.parsePathString(Gt[vt]),ut=E.fillPathByDiff(ut,mt),ut=E.formatPath(ut,mt),rt.fromAttrs.path=ut,rt.toAttrs.path=mt):rt.pathFormatted||(mt=E.parsePathString(Yt[vt]),ut=E.parsePathString(Gt[vt]),ut=E.formatPath(ut,mt),rt.fromAttrs.path=ut,rt.toAttrs.path=mt,rt.pathFormatted=!0),Et[vt]=[];for(var st=0;st<mt.length;st++){for(var lt=mt[st],Tt=ut[st],Ot=[],et=0;et<lt.length;et++)Object(C.isNumber)(lt[et])&&Tt&&Object(C.isNumber)(Tt[et])?(Xt=Object(S.a)(Tt[et],lt[et]),Ot.push(Xt(gt))):Ot.push(lt[et]);Et[vt].push(Ot)}}else if(vt==="matrix"){var H=Object(y.a)(Gt[vt]||L,Yt[vt]||L),pt=H(gt);Et[vt]=pt}else m(vt)&&T(Yt[vt])?Et[vt]=Yt[vt]:Object(C.isFunction)(Yt[vt])||(Xt=Object(S.a)(Gt[vt],Yt[vt]),Et[vt]=Xt(gt));ct.attr(Et)}}function j(ct,rt,gt){var Et=rt.startTime,Gt=rt.delay;if(gt<Et+Gt||rt._paused)return!1;var Yt,Xt=rt.duration,vt=rt.easing;if(gt=gt-Et-rt.delay,rt.repeat)Yt=gt%Xt/Xt,Yt=b[vt](Yt);else if(Yt=gt/Xt,Yt<1)Yt=b[vt](Yt);else return rt.onFrame?ct.attr(rt.onFrame(1)):ct.attr(rt.toAttrs),!0;if(rt.onFrame){var mt=rt.onFrame(Yt);ct.attr(mt)}else g(ct,rt,Yt);return!1}var U=function(){function ct(rt){this.animators=[],this.current=0,this.timer=null,this.canvas=rt}return ct.prototype.initTimer=function(){var rt=this,gt=!1,Et,Gt,Yt;this.timer=P.a(function(Xt){if(rt.current=Xt,rt.animators.length>0){for(var vt=rt.animators.length-1;vt>=0;vt--){if(Et=rt.animators[vt],Et.destroyed){rt.removeAnimator(vt);continue}if(!Et.isAnimatePaused()){Gt=Et.get("animations");for(var mt=Gt.length-1;mt>=0;mt--)Yt=Gt[mt],gt=j(Et,Yt,Xt),gt&&(Gt.splice(mt,1),gt=!1,Yt.callback&&Yt.callback())}Gt.length===0&&rt.removeAnimator(vt)}var ut=rt.canvas.get("autoDraw");ut||rt.canvas.draw()}})},ct.prototype.addAnimator=function(rt){this.animators.push(rt)},ct.prototype.removeAnimator=function(rt){this.animators.splice(rt,1)},ct.prototype.isAnimating=function(){return!!this.animators.length},ct.prototype.stop=function(){this.timer&&this.timer.stop()},ct.prototype.stopAllAnimations=function(rt){rt===void 0&&(rt=!0),this.animators.forEach(function(gt){gt.stopAnimate(rt)}),this.animators=[],this.canvas.draw()},ct.prototype.getTime=function(){return this.current},ct}(),W=U,z=a("LxUj"),N=40,I=0,B=":",G=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function k(ct,rt){for(var gt in ct)if(ct.hasOwnProperty(gt)&&gt.indexOf(B+rt)>=0)return!0;return!1}function V(ct,rt,gt){gt.name=rt,gt.target=ct,gt.currentTarget=ct,gt.delegateTarget=ct,ct.emit(rt,gt)}function tt(ct,rt,gt){if(gt.bubbles){var Et=void 0,Gt=!1;if(rt==="mouseenter"?(Et=gt.fromShape,Gt=!0):rt==="mouseleave"&&(Gt=!0,Et=gt.toShape),ct.isCanvas()&&Gt)return;if(Et&&Object(O.g)(ct,Et)){gt.bubbles=!1;return}gt.name=rt,gt.currentTarget=ct,gt.delegateTarget=ct,ct.emit(rt,gt)}}var Q=function(){function ct(rt){var gt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Et){var Gt=Et.type;gt._triggerEvent(Gt,Et)},this._onDocumentMove=function(Et){var Gt=gt.canvas,Yt=Gt.get("el");if(Yt!==Et.target&&(gt.dragging||gt.currentShape)){var Xt=gt._getPointInfo(Et);gt.dragging&&gt._emitEvent("drag",Et,Xt,gt.draggingShape)}},this._onDocumentMouseUp=function(Et){var Gt=gt.canvas,Yt=Gt.get("el");if(Yt!==Et.target&&gt.dragging){var Xt=gt._getPointInfo(Et);gt.draggingShape&&gt._emitEvent("drop",Et,Xt,null),gt._emitEvent("dragend",Et,Xt,gt.draggingShape),gt._afterDrag(gt.draggingShape,Xt,Et)}},this.canvas=rt.canvas}return ct.prototype.init=function(){this._bindEvents()},ct.prototype._bindEvents=function(){var rt=this,gt=this.canvas.get("el");Object(O.a)(G,function(Et){gt.addEventListener(Et,rt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},ct.prototype._clearEvents=function(){var rt=this,gt=this.canvas.get("el");Object(O.a)(G,function(Et){gt.removeEventListener(Et,rt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},ct.prototype._getEventObj=function(rt,gt,Et,Gt,Yt,Xt){var vt=new z.a(rt,gt);return vt.fromShape=Yt,vt.toShape=Xt,vt.x=Et.x,vt.y=Et.y,vt.clientX=Et.clientX,vt.clientY=Et.clientY,vt.propagationPath.push(Gt),vt},ct.prototype._getShape=function(rt,gt){return this.canvas.getShape(rt.x,rt.y,gt)},ct.prototype._getPointInfo=function(rt){var gt=this.canvas,Et=gt.getClientByEvent(rt),Gt=gt.getPointByEvent(rt);return{x:Gt.x,y:Gt.y,clientX:Et.x,clientY:Et.y}},ct.prototype._triggerEvent=function(rt,gt){var Et=this._getPointInfo(gt),Gt=this._getShape(Et,gt),Yt=this["_on"+rt],Xt=!1;if(Yt)Yt.call(this,Et,Gt,gt);else{var vt=this.currentShape;rt==="mouseenter"||rt==="dragenter"||rt==="mouseover"?(this._emitEvent(rt,gt,Et,null,null,Gt),Gt&&this._emitEvent(rt,gt,Et,Gt,null,Gt),rt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",gt,Et,null)):rt==="mouseleave"||rt==="dragleave"||rt==="mouseout"?(Xt=!0,vt&&this._emitEvent(rt,gt,Et,vt,vt,null),this._emitEvent(rt,gt,Et,null,vt,null),rt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",gt,Et,null)):this._emitEvent(rt,gt,Et,Gt,null,null)}if(Xt||(this.currentShape=Gt),Gt&&!Gt.get("destroyed")){var mt=this.canvas,ut=mt.get("el");ut.style.cursor=Gt.attr("cursor")||mt.get("cursor")}},ct.prototype._onmousedown=function(rt,gt,Et){Et.button===I&&(this.mousedownShape=gt,this.mousedownPoint=rt,this.mousedownTimeStamp=Et.timeStamp),this._emitEvent("mousedown",Et,rt,gt,null,null)},ct.prototype._emitMouseoverEvents=function(rt,gt,Et,Gt){var Yt=this.canvas.get("el");Et!==Gt&&(Et&&(this._emitEvent("mouseout",rt,gt,Et,Et,Gt),this._emitEvent("mouseleave",rt,gt,Et,Et,Gt),(!Gt||Gt.get("destroyed"))&&(Yt.style.cursor=this.canvas.get("cursor"))),Gt&&(this._emitEvent("mouseover",rt,gt,Gt,Et,Gt),this._emitEvent("mouseenter",rt,gt,Gt,Et,Gt)))},ct.prototype._emitDragoverEvents=function(rt,gt,Et,Gt,Yt){Gt?(Gt!==Et&&(Et&&this._emitEvent("dragleave",rt,gt,Et,Et,Gt),this._emitEvent("dragenter",rt,gt,Gt,Et,Gt)),Yt||this._emitEvent("dragover",rt,gt,Gt)):Et&&this._emitEvent("dragleave",rt,gt,Et,Et,Gt),Yt&&this._emitEvent("dragover",rt,gt,Gt)},ct.prototype._afterDrag=function(rt,gt,Et){rt&&(rt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Gt=this._getShape(gt,Et);Gt!==rt&&this._emitMouseoverEvents(Et,gt,rt,Gt),this.currentShape=Gt},ct.prototype._onmouseup=function(rt,gt,Et){if(Et.button===I){var Gt=this.draggingShape;this.dragging?(Gt&&this._emitEvent("drop",Et,rt,gt),this._emitEvent("dragend",Et,rt,Gt),this._afterDrag(Gt,rt,Et)):(this._emitEvent("mouseup",Et,rt,gt),gt===this.mousedownShape&&this._emitEvent("click",Et,rt,gt),this.mousedownShape=null,this.mousedownPoint=null)}},ct.prototype._ondragover=function(rt,gt,Et){Et.preventDefault();var Gt=this.currentShape;this._emitDragoverEvents(Et,rt,Gt,gt,!0)},ct.prototype._onmousemove=function(rt,gt,Et){var Gt=this.canvas,Yt=this.currentShape,Xt=this.draggingShape;if(this.dragging)Xt&&this._emitDragoverEvents(Et,rt,Yt,gt,!1),this._emitEvent("drag",Et,rt,Xt);else{var vt=this.mousedownPoint;if(vt){var mt=this.mousedownShape,ut=Et.timeStamp,st=ut-this.mousedownTimeStamp,lt=vt.clientX-rt.clientX,Tt=vt.clientY-rt.clientY,Ot=lt*lt+Tt*Tt;st>120||Ot>N?mt&&mt.get("draggable")?(Xt=this.mousedownShape,Xt.set("capture",!1),this.draggingShape=Xt,this.dragging=!0,this._emitEvent("dragstart",Et,rt,Xt),this.mousedownShape=null,this.mousedownPoint=null):!mt&&Gt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Et,rt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Et,rt,Yt,gt),this._emitEvent("mousemove",Et,rt,gt)):(this._emitMouseoverEvents(Et,rt,Yt,gt),this._emitEvent("mousemove",Et,rt,gt))}else this._emitMouseoverEvents(Et,rt,Yt,gt),this._emitEvent("mousemove",Et,rt,gt)}},ct.prototype._emitEvent=function(rt,gt,Et,Gt,Yt,Xt){var vt=this._getEventObj(rt,gt,Et,Gt,Yt,Xt);if(Gt){vt.shape=Gt,V(Gt,rt,vt);for(var mt=Gt.getParent();mt;)mt.emitDelegation(rt,vt),vt.propagationStopped||tt(mt,rt,vt),vt.propagationPath.push(mt),mt=mt.getParent()}else{var ut=this.canvas;V(ut,rt,vt)}},ct.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},ct}(),K=Q,_="px",Y=Object(o.a)(),q=Y&&Y.name==="firefox",ot=function(ct){Object(f.__extends)(rt,ct);function rt(gt){var Et=ct.call(this,gt)||this;return Et.initContainer(),Et.initDom(),Et.initEvents(),Et.initTimeline(),Et}return rt.prototype.getDefaultCfg=function(){var gt=ct.prototype.getDefaultCfg.call(this);return gt.cursor="default",gt.supportCSSTransform=!1,gt},rt.prototype.initContainer=function(){var gt=this.get("container");Object(O.h)(gt)&&(gt=document.getElementById(gt),this.set("container",gt))},rt.prototype.initDom=function(){var gt=this.createDom();this.set("el",gt);var Et=this.get("container");Et.appendChild(gt),this.setDOMSize(this.get("width"),this.get("height"))},rt.prototype.initEvents=function(){var gt=new K({canvas:this});gt.init(),this.set("eventController",gt)},rt.prototype.initTimeline=function(){var gt=new W(this);this.set("timeline",gt)},rt.prototype.setDOMSize=function(gt,Et){var Gt=this.get("el");O.c&&(Gt.style.width=gt+_,Gt.style.height=Et+_)},rt.prototype.changeSize=function(gt,Et){this.setDOMSize(gt,Et),this.set("width",gt),this.set("height",Et),this.onCanvasChange("changeSize")},rt.prototype.getRenderer=function(){return this.get("renderer")},rt.prototype.getCursor=function(){return this.get("cursor")},rt.prototype.setCursor=function(gt){this.set("cursor",gt);var Et=this.get("el");O.c&&Et&&(Et.style.cursor=gt)},rt.prototype.getPointByEvent=function(gt){var Et=this.get("supportCSSTransform");if(Et){if(q&&!Object(O.e)(gt.layerX)&&gt.layerX!==gt.offsetX)return{x:gt.layerX,y:gt.layerY};if(!Object(O.e)(gt.offsetX))return{x:gt.offsetX,y:gt.offsetY}}var Gt=this.getClientByEvent(gt),Yt=Gt.x,Xt=Gt.y;return this.getPointByClient(Yt,Xt)},rt.prototype.getClientByEvent=function(gt){var Et=gt;return gt.touches&&(gt.type==="touchend"?Et=gt.changedTouches[0]:Et=gt.touches[0]),{x:Et.clientX,y:Et.clientY}},rt.prototype.getPointByClient=function(gt,Et){var Gt=this.get("el"),Yt=Gt.getBoundingClientRect();return{x:gt-Yt.left,y:Et-Yt.top}},rt.prototype.getClientByPoint=function(gt,Et){var Gt=this.get("el"),Yt=Gt.getBoundingClientRect();return{x:gt+Yt.left,y:Et+Yt.top}},rt.prototype.draw=function(){},rt.prototype.removeDom=function(){var gt=this.get("el");gt.parentNode.removeChild(gt)},rt.prototype.clearEvents=function(){var gt=this.get("eventController");gt.destroy()},rt.prototype.isCanvas=function(){return!0},rt.prototype.getParent=function(){return null},rt.prototype.destroy=function(){var gt=this.get("timeline");this.get("destroyed")||(this.clear(),gt&&gt.stop(),this.clearEvents(),this.removeDom(),ct.prototype.destroy.call(this))},rt}(x.a),ft=A.a=ot},o5Uy:function(jt,A,a){"use strict";a.d(A,"b",function(){return x}),a.d(A,"a",function(){return O});var f=a("jg4I"),o="Invalid field: it must be a string!";function x(C,P){var b=C.field,S=C.fields;if(Object(f.isString)(b))return b;if(Object(f.isArray)(b))return console.warn(o),b[0];if(console.warn(o+" will try to get fields instead."),Object(f.isString)(S))return S;if(Object(f.isArray)(S)&&S.length)return S[0];if(P)return P;throw new TypeError(o)}function O(C){var P=[];return C&&C.each?C.each(function(b){P.push(b)}):C&&C.eachNode&&C.eachNode(function(b){P.push(b)}),P}},oFJY:function(jt,A,a){"use strict";a.d(A,"b",function(){return o}),a.d(A,"c",function(){return x}),a.d(A,"a",function(){return O});var f=a("SCaY");function o(C,P){var b=C.cfg.el,S=C.attr(),y={dx:S.shadowOffsetX,dy:S.shadowOffsetY,blur:S.shadowBlur,color:S.shadowColor};if(!y.dx&&!y.dy&&!y.blur&&!y.color)b.removeAttribute("filter");else{var E=P.find("filter",y);E||(E=P.addShadow(y)),b.setAttribute("filter","url(#"+E+")")}}function x(C){var P=C.attr().matrix;if(P){for(var b=C.cfg.el,S=[],y=0;y<9;y+=3)S.push(P[y]+","+P[y+1]);S=S.join(","),S.indexOf("NaN")===-1?b.setAttribute("transform","matrix("+S+")"):console.warn("invalid matrix:",P)}}function O(C,P){var b=C.getClip(),S=C.get("el");if(!b)S.removeAttribute("clip-path");else if(b&&!S.hasAttribute("clip-path")){Object(f.a)(b),b.createPath(P);var y=P.addClip(b);S.setAttribute("clip-path","url(#"+y+")")}}},oOaK:function(jt,A,a){var f=a("HxLA");function o(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),O&&f(x,O)}jt.exports=o,jt.exports.default=jt.exports,jt.exports.__esModule=!0},oS5r:function(jt,A,a){"use strict";var f=a("tuqv"),o=a("Od3v"),x=a("gPRb"),O=a("aOLp");A.a=function(){var C=o.a,P=!1,b=1,S=1,y=[0],E=O.a,m=O.a,T=O.a,L=O.a,g=O.a;function j(W){return W.x0=W.y0=0,W.x1=b,W.y1=S,W.eachBefore(U),y=[0],P&&W.eachBefore(f.a),W}function U(W){var z=y[W.depth],N=W.x0+z,I=W.y0+z,B=W.x1-z,G=W.y1-z;B<N&&(N=B=(N+B)/2),G<I&&(I=G=(I+G)/2),W.x0=N,W.y0=I,W.x1=B,W.y1=G,W.children&&(z=y[W.depth+1]=E(W)/2,N+=g(W)-z,I+=m(W)-z,B-=T(W)-z,G-=L(W)-z,B<N&&(N=B=(N+B)/2),G<I&&(I=G=(I+G)/2),C(W,N,I,B,G))}return j.round=function(W){return arguments.length?(P=!!W,j):P},j.size=function(W){return arguments.length?(b=+W[0],S=+W[1],j):[b,S]},j.tile=function(W){return arguments.length?(C=Object(x.b)(W),j):C},j.padding=function(W){return arguments.length?j.paddingInner(W).paddingOuter(W):j.paddingInner()},j.paddingInner=function(W){return arguments.length?(E=typeof W=="function"?W:Object(O.b)(+W),j):E},j.paddingOuter=function(W){return arguments.length?j.paddingTop(W).paddingRight(W).paddingBottom(W).paddingLeft(W):j.paddingTop()},j.paddingTop=function(W){return arguments.length?(m=typeof W=="function"?W:Object(O.b)(+W),j):m},j.paddingRight=function(W){return arguments.length?(T=typeof W=="function"?W:Object(O.b)(+W),j):T},j.paddingBottom=function(W){return arguments.length?(L=typeof W=="function"?W:Object(O.b)(+W),j):L},j.paddingLeft=function(W){return arguments.length?(g=typeof W=="function"?W:Object(O.b)(+W),j):g},j}},of5Y:function(jt,A,a){"use strict";var f=a("XSdR"),o=a("kr+H"),x=a("9xKD").slack,O=a("9xKD").longestPath,C=a("43gi").alg.preorder,P=a("43gi").alg.postorder,b=a("hppO").simplify;jt.exports=S,S.initLowLimValues=T,S.initCutValues=y,S.calcCutValue=m,S.leaveEdge=g,S.enterEdge=j,S.exchangeEdges=U;function S(I){I=b(I),O(I);var B=o(I);T(B),y(B,I);for(var G,k;G=g(B);)k=j(B,I,G),U(B,I,G,k)}function y(I,B){var G=P(I,I.nodes());G=G.slice(0,G.length-1),f.forEach(G,function(k){E(I,B,k)})}function E(I,B,G){var k=I.node(G),V=k.parent;I.edge(G,V).cutvalue=m(I,B,G)}function m(I,B,G){var k=I.node(G),V=k.parent,tt=!0,Q=B.edge(G,V),K=0;return Q||(tt=!1,Q=B.edge(V,G)),K=Q.weight,f.forEach(B.nodeEdges(G),function(_){var Y=_.v===G,q=Y?_.w:_.v;if(q!==V){var ot=Y===tt,ft=B.edge(_).weight;if(K+=ot?ft:-ft,z(I,G,q)){var ct=I.edge(G,q).cutvalue;K+=ot?-ct:ct}}}),K}function T(I,B){arguments.length<2&&(B=I.nodes()[0]),L(I,{},1,B)}function L(I,B,G,k,V){var tt=G,Q=I.node(k);return B[k]=!0,f.forEach(I.neighbors(k),function(K){f.has(B,K)||(G=L(I,B,G,K,k))}),Q.low=tt,Q.lim=G++,V?Q.parent=V:delete Q.parent,G}function g(I){return f.find(I.edges(),function(B){return I.edge(B).cutvalue<0})}function j(I,B,G){var k=G.v,V=G.w;B.hasEdge(k,V)||(k=G.w,V=G.v);var tt=I.node(k),Q=I.node(V),K=tt,_=!1;tt.lim>Q.lim&&(K=Q,_=!0);var Y=f.filter(B.edges(),function(q){return _===N(I,I.node(q.v),K)&&_!==N(I,I.node(q.w),K)});return f.minBy(Y,function(q){return x(B,q)})}function U(I,B,G,k){var V=G.v,tt=G.w;I.removeEdge(V,tt),I.setEdge(k.v,k.w,{}),T(I),y(I,B),W(I,B)}function W(I,B){var G=f.find(I.nodes(),function(V){return!B.node(V).parent}),k=C(I,G);k=k.slice(1),f.forEach(k,function(V){var tt=I.node(V).parent,Q=B.edge(V,tt),K=!1;Q||(Q=B.edge(tt,V),K=!0),B.node(V).rank=B.node(tt).rank+(K?Q.minlen:-Q.minlen)})}function z(I,B,G){return I.hasEdge(B,G)}function N(I,B,G){return G.low<=B.lim&&B.lim<=G.lim}},om1O:function(jt,A,a){"use strict";a.d(A,"b",function(){return T}),a.d(A,"a",function(){return g});var f=a("CMID"),o=a("jg4I"),x=a("N2cT"),O=a("8DqP"),C=a("VI+R"),P=a("nHjW"),b=a("iAmF"),S=a("fVaJ");function y(j){var U=j.chart,W=j.options,z=W.percent,N=W.range,I=W.radius,B=W.innerRadius,G=W.startAngle,k=W.endAngle,V=W.axis,tt=W.indicator,Q=W.gaugeStyle,K=N.color,_=N.width;if(tt){var Y=Object(S.a)(z),q=U.createView({id:b.c});q.data(Y),q.point().position(b.e+"*1").shape("gauge-indicator").customInfo({defaultColor:U.getTheme().defaultColor,indicator:tt}),q.coordinate("polar",{startAngle:G,endAngle:k,radius:B*I}),q.axis(b.e,V),q.scale(b.e,Object(P.r)(V,C.a))}var ot=Object(S.b)(z,W.range),ft=U.createView({id:b.h});ft.data(ot);var ct=Object(o.isString)(K)?[K,b.a]:K;return Object(O.c)({chart:ft,options:{xField:"1",yField:b.g,seriesField:b.f,rawFields:[b.e],isStack:!0,interval:{color:ct,style:Q},args:{zIndexReversed:!0},minColumnWidth:_,maxColumnWidth:_}}),ft.coordinate("polar",{innerRadius:B,radius:I,startAngle:G,endAngle:k}).transpose(),j}function E(j){var U,W=j.chart,z=j.options,N=z.type,I=z.meter;if(N==="meter"){var B=z.innerRadius,G=z.radius,k=z.startAngle,V=z.endAngle,tt=z.range,Q=tt==null?void 0:tt.width,K=tt==null?void 0:tt.width,_=W.getTheme().background,Y=_;(!Y||Y==="transparent")&&(Y="#fff");var q=W.createView({id:b.d});q.data([(U={},U[b.f]="1",U[b.g]=1,U)]);var ot={meter:I};q.interval({minColumnWidth:Q,maxColumnWidth:K}).position("1*"+b.g).color(Y).adjust("stack").shape("meter-gauge").customInfo(ot),q.coordinate("polar",{innerRadius:B,radius:G,startAngle:k,endAngle:V}).transpose()}return j}function m(j){var U;return Object(P.f)(Object(x.f)((U={range:{min:0,max:1,maxLimit:1,minLimit:0}},U[b.e]={},U)))(j)}function T(j,U){var W=j.chart,z=j.options,N=z.statistic,I=z.percent;if(W.getController("annotation").clear(!0),N){var B=N.content,G=void 0;B&&(G=Object(P.c)({},{content:(I*100).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},B)),Object(P.t)(W,{statistic:Object(f.__assign)(Object(f.__assign)({},N),{content:G})},{percent:I})}return U&&W.render(!0),j}function L(j){var U=j.chart;return U.legend(!1),U.tooltip(!1),j}function g(j){return Object(P.f)(x.j,x.a,y,m,T,x.c,E,Object(x.b)(),L)(j)}},oobg:function(jt,A){jt.exports=a;function a(f){var o=f[0],x=f[1];return Math.sqrt(o*o+x*x)}},"oq+b":function(jt,A,a){"use strict";a.d(A,"a",function(){return P});var f=a("16OP"),o=a.n(f),x=a("7Nom"),O=a.n(x),C=a("99LQ"),P=function(){function b(S,y){o()(this,b),this.center=void 0,this.halfExtents=void 0,this.min=C.e.create(),this.max=C.e.create(),this.update(S,y)}return O()(b,[{key:"update",value:function(y,E){this.center=y||C.e.create(),this.halfExtents=E||C.e.fromValues(.5,.5,.5),this.min=C.e.sub(this.min,this.center,this.halfExtents),this.max=C.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(y,E){C.e.add(this.center,E,y),C.e.scale(this.center,this.center,.5),C.e.sub(this.halfExtents,E,y),C.e.scale(this.halfExtents,this.halfExtents,.5),C.e.copy(this.min,y),C.e.copy(this.max,E)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(y){var E=this.center,m=E[0],T=E[1],L=E[2],g=this.halfExtents,j=g[0],U=g[1],W=g[2],z=m-j,N=m+j,I=T-U,B=T+U,G=L-W,k=L+W,V=y.center,tt=V[0],Q=V[1],K=V[2],_=y.halfExtents,Y=_[0],q=_[1],ot=_[2],ft=tt-Y,ct=tt+Y,rt=Q-q,gt=Q+q,Et=K-ot,Gt=K+ot;ft<z&&(z=ft),ct>N&&(N=ct),rt<I&&(I=rt),gt>B&&(B=gt),Et<G&&(G=Et),Gt>k&&(k=Gt),E[0]=(z+N)*.5,E[1]=(I+B)*.5,E[2]=(G+k)*.5,g[0]=(N-z)*.5,g[1]=(B-I)*.5,g[2]=(k-G)*.5,this.min[0]=z,this.min[1]=I,this.min[2]=G,this.max[0]=N,this.max[1]=B,this.max[2]=k}},{key:"intersects",value:function(y){var E=this.getMax(),m=this.getMin(),T=y.getMax(),L=y.getMin();return m[0]<=T[0]&&E[0]>=L[0]&&m[1]<=T[1]&&E[1]>=L[1]&&m[2]<=T[2]&&E[2]>=L[2]}},{key:"containsPoint",value:function(y){var E=this.getMin(),m=this.getMax();return!(y[0]<E[0]||y[0]>m[0]||y[1]<E[1]||y[1]>m[1]||y[2]<E[2]||y[2]>m[2])}},{key:"getNegativeFarPoint",value:function(y){return y.pnVertexFlag===273?C.e.copy(C.e.create(),this.min):y.pnVertexFlag===272?C.e.fromValues(this.min[0],this.min[1],this.max[2]):y.pnVertexFlag===257?C.e.fromValues(this.min[0],this.max[1],this.min[2]):y.pnVertexFlag===256?C.e.fromValues(this.min[0],this.max[1],this.max[2]):y.pnVertexFlag===17?C.e.fromValues(this.max[0],this.min[1],this.min[2]):y.pnVertexFlag===16?C.e.fromValues(this.max[0],this.min[1],this.max[2]):y.pnVertexFlag===1?C.e.fromValues(this.max[0],this.max[1],this.min[2]):C.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(y){return y.pnVertexFlag===273?C.e.copy(C.e.create(),this.max):y.pnVertexFlag===272?C.e.fromValues(this.max[0],this.max[1],this.min[2]):y.pnVertexFlag===257?C.e.fromValues(this.max[0],this.min[1],this.max[2]):y.pnVertexFlag===256?C.e.fromValues(this.max[0],this.min[1],this.min[2]):y.pnVertexFlag===17?C.e.fromValues(this.min[0],this.max[1],this.max[2]):y.pnVertexFlag===16?C.e.fromValues(this.min[0],this.max[1],this.min[2]):y.pnVertexFlag===1?C.e.fromValues(this.min[0],this.min[1],this.max[2]):C.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),b}()},ozhX:function(jt,A,a){"use strict";a.r(A),a.d(A,"Base",function(){return E}),a.d(A,"Circle",function(){return L}),a.d(A,"Dom",function(){return j}),a.d(A,"Ellipse",function(){return W}),a.d(A,"Image",function(){return N}),a.d(A,"Line",function(){return G}),a.d(A,"Marker",function(){return Q}),a.d(A,"Path",function(){return _}),a.d(A,"Polygon",function(){return q}),a.d(A,"Polyline",function(){return ft}),a.d(A,"Rect",function(){return Yt}),a.d(A,"Text",function(){return Tt});var f={};a.r(f),a.d(f,"Base",function(){return E}),a.d(f,"Circle",function(){return L}),a.d(f,"Dom",function(){return j}),a.d(f,"Ellipse",function(){return W}),a.d(f,"Image",function(){return N}),a.d(f,"Line",function(){return G}),a.d(f,"Marker",function(){return Q}),a.d(f,"Path",function(){return _}),a.d(f,"Polygon",function(){return q}),a.d(f,"Polyline",function(){return ft}),a.d(f,"Rect",function(){return Yt}),a.d(f,"Text",function(){return Tt});var o=a("CMID"),x=a("U8wd"),O=a("oFJY"),C=a("SCaY"),P=a("BSge"),b=a("0xlF"),S=a("CyRS"),y=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="svg",H.canFill=!1,H.canStroke=!1,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},et.prototype.afterAttrsChange=function(H){Ot.prototype.afterAttrsChange.call(this,H);var pt=this.get("canvas");if(pt&&pt.get("autoDraw")){var nt=pt.get("context");this.draw(nt,H)}},et.prototype.getShapeBase=function(){return f},et.prototype.getGroupBase=function(){return S.a},et.prototype.onCanvasChange=function(H){Object(P.b)(this,H)},et.prototype.calculateBBox=function(){var H=this.get("el"),pt=null;if(H)pt=H.getBBox();else{var nt=Object(x.getBBoxMethod)(this.get("type"));nt&&(pt=nt(this))}if(pt){var yt=pt.x,Pt=pt.y,Rt=pt.width,Wt=pt.height,Vt=this.getHitLineWidth(),Lt=Vt/2,Ct=yt-Lt,at=Pt-Lt,It=yt+Rt+Lt,Ft=Pt+Wt+Lt;return{x:Ct,y:at,minX:Ct,minY:at,maxX:It,maxY:Ft,width:Rt+Vt,height:Wt+Vt}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},et.prototype.isFill=function(){var H=this.attr(),pt=H.fill,nt=H.fillStyle;return(pt||nt||this.isClipShape())&&this.canFill},et.prototype.isStroke=function(){var H=this.attr(),pt=H.stroke,nt=H.strokeStyle;return(pt||nt)&&this.canStroke},et.prototype.draw=function(H,pt){var nt=this.get("el");this.get("destroyed")?nt&&nt.parentNode.removeChild(nt):(nt||Object(C.a)(this),Object(O.a)(this,H),this.createPath(H,pt),this.shadow(H,pt),this.strokeAndFill(H,pt),this.transform(pt))},et.prototype.createPath=function(H,pt){},et.prototype.strokeAndFill=function(H,pt){var nt=pt||this.attr(),yt=nt.fill,Pt=nt.fillStyle,Rt=nt.stroke,Wt=nt.strokeStyle,Vt=nt.fillOpacity,Lt=nt.strokeOpacity,Ct=nt.lineWidth,at=this.get("el");this.canFill&&(pt?"fill"in nt?this._setColor(H,"fill",yt):"fillStyle"in nt&&this._setColor(H,"fill",Pt):this._setColor(H,"fill",yt||Pt),Vt&&at.setAttribute(b.b.fillOpacity,Vt)),this.canStroke&&Ct>0&&(pt?"stroke"in nt?this._setColor(H,"stroke",Rt):"strokeStyle"in nt&&this._setColor(H,"stroke",Wt):this._setColor(H,"stroke",Rt||Wt),Lt&&at.setAttribute(b.b.strokeOpacity,Lt),Ct&&at.setAttribute(b.b.lineWidth,Ct))},et.prototype._setColor=function(H,pt,nt){var yt=this.get("el");if(!nt){yt.setAttribute(b.b[pt],"none");return}if(nt=nt.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(nt)){var Pt=H.find("gradient",nt);Pt||(Pt=H.addGradient(nt)),yt.setAttribute(b.b[pt],"url(#"+Pt+")")}else if(/^[p,P]{1}[\s]*\(/.test(nt)){var Pt=H.find("pattern",nt);Pt||(Pt=H.addPattern(nt)),yt.setAttribute(b.b[pt],"url(#"+Pt+")")}else yt.setAttribute(b.b[pt],nt)},et.prototype.shadow=function(H,pt){var nt=this.attr(),yt=pt||nt,Pt=yt.shadowOffsetX,Rt=yt.shadowOffsetY,Wt=yt.shadowBlur,Vt=yt.shadowColor;(Pt||Rt||Wt||Vt)&&Object(O.b)(this,H)},et.prototype.transform=function(H){var pt=this.attr(),nt=(H||pt).matrix;nt&&Object(O.c)(this)},et.prototype.isInShape=function(H,pt){return this.isPointInPath(H,pt)},et.prototype.isPointInPath=function(H,pt){var nt=this.get("el"),yt=this.get("canvas"),Pt=yt.get("el").getBoundingClientRect(),Rt=H+Pt.left,Wt=pt+Pt.top,Vt=document.elementFromPoint(Rt,Wt);return!!(Vt&&Vt.isEqualNode(nt))},et.prototype.getHitLineWidth=function(){var H=this.attrs,pt=H.lineWidth,nt=H.lineAppendWidth;return this.isStroke()?pt+nt:0},et}(x.AbstractShape),E=y,m=a("jg4I"),T=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="circle",H.canFill=!0,H.canStroke=!0,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{x:0,y:0,r:0})},et.prototype.createPath=function(H,pt){var nt=this.attr(),yt=this.get("el");Object(m.each)(pt||nt,function(Pt,Rt){Rt==="x"||Rt==="y"?yt.setAttribute("c"+Rt,Pt):b.b[Rt]&&yt.setAttribute(b.b[Rt],Pt)})},et}(E),L=T,g=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="dom",H.canFill=!1,H.canStroke=!1,H}return et.prototype.createPath=function(H,pt){var nt=this.attr(),yt=this.get("el");if(Object(m.each)(pt||nt,function(Vt,Lt){b.b[Lt]&&yt.setAttribute(b.b[Lt],Vt)}),typeof nt.html=="function"){var Pt=nt.html.call(this,nt);if(Pt instanceof Element||Pt instanceof HTMLDocument){for(var Rt=yt.childNodes,Wt=Rt.length-1;Wt>=0;Wt--)yt.removeChild(Rt[Wt]);yt.appendChild(Pt)}else yt.innerHTML=Pt}else yt.innerHTML=nt.html},et}(E),j=g,U=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="ellipse",H.canFill=!0,H.canStroke=!0,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{x:0,y:0,rx:0,ry:0})},et.prototype.createPath=function(H,pt){var nt=this.attr(),yt=this.get("el");Object(m.each)(pt||nt,function(Pt,Rt){Rt==="x"||Rt==="y"?yt.setAttribute("c"+Rt,Pt):b.b[Rt]&&yt.setAttribute(b.b[Rt],Pt)})},et}(E),W=U,z=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="image",H.canFill=!1,H.canStroke=!1,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{x:0,y:0,width:0,height:0})},et.prototype.createPath=function(H,pt){var nt=this,yt=this.attr(),Pt=this.get("el");Object(m.each)(pt||yt,function(Rt,Wt){Wt==="img"?nt._setImage(yt.img):b.b[Wt]&&Pt.setAttribute(b.b[Wt],Rt)})},et.prototype.setAttr=function(H,pt){this.attrs[H]=pt,H==="img"&&this._setImage(pt)},et.prototype._setImage=function(H){var pt=this.attr(),nt=this.get("el");if(Object(m.isString)(H))nt.setAttribute("href",H);else if(H instanceof window.Image)pt.width||(nt.setAttribute("width",H.width),this.attr("width",H.width)),pt.height||(nt.setAttribute("height",H.height),this.attr("height",H.height)),nt.setAttribute("href",H.src);else if(H instanceof HTMLElement&&Object(m.isString)(H.nodeName)&&H.nodeName.toUpperCase()==="CANVAS")nt.setAttribute("href",H.toDataURL());else if(H instanceof ImageData){var yt=document.createElement("canvas");yt.setAttribute("width",""+H.width),yt.setAttribute("height",""+H.height),yt.getContext("2d").putImageData(H,0,0),pt.width||(nt.setAttribute("width",""+H.width),this.attr("width",H.width)),pt.height||(nt.setAttribute("height",""+H.height),this.attr("height",H.height)),nt.setAttribute("href",yt.toDataURL())}},et}(E),N=z,I=a("9pBU"),B=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="line",H.canFill=!1,H.canStroke=!0,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},et.prototype.createPath=function(H,pt){var nt=this.attr(),yt=this.get("el");Object(m.each)(pt||nt,function(Pt,Rt){if(Rt==="startArrow"||Rt==="endArrow")if(Pt){var Wt=Object(m.isObject)(Pt)?H.addArrow(nt,b.b[Rt]):H.getDefaultArrow(nt,b.b[Rt]);yt.setAttribute(b.b[Rt],"url(#"+Wt+")")}else yt.removeAttribute(b.b[Rt]);else b.b[Rt]&&yt.setAttribute(b.b[Rt],Pt)})},et.prototype.getTotalLength=function(){var H=this.attr(),pt=H.x1,nt=H.y1,yt=H.x2,Pt=H.y2;return I.c.length(pt,nt,yt,Pt)},et.prototype.getPoint=function(H){var pt=this.attr(),nt=pt.x1,yt=pt.y1,Pt=pt.x2,Rt=pt.y2;return I.c.pointAt(nt,yt,Pt,Rt,H)},et}(E),G=B,k={circle:function(et,H,pt){return[["M",et,H],["m",-pt,0],["a",pt,pt,0,1,0,pt*2,0],["a",pt,pt,0,1,0,-pt*2,0]]},square:function(et,H,pt){return[["M",et-pt,H-pt],["L",et+pt,H-pt],["L",et+pt,H+pt],["L",et-pt,H+pt],["Z"]]},diamond:function(et,H,pt){return[["M",et-pt,H],["L",et,H-pt],["L",et+pt,H],["L",et,H+pt],["Z"]]},triangle:function(et,H,pt){var nt=pt*Math.sin(1/3*Math.PI);return[["M",et-pt,H+nt],["L",et,H-nt],["L",et+pt,H+nt],["z"]]},triangleDown:function(et,H,pt){var nt=pt*Math.sin(1/3*Math.PI);return[["M",et-pt,H-nt],["L",et+pt,H-nt],["L",et,H+nt],["Z"]]}},V={get:function(et){return k[et]},register:function(et,H){k[et]=H},remove:function(et){delete k[et]},getAll:function(){return k}},tt=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="marker",H.canFill=!0,H.canStroke=!0,H}return et.prototype.createPath=function(H){var pt=this.get("el");pt.setAttribute("d",this._assembleMarker())},et.prototype._assembleMarker=function(){var H=this._getPath();return Object(m.isArray)(H)?H.map(function(pt){return pt.join(" ")}).join(""):H},et.prototype._getPath=function(){var H=this.attr(),pt=H.x,nt=H.y,yt=H.r||H.radius,Pt=H.symbol||"circle",Rt;return Object(m.isFunction)(Pt)?Rt=Pt:Rt=V.get(Pt),Rt?Rt(pt,nt,yt):(console.warn(Rt+" symbol is not exist."),null)},et.symbolsFactory=V,et}(E),Q=tt,K=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="path",H.canFill=!0,H.canStroke=!0,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{startArrow:!1,endArrow:!1})},et.prototype.createPath=function(H,pt){var nt=this,yt=this.attr(),Pt=this.get("el");Object(m.each)(pt||yt,function(Rt,Wt){if(Wt==="path"&&Object(m.isArray)(Rt))Pt.setAttribute("d",nt._formatPath(Rt));else if(Wt==="startArrow"||Wt==="endArrow")if(Rt){var Vt=Object(m.isObject)(Rt)?H.addArrow(yt,b.b[Wt]):H.getDefaultArrow(yt,b.b[Wt]);Pt.setAttribute(b.b[Wt],"url(#"+Vt+")")}else Pt.removeAttribute(b.b[Wt]);else b.b[Wt]&&Pt.setAttribute(b.b[Wt],Rt)})},et.prototype._formatPath=function(H){var pt=H.map(function(nt){return nt.join(" ")}).join("");return~pt.indexOf("NaN")?"":pt},et.prototype.getTotalLength=function(){var H=this.get("el");return H?H.getTotalLength():null},et.prototype.getPoint=function(H){var pt=this.get("el"),nt=this.getTotalLength();if(nt===0)return null;var yt=pt?pt.getPointAtLength(H*nt):null;return yt?{x:yt.x,y:yt.y}:null},et}(E),_=K,Y=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="polygon",H.canFill=!0,H.canStroke=!0,H}return et.prototype.createPath=function(H,pt){var nt=this.attr(),yt=this.get("el");Object(m.each)(pt||nt,function(Pt,Rt){Rt==="points"&&Object(m.isArray)(Pt)&&Pt.length>=2?yt.setAttribute("points",Pt.map(function(Wt){return Wt[0]+","+Wt[1]}).join(" ")):b.b[Rt]&&yt.setAttribute(b.b[Rt],Pt)})},et}(E),q=Y,ot=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="polyline",H.canFill=!0,H.canStroke=!0,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{startArrow:!1,endArrow:!1})},et.prototype.onAttrChange=function(H,pt,nt){Ot.prototype.onAttrChange.call(this,H,pt,nt),["points"].indexOf(H)!==-1&&this._resetCache()},et.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},et.prototype.createPath=function(H,pt){var nt=this.attr(),yt=this.get("el");Object(m.each)(pt||nt,function(Pt,Rt){Rt==="points"&&Object(m.isArray)(Pt)&&Pt.length>=2?yt.setAttribute("points",Pt.map(function(Wt){return Wt[0]+","+Wt[1]}).join(" ")):b.b[Rt]&&yt.setAttribute(b.b[Rt],Pt)})},et.prototype.getTotalLength=function(){var H=this.attr().points,pt=this.get("totalLength");return Object(m.isNil)(pt)?(this.set("totalLength",I.d.length(H)),this.get("totalLength")):pt},et.prototype.getPoint=function(H){var pt=this.attr().points,nt=this.get("tCache");nt||(this._setTcache(),nt=this.get("tCache"));var yt,Pt;return Object(m.each)(nt,function(Rt,Wt){H>=Rt[0]&&H<=Rt[1]&&(yt=(H-Rt[0])/(Rt[1]-Rt[0]),Pt=Wt)}),I.c.pointAt(pt[Pt][0],pt[Pt][1],pt[Pt+1][0],pt[Pt+1][1],yt)},et.prototype._setTcache=function(){var H=this.attr().points;if(!(!H||H.length===0)){var pt=this.getTotalLength();if(!(pt<=0)){var nt=0,yt=[],Pt,Rt;Object(m.each)(H,function(Wt,Vt){H[Vt+1]&&(Pt=[],Pt[0]=nt/pt,Rt=I.c.length(Wt[0],Wt[1],H[Vt+1][0],H[Vt+1][1]),nt+=Rt,Pt[1]=nt/pt,yt.push(Pt))}),this.set("tCache",yt)}}},et.prototype.getStartTangent=function(){var H=this.attr().points,pt=[];return pt.push([H[1][0],H[1][1]]),pt.push([H[0][0],H[0][1]]),pt},et.prototype.getEndTangent=function(){var H=this.attr().points,pt=H.length-1,nt=[];return nt.push([H[pt-1][0],H[pt-1][1]]),nt.push([H[pt][0],H[pt][1]]),nt},et}(E),ft=ot,ct=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,rt=/[^\s,]+/gi;function gt(Ot){var et=0,H=0,pt=0,nt=0;return Object(m.isArray)(Ot)?Ot.length===1?et=H=pt=nt=Ot[0]:Ot.length===2?(et=pt=Ot[0],H=nt=Ot[1]):Ot.length===3?(et=Ot[0],H=nt=Ot[1],pt=Ot[2]):(et=Ot[0],H=Ot[1],pt=Ot[2],nt=Ot[3]):et=H=pt=nt=Ot,{r1:et,r2:H,r3:pt,r4:nt}}function Et(Ot){if(Ot=Ot||[],Object(m.isArray)(Ot))return Ot;if(Object(m.isString)(Ot))return Ot=Ot.match(ct),Object(m.each)(Ot,function(et,H){if(et=et.match(rt),et[0].length>1){var pt=et[0].charAt(0);et.splice(1,0,et[0].substr(1)),et[0]=pt}Object(m.each)(et,function(nt,yt){isNaN(nt)||(et[yt]=+nt)}),Ot[H]=et}),Ot}var Gt=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="rect",H.canFill=!0,H.canStroke=!0,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{x:0,y:0,width:0,height:0,radius:0})},et.prototype.createPath=function(H,pt){var nt=this,yt=this.attr(),Pt=this.get("el"),Rt=!1,Wt=["x","y","width","height","radius"];Object(m.each)(pt||yt,function(Vt,Lt){Wt.indexOf(Lt)!==-1&&!Rt?(Pt.setAttribute("d",nt._assembleRect(yt)),Rt=!0):Wt.indexOf(Lt)===-1&&b.b[Lt]&&Pt.setAttribute(b.b[Lt],Vt)})},et.prototype._assembleRect=function(H){var pt=H.x,nt=H.y,yt=H.width,Pt=H.height,Rt=H.radius;if(!Rt)return"M "+pt+","+nt+" l "+yt+",0 l 0,"+Pt+" l"+-yt+" 0 z";var Wt=gt(Rt);Object(m.isArray)(Rt)?Rt.length===1?Wt.r1=Wt.r2=Wt.r3=Wt.r4=Rt[0]:Rt.length===2?(Wt.r1=Wt.r3=Rt[0],Wt.r2=Wt.r4=Rt[1]):Rt.length===3?(Wt.r1=Rt[0],Wt.r2=Wt.r4=Rt[1],Wt.r3=Rt[2]):(Wt.r1=Rt[0],Wt.r2=Rt[1],Wt.r3=Rt[2],Wt.r4=Rt[3]):Wt.r1=Wt.r2=Wt.r3=Wt.r4=Rt;var Vt=[["M "+(pt+Wt.r1)+","+nt],["l "+(yt-Wt.r1-Wt.r2)+",0"],["a "+Wt.r2+","+Wt.r2+",0,0,1,"+Wt.r2+","+Wt.r2],["l 0,"+(Pt-Wt.r2-Wt.r3)],["a "+Wt.r3+","+Wt.r3+",0,0,1,"+-Wt.r3+","+Wt.r3],["l "+(Wt.r3+Wt.r4-yt)+",0"],["a "+Wt.r4+","+Wt.r4+",0,0,1,"+-Wt.r4+","+-Wt.r4],["l 0,"+(Wt.r4+Wt.r1-Pt)],["a "+Wt.r1+","+Wt.r1+",0,0,1,"+Wt.r1+","+-Wt.r1],["z"]];return Vt.join(" ")},et}(E),Yt=Gt,Xt=a("qfLv"),vt=.3,mt={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},ut={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},st={left:"left",start:"left",center:"middle",right:"end",end:"end"},lt=function(Ot){Object(o.__extends)(et,Ot);function et(){var H=Ot!==null&&Ot.apply(this,arguments)||this;return H.type="text",H.canFill=!0,H.canStroke=!0,H}return et.prototype.getDefaultAttrs=function(){var H=Ot.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},H),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},et.prototype.createPath=function(H,pt){var nt=this,yt=this.attr(),Pt=this.get("el");this._setFont(),Object(m.each)(pt||yt,function(Rt,Wt){Wt==="text"?nt._setText(""+Rt):Wt==="matrix"&&Rt?Object(O.c)(nt):b.b[Wt]&&Pt.setAttribute(b.b[Wt],Rt)}),Pt.setAttribute("paint-order","stroke"),Pt.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},et.prototype._setFont=function(){var H=this.get("el"),pt=this.attr(),nt=pt.textBaseline,yt=pt.textAlign,Pt=Object(Xt.a)();Pt&&Pt.name==="firefox"?H.setAttribute("dominant-baseline",ut[nt]||"alphabetic"):H.setAttribute("alignment-baseline",mt[nt]||"baseline"),H.setAttribute("text-anchor",st[yt]||"left")},et.prototype._setText=function(H){var pt=this.get("el"),nt=this.attr(),yt=nt.x,Pt=nt.textBaseline,Rt=Pt===void 0?"bottom":Pt;if(!H)pt.innerHTML="";else if(~H.indexOf(`
`)){var Wt=H.split(`
`),Vt=Wt.length-1,Lt="";Object(m.each)(Wt,function(Ct,at){at===0?Rt==="alphabetic"?Lt+='<tspan x="'+yt+'" dy="'+-Vt+'em">'+Ct+"</tspan>":Rt==="top"?Lt+='<tspan x="'+yt+'" dy="0.9em">'+Ct+"</tspan>":Rt==="middle"?Lt+='<tspan x="'+yt+'" dy="'+-(Vt-1)/2+'em">'+Ct+"</tspan>":Rt==="bottom"?Lt+='<tspan x="'+yt+'" dy="-'+(Vt+vt)+'em">'+Ct+"</tspan>":Rt==="hanging"&&(Lt+='<tspan x="'+yt+'" dy="'+(-(Vt-1)-vt)+'em">'+Ct+"</tspan>"):Lt+='<tspan x="'+yt+'" dy="1em">'+Ct+"</tspan>"}),pt.innerHTML=Lt}else pt.innerHTML=H},et}(E),Tt=lt},"p/Nb":function(jt,A,a){"use strict";var f=a("XSdR"),o=a("hppO"),x=a("FeKW").positionX;jt.exports=O;function O(P){P=o.asNonCompoundGraph(P),C(P),f.forEach(x(P),function(b,S){P.node(S).x=b})}function C(P){var b=o.buildLayerMatrix(P),S=P.graph().ranksep,y=0;f.forEach(b,function(E){var m=f.max(f.map(E,function(T){return P.node(T).height}));f.forEach(E,function(T){P.node(T).y=y+m/2}),y+=m+S})}},p3uk:function(jt,A,a){"use strict";var f=a("lEEW"),o=a.n(f),x=a("giuo"),O=a.n(x),C=a("vnNs"),P=a.n(C),b=a("aosO"),S=a.n(b),y=a("IetX"),E=a.n(y),m=a("XFzX"),T=a.n(m),L=a("BQrE"),g=a.n(L),j=a("FJgl"),U=a.n(j),W=a("m2Ot"),z=a.n(W)},pHwo:function(jt,A){jt.exports=1e-6},pUwi:function(jt,A,a){jt.exports=a("PdHs")},"qM/j":function(jt,A,a){"use strict";a.d(A,"a",function(){return Xt});var f=a("CMID"),o=a("jg4I"),x=a("tqeG"),O=a("nHjW"),C=a("N2cT"),P=a("vHs8"),b=a("kkS8"),S;(function(vt){vt.Left="Left",vt.Right="Right"})(S||(S={}));var y;(function(vt){vt.Line="line",vt.Column="column"})(y||(y={}));var E="left-axes-view",m="right-axes-view",T={nice:!0,label:{autoHide:!0,autoRotate:!1}},L=Object(f.__assign)(Object(f.__assign)({},T),{position:"left"}),g=Object(f.__assign)(Object(f.__assign)({},T),{position:"right",grid:null});function j(vt){return Object(o.get)(vt,"geometry")===y.Line}function U(vt){return Object(o.get)(vt,"geometry")===y.Column}function W(vt,mt,ut){return U(ut)?Object(O.c)({},{geometry:y.Column,label:ut.label&&ut.isRange?{content:function(lt){var Tt;return(Tt=lt[mt])===null||Tt===void 0?void 0:Tt.join("-")}}:void 0},ut):Object(f.__assign)({geometry:y.Line},ut)}function z(vt,mt){var ut=vt[0],st=vt[1];if(Object(o.isArray)(mt)){var lt=mt[0],Tt=mt[1];return[lt,Tt]}var Ot=Object(o.get)(mt,ut),et=Object(o.get)(mt,st);return[Ot,et]}function N(vt,mt){return mt===S.Left?vt===!1?!1:Object(O.c)({},L,vt):mt===S.Right?vt===!1?!1:Object(O.c)({},g,vt):vt}var I=a("JUmX");function B(vt){var mt=vt.view,ut=vt.geometryOption,st=vt.yField,lt=vt.legend,Tt=Object(o.get)(lt,"marker"),Ot=Object(O.d)(mt,j(ut)?"line":"interval");if(!ut.seriesField){var et=Ot.getAttribute("color"),H=et.values[0],pt=Tt||(j(ut)?{symbol:function(Pt,Rt,Wt){return[["M",Pt-Wt,Rt],["L",Pt+Wt,Rt]]},style:{lineWidth:2,r:6,stroke:H}}:{symbol:"square",style:{fill:H}});return[{value:st,name:Object(o.get)(mt,"options.scales."+st+".alias")||st,marker:pt,isGeometry:!0,viewId:mt.id}]}var nt=Ot.getGroupAttributes();return Object(o.reduce)(nt,function(yt,Pt){var Rt=I.Util.getLegendItems(mt,Ot,Pt,mt.getTheme(),Tt);return yt.concat(Rt)},[])}var G=a("8DqP");function k(vt){var mt=vt.options,ut=vt.chart,st=mt.geometryOption,lt=st.isStack,Tt=st.color,Ot=st.seriesField,et=st.groupField,H=st.isGroup,pt=["xField","yField"];if(j(st)){Object(G.d)(Object(O.c)({},vt,{options:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},Object(O.r)(mt,pt)),st),{line:{color:st.color,style:st.lineStyle}})})),Object(G.e)(Object(O.c)({},vt,{options:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},Object(O.r)(mt,pt)),st),{point:st.point&&Object(f.__assign)({color:Tt,shape:"circle"},st.point)})}));var nt=[];H&&nt.push({type:"dodge",dodgeBy:et||Ot,customOffset:0}),lt&&nt.push({type:"stack"}),nt.length&&Object(o.each)(ut.geometries,function(yt){yt.adjust(nt)})}return U(st)&&Object(G.c)(Object(O.c)({},vt,{options:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},Object(O.r)(mt,pt)),st),{widthRatio:st.columnWidthRatio,interval:Object(f.__assign)(Object(f.__assign)({},Object(O.r)(st,["color"])),{style:st.columnStyle})})})),vt}var V=function(mt,ut){var st=ut[0],lt=ut[1],Tt=mt.getOptions().data,Ot=mt.getXScale(),et=Object(o.size)(Tt);if(!(!Ot||!et)){var H=!0,pt=Object(o.valuesOfKey)(Tt,Ot.field),nt=H?pt:pt.reverse(),yt=Object(o.size)(nt),Pt=Math.floor(st*(yt-1)),Rt=Math.floor(lt*(yt-1));mt.filter(Ot.field,function(Wt){var Vt=nt.indexOf(Wt);return Vt>-1?Object(O.m)(Vt,Pt,Rt):!0}),mt.render(!0)}};function tt(vt){var mt,ut=vt.options,st=ut.geometryOptions,lt=st===void 0?[]:st,Tt=ut.xField,Ot=ut.yField,et=Object(o.every)(lt,function(H){var pt=H.geometry;return pt===y.Line||pt===void 0});return Object(O.c)({},{options:{geometryOptions:[],meta:(mt={},mt[Tt]={type:"cat",sync:!0,range:et?[0,1]:void 0},mt),tooltip:{showMarkers:et,showCrosshairs:et,shared:!0,crosshairs:{type:"x"}},interactions:et?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},vt,{options:{yAxis:z(Ot,ut.yAxis),geometryOptions:[W(Tt,Ot[0],lt[0]),W(Tt,Ot[1],lt[1])],annotations:z(Ot,ut.annotations)}})}function Q(vt){var mt=vt.chart,ut=vt.options,st=ut.xField,lt=ut.yField,Tt=ut.geometryOptions,Ot=ut.data,et=ut.tooltip,H={line:0,column:1},pt=[Object(f.__assign)(Object(f.__assign)({},Tt[0]),{id:E,data:Ot[0],yField:lt[0]}),Object(f.__assign)(Object(f.__assign)({},Tt[1]),{id:m,data:Ot[1],yField:lt[1]})];return pt.sort(function(nt,yt){return-H[nt.geometry]+H[yt.geometry]}).forEach(function(nt){var yt=nt.id,Pt=nt.data,Rt=nt.yField,Wt=U(nt)&&nt.isPercent,Vt=Wt?Object(P.b)(Pt,Rt,st,Rt):Pt,Lt=mt.createView({id:yt}).data(Vt),Ct=Wt?Object(f.__assign)({formatter:function(It){return{name:It[nt.seriesField]||Rt,value:(Number(It[Rt])*100).toFixed(2)+"%"}}},et):et;k({chart:Lt,options:{xField:st,yField:Rt,tooltip:Ct,geometryOption:nt}})}),vt}function K(vt){var mt,ut=vt.chart,st=vt.options,lt=st.geometryOptions,Tt=((mt=ut.getTheme())===null||mt===void 0?void 0:mt.colors10)||[],Ot=0;return ut.once("beforepaint",function(){Object(o.each)(lt,function(et,H){var pt=Object(b.a)(ut,H===0?E:m);if(!et.color){var nt=pt.getGroupScales(),yt=Object(o.get)(nt,[0,"values","length"],1),Pt=Tt.slice(Ot,Ot+yt).concat(H===0?[]:Tt);pt.geometries.forEach(function(Rt){et.seriesField?Rt.color(et.seriesField,Pt):Rt.color(Pt[0])}),Ot+=yt}}),ut.render(!0)}),vt}function _(vt){var mt,ut,st=vt.chart,lt=vt.options,Tt=lt.xAxis,Ot=lt.yAxis,et=lt.xField,H=lt.yField;return Object(C.f)((mt={},mt[et]=Tt,mt[H[0]]=Ot[0],mt))(Object(O.c)({},vt,{chart:Object(b.a)(st,E)})),Object(C.f)((ut={},ut[et]=Tt,ut[H[1]]=Ot[1],ut))(Object(O.c)({},vt,{chart:Object(b.a)(st,m)})),vt}function Y(vt){var mt=vt.chart,ut=vt.options,st=Object(b.a)(mt,E),lt=Object(b.a)(mt,m),Tt=ut.xField,Ot=ut.yField,et=ut.xAxis,H=ut.yAxis;return mt.axis(Tt,!1),mt.axis(Ot[0],!1),mt.axis(Ot[1],!1),st.axis(Tt,et),st.axis(Ot[0],N(H[0],S.Left)),lt.axis(Tt,!1),lt.axis(Ot[1],N(H[1],S.Right)),vt}function q(vt){var mt=vt.chart,ut=vt.options,st=ut.tooltip,lt=Object(b.a)(mt,E),Tt=Object(b.a)(mt,m);return mt.tooltip(st),lt.tooltip({shared:!0}),Tt.tooltip({shared:!0}),vt}function ot(vt){var mt=vt.chart;return Object(C.c)(Object(O.c)({},vt,{chart:Object(b.a)(mt,E)})),Object(C.c)(Object(O.c)({},vt,{chart:Object(b.a)(mt,m)})),vt}function ft(vt){var mt=vt.chart,ut=vt.options,st=ut.annotations,lt=Object(o.get)(st,[0]),Tt=Object(o.get)(st,[1]);return Object(C.b)(lt)(Object(O.c)({},vt,{chart:Object(b.a)(mt,E),options:{annotations:lt}})),Object(C.b)(Tt)(Object(O.c)({},vt,{chart:Object(b.a)(mt,m),options:{annotations:Tt}})),vt}function ct(vt){var mt=vt.chart;return Object(C.j)(Object(O.c)({},vt,{chart:Object(b.a)(mt,E)})),Object(C.j)(Object(O.c)({},vt,{chart:Object(b.a)(mt,m)})),Object(C.j)(vt),vt}function rt(vt){var mt=vt.chart;return Object(C.a)(Object(O.c)({},vt,{chart:Object(b.a)(mt,E)})),Object(C.a)(Object(O.c)({},vt,{chart:Object(b.a)(mt,m)})),vt}function gt(vt){var mt=vt.chart,ut=vt.options,st=ut.yAxis;return Object(C.e)(Object(O.c)({},vt,{chart:Object(b.a)(mt,E),options:{yAxis:st[0]}})),Object(C.e)(Object(O.c)({},vt,{chart:Object(b.a)(mt,m),options:{yAxis:st[1]}})),vt}function Et(vt){var mt=vt.chart,ut=vt.options,st=ut.legend,lt=ut.geometryOptions,Tt=ut.yField,Ot=ut.data,et=Object(b.a)(mt,E),H=Object(b.a)(mt,m);return st===!1?mt.legend(!1):Object(o.isObject)(st)&&st.custom===!0?mt.legend(st):(mt.once("beforepaint",function(){var pt=Ot[0].length?B({view:et,geometryOption:lt[0],yField:Tt[0],legend:st}):[],nt=Ot[1].length?B({view:H,geometryOption:lt[1],yField:Tt[1],legend:st}):[];mt.legend(Object(O.c)({},st,{custom:!0,items:pt.concat(nt)}))}),mt.on("legend-item:click",function(pt){var nt=Object(o.get)(pt,"gEvent.delegateObject",{});if(nt&&nt.item){var yt=nt.item,Pt=yt.value,Rt=yt.isGeometry,Wt=yt.viewId;if(Rt){var Vt=Object(o.findIndex)(Tt,function(at){return at===Pt});if(Vt>-1){var Lt=Object(o.get)(Object(b.a)(mt,Wt),"geometries");Object(o.each)(Lt,function(at){at.changeVisible(!nt.item.unchecked)})}}else{var Ct=Object(o.get)(mt.getController("legend"),"option.items",[]);Object(o.each)(mt.views,function(at){var It=at.getGroupScales();Object(o.each)(It,function(Ft){Ft.values&&Ft.values.indexOf(Pt)>-1&&at.filter(Ft.field,function(xt){var Nt=Object(o.find)(Ct,function(Ht){return Ht.value===xt});return!Nt.unchecked})}),mt.render(!0)})}}})),vt}function Gt(vt){var mt=vt.chart,ut=vt.options,st=ut.slider,lt=Object(b.a)(mt,E),Tt=Object(b.a)(mt,m);return st&&(lt.option("slider",st),lt.on("slider:valuechanged",function(Ot){var et=Ot.event,H=et.value,pt=et.originValue;Object(o.isEqual)(H,pt)||V(Tt,H)}),mt.once("afterpaint",function(){if(!Object(o.isBoolean)(st)){var Ot=st.start,et=st.end;(Ot||et)&&V(Tt,[Ot,et])}})),vt}function Yt(vt){return Object(O.f)(tt,Q,_,Y,gt,q,ot,ft,ct,rt,K,Et,Gt)(vt)}var Xt=function(vt){Object(f.__extends)(mt,vt);function mt(){var ut=vt!==null&&vt.apply(this,arguments)||this;return ut.type="dual-axes",ut}return mt.prototype.getDefaultOptions=function(){return Object(O.c)({},vt.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},mt.prototype.getSchemaAdaptor=function(){return Yt},mt.prototype.setState=function(ut,st,lt){lt===void 0&&(lt=!0);var Tt=Object(O.h)(this.chart);Object(o.each)(Tt,function(Ot){st(Ot.getData())&&Ot.setState(ut,lt)})},mt.prototype.getStates=function(){var ut=Object(O.h)(this.chart),st=[];return Object(o.each)(ut,function(lt){var Tt=lt.getData(),Ot=lt.getStates();Object(o.each)(Ot,function(et){st.push({data:Tt,state:et,geometry:lt.geometry,element:lt})})}),st},mt}(x.b)},qRoJ:function(jt,A,a){"use strict";var f=a("ytXd"),o=a("VMwZ"),x=[].slice,O=["keyword","gray","hex"],C={};Object.keys(o).forEach(function(g){C[x.call(o[g].labels).sort().join("")]=g});var P={};function b(g,j){if(!(this instanceof b))return new b(g,j);if(j&&j in O&&(j=null),j&&!(j in o))throw new Error("Unknown model: "+j);var U,W;if(g==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(g instanceof b)this.model=g.model,this.color=g.color.slice(),this.valpha=g.valpha;else if(typeof g=="string"){var z=f.get(g);if(z===null)throw new Error("Unable to parse color from string: "+g);this.model=z.model,W=o[this.model].channels,this.color=z.value.slice(0,W),this.valpha=typeof z.value[W]=="number"?z.value[W]:1}else if(g.length){this.model=j||"rgb",W=o[this.model].channels;var N=x.call(g,0,W);this.color=L(N,W),this.valpha=typeof g[W]=="number"?g[W]:1}else if(typeof g=="number")g&=16777215,this.model="rgb",this.color=[g>>16&255,g>>8&255,g&255],this.valpha=1;else{this.valpha=1;var I=Object.keys(g);"alpha"in g&&(I.splice(I.indexOf("alpha"),1),this.valpha=typeof g.alpha=="number"?g.alpha:0);var B=I.sort().join("");if(!(B in C))throw new Error("Unable to parse color from object: "+JSON.stringify(g));this.model=C[B];var G=o[this.model].labels,k=[];for(U=0;U<G.length;U++)k.push(g[G[U]]);this.color=L(k)}if(P[this.model])for(W=o[this.model].channels,U=0;U<W;U++){var V=P[this.model][U];V&&(this.color[U]=V(this.color[U]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}b.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(j){var U=this.model in f.to?this:this.rgb();U=U.round(typeof j=="number"?j:1);var W=U.valpha===1?U.color:U.color.concat(this.valpha);return f.to[U.model](W)},percentString:function(j){var U=this.rgb().round(typeof j=="number"?j:1),W=U.valpha===1?U.color:U.color.concat(this.valpha);return f.to.rgb.percent(W)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var j={},U=o[this.model].channels,W=o[this.model].labels,z=0;z<U;z++)j[W[z]]=this.color[z];return this.valpha!==1&&(j.alpha=this.valpha),j},unitArray:function(){var j=this.rgb().color;return j[0]/=255,j[1]/=255,j[2]/=255,this.valpha!==1&&j.push(this.valpha),j},unitObject:function(){var j=this.rgb().object();return j.r/=255,j.g/=255,j.b/=255,this.valpha!==1&&(j.alpha=this.valpha),j},round:function(j){return j=Math.max(j||0,0),new b(this.color.map(y(j)).concat(this.valpha),this.model)},alpha:function(j){return arguments.length?new b(this.color.concat(Math.max(0,Math.min(1,j))),this.model):this.valpha},red:E("rgb",0,m(255)),green:E("rgb",1,m(255)),blue:E("rgb",2,m(255)),hue:E(["hsl","hsv","hsl","hwb","hcg"],0,function(g){return(g%360+360)%360}),saturationl:E("hsl",1,m(100)),lightness:E("hsl",2,m(100)),saturationv:E("hsv",1,m(100)),value:E("hsv",2,m(100)),chroma:E("hcg",1,m(100)),gray:E("hcg",2,m(100)),white:E("hwb",1,m(100)),wblack:E("hwb",2,m(100)),cyan:E("cmyk",0,m(100)),magenta:E("cmyk",1,m(100)),yellow:E("cmyk",2,m(100)),black:E("cmyk",3,m(100)),x:E("xyz",0,m(100)),y:E("xyz",1,m(100)),z:E("xyz",2,m(100)),l:E("lab",0,m(100)),a:E("lab",1),b:E("lab",2),keyword:function(j){return arguments.length?new b(j):o[this.model].keyword(this.color)},hex:function(j){return arguments.length?new b(j):f.to.hex(this.rgb().round().color)},rgbNumber:function(){var j=this.rgb().color;return(j[0]&255)<<16|(j[1]&255)<<8|j[2]&255},luminosity:function(){for(var j=this.rgb().color,U=[],W=0;W<j.length;W++){var z=j[W]/255;U[W]=z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4)}return .2126*U[0]+.7152*U[1]+.0722*U[2]},contrast:function(j){var U=this.luminosity(),W=j.luminosity();return U>W?(U+.05)/(W+.05):(W+.05)/(U+.05)},level:function(j){var U=this.contrast(j);return U>=7.1?"AAA":U>=4.5?"AA":""},isDark:function(){var j=this.rgb().color,U=(j[0]*299+j[1]*587+j[2]*114)/1e3;return U<128},isLight:function(){return!this.isDark()},negate:function(){for(var j=this.rgb(),U=0;U<3;U++)j.color[U]=255-j.color[U];return j},lighten:function(j){var U=this.hsl();return U.color[2]+=U.color[2]*j,U},darken:function(j){var U=this.hsl();return U.color[2]-=U.color[2]*j,U},saturate:function(j){var U=this.hsl();return U.color[1]+=U.color[1]*j,U},desaturate:function(j){var U=this.hsl();return U.color[1]-=U.color[1]*j,U},whiten:function(j){var U=this.hwb();return U.color[1]+=U.color[1]*j,U},blacken:function(j){var U=this.hwb();return U.color[2]+=U.color[2]*j,U},grayscale:function(){var j=this.rgb().color,U=j[0]*.3+j[1]*.59+j[2]*.11;return b.rgb(U,U,U)},fade:function(j){return this.alpha(this.valpha-this.valpha*j)},opaquer:function(j){return this.alpha(this.valpha+this.valpha*j)},rotate:function(j){var U=this.hsl(),W=U.color[0];return W=(W+j)%360,W=W<0?360+W:W,U.color[0]=W,U},mix:function(j,U){if(!j||!j.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof j);var W=j.rgb(),z=this.rgb(),N=U===void 0?.5:U,I=2*N-1,B=W.alpha()-z.alpha(),G=((I*B==-1?I:(I+B)/(1+I*B))+1)/2,k=1-G;return b.rgb(G*W.red()+k*z.red(),G*W.green()+k*z.green(),G*W.blue()+k*z.blue(),W.alpha()*N+z.alpha()*(1-N))}},Object.keys(o).forEach(function(g){if(O.indexOf(g)===-1){var j=o[g].channels;b.prototype[g]=function(){if(this.model===g)return new b(this);if(arguments.length)return new b(arguments,g);var U=typeof arguments[j]=="number"?j:this.valpha;return new b(T(o[this.model][g].raw(this.color)).concat(U),g)},b[g]=function(U){return typeof U=="number"&&(U=L(x.call(arguments),j)),new b(U,g)}}});function S(g,j){return Number(g.toFixed(j))}function y(g){return function(j){return S(j,g)}}function E(g,j,U){return g=Array.isArray(g)?g:[g],g.forEach(function(W){(P[W]||(P[W]=[]))[j]=U}),g=g[0],function(W){var z;return arguments.length?(U&&(W=U(W)),z=this[g](),z.color[j]=W,z):(z=this[g]().color[j],U&&(z=U(z)),z)}}function m(g){return function(j){return Math.max(0,Math.min(g,j))}}function T(g){return Array.isArray(g)?g:[g]}function L(g,j){for(var U=0;U<j;U++)typeof g[U]!="number"&&(g[U]=0);return g}jt.exports=b},qSJf:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.id=void 0;var f=0;function o(){return f++}A.id=o},qTrL:function(jt,A){var a=800,f=16,o=Date.now;function x(O){var C=0,P=0;return function(){var b=o(),S=f-(b-P);if(P=b,S>0){if(++C>=a)return arguments[0]}else C=0;return O.apply(void 0,arguments)}}jt.exports=x},qTvU:function(jt,A,a){var f=a("2PUN");function o(x){var O=x==null?0:x.length;return O?f(x,1):[]}jt.exports=o},qXgj:function(jt,A,a){var f=a("IZ4i"),o=a("qTrL"),x=o(f);jt.exports=x},qaCK:function(jt,A){function a(o,x,O,C,P,b,S){try{var y=o[b](S),E=y.value}catch(m){O(m);return}y.done?x(E):Promise.resolve(E).then(C,P)}function f(o){return function(){var x=this,O=arguments;return new Promise(function(C,P){var b=o.apply(x,O);function S(E){a(b,C,P,S,y,"next",E)}function y(E){a(b,C,P,S,y,"throw",E)}S(void 0)})}}jt.exports=f,jt.exports.default=jt.exports,jt.exports.__esModule=!0},qccO:function(jt,A,a){var f=a("qhWv"),o=1/0,x=17976931348623157e292;function O(C){if(!C)return C===0?C:0;if(C=f(C),C===o||C===-o){var P=C<0?-1:1;return P*x}return C===C?C:0}jt.exports=O},qfLv:function(jt,A,a){"use strict";(function(f){a.d(A,"a",function(){return L});var o=function(){for(var I=0,B=0,G=arguments.length;B<G;B++)I+=arguments[B].length;for(var k=Array(I),V=0,B=0;B<G;B++)for(var tt=arguments[B],Q=0,K=tt.length;Q<K;Q++,V++)k[V]=tt[Q];return k},x=function(){function I(B,G,k){this.name=B,this.version=G,this.os=k,this.type="browser"}return I}(),O=function(){function I(B){this.version=B,this.type="node",this.name="node",this.os=f.platform}return I}(),C=function(){function I(B,G,k,V){this.name=B,this.version=G,this.os=k,this.bot=V,this.type="bot-device"}return I}(),P=function(){function I(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return I}(),b=function(){function I(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return I}(),S=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,y=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,E=3,m=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",S]],T=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function L(I){return I?U(I):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new b:typeof navigator!="undefined"?U(navigator.userAgent):z()}function g(I){return I!==""&&m.reduce(function(B,G){var k=G[0],V=G[1];if(B)return B;var tt=V.exec(I);return!!tt&&[k,tt]},!1)}function j(I){var B=g(I);return B?B[0]:null}function U(I){var B=g(I);if(!B)return null;var G=B[0],k=B[1];if(G==="searchbot")return new P;var V=k[1]&&k[1].split(/[._]/).slice(0,3);V?V.length<E&&(V=o(V,N(E-V.length))):V=[];var tt=V.join("."),Q=W(I),K=y.exec(I);return K&&K[1]?new C(G,tt,Q,K[1]):new x(G,tt,Q)}function W(I){for(var B=0,G=T.length;B<G;B++){var k=T[B],V=k[0],tt=k[1],Q=tt.exec(I);if(Q)return V}return null}function z(){var I=typeof f!="undefined"&&f.version;return I?new O(f.version.slice(1)):null}function N(I){for(var B=[],G=0;G<I;G++)B.push("0");return B}}).call(this,a("7vYp"))},qh6B:function(jt,A,a){"use strict";a.d(A,"b",function(){return x});var f=a("yK/m"),o=a("H6vk");A.a=function(O,C){return(Object(o.b)(C)?o.a:x)(O,C)};function x(O,C){var P=C?C.length:0,b=O?Math.min(P,O.length):0,S=new Array(b),y=new Array(P),E;for(E=0;E<b;++E)S[E]=Object(f.a)(O[E],C[E]);for(;E<P;++E)y[E]=C[E];return function(m){for(E=0;E<b;++E)y[E]=S[E](m);return y}}},qhN0:function(jt,A,a){"use strict";A.a={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},qi70:function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=a("xXxO");function o(x,O,C){var P=new f.Event(O,C);P.target=x,P.propagationPath.push(x),x.emitDelegation(O,P);for(var b=x.getParent();b;)b.emitDelegation(O,P),P.propagationPath.push(b),b=b.getParent()}},"ql+n":function(jt,A,a){var f;try{f={clone:a("WlgG"),constant:a("vqXp"),each:a("8hqx"),filter:a("NFwm"),has:a("v/6M"),isArray:a("+Gi7"),isEmpty:a("x+i1"),isFunction:a("wmqP"),isUndefined:a("4tFv"),keys:a("KmIr"),map:a("N7LH"),reduce:a("5+Yv"),size:a("cGgO"),transform:a("3f1o"),union:a("VmDj"),values:a("jHy/")}}catch(o){}f||(f=window._),jt.exports=f},qo2e:function(jt,A,a){"use strict";a.d(A,"d",function(){return S}),a.d(A,"b",function(){return y}),a.d(A,"c",function(){return E}),a.d(A,"a",function(){return L});var f=a("CMID"),o=a("jg4I"),x=a("N2cT"),O=a("nHjW"),C=a("8DqP"),P=a("BpQQ");function b(g){var j=g.chart,U=g.options,W=U.data,z=U.color,N=U.lineStyle,I=U.lineShape,B=U.point,G=U.seriesField,k=B==null?void 0:B.state;j.data(W);var V=Object(O.c)({},g,{options:{shapeField:G,line:{color:z,style:N,shape:I},point:B&&Object(f.__assign)({color:z,shape:"circle"},B),label:void 0}}),tt=Object(O.c)({},V,{options:{tooltip:!1,state:k}});return Object(C.d)(V),Object(C.e)(tt),g}function S(g){var j,U,W=g.options,z=W.xAxis,N=W.yAxis,I=W.xField,B=W.yField,G=W.data;return Object(O.f)(Object(x.f)((j={},j[I]=z,j[B]=N,j),(U={},U[I]={type:"cat"},U[B]=Object(P.a)(G,B),U)))(g)}function y(g){var j=g.chart,U=g.options,W=U.xAxis,z=U.yAxis,N=U.xField,I=U.yField;return W===!1?j.axis(N,!1):j.axis(N,W),z===!1?j.axis(I,!1):j.axis(I,z),g}function E(g){var j=g.chart,U=g.options,W=U.legend,z=U.seriesField;return W&&z?j.legend(z,W):W===!1&&j.legend(!1),g}function m(g){var j=g.chart,U=g.options,W=U.label,z=U.yField,N=Object(O.d)(j,"line");if(!W)N.label(!1);else{var I=W.callback,B=Object(f.__rest)(W,["callback"]);N.label({fields:[z],callback:I,cfg:Object(f.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(O.w)(B))})}return g}function T(g){var j=g.chart,U=g.options,W=U.isStack;return W&&Object(o.each)(j.geometries,function(z){z.adjust("stack")}),g}function L(g){return Object(O.f)(b,S,T,x.j,y,E,x.k,m,x.h,x.c,x.a,Object(x.b)(),x.e)(g)}},qvXp:function(jt,A,a){var f=a("E9DR");jt.exports=o;function o(x,O){return f(x,O,"post")}},qwYJ:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Request=void 0;var f=a("qSJf"),o=function(){function x(O,C,P,b,S){this.id=f.id(),this.serviceIdentifier=O,this.parentContext=C,this.parentRequest=P,this.target=S,this.childRequests=[],this.bindings=Array.isArray(b)?b:[b],this.requestScope=P===null?new Map:null}return x.prototype.addChildRequest=function(O,C,P){var b=new x(O,this.parentContext,this,C,P);return this.childRequests.push(b),b},x}();A.Request=o},"r/Jg":function(jt,A){jt.exports=a;function a(f,o){return f[0]=o[0],f[1]=o[1],f}},r1m7:function(jt,A){function a(f,o){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}jt.exports=a,jt.exports.default=jt.exports,jt.exports.__esModule=!0},r93A:function(jt,A,a){"use strict";a.d(A,"a",function(){return o});var f=null;function o(){if(!f){var x=document.createElement("canvas");x.width=1,x.height=1,f=x.getContext("2d")}return f}},rBQE:function(jt,A){jt.exports=a;function a(f,o){var x=o[0]-f[0],O=o[1]-f[1];return Math.sqrt(x*x+O*O)}},rJDL:function(jt,A,a){var f=a("XSdR"),o=a("L9IJ"),x=a("devy"),O=a("yWrq");jt.exports=C;function C(S,y,E,m){var T=S.children(y),L=S.node(y),g=L?L.borderLeft:void 0,j=L?L.borderRight:void 0,U={};g&&(T=f.filter(T,function(G){return G!==g&&G!==j}));var W=o(S,T);f.forEach(W,function(G){if(S.children(G.v).length){var k=C(S,G.v,E,m);U[G.v]=k,f.has(k,"barycenter")&&b(G,k)}});var z=x(W,E);P(z,U);var N=O(z,m);if(g&&(N.vs=f.flatten([g,N.vs,j],!0),S.predecessors(g).length)){var I=S.node(S.predecessors(g)[0]),B=S.node(S.predecessors(j)[0]);f.has(N,"barycenter")||(N.barycenter=0,N.weight=0),N.barycenter=(N.barycenter*N.weight+I.order+B.order)/(N.weight+2),N.weight+=2}return N}function P(S,y){f.forEach(S,function(E){E.vs=f.flatten(E.vs.map(function(m){return y[m]?y[m].vs:m}),!0)})}function b(S,y){f.isUndefined(S.barycenter)?(S.barycenter=y.barycenter,S.weight=y.weight):(S.barycenter=(S.barycenter*S.weight+y.barycenter*y.weight)/(S.weight+y.weight),S.weight+=y.weight)}},rMkn:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Metadata=void 0;var f=a("9L8m"),o=function(){function x(O,C){this.key=O,this.value=C}return x.prototype.toString=function(){return this.key===f.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},x}();A.Metadata=o},radC:function(jt,A,a){"use strict";a.r(A),a.d(A,"Line",function(){return E}),a.d(A,"Circle",function(){return T}),a.d(A,"Base",function(){return S}),a.d(A,"Html",function(){return B});var f=a("CMID"),o=a("8Loy"),x=a("jg4I"),O=a("VZin"),C=a("x3DA"),P=a("qhN0"),b=function(G){Object(f.__extends)(k,G);function k(){return G!==null&&G.apply(this,arguments)||this}return k.prototype.getDefaultCfg=function(){var V=G.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},V),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:P.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:P.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:P.a.fontFamily}},textBackground:{padding:5,style:{stroke:P.a.lineColor}}}})},k.prototype.renderInner=function(V){this.get("line")&&this.renderLine(V),this.get("text")&&(this.renderText(V),this.renderBackground(V))},k.prototype.renderText=function(V){var tt=this.get("text"),Q=tt.style,K=tt.autoRotate,_=tt.content;if(!Object(x.isNil)(_)){var Y=this.getTextPoint(),q=null;if(K){var ot=this.getRotateAngle();q=Object(C.e)(Y,ot)}this.addShape(V,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},Y),{text:_,matrix:q}),Q)})}},k.prototype.renderLine=function(V){var tt=this.getLinePath(),Q=this.get("line"),K=Q.style;this.addShape(V,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(f.__assign)({path:tt},K)})},k.prototype.renderBackground=function(V){var tt=this.getElementId("text"),Q=V.findById(tt),K=this.get("textBackground");if(K&&Q){var _=Q.getBBox(),Y=Object(o.c)(K.padding),q=K.style,ot=this.addShape(V,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(f.__assign)({x:_.x-Y[3],y:_.y-Y[0],width:_.width+Y[1]+Y[3],height:_.height+Y[0]+Y[2],matrix:Q.attr("matrix")},q)});ot.toBack()}},k}(O.a),S=b,y=function(G){Object(f.__extends)(k,G);function k(){return G!==null&&G.apply(this,arguments)||this}return k.prototype.getDefaultCfg=function(){var V=G.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},V),{type:"line",locationType:"region",start:null,end:null})},k.prototype.getRotateAngle=function(){var V=this.getLocation(),tt=V.start,Q=V.end,K=this.get("text").position,_=Math.atan2(Q.y-tt.y,Q.x-tt.x),Y=K==="start"?_-Math.PI/2:_+Math.PI/2;return Y},k.prototype.getTextPoint=function(){var V=this.getLocation(),tt=V.start,Q=V.end,K=this.get("text"),_=K.position,Y=K.offset;return Object(o.f)(tt,Q,_,Y)},k.prototype.getLinePath=function(){var V=this.getLocation(),tt=V.start,Q=V.end;return[["M",tt.x,tt.y],["L",Q.x,Q.y]]},k}(S),E=y,m=function(G){Object(f.__extends)(k,G);function k(){return G!==null&&G.apply(this,arguments)||this}return k.prototype.getDefaultCfg=function(){var V=G.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},V),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},k.prototype.getRotateAngle=function(){var V=this.getLocation(),tt=V.startAngle,Q=V.endAngle,K=this.get("text").position,_=K==="start"?tt+Math.PI/2:Q-Math.PI/2;return _},k.prototype.getTextPoint=function(){var V=this.get("text"),tt=V.position,Q=V.offset,K=this.getLocation(),_=K.center,Y=K.radius,q=K.startAngle,ot=K.endAngle,ft=tt==="start"?q:ot,ct=this.getRotateAngle()-Math.PI,rt=Object(o.e)(_,Y,ft),gt=Math.cos(ct)*Q,Et=Math.sin(ct)*Q;return{x:rt.x+gt,y:rt.y+Et}},k.prototype.getLinePath=function(){var V=this.getLocation(),tt=V.center,Q=V.radius,K=V.startAngle,_=V.endAngle,Y=null;if(_-K==Math.PI*2){var q=tt.x,ot=tt.y;Y=[["M",q,ot-Q],["A",Q,Q,0,1,1,q,ot+Q],["A",Q,Q,0,1,1,q,ot-Q],["Z"]]}else{var ft=Object(o.e)(tt,Q,K),ct=Object(o.e)(tt,Q,_),rt=Math.abs(_-K)>Math.PI?1:0,gt=K>_?0:1;Y=[["M",ft.x,ft.y],["A",Q,Q,0,rt,gt,ct.x,ct.y]]}return Y},k}(S),T=m,L=a("m8xh"),g=a("+On4"),j="g2-crosshair",U=j+"-line",W=j+"-text",z,N=(z={},z[""+j]={position:"relative"},z[""+U]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},z[""+W]={position:"absolute",color:P.a.textColor,fontFamily:P.a.fontFamily},z),I=function(G){Object(f.__extends)(k,G);function k(){return G!==null&&G.apply(this,arguments)||this}return k.prototype.getDefaultCfg=function(){var V=G.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},V),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+j+'"></div>',crosshairTpl:'<div class="'+U+'"></div>',textTpl:'<span class="'+W+'">{content}</span>',domStyles:null,containerClassName:j,defaultStyles:N,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},k.prototype.render=function(){this.resetText(),this.resetPosition()},k.prototype.initCrossHair=function(){var V=this.getContainer(),tt=this.get("crosshairTpl"),Q=Object(L.b)(tt);V.appendChild(Q),this.applyStyle(U,Q),this.set("crosshairEl",Q)},k.prototype.getTextPoint=function(){var V=this.getLocation(),tt=V.start,Q=V.end,K=this.get("text"),_=K.position,Y=K.offset;return Object(o.f)(tt,Q,_,Y)},k.prototype.resetText=function(){var V=this.get("text"),tt=this.get("textEl");if(V){var Q=V.content;if(!tt){var K=this.getContainer(),_=Object(x.substitute)(this.get("textTpl"),V);tt=Object(L.b)(_),K.appendChild(tt),this.applyStyle(W,tt),this.set("textEl",tt)}tt.innerHTML=Q}else tt&&tt.remove()},k.prototype.isVertical=function(V,tt){return V.x===tt.x},k.prototype.resetPosition=function(){var V=this.get("crosshairEl");V||(this.initCrossHair(),V=this.get("crosshairEl"));var tt=this.get("start"),Q=this.get("end"),K=Math.min(tt.x,Q.x),_=Math.min(tt.y,Q.y);this.isVertical(tt,Q)?Object(L.e)(V,{width:"1px",height:Object(o.l)(Math.abs(Q.y-tt.y))}):Object(L.e)(V,{height:"1px",width:Object(o.l)(Math.abs(Q.x-tt.x))}),Object(L.e)(V,{top:Object(o.l)(_),left:Object(o.l)(K)}),this.alignText()},k.prototype.alignText=function(){var V=this.get("textEl");if(V){var tt=this.get("text").align,Q=V.clientWidth,K=this.getTextPoint();switch(tt){case"center":K.x=K.x-Q/2;break;case"right":K.x=K.x-Q;case"left":break}Object(L.e)(V,{top:Object(o.l)(K.y),left:Object(o.l)(K.x)})}},k.prototype.updateInner=function(V){Object(x.hasKey)(V,"text")&&this.resetText(),G.prototype.updateInner.call(this,V)},k}(g.a),B=I},riA0:function(jt,A,a){"use strict";a.d(A,"a",function(){return gt}),a.d(A,"b",function(){return Yt}),a.d(A,"c",function(){return C});var f=a("jg4I"),o=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,x=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),C=function(vt){if(!vt)return null;if(Object(f.isArray)(vt))return vt;var mt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ut=[];return String(vt).replace(x,function(st,lt,Tt){var Ot=[],et=lt.toLowerCase();if(Tt.replace(O,function(H,pt){pt&&Ot.push(+pt)}),et==="m"&&Ot.length>2&&(ut.push([lt].concat(Ot.splice(0,2))),et="l",lt=lt==="m"?"l":"L"),et==="o"&&Ot.length===1&&ut.push([lt,Ot[0]]),et==="r")ut.push([lt].concat(Ot));else for(;Ot.length>=mt[et]&&(ut.push([lt].concat(Ot.splice(0,mt[et]))),!!mt[et]););return vt}),ut},P=function(vt,mt){for(var ut=[],st=0,lt=vt.length;lt-2*!mt>st;st+=2){var Tt=[{x:+vt[st-2],y:+vt[st-1]},{x:+vt[st],y:+vt[st+1]},{x:+vt[st+2],y:+vt[st+3]},{x:+vt[st+4],y:+vt[st+5]}];mt?st?lt-4===st?Tt[3]={x:+vt[0],y:+vt[1]}:lt-2===st&&(Tt[2]={x:+vt[0],y:+vt[1]},Tt[3]={x:+vt[2],y:+vt[3]}):Tt[0]={x:+vt[lt-2],y:+vt[lt-1]}:lt-4===st?Tt[3]=Tt[2]:st||(Tt[0]={x:+vt[st],y:+vt[st+1]}),ut.push(["C",(-Tt[0].x+6*Tt[1].x+Tt[2].x)/6,(-Tt[0].y+6*Tt[1].y+Tt[2].y)/6,(Tt[1].x+6*Tt[2].x-Tt[3].x)/6,(Tt[1].y+6*Tt[2].y-Tt[3].y)/6,Tt[2].x,Tt[2].y])}return ut},b=function(vt,mt,ut,st,lt){var Tt=[];if(lt===null&&st===null&&(st=ut),vt=+vt,mt=+mt,ut=+ut,st=+st,lt!==null){var Ot=Math.PI/180,et=vt+ut*Math.cos(-st*Ot),H=vt+ut*Math.cos(-lt*Ot),pt=mt+ut*Math.sin(-st*Ot),nt=mt+ut*Math.sin(-lt*Ot);Tt=[["M",et,pt],["A",ut,ut,0,+(lt-st>180),0,H,nt]]}else Tt=[["M",vt,mt],["m",0,-st],["a",ut,st,0,1,1,0,2*st],["a",ut,st,0,1,1,0,-2*st],["z"]];return Tt},S=function(vt){if(vt=C(vt),!vt||!vt.length)return[["M",0,0]];var mt=[],ut=0,st=0,lt=0,Tt=0,Ot=0,et,H;vt[0][0]==="M"&&(ut=+vt[0][1],st=+vt[0][2],lt=ut,Tt=st,Ot++,mt[0]=["M",ut,st]);for(var pt=vt.length===3&&vt[0][0]==="M"&&vt[1][0].toUpperCase()==="R"&&vt[2][0].toUpperCase()==="Z",nt=void 0,yt=void 0,Pt=Ot,Rt=vt.length;Pt<Rt;Pt++){if(mt.push(nt=[]),yt=vt[Pt],et=yt[0],et!==et.toUpperCase())switch(nt[0]=et.toUpperCase(),nt[0]){case"A":nt[1]=yt[1],nt[2]=yt[2],nt[3]=yt[3],nt[4]=yt[4],nt[5]=yt[5],nt[6]=+yt[6]+ut,nt[7]=+yt[7]+st;break;case"V":nt[1]=+yt[1]+st;break;case"H":nt[1]=+yt[1]+ut;break;case"R":H=[ut,st].concat(yt.slice(1));for(var Wt=2,Vt=H.length;Wt<Vt;Wt++)H[Wt]=+H[Wt]+ut,H[++Wt]=+H[Wt]+st;mt.pop(),mt=mt.concat(P(H,pt));break;case"O":mt.pop(),H=b(ut,st,yt[1],yt[2]),H.push(H[0]),mt=mt.concat(H);break;case"U":mt.pop(),mt=mt.concat(b(ut,st,yt[1],yt[2],yt[3])),nt=["U"].concat(mt[mt.length-1].slice(-2));break;case"M":lt=+yt[1]+ut,Tt=+yt[2]+st;break;default:for(var Wt=1,Vt=yt.length;Wt<Vt;Wt++)nt[Wt]=+yt[Wt]+(Wt%2?ut:st)}else if(et==="R")H=[ut,st].concat(yt.slice(1)),mt.pop(),mt=mt.concat(P(H,pt)),nt=["R"].concat(yt.slice(-2));else if(et==="O")mt.pop(),H=b(ut,st,yt[1],yt[2]),H.push(H[0]),mt=mt.concat(H);else if(et==="U")mt.pop(),mt=mt.concat(b(ut,st,yt[1],yt[2],yt[3])),nt=["U"].concat(mt[mt.length-1].slice(-2));else for(var Lt=0,Ct=yt.length;Lt<Ct;Lt++)nt[Lt]=yt[Lt];if(et=et.toUpperCase(),et!=="O")switch(nt[0]){case"Z":ut=+lt,st=+Tt;break;case"H":ut=nt[1];break;case"V":st=nt[1];break;case"M":lt=nt[nt.length-2],Tt=nt[nt.length-1];break;default:ut=nt[nt.length-2],st=nt[nt.length-1]}}return mt},y=function(vt,mt,ut,st){return[vt,mt,ut,st,ut,st]},E=function(vt,mt,ut,st,lt,Tt){var Ot=1/3,et=2/3;return[Ot*vt+et*ut,Ot*mt+et*st,Ot*lt+et*ut,Ot*Tt+et*st,lt,Tt]},m=function Xt(vt,mt,ut,st,lt,Tt,Ot,et,H,pt){ut===st&&(ut+=1);var nt=Math.PI*120/180,yt=Math.PI/180*(+lt||0),Pt=[],Rt,Wt,Vt,Lt,Ct,at=function(Gr,Kr,$r){var jn=Gr*Math.cos($r)-Kr*Math.sin($r),Qn=Gr*Math.sin($r)+Kr*Math.cos($r);return{x:jn,y:Qn}};if(pt)Wt=pt[0],Vt=pt[1],Lt=pt[2],Ct=pt[3];else{Rt=at(vt,mt,-yt),vt=Rt.x,mt=Rt.y,Rt=at(et,H,-yt),et=Rt.x,H=Rt.y,vt===et&&mt===H&&(et+=1,H+=1);var It=(vt-et)/2,Ft=(mt-H)/2,xt=It*It/(ut*ut)+Ft*Ft/(st*st);xt>1&&(xt=Math.sqrt(xt),ut=xt*ut,st=xt*st);var Nt=ut*ut,Ht=st*st,Bt=(Tt===Ot?-1:1)*Math.sqrt(Math.abs((Nt*Ht-Nt*Ft*Ft-Ht*It*It)/(Nt*Ft*Ft+Ht*It*It)));Lt=Bt*ut*Ft/st+(vt+et)/2,Ct=Bt*-st*It/ut+(mt+H)/2,Wt=Math.asin(((mt-Ct)/st).toFixed(9)),Vt=Math.asin(((H-Ct)/st).toFixed(9)),Wt=vt<Lt?Math.PI-Wt:Wt,Vt=et<Lt?Math.PI-Vt:Vt,Wt<0&&(Wt=Math.PI*2+Wt),Vt<0&&(Vt=Math.PI*2+Vt),Ot&&Wt>Vt&&(Wt=Wt-Math.PI*2),!Ot&&Vt>Wt&&(Vt=Vt-Math.PI*2)}var Ut=Vt-Wt;if(Math.abs(Ut)>nt){var Jt=Vt,oe=et,ge=H;Vt=Wt+nt*(Ot&&Vt>Wt?1:-1),et=Lt+ut*Math.cos(Vt),H=Ct+st*Math.sin(Vt),Pt=Xt(et,H,ut,st,lt,0,Ot,oe,ge,[Vt,Jt,Lt,Ct])}Ut=Vt-Wt;var Ce=Math.cos(Wt),Ie=Math.sin(Wt),We=Math.cos(Vt),lr=Math.sin(Vt),rr=Math.tan(Ut/4),$e=4/3*ut*rr,Ue=4/3*st*rr,ir=[vt,mt],xr=[vt+$e*Ie,mt-Ue*Ce],nr=[et+$e*lr,H-Ue*We],tn=[et,H];if(xr[0]=2*ir[0]-xr[0],xr[1]=2*ir[1]-xr[1],pt)return[xr,nr,tn].concat(Pt);Pt=[xr,nr,tn].concat(Pt).join().split(",");for(var bn=[],Ur=0,Le=Pt.length;Ur<Le;Ur++)bn[Ur]=Ur%2?at(Pt[Ur-1],Pt[Ur],yt).y:at(Pt[Ur],Pt[Ur+1],yt).x;return bn},T=function(vt,mt){var ut=S(vt),st=mt&&S(mt),lt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Tt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ot=[],et=[],H="",pt="",nt,yt=function(Ft,xt,Nt){var Ht,Bt;if(!Ft)return["C",xt.x,xt.y,xt.x,xt.y,xt.x,xt.y];switch(!(Ft[0]in{T:1,Q:1})&&(xt.qx=xt.qy=null),Ft[0]){case"M":xt.X=Ft[1],xt.Y=Ft[2];break;case"A":Ft=["C"].concat(m.apply(0,[xt.x,xt.y].concat(Ft.slice(1))));break;case"S":Nt==="C"||Nt==="S"?(Ht=xt.x*2-xt.bx,Bt=xt.y*2-xt.by):(Ht=xt.x,Bt=xt.y),Ft=["C",Ht,Bt].concat(Ft.slice(1));break;case"T":Nt==="Q"||Nt==="T"?(xt.qx=xt.x*2-xt.qx,xt.qy=xt.y*2-xt.qy):(xt.qx=xt.x,xt.qy=xt.y),Ft=["C"].concat(E(xt.x,xt.y,xt.qx,xt.qy,Ft[1],Ft[2]));break;case"Q":xt.qx=Ft[1],xt.qy=Ft[2],Ft=["C"].concat(E(xt.x,xt.y,Ft[1],Ft[2],Ft[3],Ft[4]));break;case"L":Ft=["C"].concat(y(xt.x,xt.y,Ft[1],Ft[2]));break;case"H":Ft=["C"].concat(y(xt.x,xt.y,Ft[1],xt.y));break;case"V":Ft=["C"].concat(y(xt.x,xt.y,xt.x,Ft[1]));break;case"Z":Ft=["C"].concat(y(xt.x,xt.y,xt.X,xt.Y));break;default:break}return Ft},Pt=function(Ft,xt){if(Ft[xt].length>7){Ft[xt].shift();for(var Nt=Ft[xt];Nt.length;)Ot[xt]="A",st&&(et[xt]="A"),Ft.splice(xt++,0,["C"].concat(Nt.splice(0,6)));Ft.splice(xt,1),nt=Math.max(ut.length,st&&st.length||0)}},Rt=function(Ft,xt,Nt,Ht,Bt){Ft&&xt&&Ft[Bt][0]==="M"&&xt[Bt][0]!=="M"&&(xt.splice(Bt,0,["M",Ht.x,Ht.y]),Nt.bx=0,Nt.by=0,Nt.x=Ft[Bt][1],Nt.y=Ft[Bt][2],nt=Math.max(ut.length,st&&st.length||0))};nt=Math.max(ut.length,st&&st.length||0);for(var Wt=0;Wt<nt;Wt++){ut[Wt]&&(H=ut[Wt][0]),H!=="C"&&(Ot[Wt]=H,Wt&&(pt=Ot[Wt-1])),ut[Wt]=yt(ut[Wt],lt,pt),Ot[Wt]!=="A"&&H==="C"&&(Ot[Wt]="C"),Pt(ut,Wt),st&&(st[Wt]&&(H=st[Wt][0]),H!=="C"&&(et[Wt]=H,Wt&&(pt=et[Wt-1])),st[Wt]=yt(st[Wt],Tt,pt),et[Wt]!=="A"&&H==="C"&&(et[Wt]="C"),Pt(st,Wt)),Rt(ut,st,lt,Tt,Wt),Rt(st,ut,Tt,lt,Wt);var Vt=ut[Wt],Lt=st&&st[Wt],Ct=Vt.length,at=st&&Lt.length;lt.x=Vt[Ct-2],lt.y=Vt[Ct-1],lt.bx=parseFloat(Vt[Ct-4])||lt.x,lt.by=parseFloat(Vt[Ct-3])||lt.y,Tt.bx=st&&(parseFloat(Lt[at-4])||Tt.x),Tt.by=st&&(parseFloat(Lt[at-3])||Tt.y),Tt.x=st&&Lt[at-2],Tt.y=st&&Lt[at-1]}return st?[ut,st]:ut},L=/,?([a-z]),?/gi,g=function(vt){return vt.join(",").replace(L,"$1")},j=function(vt,mt,ut,st,lt){var Tt=-3*mt+9*ut-9*st+3*lt,Ot=vt*Tt+6*mt-12*ut+6*st;return vt*Ot-3*mt+3*ut},U=function(vt,mt,ut,st,lt,Tt,Ot,et,H){H===null&&(H=1),H=H>1?1:H<0?0:H;for(var pt=H/2,nt=12,yt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Pt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Rt=0,Wt=0;Wt<nt;Wt++){var Vt=pt*yt[Wt]+pt,Lt=j(Vt,vt,ut,lt,Ot),Ct=j(Vt,mt,st,Tt,et),at=Lt*Lt+Ct*Ct;Rt+=Pt[Wt]*Math.sqrt(at)}return pt*Rt},W=function(vt,mt,ut,st,lt,Tt,Ot,et){for(var H=[],pt=[[],[]],nt,yt,Pt,Rt,Wt=0;Wt<2;++Wt){if(Wt===0?(yt=6*vt-12*ut+6*lt,nt=-3*vt+9*ut-9*lt+3*Ot,Pt=3*ut-3*vt):(yt=6*mt-12*st+6*Tt,nt=-3*mt+9*st-9*Tt+3*et,Pt=3*st-3*mt),Math.abs(nt)<1e-12){if(Math.abs(yt)<1e-12)continue;Rt=-Pt/yt,Rt>0&&Rt<1&&H.push(Rt);continue}var Vt=yt*yt-4*Pt*nt,Lt=Math.sqrt(Vt);if(!(Vt<0)){var Ct=(-yt+Lt)/(2*nt);Ct>0&&Ct<1&&H.push(Ct);var at=(-yt-Lt)/(2*nt);at>0&&at<1&&H.push(at)}}for(var It=H.length,Ft=It,xt;It--;)Rt=H[It],xt=1-Rt,pt[0][It]=xt*xt*xt*vt+3*xt*xt*Rt*ut+3*xt*Rt*Rt*lt+Rt*Rt*Rt*Ot,pt[1][It]=xt*xt*xt*mt+3*xt*xt*Rt*st+3*xt*Rt*Rt*Tt+Rt*Rt*Rt*et;return pt[0][Ft]=vt,pt[1][Ft]=mt,pt[0][Ft+1]=Ot,pt[1][Ft+1]=et,pt[0].length=pt[1].length=Ft+2,{min:{x:Math.min.apply(0,pt[0]),y:Math.min.apply(0,pt[1])},max:{x:Math.max.apply(0,pt[0]),y:Math.max.apply(0,pt[1])}}},z=function(vt,mt,ut,st,lt,Tt,Ot,et){if(!(Math.max(vt,ut)<Math.min(lt,Ot)||Math.min(vt,ut)>Math.max(lt,Ot)||Math.max(mt,st)<Math.min(Tt,et)||Math.min(mt,st)>Math.max(Tt,et))){var H=(vt*st-mt*ut)*(lt-Ot)-(vt-ut)*(lt*et-Tt*Ot),pt=(vt*st-mt*ut)*(Tt-et)-(mt-st)*(lt*et-Tt*Ot),nt=(vt-ut)*(Tt-et)-(mt-st)*(lt-Ot);if(!!nt){var yt=H/nt,Pt=pt/nt,Rt=+yt.toFixed(2),Wt=+Pt.toFixed(2);if(!(Rt<+Math.min(vt,ut).toFixed(2)||Rt>+Math.max(vt,ut).toFixed(2)||Rt<+Math.min(lt,Ot).toFixed(2)||Rt>+Math.max(lt,Ot).toFixed(2)||Wt<+Math.min(mt,st).toFixed(2)||Wt>+Math.max(mt,st).toFixed(2)||Wt<+Math.min(Tt,et).toFixed(2)||Wt>+Math.max(Tt,et).toFixed(2)))return{x:yt,y:Pt}}}},N=function(vt,mt,ut){return mt>=vt.x&&mt<=vt.x+vt.width&&ut>=vt.y&&ut<=vt.y+vt.height},I=function(vt,mt,ut,st,lt){if(lt)return[["M",+vt+ +lt,mt],["l",ut-lt*2,0],["a",lt,lt,0,0,1,lt,lt],["l",0,st-lt*2],["a",lt,lt,0,0,1,-lt,lt],["l",lt*2-ut,0],["a",lt,lt,0,0,1,-lt,-lt],["l",0,lt*2-st],["a",lt,lt,0,0,1,lt,-lt],["z"]];var Tt=[["M",vt,mt],["l",ut,0],["l",0,st],["l",-ut,0],["z"]];return Tt.parsePathArray=g,Tt},B=function(vt,mt,ut,st){return vt===null&&(vt=mt=ut=st=0),mt===null&&(mt=vt.y,ut=vt.width,st=vt.height,vt=vt.x),{x:vt,y:mt,width:ut,w:ut,height:st,h:st,x2:vt+ut,y2:mt+st,cx:vt+ut/2,cy:mt+st/2,r1:Math.min(ut,st)/2,r2:Math.max(ut,st)/2,r0:Math.sqrt(ut*ut+st*st)/2,path:I(vt,mt,ut,st),vb:[vt,mt,ut,st].join(" ")}},G=function(vt,mt){return vt=B(vt),mt=B(mt),N(mt,vt.x,vt.y)||N(mt,vt.x2,vt.y)||N(mt,vt.x,vt.y2)||N(mt,vt.x2,vt.y2)||N(vt,mt.x,mt.y)||N(vt,mt.x2,mt.y)||N(vt,mt.x,mt.y2)||N(vt,mt.x2,mt.y2)||(vt.x<mt.x2&&vt.x>mt.x||mt.x<vt.x2&&mt.x>vt.x)&&(vt.y<mt.y2&&vt.y>mt.y||mt.y<vt.y2&&mt.y>vt.y)},k=function(vt,mt,ut,st,lt,Tt,Ot,et){Object(f.isArray)(vt)||(vt=[vt,mt,ut,st,lt,Tt,Ot,et]);var H=W.apply(null,vt);return B(H.min.x,H.min.y,H.max.x-H.min.x,H.max.y-H.min.y)},V=function(vt,mt,ut,st,lt,Tt,Ot,et,H){var pt=1-H,nt=Math.pow(pt,3),yt=Math.pow(pt,2),Pt=H*H,Rt=Pt*H,Wt=nt*vt+yt*3*H*ut+pt*3*H*H*lt+Rt*Ot,Vt=nt*mt+yt*3*H*st+pt*3*H*H*Tt+Rt*et,Lt=vt+2*H*(ut-vt)+Pt*(lt-2*ut+vt),Ct=mt+2*H*(st-mt)+Pt*(Tt-2*st+mt),at=ut+2*H*(lt-ut)+Pt*(Ot-2*lt+ut),It=st+2*H*(Tt-st)+Pt*(et-2*Tt+st),Ft=pt*vt+H*ut,xt=pt*mt+H*st,Nt=pt*lt+H*Ot,Ht=pt*Tt+H*et,Bt=90-Math.atan2(Lt-at,Ct-It)*180/Math.PI;return{x:Wt,y:Vt,m:{x:Lt,y:Ct},n:{x:at,y:It},start:{x:Ft,y:xt},end:{x:Nt,y:Ht},alpha:Bt}},tt=function(vt,mt,ut){var st=k(vt),lt=k(mt);if(!G(st,lt))return ut?0:[];for(var Tt=U.apply(0,vt),Ot=U.apply(0,mt),et=~~(Tt/8),H=~~(Ot/8),pt=[],nt=[],yt={},Pt=ut?0:[],Rt=0;Rt<et+1;Rt++){var Wt=V.apply(0,vt.concat(Rt/et));pt.push({x:Wt.x,y:Wt.y,t:Rt/et})}for(var Rt=0;Rt<H+1;Rt++){var Wt=V.apply(0,mt.concat(Rt/H));nt.push({x:Wt.x,y:Wt.y,t:Rt/H})}for(var Rt=0;Rt<et;Rt++)for(var Vt=0;Vt<H;Vt++){var Lt=pt[Rt],Ct=pt[Rt+1],at=nt[Vt],It=nt[Vt+1],Ft=Math.abs(Ct.x-Lt.x)<.001?"y":"x",xt=Math.abs(It.x-at.x)<.001?"y":"x",Nt=z(Lt.x,Lt.y,Ct.x,Ct.y,at.x,at.y,It.x,It.y);if(Nt){if(yt[Nt.x.toFixed(4)]===Nt.y.toFixed(4))continue;yt[Nt.x.toFixed(4)]=Nt.y.toFixed(4);var Ht=Lt.t+Math.abs((Nt[Ft]-Lt[Ft])/(Ct[Ft]-Lt[Ft]))*(Ct.t-Lt.t),Bt=at.t+Math.abs((Nt[xt]-at[xt])/(It[xt]-at[xt]))*(It.t-at.t);Ht>=0&&Ht<=1&&Bt>=0&&Bt<=1&&(ut?Pt+=1:Pt.push({x:Nt.x,y:Nt.y,t1:Ht,t2:Bt}))}}return Pt},Q=function(vt,mt,ut){vt=T(vt),mt=T(mt);for(var st,lt,Tt,Ot,et,H,pt,nt,yt,Pt,Rt=ut?0:[],Wt=0,Vt=vt.length;Wt<Vt;Wt++){var Lt=vt[Wt];if(Lt[0]==="M")st=et=Lt[1],lt=H=Lt[2];else{Lt[0]==="C"?(yt=[st,lt].concat(Lt.slice(1)),st=yt[6],lt=yt[7]):(yt=[st,lt,st,lt,et,H,et,H],st=et,lt=H);for(var Ct=0,at=mt.length;Ct<at;Ct++){var It=mt[Ct];if(It[0]==="M")Tt=pt=It[1],Ot=nt=It[2];else{It[0]==="C"?(Pt=[Tt,Ot].concat(It.slice(1)),Tt=Pt[6],Ot=Pt[7]):(Pt=[Tt,Ot,Tt,Ot,pt,nt,pt,nt],Tt=pt,Ot=nt);var Ft=tt(yt,Pt,ut);if(ut)Rt+=Ft;else{for(var xt=0,Nt=Ft.length;xt<Nt;xt++)Ft[xt].segment1=Wt,Ft[xt].segment2=Ct,Ft[xt].bez1=yt,Ft[xt].bez2=Pt;Rt=Rt.concat(Ft)}}}}}return Rt},K=function(vt,mt){return Q(vt,mt)};function _(Xt,vt){var mt=[],ut=[];function st(lt,Tt){if(lt.length===1)mt.push(lt[0]),ut.push(lt[0]);else{for(var Ot=[],et=0;et<lt.length-1;et++)et===0&&mt.push(lt[0]),et===lt.length-2&&ut.push(lt[et+1]),Ot[et]=[(1-Tt)*lt[et][0]+Tt*lt[et+1][0],(1-Tt)*lt[et][1]+Tt*lt[et+1][1]];st(Ot,Tt)}}return Xt.length&&st(Xt,vt),{left:mt,right:ut.reverse()}}function Y(Xt,vt,mt){var ut=[[Xt[1],Xt[2]]];mt=mt||2;var st=[];vt[0]==="A"?(ut.push(vt[6]),ut.push(vt[7])):vt[0]==="C"?(ut.push([vt[1],vt[2]]),ut.push([vt[3],vt[4]]),ut.push([vt[5],vt[6]])):vt[0]==="S"||vt[0]==="Q"?(ut.push([vt[1],vt[2]]),ut.push([vt[3],vt[4]])):ut.push([vt[1],vt[2]]);for(var lt=ut,Tt=1/mt,Ot=0;Ot<mt-1;Ot++){var et=Tt/(1-Tt*Ot),H=_(lt,et);st.push(H.left),lt=H.right}st.push(lt);var pt=st.map(function(nt){var yt=[];return nt.length===4&&(yt.push("C"),yt=yt.concat(nt[2])),nt.length>=3&&(nt.length===3&&yt.push("Q"),yt=yt.concat(nt[1])),nt.length===2&&yt.push("L"),yt=yt.concat(nt[nt.length-1]),yt});return pt}var q=function(vt,mt,ut){if(ut===1)return[[].concat(vt)];var st=[];if(mt[0]==="L"||mt[0]==="C"||mt[0]==="Q")st=st.concat(Y(vt,mt,ut));else{var lt=[].concat(vt);lt[0]==="M"&&(lt[0]="L");for(var Tt=0;Tt<=ut-1;Tt++)st.push(lt)}return st},ot=function(vt,mt){if(vt.length===1)return vt;var ut=vt.length-1,st=mt.length-1,lt=ut/st,Tt=[];if(vt.length===1&&vt[0][0]==="M"){for(var Ot=0;Ot<st-ut;Ot++)vt.push(vt[0]);return vt}for(var Ot=0;Ot<st;Ot++){var et=Math.floor(lt*Ot);Tt[et]=(Tt[et]||0)+1}var H=Tt.reduce(function(pt,nt,yt){return yt===ut?pt.concat(vt[ut]):pt.concat(q(vt[yt],vt[yt+1],nt))},[]);return H.unshift(vt[0]),(mt[st]==="Z"||mt[st]==="z")&&H.push("Z"),H},ft=function(vt,mt){if(vt.length!==mt.length)return!1;var ut=!0;return Object(f.each)(vt,function(st,lt){if(st!==mt[lt])return ut=!1,!1}),ut};function ct(Xt,vt,mt){var ut=null,st=mt;return vt<st&&(st=vt,ut="add"),Xt<st&&(st=Xt,ut="del"),{type:ut,min:st}}var rt=function(vt,mt){var ut=vt.length,st=mt.length,lt,Tt,Ot=0;if(ut===0||st===0)return null;for(var et=[],H=0;H<=ut;H++)et[H]=[],et[H][0]={min:H};for(var pt=0;pt<=st;pt++)et[0][pt]={min:pt};for(var H=1;H<=ut;H++){lt=vt[H-1];for(var pt=1;pt<=st;pt++){Tt=mt[pt-1],ft(lt,Tt)?Ot=0:Ot=1;var nt=et[H-1][pt].min+1,yt=et[H][pt-1].min+1,Pt=et[H-1][pt-1].min+Ot;et[H][pt]=ct(nt,yt,Pt)}}return et},gt=function(vt,mt){var ut=rt(vt,mt),st=vt.length,lt=mt.length,Tt=[],Ot=1,et=1;if(ut[st][lt].min!==st){for(var H=1;H<=st;H++){var pt=ut[H][H].min;et=H;for(var nt=Ot;nt<=lt;nt++)ut[H][nt].min<pt&&(pt=ut[H][nt].min,et=nt);Ot=et,ut[H][Ot].type&&Tt.push({index:H-1,type:ut[H][Ot].type})}for(var H=Tt.length-1;H>=0;H--)Ot=Tt[H].index,Tt[H].type==="add"?vt.splice(Ot,0,[].concat(vt[Ot])):vt.splice(Ot,1)}st=vt.length;var yt=lt-st;if(st<lt)for(var H=0;H<yt;H++)vt[st-1][0]==="z"||vt[st-1][0]==="Z"?vt.splice(st-2,0,vt[st-2]):vt.push(vt[st-1]),st+=1;return vt};function Et(Xt,vt,mt){for(var ut=[].concat(Xt),st,lt=1/(mt+1),Tt=Gt(vt)[0],Ot=1;Ot<=mt;Ot++)lt*=Ot,st=Math.floor(Xt.length*lt),st===0?ut.unshift([Tt[0]*lt+Xt[st][0]*(1-lt),Tt[1]*lt+Xt[st][1]*(1-lt)]):ut.splice(st,0,[Tt[0]*lt+Xt[st][0]*(1-lt),Tt[1]*lt+Xt[st][1]*(1-lt)]);return ut}function Gt(Xt){var vt=[];switch(Xt[0]){case"M":vt.push([Xt[1],Xt[2]]);break;case"L":vt.push([Xt[1],Xt[2]]);break;case"A":vt.push([Xt[6],Xt[7]]);break;case"Q":vt.push([Xt[3],Xt[4]]),vt.push([Xt[1],Xt[2]]);break;case"T":vt.push([Xt[1],Xt[2]]);break;case"C":vt.push([Xt[5],Xt[6]]),vt.push([Xt[1],Xt[2]]),vt.push([Xt[3],Xt[4]]);break;case"S":vt.push([Xt[3],Xt[4]]),vt.push([Xt[1],Xt[2]]);break;case"H":vt.push([Xt[1],Xt[1]]);break;case"V":vt.push([Xt[1],Xt[1]]);break;default:}return vt}var Yt=function(vt,mt){if(vt.length<=1)return vt;for(var ut,st=0;st<mt.length;st++)if(vt[st][0]!==mt[st][0])switch(ut=Gt(vt[st]),mt[st][0]){case"M":vt[st]=["M"].concat(ut[0]);break;case"L":vt[st]=["L"].concat(ut[0]);break;case"A":vt[st]=[].concat(mt[st]),vt[st][6]=ut[0][0],vt[st][7]=ut[0][1];break;case"Q":if(ut.length<2)if(st>0)ut=Et(ut,vt[st-1],1);else{vt[st]=mt[st];break}vt[st]=["Q"].concat(ut.reduce(function(lt,Tt){return lt.concat(Tt)},[]));break;case"T":vt[st]=["T"].concat(ut[0]);break;case"C":if(ut.length<3)if(st>0)ut=Et(ut,vt[st-1],2);else{vt[st]=mt[st];break}vt[st]=["C"].concat(ut.reduce(function(lt,Tt){return lt.concat(Tt)},[]));break;case"S":if(ut.length<2)if(st>0)ut=Et(ut,vt[st-1],1);else{vt[st]=mt[st];break}vt[st]=["S"].concat(ut.reduce(function(lt,Tt){return lt.concat(Tt)},[]));break;default:vt[st]=mt[st]}return vt}},rr1f:function(jt,A,a){"use strict";a.d(A,"a",function(){return S});var f=a("CMID"),o=a("tqeG"),x=a("0dxb"),O=a("VvtR"),C=a("jg4I"),P={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(E,m){return""+Object(C.get)(m,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},b={appendPadding:2,tooltip:Object(f.__assign)({},P),animation:{}},S=function(y){Object(f.__extends)(E,y);function E(){var m=y!==null&&y.apply(this,arguments)||this;return m.type="tiny-column",m}return E.getDefaultOptions=function(){return b},E.prototype.changeData=function(m){this.updateOption({data:m});var T=this,L=T.chart,g=T.options;Object(O.b)({chart:L,options:g}),L.changeData(Object(x.a)(m))},E.prototype.getDefaultOptions=function(){return E.getDefaultOptions()},E.prototype.getSchemaAdaptor=function(){return O.a},E}(o.b)},"sD+k":function(jt,A,a){"use strict";a.d(A,"a",function(){return b});var f=a("CMID"),o=a("tqeG"),x=a("A80r"),O=a("H1QV"),C=a("nHjW"),P=Object(C.c)({},o.b.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),b=function(S){Object(f.__extends)(y,S);function y(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="histogram",E}return y.getDefaultOptions=function(){return P},y.prototype.changeData=function(E){this.updateOption({data:E});var m=this.options,T=m.binField,L=m.binNumber,g=m.binWidth,j=m.stackField;this.chart.changeData(Object(x.a)(E,T,g,L,j))},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.getSchemaAdaptor=function(){return O.a},y}(o.b)},sNXT:function(jt,A,a){var f=a("cEHS"),o=a("l0EA");function x(O,C){return o(O||[],C||[],f)}jt.exports=x},sn46:function(jt,A){},swOU:function(jt,A,a){var f=a("sVUS"),o=a("VL8K"),x=a("+Gi7"),O=f?f.isConcatSpreadable:void 0;function C(P){return x(P)||o(P)||!!(O&&P&&P[O])}jt.exports=C},sxZn:function(jt,A,a){"use strict";a.d(A,"b",function(){return o.a}),a.d(A,"c",function(){return o.d}),a.d(A,"d",function(){return o.e}),a.d(A,"a",function(){return f});var f={};a.r(f),a.d(f,"leftTranslate",function(){return x}),a.d(f,"leftRotate",function(){return O}),a.d(f,"leftScale",function(){return C}),a.d(f,"transform",function(){return b}),a.d(f,"direction",function(){return S}),a.d(f,"angleTo",function(){return y}),a.d(f,"vertical",function(){return E});var o=a("99LQ");function x(m,T,L){var g=[0,0,0,0,0,0,0,0,0];return o.a.fromTranslation(g,L),o.a.multiply(m,g,T)}function O(m,T,L){var g=[0,0,0,0,0,0,0,0,0];return o.a.fromRotation(g,L),o.a.multiply(m,g,T)}function C(m,T,L){var g=[0,0,0,0,0,0,0,0,0];return o.a.fromScaling(g,L),o.a.multiply(m,g,T)}function P(m,T,L){return o.a.multiply(m,L,T)}function b(m,T){for(var L=m?[].concat(m):[1,0,0,0,1,0,0,0,1],g=0,j=T.length;g<j;g++){var U=T[g];switch(U[0]){case"t":x(L,L,[U[1],U[2]]);break;case"s":C(L,L,[U[1],U[2]]);break;case"r":O(L,L,U[1]);break;case"m":P(L,L,U[1]);break;default:break}}return L}function S(m,T){return m[0]*T[1]-T[0]*m[1]}function y(m,T,L){var g=o.d.angle(m,T),j=S(m,T)>=0;return L?j?Math.PI*2-g:g:j?g:Math.PI*2-g}function E(m,T,L){return L?(m[0]=T[1],m[1]=-1*T[0]):(m[0]=-1*T[1],m[1]=T[0]),m}},syls:function(jt,A,a){"use strict";a.d(A,"a",function(){return f}),a.d(A,"b",function(){return x});var f=-1,o=1;function x(){return o++}},szLl:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingToSyntax=void 0;var f=a("196R"),o=a("2+60"),x=a("lVYH"),O=a("uh8N"),C=function(){function P(b){this._binding=b}return P.prototype.to=function(b){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=b,new x.BindingInWhenOnSyntax(this._binding)},P.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+f.INVALID_TO_SELF_VALUE);var b=this._binding.serviceIdentifier;return this.to(b)},P.prototype.toConstantValue=function(b){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=b,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=o.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},P.prototype.toDynamicValue=function(b){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=b,this._binding.implementationType=null,new x.BindingInWhenOnSyntax(this._binding)},P.prototype.toConstructor=function(b){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=b,this._binding.scope=o.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},P.prototype.toFactory=function(b){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=b,this._binding.scope=o.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},P.prototype.toFunction=function(b){if(typeof b!="function")throw new Error(f.INVALID_FUNCTION_BINDING);var S=this.toConstantValue(b);return this._binding.type=o.BindingTypeEnum.Function,this._binding.scope=o.BindingScopeEnum.Singleton,S},P.prototype.toAutoFactory=function(b){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(S){var y=function(){return S.container.get(b)};return y},this._binding.scope=o.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},P.prototype.toProvider=function(b){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=b,this._binding.scope=o.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},P.prototype.toService=function(b){this.toDynamicValue(function(S){return S.container.get(b)})},P}();A.BindingToSyntax=C},t3mm:function(jt,A,a){var f=a("Z8sD"),o=f();jt.exports=o},t8pM:function(jt,A,a){"use strict";var f=jt.exports;jt.exports.isNumber=function(o){return typeof o=="number"},jt.exports.findMin=function(o){if(o.length===0)return Infinity;for(var x=o[0],O=1;O<o.length;O++)x=Math.min(x,o[O]);return x},jt.exports.findMax=function(o){if(o.length===0)return-Infinity;for(var x=o[0],O=1;O<o.length;O++)x=Math.max(x,o[O]);return x},jt.exports.findMinMulti=function(o){for(var x=f.findMin(o[0]),O=1;O<o.length;O++)x=Math.min(x,f.findMin(o[O]));return x},jt.exports.findMaxMulti=function(o){for(var x=f.findMax(o[0]),O=1;O<o.length;O++)x=Math.max(x,f.findMax(o[O]));return x},jt.exports.inside=function(o,x,O){return o<=O&&O<=x}},t9r2:function(jt,A,a){"use strict";var f=a("CMID"),o=a("LhfN"),x=function(O){Object(f.__extends)(C,O);function C(){return O!==null&&O.apply(this,arguments)||this}return C.prototype.isGroup=function(){return!0},C.prototype.isEntityGroup=function(){return!1},C.prototype.clone=function(){for(var P=O.prototype.clone.call(this),b=this.getChildren(),S=0;S<b.length;S++){var y=b[S];P.add(y.clone())}return P},C}(o.a);A.a=x},tCm8:function(jt,A,a){var f=a("7LJS"),o=a("i1Q6"),x=a("WeNx");function O(C){return C&&C.length?f(C,x,o):void 0}jt.exports=O},tDsh:function(jt,A,a){"use strict";var f=a("CMID"),o=a("Lkm0"),x=function(C){Object(f.__extends)(P,C);function P(){return C!==null&&C.apply(this,arguments)||this}return P.prototype.isGroup=function(){return!0},P.prototype.isEntityGroup=function(){return!1},P.prototype.clone=function(){for(var b=C.prototype.clone.call(this),S=this.getChildren(),y=0;y<S.length;y++){var E=S[y];b.add(E.clone())}return b},P}(o.a),O=x},tKNA:function(jt,A,a){"use strict";var f=a("/WN3"),o=a("jg4I"),x=a("3k0L"),O=a("5Kaj");function C(b,S){return(S-b)*Math.random()+b}var P=function(b){Object(f.b)(S,b);function S(){return b!==null&&b.apply(this,arguments)||this}return S.prototype.process=function(y){var E=o.clone(y),m=o.flatten(E);return this.adjustData(E,m),E},S.prototype.adjustDim=function(y,E,m){var T=this,L=this.groupData(m,y);return o.each(L,function(g,j){return T.adjustGroup(g,y,parseFloat(j),E)})},S.prototype.getAdjustOffset=function(y){var E=y.pre,m=y.next,T=(m-E)*x.c;return C(E+T,m-T)},S.prototype.adjustGroup=function(y,E,m,T){var L=this,g=this.getAdjustRange(E,m,T);return o.each(y,function(j){j[E]=L.getAdjustOffset(g)}),y},S}(O.a);A.a=P},tMVM:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingCount=void 0;var f={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};A.BindingCount=f},tSnd:function(jt,A,a){"use strict";a.d(A,"j",function(){return o}),a.d(A,"c",function(){return x}),a.d(A,"g",function(){return O}),a.d(A,"b",function(){return C});var f=a("jg4I");a.d(A,"e",function(){return f.isNil}),a.d(A,"d",function(){return f.isFunction}),a.d(A,"h",function(){return f.isString}),a.d(A,"f",function(){return f.isObject}),a.d(A,"i",function(){return f.mix}),a.d(A,"a",function(){return f.each}),a.d(A,"k",function(){return f.upperFirst});function o(P,b){var S=P.indexOf(b);S!==-1&&P.splice(S,1)}var x=typeof window!="undefined"&&typeof window.document!="undefined";function O(P,b){if(P.isCanvas())return!0;for(var S=b.getParent(),y=!1;S;){if(S===P){y=!0;break}S=S.getParent()}return y}function C(P){return P.cfg.visible&&P.cfg.capture}},tbeB:function(jt,A){var a=Math.ceil,f=Math.max;function o(x,O,C,P){for(var b=-1,S=f(a((O-x)/(C||1)),0),y=Array(S);S--;)y[P?S:++b]=x,x+=C;return y}jt.exports=o},tebh:function(jt,A){jt.exports="0.8.5"},tjpL:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.inject=A.LazyServiceIdentifer=void 0;var f=a("196R"),o=a("9L8m"),x=a("rMkn"),O=a("ZLnY"),C=function(){function b(S){this._cb=S}return b.prototype.unwrap=function(){return this._cb()},b}();A.LazyServiceIdentifer=C;function P(b){return function(S,y,E){if(b===void 0)throw new Error(f.UNDEFINED_INJECT_ANNOTATION(S.name));var m=new x.Metadata(o.INJECT_TAG,b);typeof E=="number"?O.tagParameter(S,y,E,m):O.tagProperty(S,y,m)}}A.inject=P},tm1u:function(jt,A,a){"use strict";a.d(A,"a",function(){return g});var f=a("CMID"),o=a("tqeG"),x=a("N2cT"),O=a("nHjW"),C=a("8DqP");function P(j,U,W){var z=W.map(function(B){return B[U]}).filter(function(B){return B!==void 0}),N=z.length>0?Math.max.apply(Math,z):0,I=Math.abs(j)%360;return I?N*360/I:N}function b(j){var U=j.chart,W=j.options,z=W.barStyle,N=W.color,I=W.tooltip,B=W.colorField,G=W.type,k=W.xField,V=W.yField,tt=W.data,Q=Object(O.s)(tt,V);U.data(Q);var K=Object(O.c)({},j,{options:{tooltip:I,seriesField:B,interval:{style:z,color:N,shape:G==="line"?"line":"intervel"},minColumnWidth:W.minBarWidth,maxColumnWidth:W.maxBarWidth,columnBackground:W.barBackground}});return Object(C.c)(K),G==="line"&&Object(C.e)({chart:U,options:{xField:k,yField:V,seriesField:B,point:{shape:"circle",color:N}}}),j}function S(j){var U,W=j.options,z=W.yField,N=W.maxAngle,I=W.data,B=Object(O.s)(I,z);return Object(O.f)(Object(x.f)((U={},U[z]={min:0,max:P(N,z,B)},U)))(j)}function y(j){var U=j.chart,W=j.options,z=W.radius,N=W.innerRadius,I=W.startAngle,B=W.endAngle;return U.coordinate({type:"polar",cfg:{radius:z,innerRadius:N,startAngle:I,endAngle:B}}).transpose(),j}function E(j){var U=j.chart,W=j.options,z=W.xField,N=W.xAxis;return U.axis(z,N),j}function m(j){var U=j.chart,W=j.options,z=W.label,N=W.yField,I=Object(O.d)(U,"interval");if(!z)I.label(!1);else{var B=z.callback,G=Object(f.__rest)(z,["callback"]);I.label({fields:[N],callback:B,cfg:Object(f.__assign)(Object(f.__assign)({},Object(O.w)(G)),{type:"polar"})})}return j}function T(j){return Object(O.f)(b,S,E,y,x.c,x.a,x.j,x.k,x.d,Object(x.b)(),m)(j)}var L=Object(O.c)({},o.b.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),g=function(j){Object(f.__extends)(U,j);function U(){var W=j!==null&&j.apply(this,arguments)||this;return W.type="radial-bar",W}return U.getDefaultOptions=function(){return L},U.prototype.changeData=function(W){this.updateOption({data:W}),S({chart:this.chart,options:this.options}),this.chart.changeData(W)},U.prototype.getDefaultOptions=function(){return U.getDefaultOptions()},U.prototype.getSchemaAdaptor=function(){return T},U}(o.b)},to4S:function(jt,A,a){"use strict";a.d(A,"a",function(){return rt});var f=a("/wRx"),o=a.n(f),x=a("qaCK"),O=a.n(x),C=a("RHEd"),P=a.n(C),b=a("16OP"),S=a.n(b),y=a("7Nom"),E=a.n(y),m=a("4OuL"),T=a.n(m),L=a("r1m7"),g=a.n(L),j=a("YcyD"),U=a.n(j),W=a("XN3X"),z=a("RtY/"),N=a("aStn"),I=a("K4bE"),B,G,k,V,tt,Q,K,_,Y,q,ot,ft,ct,rt=(B=Object(j.injectable)(),G=Object(j.inject)(W.a.Systems),k=Object(j.named)(W.a.FrameGraphSystem),V=Object(j.inject)(W.a.RenderPassFactory),tt=Object(j.inject)(W.a.ConfigService),Q=Object(j.inject)(W.a.ResourcePool),B(K=(_=(ct=function(){function gt(){S()(this,gt),P()(this,"frameGraphSystem",Y,this),P()(this,"renderPassFactory",q,this),P()(this,"configService",ot,this),P()(this,"resourcePool",ft,this)}return E()(gt,[{key:"execute",value:function(){var Et=O()(o.a.mark(function Yt(Xt){var vt,mt,ut,st,lt,Tt,Ot,et,H;return o.a.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:vt=this.renderPassFactory(I.a.IDENTIFIER),mt=vt.setup,ut=vt.execute,st=this.frameGraphSystem.addPass(I.a.IDENTIFIER,mt,ut),lt=this.renderPassFactory(z.a.IDENTIFIER),Tt=lt.setup,Ot=lt.execute,et=lt.tearDown,H=this.frameGraphSystem.addPass(z.a.IDENTIFIER,Tt,Ot,et),this.frameGraphSystem.present(H.data.output);case 5:case"end":return nt.stop()}},Yt,this)}));function Gt(Yt){return Et.apply(this,arguments)}return Gt}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(Gt,Yt){var Xt=this.renderPassFactory(N.a.IDENTIFIER);return Xt.pick(Gt,Yt)}}]),gt}(),ct),Y=T()(_.prototype,"frameGraphSystem",[G,k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=T()(_.prototype,"renderPassFactory",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=T()(_.prototype,"configService",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=T()(_.prototype,"resourcePool",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_))||K)},tqeG:function(jt,A,a){"use strict";a.d(A,"a",function(){return y}),a.d(A,"b",function(){return E});var f=a("CMID"),o=a("JUmX"),x=a("jg4I"),O=a("nZiY"),C=a("bCfE"),P=a.n(C),b=a("nHjW"),S="data-chart-source-type",y=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],E=function(m){Object(f.__extends)(T,m);function T(L,g){var j=m.call(this)||this;return j.type="base",j.container=typeof L=="string"?document.getElementById(L):L,j.options=Object(b.c)({},j.getDefaultOptions(),g),j.createG2(),j.bindEvents(),j}return T.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},T.prototype.createG2=function(){var L=this.options,g=L.width,j=L.height;this.chart=new o.Chart(Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({container:this.container,autoFit:!1},this.getChartSize(g,j)),{localRefresh:!1}),Object(b.r)(this.options,y))),this.container.setAttribute(S,"G2Plot")},T.prototype.getChartSize=function(L,g){var j=Object(b.i)(this.container);return{width:L||j.width||400,height:g||j.height||400}},T.prototype.bindEvents=function(){var L=this;this.chart&&this.chart.on("*",function(g){(g==null?void 0:g.type)&&L.emit(g.type,g)})},T.prototype.getDefaultOptions=function(){return T.getDefaultOptions()},T.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},T.prototype.update=function(L){this.updateOption(L),this.render()},T.prototype.updateOption=function(L){this.options=Object(b.c)({},this.options,L)},T.prototype.setState=function(L,g,j){j===void 0&&(j=!0);var U=Object(b.g)(this.chart);Object(x.each)(U,function(W){g(W.getData())&&W.setState(L,j)})},T.prototype.getStates=function(){var L=Object(b.g)(this.chart),g=[];return Object(x.each)(L,function(j){var U=j.getData(),W=j.getStates();Object(x.each)(W,function(z){g.push({data:U,state:z,geometry:j.geometry,element:j})})}),g},T.prototype.changeData=function(L){this.update({data:L})},T.prototype.changeSize=function(L,g){this.chart.changeSize(L,g)},T.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(S)},T.prototype.execAdaptor=function(){var L=this.getSchemaAdaptor(),g=this.options,j=g.padding,U=g.appendPadding;this.chart.padding=j,this.chart.appendPadding=U,L({chart:this.chart,options:this.options})},T.prototype.triggerResize=function(){this.chart.forceFit()},T.prototype.bindSizeSensor=function(){var L=this;if(!this.unbind){var g=this.options.autoFit,j=g===void 0?!0:g;j&&(this.unbind=Object(C.bind)(this.container,function(){var U=Object(b.i)(L.container),W=U.width,z=U.height;(W!==L.chart.width||z!==L.chart.height)&&L.triggerResize()}))}},T.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},T}(O.a)},tqfL:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Plan=void 0;var f=function(){function o(x,O){this.parentContext=x,this.rootRequest=O}return o}();A.Plan=f},tqoU:function(jt,A){function a(f,o,x){for(var O=x-1,C=f.length;++O<C;)if(f[O]===o)return O;return-1}jt.exports=a},tuqv:function(jt,A,a){"use strict";A.a=function(f){f.x0=Math.round(f.x0),f.y0=Math.round(f.y0),f.x1=Math.round(f.x1),f.y1=Math.round(f.y1)}},u3Fj:function(jt,A,a){var f=a("mdrB"),o=a("Wzpx"),x=f(o);jt.exports=x},u6QS:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.named=void 0;var f=a("9L8m"),o=a("rMkn"),x=a("ZLnY");function O(C){return function(P,b,S){var y=new o.Metadata(f.NAMED_TAG,C);typeof S=="number"?x.tagParameter(P,b,S,y):x.tagProperty(P,b,y)}}A.named=O},uSfk:function(jt,A){function a(f,o,x){for(var O=-1,C=f==null?0:f.length;++O<C;)if(x(o,f[O]))return!0;return!1}jt.exports=a},uh8N:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingWhenOnSyntax=void 0;var f=a("zN6Y"),o=a("ITfU"),x=function(){function O(C){this._binding=C,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new f.BindingOnSyntax(this._binding)}return O.prototype.when=function(C){return this._bindingWhenSyntax.when(C)},O.prototype.whenTargetNamed=function(C){return this._bindingWhenSyntax.whenTargetNamed(C)},O.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},O.prototype.whenTargetTagged=function(C,P){return this._bindingWhenSyntax.whenTargetTagged(C,P)},O.prototype.whenInjectedInto=function(C){return this._bindingWhenSyntax.whenInjectedInto(C)},O.prototype.whenParentNamed=function(C){return this._bindingWhenSyntax.whenParentNamed(C)},O.prototype.whenParentTagged=function(C,P){return this._bindingWhenSyntax.whenParentTagged(C,P)},O.prototype.whenAnyAncestorIs=function(C){return this._bindingWhenSyntax.whenAnyAncestorIs(C)},O.prototype.whenNoAncestorIs=function(C){return this._bindingWhenSyntax.whenNoAncestorIs(C)},O.prototype.whenAnyAncestorNamed=function(C){return this._bindingWhenSyntax.whenAnyAncestorNamed(C)},O.prototype.whenAnyAncestorTagged=function(C,P){return this._bindingWhenSyntax.whenAnyAncestorTagged(C,P)},O.prototype.whenNoAncestorNamed=function(C){return this._bindingWhenSyntax.whenNoAncestorNamed(C)},O.prototype.whenNoAncestorTagged=function(C,P){return this._bindingWhenSyntax.whenNoAncestorTagged(C,P)},O.prototype.whenAnyAncestorMatches=function(C){return this._bindingWhenSyntax.whenAnyAncestorMatches(C)},O.prototype.whenNoAncestorMatches=function(C){return this._bindingWhenSyntax.whenNoAncestorMatches(C)},O.prototype.onActivation=function(C){return this._bindingOnSyntax.onActivation(C)},O}();A.BindingWhenOnSyntax=x},"v/6M":function(jt,A,a){var f=a("9drk"),o=a("CPGf");function x(O,C){return O!=null&&o(O,C,f)}jt.exports=x},v2z0:function(jt,A,a){"use strict";var f=a("CMID"),o=a("tqeG"),x=a("jg4I"),O=a("N2cT"),C=a("8DqP"),P=a("nHjW"),b=a("VI+R"),S=a("dckT"),y=a.n(S);function E(lt,Tt){var Ot=lt.length*Tt;if(lt.length===0)throw new Error("quantile requires at least one data point.");if(Tt<0||Tt>1)throw new Error("quantiles must be between 0 and 1");return Tt===1?lt[lt.length-1]:Tt===0?lt[0]:Ot%1!=0?lt[Math.ceil(Ot)-1]:lt.length%2==0?(lt[Ot-1]+lt[Ot])/2:lt[Ot]}function m(lt,Tt,Ot){var et=lt[Tt];lt[Tt]=lt[Ot],lt[Ot]=et}function T(lt,Tt,Ot,et){for(Ot=Ot||0,et=et||lt.length-1;et>Ot;){if(et-Ot>600){var H=et-Ot+1,pt=Tt-Ot+1,nt=Math.log(H),yt=.5*Math.exp(2*nt/3),Pt=.5*Math.sqrt(nt*yt*(H-yt)/H);pt-H/2<0&&(Pt*=-1);var Rt=Math.max(Ot,Math.floor(Tt-pt*yt/H+Pt)),Wt=Math.min(et,Math.floor(Tt+(H-pt)*yt/H+Pt));T(lt,Tt,Rt,Wt)}var Vt=lt[Tt],Lt=Ot,Ct=et;for(m(lt,Ot,Tt),lt[et]>Vt&&m(lt,Ot,et);Lt<Ct;){for(m(lt,Lt,Ct),Lt++,Ct--;lt[Lt]<Vt;)Lt++;for(;lt[Ct]>Vt;)Ct--}lt[Ot]===Vt?m(lt,Ot,Ct):(Ct++,m(lt,Ct,et)),Ct<=Tt&&(Ot=Ct+1),Tt<=Ct&&(et=Ct-1)}}function L(lt,Tt){var Ot=lt.slice();if(Array.isArray(Tt)){j(Ot,Tt);for(var et=[],H=0;H<Tt.length;H++)et[H]=E(Ot,Tt[H]);return et}else{var pt=W(Ot.length,Tt);return g(Ot,pt,0,Ot.length-1),E(Ot,Tt)}}function g(lt,Tt,Ot,et){Tt%1==0?T(lt,Tt,Ot,et):(Tt=Math.floor(Tt),T(lt,Tt,Ot,et),T(lt,Tt+1,Tt+1,et))}function j(lt,Tt){for(var Ot=[0],et=0;et<Tt.length;et++)Ot.push(W(lt.length,Tt[et]));Ot.push(lt.length-1),Ot.sort(U);for(var H=[0,Ot.length-1];H.length;){var pt=Math.ceil(H.pop()),nt=Math.floor(H.pop());if(!(pt-nt<=1)){var yt=Math.floor((nt+pt)/2);g(lt,Ot[yt],Math.floor(Ot[nt]),Math.ceil(Ot[pt])),H.push(nt,yt,yt,pt)}}}function U(lt,Tt){return lt-Tt}function W(lt,Tt){var Ot=lt*Tt;return Tt===1?lt-1:Tt===0?0:Ot%1!=0?Math.ceil(Ot)-1:lt%2==0?Ot-.5:Ot}var z=function(Tt){return{low:Object(x.min)(Tt),high:Object(x.max)(Tt),q1:L(Tt,.25),q3:L(Tt,.75),median:L(Tt,[.5]),minMax:[Object(x.min)(Tt),Object(x.max)(Tt)],quantile:[L(Tt,.25),L(Tt,.75)]}},N=function(Tt,Ot){var et=y.a.create(Tt,Ot);return{violinSize:et.map(function(H){return H.y}),violinY:et.map(function(H){return H.x})}},I=function(Tt){var Ot=Tt.xField,et=Tt.yField,H=Tt.seriesField,pt=Tt.data,nt=Tt.kde,yt={min:nt.min,max:nt.max,size:nt.sampleSize,width:nt.width};if(!H){var Pt=Object(x.groupBy)(pt,Ot);return Object.keys(Pt).map(function(Vt){var Lt=Pt[Vt],Ct=Lt.map(function(at){return at[et]});return Object(f.__assign)(Object(f.__assign)({x:Vt},N(Ct,yt)),z(Ct))})}var Rt=[],Wt=Object(x.groupBy)(pt,H);return Object.keys(Wt).forEach(function(Vt){var Lt=Object(x.groupBy)(Wt[Vt],Ot);return Object.keys(Lt).forEach(function(Ct){var at,It=Lt[Ct],Ft=It.map(function(xt){return xt[et]});Rt.push(Object(f.__assign)(Object(f.__assign)((at={x:Ct},at[H]=Vt,at),N(Ft,yt)),z(Ft)))})}),Rt},B="x",G="violinY",k="violinSize",V="minMax",tt="quantile",Q="median",K="violin_view",_="min_max_view",Y="quantile_view",q="median_view",ot=Object(P.c)({},o.b.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),ft=["low","high","q1","q3","median"],ct=[{type:"dodge",marginRatio:1/32}];function rt(lt){var Tt=lt.chart,Ot=lt.options;return Tt.data(I(Ot)),lt}function gt(lt){var Tt=lt.chart,Ot=lt.options,et=Ot.seriesField,H=Ot.color,pt=Ot.shape,nt=pt===void 0?"violin":pt,yt=Ot.violinStyle,Pt=Ot.tooltip,Rt=Tt.createView({id:K});return Object(C.h)({chart:Rt,options:{xField:B,yField:G,seriesField:et||B,sizeField:k,tooltip:Object(f.__assign)({fields:ft},Pt),violin:{style:yt,color:H,shape:nt}}}),Rt.geometries[0].adjust(ct),lt}function Et(lt){var Tt=lt.chart,Ot=lt.options,et=Ot.seriesField,H=Ot.color,pt=Ot.tooltip,nt=Ot.box;if(nt===!1)return lt;var yt=Tt.createView({id:_});Object(C.c)({chart:yt,options:{xField:B,yField:V,seriesField:et||B,tooltip:Object(f.__assign)({fields:ft},pt),interval:{color:H,size:1,style:{lineWidth:0}}}}),yt.geometries[0].adjust(ct);var Pt=Tt.createView({id:Y});Object(C.c)({chart:Pt,options:{xField:B,yField:tt,seriesField:et||B,tooltip:Object(f.__assign)({fields:ft},pt),interval:{color:H,size:8,style:{fillOpacity:1}}}}),Pt.geometries[0].adjust(ct);var Rt=Tt.createView({id:q});return Object(C.e)({chart:Rt,options:{xField:B,yField:Q,seriesField:et||B,tooltip:Object(f.__assign)({fields:ft},pt),point:{color:H,size:1,style:{fill:"white",lineWidth:0}}}}),Rt.geometries[0].adjust(ct),Pt.axis(!1),yt.axis(!1),Rt.axis(!1),Rt.legend(!1),yt.legend(!1),Pt.legend(!1),lt}function Gt(lt){var Tt,Ot=lt.chart,et=lt.options,H=et.meta,pt=et.xAxis,nt=et.yAxis,yt={},Pt=Object(P.c)(yt,H,(Tt={},Tt[B]=Object(f.__assign)({sync:!0},Object(P.r)(pt,b.a)),Tt[G]=Object(f.__assign)({sync:!0},Object(P.r)(nt,b.a)),Tt[V]=Object(f.__assign)({sync:G},Object(P.r)(nt,b.a)),Tt[tt]=Object(f.__assign)({sync:G},Object(P.r)(nt,b.a)),Tt[Q]=Object(f.__assign)({sync:G},Object(P.r)(nt,b.a)),Tt));return Ot.scale(Pt),lt}function Yt(lt){var Tt=lt.chart,Ot=lt.options,et=Ot.xAxis,H=Ot.yAxis,pt=Object(P.e)(Tt,K);return et===!1?pt.axis(B,!1):pt.axis(B,et),H===!1?pt.axis(G,!1):pt.axis(G,H),Tt.axis(!1),lt}function Xt(lt){var Tt=lt.chart,Ot=lt.options,et=Ot.legend,H=Ot.seriesField,pt=Ot.shape;if(et===!1)Tt.legend(!1);else{var nt=H||B,yt=Object(x.omit)(et,["selected"]);(!pt||!pt.startsWith("hollow"))&&(Object(x.get)(yt,["marker","style","lineWidth"])||Object(x.set)(yt,["marker","style","lineWidth"],0)),Tt.legend(nt,yt),Object(x.get)(et,"selected")&&Object(x.each)(Tt.views,function(Pt){return Pt.legend(nt,et)})}return lt}function vt(lt){var Tt=lt.chart,Ot=Object(P.e)(Tt,K);return Object(O.b)()(Object(f.__assign)(Object(f.__assign)({},lt),{chart:Ot})),lt}function mt(lt){var Tt=lt.chart,Ot=lt.options,et=Ot.animation;return Object(x.each)(Tt.views,function(H){typeof et=="boolean"?H.animate(et):H.animate(!0),Object(x.each)(H.geometries,function(pt){pt.animate(et)})}),lt}function ut(lt){return Object(P.f)(O.j,rt,gt,Et,Gt,O.k,Yt,Xt,O.c,vt,mt)(lt)}var st=function(lt){Object(f.__extends)(Tt,lt);function Tt(){var Ot=lt!==null&&lt.apply(this,arguments)||this;return Ot.type="violin",Ot}return Tt.getDefaultOptions=function(){return ot},Tt.prototype.changeData=function(Ot){this.updateOption({data:Ot}),this.chart.changeData(I(this.options))},Tt.prototype.getDefaultOptions=function(){return Tt.getDefaultOptions()},Tt.prototype.getSchemaAdaptor=function(){return ut},Tt}(o.b)},v4nE:function(jt,A,a){"use strict";a.d(A,"a",function(){return x});var f=a("tqeG"),o=a("nHjW"),x=Object(o.c)({},f.b.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}})},v5ut:function(jt,A,a){var f=a("XSdR"),o=a("hppO");jt.exports={run:x,cleanup:b};function x(S){var y=o.addDummyNode(S,"root",{},"_root"),E=C(S),m=f.max(f.values(E))-1,T=2*m+1;S.graph().nestingRoot=y,f.forEach(S.edges(),function(g){S.edge(g).minlen*=T});var L=P(S)+1;f.forEach(S.children(),function(g){O(S,y,T,L,m,E,g)}),S.graph().nodeRankFactor=T}function O(S,y,E,m,T,L,g){var j=S.children(g);if(!j.length){g!==y&&S.setEdge(y,g,{weight:0,minlen:E});return}var U=o.addBorderNode(S,"_bt"),W=o.addBorderNode(S,"_bb"),z=S.node(g);S.setParent(U,g),z.borderTop=U,S.setParent(W,g),z.borderBottom=W,f.forEach(j,function(N){O(S,y,E,m,T,L,N);var I=S.node(N),B=I.borderTop?I.borderTop:N,G=I.borderBottom?I.borderBottom:N,k=I.borderTop?m:2*m,V=B!==G?1:T-L[g]+1;S.setEdge(U,B,{weight:k,minlen:V,nestingEdge:!0}),S.setEdge(G,W,{weight:k,minlen:V,nestingEdge:!0})}),S.parent(g)||S.setEdge(y,U,{weight:0,minlen:T+L[g]})}function C(S){var y={};function E(m,T){var L=S.children(m);L&&L.length&&f.forEach(L,function(g){E(g,T+1)}),y[m]=T}return f.forEach(S.children(),function(m){E(m,1)}),y}function P(S){return f.reduce(S.edges(),function(y,E){return y+S.edge(E).weight},0)}function b(S){var y=S.graph();S.removeNode(y.nestingRoot),delete y.nestingRoot,f.forEach(S.edges(),function(E){var m=S.edge(E);m.nestingEdge&&S.removeEdge(E)})}},vA80:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var f=x(a("QArz")),o=a("Eqze");function x(P){return P&&P.__esModule?P:{default:P}}var O=function(b,S,y){typeof S!="number"&&(S=1e-6),typeof y!="number"&&(y=.85);for(var E=1,m=0,T=1e3,L=b.nodes,g=L===void 0?[]:L,j=b.edges,U=j===void 0?[]:j,W=g.length,z,N={},I={},B=0;B<W;++B){var G=g[B],k=G.id;N[k]=1/W,I[k]=1/W}for(var V=(0,f.default)(b);T>0&&E>S;){m=0;for(var B=0;B<W;++B){var G=g[B],k=G.id;if(z=0,V[G.id].inDegree===0)N[k]=0;else{for(var tt=(0,o.getNeighbors)(k,U,"source"),Q=0;Q<tt.length;++Q){var K=tt[Q],_=V[K].outDegree;_>0&&(z+=I[K]/_)}N[k]=y*z,m+=N[k]}}m=(1-m)/W,E=0;for(var B=0;B<W;++B){var G=g[B],k=G.id;z=N[k]+m,E+=Math.abs(z-I[k]),I[k]=z}T-=1}return I},C=O;A.default=C},vAzl:function(jt,A,a){"use strict";var f=a("/WN3"),o=a("jg4I"),x=a("3k0L"),O=a("5Kaj"),C=function(P){Object(f.b)(b,P);function b(S){var y=P.call(this,S)||this;y.cacheMap={},y.adjustDataArray=[],y.mergeData=[];var E=S.marginRatio,m=E===void 0?x.d:E,T=S.dodgeRatio,L=T===void 0?x.b:T,g=S.dodgeBy,j=S.intervalPadding,U=S.dodgePadding,W=S.xDimensionLength,z=S.groupNum,N=S.defaultSize,I=S.maxColumnWidth,B=S.minColumnWidth,G=S.columnWidthRatio;return y.marginRatio=m,y.dodgeRatio=L,y.dodgeBy=g,y.intervalPadding=j,y.dodgePadding=U,y.xDimensionLegenth=W,y.groupNum=z,y.defaultSize=N,y.maxColumnWidth=I,y.minColumnWidth=B,y.columnWidthRatio=G,y}return b.prototype.process=function(S){var y=o.clone(S),E=o.flatten(y),m=this.dodgeBy,T=m?o.group(E,m):y;return this.cacheMap={},this.adjustDataArray=T,this.mergeData=E,this.adjustData(T,E),this.adjustDataArray=[],this.mergeData=[],y},b.prototype.adjustDim=function(S,y,E,m){var T=this,L=this.getDistribution(S),g=this.groupData(E,S);return o.each(g,function(j,U){var W;y.length===1?W={pre:y[0]-1,next:y[0]+1}:W=T.getAdjustRange(S,parseFloat(U),y),o.each(j,function(z){var N=z[S],I=L[N],B=I.indexOf(m);z[S]=T.getDodgeOffset(W,B,I.length)})}),[]},b.prototype.getDodgeOffset=function(S,y,E){var m=this,T=m.dodgeRatio,L=m.marginRatio,g=m.intervalPadding,j=m.dodgePadding,U=S.pre,W=S.next,z=W-U,N;if(!o.isNil(g)&&o.isNil(j)&&g>=0){var I=this.getIntervalOnlyOffset(E,y);N=U+I}else if(!o.isNil(j)&&o.isNil(g)&&j>=0){var I=this.getDodgeOnlyOffset(E,y);N=U+I}else if(!o.isNil(g)&&!o.isNil(j)&&g>=0&&j>=0){var I=this.getIntervalAndDodgeOffset(E,y);N=U+I}else{var B=z*T/E,G=L*B,I=1/2*(z-E*B-(E-1)*G)+((y+1)*B+y*G)-1/2*B-1/2*z;N=(U+W)/2+I}return N},b.prototype.getIntervalOnlyOffset=function(S,y){var E=this,m=E.defaultSize,T=E.intervalPadding,L=E.xDimensionLegenth,g=E.groupNum,j=E.dodgeRatio,U=E.maxColumnWidth,W=E.minColumnWidth,z=E.columnWidthRatio,N=T/L,I=(1-(g-1)*N)/g*j/(S-1),B=((1-N*(g-1))/g-I*(S-1))/S;if(B=o.isNil(z)?B:1/g/S*z,!o.isNil(U)){var G=U/L;B=Math.min(B,G)}if(!o.isNil(W)){var k=W/L;B=Math.max(B,k)}B=m?m/L:B,I=((1-(g-1)*N)/g-S*B)/(S-1);var V=((1/2+y)*B+y*I+1/2*N)*g-N/2;return V},b.prototype.getDodgeOnlyOffset=function(S,y){var E=this,m=E.defaultSize,T=E.dodgePadding,L=E.xDimensionLegenth,g=E.groupNum,j=E.marginRatio,U=E.maxColumnWidth,W=E.minColumnWidth,z=E.columnWidthRatio,N=T/L,I=1*j/(g-1),B=((1-I*(g-1))/g-N*(S-1))/S;if(B=z?1/g/S*z:B,!o.isNil(U)){var G=U/L;B=Math.min(B,G)}if(!o.isNil(W)){var k=W/L;B=Math.max(B,k)}B=m?m/L:B,I=(1-(B*S+N*(S-1))*g)/(g-1);var V=((1/2+y)*B+y*N+1/2*I)*g-I/2;return V},b.prototype.getIntervalAndDodgeOffset=function(S,y){var E=this,m=E.intervalPadding,T=E.dodgePadding,L=E.xDimensionLegenth,g=E.groupNum,j=m/L,U=T/L,W=((1-j*(g-1))/g-U*(S-1))/S,z=((1/2+y)*W+y*U+1/2*j)*g-j/2;return z},b.prototype.getDistribution=function(S){var y=this.adjustDataArray,E=this.cacheMap,m=E[S];return m||(m={},o.each(y,function(T,L){var g=o.valuesOfKey(T,S);g.length||g.push(0),o.each(g,function(j){m[j]||(m[j]=[]),m[j].push(L)})}),E[S]=m),m},b}(O.a);A.a=C},vHs8:function(jt,A,a){"use strict";a.d(A,"b",function(){return O}),a.d(A,"a",function(){return C});var f=a("CMID"),o=a("jg4I"),x=a("m8bt");function O(P,b,S,y){var E=Object(o.reduce)(P,function(m,T){var L=T[S],g=m.has(L)?m.get(L):0,j=T[b];return g=Object(x.b)(j)?g+j:g,m.set(L,g),m},new Map);return Object(o.map)(P,function(m){var T,L=m[b],g=m[S],j=Object(x.b)(L)?L/E.get(g):0;return Object(f.__assign)(Object(f.__assign)({},m),(T={},T[y]=j,T))})}function C(P,b,S,y,E){return E?O(P,b,S,y):P}},vQYD:function(jt,A,a){"use strict";var f=a("CMID"),o=a("4Qiu"),x=a("RxlK"),O=function(P){Object(f.__extends)(b,P);function b(S){return P.call(this,S)||this}return b.prototype._isInBBox=function(S,y){var E=this.getBBox();return E.minX<=S&&E.maxX>=S&&E.minY<=y&&E.maxY>=y},b.prototype.afterAttrsChange=function(S){P.prototype.afterAttrsChange.call(this,S),this.clearCacheBBox()},b.prototype.getBBox=function(){var S=this.cfg.bbox;return S||(S=this.calculateBBox(),this.set("bbox",S)),S},b.prototype.getCanvasBBox=function(){var S=this.cfg.canvasBBox;return S||(S=this.calculateCanvasBBox(),this.set("canvasBBox",S)),S},b.prototype.applyMatrix=function(S){P.prototype.applyMatrix.call(this,S),this.set("canvasBBox",null)},b.prototype.calculateCanvasBBox=function(){var S=this.getBBox(),y=this.getTotalMatrix(),E=S.minX,m=S.minY,T=S.maxX,L=S.maxY;if(y){var g=Object(x.c)(y,[S.minX,S.minY]),j=Object(x.c)(y,[S.maxX,S.minY]),U=Object(x.c)(y,[S.minX,S.maxY]),W=Object(x.c)(y,[S.maxX,S.maxY]);E=Math.min(g[0],j[0],U[0],W[0]),T=Math.max(g[0],j[0],U[0],W[0]),m=Math.min(g[1],j[1],U[1],W[1]),L=Math.max(g[1],j[1],U[1],W[1])}var z=this.attrs;if(z.shadowColor){var N=z.shadowBlur,I=N===void 0?0:N,B=z.shadowOffsetX,G=B===void 0?0:B,k=z.shadowOffsetY,V=k===void 0?0:k,tt=E-I+G,Q=T+I+G,K=m-I+V,_=L+I+V;E=Math.min(E,tt),T=Math.max(T,Q),m=Math.min(m,K),L=Math.max(L,_)}return{x:E,y:m,minX:E,minY:m,maxX:T,maxY:L,width:T-E,height:L-m}},b.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},b.prototype.isClipShape=function(){return this.get("isClipShape")},b.prototype.isInShape=function(S,y){return!1},b.prototype.isOnlyHitBox=function(){return!1},b.prototype.isHit=function(S,y){var E=this.get("startArrowShape"),m=this.get("endArrowShape"),T=[S,y,1];T=this.invertFromMatrix(T);var L=T[0],g=T[1],j=this._isInBBox(L,g);return this.isOnlyHitBox()?j:!!(j&&!this.isClipped(L,g)&&(this.isInShape(L,g)||E&&E.isHit(L,g)||m&&m.isHit(L,g)))},b}(o.a),C=O},vdmW:function(jt,A){},viQC:function(jt,A,a){"use strict";var f=a("jg4I"),o=/rgba?\(([\s.,0-9]+)\)/,x=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,P=function(z){return/^[r,R,L,l]{1}[\s]*\(/.test(z)},b=function(){var z=document.createElement("i");return z.title="Web Colour Picker",z.style.display="none",document.body.appendChild(z),z},S=function(z,N,I,B){return z[B]+(N[B]-z[B])*I};function y(W){return"#"+m(W[0])+m(W[1])+m(W[2])}var E=function(z){return[parseInt(z.substr(1,2),16),parseInt(z.substr(3,2),16),parseInt(z.substr(5,2),16)]},m=function(z){var N=Math.round(z).toString(16);return N.length===1?"0"+N:N},T=function(z,N){var I=isNaN(Number(N))||N<0?0:N>1?1:Number(N),B=z.length-1,G=Math.floor(B*I),k=B*I-G,V=z[G],tt=G===B?V:z[G+1];return y([S(V,tt,k,0),S(V,tt,k,1),S(V,tt,k,2)])},L,g=function(z){if(z[0]==="#"&&z.length===7)return z;L||(L=b()),L.style.color=z;var N=document.defaultView.getComputedStyle(L,"").getPropertyValue("color"),I=o.exec(N),B=I[1].split(/\s*,\s*/).map(function(G){return Number(G)});return N=y(B),N},j=function(z){var N=Object(f.isString)(z)?z.split("-"):z,I=Object(f.map)(N,function(B){return E(B.indexOf("#")===-1?g(B):B)});return function(B){return T(I,B)}},U=function(z){if(P(z)){var N,I=void 0;if(z[0]==="l"){var B=x.exec(z),G=+B[1]+90;I=B[2],N="linear-gradient("+G+"deg, "}else if(z[0]==="r"){N="radial-gradient(";var B=O.exec(z);I=B[4]}var k=I.match(C);return Object(f.each)(k,function(V,tt){var Q=V.split(":");N+=Q[1]+" "+Q[0]*100+"%",tt!==k.length-1&&(N+=", ")}),N+=")",N}return z};A.a={rgb2arr:E,gradient:j,toRGB:Object(f.memoize)(g),toCSSGradient:U}},vnNs:function(jt,A){},vncI:function(jt,A,a){"use strict";a.d(A,"a",function(){return P});var f=a("CMID"),o=a("tqeG"),x=a("x9kB"),O=a("C20/"),C=a("0dxb"),P=function(b){Object(f.__extends)(S,b);function S(){var y=b!==null&&b.apply(this,arguments)||this;return y.type="tiny-line",y}return S.getDefaultOptions=function(){return O.a},S.prototype.changeData=function(y){this.updateOption({data:y});var E=this,m=E.chart,T=E.options;Object(x.b)({chart:m,options:T}),m.changeData(Object(C.a)(y))},S.prototype.getDefaultOptions=function(){return S.getDefaultOptions()},S.prototype.getSchemaAdaptor=function(){return x.a},S}(o.b)},vpv6:function(jt,A,a){var f=a("gXEi").default,o=a("cW+D");function x(O,C){return C&&(f(C)==="object"||typeof C=="function")?C:o(O)}jt.exports=x,jt.exports.default=jt.exports,jt.exports.__esModule=!0},vqXp:function(jt,A){function a(f){return function(){return f}}jt.exports=a},wMWh:function(jt,A){jt.exports=a;function a(f,o,x){var O=o[0],C=o[1];return f[0]=x[0]*O+x[3]*C+x[6],f[1]=x[1]*O+x[4]*C+x[7],f}},wOqf:function(jt,A,a){"use strict";var f=this&&this.__spreadArray||function(j,U){for(var W=0,z=U.length,N=j.length;W<z;W++,N++)j[N]=U[W];return j};Object.defineProperty(A,"__esModule",{value:!0}),A.getFunctionName=A.getBaseClassDependencyCount=A.getDependencies=void 0;var o=a("tjpL"),x=a("196R"),O=a("2+60"),C=a("9L8m"),P=a("Rph/");Object.defineProperty(A,"getFunctionName",{enumerable:!0,get:function(){return P.getFunctionName}});var b=a("Y26w");function S(j,U){var W=P.getFunctionName(U),z=y(j,W,U,!1);return z}A.getDependencies=S;function y(j,U,W,z){var N=j.getConstructorMetadata(W),I=N.compilerGeneratedMetadata;if(I===void 0){var B=x.MISSING_INJECTABLE_ANNOTATION+" "+U+".";throw new Error(B)}var G=N.userGeneratedMetadata,k=Object.keys(G),V=W.length===0&&k.length>0,tt=k.length>W.length,Q=V||tt?k.length:W.length,K=m(z,U,I,G,Q),_=T(j,W),Y=f(f([],K),_);return Y}function E(j,U,W,z,N){var I=N[j.toString()]||[],B=g(I),G=B.unmanaged!==!0,k=z[j],V=B.inject||B.multiInject;if(k=V||k,k instanceof o.LazyServiceIdentifer&&(k=k.unwrap()),G){var tt=k===Object,Q=k===Function,K=k===void 0,_=tt||Q||K;if(!U&&_){var Y=x.MISSING_INJECT_ANNOTATION+" argument "+j+" in class "+W+".";throw new Error(Y)}var q=new b.Target(O.TargetTypeEnum.ConstructorArgument,B.targetName,k);return q.metadata=I,q}return null}function m(j,U,W,z,N){for(var I=[],B=0;B<N;B++){var G=B,k=E(G,j,U,W,z);k!==null&&I.push(k)}return I}function T(j,U){for(var W=j.getPropertiesMetadata(U),z=[],N=Object.keys(W),I=0,B=N;I<B.length;I++){var G=B[I],k=W[G],V=g(W[G]),tt=V.targetName||G,Q=V.inject||V.multiInject,K=new b.Target(O.TargetTypeEnum.ClassProperty,tt,Q);K.metadata=k,z.push(K)}var _=Object.getPrototypeOf(U.prototype).constructor;if(_!==Object){var Y=T(j,_);z=f(f([],z),Y)}return z}function L(j,U){var W=Object.getPrototypeOf(U.prototype).constructor;if(W!==Object){var z=P.getFunctionName(W),N=y(j,z,W,!0),I=N.map(function(k){return k.metadata.filter(function(V){return V.key===C.UNMANAGED_TAG})}),B=[].concat.apply([],I).length,G=N.length-B;return G>0?G:L(j,W)}else return 0}A.getBaseClassDependencyCount=L;function g(j){var U={};return j.forEach(function(W){U[W.key.toString()]=W.value}),{inject:U[C.INJECT_TAG],multiInject:U[C.MULTI_INJECT_TAG],targetName:U[C.NAME_TAG],unmanaged:U[C.UNMANAGED_TAG]}}},wUId:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});var f=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},"weX+":function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var f;(function(Y){Y.TextureCompressionBC="texture-compression-bc"})(f=A.ExtensionName||(A.ExtensionName={}));var o;(function(Y){Y.ClampToEdge="clamp-to-edge",Y.Repeat="repeat",Y.MirrorRepeat="mirror-repeat"})(o=A.AddressMode||(A.AddressMode={}));var x;(function(Y){Y.UniformBuffer="uniform-buffer",Y.StorageBuffer="storage-buffer",Y.ReadonlyStorageBuffer="readonly-storage-buffer",Y.Sampler="sampler",Y.ComparisonSampler="comparison-sampler",Y.SampledTexture="sampled-texture",Y.ReadonlyStorageTexture="readonly-storage-texture",Y.WriteonlyStorageTexture="writeonly-storage-texture"})(x=A.BindingType||(A.BindingType={}));var O;(function(Y){Y.Zero="zero",Y.One="one",Y.SrcColor="src-color",Y.OneMinusSrcColor="one-minus-src-color",Y.SrcAlpha="src-alpha",Y.OneMinusSrcAlpha="one-minus-src-alpha",Y.DstColor="dst-color",Y.OneMinusDstColor="one-minus-dst-color",Y.DstAlpha="dst-alpha",Y.OneMinusDstAlpha="one-minus-dst-alpha",Y.SrcAlphaSaturated="src-alpha-saturated",Y.BlendColor="blend-color",Y.OneMinusBlendColor="one-minus-blend-color"})(O=A.BlendFactor||(A.BlendFactor={}));var C;(function(Y){Y.Add="add",Y.Subtract="subtract",Y.ReverseSubtract="reverse-subtract",Y.Min="min",Y.Max="max"})(C=A.BlendOperation||(A.BlendOperation={}));var P;(function(Y){Y.Never="never",Y.Less="less",Y.Equal="equal",Y.LessEqual="less-equal",Y.Greater="greater",Y.NotEqual="not-equal",Y.GreaterEqual="greater-equal",Y.Always="always"})(P=A.CompareFunction||(A.CompareFunction={}));var b;(function(Y){Y.None="none",Y.Front="front",Y.Back="back"})(b=A.CullMode||(A.CullMode={}));var S;(function(Y){Y.Nearest="nearest",Y.Linear="linear"})(S=A.FilterMode||(A.FilterMode={}));var y;(function(Y){Y.CCW="ccw",Y.CW="cw"})(y=A.FrontFace||(A.FrontFace={}));var E;(function(Y){Y.Uint16="uint16",Y.Uint32="uint32"})(E=A.IndexFormat||(A.IndexFormat={}));var m;(function(Y){Y.Vertex="vertex",Y.Instance="instance"})(m=A.InputStepMode||(A.InputStepMode={}));var T;(function(Y){Y.Load="load"})(T=A.LoadOp||(A.LoadOp={}));var L;(function(Y){Y.PointList="point-list",Y.LineList="line-list",Y.LineStrip="line-strip",Y.TriangleList="triangle-list",Y.TriangleStrip="triangle-strip"})(L=A.PrimitiveTopology||(A.PrimitiveTopology={}));var g;(function(Y){Y.Keep="keep",Y.Zero="zero",Y.Replace="replace",Y.Invert="invert",Y.IncrementClamp="increment-clamp",Y.DecrementClamp="decrement-clamp",Y.IncrementWrap="increment-wrap",Y.DecrementWrap="decrement-wrap"})(g=A.StencilOperation||(A.StencilOperation={}));var j;(function(Y){Y.Store="store",Y.Clear="clear"})(j=A.StoreOp||(A.StoreOp={}));var U;(function(Y){Y.E1d="1d",Y.E2d="2d",Y.E3d="3d"})(U=A.TextureDimension||(A.TextureDimension={}));var W;(function(Y){Y.R8Unorm="r8unorm",Y.R8Snorm="r8snorm",Y.R8Uint="r8uint",Y.R8Sint="r8sint",Y.R16Uint="r16uint",Y.R16Sint="r16sint",Y.R16Float="r16float",Y.RG8Unorm="rg8unorm",Y.RG8Snorm="rg8snorm",Y.RG8Uint="rg8uint",Y.RG8Sint="rg8sint",Y.R32Uint="r32uint",Y.R32Sint="r32sint",Y.R32Float="r32float",Y.RG16Uint="rg16uint",Y.RG16Sint="rg16sint",Y.RG16Float="rg16float",Y.RGBA8Unorm="rgba8unorm",Y.RGBA8UnormSRGB="rgba8unorm-srgb",Y.RGBA8Snorm="rgba8snorm",Y.RGBA8Uint="rgba8uint",Y.RGBA8Sint="rgba8sint",Y.BGRA8Unorm="bgra8unorm",Y.BGRA8UnormSRGB="bgra8unorm-srgb",Y.RGB10A2Unorm="rgb10a2unorm",Y.RG11B10Float="rg11b10float",Y.RG32Uint="rg32uint",Y.RG32Sint="rg32sint",Y.RG32Float="rg32float",Y.RGBA16Uint="rgba16uint",Y.RGBA16Sint="rgba16sint",Y.RGBA16Float="rgba16float",Y.RGBA32Uint="rgba32uint",Y.RGBA32Sint="rgba32sint",Y.RGBA32Float="rgba32float",Y.Depth32Float="depth32float",Y.Depth24Plus="depth24plus",Y.Depth24PlusStencil8="depth24plus-stencil8"})(W=A.TextureFormat||(A.TextureFormat={}));var z;(function(Y){Y.Float="float",Y.Sint="sint",Y.Uint="uint"})(z=A.TextureComponentType||(A.TextureComponentType={}));var N;(function(Y){Y.E1d="1d",Y.E2d="2d",Y.E2dArray="2d-array",Y.Cube="cube",Y.CubeArray="cube-array",Y.E3d="3d"})(N=A.TextureViewDimension||(A.TextureViewDimension={}));var I;(function(Y){Y.Uchar2="uchar2",Y.Uchar4="uchar4",Y.Char2="char2",Y.Char4="char4",Y.Uchar2Norm="uchar2norm",Y.Uchar4Norm="uchar4norm",Y.Char2Norm="char2norm",Y.Char4Norm="char4norm",Y.Ushort2="ushort2",Y.Ushort4="ushort4",Y.Short2="short2",Y.Short4="short4",Y.Ushort2Norm="ushort2norm",Y.Ushort4Norm="ushort4norm",Y.Short2Norm="short2norm",Y.Short4Norm="short4norm",Y.Half2="half2",Y.Half4="half4",Y.Float="float",Y.Float2="float2",Y.Float3="float3",Y.Float4="float4",Y.Uint="uint",Y.Uint2="uint2",Y.Uint3="uint3",Y.Uint4="uint4",Y.Int="int",Y.Int2="int2",Y.Int3="int3",Y.Int4="int4"})(I=A.VertexFormat||(A.VertexFormat={}));var B;(function(Y){Y.All="all",Y.StencilOnly="stencil-only",Y.DepthOnly="depth-only"})(B=A.TextureAspect||(A.TextureAspect={}));var G;(function(Y){Y.Error="error",Y.Warning="warning",Y.Info="info"})(G=A.CompilationMessageType||(A.CompilationMessageType={}));var k;(function(Y){Y.Occlusion="occlusion"})(k=A.QueryType||(A.QueryType={}));var V;(function(Y){Y[Y.MapRead=1]="MapRead",Y[Y.MapWrite=2]="MapWrite",Y[Y.CopySrc=4]="CopySrc",Y[Y.CopyDst=8]="CopyDst",Y[Y.Index=16]="Index",Y[Y.Vertex=32]="Vertex",Y[Y.Uniform=64]="Uniform",Y[Y.Storage=128]="Storage",Y[Y.Indirect=256]="Indirect",Y[Y.QueryResolve=512]="QueryResolve"})(V=A.BufferUsage||(A.BufferUsage={}));var tt;(function(Y){Y[Y.Red=1]="Red",Y[Y.Green=2]="Green",Y[Y.Blue=4]="Blue",Y[Y.Alpha=8]="Alpha",Y[Y.All=15]="All"})(tt=A.ColorWrite||(A.ColorWrite={}));var Q;(function(Y){Y[Y.Vertex=1]="Vertex",Y[Y.Fragment=2]="Fragment",Y[Y.Compute=4]="Compute"})(Q=A.ShaderStage||(A.ShaderStage={}));var K;(function(Y){Y[Y.CopySrc=1]="CopySrc",Y[Y.CopyDst=2]="CopyDst",Y[Y.Sampled=4]="Sampled",Y[Y.Storage=8]="Storage",Y[Y.OutputAttachment=16]="OutputAttachment"})(K=A.TextureUsage||(A.TextureUsage={}));var _;(function(Y){Y[Y.Read=1]="Read",Y[Y.Write=2]="Write"})(_=A.MapMode||(A.MapMode={}))},"wfm+":function(jt,A,a){"use strict";var f=this&&this.__spreadArray||function(y,E){for(var m=0,T=E.length,L=y.length;m<T;m++,L++)y[L]=E[m];return y};Object.defineProperty(A,"__esModule",{value:!0}),A.resolveInstance=void 0;var o=a("196R"),x=a("2+60"),O=a("9L8m");function C(y,E,m){var T=E.filter(function(g){return g.target!==null&&g.target.type===x.TargetTypeEnum.ClassProperty}),L=T.map(m);return T.forEach(function(g,j){var U="";U=g.target.name.value();var W=L[j];y[U]=W}),y}function P(y,E){return new(y.bind.apply(y,f([void 0],E)))}function b(y,E){if(Reflect.hasMetadata(O.POST_CONSTRUCT,y)){var m=Reflect.getMetadata(O.POST_CONSTRUCT,y);try{E[m.value]()}catch(T){throw new Error(o.POST_CONSTRUCT_ERROR(y.name,T.message))}}}function S(y,E,m){var T=null;if(E.length>0){var L=E.filter(function(j){return j.target!==null&&j.target.type===x.TargetTypeEnum.ConstructorArgument}),g=L.map(m);T=P(y,g),T=C(T,E,m)}else T=new y;return b(y,T),T}A.resolveInstance=S},wvSg:function(jt,A,a){var f=a("TIpG"),o=a("2Swa");function x(O){return o(O)&&f(O)}jt.exports=x},"x+i1":function(jt,A,a){var f=a("3sCP"),o=a("5MHJ"),x=a("VL8K"),O=a("+Gi7"),C=a("TIpG"),P=a("lDzS"),b=a("/g2i"),S=a("lOrw"),y="[object Map]",E="[object Set]",m=Object.prototype,T=m.hasOwnProperty;function L(g){if(g==null)return!0;if(C(g)&&(O(g)||typeof g=="string"||typeof g.splice=="function"||P(g)||S(g)||x(g)))return!g.length;var j=o(g);if(j==y||j==E)return!g.size;if(b(g))return!f(g).length;for(var U in g)if(T.call(g,U))return!1;return!0}jt.exports=L},x3DA:function(jt,A,a){"use strict";a.d(A,"e",function(){return x}),a.d(A,"f",function(){return O}),a.d(A,"d",function(){return C}),a.d(A,"a",function(){return b}),a.d(A,"b",function(){return S}),a.d(A,"c",function(){return y});var f=a("sxZn"),o=[1,0,0,0,1,0,0,0,1];function x(E,m,T){if(T===void 0&&(T=o),!m)return null;var L=f.a.transform(T,[["t",-E.x,-E.y],["r",m],["t",E.x,E.y]]);return L}function O(E,m){return!E.x&&!E.y?null:f.a.transform(m||o,[["t",E.x,E.y]])}function C(E){var m=[1,0,0],T=[0,0,0];return f.d.transformMat3(T,m,E),Math.atan2(T[1],T[0])}function P(E,m){var T=[0,0];return f.c.transformMat3(T,m,E),T}function b(E,m){var T=P(E,[m.minX,m.minY]),L=P(E,[m.maxX,m.minY]),g=P(E,[m.minX,m.maxY]),j=P(E,[m.maxX,m.maxY]),U=Math.min(T[0],L[0],g[0],j[0]),W=Math.max(T[0],L[0],g[0],j[0]),z=Math.min(T[1],L[1],g[1],j[1]),N=Math.max(T[1],L[1],g[1],j[1]);return{x:U,y:z,minX:U,minY:z,maxX:W,maxY:N,width:W-U,height:N-z}}function S(E,m,T,L){if(m){var g=x({x:T,y:L},m,E.getMatrix());E.setMatrix(g)}}function y(E,m,T){var L=O({x:m,y:T});E.attr("matrix",L)}},x9kB:function(jt,A,a){"use strict";a.d(A,"a",function(){return S});var f=a("nHjW"),o=a("N2cT"),x=a("8DqP"),O=a("KN8b");a.d(A,"b",function(){return O.b});var C=a("0dxb"),P=a("C20/");function b(y){var E=y.chart,m=y.options,T=m.data,L=m.color,g=m.lineStyle,j=m.point,U=j==null?void 0:j.state,W=Object(C.a)(T);E.data(W);var z=Object(f.c)({},y,{options:{xField:P.c,yField:P.d,line:{color:L,style:g},point:j}}),N=Object(f.c)({},z,{options:{tooltip:!1,state:U}});return Object(x.d)(z),Object(x.e)(N),E.axis(!1),E.legend(!1),y}function S(y){return Object(f.f)(b,O.b,o.j,o.k,o.a,Object(o.b)())(y)}},xO9G:function(jt,A,a){"use strict";a.d(A,"a",function(){return P});var f=a("16OP"),o=a.n(f),x=a("7Nom"),O=a.n(x),C=a("99LQ"),P=function(){function b(S,y){o()(this,b),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=S||0,this.normal=y||C.e.fromValues(0,1,0),this.updatePNVertexFlag()}return O()(b,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(y){return C.e.dot(y,this.normal)-this.distance}},{key:"normalize",value:function(){var y=1/C.e.len(this.normal);C.e.scale(this.normal,this.normal,y),this.distance*=y}},{key:"intersectsLine",value:function(y,E,m){var T=this.distanceToPoint(y),L=this.distanceToPoint(E),g=T/(T-L),j=g>=0&&g<=1;return j&&m&&C.e.lerp(m,y,E,g),j}}]),b}()},xOhq:function(jt,A,a){"use strict";var f=a("CMID"),o=a("nZiY"),x=a("tSnd"),O=function(C){Object(f.__extends)(P,C);function P(b){var S=C.call(this)||this;S.destroyed=!1;var y=S.getDefaultCfg();return S.cfg=Object(x.i)(y,b),S}return P.prototype.getDefaultCfg=function(){return{}},P.prototype.get=function(b){return this.cfg[b]},P.prototype.set=function(b,S){this.cfg[b]=S},P.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},P}(o.a);A.a=O},xXxO:function(jt,A,a){"use strict";var f=a("riA0"),o=a("xvuM"),x=a.n(o),O=a("7Xsh"),C=a.n(O),P=a("8e3m");a.d(A,"Event",function(){return P.a});var b=a("OEJE");a.d(A,"Base",function(){return b.a});var S=a("mX1U"),y=a("tDsh"),E=a("vQYD"),m=a("UngR"),T=a("n9X1"),L=a("08EK"),g=a("RxlK"),j=a("k+AY"),U="0.5.6"},xvuM:function(jt,A){},"yK/m":function(jt,A,a){"use strict";var f=function(at,It,Ft){at.prototype=It.prototype=Ft,Ft.constructor=at};function o(at,It){var Ft=Object.create(at.prototype);for(var xt in It)Ft[xt]=It[xt];return Ft}function x(){}var O=.7,C=1/O,P="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y=/^#([0-9a-f]{3,8})$/,E=new RegExp("^rgb\\("+[P,P,P]+"\\)$"),m=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),T=new RegExp("^rgba\\("+[P,P,P,b]+"\\)$"),L=new RegExp("^rgba\\("+[S,S,S,b]+"\\)$"),g=new RegExp("^hsl\\("+[b,S,S]+"\\)$"),j=new RegExp("^hsla\\("+[b,S,S,b]+"\\)$"),U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f(x,I,{copy:function(It){return Object.assign(new this.constructor,this,It)},displayable:function(){return this.rgb().displayable()},hex:W,formatHex:W,formatHsl:z,formatRgb:N,toString:N});function W(){return this.rgb().formatHex()}function z(){return q(this).formatHsl()}function N(){return this.rgb().formatRgb()}function I(at){var It,Ft;return at=(at+"").trim().toLowerCase(),(It=y.exec(at))?(Ft=It[1].length,It=parseInt(It[1],16),Ft===6?B(It):Ft===3?new tt(It>>8&15|It>>4&240,It>>4&15|It&240,(It&15)<<4|It&15,1):Ft===8?G(It>>24&255,It>>16&255,It>>8&255,(It&255)/255):Ft===4?G(It>>12&15|It>>8&240,It>>8&15|It>>4&240,It>>4&15|It&240,((It&15)<<4|It&15)/255):null):(It=E.exec(at))?new tt(It[1],It[2],It[3],1):(It=m.exec(at))?new tt(It[1]*255/100,It[2]*255/100,It[3]*255/100,1):(It=T.exec(at))?G(It[1],It[2],It[3],It[4]):(It=L.exec(at))?G(It[1]*255/100,It[2]*255/100,It[3]*255/100,It[4]):(It=g.exec(at))?Y(It[1],It[2]/100,It[3]/100,1):(It=j.exec(at))?Y(It[1],It[2]/100,It[3]/100,It[4]):U.hasOwnProperty(at)?B(U[at]):at==="transparent"?new tt(NaN,NaN,NaN,0):null}function B(at){return new tt(at>>16&255,at>>8&255,at&255,1)}function G(at,It,Ft,xt){return xt<=0&&(at=It=Ft=NaN),new tt(at,It,Ft,xt)}function k(at){return at instanceof x||(at=I(at)),at?(at=at.rgb(),new tt(at.r,at.g,at.b,at.opacity)):new tt}function V(at,It,Ft,xt){return arguments.length===1?k(at):new tt(at,It,Ft,xt==null?1:xt)}function tt(at,It,Ft,xt){this.r=+at,this.g=+It,this.b=+Ft,this.opacity=+xt}f(tt,V,o(x,{brighter:function(It){return It=It==null?C:Math.pow(C,It),new tt(this.r*It,this.g*It,this.b*It,this.opacity)},darker:function(It){return It=It==null?O:Math.pow(O,It),new tt(this.r*It,this.g*It,this.b*It,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q,formatHex:Q,formatRgb:K,toString:K}));function Q(){return"#"+_(this.r)+_(this.g)+_(this.b)}function K(){var at=this.opacity;return at=isNaN(at)?1:Math.max(0,Math.min(1,at)),(at===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(at===1?")":", "+at+")")}function _(at){return at=Math.max(0,Math.min(255,Math.round(at)||0)),(at<16?"0":"")+at.toString(16)}function Y(at,It,Ft,xt){return xt<=0?at=It=Ft=NaN:Ft<=0||Ft>=1?at=It=NaN:It<=0&&(at=NaN),new ft(at,It,Ft,xt)}function q(at){if(at instanceof ft)return new ft(at.h,at.s,at.l,at.opacity);if(at instanceof x||(at=I(at)),!at)return new ft;if(at instanceof ft)return at;at=at.rgb();var It=at.r/255,Ft=at.g/255,xt=at.b/255,Nt=Math.min(It,Ft,xt),Ht=Math.max(It,Ft,xt),Bt=NaN,Ut=Ht-Nt,Jt=(Ht+Nt)/2;return Ut?(It===Ht?Bt=(Ft-xt)/Ut+(Ft<xt)*6:Ft===Ht?Bt=(xt-It)/Ut+2:Bt=(It-Ft)/Ut+4,Ut/=Jt<.5?Ht+Nt:2-Ht-Nt,Bt*=60):Ut=Jt>0&&Jt<1?0:Bt,new ft(Bt,Ut,Jt,at.opacity)}function ot(at,It,Ft,xt){return arguments.length===1?q(at):new ft(at,It,Ft,xt==null?1:xt)}function ft(at,It,Ft,xt){this.h=+at,this.s=+It,this.l=+Ft,this.opacity=+xt}f(ft,ot,o(x,{brighter:function(It){return It=It==null?C:Math.pow(C,It),new ft(this.h,this.s,this.l*It,this.opacity)},darker:function(It){return It=It==null?O:Math.pow(O,It),new ft(this.h,this.s,this.l*It,this.opacity)},rgb:function(){var It=this.h%360+(this.h<0)*360,Ft=isNaN(It)||isNaN(this.s)?0:this.s,xt=this.l,Nt=xt+(xt<.5?xt:1-xt)*Ft,Ht=2*xt-Nt;return new tt(ct(It>=240?It-240:It+120,Ht,Nt),ct(It,Ht,Nt),ct(It<120?It+240:It-120,Ht,Nt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var It=this.opacity;return It=isNaN(It)?1:Math.max(0,Math.min(1,It)),(It===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(It===1?")":", "+It+")")}}));function ct(at,It,Ft){return(at<60?It+(Ft-It)*at/60:at<180?Ft:at<240?It+(Ft-It)*(240-at)/60:It)*255}function rt(at,It,Ft,xt,Nt){var Ht=at*at,Bt=Ht*at;return((1-3*at+3*Ht-Bt)*It+(4-6*Ht+3*Bt)*Ft+(1+3*at+3*Ht-3*Bt)*xt+Bt*Nt)/6}var gt=function(at){var It=at.length-1;return function(Ft){var xt=Ft<=0?Ft=0:Ft>=1?(Ft=1,It-1):Math.floor(Ft*It),Nt=at[xt],Ht=at[xt+1],Bt=xt>0?at[xt-1]:2*Nt-Ht,Ut=xt<It-1?at[xt+2]:2*Ht-Nt;return rt((Ft-xt/It)*It,Bt,Nt,Ht,Ut)}},Et=function(at){var It=at.length;return function(Ft){var xt=Math.floor(((Ft%=1)<0?++Ft:Ft)*It),Nt=at[(xt+It-1)%It],Ht=at[xt%It],Bt=at[(xt+1)%It],Ut=at[(xt+2)%It];return rt((Ft-xt/It)*It,Nt,Ht,Bt,Ut)}},Gt=function(at){return function(){return at}};function Yt(at,It){return function(Ft){return at+Ft*It}}function Xt(at,It,Ft){return at=Math.pow(at,Ft),It=Math.pow(It,Ft)-at,Ft=1/Ft,function(xt){return Math.pow(at+xt*It,Ft)}}function vt(at,It){var Ft=It-at;return Ft?Yt(at,Ft>180||Ft<-180?Ft-360*Math.round(Ft/360):Ft):Gt(isNaN(at)?It:at)}function mt(at){return(at=+at)==1?ut:function(It,Ft){return Ft-It?Xt(It,Ft,at):Gt(isNaN(It)?Ft:It)}}function ut(at,It){var Ft=It-at;return Ft?Yt(at,Ft):Gt(isNaN(at)?It:at)}var st=function at(It){var Ft=mt(It);function xt(Nt,Ht){var Bt=Ft((Nt=V(Nt)).r,(Ht=V(Ht)).r),Ut=Ft(Nt.g,Ht.g),Jt=Ft(Nt.b,Ht.b),oe=ut(Nt.opacity,Ht.opacity);return function(ge){return Nt.r=Bt(ge),Nt.g=Ut(ge),Nt.b=Jt(ge),Nt.opacity=oe(ge),Nt+""}}return xt.gamma=at,xt}(1);function lt(at){return function(It){var Ft=It.length,xt=new Array(Ft),Nt=new Array(Ft),Ht=new Array(Ft),Bt,Ut;for(Bt=0;Bt<Ft;++Bt)Ut=V(It[Bt]),xt[Bt]=Ut.r||0,Nt[Bt]=Ut.g||0,Ht[Bt]=Ut.b||0;return xt=at(xt),Nt=at(Nt),Ht=at(Ht),Ut.opacity=1,function(Jt){return Ut.r=xt(Jt),Ut.g=Nt(Jt),Ut.b=Ht(Jt),Ut+""}}}var Tt=lt(gt),Ot=lt(Et),et=a("qh6B"),H=function(at,It){var Ft=new Date;return at=+at,It=+It,function(xt){return Ft.setTime(at*(1-xt)+It*xt),Ft}},pt=function(at,It){return at=+at,It=+It,function(Ft){return at*(1-Ft)+It*Ft}},nt=function(at,It){var Ft={},xt={},Nt;(at===null||typeof at!="object")&&(at={}),(It===null||typeof It!="object")&&(It={});for(Nt in It)Nt in at?Ft[Nt]=Ct(at[Nt],It[Nt]):xt[Nt]=It[Nt];return function(Ht){for(Nt in Ft)xt[Nt]=Ft[Nt](Ht);return xt}},yt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pt=new RegExp(yt.source,"g");function Rt(at){return function(){return at}}function Wt(at){return function(It){return at(It)+""}}var Vt=function(at,It){var Ft=yt.lastIndex=Pt.lastIndex=0,xt,Nt,Ht,Bt=-1,Ut=[],Jt=[];for(at=at+"",It=It+"";(xt=yt.exec(at))&&(Nt=Pt.exec(It));)(Ht=Nt.index)>Ft&&(Ht=It.slice(Ft,Ht),Ut[Bt]?Ut[Bt]+=Ht:Ut[++Bt]=Ht),(xt=xt[0])===(Nt=Nt[0])?Ut[Bt]?Ut[Bt]+=Nt:Ut[++Bt]=Nt:(Ut[++Bt]=null,Jt.push({i:Bt,x:pt(xt,Nt)})),Ft=Pt.lastIndex;return Ft<It.length&&(Ht=It.slice(Ft),Ut[Bt]?Ut[Bt]+=Ht:Ut[++Bt]=Ht),Ut.length<2?Jt[0]?Wt(Jt[0].x):Rt(It):(It=Jt.length,function(oe){for(var ge=0,Ce;ge<It;++ge)Ut[(Ce=Jt[ge]).i]=Ce.x(oe);return Ut.join("")})},Lt=a("H6vk"),Ct=A.a=function(at,It){var Ft=typeof It,xt;return It==null||Ft==="boolean"?Gt(It):(Ft==="number"?pt:Ft==="string"?(xt=I(It))?(It=xt,st):Vt:It instanceof I?st:It instanceof Date?H:Object(Lt.b)(It)?Lt.a:Array.isArray(It)?et.b:typeof It.valueOf!="function"&&typeof It.toString!="function"||isNaN(It)?nt:pt)(at,It)}},yWrq:function(jt,A,a){var f=a("XSdR"),o=a("hppO");jt.exports=x;function x(P,b){var S=o.partition(P,function(U){return f.has(U,"barycenter")}),y=S.lhs,E=f.sortBy(S.rhs,function(U){return-U.i}),m=[],T=0,L=0,g=0;y.sort(C(!!b)),g=O(m,E,g),f.forEach(y,function(U){g+=U.vs.length,m.push(U.vs),T+=U.barycenter*U.weight,L+=U.weight,g=O(m,E,g)});var j={vs:f.flatten(m,!0)};return L&&(j.barycenter=T/L,j.weight=L),j}function O(P,b,S){for(var y;b.length&&(y=f.last(b)).i<=S;)b.pop(),P.push(y.vs),S++;return S}function C(P){return function(b,S){return b.barycenter<S.barycenter?-1:b.barycenter>S.barycenter?1:P?S.i-b.i:b.i-S.i}}},ygvb:function(jt,A,a){"use strict";a.d(A,"a",function(){return f});function f(o,x){var O={};return o!==null&&typeof o=="object"&&x.forEach(function(C){var P=o[C];P!==void 0&&(O[C]=P)}),O}},yiSY:function(jt,A,a){"use strict";a.d(A,"b",function(){return U}),a.d(A,"a",function(){return N});var f=a("CMID"),o=a("jg4I"),x=a("N2cT"),O=a("cnw0"),C=a("8DqP"),P=a("nD2R"),b=a("nHjW"),S=a("v4nE"),y=a("j4BG"),E=a("LkkN");function m(I){var B=I.chart,G=I.options,k=G.data,V=G.angleField,tt=G.colorField,Q=G.color,K=G.pieStyle,_=Object(b.s)(k,V);if(Object(y.c)(_,V)){var Y="$$percentage$$";_=_.map(function(ot){var ft;return Object(f.__assign)(Object(f.__assign)({},ot),(ft={},ft[Y]=1/_.length,ft))}),B.data(_);var q=Object(b.c)({},I,{options:{xField:"1",yField:Y,seriesField:tt,isStack:!0,interval:{color:Q,style:K},args:{zIndexReversed:!0}}});Object(C.c)(q)}else{B.data(_);var q=Object(b.c)({},I,{options:{xField:"1",yField:V,seriesField:tt,isStack:!0,interval:{color:Q,style:K},args:{zIndexReversed:!0}}});Object(C.c)(q)}return I}function T(I){var B,G=I.chart,k=I.options,V=k.meta,tt=k.colorField,Q=Object(b.c)({},V);return G.scale(Q,(B={},B[tt]={type:"cat"},B)),I}function L(I){var B=I.chart,G=I.options,k=G.radius,V=G.innerRadius,tt=G.startAngle,Q=G.endAngle;return B.coordinate({type:"theta",cfg:{radius:k,innerRadius:V,startAngle:tt,endAngle:Q}}),I}function g(I){var B=I.chart,G=I.options,k=G.label,V=G.colorField,tt=G.angleField,Q=B.geometries[0];if(!k)Q.label(!1);else{var K=k.callback,_=Object(f.__rest)(k,["callback"]),Y=Object(b.w)(_);if(Y.content){var q=Y.content;Y.content=function(rt,gt,Et){var Gt=rt[V],Yt=rt[tt],Xt=B.getScaleByField(tt),vt=Xt==null?void 0:Xt.scale(Yt);return Object(o.isFunction)(q)?q(Object(f.__assign)(Object(f.__assign)({},rt),{percent:vt}),gt,Et):Object(o.isString)(q)?Object(b.v)(q,{value:Yt,name:Gt,percentage:Object(o.isNumber)(vt)&&!Object(o.isNil)(Yt)?(vt*100).toFixed(2)+"%":null}):q}}var ot={inner:"",outer:"pie-outer",spider:"pie-spider"},ft=Y.type?ot[Y.type]:"pie-outer",ct=Y.layout?Object(o.isArray)(Y.layout)?Y.layout:[Y.layout]:[];Y.layout=(ft?[{type:ft}]:[]).concat(ct),Q.label({fields:V?[tt,V]:[tt],callback:K,cfg:Object(f.__assign)(Object(f.__assign)({},Y),{offset:Object(y.a)(Y.type,Y.offset),type:"pie"})})}return I}function j(I){var B=I.innerRadius,G=I.statistic,k=I.angleField,V=I.colorField,tt=I.meta,Q=I.locale,K=Object(P.a)(Q);if(B&&G){var _=Object(b.c)({},S.a.statistic,G),Y=_.title,q=_.content;return Y!==!1&&(Y=Object(b.c)({},{formatter:function(ft){return ft?ft[V]:Object(o.isNil)(Y.content)?K.get(["statistic","total"]):Y.content}},Y)),q!==!1&&(q=Object(b.c)({},{formatter:function(ft,ct){var rt=ft?ft[k]:Object(y.b)(ct,k),gt=Object(o.get)(tt,[k,"formatter"])||function(Et){return Et};return ft||Object(o.isNil)(q.content)?gt(rt):q.content}},q)),Object(b.c)({},{statistic:{title:Y,content:q}},I)}return I}function U(I){var B=I.chart,G=I.options,k=j(G),V=k.innerRadius,tt=k.statistic;return B.getController("annotation").clear(!0),Object(b.f)(Object(x.b)())(I),V&&tt&&Object(b.u)(B,{statistic:tt,plotType:"pie"}),I}function W(I){var B=I.chart,G=I.options,k=G.tooltip,V=G.colorField,tt=G.angleField,Q=G.data;if(k===!1)B.tooltip(k);else if(B.tooltip(Object(b.c)({},k,{shared:!1})),Object(y.c)(Q,tt)){var K=Object(o.get)(k,"fields"),_=Object(o.get)(k,"formatter");Object(o.isEmpty)(Object(o.get)(k,"fields"))&&(K=[V,tt],_=_||function(Y){return{name:Y[V],value:Object(o.toString)(Y[tt])}}),B.geometries[0].tooltip(K.join("*"),Object(O.b)(K,_))}return I}function z(I){var B=I.chart,G=I.options,k=j(G),V=k.interactions,tt=k.statistic,Q=k.annotations;return Object(o.each)(V,function(K){var _,Y;if(K.enable===!1)B.removeInteraction(K.type);else if(K.type==="pie-statistic-active"){var q=[];((_=K.cfg)===null||_===void 0?void 0:_.start)||(q=[{trigger:"element:mouseenter",action:E.a+":change",arg:{statistic:tt,annotations:Q}}]),Object(o.each)((Y=K.cfg)===null||Y===void 0?void 0:Y.start,function(ot){q.push(Object(f.__assign)(Object(f.__assign)({},ot),{arg:{statistic:tt,annotations:Q}}))}),B.interaction(K.type,Object(b.c)({},K.cfg,{start:q}))}else B.interaction(K.type,K.cfg||{})}),I}function N(I){return Object(b.f)(m,T,x.j,L,x.d,W,g,x.i,U,z,x.a)(I)}},ylrI:function(jt,A){jt.exports=a;function a(f,o){o=o||1;var x=Math.random()*2*Math.PI;return f[0]=Math.cos(x)*o,f[1]=Math.sin(x)*o,f}},ytXd:function(jt,A,a){var f=a("VrSm"),o=a("LKUO"),x={};for(var O in f)f.hasOwnProperty(O)&&(x[f[O]]=O);var C=jt.exports={to:{},get:{}};C.get=function(S){var y=S.substring(0,3).toLowerCase(),E,m;switch(y){case"hsl":E=C.get.hsl(S),m="hsl";break;case"hwb":E=C.get.hwb(S),m="hwb";break;default:E=C.get.rgb(S),m="rgb";break}return E?{model:m,value:E}:null},C.get.rgb=function(S){if(!S)return null;var y=/^#([a-f0-9]{3,4})$/i,E=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,m=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,T=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,L=/(\D+)/,g=[0,0,0,1],j,U,W;if(j=S.match(E)){for(W=j[2],j=j[1],U=0;U<3;U++){var z=U*2;g[U]=parseInt(j.slice(z,z+2),16)}W&&(g[3]=parseInt(W,16)/255)}else if(j=S.match(y)){for(j=j[1],W=j[3],U=0;U<3;U++)g[U]=parseInt(j[U]+j[U],16);W&&(g[3]=parseInt(W+W,16)/255)}else if(j=S.match(m)){for(U=0;U<3;U++)g[U]=parseInt(j[U+1],0);j[4]&&(g[3]=parseFloat(j[4]))}else if(j=S.match(T)){for(U=0;U<3;U++)g[U]=Math.round(parseFloat(j[U+1])*2.55);j[4]&&(g[3]=parseFloat(j[4]))}else return(j=S.match(L))?j[1]==="transparent"?[0,0,0,0]:(g=f[j[1]],g?(g[3]=1,g):null):null;for(U=0;U<3;U++)g[U]=P(g[U],0,255);return g[3]=P(g[3],0,1),g},C.get.hsl=function(S){if(!S)return null;var y=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,E=S.match(y);if(E){var m=parseFloat(E[4]),T=(parseFloat(E[1])+360)%360,L=P(parseFloat(E[2]),0,100),g=P(parseFloat(E[3]),0,100),j=P(isNaN(m)?1:m,0,1);return[T,L,g,j]}return null},C.get.hwb=function(S){if(!S)return null;var y=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,E=S.match(y);if(E){var m=parseFloat(E[4]),T=(parseFloat(E[1])%360+360)%360,L=P(parseFloat(E[2]),0,100),g=P(parseFloat(E[3]),0,100),j=P(isNaN(m)?1:m,0,1);return[T,L,g,j]}return null},C.to.hex=function(){var S=o(arguments);return"#"+b(S[0])+b(S[1])+b(S[2])+(S[3]<1?b(Math.round(S[3]*255)):"")},C.to.rgb=function(){var S=o(arguments);return S.length<4||S[3]===1?"rgb("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+")":"rgba("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+", "+S[3]+")"},C.to.rgb.percent=function(){var S=o(arguments),y=Math.round(S[0]/255*100),E=Math.round(S[1]/255*100),m=Math.round(S[2]/255*100);return S.length<4||S[3]===1?"rgb("+y+"%, "+E+"%, "+m+"%)":"rgba("+y+"%, "+E+"%, "+m+"%, "+S[3]+")"},C.to.hsl=function(){var S=o(arguments);return S.length<4||S[3]===1?"hsl("+S[0]+", "+S[1]+"%, "+S[2]+"%)":"hsla("+S[0]+", "+S[1]+"%, "+S[2]+"%, "+S[3]+")"},C.to.hwb=function(){var S=o(arguments),y="";return S.length>=4&&S[3]!==1&&(y=", "+S[3]),"hwb("+S[0]+", "+S[1]+"%, "+S[2]+"%"+y+")"},C.to.keyword=function(S){return x[S.slice(0,3)]};function P(S,y,E){return Math.min(Math.max(y,S),E)}function b(S){var y=S.toString(16).toUpperCase();return y.length<2?"0"+y:y}},z8FW:function(jt,A,a){var f=a("xi+f"),o=a("xXdm"),x=a("hQ5t"),O=a("4hrr"),C=a("6FVg"),P=a("hQlM"),b=a("3qqr"),S=a("WeNx"),y=a("+Gi7");function E(m,T,L){T.length?T=f(T,function(U){return y(U)?function(W){return o(W,U.length===1?U[0]:U)}:U}):T=[S];var g=-1;T=f(T,P(x));var j=O(m,function(U,W,z){var N=f(T,function(I){return I(U)});return{criteria:N,index:++g,value:U}});return C(j,function(U,W){return b(U,W,L)})}jt.exports=E},zEOA:function(jt,A,a){jt.exports=a("ebDh")},zG9U:function(jt,A,a){"use strict";a.d(A,"a",function(){return S});var f=a("3sqG"),o=a("oS5r"),x=a("M1/f"),O=a("jg4I"),C=a("o5Uy"),P={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(E,m){return m.value-E.value},ratio:.5*(1+Math.sqrt(5))};function b(y,E){return y==="treemapSquarify"?f[y].ratio(E):f[y]}function S(y,E){E=Object(O.assign)({},P,E);var m=E.as;if(!Object(O.isArray)(m)||m.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var T;try{T=Object(C.b)(E)}catch(z){console.warn(z)}var L=b(E.tile,E.ratio),g=function(N){return o.a().tile(L).size(E.size).round(E.round).padding(E.padding).paddingInner(E.paddingInner).paddingOuter(E.paddingOuter).paddingTop(E.paddingTop).paddingRight(E.paddingRight).paddingBottom(E.paddingBottom).paddingLeft(E.paddingLeft)(x.c(N).sum(function(I){return E.ignoreParentValue&&I.children?0:I[T]}).sort(E.sort))},j=g(y),U=m[0],W=m[1];return j.each(function(z){z[U]=[z.x0,z.x1,z.x1,z.x0],z[W]=[z.y1,z.y1,z.y0,z.y0],["x0","x1","y0","y1"].forEach(function(N){m.indexOf(N)===-1&&delete z[N]})}),Object(C.a)(j)}},zJ04:function(jt,A){jt.exports=a;function a(f,o){return f[0]=Math.ceil(o[0]),f[1]=Math.ceil(o[1]),f}},zN6Y:function(jt,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingOnSyntax=void 0;var f=a("ITfU"),o=function(){function x(O){this._binding=O}return x.prototype.onActivation=function(O){return this._binding.onActivation=O,new f.BindingWhenSyntax(this._binding)},x}();A.BindingOnSyntax=o},zPMQ:function(jt,A,a){var f=a("Hz7B"),o=f("length");jt.exports=o},zRtE:function(jt,A,a){"use strict";a.r(A),a.d(A,"CONTAINER_CLASS",function(){return f}),a.d(A,"TITLE_CLASS",function(){return o}),a.d(A,"LIST_CLASS",function(){return x}),a.d(A,"LIST_ITEM_CLASS",function(){return O}),a.d(A,"MARKER_CLASS",function(){return C}),a.d(A,"VALUE_CLASS",function(){return P}),a.d(A,"NAME_CLASS",function(){return b}),a.d(A,"CROSSHAIR_X",function(){return S}),a.d(A,"CROSSHAIR_Y",function(){return y});var f="g2-tooltip",o="g2-tooltip-title",x="g2-tooltip-list",O="g2-tooltip-list-item",C="g2-tooltip-marker",P="g2-tooltip-value",b="g2-tooltip-name",S="g2-tooltip-crosshair-x",y="g2-tooltip-crosshair-y"},zWOy:function(jt,A){},zui5:function(jt,A,a){"use strict";var f;(function(o){o.Normal="normal",o.PostProcessing="post-processing"})(f||(f={}))}}]);
