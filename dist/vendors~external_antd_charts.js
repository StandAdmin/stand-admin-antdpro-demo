(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+2Ae":function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=o[0]+b[0],d[1]=o[1]+b[1],d}},"+D6J":function(wt,P){function i(d){return d!==d}wt.exports=i},"+FNX":function(wt,P,i){var d=i("XSdR"),o=i("43gi").Graph;wt.exports=b;function b(M,D,C){var S=x(M),O=new o({compound:!0}).setGraph({root:S}).setDefaultNodeLabel(function(E){return M.node(E)});return d.forEach(M.nodes(),function(E){var I=M.node(E),A=M.parent(E);(I.rank===D||I.minRank<=D&&D<=I.maxRank)&&(O.setNode(E),O.setParent(E,A||S),d.forEach(M[C](E),function(R){var B=R.v===E?R.w:R.v,p=O.edge(B,E),G=d.isUndefined(p)?0:p.weight;O.setEdge(B,E,{weight:M.edge(R).weight+G})}),d.has(I,"minRank")&&O.setNode(E,{borderLeft:I.borderLeft[D],borderRight:I.borderRight[D]}))}),O}function x(M){for(var D;M.hasNode(D=d.uniqueId("_root")););return D}},"+GOg":function(wt,P,i){"use strict";i.d(P,"a",function(){return gt});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I"),x=i("wnXL"),M=i("piQC"),D=i("lWkY"),C=i("Cw9K"),S=i("RRRq"),O=i("CMcZ"),E=i("XELs"),I=i("+y4O"),A=i("bkrr"),R=i("DTnF"),B=i("6CNK"),p=i("p6OM"),G=i("x7X8"),W=i("On2g"),z=i("2dsA"),N=i("6eBz"),j=i("q6M4"),F=i("Vnm+"),k=i("wU7O"),$=i("Ob5K"),nt=i("q9WB"),st=i("SBWV"),rt=i("MriG"),Q=i("LRPA"),Y=i("JJsy"),K=i("10jL"),et={line:S.a,pie:O.a,column:E.a,bar:I.a,area:A.a,gauge:R.a,"tiny-line":B.a,"tiny-column":p.a,"tiny-area":G.a,"ring-progress":W.a,progress:z.a},ut={line:N.a,pie:j.a,column:k.a,bar:F.a,area:$.a,gauge:nt.a,"tiny-line":st.a,"tiny-column":Q.a,"tiny-area":rt.a,"ring-progress":Y.a,progress:K.a};function dt(lt,ft,it){var bt=ut[lt];if(!bt){console.error("could not find "+lt+" plot");return}var Dt=et[lt];Dt({chart:ft,options:Object(C.b)({},bt.getDefaultOptions(),it)})}function vt(lt){var ft=lt.chart,it=lt.options,bt=it.views,Dt=it.legend;return Object(b.j)(bt,function(Mt){var q=Mt.region,V=Mt.data,ot=Mt.meta,tt=Mt.axes,yt=Mt.coordinate,Pt=Mt.interactions,Ft=Mt.annotations,Wt=Mt.tooltip,Vt=Mt.geometries,Lt=ft.createView({region:q});Lt.data(V);var Ct={};tt&&Object(b.j)(tt,function(_,It){Ct[It]=Object(C.q)(_,D.a)}),Ct=Object(C.b)({},ot,Ct),Lt.scale(Ct),tt?Object(b.j)(tt,function(_,It){Lt.axis(It,_)}):Lt.axis(!1),Lt.coordinate(yt),Object(b.j)(Vt,function(_){var It=Object(x.a)({chart:Lt,options:_}).ext,Rt=_.adjust;Rt&&It.geometry.adjust(Rt)}),Object(b.j)(Pt,function(_){_.enable===!1?Lt.removeInteraction(_.type):Lt.interaction(_.type,_.cfg)}),Object(b.j)(Ft,function(_){Lt.annotation()[_.type](Object(d.a)({},_))}),typeof Mt.animation=="boolean"?Lt.animate(!1):(Lt.animate(!0),Object(b.j)(Lt.geometries,function(_){_.animate(Mt.animation)})),Wt&&(Lt.interaction("tooltip"),Lt.tooltip(Wt))}),Dt?Object(b.j)(Dt,function(Mt,q){ft.legend(q,Mt)}):ft.legend(!1),ft.tooltip(it.tooltip),lt}function at(lt){var ft=lt.chart,it=lt.options,bt=it.plots;return Object(b.j)(bt,function(Dt){var Mt=Dt.type,q=Dt.region,V=Dt.options,ot=V===void 0?{}:V,tt=ot.tooltip,yt=ft.createView(Object(d.a)({region:q},Object(C.q)(ot,o.a)));tt&&yt.interaction("tooltip"),dt(Mt,yt,ot)}),lt}function pt(lt){return Object(C.e)(M.a,vt,at,M.c,M.a,M.j,M.k)(lt)}var Tt=i("18og");function Gt(lt,ft){var it=lt.getModel(),bt=it.data,Dt;return Object(b.B)(bt)?Dt=bt[0][ft]:Dt=bt[ft],Dt}function Kt(lt){var ft=Object(C.f)(lt);Object(b.j)(ft,function(it){it.hasState("active")&&it.setState("active",!1),it.hasState("selected")&&it.setState("selected",!1),it.hasState("inactive")&&it.setState("inactive",!1)})}var Xt=function(lt){Object(d.c)(ft,lt);function ft(){return lt!==null&&lt.apply(this,arguments)||this}return ft.prototype.getAssociationItems=function(it,bt){var Dt,Mt=this.context.event,q=bt||{},V=q.linkField,ot=q.dim,tt=[];if((Dt=Mt.data)===null||Dt===void 0?void 0:Dt.data){var yt=Mt.data.data;Object(b.j)(it,function(Pt){var Ft,Wt,Vt=V;if(ot==="x"?Vt=Pt.getXScale().field:ot==="y"?Vt=(Ft=Pt.getYScales().find(function(Ct){return Ct.field===Vt}))===null||Ft===void 0?void 0:Ft.field:Vt||(Vt=(Wt=Pt.getGroupScales()[0])===null||Wt===void 0?void 0:Wt.field),!!Vt){var Lt=Object(b.U)(Object(C.f)(Pt),function(Ct){var _=!1,It=!1,Rt=Object(b.B)(yt)?Object(b.s)(yt[0],Vt):Object(b.s)(yt,Vt);return Gt(Ct,Vt)===Rt?_=!0:It=!0,{element:Ct,view:Pt,active:_,inactive:It}});tt.push.apply(tt,Lt)}})}return tt},ft.prototype.showTooltip=function(it){var bt=Object(C.i)(this.context.view),Dt=this.getAssociationItems(bt,it);Object(b.j)(Dt,function(Mt){if(Mt.active){var q=Mt.element.shape.getCanvasBBox();Mt.view.showTooltip({x:q.minX+q.width/2,y:q.minY+q.height/2})}})},ft.prototype.hideTooltip=function(){var it=Object(C.i)(this.context.view);Object(b.j)(it,function(bt){bt.hideTooltip()})},ft.prototype.active=function(it){var bt=Object(C.k)(this.context.view),Dt=this.getAssociationItems(bt,it);Object(b.j)(Dt,function(Mt){var q=Mt.active,V=Mt.element;q&&V.setState("active",!0)})},ft.prototype.selected=function(it){var bt=Object(C.k)(this.context.view),Dt=this.getAssociationItems(bt,it);Object(b.j)(Dt,function(Mt){var q=Mt.active,V=Mt.element;q&&V.setState("selected",!0)})},ft.prototype.highlight=function(it){var bt=Object(C.k)(this.context.view),Dt=this.getAssociationItems(bt,it);Object(b.j)(Dt,function(Mt){var q=Mt.inactive,V=Mt.element;q&&V.setState("inactive",!0)})},ft.prototype.reset=function(){var it=Object(C.k)(this.context.view);Object(b.j)(it,function(bt){Kt(bt)})},ft}(Tt.Action);Object(Tt.registerAction)("association",Xt),Object(Tt.registerInteraction)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(Tt.registerInteraction)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(Tt.registerInteraction)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(Tt.registerInteraction)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var gt=function(lt){Object(d.c)(ft,lt);function ft(){var it=lt!==null&&lt.apply(this,arguments)||this;return it.type="mix",it}return ft.prototype.getSchemaAdaptor=function(){return pt},ft}(o.b)},"+WlW":function(wt,P,i){wt.exports={graphlib:i("43gi"),layout:i("GbYH"),debug:i("PoGV"),util:{time:i("hppO").time,notime:i("hppO").notime},version:i("tebh")}},"+jGG":function(wt,P,i){"use strict";i.d(P,"a",function(){return Vt});var d=i("BLox"),o=i("YcyD"),b=i("UHDP"),x=i.n(b),M=i("Hg9g"),D=i("S5Um"),C=i.n(D),S=i("qJ52"),O=i.n(S),E=i("25gg"),I=i.n(E),A=i("VwUA"),R=i.n(A),B=i("0iMn"),p=i("XN3X"),G=i("ZVT1"),W,z,N,j,F,k,$=(W=Object(o.injectable)(),z=Object(o.inject)(p.a.RenderEngine),W(N=(j=(k=function(){function Lt(){O()(this,Lt),C()(this,"engine",F,this),this.resourcePool={}}return I()(Lt,[{key:"getOrCreateResource",value:function(_){if(!this.resourcePool[_.name]){var It=_.descriptor,Rt=It.width,xt=It.height,Nt=It.usage;this.resourcePool[_.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:Rt,height:xt,wrapS:G.a.CLAMP_TO_EDGE,wrapT:G.a.CLAMP_TO_EDGE,usage:Nt})})}return this.resourcePool[_.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),Lt}(),k),F=R()(j.prototype,"engine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j))||N),nt=i("BgQB"),st=i("P7eI"),rt=i("J/Yx"),Q=i("PkPV"),Y=i("0os6"),K=i("//O1"),et=i("7stk"),ut=i("AKnH"),dt=i("RtY/"),vt=i("aStn"),at=i("K4bE"),pt=i("to4S"),Tt=i("CURf"),Gt=i("K4uR"),Kt=i.n(Gt),Xt=i("Un2Z"),gt=i.n(Xt),lt=i("OUrb"),ft=i.n(lt);function it(Lt){var Ct=bt();return function(){var It=ft()(Lt),Rt;if(Ct){var xt=ft()(this).constructor;Rt=Reflect.construct(It,arguments,xt)}else Rt=It.apply(this,arguments);return gt()(this,Rt)}}function bt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Lt){return!1}}var Dt=function(Lt){Kt()(_,Lt);var Ct=it(_);function _(It){var Rt;return O()(this,_),Rt=Ct.call(this,It),Rt.name=void 0,Rt.name=It.name||"",Rt}return _}(M.a),Mt=i("Vd04"),q=i("+q6o"),V=i("fo7X"),ot=i("8Vus"),tt=i("bmBd"),yt=new o.Container,Pt=x()(yt,!1),Ft=function(Ct){var _=Pt.lazyInject(Ct);return function(It,Rt,xt){_.call(this,It,Rt),xt&&(xt.initializer=function(){return It[Rt]})}},Wt=function(Ct){var _=Pt.lazyMultiInject(Ct);return function(It,Rt,xt){_.call(this,It,Rt),xt&&(xt.initializer=function(){return It[Rt]})}};yt.bind(p.a.ShaderModuleService).to(tt.a).inSingletonScope(),yt.bind(p.a.NameComponentManager).toConstantValue(new M.b(Dt)),yt.bind(p.a.HierarchyComponentManager).toConstantValue(new M.b(Tt.a)),yt.bind(p.a.TransformComponentManager).toConstantValue(new M.b(q.a)),yt.bind(p.a.MeshComponentManager).toConstantValue(new M.b(et.a)),yt.bind(p.a.CullableComponentManager).toConstantValue(new M.b(K.a)),yt.bind(p.a.GeometryComponentManager).toConstantValue(new M.b(st.a)),yt.bind(p.a.MaterialComponentManager).toConstantValue(new M.b(Q.a));function Vt(){var Lt=new o.Container;return Lt.parent=yt,Lt.bind(p.a.Systems).to(Mt.a).inSingletonScope().whenTargetNamed(p.a.SceneGraphSystem),Lt.bind(p.a.Systems).to(nt.a).inSingletonScope().whenTargetNamed(p.a.FrameGraphSystem),Lt.bind(p.a.Systems).to(ut.a).inSingletonScope().whenTargetNamed(p.a.MeshSystem),Lt.bind(p.a.Systems).to(rt.a).inSingletonScope().whenTargetNamed(p.a.GeometrySystem),Lt.bind(p.a.Systems).to(Y.a).inSingletonScope().whenTargetNamed(p.a.MaterialSystem),Lt.bind(p.a.Systems).to(pt.a).inSingletonScope().whenTargetNamed(p.a.RendererSystem),Lt.bind(p.a.ResourcePool).to($).inSingletonScope(),Lt.bind(p.a.ConfigService).to(V.a).inSingletonScope(),Lt.bind(p.a.InteractorService).to(ot.a).inSingletonScope(),Lt.bind(p.a.RenderPass).to(at.a).inSingletonScope().whenTargetNamed(at.a.IDENTIFIER),Lt.bind(p.a.RenderPass).to(dt.a).inSingletonScope().whenTargetNamed(dt.a.IDENTIFIER),Lt.bind(p.a.RenderPass).to(vt.a).inSingletonScope().whenTargetNamed(vt.a.IDENTIFIER),Lt.bind(p.a.RenderPassFactory).toFactory(function(Ct){return function(_){return Ct.container.getNamed(p.a.RenderPass,_)}}),Lt}},"+o0w":function(wt,P,i){var d=i("2PUN"),o=i("z8FW"),b=i("dhvM"),x=i("TdPr"),M=b(function(D,C){if(D==null)return[];var S=C.length;return S>1&&x(D,C[0],C[1])?C=[]:S>2&&x(C[0],C[1],C[2])&&(C=[C[0]]),o(D,d(C,1),[])});wt.exports=M},"+q6o":function(wt,P,i){"use strict";i.d(P,"a",function(){return W});var d=i("qJ52"),o=i.n(d),b=i("25gg"),x=i.n(b),M=i("DLmx"),D=i.n(M),C=i("K4uR"),S=i.n(C),O=i("Un2Z"),E=i.n(O),I=i("OUrb"),A=i.n(I),R=i("99LQ"),B=i("Hg9g");function p(z){var N=G();return function(){var F=A()(z),k;if(N){var $=A()(this).constructor;k=Reflect.construct(F,arguments,$)}else k=F.apply(this,arguments);return E()(this,k)}}function G(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(z){return!1}}var W=function(z){S()(j,z);var N=p(j);function j(F){var k;return o()(this,j),k=N.call(this,F),k.dirtyFlag=void 0,k.localDirtyFlag=void 0,k.parent=null,k.localPosition=R.e.fromValues(0,0,0),k.localRotation=R.c.fromValues(0,0,0,1),k.localScale=R.e.fromValues(1,1,1),k.localTransform=R.b.create(),k.position=R.e.fromValues(0,0,0),k.rotation=R.c.fromValues(0,0,0,1),k.scaling=R.e.fromValues(1,1,1),k.worldTransform=R.b.create(),k.matrixTransform=function(){var $=R.b.create();return function(nt){R.b.multiply($,k.getLocalTransform(),nt),R.b.getScaling(k.localScale,$),R.b.getTranslation(k.localPosition,$),R.b.getRotation(k.localRotation,$)}}(),k.rotateRollPitchYaw=function(){var $=R.c.create(),nt=R.c.create(),st=R.c.create();return function(rt,Q,Y){k.setDirty(),R.c.fromEuler($,rt,0,0),R.c.fromEuler(nt,0,Q,0),R.c.fromEuler(st,0,0,Y),R.c.multiply(k.localRotation,$,k.localRotation),R.c.multiply(k.localRotation,k.localRotation,nt),R.c.multiply(k.localRotation,st,k.localRotation),R.c.normalize(k.localRotation,k.localRotation)}}(),k.lerp=function(){var $=R.e.create(),nt=R.c.create(),st=R.e.create(),rt=R.e.create(),Q=R.c.create(),Y=R.e.create();return function(K,et,ut){k.setDirty(),R.b.getScaling($,K.worldTransform),R.b.getTranslation(st,K.worldTransform),R.b.getRotation(nt,K.worldTransform),R.b.getScaling(rt,et.worldTransform),R.b.getTranslation(Y,et.worldTransform),R.b.getRotation(Q,et.worldTransform),R.e.lerp(k.localScale,$,rt,ut),R.c.slerp(k.localRotation,nt,Q,ut),R.e.lerp(k.localPosition,st,Y,ut)}}(),k.translate=function(){var $=R.e.create();return function(nt){return R.e.add($,k.getPosition(),nt),k.setPosition($),k.setDirty(!0),D()(k)}}(),k.translateLocal=function(){return function($){return R.e.transformQuat($,$,k.localRotation),R.e.add(k.localPosition,k.localPosition,$),k.setLocalDirty(!0),D()(k)}}(),k.setPosition=function(){var $=R.b.create();return function(nt){return k.position=nt,k.setLocalDirty(!0),k.parent===null?R.e.copy(k.localPosition,nt):(R.b.copy($,k.parent.worldTransform),R.b.invert($,$),R.e.transformMat4(k.localPosition,nt,$)),D()(k)}}(),k.rotate=function(){var $=R.c.create();return function(nt){if(k.parent===null)R.c.multiply(k.localRotation,k.localRotation,nt),R.c.normalize(k.localRotation,k.localRotation);else{var st=k.getRotation(),rt=k.parent.getRotation();R.c.copy($,rt),R.c.invert($,$),R.c.multiply($,$,nt),R.c.multiply(k.localRotation,nt,st),R.c.normalize(k.localRotation,k.localRotation)}return k.setLocalDirty(),D()(k)}}(),k.rotateLocal=function(){return function($){return R.c.multiply(k.localRotation,k.localRotation,$),R.c.normalize(k.localRotation,k.localRotation),k.setLocalDirty(!0),D()(k)}}(),k.setRotation=function(){var $=R.c.create();return function(nt){return k.parent===null?R.c.copy(k.localRotation,nt):(R.c.copy($,k.parent.getRotation()),R.c.invert($,$),R.c.copy(k.localRotation,$),R.c.mul(k.localRotation,k.localRotation,nt)),k.setLocalDirty(!0),D()(k)}}(),k}return x()(j,[{key:"setLocalPosition",value:function(k){R.e.copy(this.localPosition,k),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(k){R.e.copy(this.localScale,k),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(k){return R.c.copy(this.localRotation,k),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;k?this.dirtyFlag|=j.DIRTY:this.dirtyFlag&=~j.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;k?(this.localDirtyFlag|=j.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~j.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(R.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(k){R.b.multiply(this.worldTransform,k.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),R.b.getScaling(this.localScale,this.worldTransform),R.b.getTranslation(this.localPosition,this.worldTransform),R.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=R.e.fromValues(0,0,0),this.localRotation=R.c.fromValues(0,0,0,1),this.localScale=R.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(k){return this.setLocalDirty(),R.e.multiply(this.localScale,this.localScale,k),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(R.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return R.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return R.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return R.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),j}(B.a);W.DIRTY=1<<0},"+y4O":function(wt,P,i){"use strict";i.d(P,"a",function(){return x});var d=i("J+IK"),o=i("XELs"),b=i("pQ2l");i.d(P,"b",function(){return o.b});function x(M){var D=M.chart,C=M.options,S=C.xField,O=C.yField,E=C.xAxis,I=C.yAxis,A=C.barStyle,R=C.barWidthRatio,B=C.label,p=C.data,G=C.seriesField,W=C.isStack,z=C.minBarWidth,N=C.maxBarWidth;B&&!B.position&&(B.position="left",B.layout||(B.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var j=C.legend;G?j!==!1&&(j=Object(d.a)({position:W?"top-left":"right-top",reversed:!W},j||{})):j=!1,M.options.legend=j;var F=C.tooltip;return G&&F!==!1&&(F=Object(d.a)({reversed:!W},F||{})),M.options.tooltip=F,D.coordinate().transpose(),Object(o.a)({chart:D,options:Object(d.a)(Object(d.a)({},C),{label:B,xField:O,yField:S,xAxis:I,yAxis:E,columnStyle:A,columnWidthRatio:R,minColumnWidth:z,maxColumnWidth:N,columnBackground:C.barBackground,data:Object(b.a)(p)})},!0)}},"//O1":function(wt,P,i){"use strict";i.d(P,"a",function(){return p});var d=i("qJ52"),o=i.n(d),b=i("DLmx"),x=i.n(b),M=i("K4uR"),D=i.n(M),C=i("Un2Z"),S=i.n(C),O=i("OUrb"),E=i.n(O),I=i("Hg9g");function A(G){var W=R();return function(){var N=E()(G),j;if(W){var F=E()(this).constructor;j=Reflect.construct(N,arguments,F)}else j=N.apply(this,arguments);return S()(this,j)}}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(G){return!1}}var B;(function(G){G[G.Standard=0]="Standard"})(B||(B={}));var p=function(G){D()(z,G);var W=A(z);function z(N){var j;return o()(this,z),j=W.call(this,N),j.strategy=B.Standard,j.visibilityPlaneMask=0,j.visible=!1,Object.assign(x()(j),N),j}return z}(I.a)},"/DyB":function(wt,P,i){var d=i("dhvM"),o=i("TdPr");function b(x){return d(function(M,D){var C=-1,S=D.length,O=S>1?D[S-1]:void 0,E=S>2?D[2]:void 0;for(O=x.length>3&&typeof O=="function"?(S--,O):void 0,E&&o(D[0],D[1],E)&&(O=S<3?void 0:O,S=1),M=Object(M);++C<S;){var I=D[C];I&&x(M,I,C,O)}return M})}wt.exports=b},"/MLR":function(wt,P,i){"use strict";i.d(P,"a",function(){return p});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I"),x=i("Cw9K"),M=i("piQC"),D=i("AOO/");function C(G){var W=G.chart,z=G.options,N=z.data,j=z.sectorStyle,F=z.color;return W.data(N),Object(x.e)(D.c)(Object(x.b)({},G,{options:{marginRatio:1,interval:{style:j,color:F}}})),G}function S(G){var W=G.chart,z=G.options,N=z.label,j=z.xField,F=Object(x.c)(W,"interval");if(N===!1)F.label(!1);else if(Object(b.M)(N)){var k=N.callback,$=N.fields,nt=Object(d.e)(N,["callback","fields"]),st=nt.offset,rt=nt.layout;(st===void 0||st>=0)&&(rt=rt?Object(b.B)(rt)?rt:[rt]:[],nt.layout=Object(b.l)(rt,function(Q){return Q.type!=="limit-in-shape"}),nt.layout.length||delete nt.layout),F.label({fields:$||[j],callback:k,cfg:Object(x.v)(nt)})}else Object(x.o)(x.a.WARN,N===null,"the label option must be an Object."),F.label({fields:[j]});return G}function O(G){var W=G.chart,z=G.options,N=z.legend,j=z.seriesField;return N===!1?W.legend(!1):j&&W.legend(j,N),G}function E(G){var W=G.chart,z=G.options,N=z.radius,j=z.innerRadius,F=z.startAngle,k=z.endAngle;return W.coordinate({type:"polar",cfg:{radius:N,innerRadius:j,startAngle:F,endAngle:k}}),G}function I(G){var W,z=G.options,N=z.xAxis,j=z.yAxis,F=z.xField,k=z.yField;return Object(x.e)(Object(M.f)((W={},W[F]=N,W[k]=j,W)))(G)}function A(G){var W=G.chart,z=G.options,N=z.xAxis,j=z.yAxis,F=z.xField,k=z.yField;return N?W.axis(F,N):W.axis(F,!1),j?W.axis(k,j):W.axis(k,!1),G}function R(G){Object(x.e)(C,I,S,E,A,O,M.k,M.c,M.a,M.j,Object(M.b)(),M.i)(G)}var B=Object(x.b)({},o.b.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),p=function(G){Object(d.c)(W,G);function W(){var z=G!==null&&G.apply(this,arguments)||this;return z.type="rose",z}return W.getDefaultOptions=function(){return B},W.prototype.changeData=function(z){this.updateOption({data:z}),this.chart.changeData(z)},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W.prototype.getSchemaAdaptor=function(){return R},W}(o.b)},"/WN3":function(wt,P,i){"use strict";i.d(P,"b",function(){return o}),i.d(P,"a",function(){return b});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=function(rt,Q){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,K){Y.__proto__=K}||function(Y,K){for(var et in K)K.hasOwnProperty(et)&&(Y[et]=K[et])},d(rt,Q)};function o(st,rt){d(st,rt);function Q(){this.constructor=st}st.prototype=rt===null?Object.create(rt):(Q.prototype=rt.prototype,new Q)}var b=function(){return b=Object.assign||function(Q){for(var Y,K=1,et=arguments.length;K<et;K++){Y=arguments[K];for(var ut in Y)Object.prototype.hasOwnProperty.call(Y,ut)&&(Q[ut]=Y[ut])}return Q},b.apply(this,arguments)};function x(st,rt){var Q={};for(var Y in st)Object.prototype.hasOwnProperty.call(st,Y)&&rt.indexOf(Y)<0&&(Q[Y]=st[Y]);if(st!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,Y=Object.getOwnPropertySymbols(st);K<Y.length;K++)rt.indexOf(Y[K])<0&&Object.prototype.propertyIsEnumerable.call(st,Y[K])&&(Q[Y[K]]=st[Y[K]]);return Q}function M(st,rt,Q,Y){var K=arguments.length,et=K<3?rt:Y===null?Y=Object.getOwnPropertyDescriptor(rt,Q):Y,ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(st,rt,Q,Y);else for(var dt=st.length-1;dt>=0;dt--)(ut=st[dt])&&(et=(K<3?ut(et):K>3?ut(rt,Q,et):ut(rt,Q))||et);return K>3&&et&&Object.defineProperty(rt,Q,et),et}function D(st,rt){return function(Q,Y){rt(Q,Y,st)}}function C(st,rt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(st,rt)}function S(st,rt,Q,Y){function K(et){return et instanceof Q?et:new Q(function(ut){ut(et)})}return new(Q||(Q=Promise))(function(et,ut){function dt(pt){try{at(Y.next(pt))}catch(Tt){ut(Tt)}}function vt(pt){try{at(Y.throw(pt))}catch(Tt){ut(Tt)}}function at(pt){pt.done?et(pt.value):K(pt.value).then(dt,vt)}at((Y=Y.apply(st,rt||[])).next())})}function O(st,rt){var Q={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},Y,K,et,ut;return ut={next:dt(0),throw:dt(1),return:dt(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function dt(at){return function(pt){return vt([at,pt])}}function vt(at){if(Y)throw new TypeError("Generator is already executing.");for(;Q;)try{if(Y=1,K&&(et=at[0]&2?K.return:at[0]?K.throw||((et=K.return)&&et.call(K),0):K.next)&&!(et=et.call(K,at[1])).done)return et;switch(K=0,et&&(at=[at[0]&2,et.value]),at[0]){case 0:case 1:et=at;break;case 4:return Q.label++,{value:at[1],done:!1};case 5:Q.label++,K=at[1],at=[0];continue;case 7:at=Q.ops.pop(),Q.trys.pop();continue;default:if(et=Q.trys,!(et=et.length>0&&et[et.length-1])&&(at[0]===6||at[0]===2)){Q=0;continue}if(at[0]===3&&(!et||at[1]>et[0]&&at[1]<et[3])){Q.label=at[1];break}if(at[0]===6&&Q.label<et[1]){Q.label=et[1],et=at;break}if(et&&Q.label<et[2]){Q.label=et[2],Q.ops.push(at);break}et[2]&&Q.ops.pop(),Q.trys.pop();continue}at=rt.call(st,Q)}catch(pt){at=[6,pt],K=0}finally{Y=et=0}if(at[0]&5)throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}}function E(st,rt,Q,Y){Y===void 0&&(Y=Q),st[Y]=rt[Q]}function I(st,rt){for(var Q in st)Q!=="default"&&!rt.hasOwnProperty(Q)&&(rt[Q]=st[Q])}function A(st){var rt=typeof Symbol=="function"&&Symbol.iterator,Q=rt&&st[rt],Y=0;if(Q)return Q.call(st);if(st&&typeof st.length=="number")return{next:function(){return st&&Y>=st.length&&(st=void 0),{value:st&&st[Y++],done:!st}}};throw new TypeError(rt?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(st,rt){var Q=typeof Symbol=="function"&&st[Symbol.iterator];if(!Q)return st;var Y=Q.call(st),K,et=[],ut;try{for(;(rt===void 0||rt-- >0)&&!(K=Y.next()).done;)et.push(K.value)}catch(dt){ut={error:dt}}finally{try{K&&!K.done&&(Q=Y.return)&&Q.call(Y)}finally{if(ut)throw ut.error}}return et}function B(){for(var st=[],rt=0;rt<arguments.length;rt++)st=st.concat(R(arguments[rt]));return st}function p(){for(var st=0,rt=0,Q=arguments.length;rt<Q;rt++)st+=arguments[rt].length;for(var Y=Array(st),K=0,rt=0;rt<Q;rt++)for(var et=arguments[rt],ut=0,dt=et.length;ut<dt;ut++,K++)Y[K]=et[ut];return Y}function G(st){return this instanceof G?(this.v=st,this):new G(st)}function W(st,rt,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=Q.apply(st,rt||[]),K,et=[];return K={},ut("next"),ut("throw"),ut("return"),K[Symbol.asyncIterator]=function(){return this},K;function ut(Gt){Y[Gt]&&(K[Gt]=function(Kt){return new Promise(function(Xt,gt){et.push([Gt,Kt,Xt,gt])>1||dt(Gt,Kt)})})}function dt(Gt,Kt){try{vt(Y[Gt](Kt))}catch(Xt){Tt(et[0][3],Xt)}}function vt(Gt){Gt.value instanceof G?Promise.resolve(Gt.value.v).then(at,pt):Tt(et[0][2],Gt)}function at(Gt){dt("next",Gt)}function pt(Gt){dt("throw",Gt)}function Tt(Gt,Kt){Gt(Kt),et.shift(),et.length&&dt(et[0][0],et[0][1])}}function z(st){var rt,Q;return rt={},Y("next"),Y("throw",function(K){throw K}),Y("return"),rt[Symbol.iterator]=function(){return this},rt;function Y(K,et){rt[K]=st[K]?function(ut){return(Q=!Q)?{value:G(st[K](ut)),done:K==="return"}:et?et(ut):ut}:et}}function N(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt=st[Symbol.asyncIterator],Q;return rt?rt.call(st):(st=typeof A=="function"?A(st):st[Symbol.iterator](),Q={},Y("next"),Y("throw"),Y("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function Y(et){Q[et]=st[et]&&function(ut){return new Promise(function(dt,vt){ut=st[et](ut),K(dt,vt,ut.done,ut.value)})}}function K(et,ut,dt,vt){Promise.resolve(vt).then(function(at){et({value:at,done:dt})},ut)}}function j(st,rt){return Object.defineProperty?Object.defineProperty(st,"raw",{value:rt}):st.raw=rt,st}function F(st){if(st&&st.__esModule)return st;var rt={};if(st!=null)for(var Q in st)Object.hasOwnProperty.call(st,Q)&&(rt[Q]=st[Q]);return rt.default=st,rt}function k(st){return st&&st.__esModule?st:{default:st}}function $(st,rt){if(!rt.has(st))throw new TypeError("attempted to get private field on non-instance");return rt.get(st)}function nt(st,rt,Q){if(!rt.has(st))throw new TypeError("attempted to set private field on non-instance");return rt.set(st,Q),Q}},"/XgH":function(wt,P,i){wt.exports=i("EpgB")},"/Ykl":function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=o[0]/b[0],d[1]=o[1]/b[1],d}},"/aUC":function(wt,P,i){"use strict";var d=i("GkDR"),o=i.n(d),b=i("xTyV"),x=i.n(b),M=i("ZcPb"),D=i.n(M),C=i("5O5Q"),S=i.n(C),O=i("cKYJ"),E=i.n(O),I=i("vItp"),A=i.n(I)},"/dUy":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MetadataReader=void 0;var d=i("9L8m"),o=function(){function b(){}return b.prototype.getConstructorMetadata=function(x){var M=Reflect.getMetadata(d.PARAM_TYPES,x),D=Reflect.getMetadata(d.TAGGED,x);return{compilerGeneratedMetadata:M,userGeneratedMetadata:D||{}}},b.prototype.getPropertiesMetadata=function(x){var M=Reflect.getMetadata(d.TAGGED_PROP,x)||[];return M},b}();P.MetadataReader=o},"/o6D":function(wt,P,i){"use strict";i.d(P,"a",function(){return G});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I"),x=i("Cw9K"),M=i("piQC");function D(W){var z=W.chart,N=W.options,j=N.data,F=N.type,k=N.xField,$=N.yField,nt=N.colorField,st=N.sizeField,rt=N.sizeRatio,Q=N.shape,Y=N.color;z.data(j);var K;F==="density"?K=z.heatmap().position(k+"*"+$):K=z.polygon().position(k+"*"+$),nt&&K.color(nt,Y||z.getTheme().sequenceColors.join("-"));var et=1;if((rt||rt===0)&&(!Q&&!st?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):rt<0||rt>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):et=rt),Q&&(st||K.shape("",function(){return[Q,1,et]}),st)){var ut=j.map(function(at){return at[st]}),dt=Math.min.apply(Math,ut),vt=Math.max.apply(Math,ut);K.shape(st,function(at){return[Q,(at-dt)/(vt-dt),et]})}return W}function C(W){var z,N=W.options,j=N.xAxis,F=N.yAxis,k=N.xField,$=N.yField;return Object(x.e)(Object(M.f)((z={},z[k]=j,z[$]=F,z)))(W)}function S(W){var z=W.chart,N=W.options,j=N.xAxis,F=N.yAxis,k=N.xField,$=N.yField;return j===!1?z.axis(k,!1):z.axis(k,j),F===!1?z.axis($,!1):z.axis($,F),W}function O(W){var z=W.chart,N=W.options,j=N.legend,F=N.colorField;return j?z.legend(F,j):z.legend(!1),W}function E(W){var z=W.chart,N=W.options,j=N.xField,F=N.yField,k=N.colorField,$=N.sizeField,nt=N.heatmapStyle,st=z.geometries[0];return nt&&st&&(Object(b.H)(nt)?st.style(j+"*"+F+"*"+k+"*"+$,nt):Object(b.M)(nt)&&st.style(nt)),W}function I(W){var z=W.chart,N=W.options,j=N.label,F=N.colorField,k=N.type,$=Object(x.c)(z,k==="density"?"heatmap":"polygon");if(!j)$.label(!1);else if(F){var nt=j.callback,st=Object(d.e)(j,["callback"]);$.label({fields:[F],callback:nt,cfg:Object(x.v)(st)})}return W}function A(W){var z=W.chart,N=W.options,j=N.coordinate,F=N.reflect;return j&&z.coordinate({type:j.type||"rect",cfg:j.cfg}),F&&z.coordinate().reflect(F),W}function R(W){return Object(x.e)(M.j,D,C,S,O,M.k,E,I,Object(M.b)(),M.c,M.a,M.i,A)(W)}var B=Object(x.b)({},o.b.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}}),p=i("18og");Object(p.registerShape)("polygon","circle",{draw:function(z,N){var j,F,k=z.x,$=z.y,nt=this.parsePoints(z.points),st=Math.abs(nt[2].x-nt[1].x),rt=Math.abs(nt[1].y-nt[0].y),Q=Math.min(st,rt)/2,Y=Number(z.shape[1]),K=Number(z.shape[2]),et=Math.sqrt(K),ut=Q*et*Math.sqrt(Y),dt=((j=z.style)===null||j===void 0?void 0:j.fill)||z.color||((F=z.defaultStyle)===null||F===void 0?void 0:F.fill),vt=N.addShape("circle",{attrs:Object(d.a)(Object(d.a)(Object(d.a)({x:k,y:$,r:ut},z.defaultStyle),z.style),{fill:dt})});return vt}}),Object(p.registerShape)("polygon","square",{draw:function(z,N){var j,F,k=z.x,$=z.y,nt=this.parsePoints(z.points),st=Math.abs(nt[2].x-nt[1].x),rt=Math.abs(nt[1].y-nt[0].y),Q=Math.min(st,rt),Y=Number(z.shape[1]),K=Number(z.shape[2]),et=Math.sqrt(K),ut=Q*et*Math.sqrt(Y),dt=((j=z.style)===null||j===void 0?void 0:j.fill)||z.color||((F=z.defaultStyle)===null||F===void 0?void 0:F.fill),vt=N.addShape("rect",{attrs:Object(d.a)(Object(d.a)(Object(d.a)({x:k-ut/2,y:$-ut/2,width:ut,height:ut},z.defaultStyle),z.style),{fill:dt})});return vt}});var G=function(W){Object(d.c)(z,W);function z(){var N=W!==null&&W.apply(this,arguments)||this;return N.type="heatmap",N}return z.getDefaultOptions=function(){return B},z.prototype.getSchemaAdaptor=function(){return R},z.prototype.getDefaultOptions=function(){return z.getDefaultOptions()},z}(o.b)},"/pXD":function(wt,P){},"02mg":function(wt,P,i){"use strict";i.d(P,"a",function(){return st});var d=i("J+IK"),o=i("Gc/9"),b=i("Cw9K"),x=i("jg4I"),M=i("AOO/"),D=i("piQC"),C=i("fxXO"),S={exp:C.regressionExp,linear:C.regressionLinear,loess:C.regressionLoess,log:C.regressionLog,poly:C.regressionPoly,pow:C.regressionPow,quad:C.regressionQuad};function O(rt,Q){var Y=10,K={regionStyle:[{position:{start:[rt,"max"],end:["max",Q]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[rt,Q]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",Q],end:[rt,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[rt,Q],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",Q],offsetX:-Y,offsetY:-Y,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",Q],offsetX:Y,offsetY:-Y,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",Q],offsetX:Y,offsetY:Y,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",Q],offsetX:-Y,offsetY:Y,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return K}var E=function(Q,Y){var K=Y.view,et=Y.options,ut=et.xField,dt=et.yField,vt=K.getScaleByField(ut),at=K.getScaleByField(dt),pt=Q.map(function(Tt){return K.getCoordinate().convert({x:vt.scale(Tt[0]),y:at.scale(Tt[1])})});return Object(b.j)(pt,!1)},I=function(Q){var Y=Q.options,K=Y.xField,et=Y.yField,ut=Y.data,dt=Y.regressionLine,vt=dt.type,at=vt===void 0?"linear":vt,pt=dt.algorithm,Tt;if(pt)Tt=Object(x.B)(pt)?pt:pt(ut);else{var Gt=S[at]().x(function(Kt){return Kt[K]}).y(function(Kt){return Kt[et]});Tt=Gt(ut)}return E(Tt,Q)},A=function(Q){var Y,K=Q.meta,et=K===void 0?{}:K,ut=Q.xField,dt=Q.yField,vt=Q.data,at=vt[0][ut],pt=vt[0][dt],Tt=at>0,Gt=pt>0,Kt=function(gt,lt,ft){var it=Object(x.s)(et,[gt,lt]);if(Object(x.K)(it))return it;if(ft==="x"){var bt={min:Tt?0:at*2,max:Tt?at*2:0};return bt[lt]}var Dt={min:Gt?0:pt*2,max:Gt?pt*2:0};return Dt[lt]};return Object(d.a)(Object(d.a)({},et),(Y={},Y[ut]=Object(d.a)(Object(d.a)({},et[ut]),{min:Kt(ut,"min","x"),max:Kt(ut,"max","x")}),Y[dt]=Object(d.a)(Object(d.a)({},et[dt]),{min:Kt(dt,"min","y"),max:Kt(dt,"max","y")}),Y))};function R(rt){var Q=rt.data,Y=Q===void 0?[]:Q;return Y.length===1?Object(b.b)({},rt,{meta:A(rt)}):rt}function B(rt){var Q=rt.chart,Y=rt.options,K=Y.data,et=Y.type,ut=Y.color,dt=Y.shape,vt=Y.pointStyle,at=Y.shapeField,pt=Y.colorField,Tt=Y.xField,Gt=Y.yField,Kt=Y.sizeField,Xt=Y.size,gt=Y.tooltip;Kt&&(Xt||(Xt=[2,8]),Object(x.K)(Xt)&&(Xt=[Xt,Xt])),gt&&!gt.fields&&(gt=Object(d.a)(Object(d.a)({},gt),{fields:[Tt,Gt,pt,Kt,at]})),Q.data(K),Object(M.e)(Object(b.b)({},rt,{options:{seriesField:pt,point:{color:ut,shape:dt,size:Xt,style:vt},tooltip:gt}}));var lt=Object(b.c)(Q,"point");return et&&lt.adjust(et),rt}function p(rt){var Q,Y=rt.options,K=Y.data,et=Y.xAxis,ut=Y.yAxis,dt=Y.xField,vt=Y.yField,at=Y;return K.length===1&&(at=R(Object(b.b)({},Y,{meta:A(Y)}))),Object(b.e)(Object(D.f)((Q={},Q[dt]=et,Q[vt]=ut,Q)))(Object(b.b)({},rt,{options:at}))}function G(rt){var Q=rt.chart,Y=rt.options,K=Y.xAxis,et=Y.yAxis,ut=Y.xField,dt=Y.yField;return Q.axis(ut,K),Q.axis(dt,et),rt}function W(rt){var Q=rt.chart,Y=rt.options,K=Y.legend,et=Y.colorField,ut=Y.shapeField,dt=Y.sizeField,vt=Y.shapeLegend,at=Y.sizeLegend,pt=K!==!1;return et&&Q.legend(et,pt?K:!1),ut&&(vt?Q.legend(ut,vt):Q.legend(ut,vt===!1?!1:K)),dt&&Q.legend(dt,at||!1),!pt&&!vt&&!at&&Q.legend(!1),rt}function z(rt){var Q=rt.chart,Y=rt.options,K=Y.label,et=Y.yField,ut=Object(b.c)(Q,"point");if(!K)ut.label(!1);else{var dt=K.callback,vt=Object(d.e)(K,["callback"]);ut.label({fields:[et],callback:dt,cfg:Object(b.v)(vt)})}return rt}function N(rt){var Q=rt.options,Y=Q.quadrant,K=[];if(Y){var et=Y.xBaseline,ut=et===void 0?0:et,dt=Y.yBaseline,vt=dt===void 0?0:dt,at=Y.labels,pt=Y.regionStyle,Tt=Y.lineStyle,Gt=O(ut,vt),Kt=new Array(4).join(",").split(",");Kt.forEach(function(Xt,gt){K.push(Object(d.a)(Object(d.a)({type:"region",top:!1},Gt.regionStyle[gt].position),{style:Object(b.b)({},Gt.regionStyle[gt].style,pt==null?void 0:pt[gt])}),Object(d.a)({type:"text",top:!0},Object(b.b)({},Gt.labelStyle[gt],at==null?void 0:at[gt])))}),K.push({type:"line",top:!1,start:["min",vt],end:["max",vt],style:Object(b.b)({},Gt.lineStyle,Tt)},{type:"line",top:!1,start:[ut,"min"],end:[ut,"max"],style:Object(b.b)({},Gt.lineStyle,Tt)})}return Object(b.e)(Object(D.b)(K))(rt)}function j(rt){var Q=rt.options,Y=rt.chart,K=Q.regressionLine;if(K){var et=K.style,ut=K.top,dt=ut===void 0?!1:ut,vt={stroke:"#9ba29a",lineWidth:2,opacity:.5};Y.annotation().shape({top:dt,render:function(pt,Tt){var Gt=pt.addGroup({id:Y.id+"-regression-line",name:"regression-line-group"}),Kt=I({view:Tt,options:Q});Gt.addShape("path",{name:"regression-line",attrs:Object(d.a)(Object(d.a)({path:Kt},vt),et)})}})}return rt}function F(rt){var Q=rt.chart,Y=rt.options,K=Y.tooltip;return K?Q.tooltip(K):K===!1&&Q.tooltip(!1),rt}function k(rt){return Object(b.e)(B,p,G,W,F,z,D.c,N,D.a,D.j,j)(rt)}var $=Object(b.b)({},o.b.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}}),nt=i("KeK7"),st=function(rt){Object(d.c)(Q,rt);function Q(){var Y=rt!==null&&rt.apply(this,arguments)||this;return Y.type="point",Y}return Q.getDefaultOptions=function(){return $},Q.prototype.changeData=function(Y){this.updateOption(R(Object(b.b)({},this.options,{data:Y})));var K=this,et=K.options,ut=K.chart;p({chart:ut,options:et}),this.chart.changeData(Y)},Q.prototype.getSchemaAdaptor=function(){return k},Q.prototype.getDefaultOptions=function(){return Q.getDefaultOptions()},Q}(o.b)},"08EK":function(wt,P,i){"use strict";i.d(P,"j",function(){return o}),i.d(P,"c",function(){return b}),i.d(P,"g",function(){return x}),i.d(P,"b",function(){return M});var d=i("jg4I");i.d(P,"e",function(){return d.I}),i.d(P,"d",function(){return d.H}),i.d(P,"h",function(){return d.O}),i.d(P,"f",function(){return d.M}),i.d(P,"i",function(){return d.bb}),i.d(P,"a",function(){return d.j}),i.d(P,"k",function(){return d.tb});function o(D,C){var S=D.indexOf(C);S!==-1&&D.splice(S,1)}var b=typeof window!="undefined"&&typeof window.document!="undefined";function x(D,C){if(D.isCanvas())return!0;for(var S=C.getParent(),O=!1;S;){if(S===D){O=!0;break}S=S.getParent()}return O}function M(D){return D.cfg.visible&&D.cfg.capture}},"09fY":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.typeConstraint=P.namedConstraint=P.taggedConstraint=P.traverseAncerstors=void 0;var d=i("9L8m"),o=i("rMkn"),b=function C(S,O){var E=S.parentRequest;return E!==null?O(E)?!0:C(E,O):!1};P.traverseAncerstors=b;var x=function(S){return function(O){var E=function(A){return A!==null&&A.target!==null&&A.target.matchesTag(S)(O)};return E.metaData=new o.Metadata(S,O),E}};P.taggedConstraint=x;var M=x(d.NAMED_TAG);P.namedConstraint=M;var D=function(S){return function(O){var E=null;if(O!==null)if(E=O.bindings[0],typeof S=="string"){var I=E.serviceIdentifier;return I===S}else{var A=O.bindings[0].implementationType;return S===A}return!1}};P.typeConstraint=D},"0aAk":function(wt,P,i){var d=i("ql+n"),o=i("K0S0"),b=i("mbOf");wt.exports=x;function x(M,D){var C=new o,S={},O=new b,E;function I(R){var B=R.v===E?R.w:R.v,p=O.priority(B);if(p!==void 0){var G=D(R);G<p&&(S[B]=E,O.decrease(B,G))}}if(M.nodeCount()===0)return C;d.each(M.nodes(),function(R){O.add(R,Number.POSITIVE_INFINITY),C.setNode(R)}),O.decrease(M.nodes()[0],0);for(var A=!1;O.size()>0;){if(E=O.removeMin(),d.has(S,E))C.setEdge(E,S[E]);else{if(A)throw new Error("Input graph is not connected: "+M);A=!0}M.nodeEdges(E).forEach(I)}return C}},"0iMn":function(wt,P){function i(d,o){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}wt.exports=i,wt.exports.default=wt.exports,wt.exports.__esModule=!0},"0mwY":function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=o,d[1]=b,d}},"0n2G":function(wt,P,i){"use strict";i.d(P,"g",function(){return o}),i.d(P,"f",function(){return b}),i.d(P,"e",function(){return x}),i.d(P,"a",function(){return M}),i.d(P,"c",function(){return D}),i.d(P,"h",function(){return C}),i.d(P,"d",function(){return S}),i.d(P,"b",function(){return O});var d,o="range",b="type",x="percent",M="#f0f0f0",D="indicator-view",C="range-view",S="range-mask-view",O={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(d={},d[o]={sync:"v"},d[x]={sync:"v",tickCount:5,tickInterval:.2},d),animation:!1}},"0os6":function(wt,P,i){"use strict";i.d(P,"a",function(){return vt});var d=i("X0zg"),o=i.n(d),b=i("4Wd/"),x=i.n(b),M=i("t7U3"),D=i.n(M),C=i("S5Um"),S=i.n(C),O=i("qJ52"),E=i.n(O),I=i("25gg"),A=i.n(I),R=i("VwUA"),B=i.n(R),p=i("0iMn"),G=i.n(p),W=i("YcyD"),z=i.n(W),N=i("2Pg9"),j=i("XN3X"),F,k,$,nt,st,rt,Q,Y,K,et;function ut(at,pt){var Tt=Object.keys(at);if(Object.getOwnPropertySymbols){var Gt=Object.getOwnPropertySymbols(at);pt&&(Gt=Gt.filter(function(Kt){return Object.getOwnPropertyDescriptor(at,Kt).enumerable})),Tt.push.apply(Tt,Gt)}return Tt}function dt(at){for(var pt=1;pt<arguments.length;pt++){var Tt=arguments[pt]!=null?arguments[pt]:{};pt%2?ut(Object(Tt),!0).forEach(function(Gt){o()(at,Gt,Tt[Gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Tt)):ut(Object(Tt)).forEach(function(Gt){Object.defineProperty(at,Gt,Object.getOwnPropertyDescriptor(Tt,Gt))})}return at}var vt=(F=Object(W.injectable)(),k=Object(W.inject)(j.a.MaterialComponentManager),$=Object(W.inject)(j.a.RenderEngine),nt=Object(W.inject)(j.a.ShaderModuleService),F(st=(rt=(et=function(){function at(){E()(this,at),S()(this,"material",Q,this),S()(this,"engine",Y,this),S()(this,"shaderModule",K,this)}return A()(at,[{key:"execute",value:function(){var pt=D()(x.a.mark(function Gt(){return x.a.wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:case"end":return Xt.stop()}},Gt)}));function Tt(){return pt.apply(this,arguments)}return Tt}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(Tt){var Gt=Object(N.createEntity)(),Kt=Tt.vertexShader,Xt=Tt.fragmentShader,gt=[];if(!this.engine.supportWebGPU){var lt="material-".concat(Gt);this.shaderModule.registerModule(lt,{vs:Tt.vertexShader,fs:Tt.fragmentShader});var ft=this.shaderModule.getModule(lt);Kt=ft.vs,Xt=ft.fs,ft.uniforms&&(gt=Object.keys(ft.uniforms).map(function(it){return{dirty:!0,name:it,data:ft.uniforms[it]}}))}return this.material.create(Gt,dt(dt({vertexShaderGLSL:Kt,fragmentShaderGLSL:Xt},Tt),{},{uniforms:gt}))}}]),at}(),et),Q=B()(rt.prototype,"material",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=B()(rt.prototype,"engine",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=B()(rt.prototype,"shaderModule",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt))||st)},"0xlF":function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"b",function(){return o});var d={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},o={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},b=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},"10jL":function(wt,P,i){"use strict";i.d(P,"a",function(){return D});var d=i("J+IK"),o=i("Gc/9"),b=i("2dsA"),x=i("DpQZ"),M=i("iqCt"),D=function(C){Object(d.c)(S,C);function S(){var O=C!==null&&C.apply(this,arguments)||this;return O.type="process",O}return S.getDefaultOptions=function(){return x.b},S.prototype.changeData=function(O){this.updateOption({percent:O}),this.chart.changeData(Object(M.a)(O))},S.prototype.getDefaultOptions=function(){return S.getDefaultOptions()},S.prototype.getSchemaAdaptor=function(){return b.a},S}(o.b)},"13cj":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ContainerSnapshot=void 0;var d=function(){function o(){}return o.of=function(b,x){var M=new o;return M.bindings=b,M.middleware=x,M},o}();P.ContainerSnapshot=d},"18og":function(wt,P,i){"use strict";i.r(P),i.d(P,"VIEW_LIFE_CIRCLE",function(){return C}),i.d(P,"VERSION",function(){return pl}),i.d(P,"Chart",function(){return If}),i.d(P,"View",function(){return ou}),i.d(P,"Event",function(){return Vo}),i.d(P,"ComponentController",function(){return hl}),i.d(P,"TooltipController",function(){return Df}),i.d(P,"Geometry",function(){return Ji}),i.d(P,"Element",function(){return jf}),i.d(P,"GeometryLabel",function(){return jl}),i.d(P,"Interaction",function(){return bs}),i.d(P,"Action",function(){return Ai}),i.d(P,"Facet",function(){return wi}),i.d(P,"InteractionAction",function(){return Ai}),i.d(P,"registerComponentController",function(){return Hr}),i.d(P,"registerGeometry",function(){return Os}),i.d(P,"registerShape",function(){return Oi}),i.d(P,"registerShapeFactory",function(){return Ks}),i.d(P,"getShapeFactory",function(){return Oc}),i.d(P,"registerGeometryLabel",function(){return vl}),i.d(P,"registerGeometryLabelLayout",function(){return to}),i.d(P,"getGeometryLabel",function(){return mc}),i.d(P,"getGeometryLabelLayout",function(){return Rf}),i.d(P,"getInteraction",function(){return he}),i.d(P,"registerInteraction",function(){return xe}),i.d(P,"registerAction",function(){return ua}),i.d(P,"getActionClass",function(){return sl}),i.d(P,"getFacet",function(){return Ws}),i.d(P,"registerFacet",function(){return Uo}),i.d(P,"getTheme",function(){return Jn}),i.d(P,"registerTheme",function(){return oa}),i.d(P,"registerEngine",function(){return z}),i.d(P,"getEngine",function(){return W}),i.d(P,"registerAnimation",function(){return mo}),i.d(P,"getAnimation",function(){return su}),i.d(P,"LAYER",function(){return b}),i.d(P,"DIRECTION",function(){return x}),i.d(P,"Coordinate",function(){return tt}),i.d(P,"Scale",function(){return bt.c}),i.d(P,"Util",function(){return Fu});var d=i("J+IK"),o=i("jg4I"),b;(function(g){g.FORE="fore",g.MID="mid",g.BG="bg"})(b||(b={}));var x;(function(g){g.TOP="top",g.TOP_LEFT="top-left",g.TOP_RIGHT="top-right",g.RIGHT="right",g.RIGHT_TOP="right-top",g.RIGHT_BOTTOM="right-bottom",g.LEFT="left",g.LEFT_TOP="left-top",g.LEFT_BOTTOM="left-bottom",g.BOTTOM="bottom",g.BOTTOM_LEFT="bottom-left",g.BOTTOM_RIGHT="bottom-right",g.RADIUS="radius",g.CIRCLE="circle",g.NONE="none"})(x||(x={}));var M;(function(g){g.AXIS="axis",g.GRID="grid",g.LEGEND="legend",g.TOOLTIP="tooltip",g.ANNOTATION="annotation",g.SLIDER="slider",g.SCROLLBAR="scrollbar",g.OTHER="other"})(M||(M={}));var D={FORE:3,MID:2,BG:1},C;(function(g){g.BEFORE_RENDER="beforerender",g.AFTER_RENDER="afterrender",g.BEFORE_PAINT="beforepaint",g.AFTER_PAINT="afterpaint",g.BEFORE_CHANGE_DATA="beforechangedata",g.AFTER_CHANGE_DATA="afterchangedata",g.BEFORE_CLEAR="beforeclear",g.AFTER_CLEAR="afterclear",g.BEFORE_DESTROY="beforedestroy",g.BEFORE_CHANGE_SIZE="beforechangesize",g.AFTER_CHANGE_SIZE="afterchangesize"})(C||(C={}));var S;(function(g){g.BEFORE_DRAW_ANIMATE="beforeanimate",g.AFTER_DRAW_ANIMATE="afteranimate"})(S||(S={}));var O;(function(g){g.MOUSE_ENTER="plot:mouseenter",g.MOUSE_DOWN="plot:mousedown",g.MOUSE_MOVE="plot:mousemove",g.MOUSE_UP="plot:mouseup",g.MOUSE_LEAVE="plot:mouseleave",g.TOUCH_START="plot:touchstart",g.TOUCH_MOVE="plot:touchmove",g.TOUCH_END="plot:touchend",g.TOUCH_CANCEL="plot:touchcancel",g.CLICK="plot:click",g.DBLCLICK="plot:dblclick",g.CONTEXTMENU="plot:contextmenu",g.LEAVE="plot:leave",g.ENTER="plot:enter"})(O||(O={}));var E;(function(g){g.ACTIVE="active",g.INACTIVE="inactive",g.SELECTED="selected",g.DEFAULT="default"})(E||(E={}));var I=["color","shape","size"],A="_origin",R=1,B=1,p=.25,G={};function W(g){var h=G[g];if(!h)throw new Error("G engine '"+g+"' is not exist, please register it at first.");return h}function z(g,h){G[g]=h}var N=i("m8xh");function j(g){var h=getComputedStyle(g);return{width:(g.clientWidth||parseInt(h.width,10))-parseInt(h.paddingLeft,10)-parseInt(h.paddingRight,10),height:(g.clientHeight||parseInt(h.height,10))-parseInt(h.paddingTop,10)-parseInt(h.paddingBottom,10)}}function F(g){return typeof g=="number"&&!isNaN(g)}function k(g,h,s,c){var y=s,L=c;if(h){var H=j(g);y=H.width?H.width:y,L=H.height?H.height:L}return{width:Math.max(F(y)?y:R,R),height:Math.max(F(L)?L:B,B)}}function $(g){var h=g.parentNode;h&&h.removeChild(g)}var nt=i("nZiY"),st=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this)||this;c.destroyed=!1;var y=s.visible,L=y===void 0?!0:y;return c.visible=L,c}return h.prototype.show=function(){var s=this.visible;s||this.changeVisible(!0)},h.prototype.hide=function(){var s=this.visible;s&&this.changeVisible(!1)},h.prototype.destroy=function(){this.off(),this.destroyed=!0},h.prototype.changeVisible=function(s){this.visible!==s&&(this.visible=s)},h}(nt.a),rt=st,Q=i("U8wd"),Y=i("Q55c"),K=function(h,s){return Object(o.O)(s)?s:h.invert(h.scale(s))},et=function(){function g(h){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(h)}return g.prototype.mapping=function(){for(var h=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var y=s.map(function(L,H){return h._toOriginParam(L,h.scales[H])});return this.callback.apply(this,y)},g.prototype.getLinearValue=function(h){var s=this.values.length-1,c=Math.floor(s*h),y=s*h-c,L=this.values[c],H=c===s?L:this.values[c+1];return L+(H-L)*y},g.prototype.getNames=function(){for(var h=this.scales,s=this.names,c=Math.min(h.length,s.length),y=[],L=0;L<c;L+=1)y.push(s[L]);return y},g.prototype.getFields=function(){return this.scales.map(function(h){return h.field})},g.prototype.getScale=function(h){return this.scales[this.names.indexOf(h)]},g.prototype.defaultCallback=function(){for(var h=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return s.length===0?this.values:s.map(function(y,L){var H=h.scales[L];return H.type==="identity"?H.values[0]:h._getAttributeValue(H,y)})},g.prototype._parseCfg=function(h){var s=this,c=h.type,y=c===void 0?"base":c,L=h.names,H=L===void 0?[]:L,ct=h.scales,Ot=ct===void 0?[]:ct,zt=h.values,Zt=zt===void 0?[]:zt,$t=h.callback;this.type=y,this.scales=Ot,this.values=Zt,this.names=H,this.callback=function(){for(var te=[],ne=0;ne<arguments.length;ne++)te[ne]=arguments[ne];if($t){var de=$t.apply(void 0,te);if(!Object(o.I)(de))return[de]}return s.defaultCallback.apply(s,te)}},g.prototype._getAttributeValue=function(h,s){if(h.isCategory&&!this.linear){var c=h.translate(s);return this.values[c%this.values.length]}var y=h.scale(s);return this.getLinearValue(y)},g.prototype._toOriginParam=function(h,s){return s.isLinear?h:Object(o.B)(h)?h.map(function(c){return K(s,c)}):K(s,h)},g}(),ut=et,dt=i("/WN3"),vt=i("viQC"),at=function(g){Object(dt.b)(h,g);function h(s){var c=g.call(this,s)||this;return c.type="color",c.names=["color"],Object(o.O)(c.values)&&(c.linear=!0),c.gradient=vt.a.gradient(c.values),c}return h.prototype.getLinearValue=function(s){return this.gradient(s)},h}(ut),pt=at,Tt=function(g){Object(dt.b)(h,g);function h(s){var c=g.call(this,s)||this;return c.type="opacity",c.names=["opacity"],c}return h}(ut),Gt=Tt,Kt=function(g){Object(dt.b)(h,g);function h(s){var c=g.call(this,s)||this;return c.names=["x","y"],c.type="position",c}return h.prototype.mapping=function(s,c){var y=this.scales,L=y[0],H=y[1];return Object(o.I)(s)||Object(o.I)(c)?[]:[Object(o.B)(s)?s.map(function(ct){return L.scale(ct)}):L.scale(s),Object(o.B)(c)?c.map(function(ct){return H.scale(ct)}):H.scale(c)]},h}(ut),Xt=Kt,gt=function(g){Object(dt.b)(h,g);function h(s){var c=g.call(this,s)||this;return c.type="shape",c.names=["shape"],c}return h.prototype.getLinearValue=function(s){var c=Math.round((this.values.length-1)*s);return this.values[c]},h}(ut),lt=gt,ft=function(g){Object(dt.b)(h,g);function h(s){var c=g.call(this,s)||this;return c.type="size",c.names=["size"],c}return h}(ut),it=ft,bt=i("6vWT"),Dt={},Mt=function(h){return Dt[h.toLowerCase()]},q=function(h,s){if(Mt(h))throw new Error("Attribute type '"+h+"' existed.");Dt[h.toLowerCase()]=s};q("Color",pt),q("Opacity",Gt),q("Position",Xt),q("Shape",lt),q("Size",it);var V=i("sxZn"),ot=function(){function g(h){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var s=h.start,c=h.end,y=h.matrix,L=y===void 0?[1,0,0,0,1,0,0,0,1]:y,H=h.isTransposed,ct=H===void 0?!1:H;this.start=s,this.end=c,this.matrix=L,this.originalMatrix=Object(d.f)([],L),this.isTransposed=ct}return g.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},g.prototype.update=function(h){Object(o.b)(this,h),this.initial()},g.prototype.convertDim=function(h,s){var c,y=this[s],L=y.start,H=y.end;return this.isReflect(s)&&(c=[H,L],L=c[0],H=c[1]),L+h*(H-L)},g.prototype.invertDim=function(h,s){var c,y=this[s],L=y.start,H=y.end;return this.isReflect(s)&&(c=[H,L],L=c[0],H=c[1]),(h-L)/(H-L)},g.prototype.applyMatrix=function(h,s,c){c===void 0&&(c=0);var y=this.matrix,L=[h,s,c];return V.d.transformMat3(L,L,y),L},g.prototype.invertMatrix=function(h,s,c){c===void 0&&(c=0);var y=this.matrix,L=V.b.invert([0,0,0,0,0,0,0,0,0],y),H=[h,s,c];return L&&V.d.transformMat3(H,H,L),H},g.prototype.convert=function(h){var s=this.convertPoint(h),c=s.x,y=s.y,L=this.applyMatrix(c,y,1);return{x:L[0],y:L[1]}},g.prototype.invert=function(h){var s=this.invertMatrix(h.x,h.y,1);return this.invertPoint({x:s[0],y:s[1]})},g.prototype.rotate=function(h){var s=this.matrix,c=this.center;return V.a.leftTranslate(s,s,[-c.x,-c.y]),V.a.leftRotate(s,s,h),V.a.leftTranslate(s,s,[c.x,c.y]),this},g.prototype.reflect=function(h){return h==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},g.prototype.scale=function(h,s){var c=this.matrix,y=this.center;return V.a.leftTranslate(c,c,[-y.x,-y.y]),V.a.leftScale(c,c,[h,s]),V.a.leftTranslate(c,c,[y.x,y.y]),this},g.prototype.translate=function(h,s){var c=this.matrix;return V.a.leftTranslate(c,c,[h,s]),this},g.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},g.prototype.getCenter=function(){return this.center},g.prototype.getWidth=function(){return this.width},g.prototype.getHeight=function(){return this.height},g.prototype.getRadius=function(){return this.radius},g.prototype.isReflect=function(h){return h==="x"?this.isReflectX:this.isReflectY},g.prototype.resetMatrix=function(h){this.matrix=h||Object(d.f)([],this.originalMatrix)},g}(),tt=ot,yt=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;return c.isRect=!0,c.type="cartesian",c.initial(),c}return h.prototype.initial=function(){g.prototype.initial.call(this);var s=this.start,c=this.end;this.x={start:s.x,end:c.x},this.y={start:s.y,end:c.y}},h.prototype.convertPoint=function(s){var c,y=s.x,L=s.y;return this.isTransposed&&(c=[L,y],y=c[0],L=c[1]),{x:this.convertDim(y,"x"),y:this.convertDim(L,"y")}},h.prototype.invertPoint=function(s){var c,y=this.invertDim(s.x,"x"),L=this.invertDim(s.y,"y");return this.isTransposed&&(c=[L,y],y=c[0],L=c[1]),{x:y,y:L}},h}(tt),Pt=yt,Ft=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.isHelix=!0,c.type="helix";var y=s.startAngle,L=y===void 0?1.25*Math.PI:y,H=s.endAngle,ct=H===void 0?7.25*Math.PI:H,Ot=s.innerRadius,zt=Ot===void 0?0:Ot,Zt=s.radius;return c.startAngle=L,c.endAngle=ct,c.innerRadius=zt,c.radius=Zt,c.initial(),c}return h.prototype.initial=function(){g.prototype.initial.call(this);var s=(this.endAngle-this.startAngle)/(2*Math.PI)+1,c=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(c=c*this.radius),this.d=Math.floor(c*(1-this.innerRadius)/s),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*c,end:this.innerRadius*c+this.d*.99}},h.prototype.convertPoint=function(s){var c,y=s.x,L=s.y;this.isTransposed&&(c=[L,y],y=c[0],L=c[1]);var H=this.convertDim(y,"x"),ct=this.a*H,Ot=this.convertDim(L,"y");return{x:this.center.x+Math.cos(H)*(ct+Ot),y:this.center.y+Math.sin(H)*(ct+Ot)}},h.prototype.invertPoint=function(s){var c,y=this.d+this.y.start,L=V.c.subtract([0,0],[s.x,s.y],[this.center.x,this.center.y]),H=V.a.angleTo(L,[1,0],!0),ct=H*this.a;V.c.length(L)<ct&&(ct=V.c.length(L));var Ot=Math.floor((V.c.length(L)-ct)/y);H=2*Ot*Math.PI+H;var zt=this.a*H,Zt=V.c.length(L)-zt;Zt=Object(o.L)(Zt,0)?0:Zt;var $t=this.invertDim(H,"x"),te=this.invertDim(Zt,"y");return $t=Object(o.L)($t,0)?0:$t,te=Object(o.L)(te,0)?0:te,this.isTransposed&&(c=[te,$t],$t=c[0],te=c[1]),{x:$t,y:te}},h}(tt),Wt=Ft,Vt=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.isPolar=!0,c.type="polar";var y=s.startAngle,L=y===void 0?-Math.PI/2:y,H=s.endAngle,ct=H===void 0?Math.PI*3/2:H,Ot=s.innerRadius,zt=Ot===void 0?0:Ot,Zt=s.radius;return c.startAngle=L,c.endAngle=ct,c.innerRadius=zt,c.radius=Zt,c.initial(),c}return h.prototype.initial=function(){for(g.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var s=this.getOneBox(),c=s.maxX-s.minX,y=s.maxY-s.minY,L=Math.abs(s.minX)/c,H=Math.abs(s.minY)/y,ct;this.height/y>this.width/c?(ct=this.width/c,this.circleCenter={x:this.center.x-(.5-L)*this.width,y:this.center.y-(.5-H)*ct*y}):(ct=this.height/y,this.circleCenter={x:this.center.x-(.5-L)*ct*c,y:this.center.y-(.5-H)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=ct*this.radius:(this.radius<=0||this.radius>ct)&&(this.polarRadius=ct):this.polarRadius=ct,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},h.prototype.getRadius=function(){return this.polarRadius},h.prototype.convertPoint=function(s){var c,y=this.getCenter(),L=s.x,H=s.y;return this.isTransposed&&(c=[H,L],L=c[0],H=c[1]),L=this.convertDim(L,"x"),H=this.convertDim(H,"y"),{x:y.x+Math.cos(L)*H,y:y.y+Math.sin(L)*H}},h.prototype.invertPoint=function(s){var c,y=this.getCenter(),L=[s.x-y.x,s.y-y.y],H=this,ct=H.startAngle,Ot=H.endAngle;this.isReflect("x")&&(c=[Ot,ct],ct=c[0],Ot=c[1]);var zt=[1,0,0,0,1,0,0,0,1];V.a.leftRotate(zt,zt,ct);var Zt=[1,0,0];V.d.transformMat3(Zt,Zt,zt);var $t=[Zt[0],Zt[1]],te=V.a.angleTo($t,L,Ot<ct);Object(o.L)(te,Math.PI*2)&&(te=0);var ne=V.c.length(L),de=te/(Ot-ct);de=Ot-ct>0?de:-de;var be=this.invertDim(ne,"y"),He={x:0,y:0};return He.x=this.isTransposed?be:de,He.y=this.isTransposed?de:be,He},h.prototype.getCenter=function(){return this.circleCenter},h.prototype.getOneBox=function(){var s=this.startAngle,c=this.endAngle;if(Math.abs(c-s)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var y=[0,Math.cos(s),Math.cos(c)],L=[0,Math.sin(s),Math.sin(c)],H=Math.min(s,c);H<Math.max(s,c);H+=Math.PI/18)y.push(Math.cos(H)),L.push(Math.sin(H));return{minX:Math.min.apply(Math,y),maxX:Math.max.apply(Math,y),minY:Math.min.apply(Math,L),maxY:Math.max.apply(Math,L)}},h}(tt),Lt=Vt,Ct={},_=function(h){return Ct[h.toLowerCase()]},It=function(h,s){Ct[h.toLowerCase()]=s};It("rect",Pt),It("cartesian",Pt),It("polar",Lt),It("helix",Wt);var Rt=i("IcjZ"),xt=Rt.Axis.Line,Nt=Rt.Axis.Circle,Ht=Rt.Grid.Line,jt=Rt.Grid.Circle,Ut=Rt.Legend.Category,Jt=Rt.Legend.Continuous,se=Rt.Tooltip.Html;function me(g){if(Object(o.F)(g))return null;var h=g[0].x,s=g[0].x,c=g[0].y,y=g[0].y;return Object(o.j)(g,function(L){h=h>L.x?L.x:h,s=s<L.x?L.x:s,c=c>L.y?L.y:c,y=y<L.y?L.y:y}),{minX:h,maxX:s,minY:c,maxY:y,centerX:(h+s)/2,centerY:(c+y)/2}}function Me(g,h,s,c){return{x:g+s*Math.cos(c),y:h+s*Math.sin(c)}}function Pe(g,h,s,c,y,L){L===void 0&&(L=0);var H=Me(g,h,s,c),ct=Me(g,h,s,y),Ot=Me(g,h,L,c),zt=Me(g,h,L,y);if(y-c==Math.PI*2){var Zt=Me(g,h,s,c+Math.PI),$t=Me(g,h,L,c+Math.PI),te=[["M",H.x,H.y],["A",s,s,0,1,1,Zt.x,Zt.y],["A",s,s,0,1,1,ct.x,ct.y],["M",Ot.x,Ot.y]];return L&&(te.push(["A",L,L,0,1,0,$t.x,$t.y]),te.push(["A",L,L,0,1,0,zt.x,zt.y])),te.push(["M",H.x,H.y]),te.push(["Z"]),te}var ne=y-c<=Math.PI?0:1,de=[["M",H.x,H.y],["A",s,s,0,ne,1,ct.x,ct.y],["L",zt.x,zt.y]];return L&&de.push(["A",L,L,0,ne,0,Ot.x,Ot.y]),de.push(["L",H.x,H.y]),de.push(["Z"]),de}function Ge(g,h,s,c,y){var L=Me(g,h,s,c),H=Me(g,h,s,y);if(Object(o.L)(y-c,Math.PI*2)){var ct=Me(g,h,s,c+Math.PI);return[["M",L.x,L.y],["A",s,s,0,1,1,ct.x,ct.y],["A",s,s,0,1,1,L.x,L.y],["A",s,s,0,1,0,ct.x,ct.y],["A",s,s,0,1,0,L.x,L.y],["Z"]]}var Ot=y-c<=Math.PI?0:1;return[["M",L.x,L.y],["A",s,s,0,Ot,1,H.x,H.y]]}function nr(g,h){var s=g.points,c=me(s),y,L,H=h.startAngle,ct=h.endAngle,Ot=ct-H;return h.isTransposed?(y=c.maxY*Ot,L=c.minY*Ot):(y=c.maxX*Ot,L=c.minX*Ot),y+=H,L+=H,{startAngle:L,endAngle:y}}function gr(g,h){if(Object(o.K)(g)&&Object(o.K)(h))return[g,h];for(var s=-1,c=0,y=0,L,H=g.length-1,ct,Ot=0;++s<g.length;)L=H,H=s,Ot+=ct=g[L]*h[H]-g[H]*h[L],c+=(g[L]+g[H])*ct,y+=(h[L]+h[H])*ct;return Ot*=3,[c/Ot,y/Ot]}function or(g,h){var s=g.attr(),c=h.attr();return Object(o.j)(s,function(y,L){c[L]===void 0&&(c[L]=void 0)}),c}function Ze(g,h,s){var c=Math.min(h,s),y=Math.max(h,s);return g>=c&&g<=y}function mr(g,h,s){if(Object(o.O)(g))return g.padEnd(h,s);if(Object(o.B)(g)){var c=g.length;if(c<h)for(var y=h-c,L=0;L<y;L++)g.push(s)}return g}function Nr(g,h){return h.forEach(function(s){delete g[s]}),g}function Mr(g,h,s){h===void 0&&(h=[]),s===void 0&&(s={});for(var c=0,y=g;c<y.length;c++){var L=y[c];s[L]||(h.push(L),s[L]=!0)}return h}var vn=function(){function g(h,s,c,y){h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),y===void 0&&(y=0),this.x=h,this.y=s,this.height=y,this.width=c}return g.fromRange=function(h,s,c,y){return new g(h,s,c-h,y-s)},g.fromObject=function(h){return new g(h.minX,h.minY,h.width,h.height)},Object.defineProperty(g.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),g.prototype.isEqual=function(h){return this.x===h.x&&this.y===h.y&&this.width===h.width&&this.height===h.height},g.prototype.contains=function(h){return h.minX>=this.minX&&h.maxX<=this.maxX&&h.minY>=this.minY&&h.maxY<=this.maxY},g.prototype.clone=function(){return new g(this.x,this.y,this.width,this.height)},g.prototype.add=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];var c=this.clone();return Object(o.j)(h,function(y){c.x=Math.min(y.x,c.x),c.y=Math.min(y.y,c.y),c.width=Math.max(y.maxX,c.maxX)-c.x,c.height=Math.max(y.maxY,c.maxY)-c.y}),c},g.prototype.merge=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];var c=this.clone();return Object(o.j)(h,function(y){c.x=Math.max(y.x,c.x),c.y=Math.max(y.y,c.y),c.width=Math.min(y.maxX,c.maxX)-c.x,c.height=Math.min(y.maxY,c.maxY)-c.y}),c},g.prototype.cut=function(h,s){var c=h.width,y=h.height;switch(s){case x.TOP:case x.TOP_LEFT:case x.TOP_RIGHT:return g.fromRange(this.minX,this.minY+y,this.maxX,this.maxY);case x.RIGHT:case x.RIGHT_TOP:case x.RIGHT_BOTTOM:return g.fromRange(this.minX,this.minY,this.maxX-c,this.maxY);case x.BOTTOM:case x.BOTTOM_LEFT:case x.BOTTOM_RIGHT:return g.fromRange(this.minX,this.minY,this.maxX,this.maxY-y);case x.LEFT:case x.LEFT_TOP:case x.LEFT_BOTTOM:return g.fromRange(this.minX+c,this.minY,this.maxX,this.maxY);default:return this}},g.prototype.shrink=function(h){var s=h[0],c=h[1],y=h[2],L=h[3];return new g(this.x+L,this.y+s,this.width-L-c,this.height-s-y)},g.prototype.expand=function(h){var s=h[0],c=h[1],y=h[2],L=h[3];return new g(this.x-L,this.y-s,this.width+L+c,this.height+s+y)},g.prototype.exceed=function(h){return[Math.max(-this.minY+h.minY,0),Math.max(this.maxX-h.maxX,0),Math.max(this.maxY-h.maxY,0),Math.max(-this.minX+h.minX,0)]},g.prototype.collide=function(h){return this.minX<h.maxX&&this.maxX>h.minX&&this.minY<h.maxY&&this.maxY>h.minY},g.prototype.size=function(){return this.width*this.height},g.prototype.isPointIn=function(h){return h.x>=this.minX&&h.x<=this.maxX&&h.y>=this.minY&&h.y<=this.maxY},g}(),Ln=function(h,s){var c=s.start,y=s.end;return new vn(h.x+h.width*c.x,h.y+h.height*c.y,h.width*Math.abs(y.x-c.x),h.height*Math.abs(y.y-c.y))};function We(g){return[[g.minX,g.minY],[g.maxX,g.minY],[g.maxX,g.maxY],[g.minX,g.maxY]]}function Ye(g){if(g.isPolar&&!g.isTransposed)return(g.endAngle-g.startAngle)*g.getRadius();var h=g.convert({x:0,y:0}),s=g.convert({x:1,y:0});return Math.sqrt(Math.pow(s.x-h.x,2)+Math.pow(s.y-h.y,2))}function Gr(g){if(g.isPolar){var h=g.startAngle,s=g.endAngle;return s-h==Math.PI*2}return!1}function Jr(g,h){var s=g.getCenter();return Math.sqrt(Math.pow(h.x-s.x,2)+Math.pow(h.y-s.y,2))}function _r(g,h){var s=!1;if(g)if(g.type==="theta"){var c=g.start,y=g.end;s=Ze(h.x,c.x,y.x)&&Ze(h.y,c.y,y.y)}else{var L=g.invert(h);s=Ze(L.x,0,1)&&Ze(L.y,0,1)}return s}function bn(g,h){var s=g.getCenter();return Math.atan2(h.y-s.y,h.x-s.x)}function ta(g,h){h===void 0&&(h=0);var s=g.start,c=g.end,y=g.getWidth(),L=g.getHeight();if(g.isPolar){var H=g.startAngle,ct=g.endAngle,Ot=g.getCenter(),zt=g.getRadius();return{type:"path",startState:{path:Pe(Ot.x,Ot.y,zt+h,H,H)},endState:function(te){var ne=(ct-H)*te+H,de=Pe(Ot.x,Ot.y,zt+h,H,ne);return{path:de}},attrs:{path:Pe(Ot.x,Ot.y,zt+h,H,ct)}}}var Zt;return g.isTransposed?Zt={height:L+h*2}:Zt={width:y+h*2},{type:"rect",startState:{x:s.x-h,y:c.y-h,width:g.isTransposed?y+h*2:0,height:g.isTransposed?0:L+h*2},endState:Zt,attrs:{x:s.x-h,y:c.y-h,width:y+h*2,height:L+h*2}}}function aa(g,h){h===void 0&&(h=0);var s=g.start,c=g.end,y=g.getWidth(),L=g.getHeight(),H=Math.min(s.x,c.x),ct=Math.min(s.y,c.y);return vn.fromRange(H-h,ct-h,H+y+h,ct+L+h)}var wn=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function ea(g){var h="linear";return wn.test(g)?h="timeCat":Object(o.O)(g)&&(h="cat"),h}function Aa(g,h,s){var c=h||[];if(Object(o.K)(g)||Object(o.I)(Object(o.o)(c,g))&&Object(o.F)(s)){var y=Object(bt.d)("identity");return new y({field:g.toString(),values:[g]})}var L=Object(o.vb)(c,g),H=Object(o.s)(s,"type",ea(L[0])),ct=Object(bt.d)(H);return new ct(Object(d.a)({field:g,values:L},s))}function Fa(g,h){if(g.type!=="identity"&&h.type!=="identity"){var s={};for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(s[c]=h[c]);g.change(s)}}function Yn(g){return g.alias||g.field}function Ti(g,h,s){var c=g.values,y=c.length,L;if(y===1)L=[.5,1];else{var H=1,ct=0;Gr(h)?h.isTransposed?(H=Object(o.s)(s,"widthRatio.multiplePie",1/1.3),ct=1/y*H,L=[ct/2,1-ct/2]):L=[0,1-1/y]:(ct=1/y/2,L=[ct,1-ct])}return L}function Gi(g){var h=g.values.filter(function(s){return!Object(o.I)(s)&&!isNaN(s)});return Math.max.apply(Math,Object(d.g)(h,[Object(o.I)(g.max)?-Infinity:g.max]))}function Qi(g){var h,s;switch(g){case x.TOP:h={x:0,y:1},s={x:1,y:1};break;case x.RIGHT:h={x:1,y:0},s={x:1,y:1};break;case x.BOTTOM:h={x:0,y:0},s={x:1,y:0};break;case x.LEFT:h={x:0,y:0},s={x:0,y:1};break;default:h=s={x:0,y:0}}return{start:h,end:s}}function Xi(g){var h,s;return g.isTransposed?(h={x:0,y:0},s={x:1,y:0}):(h={x:0,y:0},s={x:0,y:1}),{start:h,end:s}}function Ii(g,h){var s={start:{x:0,y:0},end:{x:0,y:0}};g.isRect?s=Qi(h):g.isPolar&&(s=Xi(g));var c=s.start,y=s.end;return{start:g.convert(c),end:g.convert(y)}}function ao(g,h){if(g.isRect)return g.isTransposed?[x.RIGHT,x.BOTTOM].includes(h)?1:-1:[x.BOTTOM,x.RIGHT].includes(h)?-1:1;if(g.isPolar){var s=g.x.start;return s<0?-1:1}return 1}function Go(g){var h=g.start,s=g.end;return h.x===s.x}function Po(g,h){var s=g.start,c=g.end,y=Go(g);return y?(s.y-c.y)*(h.x-s.x)>0?1:-1:(c.x-s.x)*(s.y-h.y)>0?-1:1}function io(g,h){var s=Object(o.s)(g,["components","axis"],{});return Object(o.h)({},Object(o.s)(s,["common"],{}),Object(o.h)({},Object(o.s)(s,[h],{})))}function Hi(g,h,s){var c=Object(o.s)(g,["components","axis"],{});return Object(o.h)({},Object(o.s)(c,["common","title"],{}),Object(o.h)({},Object(o.s)(c,[h,"title"],{})),s)}function po(g){var h=g.x,s=g.y,c=g.circleCenter,y=s.start>s.end,L=g.isTransposed?g.convert({x:y?0:1,y:0}):g.convert({x:0,y:y?0:1}),H=[L.x-c.x,L.y-c.y],ct=[1,0],Ot=L.y>c.y?V.c.angle(H,ct):V.c.angle(H,ct)*-1,zt=Ot+(h.end-h.start),Zt=Math.sqrt(Math.pow(L.x-c.x,2)+Math.pow(L.y-c.y,2));return{center:c,radius:Zt,startAngle:Ot,endAngle:zt}}function So(g,h){return Object(o.C)(g)?g===!1?!1:{}:Object(o.s)(g,[h])}function Zo(g,h){return Object(o.s)(g,"position",h)}function $o(g,h){return Object(o.s)(h,["title","text"],Yn(g))}var wi=function(){function g(h,s){this.destroyed=!1,this.facets=[],this.view=h,this.cfg=Object(o.h)({},this.getDefaultCfg(),s)}return g.prototype.init=function(){this.container||(this.container=this.createContainer());var h=this.view.getData();this.facets=this.generateFacets(h)},g.prototype.render=function(){this.renderViews()},g.prototype.update=function(){},g.prototype.clear=function(){this.clearFacetViews()},g.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},g.prototype.facetToView=function(h){var s=h.region,c=h.data,y=h.padding,L=y===void 0?this.cfg.padding:y,H=this.view.createView({region:s,padding:L});H.data(c||[]),h.view=H,this.beforeEachView(H,h);var ct=this.cfg.eachView;return ct&&ct(H,h),this.afterEachView(H,h),H},g.prototype.createContainer=function(){var h=this.view.getLayer(b.FORE);return h.addGroup()},g.prototype.renderViews=function(){this.createFacetViews()},g.prototype.createFacetViews=function(){var h=this;return this.facets.map(function(s){return h.facetToView(s)})},g.prototype.clearFacetViews=function(){var h=this;Object(o.j)(this.facets,function(s){s.view&&(h.view.removeView(s.view),s.view=void 0)})},g.prototype.getFieldValues=function(h,s){var c=[],y={};return Object(o.j)(h,function(L){var H=L[s];!Object(o.I)(H)&&!y[H]&&(c.push(H),y[H]=!0)}),c},g.prototype.getRegion=function(h,s,c,y){var L=1/(s===0?1:s),H=1/(h===0?1:h),ct={x:L*c,y:H*y},Ot={x:L*(c+1),y:H*(y+1)};return{start:ct,end:Ot}},g.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},g.prototype.getDefaultTitleCfg=function(){var h=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:h}}},g.prototype.processAxis=function(h,s){var c=h.getOptions(),y=c.coordinate,L=h.geometries,H=Object(o.s)(y,"type","rect");if(H==="rect"&&L.length){Object(o.I)(c.axes)&&(c.axes={});var ct=c.axes,Ot=L[0].getXYFields(),zt=Ot[0],Zt=Ot[1],$t=So(ct,zt),te=So(ct,Zt);$t!==!1&&(c.axes[zt]=this.getXAxisOption(zt,ct,$t,s)),te!==!1&&(c.axes[Zt]=this.getYAxisOption(Zt,ct,te,s))}},g.prototype.getFacetDataFilter=function(h){return function(s){return Object(o.k)(h,function(c){var y=c.field,L=c.value;return!Object(o.I)(L)&&y?s[y]===L:!0})}},g}(),ys={},Ws=function(h){return ys[Object(o.T)(h)]},Uo=function(h,s){ys[Object(o.T)(h)]=s},Il=function(){function g(h,s){this.context=h,this.cfg=s,h.addAction(this)}return g.prototype.applyCfg=function(h){Object(o.b)(this,h)},g.prototype.init=function(){this.applyCfg(this.cfg)},g.prototype.destroy=function(){this.context.removeAction(this),this.context=null},g}(),Ai=Il,ol=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.execute=function(){this.callback&&this.callback(this.context)},h.prototype.destroy=function(){g.prototype.destroy.call(this),this.callback=null},h}(Ai),Is=ol,Ds={};function ms(g,h){var s=Ds[g],c=null;if(s){var y=s.ActionClass,L=s.cfg;c=new y(h,L),c.name=g,c.init()}return c}function sl(g){var h=Ds[g];return Object(o.s)(h,"ActionClass")}function ua(g,h,s){Ds[g]={ActionClass:h,cfg:s}}function ru(g){delete Ds[g]}function Wo(g,h){var s=new Is(h);return s.callback=g,s.name="callback",s}function ll(g,h){var s=[];if(g.length){s.push(["M",g[0].x,g[0].y]);for(var c=1,y=g.length;c<y;c+=1){var L=g[c];s.push(["L",L.x,L.y])}h&&s.push(["Z"])}return s}function Ps(g,h){for(var s=[g[0]],c=1,y=g.length;c<y;c=c+2){var L=h.convert({x:g[c],y:g[c+1]});s.push(L.x,L.y)}return s}function ge(g,h){var s=h.isTransposed,c=g[1],y=g[6],L=g[7],H=h.convert({x:y,y:L}),ct=s?0:1;return["A",c,c,0,0,ct,H.x,H.y]}function oe(g,h,s){var c=s.isTransposed,y=s.startAngle,L=s.endAngle,H=g[0].toLowerCase()==="a"?{x:g[6],y:g[7]}:{x:g[1],y:g[2]},ct={x:h[1],y:h[2]},Ot=[],zt=c?"y":"x",Zt=Math.abs(ct[zt]-H[zt])*(L-y),$t=ct[zt]>=H[zt]?1:0,te=Zt>Math.PI?1:0,ne=s.convert(ct),de=Jr(s,ne);if(de>=.5)if(Zt===Math.PI*2){var be={x:(ct.x+H.x)/2,y:(ct.y+H.y)/2},He=s.convert(be);Ot.push(["A",de,de,0,te,$t,He.x,He.y]),Ot.push(["A",de,de,0,te,$t,ne.x,ne.y])}else Ot.push(["A",de,de,0,te,$t,ne.x,ne.y]);return Ot}function pe(g){Object(o.j)(g,function(h,s){var c=h;if(c[0].toLowerCase()==="a"){var y=g[s-1],L=g[s+1];L&&L[0].toLowerCase()==="a"?y&&y[0].toLowerCase()==="l"&&(y[0]="M"):y&&y[0].toLowerCase()==="a"&&L&&L[0].toLowerCase()==="l"&&(L[0]="M")}})}var ze=function(h,s,c,y){var L=[],H,ct,Ot=!!y,zt,Zt;if(Ot){zt=[Infinity,Infinity],Zt=[-Infinity,-Infinity];for(var $t=0,te=h.length;$t<te;$t++){var ne=h[$t];zt=V.c.min([0,0],zt,ne),Zt=V.c.max([0,0],Zt,ne)}zt=V.c.min([0,0],zt,y[0]),Zt=V.c.max([0,0],Zt,y[1])}for(var $t=0,de=h.length;$t<de;$t++){var ne=h[$t];if(c)H=h[$t?$t-1:de-1],ct=h[($t+1)%de];else if($t===0||$t===de-1){L.push(ne);continue}else H=h[$t-1],ct=h[$t+1];var be=[0,0];be=V.c.sub(be,ct,H),be=V.c.scale(be,be,s);var He=V.c.distance(ne,H),er=V.c.distance(ne,ct),dr=He+er;dr!==0&&(He/=dr,er/=dr);var yr=V.c.scale([0,0],be,-He),nn=V.c.scale([0,0],be,er),un=V.c.add([0,0],ne,yr),dn=V.c.add([0,0],ne,nn);Ot&&(un=V.c.max([0,0],un,zt),un=V.c.min([0,0],un,Zt),dn=V.c.max([0,0],dn,zt),dn=V.c.min([0,0],dn,Zt)),L.push(un),L.push(dn)}return c&&L.push(L.shift()),L};function Xe(g,h,s){for(var c=!!h,y=[],L=0,H=g.length;L<H;L+=2)y.push([g[L],g[L+1]]);for(var ct=ze(y,.4,c,s),Ot=y.length,zt=[],Zt,$t,te,L=0;L<Ot-1;L++)Zt=ct[L*2],$t=ct[L*2+1],te=y[L+1],zt.push(["C",Zt[0],Zt[1],$t[0],$t[1],te[0],te[1]]);return c&&(Zt=ct[Ot],$t=ct[Ot+1],te=y[0],zt.push(["C",Zt[0],Zt[1],$t[0],$t[1],te[0],te[1]])),zt}function ir(g,h){return ll(g,h)}function Br(g,h,s){var c=[],y=g[0],L=null;if(g.length<=2)return ir(g,h);for(var H=0,ct=g.length;H<ct;H++){var Ot=g[H];(!L||!(L.x===Ot.x&&L.y===Ot.y))&&(c.push(Ot.x),c.push(Ot.y),L=Ot)}var zt=s||[[0,0],[1,1]],Zt=Xe(c,h,zt);return Zt.unshift(["M",y.x,y.y]),Zt}function sn(g,h){var s=[];return Object(o.j)(h,function(c){var y=c[0];switch(y.toLowerCase()){case"m":case"l":case"c":s.push(Ps(c,g));break;case"a":s.push(ge(c,g));break;case"z":default:s.push(c);break}}),s}function Gn(g,h){var s=[],c,y,L,H;return Object(o.j)(h,function(ct,Ot){var zt=ct[0];switch(zt.toLowerCase()){case"m":case"c":case"q":s.push(Ps(ct,g));break;case"l":c=h[Ot-1],y=ct,L=g.isTransposed,H=L?c[c.length-2]===y[1]:c[c.length-1]===y[2],H?s=s.concat(oe(c,y,g)):s.push(Ps(ct,g));break;case"a":s.push(ge(ct,g));break;case"z":default:s.push(ct);break}}),pe(s),s}var In=i("WOt1");function mn(g,h){var s=g.event,c=s.target,y=c.getCanvasBBox();return y.width>=h||y.height>=h?y:null}function Ba(g,h){var s=g.event,c=s.target,y=c.getCanvasBBox();return y.width>=h||y.height>=h?c.attr("path"):null}function Ga(g){var h=g.event,s,c=h.target;return c&&(s=c.get("element")),s}function fi(g){var h=g.event,s=h.target,c;return s&&(c=s.get("delegateObject")),c}function si(g){var h=g.event.gEvent;return!(h&&h.fromShape&&h.toShape&&h.fromShape.get("element")===h.toShape.get("element"))}function Di(g){return g&&g.component&&g.component.isList()}function oo(g){return g&&g.component&&g.component.isSlider()}function so(g){var h=g.event,s=h.target;return s&&s.get("name")==="mask"}function Ui(g,h){var s=g.event.target;if(s.get("type")==="path"){var c=Ba(g,h);return c?yo(g.view,c):void 0}var y=mn(g,h);return y?zo(g.view,y):null}function ve(g,h,s){var c=mn(g,s);if(!c)return null;var y=g.view,L=_o(y,h,{x:c.x,y:c.y}),H=_o(y,h,{x:c.maxX,y:c.maxY}),ct={minX:L.x,minY:L.y,maxX:H.x,maxY:H.y};return zo(h,ct)}function Ua(g){var h=g.geometries,s=[];return Object(o.j)(h,function(c){var y=c.elements;s=s.concat(y)}),g.views&&g.views.length&&Object(o.j)(g.views,function(c){s=s.concat(Ua(c))}),s}function qn(g,h,s){var c=Ua(g);return c.filter(function(y){return hi(y,h)===s})}function Lo(g,h){var s=g.geometries,c=[];return Object(o.j)(s,function(y){var L=y.getElementsBy(function(H){return H.hasState(h)});c=c.concat(L)}),c}function hi(g,h){var s=g.getModel(),c=s.data,y;return Object(o.B)(c)?y=c[0][h]:y=c[h],y}function Qo(g,h){return!(h.minX>g.maxX||h.maxX<g.minX||h.minY>g.maxY||h.maxY<g.minY)}function zo(g,h){var s=Ua(g),c=[];return Object(o.j)(s,function(y){var L=y.shape,H=L.getCanvasBBox();Qo(h,H)&&c.push(y)}),c}function zs(g){var h=[];return Object(o.j)(g,function(s){var c=s[0];if(c!=="A")for(var y=1;y<s.length;y=y+2)h.push([s[y],s[y+1]]);else{var L=s.length;h.push([s[L-2],s[L-1]])}}),h}function yo(g,h){var s=Ua(g),c=zs(h),y=s.filter(function(L){var H=L.shape,ct;if(H.get("type")==="path")ct=zs(H.attr("path"));else{var Ot=H.getCanvasBBox();ct=We(Ot)}return Object(In.b)(c,ct)});return y}function us(g){return g.getComponents().map(function(h){return h.component})}function Jo(g,h){var s=h.x-g.x,c=h.y-g.y;return Math.sqrt(s*s+c*c)}function gi(g,h){if(g.length<=2)return ir(g,!1);var s=g[0],c=[];Object(o.j)(g,function(L){c.push(L.x),c.push(L.y)});var y=Xe(c,h,null);return y.unshift(["M",s.x,s.y]),y}function ul(g,h){return g.x<=h.x&&g.maxX>=h.x&&g.y<=h.y&&g.maxY>h.y}function qi(g){var h=g.parent,s=null;return h&&(s=h.views.filter(function(c){return c!==g})),s}function ks(g,h){var s=g.getCoordinate();return s.invert(h)}function _o(g,h,s){var c=ks(g,s);return h.getCoordinate().convert(c)}function cl(g,h,s,c){var y=!1;return Object(o.j)(g,function(L){if(L[s]===h[s]&&L[c]===h[c])return y=!0,!1}),y}function jo(g,h){var s=g.getScaleByField(h);return!s&&g.views&&Object(o.j)(g.views,function(c){if(s=jo(c,h),s)return!1}),s}var cs=function(){function g(h){this.actions=[],this.event=null,this.cacheMap={},this.view=h}return g.prototype.cache=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];if(h.length===1)return this.cacheMap[h[0]];h.length===2&&(this.cacheMap[h[0]]=h[1])},g.prototype.getAction=function(h){return this.actions.find(function(s){return s.name===h})},g.prototype.addAction=function(h){this.actions.push(h)},g.prototype.removeAction=function(h){var s=this.actions,c=this.actions.indexOf(h);c>=0&&s.splice(c,1)},g.prototype.getCurrentPoint=function(){var h=this.event;if(h)if(h.target instanceof HTMLElement){var s=this.view.getCanvas(),c=s.getPointByClient(h.clientX,h.clientY);return c}else return{x:h.x,y:h.y};return null},g.prototype.getCurrentShape=function(){return Object(o.s)(this.event,["gEvent","shape"])},g.prototype.isInPlot=function(){var h=this.getCurrentPoint();return h?this.view.isPointInPlot(h):!1},g.prototype.isInShape=function(h){var s=this.getCurrentShape();return s?s.get("name")===h:!1},g.prototype.isInComponent=function(h){var s=us(this.view),c=this.getCurrentPoint();return c?!!s.find(function(y){var L=y.getBBox();return h?y.get("name")===h&&ul(L,c):ul(L,c)}):!1},g.prototype.destroy=function(){this.view=null,this.event=null,Object(o.j)(this.actions.slice(),function(h){h.destroy()}),this.actions=null,this.cacheMap=null},g}(),Vs=cs,Xs=function(){function g(h,s){this.view=h,this.cfg=s}return g.prototype.init=function(){this.initEvents()},g.prototype.initEvents=function(){},g.prototype.clearEvents=function(){},g.prototype.destroy=function(){this.clearEvents()},g}(),bs=Xs;function Ls(g,h,s){var c=g.split(":"),y=c[0],L=h.getAction(y)||ms(y,h);if(!L)throw new Error("There is no action named "+y);var H=c[1];return{action:L,methodName:H,arg:s}}function fl(g){var h=g.action,s=g.methodName,c=g.arg;if(h[s])h[s](c);else throw new Error("Action("+h.name+") doesn't have a method called "+s)}var U={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Et=function(g){Object(d.c)(h,g);function h(s,c){var y=g.call(this,s,c)||this;return y.callbackCaches={},y.emitCaches={},y.steps=c,y}return h.prototype.init=function(){this.initContext(),g.prototype.init.call(this)},h.prototype.destroy=function(){g.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},h.prototype.initEvents=function(){var s=this;Object(o.j)(this.steps,function(c,y){Object(o.j)(c,function(L){var H=s.getActionCallback(y,L);H&&s.bindEvent(L.trigger,H)})})},h.prototype.clearEvents=function(){var s=this;Object(o.j)(this.steps,function(c,y){Object(o.j)(c,function(L){var H=s.getActionCallback(y,L);H&&s.offEvent(L.trigger,H)})})},h.prototype.initContext=function(){var s=this.view,c=new Vs(s);this.context=c;var y=this.steps;Object(o.j)(y,function(L){Object(o.j)(L,function(H){if(Object(o.H)(H.action))H.actionObject={action:Wo(H.action,c),methodName:"execute"};else if(Object(o.O)(H.action))H.actionObject=Ls(H.action,c,H.arg);else if(Object(o.B)(H.action)){var ct=H.action,Ot=Object(o.B)(H.arg)?H.arg:[H.arg];H.actionObject=[],Object(o.j)(ct,function(zt,Zt){H.actionObject.push(Ls(zt,c,Ot[Zt]))})}})})},h.prototype.isAllowStep=function(s){var c=this.currentStepName,y=this.steps;if(c===s||s===U.SHOW_ENABLE)return!0;if(s===U.PROCESSING)return c===U.START;if(s===U.START)return c!==U.PROCESSING;if(s===U.END)return c===U.PROCESSING||c===U.START;if(s===U.ROLLBACK){if(y[U.END])return c===U.END;if(c===U.START)return!0}return!1},h.prototype.isAllowExecute=function(s,c){if(this.isAllowStep(s)){var y=this.getKey(s,c);return c.once&&this.emitCaches[y]?!1:c.isEnable?c.isEnable(this.context):!0}return!1},h.prototype.enterStep=function(s){this.currentStepName=s,this.emitCaches={}},h.prototype.afterExecute=function(s,c){s!==U.SHOW_ENABLE&&this.currentStepName!==s&&this.enterStep(s);var y=this.getKey(s,c);this.emitCaches[y]=!0},h.prototype.getKey=function(s,c){return s+c.trigger+c.action},h.prototype.getActionCallback=function(s,c){var y=this,L=this.context,H=this.callbackCaches,ct=c.actionObject;if(c.action&&ct){var Ot=this.getKey(s,c);if(!H[Ot]){var zt=function($t){L.event=$t,y.isAllowExecute(s,c)?(Object(o.B)(ct)?Object(o.j)(ct,function(te){L.event=$t,fl(te)}):(L.event=$t,fl(ct)),y.afterExecute(s,c),c.callback&&(L.event=$t,c.callback(L))):L.event=null};c.debounce?H[Ot]=Object(o.g)(zt,c.debounce.wait,c.debounce.immediate):c.throttle?H[Ot]=Object(o.nb)(zt,c.throttle.wait,{leading:c.throttle.leading,trailing:c.throttle.trailing}):H[Ot]=zt}return H[Ot]}return null},h.prototype.bindEvent=function(s,c){var y=s.split(":");y[0]==="window"?window.addEventListener(y[1],c):y[0]==="document"?document.addEventListener(y[1],c):this.view.on(s,c)},h.prototype.offEvent=function(s,c){var y=s.split(":");y[0]==="window"?window.removeEventListener(y[1],c):y[0]==="document"?document.removeEventListener(y[1],c):this.view.off(s,c)},h}(bs),Qt=Et,ae={};function he(g){return ae[Object(o.T)(g)]}function xe(g,h){ae[Object(o.T)(g)]=h}function Le(g,h,s){var c=he(g);if(!c)return null;if(Object(o.N)(c)){var y=Object(o.bb)(Object(o.e)(c),s);return new Qt(h,y)}else{var L=c;return new L(h,s)}}function Ne(g){return{title:{autoRotate:!0,position:"center",spacing:g.axisTitleSpacing,style:{fill:g.axisTitleTextFillColor,fontSize:g.axisTitleTextFontSize,lineHeight:g.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:g.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:g.axisLabelOffset,style:{fill:g.axisLabelFillColor,fontSize:g.axisLabelFontSize,lineHeight:g.axisLabelLineHeight,fontFamily:g.fontFamily}},line:{style:{lineWidth:g.axisLineBorder,stroke:g.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:g.axisGridBorderColor,lineWidth:g.axisGridBorder,lineDash:g.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:g.axisTickLineBorder,stroke:g.axisTickLineBorderColor},alignTick:!0,length:g.axisTickLineLength},subTickLine:null,animate:!0}}function Ue(g){return{title:null,marker:{symbol:"circle",spacing:g.legendMarkerSpacing,style:{r:g.legendCircleMarkerSize,fill:g.legendMarkerColor}},itemName:{spacing:5,style:{fill:g.legendItemNameFillColor,fontFamily:g.fontFamily,fontSize:g.legendItemNameFontSize,lineHeight:g.legendItemNameLineHeight,fontWeight:g.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:g.legendPageNavigatorMarkerSize,inactiveFill:g.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:g.legendPageNavigatorMarkerInactiveFillOpacity,fill:g.legendPageNavigatorMarkerFillColor,opacity:g.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:g.legendPageNavigatorTextFillColor,fontSize:g.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:g.legendItemSpacing,itemMarginBottom:g.legendItemMarginBottom,padding:g.legendPadding}}function $e(g){var h,s={point:{default:{fill:g.pointFillColor,r:g.pointSize,stroke:g.pointBorderColor,lineWidth:g.pointBorder,fillOpacity:g.pointFillOpacity},active:{stroke:g.pointActiveBorderColor,lineWidth:g.pointActiveBorder},selected:{stroke:g.pointSelectedBorderColor,lineWidth:g.pointSelectedBorder},inactive:{fillOpacity:g.pointInactiveFillOpacity,strokeOpacity:g.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:g.hollowPointFillColor,lineWidth:g.hollowPointBorder,stroke:g.hollowPointBorderColor,strokeOpacity:g.hollowPointBorderOpacity,r:g.hollowPointSize},active:{stroke:g.hollowPointActiveBorderColor,strokeOpacity:g.hollowPointActiveBorderOpacity},selected:{lineWidth:g.hollowPointSelectedBorder,stroke:g.hollowPointSelectedBorderColor,strokeOpacity:g.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:g.hollowPointInactiveBorderOpacity}},area:{default:{fill:g.areaFillColor,fillOpacity:g.areaFillOpacity,stroke:null},active:{fillOpacity:g.areaActiveFillOpacity},selected:{fillOpacity:g.areaSelectedFillOpacity},inactive:{fillOpacity:g.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:g.hollowAreaBorderColor,lineWidth:g.hollowAreaBorder,strokeOpacity:g.hollowAreaBorderOpacity},active:{fill:null,lineWidth:g.hollowAreaActiveBorder},selected:{fill:null,lineWidth:g.hollowAreaSelectedBorder},inactive:{strokeOpacity:g.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:g.intervalFillColor,fillOpacity:g.intervalFillOpacity},active:{stroke:g.intervalActiveBorderColor,lineWidth:g.intervalActiveBorder},selected:{stroke:g.intervalSelectedBorderColor,lineWidth:g.intervalSelectedBorder},inactive:{fillOpacity:g.intervalInactiveFillOpacity,strokeOpacity:g.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:g.hollowIntervalFillColor,stroke:g.hollowIntervalBorderColor,lineWidth:g.hollowIntervalBorder,strokeOpacity:g.hollowIntervalBorderOpacity},active:{stroke:g.hollowIntervalActiveBorderColor,lineWidth:g.hollowIntervalActiveBorder,strokeOpacity:g.hollowIntervalActiveBorderOpacity},selected:{stroke:g.hollowIntervalSelectedBorderColor,lineWidth:g.hollowIntervalSelectedBorder,strokeOpacity:g.hollowIntervalSelectedBorderOpacity},inactive:{stroke:g.hollowIntervalInactiveBorderColor,lineWidth:g.hollowIntervalInactiveBorder,strokeOpacity:g.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:g.lineBorderColor,lineWidth:g.lineBorder,strokeOpacity:g.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:g.lineActiveBorder},selected:{lineWidth:g.lineSelectedBorder},inactive:{strokeOpacity:g.lineInactiveBorderOpacity}}},c=Ne(g),y=Ue(g);return{background:g.backgroundColor,defaultColor:g.brandColor,subColor:g.subColor,semanticRed:g.paletteSemanticRed,semanticGreen:g.paletteSemanticGreen,padding:"auto",fontFamily:g.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:g.paletteQualitative10,colors20:g.paletteQualitative20,sequenceColors:g.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:function(H){var ct=H.geometry.coordinate;if(ct.isPolar&&ct.isTransposed){var Ot=nr(H.getModel(),ct),zt=Ot.startAngle,Zt=Ot.endAngle,$t=(zt+Zt)/2,te=7.5,ne=te*Math.cos($t),de=te*Math.sin($t);return{matrix:V.a.transform(null,[["t",ne,de]])}}return s.interval.selected}}},"hollow-rect":{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},line:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},tick:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},funnel:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}},pyramid:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},line:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},dot:{default:{style:Object(d.a)(Object(d.a)({},s.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(d.a)(Object(d.a)({},s.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(d.a)(Object(d.a)({},s.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(d.a)(Object(d.a)({},s.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(d.a)(Object(d.a)({},s.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(d.a)(Object(d.a)({},s.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(d.a)(Object(d.a)({},s.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(d.a)(Object(d.a)({},s.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hvh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}},polygon:{polygon:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},point:{circle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},square:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},bowtie:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},diamond:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},hexagon:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},triangle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"triangle-down":{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"hollow-circle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-square":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-bowtie":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-diamond":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-hexagon":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle-down":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},cross:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},tick:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},plus:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},hyphen:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},line:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}}},area:{area:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},smooth:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},line:{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}},"smooth-line":{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}}},schema:{candle:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},box:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}}},edge:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},arc:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}}},components:{axis:{common:c,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(o.h)({},c.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(o.h)({},c.grid,{line:{type:"circle"}})}},legend:{common:y,right:{layout:"vertical",padding:g.legendVerticalPadding},left:{layout:"vertical",padding:g.legendVerticalPadding},top:{layout:"horizontal",padding:g.legendHorizontalPadding},bottom:{layout:"horizontal",padding:g.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:g.sliderRailHeight,defaultLength:g.sliderRailWidth,style:{fill:g.sliderRailFillColor,stroke:g.sliderRailBorderColor,lineWidth:g.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:g.sliderLabelTextFillColor,fontSize:g.sliderLabelTextFontSize,lineHeight:g.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:g.fontFamily}},handler:{size:g.sliderHandlerWidth,style:{fill:g.sliderHandlerFillColor,stroke:g.sliderHandlerBorderColor}},slidable:!0,padding:y.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:g.tooltipCrosshairsBorderColor,lineWidth:g.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(h={},h[""+Rt.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:g.tooltipContainerFillColor,opacity:g.tooltipContainerFillOpacity,boxShadow:g.tooltipContainerShadow,borderRadius:g.tooltipContainerBorderRadius+"px",color:g.tooltipTextFillColor,fontSize:g.tooltipTextFontSize+"px",fontFamily:g.fontFamily,lineHeight:g.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},h[""+Rt.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},h[""+Rt.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},h[""+Rt.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},h[""+Rt.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},h[""+Rt.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},h)},annotation:{arc:{style:{stroke:g.annotationArcBorderColor,lineWidth:g.annotationArcBorder},animate:!0},line:{style:{stroke:g.annotationLineBorderColor,lineDash:g.annotationLineDash,lineWidth:g.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:g.annotationTextFillColor,stroke:g.annotationTextBorderColor,lineWidth:g.annotationTextBorder,fontSize:g.annotationTextFontSize,textAlign:"start",fontFamily:g.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:g.annotationTextFillColor,stroke:g.annotationTextBorderColor,lineWidth:g.annotationTextBorder,fontSize:g.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:g.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:g.annotationRegionBorder,stroke:g.annotationRegionBorderColor,fill:g.annotationRegionFillColor,fillOpacity:g.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:g.brandColor,lineWidth:2}},line:{style:{stroke:g.annotationLineBorderColor,lineWidth:g.annotationLineBorder},length:g.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:g.annotationTextFillColor,stroke:g.annotationTextBorderColor,lineWidth:g.annotationTextBorder,fontSize:g.annotationTextFontSize,fontFamily:g.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:g.annotationRegionFillColor,fillOpacity:g.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:g.annotationTextFillColor,stroke:g.annotationTextBorderColor,lineWidth:g.annotationTextBorder,fontSize:g.annotationTextFontSize,fontFamily:g.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:g.cSliderBackgroundFillColor,opacity:g.cSliderBackgroundFillOpacity},foregroundStyle:{fill:g.cSliderForegroundFillColor,opacity:g.cSliderForegroundFillOpacity},handlerStyle:{width:g.cSliderHandlerWidth,height:g.cSliderHandlerHeight,fill:g.cSliderHandlerFillColor,opacity:g.cSliderHandlerFillOpacity,stroke:g.cSliderHandlerBorderColor,lineWidth:g.cSliderHandlerBorder,radius:g.cSliderHandlerBorderRadius,highLightFill:g.cSliderHandlerHighlightFillColor},textStyle:{fill:g.cSliderTextFillColor,opacity:g.cSliderTextFillOpacity,fontSize:g.cSliderTextFontSize,lineHeight:g.cSliderTextLineHeight,fontWeight:g.cSliderTextFontWeight,stroke:g.cSliderTextBorderColor,lineWidth:g.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:g.scrollbarTrackFillColor,thumbColor:g.scrollbarThumbFillColor}},hover:{style:{thumbColor:g.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:g.labelFillColor,fontSize:g.labelFontSize,fontFamily:g.fontFamily,stroke:g.labelBorderColor,lineWidth:g.labelBorder},fillColorDark:g.labelFillColorDark,fillColorLight:g.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:g.innerLabelFillColor,fontSize:g.innerLabelFontSize,fontFamily:g.fontFamily,stroke:g.innerLabelBorderColor,lineWidth:g.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:g.overflowLabelFillColor,fontSize:g.overflowLabelFontSize,fontFamily:g.fontFamily,stroke:g.overflowLabelBorderColor,lineWidth:g.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:g.labelLineBorder}},autoRotate:!0}}}var Qe={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Tr={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ir=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Sr=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],$r=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],hn=function(h){h===void 0&&(h={});var s=h.backgroundColor,c=s===void 0?"transparent":s,y=h.subColor,L=y===void 0?"rgba(0,0,0,0.05)":y,H=h.paletteQualitative10,ct=H===void 0?Ir:H,Ot=h.paletteQualitative20,zt=Ot===void 0?Sr:Ot,Zt=h.paletteSemanticRed,$t=Zt===void 0?"#F4664A":Zt,te=h.paletteSemanticGreen,ne=te===void 0?"#30BF78":te,de=h.paletteSemanticYellow,be=de===void 0?"#FAAD14":de,He=h.paletteSequence,er=He===void 0?$r:He,dr=h.fontFamily,yr=dr===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:dr,nn=h.brandColor,un=nn===void 0?ct[0]:nn;return{backgroundColor:c,brandColor:un,subColor:L,paletteQualitative10:ct,paletteQualitative20:zt,paletteSemanticRed:$t,paletteSemanticGreen:ne,paletteSemanticYellow:be,paletteSequence:er,fontFamily:yr,axisLineBorderColor:Qe[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Qe[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Qe[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Qe[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Qe[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Qe[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Qe[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:un,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Qe[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Qe[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Qe[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Qe[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Qe[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Qe[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Qe[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Qe[25],annotationArcBorderColor:Qe[15],annotationArcBorder:1,annotationLineBorderColor:Qe[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Qe[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Qe[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Qe[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Qe[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Qe[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Tr[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Qe[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Tr[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Qe[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:un,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Tr[100],pointBorderOpacity:1,pointActiveBorderColor:Qe[100],pointSelectedBorder:2,pointSelectedBorderColor:Qe[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:un,hollowPointBorderOpacity:.95,hollowPointFillColor:Tr[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Qe[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Qe[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:un,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:un,areaFillOpacity:.25,areaActiveFillColor:un,areaActiveFillOpacity:.5,areaSelectedFillColor:un,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:un,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Qe[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Qe[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:un,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Qe[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Qe[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:un,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Tr[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Qe[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Qe[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Pr=hn();function Dn(g){var h=g.styleSheet,s=h===void 0?{}:h,c=Object(d.e)(g,["styleSheet"]),y=hn(s);return Object(o.h)({},$e(y),c)}var xa=Dn({}),Qn={default:xa};function Jn(g){return Object(o.s)(Qn,Object(o.T)(g),Qn.default)}function oa(g,h){Qn[Object(o.T)(g)]=Dn(h)}function ia(g,h,s){var c=s.translate(g),y=s.translate(h);return Object(o.L)(c,y)}function ba(g,h){var s=h.coordinate,c=h.getXScale(),y=c.range,L=y[y.length-1],H=y[0],ct=s.invert(g),Ot=ct.x;return s.isPolar&&Ot>(1+L)/2&&(Ot=H),c.translate(c.invert(Ot))}function Za(g,h,s){var c=s.coordinate,y=s.getYScale(),L=y.field,H=c.invert(h),ct=y.invert(H.y),Ot=Object(o.m)(g,function(zt){var Zt=zt[A];return Zt[L][0]<=ct&&Zt[L][1]>=ct});return Ot||g[g.length-1]}var li=Object(o.Y)(function(g){if(g.isCategory)return 1;for(var h=g.values,s=h.length,c=g.translate(h[0]),y=c,L=0;L<s;L++){var H=h[L],ct=g.translate(H);ct<c&&(c=ct),ct>y&&(y=ct)}return(y-c)/(s-1)});function Pa(g,h,s){var c=h.getAttribute("position"),y=c.getFields(),L=h.scales,H=Object(o.H)(s)||!s?y[0]:s,ct=L[H],Ot=ct?ct.getText(g[H]):g[H]||H;return Object(o.H)(s)?s(Ot,g):Ot}function di(g){var h=Object(o.ub)(g.attributes);return Object(o.l)(h,function(s){return Object(o.f)(I,s.type)})}function $a(g){for(var h=di(g),s,c=0,y=h;c<y.length;c++){var L=y[c],H=L.getScale(L.type);if(H&&H.isLinear){s=H;break}}var ct=g.getXScale(),Ot=g.getYScale();return s||Ot||ct}function Ja(g,h){var s=h.field,c=g[s];if(Object(o.B)(c)){var y=c.map(function(L){return h.getText(L)});return y.join("-")}return h.getText(c)}function da(g,h){var s,c=h.getGroupScales();if(c.length&&(s=c[0]),s){var y=s.field;return s.getText(g[y])}var L=$a(h);return Yn(L)}function Ce(g,h,s){if(h.length===0)return null;var c=s.type,y=s.getXScale(),L=s.getYScale(),H=y.field,ct=L.field,Ot=null;if(c==="heatmap"||c==="point"){for(var zt=s.coordinate,Zt=zt.invert(g),$t=y.invert(Zt.x),te=L.invert(Zt.y),ne=Infinity,de=0;de<h.length;de++){var be=h[de],He=be[A],er=Math.pow(He[H]-$t,2)+Math.pow(He[ct]-te,2);er<ne&&(ne=er,Ot=be)}return Ot}var dr=h[0],yr=h[h.length-1],nn=ba(g,s),un=dr[A][H],dn=dr[A][ct],va=yr[A][H],na=L.isLinear&&Object(o.B)(dn);if(Object(o.B)(un)){for(var de=0;de<h.length;de++){var $n=h[de],He=$n[A];if(y.translate(He[H][0])<=nn&&y.translate(He[H][1])>=nn)if(na)Object(o.B)(Ot)||(Ot=[]),Ot.push($n);else{Ot=$n;break}}Object(o.B)(Ot)&&(Ot=Za(Ot,g,s))}else{var Ia=void 0;if(!y.isLinear&&y.type!=="timeCat"){for(var de=0;de<h.length;de++){var $n=h[de],He=$n[A];if(ia(He[H],nn,y))if(na)Object(o.B)(Ot)||(Ot=[]),Ot.push($n);else{Ot=$n;break}else y.translate(He[H])<=nn&&(yr=$n,Ia=h[de+1])}Object(o.B)(Ot)&&(Ot=Za(Ot,g,s))}else{if((nn>y.translate(va)||nn<y.translate(un))&&(nn>y.max||nn<y.min))return null;for(var ai=0,_a=h.length-1,ji=void 0;ai<=_a;){ji=Math.floor((ai+_a)/2);var Mo=h[ji][A][H];if(ia(Mo,nn,y))return h[ji];y.translate(Mo)<=y.translate(nn)?(ai=ji+1,yr=h[ji],Ia=h[ji+1]):(_a===0&&(yr=h[0]),_a=ji-1)}}yr&&Ia&&Math.abs(y.translate(yr[A][H])-nn)>Math.abs(y.translate(Ia[A][H])-nn)&&(yr=Ia)}var To=li(s.getXScale());return!Ot&&Math.abs(y.translate(yr[A][H])-nn)<=To/2&&(Ot=yr),Ot}function ue(g,h,s,c){s===void 0&&(s=""),c===void 0&&(c=!1);var y=g[A],L=Pa(y,h,s),H=h.tooltipOption,ct=h.theme.defaultColor,Ot=[],zt,Zt;function $t(va,na){if(c||!Object(o.I)(na)&&na!==""){var $n={title:L,data:y,mappingData:g,name:va,value:na,color:g.color||ct,marker:!0};Ot.push($n)}}if(Object(o.M)(H)){var te=H.fields,ne=H.callback;if(ne){var de=te.map(function(va){return g[A][va]}),be=ne.apply(void 0,de),He=Object(d.a)({data:g[A],mappingData:g,title:L,color:g.color||ct,marker:!0},be);Ot.push(He)}else for(var er=h.scales,dr=0,yr=te;dr<yr.length;dr++){var nn=yr[dr];if(!Object(o.I)(y[nn])){var un=er[nn];zt=Yn(un),Zt=un.getText(y[nn]),$t(zt,Zt)}}}else{var dn=$a(h);Zt=Ja(y,dn),zt=da(y,h),$t(zt,Zt)}return Ot}function we(g){return!Object(o.K)(g)&&!Object(o.B)(g)}function ke(g){g===void 0&&(g=0);var h=Object(o.B)(g)?g:[g];switch(h.length){case 0:h=[0,0,0,0];break;case 1:h=new Array(4).fill(h[0]);break;case 2:h=Object(d.g)(h,h);break;case 3:h=Object(d.g)(h,[h[1]]);break;default:h=h.slice(0,4);break}return h}var xr={};function Hr(g,h){xr[g]=h}function ra(g){delete xr[g]}function Xa(){return Object.keys(xr)}function Ki(g){return xr[g]}var Dl=function(){function g(h){this.option=this.wrapperOption(h)}return g.prototype.update=function(h){return this.option=this.wrapperOption(h),this},g.prototype.hasAction=function(h){var s=this.option.actions;return Object(o.kb)(s,function(c){return c[0]===h})},g.prototype.create=function(h,s){var c=this.option,y=c.type,L=c.cfg,H=y==="theta",ct=Object(d.a)({start:h,end:s},L),Ot=_(H?"polar":y);return this.coordinate=new Ot(ct),this.coordinate.type=y,H&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},g.prototype.adjust=function(h,s){return this.coordinate.update({start:h,end:s}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},g.prototype.rotate=function(h){return this.option.actions.push(["rotate",h]),this},g.prototype.reflect=function(h){return this.option.actions.push(["reflect",h]),this},g.prototype.scale=function(h,s){return this.option.actions.push(["scale",h,s]),this},g.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},g.prototype.getOption=function(){return this.option},g.prototype.getCoordinate=function(){return this.coordinate},g.prototype.wrapperOption=function(h){return Object(d.a)({type:"rect",actions:[],cfg:{}},h)},g.prototype.execActions=function(h){var s=this,c=this.option.actions;Object(o.j)(c,function(y){var L,H=y[0],ct=y.slice(1),Ot=Object(o.I)(h)?!0:h.includes(H);Ot&&(L=s.coordinate)[H].apply(L,ct)})},g}(),Hs=Dl,ko=function(){function g(h,s,c){this.view=h,this.gEvent=s,this.data=c,this.type=s.type}return g.fromData=function(h,s,c){return new g(h,new Q.Event(s,{}),c)},Object.defineProperty(g.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),g.prototype.toString=function(){return"[Event (type="+this.type+")]"},g.prototype.clone=function(){return new g(this.view,this.gEvent,this.data)},g}(),Vo=ko;function nu(g){var h=g.getController("axis"),s=g.getController("legend"),c=g.getController("annotation"),y=g.getController("slider"),L=g.getController("scrollbar");[h,y,L,s,c].forEach(function(H){H&&H.layout()})}var au=function(){function g(){this.scales=new Map,this.syncScales=new Map}return g.prototype.createScale=function(h,s,c,y){var L=c,H=this.getScaleMeta(y);if(s.length===0&&H){var ct=H.scale,Ot={type:ct.type};ct.isCategory&&(Ot.values=ct.values),L=Object(o.h)(Ot,H.scaleDef,c)}var zt=Aa(h,s,L);return this.cacheScale(zt,c,y),zt},g.prototype.sync=function(h,s){var c=this;this.syncScales.forEach(function(y,L){var H=Number.MAX_SAFE_INTEGER,ct=Number.MIN_SAFE_INTEGER,Ot=[];Object(o.j)(y,function(zt){var Zt=c.getScale(zt);ct=Object(o.K)(Zt.max)?Math.max(ct,Zt.max):ct,H=Object(o.K)(Zt.min)?Math.min(H,Zt.min):H,Object(o.j)(Zt.values,function($t){Ot.includes($t)||Ot.push($t)})}),Object(o.j)(y,function(zt){var Zt=c.getScale(zt);if(Zt.isContinuous)Zt.change({min:H,max:ct,values:Ot});else if(Zt.isCategory){var $t=Zt.range,te=c.getScaleMeta(zt);Ot&&!Object(o.s)(te,["scaleDef","range"])&&($t=Ti(Object(o.h)({},Zt,{values:Ot}),h,s)),Zt.change({values:Ot,range:$t})}})})},g.prototype.cacheScale=function(h,s,c){var y=this.getScaleMeta(c);y&&y.scale.type===h.type?(Fa(y.scale,h),y.scaleDef=s):(y={key:c,scale:h,scaleDef:s},this.scales.set(c,y));var L=this.getSyncKey(y);if(y.syncKey=L,this.removeFromSyncScales(c),L){var H=this.syncScales.get(L);H||(H=[],this.syncScales.set(L,H)),H.push(c)}},g.prototype.getScale=function(h){var s=this.getScaleMeta(h);if(!s){var c=Object(o.S)(h.split("-")),y=this.syncScales.get(c);y&&y.length&&(s=this.getScaleMeta(y[0]))}return s&&s.scale},g.prototype.deleteScale=function(h){var s=this.getScaleMeta(h);if(s){var c=s.syncKey,y=this.syncScales.get(c);if(y&&y.length){var L=y.indexOf(h);L!==-1&&y.splice(L,1)}}this.scales.delete(h)},g.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},g.prototype.removeFromSyncScales=function(h){var s=this;this.syncScales.forEach(function(c,y){var L=c.indexOf(h);if(L!==-1)return c.splice(L,1),c.length===0&&s.syncScales.delete(y),!1})},g.prototype.getSyncKey=function(h){var s=h.scale,c=h.scaleDef,y=s.field,L=Object(o.s)(c,["sync"]);return L===!0?y:L===!1?void 0:L},g.prototype.getScaleMeta=function(h){return this.scales.get(h)},g}(),iu=function(){function g(h,s,c,y){h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),y===void 0&&(y=0),this.top=h,this.right=s,this.bottom=c,this.left=y}return g.instance=function(h,s,c,y){return h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),y===void 0&&(y=0),new g(h,s,c,y)},g.prototype.max=function(h){var s=h[0],c=h[1],y=h[2],L=h[3];return this.top=Math.max(this.top,s),this.right=Math.max(this.right,c),this.bottom=Math.max(this.bottom,y),this.left=Math.max(this.left,L),this},g.prototype.shrink=function(h){var s=h[0],c=h[1],y=h[2],L=h[3];return this.top+=s,this.right+=c,this.bottom+=y,this.left+=L,this},g.prototype.inc=function(h,s){var c=h.width,y=h.height;switch(s){case x.TOP:case x.TOP_LEFT:case x.TOP_RIGHT:this.top+=y;break;case x.RIGHT:case x.RIGHT_TOP:case x.RIGHT_BOTTOM:this.right+=c;break;case x.BOTTOM:case x.BOTTOM_LEFT:case x.BOTTOM_RIGHT:this.bottom+=y;break;case x.LEFT:case x.LEFT_TOP:case x.LEFT_BOTTOM:this.left+=c;break;default:break}return this},g.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},g.prototype.clone=function(){return new(g.bind.apply(g,Object(d.g)([void 0],this.getPadding())))},g}();function Tf(g){var h=g.padding;if(!we(h))return new(iu.bind.apply(iu,Object(d.g)([void 0],ke(h))));var s=g.viewBBox,c=new iu,y=[],L=[],H=[];return Object(o.j)(g.getComponents(),function(ct){var Ot=ct.type;Ot===M.AXIS?y.push(ct):[M.LEGEND,M.SLIDER,M.SCROLLBAR].includes(Ot)?L.push(ct):Ot!==M.GRID&&Ot!==M.TOOLTIP&&H.push(ct)}),Object(o.j)(y,function(ct){var Ot=ct.component,zt=Ot.getLayoutBBox(),Zt=new vn(zt.x,zt.y,zt.width,zt.height),$t=Zt.exceed(s);c.max($t)}),Object(o.j)(L,function(ct){var Ot=ct.component,zt=ct.direction,Zt=Ot.getLayoutBBox(),$t=Ot.get("padding"),te=new vn(Zt.x,Zt.y,Zt.width,Zt.height).expand($t);c.inc(te,zt)}),Object(o.j)(H,function(ct){var Ot=ct.component,zt=ct.direction,Zt=Ot.getLayoutBBox(),$t=new vn(Zt.x,Zt.y,Zt.width,Zt.height);c.inc($t,zt)}),c}function vc(g,h,s){var c=s.instance();h.forEach(function(y){y.autoPadding=c.max(y.autoPadding.getPadding())})}var gc=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,{visible:s.visible})||this;c.views=[],c.geometries=[],c.controllers=[],c.interactions={},c.limitInPlot=!1,c.options={data:[],animate:!0},c.usedControllers=Xa(),c.scalePool=new au,c.layoutFunc=nu,c.isPreMouseInPlot=!1,c.isDataChanged=!1,c.isCoordinateChanged=!1,c.createdScaleKeys=new Map,c.onCanvasEvent=function(yr){var nn=yr.name;if(!nn.includes(":")){var un=c.createViewEvent(yr);c.doPlotEvent(un),c.emit(nn,un)}},c.onDelegateEvents=function(yr){var nn=yr.name;if(!!nn.includes(":")){var un=c.createViewEvent(yr);c.emit(nn,un)}};var y=s.id,L=y===void 0?Object(o.sb)("view"):y,H=s.parent,ct=s.canvas,Ot=s.backgroundGroup,zt=s.middleGroup,Zt=s.foregroundGroup,$t=s.region,te=$t===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:$t,ne=s.padding,de=s.appendPadding,be=s.theme,He=s.options,er=s.limitInPlot,dr=s.syncViewPadding;return c.parent=H,c.canvas=ct,c.backgroundGroup=Ot,c.middleGroup=zt,c.foregroundGroup=Zt,c.region=te,c.padding=ne,c.appendPadding=de,c.options=Object(d.a)(Object(d.a)({},c.options),He),c.limitInPlot=er,c.id=L,c.syncViewPadding=dr,c.themeObject=Object(o.M)(be)?Object(o.h)({},Jn("default"),Dn(be)):Jn(be),c.init(),c}return h.prototype.setLayout=function(s){this.layoutFunc=s},h.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},h.prototype.render=function(s){s===void 0&&(s=!1),this.emit(C.BEFORE_RENDER),this.paint(s),this.emit(C.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},h.prototype.clear=function(){var s=this;this.emit(C.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var c=this.geometries,y=0;y<c.length;y++)c[y].clear(),c[y].container.remove(!0);this.geometries=[];for(var L=this.controllers,y=0;y<L.length;y++)L[y].name==="annotation"?L[y].clear(!0):L[y].clear();this.createdScaleKeys.forEach(function(ct,Ot){s.getRootView().scalePool.deleteScale(Ot)}),this.createdScaleKeys.clear();for(var H=this.views,y=0;y<H.length;y++)H[y].clear();this.emit(C.AFTER_CLEAR)},h.prototype.destroy=function(){this.emit(C.BEFORE_DESTROY);var s=this.interactions;Object(o.j)(s,function(ct){ct&&ct.destroy()}),this.clear();for(var c=this.controllers,y=0,L=c.length;y<L;y++){var H=c[y];H.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),g.prototype.destroy.call(this)},h.prototype.changeVisible=function(s){g.prototype.changeVisible.call(this,s);for(var c=this.geometries,y=0,L=c.length;y<L;y++){var H=c[y];H.changeVisible(s)}for(var ct=this.controllers,y=0,L=ct.length;y<L;y++){var Ot=ct[y];Ot.changeVisible(s)}return this.foregroundGroup.set("visible",s),this.middleGroup.set("visible",s),this.backgroundGroup.set("visible",s),this.getCanvas().draw(),this},h.prototype.data=function(s){return Object(o.ib)(this.options,"data",s),this.isDataChanged=!0,this},h.prototype.source=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(s)},h.prototype.filter=function(s,c){return Object(o.H)(c)?(Object(o.ib)(this.options,["filters",s],c),this):(!c&&Object(o.s)(this.options,["filters",s])&&delete this.options.filters[s],this)},h.prototype.axis=function(s,c){return Object(o.C)(s)?Object(o.ib)(this.options,["axes"],s):Object(o.ib)(this.options,["axes",s],c),this},h.prototype.legend=function(s,c){return Object(o.C)(s)?Object(o.ib)(this.options,["legends"],s):Object(o.O)(s)?(Object(o.ib)(this.options,["legends",s],c),Object(o.N)(c)&&(c==null?void 0:c.selected)&&Object(o.ib)(this.options,["filters",s],function(y){var L;return(L=c==null?void 0:c.selected[y])!==null&&L!==void 0?L:!0})):Object(o.ib)(this.options,["legends"],s),this},h.prototype.scale=function(s,c){var y=this;return Object(o.O)(s)?Object(o.ib)(this.options,["scales",s],c):Object(o.M)(s)&&Object(o.j)(s,function(L,H){Object(o.ib)(y.options,["scales",H],L)}),this},h.prototype.tooltip=function(s){return Object(o.ib)(this.options,"tooltip",s),this},h.prototype.annotation=function(){return this.getController("annotation")},h.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},h.prototype.coordinate=function(s,c){return Object(o.O)(s)?Object(o.ib)(this.options,"coordinate",{type:s,cfg:c}):Object(o.ib)(this.options,"coordinate",s),this.coordinateController.update(this.options.coordinate),this.coordinateController},h.prototype.coord=function(s,c){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(s,c)},h.prototype.facet=function(s,c){this.facetInstance&&this.facetInstance.destroy();var y=Ws(s);if(!y)throw new Error("facet '"+s+"' is not exist!");return this.facetInstance=new y(this,Object(d.a)(Object(d.a)({},c),{type:s})),this},h.prototype.animate=function(s){return Object(o.ib)(this.options,"animate",s),this},h.prototype.updateOptions=function(s){return this.clear(),Object(o.bb)(this.options,s),this.views.forEach(function(c){return c.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},h.prototype.option=function(s,c){if(h.prototype[s])throw new Error(`Can't use built in variable name "`+s+'", please change another one.');return Object(o.ib)(this.options,s,c),this},h.prototype.theme=function(s){return this.themeObject=Object(o.M)(s)?Object(o.h)({},this.themeObject,Dn(s)):Jn(s),this},h.prototype.interaction=function(s,c){var y=this.interactions[s];y&&y.destroy();var L=Le(s,this,c);return L&&(L.init(),this.interactions[s]=L),this},h.prototype.removeInteraction=function(s){var c=this.interactions[s];c&&(c.destroy(),this.interactions[s]=void 0)},h.prototype.changeData=function(s){this.isDataChanged=!0,this.emit(C.BEFORE_CHANGE_DATA,Vo.fromData(this,C.BEFORE_CHANGE_DATA,null)),this.data(s),this.paint(!0);for(var c=this.views,y=0,L=c.length;y<L;y++){var H=c[y];H.changeData(s)}this.emit(C.AFTER_CHANGE_DATA,Vo.fromData(this,C.AFTER_CHANGE_DATA,null))},h.prototype.createView=function(s){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var c={data:this.options.data,scales:Object(o.e)(this.options.scales),axes:Object(o.e)(this.options.axes),coordinate:Object(o.e)(this.coordinateController.getOption()),tooltip:Object(o.e)(this.options.tooltip),legends:Object(o.e)(this.options.legends),animate:this.options.animate,visible:this.visible},y=new h(Object(d.a)(Object(d.a)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:D.BG}),middleGroup:this.middleGroup.addGroup({zIndex:D.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:D.FORE}),theme:this.themeObject,padding:this.padding},s),{options:Object(d.a)(Object(d.a)({},c),Object(o.s)(s,"options",{}))}));return this.views.push(y),y},h.prototype.view=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(s)},h.prototype.removeView=function(s){var c=Object(o.gb)(this.views,function(y){return y===s})[0];return c&&c.destroy(),c},h.prototype.getCoordinate=function(){return this.coordinateInstance},h.prototype.getTheme=function(){return this.themeObject},h.prototype.getXScale=function(){var s=this.geometries[0];return s?s.getXScale():null},h.prototype.getYScales=function(){var s={};return this.geometries.map(function(c){var y=c.getYScale(),L=y.field;if(!s[L])return s[L]=!0,y})},h.prototype.getScalesByDim=function(s){for(var c=this.geometries,y={},L=0,H=c.length;L<H;L++){var ct=c[L],Ot=s==="x"?ct.getXScale():ct.getYScale();Ot&&!y[Ot.field]&&(y[Ot.field]=Ot)}return y},h.prototype.getScaleByField=function(s,c){var y=c||this.getScaleKey(s);return this.getRootView().scalePool.getScale(y)},h.prototype.getOptions=function(){return this.options},h.prototype.getData=function(){return this.filteredData},h.prototype.getLayer=function(s){return s===b.BG?this.backgroundGroup:s===b.MID?this.middleGroup:s===b.FORE?this.foregroundGroup:this.foregroundGroup},h.prototype.isPointInPlot=function(s){return _r(this.getCoordinate(),s)},h.prototype.getLegendAttributes=function(){return Object(o.q)(this.geometries.map(function(s){return s.getGroupAttributes()}))},h.prototype.getGroupScales=function(){var s=this.geometries.map(function(c){return c.getGroupScales()});return Mr(Object(o.q)(s))},h.prototype.getCanvas=function(){return this.getRootView().canvas},h.prototype.getRootView=function(){for(var s=this;;){if(s.parent){s=s.parent;continue}break}return s},h.prototype.getXY=function(s){var c=this.getCoordinate(),y=this.getScalesByDim("x"),L=this.getScalesByDim("y"),H,ct;if(Object(o.j)(s,function(Ot,zt){y[zt]&&(H=y[zt].scale(Ot)),L[zt]&&(ct=L[zt].scale(Ot))}),!Object(o.I)(H)&&!Object(o.I)(ct))return c.convert({x:H,y:ct})},h.prototype.getController=function(s){return Object(o.m)(this.controllers,function(c){return c.name===s})},h.prototype.showTooltip=function(s){var c=this.getController("tooltip");return c&&c.showTooltip(s),this},h.prototype.hideTooltip=function(){var s=this.getController("tooltip");return s&&s.hideTooltip(),this},h.prototype.lockTooltip=function(){var s=this.getController("tooltip");return s&&s.lockTooltip(),this},h.prototype.unlockTooltip=function(){var s=this.getController("tooltip");return s&&s.unlockTooltip(),this},h.prototype.isTooltipLocked=function(){var s=this.getController("tooltip");return s&&s.isTooltipLocked()},h.prototype.getTooltipItems=function(s){var c=this.getController("tooltip");return c?c.getTooltipItems(s):[]},h.prototype.getSnapRecords=function(s){for(var c=this.geometries,y=[],L=0,H=c.length;L<H;L++){var ct=c[L],Ot=ct.dataArray;ct.sort(Ot);for(var zt=void 0,Zt=0,$t=Ot.length;Zt<$t;Zt++){var te=Ot[Zt];zt=Ce(s,te,ct),zt&&y.push(zt)}}for(var ne=this.views,L=0,H=ne.length;L<H;L++){var de=ne[L],be=de.getSnapRecords(s);y=y.concat(be)}return y},h.prototype.getComponents=function(){for(var s=[],c=this.controllers,y=0,L=c.length;y<L;y++){var H=c[y];s=s.concat(H.getComponents())}return s},h.prototype.filterData=function(s){var c=this.options.filters;return Object(o.jb)(c)===0?s:Object(o.l)(s,function(y,L){var H=Object.keys(c);return H.every(function(ct){var Ot=c[ct];return Ot(y[ct],y,L)})})},h.prototype.filterFieldData=function(s,c){var y=this.options.filters,L=Object(o.s)(y,s);return Object(o.Q)(L)?c:c.filter(function(H,ct){return L(H[s],H,ct)})},h.prototype.adjustCoordinate=function(){var s=this.getCoordinate(),c=s.start,y=s.end,L=this.coordinateBBox.bl,H=this.coordinateBBox.tr;if(Object(o.G)(c,L)&&Object(o.G)(y,H)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(L,H)},h.prototype.paint=function(s){this.renderDataRecursive(s),this.syncScale(),this.emit(C.BEFORE_PAINT),this.renderPaddingRecursive(s),this.renderLayoutRecursive(s),this.renderBackgroundStyleShape(),this.renderPaintRecursive(s),this.emit(C.AFTER_PAINT),this.isDataChanged=!1},h.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var s=Object(o.s)(this.themeObject,"background");if(s){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var c=this.viewBBox,y=c.x,L=c.y,H=c.width,ct=c.height;this.backgroundStyleRectShape.attr({fill:s,x:y,y:L,width:H,height:ct})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},h.prototype.renderPaddingRecursive=function(s){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(s),this.autoPadding=Tf(this).shrink(ke(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var c=this.views,y=0,L=c.length;y<L;y++){var H=c[y];H.renderPaddingRecursive(s)}},h.prototype.renderLayoutRecursive=function(s){var c=this.syncViewPadding===!0?vc:Object(o.H)(this.syncViewPadding)?this.syncViewPadding:void 0;c&&(c(this,this.views,iu),this.views.forEach(function(Ot){Ot.coordinateBBox=Ot.viewBBox.shrink(Ot.autoPadding.getPadding()),Ot.adjustCoordinate()})),this.doLayout();for(var y=this.views,L=0,H=y.length;L<H;L++){var ct=y[L];ct.renderLayoutRecursive(s)}},h.prototype.renderPaintRecursive=function(s){var c=this.middleGroup;if(this.limitInPlot){var y=ta(this.coordinateInstance),L=y.type,H=y.attrs;c.setClip({type:L,attrs:H})}else c.setClip(void 0);this.paintGeometries(s),this.renderComponents(s);for(var ct=this.views,Ot=0,zt=ct.length;Ot<zt;Ot++){var Zt=ct[Ot];Zt.renderPaintRecursive(s)}},h.prototype.createScale=function(s,c,y,L){var H=Object(o.s)(this.options.scales,[s]),ct=Object(d.a)(Object(d.a)({},H),y);return this.parent?this.parent.createScale(s,c,ct,L):this.scalePool.createScale(s,c,ct,L)},h.prototype.renderDataRecursive=function(s){this.doFilterData(),this.createCoordinate(),this.initGeometries(s),this.renderFacet(s);for(var c=this.views,y=0,L=c.length;y<L;y++){var H=c[y];H.renderDataRecursive(s)}},h.prototype.calculateViewBBox=function(){var s,c,y,L;if(this.parent){var H=this.parent.coordinateBBox;s=H.x,c=H.y,y=H.width,L=H.height}else s=0,c=0,y=this.canvas.get("width"),L=this.canvas.get("height");var ct=this.region,Ot=ct.start,zt=ct.end,Zt=new vn(s+y*Ot.x,c+L*Ot.y,y*(zt.x-Ot.x),L*(zt.y-Ot.y));(!this.viewBBox||!this.viewBBox.isEqual(Zt))&&(this.viewBBox=new vn(s+y*Ot.x,c+L*Ot.y,y*(zt.x-Ot.x),L*(zt.y-Ot.y))),this.coordinateBBox=this.viewBBox},h.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},h.prototype.initComponentController=function(){for(var s=this.usedControllers,c=0,y=s.length;c<y;c++){var L=s[c],H=Ki(L);H&&this.controllers.push(new H(this))}},h.prototype.createViewEvent=function(s){var c=s.shape,y=s.name,L=c?c.get("origin"):null,H=new Vo(this,s,L);return H.type=y,H},h.prototype.doPlotEvent=function(s){var c=s.type,y=s.x,L=s.y,H={x:y,y:L},ct=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(ct.includes(c)){var Ot=this.isPointInPlot(H),zt=s.clone();if(Ot){var Zt="plot:"+c;zt.type=Zt,this.emit(Zt,zt),(c==="mouseleave"||c==="touchend")&&(this.isPreMouseInPlot=!1)}c==="mousemove"||c==="touchmove"?(this.isPreMouseInPlot&&!Ot?(c==="mousemove"&&(zt.type=O.MOUSE_LEAVE,this.emit(O.MOUSE_LEAVE,zt)),zt.type=O.LEAVE,this.emit(O.LEAVE,zt)):!this.isPreMouseInPlot&&Ot&&(c==="mousemove"&&(zt.type=O.MOUSE_ENTER,this.emit(O.MOUSE_ENTER,zt)),zt.type=O.ENTER,this.emit(O.ENTER,zt)),this.isPreMouseInPlot=Ot):(c==="mouseleave"||c==="touchend")&&this.isPreMouseInPlot&&(c==="mouseleave"&&(zt.type=O.MOUSE_LEAVE,this.emit(O.MOUSE_LEAVE,zt)),zt.type=O.LEAVE,this.emit(O.LEAVE,zt),this.isPreMouseInPlot=!1)}},h.prototype.doFilterData=function(){var s=this.options.data;this.filteredData=this.filterData(s)},h.prototype.initGeometries=function(s){this.createOrUpdateScales();for(var c=this.getCoordinate(),y=Object(o.s)(this.options,"scales",{}),L=this.geometries,H=0,ct=L.length;H<ct;H++){var Ot=L[H];Ot.scales=this.getGeometryScales();var zt={coordinate:c,scaleDefs:y,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};s?Ot.update(zt):Ot.init(zt)}this.adjustScales()},h.prototype.createOrUpdateScales=function(){for(var s=this.getScaleFields(),c=this.getGroupedFields(),y=this.getOptions(),L=y.data,H=y.scales,ct=H===void 0?{}:H,Ot=this.filteredData,zt=0,Zt=s.length;zt<Zt;zt++){var $t=s[zt],te=ct[$t],ne=this.getScaleKey($t);this.createScale($t,c.includes($t)?L:Ot,te,ne),this.createdScaleKeys.set(ne,!0)}},h.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},h.prototype.getGeometryScales=function(){for(var s=this.getScaleFields(),c={},y=0;y<s.length;y++){var L=s[y];c[L]=this.getScaleByField(L)}return c},h.prototype.getScaleFields=function(){for(var s=[],c={},y=this.geometries,L=0;L<y.length;L++){var H=y[L],ct=H.getScaleFields();Mr(ct,s,c)}return s},h.prototype.getGroupedFields=function(){for(var s=[],c={},y=this.geometries,L=0;L<y.length;L++){var H=y[L],ct=H.getGroupFields();Mr(ct,s,c)}return s},h.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},h.prototype.adjustCategoryScaleRange=function(){var s=this,c=Object(d.g)([this.getXScale()],this.getYScales()).filter(function(H){return!!H}),y=this.getCoordinate(),L=this.options.scales;Object(o.j)(c,function(H){var ct=H.field,Ot=H.values,zt=H.isCategory,Zt=H.isIdentity;(zt||Zt)&&Ot&&!Object(o.s)(L,[ct,"range"])&&(H.range=Ti(H,y,s.theme))})},h.prototype.initComponents=function(s){for(var c=this.controllers,y=0;y<c.length;y++){var L=c[y];s?L.update():(L.clear(),L.render())}},h.prototype.doLayout=function(){this.layoutFunc(this)},h.prototype.createCoordinate=function(){var s=this.coordinateBBox.bl,c=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(s,c)},h.prototype.paintGeometries=function(s){for(var c=this.options.animate,y=this.getCoordinate(),L={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},H=this.geometries,ct=0;ct<H.length;ct++){var Ot=H[ct];Ot.coordinate=y,Ot.canvasRegion=L,c||Ot.animate(!1),Ot.paint(s)}},h.prototype.renderComponents=function(s){for(var c=0;c<this.getComponents().length;c++){var y=this.getComponents()[c];y.component.render()}},h.prototype.renderFacet=function(s){this.facetInstance&&(s?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},h.prototype.initOptions=function(){var s=this,c=this.options,y=c.geometries,L=y===void 0?[]:y,H=c.interactions,ct=H===void 0?[]:H,Ot=c.views,zt=Ot===void 0?[]:Ot,Zt=c.annotations,$t=Zt===void 0?[]:Zt,te=c.coordinate,ne=c.events,de=c.facets;this.coordinateController?te&&this.coordinateController.update(te):this.coordinateController=new Hs(te);for(var be=0;be<L.length;be++){var He=L[be];this.createGeometry(He)}for(var er=0;er<ct.length;er++){var dr=ct[er],yr=dr.type,nn=dr.cfg;this.interaction(yr,nn)}for(var un=0;un<zt.length;un++){var dn=zt[un];this.createView(dn)}for(var va=this.getController("annotation"),na=0;na<$t.length;na++){var $n=$t[na];va.annotation($n)}ne&&Object(o.j)(ne,function(Ia,ai){s.on(ai,Ia)}),de&&Object(o.j)(de,function(Ia){var ai=Ia.type,_a=Object(d.e)(Ia,["type"]);s.facet(ai,_a)})},h.prototype.createGeometry=function(s){var c=s.type,y=s.cfg,L=y===void 0?{}:y;if(this[c]){var H=this[c](L);Object(o.j)(s,function(ct,Ot){Object(o.H)(H[Ot])&&H[Ot](ct)})}},h.prototype.getScaleKey=function(s){return this.id+"-"+s},h}(rt);function Os(g,h){gc.prototype[g.toLowerCase()]=function(s){s===void 0&&(s={});var c=Object(d.a)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},s),y=new h(c);return this.geometries.push(y),y}}var ou=gc,Af=function(g){Object(d.c)(h,g);function h(s){var c=this,y=s.container,L=s.width,H=s.height,ct=s.autoFit,Ot=ct===void 0?!1:ct,zt=s.padding,Zt=s.appendPadding,$t=s.renderer,te=$t===void 0?"canvas":$t,ne=s.pixelRatio,de=s.localRefresh,be=de===void 0?!0:de,He=s.visible,er=He===void 0?!0:He,dr=s.supportCSSTransform,yr=dr===void 0?!1:dr,nn=s.defaultInteractions,un=nn===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:nn,dn=s.options,va=s.limitInPlot,na=s.theme,$n=s.syncViewPadding,Ia=Object(o.O)(y)?document.getElementById(y):y,ai=Object(N.b)('<div style="position:relative;"></div>');Ia.appendChild(ai);var _a=k(Ia,Ot,L,H),ji=W(te),Mo=new ji.Canvas(Object(d.a)({container:ai,pixelRatio:ne,localRefresh:be,supportCSSTransform:yr},_a));return c=g.call(this,{parent:null,canvas:Mo,backgroundGroup:Mo.addGroup({zIndex:D.BG}),middleGroup:Mo.addGroup({zIndex:D.MID}),foregroundGroup:Mo.addGroup({zIndex:D.FORE}),padding:zt,appendPadding:Zt,visible:er,options:dn,limitInPlot:va,theme:na,syncViewPadding:$n})||this,c.onResize=Object(o.g)(function(){c.forceFit()},300),c.ele=Ia,c.canvas=Mo,c.width=_a.width,c.height=_a.height,c.autoFit=Ot,c.localRefresh=be,c.renderer=te,c.wrapperElement=ai,c.updateCanvasStyle(),c.bindAutoFit(),c.initDefaultInteractions(un),c}return h.prototype.initDefaultInteractions=function(s){var c=this;Object(o.j)(s,function(y){c.interaction(y)})},h.prototype.changeSize=function(s,c){return this.width===s&&this.height===c?this:(this.emit(C.BEFORE_CHANGE_SIZE),this.width=s,this.height=c,this.canvas.changeSize(s,c),this.render(!0),this.emit(C.AFTER_CHANGE_SIZE),this)},h.prototype.destroy=function(){g.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),$(this.wrapperElement),this.wrapperElement=null},h.prototype.changeVisible=function(s){return g.prototype.changeVisible.call(this,s),this.wrapperElement.style.display=s?"":"none",this},h.prototype.forceFit=function(){if(!this.destroyed){var s=k(this.ele,!0,this.width,this.height),c=s.width,y=s.height;this.changeSize(c,y)}},h.prototype.updateCanvasStyle=function(){Object(N.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},h.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},h.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},h}(ou),If=Af,hl=function(){function g(h){this.visible=!0,this.components=[],this.view=h}return g.prototype.clear=function(h){Object(o.j)(this.components,function(s){s.component.destroy()}),this.components=[]},g.prototype.destroy=function(){this.clear()},g.prototype.getComponents=function(){return this.components},g.prototype.changeVisible=function(h){this.visible!==h&&(this.components.forEach(function(s){h?s.component.show():s.component.hide()}),this.visible=h)},g}();function ju(g){for(var h=[],s=function(L){var H=g[L],ct=Object(o.m)(h,function(Ot){return Ot.color===H.color&&Ot.name===H.name&&Ot.value===H.value&&Ot.title===H.title});ct||h.push(H)},c=0;c<g.length;c++)s(c);return h}var Ru=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.isLocked=!1,s}return Object.defineProperty(h.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.isVisible=function(){var s=this.view.getOptions().tooltip;return s!==!1},h.prototype.render=function(){},h.prototype.showTooltip=function(s){if(this.point=s,!!this.isVisible()){var c=this.view,y=this.getTooltipItems(s);if(!y.length){this.hideTooltip();return}var L=this.getTitle(y),H={x:y[0].x,y:y[0].y};c.emit("tooltip:show",Vo.fromData(c,"tooltip:show",Object(d.a)({items:y,title:L},s)));var ct=this.getTooltipCfg(),Ot=ct.follow,zt=ct.showMarkers,Zt=ct.showCrosshairs,$t=ct.showContent,te=ct.marker,ne=this.items,de=this.title;if(!Object(o.G)(de,L)||!Object(o.G)(ne,y)?(c.emit("tooltip:change",Vo.fromData(c,"tooltip:change",Object(d.a)({items:y,title:L},s))),(Object(o.H)($t)?$t(y):$t)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(o.bb)({},ct,{items:this.getItemsAfterProcess(y),title:L},Ot?s:{})),this.tooltip.show()),zt&&this.renderTooltipMarkers(y,te)):(this.tooltip&&Ot&&(this.tooltip.update(s),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=y,this.title=L,Zt){var be=Object(o.s)(ct,["crosshairs","follow"],!1);this.renderCrosshairs(be?s:H,ct)}}},h.prototype.hideTooltip=function(){var s=this.getTooltipCfg().follow;if(!s){this.point=null;return}var c=this.tooltipMarkersGroup;c&&c.hide();var y=this.xCrosshair,L=this.yCrosshair;y&&y.hide(),L&&L.hide();var H=this.tooltip;H&&H.hide(),this.view.emit("tooltip:hide",Vo.fromData(this.view,"tooltip:hide",{})),this.point=null},h.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},h.prototype.unlockTooltip=function(){this.isLocked=!1;var s=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(s.capture)},h.prototype.isTooltipLocked=function(){return this.isLocked},h.prototype.clear=function(){var s=this,c=s.tooltip,y=s.xCrosshair,L=s.yCrosshair,H=s.tooltipMarkersGroup;c&&(c.hide(),c.clear()),y&&y.clear(),L&&L.clear(),H&&H.clear(),this.reset()},h.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},h.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},h.prototype.changeVisible=function(s){if(this.visible!==s){var c=this,y=c.tooltip,L=c.tooltipMarkersGroup,H=c.xCrosshair,ct=c.yCrosshair;s?(y&&y.show(),L&&L.show(),H&&H.show(),ct&&ct.show()):(y&&y.hide(),L&&L.hide(),H&&H.hide(),ct&&ct.hide()),this.visible=s}},h.prototype.getTooltipItems=function(s){var c=this.findItemsFromView(this.view,s);if(c.length){c=Object(o.q)(c);for(var y=0,L=c;y<L.length;y++)for(var H=L[y],ct=0,Ot=H;ct<Ot.length;ct++){var zt=Ot[ct],Zt=zt.mappingData,$t=Zt.x,te=Zt.y;zt.x=Object(o.B)($t)?$t[$t.length-1]:$t,zt.y=Object(o.B)(te)?te[te.length-1]:te}var ne=this.getTooltipCfg().shared;if(ne===!1&&c.length>1){for(var de=c[0],be=Math.abs(s.y-de[0].y),He=0,er=c;He<er.length;He++){var dr=er[He],yr=Math.abs(s.y-dr[0].y);yr<=be&&(de=dr,be=yr)}c=[de]}return ju(Object(o.q)(c))}return[]},h.prototype.layout=function(){},h.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var s=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}})}},h.prototype.isCursorEntered=function(s){if(this.tooltip){var c=this.tooltip.getContainer(),y=this.tooltip.get("capture");if(c&&y){var L=c.getBoundingClientRect(),H=L.x,ct=L.y,Ot=L.width,zt=L.height;return new vn(H,ct,Ot,zt).isPointIn(s)}}return!1},h.prototype.getTooltipCfg=function(){var s=this.view,c=s.getOptions().tooltip,y=this.processCustomContent(c),L=s.getTheme(),H=Object(o.s)(L,["components","tooltip"],{}),ct=Object(o.s)(y,"enterable",H.enterable);return Object(o.h)({},H,y,{capture:!!(ct||this.isLocked)})},h.prototype.processCustomContent=function(s){if(Object(o.C)(s)||!Object(o.s)(s,"customContent"))return s;var c=s.customContent,y=function(H,ct){var Ot=c(H,ct)||"";return Object(o.O)(Ot)?'<div class="g2-tooltip">'+Ot+"</div>":Ot};return Object(d.a)(Object(d.a)({},s),{customContent:y})},h.prototype.getTitle=function(s){var c=s[0].title||s[0].name;return this.title=c,c},h.prototype.renderTooltip=function(){var s=this.view.getCanvas(),c={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}},y=this.getTooltipCfg(),L=new se(Object(d.a)(Object(d.a)({parent:s.get("el").parentNode,region:c},y),{visible:!1,crosshairs:null}));L.init(),this.tooltip=L},h.prototype.renderTooltipMarkers=function(s,c){for(var y=this.getTooltipMarkersGroup(),L=0,H=s;L<H.length;L++){var ct=H[L],Ot=ct.x,zt=ct.y,Zt=Object(d.a)(Object(d.a)({fill:ct.color,symbol:"circle",shadowColor:ct.color},c),{x:Ot,y:zt});y.addShape("marker",{attrs:Zt})}},h.prototype.renderCrosshairs=function(s,c){var y=Object(o.s)(c,["crosshairs","type"],"x");y==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(s,c)):y==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(s,c)):y==="xy"&&(this.renderXCrosshairs(s,c),this.renderYCrosshairs(s,c))},h.prototype.renderXCrosshairs=function(s,c){var y=this.getViewWithGeometry(this.view).getCoordinate();if(!!_r(y,s)){var L,H;if(y.isRect)y.isTransposed?(L={x:y.start.x,y:s.y},H={x:y.end.x,y:s.y}):(L={x:s.x,y:y.end.y},H={x:s.x,y:y.start.y});else{var ct=bn(y,s),Ot=y.getCenter(),zt=y.getRadius();H=Me(Ot.x,Ot.y,zt,ct),L=Ot}var Zt=Object(o.h)({start:L,end:H,container:this.getTooltipCrosshairsGroup()},Object(o.s)(c,"crosshairs",{}),this.getCrosshairsText("x",s,c));delete Zt.type;var $t=this.xCrosshair;$t?$t.update(Zt):($t=new Rt.Crosshair.Line(Zt),$t.init()),$t.render(),$t.show(),this.xCrosshair=$t}},h.prototype.renderYCrosshairs=function(s,c){var y=this.getViewWithGeometry(this.view).getCoordinate();if(!!_r(y,s)){var L,H;if(y.isRect){var ct=void 0,Ot=void 0;y.isTransposed?(ct={x:s.x,y:y.end.y},Ot={x:s.x,y:y.start.y}):(ct={x:y.start.x,y:s.y},Ot={x:y.end.x,y:s.y}),L={start:ct,end:Ot},H="Line"}else L={center:y.getCenter(),radius:Jr(y,s),startAngle:y.startAngle,endAngle:y.endAngle},H="Circle";L=Object(o.h)({container:this.getTooltipCrosshairsGroup()},L,Object(o.s)(c,"crosshairs",{}),this.getCrosshairsText("y",s,c)),delete L.type;var zt=this.yCrosshair;zt?y.isRect&&zt.get("type")==="circle"||!y.isRect&&zt.get("type")==="line"?(zt=new Rt.Crosshair[H](L),zt.init()):zt.update(L):(zt=new Rt.Crosshair[H](L),zt.init()),zt.render(),zt.show(),this.yCrosshair=zt}},h.prototype.getCrosshairsText=function(s,c,y){var L=Object(o.s)(y,["crosshairs","text"]),H=Object(o.s)(y,["crosshairs","follow"]),ct=this.items;if(L){var Ot=this.getViewWithGeometry(this.view),zt=ct[0],Zt=Ot.getXScale(),$t=Ot.getYScales()[0],te=void 0,ne=void 0;if(H){var de=this.view.getCoordinate().invert(c);te=Zt.invert(de.x),ne=$t.invert(de.y)}else te=zt.data[Zt.field],ne=zt.data[$t.field];var be=s==="x"?te:ne;return Object(o.H)(L)?L=L(s,be,ct,c):L.content=be,{text:L}}},h.prototype.getGuideGroup=function(){if(!this.guideGroup){var s=this.view.foregroundGroup;this.guideGroup=s.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},h.prototype.getTooltipMarkersGroup=function(){var s=this.tooltipMarkersGroup;return s&&!s.destroyed?(s.clear(),s.show()):(s=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),s.toFront(),this.tooltipMarkersGroup=s),s},h.prototype.getTooltipCrosshairsGroup=function(){var s=this.tooltipCrosshairsGroup;return s||(s=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),s.toBack(),this.tooltipCrosshairsGroup=s),s},h.prototype.getTooltipItemsByHitShape=function(s,c,y){var L=this.getTooltipCfg().showNil,H=[],ct=s.container,Ot=ct.getShape(c.x,c.y);if(Ot&&Ot.get("visible")&&Ot.get("origin")){var zt=Ot.get("origin").mappingData,Zt=ue(zt,s,y,L);Zt.length&&H.push(Zt)}return H},h.prototype.getTooltipItemsByFindData=function(s,c,y){var L=this.getTooltipCfg().showNil,H=[],ct=s.dataArray;if(!Object(o.F)(ct)){s.sort(ct);for(var Ot=0,zt=ct;Ot<zt.length;Ot++){var Zt=zt[Ot],$t=Ce(c,Zt,s);if($t){var te=s.getElementId($t),ne=s.elementsMap[te];if(s.type==="heatmap"||ne.visible){var de=ue($t,s,y,L);de.length&&H.push(de)}}}}return H},h.prototype.findItemsFromView=function(s,c){if(s.getOptions().tooltip===!1)return[];for(var y=[],L=s.geometries,H=this.getTooltipCfg(),ct=H.shared,Ot=H.title,zt=H.reversed,Zt=0,$t=L;Zt<$t.length;Zt++){var te=$t[Zt];if(te.visible&&te.tooltipOption!==!1){var ne=te.type,de=void 0;["point","edge","polygon"].includes(ne)?de=this.getTooltipItemsByHitShape(te,c,Ot):["area","line","path","heatmap"].includes(ne)?de=this.getTooltipItemsByFindData(te,c,Ot):ct!==!1?de=this.getTooltipItemsByFindData(te,c,Ot):de=this.getTooltipItemsByHitShape(te,c,Ot),de.length&&(zt&&de.reverse(),y.push(de))}}for(var be=0,He=s.views;be<He.length;be++){var er=He[be];y=y.concat(this.findItemsFromView(er,c))}return y},h.prototype.getViewWithGeometry=function(s){var c=this;return s.geometries.length?s:Object(o.m)(s.views,function(y){return c.getViewWithGeometry(y)})},h.prototype.getItemsAfterProcess=function(s){var c=this.getTooltipCfg().customItems,y=c||function(L){return L};return y(s)},h}(hl),Df=Ru,dl={};function su(g){return dl[g.toLowerCase()]}function mo(g,h){dl[g.toLowerCase()]=h}var js={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Ed={interval:function(h){return{enter:{animation:h.isRect?h.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:h.isPolar&&h.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},pc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(h){var s;return h.isRect?s=h.isTransposed?"grow-in-x":"grow-in-y":(s="grow-in-xy",h.isPolar&&h.isTransposed&&(s="wave-in")),{animation:s}},schema:function(h){var s;return h.isRect?s=h.isTransposed?"grow-in-x":"grow-in-y":s="grow-in-xy",{animation:s}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Sd(g,h){return{delay:Object(o.H)(g.delay)?g.delay(h):g.delay,easing:Object(o.H)(g.easing)?g.easing(h):g.easing,duration:Object(o.H)(g.duration)?g.duration(h):g.duration,callback:g.callback,repeat:g.repeat}}function Pl(g,h,s){var c=Ed[g];return c&&(Object(o.H)(c)&&(c=c(h)),c=Object(o.h)({},js,c),s)?c[s]:c}function Pi(g,h,s){var c=Object(o.s)(g.get("origin"),"data",A),y=h.animation,L=Sd(h,c);if(y){var H=su(y);H&&H(g,L,s)}else g.animate(s.toAttrs,L)}function Pf(g,h,s,c,y){if(pc[s]){var L=pc[s](c),H=su(Object(o.s)(L,"animation",""));if(H){var ct=Object(d.a)(Object(d.a)(Object(d.a)({},js.appear),L),h);g.stopAnimate(),H(g,ct,{coordinate:c,minYPoint:y,toAttrs:null})}}}var wu="element-background",Lf=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.states=[];var y=s.shapeFactory,L=s.container,H=s.offscreenGroup,ct=s.visible,Ot=ct===void 0?!0:ct;return c.shapeFactory=y,c.container=L,c.offscreenGroup=H,c.visible=Ot,c}return h.prototype.draw=function(s,c){c===void 0&&(c=!1),this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.drawShape(s,c),this.visible===!1&&this.changeVisible(!1)},h.prototype.update=function(s){var c=this,y=c.shapeFactory,L=c.shape;if(!!L){this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.setShapeInfo(L,s);var H=this.getOffscreenGroup(),ct=y.drawShape(this.shapeType,s,H);ct.cfg.data=this.data,ct.cfg.origin=s,ct.cfg.element=this,this.syncShapeStyle(L,ct,this.getStates(),this.getAnimateCfg("update"))}},h.prototype.destroy=function(){var s=this,c=s.shapeFactory,y=s.shape;if(y){var L=this.getAnimateCfg("leave");L?Pi(y,L,{coordinate:c.coordinate,toAttrs:Object(d.a)({},y.attr())}):y.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,g.prototype.destroy.call(this)},h.prototype.changeVisible=function(s){g.prototype.changeVisible.call(this,s),s?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(c){c.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(c){c.hide()}))},h.prototype.setState=function(s,c){var y=this,L=y.states,H=y.shapeFactory,ct=y.model,Ot=y.shape,zt=y.shapeType,Zt=L.indexOf(s);if(c){if(Zt>-1)return;L.push(s),(s==="active"||s==="selected")&&Ot.toFront()}else{if(Zt===-1)return;L.splice(Zt,1),(s==="active"||s==="selected")&&Ot.toBack()}var $t=H.drawShape(zt,ct,this.getOffscreenGroup());L.length?this.syncShapeStyle(Ot,$t,L,null):this.syncShapeStyle(Ot,$t,["reset"],null),$t.remove(!0);var te={state:s,stateStatus:c,element:this,target:this.container};this.container.emit("statechange",te),Object(Rt.propagationDelegate)(this.shape,"statechange",te)},h.prototype.clearStates=function(){var s=this,c=this.states;Object(o.j)(c,function(y){s.setState(y,!1)}),this.states=[]},h.prototype.hasState=function(s){return this.states.includes(s)},h.prototype.getStates=function(){return this.states},h.prototype.getData=function(){return this.data},h.prototype.getModel=function(){return this.model},h.prototype.getBBox=function(){var s=this,c=s.shape,y=s.labelShape,L={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return c&&(L=c.getCanvasBBox()),y&&y.forEach(function(H){var ct=H.getCanvasBBox();L.x=Math.min(ct.x,L.x),L.y=Math.min(ct.y,L.y),L.minX=Math.min(ct.minX,L.minX),L.minY=Math.min(ct.minY,L.minY),L.maxX=Math.max(ct.maxX,L.maxX),L.maxY=Math.max(ct.maxY,L.maxY)}),L.width=L.maxX-L.minX,L.height=L.maxY-L.minY,L},h.prototype.getStatesStyle=function(){if(!this.statesStyle){var s=this,c=s.shapeType,y=s.geometry,L=s.shapeFactory,H=y.stateOption,ct=L.defaultShapeType,Ot=L.theme[c]||L.theme[ct];this.statesStyle=Object(o.h)({},Ot,H)}return this.statesStyle},h.prototype.getStateStyle=function(s,c){var y=this.getStatesStyle(),L=Object(o.s)(y,[s,"style"],{}),H=L[c]||L;return Object(o.H)(H)?H(this):H},h.prototype.getAnimateCfg=function(s){var c=this,y=this.animate;if(y){var L=y[s];return L&&Object(d.a)(Object(d.a)({},L),{callback:function(){var ct;Object(o.H)(L.callback)&&L.callback(),(ct=c.geometry)===null||ct===void 0||ct.emit(S.AFTER_DRAW_ANIMATE)}})}return null},h.prototype.drawShape=function(s,c){var y;c===void 0&&(c=!1);var L=this,H=L.shapeFactory,ct=L.container,Ot=L.shapeType;if(this.shape=H.drawShape(Ot,s,ct),this.shape){this.setShapeInfo(this.shape,s);var zt=this.shape.cfg.name;zt?Object(o.O)(zt)&&(this.shape.cfg.name=["element",zt]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var Zt=c?"enter":"appear",$t=this.getAnimateCfg(Zt);$t&&((y=this.geometry)===null||y===void 0||y.emit(S.BEFORE_DRAW_ANIMATE),Pi(this.shape,$t,{coordinate:H.coordinate,toAttrs:Object(d.a)({},this.shape.attr())}))}},h.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},h.prototype.setShapeInfo=function(s,c){var y=this;if(s.cfg.origin=c,s.cfg.element=this,s.isGroup()){var L=s.get("children");L.forEach(function(H){y.setShapeInfo(H,c)})}},h.prototype.syncShapeStyle=function(s,c,y,L,H){var ct=this,Ot;if(y===void 0&&(y=[]),H===void 0&&(H=0),!(!s||!c)){var zt=s.get("clipShape"),Zt=c.get("clipShape");if(this.syncShapeStyle(zt,Zt,y,L),s.isGroup())for(var $t=s.get("children"),te=c.get("children"),ne=0;ne<$t.length;ne++)this.syncShapeStyle($t[ne],te[ne],y,L,H+ne);else{if(!Object(o.F)(y)&&!Object(o.G)(y,["reset"])){var de=s.get("name");Object(o.B)(de)&&(de=de[1]),Object(o.j)(y,function(He){if(c.get("name")!==wu){var er=ct.getStateStyle(He,de||H);c.attr(er)}})}var be=or(s,c);this.animate?L?((Ot=this.geometry)===null||Ot===void 0||Ot.emit(S.BEFORE_DRAW_ANIMATE),Pi(s,L,{coordinate:this.shapeFactory.coordinate,toAttrs:be,shapeModel:this.model})):Object(o.F)(y)?(s.stopAnimate(),s.animate(be,{duration:300})):s.attr(be):s.attr(be)}}},h.prototype.getShapeType=function(s){var c=Object(o.s)(s,"shape");return Object(o.B)(c)?c[0]:c},h}(rt),jf=Lf,Wi={},yc={};function mc(g){return Wi[g.toLowerCase()]}function vl(g,h){Wi[g.toLowerCase()]=h}function Rf(g){return yc[g.toLowerCase()]}function to(g,h){yc[g.toLowerCase()]=h}var wf={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(h,s){var c=this.getShape(h);return c.getPoints?c.getPoints(s):this.getDefaultPoints(s)},getShape:function(h){var s=this[h]||this[this.defaultShapeType];return s.coordinate=this.coordinate,s},getDefaultPoints:function(){return[]},getDefaultStyle:function(h){return Object(o.s)(h,[this.defaultShapeType,"default","style"],{})},getMarker:function(h,s){var c=this.getShape(h);if(!c.getMarker){var y=this.defaultShapeType;c=this.getShape(y)}var L=this.theme,H=Object(o.s)(L,[h,"default"],{}),ct=c.getMarker(s);return Object(o.h)({},H,ct)},drawShape:function(h,s,c){var y=this.getShape(h);return y.draw(s,c)}},bh={coordinate:null,parsePath:function(h){var s=this.coordinate,c=Object(In.c)(h);return s.isPolar?c=Gn(s,c):c=sn(s,c),c},parsePoint:function(h){var s=this.coordinate;return s.convert(h)},parsePoints:function(h){var s=this.coordinate;return h.map(function(c){return s.convert(c)})},draw:function(h,s){}},bc={};function Ks(g,h){var s=Object(o.tb)(g),c=Object(d.a)(Object(d.a)(Object(d.a)({},wf),h),{geometryType:g});return bc[s]=c,c}function Oi(g,h,s){var c=Object(o.tb)(g),y=bc[c],L=Object(d.a)(Object(d.a)({},bh),s);return y[h]=L,L}function Oc(g){var h=Object(o.tb)(g);return bc[h]}function Oh(g,h,s){if(s===void 0&&(s={}),!h)return[g];var c=Object(o.w)(g,h),y=[];if(h.length===1&&s[h[0]])for(var L=s[h[0]],H=0,ct=L;H<ct.length;H++){var Ot=ct[H],zt=c["_"+Ot];zt&&y.push(zt)}else for(var Zt in c)if(c.hasOwnProperty(Zt)){var $t=c[Zt];y.push($t)}return y}function xc(g,h){return Object(o.kb)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(s){return!Object(o.G)(g[s],h[s])})}function Rs(g){return Object(o.B)(g)?g:g.split("*")}function xh(g,h){var s=[];return Object(o.j)(h,function(c,y){var L=y.split(" ")[0];L===g&&s.push(c)}),s}var Bu=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.type="base",c.attributes={},c.elements=[],c.elementsMap={},c.animateOption=!0,c.attributeOption={},c.lastElementsMap={},c.generatePoints=!1,c.beforeMappingData=null,c.adjusts={},c.idFields=[],c.hasSorted=!1,c.isCoordinateChanged=!1;var y=s.container,L=s.labelsContainer,H=s.coordinate,ct=s.data,Ot=s.sortable,zt=Ot===void 0?!1:Ot,Zt=s.visible,$t=Zt===void 0?!0:Zt,te=s.theme,ne=s.scales,de=ne===void 0?{}:ne,be=s.scaleDefs,He=be===void 0?{}:be,er=s.intervalPadding,dr=s.dodgePadding,yr=s.maxColumnWidth,nn=s.minColumnWidth,un=s.columnWidthRatio,dn=s.roseWidthRatio,va=s.multiplePieWidthRatio,na=s.zIndexReversed;return c.container=y,c.labelsContainer=L,c.coordinate=H,c.data=ct,c.sortable=zt,c.visible=$t,c.userTheme=te,c.scales=de,c.scaleDefs=He,c.intervalPadding=er,c.dodgePadding=dr,c.maxColumnWidth=yr,c.minColumnWidth=nn,c.columnWidthRatio=un,c.roseWidthRatio=dn,c.multiplePieWidthRatio=va,c.zIndexReversed=na,c}return h.prototype.position=function(s){var c=s;Object(o.N)(s)||(c={fields:Rs(s)});var y=Object(o.s)(c,"fields");return y.length===1&&(y.unshift("1"),Object(o.ib)(c,"fields",y)),Object(o.ib)(this.attributeOption,"position",c),this},h.prototype.color=function(s,c){return this.createAttrOption("color",s,c),this},h.prototype.shape=function(s,c){return this.createAttrOption("shape",s,c),this},h.prototype.size=function(s,c){return this.createAttrOption("size",s,c),this},h.prototype.adjust=function(s){var c=s;return(Object(o.O)(s)||Object(o.N)(s))&&(c=[s]),Object(o.j)(c,function(y,L){Object(o.M)(y)||(c[L]={type:y})}),this.adjustOption=c,this},h.prototype.style=function(s,c){if(Object(o.O)(s)){var y=Rs(s);this.styleOption={fields:y,callback:c}}else{var L=s,y=L.fields,H=L.callback,ct=L.cfg;y||H||ct?this.styleOption=s:this.styleOption={cfg:s}}return this},h.prototype.tooltip=function(s,c){if(Object(o.O)(s)){var y=Rs(s);this.tooltipOption={fields:y,callback:c}}else this.tooltipOption=s;return this},h.prototype.animate=function(s){return this.animateOption=s,this},h.prototype.label=function(s,c,y){if(Object(o.O)(s)){var L={},H=Rs(s);L.fields=H,Object(o.H)(c)?L.callback=c:Object(o.N)(c)&&(L.cfg=c),y&&(L.cfg=y),this.labelOption=L}else this.labelOption=s;return this},h.prototype.state=function(s){return this.stateOption=s,this},h.prototype.customInfo=function(s){return this.customOption=s,this},h.prototype.init=function(s){s===void 0&&(s={}),this.setCfg(s),this.initAttributes(),this.processData(this.data),this.adjustScale()},h.prototype.update=function(s){s===void 0&&(s={});var c=s.data,y=s.isDataChanged,L=s.isCoordinateChanged,H=this,ct=H.attributeOption,Ot=H.lastAttributeOption;Object(o.G)(ct,Ot)?c&&(y||!Object(o.G)(c,this.data))?(this.setCfg(s),this.initAttributes(),this.processData(c)):this.setCfg(s):this.init(s),this.adjustScale(),this.isCoordinateChanged=L},h.prototype.paint=function(s){var c=this;s===void 0&&(s=!1),this.animateOption&&(this.animateOption=Object(o.h)({},Pl(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var y=this.getOffscreenGroup();y.clear();for(var L=this.beforeMappingData,H=this.beforeMapping(L),ct=[],Ot=0,zt=H.length;Ot<zt;Ot++){var Zt=H[Ot],$t=this.mapping(Zt);ct.push($t),this.createElements($t,Ot,s)}if(this.canDoGroupAnimation(s)){var te=this.container,ne=this.type,de=this.coordinate,be=Object(o.s)(this.animateOption,"appear"),He=this.getYScale(),er=de.convert({x:0,y:He.scale(this.getYMinValue())});Pf(te,be,ne,de,er)}this.labelOption&&this.renderLabels(Object(o.q)(ct),s),this.dataArray=ct,Object(o.j)(this.lastElementsMap,function(dr){dr.animate=c.animateOption,dr.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(d.a)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},h.prototype.clear=function(){var s=this,c=s.container,y=s.geometryLabel,L=s.offscreenGroup;c&&c.clear(),y&&y.clear(),L&&L.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},h.prototype.destroy=function(){this.clear();var s=this.container;s.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,g.prototype.destroy.call(this)},h.prototype.getGroupScales=function(){return this.groupScales},h.prototype.getAttribute=function(s){return this.attributes[s]},h.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},h.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},h.prototype.getGroupAttributes=function(){var s=[];return Object(o.j)(this.attributes,function(c){I.includes(c.type)&&s.push(c)}),s},h.prototype.getDefaultValue=function(s){var c,y=this.getAttribute(s);return y&&Object(o.F)(y.scales)&&(c=y.values[0]),c},h.prototype.getAttributeValues=function(s,c){for(var y=[],L=s.scales,H=0,ct=L.length;H<ct;H++){var Ot=L[H],zt=Ot.field;Ot.isIdentity?y.push(Ot.values):y.push(c[zt])}return s.mapping.apply(s,y)},h.prototype.getAdjust=function(s){return this.adjusts[s]},h.prototype.getShapeMarker=function(s,c){var y=this.getShapeFactory();return y.getMarker(s,c)},h.prototype.getElementsBy=function(s){return this.elements.filter(function(c){return s(c)})},h.prototype.getElementId=function(s){s=Object(o.B)(s)?s[0]:s;var c=s[A];if(this.idFields.length){for(var y=c[this.idFields[0]],L=1;L<this.idFields.length;L++)y+="-"+c[this.idFields[L]];return y}var H=this.type,ct=this.getXScale(),Ot=this.getYScale(),zt=ct.field||"x",Zt=Ot.field||"y",$t=c[Zt],te;ct.type==="identity"?te=ct.values[0]:te=c[zt];var ne;H==="interval"||H==="schema"?ne=""+te:H==="line"||H==="area"||H==="path"?ne=H:ne=te+"-"+$t;var de=this.groupScales;Object(o.F)(de)&&(de=Object(o.s)(this.getAttribute("color"),"scales",[]));for(var L=0,be=de.length;L<be;L++){var He=de[L],er=He.field;ne=ne+"-"+c[er]}var dr=this.getAdjust("dodge");if(dr){var yr=dr.dodgeBy;yr&&(ne=ne+"-"+c[yr])}return this.getAdjust("jitter")&&(ne=ne+"-"+s.x+"-"+s.y),ne},h.prototype.getScaleFields=function(){var s=[],c={},y=this,L=y.attributeOption,H=y.labelOption,ct=y.tooltipOption;for(var Ot in L)if(L.hasOwnProperty(Ot)){var zt=L[Ot];zt.fields?Mr(zt.fields,s,c):zt.values&&Mr(zt.values,s,c)}return H&&H.fields&&Mr(H.fields,s,c),Object(o.M)(ct)&&ct.fields&&Mr(ct.fields,s,c),s},h.prototype.changeVisible=function(s){g.prototype.changeVisible.call(this,s);for(var c=this.elements,y=0,L=c.length;y<L;y++){var H=c[y];H.changeVisible(s)}s?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},h.prototype.getGroupFields=function(){for(var s=[],c={},y=0,L=I.length;y<L;y++){var H=I[y],ct=this.attributeOption[H];ct&&ct.fields&&Mr(ct.fields,s,c)}return s},h.prototype.getXYFields=function(){var s=this.attributeOption.position.fields,c=s[0],y=s[1];return[c,y]},h.prototype.getShapes=function(){return this.elements.map(function(s){return s.shape})},h.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},h.prototype.sort=function(s){if(!this.hasSorted)for(var c=this.getXScale(),y=c.field,L=0;L<s.length;L++){var H=s[L];H.sort(function(ct,Ot){return c.translate(ct[A][y])-c.translate(Ot[A][y])})}this.hasSorted=!0},h.prototype.adjustScale=function(){var s=this.getYScale();s&&this.getAdjust("stack")&&this.updateStackRange(s,this.beforeMappingData)},h.prototype.getShapeFactory=function(){var s=this.shapeType;if(!!Oc(s))return this.shapeFactory||(this.shapeFactory=Object(o.e)(Oc(s))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[s]||{},this.shapeFactory},h.prototype.createShapePointsCfg=function(s){var c=this.getXScale(),y=this.getYScale(),L=this.normalizeValues(s[c.field],c),H;return y?H=this.normalizeValues(s[y.field],y):H=s.y?s.y:.1,{x:L,y:H,y0:y?y.scale(this.getYMinValue()):void 0}},h.prototype.createElement=function(s,c){c===void 0&&(c=!1);var y=this.container,L=this.getDrawCfg(s),H=this.getShapeFactory(),ct=new jf({shapeFactory:H,container:y,offscreenGroup:this.getOffscreenGroup()});return ct.animate=this.animateOption,ct.geometry=this,ct.draw(L,c),ct},h.prototype.getDrawCfg=function(s){var c=s[A],y={mappingData:s,data:c,x:s.x,y:s.y,color:s.color,size:s.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},L=s.shape;!L&&this.getShapeFactory()&&(L=this.getShapeFactory().defaultShapeType),y.shape=L;var H=this.theme.geometries[this.shapeType];y.defaultStyle=Object(o.s)(H,[L,"default"],{}).style,!y.defaultStyle&&this.getShapeFactory()&&(y.defaultStyle=this.getShapeFactory().getDefaultStyle(H));var ct=this.styleOption;return ct&&(y.style=this.getStyleCfg(ct,c)),this.generatePoints&&(y.points=s.points,y.nextPoints=s.nextPoints),y},h.prototype.createElements=function(s,c,y){y===void 0&&(y=!1);for(var L=this,H=L.lastElementsMap,ct=L.elementsMap,Ot=L.elements,zt=0,Zt=s.length;zt<Zt;zt++){var $t=s[zt],te=this.getElementId($t);ct[te]&&(te=te+"-"+c+"-"+zt);var ne=H[te];if(!ne)ne=this.createElement($t,y);else{var de=this.getDrawCfg($t),be=ne.getModel();(this.isCoordinateChanged||xc(de,be))&&(ne.animate=this.animateOption,ne.update(de)),delete H[te]}Ot.push(ne),ct[te]=ne}if(this.zIndexReversed){var He=Ot.length;Ot.forEach(function(er,dr){er.shape.setZIndex(He-dr)})}return Ot},h.prototype.getLabelType=function(){var s=this,c=s.labelOption,y=s.coordinate,L=s.type,H=y.type,ct=y.isTransposed,Ot=Object(o.s)(c,["cfg","type"]);return Ot||(H==="polar"?Ot=ct?"pie":"polar":H==="theta"?Ot="pie":L==="interval"||L==="polygon"?Ot="interval":Ot="base"),Ot},h.prototype.getYMinValue=function(){var s=this.getYScale(),c=s.min,y=s.max,L;return c>=0?L=c:y<=0?L=y:L=0,L},h.prototype.createAttrOption=function(s,c,y){if(Object(o.I)(c)||Object(o.M)(c))Object(o.M)(c)&&Object(o.G)(Object.keys(c),["values"])?Object(o.ib)(this.attributeOption,s,{fields:c.values}):Object(o.ib)(this.attributeOption,s,c);else{var L={};Object(o.K)(c)?L.values=[c]:L.fields=Rs(c),y&&(Object(o.H)(y)?L.callback=y:L.values=y),Object(o.ib)(this.attributeOption,s,L)}},h.prototype.initAttributes=function(){var s=this,c=this,y=c.attributes,L=c.attributeOption,H=c.theme,ct=c.shapeType;this.groupScales=[];var Ot={},zt=function(ne){if(L.hasOwnProperty(ne)){var de=L[ne];if(!de)return{value:void 0};var be=Object(d.a)({},de),He=be.callback,er=be.values,dr=be.fields,yr=dr===void 0?[]:dr,nn=yr.map(function(dn){var va=s.scales[dn];return va.isCategory&&!Ot[dn]&&I.includes(ne)&&(s.groupScales.push(va),Ot[dn]=!0),va});be.scales=nn,ne!=="position"&&nn.length===1&&nn[0].type==="identity"?be.values=nn[0].values:!He&&!er&&(ne==="size"?be.values=H.sizes:ne==="shape"?be.values=H.shapes[ct]||[]:ne==="color"&&(nn.length?be.values=nn[0].values.length<=10?H.colors10:H.colors20:be.values=H.colors10));var un=Mt(ne);y[ne]=new un(be)}};for(var Zt in L){var $t=zt(Zt);if(typeof $t=="object")return $t.value}},h.prototype.processData=function(s){this.hasSorted=!1;for(var c=this.getAttribute("position").scales,y=c.filter(function(un){return un.isCategory}),L=this.groupData(s),H=[],ct=0,Ot=L.length;ct<Ot;ct++){for(var zt=L[ct],Zt=[],$t=0,te=zt.length;$t<te;$t++){var ne=zt[$t],de={};for(var be in ne)de[be]=ne[be];de[A]=ne;for(var He=0,er=y;He<er.length;He++){var dr=er[He],yr=dr.field;de[yr]=dr.translate(de[yr])}Zt.push(de)}H.push(Zt)}var nn=this.adjustData(H);return this.beforeMappingData=nn,nn},h.prototype.adjustData=function(s){var c=this.adjustOption,y=this,L=y.intervalPadding,H=y.dodgePadding,ct=y.theme,Ot=this.maxColumnWidth||ct.maxColumnWidth,zt=this.minColumnWidth||ct.minColumnWidth,Zt=this.columnWidthRatio||ct.columnWidthRatio,$t=s;if(c){var te=this.getXScale(),ne=this.getYScale(),de=te.field,be=ne?ne.field:null,He=Ye(this.coordinate),er=te.values.length,dr=this.getAttribute("size"),yr=void 0;dr&&(yr=dr.values[0]);for(var nn=0,un=c.length;nn<un;nn++){var dn=c[nn],va=Object(d.a)({xField:de,yField:be,intervalPadding:L,dodgePadding:H,xDimensionLength:He,groupNum:er,defaultSize:yr,maxColumnWidth:Ot,minColumnWidth:zt,columnWidthRatio:Zt},dn),na=dn.type;if(na==="dodge"){var $n=[];if(te.isCategory||te.type==="identity")$n.push("x");else if(!ne)$n.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");va.adjustNames=$n,va.dodgeRatio=Zt}else if(na==="stack"){var Ia=this.coordinate;if(!ne){va.height=Ia.getHeight();var ai=this.getDefaultValue("size")||3;va.size=ai}!Ia.isTransposed&&Object(o.I)(va.reverseOrder)&&(va.reverseOrder=!0)}var _a=Object(Y.getAdjust)(na),ji=new _a(va);$t=ji.process($t),this.adjusts[na]=ji}}return $t},h.prototype.groupData=function(s){for(var c=this.getGroupScales(),y=this.scaleDefs,L={},H=[],ct=0;ct<c.length;ct++){var Ot=c[ct],zt=Ot.field;H.push(zt),Object(o.s)(y,[zt,"values"])&&(L[zt]=y[zt].values)}return Oh(s,H,L)},h.prototype.updateStackRange=function(s,c){for(var y=Object(o.q)(c),L=s.field,H=s.min,ct=s.max,Ot=0;Ot<y.length;Ot++){var zt=y[Ot],Zt=Math.min.apply(null,zt[L]),$t=Math.max.apply(null,zt[L]);Zt<H&&(H=Zt),$t>ct&&(ct=$t)}var te=this.scaleDefs,ne={};H<s.min&&!Object(o.s)(te,[L,"min"])&&(ne.min=H),ct>s.max&&!Object(o.s)(te,[L,"max"])&&(ne.max=ct),s.change(ne)},h.prototype.beforeMapping=function(s){var c=s;if(this.sortable&&this.sort(c),this.generatePoints)for(var y=0,L=c.length;y<L;y++){var H=c[y];this.generateShapePoints(H);var ct=c[y+1];ct&&(this.generateShapePoints(ct),H[0].nextPoints=ct[0].points)}return c},h.prototype.generateShapePoints=function(s){for(var c=this.getShapeFactory(),y=this.getAttribute("shape"),L=0;L<s.length;L++){var H=s[L],ct=this.createShapePointsCfg(H),Ot=y?this.getAttributeValues(y,H):null,zt=c.getShapePoints(Ot,ct);H.points=zt}},h.prototype.normalizeValues=function(s,c){var y=[];if(Object(o.B)(s))for(var L=0;L<s.length;L++){var H=s[L];y.push(c.scale(H))}else y=c.scale(s);return y},h.prototype.mapping=function(s){for(var c=this.attributes,y=[],L=0;L<s.length;L++){var H=s[L],ct={_origin:H[A],points:H.points,nextPoints:H.nextPoints};for(var Ot in c)if(c.hasOwnProperty(Ot)){var zt=c[Ot],Zt=zt.names,$t=this.getAttributeValues(zt,H);if(Zt.length>1)for(var te=0;te<$t.length;te+=1){var ne=$t[te],de=Zt[te];ct[de]=Object(o.B)(ne)&&ne.length===1?ne[0]:ne}else ct[Zt[0]]=$t.length===1?$t[0]:$t}this.convertPoint(ct),y.push(ct)}return y},h.prototype.convertPoint=function(s){var c=s.x,y=s.y,L,H,ct,Ot=this.coordinate;if(Object(o.B)(c)&&Object(o.B)(y)){L=[],H=[];for(var zt=0,Zt=0,$t=c.length,te=y.length;zt<$t&&Zt<te;zt+=1,Zt+=1)ct=Ot.convert({x:c[zt],y:y[Zt]}),L.push(ct.x),H.push(ct.y)}else if(Object(o.B)(y)){H=[];for(var ne=0;ne<y.length;ne++){var de=y[ne];ct=Ot.convert({x:c,y:de}),L&&L!==ct.x?(Object(o.B)(L)||(L=[L]),L.push(ct.x)):L=ct.x,H.push(ct.y)}}else if(Object(o.B)(c)){L=[];for(var ne=0;ne<c.length;ne++){var be=c[ne];ct=Ot.convert({x:be,y}),H&&H!==ct.y?(Object(o.B)(H)||(H=[H]),H.push(ct.y)):H=ct.y,L.push(ct.x)}}else{var He=Ot.convert({x:c,y});L=He.x,H=He.y}s.x=L,s.y=H},h.prototype.getStyleCfg=function(s,c){var y=s.fields,L=y===void 0?[]:y,H=s.callback,ct=s.cfg;if(ct)return ct;var Ot=L.map(function(zt){return c[zt]});return H.apply(void 0,Ot)},h.prototype.setCfg=function(s){var c=this,y=s.coordinate,L=s.data,H=s.theme,ct=s.scaleDefs;y&&(this.coordinate=y),L&&(this.data=L),ct&&(this.scaleDefs=ct,this.idFields=[],Object(o.j)(ct,function(Ot,zt){Ot&&Ot.key&&c.idFields.push(zt)})),H&&(this.theme=this.userTheme?Object(o.h)({},H,this.userTheme):H)},h.prototype.renderLabels=function(s,c){c===void 0&&(c=!1);var y=this.geometryLabel;if(!y){var L=this.getLabelType(),H=mc(L);y=new H(this),this.geometryLabel=y}y.render(s,c);var ct=y.labelsRenderer.shapesMap;Object(o.j)(this.elementsMap,function(Ot,zt){var Zt=xh(zt,ct);if(Zt.length){Ot.labelShape=Zt;for(var $t=0;$t<Zt.length;$t++)for(var te=Zt[$t],ne=te.getChildren(),de=0;de<ne.length;de++){var be=ne[de];be.cfg.name=["element","label"],be.cfg.element=Ot}}})},h.prototype.canDoGroupAnimation=function(s){return!s&&this.animateOption&&(Object(o.s)(this.animateOption,"appear")===void 0||Object(o.s)(this.animateOption,"appear")&&Object(o.s)(this.animateOption,["appear","animation"])===void 0)},h}(rt),Ji=Bu,ws=V.a.transform;function Ll(g,h,s){var c=ws(g.getMatrix(),[["t",h,s]]);g.setMatrix(c)}function Bf(g,h){var s=g.attr(),c=s.x,y=s.y,L=ws(g.getMatrix(),[["t",-c,-y],["r",h],["t",c,y]]);return L}function Nu(g,h){var s=Bf(g,h);g.setMatrix(s)}function Cd(){return[1,0,0,0,1,0,0,0,1]}function Ec(g,h){var s=g.getBBox(),c=(s.minX+s.maxX)/2,y=(s.minY+s.maxY)/2;g.applyToMatrix([c,y,1]);var L=ws(g.getMatrix(),[["t",-c,-y],["s",h,h],["t",c,y]]);g.setMatrix(L)}function Ys(g){return g.find(function(h){return h.get("type")==="text"})}function Sc(g,h,s){s===void 0&&(s=[0,0,0,0]);var c=g.getChildren()[0];if(c){var y=c.clone();(h==null?void 0:h.rotate)&&Nu(y,-h.rotate);var L=y.getCanvasBBox(),H=L.x,ct=L.y,Ot=L.width,zt=L.height;y.destroy();var Zt=s;return Object(o.I)(Zt)?Zt=[2,2,2,2]:Object(o.K)(Zt)&&(Zt=new Array(4).fill(Zt)),{x:H-Zt[3],y:ct-Zt[0],width:Ot+Zt[1]+Zt[3],height:zt+Zt[0]+Zt[2],rotation:(h==null?void 0:h.rotate)||0}}}function Zs(g,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(g.x+g.width+s,h.x+h.width+s)-Math.max(g.x-s,h.x-s)),y=Math.max(0,Math.min(g.y+g.height+s,h.y+h.height+s)-Math.max(g.y-s,h.y-s));return c*y}function eo(g,h){var s=g.getBBox();return Object(o.kb)(h,function(c){var y=c.getBBox();return Zs(s,y,2)>0})}function Cc(g,h,s){var c=s.data,y=s.origin,L=s.animateCfg,H=s.coordinate,ct=Object(o.s)(L,"update");g.set("data",c),g.set("origin",y),g.set("animateCfg",L),g.set("coordinate",H),g.set("visible",h.get("visible")),g.getChildren().forEach(function(Ot,zt){var Zt=h.getChildByIndex(zt);if(!Zt)g.removeChild(Ot),Ot.remove(!0);else{Ot.set("data",c),Ot.set("origin",y),Ot.set("animateCfg",L),Ot.set("coordinate",H);var $t=or(Ot,Zt);ct?Pi(Ot,ct,{toAttrs:$t,coordinate:H}):Ot.attr($t),Zt.isGroup()&&Cc(Ot,Zt,s)}}),Object(o.j)(h.getChildren(),function(Ot,zt){zt>=g.getCount()&&(Ot.destroyed||g.add(Ot))})}var Nf=function(){function g(h){this.shapesMap={},this.lastShapesMap={};var s=h.layout,c=h.container;this.layout=s,this.container=c}return g.prototype.render=function(h,s,c){var y=this;c===void 0&&(c=!1),this.shapesMap={};var L=this.container,H=this.createOffscreenGroup();if(h.length){for(var ct=0,Ot=h;ct<Ot.length;ct++){var zt=Ot[ct];zt&&this.renderLabel(zt,H)}this.doLayout(h,s),this.renderLabelLine(h),this.renderLabelBackground(h),this.adjustLabel(h)}var Zt=this.lastShapesMap,$t=this.shapesMap;Object(o.j)($t,function(te,ne){if(te.destroyed)delete $t[ne];else{if(Zt[ne]){var de=te.get("data"),be=te.get("origin"),He=te.get("coordinate"),er=te.get("animateCfg"),dr=Zt[ne];Cc(dr,$t[ne],{data:de,origin:be,animateCfg:er,coordinate:He}),y.shapesMap[ne]=dr}else{L.add(te);var yr=Object(o.s)(te.get("animateCfg"),c?"enter":"appear");yr&&Pi(te,yr,{toAttrs:Object(d.a)({},te.attr()),coordinate:te.get("coordinate")})}delete Zt[ne]}}),Object(o.j)(Zt,function(te){var ne=Object(o.s)(te.get("animateCfg"),"leave");ne?Pi(te,ne,{toAttrs:null,coordinate:te.get("coordinate")}):te.remove(!0)}),this.lastShapesMap=$t,H.destroy()},g.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},g.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},g.prototype.renderLabel=function(h,s){var c=h.id,y=h.elementId,L=h.data,H=h.mappingData,ct=h.coordinate,Ot=h.animate,zt=h.content,Zt={id:c,elementId:y,data:L,origin:Object(d.a)(Object(d.a)({},H),{data:H[A]}),coordinate:ct},$t=s.addGroup(Object(d.a)({name:"label",animateCfg:this.animate===!1||Ot===null||Ot===!1?!1:Object(o.h)({},this.animate,Ot)},Zt)),te;if(zt.isGroup&&zt.isGroup()||zt.isShape&&zt.isShape()){var ne=zt.getCanvasBBox(),de=ne.width,be=ne.height,He=Object(o.s)(h,"textAlign","left"),er=h.x,dr=h.y-be/2;He==="center"?er=er-de/2:(He==="right"||He==="end")&&(er=er-de),Ll(zt,er,dr),te=zt,$t.add(zt)}else{var yr=Object(o.s)(h,["style","fill"]);te=$t.addShape("text",Object(d.a)({attrs:Object(d.a)(Object(d.a)({x:h.x,y:h.y,textAlign:h.textAlign,textBaseline:Object(o.s)(h,"textBaseline","middle"),text:h.content},h.style),{fill:Object(o.J)(yr)?h.color:yr})},Zt))}h.rotate&&Nu(te,h.rotate),this.shapesMap[c]=$t},g.prototype.doLayout=function(h,s){var c=this;if(this.layout){var y=Object(o.B)(this.layout)?this.layout:[this.layout];Object(o.j)(y,function(L){var H=Rf(Object(o.s)(L,"type",""));if(H){var ct=[],Ot=[];Object(o.j)(c.shapesMap,function(zt,Zt){ct.push(zt),Ot.push(s[zt.get("elementId")])}),H(h,ct,Ot,c.region,L.cfg)}})}},g.prototype.renderLabelLine=function(h){var s=this;Object(o.j)(h,function(c){var y=Object(o.s)(c,"coordinate");if(!(!c||!y)){var L=y.getCenter(),H=y.getRadius();if(!!c.labelLine){var ct=Object(o.s)(c,"labelLine",{}),Ot=c.id,zt=ct.path;if(!zt){var Zt=Me(L.x,L.y,H,c.angle);zt=[["M",Zt.x,Zt.y],["L",c.x,c.y]]}var $t=s.shapesMap[Ot];$t.destroyed||$t.addShape("path",{capture:!1,attrs:Object(d.a)({path:zt,stroke:c.color?c.color:Object(o.s)(c,["style","fill"],"#000"),fill:null},ct.style),id:Ot,origin:c.mappingData,data:c.data,coordinate:c.coordinate})}}})},g.prototype.renderLabelBackground=function(h){var s=this;Object(o.j)(h,function(c){var y=Object(o.s)(c,"coordinate"),L=Object(o.s)(c,"background");if(!(!L||!y)){var H=c.id,ct=s.shapesMap[H];if(!ct.destroyed){var Ot=ct.getChildren()[0];if(Ot){var zt=Sc(ct,c,L.padding),Zt=zt.rotation,$t=Object(d.e)(zt,["rotation"]),te=ct.addShape("rect",{attrs:Object(d.a)(Object(d.a)({},$t),L.style||{}),id:H,origin:c.mappingData,data:c.data,coordinate:c.coordinate});if(te.setZIndex(-1),Zt){var ne=Ot.getMatrix();te.setMatrix(ne)}}}}})},g.prototype.createOffscreenGroup=function(){var h=this.container,s=h.getGroupBase(),c=new s({});return c},g.prototype.adjustLabel=function(h){var s=this;Object(o.j)(h,function(c){if(c){var y=c.id,L=s.shapesMap[y];if(!L.destroyed){var H=L.findAll(function(ct){return ct.get("type")!=="path"});Object(o.j)(H,function(ct){ct&&(c.offsetX&&ct.attr("x",ct.attr("x")+c.offsetX),c.offsetY&&ct.attr("y",ct.attr("y")+c.offsetY))})}}})},g}(),Bs=Nf;function Mc(g){var h=0;return Object(o.j)(g,function(s){h+=s}),h/g.length}var Tc=function(){function g(h){this.geometry=h}return g.prototype.getLabelItems=function(h){var s=this,c=[],y=this.getLabelCfgs(h);return Object(o.j)(h,function(L,H){var ct=y[H];if(!ct||Object(o.I)(L.x)||Object(o.I)(L.y)){c.push(null);return}var Ot=Object(o.B)(ct.content)?ct.content:[ct.content];ct.content=Ot;var zt=Ot.length;Object(o.j)(Ot,function(Zt,$t){if(Object(o.I)(Zt)||Zt===""){c.push(null);return}var te=Object(d.a)(Object(d.a)({},ct),s.getLabelPoint(ct,L,$t));te.textAlign||(te.textAlign=s.getLabelAlign(te,$t,zt)),te.offset<=0&&(te.labelLine=null),c.push(te)})}),c},g.prototype.render=function(h,s){s===void 0&&(s=!1);var c=this.getLabelItems(h),y=this.getLabelsRenderer(),L=this.getGeometryShapes();y.render(c,L,s)},g.prototype.clear=function(){var h=this.labelsRenderer;h&&h.clear()},g.prototype.destroy=function(){var h=this.labelsRenderer;h&&h.destroy(),this.labelsRenderer=null},g.prototype.getCoordinate=function(){return this.geometry.coordinate},g.prototype.getDefaultLabelCfg=function(h,s){var c=this.geometry,y=c.type,L=c.theme;return y==="polygon"||y==="interval"&&s==="middle"||h<0&&!["line","point","path"].includes(y)?Object(o.s)(L,"innerLabels",{}):Object(o.s)(L,"labels",{})},g.prototype.getThemedLabelCfg=function(h){var s=this.geometry,c=this.getDefaultLabelCfg(),y=s.type,L=s.theme,H;return y==="polygon"||h.offset<0&&!["line","point","path"].includes(y)?H=Object(o.h)({},c,L.innerLabels,h):H=Object(o.h)({},c,L.labels,h),H},g.prototype.setLabelPosition=function(h,s,c,y){},g.prototype.getLabelOffset=function(h){var s=this.getCoordinate(),c=this.getOffsetVector(h);return s.isTransposed?c[0]:c[1]},g.prototype.getLabelOffsetPoint=function(h,s,c){var y=h.offset,L=this.getCoordinate(),H=L.isTransposed,ct=H?"x":"y",Ot=H?1:-1,zt={x:0,y:0};return s>0||c===1?zt[ct]=y*Ot:zt[ct]=y*Ot*-1,zt},g.prototype.getLabelPoint=function(h,s,c){var y=this.getCoordinate(),L=h.content.length;function H(He,er,dr){dr===void 0&&(dr=!1);var yr=He;return Object(o.B)(yr)&&(h.content.length===1?dr?yr=Mc(yr):yr.length<=2?yr=yr[He.length-1]:yr=Mc(yr):yr=yr[er]),yr}var ct={content:h.content[c],x:0,y:0,start:{x:0,y:0},color:"#fff"},Ot=Object(o.B)(s.shape)?s.shape[0]:s.shape,zt=Ot==="funnel"||Ot==="pyramid";if(this.geometry.type==="polygon"){var Zt=gr(s.x,s.y);ct.x=Zt[0],ct.y=Zt[1]}else this.geometry.type==="interval"&&!zt?(ct.x=H(s.x,c,!0),ct.y=H(s.y,c)):(ct.x=H(s.x,c),ct.y=H(s.y,c));if(zt){var $t=Object(o.s)(s,"nextPoints"),te=Object(o.s)(s,"points");if($t){var ne=y.convert(te[1]),de=y.convert($t[1]);ct.x=(ne.x+de.x)/2,ct.y=(ne.y+de.y)/2}else if(Ot==="pyramid"){var ne=y.convert(te[1]),de=y.convert(te[2]);ct.x=(ne.x+de.x)/2,ct.y=(ne.y+de.y)/2}}h.position&&this.setLabelPosition(ct,s,c,h.position);var be=this.getLabelOffsetPoint(h,c,L);return ct.start={x:ct.x,y:ct.y},ct.x+=be.x,ct.y+=be.y,ct.color=s.color,ct},g.prototype.getLabelAlign=function(h,s,c){var y="center",L=this.getCoordinate();if(L.isTransposed){var H=h.offset;H<0?y="right":H===0?y="center":y="left",c>1&&s===0&&(y==="right"?y="left":y==="left"&&(y="right"))}return y},g.prototype.getLabelId=function(h){var s=this.geometry,c=s.type,y=s.getXScale(),L=s.getYScale(),H=h[A],ct=s.getElementId(h);return c==="line"||c==="area"?ct+=" "+H[y.field]:c==="path"&&(ct+=" "+H[y.field]+"-"+H[L.field]),ct},g.prototype.getLabelsRenderer=function(){var h=this.geometry,s=h.labelsContainer,c=h.labelOption,y=h.canvasRegion,L=h.animateOption,H=this.geometry.coordinate,ct=this.labelsRenderer;return ct||(ct=new Bs({container:s,layout:Object(o.s)(c,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=ct),ct.region=y,ct.animate=L?Pl("label",H):!1,ct},g.prototype.getLabelCfgs=function(h){var s=this,c=this.geometry,y=c.labelOption,L=c.scales,H=c.coordinate,ct=y,Ot=ct.fields,zt=ct.callback,Zt=ct.cfg,$t=Ot.map(function(ne){return L[ne]}),te=[];return Object(o.j)(h,function(ne,de){var be=ne[A],He=s.getLabelText(be,$t),er;if(zt){var dr=Ot.map(function(va){return be[va]});if(er=zt.apply(void 0,dr),Object(o.I)(er)){te.push(null);return}}var yr=Object(d.a)(Object(d.a)({id:s.getLabelId(ne),elementId:s.geometry.getElementId(ne),data:be,mappingData:ne,coordinate:H},Zt),er);Object(o.H)(yr.position)&&(yr.position=yr.position(be,ne,de));var nn=s.getLabelOffset(yr.offset||0),un=s.getDefaultLabelCfg(nn,yr.position);yr=Object(o.h)({},un,yr),yr.offset=s.getLabelOffset(yr.offset||0);var dn=yr.content;Object(o.H)(dn)?yr.content=dn(be,ne,de):Object(o.Q)(dn)&&(yr.content=He[0]),te.push(yr)}),te},g.prototype.getLabelText=function(h,s){var c=[];return Object(o.j)(s,function(y){var L=h[y.field];Object(o.B)(L)?L=L.map(function(H){return y.getText(H)}):L=y.getText(L),Object(o.I)(L)||L===""?c.push(null):c.push(L)}),c},g.prototype.getOffsetVector=function(h){h===void 0&&(h=0);var s=this.getCoordinate(),c=0;return Object(o.K)(h)&&(c=h),s.isTransposed?s.applyMatrix(c,0):s.applyMatrix(0,c)},g.prototype.getGeometryShapes=function(){var h=this.geometry,s={};return Object(o.j)(h.elementsMap,function(c,y){s[y]=c.shape}),Object(o.j)(h.getOffscreenGroup().getChildren(),function(c){var y=h.getElementId(c.get("origin").mappingData);s[y]=c}),s},g}(),jl=Tc,Cv=i("Az8f");function Eh(g,h,s){if(!g)return s;var c;if(g.callback&&g.callback.length>1){var y=Array(g.callback.length-1).fill("");c=g.mapping.apply(g,Object(d.g)([h],y)).join("")}else c=g.mapping(h).join("");return c||s}var Rl={hexagon:function(h,s,c){var y=c/2*Math.sqrt(3);return[["M",h,s-c],["L",h+y,s-c/2],["L",h+y,s+c/2],["L",h,s+c],["L",h-y,s+c/2],["L",h-y,s-c/2],["Z"]]},bowtie:function(h,s,c){var y=c-1.5;return[["M",h-c,s-y],["L",h+c,s+y],["L",h+c,s-y],["L",h-c,s+y],["Z"]]},cross:function(h,s,c){return[["M",h-c,s-c],["L",h+c,s+c],["M",h+c,s-c],["L",h-c,s+c]]},tick:function(h,s,c){return[["M",h-c/2,s-c],["L",h+c/2,s-c],["M",h,s-c],["L",h,s+c],["M",h-c/2,s+c],["L",h+c/2,s+c]]},plus:function(h,s,c){return[["M",h-c,s],["L",h+c,s],["M",h,s-c],["L",h,s+c]]},hyphen:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},line:function(h,s,c){return[["M",h,s-c],["L",h,s+c]]}},Ac=["line","cross","tick","plus","hyphen"];function Ff(g,h){return Object(o.H)(h)?h(g):Object(o.h)({},g,h)}function Md(g,h){var s=g.symbol;if(Object(o.O)(s)&&Ac.indexOf(s)!==-1){var c=Object(o.s)(g,"style",{}),y=Object(o.s)(c,"lineWidth",1),L=c.stroke||c.fill||h;g.style=Object(o.h)({},g.style,{lineWidth:y,stroke:L,fill:null})}}function Gf(g){var h=g.symbol;Object(o.O)(h)&&Rl[h]&&(g.symbol=Rl[h])}function Ic(g){return g.startsWith(x.LEFT)||g.startsWith(x.RIGHT)?"vertical":"horizontal"}function Sh(g,h,s,c,y){var L=s.getScale(s.type);if(L.isCategory){var H=L.field,ct=h.getAttribute("color"),Ot=h.getAttribute("shape"),zt=g.getTheme().defaultColor,Zt=h.coordinate.isPolar;return L.getTicks().map(function($t){var te,ne=$t.text,de=$t.value,be=ne,He=L.invert(de),er=g.filterFieldData(H,[(te={},te[H]=He,te)]).length===0;Object(o.j)(g.views,function(un){var dn;un.filterFieldData(H,[(dn={},dn[H]=He,dn)]).length||(er=!0)});var dr=Eh(ct,He,zt),yr=Eh(Ot,He,"point"),nn=h.getShapeMarker(yr,{color:dr,isInPolar:Zt});return nn=Object(o.h)({},c,nn,Nr(Object(d.a)({},y),["style"])),Md(nn,dr),y&&y.style&&(nn.style=Ff(nn.style,y.style)),Gf(nn),{id:He,name:be,value:He,marker:nn,unchecked:er}})}return[]}function gl(g,h,s){return s.map(function(c){var y=Object(o.h)({},g,h,c.marker);return Gf(y),c.marker=y,c})}function Uf(g,h){var s=Object(o.s)(g,["components","legend"],{});return Object(o.h)({},Object(o.s)(s,["common"],{}),Object(o.h)({},Object(o.s)(s,[h],{})))}var pl="4.1.16",Fu={getLegendItems:Sh,translate:Ll,rotate:Nu,zoom:Ec,transform:ws,getAngle:nr,getSectorPath:Pe,polarToCartesian:Me,getDelegationObject:fi,getTooltipItems:ue},Xo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ha={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},fs=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Wf=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Dc=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],zf=function(h){h===void 0&&(h={});var s=h.backgroundColor,c=s===void 0?"#141414":s,y=h.subColor,L=y===void 0?"rgba(255,255,255,0.05)":y,H=h.paletteQualitative10,ct=H===void 0?fs:H,Ot=h.paletteQualitative20,zt=Ot===void 0?Wf:Ot,Zt=h.paletteSemanticRed,$t=Zt===void 0?"#F4664A":Zt,te=h.paletteSemanticGreen,ne=te===void 0?"#30BF78":te,de=h.paletteSemanticYellow,be=de===void 0?"#FAAD14":de,He=h.paletteSequence,er=He===void 0?Dc:He,dr=h.fontFamily,yr=dr===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:dr,nn=h.brandColor,un=nn===void 0?ct[0]:nn;return{backgroundColor:c,brandColor:un,subColor:L,paletteQualitative10:ct,paletteQualitative20:zt,paletteSemanticRed:$t,paletteSemanticGreen:ne,paletteSemanticYellow:be,paletteSequence:er,fontFamily:yr,axisLineBorderColor:Ha[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ha[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Ha[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ha[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ha[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ha[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ha[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:fs[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ha[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ha[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ha[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Ha[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ha[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ha[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Xo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Xo[25],annotationArcBorderColor:Ha[15],annotationArcBorder:1,annotationLineBorderColor:Ha[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ha[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ha[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ha[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ha[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ha[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Xo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ha[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Xo[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ha[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:fs[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Xo[100],pointBorderOpacity:1,pointActiveBorderColor:Ha[100],pointSelectedBorder:2,pointSelectedBorderColor:Ha[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:fs[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Xo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ha[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ha[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:fs[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:fs[0],areaFillOpacity:.25,areaActiveFillColor:fs[0],areaActiveFillOpacity:.5,areaSelectedFillColor:fs[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:fs[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ha[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ha[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:fs[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ha[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ha[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:fs[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Xo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ha[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ha[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Gu=zf(),Pc=i("ZVen"),Lc=i("l/Sb");function Ho(g){return g?!1:g==null||isNaN(g)}function kf(g){if(Object(o.B)(g))return Ho(g[1].y);var h=g.y;return Object(o.B)(h)?Ho(h[0]):Ho(h)}function Ns(g,h,s){if(h===void 0&&(h=!1),s===void 0&&(s=!0),!g.length||g.length===1&&!s)return[];if(h){for(var c=[],y=0,L=g.length;y<L;y++){var H=g[y];kf(H)||c.push(H)}return[c]}for(var ct=[],Ot=[],y=0,L=g.length;y<L;y++){var H=g[y];kf(H)?Ot.length&&(Ot.length===1&&!s||ct.push(Ot),Ot=[]):Ot.push(H)}return Ot.length&&ct.push(Ot),ct}function pi(g,h,s,c){c===void 0&&(c="");var y=g.style,L=y===void 0?{}:y,H=g.defaultStyle,ct=g.color,Ot=g.size,zt=Object(d.a)(Object(d.a)({},H),L);return ct&&(h&&(L.stroke||(zt.stroke=ct)),s&&(L.fill||(zt.fill=ct))),c&&Object(o.I)(L[c])&&!Object(o.I)(Ot)&&(zt[c]=Ot),zt}function Uu(g){return Object(o.h)({},{fill:"#CCD6EC",fillOpacity:.3},Object(o.s)(g,["background","style"]))}function xs(g){var h=g.x,s=Object(o.B)(g.y)?g.y:[g.y];return s.map(function(c,y){return{x:Object(o.B)(h)?h[y]:h,y:c}})}var Wu={line:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},dot:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},dash:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},smooth:function(h,s,c){return[["M",h-c,s],["A",c/2,c/2,0,1,1,h,s],["A",c/2,c/2,0,1,0,h+c,s]]},hv:function(h,s,c){return[["M",h-c-1,s-2.5],["L",h,s-2.5],["L",h,s+2.5],["L",h+c+1,s+2.5]]},vh:function(h,s,c){return[["M",h-c-1,s+2.5],["L",h,s+2.5],["L",h,s-2.5],["L",h+c+1,s-2.5]]},hvh:function(h,s,c){return[["M",h-(c+1),s+2.5],["L",h-c/2,s+2.5],["L",h-c/2,s-2.5],["L",h+c/2,s-2.5],["L",h+c/2,s+2.5],["L",h+c+1,s+2.5]]},vhv:function(h,s){return[["M",h-5,s+2.5],["L",h-5,s],["L",h,s],["L",h,s-3],["L",h,s+3],["L",h+6.5,s+3]]}};function lu(g,h){var s=g.color;return{symbol:Wu[h],style:{lineWidth:2,r:6,stroke:s}}}function Vf(g,h,s){for(var c=g.isStack,y=g.connectNulls,L=g.isInCircle,H=g.showSinglePoint,ct=pi(g,!0,!1,"lineWidth"),Ot=Ns(g.points,y,H),zt=[],Zt=0,$t=Ot.length;Zt<$t;Zt++){var te=Ot[Zt];zt=zt.concat(Ch(te,L,c,h,s,ct))}return ct.path=zt,ct}function wl(g,h,s,c,y){if(g.length===1)return[["M",g[0].x,g[0].y-y.lineWidth/2],["L",g[0].x,g[0].y],["L",g[0].x,g[0].y+y.lineWidth/2]];var L;return s?(h&&g.length&&g.push({x:g[0].x,y:g[0].y}),L=Br(g,!1,c)):(L=ir(g,!1),h&&L.push(["Z"])),L}function Xf(g,h,s,c,y,L){var H=[],ct=[];Object(o.j)(g,function(Zt){var $t=xs(Zt);H.push($t[1]),ct.push($t[0])});var Ot=wl(H,h,c,y,L),zt=wl(ct,h,c,y,L);return s?Ot:Ot.concat(zt)}function Ch(g,h,s,c,y,L){if(g.length){var H=g[0];return Object(o.B)(H.y)?Xf(g,h,s,c,y,L):wl(g,h,c,y,L)}return[]}var Td=Ks("line",{defaultShapeType:"line"});Object(o.j)(["line","dot","dash","smooth"],function(g){Oi("line",g,{draw:function(s,c){var y=g==="smooth",L;if(y){var H=this.coordinate,ct=H.start,Ot=H.end;L=[[ct.x,Ot.y],[Ot.x,ct.y]]}var zt=Vf(s,y,L),Zt=c.addShape({type:"path",attrs:zt,name:"line",capture:!y});return Zt},getMarker:function(s){return lu(s,g)}})});var Ad=Td,Id=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.type="path",c.shapeType="line";var y=s.connectNulls,L=y===void 0?!1:y,H=s.showSinglePoint,ct=H===void 0?!0:H;return c.connectNulls=L,c.showSinglePoint=ct,c}return h.prototype.createElements=function(s,c,y){y===void 0&&(y=!1);var L=this,H=L.lastElementsMap,ct=L.elementsMap,Ot=L.elements,zt=L.container,Zt=this.getElementId(s),$t=this.getShapeInfo(s),te=H[Zt];if(te){var de=te.getModel();(this.isCoordinateChanged||xc(de,$t))&&(te.animate=this.animateOption,te.update($t)),delete H[Zt]}else{var ne=this.getShapeFactory();te=new jf({shapeFactory:ne,container:zt,offscreenGroup:this.getOffscreenGroup()}),te.geometry=this,te.animate=this.animateOption,te.draw($t,y)}return Ot.push(te),ct[Zt]=te,Ot},h.prototype.getPointsAndData=function(s){for(var c=[],y=[],L=0,H=s.length;L<H;L++){var ct=s[L];c.push({x:ct.x,y:ct.y}),y.push(ct[A])}return{points:c,data:y}},h.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]),y=this.getPointsAndData(s),L=y.points,H=y.data;return c.mappingData=s,c.data=H,c.isStack=!!this.getAdjust("stack"),c.points=L,c.connectNulls=this.connectNulls,c.showSinglePoint=this.showSinglePoint,c},h}(Ji),La=Id;function Xn(g,h,s,c,y){var L=[];if(g.length){for(var H=[],ct=[],Ot=0,zt=g.length;Ot<zt;Ot++){var Zt=g[Ot];H.push(Zt[1]),ct.push(Zt[0])}ct=ct.reverse(),Object(o.j)([H,ct],function($t,te){var ne=[],de=c.parsePoints($t),be=de[0];H.length===1&&ct.length===1?ne=te===0?[["M",be.x-.5,be.y],["L",be.x+.5,be.y]]:[["L",be.x+.5,be.y],["L",be.x-.5,be.y]]:(h&&de.push({x:be.x,y:be.y}),s?ne=Br(de,!1,y):ne=ir(de,!1),te>0&&(ne[0][0]="L")),L=L.concat(ne)}),L.push(["Z"])}return L}function jc(g,h,s,c,y){for(var L=pi(g,h,!h,"lineWidth"),H=g.connectNulls,ct=g.isInCircle,Ot=g.points,zt=g.showSinglePoint,Zt=Ns(Ot,H,zt),$t=[],te=0,ne=Zt.length;te<ne;te++){var de=Zt[te];$t=$t.concat(Xn(de,ct,s,c,y))}return L.path=$t,L}function Es(g){var h=g.start,s=g.end;return[[h.x,s.y],[s.x,h.y]]}var Rc=Ks("area",{defaultShapeType:"area",getDefaultPoints:function(h){var s=h.x,c=h.y0,y=Object(o.B)(h.y)?h.y:[c,h.y];return y.map(function(L){return{x:s,y:L}})}});Oi("area","area",{draw:function(h,s){var c=jc(h,!1,!1,this),y=s.addShape({type:"path",attrs:c,name:"area"});return y},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){return H===void 0&&(H=5.5),[["M",y-H,L-4],["L",y+H,L-4],["L",y+H,L+4],["L",y-H,L+4],["Z"]]},style:{r:5,fill:s}}}});var Hf=Rc,lo=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.type="area",c.shapeType="area",c.generatePoints=!0,c.startOnZero=!0;var y=s.startOnZero,L=y===void 0?!0:y,H=s.sortable,ct=H===void 0?!1:H,Ot=s.showSinglePoint,zt=Ot===void 0?!1:Ot;return c.startOnZero=L,c.sortable=ct,c.showSinglePoint=zt,c}return h.prototype.getPointsAndData=function(s){for(var c=[],y=[],L=0,H=s.length;L<H;L++){var ct=s[L];c.push(ct.points),y.push(ct[A])}return{points:c,data:y}},h.prototype.getYMinValue=function(){if(this.startOnZero)return g.prototype.getYMinValue.call(this);var s=this.getYScale();return s.min},h}(La),uo=lo,uu=Ks("edge",{defaultShapeType:"line",getDefaultPoints:function(h){return xs(h)}});Oi("edge","line",{draw:function(h,s){var c=pi(h,!0,!1,"lineWidth"),y=ir(this.parsePoints(h.points),this.coordinate.isPolar);return s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:y})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var wc=uu,Bc=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.type="edge",s.shapeType="edge",s.generatePoints=!0,s}return h}(Ji),Mh=Bc,Dd=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.type="heatmap",s.paletteCache={},s}return h.prototype.createElements=function(s,c,y){y===void 0&&(y=!1);var L=this.prepareRange(s),H=this.prepareSize(),ct=Object(o.s)(this.styleOption,["style","shadowBlur"]);return Object(o.K)(ct)||(ct=H/2),this.prepareGreyScaleBlurredCircle(H,ct),this.drawWithRange(s,L,H,ct),null},h.prototype.clear=function(){g.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},h.prototype.prepareRange=function(s){var c=this.getAttribute("color"),y=c.getFields()[0],L=Infinity,H=-Infinity;return s.forEach(function(ct){var Ot=ct[A][y];Ot>H&&(H=Ot),Ot<L&&(L=Ot)}),L===H&&(L=H-1),[L,H]},h.prototype.prepareSize=function(){var s=this.getDefaultValue("size");return Object(o.K)(s)||(s=this.getDefaultSize()),s},h.prototype.prepareGreyScaleBlurredCircle=function(s,c){var y=this.getGrayScaleBlurredCanvas(),L=s+c,H=y.getContext("2d");y.width=y.height=L*2,H.clearRect(0,0,y.width,y.height),H.shadowOffsetX=H.shadowOffsetY=L*2,H.shadowBlur=c,H.shadowColor="black",H.beginPath(),H.arc(-L,-L,s,0,Math.PI*2,!0),H.closePath(),H.fill()},h.prototype.drawWithRange=function(s,c,y,L){var H=this.coordinate,ct=H.start,Ot=H.end,zt=this.coordinate.getWidth(),Zt=this.coordinate.getHeight(),$t=this.getAttribute("color"),te=$t.getFields()[0];this.clearShadowCanvasCtx();var ne=this.getShadowCanvasCtx();c&&(s=s.filter(function(na){return na[A][te]<=c[1]&&na[A][te]>=c[0]}));for(var de=this.scales[te],be=0,He=s;be<He.length;be++){var er=He[be],dr=this.getDrawCfg(er),yr=dr.x,nn=dr.y,un=de.scale(er[A][te]);this.drawGrayScaleBlurredCircle(yr-ct.x,nn-Ot.y,y+L,un,ne)}var dn=ne.getImageData(0,0,zt,Zt);this.clearShadowCanvasCtx(),this.colorize(dn),ne.putImageData(dn,0,0);var va=this.getImageShape();va.attr("x",ct.x),va.attr("y",Ot.y),va.attr("width",zt),va.attr("height",Zt),va.attr("img",ne.canvas),va.set("origin",this.getShapeInfo(s))},h.prototype.getDefaultSize=function(){var s=this.getAttribute("position"),c=this.coordinate;return Math.min(c.getWidth()/(s.scales[0].ticks.length*4),c.getHeight()/(s.scales[1].ticks.length*4))},h.prototype.clearShadowCanvasCtx=function(){var s=this.getShadowCanvasCtx();s.clearRect(0,0,s.canvas.width,s.canvas.height)},h.prototype.getShadowCanvasCtx=function(){var s=this.shadowCanvas;return s||(s=document.createElement("canvas"),this.shadowCanvas=s),s.width=this.coordinate.getWidth(),s.height=this.coordinate.getHeight(),s.getContext("2d")},h.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},h.prototype.drawGrayScaleBlurredCircle=function(s,c,y,L,H){var ct=this.getGrayScaleBlurredCanvas();H.globalAlpha=L,H.drawImage(ct,s-y,c-y)},h.prototype.colorize=function(s){for(var c=this.getAttribute("color"),y=s.data,L=this.paletteCache,H=3;H<y.length;H+=4){var ct=y[H];if(Object(o.K)(ct)){var Ot=L[ct]?L[ct]:vt.a.rgb2arr(c.gradient(ct/256));y[H-3]=Ot[0],y[H-2]=Ot[1],y[H-1]=Ot[2],y[H]=ct}}},h.prototype.getImageShape=function(){var s=this.imageShape;if(s)return s;var c=this.container;return s=c.addShape({type:"image",attrs:{}}),this.imageShape=s,s},h.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]);return Object(d.a)(Object(d.a)({},c),{mappingData:s,data:this.getData(s)})},h.prototype.getData=function(s){return s.map(function(c){return c[A]})},h}(Ji),qo=Dd;function Fs(g,h){h===void 0&&(h=!1);var s=g.x,c=g.y,y=g.y0,L=g.size,H,ct;Object(o.B)(c)?(H=c[0],ct=c[1]):(H=y,ct=c);var Ot,zt;Object(o.B)(s)?(Ot=s[0],zt=s[1]):(Ot=s-L/2,zt=s+L/2);var Zt=[{x:Ot,y:H},{x:Ot,y:ct}];return h?Zt.push({x:zt,y:(ct+H)/2}):Zt.push({x:zt,y:ct},{x:zt,y:H}),Zt}function zu(g,h){h===void 0&&(h=!0);var s=[],c=g[0];s.push(["M",c.x,c.y]);for(var y=1,L=g.length;y<L;y++)s.push(["L",g[y].x,g[y].y]);return h&&(s.push(["L",c.x,c.y]),s.push(["z"])),s}function cu(g,h){var s=0,c=0,y=0,L=0;return Object(o.B)(g)?g.length===1?s=c=y=L=g[0]:g.length===2?(s=y=g[0],c=L=g[1]):g.length===3?(s=g[0],c=L=g[1],y=g[2]):(s=g[0],c=g[1],y=g[2],L=g[3]):s=c=y=L=g,s+c>h&&(s=s?h/(1+c/s):0,c=h-s),y+L>h&&(y=y?h/(1+L/y):0,L=h-y),[s||0,c||0,y||0,L||0]}function Nc(g,h,s){var c=[];if(s.isRect){var y=s.isTransposed?{x:s.start.x,y:h[0].y}:{x:h[0].x,y:s.start.y},L=s.isTransposed?{x:s.end.x,y:h[2].y}:{x:h[3].x,y:s.end.y},H=Object(o.s)(g,["background","style","radius"]);if(H){var ct=s.isTransposed?Math.abs(h[0].y-h[2].y):h[2].x-h[1].x,Ot=s.isTransposed?s.getWidth():s.getHeight(),zt=cu(H,Math.min(ct,Ot)),Zt=zt[0],$t=zt[1],te=zt[2],ne=zt[3];c.push(["M",y.x,L.y+Zt]),Zt!==0&&c.push(["A",Zt,Zt,0,0,1,y.x+Zt,L.y]),c.push(["L",L.x-$t,L.y]),$t!==0&&c.push(["A",$t,$t,0,0,1,L.x,L.y+$t]),c.push(["L",L.x,y.y-te]),te!==0&&c.push(["A",te,te,0,0,1,L.x-te,y.y]),c.push(["L",y.x+ne,y.y]),ne!==0&&c.push(["A",ne,ne,0,0,1,y.x,y.y-ne])}else c.push(["M",y.x,y.y]),c.push(["L",L.x,y.y]),c.push(["L",L.x,L.y]),c.push(["L",y.x,L.y]),c.push(["L",y.x,y.y]);c.push(["z"])}if(s.isPolar){var de=s.getCenter(),be=nr(g,s),He=be.startAngle,er=be.endAngle;if(s.type!=="theta"&&!s.isTransposed)c=Pe(de.x,de.y,s.getRadius(),He,er);else{var dr=function(dn){return Math.pow(dn,2)},Zt=Math.sqrt(dr(de.x-h[0].x)+dr(de.y-h[0].y)),$t=Math.sqrt(dr(de.x-h[2].x)+dr(de.y-h[2].y));c=Pe(de.x,de.y,Zt,s.startAngle,s.endAngle,$t)}}return c}function Kf(g,h,s){var c=s.getWidth(),y=s.getHeight(),L=s.type==="rect",H=[],ct=(g[2].x-g[1].x)/2,Ot=s.isTransposed?ct*y/c:ct*c/y;return h==="round"?(L?(H.push(["M",g[0].x,g[0].y+Ot]),H.push(["L",g[1].x,g[1].y-Ot]),H.push(["A",ct,ct,0,0,1,g[2].x,g[2].y-Ot]),H.push(["L",g[3].x,g[3].y+Ot]),H.push(["A",ct,ct,0,0,1,g[0].x,g[0].y+Ot])):(H.push(["M",g[0].x,g[0].y]),H.push(["L",g[1].x,g[1].y]),H.push(["A",ct,ct,0,0,1,g[2].x,g[2].y]),H.push(["L",g[3].x,g[3].y]),H.push(["A",ct,ct,0,0,1,g[0].x,g[0].y])),H.push(["z"])):H=zu(g),H}function ku(g,h,s){var c=[];return Object(o.I)(h)?s?c.push(["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["L",g[2].x,g[2].y],["L",g[2].x,g[2].y],["Z"]):c.push(["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["L",g[2].x,g[2].y],["L",g[3].x,g[3].y],["Z"]):c.push(["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["L",h[1].x,h[1].y],["L",h[0].x,h[0].y],["Z"]),c}function Th(g,h,s){var c,y,L,H,ct=g[0],Ot=g[1],zt=g[2],Zt=g[3],$t=[0,0,0,0],te=$t[0],ne=$t[1],de=$t[2],be=$t[3];ct.y<Ot.y?(Ot=g[0],ct=g[1],Zt=g[2],zt=g[3],c=cu(s,Math.min(Zt.x-ct.x,ct.y-Ot.y)),be=c[0],de=c[1],ne=c[2],te=c[3]):(y=cu(s,Math.min(Zt.x-ct.x,ct.y-Ot.y)),te=y[0],ne=y[1],de=y[2],be=y[3]),h.isTransposed&&(ct=g[0],Zt=g[1],zt=g[2],Ot=g[3],g[0].x>g[1].x?(Zt=g[0],ct=g[1],Ot=g[2],zt=g[3],L=cu(s,Math.min(Zt.x-ct.x,ct.y-Ot.y)),te=L[0],be=L[1],de=L[2],ne=L[3]):(H=cu(s,Math.min(Zt.x-ct.x,ct.y-Ot.y)),ne=H[0],de=H[1],be=H[2],te=H[3]));var He=[];return He.push(["M",Ot.x,Ot.y+te]),te!==0&&He.push(["A",te,te,0,0,1,Ot.x+te,Ot.y]),He.push(["L",zt.x-ne,zt.y]),ne!==0&&He.push(["A",ne,ne,0,0,1,zt.x,zt.y+ne]),He.push(["L",Zt.x,Zt.y-de]),de!==0&&He.push(["A",de,de,0,0,1,Zt.x-de,Zt.y]),He.push(["L",ct.x+be,ct.y]),be!==0&&He.push(["A",be,be,0,0,1,ct.x,ct.y-be]),He.push(["L",Ot.x,Ot.y+te]),He.push(["z"]),He}var yl=Ks("interval",{defaultShapeType:"rect",getDefaultPoints:function(h){return Fs(h)}});Oi("interval","rect",{draw:function(h,s){var c=pi(h,!1,!0),y=s,L=h==null?void 0:h.background;if(L){y=s.addGroup();var H=Uu(h),ct=Nc(h,this.parsePoints(h.points),this.coordinate);y.addShape("path",{attrs:Object(d.a)(Object(d.a)({},H),{path:ct}),zIndex:-1,name:wu})}var Ot;c.radius&&this.coordinate.isRect?Ot=Th(this.parsePoints(h.points),this.coordinate,c.radius):Ot=this.parsePath(Kf(h.points,c.lineCap,this.coordinate));var zt=y.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:Ot}),name:"interval"});return L?y:zt},getMarker:function(h){var s=h.color,c=h.isInPolar;return c?{symbol:"circle",style:{r:4.5,fill:s}}:{symbol:"square",style:{r:4,fill:s}}}});var Pd=yl;function Ld(g,h){var s=g.length,c=g;Object(o.O)(c[0])&&(c=g.map(function(ct){return h.translate(ct)}));for(var y=c[1]-c[0],L=2;L<s;L++){var H=c[L]-c[L-1];y>H&&(y=H)}return y}function Ah(g,h){if(h){var s=Object(o.q)(g),c=Object(o.vb)(s,h);return c.length}return g.length}function Fc(g){var h=g.theme,s=g.coordinate,c=g.getXScale(),y=c.values,L=g.beforeMappingData,H=y.length,ct=Ye(g.coordinate),Ot=g.intervalPadding,zt=g.dodgePadding,Zt=g.maxColumnWidth||h.maxColumnWidth,$t=g.minColumnWidth||h.minColumnWidth,te=g.columnWidthRatio||h.columnWidthRatio,ne=g.multiplePieWidthRatio||h.multiplePieWidthRatio,de=g.roseWidthRatio||h.roseWidthRatio;if(c.isLinear&&y.length>1){y.sort();var be=Ld(y,c);H=(c.max-c.min)/be,y.length>H&&(H=y.length)}var He=c.range,er=1/H,dr=1;if(s.isPolar?s.isTransposed&&H>1?dr=ne:dr=de:(c.isLinear&&(er*=He[1]-He[0]),dr=te),!Object(o.I)(Ot)&&Ot>=0){var yr=Ot/ct;er=(1-(H-1)*yr)/H}else er*=dr;if(g.getAdjust("dodge")){var nn=g.getAdjust("dodge"),un=nn.dodgeBy,dn=Ah(L,un);if(!Object(o.I)(zt)&&zt>=0){var va=zt/ct;er=(er-va*(dn-1))/dn}else!Object(o.I)(Ot)&&Ot>=0&&(er*=dr),er=er/dn;er=er>=0?er:0}if(!Object(o.I)(Zt)&&Zt>=0){var na=Zt/ct;er>na&&(er=na)}if(!Object(o.I)($t)&&$t>=0){var $n=$t/ct;er<$n&&(er=$n)}return er}var _n=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.type="interval",c.shapeType="interval",c.generatePoints=!0;var y=s.background;return c.background=y,c}return h.prototype.createShapePointsCfg=function(s){var c=g.prototype.createShapePointsCfg.call(this,s),y,L=this.getAttribute("size");if(L){y=this.getAttributeValues(L,s)[0];var H=this.coordinate,ct=Ye(H);y=y/ct}else this.defaultSize||(this.defaultSize=Fc(this)),y=this.defaultSize;return c.size=y,c},h.prototype.adjustScale=function(){g.prototype.adjustScale.call(this);var s=this.getYScale();if(this.coordinate.type==="theta")s.change({nice:!1,min:0,max:Gi(s)});else{var c=this.scaleDefs,y=s.field,L=s.min,H=s.max,ct=s.type;ct!=="time"&&(L>0&&!Object(o.s)(c,[y,"min"])&&s.change({min:0}),H<=0&&!Object(o.s)(c,[y,"max"])&&s.change({max:0}))}},h.prototype.getDrawCfg=function(s){var c=g.prototype.getDrawCfg.call(this,s);return c.background=this.background,c},h}(Ji),Ih=_n,jd=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;c.type="line";var y=s.sortable,L=y===void 0?!1:y;return c.sortable=L,c}return h}(La),Yf=jd,Gc=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Rd=["cross","tick","plus","hyphen","line"];function Zf(g,h,s,c,y){var L=pi(h,y,!y,"r"),H=g.parsePoints(h.points),ct=H[0];if(h.isStack)ct=H[1];else if(H.length>1){for(var Ot=s.addGroup(),zt=0,Zt=H;zt<Zt.length;zt++){var $t=Zt[zt];Ot.addShape({type:"marker",attrs:Object(d.a)(Object(d.a)(Object(d.a)({},L),{symbol:Rl[c]||c}),$t)})}return Ot}return s.addShape({type:"marker",attrs:Object(d.a)(Object(d.a)(Object(d.a)({},L),{symbol:Rl[c]||c}),ct)})}var ml=Ks("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(h){return xs(h)}});Object(o.j)(Gc,function(g){Oi("point","hollow-"+g,{draw:function(s,c){return Zf(this,s,c,g,!0)},getMarker:function(s){var c=s.color;return{symbol:Rl[g]||g,style:{r:4.5,stroke:c,fill:null}}}})});var wd=ml,Uc=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.type="point",s.shapeType="point",s.generatePoints=!0,s}return h.prototype.getDrawCfg=function(s){var c=g.prototype.getDrawCfg.call(this,s);return Object(d.a)(Object(d.a)({},c),{isStack:!!this.getAdjust("stack")})},h}(Ji),Bd=Uc;function fu(g){for(var h=g[0],s=1,c=[["M",h.x,h.y]];s<g.length;){var y=g[s];(y.x!==g[s-1].x||y.y!==g[s-1].y)&&(c.push(["L",y.x,y.y]),y.x===h.x&&y.y===h.y&&s<g.length-1&&(h=g[s+1],c.push(["Z"]),c.push(["M",h.x,h.y]),s++)),s++}return Object(o.G)(Object(o.S)(c),h)||c.push(["L",h.x,h.y]),c.push(["Z"]),c}var $s=Ks("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(h){var s=[];return Object(o.j)(h.x,function(c,y){var L=h.y[y];s.push({x:c,y:L})}),s}});Oi("polygon","polygon",{draw:function(h,s){if(!Object(o.F)(h.points)){var c=pi(h,!0,!0),y=this.parsePath(fu(h.points));return s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:y}),name:"polygon"})}},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});var Nd=$s,hu=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.type="polygon",s.shapeType="polygon",s.generatePoints=!0,s}return h.prototype.createShapePointsCfg=function(s){var c=g.prototype.createShapePointsCfg.call(this,s),y=c.x,L=c.y,H;if(!(Object(o.B)(y)&&Object(o.B)(L))){var ct=this.getXScale(),Ot=this.getYScale(),zt=ct.values.length,Zt=Ot.values.length,$t=.5*1/zt,te=.5*1/Zt;ct.isCategory&&Ot.isCategory?(y=[y-$t,y-$t,y+$t,y+$t],L=[L-te,L+te,L+te,L-te]):Object(o.B)(y)?(H=y,y=[H[0],H[0],H[1],H[1]],L=[L-te/2,L+te/2,L+te/2,L-te/2]):Object(o.B)(L)&&(H=L,L=[H[0],H[1],H[1],H[0]],y=[y-$t/2,y-$t/2,y+$t/2,y+$t/2]),c.x=y,c.y=L}return c},h}(Ji),Dh=hu,Bl=Ks("schema",{defaultShapeType:""}),Ph=Bl,Wc=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.type="schema",s.shapeType="schema",s.generatePoints=!0,s}return h.prototype.createShapePointsCfg=function(s){var c=g.prototype.createShapePointsCfg.call(this,s),y,L=this.getAttribute("size");if(L){y=this.getAttributeValues(L,s)[0];var H=this.coordinate,ct=Ye(H);y=y/ct}else this.defaultSize||(this.defaultSize=Fc(this)),y=this.defaultSize;return c.size=y,c},h}(Ji),zc=Wc;Oi("area","line",{draw:function(h,s){var c=jc(h,!0,!1,this),y=s.addShape({type:"path",attrs:c,name:"area"});return y},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){return H===void 0&&(H=5.5),[["M",y-H,L-4],["L",y+H,L-4],["L",y+H,L+4],["L",y-H,L+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}}),Oi("area","smooth",{draw:function(h,s){var c=this.coordinate,y=jc(h,!1,!0,this,Es(c)),L=s.addShape({type:"path",attrs:y,name:"area"});return L},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){return H===void 0&&(H=5.5),[["M",y-H,L-4],["L",y+H,L-4],["L",y+H,L+4],["L",y-H,L+4],["Z"]]},style:{r:5,fill:s}}}}),Oi("area","smooth-line",{draw:function(h,s){var c=this.coordinate,y=jc(h,!0,!0,this,Es(c)),L=s.addShape({type:"path",attrs:y,name:"area"});return L},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){return H===void 0&&(H=5.5),[["M",y-H,L-4],["L",y+H,L-4],["L",y+H,L+4],["L",y-H,L+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}});function du(g,h){return["C",g.x*1/2+h.x*1/2,g.y,g.x*1/2+h.x*1/2,h.y,h.x,h.y]}function Nl(g,h){var s=[];s.push({x:h.x,y:h.y}),s.push(g);var c=["Q"];return Object(o.j)(s,function(y){c.push(y.x,y.y)}),c}function Vu(g,h,s){var c=Nl(h,s),y=[["M",g.x,g.y]];return y.push(c),y}function Lh(g,h){var s=Nl(g[1],h),c=Nl(g[3],h),y=[["M",g[0].x,g[0].y]];return y.push(c),y.push(["L",g[3].x,g[3].y]),y.push(["L",g[2].x,g[2].y]),y.push(s),y.push(["L",g[1].x,g[1].y]),y.push(["L",g[0].x,g[0].y]),y.push(["Z"]),y}Oi("edge","arc",{draw:function(h,s){var c=pi(h,!0,!1,"lineWidth"),y=h.points,L=y.length>2?"weight":"normal",H;if(h.isInCircle){var ct={x:0,y:1};return L==="normal"?H=Vu(y[0],y[1],ct):(c.fill=c.stroke,H=Lh(y,ct)),H=this.parsePath(H),s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:H})})}else{if(L==="normal")return y=this.parsePoints(y),H=Ge((y[1].x+y[0].x)/2,y[0].y,Math.abs(y[1].x-y[0].x)/2,Math.PI,Math.PI*2),s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:H})});var Ot=du(y[1],y[3]),zt=du(y[2],y[0]);return H=[["M",y[0].x,y[0].y],["L",y[1].x,y[1].y],Ot,["L",y[3].x,y[3].y],["L",y[2].x,y[2].y],zt,["Z"]],H=this.parsePath(H),c.fill=c.stroke,s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:H})})}},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});function kc(g,h){var s=du(g,h),c=[["M",g.x,g.y]];return c.push(s),c}Oi("edge","smooth",{draw:function(h,s){var c=pi(h,!0,!1,"lineWidth"),y=h.points,L=this.parsePath(kc(y[0],y[1]));return s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:L})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var bl=1/3;function ro(g,h){var s=[];s.push({x:g.x,y:g.y*(1-bl)+h.y*bl}),s.push({x:h.x,y:g.y*(1-bl)+h.y*bl}),s.push(h);var c=[["M",g.x,g.y]];return Object(o.j)(s,function(y){c.push(["L",y.x,y.y])}),c}Oi("edge","vhv",{draw:function(h,s){var c=pi(h,!0,!1,"lineWidth"),y=h.points,L=this.parsePath(ro(y[0],y[1]));return s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:L})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}}),Oi("interval","funnel",{getPoints:function(h){return h.size=h.size*2,Fs(h)},draw:function(h,s){var c=pi(h,!1,!0),y=this.parsePath(ku(h.points,h.nextPoints,!1)),L=s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:y}),name:"interval"});return L},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}}),Oi("interval","hollow-rect",{draw:function(h,s){var c=pi(h,!0,!1),y=s,L=h==null?void 0:h.background;if(L){y=s.addGroup();var H=Uu(h),ct=Nc(h,this.parsePoints(h.points),this.coordinate);y.addShape("path",{attrs:Object(d.a)(Object(d.a)({},H),{path:ct}),zIndex:-1,name:wu})}var Ot=this.parsePath(zu(h.points)),zt=y.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:Ot}),name:"interval"});return L?y:zt},getMarker:function(h){var s=h.color,c=h.isInPolar;return c?{symbol:"circle",style:{r:4.5,stroke:s,fill:null}}:{symbol:"square",style:{r:4,stroke:s,fill:null}}}});function Vc(g){var h=g.x,s=g.y,c=g.y0;return Object(o.B)(s)?s.map(function(y,L){return{x:Object(o.B)(h)?h[L]:h,y}}):[{x:h,y:c},{x:h,y:s}]}Oi("interval","line",{getPoints:function(h){return Vc(h)},draw:function(h,s){var c=pi(h,!0,!1,"lineWidth"),y=Nr(Object(d.a)({},c),["fill"]),L=this.parsePath(zu(h.points,!1)),H=s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},y),{path:L}),name:"interval"});return H},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){return[["M",y,L-H],["L",y,L+H]]},style:{r:5,stroke:s}}}}),Oi("interval","pyramid",{getPoints:function(h){return h.size=h.size*2,Fs(h,!0)},draw:function(h,s){var c=pi(h,!1,!0),y=this.parsePath(ku(h.points,h.nextPoints,!0)),L=s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:y}),name:"interval"});return L},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});function Xu(g){var h=g.x,s=g.y,c=g.y0,y=g.size,L,H;Object(o.B)(s)?(L=s[0],H=s[1]):(L=c,H=s);var ct=h+y/2,Ot=h-y/2;return[{x:h,y:L},{x:h,y:H},{x:Ot,y:L},{x:ct,y:L},{x:Ot,y:H},{x:ct,y:H}]}function jh(g){return[["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["M",g[2].x,g[2].y],["L",g[3].x,g[3].y],["M",g[4].x,g[4].y],["L",g[5].x,g[5].y]]}Oi("interval","tick",{getPoints:function(h){return Xu(h)},draw:function(h,s){var c=pi(h,!0,!1),y=this.parsePath(jh(h.points)),L=s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:y}),name:"interval"});return L},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){return[["M",y-H/2,L-H],["L",y+H/2,L-H],["M",y,L-H],["L",y,L+H],["M",y-H/2,L+H],["L",y+H/2,L+H]]},style:{r:5,stroke:s}}}});var Rh=function(h,s,c){var y=h.x,L=h.y,H=s.x,ct=s.y,Ot;switch(c){case"hv":Ot=[{x:H,y:L}];break;case"vh":Ot=[{x:y,y:ct}];break;case"hvh":var zt=(H+y)/2;Ot=[{x:zt,y:L},{x:zt,y:ct}];break;case"vhv":var Zt=(L+ct)/2;Ot=[{x:y,y:Zt},{x:H,y:Zt}];break;default:break}return Ot};function $f(g,h){var s=[];return Object(o.j)(g,function(c,y){var L=g[y+1];if(s.push(c),L){var H=Rh(c,L,h);s=s.concat(H)}}),s}function Hu(g){return g.map(function(h,s){return s===0?["M",h.x,h.y]:["L",h.x,h.y]})}function Ss(g,h){var s=Ns(g.points,g.connectNulls,g.showSinglePoint),c=[];return Object(o.j)(s,function(y){var L=$f(y,h);c=c.concat(Hu(L))}),Object(d.a)(Object(d.a)({},pi(g,!0,!1,"lineWidth")),{path:c})}Object(o.j)(["hv","vh","hvh","vhv"],function(g){Oi("line",g,{draw:function(s,c){var y=Ss(s,g),L=c.addShape({type:"path",attrs:y,name:"line"});return L},getMarker:function(s){return lu(s,g)}})}),Object(o.j)(Rd,function(g){Oi("point",g,{draw:function(s,c){return Zf(this,s,c,g,!0)},getMarker:function(s){var c=s.color;return{symbol:Rl[g],style:{r:4.5,stroke:c,fill:null}}}})}),Oi("point","image",{draw:function(h,s){var c=pi(h,!1,!1,"r").r,y=this.parsePoints(h.points),L=y[0];if(h.isStack)L=y[1];else if(y.length>1){for(var H=s.addGroup(),ct=0,Ot=y;ct<Ot.length;ct++){var zt=Ot[ct];H.addShape("image",{attrs:{x:zt.x-c/2,y:zt.y-c,width:c,height:c,img:h.shape[1]}})}return H}return s.addShape("image",{attrs:{x:L.x-c/2,y:L.y-c,width:c,height:c,img:h.shape[1]}})},getMarker:function(h){var s=h.color;return{symbol:"circle",style:{r:4.5,fill:s}}}}),Object(o.j)(Gc,function(g){Oi("point",g,{draw:function(s,c){return Zf(this,s,c,g,!1)},getMarker:function(s){var c=s.color;return{symbol:Rl[g]||g,style:{r:4.5,fill:c}}}})});function Qs(g){var h=Object(o.B)(g)?g:[g],s=h[0],c=h[h.length-1],y=h.length>1?h[1]:s,L=h.length>3?h[3]:c,H=h.length>2?h[2]:y;return{min:s,max:c,min1:y,max1:L,median:H}}function Qf(g,h,s){var c=s/2,y;if(Object(o.B)(h)){var L=Qs(h),H=L.min,ct=L.max,Ot=L.median,zt=L.min1,Zt=L.max1,$t=g-c,te=g+c;y=[[$t,ct],[te,ct],[g,ct],[g,Zt],[$t,zt],[$t,Zt],[te,Zt],[te,zt],[g,zt],[g,H],[$t,H],[te,H],[$t,Ot],[te,Ot]]}else{h=Object(o.I)(h)?.5:h;var ne=Qs(g),H=ne.min,ct=ne.max,Ot=ne.median,zt=ne.min1,Zt=ne.max1,de=h-c,be=h+c;y=[[H,de],[H,be],[H,h],[zt,h],[zt,de],[zt,be],[Zt,be],[Zt,de],[Zt,h],[ct,h],[ct,de],[ct,be],[Ot,de],[Ot,be]]}return y.map(function(He){return{x:He[0],y:He[1]}})}function wh(g){return[["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["M",g[2].x,g[2].y],["L",g[3].x,g[3].y],["M",g[4].x,g[4].y],["L",g[5].x,g[5].y],["L",g[6].x,g[6].y],["L",g[7].x,g[7].y],["L",g[4].x,g[4].y],["Z"],["M",g[8].x,g[8].y],["L",g[9].x,g[9].y],["M",g[10].x,g[10].y],["L",g[11].x,g[11].y],["M",g[12].x,g[12].y],["L",g[13].x,g[13].y]]}Oi("schema","box",{getPoints:function(h){var s=h.x,c=h.y,y=h.size;return Qf(s,c,y)},draw:function(h,s){var c=pi(h,!0,!1),y=this.parsePath(wh(h.points)),L=s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:y,name:"schema"})});return L},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){var ct=[L-6,L-3,L,L+3,L+6],Ot=Qf(y,ct,H);return[["M",Ot[0].x+1,Ot[0].y],["L",Ot[1].x-1,Ot[1].y],["M",Ot[2].x,Ot[2].y],["L",Ot[3].x,Ot[3].y],["M",Ot[4].x,Ot[4].y],["L",Ot[5].x,Ot[5].y],["L",Ot[6].x,Ot[6].y],["L",Ot[7].x,Ot[7].y],["L",Ot[4].x,Ot[4].y],["Z"],["M",Ot[8].x,Ot[8].y],["L",Ot[9].x,Ot[9].y],["M",Ot[10].x+1,Ot[10].y],["L",Ot[11].x-1,Ot[11].y],["M",Ot[12].x,Ot[12].y],["L",Ot[13].x,Ot[13].y]]},style:{r:6,lineWidth:1,stroke:s}}}});function Xc(g){var h=Object(o.B)(g)?g:[g],s=h.sort(function(c,y){return y-c});return mr(s,4,s[s.length-1])}function vu(g,h,s){var c=Xc(h);return[{x:g,y:c[0]},{x:g,y:c[1]},{x:g-s/2,y:c[2]},{x:g-s/2,y:c[1]},{x:g+s/2,y:c[1]},{x:g+s/2,y:c[2]},{x:g,y:c[2]},{x:g,y:c[3]}]}function Bh(g){return[["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["M",g[2].x,g[2].y],["L",g[3].x,g[3].y],["L",g[4].x,g[4].y],["L",g[5].x,g[5].y],["Z"],["M",g[6].x,g[6].y],["L",g[7].x,g[7].y]]}Oi("schema","candle",{getPoints:function(h){var s=h.x,c=h.y,y=h.size;return vu(s,c,y)},draw:function(h,s){var c=pi(h,!0,!0),y=this.parsePath(Bh(h.points)),L=s.addShape("path",{attrs:Object(d.a)(Object(d.a)({},c),{path:y,name:"schema"})});return L},getMarker:function(h){var s=h.color;return{symbol:function(y,L,H){var ct=[L+7.5,L+3,L-3,L-7.5],Ot=vu(y,ct,H);return[["M",Ot[0].x,Ot[0].y],["L",Ot[1].x,Ot[1].y],["M",Ot[2].x,Ot[2].y],["L",Ot[3].x,Ot[3].y],["L",Ot[4].x,Ot[4].y],["L",Ot[5].x,Ot[5].y],["Z"],["M",Ot[6].x,Ot[6].y],["L",Ot[7].x,Ot[7].y]]},style:{lineWidth:1,stroke:s,fill:s,r:6}}}});function Jf(g,h){var s=Math.abs(g[0].x-g[2].x),c=Math.abs(g[0].y-g[2].y),y=Math.min(s,c);h&&(y=Object(o.c)(h,0,Math.min(s,c))),y=y/2;var L=(g[0].x+g[2].x)/2,H=(g[0].y+g[2].y)/2;return{x:L-y,y:H-y,width:y*2,height:y*2}}Oi("polygon","square",{draw:function(h,s){if(!Object(o.F)(h.points)){var c=pi(h,!0,!0),y=this.parsePoints(h.points);return s.addShape("rect",{attrs:Object(d.a)(Object(d.a)({},c),Jf(y,h.size)),name:"polygon"})}},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});var Hc=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getLabelValueDir=function(s){var c="y",y=s.points;return y[0][c]<=y[2][c]?1:-1},h.prototype.getLabelOffsetPoint=function(s,c,y){var L,H=g.prototype.getLabelOffsetPoint.call(this,s,c,y),ct=this.getCoordinate().isTransposed,Ot=ct?"x":"y",zt=this.getLabelValueDir(s.mappingData);return Object(d.a)(Object(d.a)({},H),(L={},L[Ot]=H[Ot]*zt,L))},h.prototype.getThemedLabelCfg=function(s){var c=this.geometry,y=this.getDefaultLabelCfg(),L=c.theme;return Object(o.h)({},y,L.labels,s.position==="middle"?{offset:0}:{},s)},h.prototype.setLabelPosition=function(s,c,y,L){var H=this.getCoordinate(),ct=H.isTransposed,Ot=c.points,zt=H.convert(Ot[0]),Zt=H.convert(Ot[2]),$t=this.getLabelValueDir(c),te,ne,de,be,He=Object(o.B)(c.shape)?c.shape[0]:c.shape;if(He==="funnel"||He==="pyramid"){var er=Object(o.s)(c,"nextPoints"),dr=Object(o.s)(c,"points");if(er){var yr=H.convert(dr[0]),nn=H.convert(dr[1]),un=H.convert(er[0]),dn=H.convert(er[1]);ct?(te=Math.min(un.y,yr.y),de=Math.max(un.y,yr.y),ne=(nn.x+dn.x)/2,be=(yr.x+un.x)/2):(te=Math.min((nn.y+dn.y)/2,(yr.y+un.y)/2),de=Math.max((nn.y+dn.y)/2,(yr.y+un.y)/2),ne=dn.x,be=yr.x)}else te=Math.min(Zt.y,zt.y),de=Math.max(Zt.y,zt.y),ne=Zt.x,be=zt.x}else te=Math.min(Zt.y,zt.y),de=Math.max(Zt.y,zt.y),ne=Zt.x,be=zt.x;switch(L){case"right":s.x=ne,s.y=(te+de)/2,s.textAlign=Object(o.s)(s,"textAlign",$t>0?"left":"right");break;case"left":s.x=be,s.y=(te+de)/2,s.textAlign=Object(o.s)(s,"textAlign",$t>0?"left":"right");break;case"bottom":ct&&(s.x=(ne+be)/2),s.y=de,s.textAlign=Object(o.s)(s,"textAlign","center"),s.textBaseline=Object(o.s)(s,"textBaseline",$t>0?"bottom":"top");break;case"middle":ct&&(s.x=(ne+be)/2),s.y=(te+de)/2,s.textAlign=Object(o.s)(s,"textAlign","center"),s.textBaseline=Object(o.s)(s,"textBaseline","middle");break;case"top":ct&&(s.x=(ne+be)/2),s.y=te,s.textAlign=Object(o.s)(s,"textAlign","center"),s.textBaseline=Object(o.s)(s,"textBaseline",$t>0?"bottom":"top");break;default:break}},h}(jl),_f=Hc,Fl=Math.PI/2,Kc=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getLabelOffset=function(s){var c=this.getCoordinate(),y=0;if(Object(o.K)(s))y=s;else if(Object(o.O)(s)&&s.indexOf("%")!==-1){var L=c.getRadius();c.innerRadius>0&&(L=L*(1-c.innerRadius)),y=parseFloat(s)*.01*L}return y},h.prototype.getLabelItems=function(s){var c=g.prototype.getLabelItems.call(this,s),y=this.geometry.getYScale();return Object(o.U)(c,function(L){if(L&&y){var H=y.scale(Object(o.s)(L.data,y.field));return Object(d.a)(Object(d.a)({},L),{percent:H})}return L})},h.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),y;if(s.labelEmit)y=s.angle<=Math.PI/2&&s.angle>=-Math.PI/2?"left":"right";else if(!c.isTransposed)y="center";else{var L=c.getCenter(),H=s.offset;Math.abs(s.x-L.x)<1?y="center":s.angle>Math.PI||s.angle<=0?y=H>0?"left":"right":y=H>0?"right":"left"}return y},h.prototype.getLabelPoint=function(s,c,y){var L=1,H,ct=s.content[y];this.isToMiddle(c)?H=this.getMiddlePoint(c.points):(s.content.length===1&&y===0?y=1:y===0&&(L=-1),H=this.getArcPoint(c,y));var Ot=s.offset*L,zt=this.getPointAngle(H),Zt=s.labelEmit,$t=this.getCirclePoint(zt,Ot,H,Zt);return $t.r===0?$t.content="":($t.content=ct,$t.angle=zt,$t.color=c.color),$t.rotate=s.autoRotate?this.getLabelRotate(zt,Ot,Zt):s.rotate,$t.start={x:H.x,y:H.y},$t},h.prototype.getArcPoint=function(s,c){return c===void 0&&(c=0),!Object(o.B)(s.x)&&!Object(o.B)(s.y)?{x:s.x,y:s.y}:{x:Object(o.B)(s.x)?s.x[c]:s.x,y:Object(o.B)(s.y)?s.y[c]:s.y}},h.prototype.getPointAngle=function(s){return bn(this.getCoordinate(),s)},h.prototype.getCirclePoint=function(s,c,y,L){var H=this.getCoordinate(),ct=H.getCenter(),Ot=Jr(H,y);if(Ot===0)return Object(d.a)(Object(d.a)({},ct),{r:Ot});var zt=s;if(H.isTransposed&&Ot>c&&!L){var Zt=Math.asin(c/(2*Ot));zt=s+Zt*2}else Ot=Ot+c;return{x:ct.x+Ot*Math.cos(zt),y:ct.y+Ot*Math.sin(zt),r:Ot}},h.prototype.getLabelRotate=function(s,c,y){var L=s+Fl;return y&&(L-=Fl),L&&(L>Fl?L=L-Math.PI:L<-Fl&&(L=L+Math.PI)),L},h.prototype.getMiddlePoint=function(s){var c=this.getCoordinate(),y=s.length,L={x:0,y:0};return Object(o.j)(s,function(H){L.x+=H.x,L.y+=H.y}),L.x/=y,L.y/=y,L=c.convert(L),L},h.prototype.isToMiddle=function(s){return s.x.length>2},h}(jl),Yc=Kc,qf=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.defaultLayout="distribute",s}return h.prototype.getDefaultLabelCfg=function(s,c){var y=g.prototype.getDefaultLabelCfg.call(this,s,c);return Object(o.h)({},y,Object(o.s)(this.geometry.theme,"pieLabels",{}))},h.prototype.getLabelOffset=function(s){return g.prototype.getLabelOffset.call(this,s)||0},h.prototype.getLabelRotate=function(s,c,y){var L;return c<0&&(L=s,L>Math.PI/2&&(L=L-Math.PI),L<-Math.PI/2&&(L=L+Math.PI)),L},h.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),y=c.getCenter(),L;return s.angle<=Math.PI/2&&s.x>=y.x?L="left":L="right",s.offset<=0&&(L==="right"?L="left":L="right"),L},h.prototype.getArcPoint=function(s){return s},h.prototype.getPointAngle=function(s){var c=this.getCoordinate(),y={x:Object(o.B)(s.x)?s.x[0]:s.x,y:s.y[0]},L={x:Object(o.B)(s.x)?s.x[1]:s.x,y:s.y[1]},H,ct=bn(c,y);if(s.points&&s.points[0].y===s.points[1].y)H=ct;else{var Ot=bn(c,L);ct>=Ot&&(Ot=Ot+Math.PI*2),H=ct+(Ot-ct)/2}return H},h.prototype.getCirclePoint=function(s,c){var y=this.getCoordinate(),L=y.getCenter(),H=y.getRadius()+c;return Object(d.a)(Object(d.a)({},Me(L.x,L.y,H,s)),{angle:s,r:H})},h}(Yc),Zc=qf,Gs=4;function Ku(g,h,s,c,y,L){var H=!0,ct=c.start,Ot=c.end,zt=Math.min(ct.y,Ot.y),Zt=Math.abs(ct.y-Ot.y),$t,te=0,ne=Number.MIN_VALUE,de=h.map(function(un){return un.y>te&&(te=un.y),un.y<ne&&(ne=un.y),{size:s,targets:[un.y-zt]}});for(ne-=zt,te-zt>Zt&&(Zt=te-zt);H;)for(de.forEach(function(un){var dn=(Math.min.apply(ne,un.targets)+Math.max.apply(ne,un.targets))/2;un.pos=Math.min(Math.max(ne,dn-un.size/2),Zt-un.size)}),H=!1,$t=de.length;$t--;)if($t>0){var be=de[$t-1],He=de[$t];be.pos+be.size>He.pos&&(be.size+=He.size,be.targets=be.targets.concat(He.targets),be.pos+be.size>Zt&&(be.pos=Zt-be.size),de.splice($t,1),H=!0)}$t=0,de.forEach(function(un){var dn=zt+s/2;un.targets.forEach(function(){h[$t].y=un.pos+dn,dn+=s,$t++})});for(var er={},dr=0,yr=g;dr<yr.length;dr++){var nn=yr[dr];er[nn.get("id")]=nn}h.forEach(function(un){var dn=un.r*un.r,va=Math.pow(Math.abs(un.y-y.y),2);if(dn<va)un.x=y.x;else{var na=Math.sqrt(dn-va);L?un.x=y.x+na:un.x=y.x-na}var $n=er[un.id];$n.attr("x",un.x),$n.attr("y",un.y);var Ia=Object(o.m)($n.getChildren(),function(ai){return ai.get("type")==="text"});Ia&&(Ia.attr("y",un.y),Ia.attr("x",un.x))})}function Yu(g,h,s,c){if(!(!g.length||!h.length)){var y=g[0]?g[0].offset:0,L=h[0].get("coordinate"),H=L.getRadius(),ct=L.getCenter();if(y>0){var Ot=14,zt=H+y,Zt=zt*2+Ot*2,$t={start:L.start,end:L.end},te=[[],[]];g.forEach(function(ne){!ne||(ne.textAlign==="right"?te[0].push(ne):te[1].push(ne))}),te.forEach(function(ne,de){var be=Zt/Ot;ne.length>be&&(ne.sort(function(He,er){return er["..percent"]-He["..percent"]}),ne.splice(be,ne.length-be)),ne.sort(function(He,er){return He.y-er.y}),Ku(h,ne,Ot,$t,ct,de)})}Object(o.j)(g,function(ne){if(ne&&ne.labelLine){var de=ne.offset,be=ne.angle,He=Me(ct.x,ct.y,H,be),er=Me(ct.x,ct.y,H+de/2,be),dr=ne.x+Object(o.s)(ne,"offsetX",0),yr=ne.y+Object(o.s)(ne,"offsetY",0),nn={x:dr-Math.cos(be)*Gs,y:yr-Math.sin(be)*Gs};Object(o.M)(ne.labelLine)||(ne.labelLine={}),ne.labelLine.path=["M "+He.x,He.y+" Q"+er.x,er.y+" "+nn.x,nn.y].join(",")}})}}function Ko(g,h,s){var c=g.filter(function(de){return!de.invisible});c.sort(function(de,be){return de.y-be.y});var y=!0,L=s.minY,H=s.maxY,ct=Math.abs(L-H),Ot,zt=0,Zt=Number.MIN_VALUE,$t=c.map(function(de){return de.y>zt&&(zt=de.y),de.y<Zt&&(Zt=de.y),{content:de.content,size:h,targets:[de.y-L],pos:null}});for(Zt-=L,zt-L>ct&&(ct=zt-L);y;)for($t.forEach(function(de){var be=(Math.min.apply(Zt,de.targets)+Math.max.apply(Zt,de.targets))/2;de.pos=Math.min(Math.max(Zt,be-de.size/2),ct-de.size),de.pos=Math.max(0,de.pos)}),y=!1,Ot=$t.length;Ot--;)if(Ot>0){var te=$t[Ot-1],ne=$t[Ot];te.pos+te.size>ne.pos&&(te.size+=ne.size,te.targets=te.targets.concat(ne.targets),te.pos+te.size>ct&&(te.pos=ct-te.size),$t.splice(Ot,1),y=!0)}Ot=0,$t.forEach(function(de){var be=L+h/2;de.targets.forEach(function(){c[Ot].y=de.pos+be,be+=h,Ot++})})}var gu=4;function Ol(g,h){var s=h.getCenter(),c=h.getRadius();if(g&&g.labelLine){var y=g.angle,L=g.offset,H=Me(s.x,s.y,c,y),ct=g.x+Object(o.s)(g,"offsetX",0)*(Math.cos(y)>0?1:-1),Ot=g.y+Object(o.s)(g,"offsetY",0)*(Math.sin(y)>0?1:-1),zt={x:ct-Math.cos(y)*gu,y:Ot-Math.sin(y)*gu},Zt=g.labelLine.smooth,$t=[],te=zt.x-s.x,ne=zt.y-s.y,de=Math.atan(ne/te);if(te<0&&(de+=Math.PI),Zt===!1){Object(o.M)(g.labelLine)||(g.labelLine={});var be=0;(y<0&&y>-Math.PI/2||y>Math.PI*1.5)&&zt.y>H.y&&(be=1),y>=0&&y<Math.PI/2&&zt.y>H.y&&(be=1),y>=Math.PI/2&&y<Math.PI&&H.y>zt.y&&(be=1),(y<-Math.PI/2||y>=Math.PI&&y<Math.PI*1.5)&&H.y>zt.y&&(be=1);var He=L/2>4?4:Math.max(L/2-1,0),er=Me(s.x,s.y,c+He,y),dr=Me(s.x,s.y,c+L/2,de),yr=0;$t.push("M "+H.x+" "+H.y),$t.push("L "+er.x+" "+er.y),$t.push("A "+s.x+" "+s.y+" 0 "+yr+" "+be+" "+dr.x+" "+dr.y),$t.push("L "+zt.x+" "+zt.y)}else{var er=Me(s.x,s.y,c+(L/2>4?4:Math.max(L/2-1,0)),y),nn=H.x<s.x?1:-1;$t.push("M "+zt.x+" "+zt.y);var un=(H.y-s.y)/(H.x-s.x),dn=(zt.y-s.y)/(zt.x-s.x);Math.abs(un-dn)>Math.pow(Math.E,-16)&&$t.push.apply($t,["C",zt.x+nn*4,zt.y,2*er.x-H.x,2*er.y-H.y,H.x,H.y]),$t.push("L "+H.x+" "+H.y)}g.labelLine.path=$t.join(" ")}}function ts(g,h,s,c){var y=Object(o.l)(g,function(dn){return!Object(o.I)(dn)}),L=h[0]&&h[0].get("coordinate");if(!!L){for(var H=L.getCenter(),ct=L.getRadius(),Ot={},zt=0,Zt=h;zt<Zt.length;zt++){var $t=Zt[zt];Ot[$t.get("id")]=$t}var te=Object(o.s)(y[0],"labelHeight",14),ne=Object(o.s)(y[0],"offset",0);if(!(ne<=0)){var de="left",be="right",He=Object(o.v)(y,function(dn){return dn.x<H.x?de:be}),er=L.start,dr=L.end,yr=Math.min((ct+ne+te)*2,L.getHeight()),nn=yr/2,un={minX:er.x,maxX:dr.x,minY:H.y-nn,maxY:H.y+nn};Object(o.j)(He,function(dn,va){var na=Math.floor(yr/te);dn.length>na&&(dn.sort(function($n,Ia){return Ia.percent-$n.percent}),Object(o.j)(dn,function($n,Ia){Ia+1>na&&(Ot[$n.id].set("visible",!1),$n.invisible=!0)})),Ko(dn,te,un)}),Object(o.j)(He,function(dn,va){Object(o.j)(dn,function(na){var $n=va===be,Ia=Ot[na.id],ai=Ia.getChildByIndex(0);if(ai){var _a=ct+ne,ji=na.y-H.y,Mo=Math.pow(_a,2),To=Math.pow(ji,2),Oo=Mo-To>0?Mo-To:0,uf=Math.sqrt(Oo),_l=Math.abs(Math.cos(na.angle)*_a);$n?na.x=H.x+Math.max(uf,_l):na.x=H.x-Math.max(uf,_l)}ai&&(ai.attr("y",na.y),ai.attr("x",na.x)),Ol(na,L)})})}}}var Gl=4,Ul=4,Yo=4;function Wl(g,h,s){var c=h.getCenter(),y=h.getRadius(),L={x:g.x-(s?Yo:-Yo),y:g.y},H=Me(c.x,c.y,y+Gl,g.angle),ct={x:L.x,y:L.y},Ot={x:H.x,y:H.y},zt=Me(c.x,c.y,y,g.angle),Zt="";if(L.y!==H.y){var $t=s?4:-4;ct.y=L.y,g.angle<0&&g.angle>=-Math.PI/2&&(ct.x=Math.max(H.x,L.x-$t),L.y<H.y?Ot.y=ct.y:(Ot.y=H.y,Ot.x=Math.max(Ot.x,ct.x-$t))),g.angle>0&&g.angle<Math.PI/2&&(ct.x=Math.max(H.x,L.x-$t),L.y>H.y?Ot.y=ct.y:(Ot.y=H.y,Ot.x=Math.max(Ot.x,ct.x-$t))),g.angle>Math.PI/2&&(ct.x=Math.min(H.x,L.x-$t),L.y>H.y?Ot.y=ct.y:(Ot.y=H.y,Ot.x=Math.min(Ot.x,ct.x-$t))),g.angle<-Math.PI/2&&(ct.x=Math.min(H.x,L.x-$t),L.y<H.y?Ot.y=ct.y:(Ot.y=H.y,Ot.x=Math.min(Ot.x,ct.x-$t)))}Zt=["M "+L.x+","+L.y,"L "+ct.x+","+ct.y,"L "+Ot.x+","+Ot.y,"L "+H.x+","+H.y,"L "+zt.x+","+zt.y].join(" "),g.labelLine=Object(o.h)({},g.labelLine,{path:Zt})}function $c(g,h,s,c){var y=h[0]&&h[0].get("coordinate");if(!!y){for(var L=y.getCenter(),H=y.getRadius(),ct={},Ot=0,zt=h;Ot<zt.length;Ot++){var Zt=zt[Ot];ct[Zt.get("id")]=Zt}var $t=Object(o.s)(g[0],"labelHeight",14),te=Math.max(Object(o.s)(g[0],"offset",0),Gl);Object(o.j)(g,function(dn){var va=Object(o.s)(ct,[dn.id]);if(!!va){var na=dn.x>L.x||dn.x===L.x&&dn.y>L.y,$n=Object(o.I)(dn.offsetX)?Ul:dn.offsetX,Ia=Me(L.x,L.y,H+Gl,dn.angle),ai=te+$n;dn.x=L.x+(na?1:-1)*(H+ai),dn.y=Ia.y}});var ne=y.start,de=y.end,be="left",He="right",er=Object(o.v)(g,function(dn){return dn.x<L.x?be:He}),dr=(H+te)*2+$t;Object(o.j)(er,function(dn){var va=dn.length*$t;va>dr&&(dr=Math.min(va,Math.abs(ne.y-de.y)))});var yr={minX:ne.x,maxX:de.x,minY:L.y-dr/2,maxY:L.y+dr/2};Object(o.j)(er,function(dn,va){var na=dr/$t;dn.length>na&&(dn.sort(function($n,Ia){return Ia.percent-$n.percent}),Object(o.j)(dn,function($n,Ia){Ia>na&&(ct[$n.id].set("visible",!1),$n.invisible=!0)})),Ko(dn,$t,yr)});var nn=yr.minY,un=yr.maxY;Object(o.j)(er,function(dn,va){var na=va===He;Object(o.j)(dn,function($n){var Ia=Object(o.s)(ct,$n&&[$n.id]);if(!!Ia){if($n.y<nn||$n.y>un){Ia.set("visible",!1);return}var ai=Ia.getChildByIndex(0),_a=ai.getCanvasBBox(),ji={x:na?_a.x:_a.maxX,y:_a.y+_a.height/2};Ll(ai,$n.x-ji.x,$n.y-ji.y),$n.labelLine&&Wl($n,y,na)}})})}}function zl(g,h,s,c){Object(o.j)(h,function(y){var L=c.minX,H=c.minY,ct=c.maxX,Ot=c.maxY,zt=y.getCanvasBBox(),Zt=zt.minX,$t=zt.minY,te=zt.maxX,ne=zt.maxY,de=zt.x,be=zt.y,He=zt.width,er=zt.height,dr=de,yr=be;(Zt<L||te<L)&&(dr=L),($t<H||ne<H)&&(yr=H),Zt>ct?dr=ct-He:te>ct&&(dr=dr-(te-ct)),$t>Ot?yr=Ot-er:ne>Ot&&(yr=yr-(ne-Ot)),(dr!==de||yr!==be)&&Ll(y,dr-de,yr-be)})}function Zu(g,h,s,c){Object(o.j)(h,function(y,L){var H=y.getCanvasBBox(),ct=s[L].getBBox();(H.minX<ct.minX||H.minY<ct.minY||H.maxX>ct.maxX||H.maxY>ct.maxY)&&y.remove(!0)})}var Qc=100,kl=function(){function g(h){h===void 0&&(h={}),this.bitmap={};var s=h.xGap,c=s===void 0?1:s,y=h.yGap,L=y===void 0?8:y;this.xGap=c,this.yGap=L}return g.prototype.hasGap=function(h){for(var s=!0,c=this.bitmap,y=Math.round(h.minX),L=Math.round(h.maxX),H=Math.round(h.minY),ct=Math.round(h.maxY),Ot=y;Ot<=L;Ot+=1){if(!c[Ot]){c[Ot]={};continue}if(Ot===y||Ot===L){for(var zt=H;zt<=ct;zt++)if(c[Ot][zt]){s=!1;break}}else if(c[Ot][H]||c[Ot][ct]){s=!1;break}}return s},g.prototype.fillGap=function(h){for(var s=this.bitmap,c=Math.round(h.minX),y=Math.round(h.maxX),L=Math.round(h.minY),H=Math.round(h.maxY),ct=c;ct<=y;ct+=1)s[ct]||(s[ct]={});for(var ct=c;ct<=y;ct+=this.xGap){for(var Ot=L;Ot<=H;Ot+=this.yGap)s[ct][Ot]=!0;s[ct][H]=!0}if(this.yGap!==1)for(var ct=L;ct<=H;ct+=1)s[c][ct]=!0,s[y][ct]=!0;if(this.xGap!==1)for(var ct=c;ct<=y;ct+=1)s[ct][L]=!0,s[ct][H]=!0},g.prototype.destroy=function(){this.bitmap={}},g}();function pu(g,h,s){s===void 0&&(s=Qc);var c=-1,y=g.attr(),L=y.x,H=y.y,ct=g.getCanvasBBox(),Ot=Math.sqrt(ct.width*ct.width+ct.height*ct.height),zt,Zt=-c,$t=0,te=0,ne=function(dr){var yr=dr*.1;return[yr*Math.cos(yr),yr*Math.sin(yr)]};if(h.hasGap(ct))return h.fillGap(ct),!0;for(var de=!1,be=0,He={};Math.min(Math.abs($t),Math.abs(te))<Ot&&be<s;)if(zt=ne(Zt+=c),$t=~~zt[0],te=~~zt[1],!(!$t&&!te||He[$t+"-"+te])&&(g.attr({x:L+$t,y:H+te}),$t+te<0&&g.attr("textAlign","right"),be++,h.hasGap(g.getCanvasBBox()))){h.fillGap(g.getCanvasBBox()),de=!0,He[$t+"-"+te]=!0;break}return de}function xl(g,h,s,c){var y=g.getCanvasBBox(),L=y.width,H=y.height,ct={x:h,y:s,textAlign:"center"};switch(c){case 0:ct.y-=H+1,ct.x+=1,ct.textAlign="left";break;case 1:ct.y-=H+1,ct.x-=1,ct.textAlign="right";break;case 2:ct.y+=H+1,ct.x-=1,ct.textAlign="right";break;case 3:ct.y+=H+1,ct.x+=1,ct.textAlign="left";break;case 5:ct.y-=H*2+2;break;case 6:ct.y+=H*2+2;break;case 7:ct.x+=L+1,ct.textAlign="left";break;case 8:ct.x-=L+1,ct.textAlign="right";break;default:break}return g.attr(ct),g.getCanvasBBox()}function th(g,h,s,c){var y=new kl;Object(o.j)(h,function(L){var H=L.find(function(ct){return ct.get("type")==="text"});pu(H,y)||L.remove(!0)}),y.destroy()}function Nh(g,h,s,c){var y=new kl;Object(o.j)(h,function(L){for(var H=L.find(function(ne){return ne.get("type")==="text"}),ct=H.attr(),Ot=ct.x,zt=ct.y,Zt=!1,$t=0;$t<=8;$t++){var te=xl(H,Ot,zt,$t);if(y.hasGap(te)){y.fillGap(te),Zt=!0;break}}Zt||L.remove(!0)}),y.destroy()}var eh=V.c.dot;function Jc(g){if(g.length>4)return[];var h=function(L,H){return[H.x-L.x,H.y-L.y]},s=h(g[0],g[1]),c=h(g[1],g[2]);return[s,c]}function Vl(g,h,s){h===void 0&&(h=0),s===void 0&&(s={x:0,y:0});var c=g.x,y=g.y;return{x:(c-s.x)*Math.cos(-h)+(y-s.y)*Math.sin(-h)+s.x,y:(s.x-c)*Math.sin(-h)+(y-s.y)*Math.cos(-h)+s.y}}function rh(g){var h=[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}],s=g.rotation;return s?[Vl(h[0],s,h[0]),Vl(h[1],s,h[0]),Vl(h[2],s,h[0]),Vl(h[3],s,h[0])]:h}function El(g,h){if(g.length>4)return{min:0,max:0};var s=[];return g.forEach(function(c){s.push(eh([c.x,c.y],h))}),{min:Math.min.apply(Math,s),max:Math.max.apply(Math,s)}}function Fh(g,h){return g.max>h.min&&g.min<h.max}function Fd(g,h,s){return s===void 0&&(s=0),!(h.x>g.x+g.width+s||h.x+h.width<g.x-s||h.y>g.y+g.height+s||h.y+h.height<g.y-s)}function Gd(g,h){if(!g.rotation&&!h.rotation)return Fd(g,h);for(var s=rh(g),c=rh(h),y=Object(d.g)(Jc(s),Jc(c)),L=0;L<y.length;L++){var H=y[L],ct=El(s,H),Ot=El(c,H);if(!Fh(ct,Ot))return!1}return!0}function Gh(g,h,s,c){for(var y=0;y<h.length;y++){var L=h[y];if(h[y].get("visible"))for(var H=y+1;H<h.length;H++){var ct=h[H];if(L&&ct&&L!==ct&&ct.get("visible")){var Ot=Sc(L,g[y],Object(o.s)(g[y],"background.padding")),zt=Sc(ct,g[H],Object(o.s)(g[H],"background.padding"));Gd(Ot,zt)&&h[H].set("visible",!1)}}}}var Uh={"#5B8FF9":!0},Wh=function(h){var s=vt.a.toRGB(h).toUpperCase();if(Uh[s])return Uh[s];var c=vt.a.rgb2arr(s),y=c[0],L=c[1],H=c[2],ct=(y*299+L*587+H*114)/1e3<128;return ct};function Ud(g,h,s){if(s.length!==0){var c=s[0].get("element"),y=c.geometry.theme,L=y.labels||{},H=L.fillColorLight,ct=L.fillColorDark;s.forEach(function(Ot,zt){var Zt=h[zt],$t=Zt.find(function(er){return er.get("type")==="text"}),te=vn.fromObject(Ot.getBBox()),ne=vn.fromObject($t.getCanvasBBox()),de=!te.contains(ne),be=Ot.attr("fill"),He=Wh(be);de?$t.attr(y.overflowLabels.style):He?H&&$t.attr("fill",H):ct&&$t.attr("fill",ct)})}}function Wd(g,h,s){var c=g.coordinate,y=Ys(h),L=vn.fromObject(y.getCanvasBBox()),H=vn.fromObject(s.getBBox());return c.isTransposed?H.height>=L.height:H.width>=L.width}function zd(g,h,s){var c=!!g.getAdjust("stack");return c||h.every(function(y,L){var H=s[L];return Wd(g,y,H)})}function kd(g,h,s){var c=g.coordinate,y=vn.fromObject(s.getBBox()),L=Ys(h);c.isTransposed?L.attr({x:y.minX+y.width/2,textAlign:"center"}):L.attr({y:y.minY+y.height/2,textBaseline:"middle"})}function Vd(g,h,s){var c;if(s.length!==0){var y=(c=s[0])===null||c===void 0?void 0:c.get("element"),L=y==null?void 0:y.geometry;if(!(!L||L.type!=="interval")){var H=zd(L,h,s);H&&s.forEach(function(ct,Ot){var zt=h[Ot];kd(L,zt,ct)})}}}function zh(g){var h=500,s=[],c=Math.max(Math.floor(g.length/h),1);return Object(o.j)(g,function(y,L){L%c==0?s.push(y):y.set("visible",!1)}),s}function Xd(g,h,s){var c;if(s.length!==0){var y=(c=s[0])===null||c===void 0?void 0:c.get("element"),L=y==null?void 0:y.geometry;if(!(!L||L.type!=="interval")){var H=zh(h),ct=L.getXYFields()[0],Ot=[],zt=[],Zt=Object(o.v)(H,function(be){return be.get("data")[ct]}),$t=Object(o.rb)(Object(o.U)(H,function(be){return be.get("data")[ct]})),te;H.forEach(function(be){be.set("visible",!0)});var ne=function(He){He&&(He.length&&zt.push(He.pop()),zt.push.apply(zt,He))};for(Object(o.jb)($t)>0&&(te=$t.shift(),ne(Zt[te])),Object(o.jb)($t)>0&&(te=$t.pop(),ne(Zt[te])),Object(o.j)($t.reverse(),function(be){ne(Zt[be])});zt.length>0;){var de=zt.shift();de.get("visible")&&(eo(de,Ot)?de.set("visible",!1):Ot.push(de))}}}}function kh(g,h){var s=g.getXYFields()[1],c=[],y=h.sort(function(L,H){return L.get("data")[s]-L.get("data")[s]});return y.length>0&&c.push(y.shift()),y.length>0&&c.push(y.pop()),c.push.apply(c,y),c}function yu(g,h,s){return g.some(function(c){return s(c,h)})}function _c(g,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(g.x+g.width+s,h.x+h.width+s)-Math.max(g.x-s,h.x-s)),y=Math.max(0,Math.min(g.y+g.height+s,h.y+h.height+s)-Math.max(g.y-s,h.y-s));return c*y}function $u(g,h){return yu(g,h,function(s,c){var y=Ys(s),L=Ys(c);return _c(y.getCanvasBBox(),L.getCanvasBBox(),2)>0})}function Qu(g,h,s,c,y){var L,H;if(s.length!==0){var ct=(L=s[0])===null||L===void 0?void 0:L.get("element"),Ot=ct==null?void 0:ct.geometry;if(!(!Ot||Ot.type!=="point")){var zt=Ot.getXYFields(),Zt=zt[0],$t=zt[1],te=Object(o.v)(h,function(be){return be.get("data")[Zt]}),ne=[],de=y&&y.offset||((H=g[0])===null||H===void 0?void 0:H.offset)||12;Object(o.U)(Object(o.R)(te).reverse(),function(be){for(var He=kh(Ot,te[be]);He.length;){var er=He.shift(),dr=Ys(er);if(yu(ne,er,function(un,dn){return un.get("data")[Zt]===dn.get("data")[Zt]&&un.get("data")[$t]===dn.get("data")[$t]})){dr.set("visible",!1);continue}var yr=$u(ne,er),nn=!1;if(yr&&(dr.attr("y",dr.attr("y")+2*de),nn=$u(ne,er)),nn){dr.set("visible",!1);continue}ne.push(er)}})}}}function mu(g,h){var s=g.getXYFields()[1],c=[],y=h.sort(function(L,H){return L.get("data")[s]-L.get("data")[s]});return y.length>0&&c.push(y.shift()),y.length>0&&c.push(y.pop()),c.push.apply(c,y),c}function Cs(g,h,s){return g.some(function(c){return s(c,h)})}function qc(g,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(g.x+g.width+s,h.x+h.width+s)-Math.max(g.x-s,h.x-s)),y=Math.max(0,Math.min(g.y+g.height+s,h.y+h.height+s)-Math.max(g.y-s,h.y-s));return c*y}function bu(g,h){return Cs(g,h,function(s,c){var y=Ys(s),L=Ys(c);return qc(y.getCanvasBBox(),L.getCanvasBBox(),2)>0})}function Ou(g,h,s,c,y){var L,H;if(s.length!==0){var ct=(L=s[0])===null||L===void 0?void 0:L.get("element"),Ot=ct==null?void 0:ct.geometry;if(!(!Ot||["path","line","area"].indexOf(Ot.type)<0)){var zt=Ot.getXYFields(),Zt=zt[0],$t=zt[1],te=Object(o.v)(h,function(be){return be.get("data")[Zt]}),ne=[],de=y&&y.offset||((H=g[0])===null||H===void 0?void 0:H.offset)||12;Object(o.U)(Object(o.R)(te).reverse(),function(be){for(var He=mu(Ot,te[be]);He.length;){var er=He.shift(),dr=Ys(er);if(Cs(ne,er,function(un,dn){return un.get("data")[Zt]===dn.get("data")[Zt]&&un.get("data")[$t]===dn.get("data")[$t]})){dr.set("visible",!1);continue}var yr=bu(ne,er),nn=!1;if(yr&&(dr.attr("y",dr.attr("y")+2*de),nn=bu(ne,er)),nn){dr.set("visible",!1);continue}ne.push(er)}})}}}var Xl;function tf(){return Xl||(Xl=document.createElement("canvas").getContext("2d")),Xl}var Us=Object(o.Y)(function(g,h){h===void 0&&(h={});var s=h.fontSize,c=h.fontFamily,y=h.fontWeight,L=h.fontStyle,H=h.fontVariant,ct=tf();return ct.font=[L,H,y,s+"px",c].join(" "),ct.measureText(Object(o.O)(g)?g:"").width},function(g,h){return h===void 0&&(h={}),Object(d.g)([g],Object(o.ub)(h)).join("")}),Hl=function(h,s,c){var y=16,L=Us("...",c),H;Object(o.O)(h)?H=h:H=Object(o.qb)(h);var ct=s,Ot=[],zt,Zt;if(Us(h,c)<=s)return h;for(;zt=H.substr(0,y),Zt=Us(zt,c),!(Zt+L>ct&&Zt>ct);)if(Ot.push(zt),ct-=Zt,H=H.substr(y),!H)return Ot.join("");for(;zt=H.substr(0,1),Zt=Us(zt,c),!(Zt+L>ct);)if(Ot.push(zt),ct-=Zt,H=H.substr(1),!H)return Ot.join("");return Ot.join("")+"..."};function Kl(g,h,s,c,y){if(!(h.length<=0)){var L=(y==null?void 0:y.direction)||["top","right","bottom","left"],H=(y==null?void 0:y.action)||"translate",ct=(y==null?void 0:y.margin)||0,Ot=h[0].get("coordinate");if(!!Ot){var zt=aa(Ot,ct),Zt=zt.minX,$t=zt.minY,te=zt.maxX,ne=zt.maxY;Object(o.j)(h,function(de){var be=de.getCanvasBBox(),He=be.minX,er=be.minY,dr=be.maxX,yr=be.maxY,nn=be.x,un=be.y,dn=be.width,va=be.height,na=nn,$n=un;if(L.indexOf("left")>=0&&(He<Zt||dr<Zt)&&(na=Zt),L.indexOf("top")>=0&&(er<$t||yr<$t)&&($n=$t),L.indexOf("right")>=0&&(He>te?na=te-dn:dr>te&&(na=na-(dr-te))),L.indexOf("bottom")>=0&&(er>ne?$n=ne-va:yr>ne&&($n=$n-(yr-ne))),na!==nn||$n!==un){var Ia=na-nn;if(H==="translate")Ll(de,Ia,$n-un);else if(H==="ellipsis"){var ai=de.findAll(function(_a){return _a.get("type")==="text"});ai.forEach(function(_a){var ji=Object(o.eb)(_a.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Mo=_a.getCanvasBBox(),To=Hl(_a.attr("text"),Mo.width-Math.abs(Ia),ji);_a.attr("text",To)})}else de.hide()}})}}}function Ju(g,h,s){var c={fillOpacity:Object(o.I)(g.attr("fillOpacity"))?1:g.attr("fillOpacity"),strokeOpacity:Object(o.I)(g.attr("strokeOpacity"))?1:g.attr("strokeOpacity"),opacity:Object(o.I)(g.attr("opacity"))?1:g.attr("opacity")};g.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),g.animate(c,h)}function _u(g,h,s){var c={fillOpacity:0,strokeOpacity:0,opacity:0},y=h.easing,L=h.duration,H=h.delay;g.animate(c,L,y,function(){g.remove(!0)},H)}function Sl(g,h,s){var c,y=h[0],L=h[1];return g.applyToMatrix([y,L,1]),s==="x"?(g.setMatrix(V.a.transform(g.getMatrix(),[["t",-y,-L],["s",.01,1],["t",y,L]])),c=V.a.transform(g.getMatrix(),[["t",-y,-L],["s",100,1],["t",y,L]])):s==="y"?(g.setMatrix(V.a.transform(g.getMatrix(),[["t",-y,-L],["s",1,.01],["t",y,L]])),c=V.a.transform(g.getMatrix(),[["t",-y,-L],["s",1,100],["t",y,L]])):s==="xy"&&(g.setMatrix(V.a.transform(g.getMatrix(),[["t",-y,-L],["s",.01,.01],["t",y,L]])),c=V.a.transform(g.getMatrix(),[["t",-y,-L],["s",100,100],["t",y,L]])),c}function ef(g,h,s,c,y){var L=s.start,H=s.end,ct=s.getWidth(),Ot=s.getHeight(),zt,Zt;y==="y"?(zt=L.x+ct/2,Zt=c.y<L.y?c.y:L.y):y==="x"?(zt=c.x>L.x?c.x:L.x,Zt=L.y+Ot/2):y==="xy"&&(s.isPolar?(zt=s.getCenter().x,Zt=s.getCenter().y):(zt=(L.x+H.x)/2,Zt=(L.y+H.y)/2));var $t=Sl(g,[zt,Zt],y);g.animate({matrix:$t},h)}function qu(g,h,s){var c=s.coordinate,y=s.minYPoint;ef(g,h,c,y,"x")}function Yl(g,h,s){var c=s.coordinate,y=s.minYPoint;ef(g,h,c,y,"y")}function Vh(g,h,s){var c=s.coordinate,y=s.minYPoint;ef(g,h,c,y,"xy")}function nh(g,h,s){var c=g.getTotalLength();g.attr("lineDash",[c]),g.animate(function(y){return{lineDashOffset:(1-y)*c}},h)}function Xh(g,h,s){var c=s.toAttrs,y=c.x,L=c.y;delete c.x,delete c.y,g.attr(c),g.animate({x:y,y:L},h)}function Hh(g,h,s){var c=g.getBBox(),y=g.get("origin").mappingData,L=y.points,H=L[0].y-L[1].y>0?c.maxX:c.minX,ct=(c.minY+c.maxY)/2;g.applyToMatrix([H,ct,1]);var Ot=V.a.transform(g.getMatrix(),[["t",-H,-ct],["s",.01,1],["t",H,ct]]);g.setMatrix(Ot),g.animate({matrix:V.a.transform(g.getMatrix(),[["t",-H,-ct],["s",100,1],["t",H,ct]])},h)}function Cl(g,h,s){var c=g.getBBox(),y=g.get("origin").mappingData,L=(c.minX+c.maxX)/2,H=y.points,ct=H[0].y-H[1].y<=0?c.maxY:c.minY;g.applyToMatrix([L,ct,1]);var Ot=V.a.transform(g.getMatrix(),[["t",-L,-ct],["s",1,.01],["t",L,ct]]);g.setMatrix(Ot),g.animate({matrix:V.a.transform(g.getMatrix(),[["t",-L,-ct],["s",1,100],["t",L,ct]])},h)}function Js(g,h){var s,c=Object(Pc.getArcParams)(g,h),y=c.startAngle,L=c.endAngle;return!Object(o.L)(y,-Math.PI*.5)&&y<-Math.PI*.5&&(y+=Math.PI*2),!Object(o.L)(L,-Math.PI*.5)&&L<-Math.PI*.5&&(L+=Math.PI*2),h[5]===0&&(s=[L,y],y=s[0],L=s[1]),Object(o.L)(y,Math.PI*1.5)&&(y=Math.PI*-.5),Object(o.L)(L,Math.PI*-.5)&&(L=Math.PI*1.5),{startAngle:y,endAngle:L}}function ah(g){var h;return g[0]==="M"||g[0]==="L"?h=[g[1],g[2]]:(g[0]==="a"||g[0]==="A"||g[0]==="C")&&(h=[g[g.length-2],g[g.length-1]]),h}function ih(g){var h,s,c,y=g.filter(function(yr){return yr[0]==="A"||yr[0]==="a"});if(y.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var L=y[0],H=y.length>1?y[1]:y[0],ct=g.indexOf(L),Ot=g.indexOf(H),zt=ah(g[ct-1]),Zt=ah(g[Ot-1]),$t=Js(zt,L),te=$t.startAngle,ne=$t.endAngle,de=Js(Zt,H),be=de.startAngle,He=de.endAngle;Object(o.L)(te,be)&&Object(o.L)(ne,He)?(s=te,c=ne):(s=Math.min(te,be),c=Math.max(ne,He));var er=L[1],dr=y[y.length-1][1];return er<dr?(h=[dr,er],er=h[0],dr=h[1]):er===dr&&(dr=0),{startAngle:s,endAngle:c,radius:er,innerRadius:dr}}function es(g,h,s){var c=s.toAttrs,y=s.coordinate,L=c.path||[],H=L.map(function(dr){return dr[0]});if(!(L.length<1)){var ct=ih(L),Ot=ct.startAngle,zt=ct.endAngle,Zt=ct.radius,$t=ct.innerRadius,te=ih(g.attr("path")),ne=te.startAngle,de=te.endAngle,be=y.getCenter(),He=Ot-ne,er=zt-de;if(He===0&&er===0){g.attr("path",L);return}g.animate(function(dr){var yr=ne+dr*He,nn=de+dr*er;return Object(d.a)(Object(d.a)({},c),{path:Object(o.G)(H,["M","A","A","Z"])?Ge(be.x,be.y,Zt,yr,nn):Pe(be.x,be.y,Zt,yr,nn,$t)})},Object(d.a)(Object(d.a)({},h),{callback:function(){g.attr("path",L)}}))}}function Hd(g,h,s){var c=ta(s.coordinate,20),y=c.type,L=c.startState,H=c.endState,ct=g.setClip({type:y,attrs:L});ct.animate(H,Object(d.a)(Object(d.a)({},h),{callback:function(){g&&!g.get("destroyed")&&g.set("clipShape",null),ct.remove(!0)}}))}function tc(g,h,s){if(g.isGroup())Object(o.j)(g.getChildren(),function(ct){tc(ct,h,s)});else{var c=g.getBBox(),y=(c.minX+c.maxX)/2,L=(c.minY+c.maxY)/2;if(g.applyToMatrix([y,L,1]),s==="zoomIn"){var H=V.a.transform(g.getMatrix(),[["t",-y,-L],["s",.01,.01],["t",y,L]]);g.setMatrix(H),g.animate({matrix:V.a.transform(g.getMatrix(),[["t",-y,-L],["s",100,100],["t",y,L]])},h)}else g.animate({matrix:V.a.transform(g.getMatrix(),[["t",-y,-L],["s",.01,.01],["t",y,L]])},Object(d.a)(Object(d.a)({},h),{callback:function(){g.remove(!0)}}))}}function Kd(g,h,s){tc(g,h,"zoomIn")}function Ms(g,h,s){tc(g,h,"zoomOut")}function rs(g){return[x.TOP,x.BOTTOM].includes(g)?{offsetX:0,offsetY:g===x.TOP?-8:8,style:{textAlign:"center",textBaseline:g===x.TOP?"bottom":"top"}}:[x.LEFT,x.RIGHT].includes(g)?{offsetX:g===x.LEFT?-8:8,offsetY:0,style:{textAlign:g===x.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Co(g,h,s){return{x:g.x+h*Math.cos(s),y:g.y+h*Math.sin(s)}}var _s=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.h)({},g.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:g.prototype.getDefaultTitleCfg.call(this)})},h.prototype.render=function(){g.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.getRegion=function(s,c){var y=1/2,L={x:.5,y:.5},H=Math.PI*2/s,ct=-1*Math.PI/2+H*c,Ot=y/(1+1/Math.sin(H/2)),zt=Co(L,y-Ot,ct),Zt=Math.PI*5/4,$t=Math.PI*1/4;return{start:Co(zt,Ot,Zt),end:Co(zt,Ot,$t)}},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){var c=this,y=this.cfg,L=y.fields,H=y.type,ct=L[0];if(!ct)throw new Error("No `fields` specified!");var Ot=this.getFieldValues(s,ct),zt=Ot.length,Zt=[];return Ot.forEach(function($t,te){var ne=[{field:ct,value:$t,values:Ot}],de=Object(o.l)(s,c.getFacetDataFilter(ne)),be={type:H,data:de,region:c.getRegion(zt,te),columnValue:$t,columnField:ct,columnIndex:te,columnValuesLength:zt,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};Zt.push(be)}),Zt},h.prototype.getXAxisOption=function(s,c,y,L){return y},h.prototype.getYAxisOption=function(s,c,y,L){return y},h.prototype.renderTitle=function(){var s=this;Object(o.j)(this.facets,function(c){var y=c.columnValue,L=c.view,H=Object(o.s)(s.cfg.title,"formatter"),ct=Object(o.h)({position:["50%","0%"],content:H?H(y):y},rs(x.TOP),s.cfg.title);L.annotation().text(ct)})},h}(wi),Kh=_s,rf=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.h)({},g.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:g.prototype.getDefaultTitleCfg.call(this)})},h.prototype.render=function(){g.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){var c=this,y=this.cfg.fields,L=this.cfg.cols,H=y[0];if(!H)throw new Error("No `fields` specified!");var ct=this.getFieldValues(s,H),Ot=ct.length;L=L||Ot;var zt=this.getPageCount(Ot,L),Zt=[];return ct.forEach(function($t,te){var ne=c.getRowCol(te,L),de=ne.row,be=ne.col,He=[{field:H,value:$t,values:ct}],er=Object(o.l)(s,c.getFacetDataFilter(He)),dr={type:c.cfg.type,data:er,region:c.getRegion(zt,L,be,de),columnValue:$t,rowValue:$t,columnField:H,rowField:null,columnIndex:be,rowIndex:de,columnValuesLength:L,rowValuesLength:zt,total:Ot};Zt.push(dr)}),Zt},h.prototype.getXAxisOption=function(s,c,y,L){return L.rowIndex!==L.rowValuesLength-1&&L.columnValuesLength*L.rowIndex+L.columnIndex+1+L.columnValuesLength<=L.total?Object(d.a)(Object(d.a)({},y),{label:null,title:null}):y},h.prototype.getYAxisOption=function(s,c,y,L){return L.columnIndex!==0?Object(d.a)(Object(d.a)({},y),{title:null,label:null}):y},h.prototype.renderTitle=function(){var s=this;Object(o.j)(this.facets,function(c){var y=c.columnValue,L=c.view,H=Object(o.s)(s.cfg.title,"formatter"),ct=Object(o.h)({position:["50%","0%"],content:H?H(y):y},rs(x.TOP),s.cfg.title);L.annotation().text(ct)})},h.prototype.getPageCount=function(s,c){return Math.floor((s+c-1)/c)},h.prototype.getRowCol=function(s,c){var y=Math.floor(s/c),L=s%c;return{row:y,col:L}},h}(wi),Mn=rf,Yd=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.h)({},g.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(d.a)({},g.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(d.a)({},g.prototype.getDefaultTitleCfg.call(this))})},h.prototype.render=function(){g.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){for(var c=this.cfg,y=c.fields,L=c.type,H=y.length,ct=H,Ot=[],zt=0;zt<ct;zt++)for(var Zt=y[zt],$t=0;$t<H;$t++){var te=y[$t],ne={type:L,data:s,region:this.getRegion(H,ct,zt,$t),columnValue:Zt,rowValue:te,columnField:Zt,rowField:te,columnIndex:zt,rowIndex:$t,columnValuesLength:ct,rowValuesLength:H};Ot.push(ne)}return Ot},h.prototype.getXAxisOption=function(s,c,y,L){return L.rowIndex!==L.rowValuesLength-1?Object(d.a)(Object(d.a)({},y),{label:null,title:null}):y},h.prototype.getYAxisOption=function(s,c,y,L){return L.columnIndex!==0?Object(d.a)(Object(d.a)({},y),{title:null,label:null}):y},h.prototype.renderTitle=function(){var s=this;Object(o.j)(this.facets,function(c,y){var L=c.columnIndex,H=c.rowIndex,ct=c.columnValuesLength,Ot=c.rowValuesLength,zt=c.columnValue,Zt=c.rowValue,$t=c.view;if(H===0){var te=Object(o.s)(s.cfg.columnTitle,"formatter"),ne=Object(o.h)({position:["50%","0%"],content:te?te(zt):zt},rs(x.TOP),s.cfg.columnTitle);$t.annotation().text(ne)}if(L===ct-1){var te=Object(o.s)(s.cfg.rowTitle,"formatter"),ne=Object(o.h)({position:["100%","50%"],content:te?te(Zt):Zt},rs(x.RIGHT),s.cfg.rowTitle);$t.annotation().text(ne)}})},h}(wi),zi=Yd,hs=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(o.h)({},g.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:g.prototype.getDefaultTitleCfg.call(this),transpose:!1})},h.prototype.render=function(){g.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.beforeEachView=function(s,c){this.cfg.transpose?c.columnIndex%2==0?s.coordinate().transpose().reflect("x"):s.coordinate().transpose():c.rowIndex%2!=0&&s.coordinate().reflect("y")},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.generateFacets=function(s){var c=this,y=this.cfg.fields[0],L=[],H=1,ct=1,Ot=[""],zt=[""],Zt,$t;return this.cfg.transpose?(Zt=y,Ot=this.getFieldValues(s,Zt).slice(0,2),H=Ot.length):($t=y,zt=this.getFieldValues(s,$t).slice(0,2),ct=zt.length),Ot.forEach(function(te,ne){zt.forEach(function(de,be){var He=[{field:Zt,value:te,values:Ot},{field:$t,value:de,values:zt}],er=Object(o.l)(s,c.getFacetDataFilter(He)),dr={type:c.cfg.type,data:er,region:c.getRegion(ct,H,ne,be),columnValue:te,rowValue:de,columnField:Zt,rowField:$t,columnIndex:ne,rowIndex:be,columnValuesLength:H,rowValuesLength:ct};L.push(dr)})}),L},h.prototype.getXAxisOption=function(s,c,y,L){return L.columnIndex===1||L.rowIndex===1?Object(d.a)(Object(d.a)({},y),{label:null,title:null}):y},h.prototype.getYAxisOption=function(s,c,y,L){return y},h.prototype.renderTitle=function(){var s=this;Object(o.j)(this.facets,function(c,y){var L=c.columnValue,H=c.rowValue,ct=c.view,Ot=Object(o.s)(s.cfg.title,"formatter");if(s.cfg.transpose){var zt=Object(o.h)({position:["50%","0%"],content:Ot?Ot(L):L},rs(x.TOP),s.cfg.title);ct.annotation().text(zt)}else{var zt=Object(o.h)({position:["100%","50%"],content:Ot?Ot(H):H},rs(x.RIGHT),s.cfg.title);ct.annotation().text(zt)}})},h}(wi),pr=hs,Ro=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.getDefaultCfg=function(){return Object(o.h)({},g.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(d.a)({},g.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(d.a)({},g.prototype.getDefaultTitleCfg.call(this))})},h.prototype.render=function(){g.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.generateFacets=function(s){var c=this,y=this.cfg.fields,L=y[0],H=y[1],ct=[],Ot=1,zt=1,Zt=[""],$t=[""];return L&&(Zt=this.getFieldValues(s,L),Ot=Zt.length),H&&($t=this.getFieldValues(s,H),zt=$t.length),Zt.forEach(function(te,ne){$t.forEach(function(de,be){var He=[{field:L,value:te,values:Zt},{field:H,value:de,values:$t}],er=Object(o.l)(s,c.getFacetDataFilter(He)),dr={type:c.cfg.type,data:er,region:c.getRegion(zt,Ot,ne,be),columnValue:te,rowValue:de,columnField:L,rowField:H,columnIndex:ne,rowIndex:be,columnValuesLength:Ot,rowValuesLength:zt};ct.push(dr)})}),ct},h.prototype.renderTitle=function(){var s=this;Object(o.j)(this.facets,function(c,y){var L=c.columnIndex,H=c.rowIndex,ct=c.columnValuesLength,Ot=c.columnValue,zt=c.rowValue,Zt=c.view;if(H===0){var $t=Object(o.s)(s.cfg.columnTitle,"formatter"),te=Object(o.h)({position:["50%","0%"],content:$t?$t(Ot):Ot},rs(x.TOP),s.cfg.columnTitle);Zt.annotation().text(te)}if(L===ct-1){var $t=Object(o.s)(s.cfg.rowTitle,"formatter"),te=Object(o.h)({position:["100%","50%"],content:$t?$t(zt):zt},rs(x.RIGHT),s.cfg.rowTitle);Zt.annotation().text(te)}})},h.prototype.getXAxisOption=function(s,c,y,L){return L.rowIndex!==L.rowValuesLength-1?Object(d.a)(Object(d.a)({},y),{title:null,label:null}):L.columnIndex!==Math.floor((L.columnValuesLength-1)/2)?Object(d.a)(Object(d.a)({},y),{title:null}):y},h.prototype.getYAxisOption=function(s,c,y,L){return L.columnIndex!==0?Object(d.a)(Object(d.a)({},y),{title:null,label:null}):L.rowIndex!==Math.floor((L.rowValuesLength-1)/2)?Object(d.a)(Object(d.a)({},y),{title:null}):y},h}(wi),oh=Ro,Yh=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.afterChartRender=function(){s.facets&&s.cfg.line&&(s.container.clear(),s.drawLines(s.facets))},s}return h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.init=function(){g.prototype.init.call(this),this.view.on(C.AFTER_RENDER,this.afterChartRender)},h.prototype.getDefaultCfg=function(){return Object(o.h)({},g.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:g.prototype.getDefaultTitleCfg.call(this)})},h.prototype.generateFacets=function(s){var c=this.cfg.fields;if(!c.length)throw new Error("Please specify for the fields for rootFacet!");var y=[],L={type:this.cfg.type,data:s,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return y.push(L),L.children=this.getChildFacets(s,1,y),this.setRegion(y),y},h.prototype.setRegion=function(s){var c=this;this.forceColIndex(s),s.forEach(function(y){y.region=c.getRegion(y.rowValuesLength,y.columnValuesLength,y.columnIndex,y.rowIndex)})},h.prototype.getRegion=function(s,c,y,L){var H=1/c,ct=1/s,Ot={x:H*y,y:ct*L},zt={x:Ot.x+H,y:Ot.y+ct*2/3};return{start:Ot,end:zt}},h.prototype.forceColIndex=function(s){var c=this,y=[],L=0;s.forEach(function(te){c.isLeaf(te)&&(y.push(te),te.columnIndex=L,L++)}),y.forEach(function(te){te.columnValuesLength=y.length});for(var H=this.cfg.fields.length,ct=H-1;ct>=0;ct--)for(var Ot=this.getFacetsByLevel(s,ct),zt=0,Zt=Ot;zt<Zt.length;zt++){var $t=Zt[zt];this.isLeaf($t)||($t.originColIndex=$t.columnIndex,$t.columnIndex=this.getRegionIndex($t.children),$t.columnValuesLength=y.length)}},h.prototype.getFacetsByLevel=function(s,c){var y=[];return s.forEach(function(L){L.rowIndex===c&&y.push(L)}),y},h.prototype.getRegionIndex=function(s){var c=s[0],y=s[s.length-1];return(y.columnIndex-c.columnIndex)/2+c.columnIndex},h.prototype.isLeaf=function(s){return!s.children||!s.children.length},h.prototype.getRows=function(){return this.cfg.fields.length+1},h.prototype.getChildFacets=function(s,c,y){var L=this,H=this.cfg.fields,ct=H.length;if(!(ct<c)){var Ot=[],zt=H[c-1],Zt=this.getFieldValues(s,zt);return Zt.forEach(function($t,te){var ne=[{field:zt,value:$t,values:Zt}],de=s.filter(L.getFacetDataFilter(ne));if(de.length){var be={type:L.cfg.type,data:de,region:null,columnValue:$t,rowValue:"",columnField:zt,rowField:"",columnIndex:te,rowValuesLength:L.getRows(),columnValuesLength:1,rowIndex:c,children:L.getChildFacets(de,c+1,y)};Ot.push(be),y.push(be)}}),Ot}},h.prototype.render=function(){g.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.renderTitle=function(){var s=this;Object(o.j)(this.facets,function(c){var y=c.columnValue,L=c.view,H=Object(o.s)(s.cfg.title,"formatter"),ct=Object(o.h)({position:["50%","0%"],content:H?H(y):y},rs(x.TOP),s.cfg.title);L.annotation().text(ct)})},h.prototype.drawLines=function(s){var c=this;s.forEach(function(y){if(!c.isLeaf(y)){var L=y.children;c.addFacetLines(y,L)}})},h.prototype.addFacetLines=function(s,c){var y=this,L=s.view,H=L.coordinateBBox,ct={x:H.x+H.width/2,y:H.y+H.height};c.forEach(function(Ot){var zt=Ot.view.coordinateBBox,Zt={x:zt.bl.x+(zt.tr.x-zt.bl.x)/2,y:zt.tr.y},$t={x:ct.x,y:ct.y+(Zt.y-ct.y)/2},te={x:Zt.x,y:$t.y};y.drawLine([ct,$t,te,Zt])})},h.prototype.getPath=function(s){var c=[],y=this.cfg.line.smooth;return y?(c.push(["M",s[0].x,s[0].y]),c.push(["C",s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y])):s.forEach(function(L,H){H===0?c.push(["M",L.x,L.y]):c.push(["L",L.x,L.y])}),c},h.prototype.drawLine=function(s){var c=this.getPath(s),y=this.cfg.line.style;this.container.addShape("path",{attrs:Object(o.b)({path:c},y)})},h.prototype.getXAxisOption=function(s,c,y,L){return L.rowIndex!==L.rowValuesLength-1?Object(d.a)(Object(d.a)({},y),{title:null,label:null}):y},h.prototype.getYAxisOption=function(s,c,y,L){return L.originColIndex!==0&&L.columnIndex!==0?Object(d.a)(Object(d.a)({},y),{title:null,label:null}):y},h}(wi),Zd=Yh;function Zh(g){var h=Object(d.g)(g);h.sort(function(c,y){return c-y});var s=h.length;return s===0?0:s%2==1?h[(s-1)/2]:(h[s/2]+h[s/2-1])/2}function $h(g){var h=Object(o.fb)(g,function(s,c){return s+=isNaN(c)||!Object(o.K)(c)?0:c},0);return g.length===0?0:h/g.length}function ec(g,h){var s;switch(g){case"start":return 0;case"end":return 1;case"median":{s=h.isCategory?Zh(h.values.map(function(c,y){return y})):Zh(h.values);break}case"mean":{s=h.isCategory?(h.values.length-1)/2:$h(h.values);break}case"min":s=h.isCategory?0:h[g];break;case"max":s=h.isCategory?h.values.length-1:h[g];break;default:s=g;break}return h.scale(s)}var nf=["regionFilter","shape"],$d=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;return c.cache=new Map,c.foregroundContainer=c.view.getLayer(b.FORE).addGroup(),c.backgroundContainer=c.view.getLayer(b.BG).addGroup(),c.option=[],c}return Object.defineProperty(h.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.layout=function(){this.update()},h.prototype.render=function(){},h.prototype.update=function(){var s=this;this.onAfterRender(function(){var y=new Map;Object(o.j)(s.option,function(L){if(Object(o.z)(nf,L.type)){var H=s.updateOrCreate(L);H&&y.set(s.getCacheKey(L),H)}}),s.cache=s.syncCache(y)});var c=new Map;Object(o.j)(this.option,function(y){if(!Object(o.z)(nf,y.type)){var L=s.updateOrCreate(y);L&&c.set(s.getCacheKey(y),L)}}),this.cache=this.syncCache(c)},h.prototype.clear=function(s){s===void 0&&(s=!1),g.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),s&&(this.option=[])},h.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},h.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},h.prototype.clearComponents=function(){this.getComponents().forEach(function(s){s.component.destroy()}),this.cache.clear()},h.prototype.onAfterRender=function(s){this.view.getOptions().animate?this.view.geometries.forEach(function(c){c.animateOption&&c.once(S.AFTER_DRAW_ANIMATE,function(){s()})}):this.view.getRootView().once(C.AFTER_RENDER,function(){s()})},h.prototype.createAnnotation=function(s){var c=s.type,y=Rt.Annotation[Object(o.tb)(c)];if(y){var L=this.getAnnotationTheme(c),H=this.getAnnotationCfg(c,s,L),ct=new y(H);return{component:ct,layer:this.isTop(H)?b.FORE:b.BG,direction:x.NONE,type:M.ANNOTATION,extra:s}}},h.prototype.annotation=function(s){this.option.push(s)},h.prototype.arc=function(s){return this.annotation(Object(d.a)({type:"arc"},s)),this},h.prototype.image=function(s){return this.annotation(Object(d.a)({type:"image"},s)),this},h.prototype.line=function(s){return this.annotation(Object(d.a)({type:"line"},s)),this},h.prototype.region=function(s){return this.annotation(Object(d.a)({type:"region"},s)),this},h.prototype.text=function(s){return this.annotation(Object(d.a)({type:"text"},s)),this},h.prototype.dataMarker=function(s){return this.annotation(Object(d.a)({type:"dataMarker"},s)),this},h.prototype.dataRegion=function(s){this.annotation(Object(d.a)({type:"dataRegion"},s))},h.prototype.regionFilter=function(s){this.annotation(Object(d.a)({type:"regionFilter"},s))},h.prototype.shape=function(s){this.annotation(Object(d.a)({type:"shape"},s))},h.prototype.html=function(s){this.annotation(Object(d.a)({type:"html"},s))},h.prototype.parsePosition=function(s){var c=this.view.getXScale(),y=this.view.getScalesByDim("y"),L=Object(o.H)(s)?s.call(null,c,y):s,H=0,ct=0;if(Object(o.B)(L)){var Ot=L[0],zt=L[1];if(Object(o.O)(Ot)&&Ot.indexOf("%")!==-1&&!isNaN(Ot.slice(0,-1)))return this.parsePercentPosition(L);H=ec(Ot,c),ct=ec(zt,Object.values(y)[0])}else if(!Object(o.I)(L))for(var Zt=0,$t=Object(o.R)(L);Zt<$t.length;Zt++){var te=$t[Zt],ne=L[te];te===c.field&&(H=ec(ne,c)),y[te]&&(ct=ec(ne,y[te]))}return this.view.getCoordinate().convert({x:H,y:ct})},h.prototype.getRegionPoints=function(s,c){var y=this,L=this.view.getXScale(),H=this.view.getScalesByDim("y"),ct=Object.values(H)[0],Ot=L.field,zt=this.view.getData(),Zt=Object(o.B)(s)?s[0]:s[Ot],$t=Object(o.B)(c)?c[0]:c[Ot],te=[],ne;return Object(o.j)(zt,function(de,be){if(de[Ot]===Zt&&(ne=be),be>=ne){var He=y.parsePosition([de[Ot],de[ct.field]]);He&&te.push(He)}if(de[Ot]===$t)return!1}),te},h.prototype.parsePercentPosition=function(s){var c=parseFloat(s[0])/100,y=parseFloat(s[1])/100,L=this.view.getCoordinate(),H=L.start,ct=L.end,Ot={x:Math.min(H.x,ct.x),y:Math.min(H.y,ct.y)},zt=L.getWidth()*c+Ot.x,Zt=L.getHeight()*y+Ot.y;return{x:zt,y:Zt}},h.prototype.getCoordinateBBox=function(){var s=this.view.getCoordinate(),c=s.start,y=s.end,L=s.getWidth(),H=s.getHeight(),ct={x:Math.min(c.x,y.x),y:Math.min(c.y,y.y)};return{x:ct.x,y:ct.y,minX:ct.x,minY:ct.y,maxX:ct.x+L,maxY:ct.y+H,width:L,height:H}},h.prototype.getAnnotationCfg=function(s,c,y){var L=this,H=this.view.getCoordinate(),ct=this.view.getCanvas(),Ot={};if(Object(o.I)(c))return null;if(s==="arc"){var zt=c,Zt=zt.start,$t=zt.end,te=this.parsePosition(Zt),ne=this.parsePosition($t),de=bn(H,te),be=bn(H,ne);de>be&&(be=Math.PI*2+be),Ot={center:H.getCenter(),radius:Jr(H,te),startAngle:de,endAngle:be}}else if(s==="image"){var He=c,Zt=He.start,$t=He.end;Ot={start:this.parsePosition(Zt),end:this.parsePosition($t),src:c.src}}else if(s==="line"){var er=c,Zt=er.start,$t=er.end;Ot={start:this.parsePosition(Zt),end:this.parsePosition($t),text:Object(o.s)(c,"text",null)}}else if(s==="region"){var dr=c,Zt=dr.start,$t=dr.end;Ot={start:this.parsePosition(Zt),end:this.parsePosition($t)}}else if(s==="text"){var yr=this.view.getData(),nn=c,un=nn.position,dn=nn.content,va=Object(d.e)(nn,["position","content"]),na=dn;Object(o.H)(dn)&&(na=dn(yr)),Ot=Object(d.a)(Object(d.a)(Object(d.a)({},this.parsePosition(un)),va),{content:na})}else if(s==="dataMarker"){var $n=c,un=$n.position,Ia=$n.point,ai=$n.line,_a=$n.text,ji=$n.autoAdjust,Mo=$n.direction;Ot=Object(d.a)(Object(d.a)({},this.parsePosition(un)),{coordinateBBox:this.getCoordinateBBox(),point:Ia,line:ai,text:_a,autoAdjust:ji,direction:Mo})}else if(s==="dataRegion"){var To=c,Zt=To.start,$t=To.end,Oo=To.region,_a=To.text,uf=To.lineLength;Ot={points:this.getRegionPoints(Zt,$t),region:Oo,text:_a,lineLength:uf}}else if(s==="regionFilter"){var _l=c,Zt=_l.start,$t=_l.end,Fv=_l.apply,rl=_l.color,nl=this.view.geometries,ac=[],ic=function df(Tl){!Tl||(Tl.isGroup()?Tl.getChildren().forEach(function(Ag){return df(Ag)}):ac.push(Tl))};Object(o.j)(nl,function(df){Fv?Object(o.f)(Fv,df.type)&&Object(o.j)(df.elements,function(Tl){ic(Tl.shape)}):Object(o.j)(df.elements,function(Tl){ic(Tl.shape)})}),Ot={color:rl,shapes:ac,start:this.parsePosition(Zt),end:this.parsePosition($t)}}else if(s==="shape"){var Gv=c,Mg=Gv.render,qd=Object(d.e)(Gv,["render"]),Uv=function(Tg){if(Object(o.H)(c.render))return Mg(Tg,L.view,{parsePosition:L.parsePosition.bind(L)})};Ot=Object(d.a)(Object(d.a)({},qd),{render:Uv})}else if(s==="html"){var cf=c,ff=cf.html,un=cf.position,qd=Object(d.e)(cf,["html","position"]),hf=function(Tl){return Object(o.H)(ff)?ff(Tl,L.view):ff};Ot=Object(d.a)(Object(d.a)(Object(d.a)({},qd),this.parsePosition(un)),{parent:ct.get("el").parentNode,html:hf})}var xu=Object(o.h)({},y,Object(d.a)(Object(d.a)({},Ot),{top:c.top,style:c.style,offsetX:c.offsetX,offsetY:c.offsetY}));return s!=="html"&&(xu.container=this.getComponentContainer(xu)),xu.animate=this.view.getOptions().animate&&xu.animate&&Object(o.s)(c,"animate",xu.animate),xu.animateOption=Object(o.h)({},js,xu.animateOption,c.animateOption),xu},h.prototype.isTop=function(s){return Object(o.s)(s,"top",!0)},h.prototype.getComponentContainer=function(s){return this.isTop(s)?this.foregroundContainer:this.backgroundContainer},h.prototype.getAnnotationTheme=function(s){return Object(o.s)(this.view.getTheme(),["components","annotation",s],{})},h.prototype.updateOrCreate=function(s){var c=this.cache.get(this.getCacheKey(s));if(c){var y=s.type,L=this.getAnnotationTheme(y),H=this.getAnnotationCfg(y,s,L);Nr(H,["container"]),c.component.update(H),Object(o.z)(nf,s.type)&&c.component.render()}else c=this.createAnnotation(s),c&&(c.component.init(),Object(o.z)(nf,s.type)&&c.component.render());return c},h.prototype.syncCache=function(s){var c=this,y=new Map(this.cache);return s.forEach(function(L,H){y.set(H,L)}),y.forEach(function(L,H){Object(o.m)(c.option,function(ct){return H===c.getCacheKey(ct)})||(L.component.destroy(),y.delete(H))}),y},h.prototype.getCacheKey=function(s){return s},h}(hl),rc=$d;function Qh(g,h){var s=Object(o.h)({},Object(o.s)(g,["components","axis","common"]),Object(o.s)(g,["components","axis",h]));return Object(o.s)(s,["grid"],{})}function Zl(g,h,s,c){var y=[],L=h.getTicks();return g.isPolar&&L.push({value:1,text:"",tickValue:""}),L.reduce(function(H,ct,Ot){var zt=ct.value;if(c)y.push({points:[g.convert(s==="y"?{x:0,y:zt}:{x:zt,y:0}),g.convert(s==="y"?{x:1,y:zt}:{x:zt,y:1})]});else if(Ot){var Zt=H.value,$t=(Zt+zt)/2;y.push({points:[g.convert(s==="y"?{x:0,y:$t}:{x:$t,y:0}),g.convert(s==="y"?{x:1,y:$t}:{x:$t,y:1})]})}return ct},L[0]),y}function $l(g,h,s,c,y){var L=h.values.length,H=[],ct=s.getTicks();return ct.reduce(function(Ot,zt){var Zt=Ot?Ot.value:zt.value,$t=zt.value,te=(Zt+$t)/2;return y==="x"?H.push({points:[g.convert({x:c?$t:te,y:0}),g.convert({x:c?$t:te,y:1})]}):H.push({points:Object(o.U)(Array(L+1),function(ne,de){return g.convert({x:de/L,y:c?$t:te})})}),zt},ct[0]),H}function af(g,h){var s=Object(o.s)(h,"grid");if(s===null)return!1;var c=Object(o.s)(g,"grid");return!(s===void 0&&c===null)}var qs=["container"],Jh=Object(d.a)(Object(d.a)({},js),{appear:null}),Qd=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;return c.cache=new Map,c.gridContainer=c.view.getLayer(b.BG).addGroup(),c.gridForeContainer=c.view.getLayer(b.FORE).addGroup(),c.axisContainer=c.view.getLayer(b.BG).addGroup(),c.axisForeContainer=c.view.getLayer(b.FORE).addGroup(),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.render=function(){this.update()},h.prototype.layout=function(){var s=this,c=this.view.getCoordinate();Object(o.j)(this.getComponents(),function(y){var L=y.component,H=y.direction,ct=y.type,Ot=y.extra,zt=Ot.dim,Zt=Ot.scale,$t=Ot.alignTick,te;if(ct===M.AXIS)c.isPolar?zt==="x"?te=c.isTransposed?Ii(c,H):po(c):zt==="y"&&(te=c.isTransposed?po(c):Ii(c,H)):te=Ii(c,H);else if(ct===M.GRID)if(c.isPolar){var ne=void 0;c.isTransposed?ne=zt==="x"?$l(c,s.view.getYScales()[0],Zt,$t,zt):Zl(c,Zt,zt,$t):ne=zt==="x"?Zl(c,Zt,zt,$t):$l(c,s.view.getXScale(),Zt,$t,zt),te={items:ne,center:s.view.getCoordinate().getCenter()}}else te={items:Zl(c,Zt,zt,$t)};L.update(te)})},h.prototype.update=function(){this.option=this.view.getOptions().axes;var s=new Map;this.updateXAxes(s),this.updateYAxes(s);var c=new Map;this.cache.forEach(function(y,L){s.has(L)?c.set(L,y):y.component.destroy()}),this.cache=c},h.prototype.clear=function(){g.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},h.prototype.destroy=function(){g.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},h.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},h.prototype.updateXAxes=function(s){var c=this.view.getXScale();if(!(!c||c.isIdentity)){var y=So(this.option,c.field);if(y!==!1){var L=Zo(y,x.BOTTOM),H=b.BG,ct="x",Ot=this.view.getCoordinate(),zt=this.getId("axis",c.field),Zt=this.getId("grid",c.field);if(Ot.isRect){var $t=this.cache.get(zt);if($t){var te=this.getLineAxisCfg(c,y,L);Nr(te,qs),$t.component.update(te),s.set(zt,$t)}else $t=this.createLineAxis(c,y,H,L,ct),this.cache.set(zt,$t),s.set(zt,$t);var ne=this.cache.get(Zt);if(ne){var te=this.getLineGridCfg(c,y,L,ct);Nr(te,qs),ne.component.update(te),s.set(Zt,ne)}else ne=this.createLineGrid(c,y,H,L,ct),ne&&(this.cache.set(Zt,ne),s.set(Zt,ne))}else if(Ot.isPolar){var $t=this.cache.get(zt);if($t){var te=Ot.isTransposed?this.getLineAxisCfg(c,y,x.RADIUS):this.getCircleAxisCfg(c,y,L);Nr(te,qs),$t.component.update(te),s.set(zt,$t)}else{if(Ot.isTransposed){if(Object(o.Q)(y))return;$t=this.createLineAxis(c,y,H,x.RADIUS,ct)}else $t=this.createCircleAxis(c,y,H,L,ct);this.cache.set(zt,$t),s.set(zt,$t)}var ne=this.cache.get(Zt);if(ne){var te=Ot.isTransposed?this.getCircleGridCfg(c,y,x.RADIUS,ct):this.getLineGridCfg(c,y,x.CIRCLE,ct);Nr(te,qs),ne.component.update(te),s.set(Zt,ne)}else{if(Ot.isTransposed){if(Object(o.Q)(y))return;ne=this.createCircleGrid(c,y,H,x.RADIUS,ct)}else ne=this.createLineGrid(c,y,H,x.CIRCLE,ct);ne&&(this.cache.set(Zt,ne),s.set(Zt,ne))}}}}},h.prototype.updateYAxes=function(s){var c=this,y=this.view.getYScales();Object(o.j)(y,function(L,H){if(!(!L||L.isIdentity)){var ct=L.field,Ot=So(c.option,ct);if(Ot!==!1){var zt=b.BG,Zt="y",$t=c.getId("axis",ct),te=c.getId("grid",ct),ne=c.view.getCoordinate();if(ne.isRect){var de=Zo(Ot,H===0?x.LEFT:x.RIGHT),be=c.cache.get($t);if(be){var He=c.getLineAxisCfg(L,Ot,de);Nr(He,qs),be.component.update(He),s.set($t,be)}else be=c.createLineAxis(L,Ot,zt,de,Zt),c.cache.set($t,be),s.set($t,be);var er=c.cache.get(te);if(er){var He=c.getLineGridCfg(L,Ot,de,Zt);Nr(He,qs),er.component.update(He),s.set(te,er)}else er=c.createLineGrid(L,Ot,zt,de,Zt),er&&(c.cache.set(te,er),s.set(te,er))}else if(ne.isPolar){var be=c.cache.get($t);if(be){var He=ne.isTransposed?c.getCircleAxisCfg(L,Ot,x.CIRCLE):c.getLineAxisCfg(L,Ot,x.RADIUS);Nr(He,qs),be.component.update(He),s.set($t,be)}else{if(ne.isTransposed){if(Object(o.Q)(Ot))return;be=c.createCircleAxis(L,Ot,zt,x.CIRCLE,Zt)}else be=c.createLineAxis(L,Ot,zt,x.RADIUS,Zt);c.cache.set($t,be),s.set($t,be)}var er=c.cache.get(te);if(er){var He=ne.isTransposed?c.getLineGridCfg(L,Ot,x.CIRCLE,Zt):c.getCircleGridCfg(L,Ot,x.RADIUS,Zt);Nr(He,qs),er.component.update(He),s.set(te,er)}else{if(ne.isTransposed){if(Object(o.Q)(Ot))return;er=c.createLineGrid(L,Ot,zt,x.CIRCLE,Zt)}else er=c.createCircleGrid(L,Ot,zt,x.RADIUS,Zt);er&&(c.cache.set(te,er),s.set(te,er))}}}}})},h.prototype.createLineAxis=function(s,c,y,L,H){var ct={component:new xt(this.getLineAxisCfg(s,c,L)),layer:y,direction:L===x.RADIUS?x.NONE:L,type:M.AXIS,extra:{dim:H,scale:s}};return ct.component.set("field",s.field),ct.component.init(),ct},h.prototype.createLineGrid=function(s,c,y,L,H){var ct=this.getLineGridCfg(s,c,L,H);if(ct){var Ot={component:new Ht(ct),layer:y,direction:x.NONE,type:M.GRID,extra:{dim:H,scale:s,alignTick:Object(o.s)(ct,"alignTick",!0)}};return Ot.component.init(),Ot}},h.prototype.createCircleAxis=function(s,c,y,L,H){var ct={component:new Nt(this.getCircleAxisCfg(s,c,L)),layer:y,direction:L,type:M.AXIS,extra:{dim:H,scale:s}};return ct.component.set("field",s.field),ct.component.init(),ct},h.prototype.createCircleGrid=function(s,c,y,L,H){var ct=this.getCircleGridCfg(s,c,L,H);if(ct){var Ot={component:new jt(ct),layer:y,direction:x.NONE,type:M.GRID,extra:{dim:H,scale:s,alignTick:Object(o.s)(ct,"alignTick",!0)}};return Ot.component.init(),Ot}},h.prototype.getLineAxisCfg=function(s,c,y){var L=Object(o.s)(c,["top"])?this.axisForeContainer:this.axisContainer,H=this.view.getCoordinate(),ct=Ii(H,y),Ot=$o(s,c),zt=io(this.view.getTheme(),y),Zt=Object(o.s)(c,["title"])?Object(o.h)({title:{style:{text:Ot}}},{title:Hi(this.view.getTheme(),y,c.title)},c):c,$t=Object(o.h)(Object(d.a)(Object(d.a)({container:L},ct),{ticks:s.getTicks().map(function(yr){return{id:""+yr.tickValue,name:yr.text,value:yr.value}}),verticalFactor:H.isPolar?Po(ct,H.getCenter())*-1:Po(ct,H.getCenter()),theme:zt}),zt,Zt),te=this.getAnimateCfg($t),ne=te.animate,de=te.animateOption;$t.animateOption=de,$t.animate=ne;var be=Go(ct),He=Object(o.s)($t,"verticalLimitLength",be?1/3:1/2);if(He<=1){var er=this.view.getCanvas().get("width"),dr=this.view.getCanvas().get("height");$t.verticalLimitLength=He*(be?er:dr)}return $t},h.prototype.getLineGridCfg=function(s,c,y,L){if(!!af(io(this.view.getTheme(),y),c)){var H=Qh(this.view.getTheme(),y),ct=Object(o.h)({container:Object(o.s)(c,["top"])?this.gridForeContainer:this.gridContainer},H,Object(o.s)(c,"grid"),this.getAnimateCfg(c));return ct.items=Zl(this.view.getCoordinate(),s,L,Object(o.s)(ct,"alignTick",!0)),ct}},h.prototype.getCircleAxisCfg=function(s,c,y){var L=Object(o.s)(c,["top"])?this.axisForeContainer:this.axisContainer,H=this.view.getCoordinate(),ct=s.getTicks().map(function(be){return{id:""+be.tickValue,name:be.text,value:be.value}});!s.isCategory&&Math.abs(H.endAngle-H.startAngle)===Math.PI*2&&ct.pop();var Ot=$o(s,c),zt=io(this.view.getTheme(),x.CIRCLE),Zt=Object(o.s)(c,["title"])?Object(o.h)({title:{style:{text:Ot}}},{title:Hi(this.view.getTheme(),y,c.title)},c):c,$t=Object(o.h)(Object(d.a)(Object(d.a)({container:L},po(this.view.getCoordinate())),{ticks:ct,verticalFactor:1,theme:zt}),zt,Zt),te=this.getAnimateCfg($t),ne=te.animate,de=te.animateOption;return $t.animate=ne,$t.animateOption=de,$t},h.prototype.getCircleGridCfg=function(s,c,y,L){if(!!af(io(this.view.getTheme(),y),c)){var H=Qh(this.view.getTheme(),x.RADIUS),ct=Object(o.h)({container:Object(o.s)(c,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},H,Object(o.s)(c,"grid"),this.getAnimateCfg(c)),Ot=Object(o.s)(ct,"alignTick",!0),zt=L==="x"?this.view.getYScales()[0]:this.view.getXScale();return ct.items=$l(this.view.getCoordinate(),zt,s,Ot,L),ct}},h.prototype.getId=function(s,c){var y=this.view.getCoordinate();return s+"-"+c+"-"+y.type},h.prototype.getAnimateCfg=function(s){return{animate:this.view.getOptions().animate&&Object(o.s)(s,"animate"),animateOption:s&&s.animateOption?Object(o.h)({},Jh,s.animateOption):Jh}},h}(hl),sh=Qd;function tl(g,h,s){return s===x.TOP?[g.minX+g.width/2-h.width/2,g.minY]:s===x.BOTTOM?[g.minX+g.width/2-h.width/2,g.maxY-h.height]:s===x.LEFT?[g.minX,g.minY+g.height/2-h.height/2]:s===x.RIGHT?[g.maxX-h.width,g.minY+g.height/2-h.height/2]:s===x.TOP_LEFT||s===x.LEFT_TOP?[g.tl.x,g.tl.y]:s===x.TOP_RIGHT||s===x.RIGHT_TOP?[g.tr.x-h.width,g.tr.y]:s===x.BOTTOM_LEFT||s===x.LEFT_BOTTOM?[g.bl.x,g.bl.y-h.height]:s===x.BOTTOM_RIGHT||s===x.RIGHT_BOTTOM?[g.br.x-h.width,g.br.y-h.height]:[0,0]}function _t(g,h){if(h.isTransposed)switch(g){case x.BOTTOM:return x.LEFT;case x.LEFT:return x.BOTTOM;case x.RIGHT:return x.TOP;case x.TOP:return x.RIGHT}return g}function ie(g){return g===x.LEFT?x.RIGHT:g===x.RIGHT?x.LEFT:g}function De(g){return g===x.TOP?x.BOTTOM:g===x.BOTTOM?x.TOP:g}function ar(g,h){var s=h.matrix[0],c=h.matrix[4],y=g;return s<0&&(y=ie(y)),c<0&&(y=De(y)),y}function Cr(g,h){var s=g;return h.isReflect("x")&&(s=ie(s)),h.isReflect("y")&&(s=De(s)),s}function br(g,h){var s=g;return s=_t(s,h),s=ar(s,h),s=Cr(s,h),s}function rr(g,h){return Object(o.C)(g)?g===!1?!1:{}:Object(o.s)(g,[h],g)}function Vr(g){return Object(o.s)(g,"position",x.BOTTOM)}var cn=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;return c.container=c.view.getLayer(b.FORE).addGroup(),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.render=function(){this.update()},h.prototype.layout=function(){var s=this;this.layoutBBox=this.view.viewBBox,Object(o.j)(this.components,function(c){var y=c.component,L=c.direction,H=Ic(L),ct=s.getCategoryLegendSizeCfg(H),Ot=y.get("maxWidth"),zt=y.get("maxHeight");y.update({maxWidth:Math.min(ct.maxWidth,Ot||0),maxHeight:Math.min(ct.maxHeight,zt||0)});var Zt=y.get("padding"),$t=y.getLayoutBBox(),te=new vn($t.x,$t.y,$t.width,$t.height).expand(Zt),ne=tl(s.view.viewBBox,te,L),de=ne[0],be=ne[1],He=tl(s.layoutBBox,te,L),er=He[0],dr=He[1],yr=0,nn=0;L.startsWith("top")||L.startsWith("bottom")?(yr=de,nn=dr):(yr=er,nn=be),y.setLocation({x:yr+Zt[3],y:nn+Zt[0]}),s.layoutBBox=s.layoutBBox.cut(te,L)})},h.prototype.update=function(){var s=this;this.option=this.view.getOptions().legends;var c={},y=function(ne,de,be){var He=s.getId(be.field),er=s.getComponentById(He);if(er){var dr=void 0,yr=rr(s.option,be.field);yr!==!1&&(Object(o.s)(yr,"custom")?dr=s.getCategoryCfg(ne,de,be,yr,!0):be.isLinear?dr=s.getContinuousCfg(ne,de,be,yr):be.isCategory&&(dr=s.getCategoryCfg(ne,de,be,yr))),dr&&(Nr(dr,["container"]),er.direction=Vr(yr),er.component.update(dr),c[He]=!0)}else{var nn=s.createFieldLegend(ne,de,be);nn&&(nn.component.init(),s.components.push(nn),c[He]=!0)}};if(Object(o.s)(this.option,"custom")){var L="global-custom",H=this.getComponentById(L);if(H){var ct=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Nr(ct,["container"]),H.component.update(ct),c[L]=!0}else{var Ot=this.createCustomLegend(void 0,void 0,void 0,this.option);if(Ot){Ot.init();var zt=b.FORE,Zt=Vr(this.option);this.components.push({id:L,component:Ot,layer:zt,direction:Zt,type:M.LEGEND,extra:void 0}),c[L]=!0}}}else this.loopLegends(y);var $t=[];Object(o.j)(this.getComponents(),function(te){c[te.id]?$t.push(te):te.component.destroy()}),this.components=$t},h.prototype.clear=function(){g.prototype.clear.call(this),this.container.clear()},h.prototype.destroy=function(){g.prototype.destroy.call(this),this.container.remove(!0)},h.prototype.getGeometries=function(s){var c=this,y=s.geometries;return Object(o.j)(s.views,function(L){y=y.concat(c.getGeometries(L))}),y},h.prototype.loopLegends=function(s){var c=this.view.getRootView()===this.view;if(!!c){var y=this.getGeometries(this.view),L={};Object(o.j)(y,function(H){var ct=H.getGroupAttributes();Object(o.j)(ct,function(Ot){var zt=Ot.getScale(Ot.type);!zt||zt.type==="identity"||L[zt.field]||(s(H,Ot,zt),L[zt.field]=!0)})})}},h.prototype.createFieldLegend=function(s,c,y){var L,H=rr(this.option,y.field),ct=b.FORE,Ot=Vr(H);if(H!==!1&&(Object(o.s)(H,"custom")?L=this.createCustomLegend(s,c,y,H):y.isLinear?L=this.createContinuousLegend(s,c,y,H):y.isCategory&&(L=this.createCategoryLegend(s,c,y,H))),L)return L.set("field",y.field),{id:this.getId(y.field),component:L,layer:ct,direction:Ot,type:M.LEGEND,extra:{scale:y}}},h.prototype.createCustomLegend=function(s,c,y,L){var H=this.getCategoryCfg(s,c,y,L,!0);return new Ut(H)},h.prototype.createContinuousLegend=function(s,c,y,L){var H=this.getContinuousCfg(s,c,y,L);return new Jt(H)},h.prototype.createCategoryLegend=function(s,c,y,L){var H=this.getCategoryCfg(s,c,y,L);return new Ut(H)},h.prototype.getContinuousCfg=function(s,c,y,L){var H=y.getTicks(),ct=Object(o.m)(H,function(be){return be.value===0}),Ot=Object(o.m)(H,function(be){return be.value===1}),zt=H.map(function(be){var He=be.value,er=be.tickValue,dr=c.mapping(y.invert(He)).join("");return{value:er,attrValue:dr,color:dr,scaleValue:He}});ct||zt.push({value:y.min,attrValue:c.mapping(y.invert(0)).join(""),color:c.mapping(y.invert(0)).join(""),scaleValue:0}),Ot||zt.push({value:y.max,attrValue:c.mapping(y.invert(1)).join(""),color:c.mapping(y.invert(1)).join(""),scaleValue:1}),zt.sort(function(be,He){return be.value-He.value});var Zt={min:Object(o.y)(zt).value,max:Object(o.S)(zt).value,colors:[],rail:{type:c.type},track:{}};c.type==="size"&&(Zt.track={style:{fill:c.type==="size"?this.view.getTheme().defaultColor:void 0}}),c.type==="color"&&(Zt.colors=zt.map(function(be){return be.attrValue}));var $t=this.container,te=Vr(L),ne=Ic(te),de=Object(o.s)(L,"title");return de&&(de=Object(o.h)({text:Yn(y)},de)),Zt.container=$t,Zt.layout=ne,Zt.title=de,Zt.animateOption=js,this.mergeLegendCfg(Zt,L,"continuous")},h.prototype.getCategoryCfg=function(s,c,y,L,H){var ct=this.container,Ot=Object(o.s)(L,"position",x.BOTTOM),zt=Uf(this.view.getTheme(),Ot),Zt=Object(o.s)(zt,["marker"]),$t=Object(o.s)(L,"marker"),te=Ic(Ot),ne=Object(o.s)(zt,["pageNavigator"]),de=Object(o.s)(L,"pageNavigator"),be=H?gl(Zt,$t,L.items):Sh(this.view,s,c,Zt,$t),He=Object(o.s)(L,"title");He&&(He=Object(o.h)({text:y?Yn(y):""},He));var er=this.getCategoryLegendSizeCfg(te);er.container=ct,er.layout=te,er.items=be,er.title=He,er.animateOption=js,er.pageNavigator=Object(o.h)({},ne,de);var dr=this.mergeLegendCfg(er,L,Ot);dr.reversed&&dr.items.reverse();var yr=Object(o.s)(dr,"maxItemWidth");return yr&&yr<=1&&(dr.maxItemWidth=this.view.viewBBox.width*yr),dr},h.prototype.mergeLegendCfg=function(s,c,y){var L=y.split("-")[0],H=Uf(this.view.getTheme(),L);return Object(o.h)({},H,s,c)},h.prototype.getId=function(s){return this.name+"-"+s},h.prototype.getComponentById=function(s){return Object(o.m)(this.components,function(c){return c.id===s})},h.prototype.getCategoryLegendSizeCfg=function(s){var c=this.view.viewBBox,y=c.width,L=c.height;return s==="vertical"?{maxWidth:y*p,maxHeight:L}:{maxWidth:y,maxHeight:L*p}},h}(hl),qr=cn,en=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;return c.onChangeFn=o.db,c.resetMeasure=function(){c.clear()},c.onValueChange=function(y){var L=y[0],H=y[1];c.start=L,c.end=H,c.changeViewData(L,H)},c.container=c.view.getLayer(b.FORE).addGroup(),c.onChangeFn=Object(o.nb)(c.onValueChange,20,{leading:!0}),c.width=0,c.view.on(C.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(C.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),h.prototype.destroy=function(){g.prototype.destroy.call(this),this.view.off(C.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(C.BEFORE_CHANGE_SIZE,this.resetMeasure)},h.prototype.init=function(){},h.prototype.render=function(){this.option=this.view.getOptions().slider;var s=this.getSliderCfg(),c=s.start,y=s.end;Object(o.I)(this.start)&&(this.start=c,this.end=y);var L=this.view.getOptions().data;this.option&&!Object(o.F)(L)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},h.prototype.layout=function(){var s=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.start,s.end)},0)),this.slider){var c=this.view.coordinateBBox.width,y=this.slider.component.get("padding"),L=y[0],H=y[1],ct=y[2],Ot=y[3],zt=this.slider.component.getLayoutBBox(),Zt=new vn(zt.x,zt.y,Math.min(zt.width,c),zt.height).expand(y),$t=this.getMinMaxText(this.start,this.end),te=$t.minText,ne=$t.maxText,de=tl(this.view.viewBBox,Zt,x.BOTTOM),be=de[0],He=de[1],er=tl(this.view.coordinateBBox,Zt,x.BOTTOM),dr=er[0],yr=er[1];this.slider.component.update(Object(d.a)(Object(d.a)({},this.getSliderCfg()),{x:dr+Ot,y:He+L,width:this.width,start:this.start,end:this.end,minText:te,maxText:ne})),this.view.viewBBox=this.view.viewBBox.cut(Zt,x.BOTTOM)}},h.prototype.update=function(){this.render()},h.prototype.createSlider=function(){var s=this.getSliderCfg(),c=new Rt.Slider(Object(d.a)({container:this.container},s));return c.init(),{component:c,layer:b.FORE,direction:x.BOTTOM,type:M.SLIDER}},h.prototype.updateSlider=function(){var s=this.getSliderCfg();if(this.width){var c=this.getMinMaxText(this.start,this.end),y=c.minText,L=c.maxText;s=Object(d.a)(Object(d.a)({},s),{width:this.width,start:this.start,end:this.end,minText:y,maxText:L})}return this.slider.component.update(s),this.slider},h.prototype.measureSlider=function(){var s=this.getSliderCfg().width;this.width=s},h.prototype.getSliderCfg=function(){var s={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(o.M)(this.option)){var c=Object(d.a)({data:this.getData()},Object(o.s)(this.option,"trendCfg",{}));s=Object(o.h)({},s,this.getThemeOptions(),this.option),s=Object(d.a)(Object(d.a)({},s),{trendCfg:c})}return s.start=Object(o.c)(Math.min(Object(o.I)(s.start)?0:s.start,Object(o.I)(s.end)?1:s.end),0,1),s.end=Object(o.c)(Math.max(Object(o.I)(s.start)?0:s.start,Object(o.I)(s.end)?1:s.end),0,1),s},h.prototype.getData=function(){var s=this.view.getOptions().data,c=this.view.getYScales()[0],y=this.view.getGroupScales();if(y.length){var L=y[0],H=L.field,ct=L.ticks;return s.reduce(function(Ot,zt){return zt[H]===ct[0]&&Ot.push(zt[c.field]),Ot},[])}return s.map(function(Ot){return Ot[c.field]||0})},h.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(o.s)(s,["components","slider","common"],{})},h.prototype.getMinMaxText=function(s,c){var y=this.view.getOptions().data,L=this.view.getXScale(),H=!0,ct=Object(o.vb)(y,L.field),Ot=H?ct:ct.reverse(),zt=Object(o.jb)(y);if(!L||!zt)return{};var Zt=Object(o.jb)(Ot),$t=Math.floor(s*(Zt-1)),te=Math.floor(c*(Zt-1)),ne=Object(o.s)(Ot,[$t]),de=Object(o.s)(Ot,[te]),be=this.getSliderCfg().formatter;return be&&(ne=be(ne,y[$t],$t),de=be(de,y[te],te)),{minText:ne,maxText:de}},h.prototype.changeViewData=function(s,c){var y=this.view.getOptions().data,L=this.view.getXScale(),H=Object(o.jb)(y);if(!(!L||!H)){var ct=!0,Ot=Object(o.vb)(y,L.field),zt=ct?Ot:Ot.reverse(),Zt=Object(o.jb)(zt),$t=Math.floor(s*(Zt-1)),te=Math.floor(c*(Zt-1));this.view.filter(L.field,function(ne,de){var be=zt.indexOf(ne);return be>-1?Ze(be,$t,te):!0}),this.view.render(!0)}},h.prototype.getComponents=function(){return this.slider?[this.slider]:[]},h.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},h}(hl),fn=en,yn=0,gn=8,ln=32,cr=20,lr=function(g){Object(d.c)(h,g);function h(s){var c=g.call(this,s)||this;return c.onChangeFn=o.db,c.resetMeasure=function(){c.clear()},c.onValueChange=function(y){var L=y.ratio,H=c.getValidScrollbarCfg().animate;c.ratio=Object(o.c)(L,0,1);var ct=c.view.getOptions().animate;H||c.view.animate(!1),c.changeViewData(c.getScrollRange(),!0),c.view.animate(ct)},c.container=c.view.getLayer(b.FORE).addGroup(),c.onChangeFn=Object(o.nb)(c.onValueChange,20,{leading:!0}),c.trackLen=0,c.thumbLen=0,c.ratio=0,c.view.on(C.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(C.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),h.prototype.destroy=function(){g.prototype.destroy.call(this),this.view.off(C.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(C.BEFORE_CHANGE_SIZE,this.resetMeasure)},h.prototype.init=function(){},h.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},h.prototype.layout=function(){var s=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.getScrollRange(),!0)})),this.scrollbar){var c=this.view.coordinateBBox.width,y=this.scrollbar.component.get("padding"),L=this.scrollbar.component.getLayoutBBox(),H=new vn(L.x,L.y,Math.min(L.width,c),L.height).expand(y),ct=this.getScrollbarComponentCfg(),Ot=void 0,zt=void 0;if(ct.isHorizontal){var Zt=tl(this.view.viewBBox,H,x.BOTTOM),$t=Zt[0],te=Zt[1],ne=tl(this.view.coordinateBBox,H,x.BOTTOM),de=ne[0],be=ne[1];Ot=de,zt=te}else{var He=tl(this.view.viewBBox,H,x.RIGHT),$t=He[0],te=He[1],er=tl(this.view.viewBBox,H,x.RIGHT),de=er[0],be=er[1];Ot=de,zt=te}Ot+=y[3],zt+=y[0],this.trackLen?this.scrollbar.component.update(Object(d.a)(Object(d.a)({},ct),{x:Ot,y:zt,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(d.a)(Object(d.a)({},ct),{x:Ot,y:zt})),this.view.viewBBox=this.view.viewBBox.cut(H,ct.isHorizontal?x.BOTTOM:x.RIGHT)}},h.prototype.update=function(){this.render()},h.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},h.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},h.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(o.s)(s,["components","scrollbar","common"],{})},h.prototype.getScrollbarTheme=function(s){var c=Object(o.s)(this.view.getTheme(),["components","scrollbar"]),y=s||{},L=y.thumbHighlightColor,H=Object(d.e)(y,["thumbHighlightColor"]);return{default:Object(o.h)({},Object(o.s)(c,["default","style"],{}),H),hover:Object(o.h)({},Object(o.s)(c,["hover","style"],{}),{thumbColor:L})}},h.prototype.measureScrollbar=function(){var s=this.view.getXScale(),c=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var y=this.getScrollbarComponentCfg(),L=y.trackLen,H=y.thumbLen;this.trackLen=L,this.thumbLen=H,this.xScaleCfg={field:s.field,values:s.values||[]},this.yScalesCfg=c},h.prototype.getScrollRange=function(){var s=Math.floor((this.cnt-this.step)*Object(o.c)(this.ratio,0,1)),c=Math.min(s+this.step-1,this.cnt-1);return[s,c]},h.prototype.changeViewData=function(s,c){var y=this,L=s[0],H=s[1],ct=this.getValidScrollbarCfg().type,Ot=ct!=="vertical",zt=Object(o.vb)(this.data,this.xScaleCfg.field),Zt=Ot?zt:zt.reverse();this.yScalesCfg.forEach(function($t){y.view.scale($t.field,{formatter:$t.formatter,type:$t.type,min:$t.min,max:$t.max})}),this.view.filter(this.xScaleCfg.field,function($t){var te=Zt.indexOf($t);return te>-1?Ze(te,L,H):!0}),this.view.render(!0)},h.prototype.createScrollbar=function(){var s=this.getValidScrollbarCfg().type,c=s!=="vertical",y=new Rt.Scrollbar(Object(d.a)(Object(d.a)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return y.init(),{component:y,layer:b.FORE,direction:c?x.BOTTOM:x.RIGHT,type:M.SCROLLBAR}},h.prototype.updateScrollbar=function(){var s=this.getScrollbarComponentCfg(),c=this.trackLen?Object(d.a)(Object(d.a)({},s),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(d.a)({},s);return this.scrollbar.component.update(c),this.scrollbar},h.prototype.getStep=function(){if(this.step)return this.step;var s=this.view.coordinateBBox,c=this.getValidScrollbarCfg(),y=c.type,L=c.categorySize,H=y!=="vertical";return Math.floor((H?s.width:s.height)/L)},h.prototype.getCnt=function(){if(this.cnt)return this.cnt;var s=this.view.getXScale(),c=this.view.getOptions().data,y=Object(o.vb)(c,s.field);return Object(o.jb)(y)},h.prototype.getScrollbarComponentCfg=function(){var s=this.view,c=s.coordinateBBox,y=s.viewBBox,L=this.getValidScrollbarCfg(),H=L.type,ct=L.padding,Ot=L.width,zt=L.height,Zt=L.style,$t=H!=="vertical",te=ct[0],ne=ct[1],de=ct[2],be=ct[3],He=$t?{x:c.minX+be,y:y.maxY-zt-de}:{x:y.maxX-Ot-ne,y:c.minY+te},er=this.getStep(),dr=this.getCnt(),yr=$t?c.width-be-ne:c.height-te-de,nn=Math.max(yr*Object(o.c)(er/dr,0,1),cr);return Object(d.a)(Object(d.a)({},this.getThemeOptions()),{x:He.x,y:He.y,size:$t?zt:Ot,isHorizontal:$t,trackLen:yr,thumbLen:nn,thumbOffset:0,theme:this.getScrollbarTheme(Zt)})},h.prototype.getValidScrollbarCfg=function(){var s={type:"horizontal",categorySize:ln,width:gn,height:gn,padding:[0,0,0,0],animate:!0,style:{}};return Object(o.M)(this.option)&&(s=Object(d.a)(Object(d.a)({},s),this.option)),(!Object(o.M)(this.option)||!this.option.padding)&&(s.padding=s.type==="horizontal"?[yn,0,yn,0]:[0,yn,0,yn]),s},h}(hl),tn=lr,Cn={fill:"#CCD6EC",opacity:.3},Ar=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.show=function(s){var c=this.context.view,y=this.context.event,L=c.getTooltipItems({x:y.x,y:y.y});if(!Object(o.G)(L,this.items)&&(this.items=L,L.length)){var H=c.getXScale().field,ct=L[0].data[H],Ot=[],zt=c.geometries;if(Object(o.j)(zt,function(To){if(To.type==="interval"||To.type==="schema"){var Oo=To.getElementsBy(function(uf){var _l=uf.getData();return _l[H]===ct});Ot=Ot.concat(Oo)}}),Ot.length){var Zt=c.getCoordinate(),$t=Ot[0].shape.getCanvasBBox(),te=Ot[0].shape.getCanvasBBox(),ne=$t;Object(o.j)(Ot,function(To){var Oo=To.shape.getCanvasBBox();Zt.isTransposed?(Oo.minY<$t.minY&&($t=Oo),Oo.maxY>te.maxY&&(te=Oo)):(Oo.minX<$t.minX&&($t=Oo),Oo.maxX>te.maxX&&(te=Oo)),ne.x=Math.min(Oo.minX,ne.minX),ne.y=Math.min(Oo.minY,ne.minY),ne.width=Math.max(Oo.maxX,ne.maxX)-ne.x,ne.height=Math.max(Oo.maxY,ne.maxY)-ne.y});var de=c.backgroundGroup,be=c.coordinateBBox,He=void 0;if(Zt.isRect){var er=c.getXScale(),dr=er.isLinear?0:.25,yr=void 0,nn=void 0,un=void 0,dn=void 0;Zt.isTransposed?(yr=be.minX,nn=Math.min(te.minY,$t.minY)-dr*te.height,un=be.width,dn=ne.height+dr*2*te.height):(yr=Math.min($t.minX,te.minX)-dr*$t.width,nn=Math.min(be.minY,$t.minY),un=ne.width+dr*2*$t.width,dn=be.height),He=[["M",yr,nn],["L",yr+un,nn],["L",yr+un,nn+dn],["L",yr,nn+dn],["Z"]]}else{var va=Object(o.y)(Ot),na=Object(o.S)(Ot),$n=nr(va.getModel(),Zt).startAngle,Ia=nr(na.getModel(),Zt).endAngle,ai=Zt.getCenter(),_a=Zt.getRadius(),ji=Zt.innerRadius*_a;He=Pe(ai.x,ai.y,_a,$n,Ia,ji)}if(this.regionPath)this.regionPath.attr("path",He),this.regionPath.show();else{var Mo=Object(o.s)(s,"style",Cn);this.regionPath=de.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(d.a)(Object(d.a)({},Mo),{path:He})})}}}},h.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},h.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),g.prototype.destroy.call(this)},h}(Ai),zn=Ar,Fr=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.timeStamp=0,s}return h.prototype.show=function(){var s=this.context,c=s.event,y=s.view,L=y.isTooltipLocked();if(!L){var H=this.timeStamp,ct=+new Date,Ot=Object(o.s)(s.view.getOptions(),"tooltip.showDelay",16);if(ct-H>Ot){var zt=this.location,Zt={x:c.x,y:c.y};(!zt||!Object(o.G)(zt,Zt))&&this.showTooltip(y,Zt),this.timeStamp=ct,this.location=Zt}}},h.prototype.hide=function(){var s=this.context.view,c=s.getController("tooltip"),y=this.context.event,L=y.clientX,H=y.clientY;c.isCursorEntered({x:L,y:H})||s.isTooltipLocked()||(this.hideTooltip(s),this.location=null)},h.prototype.showTooltip=function(s,c){s.showTooltip(c)},h.prototype.hideTooltip=function(s){s.hideTooltip()},h}(Ai),Kr=Fr,Yr=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.showTooltip=function(s,c){var y=qi(s);Object(o.j)(y,function(L){var H=_o(s,L,c);L.showTooltip(H)})},h.prototype.hideTooltip=function(s){var c=qi(s);Object(o.j)(c,function(y){y.hideTooltip()})},h}(Kr),an=Yr,Un=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.timeStamp=0,s}return h.prototype.destroy=function(){g.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},h.prototype.show=function(){var s=this.context,c=s.event,y=this.timeStamp,L=+new Date;if(L-y>16){var H=this.location,ct={x:c.x,y:c.y};(!H||!Object(o.G)(H,ct))&&this.showTooltip(ct),this.timeStamp=L,this.location=ct}},h.prototype.hide=function(){this.hideTooltip(),this.location=null},h.prototype.showTooltip=function(s){var c=this.context,y=c.event,L=y.target;if(L&&L.get("tip")){this.tooltip||this.renderTooltip();var H=L.get("tip");this.tooltip.update(Object(d.a)({title:H},s)),this.tooltip.show()}},h.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},h.prototype.renderTooltip=function(){var s,c=this.context.view,y=c.canvas,L={start:{x:0,y:0},end:{x:y.get("width"),y:y.get("height")}},H=c.getTheme(),ct=Object(o.s)(H,["components","tooltip","domStyles"],{}),Ot=new se({parent:y.get("el").parentNode,region:L,visible:!1,crosshairs:null,domStyles:Object(d.a)({},Object(o.h)({},ct,(s={},s[Rt.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},s[Rt.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},s)))});Ot.init(),Ot.setCapture(!1),this.tooltip=Ot},h}(Ai),sa=Un,pn=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="",s}return h.prototype.hasState=function(s){return s.hasState(this.stateName)},h.prototype.setElementState=function(s,c){s.setState(this.stateName,c)},h.prototype.setState=function(){this.setStateEnable(!0)},h.prototype.clear=function(){var s=this.context.view;this.clearViewState(s)},h.prototype.clearViewState=function(s){var c=this,y=Lo(s,this.stateName);Object(o.j)(y,function(L){c.setElementState(L,!1)})},h}(Ai),rn=pn;function ur(g){return Object(o.s)(g.get("delegateObject"),"item")}var Hn=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.ignoreListItemStates=["unchecked"],s}return h.prototype.isItemIgnore=function(s,c){var y=this.ignoreListItemStates,L=y.filter(function(H){return c.hasState(s,H)});return!!L.length},h.prototype.setStateByComponent=function(s,c,y){var L=this.context.view,H=s.get("field"),ct=Ua(L);this.setElementsStateByItem(ct,H,c,y)},h.prototype.setStateByElement=function(s,c){this.setElementState(s,c)},h.prototype.isMathItem=function(s,c,y){var L=this.context.view,H=jo(L,c),ct=hi(s,c);return!Object(o.I)(ct)&&y.name===H.getText(ct)},h.prototype.setElementsStateByItem=function(s,c,y,L){var H=this;Object(o.j)(s,function(ct){H.isMathItem(ct,c,y)&&ct.setState(H.stateName,L)})},h.prototype.setStateEnable=function(s){var c=Ga(this.context);if(c)si(this.context)&&this.setStateByElement(c,s);else{var y=fi(this.context);if(Di(y)){var L=y.item,H=y.component;if(L&&H&&!this.isItemIgnore(L,H)){var ct=this.context.event.gEvent;if(ct&&ct.fromShape&&ct.toShape&&ur(ct.fromShape)===ur(ct.toShape))return;this.setStateByComponent(H,L,s)}}}},h.prototype.toggle=function(){var s=Ga(this.context);if(s){var c=s.hasState(this.stateName);this.setElementState(s,!c)}},h.prototype.reset=function(){this.setStateEnable(!1)},h}(rn),pa=Hn,Pn=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(pa),Ea=Pn,ca=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.cache={},s}return h.prototype.getColorScale=function(s,c){var y=c.geometry.getAttribute("color");if(!y)return null;var L=s.getScaleByField(y.getFields()[0]);return L},h.prototype.getLinkPath=function(s,c){var y=this.context.view,L=y.getCoordinate().isTransposed,H=s.shape.getCanvasBBox(),ct=c.shape.getCanvasBBox(),Ot=L?[["M",H.minX,H.minY],["L",ct.minX,ct.maxY],["L",ct.maxX,ct.maxY],["L",H.maxX,H.minY],["Z"]]:[["M",H.maxX,H.minY],["L",ct.minX,ct.minY],["L",ct.minX,ct.maxY],["L",H.maxX,H.maxY],["Z"]];return Ot},h.prototype.addLinkShape=function(s,c,y){s.addShape({type:"path",attrs:{opacity:.4,fill:c.shape.attr("fill"),path:this.getLinkPath(c,y)}})},h.prototype.linkByElement=function(s){var c=this,y=this.context.view,L=this.getColorScale(y,s);if(!!L){var H=hi(s,L.field);if(!this.cache[H]){var ct=qn(y,L.field,H),Ot=this.linkGroup,zt=Ot.addGroup();this.cache[H]=zt;var Zt=ct.length;Object(o.j)(ct,function($t,te){if(te<Zt-1){var ne=ct[te+1];c.addLinkShape(zt,$t,ne)}})}}},h.prototype.removeLink=function(s){var c=this.getColorScale(this.context.view,s);if(!!c){var y=hi(s,c.field);this.cache[y]&&(this.cache[y].remove(),this.cache[y]=null)}},h.prototype.link=function(){var s=this.context;this.linkGroup||(this.linkGroup=s.view.foregroundGroup.addGroup({capture:!1}));var c=Ga(s);c&&this.linkByElement(c)},h.prototype.unlink=function(){var s=Ga(this.context);s&&this.removeLink(s)},h.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},h.prototype.destroy=function(){g.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},h}(Ai),Bn=ca,Wa=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.startPoint=null,s.endPoint=null,s.isStarted=!1,s.effectSiblings=!1,s.effectByRecord=!1,s}return h.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},h.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},h.prototype.getIntersectElements=function(){var s=null;if(so(this.context))s=Ui(this.context,10);else{var c=this.startPoint,y=this.isStarted?this.getCurrentPoint():this.endPoint;if(!c||!y)return;var L={minX:Math.min(c.x,y.x),minY:Math.min(c.y,y.y),maxX:Math.max(c.x,y.x),maxY:Math.max(c.y,y.y)},H=this.context.view;s=zo(H,L)}return s},h.prototype.setStateEnable=function(s){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(s);else{var c=Ua(this.context.view),y=this.getIntersectElements();y&&y.length?this.effectByRecord?this.setSiblingsStateByRecord(y,s):this.setElementsState(y,s,c):this.clear()}},h.prototype.setSiblingsStateByRecord=function(s,c){var y=this,L=this.context.view,H=qi(L),ct=s.map(function(Zt){return Zt.getModel().data}),Ot=L.getXScale().field,zt=L.getYScales()[0].field;Object(o.j)(H,function(Zt){var $t=Ua(Zt),te=$t.filter(function(ne){var de=ne.getModel().data;return cl(ct,de,Ot,zt)});y.setElementsState(te,c,$t)})},h.prototype.setSiblingsState=function(s){var c=this,y=this.context.view,L=qi(y);so(this.context)&&Object(o.j)(L,function(H){var ct=Ua(H),Ot=ve(c.context,H,10);Ot&&Ot.length?c.setElementsState(Ot,s,ct):c.clearViewState(H)})},h.prototype.setElementsState=function(s,c,y){var L=this;Object(o.j)(y,function(H){s.includes(H)?L.setElementState(H,c):L.setElementState(H,!1)})},h.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},h.prototype.clear=function(){var s=this,c=this.context.view;if(this.effectSiblings){var y=qi(c);Object(o.j)(y,function(L){s.clearViewState(L)})}else this.clearViewState(c)},h}(rn),ja=Wa,Va=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(ja),kn=Va,Ka=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.setStateEnable=function(s){var c=Ga(this.context);if(c){if(!si(this.context))return;s?(this.clear(),this.setElementState(c,!0)):this.hasState(c)&&this.setElementState(c,!1)}},h.prototype.toggle=function(){var s=Ga(this.context);if(s){var c=this.hasState(s);c||this.clear(),this.setElementState(s,!c)}},h.prototype.reset=function(){this.setStateEnable(!1)},h}(rn),Qa=Ka,ki=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(Qa),Yi=ki,Li="inactive",Na="active";function Sn(g){var h=Ua(g);Object(o.j)(h,function(s){s.hasState(Na)&&s.setState(Na,!1),s.hasState(Li)&&s.setState(Li,!1)})}function yi(g,h,s){Object(o.j)(g,function(c){h(c)?(c.hasState(Li)&&c.setState(Li,!1),c.setState(Na,s)):(c.hasState(Na)&&c.setState(Na,!1),c.setState(Li,s))})}var la=E.INACTIVE,ni=E.ACTIVE,za=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName=ni,s}return h.prototype.setElementsStateByItem=function(s,c,y,L){var H=this,ct=function(zt){return H.isMathItem(zt,c,y)};this.setHighlightBy(s,ct,L)},h.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState(la)&&s.setState(la,!1),s.setState(ni,!0)):s.hasState(ni)||s.setState(la,!0)},h.prototype.setHighlightBy=function(s,c,y){var L=this;if(y)Object(o.j)(s,function(Ot){L.setElementHighlight(Ot,c)});else{var H=Lo(this.context.view,ni),ct=!0;Object(o.j)(H,function(Ot){if(!c(Ot))return ct=!1,!1}),ct?this.clear():Object(o.j)(s,function(Ot){c(Ot)&&(Ot.hasState(ni)&&Ot.setState(ni,!1),Ot.setState(la,!0))})}},h.prototype.setElementState=function(s,c){var y=this.context.view,L=Ua(y);this.setHighlightBy(L,function(H){return s===H},c)},h.prototype.highlight=function(){this.setState()},h.prototype.clear=function(){var s=this.context.view;Sn(s)},h}(pa),Zn=za,ya=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.setStateByElement=function(s,c){var y=this.context.view,L=s.geometry.getAttribute("color");if(!!L){var H=y.getScaleByField(L.getFields()[0]),ct=hi(s,H.field),Ot=Ua(y),zt=Ot.filter(function(Zt){return hi(Zt,H.field)===ct});this.setHighlightBy(Ot,function(Zt){return zt.includes(Zt)},c)}},h}(Zn),Ra=ya,Vi=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState(la)&&s.setState(la,!1),s.setState(ni,!0)):(s.setState(la,!0),s.hasState(ni)&&s.setState(ni,!1))},h.prototype.setStateByElement=function(s,c){var y=this.context.view,L=y.getXScale(),H=hi(s,L.field),ct=Ua(y),Ot=ct.filter(function(zt){return hi(zt,L.field)===H});this.setHighlightBy(ct,function(zt){return Ot.includes(zt)},c)},h.prototype.toggle=function(){var s=Ga(this.context);if(s){var c=s.hasState(this.stateName);this.setStateByElement(s,!c)}},h}(Zn),wo=Vi,Ql=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.clearViewState=function(s){Sn(s)},h.prototype.highlight=function(){this.setState()},h.prototype.setElementsState=function(s,c,y){yi(y,function(L){return s.indexOf(L)>=0},c)},h}(ja),Ae=Ql,hr=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.highlight=function(){this.setState()},h.prototype.setElementState=function(s,c){var y=this.context.view,L=Ua(y);yi(L,function(H){return s===H},c)},h.prototype.clear=function(){var s=this.context.view;Sn(s)},h}(Qa),_e=hr,Tn=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(ja),ma=Tn,Se=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(pa),ce=Se,Re=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(Qa),Je=Re,qe=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="",s.ignoreItemStates=[],s}return h.prototype.getTriggerListInfo=function(){var s=fi(this.context),c=null;return Di(s)&&(c={item:s.item,list:s.component}),c},h.prototype.getAllowComponents=function(){var s=this,c=this.context.view,y=us(c),L=[];return Object(o.j)(y,function(H){H.isList()&&s.allowSetStateByElement(H)&&L.push(H)}),L},h.prototype.hasState=function(s,c){return s.hasState(c,this.stateName)},h.prototype.clearAllComponentsState=function(){var s=this,c=this.getAllowComponents();Object(o.j)(c,function(y){y.clearItemsState(s.stateName)})},h.prototype.allowSetStateByElement=function(s){var c=s.get("field");if(!c)return!1;if(this.cfg&&this.cfg.componentNames){var y=s.get("name");if(this.cfg.componentNames.indexOf(y)===-1)return!1}var L=this.context.view,H=jo(L,c);return H&&H.isCategory},h.prototype.allowSetStateByItem=function(s,c){var y=this.ignoreItemStates;if(y.length){var L=y.filter(function(H){return c.hasState(s,H)});return L.length===0}return!0},h.prototype.setStateByElement=function(s,c,y){var L=s.get("field"),H=this.context.view,ct=jo(H,L),Ot=hi(c,L),zt=ct.getText(Ot);this.setItemsState(s,zt,y)},h.prototype.setStateEnable=function(s){var c=this,y=Ga(this.context);if(y){var L=this.getAllowComponents();Object(o.j)(L,function(zt){c.setStateByElement(zt,y,s)})}else{var H=fi(this.context);if(Di(H)){var ct=H.item,Ot=H.component;this.allowSetStateByElement(Ot)&&this.allowSetStateByItem(ct,Ot)&&this.setItemState(Ot,ct,s)}}},h.prototype.setItemsState=function(s,c,y){var L=this,H=s.getItems();Object(o.j)(H,function(ct){ct.name===c&&L.setItemState(s,ct,y)})},h.prototype.setItemState=function(s,c,y){s.setItemState(c,this.stateName,y)},h.prototype.setState=function(){this.setStateEnable(!0)},h.prototype.reset=function(){this.setStateEnable(!1)},h.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,y=s.item,L=this.hasState(c,y);this.setItemState(c,y,!L)}},h.prototype.clear=function(){var s=this.getTriggerListInfo();s?s.list.clearItemsState(this.stateName):this.clearAllComponentsState()},h}(Ai),Fe=qe,Be=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(Fe),Ve=Be,Ee="inactive",je="active";function ye(g){var h=g.getItems();Object(o.j)(h,function(s){g.hasState(s,je)&&g.setItemState(s,je,!1),g.hasState(s,Ee)&&g.setItemState(s,Ee,!1)})}var Ke="inactive",tr="active",jr=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName=tr,s.ignoreItemStates=["unchecked"],s}return h.prototype.setItemsState=function(s,c,y){this.setHighlightBy(s,function(L){return L.name===c},y)},h.prototype.setItemState=function(s,c,y){var L=s.getItems();this.setHighlightBy(s,function(H){return H===c},y)},h.prototype.setHighlightBy=function(s,c,y){var L=s.getItems();if(y)Object(o.j)(L,function(Ot){c(Ot)?(s.hasState(Ot,Ke)&&s.setItemState(Ot,Ke,!1),s.setItemState(Ot,tr,!0)):s.hasState(Ot,tr)||s.setItemState(Ot,Ke,!0)});else{var H=s.getItemsByState(tr),ct=!0;Object(o.j)(H,function(Ot){if(!c(Ot))return ct=!1,!1}),ct?this.clear():Object(o.j)(L,function(Ot){c(Ot)&&(s.hasState(Ot,tr)&&s.setItemState(Ot,tr,!1),s.setItemState(Ot,Ke,!0))})}},h.prototype.highlight=function(){this.setState()},h.prototype.clear=function(){var s=this.getTriggerListInfo();if(s)ye(s.list);else{var c=this.getAllowComponents();Object(o.j)(c,function(y){y.clearItemsState(tr),y.clearItemsState(Ke)})}},h}(Fe),wr=jr,Er=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(Fe),on=Er,Wn=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName="unchecked",s}return h.prototype.unchecked=function(){this.setState()},h}(Fe),Oa=Wn,An="unchecked",Kn="checked",ha=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.stateName=Kn,s}return h.prototype.setItemState=function(s,c,y){this.setCheckedBy(s,function(L){return L===c},y)},h.prototype.setCheckedBy=function(s,c,y){var L=s.getItems();y&&Object(o.j)(L,function(H){c(H)?(s.hasState(H,An)&&s.setItemState(H,An,!1),s.setItemState(H,Kn,!0)):s.hasState(H,Kn)||s.setItemState(H,An,!0)})},h.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,y=s.item,L=!Object(o.kb)(c.getItems(),function(H){return c.hasState(H,An)});L||c.hasState(y,An)?this.setItemState(c,y,!0):this.reset()}},h.prototype.checked=function(){this.setState()},h.prototype.reset=function(){var s=this.getAllowComponents();Object(o.j)(s,function(c){c.clearItemsState(Kn),c.clearItemsState(An)})},h}(Fe),wa=ha,xi=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.maskShape=null,s.points=[],s.starting=!1,s.moving=!1,s.preMovePoint=null,s.shapeType="path",s}return h.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},h.prototype.emitEvent=function(s){var c="mask:"+s,y=this.context.view,L=this.context.event;y.emit(c,{target:this.maskShape,shape:this.maskShape,points:this.points,x:L.x,y:L.y})},h.prototype.createMask=function(){var s=this.context.view,c=this.getMaskAttrs(),y=s.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(d.a)({fill:"#C5D4EB",opacity:.3},c)});return y},h.prototype.getMaskPath=function(){return[]},h.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},h.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},h.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},h.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var s=this.getCurrentPoint(),c=this.preMovePoint,y=s.x-c.x,L=s.y-c.y,H=this.points;Object(o.j)(H,function(ct){ct.x+=y,ct.y+=L}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=s}},h.prototype.updateMask=function(){var s=this.getMaskAttrs();this.maskShape.attr(s)},h.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},h.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},h.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},h.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},h.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,g.prototype.destroy.call(this)},h}(Ai),co=xi,bo=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.shapeType="circle",s}return h.prototype.getMaskAttrs=function(){var s=this.points,c=Object(o.S)(this.points),y=0,L=0,H=0;if(s.length){var ct=s[0];y=Jo(ct,c)/2,L=(c.x+ct.x)/2,H=(c.y+ct.y)/2}return{x:L,y:H,r:y}},h}(co),Ei=bo,el=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.shapeType="rect",s}return h.prototype.getRegion=function(){var s=this.points;return{start:Object(o.y)(s),end:Object(o.S)(s)}},h.prototype.getMaskAttrs=function(){var s=this.getRegion(),c=s.start,y=s.end,L=Math.min(c.x,y.x),H=Math.min(c.y,y.y),ct=Math.abs(y.x-c.x),Ot=Math.abs(y.y-c.y);return{x:L,y:H,width:ct,height:Ot}},h}(co),ds=el;function of(g){g.x=Object(o.c)(g.x,0,1),g.y=Object(o.c)(g.y,0,1)}var _h=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.dim="x",s.inPlot=!0,s}return h.prototype.getRegion=function(){var s=null,c=null,y=this.points,L=this.dim,H=this.context.view.getCoordinate(),ct=H.invert(Object(o.y)(y)),Ot=H.invert(Object(o.S)(y));return this.inPlot&&(of(ct),of(Ot)),L==="x"?(s=H.convert({x:ct.x,y:0}),c=H.convert({x:Ot.x,y:1})):(s=H.convert({x:0,y:ct.y}),c=H.convert({x:1,y:Ot.y})),{start:s,end:c}},h}(ds),Mv=_h,dg=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getMaskPath=function(){var s=this.points,c=[];return s.length&&(Object(o.j)(s,function(y,L){L===0?c.push(["M",y.x,y.y]):c.push(["L",y.x,y.y])}),c.push(["L",s[0].x,s[0].y])),c},h.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},h.prototype.addPoint=function(){this.resize()},h}(co),Jd=dg,vg=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getMaskPath=function(){var s=this.points;return gi(s,!0)},h}(Jd),sf=vg,lh=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.setCursor=function(s){var c=this.context.view;c.getCanvas().setCursor(s)},h.prototype.default=function(){this.setCursor("default")},h.prototype.pointer=function(){this.setCursor("pointer")},h.prototype.move=function(){this.setCursor("move")},h.prototype.crosshair=function(){this.setCursor("crosshair")},h.prototype.wait=function(){this.setCursor("wait")},h.prototype.help=function(){this.setCursor("help")},h.prototype.text=function(){this.setCursor("text")},h.prototype.eResize=function(){this.setCursor("e-resize")},h.prototype.wResize=function(){this.setCursor("w-resize")},h.prototype.nResize=function(){this.setCursor("n-resize")},h.prototype.sResize=function(){this.setCursor("s-resize")},h.prototype.neResize=function(){this.setCursor("ne-resize")},h.prototype.nwResize=function(){this.setCursor("nw-resize")},h.prototype.seResize=function(){this.setCursor("se-resize")},h.prototype.swResize=function(){this.setCursor("sw-resize")},h.prototype.nsResize=function(){this.setCursor("ns-resize")},h.prototype.ewResize=function(){this.setCursor("ew-resize")},h}(Ai),uh=lh,Tv=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.filterView=function(s,c,y){var L=this;s.getScaleByField(c)&&s.filter(c,y),s.views&&s.views.length&&Object(o.j)(s.views,function(H){L.filterView(H,c,y)})},h.prototype.filter=function(){var s=fi(this.context);if(s){var c=this.context.view,y=s.component,L=y.get("field");if(Di(s)){if(L){var H=y.getItemsByState("unchecked"),ct=jo(c,L),Ot=H.map(function(te){return te.name});Ot.length?this.filterView(c,L,function(te){var ne=ct.getText(te);return!Ot.includes(ne)}):this.filterView(c,L,null),c.render(!0)}}else if(oo(s)){var zt=y.getValue(),Zt=zt[0],$t=zt[1];this.filterView(c,L,function(te){return te>=Zt&&te<=$t}),c.render(!0)}}},h}(Ai),qh=Tv;function lf(g,h,s,c){var y=Math.min(s[h],c[h]),L=Math.max(s[h],c[h]),H=g.range,ct=H[0],Ot=H[1];if(y<ct&&(y=ct),L>Ot&&(L=Ot),y===Ot&&L===Ot)return null;var zt=g.invert(y),Zt=g.invert(L);if(g.isCategory){var $t=g.values.indexOf(zt),te=g.values.indexOf(Zt),ne=g.values.slice($t,te+1);return function(de){return ne.includes(de)}}else return function(de){return de>=zt&&de<=Zt}}var td=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.dims=["x","y"],s.startPoint=null,s.isStarted=!1,s}return h.prototype.hasDim=function(s){return this.dims.includes(s)},h.prototype.start=function(){var s=this.context;this.isStarted=!0,this.startPoint=s.getCurrentPoint()},h.prototype.filter=function(){var s,c;if(so(this.context)){var y=this.context.event.target,L=y.getCanvasBBox();s={x:L.x,y:L.y},c={x:L.maxX,y:L.maxY}}else{if(!this.isStarted)return;s=this.startPoint,c=this.context.getCurrentPoint()}if(!(Math.abs(s.x-c.x)<5||Math.abs(s.x-c.y)<5)){var H=this.context.view,ct=H.getCoordinate(),Ot=ct.invert(c),zt=ct.invert(s);if(this.hasDim("x")){var Zt=H.getXScale(),$t=lf(Zt,"x",Ot,zt);this.filterView(H,Zt.field,$t)}if(this.hasDim("y")){var te=H.getYScales()[0],$t=lf(te,"y",Ot,zt);this.filterView(H,te.field,$t)}this.reRender(H)}},h.prototype.end=function(){this.isStarted=!1},h.prototype.reset=function(){var s=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var c=s.getXScale();this.filterView(s,c.field,null)}if(this.hasDim("y")){var y=s.getYScales()[0];this.filterView(s,y.field,null)}this.reRender(s)},h.prototype.filterView=function(s,c,y){s.filter(c,y)},h.prototype.reRender=function(s){s.render(!0)},h}(Ai),Ml=td,ed=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.filterView=function(s,c,y){var L=qi(s);Object(o.j)(L,function(H){H.filter(c,y)})},h.prototype.reRender=function(s){var c=qi(s);Object(o.j)(c,function(y){y.render(!0)})},h}(Ml),nc=ed,Av=function(g){Object(d.c)(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.filter=function(){var s=fi(this.context),c=this.context.view,y=Ua(c);if(so(this.context)){var L=Ui(this.context,10);L&&Object(o.j)(y,function(de){L.includes(de)?de.show():de.hide()})}else if(s){var H=s.component,ct=H.get("field");if(Di(s)){if(ct){var Ot=H.getItemsByState("unchecked"),zt=jo(c,ct),Zt=Ot.map(function(de){return de.name});Object(o.j)(y,function(de){var be=hi(de,ct),He=zt.getText(be);Zt.indexOf(He)>=0?de.hide():de.show()})}}else if(oo(s)){var $t=H.getValue(),te=$t[0],ne=$t[1];Object(o.j)(y,function(de){var be=hi(de,ct);be>=te&&be<=ne?de.show():de.hide()})}}},h.prototype.clear=function(){var s=Ua(this.context.view);Object(o.j)(s,function(c){c.show()})},h.prototype.reset=function(){this.clear()},h}(Ai),Iv=Av,gg=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.byRecord=!1,s}return h.prototype.filter=function(){so(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},h.prototype.filterByRecord=function(){var s=this.context.view,c=Ui(this.context,10);if(!!c){var y=s.getXScale().field,L=s.getYScales()[0].field,H=c.map(function(Ot){return Ot.getModel().data}),ct=qi(s);Object(o.j)(ct,function(Ot){var zt=Ua(Ot);Object(o.j)(zt,function(Zt){var $t=Zt.getModel().data;cl(H,$t,y,L)?Zt.show():Zt.hide()})})}},h.prototype.filterByBBox=function(){var s=this,c=this.context.view,y=qi(c);Object(o.j)(y,function(L){var H=ve(s.context,L,10),ct=Ua(L);H&&Object(o.j)(ct,function(Ot){H.includes(Ot)?Ot.show():Ot.hide()})})},h.prototype.reset=function(){var s=qi(this.context.view);Object(o.j)(s,function(c){var y=Ua(c);Object(o.j)(y,function(L){L.show()})})},h}(Ai),rd=gg,Dv=10,pg=5,Pv=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.buttonGroup=null,s.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},s}return h.prototype.getButtonCfg=function(){return Object(o.h)(this.buttonCfg,this.cfg)},h.prototype.drawButton=function(){var s=this.getButtonCfg(),c=this.context.view.foregroundGroup.addGroup({name:s.name}),y=c.addShape({type:"text",name:"button-text",attrs:Object(d.a)({text:s.text},s.textStyle)}),L=y.getBBox(),H=ke(s.padding),ct=c.addShape({type:"rect",name:"button-rect",attrs:Object(d.a)({x:L.x-H[3],y:L.y-H[0],width:L.width+H[1]+H[3],height:L.height+H[0]+H[2]},s.style)});ct.toBack(),c.on("mouseenter",function(){ct.attr(s.activeStyle)}),c.on("mouseleave",function(){ct.attr(s.style)}),this.buttonGroup=c},h.prototype.resetPosition=function(){var s=this.context.view,c=s.getCoordinate(),y=c.convert({x:1,y:1}),L=this.buttonGroup,H=L.getBBox(),ct=V.a.transform(null,[["t",y.x-H.width-Dv,y.y+H.height+pg]]);L.setMatrix(ct)},h.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},h.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},h.prototype.destroy=function(){var s=this.buttonGroup;s&&s.remove(),g.prototype.destroy.call(this)},h}(Ai),yg=Pv,mg=4,_d=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.starting=!1,s.dragStart=!1,s}return h.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},h.prototype.drag=function(){if(!!this.startPoint){var s=this.context.getCurrentPoint(),c=this.context.view,y=this.context.event;this.dragStart?c.emit("drag",{target:y.target,x:y.x,y:y.y}):Jo(s,this.startPoint)>mg&&(c.emit("dragstart",{target:y.target,x:y.x,y:y.y}),this.dragStart=!0)}},h.prototype.end=function(){if(this.dragStart){var s=this.context.view,c=this.context.event;s.emit("dragend",{target:c.target,x:c.x,y:c.y})}this.starting=!1,this.dragStart=!1},h}(Ai),bg=_d,Og=5,Lv=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.starting=!1,s.isMoving=!1,s.startPoint=null,s.startMatrix=null,s}return h.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},h.prototype.move=function(){if(!!this.starting){var s=this.startPoint,c=this.context.getCurrentPoint(),y=Jo(s,c);if(y>Og&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var L=this.context.view,H=V.a.transform(this.startMatrix,[["t",c.x-s.x,c.y-s.y]]);L.backgroundGroup.setMatrix(H),L.foregroundGroup.setMatrix(H),L.middleGroup.setMatrix(H)}}},h.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},h.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var s=this.context.view;s.backgroundGroup.resetMatrix(),s.foregroundGroup.resetMatrix(),s.middleGroup.resetMatrix(),this.isMoving=!1},h}(Ai),xg=Lv,jv="x",Rv="y",Eg=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.dims=[jv,Rv],s.cfgFields=["dims"],s.cacheScaleDefs={},s}return h.prototype.hasDim=function(s){return this.dims.includes(s)},h.prototype.getScale=function(s){var c=this.context.view;return s==="x"?c.getXScale():c.getYScales()[0]},h.prototype.resetDim=function(s){var c=this.context.view;if(this.hasDim(s)&&this.cacheScaleDefs[s]){var y=this.getScale(s);c.scale(y.field,this.cacheScaleDefs[s]),this.cacheScaleDefs[s]=null}},h.prototype.reset=function(){this.resetDim(jv),this.resetDim(Rv);var s=this.context.view;s.render(!0)},h}(Ai),wv=Eg,Bv=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.startPoint=null,s.starting=!1,s.startCache={},s}return h.prototype.start=function(){var s=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var c=this.dims;Object(o.j)(c,function(y){var L=s.getScale(y),H=L.min,ct=L.max,Ot=L.values;s.startCache[y]={min:H,max:ct,values:Ot}})},h.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},h.prototype.translate=function(){var s=this;if(!!this.starting){var c=this.startPoint,y=this.context.view.getCoordinate(),L=this.context.getCurrentPoint(),H=y.invert(c),ct=y.invert(L),Ot=ct.x-H.x,zt=ct.y-H.y,Zt=this.context.view,$t=this.dims;Object(o.j)($t,function(te){s.translateDim(te,{x:Ot*-1,y:zt*-1})}),Zt.render(!0)}},h.prototype.translateDim=function(s,c){if(this.hasDim(s)){var y=this.getScale(s);y.isLinear&&this.translateLinear(s,y,c)}},h.prototype.translateLinear=function(s,c,y){var L=this.context.view,H=this.startCache[s],ct=H.min,Ot=H.max,zt=Ot-ct,Zt=y[s]*zt;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:ct,max:Ot}),L.scale(c.field,{nice:!1,min:ct+Zt,max:Ot+Zt})},h.prototype.reset=function(){g.prototype.reset.call(this),this.startPoint=null,this.starting=!1},h}(wv),Nv=Bv,Sg=function(g){Object(d.c)(h,g);function h(){var s=g!==null&&g.apply(this,arguments)||this;return s.zoomRatio=.05,s}return h.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},h.prototype.zoom=function(s){var c=this,y=this.dims;Object(o.j)(y,function(L){c.zoomDim(L,s)}),this.context.view.render(!0)},h.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},h.prototype.zoomDim=function(s,c){if(this.hasDim(s)){var y=this.getScale(s);y.isLinear&&this.zoomLinear(s,y,c)}},h.prototype.zoomLinear=function(s,c,y){var L=this.context.view;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:c.min,max:c.max});var H=this.cacheScaleDefs[s],ct=H.max-H.min,Ot=c.min,zt=c.max,Zt=y*ct,$t=Ot-Zt,te=zt+Zt,ne=te-$t,de=ne/ct;te>$t&&de<100&&de>.01&&L.scale(c.field,{nice:!1,min:Ot-Zt,max:zt+Zt})},h}(wv),Cg=Sg;oa("dark",$e(Gu)),z("canvas",Pc),z("svg",Lc),Os("Polygon",Dh),Os("Interval",Ih),Os("Schema",zc),Os("Path",La),Os("Point",Bd),Os("Line",Yf),Os("Area",uo),Os("Edge",Mh),Os("Heatmap",qo),vl("base",jl),vl("interval",_f),vl("pie",Zc),vl("polar",Yc),to("overlap",Nh),to("distribute",Yu),to("fixed-overlap",th),to("hide-overlap",Gh),to("limit-in-shape",Zu),to("limit-in-canvas",zl),to("limit-in-plot",Kl),to("pie-outer",ts),to("adjust-color",Ud),to("interval-adjust-position",Vd),to("interval-hide-overlap",Xd),to("point-adjust-position",Qu),to("pie-spider",$c),to("path-adjust-position",Ou),mo("fade-in",Ju),mo("fade-out",_u),mo("grow-in-x",qu),mo("grow-in-xy",Vh),mo("grow-in-y",Yl),mo("scale-in-x",Hh),mo("scale-in-y",Cl),mo("wave-in",Hd),mo("zoom-in",Kd),mo("zoom-out",Ms),mo("position-update",Xh),mo("sector-path-update",es),mo("path-in",nh),Uo("rect",oh),Uo("mirror",pr),Uo("list",Mn),Uo("matrix",zi),Uo("circle",Kh),Uo("tree",Zd),Hr("axis",sh),Hr("legend",qr),Hr("tooltip",Df),Hr("annotation",rc),Hr("slider",fn),Hr("scrollbar",tn),ua("tooltip",Kr),ua("sibling-tooltip",an),ua("ellipsis-text",sa),ua("element-active",Ea),ua("element-single-active",Yi),ua("element-range-active",kn),ua("element-highlight",Zn),ua("element-highlight-by-x",wo),ua("element-highlight-by-color",Ra),ua("element-single-highlight",_e),ua("element-range-highlight",Ae),ua("element-sibling-highlight",Ae,{effectSiblings:!0,effectByRecord:!0}),ua("element-selected",ce),ua("element-single-selected",Je),ua("element-range-selected",ma),ua("element-link-by-color",Bn),ua("active-region",zn),ua("list-active",Ve),ua("list-selected",on),ua("list-highlight",wr),ua("list-unchecked",Oa),ua("list-checked",wa),ua("legend-item-highlight",wr,{componentNames:["legend"]}),ua("axis-label-highlight",wr,{componentNames:["axis"]}),ua("rect-mask",ds),ua("x-rect-mask",Mv,{dim:"x"}),ua("y-rect-mask",Mv,{dim:"y"}),ua("circle-mask",Ei),ua("path-mask",Jd),ua("smooth-path-mask",sf),ua("cursor",uh),ua("data-filter",qh),ua("brush",Ml),ua("brush-x",Ml,{dims:["x"]}),ua("brush-y",Ml,{dims:["y"]}),ua("sibling-filter",nc),ua("sibling-x-filter",nc),ua("sibling-y-filter",nc),ua("element-filter",Iv),ua("element-sibling-filter",rd),ua("element-sibling-filter-record",rd,{byRecord:!0}),ua("view-drag",bg),ua("view-move",xg),ua("scale-translate",Nv),ua("scale-zoom",Cg),ua("reset-button",yg,{name:"reset-button",text:"reset"});function Jl(g){return g.isInPlot()}xe("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),xe("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),xe("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),xe("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),xe("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),xe("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),xe("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),xe("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),xe("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),xe("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),xe("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),xe("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(h){return!h.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(h){return!h.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),xe("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Jl,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Jl,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Jl,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),xe("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),xe("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Jl,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Jl,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Jl,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),xe("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Jl,action:"path-mask:start"},{trigger:"mousedown",isEnable:Jl,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),xe("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),xe("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),xe("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),xe("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),xe("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),xe("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function nd(g){return g.gEvent.preventDefault(),g.gEvent.originalEvent.deltaY>0}xe("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(h){return nd(h.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(h){return!nd(h.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),xe("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},"196R":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.STACK_OVERFLOW=P.CIRCULAR_DEPENDENCY_IN_FACTORY=P.POST_CONSTRUCT_ERROR=P.MULTIPLE_POST_CONSTRUCT_METHODS=P.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=P.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=P.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=P.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=P.ARGUMENTS_LENGTH_MISMATCH=P.INVALID_DECORATOR_OPERATION=P.INVALID_TO_SELF_VALUE=P.INVALID_FUNCTION_BINDING=P.INVALID_MIDDLEWARE_RETURN=P.NO_MORE_SNAPSHOTS_AVAILABLE=P.INVALID_BINDING_TYPE=P.NOT_IMPLEMENTED=P.CIRCULAR_DEPENDENCY=P.UNDEFINED_INJECT_ANNOTATION=P.MISSING_INJECT_ANNOTATION=P.MISSING_INJECTABLE_ANNOTATION=P.NOT_REGISTERED=P.CANNOT_UNBIND=P.AMBIGUOUS_MATCH=P.KEY_NOT_FOUND=P.NULL_ARGUMENT=P.DUPLICATED_METADATA=P.DUPLICATED_INJECTABLE_DECORATOR=void 0,P.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",P.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",P.NULL_ARGUMENT="NULL argument",P.KEY_NOT_FOUND="Key Not Found",P.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",P.CANNOT_UNBIND="Could not unbind serviceIdentifier:",P.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",P.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",P.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var d=function(D){return"@inject called with undefined this could mean that the class "+D+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};P.UNDEFINED_INJECT_ANNOTATION=d,P.CIRCULAR_DEPENDENCY="Circular dependency found:",P.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",P.INVALID_BINDING_TYPE="Invalid binding type:",P.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",P.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",P.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",P.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",P.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var o=function(){for(var D=[],C=0;C<arguments.length;C++)D[C]=arguments[C];return"The number of constructor arguments in the derived class "+(D[0]+" must be >= than the number of constructor arguments of its base class.")};P.ARGUMENTS_LENGTH_MISMATCH=o,P.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",P.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",P.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",P.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",P.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var b=function(){for(var D=[],C=0;C<arguments.length;C++)D[C]=arguments[C];return"@postConstruct error in class "+D[0]+": "+D[1]};P.POST_CONSTRUCT_ERROR=b;var x=function(){for(var D=[],C=0;C<arguments.length;C++)D[C]=arguments[C];return"It looks like there is a circular dependency "+("in one of the '"+D[0]+"' bindings. Please investigate bindings with")+("service identifier '"+D[1]+"'.")};P.CIRCULAR_DEPENDENCY_IN_FACTORY=x,P.STACK_OVERFLOW="Maximum call stack size exceeded"},"1ImO":function(wt,P,i){var d=i("SOgk");function o(b,x){var M=[];return d(b,function(D,C,S){x(D,C,S)&&M.push(D)}),M}wt.exports=o},"1MGC":function(wt,P,i){"use strict";i.d(P,"b",function(){return x}),i.d(P,"a",function(){return M});var d=i("J+IK"),o=i("jg4I"),b=i("6AqY");function x(D,C,S,O){var E=Object(o.fb)(D,function(I,A){var R=A[S],B=I.has(R)?I.get(R):0,p=A[C];return B=Object(b.b)(p)?B+p:B,I.set(R,B),I},new Map);return Object(o.U)(D,function(I){var A,R=I[C],B=I[S],p=Object(b.b)(R)?R/E.get(B):0;return Object(d.a)(Object(d.a)({},I),(A={},A[O]=p,A))})}function M(D,C,S,O,E){return E?x(D,C,S,O):D}},"1RCG":function(wt,P){wt.exports="2.1.8"},"1ZgE":function(wt,P){},"1ban":function(wt,P,i){var d=i("kDK3"),o={};for(var b in d)d.hasOwnProperty(b)&&(o[d[b]]=b);var x=wt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var M in x)if(x.hasOwnProperty(M)){if(!("channels"in x[M]))throw new Error("missing channels property: "+M);if(!("labels"in x[M]))throw new Error("missing channel labels property: "+M);if(x[M].labels.length!==x[M].channels)throw new Error("channel and label counts mismatch: "+M);var D=x[M].channels,C=x[M].labels;delete x[M].channels,delete x[M].labels,Object.defineProperty(x[M],"channels",{value:D}),Object.defineProperty(x[M],"labels",{value:C})}x.rgb.hsl=function(O){var E=O[0]/255,I=O[1]/255,A=O[2]/255,R=Math.min(E,I,A),B=Math.max(E,I,A),p=B-R,G,W,z;return B===R?G=0:E===B?G=(I-A)/p:I===B?G=2+(A-E)/p:A===B&&(G=4+(E-I)/p),G=Math.min(G*60,360),G<0&&(G+=360),z=(R+B)/2,B===R?W=0:z<=.5?W=p/(B+R):W=p/(2-B-R),[G,W*100,z*100]},x.rgb.hsv=function(O){var E,I,A,R,B,p=O[0]/255,G=O[1]/255,W=O[2]/255,z=Math.max(p,G,W),N=z-Math.min(p,G,W),j=function(k){return(z-k)/6/N+1/2};return N===0?R=B=0:(B=N/z,E=j(p),I=j(G),A=j(W),p===z?R=A-I:G===z?R=1/3+E-A:W===z&&(R=2/3+I-E),R<0?R+=1:R>1&&(R-=1)),[R*360,B*100,z*100]},x.rgb.hwb=function(O){var E=O[0],I=O[1],A=O[2],R=x.rgb.hsl(O)[0],B=1/255*Math.min(E,Math.min(I,A));return A=1-1/255*Math.max(E,Math.max(I,A)),[R,B*100,A*100]},x.rgb.cmyk=function(O){var E=O[0]/255,I=O[1]/255,A=O[2]/255,R,B,p,G;return G=Math.min(1-E,1-I,1-A),R=(1-E-G)/(1-G)||0,B=(1-I-G)/(1-G)||0,p=(1-A-G)/(1-G)||0,[R*100,B*100,p*100,G*100]};function S(O,E){return Math.pow(O[0]-E[0],2)+Math.pow(O[1]-E[1],2)+Math.pow(O[2]-E[2],2)}x.rgb.keyword=function(O){var E=o[O];if(E)return E;var I=Infinity,A;for(var R in d)if(d.hasOwnProperty(R)){var B=d[R],p=S(O,B);p<I&&(I=p,A=R)}return A},x.keyword.rgb=function(O){return d[O]},x.rgb.xyz=function(O){var E=O[0]/255,I=O[1]/255,A=O[2]/255;E=E>.04045?Math.pow((E+.055)/1.055,2.4):E/12.92,I=I>.04045?Math.pow((I+.055)/1.055,2.4):I/12.92,A=A>.04045?Math.pow((A+.055)/1.055,2.4):A/12.92;var R=E*.4124+I*.3576+A*.1805,B=E*.2126+I*.7152+A*.0722,p=E*.0193+I*.1192+A*.9505;return[R*100,B*100,p*100]},x.rgb.lab=function(O){var E=x.rgb.xyz(O),I=E[0],A=E[1],R=E[2],B,p,G;return I/=95.047,A/=100,R/=108.883,I=I>.008856?Math.pow(I,1/3):7.787*I+16/116,A=A>.008856?Math.pow(A,1/3):7.787*A+16/116,R=R>.008856?Math.pow(R,1/3):7.787*R+16/116,B=116*A-16,p=500*(I-A),G=200*(A-R),[B,p,G]},x.hsl.rgb=function(O){var E=O[0]/360,I=O[1]/100,A=O[2]/100,R,B,p,G,W;if(I===0)return W=A*255,[W,W,W];A<.5?B=A*(1+I):B=A+I-A*I,R=2*A-B,G=[0,0,0];for(var z=0;z<3;z++)p=E+1/3*-(z-1),p<0&&p++,p>1&&p--,6*p<1?W=R+(B-R)*6*p:2*p<1?W=B:3*p<2?W=R+(B-R)*(2/3-p)*6:W=R,G[z]=W*255;return G},x.hsl.hsv=function(O){var E=O[0],I=O[1]/100,A=O[2]/100,R=I,B=Math.max(A,.01),p,G;return A*=2,I*=A<=1?A:2-A,R*=B<=1?B:2-B,G=(A+I)/2,p=A===0?2*R/(B+R):2*I/(A+I),[E,p*100,G*100]},x.hsv.rgb=function(O){var E=O[0]/60,I=O[1]/100,A=O[2]/100,R=Math.floor(E)%6,B=E-Math.floor(E),p=255*A*(1-I),G=255*A*(1-I*B),W=255*A*(1-I*(1-B));switch(A*=255,R){case 0:return[A,W,p];case 1:return[G,A,p];case 2:return[p,A,W];case 3:return[p,G,A];case 4:return[W,p,A];case 5:return[A,p,G]}},x.hsv.hsl=function(O){var E=O[0],I=O[1]/100,A=O[2]/100,R=Math.max(A,.01),B,p,G;return G=(2-I)*A,B=(2-I)*R,p=I*R,p/=B<=1?B:2-B,p=p||0,G/=2,[E,p*100,G*100]},x.hwb.rgb=function(O){var E=O[0]/360,I=O[1]/100,A=O[2]/100,R=I+A,B,p,G,W;R>1&&(I/=R,A/=R),B=Math.floor(6*E),p=1-A,G=6*E-B,(B&1)!=0&&(G=1-G),W=I+G*(p-I);var z,N,j;switch(B){default:case 6:case 0:z=p,N=W,j=I;break;case 1:z=W,N=p,j=I;break;case 2:z=I,N=p,j=W;break;case 3:z=I,N=W,j=p;break;case 4:z=W,N=I,j=p;break;case 5:z=p,N=I,j=W;break}return[z*255,N*255,j*255]},x.cmyk.rgb=function(O){var E=O[0]/100,I=O[1]/100,A=O[2]/100,R=O[3]/100,B,p,G;return B=1-Math.min(1,E*(1-R)+R),p=1-Math.min(1,I*(1-R)+R),G=1-Math.min(1,A*(1-R)+R),[B*255,p*255,G*255]},x.xyz.rgb=function(O){var E=O[0]/100,I=O[1]/100,A=O[2]/100,R,B,p;return R=E*3.2406+I*-1.5372+A*-.4986,B=E*-.9689+I*1.8758+A*.0415,p=E*.0557+I*-.204+A*1.057,R=R>.0031308?1.055*Math.pow(R,1/2.4)-.055:R*12.92,B=B>.0031308?1.055*Math.pow(B,1/2.4)-.055:B*12.92,p=p>.0031308?1.055*Math.pow(p,1/2.4)-.055:p*12.92,R=Math.min(Math.max(0,R),1),B=Math.min(Math.max(0,B),1),p=Math.min(Math.max(0,p),1),[R*255,B*255,p*255]},x.xyz.lab=function(O){var E=O[0],I=O[1],A=O[2],R,B,p;return E/=95.047,I/=100,A/=108.883,E=E>.008856?Math.pow(E,1/3):7.787*E+16/116,I=I>.008856?Math.pow(I,1/3):7.787*I+16/116,A=A>.008856?Math.pow(A,1/3):7.787*A+16/116,R=116*I-16,B=500*(E-I),p=200*(I-A),[R,B,p]},x.lab.xyz=function(O){var E=O[0],I=O[1],A=O[2],R,B,p;B=(E+16)/116,R=I/500+B,p=B-A/200;var G=Math.pow(B,3),W=Math.pow(R,3),z=Math.pow(p,3);return B=G>.008856?G:(B-16/116)/7.787,R=W>.008856?W:(R-16/116)/7.787,p=z>.008856?z:(p-16/116)/7.787,R*=95.047,B*=100,p*=108.883,[R,B,p]},x.lab.lch=function(O){var E=O[0],I=O[1],A=O[2],R,B,p;return R=Math.atan2(A,I),B=R*360/2/Math.PI,B<0&&(B+=360),p=Math.sqrt(I*I+A*A),[E,p,B]},x.lch.lab=function(O){var E=O[0],I=O[1],A=O[2],R,B,p;return p=A/360*2*Math.PI,R=I*Math.cos(p),B=I*Math.sin(p),[E,R,B]},x.rgb.ansi16=function(O){var E=O[0],I=O[1],A=O[2],R=1 in arguments?arguments[1]:x.rgb.hsv(O)[2];if(R=Math.round(R/50),R===0)return 30;var B=30+(Math.round(A/255)<<2|Math.round(I/255)<<1|Math.round(E/255));return R===2&&(B+=60),B},x.hsv.ansi16=function(O){return x.rgb.ansi16(x.hsv.rgb(O),O[2])},x.rgb.ansi256=function(O){var E=O[0],I=O[1],A=O[2];if(E===I&&I===A)return E<8?16:E>248?231:Math.round((E-8)/247*24)+232;var R=16+36*Math.round(E/255*5)+6*Math.round(I/255*5)+Math.round(A/255*5);return R},x.ansi16.rgb=function(O){var E=O%10;if(E===0||E===7)return O>50&&(E+=3.5),E=E/10.5*255,[E,E,E];var I=(~~(O>50)+1)*.5,A=(E&1)*I*255,R=(E>>1&1)*I*255,B=(E>>2&1)*I*255;return[A,R,B]},x.ansi256.rgb=function(O){if(O>=232){var E=(O-232)*10+8;return[E,E,E]}O-=16;var I,A=Math.floor(O/36)/5*255,R=Math.floor((I=O%36)/6)/5*255,B=I%6/5*255;return[A,R,B]},x.rgb.hex=function(O){var E=((Math.round(O[0])&255)<<16)+((Math.round(O[1])&255)<<8)+(Math.round(O[2])&255),I=E.toString(16).toUpperCase();return"000000".substring(I.length)+I},x.hex.rgb=function(O){var E=O.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!E)return[0,0,0];var I=E[0];E[0].length===3&&(I=I.split("").map(function(G){return G+G}).join(""));var A=parseInt(I,16),R=A>>16&255,B=A>>8&255,p=A&255;return[R,B,p]},x.rgb.hcg=function(O){var E=O[0]/255,I=O[1]/255,A=O[2]/255,R=Math.max(Math.max(E,I),A),B=Math.min(Math.min(E,I),A),p=R-B,G,W;return p<1?G=B/(1-p):G=0,p<=0?W=0:R===E?W=(I-A)/p%6:R===I?W=2+(A-E)/p:W=4+(E-I)/p+4,W/=6,W%=1,[W*360,p*100,G*100]},x.hsl.hcg=function(O){var E=O[1]/100,I=O[2]/100,A=1,R=0;return I<.5?A=2*E*I:A=2*E*(1-I),A<1&&(R=(I-.5*A)/(1-A)),[O[0],A*100,R*100]},x.hsv.hcg=function(O){var E=O[1]/100,I=O[2]/100,A=E*I,R=0;return A<1&&(R=(I-A)/(1-A)),[O[0],A*100,R*100]},x.hcg.rgb=function(O){var E=O[0]/360,I=O[1]/100,A=O[2]/100;if(I===0)return[A*255,A*255,A*255];var R=[0,0,0],B=E%1*6,p=B%1,G=1-p,W=0;switch(Math.floor(B)){case 0:R[0]=1,R[1]=p,R[2]=0;break;case 1:R[0]=G,R[1]=1,R[2]=0;break;case 2:R[0]=0,R[1]=1,R[2]=p;break;case 3:R[0]=0,R[1]=G,R[2]=1;break;case 4:R[0]=p,R[1]=0,R[2]=1;break;default:R[0]=1,R[1]=0,R[2]=G}return W=(1-I)*A,[(I*R[0]+W)*255,(I*R[1]+W)*255,(I*R[2]+W)*255]},x.hcg.hsv=function(O){var E=O[1]/100,I=O[2]/100,A=E+I*(1-E),R=0;return A>0&&(R=E/A),[O[0],R*100,A*100]},x.hcg.hsl=function(O){var E=O[1]/100,I=O[2]/100,A=I*(1-E)+.5*E,R=0;return A>0&&A<.5?R=E/(2*A):A>=.5&&A<1&&(R=E/(2*(1-A))),[O[0],R*100,A*100]},x.hcg.hwb=function(O){var E=O[1]/100,I=O[2]/100,A=E+I*(1-E);return[O[0],(A-E)*100,(1-A)*100]},x.hwb.hcg=function(O){var E=O[1]/100,I=O[2]/100,A=1-I,R=A-E,B=0;return R<1&&(B=(A-R)/(1-R)),[O[0],R*100,B*100]},x.apple.rgb=function(O){return[O[0]/65535*255,O[1]/65535*255,O[2]/65535*255]},x.rgb.apple=function(O){return[O[0]/255*65535,O[1]/255*65535,O[2]/255*65535]},x.gray.rgb=function(O){return[O[0]/100*255,O[0]/100*255,O[0]/100*255]},x.gray.hsl=x.gray.hsv=function(O){return[0,0,O[0]]},x.gray.hwb=function(O){return[0,100,O[0]]},x.gray.cmyk=function(O){return[0,0,0,O[0]]},x.gray.lab=function(O){return[O[0],0,0]},x.gray.hex=function(O){var E=Math.round(O[0]/100*255)&255,I=(E<<16)+(E<<8)+E,A=I.toString(16).toUpperCase();return"000000".substring(A.length)+A},x.rgb.gray=function(O){var E=(O[0]+O[1]+O[2])/3;return[E/255*100]}},"2+60":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.TargetTypeEnum=P.BindingTypeEnum=P.BindingScopeEnum=void 0;var d={Request:"Request",Singleton:"Singleton",Transient:"Transient"};P.BindingScopeEnum=d;var o={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};P.BindingTypeEnum=o;var b={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};P.TargetTypeEnum=b},"25gg":function(wt,P){function i(o,b){for(var x=0;x<b.length;x++){var M=b[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(o,M.key,M)}}function d(o,b,x){return b&&i(o.prototype,b),x&&i(o,x),o}wt.exports=d,wt.exports.default=wt.exports,wt.exports.__esModule=!0},"287h":function(wt,P,i){"use strict";var d=i("J+IK"),o=i("U8wd");function b(R,B){if(B){var p=Object(o.invert)(B);return Object(o.multiplyVec2)(p,R)}return R}function x(R,B,p){var G=R.getTotalMatrix();if(G){var W=b([B,p,1],G),z=W[0],N=W[1];return[z,N]}return[B,p]}function M(R,B,p){if(R.isCanvas&&R.isCanvas())return!0;if(!Object(o.isAllowCapture)(R)||R.cfg.isInView===!1)return!1;if(R.cfg.clipShape){var G=x(R,B,p),W=G[0],z=G[1];if(R.isClipped(W,z))return!1}var N=R.cfg.cacheCanvasBBox||R.getCanvasBBox();return B>=N.minX&&B<=N.maxX&&p>=N.minY&&p<=N.maxY}function D(R,B,p){if(!M(R,B,p))return null;for(var G=null,W=R.getChildren(),z=W.length,N=z-1;N>=0;N--){var j=W[N];if(j.isGroup())G=D(j,B,p);else if(M(j,B,p)){var F=j,k=x(j,B,p),$=k[0],nt=k[1];F.isInShape($,nt)&&(G=j)}if(G)break}return G}var C=i("Nqgf"),S=i("nl+T"),O=i("bsNZ"),E=i("K0hn"),I=function(R){Object(d.c)(B,R);function B(){return R!==null&&R.apply(this,arguments)||this}return B.prototype.getDefaultCfg=function(){var p=R.prototype.getDefaultCfg.call(this);return p.renderer="canvas",p.autoDraw=!0,p.localRefresh=!0,p.refreshElements=[],p.clipView=!0,p.quickHit=!1,p},B.prototype.onCanvasChange=function(p){(p==="attr"||p==="sort"||p==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},B.prototype.getShapeBase=function(){return C},B.prototype.getGroupBase=function(){return S.a},B.prototype.getPixelRatio=function(){var p=this.get("pixelRatio")||Object(O.d)();return p>=1?Math.ceil(p):1},B.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},B.prototype.createDom=function(){var p=document.createElement("canvas"),G=p.getContext("2d");return this.set("context",G),p},B.prototype.setDOMSize=function(p,G){R.prototype.setDOMSize.call(this,p,G);var W=this.get("context"),z=this.get("el"),N=this.getPixelRatio();z.width=N*p,z.height=N*G,N>1&&W.scale(N,N)},B.prototype.clear=function(){R.prototype.clear.call(this),this._clearFrame();var p=this.get("context"),G=this.get("el");p.clearRect(0,0,G.width,G.height)},B.prototype.getShape=function(p,G){var W;return this.get("quickHit")?W=D(this,p,G):W=R.prototype.getShape.call(this,p,G,null),W},B.prototype._getRefreshRegion=function(){var p=this.get("refreshElements"),G=this.getViewRange(),W;if(p.length&&p[0]===this)W=G;else if(W=Object(E.f)(p),W){W.minX=Math.floor(W.minX),W.minY=Math.floor(W.minY),W.maxX=Math.ceil(W.maxX),W.maxY=Math.ceil(W.maxY),W.maxY+=1;var z=this.get("clipView");z&&(W=Object(E.g)(W,G))}return W},B.prototype.refreshElement=function(p){var G=this.get("refreshElements");G.push(p)},B.prototype._clearFrame=function(){var p=this.get("drawFrame");p&&(Object(O.a)(p),this.set("drawFrame",null),this.set("refreshElements",[]))},B.prototype.draw=function(){var p=this.get("drawFrame");this.get("autoDraw")&&p||this._startDraw()},B.prototype._drawAll=function(){var p=this.get("context"),G=this.get("el"),W=this.getChildren();p.clearRect(0,0,G.width,G.height),Object(E.a)(p,this),Object(E.d)(p,W),this.set("refreshElements",[])},B.prototype._drawRegion=function(){var p=this.get("context"),G=this.get("refreshElements"),W=this.getChildren(),z=this._getRefreshRegion();z?(p.clearRect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),p.save(),p.beginPath(),p.rect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),p.clip(),Object(E.a)(p,this),Object(E.b)(this,W,z),Object(E.d)(p,W,z),p.restore()):G.length&&Object(E.c)(G),Object(O.c)(G,function(N){N.get("hasChanged")&&N.set("hasChanged",!1)}),this.set("refreshElements",[])},B.prototype._startDraw=function(){var p=this,G=this.get("drawFrame");G||(G=Object(O.n)(function(){p.get("localRefresh")?p._drawRegion():p._drawAll(),p.set("drawFrame",null)}),this.set("drawFrame",G))},B.prototype.skipDraw=function(){},B.prototype.removeDom=function(){var p=this.get("el");p.width=0,p.height=0,p.parentNode.removeChild(p)},B}(o.AbstractCanvas),A=P.a=I},"2GXS":function(wt,P,i){var d=i("qTvU"),o=i("MbSy"),b=i("qXgj");function x(M){return b(o(M,void 0,d),M+"")}wt.exports=x},"2PUN":function(wt,P,i){var d=i("qgzk"),o=i("swOU");function b(x,M,D,C,S){var O=-1,E=x.length;for(D||(D=o),S||(S=[]);++O<E;){var I=x[O];M>0&&D(I)?M>1?b(I,M-1,D,C,S):d(S,I):C||(S[S.length]=I)}return S}wt.exports=b},"2Pg9":function(wt,P,i){"use strict";i.d(P,"AST_TOKEN_TYPES",function(){return K}),i.d(P,"STORAGE_CLASS",function(){return ut}),i.d(P,"Target",function(){return dt}),i.d(P,"DefineValuePlaceholder",function(){return vt});var d=i("BLox"),o=i.n(d),b=i("Hg9g"),x=i("BgQB"),M=i("P7eI"),D=i("J/Yx"),C=i("PkPV"),S=i("0os6"),O=i("//O1"),E=i("7stk"),I=i("AKnH"),A=i("aStn"),R=i("to4S"),B=i("CURf"),p=i("Vd04"),G=i("+q6o"),W=i("syls");i.d(P,"createEntity",function(){return W.b});var z=i("XN3X");i.d(P,"IDENTIFIER",function(){return z.a});var N=i("+jGG");i.d(P,"createWorldContainer",function(){return N.a});var j=i("MciM");i.d(P,"generateAABBFromVertices",function(){return j.a});var F=i("wUId");i.d(P,"isSafari",function(){return F.a});var k=i("S9go"),$=i("P6PP");i.d(P,"AABB",function(){return $.a}),i.d(P,"Frustum",function(){return $.b});var nt=i("Pmht");i.o(nt,"gl")&&i.d(P,"gl",function(){return nt.gl});var st=i("SJBz"),rt=i.n(st);i.o(st,"gl")&&i.d(P,"gl",function(){return st.gl});var Q=i("Aw3q"),Y=i.n(Q);i.o(Q,"gl")&&i.d(P,"gl",function(){return Q.gl}),i.o(nt,"gl")&&i.d(P,"gl",function(){return nt.gl});var K;(function(at){at.Void="Void",at.Boolean="Boolean",at.Float="Float",at.Uint32="Uint32",at.Int32="Int32",at.Vector="Vector",at.Vector2Float="vec2<f32>",at.Vector3Float="vec3<f32>",at.Vector4Float="vec4<f32>",at.Vector2Boolean="vec2<bool>",at.Vector3Boolean="vec3<bool>",at.Vector4Boolean="vec4<bool>",at.Vector2Uint="vec2<u32>",at.Vector3Uint="vec3<u32>",at.Vector4Uint="vec4<u32>",at.Vector2Int="vec2<i32>",at.Vector3Int="vec3<i32>",at.Vector4Int="vec4<i32>",at.Matrix="Matrix",at.Matrix3x3Float="mat3x3<f32>",at.Matrix4x4Float="mat4x4<i32>",at.Struct="Struct",at.FloatArray="Float[]",at.Vector4FloatArray="vec4<f32>[]"})(K||(K={}));var et;(function(at){at.Program="Program",at.Identifier="Identifier",at.VariableDeclaration="VariableDeclaration",at.BlockStatement="BlockStatement",at.ReturnStatement="ReturnStatement",at.FunctionDeclaration="FunctionDeclaration",at.VariableDeclarator="VariableDeclarator",at.AssignmentExpression="AssignmentExpression",at.LogicalExpression="LogicalExpression",at.BinaryExpression="BinaryExpression",at.ArrayExpression="ArrayExpression",at.UnaryExpression="UnaryExpression",at.UpdateExpression="UpdateExpression",at.FunctionExpression="FunctionExpression",at.MemberExpression="MemberExpression",at.ConditionalExpression="ConditionalExpression",at.ExpressionStatement="ExpressionStatement",at.CallExpression="CallExpression",at.NumThreadStatement="NumThreadStatement",at.StorageStatement="StorageStatement",at.DoWhileStatement="DoWhileStatement",at.WhileStatement="WhileStatement",at.ForStatement="ForStatement",at.BreakStatement="BreakStatement",at.ContinueStatement="ContinueStatement",at.IfStatement="IfStatement",at.ImportedFunctionStatement="ImportedFunctionStatement"})(et||(et={}));var ut;(function(at){at.Input="Input",at.Output="Output",at.Uniform="Uniform",at.Workgroup="Workgroup",at.UniformConstant="UniformConstant",at.Image="Image",at.StorageBuffer="StorageBuffer",at.Private="Private",at.Function="Function"})(ut||(ut={}));var dt;(function(at){at.GLSL100="GLSL100",at.GLSL450="GLSL450",at.WGSL="WGSL"})(dt||(dt={}));var vt="__DefineValuePlaceholder__"},"2dsA":function(wt,P,i){"use strict";i.d(P,"b",function(){return C}),i.d(P,"a",function(){return O});var d=i("jg4I"),o=i("Cw9K"),b=i("piQC"),x=i("AOO/"),M=i("DpQZ"),D=i("iqCt");function C(E){var I=E.chart,A=E.options,R=A.percent,B=A.progressStyle,p=A.color,G=A.barWidthRatio;I.data(Object(D.a)(R));var W=Object(o.b)({},E,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:G,interval:{style:B,color:Object(d.O)(p)?[p,M.a[1]]:p},args:{zIndexReversed:!0}}});return Object(x.c)(W),I.tooltip(!1),I.axis(!1),I.legend(!1),E}function S(E){var I=E.chart;return I.coordinate("rect").transpose(),E}function O(E){return Object(o.e)(C,Object(b.f)({}),S,b.a,b.j,Object(b.b)())(E)}},"2vMh":function(wt,P,i){var d=i("S8CN"),o=i("+D6J"),b=i("tqoU");function x(M,D,C){return D===D?b(M,D,C):d(M,o,C)}wt.exports=x},"3FqU":function(wt,P,i){var d=i("TJOf"),o=i("TpDJ");function b(x,M,D){(D!==void 0&&!o(x[M],D)||D===void 0&&!(M in x))&&d(x,M,D)}wt.exports=b},"3MnI":function(wt,P,i){var d=i("ql+n");wt.exports=o,o.CycleException=b;function o(x){var M={},D={},C=[];function S(O){if(d.has(D,O))throw new b;d.has(M,O)||(D[O]=!0,M[O]=!0,d.each(x.predecessors(O),S),delete D[O],C.push(O))}if(d.each(x.sinks(),S),d.size(M)!==x.nodeCount())throw new b;return C}function b(){}b.prototype=new Error},"3RHZ":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.QueryableString=void 0;var d=function(){function o(b){this.str=b}return o.prototype.startsWith=function(b){return this.str.indexOf(b)===0},o.prototype.endsWith=function(b){var x="",M=b.split("").reverse().join("");return x=this.str.split("").reverse().join(""),this.startsWith.call({str:x},M)},o.prototype.contains=function(b){return this.str.indexOf(b)!==-1},o.prototype.equals=function(b){return this.str===b},o.prototype.value=function(){return this.str},o}();P.QueryableString=d},"3f1o":function(wt,P,i){var d=i("spfM"),o=i("xOgS"),b=i("R3oX"),x=i("hQ5t"),M=i("8ifL"),D=i("+Gi7"),C=i("lDzS"),S=i("wmqP"),O=i("E5vS"),E=i("lOrw");function I(A,R,B){var p=D(A),G=p||C(A)||E(A);if(R=x(R,4),B==null){var W=A&&A.constructor;G?B=p?new W:[]:O(A)?B=S(W)?o(M(A)):{}:B={}}return(G?d:b)(A,function(z,N,j){return R(B,z,N,j)}),B}wt.exports=I},"3k0L":function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"d",function(){return o}),i.d(P,"b",function(){return b}),i.d(P,"c",function(){return x});var d=0,o=1/2,b=1/2,x=.05},"3qqr":function(wt,P,i){var d=i("YKhI");function o(b,x,M){for(var D=-1,C=b.criteria,S=x.criteria,O=C.length,E=M.length;++D<O;){var I=d(C[D],S[D]);if(I){if(D>=E)return I;var A=M[D];return I*(A=="desc"?-1:1)}}return b.index-x.index}wt.exports=o},"3sqG":function(wt,P,i){"use strict";i.r(P),i.d(P,"cluster",function(){return S}),i.d(P,"hierarchy",function(){return O.c}),i.d(P,"pack",function(){return et}),i.d(P,"packSiblings",function(){return rt}),i.d(P,"packEnclose",function(){return A}),i.d(P,"partition",function(){return at.a}),i.d(P,"stratify",function(){return Xt}),i.d(P,"tree",function(){return V}),i.d(P,"treemap",function(){return ot.a}),i.d(P,"treemapBinary",function(){return tt}),i.d(P,"treemapDice",function(){return yt.a}),i.d(P,"treemapSlice",function(){return Pt.a}),i.d(P,"treemapSliceDice",function(){return Ft}),i.d(P,"treemapSquarify",function(){return Wt.a}),i.d(P,"treemapResquarify",function(){return Vt});function d(Lt,Ct){return Lt.parent===Ct.parent?1:2}function o(Lt){return Lt.reduce(b,0)/Lt.length}function b(Lt,Ct){return Lt+Ct.x}function x(Lt){return 1+Lt.reduce(M,0)}function M(Lt,Ct){return Math.max(Lt,Ct.y)}function D(Lt){for(var Ct;Ct=Lt.children;)Lt=Ct[0];return Lt}function C(Lt){for(var Ct;Ct=Lt.children;)Lt=Ct[Ct.length-1];return Lt}var S=function(){var Lt=d,Ct=1,_=1,It=!1;function Rt(xt){var Nt,Ht=0;xt.eachAfter(function(me){var Me=me.children;Me?(me.x=o(Me),me.y=x(Me)):(me.x=Nt?Ht+=Lt(me,Nt):0,me.y=0,Nt=me)});var jt=D(xt),Ut=C(xt),Jt=jt.x-Lt(jt,Ut)/2,se=Ut.x+Lt(Ut,jt)/2;return xt.eachAfter(It?function(me){me.x=(me.x-xt.x)*Ct,me.y=(xt.y-me.y)*_}:function(me){me.x=(me.x-Jt)/(se-Jt)*Ct,me.y=(1-(xt.y?me.y/xt.y:1))*_})}return Rt.separation=function(xt){return arguments.length?(Lt=xt,Rt):Lt},Rt.size=function(xt){return arguments.length?(It=!1,Ct=+xt[0],_=+xt[1],Rt):It?null:[Ct,_]},Rt.nodeSize=function(xt){return arguments.length?(It=!0,Ct=+xt[0],_=+xt[1],Rt):It?[Ct,_]:null},Rt},O=i("M1/f"),E=function(Lt){return typeof Lt=="object"&&"length"in Lt?Lt:Array.from(Lt)};function I(Lt){for(var Ct=Lt.length,_,It;Ct;)It=Math.random()*Ct--|0,_=Lt[Ct],Lt[Ct]=Lt[It],Lt[It]=_;return Lt}var A=function(Lt){for(var Ct=0,_=(Lt=I(Array.from(Lt))).length,It=[],Rt,xt;Ct<_;)Rt=Lt[Ct],xt&&p(xt,Rt)?++Ct:(xt=W(It=R(It,Rt)),Ct=0);return xt};function R(Lt,Ct){var _,It;if(G(Ct,Lt))return[Ct];for(_=0;_<Lt.length;++_)if(B(Ct,Lt[_])&&G(N(Lt[_],Ct),Lt))return[Lt[_],Ct];for(_=0;_<Lt.length-1;++_)for(It=_+1;It<Lt.length;++It)if(B(N(Lt[_],Lt[It]),Ct)&&B(N(Lt[_],Ct),Lt[It])&&B(N(Lt[It],Ct),Lt[_])&&G(j(Lt[_],Lt[It],Ct),Lt))return[Lt[_],Lt[It],Ct];throw new Error}function B(Lt,Ct){var _=Lt.r-Ct.r,It=Ct.x-Lt.x,Rt=Ct.y-Lt.y;return _<0||_*_<It*It+Rt*Rt}function p(Lt,Ct){var _=Lt.r-Ct.r+Math.max(Lt.r,Ct.r,1)*1e-9,It=Ct.x-Lt.x,Rt=Ct.y-Lt.y;return _>0&&_*_>It*It+Rt*Rt}function G(Lt,Ct){for(var _=0;_<Ct.length;++_)if(!p(Lt,Ct[_]))return!1;return!0}function W(Lt){switch(Lt.length){case 1:return z(Lt[0]);case 2:return N(Lt[0],Lt[1]);case 3:return j(Lt[0],Lt[1],Lt[2])}}function z(Lt){return{x:Lt.x,y:Lt.y,r:Lt.r}}function N(Lt,Ct){var _=Lt.x,It=Lt.y,Rt=Lt.r,xt=Ct.x,Nt=Ct.y,Ht=Ct.r,jt=xt-_,Ut=Nt-It,Jt=Ht-Rt,se=Math.sqrt(jt*jt+Ut*Ut);return{x:(_+xt+jt/se*Jt)/2,y:(It+Nt+Ut/se*Jt)/2,r:(se+Rt+Ht)/2}}function j(Lt,Ct,_){var It=Lt.x,Rt=Lt.y,xt=Lt.r,Nt=Ct.x,Ht=Ct.y,jt=Ct.r,Ut=_.x,Jt=_.y,se=_.r,me=It-Nt,Me=It-Ut,Pe=Rt-Ht,Ge=Rt-Jt,nr=jt-xt,gr=se-xt,or=It*It+Rt*Rt-xt*xt,Ze=or-Nt*Nt-Ht*Ht+jt*jt,mr=or-Ut*Ut-Jt*Jt+se*se,Nr=Me*Pe-me*Ge,Mr=(Pe*mr-Ge*Ze)/(Nr*2)-It,vn=(Ge*nr-Pe*gr)/Nr,Ln=(Me*Ze-me*mr)/(Nr*2)-Rt,We=(me*gr-Me*nr)/Nr,Ye=vn*vn+We*We-1,Gr=2*(xt+Mr*vn+Ln*We),Jr=Mr*Mr+Ln*Ln-xt*xt,_r=-(Ye?(Gr+Math.sqrt(Gr*Gr-4*Ye*Jr))/(2*Ye):Jr/Gr);return{x:It+Mr+vn*_r,y:Rt+Ln+We*_r,r:_r}}function F(Lt,Ct,_){var It=Lt.x-Ct.x,Rt,xt,Nt=Lt.y-Ct.y,Ht,jt,Ut=It*It+Nt*Nt;Ut?(xt=Ct.r+_.r,xt*=xt,jt=Lt.r+_.r,jt*=jt,xt>jt?(Rt=(Ut+jt-xt)/(2*Ut),Ht=Math.sqrt(Math.max(0,jt/Ut-Rt*Rt)),_.x=Lt.x-Rt*It-Ht*Nt,_.y=Lt.y-Rt*Nt+Ht*It):(Rt=(Ut+xt-jt)/(2*Ut),Ht=Math.sqrt(Math.max(0,xt/Ut-Rt*Rt)),_.x=Ct.x+Rt*It-Ht*Nt,_.y=Ct.y+Rt*Nt+Ht*It)):(_.x=Ct.x+_.r,_.y=Ct.y)}function k(Lt,Ct){var _=Lt.r+Ct.r-1e-6,It=Ct.x-Lt.x,Rt=Ct.y-Lt.y;return _>0&&_*_>It*It+Rt*Rt}function $(Lt){var Ct=Lt._,_=Lt.next._,It=Ct.r+_.r,Rt=(Ct.x*_.r+_.x*Ct.r)/It,xt=(Ct.y*_.r+_.y*Ct.r)/It;return Rt*Rt+xt*xt}function nt(Lt){this._=Lt,this.next=null,this.previous=null}function st(Lt){if(!(Rt=(Lt=E(Lt)).length))return 0;var Ct,_,It,Rt,xt,Nt,Ht,jt,Ut,Jt,se;if(Ct=Lt[0],Ct.x=0,Ct.y=0,!(Rt>1))return Ct.r;if(_=Lt[1],Ct.x=-_.r,_.x=Ct.r,_.y=0,!(Rt>2))return Ct.r+_.r;F(_,Ct,It=Lt[2]),Ct=new nt(Ct),_=new nt(_),It=new nt(It),Ct.next=It.previous=_,_.next=Ct.previous=It,It.next=_.previous=Ct;t:for(Ht=3;Ht<Rt;++Ht){F(Ct._,_._,It=Lt[Ht]),It=new nt(It),jt=_.next,Ut=Ct.previous,Jt=_._.r,se=Ct._.r;do if(Jt<=se){if(k(jt._,It._)){_=jt,Ct.next=_,_.previous=Ct,--Ht;continue t}Jt+=jt._.r,jt=jt.next}else{if(k(Ut._,It._)){Ct=Ut,Ct.next=_,_.previous=Ct,--Ht;continue t}se+=Ut._.r,Ut=Ut.previous}while(jt!==Ut.next);for(It.previous=Ct,It.next=_,Ct.next=_.previous=_=It,xt=$(Ct);(It=It.next)!==_;)(Nt=$(It))<xt&&(Ct=It,xt=Nt);_=Ct.next}for(Ct=[_._],It=_;(It=It.next)!==_;)Ct.push(It._);for(It=A(Ct),Ht=0;Ht<Rt;++Ht)Ct=Lt[Ht],Ct.x-=It.x,Ct.y-=It.y;return It.r}var rt=function(Lt){return st(Lt),Lt},Q=i("gPRb"),Y=i("aOLp");function K(Lt){return Math.sqrt(Lt.value)}var et=function(){var Lt=null,Ct=1,_=1,It=Y.a;function Rt(xt){return xt.x=Ct/2,xt.y=_/2,Lt?xt.eachBefore(ut(Lt)).eachAfter(dt(It,.5)).eachBefore(vt(1)):xt.eachBefore(ut(K)).eachAfter(dt(Y.a,1)).eachAfter(dt(It,xt.r/Math.min(Ct,_))).eachBefore(vt(Math.min(Ct,_)/(2*xt.r))),xt}return Rt.radius=function(xt){return arguments.length?(Lt=Object(Q.a)(xt),Rt):Lt},Rt.size=function(xt){return arguments.length?(Ct=+xt[0],_=+xt[1],Rt):[Ct,_]},Rt.padding=function(xt){return arguments.length?(It=typeof xt=="function"?xt:Object(Y.b)(+xt),Rt):It},Rt};function ut(Lt){return function(Ct){Ct.children||(Ct.r=Math.max(0,+Lt(Ct)||0))}}function dt(Lt,Ct){return function(_){if(It=_.children){var It,Rt,xt=It.length,Nt=Lt(_)*Ct||0,Ht;if(Nt)for(Rt=0;Rt<xt;++Rt)It[Rt].r+=Nt;if(Ht=st(It),Nt)for(Rt=0;Rt<xt;++Rt)It[Rt].r-=Nt;_.r=Ht+Nt}}}function vt(Lt){return function(Ct){var _=Ct.parent;Ct.r*=Lt,_&&(Ct.x=_.x+Lt*Ct.x,Ct.y=_.y+Lt*Ct.y)}}var at=i("W7Gi"),pt={depth:-1},Tt={};function Gt(Lt){return Lt.id}function Kt(Lt){return Lt.parentId}var Xt=function(){var Lt=Gt,Ct=Kt;function _(It){var Rt=Array.from(It),xt=Rt.length,Nt,Ht,jt,Ut,Jt,se,me,Me=new Map;for(Ht=0;Ht<xt;++Ht)Nt=Rt[Ht],Jt=Rt[Ht]=new O.a(Nt),(se=Lt(Nt,Ht,It))!=null&&(se+="")&&(me=Jt.id=se,Me.set(me,Me.has(me)?Tt:Jt)),(se=Ct(Nt,Ht,It))!=null&&(se+="")&&(Jt.parent=se);for(Ht=0;Ht<xt;++Ht)if(Jt=Rt[Ht],se=Jt.parent){if(Ut=Me.get(se),!Ut)throw new Error("missing: "+se);if(Ut===Tt)throw new Error("ambiguous: "+se);Ut.children?Ut.children.push(Jt):Ut.children=[Jt],Jt.parent=Ut}else{if(jt)throw new Error("multiple roots");jt=Jt}if(!jt)throw new Error("no root");if(jt.parent=pt,jt.eachBefore(function(Pe){Pe.depth=Pe.parent.depth+1,--xt}).eachBefore(O.b),jt.parent=null,xt>0)throw new Error("cycle");return jt}return _.id=function(It){return arguments.length?(Lt=Object(Q.b)(It),_):Lt},_.parentId=function(It){return arguments.length?(Ct=Object(Q.b)(It),_):Ct},_};function gt(Lt,Ct){return Lt.parent===Ct.parent?1:2}function lt(Lt){var Ct=Lt.children;return Ct?Ct[0]:Lt.t}function ft(Lt){var Ct=Lt.children;return Ct?Ct[Ct.length-1]:Lt.t}function it(Lt,Ct,_){var It=_/(Ct.i-Lt.i);Ct.c-=It,Ct.s+=_,Lt.c+=It,Ct.z+=_,Ct.m+=_}function bt(Lt){for(var Ct=0,_=0,It=Lt.children,Rt=It.length,xt;--Rt>=0;)xt=It[Rt],xt.z+=Ct,xt.m+=Ct,Ct+=xt.s+(_+=xt.c)}function Dt(Lt,Ct,_){return Lt.a.parent===Ct.parent?Lt.a:_}function Mt(Lt,Ct){this._=Lt,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ct}Mt.prototype=Object.create(O.a.prototype);function q(Lt){for(var Ct=new Mt(Lt,0),_,It=[Ct],Rt,xt,Nt,Ht;_=It.pop();)if(xt=_._.children)for(_.children=new Array(Ht=xt.length),Nt=Ht-1;Nt>=0;--Nt)It.push(Rt=_.children[Nt]=new Mt(xt[Nt],Nt)),Rt.parent=_;return(Ct.parent=new Mt(null,0)).children=[Ct],Ct}var V=function(){var Lt=gt,Ct=1,_=1,It=null;function Rt(Ut){var Jt=q(Ut);if(Jt.eachAfter(xt),Jt.parent.m=-Jt.z,Jt.eachBefore(Nt),It)Ut.eachBefore(jt);else{var se=Ut,me=Ut,Me=Ut;Ut.eachBefore(function(or){or.x<se.x&&(se=or),or.x>me.x&&(me=or),or.depth>Me.depth&&(Me=or)});var Pe=se===me?1:Lt(se,me)/2,Ge=Pe-se.x,nr=Ct/(me.x+Pe+Ge),gr=_/(Me.depth||1);Ut.eachBefore(function(or){or.x=(or.x+Ge)*nr,or.y=or.depth*gr})}return Ut}function xt(Ut){var Jt=Ut.children,se=Ut.parent.children,me=Ut.i?se[Ut.i-1]:null;if(Jt){bt(Ut);var Me=(Jt[0].z+Jt[Jt.length-1].z)/2;me?(Ut.z=me.z+Lt(Ut._,me._),Ut.m=Ut.z-Me):Ut.z=Me}else me&&(Ut.z=me.z+Lt(Ut._,me._));Ut.parent.A=Ht(Ut,me,Ut.parent.A||se[0])}function Nt(Ut){Ut._.x=Ut.z+Ut.parent.m,Ut.m+=Ut.parent.m}function Ht(Ut,Jt,se){if(Jt){for(var me=Ut,Me=Ut,Pe=Jt,Ge=me.parent.children[0],nr=me.m,gr=Me.m,or=Pe.m,Ze=Ge.m,mr;Pe=ft(Pe),me=lt(me),Pe&&me;)Ge=lt(Ge),Me=ft(Me),Me.a=Ut,mr=Pe.z+or-me.z-nr+Lt(Pe._,me._),mr>0&&(it(Dt(Pe,Ut,se),Ut,mr),nr+=mr,gr+=mr),or+=Pe.m,nr+=me.m,Ze+=Ge.m,gr+=Me.m;Pe&&!ft(Me)&&(Me.t=Pe,Me.m+=or-gr),me&&!lt(Ge)&&(Ge.t=me,Ge.m+=nr-Ze,se=Ut)}return se}function jt(Ut){Ut.x*=Ct,Ut.y=Ut.depth*_}return Rt.separation=function(Ut){return arguments.length?(Lt=Ut,Rt):Lt},Rt.size=function(Ut){return arguments.length?(It=!1,Ct=+Ut[0],_=+Ut[1],Rt):It?null:[Ct,_]},Rt.nodeSize=function(Ut){return arguments.length?(It=!0,Ct=+Ut[0],_=+Ut[1],Rt):It?[Ct,_]:null},Rt},ot=i("oS5r"),tt=function(Lt,Ct,_,It,Rt){var xt=Lt.children,Nt,Ht=xt.length,jt,Ut=new Array(Ht+1);for(Ut[0]=jt=Nt=0;Nt<Ht;++Nt)Ut[Nt+1]=jt+=xt[Nt].value;Jt(0,Ht,Lt.value,Ct,_,It,Rt);function Jt(se,me,Me,Pe,Ge,nr,gr){if(se>=me-1){var or=xt[se];or.x0=Pe,or.y0=Ge,or.x1=nr,or.y1=gr;return}for(var Ze=Ut[se],mr=Me/2+Ze,Nr=se+1,Mr=me-1;Nr<Mr;){var vn=Nr+Mr>>>1;Ut[vn]<mr?Nr=vn+1:Mr=vn}mr-Ut[Nr-1]<Ut[Nr]-mr&&se+1<Nr&&--Nr;var Ln=Ut[Nr]-Ze,We=Me-Ln;if(nr-Pe>gr-Ge){var Ye=Me?(Pe*We+nr*Ln)/Me:nr;Jt(se,Nr,Ln,Pe,Ge,Ye,gr),Jt(Nr,me,We,Ye,Ge,nr,gr)}else{var Gr=Me?(Ge*We+gr*Ln)/Me:gr;Jt(se,Nr,Ln,Pe,Ge,nr,Gr),Jt(Nr,me,We,Pe,Gr,nr,gr)}}},yt=i("EbMC"),Pt=i("WKd7"),Ft=function(Lt,Ct,_,It,Rt){(Lt.depth&1?Pt.a:yt.a)(Lt,Ct,_,It,Rt)},Wt=i("Od3v"),Vt=function Lt(Ct){function _(It,Rt,xt,Nt,Ht){if((jt=It._squarify)&&jt.ratio===Ct)for(var jt,Ut,Jt,se,me=-1,Me,Pe=jt.length,Ge=It.value;++me<Pe;){for(Ut=jt[me],Jt=Ut.children,se=Ut.value=0,Me=Jt.length;se<Me;++se)Ut.value+=Jt[se].value;Ut.dice?Object(yt.a)(Ut,Rt,xt,Nt,Ge?xt+=(Ht-xt)*Ut.value/Ge:Ht):Object(Pt.a)(Ut,Rt,xt,Ge?Rt+=(Nt-Rt)*Ut.value/Ge:Nt,Ht),Ge-=Ut.value}else It._squarify=jt=Object(Wt.c)(Ct,It,Rt,xt,Nt,Ht),jt.ratio=Ct}return _.ratio=function(It){return Lt((It=+It)>1?It:1)},_}(Wt.b)},"3zSj":function(wt,P){wt.exports=i;function i(d,o,b){var x=o[0]*o[0]+o[1]*o[1];if(x>b*b){var M=Math.sqrt(x);d[0]=o[0]/M*b,d[1]=o[1]/M*b}else d[0]=o[0],d[1]=o[1];return d}},"40+6":function(wt,P,i){"use strict";i.d(P,"a",function(){return b});var d=new Map;function o(j,F){d.set(j,F)}function b(j){return d.get(j)}var x=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.width,st=F.height;return{x:k,y:$,width:nt,height:st}},M=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.r;return{x:k-nt,y:$-nt,width:nt*2,height:nt*2}},D=i("9pBU");function C(j,F){return!j||!F?j||F:{minX:Math.min(j.minX,F.minX),minY:Math.min(j.minY,F.minY),maxX:Math.max(j.maxX,F.maxX),maxY:Math.max(j.maxY,F.maxY)}}function S(j,F){var k=j.get("startArrowShape"),$=j.get("endArrowShape"),nt=null,st=null;return k&&(nt=k.getCanvasBBox(),F=C(F,nt)),$&&(st=$.getCanvasBBox(),F=C(F,st)),F}var O=function(j){for(var F=j.attr(),k=F.points,$=[],nt=[],st=0;st<k.length;st++){var rt=k[st];$.push(rt[0]),nt.push(rt[1])}var Q=D.f.getBBoxByArray($,nt),Y=Q.x,K=Q.y,et=Q.width,ut=Q.height,dt={minX:Y,minY:K,maxX:Y+et,maxY:K+ut};return dt=S(j,dt),{x:dt.minX,y:dt.minY,width:dt.maxX-dt.minX,height:dt.maxY-dt.minY}},E=function(j){for(var F=j.attr(),k=F.points,$=[],nt=[],st=0;st<k.length;st++){var rt=k[st];$.push(rt[0]),nt.push(rt[1])}return D.f.getBBoxByArray($,nt)},I=i("DBqA"),A=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.text,st=F.fontSize,rt=F.lineHeight,Q=F.font;Q||(Q=Object(I.a)(F));var Y=Object(I.c)(nt,Q),K;if(!Y)K={x:k,y:$,width:0,height:0};else{var et=F.textAlign,ut=F.textBaseline,dt=Object(I.b)(nt,st,rt),vt={x:k,y:$-dt};et&&(et==="end"||et==="right"?vt.x-=Y:et==="center"&&(vt.x-=Y/2)),ut&&(ut==="top"?vt.y+=dt:ut==="middle"&&(vt.y+=dt/2)),K={x:vt.x,y:vt.y,width:Y,height:dt}}return K},R=i("WOt1"),B=i("jg4I");function p(j,F){for(var k=[],$=[],nt=[],st=0;st<j.length;st++){var rt=j[st],Q=rt.currentPoint,Y=rt.params,K=rt.prePoint,et=void 0;switch(rt.command){case"Q":et=D.e.box(K[0],K[1],Y[1],Y[2],Y[3],Y[4]);break;case"C":et=D.b.box(K[0],K[1],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]);break;case"A":var ut=rt.arcParams;et=D.a.box(ut.cx,ut.cy,ut.rx,ut.ry,ut.xRotation,ut.startAngle,ut.endAngle);break;default:k.push(Q[0]),$.push(Q[1]);break}et&&(rt.box=et,k.push(et.x,et.x+et.width),$.push(et.y,et.y+et.height)),F&&(rt.command==="L"||rt.command==="M")&&rt.prePoint&&rt.nextPoint&&nt.push(rt)}k=k.filter(function(Gt){return!Number.isNaN(Gt)}),$=$.filter(function(Gt){return!Number.isNaN(Gt)});var dt=Object(B.Z)(k),vt=Object(B.Z)($),at=Object(B.W)(k),pt=Object(B.W)($);if(nt.length===0)return{x:dt,y:vt,width:at-dt,height:pt-vt};for(var st=0;st<nt.length;st++){var rt=nt[st],Q=rt.currentPoint,Tt=void 0;Q[0]===dt?(Tt=G(rt,F),dt=dt-Tt.xExtra):Q[0]===at&&(Tt=G(rt,F),at=at+Tt.xExtra),Q[1]===vt?(Tt=G(rt,F),vt=vt-Tt.yExtra):Q[1]===pt&&(Tt=G(rt,F),pt=pt+Tt.yExtra)}return{x:dt,y:vt,width:at-dt,height:pt-vt}}function G(j,F){var k=j.prePoint,$=j.currentPoint,nt=j.nextPoint,st=Math.pow($[0]-k[0],2)+Math.pow($[1]-k[1],2),rt=Math.pow($[0]-nt[0],2)+Math.pow($[1]-nt[1],2),Q=Math.pow(k[0]-nt[0],2)+Math.pow(k[1]-nt[1],2),Y=Math.acos((st+rt-Q)/(2*Math.sqrt(st)*Math.sqrt(rt)));if(!Y||Math.sin(Y)===0||Object(B.L)(Y,0))return{xExtra:0,yExtra:0};var K=Math.abs(Math.atan2(nt[1]-$[1],nt[0]-$[0])),et=Math.abs(Math.atan2(nt[0]-$[0],nt[1]-$[1]));K=K>Math.PI/2?Math.PI-K:K,et=et>Math.PI/2?Math.PI-et:et;var ut={xExtra:Math.cos(Y/2-K)*(F/2*(1/Math.sin(Y/2)))-F/2||0,yExtra:Math.cos(et-Y/2)*(F/2*(1/Math.sin(Y/2)))-F/2||0};return ut}var W=function(j){var F=j.attr(),k=F.path,$=F.stroke,nt=$?F.lineWidth:0,st=j.get("segments")||Object(R.e)(k),rt=p(st,nt),Q=rt.x,Y=rt.y,K=rt.width,et=rt.height,ut={minX:Q,minY:Y,maxX:Q+K,maxY:Y+et};return ut=S(j,ut),{x:ut.minX,y:ut.minY,width:ut.maxX-ut.minX,height:ut.maxY-ut.minY}},z=function(j){var F=j.attr(),k=F.x1,$=F.y1,nt=F.x2,st=F.y2,rt=Math.min(k,nt),Q=Math.max(k,nt),Y=Math.min($,st),K=Math.max($,st),et={minX:rt,maxX:Q,minY:Y,maxY:K};return et=S(j,et),{x:et.minX,y:et.minY,width:et.maxX-et.minX,height:et.maxY-et.minY}},N=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.rx,st=F.ry;return{x:k-nt,y:$-st,width:nt*2,height:st*2}};o("rect",x),o("image",x),o("circle",M),o("marker",M),o("polyline",O),o("polygon",E),o("text",A),o("path",W),o("line",z),o("ellipse",N)},"43gi":function(wt,P,i){var d;try{d=i("lOIa")}catch(o){}d||(d=window.graphlib),wt.exports=d},"44Go":function(wt,P){wt.exports=i;function i(d,o){var b=new Float32Array(2);return b[0]=d,b[1]=o,b}},"4Qiu":function(wt,P,i){"use strict";var d=i("J+IK"),o=i("jg4I"),b=i("sxZn"),x=i("08EK"),M=i("RxlK"),D=i("OEJE"),C=b.a.transform,S="matrix",O=["zIndex","capture","visible","type"],E=["repeat"],I=":",A="*";function R(z){for(var N=[],j=0;j<z.length;j++)Object(o.B)(z[j])?N.push([].concat(z[j])):N.push(z[j]);return N}function B(z,N){var j={},F=N.attrs;for(var k in z)j[k]=F[k];return j}function p(z,N){var j={},F=N.attr();return Object(o.j)(z,function(k,$){E.indexOf($)===-1&&!Object(o.G)(F[$],k)&&(j[$]=k)}),j}function G(z,N){if(N.onFrame)return z;var j=N.startTime,F=N.delay,k=N.duration,$=Object.prototype.hasOwnProperty;return Object(o.j)(z,function(nt){j+F<nt.startTime+nt.delay+nt.duration&&k>nt.delay&&Object(o.j)(N.toAttrs,function(st,rt){$.call(nt.toAttrs,rt)&&(delete nt.toAttrs[rt],delete nt.fromAttrs[rt])})}),z}var W=function(z){Object(d.c)(N,z);function N(j){var F=z.call(this,j)||this;F.attrs={};var k=F.getDefaultAttrs();return Object(o.bb)(k,j.attrs),F.attrs=k,F.initAttrs(k),F.initAnimate(),F}return N.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},N.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},N.prototype.onCanvasChange=function(j){},N.prototype.initAttrs=function(j){},N.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},N.prototype.isGroup=function(){return!1},N.prototype.getParent=function(){return this.get("parent")},N.prototype.getCanvas=function(){return this.get("canvas")},N.prototype.attr=function(){for(var j,F=[],k=0;k<arguments.length;k++)F[k]=arguments[k];var $=F[0],nt=F[1];if(!$)return this.attrs;if(Object(o.M)($)){for(var st in $)this.setAttr(st,$[st]);return this.afterAttrsChange($),this}return F.length===2?(this.setAttr($,nt),this.afterAttrsChange((j={},j[$]=nt,j)),this):this.attrs[$]},N.prototype.isClipped=function(j,F){var k=this.getClip();return k&&!k.isHit(j,F)},N.prototype.setAttr=function(j,F){var k=this.attrs[j];k!==F&&(this.attrs[j]=F,this.onAttrChange(j,F,k))},N.prototype.onAttrChange=function(j,F,k){j==="matrix"&&this.set("totalMatrix",null)},N.prototype.afterAttrsChange=function(j){if(this.cfg.isClipShape){var F=this.cfg.applyTo;F&&F.onCanvasChange("clip")}else this.onCanvasChange("attr")},N.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},N.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},N.prototype.setZIndex=function(j){this.set("zIndex",j);var F=this.getParent();return F&&F.sort(),this},N.prototype.toFront=function(){var j=this.getParent();if(!!j){var F=j.getChildren(),k=this.get("el"),$=F.indexOf(this);F.splice($,1),F.push(this),this.onCanvasChange("zIndex")}},N.prototype.toBack=function(){var j=this.getParent();if(!!j){var F=j.getChildren(),k=this.get("el"),$=F.indexOf(this);F.splice($,1),F.unshift(this),this.onCanvasChange("zIndex")}},N.prototype.remove=function(j){j===void 0&&(j=!0);var F=this.getParent();F?(Object(x.j)(F.getChildren(),this),F.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),j&&this.destroy()},N.prototype.resetMatrix=function(){this.attr(S,this.getDefaultMatrix()),this.onCanvasChange("matrix")},N.prototype.getMatrix=function(){return this.attr(S)},N.prototype.setMatrix=function(j){this.attr(S,j),this.onCanvasChange("matrix")},N.prototype.getTotalMatrix=function(){var j=this.cfg.totalMatrix;if(!j){var F=this.attr("matrix"),k=this.cfg.parentMatrix;k&&F?j=Object(M.b)(k,F):j=F||k,this.set("totalMatrix",j)}return j},N.prototype.applyMatrix=function(j){var F=this.attr("matrix"),k=null;j&&F?k=Object(M.b)(j,F):k=F||j,this.set("totalMatrix",k),this.set("parentMatrix",j)},N.prototype.getDefaultMatrix=function(){return null},N.prototype.applyToMatrix=function(j){var F=this.attr("matrix");return F?Object(M.c)(F,j):j},N.prototype.invertFromMatrix=function(j){var F=this.attr("matrix");if(F){var k=Object(M.a)(F);if(k)return Object(M.c)(k,j)}return j},N.prototype.setClip=function(j){var F=this.getCanvas(),k=null;if(j){var $=this.getShapeBase(),nt=Object(o.tb)(j.type),st=$[nt];st&&(k=new st({type:j.type,isClipShape:!0,applyTo:this,attrs:j.attrs,canvas:F}))}return this.set("clipShape",k),this.onCanvasChange("clip"),k},N.prototype.getClip=function(){var j=this.cfg.clipShape;return j||null},N.prototype.clone=function(){var j=this,F=this.attrs,k={};Object(o.j)(F,function(st,rt){Object(o.B)(F[rt])?k[rt]=R(F[rt]):k[rt]=F[rt]});var $=this.constructor,nt=new $({attrs:k});return Object(o.j)(O,function(st){nt.set(st,j.get(st))}),nt},N.prototype.destroy=function(){var j=this.destroyed;j||(this.attrs={},z.prototype.destroy.call(this))},N.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},N.prototype.animate=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var k=this.get("timeline");k||(k=this.get("canvas").get("timeline"),this.set("timeline",k));var $=this.get("animations")||[];k.timer||k.initTimer();var nt=j[0],st=j[1],rt=j[2],Q=rt===void 0?"easeLinear":rt,Y=j[3],K=Y===void 0?o.db:Y,et=j[4],ut=et===void 0?0:et,dt,vt,at,pt,Tt;Object(o.H)(nt)?(dt=nt,nt={}):Object(o.M)(nt)&&nt.onFrame&&(dt=nt.onFrame,vt=nt.repeat),Object(o.M)(st)?(Tt=st,st=Tt.duration,Q=Tt.easing||"easeLinear",ut=Tt.delay||0,vt=Tt.repeat||vt||!1,K=Tt.callback||o.db,at=Tt.pauseCallback||o.db,pt=Tt.resumeCallback||o.db):(Object(o.K)(K)&&(ut=K,K=null),Object(o.H)(Q)?(K=Q,Q="easeLinear"):Q=Q||"easeLinear");var Gt=p(nt,this),Kt={fromAttrs:B(Gt,this),toAttrs:Gt,duration:st,easing:Q,repeat:vt,callback:K,pauseCallback:at,resumeCallback:pt,delay:ut,startTime:k.getTime(),id:Object(o.sb)(),onFrame:dt,pathFormatted:!1};$.length>0?$=G($,Kt):k.addAnimator(this),$.push(Kt),this.set("animations",$),this.set("_pause",{isPaused:!1})}},N.prototype.stopAnimate=function(j){var F=this;j===void 0&&(j=!0);var k=this.get("animations");Object(o.j)(k,function($){j&&($.onFrame?F.attr($.onFrame(1)):F.attr($.toAttrs)),$.callback&&$.callback()}),this.set("animating",!1),this.set("animations",[])},N.prototype.pauseAnimate=function(){var j=this.get("timeline"),F=this.get("animations"),k=j.getTime();return Object(o.j)(F,function($){$._paused=!0,$._pauseTime=k,$.pauseCallback&&$.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:k}),this},N.prototype.resumeAnimate=function(){var j=this.get("timeline"),F=j.getTime(),k=this.get("animations"),$=this.get("_pause").pauseTime;return Object(o.j)(k,function(nt){nt.startTime=nt.startTime+(F-$),nt._paused=!1,nt._pauseTime=null,nt.resumeCallback&&nt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",k),this},N.prototype.emitDelegation=function(j,F){var k=this,$=F.propagationPath,nt=this.getEvents(),st;j==="mouseenter"?st=F.fromShape:j==="mouseleave"&&(st=F.toShape);for(var rt=function(ut){var dt=$[ut],vt=dt.get("name");if(vt){if((dt.isGroup()||dt.isCanvas&&dt.isCanvas())&&st&&Object(x.g)(dt,st))return"break";Object(o.B)(vt)?Object(o.j)(vt,function(at){k.emitDelegateEvent(dt,at,F)}):Q.emitDelegateEvent(dt,vt,F)}},Q=this,Y=0;Y<$.length;Y++){var K=rt(Y);if(K==="break")break}},N.prototype.emitDelegateEvent=function(j,F,k){var $=this.getEvents(),nt=F+I+k.type;($[nt]||$[A])&&(k.name=nt,k.currentTarget=j,k.delegateTarget=this,k.delegateObject=j.get("delegateObject"),this.emit(nt,k))},N.prototype.translate=function(j,F){j===void 0&&(j=0),F===void 0&&(F=0);var k=this.getMatrix(),$=C(k,[["t",j,F]]);return this.setMatrix($),this},N.prototype.move=function(j,F){var k=this.attr("x")||0,$=this.attr("y")||0;return this.translate(j-k,F-$),this},N.prototype.moveTo=function(j,F){return this.move(j,F)},N.prototype.scale=function(j,F){var k=this.getMatrix(),$=C(k,[["s",j,F||j]]);return this.setMatrix($),this},N.prototype.rotate=function(j){var F=this.getMatrix(),k=C(F,[["r",j]]);return this.setMatrix(k),this},N.prototype.rotateAtStart=function(j){var F=this.attr(),k=F.x,$=F.y,nt=this.getMatrix(),st=C(nt,[["t",-k,-$],["r",j],["t",k,$]]);return this.setMatrix(st),this},N.prototype.rotateAtPoint=function(j,F,k){var $=this.getMatrix(),nt=C($,[["t",-j,-F],["r",k],["t",j,F]]);return this.setMatrix(nt),this},N}(D.a);P.a=W},"4SeD":function(wt,P,i){"use strict";i.d(P,"a",function(){return b});var d=i("Gc/9"),o=i("Cw9K"),b=Object(o.b)({},d.b.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}})},"4X1q":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Lookup=void 0;var d=i("196R"),o=function(){function b(){this._map=new Map}return b.prototype.getMap=function(){return this._map},b.prototype.add=function(x,M){if(x==null)throw new Error(d.NULL_ARGUMENT);if(M==null)throw new Error(d.NULL_ARGUMENT);var D=this._map.get(x);D!==void 0?(D.push(M),this._map.set(x,D)):this._map.set(x,[M])},b.prototype.get=function(x){if(x==null)throw new Error(d.NULL_ARGUMENT);var M=this._map.get(x);if(M!==void 0)return M;throw new Error(d.KEY_NOT_FOUND)},b.prototype.remove=function(x){if(x==null)throw new Error(d.NULL_ARGUMENT);if(!this._map.delete(x))throw new Error(d.KEY_NOT_FOUND)},b.prototype.removeByCondition=function(x){var M=this;this._map.forEach(function(D,C){var S=D.filter(function(O){return!x(O)});S.length>0?M._map.set(C,S):M._map.delete(C)})},b.prototype.hasKey=function(x){if(x==null)throw new Error(d.NULL_ARGUMENT);return this._map.has(x)},b.prototype.clone=function(){var x=new b;return this._map.forEach(function(M,D){M.forEach(function(C){return x.add(D,C.clone())})}),x},b.prototype.traverse=function(x){this._map.forEach(function(M,D){x(D,M)})},b}();P.Lookup=o},"4qWt":function(wt,P,i){"use strict";i.d(P,"a",function(){return S});var d=i("3sqG"),o=i("oS5r"),b=i("M1/f"),x=i("jg4I"),M=i("5K47"),D={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(E,I){return I.value-E.value},ratio:.5*(1+Math.sqrt(5))};function C(O,E){return O==="treemapSquarify"?d[O].ratio(E):d[O]}function S(O,E){E=Object(x.b)({},D,E);var I=E.as;if(!Object(x.B)(I)||I.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var A;try{A=Object(M.b)(E)}catch(z){console.warn(z)}var R=C(E.tile,E.ratio),B=function(N){return o.a().tile(R).size(E.size).round(E.round).padding(E.padding).paddingInner(E.paddingInner).paddingOuter(E.paddingOuter).paddingTop(E.paddingTop).paddingRight(E.paddingRight).paddingBottom(E.paddingBottom).paddingLeft(E.paddingLeft)(b.c(N).sum(function(j){return E.ignoreParentValue&&j.children?0:j[A]}).sort(E.sort))},p=B(O),G=I[0],W=I[1];return p.each(function(z){z[G]=[z.x0,z.x1,z.x1,z.x0],z[W]=[z.y1,z.y1,z.y0,z.y0],["x0","x1","y0","y1"].forEach(function(N){I.indexOf(N)===-1&&delete z[N]})}),Object(M.a)(p)}},"4tFv":function(wt,P){function i(d){return d===void 0}wt.exports=i},"5+Yv":function(wt,P,i){var d=i("RaWV"),o=i("SOgk"),b=i("hQ5t"),x=i("NbNK"),M=i("+Gi7");function D(C,S,O){var E=M(C)?d:x,I=arguments.length<3;return E(C,b(S,4),O,I,o)}wt.exports=D},"5/ae":function(wt,P){},"5Am0":function(wt,P,i){wt.exports=i("oobg")},"5K47":function(wt,P,i){"use strict";i.d(P,"b",function(){return b}),i.d(P,"a",function(){return x});var d=i("jg4I"),o="Invalid field: it must be a string!";function b(M,D){var C=M.field,S=M.fields;if(Object(d.O)(C))return C;if(Object(d.B)(C))return console.warn(o),C[0];if(console.warn(o+" will try to get fields instead."),Object(d.O)(S))return S;if(Object(d.B)(S)&&S.length)return S[0];if(D)return D;throw new TypeError(o)}function x(M){var D=[];return M&&M.each?M.each(function(C){D.push(C)}):M&&M.eachNode&&M.eachNode(function(C){D.push(C)}),D}},"5Kaj":function(wt,P,i){"use strict";var d=i("jg4I"),o=i("3k0L"),b=function(){function x(M){var D=M.xField,C=M.yField,S=M.adjustNames,O=S===void 0?["x","y"]:S;this.adjustNames=O,this.xField=D,this.yField=C}return x.prototype.isAdjust=function(M){return this.adjustNames.indexOf(M)>=0},x.prototype.getAdjustRange=function(M,D,C){var S=this.yField,O=C.indexOf(D),E=C.length,I,A;return!S&&this.isAdjust("y")?(I=0,A=1):E>1?(I=C[O===0?0:O-1],A=C[O===E-1?E-1:O+1],O!==0?I+=(D-I)/2:I-=(A-D)/2,O!==E-1?A-=(A-D)/2:A+=(D-C[E-2])/2):(I=D===0?0:D-.5,A=D===0?1:D+.5),{pre:I,next:A}},x.prototype.adjustData=function(M,D){var C=this,S=this.getDimValues(D);d.j(M,function(O,E){d.j(S,function(I,A){C.adjustDim(A,I,O,E)})})},x.prototype.groupData=function(M,D){return d.j(M,function(C){C[D]===void 0&&(C[D]=o.a)}),d.v(M,D)},x.prototype.adjustDim=function(M,D,C,S){},x.prototype.getDimValues=function(M){var D=this,C=D.xField,S=D.yField,O={},E=[];if(C&&this.isAdjust("x")&&E.push(C),S&&this.isAdjust("y")&&E.push(S),E.forEach(function(A){O[A]=d.vb(M,A).sort(function(R,B){return R-B})}),!S&&this.isAdjust("y")){var I="y";O[I]=[o.a,1]}return O},x}();P.a=b},"5LP0":function(wt,P){wt.exports=i;function i(d,o){var b=o[0]-d[0],x=o[1]-d[1];return b*b+x*x}},"5M8n":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var d=function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,M=null;return function(){for(var D=this,C=arguments.length,S=new Array(C),O=0;O<C;O++)S[O]=arguments[O];clearTimeout(M),M=setTimeout(function(){b.apply(D,S)},x)}};P.default=d},"5Nvg":function(wt,P){function i(){}wt.exports=i},"5O5Q":function(wt,P){},"5RCt":function(wt,P,i){"use strict";var d=i("J+IK"),o=i("U8wd"),b=i("0xlF"),x=i("BSge"),M=i("oFJY"),D=i("SCaY"),C=i("ozhX"),S=i("CyRS"),O=i("jg4I"),E=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,A=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function R(vt){var at=vt.match(A);if(!at)return"";var pt="";return at.sort(function(Tt,Gt){return Tt=Tt.split(":"),Gt=Gt.split(":"),Number(Tt[0])-Number(Gt[0])}),Object(O.j)(at,function(Tt){Tt=Tt.split(":"),pt+='<stop offset="'+Tt[0]+'" stop-color="'+Tt[1]+'"></stop>'}),pt}function B(vt,at){var pt=E.exec(vt),Tt=Object(O.cb)(Object(O.pb)(parseFloat(pt[1])),Math.PI*2),Gt=pt[2],Kt,Xt;Tt>=0&&Tt<.5*Math.PI?(Kt={x:0,y:0},Xt={x:1,y:1}):.5*Math.PI<=Tt&&Tt<Math.PI?(Kt={x:1,y:0},Xt={x:0,y:1}):Math.PI<=Tt&&Tt<1.5*Math.PI?(Kt={x:1,y:1},Xt={x:0,y:0}):(Kt={x:0,y:1},Xt={x:1,y:0});var gt=Math.tan(Tt),lt=gt*gt,ft=(Xt.x-Kt.x+gt*(Xt.y-Kt.y))/(lt+1)+Kt.x,it=gt*(Xt.x-Kt.x+gt*(Xt.y-Kt.y))/(lt+1)+Kt.y;at.setAttribute("x1",Kt.x),at.setAttribute("y1",Kt.y),at.setAttribute("x2",ft),at.setAttribute("y2",it),at.innerHTML=R(Gt)}function p(vt,at){var pt=I.exec(vt),Tt=parseFloat(pt[1]),Gt=parseFloat(pt[2]),Kt=parseFloat(pt[3]),Xt=pt[4];at.setAttribute("cx",Tt),at.setAttribute("cy",Gt),at.setAttribute("r",Kt),at.innerHTML=R(Xt)}var G=function(){function vt(at){this.cfg={};var pt=null,Tt=Object(O.sb)("gradient_");return at.toLowerCase()[0]==="l"?(pt=Object(D.b)("linearGradient"),B(at,pt)):(pt=Object(D.b)("radialGradient"),p(at,pt)),pt.setAttribute("id",Tt),this.el=pt,this.id=Tt,this.cfg=at,this}return vt.prototype.match=function(at,pt){return this.cfg===pt},vt}(),W=G,z={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},N={x:"-40%",y:"-40%",width:"200%",height:"200%"},j=function(){function vt(at){this.type="filter",this.cfg={},this.type="filter";var pt=Object(D.b)("filter");return Object(O.j)(N,function(Tt,Gt){pt.setAttribute(Gt,Tt)}),this.el=pt,this.id=Object(O.sb)("filter_"),this.el.id=this.id,this.cfg=at,this._parseShadow(at,pt),this}return vt.prototype.match=function(at,pt){if(this.type!==at)return!1;var Tt=!0,Gt=this.cfg;return Object(O.j)(Object.keys(Gt),function(Kt){if(Gt[Kt]!==pt[Kt])return Tt=!1,!1}),Tt},vt.prototype.update=function(at,pt){var Tt=this.cfg;return Tt[z[at]]=pt,this._parseShadow(Tt,this.el),this},vt.prototype._parseShadow=function(at,pt){var Tt=`<feDropShadow
      dx="`+(at.dx||0)+`"
      dy="`+(at.dy||0)+`"
      stdDeviation="`+(at.blur?at.blur/10:0)+`"
      flood-color="`+(at.color?at.color:"#000")+`"
      flood-opacity="`+(at.opacity?at.opacity:1)+`"
      />`;pt.innerHTML=Tt},vt}(),F=j,k=function(){function vt(at,pt){this.cfg={};var Tt=Object(D.b)("marker"),Gt=Object(O.sb)("marker_");Tt.setAttribute("id",Gt);var Kt=Object(D.b)("path");Kt.setAttribute("stroke",at.stroke||"none"),Kt.setAttribute("fill",at.fill||"none"),Tt.appendChild(Kt),Tt.setAttribute("overflow","visible"),Tt.setAttribute("orient","auto-start-reverse"),this.el=Tt,this.child=Kt,this.id=Gt;var Xt=at[pt==="marker-start"?"startArrow":"endArrow"];return this.stroke=at.stroke||"#000",Xt===!0?this._setDefaultPath(pt,Kt):(this.cfg=Xt,this._setMarker(at.lineWidth,Kt)),this}return vt.prototype.match=function(){return!1},vt.prototype._setDefaultPath=function(at,pt){var Tt=this.el;pt.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),Tt.setAttribute("refX",""+10*Math.cos(Math.PI/6)),Tt.setAttribute("refY",""+5)},vt.prototype._setMarker=function(at,pt){var Tt=this.el,Gt=this.cfg.path,Kt=this.cfg.d;Object(O.B)(Gt)&&(Gt=Gt.map(function(Xt){return Xt.join(" ")}).join("")),pt.setAttribute("d",Gt),Tt.appendChild(pt),Kt&&Tt.setAttribute("refX",""+Kt/at)},vt.prototype.update=function(at){var pt=this.child;pt.attr?pt.attr("fill",at):pt.setAttribute("fill",at)},vt}(),$=k,nt=function(){function vt(at){this.type="clip",this.cfg={};var pt=Object(D.b)("clipPath");this.el=pt,this.id=Object(O.sb)("clip_"),pt.id=this.id;var Tt=at.cfg.el;return pt.appendChild(Tt),this.cfg=at,this}return vt.prototype.match=function(){return!1},vt.prototype.remove=function(){var at=this.el;at.parentNode.removeChild(at)},vt}(),st=nt,rt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Q=function(){function vt(at){this.cfg={};var pt=Object(D.b)("pattern");pt.setAttribute("patternUnits","userSpaceOnUse");var Tt=Object(D.b)("image");pt.appendChild(Tt);var Gt=Object(O.sb)("pattern_");pt.id=Gt,this.el=pt,this.id=Gt,this.cfg=at;var Kt=rt.exec(at),Xt=Kt[2];Tt.setAttribute("href",Xt);var gt=new Image;Xt.match(/^data:/i)||(gt.crossOrigin="Anonymous"),gt.src=Xt;function lt(){pt.setAttribute("width",""+gt.width),pt.setAttribute("height",""+gt.height)}return gt.complete?lt():(gt.onload=lt,gt.src=gt.src),this}return vt.prototype.match=function(at,pt){return this.cfg===pt},vt}(),Y=Q,K=function(){function vt(at){var pt=Object(D.b)("defs"),Tt=Object(O.sb)("defs_");pt.id=Tt,at.appendChild(pt),this.children=[],this.defaultArrow={},this.el=pt,this.canvas=at}return vt.prototype.find=function(at,pt){for(var Tt=this.children,Gt=null,Kt=0;Kt<Tt.length;Kt++)if(Tt[Kt].match(at,pt)){Gt=Tt[Kt].id;break}return Gt},vt.prototype.findById=function(at){for(var pt=this.children,Tt=null,Gt=0;Gt<pt.length;Gt++)if(pt[Gt].id===at){Tt=pt[Gt];break}return Tt},vt.prototype.add=function(at){this.children.push(at),at.canvas=this.canvas,at.parent=this},vt.prototype.getDefaultArrow=function(at,pt){var Tt=at.stroke||at.strokeStyle;if(this.defaultArrow[Tt])return this.defaultArrow[Tt].id;var Gt=new $(at,pt);return this.defaultArrow[Tt]=Gt,this.el.appendChild(Gt.el),this.add(Gt),Gt.id},vt.prototype.addGradient=function(at){var pt=new W(at);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt.prototype.addArrow=function(at,pt){var Tt=new $(at,pt);return this.el.appendChild(Tt.el),this.add(Tt),Tt.id},vt.prototype.addShadow=function(at){var pt=new F(at);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt.prototype.addPattern=function(at){var pt=new Y(at);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt.prototype.addClip=function(at){var pt=new st(at);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt}(),et=K,ut=function(vt){Object(d.c)(at,vt);function at(pt){return vt.call(this,Object(d.a)(Object(d.a)({},pt),{autoDraw:!0,renderer:"svg"}))||this}return at.prototype.getShapeBase=function(){return C},at.prototype.getGroupBase=function(){return S.a},at.prototype.getShape=function(pt,Tt,Gt){var Kt=Gt.target||Gt.srcElement;if(!b.a[Kt.tagName]){for(var Xt=Kt.parentNode;Xt&&!b.a[Xt.tagName];)Xt=Xt.parentNode;Kt=Xt}return this.find(function(gt){return gt.get("el")===Kt})},at.prototype.createDom=function(){var pt=Object(D.b)("svg"),Tt=new et(pt);return pt.setAttribute("width",""+this.get("width")),pt.setAttribute("height",""+this.get("height")),this.set("context",Tt),pt},at.prototype.onCanvasChange=function(pt){var Tt=this.get("context"),Gt=this.get("el");if(pt==="sort"){var Kt=this.get("children");Kt&&Kt.length&&Object(D.d)(this,function(gt,lt){return Kt.indexOf(gt)-Kt.indexOf(lt)?1:0})}else if(pt==="clear"){if(Gt){Gt.innerHTML="";var Xt=Tt.el;Xt.innerHTML="",Gt.appendChild(Xt)}}else pt==="matrix"?Object(M.c)(this):pt==="clip"?Object(M.a)(this,Tt):pt==="changeSize"&&(Gt.setAttribute("width",""+this.get("width")),Gt.setAttribute("height",""+this.get("height")))},at.prototype.draw=function(){var pt=this.get("context"),Tt=this.getChildren();Object(M.a)(this,pt),Tt.length&&Object(x.a)(pt,Tt)},at}(o.AbstractCanvas),dt=P.a=ut},"5i8x":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Context=void 0;var d=i("qSJf"),o=function(){function b(x){this.id=d.id(),this.container=x}return b.prototype.addPlan=function(x){this.plan=x},b.prototype.setCurrentRequest=function(x){this.currentRequest=x},b}();P.Context=o},"5mgD":function(wt,P,i){"use strict";i.d(P,"a",function(){return x}),i.d(P,"b",function(){return M});var d=i("jg4I"),o=i("0n2G");function b(D,C){return D.map(function(S,O){var E;return E={},E[o.g]=S-(D[O-1]||0),E[o.f]=""+O,E[o.e]=C,E}).filter(function(S){return!!S[o.g]})}function x(D){var C;return[(C={},C[o.e]=Object(d.c)(D,0,1),C)]}function M(D,C){var S=Object(d.s)(C,["ticks"],[]),O=Object(d.jb)(S)?S:[0,Object(d.c)(D,0,1),1];return b(O,D)}},"5nvU":function(wt,P,i){"use strict";i.d(P,"a",function(){return q});var d=i("J+IK"),o=i("Gc/9"),b=i("piQC"),x=i("Cw9K"),M=i("AOO/"),D=i("jg4I"),C=i("w9vu"),S={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function O(V,ot){return ot=Object(D.b)({},S,ot),E(V,ot)}function E(V,ot){var tt=et();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(Lt){Object(D.I)(ot[Lt])||tt[Lt](ot[Lt])}),tt.words(V),ot.imageMask&&tt.createMask(ot.imageMask);var yt=tt.start(),Pt=yt._tags;Pt.forEach(function(Lt){Lt.x+=ot.size[0]/2,Lt.y+=ot.size[1]/2});var Ft=ot.size,Wt=Ft[0],Vt=Ft[1];return Pt.push({text:"",value:0,x:0,y:0,opacity:0}),Pt.push({text:"",value:0,x:Wt,y:Vt,opacity:0}),Pt}var I=Math.PI/180,A=1<<11>>5,R=1<<11;function B(V){return V.text}function p(){return"serif"}function G(){return"normal"}function W(V){return V.value}function z(){return~~(Math.random()*2)*90}function N(){return 1}function j(V,ot,tt,yt){if(!ot.sprite){var Pt=V.context,Ft=V.ratio;Pt.clearRect(0,0,(A<<5)/Ft,R/Ft);var Wt=0,Vt=0,Lt=0,Ct=tt.length;for(--yt;++yt<Ct;){ot=tt[yt],Pt.save(),Pt.font=ot.style+" "+ot.weight+" "+~~((ot.size+1)/Ft)+"px "+ot.font;var _=Pt.measureText(ot.text+"m").width*Ft,It=ot.size<<1;if(ot.rotate){var Rt=Math.sin(ot.rotate*I),xt=Math.cos(ot.rotate*I),Nt=_*xt,Ht=_*Rt,jt=It*xt,Ut=It*Rt;_=Math.max(Math.abs(Nt+Ut),Math.abs(Nt-Ut))+31>>5<<5,It=~~Math.max(Math.abs(Ht+jt),Math.abs(Ht-jt))}else _=_+31>>5<<5;if(It>Lt&&(Lt=It),Wt+_>=A<<5&&(Wt=0,Vt+=Lt,Lt=0),Vt+It>=R)break;Pt.translate((Wt+(_>>1))/Ft,(Vt+(It>>1))/Ft),ot.rotate&&Pt.rotate(ot.rotate*I),Pt.fillText(ot.text,0,0),ot.padding&&(Pt.lineWidth=2*ot.padding,Pt.strokeText(ot.text,0,0)),Pt.restore(),ot.width=_,ot.height=It,ot.xoff=Wt,ot.yoff=Vt,ot.x1=_>>1,ot.y1=It>>1,ot.x0=-ot.x1,ot.y0=-ot.y1,ot.hasText=!0,Wt+=_}for(var Jt=Pt.getImageData(0,0,(A<<5)/Ft,R/Ft).data,se=[];--yt>=0;)if(ot=tt[yt],!!ot.hasText){for(var _=ot.width,me=_>>5,It=ot.y1-ot.y0,Me=0;Me<It*me;Me++)se[Me]=0;if(Wt=ot.xoff,Wt==null)return;Vt=ot.yoff;for(var Pe=0,Ge=-1,nr=0;nr<It;nr++){for(var Me=0;Me<_;Me++){var gr=me*nr+(Me>>5),or=Jt[(Vt+nr)*(A<<5)+(Wt+Me)<<2]?1<<31-Me%32:0;se[gr]|=or,Pe|=or}Pe?Ge=nr:(ot.y0++,It--,nr--,Vt++)}ot.y1=ot.y0+Ge,ot.sprite=se.slice(0,(ot.y1-ot.y0)*me)}}}function F(V,ot,tt){tt>>=5;for(var yt=V.sprite,Pt=V.width>>5,Ft=V.x-(Pt<<4),Wt=Ft&127,Vt=32-Wt,Lt=V.y1-V.y0,Ct=(V.y+V.y0)*tt+(Ft>>5),_,It=0;It<Lt;It++){_=0;for(var Rt=0;Rt<=Pt;Rt++)if((_<<Vt|(Rt<Pt?(_=yt[It*Pt+Rt])>>>Wt:0))&ot[Ct+Rt])return!0;Ct+=tt}return!1}function k(V,ot){var tt=V[0],yt=V[1];ot.x+ot.x0<tt.x&&(tt.x=ot.x+ot.x0),ot.y+ot.y0<tt.y&&(tt.y=ot.y+ot.y0),ot.x+ot.x1>yt.x&&(yt.x=ot.x+ot.x1),ot.y+ot.y1>yt.y&&(yt.y=ot.y+ot.y1)}function $(V,ot){return V.x+V.x1>ot[0].x&&V.x+V.x0<ot[1].x&&V.y+V.y1>ot[0].y&&V.y+V.y0<ot[1].y}function nt(V){var ot=V[0]/V[1];return function(tt){return[ot*(tt*=.1)*Math.cos(tt),tt*Math.sin(tt)]}}function st(V){var ot=4,tt=ot*V[0]/V[1],yt=0,Pt=0;return function(Ft){var Wt=Ft<0?-1:1;switch(Math.sqrt(1+4*Wt*Ft)-Wt&3){case 0:yt+=tt;break;case 1:Pt+=ot;break;case 2:yt-=tt;break;default:Pt-=ot;break}return[yt,Pt]}}function rt(V){for(var ot=[],tt=-1;++tt<V;)ot[tt]=0;return ot}function Q(){return document.createElement("canvas")}function Y(V){return Object(D.H)(V)?V:function(){return V}}var K={archimedean:nt,rectangular:st};function et(){var V=[256,256],ot=p,tt=W,yt=G,Pt=z,Ft=N,Wt=nt,Vt=Math.random,Lt=[],Ct=Infinity,_=B,It=G,Rt=Q,xt={};xt.start=function(){var jt=V[0],Ut=V[1],Jt=Nt(Rt()),se=xt.board?xt.board:rt((V[0]>>5)*V[1]),me=Lt.length,Me=[],Pe=Lt.map(function(or,Ze,mr){return or.text=_.call(this,or,Ze,mr),or.font=ot.call(this,or,Ze,mr),or.style=It.call(this,or,Ze,mr),or.weight=yt.call(this,or,Ze,mr),or.rotate=Pt.call(this,or,Ze,mr),or.size=~~tt.call(this,or,Ze,mr),or.padding=Ft.call(this,or,Ze,mr),or}).sort(function(or,Ze){return Ze.size-or.size}),Ge=-1,nr=xt.board?[{x:0,y:0},{x:jt,y:Ut}]:null;gr();function gr(){for(var or=Date.now();Date.now()-or<Ct&&++Ge<me;){var Ze=Pe[Ge];Ze.x=jt*(Vt()+.5)>>1,Ze.y=Ut*(Vt()+.5)>>1,j(Jt,Ze,Pe,Ge),Ze.hasText&&Ht(se,Ze,nr)&&(Me.push(Ze),nr?xt.hasImage||k(nr,Ze):nr=[{x:Ze.x+Ze.x0,y:Ze.y+Ze.y0},{x:Ze.x+Ze.x1,y:Ze.y+Ze.y1}],Ze.x-=V[0]>>1,Ze.y-=V[1]>>1)}xt._tags=Me,xt._bounds=nr}return xt};function Nt(jt){jt.width=jt.height=1;var Ut=Math.sqrt(jt.getContext("2d").getImageData(0,0,1,1).data.length>>2);jt.width=(A<<5)/Ut,jt.height=R/Ut;var Jt=jt.getContext("2d");return Jt.fillStyle=Jt.strokeStyle="red",Jt.textAlign="center",{context:Jt,ratio:Ut}}function Ht(jt,Ut,Jt){for(var se=Ut.x,me=Ut.y,Me=Math.sqrt(V[0]*V[0]+V[1]*V[1]),Pe=Wt(V),Ge=Vt()<.5?1:-1,nr,gr=-Ge,or,Ze;(nr=Pe(gr+=Ge))&&(or=~~nr[0],Ze=~~nr[1],!(Math.min(Math.abs(or),Math.abs(Ze))>=Me));)if(Ut.x=se+or,Ut.y=me+Ze,!(Ut.x+Ut.x0<0||Ut.y+Ut.y0<0||Ut.x+Ut.x1>V[0]||Ut.y+Ut.y1>V[1])&&(!Jt||!F(Ut,jt,V[0]))&&(!Jt||$(Ut,Jt))){for(var mr=Ut.sprite,Nr=Ut.width>>5,Mr=V[0]>>5,vn=Ut.x-(Nr<<4),Ln=vn&127,We=32-Ln,Ye=Ut.y1-Ut.y0,Gr=void 0,Jr=(Ut.y+Ut.y0)*Mr+(vn>>5),_r=0;_r<Ye;_r++){Gr=0;for(var bn=0;bn<=Nr;bn++)jt[Jr+bn]|=Gr<<We|(bn<Nr?(Gr=mr[_r*Nr+bn])>>>Ln:0);Jr+=Mr}return delete Ut.sprite,!0}return!1}return xt.createMask=function(jt){var Ut=document.createElement("canvas"),Jt=V[0],se=V[1];if(!(!Jt||!se)){var me=Jt>>5,Me=rt((Jt>>5)*se);Ut.width=Jt,Ut.height=se;var Pe=Ut.getContext("2d");Pe.drawImage(jt,0,0,jt.width,jt.height,0,0,Jt,se);for(var Ge=Pe.getImageData(0,0,Jt,se).data,nr=0;nr<se;nr++)for(var gr=0;gr<Jt;gr++){var or=me*nr+(gr>>5),Ze=nr*Jt+gr<<2,mr=Ge[Ze]>=250&&Ge[Ze+1]>=250&&Ge[Ze+2]>=250,Nr=mr?1<<31-gr%32:0;Me[or]|=Nr}xt.board=Me,xt.hasImage=!0}},xt.timeInterval=function(jt){Ct=jt==null?Infinity:jt},xt.words=function(jt){Lt=jt},xt.size=function(jt){V=[+jt[0],+jt[1]]},xt.font=function(jt){ot=Y(jt)},xt.fontWeight=function(jt){yt=Y(jt)},xt.rotate=function(jt){Pt=Y(jt)},xt.spiral=function(jt){Wt=K[jt]||jt},xt.fontSize=function(jt){tt=Y(jt)},xt.padding=function(jt){Ft=Y(jt)},xt.random=function(jt){Vt=Y(jt)},xt}function ut(V){var ot=V.options,tt=V.chart,yt=tt,Pt=yt.width,Ft=yt.height,Wt=yt.padding,Vt=yt.appendPadding,Lt=yt.ele,Ct=ot.data,_=ot.imageMask,It=ot.wordField,Rt=ot.weightField,xt=ot.colorField,Nt=ot.wordStyle,Ht=ot.timeInterval,jt=ot.random,Ut=ot.spiral,Jt=ot.autoFit,se=Jt===void 0?!0:Jt,me=ot.placementStrategy;if(!Ct||!Ct.length)return[];var Me=Nt.fontFamily,Pe=Nt.fontWeight,Ge=Nt.padding,nr=Nt.fontSize,gr=Tt(Ct,Rt),or=[Xt(gr),gt(gr)],Ze=Ct.map(function(Mr){return{text:Mr[It],value:Mr[Rt],color:Mr[xt],datum:Mr}}),mr={imageMask:_,font:Me,fontSize:pt(nr,or),fontWeight:Pe,size:dt({width:Pt,height:Ft,padding:Wt,appendPadding:Vt,autoFit:se,container:Lt}),padding:Ge,timeInterval:Ht,random:jt,spiral:Ut,rotate:Gt(ot)};if(Object(D.H)(me)){var Nr=Ze.map(function(Mr,vn,Ln){return Object(d.a)(Object(d.a)(Object(d.a)({},Mr),{hasText:!!Mr.text,font:Y(mr.font)(Mr,vn,Ln),weight:Y(mr.fontWeight)(Mr,vn,Ln),rotate:Y(mr.rotate)(Mr,vn,Ln),size:Y(mr.fontSize)(Mr,vn,Ln),style:"normal"}),me.call(tt,Mr,vn,Ln))});return Nr.push({text:"",value:0,x:0,y:0,opacity:0}),Nr.push({text:"",value:0,x:mr.size[0],y:mr.size[1],opacity:0}),Nr}return O(Ze,mr)}function dt(V){var ot=V.width,tt=V.height,yt=V.container,Pt=V.autoFit,Ft=V.padding,Wt=V.appendPadding;if(Pt){var Vt=Object(x.h)(yt);ot=Vt.width,tt=Vt.height}ot=ot||400,tt=tt||400;var Lt=vt({padding:Ft,appendPadding:Wt}),Ct=Lt[0],_=Lt[1],It=Lt[2],Rt=Lt[3],xt=[ot-(Rt+_),tt-(Ct+It)];return xt}function vt(V){var ot=Object(C.a)(V.padding),tt=Object(C.a)(V.appendPadding),yt=ot[0]+tt[0],Pt=ot[1]+tt[1],Ft=ot[2]+tt[2],Wt=ot[3]+tt[3];return[yt,Pt,Ft,Wt]}function at(V){return new Promise(function(ot,tt){if(V instanceof HTMLImageElement){ot(V);return}if(Object(D.O)(V)){var yt=new Image;yt.crossOrigin="anonymous",yt.src=V,yt.onload=function(){ot(yt)},yt.onerror=function(){Object(x.o)(x.a.ERROR,!1,"image %s load failed !!!",V),tt()};return}Object(x.o)(x.a.WARN,V===void 0,"The type of imageMask option must be String or HTMLImageElement."),tt()})}function pt(V,ot){if(Object(D.H)(V))return V;if(Object(D.B)(V)){var tt=V[0],yt=V[1];if(!ot)return function(){return(yt+tt)/2};var Pt=ot[0],Ft=ot[1];return Ft===Pt?function(){return(yt+tt)/2}:function(Vt){var Lt=Vt.value;return(yt-tt)/(Ft-Pt)*(Lt-Pt)+tt}}return function(){return V}}function Tt(V,ot){return V.map(function(tt){return tt[ot]}).filter(function(tt){return typeof tt=="number"&&!isNaN(tt)})}function Gt(V){var ot=Kt(V),tt=ot.rotation,yt=ot.rotationSteps;if(!Object(D.B)(tt))return tt;var Pt=tt[0],Ft=tt[1],Wt=yt===1?0:(Ft-Pt)/(yt-1);return function(){return Ft===Pt?Ft:Math.floor(Math.random()*yt)*Wt}}function Kt(V){var ot=V.wordStyle.rotationSteps;return ot<1&&(Object(x.o)(x.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),ot=1),{rotation:V.wordStyle.rotation,rotationSteps:ot}}function Xt(V){return Math.min.apply(Math,V)}function gt(V){return Math.max.apply(Math,V)}function lt(V){var ot=V.chart,tt=V.options,yt=tt.colorField,Pt=tt.color,Ft=ut(V);ot.data(Ft);var Wt=Object(x.b)({},V,{options:{xField:"x",yField:"y",seriesField:yt&&"color",point:{color:Pt,shape:"word-cloud"}}}),Vt=Object(M.e)(Wt).ext;return Vt.geometry.label(!1),ot.coordinate().reflect("y"),ot.axis(!1),V}function ft(V){return Object(x.e)(Object(b.f)({x:{nice:!1},y:{nice:!1}}))(V)}function it(V){Object(x.e)(lt,ft,b.k,b.d,b.c,b.a,b.j,b.i)(V)}var bt=Object(x.b)({},o.b.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(ot){return{name:ot.text,value:ot.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Dt=i("18og");Object(Dt.registerShape)("point","word-cloud",{draw:function(ot,tt){var yt=ot.x,Pt=ot.y,Ft=tt.addShape("text",{attrs:Object(d.a)(Object(d.a)({},Mt(ot)),{x:yt,y:Pt})}),Wt=ot.data.rotate;return typeof Wt=="number"&&Dt.Util.rotate(Ft,Wt*Math.PI/180),Ft}});function Mt(V){return{fontSize:V.data.size,text:V.data.text,textAlign:"center",fontFamily:V.data.font,fontWeight:V.data.weight,fill:V.color||V.defaultStyle.stroke,textBaseline:"alphabetic"}}var q=function(V){Object(d.c)(ot,V);function ot(){var tt=V!==null&&V.apply(this,arguments)||this;return tt.type="word-cloud",tt}return ot.getDefaultOptions=function(){return bt},ot.prototype.changeData=function(tt){this.updateOption({data:tt}),this.options.imageMask?this.render():this.chart.changeData(ut({chart:this.chart,options:this.options}))},ot.prototype.getDefaultOptions=function(){return ot.getDefaultOptions()},ot.prototype.render=function(){var tt=this;return new Promise(function(yt){var Pt=tt.options.imageMask;if(!Pt){V.prototype.render.call(tt),yt();return}var Ft=function(Vt){tt.options=Object(d.a)(Object(d.a)({},tt.options),{imageMask:Vt||null}),V.prototype.render.call(tt),yt()};at(Pt).then(Ft).catch(Ft)})},ot.prototype.getSchemaAdaptor=function(){return it},ot.prototype.triggerResize=function(){var tt=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){V.prototype.triggerResize.call(tt)}))},ot}(o.b)},"5oMf":function(wt,P,i){"use strict";var d=i("XSdR"),o=i("hppO");wt.exports={run:b,undo:M};function b(D){D.graph().dummyChains=[],d.forEach(D.edges(),function(C){x(D,C)})}function x(D,C){var S=C.v,O=D.node(S).rank,E=C.w,I=D.node(E).rank,A=C.name,R=D.edge(C),B=R.labelRank;if(I!==O+1){D.removeEdge(C);var p,G,W;for(W=0,++O;O<I;++W,++O)R.points=[],G={width:0,height:0,edgeLabel:R,edgeObj:C,rank:O},p=o.addDummyNode(D,"edge",G,"_d"),O===B&&(G.width=R.width,G.height=R.height,G.dummy="edge-label",G.labelpos=R.labelpos),D.setEdge(S,p,{weight:R.weight},A),W===0&&D.graph().dummyChains.push(p),S=p;D.setEdge(S,E,{weight:R.weight},A)}}function M(D){d.forEach(D.graph().dummyChains,function(C){var S=D.node(C),O=S.edgeLabel,E;for(D.setEdge(S.edgeObj,O);S.dummy;)E=D.successors(C)[0],D.removeNode(C),O.points.push({x:S.x,y:S.y}),S.dummy==="edge-label"&&(O.x=S.x,O.y=S.y,O.width=S.width,O.height=S.height),C=E,S=D.node(C)})}},"60wz":function(wt,P,i){"use strict";i.d(P,"b",function(){return C}),i.d(P,"a",function(){return S});var d=i("FlNX"),o=i.n(d),b=i("99LQ");function x(E){return typeof E=="number"}function M(E){return E===void 0?0:E>360||E<-360?E%360:E}function D(E,I,A){return x(E)?b.e.fromValues(E,I,A):E.length===3?b.e.clone(E):b.e.fromValues(E[0],E[1],E[2])}function C(E,I){return I[0]=E[0],I[1]=E[1],I[2]=E[2],I[3]=E[4],I[4]=E[5],I[5]=E[6],I[6]=E[8],I[7]=E[9],I[8]=E[10],I}function S(E){var I=o()(E,3),A=I[0],R=I[1],B=I[2],p=A+R*256+B*65536-1;return p}function O(E){return[E+1&255,E+1>>8&255,E+1>>8>>8&255]}},"6AqY":function(wt,P,i){"use strict";i.d(P,"b",function(){return d}),i.d(P,"a",function(){return o});function d(b){return typeof b=="number"&&!isNaN(b)}function o(b,x,M){var D=Math.min(x,M),C=Math.max(x,M);return b>=D&&b<=C}},"6CNK":function(wt,P,i){"use strict";i.d(P,"a",function(){return S});var d=i("Cw9K"),o=i("piQC"),b=i("AOO/"),x=i("x7X8");i.d(P,"b",function(){return x.b});var M=i("lCDx"),D=i("rwKT");function C(O){var E=O.chart,I=O.options,A=I.data,R=I.color,B=I.lineStyle,p=I.point,G=p==null?void 0:p.state,W=Object(M.a)(A);E.data(W);var z=Object(d.b)({},O,{options:{xField:D.c,yField:D.d,line:{color:R,style:B},point:p}}),N=Object(d.b)({},z,{options:{tooltip:!1,state:G}});return Object(b.d)(z),Object(b.e)(N),E.axis(!1),E.legend(!1),O}function S(O){return Object(d.e)(C,x.b,o.j,o.k,o.a,Object(o.b)())(O)}},"6FVg":function(wt,P){function i(d,o){var b=d.length;for(d.sort(o);b--;)d[b]=d[b].value;return d}wt.exports=i},"6eBz":function(wt,P,i){"use strict";i.d(P,"a",function(){return O});var d=i("J+IK"),o=i("Gc/9"),b=i("RRRq"),x=i("Cw9K"),M=Object(x.b)({},o.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1}),D=i("18og"),C=i("jg4I"),S=function(E){Object(d.c)(I,E);function I(){return E!==null&&E.apply(this,arguments)||this}return I.prototype.active=function(){var A=this.getView(),R=this.context.event;if(R.data){var B=R.data.items,p=A.geometries.filter(function(G){return G.type==="point"});Object(C.j)(p,function(G){Object(C.j)(G.elements,function(W){var z=Object(C.n)(B,function(N){return N.data===W.data})!==-1;W.setState("active",z)})})}},I.prototype.getView=function(){return this.context.view},I}(D.InteractionAction);Object(D.registerAction)("marker-active",S),Object(D.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var O=function(E){Object(d.c)(I,E);function I(){var A=E!==null&&E.apply(this,arguments)||this;return A.type="line",A}return I.getDefaultOptions=function(){return M},I.prototype.changeData=function(A){this.updateOption({data:A});var R=this,B=R.chart,p=R.options;Object(b.d)({chart:B,options:p}),this.chart.changeData(A)},I.prototype.getDefaultOptions=function(){return I.getDefaultOptions()},I.prototype.getSchemaAdaptor=function(){return b.a},I}(o.b)},"6vWT":function(wt,P,i){"use strict";i.d(P,"a",function(){return E}),i.d(P,"b",function(){return Rt}),i.d(P,"c",function(){return C}),i.d(P,"d",function(){return Nr});var d={};i.r(d),i.d(d,"default",function(){return ft}),i.d(d,"assign",function(){return j}),i.d(d,"format",function(){return Xt}),i.d(d,"parse",function(){return gt}),i.d(d,"defaultI18n",function(){return st}),i.d(d,"setGlobalDateI18n",function(){return Q}),i.d(d,"setGlobalDateMasks",function(){return Kt});var o=i("jg4I"),b={};function x(ge){return b[ge]}function M(ge,oe){b[ge]=oe}var D=function(){function ge(oe){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=oe,this.initCfg(),this.init()}return ge.prototype.translate=function(oe){return oe},ge.prototype.change=function(oe){Object(o.b)(this.__cfg__,oe),this.init()},ge.prototype.clone=function(){return this.constructor(this.__cfg__)},ge.prototype.getTicks=function(){var oe=this;return Object(o.U)(this.ticks,function(pe,ze){return Object(o.M)(pe)?pe:{text:oe.getText(pe,ze),tickValue:pe,value:oe.scale(pe)}})},ge.prototype.getText=function(oe,pe){var ze=this.formatter,Xe=ze?ze(oe,pe):oe;return Object(o.I)(Xe)||!Object(o.H)(Xe.toString)?"":Xe.toString()},ge.prototype.getConfig=function(oe){return this.__cfg__[oe]},ge.prototype.init=function(){Object(o.b)(this,this.__cfg__),this.setDomain(),Object(o.F)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},ge.prototype.initCfg=function(){},ge.prototype.setDomain=function(){},ge.prototype.calculateTicks=function(){var oe=this.tickMethod,pe=[];if(Object(o.O)(oe)){var ze=x(oe);if(!ze)throw new Error("There is no method to to calculate ticks!");pe=ze(this)}else Object(o.H)(oe)&&(pe=oe(this));return pe},ge.prototype.rangeMin=function(){return this.range[0]},ge.prototype.rangeMax=function(){return this.range[1]},ge.prototype.calcPercent=function(oe,pe,ze){return Object(o.K)(oe)?(oe-pe)/(ze-pe):NaN},ge.prototype.calcValue=function(oe,pe,ze){return pe+oe*(ze-pe)},ge}(),C=D,S=i("J+IK"),O=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="cat",pe.isCategory=!0,pe}return oe.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var pe=0;pe<this.values.length;pe++)this.translateIndexMap.set(this.values[pe],pe)}},oe.prototype.translate=function(pe){this.buildIndexMap();var ze=this.translateIndexMap.get(pe);return ze===void 0&&(ze=Object(o.K)(pe)?pe:NaN),ze},oe.prototype.scale=function(pe){var ze=this.translate(pe),Xe=this.calcPercent(ze,this.min,this.max);return this.calcValue(Xe,this.rangeMin(),this.rangeMax())},oe.prototype.invert=function(pe){var ze=this.max-this.min,Xe=this.calcPercent(pe,this.rangeMin(),this.rangeMax()),ir=Math.round(ze*Xe)+this.min;return ir<this.min||ir>this.max?NaN:this.values[ir]},oe.prototype.getText=function(pe){for(var ze=[],Xe=1;Xe<arguments.length;Xe++)ze[Xe-1]=arguments[Xe];var ir=pe;return Object(o.K)(pe)&&!this.values.includes(pe)&&(ir=this.values[ir]),ge.prototype.getText.apply(this,Object(S.g)([ir],ze))},oe.prototype.initCfg=function(){this.tickMethod="cat"},oe.prototype.setDomain=function(){if(Object(o.I)(this.getConfig("min"))&&(this.min=0),Object(o.I)(this.getConfig("max"))){var pe=this.values.length;this.max=pe>1?pe-1:pe}this.translateIndexMap&&(this.translateIndexMap=void 0)},oe}(C),E=O,I=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,A="[1-9]\\d?",R="\\d\\d",B="\\d{3}",p="\\d{4}",G="[^\\s]+",W=/\[([^]*?)\]/gm;function z(ge,oe){for(var pe=[],ze=0,Xe=ge.length;ze<Xe;ze++)pe.push(ge[ze].substr(0,oe));return pe}var N=function(oe){return function(pe,ze){var Xe=ze[oe].map(function(Br){return Br.toLowerCase()}),ir=Xe.indexOf(pe.toLowerCase());return ir>-1?ir:null}};function j(ge){for(var oe=[],pe=1;pe<arguments.length;pe++)oe[pe-1]=arguments[pe];for(var ze=0,Xe=oe;ze<Xe.length;ze++){var ir=Xe[ze];for(var Br in ir)ge[Br]=ir[Br]}return ge}var F=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=["January","February","March","April","May","June","July","August","September","October","November","December"],$=z(k,3),nt=z(F,3),st={dayNamesShort:nt,dayNames:F,monthNamesShort:$,monthNames:k,amPm:["am","pm"],DoFn:function(oe){return oe+["th","st","nd","rd"][oe%10>3?0:(oe-oe%10!=10?1:0)*oe%10]}},rt=j({},st),Q=function(oe){return rt=j(rt,oe)},Y=function(oe){return oe.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},K=function(oe,pe){for(pe===void 0&&(pe=2),oe=String(oe);oe.length<pe;)oe="0"+oe;return oe},et={D:function(oe){return String(oe.getDate())},DD:function(oe){return K(oe.getDate())},Do:function(oe,pe){return pe.DoFn(oe.getDate())},d:function(oe){return String(oe.getDay())},dd:function(oe){return K(oe.getDay())},ddd:function(oe,pe){return pe.dayNamesShort[oe.getDay()]},dddd:function(oe,pe){return pe.dayNames[oe.getDay()]},M:function(oe){return String(oe.getMonth()+1)},MM:function(oe){return K(oe.getMonth()+1)},MMM:function(oe,pe){return pe.monthNamesShort[oe.getMonth()]},MMMM:function(oe,pe){return pe.monthNames[oe.getMonth()]},YY:function(oe){return K(String(oe.getFullYear()),4).substr(2)},YYYY:function(oe){return K(oe.getFullYear(),4)},h:function(oe){return String(oe.getHours()%12||12)},hh:function(oe){return K(oe.getHours()%12||12)},H:function(oe){return String(oe.getHours())},HH:function(oe){return K(oe.getHours())},m:function(oe){return String(oe.getMinutes())},mm:function(oe){return K(oe.getMinutes())},s:function(oe){return String(oe.getSeconds())},ss:function(oe){return K(oe.getSeconds())},S:function(oe){return String(Math.round(oe.getMilliseconds()/100))},SS:function(oe){return K(Math.round(oe.getMilliseconds()/10),2)},SSS:function(oe){return K(oe.getMilliseconds(),3)},a:function(oe,pe){return oe.getHours()<12?pe.amPm[0]:pe.amPm[1]},A:function(oe,pe){return oe.getHours()<12?pe.amPm[0].toUpperCase():pe.amPm[1].toUpperCase()},ZZ:function(oe){var pe=oe.getTimezoneOffset();return(pe>0?"-":"+")+K(Math.floor(Math.abs(pe)/60)*100+Math.abs(pe)%60,4)},Z:function(oe){var pe=oe.getTimezoneOffset();return(pe>0?"-":"+")+K(Math.floor(Math.abs(pe)/60),2)+":"+K(Math.abs(pe)%60,2)}},ut=function(oe){return+oe-1},dt=[null,A],vt=[null,G],at=["isPm",G,function(ge,oe){var pe=ge.toLowerCase();return pe===oe.amPm[0]?0:pe===oe.amPm[1]?1:null}],pt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(ge){var oe=(ge+"").match(/([+-]|\d\d)/gi);if(oe){var pe=+oe[1]*60+parseInt(oe[2],10);return oe[0]==="+"?pe:-pe}return 0}],Tt={D:["day",A],DD:["day",R],Do:["day",A+G,function(ge){return parseInt(ge,10)}],M:["month",A,ut],MM:["month",R,ut],YY:["year",R,function(ge){var oe=new Date,pe=+(""+oe.getFullYear()).substr(0,2);return+(""+(+ge>68?pe-1:pe)+ge)}],h:["hour",A,void 0,"isPm"],hh:["hour",R,void 0,"isPm"],H:["hour",A],HH:["hour",R],m:["minute",A],mm:["minute",R],s:["second",A],ss:["second",R],YYYY:["year",p],S:["millisecond","\\d",function(ge){return+ge*100}],SS:["millisecond",R,function(ge){return+ge*10}],SSS:["millisecond",B],d:dt,dd:dt,ddd:vt,dddd:vt,MMM:["month",G,N("monthNamesShort")],MMMM:["month",G,N("monthNames")],a:at,A:at,ZZ:pt,Z:pt},Gt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Kt=function(oe){return j(Gt,oe)},Xt=function(oe,pe,ze){if(pe===void 0&&(pe=Gt.default),ze===void 0&&(ze={}),typeof oe=="number"&&(oe=new Date(oe)),Object.prototype.toString.call(oe)!=="[object Date]"||isNaN(oe.getTime()))throw new Error("Invalid Date pass to format");pe=Gt[pe]||pe;var Xe=[];pe=pe.replace(W,function(Br,sn){return Xe.push(sn),"@@@"});var ir=j(j({},rt),ze);return pe=pe.replace(I,function(Br){return et[Br](oe,ir)}),pe.replace(/@@@/g,function(){return Xe.shift()})};function gt(ge,oe,pe){if(pe===void 0&&(pe={}),typeof oe!="string")throw new Error("Invalid format in fecha parse");if(oe=Gt[oe]||oe,ge.length>1e3)return null;var ze=new Date,Xe={year:ze.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},ir=[],Br=[],sn=oe.replace(W,function(Ua,qn){return Br.push(Y(qn)),"@@@"}),Gn={},In={};sn=Y(sn).replace(I,function(Ua){var qn=Tt[Ua],Lo=qn[0],hi=qn[1],Qo=qn[3];if(Gn[Lo])throw new Error("Invalid format. "+Lo+" specified twice in format");return Gn[Lo]=!0,Qo&&(In[Qo]=!0),ir.push(qn),"("+hi+")"}),Object.keys(In).forEach(function(Ua){if(!Gn[Ua])throw new Error("Invalid format. "+Ua+" is required in specified format")}),sn=sn.replace(/@@@/g,function(){return Br.shift()});var mn=ge.match(new RegExp(sn,"i"));if(!mn)return null;for(var Ba=j(j({},rt),pe),Ga=1;Ga<mn.length;Ga++){var fi=ir[Ga-1],si=fi[0],Di=fi[2],oo=Di?Di(mn[Ga],Ba):+mn[Ga];if(oo==null)return null;Xe[si]=oo}Xe.isPm===1&&Xe.hour!=null&&+Xe.hour!=12?Xe.hour=+Xe.hour+12:Xe.isPm===0&&+Xe.hour==12&&(Xe.hour=0);for(var so=new Date(Xe.year,Xe.month,Xe.day,Xe.hour,Xe.minute,Xe.second,Xe.millisecond),Ui=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Ga=0,ve=Ui.length;Ga<ve;Ga++)if(Gn[Ui[Ga][0]]&&Xe[Ui[Ga][0]]!==so[Ui[Ga][1]]())return null;return Xe.timezoneOffset==null?so:new Date(Date.UTC(Xe.year,Xe.month,Xe.day,Xe.hour,Xe.minute-Xe.timezoneOffset,Xe.second,Xe.millisecond))}var lt={format:Xt,parse:gt,defaultI18n:st,setGlobalDateI18n:Q,setGlobalDateMasks:Kt},ft=lt,it=function(ge){return function(oe,pe,ze,Xe){for(var ir=Object(o.I)(ze)?0:ze,Br=Object(o.I)(Xe)?oe.length:Xe;ir<Br;){var sn=ir+Br>>>1;ge(oe[sn])>pe?Br=sn:ir=sn+1}return ir}},bt="format";function Dt(ge,oe){var pe=d[bt]||ft[bt];return pe(ge,oe)}function Mt(ge){return Object(o.O)(ge)&&(ge.indexOf("T")>0?ge=new Date(ge).getTime():ge=new Date(ge.replace(/-/gi,"/")).getTime()),Object(o.D)(ge)&&(ge=ge.getTime()),ge}var q=1e3,V=60*q,ot=60*V,tt=24*ot,yt=tt*31,Pt=tt*365,Ft=[["HH:mm:ss",q],["HH:mm:ss",q*10],["HH:mm:ss",q*30],["HH:mm",V],["HH:mm",V*10],["HH:mm",V*30],["HH",ot],["HH",ot*6],["HH",ot*12],["YYYY-MM-DD",tt],["YYYY-MM-DD",tt*4],["YYYY-WW",tt*7],["YYYY-MM",yt],["YYYY-MM",yt*4],["YYYY-MM",yt*6],["YYYY",tt*380]];function Wt(ge,oe,pe){var ze=(oe-ge)/pe,Xe=it(function(Br){return Br[1]})(Ft,ze)-1,ir=Ft[Xe];return Xe<0?ir=Ft[0]:Xe>=Ft.length&&(ir=Object(o.S)(Ft)),ir}var Vt=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="timeCat",pe}return oe.prototype.translate=function(pe){pe=Mt(pe);var ze=this.values.indexOf(pe);return ze===-1&&(Object(o.K)(pe)&&pe<this.values.length?ze=pe:ze=NaN),ze},oe.prototype.getText=function(pe,ze){var Xe=this.translate(pe);if(Xe>-1){var ir=this.values[Xe],Br=this.formatter;return ir=Br?Br(ir,ze):Dt(ir,this.mask),ir}return pe},oe.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},oe.prototype.setDomain=function(){var pe=this.values;Object(o.j)(pe,function(ze,Xe){pe[Xe]=Mt(ze)}),pe.sort(function(ze,Xe){return ze-Xe}),ge.prototype.setDomain.call(this)},oe}(E),Lt=Vt,Ct=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.isContinuous=!0,pe}return oe.prototype.scale=function(pe){if(Object(o.I)(pe))return NaN;var ze=this.rangeMin(),Xe=this.rangeMax(),ir=this.max,Br=this.min;if(ir===Br)return ze;var sn=this.getScalePercent(pe);return ze+sn*(Xe-ze)},oe.prototype.init=function(){ge.prototype.init.call(this);var pe=this.ticks,ze=Object(o.y)(pe),Xe=Object(o.S)(pe);ze<this.min&&(this.min=ze),Xe>this.max&&(this.max=Xe),Object(o.I)(this.minLimit)||(this.min=ze),Object(o.I)(this.maxLimit)||(this.max=Xe)},oe.prototype.setDomain=function(){var pe=Object(o.t)(this.values),ze=pe.min,Xe=pe.max;Object(o.I)(this.min)&&(this.min=ze),Object(o.I)(this.max)&&(this.max=Xe),this.min>this.max&&(this.min=ze,this.max=Xe)},oe.prototype.calculateTicks=function(){var pe=this,ze=ge.prototype.calculateTicks.call(this);return this.nice||(ze=Object(o.l)(ze,function(Xe){return Xe>=pe.min&&Xe<=pe.max})),ze},oe.prototype.getScalePercent=function(pe){var ze=this.max,Xe=this.min;return(pe-Xe)/(ze-Xe)},oe.prototype.getInvertPercent=function(pe){return(pe-this.rangeMin())/(this.rangeMax()-this.rangeMin())},oe}(C),_=Ct,It=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="linear",pe.isLinear=!0,pe}return oe.prototype.invert=function(pe){var ze=this.getInvertPercent(pe);return this.min+ze*(this.max-this.min)},oe.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},oe}(_),Rt=It;function xt(ge,oe){var pe=Math.E,ze;return oe>=0?ze=Math.pow(pe,Math.log(oe)/ge):ze=Math.pow(pe,Math.log(-oe)/ge)*-1,ze}function Nt(ge,oe){return ge===1?1:Math.log(oe)/Math.log(ge)}function Ht(ge,oe,pe){Object(o.I)(pe)&&(pe=Math.max.apply(null,ge));var ze=pe;return Object(o.j)(ge,function(Xe){Xe>0&&Xe<ze&&(ze=Xe)}),ze===pe&&(ze=pe/oe),ze>1&&(ze=1),ze}function jt(ge){var oe=ge.toString().split(/[eE]/),pe=(oe[0].split(".")[1]||"").length-+(oe[1]||0);return pe>0?pe:0}function Ut(ge,oe){var pe=jt(ge),ze=jt(oe),Xe=Math.pow(10,Math.max(pe,ze));return(ge*Xe+oe*Xe)/Xe}var Jt=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="log",pe}return oe.prototype.invert=function(pe){var ze=this.base,Xe=Nt(ze,this.max),ir=this.rangeMin(),Br=this.rangeMax()-ir,sn,Gn=this.positiveMin;if(Gn){if(pe===0)return 0;sn=Nt(ze,Gn/ze);var In=1/(Xe-sn)*Br;if(pe<In)return pe/In*Gn}else sn=Nt(ze,this.min);var mn=(pe-ir)/Br,Ba=mn*(Xe-sn)+sn;return Math.pow(ze,Ba)},oe.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},oe.prototype.setDomain=function(){ge.prototype.setDomain.call(this);var pe=this.min;if(pe<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");pe===0&&(this.positiveMin=Ht(this.values,this.base,this.max))},oe.prototype.getScalePercent=function(pe){var ze=this.max,Xe=this.min;if(ze===Xe||pe<=0)return 0;var ir=this.base,Br=this.positiveMin;Br&&(Xe=Br*1/ir);var sn;return pe<Br?sn=pe/Br/(Nt(ir,ze)-Nt(ir,Xe)):sn=(Nt(ir,pe)-Nt(ir,Xe))/(Nt(ir,ze)-Nt(ir,Xe)),sn},oe}(_),se=Jt,me=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="pow",pe}return oe.prototype.invert=function(pe){var ze=this.getInvertPercent(pe),Xe=this.exponent,ir=xt(Xe,this.max),Br=xt(Xe,this.min),sn=ze*(ir-Br)+Br,Gn=sn>=0?1:-1;return Math.pow(sn,Xe)*Gn},oe.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},oe.prototype.getScalePercent=function(pe){var ze=this.max,Xe=this.min;if(ze===Xe)return 0;var ir=this.exponent,Br=(xt(ir,pe)-xt(ir,Xe))/(xt(ir,ze)-xt(ir,Xe));return Br},oe}(_),Me=me,Pe=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="time",pe}return oe.prototype.getText=function(pe,ze){var Xe=this.translate(pe),ir=this.formatter;return ir?ir(Xe,ze):Dt(Xe,this.mask)},oe.prototype.scale=function(pe){var ze=pe;return(Object(o.O)(ze)||Object(o.D)(ze))&&(ze=this.translate(ze)),ge.prototype.scale.call(this,ze)},oe.prototype.translate=function(pe){return Mt(pe)},oe.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},oe.prototype.setDomain=function(){var pe=this.values,ze=this.getConfig("min"),Xe=this.getConfig("max");if((!Object(o.I)(ze)||!Object(o.K)(ze))&&(this.min=this.translate(this.min)),(!Object(o.I)(Xe)||!Object(o.K)(Xe))&&(this.max=this.translate(this.max)),pe&&pe.length){var ir=[],Br=Infinity,sn=Br,Gn=0;Object(o.j)(pe,function(In){var mn=Mt(In);if(isNaN(mn))throw new TypeError("Invalid Time: "+In+" in time scale!");Br>mn?(sn=Br,Br=mn):sn>mn&&(sn=mn),Gn<mn&&(Gn=mn),ir.push(mn)}),pe.length>1&&(this.minTickInterval=sn-Br),Object(o.I)(ze)&&(this.min=Br),Object(o.I)(Xe)&&(this.max=Gn)}},oe}(Rt),Ge=Pe,nr=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="quantize",pe}return oe.prototype.invert=function(pe){var ze=this.ticks,Xe=ze.length,ir=this.getInvertPercent(pe),Br=Math.floor(ir*(Xe-1));if(Br>=Xe-1)return Object(o.S)(ze);if(Br<0)return Object(o.y)(ze);var sn=ze[Br],Gn=ze[Br+1],In=Br/(Xe-1),mn=(Br+1)/(Xe-1);return sn+(ir-In)/(mn-In)*(Gn-sn)},oe.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},oe.prototype.calculateTicks=function(){var pe=ge.prototype.calculateTicks.call(this);return this.nice||(Object(o.S)(pe)!==this.max&&pe.push(this.max),Object(o.y)(pe)!==this.min&&pe.unshift(this.min)),pe},oe.prototype.getScalePercent=function(pe){var ze=this.ticks;if(pe<Object(o.y)(ze))return 0;if(pe>Object(o.S)(ze))return 1;var Xe=0;return Object(o.j)(ze,function(ir,Br){if(pe>=ir)Xe=Br;else return!1}),Xe/(ze.length-1)},oe}(_),gr=nr,or=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="quantile",pe}return oe.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},oe}(gr),Ze=or,mr={};function Nr(ge){return mr[ge]}function Mr(ge,oe){if(Nr(ge))throw new Error("type '"+ge+"' existed.");mr[ge]=oe}var vn=function(ge){Object(S.c)(oe,ge);function oe(){var pe=ge!==null&&ge.apply(this,arguments)||this;return pe.type="identity",pe.isIdentity=!0,pe}return oe.prototype.calculateTicks=function(){return this.values},oe.prototype.scale=function(pe){return this.values[0]!==pe&&Object(o.K)(pe)?pe:this.range[0]},oe.prototype.invert=function(pe){var ze=this.range;return pe<ze[0]||pe>ze[1]?NaN:this.values[0]},oe}(C),Ln=vn,We=[1,5,2,2.5,4,3],Ye=[1,5,2,2.5,4,3,1.5,7,6,8,9],Gr=Number.EPSILON*100;function Jr(ge,oe){return(ge%oe+oe)%oe}function _r(ge,oe,pe,ze,Xe,ir){var Br=Object(o.jb)(oe),sn=Object(o.A)(oe,ge),Gn=0,In=Jr(ze,ir);return(In<Gr||ir-In<Gr)&&ze<=0&&Xe>=0&&(Gn=1),1-sn/(Br-1)-pe+Gn}function bn(ge,oe,pe){var ze=Object(o.jb)(oe),Xe=Object(o.A)(oe,ge),ir=1;return 1-Xe/(ze-1)-pe+ir}function ta(ge,oe,pe,ze,Xe,ir){var Br=(ge-1)/(ir-Xe),sn=(oe-1)/(Math.max(ir,ze)-Math.min(pe,Xe));return 2-Math.max(Br/sn,sn/Br)}function aa(ge,oe){return ge>=oe?2-(ge-1)/(oe-1):1}function wn(ge,oe,pe,ze){var Xe=oe-ge;return 1-.5*(Math.pow(oe-ze,2)+Math.pow(ge-pe,2))/Math.pow(.1*Xe,2)}function ea(ge,oe,pe){var ze=oe-ge;if(pe>ze){var Xe=(pe-ze)/2;return 1-Math.pow(Xe,2)/Math.pow(.1*ze,2)}return 1}function Aa(){return 1}function Fa(ge,oe,pe,ze,Xe,ir){if(pe===void 0&&(pe=5),ze===void 0&&(ze=!0),Xe===void 0&&(Xe=We),ir===void 0&&(ir=[.25,.2,.5,.05]),Number.isNaN(ge)||Number.isNaN(oe)||typeof ge!="number"||typeof oe!="number"||!pe)return{min:0,max:0,ticks:[]};if(oe-ge<1e-15||pe===1)return{min:ge,max:oe,ticks:[ge]};for(var Br={score:-2,lmin:0,lmax:0,lstep:0},sn=1;sn<Infinity;){for(var Gn=0;Gn<Xe.length;Gn+=1){var In=Xe[Gn],mn=bn(In,Xe,sn);if(ir[0]*mn+ir[1]+ir[2]+ir[3]<Br.score){sn=Infinity;break}for(var Ba=2;Ba<Infinity;){var Ga=aa(Ba,pe);if(ir[0]*mn+ir[1]+ir[2]*Ga+ir[3]<Br.score)break;for(var fi=(oe-ge)/(Ba+1)/sn/In,si=Math.ceil(Math.log10(fi));si<Infinity;){var Di=sn*In*Math.pow(10,si),oo=ea(ge,oe,Di*(Ba-1));if(ir[0]*mn+ir[1]*oo+ir[2]*Ga+ir[3]<Br.score)break;var so=Math.floor(oe/Di)*sn-(Ba-1)*sn,Ui=Math.ceil(ge/Di)*sn;if(so>Ui){si+=1;continue}for(var ve=so;ve<=Ui;ve+=1){var Ua=ve*(Di/sn),qn=Ua+Di*(Ba-1),Lo=Di,hi=_r(In,Xe,sn,Ua,qn,Lo),Qo=wn(ge,oe,Ua,qn),zo=ta(Ba,pe,ge,oe,Ua,qn),zs=Aa(),yo=ir[0]*hi+ir[1]*Qo+ir[2]*zo+ir[3]*zs;yo>Br.score&&(!ze||Ua<=ge&&qn>=oe)&&(Br.lmin=Ua,Br.lmax=qn,Br.lstep=Lo,Br.score=yo)}si+=1}Ba+=1}}sn+=1}for(var us=0,Jo=new Array(Math.floor((Br.lmax-Br.lmin)/Br.lstep)),gi=Br.lmin;gi<=Br.lmax;gi=Ut(gi,Br.lstep))Jo[us]=gi,us+=1;return{min:Math.min(ge,Object(o.y)(Jo)),max:Math.max(oe,Object(o.S)(Jo)),ticks:Jo}}function Yn(ge){var oe=ge.values,pe=ge.tickInterval,ze=ge.tickCount,Xe=oe;if(Object(o.K)(pe))return Object(o.l)(Xe,function(In,mn){return mn%pe==0});var ir=ge.min,Br=ge.max;if(Object(o.I)(ir)&&(ir=0),Object(o.I)(Br)&&(Br=oe.length-1),Object(o.K)(ze)&&ze<Br-ir){var sn=Fa(ir,Br,ze,!1,[1,2,5,3,4,7,6,8,9]).ticks,Gn=Object(o.l)(sn,function(In){return In>=ir&&In<=Br});return Gn.map(function(In){return oe[In]})}return oe.slice(ir,Br+1)}function Ti(ge){var oe=ge.min,pe=ge.max,ze=ge.nice,Xe=ge.tickCount,ir=new ao;return ir.domain([oe,pe]),ze&&ir.nice(Xe),ir.ticks(Xe)}var Gi=5,Qi=Math.sqrt(50),Xi=Math.sqrt(10),Ii=Math.sqrt(2),ao=function(){function ge(){this._domain=[0,1]}return ge.prototype.domain=function(oe){return oe?(this._domain=Array.from(oe,Number),this):this._domain.slice()},ge.prototype.nice=function(oe){var pe,ze;oe===void 0&&(oe=Gi);var Xe=this._domain.slice(),ir=0,Br=this._domain.length-1,sn=this._domain[ir],Gn=this._domain[Br],In;return Gn<sn&&(pe=[Gn,sn],sn=pe[0],Gn=pe[1],ze=[Br,ir],ir=ze[0],Br=ze[1]),In=Po(sn,Gn,oe),In>0?(sn=Math.floor(sn/In)*In,Gn=Math.ceil(Gn/In)*In,In=Po(sn,Gn,oe)):In<0&&(sn=Math.ceil(sn*In)/In,Gn=Math.floor(Gn*In)/In,In=Po(sn,Gn,oe)),In>0?(Xe[ir]=Math.floor(sn/In)*In,Xe[Br]=Math.ceil(Gn/In)*In,this.domain(Xe)):In<0&&(Xe[ir]=Math.ceil(sn*In)/In,Xe[Br]=Math.floor(Gn*In)/In,this.domain(Xe)),this},ge.prototype.ticks=function(oe){return oe===void 0&&(oe=Gi),Go(this._domain[0],this._domain[this._domain.length-1],oe||Gi)},ge}();function Go(ge,oe,pe){var ze,Xe=-1,ir,Br,sn;if(oe=+oe,ge=+ge,pe=+pe,ge===oe&&pe>0)return[ge];if((ze=oe<ge)&&(ir=ge,ge=oe,oe=ir),(sn=Po(ge,oe,pe))===0||!isFinite(sn))return[];if(sn>0)for(ge=Math.ceil(ge/sn),oe=Math.floor(oe/sn),Br=new Array(ir=Math.ceil(oe-ge+1));++Xe<ir;)Br[Xe]=(ge+Xe)*sn;else for(ge=Math.floor(ge*sn),oe=Math.ceil(oe*sn),Br=new Array(ir=Math.ceil(ge-oe+1));++Xe<ir;)Br[Xe]=(ge-Xe)/sn;return ze&&Br.reverse(),Br}function Po(ge,oe,pe){var ze=(oe-ge)/Math.max(0,pe),Xe=Math.floor(Math.log(ze)/Math.LN10),ir=ze/Math.pow(10,Xe);return Xe>=0?(ir>=Qi?10:ir>=Xi?5:ir>=Ii?2:1)*Math.pow(10,Xe):-Math.pow(10,-Xe)/(ir>=Qi?10:ir>=Xi?5:ir>=Ii?2:1)}function io(ge,oe,pe){var ze;return pe==="ceil"?ze=Math.ceil(ge/oe):pe==="floor"?ze=Math.floor(ge/oe):ze=Math.round(ge/oe),ze*oe}function Hi(ge,oe,pe){var ze=io(ge,pe,"floor"),Xe=io(oe,pe,"ceil");ze=Object(o.p)(ze,pe),Xe=Object(o.p)(Xe,pe);for(var ir=[],Br=ze;Br<=Xe;Br=Br+pe){var sn=Object(o.p)(Br,pe);ir.push(sn)}return{min:ze,max:Xe,ticks:ir}}function po(ge,oe,pe){var ze,Xe=ge.minLimit,ir=ge.maxLimit,Br=ge.min,sn=ge.max,Gn=ge.tickCount,In=Gn===void 0?5:Gn,mn=Object(o.I)(Xe)?Object(o.I)(oe)?Br:oe:Xe,Ba=Object(o.I)(ir)?Object(o.I)(pe)?sn:pe:ir;if(mn>Ba&&(ze=[mn,Ba],Ba=ze[0],mn=ze[1]),In<=2)return[mn,Ba];for(var Ga=(Ba-mn)/(In-1),fi=[],si=0;si<In;si++)fi.push(mn+Ga*si);return fi}function So(ge){var oe=ge.min,pe=ge.max,ze=ge.tickInterval,Xe=ge.minLimit,ir=ge.maxLimit,Br=Ti(ge);return!Object(o.I)(Xe)||!Object(o.I)(ir)?po(ge,Object(o.y)(Br),Object(o.S)(Br)):ze?Hi(oe,pe,ze).ticks:Br}function Zo(ge){var oe=ge.min,pe=ge.max,ze=ge.tickCount,Xe=ge.nice,ir=ge.tickInterval,Br=ge.minLimit,sn=ge.maxLimit,Gn=Fa(oe,pe,ze,Xe).ticks;return!Object(o.I)(Br)||!Object(o.I)(sn)?po(ge,Object(o.y)(Gn),Object(o.S)(Gn)):ir?Hi(oe,pe,ir).ticks:Gn}function $o(ge){var oe=ge.base,pe=ge.tickCount,ze=ge.min,Xe=ge.max,ir=ge.values,Br,sn=Nt(oe,Xe);if(ze>0)Br=Math.floor(Nt(oe,ze));else{var Gn=Ht(ir,oe,Xe);Br=Math.floor(Nt(oe,Gn))}for(var In=sn-Br,mn=Math.ceil(In/pe),Ba=[],Ga=Br;Ga<sn+mn;Ga=Ga+mn)Ba.push(Math.pow(oe,Ga));return ze<=0&&Ba.unshift(0),Ba}function wi(ge,oe,pe){pe===void 0&&(pe=5);var ze={max:0,min:0,ticks:[]};if(ge===oe)return{max:oe,min:ge,ticks:[ge]};var Xe=1.5,ir=.5+1.5*Xe,Br=oe-ge,sn=Br/pe,Gn=Math.pow(10,Math.floor(Math.log10(sn))),In=Gn<1?Math.ceil(Math.abs(Math.log10(Gn))):0,mn=Gn;2*Gn-sn<Xe*(sn-mn)&&(mn=2*Gn,5*Gn-sn<ir*(sn-mn)&&(mn=5*Gn,10*Gn-sn<Xe*(sn-mn)&&(mn=10*Gn)));var Ba=Math.ceil(oe/mn),Ga=Math.floor(ge/mn);ze.max=Math.max(Ba*mn,oe),ze.min=Math.min(Ga*mn,ge);for(var fi=Number.parseFloat((Ga*mn).toFixed(In));fi<oe;)ze.ticks.push(fi),fi+=mn,In&&(fi=Number.parseFloat(fi.toFixed(In)));return ze.ticks.push(fi),ze}function ys(ge){var oe=ge.exponent,pe=ge.tickCount,ze=Math.ceil(xt(oe,ge.max)),Xe=Math.floor(xt(oe,ge.min)),ir=wi(Xe,ze,pe).ticks;return ir.map(function(Br){var sn=Br>=0?1:-1;return Math.pow(Br,oe)*sn})}function Ws(ge,oe){var pe=ge.length*oe;return oe===1?ge[ge.length-1]:oe===0?ge[0]:pe%1!=0?ge[Math.ceil(pe)-1]:ge.length%2==0?(ge[pe-1]+ge[pe])/2:ge[pe]}function Uo(ge){var oe=ge.tickCount,pe=ge.values;if(!pe||!pe.length)return[];for(var ze=pe.slice().sort(function(sn,Gn){return sn-Gn}),Xe=[],ir=0;ir<oe;ir++){var Br=ir/(oe-1);Xe.push(Ws(ze,Br))}return Xe}function Il(ge){var oe=ge.min,pe=ge.max,ze=ge.tickCount,Xe=ge.tickInterval,ir=ge.minLimit,Br=ge.maxLimit,sn=wi(oe,pe,ze).ticks;return!Object(o.I)(ir)||!Object(o.I)(Br)?po(ge,Object(o.y)(sn),Object(o.S)(sn)):Xe?Hi(oe,pe,Xe).ticks:sn}function Ai(ge){var oe=ge.min,pe=ge.max,ze=ge.minTickInterval,Xe=ge.tickInterval,ir=ge.tickCount;if(Xe)ir=Math.ceil((pe-oe)/Xe);else{Xe=Wt(oe,pe,ir)[1];var Br=(pe-oe)/Xe,sn=Br/ir;sn>1&&(Xe=Xe*Math.ceil(sn)),ze&&Xe<ze&&(Xe=ze)}for(var Gn=[],In=oe;In<pe+Xe;In+=Xe)Gn.push(In);return Gn}function ol(ge){var oe=Yn(ge),pe=Object(o.S)(ge.values);return pe!==Object(o.S)(oe)&&oe.push(pe),oe}function Is(ge){return new Date(ge).getFullYear()}function Ds(ge){return new Date(ge,0,1).getTime()}function ms(ge){return new Date(ge).getMonth()}function sl(ge,oe){var pe=Is(ge),ze=Is(oe),Xe=ms(ge),ir=ms(oe);return(ze-pe)*12+(ir-Xe)%12}function ua(ge,oe){return new Date(ge,oe,1).getTime()}function ru(ge,oe){return Math.ceil((oe-ge)/tt)}function Wo(ge,oe){return Math.ceil((oe-ge)/ot)}function ll(ge,oe){return Math.ceil((oe-ge)/(60*1e3))}function Ps(ge){var oe=ge.min,pe=ge.max,ze=ge.minTickInterval,Xe=ge.tickCount,ir=ge.tickInterval,Br=[];ir||(ir=(pe-oe)/Xe,ze&&ir<ze&&(ir=ze));var sn=Is(oe);if(ir>Pt)for(var Gn=Is(pe),In=Math.ceil(ir/Pt),mn=sn;mn<=Gn+In;mn=mn+In)Br.push(Ds(mn));else if(ir>yt)for(var Ba=Math.ceil(ir/yt),Ga=ms(oe),fi=sl(oe,pe),mn=0;mn<=fi+Ba;mn=mn+Ba)Br.push(ua(sn,mn+Ga));else if(ir>tt)for(var si=new Date(oe),Di=si.getFullYear(),oo=si.getMonth(),so=si.getDate(),Ui=Math.ceil(ir/tt),ve=ru(oe,pe),mn=0;mn<ve+Ui;mn=mn+Ui)Br.push(new Date(Di,oo,so+mn).getTime());else if(ir>ot)for(var si=new Date(oe),Di=si.getFullYear(),oo=si.getMonth(),Ui=si.getDate(),Ua=si.getHours(),qn=Math.ceil(ir/ot),Lo=Wo(oe,pe),mn=0;mn<=Lo+qn;mn=mn+qn)Br.push(new Date(Di,oo,Ui,Ua+mn).getTime());else if(ir>V)for(var hi=ll(oe,pe),Qo=Math.ceil(ir/V),mn=0;mn<=hi+Qo;mn=mn+Qo)Br.push(oe+mn*V);else{var zo=ir;zo<q&&(zo=q);for(var zs=Math.floor(oe/q)*q,yo=Math.ceil((pe-oe)/q),us=Math.ceil(zo/q),mn=0;mn<yo+us;mn=mn+us)Br.push(zs+mn*q)}return Br.length>=512&&console.warn("Notice: current ticks length("+Br.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+ir+") is too small, increase the value to solve the problem!"),Br}M("cat",Yn),M("time-cat",ol),M("wilkinson-extended",Zo),M("r-pretty",Il),M("time",Ai),M("time-pretty",Ps),M("log",$o),M("pow",ys),M("quantile",Uo),M("d3-linear",So),Mr("cat",E),Mr("category",E),Mr("identity",Ln),Mr("linear",Rt),Mr("log",se),Mr("pow",Me),Mr("time",Ge),Mr("timeCat",Lt),Mr("quantize",gr),Mr("quantile",Ze)},"7LJS":function(wt,P,i){var d=i("0Zv/");function o(b,x,M){for(var D=-1,C=b.length;++D<C;){var S=b[D],O=x(S);if(O!=null&&(E===void 0?O===O&&!d(O):M(O,E)))var E=O,I=S}return I}wt.exports=o},"7Xsh":function(wt,P){},"7a2H":function(wt,P,i){"use strict";i.r(P),i.d(P,"Category",function(){return R}),i.d(P,"Continuous",function(){return W}),i.d(P,"Base",function(){return E});var d=i("J+IK"),o=i("jg4I"),b=i("uRYK"),x=i("xdm5"),M=i("JRP5"),D=i("KwOt"),C=i("jFyH"),S=i("L+OQ"),O=function(z){Object(d.c)(N,z);function N(){return z!==null&&z.apply(this,arguments)||this}return N.prototype.getDefaultCfg=function(){var j=z.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},j),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},N.prototype.getLayoutBBox=function(){var j=z.prototype.getLayoutBBox.call(this),F=this.get("maxWidth"),k=this.get("maxHeight"),$=j.width,nt=j.height;return F&&($=Math.min($,F)),k&&(nt=Math.min(nt,k)),Object(S.b)(j.minX,j.minY,$,nt)},N.prototype.setLocation=function(j){this.set("x",j.x),this.set("y",j.y),this.resetLocation()},N.prototype.resetLocation=function(){var j=this.get("x"),F=this.get("y"),k=this.get("offsetX"),$=this.get("offsetY");this.moveElementTo(this.get("group"),{x:j+k,y:F+$})},N.prototype.applyOffset=function(){this.resetLocation()},N.prototype.getDrawPoint=function(){return this.get("currentPoint")},N.prototype.setDrawPoint=function(j){return this.set("currentPoint",j)},N.prototype.renderInner=function(j){this.resetDraw(),this.get("title")&&this.drawTitle(j),this.drawLegendContent(j),this.get("background")&&this.drawBackground(j)},N.prototype.drawBackground=function(j){var F=this.get("background"),k=j.getBBox(),$=Object(S.c)(F.padding),nt=Object(d.a)({x:0,y:0,width:k.width+$[1]+$[3],height:k.height+$[0]+$[2]},F.style),st=this.addShape(j,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:nt});st.toBack()},N.prototype.drawTitle=function(j){var F=this.get("currentPoint"),k=this.get("title"),$=k.spacing,nt=k.style,st=k.text,rt=this.addShape(j,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(d.a)({text:st,x:F.x,y:F.y},nt)}),Q=rt.getBBox();this.set("currentPoint",{x:F.x,y:Q.maxY+$})},N.prototype.resetDraw=function(){var j=this.get("background"),F={x:0,y:0};if(j){var k=Object(S.c)(j.padding);F.x=k[3],F.y=k[0]}this.set("currentPoint",F)},N}(C.a),E=O,I={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},A=function(z){Object(d.c)(N,z);function N(){var j=z!==null&&z.apply(this,arguments)||this;return j.currentPageIndex=1,j.totalPagesCnt=1,j.pageWidth=0,j.pageHeight=0,j.startX=0,j.startY=0,j.onNavigationBack=function(){var F=j.getElementByLocalId("item-group");if(j.currentPageIndex>1){j.currentPageIndex-=1,j.updateNavigation();var k=j.getCurrentNavigationMatrix();j.get("animate")?F.animate({matrix:k},100):F.attr({matrix:k})}},j.onNavigationAfter=function(){var F=j.getElementByLocalId("item-group");if(j.currentPageIndex<j.totalPagesCnt){j.currentPageIndex+=1,j.updateNavigation();var k=j.getCurrentNavigationMatrix();j.get("animate")?F.animate({matrix:k},100):F.attr({matrix:k})}},j}return N.prototype.getDefaultCfg=function(){var j=z.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},j),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:D.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:I,itemName:{spacing:16,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:D.a.uncheckedColor},markerStyle:{fill:D.a.uncheckedColor,stroke:D.a.uncheckedColor}},inactive:{nameStyle:{fill:D.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},N.prototype.isList=function(){return!0},N.prototype.getItems=function(){return this.get("items")},N.prototype.setItems=function(j){this.update({items:j})},N.prototype.updateItem=function(j,F){Object(o.bb)(j,F),this.clear(),this.render()},N.prototype.clearItems=function(){var j=this.getElementByLocalId("item-group");j&&j.clear()},N.prototype.setItemState=function(j,F,k){j[F]=k;var $=this.getElementByLocalId("item-"+j.id);if($){var nt=this.getItems(),st=nt.indexOf(j),rt=this.createOffScreenGroup(),Q=this.drawItem(j,st,this.getItemHeight(),rt);this.updateElements(Q,$),this.clearUpdateStatus($)}},N.prototype.hasState=function(j,F){return!!j[F]},N.prototype.getItemStates=function(j){var F=this.get("itemStates"),k=[];return Object(o.j)(F,function($,nt){j[nt]&&k.push(nt)}),k},N.prototype.clearItemsState=function(j){var F=this,k=this.getItemsByState(j);Object(o.j)(k,function($){F.setItemState($,j,!1)})},N.prototype.getItemsByState=function(j){var F=this,k=this.getItems();return Object(o.l)(k,function($){return F.hasState($,j)})},N.prototype.drawLegendContent=function(j){this.processItems(),this.drawItems(j)},N.prototype.processItems=function(){var j=this.get("items");Object(o.j)(j,function(F){F.id||(F.id=F.name)})},N.prototype.drawItems=function(j){var F=this,k=this.addGroup(j,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),$=this.addGroup(k,{id:this.getElementId("item-group"),name:"legend-item-group"}),nt=this.getItemHeight(),st=this.get("itemWidth"),rt=this.get("itemSpacing"),Q=this.get("itemMarginBottom"),Y=this.get("currentPoint"),K=Y.x,et=Y.y,ut=this.get("layout"),dt=this.get("items"),vt=!1,at=0,pt=this.get("maxWidth"),Tt=this.get("maxHeight");Object(o.j)(dt,function(Gt,Kt){var Xt=F.drawItem(Gt,Kt,nt,$),gt=Xt.getBBox(),lt=st||gt.width;lt>at&&(at=lt),ut==="horizontal"?(pt&&pt<Y.x+lt-K&&(vt=!0,Y.x=K,Y.y+=nt+Q),F.moveElementTo(Xt,Y),Y.x+=lt+rt):(Tt&&Tt<Y.y+nt+Q-et&&(vt=!0,Y.x+=at+rt,Y.y=et,at=0),F.moveElementTo(Xt,Y),Y.y+=nt+Q)}),vt&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=K,this.startY=et,this.adjustNavigation(j,$))},N.prototype.getItemHeight=function(){var j=this.get("itemHeight");if(!j){var F=this.get("itemName");F&&(j=F.style.fontSize)}return j},N.prototype.drawMarker=function(j,F,k,$){var nt=Object(d.a)(Object(d.a)(Object(d.a)({x:0,y:$/2},F.style),{symbol:Object(o.s)(k.marker,"symbol","circle")}),Object(o.s)(k.marker,"style",{})),st=this.addShape(j,{type:"marker",id:this.getElementId("item-"+k.id+"-marker"),name:"legend-item-marker",attrs:nt}),rt=st.getBBox();st.attr("x",rt.width/2);var Q=st.attr(),Y=Q.stroke,K=Q.fill;return Y&&st.set("isStroke",!0),K&&st.set("isFill",!0),st},N.prototype.drawItemText=function(j,F,k,$,nt,st,rt){var Q=k.formatter,Y=Object(d.a)({x:st,y:nt/2,text:Q?Q($[F],$,rt):$[F]},k.style);return this.addShape(j,{type:"text",id:this.getElementId("item-"+$.id+"-"+F),name:"legend-item-"+F,attrs:Y})},N.prototype.drawItem=function(j,F,k,$){var nt="item-"+j.id,st=this.addGroup($,{name:"legend-item-container",id:this.getElementId("item-container-"+nt),delegateObject:{item:j,index:F}}),rt=this.addGroup(st,{name:"legend-item",id:this.getElementId(nt),delegateObject:{item:j,index:F}}),Q=this.get("marker"),Y=this.get("itemName"),K=this.get("itemValue"),et=this.get("itemBackground"),ut=this.getLimitItemWidth(),dt=0;if(Q){var vt=this.drawMarker(rt,Q,j,k);dt=vt.getBBox().maxX+Q.spacing}if(Y){var at=this.drawItemText(rt,"name",Y,j,k,dt,F);ut&&Object(b.a)(!0,at,Object(o.c)(ut-dt,0,ut)),dt=at.getBBox().maxX+Y.spacing}if(K){var pt=this.drawItemText(rt,"value",K,j,k,dt,F);ut&&(K.alignRight?(pt.attr({textAlign:"right",x:ut}),Object(b.a)(!0,pt,Object(o.c)(ut-dt,0,ut),"head")):Object(b.a)(!0,pt,Object(o.c)(ut-dt,0,ut)))}if(et){var Tt=rt.getBBox(),Gt=this.addShape(rt,{type:"rect",name:"legend-item-background",id:this.getElementId(nt+"-background"),attrs:Object(d.a)({x:0,y:0,width:Tt.width,height:k},et.style)});Gt.toBack()}return this.applyItemStates(j,rt),rt},N.prototype.adjustNavigation=function(j,F){var k=this,$=this.startX,nt=this.startY,st=this.get("layout"),rt=F.findAll(function(ft){return ft.get("name")==="legend-item"}),Q=this.get("maxWidth"),Y=this.get("maxHeight"),K=this.get("itemWidth"),et=this.get("itemSpacing"),ut=this.getItemHeight(),dt=Object(o.h)({},I,this.get("pageNavigator")),vt=this.drawNavigation(j,st,"00/00",dt),at=vt.getBBox(),pt={x:$,y:nt},Tt=1,Gt=0,Kt=0,Xt=0;if(st==="horizontal")this.pageHeight=ut,Object(o.j)(rt,function(ft){var it=ft.getBBox(),bt=K||it.width;(Gt&&Gt<pt.x+bt+et||Q<pt.x+bt+et+at.width)&&(Tt===1&&(Gt=pt.x+et,k.pageWidth=Gt,k.moveElementTo(vt,{x:Q-et-at.width-at.minX,y:pt.y+ut/2-at.height/2-at.minY})),Tt+=1,pt.x=$,pt.y+=ut),k.moveElementTo(ft,pt),ft.getParent().setClip({type:"rect",attrs:{x:pt.x,y:pt.y,width:bt+et,height:ut}}),pt.x+=bt+et});else{var gt=this.get("itemMarginBottom");Object(o.j)(rt,function(ft){var it=ft.getBBox();it.width>Kt&&(Kt=it.width)}),Xt=Kt,Kt+=et,Q&&(Kt=Math.min(Q,Kt),Xt=Math.min(Q,Xt)),this.pageWidth=Kt,this.pageHeight=Y-Math.max(at.height,ut+gt);var lt=Math.floor(this.pageHeight/(ut+gt));Object(o.j)(rt,function(ft,it){it!==0&&it%lt==0&&(Tt+=1,pt.x+=Kt,pt.y=nt),k.moveElementTo(ft,pt),ft.getParent().setClip({type:"rect",attrs:{x:pt.x,y:pt.y,width:Kt,height:ut}}),pt.y+=ut+gt}),this.totalPagesCnt=Tt,this.moveElementTo(vt,{x:$+Xt/2-at.width/2-at.minX,y:Y-at.height-at.minY})}this.pageHeight&&this.pageWidth&&F.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Tt,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(vt),F.attr("matrix",this.getCurrentNavigationMatrix())},N.prototype.drawNavigation=function(j,F,k,$){var nt={x:0,y:0},st=this.addGroup(j,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),rt=Object(o.s)($.marker,"style",{}),Q=rt.size,Y=Q===void 0?12:Q,K=Object(d.e)(rt,["size"]),et=this.drawArrow(st,nt,"navigation-arrow-left",F==="horizontal"?"up":"left",Y,K);et.on("click",this.onNavigationBack);var ut=et.getBBox();nt.x+=ut.width+2;var dt=this.addShape(st,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(d.a)({x:nt.x,y:nt.y+Y/2,text:k,textBaseline:"middle"},Object(o.s)($.text,"style"))}),vt=dt.getBBox();nt.x+=vt.width+2;var at=this.drawArrow(st,nt,"navigation-arrow-right",F==="horizontal"?"down":"right",Y,K);return at.on("click",this.onNavigationAfter),st},N.prototype.updateNavigation=function(j){var F=Object(o.h)({},I,this.get("pageNavigator")),k=F.marker.style,$=k.fill,nt=k.opacity,st=k.inactiveFill,rt=k.inactiveOpacity,Q=this.currentPageIndex+"/"+this.totalPagesCnt,Y=j?j.getChildren()[1]:this.getElementByLocalId("navigation-text"),K=j?j.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),et=j?j.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),ut=Y.getBBox();Y.attr("text",Q);var dt=Y.getBBox();Y.attr("x",Y.attr("x")-(dt.width-ut.width)/2),K.attr("opacity",this.currentPageIndex===1?rt:nt),K.attr("fill",this.currentPageIndex===1?st:$),K.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),et.attr("opacity",this.currentPageIndex===this.totalPagesCnt?rt:nt),et.attr("fill",this.currentPageIndex===this.totalPagesCnt?st:$),et.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},N.prototype.drawArrow=function(j,F,k,$,nt,st){var rt=F.x,Q=F.y,Y={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},K=this.addShape(j,{type:"path",id:this.getElementId(k),name:k,attrs:Object(d.a)({path:[["M",rt+nt/2,Q],["L",rt,Q+nt],["L",rt+nt,Q+nt],["Z"]],cursor:"pointer"},st)});return K.attr("matrix",Object(x.e)({x:rt+nt/2,y:Q+nt/2},Y[$])),K},N.prototype.getCurrentNavigationMatrix=function(){var j=this,F=j.currentPageIndex,k=j.pageWidth,$=j.pageHeight,nt=this.get("layout"),st=nt==="horizontal"?{x:0,y:$*(1-F)}:{x:k*(1-F),y:0};return Object(x.f)(st)},N.prototype.applyItemStates=function(j,F){var k=this.getItemStates(j),$=k.length>0;if($){var nt=F.getChildren(),st=this.get("itemStates");Object(o.j)(nt,function(rt){var Q=rt.get("name"),Y=Q.split("-")[2],K=Object(M.a)(j,Y,st);K&&(rt.attr(K),Y==="marker"&&!(rt.get("isStroke")&&rt.get("isFill"))&&(rt.get("isStroke")&&rt.attr("fill",null),rt.get("isFill")&&rt.attr("stroke",null)))})}},N.prototype.getLimitItemWidth=function(){var j=this.get("itemWidth"),F=this.get("maxItemWidth");return F?j&&(F=j<=F?j:F):j&&(F=j),F},N}(E),R=A,B=1.4,p=.4,G=function(z){Object(d.c)(N,z);function N(){return z!==null&&z.apply(this,arguments)||this}return N.prototype.getDefaultCfg=function(){var j=z.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},j),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:D.a.textColor,textBaseline:"middle",fontFamily:D.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},N.prototype.isSlider=function(){return!0},N.prototype.getValue=function(){return this.getCurrentValue()},N.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},N.prototype.setRange=function(j,F){this.update({min:j,max:F})},N.prototype.setValue=function(j){var F=this.getValue();this.set("value",j);var k=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(k),this.delegateEmit("valuechanged",{originValue:F,value:j})},N.prototype.initEvent=function(){var j=this.get("group");this.bindSliderEvent(j),this.bindRailEvent(j),this.bindTrackEvent(j)},N.prototype.drawLegendContent=function(j){this.drawRail(j),this.drawLabels(j),this.fixedElements(j),this.resetTrack(j),this.resetTrackClip(j),this.get("slidable")&&this.resetHandlers(j)},N.prototype.bindSliderEvent=function(j){this.bindHandlersEvent(j)},N.prototype.bindHandlersEvent=function(j){var F=this;j.on("legend-handler-min:drag",function(k){var $=F.getValueByCanvasPoint(k.x,k.y),nt=F.getCurrentValue(),st=nt[1];st<$&&(st=$),F.setValue([$,st])}),j.on("legend-handler-max:drag",function(k){var $=F.getValueByCanvasPoint(k.x,k.y),nt=F.getCurrentValue(),st=nt[0];st>$&&(st=$),F.setValue([st,$])})},N.prototype.bindRailEvent=function(j){},N.prototype.bindTrackEvent=function(j){var F=this,k=null;j.on("legend-track:dragstart",function($){k={x:$.x,y:$.y}}),j.on("legend-track:drag",function($){if(!!k){var nt=F.getValueByCanvasPoint(k.x,k.y),st=F.getValueByCanvasPoint($.x,$.y),rt=F.getCurrentValue(),Q=rt[1]-rt[0],Y=F.getRange(),K=st-nt;K<0?rt[0]+K>Y.min?F.setValue([rt[0]+K,rt[1]+K]):F.setValue([Y.min,Y.min+Q]):K>0&&(K>0&&rt[1]+K<Y.max?F.setValue([rt[0]+K,rt[1]+K]):F.setValue([Y.max-Q,Y.max])),k={x:$.x,y:$.y}}}),j.on("legend-track:dragend",function($){k=null})},N.prototype.drawLabels=function(j){this.drawLabel("min",j),this.drawLabel("max",j)},N.prototype.drawLabel=function(j,F){var k=this.get("label"),$=k.style,nt=k.align,st=k.formatter,rt=this.get(j),Q=this.getLabelAlignAttrs(j,nt),Y="label-"+j;this.addShape(F,{type:"text",id:this.getElementId(Y),name:"legend-label-"+j,attrs:Object(d.a)(Object(d.a)({x:0,y:0,text:Object(o.H)(st)?st(rt):rt},$),Q)})},N.prototype.getLabelAlignAttrs=function(j,F){var k=this.isVertical(),$="center",nt="middle";return k?($="start",F!=="rail"?j==="min"?nt="top":nt="bottom":nt="top"):F!=="rail"?(nt="top",j==="min"?$="start":$="end"):($="start",nt="middle"),{textAlign:$,textBaseline:nt}},N.prototype.getRailPath=function(j,F,k,$){var nt=this.get("rail"),st=nt.size,rt=nt.defaultLength,Q=nt.type,Y=this.isVertical(),K=rt,et=k,ut=$;et||(et=Y?st:K),ut||(ut=Y?K:st);var dt=[];return Q==="color"?(dt.push(["M",j,F]),dt.push(["L",j+et,F]),dt.push(["L",j+et,F+ut]),dt.push(["L",j,F+ut]),dt.push(["Z"])):(dt.push(["M",j+et,F]),dt.push(["L",j+et,F+ut]),dt.push(["L",j,F+ut]),dt.push(["Z"])),dt},N.prototype.drawRail=function(j){var F=this.get("rail"),k=F.style;this.addShape(j,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(d.a)({path:this.getRailPath(0,0)},k)})},N.prototype.getTrackColor=function(j){var F=j.length;if(!F)return null;if(F===1)return j[0];var k;this.isVertical()?k="l(90)":k="l(0)";for(var $=0;$<F;$++){var nt=$/(F-1);k+=" "+nt+":"+j[$]}return k},N.prototype.getTrackPath=function(j){var F=this.getRailShape(j),k=F.attr("path");return Object(o.e)(k)},N.prototype.getClipTrackAttrs=function(j){var F=this.getCurrentValue(),k=F[0],$=F[1],nt=this.getRailBBox(j),st=this.getPointByValue(k,j),rt=this.getPointByValue($,j),Q=this.isVertical(),Y,K,et,ut;return Q?(Y=nt.minX,K=st.y,et=nt.width,ut=rt.y-st.y):(Y=st.x,K=nt.minY,et=rt.x-st.x,ut=nt.height),{x:Y,y:K,width:et,height:ut}},N.prototype.getTrackAttrs=function(j){var F=this.get("track"),k=this.get("colors"),$=this.getTrackPath(j);return Object(o.bb)({path:$,fill:this.getTrackColor(k)},F.style)},N.prototype.resetTrackClip=function(j){var F=j||this.get("group"),k=this.getElementId("track"),$=F.findById(k),nt=$.getClip(),st=this.getClipTrackAttrs(j);nt?nt.attr(st):$.setClip({type:"rect",attrs:st})},N.prototype.resetTrack=function(j){var F=this.getElementId("track"),k=j.findById(F),$=this.getTrackAttrs(j);k?k.attr($):this.addShape(j,{type:"path",id:F,draggable:this.get("slidable"),name:"legend-track",attrs:$})},N.prototype.getPointByValue=function(j,F){var k=this.getRange(),$=k.min,nt=k.max,st=(j-$)/(nt-$),rt=this.getRailBBox(F),Q=this.isVertical(),Y={x:0,y:0};return Q?(Y.x=rt.minX+rt.width/2,Y.y=Object(S.g)(rt.minY,rt.maxY,st)):(Y.x=Object(S.g)(rt.minX,rt.maxX,st),Y.y=rt.minY+rt.height/2),Y},N.prototype.getRailShape=function(j){var F=j||this.get("group");return F.findById(this.getElementId("rail"))},N.prototype.getRailBBox=function(j){var F=this.getRailShape(j),k=F.getBBox();return k},N.prototype.getRailCanvasBBox=function(){var j=this.get("group"),F=j.findById(this.getElementId("rail")),k=F.getCanvasBBox();return k},N.prototype.isVertical=function(){return this.get("layout")==="vertical"},N.prototype.getValueByCanvasPoint=function(j,F){var k=this.getRange(),$=k.min,nt=k.max,st=this.getRailCanvasBBox(),rt=this.isVertical(),Q=this.get("step"),Y;rt?Y=(F-st.minY)/st.height:Y=(j-st.minX)/st.width;var K=Object(S.g)($,nt,Y);if(Q){var et=Math.round((K-$)/Q);K=$+et*Q}return K>nt&&(K=nt),K<$&&(K=$),K},N.prototype.getCurrentValue=function(){var j=this.get("value");return j||(j=[this.get("min"),this.get("max")]),j},N.prototype.resetHandlers=function(j){var F=this.getCurrentValue(),k=F[0],$=F[1];this.resetHandler(j,"min",k),this.resetHandler(j,"max",$)},N.prototype.getHandlerPath=function(j,F){var k=this.isVertical(),$=[],nt=j.size,st=F.x,rt=F.y,Q=nt*B,Y=nt/2,K=nt/6;if(k){var et=st+Q*p;$.push(["M",st,rt]),$.push(["L",et,rt+Y]),$.push(["L",st+Q,rt+Y]),$.push(["L",st+Q,rt-Y]),$.push(["L",et,rt-Y]),$.push(["Z"]),$.push(["M",et,rt+K]),$.push(["L",st+Q-2,rt+K]),$.push(["M",et,rt-K]),$.push(["L",st+Q-2,rt-K])}else{var ut=rt+Q*p;$.push(["M",st,rt]),$.push(["L",st-Y,ut]),$.push(["L",st-Y,rt+Q]),$.push(["L",st+Y,rt+Q]),$.push(["L",st+Y,ut]),$.push(["Z"]),$.push(["M",st-K,ut]),$.push(["L",st-K,rt+Q-2]),$.push(["M",st+K,ut]),$.push(["L",st+K,rt+Q-2])}return $},N.prototype.resetHandler=function(j,F,k){var $=this.getPointByValue(k,j),nt=this.get("handler"),st=this.getHandlerPath(nt,$),rt=this.getElementId("handler-"+F),Q=j.findById(rt),Y=this.isVertical();Q?Q.attr("path",st):this.addShape(j,{type:"path",name:"legend-handler-"+F,draggable:!0,id:rt,attrs:Object(d.a)(Object(d.a)({path:st},nt.style),{cursor:Y?"ns-resize":"ew-resize"})})},N.prototype.fixedElements=function(j){var F=j.findById(this.getElementId("rail")),k=j.findById(this.getElementId("label-min")),$=j.findById(this.getElementId("label-max")),nt=this.getDrawPoint();this.isVertical()?this.fixedVertail(k,$,F,nt):this.fixedHorizontal(k,$,F,nt)},N.prototype.fitRailLength=function(j,F,k,$){var nt=this.isVertical(),st=nt?"height":"width",rt=this.get("label"),Q=rt.align,Y=rt.spacing,K=this.get("max"+Object(o.tb)(st));if(K){var et=Q==="rail"?k[st]+j[st]+F[st]+Y*2:k[st],ut=et-K;ut>0&&this.changeRailLength($,st,k[st]-ut)}},N.prototype.changeRailLength=function(j,F,k){var $=j.getBBox(),nt;F==="height"?nt=this.getRailPath($.x,$.y,$.width,k):nt=this.getRailPath($.x,$.y,k,$.height),j.attr("path",nt)},N.prototype.changeRailPosition=function(j,F,k){var $=j.getBBox(),nt=this.getRailPath(F,k,$.width,$.height);j.attr("path",nt)},N.prototype.fixedHorizontal=function(j,F,k,$){var nt=this.get("label"),st=nt.align,rt=nt.spacing,Q=k.getBBox(),Y=j.getBBox(),K=F.getBBox(),et=Q.height;this.fitRailLength(Y,K,Q,k),Q=k.getBBox(),st==="rail"?(j.attr({x:$.x,y:$.y+et/2}),this.changeRailPosition(k,$.x+Y.width+rt,$.y),F.attr({x:$.x+Y.width+Q.width+rt*2,y:$.y+et/2})):st==="top"?(j.attr({x:$.x,y:$.y}),F.attr({x:$.x+Q.width,y:$.y}),this.changeRailPosition(k,$.x,$.y+Y.height+rt)):(this.changeRailPosition(k,$.x,$.y),j.attr({x:$.x,y:$.y+Q.height+rt}),F.attr({x:$.x+Q.width,y:$.y+Q.height+rt}))},N.prototype.fixedVertail=function(j,F,k,$){var nt=this.get("label"),st=nt.align,rt=nt.spacing,Q=k.getBBox(),Y=j.getBBox(),K=F.getBBox();if(this.fitRailLength(Y,K,Q,k),Q=k.getBBox(),st==="rail")j.attr({x:$.x,y:$.y}),this.changeRailPosition(k,$.x,$.y+Y.height+rt),F.attr({x:$.x,y:$.y+Y.height+Q.height+rt*2});else if(st==="right")j.attr({x:$.x+Q.width+rt,y:$.y}),this.changeRailPosition(k,$.x,$.y),F.attr({x:$.x+Q.width+rt,y:$.y+Q.height});else{var et=Math.max(Y.width,K.width);j.attr({x:$.x,y:$.y}),this.changeRailPosition(k,$.x+et+rt,$.y),F.attr({x:$.x,y:$.y+Q.height})}},N}(E),W=G},"7k+G":function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"c",function(){return o}),i.d(P,"b",function(){return b});function d(x,M){return x.views.find(function(D){return D.id===M})}function o(x){var M=x.parent;return M?M.views:[]}function b(x){return o(x).filter(function(M){return M!==x})}},"7stk":function(wt,P,i){"use strict";i.d(P,"a",function(){return p});var d=i("qJ52"),o=i.n(d),b=i("DLmx"),x=i.n(b),M=i("K4uR"),D=i.n(M),C=i("Un2Z"),S=i.n(C),O=i("OUrb"),E=i.n(O),I=i("Hg9g"),A=i("oq+b");function R(G){var W=B();return function(){var N=E()(G),j;if(W){var F=E()(this).constructor;j=Reflect.construct(N,arguments,F)}else j=N.apply(this,arguments);return S()(this,j)}}function B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(G){return!1}}var p=function(G){D()(z,G);var W=R(z);function z(N){var j;return o()(this,z),j=W.call(this,N),j.material=void 0,j.geometry=void 0,j.aabb=new A.a,j.aabbDirty=!0,j.model=void 0,j.visible=!0,j.children=[],Object.assign(x()(j),N),j}return z}(I.a)},"8+ZV":function(wt,P){wt.exports=i;function i(d,o){var b=o[0],x=o[1],M=b*b+x*x;return M>0&&(M=1/Math.sqrt(M),d[0]=o[0]*M,d[1]=o[1]*M),d}},"8Lhm":function(wt,P,i){var d=i("qccO");function o(b){var x=d(b),M=x%1;return x===x?M?x-M:x:0}wt.exports=o},"8Raj":function(wt,P,i){"use strict";i.d(P,"a",function(){return S});var d=5,o={}.toString,b=function(E,I){return o.call(E)==="[object "+I+"]"},x=function(E){return b(E,"Array")},M=function(E){return typeof E=="object"&&E!==null},D=function(E){if(!M(E)||!b(E,"Object"))return!1;for(var I=E;Object.getPrototypeOf(I)!==null;)I=Object.getPrototypeOf(I);return Object.getPrototypeOf(E)===I},C=function O(E,I,A,R){A=A||0,R=R||d;for(var B in I)if(Object.prototype.hasOwnProperty.call(I,B)){var p=I[B];p?D(p)?(D(E[B])||(E[B]={}),A<R?O(E[B],p,A+1,R):E[B]=I[B]):x(p)?(E[B]=[],E[B]=E[B].concat(p)):E[B]=p:E[B]=p}},S=function(E){for(var I=[],A=1;A<arguments.length;A++)I[A-1]=arguments[A];for(var R=0;R<I.length;R+=1)C(E,I[R]);return E}},"8Vus":function(wt,P,i){"use strict";i.d(P,"a",function(){return E});var d=i("qJ52"),o=i.n(d),b=i("25gg"),x=i.n(b),M=i("YcyD"),D=i.n(M),C,S,O;(function(I){I.PANSTART="PANSTART",I.PANEND="PANEND",I.PANMOVE="PANMOVE",I.PINCH="PINCH",I.KEYDOWN="KEYDOWN",I.KEYUP="KEYUP",I.HOVER="HOVER"})(O||(O={}));var E=(C=Object(M.injectable)(),C(S=function(){function I(){o()(this,I)}return x()(I,[{key:"listen",value:function(R){}},{key:"on",value:function(R,B){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),I}())||S)},"8Z6n":function(wt,P){wt.exports=i;function i(){var b={};b._next=b._prev=b,this._sentinel=b}i.prototype.dequeue=function(){var b=this._sentinel,x=b._prev;if(x!==b)return d(x),x},i.prototype.enqueue=function(b){var x=this._sentinel;b._prev&&b._next&&d(b),b._next=x._next,x._next._prev=b,x._next=b,b._prev=x},i.prototype.toString=function(){for(var b=[],x=this._sentinel,M=x._prev;M!==x;)b.push(JSON.stringify(M,o)),M=M._prev;return"["+b.join(", ")+"]"};function d(b){b._prev._next=b._next,b._next._prev=b._prev,delete b._next,delete b._prev}function o(b,x){if(b!=="_next"&&b!=="_prev")return x}},"8e3m":function(wt,P,i){"use strict";var d=function(){function o(b,x){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=b,this.name=b,this.originalEvent=x,this.timeStamp=x.timeStamp}return o.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.prototype.toString=function(){var b=this.type;return"[Event (type="+b+")]"},o.prototype.save=function(){},o.prototype.restore=function(){},o}();P.a=d},"8hqx":function(wt,P,i){wt.exports=i("KAHC")},"99LQ":function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"b",function(){return o}),i.d(P,"c",function(){return x}),i.d(P,"d",function(){return fl}),i.d(P,"e",function(){return _r}),i.d(P,"f",function(){return b});var d={};i.r(d),i.d(d,"create",function(){return D}),i.d(d,"fromMat4",function(){return C}),i.d(d,"clone",function(){return S}),i.d(d,"copy",function(){return O}),i.d(d,"fromValues",function(){return E}),i.d(d,"set",function(){return I}),i.d(d,"identity",function(){return A}),i.d(d,"transpose",function(){return R}),i.d(d,"invert",function(){return B}),i.d(d,"adjoint",function(){return p}),i.d(d,"determinant",function(){return G}),i.d(d,"multiply",function(){return W}),i.d(d,"translate",function(){return z}),i.d(d,"rotate",function(){return N}),i.d(d,"scale",function(){return j}),i.d(d,"fromTranslation",function(){return F}),i.d(d,"fromRotation",function(){return k}),i.d(d,"fromScaling",function(){return $}),i.d(d,"fromMat2d",function(){return nt}),i.d(d,"fromQuat",function(){return st}),i.d(d,"normalFromMat4",function(){return rt}),i.d(d,"projection",function(){return Q}),i.d(d,"str",function(){return Y}),i.d(d,"frob",function(){return K}),i.d(d,"add",function(){return et}),i.d(d,"subtract",function(){return ut}),i.d(d,"multiplyScalar",function(){return dt}),i.d(d,"multiplyScalarAndAdd",function(){return vt}),i.d(d,"exactEquals",function(){return at}),i.d(d,"equals",function(){return pt}),i.d(d,"mul",function(){return Tt}),i.d(d,"sub",function(){return Gt});var o={};i.r(o),i.d(o,"create",function(){return Kt}),i.d(o,"clone",function(){return Xt}),i.d(o,"copy",function(){return gt}),i.d(o,"fromValues",function(){return lt}),i.d(o,"set",function(){return ft}),i.d(o,"identity",function(){return it}),i.d(o,"transpose",function(){return bt}),i.d(o,"invert",function(){return Dt}),i.d(o,"adjoint",function(){return Mt}),i.d(o,"determinant",function(){return q}),i.d(o,"multiply",function(){return V}),i.d(o,"translate",function(){return ot}),i.d(o,"scale",function(){return tt}),i.d(o,"rotate",function(){return yt}),i.d(o,"rotateX",function(){return Pt}),i.d(o,"rotateY",function(){return Ft}),i.d(o,"rotateZ",function(){return Wt}),i.d(o,"fromTranslation",function(){return Vt}),i.d(o,"fromScaling",function(){return Lt}),i.d(o,"fromRotation",function(){return Ct}),i.d(o,"fromXRotation",function(){return _}),i.d(o,"fromYRotation",function(){return It}),i.d(o,"fromZRotation",function(){return Rt}),i.d(o,"fromRotationTranslation",function(){return xt}),i.d(o,"fromQuat2",function(){return Nt}),i.d(o,"getTranslation",function(){return Ht}),i.d(o,"getScaling",function(){return jt}),i.d(o,"getRotation",function(){return Ut}),i.d(o,"fromRotationTranslationScale",function(){return Jt}),i.d(o,"fromRotationTranslationScaleOrigin",function(){return se}),i.d(o,"fromQuat",function(){return me}),i.d(o,"frustum",function(){return Me}),i.d(o,"perspective",function(){return Pe}),i.d(o,"perspectiveFromFieldOfView",function(){return Ge}),i.d(o,"ortho",function(){return nr}),i.d(o,"lookAt",function(){return gr}),i.d(o,"targetTo",function(){return or}),i.d(o,"str",function(){return Ze}),i.d(o,"frob",function(){return mr}),i.d(o,"add",function(){return Nr}),i.d(o,"subtract",function(){return Mr}),i.d(o,"multiplyScalar",function(){return vn}),i.d(o,"multiplyScalarAndAdd",function(){return Ln}),i.d(o,"exactEquals",function(){return We}),i.d(o,"equals",function(){return Ye}),i.d(o,"mul",function(){return Gr}),i.d(o,"sub",function(){return Jr});var b={};i.r(b),i.d(b,"create",function(){return bn}),i.d(b,"clone",function(){return ta}),i.d(b,"fromValues",function(){return aa}),i.d(b,"copy",function(){return wn}),i.d(b,"set",function(){return ea}),i.d(b,"add",function(){return Aa}),i.d(b,"subtract",function(){return Fa}),i.d(b,"multiply",function(){return Yn}),i.d(b,"divide",function(){return Ti}),i.d(b,"ceil",function(){return Gi}),i.d(b,"floor",function(){return Qi}),i.d(b,"min",function(){return Xi}),i.d(b,"max",function(){return Ii}),i.d(b,"round",function(){return ao}),i.d(b,"scale",function(){return Go}),i.d(b,"scaleAndAdd",function(){return Po}),i.d(b,"distance",function(){return io}),i.d(b,"squaredDistance",function(){return Hi}),i.d(b,"length",function(){return po}),i.d(b,"squaredLength",function(){return So}),i.d(b,"negate",function(){return Zo}),i.d(b,"inverse",function(){return $o}),i.d(b,"normalize",function(){return wi}),i.d(b,"dot",function(){return ys}),i.d(b,"cross",function(){return Ws}),i.d(b,"lerp",function(){return Uo}),i.d(b,"random",function(){return Il}),i.d(b,"transformMat4",function(){return Ai}),i.d(b,"transformQuat",function(){return ol}),i.d(b,"zero",function(){return Is}),i.d(b,"str",function(){return Ds}),i.d(b,"exactEquals",function(){return ms}),i.d(b,"equals",function(){return sl}),i.d(b,"sub",function(){return ua}),i.d(b,"mul",function(){return ru}),i.d(b,"div",function(){return Wo}),i.d(b,"dist",function(){return ll}),i.d(b,"sqrDist",function(){return Ps}),i.d(b,"len",function(){return ge}),i.d(b,"sqrLen",function(){return oe}),i.d(b,"forEach",function(){return pe});var x={};i.r(x),i.d(x,"create",function(){return ze}),i.d(x,"identity",function(){return Xe}),i.d(x,"setAxisAngle",function(){return ir}),i.d(x,"getAxisAngle",function(){return Br}),i.d(x,"getAngle",function(){return sn}),i.d(x,"multiply",function(){return Gn}),i.d(x,"rotateX",function(){return In}),i.d(x,"rotateY",function(){return mn}),i.d(x,"rotateZ",function(){return Ba}),i.d(x,"calculateW",function(){return Ga}),i.d(x,"exp",function(){return fi}),i.d(x,"ln",function(){return si}),i.d(x,"pow",function(){return Di}),i.d(x,"slerp",function(){return oo}),i.d(x,"random",function(){return so}),i.d(x,"invert",function(){return Ui}),i.d(x,"conjugate",function(){return ve}),i.d(x,"fromMat3",function(){return Ua}),i.d(x,"fromEuler",function(){return qn}),i.d(x,"str",function(){return Lo}),i.d(x,"clone",function(){return hi}),i.d(x,"fromValues",function(){return Qo}),i.d(x,"copy",function(){return zo}),i.d(x,"set",function(){return zs}),i.d(x,"add",function(){return yo}),i.d(x,"mul",function(){return us}),i.d(x,"scale",function(){return Jo}),i.d(x,"dot",function(){return gi}),i.d(x,"lerp",function(){return ul}),i.d(x,"length",function(){return qi}),i.d(x,"len",function(){return ks}),i.d(x,"squaredLength",function(){return _o}),i.d(x,"sqrLen",function(){return cl}),i.d(x,"normalize",function(){return jo}),i.d(x,"exactEquals",function(){return cs}),i.d(x,"equals",function(){return Vs}),i.d(x,"rotationTo",function(){return Xs}),i.d(x,"sqlerp",function(){return bs}),i.d(x,"setAxes",function(){return Ls});var M=i("TaHB");function D(){var U=new M.a(9);return M.a!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[5]=0,U[6]=0,U[7]=0),U[0]=1,U[4]=1,U[8]=1,U}function C(U,Et){return U[0]=Et[0],U[1]=Et[1],U[2]=Et[2],U[3]=Et[4],U[4]=Et[5],U[5]=Et[6],U[6]=Et[8],U[7]=Et[9],U[8]=Et[10],U}function S(U){var Et=new M.a(9);return Et[0]=U[0],Et[1]=U[1],Et[2]=U[2],Et[3]=U[3],Et[4]=U[4],Et[5]=U[5],Et[6]=U[6],Et[7]=U[7],Et[8]=U[8],Et}function O(U,Et){return U[0]=Et[0],U[1]=Et[1],U[2]=Et[2],U[3]=Et[3],U[4]=Et[4],U[5]=Et[5],U[6]=Et[6],U[7]=Et[7],U[8]=Et[8],U}function E(U,Et,Qt,ae,he,xe,Le,Ne,Ue){var $e=new M.a(9);return $e[0]=U,$e[1]=Et,$e[2]=Qt,$e[3]=ae,$e[4]=he,$e[5]=xe,$e[6]=Le,$e[7]=Ne,$e[8]=Ue,$e}function I(U,Et,Qt,ae,he,xe,Le,Ne,Ue,$e){return U[0]=Et,U[1]=Qt,U[2]=ae,U[3]=he,U[4]=xe,U[5]=Le,U[6]=Ne,U[7]=Ue,U[8]=$e,U}function A(U){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function R(U,Et){if(U===Et){var Qt=Et[1],ae=Et[2],he=Et[5];U[1]=Et[3],U[2]=Et[6],U[3]=Qt,U[5]=Et[7],U[6]=ae,U[7]=he}else U[0]=Et[0],U[1]=Et[3],U[2]=Et[6],U[3]=Et[1],U[4]=Et[4],U[5]=Et[7],U[6]=Et[2],U[7]=Et[5],U[8]=Et[8];return U}function B(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Et[4],Ne=Et[5],Ue=Et[6],$e=Et[7],Qe=Et[8],Tr=Qe*Le-Ne*$e,Ir=-Qe*xe+Ne*Ue,Sr=$e*xe-Le*Ue,$r=Qt*Tr+ae*Ir+he*Sr;return $r?($r=1/$r,U[0]=Tr*$r,U[1]=(-Qe*ae+he*$e)*$r,U[2]=(Ne*ae-he*Le)*$r,U[3]=Ir*$r,U[4]=(Qe*Qt-he*Ue)*$r,U[5]=(-Ne*Qt+he*xe)*$r,U[6]=Sr*$r,U[7]=(-$e*Qt+ae*Ue)*$r,U[8]=(Le*Qt-ae*xe)*$r,U):null}function p(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Et[4],Ne=Et[5],Ue=Et[6],$e=Et[7],Qe=Et[8];return U[0]=Le*Qe-Ne*$e,U[1]=he*$e-ae*Qe,U[2]=ae*Ne-he*Le,U[3]=Ne*Ue-xe*Qe,U[4]=Qt*Qe-he*Ue,U[5]=he*xe-Qt*Ne,U[6]=xe*$e-Le*Ue,U[7]=ae*Ue-Qt*$e,U[8]=Qt*Le-ae*xe,U}function G(U){var Et=U[0],Qt=U[1],ae=U[2],he=U[3],xe=U[4],Le=U[5],Ne=U[6],Ue=U[7],$e=U[8];return Et*($e*xe-Le*Ue)+Qt*(-$e*he+Le*Ne)+ae*(Ue*he-xe*Ne)}function W(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Et[4],Ue=Et[5],$e=Et[6],Qe=Et[7],Tr=Et[8],Ir=Qt[0],Sr=Qt[1],$r=Qt[2],hn=Qt[3],Pr=Qt[4],Dn=Qt[5],xa=Qt[6],Qn=Qt[7],Jn=Qt[8];return U[0]=Ir*ae+Sr*Le+$r*$e,U[1]=Ir*he+Sr*Ne+$r*Qe,U[2]=Ir*xe+Sr*Ue+$r*Tr,U[3]=hn*ae+Pr*Le+Dn*$e,U[4]=hn*he+Pr*Ne+Dn*Qe,U[5]=hn*xe+Pr*Ue+Dn*Tr,U[6]=xa*ae+Qn*Le+Jn*$e,U[7]=xa*he+Qn*Ne+Jn*Qe,U[8]=xa*xe+Qn*Ue+Jn*Tr,U}function z(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Et[4],Ue=Et[5],$e=Et[6],Qe=Et[7],Tr=Et[8],Ir=Qt[0],Sr=Qt[1];return U[0]=ae,U[1]=he,U[2]=xe,U[3]=Le,U[4]=Ne,U[5]=Ue,U[6]=Ir*ae+Sr*Le+$e,U[7]=Ir*he+Sr*Ne+Qe,U[8]=Ir*xe+Sr*Ue+Tr,U}function N(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Et[4],Ue=Et[5],$e=Et[6],Qe=Et[7],Tr=Et[8],Ir=Math.sin(Qt),Sr=Math.cos(Qt);return U[0]=Sr*ae+Ir*Le,U[1]=Sr*he+Ir*Ne,U[2]=Sr*xe+Ir*Ue,U[3]=Sr*Le-Ir*ae,U[4]=Sr*Ne-Ir*he,U[5]=Sr*Ue-Ir*xe,U[6]=$e,U[7]=Qe,U[8]=Tr,U}function j(U,Et,Qt){var ae=Qt[0],he=Qt[1];return U[0]=ae*Et[0],U[1]=ae*Et[1],U[2]=ae*Et[2],U[3]=he*Et[3],U[4]=he*Et[4],U[5]=he*Et[5],U[6]=Et[6],U[7]=Et[7],U[8]=Et[8],U}function F(U,Et){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=Et[0],U[7]=Et[1],U[8]=1,U}function k(U,Et){var Qt=Math.sin(Et),ae=Math.cos(Et);return U[0]=ae,U[1]=Qt,U[2]=0,U[3]=-Qt,U[4]=ae,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function $(U,Et){return U[0]=Et[0],U[1]=0,U[2]=0,U[3]=0,U[4]=Et[1],U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function nt(U,Et){return U[0]=Et[0],U[1]=Et[1],U[2]=0,U[3]=Et[2],U[4]=Et[3],U[5]=0,U[6]=Et[4],U[7]=Et[5],U[8]=1,U}function st(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Qt+Qt,Ne=ae+ae,Ue=he+he,$e=Qt*Le,Qe=ae*Le,Tr=ae*Ne,Ir=he*Le,Sr=he*Ne,$r=he*Ue,hn=xe*Le,Pr=xe*Ne,Dn=xe*Ue;return U[0]=1-Tr-$r,U[3]=Qe-Dn,U[6]=Ir+Pr,U[1]=Qe+Dn,U[4]=1-$e-$r,U[7]=Sr-hn,U[2]=Ir-Pr,U[5]=Sr+hn,U[8]=1-$e-Tr,U}function rt(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Et[4],Ne=Et[5],Ue=Et[6],$e=Et[7],Qe=Et[8],Tr=Et[9],Ir=Et[10],Sr=Et[11],$r=Et[12],hn=Et[13],Pr=Et[14],Dn=Et[15],xa=Qt*Ne-ae*Le,Qn=Qt*Ue-he*Le,Jn=Qt*$e-xe*Le,oa=ae*Ue-he*Ne,ia=ae*$e-xe*Ne,ba=he*$e-xe*Ue,Za=Qe*hn-Tr*$r,li=Qe*Pr-Ir*$r,Pa=Qe*Dn-Sr*$r,di=Tr*Pr-Ir*hn,$a=Tr*Dn-Sr*hn,Ja=Ir*Dn-Sr*Pr,da=xa*Ja-Qn*$a+Jn*di+oa*Pa-ia*li+ba*Za;return da?(da=1/da,U[0]=(Ne*Ja-Ue*$a+$e*di)*da,U[1]=(Ue*Pa-Le*Ja-$e*li)*da,U[2]=(Le*$a-Ne*Pa+$e*Za)*da,U[3]=(he*$a-ae*Ja-xe*di)*da,U[4]=(Qt*Ja-he*Pa+xe*li)*da,U[5]=(ae*Pa-Qt*$a-xe*Za)*da,U[6]=(hn*ba-Pr*ia+Dn*oa)*da,U[7]=(Pr*Jn-$r*ba-Dn*Qn)*da,U[8]=($r*ia-hn*Jn+Dn*xa)*da,U):null}function Q(U,Et,Qt){return U[0]=2/Et,U[1]=0,U[2]=0,U[3]=0,U[4]=-2/Qt,U[5]=0,U[6]=-1,U[7]=1,U[8]=1,U}function Y(U){return"mat3("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+", "+U[4]+", "+U[5]+", "+U[6]+", "+U[7]+", "+U[8]+")"}function K(U){return Math.hypot(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8])}function et(U,Et,Qt){return U[0]=Et[0]+Qt[0],U[1]=Et[1]+Qt[1],U[2]=Et[2]+Qt[2],U[3]=Et[3]+Qt[3],U[4]=Et[4]+Qt[4],U[5]=Et[5]+Qt[5],U[6]=Et[6]+Qt[6],U[7]=Et[7]+Qt[7],U[8]=Et[8]+Qt[8],U}function ut(U,Et,Qt){return U[0]=Et[0]-Qt[0],U[1]=Et[1]-Qt[1],U[2]=Et[2]-Qt[2],U[3]=Et[3]-Qt[3],U[4]=Et[4]-Qt[4],U[5]=Et[5]-Qt[5],U[6]=Et[6]-Qt[6],U[7]=Et[7]-Qt[7],U[8]=Et[8]-Qt[8],U}function dt(U,Et,Qt){return U[0]=Et[0]*Qt,U[1]=Et[1]*Qt,U[2]=Et[2]*Qt,U[3]=Et[3]*Qt,U[4]=Et[4]*Qt,U[5]=Et[5]*Qt,U[6]=Et[6]*Qt,U[7]=Et[7]*Qt,U[8]=Et[8]*Qt,U}function vt(U,Et,Qt,ae){return U[0]=Et[0]+Qt[0]*ae,U[1]=Et[1]+Qt[1]*ae,U[2]=Et[2]+Qt[2]*ae,U[3]=Et[3]+Qt[3]*ae,U[4]=Et[4]+Qt[4]*ae,U[5]=Et[5]+Qt[5]*ae,U[6]=Et[6]+Qt[6]*ae,U[7]=Et[7]+Qt[7]*ae,U[8]=Et[8]+Qt[8]*ae,U}function at(U,Et){return U[0]===Et[0]&&U[1]===Et[1]&&U[2]===Et[2]&&U[3]===Et[3]&&U[4]===Et[4]&&U[5]===Et[5]&&U[6]===Et[6]&&U[7]===Et[7]&&U[8]===Et[8]}function pt(U,Et){var Qt=U[0],ae=U[1],he=U[2],xe=U[3],Le=U[4],Ne=U[5],Ue=U[6],$e=U[7],Qe=U[8],Tr=Et[0],Ir=Et[1],Sr=Et[2],$r=Et[3],hn=Et[4],Pr=Et[5],Dn=Et[6],xa=Et[7],Qn=Et[8];return Math.abs(Qt-Tr)<=M.b*Math.max(1,Math.abs(Qt),Math.abs(Tr))&&Math.abs(ae-Ir)<=M.b*Math.max(1,Math.abs(ae),Math.abs(Ir))&&Math.abs(he-Sr)<=M.b*Math.max(1,Math.abs(he),Math.abs(Sr))&&Math.abs(xe-$r)<=M.b*Math.max(1,Math.abs(xe),Math.abs($r))&&Math.abs(Le-hn)<=M.b*Math.max(1,Math.abs(Le),Math.abs(hn))&&Math.abs(Ne-Pr)<=M.b*Math.max(1,Math.abs(Ne),Math.abs(Pr))&&Math.abs(Ue-Dn)<=M.b*Math.max(1,Math.abs(Ue),Math.abs(Dn))&&Math.abs($e-xa)<=M.b*Math.max(1,Math.abs($e),Math.abs(xa))&&Math.abs(Qe-Qn)<=M.b*Math.max(1,Math.abs(Qe),Math.abs(Qn))}var Tt=W,Gt=ut;function Kt(){var U=new M.a(16);return M.a!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[11]=0,U[12]=0,U[13]=0,U[14]=0),U[0]=1,U[5]=1,U[10]=1,U[15]=1,U}function Xt(U){var Et=new M.a(16);return Et[0]=U[0],Et[1]=U[1],Et[2]=U[2],Et[3]=U[3],Et[4]=U[4],Et[5]=U[5],Et[6]=U[6],Et[7]=U[7],Et[8]=U[8],Et[9]=U[9],Et[10]=U[10],Et[11]=U[11],Et[12]=U[12],Et[13]=U[13],Et[14]=U[14],Et[15]=U[15],Et}function gt(U,Et){return U[0]=Et[0],U[1]=Et[1],U[2]=Et[2],U[3]=Et[3],U[4]=Et[4],U[5]=Et[5],U[6]=Et[6],U[7]=Et[7],U[8]=Et[8],U[9]=Et[9],U[10]=Et[10],U[11]=Et[11],U[12]=Et[12],U[13]=Et[13],U[14]=Et[14],U[15]=Et[15],U}function lt(U,Et,Qt,ae,he,xe,Le,Ne,Ue,$e,Qe,Tr,Ir,Sr,$r,hn){var Pr=new M.a(16);return Pr[0]=U,Pr[1]=Et,Pr[2]=Qt,Pr[3]=ae,Pr[4]=he,Pr[5]=xe,Pr[6]=Le,Pr[7]=Ne,Pr[8]=Ue,Pr[9]=$e,Pr[10]=Qe,Pr[11]=Tr,Pr[12]=Ir,Pr[13]=Sr,Pr[14]=$r,Pr[15]=hn,Pr}function ft(U,Et,Qt,ae,he,xe,Le,Ne,Ue,$e,Qe,Tr,Ir,Sr,$r,hn,Pr){return U[0]=Et,U[1]=Qt,U[2]=ae,U[3]=he,U[4]=xe,U[5]=Le,U[6]=Ne,U[7]=Ue,U[8]=$e,U[9]=Qe,U[10]=Tr,U[11]=Ir,U[12]=Sr,U[13]=$r,U[14]=hn,U[15]=Pr,U}function it(U){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=1,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[10]=1,U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U}function bt(U,Et){if(U===Et){var Qt=Et[1],ae=Et[2],he=Et[3],xe=Et[6],Le=Et[7],Ne=Et[11];U[1]=Et[4],U[2]=Et[8],U[3]=Et[12],U[4]=Qt,U[6]=Et[9],U[7]=Et[13],U[8]=ae,U[9]=xe,U[11]=Et[14],U[12]=he,U[13]=Le,U[14]=Ne}else U[0]=Et[0],U[1]=Et[4],U[2]=Et[8],U[3]=Et[12],U[4]=Et[1],U[5]=Et[5],U[6]=Et[9],U[7]=Et[13],U[8]=Et[2],U[9]=Et[6],U[10]=Et[10],U[11]=Et[14],U[12]=Et[3],U[13]=Et[7],U[14]=Et[11],U[15]=Et[15];return U}function Dt(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Et[4],Ne=Et[5],Ue=Et[6],$e=Et[7],Qe=Et[8],Tr=Et[9],Ir=Et[10],Sr=Et[11],$r=Et[12],hn=Et[13],Pr=Et[14],Dn=Et[15],xa=Qt*Ne-ae*Le,Qn=Qt*Ue-he*Le,Jn=Qt*$e-xe*Le,oa=ae*Ue-he*Ne,ia=ae*$e-xe*Ne,ba=he*$e-xe*Ue,Za=Qe*hn-Tr*$r,li=Qe*Pr-Ir*$r,Pa=Qe*Dn-Sr*$r,di=Tr*Pr-Ir*hn,$a=Tr*Dn-Sr*hn,Ja=Ir*Dn-Sr*Pr,da=xa*Ja-Qn*$a+Jn*di+oa*Pa-ia*li+ba*Za;return da?(da=1/da,U[0]=(Ne*Ja-Ue*$a+$e*di)*da,U[1]=(he*$a-ae*Ja-xe*di)*da,U[2]=(hn*ba-Pr*ia+Dn*oa)*da,U[3]=(Ir*ia-Tr*ba-Sr*oa)*da,U[4]=(Ue*Pa-Le*Ja-$e*li)*da,U[5]=(Qt*Ja-he*Pa+xe*li)*da,U[6]=(Pr*Jn-$r*ba-Dn*Qn)*da,U[7]=(Qe*ba-Ir*Jn+Sr*Qn)*da,U[8]=(Le*$a-Ne*Pa+$e*Za)*da,U[9]=(ae*Pa-Qt*$a-xe*Za)*da,U[10]=($r*ia-hn*Jn+Dn*xa)*da,U[11]=(Tr*Jn-Qe*ia-Sr*xa)*da,U[12]=(Ne*li-Le*di-Ue*Za)*da,U[13]=(Qt*di-ae*li+he*Za)*da,U[14]=(hn*Qn-$r*oa-Pr*xa)*da,U[15]=(Qe*oa-Tr*Qn+Ir*xa)*da,U):null}function Mt(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Et[4],Ne=Et[5],Ue=Et[6],$e=Et[7],Qe=Et[8],Tr=Et[9],Ir=Et[10],Sr=Et[11],$r=Et[12],hn=Et[13],Pr=Et[14],Dn=Et[15];return U[0]=Ne*(Ir*Dn-Sr*Pr)-Tr*(Ue*Dn-$e*Pr)+hn*(Ue*Sr-$e*Ir),U[1]=-(ae*(Ir*Dn-Sr*Pr)-Tr*(he*Dn-xe*Pr)+hn*(he*Sr-xe*Ir)),U[2]=ae*(Ue*Dn-$e*Pr)-Ne*(he*Dn-xe*Pr)+hn*(he*$e-xe*Ue),U[3]=-(ae*(Ue*Sr-$e*Ir)-Ne*(he*Sr-xe*Ir)+Tr*(he*$e-xe*Ue)),U[4]=-(Le*(Ir*Dn-Sr*Pr)-Qe*(Ue*Dn-$e*Pr)+$r*(Ue*Sr-$e*Ir)),U[5]=Qt*(Ir*Dn-Sr*Pr)-Qe*(he*Dn-xe*Pr)+$r*(he*Sr-xe*Ir),U[6]=-(Qt*(Ue*Dn-$e*Pr)-Le*(he*Dn-xe*Pr)+$r*(he*$e-xe*Ue)),U[7]=Qt*(Ue*Sr-$e*Ir)-Le*(he*Sr-xe*Ir)+Qe*(he*$e-xe*Ue),U[8]=Le*(Tr*Dn-Sr*hn)-Qe*(Ne*Dn-$e*hn)+$r*(Ne*Sr-$e*Tr),U[9]=-(Qt*(Tr*Dn-Sr*hn)-Qe*(ae*Dn-xe*hn)+$r*(ae*Sr-xe*Tr)),U[10]=Qt*(Ne*Dn-$e*hn)-Le*(ae*Dn-xe*hn)+$r*(ae*$e-xe*Ne),U[11]=-(Qt*(Ne*Sr-$e*Tr)-Le*(ae*Sr-xe*Tr)+Qe*(ae*$e-xe*Ne)),U[12]=-(Le*(Tr*Pr-Ir*hn)-Qe*(Ne*Pr-Ue*hn)+$r*(Ne*Ir-Ue*Tr)),U[13]=Qt*(Tr*Pr-Ir*hn)-Qe*(ae*Pr-he*hn)+$r*(ae*Ir-he*Tr),U[14]=-(Qt*(Ne*Pr-Ue*hn)-Le*(ae*Pr-he*hn)+$r*(ae*Ue-he*Ne)),U[15]=Qt*(Ne*Ir-Ue*Tr)-Le*(ae*Ir-he*Tr)+Qe*(ae*Ue-he*Ne),U}function q(U){var Et=U[0],Qt=U[1],ae=U[2],he=U[3],xe=U[4],Le=U[5],Ne=U[6],Ue=U[7],$e=U[8],Qe=U[9],Tr=U[10],Ir=U[11],Sr=U[12],$r=U[13],hn=U[14],Pr=U[15],Dn=Et*Le-Qt*xe,xa=Et*Ne-ae*xe,Qn=Et*Ue-he*xe,Jn=Qt*Ne-ae*Le,oa=Qt*Ue-he*Le,ia=ae*Ue-he*Ne,ba=$e*$r-Qe*Sr,Za=$e*hn-Tr*Sr,li=$e*Pr-Ir*Sr,Pa=Qe*hn-Tr*$r,di=Qe*Pr-Ir*$r,$a=Tr*Pr-Ir*hn;return Dn*$a-xa*di+Qn*Pa+Jn*li-oa*Za+ia*ba}function V(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Et[4],Ue=Et[5],$e=Et[6],Qe=Et[7],Tr=Et[8],Ir=Et[9],Sr=Et[10],$r=Et[11],hn=Et[12],Pr=Et[13],Dn=Et[14],xa=Et[15],Qn=Qt[0],Jn=Qt[1],oa=Qt[2],ia=Qt[3];return U[0]=Qn*ae+Jn*Ne+oa*Tr+ia*hn,U[1]=Qn*he+Jn*Ue+oa*Ir+ia*Pr,U[2]=Qn*xe+Jn*$e+oa*Sr+ia*Dn,U[3]=Qn*Le+Jn*Qe+oa*$r+ia*xa,Qn=Qt[4],Jn=Qt[5],oa=Qt[6],ia=Qt[7],U[4]=Qn*ae+Jn*Ne+oa*Tr+ia*hn,U[5]=Qn*he+Jn*Ue+oa*Ir+ia*Pr,U[6]=Qn*xe+Jn*$e+oa*Sr+ia*Dn,U[7]=Qn*Le+Jn*Qe+oa*$r+ia*xa,Qn=Qt[8],Jn=Qt[9],oa=Qt[10],ia=Qt[11],U[8]=Qn*ae+Jn*Ne+oa*Tr+ia*hn,U[9]=Qn*he+Jn*Ue+oa*Ir+ia*Pr,U[10]=Qn*xe+Jn*$e+oa*Sr+ia*Dn,U[11]=Qn*Le+Jn*Qe+oa*$r+ia*xa,Qn=Qt[12],Jn=Qt[13],oa=Qt[14],ia=Qt[15],U[12]=Qn*ae+Jn*Ne+oa*Tr+ia*hn,U[13]=Qn*he+Jn*Ue+oa*Ir+ia*Pr,U[14]=Qn*xe+Jn*$e+oa*Sr+ia*Dn,U[15]=Qn*Le+Jn*Qe+oa*$r+ia*xa,U}function ot(U,Et,Qt){var ae=Qt[0],he=Qt[1],xe=Qt[2],Le,Ne,Ue,$e,Qe,Tr,Ir,Sr,$r,hn,Pr,Dn;return Et===U?(U[12]=Et[0]*ae+Et[4]*he+Et[8]*xe+Et[12],U[13]=Et[1]*ae+Et[5]*he+Et[9]*xe+Et[13],U[14]=Et[2]*ae+Et[6]*he+Et[10]*xe+Et[14],U[15]=Et[3]*ae+Et[7]*he+Et[11]*xe+Et[15]):(Le=Et[0],Ne=Et[1],Ue=Et[2],$e=Et[3],Qe=Et[4],Tr=Et[5],Ir=Et[6],Sr=Et[7],$r=Et[8],hn=Et[9],Pr=Et[10],Dn=Et[11],U[0]=Le,U[1]=Ne,U[2]=Ue,U[3]=$e,U[4]=Qe,U[5]=Tr,U[6]=Ir,U[7]=Sr,U[8]=$r,U[9]=hn,U[10]=Pr,U[11]=Dn,U[12]=Le*ae+Qe*he+$r*xe+Et[12],U[13]=Ne*ae+Tr*he+hn*xe+Et[13],U[14]=Ue*ae+Ir*he+Pr*xe+Et[14],U[15]=$e*ae+Sr*he+Dn*xe+Et[15]),U}function tt(U,Et,Qt){var ae=Qt[0],he=Qt[1],xe=Qt[2];return U[0]=Et[0]*ae,U[1]=Et[1]*ae,U[2]=Et[2]*ae,U[3]=Et[3]*ae,U[4]=Et[4]*he,U[5]=Et[5]*he,U[6]=Et[6]*he,U[7]=Et[7]*he,U[8]=Et[8]*xe,U[9]=Et[9]*xe,U[10]=Et[10]*xe,U[11]=Et[11]*xe,U[12]=Et[12],U[13]=Et[13],U[14]=Et[14],U[15]=Et[15],U}function yt(U,Et,Qt,ae){var he=ae[0],xe=ae[1],Le=ae[2],Ne=Math.hypot(he,xe,Le),Ue,$e,Qe,Tr,Ir,Sr,$r,hn,Pr,Dn,xa,Qn,Jn,oa,ia,ba,Za,li,Pa,di,$a,Ja,da,Ce;return Ne<M.b?null:(Ne=1/Ne,he*=Ne,xe*=Ne,Le*=Ne,Ue=Math.sin(Qt),$e=Math.cos(Qt),Qe=1-$e,Tr=Et[0],Ir=Et[1],Sr=Et[2],$r=Et[3],hn=Et[4],Pr=Et[5],Dn=Et[6],xa=Et[7],Qn=Et[8],Jn=Et[9],oa=Et[10],ia=Et[11],ba=he*he*Qe+$e,Za=xe*he*Qe+Le*Ue,li=Le*he*Qe-xe*Ue,Pa=he*xe*Qe-Le*Ue,di=xe*xe*Qe+$e,$a=Le*xe*Qe+he*Ue,Ja=he*Le*Qe+xe*Ue,da=xe*Le*Qe-he*Ue,Ce=Le*Le*Qe+$e,U[0]=Tr*ba+hn*Za+Qn*li,U[1]=Ir*ba+Pr*Za+Jn*li,U[2]=Sr*ba+Dn*Za+oa*li,U[3]=$r*ba+xa*Za+ia*li,U[4]=Tr*Pa+hn*di+Qn*$a,U[5]=Ir*Pa+Pr*di+Jn*$a,U[6]=Sr*Pa+Dn*di+oa*$a,U[7]=$r*Pa+xa*di+ia*$a,U[8]=Tr*Ja+hn*da+Qn*Ce,U[9]=Ir*Ja+Pr*da+Jn*Ce,U[10]=Sr*Ja+Dn*da+oa*Ce,U[11]=$r*Ja+xa*da+ia*Ce,Et!==U&&(U[12]=Et[12],U[13]=Et[13],U[14]=Et[14],U[15]=Et[15]),U)}function Pt(U,Et,Qt){var ae=Math.sin(Qt),he=Math.cos(Qt),xe=Et[4],Le=Et[5],Ne=Et[6],Ue=Et[7],$e=Et[8],Qe=Et[9],Tr=Et[10],Ir=Et[11];return Et!==U&&(U[0]=Et[0],U[1]=Et[1],U[2]=Et[2],U[3]=Et[3],U[12]=Et[12],U[13]=Et[13],U[14]=Et[14],U[15]=Et[15]),U[4]=xe*he+$e*ae,U[5]=Le*he+Qe*ae,U[6]=Ne*he+Tr*ae,U[7]=Ue*he+Ir*ae,U[8]=$e*he-xe*ae,U[9]=Qe*he-Le*ae,U[10]=Tr*he-Ne*ae,U[11]=Ir*he-Ue*ae,U}function Ft(U,Et,Qt){var ae=Math.sin(Qt),he=Math.cos(Qt),xe=Et[0],Le=Et[1],Ne=Et[2],Ue=Et[3],$e=Et[8],Qe=Et[9],Tr=Et[10],Ir=Et[11];return Et!==U&&(U[4]=Et[4],U[5]=Et[5],U[6]=Et[6],U[7]=Et[7],U[12]=Et[12],U[13]=Et[13],U[14]=Et[14],U[15]=Et[15]),U[0]=xe*he-$e*ae,U[1]=Le*he-Qe*ae,U[2]=Ne*he-Tr*ae,U[3]=Ue*he-Ir*ae,U[8]=xe*ae+$e*he,U[9]=Le*ae+Qe*he,U[10]=Ne*ae+Tr*he,U[11]=Ue*ae+Ir*he,U}function Wt(U,Et,Qt){var ae=Math.sin(Qt),he=Math.cos(Qt),xe=Et[0],Le=Et[1],Ne=Et[2],Ue=Et[3],$e=Et[4],Qe=Et[5],Tr=Et[6],Ir=Et[7];return Et!==U&&(U[8]=Et[8],U[9]=Et[9],U[10]=Et[10],U[11]=Et[11],U[12]=Et[12],U[13]=Et[13],U[14]=Et[14],U[15]=Et[15]),U[0]=xe*he+$e*ae,U[1]=Le*he+Qe*ae,U[2]=Ne*he+Tr*ae,U[3]=Ue*he+Ir*ae,U[4]=$e*he-xe*ae,U[5]=Qe*he-Le*ae,U[6]=Tr*he-Ne*ae,U[7]=Ir*he-Ue*ae,U}function Vt(U,Et){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=1,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[10]=1,U[11]=0,U[12]=Et[0],U[13]=Et[1],U[14]=Et[2],U[15]=1,U}function Lt(U,Et){return U[0]=Et[0],U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=Et[1],U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[10]=Et[2],U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U}function Ct(U,Et,Qt){var ae=Qt[0],he=Qt[1],xe=Qt[2],Le=Math.hypot(ae,he,xe),Ne,Ue,$e;return Le<M.b?null:(Le=1/Le,ae*=Le,he*=Le,xe*=Le,Ne=Math.sin(Et),Ue=Math.cos(Et),$e=1-Ue,U[0]=ae*ae*$e+Ue,U[1]=he*ae*$e+xe*Ne,U[2]=xe*ae*$e-he*Ne,U[3]=0,U[4]=ae*he*$e-xe*Ne,U[5]=he*he*$e+Ue,U[6]=xe*he*$e+ae*Ne,U[7]=0,U[8]=ae*xe*$e+he*Ne,U[9]=he*xe*$e-ae*Ne,U[10]=xe*xe*$e+Ue,U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U)}function _(U,Et){var Qt=Math.sin(Et),ae=Math.cos(Et);return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=ae,U[6]=Qt,U[7]=0,U[8]=0,U[9]=-Qt,U[10]=ae,U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U}function It(U,Et){var Qt=Math.sin(Et),ae=Math.cos(Et);return U[0]=ae,U[1]=0,U[2]=-Qt,U[3]=0,U[4]=0,U[5]=1,U[6]=0,U[7]=0,U[8]=Qt,U[9]=0,U[10]=ae,U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U}function Rt(U,Et){var Qt=Math.sin(Et),ae=Math.cos(Et);return U[0]=ae,U[1]=Qt,U[2]=0,U[3]=0,U[4]=-Qt,U[5]=ae,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[10]=1,U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U}function xt(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=ae+ae,Ue=he+he,$e=xe+xe,Qe=ae*Ne,Tr=ae*Ue,Ir=ae*$e,Sr=he*Ue,$r=he*$e,hn=xe*$e,Pr=Le*Ne,Dn=Le*Ue,xa=Le*$e;return U[0]=1-(Sr+hn),U[1]=Tr+xa,U[2]=Ir-Dn,U[3]=0,U[4]=Tr-xa,U[5]=1-(Qe+hn),U[6]=$r+Pr,U[7]=0,U[8]=Ir+Dn,U[9]=$r-Pr,U[10]=1-(Qe+Sr),U[11]=0,U[12]=Qt[0],U[13]=Qt[1],U[14]=Qt[2],U[15]=1,U}function Nt(U,Et){var Qt=new M.a(3),ae=-Et[0],he=-Et[1],xe=-Et[2],Le=Et[3],Ne=Et[4],Ue=Et[5],$e=Et[6],Qe=Et[7],Tr=ae*ae+he*he+xe*xe+Le*Le;return Tr>0?(Qt[0]=(Ne*Le+Qe*ae+Ue*xe-$e*he)*2/Tr,Qt[1]=(Ue*Le+Qe*he+$e*ae-Ne*xe)*2/Tr,Qt[2]=($e*Le+Qe*xe+Ne*he-Ue*ae)*2/Tr):(Qt[0]=(Ne*Le+Qe*ae+Ue*xe-$e*he)*2,Qt[1]=(Ue*Le+Qe*he+$e*ae-Ne*xe)*2,Qt[2]=($e*Le+Qe*xe+Ne*he-Ue*ae)*2),xt(U,Et,Qt),U}function Ht(U,Et){return U[0]=Et[12],U[1]=Et[13],U[2]=Et[14],U}function jt(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[4],Le=Et[5],Ne=Et[6],Ue=Et[8],$e=Et[9],Qe=Et[10];return U[0]=Math.hypot(Qt,ae,he),U[1]=Math.hypot(xe,Le,Ne),U[2]=Math.hypot(Ue,$e,Qe),U}function Ut(U,Et){var Qt=new M.a(3);jt(Qt,Et);var ae=1/Qt[0],he=1/Qt[1],xe=1/Qt[2],Le=Et[0]*ae,Ne=Et[1]*he,Ue=Et[2]*xe,$e=Et[4]*ae,Qe=Et[5]*he,Tr=Et[6]*xe,Ir=Et[8]*ae,Sr=Et[9]*he,$r=Et[10]*xe,hn=Le+Qe+$r,Pr=0;return hn>0?(Pr=Math.sqrt(hn+1)*2,U[3]=.25*Pr,U[0]=(Tr-Sr)/Pr,U[1]=(Ir-Ue)/Pr,U[2]=(Ne-$e)/Pr):Le>Qe&&Le>$r?(Pr=Math.sqrt(1+Le-Qe-$r)*2,U[3]=(Tr-Sr)/Pr,U[0]=.25*Pr,U[1]=(Ne+$e)/Pr,U[2]=(Ir+Ue)/Pr):Qe>$r?(Pr=Math.sqrt(1+Qe-Le-$r)*2,U[3]=(Ir-Ue)/Pr,U[0]=(Ne+$e)/Pr,U[1]=.25*Pr,U[2]=(Tr+Sr)/Pr):(Pr=Math.sqrt(1+$r-Le-Qe)*2,U[3]=(Ne-$e)/Pr,U[0]=(Ir+Ue)/Pr,U[1]=(Tr+Sr)/Pr,U[2]=.25*Pr),U}function Jt(U,Et,Qt,ae){var he=Et[0],xe=Et[1],Le=Et[2],Ne=Et[3],Ue=he+he,$e=xe+xe,Qe=Le+Le,Tr=he*Ue,Ir=he*$e,Sr=he*Qe,$r=xe*$e,hn=xe*Qe,Pr=Le*Qe,Dn=Ne*Ue,xa=Ne*$e,Qn=Ne*Qe,Jn=ae[0],oa=ae[1],ia=ae[2];return U[0]=(1-($r+Pr))*Jn,U[1]=(Ir+Qn)*Jn,U[2]=(Sr-xa)*Jn,U[3]=0,U[4]=(Ir-Qn)*oa,U[5]=(1-(Tr+Pr))*oa,U[6]=(hn+Dn)*oa,U[7]=0,U[8]=(Sr+xa)*ia,U[9]=(hn-Dn)*ia,U[10]=(1-(Tr+$r))*ia,U[11]=0,U[12]=Qt[0],U[13]=Qt[1],U[14]=Qt[2],U[15]=1,U}function se(U,Et,Qt,ae,he){var xe=Et[0],Le=Et[1],Ne=Et[2],Ue=Et[3],$e=xe+xe,Qe=Le+Le,Tr=Ne+Ne,Ir=xe*$e,Sr=xe*Qe,$r=xe*Tr,hn=Le*Qe,Pr=Le*Tr,Dn=Ne*Tr,xa=Ue*$e,Qn=Ue*Qe,Jn=Ue*Tr,oa=ae[0],ia=ae[1],ba=ae[2],Za=he[0],li=he[1],Pa=he[2],di=(1-(hn+Dn))*oa,$a=(Sr+Jn)*oa,Ja=($r-Qn)*oa,da=(Sr-Jn)*ia,Ce=(1-(Ir+Dn))*ia,ue=(Pr+xa)*ia,we=($r+Qn)*ba,ke=(Pr-xa)*ba,xr=(1-(Ir+hn))*ba;return U[0]=di,U[1]=$a,U[2]=Ja,U[3]=0,U[4]=da,U[5]=Ce,U[6]=ue,U[7]=0,U[8]=we,U[9]=ke,U[10]=xr,U[11]=0,U[12]=Qt[0]+Za-(di*Za+da*li+we*Pa),U[13]=Qt[1]+li-($a*Za+Ce*li+ke*Pa),U[14]=Qt[2]+Pa-(Ja*Za+ue*li+xr*Pa),U[15]=1,U}function me(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Qt+Qt,Ne=ae+ae,Ue=he+he,$e=Qt*Le,Qe=ae*Le,Tr=ae*Ne,Ir=he*Le,Sr=he*Ne,$r=he*Ue,hn=xe*Le,Pr=xe*Ne,Dn=xe*Ue;return U[0]=1-Tr-$r,U[1]=Qe+Dn,U[2]=Ir-Pr,U[3]=0,U[4]=Qe-Dn,U[5]=1-$e-$r,U[6]=Sr+hn,U[7]=0,U[8]=Ir+Pr,U[9]=Sr-hn,U[10]=1-$e-Tr,U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U}function Me(U,Et,Qt,ae,he,xe,Le){var Ne=1/(Qt-Et),Ue=1/(he-ae),$e=1/(xe-Le);return U[0]=xe*2*Ne,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=xe*2*Ue,U[6]=0,U[7]=0,U[8]=(Qt+Et)*Ne,U[9]=(he+ae)*Ue,U[10]=(Le+xe)*$e,U[11]=-1,U[12]=0,U[13]=0,U[14]=Le*xe*2*$e,U[15]=0,U}function Pe(U,Et,Qt,ae,he){var xe=1/Math.tan(Et/2),Le;return U[0]=xe/Qt,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=xe,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[11]=-1,U[12]=0,U[13]=0,U[15]=0,he!=null&&he!==Infinity?(Le=1/(ae-he),U[10]=(he+ae)*Le,U[14]=2*he*ae*Le):(U[10]=-1,U[14]=-2*ae),U}function Ge(U,Et,Qt,ae){var he=Math.tan(Et.upDegrees*Math.PI/180),xe=Math.tan(Et.downDegrees*Math.PI/180),Le=Math.tan(Et.leftDegrees*Math.PI/180),Ne=Math.tan(Et.rightDegrees*Math.PI/180),Ue=2/(Le+Ne),$e=2/(he+xe);return U[0]=Ue,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=$e,U[6]=0,U[7]=0,U[8]=-((Le-Ne)*Ue*.5),U[9]=(he-xe)*$e*.5,U[10]=ae/(Qt-ae),U[11]=-1,U[12]=0,U[13]=0,U[14]=ae*Qt/(Qt-ae),U[15]=0,U}function nr(U,Et,Qt,ae,he,xe,Le){var Ne=1/(Et-Qt),Ue=1/(ae-he),$e=1/(xe-Le);return U[0]=-2*Ne,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=-2*Ue,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[10]=2*$e,U[11]=0,U[12]=(Et+Qt)*Ne,U[13]=(he+ae)*Ue,U[14]=(Le+xe)*$e,U[15]=1,U}function gr(U,Et,Qt,ae){var he,xe,Le,Ne,Ue,$e,Qe,Tr,Ir,Sr,$r=Et[0],hn=Et[1],Pr=Et[2],Dn=ae[0],xa=ae[1],Qn=ae[2],Jn=Qt[0],oa=Qt[1],ia=Qt[2];return Math.abs($r-Jn)<M.b&&Math.abs(hn-oa)<M.b&&Math.abs(Pr-ia)<M.b?it(U):(Qe=$r-Jn,Tr=hn-oa,Ir=Pr-ia,Sr=1/Math.hypot(Qe,Tr,Ir),Qe*=Sr,Tr*=Sr,Ir*=Sr,he=xa*Ir-Qn*Tr,xe=Qn*Qe-Dn*Ir,Le=Dn*Tr-xa*Qe,Sr=Math.hypot(he,xe,Le),Sr?(Sr=1/Sr,he*=Sr,xe*=Sr,Le*=Sr):(he=0,xe=0,Le=0),Ne=Tr*Le-Ir*xe,Ue=Ir*he-Qe*Le,$e=Qe*xe-Tr*he,Sr=Math.hypot(Ne,Ue,$e),Sr?(Sr=1/Sr,Ne*=Sr,Ue*=Sr,$e*=Sr):(Ne=0,Ue=0,$e=0),U[0]=he,U[1]=Ne,U[2]=Qe,U[3]=0,U[4]=xe,U[5]=Ue,U[6]=Tr,U[7]=0,U[8]=Le,U[9]=$e,U[10]=Ir,U[11]=0,U[12]=-(he*$r+xe*hn+Le*Pr),U[13]=-(Ne*$r+Ue*hn+$e*Pr),U[14]=-(Qe*$r+Tr*hn+Ir*Pr),U[15]=1,U)}function or(U,Et,Qt,ae){var he=Et[0],xe=Et[1],Le=Et[2],Ne=ae[0],Ue=ae[1],$e=ae[2],Qe=he-Qt[0],Tr=xe-Qt[1],Ir=Le-Qt[2],Sr=Qe*Qe+Tr*Tr+Ir*Ir;Sr>0&&(Sr=1/Math.sqrt(Sr),Qe*=Sr,Tr*=Sr,Ir*=Sr);var $r=Ue*Ir-$e*Tr,hn=$e*Qe-Ne*Ir,Pr=Ne*Tr-Ue*Qe;return Sr=$r*$r+hn*hn+Pr*Pr,Sr>0&&(Sr=1/Math.sqrt(Sr),$r*=Sr,hn*=Sr,Pr*=Sr),U[0]=$r,U[1]=hn,U[2]=Pr,U[3]=0,U[4]=Tr*Pr-Ir*hn,U[5]=Ir*$r-Qe*Pr,U[6]=Qe*hn-Tr*$r,U[7]=0,U[8]=Qe,U[9]=Tr,U[10]=Ir,U[11]=0,U[12]=he,U[13]=xe,U[14]=Le,U[15]=1,U}function Ze(U){return"mat4("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+", "+U[4]+", "+U[5]+", "+U[6]+", "+U[7]+", "+U[8]+", "+U[9]+", "+U[10]+", "+U[11]+", "+U[12]+", "+U[13]+", "+U[14]+", "+U[15]+")"}function mr(U){return Math.hypot(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8],U[9],U[10],U[11],U[12],U[13],U[14],U[15])}function Nr(U,Et,Qt){return U[0]=Et[0]+Qt[0],U[1]=Et[1]+Qt[1],U[2]=Et[2]+Qt[2],U[3]=Et[3]+Qt[3],U[4]=Et[4]+Qt[4],U[5]=Et[5]+Qt[5],U[6]=Et[6]+Qt[6],U[7]=Et[7]+Qt[7],U[8]=Et[8]+Qt[8],U[9]=Et[9]+Qt[9],U[10]=Et[10]+Qt[10],U[11]=Et[11]+Qt[11],U[12]=Et[12]+Qt[12],U[13]=Et[13]+Qt[13],U[14]=Et[14]+Qt[14],U[15]=Et[15]+Qt[15],U}function Mr(U,Et,Qt){return U[0]=Et[0]-Qt[0],U[1]=Et[1]-Qt[1],U[2]=Et[2]-Qt[2],U[3]=Et[3]-Qt[3],U[4]=Et[4]-Qt[4],U[5]=Et[5]-Qt[5],U[6]=Et[6]-Qt[6],U[7]=Et[7]-Qt[7],U[8]=Et[8]-Qt[8],U[9]=Et[9]-Qt[9],U[10]=Et[10]-Qt[10],U[11]=Et[11]-Qt[11],U[12]=Et[12]-Qt[12],U[13]=Et[13]-Qt[13],U[14]=Et[14]-Qt[14],U[15]=Et[15]-Qt[15],U}function vn(U,Et,Qt){return U[0]=Et[0]*Qt,U[1]=Et[1]*Qt,U[2]=Et[2]*Qt,U[3]=Et[3]*Qt,U[4]=Et[4]*Qt,U[5]=Et[5]*Qt,U[6]=Et[6]*Qt,U[7]=Et[7]*Qt,U[8]=Et[8]*Qt,U[9]=Et[9]*Qt,U[10]=Et[10]*Qt,U[11]=Et[11]*Qt,U[12]=Et[12]*Qt,U[13]=Et[13]*Qt,U[14]=Et[14]*Qt,U[15]=Et[15]*Qt,U}function Ln(U,Et,Qt,ae){return U[0]=Et[0]+Qt[0]*ae,U[1]=Et[1]+Qt[1]*ae,U[2]=Et[2]+Qt[2]*ae,U[3]=Et[3]+Qt[3]*ae,U[4]=Et[4]+Qt[4]*ae,U[5]=Et[5]+Qt[5]*ae,U[6]=Et[6]+Qt[6]*ae,U[7]=Et[7]+Qt[7]*ae,U[8]=Et[8]+Qt[8]*ae,U[9]=Et[9]+Qt[9]*ae,U[10]=Et[10]+Qt[10]*ae,U[11]=Et[11]+Qt[11]*ae,U[12]=Et[12]+Qt[12]*ae,U[13]=Et[13]+Qt[13]*ae,U[14]=Et[14]+Qt[14]*ae,U[15]=Et[15]+Qt[15]*ae,U}function We(U,Et){return U[0]===Et[0]&&U[1]===Et[1]&&U[2]===Et[2]&&U[3]===Et[3]&&U[4]===Et[4]&&U[5]===Et[5]&&U[6]===Et[6]&&U[7]===Et[7]&&U[8]===Et[8]&&U[9]===Et[9]&&U[10]===Et[10]&&U[11]===Et[11]&&U[12]===Et[12]&&U[13]===Et[13]&&U[14]===Et[14]&&U[15]===Et[15]}function Ye(U,Et){var Qt=U[0],ae=U[1],he=U[2],xe=U[3],Le=U[4],Ne=U[5],Ue=U[6],$e=U[7],Qe=U[8],Tr=U[9],Ir=U[10],Sr=U[11],$r=U[12],hn=U[13],Pr=U[14],Dn=U[15],xa=Et[0],Qn=Et[1],Jn=Et[2],oa=Et[3],ia=Et[4],ba=Et[5],Za=Et[6],li=Et[7],Pa=Et[8],di=Et[9],$a=Et[10],Ja=Et[11],da=Et[12],Ce=Et[13],ue=Et[14],we=Et[15];return Math.abs(Qt-xa)<=M.b*Math.max(1,Math.abs(Qt),Math.abs(xa))&&Math.abs(ae-Qn)<=M.b*Math.max(1,Math.abs(ae),Math.abs(Qn))&&Math.abs(he-Jn)<=M.b*Math.max(1,Math.abs(he),Math.abs(Jn))&&Math.abs(xe-oa)<=M.b*Math.max(1,Math.abs(xe),Math.abs(oa))&&Math.abs(Le-ia)<=M.b*Math.max(1,Math.abs(Le),Math.abs(ia))&&Math.abs(Ne-ba)<=M.b*Math.max(1,Math.abs(Ne),Math.abs(ba))&&Math.abs(Ue-Za)<=M.b*Math.max(1,Math.abs(Ue),Math.abs(Za))&&Math.abs($e-li)<=M.b*Math.max(1,Math.abs($e),Math.abs(li))&&Math.abs(Qe-Pa)<=M.b*Math.max(1,Math.abs(Qe),Math.abs(Pa))&&Math.abs(Tr-di)<=M.b*Math.max(1,Math.abs(Tr),Math.abs(di))&&Math.abs(Ir-$a)<=M.b*Math.max(1,Math.abs(Ir),Math.abs($a))&&Math.abs(Sr-Ja)<=M.b*Math.max(1,Math.abs(Sr),Math.abs(Ja))&&Math.abs($r-da)<=M.b*Math.max(1,Math.abs($r),Math.abs(da))&&Math.abs(hn-Ce)<=M.b*Math.max(1,Math.abs(hn),Math.abs(Ce))&&Math.abs(Pr-ue)<=M.b*Math.max(1,Math.abs(Pr),Math.abs(ue))&&Math.abs(Dn-we)<=M.b*Math.max(1,Math.abs(Dn),Math.abs(we))}var Gr=V,Jr=Mr,_r=i("gCNn");function bn(){var U=new M.a(4);return M.a!=Float32Array&&(U[0]=0,U[1]=0,U[2]=0,U[3]=0),U}function ta(U){var Et=new M.a(4);return Et[0]=U[0],Et[1]=U[1],Et[2]=U[2],Et[3]=U[3],Et}function aa(U,Et,Qt,ae){var he=new M.a(4);return he[0]=U,he[1]=Et,he[2]=Qt,he[3]=ae,he}function wn(U,Et){return U[0]=Et[0],U[1]=Et[1],U[2]=Et[2],U[3]=Et[3],U}function ea(U,Et,Qt,ae,he){return U[0]=Et,U[1]=Qt,U[2]=ae,U[3]=he,U}function Aa(U,Et,Qt){return U[0]=Et[0]+Qt[0],U[1]=Et[1]+Qt[1],U[2]=Et[2]+Qt[2],U[3]=Et[3]+Qt[3],U}function Fa(U,Et,Qt){return U[0]=Et[0]-Qt[0],U[1]=Et[1]-Qt[1],U[2]=Et[2]-Qt[2],U[3]=Et[3]-Qt[3],U}function Yn(U,Et,Qt){return U[0]=Et[0]*Qt[0],U[1]=Et[1]*Qt[1],U[2]=Et[2]*Qt[2],U[3]=Et[3]*Qt[3],U}function Ti(U,Et,Qt){return U[0]=Et[0]/Qt[0],U[1]=Et[1]/Qt[1],U[2]=Et[2]/Qt[2],U[3]=Et[3]/Qt[3],U}function Gi(U,Et){return U[0]=Math.ceil(Et[0]),U[1]=Math.ceil(Et[1]),U[2]=Math.ceil(Et[2]),U[3]=Math.ceil(Et[3]),U}function Qi(U,Et){return U[0]=Math.floor(Et[0]),U[1]=Math.floor(Et[1]),U[2]=Math.floor(Et[2]),U[3]=Math.floor(Et[3]),U}function Xi(U,Et,Qt){return U[0]=Math.min(Et[0],Qt[0]),U[1]=Math.min(Et[1],Qt[1]),U[2]=Math.min(Et[2],Qt[2]),U[3]=Math.min(Et[3],Qt[3]),U}function Ii(U,Et,Qt){return U[0]=Math.max(Et[0],Qt[0]),U[1]=Math.max(Et[1],Qt[1]),U[2]=Math.max(Et[2],Qt[2]),U[3]=Math.max(Et[3],Qt[3]),U}function ao(U,Et){return U[0]=Math.round(Et[0]),U[1]=Math.round(Et[1]),U[2]=Math.round(Et[2]),U[3]=Math.round(Et[3]),U}function Go(U,Et,Qt){return U[0]=Et[0]*Qt,U[1]=Et[1]*Qt,U[2]=Et[2]*Qt,U[3]=Et[3]*Qt,U}function Po(U,Et,Qt,ae){return U[0]=Et[0]+Qt[0]*ae,U[1]=Et[1]+Qt[1]*ae,U[2]=Et[2]+Qt[2]*ae,U[3]=Et[3]+Qt[3]*ae,U}function io(U,Et){var Qt=Et[0]-U[0],ae=Et[1]-U[1],he=Et[2]-U[2],xe=Et[3]-U[3];return Math.hypot(Qt,ae,he,xe)}function Hi(U,Et){var Qt=Et[0]-U[0],ae=Et[1]-U[1],he=Et[2]-U[2],xe=Et[3]-U[3];return Qt*Qt+ae*ae+he*he+xe*xe}function po(U){var Et=U[0],Qt=U[1],ae=U[2],he=U[3];return Math.hypot(Et,Qt,ae,he)}function So(U){var Et=U[0],Qt=U[1],ae=U[2],he=U[3];return Et*Et+Qt*Qt+ae*ae+he*he}function Zo(U,Et){return U[0]=-Et[0],U[1]=-Et[1],U[2]=-Et[2],U[3]=-Et[3],U}function $o(U,Et){return U[0]=1/Et[0],U[1]=1/Et[1],U[2]=1/Et[2],U[3]=1/Et[3],U}function wi(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Qt*Qt+ae*ae+he*he+xe*xe;return Le>0&&(Le=1/Math.sqrt(Le)),U[0]=Qt*Le,U[1]=ae*Le,U[2]=he*Le,U[3]=xe*Le,U}function ys(U,Et){return U[0]*Et[0]+U[1]*Et[1]+U[2]*Et[2]+U[3]*Et[3]}function Ws(U,Et,Qt,ae){var he=Qt[0]*ae[1]-Qt[1]*ae[0],xe=Qt[0]*ae[2]-Qt[2]*ae[0],Le=Qt[0]*ae[3]-Qt[3]*ae[0],Ne=Qt[1]*ae[2]-Qt[2]*ae[1],Ue=Qt[1]*ae[3]-Qt[3]*ae[1],$e=Qt[2]*ae[3]-Qt[3]*ae[2],Qe=Et[0],Tr=Et[1],Ir=Et[2],Sr=Et[3];return U[0]=Tr*$e-Ir*Ue+Sr*Ne,U[1]=-(Qe*$e)+Ir*Le-Sr*xe,U[2]=Qe*Ue-Tr*Le+Sr*he,U[3]=-(Qe*Ne)+Tr*xe-Ir*he,U}function Uo(U,Et,Qt,ae){var he=Et[0],xe=Et[1],Le=Et[2],Ne=Et[3];return U[0]=he+ae*(Qt[0]-he),U[1]=xe+ae*(Qt[1]-xe),U[2]=Le+ae*(Qt[2]-Le),U[3]=Ne+ae*(Qt[3]-Ne),U}function Il(U,Et){Et=Et||1;var Qt,ae,he,xe,Le,Ne;do Qt=M.c()*2-1,ae=M.c()*2-1,Le=Qt*Qt+ae*ae;while(Le>=1);do he=M.c()*2-1,xe=M.c()*2-1,Ne=he*he+xe*xe;while(Ne>=1);var Ue=Math.sqrt((1-Le)/Ne);return U[0]=Et*Qt,U[1]=Et*ae,U[2]=Et*he*Ue,U[3]=Et*xe*Ue,U}function Ai(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3];return U[0]=Qt[0]*ae+Qt[4]*he+Qt[8]*xe+Qt[12]*Le,U[1]=Qt[1]*ae+Qt[5]*he+Qt[9]*xe+Qt[13]*Le,U[2]=Qt[2]*ae+Qt[6]*he+Qt[10]*xe+Qt[14]*Le,U[3]=Qt[3]*ae+Qt[7]*he+Qt[11]*xe+Qt[15]*Le,U}function ol(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Qt[0],Ne=Qt[1],Ue=Qt[2],$e=Qt[3],Qe=$e*ae+Ne*xe-Ue*he,Tr=$e*he+Ue*ae-Le*xe,Ir=$e*xe+Le*he-Ne*ae,Sr=-Le*ae-Ne*he-Ue*xe;return U[0]=Qe*$e+Sr*-Le+Tr*-Ue-Ir*-Ne,U[1]=Tr*$e+Sr*-Ne+Ir*-Le-Qe*-Ue,U[2]=Ir*$e+Sr*-Ue+Qe*-Ne-Tr*-Le,U[3]=Et[3],U}function Is(U){return U[0]=0,U[1]=0,U[2]=0,U[3]=0,U}function Ds(U){return"vec4("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+")"}function ms(U,Et){return U[0]===Et[0]&&U[1]===Et[1]&&U[2]===Et[2]&&U[3]===Et[3]}function sl(U,Et){var Qt=U[0],ae=U[1],he=U[2],xe=U[3],Le=Et[0],Ne=Et[1],Ue=Et[2],$e=Et[3];return Math.abs(Qt-Le)<=M.b*Math.max(1,Math.abs(Qt),Math.abs(Le))&&Math.abs(ae-Ne)<=M.b*Math.max(1,Math.abs(ae),Math.abs(Ne))&&Math.abs(he-Ue)<=M.b*Math.max(1,Math.abs(he),Math.abs(Ue))&&Math.abs(xe-$e)<=M.b*Math.max(1,Math.abs(xe),Math.abs($e))}var ua=Fa,ru=Yn,Wo=Ti,ll=io,Ps=Hi,ge=po,oe=So,pe=function(){var U=bn();return function(Et,Qt,ae,he,xe,Le){var Ne,Ue;for(Qt||(Qt=4),ae||(ae=0),he?Ue=Math.min(he*Qt+ae,Et.length):Ue=Et.length,Ne=ae;Ne<Ue;Ne+=Qt)U[0]=Et[Ne],U[1]=Et[Ne+1],U[2]=Et[Ne+2],U[3]=Et[Ne+3],xe(U,U,Le),Et[Ne]=U[0],Et[Ne+1]=U[1],Et[Ne+2]=U[2],Et[Ne+3]=U[3];return Et}}();function ze(){var U=new M.a(4);return M.a!=Float32Array&&(U[0]=0,U[1]=0,U[2]=0),U[3]=1,U}function Xe(U){return U[0]=0,U[1]=0,U[2]=0,U[3]=1,U}function ir(U,Et,Qt){Qt=Qt*.5;var ae=Math.sin(Qt);return U[0]=ae*Et[0],U[1]=ae*Et[1],U[2]=ae*Et[2],U[3]=Math.cos(Qt),U}function Br(U,Et){var Qt=Math.acos(Et[3])*2,ae=Math.sin(Qt/2);return ae>M.b?(U[0]=Et[0]/ae,U[1]=Et[1]/ae,U[2]=Et[2]/ae):(U[0]=1,U[1]=0,U[2]=0),Qt}function sn(U,Et){var Qt=gi(U,Et);return Math.acos(2*Qt*Qt-1)}function Gn(U,Et,Qt){var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Qt[0],Ue=Qt[1],$e=Qt[2],Qe=Qt[3];return U[0]=ae*Qe+Le*Ne+he*$e-xe*Ue,U[1]=he*Qe+Le*Ue+xe*Ne-ae*$e,U[2]=xe*Qe+Le*$e+ae*Ue-he*Ne,U[3]=Le*Qe-ae*Ne-he*Ue-xe*$e,U}function In(U,Et,Qt){Qt*=.5;var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Math.sin(Qt),Ue=Math.cos(Qt);return U[0]=ae*Ue+Le*Ne,U[1]=he*Ue+xe*Ne,U[2]=xe*Ue-he*Ne,U[3]=Le*Ue-ae*Ne,U}function mn(U,Et,Qt){Qt*=.5;var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Math.sin(Qt),Ue=Math.cos(Qt);return U[0]=ae*Ue-xe*Ne,U[1]=he*Ue+Le*Ne,U[2]=xe*Ue+ae*Ne,U[3]=Le*Ue-he*Ne,U}function Ba(U,Et,Qt){Qt*=.5;var ae=Et[0],he=Et[1],xe=Et[2],Le=Et[3],Ne=Math.sin(Qt),Ue=Math.cos(Qt);return U[0]=ae*Ue+he*Ne,U[1]=he*Ue-ae*Ne,U[2]=xe*Ue+Le*Ne,U[3]=Le*Ue-xe*Ne,U}function Ga(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2];return U[0]=Qt,U[1]=ae,U[2]=he,U[3]=Math.sqrt(Math.abs(1-Qt*Qt-ae*ae-he*he)),U}function fi(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Math.sqrt(Qt*Qt+ae*ae+he*he),Ne=Math.exp(xe),Ue=Le>0?Ne*Math.sin(Le)/Le:0;return U[0]=Qt*Ue,U[1]=ae*Ue,U[2]=he*Ue,U[3]=Ne*Math.cos(Le),U}function si(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Math.sqrt(Qt*Qt+ae*ae+he*he),Ne=Le>0?Math.atan2(Le,xe)/Le:0;return U[0]=Qt*Ne,U[1]=ae*Ne,U[2]=he*Ne,U[3]=.5*Math.log(Qt*Qt+ae*ae+he*he+xe*xe),U}function Di(U,Et,Qt){return si(U,Et),Jo(U,U,Qt),fi(U,U),U}function oo(U,Et,Qt,ae){var he=Et[0],xe=Et[1],Le=Et[2],Ne=Et[3],Ue=Qt[0],$e=Qt[1],Qe=Qt[2],Tr=Qt[3],Ir,Sr,$r,hn,Pr;return Sr=he*Ue+xe*$e+Le*Qe+Ne*Tr,Sr<0&&(Sr=-Sr,Ue=-Ue,$e=-$e,Qe=-Qe,Tr=-Tr),1-Sr>M.b?(Ir=Math.acos(Sr),$r=Math.sin(Ir),hn=Math.sin((1-ae)*Ir)/$r,Pr=Math.sin(ae*Ir)/$r):(hn=1-ae,Pr=ae),U[0]=hn*he+Pr*Ue,U[1]=hn*xe+Pr*$e,U[2]=hn*Le+Pr*Qe,U[3]=hn*Ne+Pr*Tr,U}function so(U){var Et=M.c(),Qt=M.c(),ae=M.c(),he=Math.sqrt(1-Et),xe=Math.sqrt(Et);return U[0]=he*Math.sin(2*Math.PI*Qt),U[1]=he*Math.cos(2*Math.PI*Qt),U[2]=xe*Math.sin(2*Math.PI*ae),U[3]=xe*Math.cos(2*Math.PI*ae),U}function Ui(U,Et){var Qt=Et[0],ae=Et[1],he=Et[2],xe=Et[3],Le=Qt*Qt+ae*ae+he*he+xe*xe,Ne=Le?1/Le:0;return U[0]=-Qt*Ne,U[1]=-ae*Ne,U[2]=-he*Ne,U[3]=xe*Ne,U}function ve(U,Et){return U[0]=-Et[0],U[1]=-Et[1],U[2]=-Et[2],U[3]=Et[3],U}function Ua(U,Et){var Qt=Et[0]+Et[4]+Et[8],ae;if(Qt>0)ae=Math.sqrt(Qt+1),U[3]=.5*ae,ae=.5/ae,U[0]=(Et[5]-Et[7])*ae,U[1]=(Et[6]-Et[2])*ae,U[2]=(Et[1]-Et[3])*ae;else{var he=0;Et[4]>Et[0]&&(he=1),Et[8]>Et[he*3+he]&&(he=2);var xe=(he+1)%3,Le=(he+2)%3;ae=Math.sqrt(Et[he*3+he]-Et[xe*3+xe]-Et[Le*3+Le]+1),U[he]=.5*ae,ae=.5/ae,U[3]=(Et[xe*3+Le]-Et[Le*3+xe])*ae,U[xe]=(Et[xe*3+he]+Et[he*3+xe])*ae,U[Le]=(Et[Le*3+he]+Et[he*3+Le])*ae}return U}function qn(U,Et,Qt,ae){var he=.5*Math.PI/180;Et*=he,Qt*=he,ae*=he;var xe=Math.sin(Et),Le=Math.cos(Et),Ne=Math.sin(Qt),Ue=Math.cos(Qt),$e=Math.sin(ae),Qe=Math.cos(ae);return U[0]=xe*Ue*Qe-Le*Ne*$e,U[1]=Le*Ne*Qe+xe*Ue*$e,U[2]=Le*Ue*$e-xe*Ne*Qe,U[3]=Le*Ue*Qe+xe*Ne*$e,U}function Lo(U){return"quat("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+")"}var hi=ta,Qo=aa,zo=wn,zs=ea,yo=Aa,us=Gn,Jo=Go,gi=ys,ul=Uo,qi=po,ks=qi,_o=So,cl=_o,jo=wi,cs=ms,Vs=sl,Xs=function(){var U=_r.create(),Et=_r.fromValues(1,0,0),Qt=_r.fromValues(0,1,0);return function(ae,he,xe){var Le=_r.dot(he,xe);return Le<-.999999?(_r.cross(U,Et,he),_r.len(U)<1e-6&&_r.cross(U,Qt,he),_r.normalize(U,U),ir(ae,U,Math.PI),ae):Le>.999999?(ae[0]=0,ae[1]=0,ae[2]=0,ae[3]=1,ae):(_r.cross(U,he,xe),ae[0]=U[0],ae[1]=U[1],ae[2]=U[2],ae[3]=1+Le,jo(ae,ae))}}(),bs=function(){var U=ze(),Et=ze();return function(Qt,ae,he,xe,Le,Ne){return oo(U,ae,Le,Ne),oo(Et,he,xe,Ne),oo(Qt,U,Et,2*Ne*(1-Ne)),Qt}}(),Ls=function(){var U=D();return function(Et,Qt,ae,he){return U[0]=ae[0],U[3]=ae[1],U[6]=ae[2],U[1]=he[0],U[4]=he[1],U[7]=he[2],U[2]=-Qt[0],U[5]=-Qt[1],U[8]=-Qt[2],jo(Et,Ua(Et,U))}}(),fl=i("d/dq")},"9L8m":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.NON_CUSTOM_TAG_KEYS=P.POST_CONSTRUCT=P.DESIGN_PARAM_TYPES=P.PARAM_TYPES=P.TAGGED_PROP=P.TAGGED=P.MULTI_INJECT_TAG=P.INJECT_TAG=P.OPTIONAL_TAG=P.UNMANAGED_TAG=P.NAME_TAG=P.NAMED_TAG=void 0,P.NAMED_TAG="named",P.NAME_TAG="name",P.UNMANAGED_TAG="unmanaged",P.OPTIONAL_TAG="optional",P.INJECT_TAG="inject",P.MULTI_INJECT_TAG="multi_inject",P.TAGGED="inversify:tagged",P.TAGGED_PROP="inversify:tagged_props",P.PARAM_TYPES="inversify:paramtypes",P.DESIGN_PARAM_TYPES="design:paramtypes",P.POST_CONSTRUCT="post_construct";function d(){return[P.INJECT_TAG,P.MULTI_INJECT_TAG,P.NAME_TAG,P.UNMANAGED_TAG,P.NAMED_TAG,P.OPTIONAL_TAG]}P.NON_CUSTOM_TAG_KEYS=d()},"9drk":function(wt,P){var i=Object.prototype,d=i.hasOwnProperty;function o(b,x){return b!=null&&d.call(b,x)}wt.exports=o},"9pBU":function(wt,P,i){"use strict";i.d(P,"e",function(){return N}),i.d(P,"b",function(){return st}),i.d(P,"a",function(){return Gt}),i.d(P,"c",function(){return E}),i.d(P,"d",function(){return it}),i.d(P,"f",function(){return d});var d={};i.r(d),i.d(d,"distance",function(){return x}),i.d(d,"isNumberEqual",function(){return M}),i.d(d,"getBBoxByArray",function(){return D}),i.d(d,"getBBoxRange",function(){return C}),i.d(d,"piMod",function(){return S});function o(Mt){return Math.min.apply(null,Mt)}function b(Mt){return Math.max.apply(null,Mt)}function x(Mt,q,V,ot){var tt=Mt-V,yt=q-ot;return Math.sqrt(tt*tt+yt*yt)}function M(Mt,q){return Math.abs(Mt-q)<.001}function D(Mt,q){var V=o(Mt),ot=o(q),tt=b(Mt),yt=b(q);return{x:V,y:ot,width:tt-V,height:yt-ot}}function C(Mt,q,V,ot){return{minX:o([Mt,V]),maxX:b([Mt,V]),minY:o([q,ot]),maxY:b([q,ot])}}function S(Mt){return(Mt+Math.PI*2)%(Math.PI*2)}var O=i("d/dq"),E={box:function(q,V,ot,tt){return D([q,ot],[V,tt])},length:function(q,V,ot,tt){return x(q,V,ot,tt)},pointAt:function(q,V,ot,tt,yt){return{x:(1-yt)*q+yt*ot,y:(1-yt)*V+yt*tt}},pointDistance:function(q,V,ot,tt,yt,Pt){var Ft=(ot-q)*(yt-q)+(tt-V)*(Pt-V);if(Ft<0)return x(q,V,yt,Pt);var Wt=(ot-q)*(ot-q)+(tt-V)*(tt-V);return Ft>Wt?x(ot,tt,yt,Pt):this.pointToLine(q,V,ot,tt,yt,Pt)},pointToLine:function(q,V,ot,tt,yt,Pt){var Ft=[ot-q,tt-V];if(O.exactEquals(Ft,[0,0]))return Math.sqrt((yt-q)*(yt-q)+(Pt-V)*(Pt-V));var Wt=[-Ft[1],Ft[0]];O.normalize(Wt,Wt);var Vt=[yt-q,Pt-V];return Math.abs(O.dot(Vt,Wt))},tangentAngle:function(q,V,ot,tt){return Math.atan2(tt-V,ot-q)}},I=1e-4;function A(Mt,q,V,ot,tt,yt){var Pt,Ft=Infinity,Wt=[V,ot],Vt=20;yt&&yt>200&&(Vt=yt/10);for(var Lt=1/Vt,Ct=Lt/10,_=0;_<=Vt;_++){var It=_*Lt,Rt=[tt.apply(null,Mt.concat([It])),tt.apply(null,q.concat([It]))],xt=x(Wt[0],Wt[1],Rt[0],Rt[1]);xt<Ft&&(Pt=It,Ft=xt)}if(Pt===0)return{x:Mt[0],y:q[0]};if(Pt===1){var Nt=Mt.length;return{x:Mt[Nt-1],y:q[Nt-1]}}Ft=Infinity;for(var _=0;_<32&&!(Ct<I);_++){var Ht=Pt-Ct,jt=Pt+Ct,Rt=[tt.apply(null,Mt.concat([Ht])),tt.apply(null,q.concat([Ht]))],xt=x(Wt[0],Wt[1],Rt[0],Rt[1]);if(Ht>=0&&xt<Ft)Pt=Ht,Ft=xt;else{var Ut=[tt.apply(null,Mt.concat([jt])),tt.apply(null,q.concat([jt]))],Jt=x(Wt[0],Wt[1],Ut[0],Ut[1]);jt<=1&&Jt<Ft?(Pt=jt,Ft=Jt):Ct*=.5}}return{x:tt.apply(null,Mt.concat([Pt])),y:tt.apply(null,q.concat([Pt]))}}function R(Mt,q){for(var V=0,ot=Mt.length,tt=0;tt<ot;tt++){var yt=Mt[tt],Pt=q[tt],Ft=Mt[(tt+1)%ot],Wt=q[(tt+1)%ot];V+=x(yt,Pt,Ft,Wt)}return V/2}function B(Mt,q,V,ot){var tt=1-ot;return tt*tt*Mt+2*ot*tt*q+ot*ot*V}function p(Mt,q,V){var ot=Mt+V-2*q;if(M(ot,0))return[.5];var tt=(Mt-q)/ot;return tt<=1&&tt>=0?[tt]:[]}function G(Mt,q,V,ot){return 2*(1-ot)*(q-Mt)+2*ot*(V-q)}function W(Mt,q,V,ot,tt,yt,Pt){var Ft=B(Mt,V,tt,Pt),Wt=B(q,ot,yt,Pt),Vt=E.pointAt(Mt,q,V,ot,Pt),Lt=E.pointAt(V,ot,tt,yt,Pt);return[[Mt,q,Vt.x,Vt.y,Ft,Wt],[Ft,Wt,Lt.x,Lt.y,tt,yt]]}function z(Mt,q,V,ot,tt,yt,Pt){if(Pt===0)return(x(Mt,q,V,ot)+x(V,ot,tt,yt)+x(Mt,q,tt,yt))/2;var Ft=W(Mt,q,V,ot,tt,yt,.5),Wt=Ft[0],Vt=Ft[1];return Wt.push(Pt-1),Vt.push(Pt-1),z.apply(null,Wt)+z.apply(null,Vt)}var N={box:function(q,V,ot,tt,yt,Pt){var Ft=p(q,ot,yt)[0],Wt=p(V,tt,Pt)[0],Vt=[q,yt],Lt=[V,Pt];return Ft!==void 0&&Vt.push(B(q,ot,yt,Ft)),Wt!==void 0&&Lt.push(B(V,tt,Pt,Wt)),D(Vt,Lt)},length:function(q,V,ot,tt,yt,Pt){return z(q,V,ot,tt,yt,Pt,3)},nearestPoint:function(q,V,ot,tt,yt,Pt,Ft,Wt){return A([q,ot,yt],[V,tt,Pt],Ft,Wt,B)},pointDistance:function(q,V,ot,tt,yt,Pt,Ft,Wt){var Vt=this.nearestPoint(q,V,ot,tt,yt,Pt,Ft,Wt);return x(Vt.x,Vt.y,Ft,Wt)},interpolationAt:B,pointAt:function(q,V,ot,tt,yt,Pt,Ft){return{x:B(q,ot,yt,Ft),y:B(V,tt,Pt,Ft)}},divide:function(q,V,ot,tt,yt,Pt,Ft){return W(q,V,ot,tt,yt,Pt,Ft)},tangentAngle:function(q,V,ot,tt,yt,Pt,Ft){var Wt=G(q,ot,yt,Ft),Vt=G(V,tt,Pt,Ft),Lt=Math.atan2(Vt,Wt);return S(Lt)}};function j(Mt,q,V,ot,tt){var yt=1-tt;return yt*yt*yt*Mt+3*q*tt*yt*yt+3*V*tt*tt*yt+ot*tt*tt*tt}function F(Mt,q,V,ot,tt){var yt=1-tt;return 3*(yt*yt*(q-Mt)+2*yt*tt*(V-q)+tt*tt*(ot-V))}function k(Mt,q,V,ot){var tt=-3*Mt+9*q-9*V+3*ot,yt=6*Mt-12*q+6*V,Pt=3*q-3*Mt,Ft=[],Wt,Vt,Lt;if(M(tt,0))M(yt,0)||(Wt=-Pt/yt,Wt>=0&&Wt<=1&&Ft.push(Wt));else{var Ct=yt*yt-4*tt*Pt;M(Ct,0)?Ft.push(-yt/(2*tt)):Ct>0&&(Lt=Math.sqrt(Ct),Wt=(-yt+Lt)/(2*tt),Vt=(-yt-Lt)/(2*tt),Wt>=0&&Wt<=1&&Ft.push(Wt),Vt>=0&&Vt<=1&&Ft.push(Vt))}return Ft}function $(Mt,q,V,ot,tt,yt,Pt,Ft,Wt){var Vt=j(Mt,V,tt,Pt,Wt),Lt=j(q,ot,yt,Ft,Wt),Ct=E.pointAt(Mt,q,V,ot,Wt),_=E.pointAt(V,ot,tt,yt,Wt),It=E.pointAt(tt,yt,Pt,Ft,Wt),Rt=E.pointAt(Ct.x,Ct.y,_.x,_.y,Wt),xt=E.pointAt(_.x,_.y,It.x,It.y,Wt);return[[Mt,q,Ct.x,Ct.y,Rt.x,Rt.y,Vt,Lt],[Vt,Lt,xt.x,xt.y,It.x,It.y,Pt,Ft]]}function nt(Mt,q,V,ot,tt,yt,Pt,Ft,Wt){if(Wt===0)return R([Mt,V,tt,Pt],[q,ot,yt,Ft]);var Vt=$(Mt,q,V,ot,tt,yt,Pt,Ft,.5),Lt=Vt[0],Ct=Vt[1];return Lt.push(Wt-1),Ct.push(Wt-1),nt.apply(null,Lt)+nt.apply(null,Ct)}var st={extrema:k,box:function(q,V,ot,tt,yt,Pt,Ft,Wt){for(var Vt=[q,Ft],Lt=[V,Wt],Ct=k(q,ot,yt,Ft),_=k(V,tt,Pt,Wt),It=0;It<Ct.length;It++)Vt.push(j(q,ot,yt,Ft,Ct[It]));for(var It=0;It<_.length;It++)Lt.push(j(V,tt,Pt,Wt,_[It]));return D(Vt,Lt)},length:function(q,V,ot,tt,yt,Pt,Ft,Wt){return nt(q,V,ot,tt,yt,Pt,Ft,Wt,3)},nearestPoint:function(q,V,ot,tt,yt,Pt,Ft,Wt,Vt,Lt,Ct){return A([q,ot,yt,Ft],[V,tt,Pt,Wt],Vt,Lt,j,Ct)},pointDistance:function(q,V,ot,tt,yt,Pt,Ft,Wt,Vt,Lt,Ct){var _=this.nearestPoint(q,V,ot,tt,yt,Pt,Ft,Wt,Vt,Lt,Ct);return x(_.x,_.y,Vt,Lt)},interpolationAt:j,pointAt:function(q,V,ot,tt,yt,Pt,Ft,Wt,Vt){return{x:j(q,ot,yt,Ft,Vt),y:j(V,tt,Pt,Wt,Vt)}},divide:function(q,V,ot,tt,yt,Pt,Ft,Wt,Vt){return $(q,V,ot,tt,yt,Pt,Ft,Wt,Vt)},tangentAngle:function(q,V,ot,tt,yt,Pt,Ft,Wt,Vt){var Lt=F(q,ot,yt,Ft,Vt),Ct=F(V,tt,Pt,Wt,Vt);return S(Math.atan2(Ct,Lt))}};function rt(Mt,q){var V=Math.abs(Mt);return q>0?V:V*-1}var Q={box:function(q,V,ot,tt){return{x:q-ot,y:V-tt,width:ot*2,height:tt*2}},length:function(q,V,ot,tt){return Math.PI*(3*(ot+tt)-Math.sqrt((3*ot+tt)*(ot+3*tt)))},nearestPoint:function(q,V,ot,tt,yt,Pt){var Ft=ot,Wt=tt;if(Ft===0||Wt===0)return{x:q,y:V};for(var Vt=yt-q,Lt=Pt-V,Ct=Math.abs(Vt),_=Math.abs(Lt),It=Ft*Ft,Rt=Wt*Wt,xt=Math.PI/4,Nt,Ht,jt=0;jt<4;jt++){Nt=Ft*Math.cos(xt),Ht=Wt*Math.sin(xt);var Ut=(It-Rt)*Math.pow(Math.cos(xt),3)/Ft,Jt=(Rt-It)*Math.pow(Math.sin(xt),3)/Wt,se=Nt-Ut,me=Ht-Jt,Me=Ct-Ut,Pe=_-Jt,Ge=Math.hypot(me,se),nr=Math.hypot(Pe,Me),gr=Ge*Math.asin((se*Pe-me*Me)/(Ge*nr)),or=gr/Math.sqrt(It+Rt-Nt*Nt-Ht*Ht);xt+=or,xt=Math.min(Math.PI/2,Math.max(0,xt))}return{x:q+rt(Nt,Vt),y:V+rt(Ht,Lt)}},pointDistance:function(q,V,ot,tt,yt,Pt){var Ft=this.nearestPoint(q,V,ot,tt,yt,Pt);return x(Ft.x,Ft.y,yt,Pt)},pointAt:function(q,V,ot,tt,yt){var Pt=2*Math.PI*yt;return{x:q+ot*Math.cos(Pt),y:V+tt*Math.sin(Pt)}},tangentAngle:function(q,V,ot,tt,yt){var Pt=2*Math.PI*yt,Ft=Math.atan2(tt*Math.cos(Pt),-ot*Math.sin(Pt));return S(Ft)}};function Y(Mt,q,V,ot,tt,yt,Pt,Ft){return-1*V*Math.cos(tt)*Math.sin(Ft)-ot*Math.sin(tt)*Math.cos(Ft)}function K(Mt,q,V,ot,tt,yt,Pt,Ft){return-1*V*Math.sin(tt)*Math.sin(Ft)+ot*Math.cos(tt)*Math.cos(Ft)}function et(Mt,q,V){return Math.atan(-q/Mt*Math.tan(V))}function ut(Mt,q,V){return Math.atan(q/(Mt*Math.tan(V)))}function dt(Mt,q,V,ot,tt,yt){return V*Math.cos(tt)*Math.cos(yt)-ot*Math.sin(tt)*Math.sin(yt)+Mt}function vt(Mt,q,V,ot,tt,yt){return V*Math.sin(tt)*Math.cos(yt)+ot*Math.cos(tt)*Math.sin(yt)+q}function at(Mt,q,V,ot){var tt=Math.atan2(ot*Mt,V*q);return(tt+Math.PI*2)%(Math.PI*2)}function pt(Mt,q,V){return{x:Mt*Math.cos(V),y:q*Math.sin(V)}}function Tt(Mt,q,V){var ot=Math.cos(V),tt=Math.sin(V);return[Mt*ot-q*tt,Mt*tt+q*ot]}var Gt={box:function(q,V,ot,tt,yt,Pt,Ft){for(var Wt=et(ot,tt,yt),Vt=Infinity,Lt=-Infinity,Ct=[Pt,Ft],_=-Math.PI*2;_<=Math.PI*2;_+=Math.PI){var It=Wt+_;Pt<Ft?Pt<It&&It<Ft&&Ct.push(It):Ft<It&&It<Pt&&Ct.push(It)}for(var _=0;_<Ct.length;_++){var Rt=dt(q,V,ot,tt,yt,Ct[_]);Rt<Vt&&(Vt=Rt),Rt>Lt&&(Lt=Rt)}for(var xt=ut(ot,tt,yt),Nt=Infinity,Ht=-Infinity,jt=[Pt,Ft],_=-Math.PI*2;_<=Math.PI*2;_+=Math.PI){var Ut=xt+_;Pt<Ft?Pt<Ut&&Ut<Ft&&jt.push(Ut):Ft<Ut&&Ut<Pt&&jt.push(Ut)}for(var _=0;_<jt.length;_++){var Jt=vt(q,V,ot,tt,yt,jt[_]);Jt<Nt&&(Nt=Jt),Jt>Ht&&(Ht=Jt)}return{x:Vt,y:Nt,width:Lt-Vt,height:Ht-Nt}},length:function(q,V,ot,tt,yt,Pt,Ft){},nearestPoint:function(q,V,ot,tt,yt,Pt,Ft,Wt,Vt){var Lt=Tt(Wt-q,Vt-V,-yt),Ct=Lt[0],_=Lt[1],It=Q.nearestPoint(0,0,ot,tt,Ct,_),Rt=at(ot,tt,It.x,It.y);Rt<Pt?It=pt(ot,tt,Pt):Rt>Ft&&(It=pt(ot,tt,Ft));var xt=Tt(It.x,It.y,yt);return{x:xt[0]+q,y:xt[1]+V}},pointDistance:function(q,V,ot,tt,yt,Pt,Ft,Wt,Vt){var Lt=this.nearestPoint(q,V,ot,tt,Wt,Vt);return x(Lt.x,Lt.y,Wt,Vt)},pointAt:function(q,V,ot,tt,yt,Pt,Ft,Wt){var Vt=(Ft-Pt)*Wt+Pt;return{x:dt(q,V,ot,tt,yt,Vt),y:vt(q,V,ot,tt,yt,Vt)}},tangentAngle:function(q,V,ot,tt,yt,Pt,Ft,Wt){var Vt=(Ft-Pt)*Wt+Pt,Lt=Y(q,V,ot,tt,yt,Pt,Ft,Vt),Ct=K(q,V,ot,tt,yt,Pt,Ft,Vt);return S(Math.atan2(Ct,Lt))}};function Kt(Mt){for(var q=0,V=[],ot=0;ot<Mt.length-1;ot++){var tt=Mt[ot],yt=Mt[ot+1],Pt=x(tt[0],tt[1],yt[0],yt[1]),Ft={from:tt,to:yt,length:Pt};V.push(Ft),q+=Pt}return{segments:V,totalLength:q}}function Xt(Mt){if(Mt.length<2)return 0;for(var q=0,V=0;V<Mt.length-1;V++){var ot=Mt[V],tt=Mt[V+1];q+=x(ot[0],ot[1],tt[0],tt[1])}return q}function gt(Mt,q){if(q>1||q<0||Mt.length<2)return null;var V=Kt(Mt),ot=V.segments,tt=V.totalLength;if(tt===0)return{x:Mt[0][0],y:Mt[0][1]};for(var yt=0,Pt=null,Ft=0;Ft<ot.length;Ft++){var Wt=ot[Ft],Vt=Wt.from,Lt=Wt.to,Ct=Wt.length/tt;if(q>=yt&&q<=yt+Ct){var _=(q-yt)/Ct;Pt=E.pointAt(Vt[0],Vt[1],Lt[0],Lt[1],_);break}yt+=Ct}return Pt}function lt(Mt,q){if(q>1||q<0||Mt.length<2)return 0;for(var V=Kt(Mt),ot=V.segments,tt=V.totalLength,yt=0,Pt=0,Ft=0;Ft<ot.length;Ft++){var Wt=ot[Ft],Vt=Wt.from,Lt=Wt.to,Ct=Wt.length/tt;if(q>=yt&&q<=yt+Ct){Pt=Math.atan2(Lt[1]-Vt[1],Lt[0]-Vt[0]);break}yt+=Ct}return Pt}function ft(Mt,q,V){for(var ot=Infinity,tt=0;tt<Mt.length-1;tt++){var yt=Mt[tt],Pt=Mt[tt+1],Ft=E.pointDistance(yt[0],yt[1],Pt[0],Pt[1],q,V);Ft<ot&&(ot=Ft)}return ot}var it={box:function(q){for(var V=[],ot=[],tt=0;tt<q.length;tt++){var yt=q[tt];V.push(yt[0]),ot.push(yt[1])}return D(V,ot)},length:function(q){return Xt(q)},pointAt:function(q,V){return gt(q,V)},pointDistance:function(q,V,ot){return ft(q,V,ot)},tangentAngle:function(q,V){return lt(q,V)}};function bt(Mt){var q=Mt.slice(0);return Mt.length&&q.push(Mt[0]),q}var Dt={box:function(q){return it.box(q)},length:function(q){return Xt(bt(q))},pointAt:function(q,V){return gt(bt(q),V)},pointDistance:function(q,V,ot){return ft(bt(q),V,ot)},tangentAngle:function(q,V){return lt(bt(q),V)}}},"9u1Y":function(wt,P,i){"use strict";var d=this&&this.__awaiter||function(W,z,N,j){function F(k){return k instanceof N?k:new N(function($){$(k)})}return new(N||(N=Promise))(function(k,$){function nt(Q){try{rt(j.next(Q))}catch(Y){$(Y)}}function st(Q){try{rt(j.throw(Q))}catch(Y){$(Y)}}function rt(Q){Q.done?k(Q.value):F(Q.value).then(nt,st)}rt((j=j.apply(W,z||[])).next())})},o=this&&this.__generator||function(W,z){var N={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},j,F,k,$;return $={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function nt(rt){return function(Q){return st([rt,Q])}}function st(rt){if(j)throw new TypeError("Generator is already executing.");for(;N;)try{if(j=1,F&&(k=rt[0]&2?F.return:rt[0]?F.throw||((k=F.return)&&k.call(F),0):F.next)&&!(k=k.call(F,rt[1])).done)return k;switch(F=0,k&&(rt=[rt[0]&2,k.value]),rt[0]){case 0:case 1:k=rt;break;case 4:return N.label++,{value:rt[1],done:!1};case 5:N.label++,F=rt[1],rt=[0];continue;case 7:rt=N.ops.pop(),N.trys.pop();continue;default:if(k=N.trys,!(k=k.length>0&&k[k.length-1])&&(rt[0]===6||rt[0]===2)){N=0;continue}if(rt[0]===3&&(!k||rt[1]>k[0]&&rt[1]<k[3])){N.label=rt[1];break}if(rt[0]===6&&N.label<k[1]){N.label=k[1],k=rt;break}if(k&&N.label<k[2]){N.label=k[2],N.ops.push(rt);break}k[2]&&N.ops.pop(),N.trys.pop();continue}rt=z.call(W,N)}catch(Q){rt=[6,Q],F=0}finally{j=k=0}if(rt[0]&5)throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}},b=this&&this.__spreadArray||function(W,z){for(var N=0,j=z.length,F=W.length;N<j;N++,F++)W[F]=z[N];return W};Object.defineProperty(P,"__esModule",{value:!0}),P.Container=void 0;var x=i("DpFF"),M=i("196R"),D=i("2+60"),C=i("9L8m"),S=i("/dUy"),O=i("O7jt"),E=i("g5+9"),I=i("szLl"),A=i("qSJf"),R=i("Rph/"),B=i("13cj"),p=i("4X1q"),G=function(){function W(z){this._appliedMiddleware=[];var N=z||{};if(typeof N!="object")throw new Error(""+M.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(N.defaultScope===void 0)N.defaultScope=D.BindingScopeEnum.Transient;else if(N.defaultScope!==D.BindingScopeEnum.Singleton&&N.defaultScope!==D.BindingScopeEnum.Transient&&N.defaultScope!==D.BindingScopeEnum.Request)throw new Error(""+M.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(N.autoBindInjectable===void 0)N.autoBindInjectable=!1;else if(typeof N.autoBindInjectable!="boolean")throw new Error(""+M.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(N.skipBaseClassChecks===void 0)N.skipBaseClassChecks=!1;else if(typeof N.skipBaseClassChecks!="boolean")throw new Error(""+M.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:N.autoBindInjectable,defaultScope:N.defaultScope,skipBaseClassChecks:N.skipBaseClassChecks},this.id=A.id(),this._bindingDictionary=new p.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new S.MetadataReader}return W.merge=function(z,N){for(var j=[],F=2;F<arguments.length;F++)j[F-2]=arguments[F];var k=new W,$=b([z,N],j).map(function(rt){return O.getBindingDictionary(rt)}),nt=O.getBindingDictionary(k);function st(rt,Q){rt.traverse(function(Y,K){K.forEach(function(et){Q.add(et.serviceIdentifier,et.clone())})})}return $.forEach(function(rt){st(rt,nt)}),k},W.prototype.load=function(){for(var z=[],N=0;N<arguments.length;N++)z[N]=arguments[N];for(var j=this._getContainerModuleHelpersFactory(),F=0,k=z;F<k.length;F++){var $=k[F],nt=j($.id);$.registry(nt.bindFunction,nt.unbindFunction,nt.isboundFunction,nt.rebindFunction)}},W.prototype.loadAsync=function(){for(var z=[],N=0;N<arguments.length;N++)z[N]=arguments[N];return d(this,void 0,void 0,function(){var j,F,k,$,nt;return o(this,function(st){switch(st.label){case 0:j=this._getContainerModuleHelpersFactory(),F=0,k=z,st.label=1;case 1:return F<k.length?($=k[F],nt=j($.id),[4,$.registry(nt.bindFunction,nt.unbindFunction,nt.isboundFunction,nt.rebindFunction)]):[3,4];case 2:st.sent(),st.label=3;case 3:return F++,[3,1];case 4:return[2]}})})},W.prototype.unload=function(){for(var z=this,N=[],j=0;j<arguments.length;j++)N[j]=arguments[j];var F=function($){return function(nt){return nt.moduleId===$}};N.forEach(function(k){var $=F(k.id);z._bindingDictionary.removeByCondition($)})},W.prototype.bind=function(z){var N=this.options.defaultScope||D.BindingScopeEnum.Transient,j=new x.Binding(z,N);return this._bindingDictionary.add(z,j),new I.BindingToSyntax(j)},W.prototype.rebind=function(z){return this.unbind(z),this.bind(z)},W.prototype.unbind=function(z){try{this._bindingDictionary.remove(z)}catch(N){throw new Error(M.CANNOT_UNBIND+" "+R.getServiceIdentifierAsString(z))}},W.prototype.unbindAll=function(){this._bindingDictionary=new p.Lookup},W.prototype.isBound=function(z){var N=this._bindingDictionary.hasKey(z);return!N&&this.parent&&(N=this.parent.isBound(z)),N},W.prototype.isBoundNamed=function(z,N){return this.isBoundTagged(z,C.NAMED_TAG,N)},W.prototype.isBoundTagged=function(z,N,j){var F=!1;if(this._bindingDictionary.hasKey(z)){var k=this._bindingDictionary.get(z),$=O.createMockRequest(this,z,N,j);F=k.some(function(nt){return nt.constraint($)})}return!F&&this.parent&&(F=this.parent.isBoundTagged(z,N,j)),F},W.prototype.snapshot=function(){this._snapshots.push(B.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},W.prototype.restore=function(){var z=this._snapshots.pop();if(z===void 0)throw new Error(M.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=z.bindings,this._middleware=z.middleware},W.prototype.createChild=function(z){var N=new W(z||this.options);return N.parent=this,N},W.prototype.applyMiddleware=function(){for(var z=[],N=0;N<arguments.length;N++)z[N]=arguments[N];this._appliedMiddleware=this._appliedMiddleware.concat(z);var j=this._middleware?this._middleware:this._planAndResolve();this._middleware=z.reduce(function(F,k){return k(F)},j)},W.prototype.applyCustomMetadataReader=function(z){this._metadataReader=z},W.prototype.get=function(z){return this._get(!1,!1,D.TargetTypeEnum.Variable,z)},W.prototype.getTagged=function(z,N,j){return this._get(!1,!1,D.TargetTypeEnum.Variable,z,N,j)},W.prototype.getNamed=function(z,N){return this.getTagged(z,C.NAMED_TAG,N)},W.prototype.getAll=function(z){return this._get(!0,!0,D.TargetTypeEnum.Variable,z)},W.prototype.getAllTagged=function(z,N,j){return this._get(!1,!0,D.TargetTypeEnum.Variable,z,N,j)},W.prototype.getAllNamed=function(z,N){return this.getAllTagged(z,C.NAMED_TAG,N)},W.prototype.resolve=function(z){var N=this.createChild();return N.bind(z).toSelf(),this._appliedMiddleware.forEach(function(j){N.applyMiddleware(j)}),N.get(z)},W.prototype._getContainerModuleHelpersFactory=function(){var z=this,N=function(st,rt){st._binding.moduleId=rt},j=function(st){return function(rt){var Q=z.bind.bind(z),Y=Q(rt);return N(Y,st),Y}},F=function(st){return function(rt){var Q=z.unbind.bind(z);Q(rt)}},k=function(st){return function(rt){var Q=z.isBound.bind(z);return Q(rt)}},$=function(st){return function(rt){var Q=z.rebind.bind(z),Y=Q(rt);return N(Y,st),Y}};return function(nt){return{bindFunction:j(nt),isboundFunction:k(nt),rebindFunction:$(nt),unbindFunction:F(nt)}}},W.prototype._get=function(z,N,j,F,k,$){var nt=null,st={avoidConstraints:z,contextInterceptor:function(Q){return Q},isMultiInject:N,key:k,serviceIdentifier:F,targetType:j,value:$};if(this._middleware){if(nt=this._middleware(st),nt==null)throw new Error(M.INVALID_MIDDLEWARE_RETURN)}else nt=this._planAndResolve()(st);return nt},W.prototype._planAndResolve=function(){var z=this;return function(N){var j=O.plan(z._metadataReader,z,N.isMultiInject,N.targetType,N.serviceIdentifier,N.key,N.value,N.avoidConstraints);j=N.contextInterceptor(j);var F=E.resolve(j);return F}},W}();P.Container=G},"9xKD":function(wt,P,i){"use strict";var d=i("XSdR");wt.exports={longestPath:o,slack:b};function o(x){var M={};function D(C){var S=x.node(C);if(d.has(M,C))return S.rank;M[C]=!0;var O=d.min(d.map(x.outEdges(C),function(E){return D(E.w)-x.edge(E).minlen}));return(O===Number.POSITIVE_INFINITY||O===void 0||O===null)&&(O=0),S.rank=O}d.forEach(x.sources(),D)}function b(x,M){return x.node(M.w).rank-x.node(M.v).rank-x.edge(M).minlen}},A2sQ:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.createSensor=void 0;var d=i("PJ1B"),o=i("BF5W"),b=typeof ResizeObserver!="undefined"?o.createSensor:d.createSensor;P.createSensor=b},AKnH:function(wt,P,i){"use strict";i.d(P,"a",function(){return Kt});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("S5Um"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("25gg"),E=i.n(O),I=i("VwUA"),A=i.n(I),R=i("0iMn"),B=i.n(R),p=i("99LQ"),G=i("YcyD"),W=i.n(G),z=i("XN3X"),N=i("c5gd"),j=i("60wz"),F,k,$,nt,st,rt,Q,Y,K,et,ut,dt,vt,at;function pt(Xt,gt){var lt;if(typeof Symbol=="undefined"||Xt[Symbol.iterator]==null){if(Array.isArray(Xt)||(lt=Tt(Xt))||gt&&Xt&&typeof Xt.length=="number"){lt&&(Xt=lt);var ft=0,it=function(){};return{s:it,n:function(){return ft>=Xt.length?{done:!0}:{done:!1,value:Xt[ft++]}},e:function(V){throw V},f:it}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bt=!0,Dt=!1,Mt;return{s:function(){lt=Xt[Symbol.iterator]()},n:function(){var V=lt.next();return bt=V.done,V},e:function(V){Dt=!0,Mt=V},f:function(){try{!bt&&lt.return!=null&&lt.return()}finally{if(Dt)throw Mt}}}}function Tt(Xt,gt){if(!!Xt){if(typeof Xt=="string")return Gt(Xt,gt);var lt=Object.prototype.toString.call(Xt).slice(8,-1);if(lt==="Object"&&Xt.constructor&&(lt=Xt.constructor.name),lt==="Map"||lt==="Set")return Array.from(Xt);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return Gt(Xt,gt)}}function Gt(Xt,gt){(gt==null||gt>Xt.length)&&(gt=Xt.length);for(var lt=0,ft=new Array(gt);lt<gt;lt++)ft[lt]=Xt[lt];return ft}var Kt=(F=Object(G.injectable)(),k=Object(G.inject)(z.a.MeshComponentManager),$=Object(G.inject)(z.a.CullableComponentManager),nt=Object(G.inject)(z.a.GeometryComponentManager),st=Object(G.inject)(z.a.HierarchyComponentManager),rt=Object(G.inject)(z.a.TransformComponentManager),F(Q=(Y=(at=function(){function Xt(){S()(this,Xt),D()(this,"mesh",K,this),D()(this,"cullable",et,this),D()(this,"geometry",ut,this),D()(this,"hierarchy",dt,this),D()(this,"transform",vt,this),this.planes=void 0}return E()(Xt,[{key:"setFrustumPlanes",value:function(lt){this.planes=lt}},{key:"execute",value:function(){var gt=x()(o.a.mark(function ft(it){var bt,Dt,Mt,q,V,ot,tt,yt,Pt,Ft,Wt,Vt,Lt,Ct,_,It,Rt,xt,Nt,Ht,jt;return o.a.wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:bt=pt(it);try{for(bt.s();!(Dt=bt.n()).done;){Mt=Dt.value,q=Mt.getScene(),V=Mt.getCamera(),ot=pt(q.getEntities());try{for(ot.s();!(tt=ot.n()).done;)yt=tt.value,Pt=this.mesh.getComponentByEntity(yt),Pt&&(Ft=this.hierarchy.getComponentByEntity(yt),Wt=this.cullable.getComponentByEntity(yt),Vt=Pt.geometry,Lt=this.transform.getComponentByEntity(yt),Vt&&Vt.aabb&&Lt&&Pt.aabbDirty&&(Ct=Lt.worldTransform,_=Vt.aabb,It=_.center,Rt=_.halfExtents,xt=p.e.transformMat4(p.e.create(),It,Ct),Nt=Object(j.b)(Ct,p.a.create()),Ht=p.e.transformMat3(p.e.create(),Rt,Nt),Pt.aabb.update(xt,Ht),Pt.aabbDirty=!1),Wt&&Vt&&(jt=this.cullable.getComponentByEntity((Ft==null?void 0:Ft.parentID)||-1),Wt.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(Pt.aabb,(jt==null?void 0:jt.visibilityPlaneMask)||N.b.INDETERMINATE,this.planes||V.getFrustum().planes),Wt.visible=Wt.visibilityPlaneMask!==N.b.OUTSIDE))}catch(se){ot.e(se)}finally{ot.f()}}}catch(se){bt.e(se)}finally{bt.f()}case 2:case"end":return Jt.stop()}},ft,this)}));function lt(ft){return gt.apply(this,arguments)}return lt}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(lt,ft,it){if(ft===N.b.OUTSIDE||ft===N.b.INSIDE)return ft;for(var bt=N.b.INSIDE,Dt=0,Mt=it.length;Dt<Mt;++Dt){var q=Dt<31?1<<Dt:0;if(!(Dt<31&&(ft&q)==0)){var V=it[Dt],ot=V.normal,tt=V.distance;if(p.e.dot(ot,lt.getNegativeFarPoint(it[Dt]))+tt>0)return N.b.OUTSIDE;p.e.dot(ot,lt.getPositiveFarPoint(it[Dt]))+tt>0&&(bt|=q)}}return bt}}]),Xt}(),at),K=A()(Y.prototype,"mesh",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=A()(Y.prototype,"cullable",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=A()(Y.prototype,"geometry",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=A()(Y.prototype,"hierarchy",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=A()(Y.prototype,"transform",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y))||Q)},AM3p:function(wt,P,i){"use strict";var d=i("XSdR");wt.exports={adjust:o,undo:b};function o(E){var I=E.graph().rankdir.toLowerCase();(I==="lr"||I==="rl")&&x(E)}function b(E){var I=E.graph().rankdir.toLowerCase();(I==="bt"||I==="rl")&&D(E),(I==="lr"||I==="rl")&&(S(E),x(E))}function x(E){d.forEach(E.nodes(),function(I){M(E.node(I))}),d.forEach(E.edges(),function(I){M(E.edge(I))})}function M(E){var I=E.width;E.width=E.height,E.height=I}function D(E){d.forEach(E.nodes(),function(I){C(E.node(I))}),d.forEach(E.edges(),function(I){var A=E.edge(I);d.forEach(A.points,C),d.has(A,"y")&&C(A)})}function C(E){E.y=-E.y}function S(E){d.forEach(E.nodes(),function(I){O(E.node(I))}),d.forEach(E.edges(),function(I){var A=E.edge(I);d.forEach(A.points,O),d.has(A,"x")&&O(A)})}function O(E){var I=E.x;E.x=E.y,E.y=I}},ANdP:function(wt,P,i){"use strict";var d=i("/WN3"),o=i("jg4I"),b=i("5Kaj"),x=function(M){Object(d.b)(D,M);function D(){return M!==null&&M.apply(this,arguments)||this}return D.prototype.process=function(C){var S=o.q(C),O=this,E=O.xField,I=O.yField,A=this.getXValuesMaxMap(S),R=Math.max.apply(Math,Object.keys(A).map(function(B){return A[B]}));return o.U(C,function(B){return o.U(B,function(p){var G,W,z=p[I],N=p[E];if(o.B(z)){var j=(R-A[N])/2;return Object(d.a)(Object(d.a)({},p),(G={},G[I]=o.U(z,function(k){return j+k}),G))}var F=(R-z)/2;return Object(d.a)(Object(d.a)({},p),(W={},W[I]=[F,z+F],W))})})},D.prototype.getXValuesMaxMap=function(C){var S=this,O=this,E=O.xField,I=O.yField,A=o.v(C,function(R){return R[E]});return o.V(A,function(R){return S.getDimMaxValue(R,I)})},D.prototype.getDimMaxValue=function(C,S){var O=o.U(C,function(I){return o.s(I,S,[])}),E=o.q(O);return Math.max.apply(Math,E)},D}(b.a);P.a=x},"AOO/":function(wt,P,i){"use strict";i.d(P,"a",function(){return M}),i.d(P,"d",function(){return C}),i.d(P,"e",function(){return S}),i.d(P,"c",function(){return I}),i.d(P,"f",function(){return A.a}),i.d(P,"b",function(){return R});var d=i("J+IK"),o=i("NmxA"),b=i("Cw9K"),x=i("wnXL");function M(B){var p=B.options,G=p.area,W=p.xField,z=p.yField,N=p.seriesField,j=p.smooth,F=p.tooltip,k=Object(o.a)(F,[W,z,N]),$=k.fields,nt=k.formatter;return G?Object(x.a)(Object(b.b)({},B,{options:{type:"area",colorField:N,tooltipFields:$,mapping:Object(d.a)({shape:j?"smooth":"area",tooltip:nt},G)}})):B}var D=i("jg4I");function C(B){var p=B.options,G=p.line,W=p.stepType,z=p.xField,N=p.yField,j=p.seriesField,F=p.smooth,k=p.connectNulls,$=p.tooltip,nt=Object(o.a)($,[z,N,j]),st=nt.fields,rt=nt.formatter;return G?Object(x.a)(Object(b.b)({},B,{options:{type:"line",colorField:j,tooltipFields:st,mapping:Object(D.h)({shape:W||(F?"smooth":"line"),tooltip:rt},G),args:{connectNulls:k}}})):B}function S(B){var p=B.options,G=p.point,W=p.xField,z=p.yField,N=p.seriesField,j=p.sizeField,F=p.shapeField,k=p.tooltip,$=Object(o.a)(k,[W,z,N,j,F]),nt=$.fields,st=$.formatter;return G?Object(x.a)(Object(b.b)({},B,{options:{type:"point",colorField:N,shapeField:F,tooltipFields:nt,mapping:Object(d.a)({tooltip:st},G)}})):B}var O=i("18og");function E(B){var p=B.chart,G=B.options,W=B.ext,z=G.seriesField,N=G.isGroup,j=G.isStack,F=G.marginRatio,k=G.widthRatio,$=G.groupField,nt=G.theme,st=[];if(z&&(N&&st.push({type:"dodge",dodgeBy:$||z,marginRatio:F}),j&&st.push({type:"stack",marginRatio:F})),st.length&&(W==null?void 0:W.geometry)){var rt=W==null?void 0:W.geometry;rt.adjust(st)}return Object(D.I)(k)||p.theme(Object(b.b)({},Object(D.M)(nt)?nt:Object(O.getTheme)(nt),{columnWidthRatio:k})),B}function I(B){var p=B.options,G=p.xField,W=p.yField,z=p.interval,N=p.seriesField,j=p.tooltip,F=p.minColumnWidth,k=p.maxColumnWidth,$=p.columnBackground,nt=p.dodgePadding,st=p.intervalPadding,rt=Object(o.a)(j,[G,W,N]),Q=rt.fields,Y=rt.formatter,K=(z?Object(x.a)(Object(b.b)({},B,{options:{type:"interval",colorField:N,tooltipFields:Q,mapping:Object(d.a)({tooltip:Y},z),args:{dodgePadding:nt,intervalPadding:st,minColumnWidth:F,maxColumnWidth:k,background:$}}})):B).ext;return E(Object(d.a)(Object(d.a)({},B),{ext:K}))}var A=i("vX7b");function R(B){var p=B.options,G=p.edge,W=p.xField,z=p.yField,N=p.seriesField,j=p.tooltip,F=Object(o.a)(j,[W,z,N]),k=F.fields,$=F.formatter;return G?Object(x.a)(Object(b.b)({},B,{options:{type:"edge",colorField:N,tooltipFields:k,mapping:Object(d.a)({tooltip:$},G)}})):B}},AUMs:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.isStackOverflowExeption=void 0;var d=i("196R");function o(b){return b instanceof RangeError||b.message===d.STACK_OVERFLOW}P.isStackOverflowExeption=o},AaeU:function(wt,P,i){var d=i("ql+n");wt.exports=o;function o(b){var x={},M=[],D;function C(S){d.has(x,S)||(x[S]=!0,D.push(S),d.each(b.successors(S),C),d.each(b.predecessors(S),C))}return d.each(b.nodes(),function(S){D=[],C(S),D.length&&M.push(D)}),M}},AmsH:function(wt,P){var i="\\ud800-\\udfff",d="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",x=d+o+b,M="\\ufe0e\\ufe0f",D="\\u200d",C=RegExp("["+D+i+x+M+"]");function S(O){return C.test(O)}wt.exports=S},Aw3q:function(wt,P){},Az8f:function(wt,P){},BF5W:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.createSensor=void 0;var d=o(i("5M8n"));function o(x){return x&&x.__esModule?x:{default:x}}var b=function(M){var D=void 0,C=[],S=(0,d.default)(function(){C.forEach(function(R){R(M)})}),O=function(){var B=new ResizeObserver(S);return B.observe(M),S(),B},E=function(B){D||(D=O()),C.indexOf(B)===-1&&C.push(B)},I=function(){D.disconnect(),C=[],D=void 0},A=function(B){var p=C.indexOf(B);p!==-1&&C.splice(p,1),C.length===0&&D&&I()};return{element:M,bind:E,destroy:I,unbind:A}};P.createSensor=b},BLox:function(wt,P,i){(function(d,o){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var b;(function(x){(function(M){var D=typeof o=="object"?o:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),C=S(x);typeof D.Reflect=="undefined"?D.Reflect=x:C=S(D.Reflect,C),M(C);function S(O,E){return function(I,A){typeof O[I]!="function"&&Object.defineProperty(O,I,{configurable:!0,writable:!0,value:A}),E&&E(I,A)}}})(function(M){var D=Object.prototype.hasOwnProperty,C=typeof Symbol=="function",S=C&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",O=C&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",E=typeof Object.create=="function",I={__proto__:[]}instanceof Array,A=!E&&!I,R={create:E?function(){return Ht(Object.create(null))}:I?function(){return Ht({__proto__:null})}:function(){return Ht({})},has:A?function(jt,Ut){return D.call(jt,Ut)}:function(jt,Ut){return Ut in jt},get:A?function(jt,Ut){return D.call(jt,Ut)?jt[Ut]:void 0}:function(jt,Ut){return jt[Ut]}},B=Object.getPrototypeOf(Function),p=typeof d=="object"&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL==="true",G=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Rt(),W=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:xt(),z=!p&&typeof WeakMap=="function"?WeakMap:Nt(),N=new z;function j(jt,Ut,Jt,se){if(lt(Jt)){if(!tt(jt))throw new TypeError;if(!Pt(Ut))throw new TypeError;return et(jt,Ut)}else{if(!tt(jt))throw new TypeError;if(!bt(Ut))throw new TypeError;if(!bt(se)&&!lt(se)&&!ft(se))throw new TypeError;return ft(se)&&(se=void 0),Jt=ot(Jt),ut(jt,Ut,Jt,se)}}M("decorate",j);function F(jt,Ut){function Jt(se,me){if(!bt(se))throw new TypeError;if(!lt(me)&&!Ft(me))throw new TypeError;Gt(jt,Ut,se,me)}return Jt}M("metadata",F);function k(jt,Ut,Jt,se){if(!bt(Jt))throw new TypeError;return lt(se)||(se=ot(se)),Gt(jt,Ut,Jt,se)}M("defineMetadata",k);function $(jt,Ut,Jt){if(!bt(Ut))throw new TypeError;return lt(Jt)||(Jt=ot(Jt)),vt(jt,Ut,Jt)}M("hasMetadata",$);function nt(jt,Ut,Jt){if(!bt(Ut))throw new TypeError;return lt(Jt)||(Jt=ot(Jt)),at(jt,Ut,Jt)}M("hasOwnMetadata",nt);function st(jt,Ut,Jt){if(!bt(Ut))throw new TypeError;return lt(Jt)||(Jt=ot(Jt)),pt(jt,Ut,Jt)}M("getMetadata",st);function rt(jt,Ut,Jt){if(!bt(Ut))throw new TypeError;return lt(Jt)||(Jt=ot(Jt)),Tt(jt,Ut,Jt)}M("getOwnMetadata",rt);function Q(jt,Ut){if(!bt(jt))throw new TypeError;return lt(Ut)||(Ut=ot(Ut)),Kt(jt,Ut)}M("getMetadataKeys",Q);function Y(jt,Ut){if(!bt(jt))throw new TypeError;return lt(Ut)||(Ut=ot(Ut)),Xt(jt,Ut)}M("getOwnMetadataKeys",Y);function K(jt,Ut,Jt){if(!bt(Ut))throw new TypeError;lt(Jt)||(Jt=ot(Jt));var se=dt(Ut,Jt,!1);if(lt(se)||!se.delete(jt))return!1;if(se.size>0)return!0;var me=N.get(Ut);return me.delete(Jt),me.size>0||N.delete(Ut),!0}M("deleteMetadata",K);function et(jt,Ut){for(var Jt=jt.length-1;Jt>=0;--Jt){var se=jt[Jt],me=se(Ut);if(!lt(me)&&!ft(me)){if(!Pt(me))throw new TypeError;Ut=me}}return Ut}function ut(jt,Ut,Jt,se){for(var me=jt.length-1;me>=0;--me){var Me=jt[me],Pe=Me(Ut,Jt,se);if(!lt(Pe)&&!ft(Pe)){if(!bt(Pe))throw new TypeError;se=Pe}}return se}function dt(jt,Ut,Jt){var se=N.get(jt);if(lt(se)){if(!Jt)return;se=new G,N.set(jt,se)}var me=se.get(Ut);if(lt(me)){if(!Jt)return;me=new G,se.set(Ut,me)}return me}function vt(jt,Ut,Jt){var se=at(jt,Ut,Jt);if(se)return!0;var me=It(Ut);return ft(me)?!1:vt(jt,me,Jt)}function at(jt,Ut,Jt){var se=dt(Ut,Jt,!1);return lt(se)?!1:q(se.has(jt))}function pt(jt,Ut,Jt){var se=at(jt,Ut,Jt);if(se)return Tt(jt,Ut,Jt);var me=It(Ut);if(!ft(me))return pt(jt,me,Jt)}function Tt(jt,Ut,Jt){var se=dt(Ut,Jt,!1);if(!lt(se))return se.get(jt)}function Gt(jt,Ut,Jt,se){var me=dt(Jt,se,!0);me.set(jt,Ut)}function Kt(jt,Ut){var Jt=Xt(jt,Ut),se=It(jt);if(se===null)return Jt;var me=Kt(se,Ut);if(me.length<=0)return Jt;if(Jt.length<=0)return me;for(var Me=new W,Pe=[],Ge=0,nr=Jt;Ge<nr.length;Ge++){var gr=nr[Ge],or=Me.has(gr);or||(Me.add(gr),Pe.push(gr))}for(var Ze=0,mr=me;Ze<mr.length;Ze++){var gr=mr[Ze],or=Me.has(gr);or||(Me.add(gr),Pe.push(gr))}return Pe}function Xt(jt,Ut){var Jt=[],se=dt(jt,Ut,!1);if(lt(se))return Jt;for(var me=se.keys(),Me=Vt(me),Pe=0;;){var Ge=Ct(Me);if(!Ge)return Jt.length=Pe,Jt;var nr=Lt(Ge);try{Jt[Pe]=nr}catch(gr){try{_(Me)}finally{throw gr}}Pe++}}function gt(jt){if(jt===null)return 1;switch(typeof jt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return jt===null?1:6;default:return 6}}function lt(jt){return jt===void 0}function ft(jt){return jt===null}function it(jt){return typeof jt=="symbol"}function bt(jt){return typeof jt=="object"?jt!==null:typeof jt=="function"}function Dt(jt,Ut){switch(gt(jt)){case 0:return jt;case 1:return jt;case 2:return jt;case 3:return jt;case 4:return jt;case 5:return jt}var Jt=Ut===3?"string":Ut===5?"number":"default",se=Wt(jt,S);if(se!==void 0){var me=se.call(jt,Jt);if(bt(me))throw new TypeError;return me}return Mt(jt,Jt==="default"?"number":Jt)}function Mt(jt,Ut){if(Ut==="string"){var Jt=jt.toString;if(yt(Jt)){var se=Jt.call(jt);if(!bt(se))return se}var me=jt.valueOf;if(yt(me)){var se=me.call(jt);if(!bt(se))return se}}else{var me=jt.valueOf;if(yt(me)){var se=me.call(jt);if(!bt(se))return se}var Me=jt.toString;if(yt(Me)){var se=Me.call(jt);if(!bt(se))return se}}throw new TypeError}function q(jt){return!!jt}function V(jt){return""+jt}function ot(jt){var Ut=Dt(jt,3);return it(Ut)?Ut:V(Ut)}function tt(jt){return Array.isArray?Array.isArray(jt):jt instanceof Object?jt instanceof Array:Object.prototype.toString.call(jt)==="[object Array]"}function yt(jt){return typeof jt=="function"}function Pt(jt){return typeof jt=="function"}function Ft(jt){switch(gt(jt)){case 3:return!0;case 4:return!0;default:return!1}}function Wt(jt,Ut){var Jt=jt[Ut];if(Jt!=null){if(!yt(Jt))throw new TypeError;return Jt}}function Vt(jt){var Ut=Wt(jt,O);if(!yt(Ut))throw new TypeError;var Jt=Ut.call(jt);if(!bt(Jt))throw new TypeError;return Jt}function Lt(jt){return jt.value}function Ct(jt){var Ut=jt.next();return Ut.done?!1:Ut}function _(jt){var Ut=jt.return;Ut&&Ut.call(jt)}function It(jt){var Ut=Object.getPrototypeOf(jt);if(typeof jt!="function"||jt===B||Ut!==B)return Ut;var Jt=jt.prototype,se=Jt&&Object.getPrototypeOf(Jt);if(se==null||se===Object.prototype)return Ut;var me=se.constructor;return typeof me!="function"||me===jt?Ut:me}function Rt(){var jt={},Ut=[],Jt=function(){function Pe(Ge,nr,gr){this._index=0,this._keys=Ge,this._values=nr,this._selector=gr}return Pe.prototype["@@iterator"]=function(){return this},Pe.prototype[O]=function(){return this},Pe.prototype.next=function(){var Ge=this._index;if(Ge>=0&&Ge<this._keys.length){var nr=this._selector(this._keys[Ge],this._values[Ge]);return Ge+1>=this._keys.length?(this._index=-1,this._keys=Ut,this._values=Ut):this._index++,{value:nr,done:!1}}return{value:void 0,done:!0}},Pe.prototype.throw=function(Ge){throw this._index>=0&&(this._index=-1,this._keys=Ut,this._values=Ut),Ge},Pe.prototype.return=function(Ge){return this._index>=0&&(this._index=-1,this._keys=Ut,this._values=Ut),{value:Ge,done:!0}},Pe}();return function(){function Pe(){this._keys=[],this._values=[],this._cacheKey=jt,this._cacheIndex=-2}return Object.defineProperty(Pe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Pe.prototype.has=function(Ge){return this._find(Ge,!1)>=0},Pe.prototype.get=function(Ge){var nr=this._find(Ge,!1);return nr>=0?this._values[nr]:void 0},Pe.prototype.set=function(Ge,nr){var gr=this._find(Ge,!0);return this._values[gr]=nr,this},Pe.prototype.delete=function(Ge){var nr=this._find(Ge,!1);if(nr>=0){for(var gr=this._keys.length,or=nr+1;or<gr;or++)this._keys[or-1]=this._keys[or],this._values[or-1]=this._values[or];return this._keys.length--,this._values.length--,Ge===this._cacheKey&&(this._cacheKey=jt,this._cacheIndex=-2),!0}return!1},Pe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=jt,this._cacheIndex=-2},Pe.prototype.keys=function(){return new Jt(this._keys,this._values,se)},Pe.prototype.values=function(){return new Jt(this._keys,this._values,me)},Pe.prototype.entries=function(){return new Jt(this._keys,this._values,Me)},Pe.prototype["@@iterator"]=function(){return this.entries()},Pe.prototype[O]=function(){return this.entries()},Pe.prototype._find=function(Ge,nr){return this._cacheKey!==Ge&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ge)),this._cacheIndex<0&&nr&&(this._cacheIndex=this._keys.length,this._keys.push(Ge),this._values.push(void 0)),this._cacheIndex},Pe}();function se(Pe,Ge){return Pe}function me(Pe,Ge){return Ge}function Me(Pe,Ge){return[Pe,Ge]}}function xt(){return function(){function jt(){this._map=new G}return Object.defineProperty(jt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),jt.prototype.has=function(Ut){return this._map.has(Ut)},jt.prototype.add=function(Ut){return this._map.set(Ut,Ut),this},jt.prototype.delete=function(Ut){return this._map.delete(Ut)},jt.prototype.clear=function(){this._map.clear()},jt.prototype.keys=function(){return this._map.keys()},jt.prototype.values=function(){return this._map.values()},jt.prototype.entries=function(){return this._map.entries()},jt.prototype["@@iterator"]=function(){return this.keys()},jt.prototype[O]=function(){return this.keys()},jt}()}function Nt(){var jt=16,Ut=R.create(),Jt=se();return function(){function nr(){this._key=se()}return nr.prototype.has=function(gr){var or=me(gr,!1);return or!==void 0?R.has(or,this._key):!1},nr.prototype.get=function(gr){var or=me(gr,!1);return or!==void 0?R.get(or,this._key):void 0},nr.prototype.set=function(gr,or){var Ze=me(gr,!0);return Ze[this._key]=or,this},nr.prototype.delete=function(gr){var or=me(gr,!1);return or!==void 0?delete or[this._key]:!1},nr.prototype.clear=function(){this._key=se()},nr}();function se(){var nr;do nr="@@WeakMap@@"+Ge();while(R.has(Ut,nr));return Ut[nr]=!0,nr}function me(nr,gr){if(!D.call(nr,Jt)){if(!gr)return;Object.defineProperty(nr,Jt,{value:R.create()})}return nr[Jt]}function Me(nr,gr){for(var or=0;or<gr;++or)nr[or]=Math.random()*255|0;return nr}function Pe(nr){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(nr)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(nr)):Me(new Uint8Array(nr),nr):Me(new Array(nr),nr)}function Ge(){var nr=Pe(jt);nr[6]=nr[6]&79|64,nr[8]=nr[8]&191|128;for(var gr="",or=0;or<jt;++or){var Ze=nr[or];(or===4||or===6||or===8)&&(gr+="-"),Ze<16&&(gr+="0"),gr+=Ze.toString(16).toLowerCase()}return gr}}function Ht(jt){return jt.__=void 0,delete jt.__,jt}})})(b||(b={}))}).call(this,i("7vYp"),i("V1hr"))},BSge:function(wt,P,i){"use strict";i.d(P,"a",function(){return b}),i.d(P,"b",function(){return x});var d=i("oFJY"),o=i("SCaY");function b(M,D){D.forEach(function(C){C.draw(M)})}function x(M,D){var C=M.get("canvas");if(C&&C.get("autoDraw")){var S=C.get("context"),O=M.getParent(),E=O?O.getChildren():[C],I=M.get("el");if(D==="remove"){var A=M.get("isClipShape");if(A){var R=I&&I.parentNode,B=R&&R.parentNode;R&&B&&B.removeChild(R)}else I&&I.parentNode&&I.parentNode.removeChild(I)}else if(D==="show")I.setAttribute("visibility","visible");else if(D==="hide")I.setAttribute("visibility","hidden");else if(D==="zIndex")Object(o.c)(I,E.indexOf(M));else if(D==="sort"){var p=M.get("children");p&&p.length&&Object(o.d)(M,function(G,W){return p.indexOf(G)-p.indexOf(W)?1:0})}else D==="clear"?I&&(I.innerHTML=""):D==="matrix"?Object(d.c)(M):D==="clip"?Object(d.a)(M,S):D==="attr"||D==="add"&&M.draw(S)}}},BTaQ:function(wt,P,i){wt.exports=i("rBQE")},BbNA:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var d=Symbol.for("INJECTION");function o(C,S,O,E){function I(){return E&&!Reflect.hasMetadata(d,this,S)&&Reflect.defineMetadata(d,O(),this,S),Reflect.hasMetadata(d,this,S)?Reflect.getMetadata(d,this,S):O()}function A(R){Reflect.defineMetadata(d,R,this,S)}Object.defineProperty(C,S,{configurable:!0,enumerable:!0,get:I,set:A})}function b(C,S){return function(O){return function(E,I){var A=function(){return C.get(O)};o(E,I,A,S)}}}P.makePropertyInjectDecorator=b;function x(C,S){return function(O,E){return function(I,A){var R=function(){return C.getNamed(O,E)};o(I,A,R,S)}}}P.makePropertyInjectNamedDecorator=x;function M(C,S){return function(O,E,I){return function(A,R){var B=function(){return C.getTagged(O,E,I)};o(A,R,B,S)}}}P.makePropertyInjectTaggedDecorator=M;function D(C,S){return function(O){return function(E,I){var A=function(){return C.getAll(O)};o(E,I,A,S)}}}P.makePropertyMultiInjectDecorator=D},BgQB:function(wt,P,i){"use strict";i.d(P,"a",function(){return lt});var d=i("FlNX"),o=i.n(d),b=i("4Wd/"),x=i.n(b),M=i("t7U3"),D=i.n(M),C=i("S5Um"),S=i.n(C),O=i("qJ52"),E=i.n(O),I=i("25gg"),A=i.n(I),R=i("VwUA"),B=i.n(R),p=i("0iMn"),G=i("YcyD"),W=i("XN3X"),z=function ft(){E()(this,ft),this.index=void 0},N=function ft(){E()(this,ft),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},j=function(){function ft(){E()(this,ft),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return A()(ft,[{key:"read",value:function(bt){return this.reads.find(function(Dt){return Dt.index===bt.index})||this.reads.push(bt),bt}},{key:"sample",value:function(bt){return this.read(bt),bt}},{key:"write",value:function(bt,Dt){var Mt=this.writes.find(function(tt){return tt.index===Dt.index});if(Mt)return Dt;var q=bt.getResourceNode(Dt);q.resource.version++,q.resource.imported&&(this.hasSideEffect=!0);var V=bt.createResourceNode(q.resource),ot=bt.getResourceNode(V);return ot.writer=this,this.writes.push(V),V}}]),ft}(),F=i("K4uR"),k=i.n(F),$=i("Un2Z"),nt=i.n($),st=i("OUrb"),rt=i.n(st),Q=function ft(){E()(this,ft),this.first=void 0,this.last=void 0};function Y(ft){var it=K();return function(){var Dt=rt()(ft),Mt;if(it){var q=rt()(this).constructor;Mt=Reflect.construct(Dt,arguments,q)}else Mt=Dt.apply(this,arguments);return nt()(this,Mt)}}function K(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ft){return!1}}var et=function(ft){k()(bt,ft);var it=Y(bt);function bt(){var Dt;E()(this,bt);for(var Mt=arguments.length,q=new Array(Mt),V=0;V<Mt;V++)q[V]=arguments[V];return Dt=it.call.apply(it,[this].concat(q)),Dt.version=0,Dt.refs=0,Dt.name=void 0,Dt.imported=void 0,Dt.priority=void 0,Dt.discardStart=!0,Dt.discardEnd=!1,Dt.descriptor=void 0,Dt.resource=void 0,Dt}return A()(bt,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){!this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){!this.imported}}]),bt}(Q),ut=function ft(){E()(this,ft),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},dt,vt,at,pt,Tt,Gt;function Kt(ft,it){var bt;if(typeof Symbol=="undefined"||ft[Symbol.iterator]==null){if(Array.isArray(ft)||(bt=Xt(ft))||it&&ft&&typeof ft.length=="number"){bt&&(ft=bt);var Dt=0,Mt=function(){};return{s:Mt,n:function(){return Dt>=ft.length?{done:!0}:{done:!1,value:ft[Dt++]}},e:function(yt){throw yt},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q=!0,V=!1,ot;return{s:function(){bt=ft[Symbol.iterator]()},n:function(){var yt=bt.next();return q=yt.done,yt},e:function(yt){V=!0,ot=yt},f:function(){try{!q&&bt.return!=null&&bt.return()}finally{if(V)throw ot}}}}function Xt(ft,it){if(!!ft){if(typeof ft=="string")return gt(ft,it);var bt=Object.prototype.toString.call(ft).slice(8,-1);if(bt==="Object"&&ft.constructor&&(bt=ft.constructor.name),bt==="Map"||bt==="Set")return Array.from(ft);if(bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt))return gt(ft,it)}}function gt(ft,it){(it==null||it>ft.length)&&(it=ft.length);for(var bt=0,Dt=new Array(it);bt<it;bt++)Dt[bt]=ft[bt];return Dt}var lt=(dt=Object(G.injectable)(),vt=Object(G.inject)(W.a.RenderEngine),dt(at=(pt=(Gt=function(){function ft(){E()(this,ft),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],S()(this,"engine",Tt,this)}return A()(ft,[{key:"execute",value:function(){var it=D()(x.a.mark(function Dt(Mt){return x.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return this.compile(),V.next=3,this.executePassNodes(Mt);case 3:case"end":return V.stop()}},Dt,this)}));function bt(Dt){return it.apply(this,arguments)}return bt}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(bt){bt.tearDown&&bt.tearDown()}),this.reset()}},{key:"addPass",value:function(bt,Dt,Mt,q){var V=new N;V.execute=Mt,q&&(V.tearDown=q),V.name=bt;var ot=new j;return ot.name=bt,this.passNodes.push(ot),this.frameGraphPasses.push(V),Dt(this,ot,V),V}},{key:"getPass",value:function(bt){return this.frameGraphPasses.find(function(Dt){return Dt.name===bt})}},{key:"compile",value:function(){var bt=this,Dt=Kt(this.passNodes),Mt;try{for(Dt.s();!(Mt=Dt.n()).done;){var q=Mt.value;q.refCount=q.writes.length+(q.hasSideEffect?1:0),q.reads.forEach(function(mr){bt.resourceNodes[mr.index].readerCount++})}}catch(mr){Dt.e(mr)}finally{Dt.f()}var V=[],ot=Kt(this.resourceNodes),tt;try{for(ot.s();!(tt=ot.n()).done;){var yt=tt.value;yt.readerCount===0&&V.push(yt)}}catch(mr){ot.e(mr)}finally{ot.f()}for(;V.length;){var Pt=V.pop(),Ft=Pt&&Pt.writer;if(Ft&&--Ft.refCount==0){var Wt=Kt(Ft.reads),Vt;try{for(Wt.s();!(Vt=Wt.n()).done;){var Lt=Vt.value,Ct=this.resourceNodes[Lt.index];--Ct.readerCount==0&&V.push(Ct)}}catch(mr){Wt.e(mr)}finally{Wt.f()}}}this.resourceNodes.forEach(function(mr){mr.resource.refs+=mr.readerCount});var _=Kt(this.passNodes),It;try{for(_.s();!(It=_.n()).done;){var Rt=It.value;if(!!Rt.refCount){var xt=Kt(Rt.reads),Nt;try{for(xt.s();!(Nt=xt.n()).done;){var Ht=Nt.value,jt=this.resourceNodes[Ht.index].resource;jt.first=jt.first?jt.first:Rt,jt.last=Rt}}catch(mr){xt.e(mr)}finally{xt.f()}var Ut=Kt(Rt.writes),Jt;try{for(Ut.s();!(Jt=Ut.n()).done;){var se=Jt.value,me=this.resourceNodes[se.index].resource;me.first=me.first?me.first:Rt,me.last=Rt}}catch(mr){Ut.e(mr)}finally{Ut.f()}}}}catch(mr){_.e(mr)}finally{_.f()}for(var Me=0;Me<2;Me++){var Pe=Kt(this.resourceNodes),Ge;try{for(Pe.s();!(Ge=Pe.n()).done;){var nr=Ge.value,gr=nr.resource;if(gr.priority===Me&&gr.refs){var or=gr.first,Ze=gr.last;or&&Ze&&(or.devirtualize.push(gr),Ze.destroy.push(gr))}}}catch(mr){Pe.e(mr)}finally{Pe.f()}}}},{key:"executePassNodes",value:function(){var it=D()(x.a.mark(function Dt(Mt){var q,V,ot,tt,yt,Pt,Ft,Wt,Vt,Lt,Ct,_,It,Rt,xt,Nt,Ht;return x.a.wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:q=Kt(this.passNodes.entries()),Ut.prev=1,q.s();case 3:if((V=q.n()).done){Ut.next=18;break}if(ot=o()(V.value,2),tt=ot[0],yt=ot[1],!yt.refCount){Ut.next=16;break}Pt=Kt(yt.devirtualize);try{for(Pt.s();!(Ft=Pt.n()).done;)Wt=Ft.value,Wt.preExecuteDevirtualize(this.engine)}catch(Jt){Pt.e(Jt)}finally{Pt.f()}Vt=Kt(yt.destroy);try{for(Vt.s();!(Lt=Vt.n()).done;)Ct=Lt.value,Ct.preExecuteDestroy(this.engine)}catch(Jt){Vt.e(Jt)}finally{Vt.f()}return Ut.next=12,this.frameGraphPasses[tt].execute(this,this.frameGraphPasses[tt],Mt);case 12:_=Kt(yt.devirtualize);try{for(_.s();!(It=_.n()).done;)Rt=It.value,Rt.postExecuteDevirtualize(this.engine)}catch(Jt){_.e(Jt)}finally{_.f()}xt=Kt(yt.destroy);try{for(xt.s();!(Nt=xt.n()).done;)Ht=Nt.value,Ht.postExecuteDestroy(this.engine)}catch(Jt){xt.e(Jt)}finally{xt.f()}case 16:Ut.next=3;break;case 18:Ut.next=23;break;case 20:Ut.prev=20,Ut.t0=Ut.catch(1),q.e(Ut.t0);case 23:return Ut.prev=23,q.f(),Ut.finish(23);case 26:this.reset();case 27:case"end":return Ut.stop()}},Dt,this,[[1,20,23,26]])}));function bt(Dt){return it.apply(this,arguments)}return bt}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(bt){return this.resourceNodes[bt.index]}},{key:"createResourceNode",value:function(bt){var Dt=new ut;Dt.resource=bt,Dt.version=bt.version,this.resourceNodes.push(Dt);var Mt=new z;return Mt.index=this.resourceNodes.length-1,Mt}},{key:"createTexture",value:function(bt,Dt,Mt){var q=new et;return q.name=Dt,q.descriptor=Mt,this.createResourceNode(q)}},{key:"createRenderTarget",value:function(bt,Dt,Mt){var q=new et;return q.name=Dt,q.descriptor=Mt,this.createResourceNode(q)}},{key:"present",value:function(bt){this.addPass("Present",function(Dt,Mt){Mt.read(bt),Mt.hasSideEffect=!0},D()(x.a.mark(function Dt(){return x.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:case"end":return q.stop()}},Dt)})))}}]),ft}(),Gt),Tt=B()(pt.prototype,"engine",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt))||at)},CG4S:function(wt,P){var i="\\ud800-\\udfff",d="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",x=d+o+b,M="\\ufe0e\\ufe0f",D="["+i+"]",C="["+x+"]",S="\\ud83c[\\udffb-\\udfff]",O="(?:"+C+"|"+S+")",E="[^"+i+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",R="\\u200d",B=O+"?",p="["+M+"]?",G="(?:"+R+"(?:"+[E,I,A].join("|")+")"+p+B+")*",W=p+B+G,z="(?:"+[E+C+"?",C,I,A,D].join("|")+")",N=RegExp(S+"(?="+S+")|"+z+W,"g");function j(F){for(var k=N.lastIndex=0;N.test(F);)++k;return k}wt.exports=j},CMcZ:function(wt,P,i){"use strict";i.d(P,"b",function(){return p}),i.d(P,"a",function(){return z});var d=i("J+IK"),o=i("jg4I"),b=i("piQC"),x=i("wnXL"),M=i("AOO/"),D=i("Cw9K"),C=i("4SeD"),S=i("XIMx"),O=i("eG+y");function E(N){var j=N.chart,F=N.options,k=F.data,$=F.angleField,nt=F.colorField,st=F.color,rt=F.pieStyle,Q=Object(D.r)(k,$);if(Object(S.c)(Q,$)){var Y="$$percentage$$";Q=Q.map(function(et){var ut;return Object(d.a)(Object(d.a)({},et),(ut={},ut[Y]=1/Q.length,ut))}),j.data(Q);var K=Object(D.b)({},N,{options:{xField:"1",yField:Y,seriesField:nt,isStack:!0,interval:{color:st,style:rt},args:{zIndexReversed:!0}}});Object(M.c)(K)}else{j.data(Q);var K=Object(D.b)({},N,{options:{xField:"1",yField:$,seriesField:nt,isStack:!0,interval:{color:st,style:rt},args:{zIndexReversed:!0}}});Object(M.c)(K)}return N}function I(N){var j,F=N.chart,k=N.options,$=k.meta,nt=k.colorField,st=Object(D.b)({},$);return F.scale(st,(j={},j[nt]={type:"cat"},j)),N}function A(N){var j=N.chart,F=N.options,k=F.radius,$=F.innerRadius,nt=F.startAngle,st=F.endAngle;return j.coordinate({type:"theta",cfg:{radius:k,innerRadius:$,startAngle:nt,endAngle:st}}),N}function R(N){var j=N.chart,F=N.options,k=F.label,$=F.colorField,nt=F.angleField,st=j.geometries[0];if(!k)st.label(!1);else{var rt=k.callback,Q=Object(d.e)(k,["callback"]),Y=Object(D.v)(Q);if(Y.content){var K=Y.content;Y.content=function(vt,at,pt){var Tt=vt[$],Gt=vt[nt],Kt=j.getScaleByField(nt),Xt=Kt==null?void 0:Kt.scale(Gt);return Object(o.H)(K)?K(Object(d.a)(Object(d.a)({},vt),{percent:Xt}),at,pt):Object(o.O)(K)?Object(D.u)(K,{value:Gt,name:Tt,percentage:Object(o.K)(Xt)&&!Object(o.I)(Gt)?(Xt*100).toFixed(2)+"%":null}):K}}var et={inner:"",outer:"pie-outer",spider:"pie-spider"},ut=Y.type?et[Y.type]:"pie-outer",dt=Y.layout?Object(o.B)(Y.layout)?Y.layout:[Y.layout]:[];Y.layout=(ut?[{type:ut}]:[]).concat(dt),st.label({fields:$?[nt,$]:[nt],callback:rt,cfg:Object(d.a)(Object(d.a)({},Y),{offset:Object(S.a)(Y.type,Y.offset),type:"pie"})})}return N}function B(N){var j=N.innerRadius,F=N.statistic,k=N.angleField,$=N.colorField,nt=N.meta;if(j&&F){var st=Object(D.b)({},C.a.statistic,F),rt=st.title,Q=st.content;return rt!==!1&&(rt=Object(D.b)({},{formatter:function(K){return K?K[$]:"\u603B\u8BA1"}},rt)),Q!==!1&&(Q=Object(D.b)({},{formatter:function(K,et){var ut=Object(o.s)(nt,[k,"formatter"]),dt=K?K[k]:Object(S.b)(et,k);return ut?ut(dt):dt}},Q)),Object(D.b)({},{statistic:{title:rt,content:Q}},N)}return N}function p(N){var j=N.chart,F=N.options,k=B(F),$=k.innerRadius,nt=k.statistic;return j.getController("annotation").clear(!0),Object(D.e)(Object(b.b)())(N),$&&nt&&Object(D.t)(j,{statistic:nt,plotType:"pie"}),N}function G(N){var j=N.chart,F=N.options,k=F.tooltip,$=F.colorField,nt=F.angleField,st=F.data;if(k===!1)j.tooltip(k);else if(j.tooltip(Object(D.b)({},k,{shared:!1})),Object(S.c)(st,nt)){var rt=Object(o.s)(k,"fields"),Q=Object(o.s)(k,"formatter");Object(o.F)(Object(o.s)(k,"fields"))&&(rt=[$,nt],Q=Q||function(Y){return{name:Y[$],value:Object(o.qb)(Y[nt])}}),j.geometries[0].tooltip(rt.join("*"),Object(x.b)(rt,Q))}return N}function W(N){var j=N.chart,F=N.options,k=B(F),$=k.interactions,nt=k.statistic,st=k.annotations;return Object(o.j)($,function(rt){var Q,Y;if(rt.enable===!1)j.removeInteraction(rt.type);else if(rt.type==="pie-statistic-active"){var K=[];((Q=rt.cfg)===null||Q===void 0?void 0:Q.start)||(K=[{trigger:"element:mouseenter",action:O.a+":change",arg:{statistic:nt,annotations:st}}]),Object(o.j)((Y=rt.cfg)===null||Y===void 0?void 0:Y.start,function(et){K.push(Object(d.a)(Object(d.a)({},et),{arg:{statistic:nt,annotations:st}}))}),j.interaction(rt.type,Object(D.b)({},rt.cfg,{start:K}))}else j.interaction(rt.type,rt.cfg||{})}),N}function z(N){return Object(D.e)(E,I,b.j,A,b.d,G,R,b.i,p,W,b.a)(N)}},COEK:function(wt,P){wt.exports=i;function i(d,o,b,x){var M=o[0],D=o[1];return d[0]=M+x*(b[0]-M),d[1]=D+x*(b[1]-D),d}},CURf:function(wt,P,i){"use strict";i.d(P,"a",function(){return B});var d=i("qJ52"),o=i.n(d),b=i("DLmx"),x=i.n(b),M=i("K4uR"),D=i.n(M),C=i("Un2Z"),S=i.n(C),O=i("OUrb"),E=i.n(O),I=i("Hg9g");function A(p){var G=R();return function(){var z=E()(p),N;if(G){var j=E()(this).constructor;N=Reflect.construct(z,arguments,j)}else N=z.apply(this,arguments);return S()(this,N)}}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(p){return!1}}var B=function(p){D()(W,p);var G=A(W);function W(z){var N;return o()(this,W),N=G.call(this,z),N.parentID=void 0,Object.assign(x()(N),z),N}return W}(I.a)},Ca6f:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.targetName=void 0;var d=i("9L8m"),o=i("rMkn"),b=i("ZLnY");function x(M){return function(D,C,S){var O=new o.Metadata(d.NAME_TAG,M);b.tagParameter(D,C,S,O)}}P.targetName=x},CdXo:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.postConstruct=void 0;var d=i("196R"),o=i("9L8m"),b=i("rMkn");function x(){return function(M,D,C){var S=new b.Metadata(o.POST_CONSTRUCT,D);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,M.constructor))throw new Error(d.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,S,M.constructor)}}P.postConstruct=x},Cw9K:function(wt,P,i){"use strict";i.d(P,"e",function(){return d}),i.d(P,"q",function(){return o.a}),i.d(P,"u",function(){return x}),i.d(P,"o",function(){return M.b}),i.d(P,"a",function(){return M.a}),i.d(P,"h",function(){return D}),i.d(P,"c",function(){return C}),i.d(P,"f",function(){return S}),i.d(P,"g",function(){return O}),i.d(P,"d",function(){return E.a}),i.d(P,"k",function(){return E.c}),i.d(P,"i",function(){return E.b}),i.d(P,"v",function(){return A}),i.d(P,"j",function(){return W}),i.d(P,"b",function(){return z.a}),i.d(P,"n",function(){return N}),i.d(P,"t",function(){return j.b}),i.d(P,"s",function(){return j.a}),i.d(P,"p",function(){return $}),i.d(P,"l",function(){return nt.a}),i.d(P,"m",function(){return nt.b}),i.d(P,"r",function(){return st.b});function d(){for(var rt=[],Q=0;Q<arguments.length;Q++)rt[Q]=arguments[Q];return function(Y){return rt.reduce(function(K,et){return et(K)},Y)}}var o=i("pDxI"),b=i("jg4I");function x(rt,Q){return Object(b.fb)(Q,function(Y,K,et){return Y.replace(new RegExp("{\\s*"+et+"\\s*}","g"),K)},rt)}var M=i("I6A6");function D(rt){if(!rt)return{width:0,height:0};var Q=getComputedStyle(rt);return{width:(rt.clientWidth||parseInt(Q.width,10))-parseInt(Q.paddingLeft,10)-parseInt(Q.paddingRight,10),height:(rt.clientHeight||parseInt(Q.height,10))-parseInt(Q.paddingTop,10)-parseInt(Q.paddingBottom,10)}}function C(rt,Q){return rt.geometries.find(function(Y){return Y.type===Q})}function S(rt){return Object(b.fb)(rt.geometries,function(Q,Y){return Q.concat(Y.elements)},[])}function O(rt){return Object(b.s)(rt,["views","length"],0)<=0?S(rt):Object(b.fb)(rt.views,function(Q,Y){return Q.concat(O(Y))},S(rt))}var E=i("7k+G"),I=i("J+IK");function A(rt){if(!Object(b.P)(rt,"Object"))return rt;var Q=Object(I.a)({},rt);return Q.formatter&&!Q.content&&(Q.content=Q.formatter),Q}var R=i("sxZn");function B(rt,Q){var Y=[];if(rt.length){Y.push(["M",rt[0].x,rt[0].y]);for(var K=1,et=rt.length;K<et;K+=1){var ut=rt[K];Y.push(["L",ut.x,ut.y])}Q&&Y.push(["Z"])}return Y}var p=function(Q,Y,K,et){var ut=[],dt,vt,at=!!et,pt,Tt;if(at){pt=[Infinity,Infinity],Tt=[-Infinity,-Infinity];for(var Gt=0,Kt=Q.length;Gt<Kt;Gt++){var Xt=Q[Gt];pt=R.c.min([0,0],pt,Xt),Tt=R.c.max([0,0],Tt,Xt)}pt=R.c.min([0,0],pt,et[0]),Tt=R.c.max([0,0],Tt,et[1])}for(var Gt=0,gt=Q.length;Gt<gt;Gt++){var Xt=Q[Gt];if(K)dt=Q[Gt?Gt-1:gt-1],vt=Q[(Gt+1)%gt];else if(Gt===0||Gt===gt-1){ut.push(Xt);continue}else dt=Q[Gt-1],vt=Q[Gt+1];var lt=[0,0];lt=R.c.sub(lt,vt,dt),lt=R.c.scale(lt,lt,Y);var ft=R.c.distance(Xt,dt),it=R.c.distance(Xt,vt),bt=ft+it;bt!==0&&(ft/=bt,it/=bt);var Dt=R.c.scale([0,0],lt,-ft),Mt=R.c.scale([0,0],lt,it),q=R.c.add([0,0],Xt,Dt),V=R.c.add([0,0],Xt,Mt);at&&(q=R.c.max([0,0],q,pt),q=R.c.min([0,0],q,Tt),V=R.c.max([0,0],V,pt),V=R.c.min([0,0],V,Tt)),ut.push(q),ut.push(V)}return K&&ut.push(ut.shift()),ut};function G(rt,Q,Y){for(var K=!!Q,et=[],ut=0,dt=rt.length;ut<dt;ut+=2)et.push([rt[ut],rt[ut+1]]);for(var vt=p(et,.4,K,Y),at=et.length,pt=[],Tt,Gt,Kt,ut=0;ut<at-1;ut++)Tt=vt[ut*2],Gt=vt[ut*2+1],Kt=et[ut+1],pt.push(["C",Tt[0],Tt[1],Gt[0],Gt[1],Kt[0],Kt[1]]);return K&&(Tt=vt[at],Gt=vt[at+1],Kt=et[0],pt.push(["C",Tt[0],Tt[1],Gt[0],Gt[1],Kt[0],Kt[1]])),pt}function W(rt,Q,Y){var K=[],et=rt[0],ut=null;if(rt.length<=2)return B(rt,Q);for(var dt=0,vt=rt.length;dt<vt;dt++){var at=rt[dt];(!ut||!(ut.x===at.x&&ut.y===at.y))&&(K.push(at.x),K.push(at.y),ut=at)}var pt=Y||[[0,0],[1,1]],Tt=G(K,Q,pt);return Tt.unshift(["M",et.x,et.y]),Tt}var z=i("8Raj");function N(rt){if(!rt)return rt;var Q=rt.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return Q.map(function(Y){return Y.toLowerCase()}).join("-")}var j=i("t9lO"),F;function k(){return F||(F=document.createElement("canvas").getContext("2d")),F}var $=Object(b.Y)(function(rt,Q){Q===void 0&&(Q={});var Y=Q.fontSize,K=Q.fontFamily,et=K===void 0?"sans-serif":K,ut=Q.fontWeight,dt=Q.fontStyle,vt=Q.fontVariant,at=k();at.font=[dt,ut,vt,Y+"px",et].join(" ");var pt=at.measureText(Object(b.O)(rt)?rt:"");return pt.width},function(rt,Q){return Q===void 0&&(Q={}),Object(I.g)([rt],Object(b.ub)(Q)).join("")}),nt=i("6AqY"),st=i("ZXD1")},CyRS:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("U8wd"),b=i("jg4I"),x=i("ozhX"),M=i("BSge"),D=i("oFJY"),C=i("0xlF"),S=i("SCaY"),O=function(E){Object(d.c)(I,E);function I(){return E!==null&&E.apply(this,arguments)||this}return I.prototype.isEntityGroup=function(){return!0},I.prototype.createDom=function(){var A=Object(S.b)("g");this.set("el",A);var R=this.getParent();if(R){var B=R.get("el");B||(B=R.createDom(),R.set("el",B)),B.appendChild(A)}return A},I.prototype.afterAttrsChange=function(A){E.prototype.afterAttrsChange.call(this,A);var R=this.get("canvas");if(R&&R.get("autoDraw")){var B=R.get("context");this.createPath(B,A)}},I.prototype.onCanvasChange=function(A){Object(M.b)(this,A)},I.prototype.getShapeBase=function(){return x},I.prototype.getGroupBase=function(){return I},I.prototype.draw=function(A){var R=this.getChildren(),B=this.get("el");this.get("destroyed")?B&&B.parentNode.removeChild(B):(B||this.createDom(),Object(D.a)(this,A),this.createPath(A),R.length&&Object(M.a)(A,R))},I.prototype.createPath=function(A,R){var B=this.attr(),p=this.get("el");Object(b.j)(R||B,function(G,W){C.b[W]&&p.setAttribute(C.b[W],G)}),Object(D.c)(this)},I}(o.AbstractGroup);P.a=O},DBqA:function(wt,P,i){"use strict";i.d(P,"b",function(){return b}),i.d(P,"c",function(){return M}),i.d(P,"a",function(){return D});var d=i("tSnd"),o=i("r93A");function b(C,S,O){var E=1;if(Object(d.h)(C)&&(E=C.split(`
`).length),E>1){var I=x(S,O);return S*E+I*(E-1)}return S}function x(C,S){return S?S-C:C*.14}function M(C,S){var O=Object(o.a)(),E=0;if(Object(d.e)(C)||C==="")return E;if(O.save(),O.font=S,Object(d.h)(C)&&C.includes(`
`)){var I=C.split(`
`);Object(d.a)(I,function(A){var R=O.measureText(A).width;E<R&&(E=R)})}else E=O.measureText(C).width;return O.restore(),E}function D(C){var S=C.fontSize,O=C.fontFamily,E=C.fontWeight,I=C.fontStyle,A=C.fontVariant;return[I,A,E,S+"px",O].join(" ").trim()}},DC1X:function(wt,P,i){var d=i("E9DR");wt.exports=o;function o(b,x){return d(b,x,"pre")}},DLmx:function(wt,P){function i(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}wt.exports=i,wt.exports.default=wt.exports,wt.exports.__esModule=!0},DTnF:function(wt,P,i){"use strict";i.d(P,"b",function(){return A}),i.d(P,"a",function(){return B});var d=i("J+IK"),o=i("jg4I"),b=i("piQC"),x=i("AOO/"),M=i("lWkY"),D=i("Cw9K"),C=i("0n2G"),S=i("5mgD");function O(p){var G=p.chart,W=p.options,z=W.percent,N=W.range,j=W.radius,F=W.innerRadius,k=W.startAngle,$=W.endAngle,nt=W.axis,st=W.indicator,rt=W.gaugeStyle,Q=N.color,Y=N.width;if(st){var K=Object(S.a)(z),et=G.createView({id:C.c});et.data(K),et.point().position(C.e+"*1").shape("gauge-indicator").customInfo({defaultColor:G.getTheme().defaultColor,indicator:st}),et.coordinate("polar",{startAngle:k,endAngle:$,radius:F*j}),et.axis(C.e,nt),et.scale(C.e,Object(D.q)(nt,M.a))}var ut=Object(S.b)(z,W.range),dt=G.createView({id:C.h});dt.data(ut);var vt=Object(o.O)(Q)?[Q,C.a]:Q;return Object(x.c)({chart:dt,options:{xField:"1",yField:C.g,seriesField:C.f,rawFields:[C.e],isStack:!0,interval:{color:vt,style:rt},args:{zIndexReversed:!0},minColumnWidth:Y,maxColumnWidth:Y}}),dt.coordinate("polar",{innerRadius:F,radius:j,startAngle:k,endAngle:$}).transpose(),p}function E(p){var G,W=p.chart,z=p.options,N=z.type,j=z.meter;if(N==="meter"){var F=z.innerRadius,k=z.radius,$=z.startAngle,nt=z.endAngle,st=z.range,rt=st==null?void 0:st.width,Q=st==null?void 0:st.width,Y=W.getTheme().background,K=Y;(!K||K==="transparent")&&(K="#fff");var et=W.createView({id:C.d});et.data([(G={},G[C.f]="1",G[C.g]=1,G)]);var ut={meter:j};et.interval({minColumnWidth:rt,maxColumnWidth:Q}).position("1*"+C.g).color(K).adjust("stack").shape("meter-gauge").customInfo(ut),et.coordinate("polar",{innerRadius:F,radius:k,startAngle:$,endAngle:nt}).transpose()}return p}function I(p){var G;return Object(D.e)(Object(b.f)((G={range:{min:0,max:1,maxLimit:1,minLimit:0}},G[C.e]={},G)))(p)}function A(p,G){var W=p.chart,z=p.options,N=z.statistic,j=z.percent;if(W.getController("annotation").clear(!0),N){var F=N.content,k=void 0;F&&(k=Object(D.b)({},{formatter:function(nt){var st=nt.percent;return(st*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},F)),Object(D.s)(W,{statistic:Object(d.a)(Object(d.a)({},N),{content:k})},{percent:j})}return G&&W.render(!0),p}function R(p){var G=p.chart;return G.legend(!1),G.tooltip(!1),p}function B(p){return Object(D.e)(b.j,b.a,O,I,A,b.c,E,Object(b.b)(),R)(p)}},DhYH:function(wt,P,i){var d=i("ql+n"),o=i("mbOf");wt.exports=x;var b=d.constant(1);function x(D,C,S,O){return M(D,String(C),S||b,O||function(E){return D.outEdges(E)})}function M(D,C,S,O){var E={},I=new o,A,R,B=function(G){var W=G.v!==A?G.v:G.w,z=E[W],N=S(G),j=R.distance+N;if(N<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+G+" Weight: "+N);j<z.distance&&(z.distance=j,z.predecessor=A,I.decrease(W,j))};for(D.nodes().forEach(function(p){var G=p===C?0:Number.POSITIVE_INFINITY;E[p]={distance:G},I.add(p,G)});I.size()>0&&(A=I.removeMin(),R=E[A],R.distance!==Number.POSITIVE_INFINITY);)O(A).forEach(B);return E}},DpFF:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Binding=void 0;var d=i("2+60"),o=i("qSJf"),b=function(){function x(M,D){this.id=o.id(),this.activated=!1,this.serviceIdentifier=M,this.scope=D,this.type=d.BindingTypeEnum.Invalid,this.constraint=function(C){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return x.prototype.clone=function(){var M=new x(this.serviceIdentifier,this.scope);return M.activated=M.scope===d.BindingScopeEnum.Singleton?this.activated:!1,M.implementationType=this.implementationType,M.dynamicValue=this.dynamicValue,M.scope=this.scope,M.type=this.type,M.factory=this.factory,M.provider=this.provider,M.constraint=this.constraint,M.onActivation=this.onActivation,M.cache=this.cache,M},x}();P.Binding=b},DpQZ:function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"b",function(){return o});var d=["#FAAD14","#E8EDF3"],o={percent:.2,color:d,animation:{}}},E9DR:function(wt,P,i){var d=i("ql+n");wt.exports=o;function o(x,M,D){d.isArray(M)||(M=[M]);var C=(x.isDirected()?x.successors:x.neighbors).bind(x),S=[],O={};return d.each(M,function(E){if(!x.hasNode(E))throw new Error("Graph does not have node: "+E);b(x,E,D==="post",O,C,S)}),S}function b(x,M,D,C,S,O){d.has(C,M)||(C[M]=!0,D||O.push(M),d.each(S(M),function(E){b(x,E,D,C,S,O)}),D&&O.push(M))}},EEYS:function(wt,P,i){var d=i("ql+n");wt.exports=o;function o(b){var x=0,M=[],D={},C=[];function S(O){var E=D[O]={onStack:!0,lowlink:x,index:x++};if(M.push(O),b.successors(O).forEach(function(R){d.has(D,R)?D[R].onStack&&(E.lowlink=Math.min(E.lowlink,D[R].index)):(S(R),E.lowlink=Math.min(E.lowlink,D[R].lowlink))}),E.lowlink===E.index){var I=[],A;do A=M.pop(),D[A].onStack=!1,I.push(A);while(O!==A);C.push(I)}}return b.nodes().forEach(function(O){d.has(D,O)||S(O)}),C}},EKEq:function(wt,P,i){"use strict";i.d(P,"a",function(){return gt});var d=i("J+IK"),o=i("Gc/9"),b=i("piQC"),x=i("Cw9K"),M=i("LtIM"),D=i("jg4I"),C=i("NmxA"),S=i("wnXL"),O="$$percentage$$",E="$$mappingValue$$",I="$$conversion$$",A="$$totalPercentage$$",R="$$x$$",B="$$y$$";function p(lt,ft,it){var bt=[],Dt=it.yField,Mt=it.maxSize,q=it.minSize,V=Object(D.X)(ft,Dt)[Dt],ot=Object(D.K)(Mt)?Mt:1,tt=Object(D.K)(q)?q:0;return bt=Object(D.U)(lt,function(yt,Pt){var Ft=(yt[Dt]||0)/V;return yt[O]=Ft,yt[E]=(ot-tt)*Ft+tt,yt[I]=[Object(D.s)(lt,[Pt-1,Dt]),yt[Dt]],yt}),bt}function G(lt){return function(ft){var it=ft.chart,bt=ft.options,Dt=bt.conversionTag,Mt=it.getOptions().data;if(Dt){var q=Dt.formatter;Mt.forEach(function(V,ot){if(!(ot<=0)){var tt=lt(V,ot,Mt,{top:!0,text:{content:Object(D.H)(q)?q(V,Mt):q,offsetX:Dt.offsetX,offsetY:Dt.offsetY,position:"end",autoRotate:!1,style:Object(d.a)({textAlign:"start",textBaseline:"middle"},Dt.style)}});it.annotation().line(tt)}})}return ft}}function W(lt){var ft=lt.chart,it=lt.options,bt=it.data,Dt=bt===void 0?[]:bt,Mt=it.yField,q=it.maxSize,V=it.minSize,ot=p(Dt,Dt,{yField:Mt,maxSize:q,minSize:V});return ft.data(ot),lt}function z(lt){var ft=lt.chart,it=lt.options,bt=it.xField,Dt=it.yField,Mt=it.color,q=it.tooltip,V=it.label,ot=Object(C.a)(q,[bt,Dt]),tt=ot.fields,yt=ot.formatter;Object(S.a)({chart:ft,options:{type:"interval",xField:bt,yField:E,colorField:bt,tooltipFields:Object(D.B)(tt)&&tt.concat([O,I]),mapping:{shape:"funnel",tooltip:yt,color:Mt},label:V}});var Pt=Object(x.c)(lt.chart,"interval");return Pt.adjust("symmetric"),lt}function N(lt){var ft=lt.chart,it=lt.options,bt=it.isTransposed;return ft.coordinate({type:"rect",actions:bt?[]:[["transpose"],["scale",1,-1]]}),lt}function j(lt){var ft=lt.options,it=ft.maxSize,bt=function(Mt,q,V,ot){var tt=it-(it-Mt[E])/2;return Object(d.a)(Object(d.a)({},ot),{start:[q-.5,tt],end:[q-.5,tt+.05]})};return G(bt)(lt),lt}function F(lt){return Object(x.e)(W,z,N,j)(lt)}function k(lt){var ft,it=lt.chart,bt=lt.options,Dt=bt.data,Mt=Dt===void 0?[]:Dt,q=bt.yField;return it.data(Mt),it.scale((ft={},ft[q]={sync:!0},ft)),lt}function $(lt){var ft=lt.chart,it=lt.options,bt=it.data,Dt=it.xField,Mt=it.yField,q=it.color,V=it.compareField,ot=it.isTransposed,tt=it.tooltip,yt=it.maxSize,Pt=it.minSize,Ft=it.label;return ft.facet("mirror",{fields:[V],transpose:!ot,padding:ot?0:[32,0,0,0],eachView:function(Vt,Lt){var Ct=ot?Lt.rowIndex:Lt.columnIndex;ot||Vt.coordinate({type:"rect",actions:[["transpose"],["scale",Ct===0?-1:1,-1]]});var _=p(Lt.data,bt,{yField:Mt,maxSize:yt,minSize:Pt});Vt.data(_);var It=Object(C.a)(tt,[Dt,Mt,V]),Rt=It.fields,xt=It.formatter,Nt=ot?{offset:Ct===0?10:-23,position:Ct===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:Ct===0?"end":"start"}};Object(S.a)({chart:Vt,options:{type:"interval",xField:Dt,yField:E,colorField:Dt,tooltipFields:Object(D.B)(Rt)&&Rt.concat([O,I]),mapping:{shape:"funnel",tooltip:xt,color:q,style:{lineWidth:1,stroke:"#fff"}},label:Ft===!1?!1:Object(x.b)({},Nt,Ft)}})}}),lt}function nt(lt){var ft=lt.chart,it=lt.options,bt=it.conversionTag,Dt=it.isTransposed;return ft.once("beforepaint",function(){ft.views.forEach(function(Mt,q){var V=function(tt,yt,Pt,Ft){var Wt=q===0?-1:1;return Object(x.b)({},Ft,{start:[yt-.5,tt[E]],end:[yt-.5,tt[E]+.05],text:Dt?{style:{textAlign:"start"}}:{offsetX:bt!==!1?Wt*bt.offsetX:0,style:{textAlign:q===0?"end":"start"}}})};G(V)(Object(x.b)({},{chart:Mt,options:it}))})}),lt}function st(lt){return Object(x.e)(k,$,nt)(lt)}function rt(lt){var ft,it=lt.chart,bt=lt.options,Dt=bt.data,Mt=Dt===void 0?[]:Dt,q=bt.yField;return it.data(Mt),it.scale((ft={},ft[q]={sync:!0},ft)),lt}function Q(lt){var ft=lt.chart,it=lt.options,bt=it.seriesField,Dt=it.isTransposed;return ft.facet("rect",{fields:[bt],padding:[Dt?0:32,10,0,10],eachView:function(q,V){F(Object(x.b)({},lt,{chart:q,options:{data:V.data}}))}}),lt}function Y(lt){return Object(x.e)(rt,Q)(lt)}function K(lt){var ft=lt.chart,it=lt.options,bt=it.data,Dt=bt===void 0?[]:bt,Mt=it.yField,q=Object(D.fb)(Dt,function(tt,yt){return tt+(yt[Mt]||0)},0),V=Object(D.X)(Dt,Mt)[Mt],ot=Object(D.U)(Dt,function(tt,yt){var Pt=[],Ft=[];if(tt[A]=(tt[Mt]||0)/q,yt){var Wt=Dt[yt-1][R],Vt=Dt[yt-1][B];Pt[0]=Wt[3],Ft[0]=Vt[3],Pt[1]=Wt[2],Ft[1]=Vt[2]}else Pt[0]=-.5,Ft[0]=1,Pt[1]=.5,Ft[1]=1;return Ft[2]=Ft[1]-tt[A],Pt[2]=(Ft[2]+1)/4,Ft[3]=Ft[2],Pt[3]=-Pt[2],tt[R]=Pt,tt[B]=Ft,tt[O]=(tt[Mt]||0)/V,tt[I]=[Object(D.s)(Dt,[yt-1,Mt]),tt[Mt]],tt});return ft.data(ot),lt}function et(lt){var ft=lt.chart,it=lt.options,bt=it.xField,Dt=it.yField,Mt=it.color,q=it.tooltip,V=it.label,ot=Object(C.a)(q,[bt,Dt]),tt=ot.fields,yt=ot.formatter;return Object(S.a)({chart:ft,options:{type:"polygon",xField:R,yField:B,colorField:bt,tooltipFields:Object(D.B)(tt)&&tt.concat([O,I]),label:V,mapping:{tooltip:yt,color:Mt}}}),lt}function ut(lt){var ft=lt.chart,it=lt.options,bt=it.isTransposed;return ft.coordinate({type:"rect",actions:bt?[["transpose"],["reflect","x"]]:[]}),lt}function dt(lt){var ft=function(bt,Dt,Mt,q){return Object(d.a)(Object(d.a)({},q),{start:[bt[R][1],bt[B][1]],end:[bt[R][1]+.05,bt[B][1]]})};return G(ft)(lt),lt}function vt(lt){return Object(x.e)(K,et,ut,dt)(lt)}function at(lt){var ft,it=lt.options,bt=it.compareField,Dt=it.xField,Mt=it.yField,q={minSize:0,maxSize:1,meta:(ft={},ft[E]={min:0,max:1,nice:!1},ft),label:bt?{fields:[Dt,Mt,bt,O,I],style:{fill:"#fff",fontSize:12},formatter:function(ot){return""+ot[Mt]}}:{fields:[Dt,Mt,O,I],offset:0,position:"middle",style:{fill:"#fff",fontSize:12},formatter:function(ot){return ot[Dt]+" "+ot[Mt]}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,title:Dt,formatter:function(ot){return{name:ot[Dt],value:ot[Mt]}}},conversionTag:{offsetX:10,offsetY:0,style:{},formatter:function(ot){return"\u8F6C\u5316\u7387: "+M.a.apply(void 0,ot[I])}}};return Object(x.b)({options:q},lt)}function pt(lt){var ft=lt.options,it=ft.compareField,bt=ft.dynamicHeight,Dt=ft.seriesField;return Dt?Y(lt):it?st(lt):bt?vt(lt):F(lt)}function Tt(lt){var ft,it=lt.options,bt=it.xAxis,Dt=it.yAxis,Mt=it.xField,q=it.yField;return Object(x.e)(Object(b.f)((ft={},ft[Mt]=bt,ft[q]=Dt,ft)))(lt)}function Gt(lt){var ft=lt.chart;return ft.axis(!1),lt}function Kt(lt){var ft=lt.chart,it=lt.options,bt=it.legend;return bt===!1?ft.legend(!1):ft.legend(bt),lt}function Xt(lt){return Object(x.e)(at,pt,Tt,Gt,b.k,b.c,Kt,b.a,b.j,Object(b.b)())(lt)}var gt=function(lt){Object(d.c)(ft,lt);function ft(){var it=lt!==null&&lt.apply(this,arguments)||this;return it.type="funnel",it}return ft.getDefaultOptions=function(){return{appendPadding:[0,80]}},ft.prototype.getDefaultOptions=function(){return ft.getDefaultOptions()},ft.prototype.getSchemaAdaptor=function(){return Xt},ft}(o.b)},EZfi:function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=Math.max(o[0],b[0]),d[1]=Math.max(o[1],b[1]),d}},EbMC:function(wt,P,i){"use strict";P.a=function(d,o,b,x,M){for(var D=d.children,C,S=-1,O=D.length,E=d.value&&(x-o)/d.value;++S<O;)C=D[S],C.y0=b,C.y1=M,C.x0=o,C.x1=o+=C.value*E}},EpgB:function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=o[0]-b[0],d[1]=o[1]-b[1],d}},FaIz:function(wt,P,i){"use strict";i.d(P,"a",function(){return k});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I"),x=i("piQC"),M=i("Cw9K"),D=i("lWkY"),C,S="$$range$$",O="low-q1-median-q3-high",E="$$y_outliers$$",I="outliers_view",A=Object(M.b)({},o.b.getDefaultOptions(),{meta:(C={},C[S]={min:0,alias:O},C),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0}}),R=function(nt,st){var rt=nt;if(Array.isArray(st)){var Q=st[0],Y=st[1],K=st[2],et=st[3],ut=st[4];rt=Object(b.U)(nt,function(dt){return dt[S]=[dt[Q],dt[Y],dt[K],dt[et],dt[ut]],dt})}return rt};function B($){var nt=$.chart,st=$.options,rt=st.xField,Q=st.yField,Y=st.groupField,K=st.color,et=Array.isArray(Q)?S:Q,ut=nt.schema().position(rt+"*"+et).shape("box");return Y&&ut.color(Y,K).adjust("dodge"),nt.data(R(st.data,Q)),$}function p($){var nt=$.chart,st=$.options,rt=st.xField,Q=st.data,Y=st.outliersField,K=st.outliersStyle,et=st.padding;if(!Y)return $;var ut=nt.createView({padding:et,id:I});ut.data(Q),ut.axis(!1);var dt=ut.point().position(rt+"*"+Y).shape("circle");return Object(b.H)(K)?dt.style(rt+"*"+Y,function(vt,at){var pt;return K((pt={},pt[rt]=vt,pt[Y]=at,pt))}):Object(b.M)(K)&&dt.style(K),$}function G($){var nt,st,rt=$.chart,Q=$.options,Y=Q.meta,K=Q.xAxis,et=Q.yAxis,ut=Q.xField,dt=Q.yField,vt=Q.outliersField,at=Array.isArray(dt)?S:dt,pt={};if(vt){var Tt=E;pt=(nt={},nt[vt]={sync:Tt,nice:!0},nt[at]={sync:Tt,nice:!0},nt)}var Gt=Object(M.b)(pt,Y,(st={},st[ut]=Object(M.q)(K,D.a),st[at]=Object(M.q)(et,D.a),st));return rt.scale(Gt),$}function W($){var nt=$.chart,st=$.options,rt=st.xAxis,Q=st.yAxis,Y=st.xField,K=st.yField,et=Array.isArray(K)?S:K;return rt===!1?nt.axis(Y,!1):nt.axis(Y,rt),Q===!1?nt.axis(S,!1):nt.axis(et,Q),$}function z($){var nt=$.chart,st=$.options,rt=st.legend,Q=st.groupField;return Q?rt?nt.legend(Q,rt):nt.legend(Q,{position:"bottom"}):nt.legend(!1),$}function N($){var nt=$.chart,st=$.options,rt=st.xField,Q=st.yField,Y=st.boxStyle,K=Object(M.c)(nt,"schema"),et=Array.isArray(Q)?S:Q;return Object(b.H)(Y)?K.style(rt+"*"+et,function(ut,dt){var vt;return Y((vt={},vt[rt]=ut,vt[et]=dt,vt))}):Object(b.M)(Y)&&K.style(Y),$}function j($){var nt=$.chart,st=$.options,rt=st.tooltip;return rt!==void 0&&nt.tooltip(rt),$}function F($){return Object(M.e)(B,p,G,W,N,z,j,x.c,x.a,x.j)($)}var k=function($){Object(d.c)(nt,$);function nt(){var st=$!==null&&$.apply(this,arguments)||this;return st.type="box",st}return nt.getDefaultOptions=function(){return A},nt.prototype.changeData=function(st){this.updateOption({data:st});var rt=this.options.yField,Q=this.chart.views.find(function(Y){return Y.id===I});Q&&Q.data(st),this.chart.changeData(R(st,rt))},nt.prototype.getDefaultOptions=function(){return nt.getDefaultOptions()},nt.prototype.getSchemaAdaptor=function(){return F},nt}(o.b)},FeKW:function(wt,P,i){"use strict";var d=i("XSdR"),o=i("43gi").Graph,b=i("hppO");wt.exports={positionX:p,findType1Conflicts:x,findType2Conflicts:M,addConflict:C,hasConflict:S,verticalAlignment:O,horizontalCompaction:E,alignCoordinates:R,findSmallestWidthAlignment:A,balance:B};function x(z,N){var j={};function F(k,$){var nt=0,st=0,rt=k.length,Q=d.last($);return d.forEach($,function(Y,K){var et=D(z,Y),ut=et?z.node(et).order:rt;(et||Y===Q)&&(d.forEach($.slice(st,K+1),function(dt){d.forEach(z.predecessors(dt),function(vt){var at=z.node(vt),pt=at.order;(pt<nt||ut<pt)&&!(at.dummy&&z.node(dt).dummy)&&C(j,vt,dt)})}),st=K+1,nt=ut)}),$}return d.reduce(N,F),j}function M(z,N){var j={};function F($,nt,st,rt,Q){var Y;d.forEach(d.range(nt,st),function(K){Y=$[K],z.node(Y).dummy&&d.forEach(z.predecessors(Y),function(et){var ut=z.node(et);ut.dummy&&(ut.order<rt||ut.order>Q)&&C(j,et,Y)})})}function k($,nt){var st=-1,rt,Q=0;return d.forEach(nt,function(Y,K){if(z.node(Y).dummy==="border"){var et=z.predecessors(Y);et.length&&(rt=z.node(et[0]).order,F(nt,Q,K,st,rt),Q=K,st=rt)}F(nt,Q,nt.length,rt,$.length)}),nt}return d.reduce(N,k),j}function D(z,N){if(z.node(N).dummy)return d.find(z.predecessors(N),function(j){return z.node(j).dummy})}function C(z,N,j){if(N>j){var F=N;N=j,j=F}var k=z[N];k||(z[N]=k={}),k[j]=!0}function S(z,N,j){if(N>j){var F=N;N=j,j=F}return d.has(z[N],j)}function O(z,N,j,F){var k={},$={},nt={};return d.forEach(N,function(st){d.forEach(st,function(rt,Q){k[rt]=rt,$[rt]=rt,nt[rt]=Q})}),d.forEach(N,function(st){var rt=-1;d.forEach(st,function(Q){var Y=F(Q);if(Y.length){Y=d.sortBy(Y,function(vt){return nt[vt]});for(var K=(Y.length-1)/2,et=Math.floor(K),ut=Math.ceil(K);et<=ut;++et){var dt=Y[et];$[Q]===Q&&rt<nt[dt]&&!S(j,Q,dt)&&($[dt]=Q,$[Q]=k[Q]=k[dt],rt=nt[dt])}}})}),{root:k,align:$}}function E(z,N,j,F,k){var $={},nt=I(z,N,j,k),st=k?"borderLeft":"borderRight";function rt(K,et){for(var ut=nt.nodes(),dt=ut.pop(),vt={};dt;)vt[dt]?K(dt):(vt[dt]=!0,ut.push(dt),ut=ut.concat(et(dt))),dt=ut.pop()}function Q(K){$[K]=nt.inEdges(K).reduce(function(et,ut){return Math.max(et,$[ut.v]+nt.edge(ut))},0)}function Y(K){var et=nt.outEdges(K).reduce(function(dt,vt){return Math.min(dt,$[vt.w]-nt.edge(vt))},Number.POSITIVE_INFINITY),ut=z.node(K);et!==Number.POSITIVE_INFINITY&&ut.borderType!==st&&($[K]=Math.max($[K],et))}return rt(Q,nt.predecessors.bind(nt)),rt(Y,nt.successors.bind(nt)),d.forEach(F,function(K){$[K]=$[j[K]]}),$}function I(z,N,j,F){var k=new o,$=z.graph(),nt=G($.nodesep,$.edgesep,F);return d.forEach(N,function(st){var rt;d.forEach(st,function(Q){var Y=j[Q];if(k.setNode(Y),rt){var K=j[rt],et=k.edge(K,Y);k.setEdge(K,Y,Math.max(nt(z,Q,rt),et||0))}rt=Q})}),k}function A(z,N){return d.minBy(d.values(N),function(j){var F=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;return d.forIn(j,function($,nt){var st=W(z,nt)/2;F=Math.max($+st,F),k=Math.min($-st,k)}),F-k})}function R(z,N){var j=d.values(N),F=d.min(j),k=d.max(j);d.forEach(["u","d"],function($){d.forEach(["l","r"],function(nt){var st=$+nt,rt=z[st],Q;if(rt!==N){var Y=d.values(rt);Q=nt==="l"?F-d.min(Y):k-d.max(Y),Q&&(z[st]=d.mapValues(rt,function(K){return K+Q}))}})})}function B(z,N){return d.mapValues(z.ul,function(j,F){if(N)return z[N.toLowerCase()][F];var k=d.sortBy(d.map(z,F));return(k[1]+k[2])/2})}function p(z){var N=b.buildLayerMatrix(z),j=d.merge(x(z,N),M(z,N)),F={},k;d.forEach(["u","d"],function(nt){k=nt==="u"?N:d.values(N).reverse(),d.forEach(["l","r"],function(st){st==="r"&&(k=d.map(k,function(K){return d.values(K).reverse()}));var rt=(nt==="u"?z.predecessors:z.successors).bind(z),Q=O(z,k,j,rt),Y=E(z,k,Q.root,Q.align,st==="r");st==="r"&&(Y=d.mapValues(Y,function(K){return-K})),F[nt+st]=Y})});var $=A(z,F);return R(F,$),B(F,z.graph().align)}function G(z,N,j){return function(F,k,$){var nt=F.node(k),st=F.node($),rt=0,Q;if(rt+=nt.width/2,d.has(nt,"labelpos"))switch(nt.labelpos.toLowerCase()){case"l":Q=-nt.width/2;break;case"r":Q=nt.width/2;break}if(Q&&(rt+=j?Q:-Q),Q=0,rt+=(nt.dummy?N:z)/2,rt+=(st.dummy?N:z)/2,rt+=st.width/2,d.has(st,"labelpos"))switch(st.labelpos.toLowerCase()){case"l":Q=st.width/2;break;case"r":Q=-st.width/2;break}return Q&&(rt+=j?Q:-Q),Q=0,rt}}function W(z,N){return z.node(N).width}},FolP:function(wt,P){wt.exports=i;function i(d,o){return d[0]*o[0]+d[1]*o[1]}},GCuf:function(wt,P,i){var d=i("TJOf"),o=i("R3oX"),b=i("hQ5t");function x(M,D){var C={};return D=b(D,3),o(M,function(S,O,E){d(C,O,D(S,O,E))}),C}wt.exports=x},GLju:function(wt,P,i){"use strict";i.d(P,"a",function(){return K});var d=i("J+IK"),o=i("Gc/9"),b=i("piQC"),x=i("Cw9K"),M=i("AOO/"),D=i("jg4I"),C={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(ut){return ut.id},source:function(ut){return ut.source},target:function(ut){return ut.target},sourceWeight:function(ut){return ut.value||1},targetWeight:function(ut){return ut.value||1},sortBy:null};function S(et,ut,dt){Object(D.r)(et,function(vt,at){vt.inEdges=ut.filter(function(pt){return""+dt.target(pt)==""+at}),vt.outEdges=ut.filter(function(pt){return""+dt.source(pt)==""+at}),vt.edges=vt.outEdges.concat(vt.inEdges),vt.frequency=vt.edges.length,vt.value=0,vt.inEdges.forEach(function(pt){vt.value+=dt.targetWeight(pt)}),vt.outEdges.forEach(function(pt){vt.value+=dt.sourceWeight(pt)})})}function O(et,ut){var dt={weight:function(pt,Tt){return Tt.value-pt.value},frequency:function(pt,Tt){return Tt.frequency-pt.frequency},id:function(pt,Tt){return(""+ut.id(pt)).localeCompare(""+ut.id(Tt))}},vt=dt[ut.sortBy];!vt&&Object(D.H)(ut.sortBy)&&(vt=ut.sortBy),vt&&et.sort(vt)}function E(et,ut){var dt=et.length;if(!dt)throw new TypeError("Invalid nodes: it's empty!");if(ut.weight){var vt=ut.nodePaddingRatio;if(vt<0||vt>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var at=vt/(2*dt),pt=ut.nodeWidthRatio;if(pt<=0||pt>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var Tt=0;et.forEach(function(Kt){Tt+=Kt.value}),et.forEach(function(Kt){Kt.weight=Kt.value/Tt,Kt.width=Kt.weight*(1-vt),Kt.height=pt}),et.forEach(function(Kt,Xt){for(var gt=0,lt=Xt-1;lt>=0;lt--)gt+=et[lt].width+2*at;var ft=Kt.minX=at+gt,it=Kt.maxX=Kt.minX+Kt.width,bt=Kt.minY=ut.y-pt/2,Dt=Kt.maxY=bt+pt;Kt.x=[ft,it,it,ft],Kt.y=[bt,bt,Dt,Dt]})}else{var Gt=1/dt;et.forEach(function(Kt,Xt){Kt.x=(Xt+.5)*Gt,Kt.y=ut.y})}return et}function I(et,ut,dt){if(dt.weight){var vt={};Object(D.r)(et,function(at,pt){vt[pt]=at.value}),ut.forEach(function(at){var pt=dt.source(at),Tt=dt.target(at),Gt=et[pt],Kt=et[Tt];if(Gt&&Kt){var Xt=vt[pt],gt=dt.sourceWeight(at),lt=Gt.minX+(Gt.value-Xt)/Gt.value*Gt.width,ft=lt+gt/Gt.value*Gt.width;vt[pt]-=gt;var it=vt[Tt],bt=dt.targetWeight(at),Dt=Kt.minX+(Kt.value-it)/Kt.value*Kt.width,Mt=Dt+bt/Kt.value*Kt.width;vt[Tt]-=bt;var q=dt.y;at.x=[lt,ft,Dt,Mt],at.y=[q,q,q,q],at.source=Gt,at.target=Kt}})}else ut.forEach(function(at){var pt=et[dt.source(at)],Tt=et[dt.target(at)];pt&&Tt&&(at.x=[pt.x,Tt.x],at.y=[pt.y,Tt.y],at.source=pt,at.target=Tt)});return ut}function A(et){return Object(D.b)({},C,et)}function R(et,ut){var dt=A(et),vt={},at=ut.nodes,pt=ut.links;at.forEach(function(Kt){var Xt=dt.id(Kt);vt[Xt]=Kt}),S(vt,pt,dt),O(at,dt);var Tt=E(at,dt),Gt=I(vt,pt,dt);return{nodes:Tt,links:Gt}}var B=i("ZXD1"),p="x",G="y",W="name",z="source",N={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(ut,dt){var vt=(ut[0]+ut[1])/2,at=vt>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:at,content:dt}}},tooltip:{fields:["source","target","value"],formatter:function(ut){var dt=ut.source,vt=ut.target,at=ut.value;return{name:dt+" -> "+vt,value:at}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function j(et){var ut=et.options,dt=ut.data,vt=ut.sourceField,at=ut.targetField,pt=ut.weightField,Tt=ut.nodePaddingRatio,Gt=ut.nodeWidthRatio,Kt=Object(B.c)(dt,vt,at,pt),Xt=R({weight:!0,nodePaddingRatio:Tt,nodeWidthRatio:Gt},Kt),gt=Xt.nodes,lt=Xt.links,ft=gt.map(function(bt){return{id:bt.id,x:bt.x,y:bt.y,name:bt.name}}),it=lt.map(function(bt){return{source:bt.source.name,target:bt.target.name,x:bt.x,y:bt.y,value:bt.value}});return Object(d.a)(Object(d.a)({},et),{ext:Object(d.a)(Object(d.a)({},et.ext),{chordData:{nodesData:ft,edgesData:it}})})}function F(et){var ut,dt=et.chart;return dt.scale((ut={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},ut[W]={sync:"color"},ut[z]={sync:"color"},ut)),et}function k(et){var ut=et.chart;return ut.axis(!1),et}function $(et){var ut=et.chart;return ut.legend(!1),et}function nt(et){var ut=et.chart;return ut.tooltip({showTitle:!1,showMarkers:!1}),et}function st(et){var ut=et.chart;return ut.coordinate("polar").reflect("y"),et}function rt(et){var ut=et.chart,dt=et.options,vt=et.ext.chordData.nodesData,at=dt.nodeStyle,pt=dt.label,Tt=ut.createView();return Tt.data(vt),Object(M.f)({chart:Tt,options:{xField:p,yField:G,seriesField:W,polygon:{style:at},label:pt,tooltip:!1}}),et}function Q(et){var ut=et.chart,dt=et.options,vt=et.ext.chordData.edgesData,at=dt.edgeStyle,pt=dt.tooltip,Tt=ut.createView();Tt.data(vt);var Gt={xField:p,yField:G,seriesField:z,edge:{style:at,shape:"arc"},tooltip:pt};return Object(M.b)({chart:Tt,options:Gt}),et}function Y(et){return Object(x.e)(b.j,j,st,F,k,$,nt,Q,rt,b.c,b.i,b.a)(et)}var K=function(et){Object(d.c)(ut,et);function ut(){var dt=et!==null&&et.apply(this,arguments)||this;return dt.type="chord",dt}return ut.getDefaultOptions=function(){return N},ut.prototype.getDefaultOptions=function(){return ut.getDefaultOptions()},ut.prototype.getSchemaAdaptor=function(){return Y},ut}(o.b)},GbYH:function(wt,P,i){"use strict";var d=i("XSdR"),o=i("ajvA"),b=i("5oMf"),x=i("OO/B"),M=i("hppO").normalizeRanks,D=i("Oye7"),C=i("hppO").removeEmptyRanks,S=i("v5ut"),O=i("dzzI"),E=i("AM3p"),I=i("Uhlt"),A=i("p/Nb"),R=i("hppO"),B=i("43gi").Graph;wt.exports=p;function p(lt,ft){var it=ft&&ft.debugTiming?R.time:R.notime;it("layout",function(){var bt=it("  buildLayoutGraph",function(){return rt(lt)});it("  runLayout",function(){G(bt,it)}),it("  updateInputGraph",function(){W(lt,bt)})})}function G(lt,ft){ft("    makeSpaceForEdgeLabels",function(){Q(lt)}),ft("    removeSelfEdges",function(){Tt(lt)}),ft("    acyclic",function(){o.run(lt)}),ft("    nestingGraph.run",function(){S.run(lt)}),ft("    rank",function(){x(R.asNonCompoundGraph(lt))}),ft("    injectEdgeLabelProxies",function(){Y(lt)}),ft("    removeEmptyRanks",function(){C(lt)}),ft("    nestingGraph.cleanup",function(){S.cleanup(lt)}),ft("    normalizeRanks",function(){M(lt)}),ft("    assignRankMinMax",function(){K(lt)}),ft("    removeEdgeLabelProxies",function(){et(lt)}),ft("    normalize.run",function(){b.run(lt)}),ft("    parentDummyChains",function(){D(lt)}),ft("    addBorderSegments",function(){O(lt)}),ft("    order",function(){I(lt)}),ft("    insertSelfEdges",function(){Gt(lt)}),ft("    adjustCoordinateSystem",function(){E.adjust(lt)}),ft("    position",function(){A(lt)}),ft("    positionSelfEdges",function(){Kt(lt)}),ft("    removeBorderNodes",function(){pt(lt)}),ft("    normalize.undo",function(){b.undo(lt)}),ft("    fixupEdgeLabelCoords",function(){vt(lt)}),ft("    undoCoordinateSystem",function(){E.undo(lt)}),ft("    translateGraph",function(){ut(lt)}),ft("    assignNodeIntersects",function(){dt(lt)}),ft("    reversePoints",function(){at(lt)}),ft("    acyclic.undo",function(){o.undo(lt)})}function W(lt,ft){d.forEach(lt.nodes(),function(it){var bt=lt.node(it),Dt=ft.node(it);bt&&(bt.x=Dt.x,bt.y=Dt.y,ft.children(it).length&&(bt.width=Dt.width,bt.height=Dt.height))}),d.forEach(lt.edges(),function(it){var bt=lt.edge(it),Dt=ft.edge(it);bt.points=Dt.points,d.has(Dt,"x")&&(bt.x=Dt.x,bt.y=Dt.y)}),lt.graph().width=ft.graph().width,lt.graph().height=ft.graph().height}var z=["nodesep","edgesep","ranksep","marginx","marginy"],N={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},j=["acyclicer","ranker","rankdir","align"],F=["width","height"],k={width:0,height:0},$=["minlen","weight","width","height","labeloffset"],nt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},st=["labelpos"];function rt(lt){var ft=new B({multigraph:!0,compound:!0}),it=gt(lt.graph());return ft.setGraph(d.merge({},N,Xt(it,z),d.pick(it,j))),d.forEach(lt.nodes(),function(bt){var Dt=gt(lt.node(bt));ft.setNode(bt,d.defaults(Xt(Dt,F),k)),ft.setParent(bt,lt.parent(bt))}),d.forEach(lt.edges(),function(bt){var Dt=gt(lt.edge(bt));ft.setEdge(bt,d.merge({},nt,Xt(Dt,$),d.pick(Dt,st)))}),ft}function Q(lt){var ft=lt.graph();ft.ranksep/=2,d.forEach(lt.edges(),function(it){var bt=lt.edge(it);bt.minlen*=2,bt.labelpos.toLowerCase()!=="c"&&(ft.rankdir==="TB"||ft.rankdir==="BT"?bt.width+=bt.labeloffset:bt.height+=bt.labeloffset)})}function Y(lt){d.forEach(lt.edges(),function(ft){var it=lt.edge(ft);if(it.width&&it.height){var bt=lt.node(ft.v),Dt=lt.node(ft.w),Mt={rank:(Dt.rank-bt.rank)/2+bt.rank,e:ft};R.addDummyNode(lt,"edge-proxy",Mt,"_ep")}})}function K(lt){var ft=0;d.forEach(lt.nodes(),function(it){var bt=lt.node(it);bt.borderTop&&(bt.minRank=lt.node(bt.borderTop).rank,bt.maxRank=lt.node(bt.borderBottom).rank,ft=d.max(ft,bt.maxRank))}),lt.graph().maxRank=ft}function et(lt){d.forEach(lt.nodes(),function(ft){var it=lt.node(ft);it.dummy==="edge-proxy"&&(lt.edge(it.e).labelRank=it.rank,lt.removeNode(ft))})}function ut(lt){var ft=Number.POSITIVE_INFINITY,it=0,bt=Number.POSITIVE_INFINITY,Dt=0,Mt=lt.graph(),q=Mt.marginx||0,V=Mt.marginy||0;function ot(tt){var yt=tt.x,Pt=tt.y,Ft=tt.width,Wt=tt.height;ft=Math.min(ft,yt-Ft/2),it=Math.max(it,yt+Ft/2),bt=Math.min(bt,Pt-Wt/2),Dt=Math.max(Dt,Pt+Wt/2)}d.forEach(lt.nodes(),function(tt){ot(lt.node(tt))}),d.forEach(lt.edges(),function(tt){var yt=lt.edge(tt);d.has(yt,"x")&&ot(yt)}),ft-=q,bt-=V,d.forEach(lt.nodes(),function(tt){var yt=lt.node(tt);yt.x-=ft,yt.y-=bt}),d.forEach(lt.edges(),function(tt){var yt=lt.edge(tt);d.forEach(yt.points,function(Pt){Pt.x-=ft,Pt.y-=bt}),d.has(yt,"x")&&(yt.x-=ft),d.has(yt,"y")&&(yt.y-=bt)}),Mt.width=it-ft+q,Mt.height=Dt-bt+V}function dt(lt){d.forEach(lt.edges(),function(ft){var it=lt.edge(ft),bt=lt.node(ft.v),Dt=lt.node(ft.w),Mt,q;it.points?(Mt=it.points[0],q=it.points[it.points.length-1]):(it.points=[],Mt=Dt,q=bt),it.points.unshift(R.intersectRect(bt,Mt)),it.points.push(R.intersectRect(Dt,q))})}function vt(lt){d.forEach(lt.edges(),function(ft){var it=lt.edge(ft);if(d.has(it,"x"))switch((it.labelpos==="l"||it.labelpos==="r")&&(it.width-=it.labeloffset),it.labelpos){case"l":it.x-=it.width/2+it.labeloffset;break;case"r":it.x+=it.width/2+it.labeloffset;break}})}function at(lt){d.forEach(lt.edges(),function(ft){var it=lt.edge(ft);it.reversed&&it.points.reverse()})}function pt(lt){d.forEach(lt.nodes(),function(ft){if(lt.children(ft).length){var it=lt.node(ft),bt=lt.node(it.borderTop),Dt=lt.node(it.borderBottom),Mt=lt.node(d.last(it.borderLeft)),q=lt.node(d.last(it.borderRight));it.width=Math.abs(q.x-Mt.x),it.height=Math.abs(Dt.y-bt.y),it.x=Mt.x+it.width/2,it.y=bt.y+it.height/2}}),d.forEach(lt.nodes(),function(ft){lt.node(ft).dummy==="border"&&lt.removeNode(ft)})}function Tt(lt){d.forEach(lt.edges(),function(ft){if(ft.v===ft.w){var it=lt.node(ft.v);it.selfEdges||(it.selfEdges=[]),it.selfEdges.push({e:ft,label:lt.edge(ft)}),lt.removeEdge(ft)}})}function Gt(lt){var ft=R.buildLayerMatrix(lt);d.forEach(ft,function(it){var bt=0;d.forEach(it,function(Dt,Mt){var q=lt.node(Dt);q.order=Mt+bt,d.forEach(q.selfEdges,function(V){R.addDummyNode(lt,"selfedge",{width:V.label.width,height:V.label.height,rank:q.rank,order:Mt+ ++bt,e:V.e,label:V.label},"_se")}),delete q.selfEdges})})}function Kt(lt){d.forEach(lt.nodes(),function(ft){var it=lt.node(ft);if(it.dummy==="selfedge"){var bt=lt.node(it.e.v),Dt=bt.x+bt.width/2,Mt=bt.y,q=it.x-Dt,V=bt.height/2;lt.setEdge(it.e,it.label),lt.removeNode(ft),it.label.points=[{x:Dt+2*q/3,y:Mt-V},{x:Dt+5*q/6,y:Mt-V},{x:Dt+q,y:Mt},{x:Dt+5*q/6,y:Mt+V},{x:Dt+2*q/3,y:Mt+V}],it.label.x=it.x,it.label.y=it.y}})}function Xt(lt,ft){return d.mapValues(d.pick(lt,ft),Number)}function gt(lt){var ft={};return d.forEach(lt,function(it,bt){ft[bt.toLowerCase()]=it}),ft}},"Gc/9":function(wt,P,i){"use strict";i.d(P,"a",function(){return O}),i.d(P,"b",function(){return E});var d=i("J+IK"),o=i("18og"),b=i("jg4I"),x=i("nZiY"),M=i("bCfE"),D=i.n(M),C=i("Cw9K"),S="data-chart-source-type",O=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],E=function(I){Object(d.c)(A,I);function A(R,B){var p=I.call(this)||this;return p.type="base",p.container=typeof R=="string"?document.getElementById(R):R,p.options=Object(C.b)({},p.getDefaultOptions(),B),p.createG2(),p.bindEvents(),p}return A.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},A.prototype.createG2=function(){var R=this.options,B=R.width,p=R.height;this.chart=new o.Chart(Object(d.a)(Object(d.a)(Object(d.a)({container:this.container,autoFit:!1},this.getChartSize(B,p)),{localRefresh:!1}),Object(C.q)(this.options,O))),this.container.setAttribute(S,"G2Plot")},A.prototype.getChartSize=function(R,B){var p=Object(C.h)(this.container);return{width:R||p.width||400,height:B||p.height||400}},A.prototype.bindEvents=function(){var R=this;this.chart&&this.chart.on("*",function(B){(B==null?void 0:B.type)&&R.emit(B.type,B)})},A.prototype.getDefaultOptions=function(){return A.getDefaultOptions()},A.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},A.prototype.update=function(R){this.updateOption(R),this.render()},A.prototype.updateOption=function(R){this.options=Object(C.b)({},this.options,R)},A.prototype.setState=function(R,B,p){p===void 0&&(p=!0);var G=Object(C.f)(this.chart);Object(b.j)(G,function(W){B(W.getData())&&W.setState(R,p)})},A.prototype.getStates=function(){var R=Object(C.f)(this.chart),B=[];return Object(b.j)(R,function(p){var G=p.getData(),W=p.getStates();Object(b.j)(W,function(z){B.push({data:G,state:z,geometry:p.geometry,element:p})})}),B},A.prototype.changeData=function(R){this.update({data:R})},A.prototype.changeSize=function(R,B){this.chart.changeSize(R,B)},A.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(S)},A.prototype.execAdaptor=function(){var R=this.getSchemaAdaptor(),B=this.options,p=B.padding,G=B.appendPadding;this.chart.padding=p,this.chart.appendPadding=G,R({chart:this.chart,options:this.options})},A.prototype.triggerResize=function(){this.chart.forceFit()},A.prototype.bindSizeSensor=function(){var R=this;if(!this.unbind){var B=this.options.autoFit,p=B===void 0?!0:B;p&&(this.unbind=Object(M.bind)(this.container,function(){var G=Object(C.h)(R.container),W=G.width,z=G.height;(W!==R.chart.width||z!==R.chart.height)&&R.triggerResize()}))}},A.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},A}(x.a)},GkDR:function(wt,P){},"H+Qf":function(wt,P,i){var d=i("JWH+"),o=i("2GXS"),b=o(function(x,M){return x==null?{}:d(x,M)});wt.exports=b},H4CB:function(wt,P,i){"use strict";i.d(P,"a",function(){return $});var d=i("J+IK"),o=i("18og"),b=i("Gc/9"),x=i("Cw9K"),M=i("jg4I"),D=i("piQC"),C=i("AOO/"),S="first-axes-view",O="second-axes-view",E="series-field-key";function I(nt,st,rt,Q,Y){var K=[];st.forEach(function(pt){Q.forEach(function(Tt){var Gt,Kt=(Gt={},Gt[nt]=Tt[nt],Gt[rt]=pt,Gt[pt]=Tt[pt],Gt);K.push(Kt)})});var et=Object.values(Object(M.v)(K,rt)),ut=et[0],dt=ut===void 0?[]:ut,vt=et[1],at=vt===void 0?[]:vt;return Y?[dt.reverse(),at.reverse()]:[dt,at]}function A(nt){return nt!=="vertical"}function R(nt,st,rt){var Q=st[0],Y=st[1],K=Q.autoPadding,et=Y.autoPadding,ut=nt.__axisPosition,dt=ut.layout,vt=ut.position;if(A(dt)&&vt==="top"&&(Q.autoPadding=rt.instance(K.top,0,K.bottom,K.left),Y.autoPadding=rt.instance(et.top,K.left,et.bottom,0)),A(dt)&&vt==="bottom"&&(Q.autoPadding=rt.instance(K.top,K.right/2+5,K.bottom,K.left),Y.autoPadding=rt.instance(et.top,et.right,et.bottom,K.right/2+5)),!A(dt)&&vt==="bottom"){var at=K.left>=et.left?K.left:et.left;Q.autoPadding=rt.instance(K.top,K.right,K.bottom/2+5,at),Y.autoPadding=rt.instance(K.bottom/2+5,et.right,et.bottom,at)}if(!A(dt)&&vt==="top"){var at=K.left>=et.left?K.left:et.left;Q.autoPadding=rt.instance(K.top,K.right,0,at),Y.autoPadding=rt.instance(0,et.right,K.top,at)}}function B(nt){var st=nt.chart,rt=nt.options,Q=rt.data,Y=rt.xField,K=rt.yField,et=rt.color,ut=rt.barStyle,dt=rt.widthRatio,vt=rt.legend,at=rt.layout,pt=I(Y,K,E,Q,A(at));vt?st.legend(E,vt):vt===!1&&st.legend(!1);var Tt,Gt,Kt=pt[0],Xt=pt[1];A(at)?(Tt=st.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:S}),Tt.coordinate().transpose().reflect("x"),Gt=st.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:O}),Gt.coordinate().transpose(),Tt.data(Kt),Gt.data(Xt)):(Tt=st.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:S}),Gt=st.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:O}),Gt.coordinate().reflect("y").rotate(Math.PI*0),Tt.data(Kt),Gt.data(Xt));var gt=Object(x.b)({},nt,{chart:Tt,options:{widthRatio:dt,xField:Y,yField:K[0],seriesField:E,interval:{color:et,style:ut}}});Object(C.c)(gt);var lt=Object(x.b)({},nt,{chart:Gt,options:{xField:Y,yField:K[1],seriesField:E,widthRatio:dt,interval:{color:et,style:ut}}});return Object(C.c)(lt),nt}function p(nt){var st,rt,Q,Y=nt.options,K=nt.chart,et=Y.xAxis,ut=Y.yAxis,dt=Y.xField,vt=Y.yField,at=Object(x.d)(K,S),pt=Object(x.d)(K,O),Tt={};return Object(M.R)((Y==null?void 0:Y.meta)||{}).map(function(Gt){Object(M.s)(Y==null?void 0:Y.meta,[Gt,"alias"])&&(Tt[Gt]=Y.meta[Gt].alias)}),K.scale((st={},st[E]={sync:!0,formatter:function(Kt){return Object(M.s)(Tt,Kt,Kt)}},st)),Object(D.f)((rt={},rt[dt]=et,rt[vt[0]]=ut[vt[0]],rt))(Object(x.b)({},nt,{chart:at})),Object(D.f)((Q={},Q[dt]=et,Q[vt[1]]=ut[vt[1]],Q))(Object(x.b)({},nt,{chart:pt})),nt}function G(nt){var st=nt.chart,rt=nt.options,Q=rt.xAxis,Y=rt.yAxis,K=rt.xField,et=rt.yField,ut=rt.layout,dt=Object(x.d)(st,S),vt=Object(x.d)(st,O);return vt.axis(K,!1),Q===!1?dt.axis(K,!1):dt.axis(K,Object(d.a)({position:A(ut)?"top":"bottom"},Q)),Y===!1?(dt.axis(et[0],!1),vt.axis(et[1],!1)):(dt.axis(et[0],Y[et[0]]),vt.axis(et[1],Y[et[1]])),st.__axisPosition={position:dt.getOptions().axes[K].position,layout:ut},nt}function W(nt){var st=nt.chart;return Object(D.c)(Object(x.b)({},nt,{chart:Object(x.d)(st,S)})),Object(D.c)(Object(x.b)({},nt,{chart:Object(x.d)(st,O)})),nt}function z(nt){var st=nt.chart,rt=nt.options,Q=rt.yField,Y=rt.yAxis;return Object(D.e)(Object(x.b)({},nt,{chart:Object(x.d)(st,S),options:{yAxis:Y[Q[0]]}})),Object(D.e)(Object(x.b)({},nt,{chart:Object(x.d)(st,O),options:{yAxis:Y[Q[1]]}})),nt}function N(nt){var st=nt.chart;return Object(D.j)(Object(x.b)({},nt,{chart:Object(x.d)(st,S)})),Object(D.j)(Object(x.b)({},nt,{chart:Object(x.d)(st,O)})),nt}function j(nt){var st=nt.chart;return Object(D.a)(Object(x.b)({},nt,{chart:Object(x.d)(st,S)})),Object(D.a)(Object(x.b)({},nt,{chart:Object(x.d)(st,O)})),nt}function F(nt){var st=nt.chart,rt=nt.options,Q=rt.label,Y=rt.yField,K=Object(x.d)(st,S),et=Object(x.d)(st,O),ut=Object(x.c)(K,"interval"),dt=Object(x.c)(et,"interval");if(!Q)ut.label(!1),dt.label(!1);else{var vt=Q.callback,at=Object(d.e)(Q,["callback"]);ut.label({fields:[Y[0]],callback:vt,cfg:Object(x.v)(at)}),dt.label({fields:[Y[1]],callback:vt,cfg:Object(x.v)(at)})}return nt}function k(nt){return Object(x.e)(B,p,G,z,N,F,D.k,W,j)(nt)}var $=function(nt){Object(d.c)(st,nt);function st(){var rt=nt!==null&&nt.apply(this,arguments)||this;return rt.type="bidirectional-bar",rt}return st.getDefaultOptions=function(){return Object(x.b)({},nt.getDefaultOptions.call(this),{syncViewPadding:R})},st.prototype.changeData=function(rt){rt===void 0&&(rt=[]),this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({data:rt});var Q=this.options,Y=Q.xField,K=Q.yField,et=Q.layout,ut=I(Y,K,E,rt,A(et)),dt=ut[0],vt=ut[1],at=Object(x.d)(this.chart,S),pt=Object(x.d)(this.chart,O);at.data(dt),pt.data(vt),this.chart.render(!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},st.prototype.getDefaultOptions=function(){return st.getDefaultOptions()},st.prototype.getSchemaAdaptor=function(){return k},st}(b.b)},H6vk:function(wt,P,i){"use strict";i.d(P,"b",function(){return d}),P.a=function(o,b){b||(b=[]);var x=o?Math.min(b.length,o.length):0,M=b.slice(),D;return function(C){for(D=0;D<x;++D)M[D]=o[D]*(1-C)+b[D]*C;return M}};function d(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}},HAYd:function(wt,P,i){wt.exports=o;var d=i("pHwo");function o(b,x){var M=b[0],D=b[1],C=x[0],S=x[1];return Math.abs(M-C)<=d*Math.max(1,Math.abs(M),Math.abs(C))&&Math.abs(D-S)<=d*Math.max(1,Math.abs(D),Math.abs(S))}},HMFt:function(wt,P,i){var d=i("7LJS"),o=i("hQ5t"),b=i("NA5Q");function x(M,D){return M&&M.length?d(M,o(D,2),b):void 0}wt.exports=x},HR5z:function(wt,P,i){var d=i("BXhE"),o=i("5Nvg"),b=i("br1w"),x=1/0,M=d&&1/b(new d([,-0]))[1]==x?function(D){return new d(D)}:o;wt.exports=M},HWsn:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.multiInject=void 0;var d=i("9L8m"),o=i("rMkn"),b=i("ZLnY");function x(M){return function(D,C,S){var O=new o.Metadata(d.MULTI_INJECT_TAG,M);typeof S=="number"?b.tagParameter(D,C,S,O):b.tagProperty(D,C,O)}}P.multiInject=x},Hg9g:function(wt,P,i){"use strict";i.d(P,"a",function(){return E}),i.d(P,"b",function(){return I});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("25gg"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("syls"),E=function A(R){S()(this,A)},I=function(){function A(R){S()(this,A),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=R}return D()(A,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(B){return this.lookup[B]>-1}},{key:"create",value:function(B,p){this.lookup[B]=this.components.length;var G=new this.clazz(p||{});return this.components.push(G),this.entities.push(B),G}},{key:"remove",value:function(B){var p=this.lookup[B];p>-1&&p<this.components.length-1&&(this.components[p]=this.components[this.components.length-1],this.entities[p]=this.entities[this.entities.length-1],this.lookup[this.entities[p]]=p),this.components.pop(),this.entities.pop(),delete this.lookup[B]}},{key:"removeKeepSorted",value:function(B){var p=this.lookup[B];if(p>-1){var G=this.entities[p];if(p<this.components.length-1){for(var W=p+1;W<this.components.length;++W)this.components[W-1]=this.components[W];for(var z=p+1;z<this.entities.length;++z)this.entities[z-1]=this.entities[z],this.lookup[this.entities[z-1]]=z-1}this.components.pop(),this.entities.pop(),delete this.lookup[G]}}},{key:"moveItem",value:function(B,p){if(B!==p){for(var G=this.components[B],W=this.entities[B],z=B<p?1:-1,N=B;N!==p;N+=z){var j=N+z;this.components[N]=this.components[j],this.entities[N]=this.entities[j],this.lookup[this.entities[N]]=N}this.components[p]=G,this.entities[p]=W,this.lookup[W]=p}}},{key:"getEntity",value:function(B){return this.entities[B]}},{key:"getComponent",value:function(B){return this.components[B]}},{key:"getComponentByEntity",value:function(B){var p=this.lookup[B];return p>-1?this.components[p]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(B){for(var p=0,G=Object.keys(this.lookup);p<G.length;p++){var W=G[p],z=Number(W);if(this.lookup[z]===B)return z}return O.a}},{key:"find",value:function(B){for(var p=0;p<this.getCount();p++){var G=this.getComponent(p);if(B(G,p))return G}return null}},{key:"findIndex",value:function(B){for(var p=0;p<this.getCount();p++){var G=this.getComponent(p);if(B(G,p))return p}return-1}},{key:"forEach",value:function(B){for(var p=0,G=Object.keys(this.lookup);p<G.length;p++){var W=G[p],z=Number(W),N=this.lookup[z];B(z,this.getComponent(N))}}},{key:"forEachAsync",value:function(){var R=x()(o.a.mark(function p(G){var W,z,N,j,F;return o.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:W=0,z=Object.keys(this.lookup);case 1:if(!(W<z.length)){$.next=10;break}return N=z[W],j=Number(N),F=this.lookup[j],$.next=7,G(j,this.getComponent(F));case 7:W++,$.next=1;break;case 10:case"end":return $.stop()}},p,this)}));function B(p){return R.apply(this,arguments)}return B}()},{key:"map",value:function(B){for(var p=[],G=0,W=Object.keys(this.lookup);G<W.length;G++){var z=W[G],N=Number(z),j=this.lookup[N];p.push(B(N,this.getComponent(j)))}return p}}]),A}()},Hgj1:function(wt,P,i){"use strict";i.r(P),i.d(P,"easeLinear",function(){return d}),i.d(P,"easeQuad",function(){return x}),i.d(P,"easeQuadIn",function(){return o}),i.d(P,"easeQuadOut",function(){return b}),i.d(P,"easeQuadInOut",function(){return x}),i.d(P,"easeCubic",function(){return C}),i.d(P,"easeCubicIn",function(){return M}),i.d(P,"easeCubicOut",function(){return D}),i.d(P,"easeCubicInOut",function(){return C}),i.d(P,"easePoly",function(){return I}),i.d(P,"easePolyIn",function(){return O}),i.d(P,"easePolyOut",function(){return E}),i.d(P,"easePolyInOut",function(){return I}),i.d(P,"easeSin",function(){return G}),i.d(P,"easeSinIn",function(){return B}),i.d(P,"easeSinOut",function(){return p}),i.d(P,"easeSinInOut",function(){return G}),i.d(P,"easeExp",function(){return j}),i.d(P,"easeExpIn",function(){return z}),i.d(P,"easeExpOut",function(){return N}),i.d(P,"easeExpInOut",function(){return j}),i.d(P,"easeCircle",function(){return $}),i.d(P,"easeCircleIn",function(){return F}),i.d(P,"easeCircleOut",function(){return k}),i.d(P,"easeCircleInOut",function(){return $}),i.d(P,"easeBounce",function(){return pt}),i.d(P,"easeBounceIn",function(){return at}),i.d(P,"easeBounceOut",function(){return pt}),i.d(P,"easeBounceInOut",function(){return Tt}),i.d(P,"easeBack",function(){return gt}),i.d(P,"easeBackIn",function(){return Kt}),i.d(P,"easeBackOut",function(){return Xt}),i.d(P,"easeBackInOut",function(){return gt}),i.d(P,"easeElastic",function(){return Dt}),i.d(P,"easeElasticIn",function(){return bt}),i.d(P,"easeElasticOut",function(){return Dt}),i.d(P,"easeElasticInOut",function(){return Mt});function d(q){return+q}function o(q){return q*q}function b(q){return q*(2-q)}function x(q){return((q*=2)<=1?q*q:--q*(2-q)+1)/2}function M(q){return q*q*q}function D(q){return--q*q*q+1}function C(q){return((q*=2)<=1?q*q*q:(q-=2)*q*q+2)/2}var S=3,O=function q(V){V=+V;function ot(tt){return Math.pow(tt,V)}return ot.exponent=q,ot}(S),E=function q(V){V=+V;function ot(tt){return 1-Math.pow(1-tt,V)}return ot.exponent=q,ot}(S),I=function q(V){V=+V;function ot(tt){return((tt*=2)<=1?Math.pow(tt,V):2-Math.pow(2-tt,V))/2}return ot.exponent=q,ot}(S),A=Math.PI,R=A/2;function B(q){return+q==1?1:1-Math.cos(q*R)}function p(q){return Math.sin(q*R)}function G(q){return(1-Math.cos(A*q))/2}function W(q){return(Math.pow(2,-10*q)-.0009765625)*1.0009775171065494}function z(q){return W(1-+q)}function N(q){return 1-W(q)}function j(q){return((q*=2)<=1?W(1-q):2-W(q-1))/2}function F(q){return 1-Math.sqrt(1-q*q)}function k(q){return Math.sqrt(1- --q*q)}function $(q){return((q*=2)<=1?1-Math.sqrt(1-q*q):Math.sqrt(1-(q-=2)*q)+1)/2}var nt=4/11,st=6/11,rt=8/11,Q=3/4,Y=9/11,K=10/11,et=15/16,ut=21/22,dt=63/64,vt=1/nt/nt;function at(q){return 1-pt(1-q)}function pt(q){return(q=+q)<nt?vt*q*q:q<rt?vt*(q-=st)*q+Q:q<K?vt*(q-=Y)*q+et:vt*(q-=ut)*q+dt}function Tt(q){return((q*=2)<=1?1-pt(1-q):pt(q-1)+1)/2}var Gt=1.70158,Kt=function q(V){V=+V;function ot(tt){return(tt=+tt)*tt*(V*(tt-1)+tt)}return ot.overshoot=q,ot}(Gt),Xt=function q(V){V=+V;function ot(tt){return--tt*tt*((tt+1)*V+tt)+1}return ot.overshoot=q,ot}(Gt),gt=function q(V){V=+V;function ot(tt){return((tt*=2)<1?tt*tt*((V+1)*tt-V):(tt-=2)*tt*((V+1)*tt+V)+2)/2}return ot.overshoot=q,ot}(Gt),lt=2*Math.PI,ft=1,it=.3,bt=function q(V,ot){var tt=Math.asin(1/(V=Math.max(1,V)))*(ot/=lt);function yt(Pt){return V*W(- --Pt)*Math.sin((tt-Pt)/ot)}return yt.amplitude=function(Pt){return q(Pt,ot*lt)},yt.period=function(Pt){return q(V,Pt)},yt}(ft,it),Dt=function q(V,ot){var tt=Math.asin(1/(V=Math.max(1,V)))*(ot/=lt);function yt(Pt){return 1-V*W(Pt=+Pt)*Math.sin((Pt+tt)/ot)}return yt.amplitude=function(Pt){return q(Pt,ot*lt)},yt.period=function(Pt){return q(V,Pt)},yt}(ft,it),Mt=function q(V,ot){var tt=Math.asin(1/(V=Math.max(1,V)))*(ot/=lt);function yt(Pt){return((Pt=Pt*2-1)<0?V*W(-Pt)*Math.sin((tt-Pt)/ot):2-V*W(Pt)*Math.sin((tt+Pt)/ot))/2}return yt.amplitude=function(Pt){return q(Pt,ot*lt)},yt.period=function(Pt){return q(V,Pt)},yt}(ft,it)},I6A6:function(wt,P,i){"use strict";i.d(P,"a",function(){return o}),i.d(P,"b",function(){return D});var d=i("J+IK"),o;(function(C){C.ERROR="error",C.WARN="warn",C.INFO="log"})(o||(o={}));var b="AntV/G2Plot";function x(C){for(var S=[],O=1;O<arguments.length;O++)S[O-1]=arguments[O];var E=0;return b+": "+C.replace(/%s/g,function(){return""+S[E++]})}function M(C,S){for(var O=[],E=2;E<arguments.length;E++)O[E-2]=arguments[E];if(!C){var I=new Error(x.apply(void 0,Object(d.g)([S],O)));throw I.name=b,I}}function D(C,S,O){for(var E=[],I=3;I<arguments.length;I++)E[I-3]=arguments[I];S||console[C](x.apply(void 0,Object(d.g)([O],E)))}},I7m4:function(wt,P,i){var d=i("ql+n"),o=i("EEYS");wt.exports=b;function b(x){return d.filter(o(x),function(M){return M.length>1||M.length===1&&x.hasEdge(M[0],M[0])})}},IJeR:function(wt,P,i){var d=i("ql+n"),o=i("K0S0");wt.exports={write:b,read:D};function b(C){var S={options:{directed:C.isDirected(),multigraph:C.isMultigraph(),compound:C.isCompound()},nodes:x(C),edges:M(C)};return d.isUndefined(C.graph())||(S.value=d.clone(C.graph())),S}function x(C){return d.map(C.nodes(),function(S){var O=C.node(S),E=C.parent(S),I={v:S};return d.isUndefined(O)||(I.value=O),d.isUndefined(E)||(I.parent=E),I})}function M(C){return d.map(C.edges(),function(S){var O=C.edge(S),E={v:S.v,w:S.w};return d.isUndefined(S.name)||(E.name=S.name),d.isUndefined(O)||(E.value=O),E})}function D(C){var S=new o(C.options).setGraph(C.value);return d.each(C.nodes,function(O){S.setNode(O.v,O.value),O.parent&&S.setParent(O.v,O.parent)}),d.each(C.edges,function(O){S.setEdge({v:O.v,w:O.w,name:O.name},O.value)}),S}},ITfU:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingWhenSyntax=void 0;var d=i("zN6Y"),o=i("09fY"),b=function(){function x(M){this._binding=M}return x.prototype.when=function(M){return this._binding.constraint=M,new d.BindingOnSyntax(this._binding)},x.prototype.whenTargetNamed=function(M){return this._binding.constraint=o.namedConstraint(M),new d.BindingOnSyntax(this._binding)},x.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(M){var D=M.target!==null&&!M.target.isNamed()&&!M.target.isTagged();return D},new d.BindingOnSyntax(this._binding)},x.prototype.whenTargetTagged=function(M,D){return this._binding.constraint=o.taggedConstraint(M)(D),new d.BindingOnSyntax(this._binding)},x.prototype.whenInjectedInto=function(M){return this._binding.constraint=function(D){return o.typeConstraint(M)(D.parentRequest)},new d.BindingOnSyntax(this._binding)},x.prototype.whenParentNamed=function(M){return this._binding.constraint=function(D){return o.namedConstraint(M)(D.parentRequest)},new d.BindingOnSyntax(this._binding)},x.prototype.whenParentTagged=function(M,D){return this._binding.constraint=function(C){return o.taggedConstraint(M)(D)(C.parentRequest)},new d.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorIs=function(M){return this._binding.constraint=function(D){return o.traverseAncerstors(D,o.typeConstraint(M))},new d.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorIs=function(M){return this._binding.constraint=function(D){return!o.traverseAncerstors(D,o.typeConstraint(M))},new d.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorNamed=function(M){return this._binding.constraint=function(D){return o.traverseAncerstors(D,o.namedConstraint(M))},new d.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorNamed=function(M){return this._binding.constraint=function(D){return!o.traverseAncerstors(D,o.namedConstraint(M))},new d.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorTagged=function(M,D){return this._binding.constraint=function(C){return o.traverseAncerstors(C,o.taggedConstraint(M)(D))},new d.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorTagged=function(M,D){return this._binding.constraint=function(C){return!o.traverseAncerstors(C,o.taggedConstraint(M)(D))},new d.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorMatches=function(M){return this._binding.constraint=function(D){return o.traverseAncerstors(D,M)},new d.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorMatches=function(M){return this._binding.constraint=function(D){return!o.traverseAncerstors(D,M)},new d.BindingOnSyntax(this._binding)},x}();P.BindingWhenSyntax=b},IZ4i:function(wt,P,i){var d=i("vqXp"),o=i("tIv8"),b=i("WeNx"),x=o?function(M,D){return o(M,"toString",{configurable:!0,enumerable:!1,value:d(D),writable:!0})}:b;wt.exports=x},IcjZ:function(wt,P,i){"use strict";var d=i("OUPr");i.d(P,"Annotation",function(){return d});var o=i("Yf+D");i.d(P,"Axis",function(){return o});var b=i("dUXx");i.d(P,"Crosshair",function(){return b});var x=i("gsK0");i.d(P,"Grid",function(){return x});var M=i("7a2H");i.d(P,"Legend",function(){return M});var D=i("y1zf");i.d(P,"Tooltip",function(){return D});var C=i("QwgH"),S=i("jFyH"),O=i("oDuu"),E=i("LomN");i.d(P,"Slider",function(){return E.a});var I=i("yjpz");i.d(P,"Scrollbar",function(){return I.a});var A=i("NT8r"),R=i.n(A),B=i("XlHn"),p=i.n(B),G=i("JGup");i.d(P,"propagationDelegate",function(){return G.a});var W=i("nA9L");i.d(P,"TOOLTIP_CSS_CONST",function(){return W})},Itlo:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.tagged=void 0;var d=i("rMkn"),o=i("ZLnY");function b(x,M){return function(D,C,S){var O=new d.Metadata(x,M);typeof S=="number"?o.tagParameter(D,C,S,O):o.tagProperty(D,C,O)}}P.tagged=b},Ixdt:function(wt,P,i){var d=i("fQKG"),o=i("/DyB"),b=o(function(x,M,D){d(x,M,D)});wt.exports=b},"J+IK":function(wt,P,i){"use strict";i.d(P,"c",function(){return o}),i.d(P,"a",function(){return b}),i.d(P,"e",function(){return x}),i.d(P,"b",function(){return S}),i.d(P,"d",function(){return O}),i.d(P,"g",function(){return p}),i.d(P,"f",function(){return G});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=function(Y,K){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,ut){et.__proto__=ut}||function(et,ut){for(var dt in ut)Object.prototype.hasOwnProperty.call(ut,dt)&&(et[dt]=ut[dt])},d(Y,K)};function o(Q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");d(Q,Y);function K(){this.constructor=Q}Q.prototype=Y===null?Object.create(Y):(K.prototype=Y.prototype,new K)}var b=function(){return b=Object.assign||function(K){for(var et,ut=1,dt=arguments.length;ut<dt;ut++){et=arguments[ut];for(var vt in et)Object.prototype.hasOwnProperty.call(et,vt)&&(K[vt]=et[vt])}return K},b.apply(this,arguments)};function x(Q,Y){var K={};for(var et in Q)Object.prototype.hasOwnProperty.call(Q,et)&&Y.indexOf(et)<0&&(K[et]=Q[et]);if(Q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ut=0,et=Object.getOwnPropertySymbols(Q);ut<et.length;ut++)Y.indexOf(et[ut])<0&&Object.prototype.propertyIsEnumerable.call(Q,et[ut])&&(K[et[ut]]=Q[et[ut]]);return K}function M(Q,Y,K,et){var ut=arguments.length,dt=ut<3?Y:et===null?et=Object.getOwnPropertyDescriptor(Y,K):et,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")dt=Reflect.decorate(Q,Y,K,et);else for(var at=Q.length-1;at>=0;at--)(vt=Q[at])&&(dt=(ut<3?vt(dt):ut>3?vt(Y,K,dt):vt(Y,K))||dt);return ut>3&&dt&&Object.defineProperty(Y,K,dt),dt}function D(Q,Y){return function(K,et){Y(K,et,Q)}}function C(Q,Y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Q,Y)}function S(Q,Y,K,et){function ut(dt){return dt instanceof K?dt:new K(function(vt){vt(dt)})}return new(K||(K=Promise))(function(dt,vt){function at(Gt){try{Tt(et.next(Gt))}catch(Kt){vt(Kt)}}function pt(Gt){try{Tt(et.throw(Gt))}catch(Kt){vt(Kt)}}function Tt(Gt){Gt.done?dt(Gt.value):ut(Gt.value).then(at,pt)}Tt((et=et.apply(Q,Y||[])).next())})}function O(Q,Y){var K={label:0,sent:function(){if(dt[0]&1)throw dt[1];return dt[1]},trys:[],ops:[]},et,ut,dt,vt;return vt={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function at(Tt){return function(Gt){return pt([Tt,Gt])}}function pt(Tt){if(et)throw new TypeError("Generator is already executing.");for(;K;)try{if(et=1,ut&&(dt=Tt[0]&2?ut.return:Tt[0]?ut.throw||((dt=ut.return)&&dt.call(ut),0):ut.next)&&!(dt=dt.call(ut,Tt[1])).done)return dt;switch(ut=0,dt&&(Tt=[Tt[0]&2,dt.value]),Tt[0]){case 0:case 1:dt=Tt;break;case 4:return K.label++,{value:Tt[1],done:!1};case 5:K.label++,ut=Tt[1],Tt=[0];continue;case 7:Tt=K.ops.pop(),K.trys.pop();continue;default:if(dt=K.trys,!(dt=dt.length>0&&dt[dt.length-1])&&(Tt[0]===6||Tt[0]===2)){K=0;continue}if(Tt[0]===3&&(!dt||Tt[1]>dt[0]&&Tt[1]<dt[3])){K.label=Tt[1];break}if(Tt[0]===6&&K.label<dt[1]){K.label=dt[1],dt=Tt;break}if(dt&&K.label<dt[2]){K.label=dt[2],K.ops.push(Tt);break}dt[2]&&K.ops.pop(),K.trys.pop();continue}Tt=Y.call(Q,K)}catch(Gt){Tt=[6,Gt],ut=0}finally{et=dt=0}if(Tt[0]&5)throw Tt[1];return{value:Tt[0]?Tt[1]:void 0,done:!0}}}var E=Object.create?function(Q,Y,K,et){et===void 0&&(et=K),Object.defineProperty(Q,et,{enumerable:!0,get:function(){return Y[K]}})}:function(Q,Y,K,et){et===void 0&&(et=K),Q[et]=Y[K]};function I(Q,Y){for(var K in Q)K!=="default"&&!Object.prototype.hasOwnProperty.call(Y,K)&&E(Y,Q,K)}function A(Q){var Y=typeof Symbol=="function"&&Symbol.iterator,K=Y&&Q[Y],et=0;if(K)return K.call(Q);if(Q&&typeof Q.length=="number")return{next:function(){return Q&&et>=Q.length&&(Q=void 0),{value:Q&&Q[et++],done:!Q}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(Q,Y){var K=typeof Symbol=="function"&&Q[Symbol.iterator];if(!K)return Q;var et=K.call(Q),ut,dt=[],vt;try{for(;(Y===void 0||Y-- >0)&&!(ut=et.next()).done;)dt.push(ut.value)}catch(at){vt={error:at}}finally{try{ut&&!ut.done&&(K=et.return)&&K.call(et)}finally{if(vt)throw vt.error}}return dt}function B(){for(var Q=[],Y=0;Y<arguments.length;Y++)Q=Q.concat(R(arguments[Y]));return Q}function p(){for(var Q=0,Y=0,K=arguments.length;Y<K;Y++)Q+=arguments[Y].length;for(var et=Array(Q),ut=0,Y=0;Y<K;Y++)for(var dt=arguments[Y],vt=0,at=dt.length;vt<at;vt++,ut++)et[ut]=dt[vt];return et}function G(Q,Y){for(var K=0,et=Y.length,ut=Q.length;K<et;K++,ut++)Q[ut]=Y[K];return Q}function W(Q){return this instanceof W?(this.v=Q,this):new W(Q)}function z(Q,Y,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et=K.apply(Q,Y||[]),ut,dt=[];return ut={},vt("next"),vt("throw"),vt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function vt(Xt){et[Xt]&&(ut[Xt]=function(gt){return new Promise(function(lt,ft){dt.push([Xt,gt,lt,ft])>1||at(Xt,gt)})})}function at(Xt,gt){try{pt(et[Xt](gt))}catch(lt){Kt(dt[0][3],lt)}}function pt(Xt){Xt.value instanceof W?Promise.resolve(Xt.value.v).then(Tt,Gt):Kt(dt[0][2],Xt)}function Tt(Xt){at("next",Xt)}function Gt(Xt){at("throw",Xt)}function Kt(Xt,gt){Xt(gt),dt.shift(),dt.length&&at(dt[0][0],dt[0][1])}}function N(Q){var Y,K;return Y={},et("next"),et("throw",function(ut){throw ut}),et("return"),Y[Symbol.iterator]=function(){return this},Y;function et(ut,dt){Y[ut]=Q[ut]?function(vt){return(K=!K)?{value:W(Q[ut](vt)),done:ut==="return"}:dt?dt(vt):vt}:dt}}function j(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=Q[Symbol.asyncIterator],K;return Y?Y.call(Q):(Q=typeof A=="function"?A(Q):Q[Symbol.iterator](),K={},et("next"),et("throw"),et("return"),K[Symbol.asyncIterator]=function(){return this},K);function et(dt){K[dt]=Q[dt]&&function(vt){return new Promise(function(at,pt){vt=Q[dt](vt),ut(at,pt,vt.done,vt.value)})}}function ut(dt,vt,at,pt){Promise.resolve(pt).then(function(Tt){dt({value:Tt,done:at})},vt)}}function F(Q,Y){return Object.defineProperty?Object.defineProperty(Q,"raw",{value:Y}):Q.raw=Y,Q}var k=Object.create?function(Q,Y){Object.defineProperty(Q,"default",{enumerable:!0,value:Y})}:function(Q,Y){Q.default=Y};function $(Q){if(Q&&Q.__esModule)return Q;var Y={};if(Q!=null)for(var K in Q)K!=="default"&&Object.prototype.hasOwnProperty.call(Q,K)&&E(Y,Q,K);return k(Y,Q),Y}function nt(Q){return Q&&Q.__esModule?Q:{default:Q}}function st(Q,Y,K,et){if(K==="a"&&!et)throw new TypeError("Private accessor was defined without a getter");if(typeof Y=="function"?Q!==Y||!et:!Y.has(Q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return K==="m"?et:K==="a"?et.call(Q):et?et.value:Y.get(Q)}function rt(Q,Y,K,et,ut){if(et==="m")throw new TypeError("Private method is not writable");if(et==="a"&&!ut)throw new TypeError("Private accessor was defined without a setter");if(typeof Y=="function"?Q!==Y||!ut:!Y.has(Q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return et==="a"?ut.call(Q,K):ut?ut.value=K:Y.set(Q,K),K}},"J/Yx":function(wt,P,i){"use strict";i.d(P,"a",function(){return Y});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("S5Um"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("25gg"),E=i.n(O),I=i("VwUA"),A=i.n(I),R=i("0iMn"),B=i.n(R),p=i("YcyD"),G=i.n(p),W=i("2Pg9"),z=i("XN3X"),N=i("ZVT1"),j,F,k,$,nt,st,rt,Q,Y=(j=Object(p.injectable)(),F=Object(p.inject)(z.a.GeometryComponentManager),k=Object(p.inject)(z.a.RenderEngine),j($=(nt=(Q=function(){function K(){S()(this,K),D()(this,"geometry",st,this),D()(this,"engine",rt,this)}return E()(K,[{key:"execute",value:function(){var et=x()(o.a.mark(function dt(){var vt=this;return o.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:this.geometry.forEach(function(Tt,Gt){Gt.dirty&&(Gt.attributes.forEach(function(Kt){if(Kt.dirty&&Kt.data){if(!Kt.buffer)Kt.buffer=vt.engine.createBuffer({data:Kt.data,type:N.a.FLOAT});else{var Xt;(Xt=Kt.buffer)===null||Xt===void 0||Xt.subData({data:Kt.data,offset:0})}Kt.dirty=!1}}),Gt.indices&&(Gt.indicesBuffer?Gt.indicesBuffer.subData({data:Gt.indices,offset:0}):Gt.indicesBuffer=vt.engine.createElements({data:Gt.indices,count:Gt.indices.length,type:N.a.UNSIGNED_INT,usage:N.a.STATIC_DRAW})),Gt.dirty=!1)});case 1:case"end":return pt.stop()}},dt,this)}));function ut(){return et.apply(this,arguments)}return ut}()},{key:"tearDown",value:function(){this.geometry.forEach(function(ut,dt){dt.indicesBuffer&&dt.indicesBuffer.destroy(),dt.attributes.forEach(function(vt){vt.buffer&&vt.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},dt=ut.vertexCount,vt=Object(W.createEntity)();return this.geometry.create(vt,{vertexCount:dt})}},{key:"createInstancedBufferGeometry",value:function(ut){var dt=ut.maxInstancedCount,vt=ut.vertexCount,at=Object(W.createEntity)();return this.geometry.create(at,{maxInstancedCount:dt,vertexCount:vt})}}]),K}(),Q),st=A()(nt.prototype,"geometry",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=A()(nt.prototype,"engine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt))||$)},JGup:function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=i("xXxO");function o(b,x,M){var D=new d.Event(x,M);D.target=b,D.propagationPath.push(b),b.emitDelegation(x,D);for(var C=b.getParent();C;)C.emitDelegation(x,D),D.propagationPath.push(C),C=C.getParent()}},JJ9t:function(wt,P){wt.exports=i;function i(d,o){return d[0]=Math.round(o[0]),d[1]=Math.round(o[1]),d}},JJn1:function(wt,P){},JJsy:function(wt,P,i){"use strict";i.d(P,"a",function(){return C});var d=i("J+IK"),o=i("18og"),b=i("Gc/9"),x=i("iqCt"),M=i("On2g"),D={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"},formatter:function(O){var E=O.percent;return(E*100).toFixed(2)+"%"}}},animation:{}},C=function(S){Object(d.c)(O,S);function O(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="ring-process",E}return O.getDefaultOptions=function(){return D},O.prototype.changeData=function(E){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:E}),this.chart.data(Object(x.a)(E)),Object(M.b)({chart:this.chart,options:this.options},!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},O.prototype.getDefaultOptions=function(){return O.getDefaultOptions()},O.prototype.getSchemaAdaptor=function(){return M.a},O}(b.b)},JRP5:function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=i("jg4I");function o(b,x,M){var D=x+"Style",C=null;return Object(d.j)(M,function(S,O){b[O]&&S[D]&&(C||(C={}),Object(d.bb)(C,S[D]))}),C}},"JWH+":function(wt,P,i){var d=i("ThNq"),o=i("HDt/");function b(x,M){return d(x,M,function(D,C){return o(x,C)})}wt.exports=b},Jwa5:function(wt,P,i){"use strict";i.d(P,"a",function(){return B});var d=i("J+IK"),o=i("Gc/9"),b=i("piQC"),x=i("Cw9K"),M=i("AOO/");function D(p,G,W){var z=W.map(function(F){return F[G]}).filter(function(F){return F!==void 0}),N=z.length>0?Math.max.apply(Math,z):0,j=Math.abs(p)%360;return j?N*360/j:N}function C(p){var G=p.chart,W=p.options,z=W.barStyle,N=W.color,j=W.tooltip,F=W.colorField,k=W.type,$=W.xField,nt=W.yField,st=W.data,rt=Object(x.r)(st,nt);G.data(rt);var Q=Object(x.b)({},p,{options:{tooltip:j,seriesField:F,interval:{style:z,color:N,shape:k==="line"?"line":"intervel"},minColumnWidth:W.minBarWidth,maxColumnWidth:W.maxBarWidth,columnBackground:W.barBackground}});return Object(M.c)(Q),k==="line"&&Object(M.e)({chart:G,options:{xField:$,yField:nt,seriesField:F,point:{shape:"circle",color:N}}}),p}function S(p){var G,W=p.options,z=W.yField,N=W.maxAngle,j=W.data,F=Object(x.r)(j,z);return Object(x.e)(Object(b.f)((G={},G[z]={min:0,max:D(N,z,F)},G)))(p)}function O(p){var G=p.chart,W=p.options,z=W.radius,N=W.innerRadius,j=W.startAngle,F=W.endAngle;return G.coordinate({type:"polar",cfg:{radius:z,innerRadius:N,startAngle:j,endAngle:F}}).transpose(),p}function E(p){var G=p.chart,W=p.options,z=W.xField,N=W.xAxis;return G.axis(z,N),p}function I(p){var G=p.chart,W=p.options,z=W.label,N=W.yField,j=Object(x.c)(G,"interval");if(!z)j.label(!1);else{var F=z.callback,k=Object(d.e)(z,["callback"]);j.label({fields:[N],callback:F,cfg:Object(d.a)(Object(d.a)({},Object(x.v)(k)),{type:"polar"})})}return p}function A(p){return Object(x.e)(C,S,E,O,b.c,b.a,b.j,b.k,b.d,Object(b.b)(),I)(p)}var R=Object(x.b)({},o.b.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),B=function(p){Object(d.c)(G,p);function G(){var W=p!==null&&p.apply(this,arguments)||this;return W.type="radial-bar",W}return G.getDefaultOptions=function(){return R},G.prototype.changeData=function(W){this.updateOption({data:W}),S({chart:this.chart,options:this.options}),this.chart.changeData(W)},G.prototype.getDefaultOptions=function(){return G.getDefaultOptions()},G.prototype.getSchemaAdaptor=function(){return A},G}(o.b)},K0S0:function(wt,P,i){"use strict";var d=i("ql+n");wt.exports=M;var o="\0",b="\0",x="";function M(I){this._isDirected=d.has(I,"directed")?I.directed:!0,this._isMultigraph=d.has(I,"multigraph")?I.multigraph:!1,this._isCompound=d.has(I,"compound")?I.compound:!1,this._label=void 0,this._defaultNodeLabelFn=d.constant(void 0),this._defaultEdgeLabelFn=d.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[b]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}M.prototype._nodeCount=0,M.prototype._edgeCount=0,M.prototype.isDirected=function(){return this._isDirected},M.prototype.isMultigraph=function(){return this._isMultigraph},M.prototype.isCompound=function(){return this._isCompound},M.prototype.setGraph=function(I){return this._label=I,this},M.prototype.graph=function(){return this._label},M.prototype.setDefaultNodeLabel=function(I){return d.isFunction(I)||(I=d.constant(I)),this._defaultNodeLabelFn=I,this},M.prototype.nodeCount=function(){return this._nodeCount},M.prototype.nodes=function(){return d.keys(this._nodes)},M.prototype.sources=function(){var I=this;return d.filter(this.nodes(),function(A){return d.isEmpty(I._in[A])})},M.prototype.sinks=function(){var I=this;return d.filter(this.nodes(),function(A){return d.isEmpty(I._out[A])})},M.prototype.setNodes=function(I,A){var R=arguments,B=this;return d.each(I,function(p){R.length>1?B.setNode(p,A):B.setNode(p)}),this},M.prototype.setNode=function(I,A){return d.has(this._nodes,I)?(arguments.length>1&&(this._nodes[I]=A),this):(this._nodes[I]=arguments.length>1?A:this._defaultNodeLabelFn(I),this._isCompound&&(this._parent[I]=b,this._children[I]={},this._children[b][I]=!0),this._in[I]={},this._preds[I]={},this._out[I]={},this._sucs[I]={},++this._nodeCount,this)},M.prototype.node=function(I){return this._nodes[I]},M.prototype.hasNode=function(I){return d.has(this._nodes,I)},M.prototype.removeNode=function(I){var A=this;if(d.has(this._nodes,I)){var R=function(p){A.removeEdge(A._edgeObjs[p])};delete this._nodes[I],this._isCompound&&(this._removeFromParentsChildList(I),delete this._parent[I],d.each(this.children(I),function(B){A.setParent(B)}),delete this._children[I]),d.each(d.keys(this._in[I]),R),delete this._in[I],delete this._preds[I],d.each(d.keys(this._out[I]),R),delete this._out[I],delete this._sucs[I],--this._nodeCount}return this},M.prototype.setParent=function(I,A){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d.isUndefined(A))A=b;else{A+="";for(var R=A;!d.isUndefined(R);R=this.parent(R))if(R===I)throw new Error("Setting "+A+" as parent of "+I+" would create a cycle");this.setNode(A)}return this.setNode(I),this._removeFromParentsChildList(I),this._parent[I]=A,this._children[A][I]=!0,this},M.prototype._removeFromParentsChildList=function(I){delete this._children[this._parent[I]][I]},M.prototype.parent=function(I){if(this._isCompound){var A=this._parent[I];if(A!==b)return A}},M.prototype.children=function(I){if(d.isUndefined(I)&&(I=b),this._isCompound){var A=this._children[I];if(A)return d.keys(A)}else{if(I===b)return this.nodes();if(this.hasNode(I))return[]}},M.prototype.predecessors=function(I){var A=this._preds[I];if(A)return d.keys(A)},M.prototype.successors=function(I){var A=this._sucs[I];if(A)return d.keys(A)},M.prototype.neighbors=function(I){var A=this.predecessors(I);if(A)return d.union(A,this.successors(I))},M.prototype.isLeaf=function(I){var A;return this.isDirected()?A=this.successors(I):A=this.neighbors(I),A.length===0},M.prototype.filterNodes=function(I){var A=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});A.setGraph(this.graph());var R=this;d.each(this._nodes,function(G,W){I(W)&&A.setNode(W,G)}),d.each(this._edgeObjs,function(G){A.hasNode(G.v)&&A.hasNode(G.w)&&A.setEdge(G,R.edge(G))});var B={};function p(G){var W=R.parent(G);return W===void 0||A.hasNode(W)?(B[G]=W,W):W in B?B[W]:p(W)}return this._isCompound&&d.each(A.nodes(),function(G){A.setParent(G,p(G))}),A},M.prototype.setDefaultEdgeLabel=function(I){return d.isFunction(I)||(I=d.constant(I)),this._defaultEdgeLabelFn=I,this},M.prototype.edgeCount=function(){return this._edgeCount},M.prototype.edges=function(){return d.values(this._edgeObjs)},M.prototype.setPath=function(I,A){var R=this,B=arguments;return d.reduce(I,function(p,G){return B.length>1?R.setEdge(p,G,A):R.setEdge(p,G),G}),this},M.prototype.setEdge=function(){var I,A,R,B,p=!1,G=arguments[0];typeof G=="object"&&G!==null&&"v"in G?(I=G.v,A=G.w,R=G.name,arguments.length===2&&(B=arguments[1],p=!0)):(I=G,A=arguments[1],R=arguments[3],arguments.length>2&&(B=arguments[2],p=!0)),I=""+I,A=""+A,d.isUndefined(R)||(R=""+R);var W=S(this._isDirected,I,A,R);if(d.has(this._edgeLabels,W))return p&&(this._edgeLabels[W]=B),this;if(!d.isUndefined(R)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(I),this.setNode(A),this._edgeLabels[W]=p?B:this._defaultEdgeLabelFn(I,A,R);var z=O(this._isDirected,I,A,R);return I=z.v,A=z.w,Object.freeze(z),this._edgeObjs[W]=z,D(this._preds[A],I),D(this._sucs[I],A),this._in[A][W]=z,this._out[I][W]=z,this._edgeCount++,this},M.prototype.edge=function(I,A,R){var B=arguments.length===1?E(this._isDirected,arguments[0]):S(this._isDirected,I,A,R);return this._edgeLabels[B]},M.prototype.hasEdge=function(I,A,R){var B=arguments.length===1?E(this._isDirected,arguments[0]):S(this._isDirected,I,A,R);return d.has(this._edgeLabels,B)},M.prototype.removeEdge=function(I,A,R){var B=arguments.length===1?E(this._isDirected,arguments[0]):S(this._isDirected,I,A,R),p=this._edgeObjs[B];return p&&(I=p.v,A=p.w,delete this._edgeLabels[B],delete this._edgeObjs[B],C(this._preds[A],I),C(this._sucs[I],A),delete this._in[A][B],delete this._out[I][B],this._edgeCount--),this},M.prototype.inEdges=function(I,A){var R=this._in[I];if(R){var B=d.values(R);return A?d.filter(B,function(p){return p.v===A}):B}},M.prototype.outEdges=function(I,A){var R=this._out[I];if(R){var B=d.values(R);return A?d.filter(B,function(p){return p.w===A}):B}},M.prototype.nodeEdges=function(I,A){var R=this.inEdges(I,A);if(R)return R.concat(this.outEdges(I,A))};function D(I,A){I[A]?I[A]++:I[A]=1}function C(I,A){--I[A]||delete I[A]}function S(I,A,R,B){var p=""+A,G=""+R;if(!I&&p>G){var W=p;p=G,G=W}return p+x+G+x+(d.isUndefined(B)?o:B)}function O(I,A,R,B){var p=""+A,G=""+R;if(!I&&p>G){var W=p;p=G,G=W}var z={v:p,w:G};return B&&(z.name=B),z}function E(I,A){return S(I,A.v,A.w,A.name)}},K0hn:function(wt,P,i){"use strict";i.d(P,"a",function(){return C}),i.d(P,"d",function(){return S}),i.d(P,"b",function(){return O}),i.d(P,"c",function(){return I}),i.d(P,"e",function(){return B}),i.d(P,"h",function(){return p}),i.d(P,"f",function(){return W}),i.d(P,"g",function(){return z});var d=i("jg4I"),o=i("aTcL"),b=i("hMip"),x=i("bsNZ"),M=i("Oru/"),D={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function C(N,j){var F=j.attr();for(var k in F){var $=F[k],nt=D[k]?D[k]:k;nt==="matrix"&&$?N.transform($[0],$[1],$[3],$[4],$[6],$[7]):nt==="lineDash"&&N.setLineDash?Object(d.B)($)&&N.setLineDash($):(nt==="strokeStyle"||nt==="fillStyle"?$=Object(o.b)(N,j,$):nt==="globalAlpha"&&($=$*N.globalAlpha),N[nt]=$)}}function S(N,j,F){for(var k=0;k<j.length;k++){var $=j[k];$.cfg.visible?$.draw(N,F):$.skipDraw()}}function O(N,j,F){var k=N.get("refreshElements");Object(d.j)(k,function($){if($!==N)for(var nt=$.cfg.parent;nt&&nt!==N&&!nt.cfg.refresh;)nt.cfg.refresh=!0,nt=nt.cfg.parent}),k[0]===N?A(j,F):E(j,F)}function E(N,j){for(var F=0;F<N.length;F++){var k=N[F];if(k.cfg.visible)if(k.cfg.hasChanged)k.cfg.refresh=!0,k.isGroup()&&A(k.cfg.children,j);else if(k.cfg.refresh)k.isGroup()&&E(k.cfg.children,j);else{var $=R(k,j);k.cfg.refresh=$,$&&k.isGroup()&&E(k.cfg.children,j)}}}function I(N){for(var j=0;j<N.length;j++){var F=N[j];F.cfg.hasChanged=!1,F.isGroup()&&!F.destroyed&&I(F.cfg.children)}}function A(N,j){for(var F=0;F<N.length;F++){var k=N[F];k.cfg.refresh=!0,k.isGroup()&&A(k.get("children"),j)}}function R(N,j){var F=N.cfg.cacheCanvasBBox,k=N.cfg.isInView&&F&&Object(x.f)(F,j);return k}function B(N,j,F,k){var $=F.path,nt=F.startArrow,st=F.endArrow;if(!!$){var rt=[0,0],Q=[0,0],Y={dx:0,dy:0};j.beginPath();for(var K=0;K<$.length;K++){var et=$[K],ut=et[0];if(K===0&&nt&&nt.d){var dt=N.getStartTangent();Y=M.c(dt[0][0],dt[0][1],dt[1][0],dt[1][1],nt.d)}else if(K===$.length-2&&$[K+1][0]==="Z"&&st&&st.d){var vt=$[K+1];if(vt[0]==="Z"){var dt=N.getEndTangent();Y=M.c(dt[0][0],dt[0][1],dt[1][0],dt[1][1],st.d)}}else if(K===$.length-1&&st&&st.d&&$[0]!=="Z"){var dt=N.getEndTangent();Y=M.c(dt[0][0],dt[0][1],dt[1][0],dt[1][1],st.d)}var at=Y.dx,pt=Y.dy;switch(ut){case"M":j.moveTo(et[1]-at,et[2]-pt),Q=[et[1],et[2]];break;case"L":j.lineTo(et[1]-at,et[2]-pt);break;case"Q":j.quadraticCurveTo(et[1],et[2],et[3]-at,et[4]-pt);break;case"C":j.bezierCurveTo(et[1],et[2],et[3],et[4],et[5]-at,et[6]-pt);break;case"A":{var Tt=void 0;k?(Tt=k[K],Tt||(Tt=Object(b.a)(rt,et),k[K]=Tt)):Tt=Object(b.a)(rt,et);var Gt=Tt.cx,Kt=Tt.cy,Xt=Tt.rx,gt=Tt.ry,lt=Tt.startAngle,ft=Tt.endAngle,it=Tt.xRotation,bt=Tt.sweepFlag;if(j.ellipse)j.ellipse(Gt,Kt,Xt,gt,it,lt,ft,1-bt);else{var Dt=Xt>gt?Xt:gt,Mt=Xt>gt?1:Xt/gt,q=Xt>gt?gt/Xt:1;j.translate(Gt,Kt),j.rotate(it),j.scale(Mt,q),j.arc(0,0,Dt,lt,ft,1-bt),j.scale(1/Mt,1/q),j.rotate(-it),j.translate(-Gt,-Kt)}break}case"Z":j.closePath();break;default:break}if(ut==="Z")rt=Q;else{var V=et.length;rt=[et[V-2],et[V-1]]}}}}function p(N,j){var F=N.get("canvas");F&&(j==="remove"&&(N._cacheCanvasBBox=N.get("cacheCanvasBBox")),N.get("hasChanged")||(N.set("hasChanged",!0),N.cfg.parent&&N.cfg.parent.get("hasChanged")||(F.refreshElement(N,j,F),F.get("autoDraw")&&F.draw())))}function G(N){var j;if(N.destroyed)j=N._cacheCanvasBBox;else{var F=N.get("cacheCanvasBBox"),k=F&&!!(F.width&&F.height),$=N.getCanvasBBox(),nt=$&&!!($.width&&$.height);k&&nt?j=Object(x.l)(F,$):k?j=F:nt&&(j=$)}return j}function W(N){if(!N.length)return null;var j=[],F=[],k=[],$=[];return Object(d.j)(N,function(nt){var st=G(nt);st&&(j.push(st.minX),F.push(st.minY),k.push(st.maxX),$.push(st.maxY))}),{minX:Object(d.Z)(j),minY:Object(d.Z)(F),maxX:Object(d.W)(k),maxY:Object(d.W)($)}}function z(N,j){return!N||!j||!Object(x.f)(N,j)?null:{minX:Math.max(N.minX,j.minX),minY:Math.max(N.minY,j.minY),maxX:Math.min(N.maxX,j.maxX),maxY:Math.min(N.maxY,j.maxY)}}},K4bE:function(wt,P,i){"use strict";i.d(P,"a",function(){return q});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("S5Um"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("25gg"),E=i.n(O),I=i("VwUA"),A=i.n(I),R=i("0iMn"),B=i.n(R),p=i("99LQ"),G=i("YcyD"),W=i.n(G),z=i("XN3X"),N=i("ZVT1"),j,F,k,$,nt,st,rt,Q,Y,K,et,ut,dt,vt,at,pt,Tt,Gt,Kt,Xt,gt,lt,ft,it;function bt(V,ot){var tt;if(typeof Symbol=="undefined"||V[Symbol.iterator]==null){if(Array.isArray(V)||(tt=Dt(V))||ot&&V&&typeof V.length=="number"){tt&&(V=tt);var yt=0,Pt=function(){};return{s:Pt,n:function(){return yt>=V.length?{done:!0}:{done:!1,value:V[yt++]}},e:function(Ct){throw Ct},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ft=!0,Wt=!1,Vt;return{s:function(){tt=V[Symbol.iterator]()},n:function(){var Ct=tt.next();return Ft=Ct.done,Ct},e:function(Ct){Wt=!0,Vt=Ct},f:function(){try{!Ft&&tt.return!=null&&tt.return()}finally{if(Wt)throw Vt}}}}function Dt(V,ot){if(!!V){if(typeof V=="string")return Mt(V,ot);var tt=Object.prototype.toString.call(V).slice(8,-1);if(tt==="Object"&&V.constructor&&(tt=V.constructor.name),tt==="Map"||tt==="Set")return Array.from(V);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return Mt(V,ot)}}function Mt(V,ot){(ot==null||ot>V.length)&&(ot=V.length);for(var tt=0,yt=new Array(ot);tt<ot;tt++)yt[tt]=V[tt];return yt}var q=(j=Object(G.injectable)(),F=Object(G.inject)(z.a.MeshComponentManager),k=Object(G.inject)(z.a.GeometryComponentManager),$=Object(G.inject)(z.a.MaterialComponentManager),nt=Object(G.inject)(z.a.CullableComponentManager),st=Object(G.inject)(z.a.TransformComponentManager),rt=Object(G.inject)(z.a.HierarchyComponentManager),Q=Object(G.inject)(z.a.Systems),Y=Object(G.named)(z.a.FrameGraphSystem),K=Object(G.inject)(z.a.RenderEngine),et=Object(G.inject)(z.a.ResourcePool),j(ut=(dt=(it=ft=function(){function V(){var ot=this;S()(this,V),D()(this,"mesh",vt,this),D()(this,"geometry",at,this),D()(this,"material",pt,this),D()(this,"cullable",Tt,this),D()(this,"transform",Gt,this),D()(this,"hierarchy",Kt,this),D()(this,"frameGraphSystem",Xt,this),D()(this,"engine",gt,this),D()(this,"resourcePool",lt,this),this.modelCache={},this.setup=function(tt,yt,Pt){var Ft=tt.createRenderTarget(yt,"color buffer",{width:1,height:1,usage:N.a.RENDER_ATTACHMENT|N.a.SAMPLED|N.a.COPY_SRC});Pt.data={output:yt.write(tt,Ft)}},this.execute=function(){var tt=x()(o.a.mark(function yt(Pt,Ft,Wt){var Vt,Lt,Ct,_,It,Rt;return o.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:Vt=Pt.getResourceNode(Ft.data.output),Lt=ot.resourcePool.getOrCreateResource(Vt.resource),Ct=bt(Wt),Nt.prev=3,Ct.s();case 5:if((_=Ct.n()).done){Nt.next=11;break}return It=_.value,Nt.next=9,ot.initView(It);case 9:Nt.next=5;break;case 11:Nt.next=16;break;case 13:Nt.prev=13,Nt.t0=Nt.catch(3),Ct.e(Nt.t0);case 16:return Nt.prev=16,Ct.f(),Nt.finish(16);case 19:Rt=ot.engine.getCanvas(),Lt.resize({width:Rt.width,height:Rt.height}),ot.engine.setScissor({enable:!1}),ot.engine.clear({framebuffer:Lt,color:Wt[0].getClearColor(),depth:1}),ot.engine.useFramebuffer(Lt,function(){var Ht=bt(Wt),jt;try{for(Ht.s();!(jt=Ht.n()).done;){var Ut=jt.value;ot.renderView(Ut)}}catch(Jt){Ht.e(Jt)}finally{Ht.f()}});case 24:case"end":return Nt.stop()}},yt,null,[[3,13,16,19]])}));return function(yt,Pt,Ft){return tt.apply(this,arguments)}}()}return E()(V,[{key:"renderView",value:function(tt){var yt=tt.getScene(),Pt=tt.getCamera(),Ft=Pt.getViewTransform(),Wt=p.b.multiply(p.b.create(),Pt.getPerspective(),Ft);Pt.getFrustum().extractFromVPMatrix(Wt);var Vt=tt.getViewport(),Lt=Vt.x,Ct=Vt.y,_=Vt.width,It=Vt.height;this.engine.viewport({x:Lt,y:Ct,width:_,height:It});var Rt=bt(yt.getEntities()),xt;try{for(Rt.s();!(xt=Rt.n()).done;){var Nt=xt.value;this.renderMesh(Nt,{camera:Pt,view:tt,viewMatrix:Ft})}}catch(Ht){Rt.e(Ht)}finally{Rt.f()}}},{key:"renderMesh",value:function(tt,yt){var Pt=yt.camera,Ft=yt.view,Wt=yt.viewMatrix,Vt=this.mesh.getComponentByEntity(tt);if(!(!Vt||!Vt.visible)){var Lt=Vt.material,Ct=Vt.geometry;if(!(!Ct||Ct.dirty||!Lt)){var _=this.transform.getComponentByEntity(tt),It=p.b.multiply(p.b.create(),Wt,_.worldTransform),Rt=Ft.getViewport(),xt=Rt.width,Nt=Rt.height;Lt.setUniform({projectionMatrix:Pt.getPerspective(),modelViewMatrix:It,modelMatrix:_.worldTransform,viewMatrix:Wt,cameraPosition:Pt.getPosition(),u_viewport:[xt,Nt]}),Vt.model&&(Vt.model.draw({uniforms:Lt.uniforms.reduce(function(Ht,jt){return Ht[jt.name]=jt.data,Ht},{})}),Lt.uniforms.forEach(function(Ht){Ht.dirty=!1}),Lt.dirty=!1)}}}},{key:"initMesh",value:function(){var ot=x()(o.a.mark(function yt(Pt,Ft){var Wt,Vt,Lt,Ct,_,It,Rt,xt;return o.a.wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(Wt=this.mesh.getComponentByEntity(Pt),Wt){Ht.next=3;break}return Ht.abrupt("return");case 3:if(Vt=Wt.material,Lt=Wt.geometry,!(!Lt||Lt.dirty||!Vt)){Ht.next=7;break}return Ht.abrupt("return");case 7:if(Wt.model){Ht.next=24;break}if(Ct="m-".concat(Vt.entity,"-g-").concat(Lt.entity),!this.modelCache[Ct]){Ht.next=12;break}return Wt.model=this.modelCache[Ct],Ht.abrupt("return");case 12:return Vt.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),_=this.engine,It=_.createModel,Rt=_.createAttribute,xt={vs:Vt.vertexShaderGLSL,fs:Vt.fragmentShaderGLSL,defines:Vt.defines,attributes:Lt.attributes.reduce(function(jt,Ut){return Ut.data&&Ut.buffer&&(jt[Ut.name]=Rt({buffer:Ut.buffer,attributes:Ut.attributes,arrayStride:Ut.arrayStride,stepMode:Ut.stepMode,divisor:Ut.stepMode==="vertex"?0:1})),jt},{}),uniforms:Vt.uniforms.reduce(function(jt,Ut){return jt[Ut.name]=Ut.data,jt},{}),scissor:{enable:!0,box:function(){return Ft.getViewport()}}},Vt.cull&&(xt.cull=Vt.cull),Vt.depth&&(xt.depth=Vt.depth),Vt.blend&&(xt.blend=Vt.blend),Lt.indicesBuffer&&(xt.elements=Lt.indicesBuffer),Lt.maxInstancedCount&&(xt.instances=Lt.maxInstancedCount,xt.count=Lt.vertexCount||3),Ht.next=22,It(xt);case 22:Wt.model=Ht.sent,this.modelCache[Ct]=Wt.model;case 24:case"end":return Ht.stop()}},yt,this)}));function tt(yt,Pt){return ot.apply(this,arguments)}return tt}()},{key:"initView",value:function(){var ot=x()(o.a.mark(function yt(Pt){var Ft,Wt,Vt,Lt;return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:Ft=Pt.getScene(),Wt=bt(Ft.getEntities()),_.prev=2,Wt.s();case 4:if((Vt=Wt.n()).done){_.next=10;break}return Lt=Vt.value,_.next=8,this.initMesh(Lt,Pt);case 8:_.next=4;break;case 10:_.next=15;break;case 12:_.prev=12,_.t0=_.catch(2),Wt.e(_.t0);case 15:return _.prev=15,Wt.f(),_.finish(15);case 18:case"end":return _.stop()}},yt,this,[[2,12,15,18]])}));function tt(yt){return ot.apply(this,arguments)}return tt}()}]),V}(),ft.IDENTIFIER="Render Pass",it),vt=A()(dt.prototype,"mesh",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=A()(dt.prototype,"geometry",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=A()(dt.prototype,"material",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=A()(dt.prototype,"cullable",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=A()(dt.prototype,"transform",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=A()(dt.prototype,"hierarchy",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=A()(dt.prototype,"frameGraphSystem",[Q,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=A()(dt.prototype,"engine",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=A()(dt.prototype,"resourcePool",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt))||ut)},K4uR:function(wt,P,i){var d=i("uDR9");function o(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),x&&d(b,x)}wt.exports=o,wt.exports.default=wt.exports,wt.exports.__esModule=!0},KAHC:function(wt,P,i){var d=i("spfM"),o=i("SOgk"),b=i("dVOP"),x=i("+Gi7");function M(D,C){var S=x(D)?d:o;return S(D,b(C))}wt.exports=M},"KC/J":function(wt,P,i){var d=i("zPMQ"),o=i("AmsH"),b=i("CG4S");function x(M){return o(M)?b(M):d(M)}wt.exports=x},KeK7:function(wt,P,i){"use strict";var d=i("18og");Object(d.registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},KwOt:function(wt,P,i){"use strict";P.a={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},"L+OQ":function(wt,P,i){"use strict";i.d(P,"c",function(){return o}),i.d(P,"a",function(){return b}),i.d(P,"h",function(){return x}),i.d(P,"k",function(){return M}),i.d(P,"j",function(){return D}),i.d(P,"b",function(){return C}),i.d(P,"g",function(){return S}),i.d(P,"e",function(){return O}),i.d(P,"i",function(){return A}),i.d(P,"d",function(){return p}),i.d(P,"m",function(){return G}),i.d(P,"l",function(){return W}),i.d(P,"f",function(){return z});var d=i("jg4I");function o(N){var j=0,F=0,k=0,$=0;return Object(d.K)(N)?j=F=k=$=N:Object(d.B)(N)&&(j=N[0],k=Object(d.I)(N[1])?N[0]:N[1],$=Object(d.I)(N[2])?N[0]:N[2],F=Object(d.I)(N[3])?k:N[3]),[j,k,$,F]}function b(N){for(var j=N.childNodes,F=j.length,k=F-1;k>=0;k--)N.removeChild(j[k])}function x(N,j){return!!N.className.match(new RegExp("(\\s|^)"+j+"(\\s|$)"))}function M(N){var j=N.start,F=N.end,k=Math.min(j.x,F.x),$=Math.min(j.y,F.y),nt=Math.max(j.x,F.x),st=Math.max(j.y,F.y);return{x:k,y:$,minX:k,minY:$,maxX:nt,maxY:st,width:nt-k,height:st-$}}function D(N){var j=N.map(function(rt){return rt.x}),F=N.map(function(rt){return rt.y}),k=Math.min.apply(Math,j),$=Math.min.apply(Math,F),nt=Math.max.apply(Math,j),st=Math.max.apply(Math,F);return{x:k,y:$,minX:k,minY:$,maxX:nt,maxY:st,width:nt-k,height:st-$}}function C(N,j,F,k){var $=N+F,nt=j+k;return{x:N,y:j,width:F,height:k,minX:N,minY:j,maxX:isNaN($)?0:$,maxY:isNaN(nt)?0:nt}}function S(N,j,F){return(1-F)*N+j*F}function O(N,j,F){return{x:N.x+Math.cos(F)*j,y:N.y+Math.sin(F)*j}}function E(N,j){var F=j.x-N.x,k=j.y-N.y;return Math.sqrt(F*F+k*k)}var I=function(j){return new Promise(function(F){setTimeout(F,j)})},A=function(j,F,k){return k===void 0&&(k=Math.pow(Number.EPSILON,.5)),[j,F].includes(Infinity)?Math.abs(j)===Math.abs(F):Math.abs(j-F)<k};function R(N,j){var F=Math.max(N.minX,j.minX),k=Math.max(N.minY,j.minY),$=Math.min(N.maxX,j.maxX),nt=Math.min(N.maxY,j.maxY);return C(F,k,$-F,nt-k)}function B(N,j){var F=Math.min(N.minX,j.minX),k=Math.min(N.minY,j.minY),$=Math.max(N.maxX,j.maxX),nt=Math.max(N.maxY,j.maxY);return C(F,k,$-F,nt-k)}function p(N){var j=N.getClip(),F=j&&j.getBBox(),k;if(!N.isGroup())k=N.getBBox();else{var $=Infinity,nt=-Infinity,st=Infinity,rt=-Infinity,Q=N.getChildren();Q.length>0?Object(d.j)(Q,function(Y){if(Y.get("visible")){if(Y.isGroup()&&Y.get("children").length===0)return!0;var K=p(Y),et=Y.applyToMatrix([K.minX,K.minY,1]),ut=Y.applyToMatrix([K.minX,K.maxY,1]),dt=Y.applyToMatrix([K.maxX,K.minY,1]),vt=Y.applyToMatrix([K.maxX,K.maxY,1]),at=Math.min(et[0],ut[0],dt[0],vt[0]),pt=Math.max(et[0],ut[0],dt[0],vt[0]),Tt=Math.min(et[1],ut[1],dt[1],vt[1]),Gt=Math.max(et[1],ut[1],dt[1],vt[1]);at<$&&($=at),pt>nt&&(nt=pt),Tt<st&&(st=Tt),Gt>rt&&(rt=Gt)}}):($=0,nt=0,st=0,rt=0),k=C($,st,nt-$,rt-st)}return F?R(k,F):k}function G(N,j){if(!(!N.getClip()&&!j.getClip())){var F=j.getClip();if(!F){N.setClip(null);return}var k={type:F.get("type"),attrs:F.attr()};N.setClip(k)}}function W(N){return N+"px"}function z(N,j,F,k){var $=E(N,j),nt=k/$,st=0;return F==="start"?st=0-nt:F==="end"&&(st=1+nt),{x:S(N.x,j.x,st),y:S(N.y,j.y,st)}}},L9IJ:function(wt,P,i){var d=i("XSdR");wt.exports=o;function o(b,x){return d.map(x,function(M){var D=b.inEdges(M);if(D.length){var C=d.reduce(D,function(S,O){var E=b.edge(O),I=b.node(O.v);return{sum:S.sum+E.weight*I.order,weight:S.weight+E.weight}},{sum:0,weight:0});return{v:M,barycenter:C.sum/C.weight,weight:C.weight}}else return{v:M}})}},LKUO:function(wt,P,i){"use strict";var d=i("g1AO"),o=Array.prototype.concat,b=Array.prototype.slice,x=wt.exports=function(D){for(var C=[],S=0,O=D.length;S<O;S++){var E=D[S];d(E)?C=o.call(C,b.call(E)):C.push(E)}return C};x.wrap=function(M){return function(){return M(x(arguments))}}},LRPA:function(wt,P,i){"use strict";i.d(P,"a",function(){return S});var d=i("J+IK"),o=i("Gc/9"),b=i("lCDx"),x=i("p6OM"),M=i("jg4I"),D={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(E,I){return""+Object(M.s)(I,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},C={appendPadding:2,tooltip:Object(d.a)({},D),animation:{}},S=function(O){Object(d.c)(E,O);function E(){var I=O!==null&&O.apply(this,arguments)||this;return I.type="tiny-column",I}return E.getDefaultOptions=function(){return C},E.prototype.changeData=function(I){this.updateOption({data:I});var A=this,R=A.chart,B=A.options;Object(x.b)({chart:R,options:B}),R.changeData(Object(b.a)(I))},E.prototype.getDefaultOptions=function(){return E.getDefaultOptions()},E.prototype.getSchemaAdaptor=function(){return x.a},E}(o.b)},LhfN:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("jg4I"),b=i("Zdy7"),x=i("tSnd"),M={},D="_INDEX";function C(R,B){if(R.set("canvas",B),R.isGroup()){var p=R.get("children");p.length&&p.forEach(function(G){C(G,B)})}}function S(R,B){if(R.set("timeline",B),R.isGroup()){var p=R.get("children");p.length&&p.forEach(function(G){S(G,B)})}}function O(R,B){var p=R.getChildren();return p.indexOf(B)>=0}function E(R,B,p){p===void 0&&(p=!0),p?B.destroy():(B.set("parent",null),B.set("canvas",null)),Object(x.j)(R.getChildren(),B)}function I(R){return function(B,p){var G=R(B,p);return G===0?B[D]-p[D]:G}}var A=function(R){Object(d.c)(B,R);function B(){return R!==null&&R.apply(this,arguments)||this}return B.prototype.isCanvas=function(){return!1},B.prototype.getBBox=function(){var p=Infinity,G=-Infinity,W=Infinity,z=-Infinity,N=[],j=[],F=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});F.length>0?(Object(x.a)(F,function($){var nt=$.getBBox();N.push(nt.minX,nt.maxX),j.push(nt.minY,nt.maxY)}),p=Object(o.Z)(N),G=Object(o.W)(N),W=Object(o.Z)(j),z=Object(o.W)(j)):(p=0,G=0,W=0,z=0);var k={x:p,y:W,minX:p,minY:W,maxX:G,maxY:z,width:G-p,height:z-W};return k},B.prototype.getCanvasBBox=function(){var p=Infinity,G=-Infinity,W=Infinity,z=-Infinity,N=[],j=[],F=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});F.length>0?(Object(x.a)(F,function($){var nt=$.getCanvasBBox();N.push(nt.minX,nt.maxX),j.push(nt.minY,nt.maxY)}),p=Object(o.Z)(N),G=Object(o.W)(N),W=Object(o.Z)(j),z=Object(o.W)(j)):(p=0,G=0,W=0,z=0);var k={x:p,y:W,minX:p,minY:W,maxX:G,maxY:z,width:G-p,height:z-W};return k},B.prototype.getDefaultCfg=function(){var p=R.prototype.getDefaultCfg.call(this);return p.children=[],p},B.prototype.onAttrChange=function(p,G,W){if(R.prototype.onAttrChange.call(this,p,G,W),p==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},B.prototype.applyMatrix=function(p){var G=this.getTotalMatrix();R.prototype.applyMatrix.call(this,p);var W=this.getTotalMatrix();W!==G&&this._applyChildrenMarix(W)},B.prototype._applyChildrenMarix=function(p){var G=this.getChildren();Object(x.a)(G,function(W){W.applyMatrix(p)})},B.prototype.addShape=function(){for(var p=[],G=0;G<arguments.length;G++)p[G]=arguments[G];var W=p[0],z=p[1];Object(x.f)(W)?z=W:z.type=W;var N=M[z.type];N||(N=Object(x.k)(z.type),M[z.type]=N);var j=this.getShapeBase(),F=new j[N](z);return this.add(F),F},B.prototype.addGroup=function(){for(var p=[],G=0;G<arguments.length;G++)p[G]=arguments[G];var W=p[0],z=p[1],N;if(Object(x.d)(W))z?N=new W(z):N=new W({parent:this});else{var j=W||{},F=this.getGroupBase();N=new F(j)}return this.add(N),N},B.prototype.getCanvas=function(){var p;return this.isCanvas()?p=this:p=this.get("canvas"),p},B.prototype.getShape=function(p,G,W){if(!Object(x.b)(this))return null;var z=this.getChildren(),N;if(this.isCanvas())N=this._findShape(z,p,G,W);else{var j=[p,G,1];j=this.invertFromMatrix(j),this.isClipped(j[0],j[1])||(N=this._findShape(z,j[0],j[1],W))}return N},B.prototype._findShape=function(p,G,W,z){for(var N=null,j=p.length-1;j>=0;j--){var F=p[j];if(Object(x.b)(F)&&(F.isGroup()?N=F.getShape(G,W,z):F.isHit(G,W)&&(N=F)),N)break}return N},B.prototype.add=function(p){var G=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),N=p.getParent();N&&E(N,p,!1),p.set("parent",this),G&&C(p,G),z&&S(p,z),W.push(p),p.onCanvasChange("add"),this._applyElementMatrix(p)},B.prototype._applyElementMatrix=function(p){var G=this.getTotalMatrix();G&&p.applyMatrix(G)},B.prototype.getChildren=function(){return this.get("children")},B.prototype.sort=function(){var p=this.getChildren();Object(x.a)(p,function(G,W){return G[D]=W,G}),p.sort(I(function(G,W){return G.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},B.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var p=this.getChildren(),G=p.length-1;G>=0;G--)p[G].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},B.prototype.destroy=function(){this.get("destroyed")||(this.clear(),R.prototype.destroy.call(this))},B.prototype.getFirst=function(){return this.getChildByIndex(0)},B.prototype.getLast=function(){var p=this.getChildren();return this.getChildByIndex(p.length-1)},B.prototype.getChildByIndex=function(p){var G=this.getChildren();return G[p]},B.prototype.getCount=function(){var p=this.getChildren();return p.length},B.prototype.contain=function(p){var G=this.getChildren();return G.indexOf(p)>-1},B.prototype.removeChild=function(p,G){G===void 0&&(G=!0),this.contain(p)&&p.remove(G)},B.prototype.findAll=function(p){var G=[],W=this.getChildren();return Object(x.a)(W,function(z){p(z)&&G.push(z),z.isGroup()&&(G=G.concat(z.findAll(p)))}),G},B.prototype.find=function(p){var G=null,W=this.getChildren();return Object(x.a)(W,function(z){if(p(z)?G=z:z.isGroup()&&(G=z.find(p)),G)return!1}),G},B.prototype.findById=function(p){return this.find(function(G){return G.get("id")===p})},B.prototype.findByClassName=function(p){return this.find(function(G){return G.get("className")===p})},B.prototype.findAllByName=function(p){return this.findAll(function(G){return G.get("name")===p})},B}(b.a);P.a=A},Lkm0:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("jg4I"),b=i("4Qiu"),x=i("08EK"),M={},D="_INDEX";function C(R,B){if(R.set("canvas",B),R.isGroup()){var p=R.get("children");p.length&&p.forEach(function(G){C(G,B)})}}function S(R,B){if(R.set("timeline",B),R.isGroup()){var p=R.get("children");p.length&&p.forEach(function(G){S(G,B)})}}function O(R,B){var p=R.getChildren();return p.indexOf(B)>=0}function E(R,B,p){p===void 0&&(p=!0),p?B.destroy():(B.set("parent",null),B.set("canvas",null)),Object(x.j)(R.getChildren(),B)}function I(R){return function(B,p){var G=R(B,p);return G===0?B[D]-p[D]:G}}var A=function(R){Object(d.c)(B,R);function B(){return R!==null&&R.apply(this,arguments)||this}return B.prototype.isCanvas=function(){return!1},B.prototype.getBBox=function(){var p=Infinity,G=-Infinity,W=Infinity,z=-Infinity,N=[],j=[],F=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});F.length>0?(Object(x.a)(F,function($){var nt=$.getBBox();N.push(nt.minX,nt.maxX),j.push(nt.minY,nt.maxY)}),p=Object(o.Z)(N),G=Object(o.W)(N),W=Object(o.Z)(j),z=Object(o.W)(j)):(p=0,G=0,W=0,z=0);var k={x:p,y:W,minX:p,minY:W,maxX:G,maxY:z,width:G-p,height:z-W};return k},B.prototype.getCanvasBBox=function(){var p=Infinity,G=-Infinity,W=Infinity,z=-Infinity,N=[],j=[],F=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});F.length>0?(Object(x.a)(F,function($){var nt=$.getCanvasBBox();N.push(nt.minX,nt.maxX),j.push(nt.minY,nt.maxY)}),p=Object(o.Z)(N),G=Object(o.W)(N),W=Object(o.Z)(j),z=Object(o.W)(j)):(p=0,G=0,W=0,z=0);var k={x:p,y:W,minX:p,minY:W,maxX:G,maxY:z,width:G-p,height:z-W};return k},B.prototype.getDefaultCfg=function(){var p=R.prototype.getDefaultCfg.call(this);return p.children=[],p},B.prototype.onAttrChange=function(p,G,W){if(R.prototype.onAttrChange.call(this,p,G,W),p==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},B.prototype.applyMatrix=function(p){var G=this.getTotalMatrix();R.prototype.applyMatrix.call(this,p);var W=this.getTotalMatrix();W!==G&&this._applyChildrenMarix(W)},B.prototype._applyChildrenMarix=function(p){var G=this.getChildren();Object(x.a)(G,function(W){W.applyMatrix(p)})},B.prototype.addShape=function(){for(var p=[],G=0;G<arguments.length;G++)p[G]=arguments[G];var W=p[0],z=p[1];Object(x.f)(W)?z=W:z.type=W;var N=M[z.type];N||(N=Object(x.k)(z.type),M[z.type]=N);var j=this.getShapeBase(),F=new j[N](z);return this.add(F),F},B.prototype.addGroup=function(){for(var p=[],G=0;G<arguments.length;G++)p[G]=arguments[G];var W=p[0],z=p[1],N;if(Object(x.d)(W))z?N=new W(z):N=new W({parent:this});else{var j=W||{},F=this.getGroupBase();N=new F(j)}return this.add(N),N},B.prototype.getCanvas=function(){var p;return this.isCanvas()?p=this:p=this.get("canvas"),p},B.prototype.getShape=function(p,G,W){if(!Object(x.b)(this))return null;var z=this.getChildren(),N;if(this.isCanvas())N=this._findShape(z,p,G,W);else{var j=[p,G,1];j=this.invertFromMatrix(j),this.isClipped(j[0],j[1])||(N=this._findShape(z,j[0],j[1],W))}return N},B.prototype._findShape=function(p,G,W,z){for(var N=null,j=p.length-1;j>=0;j--){var F=p[j];if(Object(x.b)(F)&&(F.isGroup()?N=F.getShape(G,W,z):F.isHit(G,W)&&(N=F)),N)break}return N},B.prototype.add=function(p){var G=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),N=p.getParent();N&&E(N,p,!1),p.set("parent",this),G&&C(p,G),z&&S(p,z),W.push(p),p.onCanvasChange("add"),this._applyElementMatrix(p)},B.prototype._applyElementMatrix=function(p){var G=this.getTotalMatrix();G&&p.applyMatrix(G)},B.prototype.getChildren=function(){return this.get("children")},B.prototype.sort=function(){var p=this.getChildren();Object(x.a)(p,function(G,W){return G[D]=W,G}),p.sort(I(function(G,W){return G.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},B.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var p=this.getChildren(),G=p.length-1;G>=0;G--)p[G].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},B.prototype.destroy=function(){this.get("destroyed")||(this.clear(),R.prototype.destroy.call(this))},B.prototype.getFirst=function(){return this.getChildByIndex(0)},B.prototype.getLast=function(){var p=this.getChildren();return this.getChildByIndex(p.length-1)},B.prototype.getChildByIndex=function(p){var G=this.getChildren();return G[p]},B.prototype.getCount=function(){var p=this.getChildren();return p.length},B.prototype.contain=function(p){var G=this.getChildren();return G.indexOf(p)>-1},B.prototype.removeChild=function(p,G){G===void 0&&(G=!0),this.contain(p)&&p.remove(G)},B.prototype.findAll=function(p){var G=[],W=this.getChildren();return Object(x.a)(W,function(z){p(z)&&G.push(z),z.isGroup()&&(G=G.concat(z.findAll(p)))}),G},B.prototype.find=function(p){var G=null,W=this.getChildren();return Object(x.a)(W,function(z){if(p(z)?G=z:z.isGroup()&&(G=z.find(p)),G)return!1}),G},B.prototype.findById=function(p){return this.find(function(G){return G.get("id")===p})},B.prototype.findByClassName=function(p){return this.find(function(G){return G.get("className")===p})},B.prototype.findAllByName=function(p){return this.findAll(function(G){return G.get("name")===p})},B}(b.a);P.a=A},LomN:function(wt,P,i){"use strict";i.d(P,"a",function(){return rt});var d=i("J+IK"),o=i("jg4I"),b=i("jFyH"),x={opacity:0},M={stroke:"#C5C5C5",strokeOpacity:.85},D={fill:"#CACED4",opacity:.85},C=i("WOt1"),S=i("6vWT");function O(Y){return Object(o.U)(Y,function(K,et){var ut=et===0?"M":"L",dt=K[0],vt=K[1];return[ut,dt,vt]})}function E(Y){return O(Y)}function I(Y){if(Y.length<=2)return E(Y);var K=[];Object(o.j)(Y,function(at){Object(o.G)(at,K.slice(K.length-2))||K.push(at[0],at[1])});var et=Object(C.a)(K,!1),ut=Object(o.y)(Y),dt=ut[0],vt=ut[1];return et.unshift(["M",dt,vt]),et}function A(Y,K,et,ut){ut===void 0&&(ut=!0);var dt=new S.b({values:Y}),vt=new S.a({values:Object(o.U)(Y,function(pt,Tt){return Tt})}),at=Object(o.U)(Y,function(pt,Tt){return[vt.scale(Tt)*K,et-dt.scale(pt)*et]});return ut?I(at):E(at)}function R(Y,K){var et=new S.b({values:Y}),ut=Math.max(0,et.min);return K-et.scale(ut)*K}function B(Y,K,et,ut){var dt=Object(d.g)(Y),vt=R(ut,et);return dt.push(["L",K,vt]),dt.push(["L",0,vt]),dt.push(["Z"]),dt}var p=function(Y){Object(d.c)(K,Y);function K(){return Y!==null&&Y.apply(this,arguments)||this}return K.prototype.getDefaultCfg=function(){var et=Y.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},et),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:x,lineStyle:M,areaStyle:D})},K.prototype.renderInner=function(et){var ut=this.cfg,dt=ut.width,vt=ut.height,at=ut.data,pt=ut.smooth,Tt=ut.isArea,Gt=ut.backgroundStyle,Kt=ut.lineStyle,Xt=ut.areaStyle;this.addShape(et,{id:this.getElementId("background"),type:"rect",attrs:Object(d.a)({x:0,y:0,width:dt,height:vt},Gt)});var gt=A(at,dt,vt,pt);if(this.addShape(et,{id:this.getElementId("line"),type:"path",attrs:Object(d.a)({path:gt},Kt)}),Tt){var lt=B(gt,dt,vt,at);this.addShape(et,{id:this.getElementId("area"),type:"path",attrs:Object(d.a)({path:lt},Xt)})}},K.prototype.applyOffset=function(){var et=this.cfg,ut=et.x,dt=et.y;this.moveElementTo(this.get("group"),{x:ut,y:dt})},K}(b.a),G=p,W={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},z=function(Y){Object(d.c)(K,Y);function K(){return Y!==null&&Y.apply(this,arguments)||this}return K.prototype.getDefaultCfg=function(){var et=Y.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},et),{name:"handler",x:0,y:0,width:10,height:24,style:W})},K.prototype.renderInner=function(et){var ut=this.cfg,dt=ut.width,vt=ut.height,at=ut.style,pt=at.fill,Tt=at.stroke,Gt=at.radius,Kt=at.opacity,Xt=at.cursor;this.addShape(et,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:dt,height:vt,fill:pt,stroke:Tt,radius:Gt,opacity:Kt,cursor:Xt}});var gt=1/3*dt,lt=2/3*dt,ft=1/4*vt,it=3/4*vt;this.addShape(et,{id:this.getElementId("line-left"),type:"line",attrs:{x1:gt,y1:ft,x2:gt,y2:it,stroke:Tt,cursor:Xt}}),this.addShape(et,{id:this.getElementId("line-right"),type:"line",attrs:{x1:lt,y1:ft,x2:lt,y2:it,stroke:Tt,cursor:Xt}})},K.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},K.prototype.initEvent=function(){this.bindEvents()},K.prototype.bindEvents=function(){var et=this;this.get("group").on("mouseenter",function(){var ut=et.get("style").highLightFill;et.getElementByLocalId("background").attr("fill",ut),et.draw()}),this.get("group").on("mouseleave",function(){var ut=et.get("style").fill;et.getElementByLocalId("background").attr("fill",ut),et.draw()})},K.prototype.draw=function(){var et=this.get("container").get("canvas");et&&et.draw()},K}(b.a),N=z,j={fill:"#416180",opacity:.05},F={fill:"#5B8FF9",opacity:.15,cursor:"move"},k=10,$={width:k,height:24},nt={textBaseline:"middle",fill:"#000",opacity:.45},st="sliderchange",rt=function(Y){Object(d.c)(K,Y);function K(){var et=Y!==null&&Y.apply(this,arguments)||this;return et.onMouseDown=function(ut){return function(dt){et.currentTarget=ut;var vt=dt.originalEvent;vt.stopPropagation(),vt.preventDefault(),et.prevX=Object(o.s)(vt,"touches.0.pageX",vt.pageX),et.prevY=Object(o.s)(vt,"touches.0.pageY",vt.pageY);var at=et.getContainerDOM();at.addEventListener("mousemove",et.onMouseMove),at.addEventListener("mouseup",et.onMouseUp),at.addEventListener("mouseleave",et.onMouseUp),at.addEventListener("touchmove",et.onMouseMove),at.addEventListener("touchend",et.onMouseUp),at.addEventListener("touchcancel",et.onMouseUp)}},et.onMouseMove=function(ut){var dt=et.cfg.width,vt=[et.get("start"),et.get("end")];ut.stopPropagation(),ut.preventDefault();var at=Object(o.s)(ut,"touches.0.pageX",ut.pageX),pt=Object(o.s)(ut,"touches.0.pageY",ut.pageY),Tt=at-et.prevX,Gt=et.adjustOffsetRange(Tt/dt);et.updateStartEnd(Gt),et.updateUI(et.getElementByLocalId("foreground"),et.getElementByLocalId("minText"),et.getElementByLocalId("maxText")),et.prevX=at,et.prevY=pt,et.draw(),et.emit(st,[et.get("start"),et.get("end")].sort()),et.delegateEmit("valuechanged",{originValue:vt,value:[et.get("start"),et.get("end")]})},et.onMouseUp=function(){et.currentTarget&&(et.currentTarget=void 0);var ut=et.getContainerDOM();ut&&(ut.removeEventListener("mousemove",et.onMouseMove),ut.removeEventListener("mouseup",et.onMouseUp),ut.removeEventListener("mouseleave",et.onMouseUp),ut.removeEventListener("touchmove",et.onMouseMove),ut.removeEventListener("touchend",et.onMouseUp),ut.removeEventListener("touchcancel",et.onMouseUp))},et}return K.prototype.setRange=function(et,ut){this.set("minLimit",et),this.set("maxLimit",ut);var dt=this.get("start"),vt=this.get("end"),at=Object(o.c)(dt,et,ut),pt=Object(o.c)(vt,et,ut);!this.get("isInit")&&(dt!==at||vt!==pt)&&this.setValue([at,pt])},K.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},K.prototype.setValue=function(et){var ut=this.getRange();if(Object(o.B)(et)&&et.length===2){var dt=[this.get("start"),this.get("end")];this.update({start:Object(o.c)(et[0],ut.min,ut.max),end:Object(o.c)(et[1],ut.min,ut.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:dt,value:et})}},K.prototype.getValue=function(){return[this.get("start"),this.get("end")]},K.prototype.getDefaultCfg=function(){var et=Y.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},et),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:j,foregroundStyle:F,handlerStyle:$,textStyle:nt}})},K.prototype.update=function(et){var ut=et.start,dt=et.end,vt=Object(d.a)({},et);Object(o.I)(ut)||(vt.start=Object(o.c)(ut,0,1)),Object(o.I)(dt)||(vt.end=Object(o.c)(dt,0,1)),Y.prototype.update.call(this,vt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},K.prototype.init=function(){this.set("start",Object(o.c)(this.get("start"),0,1)),this.set("end",Object(o.c)(this.get("end"),0,1)),Y.prototype.init.call(this)},K.prototype.render=function(){Y.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},K.prototype.renderInner=function(et){var ut=this.cfg,dt=ut.start,vt=ut.end,at=ut.width,pt=ut.height,Tt=ut.trendCfg,Gt=Tt===void 0?{}:Tt,Kt=ut.minText,Xt=ut.maxText,gt=ut.backgroundStyle,lt=gt===void 0?{}:gt,ft=ut.foregroundStyle,it=ft===void 0?{}:ft,bt=ut.textStyle,Dt=bt===void 0?{}:bt,Mt=Object(o.h)({},W,this.cfg.handlerStyle),q=dt*at,V=vt*at;Object(o.jb)(Object(o.s)(Gt,"data"))&&(this.trend=this.addComponent(et,Object(d.a)({component:p,id:this.getElementId("trend"),x:0,y:0,width:at,height:pt},Gt))),this.addShape(et,{id:this.getElementId("background"),type:"rect",attrs:Object(d.a)({x:0,y:0,width:at,height:pt},lt)});var ot=this.addShape(et,{id:this.getElementId("minText"),type:"text",attrs:Object(d.a)({y:pt/2,textAlign:"right",text:Kt,silent:!1},Dt)}),tt=this.addShape(et,{id:this.getElementId("maxText"),type:"text",attrs:Object(d.a)({y:pt/2,textAlign:"left",text:Xt,silent:!1},Dt)}),yt=this.addShape(et,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(d.a)({y:0,height:pt},it)}),Pt=Object(o.s)(Mt,"width",k),Ft=Object(o.s)(Mt,"height",24);this.minHandler=this.addComponent(et,{component:z,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(pt-Ft)/2,width:Pt,height:Ft,cursor:"ew-resize",style:Mt}),this.maxHandler=this.addComponent(et,{component:z,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(pt-Ft)/2,width:Pt,height:Ft,cursor:"ew-resize",style:Mt})},K.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},K.prototype.initEvent=function(){this.bindEvents()},K.prototype.updateUI=function(et,ut,dt){var vt=this.cfg,at=vt.start,pt=vt.end,Tt=vt.width,Gt=vt.minText,Kt=vt.maxText,Xt=vt.handlerStyle,gt=vt.height,lt=at*Tt,ft=pt*Tt;this.trend&&(this.trend.update({width:Tt,height:gt}),this.get("updateAutoRender")||this.trend.render()),et.attr("x",lt),et.attr("width",ft-lt);var it=Object(o.s)(Xt,"width",k);ut.attr("text",Gt),dt.attr("text",Kt);var bt=this._dodgeText([lt,ft],ut,dt),Dt=bt[0],Mt=bt[1];this.minHandler&&(this.minHandler.update({x:lt-it/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(o.j)(Dt,function(q,V){return ut.attr(V,q)}),this.maxHandler&&(this.maxHandler.update({x:ft-it/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(o.j)(Mt,function(q,V){return dt.attr(V,q)})},K.prototype.bindEvents=function(){var et=this.get("group");et.on("handler-min:mousedown",this.onMouseDown("minHandler")),et.on("handler-min:touchstart",this.onMouseDown("minHandler")),et.on("handler-max:mousedown",this.onMouseDown("maxHandler")),et.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var ut=et.findById(this.getElementId("foreground"));ut.on("mousedown",this.onMouseDown("foreground")),ut.on("touchstart",this.onMouseDown("foreground"))},K.prototype.adjustOffsetRange=function(et){var ut=this.cfg,dt=ut.start,vt=ut.end;switch(this.currentTarget){case"minHandler":{var at=0-dt,pt=1-dt;return Math.min(pt,Math.max(at,et))}case"maxHandler":{var at=0-vt,pt=1-vt;return Math.min(pt,Math.max(at,et))}case"foreground":{var at=0-dt,pt=1-vt;return Math.min(pt,Math.max(at,et))}}},K.prototype.updateStartEnd=function(et){var ut=this.cfg,dt=ut.start,vt=ut.end;switch(this.currentTarget){case"minHandler":dt+=et;break;case"maxHandler":vt+=et;break;case"foreground":dt+=et,vt+=et;break}this.set("start",dt),this.set("end",vt)},K.prototype._dodgeText=function(et,ut,dt){var vt,at,pt=this.cfg,Tt=pt.handlerStyle,Gt=pt.width,Kt=2,Xt=Object(o.s)(Tt,"width",k),gt=et[0],lt=et[1],ft=!1;gt>lt&&(vt=[lt,gt],gt=vt[0],lt=vt[1],at=[dt,ut],ut=at[0],dt=at[1],ft=!0);var it=ut.getBBox(),bt=dt.getBBox(),Dt=it.width>gt-Kt?{x:gt+Xt/2+Kt,textAlign:"left"}:{x:gt-Xt/2-Kt,textAlign:"right"},Mt=bt.width>Gt-lt-Kt?{x:lt-Xt/2-Kt,textAlign:"right"}:{x:lt+Xt/2+Kt,textAlign:"left"};return ft?[Mt,Dt]:[Dt,Mt]},K.prototype.draw=function(){var et=this.get("container"),ut=et&&et.get("canvas");ut&&ut.draw()},K.prototype.getContainerDOM=function(){var et=this.get("container"),ut=et&&et.get("canvas");return ut&&ut.get("container")},K}(b.a),Q=rt},LtIM:function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=i("jg4I");function o(b,x){return!Object(d.K)(b)||!Object(d.K)(x)?"-":b===x?"100%":b===0?"\u221E":x===0?"-\u221E":(100*x/b).toFixed(2)+"%"}},LxUj:function(wt,P,i){"use strict";var d=function(){function o(b,x){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=b,this.name=b,this.originalEvent=x,this.timeStamp=x.timeStamp}return o.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.prototype.toString=function(){var b=this.type;return"[Event (type="+b+")]"},o.prototype.save=function(){},o.prototype.restore=function(){},o}();P.a=d},"M1/f":function(wt,P,i){"use strict";i.d(P,"c",function(){return F}),i.d(P,"b",function(){return rt}),i.d(P,"a",function(){return Q});var d=i("Va47");function o(Y){var K=0,et=Y.children,ut=et&&et.length;if(!ut)K=1;else for(;--ut>=0;)K+=et[ut].value;Y.value=K}var b=function(){return this.eachAfter(o)},x=i("qJJX"),M=function(Y,K){var et=-1,ut=Object(x.a)(this),dt;try{for(ut.s();!(dt=ut.n()).done;){var vt=dt.value;Y.call(K,vt,++et,this)}}catch(at){ut.e(at)}finally{ut.f()}return this},D=function(Y,K){for(var et=this,ut=[et],dt,vt,at=-1;et=ut.pop();)if(Y.call(K,et,++at,this),dt=et.children)for(vt=dt.length-1;vt>=0;--vt)ut.push(dt[vt]);return this},C=function(Y,K){for(var et=this,ut=[et],dt=[],vt,at,pt,Tt=-1;et=ut.pop();)if(dt.push(et),vt=et.children)for(at=0,pt=vt.length;at<pt;++at)ut.push(vt[at]);for(;et=dt.pop();)Y.call(K,et,++Tt,this);return this},S=function(Y,K){var et=-1,ut=Object(x.a)(this),dt;try{for(ut.s();!(dt=ut.n()).done;){var vt=dt.value;if(Y.call(K,vt,++et,this))return vt}}catch(at){ut.e(at)}finally{ut.f()}},O=function(Y){return this.eachAfter(function(K){for(var et=+Y(K.data)||0,ut=K.children,dt=ut&&ut.length;--dt>=0;)et+=ut[dt].value;K.value=et})},E=function(Y){return this.eachBefore(function(K){K.children&&K.children.sort(Y)})},I=function(Y){for(var K=this,et=A(K,Y),ut=[K];K!==et;)K=K.parent,ut.push(K);for(var dt=ut.length;Y!==et;)ut.splice(dt,0,Y),Y=Y.parent;return ut};function A(Y,K){if(Y===K)return Y;var et=Y.ancestors(),ut=K.ancestors(),dt=null;for(Y=et.pop(),K=ut.pop();Y===K;)dt=Y,Y=et.pop(),K=ut.pop();return dt}var R=function(){for(var Y=this,K=[Y];Y=Y.parent;)K.push(Y);return K},B=function(){return Array.from(this)},p=function(){var Y=[];return this.eachBefore(function(K){K.children||Y.push(K)}),Y},G=function(){var Y=this,K=[];return Y.each(function(et){et!==Y&&K.push({source:et.parent,target:et})}),K},W=i("4Wd/"),z=i.n(W),N=z.a.mark(j);function j(){var Y,K,et,ut,dt,vt;return z.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:Y=this,et=[Y];case 1:K=et.reverse(),et=[];case 2:if(!(Y=K.pop())){pt.next=8;break}return pt.next=5,Y;case 5:if(ut=Y.children)for(dt=0,vt=ut.length;dt<vt;++dt)et.push(ut[dt]);pt.next=2;break;case 8:if(et.length){pt.next=1;break}case 9:case"end":return pt.stop()}},N,this)}function F(Y,K){Y instanceof Map?(Y=[void 0,Y],K===void 0&&(K=nt)):K===void 0&&(K=$);for(var et=new Q(Y),ut,dt=[et],vt,at,pt,Tt;ut=dt.pop();)if((at=K(ut.data))&&(Tt=(at=Array.from(at)).length))for(ut.children=at,pt=Tt-1;pt>=0;--pt)dt.push(vt=at[pt]=new Q(at[pt])),vt.parent=ut,vt.depth=ut.depth+1;return et.eachBefore(rt)}function k(){return F(this).eachBefore(st)}function $(Y){return Y.children}function nt(Y){return Array.isArray(Y)?Y[1]:null}function st(Y){Y.data.value!==void 0&&(Y.value=Y.data.value),Y.data=Y.data.data}function rt(Y){var K=0;do Y.height=K;while((Y=Y.parent)&&Y.height<++K)}function Q(Y){this.data=Y,this.depth=this.height=0,this.parent=null}Q.prototype=F.prototype=Object(d.a)({constructor:Q,count:b,each:M,eachAfter:C,eachBefore:D,find:S,sum:O,sort:E,path:I,ancestors:R,descendants:B,leaves:p,links:G,copy:k},Symbol.iterator,j)},MGR1:function(wt,P){wt.exports=i;function i(d,o){return d[0]=-o[0],d[1]=-o[1],d}},MPYE:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SensorTabIndex=P.SensorClassName=P.SizeSensorId=void 0;var d="size-sensor-id";P.SizeSensorId=d;var o="size-sensor-object";P.SensorClassName=o;var b="-1";P.SensorTabIndex=b},MbSy:function(wt,P,i){var d=i("cvn4"),o=Math.max;function b(x,M,D){return M=o(M===void 0?x.length-1:M,0),function(){for(var C=arguments,S=-1,O=o(C.length-M,0),E=Array(O);++S<O;)E[S]=C[M+S];S=-1;for(var I=Array(M+1);++S<M;)I[S]=C[S];return I[M]=D(E),d(x,this,I)}}wt.exports=b},MciM:function(wt,P,i){"use strict";i.d(P,"a",function(){return b});var d=i("99LQ"),o=i("oq+b");function b(x){for(var M=new o.a,D=d.e.fromValues(x[0],x[1],x[2]),C=d.e.fromValues(x[0],x[1],x[2]),S=3;S<x.length;){var O=x[S++],E=x[S++],I=x[S++];O<D[0]&&(D[0]=O),E<D[1]&&(D[1]=E),I<D[2]&&(D[2]=I),O>C[0]&&(C[0]=O),E>C[1]&&(C[1]=E),I>C[2]&&(C[2]=I)}return M.setMinMax(D,C),M}},MriG:function(wt,P,i){"use strict";i.d(P,"a",function(){return C});var d=i("J+IK"),o=i("Gc/9"),b=i("lCDx"),x=i("x7X8"),M=i("rwKT"),D={appendPadding:2,tooltip:Object(d.a)({},M.b),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},C=function(S){Object(d.c)(O,S);function O(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="tiny-area",E}return O.getDefaultOptions=function(){return D},O.prototype.changeData=function(E){this.updateOption({data:E});var I=this,A=I.chart,R=I.options;Object(x.b)({chart:A,options:R}),A.changeData(Object(b.a)(E))},O.prototype.getDefaultOptions=function(){return O.getDefaultOptions()},O.prototype.getSchemaAdaptor=function(){return x.a},O}(o.b)},Mz7Q:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.unmanaged=void 0;var d=i("9L8m"),o=i("rMkn"),b=i("ZLnY");function x(){return function(M,D,C){var S=new o.Metadata(d.UNMANAGED_TAG,!0);b.tagParameter(M,D,C,S)}}P.unmanaged=x},N8ZQ:function(wt,P,i){"use strict";i.d(P,"a",function(){return x});var d=i("J+IK"),o=i("18og"),b=[1,0,0,0,1,0,0,0,1];function x(M,D){var C=D?Object(d.g)(D):Object(d.g)(b);return o.Util.transform(C,M)}},NA5Q:function(wt,P){function i(d,o){return d<o}wt.exports=i},NFwm:function(wt,P,i){var d=i("TxJF"),o=i("1ImO"),b=i("hQ5t"),x=i("+Gi7");function M(D,C){var S=x(D)?d:o;return S(D,b(C,3))}wt.exports=M},NNdr:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var d=1,o=function(){return"".concat(d++)};P.default=o},NT8r:function(wt,P){},NbNK:function(wt,P){function i(d,o,b,x,M){return M(d,function(D,C,S){b=x?(x=!1,D):o(b,D,C,S)}),b}wt.exports=i},NmxA:function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=i("jg4I");function o(b,x){if(b===!1)return{fields:!1};var M=Object(d.s)(b,"fields"),D=Object(d.s)(b,"formatter");return D&&!M&&(M=x),{fields:M,formatter:D}}},Npd2:function(wt,P,i){var d=i("3FqU"),o=i("ZU2r"),b=i("sCLo"),x=i("qXph"),M=i("zftb"),D=i("VL8K"),C=i("+Gi7"),S=i("wvSg"),O=i("lDzS"),E=i("wmqP"),I=i("E5vS"),A=i("LtJ/"),R=i("lOrw"),B=i("TKkZ"),p=i("k7N2");function G(W,z,N,j,F,k,$){var nt=B(W,N),st=B(z,N),rt=$.get(st);if(rt){d(W,N,rt);return}var Q=k?k(nt,st,N+"",W,z,$):void 0,Y=Q===void 0;if(Y){var K=C(st),et=!K&&O(st),ut=!K&&!et&&R(st);Q=st,K||et||ut?C(nt)?Q=nt:S(nt)?Q=x(nt):et?(Y=!1,Q=o(st,!0)):ut?(Y=!1,Q=b(st,!0)):Q=[]:A(st)||D(st)?(Q=nt,D(nt)?Q=p(nt):(!I(nt)||E(nt))&&(Q=M(st))):Y=!1}Y&&($.set(st,Q),F(Q,st,j,k,$),$.delete(st)),d(W,N,Q)}wt.exports=G},Nqgf:function(wt,P,i){"use strict";i.r(P),i.d(P,"Base",function(){return S}),i.d(P,"Circle",function(){return E}),i.d(P,"Ellipse",function(){return R}),i.d(P,"Image",function(){return G}),i.d(P,"Line",function(){return F}),i.d(P,"Marker",function(){return rt}),i.d(P,"Path",function(){return ft}),i.d(P,"Polygon",function(){return Dt}),i.d(P,"Polyline",function(){return q}),i.d(P,"Rect",function(){return Pt}),i.d(P,"Text",function(){return Wt});var d={};i.r(d),i.d(d,"Base",function(){return S}),i.d(d,"Circle",function(){return E}),i.d(d,"Ellipse",function(){return R}),i.d(d,"Image",function(){return G}),i.d(d,"Line",function(){return F}),i.d(d,"Marker",function(){return rt}),i.d(d,"Path",function(){return ft}),i.d(d,"Polygon",function(){return Dt}),i.d(d,"Polyline",function(){return q}),i.d(d,"Rect",function(){return Pt}),i.d(d,"Text",function(){return Wt});var o=i("J+IK"),b=i("U8wd"),x=i("bsNZ"),M=i("K0hn"),D=i("nl+T"),C=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Lt.prototype.getShapeBase=function(){return d},Lt.prototype.getGroupBase=function(){return D.a},Lt.prototype.onCanvasChange=function(Ct){Object(M.h)(this,Ct)},Lt.prototype.calculateBBox=function(){var Ct=this.get("type"),_=this.getHitLineWidth(),It=Object(b.getBBoxMethod)(Ct),Rt=It(this),xt=_/2,Nt=Rt.x-xt,Ht=Rt.y-xt,jt=Rt.x+Rt.width+xt,Ut=Rt.y+Rt.height+xt;return{x:Nt,minX:Nt,y:Ht,minY:Ht,width:Rt.width+_,height:Rt.height+_,maxX:jt,maxY:Ut}},Lt.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},Lt.prototype.isStroke=function(){return!!this.attrs.stroke},Lt.prototype._applyClip=function(Ct,_){_&&(Ct.save(),Object(M.a)(Ct,_),_.createPath(Ct),Ct.restore(),Ct.clip(),_._afterDraw())},Lt.prototype.draw=function(Ct,_){var It=this.cfg.clipShape;if(_){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var Rt=this.getCanvasBBox();if(!Object(x.f)(_,Rt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}Ct.save(),Object(M.a)(Ct,this),this._applyClip(Ct,It),this.drawPath(Ct),Ct.restore(),this._afterDraw()},Lt.prototype.getCanvasViewBox=function(){var Ct=this.cfg.canvas;return Ct?Ct.getViewRange():null},Lt.prototype.cacheCanvasBBox=function(){var Ct=this.getCanvasViewBox();if(Ct){var _=this.getCanvasBBox(),It=Object(x.f)(_,Ct);this.set("isInView",It),It?this.set("cacheCanvasBBox",_):this.set("cacheCanvasBBox",null)}},Lt.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},Lt.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},Lt.prototype.drawPath=function(Ct){this.createPath(Ct),this.strokeAndFill(Ct),this.afterDrawPath(Ct)},Lt.prototype.fill=function(Ct){Ct.fill()},Lt.prototype.stroke=function(Ct){Ct.stroke()},Lt.prototype.strokeAndFill=function(Ct){var _=this.attrs,It=_.lineWidth,Rt=_.opacity,xt=_.strokeOpacity,Nt=_.fillOpacity;this.isFill()&&(!Object(x.i)(Nt)&&Nt!==1?(Ct.globalAlpha=Nt,this.fill(Ct),Ct.globalAlpha=Rt):this.fill(Ct)),this.isStroke()&&It>0&&(!Object(x.i)(xt)&&xt!==1&&(Ct.globalAlpha=xt),this.stroke(Ct)),this.afterDrawPath(Ct)},Lt.prototype.createPath=function(Ct){},Lt.prototype.afterDrawPath=function(Ct){},Lt.prototype.isInShape=function(Ct,_){var It=this.isStroke(),Rt=this.isFill(),xt=this.getHitLineWidth();return this.isInStrokeOrPath(Ct,_,It,Rt,xt)},Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){return!1},Lt.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var Ct=this.attrs;return Ct.lineWidth+Ct.lineAppendWidth},Lt}(b.AbstractShape),S=C,O=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{x:0,y:0,r:0})},Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){var Nt=this.attr(),Ht=Nt.x,jt=Nt.y,Ut=Nt.r,Jt=xt/2,se=Object(x.b)(Ht,jt,Ct,_);return Rt&&It?se<=Ut+Jt:Rt?se<=Ut:It?se>=Ut-Jt&&se<=Ut+Jt:!1},Lt.prototype.createPath=function(Ct){var _=this.attr(),It=_.x,Rt=_.y,xt=_.r;Ct.beginPath(),Ct.arc(It,Rt,xt,0,Math.PI*2,!1),Ct.closePath()},Lt}(S),E=O;function I(Vt,Lt,Ct,_){return Vt/(Ct*Ct)+Lt/(_*_)}var A=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{x:0,y:0,rx:0,ry:0})},Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){var Nt=this.attr(),Ht=xt/2,jt=Nt.x,Ut=Nt.y,Jt=Nt.rx,se=Nt.ry,me=(Ct-jt)*(Ct-jt),Me=(_-Ut)*(_-Ut);return Rt&&It?I(me,Me,Jt+Ht,se+Ht)<=1:Rt?I(me,Me,Jt,se)<=1:It?I(me,Me,Jt-Ht,se-Ht)>=1&&I(me,Me,Jt+Ht,se+Ht)<=1:!1},Lt.prototype.createPath=function(Ct){var _=this.attr(),It=_.x,Rt=_.y,xt=_.rx,Nt=_.ry;if(Ct.beginPath(),Ct.ellipse)Ct.ellipse(It,Rt,xt,Nt,0,0,Math.PI*2,!1);else{var Ht=xt>Nt?xt:Nt,jt=xt>Nt?1:xt/Nt,Ut=xt>Nt?Nt/xt:1;Ct.save(),Ct.translate(It,Rt),Ct.scale(jt,Ut),Ct.arc(0,0,Ht,0,Math.PI*2),Ct.restore(),Ct.closePath()}},Lt}(S),R=A;function B(Vt){return Vt instanceof HTMLElement&&Object(x.k)(Vt.nodeName)&&Vt.nodeName.toUpperCase()==="CANVAS"}var p=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{x:0,y:0,width:0,height:0})},Lt.prototype.initAttrs=function(Ct){this._setImage(Ct.img)},Lt.prototype.isStroke=function(){return!1},Lt.prototype.isOnlyHitBox=function(){return!0},Lt.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var Ct=this.get("canvas");Ct?Ct.draw():this.createPath(this.get("context"))}},Lt.prototype._setImage=function(Ct){var _=this,It=this.attrs;if(Object(x.k)(Ct)){var Rt=new Image;Rt.onload=function(){if(_.destroyed)return!1;_.attr("img",Rt),_.set("loading",!1),_._afterLoading();var xt=_.get("callback");xt&&xt.call(_)},Rt.crossOrigin="Anonymous",Rt.src=Ct,this.set("loading",!0)}else Ct instanceof Image?(It.width||(It.width=Ct.width),It.height||(It.height=Ct.height)):B(Ct)&&(It.width||(It.width=Number(Ct.getAttribute("width"))),It.height||(It.height,Number(Ct.getAttribute("height"))))},Lt.prototype.onAttrChange=function(Ct,_,It){Vt.prototype.onAttrChange.call(this,Ct,_,It),Ct==="img"&&this._setImage(_)},Lt.prototype.createPath=function(Ct){if(this.get("loading")){this.set("toDraw",!0),this.set("context",Ct);return}var _=this.attr(),It=_.x,Rt=_.y,xt=_.width,Nt=_.height,Ht=_.sx,jt=_.sy,Ut=_.swidth,Jt=_.sheight,se=_.img;(se instanceof Image||B(se))&&(!Object(x.i)(Ht)&&!Object(x.i)(jt)&&!Object(x.i)(Ut)&&!Object(x.i)(Jt)?Ct.drawImage(se,Ht,jt,Ut,Jt,It,Rt,xt,Nt):Ct.drawImage(se,It,Rt,xt,Nt))},Lt}(S),G=p,W=i("9pBU");function z(Vt,Lt,Ct,_,It,Rt,xt){var Nt=Math.min(Vt,Ct),Ht=Math.max(Vt,Ct),jt=Math.min(Lt,_),Ut=Math.max(Lt,_),Jt=It/2;return Rt>=Nt-Jt&&Rt<=Ht+Jt&&xt>=jt-Jt&&xt<=Ut+Jt?W.c.pointToLine(Vt,Lt,Ct,_,Rt,xt)<=It/2:!1}var N=i("Oru/"),j=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Lt.prototype.initAttrs=function(Ct){this.setArrow()},Lt.prototype.onAttrChange=function(Ct,_,It){Vt.prototype.onAttrChange.call(this,Ct,_,It),this.setArrow()},Lt.prototype.setArrow=function(){var Ct=this.attr(),_=Ct.x1,It=Ct.y1,Rt=Ct.x2,xt=Ct.y2,Nt=Ct.startArrow,Ht=Ct.endArrow;Nt&&N.b(this,Ct,Rt,xt,_,It),Ht&&N.a(this,Ct,_,It,Rt,xt)},Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){if(!It||!xt)return!1;var Nt=this.attr(),Ht=Nt.x1,jt=Nt.y1,Ut=Nt.x2,Jt=Nt.y2;return z(Ht,jt,Ut,Jt,xt,Ct,_)},Lt.prototype.createPath=function(Ct){var _=this.attr(),It=_.x1,Rt=_.y1,xt=_.x2,Nt=_.y2,Ht=_.startArrow,jt=_.endArrow,Ut={dx:0,dy:0},Jt={dx:0,dy:0};Ht&&Ht.d&&(Ut=N.c(It,Rt,xt,Nt,_.startArrow.d)),jt&&jt.d&&(Jt=N.c(It,Rt,xt,Nt,_.endArrow.d)),Ct.beginPath(),Ct.moveTo(It+Ut.dx,Rt+Ut.dy),Ct.lineTo(xt-Jt.dx,Nt-Jt.dy)},Lt.prototype.afterDrawPath=function(Ct){var _=this.get("startArrowShape"),It=this.get("endArrowShape");_&&_.draw(Ct),It&&It.draw(Ct)},Lt.prototype.getTotalLength=function(){var Ct=this.attr(),_=Ct.x1,It=Ct.y1,Rt=Ct.x2,xt=Ct.y2;return W.c.length(_,It,Rt,xt)},Lt.prototype.getPoint=function(Ct){var _=this.attr(),It=_.x1,Rt=_.y1,xt=_.x2,Nt=_.y2;return W.c.pointAt(It,Rt,xt,Nt,Ct)},Lt}(S),F=j,k=i("jg4I"),$=i("WOt1"),nt={circle:function(Lt,Ct,_){return[["M",Lt-_,Ct],["A",_,_,0,1,0,Lt+_,Ct],["A",_,_,0,1,0,Lt-_,Ct]]},square:function(Lt,Ct,_){return[["M",Lt-_,Ct-_],["L",Lt+_,Ct-_],["L",Lt+_,Ct+_],["L",Lt-_,Ct+_],["Z"]]},diamond:function(Lt,Ct,_){return[["M",Lt-_,Ct],["L",Lt,Ct-_],["L",Lt+_,Ct],["L",Lt,Ct+_],["Z"]]},triangle:function(Lt,Ct,_){var It=_*Math.sin(1/3*Math.PI);return[["M",Lt-_,Ct+It],["L",Lt,Ct-It],["L",Lt+_,Ct+It],["Z"]]},"triangle-down":function(Lt,Ct,_){var It=_*Math.sin(1/3*Math.PI);return[["M",Lt-_,Ct-It],["L",Lt+_,Ct-It],["L",Lt,Ct+It],["Z"]]}},st=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.initAttrs=function(Ct){this._resetParamsCache()},Lt.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Lt.prototype.onAttrChange=function(Ct,_,It){Vt.prototype.onAttrChange.call(this,Ct,_,It),["symbol","x","y","r","radius"].indexOf(Ct)!==-1&&this._resetParamsCache()},Lt.prototype.isOnlyHitBox=function(){return!0},Lt.prototype._getR=function(Ct){return Object(k.I)(Ct.r)?Ct.radius:Ct.r},Lt.prototype._getPath=function(){var Ct=this.attr(),_=Ct.x,It=Ct.y,Rt=Ct.symbol||"circle",xt=this._getR(Ct),Nt,Ht;if(Object(x.h)(Rt))Nt=Rt,Ht=Nt(_,It,xt),Ht=Object($.d)(Ht);else{if(Nt=Lt.Symbols[Rt],!Nt)return console.warn(Rt+" marker is not supported."),null;Ht=Nt(_,It,xt)}return Ht},Lt.prototype.createPath=function(Ct){var _=this._getPath(),It=this.get("paramsCache");Object(M.e)(this,Ct,{path:_},It)},Lt.Symbols=nt,Lt}(S),rt=st;function Q(Vt,Lt,Ct){var _=Object(b.getOffScreenContext)();return Vt.createPath(_),_.isPointInPath(Lt,Ct)}var Y=1e-6;function K(Vt){return Math.abs(Vt)<Y?0:Vt<0?-1:1}function et(Vt,Lt,Ct){return(Ct[0]-Vt[0])*(Lt[1]-Vt[1])==(Lt[0]-Vt[0])*(Ct[1]-Vt[1])&&Math.min(Vt[0],Lt[0])<=Ct[0]&&Ct[0]<=Math.max(Vt[0],Lt[0])&&Math.min(Vt[1],Lt[1])<=Ct[1]&&Ct[1]<=Math.max(Vt[1],Lt[1])}function ut(Vt,Lt,Ct){var _=!1,It=Vt.length;if(It<=2)return!1;for(var Rt=0;Rt<It;Rt++){var xt=Vt[Rt],Nt=Vt[(Rt+1)%It];if(et(xt,Nt,[Lt,Ct]))return!0;K(xt[1]-Ct)>0!=K(Nt[1]-Ct)>0&&K(Lt-(Ct-xt[1])*(xt[0]-Nt[0])/(xt[1]-Nt[1])-xt[0])<0&&(_=!_)}return _}var dt=i("sxZn"),vt=i("gCNn");function at(Vt,Lt,Ct,_,It,Rt,xt,Nt){var Ht=(Math.atan2(Nt-Lt,xt-Vt)+Math.PI*2)%(Math.PI*2);if(Ht<_||Ht>It)return!1;var jt={x:Vt+Ct*Math.cos(Ht),y:Lt+Ct*Math.sin(Ht)};return Object(x.b)(jt.x,jt.y,xt,Nt)<=Rt/2}var pt=dt.a.transform;function Tt(Vt){for(var Lt=!1,Ct=Vt.length,_=0;_<Ct;_++){var It=Vt[_],Rt=It[0];if(Rt==="C"||Rt==="A"||Rt==="Q"){Lt=!0;break}}return Lt}function Gt(Vt,Lt,Ct,_,It){for(var Rt=!1,xt=Lt/2,Nt=0;Nt<Vt.length;Nt++){var Ht=Vt[Nt],jt=Ht.currentPoint,Ut=Ht.params,Jt=Ht.prePoint,se=Ht.box;if(!(se&&!Object(x.e)(se.x-xt,se.y-xt,se.width+Lt,se.height+Lt,Ct,_))){switch(Ht.command){case"L":case"Z":Rt=z(Jt[0],Jt[1],jt[0],jt[1],Lt,Ct,_);break;case"Q":var me=W.e.pointDistance(Jt[0],Jt[1],Ut[1],Ut[2],Ut[3],Ut[4],Ct,_);Rt=me<=Lt/2;break;case"C":var Me=W.b.pointDistance(Jt[0],Jt[1],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5],Ut[6],Ct,_,It);Rt=Me<=Lt/2;break;case"A":var Pe=Ht.arcParams,Ge=Pe.cx,nr=Pe.cy,gr=Pe.rx,or=Pe.ry,Ze=Pe.startAngle,mr=Pe.endAngle,Nr=Pe.xRotation,Mr=[Ct,_,1],vn=gr>or?gr:or,Ln=gr>or?1:gr/or,We=gr>or?or/gr:1,Ye=pt(null,[["t",-Ge,-nr],["r",-Nr],["s",1/Ln,1/We]]);vt.transformMat3(Mr,Mr,Ye),Rt=at(0,0,vn,Ze,mr,Lt,Mr[0],Mr[1]);break;default:break}if(Rt)break}}return Rt}function Kt(Vt){for(var Lt=Vt.length,Ct=[],_=[],It=[],Rt=0;Rt<Lt;Rt++){var xt=Vt[Rt],Nt=xt[0];Nt==="M"?(It.length&&(_.push(It),It=[]),It.push([xt[1],xt[2]])):Nt==="Z"?It.length&&(Ct.push(It),It=[]):It.push([xt[1],xt[2]])}return It.length>0&&_.push(It),{polygons:Ct,polylines:_}}var Xt=Object(o.a)({hasArc:Tt,extractPolygons:Kt,isPointInStroke:Gt},b.PathUtil);function gt(Vt,Lt,Ct){for(var _=!1,It=0;It<Vt.length;It++){var Rt=Vt[It];if(_=ut(Rt,Lt,Ct),_)break}return _}var lt=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{startArrow:!1,endArrow:!1})},Lt.prototype.initAttrs=function(Ct){this._setPathArr(Ct.path),this.setArrow()},Lt.prototype.onAttrChange=function(Ct,_,It){Vt.prototype.onAttrChange.call(this,Ct,_,It),Ct==="path"&&this._setPathArr(_),this.setArrow()},Lt.prototype._setPathArr=function(Ct){this.attrs.path=Object($.d)(Ct);var _=Xt.hasArc(Ct);this.set("hasArc",_),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Lt.prototype.getSegments=function(){var Ct=this.get("segements");return Ct||(Ct=Object($.e)(this.attr("path")),this.set("segments",Ct)),Ct},Lt.prototype.setArrow=function(){var Ct=this.attr(),_=Ct.startArrow,It=Ct.endArrow;if(_){var Rt=this.getStartTangent();N.b(this,Ct,Rt[0][0],Rt[0][1],Rt[1][0],Rt[1][1])}if(It){var Rt=this.getEndTangent();N.a(this,Ct,Rt[0][0],Rt[0][1],Rt[1][0],Rt[1][1])}},Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){var Nt=this.getSegments(),Ht=this.get("hasArc"),jt=!1;if(It){var Ut=this.getTotalLength();jt=Xt.isPointInStroke(Nt,xt,Ct,_,Ut)}if(!jt&&Rt)if(Ht)jt=Q(this,Ct,_);else{var Jt=this.attr("path"),se=Xt.extractPolygons(Jt);jt=gt(se.polygons,Ct,_)||gt(se.polylines,Ct,_)}return jt},Lt.prototype.createPath=function(Ct){var _=this.attr(),It=this.get("paramsCache");Object(M.e)(this,Ct,_,It)},Lt.prototype.afterDrawPath=function(Ct){var _=this.get("startArrowShape"),It=this.get("endArrowShape");_&&_.draw(Ct),It&&It.draw(Ct)},Lt.prototype.getTotalLength=function(){var Ct=this.get("totalLength");return Object(k.I)(Ct)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):Ct},Lt.prototype.getPoint=function(Ct){var _=this.get("tCache");_||(this._calculateCurve(),this._setTcache(),_=this.get("tCache"));var It,Rt,xt=this.get("curve");if(!_||_.length===0)return xt?{x:xt[0][1],y:xt[0][2]}:null;Object(k.j)(_,function(Ut,Jt){Ct>=Ut[0]&&Ct<=Ut[1]&&(It=(Ct-Ut[0])/(Ut[1]-Ut[0]),Rt=Jt)});var Nt=xt[Rt];if(Object(k.I)(Nt)||Object(k.I)(Rt))return null;var Ht=Nt.length,jt=xt[Rt+1];return W.b.pointAt(Nt[Ht-2],Nt[Ht-1],jt[1],jt[2],jt[3],jt[4],jt[5],jt[6],It)},Lt.prototype._calculateCurve=function(){var Ct=this.attr().path;this.set("curve",Xt.pathToCurve(Ct))},Lt.prototype._setTcache=function(){var Ct=0,_=0,It=[],Rt,xt,Nt,Ht,jt=this.get("curve");if(!!jt){if(Object(k.j)(jt,function(Ut,Jt){Nt=jt[Jt+1],Ht=Ut.length,Nt&&(Ct+=W.b.length(Ut[Ht-2],Ut[Ht-1],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6])||0)}),this.set("totalLength",Ct),Ct===0){this.set("tCache",[]);return}Object(k.j)(jt,function(Ut,Jt){Nt=jt[Jt+1],Ht=Ut.length,Nt&&(Rt=[],Rt[0]=_/Ct,xt=W.b.length(Ut[Ht-2],Ut[Ht-1],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6]),_+=xt||0,Rt[1]=_/Ct,It.push(Rt))}),this.set("tCache",It)}},Lt.prototype.getStartTangent=function(){var Ct=this.getSegments(),_;if(Ct.length>1){var It=Ct[0].currentPoint,Rt=Ct[1].currentPoint,xt=Ct[1].startTangent;_=[],xt?(_.push([It[0]-xt[0],It[1]-xt[1]]),_.push([It[0],It[1]])):(_.push([Rt[0],Rt[1]]),_.push([It[0],It[1]]))}return _},Lt.prototype.getEndTangent=function(){var Ct=this.getSegments(),_=Ct.length,It;if(_>1){var Rt=Ct[_-2].currentPoint,xt=Ct[_-1].currentPoint,Nt=Ct[_-1].endTangent;It=[],Nt?(It.push([xt[0]-Nt[0],xt[1]-Nt[1]]),It.push([xt[0],xt[1]])):(It.push([Rt[0],Rt[1]]),It.push([xt[0],xt[1]]))}return It},Lt}(S),ft=lt;function it(Vt,Lt,Ct,_,It){var Rt=Vt.length;if(Rt<2)return!1;for(var xt=0;xt<Rt-1;xt++){var Nt=Vt[xt][0],Ht=Vt[xt][1],jt=Vt[xt+1][0],Ut=Vt[xt+1][1];if(z(Nt,Ht,jt,Ut,Lt,Ct,_))return!0}if(It){var Jt=Vt[0],se=Vt[Rt-1];if(z(Jt[0],Jt[1],se[0],se[1],Lt,Ct,_))return!0}return!1}var bt=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){var Nt=this.attr().points,Ht=!1;return It&&(Ht=it(Nt,xt,Ct,_,!0)),!Ht&&Rt&&(Ht=ut(Nt,Ct,_)),Ht},Lt.prototype.createPath=function(Ct){var _=this.attr(),It=_.points;if(!(It.length<2)){Ct.beginPath();for(var Rt=0;Rt<It.length;Rt++){var xt=It[Rt];Rt===0?Ct.moveTo(xt[0],xt[1]):Ct.lineTo(xt[0],xt[1])}Ct.closePath()}},Lt}(S),Dt=bt,Mt=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{startArrow:!1,endArrow:!1})},Lt.prototype.initAttrs=function(Ct){this.setArrow()},Lt.prototype.onAttrChange=function(Ct,_,It){Vt.prototype.onAttrChange.call(this,Ct,_,It),this.setArrow(),["points"].indexOf(Ct)!==-1&&this._resetCache()},Lt.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Lt.prototype.setArrow=function(){var Ct=this.attr(),_=this.attrs,It=_.points,Rt=_.startArrow,xt=_.endArrow,Nt=It.length,Ht=It[0][0],jt=It[0][1],Ut=It[Nt-1][0],Jt=It[Nt-1][1];Rt&&N.b(this,Ct,It[1][0],It[1][1],Ht,jt),xt&&N.a(this,Ct,It[Nt-2][0],It[Nt-2][1],Ut,Jt)},Lt.prototype.isFill=function(){return!1},Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){if(!It||!xt)return!1;var Nt=this.attr().points;return it(Nt,xt,Ct,_,!1)},Lt.prototype.isStroke=function(){return!0},Lt.prototype.createPath=function(Ct){var _=this.attr(),It=_.points,Rt=_.startArrow,xt=_.endArrow,Nt=It.length;if(!(It.length<2)){var Ht=It[0][0],jt=It[0][1],Ut=It[Nt-1][0],Jt=It[Nt-1][1];if(Rt&&Rt.d){var se=N.c(Ht,jt,It[1][0],It[1][1],Rt.d);Ht+=se.dx,jt+=se.dy}if(xt&&xt.d){var se=N.c(It[Nt-2][0],It[Nt-2][1],Ut,Jt,xt.d);Ut-=se.dx,Jt-=se.dy}Ct.beginPath(),Ct.moveTo(Ht,jt);for(var me=0;me<Nt-1;me++){var Me=It[me];Ct.lineTo(Me[0],Me[1])}Ct.lineTo(Ut,Jt)}},Lt.prototype.afterDrawPath=function(Ct){var _=this.get("startArrowShape"),It=this.get("endArrowShape");_&&_.draw(Ct),It&&It.draw(Ct)},Lt.prototype.getTotalLength=function(){var Ct=this.attr().points,_=this.get("totalLength");return Object(k.I)(_)?(this.set("totalLength",W.d.length(Ct)),this.get("totalLength")):_},Lt.prototype.getPoint=function(Ct){var _=this.attr().points,It=this.get("tCache");It||(this._setTcache(),It=this.get("tCache"));var Rt,xt;return Object(k.j)(It,function(Nt,Ht){Ct>=Nt[0]&&Ct<=Nt[1]&&(Rt=(Ct-Nt[0])/(Nt[1]-Nt[0]),xt=Ht)}),W.c.pointAt(_[xt][0],_[xt][1],_[xt+1][0],_[xt+1][1],Rt)},Lt.prototype._setTcache=function(){var Ct=this.attr().points;if(!(!Ct||Ct.length===0)){var _=this.getTotalLength();if(!(_<=0)){var It=0,Rt=[],xt,Nt;Object(k.j)(Ct,function(Ht,jt){Ct[jt+1]&&(xt=[],xt[0]=It/_,Nt=W.c.length(Ht[0],Ht[1],Ct[jt+1][0],Ct[jt+1][1]),It+=Nt,xt[1]=It/_,Rt.push(xt))}),this.set("tCache",Rt)}}},Lt.prototype.getStartTangent=function(){var Ct=this.attr().points,_=[];return _.push([Ct[1][0],Ct[1][1]]),_.push([Ct[0][0],Ct[0][1]]),_},Lt.prototype.getEndTangent=function(){var Ct=this.attr().points,_=Ct.length-1,It=[];return It.push([Ct[_-1][0],Ct[_-1][1]]),It.push([Ct[_][0],Ct[_][1]]),It},Lt}(S),q=Mt,V=i("aTcL");function ot(Vt,Lt,Ct,_,It,Rt,xt){var Nt=It/2;return Object(x.e)(Vt-Nt,Lt-Nt,Ct,It,Rt,xt)||Object(x.e)(Vt+Ct-Nt,Lt-Nt,It,_,Rt,xt)||Object(x.e)(Vt+Nt,Lt+_-Nt,Ct,It,Rt,xt)||Object(x.e)(Vt-Nt,Lt+Nt,It,_,Rt,xt)}function tt(Vt,Lt,Ct,_,It,Rt,xt,Nt){var Ht=Rt/2;return z(Vt+It,Lt,Vt+Ct-It,Lt,Rt,xt,Nt)||z(Vt+Ct,Lt+It,Vt+Ct,Lt+_-It,Rt,xt,Nt)||z(Vt+Ct-It,Lt+_,Vt+It,Lt+_,Rt,xt,Nt)||z(Vt,Lt+_-It,Vt,Lt+It,Rt,xt,Nt)||at(Vt+Ct-It,Lt+It,It,1.5*Math.PI,2*Math.PI,Rt,xt,Nt)||at(Vt+Ct-It,Lt+_-It,It,0,.5*Math.PI,Rt,xt,Nt)||at(Vt+It,Lt+_-It,It,.5*Math.PI,Math.PI,Rt,xt,Nt)||at(Vt+It,Lt+It,It,Math.PI,1.5*Math.PI,Rt,xt,Nt)}var yt=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{x:0,y:0,width:0,height:0,radius:0})},Lt.prototype.isInStrokeOrPath=function(Ct,_,It,Rt,xt){var Nt=this.attr(),Ht=Nt.x,jt=Nt.y,Ut=Nt.width,Jt=Nt.height,se=Nt.radius;if(se){var Me=!1;return It&&(Me=tt(Ht,jt,Ut,Jt,se,xt,Ct,_)),!Me&&Rt&&(Me=Q(this,Ct,_)),Me}else{var me=xt/2;if(Rt&&It)return Object(x.e)(Ht-me,jt-me,Ut+me,Jt+me,Ct,_);if(Rt)return Object(x.e)(Ht,jt,Ut,Jt,Ct,_);if(It)return ot(Ht,jt,Ut,Jt,xt,Ct,_)}},Lt.prototype.createPath=function(Ct){var _=this.attr(),It=_.x,Rt=_.y,xt=_.width,Nt=_.height,Ht=_.radius;if(Ct.beginPath(),Ht===0)Ct.rect(It,Rt,xt,Nt);else{var jt=Object(V.a)(Ht),Ut=jt[0],Jt=jt[1],se=jt[2],me=jt[3];Ct.moveTo(It+Ut,Rt),Ct.lineTo(It+xt-Jt,Rt),Jt!==0&&Ct.arc(It+xt-Jt,Rt+Jt,Jt,-Math.PI/2,0),Ct.lineTo(It+xt,Rt+Nt-se),se!==0&&Ct.arc(It+xt-se,Rt+Nt-se,se,0,Math.PI/2),Ct.lineTo(It+me,Rt+Nt),me!==0&&Ct.arc(It+me,Rt+Nt-me,me,Math.PI/2,Math.PI),Ct.lineTo(It,Rt+Ut),Ut!==0&&Ct.arc(It+Ut,Rt+Ut,Ut,Math.PI,Math.PI*1.5),Ct.closePath()}},Lt}(S),Pt=yt,Ft=function(Vt){Object(o.c)(Lt,Vt);function Lt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Lt.prototype.getDefaultAttrs=function(){var Ct=Vt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},Ct),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Lt.prototype.isOnlyHitBox=function(){return!0},Lt.prototype.initAttrs=function(Ct){this._assembleFont(),Ct.text&&this._setText(Ct.text)},Lt.prototype._assembleFont=function(){var Ct=this.attrs;Ct.font=Object(b.assembleFont)(Ct)},Lt.prototype._setText=function(Ct){var _=null;Object(x.k)(Ct)&&Ct.indexOf(`
`)!==-1&&(_=Ct.split(`
`)),this.set("textArr",_)},Lt.prototype.onAttrChange=function(Ct,_,It){Vt.prototype.onAttrChange.call(this,Ct,_,It),Ct.startsWith("font")&&this._assembleFont(),Ct==="text"&&this._setText(_)},Lt.prototype._getSpaceingY=function(){var Ct=this.attrs,_=Ct.lineHeight,It=Ct.fontSize*1;return _?_-It:It*.14},Lt.prototype._drawTextArr=function(Ct,_,It){var Rt=this.attrs,xt=Rt.textBaseline,Nt=Rt.x,Ht=Rt.y,jt=Rt.fontSize*1,Ut=this._getSpaceingY(),Jt=Object(b.getTextHeight)(Rt.text,Rt.fontSize,Rt.lineHeight),se;Object(x.c)(_,function(me,Me){se=Ht+Me*(Ut+jt)-Jt+jt,xt==="middle"&&(se+=Jt-jt-(Jt-jt)/2),xt==="top"&&(se+=Jt-jt),me&&(It?Ct.fillText(me,Nt,se):Ct.strokeText(me,Nt,se))})},Lt.prototype._drawText=function(Ct,_){var It=this.attr(),Rt=It.x,xt=It.y,Nt=this.get("textArr");if(Nt)this._drawTextArr(Ct,Nt,_);else{var Ht=It.text;Ht&&(_?Ct.fillText(Ht,Rt,xt):Ct.strokeText(Ht,Rt,xt))}},Lt.prototype.strokeAndFill=function(Ct){var _=this.attrs,It=_.lineWidth,Rt=_.opacity,xt=_.strokeOpacity,Nt=_.fillOpacity;this.isStroke()&&It>0&&(!Object(x.i)(xt)&&xt!==1&&(Ct.globalAlpha=Rt),this.stroke(Ct)),this.isFill()&&(!Object(x.i)(Nt)&&Nt!==1?(Ct.globalAlpha=Nt,this.fill(Ct),Ct.globalAlpha=Rt):this.fill(Ct)),this.afterDrawPath(Ct)},Lt.prototype.fill=function(Ct){this._drawText(Ct,!0)},Lt.prototype.stroke=function(Ct){this._drawText(Ct,!1)},Lt}(S),Wt=Ft},O7jt:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.getBindingDictionary=P.createMockRequest=P.plan=void 0;var d=i("tMVM"),o=i("196R"),b=i("2+60"),x=i("9L8m"),M=i("AUMs"),D=i("Rph/"),C=i("5i8x"),S=i("rMkn"),O=i("tqfL"),E=i("wOqf"),I=i("qwYJ"),A=i("Y26w");function R(F){return F._bindingDictionary}P.getBindingDictionary=R;function B(F,k,$,nt,st,rt){var Q=F?x.MULTI_INJECT_TAG:x.INJECT_TAG,Y=new S.Metadata(Q,$),K=new A.Target(k,nt,$,Y);if(st!==void 0){var et=new S.Metadata(st,rt);K.metadata.push(et)}return K}function p(F,k,$,nt,st){var rt=z($.container,st.serviceIdentifier),Q=[];return rt.length===d.BindingCount.NoBindingsAvailable&&$.container.options.autoBindInjectable&&typeof st.serviceIdentifier=="function"&&F.getConstructorMetadata(st.serviceIdentifier).compilerGeneratedMetadata&&($.container.bind(st.serviceIdentifier).toSelf(),rt=z($.container,st.serviceIdentifier)),k?Q=rt:Q=rt.filter(function(Y){var K=new I.Request(Y.serviceIdentifier,$,nt,Y,st);return Y.constraint(K)}),G(st.serviceIdentifier,Q,st,$.container),Q}function G(F,k,$,nt){switch(k.length){case d.BindingCount.NoBindingsAvailable:if($.isOptional())return k;var st=D.getServiceIdentifierAsString(F),rt=o.NOT_REGISTERED;throw rt+=D.listMetadataForTarget(st,$),rt+=D.listRegisteredBindingsForServiceIdentifier(nt,st,z),new Error(rt);case d.BindingCount.OnlyOneBindingAvailable:if(!$.isArray())return k;case d.BindingCount.MultipleBindingsAvailable:default:if($.isArray())return k;var st=D.getServiceIdentifierAsString(F),rt=o.AMBIGUOUS_MATCH+" "+st;throw rt+=D.listRegisteredBindingsForServiceIdentifier(nt,st,z),new Error(rt)}}function W(F,k,$,nt,st,rt){var Q,Y;if(st===null){Q=p(F,k,nt,null,rt),Y=new I.Request($,nt,null,Q,rt);var K=new O.Plan(nt,Y);nt.addPlan(K)}else Q=p(F,k,nt,st,rt),Y=st.addChildRequest(rt.serviceIdentifier,Q,rt);Q.forEach(function(et){var ut=null;if(rt.isArray())ut=Y.addChildRequest(et.serviceIdentifier,et,rt);else{if(et.cache)return;ut=Y}if(et.type===b.BindingTypeEnum.Instance&&et.implementationType!==null){var dt=E.getDependencies(F,et.implementationType);if(!nt.container.options.skipBaseClassChecks){var vt=E.getBaseClassDependencyCount(F,et.implementationType);if(dt.length<vt){var at=o.ARGUMENTS_LENGTH_MISMATCH(E.getFunctionName(et.implementationType));throw new Error(at)}}dt.forEach(function(pt){W(F,!1,pt.serviceIdentifier,nt,ut,pt)})}})}function z(F,k){var $=[],nt=R(F);return nt.hasKey(k)?$=nt.get(k):F.parent!==null&&($=z(F.parent,k)),$}function N(F,k,$,nt,st,rt,Q,Y){Y===void 0&&(Y=!1);var K=new C.Context(k),et=B($,nt,st,"",rt,Q);try{return W(F,Y,st,K,null,et),K}catch(ut){throw M.isStackOverflowExeption(ut)&&K.plan&&D.circularDependencyToException(K.plan.rootRequest),ut}}P.plan=N;function j(F,k,$,nt){var st=new A.Target(b.TargetTypeEnum.Variable,"",k,new S.Metadata($,nt)),rt=new C.Context(F),Q=new I.Request(k,rt,null,[],st);return Q}P.createMockRequest=j},OEJE:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("nZiY"),b=i("08EK"),x=function(M){Object(d.c)(D,M);function D(C){var S=M.call(this)||this;S.destroyed=!1;var O=S.getDefaultCfg();return S.cfg=Object(b.i)(O,C),S}return D.prototype.getDefaultCfg=function(){return{}},D.prototype.get=function(C){return this.cfg[C]},D.prototype.set=function(C,S){this.cfg[C]=S},D.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},D}(o.a);P.a=x},OFdx:function(wt,P,i){var d=i("mXku"),o=i("dVOP"),b=i("rGlR");function x(M,D){return M==null?M:d(M,o(D),b)}wt.exports=x},"OO/B":function(wt,P,i){"use strict";var d=i("9xKD"),o=d.longestPath,b=i("kr+H"),x=i("of5Y");wt.exports=M;function M(O){switch(O.graph().ranker){case"network-simplex":S(O);break;case"tight-tree":C(O);break;case"longest-path":D(O);break;default:S(O)}}var D=o;function C(O){o(O),b(O)}function S(O){x(O)}},OUPr:function(wt,P,i){"use strict";i.r(P),i.d(P,"Line",function(){return E}),i.d(P,"Text",function(){return A}),i.d(P,"Arc",function(){return B}),i.d(P,"Region",function(){return G}),i.d(P,"Image",function(){return z}),i.d(P,"DataMarker",function(){return j}),i.d(P,"DataRegion",function(){return k}),i.d(P,"RegionFilter",function(){return nt}),i.d(P,"Shape",function(){return rt}),i.d(P,"Html",function(){return et});var d=i("J+IK"),o=i("jg4I"),b=i("jFyH"),x=i("uRYK"),M=i("xdm5"),D=i("L+OQ");function C(ut,dt){var vt=dt.x,at=dt.y,pt=dt.content,Tt=dt.style,Gt=dt.id,Kt=dt.name,Xt=dt.rotate,gt=dt.maxLength,lt=dt.autoEllipsis,ft=dt.isVertical,it=dt.ellipsisPosition,bt=dt.background,Dt=ut.addGroup({id:Gt+"-group",name:Kt+"-group",attrs:{x:vt,y:at}}),Mt=Dt.addShape({type:"text",id:Gt,name:Kt,attrs:Object(d.a)({x:0,y:0,text:pt},Tt)}),q=Object(D.c)(Object(o.s)(bt,"padding",0));if(gt&&lt){var V=gt-(q[1]+q[3]);Object(x.a)(!ft,Mt,V,it)}if(bt){var ot=Object(o.s)(bt,"style",{}),tt=Mt.getCanvasBBox(),yt=tt.minX,Pt=tt.minY,Ft=tt.width,Wt=tt.height,Vt=Dt.addShape("rect",{id:Gt+"-bg",name:Gt+"-bg",attrs:Object(d.a)({x:yt-q[3],y:Pt-q[0],width:Ft+q[1]+q[3],height:Wt+q[0]+q[2]},ot)});Vt.toBack()}Object(M.c)(Dt,vt,at),Object(M.b)(Dt,Xt,vt,at)}var S=i("KwOt"),O=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:S.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:S.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:S.a.lineColor,lineWidth:1}}}})},dt.prototype.renderInner=function(vt){this.renderLine(vt),this.get("text")&&this.renderLabel(vt)},dt.prototype.renderLine=function(vt){var at=this.get("start"),pt=this.get("end"),Tt=this.get("style");this.addShape(vt,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(d.a)({x1:at.x,y1:at.y,x2:pt.x,y2:pt.y},Tt)})},dt.prototype.getLabelPoint=function(vt,at,pt){var Tt;return pt==="start"?Tt=0:pt==="center"?Tt=.5:Object(o.O)(pt)&&pt.indexOf("%")!==-1?Tt=parseInt(pt,10)/100:Object(o.K)(pt)?Tt=pt:Tt=1,(Tt>1||Tt<0)&&(Tt=1),{x:Object(D.g)(vt.x,at.x,Tt),y:Object(D.g)(vt.y,at.y,Tt)}},dt.prototype.renderLabel=function(vt){var at=this.get("text"),pt=this.get("start"),Tt=this.get("end"),Gt=at.position,Kt=at.content,Xt=at.style,gt=at.offsetX,lt=at.offsetY,ft=at.autoRotate,it=at.maxLength,bt=at.autoEllipsis,Dt=at.ellipsisPosition,Mt=at.background,q=at.isVertical,V=q===void 0?!1:q,ot=this.getLabelPoint(pt,Tt,Gt),tt=ot.x+gt,yt=ot.y+lt,Pt={id:this.getElementId("line-text"),name:"annotation-line-text",x:tt,y:yt,content:Kt,style:Xt,maxLength:it,autoEllipsis:bt,ellipsisPosition:Dt,background:Mt,isVertical:V};if(ft){var Ft=[Tt.x-pt.x,Tt.y-pt.y];Pt.rotate=Math.atan2(Ft[1],Ft[0])}C(vt,Pt)},dt}(b.a),E=O,I=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:S.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:S.a.fontFamily}}})},dt.prototype.setLocation=function(vt){this.set("x",vt.x),this.set("y",vt.y),this.resetLocation()},dt.prototype.renderInner=function(vt){var at=this.getLocation(),pt=at.x,Tt=at.y,Gt=this.get("content"),Kt=this.get("style"),Xt=this.getElementId("text"),gt=this.get("name")+"-text",lt=this.get("maxLength"),ft=this.get("autoEllipsis"),it=this.get("isVertical"),bt=this.get("ellipsisPosition"),Dt=this.get("background"),Mt=this.get("rotate"),q={id:Xt,name:gt,x:pt,y:Tt,content:Gt,style:Kt,maxLength:lt,autoEllipsis:ft,isVertical:it,ellipsisPosition:bt,background:Dt,rotate:Mt};C(vt,q)},dt.prototype.resetLocation=function(){var vt=this.getElementByLocalId("text-group");if(vt){var at=this.getLocation(),pt=at.x,Tt=at.y,Gt=this.get("rotate");Object(M.c)(vt,pt,Tt),Object(M.b)(vt,Gt,pt,Tt)}},dt}(b.a),A=I,R=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},dt.prototype.renderInner=function(vt){this.renderArc(vt)},dt.prototype.getArcPath=function(){var vt=this.getLocation(),at=vt.center,pt=vt.radius,Tt=vt.startAngle,Gt=vt.endAngle,Kt=Object(D.e)(at,pt,Tt),Xt=Object(D.e)(at,pt,Gt),gt=Gt-Tt>Math.PI?1:0,lt=[["M",Kt.x,Kt.y]];if(Gt-Tt==Math.PI*2){var ft=Object(D.e)(at,pt,Tt+Math.PI);lt.push(["A",pt,pt,0,gt,1,ft.x,ft.y]),lt.push(["A",pt,pt,0,gt,1,Xt.x,Xt.y])}else lt.push(["A",pt,pt,0,gt,1,Xt.x,Xt.y]);return lt},dt.prototype.renderArc=function(vt){var at=this.getArcPath(),pt=this.get("style");this.addShape(vt,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(d.a)({path:at},pt)})},dt}(b.a),B=R,p=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:S.a.regionColor,opacity:.4}}})},dt.prototype.renderInner=function(vt){this.renderRegion(vt)},dt.prototype.renderRegion=function(vt){var at=this.get("start"),pt=this.get("end"),Tt=this.get("style"),Gt=Object(D.k)({start:at,end:pt});this.addShape(vt,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(d.a)({x:Gt.x,y:Gt.y,width:Gt.width,height:Gt.height},Tt)})},dt}(b.a),G=p,W=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},dt.prototype.renderInner=function(vt){this.renderImage(vt)},dt.prototype.getImageAttrs=function(){var vt=this.get("start"),at=this.get("end"),pt=this.get("style"),Tt=Object(D.k)({start:vt,end:at}),Gt=this.get("src");return Object(d.a)({x:Tt.x,y:Tt.y,img:Gt,width:Tt.width,height:Tt.height},pt)},dt.prototype.renderImage=function(vt){this.addShape(vt,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},dt}(b.a),z=W,N=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:S.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:S.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:S.a.fontFamily}}}})},dt.prototype.renderInner=function(vt){Object(o.s)(this.get("line"),"display")&&this.renderLine(vt),Object(o.s)(this.get("text"),"display")&&this.renderText(vt),Object(o.s)(this.get("point"),"display")&&this.renderPoint(vt),this.get("autoAdjust")&&this.autoAdjust(vt)},dt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},dt.prototype.renderPoint=function(vt){var at=this.getShapeAttrs().point;this.addShape(vt,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:at})},dt.prototype.renderLine=function(vt){var at=this.getShapeAttrs().line;this.addShape(vt,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:at})},dt.prototype.renderText=function(vt){var at=this.getShapeAttrs().text,pt=at.x,Tt=at.y,Gt=at.text,Kt=Object(d.e)(at,["x","y","text"]),Xt=this.get("text"),gt=Xt.background,lt=Xt.maxLength,ft=Xt.autoEllipsis,it=Xt.isVertival,bt=Xt.ellipsisPosition,Dt={x:pt,y:Tt,id:this.getElementId("text"),name:"annotation-text",content:Gt,style:Kt,background:gt,maxLength:lt,autoEllipsis:ft,isVertival:it,ellipsisPosition:bt};C(vt,Dt)},dt.prototype.autoAdjust=function(vt){var at=this.get("direction"),pt=this.get("x"),Tt=this.get("y"),Gt=Object(o.s)(this.get("line"),"length",0),Kt=this.get("coordinateBBox"),Xt=vt.getBBox(),gt=Xt.minX,lt=Xt.maxX,ft=Xt.minY,it=Xt.maxY,bt=vt.findById(this.getElementId("text-group")),Dt=vt.findById(this.getElementId("text")),Mt=vt.findById(this.getElementId("line"));if(!!Kt){if(bt){if(pt+gt<=Kt.minX){var q=Kt.minX-(pt+gt);Object(M.c)(bt,bt.attr("x")+q,bt.attr("y"))}if(pt+lt>=Kt.maxX){var q=pt+lt-Kt.maxX;Object(M.c)(bt,bt.attr("x")-q,bt.attr("y"))}}if(at==="upward"&&Tt+ft<=Kt.minY||at!=="upward"&&Tt+it>=Kt.maxY){var V=void 0,ot=void 0;at==="upward"&&Tt+ft<=Kt.minY?(V="top",ot=1):(V="bottom",ot=-1),Dt.attr("textBaseline",V),Mt&&Mt.attr("path",[["M",0,0],["L",0,Gt*ot]]),Object(M.c)(bt,bt.attr("x"),(Gt+2)*ot)}}},dt.prototype.getShapeAttrs=function(){var vt=Object(o.s)(this.get("line"),"display"),at=Object(o.s)(this.get("point"),"style",{}),pt=Object(o.s)(this.get("line"),"style",{}),Tt=Object(o.s)(this.get("text"),"style",{}),Gt=this.get("direction"),Kt=vt?Object(o.s)(this.get("line"),"length",0):0,Xt=Gt==="upward"?-1:1;return{point:Object(d.a)({x:0,y:0},at),line:Object(d.a)({path:[["M",0,0],["L",0,Kt*Xt]]},pt),text:Object(d.a)({x:0,y:(Kt+2)*Xt,text:Object(o.s)(this.get("text"),"content",""),textBaseline:Gt==="upward"?"bottom":"top"},Tt)}},dt}(b.a),j=N,F=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:S.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:S.a.textColor,fontFamily:S.a.fontFamily}}}})},dt.prototype.renderInner=function(vt){var at=Object(o.s)(this.get("region"),"style",{}),pt=Object(o.s)(this.get("text"),"style",{}),Tt=this.get("lineLength")||0,Gt=this.get("points");if(!!Gt.length){var Kt=Object(D.j)(Gt),Xt=[];Xt.push(["M",Gt[0].x,Kt.minY-Tt]),Gt.forEach(function(lt){Xt.push(["L",lt.x,lt.y])}),Xt.push(["L",Gt[Gt.length-1].x,Gt[Gt.length-1].y-Tt]),this.addShape(vt,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(d.a)({path:Xt},at)});var gt=Object(d.a)({id:this.getElementId("text"),name:"annotation-text",x:(Kt.minX+Kt.maxX)/2,y:Kt.minY-Tt},this.get("text"));C(vt,gt)}},dt}(b.a),k=F,$=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},dt.prototype.renderInner=function(vt){var at=this,pt=this.get("start"),Tt=this.get("end"),Gt=this.addGroup(vt,{id:this.getElementId("region-filter"),capture:!1});Object(o.j)(this.get("shapes"),function(Xt,gt){var lt=Xt.get("type"),ft=Object(o.e)(Xt.attr());at.adjustShapeAttrs(ft),at.addShape(Gt,{id:at.getElementId("shape-"+lt+"-"+gt),capture:!1,type:lt,attrs:ft})});var Kt=Object(D.k)({start:pt,end:Tt});Gt.setClip({type:"rect",attrs:{x:Kt.minX,y:Kt.minY,width:Kt.width,height:Kt.height}})},dt.prototype.adjustShapeAttrs=function(vt){var at=this.get("color");vt.fill&&(vt.fill=vt.fillStyle=at),vt.stroke=vt.strokeStyle=at},dt}(b.a),nt=$,st=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"shape",draw:o.db})},dt.prototype.renderInner=function(vt){var at=this.get("render");Object(o.H)(at)&&at(vt)},dt}(b.a),rt=st,Q=i("m8xh"),Y=i("oDuu"),K=function(ut){Object(d.c)(dt,ut);function dt(){return ut!==null&&ut.apply(this,arguments)||this}return dt.prototype.getDefaultCfg=function(){var vt=ut.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},vt),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},dt.prototype.render=function(){var vt=this.getContainer(),at=this.get("html");Object(D.a)(vt);var pt=Object(o.H)(at)?at(vt):at;Object(o.E)(pt)?vt.appendChild(pt):Object(o.O)(pt)&&vt.appendChild(Object(Q.b)(pt)),this.resetPosition()},dt.prototype.resetPosition=function(){var vt=this.getContainer(),at=this.getLocation(),pt=at.x,Tt=at.y,Gt=this.get("alignX"),Kt=this.get("alignY"),Xt=this.get("offsetX"),gt=this.get("offsetY"),lt=Object(Q.d)(vt),ft=Object(Q.c)(vt),it={x:pt,y:Tt};Gt==="middle"?it.x-=Math.round(lt/2):Gt==="right"&&(it.x-=Math.round(lt)),Kt==="middle"?it.y-=Math.round(ft/2):Kt==="bottom"&&(it.y-=Math.round(ft)),Xt&&(it.x+=Xt),gt&&(it.y+=gt),Object(Q.e)(vt,{position:"absolute",left:it.x+"px",top:it.y+"px",zIndex:this.get("zIndex")})},dt}(Y.a),et=K},OUrb:function(wt,P){function i(d){return wt.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},wt.exports.default=wt.exports,wt.exports.__esModule=!0,i(d)}wt.exports=i,wt.exports.default=wt.exports,wt.exports.__esModule=!0},Ob5K:function(wt,P,i){"use strict";i.d(P,"a",function(){return C});var d=i("J+IK"),o=i("Gc/9"),b=i("1MGC"),x=i("bkrr"),M=i("Cw9K"),D=Object(M.b)({},o.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),C=function(S){Object(d.c)(O,S);function O(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="area",E}return O.getDefaultOptions=function(){return D},O.prototype.getDefaultOptions=function(){return O.getDefaultOptions()},O.prototype.changeData=function(E){this.updateOption({data:E});var I=this.options,A=I.isPercent,R=I.xField,B=I.yField,p=this,G=p.chart,W=p.options;Object(x.b)({chart:G,options:W}),this.chart.changeData(Object(b.a)(E,B,R,B,A))},O.prototype.getSchemaAdaptor=function(){return x.a},O}(o.b)},Od3v:function(wt,P,i){"use strict";i.d(P,"b",function(){return b}),i.d(P,"c",function(){return x});var d=i("EbMC"),o=i("WKd7"),b=(1+Math.sqrt(5))/2;function x(M,D,C,S,O,E){for(var I=[],A=D.children,R,B,p=0,G=0,W=A.length,z,N,j=D.value,F,k,$,nt,st,rt,Q;p<W;){z=O-C,N=E-S;do F=A[G++].value;while(!F&&G<W);for(k=$=F,rt=Math.max(N/z,z/N)/(j*M),Q=F*F*rt,st=Math.max($/Q,Q/k);G<W;++G){if(F+=B=A[G].value,B<k&&(k=B),B>$&&($=B),Q=F*F*rt,nt=Math.max($/Q,Q/k),nt>st){F-=B;break}st=nt}I.push(R={value:F,dice:z<N,children:A.slice(p,G)}),R.dice?Object(d.a)(R,C,S,O,j?S+=N*F/j:E):Object(o.a)(R,C,S,j?C+=z*F/j:O,E),j-=F,p=G}return I}P.a=function M(D){function C(S,O,E,I,A){x(D,S,O,E,I,A)}return C.ratio=function(S){return M((S=+S)>1?S:1)},C}(b)},On2g:function(wt,P,i){"use strict";i.d(P,"b",function(){return S}),i.d(P,"a",function(){return O});var d=i("J+IK"),o=i("jg4I"),b=i("Cw9K"),x=i("piQC"),M=i("2dsA"),D=i("0n2G");function C(E){var I=E.chart,A=E.options,R=A.innerRadius,B=A.radius;return I.coordinate("theta",{innerRadius:R,radius:B}),E}function S(E,I){var A=E.chart,R=E.options,B=R.innerRadius,p=R.statistic,G=R.percent,W=R.meta;if(A.getController("annotation").clear(!0),B&&p){var z=p.content;z&&!z.formatter&&(z.formatter=function(N){var j=N.percent,F=Object(o.s)(W,[D.e,"formatter"]);return F?F(j):j}),Object(b.t)(A,{statistic:Object(d.a)(Object(d.a)({},p),{content:z}),plotType:"ring-progress"},{percent:G})}return I&&A.render(!0),E}function O(E){return Object(b.e)(M.b,Object(x.f)({}),C,S,x.a,x.j,Object(x.b)())(E)}},OpA2:function(wt,P){},"Oru/":function(wt,P,i){"use strict";i.d(P,"c",function(){return O}),i.d(P,"b",function(){return E}),i.d(P,"a",function(){return I});var d=i("J+IK"),o=i("Nqgf"),b=Math.sin,x=Math.cos,M=Math.atan2,D=Math.PI;function C(A,R,B,p,G,W,z){var N=R.stroke,j=R.lineWidth,F=B-G,k=p-W,$=M(k,F),nt=new o.Path({type:"path",canvas:A.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*x(D/6)+","+10*b(D/6)+" L0,0 L"+10*x(D/6)+",-"+10*b(D/6),stroke:N,lineWidth:j}});nt.translate(G,W),nt.rotateAtPoint(G,W,$),A.set(z?"startArrowShape":"endArrowShape",nt)}function S(A,R,B,p,G,W,z){var N=R.startArrow,j=R.endArrow,F=R.stroke,k=R.lineWidth,$=z?N:j,nt=$.d,st=$.fill,rt=$.stroke,Q=$.lineWidth,Y=Object(d.e)($,["d","fill","stroke","lineWidth"]),K=B-G,et=p-W,ut=M(et,K);nt&&(G=G-x(ut)*nt,W=W-b(ut)*nt);var dt=new o.Path({type:"path",canvas:A.get("canvas"),isArrowShape:!0,attrs:Object(d.a)(Object(d.a)({},Y),{stroke:rt||F,lineWidth:Q||k,fill:st})});dt.translate(G,W),dt.rotateAtPoint(G,W,ut),A.set(z?"startArrowShape":"endArrowShape",dt)}function O(A,R,B,p,G){var W=M(p-R,B-A);return{dx:x(W)*G,dy:b(W)*G}}function E(A,R,B,p,G,W){typeof R.startArrow=="object"?S(A,R,B,p,G,W,!0):R.startArrow?C(A,R,B,p,G,W,!0):A.set("startArrowShape",null)}function I(A,R,B,p,G,W){typeof R.endArrow=="object"?S(A,R,B,p,G,W,!1):R.endArrow?C(A,R,B,p,G,W,!1):A.set("startArrowShape",null)}},Oye7:function(wt,P,i){var d=i("XSdR");wt.exports=o;function o(M){var D=x(M);d.forEach(M.graph().dummyChains,function(C){for(var S=M.node(C),O=S.edgeObj,E=b(M,D,O.v,O.w),I=E.path,A=E.lca,R=0,B=I[R],p=!0;C!==O.w;){if(S=M.node(C),p){for(;(B=I[R])!==A&&M.node(B).maxRank<S.rank;)R++;B===A&&(p=!1)}if(!p){for(;R<I.length-1&&M.node(B=I[R+1]).minRank<=S.rank;)R++;B=I[R]}M.setParent(C,B),C=M.successors(C)[0]}})}function b(M,D,C,S){var O=[],E=[],I=Math.min(D[C].low,D[S].low),A=Math.max(D[C].lim,D[S].lim),R,B;R=C;do R=M.parent(R),O.push(R);while(R&&(D[R].low>I||A>D[R].lim));for(B=R,R=S;(R=M.parent(R))!==B;)E.push(R);return{path:O.concat(E.reverse()),lca:B}}function x(M){var D={},C=0;function S(O){var E=C;d.forEach(M.children(O),S),D[O]={low:E,lim:C++}}return d.forEach(M.children(),S),D}},"P+oc":function(wt,P,i){var d=i("3MnI");wt.exports=o;function o(b){try{d(b)}catch(x){if(x instanceof d.CycleException)return!1;throw x}return!0}},P6PP:function(wt,P,i){"use strict";i.d(P,"a",function(){return d.a}),i.d(P,"b",function(){return O.a});var d=i("oq+b"),o=i("qJ52"),b=i.n(o),x=i("25gg"),M=i.n(x),D=i("99LQ"),C=D.e.create(),S=function(){function W(z,N){b()(this,W),this.center=void 0,this.radius=void 0,this.center=z||D.e.create(),this.radius=N||.5}return M()(W,[{key:"containsPoint",value:function(N){return D.e.sub(C,N,this.center),D.e.length(C)<this.radius*this.radius}},{key:"intersects",value:function(N){D.e.sub(C,N.center,this.center);var j=N.radius+this.radius;return D.e.length(C)<=j*j}}]),W}(),O=i("c5gd"),E=i("xO9G"),I=D.e.create(),A=D.e.create(),R=D.e.create(),B=D.e.create(),p=D.e.create(),G=function(){function W(z,N){b()(this,W),this.origin=void 0,this.direction=void 0,this.origin=z||D.e.create(),this.direction=N||D.e.fromValues(0,0,-1)}return M()(W,[{key:"intersectsAABB",value:function(N,j){return j?this.intersectAABBWithIntersection(N,j):this.intersectsAABBWithoutIntersection(N)}},{key:"intersectsSphere",value:function(N,j){var F=D.e.sub(I,this.origin,N.center);D.e.normalize(A,D.e.copy(A,this.direction));var k=D.e.dot(F,A),$=D.e.dot(F,F)-N.radius*N.radius;if($>0&&k>0)return null;var nt=k*k-$;if(nt<0)return!1;var st=Math.abs(-k-Math.sqrt(nt));return j&&(D.e.copy(j,this.direction),D.e.scaleAndAdd(j,this.origin,j,st)),!0}},{key:"intersectsPlane",value:function(N,j){var F=(N.distance-D.e.dot(N.normal,this.origin))/D.e.dot(N.normal,this.direction),k=F>=0;return k&&j&&D.e.scaleAndAdd(j,this.origin,this.direction,F),k}},{key:"intersectsAABBWithoutIntersection",value:function(N){var j=I,F=A,k=R,$=B,nt=p,st=this.direction;return D.e.sub(j,this.origin,N.center),D.e.set($,Math.abs(j[0]),Math.abs(j[1]),Math.abs(j[2])),D.e.mul(k,j,st),$[0]>N.halfExtents[0]&&k[0]>=0||$[1]>N.halfExtents[1]&&k[1]>=0||$[2]>N.halfExtents[2]&&k[2]>=0?!1:(D.e.set(nt,Math.abs(st[0]),Math.abs(st[1]),Math.abs(st[2])),D.e.cross(F,st,j),D.e.set(F,Math.abs(F[0]),Math.abs(F[1]),Math.abs(F[2])),!(F[0]>N.halfExtents[1]*nt[2]+N.halfExtents[2]*nt[1]||F[1]>N.halfExtents[0]*nt[2]+N.halfExtents[2]*nt[0]||F[2]>N.halfExtents[0]*nt[1]+N.halfExtents[1]*nt[0]))}},{key:"intersectAABBWithIntersection",value:function(N,j){var F=D.e.copy(D.e.create(),N.getMin());D.e.sub(F,F,this.origin);var k=D.e.copy(D.e.create(),N.getMax());D.e.sub(k,k,this.origin);var $=this.direction;$[0]===0?(F[0]=F[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE,k[0]=k[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(F[0]/=$[0],k[0]/=$[0]),$[1]===0?(F[1]=F[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE,k[1]=k[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(F[1]/=$[1],k[1]/=$[1]),$[2]===0?(F[2]=F[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE,k[2]=k[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(F[2]/=$[2],k[2]/=$[2]);var nt=D.e.set(R,Math.min(F[0],k[0]),Math.min(F[1],k[1]),Math.min(F[2],k[2])),st=D.e.set(B,Math.max(F[0],k[0]),Math.max(F[1],k[1]),Math.max(F[2],k[2])),rt=Math.min(Math.min(st[0],st[1]),st[2]),Q=Math.max(Math.max(nt[0],nt[1]),nt[2]),Y=rt>=Q&&Q>=0;return Y&&(D.e.copy(j,this.direction),D.e.scaleAndAdd(j,this.origin,j,Q)),Y}}]),W}()},P7eI:function(wt,P,i){"use strict";i.d(P,"a",function(){return Lt});var d=i("X0zg"),o=i.n(d),b=i("qJ52"),x=i.n(b),M=i("25gg"),D=i.n(M),C=i("DLmx"),S=i.n(C),O=i("K4uR"),E=i.n(O),I=i("Un2Z"),A=i.n(I),R=i("OUrb"),B=i.n(R),p=i("99LQ"),G=i("Hg9g"),W=i("LcyE"),z=i.n(W),N=9007199254740991,j="[object Arguments]",F="[object Array]",k="[object Boolean]",$="[object Date]",nt="[object Error]",st="[object Function]",rt="[object Map]",Q="[object Number]",Y="[object Object]",K="[object RegExp]",et="[object Set]",ut="[object String]",dt="[object WeakMap]",vt="[object ArrayBuffer]",at="[object DataView]",pt="[object Float32Array]",Tt="[object Float64Array]",Gt="[object Int8Array]",Kt="[object Int16Array]",Xt="[object Int32Array]",gt="[object Uint8Array]",lt="[object Uint8ClampedArray]",ft="[object Uint16Array]",it="[object Uint32Array]",bt={};bt[pt]=bt[Tt]=bt[Gt]=bt[Kt]=bt[Xt]=bt[gt]=bt[lt]=bt[ft]=bt[it]=!0,bt[j]=bt[F]=bt[vt]=bt[k]=bt[at]=bt[$]=bt[nt]=bt[st]=bt[rt]=bt[Q]=bt[Y]=bt[K]=bt[et]=bt[ut]=bt[dt]=!1;function Dt(Ct){return function(_){return Ct(_)}}var Mt=Object.prototype,q=Mt.toString;function V(Ct){return tt(Ct)&&ot(Ct.length)&&!!bt[q.call(Ct)]}function ot(Ct){return typeof Ct=="number"&&Ct>-1&&Ct%1==0&&Ct<=N}function tt(Ct){return!!Ct&&z()(Ct)==="object"}var yt=V;function Pt(Ct,_){var It=Object.keys(Ct);if(Object.getOwnPropertySymbols){var Rt=Object.getOwnPropertySymbols(Ct);_&&(Rt=Rt.filter(function(xt){return Object.getOwnPropertyDescriptor(Ct,xt).enumerable})),It.push.apply(It,Rt)}return It}function Ft(Ct){for(var _=1;_<arguments.length;_++){var It=arguments[_]!=null?arguments[_]:{};_%2?Pt(Object(It),!0).forEach(function(Rt){o()(Ct,Rt,It[Rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(It)):Pt(Object(It)).forEach(function(Rt){Object.defineProperty(Ct,Rt,Object.getOwnPropertyDescriptor(It,Rt))})}return Ct}function Wt(Ct){var _=Vt();return function(){var Rt=B()(Ct),xt;if(_){var Nt=B()(this).constructor;xt=Reflect.construct(Rt,arguments,Nt)}else xt=Rt.apply(this,arguments);return A()(this,xt)}}function Vt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Ct){return!1}}var Lt=function(Ct){E()(It,Ct);var _=Wt(It);function It(Rt){var xt;return x()(this,It),xt=_.call(this,Rt),xt.dirty=!0,xt.attributes=[],xt.indices=void 0,xt.indicesBuffer=void 0,xt.vertexCount=0,xt.maxInstancedCount=void 0,xt.aabb=void 0,xt.entity=void 0,Object.assign(S()(xt),Rt),xt}return D()(It,[{key:"setAttribute",value:function(xt,Nt,Ht,jt){var Ut=this.attributes.find(function(Jt){return Jt.name===xt});return Ut?(Ut.data=Nt,Ut.dirty=!0):this.attributes.push(Ft(Ft({dirty:!0,name:xt,data:Nt},Ht),{},{bufferGetter:jt})),this.dirty=!0,this}},{key:"setIndex",value:function(xt){return this.indices=new Uint32Array(xt.buffer?xt.buffer:xt),this.dirty=!0,this}},{key:"applyMatrix",value:function(xt){var Nt=this.attributes.find(function(Me){var Pe=Me.name;return Pe==="position"}),Ht=this.attributes.find(function(Me){var Pe=Me.name;return Pe==="normal"});if(Nt&&(Nt.dirty=!0,Nt.data&&Nt.data.length))for(var jt=0;jt<Nt.data.length;jt+=3){var Ut=p.f.fromValues(Nt.data[jt],Nt.data[jt+1],Nt.data[jt+2],1);p.f.transformMat4(Ut,Ut,xt),yt(Nt.data)?Nt.data.set([Ut[0],Ut[1],Ut[2]],jt):(Nt.data[jt]=Ut[0],Nt.data[jt+1]=Ut[1],Nt.data[jt+2]=Ut[2])}if(Ht){var Jt=p.a.normalFromMat4(p.a.create(),xt);if(Ht.data&&Ht.data.length)for(var se=0;se<Ht.data.length;se+=3){var me=p.e.fromValues(Ht.data[se],Ht.data[se+1],Ht.data[se+2]);p.e.transformMat3(me,me,Jt),p.e.normalize(me,me),yt(Ht.data)?Ht.data.set([me[0],me[1],me[2]],se):(Ht.data[se]=me[0],Ht.data[se+1]=me[1],Ht.data[se+2]=me[2])}}}}]),It}(G.a)},PHCe:function(wt,P,i){"use strict";i.d(P,"b",function(){return d}),i.d(P,"c",function(){return o}),i.d(P,"a",function(){return b});function d(x,M){var D=[],C=x[0],S=x[1],O=x[2],E=x[3],I=x[4],A=x[5],R=x[6],B=x[7],p=x[8],G=M[0],W=M[1],z=M[2],N=M[3],j=M[4],F=M[5],k=M[6],$=M[7],nt=M[8];return D[0]=G*C+W*E+z*R,D[1]=G*S+W*I+z*B,D[2]=G*O+W*A+z*p,D[3]=N*C+j*E+F*R,D[4]=N*S+j*I+F*B,D[5]=N*O+j*A+F*p,D[6]=k*C+$*E+nt*R,D[7]=k*S+$*I+nt*B,D[8]=k*O+$*A+nt*p,D}function o(x,M){var D=[],C=M[0],S=M[1];return D[0]=x[0]*C+x[3]*S+x[6],D[1]=x[1]*C+x[4]*S+x[7],D}function b(x){var M=[],D=x[0],C=x[1],S=x[2],O=x[3],E=x[4],I=x[5],A=x[6],R=x[7],B=x[8],p=B*E-I*R,G=-B*O+I*A,W=R*O-E*A,z=D*p+C*G+S*W;return z?(z=1/z,M[0]=p*z,M[1]=(-B*C+S*R)*z,M[2]=(I*C-S*E)*z,M[3]=G*z,M[4]=(B*D-S*A)*z,M[5]=(-I*D+S*O)*z,M[6]=W*z,M[7]=(-R*D+C*A)*z,M[8]=(E*D-C*O)*z,M):null}},PJ1B:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.createSensor=void 0;var d=b(i("5M8n")),o=i("MPYE");function b(M){return M&&M.__esModule?M:{default:M}}var x=function(D){var C=void 0,S=[],O=function(){getComputedStyle(D).position==="static"&&(D.style.position="relative");var p=document.createElement("object");return p.onload=function(){p.contentDocument.defaultView.addEventListener("resize",E),E()},p.style.display="block",p.style.position="absolute",p.style.top="0",p.style.left="0",p.style.height="100%",p.style.width="100%",p.style.overflow="hidden",p.style.pointerEvents="none",p.style.zIndex="-1",p.style.opacity="0",p.setAttribute("class",o.SensorClassName),p.setAttribute("tabindex",o.SensorTabIndex),p.type="text/html",D.appendChild(p),p.data="about:blank",p},E=(0,d.default)(function(){S.forEach(function(B){B(D)})}),I=function(p){C||(C=O()),S.indexOf(p)===-1&&S.push(p)},A=function(){C&&C.parentNode&&(C.contentDocument&&C.contentDocument.defaultView.removeEventListener("resize",E),C.parentNode.removeChild(C),C=void 0,S=[])},R=function(p){var G=S.indexOf(p);G!==-1&&S.splice(G,1),S.length===0&&C&&A()};return{element:D,bind:I,destroy:A,unbind:R}};P.createSensor=x},PdHs:function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=o[0]*b[0],d[1]=o[1]*b[1],d}},PkPV:function(wt,P,i){"use strict";i.d(P,"a",function(){return F});var d=i("X0zg"),o=i.n(d),b=i("qJ52"),x=i.n(b),M=i("25gg"),D=i.n(M),C=i("DLmx"),S=i.n(C),O=i("K4uR"),E=i.n(O),I=i("Un2Z"),A=i.n(I),R=i("OUrb"),B=i.n(R),p=i("2Pg9"),G=i("Hg9g");function W(k,$){var nt=Object.keys(k);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(k);$&&(st=st.filter(function(rt){return Object.getOwnPropertyDescriptor(k,rt).enumerable})),nt.push.apply(nt,st)}return nt}function z(k){for(var $=1;$<arguments.length;$++){var nt=arguments[$]!=null?arguments[$]:{};$%2?W(Object(nt),!0).forEach(function(st){o()(k,st,nt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(nt)):W(Object(nt)).forEach(function(st){Object.defineProperty(k,st,Object.getOwnPropertyDescriptor(nt,st))})}return k}function N(k){var $=j();return function(){var st=B()(k),rt;if($){var Q=B()(this).constructor;rt=Reflect.construct(st,arguments,Q)}else rt=st.apply(this,arguments);return A()(this,rt)}}function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}var F=function(k){E()(nt,k);var $=N(nt);function nt(st){var rt;return x()(this,nt),rt=$.call(this,st),rt.vertexShaderGLSL=void 0,rt.fragmentShaderGLSL=void 0,rt.defines={},rt.dirty=!0,rt.uniforms=[],rt.cull={enable:!0,face:p.gl.BACK},rt.depth={enable:!0},rt.blend=void 0,rt.entity=void 0,rt.type=void 0,Object.assign(S()(rt),st),rt}return D()(nt,[{key:"setDefines",value:function(rt){return this.defines=z(z({},this.defines),rt),this}},{key:"setCull",value:function(rt){return this.cull=rt,this}},{key:"setDepth",value:function(rt){return this.depth=rt,this}},{key:"setBlend",value:function(rt){return this.blend=rt,this}},{key:"setUniform",value:function(rt,Q){var Y=this;if(typeof rt!="string")return Object.keys(rt).forEach(function(et){return Y.setUniform(et,rt[et])}),this;var K=this.uniforms.find(function(et){return et.name===rt});return K?(K.dirty=!0,K.data=Q):this.uniforms.push({name:rt,dirty:!0,data:Q}),this.dirty=!0,this}}]),nt}(G.a)},Pmht:function(wt,P,i){"use strict";var d=i("ZVT1");i.d(P,"gl",function(){return d.a});var o=i("5/ae"),b=i.n(o),x=i("vdmW"),M=i.n(x),D=i("/pXD"),C=i.n(D),S=i("sn46"),O=i.n(S),E=i("1ZgE"),I=i.n(E),A=i("VRwR"),R=i.n(A),B=i("zui5"),p=i("JJn1"),G=i.n(p),W=i("TZFZ"),z=i.n(W),N=i("OpA2"),j=i.n(N),F=i("m0YO"),k=i.n(F)},PoGV:function(wt,P,i){var d=i("XSdR"),o=i("hppO"),b=i("43gi").Graph;wt.exports={debugOrdering:x};function x(M){var D=o.buildLayerMatrix(M),C=new b({compound:!0,multigraph:!0}).setGraph({});return d.forEach(M.nodes(),function(S){C.setNode(S,{label:S}),C.setParent(S,"layer"+M.node(S).rank)}),d.forEach(M.edges(),function(S){C.setEdge(S.v,S.w,{},S.name)}),d.forEach(D,function(S,O){var E="layer"+O;C.setNode(E,{rank:"same"}),d.reduce(S,function(I,A){return C.setEdge(I,A,{style:"invis"}),A})}),C}},PwAq:function(wt,P){var i=[],d=[],o="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function b(M,D){if(D=D||{},M===void 0)throw new Error(o);var C=D.prepend===!0?"prepend":"append",S=D.container!==void 0?D.container:document.querySelector("head"),O=i.indexOf(S);O===-1&&(O=i.push(S)-1,d[O]={});var E;return d[O]!==void 0&&d[O][C]!==void 0?E=d[O][C]:(E=d[O][C]=x(),C==="prepend"?S.insertBefore(E,S.childNodes[0]):S.appendChild(E)),M.charCodeAt(0)===65279&&(M=M.substr(1,M.length)),E.styleSheet?E.styleSheet.cssText+=M:E.textContent+=M,E}function x(){var M=document.createElement("style");return M.setAttribute("type","text/css"),M}wt.exports=b,wt.exports.insertCss=b},"Q+aX":function(wt,P,i){wt.exports=o;var d=i("jFP1")();function o(b,x,M,D,C,S){var O,E;for(x||(x=2),M||(M=0),D?E=Math.min(D*x+M,b.length):E=b.length,O=M;O<E;O+=x)d[0]=b[O],d[1]=b[O+1],C(d,d,S),b[O]=d[0],b[O+1]=d[1];return b}},Q55c:function(wt,P,i){"use strict";var d=i("T1Zk");i.d(P,"getAdjust",function(){return d.getAdjust});var o=i("5Kaj"),b=i("vAzl"),x=i("tKNA"),M=i("Swz8"),D=i("ANdP"),C=i("X5ku"),S=i.n(C);Object(d.registerAdjust)("Dodge",b.a),Object(d.registerAdjust)("Jitter",x.a),Object(d.registerAdjust)("Stack",M.a),Object(d.registerAdjust)("Symmetric",D.a)},Q8h2:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.AsyncContainerModule=P.ContainerModule=void 0;var d=i("qSJf"),o=function(){function x(M){this.id=d.id(),this.registry=M}return x}();P.ContainerModule=o;var b=function(){function x(M){this.id=d.id(),this.registry=M}return x}();P.AsyncContainerModule=b},QwgH:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("xXxO"),b=i("jg4I"),x={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},M=function(D){Object(d.c)(C,D);function C(S){var O=D.call(this,S)||this;return O.initCfg(),O}return C.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},C.prototype.clear=function(){},C.prototype.update=function(S){var O=this,E=this.get("defaultCfg");Object(b.j)(S,function(I,A){var R=O.get(A),B=I;R!==I&&(Object(b.M)(I)&&E[A]&&(B=Object(b.h)({},E[A],I)),O.set(A,B))}),this.updateInner(S),this.afterUpdate(S)},C.prototype.updateInner=function(S){},C.prototype.afterUpdate=function(S){Object(b.x)(S,"visible")&&(S.visible?this.show():this.hide()),Object(b.x)(S,"capture")&&this.setCapture(S.capture)},C.prototype.getLayoutBBox=function(){return this.getBBox()},C.prototype.getLocationType=function(){return this.get("locationType")},C.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},C.prototype.setOffset=function(S,O){this.update({offsetX:S,offsetY:O})},C.prototype.setLocation=function(S){var O=Object(d.a)({},S);this.update(O)},C.prototype.getLocation=function(){var S=this,O={},E=this.get("locationType"),I=x[E];return Object(b.j)(I,function(A){O[A]=S.get(A)}),O},C.prototype.isList=function(){return!1},C.prototype.isSlider=function(){return!1},C.prototype.init=function(){},C.prototype.initCfg=function(){var S=this,O=this.get("defaultCfg");Object(b.j)(O,function(E,I){var A=S.get(I);if(Object(b.M)(A)){var R=Object(b.h)({},E,A);S.set(I,R)}})},C}(o.Base);P.a=M},"R+Mm":function(wt,P,i){"use strict";i.d(P,"a",function(){return K});var d=i("J+IK"),o=i("Gc/9"),b=i("vX7b"),x=i("piQC"),M=i("Cw9K"),D=i("jg4I"),C=i("w9vu"),S=i("4qWt");function O(et,ut){if(!!Object(D.B)(et))return et.find(function(dt){return dt.type===ut})}function E(et,ut){var dt=O(et,ut);return dt&&dt.enable!==!1}function I(et){var ut=et.interactions["treemap-drill-down"];if(!!ut){var dt=ut.context.actions.find(function(vt){return vt.name==="treemap-drill-down-action"});dt.reset()}}function A(et,ut){var dt=O(et,"treemap-drill-down");return dt?et.map(function(vt){return vt.type==="treemap-drill-down"?Object(M.b)({},vt,{cfg:{hierarchyConfig:ut}}):vt}):et}function R(et){var ut=et.data,dt=et.colorField,vt=et.enableDrillDown,at=et.hierarchyConfig,pt=Object(S.a)(ut,Object(d.a)(Object(d.a)({},at),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),Tt=[];return pt.forEach(function(Gt){if(Gt.depth===0||vt&&Gt.depth!==1||!vt&&Gt.children)return null;var Kt=Gt.ancestors().map(function(ft){return{data:ft.data,height:ft.height,value:ft.value}}),Xt=vt&&Object(D.B)(ut.path)?Kt.concat(ut.path.slice(1)):Kt,gt=Object.assign({},Gt.data,{x:Gt.x,y:Gt.y,depth:Gt.depth,value:Gt.value,path:Xt});if(!Gt.data[dt]&&Gt.parent){var lt=Gt.ancestors().find(function(ft){return ft.data[dt]});gt[dt]=lt==null?void 0:lt.data[dt]}else gt[dt]=Gt.data[dt];Tt.push(gt)}),Tt}function B(et){var ut=Object(C.a)(et),dt=25;return[ut[0],ut[1],ut[2]+dt,ut[3]]}function p(et){var ut=et.options,dt=ut.colorField;return Object(M.b)({options:{colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1,fields:["name","value",dt,"path"],formatter:function(at){return{name:at.name,value:at.value}}}}},et)}function G(et){var ut=et.chart,dt=et.options,vt=dt.color,at=dt.colorField,pt=dt.rectStyle,Tt=dt.hierarchyConfig,Gt=R({data:dt.data,colorField:dt.colorField,enableDrillDown:E(dt.interactions,"treemap-drill-down"),hierarchyConfig:Tt});return ut.data(Gt),Object(b.a)(Object(M.b)({},et,{options:{xField:"x",yField:"y",seriesField:at,rawFields:["value"],polygon:{color:vt,style:pt}}})),ut.coordinate().reflect("y"),et}function W(et){var ut=et.chart;return ut.axis(!1),et}function z(et){var ut=et.chart,dt=et.options,vt=dt.interactions,at=dt.hierarchyConfig;Object(x.c)({chart:ut,options:{interactions:A(vt,at)}});var pt=O(vt,"view-zoom");pt&&(pt.enable!==!1?ut.getCanvas().on("mousewheel",function(Gt){Gt.preventDefault()}):ut.getCanvas().off("mousewheel"));var Tt=E(vt,"treemap-drill-down");return Tt&&(ut.appendPadding=B(ut.appendPadding)),et}function N(et){return Object(M.e)(p,G,W,x.j,x.d,x.k,z,x.a,Object(x.b)())(et)}var j=i("18og"),F=i("8Raj"),k=4,$=0,nt=5,st={name:"treemap-bread-crumb",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeStyle:{fill:"#87B5FF"}},rt=function(et){Object(d.c)(ut,et);function ut(){var dt=et!==null&&et.apply(this,arguments)||this;return dt.historyCache=null,dt.breadCrumbGroup=null,dt.breadCrumbCfg=st,dt}return ut.prototype.getButtonCfg=function(){return Object(F.a)(this.breadCrumbCfg,this.cfg)},ut.prototype.drill=function(dt){var vt=this.getButtonCfg(),at=this.context.view,pt=at.getData(),Tt=at.getGroupScales(),Gt=Object(D.s)(at,["interactions","treemap-drill-down","cfg","hierarchyConfig"],{});this.historyCache||(this.historyCache=[{name:vt.rootText,children:pt}]);var Kt=R({data:dt,colorField:Object(D.s)(Tt,[0,"field"]),enableDrillDown:!0,hierarchyConfig:Gt});at.changeData(Kt),this.historyCache.push({name:dt.name,children:Kt})},ut.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},ut.prototype.drawBreadCrumbGroup=function(){var dt=this,vt=this.getButtonCfg(),at=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:vt.name});var pt=0;at.forEach(function(Tt,Gt){var Kt=dt.breadCrumbGroup.addShape({type:"text",name:vt.name+"_"+Tt.name+"_text",attrs:Object(d.a)(Object(d.a)({text:Tt.name},vt.textStyle),{x:pt,y:0})}),Xt=Kt.getBBox();if(pt+=Xt.width+k,Kt.on("click",function(){var ft=at.slice(0,Gt+1);dt.back(ft)}),Kt.on("mouseenter",function(){Kt.attr(vt.activeStyle)}),Kt.on("mouseleave",function(){Kt.attr(vt.textStyle)}),Gt<at.length-1){var gt=dt.breadCrumbGroup.addShape({type:"text",name:vt.name+"_"+Tt.name+"_divider",attrs:Object(d.a)(Object(d.a)({text:vt.dividerText},vt.textStyle),{x:pt,y:0})}),lt=gt.getBBox();pt+=lt.width+k}})},ut.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var dt=this.context.view,vt=dt.getCoordinate(),at=vt.convert({x:0,y:1}),pt=this.breadCrumbGroup,Tt=pt.getBBox(),Gt=j.Util.transform(null,[["t",at.x+$,at.y+Tt.height+nt]]);pt.setMatrix(Gt)}},ut.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},ut.prototype.click=function(){var dt=Object(D.s)(this.context,["event","data","data"]);if(!dt)return!1;this.drill(dt),this.drawBreadCrumb()},ut.prototype.back=function(dt){var vt=this.context.view;if(!(!Object(D.B)(this.historyCache)||this.historyCache.length<=0)){this.historyCache=dt;var at=dt[dt.length-1].children;vt.changeData(at),dt.length>1?this.drawBreadCrumb():this.hideCrumbGroup()}},ut.prototype.reset=function(){this.historyCache=null,this.hideCrumbGroup()},ut.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),et.prototype.destroy.call(this)},ut}(j.Action);function Q(et){var ut=Object(D.s)(et,["event","data","data"],{});return Object(D.B)(ut.children)&&ut.children.length>0&&ut.depth===1}Object(j.registerAction)("treemap-drill-down-action",rt),Object(j.registerInteraction)("treemap-drill-down",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:pointer"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:Q,action:["treemap-drill-down-action:click"]},{trigger:"afterchangesize",action:["treemap-drill-down-action:resetPosition"]}]});var Y=i("KeK7"),K=function(et){Object(d.c)(ut,et);function ut(){var dt=et!==null&&et.apply(this,arguments)||this;return dt.type="treemap",dt}return ut.prototype.changeData=function(dt){var vt=this.options,at=vt.colorField,pt=vt.interactions,Tt=vt.hierarchyConfig;this.updateOption({data:dt});var Gt=R({data:dt,colorField:at,enableDrillDown:E(pt,"treemap-drill-down"),hierarchyConfig:Tt});this.chart.changeData(Gt),I(this.chart)},ut.prototype.getSchemaAdaptor=function(){return N},ut}(o.b)},RRRq:function(wt,P,i){"use strict";i.d(P,"d",function(){return S}),i.d(P,"b",function(){return O}),i.d(P,"c",function(){return E}),i.d(P,"a",function(){return R});var d=i("J+IK"),o=i("jg4I"),b=i("piQC"),x=i("Cw9K"),M=i("AOO/"),D=i("ZXD1");function C(B){var p=B.chart,G=B.options,W=G.data,z=G.color,N=G.lineStyle,j=G.lineShape,F=G.point,k=G.seriesField,$=F==null?void 0:F.state;p.data(W);var nt=Object(x.b)({},B,{options:{shapeField:k,line:{color:z,style:N,shape:j},point:F&&Object(d.a)({color:z,shape:"circle"},F),label:void 0}}),st=Object(x.b)({},nt,{options:{tooltip:!1,state:$}});return Object(M.d)(nt),Object(M.e)(st),B}function S(B){var p,G,W=B.options,z=W.xAxis,N=W.yAxis,j=W.xField,F=W.yField,k=W.data;return Object(x.e)(Object(b.f)((p={},p[j]=z,p[F]=N,p),(G={},G[j]={type:"cat"},G[F]=Object(D.a)(k,F),G)))(B)}function O(B){var p=B.chart,G=B.options,W=G.xAxis,z=G.yAxis,N=G.xField,j=G.yField;return W===!1?p.axis(N,!1):p.axis(N,W),z===!1?p.axis(j,!1):p.axis(j,z),B}function E(B){var p=B.chart,G=B.options,W=G.legend,z=G.seriesField;return W&&z?p.legend(z,W):W===!1&&p.legend(!1),B}function I(B){var p=B.chart,G=B.options,W=G.label,z=G.yField,N=Object(x.c)(p,"line");if(!W)N.label(!1);else{var j=W.callback,F=Object(d.e)(W,["callback"]);N.label({fields:[z],callback:j,cfg:Object(d.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(x.v)(F))})}return B}function A(B){var p=B.chart,G=B.options,W=G.isStack;return W&&Object(o.j)(p.geometries,function(z){z.adjust("stack")}),B}function R(B){return Object(x.e)(C,S,A,b.j,O,E,b.k,I,b.h,b.c,b.a,Object(b.b)(),b.e)(B)}},"RV5/":function(wt,P,i){wt.exports={EPSILON:i("pHwo"),create:i("jFP1"),clone:i("Z23w"),fromValues:i("44Go"),copy:i("r/Jg"),set:i("0mwY"),equals:i("HAYd"),exactEquals:i("kGri"),add:i("+2Ae"),subtract:i("EpgB"),sub:i("/XgH"),multiply:i("PdHs"),mul:i("pUwi"),divide:i("/Ykl"),div:i("jCkg"),inverse:i("eo7c"),min:i("X4CS"),max:i("EZfi"),rotate:i("iUtP"),floor:i("naqw"),ceil:i("zJ04"),round:i("JJ9t"),scale:i("SwPz"),scaleAndAdd:i("aMRv"),distance:i("rBQE"),dist:i("BTaQ"),squaredDistance:i("5LP0"),sqrDist:i("Zkfg"),length:i("oobg"),len:i("5Am0"),squaredLength:i("ebDh"),sqrLen:i("zEOA"),negate:i("MGR1"),normalize:i("8+ZV"),dot:i("FolP"),cross:i("WLqU"),lerp:i("COEK"),random:i("ylrI"),transformMat2:i("fI7b"),transformMat2d:i("WzGa"),transformMat3:i("wMWh"),transformMat4:i("Rj9g"),forEach:i("Q+aX"),limit:i("3zSj")}},RaWV:function(wt,P){function i(d,o,b,x){var M=-1,D=d==null?0:d.length;for(x&&D&&(b=d[++M]);++M<D;)b=o(b,d[M],M,d);return b}wt.exports=i},Rj9g:function(wt,P){wt.exports=i;function i(d,o,b){var x=o[0],M=o[1];return d[0]=b[0]*x+b[4]*M+b[12],d[1]=b[1]*x+b[5]*M+b[13],d}},"Rph/":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.circularDependencyToException=P.listMetadataForTarget=P.listRegisteredBindingsForServiceIdentifier=P.getServiceIdentifierAsString=P.getFunctionName=void 0;var d=i("196R");function o(O){if(typeof O=="function"){var E=O;return E.name}else{if(typeof O=="symbol")return O.toString();var E=O;return E}}P.getServiceIdentifierAsString=o;function b(O,E,I){var A="",R=I(O,E);return R.length!==0&&(A=`
Registered bindings:`,R.forEach(function(B){var p="Object";B.implementationType!==null&&(p=S(B.implementationType)),A=A+`
 `+p,B.constraint.metaData&&(A=A+" - "+B.constraint.metaData)})),A}P.listRegisteredBindingsForServiceIdentifier=b;function x(O,E){return O.parentRequest===null?!1:O.parentRequest.serviceIdentifier===E?!0:x(O.parentRequest,E)}function M(O){function E(A,R){R===void 0&&(R=[]);var B=o(A.serviceIdentifier);return R.push(B),A.parentRequest!==null?E(A.parentRequest,R):R}var I=E(O);return I.reverse().join(" --> ")}function D(O){O.childRequests.forEach(function(E){if(x(E,E.serviceIdentifier)){var I=M(E);throw new Error(d.CIRCULAR_DEPENDENCY+" "+I)}else D(E)})}P.circularDependencyToException=D;function C(O,E){if(E.isTagged()||E.isNamed()){var I="",A=E.getNamedTag(),R=E.getCustomTags();return A!==null&&(I+=A.toString()+`
`),R!==null&&R.forEach(function(B){I+=B.toString()+`
`})," "+O+`
 `+O+" - "+I}else return" "+O}P.listMetadataForTarget=C;function S(O){if(O.name)return O.name;var E=O.toString(),I=E.match(/^function\s*([^\s(]+)/);return I?I[1]:"Anonymous function: "+E}P.getFunctionName=S},"RtY/":function(wt,P,i){"use strict";i.d(P,"a",function(){return ut});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("S5Um"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("VwUA"),E=i.n(O),I=i("0iMn"),A=i.n(I),R=i("YcyD"),B=i.n(R),p=i("XN3X"),G=i("ZVT1"),W=i("K4bE"),z,N,j,F,k,$,nt,st,rt,Q=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,Y=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,K=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,et=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ut=(z=Object(R.injectable)(),N=Object(R.inject)(p.a.RenderEngine),j=Object(R.inject)(p.a.ResourcePool),z(F=(k=(rt=st=function dt(){var vt=this;S()(this,dt),D()(this,"engine",$,this),D()(this,"resourcePool",nt,this),this.model=void 0,this.setup=function(at,pt,Tt){var Gt=at.getPass(W.a.IDENTIFIER);if(Gt){var Kt=at.createRenderTarget(pt,"render to screen",{width:1,height:1});Tt.data={input:pt.read(Gt.data.output),output:pt.write(at,Kt)}}},this.execute=function(){var at=x()(o.a.mark(function pt(Tt,Gt){var Kt,Xt,gt,lt,ft,it,bt;return o.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if(Kt=vt.engine,Xt=Kt.createModel,gt=Kt.createAttribute,lt=Kt.createBuffer,vt.model){Mt.next=6;break}return Mt.next=4,Xt({vs:vt.engine.supportWebGPU?et:Y,fs:vt.engine.supportWebGPU?K:Q,attributes:{a_Position:gt({buffer:lt({data:[-4,-4,4,-4,0,4],type:G.a.FLOAT}),size:2,arrayStride:2*4,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:ft=Mt.sent,vt.model=ft;case 6:it=Tt.getResourceNode(Gt.data.input),bt=vt.resourcePool.getOrCreateResource(it.resource),vt.engine.useFramebuffer(null,function(){vt.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),vt.model.draw({uniforms:{u_Texture:bt}})});case 9:case"end":return Mt.stop()}},pt)}));return function(pt,Tt){return at.apply(this,arguments)}}(),this.tearDown=function(){vt.model=void 0}},st.IDENTIFIER="Copy Pass",rt),$=E()(k.prototype,"engine",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=E()(k.prototype,"resourcePool",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k))||F)},RxlK:function(wt,P,i){"use strict";i.d(P,"b",function(){return d}),i.d(P,"c",function(){return o}),i.d(P,"a",function(){return b});function d(x,M){var D=[],C=x[0],S=x[1],O=x[2],E=x[3],I=x[4],A=x[5],R=x[6],B=x[7],p=x[8],G=M[0],W=M[1],z=M[2],N=M[3],j=M[4],F=M[5],k=M[6],$=M[7],nt=M[8];return D[0]=G*C+W*E+z*R,D[1]=G*S+W*I+z*B,D[2]=G*O+W*A+z*p,D[3]=N*C+j*E+F*R,D[4]=N*S+j*I+F*B,D[5]=N*O+j*A+F*p,D[6]=k*C+$*E+nt*R,D[7]=k*S+$*I+nt*B,D[8]=k*O+$*A+nt*p,D}function o(x,M){var D=[],C=M[0],S=M[1];return D[0]=x[0]*C+x[3]*S+x[6],D[1]=x[1]*C+x[4]*S+x[7],D}function b(x){var M=[],D=x[0],C=x[1],S=x[2],O=x[3],E=x[4],I=x[5],A=x[6],R=x[7],B=x[8],p=B*E-I*R,G=-B*O+I*A,W=R*O-E*A,z=D*p+C*G+S*W;return z?(z=1/z,M[0]=p*z,M[1]=(-B*C+S*R)*z,M[2]=(I*C-S*E)*z,M[3]=G*z,M[4]=(B*D-S*A)*z,M[5]=(-I*D+S*O)*z,M[6]=W*z,M[7]=(-R*D+C*A)*z,M[8]=(E*D-C*O)*z,M):null}},S5Um:function(wt,P){function i(d,o,b,x){!b||Object.defineProperty(d,o,{enumerable:b.enumerable,configurable:b.configurable,writable:b.writable,value:b.initializer?b.initializer.call(x):void 0})}wt.exports=i,wt.exports.default=wt.exports,wt.exports.__esModule=!0},S8CN:function(wt,P){function i(d,o,b,x){for(var M=d.length,D=b+(x?1:-1);x?D--:++D<M;)if(o(d[D],D,d))return D;return-1}wt.exports=i},S9go:function(wt,P,i){"use strict";var d=i("fo7X"),o=i("8Vus"),b=i("bmBd")},SBWV:function(wt,P,i){"use strict";i.d(P,"a",function(){return D});var d=i("J+IK"),o=i("Gc/9"),b=i("6CNK"),x=i("rwKT"),M=i("lCDx"),D=function(C){Object(d.c)(S,C);function S(){var O=C!==null&&C.apply(this,arguments)||this;return O.type="tiny-line",O}return S.getDefaultOptions=function(){return x.a},S.prototype.changeData=function(O){this.updateOption({data:O});var E=this,I=E.chart,A=E.options;Object(b.b)({chart:I,options:A}),I.changeData(Object(M.a)(O))},S.prototype.getDefaultOptions=function(){return S.getDefaultOptions()},S.prototype.getSchemaAdaptor=function(){return b.a},S}(o.b)},SCaY:function(wt,P,i){"use strict";i.d(P,"b",function(){return b}),i.d(P,"a",function(){return x}),i.d(P,"d",function(){return M}),i.d(P,"c",function(){return D});var d=i("jg4I"),o=i("0xlF");function b(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}function x(C){var S=o.a[C.type],O=C.getParent();if(!S)throw new Error("the type "+C.type+" is not supported by svg");var E=b(S);if(C.get("id")&&(E.id=C.get("id")),C.set("el",E),C.set("attrs",{}),O){var I=O.get("el");I||(I=O.createDom(),O.set("el",I)),I.appendChild(E)}return E}function M(C,S){var O=C.get("el"),E=Object(d.ob)(O.children).sort(S),I=document.createDocumentFragment();E.forEach(function(A){I.appendChild(A)}),O.appendChild(I)}function D(C,S){var O=C.parentNode,E=Array.from(O.childNodes).filter(function(B){return B.nodeType===1&&B.nodeName.toLowerCase()!=="defs"}),I=E[S],A=E.indexOf(C);if(I){if(A>S)O.insertBefore(C,I);else if(A<S){var R=E[S+1];R?O.insertBefore(C,R):O.appendChild(C)}}else O.appendChild(C)}},SJBz:function(wt,P){},SwPz:function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=o[0]*b,d[1]=o[1]*b,d}},Swz8:function(wt,P,i){"use strict";var d=i("/WN3"),o=i("jg4I"),b=i("5Kaj"),x=o.a,M=function(D){Object(d.b)(C,D);function C(S){var O=D.call(this,S)||this,E=S.adjustNames,I=E===void 0?["y"]:E,A=S.height,R=A===void 0?NaN:A,B=S.size,p=B===void 0?10:B,G=S.reverseOrder,W=G===void 0?!1:G;return O.adjustNames=I,O.height=R,O.size=p,O.reverseOrder=W,O}return C.prototype.process=function(S){var O=this,E=O.yField,I=O.reverseOrder,A=E?this.processStack(S):this.processOneDimStack(S);return I?this.reverse(A):A},C.prototype.reverse=function(S){return S.slice(0).reverse()},C.prototype.processStack=function(S){var O=this,E=O.xField,I=O.yField,A=O.reverseOrder,R=A?this.reverse(S):S,B=new x,p=new x;return R.map(function(G){return G.map(function(W){var z,N=o.s(W,E,0),j=o.s(W,[I]),F=N.toString();if(j=o.B(j)?j[1]:j,!o.I(j)){var k=j>=0?B:p;k.has(F)||k.set(F,0);var $=k.get(F),nt=j+$;return k.set(F,nt),Object(d.a)(Object(d.a)({},W),(z={},z[I]=[$,nt],z))}return W})})},C.prototype.processOneDimStack=function(S){var O=this,E=this,I=E.xField,A=E.height,R=E.reverseOrder,B="y",p=R?this.reverse(S):S,G=new x;return p.map(function(W){return W.map(function(z){var N,j=O.size,F=z[I],k=j*2/A;G.has(F)||G.set(F,k/2);var $=G.get(F);return G.set(F,$+k),Object(d.a)(Object(d.a)({},z),(N={},N[B]=$,N))})})},C}(b.a);P.a=M},T0ZP:function(wt,P,i){(function(d,o){wt.exports=o()})(this,function(){"use strict";var d=function(ie){return ie instanceof Uint8Array||ie instanceof Uint16Array||ie instanceof Uint32Array||ie instanceof Int8Array||ie instanceof Int16Array||ie instanceof Int32Array||ie instanceof Float32Array||ie instanceof Float64Array||ie instanceof Uint8ClampedArray},o=function(ie,De){for(var ar=Object.keys(De),Cr=0;Cr<ar.length;++Cr)ie[ar[Cr]]=De[ar[Cr]];return ie},b=`
`;function x(_t){return typeof atob!="undefined"?atob(_t):"base64:"+_t}function M(_t){var ie=new Error("(regl) "+_t);throw console.error(ie),ie}function D(_t,ie){_t||M(ie)}function C(_t){return _t?": "+_t:""}function S(_t,ie,De){_t in ie||M("unknown parameter ("+_t+")"+C(De)+". possible values: "+Object.keys(ie).join())}function O(_t,ie){d(_t)||M("invalid parameter type"+C(ie)+". must be a typed array")}function E(_t,ie){switch(ie){case"number":return typeof _t=="number";case"object":return typeof _t=="object";case"string":return typeof _t=="string";case"boolean":return typeof _t=="boolean";case"function":return typeof _t=="function";case"undefined":return typeof _t=="undefined";case"symbol":return typeof _t=="symbol"}}function I(_t,ie,De){E(_t,ie)||M("invalid parameter type"+C(De)+". expected "+ie+", got "+typeof _t)}function A(_t,ie){_t>=0&&(_t|0)===_t||M("invalid parameter type, ("+_t+")"+C(ie)+". must be a nonnegative integer")}function R(_t,ie,De){ie.indexOf(_t)<0&&M("invalid value"+C(De)+". must be one of: "+ie)}var B=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(_t){Object.keys(_t).forEach(function(ie){B.indexOf(ie)<0&&M('invalid regl constructor argument "'+ie+'". must be one of '+B)})}function G(_t,ie){for(_t=_t+"";_t.length<ie;)_t=" "+_t;return _t}function W(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function z(_t,ie){this.number=_t,this.line=ie,this.errors=[]}function N(_t,ie,De){this.file=_t,this.line=ie,this.message=De}function j(){var _t=new Error,ie=(_t.stack||_t).toString(),De=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ie);if(De)return De[1];var ar=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ie);return ar?ar[1]:"unknown"}function F(){var _t=new Error,ie=(_t.stack||_t).toString(),De=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ie);if(De)return De[1];var ar=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ie);return ar?ar[1]:"unknown"}function k(_t,ie){var De=_t.split(`
`),ar=1,Cr=0,br={unknown:new W,0:new W};br.unknown.name=br[0].name=ie||j(),br.unknown.lines.push(new z(0,""));for(var rr=0;rr<De.length;++rr){var Vr=De[rr],cn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Vr);if(cn)switch(cn[1]){case"line":var qr=/(\d+)(\s+\d+)?/.exec(cn[2]);qr&&(ar=qr[1]|0,qr[2]&&(Cr=qr[2]|0,Cr in br||(br[Cr]=new W)));break;case"define":var en=/SHADER_NAME(_B64)?\s+(.*)$/.exec(cn[2]);en&&(br[Cr].name=en[1]?x(en[2]):en[2]);break}br[Cr].lines.push(new z(ar++,Vr))}return Object.keys(br).forEach(function(fn){var yn=br[fn];yn.lines.forEach(function(gn){yn.index[gn.number]=gn})}),br}function $(_t){var ie=[];return _t.split(`
`).forEach(function(De){if(!(De.length<5)){var ar=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(De);ar?ie.push(new N(ar[1]|0,ar[2]|0,ar[3].trim())):De.length>0&&ie.push(new N("unknown",0,De))}}),ie}function nt(_t,ie){ie.forEach(function(De){var ar=_t[De.file];if(ar){var Cr=ar.index[De.line];if(Cr){Cr.errors.push(De),ar.hasErrors=!0;return}}_t.unknown.hasErrors=!0,_t.unknown.lines[0].errors.push(De)})}function st(_t,ie,De,ar,Cr){if(!_t.getShaderParameter(ie,_t.COMPILE_STATUS)){var br=_t.getShaderInfoLog(ie),rr=ar===_t.FRAGMENT_SHADER?"fragment":"vertex";dt(De,"string",rr+" shader source must be a string",Cr);var Vr=k(De,Cr),cn=$(br);nt(Vr,cn),Object.keys(Vr).forEach(function(qr){var en=Vr[qr];if(!en.hasErrors)return;var fn=[""],yn=[""];function gn(ln,cr){fn.push(ln),yn.push(cr||"")}gn("file number "+qr+": "+en.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),en.lines.forEach(function(ln){if(ln.errors.length>0){gn(G(ln.number,4)+"|  ","background-color:yellow; font-weight:bold"),gn(ln.line+b,"color:red; background-color:yellow; font-weight:bold");var cr=0;ln.errors.forEach(function(lr){var tn=lr.message,Cn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(tn);if(Cn){var Ar=Cn[1];switch(tn=Cn[2],Ar){case"assign":Ar="=";break}cr=Math.max(ln.line.indexOf(Ar,cr),0)}else cr=0;gn(G("| ",6)),gn(G("^^^",cr+3)+b,"font-weight:bold"),gn(G("| ",6)),gn(tn+b,"font-weight:bold")}),gn(G("| ",6)+b)}else gn(G(ln.number,4)+"|  "),gn(ln.line+b,"color:red")}),typeof document!="undefined"&&!window.chrome?(yn[0]=fn.join("%c"),console.log.apply(console,yn)):console.log(fn.join(""))}),D.raise("Error compiling "+rr+" shader, "+Vr[0].name)}}function rt(_t,ie,De,ar,Cr){if(!_t.getProgramParameter(ie,_t.LINK_STATUS)){var br=_t.getProgramInfoLog(ie),rr=k(De,Cr),Vr=k(ar,Cr),cn='Error linking program with vertex shader, "'+Vr[0].name+'", and fragment shader "'+rr[0].name+'"';typeof document!="undefined"?console.log("%c"+cn+b+"%c"+br,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(cn+b+br),D.raise(cn)}}function Q(_t){_t._commandRef=j()}function Y(_t,ie,De,ar){Q(_t);function Cr(cn){return cn?ar.id(cn):0}_t._fragId=Cr(_t.static.frag),_t._vertId=Cr(_t.static.vert);function br(cn,qr){Object.keys(qr).forEach(function(en){cn[ar.id(en)]=!0})}var rr=_t._uniformSet={};br(rr,ie.static),br(rr,ie.dynamic);var Vr=_t._attributeSet={};br(Vr,De.static),br(Vr,De.dynamic),_t._hasCount="count"in _t.static||"count"in _t.dynamic||"elements"in _t.static||"elements"in _t.dynamic}function K(_t,ie){var De=F();M(_t+" in command "+(ie||j())+(De==="unknown"?"":" called from "+De))}function et(_t,ie,De){_t||K(ie,De||j())}function ut(_t,ie,De,ar){_t in ie||K("unknown parameter ("+_t+")"+C(De)+". possible values: "+Object.keys(ie).join(),ar||j())}function dt(_t,ie,De,ar){E(_t,ie)||K("invalid parameter type"+C(De)+". expected "+ie+", got "+typeof _t,ar||j())}function vt(_t){_t()}function at(_t,ie,De){_t.texture?R(_t.texture._texture.internalformat,ie,"unsupported texture format for attachment"):R(_t.renderbuffer._renderbuffer.format,De,"unsupported renderbuffer format for attachment")}var pt=33071,Tt=9728,Gt=9984,Kt=9985,Xt=9986,gt=9987,lt=5120,ft=5121,it=5122,bt=5123,Dt=5124,Mt=5125,q=5126,V=32819,ot=32820,tt=33635,yt=34042,Pt=36193,Ft={};Ft[lt]=Ft[ft]=1,Ft[it]=Ft[bt]=Ft[Pt]=Ft[tt]=Ft[V]=Ft[ot]=2,Ft[Dt]=Ft[Mt]=Ft[q]=Ft[yt]=4;function Wt(_t,ie){return _t===ot||_t===V||_t===tt?2:_t===yt?4:Ft[_t]*ie}function Vt(_t){return!(_t&_t-1)&&!!_t}function Lt(_t,ie,De){var ar,Cr=ie.width,br=ie.height,rr=ie.channels;D(Cr>0&&Cr<=De.maxTextureSize&&br>0&&br<=De.maxTextureSize,"invalid texture shape"),(_t.wrapS!==pt||_t.wrapT!==pt)&&D(Vt(Cr)&&Vt(br),"incompatible wrap mode for texture, both width and height must be power of 2"),ie.mipmask===1?Cr!==1&&br!==1&&D(_t.minFilter!==Gt&&_t.minFilter!==Xt&&_t.minFilter!==Kt&&_t.minFilter!==gt,"min filter requires mipmap"):(D(Vt(Cr)&&Vt(br),"texture must be a square power of 2 to support mipmapping"),D(ie.mipmask===(Cr<<1)-1,"missing or incomplete mipmap data")),ie.type===q&&(De.extensions.indexOf("oes_texture_float_linear")<0&&D(_t.minFilter===Tt&&_t.magFilter===Tt,"filter not supported, must enable oes_texture_float_linear"),D(!_t.genMipmaps,"mipmap generation not supported with float textures"));var Vr=ie.images;for(ar=0;ar<16;++ar)if(Vr[ar]){var cn=Cr>>ar,qr=br>>ar;D(ie.mipmask&1<<ar,"missing mipmap data");var en=Vr[ar];if(D(en.width===cn&&en.height===qr,"invalid shape for mip images"),D(en.format===ie.format&&en.internalformat===ie.internalformat&&en.type===ie.type,"incompatible type for mip image"),!en.compressed)if(en.data){var fn=Math.ceil(Wt(en.type,rr)*cn/en.unpackAlignment)*en.unpackAlignment;D(en.data.byteLength===fn*qr,"invalid data for image, buffer size is inconsistent with image format")}else en.element||en.copy}else _t.genMipmaps||D((ie.mipmask&1<<ar)==0,"extra mipmap data");ie.compressed&&D(!_t.genMipmaps,"mipmap generation for compressed images not supported")}function Ct(_t,ie,De,ar){var Cr=_t.width,br=_t.height,rr=_t.channels;D(Cr>0&&Cr<=ar.maxTextureSize&&br>0&&br<=ar.maxTextureSize,"invalid texture shape"),D(Cr===br,"cube map must be square"),D(ie.wrapS===pt&&ie.wrapT===pt,"wrap mode not supported by cube map");for(var Vr=0;Vr<De.length;++Vr){var cn=De[Vr];D(cn.width===Cr&&cn.height===br,"inconsistent cube map face shape"),ie.genMipmaps&&(D(!cn.compressed,"can not generate mipmap for compressed textures"),D(cn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var qr=cn.images,en=0;en<16;++en){var fn=qr[en];if(fn){var yn=Cr>>en,gn=br>>en;D(cn.mipmask&1<<en,"missing mipmap data"),D(fn.width===yn&&fn.height===gn,"invalid shape for mip images"),D(fn.format===_t.format&&fn.internalformat===_t.internalformat&&fn.type===_t.type,"incompatible type for mip image"),fn.compressed||(fn.data?D(fn.data.byteLength===yn*gn*Math.max(Wt(fn.type,rr),fn.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):fn.element||fn.copy)}}}}var _=o(D,{optional:vt,raise:M,commandRaise:K,command:et,parameter:S,commandParameter:ut,constructor:p,type:I,commandType:dt,isTypedArray:O,nni:A,oneOf:R,shaderError:st,linkError:rt,callSite:F,saveCommandRef:Q,saveDrawInfo:Y,framebufferFormat:at,guessCommand:j,texture2D:Lt,textureCube:Ct}),It=0,Rt=0,xt=5,Nt=6;function Ht(_t,ie){this.id=It++,this.type=_t,this.data=ie}function jt(_t){return _t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Ut(_t){if(_t.length===0)return[];var ie=_t.charAt(0),De=_t.charAt(_t.length-1);if(_t.length>1&&ie===De&&(ie==='"'||ie==="'"))return['"'+jt(_t.substr(1,_t.length-2))+'"'];var ar=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(_t);if(ar)return Ut(_t.substr(0,ar.index)).concat(Ut(ar[1])).concat(Ut(_t.substr(ar.index+ar[0].length)));var Cr=_t.split(".");if(Cr.length===1)return['"'+jt(_t)+'"'];for(var br=[],rr=0;rr<Cr.length;++rr)br=br.concat(Ut(Cr[rr]));return br}function Jt(_t){return"["+Ut(_t).join("][")+"]"}function se(_t,ie){return new Ht(_t,Jt(ie+""))}function me(_t){return typeof _t=="function"&&!_t._reglType||_t instanceof Ht}function Me(_t,ie){if(typeof _t=="function")return new Ht(Rt,_t);if(typeof _t=="number"||typeof _t=="boolean")return new Ht(xt,_t);if(Array.isArray(_t))return new Ht(Nt,_t.map(function(De,ar){return Me(De,ie+"["+ar+"]")}));if(_t instanceof Ht)return _t;_(!1,"invalid option type in uniform "+ie)}var Pe={DynamicVariable:Ht,define:se,isDynamic:me,unbox:Me,accessor:Jt},Ge={next:typeof requestAnimationFrame=="function"?function(_t){return requestAnimationFrame(_t)}:function(_t){return setTimeout(_t,16)},cancel:typeof cancelAnimationFrame=="function"?function(_t){return cancelAnimationFrame(_t)}:clearTimeout},nr=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function gr(){var _t={"":0},ie=[""];return{id:function(ar){var Cr=_t[ar];return Cr||(Cr=_t[ar]=ie.length,ie.push(ar),Cr)},str:function(ar){return ie[ar]}}}function or(_t,ie,De){var ar=document.createElement("canvas");o(ar.style,{border:0,margin:0,padding:0,top:0,left:0}),_t.appendChild(ar),_t===document.body&&(ar.style.position="absolute",o(_t.style,{margin:0,padding:0}));function Cr(){var Vr=window.innerWidth,cn=window.innerHeight;if(_t!==document.body){var qr=_t.getBoundingClientRect();Vr=qr.right-qr.left,cn=qr.bottom-qr.top}ar.width=De*Vr,ar.height=De*cn,o(ar.style,{width:Vr+"px",height:cn+"px"})}var br;_t!==document.body&&typeof ResizeObserver=="function"?(br=new ResizeObserver(function(){setTimeout(Cr)}),br.observe(_t)):window.addEventListener("resize",Cr,!1);function rr(){br?br.disconnect():window.removeEventListener("resize",Cr),_t.removeChild(ar)}return Cr(),{canvas:ar,onDestroy:rr}}function Ze(_t,ie){function De(ar){try{return _t.getContext(ar,ie)}catch(Cr){return null}}return De("webgl")||De("experimental-webgl")||De("webgl-experimental")}function mr(_t){return typeof _t.nodeName=="string"&&typeof _t.appendChild=="function"&&typeof _t.getBoundingClientRect=="function"}function Nr(_t){return typeof _t.drawArrays=="function"||typeof _t.drawElements=="function"}function Mr(_t){return typeof _t=="string"?_t.split():(_(Array.isArray(_t),"invalid extension array"),_t)}function vn(_t){return typeof _t=="string"?(_(typeof document!="undefined","not supported outside of DOM"),document.querySelector(_t)):_t}function Ln(_t){var ie=_t||{},De,ar,Cr,br,rr={},Vr=[],cn=[],qr=typeof window=="undefined"?1:window.devicePixelRatio,en=!1,fn=function(cr){cr&&_.raise(cr)},yn=function(){};if(typeof ie=="string"?(_(typeof document!="undefined","selector queries only supported in DOM enviroments"),De=document.querySelector(ie),_(De,"invalid query string for element")):typeof ie=="object"?mr(ie)?De=ie:Nr(ie)?(br=ie,Cr=br.canvas):(_.constructor(ie),"gl"in ie?br=ie.gl:"canvas"in ie?Cr=vn(ie.canvas):"container"in ie&&(ar=vn(ie.container)),"attributes"in ie&&(rr=ie.attributes,_.type(rr,"object","invalid context attributes")),"extensions"in ie&&(Vr=Mr(ie.extensions)),"optionalExtensions"in ie&&(cn=Mr(ie.optionalExtensions)),"onDone"in ie&&(_.type(ie.onDone,"function","invalid or missing onDone callback"),fn=ie.onDone),"profile"in ie&&(en=!!ie.profile),"pixelRatio"in ie&&(qr=+ie.pixelRatio,_(qr>0,"invalid pixel ratio"))):_.raise("invalid arguments to regl"),De&&(De.nodeName.toLowerCase()==="canvas"?Cr=De:ar=De),!br){if(!Cr){_(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var gn=or(ar||document.body,fn,qr);if(!gn)return null;Cr=gn.canvas,yn=gn.onDestroy}rr.premultipliedAlpha===void 0&&(rr.premultipliedAlpha=!0),br=Ze(Cr,rr)}return br?{gl:br,canvas:Cr,container:ar,extensions:Vr,optionalExtensions:cn,pixelRatio:qr,profile:en,onDone:fn,onDestroy:yn}:(yn(),fn("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function We(_t,ie){var De={};function ar(rr){_.type(rr,"string","extension name must be string");var Vr=rr.toLowerCase(),cn;try{cn=De[Vr]=_t.getExtension(Vr)}catch(qr){}return!!cn}for(var Cr=0;Cr<ie.extensions.length;++Cr){var br=ie.extensions[Cr];if(!ar(br))return ie.onDestroy(),ie.onDone('"'+br+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ie.optionalExtensions.forEach(ar),{extensions:De,restore:function(){Object.keys(De).forEach(function(Vr){if(De[Vr]&&!ar(Vr))throw new Error("(regl): error restoring extension "+Vr)})}}}function Ye(_t,ie){for(var De=Array(_t),ar=0;ar<_t;++ar)De[ar]=ie(ar);return De}var Gr=5120,Jr=5121,_r=5122,bn=5123,ta=5124,aa=5125,wn=5126;function ea(_t){for(var ie=16;ie<=1<<28;ie*=16)if(_t<=ie)return ie;return 0}function Aa(_t){var ie,De;return ie=(_t>65535)<<4,_t>>>=ie,De=(_t>255)<<3,_t>>>=De,ie|=De,De=(_t>15)<<2,_t>>>=De,ie|=De,De=(_t>3)<<1,_t>>>=De,ie|=De,ie|_t>>1}function Fa(){var _t=Ye(8,function(){return[]});function ie(br){var rr=ea(br),Vr=_t[Aa(rr)>>2];return Vr.length>0?Vr.pop():new ArrayBuffer(rr)}function De(br){_t[Aa(br.byteLength)>>2].push(br)}function ar(br,rr){var Vr=null;switch(br){case Gr:Vr=new Int8Array(ie(rr),0,rr);break;case Jr:Vr=new Uint8Array(ie(rr),0,rr);break;case _r:Vr=new Int16Array(ie(2*rr),0,rr);break;case bn:Vr=new Uint16Array(ie(2*rr),0,rr);break;case ta:Vr=new Int32Array(ie(4*rr),0,rr);break;case aa:Vr=new Uint32Array(ie(4*rr),0,rr);break;case wn:Vr=new Float32Array(ie(4*rr),0,rr);break;default:return null}return Vr.length!==rr?Vr.subarray(0,rr):Vr}function Cr(br){De(br.buffer)}return{alloc:ie,free:De,allocType:ar,freeType:Cr}}var Yn=Fa();Yn.zero=Fa();var Ti=3408,Gi=3410,Qi=3411,Xi=3412,Ii=3413,ao=3414,Go=3415,Po=33901,io=33902,Hi=3379,po=3386,So=34921,Zo=36347,$o=36348,wi=35661,ys=35660,Ws=34930,Uo=36349,Il=34076,Ai=34024,ol=7936,Is=7937,Ds=7938,ms=35724,sl=34047,ua=36063,ru=34852,Wo=3553,ll=34067,Ps=34069,ge=33984,oe=6408,pe=5126,ze=5121,Xe=36160,ir=36053,Br=36064,sn=16384,Gn=function(ie,De){var ar=1;De.ext_texture_filter_anisotropic&&(ar=ie.getParameter(sl));var Cr=1,br=1;De.webgl_draw_buffers&&(Cr=ie.getParameter(ru),br=ie.getParameter(ua));var rr=!!De.oes_texture_float;if(rr){var Vr=ie.createTexture();ie.bindTexture(Wo,Vr),ie.texImage2D(Wo,0,oe,1,1,0,oe,pe,null);var cn=ie.createFramebuffer();if(ie.bindFramebuffer(Xe,cn),ie.framebufferTexture2D(Xe,Br,Wo,Vr,0),ie.bindTexture(Wo,null),ie.checkFramebufferStatus(Xe)!==ir)rr=!1;else{ie.viewport(0,0,1,1),ie.clearColor(1,0,0,1),ie.clear(sn);var qr=Yn.allocType(pe,4);ie.readPixels(0,0,1,1,oe,pe,qr),ie.getError()?rr=!1:(ie.deleteFramebuffer(cn),ie.deleteTexture(Vr),rr=qr[0]===1),Yn.freeType(qr)}}var en=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),fn=!0;if(!en){var yn=ie.createTexture(),gn=Yn.allocType(ze,36);ie.activeTexture(ge),ie.bindTexture(ll,yn),ie.texImage2D(Ps,0,oe,3,3,0,oe,ze,gn),Yn.freeType(gn),ie.bindTexture(ll,null),ie.deleteTexture(yn),fn=!ie.getError()}return{colorBits:[ie.getParameter(Gi),ie.getParameter(Qi),ie.getParameter(Xi),ie.getParameter(Ii)],depthBits:ie.getParameter(ao),stencilBits:ie.getParameter(Go),subpixelBits:ie.getParameter(Ti),extensions:Object.keys(De).filter(function(ln){return!!De[ln]}),maxAnisotropic:ar,maxDrawbuffers:Cr,maxColorAttachments:br,pointSizeDims:ie.getParameter(Po),lineWidthDims:ie.getParameter(io),maxViewportDims:ie.getParameter(po),maxCombinedTextureUnits:ie.getParameter(wi),maxCubeMapSize:ie.getParameter(Il),maxRenderbufferSize:ie.getParameter(Ai),maxTextureUnits:ie.getParameter(Ws),maxTextureSize:ie.getParameter(Hi),maxAttributes:ie.getParameter(So),maxVertexUniforms:ie.getParameter(Zo),maxVertexTextureUnits:ie.getParameter(ys),maxVaryingVectors:ie.getParameter($o),maxFragmentUniforms:ie.getParameter(Uo),glsl:ie.getParameter(ms),renderer:ie.getParameter(Is),vendor:ie.getParameter(ol),version:ie.getParameter(Ds),readFloat:rr,npotTextureCube:fn}};function In(_t){return!!_t&&typeof _t=="object"&&Array.isArray(_t.shape)&&Array.isArray(_t.stride)&&typeof _t.offset=="number"&&_t.shape.length===_t.stride.length&&(Array.isArray(_t.data)||d(_t.data))}var mn=function(ie){return Object.keys(ie).map(function(De){return ie[De]})},Ba={shape:so,flatten:oo};function Ga(_t,ie,De){for(var ar=0;ar<ie;++ar)De[ar]=_t[ar]}function fi(_t,ie,De,ar){for(var Cr=0,br=0;br<ie;++br)for(var rr=_t[br],Vr=0;Vr<De;++Vr)ar[Cr++]=rr[Vr]}function si(_t,ie,De,ar,Cr,br){for(var rr=br,Vr=0;Vr<ie;++Vr)for(var cn=_t[Vr],qr=0;qr<De;++qr)for(var en=cn[qr],fn=0;fn<ar;++fn)Cr[rr++]=en[fn]}function Di(_t,ie,De,ar,Cr){for(var br=1,rr=De+1;rr<ie.length;++rr)br*=ie[rr];var Vr=ie[De];if(ie.length-De==4){var cn=ie[De+1],qr=ie[De+2],en=ie[De+3];for(rr=0;rr<Vr;++rr)si(_t[rr],cn,qr,en,ar,Cr),Cr+=br}else for(rr=0;rr<Vr;++rr)Di(_t[rr],ie,De+1,ar,Cr),Cr+=br}function oo(_t,ie,De,ar){var Cr=1;if(ie.length)for(var br=0;br<ie.length;++br)Cr*=ie[br];else Cr=0;var rr=ar||Yn.allocType(De,Cr);switch(ie.length){case 0:break;case 1:Ga(_t,ie[0],rr);break;case 2:fi(_t,ie[0],ie[1],rr);break;case 3:si(_t,ie[0],ie[1],ie[2],rr,0);break;default:Di(_t,ie,0,rr,0)}return rr}function so(_t){for(var ie=[],De=_t;De.length;De=De[0])ie.push(De.length);return ie}var Ui={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ve=5120,Ua=5122,qn=5124,Lo=5121,hi=5123,Qo=5125,zo=5126,zs=5126,yo={int8:ve,int16:Ua,int32:qn,uint8:Lo,uint16:hi,uint32:Qo,float:zo,float32:zs},us=35048,Jo=35040,gi={dynamic:us,stream:Jo,static:35044},ul=Ba.flatten,qi=Ba.shape,ks=35044,_o=35040,cl=5121,jo=5126,cs=[];cs[5120]=1,cs[5122]=2,cs[5124]=4,cs[5121]=1,cs[5123]=2,cs[5125]=4,cs[5126]=4;function Vs(_t){return Ui[Object.prototype.toString.call(_t)]|0}function Xs(_t,ie){for(var De=0;De<ie.length;++De)_t[De]=ie[De]}function bs(_t,ie,De,ar,Cr,br,rr){for(var Vr=0,cn=0;cn<De;++cn)for(var qr=0;qr<ar;++qr)_t[Vr++]=ie[Cr*cn+br*qr+rr]}function Ls(_t,ie,De,ar){var Cr=0,br={};function rr(cr){this.id=Cr++,this.buffer=_t.createBuffer(),this.type=cr,this.usage=ks,this.byteLength=0,this.dimension=1,this.dtype=cl,this.persistentData=null,De.profile&&(this.stats={size:0})}rr.prototype.bind=function(){_t.bindBuffer(this.type,this.buffer)},rr.prototype.destroy=function(){yn(this)};var Vr=[];function cn(cr,lr){var tn=Vr.pop();return tn||(tn=new rr(cr)),tn.bind(),fn(tn,lr,_o,0,1,!1),tn}function qr(cr){Vr.push(cr)}function en(cr,lr,tn){cr.byteLength=lr.byteLength,_t.bufferData(cr.type,lr,tn)}function fn(cr,lr,tn,Cn,Ar,zn){var Fr;if(cr.usage=tn,Array.isArray(lr)){if(cr.dtype=Cn||jo,lr.length>0){var Kr;if(Array.isArray(lr[0])){Fr=qi(lr);for(var Yr=1,an=1;an<Fr.length;++an)Yr*=Fr[an];cr.dimension=Yr,Kr=ul(lr,Fr,cr.dtype),en(cr,Kr,tn),zn?cr.persistentData=Kr:Yn.freeType(Kr)}else if(typeof lr[0]=="number"){cr.dimension=Ar;var Un=Yn.allocType(cr.dtype,lr.length);Xs(Un,lr),en(cr,Un,tn),zn?cr.persistentData=Un:Yn.freeType(Un)}else d(lr[0])?(cr.dimension=lr[0].length,cr.dtype=Cn||Vs(lr[0])||jo,Kr=ul(lr,[lr.length,lr[0].length],cr.dtype),en(cr,Kr,tn),zn?cr.persistentData=Kr:Yn.freeType(Kr)):_.raise("invalid buffer data")}}else if(d(lr))cr.dtype=Cn||Vs(lr),cr.dimension=Ar,en(cr,lr,tn),zn&&(cr.persistentData=new Uint8Array(new Uint8Array(lr.buffer)));else if(In(lr)){Fr=lr.shape;var sa=lr.stride,pn=lr.offset,rn=0,ur=0,Hn=0,pa=0;Fr.length===1?(rn=Fr[0],ur=1,Hn=sa[0],pa=0):Fr.length===2?(rn=Fr[0],ur=Fr[1],Hn=sa[0],pa=sa[1]):_.raise("invalid shape"),cr.dtype=Cn||Vs(lr.data)||jo,cr.dimension=ur;var Pn=Yn.allocType(cr.dtype,rn*ur);bs(Pn,lr.data,rn,ur,Hn,pa,pn),en(cr,Pn,tn),zn?cr.persistentData=Pn:Yn.freeType(Pn)}else lr instanceof ArrayBuffer?(cr.dtype=cl,cr.dimension=Ar,en(cr,lr,tn),zn&&(cr.persistentData=new Uint8Array(new Uint8Array(lr)))):_.raise("invalid buffer data")}function yn(cr){ie.bufferCount--,ar(cr);var lr=cr.buffer;_(lr,"buffer must not be deleted already"),_t.deleteBuffer(lr),cr.buffer=null,delete br[cr.id]}function gn(cr,lr,tn,Cn){ie.bufferCount++;var Ar=new rr(lr);br[Ar.id]=Ar;function zn(Yr){var an=ks,Un=null,sa=0,pn=0,rn=1;return Array.isArray(Yr)||d(Yr)||In(Yr)||Yr instanceof ArrayBuffer?Un=Yr:typeof Yr=="number"?sa=Yr|0:Yr&&(_.type(Yr,"object","buffer arguments must be an object, a number or an array"),"data"in Yr&&(_(Un===null||Array.isArray(Un)||d(Un)||In(Un),"invalid data for buffer"),Un=Yr.data),"usage"in Yr&&(_.parameter(Yr.usage,gi,"invalid buffer usage"),an=gi[Yr.usage]),"type"in Yr&&(_.parameter(Yr.type,yo,"invalid buffer type"),pn=yo[Yr.type]),"dimension"in Yr&&(_.type(Yr.dimension,"number","invalid dimension"),rn=Yr.dimension|0),"length"in Yr&&(_.nni(sa,"buffer length must be a nonnegative integer"),sa=Yr.length|0)),Ar.bind(),Un?fn(Ar,Un,an,pn,rn,Cn):(sa&&_t.bufferData(Ar.type,sa,an),Ar.dtype=pn||cl,Ar.usage=an,Ar.dimension=rn,Ar.byteLength=sa),De.profile&&(Ar.stats.size=Ar.byteLength*cs[Ar.dtype]),zn}function Fr(Yr,an){_(an+Yr.byteLength<=Ar.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Yr.byteLength+" starting from offset "+an+" to a buffer of size "+Ar.byteLength),_t.bufferSubData(Ar.type,an,Yr)}function Kr(Yr,an){var Un=(an||0)|0,sa;if(Ar.bind(),d(Yr)||Yr instanceof ArrayBuffer)Fr(Yr,Un);else if(Array.isArray(Yr)){if(Yr.length>0)if(typeof Yr[0]=="number"){var pn=Yn.allocType(Ar.dtype,Yr.length);Xs(pn,Yr),Fr(pn,Un),Yn.freeType(pn)}else if(Array.isArray(Yr[0])||d(Yr[0])){sa=qi(Yr);var rn=ul(Yr,sa,Ar.dtype);Fr(rn,Un),Yn.freeType(rn)}else _.raise("invalid buffer data")}else if(In(Yr)){sa=Yr.shape;var ur=Yr.stride,Hn=0,pa=0,Pn=0,Ea=0;sa.length===1?(Hn=sa[0],pa=1,Pn=ur[0],Ea=0):sa.length===2?(Hn=sa[0],pa=sa[1],Pn=ur[0],Ea=ur[1]):_.raise("invalid shape");var ca=Array.isArray(Yr.data)?Ar.dtype:Vs(Yr.data),Bn=Yn.allocType(ca,Hn*pa);bs(Bn,Yr.data,Hn,pa,Pn,Ea,Yr.offset),Fr(Bn,Un),Yn.freeType(Bn)}else _.raise("invalid data for buffer subdata");return zn}return tn||zn(cr),zn._reglType="buffer",zn._buffer=Ar,zn.subdata=Kr,De.profile&&(zn.stats=Ar.stats),zn.destroy=function(){yn(Ar)},zn}function ln(){mn(br).forEach(function(cr){cr.buffer=_t.createBuffer(),_t.bindBuffer(cr.type,cr.buffer),_t.bufferData(cr.type,cr.persistentData||cr.byteLength,cr.usage)})}return De.profile&&(ie.getTotalBufferSize=function(){var cr=0;return Object.keys(br).forEach(function(lr){cr+=br[lr].stats.size}),cr}),{create:gn,createStream:cn,destroyStream:qr,clear:function(){mn(br).forEach(yn),Vr.forEach(yn)},getBuffer:function(lr){return lr&&lr._buffer instanceof rr?lr._buffer:null},restore:ln,_initBuffer:fn}}var fl=0,U=0,Et=1,Qt=1,ae=4,he=4,xe={points:fl,point:U,lines:Et,line:Qt,triangles:ae,triangle:he,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Le=0,Ne=1,Ue=4,$e=5120,Qe=5121,Tr=5122,Ir=5123,Sr=5124,$r=5125,hn=34963,Pr=35040,Dn=35044;function xa(_t,ie,De,ar){var Cr={},br=0,rr={uint8:Qe,uint16:Ir};ie.oes_element_index_uint&&(rr.uint32=$r);function Vr(ln){this.id=br++,Cr[this.id]=this,this.buffer=ln,this.primType=Ue,this.vertCount=0,this.type=0}Vr.prototype.bind=function(){this.buffer.bind()};var cn=[];function qr(ln){var cr=cn.pop();return cr||(cr=new Vr(De.create(null,hn,!0,!1)._buffer)),fn(cr,ln,Pr,-1,-1,0,0),cr}function en(ln){cn.push(ln)}function fn(ln,cr,lr,tn,Cn,Ar,zn){ln.buffer.bind();var Fr;if(cr){var Kr=zn;!zn&&(!d(cr)||In(cr)&&!d(cr.data))&&(Kr=ie.oes_element_index_uint?$r:Ir),De._initBuffer(ln.buffer,cr,lr,Kr,3)}else _t.bufferData(hn,Ar,lr),ln.buffer.dtype=Fr||Qe,ln.buffer.usage=lr,ln.buffer.dimension=3,ln.buffer.byteLength=Ar;if(Fr=zn,!zn){switch(ln.buffer.dtype){case Qe:case $e:Fr=Qe;break;case Ir:case Tr:Fr=Ir;break;case $r:case Sr:Fr=$r;break;default:_.raise("unsupported type for element array")}ln.buffer.dtype=Fr}ln.type=Fr,_(Fr!==$r||!!ie.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Yr=Cn;Yr<0&&(Yr=ln.buffer.byteLength,Fr===Ir?Yr>>=1:Fr===$r&&(Yr>>=2)),ln.vertCount=Yr;var an=tn;if(tn<0){an=Ue;var Un=ln.buffer.dimension;Un===1&&(an=Le),Un===2&&(an=Ne),Un===3&&(an=Ue)}ln.primType=an}function yn(ln){ar.elementsCount--,_(ln.buffer!==null,"must not double destroy elements"),delete Cr[ln.id],ln.buffer.destroy(),ln.buffer=null}function gn(ln,cr){var lr=De.create(null,hn,!0),tn=new Vr(lr._buffer);ar.elementsCount++;function Cn(Ar){if(!Ar)lr(),tn.primType=Ue,tn.vertCount=0,tn.type=Qe;else if(typeof Ar=="number")lr(Ar),tn.primType=Ue,tn.vertCount=Ar|0,tn.type=Qe;else{var zn=null,Fr=Dn,Kr=-1,Yr=-1,an=0,Un=0;Array.isArray(Ar)||d(Ar)||In(Ar)?zn=Ar:(_.type(Ar,"object","invalid arguments for elements"),"data"in Ar&&(zn=Ar.data,_(Array.isArray(zn)||d(zn)||In(zn),"invalid data for element buffer")),"usage"in Ar&&(_.parameter(Ar.usage,gi,"invalid element buffer usage"),Fr=gi[Ar.usage]),"primitive"in Ar&&(_.parameter(Ar.primitive,xe,"invalid element buffer primitive"),Kr=xe[Ar.primitive]),"count"in Ar&&(_(typeof Ar.count=="number"&&Ar.count>=0,"invalid vertex count for elements"),Yr=Ar.count|0),"type"in Ar&&(_.parameter(Ar.type,rr,"invalid buffer type"),Un=rr[Ar.type]),"length"in Ar?an=Ar.length|0:(an=Yr,Un===Ir||Un===Tr?an*=2:(Un===$r||Un===Sr)&&(an*=4))),fn(tn,zn,Fr,Kr,Yr,an,Un)}return Cn}return Cn(ln),Cn._reglType="elements",Cn._elements=tn,Cn.subdata=function(Ar,zn){return lr.subdata(Ar,zn),Cn},Cn.destroy=function(){yn(tn)},Cn}return{create:gn,createStream:qr,destroyStream:en,getElements:function(cr){return typeof cr=="function"&&cr._elements instanceof Vr?cr._elements:null},clear:function(){mn(Cr).forEach(yn)}}}var Qn=new Float32Array(1),Jn=new Uint32Array(Qn.buffer),oa=5123;function ia(_t){for(var ie=Yn.allocType(oa,_t.length),De=0;De<_t.length;++De)if(isNaN(_t[De]))ie[De]=65535;else if(_t[De]===Infinity)ie[De]=31744;else if(_t[De]===-Infinity)ie[De]=64512;else{Qn[0]=_t[De];var ar=Jn[0],Cr=ar>>>31<<15,br=(ar<<1>>>24)-127,rr=ar>>13&(1<<10)-1;if(br<-24)ie[De]=Cr;else if(br<-14){var Vr=-14-br;ie[De]=Cr+(rr+(1<<10)>>Vr)}else br>15?ie[De]=Cr+31744:ie[De]=Cr+(br+15<<10)+rr}return ie}function ba(_t){return Array.isArray(_t)||d(_t)}var Za=function(ie){return!(ie&ie-1)&&!!ie},li=34467,Pa=3553,di=34067,$a=34069,Ja=6408,da=6406,Ce=6407,ue=6409,we=6410,ke=32854,xr=32855,Hr=36194,ra=32819,Xa=32820,Ki=33635,Dl=34042,Hs=6402,ko=34041,Vo=35904,nu=35906,au=36193,iu=33776,Tf=33777,vc=33778,gc=33779,Os=35986,ou=35987,Af=34798,If=35840,hl=35841,ju=35842,Ru=35843,Df=36196,dl=5121,su=5123,mo=5125,js=5126,Ed=10242,pc=10243,Sd=10497,Pl=33071,Pi=33648,Pf=10240,wu=10241,Lf=9728,jf=9729,Wi=9984,yc=9985,mc=9986,vl=9987,Rf=33170,to=4352,wf=4353,bh=4354,bc=34046,Ks=3317,Oi=37440,Oc=37441,Oh=37443,xc=37444,Rs=33984,xh=[Wi,mc,yc,vl],Bu=[0,ue,we,Ce,Ja],Ji={};Ji[ue]=Ji[da]=Ji[Hs]=1,Ji[ko]=Ji[we]=2,Ji[Ce]=Ji[Vo]=3,Ji[Ja]=Ji[nu]=4;function ws(_t){return"[object "+_t+"]"}var Ll=ws("HTMLCanvasElement"),Bf=ws("OffscreenCanvas"),Nu=ws("CanvasRenderingContext2D"),Cd=ws("ImageBitmap"),Ec=ws("HTMLImageElement"),Ys=ws("HTMLVideoElement"),Sc=Object.keys(Ui).concat([Ll,Bf,Nu,Cd,Ec,Ys]),Zs=[];Zs[dl]=1,Zs[js]=4,Zs[au]=2,Zs[su]=2,Zs[mo]=4;var eo=[];eo[ke]=2,eo[xr]=2,eo[Hr]=2,eo[ko]=4,eo[iu]=.5,eo[Tf]=.5,eo[vc]=1,eo[gc]=1,eo[Os]=.5,eo[ou]=1,eo[Af]=1,eo[If]=.5,eo[hl]=.25,eo[ju]=.5,eo[Ru]=.25,eo[Df]=.5;function Cc(_t){return Array.isArray(_t)&&(_t.length===0||typeof _t[0]=="number")}function Nf(_t){if(!Array.isArray(_t))return!1;var ie=_t.length;return!(ie===0||!ba(_t[0]))}function Bs(_t){return Object.prototype.toString.call(_t)}function Mc(_t){return Bs(_t)===Ll}function Tc(_t){return Bs(_t)===Bf}function jl(_t){return Bs(_t)===Nu}function Cv(_t){return Bs(_t)===Cd}function Eh(_t){return Bs(_t)===Ec}function Rl(_t){return Bs(_t)===Ys}function Ac(_t){if(!_t)return!1;var ie=Bs(_t);return Sc.indexOf(ie)>=0?!0:Cc(_t)||Nf(_t)||In(_t)}function Ff(_t){return Ui[Object.prototype.toString.call(_t)]|0}function Md(_t,ie){var De=ie.length;switch(_t.type){case dl:case su:case mo:case js:var ar=Yn.allocType(_t.type,De);ar.set(ie),_t.data=ar;break;case au:_t.data=ia(ie);break;default:_.raise("unsupported texture type, must specify a typed array")}}function Gf(_t,ie){return Yn.allocType(_t.type===au?js:_t.type,ie)}function Ic(_t,ie){_t.type===au?(_t.data=ia(ie),Yn.freeType(ie)):_t.data=ie}function Sh(_t,ie,De,ar,Cr,br){for(var rr=_t.width,Vr=_t.height,cn=_t.channels,qr=rr*Vr*cn,en=Gf(_t,qr),fn=0,yn=0;yn<Vr;++yn)for(var gn=0;gn<rr;++gn)for(var ln=0;ln<cn;++ln)en[fn++]=ie[De*gn+ar*yn+Cr*ln+br];Ic(_t,en)}function gl(_t,ie,De,ar,Cr,br){var rr;if(typeof eo[_t]!="undefined"?rr=eo[_t]:rr=Ji[_t]*Zs[ie],br&&(rr*=6),Cr){for(var Vr=0,cn=De;cn>=1;)Vr+=rr*cn*cn,cn/=2;return Vr}else return rr*De*ar}function Uf(_t,ie,De,ar,Cr,br,rr){var Vr={"don't care":to,"dont care":to,nice:bh,fast:wf},cn={repeat:Sd,clamp:Pl,mirror:Pi},qr={nearest:Lf,linear:jf},en=o({mipmap:vl,"nearest mipmap nearest":Wi,"linear mipmap nearest":yc,"nearest mipmap linear":mc,"linear mipmap linear":vl},qr),fn={none:0,browser:xc},yn={uint8:dl,rgba4:ra,rgb565:Ki,"rgb5 a1":Xa},gn={alpha:da,luminance:ue,"luminance alpha":we,rgb:Ce,rgba:Ja,rgba4:ke,"rgb5 a1":xr,rgb565:Hr},ln={};ie.ext_srgb&&(gn.srgb=Vo,gn.srgba=nu),ie.oes_texture_float&&(yn.float32=yn.float=js),ie.oes_texture_half_float&&(yn.float16=yn["half float"]=au),ie.webgl_depth_texture&&(o(gn,{depth:Hs,"depth stencil":ko}),o(yn,{uint16:su,uint32:mo,"depth stencil":Dl})),ie.webgl_compressed_texture_s3tc&&o(ln,{"rgb s3tc dxt1":iu,"rgba s3tc dxt1":Tf,"rgba s3tc dxt3":vc,"rgba s3tc dxt5":gc}),ie.webgl_compressed_texture_atc&&o(ln,{"rgb atc":Os,"rgba atc explicit alpha":ou,"rgba atc interpolated alpha":Af}),ie.webgl_compressed_texture_pvrtc&&o(ln,{"rgb pvrtc 4bppv1":If,"rgb pvrtc 2bppv1":hl,"rgba pvrtc 4bppv1":ju,"rgba pvrtc 2bppv1":Ru}),ie.webgl_compressed_texture_etc1&&(ln["rgb etc1"]=Df);var cr=Array.prototype.slice.call(_t.getParameter(li));Object.keys(ln).forEach(function(Ae){var hr=ln[Ae];cr.indexOf(hr)>=0&&(gn[Ae]=hr)});var lr=Object.keys(gn);De.textureFormats=lr;var tn=[];Object.keys(gn).forEach(function(Ae){var hr=gn[Ae];tn[hr]=Ae});var Cn=[];Object.keys(yn).forEach(function(Ae){var hr=yn[Ae];Cn[hr]=Ae});var Ar=[];Object.keys(qr).forEach(function(Ae){var hr=qr[Ae];Ar[hr]=Ae});var zn=[];Object.keys(en).forEach(function(Ae){var hr=en[Ae];zn[hr]=Ae});var Fr=[];Object.keys(cn).forEach(function(Ae){var hr=cn[Ae];Fr[hr]=Ae});var Kr=lr.reduce(function(Ae,hr){var _e=gn[hr];return _e===ue||_e===da||_e===ue||_e===we||_e===Hs||_e===ko||ie.ext_srgb&&(_e===Vo||_e===nu)?Ae[_e]=_e:_e===xr||hr.indexOf("rgba")>=0?Ae[_e]=Ja:Ae[_e]=Ce,Ae},{});function Yr(){this.internalformat=Ja,this.format=Ja,this.type=dl,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=xc,this.width=0,this.height=0,this.channels=0}function an(Ae,hr){Ae.internalformat=hr.internalformat,Ae.format=hr.format,Ae.type=hr.type,Ae.compressed=hr.compressed,Ae.premultiplyAlpha=hr.premultiplyAlpha,Ae.flipY=hr.flipY,Ae.unpackAlignment=hr.unpackAlignment,Ae.colorSpace=hr.colorSpace,Ae.width=hr.width,Ae.height=hr.height,Ae.channels=hr.channels}function Un(Ae,hr){if(!(typeof hr!="object"||!hr)){if("premultiplyAlpha"in hr&&(_.type(hr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Ae.premultiplyAlpha=hr.premultiplyAlpha),"flipY"in hr&&(_.type(hr.flipY,"boolean","invalid texture flip"),Ae.flipY=hr.flipY),"alignment"in hr&&(_.oneOf(hr.alignment,[1,2,4,8],"invalid texture unpack alignment"),Ae.unpackAlignment=hr.alignment),"colorSpace"in hr&&(_.parameter(hr.colorSpace,fn,"invalid colorSpace"),Ae.colorSpace=fn[hr.colorSpace]),"type"in hr){var _e=hr.type;_(ie.oes_texture_float||!(_e==="float"||_e==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),_(ie.oes_texture_half_float||!(_e==="half float"||_e==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),_(ie.webgl_depth_texture||!(_e==="uint16"||_e==="uint32"||_e==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(_e,yn,"invalid texture type"),Ae.type=yn[_e]}var Tn=Ae.width,ma=Ae.height,Se=Ae.channels,ce=!1;"shape"in hr?(_(Array.isArray(hr.shape)&&hr.shape.length>=2,"shape must be an array"),Tn=hr.shape[0],ma=hr.shape[1],hr.shape.length===3&&(Se=hr.shape[2],_(Se>0&&Se<=4,"invalid number of channels"),ce=!0),_(Tn>=0&&Tn<=De.maxTextureSize,"invalid width"),_(ma>=0&&ma<=De.maxTextureSize,"invalid height")):("radius"in hr&&(Tn=ma=hr.radius,_(Tn>=0&&Tn<=De.maxTextureSize,"invalid radius")),"width"in hr&&(Tn=hr.width,_(Tn>=0&&Tn<=De.maxTextureSize,"invalid width")),"height"in hr&&(ma=hr.height,_(ma>=0&&ma<=De.maxTextureSize,"invalid height")),"channels"in hr&&(Se=hr.channels,_(Se>0&&Se<=4,"invalid number of channels"),ce=!0)),Ae.width=Tn|0,Ae.height=ma|0,Ae.channels=Se|0;var Re=!1;if("format"in hr){var Je=hr.format;_(ie.webgl_depth_texture||!(Je==="depth"||Je==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(Je,gn,"invalid texture format");var qe=Ae.internalformat=gn[Je];Ae.format=Kr[qe],Je in yn&&("type"in hr||(Ae.type=yn[Je])),Je in ln&&(Ae.compressed=!0),Re=!0}!ce&&Re?Ae.channels=Ji[Ae.format]:ce&&!Re?Ae.channels!==Bu[Ae.format]&&(Ae.format=Ae.internalformat=Bu[Ae.channels]):Re&&ce&&_(Ae.channels===Ji[Ae.format],"number of channels inconsistent with specified format")}}function sa(Ae){_t.pixelStorei(Oi,Ae.flipY),_t.pixelStorei(Oc,Ae.premultiplyAlpha),_t.pixelStorei(Oh,Ae.colorSpace),_t.pixelStorei(Ks,Ae.unpackAlignment)}function pn(){Yr.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function rn(Ae,hr){var _e=null;if(Ac(hr)?_e=hr:hr&&(_.type(hr,"object","invalid pixel data type"),Un(Ae,hr),"x"in hr&&(Ae.xOffset=hr.x|0),"y"in hr&&(Ae.yOffset=hr.y|0),Ac(hr.data)&&(_e=hr.data)),_(!Ae.compressed||_e instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),hr.copy){_(!_e,"can not specify copy and data field for the same texture");var Tn=Cr.viewportWidth,ma=Cr.viewportHeight;Ae.width=Ae.width||Tn-Ae.xOffset,Ae.height=Ae.height||ma-Ae.yOffset,Ae.needsCopy=!0,_(Ae.xOffset>=0&&Ae.xOffset<Tn&&Ae.yOffset>=0&&Ae.yOffset<ma&&Ae.width>0&&Ae.width<=Tn&&Ae.height>0&&Ae.height<=ma,"copy texture read out of bounds")}else if(!_e)Ae.width=Ae.width||1,Ae.height=Ae.height||1,Ae.channels=Ae.channels||4;else if(d(_e))Ae.channels=Ae.channels||4,Ae.data=_e,!("type"in hr)&&Ae.type===dl&&(Ae.type=Ff(_e));else if(Cc(_e))Ae.channels=Ae.channels||4,Md(Ae,_e),Ae.alignment=1,Ae.needsFree=!0;else if(In(_e)){var Se=_e.data;!Array.isArray(Se)&&Ae.type===dl&&(Ae.type=Ff(Se));var ce=_e.shape,Re=_e.stride,Je,qe,Fe,Be,Ve,Ee;ce.length===3?(Fe=ce[2],Ee=Re[2]):(_(ce.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Fe=1,Ee=1),Je=ce[0],qe=ce[1],Be=Re[0],Ve=Re[1],Ae.alignment=1,Ae.width=Je,Ae.height=qe,Ae.channels=Fe,Ae.format=Ae.internalformat=Bu[Fe],Ae.needsFree=!0,Sh(Ae,Se,Be,Ve,Ee,_e.offset)}else if(Mc(_e)||Tc(_e)||jl(_e))Mc(_e)||Tc(_e)?Ae.element=_e:Ae.element=_e.canvas,Ae.width=Ae.element.width,Ae.height=Ae.element.height,Ae.channels=4;else if(Cv(_e))Ae.element=_e,Ae.width=_e.width,Ae.height=_e.height,Ae.channels=4;else if(Eh(_e))Ae.element=_e,Ae.width=_e.naturalWidth,Ae.height=_e.naturalHeight,Ae.channels=4;else if(Rl(_e))Ae.element=_e,Ae.width=_e.videoWidth,Ae.height=_e.videoHeight,Ae.channels=4;else if(Nf(_e)){var je=Ae.width||_e[0].length,ye=Ae.height||_e.length,Ke=Ae.channels;ba(_e[0][0])?Ke=Ke||_e[0][0].length:Ke=Ke||1;for(var tr=Ba.shape(_e),jr=1,wr=0;wr<tr.length;++wr)jr*=tr[wr];var Er=Gf(Ae,jr);Ba.flatten(_e,tr,"",Er),Ic(Ae,Er),Ae.alignment=1,Ae.width=je,Ae.height=ye,Ae.channels=Ke,Ae.format=Ae.internalformat=Bu[Ke],Ae.needsFree=!0}Ae.type===js?_(De.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Ae.type===au&&_(De.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function ur(Ae,hr,_e){var Tn=Ae.element,ma=Ae.data,Se=Ae.internalformat,ce=Ae.format,Re=Ae.type,Je=Ae.width,qe=Ae.height;sa(Ae),Tn?_t.texImage2D(hr,_e,ce,ce,Re,Tn):Ae.compressed?_t.compressedTexImage2D(hr,_e,Se,Je,qe,0,ma):Ae.needsCopy?(ar(),_t.copyTexImage2D(hr,_e,ce,Ae.xOffset,Ae.yOffset,Je,qe,0)):_t.texImage2D(hr,_e,ce,Je,qe,0,ce,Re,ma||null)}function Hn(Ae,hr,_e,Tn,ma){var Se=Ae.element,ce=Ae.data,Re=Ae.internalformat,Je=Ae.format,qe=Ae.type,Fe=Ae.width,Be=Ae.height;sa(Ae),Se?_t.texSubImage2D(hr,ma,_e,Tn,Je,qe,Se):Ae.compressed?_t.compressedTexSubImage2D(hr,ma,_e,Tn,Re,Fe,Be,ce):Ae.needsCopy?(ar(),_t.copyTexSubImage2D(hr,ma,_e,Tn,Ae.xOffset,Ae.yOffset,Fe,Be)):_t.texSubImage2D(hr,ma,_e,Tn,Fe,Be,Je,qe,ce)}var pa=[];function Pn(){return pa.pop()||new pn}function Ea(Ae){Ae.needsFree&&Yn.freeType(Ae.data),pn.call(Ae),pa.push(Ae)}function ca(){Yr.call(this),this.genMipmaps=!1,this.mipmapHint=to,this.mipmask=0,this.images=Array(16)}function Bn(Ae,hr,_e){var Tn=Ae.images[0]=Pn();Ae.mipmask=1,Tn.width=Ae.width=hr,Tn.height=Ae.height=_e,Tn.channels=Ae.channels=4}function Wa(Ae,hr){var _e=null;if(Ac(hr))_e=Ae.images[0]=Pn(),an(_e,Ae),rn(_e,hr),Ae.mipmask=1;else if(Un(Ae,hr),Array.isArray(hr.mipmap))for(var Tn=hr.mipmap,ma=0;ma<Tn.length;++ma)_e=Ae.images[ma]=Pn(),an(_e,Ae),_e.width>>=ma,_e.height>>=ma,rn(_e,Tn[ma]),Ae.mipmask|=1<<ma;else _e=Ae.images[0]=Pn(),an(_e,Ae),rn(_e,hr),Ae.mipmask=1;an(Ae,Ae.images[0]),Ae.compressed&&(Ae.internalformat===iu||Ae.internalformat===Tf||Ae.internalformat===vc||Ae.internalformat===gc)&&_(Ae.width%4==0&&Ae.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function ja(Ae,hr){for(var _e=Ae.images,Tn=0;Tn<_e.length;++Tn){if(!_e[Tn])return;ur(_e[Tn],hr,Tn)}}var Va=[];function kn(){var Ae=Va.pop()||new ca;Yr.call(Ae),Ae.mipmask=0;for(var hr=0;hr<16;++hr)Ae.images[hr]=null;return Ae}function Ka(Ae){for(var hr=Ae.images,_e=0;_e<hr.length;++_e)hr[_e]&&Ea(hr[_e]),hr[_e]=null;Va.push(Ae)}function Qa(){this.minFilter=Lf,this.magFilter=Lf,this.wrapS=Pl,this.wrapT=Pl,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=to}function ki(Ae,hr){if("min"in hr){var _e=hr.min;_.parameter(_e,en),Ae.minFilter=en[_e],xh.indexOf(Ae.minFilter)>=0&&!("faces"in hr)&&(Ae.genMipmaps=!0)}if("mag"in hr){var Tn=hr.mag;_.parameter(Tn,qr),Ae.magFilter=qr[Tn]}var ma=Ae.wrapS,Se=Ae.wrapT;if("wrap"in hr){var ce=hr.wrap;typeof ce=="string"?(_.parameter(ce,cn),ma=Se=cn[ce]):Array.isArray(ce)&&(_.parameter(ce[0],cn),_.parameter(ce[1],cn),ma=cn[ce[0]],Se=cn[ce[1]])}else{if("wrapS"in hr){var Re=hr.wrapS;_.parameter(Re,cn),ma=cn[Re]}if("wrapT"in hr){var Je=hr.wrapT;_.parameter(Je,cn),Se=cn[Je]}}if(Ae.wrapS=ma,Ae.wrapT=Se,"anisotropic"in hr){var qe=hr.anisotropic;_(typeof qe=="number"&&qe>=1&&qe<=De.maxAnisotropic,"aniso samples must be between 1 and "),Ae.anisotropic=hr.anisotropic}if("mipmap"in hr){var Fe=!1;switch(typeof hr.mipmap){case"string":_.parameter(hr.mipmap,Vr,"invalid mipmap hint"),Ae.mipmapHint=Vr[hr.mipmap],Ae.genMipmaps=!0,Fe=!0;break;case"boolean":Fe=Ae.genMipmaps=hr.mipmap;break;case"object":_(Array.isArray(hr.mipmap),"invalid mipmap type"),Ae.genMipmaps=!1,Fe=!0;break;default:_.raise("invalid mipmap type")}Fe&&!("min"in hr)&&(Ae.minFilter=Wi)}}function Yi(Ae,hr){_t.texParameteri(hr,wu,Ae.minFilter),_t.texParameteri(hr,Pf,Ae.magFilter),_t.texParameteri(hr,Ed,Ae.wrapS),_t.texParameteri(hr,pc,Ae.wrapT),ie.ext_texture_filter_anisotropic&&_t.texParameteri(hr,bc,Ae.anisotropic),Ae.genMipmaps&&(_t.hint(Rf,Ae.mipmapHint),_t.generateMipmap(hr))}var Li=0,Na={},Sn=De.maxTextureUnits,yi=Array(Sn).map(function(){return null});function la(Ae){Yr.call(this),this.mipmask=0,this.internalformat=Ja,this.id=Li++,this.refCount=1,this.target=Ae,this.texture=_t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Qa,rr.profile&&(this.stats={size:0})}function ni(Ae){_t.activeTexture(Rs),_t.bindTexture(Ae.target,Ae.texture)}function za(){var Ae=yi[0];Ae?_t.bindTexture(Ae.target,Ae.texture):_t.bindTexture(Pa,null)}function Zn(Ae){var hr=Ae.texture;_(hr,"must not double destroy texture");var _e=Ae.unit,Tn=Ae.target;_e>=0&&(_t.activeTexture(Rs+_e),_t.bindTexture(Tn,null),yi[_e]=null),_t.deleteTexture(hr),Ae.texture=null,Ae.params=null,Ae.pixels=null,Ae.refCount=0,delete Na[Ae.id],br.textureCount--}o(la.prototype,{bind:function(){var hr=this;hr.bindCount+=1;var _e=hr.unit;if(_e<0){for(var Tn=0;Tn<Sn;++Tn){var ma=yi[Tn];if(ma){if(ma.bindCount>0)continue;ma.unit=-1}yi[Tn]=hr,_e=Tn;break}_e>=Sn&&_.raise("insufficient number of texture units"),rr.profile&&br.maxTextureUnits<_e+1&&(br.maxTextureUnits=_e+1),hr.unit=_e,_t.activeTexture(Rs+_e),_t.bindTexture(hr.target,hr.texture)}return _e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Zn(this)}});function ya(Ae,hr){var _e=new la(Pa);Na[_e.id]=_e,br.textureCount++;function Tn(ce,Re){var Je=_e.texInfo;Qa.call(Je);var qe=kn();return typeof ce=="number"?typeof Re=="number"?Bn(qe,ce|0,Re|0):Bn(qe,ce|0,ce|0):ce?(_.type(ce,"object","invalid arguments to regl.texture"),ki(Je,ce),Wa(qe,ce)):Bn(qe,1,1),Je.genMipmaps&&(qe.mipmask=(qe.width<<1)-1),_e.mipmask=qe.mipmask,an(_e,qe),_.texture2D(Je,qe,De),_e.internalformat=qe.internalformat,Tn.width=qe.width,Tn.height=qe.height,ni(_e),ja(qe,Pa),Yi(Je,Pa),za(),Ka(qe),rr.profile&&(_e.stats.size=gl(_e.internalformat,_e.type,qe.width,qe.height,Je.genMipmaps,!1)),Tn.format=tn[_e.internalformat],Tn.type=Cn[_e.type],Tn.mag=Ar[Je.magFilter],Tn.min=zn[Je.minFilter],Tn.wrapS=Fr[Je.wrapS],Tn.wrapT=Fr[Je.wrapT],Tn}function ma(ce,Re,Je,qe){_(!!ce,"must specify image data");var Fe=Re|0,Be=Je|0,Ve=qe|0,Ee=Pn();return an(Ee,_e),Ee.width=0,Ee.height=0,rn(Ee,ce),Ee.width=Ee.width||(_e.width>>Ve)-Fe,Ee.height=Ee.height||(_e.height>>Ve)-Be,_(_e.type===Ee.type&&_e.format===Ee.format&&_e.internalformat===Ee.internalformat,"incompatible format for texture.subimage"),_(Fe>=0&&Be>=0&&Fe+Ee.width<=_e.width&&Be+Ee.height<=_e.height,"texture.subimage write out of bounds"),_(_e.mipmask&1<<Ve,"missing mipmap data"),_(Ee.data||Ee.element||Ee.needsCopy,"missing image data"),ni(_e),Hn(Ee,Pa,Fe,Be,Ve),za(),Ea(Ee),Tn}function Se(ce,Re){var Je=ce|0,qe=Re|0||Je;if(Je===_e.width&&qe===_e.height)return Tn;Tn.width=_e.width=Je,Tn.height=_e.height=qe,ni(_e);for(var Fe=0;_e.mipmask>>Fe;++Fe){var Be=Je>>Fe,Ve=qe>>Fe;if(!Be||!Ve)break;_t.texImage2D(Pa,Fe,_e.format,Be,Ve,0,_e.format,_e.type,null)}return za(),rr.profile&&(_e.stats.size=gl(_e.internalformat,_e.type,Je,qe,!1,!1)),Tn}return Tn(Ae,hr),Tn.subimage=ma,Tn.resize=Se,Tn._reglType="texture2d",Tn._texture=_e,rr.profile&&(Tn.stats=_e.stats),Tn.destroy=function(){_e.decRef()},Tn}function Ra(Ae,hr,_e,Tn,ma,Se){var ce=new la(di);Na[ce.id]=ce,br.cubeCount++;var Re=new Array(6);function Je(Be,Ve,Ee,je,ye,Ke){var tr,jr=ce.texInfo;for(Qa.call(jr),tr=0;tr<6;++tr)Re[tr]=kn();if(typeof Be=="number"||!Be){var wr=Be|0||1;for(tr=0;tr<6;++tr)Bn(Re[tr],wr,wr)}else if(typeof Be=="object")if(Ve)Wa(Re[0],Be),Wa(Re[1],Ve),Wa(Re[2],Ee),Wa(Re[3],je),Wa(Re[4],ye),Wa(Re[5],Ke);else if(ki(jr,Be),Un(ce,Be),"faces"in Be){var Er=Be.faces;for(_(Array.isArray(Er)&&Er.length===6,"cube faces must be a length 6 array"),tr=0;tr<6;++tr)_(typeof Er[tr]=="object"&&!!Er[tr],"invalid input for cube map face"),an(Re[tr],ce),Wa(Re[tr],Er[tr])}else for(tr=0;tr<6;++tr)Wa(Re[tr],Be);else _.raise("invalid arguments to cube map");for(an(ce,Re[0]),De.npotTextureCube||_(Za(ce.width)&&Za(ce.height),"your browser does not support non power or two texture dimensions"),jr.genMipmaps?ce.mipmask=(Re[0].width<<1)-1:ce.mipmask=Re[0].mipmask,_.textureCube(ce,jr,Re,De),ce.internalformat=Re[0].internalformat,Je.width=Re[0].width,Je.height=Re[0].height,ni(ce),tr=0;tr<6;++tr)ja(Re[tr],$a+tr);for(Yi(jr,di),za(),rr.profile&&(ce.stats.size=gl(ce.internalformat,ce.type,Je.width,Je.height,jr.genMipmaps,!0)),Je.format=tn[ce.internalformat],Je.type=Cn[ce.type],Je.mag=Ar[jr.magFilter],Je.min=zn[jr.minFilter],Je.wrapS=Fr[jr.wrapS],Je.wrapT=Fr[jr.wrapT],tr=0;tr<6;++tr)Ka(Re[tr]);return Je}function qe(Be,Ve,Ee,je,ye){_(!!Ve,"must specify image data"),_(typeof Be=="number"&&Be===(Be|0)&&Be>=0&&Be<6,"invalid face");var Ke=Ee|0,tr=je|0,jr=ye|0,wr=Pn();return an(wr,ce),wr.width=0,wr.height=0,rn(wr,Ve),wr.width=wr.width||(ce.width>>jr)-Ke,wr.height=wr.height||(ce.height>>jr)-tr,_(ce.type===wr.type&&ce.format===wr.format&&ce.internalformat===wr.internalformat,"incompatible format for texture.subimage"),_(Ke>=0&&tr>=0&&Ke+wr.width<=ce.width&&tr+wr.height<=ce.height,"texture.subimage write out of bounds"),_(ce.mipmask&1<<jr,"missing mipmap data"),_(wr.data||wr.element||wr.needsCopy,"missing image data"),ni(ce),Hn(wr,$a+Be,Ke,tr,jr),za(),Ea(wr),Je}function Fe(Be){var Ve=Be|0;if(Ve!==ce.width){Je.width=ce.width=Ve,Je.height=ce.height=Ve,ni(ce);for(var Ee=0;Ee<6;++Ee)for(var je=0;ce.mipmask>>je;++je)_t.texImage2D($a+Ee,je,ce.format,Ve>>je,Ve>>je,0,ce.format,ce.type,null);return za(),rr.profile&&(ce.stats.size=gl(ce.internalformat,ce.type,Je.width,Je.height,!1,!0)),Je}}return Je(Ae,hr,_e,Tn,ma,Se),Je.subimage=qe,Je.resize=Fe,Je._reglType="textureCube",Je._texture=ce,rr.profile&&(Je.stats=ce.stats),Je.destroy=function(){ce.decRef()},Je}function Vi(){for(var Ae=0;Ae<Sn;++Ae)_t.activeTexture(Rs+Ae),_t.bindTexture(Pa,null),yi[Ae]=null;mn(Na).forEach(Zn),br.cubeCount=0,br.textureCount=0}rr.profile&&(br.getTotalTextureSize=function(){var Ae=0;return Object.keys(Na).forEach(function(hr){Ae+=Na[hr].stats.size}),Ae});function wo(){for(var Ae=0;Ae<Sn;++Ae){var hr=yi[Ae];hr&&(hr.bindCount=0,hr.unit=-1,yi[Ae]=null)}mn(Na).forEach(function(_e){_e.texture=_t.createTexture(),_t.bindTexture(_e.target,_e.texture);for(var Tn=0;Tn<32;++Tn)if((_e.mipmask&1<<Tn)!=0)if(_e.target===Pa)_t.texImage2D(Pa,Tn,_e.internalformat,_e.width>>Tn,_e.height>>Tn,0,_e.internalformat,_e.type,null);else for(var ma=0;ma<6;++ma)_t.texImage2D($a+ma,Tn,_e.internalformat,_e.width>>Tn,_e.height>>Tn,0,_e.internalformat,_e.type,null);Yi(_e.texInfo,_e.target)})}function Ql(){for(var Ae=0;Ae<Sn;++Ae){var hr=yi[Ae];hr&&(hr.bindCount=0,hr.unit=-1,yi[Ae]=null),_t.activeTexture(Rs+Ae),_t.bindTexture(Pa,null),_t.bindTexture(di,null)}}return{create2D:ya,createCube:Ra,clear:Vi,getTexture:function(hr){return null},restore:wo,refresh:Ql}}var pl=36161,Fu=32854,Xo=32855,Ha=36194,fs=33189,Wf=36168,Dc=34041,zf=35907,Gu=34836,Pc=34842,Lc=34843,Ho=[];Ho[Fu]=2,Ho[Xo]=2,Ho[Ha]=2,Ho[fs]=2,Ho[Wf]=1,Ho[Dc]=4,Ho[zf]=4,Ho[Gu]=16,Ho[Pc]=8,Ho[Lc]=6;function kf(_t,ie,De){return Ho[_t]*ie*De}var Ns=function(ie,De,ar,Cr,br){var rr={rgba4:Fu,rgb565:Ha,"rgb5 a1":Xo,depth:fs,stencil:Wf,"depth stencil":Dc};De.ext_srgb&&(rr.srgba=zf),De.ext_color_buffer_half_float&&(rr.rgba16f=Pc,rr.rgb16f=Lc),De.webgl_color_buffer_float&&(rr.rgba32f=Gu);var Vr=[];Object.keys(rr).forEach(function(ln){var cr=rr[ln];Vr[cr]=ln});var cn=0,qr={};function en(ln){this.id=cn++,this.refCount=1,this.renderbuffer=ln,this.format=Fu,this.width=0,this.height=0,br.profile&&(this.stats={size:0})}en.prototype.decRef=function(){--this.refCount<=0&&fn(this)};function fn(ln){var cr=ln.renderbuffer;_(cr,"must not double destroy renderbuffer"),ie.bindRenderbuffer(pl,null),ie.deleteRenderbuffer(cr),ln.renderbuffer=null,ln.refCount=0,delete qr[ln.id],Cr.renderbufferCount--}function yn(ln,cr){var lr=new en(ie.createRenderbuffer());qr[lr.id]=lr,Cr.renderbufferCount++;function tn(Ar,zn){var Fr=0,Kr=0,Yr=Fu;if(typeof Ar=="object"&&Ar){var an=Ar;if("shape"in an){var Un=an.shape;_(Array.isArray(Un)&&Un.length>=2,"invalid renderbuffer shape"),Fr=Un[0]|0,Kr=Un[1]|0}else"radius"in an&&(Fr=Kr=an.radius|0),"width"in an&&(Fr=an.width|0),"height"in an&&(Kr=an.height|0);"format"in an&&(_.parameter(an.format,rr,"invalid renderbuffer format"),Yr=rr[an.format])}else typeof Ar=="number"?(Fr=Ar|0,typeof zn=="number"?Kr=zn|0:Kr=Fr):Ar?_.raise("invalid arguments to renderbuffer constructor"):Fr=Kr=1;if(_(Fr>0&&Kr>0&&Fr<=ar.maxRenderbufferSize&&Kr<=ar.maxRenderbufferSize,"invalid renderbuffer size"),!(Fr===lr.width&&Kr===lr.height&&Yr===lr.format))return tn.width=lr.width=Fr,tn.height=lr.height=Kr,lr.format=Yr,ie.bindRenderbuffer(pl,lr.renderbuffer),ie.renderbufferStorage(pl,Yr,Fr,Kr),_(ie.getError()===0,"invalid render buffer format"),br.profile&&(lr.stats.size=kf(lr.format,lr.width,lr.height)),tn.format=Vr[lr.format],tn}function Cn(Ar,zn){var Fr=Ar|0,Kr=zn|0||Fr;return Fr===lr.width&&Kr===lr.height||(_(Fr>0&&Kr>0&&Fr<=ar.maxRenderbufferSize&&Kr<=ar.maxRenderbufferSize,"invalid renderbuffer size"),tn.width=lr.width=Fr,tn.height=lr.height=Kr,ie.bindRenderbuffer(pl,lr.renderbuffer),ie.renderbufferStorage(pl,lr.format,Fr,Kr),_(ie.getError()===0,"invalid render buffer format"),br.profile&&(lr.stats.size=kf(lr.format,lr.width,lr.height))),tn}return tn(ln,cr),tn.resize=Cn,tn._reglType="renderbuffer",tn._renderbuffer=lr,br.profile&&(tn.stats=lr.stats),tn.destroy=function(){lr.decRef()},tn}br.profile&&(Cr.getTotalRenderbufferSize=function(){var ln=0;return Object.keys(qr).forEach(function(cr){ln+=qr[cr].stats.size}),ln});function gn(){mn(qr).forEach(function(ln){ln.renderbuffer=ie.createRenderbuffer(),ie.bindRenderbuffer(pl,ln.renderbuffer),ie.renderbufferStorage(pl,ln.format,ln.width,ln.height)}),ie.bindRenderbuffer(pl,null)}return{create:yn,clear:function(){mn(qr).forEach(fn)},restore:gn}},pi=36160,Uu=36161,xs=3553,Wu=34069,lu=36064,Vf=36096,wl=36128,Xf=33306,Ch=36053,Td=36054,Ad=36055,Id=36057,La=36061,Xn=36193,jc=5121,Es=5126,Rc=6407,Hf=6408,lo=6402,uo=[Rc,Hf],uu=[];uu[Hf]=4,uu[Rc]=3;var wc=[];wc[jc]=1,wc[Es]=4,wc[Xn]=2;var Bc=32854,Mh=32855,Dd=36194,qo=33189,Fs=36168,zu=34041,cu=35907,Nc=34836,Kf=34842,ku=34843,Th=[Bc,Mh,Dd,cu,Kf,ku,Nc],yl={};yl[Ch]="complete",yl[Td]="incomplete attachment",yl[Id]="incomplete dimensions",yl[Ad]="incomplete, missing attachment",yl[La]="unsupported";function Pd(_t,ie,De,ar,Cr,br){var rr={cur:null,next:null,dirty:!1,setFBO:null},Vr=["rgba"],cn=["rgba4","rgb565","rgb5 a1"];ie.ext_srgb&&cn.push("srgba"),ie.ext_color_buffer_half_float&&cn.push("rgba16f","rgb16f"),ie.webgl_color_buffer_float&&cn.push("rgba32f");var qr=["uint8"];ie.oes_texture_half_float&&qr.push("half float","float16"),ie.oes_texture_float&&qr.push("float","float32");function en(pn,rn,ur){this.target=pn,this.texture=rn,this.renderbuffer=ur;var Hn=0,pa=0;rn?(Hn=rn.width,pa=rn.height):ur&&(Hn=ur.width,pa=ur.height),this.width=Hn,this.height=pa}function fn(pn){pn&&(pn.texture&&pn.texture._texture.decRef(),pn.renderbuffer&&pn.renderbuffer._renderbuffer.decRef())}function yn(pn,rn,ur){if(!!pn)if(pn.texture){var Hn=pn.texture._texture,pa=Math.max(1,Hn.width),Pn=Math.max(1,Hn.height);_(pa===rn&&Pn===ur,"inconsistent width/height for supplied texture"),Hn.refCount+=1}else{var Ea=pn.renderbuffer._renderbuffer;_(Ea.width===rn&&Ea.height===ur,"inconsistent width/height for renderbuffer"),Ea.refCount+=1}}function gn(pn,rn){rn&&(rn.texture?_t.framebufferTexture2D(pi,pn,rn.target,rn.texture._texture.texture,0):_t.framebufferRenderbuffer(pi,pn,Uu,rn.renderbuffer._renderbuffer.renderbuffer))}function ln(pn){var rn=xs,ur=null,Hn=null,pa=pn;typeof pn=="object"&&(pa=pn.data,"target"in pn&&(rn=pn.target|0)),_.type(pa,"function","invalid attachment data");var Pn=pa._reglType;return Pn==="texture2d"?(ur=pa,_(rn===xs)):Pn==="textureCube"?(ur=pa,_(rn>=Wu&&rn<Wu+6,"invalid cube map target")):Pn==="renderbuffer"?(Hn=pa,rn=Uu):_.raise("invalid regl object for attachment"),new en(rn,ur,Hn)}function cr(pn,rn,ur,Hn,pa){if(ur){var Pn=ar.create2D({width:pn,height:rn,format:Hn,type:pa});return Pn._texture.refCount=0,new en(xs,Pn,null)}else{var Ea=Cr.create({width:pn,height:rn,format:Hn});return Ea._renderbuffer.refCount=0,new en(Uu,null,Ea)}}function lr(pn){return pn&&(pn.texture||pn.renderbuffer)}function tn(pn,rn,ur){pn&&(pn.texture?pn.texture.resize(rn,ur):pn.renderbuffer&&pn.renderbuffer.resize(rn,ur),pn.width=rn,pn.height=ur)}var Cn=0,Ar={};function zn(){this.id=Cn++,Ar[this.id]=this,this.framebuffer=_t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Fr(pn){pn.colorAttachments.forEach(fn),fn(pn.depthAttachment),fn(pn.stencilAttachment),fn(pn.depthStencilAttachment)}function Kr(pn){var rn=pn.framebuffer;_(rn,"must not double destroy framebuffer"),_t.deleteFramebuffer(rn),pn.framebuffer=null,br.framebufferCount--,delete Ar[pn.id]}function Yr(pn){var rn;_t.bindFramebuffer(pi,pn.framebuffer);var ur=pn.colorAttachments;for(rn=0;rn<ur.length;++rn)gn(lu+rn,ur[rn]);for(rn=ur.length;rn<De.maxColorAttachments;++rn)_t.framebufferTexture2D(pi,lu+rn,xs,null,0);_t.framebufferTexture2D(pi,Xf,xs,null,0),_t.framebufferTexture2D(pi,Vf,xs,null,0),_t.framebufferTexture2D(pi,wl,xs,null,0),gn(Vf,pn.depthAttachment),gn(wl,pn.stencilAttachment),gn(Xf,pn.depthStencilAttachment);var Hn=_t.checkFramebufferStatus(pi);!_t.isContextLost()&&Hn!==Ch&&_.raise("framebuffer configuration not supported, status = "+yl[Hn]),_t.bindFramebuffer(pi,rr.next?rr.next.framebuffer:null),rr.cur=rr.next,_t.getError()}function an(pn,rn){var ur=new zn;br.framebufferCount++;function Hn(Pn,Ea){var ca;_(rr.next!==ur,"can not update framebuffer which is currently in use");var Bn=0,Wa=0,ja=!0,Va=!0,kn=null,Ka=!0,Qa="rgba",ki="uint8",Yi=1,Li=null,Na=null,Sn=null,yi=!1;if(typeof Pn=="number")Bn=Pn|0,Wa=Ea|0||Bn;else if(!Pn)Bn=Wa=1;else{_.type(Pn,"object","invalid arguments for framebuffer");var la=Pn;if("shape"in la){var ni=la.shape;_(Array.isArray(ni)&&ni.length>=2,"invalid shape for framebuffer"),Bn=ni[0],Wa=ni[1]}else"radius"in la&&(Bn=Wa=la.radius),"width"in la&&(Bn=la.width),"height"in la&&(Wa=la.height);("color"in la||"colors"in la)&&(kn=la.color||la.colors,Array.isArray(kn)&&_(kn.length===1||ie.webgl_draw_buffers,"multiple render targets not supported")),kn||("colorCount"in la&&(Yi=la.colorCount|0,_(Yi>0,"invalid color buffer count")),"colorTexture"in la&&(Ka=!!la.colorTexture,Qa="rgba4"),"colorType"in la&&(ki=la.colorType,Ka?(_(ie.oes_texture_float||!(ki==="float"||ki==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),_(ie.oes_texture_half_float||!(ki==="half float"||ki==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):ki==="half float"||ki==="float16"?(_(ie.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Qa="rgba16f"):(ki==="float"||ki==="float32")&&(_(ie.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Qa="rgba32f"),_.oneOf(ki,qr,"invalid color type")),"colorFormat"in la&&(Qa=la.colorFormat,Vr.indexOf(Qa)>=0?Ka=!0:cn.indexOf(Qa)>=0?Ka=!1:Ka?_.oneOf(la.colorFormat,Vr,"invalid color format for texture"):_.oneOf(la.colorFormat,cn,"invalid color format for renderbuffer"))),("depthTexture"in la||"depthStencilTexture"in la)&&(yi=!!(la.depthTexture||la.depthStencilTexture),_(!yi||ie.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in la&&(typeof la.depth=="boolean"?ja=la.depth:(Li=la.depth,Va=!1)),"stencil"in la&&(typeof la.stencil=="boolean"?Va=la.stencil:(Na=la.stencil,ja=!1)),"depthStencil"in la&&(typeof la.depthStencil=="boolean"?ja=Va=la.depthStencil:(Sn=la.depthStencil,ja=!1,Va=!1))}var za=null,Zn=null,ya=null,Ra=null;if(Array.isArray(kn))za=kn.map(ln);else if(kn)za=[ln(kn)];else for(za=new Array(Yi),ca=0;ca<Yi;++ca)za[ca]=cr(Bn,Wa,Ka,Qa,ki);_(ie.webgl_draw_buffers||za.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),_(za.length<=De.maxColorAttachments,"too many color attachments, not supported"),Bn=Bn||za[0].width,Wa=Wa||za[0].height,Li?Zn=ln(Li):ja&&!Va&&(Zn=cr(Bn,Wa,yi,"depth","uint32")),Na?ya=ln(Na):Va&&!ja&&(ya=cr(Bn,Wa,!1,"stencil","uint8")),Sn?Ra=ln(Sn):!Li&&!Na&&Va&&ja&&(Ra=cr(Bn,Wa,yi,"depth stencil","depth stencil")),_(!!Li+!!Na+!!Sn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Vi=null;for(ca=0;ca<za.length;++ca)if(yn(za[ca],Bn,Wa),_(!za[ca]||za[ca].texture&&uo.indexOf(za[ca].texture._texture.format)>=0||za[ca].renderbuffer&&Th.indexOf(za[ca].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+ca+" is invalid"),za[ca]&&za[ca].texture){var wo=uu[za[ca].texture._texture.format]*wc[za[ca].texture._texture.type];Vi===null?Vi=wo:_(Vi===wo,"all color attachments much have the same number of bits per pixel.")}return yn(Zn,Bn,Wa),_(!Zn||Zn.texture&&Zn.texture._texture.format===lo||Zn.renderbuffer&&Zn.renderbuffer._renderbuffer.format===qo,"invalid depth attachment for framebuffer object"),yn(ya,Bn,Wa),_(!ya||ya.renderbuffer&&ya.renderbuffer._renderbuffer.format===Fs,"invalid stencil attachment for framebuffer object"),yn(Ra,Bn,Wa),_(!Ra||Ra.texture&&Ra.texture._texture.format===zu||Ra.renderbuffer&&Ra.renderbuffer._renderbuffer.format===zu,"invalid depth-stencil attachment for framebuffer object"),Fr(ur),ur.width=Bn,ur.height=Wa,ur.colorAttachments=za,ur.depthAttachment=Zn,ur.stencilAttachment=ya,ur.depthStencilAttachment=Ra,Hn.color=za.map(lr),Hn.depth=lr(Zn),Hn.stencil=lr(ya),Hn.depthStencil=lr(Ra),Hn.width=ur.width,Hn.height=ur.height,Yr(ur),Hn}function pa(Pn,Ea){_(rr.next!==ur,"can not resize a framebuffer which is currently in use");var ca=Math.max(Pn|0,1),Bn=Math.max(Ea|0||ca,1);if(ca===ur.width&&Bn===ur.height)return Hn;for(var Wa=ur.colorAttachments,ja=0;ja<Wa.length;++ja)tn(Wa[ja],ca,Bn);return tn(ur.depthAttachment,ca,Bn),tn(ur.stencilAttachment,ca,Bn),tn(ur.depthStencilAttachment,ca,Bn),ur.width=Hn.width=ca,ur.height=Hn.height=Bn,Yr(ur),Hn}return Hn(pn,rn),o(Hn,{resize:pa,_reglType:"framebuffer",_framebuffer:ur,destroy:function(){Kr(ur),Fr(ur)},use:function(Ea){rr.setFBO({framebuffer:Hn},Ea)}})}function Un(pn){var rn=Array(6);function ur(pa){var Pn;_(rn.indexOf(rr.next)<0,"can not update framebuffer which is currently in use");var Ea={color:null},ca=0,Bn=null,Wa="rgba",ja="uint8",Va=1;if(typeof pa=="number")ca=pa|0;else if(!pa)ca=1;else{_.type(pa,"object","invalid arguments for framebuffer");var kn=pa;if("shape"in kn){var Ka=kn.shape;_(Array.isArray(Ka)&&Ka.length>=2,"invalid shape for framebuffer"),_(Ka[0]===Ka[1],"cube framebuffer must be square"),ca=Ka[0]}else"radius"in kn&&(ca=kn.radius|0),"width"in kn?(ca=kn.width|0,"height"in kn&&_(kn.height===ca,"must be square")):"height"in kn&&(ca=kn.height|0);("color"in kn||"colors"in kn)&&(Bn=kn.color||kn.colors,Array.isArray(Bn)&&_(Bn.length===1||ie.webgl_draw_buffers,"multiple render targets not supported")),Bn||("colorCount"in kn&&(Va=kn.colorCount|0,_(Va>0,"invalid color buffer count")),"colorType"in kn&&(_.oneOf(kn.colorType,qr,"invalid color type"),ja=kn.colorType),"colorFormat"in kn&&(Wa=kn.colorFormat,_.oneOf(kn.colorFormat,Vr,"invalid color format for texture"))),"depth"in kn&&(Ea.depth=kn.depth),"stencil"in kn&&(Ea.stencil=kn.stencil),"depthStencil"in kn&&(Ea.depthStencil=kn.depthStencil)}var Qa;if(Bn)if(Array.isArray(Bn))for(Qa=[],Pn=0;Pn<Bn.length;++Pn)Qa[Pn]=Bn[Pn];else Qa=[Bn];else{Qa=Array(Va);var ki={radius:ca,format:Wa,type:ja};for(Pn=0;Pn<Va;++Pn)Qa[Pn]=ar.createCube(ki)}for(Ea.color=Array(Qa.length),Pn=0;Pn<Qa.length;++Pn){var Yi=Qa[Pn];_(typeof Yi=="function"&&Yi._reglType==="textureCube","invalid cube map"),ca=ca||Yi.width,_(Yi.width===ca&&Yi.height===ca,"invalid cube map shape"),Ea.color[Pn]={target:Wu,data:Qa[Pn]}}for(Pn=0;Pn<6;++Pn){for(var Li=0;Li<Qa.length;++Li)Ea.color[Li].target=Wu+Pn;Pn>0&&(Ea.depth=rn[0].depth,Ea.stencil=rn[0].stencil,Ea.depthStencil=rn[0].depthStencil),rn[Pn]?rn[Pn](Ea):rn[Pn]=an(Ea)}return o(ur,{width:ca,height:ca,color:Qa})}function Hn(pa){var Pn,Ea=pa|0;if(_(Ea>0&&Ea<=De.maxCubeMapSize,"invalid radius for cube fbo"),Ea===ur.width)return ur;var ca=ur.color;for(Pn=0;Pn<ca.length;++Pn)ca[Pn].resize(Ea);for(Pn=0;Pn<6;++Pn)rn[Pn].resize(Ea);return ur.width=ur.height=Ea,ur}return ur(pn),o(ur,{faces:rn,resize:Hn,_reglType:"framebufferCube",destroy:function(){rn.forEach(function(Pn){Pn.destroy()})}})}function sa(){rr.cur=null,rr.next=null,rr.dirty=!0,mn(Ar).forEach(function(pn){pn.framebuffer=_t.createFramebuffer(),Yr(pn)})}return o(rr,{getFramebuffer:function(rn){if(typeof rn=="function"&&rn._reglType==="framebuffer"){var ur=rn._framebuffer;if(ur instanceof zn)return ur}return null},create:an,createCube:Un,clear:function(){mn(Ar).forEach(Kr)},restore:sa})}var Ld=5126,Ah=34962;function Fc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ld,this.offset=0,this.stride=0,this.divisor=0}function _n(_t,ie,De,ar,Cr){for(var br=De.maxAttributes,rr=new Array(br),Vr=0;Vr<br;++Vr)rr[Vr]=new Fc;var cn=0,qr={},en={Record:Fc,scope:{},state:rr,currentVAO:null,targetVAO:null,restore:yn()?Ar:function(){},createVAO:zn,getVAO:ln,destroyBuffer:fn,setVAO:yn()?cr:lr,clear:yn()?tn:function(){}};function fn(Fr){for(var Kr=0;Kr<rr.length;++Kr){var Yr=rr[Kr];Yr.buffer===Fr&&(_t.disableVertexAttribArray(Kr),Yr.buffer=null)}}function yn(){return ie.oes_vertex_array_object}function gn(){return ie.angle_instanced_arrays}function ln(Fr){return typeof Fr=="function"&&Fr._vao?Fr._vao:null}function cr(Fr){if(Fr!==en.currentVAO){var Kr=yn();Fr?Kr.bindVertexArrayOES(Fr.vao):Kr.bindVertexArrayOES(null),en.currentVAO=Fr}}function lr(Fr){if(Fr!==en.currentVAO){if(Fr)Fr.bindAttrs();else for(var Kr=gn(),Yr=0;Yr<rr.length;++Yr){var an=rr[Yr];an.buffer?(_t.enableVertexAttribArray(Yr),_t.vertexAttribPointer(Yr,an.size,an.type,an.normalized,an.stride,an.offfset),Kr&&an.divisor&&Kr.vertexAttribDivisorANGLE(Yr,an.divisor)):(_t.disableVertexAttribArray(Yr),_t.vertexAttrib4f(Yr,an.x,an.y,an.z,an.w))}en.currentVAO=Fr}}function tn(){mn(qr).forEach(function(Fr){Fr.destroy()})}function Cn(){this.id=++cn,this.attributes=[];var Fr=yn();Fr?this.vao=Fr.createVertexArrayOES():this.vao=null,qr[this.id]=this,this.buffers=[]}Cn.prototype.bindAttrs=function(){for(var Fr=gn(),Kr=this.attributes,Yr=0;Yr<Kr.length;++Yr){var an=Kr[Yr];an.buffer?(_t.enableVertexAttribArray(Yr),_t.bindBuffer(Ah,an.buffer.buffer),_t.vertexAttribPointer(Yr,an.size,an.type,an.normalized,an.stride,an.offset),Fr&&an.divisor&&Fr.vertexAttribDivisorANGLE(Yr,an.divisor)):(_t.disableVertexAttribArray(Yr),_t.vertexAttrib4f(Yr,an.x,an.y,an.z,an.w))}for(var Un=Kr.length;Un<br;++Un)_t.disableVertexAttribArray(Un)},Cn.prototype.refresh=function(){var Fr=yn();Fr&&(Fr.bindVertexArrayOES(this.vao),this.bindAttrs(),en.currentVAO=this)},Cn.prototype.destroy=function(){if(this.vao){var Fr=yn();this===en.currentVAO&&(en.currentVAO=null,Fr.bindVertexArrayOES(null)),Fr.deleteVertexArrayOES(this.vao),this.vao=null}qr[this.id]&&(delete qr[this.id],ar.vaoCount-=1)};function Ar(){var Fr=yn();Fr&&mn(qr).forEach(function(Kr){Kr.refresh()})}function zn(Fr){var Kr=new Cn;ar.vaoCount+=1;function Yr(an){_(Array.isArray(an),"arguments to vertex array constructor must be an array"),_(an.length<br,"too many attributes"),_(an.length>0,"must specify at least one attribute");var Un={},sa=Kr.attributes;sa.length=an.length;for(var pn=0;pn<an.length;++pn){var rn=an[pn],ur=sa[pn]=new Fc,Hn=rn.data||rn;if(Array.isArray(Hn)||d(Hn)||In(Hn)){var pa;Kr.buffers[pn]&&(pa=Kr.buffers[pn],d(Hn)&&pa._buffer.byteLength>=Hn.byteLength?pa.subdata(Hn):(pa.destroy(),Kr.buffers[pn]=null)),Kr.buffers[pn]||(pa=Kr.buffers[pn]=Cr.create(rn,Ah,!1,!0)),ur.buffer=Cr.getBuffer(pa),ur.size=ur.buffer.dimension|0,ur.normalized=!1,ur.type=ur.buffer.dtype,ur.offset=0,ur.stride=0,ur.divisor=0,ur.state=1,Un[pn]=1}else Cr.getBuffer(rn)?(ur.buffer=Cr.getBuffer(rn),ur.size=ur.buffer.dimension|0,ur.normalized=!1,ur.type=ur.buffer.dtype,ur.offset=0,ur.stride=0,ur.divisor=0,ur.state=1):Cr.getBuffer(rn.buffer)?(ur.buffer=Cr.getBuffer(rn.buffer),ur.size=(+rn.size||ur.buffer.dimension)|0,ur.normalized=!!rn.normalized||!1,"type"in rn?(_.parameter(rn.type,yo,"invalid buffer type"),ur.type=yo[rn.type]):ur.type=ur.buffer.dtype,ur.offset=(rn.offset||0)|0,ur.stride=(rn.stride||0)|0,ur.divisor=(rn.divisor||0)|0,ur.state=1,_(ur.size>=1&&ur.size<=4,"size must be between 1 and 4"),_(ur.offset>=0,"invalid offset"),_(ur.stride>=0&&ur.stride<=255,"stride must be between 0 and 255"),_(ur.divisor>=0,"divisor must be positive"),_(!ur.divisor||!!ie.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in rn?(_(pn>0,"first attribute must not be a constant"),ur.x=+rn.x||0,ur.y=+rn.y||0,ur.z=+rn.z||0,ur.w=+rn.w||0,ur.state=2):_(!1,"invalid attribute spec for location "+pn)}for(var Pn=0;Pn<Kr.buffers.length;++Pn)!Un[Pn]&&Kr.buffers[Pn]&&(Kr.buffers[Pn].destroy(),Kr.buffers[Pn]=null);return Kr.refresh(),Yr}return Yr.destroy=function(){for(var an=0;an<Kr.buffers.length;++an)Kr.buffers[an]&&Kr.buffers[an].destroy();Kr.buffers.length=0,Kr.destroy()},Yr._vao=Kr,Yr._reglType="vao",Yr(Fr)}return en}var Ih=35632,jd=35633,Yf=35718,Gc=35721;function Rd(_t,ie,De,ar){var Cr={},br={};function rr(cr,lr,tn,Cn){this.name=cr,this.id=lr,this.location=tn,this.info=Cn}function Vr(cr,lr){for(var tn=0;tn<cr.length;++tn)if(cr[tn].id===lr.id){cr[tn].location=lr.location;return}cr.push(lr)}function cn(cr,lr,tn){var Cn=cr===Ih?Cr:br,Ar=Cn[lr];if(!Ar){var zn=ie.str(lr);Ar=_t.createShader(cr),_t.shaderSource(Ar,zn),_t.compileShader(Ar),_.shaderError(_t,Ar,zn,cr,tn),Cn[lr]=Ar}return Ar}var qr={},en=[],fn=0;function yn(cr,lr){this.id=fn++,this.fragId=cr,this.vertId=lr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ar.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function gn(cr,lr,tn){var Cn,Ar,zn=cn(Ih,cr.fragId),Fr=cn(jd,cr.vertId),Kr=cr.program=_t.createProgram();if(_t.attachShader(Kr,zn),_t.attachShader(Kr,Fr),tn)for(Cn=0;Cn<tn.length;++Cn){var Yr=tn[Cn];_t.bindAttribLocation(Kr,Yr[0],Yr[1])}_t.linkProgram(Kr),_.linkError(_t,Kr,ie.str(cr.fragId),ie.str(cr.vertId),lr);var an=_t.getProgramParameter(Kr,Yf);ar.profile&&(cr.stats.uniformsCount=an);var Un=cr.uniforms;for(Cn=0;Cn<an;++Cn)if(Ar=_t.getActiveUniform(Kr,Cn),Ar)if(Ar.size>1)for(var sa=0;sa<Ar.size;++sa){var pn=Ar.name.replace("[0]","["+sa+"]");Vr(Un,new rr(pn,ie.id(pn),_t.getUniformLocation(Kr,pn),Ar))}else Vr(Un,new rr(Ar.name,ie.id(Ar.name),_t.getUniformLocation(Kr,Ar.name),Ar));var rn=_t.getProgramParameter(Kr,Gc);ar.profile&&(cr.stats.attributesCount=rn);var ur=cr.attributes;for(Cn=0;Cn<rn;++Cn)Ar=_t.getActiveAttrib(Kr,Cn),Ar&&Vr(ur,new rr(Ar.name,ie.id(Ar.name),_t.getAttribLocation(Kr,Ar.name),Ar))}ar.profile&&(De.getMaxUniformsCount=function(){var cr=0;return en.forEach(function(lr){lr.stats.uniformsCount>cr&&(cr=lr.stats.uniformsCount)}),cr},De.getMaxAttributesCount=function(){var cr=0;return en.forEach(function(lr){lr.stats.attributesCount>cr&&(cr=lr.stats.attributesCount)}),cr});function ln(){Cr={},br={};for(var cr=0;cr<en.length;++cr)gn(en[cr],null,en[cr].attributes.map(function(lr){return[lr.location,lr.name]}))}return{clear:function(){var lr=_t.deleteShader.bind(_t);mn(Cr).forEach(lr),Cr={},mn(br).forEach(lr),br={},en.forEach(function(tn){_t.deleteProgram(tn.program)}),en.length=0,qr={},De.shaderCount=0},program:function(lr,tn,Cn,Ar){_.command(lr>=0,"missing vertex shader",Cn),_.command(tn>=0,"missing fragment shader",Cn);var zn=qr[tn];zn||(zn=qr[tn]={});var Fr=zn[lr];if(Fr&&(Fr.refCount++,!Ar))return Fr;var Kr=new yn(tn,lr);return De.shaderCount++,gn(Kr,Cn,Ar),Fr||(zn[lr]=Kr),en.push(Kr),o(Kr,{destroy:function(){if(Kr.refCount--,Kr.refCount<=0){_t.deleteProgram(Kr.program);var an=en.indexOf(Kr);en.splice(an,1),De.shaderCount--}zn[Kr.vertId].refCount<=0&&(_t.deleteShader(br[Kr.vertId]),delete br[Kr.vertId],delete qr[Kr.fragId][Kr.vertId]),Object.keys(qr[Kr.fragId]).length||(_t.deleteShader(Cr[Kr.fragId]),delete Cr[Kr.fragId],delete qr[Kr.fragId])}})},restore:ln,shader:cn,frag:-1,vert:-1}}var Zf=6408,ml=5121,wd=3333,Uc=5126;function Bd(_t,ie,De,ar,Cr,br,rr){function Vr(en){var fn;ie.next===null?(_(Cr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),fn=ml):(_(ie.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),fn=ie.next.colorAttachments[0].texture._texture.type,br.oes_texture_float?(_(fn===ml||fn===Uc,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),fn===Uc&&_(rr.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):_(fn===ml,"Reading from a framebuffer is only allowed for the type 'uint8'"));var yn=0,gn=0,ln=ar.framebufferWidth,cr=ar.framebufferHeight,lr=null;d(en)?lr=en:en&&(_.type(en,"object","invalid arguments to regl.read()"),yn=en.x|0,gn=en.y|0,_(yn>=0&&yn<ar.framebufferWidth,"invalid x offset for regl.read"),_(gn>=0&&gn<ar.framebufferHeight,"invalid y offset for regl.read"),ln=(en.width||ar.framebufferWidth-yn)|0,cr=(en.height||ar.framebufferHeight-gn)|0,lr=en.data||null),lr&&(fn===ml?_(lr instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):fn===Uc&&_(lr instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),_(ln>0&&ln+yn<=ar.framebufferWidth,"invalid width for read pixels"),_(cr>0&&cr+gn<=ar.framebufferHeight,"invalid height for read pixels"),De();var tn=ln*cr*4;return lr||(fn===ml?lr=new Uint8Array(tn):fn===Uc&&(lr=lr||new Float32Array(tn))),_.isTypedArray(lr,"data buffer for regl.read() must be a typedarray"),_(lr.byteLength>=tn,"data buffer for regl.read() too small"),_t.pixelStorei(wd,4),_t.readPixels(yn,gn,ln,cr,Zf,fn,lr),lr}function cn(en){var fn;return ie.setFBO({framebuffer:en.framebuffer},function(){fn=Vr(en)}),fn}function qr(en){return!en||!("framebuffer"in en)?Vr(en):cn(en)}return qr}function fu(_t){return Array.prototype.slice.call(_t)}function $s(_t){return fu(_t).join("")}function Nd(){var _t=0,ie=[],De=[];function ar(fn){for(var yn=0;yn<De.length;++yn)if(De[yn]===fn)return ie[yn];var gn="g"+_t++;return ie.push(gn),De.push(fn),gn}function Cr(){var fn=[];function yn(){fn.push.apply(fn,fu(arguments))}var gn=[];function ln(){var cr="v"+_t++;return gn.push(cr),arguments.length>0&&(fn.push(cr,"="),fn.push.apply(fn,fu(arguments)),fn.push(";")),cr}return o(yn,{def:ln,toString:function(){return $s([gn.length>0?"var "+gn.join(",")+";":"",$s(fn)])}})}function br(){var fn=Cr(),yn=Cr(),gn=fn.toString,ln=yn.toString;function cr(lr,tn){yn(lr,tn,"=",fn.def(lr,tn),";")}return o(function(){fn.apply(fn,fu(arguments))},{def:fn.def,entry:fn,exit:yn,save:cr,set:function(tn,Cn,Ar){cr(tn,Cn),fn(tn,Cn,"=",Ar,";")},toString:function(){return gn()+ln()}})}function rr(){var fn=$s(arguments),yn=br(),gn=br(),ln=yn.toString,cr=gn.toString;return o(yn,{then:function(){return yn.apply(yn,fu(arguments)),this},else:function(){return gn.apply(gn,fu(arguments)),this},toString:function(){var tn=cr();return tn&&(tn="else{"+tn+"}"),$s(["if(",fn,"){",ln(),"}",tn])}})}var Vr=Cr(),cn={};function qr(fn,yn){var gn=[];function ln(){var Ar="a"+gn.length;return gn.push(Ar),Ar}yn=yn||0;for(var cr=0;cr<yn;++cr)ln();var lr=br(),tn=lr.toString,Cn=cn[fn]=o(lr,{arg:ln,toString:function(){return $s(["function(",gn.join(),"){",tn(),"}"])}});return Cn}function en(){var fn=['"use strict";',Vr,"return {"];Object.keys(cn).forEach(function(ln){fn.push('"',ln,'":',cn[ln].toString(),",")}),fn.push("}");var yn=$s(fn).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),gn=Function.apply(null,ie.concat(yn));return gn.apply(null,De)}return{global:Vr,link:ar,block:Cr,proc:qr,scope:br,cond:rr,compile:en}}var hu="xyzw".split(""),Dh=5121,Bl=1,Ph=2,Wc=0,zc=1,du=2,Nl=3,Vu=4,Lh=5,kc=6,bl="dither",ro="blend.enable",Vc="blend.color",Xu="blend.equation",jh="blend.func",Rh="depth.enable",$f="depth.func",Hu="depth.range",Ss="depth.mask",Qs="colorMask",Qf="cull.enable",wh="cull.face",Xc="frontFace",vu="lineWidth",Bh="polygonOffset.enable",Jf="polygonOffset.offset",Hc="sample.alpha",_f="sample.enable",Fl="sample.coverage",Kc="stencil.enable",Yc="stencil.mask",qf="stencil.func",Zc="stencil.opFront",Gs="stencil.opBack",Ku="scissor.enable",Yu="scissor.box",Ko="viewport",gu="profile",Ol="framebuffer",ts="vert",Gl="frag",Ul="elements",Yo="primitive",Wl="count",$c="offset",zl="instances",Zu="vao",Qc="Width",kl="Height",pu=Ol+Qc,xl=Ol+kl,th=Ko+Qc,Nh=Ko+kl,eh="drawingBuffer",Jc=eh+Qc,Vl=eh+kl,rh=[jh,Xu,qf,Zc,Gs,Fl,Ko,Yu,Jf],El=34962,Fh=34963,Fd=35632,Gd=35633,Gh=3553,Uh=34067,Wh=2884,Ud=3042,Wd=3024,zd=2960,kd=2929,Vd=3089,zh=32823,Xd=32926,kh=32928,yu=5126,_c=35664,$u=35665,Qu=35666,mu=5124,Cs=35667,qc=35668,bu=35669,Ou=35670,Xl=35671,tf=35672,Us=35673,Hl=35674,Kl=35675,Ju=35676,_u=35678,Sl=35680,ef=4,qu=1028,Yl=1029,Vh=2304,nh=2305,Xh=32775,Hh=32776,Cl=519,Js=7680,ah=0,ih=1,es=32774,Hd=513,tc=36160,Kd=36064,Ms={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},rs=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Co={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},_s={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Kh={frag:Fd,vert:Gd},rf={cw:Vh,ccw:nh};function Mn(_t){return Array.isArray(_t)||d(_t)||In(_t)}function Yd(_t){return _t.sort(function(ie,De){return ie===Ko?-1:De===Ko?1:ie<De?-1:1})}function zi(_t,ie,De,ar){this.thisDep=_t,this.contextDep=ie,this.propDep=De,this.append=ar}function hs(_t){return _t&&!(_t.thisDep||_t.contextDep||_t.propDep)}function pr(_t){return new zi(!1,!1,!1,_t)}function Ro(_t,ie){var De=_t.type;if(De===Wc){var ar=_t.data.length;return new zi(!0,ar>=1,ar>=2,ie)}else if(De===Vu){var Cr=_t.data;return new zi(Cr.thisDep,Cr.contextDep,Cr.propDep,ie)}else{if(De===Lh)return new zi(!1,!1,!1,ie);if(De===kc){for(var br=!1,rr=!1,Vr=!1,cn=0;cn<_t.data.length;++cn){var qr=_t.data[cn];if(qr.type===zc)Vr=!0;else if(qr.type===du)rr=!0;else if(qr.type===Nl)br=!0;else if(qr.type===Wc){br=!0;var en=qr.data;en>=1&&(rr=!0),en>=2&&(Vr=!0)}else qr.type===Vu&&(br=br||qr.data.thisDep,rr=rr||qr.data.contextDep,Vr=Vr||qr.data.propDep)}return new zi(br,rr,Vr,ie)}else return new zi(De===Nl,De===du,De===zc,ie)}}var oh=new zi(!1,!1,!1,function(){});function Yh(_t,ie,De,ar,Cr,br,rr,Vr,cn,qr,en,fn,yn,gn,ln){var cr=qr.Record,lr={add:32774,subtract:32778,"reverse subtract":32779};De.ext_blend_minmax&&(lr.min=Xh,lr.max=Hh);var tn=De.angle_instanced_arrays,Cn=De.webgl_draw_buffers,Ar={dirty:!0,profile:ln.profile},zn={},Fr=[],Kr={},Yr={};function an(Se){return Se.replace(".","_")}function Un(Se,ce,Re){var Je=an(Se);Fr.push(Se),zn[Je]=Ar[Je]=!!Re,Kr[Je]=ce}function sa(Se,ce,Re){var Je=an(Se);Fr.push(Se),Array.isArray(Re)?(Ar[Je]=Re.slice(),zn[Je]=Re.slice()):Ar[Je]=zn[Je]=Re,Yr[Je]=ce}Un(bl,Wd),Un(ro,Ud),sa(Vc,"blendColor",[0,0,0,0]),sa(Xu,"blendEquationSeparate",[es,es]),sa(jh,"blendFuncSeparate",[ih,ah,ih,ah]),Un(Rh,kd,!0),sa($f,"depthFunc",Hd),sa(Hu,"depthRange",[0,1]),sa(Ss,"depthMask",!0),sa(Qs,Qs,[!0,!0,!0,!0]),Un(Qf,Wh),sa(wh,"cullFace",Yl),sa(Xc,Xc,nh),sa(vu,vu,1),Un(Bh,zh),sa(Jf,"polygonOffset",[0,0]),Un(Hc,Xd),Un(_f,kh),sa(Fl,"sampleCoverage",[1,!1]),Un(Kc,zd),sa(Yc,"stencilMask",-1),sa(qf,"stencilFunc",[Cl,0,-1]),sa(Zc,"stencilOpSeparate",[qu,Js,Js,Js]),sa(Gs,"stencilOpSeparate",[Yl,Js,Js,Js]),Un(Ku,Vd),sa(Yu,"scissor",[0,0,_t.drawingBufferWidth,_t.drawingBufferHeight]),sa(Ko,Ko,[0,0,_t.drawingBufferWidth,_t.drawingBufferHeight]);var pn={gl:_t,context:yn,strings:ie,next:zn,current:Ar,draw:fn,elements:br,buffer:Cr,shader:en,attributes:qr.state,vao:qr,uniforms:cn,framebuffer:Vr,extensions:De,timer:gn,isBufferArgs:Mn},rn={primTypes:xe,compareFuncs:Co,blendFuncs:Ms,blendEquations:lr,stencilOps:_s,glTypes:yo,orientationType:rf};_.optional(function(){pn.isArrayLike=ba}),Cn&&(rn.backBuffer=[Yl],rn.drawBuffer=Ye(ar.maxDrawbuffers,function(Se){return Se===0?[0]:Ye(Se,function(ce){return Kd+ce})}));var ur=0;function Hn(){var Se=Nd(),ce=Se.link,Re=Se.global;Se.id=ur++,Se.batchId="0";var Je=ce(pn),qe=Se.shared={props:"a0"};Object.keys(pn).forEach(function(je){qe[je]=Re.def(Je,".",je)}),_.optional(function(){Se.CHECK=ce(_),Se.commandStr=_.guessCommand(),Se.command=ce(Se.commandStr),Se.assert=function(je,ye,Ke){je("if(!(",ye,"))",this.CHECK,".commandRaise(",ce(Ke),",",this.command,");")},rn.invalidBlendCombinations=rs});var Fe=Se.next={},Be=Se.current={};Object.keys(Yr).forEach(function(je){Array.isArray(Ar[je])&&(Fe[je]=Re.def(qe.next,".",je),Be[je]=Re.def(qe.current,".",je))});var Ve=Se.constants={};Object.keys(rn).forEach(function(je){Ve[je]=Re.def(JSON.stringify(rn[je]))}),Se.invoke=function(je,ye){switch(ye.type){case Wc:var Ke=["this",qe.context,qe.props,Se.batchId];return je.def(ce(ye.data),".call(",Ke.slice(0,Math.max(ye.data.length+1,4)),")");case zc:return je.def(qe.props,ye.data);case du:return je.def(qe.context,ye.data);case Nl:return je.def("this",ye.data);case Vu:return ye.data.append(Se,je),ye.data.ref;case Lh:return ye.data.toString();case kc:return ye.data.map(function(tr){return Se.invoke(je,tr)})}},Se.attribCache={};var Ee={};return Se.scopeAttrib=function(je){var ye=ie.id(je);if(ye in Ee)return Ee[ye];var Ke=qr.scope[ye];Ke||(Ke=qr.scope[ye]=new cr);var tr=Ee[ye]=ce(Ke);return tr},Se}function pa(Se){var ce=Se.static,Re=Se.dynamic,Je;if(gu in ce){var qe=!!ce[gu];Je=pr(function(Be,Ve){return qe}),Je.enable=qe}else if(gu in Re){var Fe=Re[gu];Je=Ro(Fe,function(Be,Ve){return Be.invoke(Ve,Fe)})}return Je}function Pn(Se,ce){var Re=Se.static,Je=Se.dynamic;if(Ol in Re){var qe=Re[Ol];return qe?(qe=Vr.getFramebuffer(qe),_.command(qe,"invalid framebuffer object"),pr(function(Be,Ve){var Ee=Be.link(qe),je=Be.shared;Ve.set(je.framebuffer,".next",Ee);var ye=je.context;return Ve.set(ye,"."+pu,Ee+".width"),Ve.set(ye,"."+xl,Ee+".height"),Ee})):pr(function(Be,Ve){var Ee=Be.shared;Ve.set(Ee.framebuffer,".next","null");var je=Ee.context;return Ve.set(je,"."+pu,je+"."+Jc),Ve.set(je,"."+xl,je+"."+Vl),"null"})}else if(Ol in Je){var Fe=Je[Ol];return Ro(Fe,function(Be,Ve){var Ee=Be.invoke(Ve,Fe),je=Be.shared,ye=je.framebuffer,Ke=Ve.def(ye,".getFramebuffer(",Ee,")");_.optional(function(){Be.assert(Ve,"!"+Ee+"||"+Ke,"invalid framebuffer object")}),Ve.set(ye,".next",Ke);var tr=je.context;return Ve.set(tr,"."+pu,Ke+"?"+Ke+".width:"+tr+"."+Jc),Ve.set(tr,"."+xl,Ke+"?"+Ke+".height:"+tr+"."+Vl),Ke})}else return null}function Ea(Se,ce,Re){var Je=Se.static,qe=Se.dynamic;function Fe(Ee){if(Ee in Je){var je=Je[Ee];_.commandType(je,"object","invalid "+Ee,Re.commandStr);var ye=!0,Ke=je.x|0,tr=je.y|0,jr,wr;return"width"in je?(jr=je.width|0,_.command(jr>=0,"invalid "+Ee,Re.commandStr)):ye=!1,"height"in je?(wr=je.height|0,_.command(wr>=0,"invalid "+Ee,Re.commandStr)):ye=!1,new zi(!ye&&ce&&ce.thisDep,!ye&&ce&&ce.contextDep,!ye&&ce&&ce.propDep,function(Wn,Oa){var An=Wn.shared.context,Kn=jr;"width"in je||(Kn=Oa.def(An,".",pu,"-",Ke));var ha=wr;return"height"in je||(ha=Oa.def(An,".",xl,"-",tr)),[Ke,tr,Kn,ha]})}else if(Ee in qe){var Er=qe[Ee],on=Ro(Er,function(Wn,Oa){var An=Wn.invoke(Oa,Er);_.optional(function(){Wn.assert(Oa,An+"&&typeof "+An+'==="object"',"invalid "+Ee)});var Kn=Wn.shared.context,ha=Oa.def(An,".x|0"),wa=Oa.def(An,".y|0"),xi=Oa.def('"width" in ',An,"?",An,".width|0:","(",Kn,".",pu,"-",ha,")"),co=Oa.def('"height" in ',An,"?",An,".height|0:","(",Kn,".",xl,"-",wa,")");return _.optional(function(){Wn.assert(Oa,xi+">=0&&"+co+">=0","invalid "+Ee)}),[ha,wa,xi,co]});return ce&&(on.thisDep=on.thisDep||ce.thisDep,on.contextDep=on.contextDep||ce.contextDep,on.propDep=on.propDep||ce.propDep),on}else return ce?new zi(ce.thisDep,ce.contextDep,ce.propDep,function(Wn,Oa){var An=Wn.shared.context;return[0,0,Oa.def(An,".",pu),Oa.def(An,".",xl)]}):null}var Be=Fe(Ko);if(Be){var Ve=Be;Be=new zi(Be.thisDep,Be.contextDep,Be.propDep,function(Ee,je){var ye=Ve.append(Ee,je),Ke=Ee.shared.context;return je.set(Ke,"."+th,ye[2]),je.set(Ke,"."+Nh,ye[3]),ye})}return{viewport:Be,scissor_box:Fe(Yu)}}function ca(Se,ce){var Re=Se.static,Je=typeof Re[Gl]=="string"&&typeof Re[ts]=="string";if(Je){if(Object.keys(ce.dynamic).length>0)return null;var qe=ce.static,Fe=Object.keys(qe);if(Fe.length>0&&typeof qe[Fe[0]]=="number"){for(var Be=[],Ve=0;Ve<Fe.length;++Ve)_(typeof qe[Fe[Ve]]=="number","must specify all vertex attribute locations when using vaos"),Be.push([qe[Fe[Ve]]|0,Fe[Ve]]);return Be}}return null}function Bn(Se,ce,Re){var Je=Se.static,qe=Se.dynamic;function Fe(ye){if(ye in Je){var Ke=ie.id(Je[ye]);_.optional(function(){en.shader(Kh[ye],Ke,_.guessCommand())});var tr=pr(function(){return Ke});return tr.id=Ke,tr}else if(ye in qe){var jr=qe[ye];return Ro(jr,function(wr,Er){var on=wr.invoke(Er,jr),Wn=Er.def(wr.shared.strings,".id(",on,")");return _.optional(function(){Er(wr.shared.shader,".shader(",Kh[ye],",",Wn,",",wr.command,");")}),Wn})}return null}var Be=Fe(Gl),Ve=Fe(ts),Ee=null,je;return hs(Be)&&hs(Ve)?(Ee=en.program(Ve.id,Be.id,null,Re),je=pr(function(ye,Ke){return ye.link(Ee)})):je=new zi(Be&&Be.thisDep||Ve&&Ve.thisDep,Be&&Be.contextDep||Ve&&Ve.contextDep,Be&&Be.propDep||Ve&&Ve.propDep,function(ye,Ke){var tr=ye.shared.shader,jr;Be?jr=Be.append(ye,Ke):jr=Ke.def(tr,".",Gl);var wr;Ve?wr=Ve.append(ye,Ke):wr=Ke.def(tr,".",ts);var Er=tr+".program("+wr+","+jr;return _.optional(function(){Er+=","+ye.command}),Ke.def(Er+")")}),{frag:Be,vert:Ve,progVar:je,program:Ee}}function Wa(Se,ce){var Re=Se.static,Je=Se.dynamic;function qe(){if(Ul in Re){var ye=Re[Ul];Mn(ye)?ye=br.getElements(br.create(ye,!0)):ye&&(ye=br.getElements(ye),_.command(ye,"invalid elements",ce.commandStr));var Ke=pr(function(jr,wr){if(ye){var Er=jr.link(ye);return jr.ELEMENTS=Er,Er}return jr.ELEMENTS=null,null});return Ke.value=ye,Ke}else if(Ul in Je){var tr=Je[Ul];return Ro(tr,function(jr,wr){var Er=jr.shared,on=Er.isBufferArgs,Wn=Er.elements,Oa=jr.invoke(wr,tr),An=wr.def("null"),Kn=wr.def(on,"(",Oa,")"),ha=jr.cond(Kn).then(An,"=",Wn,".createStream(",Oa,");").else(An,"=",Wn,".getElements(",Oa,");");return _.optional(function(){jr.assert(ha.else,"!"+Oa+"||"+An,"invalid elements")}),wr.entry(ha),wr.exit(jr.cond(Kn).then(Wn,".destroyStream(",An,");")),jr.ELEMENTS=An,An})}return null}var Fe=qe();function Be(){if(Yo in Re){var ye=Re[Yo];return _.commandParameter(ye,xe,"invalid primitve",ce.commandStr),pr(function(tr,jr){return xe[ye]})}else if(Yo in Je){var Ke=Je[Yo];return Ro(Ke,function(tr,jr){var wr=tr.constants.primTypes,Er=tr.invoke(jr,Ke);return _.optional(function(){tr.assert(jr,Er+" in "+wr,"invalid primitive, must be one of "+Object.keys(xe))}),jr.def(wr,"[",Er,"]")})}else if(Fe)return hs(Fe)?Fe.value?pr(function(tr,jr){return jr.def(tr.ELEMENTS,".primType")}):pr(function(){return ef}):new zi(Fe.thisDep,Fe.contextDep,Fe.propDep,function(tr,jr){var wr=tr.ELEMENTS;return jr.def(wr,"?",wr,".primType:",ef)});return null}function Ve(ye,Ke){if(ye in Re){var tr=Re[ye]|0;return _.command(!Ke||tr>=0,"invalid "+ye,ce.commandStr),pr(function(wr,Er){return Ke&&(wr.OFFSET=tr),tr})}else if(ye in Je){var jr=Je[ye];return Ro(jr,function(wr,Er){var on=wr.invoke(Er,jr);return Ke&&(wr.OFFSET=on,_.optional(function(){wr.assert(Er,on+">=0","invalid "+ye)})),on})}else if(Ke&&Fe)return pr(function(wr,Er){return wr.OFFSET="0",0});return null}var Ee=Ve($c,!0);function je(){if(Wl in Re){var ye=Re[Wl]|0;return _.command(typeof ye=="number"&&ye>=0,"invalid vertex count",ce.commandStr),pr(function(){return ye})}else if(Wl in Je){var Ke=Je[Wl];return Ro(Ke,function(wr,Er){var on=wr.invoke(Er,Ke);return _.optional(function(){wr.assert(Er,"typeof "+on+'==="number"&&'+on+">=0&&"+on+"===("+on+"|0)","invalid vertex count")}),on})}else if(Fe)if(hs(Fe)){if(Fe)return Ee?new zi(Ee.thisDep,Ee.contextDep,Ee.propDep,function(wr,Er){var on=Er.def(wr.ELEMENTS,".vertCount-",wr.OFFSET);return _.optional(function(){wr.assert(Er,on+">=0","invalid vertex offset/element buffer too small")}),on}):pr(function(wr,Er){return Er.def(wr.ELEMENTS,".vertCount")});var tr=pr(function(){return-1});return _.optional(function(){tr.MISSING=!0}),tr}else{var jr=new zi(Fe.thisDep||Ee.thisDep,Fe.contextDep||Ee.contextDep,Fe.propDep||Ee.propDep,function(wr,Er){var on=wr.ELEMENTS;return wr.OFFSET?Er.def(on,"?",on,".vertCount-",wr.OFFSET,":-1"):Er.def(on,"?",on,".vertCount:-1")});return _.optional(function(){jr.DYNAMIC=!0}),jr}return null}return{elements:Fe,primitive:Be(),count:je(),instances:Ve(zl,!1),offset:Ee}}function ja(Se,ce){var Re=Se.static,Je=Se.dynamic,qe={};return Fr.forEach(function(Fe){var Be=an(Fe);function Ve(Ee,je){if(Fe in Re){var ye=Ee(Re[Fe]);qe[Be]=pr(function(){return ye})}else if(Fe in Je){var Ke=Je[Fe];qe[Be]=Ro(Ke,function(tr,jr){return je(tr,jr,tr.invoke(jr,Ke))})}}switch(Fe){case Qf:case ro:case bl:case Kc:case Rh:case Ku:case Bh:case Hc:case _f:case Ss:return Ve(function(Ee){return _.commandType(Ee,"boolean",Fe,ce.commandStr),Ee},function(Ee,je,ye){return _.optional(function(){Ee.assert(je,"typeof "+ye+'==="boolean"',"invalid flag "+Fe,Ee.commandStr)}),ye});case $f:return Ve(function(Ee){return _.commandParameter(Ee,Co,"invalid "+Fe,ce.commandStr),Co[Ee]},function(Ee,je,ye){var Ke=Ee.constants.compareFuncs;return _.optional(function(){Ee.assert(je,ye+" in "+Ke,"invalid "+Fe+", must be one of "+Object.keys(Co))}),je.def(Ke,"[",ye,"]")});case Hu:return Ve(function(Ee){return _.command(ba(Ee)&&Ee.length===2&&typeof Ee[0]=="number"&&typeof Ee[1]=="number"&&Ee[0]<=Ee[1],"depth range is 2d array",ce.commandStr),Ee},function(Ee,je,ye){_.optional(function(){Ee.assert(je,Ee.shared.isArrayLike+"("+ye+")&&"+ye+".length===2&&typeof "+ye+'[0]==="number"&&typeof '+ye+'[1]==="number"&&'+ye+"[0]<="+ye+"[1]","depth range must be a 2d array")});var Ke=je.def("+",ye,"[0]"),tr=je.def("+",ye,"[1]");return[Ke,tr]});case jh:return Ve(function(Ee){_.commandType(Ee,"object","blend.func",ce.commandStr);var je="srcRGB"in Ee?Ee.srcRGB:Ee.src,ye="srcAlpha"in Ee?Ee.srcAlpha:Ee.src,Ke="dstRGB"in Ee?Ee.dstRGB:Ee.dst,tr="dstAlpha"in Ee?Ee.dstAlpha:Ee.dst;return _.commandParameter(je,Ms,Be+".srcRGB",ce.commandStr),_.commandParameter(ye,Ms,Be+".srcAlpha",ce.commandStr),_.commandParameter(Ke,Ms,Be+".dstRGB",ce.commandStr),_.commandParameter(tr,Ms,Be+".dstAlpha",ce.commandStr),_.command(rs.indexOf(je+", "+Ke)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+je+", "+Ke+")",ce.commandStr),[Ms[je],Ms[Ke],Ms[ye],Ms[tr]]},function(Ee,je,ye){var Ke=Ee.constants.blendFuncs;_.optional(function(){Ee.assert(je,ye+"&&typeof "+ye+'==="object"',"invalid blend func, must be an object")});function tr(An,Kn){var ha=je.def('"',An,Kn,'" in ',ye,"?",ye,".",An,Kn,":",ye,".",An);return _.optional(function(){Ee.assert(je,ha+" in "+Ke,"invalid "+Fe+"."+An+Kn+", must be one of "+Object.keys(Ms))}),ha}var jr=tr("src","RGB"),wr=tr("dst","RGB");_.optional(function(){var An=Ee.constants.invalidBlendCombinations;Ee.assert(je,An+".indexOf("+jr+'+", "+'+wr+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Er=je.def(Ke,"[",jr,"]"),on=je.def(Ke,"[",tr("src","Alpha"),"]"),Wn=je.def(Ke,"[",wr,"]"),Oa=je.def(Ke,"[",tr("dst","Alpha"),"]");return[Er,Wn,on,Oa]});case Xu:return Ve(function(Ee){if(typeof Ee=="string")return _.commandParameter(Ee,lr,"invalid "+Fe,ce.commandStr),[lr[Ee],lr[Ee]];if(typeof Ee=="object")return _.commandParameter(Ee.rgb,lr,Fe+".rgb",ce.commandStr),_.commandParameter(Ee.alpha,lr,Fe+".alpha",ce.commandStr),[lr[Ee.rgb],lr[Ee.alpha]];_.commandRaise("invalid blend.equation",ce.commandStr)},function(Ee,je,ye){var Ke=Ee.constants.blendEquations,tr=je.def(),jr=je.def(),wr=Ee.cond("typeof ",ye,'==="string"');return _.optional(function(){function Er(on,Wn,Oa){Ee.assert(on,Oa+" in "+Ke,"invalid "+Wn+", must be one of "+Object.keys(lr))}Er(wr.then,Fe,ye),Ee.assert(wr.else,ye+"&&typeof "+ye+'==="object"',"invalid "+Fe),Er(wr.else,Fe+".rgb",ye+".rgb"),Er(wr.else,Fe+".alpha",ye+".alpha")}),wr.then(tr,"=",jr,"=",Ke,"[",ye,"];"),wr.else(tr,"=",Ke,"[",ye,".rgb];",jr,"=",Ke,"[",ye,".alpha];"),je(wr),[tr,jr]});case Vc:return Ve(function(Ee){return _.command(ba(Ee)&&Ee.length===4,"blend.color must be a 4d array",ce.commandStr),Ye(4,function(je){return+Ee[je]})},function(Ee,je,ye){return _.optional(function(){Ee.assert(je,Ee.shared.isArrayLike+"("+ye+")&&"+ye+".length===4","blend.color must be a 4d array")}),Ye(4,function(Ke){return je.def("+",ye,"[",Ke,"]")})});case Yc:return Ve(function(Ee){return _.commandType(Ee,"number",Be,ce.commandStr),Ee|0},function(Ee,je,ye){return _.optional(function(){Ee.assert(je,"typeof "+ye+'==="number"',"invalid stencil.mask")}),je.def(ye,"|0")});case qf:return Ve(function(Ee){_.commandType(Ee,"object",Be,ce.commandStr);var je=Ee.cmp||"keep",ye=Ee.ref||0,Ke="mask"in Ee?Ee.mask:-1;return _.commandParameter(je,Co,Fe+".cmp",ce.commandStr),_.commandType(ye,"number",Fe+".ref",ce.commandStr),_.commandType(Ke,"number",Fe+".mask",ce.commandStr),[Co[je],ye,Ke]},function(Ee,je,ye){var Ke=Ee.constants.compareFuncs;_.optional(function(){function Er(){Ee.assert(je,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Er(ye+"&&typeof ",ye,'==="object"'),Er('!("cmp" in ',ye,")||(",ye,".cmp in ",Ke,")")});var tr=je.def('"cmp" in ',ye,"?",Ke,"[",ye,".cmp]",":",Js),jr=je.def(ye,".ref|0"),wr=je.def('"mask" in ',ye,"?",ye,".mask|0:-1");return[tr,jr,wr]});case Zc:case Gs:return Ve(function(Ee){_.commandType(Ee,"object",Be,ce.commandStr);var je=Ee.fail||"keep",ye=Ee.zfail||"keep",Ke=Ee.zpass||"keep";return _.commandParameter(je,_s,Fe+".fail",ce.commandStr),_.commandParameter(ye,_s,Fe+".zfail",ce.commandStr),_.commandParameter(Ke,_s,Fe+".zpass",ce.commandStr),[Fe===Gs?Yl:qu,_s[je],_s[ye],_s[Ke]]},function(Ee,je,ye){var Ke=Ee.constants.stencilOps;_.optional(function(){Ee.assert(je,ye+"&&typeof "+ye+'==="object"',"invalid "+Fe)});function tr(jr){return _.optional(function(){Ee.assert(je,'!("'+jr+'" in '+ye+")||("+ye+"."+jr+" in "+Ke+")","invalid "+Fe+"."+jr+", must be one of "+Object.keys(_s))}),je.def('"',jr,'" in ',ye,"?",Ke,"[",ye,".",jr,"]:",Js)}return[Fe===Gs?Yl:qu,tr("fail"),tr("zfail"),tr("zpass")]});case Jf:return Ve(function(Ee){_.commandType(Ee,"object",Be,ce.commandStr);var je=Ee.factor|0,ye=Ee.units|0;return _.commandType(je,"number",Be+".factor",ce.commandStr),_.commandType(ye,"number",Be+".units",ce.commandStr),[je,ye]},function(Ee,je,ye){_.optional(function(){Ee.assert(je,ye+"&&typeof "+ye+'==="object"',"invalid "+Fe)});var Ke=je.def(ye,".factor|0"),tr=je.def(ye,".units|0");return[Ke,tr]});case wh:return Ve(function(Ee){var je=0;return Ee==="front"?je=qu:Ee==="back"&&(je=Yl),_.command(!!je,Be,ce.commandStr),je},function(Ee,je,ye){return _.optional(function(){Ee.assert(je,ye+'==="front"||'+ye+'==="back"',"invalid cull.face")}),je.def(ye,'==="front"?',qu,":",Yl)});case vu:return Ve(function(Ee){return _.command(typeof Ee=="number"&&Ee>=ar.lineWidthDims[0]&&Ee<=ar.lineWidthDims[1],"invalid line width, must be a positive number between "+ar.lineWidthDims[0]+" and "+ar.lineWidthDims[1],ce.commandStr),Ee},function(Ee,je,ye){return _.optional(function(){Ee.assert(je,"typeof "+ye+'==="number"&&'+ye+">="+ar.lineWidthDims[0]+"&&"+ye+"<="+ar.lineWidthDims[1],"invalid line width")}),ye});case Xc:return Ve(function(Ee){return _.commandParameter(Ee,rf,Be,ce.commandStr),rf[Ee]},function(Ee,je,ye){return _.optional(function(){Ee.assert(je,ye+'==="cw"||'+ye+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),je.def(ye+'==="cw"?'+Vh+":"+nh)});case Qs:return Ve(function(Ee){return _.command(ba(Ee)&&Ee.length===4,"color.mask must be length 4 array",ce.commandStr),Ee.map(function(je){return!!je})},function(Ee,je,ye){return _.optional(function(){Ee.assert(je,Ee.shared.isArrayLike+"("+ye+")&&"+ye+".length===4","invalid color.mask")}),Ye(4,function(Ke){return"!!"+ye+"["+Ke+"]"})});case Fl:return Ve(function(Ee){_.command(typeof Ee=="object"&&Ee,Be,ce.commandStr);var je="value"in Ee?Ee.value:1,ye=!!Ee.invert;return _.command(typeof je=="number"&&je>=0&&je<=1,"sample.coverage.value must be a number between 0 and 1",ce.commandStr),[je,ye]},function(Ee,je,ye){_.optional(function(){Ee.assert(je,ye+"&&typeof "+ye+'==="object"',"invalid sample.coverage")});var Ke=je.def('"value" in ',ye,"?+",ye,".value:1"),tr=je.def("!!",ye,".invert");return[Ke,tr]})}}),qe}function Va(Se,ce){var Re=Se.static,Je=Se.dynamic,qe={};return Object.keys(Re).forEach(function(Fe){var Be=Re[Fe],Ve;if(typeof Be=="number"||typeof Be=="boolean")Ve=pr(function(){return Be});else if(typeof Be=="function"){var Ee=Be._reglType;Ee==="texture2d"||Ee==="textureCube"?Ve=pr(function(je){return je.link(Be)}):Ee==="framebuffer"||Ee==="framebufferCube"?(_.command(Be.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Fe+'"',ce.commandStr),Ve=pr(function(je){return je.link(Be.color[0])})):_.commandRaise('invalid data for uniform "'+Fe+'"',ce.commandStr)}else ba(Be)?Ve=pr(function(je){var ye=je.global.def("[",Ye(Be.length,function(Ke){return _.command(typeof Be[Ke]=="number"||typeof Be[Ke]=="boolean","invalid uniform "+Fe,je.commandStr),Be[Ke]}),"]");return ye}):_.commandRaise('invalid or missing data for uniform "'+Fe+'"',ce.commandStr);Ve.value=Be,qe[Fe]=Ve}),Object.keys(Je).forEach(function(Fe){var Be=Je[Fe];qe[Fe]=Ro(Be,function(Ve,Ee){return Ve.invoke(Ee,Be)})}),qe}function kn(Se,ce){var Re=Se.static,Je=Se.dynamic,qe={};return Object.keys(Re).forEach(function(Fe){var Be=Re[Fe],Ve=ie.id(Fe),Ee=new cr;if(Mn(Be))Ee.state=Bl,Ee.buffer=Cr.getBuffer(Cr.create(Be,El,!1,!0)),Ee.type=0;else{var je=Cr.getBuffer(Be);if(je)Ee.state=Bl,Ee.buffer=je,Ee.type=0;else if(_.command(typeof Be=="object"&&Be,"invalid data for attribute "+Fe,ce.commandStr),"constant"in Be){var ye=Be.constant;Ee.buffer="null",Ee.state=Ph,typeof ye=="number"?Ee.x=ye:(_.command(ba(ye)&&ye.length>0&&ye.length<=4,"invalid constant for attribute "+Fe,ce.commandStr),hu.forEach(function(Wn,Oa){Oa<ye.length&&(Ee[Wn]=ye[Oa])}))}else{Mn(Be.buffer)?je=Cr.getBuffer(Cr.create(Be.buffer,El,!1,!0)):je=Cr.getBuffer(Be.buffer),_.command(!!je,'missing buffer for attribute "'+Fe+'"',ce.commandStr);var Ke=Be.offset|0;_.command(Ke>=0,'invalid offset for attribute "'+Fe+'"',ce.commandStr);var tr=Be.stride|0;_.command(tr>=0&&tr<256,'invalid stride for attribute "'+Fe+'", must be integer betweeen [0, 255]',ce.commandStr);var jr=Be.size|0;_.command(!("size"in Be)||jr>0&&jr<=4,'invalid size for attribute "'+Fe+'", must be 1,2,3,4',ce.commandStr);var wr=!!Be.normalized,Er=0;"type"in Be&&(_.commandParameter(Be.type,yo,"invalid type for attribute "+Fe,ce.commandStr),Er=yo[Be.type]);var on=Be.divisor|0;"divisor"in Be&&(_.command(on===0||tn,'cannot specify divisor for attribute "'+Fe+'", instancing not supported',ce.commandStr),_.command(on>=0,'invalid divisor for attribute "'+Fe+'"',ce.commandStr)),_.optional(function(){var Wn=ce.commandStr,Oa=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Be).forEach(function(An){_.command(Oa.indexOf(An)>=0,'unknown parameter "'+An+'" for attribute pointer "'+Fe+'" (valid parameters are '+Oa+")",Wn)})}),Ee.buffer=je,Ee.state=Bl,Ee.size=jr,Ee.normalized=wr,Ee.type=Er||je.dtype,Ee.offset=Ke,Ee.stride=tr,Ee.divisor=on}}qe[Fe]=pr(function(Wn,Oa){var An=Wn.attribCache;if(Ve in An)return An[Ve];var Kn={isStream:!1};return Object.keys(Ee).forEach(function(ha){Kn[ha]=Ee[ha]}),Ee.buffer&&(Kn.buffer=Wn.link(Ee.buffer),Kn.type=Kn.type||Kn.buffer+".dtype"),An[Ve]=Kn,Kn})}),Object.keys(Je).forEach(function(Fe){var Be=Je[Fe];function Ve(Ee,je){var ye=Ee.invoke(je,Be),Ke=Ee.shared,tr=Ee.constants,jr=Ke.isBufferArgs,wr=Ke.buffer;_.optional(function(){Ee.assert(je,ye+"&&(typeof "+ye+'==="object"||typeof '+ye+'==="function")&&('+jr+"("+ye+")||"+wr+".getBuffer("+ye+")||"+wr+".getBuffer("+ye+".buffer)||"+jr+"("+ye+'.buffer)||("constant" in '+ye+"&&(typeof "+ye+'.constant==="number"||'+Ke.isArrayLike+"("+ye+".constant))))",'invalid dynamic attribute "'+Fe+'"')});var Er={isStream:je.def(!1)},on=new cr;on.state=Bl,Object.keys(on).forEach(function(Kn){Er[Kn]=je.def(""+on[Kn])});var Wn=Er.buffer,Oa=Er.type;je("if(",jr,"(",ye,")){",Er.isStream,"=true;",Wn,"=",wr,".createStream(",El,",",ye,");",Oa,"=",Wn,".dtype;","}else{",Wn,"=",wr,".getBuffer(",ye,");","if(",Wn,"){",Oa,"=",Wn,".dtype;",'}else if("constant" in ',ye,"){",Er.state,"=",Ph,";","if(typeof "+ye+'.constant === "number"){',Er[hu[0]],"=",ye,".constant;",hu.slice(1).map(function(Kn){return Er[Kn]}).join("="),"=0;","}else{",hu.map(function(Kn,ha){return Er[Kn]+"="+ye+".constant.length>"+ha+"?"+ye+".constant["+ha+"]:0;"}).join(""),"}}else{","if(",jr,"(",ye,".buffer)){",Wn,"=",wr,".createStream(",El,",",ye,".buffer);","}else{",Wn,"=",wr,".getBuffer(",ye,".buffer);","}",Oa,'="type" in ',ye,"?",tr.glTypes,"[",ye,".type]:",Wn,".dtype;",Er.normalized,"=!!",ye,".normalized;");function An(Kn){je(Er[Kn],"=",ye,".",Kn,"|0;")}return An("size"),An("offset"),An("stride"),An("divisor"),je("}}"),je.exit("if(",Er.isStream,"){",wr,".destroyStream(",Wn,");","}"),Er}qe[Fe]=Ro(Be,Ve)}),qe}function Ka(Se,ce){var Re=Se.static,Je=Se.dynamic;if(Zu in Re){var qe=Re[Zu];return qe!==null&&qr.getVAO(qe)===null&&(qe=qr.createVAO(qe)),pr(function(Be){return Be.link(qr.getVAO(qe))})}else if(Zu in Je){var Fe=Je[Zu];return Ro(Fe,function(Be,Ve){var Ee=Be.invoke(Ve,Fe);return Ve.def(Be.shared.vao+".getVAO("+Ee+")")})}return null}function Qa(Se){var ce=Se.static,Re=Se.dynamic,Je={};return Object.keys(ce).forEach(function(qe){var Fe=ce[qe];Je[qe]=pr(function(Be,Ve){return typeof Fe=="number"||typeof Fe=="boolean"?""+Fe:Be.link(Fe)})}),Object.keys(Re).forEach(function(qe){var Fe=Re[qe];Je[qe]=Ro(Fe,function(Be,Ve){return Be.invoke(Ve,Fe)})}),Je}function ki(Se,ce,Re,Je,qe){var Fe=Se.static,Be=Se.dynamic;_.optional(function(){var An=[Ol,ts,Gl,Ul,Yo,$c,Wl,zl,gu,Zu].concat(Fr);function Kn(ha){Object.keys(ha).forEach(function(wa){_.command(An.indexOf(wa)>=0,'unknown parameter "'+wa+'"',qe.commandStr)})}Kn(Fe),Kn(Be)});var Ve=ca(Se,ce),Ee=Pn(Se,qe),je=Ea(Se,Ee,qe),ye=Wa(Se,qe),Ke=ja(Se,qe),tr=Bn(Se,qe,Ve);function jr(An){var Kn=je[An];Kn&&(Ke[An]=Kn)}jr(Ko),jr(an(Yu));var wr=Object.keys(Ke).length>0,Er={framebuffer:Ee,draw:ye,shader:tr,state:Ke,dirty:wr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Er.profile=pa(Se,qe),Er.uniforms=Va(Re,qe),Er.drawVAO=Er.scopeVAO=Ka(Se,qe),!Er.drawVAO&&tr.program&&!Ve&&De.angle_instanced_arrays){var on=!0,Wn=tr.program.attributes.map(function(An){var Kn=ce.static[An];return on=on&&!!Kn,Kn});if(on&&Wn.length>0){var Oa=qr.getVAO(qr.createVAO(Wn));Er.drawVAO=new zi(null,null,null,function(An,Kn){return An.link(Oa)}),Er.useVAO=!0}}return Ve?Er.useVAO=!0:Er.attributes=kn(ce,qe),Er.context=Qa(Je,qe),Er}function Yi(Se,ce,Re){var Je=Se.shared,qe=Je.context,Fe=Se.scope();Object.keys(Re).forEach(function(Be){ce.save(qe,"."+Be);var Ve=Re[Be],Ee=Ve.append(Se,ce);Array.isArray(Ee)?Fe(qe,".",Be,"=[",Ee.join(),"];"):Fe(qe,".",Be,"=",Ee,";")}),ce(Fe)}function Li(Se,ce,Re,Je){var qe=Se.shared,Fe=qe.gl,Be=qe.framebuffer,Ve;Cn&&(Ve=ce.def(qe.extensions,".webgl_draw_buffers"));var Ee=Se.constants,je=Ee.drawBuffer,ye=Ee.backBuffer,Ke;Re?Ke=Re.append(Se,ce):Ke=ce.def(Be,".next"),Je||ce("if(",Ke,"!==",Be,".cur){"),ce("if(",Ke,"){",Fe,".bindFramebuffer(",tc,",",Ke,".framebuffer);"),Cn&&ce(Ve,".drawBuffersWEBGL(",je,"[",Ke,".colorAttachments.length]);"),ce("}else{",Fe,".bindFramebuffer(",tc,",null);"),Cn&&ce(Ve,".drawBuffersWEBGL(",ye,");"),ce("}",Be,".cur=",Ke,";"),Je||ce("}")}function Na(Se,ce,Re){var Je=Se.shared,qe=Je.gl,Fe=Se.current,Be=Se.next,Ve=Je.current,Ee=Je.next,je=Se.cond(Ve,".dirty");Fr.forEach(function(ye){var Ke=an(ye);if(!(Ke in Re.state)){var tr,jr;if(Ke in Be){tr=Be[Ke],jr=Fe[Ke];var wr=Ye(Ar[Ke].length,function(on){return je.def(tr,"[",on,"]")});je(Se.cond(wr.map(function(on,Wn){return on+"!=="+jr+"["+Wn+"]"}).join("||")).then(qe,".",Yr[Ke],"(",wr,");",wr.map(function(on,Wn){return jr+"["+Wn+"]="+on}).join(";"),";"))}else{tr=je.def(Ee,".",Ke);var Er=Se.cond(tr,"!==",Ve,".",Ke);je(Er),Ke in Kr?Er(Se.cond(tr).then(qe,".enable(",Kr[Ke],");").else(qe,".disable(",Kr[Ke],");"),Ve,".",Ke,"=",tr,";"):Er(qe,".",Yr[Ke],"(",tr,");",Ve,".",Ke,"=",tr,";")}}}),Object.keys(Re.state).length===0&&je(Ve,".dirty=false;"),ce(je)}function Sn(Se,ce,Re,Je){var qe=Se.shared,Fe=Se.current,Be=qe.current,Ve=qe.gl;Yd(Object.keys(Re)).forEach(function(Ee){var je=Re[Ee];if(!(Je&&!Je(je))){var ye=je.append(Se,ce);if(Kr[Ee]){var Ke=Kr[Ee];hs(je)?ye?ce(Ve,".enable(",Ke,");"):ce(Ve,".disable(",Ke,");"):ce(Se.cond(ye).then(Ve,".enable(",Ke,");").else(Ve,".disable(",Ke,");")),ce(Be,".",Ee,"=",ye,";")}else if(ba(ye)){var tr=Fe[Ee];ce(Ve,".",Yr[Ee],"(",ye,");",ye.map(function(jr,wr){return tr+"["+wr+"]="+jr}).join(";"),";")}else ce(Ve,".",Yr[Ee],"(",ye,");",Be,".",Ee,"=",ye,";")}})}function yi(Se,ce){tn&&(Se.instancing=ce.def(Se.shared.extensions,".angle_instanced_arrays"))}function la(Se,ce,Re,Je,qe){var Fe=Se.shared,Be=Se.stats,Ve=Fe.current,Ee=Fe.timer,je=Re.profile;function ye(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var Ke,tr;function jr(An){Ke=ce.def(),An(Ke,"=",ye(),";"),typeof qe=="string"?An(Be,".count+=",qe,";"):An(Be,".count++;"),gn&&(Je?(tr=ce.def(),An(tr,"=",Ee,".getNumPendingQueries();")):An(Ee,".beginQuery(",Be,");"))}function wr(An){An(Be,".cpuTime+=",ye(),"-",Ke,";"),gn&&(Je?An(Ee,".pushScopeStats(",tr,",",Ee,".getNumPendingQueries(),",Be,");"):An(Ee,".endQuery();"))}function Er(An){var Kn=ce.def(Ve,".profile");ce(Ve,".profile=",An,";"),ce.exit(Ve,".profile=",Kn,";")}var on;if(je){if(hs(je)){je.enable?(jr(ce),wr(ce.exit),Er("true")):Er("false");return}on=je.append(Se,ce),Er(on)}else on=ce.def(Ve,".profile");var Wn=Se.block();jr(Wn),ce("if(",on,"){",Wn,"}");var Oa=Se.block();wr(Oa),ce.exit("if(",on,"){",Oa,"}")}function ni(Se,ce,Re,Je,qe){var Fe=Se.shared;function Be(Ee){switch(Ee){case _c:case Cs:case Xl:return 2;case $u:case qc:case tf:return 3;case Qu:case bu:case Us:return 4;default:return 1}}function Ve(Ee,je,ye){var Ke=Fe.gl,tr=ce.def(Ee,".location"),jr=ce.def(Fe.attributes,"[",tr,"]"),wr=ye.state,Er=ye.buffer,on=[ye.x,ye.y,ye.z,ye.w],Wn=["buffer","normalized","offset","stride"];function Oa(){ce("if(!",jr,".buffer){",Ke,".enableVertexAttribArray(",tr,");}");var Kn=ye.type,ha;if(ye.size?ha=ce.def(ye.size,"||",je):ha=je,ce("if(",jr,".type!==",Kn,"||",jr,".size!==",ha,"||",Wn.map(function(xi){return jr+"."+xi+"!=="+ye[xi]}).join("||"),"){",Ke,".bindBuffer(",El,",",Er,".buffer);",Ke,".vertexAttribPointer(",[tr,ha,Kn,ye.normalized,ye.stride,ye.offset],");",jr,".type=",Kn,";",jr,".size=",ha,";",Wn.map(function(xi){return jr+"."+xi+"="+ye[xi]+";"}).join(""),"}"),tn){var wa=ye.divisor;ce("if(",jr,".divisor!==",wa,"){",Se.instancing,".vertexAttribDivisorANGLE(",[tr,wa],");",jr,".divisor=",wa,";}")}}function An(){ce("if(",jr,".buffer){",Ke,".disableVertexAttribArray(",tr,");",jr,".buffer=null;","}if(",hu.map(function(Kn,ha){return jr+"."+Kn+"!=="+on[ha]}).join("||"),"){",Ke,".vertexAttrib4f(",tr,",",on,");",hu.map(function(Kn,ha){return jr+"."+Kn+"="+on[ha]+";"}).join(""),"}")}wr===Bl?Oa():wr===Ph?An():(ce("if(",wr,"===",Bl,"){"),Oa(),ce("}else{"),An(),ce("}"))}Je.forEach(function(Ee){var je=Ee.name,ye=Re.attributes[je],Ke;if(ye){if(!qe(ye))return;Ke=ye.append(Se,ce)}else{if(!qe(oh))return;var tr=Se.scopeAttrib(je);_.optional(function(){Se.assert(ce,tr+".state","missing attribute "+je)}),Ke={},Object.keys(new cr).forEach(function(jr){Ke[jr]=ce.def(tr,".",jr)})}Ve(Se.link(Ee),Be(Ee.info.type),Ke)})}function za(Se,ce,Re,Je,qe){for(var Fe=Se.shared,Be=Fe.gl,Ve,Ee=0;Ee<Je.length;++Ee){var je=Je[Ee],ye=je.name,Ke=je.info.type,tr=Re.uniforms[ye],jr=Se.link(je),wr=jr+".location",Er;if(tr){if(!qe(tr))continue;if(hs(tr)){var on=tr.value;if(_.command(on!==null&&typeof on!="undefined",'missing uniform "'+ye+'"',Se.commandStr),Ke===_u||Ke===Sl){_.command(typeof on=="function"&&(Ke===_u&&(on._reglType==="texture2d"||on._reglType==="framebuffer")||Ke===Sl&&(on._reglType==="textureCube"||on._reglType==="framebufferCube")),"invalid texture for uniform "+ye,Se.commandStr);var Wn=Se.link(on._texture||on.color[0]._texture);ce(Be,".uniform1i(",wr,",",Wn+".bind());"),ce.exit(Wn,".unbind();")}else if(Ke===Hl||Ke===Kl||Ke===Ju){_.optional(function(){_.command(ba(on),"invalid matrix for uniform "+ye,Se.commandStr),_.command(Ke===Hl&&on.length===4||Ke===Kl&&on.length===9||Ke===Ju&&on.length===16,"invalid length for matrix uniform "+ye,Se.commandStr)});var Oa=Se.global.def("new Float32Array(["+Array.prototype.slice.call(on)+"])"),An=2;Ke===Kl?An=3:Ke===Ju&&(An=4),ce(Be,".uniformMatrix",An,"fv(",wr,",false,",Oa,");")}else{switch(Ke){case yu:_.commandType(on,"number","uniform "+ye,Se.commandStr),Ve="1f";break;case _c:_.command(ba(on)&&on.length===2,"uniform "+ye,Se.commandStr),Ve="2f";break;case $u:_.command(ba(on)&&on.length===3,"uniform "+ye,Se.commandStr),Ve="3f";break;case Qu:_.command(ba(on)&&on.length===4,"uniform "+ye,Se.commandStr),Ve="4f";break;case Ou:_.commandType(on,"boolean","uniform "+ye,Se.commandStr),Ve="1i";break;case mu:_.commandType(on,"number","uniform "+ye,Se.commandStr),Ve="1i";break;case Xl:_.command(ba(on)&&on.length===2,"uniform "+ye,Se.commandStr),Ve="2i";break;case Cs:_.command(ba(on)&&on.length===2,"uniform "+ye,Se.commandStr),Ve="2i";break;case tf:_.command(ba(on)&&on.length===3,"uniform "+ye,Se.commandStr),Ve="3i";break;case qc:_.command(ba(on)&&on.length===3,"uniform "+ye,Se.commandStr),Ve="3i";break;case Us:_.command(ba(on)&&on.length===4,"uniform "+ye,Se.commandStr),Ve="4i";break;case bu:_.command(ba(on)&&on.length===4,"uniform "+ye,Se.commandStr),Ve="4i";break}ce(Be,".uniform",Ve,"(",wr,",",ba(on)?Array.prototype.slice.call(on):on,");")}continue}else Er=tr.append(Se,ce)}else{if(!qe(oh))continue;Er=ce.def(Fe.uniforms,"[",ie.id(ye),"]")}Ke===_u?(_(!Array.isArray(Er),"must specify a scalar prop for textures"),ce("if(",Er,"&&",Er,'._reglType==="framebuffer"){',Er,"=",Er,".color[0];","}")):Ke===Sl&&(_(!Array.isArray(Er),"must specify a scalar prop for cube maps"),ce("if(",Er,"&&",Er,'._reglType==="framebufferCube"){',Er,"=",Er,".color[0];","}")),_.optional(function(){function co(ds,of){Se.assert(ce,ds,'bad data or missing for uniform "'+ye+'".  '+of)}function bo(ds){_(!Array.isArray(Er),"must not specify an array type for uniform"),co("typeof "+Er+'==="'+ds+'"',"invalid type, expected "+ds)}function Ei(ds,of){Array.isArray(Er)?_(Er.length===ds,"must have length "+ds):co(Fe.isArrayLike+"("+Er+")&&"+Er+".length==="+ds,"invalid vector, should have length "+ds,Se.commandStr)}function el(ds){_(!Array.isArray(Er),"must not specify a value type"),co("typeof "+Er+'==="function"&&'+Er+'._reglType==="texture'+(ds===Gh?"2d":"Cube")+'"',"invalid texture type",Se.commandStr)}switch(Ke){case mu:bo("number");break;case Cs:Ei(2,"number");break;case qc:Ei(3,"number");break;case bu:Ei(4,"number");break;case yu:bo("number");break;case _c:Ei(2,"number");break;case $u:Ei(3,"number");break;case Qu:Ei(4,"number");break;case Ou:bo("boolean");break;case Xl:Ei(2,"boolean");break;case tf:Ei(3,"boolean");break;case Us:Ei(4,"boolean");break;case Hl:Ei(4,"number");break;case Kl:Ei(9,"number");break;case Ju:Ei(16,"number");break;case _u:el(Gh);break;case Sl:el(Uh);break}});var Kn=1;switch(Ke){case _u:case Sl:var ha=ce.def(Er,"._texture");ce(Be,".uniform1i(",wr,",",ha,".bind());"),ce.exit(ha,".unbind();");continue;case mu:case Ou:Ve="1i";break;case Cs:case Xl:Ve="2i",Kn=2;break;case qc:case tf:Ve="3i",Kn=3;break;case bu:case Us:Ve="4i",Kn=4;break;case yu:Ve="1f";break;case _c:Ve="2f",Kn=2;break;case $u:Ve="3f",Kn=3;break;case Qu:Ve="4f",Kn=4;break;case Hl:Ve="Matrix2fv";break;case Kl:Ve="Matrix3fv";break;case Ju:Ve="Matrix4fv";break}if(ce(Be,".uniform",Ve,"(",wr,","),Ve.charAt(0)==="M"){var wa=Math.pow(Ke-Hl+2,2),xi=Se.global.def("new Float32Array(",wa,")");Array.isArray(Er)?ce("false,(",Ye(wa,function(co){return xi+"["+co+"]="+Er[co]}),",",xi,")"):ce("false,(Array.isArray(",Er,")||",Er," instanceof Float32Array)?",Er,":(",Ye(wa,function(co){return xi+"["+co+"]="+Er+"["+co+"]"}),",",xi,")")}else Kn>1?ce(Ye(Kn,function(co){return Array.isArray(Er)?Er[co]:Er+"["+co+"]"})):(_(!Array.isArray(Er),"uniform value must not be an array"),ce(Er));ce(");")}}function Zn(Se,ce,Re,Je){var qe=Se.shared,Fe=qe.gl,Be=qe.draw,Ve=Je.draw;function Ee(){var ha=Ve.elements,wa,xi=ce;return ha?((ha.contextDep&&Je.contextDynamic||ha.propDep)&&(xi=Re),wa=ha.append(Se,xi)):wa=xi.def(Be,".",Ul),wa&&xi("if("+wa+")"+Fe+".bindBuffer("+Fh+","+wa+".buffer.buffer);"),wa}function je(){var ha=Ve.count,wa,xi=ce;return ha?((ha.contextDep&&Je.contextDynamic||ha.propDep)&&(xi=Re),wa=ha.append(Se,xi),_.optional(function(){ha.MISSING&&Se.assert(ce,"false","missing vertex count"),ha.DYNAMIC&&Se.assert(xi,wa+">=0","missing vertex count")})):(wa=xi.def(Be,".",Wl),_.optional(function(){Se.assert(xi,wa+">=0","missing vertex count")})),wa}var ye=Ee();function Ke(ha){var wa=Ve[ha];return wa?wa.contextDep&&Je.contextDynamic||wa.propDep?wa.append(Se,Re):wa.append(Se,ce):ce.def(Be,".",ha)}var tr=Ke(Yo),jr=Ke($c),wr=je();if(typeof wr=="number"){if(wr===0)return}else Re("if(",wr,"){"),Re.exit("}");var Er,on;tn&&(Er=Ke(zl),on=Se.instancing);var Wn=ye+".type",Oa=Ve.elements&&hs(Ve.elements);function An(){function ha(){Re(on,".drawElementsInstancedANGLE(",[tr,wr,Wn,jr+"<<(("+Wn+"-"+Dh+")>>1)",Er],");")}function wa(){Re(on,".drawArraysInstancedANGLE(",[tr,jr,wr,Er],");")}ye?Oa?ha():(Re("if(",ye,"){"),ha(),Re("}else{"),wa(),Re("}")):wa()}function Kn(){function ha(){Re(Fe+".drawElements("+[tr,wr,Wn,jr+"<<(("+Wn+"-"+Dh+")>>1)"]+");")}function wa(){Re(Fe+".drawArrays("+[tr,jr,wr]+");")}ye?Oa?ha():(Re("if(",ye,"){"),ha(),Re("}else{"),wa(),Re("}")):wa()}tn&&(typeof Er!="number"||Er>=0)?typeof Er=="string"?(Re("if(",Er,">0){"),An(),Re("}else if(",Er,"<0){"),Kn(),Re("}")):An():Kn()}function ya(Se,ce,Re,Je,qe){var Fe=Hn(),Be=Fe.proc("body",qe);return _.optional(function(){Fe.commandStr=ce.commandStr,Fe.command=Fe.link(ce.commandStr)}),tn&&(Fe.instancing=Be.def(Fe.shared.extensions,".angle_instanced_arrays")),Se(Fe,Be,Re,Je),Fe.compile().body}function Ra(Se,ce,Re,Je){yi(Se,ce),Re.useVAO?Re.drawVAO?ce(Se.shared.vao,".setVAO(",Re.drawVAO.append(Se,ce),");"):ce(Se.shared.vao,".setVAO(",Se.shared.vao,".targetVAO);"):(ce(Se.shared.vao,".setVAO(null);"),ni(Se,ce,Re,Je.attributes,function(){return!0})),za(Se,ce,Re,Je.uniforms,function(){return!0}),Zn(Se,ce,ce,Re)}function Vi(Se,ce){var Re=Se.proc("draw",1);yi(Se,Re),Yi(Se,Re,ce.context),Li(Se,Re,ce.framebuffer),Na(Se,Re,ce),Sn(Se,Re,ce.state),la(Se,Re,ce,!1,!0);var Je=ce.shader.progVar.append(Se,Re);if(Re(Se.shared.gl,".useProgram(",Je,".program);"),ce.shader.program)Ra(Se,Re,ce,ce.shader.program);else{Re(Se.shared.vao,".setVAO(null);");var qe=Se.global.def("{}"),Fe=Re.def(Je,".id"),Be=Re.def(qe,"[",Fe,"]");Re(Se.cond(Be).then(Be,".call(this,a0);").else(Be,"=",qe,"[",Fe,"]=",Se.link(function(Ve){return ya(Ra,Se,ce,Ve,1)}),"(",Je,");",Be,".call(this,a0);"))}Object.keys(ce.state).length>0&&Re(Se.shared.current,".dirty=true;")}function wo(Se,ce,Re,Je){Se.batchId="a1",yi(Se,ce);function qe(){return!0}ni(Se,ce,Re,Je.attributes,qe),za(Se,ce,Re,Je.uniforms,qe),Zn(Se,ce,ce,Re)}function Ql(Se,ce,Re,Je){yi(Se,ce);var qe=Re.contextDep,Fe=ce.def(),Be="a0",Ve="a1",Ee=ce.def();Se.shared.props=Ee,Se.batchId=Fe;var je=Se.scope(),ye=Se.scope();ce(je.entry,"for(",Fe,"=0;",Fe,"<",Ve,";++",Fe,"){",Ee,"=",Be,"[",Fe,"];",ye,"}",je.exit);function Ke(Wn){return Wn.contextDep&&qe||Wn.propDep}function tr(Wn){return!Ke(Wn)}if(Re.needsContext&&Yi(Se,ye,Re.context),Re.needsFramebuffer&&Li(Se,ye,Re.framebuffer),Sn(Se,ye,Re.state,Ke),Re.profile&&Ke(Re.profile)&&la(Se,ye,Re,!1,!0),Je)Re.useVAO?Re.drawVAO?Ke(Re.drawVAO)?ye(Se.shared.vao,".setVAO(",Re.drawVAO.append(Se,ye),");"):je(Se.shared.vao,".setVAO(",Re.drawVAO.append(Se,je),");"):je(Se.shared.vao,".setVAO(",Se.shared.vao,".targetVAO);"):(je(Se.shared.vao,".setVAO(null);"),ni(Se,je,Re,Je.attributes,tr),ni(Se,ye,Re,Je.attributes,Ke)),za(Se,je,Re,Je.uniforms,tr),za(Se,ye,Re,Je.uniforms,Ke),Zn(Se,je,ye,Re);else{var jr=Se.global.def("{}"),wr=Re.shader.progVar.append(Se,ye),Er=ye.def(wr,".id"),on=ye.def(jr,"[",Er,"]");ye(Se.shared.gl,".useProgram(",wr,".program);","if(!",on,"){",on,"=",jr,"[",Er,"]=",Se.link(function(Wn){return ya(wo,Se,Re,Wn,2)}),"(",wr,");}",on,".call(this,a0[",Fe,"],",Fe,");")}}function Ae(Se,ce){var Re=Se.proc("batch",2);Se.batchId="0",yi(Se,Re);var Je=!1,qe=!0;Object.keys(ce.context).forEach(function(jr){Je=Je||ce.context[jr].propDep}),Je||(Yi(Se,Re,ce.context),qe=!1);var Fe=ce.framebuffer,Be=!1;Fe?(Fe.propDep?Je=Be=!0:Fe.contextDep&&Je&&(Be=!0),Be||Li(Se,Re,Fe)):Li(Se,Re,null),ce.state.viewport&&ce.state.viewport.propDep&&(Je=!0);function Ve(jr){return jr.contextDep&&Je||jr.propDep}Na(Se,Re,ce),Sn(Se,Re,ce.state,function(jr){return!Ve(jr)}),(!ce.profile||!Ve(ce.profile))&&la(Se,Re,ce,!1,"a1"),ce.contextDep=Je,ce.needsContext=qe,ce.needsFramebuffer=Be;var Ee=ce.shader.progVar;if(Ee.contextDep&&Je||Ee.propDep)Ql(Se,Re,ce,null);else{var je=Ee.append(Se,Re);if(Re(Se.shared.gl,".useProgram(",je,".program);"),ce.shader.program)Ql(Se,Re,ce,ce.shader.program);else{Re(Se.shared.vao,".setVAO(null);");var ye=Se.global.def("{}"),Ke=Re.def(je,".id"),tr=Re.def(ye,"[",Ke,"]");Re(Se.cond(tr).then(tr,".call(this,a0,a1);").else(tr,"=",ye,"[",Ke,"]=",Se.link(function(jr){return ya(Ql,Se,ce,jr,2)}),"(",je,");",tr,".call(this,a0,a1);"))}}Object.keys(ce.state).length>0&&Re(Se.shared.current,".dirty=true;")}function hr(Se,ce){var Re=Se.proc("scope",3);Se.batchId="a2";var Je=Se.shared,qe=Je.current;Yi(Se,Re,ce.context),ce.framebuffer&&ce.framebuffer.append(Se,Re),Yd(Object.keys(ce.state)).forEach(function(Be){var Ve=ce.state[Be],Ee=Ve.append(Se,Re);ba(Ee)?Ee.forEach(function(je,ye){Re.set(Se.next[Be],"["+ye+"]",je)}):Re.set(Je.next,"."+Be,Ee)}),la(Se,Re,ce,!0,!0),[Ul,$c,Wl,zl,Yo].forEach(function(Be){var Ve=ce.draw[Be];!Ve||Re.set(Je.draw,"."+Be,""+Ve.append(Se,Re))}),Object.keys(ce.uniforms).forEach(function(Be){var Ve=ce.uniforms[Be].append(Se,Re);Array.isArray(Ve)&&(Ve="["+Ve.join()+"]"),Re.set(Je.uniforms,"["+ie.id(Be)+"]",Ve)}),Object.keys(ce.attributes).forEach(function(Be){var Ve=ce.attributes[Be].append(Se,Re),Ee=Se.scopeAttrib(Be);Object.keys(new cr).forEach(function(je){Re.set(Ee,"."+je,Ve[je])})}),ce.scopeVAO&&Re.set(Je.vao,".targetVAO",ce.scopeVAO.append(Se,Re));function Fe(Be){var Ve=ce.shader[Be];Ve&&Re.set(Je.shader,"."+Be,Ve.append(Se,Re))}Fe(ts),Fe(Gl),Object.keys(ce.state).length>0&&(Re(qe,".dirty=true;"),Re.exit(qe,".dirty=true;")),Re("a1(",Se.shared.context,",a0,",Se.batchId,");")}function _e(Se){if(!(typeof Se!="object"||ba(Se))){for(var ce=Object.keys(Se),Re=0;Re<ce.length;++Re)if(Pe.isDynamic(Se[ce[Re]]))return!0;return!1}}function Tn(Se,ce,Re){var Je=ce.static[Re];if(!Je||!_e(Je))return;var qe=Se.global,Fe=Object.keys(Je),Be=!1,Ve=!1,Ee=!1,je=Se.global.def("{}");Fe.forEach(function(Ke){var tr=Je[Ke];if(Pe.isDynamic(tr)){typeof tr=="function"&&(tr=Je[Ke]=Pe.unbox(tr));var jr=Ro(tr,null);Be=Be||jr.thisDep,Ee=Ee||jr.propDep,Ve=Ve||jr.contextDep}else{switch(qe(je,".",Ke,"="),typeof tr){case"number":qe(tr);break;case"string":qe('"',tr,'"');break;case"object":Array.isArray(tr)&&qe("[",tr.join(),"]");break;default:qe(Se.link(tr));break}qe(";")}});function ye(Ke,tr){Fe.forEach(function(jr){var wr=Je[jr];if(!!Pe.isDynamic(wr)){var Er=Ke.invoke(tr,wr);tr(je,".",jr,"=",Er,";")}})}ce.dynamic[Re]=new Pe.DynamicVariable(Vu,{thisDep:Be,contextDep:Ve,propDep:Ee,ref:je,append:ye}),delete ce.static[Re]}function ma(Se,ce,Re,Je,qe){var Fe=Hn();Fe.stats=Fe.link(qe),Object.keys(ce.static).forEach(function(Ve){Tn(Fe,ce,Ve)}),rh.forEach(function(Ve){Tn(Fe,Se,Ve)});var Be=ki(Se,ce,Re,Je,Fe);return Vi(Fe,Be),hr(Fe,Be),Ae(Fe,Be),o(Fe.compile(),{destroy:function(){Be.shader.program.destroy()}})}return{next:zn,current:Ar,procs:function(){var Se=Hn(),ce=Se.proc("poll"),Re=Se.proc("refresh"),Je=Se.block();ce(Je),Re(Je);var qe=Se.shared,Fe=qe.gl,Be=qe.next,Ve=qe.current;Je(Ve,".dirty=false;"),Li(Se,ce),Li(Se,Re,null,!0);var Ee;tn&&(Ee=Se.link(tn)),De.oes_vertex_array_object&&Re(Se.link(De.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var je=0;je<ar.maxAttributes;++je){var ye=Re.def(qe.attributes,"[",je,"]"),Ke=Se.cond(ye,".buffer");Ke.then(Fe,".enableVertexAttribArray(",je,");",Fe,".bindBuffer(",El,",",ye,".buffer.buffer);",Fe,".vertexAttribPointer(",je,",",ye,".size,",ye,".type,",ye,".normalized,",ye,".stride,",ye,".offset);").else(Fe,".disableVertexAttribArray(",je,");",Fe,".vertexAttrib4f(",je,",",ye,".x,",ye,".y,",ye,".z,",ye,".w);",ye,".buffer=null;"),Re(Ke),tn&&Re(Ee,".vertexAttribDivisorANGLE(",je,",",ye,".divisor);")}return Re(Se.shared.vao,".currentVAO=null;",Se.shared.vao,".setVAO(",Se.shared.vao,".targetVAO);"),Object.keys(Kr).forEach(function(tr){var jr=Kr[tr],wr=Je.def(Be,".",tr),Er=Se.block();Er("if(",wr,"){",Fe,".enable(",jr,")}else{",Fe,".disable(",jr,")}",Ve,".",tr,"=",wr,";"),Re(Er),ce("if(",wr,"!==",Ve,".",tr,"){",Er,"}")}),Object.keys(Yr).forEach(function(tr){var jr=Yr[tr],wr=Ar[tr],Er,on,Wn=Se.block();if(Wn(Fe,".",jr,"("),ba(wr)){var Oa=wr.length;Er=Se.global.def(Be,".",tr),on=Se.global.def(Ve,".",tr),Wn(Ye(Oa,function(An){return Er+"["+An+"]"}),");",Ye(Oa,function(An){return on+"["+An+"]="+Er+"["+An+"];"}).join("")),ce("if(",Ye(Oa,function(An){return Er+"["+An+"]!=="+on+"["+An+"]"}).join("||"),"){",Wn,"}")}else Er=Je.def(Be,".",tr),on=Je.def(Ve,".",tr),Wn(Er,");",Ve,".",tr,"=",Er,";"),ce("if(",Er,"!==",on,"){",Wn,"}");Re(Wn)}),Se.compile()}(),compile:ma}}function Zd(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Zh=34918,$h=34919,ec=35007,nf=function(ie,De){if(!De.ext_disjoint_timer_query)return null;var ar=[];function Cr(){return ar.pop()||De.ext_disjoint_timer_query.createQueryEXT()}function br(Cn){ar.push(Cn)}var rr=[];function Vr(Cn){var Ar=Cr();De.ext_disjoint_timer_query.beginQueryEXT(ec,Ar),rr.push(Ar),ln(rr.length-1,rr.length,Cn)}function cn(){De.ext_disjoint_timer_query.endQueryEXT(ec)}function qr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var en=[];function fn(){return en.pop()||new qr}function yn(Cn){en.push(Cn)}var gn=[];function ln(Cn,Ar,zn){var Fr=fn();Fr.startQueryIndex=Cn,Fr.endQueryIndex=Ar,Fr.sum=0,Fr.stats=zn,gn.push(Fr)}var cr=[],lr=[];function tn(){var Cn,Ar,zn=rr.length;if(zn!==0){lr.length=Math.max(lr.length,zn+1),cr.length=Math.max(cr.length,zn+1),cr[0]=0,lr[0]=0;var Fr=0;for(Cn=0,Ar=0;Ar<rr.length;++Ar){var Kr=rr[Ar];De.ext_disjoint_timer_query.getQueryObjectEXT(Kr,$h)?(Fr+=De.ext_disjoint_timer_query.getQueryObjectEXT(Kr,Zh),br(Kr)):rr[Cn++]=Kr,cr[Ar+1]=Fr,lr[Ar+1]=Cn}for(rr.length=Cn,Cn=0,Ar=0;Ar<gn.length;++Ar){var Yr=gn[Ar],an=Yr.startQueryIndex,Un=Yr.endQueryIndex;Yr.sum+=cr[Un]-cr[an];var sa=lr[an],pn=lr[Un];pn===sa?(Yr.stats.gpuTime+=Yr.sum/1e6,yn(Yr)):(Yr.startQueryIndex=sa,Yr.endQueryIndex=pn,gn[Cn++]=Yr)}gn.length=Cn}}return{beginQuery:Vr,endQuery:cn,pushScopeStats:ln,update:tn,getNumPendingQueries:function(){return rr.length},clear:function(){ar.push.apply(ar,rr);for(var Ar=0;Ar<ar.length;Ar++)De.ext_disjoint_timer_query.deleteQueryEXT(ar[Ar]);rr.length=0,ar.length=0},restore:function(){rr.length=0,ar.length=0}}},$d=16384,rc=256,Qh=1024,Zl=34962,$l="webglcontextlost",af="webglcontextrestored",qs=1,Jh=2,Qd=3;function sh(_t,ie){for(var De=0;De<_t.length;++De)if(_t[De]===ie)return De;return-1}function tl(_t){var ie=Ln(_t);if(!ie)return null;var De=ie.gl,ar=De.getContextAttributes(),Cr=De.isContextLost(),br=We(De,ie);if(!br)return null;var rr=gr(),Vr=Zd(),cn=br.extensions,qr=nf(De,cn),en=nr(),fn=De.drawingBufferWidth,yn=De.drawingBufferHeight,gn={tick:0,time:0,viewportWidth:fn,viewportHeight:yn,framebufferWidth:fn,framebufferHeight:yn,drawingBufferWidth:fn,drawingBufferHeight:yn,pixelRatio:ie.pixelRatio},ln={},cr={elements:null,primitive:4,count:-1,offset:0,instances:-1},lr=Gn(De,cn),tn=Ls(De,Vr,ie,Ar),Cn=_n(De,cn,lr,Vr,tn);function Ar(Zn){return Cn.destroyBuffer(Zn)}var zn=xa(De,cn,tn,Vr),Fr=Rd(De,rr,Vr,ie),Kr=Uf(De,cn,lr,function(){Un.procs.poll()},gn,Vr,ie),Yr=Ns(De,cn,lr,Vr,ie),an=Pd(De,cn,lr,Kr,Yr,Vr),Un=Yh(De,rr,cn,lr,tn,zn,Kr,an,ln,Cn,Fr,cr,gn,qr,ie),sa=Bd(De,an,Un.procs.poll,gn,ar,cn,lr),pn=Un.next,rn=De.canvas,ur=[],Hn=[],pa=[],Pn=[ie.onDestroy],Ea=null;function ca(){if(ur.length===0){qr&&qr.update(),Ea=null;return}Ea=Ge.next(ca),Sn();for(var Zn=ur.length-1;Zn>=0;--Zn){var ya=ur[Zn];ya&&ya(gn,null,0)}De.flush(),qr&&qr.update()}function Bn(){!Ea&&ur.length>0&&(Ea=Ge.next(ca))}function Wa(){Ea&&(Ge.cancel(ca),Ea=null)}function ja(Zn){Zn.preventDefault(),Cr=!0,Wa(),Hn.forEach(function(ya){ya()})}function Va(Zn){De.getError(),Cr=!1,br.restore(),Fr.restore(),tn.restore(),Kr.restore(),Yr.restore(),an.restore(),Cn.restore(),qr&&qr.restore(),Un.procs.refresh(),Bn(),pa.forEach(function(ya){ya()})}rn&&(rn.addEventListener($l,ja,!1),rn.addEventListener(af,Va,!1));function kn(){ur.length=0,Wa(),rn&&(rn.removeEventListener($l,ja),rn.removeEventListener(af,Va)),Fr.clear(),an.clear(),Yr.clear(),Kr.clear(),zn.clear(),tn.clear(),Cn.clear(),qr&&qr.clear(),Pn.forEach(function(Zn){Zn()})}function Ka(Zn){_(!!Zn,"invalid args to regl({...})"),_.type(Zn,"object","invalid args to regl({...})");function ya(qe){var Fe=o({},qe);delete Fe.uniforms,delete Fe.attributes,delete Fe.context,delete Fe.vao,"stencil"in Fe&&Fe.stencil.op&&(Fe.stencil.opBack=Fe.stencil.opFront=Fe.stencil.op,delete Fe.stencil.op);function Be(Ve){if(Ve in Fe){var Ee=Fe[Ve];delete Fe[Ve],Object.keys(Ee).forEach(function(je){Fe[Ve+"."+je]=Ee[je]})}}return Be("blend"),Be("depth"),Be("cull"),Be("stencil"),Be("polygonOffset"),Be("scissor"),Be("sample"),"vao"in qe&&(Fe.vao=qe.vao),Fe}function Ra(qe,Fe){var Be={},Ve={};return Object.keys(qe).forEach(function(Ee){var je=qe[Ee];if(Pe.isDynamic(je)){Ve[Ee]=Pe.unbox(je,Ee);return}else if(Fe&&Array.isArray(je)){for(var ye=0;ye<je.length;++ye)if(Pe.isDynamic(je[ye])){Ve[Ee]=Pe.unbox(je,Ee);return}}Be[Ee]=je}),{dynamic:Ve,static:Be}}var Vi=Ra(Zn.context||{},!0),wo=Ra(Zn.uniforms||{},!0),Ql=Ra(Zn.attributes||{},!1),Ae=Ra(ya(Zn),!1),hr={gpuTime:0,cpuTime:0,count:0},_e=Un.compile(Ae,Ql,wo,Vi,hr),Tn=_e.draw,ma=_e.batch,Se=_e.scope,ce=[];function Re(qe){for(;ce.length<qe;)ce.push(null);return ce}function Je(qe,Fe){var Be;if(Cr&&_.raise("context lost"),typeof qe=="function")return Se.call(this,null,qe,0);if(typeof Fe=="function")if(typeof qe=="number")for(Be=0;Be<qe;++Be)Se.call(this,null,Fe,Be);else if(Array.isArray(qe))for(Be=0;Be<qe.length;++Be)Se.call(this,qe[Be],Fe,Be);else return Se.call(this,qe,Fe,0);else if(typeof qe=="number"){if(qe>0)return ma.call(this,Re(qe|0),qe|0)}else if(Array.isArray(qe)){if(qe.length)return ma.call(this,qe,qe.length)}else return Tn.call(this,qe)}return o(Je,{stats:hr,destroy:function(){_e.destroy()}})}var Qa=an.setFBO=Ka({framebuffer:Pe.define.call(null,qs,"framebuffer")});function ki(Zn,ya){var Ra=0;Un.procs.poll();var Vi=ya.color;Vi&&(De.clearColor(+Vi[0]||0,+Vi[1]||0,+Vi[2]||0,+Vi[3]||0),Ra|=$d),"depth"in ya&&(De.clearDepth(+ya.depth),Ra|=rc),"stencil"in ya&&(De.clearStencil(ya.stencil|0),Ra|=Qh),_(!!Ra,"called regl.clear with no buffer specified"),De.clear(Ra)}function Yi(Zn){if(_(typeof Zn=="object"&&Zn,"regl.clear() takes an object as input"),"framebuffer"in Zn)if(Zn.framebuffer&&Zn.framebuffer_reglType==="framebufferCube")for(var ya=0;ya<6;++ya)Qa(o({framebuffer:Zn.framebuffer.faces[ya]},Zn),ki);else Qa(Zn,ki);else ki(null,Zn)}function Li(Zn){_.type(Zn,"function","regl.frame() callback must be a function"),ur.push(Zn);function ya(){var Ra=sh(ur,Zn);_(Ra>=0,"cannot cancel a frame twice");function Vi(){var wo=sh(ur,Vi);ur[wo]=ur[ur.length-1],ur.length-=1,ur.length<=0&&Wa()}ur[Ra]=Vi}return Bn(),{cancel:ya}}function Na(){var Zn=pn.viewport,ya=pn.scissor_box;Zn[0]=Zn[1]=ya[0]=ya[1]=0,gn.viewportWidth=gn.framebufferWidth=gn.drawingBufferWidth=Zn[2]=ya[2]=De.drawingBufferWidth,gn.viewportHeight=gn.framebufferHeight=gn.drawingBufferHeight=Zn[3]=ya[3]=De.drawingBufferHeight}function Sn(){gn.tick+=1,gn.time=la(),Na(),Un.procs.poll()}function yi(){Kr.refresh(),Na(),Un.procs.refresh(),qr&&qr.update()}function la(){return(nr()-en)/1e3}yi();function ni(Zn,ya){_.type(ya,"function","listener callback must be a function");var Ra;switch(Zn){case"frame":return Li(ya);case"lost":Ra=Hn;break;case"restore":Ra=pa;break;case"destroy":Ra=Pn;break;default:_.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ra.push(ya),{cancel:function(){for(var wo=0;wo<Ra.length;++wo)if(Ra[wo]===ya){Ra[wo]=Ra[Ra.length-1],Ra.pop();return}}}}var za=o(Ka,{clear:Yi,prop:Pe.define.bind(null,qs),context:Pe.define.bind(null,Jh),this:Pe.define.bind(null,Qd),draw:Ka({}),buffer:function(ya){return tn.create(ya,Zl,!1,!1)},elements:function(ya){return zn.create(ya,!1)},texture:Kr.create2D,cube:Kr.createCube,renderbuffer:Yr.create,framebuffer:an.create,framebufferCube:an.createCube,vao:Cn.createVAO,attributes:ar,frame:Li,on:ni,limits:lr,hasExtension:function(ya){return lr.extensions.indexOf(ya.toLowerCase())>=0},read:sa,destroy:kn,_gl:De,_refresh:yi,poll:function(){Sn(),qr&&qr.update()},now:la,stats:Vr});return ie.onDone(null,za),za}return tl})},T1Zk:function(wt,P,i){"use strict";i.d(P,"getAdjust",function(){return M}),i.d(P,"registerAdjust",function(){return D});var d=i("5Kaj"),o=i("X5ku"),b=i.n(o),x={},M=function(S){return x[S.toLowerCase()]},D=function(S,O){if(M(S))throw new Error("Adjust type '"+S+"' existed.");x[S.toLowerCase()]=O}},T5ir:function(wt,P,i){"use strict";i.r(P),i.d(P,"catmullRomToBezier",function(){return D}),i.d(P,"fillPath",function(){return ut}),i.d(P,"fillPathByDiff",function(){return pt}),i.d(P,"formatPath",function(){return Kt}),i.d(P,"intersection",function(){return Q}),i.d(P,"parsePathArray",function(){return B}),i.d(P,"parsePathString",function(){return M}),i.d(P,"pathToAbsolute",function(){return S}),i.d(P,"pathToCurve",function(){return A}),i.d(P,"rectPath",function(){return j});var d=i("jg4I"),o=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,b=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),M=function(gt){if(!gt)return null;if(Object(d.B)(gt))return gt;var lt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(gt).replace(b,function(it,bt,Dt){var Mt=[],q=bt.toLowerCase();if(Dt.replace(x,function(V,ot){ot&&Mt.push(+ot)}),q==="m"&&Mt.length>2&&(ft.push([bt].concat(Mt.splice(0,2))),q="l",bt=bt==="m"?"l":"L"),q==="o"&&Mt.length===1&&ft.push([bt,Mt[0]]),q==="r")ft.push([bt].concat(Mt));else for(;Mt.length>=lt[q]&&(ft.push([bt].concat(Mt.splice(0,lt[q]))),!!lt[q]););return gt}),ft},D=function(gt,lt){for(var ft=[],it=0,bt=gt.length;bt-2*!lt>it;it+=2){var Dt=[{x:+gt[it-2],y:+gt[it-1]},{x:+gt[it],y:+gt[it+1]},{x:+gt[it+2],y:+gt[it+3]},{x:+gt[it+4],y:+gt[it+5]}];lt?it?bt-4===it?Dt[3]={x:+gt[0],y:+gt[1]}:bt-2===it&&(Dt[2]={x:+gt[0],y:+gt[1]},Dt[3]={x:+gt[2],y:+gt[3]}):Dt[0]={x:+gt[bt-2],y:+gt[bt-1]}:bt-4===it?Dt[3]=Dt[2]:it||(Dt[0]={x:+gt[it],y:+gt[it+1]}),ft.push(["C",(-Dt[0].x+6*Dt[1].x+Dt[2].x)/6,(-Dt[0].y+6*Dt[1].y+Dt[2].y)/6,(Dt[1].x+6*Dt[2].x-Dt[3].x)/6,(Dt[1].y+6*Dt[2].y-Dt[3].y)/6,Dt[2].x,Dt[2].y])}return ft},C=function(gt,lt,ft,it,bt){var Dt=[];if(bt===null&&it===null&&(it=ft),gt=+gt,lt=+lt,ft=+ft,it=+it,bt!==null){var Mt=Math.PI/180,q=gt+ft*Math.cos(-it*Mt),V=gt+ft*Math.cos(-bt*Mt),ot=lt+ft*Math.sin(-it*Mt),tt=lt+ft*Math.sin(-bt*Mt);Dt=[["M",q,ot],["A",ft,ft,0,+(bt-it>180),0,V,tt]]}else Dt=[["M",gt,lt],["m",0,-it],["a",ft,it,0,1,1,0,2*it],["a",ft,it,0,1,1,0,-2*it],["z"]];return Dt},S=function(gt){if(gt=M(gt),!gt||!gt.length)return[["M",0,0]];var lt=[],ft=0,it=0,bt=0,Dt=0,Mt=0,q,V;gt[0][0]==="M"&&(ft=+gt[0][1],it=+gt[0][2],bt=ft,Dt=it,Mt++,lt[0]=["M",ft,it]);for(var ot=gt.length===3&&gt[0][0]==="M"&&gt[1][0].toUpperCase()==="R"&&gt[2][0].toUpperCase()==="Z",tt=void 0,yt=void 0,Pt=Mt,Ft=gt.length;Pt<Ft;Pt++){if(lt.push(tt=[]),yt=gt[Pt],q=yt[0],q!==q.toUpperCase())switch(tt[0]=q.toUpperCase(),tt[0]){case"A":tt[1]=yt[1],tt[2]=yt[2],tt[3]=yt[3],tt[4]=yt[4],tt[5]=yt[5],tt[6]=+yt[6]+ft,tt[7]=+yt[7]+it;break;case"V":tt[1]=+yt[1]+it;break;case"H":tt[1]=+yt[1]+ft;break;case"R":V=[ft,it].concat(yt.slice(1));for(var Wt=2,Vt=V.length;Wt<Vt;Wt++)V[Wt]=+V[Wt]+ft,V[++Wt]=+V[Wt]+it;lt.pop(),lt=lt.concat(D(V,ot));break;case"O":lt.pop(),V=C(ft,it,yt[1],yt[2]),V.push(V[0]),lt=lt.concat(V);break;case"U":lt.pop(),lt=lt.concat(C(ft,it,yt[1],yt[2],yt[3])),tt=["U"].concat(lt[lt.length-1].slice(-2));break;case"M":bt=+yt[1]+ft,Dt=+yt[2]+it;break;default:for(var Wt=1,Vt=yt.length;Wt<Vt;Wt++)tt[Wt]=+yt[Wt]+(Wt%2?ft:it)}else if(q==="R")V=[ft,it].concat(yt.slice(1)),lt.pop(),lt=lt.concat(D(V,ot)),tt=["R"].concat(yt.slice(-2));else if(q==="O")lt.pop(),V=C(ft,it,yt[1],yt[2]),V.push(V[0]),lt=lt.concat(V);else if(q==="U")lt.pop(),lt=lt.concat(C(ft,it,yt[1],yt[2],yt[3])),tt=["U"].concat(lt[lt.length-1].slice(-2));else for(var Lt=0,Ct=yt.length;Lt<Ct;Lt++)tt[Lt]=yt[Lt];if(q=q.toUpperCase(),q!=="O")switch(tt[0]){case"Z":ft=+bt,it=+Dt;break;case"H":ft=tt[1];break;case"V":it=tt[1];break;case"M":bt=tt[tt.length-2],Dt=tt[tt.length-1];break;default:ft=tt[tt.length-2],it=tt[tt.length-1]}}return lt},O=function(gt,lt,ft,it){return[gt,lt,ft,it,ft,it]},E=function(gt,lt,ft,it,bt,Dt){var Mt=1/3,q=2/3;return[Mt*gt+q*ft,Mt*lt+q*it,Mt*bt+q*ft,Mt*Dt+q*it,bt,Dt]},I=function Xt(gt,lt,ft,it,bt,Dt,Mt,q,V,ot){ft===it&&(ft+=1);var tt=Math.PI*120/180,yt=Math.PI/180*(+bt||0),Pt=[],Ft,Wt,Vt,Lt,Ct,_=function(Jr,_r,bn){var ta=Jr*Math.cos(bn)-_r*Math.sin(bn),aa=Jr*Math.sin(bn)+_r*Math.cos(bn);return{x:ta,y:aa}};if(ot)Wt=ot[0],Vt=ot[1],Lt=ot[2],Ct=ot[3];else{Ft=_(gt,lt,-yt),gt=Ft.x,lt=Ft.y,Ft=_(q,V,-yt),q=Ft.x,V=Ft.y,gt===q&&lt===V&&(q+=1,V+=1);var It=(gt-q)/2,Rt=(lt-V)/2,xt=It*It/(ft*ft)+Rt*Rt/(it*it);xt>1&&(xt=Math.sqrt(xt),ft=xt*ft,it=xt*it);var Nt=ft*ft,Ht=it*it,jt=(Dt===Mt?-1:1)*Math.sqrt(Math.abs((Nt*Ht-Nt*Rt*Rt-Ht*It*It)/(Nt*Rt*Rt+Ht*It*It)));Lt=jt*ft*Rt/it+(gt+q)/2,Ct=jt*-it*It/ft+(lt+V)/2,Wt=Math.asin(((lt-Ct)/it).toFixed(9)),Vt=Math.asin(((V-Ct)/it).toFixed(9)),Wt=gt<Lt?Math.PI-Wt:Wt,Vt=q<Lt?Math.PI-Vt:Vt,Wt<0&&(Wt=Math.PI*2+Wt),Vt<0&&(Vt=Math.PI*2+Vt),Mt&&Wt>Vt&&(Wt=Wt-Math.PI*2),!Mt&&Vt>Wt&&(Vt=Vt-Math.PI*2)}var Ut=Vt-Wt;if(Math.abs(Ut)>tt){var Jt=Vt,se=q,me=V;Vt=Wt+tt*(Mt&&Vt>Wt?1:-1),q=Lt+ft*Math.cos(Vt),V=Ct+it*Math.sin(Vt),Pt=Xt(q,V,ft,it,bt,0,Mt,se,me,[Vt,Jt,Lt,Ct])}Ut=Vt-Wt;var Me=Math.cos(Wt),Pe=Math.sin(Wt),Ge=Math.cos(Vt),nr=Math.sin(Vt),gr=Math.tan(Ut/4),or=4/3*ft*gr,Ze=4/3*it*gr,mr=[gt,lt],Nr=[gt+or*Pe,lt-Ze*Me],Mr=[q+or*nr,V-Ze*Ge],vn=[q,V];if(Nr[0]=2*mr[0]-Nr[0],Nr[1]=2*mr[1]-Nr[1],ot)return[Nr,Mr,vn].concat(Pt);Pt=[Nr,Mr,vn].concat(Pt).join().split(",");for(var Ln=[],We=0,Ye=Pt.length;We<Ye;We++)Ln[We]=We%2?_(Pt[We-1],Pt[We],yt).y:_(Pt[We],Pt[We+1],yt).x;return Ln},A=function(gt,lt){var ft=S(gt),it=lt&&S(lt),bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Dt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Mt=[],q=[],V="",ot="",tt,yt=function(Rt,xt,Nt){var Ht,jt;if(!Rt)return["C",xt.x,xt.y,xt.x,xt.y,xt.x,xt.y];switch(!(Rt[0]in{T:1,Q:1})&&(xt.qx=xt.qy=null),Rt[0]){case"M":xt.X=Rt[1],xt.Y=Rt[2];break;case"A":Rt=["C"].concat(I.apply(0,[xt.x,xt.y].concat(Rt.slice(1))));break;case"S":Nt==="C"||Nt==="S"?(Ht=xt.x*2-xt.bx,jt=xt.y*2-xt.by):(Ht=xt.x,jt=xt.y),Rt=["C",Ht,jt].concat(Rt.slice(1));break;case"T":Nt==="Q"||Nt==="T"?(xt.qx=xt.x*2-xt.qx,xt.qy=xt.y*2-xt.qy):(xt.qx=xt.x,xt.qy=xt.y),Rt=["C"].concat(E(xt.x,xt.y,xt.qx,xt.qy,Rt[1],Rt[2]));break;case"Q":xt.qx=Rt[1],xt.qy=Rt[2],Rt=["C"].concat(E(xt.x,xt.y,Rt[1],Rt[2],Rt[3],Rt[4]));break;case"L":Rt=["C"].concat(O(xt.x,xt.y,Rt[1],Rt[2]));break;case"H":Rt=["C"].concat(O(xt.x,xt.y,Rt[1],xt.y));break;case"V":Rt=["C"].concat(O(xt.x,xt.y,xt.x,Rt[1]));break;case"Z":Rt=["C"].concat(O(xt.x,xt.y,xt.X,xt.Y));break;default:break}return Rt},Pt=function(Rt,xt){if(Rt[xt].length>7){Rt[xt].shift();for(var Nt=Rt[xt];Nt.length;)Mt[xt]="A",it&&(q[xt]="A"),Rt.splice(xt++,0,["C"].concat(Nt.splice(0,6)));Rt.splice(xt,1),tt=Math.max(ft.length,it&&it.length||0)}},Ft=function(Rt,xt,Nt,Ht,jt){Rt&&xt&&Rt[jt][0]==="M"&&xt[jt][0]!=="M"&&(xt.splice(jt,0,["M",Ht.x,Ht.y]),Nt.bx=0,Nt.by=0,Nt.x=Rt[jt][1],Nt.y=Rt[jt][2],tt=Math.max(ft.length,it&&it.length||0))};tt=Math.max(ft.length,it&&it.length||0);for(var Wt=0;Wt<tt;Wt++){ft[Wt]&&(V=ft[Wt][0]),V!=="C"&&(Mt[Wt]=V,Wt&&(ot=Mt[Wt-1])),ft[Wt]=yt(ft[Wt],bt,ot),Mt[Wt]!=="A"&&V==="C"&&(Mt[Wt]="C"),Pt(ft,Wt),it&&(it[Wt]&&(V=it[Wt][0]),V!=="C"&&(q[Wt]=V,Wt&&(ot=q[Wt-1])),it[Wt]=yt(it[Wt],Dt,ot),q[Wt]!=="A"&&V==="C"&&(q[Wt]="C"),Pt(it,Wt)),Ft(ft,it,bt,Dt,Wt),Ft(it,ft,Dt,bt,Wt);var Vt=ft[Wt],Lt=it&&it[Wt],Ct=Vt.length,_=it&&Lt.length;bt.x=Vt[Ct-2],bt.y=Vt[Ct-1],bt.bx=parseFloat(Vt[Ct-4])||bt.x,bt.by=parseFloat(Vt[Ct-3])||bt.y,Dt.bx=it&&(parseFloat(Lt[_-4])||Dt.x),Dt.by=it&&(parseFloat(Lt[_-3])||Dt.y),Dt.x=it&&Lt[_-2],Dt.y=it&&Lt[_-1]}return it?[ft,it]:ft},R=/,?([a-z]),?/gi,B=function(gt){return gt.join(",").replace(R,"$1")},p=function(gt,lt,ft,it,bt){var Dt=-3*lt+9*ft-9*it+3*bt,Mt=gt*Dt+6*lt-12*ft+6*it;return gt*Mt-3*lt+3*ft},G=function(gt,lt,ft,it,bt,Dt,Mt,q,V){V===null&&(V=1),V=V>1?1:V<0?0:V;for(var ot=V/2,tt=12,yt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Pt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ft=0,Wt=0;Wt<tt;Wt++){var Vt=ot*yt[Wt]+ot,Lt=p(Vt,gt,ft,bt,Mt),Ct=p(Vt,lt,it,Dt,q),_=Lt*Lt+Ct*Ct;Ft+=Pt[Wt]*Math.sqrt(_)}return ot*Ft},W=function(gt,lt,ft,it,bt,Dt,Mt,q){for(var V=[],ot=[[],[]],tt,yt,Pt,Ft,Wt=0;Wt<2;++Wt){if(Wt===0?(yt=6*gt-12*ft+6*bt,tt=-3*gt+9*ft-9*bt+3*Mt,Pt=3*ft-3*gt):(yt=6*lt-12*it+6*Dt,tt=-3*lt+9*it-9*Dt+3*q,Pt=3*it-3*lt),Math.abs(tt)<1e-12){if(Math.abs(yt)<1e-12)continue;Ft=-Pt/yt,Ft>0&&Ft<1&&V.push(Ft);continue}var Vt=yt*yt-4*Pt*tt,Lt=Math.sqrt(Vt);if(!(Vt<0)){var Ct=(-yt+Lt)/(2*tt);Ct>0&&Ct<1&&V.push(Ct);var _=(-yt-Lt)/(2*tt);_>0&&_<1&&V.push(_)}}for(var It=V.length,Rt=It,xt;It--;)Ft=V[It],xt=1-Ft,ot[0][It]=xt*xt*xt*gt+3*xt*xt*Ft*ft+3*xt*Ft*Ft*bt+Ft*Ft*Ft*Mt,ot[1][It]=xt*xt*xt*lt+3*xt*xt*Ft*it+3*xt*Ft*Ft*Dt+Ft*Ft*Ft*q;return ot[0][Rt]=gt,ot[1][Rt]=lt,ot[0][Rt+1]=Mt,ot[1][Rt+1]=q,ot[0].length=ot[1].length=Rt+2,{min:{x:Math.min.apply(0,ot[0]),y:Math.min.apply(0,ot[1])},max:{x:Math.max.apply(0,ot[0]),y:Math.max.apply(0,ot[1])}}},z=function(gt,lt,ft,it,bt,Dt,Mt,q){if(!(Math.max(gt,ft)<Math.min(bt,Mt)||Math.min(gt,ft)>Math.max(bt,Mt)||Math.max(lt,it)<Math.min(Dt,q)||Math.min(lt,it)>Math.max(Dt,q))){var V=(gt*it-lt*ft)*(bt-Mt)-(gt-ft)*(bt*q-Dt*Mt),ot=(gt*it-lt*ft)*(Dt-q)-(lt-it)*(bt*q-Dt*Mt),tt=(gt-ft)*(Dt-q)-(lt-it)*(bt-Mt);if(!!tt){var yt=V/tt,Pt=ot/tt,Ft=+yt.toFixed(2),Wt=+Pt.toFixed(2);if(!(Ft<+Math.min(gt,ft).toFixed(2)||Ft>+Math.max(gt,ft).toFixed(2)||Ft<+Math.min(bt,Mt).toFixed(2)||Ft>+Math.max(bt,Mt).toFixed(2)||Wt<+Math.min(lt,it).toFixed(2)||Wt>+Math.max(lt,it).toFixed(2)||Wt<+Math.min(Dt,q).toFixed(2)||Wt>+Math.max(Dt,q).toFixed(2)))return{x:yt,y:Pt}}}},N=function(gt,lt,ft){return lt>=gt.x&&lt<=gt.x+gt.width&&ft>=gt.y&&ft<=gt.y+gt.height},j=function(gt,lt,ft,it,bt){if(bt)return[["M",+gt+ +bt,lt],["l",ft-bt*2,0],["a",bt,bt,0,0,1,bt,bt],["l",0,it-bt*2],["a",bt,bt,0,0,1,-bt,bt],["l",bt*2-ft,0],["a",bt,bt,0,0,1,-bt,-bt],["l",0,bt*2-it],["a",bt,bt,0,0,1,bt,-bt],["z"]];var Dt=[["M",gt,lt],["l",ft,0],["l",0,it],["l",-ft,0],["z"]];return Dt.parsePathArray=B,Dt},F=function(gt,lt,ft,it){return gt===null&&(gt=lt=ft=it=0),lt===null&&(lt=gt.y,ft=gt.width,it=gt.height,gt=gt.x),{x:gt,y:lt,width:ft,w:ft,height:it,h:it,x2:gt+ft,y2:lt+it,cx:gt+ft/2,cy:lt+it/2,r1:Math.min(ft,it)/2,r2:Math.max(ft,it)/2,r0:Math.sqrt(ft*ft+it*it)/2,path:j(gt,lt,ft,it),vb:[gt,lt,ft,it].join(" ")}},k=function(gt,lt){return gt=F(gt),lt=F(lt),N(lt,gt.x,gt.y)||N(lt,gt.x2,gt.y)||N(lt,gt.x,gt.y2)||N(lt,gt.x2,gt.y2)||N(gt,lt.x,lt.y)||N(gt,lt.x2,lt.y)||N(gt,lt.x,lt.y2)||N(gt,lt.x2,lt.y2)||(gt.x<lt.x2&&gt.x>lt.x||lt.x<gt.x2&&lt.x>gt.x)&&(gt.y<lt.y2&&gt.y>lt.y||lt.y<gt.y2&&lt.y>gt.y)},$=function(gt,lt,ft,it,bt,Dt,Mt,q){Object(d.B)(gt)||(gt=[gt,lt,ft,it,bt,Dt,Mt,q]);var V=W.apply(null,gt);return F(V.min.x,V.min.y,V.max.x-V.min.x,V.max.y-V.min.y)},nt=function(gt,lt,ft,it,bt,Dt,Mt,q,V){var ot=1-V,tt=Math.pow(ot,3),yt=Math.pow(ot,2),Pt=V*V,Ft=Pt*V,Wt=tt*gt+yt*3*V*ft+ot*3*V*V*bt+Ft*Mt,Vt=tt*lt+yt*3*V*it+ot*3*V*V*Dt+Ft*q,Lt=gt+2*V*(ft-gt)+Pt*(bt-2*ft+gt),Ct=lt+2*V*(it-lt)+Pt*(Dt-2*it+lt),_=ft+2*V*(bt-ft)+Pt*(Mt-2*bt+ft),It=it+2*V*(Dt-it)+Pt*(q-2*Dt+it),Rt=ot*gt+V*ft,xt=ot*lt+V*it,Nt=ot*bt+V*Mt,Ht=ot*Dt+V*q,jt=90-Math.atan2(Lt-_,Ct-It)*180/Math.PI;return{x:Wt,y:Vt,m:{x:Lt,y:Ct},n:{x:_,y:It},start:{x:Rt,y:xt},end:{x:Nt,y:Ht},alpha:jt}},st=function(gt,lt,ft){var it=$(gt),bt=$(lt);if(!k(it,bt))return ft?0:[];for(var Dt=G.apply(0,gt),Mt=G.apply(0,lt),q=~~(Dt/8),V=~~(Mt/8),ot=[],tt=[],yt={},Pt=ft?0:[],Ft=0;Ft<q+1;Ft++){var Wt=nt.apply(0,gt.concat(Ft/q));ot.push({x:Wt.x,y:Wt.y,t:Ft/q})}for(var Ft=0;Ft<V+1;Ft++){var Wt=nt.apply(0,lt.concat(Ft/V));tt.push({x:Wt.x,y:Wt.y,t:Ft/V})}for(var Ft=0;Ft<q;Ft++)for(var Vt=0;Vt<V;Vt++){var Lt=ot[Ft],Ct=ot[Ft+1],_=tt[Vt],It=tt[Vt+1],Rt=Math.abs(Ct.x-Lt.x)<.001?"y":"x",xt=Math.abs(It.x-_.x)<.001?"y":"x",Nt=z(Lt.x,Lt.y,Ct.x,Ct.y,_.x,_.y,It.x,It.y);if(Nt){if(yt[Nt.x.toFixed(4)]===Nt.y.toFixed(4))continue;yt[Nt.x.toFixed(4)]=Nt.y.toFixed(4);var Ht=Lt.t+Math.abs((Nt[Rt]-Lt[Rt])/(Ct[Rt]-Lt[Rt]))*(Ct.t-Lt.t),jt=_.t+Math.abs((Nt[xt]-_[xt])/(It[xt]-_[xt]))*(It.t-_.t);Ht>=0&&Ht<=1&&jt>=0&&jt<=1&&(ft?Pt+=1:Pt.push({x:Nt.x,y:Nt.y,t1:Ht,t2:jt}))}}return Pt},rt=function(gt,lt,ft){gt=A(gt),lt=A(lt);for(var it,bt,Dt,Mt,q,V,ot,tt,yt,Pt,Ft=ft?0:[],Wt=0,Vt=gt.length;Wt<Vt;Wt++){var Lt=gt[Wt];if(Lt[0]==="M")it=q=Lt[1],bt=V=Lt[2];else{Lt[0]==="C"?(yt=[it,bt].concat(Lt.slice(1)),it=yt[6],bt=yt[7]):(yt=[it,bt,it,bt,q,V,q,V],it=q,bt=V);for(var Ct=0,_=lt.length;Ct<_;Ct++){var It=lt[Ct];if(It[0]==="M")Dt=ot=It[1],Mt=tt=It[2];else{It[0]==="C"?(Pt=[Dt,Mt].concat(It.slice(1)),Dt=Pt[6],Mt=Pt[7]):(Pt=[Dt,Mt,Dt,Mt,ot,tt,ot,tt],Dt=ot,Mt=tt);var Rt=st(yt,Pt,ft);if(ft)Ft+=Rt;else{for(var xt=0,Nt=Rt.length;xt<Nt;xt++)Rt[xt].segment1=Wt,Rt[xt].segment2=Ct,Rt[xt].bez1=yt,Rt[xt].bez2=Pt;Ft=Ft.concat(Rt)}}}}}return Ft},Q=function(gt,lt){return rt(gt,lt)};function Y(Xt,gt){var lt=[],ft=[];function it(bt,Dt){if(bt.length===1)lt.push(bt[0]),ft.push(bt[0]);else{for(var Mt=[],q=0;q<bt.length-1;q++)q===0&&lt.push(bt[0]),q===bt.length-2&&ft.push(bt[q+1]),Mt[q]=[(1-Dt)*bt[q][0]+Dt*bt[q+1][0],(1-Dt)*bt[q][1]+Dt*bt[q+1][1]];it(Mt,Dt)}}return Xt.length&&it(Xt,gt),{left:lt,right:ft.reverse()}}function K(Xt,gt,lt){var ft=[[Xt[1],Xt[2]]];lt=lt||2;var it=[];gt[0]==="A"?(ft.push(gt[6]),ft.push(gt[7])):gt[0]==="C"?(ft.push([gt[1],gt[2]]),ft.push([gt[3],gt[4]]),ft.push([gt[5],gt[6]])):gt[0]==="S"||gt[0]==="Q"?(ft.push([gt[1],gt[2]]),ft.push([gt[3],gt[4]])):ft.push([gt[1],gt[2]]);for(var bt=ft,Dt=1/lt,Mt=0;Mt<lt-1;Mt++){var q=Dt/(1-Dt*Mt),V=Y(bt,q);it.push(V.left),bt=V.right}it.push(bt);var ot=it.map(function(tt){var yt=[];return tt.length===4&&(yt.push("C"),yt=yt.concat(tt[2])),tt.length>=3&&(tt.length===3&&yt.push("Q"),yt=yt.concat(tt[1])),tt.length===2&&yt.push("L"),yt=yt.concat(tt[tt.length-1]),yt});return ot}var et=function(gt,lt,ft){if(ft===1)return[[].concat(gt)];var it=[];if(lt[0]==="L"||lt[0]==="C"||lt[0]==="Q")it=it.concat(K(gt,lt,ft));else{var bt=[].concat(gt);bt[0]==="M"&&(bt[0]="L");for(var Dt=0;Dt<=ft-1;Dt++)it.push(bt)}return it},ut=function(gt,lt){if(gt.length===1)return gt;var ft=gt.length-1,it=lt.length-1,bt=ft/it,Dt=[];if(gt.length===1&&gt[0][0]==="M"){for(var Mt=0;Mt<it-ft;Mt++)gt.push(gt[0]);return gt}for(var Mt=0;Mt<it;Mt++){var q=Math.floor(bt*Mt);Dt[q]=(Dt[q]||0)+1}var V=Dt.reduce(function(ot,tt,yt){return yt===ft?ot.concat(gt[ft]):ot.concat(et(gt[yt],gt[yt+1],tt))},[]);return V.unshift(gt[0]),(lt[it]==="Z"||lt[it]==="z")&&V.push("Z"),V},dt=function(gt,lt){if(gt.length!==lt.length)return!1;var ft=!0;return Object(d.j)(gt,function(it,bt){if(it!==lt[bt])return ft=!1,!1}),ft};function vt(Xt,gt,lt){var ft=null,it=lt;return gt<it&&(it=gt,ft="add"),Xt<it&&(it=Xt,ft="del"),{type:ft,min:it}}var at=function(gt,lt){var ft=gt.length,it=lt.length,bt,Dt,Mt=0;if(ft===0||it===0)return null;for(var q=[],V=0;V<=ft;V++)q[V]=[],q[V][0]={min:V};for(var ot=0;ot<=it;ot++)q[0][ot]={min:ot};for(var V=1;V<=ft;V++){bt=gt[V-1];for(var ot=1;ot<=it;ot++){Dt=lt[ot-1],dt(bt,Dt)?Mt=0:Mt=1;var tt=q[V-1][ot].min+1,yt=q[V][ot-1].min+1,Pt=q[V-1][ot-1].min+Mt;q[V][ot]=vt(tt,yt,Pt)}}return q},pt=function(gt,lt){var ft=at(gt,lt),it=gt.length,bt=lt.length,Dt=[],Mt=1,q=1;if(ft[it][bt].min!==it){for(var V=1;V<=it;V++){var ot=ft[V][V].min;q=V;for(var tt=Mt;tt<=bt;tt++)ft[V][tt].min<ot&&(ot=ft[V][tt].min,q=tt);Mt=q,ft[V][Mt].type&&Dt.push({index:V-1,type:ft[V][Mt].type})}for(var V=Dt.length-1;V>=0;V--)Mt=Dt[V].index,Dt[V].type==="add"?gt.splice(Mt,0,[].concat(gt[Mt])):gt.splice(Mt,1)}it=gt.length;var yt=bt-it;if(it<bt)for(var V=0;V<yt;V++)gt[it-1][0]==="z"||gt[it-1][0]==="Z"?gt.splice(it-2,0,gt[it-2]):gt.push(gt[it-1]),it+=1;return gt};function Tt(Xt,gt,lt){for(var ft=[].concat(Xt),it,bt=1/(lt+1),Dt=Gt(gt)[0],Mt=1;Mt<=lt;Mt++)bt*=Mt,it=Math.floor(Xt.length*bt),it===0?ft.unshift([Dt[0]*bt+Xt[it][0]*(1-bt),Dt[1]*bt+Xt[it][1]*(1-bt)]):ft.splice(it,0,[Dt[0]*bt+Xt[it][0]*(1-bt),Dt[1]*bt+Xt[it][1]*(1-bt)]);return ft}function Gt(Xt){var gt=[];switch(Xt[0]){case"M":gt.push([Xt[1],Xt[2]]);break;case"L":gt.push([Xt[1],Xt[2]]);break;case"A":gt.push([Xt[6],Xt[7]]);break;case"Q":gt.push([Xt[3],Xt[4]]),gt.push([Xt[1],Xt[2]]);break;case"T":gt.push([Xt[1],Xt[2]]);break;case"C":gt.push([Xt[5],Xt[6]]),gt.push([Xt[1],Xt[2]]),gt.push([Xt[3],Xt[4]]);break;case"S":gt.push([Xt[3],Xt[4]]),gt.push([Xt[1],Xt[2]]);break;case"H":gt.push([Xt[1],Xt[1]]);break;case"V":gt.push([Xt[1],Xt[1]]);break;default:}return gt}var Kt=function(gt,lt){if(gt.length<=1)return gt;for(var ft,it=0;it<lt.length;it++)if(gt[it][0]!==lt[it][0])switch(ft=Gt(gt[it]),lt[it][0]){case"M":gt[it]=["M"].concat(ft[0]);break;case"L":gt[it]=["L"].concat(ft[0]);break;case"A":gt[it]=[].concat(lt[it]),gt[it][6]=ft[0][0],gt[it][7]=ft[0][1];break;case"Q":if(ft.length<2)if(it>0)ft=Tt(ft,gt[it-1],1);else{gt[it]=lt[it];break}gt[it]=["Q"].concat(ft.reduce(function(bt,Dt){return bt.concat(Dt)},[]));break;case"T":gt[it]=["T"].concat(ft[0]);break;case"C":if(ft.length<3)if(it>0)ft=Tt(ft,gt[it-1],2);else{gt[it]=lt[it];break}gt[it]=["C"].concat(ft.reduce(function(bt,Dt){return bt.concat(Dt)},[]));break;case"S":if(ft.length<2)if(it>0)ft=Tt(ft,gt[it-1],1);else{gt[it]=lt[it];break}gt[it]=["S"].concat(ft.reduce(function(bt,Dt){return bt.concat(Dt)},[]));break;default:gt[it]=lt[it]}return gt}},TKkZ:function(wt,P){function i(d,o){if(!(o==="constructor"&&typeof d[o]=="function")&&o!="__proto__")return d[o]}wt.exports=i},TZFZ:function(wt,P){},TaHB:function(wt,P,i){"use strict";i.d(P,"b",function(){return d}),i.d(P,"a",function(){return o}),i.d(P,"c",function(){return b});var d=1e-6,o=typeof Float32Array!="undefined"?Float32Array:Array,b=Math.random;function x(S){o=S}var M=Math.PI/180;function D(S){return S*M}function C(S,O){return Math.abs(S-O)<=d*Math.max(1,Math.abs(S),Math.abs(O))}Math.hypot||(Math.hypot=function(){for(var S=0,O=arguments.length;O--;)S+=arguments[O]*arguments[O];return Math.sqrt(S)})},TdPr:function(wt,P,i){var d=i("TpDJ"),o=i("TIpG"),b=i("TeP8"),x=i("E5vS");function M(D,C,S){if(!x(S))return!1;var O=typeof C;return(O=="number"?o(S)&&b(C,S.length):O=="string"&&C in S)?d(S[C],D):!1}wt.exports=M},ThNq:function(wt,P,i){var d=i("xXdm"),o=i("fQJb"),b=i("ah2v");function x(M,D,C){for(var S=-1,O=D.length,E={};++S<O;){var I=D[S],A=d(M,I);C(A,I)&&o(E,b(I,M),A)}return E}wt.exports=x},U8wd:function(wt,P,i){"use strict";i.r(P),i.d(P,"version",function(){return W});var d=i("T5ir");i.d(P,"PathUtil",function(){return d});var o=i("zWOy"),b=i.n(o);for(var x in o)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(x)<0&&function(z){i.d(P,z,function(){return o[z]})}(x);var M=i("bYNP"),D=i.n(M);for(var x in M)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(x)<0&&function(N){i.d(P,N,function(){return M[N]})}(x);var C=i("LxUj");i.d(P,"Event",function(){return C.a});var S=i("xOhq");i.d(P,"Base",function(){return S.a});var O=i("nxzP");i.d(P,"AbstractCanvas",function(){return O.a});var E=i("t9r2");i.d(P,"AbstractGroup",function(){return E.a});var I=i("aib0");i.d(P,"AbstractShape",function(){return I.a});var A=i("40+6");i.d(P,"getBBoxMethod",function(){return A.a});var R=i("DBqA");i.d(P,"getTextHeight",function(){return R.b}),i.d(P,"assembleFont",function(){return R.a});var B=i("tSnd");i.d(P,"isAllowCapture",function(){return B.b});var p=i("PHCe");i.d(P,"multiplyVec2",function(){return p.c}),i.d(P,"invert",function(){return p.a});var G=i("r93A");i.d(P,"getOffScreenContext",function(){return G.a});var W="0.5.6"},UHDP:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var d=i("BbNA");function o(b,x){x===void 0&&(x=!0);var M=d.makePropertyInjectDecorator(b,x),D=d.makePropertyInjectNamedDecorator(b,x),C=d.makePropertyInjectTaggedDecorator(b,x),S=d.makePropertyMultiInjectDecorator(b,x);return{lazyInject:M,lazyInjectNamed:D,lazyInjectTagged:C,lazyMultiInject:S}}P.default=o},Uhlt:function(wt,P,i){"use strict";var d=i("XSdR"),o=i("gWxb"),b=i("gs6+"),x=i("rJDL"),M=i("+FNX"),D=i("mxXC"),C=i("43gi").Graph,S=i("hppO");wt.exports=O;function O(R){var B=S.maxRank(R),p=E(R,d.range(1,B+1),"inEdges"),G=E(R,d.range(B-1,-1,-1),"outEdges"),W=o(R);A(R,W);for(var z=Number.POSITIVE_INFINITY,N,j=0,F=0;F<4;++j,++F){I(j%2?p:G,j%4>=2),W=S.buildLayerMatrix(R);var k=b(R,W);k<z&&(F=0,N=d.cloneDeep(W),z=k)}A(R,N)}function E(R,B,p){return d.map(B,function(G){return M(R,G,p)})}function I(R,B){var p=new C;d.forEach(R,function(G){var W=G.graph().root,z=x(G,W,p,B);d.forEach(z.vs,function(N,j){G.node(N).order=j}),D(G,p,z.vs)})}function A(R,B){d.forEach(B,function(p){d.forEach(p,function(G,W){R.node(G).order=W})})}},Un2Z:function(wt,P,i){var d=i("LcyE").default,o=i("DLmx");function b(x,M){return M&&(d(M)==="object"||typeof M=="function")?M:o(x)}wt.exports=b,wt.exports.default=wt.exports,wt.exports.__esModule=!0},UngR:function(wt,P,i){"use strict";var d=new Map;function o(j,F){d.set(j,F)}function b(j){return d.get(j)}var x=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.width,st=F.height;return{x:k,y:$,width:nt,height:st}},M=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.r;return{x:k-nt,y:$-nt,width:nt*2,height:nt*2}},D=i("9pBU");function C(j,F){return!j||!F?j||F:{minX:Math.min(j.minX,F.minX),minY:Math.min(j.minY,F.minY),maxX:Math.max(j.maxX,F.maxX),maxY:Math.max(j.maxY,F.maxY)}}function S(j,F){var k=j.get("startArrowShape"),$=j.get("endArrowShape"),nt=null,st=null;return k&&(nt=k.getCanvasBBox(),F=C(F,nt)),$&&(st=$.getCanvasBBox(),F=C(F,st)),F}var O=function(j){for(var F=j.attr(),k=F.points,$=[],nt=[],st=0;st<k.length;st++){var rt=k[st];$.push(rt[0]),nt.push(rt[1])}var Q=D.f.getBBoxByArray($,nt),Y=Q.x,K=Q.y,et=Q.width,ut=Q.height,dt={minX:Y,minY:K,maxX:Y+et,maxY:K+ut};return dt=S(j,dt),{x:dt.minX,y:dt.minY,width:dt.maxX-dt.minX,height:dt.maxY-dt.minY}},E=function(j){for(var F=j.attr(),k=F.points,$=[],nt=[],st=0;st<k.length;st++){var rt=k[st];$.push(rt[0]),nt.push(rt[1])}return D.f.getBBoxByArray($,nt)},I=i("n9X1"),A=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.text,st=F.fontSize,rt=F.lineHeight,Q=F.font;Q||(Q=Object(I.a)(F));var Y=Object(I.c)(nt,Q),K;if(!Y)K={x:k,y:$,width:0,height:0};else{var et=F.textAlign,ut=F.textBaseline,dt=Object(I.b)(nt,st,rt),vt={x:k,y:$-dt};et&&(et==="end"||et==="right"?vt.x-=Y:et==="center"&&(vt.x-=Y/2)),ut&&(ut==="top"?vt.y+=dt:ut==="middle"&&(vt.y+=dt/2)),K={x:vt.x,y:vt.y,width:Y,height:dt}}return K},R=i("WOt1"),B=i("jg4I");function p(j,F){for(var k=[],$=[],nt=[],st=0;st<j.length;st++){var rt=j[st],Q=rt.currentPoint,Y=rt.params,K=rt.prePoint,et=void 0;switch(rt.command){case"Q":et=D.e.box(K[0],K[1],Y[1],Y[2],Y[3],Y[4]);break;case"C":et=D.b.box(K[0],K[1],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]);break;case"A":var ut=rt.arcParams;et=D.a.box(ut.cx,ut.cy,ut.rx,ut.ry,ut.xRotation,ut.startAngle,ut.endAngle);break;default:k.push(Q[0]),$.push(Q[1]);break}et&&(rt.box=et,k.push(et.x,et.x+et.width),$.push(et.y,et.y+et.height)),F&&(rt.command==="L"||rt.command==="M")&&rt.prePoint&&rt.nextPoint&&nt.push(rt)}k=k.filter(function(Gt){return!Number.isNaN(Gt)}),$=$.filter(function(Gt){return!Number.isNaN(Gt)});var dt=Object(B.Z)(k),vt=Object(B.Z)($),at=Object(B.W)(k),pt=Object(B.W)($);if(nt.length===0)return{x:dt,y:vt,width:at-dt,height:pt-vt};for(var st=0;st<nt.length;st++){var rt=nt[st],Q=rt.currentPoint,Tt=void 0;Q[0]===dt?(Tt=G(rt,F),dt=dt-Tt.xExtra):Q[0]===at&&(Tt=G(rt,F),at=at+Tt.xExtra),Q[1]===vt?(Tt=G(rt,F),vt=vt-Tt.yExtra):Q[1]===pt&&(Tt=G(rt,F),pt=pt+Tt.yExtra)}return{x:dt,y:vt,width:at-dt,height:pt-vt}}function G(j,F){var k=j.prePoint,$=j.currentPoint,nt=j.nextPoint,st=Math.pow($[0]-k[0],2)+Math.pow($[1]-k[1],2),rt=Math.pow($[0]-nt[0],2)+Math.pow($[1]-nt[1],2),Q=Math.pow(k[0]-nt[0],2)+Math.pow(k[1]-nt[1],2),Y=Math.acos((st+rt-Q)/(2*Math.sqrt(st)*Math.sqrt(rt)));if(!Y||Math.sin(Y)===0||Object(B.L)(Y,0))return{xExtra:0,yExtra:0};var K=Math.abs(Math.atan2(nt[1]-$[1],nt[0]-$[0])),et=Math.abs(Math.atan2(nt[0]-$[0],nt[1]-$[1]));K=K>Math.PI/2?Math.PI-K:K,et=et>Math.PI/2?Math.PI-et:et;var ut={xExtra:Math.cos(Y/2-K)*(F/2*(1/Math.sin(Y/2)))-F/2||0,yExtra:Math.cos(et-Y/2)*(F/2*(1/Math.sin(Y/2)))-F/2||0};return ut}var W=function(j){var F=j.attr(),k=F.path,$=F.stroke,nt=$?F.lineWidth:0,st=j.get("segments")||Object(R.e)(k),rt=p(st,nt),Q=rt.x,Y=rt.y,K=rt.width,et=rt.height,ut={minX:Q,minY:Y,maxX:Q+K,maxY:Y+et};return ut=S(j,ut),{x:ut.minX,y:ut.minY,width:ut.maxX-ut.minX,height:ut.maxY-ut.minY}},z=function(j){var F=j.attr(),k=F.x1,$=F.y1,nt=F.x2,st=F.y2,rt=Math.min(k,nt),Q=Math.max(k,nt),Y=Math.min($,st),K=Math.max($,st),et={minX:rt,maxX:Q,minY:Y,maxY:K};return et=S(j,et),{x:et.minX,y:et.minY,width:et.maxX-et.minX,height:et.maxY-et.minY}},N=function(j){var F=j.attr(),k=F.x,$=F.y,nt=F.rx,st=F.ry;return{x:k-nt,y:$-st,width:nt*2,height:st*2}};o("rect",x),o("image",x),o("circle",M),o("marker",M),o("polyline",O),o("polygon",E),o("text",A),o("path",W),o("line",z),o("ellipse",N)},VMwZ:function(wt,P,i){var d=i("1ban"),o=i("Wx0M"),b={},x=Object.keys(d);function M(C){var S=function(E){return E==null?E:(arguments.length>1&&(E=Array.prototype.slice.call(arguments)),C(E))};return"conversion"in C&&(S.conversion=C.conversion),S}function D(C){var S=function(E){if(E==null)return E;arguments.length>1&&(E=Array.prototype.slice.call(arguments));var I=C(E);if(typeof I=="object")for(var A=I.length,R=0;R<A;R++)I[R]=Math.round(I[R]);return I};return"conversion"in C&&(S.conversion=C.conversion),S}x.forEach(function(C){b[C]={},Object.defineProperty(b[C],"channels",{value:d[C].channels}),Object.defineProperty(b[C],"labels",{value:d[C].labels});var S=o(C),O=Object.keys(S);O.forEach(function(E){var I=S[E];b[C][E]=D(I),b[C][E].raw=M(I)})}),wt.exports=b},VQm6:function(wt,P,i){"use strict";var d=i("+GOg"),o;(function(M){M.DEV="DEV",M.BETA="BETA",M.STABLE="STABLE"})(o||(o={}));function b(M,D){console.warn(M===o.DEV?"Plot '"+D+"' is in DEV stage, just give us issues.":M===o.BETA?"Plot '"+D+"' is in BETA stage, DO NOT use it in production env.":M===o.STABLE?"Plot '"+D+`' is in STABLE stage, import it by "import { `+D+` } from '@antv/g2plot'".`:"invalid Stage type.")}var x=function(){function M(){}return Object.defineProperty(M,"MultiView",{get:function(){return b(o.STABLE,"MultiView"),d.a},enumerable:!1,configurable:!0}),M}()},VRwR:function(wt,P){},Vd04:function(wt,P,i){"use strict";i.d(P,"a",function(){return K});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("S5Um"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("25gg"),E=i.n(O),I=i("VwUA"),A=i.n(I),R=i("0iMn"),B=i.n(R),p=i("99LQ"),G=i("YcyD"),W=i.n(G),z=i("XN3X"),N,j,F,k,$,nt,st,rt,Q,Y,K=(N=Object(G.injectable)(),j=Object(G.inject)(z.a.HierarchyComponentManager),F=Object(G.inject)(z.a.TransformComponentManager),k=Object(G.inject)(z.a.MeshComponentManager),N($=(nt=(Y=function(){function et(){S()(this,et),D()(this,"hierarchy",st,this),D()(this,"transform",rt,this),D()(this,"mesh",Q,this)}return E()(et,[{key:"execute",value:function(){var ut=x()(o.a.mark(function vt(){return o.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return pt.stop()}},vt,this)}));function dt(){return ut.apply(this,arguments)}return dt}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var dt=this;this.transform.forEach(function(vt,at){(at.isDirty()||at.isLocalDirty())&&(dt.setMeshAABBDirty(dt.mesh.getComponentByEntity(vt)),at.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var dt=this;this.hierarchy.forEach(function(vt,at){var pt=dt.transform.getComponentByEntity(vt),Tt=dt.transform.getComponentByEntity(at.parentID);pt!==null&&Tt!==null&&pt.updateTransformWithParent(Tt)})}},{key:"attach",value:function(dt,vt,at){this.hierarchy.contains(dt)&&this.detach(dt),this.hierarchy.create(dt,{parentID:vt});var pt=this.mesh.getComponentByEntity(vt);if(this.setMeshAABBDirty(pt),pt&&pt.children.indexOf(dt)===-1&&pt.children.push(dt),this.hierarchy.getCount()>1)for(var Tt=this.hierarchy.getCount()-1;Tt>0;--Tt)for(var Gt=this.hierarchy.getEntity(Tt),Kt=0;Kt<Tt;++Kt){var Xt=this.hierarchy.getComponent(Kt);if(Xt.parentID===Gt){this.hierarchy.moveItem(Tt,Kt),++Tt;break}}var gt=this.hierarchy.getComponentByEntity(dt),lt=this.transform.getComponentByEntity(vt);lt===null&&(lt=this.transform.create(vt));var ft=this.transform.getComponentByEntity(dt);ft===null&&(ft=this.transform.create(dt),lt=this.transform.getComponentByEntity(vt)),ft.parent=lt,!at&&lt&&(ft.matrixTransform(p.b.invert(p.b.create(),lt.worldTransform)),ft.updateTransform()),lt&&ft.updateTransformWithParent(lt)}},{key:"detach",value:function(dt){var vt=this.hierarchy.getComponentByEntity(dt);if(vt!==null){var at=this.transform.getComponentByEntity(dt);at!==null&&(at.parent=null,at.applyTransform()),this.hierarchy.removeKeepSorted(dt);var pt=this.mesh.getComponentByEntity(vt.parentID);if(pt){var Tt=pt.children.indexOf(dt);pt.children.splice(Tt,1)}this.setMeshAABBDirty(pt)}}},{key:"detachChildren",value:function(dt){var vt=this.mesh.getComponentByEntity(dt);vt&&(vt.children=[]);for(var at=0;at<this.hierarchy.getCount();){var pt;if(((pt=this.hierarchy.getComponent(at))===null||pt===void 0?void 0:pt.parentID)===dt){var Tt=this.hierarchy.getEntity(at);this.detach(Tt)}else++at}}},{key:"setMeshAABBDirty",value:function(dt){dt&&(dt.aabbDirty=!0)}}]),et}(),Y),st=A()(nt.prototype,"hierarchy",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=A()(nt.prototype,"transform",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=A()(nt.prototype,"mesh",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt))||$)},Vlje:function(wt,P,i){var d=i("dhvM"),o=i("TpDJ"),b=i("TdPr"),x=i("rGlR"),M=Object.prototype,D=M.hasOwnProperty,C=d(function(S,O){S=Object(S);var E=-1,I=O.length,A=I>2?O[2]:void 0;for(A&&b(O[0],O[1],A)&&(I=1);++E<I;)for(var R=O[E],B=x(R),p=-1,G=B.length;++p<G;){var W=B[p],z=S[W];(z===void 0||o(z,M[W])&&!D.call(S,W))&&(S[W]=R[W])}return S});wt.exports=C},VmDj:function(wt,P,i){var d=i("2PUN"),o=i("dhvM"),b=i("fUu9"),x=i("wvSg"),M=o(function(D){return b(d(D,1,x,!0))});wt.exports=M},"Vnm+":function(wt,P,i){"use strict";i.d(P,"a",function(){return S});var d=i("J+IK"),o=i("Gc/9"),b=i("1MGC"),x=i("+y4O"),M=i("Cw9K"),D=Object(M.b)({},o.b.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),C=i("pQ2l"),S=function(O){Object(d.c)(E,O);function E(){var I=O!==null&&O.apply(this,arguments)||this;return I.type="bar",I}return E.getDefaultOptions=function(){return D},E.prototype.changeData=function(I){this.updateOption({data:I});var A=this,R=A.chart,B=A.options,p=B.xField,G=B.yField,W=B.isPercent,z=Object(d.a)(Object(d.a)({},B),{xField:G,yField:p});Object(x.b)({chart:R,options:z}),R.changeData(Object(b.a)(Object(C.a)(I),p,G,p,W))},E.prototype.getDefaultOptions=function(){return E.getDefaultOptions()},E.prototype.getSchemaAdaptor=function(){return x.a},E}(o.b)},VrSm:function(wt,P,i){"use strict";wt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},VwUA:function(wt,P){function i(d,o,b,x,M){var D={};return Object.keys(x).forEach(function(C){D[C]=x[C]}),D.enumerable=!!D.enumerable,D.configurable=!!D.configurable,("value"in D||D.initializer)&&(D.writable=!0),D=b.slice().reverse().reduce(function(C,S){return S(d,o,C)||C},D),M&&D.initializer!==void 0&&(D.value=D.initializer?D.initializer.call(M):void 0,D.initializer=void 0),D.initializer===void 0&&(Object.defineProperty(d,o,D),D=null),D}wt.exports=i,wt.exports.default=wt.exports,wt.exports.__esModule=!0},W7Gi:function(wt,P,i){"use strict";var d=i("tuqv"),o=i("EbMC");P.a=function(){var b=1,x=1,M=0,D=!1;function C(O){var E=O.height+1;return O.x0=O.y0=M,O.x1=b,O.y1=x/E,O.eachBefore(S(x,E)),D&&O.eachBefore(d.a),O}function S(O,E){return function(I){I.children&&Object(o.a)(I,I.x0,O*(I.depth+1)/E,I.x1,O*(I.depth+2)/E);var A=I.x0,R=I.y0,B=I.x1-M,p=I.y1-M;B<A&&(A=B=(A+B)/2),p<R&&(R=p=(R+p)/2),I.x0=A,I.y0=R,I.x1=B,I.y1=p}}return C.round=function(O){return arguments.length?(D=!!O,C):D},C.size=function(O){return arguments.length?(b=+O[0],x=+O[1],C):[b,x]},C.padding=function(O){return arguments.length?(M=+O,C):M},C}},WKd7:function(wt,P,i){"use strict";P.a=function(d,o,b,x,M){for(var D=d.children,C,S=-1,O=D.length,E=d.value&&(M-b)/d.value;++S<O;)C=D[S],C.x0=o,C.x1=x,C.y0=b,C.y1=b+=C.value*E}},WLqU:function(wt,P){wt.exports=i;function i(d,o,b){var x=o[0]*b[1]-o[1]*b[0];return d[0]=d[1]=0,d[2]=x,d}},WOt1:function(wt,P,i){"use strict";i.d(P,"a",function(){return D}),i.d(P,"c",function(){return F}),i.d(P,"d",function(){return nt}),i.d(P,"e",function(){return ot}),i.d(P,"b",function(){return Rt});var d=i("jg4I"),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,b=/[^\s\,]+/ig;function x(xt){var Nt=xt||[];if(Object(d.B)(Nt))return Nt;if(Object(d.O)(Nt))return Nt=Nt.match(o),Object(d.j)(Nt,function(Ht,jt){if(Ht=Ht.match(b),Ht[0].length>1){var Ut=Ht[0].charAt(0);Ht.splice(1,0,Ht[0].substr(1)),Ht[0]=Ut}Object(d.j)(Ht,function(Jt,se){isNaN(Jt)||(Ht[se]=+Jt)}),Nt[jt]=Ht}),Nt}var M=x;function D(xt,Nt){for(var Ht=[],jt=0,Ut=xt.length;Ut-2*!Nt>jt;jt+=2){var Jt=[{x:+xt[jt-2],y:+xt[jt-1]},{x:+xt[jt],y:+xt[jt+1]},{x:+xt[jt+2],y:+xt[jt+3]},{x:+xt[jt+4],y:+xt[jt+5]}];Nt?jt?Ut-4===jt?Jt[3]={x:+xt[0],y:+xt[1]}:Ut-2===jt&&(Jt[2]={x:+xt[0],y:+xt[1]},Jt[3]={x:+xt[2],y:+xt[3]}):Jt[0]={x:+xt[Ut-2],y:+xt[Ut-1]}:Ut-4===jt?Jt[3]=Jt[2]:jt||(Jt[0]={x:+xt[jt],y:+xt[jt+1]}),Ht.push(["C",(-Jt[0].x+6*Jt[1].x+Jt[2].x)/6,(-Jt[0].y+6*Jt[1].y+Jt[2].y)/6,(Jt[1].x+6*Jt[2].x-Jt[3].x)/6,(Jt[1].y+6*Jt[2].y-Jt[3].y)/6,Jt[2].x,Jt[2].y])}return Ht}function C(xt,Nt){var Ht=[],jt=[];function Ut(Jt,se){if(Jt.length===1)Ht.push(Jt[0]),jt.push(Jt[0]);else{for(var me=[],Me=0;Me<Jt.length-1;Me++)Me===0&&Ht.push(Jt[0]),Me===Jt.length-2&&jt.push(Jt[Me+1]),me[Me]=[(1-se)*Jt[Me][0]+se*Jt[Me+1][0],(1-se)*Jt[Me][1]+se*Jt[Me+1][1]];Ut(me,se)}}return xt.length&&Ut(xt,Nt),{left:Ht,right:jt.reverse()}}function S(xt,Nt,Ht){var jt=[[xt[1],xt[2]]];Ht=Ht||2;var Ut=[];Nt[0]==="A"?(jt.push(Nt[6]),jt.push(Nt[7])):Nt[0]==="C"?(jt.push([Nt[1],Nt[2]]),jt.push([Nt[3],Nt[4]]),jt.push([Nt[5],Nt[6]])):Nt[0]==="S"||Nt[0]==="Q"?(jt.push([Nt[1],Nt[2]]),jt.push([Nt[3],Nt[4]])):jt.push([Nt[1],Nt[2]]);for(var Jt=jt,se=1/Ht,me=0;me<Ht-1;me++){var Me=se/(1-se*me),Pe=C(Jt,Me);Ut.push(Pe.left),Jt=Pe.right}Ut.push(Jt);var Ge=Ut.map(function(nr){var gr=[];return nr.length===4&&(gr.push("C"),gr=gr.concat(nr[2])),nr.length>=3&&(nr.length===3&&gr.push("Q"),gr=gr.concat(nr[1])),nr.length===2&&gr.push("L"),gr=gr.concat(nr[nr.length-1]),gr});return Ge}function O(xt,Nt,Ht){if(Ht===1)return[[].concat(xt)];var jt=[];if(Nt[0]==="L"||Nt[0]==="C"||Nt[0]==="Q")jt=jt.concat(S(xt,Nt,Ht));else{var Ut=[].concat(xt);Ut[0]==="M"&&(Ut[0]="L");for(var Jt=0;Jt<=Ht-1;Jt++)jt.push(Ut)}return jt}function E(xt,Nt){if(xt.length===1)return xt;var Ht=xt.length-1,jt=Nt.length-1,Ut=Ht/jt,Jt=[];if(xt.length===1&&xt[0][0]==="M"){for(var se=0;se<jt-Ht;se++)xt.push(xt[0]);return xt}for(var se=0;se<jt;se++){var me=Math.floor(Ut*se);Jt[me]=(Jt[me]||0)+1}var Me=Jt.reduce(function(Pe,Ge,nr){return nr===Ht?Pe.concat(xt[Ht]):Pe.concat(O(xt[nr],xt[nr+1],Ge))},[]);return Me.unshift(xt[0]),(Nt[jt]==="Z"||Nt[jt]==="z")&&Me.push("Z"),Me}function I(xt,Nt,Ht){var jt=null,Ut=Ht;return Nt<Ut&&(Ut=Nt,jt="add"),xt<Ut&&(Ut=xt,jt="del"),{type:jt,min:Ut}}var A=function(Nt,Ht){var jt=Nt.length,Ut=Ht.length,Jt,se,me=0;if(jt===0||Ut===0)return null;for(var Me=[],Pe=0;Pe<=jt;Pe++)Me[Pe]=[],Me[Pe][0]={min:Pe};for(var Ge=0;Ge<=Ut;Ge++)Me[0][Ge]={min:Ge};for(var Pe=1;Pe<=jt;Pe++){Jt=Nt[Pe-1];for(var Ge=1;Ge<=Ut;Ge++){se=Ht[Ge-1],Object(d.G)(Jt,se)?me=0:me=1;var nr=Me[Pe-1][Ge].min+1,gr=Me[Pe][Ge-1].min+1,or=Me[Pe-1][Ge-1].min+me;Me[Pe][Ge]=I(nr,gr,or)}}return Me};function R(xt,Nt){var Ht=A(xt,Nt),jt=xt.length,Ut=Nt.length,Jt=[],se=1,me=1;if(Ht[jt][Ut]!==jt){for(var Me=1;Me<=jt;Me++){var Pe=Ht[Me][Me].min;me=Me;for(var Ge=se;Ge<=Ut;Ge++)Ht[Me][Ge].min<Pe&&(Pe=Ht[Me][Ge].min,me=Ge);se=me,Ht[Me][se].type&&Jt.push({index:Me-1,type:Ht[Me][se].type})}for(var Me=Jt.length-1;Me>=0;Me--)se=Jt[Me].index,Jt[Me].type==="add"?xt.splice(se,0,[].concat(xt[se])):xt.splice(se,1)}if(jt=xt.length,jt<Ut)for(var Me=0;Me<Ut-jt;Me++)xt[jt-1][0]==="z"||xt[jt-1][0]==="Z"?xt.splice(jt-2,0,xt[jt-2]):xt.push(xt[jt-1]);return xt}function B(xt){var Nt=[];switch(xt[0]){case"M":Nt.push([xt[1],xt[2]]);break;case"L":Nt.push([xt[1],xt[2]]);break;case"A":Nt.push([xt[6],xt[7]]);break;case"Q":Nt.push([xt[3],xt[4]]),Nt.push([xt[1],xt[2]]);break;case"T":Nt.push([xt[1],xt[2]]);break;case"C":Nt.push([xt[5],xt[6]]),Nt.push([xt[1],xt[2]]),Nt.push([xt[3],xt[4]]);break;case"S":Nt.push([xt[3],xt[4]]),Nt.push([xt[1],xt[2]]);break;case"H":Nt.push([xt[1],xt[1]]);break;case"V":Nt.push([xt[1],xt[1]]);break;default:}return Nt}function p(xt,Nt,Ht){for(var jt=[].concat(xt),Ut,Jt=1/(Ht+1),se=B(Nt)[0],me=1;me<=Ht;me++)Jt*=me,Ut=Math.floor(xt.length*Jt),Ut===0?jt.unshift([se[0]*Jt+xt[Ut][0]*(1-Jt),se[1]*Jt+xt[Ut][1]*(1-Jt)]):jt.splice(Ut,0,[se[0]*Jt+xt[Ut][0]*(1-Jt),se[1]*Jt+xt[Ut][1]*(1-Jt)]);return jt}function G(xt,Nt){if(xt.length<=1)return xt;for(var Ht,jt=0;jt<Nt.length;jt++)if(xt[jt][0]!==Nt[jt][0])switch(Ht=B(xt[jt]),Nt[jt][0]){case"M":xt[jt]=["M"].concat(Ht[0]);break;case"L":xt[jt]=["L"].concat(Ht[0]);break;case"A":xt[jt]=[].concat(Nt[jt]),xt[jt][6]=Ht[0][0],xt[jt][7]=Ht[0][1];break;case"Q":if(Ht.length<2)if(jt>0)Ht=p(Ht,xt[jt-1],1);else{xt[jt]=Nt[jt];break}xt[jt]=["Q"].concat(Ht.reduce(function(Ut,Jt){return Ut.concat(Jt)},[]));break;case"T":xt[jt]=["T"].concat(Ht[0]);break;case"C":if(Ht.length<3)if(jt>0)Ht=p(Ht,xt[jt-1],2);else{xt[jt]=Nt[jt];break}xt[jt]=["C"].concat(Ht.reduce(function(Ut,Jt){return Ut.concat(Jt)},[]));break;case"S":if(Ht.length<2)if(jt>0)Ht=p(Ht,xt[jt-1],1);else{xt[jt]=Nt[jt];break}xt[jt]=["S"].concat(Ht.reduce(function(Ut,Jt){return Ut.concat(Jt)},[]));break;default:xt[jt]=Nt[jt]}return xt}function W(xt,Nt,Ht,jt,Ut){return Ut?[["M",+xt+ +Ut,Nt],["l",Ht-Ut*2,0],["a",Ut,Ut,0,0,1,Ut,Ut],["l",0,jt-Ut*2],["a",Ut,Ut,0,0,1,-Ut,Ut],["l",Ut*2-Ht,0],["a",Ut,Ut,0,0,1,-Ut,-Ut],["l",0,Ut*2-jt],["a",Ut,Ut,0,0,1,Ut,-Ut],["z"]]:[["M",xt,Nt],["l",Ht,0],["l",0,jt],["l",-Ht,0],["z"]]}var z=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,N=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),j=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig");function F(xt){if(!xt)return null;if(Object(d.B)(xt))return xt;var Nt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Ht=[];return String(xt).replace(N,function(jt,Ut,Jt){var se=[],me=Ut.toLowerCase();if(Jt.replace(j,function(Me,Pe){Pe&&se.push(+Pe)}),me==="m"&&se.length>2&&(Ht.push([Ut].concat(se.splice(0,2))),me="l",Ut=Ut==="m"?"l":"L"),me==="o"&&se.length===1&&Ht.push([Ut,se[0]]),me==="r")Ht.push([Ut].concat(se));else for(;se.length>=Nt[me]&&(Ht.push([Ut].concat(se.splice(0,Nt[me]))),!!Nt[me]););return""}),Ht}var k=/[a-z]/;function $(xt,Nt){return[Nt[0]+(Nt[0]-xt[0]),Nt[1]+(Nt[1]-xt[1])]}function nt(xt){var Nt=F(xt);if(!Nt||!Nt.length)return[["M",0,0]];for(var Ht=!1,jt=0;jt<Nt.length;jt++){var Ut=Nt[jt][0];if(k.test(Ut)||["V","H","T","S"].indexOf(Ut)>=0){Ht=!0;break}}if(!Ht)return Nt;var Jt=[],se=0,me=0,Me=0,Pe=0,Ge=0,nr,gr,or=Nt[0];(or[0]==="M"||or[0]==="m")&&(se=+or[1],me=+or[2],Me=se,Pe=me,Ge++,Jt[0]=["M",se,me]);for(var jt=Ge,Ze=Nt.length;jt<Ze;jt++){var mr=Nt[jt],Nr=Jt[jt-1],Mr=[],Ut=mr[0],vn=Ut.toUpperCase();if(Ut!==vn)switch(Mr[0]=vn,vn){case"A":Mr[1]=mr[1],Mr[2]=mr[2],Mr[3]=mr[3],Mr[4]=mr[4],Mr[5]=mr[5],Mr[6]=+mr[6]+se,Mr[7]=+mr[7]+me;break;case"V":Mr[1]=+mr[1]+me;break;case"H":Mr[1]=+mr[1]+se;break;case"M":Me=+mr[1]+se,Pe=+mr[2]+me;break;default:for(var Ln=1,We=mr.length;Ln<We;Ln++)Mr[Ln]=+mr[Ln]+(Ln%2?se:me)}else Mr=Nt[jt];switch(vn){case"Z":se=+Me,me=+Pe;break;case"H":se=Mr[1],Mr=["L",se,me];break;case"V":me=Mr[1],Mr=["L",se,me];break;case"T":se=Mr[1],me=Mr[2];var Ye=$([Nr[1],Nr[2]],[Nr[3],Nr[4]]);Mr=["Q",Ye[0],Ye[1],se,me];break;case"S":se=Mr[Mr.length-2],me=Mr[Mr.length-1];var Gr=Nr.length,Jr=$([Nr[Gr-4],Nr[Gr-3]],[Nr[Gr-2],Nr[Gr-1]]);Mr=["C",Jr[0],Jr[1],Mr[1],Mr[2],se,me];break;case"M":Me=Mr[Mr.length-2],Pe=Mr[Mr.length-1];break;default:se=Mr[Mr.length-2],me=Mr[Mr.length-1]}Jt.push(Mr)}return Jt}var st=function xt(Nt,Ht,jt,Ut,Jt,se,me,Me,Pe,Ge){jt===Ut&&(jt+=1);var nr=Math.PI*120/180,gr=Math.PI/180*(+Jt||0),or=[],Ze,mr,Nr,Mr,vn,Ln=function(Zo,$o,wi){var ys=Zo*Math.cos(wi)-$o*Math.sin(wi),Ws=Zo*Math.sin(wi)+$o*Math.cos(wi);return{x:ys,y:Ws}};if(Ge)mr=Ge[0],Nr=Ge[1],Mr=Ge[2],vn=Ge[3];else{Ze=Ln(Nt,Ht,-gr),Nt=Ze.x,Ht=Ze.y,Ze=Ln(Me,Pe,-gr),Me=Ze.x,Pe=Ze.y,Nt===Me&&Ht===Pe&&(Me+=1,Pe+=1);var We=(Nt-Me)/2,Ye=(Ht-Pe)/2,Gr=We*We/(jt*jt)+Ye*Ye/(Ut*Ut);Gr>1&&(Gr=Math.sqrt(Gr),jt=Gr*jt,Ut=Gr*Ut);var Jr=jt*jt,_r=Ut*Ut,bn=(se===me?-1:1)*Math.sqrt(Math.abs((Jr*_r-Jr*Ye*Ye-_r*We*We)/(Jr*Ye*Ye+_r*We*We)));Mr=bn*jt*Ye/Ut+(Nt+Me)/2,vn=bn*-Ut*We/jt+(Ht+Pe)/2,mr=Math.asin(Number(((Ht-vn)/Ut).toFixed(9))),Nr=Math.asin(Number(((Pe-vn)/Ut).toFixed(9))),mr=Nt<Mr?Math.PI-mr:mr,Nr=Me<Mr?Math.PI-Nr:Nr,mr<0&&(mr=Math.PI*2+mr),Nr<0&&(Nr=Math.PI*2+Nr),me&&mr>Nr&&(mr=mr-Math.PI*2),!me&&Nr>mr&&(Nr=Nr-Math.PI*2)}var ta=Nr-mr;if(Math.abs(ta)>nr){var aa=Nr,wn=Me,ea=Pe;Nr=mr+nr*(me&&Nr>mr?1:-1),Me=Mr+jt*Math.cos(Nr),Pe=vn+Ut*Math.sin(Nr),or=xt(Me,Pe,jt,Ut,Jt,0,me,wn,ea,[Nr,aa,Mr,vn])}ta=Nr-mr;var Aa=Math.cos(mr),Fa=Math.sin(mr),Yn=Math.cos(Nr),Ti=Math.sin(Nr),Gi=Math.tan(ta/4),Qi=4/3*jt*Gi,Xi=4/3*Ut*Gi,Ii=[Nt,Ht],ao=[Nt+Qi*Fa,Ht-Xi*Aa],Go=[Me+Qi*Ti,Pe-Xi*Yn],Po=[Me,Pe];if(ao[0]=2*Ii[0]-ao[0],ao[1]=2*Ii[1]-ao[1],Ge)return[ao,Go,Po].concat(or);or=[ao,Go,Po].concat(or).join().split(",");for(var io=[],Hi=0,po=or.length;Hi<po;Hi++)io[Hi]=Hi%2?Ln(or[Hi-1],or[Hi],gr).y:Ln(or[Hi],or[Hi+1],gr).x;return io},rt=function(Nt,Ht,jt,Ut){return[Nt,Ht,jt,Ut,jt,Ut]},Q=function(Nt,Ht,jt,Ut,Jt,se){var me=1/3,Me=2/3;return[me*Nt+Me*jt,me*Ht+Me*Ut,me*Jt+Me*jt,me*se+Me*Ut,Jt,se]};function Y(xt,Nt){var Ht=nt(xt),jt=Nt&&nt(Nt),Ut={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Jt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se=[],me=[],Me="",Pe="",Ge,nr=function(We,Ye,Gr){var Jr,_r;if(!We)return["C",Ye.x,Ye.y,Ye.x,Ye.y,Ye.x,Ye.y];switch(!(We[0]in{T:1,Q:1})&&(Ye.qx=Ye.qy=null),We[0]){case"M":Ye.X=We[1],Ye.Y=We[2];break;case"A":We=["C"].concat(st.apply(0,[Ye.x,Ye.y].concat(We.slice(1))));break;case"S":Gr==="C"||Gr==="S"?(Jr=Ye.x*2-Ye.bx,_r=Ye.y*2-Ye.by):(Jr=Ye.x,_r=Ye.y),We=["C",Jr,_r].concat(We.slice(1));break;case"T":Gr==="Q"||Gr==="T"?(Ye.qx=Ye.x*2-Ye.qx,Ye.qy=Ye.y*2-Ye.qy):(Ye.qx=Ye.x,Ye.qy=Ye.y),We=["C"].concat(Q(Ye.x,Ye.y,Ye.qx,Ye.qy,We[1],We[2]));break;case"Q":Ye.qx=We[1],Ye.qy=We[2],We=["C"].concat(Q(Ye.x,Ye.y,We[1],We[2],We[3],We[4]));break;case"L":We=["C"].concat(rt(Ye.x,Ye.y,We[1],We[2]));break;case"H":We=["C"].concat(rt(Ye.x,Ye.y,We[1],Ye.y));break;case"V":We=["C"].concat(rt(Ye.x,Ye.y,Ye.x,We[1]));break;case"Z":We=["C"].concat(rt(Ye.x,Ye.y,Ye.X,Ye.Y));break;default:break}return We},gr=function(We,Ye){if(We[Ye].length>7){We[Ye].shift();for(var Gr=We[Ye];Gr.length;)se[Ye]="A",jt&&(me[Ye]="A"),We.splice(Ye++,0,["C"].concat(Gr.splice(0,6)));We.splice(Ye,1),Ge=Math.max(Ht.length,jt&&jt.length||0)}},or=function(We,Ye,Gr,Jr,_r){We&&Ye&&We[_r][0]==="M"&&Ye[_r][0]!=="M"&&(Ye.splice(_r,0,["M",Jr.x,Jr.y]),Gr.bx=0,Gr.by=0,Gr.x=We[_r][1],Gr.y=We[_r][2],Ge=Math.max(Ht.length,jt&&jt.length||0))};Ge=Math.max(Ht.length,jt&&jt.length||0);for(var Ze=0;Ze<Ge;Ze++){Ht[Ze]&&(Me=Ht[Ze][0]),Me!=="C"&&(se[Ze]=Me,Ze&&(Pe=se[Ze-1])),Ht[Ze]=nr(Ht[Ze],Ut,Pe),se[Ze]!=="A"&&Me==="C"&&(se[Ze]="C"),gr(Ht,Ze),jt&&(jt[Ze]&&(Me=jt[Ze][0]),Me!=="C"&&(me[Ze]=Me,Ze&&(Pe=me[Ze-1])),jt[Ze]=nr(jt[Ze],Jt,Pe),me[Ze]!=="A"&&Me==="C"&&(me[Ze]="C"),gr(jt,Ze)),or(Ht,jt,Ut,Jt,Ze),or(jt,Ht,Jt,Ut,Ze);var mr=Ht[Ze],Nr=jt&&jt[Ze],Mr=mr.length,vn=jt&&Nr.length;Ut.x=mr[Mr-2],Ut.y=mr[Mr-1],Ut.bx=parseFloat(mr[Mr-4])||Ut.x,Ut.by=parseFloat(mr[Mr-3])||Ut.y,Jt.bx=jt&&(parseFloat(Nr[vn-4])||Jt.x),Jt.by=jt&&(parseFloat(Nr[vn-3])||Jt.y),Jt.x=jt&&Nr[vn-2],Jt.y=jt&&Nr[vn-1]}return jt?[Ht,jt]:Ht}var K=function(Nt,Ht,jt,Ut,Jt){var se=-3*Ht+9*jt-9*Ut+3*Jt,me=Nt*se+6*Ht-12*jt+6*Ut;return Nt*me-3*Ht+3*jt},et=function(Nt,Ht,jt,Ut,Jt,se,me,Me,Pe){Pe===null&&(Pe=1),Pe=Pe>1?1:Pe<0?0:Pe;for(var Ge=Pe/2,nr=12,gr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],or=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ze=0,mr=0;mr<nr;mr++){var Nr=Ge*gr[mr]+Ge,Mr=K(Nr,Nt,jt,Jt,me),vn=K(Nr,Ht,Ut,se,Me),Ln=Mr*Mr+vn*vn;Ze+=or[mr]*Math.sqrt(Ln)}return Ge*Ze},ut=function(Nt,Ht,jt,Ut,Jt,se,me,Me){for(var Pe=[],Ge=[[],[]],nr,gr,or,Ze,mr=0;mr<2;++mr){if(mr===0?(gr=6*Nt-12*jt+6*Jt,nr=-3*Nt+9*jt-9*Jt+3*me,or=3*jt-3*Nt):(gr=6*Ht-12*Ut+6*se,nr=-3*Ht+9*Ut-9*se+3*Me,or=3*Ut-3*Ht),Math.abs(nr)<1e-12){if(Math.abs(gr)<1e-12)continue;Ze=-or/gr,Ze>0&&Ze<1&&Pe.push(Ze);continue}var Nr=gr*gr-4*or*nr,Mr=Math.sqrt(Nr);if(!(Nr<0)){var vn=(-gr+Mr)/(2*nr);vn>0&&vn<1&&Pe.push(vn);var Ln=(-gr-Mr)/(2*nr);Ln>0&&Ln<1&&Pe.push(Ln)}}for(var We=Pe.length,Ye=We,Gr;We--;)Ze=Pe[We],Gr=1-Ze,Ge[0][We]=Gr*Gr*Gr*Nt+3*Gr*Gr*Ze*jt+3*Gr*Ze*Ze*Jt+Ze*Ze*Ze*me,Ge[1][We]=Gr*Gr*Gr*Ht+3*Gr*Gr*Ze*Ut+3*Gr*Ze*Ze*se+Ze*Ze*Ze*Me;return Ge[0][Ye]=Nt,Ge[1][Ye]=Ht,Ge[0][Ye+1]=me,Ge[1][Ye+1]=Me,Ge[0].length=Ge[1].length=Ye+2,{min:{x:Math.min.apply(0,Ge[0]),y:Math.min.apply(0,Ge[1])},max:{x:Math.max.apply(0,Ge[0]),y:Math.max.apply(0,Ge[1])}}},dt=function(Nt,Ht,jt,Ut,Jt,se,me,Me){if(!(Math.max(Nt,jt)<Math.min(Jt,me)||Math.min(Nt,jt)>Math.max(Jt,me)||Math.max(Ht,Ut)<Math.min(se,Me)||Math.min(Ht,Ut)>Math.max(se,Me))){var Pe=(Nt*Ut-Ht*jt)*(Jt-me)-(Nt-jt)*(Jt*Me-se*me),Ge=(Nt*Ut-Ht*jt)*(se-Me)-(Ht-Ut)*(Jt*Me-se*me),nr=(Nt-jt)*(se-Me)-(Ht-Ut)*(Jt-me);if(!!nr){var gr=Pe/nr,or=Ge/nr,Ze=+gr.toFixed(2),mr=+or.toFixed(2);if(!(Ze<+Math.min(Nt,jt).toFixed(2)||Ze>+Math.max(Nt,jt).toFixed(2)||Ze<+Math.min(Jt,me).toFixed(2)||Ze>+Math.max(Jt,me).toFixed(2)||mr<+Math.min(Ht,Ut).toFixed(2)||mr>+Math.max(Ht,Ut).toFixed(2)||mr<+Math.min(se,Me).toFixed(2)||mr>+Math.max(se,Me).toFixed(2)))return{x:gr,y:or}}}},vt=function(Nt,Ht,jt){return Ht>=Nt.x&&Ht<=Nt.x+Nt.width&&jt>=Nt.y&&jt<=Nt.y+Nt.height},at=function(Nt,Ht,jt,Ut){return Nt===null&&(Nt=Ht=jt=Ut=0),Ht===null&&(Ht=Nt.y,jt=Nt.width,Ut=Nt.height,Nt=Nt.x),{x:Nt,y:Ht,width:jt,w:jt,height:Ut,h:Ut,x2:Nt+jt,y2:Ht+Ut,cx:Nt+jt/2,cy:Ht+Ut/2,r1:Math.min(jt,Ut)/2,r2:Math.max(jt,Ut)/2,r0:Math.sqrt(jt*jt+Ut*Ut)/2,path:W(Nt,Ht,jt,Ut),vb:[Nt,Ht,jt,Ut].join(" ")}},pt=function(Nt,Ht){return Nt=at(Nt),Ht=at(Ht),vt(Ht,Nt.x,Nt.y)||vt(Ht,Nt.x2,Nt.y)||vt(Ht,Nt.x,Nt.y2)||vt(Ht,Nt.x2,Nt.y2)||vt(Nt,Ht.x,Ht.y)||vt(Nt,Ht.x2,Ht.y)||vt(Nt,Ht.x,Ht.y2)||vt(Nt,Ht.x2,Ht.y2)||(Nt.x<Ht.x2&&Nt.x>Ht.x||Ht.x<Nt.x2&&Ht.x>Nt.x)&&(Nt.y<Ht.y2&&Nt.y>Ht.y||Ht.y<Nt.y2&&Ht.y>Nt.y)},Tt=function(Nt,Ht,jt,Ut,Jt,se,me,Me){Object(d.B)(Nt)||(Nt=[Nt,Ht,jt,Ut,Jt,se,me,Me]);var Pe=ut.apply(null,Nt);return at(Pe.min.x,Pe.min.y,Pe.max.x-Pe.min.x,Pe.max.y-Pe.min.y)},Gt=function(Nt,Ht,jt,Ut,Jt,se,me,Me,Pe){var Ge=1-Pe,nr=Math.pow(Ge,3),gr=Math.pow(Ge,2),or=Pe*Pe,Ze=or*Pe,mr=nr*Nt+gr*3*Pe*jt+Ge*3*Pe*Pe*Jt+Ze*me,Nr=nr*Ht+gr*3*Pe*Ut+Ge*3*Pe*Pe*se+Ze*Me,Mr=Nt+2*Pe*(jt-Nt)+or*(Jt-2*jt+Nt),vn=Ht+2*Pe*(Ut-Ht)+or*(se-2*Ut+Ht),Ln=jt+2*Pe*(Jt-jt)+or*(me-2*Jt+jt),We=Ut+2*Pe*(se-Ut)+or*(Me-2*se+Ut),Ye=Ge*Nt+Pe*jt,Gr=Ge*Ht+Pe*Ut,Jr=Ge*Jt+Pe*me,_r=Ge*se+Pe*Me,bn=90-Math.atan2(Mr-Ln,vn-We)*180/Math.PI;return{x:mr,y:Nr,m:{x:Mr,y:vn},n:{x:Ln,y:We},start:{x:Ye,y:Gr},end:{x:Jr,y:_r},alpha:bn}},Kt=function(Nt,Ht,jt){var Ut=Tt(Nt),Jt=Tt(Ht);if(!pt(Ut,Jt))return jt?0:[];for(var se=et.apply(0,Nt),me=et.apply(0,Ht),Me=~~(se/8),Pe=~~(me/8),Ge=[],nr=[],gr={},or=jt?0:[],Ze=0;Ze<Me+1;Ze++){var mr=Gt.apply(0,Nt.concat(Ze/Me));Ge.push({x:mr.x,y:mr.y,t:Ze/Me})}for(var Ze=0;Ze<Pe+1;Ze++){var mr=Gt.apply(0,Ht.concat(Ze/Pe));nr.push({x:mr.x,y:mr.y,t:Ze/Pe})}for(var Ze=0;Ze<Me;Ze++)for(var Nr=0;Nr<Pe;Nr++){var Mr=Ge[Ze],vn=Ge[Ze+1],Ln=nr[Nr],We=nr[Nr+1],Ye=Math.abs(vn.x-Mr.x)<.001?"y":"x",Gr=Math.abs(We.x-Ln.x)<.001?"y":"x",Jr=dt(Mr.x,Mr.y,vn.x,vn.y,Ln.x,Ln.y,We.x,We.y);if(Jr){if(gr[Jr.x.toFixed(4)]===Jr.y.toFixed(4))continue;gr[Jr.x.toFixed(4)]=Jr.y.toFixed(4);var _r=Mr.t+Math.abs((Jr[Ye]-Mr[Ye])/(vn[Ye]-Mr[Ye]))*(vn.t-Mr.t),bn=Ln.t+Math.abs((Jr[Gr]-Ln[Gr])/(We[Gr]-Ln[Gr]))*(We.t-Ln.t);_r>=0&&_r<=1&&bn>=0&&bn<=1&&(jt?or++:or.push({x:Jr.x,y:Jr.y,t1:_r,t2:bn}))}}return or},Xt=function(Nt,Ht,jt){Nt=Y(Nt),Ht=Y(Ht);for(var Ut,Jt,se,me,Me,Pe,Ge,nr,gr,or,Ze=jt?0:[],mr=0,Nr=Nt.length;mr<Nr;mr++){var Mr=Nt[mr];if(Mr[0]==="M")Ut=Me=Mr[1],Jt=Pe=Mr[2];else{Mr[0]==="C"?(gr=[Ut,Jt].concat(Mr.slice(1)),Ut=gr[6],Jt=gr[7]):(gr=[Ut,Jt,Ut,Jt,Me,Pe,Me,Pe],Ut=Me,Jt=Pe);for(var vn=0,Ln=Ht.length;vn<Ln;vn++){var We=Ht[vn];if(We[0]==="M")se=Ge=We[1],me=nr=We[2];else{We[0]==="C"?(or=[se,me].concat(We.slice(1)),se=or[6],me=or[7]):(or=[se,me,se,me,Ge,nr,Ge,nr],se=Ge,me=nr);var Ye=Kt(gr,or,jt);if(jt)Ze+=Ye;else{for(var Gr=0,Jr=Ye.length;Gr<Jr;Gr++)Ye[Gr].segment1=mr,Ye[Gr].segment2=vn,Ye[Gr].bez1=gr,Ye[Gr].bez2=or;Ze=Ze.concat(Ye)}}}}}return Ze};function gt(xt,Nt){return Xt(xt,Nt)}var lt=/,?([a-z]),?/gi;function ft(xt){return xt.join(",").replace(lt,"$1")}function it(xt){return Math.sqrt(xt[0]*xt[0]+xt[1]*xt[1])}function bt(xt,Nt){return it(xt)*it(Nt)?(xt[0]*Nt[0]+xt[1]*Nt[1])/(it(xt)*it(Nt)):1}function Dt(xt,Nt){return(xt[0]*Nt[1]<xt[1]*Nt[0]?-1:1)*Math.acos(bt(xt,Nt))}function Mt(xt,Nt){return xt[0]===Nt[0]&&xt[1]===Nt[1]}function q(xt,Nt){var Ht=Nt[1],jt=Nt[2],Ut=Object(d.cb)(Object(d.pb)(Nt[3]),Math.PI*2),Jt=Nt[4],se=Nt[5],me=xt[0],Me=xt[1],Pe=Nt[6],Ge=Nt[7],nr=Math.cos(Ut)*(me-Pe)/2+Math.sin(Ut)*(Me-Ge)/2,gr=-1*Math.sin(Ut)*(me-Pe)/2+Math.cos(Ut)*(Me-Ge)/2,or=nr*nr/(Ht*Ht)+gr*gr/(jt*jt);or>1&&(Ht*=Math.sqrt(or),jt*=Math.sqrt(or));var Ze=Ht*Ht*(gr*gr)+jt*jt*(nr*nr),mr=Ze?Math.sqrt((Ht*Ht*(jt*jt)-Ze)/Ze):1;Jt===se&&(mr*=-1),isNaN(mr)&&(mr=0);var Nr=jt?mr*Ht*gr/jt:0,Mr=Ht?mr*-jt*nr/Ht:0,vn=(me+Pe)/2+Math.cos(Ut)*Nr-Math.sin(Ut)*Mr,Ln=(Me+Ge)/2+Math.sin(Ut)*Nr+Math.cos(Ut)*Mr,We=[(nr-Nr)/Ht,(gr-Mr)/jt],Ye=[(-1*nr-Nr)/Ht,(-1*gr-Mr)/jt],Gr=Dt([1,0],We),Jr=Dt(We,Ye);return bt(We,Ye)<=-1&&(Jr=Math.PI),bt(We,Ye)>=1&&(Jr=0),se===0&&Jr>0&&(Jr=Jr-2*Math.PI),se===1&&Jr<0&&(Jr=Jr+2*Math.PI),{cx:vn,cy:Ln,rx:Mt(xt,[Pe,Ge])?0:Ht,ry:Mt(xt,[Pe,Ge])?0:jt,startAngle:Gr,endAngle:Gr+Jr,xRotation:Ut,arcFlag:Jt,sweepFlag:se}}function V(xt,Nt){return[Nt[0]+(Nt[0]-xt[0]),Nt[1]+(Nt[1]-xt[1])]}function ot(xt){xt=M(xt);for(var Nt=[],Ht=null,jt=null,Ut=null,Jt=0,se=xt.length,me=0;me<se;me++){var Me=xt[me];jt=xt[me+1];var Pe=Me[0],Ge={command:Pe,prePoint:Ht,params:Me,startTangent:null,endTangent:null};switch(Pe){case"M":Ut=[Me[1],Me[2]],Jt=me;break;case"A":var nr=q(Ht,Me);Ge.arcParams=nr;break;default:break}if(Pe==="Z")Ht=Ut,jt=xt[Jt+1];else{var gr=Me.length;Ht=[Me[gr-2],Me[gr-1]]}jt&&jt[0]==="Z"&&(jt=xt[Jt],Nt[Jt]&&(Nt[Jt].prePoint=Ht)),Ge.currentPoint=Ht,Nt[Jt]&&Mt(Ht,Nt[Jt].currentPoint)&&(Nt[Jt].prePoint=Ge.prePoint);var or=jt?[jt[jt.length-2],jt[jt.length-1]]:null;Ge.nextPoint=or;var Ze=Ge.prePoint;if(["L","H","V"].includes(Pe))Ge.startTangent=[Ze[0]-Ht[0],Ze[1]-Ht[1]],Ge.endTangent=[Ht[0]-Ze[0],Ht[1]-Ze[1]];else if(Pe==="Q"){var mr=[Me[1],Me[2]];Ge.startTangent=[Ze[0]-mr[0],Ze[1]-mr[1]],Ge.endTangent=[Ht[0]-mr[0],Ht[1]-mr[1]]}else if(Pe==="T"){var Nr=Nt[me-1],mr=V(Nr.currentPoint,Ze);Nr.command==="Q"?(Ge.command="Q",Ge.startTangent=[Ze[0]-mr[0],Ze[1]-mr[1]],Ge.endTangent=[Ht[0]-mr[0],Ht[1]-mr[1]]):(Ge.command="TL",Ge.startTangent=[Ze[0]-Ht[0],Ze[1]-Ht[1]],Ge.endTangent=[Ht[0]-Ze[0],Ht[1]-Ze[1]])}else if(Pe==="C"){var Mr=[Me[1],Me[2]],vn=[Me[3],Me[4]];Ge.startTangent=[Ze[0]-Mr[0],Ze[1]-Mr[1]],Ge.endTangent=[Ht[0]-vn[0],Ht[1]-vn[1]]}else if(Pe==="S"){var Nr=Nt[me-1],Mr=V(Nr.currentPoint,Ze),vn=[Me[1],Me[2]];Nr.command==="C"?(Ge.command="C",Ge.startTangent=[Ze[0]-Mr[0],Ze[1]-Mr[1]],Ge.endTangent=[Ht[0]-vn[0],Ht[1]-vn[1]]):(Ge.command="SQ",Ge.startTangent=[Ze[0]-vn[0],Ze[1]-vn[1]],Ge.endTangent=[Ht[0]-vn[0],Ht[1]-vn[1]])}else if(Pe==="A"){var Ln=.001,We=Ge.arcParams||{},Ye=We.cx,Gr=Ye===void 0?0:Ye,Jr=We.cy,_r=Jr===void 0?0:Jr,bn=We.rx,ta=bn===void 0?0:bn,aa=We.ry,wn=aa===void 0?0:aa,ea=We.sweepFlag,Aa=ea===void 0?0:ea,Fa=We.startAngle,Yn=Fa===void 0?0:Fa,Ti=We.endAngle,Gi=Ti===void 0?0:Ti;Aa===0&&(Ln*=-1);var Qi=ta*Math.cos(Yn-Ln)+Gr,Xi=wn*Math.sin(Yn-Ln)+_r;Ge.startTangent=[Qi-Ut[0],Xi-Ut[1]];var Ii=ta*Math.cos(Yn+Gi+Ln)+Gr,ao=wn*Math.sin(Yn+Gi-Ln)+_r;Ge.endTangent=[Ze[0]-Ii,Ze[1]-ao]}Nt.push(Ge)}return Nt}var tt=function(Nt,Ht,jt){return Nt>=Ht&&Nt<=jt};function yt(xt,Nt,Ht,jt){var Ut=.001,Jt={x:Ht.x-xt.x,y:Ht.y-xt.y},se={x:Nt.x-xt.x,y:Nt.y-xt.y},me={x:jt.x-Ht.x,y:jt.y-Ht.y},Me=se.x*me.y-se.y*me.x,Pe=Me*Me,Ge=se.x*se.x+se.y*se.y,nr=me.x*me.x+me.y*me.y,gr=null;if(Pe>Ut*Ge*nr){var or=(Jt.x*me.y-Jt.y*me.x)/Me,Ze=(Jt.x*se.y-Jt.y*se.x)/Me;tt(or,0,1)&&tt(Ze,0,1)&&(gr={x:xt.x+or*se.x,y:xt.y+or*se.y})}return gr}var Pt=1e-6;function Ft(xt){return Math.abs(xt)<Pt?0:xt<0?-1:1}function Wt(xt,Nt,Ht){return(Ht[0]-xt[0])*(Nt[1]-xt[1])==(Nt[0]-xt[0])*(Ht[1]-xt[1])&&Math.min(xt[0],Nt[0])<=Ht[0]&&Ht[0]<=Math.max(xt[0],Nt[0])&&Math.min(xt[1],Nt[1])<=Ht[1]&&Ht[1]<=Math.max(xt[1],Nt[1])}function Vt(xt,Nt,Ht){var jt=!1,Ut=xt.length;if(Ut<=2)return!1;for(var Jt=0;Jt<Ut;Jt++){var se=xt[Jt],me=xt[(Jt+1)%Ut];if(Wt(se,me,[Nt,Ht]))return!0;Ft(se[1]-Ht)>0!=Ft(me[1]-Ht)>0&&Ft(Nt-(Ht-se[1])*(se[0]-me[0])/(se[1]-me[1])-se[0])<0&&(jt=!jt)}return jt}function Lt(xt){for(var Nt=[],Ht=xt.length,jt=0;jt<Ht-1;jt++){var Ut=xt[jt],Jt=xt[jt+1];Nt.push({from:{x:Ut[0],y:Ut[1]},to:{x:Jt[0],y:Jt[1]}})}if(Nt.length>1){var se=xt[0],me=xt[Ht-1];Nt.push({from:{x:me[0],y:me[1]},to:{x:se[0],y:se[1]}})}return Nt}function Ct(xt,Nt){var Ht=!1;return Object(d.j)(xt,function(jt){if(yt(jt.from,jt.to,Nt.from,Nt.to))return Ht=!0,!1}),Ht}function _(xt){var Nt=xt.map(function(jt){return jt[0]}),Ht=xt.map(function(jt){return jt[1]});return{minX:Math.min.apply(null,Nt),maxX:Math.max.apply(null,Nt),minY:Math.min.apply(null,Ht),maxY:Math.max.apply(null,Ht)}}function It(xt,Nt){return!(Nt.minX>xt.maxX||Nt.maxX<xt.minX||Nt.minY>xt.maxY||Nt.maxY<xt.minY)}function Rt(xt,Nt){if(xt.length<2||Nt.length<2)return!1;var Ht=_(xt),jt=_(Nt);if(!It(Ht,jt))return!1;var Ut=!1;if(Object(d.j)(Nt,function(Me){if(Vt(xt,Me[0],Me[1]))return Ut=!0,!1}),Ut||(Object(d.j)(xt,function(Me){if(Vt(Nt,Me[0],Me[1]))return Ut=!0,!1}),Ut))return!0;var Jt=Lt(xt),se=Lt(Nt),me=!1;return Object(d.j)(se,function(Me){if(Ct(Jt,Me))return me=!0,!1}),me}},WQNz:function(wt,P,i){"use strict";i.d(P,"a",function(){return G});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I");function x(W,z){var N=Math.floor(W/z);return[z*N,z*(N+1)]}function M(W){return Math.ceil(Math.log(W.length)/Math.LN2)+1}function D(W,z,N,j,F){var k=Object(b.e)(W);Object(b.lb)(k,z);var $=Object(b.vb)(k,z),nt=Object(b.t)($),st=nt.max-nt.min,rt=N;if(!N&&j&&(rt=st/j),!N&&!j){var Q=M($);rt=st/Q}var Y={},K=Object(b.v)(k,F);Object(b.F)(K)?Object(b.j)(k,function(ut){var dt=ut[z],vt=x(dt,rt),at=vt[0]+"-"+vt[1];Object(b.x)(Y,at)||(Y[at]={range:vt,count:0}),Y[at].count+=1}):Object.keys(K).forEach(function(ut){Object(b.j)(K[ut],function(dt){var vt=dt[z],at=x(vt,rt),pt=at[0]+"-"+at[1],Tt=pt+"-"+ut;Object(b.x)(Y,Tt)||(Y[Tt]={range:at,count:0},Y[Tt][F]=ut),Y[Tt].count+=1})});var et=[];return Object(b.j)(Y,function(ut){et.push(ut)}),et}var C=i("piQC"),S=i("Cw9K"),O=i("AOO/");function E(W){var z=W.chart,N=W.options,j=N.data,F=N.binField,k=N.binNumber,$=N.binWidth,nt=N.color,st=N.stackField,rt=N.legend,Q=N.columnStyle,Y=D(j,F,$,k,st);z.data(Y);var K=Object(S.b)({},W,{options:{xField:"range",yField:"count",seriesField:st,isStack:!0,interval:{color:nt,style:Q}}});return Object(O.c)(K),rt&&st&&z.legend(st,rt),W}function I(W){var z=W.options,N=z.xAxis,j=z.yAxis;return Object(S.e)(Object(C.f)({range:N,count:j}))(W)}function A(W){var z=W.chart,N=W.options,j=N.xAxis,F=N.yAxis;return j===!1?z.axis("range",!1):z.axis("range",j),F===!1?z.axis("count",!1):z.axis("count",F),W}function R(W){var z=W.chart,N=W.options,j=N.label,F=Object(S.c)(z,"interval");if(!j)F.label(!1);else{var k=j.callback,$=Object(d.e)(j,["callback"]);F.label({fields:["count"],callback:k,cfg:Object(S.v)($)})}return W}function B(W){return Object(S.e)(E,I,A,C.j,C.i,R,C.k,C.c,C.a)(W)}var p=Object(S.b)({},o.b.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),G=function(W){Object(d.c)(z,W);function z(){var N=W!==null&&W.apply(this,arguments)||this;return N.type="histogram",N}return z.getDefaultOptions=function(){return p},z.prototype.changeData=function(N){this.updateOption({data:N});var j=this.options,F=j.binField,k=j.binNumber,$=j.binWidth,nt=j.stackField;this.chart.changeData(D(N,F,$,k,nt))},z.prototype.getDefaultOptions=function(){return z.getDefaultOptions()},z.prototype.getSchemaAdaptor=function(){return B},z}(o.b)},WemT:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.optional=void 0;var d=i("9L8m"),o=i("rMkn"),b=i("ZLnY");function x(){return function(M,D,C){var S=new o.Metadata(d.OPTIONAL_TAG,!0);typeof C=="number"?b.tagParameter(M,D,C,S):b.tagProperty(M,D,S)}}P.optional=x},WlgG:function(wt,P,i){var d=i("Evga"),o=4;function b(x){return d(x,o)}wt.exports=b},Wx0M:function(wt,P,i){var d=i("1ban");function o(){for(var D={},C=Object.keys(d),S=C.length,O=0;O<S;O++)D[C[O]]={distance:-1,parent:null};return D}function b(D){var C=o(),S=[D];for(C[D].distance=0;S.length;)for(var O=S.pop(),E=Object.keys(d[O]),I=E.length,A=0;A<I;A++){var R=E[A],B=C[R];B.distance===-1&&(B.distance=C[O].distance+1,B.parent=O,S.unshift(R))}return C}function x(D,C){return function(S){return C(D(S))}}function M(D,C){for(var S=[C[D].parent,D],O=d[C[D].parent][D],E=C[D].parent;C[E].parent;)S.unshift(C[E].parent),O=x(d[C[E].parent][E],O),E=C[E].parent;return O.conversion=S,O}wt.exports=function(D){for(var C=b(D),S={},O=Object.keys(C),E=O.length,I=0;I<E;I++){var A=O[I],R=C[A];R.parent!==null&&(S[A]=M(A,C))}return S}},WzGa:function(wt,P){wt.exports=i;function i(d,o,b){var x=o[0],M=o[1];return d[0]=b[0]*x+b[2]*M+b[4],d[1]=b[1]*x+b[3]*M+b[5],d}},Wzpx:function(wt,P,i){var d=i("S8CN"),o=i("hQ5t"),b=i("8Lhm"),x=Math.max;function M(D,C,S){var O=D==null?0:D.length;if(!O)return-1;var E=S==null?0:b(S);return E<0&&(E=x(O+E,0)),d(D,o(C,3),E)}wt.exports=M},X4CS:function(wt,P){wt.exports=i;function i(d,o,b){return d[0]=Math.min(o[0],b[0]),d[1]=Math.min(o[1],b[1]),d}},X5ku:function(wt,P){},XELs:function(wt,P,i){"use strict";i.d(P,"b",function(){return j}),i.d(P,"a",function(){return nt});var d=i("J+IK"),o=i("Cw9K"),b=i("piQC"),x=i("jg4I"),M=i("18og"),D=i("LtIM");function C(st,rt){return Object(o.b)({size:rt?32:80,spacing:rt?8:12,offset:rt?32:0,arrow:st.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:st.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:D.a}},st)}function S(st,rt){return Object(x.U)(rt.getModel().points,function(Q){return st.convertPoint(Q)})}function O(st,rt,Q){var Y=st.view,K=st.geometry,et=st.group,ut=st.options,dt=st.horizontal,vt=ut.offset,at=ut.size,pt=ut.arrow,Tt=Y.getCoordinate(),Gt=S(Tt,rt)[dt?3:0],Kt=S(Tt,Q)[dt?0:3],Xt=Kt.y-Gt.y,gt=Kt.x-Gt.x;if(typeof pt!="boolean"){var lt=pt.headSize,ft=ut.spacing,it;dt?(gt-lt)/2<ft?(ft=Math.max(1,(gt-lt)/2),it=[[Gt.x+ft,Gt.y-vt],[Gt.x+ft,Gt.y-vt-at],[Kt.x-ft,Kt.y-vt-at/2]]):it=[[Gt.x+ft,Gt.y-vt],[Gt.x+ft,Gt.y-vt-at],[Kt.x-ft-lt,Kt.y-vt-at],[Kt.x-ft,Kt.y-vt-at/2],[Kt.x-ft-lt,Kt.y-vt]]:(Xt-lt)/2<ft?(ft=Math.max(1,(Xt-lt)/2),it=[[Gt.x+vt,Gt.y+ft],[Gt.x+vt+at,Gt.y+ft],[Kt.x+vt+at/2,Kt.y-ft]]):it=[[Gt.x+vt,Gt.y+ft],[Gt.x+vt+at,Gt.y+ft],[Kt.x+vt+at,Kt.y-ft-lt],[Kt.x+vt+at/2,Kt.y-ft],[Kt.x+vt,Kt.y-ft-lt]],et.addShape("polygon",{id:Y.id+"-conversion-tag-arrow-"+K.getElementId(rt.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:rt,nextElement:Q},attrs:Object(d.a)(Object(d.a)({},pt.style||{}),{points:it})})}}function E(st,rt,Q){var Y,K,et,ut=st.view,dt=st.geometry,vt=st.group,at=st.options,pt=st.field,Tt=st.horizontal,Gt=at.offset,Kt=at.size;if(typeof at.text!="boolean"){var Xt=ut.getCoordinate(),gt=((Y=at.text)===null||Y===void 0?void 0:Y.formatter)&&((K=at.text)===null||K===void 0?void 0:K.formatter(rt.getData()[pt],Q.getData()[pt])),lt=S(Xt,rt)[Tt?3:0],ft=S(Xt,Q)[Tt?0:3],it=vt.addShape("text",{id:ut.id+"-conversion-tag-text-"+dt.getElementId(rt.getModel().mappingData),name:"conversion-tag-text",origin:{element:rt,nextElement:Q},attrs:Object(d.a)(Object(d.a)({},((et=at.text)===null||et===void 0?void 0:et.style)||{}),{text:gt,x:Tt?(lt.x+ft.x)/2:lt.x+Gt+Kt/2,y:Tt?lt.y-Gt-Kt/2:(lt.y+ft.y)/2})});if(Tt){var bt=ft.x-lt.x,Dt=it.getBBox().width;if(Dt>bt){var Mt=Dt/gt.length,q=Math.max(1,Math.ceil(bt/Mt)-1),V=gt.slice(0,q)+"...";it.attr("text",V)}}}}function I(st,rt,Q){O(st,rt,Q),E(st,rt,Q)}function A(st,rt,Q){return rt===void 0&&(rt=!0),Q===void 0&&(Q=!1),function(Y){var K=Y.options,et=Y.chart,ut=K.conversionTag,dt=K.theme;return ut&&!Q&&(et.theme(Object(o.b)({},Object(x.M)(dt)?dt:Object(M.getTheme)(dt),{columnWidthRatio:1/3})),et.annotation().shape({render:function(at,pt){var Tt=at.addGroup({id:et.id+"-conversion-tag-group",name:"conversion-tag-group"}),Gt=Object(x.m)(et.geometries,function(gt){return gt.type==="interval"}),Kt={view:pt,geometry:Gt,group:Tt,field:st,horizontal:rt,options:C(ut,rt)},Xt=rt?Gt.elements:Gt.elements.slice().reverse();Object(x.j)(Xt,function(gt,lt){lt>0&&I(Kt,Xt[lt-1],gt)})}})),Y}}var R={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};Object(M.registerInteraction)(R.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(M.registerInteraction)(R.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function B(st){return st===void 0&&(st=!1),function(rt){var Q=rt.chart,Y=rt.options,K=Y.connectedArea,et=function(){Q.removeInteraction(R.hover),Q.removeInteraction(R.click)};if(!st&&K){var ut=K.trigger||"hover";et(),Q.interaction(R[ut])}else et();return rt}}var p=i("AOO/"),G=i("1MGC"),W=i("ZXD1");function z(st){var rt=st.options,Q=rt.legend,Y=rt.seriesField,K=rt.isStack;return Y?Q!==!1&&(Q=Object(d.a)({position:K?"right-top":"top-left"},Q)):Q=!1,st.options.legend=Q,st}function N(st){var rt=st.chart,Q=st.options,Y=Q.data,K=Q.columnStyle,et=Q.color,ut=Q.columnWidthRatio,dt=Q.isPercent,vt=Q.xField,at=Q.yField,pt=Q.seriesField,Tt=Q.tooltip;rt.data(Object(G.a)(Y,at,vt,at,dt));var Gt=dt?Object(d.a)({formatter:function(gt){return{name:gt[pt]||gt[vt],value:(Number(gt[at])*100).toFixed(2)+"%"}}},Tt):Tt,Kt=Object(o.b)({},st,{options:{widthRatio:ut,tooltip:Gt,interval:{style:K,color:et}}});return Object(p.c)(Kt),st}function j(st){var rt,Q,Y=st.options,K=Y.xAxis,et=Y.yAxis,ut=Y.xField,dt=Y.yField,vt=Y.data,at=Y.isPercent,pt=at?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(o.e)(Object(b.f)((rt={},rt[ut]=K,rt[dt]=et,rt),(Q={},Q[ut]={type:"cat"},Q[dt]=Object(d.a)(Object(d.a)({},Object(W.a)(vt,dt)),pt),Q)))(st)}function F(st){var rt=st.chart,Q=st.options,Y=Q.xAxis,K=Q.yAxis,et=Q.xField,ut=Q.yField;return Y===!1?rt.axis(et,!1):rt.axis(et,Y),K===!1?rt.axis(ut,!1):rt.axis(ut,K),st}function k(st){var rt=st.chart,Q=st.options,Y=Q.legend,K=Q.seriesField;return Y&&K?rt.legend(K,Y):Y===!1&&rt.legend(!1),st}function $(st){var rt=st.chart,Q=st.options,Y=Q.label,K=Q.yField,et=Q.isRange,ut=Object(o.c)(rt,"interval");if(!Y)ut.label(!1);else{var dt=Y.callback,vt=Object(d.e)(Y,["callback"]);ut.label({fields:[K],callback:dt,cfg:Object(d.a)({layout:(vt==null?void 0:vt.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(o.v)(et?Object(d.a)({content:function(pt){var Tt;return(Tt=pt[K])===null||Tt===void 0?void 0:Tt.join("-")}},vt):vt))})}return st}function nt(st,rt){rt===void 0&&(rt=!1);var Q=st.options,Y=Q.seriesField;return Object(o.e)(z,b.j,b.i,N,j,F,k,b.k,b.h,b.g,$,b.c,b.a,Object(b.b)(),A(Q.yField,!rt,!!Y),B(!Q.isStack),b.e)(st)}},XIMx:function(wt,P,i){"use strict";i.d(P,"b",function(){return b}),i.d(P,"a",function(){return x}),i.d(P,"c",function(){return M});var d=i("jg4I"),o=i("Cw9K");function b(D,C){var S=null;return Object(d.j)(D,function(O){typeof O[C]=="number"&&(S+=O[C])}),S}function x(D,C){var S;switch(D){case"inner":return S="-30%",Object(d.O)(C)&&C.endsWith("%")?parseFloat(C)*.01>0?S:C:C<0?C:S;case"outer":return S=12,Object(d.O)(C)&&C.endsWith("%")?parseFloat(C)*.01<0?S:C:C>0?C:S;default:return C}}function M(D,C){return Object(d.k)(Object(o.r)(D,C),function(S){return S[C]===0})}},XN3X:function(wt,P,i){"use strict";i.d(P,"a",function(){return d});var d={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},XSdR:function(wt,P,i){var d;try{d={cloneDeep:i("CvKH"),constant:i("vqXp"),defaults:i("Vlje"),each:i("8hqx"),filter:i("NFwm"),find:i("u3Fj"),flatten:i("qTvU"),forEach:i("KAHC"),forIn:i("OFdx"),has:i("v/6M"),isUndefined:i("4tFv"),last:i("bkR+"),map:i("N7LH"),mapValues:i("GCuf"),max:i("tCm8"),merge:i("Ixdt"),min:i("gCgN"),minBy:i("HMFt"),now:i("H4kY"),pick:i("H+Qf"),range:i("t3mm"),reduce:i("5+Yv"),sortBy:i("+o0w"),uniqueId:i("ax0x"),values:i("jHy/"),zipObject:i("sNXT")}}catch(o){}d||(d=window._),wt.exports=d},XlHn:function(wt,P){},Xure:function(wt,P,i){var d=i("ql+n");wt.exports=b;var o=d.constant(1);function b(M,D,C){return x(M,D||o,C||function(S){return M.outEdges(S)})}function x(M,D,C){var S={},O=M.nodes();return O.forEach(function(E){S[E]={},S[E][E]={distance:0},O.forEach(function(I){E!==I&&(S[E][I]={distance:Number.POSITIVE_INFINITY})}),C(E).forEach(function(I){var A=I.v===E?I.w:I.v,R=D(I);S[E][A]={distance:R,predecessor:E}})}),O.forEach(function(E){var I=S[E];O.forEach(function(A){var R=S[A];O.forEach(function(B){var p=R[E],G=I[B],W=R[B],z=p.distance+G.distance;z<W.distance&&(W.distance=z,W.predecessor=G.predecessor)})})}),S}},Y26w:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Target=void 0;var d=i("9L8m"),o=i("qSJf"),b=i("rMkn"),x=i("3RHZ"),M=function(){function D(C,S,O,E){this.id=o.id(),this.type=C,this.serviceIdentifier=O,this.name=new x.QueryableString(S||""),this.metadata=new Array;var I=null;typeof E=="string"?I=new b.Metadata(d.NAMED_TAG,E):E instanceof b.Metadata&&(I=E),I!==null&&this.metadata.push(I)}return D.prototype.hasTag=function(C){for(var S=0,O=this.metadata;S<O.length;S++){var E=O[S];if(E.key===C)return!0}return!1},D.prototype.isArray=function(){return this.hasTag(d.MULTI_INJECT_TAG)},D.prototype.matchesArray=function(C){return this.matchesTag(d.MULTI_INJECT_TAG)(C)},D.prototype.isNamed=function(){return this.hasTag(d.NAMED_TAG)},D.prototype.isTagged=function(){return this.metadata.some(function(C){return d.NON_CUSTOM_TAG_KEYS.every(function(S){return C.key!==S})})},D.prototype.isOptional=function(){return this.matchesTag(d.OPTIONAL_TAG)(!0)},D.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(C){return C.key===d.NAMED_TAG})[0]:null},D.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(C){return d.NON_CUSTOM_TAG_KEYS.every(function(S){return C.key!==S})}):null},D.prototype.matchesNamedTag=function(C){return this.matchesTag(d.NAMED_TAG)(C)},D.prototype.matchesTag=function(C){var S=this;return function(O){for(var E=0,I=S.metadata;E<I.length;E++){var A=I[E];if(A.key===C&&A.value===O)return!0}return!1}},D}();P.Target=M},YKhI:function(wt,P,i){var d=i("0Zv/");function o(b,x){if(b!==x){var M=b!==void 0,D=b===null,C=b===b,S=d(b),O=x!==void 0,E=x===null,I=x===x,A=d(x);if(!E&&!A&&!S&&b>x||S&&O&&I&&!E&&!A||D&&O&&I||!M&&I||!C)return 1;if(!D&&!S&&!A&&b<x||A&&M&&C&&!D&&!S||E&&M&&C||!O&&C||!I)return-1}return 0}wt.exports=o},YcyD:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.multiBindToService=P.getServiceIdentifierAsString=P.typeConstraint=P.namedConstraint=P.taggedConstraint=P.traverseAncerstors=P.decorate=P.id=P.MetadataReader=P.postConstruct=P.targetName=P.multiInject=P.unmanaged=P.optional=P.LazyServiceIdentifer=P.inject=P.named=P.tagged=P.injectable=P.ContainerModule=P.AsyncContainerModule=P.TargetTypeEnum=P.BindingTypeEnum=P.BindingScopeEnum=P.Container=P.METADATA_KEY=void 0;var d=i("9L8m");P.METADATA_KEY=d;var o=i("9u1Y");Object.defineProperty(P,"Container",{enumerable:!0,get:function(){return o.Container}});var b=i("2+60");Object.defineProperty(P,"BindingScopeEnum",{enumerable:!0,get:function(){return b.BindingScopeEnum}}),Object.defineProperty(P,"BindingTypeEnum",{enumerable:!0,get:function(){return b.BindingTypeEnum}}),Object.defineProperty(P,"TargetTypeEnum",{enumerable:!0,get:function(){return b.TargetTypeEnum}});var x=i("Q8h2");Object.defineProperty(P,"AsyncContainerModule",{enumerable:!0,get:function(){return x.AsyncContainerModule}}),Object.defineProperty(P,"ContainerModule",{enumerable:!0,get:function(){return x.ContainerModule}});var M=i("koGu");Object.defineProperty(P,"injectable",{enumerable:!0,get:function(){return M.injectable}});var D=i("Itlo");Object.defineProperty(P,"tagged",{enumerable:!0,get:function(){return D.tagged}});var C=i("u6QS");Object.defineProperty(P,"named",{enumerable:!0,get:function(){return C.named}});var S=i("tjpL");Object.defineProperty(P,"inject",{enumerable:!0,get:function(){return S.inject}}),Object.defineProperty(P,"LazyServiceIdentifer",{enumerable:!0,get:function(){return S.LazyServiceIdentifer}});var O=i("WemT");Object.defineProperty(P,"optional",{enumerable:!0,get:function(){return O.optional}});var E=i("Mz7Q");Object.defineProperty(P,"unmanaged",{enumerable:!0,get:function(){return E.unmanaged}});var I=i("HWsn");Object.defineProperty(P,"multiInject",{enumerable:!0,get:function(){return I.multiInject}});var A=i("Ca6f");Object.defineProperty(P,"targetName",{enumerable:!0,get:function(){return A.targetName}});var R=i("CdXo");Object.defineProperty(P,"postConstruct",{enumerable:!0,get:function(){return R.postConstruct}});var B=i("/dUy");Object.defineProperty(P,"MetadataReader",{enumerable:!0,get:function(){return B.MetadataReader}});var p=i("qSJf");Object.defineProperty(P,"id",{enumerable:!0,get:function(){return p.id}});var G=i("ZLnY");Object.defineProperty(P,"decorate",{enumerable:!0,get:function(){return G.decorate}});var W=i("09fY");Object.defineProperty(P,"traverseAncerstors",{enumerable:!0,get:function(){return W.traverseAncerstors}}),Object.defineProperty(P,"taggedConstraint",{enumerable:!0,get:function(){return W.taggedConstraint}}),Object.defineProperty(P,"namedConstraint",{enumerable:!0,get:function(){return W.namedConstraint}}),Object.defineProperty(P,"typeConstraint",{enumerable:!0,get:function(){return W.typeConstraint}});var z=i("Rph/");Object.defineProperty(P,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return z.getServiceIdentifierAsString}});var N=i("Zub2");Object.defineProperty(P,"multiBindToService",{enumerable:!0,get:function(){return N.multiBindToService}})},"Yf+D":function(wt,P,i){"use strict";i.r(P),i.d(P,"Line",function(){return Kt}),i.d(P,"Circle",function(){return gt}),i.d(P,"Base",function(){return R});var d={};i.r(d),i.d(d,"getDefault",function(){return G}),i.d(d,"ellipsisHead",function(){return W}),i.d(d,"ellipsisTail",function(){return z}),i.d(d,"ellipsisMiddle",function(){return N});var o={};i.r(o),i.d(o,"getDefault",function(){return rt}),i.d(o,"reserveFirst",function(){return Q}),i.d(o,"reserveLast",function(){return Y}),i.d(o,"reserveBoth",function(){return K}),i.d(o,"equidistance",function(){return et}),i.d(o,"equidistanceWithReverseBoth",function(){return ut});var b={};i.r(b),i.d(b,"getDefault",function(){return at}),i.d(b,"fixedAngle",function(){return pt}),i.d(b,"unfixedAngle",function(){return Tt});var x={};i.r(x),i.d(x,"autoHide",function(){return o}),i.d(x,"autoRotate",function(){return b}),i.d(x,"autoEllipsis",function(){return d});var M=i("J+IK"),D=i("sxZn"),C=i("jg4I"),S=i("jFyH"),O=i("xdm5"),E=i("JRP5"),I=i("KwOt"),A=function(lt){Object(M.c)(ft,lt);function ft(){return lt!==null&&lt.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var it=lt.prototype.getDefaultCfg.call(this);return Object(M.a)(Object(M.a)({},it),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:I.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:I.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:I.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:I.a.textColor,fontFamily:I.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:I.a.textColor,textBaseline:"middle",fontFamily:I.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:I.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},ft.prototype.renderInner=function(it){this.get("line")&&this.drawLine(it),this.drawTicks(it),this.get("title")&&this.drawTitle(it)},ft.prototype.isList=function(){return!0},ft.prototype.getItems=function(){return this.get("ticks")},ft.prototype.setItems=function(it){this.update({ticks:it})},ft.prototype.updateItem=function(it,bt){Object(C.bb)(it,bt),this.clear(),this.render()},ft.prototype.clearItems=function(){var it=this.getElementByLocalId("label-group");it&&it.clear()},ft.prototype.setItemState=function(it,bt,Dt){it[bt]=Dt,this.updateTickStates(it)},ft.prototype.hasState=function(it,bt){return!!it[bt]},ft.prototype.getItemStates=function(it){var bt=this.get("tickStates"),Dt=[];return Object(C.j)(bt,function(Mt,q){it[q]&&Dt.push(q)}),Dt},ft.prototype.clearItemsState=function(it){var bt=this,Dt=this.getItemsByState(it);Object(C.j)(Dt,function(Mt){bt.setItemState(Mt,it,!1)})},ft.prototype.getItemsByState=function(it){var bt=this,Dt=this.getItems();return Object(C.l)(Dt,function(Mt){return bt.hasState(Mt,it)})},ft.prototype.getSidePoint=function(it,bt){var Dt=this,Mt=Dt.getSideVector(bt,it);return{x:it.x+Mt[0],y:it.y+Mt[1]}},ft.prototype.getTextAnchor=function(it){var bt;return Object(C.L)(it[0],0)?bt="center":it[0]>0?bt="start":it[0]<0&&(bt="end"),bt},ft.prototype.getTextBaseline=function(it){var bt;return Object(C.L)(it[1],0)?bt="middle":it[1]>0?bt="top":it[1]<0&&(bt="bottom"),bt},ft.prototype.processOverlap=function(it){},ft.prototype.drawLine=function(it){var bt=this.getLinePath(),Dt=this.get("line");this.addShape(it,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(C.bb)({path:bt},Dt.style)})},ft.prototype.getTickLineItems=function(it){var bt=this,Dt=[],Mt=this.get("tickLine"),q=Mt.alignTick,V=Mt.length,ot=1,tt=it.length;return tt>=2&&(ot=it[1].value-it[0].value),Object(C.j)(it,function(yt){var Pt=yt.point;q||(Pt=bt.getTickPoint(yt.value-ot/2));var Ft=bt.getSidePoint(Pt,V);Dt.push({startPoint:Pt,tickValue:yt.value,endPoint:Ft,tickId:yt.id,id:"tickline-"+yt.id})}),Dt},ft.prototype.getSubTickLineItems=function(it){var bt=[],Dt=this.get("subTickLine"),Mt=Dt.count,q=it.length;if(q>=2)for(var V=0;V<q-1;V++)for(var ot=it[V],tt=it[V+1],yt=0;yt<Mt;yt++){var Pt=(yt+1)/(Mt+1),Ft=(1-Pt)*ot.tickValue+Pt*tt.tickValue,Wt=this.getTickPoint(Ft),Vt=this.getSidePoint(Wt,Dt.length);bt.push({startPoint:Wt,endPoint:Vt,tickValue:Ft,id:"sub-"+ot.id+"-"+yt})}return bt},ft.prototype.getTickLineAttrs=function(it,bt,Dt,Mt){var q=this.get(bt).style,V={points:[it.startPoint,it.endPoint]},ot=Object(C.s)(this.get("theme"),["tickLine","style"],{});q=Object(C.H)(q)?Object(C.bb)({},ot,q(V,Dt,Mt)):q;var tt=it.startPoint,yt=it.endPoint;return Object(M.a)({x1:tt.x,y1:tt.y,x2:yt.x,y2:yt.y},q)},ft.prototype.drawTick=function(it,bt,Dt,Mt,q){this.addShape(bt,{type:"line",id:this.getElementId(it.id),name:"axis-"+Dt,attrs:this.getTickLineAttrs(it,Dt,Mt,q)})},ft.prototype.drawTickLines=function(it){var bt=this,Dt=this.get("ticks"),Mt=this.get("subTickLine"),q=this.getTickLineItems(Dt),V=this.addGroup(it,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),ot=this.get("tickLine");if(Object(C.j)(q,function(yt,Pt){if(ot.displayWithLabel){var Ft=bt.getElementId("label-"+yt.tickId);it.findById(Ft)&&bt.drawTick(yt,V,"tickLine",Pt,q)}else bt.drawTick(yt,V,"tickLine",Pt,q)}),Mt){var tt=this.getSubTickLineItems(q);Object(C.j)(tt,function(yt,Pt){bt.drawTick(yt,V,"subTickLine",Pt,tt)})}},ft.prototype.processTicks=function(){var it=this,bt=this.get("ticks");Object(C.j)(bt,function(Dt){Dt.point=it.getTickPoint(Dt.value),Object(C.I)(Dt.id)&&(Dt.id=Dt.name)})},ft.prototype.drawTicks=function(it){var bt=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(it),this.get("tickLine")&&this.drawTickLines(it);var Dt=this.get("ticks");Object(C.j)(Dt,function(Mt){bt.applyTickStates(Mt,it)})},ft.prototype.optimizeTicks=function(){var it=this.get("optimize"),bt=this.get("ticks");if(it&&it.enable&&it.threshold>0){var Dt=Object(C.jb)(bt);if(Dt>it.threshold){var Mt=Math.ceil(Dt/it.threshold),q=bt.filter(function(V,ot){return ot%Mt==0});this.set("ticks",q),this.set("originalTicks",bt)}}},ft.prototype.getLabelAttrs=function(it,bt,Dt){var Mt=this.get("label"),q=Mt.offset,V=Mt.rotate,ot=Mt.formatter,tt=this.getSidePoint(it.point,q),yt=this.getSideVector(q,tt),Pt=ot?ot(it.name,it,bt):it.name,Ft=Mt.style;Ft=Object(C.H)(Ft)?Object(C.s)(this.get("theme"),["label","style"],{}):Ft;var Wt=Object(C.bb)({x:tt.x,y:tt.y,text:Pt,textAlign:this.getTextAnchor(yt),textBaseline:this.getTextBaseline(yt)},Ft);return V&&(Wt.matrix=Object(O.e)(tt,V)),Wt},ft.prototype.drawLabels=function(it){var bt=this,Dt=this.get("ticks"),Mt=this.addGroup(it,{name:"axis-label-group",id:this.getElementId("label-group")});Object(C.j)(Dt,function(Ft,Wt){bt.addShape(Mt,{type:"text",name:"axis-label",id:bt.getElementId("label-"+Ft.id),attrs:bt.getLabelAttrs(Ft,Wt,Dt),delegateObject:{tick:Ft,item:Ft,index:Wt}})}),this.processOverlap(Mt);var q=Mt.getChildren(),V=Object(C.s)(this.get("theme"),["label","style"],{}),ot=this.get("label"),tt=ot.style,yt=ot.formatter;if(Object(C.H)(tt)){var Pt=q.map(function(Ft){return Object(C.s)(Ft.get("delegateObject"),"tick")});Object(C.j)(q,function(Ft,Wt){var Vt=Ft.get("delegateObject").tick,Lt=yt?yt(Vt.name,Vt,Wt):Vt.name,Ct=Object(C.bb)({},V,tt(Lt,Wt,Pt));Ft.attr(Ct)})}},ft.prototype.getTitleAttrs=function(){var it=this.get("title"),bt=it.style,Dt=it.position,Mt=it.offset,q=it.spacing,V=q===void 0?0:q,ot=it.autoRotate,tt=bt.fontSize,yt=.5;Dt==="start"?yt=0:Dt==="end"&&(yt=1);var Pt=this.getTickPoint(yt),Ft=this.getSidePoint(Pt,Mt||V+tt/2),Wt=Object(C.bb)({x:Ft.x,y:Ft.y,text:it.text},bt),Vt=it.rotate,Lt=Vt;if(Object(C.I)(Vt)&&ot){var Ct=this.getAxisVector(Pt),_=[1,0];Lt=D.a.angleTo(Ct,_,!0)}if(Lt){var It=Object(O.e)(Ft,Lt);Wt.matrix=It}return Wt},ft.prototype.drawTitle=function(it){this.addShape(it,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},ft.prototype.applyTickStates=function(it,bt){var Dt=this.getItemStates(it);if(Dt.length){var Mt=this.get("tickStates"),q=this.getElementId("label-"+it.id),V=bt.findById(q);if(V){var ot=Object(E.a)(it,"label",Mt);ot&&V.attr(ot)}var tt=this.getElementId("tickline-"+it.id),yt=bt.findById(tt);if(yt){var Pt=Object(E.a)(it,"tickLine",Mt);Pt&&yt.attr(Pt)}}},ft.prototype.updateTickStates=function(it){var bt=this.getItemStates(it),Dt=this.get("tickStates"),Mt=this.get("label"),q=this.getElementByLocalId("label-"+it.id),V=this.get("tickLine"),ot=this.getElementByLocalId("tickline-"+it.id);if(bt.length){if(q){var tt=Object(E.a)(it,"label",Dt);tt&&q.attr(tt)}if(ot){var yt=Object(E.a)(it,"tickLine",Dt);yt&&ot.attr(yt)}}else q&&q.attr(Mt.style),ot&&ot.attr(V.style)},ft}(S.a),R=A,B=i("uRYK");function p(lt,ft,it,bt){var Dt=ft.getChildren(),Mt=!1;return Object(C.j)(Dt,function(q){var V=Object(B.a)(lt,q,it,bt);Mt=Mt||V}),Mt}function G(){return z}function W(lt,ft,it){return p(lt,ft,it,"head")}function z(lt,ft,it){return p(lt,ft,it,"tail")}function N(lt,ft,it){return p(lt,ft,it,"middle")}var j=i("L+OQ");function F(lt){var ft=lt.attr("matrix");return ft&&ft[0]!==1}function k(lt){var ft=F(lt)?Object(O.d)(lt.attr("matrix")):0;return ft%360}function $(lt,ft,it,bt){var Dt=!1,Mt=k(ft),q=Math.abs(lt?it.attr("y")-ft.attr("y"):it.attr("x")-ft.attr("x")),V=(lt?it.attr("y")>ft.attr("y"):it.attr("x")>ft.attr("x"))?ft.getBBox():it.getBBox();if(lt){var ot=Math.abs(Math.cos(Mt));Object(j.i)(ot,0,Math.PI/180)?Dt=V.width+bt>q:Dt=V.height/ot+bt>q}else{var ot=Math.abs(Math.sin(Mt));Object(j.i)(ot,0,Math.PI/180)?Dt=V.width+bt>q:Dt=V.height/ot+bt>q}return Dt}function nt(lt,ft,it,bt){var Dt=(bt==null?void 0:bt.minGap)||0,Mt=ft.getChildren().slice().filter(function(Vt){return Vt.get("visible")});if(!Mt.length)return!1;var q=!1;it&&Mt.reverse();for(var V=Mt.length,ot=Mt[0],tt=ot,yt=1;yt<V;yt++){var Pt=Mt[yt],Ft=Pt.getBBox(),Wt=$(lt,tt,Pt,Dt);Wt?(Pt.hide(),q=!0):tt=Pt}return q}function st(lt,ft,it){var bt=(it==null?void 0:it.minGap)||0,Dt=ft.getChildren().slice();if(Dt.length<2)return!1;var Mt=!1,q=Dt[0],V=q.getBBox(),ot=Dt[1],tt=Dt.length,yt=k(q),Pt=Math.abs(lt?ot.attr("y")-q.attr("y"):ot.attr("x")-q.attr("x")),Ft=0;if(lt){var Wt=Math.abs(Math.cos(yt));if(Object(j.i)(Wt,0,Math.PI/180)){var Vt=Object(B.b)(Dt);Ft=(Vt+bt)/Pt}else Ft=(V.height/Wt+bt)/Pt}else{var Wt=Math.abs(Math.sin(yt));if(Object(j.i)(Wt,0,Math.PI/180)){var Vt=Object(B.b)(Dt);Ft=(Vt+bt)/Pt}else Ft=(V.height/Wt+bt)/Pt}if(Ft>1){Ft=Math.ceil(Ft);for(var Lt=0;Lt<tt;Lt++)Lt%Ft!=0&&(Dt[Lt].hide(),Mt=!0)}return Mt}function rt(){return et}function Q(lt,ft,it,bt){return nt(lt,ft,!1,bt)}function Y(lt,ft,it,bt){return nt(lt,ft,!0,bt)}function K(lt,ft,it,bt){var Dt=(bt==null?void 0:bt.minGap)||0,Mt=ft.getChildren().slice();if(Mt.length<=2)return!1;for(var q=!1,V=Mt.length,ot=Mt[0],tt=Mt[V-1],yt=ot,Pt=1;Pt<V-1;Pt++){var Ft=Mt[Pt],Wt=Ft.getBBox(),Vt=$(lt,yt,Ft,Dt);Vt?(Ft.hide(),q=!0):yt=Ft}var Lt=$(lt,yt,tt,Dt);return Lt&&(yt.hide(),q=!0),q}function et(lt,ft,it,bt){var Dt=st(lt,ft,bt);return nt(lt,ft,!1)&&(Dt=!0),Dt}function ut(lt,ft,it,bt){var Dt=ft.getChildren().slice(),Mt=st(lt,ft,bt);if(Dt.length>2){var q=Dt[0],V=Dt[Dt.length-1];q.get("visible")||(q.show(),nt(lt,ft,!1,bt)&&(Mt=!0)),V.get("visible")||(V.show(),nt(lt,ft,!0,bt)&&(Mt=!0))}return Mt}function dt(lt,ft){Object(C.j)(lt,function(it){var bt=it.attr("x"),Dt=it.attr("y"),Mt=Object(O.e)({x:bt,y:Dt},ft);it.attr("matrix",Mt)})}function vt(lt,ft,it,bt){var Dt=ft.getChildren();if(!Dt.length||!lt&&Dt.length<2)return!1;var Mt=Object(B.b)(Dt),q=!1;if(lt)q=!!it&&Mt>it;else{var V=Math.abs(Dt[1].attr("x")-Dt[0].attr("x"));q=Mt>V}if(q){var ot=bt(it,Mt);dt(Dt,ot)}return q}function at(){return pt}function pt(lt,ft,it,bt){return vt(lt,ft,it,function(){return Object(C.K)(bt)?bt:lt?I.a.verticalAxisRotate:I.a.horizontalAxisRotate})}function Tt(lt,ft,it){return vt(lt,ft,it,function(bt,Dt){if(!bt)return lt?I.a.verticalAxisRotate:I.a.horizontalAxisRotate;if(lt)return-Math.acos(bt/Dt);var Mt=0;return bt>Dt?Mt=Math.PI/4:(Mt=Math.asin(bt/Dt),Mt>Math.PI/4&&(Mt=Math.PI/4)),Mt})}var Gt=function(lt){Object(M.c)(ft,lt);function ft(){return lt!==null&&lt.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var it=lt.prototype.getDefaultCfg.call(this);return Object(M.a)(Object(M.a)({},it),{type:"line",locationType:"region",start:null,end:null})},ft.prototype.getLinePath=function(){var it=this.get("start"),bt=this.get("end"),Dt=[];return Dt.push(["M",it.x,it.y]),Dt.push(["L",bt.x,bt.y]),Dt},ft.prototype.getInnerLayoutBBox=function(){var it=this.get("start"),bt=this.get("end"),Dt=lt.prototype.getInnerLayoutBBox.call(this),Mt=Math.min(it.x,bt.x,Dt.x),q=Math.min(it.y,bt.y,Dt.y),V=Math.max(it.x,bt.x,Dt.maxX),ot=Math.max(it.y,bt.y,Dt.maxY);return{x:Mt,y:q,minX:Mt,minY:q,maxX:V,maxY:ot,width:V-Mt,height:ot-q}},ft.prototype.isVertical=function(){var it=this.get("start"),bt=this.get("end");return Object(C.L)(it.x,bt.x)},ft.prototype.isHorizontal=function(){var it=this.get("start"),bt=this.get("end");return Object(C.L)(it.y,bt.y)},ft.prototype.getTickPoint=function(it){var bt=this,Dt=bt.get("start"),Mt=bt.get("end"),q=Mt.x-Dt.x,V=Mt.y-Dt.y;return{x:Dt.x+q*it,y:Dt.y+V*it}},ft.prototype.getSideVector=function(it){var bt=this.getAxisVector(),Dt=D.c.normalize([0,0],bt),Mt=this.get("verticalFactor"),q=[Dt[1],Dt[0]*-1];return D.c.scale([0,0],q,it*Mt)},ft.prototype.getAxisVector=function(){var it=this.get("start"),bt=this.get("end");return[bt.x-it.x,bt.y-it.y]},ft.prototype.processOverlap=function(it){var bt=this,Dt=this.isVertical(),Mt=this.isHorizontal();if(!(!Dt&&!Mt)){var q=this.get("label"),V=this.get("title"),ot=this.get("verticalLimitLength"),tt=q.offset,yt=ot,Pt=0,Ft=0;V&&(Pt=V.style.fontSize,Ft=V.spacing),yt&&(yt=yt-tt-Ft-Pt);var Wt=this.get("overlapOrder");if(Object(C.j)(Wt,function(Ct){q[Ct]&&bt.canProcessOverlap(Ct)&&bt.autoProcessOverlap(Ct,q[Ct],it,yt)}),V&&Object(C.I)(V.offset)){var Vt=it.getCanvasBBox(),Lt=Dt?Vt.width:Vt.height;V.offset=tt+Lt+Ft+Pt/2}}},ft.prototype.canProcessOverlap=function(it){var bt=this.get("label");return it==="autoRotate"?Object(C.I)(bt.rotate):!0},ft.prototype.autoProcessOverlap=function(it,bt,Dt,Mt){var q=this,V=this.isVertical(),ot=!1,tt=x[it];if(bt===!0){var yt=this.get("label");ot=tt.getDefault()(V,Dt,Mt)}else if(Object(C.H)(bt))ot=bt(V,Dt,Mt);else if(Object(C.M)(bt)){var Pt=bt;tt[Pt.type]&&(ot=tt[Pt.type](V,Dt,Mt,Pt.cfg))}else tt[bt]&&(ot=tt[bt](V,Dt,Mt));if(it==="autoRotate"){if(ot){var Ft=Dt.getChildren(),Wt=this.get("verticalFactor");Object(C.j)(Ft,function(Lt){var Ct=Lt.attr("textAlign");if(Ct==="center"){var _=Wt>0?"end":"start";Lt.attr("textAlign",_)}})}}else if(it==="autoHide"){var Vt=Dt.getChildren().slice(0);Object(C.j)(Vt,function(Lt){Lt.get("visible")||(q.get("isRegister")&&q.unregisterElement(Lt),Lt.remove())})}},ft}(R),Kt=Gt,Xt=function(lt){Object(M.c)(ft,lt);function ft(){return lt!==null&&lt.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var it=lt.prototype.getDefaultCfg.call(this);return Object(M.a)(Object(M.a)({},it),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ft.prototype.getLinePath=function(){var it=this.get("center"),bt=it.x,Dt=it.y,Mt=this.get("radius"),q=Mt,V=this.get("startAngle"),ot=this.get("endAngle"),tt=[];if(Math.abs(ot-V)===Math.PI*2)tt=[["M",bt,Dt-q],["A",Mt,q,0,1,1,bt,Dt+q],["A",Mt,q,0,1,1,bt,Dt-q],["Z"]];else{var yt=this.getCirclePoint(V),Pt=this.getCirclePoint(ot),Ft=Math.abs(ot-V)>Math.PI?1:0,Wt=V>ot?0:1;tt=[["M",bt,Dt],["L",yt.x,yt.y],["A",Mt,q,0,Ft,Wt,Pt.x,Pt.y],["L",bt,Dt]]}return tt},ft.prototype.getTickPoint=function(it){var bt=this.get("startAngle"),Dt=this.get("endAngle"),Mt=bt+(Dt-bt)*it;return this.getCirclePoint(Mt)},ft.prototype.getSideVector=function(it,bt){var Dt=this.get("center"),Mt=[bt.x-Dt.x,bt.y-Dt.y],q=this.get("verticalFactor"),V=D.c.length(Mt);return D.c.scale(Mt,Mt,q*it/V),Mt},ft.prototype.getAxisVector=function(it){var bt=this.get("center"),Dt=[it.x-bt.x,it.y-bt.y];return[Dt[1],-1*Dt[0]]},ft.prototype.getCirclePoint=function(it,bt){var Dt=this.get("center");return bt=bt||this.get("radius"),{x:Dt.x+Math.cos(it)*bt,y:Dt.y+Math.sin(it)*bt}},ft}(R),gt=Xt},Z23w:function(wt,P){wt.exports=i;function i(d){var o=new Float32Array(2);return o[0]=d[0],o[1]=d[1],o}},Z8sD:function(wt,P,i){var d=i("tbeB"),o=i("TdPr"),b=i("qccO");function x(M){return function(D,C,S){return S&&typeof S!="number"&&o(D,C,S)&&(C=S=void 0),D=b(D),C===void 0?(C=D,D=0):C=b(C),S=S===void 0?D<C?1:-1:b(S),d(D,C,S,M)}}wt.exports=x},ZLnY:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.tagProperty=P.tagParameter=P.decorate=void 0;var d=i("196R"),o=i("9L8m");function b(O,E,I,A){var R=o.TAGGED;M(R,O,E,A,I)}P.tagParameter=b;function x(O,E,I){var A=o.TAGGED_PROP;M(A,O.constructor,E,I)}P.tagProperty=x;function M(O,E,I,A,R){var B={},p=typeof R=="number",G=R!==void 0&&p?R.toString():I;if(p&&I!==void 0)throw new Error(d.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(O,E)&&(B=Reflect.getMetadata(O,E));var W=B[G];if(!Array.isArray(W))W=[];else for(var z=0,N=W;z<N.length;z++){var j=N[z];if(j.key===A.key)throw new Error(d.DUPLICATED_METADATA+" "+j.key.toString())}W.push(A),B[G]=W,Reflect.defineMetadata(O,B,E)}function D(O,E){Reflect.decorate(O,E)}function C(O,E){return function(I,A){E(I,A,O)}}function S(O,E,I){typeof I=="number"?D([C(I,O)],E):typeof I=="string"?Reflect.decorate([O],E,I):D([O],E)}P.decorate=S},ZVT1:function(wt,P,i){"use strict";i.d(P,"a",function(){return d});var d;(function(o){o[o.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",o[o.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",o[o.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",o[o.POINTS=0]="POINTS",o[o.LINES=1]="LINES",o[o.LINE_LOOP=2]="LINE_LOOP",o[o.LINE_STRIP=3]="LINE_STRIP",o[o.TRIANGLES=4]="TRIANGLES",o[o.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",o[o.TRIANGLE_FAN=6]="TRIANGLE_FAN",o[o.ZERO=0]="ZERO",o[o.ONE=1]="ONE",o[o.SRC_COLOR=768]="SRC_COLOR",o[o.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",o[o.SRC_ALPHA=770]="SRC_ALPHA",o[o.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",o[o.DST_ALPHA=772]="DST_ALPHA",o[o.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",o[o.DST_COLOR=774]="DST_COLOR",o[o.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",o[o.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",o[o.FUNC_ADD=32774]="FUNC_ADD",o[o.BLEND_EQUATION=32777]="BLEND_EQUATION",o[o.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",o[o.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",o[o.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",o[o.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",o[o.MAX_EXT=32776]="MAX_EXT",o[o.MIN_EXT=32775]="MIN_EXT",o[o.BLEND_DST_RGB=32968]="BLEND_DST_RGB",o[o.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",o[o.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",o[o.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",o[o.CONSTANT_COLOR=32769]="CONSTANT_COLOR",o[o.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",o[o.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",o[o.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",o[o.BLEND_COLOR=32773]="BLEND_COLOR",o[o.ARRAY_BUFFER=34962]="ARRAY_BUFFER",o[o.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",o[o.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",o[o.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",o[o.STREAM_DRAW=35040]="STREAM_DRAW",o[o.STATIC_DRAW=35044]="STATIC_DRAW",o[o.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",o[o.BUFFER_SIZE=34660]="BUFFER_SIZE",o[o.BUFFER_USAGE=34661]="BUFFER_USAGE",o[o.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",o[o.FRONT=1028]="FRONT",o[o.BACK=1029]="BACK",o[o.FRONT_AND_BACK=1032]="FRONT_AND_BACK",o[o.CULL_FACE=2884]="CULL_FACE",o[o.BLEND=3042]="BLEND",o[o.DITHER=3024]="DITHER",o[o.STENCIL_TEST=2960]="STENCIL_TEST",o[o.DEPTH_TEST=2929]="DEPTH_TEST",o[o.SCISSOR_TEST=3089]="SCISSOR_TEST",o[o.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",o[o.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",o[o.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",o[o.NO_ERROR=0]="NO_ERROR",o[o.INVALID_ENUM=1280]="INVALID_ENUM",o[o.INVALID_VALUE=1281]="INVALID_VALUE",o[o.INVALID_OPERATION=1282]="INVALID_OPERATION",o[o.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",o[o.CW=2304]="CW",o[o.CCW=2305]="CCW",o[o.LINE_WIDTH=2849]="LINE_WIDTH",o[o.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",o[o.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",o[o.CULL_FACE_MODE=2885]="CULL_FACE_MODE",o[o.FRONT_FACE=2886]="FRONT_FACE",o[o.DEPTH_RANGE=2928]="DEPTH_RANGE",o[o.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",o[o.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",o[o.DEPTH_FUNC=2932]="DEPTH_FUNC",o[o.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",o[o.STENCIL_FUNC=2962]="STENCIL_FUNC",o[o.STENCIL_FAIL=2964]="STENCIL_FAIL",o[o.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",o[o.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",o[o.STENCIL_REF=2967]="STENCIL_REF",o[o.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",o[o.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",o[o.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",o[o.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",o[o.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",o[o.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",o[o.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",o[o.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",o[o.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",o[o.VIEWPORT=2978]="VIEWPORT",o[o.SCISSOR_BOX=3088]="SCISSOR_BOX",o[o.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",o[o.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",o[o.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",o[o.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",o[o.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",o[o.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",o[o.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",o[o.RED_BITS=3410]="RED_BITS",o[o.GREEN_BITS=3411]="GREEN_BITS",o[o.BLUE_BITS=3412]="BLUE_BITS",o[o.ALPHA_BITS=3413]="ALPHA_BITS",o[o.DEPTH_BITS=3414]="DEPTH_BITS",o[o.STENCIL_BITS=3415]="STENCIL_BITS",o[o.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",o[o.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",o[o.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",o[o.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",o[o.SAMPLES=32937]="SAMPLES",o[o.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",o[o.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",o[o.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",o[o.DONT_CARE=4352]="DONT_CARE",o[o.FASTEST=4353]="FASTEST",o[o.NICEST=4354]="NICEST",o[o.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",o[o.BYTE=5120]="BYTE",o[o.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",o[o.SHORT=5122]="SHORT",o[o.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",o[o.INT=5124]="INT",o[o.UNSIGNED_INT=5125]="UNSIGNED_INT",o[o.FLOAT=5126]="FLOAT",o[o.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",o[o.ALPHA=6406]="ALPHA",o[o.RGB=6407]="RGB",o[o.RGBA=6408]="RGBA",o[o.LUMINANCE=6409]="LUMINANCE",o[o.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",o[o.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",o[o.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",o[o.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",o[o.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",o[o.VERTEX_SHADER=35633]="VERTEX_SHADER",o[o.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",o[o.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",o[o.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",o[o.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",o[o.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",o[o.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",o[o.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",o[o.SHADER_TYPE=35663]="SHADER_TYPE",o[o.DELETE_STATUS=35712]="DELETE_STATUS",o[o.LINK_STATUS=35714]="LINK_STATUS",o[o.VALIDATE_STATUS=35715]="VALIDATE_STATUS",o[o.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",o[o.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",o[o.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",o[o.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",o[o.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",o[o.NEVER=512]="NEVER",o[o.LESS=513]="LESS",o[o.EQUAL=514]="EQUAL",o[o.LEQUAL=515]="LEQUAL",o[o.GREATER=516]="GREATER",o[o.NOTEQUAL=517]="NOTEQUAL",o[o.GEQUAL=518]="GEQUAL",o[o.ALWAYS=519]="ALWAYS",o[o.KEEP=7680]="KEEP",o[o.REPLACE=7681]="REPLACE",o[o.INCR=7682]="INCR",o[o.DECR=7683]="DECR",o[o.INVERT=5386]="INVERT",o[o.INCR_WRAP=34055]="INCR_WRAP",o[o.DECR_WRAP=34056]="DECR_WRAP",o[o.VENDOR=7936]="VENDOR",o[o.RENDERER=7937]="RENDERER",o[o.VERSION=7938]="VERSION",o[o.NEAREST=9728]="NEAREST",o[o.LINEAR=9729]="LINEAR",o[o.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",o[o.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",o[o.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",o[o.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",o[o.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",o[o.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",o[o.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",o[o.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",o[o.TEXTURE_2D=3553]="TEXTURE_2D",o[o.TEXTURE=5890]="TEXTURE",o[o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",o[o.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",o[o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",o[o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",o[o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",o[o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",o[o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",o[o.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",o[o.TEXTURE0=33984]="TEXTURE0",o[o.TEXTURE1=33985]="TEXTURE1",o[o.TEXTURE2=33986]="TEXTURE2",o[o.TEXTURE3=33987]="TEXTURE3",o[o.TEXTURE4=33988]="TEXTURE4",o[o.TEXTURE5=33989]="TEXTURE5",o[o.TEXTURE6=33990]="TEXTURE6",o[o.TEXTURE7=33991]="TEXTURE7",o[o.TEXTURE8=33992]="TEXTURE8",o[o.TEXTURE9=33993]="TEXTURE9",o[o.TEXTURE10=33994]="TEXTURE10",o[o.TEXTURE11=33995]="TEXTURE11",o[o.TEXTURE12=33996]="TEXTURE12",o[o.TEXTURE13=33997]="TEXTURE13",o[o.TEXTURE14=33998]="TEXTURE14",o[o.TEXTURE15=33999]="TEXTURE15",o[o.TEXTURE16=34e3]="TEXTURE16",o[o.TEXTURE17=34001]="TEXTURE17",o[o.TEXTURE18=34002]="TEXTURE18",o[o.TEXTURE19=34003]="TEXTURE19",o[o.TEXTURE20=34004]="TEXTURE20",o[o.TEXTURE21=34005]="TEXTURE21",o[o.TEXTURE22=34006]="TEXTURE22",o[o.TEXTURE23=34007]="TEXTURE23",o[o.TEXTURE24=34008]="TEXTURE24",o[o.TEXTURE25=34009]="TEXTURE25",o[o.TEXTURE26=34010]="TEXTURE26",o[o.TEXTURE27=34011]="TEXTURE27",o[o.TEXTURE28=34012]="TEXTURE28",o[o.TEXTURE29=34013]="TEXTURE29",o[o.TEXTURE30=34014]="TEXTURE30",o[o.TEXTURE31=34015]="TEXTURE31",o[o.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",o[o.REPEAT=10497]="REPEAT",o[o.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",o[o.FLOAT_VEC2=35664]="FLOAT_VEC2",o[o.FLOAT_VEC3=35665]="FLOAT_VEC3",o[o.FLOAT_VEC4=35666]="FLOAT_VEC4",o[o.INT_VEC2=35667]="INT_VEC2",o[o.INT_VEC3=35668]="INT_VEC3",o[o.INT_VEC4=35669]="INT_VEC4",o[o.BOOL=35670]="BOOL",o[o.BOOL_VEC2=35671]="BOOL_VEC2",o[o.BOOL_VEC3=35672]="BOOL_VEC3",o[o.BOOL_VEC4=35673]="BOOL_VEC4",o[o.FLOAT_MAT2=35674]="FLOAT_MAT2",o[o.FLOAT_MAT3=35675]="FLOAT_MAT3",o[o.FLOAT_MAT4=35676]="FLOAT_MAT4",o[o.SAMPLER_2D=35678]="SAMPLER_2D",o[o.SAMPLER_CUBE=35680]="SAMPLER_CUBE",o[o.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",o[o.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",o[o.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",o[o.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",o[o.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",o[o.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",o[o.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",o[o.COMPILE_STATUS=35713]="COMPILE_STATUS",o[o.LOW_FLOAT=36336]="LOW_FLOAT",o[o.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",o[o.HIGH_FLOAT=36338]="HIGH_FLOAT",o[o.LOW_INT=36339]="LOW_INT",o[o.MEDIUM_INT=36340]="MEDIUM_INT",o[o.HIGH_INT=36341]="HIGH_INT",o[o.FRAMEBUFFER=36160]="FRAMEBUFFER",o[o.RENDERBUFFER=36161]="RENDERBUFFER",o[o.RGBA4=32854]="RGBA4",o[o.RGB5_A1=32855]="RGB5_A1",o[o.RGB565=36194]="RGB565",o[o.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",o[o.STENCIL_INDEX=6401]="STENCIL_INDEX",o[o.STENCIL_INDEX8=36168]="STENCIL_INDEX8",o[o.DEPTH_STENCIL=34041]="DEPTH_STENCIL",o[o.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",o[o.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",o[o.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",o[o.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",o[o.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",o[o.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",o[o.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",o[o.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",o[o.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",o[o.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",o[o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",o[o.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",o[o.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",o[o.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",o[o.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",o[o.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",o[o.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",o[o.NONE=0]="NONE",o[o.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",o[o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",o[o.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",o[o.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",o[o.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",o[o.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",o[o.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",o[o.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",o[o.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",o[o.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",o[o.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",o[o.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",o[o.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",o[o.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",o[o.COPY_SRC=1]="COPY_SRC",o[o.COPY_DST=2]="COPY_DST",o[o.SAMPLED=4]="SAMPLED",o[o.STORAGE=8]="STORAGE",o[o.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(d||(d={}))},ZVen:function(wt,P,i){"use strict";i.r(P),i.d(P,"version",function(){return C});var d=i("Nqgf");i.d(P,"Shape",function(){return d});var o=i("U8wd");for(var b in o)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(b)<0&&function(S){i.d(P,S,function(){return o[S]})}(b);var x=i("287h");i.d(P,"Canvas",function(){return x.a});var M=i("nl+T");i.d(P,"Group",function(){return M.a});var D=i("hMip");i.d(P,"getArcParams",function(){return D.a});var C="0.5.10"},ZXD1:function(wt,P,i){"use strict";i.d(P,"a",function(){return M}),i.d(P,"c",function(){return D}),i.d(P,"b",function(){return C});var d=i("J+IK"),o=i("jg4I"),b=i("I6A6"),x=i("pDxI");function M(S,O){var E=S.filter(function(R){var B=Object(o.s)(R,[O]);return Object(o.K)(B)&&!isNaN(B)}),I=E.every(function(R){return Object(o.s)(R,[O])>=0}),A=E.every(function(R){return Object(o.s)(R,[O])<=0});return I?{min:0}:A?{max:0}:{}}function D(S,O,E,I,A){if(A===void 0&&(A=[]),!Array.isArray(S))return{nodes:[],links:[]};var R=[],B={},p=-1;return S.forEach(function(G){var W=G[O],z=G[E],N=G[I],j=Object(x.a)(G,A);B[W]||(B[W]=Object(d.a)({id:++p,name:W},j)),B[z]||(B[z]=Object(d.a)({id:++p,name:z},j)),R.push(Object(d.a)({source:B[W].id,target:B[z].id,value:N},j))}),{nodes:Object.values(B),links:R}}function C(S,O){var E=Object(o.l)(S,function(I){var A=I[O];return A===null||typeof A=="number"&&!isNaN(A)});return Object(b.b)(b.a.WARN,E.length===S.length,"illegal data existed in chart data."),E}},ZcPb:function(wt,P){},Zdy7:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("jg4I"),b=i("sxZn"),x=i("tSnd"),M=i("PHCe"),D=i("xOhq"),C=b.a.transform,S="matrix",O=["zIndex","capture","visible","type"],E=["repeat"],I=":",A="*";function R(z){for(var N=[],j=0;j<z.length;j++)Object(o.B)(z[j])?N.push([].concat(z[j])):N.push(z[j]);return N}function B(z,N){var j={},F=N.attrs;for(var k in z)j[k]=F[k];return j}function p(z,N){var j={},F=N.attr();return Object(o.j)(z,function(k,$){E.indexOf($)===-1&&!Object(o.G)(F[$],k)&&(j[$]=k)}),j}function G(z,N){if(N.onFrame)return z;var j=N.startTime,F=N.delay,k=N.duration,$=Object.prototype.hasOwnProperty;return Object(o.j)(z,function(nt){j+F<nt.startTime+nt.delay+nt.duration&&k>nt.delay&&Object(o.j)(N.toAttrs,function(st,rt){$.call(nt.toAttrs,rt)&&(delete nt.toAttrs[rt],delete nt.fromAttrs[rt])})}),z}var W=function(z){Object(d.c)(N,z);function N(j){var F=z.call(this,j)||this;F.attrs={};var k=F.getDefaultAttrs();return Object(o.bb)(k,j.attrs),F.attrs=k,F.initAttrs(k),F.initAnimate(),F}return N.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},N.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},N.prototype.onCanvasChange=function(j){},N.prototype.initAttrs=function(j){},N.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},N.prototype.isGroup=function(){return!1},N.prototype.getParent=function(){return this.get("parent")},N.prototype.getCanvas=function(){return this.get("canvas")},N.prototype.attr=function(){for(var j,F=[],k=0;k<arguments.length;k++)F[k]=arguments[k];var $=F[0],nt=F[1];if(!$)return this.attrs;if(Object(o.M)($)){for(var st in $)this.setAttr(st,$[st]);return this.afterAttrsChange($),this}return F.length===2?(this.setAttr($,nt),this.afterAttrsChange((j={},j[$]=nt,j)),this):this.attrs[$]},N.prototype.isClipped=function(j,F){var k=this.getClip();return k&&!k.isHit(j,F)},N.prototype.setAttr=function(j,F){var k=this.attrs[j];k!==F&&(this.attrs[j]=F,this.onAttrChange(j,F,k))},N.prototype.onAttrChange=function(j,F,k){j==="matrix"&&this.set("totalMatrix",null)},N.prototype.afterAttrsChange=function(j){if(this.cfg.isClipShape){var F=this.cfg.applyTo;F&&F.onCanvasChange("clip")}else this.onCanvasChange("attr")},N.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},N.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},N.prototype.setZIndex=function(j){this.set("zIndex",j);var F=this.getParent();return F&&F.sort(),this},N.prototype.toFront=function(){var j=this.getParent();if(!!j){var F=j.getChildren(),k=this.get("el"),$=F.indexOf(this);F.splice($,1),F.push(this),this.onCanvasChange("zIndex")}},N.prototype.toBack=function(){var j=this.getParent();if(!!j){var F=j.getChildren(),k=this.get("el"),$=F.indexOf(this);F.splice($,1),F.unshift(this),this.onCanvasChange("zIndex")}},N.prototype.remove=function(j){j===void 0&&(j=!0);var F=this.getParent();F?(Object(x.j)(F.getChildren(),this),F.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),j&&this.destroy()},N.prototype.resetMatrix=function(){this.attr(S,this.getDefaultMatrix()),this.onCanvasChange("matrix")},N.prototype.getMatrix=function(){return this.attr(S)},N.prototype.setMatrix=function(j){this.attr(S,j),this.onCanvasChange("matrix")},N.prototype.getTotalMatrix=function(){var j=this.cfg.totalMatrix;if(!j){var F=this.attr("matrix"),k=this.cfg.parentMatrix;k&&F?j=Object(M.b)(k,F):j=F||k,this.set("totalMatrix",j)}return j},N.prototype.applyMatrix=function(j){var F=this.attr("matrix"),k=null;j&&F?k=Object(M.b)(j,F):k=F||j,this.set("totalMatrix",k),this.set("parentMatrix",j)},N.prototype.getDefaultMatrix=function(){return null},N.prototype.applyToMatrix=function(j){var F=this.attr("matrix");return F?Object(M.c)(F,j):j},N.prototype.invertFromMatrix=function(j){var F=this.attr("matrix");if(F){var k=Object(M.a)(F);if(k)return Object(M.c)(k,j)}return j},N.prototype.setClip=function(j){var F=this.getCanvas(),k=null;if(j){var $=this.getShapeBase(),nt=Object(o.tb)(j.type),st=$[nt];st&&(k=new st({type:j.type,isClipShape:!0,applyTo:this,attrs:j.attrs,canvas:F}))}return this.set("clipShape",k),this.onCanvasChange("clip"),k},N.prototype.getClip=function(){var j=this.cfg.clipShape;return j||null},N.prototype.clone=function(){var j=this,F=this.attrs,k={};Object(o.j)(F,function(st,rt){Object(o.B)(F[rt])?k[rt]=R(F[rt]):k[rt]=F[rt]});var $=this.constructor,nt=new $({attrs:k});return Object(o.j)(O,function(st){nt.set(st,j.get(st))}),nt},N.prototype.destroy=function(){var j=this.destroyed;j||(this.attrs={},z.prototype.destroy.call(this))},N.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},N.prototype.animate=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var k=this.get("timeline");k||(k=this.get("canvas").get("timeline"),this.set("timeline",k));var $=this.get("animations")||[];k.timer||k.initTimer();var nt=j[0],st=j[1],rt=j[2],Q=rt===void 0?"easeLinear":rt,Y=j[3],K=Y===void 0?o.db:Y,et=j[4],ut=et===void 0?0:et,dt,vt,at,pt,Tt;Object(o.H)(nt)?(dt=nt,nt={}):Object(o.M)(nt)&&nt.onFrame&&(dt=nt.onFrame,vt=nt.repeat),Object(o.M)(st)?(Tt=st,st=Tt.duration,Q=Tt.easing||"easeLinear",ut=Tt.delay||0,vt=Tt.repeat||vt||!1,K=Tt.callback||o.db,at=Tt.pauseCallback||o.db,pt=Tt.resumeCallback||o.db):(Object(o.K)(K)&&(ut=K,K=null),Object(o.H)(Q)?(K=Q,Q="easeLinear"):Q=Q||"easeLinear");var Gt=p(nt,this),Kt={fromAttrs:B(Gt,this),toAttrs:Gt,duration:st,easing:Q,repeat:vt,callback:K,pauseCallback:at,resumeCallback:pt,delay:ut,startTime:k.getTime(),id:Object(o.sb)(),onFrame:dt,pathFormatted:!1};$.length>0?$=G($,Kt):k.addAnimator(this),$.push(Kt),this.set("animations",$),this.set("_pause",{isPaused:!1})}},N.prototype.stopAnimate=function(j){var F=this;j===void 0&&(j=!0);var k=this.get("animations");Object(o.j)(k,function($){j&&($.onFrame?F.attr($.onFrame(1)):F.attr($.toAttrs)),$.callback&&$.callback()}),this.set("animating",!1),this.set("animations",[])},N.prototype.pauseAnimate=function(){var j=this.get("timeline"),F=this.get("animations"),k=j.getTime();return Object(o.j)(F,function($){$._paused=!0,$._pauseTime=k,$.pauseCallback&&$.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:k}),this},N.prototype.resumeAnimate=function(){var j=this.get("timeline"),F=j.getTime(),k=this.get("animations"),$=this.get("_pause").pauseTime;return Object(o.j)(k,function(nt){nt.startTime=nt.startTime+(F-$),nt._paused=!1,nt._pauseTime=null,nt.resumeCallback&&nt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",k),this},N.prototype.emitDelegation=function(j,F){var k=this,$=F.propagationPath,nt=this.getEvents(),st;j==="mouseenter"?st=F.fromShape:j==="mouseleave"&&(st=F.toShape);for(var rt=function(ut){var dt=$[ut],vt=dt.get("name");if(vt){if((dt.isGroup()||dt.isCanvas&&dt.isCanvas())&&st&&Object(x.g)(dt,st))return"break";Object(o.B)(vt)?Object(o.j)(vt,function(at){k.emitDelegateEvent(dt,at,F)}):Q.emitDelegateEvent(dt,vt,F)}},Q=this,Y=0;Y<$.length;Y++){var K=rt(Y);if(K==="break")break}},N.prototype.emitDelegateEvent=function(j,F,k){var $=this.getEvents(),nt=F+I+k.type;($[nt]||$[A])&&(k.name=nt,k.currentTarget=j,k.delegateTarget=this,k.delegateObject=j.get("delegateObject"),this.emit(nt,k))},N.prototype.translate=function(j,F){j===void 0&&(j=0),F===void 0&&(F=0);var k=this.getMatrix(),$=C(k,[["t",j,F]]);return this.setMatrix($),this},N.prototype.move=function(j,F){var k=this.attr("x")||0,$=this.attr("y")||0;return this.translate(j-k,F-$),this},N.prototype.moveTo=function(j,F){return this.move(j,F)},N.prototype.scale=function(j,F){var k=this.getMatrix(),$=C(k,[["s",j,F||j]]);return this.setMatrix($),this},N.prototype.rotate=function(j){var F=this.getMatrix(),k=C(F,[["r",j]]);return this.setMatrix(k),this},N.prototype.rotateAtStart=function(j){var F=this.attr(),k=F.x,$=F.y,nt=this.getMatrix(),st=C(nt,[["t",-k,-$],["r",j],["t",k,$]]);return this.setMatrix(st),this},N.prototype.rotateAtPoint=function(j,F,k){var $=this.getMatrix(),nt=C($,[["t",-j,-F],["r",k],["t",j,F]]);return this.setMatrix(nt),this},N}(D.a);P.a=W},Zkfg:function(wt,P,i){wt.exports=i("5LP0")},Zub2:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.multiBindToService=void 0;var d=function(b){return function(x){return function(){for(var M=[],D=0;D<arguments.length;D++)M[D]=arguments[D];return M.forEach(function(C){return b.bind(C).toService(x)})}}};P.multiBindToService=d},ZvDv:function(wt,P,i){var d=i("2vMh");function o(b,x){var M=b==null?0:b.length;return!!M&&d(b,x,0)>-1}wt.exports=o},aMRv:function(wt,P){wt.exports=i;function i(d,o,b,x){return d[0]=o[0]+b[0]*x,d[1]=o[1]+b[1]*x,d}},aNuW:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingInSyntax=void 0;var d=i("2+60"),o=i("uh8N"),b=function(){function x(M){this._binding=M}return x.prototype.inRequestScope=function(){return this._binding.scope=d.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},x.prototype.inSingletonScope=function(){return this._binding.scope=d.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},x.prototype.inTransientScope=function(){return this._binding.scope=d.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},x}();P.BindingInSyntax=b},aOLp:function(wt,P,i){"use strict";i.d(P,"a",function(){return d});function d(){return 0}P.b=function(o){return function(){return o}}},aStn:function(wt,P,i){"use strict";i.d(P,"a",function(){return Gt});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("S5Um"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("25gg"),E=i.n(O),I=i("VwUA"),A=i.n(I),R=i("0iMn"),B=i.n(R),p=i("YcyD"),G=i.n(p),W=i("XN3X"),z=i("60wz"),N=i("K4bE"),j,F,k,$,nt,st,rt,Q,Y,K,et,ut,dt;function vt(Kt,Xt){var gt;if(typeof Symbol=="undefined"||Kt[Symbol.iterator]==null){if(Array.isArray(Kt)||(gt=at(Kt))||Xt&&Kt&&typeof Kt.length=="number"){gt&&(Kt=gt);var lt=0,ft=function(){};return{s:ft,n:function(){return lt>=Kt.length?{done:!0}:{done:!1,value:Kt[lt++]}},e:function(q){throw q},f:ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var it=!0,bt=!1,Dt;return{s:function(){gt=Kt[Symbol.iterator]()},n:function(){var q=gt.next();return it=q.done,q},e:function(q){bt=!0,Dt=q},f:function(){try{!it&&gt.return!=null&&gt.return()}finally{if(bt)throw Dt}}}}function at(Kt,Xt){if(!!Kt){if(typeof Kt=="string")return pt(Kt,Xt);var gt=Object.prototype.toString.call(Kt).slice(8,-1);if(gt==="Object"&&Kt.constructor&&(gt=Kt.constructor.name),gt==="Map"||gt==="Set")return Array.from(Kt);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return pt(Kt,Xt)}}function pt(Kt,Xt){(Xt==null||Xt>Kt.length)&&(Xt=Kt.length);for(var gt=0,lt=new Array(Xt);gt<Xt;gt++)lt[gt]=Kt[gt];return lt}var Tt={NONE:0,ENCODE:1,HIGHLIGHT:2},Gt=(j=Object(p.injectable)(),F=Object(p.inject)(W.a.RenderEngine),k=Object(p.inject)(W.a.ResourcePool),$=Object(p.inject)(W.a.RenderPassFactory),nt=Object(p.inject)(W.a.MeshComponentManager),j(st=(rt=(dt=ut=function(){function Kt(){var Xt=this;S()(this,Kt),D()(this,"engine",Q,this),D()(this,"resourcePool",Y,this),D()(this,"renderPassFactory",K,this),D()(this,"mesh",et,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(gt,lt,ft){var it=gt.createRenderTarget(lt,"picking fbo",{width:1,height:1});ft.data={output:lt.write(gt,it)},lt.hasSideEffect=!0},this.execute=function(){var gt=x()(o.a.mark(function lt(ft,it,bt){var Dt,Mt,q;return o.a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(Xt.views=bt,!Xt.alreadyInRendering){ot.next=3;break}return ot.abrupt("return");case 3:Dt=vt(bt);try{for(q=function(){var yt=Mt.value,Pt=yt.getViewport(),Ft=Pt.width,Wt=Pt.height;Xt.alreadyInRendering=!0;var Vt=ft.getResourceNode(it.data.output);Xt.pickingFBO=Xt.resourcePool.getOrCreateResource(Vt.resource),Xt.pickingFBO.resize({width:Ft,height:Wt}),Xt.engine.useFramebuffer(Xt.pickingFBO,function(){Xt.engine.clear({framebuffer:Xt.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var Lt=Xt.renderPassFactory(N.a.IDENTIFIER),Ct=[],_=yt.getScene(),It=vt(_.getEntities()),Rt;try{for(It.s();!(Rt=It.n()).done;){var xt=Rt.value,Nt=Xt.mesh.getComponentByEntity(xt),Ht=Nt.material;Ht.setUniform("u_PickingStage",Tt.ENCODE),Ct.push(Nt)}}catch(jt){It.e(jt)}finally{It.f()}Lt.renderView(yt),Ct.forEach(function(jt){var Ut=jt.material;Ut.setUniform("u_PickingStage",Tt.HIGHLIGHT)}),Xt.alreadyInRendering=!1})},Dt.s();!(Mt=Dt.n()).done;)q()}catch(tt){Dt.e(tt)}finally{Dt.f()}case 5:case"end":return ot.stop()}},lt)}));return function(lt,ft,it){return gt.apply(this,arguments)}}(),this.pick=function(gt,lt){var ft=gt.x,it=gt.y,bt=Xt.engine,Dt=bt.readPixels,Mt=bt.useFramebuffer,q=lt.getViewport(),V=q.width,ot=q.height,tt=ft*window.devicePixelRatio,yt=it*window.devicePixelRatio;if(!(tt>V||tt<0||yt>ot||yt<0)){var Pt,Ft;return Mt(Xt.pickingFBO,function(){Pt=Dt({x:Math.round(tt),y:Math.round(ot-(it+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:Xt.pickingFBO}),(Pt[0]!==0||Pt[1]!==0||Pt[2]!==0)&&(Ft=Object(z.a)(Pt),Xt.highlightEnabled&&Xt.highlightPickedFeature(Pt,lt))}),Ft}}}return E()(Kt,[{key:"enableHighlight",value:function(gt){this.highlightEnabled=gt}},{key:"setHighlightColor",value:function(gt){this.highlightColor=gt}},{key:"highlightPickedFeature",value:function(gt,lt){if(gt){var ft=vt(lt.getScene().getEntities()),it;try{for(ft.s();!(it=ft.n()).done;){var bt=it.value,Dt=this.mesh.getComponentByEntity(bt),Mt=Dt.material;Mt.setUniform("u_PickingStage",Tt.HIGHLIGHT),Mt.setUniform("u_PickingColor",[gt[0],gt[1],gt[2]]),Mt.setUniform("u_HighlightColor",this.highlightColor)}}catch(q){ft.e(q)}finally{ft.f()}}}}]),Kt}(),ut.IDENTIFIER="PixelPicking Pass",dt),Q=A()(rt.prototype,"engine",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=A()(rt.prototype,"resourcePool",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=A()(rt.prototype,"renderPassFactory",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=A()(rt.prototype,"mesh",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt))||st)},aTcL:function(wt,P,i){"use strict";i.d(P,"b",function(){return E}),i.d(P,"a",function(){return I});var d=i("bsNZ"),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,b=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,M=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function D(A,R){var B=A.match(M);Object(d.c)(B,function(p){var G=p.split(":");R.addColorStop(G[0],G[1])})}function C(A,R,B){var p=o.exec(B),G=parseFloat(p[1])%360*(Math.PI/180),W=p[2],z=R.getBBox(),N,j;G>=0&&G<1/2*Math.PI?(N={x:z.minX,y:z.minY},j={x:z.maxX,y:z.maxY}):1/2*Math.PI<=G&&G<Math.PI?(N={x:z.maxX,y:z.minY},j={x:z.minX,y:z.maxY}):Math.PI<=G&&G<3/2*Math.PI?(N={x:z.maxX,y:z.maxY},j={x:z.minX,y:z.minY}):(N={x:z.minX,y:z.maxY},j={x:z.maxX,y:z.minY});var F=Math.tan(G),k=F*F,$=(j.x-N.x+F*(j.y-N.y))/(k+1)+N.x,nt=F*(j.x-N.x+F*(j.y-N.y))/(k+1)+N.y,st=A.createLinearGradient(N.x,N.y,$,nt);return D(W,st),st}function S(A,R,B){var p=b.exec(B),G=parseFloat(p[1]),W=parseFloat(p[2]),z=parseFloat(p[3]),N=p[4];if(z===0){var j=N.match(M);return j[j.length-1].split(":")[1]}var F=R.getBBox(),k=F.maxX-F.minX,$=F.maxY-F.minY,nt=Math.sqrt(k*k+$*$)/2,st=A.createRadialGradient(F.minX+k*G,F.minY+$*W,0,F.minX+k/2,F.minY+$/2,z*nt);return D(N,st),st}function O(A,R,B){if(R.get("patternSource")&&R.get("patternSource")===B)return R.get("pattern");var p,G,W=x.exec(B),z=W[1],N=W[2];function j(){p=A.createPattern(G,z),R.set("pattern",p),R.set("patternSource",B)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return G=new Image,N.match(/^data:/i)||(G.crossOrigin="Anonymous"),G.src=N,G.complete?j():(G.onload=j,G.src=G.src),p}function E(A,R,B){if(Object(d.k)(B)){if(B[1]==="("||B[2]==="("){if(B[0]==="l")return C(A,R,B);if(B[0]==="r")return S(A,R,B);if(B[0]==="p")return O(A,R,B)}return B}}function I(A){var R=0,B=0,p=0,G=0;return Object(d.g)(A)?A.length===1?R=B=p=G=A[0]:A.length===2?(R=p=A[0],B=G=A[1]):A.length===3?(R=A[0],B=G=A[1],p=A[2]):(R=A[0],B=A[1],p=A[2],G=A[3]):R=B=p=G=A,[R,B,p,G]}},aUeW:function(wt,P,i){var d=i("+2Ae"),o=i("0mwY"),b=i("8+ZV"),x=i("EpgB"),M=i("FolP"),D=[0,0];wt.exports.computeMiter=function(S,O,E,I,A){return d(S,E,I),b(S,S),o(O,-S[1],S[0]),o(D,-E[1],E[0]),A/M(O,D)},wt.exports.normal=function(S,O){return o(S,-O[1],O[0]),S},wt.exports.direction=function(S,O,E){return x(S,O,E),b(S,S),S}},aib0:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("Zdy7"),b=i("PHCe"),x=function(M){Object(d.c)(D,M);function D(C){return M.call(this,C)||this}return D.prototype._isInBBox=function(C,S){var O=this.getBBox();return O.minX<=C&&O.maxX>=C&&O.minY<=S&&O.maxY>=S},D.prototype.afterAttrsChange=function(C){M.prototype.afterAttrsChange.call(this,C),this.clearCacheBBox()},D.prototype.getBBox=function(){var C=this.cfg.bbox;return C||(C=this.calculateBBox(),this.set("bbox",C)),C},D.prototype.getCanvasBBox=function(){var C=this.cfg.canvasBBox;return C||(C=this.calculateCanvasBBox(),this.set("canvasBBox",C)),C},D.prototype.applyMatrix=function(C){M.prototype.applyMatrix.call(this,C),this.set("canvasBBox",null)},D.prototype.calculateCanvasBBox=function(){var C=this.getBBox(),S=this.getTotalMatrix(),O=C.minX,E=C.minY,I=C.maxX,A=C.maxY;if(S){var R=Object(b.c)(S,[C.minX,C.minY]),B=Object(b.c)(S,[C.maxX,C.minY]),p=Object(b.c)(S,[C.minX,C.maxY]),G=Object(b.c)(S,[C.maxX,C.maxY]);O=Math.min(R[0],B[0],p[0],G[0]),I=Math.max(R[0],B[0],p[0],G[0]),E=Math.min(R[1],B[1],p[1],G[1]),A=Math.max(R[1],B[1],p[1],G[1])}var W=this.attrs;if(W.shadowColor){var z=W.shadowBlur,N=z===void 0?0:z,j=W.shadowOffsetX,F=j===void 0?0:j,k=W.shadowOffsetY,$=k===void 0?0:k,nt=O-N+F,st=I+N+F,rt=E-N+$,Q=A+N+$;O=Math.min(O,nt),I=Math.max(I,st),E=Math.min(E,rt),A=Math.max(A,Q)}return{x:O,y:E,minX:O,minY:E,maxX:I,maxY:A,width:I-O,height:A-E}},D.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},D.prototype.isClipShape=function(){return this.get("isClipShape")},D.prototype.isInShape=function(C,S){return!1},D.prototype.isOnlyHitBox=function(){return!1},D.prototype.isHit=function(C,S){var O=this.get("startArrowShape"),E=this.get("endArrowShape"),I=[C,S,1];I=this.invertFromMatrix(I);var A=I[0],R=I[1],B=this._isInBBox(A,R);return this.isOnlyHitBox()?B:!!(B&&!this.isClipped(A,R)&&(this.isInShape(A,R)||O&&O.isHit(A,R)||E&&E.isHit(A,R)))},D}(o.a);P.a=x},ajvA:function(wt,P,i){"use strict";var d=i("XSdR"),o=i("atuu");wt.exports={run:b,undo:M};function b(D){var C=D.graph().acyclicer==="greedy"?o(D,S(D)):x(D);d.forEach(C,function(O){var E=D.edge(O);D.removeEdge(O),E.forwardName=O.name,E.reversed=!0,D.setEdge(O.w,O.v,E,d.uniqueId("rev"))});function S(O){return function(E){return O.edge(E).weight}}}function x(D){var C=[],S={},O={};function E(I){d.has(O,I)||(O[I]=!0,S[I]=!0,d.forEach(D.outEdges(I),function(A){d.has(S,A.w)?C.push(A):E(A.w)}),delete S[I])}return d.forEach(D.nodes(),E),C}function M(D){d.forEach(D.edges(),function(C){var S=D.edge(C);if(S.reversed){D.removeEdge(C);var O=S.forwardName;delete S.reversed,delete S.forwardName,D.setEdge(C.w,C.v,S,O)}})}},atuu:function(wt,P,i){var d=i("XSdR"),o=i("43gi").Graph,b=i("8Z6n");wt.exports=M;var x=d.constant(1);function M(E,I){if(E.nodeCount()<=1)return[];var A=S(E,I||x),R=D(A.graph,A.buckets,A.zeroIdx);return d.flatten(d.map(R,function(B){return E.outEdges(B.v,B.w)}),!0)}function D(E,I,A){for(var R=[],B=I[I.length-1],p=I[0],G;E.nodeCount();){for(;G=p.dequeue();)C(E,I,A,G);for(;G=B.dequeue();)C(E,I,A,G);if(E.nodeCount()){for(var W=I.length-2;W>0;--W)if(G=I[W].dequeue(),G){R=R.concat(C(E,I,A,G,!0));break}}}return R}function C(E,I,A,R,B){var p=B?[]:void 0;return d.forEach(E.inEdges(R.v),function(G){var W=E.edge(G),z=E.node(G.v);B&&p.push({v:G.v,w:G.w}),z.out-=W,O(I,A,z)}),d.forEach(E.outEdges(R.v),function(G){var W=E.edge(G),z=G.w,N=E.node(z);N.in-=W,O(I,A,N)}),E.removeNode(R.v),p}function S(E,I){var A=new o,R=0,B=0;d.forEach(E.nodes(),function(W){A.setNode(W,{v:W,in:0,out:0})}),d.forEach(E.edges(),function(W){var z=A.edge(W.v,W.w)||0,N=I(W),j=z+N;A.setEdge(W.v,W.w,j),B=Math.max(B,A.node(W.v).out+=N),R=Math.max(R,A.node(W.w).in+=N)});var p=d.range(B+R+3).map(function(){return new b}),G=R+1;return d.forEach(A.nodes(),function(W){O(p,G,A.node(W))}),{graph:A,buckets:p,zeroIdx:G}}function O(E,I,A){A.out?A.in?E[A.out-A.in+I].enqueue(A):E[E.length-1].enqueue(A):E[0].enqueue(A)}},ax0x:function(wt,P,i){var d=i("cA8S"),o=0;function b(x){var M=++o;return d(x)+M}wt.exports=b},bCfE:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ver=P.clear=P.bind=void 0;var d=i("hQli"),o=function(D,C){var S=(0,d.getSensor)(D);return S.bind(C),function(){S.unbind(C)}};P.bind=o;var b=function(D){var C=(0,d.getSensor)(D);(0,d.removeSensor)(C)};P.clear=b;var x="1.0.1";P.ver=x},bYNP:function(wt,P){},"bkR+":function(wt,P){function i(d){var o=d==null?0:d.length;return o?d[o-1]:void 0}wt.exports=i},bkrr:function(wt,P,i){"use strict";i.d(P,"a",function(){return I});var d=i("J+IK"),o=i("jg4I"),b=i("piQC"),x=i("Cw9K"),M=i("AOO/"),D=i("1MGC"),C=i("RRRq");i.d(P,"b",function(){return C.d});function S(A){var R=A.chart,B=A.options,p=B.data,G=B.areaStyle,W=B.color,z=B.point,N=B.line,j=B.isPercent,F=B.xField,k=B.yField,$=B.tooltip,nt=B.seriesField,st=B.startOnZero,rt=z==null?void 0:z.state,Q=Object(D.a)(p,k,F,k,j);R.data(Q);var Y=j?Object(d.a)({formatter:function(vt){return{name:vt[nt]||vt[F],value:(Number(vt[k])*100).toFixed(2)+"%"}}},$):$,K=Object(x.b)({},A,{options:{area:{color:W,style:G},line:N&&Object(d.a)({color:W},N),point:z&&Object(d.a)({color:W},z),tooltip:Y,label:void 0,args:{startOnZero:st}}}),et=Object(x.b)({},K,{options:{tooltip:!1}}),ut=Object(x.b)({},K,{options:{tooltip:!1,state:rt}});return Object(M.a)(K),Object(M.d)(et),Object(M.e)(ut),A}function O(A){var R=A.chart,B=A.options,p=B.label,G=B.yField,W=Object(x.c)(R,"area");if(!p)W.label(!1);else{var z=p.callback,N=Object(d.e)(p,["callback"]);W.label({fields:[G],callback:z,cfg:Object(d.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(x.v)(N))})}return A}function E(A){var R=A.chart,B=A.options,p=B.isStack,G=B.isPercent,W=B.seriesField;return(G||p)&&W&&Object(o.j)(R.geometries,function(z){z.adjust("stack")}),A}function I(A){return Object(x.e)(S,C.d,E,b.j,C.b,C.c,b.k,O,b.h,Object(b.b)(),b.c,b.a,b.e)(A)}},bmBd:function(wt,P,i){"use strict";i.d(P,"a",function(){return $});var d=i("X0zg"),o=i.n(d),b=i("qJ52"),x=i.n(b),M=i("25gg"),D=i.n(M),C=i("YcyD");function S(nt){var st=0;switch(nt){case"vec2":case"ivec2":st=2;break;case"vec3":case"ivec3":st=3;break;case"vec4":case"ivec4":case"mat2":st=4;break;case"mat3":st=9;break;case"mat4":st=16;break;default:}return st}var O=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function E(nt){var st={};return nt=nt.replace(O,function(rt,Q,Y){var K=Y.split(":"),et=K[0].trim(),ut="";switch(K.length>1&&(ut=K[1].trim()),Q){case"bool":ut=ut==="true";break;case"float":case"int":ut=Number(ut);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":ut?ut=ut.replace("[","").replace("]","").split(",").reduce(function(dt,vt){return dt.push(Number(vt.trim())),dt},[]):ut=new Array(S(Q)).fill(0);break;default:}return st[et]=ut,"uniform ".concat(Q," ").concat(et,`;
`)}),{content:nt,uniforms:st}}function I(nt){return nt.filter(function(st,rt,Q){return Q.indexOf(st)===rt})}var A,R,B;function p(nt,st){var rt=Object.keys(nt);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(nt);st&&(Q=Q.filter(function(Y){return Object.getOwnPropertyDescriptor(nt,Y).enumerable})),rt.push.apply(rt,Q)}return rt}function G(nt){for(var st=1;st<arguments.length;st++){var rt=arguments[st]!=null?arguments[st]:{};st%2?p(Object(rt),!0).forEach(function(Q){o()(nt,Q,rt[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(rt)):p(Object(rt)).forEach(function(Q){Object.defineProperty(nt,Q,Object.getOwnPropertyDescriptor(rt,Q))})}return nt}var W=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,z=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,N=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,j=/precision\s+(high|low|medium)p\s+float/,F=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,k=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,$=(A=Object(C.injectable)(),A(R=(B=function(){function nt(){x()(this,nt),this.moduleCache={},this.rawContentCache={}}return D()(nt,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:z,fs:W}),this.registerModule("sdf2d",{vs:"",fs:N})}},{key:"registerModule",value:function(rt,Q){if(!this.rawContentCache[rt]){var Y=Q.vs,K=Y===void 0?"":Y,et=Q.fs,ut=et===void 0?"":et,dt=Q.uniforms,vt=E(K),at=vt.content,pt=vt.uniforms,Tt=E(ut),Gt=Tt.content,Kt=Tt.uniforms;this.rawContentCache[rt]={fs:Gt,uniforms:G(G(G({},pt),Kt),dt),vs:at}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(rt){var Q=this;if(this.moduleCache[rt])return this.moduleCache[rt];var Y=this.rawContentCache[rt].vs||"",K=this.rawContentCache[rt].fs||"",et=this.processModule(Y,[],"vs"),ut=et.content,dt=et.includeList,vt=this.processModule(K,[],"fs"),at=vt.content,pt=vt.includeList,Tt=at,Gt=I(dt.concat(pt).concat(rt)).reduce(function(Kt,Xt){return G(G({},Kt),Q.rawContentCache[Xt].uniforms)},{});return j.test(at)||(Tt=F+at),this.moduleCache[rt]={fs:Tt.trim(),uniforms:Gt,vs:ut.trim()},this.moduleCache[rt]}},{key:"processModule",value:function(rt,Q,Y){var K=this,et=rt.replace(k,function(ut,dt){var vt=dt.split(" "),at=vt[0].replace(/"/g,"");if(Q.indexOf(at)>-1)return"";var pt=K.rawContentCache[at][Y];Q.push(at);var Tt=K.processModule(pt||"",Q,Y),Gt=Tt.content;return Gt});return{content:et,includeList:Q}}}]),nt}(),B))||R)},bsNZ:function(wt,P,i){"use strict";i.d(P,"d",function(){return o}),i.d(P,"b",function(){return b}),i.d(P,"e",function(){return x}),i.d(P,"f",function(){return M}),i.d(P,"l",function(){return D}),i.d(P,"j",function(){return C});var d=i("jg4I");i.d(P,"i",function(){return d.I}),i.d(P,"k",function(){return d.O}),i.d(P,"h",function(){return d.H}),i.d(P,"g",function(){return d.B}),i.d(P,"c",function(){return d.j}),i.d(P,"o",function(){return d.pb}),i.d(P,"m",function(){return d.cb}),i.d(P,"n",function(){return d.hb}),i.d(P,"a",function(){return d.d});function o(){return window?window.devicePixelRatio:1}function b(S,O,E,I){var A=S-E,R=O-I;return Math.sqrt(A*A+R*R)}function x(S,O,E,I,A,R){return A>=S&&A<=S+E&&R>=O&&R<=O+I}function M(S,O){return!(O.minX>S.maxX||O.maxX<S.minX||O.minY>S.maxY||O.maxY<S.minY)}function D(S,O){return!S||!O?S||O:{minX:Math.min(S.minX,O.minX),minY:Math.min(S.minY,O.minY),maxX:Math.max(S.maxX,O.maxX),maxY:Math.max(S.maxY,O.maxY)}}function C(S,O){return S[0]===O[0]&&S[1]===O[1]}},c2a8:function(wt,P,i){wt.exports={Graph:i("K0S0"),version:i("1RCG")}},c5gd:function(wt,P,i){"use strict";i.d(P,"b",function(){return O}),i.d(P,"a",function(){return E});var d=i("FlNX"),o=i.n(d),b=i("qJ52"),x=i.n(b),M=i("25gg"),D=i.n(M),C=i("99LQ"),S=i("xO9G"),O;(function(I){I[I.OUTSIDE=4294967295]="OUTSIDE",I[I.INSIDE=0]="INSIDE",I[I.INDETERMINATE=2147483647]="INDETERMINATE"})(O||(O={}));var E=function(){function I(A){if(x()(this,I),this.planes=[],A)this.planes=A;else for(var R=0;R<6;R++)this.planes.push(new S.a)}return D()(I,[{key:"extractFromVPMatrix",value:function(R){var B=o()(R,16),p=B[0],G=B[1],W=B[2],z=B[3],N=B[4],j=B[5],F=B[6],k=B[7],$=B[8],nt=B[9],st=B[10],rt=B[11],Q=B[12],Y=B[13],K=B[14],et=B[15];C.e.set(this.planes[0].normal,z-p,k-N,rt-$),this.planes[0].distance=-(et-Q),C.e.set(this.planes[1].normal,z+p,k+N,rt+$),this.planes[1].distance=-(et+Q),C.e.set(this.planes[2].normal,z+G,k+j,rt+nt),this.planes[2].distance=-(et+Y),C.e.set(this.planes[3].normal,z-G,k-j,rt-nt),this.planes[3].distance=-(et-Y),C.e.set(this.planes[4].normal,z-W,k-F,rt-st),this.planes[4].distance=-(et-K),C.e.set(this.planes[5].normal,z+W,k+F,rt+st),this.planes[5].distance=-(et+K),this.planes.forEach(function(ut){ut.normalize(),ut.updatePNVertexFlag()})}}]),I}()},cGgO:function(wt,P,i){var d=i("3sCP"),o=i("5MHJ"),b=i("TIpG"),x=i("BaLd"),M=i("KC/J"),D="[object Map]",C="[object Set]";function S(O){if(O==null)return 0;if(b(O))return x(O)?M(O):O.length;var E=o(O);return E==D||E==C?O.size:d(O).length}wt.exports=S},cKYJ:function(wt,P){},cR7P:function(wt,P,i){"use strict";i.d(P,"a",function(){return Xt});var d=i("J+IK"),o=i("jg4I"),b=i("Gc/9"),x=i("Cw9K"),M=i("piQC"),D=i("1MGC"),C=i("7k+G"),S;(function(gt){gt.Left="Left",gt.Right="Right"})(S||(S={}));var O;(function(gt){gt.Line="line",gt.Column="column"})(O||(O={}));var E="left-axes-view",I="right-axes-view",A={nice:!0,label:{autoHide:!0,autoRotate:!1}},R=Object(d.a)(Object(d.a)({},A),{position:"left"}),B=Object(d.a)(Object(d.a)({},A),{position:"right",grid:null});function p(gt){return Object(o.s)(gt,"geometry")===O.Line}function G(gt){return Object(o.s)(gt,"geometry")===O.Column}function W(gt,lt,ft){return G(ft)?Object(x.b)({},{geometry:O.Column,label:ft.label&&ft.isRange?{content:function(bt){var Dt;return(Dt=bt[lt])===null||Dt===void 0?void 0:Dt.join("-")}}:void 0},ft):Object(d.a)({geometry:O.Line},ft)}function z(gt,lt){var ft=gt[0],it=gt[1];if(Object(o.B)(lt)){var bt=lt[0],Dt=lt[1];return[bt,Dt]}var Mt=Object(o.s)(lt,ft),q=Object(o.s)(lt,it);return[Mt,q]}function N(gt,lt){return lt===S.Left?gt===!1?!1:Object(x.b)({},R,gt):lt===S.Right?gt===!1?!1:Object(x.b)({},B,gt):gt}var j=i("18og");function F(gt){var lt=gt.view,ft=gt.geometryOption,it=gt.yField,bt=gt.legend,Dt=Object(o.s)(bt,"marker"),Mt=Object(x.c)(lt,p(ft)?"line":"interval");if(!ft.seriesField){var q=Mt.getAttribute("color"),V=q.values[0],ot=Dt||(p(ft)?{symbol:function(Pt,Ft,Wt){return[["M",Pt-Wt,Ft],["L",Pt+Wt,Ft]]},style:{lineWidth:2,r:6,stroke:V}}:{symbol:"square",style:{fill:V}});return[{value:it,name:Object(o.s)(lt,"options.scales."+it+".alias")||it,marker:ot,isGeometry:!0,viewId:lt.id}]}var tt=Mt.getGroupAttributes();return Object(o.fb)(tt,function(yt,Pt){var Ft=j.Util.getLegendItems(lt,Mt,Pt,lt.getTheme(),Dt);return yt.concat(Ft)},[])}var k=i("AOO/");function $(gt){var lt=gt.options,ft=gt.chart,it=lt.geometryOption,bt=it.isStack,Dt=it.color,Mt=it.seriesField,q=it.groupField,V=it.isGroup,ot=["xField","yField"];if(p(it)){Object(k.d)(Object(x.b)({},gt,{options:Object(d.a)(Object(d.a)(Object(d.a)({},Object(x.q)(lt,ot)),it),{line:{color:it.color,style:it.lineStyle}})})),Object(k.e)(Object(x.b)({},gt,{options:Object(d.a)(Object(d.a)(Object(d.a)({},Object(x.q)(lt,ot)),it),{point:it.point&&Object(d.a)({color:Dt,shape:"circle"},it.point)})}));var tt=[];V&&tt.push({type:"dodge",dodgeBy:q||Mt,customOffset:0}),bt&&tt.push({type:"stack"}),tt.length&&Object(o.j)(ft.geometries,function(yt){yt.adjust(tt)})}return G(it)&&Object(k.c)(Object(x.b)({},gt,{options:Object(d.a)(Object(d.a)(Object(d.a)({},Object(x.q)(lt,ot)),it),{widthRatio:it.columnWidthRatio,interval:Object(d.a)(Object(d.a)({},Object(x.q)(it,["color"])),{style:it.columnStyle})})})),gt}var nt=function(lt,ft){var it=ft[0],bt=ft[1],Dt=lt.getOptions().data,Mt=lt.getXScale(),q=Object(o.jb)(Dt);if(!(!Mt||!q)){var V=!0,ot=Object(o.vb)(Dt,Mt.field),tt=V?ot:ot.reverse(),yt=Object(o.jb)(tt),Pt=Math.floor(it*(yt-1)),Ft=Math.floor(bt*(yt-1));lt.filter(Mt.field,function(Wt){var Vt=tt.indexOf(Wt);return Vt>-1?Object(x.l)(Vt,Pt,Ft):!0}),lt.render(!0)}};function st(gt){var lt,ft=gt.options,it=ft.geometryOptions,bt=it===void 0?[]:it,Dt=ft.xField,Mt=ft.yField,q=Object(o.k)(bt,function(V){var ot=V.geometry;return ot===O.Line||ot===void 0});return Object(x.b)({},{options:{geometryOptions:[],meta:(lt={},lt[Dt]={type:"cat",sync:!0,range:q?[0,1]:void 0},lt),tooltip:{showMarkers:q,showCrosshairs:q,shared:!0,crosshairs:{type:"x"}},interactions:q?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},gt,{options:{yAxis:z(Mt,ft.yAxis),geometryOptions:[W(Dt,Mt[0],bt[0]),W(Dt,Mt[1],bt[1])],annotations:z(Mt,ft.annotations)}})}function rt(gt){var lt=gt.chart,ft=gt.options,it=ft.xField,bt=ft.yField,Dt=ft.geometryOptions,Mt=ft.data,q=ft.tooltip,V={line:0,column:1},ot=[Object(d.a)(Object(d.a)({},Dt[0]),{id:E,data:Mt[0],yField:bt[0]}),Object(d.a)(Object(d.a)({},Dt[1]),{id:I,data:Mt[1],yField:bt[1]})];return ot.sort(function(tt,yt){return-V[tt.geometry]+V[yt.geometry]}).forEach(function(tt){var yt=tt.id,Pt=tt.data,Ft=tt.yField,Wt=G(tt)&&tt.isPercent,Vt=Wt?Object(D.b)(Pt,Ft,it,Ft):Pt,Lt=lt.createView({id:yt}).data(Vt),Ct=Wt?Object(d.a)({formatter:function(It){return{name:It[tt.seriesField]||Ft,value:(Number(It[Ft])*100).toFixed(2)+"%"}}},q):q;$({chart:Lt,options:{xField:it,yField:Ft,tooltip:Ct,geometryOption:tt}})}),gt}function Q(gt){var lt,ft=gt.chart,it=gt.options,bt=it.geometryOptions,Dt=((lt=ft.getTheme())===null||lt===void 0?void 0:lt.colors10)||[],Mt=0;return ft.once("beforepaint",function(){Object(o.j)(bt,function(q,V){var ot=Object(C.a)(ft,V===0?E:I);if(!q.color){var tt=ot.getGroupScales(),yt=Object(o.s)(tt,[0,"values","length"],1),Pt=Dt.slice(Mt,Mt+yt).concat(V===0?[]:Dt);ot.geometries.forEach(function(Ft){q.seriesField?Ft.color(q.seriesField,Pt):Ft.color(Pt[0])}),Mt+=yt}}),ft.render(!0)}),gt}function Y(gt){var lt,ft,it=gt.chart,bt=gt.options,Dt=bt.xAxis,Mt=bt.yAxis,q=bt.xField,V=bt.yField;return Object(M.f)((lt={},lt[q]=Dt,lt[V[0]]=Mt[0],lt))(Object(x.b)({},gt,{chart:Object(C.a)(it,E)})),Object(M.f)((ft={},ft[q]=Dt,ft[V[1]]=Mt[1],ft))(Object(x.b)({},gt,{chart:Object(C.a)(it,I)})),gt}function K(gt){var lt=gt.chart,ft=gt.options,it=Object(C.a)(lt,E),bt=Object(C.a)(lt,I),Dt=ft.xField,Mt=ft.yField,q=ft.xAxis,V=ft.yAxis;return lt.axis(Dt,!1),lt.axis(Mt[0],!1),lt.axis(Mt[1],!1),it.axis(Dt,q),it.axis(Mt[0],N(V[0],S.Left)),bt.axis(Dt,!1),bt.axis(Mt[1],N(V[1],S.Right)),gt}function et(gt){var lt=gt.chart,ft=gt.options,it=ft.tooltip,bt=Object(C.a)(lt,E),Dt=Object(C.a)(lt,I);return lt.tooltip(it),bt.tooltip({shared:!0}),Dt.tooltip({shared:!0}),gt}function ut(gt){var lt=gt.chart;return Object(M.c)(Object(x.b)({},gt,{chart:Object(C.a)(lt,E)})),Object(M.c)(Object(x.b)({},gt,{chart:Object(C.a)(lt,I)})),gt}function dt(gt){var lt=gt.chart,ft=gt.options,it=ft.annotations,bt=Object(o.s)(it,[0]),Dt=Object(o.s)(it,[1]);return Object(M.b)(bt)(Object(x.b)({},gt,{chart:Object(C.a)(lt,E),options:{annotations:bt}})),Object(M.b)(Dt)(Object(x.b)({},gt,{chart:Object(C.a)(lt,I),options:{annotations:Dt}})),gt}function vt(gt){var lt=gt.chart;return Object(M.j)(Object(x.b)({},gt,{chart:Object(C.a)(lt,E)})),Object(M.j)(Object(x.b)({},gt,{chart:Object(C.a)(lt,I)})),Object(M.j)(gt),gt}function at(gt){var lt=gt.chart;return Object(M.a)(Object(x.b)({},gt,{chart:Object(C.a)(lt,E)})),Object(M.a)(Object(x.b)({},gt,{chart:Object(C.a)(lt,I)})),gt}function pt(gt){var lt=gt.chart,ft=gt.options,it=ft.yAxis;return Object(M.e)(Object(x.b)({},gt,{chart:Object(C.a)(lt,E),options:{yAxis:it[0]}})),Object(M.e)(Object(x.b)({},gt,{chart:Object(C.a)(lt,I),options:{yAxis:it[1]}})),gt}function Tt(gt){var lt=gt.chart,ft=gt.options,it=ft.legend,bt=ft.geometryOptions,Dt=ft.yField,Mt=ft.data,q=Object(C.a)(lt,E),V=Object(C.a)(lt,I);return it===!1?lt.legend(!1):Object(o.M)(it)&&it.custom===!0?lt.legend(it):(lt.once("beforepaint",function(){var ot=Mt[0].length?F({view:q,geometryOption:bt[0],yField:Dt[0],legend:it}):[],tt=Mt[1].length?F({view:V,geometryOption:bt[1],yField:Dt[1],legend:it}):[];lt.legend(Object(x.b)({},it,{custom:!0,items:ot.concat(tt)}))}),lt.on("legend-item:click",function(ot){var tt=Object(o.s)(ot,"gEvent.delegateObject",{});if(tt&&tt.item){var yt=tt.item,Pt=yt.value,Ft=yt.isGeometry,Wt=yt.viewId;if(Ft){var Vt=Object(o.n)(Dt,function(_){return _===Pt});if(Vt>-1){var Lt=Object(o.s)(Object(C.a)(lt,Wt),"geometries");Object(o.j)(Lt,function(_){_.changeVisible(!tt.item.unchecked)})}}else{var Ct=Object(o.s)(lt.getController("legend"),"option.items",[]);Object(o.j)(lt.views,function(_){var It=_.getGroupScales();Object(o.j)(It,function(Rt){Rt.values&&Rt.values.indexOf(Pt)>-1&&_.filter(Rt.field,function(xt){var Nt=Object(o.m)(Ct,function(Ht){return Ht.value===xt});return!Nt.unchecked})}),lt.render(!0)})}}})),gt}function Gt(gt){var lt=gt.chart,ft=gt.options,it=ft.slider,bt=Object(C.a)(lt,E),Dt=Object(C.a)(lt,I);return it&&(bt.option("slider",it),bt.on("slider:valuechanged",function(Mt){var q=Mt.event,V=q.value,ot=q.originValue;Object(o.G)(V,ot)||nt(Dt,V)}),lt.once("afterpaint",function(){if(!Object(o.C)(it)){var Mt=it.start,q=it.end;(Mt||q)&&nt(Dt,[Mt,q])}})),gt}function Kt(gt){return Object(x.e)(st,rt,Y,K,pt,et,ut,dt,vt,at,Q,Tt,Gt)(gt)}var Xt=function(gt){Object(d.c)(lt,gt);function lt(){var ft=gt!==null&&gt.apply(this,arguments)||this;return ft.type="dual-axes",ft}return lt.prototype.getDefaultOptions=function(){return Object(x.b)({},gt.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},lt.prototype.getSchemaAdaptor=function(){return Kt},lt.prototype.setState=function(ft,it,bt){bt===void 0&&(bt=!0);var Dt=Object(x.g)(this.chart);Object(o.j)(Dt,function(Mt){it(Mt.getData())&&Mt.setState(ft,bt)})},lt.prototype.getStates=function(){var ft=Object(x.g)(this.chart),it=[];return Object(o.j)(ft,function(bt){var Dt=bt.getData(),Mt=bt.getStates();Object(o.j)(Mt,function(q){it.push({data:Dt,state:q,geometry:bt.geometry,element:bt})})}),it},lt}(b.b)},cvn4:function(wt,P){function i(d,o,b){switch(b.length){case 0:return d.call(o);case 1:return d.call(o,b[0]);case 2:return d.call(o,b[0],b[1]);case 3:return d.call(o,b[0],b[1],b[2])}return d.apply(o,b)}wt.exports=i},"d/dq":function(wt,P,i){"use strict";i.r(P),i.d(P,"create",function(){return o}),i.d(P,"clone",function(){return b}),i.d(P,"fromValues",function(){return x}),i.d(P,"copy",function(){return M}),i.d(P,"set",function(){return D}),i.d(P,"add",function(){return C}),i.d(P,"subtract",function(){return S}),i.d(P,"multiply",function(){return O}),i.d(P,"divide",function(){return E}),i.d(P,"ceil",function(){return I}),i.d(P,"floor",function(){return A}),i.d(P,"min",function(){return R}),i.d(P,"max",function(){return B}),i.d(P,"round",function(){return p}),i.d(P,"scale",function(){return G}),i.d(P,"scaleAndAdd",function(){return W}),i.d(P,"distance",function(){return z}),i.d(P,"squaredDistance",function(){return N}),i.d(P,"length",function(){return j}),i.d(P,"squaredLength",function(){return F}),i.d(P,"negate",function(){return k}),i.d(P,"inverse",function(){return $}),i.d(P,"normalize",function(){return nt}),i.d(P,"dot",function(){return st}),i.d(P,"cross",function(){return rt}),i.d(P,"lerp",function(){return Q}),i.d(P,"random",function(){return Y}),i.d(P,"transformMat2",function(){return K}),i.d(P,"transformMat2d",function(){return et}),i.d(P,"transformMat3",function(){return ut}),i.d(P,"transformMat4",function(){return dt}),i.d(P,"rotate",function(){return vt}),i.d(P,"angle",function(){return at}),i.d(P,"zero",function(){return pt}),i.d(P,"str",function(){return Tt}),i.d(P,"exactEquals",function(){return Gt}),i.d(P,"equals",function(){return Kt}),i.d(P,"len",function(){return Xt}),i.d(P,"sub",function(){return gt}),i.d(P,"mul",function(){return lt}),i.d(P,"div",function(){return ft}),i.d(P,"dist",function(){return it}),i.d(P,"sqrDist",function(){return bt}),i.d(P,"sqrLen",function(){return Dt}),i.d(P,"forEach",function(){return Mt});var d=i("TaHB");function o(){var q=new d.a(2);return d.a!=Float32Array&&(q[0]=0,q[1]=0),q}function b(q){var V=new d.a(2);return V[0]=q[0],V[1]=q[1],V}function x(q,V){var ot=new d.a(2);return ot[0]=q,ot[1]=V,ot}function M(q,V){return q[0]=V[0],q[1]=V[1],q}function D(q,V,ot){return q[0]=V,q[1]=ot,q}function C(q,V,ot){return q[0]=V[0]+ot[0],q[1]=V[1]+ot[1],q}function S(q,V,ot){return q[0]=V[0]-ot[0],q[1]=V[1]-ot[1],q}function O(q,V,ot){return q[0]=V[0]*ot[0],q[1]=V[1]*ot[1],q}function E(q,V,ot){return q[0]=V[0]/ot[0],q[1]=V[1]/ot[1],q}function I(q,V){return q[0]=Math.ceil(V[0]),q[1]=Math.ceil(V[1]),q}function A(q,V){return q[0]=Math.floor(V[0]),q[1]=Math.floor(V[1]),q}function R(q,V,ot){return q[0]=Math.min(V[0],ot[0]),q[1]=Math.min(V[1],ot[1]),q}function B(q,V,ot){return q[0]=Math.max(V[0],ot[0]),q[1]=Math.max(V[1],ot[1]),q}function p(q,V){return q[0]=Math.round(V[0]),q[1]=Math.round(V[1]),q}function G(q,V,ot){return q[0]=V[0]*ot,q[1]=V[1]*ot,q}function W(q,V,ot,tt){return q[0]=V[0]+ot[0]*tt,q[1]=V[1]+ot[1]*tt,q}function z(q,V){var ot=V[0]-q[0],tt=V[1]-q[1];return Math.hypot(ot,tt)}function N(q,V){var ot=V[0]-q[0],tt=V[1]-q[1];return ot*ot+tt*tt}function j(q){var V=q[0],ot=q[1];return Math.hypot(V,ot)}function F(q){var V=q[0],ot=q[1];return V*V+ot*ot}function k(q,V){return q[0]=-V[0],q[1]=-V[1],q}function $(q,V){return q[0]=1/V[0],q[1]=1/V[1],q}function nt(q,V){var ot=V[0],tt=V[1],yt=ot*ot+tt*tt;return yt>0&&(yt=1/Math.sqrt(yt)),q[0]=V[0]*yt,q[1]=V[1]*yt,q}function st(q,V){return q[0]*V[0]+q[1]*V[1]}function rt(q,V,ot){var tt=V[0]*ot[1]-V[1]*ot[0];return q[0]=q[1]=0,q[2]=tt,q}function Q(q,V,ot,tt){var yt=V[0],Pt=V[1];return q[0]=yt+tt*(ot[0]-yt),q[1]=Pt+tt*(ot[1]-Pt),q}function Y(q,V){V=V||1;var ot=d.c()*2*Math.PI;return q[0]=Math.cos(ot)*V,q[1]=Math.sin(ot)*V,q}function K(q,V,ot){var tt=V[0],yt=V[1];return q[0]=ot[0]*tt+ot[2]*yt,q[1]=ot[1]*tt+ot[3]*yt,q}function et(q,V,ot){var tt=V[0],yt=V[1];return q[0]=ot[0]*tt+ot[2]*yt+ot[4],q[1]=ot[1]*tt+ot[3]*yt+ot[5],q}function ut(q,V,ot){var tt=V[0],yt=V[1];return q[0]=ot[0]*tt+ot[3]*yt+ot[6],q[1]=ot[1]*tt+ot[4]*yt+ot[7],q}function dt(q,V,ot){var tt=V[0],yt=V[1];return q[0]=ot[0]*tt+ot[4]*yt+ot[12],q[1]=ot[1]*tt+ot[5]*yt+ot[13],q}function vt(q,V,ot,tt){var yt=V[0]-ot[0],Pt=V[1]-ot[1],Ft=Math.sin(tt),Wt=Math.cos(tt);return q[0]=yt*Wt-Pt*Ft+ot[0],q[1]=yt*Ft+Pt*Wt+ot[1],q}function at(q,V){var ot=q[0],tt=q[1],yt=V[0],Pt=V[1],Ft=Math.sqrt(ot*ot+tt*tt)*Math.sqrt(yt*yt+Pt*Pt),Wt=Ft&&(ot*yt+tt*Pt)/Ft;return Math.acos(Math.min(Math.max(Wt,-1),1))}function pt(q){return q[0]=0,q[1]=0,q}function Tt(q){return"vec2("+q[0]+", "+q[1]+")"}function Gt(q,V){return q[0]===V[0]&&q[1]===V[1]}function Kt(q,V){var ot=q[0],tt=q[1],yt=V[0],Pt=V[1];return Math.abs(ot-yt)<=d.b*Math.max(1,Math.abs(ot),Math.abs(yt))&&Math.abs(tt-Pt)<=d.b*Math.max(1,Math.abs(tt),Math.abs(Pt))}var Xt=j,gt=S,lt=O,ft=E,it=z,bt=N,Dt=F,Mt=function(){var q=o();return function(V,ot,tt,yt,Pt,Ft){var Wt,Vt;for(ot||(ot=2),tt||(tt=0),yt?Vt=Math.min(yt*ot+tt,V.length):Vt=V.length,Wt=tt;Wt<Vt;Wt+=ot)q[0]=V[Wt],q[1]=V[Wt+1],Pt(q,q,Ft),V[Wt]=q[0],V[Wt+1]=q[1];return V}}()},dAAy:function(wt,P,i){"use strict";i.d(P,"a",function(){return p});var d=0,o=0,b=0,x=1e3,M,D,C=0,S=0,O=0,E=typeof performance=="object"&&performance.now?performance:Date,I=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(F){setTimeout(F,17)};function A(){return S||(I(R),S=E.now()+O)}function R(){S=0}function B(){this._call=this._time=this._next=null}B.prototype=p.prototype={constructor:B,restart:function(k,$,nt){if(typeof k!="function")throw new TypeError("callback is not a function");nt=(nt==null?A():+nt)+($==null?0:+$),!this._next&&D!==this&&(D?D._next=this:M=this,D=this),this._call=k,this._time=nt,j()},stop:function(){this._call&&(this._call=null,this._time=Infinity,j())}};function p(F,k,$){var nt=new B;return nt.restart(F,k,$),nt}function G(){A(),++d;for(var F=M,k;F;)(k=S-F._time)>=0&&F._call.call(null,k),F=F._next;--d}function W(){S=(C=E.now())+O,d=o=0;try{G()}finally{d=0,N(),S=0}}function z(){var F=E.now(),k=F-C;k>x&&(O-=k,C=F)}function N(){for(var F,k=M,$,nt=Infinity;k;)k._call?(nt>k._time&&(nt=k._time),F=k,k=k._next):($=k._next,k._next=null,k=F?F._next=$:M=$);D=F,j(nt)}function j(F){if(!d){o&&(o=clearTimeout(o));var k=F-S;k>24?(F<Infinity&&(o=setTimeout(W,F-E.now()-O)),b&&(b=clearInterval(b))):(b||(C=E.now(),b=setInterval(z,x)),d=1,I(W))}}},dUXx:function(wt,P,i){"use strict";i.r(P),i.d(P,"Line",function(){return E}),i.d(P,"Circle",function(){return A}),i.d(P,"Base",function(){return S}),i.d(P,"Html",function(){return F});var d=i("J+IK"),o=i("L+OQ"),b=i("jg4I"),x=i("jFyH"),M=i("xdm5"),D=i("KwOt"),C=function(k){Object(d.c)($,k);function $(){return k!==null&&k.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=k.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},nt),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:D.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:D.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:D.a.fontFamily}},textBackground:{padding:5,style:{stroke:D.a.lineColor}}}})},$.prototype.renderInner=function(nt){this.get("line")&&this.renderLine(nt),this.get("text")&&(this.renderText(nt),this.renderBackground(nt))},$.prototype.renderText=function(nt){var st=this.get("text"),rt=st.style,Q=st.autoRotate,Y=st.content;if(!Object(b.I)(Y)){var K=this.getTextPoint(),et=null;if(Q){var ut=this.getRotateAngle();et=Object(M.e)(K,ut)}this.addShape(nt,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(d.a)(Object(d.a)(Object(d.a)({},K),{text:Y,matrix:et}),rt)})}},$.prototype.renderLine=function(nt){var st=this.getLinePath(),rt=this.get("line"),Q=rt.style;this.addShape(nt,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(d.a)({path:st},Q)})},$.prototype.renderBackground=function(nt){var st=this.getElementId("text"),rt=nt.findById(st),Q=this.get("textBackground");if(Q&&rt){var Y=rt.getBBox(),K=Object(o.c)(Q.padding),et=Q.style,ut=this.addShape(nt,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(d.a)({x:Y.x-K[3],y:Y.y-K[0],width:Y.width+K[1]+K[3],height:Y.height+K[0]+K[2],matrix:rt.attr("matrix")},et)});ut.toBack()}},$}(x.a),S=C,O=function(k){Object(d.c)($,k);function $(){return k!==null&&k.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=k.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},nt),{type:"line",locationType:"region",start:null,end:null})},$.prototype.getRotateAngle=function(){var nt=this.getLocation(),st=nt.start,rt=nt.end,Q=this.get("text").position,Y=Math.atan2(rt.y-st.y,rt.x-st.x),K=Q==="start"?Y-Math.PI/2:Y+Math.PI/2;return K},$.prototype.getTextPoint=function(){var nt=this.getLocation(),st=nt.start,rt=nt.end,Q=this.get("text"),Y=Q.position,K=Q.offset;return Object(o.f)(st,rt,Y,K)},$.prototype.getLinePath=function(){var nt=this.getLocation(),st=nt.start,rt=nt.end;return[["M",st.x,st.y],["L",rt.x,rt.y]]},$}(S),E=O,I=function(k){Object(d.c)($,k);function $(){return k!==null&&k.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=k.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},nt),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},$.prototype.getRotateAngle=function(){var nt=this.getLocation(),st=nt.startAngle,rt=nt.endAngle,Q=this.get("text").position,Y=Q==="start"?st+Math.PI/2:rt-Math.PI/2;return Y},$.prototype.getTextPoint=function(){var nt=this.get("text"),st=nt.position,rt=nt.offset,Q=this.getLocation(),Y=Q.center,K=Q.radius,et=Q.startAngle,ut=Q.endAngle,dt=st==="start"?et:ut,vt=this.getRotateAngle()-Math.PI,at=Object(o.e)(Y,K,dt),pt=Math.cos(vt)*rt,Tt=Math.sin(vt)*rt;return{x:at.x+pt,y:at.y+Tt}},$.prototype.getLinePath=function(){var nt=this.getLocation(),st=nt.center,rt=nt.radius,Q=nt.startAngle,Y=nt.endAngle,K=null;if(Y-Q==Math.PI*2){var et=st.x,ut=st.y;K=[["M",et,ut-rt],["A",rt,rt,0,1,1,et,ut+rt],["A",rt,rt,0,1,1,et,ut-rt],["Z"]]}else{var dt=Object(o.e)(st,rt,Q),vt=Object(o.e)(st,rt,Y),at=Math.abs(Y-Q)>Math.PI?1:0,pt=Q>Y?0:1;K=[["M",dt.x,dt.y],["A",rt,rt,0,at,pt,vt.x,vt.y]]}return K},$}(S),A=I,R=i("m8xh"),B=i("oDuu"),p="g2-crosshair",G=p+"-line",W=p+"-text",z,N=(z={},z[""+p]={position:"relative"},z[""+G]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},z[""+W]={position:"absolute",color:D.a.textColor,fontFamily:D.a.fontFamily},z),j=function(k){Object(d.c)($,k);function $(){return k!==null&&k.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var nt=k.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},nt),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+p+'"></div>',crosshairTpl:'<div class="'+G+'"></div>',textTpl:'<span class="'+W+'">{content}</span>',domStyles:null,containerClassName:p,defaultStyles:N,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},$.prototype.render=function(){this.resetText(),this.resetPosition()},$.prototype.initCrossHair=function(){var nt=this.getContainer(),st=this.get("crosshairTpl"),rt=Object(R.b)(st);nt.appendChild(rt),this.applyStyle(G,rt),this.set("crosshairEl",rt)},$.prototype.getTextPoint=function(){var nt=this.getLocation(),st=nt.start,rt=nt.end,Q=this.get("text"),Y=Q.position,K=Q.offset;return Object(o.f)(st,rt,Y,K)},$.prototype.resetText=function(){var nt=this.get("text"),st=this.get("textEl");if(nt){var rt=nt.content;if(!st){var Q=this.getContainer(),Y=Object(b.mb)(this.get("textTpl"),nt);st=Object(R.b)(Y),Q.appendChild(st),this.applyStyle(W,st),this.set("textEl",st)}st.innerHTML=rt}else st&&st.remove()},$.prototype.isVertical=function(nt,st){return nt.x===st.x},$.prototype.resetPosition=function(){var nt=this.get("crosshairEl");nt||(this.initCrossHair(),nt=this.get("crosshairEl"));var st=this.get("start"),rt=this.get("end"),Q=Math.min(st.x,rt.x),Y=Math.min(st.y,rt.y);this.isVertical(st,rt)?Object(R.e)(nt,{width:"1px",height:Object(o.l)(Math.abs(rt.y-st.y))}):Object(R.e)(nt,{height:"1px",width:Object(o.l)(Math.abs(rt.x-st.x))}),Object(R.e)(nt,{top:Object(o.l)(Y),left:Object(o.l)(Q)}),this.alignText()},$.prototype.alignText=function(){var nt=this.get("textEl");if(nt){var st=this.get("text").align,rt=nt.clientWidth,Q=this.getTextPoint();switch(st){case"center":Q.x=Q.x-rt/2;break;case"right":Q.x=Q.x-rt;case"left":break}Object(R.e)(nt,{top:Object(o.l)(Q.y),left:Object(o.l)(Q.x)})}},$.prototype.updateInner=function(nt){Object(b.x)(nt,"text")&&this.resetText(),k.prototype.updateInner.call(this,nt)},$}(B.a),F=j},devy:function(wt,P,i){"use strict";var d=i("XSdR");wt.exports=o;function o(M,D){var C={};d.forEach(M,function(O,E){var I=C[O.v]={indegree:0,in:[],out:[],vs:[O.v],i:E};d.isUndefined(O.barycenter)||(I.barycenter=O.barycenter,I.weight=O.weight)}),d.forEach(D.edges(),function(O){var E=C[O.v],I=C[O.w];!d.isUndefined(E)&&!d.isUndefined(I)&&(I.indegree++,E.out.push(C[O.w]))});var S=d.filter(C,function(O){return!O.indegree});return b(S)}function b(M){var D=[];function C(E){return function(I){I.merged||(d.isUndefined(I.barycenter)||d.isUndefined(E.barycenter)||I.barycenter>=E.barycenter)&&x(E,I)}}function S(E){return function(I){I.in.push(E),--I.indegree==0&&M.push(I)}}for(;M.length;){var O=M.pop();D.push(O),d.forEach(O.in.reverse(),C(O)),d.forEach(O.out,S(O))}return d.map(d.filter(D,function(E){return!E.merged}),function(E){return d.pick(E,["vs","i","barycenter","weight"])})}function x(M,D){var C=0,S=0;M.weight&&(C+=M.barycenter*M.weight,S+=M.weight),D.weight&&(C+=D.barycenter*D.weight,S+=D.weight),M.vs=D.vs.concat(M.vs),M.barycenter=C/S,M.weight=S,M.i=Math.min(D.i,M.i),D.merged=!0}},dhvM:function(wt,P,i){var d=i("WeNx"),o=i("MbSy"),b=i("qXgj");function x(M,D){return b(o(M,D,d),M+"")}wt.exports=x},dzzI:function(wt,P,i){var d=i("XSdR"),o=i("hppO");wt.exports=b;function b(M){function D(C){var S=M.children(C),O=M.node(C);if(S.length&&d.forEach(S,D),d.has(O,"minRank")){O.borderLeft=[],O.borderRight=[];for(var E=O.minRank,I=O.maxRank+1;E<I;++E)x(M,"borderLeft","_bl",C,O,E),x(M,"borderRight","_br",C,O,E)}}d.forEach(M.children(),D)}function x(M,D,C,S,O,E){var I={width:0,height:0,rank:E,borderType:D},A=O[D][E-1],R=o.addDummyNode(M,"border",I,C);O[D][E]=R,M.setParent(R,S),A&&M.setEdge(A,R,{weight:1})}},e5xd:function(wt,P,i){var d=i("DhYH"),o=i("ql+n");wt.exports=b;function b(x,M,D){return o.transform(x.nodes(),function(C,S){C[S]=d(x,S,M,D)},{})}},"eG+y":function(wt,P,i){"use strict";i.d(P,"a",function(){return S});var d=i("18og"),o=i("J+IK"),b=i("jg4I"),x=i("N8ZQ"),M=function(O){Object(o.c)(E,O);function E(){return O!==null&&O.apply(this,arguments)||this}return E.prototype.getActiveElements=function(){var I=d.Util.getDelegationObject(this.context);if(I){var A=this.context.view,R=I.component,B=I.item,p=R.get("field");if(p){var G=A.geometries[0].elements;return G.filter(function(W){return W.getModel().data[p]===B.value})}}return[]},E.prototype.getActiveElementLabels=function(){var I=this.context.view,A=this.getActiveElements(),R=I.geometries[0].labelsContainer.getChildren();return R.filter(function(B){return A.find(function(p){return Object(b.G)(p.getData(),B.get("data"))})})},E.prototype.transfrom=function(I){I===void 0&&(I=7.5);var A=this.getActiveElements(),R=this.getActiveElementLabels();A.forEach(function(B,p){var G=R[p],W=B.geometry.coordinate;if(W.isPolar&&W.isTransposed){var z=d.Util.getAngle(B.getModel(),W),N=z.startAngle,j=z.endAngle,F=(N+j)/2,k=I,$=k*Math.cos(F),nt=k*Math.sin(F);B.shape.setMatrix(Object(x.a)([["t",$,nt]])),G.setMatrix(Object(x.a)([["t",$,nt]]))}})},E.prototype.active=function(){this.transfrom()},E.prototype.reset=function(){this.transfrom(0)},E}(d.Action),D=i("t9lO"),C=function(O){Object(o.c)(E,O);function E(){return O!==null&&O.apply(this,arguments)||this}return E.prototype.getAnnotations=function(I){var A=I||this.context.view;return A.getController("annotation").option},E.prototype.getInitialAnnotation=function(){return this.initialAnnotation},E.prototype.init=function(){var I=this,A=this.context.view;A.removeInteraction("tooltip"),A.on("afterchangesize",function(){var R=I.getAnnotations(A);I.initialAnnotation=R})},E.prototype.change=function(I){var A=this.context,R=A.view,B=A.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var p=Object(b.s)(B,["data","data"]);if(B.type.match("legend-item")){var G=d.Util.getDelegationObject(this.context),W=R.getGroupedFields()[0];if(G&&W){var z=G.item;p=R.getData().find(function(F){return F[W]===z.value})}}if(p){var N=Object(b.s)(I,"annotations",[]),j=Object(b.s)(I,"statistic",{});R.getController("annotation").clear(!0),Object(b.j)(N,function(F){typeof F=="object"&&R.annotation()[F.type](F)}),Object(D.b)(R,{statistic:j,plotType:"pie"},p),R.render(!0)}},E.prototype.reset=function(){var I=this.context.view,A=I.getController("annotation");A.clear(!0);var R=this.getInitialAnnotation();Object(b.j)(R,function(B){I.annotation()[B.type](B)}),I.render(!0)},E}(d.Action),S="pie-statistic";Object(d.registerAction)(S,C),Object(d.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(d.registerAction)("pie-legend",M),Object(d.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},ebDh:function(wt,P){wt.exports=i;function i(d){var o=d[0],b=d[1];return o*o+b*b}},efFw:function(wt,P,i){(function(o,b){wt.exports=b()})(typeof self!="undefined"?self:this,function(){return function(d){var o={};function b(x){if(o[x])return o[x].exports;var M=o[x]={i:x,l:!1,exports:{}};return d[x].call(M.exports,M,M.exports,b),M.l=!0,M.exports}return b.m=d,b.c=o,b.d=function(x,M,D){b.o(x,M)||Object.defineProperty(x,M,{configurable:!1,enumerable:!0,get:D})},b.n=function(x){var M=x&&x.__esModule?function(){return x.default}:function(){return x};return b.d(M,"a",M),M},b.o=function(x,M){return Object.prototype.hasOwnProperty.call(x,M)},b.p="",b(b.s=31)}([function(d,o,b){"use strict";var x=b(4);o.a=function(M){return Array.isArray?Array.isArray(M):Object(x.a)(M,"Array")}},function(d,o,b){"use strict";var x=function(D){return D!==null&&typeof D!="function"&&isFinite(D.length)};o.a=x},function(d,o,b){"use strict";var x=b(0),M=b(13);function D(C,S){if(!!C){var O;if(Object(x.a)(C))for(var E=0,I=C.length;E<I&&(O=S(C[E],E),O!==!1);E++);else if(Object(M.a)(C)){for(var A in C)if(C.hasOwnProperty(A)&&(O=S(C[A],A),O===!1))break}}}o.a=D},function(d,o,b){"use strict";var x=b(4);o.a=function(M){return Object(x.a)(M,"Function")}},function(d,o,b){"use strict";var x={}.toString,M=function(C,S){return x.call(C)==="[object "+S+"]"};o.a=M},function(d,o,b){"use strict";var x=b(4),M=function(C){return Object(x.a)(C,"Number")};o.a=M},function(d,o,b){"use strict";var x=function(D){return D==null};o.a=x},function(d,o,b){var x=b(33),M=x.mix;d.exports={assign:M}},function(d,o,b){"use strict";var x=b(4);o.a=function(M){return Object(x.a)(M,"String")}},function(d,o,b){"use strict";var x=b(15),M=b(4),D=function(S){if(!Object(x.a)(S)||!Object(M.a)(S,"Object"))return!1;if(Object.getPrototypeOf(S)===null)return!0;for(var O=S;Object.getPrototypeOf(O)!==null;)O=Object.getPrototypeOf(O);return Object.getPrototypeOf(S)===O};o.a=D},function(d,o,b){"use strict";var x=b(6);o.a=function(M){return Object(x.a)(M)?"":M.toString()}},function(d,o,b){var x=b(18),M=function(){function D(S,O){O===void 0&&(O={});var E=this;E.options=O,E.rootNode=x(S,O)}var C=D.prototype;return C.execute=function(){throw new Error("please override this method")},D}();d.exports=M},function(d,o,b){"use strict";var x=b(1),M=function(C,S){return Object(x.a)(C)?C.indexOf(S)>-1:!1};o.a=M},function(d,o,b){"use strict";o.a=function(x){var M=typeof x;return x!==null&&M==="object"||M==="function"}},function(d,o,b){"use strict";var x=b(2),M=b(1),D=function(S,O){if(!Object(M.a)(S))return S;var E=[];return Object(x.a)(S,function(I,A){O(I,A)&&E.push(I)}),E};o.a=D},function(d,o,b){"use strict";var x=function(D){return typeof D=="object"&&D!==null};o.a=x},function(d,o,b){"use strict";o.a=M;function x(D,C){for(var S in C)C.hasOwnProperty(S)&&S!=="constructor"&&C[S]!==void 0&&(D[S]=C[S])}function M(D,C,S,O){return C&&x(D,C),S&&x(D,S),O&&x(D,O),D}},function(d,o,b){var x=b(30),M=["LR","RL","TB","BT","H","V"],D=["LR","RL","H"],C=function(E){return D.indexOf(E)>-1},S=M[0];d.exports=function(O,E,I){var A=E.direction||S;if(E.isHorizontal=C(A),A&&M.indexOf(A)===-1)throw new TypeError("Invalid direction: "+A);if(A===M[0])I(O,E);else if(A===M[1])I(O,E),O.right2left();else if(A===M[2])I(O,E);else if(A===M[3])I(O,E),O.bottom2top();else if(A===M[4]||A===M[5]){var R=x(O,E),B=R.left,p=R.right;I(B,E),I(p,E),E.isHorizontal?B.right2left():B.bottom2top(),p.translate(B.x-p.x,B.y-p.y),O.x=B.x,O.y=p.y;var G=O.getBoundingBox();E.isHorizontal?G.top<0&&O.translate(0,-G.top):G.left<0&&O.translate(-G.left,0)}var W=E.fixedRoot;return W===void 0&&(W=!0),W&&O.translate(-(O.x+O.width/2+O.hgap),-(O.y+O.height/2+O.vgap)),O}},function(d,o,b){var x=b(7),M=18,D=M*2,C=M,S={getId:function(A){return A.id||A.name},getPreH:function(A){return A.preH||0},getPreV:function(A){return A.preV||0},getHGap:function(A){return A.hgap||C},getVGap:function(A){return A.vgap||C},getChildren:function(A){return A.children},getHeight:function(A){return A.height||D},getWidth:function(A){var R=A.label||" ";return A.width||R.split("").length*M}};function O(I,A){var R=this;if(R.vgap=R.hgap=0,I instanceof O)return I;R.data=I;var B=A.getHGap(I),p=A.getVGap(I);return R.preH=A.getPreH(I),R.preV=A.getPreV(I),R.width=A.getWidth(I),R.height=A.getHeight(I),R.width+=R.preH,R.height+=R.preV,R.id=A.getId(I),R.x=R.y=0,R.depth=0,R.children||(R.children=[]),R.addGap(B,p),R}x.assign(O.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(A,R){var B=this;B.hgap+=A,B.vgap+=R,B.width+=2*A,B.height+=2*R},eachNode:function(A){for(var R=this,B=[R],p;p=B.shift();)A(p),B=p.children.concat(B)},DFTraverse:function(A){this.eachNode(A)},BFTraverse:function(A){for(var R=this,B=[R],p;p=B.shift();)A(p),B=B.concat(p.children)},getBoundingBox:function(){var A={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(R){A.left=Math.min(A.left,R.x),A.top=Math.min(A.top,R.y),A.width=Math.max(A.width,R.x+R.width),A.height=Math.max(A.height,R.y+R.height)}),A},translate:function(A,R){A===void 0&&(A=0),R===void 0&&(R=0),this.eachNode(function(B){B.x+=A,B.y+=R,B.x+=B.preH,B.y+=B.preV})},right2left:function(){var A=this,R=A.getBoundingBox();A.eachNode(function(B){B.x=B.x-(B.x-R.left)*2-B.width}),A.translate(R.width,0)},bottom2top:function(){var A=this,R=A.getBoundingBox();A.eachNode(function(B){B.y=B.y-(B.y-R.top)*2-B.height}),A.translate(0,R.height)}});function E(I,A,R){A===void 0&&(A={}),A=x.assign({},S,A);var B=new O(I,A),p=[B],G;if(!R&&!I.collapsed){for(;G=p.shift();)if(!G.data.collapsed){var W=A.getChildren(G.data),z=W?W.length:0;if(G.children=new Array(z),W&&z)for(var N=0;N<z;N++){var j=new O(W[N],A);G.children[N]=j,p.push(j),j.parent=G,j.depth=G.depth+1}}}return B}d.exports=E},function(d,o,b){"use strict";var x=b(6),M=b(20);function D(C,S){var O=Object(M.a)(S),E=O.length;if(Object(x.a)(C))return!E;for(var I=0;I<E;I+=1){var A=O[I];if(S[A]!==C[A]||!(A in C))return!1}return!0}o.a=D},function(d,o,b){"use strict";var x=b(2),M=b(3),D=Object.keys?function(C){return Object.keys(C)}:function(C){var S=[];return Object(x.a)(C,function(O,E){Object(M.a)(C)&&E==="prototype"||S.push(E)}),S};o.a=D},function(d,o,b){"use strict";var x=b(1),M=Array.prototype.splice,D=function(S,O){if(!Object(x.a)(S))return[];for(var E=S?O.length:0,I=E-1;E--;){var A=void 0,R=O[E];(E===I||R!==A)&&(A=R,M.call(S,R,1))}return S};o.a=D},function(d,o,b){"use strict";var x=b(12),M=b(2),D=function(S){var O=[];return Object(M.a)(S,function(E){Object(x.a)(O,E)||O.push(E)}),O};o.a=D},function(d,o,b){"use strict";var x=b(0),M=b(3),D=b(24),C=function(O,E){if(!E)return{0:O};if(!Object(M.a)(E)){var I=Object(x.a)(E)?E:E.replace(/\s+/g,"").split("*");E=function(B){for(var p="_",G=0,W=I.length;G<W;G++)p+=B[I[G]]&&B[I[G]].toString();return p}}var A=Object(D.a)(O,E);return A};o.a=C},function(d,o,b){"use strict";var x=b(2),M=b(0),D=b(3),C=Object.prototype.hasOwnProperty;function S(O,E){if(!E||!Object(M.a)(O))return{};var I={},A=Object(D.a)(E)?E:function(B){return B[E]},R;return Object(x.a)(O,function(B){R=A(B),C.call(I,R)?I[R].push(B):I[R]=[B]}),I}o.a=S},function(d,o,b){"use strict";o.a=function(x,M){return x.hasOwnProperty(M)}},function(d,o,b){"use strict";var x=b(2),M=b(3),D=Object.values?function(C){return Object.values(C)}:function(C){var S=[];return Object(x.a)(C,function(O,E){Object(M.a)(C)&&E==="prototype"||S.push(O)}),S};o.a=D},function(d,o,b){"use strict";var x={}.toString,M=function(C){return x.call(C).replace(/^\[object /,"").replace(/]$/,"")};o.a=M},function(d,o,b){"use strict";var x=Object.prototype,M=function(C){var S=C&&C.constructor,O=typeof S=="function"&&S.prototype||x;return C===O};o.a=M},function(d,o,b){"use strict";var x=b(15),M=b(1),D=b(8),C=function S(O,E){if(O===E)return!0;if(!O||!E||Object(D.a)(O)||Object(D.a)(E))return!1;if(Object(M.a)(O)||Object(M.a)(E)){if(O.length!==E.length)return!1;for(var I=!0,A=0;A<O.length&&(I=S(O[A],E[A]),!!I);A++);return I}if(Object(x.a)(O)||Object(x.a)(E)){var R=Object.keys(O),B=Object.keys(E);if(R.length!==B.length)return!1;for(var I=!0,A=0;A<R.length&&(I=S(O[R[A]],E[R[A]]),!!I);A++);return I}return!1};o.a=C},function(d,o,b){var x=b(18);d.exports=function(M,D){for(var C=x(M.data,D,!0),S=x(M.data,D,!0),O=M.children.length,E=Math.round(O/2),I=D.getSide||function(p,G){return G<E?"right":"left"},A=0;A<O;A++){var R=M.children[A],B=I(R,A);B==="right"?S.children.push(R):C.children.push(R)}return C.eachNode(function(p){p.isRoot()||(p.side="left")}),S.eachNode(function(p){p.isRoot()||(p.side="right")}),{left:C,right:S}}},function(d,o,b){var x={compactBox:b(32),dendrogram:b(114),indented:b(116),mindmap:b(118)};d.exports=x},function(d,o,b){function x(A,R){A.prototype=Object.create(R.prototype),A.prototype.constructor=A,A.__proto__=R}var M=b(11),D=b(113),C=b(17),S=b(7),O=function(A){x(R,A);function R(){return A.apply(this,arguments)||this}var B=R.prototype;return B.execute=function(){var G=this;return C(G.rootNode,G.options,D)},R}(M),E={};function I(A,R){return R=S.assign({},E,R),new O(A,R).execute()}d.exports=I},function(d,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var x=b(12);b.d(o,"contains",function(){return x.a}),b.d(o,"includes",function(){return x.a});var M=b(34);b.d(o,"difference",function(){return M.a});var D=b(35);b.d(o,"find",function(){return D.a});var C=b(36);b.d(o,"findIndex",function(){return C.a});var S=b(37);b.d(o,"firstValue",function(){return S.a});var O=b(38);b.d(o,"flatten",function(){return O.a});var E=b(39);b.d(o,"flattenDeep",function(){return E.a});var I=b(40);b.d(o,"getRange",function(){return I.a});var A=b(41);b.d(o,"pull",function(){return A.a});var R=b(21);b.d(o,"pullAt",function(){return R.a});var B=b(42);b.d(o,"reduce",function(){return B.a});var p=b(43);b.d(o,"remove",function(){return p.a});var G=b(44);b.d(o,"sortBy",function(){return G.a});var W=b(45);b.d(o,"union",function(){return W.a});var z=b(22);b.d(o,"uniq",function(){return z.a});var N=b(46);b.d(o,"valuesOfKey",function(){return N.a});var j=b(47);b.d(o,"head",function(){return j.a});var F=b(48);b.d(o,"last",function(){return F.a});var k=b(49);b.d(o,"startsWith",function(){return k.a});var $=b(50);b.d(o,"endsWith",function(){return $.a});var nt=b(14);b.d(o,"filter",function(){return nt.a});var st=b(51);b.d(o,"every",function(){return st.a});var rt=b(52);b.d(o,"some",function(){return rt.a});var Q=b(53);b.d(o,"group",function(){return Q.a});var Y=b(24);b.d(o,"groupBy",function(){return Y.a});var K=b(23);b.d(o,"groupToMap",function(){return K.a});var et=b(54);b.d(o,"getWrapBehavior",function(){return et.a});var ut=b(55);b.d(o,"wrapBehavior",function(){return ut.a});var dt=b(56);b.d(o,"number2color",function(){return dt.a});var vt=b(57);b.d(o,"parseRadius",function(){return vt.a});var at=b(58);b.d(o,"clamp",function(){return at.a});var pt=b(59);b.d(o,"fixedBase",function(){return pt.a});var Tt=b(60);b.d(o,"isDecimal",function(){return Tt.a});var Gt=b(61);b.d(o,"isEven",function(){return Gt.a});var Kt=b(62);b.d(o,"isInteger",function(){return Kt.a});var Xt=b(63);b.d(o,"isNegative",function(){return Xt.a});var gt=b(64);b.d(o,"isNumberEqual",function(){return gt.a});var lt=b(65);b.d(o,"isOdd",function(){return lt.a});var ft=b(66);b.d(o,"isPositive",function(){return ft.a});var it=b(67);b.d(o,"maxBy",function(){return it.a});var bt=b(68);b.d(o,"minBy",function(){return bt.a});var Dt=b(69);b.d(o,"mod",function(){return Dt.a});var Mt=b(70);b.d(o,"toDegree",function(){return Mt.a});var q=b(71);b.d(o,"toInteger",function(){return q.a});var V=b(72);b.d(o,"toRadian",function(){return V.a});var ot=b(73);b.d(o,"forIn",function(){return ot.a});var tt=b(25);b.d(o,"has",function(){return tt.a});var yt=b(74);b.d(o,"hasKey",function(){return yt.a});var Pt=b(75);b.d(o,"hasValue",function(){return Pt.a});var Ft=b(20);b.d(o,"keys",function(){return Ft.a});var Wt=b(19);b.d(o,"isMatch",function(){return Wt.a});var Vt=b(26);b.d(o,"values",function(){return Vt.a});var Lt=b(76);b.d(o,"lowerCase",function(){return Lt.a});var Ct=b(77);b.d(o,"lowerFirst",function(){return Ct.a});var _=b(78);b.d(o,"substitute",function(){return _.a});var It=b(79);b.d(o,"upperCase",function(){return It.a});var Rt=b(80);b.d(o,"upperFirst",function(){return Rt.a});var xt=b(27);b.d(o,"getType",function(){return xt.a});var Nt=b(81);b.d(o,"isArguments",function(){return Nt.a});var Ht=b(0);b.d(o,"isArray",function(){return Ht.a});var jt=b(1);b.d(o,"isArrayLike",function(){return jt.a});var Ut=b(82);b.d(o,"isBoolean",function(){return Ut.a});var Jt=b(83);b.d(o,"isDate",function(){return Jt.a});var se=b(84);b.d(o,"isError",function(){return se.a});var me=b(3);b.d(o,"isFunction",function(){return me.a});var Me=b(85);b.d(o,"isFinite",function(){return Me.a});var Pe=b(6);b.d(o,"isNil",function(){return Pe.a});var Ge=b(86);b.d(o,"isNull",function(){return Ge.a});var nr=b(5);b.d(o,"isNumber",function(){return nr.a});var gr=b(13);b.d(o,"isObject",function(){return gr.a});var or=b(15);b.d(o,"isObjectLike",function(){return or.a});var Ze=b(9);b.d(o,"isPlainObject",function(){return Ze.a});var mr=b(28);b.d(o,"isPrototype",function(){return mr.a});var Nr=b(87);b.d(o,"isRegExp",function(){return Nr.a});var Mr=b(8);b.d(o,"isString",function(){return Mr.a});var vn=b(4);b.d(o,"isType",function(){return vn.a});var Ln=b(88);b.d(o,"isUndefined",function(){return Ln.a});var We=b(89);b.d(o,"isElement",function(){return We.a});var Ye=b(90);b.d(o,"requestAnimationFrame",function(){return Ye.a});var Gr=b(91);b.d(o,"clearAnimationFrame",function(){return Gr.a});var Jr=b(92);b.d(o,"augment",function(){return Jr.a});var _r=b(93);b.d(o,"clone",function(){return _r.a});var bn=b(94);b.d(o,"debounce",function(){return bn.a});var ta=b(95);b.d(o,"memoize",function(){return ta.a});var aa=b(96);b.d(o,"deepMix",function(){return aa.a});var wn=b(2);b.d(o,"each",function(){return wn.a});var ea=b(97);b.d(o,"extend",function(){return ea.a});var Aa=b(98);b.d(o,"indexOf",function(){return Aa.a});var Fa=b(99);b.d(o,"isEmpty",function(){return Fa.a});var Yn=b(29);b.d(o,"isEqual",function(){return Yn.a});var Ti=b(100);b.d(o,"isEqualWith",function(){return Ti.a});var Gi=b(101);b.d(o,"map",function(){return Gi.a});var Qi=b(102);b.d(o,"mapValues",function(){return Qi.a});var Xi=b(16);b.d(o,"mix",function(){return Xi.a}),b.d(o,"assign",function(){return Xi.a});var Ii=b(103);b.d(o,"get",function(){return Ii.a});var ao=b(104);b.d(o,"set",function(){return ao.a});var Go=b(105);b.d(o,"pick",function(){return Go.a});var Po=b(106);b.d(o,"throttle",function(){return Po.a});var io=b(107);b.d(o,"toArray",function(){return io.a});var Hi=b(10);b.d(o,"toString",function(){return Hi.a});var po=b(108);b.d(o,"uniqueId",function(){return po.a});var So=b(109);b.d(o,"noop",function(){return So.a});var Zo=b(110);b.d(o,"identity",function(){return Zo.a});var $o=b(111);b.d(o,"size",function(){return $o.a});var wi=b(112);b.d(o,"Cache",function(){return wi.a})},function(d,o,b){"use strict";var x=b(14),M=b(12),D=function(S,O){return O===void 0&&(O=[]),Object(x.a)(S,function(E){return!Object(M.a)(O,E)})};o.a=D},function(d,o,b){"use strict";var x=b(3),M=b(19),D=b(0),C=b(9);function S(O,E){if(!Object(D.a)(O))return null;var I;if(Object(x.a)(E)&&(I=E),Object(C.a)(E)&&(I=function(B){return Object(M.a)(B,E)}),I){for(var A=0;A<O.length;A+=1)if(I(O[A]))return O[A]}return null}o.a=S},function(d,o,b){"use strict";function x(M,D,C){C===void 0&&(C=0);for(var S=C;S<M.length;S++)if(D(M[S],S))return S;return-1}o.a=x},function(d,o,b){"use strict";var x=b(6),M=b(0),D=function(S,O){for(var E=null,I=0;I<S.length;I++){var A=S[I],R=A[O];if(!Object(x.a)(R)){Object(M.a)(R)?E=R[0]:E=R;break}}return E};o.a=D},function(d,o,b){"use strict";var x=b(0),M=function(C){if(!Object(x.a)(C))return[];for(var S=[],O=0;O<C.length;O++)S=S.concat(C[O]);return S};o.a=M},function(d,o,b){"use strict";var x=b(0),M=function D(C,S){if(S===void 0&&(S=[]),!Object(x.a)(C))S.push(C);else for(var O=0;O<C.length;O+=1)D(C[O],S);return S};o.a=M},function(d,o,b){"use strict";var x=b(0),M=b(14),D=function(S){if(S=Object(M.a)(S,function(R){return!isNaN(R)}),!S.length)return{min:0,max:0};if(Object(x.a)(S[0])){for(var O=[],E=0;E<S.length;E++)O=O.concat(S[E]);S=O}var I=Math.max.apply(null,S),A=Math.min.apply(null,S);return{min:A,max:I}};o.a=D},function(d,o,b){"use strict";var x=Array.prototype,M=x.splice,D=x.indexOf,C=function(O){for(var E=[],I=1;I<arguments.length;I++)E[I-1]=arguments[I];for(var A=0;A<E.length;A++)for(var R=E[A],B=-1;(B=D.call(O,R))>-1;)M.call(O,B,1);return O};o.a=C},function(d,o,b){"use strict";var x=b(2),M=b(0),D=b(9),C=function(O,E,I){if(!Object(M.a)(O)&&!Object(D.a)(O))return O;var A=I;return Object(x.a)(O,function(R,B){A=E(A,R,B)}),A};o.a=C},function(d,o,b){"use strict";var x=b(1),M=b(21),D=function(S,O){var E=[];if(!Object(x.a)(S))return E;for(var I=-1,A=[],R=S.length;++I<R;){var B=S[I];O(B,I,S)&&(E.push(B),A.push(I))}return Object(M.a)(S,A),E};o.a=D},function(d,o,b){"use strict";var x=b(0),M=b(8),D=b(3);function C(S,O){var E;if(Object(D.a)(O))E=function(R,B){return O(R)-O(B)};else{var I=[];Object(M.a)(O)?I.push(O):Object(x.a)(O)&&(I=O),E=function(R,B){for(var p=0;p<I.length;p+=1){var G=I[p];if(R[G]>B[G])return 1;if(R[G]<B[G])return-1}return 0}}return S.sort(E),S}o.a=C},function(d,o,b){"use strict";var x=b(22),M=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];return Object(x.a)([].concat.apply([],C))};o.a=M},function(d,o,b){"use strict";var x=b(2),M=b(0),D=b(6);o.a=function(C,S){var O=[],E={};return C.forEach(function(I){var A=I[S];Object(D.a)(A)||(Object(M.a)(A)||(A=[A]),Object(x.a)(A,function(R){E[R]||(O.push(R),E[R]=!0)}))}),O}},function(d,o,b){"use strict";o.a=M;var x=b(1);function M(D){if(Object(x.a)(D))return D[0]}},function(d,o,b){"use strict";o.a=M;var x=b(1);function M(D){if(Object(x.a)(D)){var C=D;return C[C.length-1]}}},function(d,o,b){"use strict";var x=b(0),M=b(8);function D(C,S){return Object(x.a)(C)||Object(M.a)(C)?C[0]===S:!1}o.a=D},function(d,o,b){"use strict";var x=b(0),M=b(8);function D(C,S){return Object(x.a)(C)||Object(M.a)(C)?C[C.length-1]===S:!1}o.a=D},function(d,o,b){"use strict";var x=function(D,C){for(var S=0;S<D.length;S++)if(!C(D[S],S))return!1;return!0};o.a=x},function(d,o,b){"use strict";var x=function(D,C){for(var S=0;S<D.length;S++)if(C(D[S],S))return!0;return!1};o.a=x},function(d,o,b){"use strict";var x=b(23);o.a=function(M,D){if(!D)return[M];var C=Object(x.a)(M,D),S=[];for(var O in C)S.push(C[O]);return S}},function(d,o,b){"use strict";function x(M,D){return M["_wrap_"+D]}o.a=x},function(d,o,b){"use strict";function x(M,D){if(M["_wrap_"+D])return M["_wrap_"+D];var C=function(O){M[D](O)};return M["_wrap_"+D]=C,C}o.a=x},function(d,o,b){"use strict";var x={};function M(D){var C=x[D];if(!C){for(var S=D.toString(16),O=S.length;O<6;O++)S="0"+S;C="#"+S,x[D]=C}return C}o.a=M},function(d,o,b){"use strict";var x=b(0);function M(D){var C=0,S=0,O=0,E=0;return Object(x.a)(D)?D.length===1?C=S=O=E=D[0]:D.length===2?(C=O=D[0],S=E=D[1]):D.length===3?(C=D[0],S=E=D[1],O=D[2]):(C=D[0],S=D[1],O=D[2],E=D[3]):C=S=O=E=D,{r1:C,r2:S,r3:O,r4:E}}o.a=M},function(d,o,b){"use strict";var x=function(D,C,S){return D<C?C:D>S?S:D};o.a=x},function(d,o,b){"use strict";var x=function(D,C){var S=C.toString(),O=S.indexOf(".");if(O===-1)return Math.round(D);var E=S.substr(O+1).length;return E>20&&(E=20),parseFloat(D.toFixed(E))};o.a=x},function(d,o,b){"use strict";var x=b(5),M=function(C){return Object(x.a)(C)&&C%1!=0};o.a=M},function(d,o,b){"use strict";var x=b(5),M=function(C){return Object(x.a)(C)&&C%2==0};o.a=M},function(d,o,b){"use strict";var x=b(5),M=Number.isInteger?Number.isInteger:function(D){return Object(x.a)(D)&&D%1==0};o.a=M},function(d,o,b){"use strict";var x=b(5),M=function(C){return Object(x.a)(C)&&C<0};o.a=M},function(d,o,b){"use strict";o.a=M;var x=1e-5;function M(D,C,S){return S===void 0&&(S=x),Math.abs(D-C)<S}},function(d,o,b){"use strict";var x=b(5),M=function(C){return Object(x.a)(C)&&C%2!=0};o.a=M},function(d,o,b){"use strict";var x=b(5),M=function(C){return Object(x.a)(C)&&C>0};o.a=M},function(d,o,b){"use strict";var x=b(2),M=b(0),D=b(3);o.a=function(C,S){if(!!Object(M.a)(C)){var O=C[0],E;Object(D.a)(S)?E=S(C[0]):E=C[0][S];var I;return Object(x.a)(C,function(A){Object(D.a)(S)?I=S(A):I=A[S],I>E&&(O=A,E=I)}),O}}},function(d,o,b){"use strict";var x=b(2),M=b(0),D=b(3);o.a=function(C,S){if(!!Object(M.a)(C)){var O=C[0],E;Object(D.a)(S)?E=S(C[0]):E=C[0][S];var I;return Object(x.a)(C,function(A){Object(D.a)(S)?I=S(A):I=A[S],I<E&&(O=A,E=I)}),O}}},function(d,o,b){"use strict";var x=function(D,C){return(D%C+C)%C};o.a=x},function(d,o,b){"use strict";var x=180/Math.PI,M=function(C){return x*C};o.a=M},function(d,o,b){"use strict";o.a=parseInt},function(d,o,b){"use strict";var x=Math.PI/180,M=function(C){return x*C};o.a=M},function(d,o,b){"use strict";var x=b(2);o.a=x.a},function(d,o,b){"use strict";var x=b(25);o.a=x.a},function(d,o,b){"use strict";var x=b(12),M=b(26);o.a=function(D,C){return Object(x.a)(Object(M.a)(D),C)}},function(d,o,b){"use strict";var x=b(10),M=function(C){return Object(x.a)(C).toLowerCase()};o.a=M},function(d,o,b){"use strict";var x=b(10),M=function(C){var S=Object(x.a)(C);return S.charAt(0).toLowerCase()+S.substring(1)};o.a=M},function(d,o,b){"use strict";function x(M,D){return!M||!D?M:M.replace(/\\?\{([^{}]+)\}/g,function(C,S){return C.charAt(0)==="\\"?C.slice(1):D[S]===void 0?"":D[S]})}o.a=x},function(d,o,b){"use strict";var x=b(10),M=function(C){return Object(x.a)(C).toUpperCase()};o.a=M},function(d,o,b){"use strict";var x=b(10),M=function(C){var S=Object(x.a)(C);return S.charAt(0).toUpperCase()+S.substring(1)};o.a=M},function(d,o,b){"use strict";var x=b(4),M=function(C){return Object(x.a)(C,"Arguments")};o.a=M},function(d,o,b){"use strict";var x=b(4),M=function(C){return Object(x.a)(C,"Boolean")};o.a=M},function(d,o,b){"use strict";var x=b(4),M=function(C){return Object(x.a)(C,"Date")};o.a=M},function(d,o,b){"use strict";var x=b(4),M=function(C){return Object(x.a)(C,"Error")};o.a=M},function(d,o,b){"use strict";var x=b(5);o.a=function(M){return Object(x.a)(M)&&isFinite(M)}},function(d,o,b){"use strict";var x=function(D){return D===null};o.a=x},function(d,o,b){"use strict";var x=b(4),M=function(C){return Object(x.a)(C,"RegExp")};o.a=M},function(d,o,b){"use strict";var x=function(D){return D===void 0};o.a=x},function(d,o,b){"use strict";var x=function(D){return D instanceof Element||D instanceof HTMLDocument};o.a=x},function(d,o,b){"use strict";o.a=x;function x(M){var D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(C){return setTimeout(C,16)};return D(M)}},function(d,o,b){"use strict";o.a=x;function x(M){var D=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;D(M)}},function(d,o,b){"use strict";var x=b(16),M=b(3),D=function(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];for(var E=S[0],I=1;I<S.length;I++){var A=S[I];Object(M.a)(A)&&(A=A.prototype),Object(x.a)(E.prototype,A)}};o.a=D},function(d,o,b){"use strict";var x=b(0),M=function D(C){if(typeof C!="object"||C===null)return C;var S;if(Object(x.a)(C)){S=[];for(var O=0,E=C.length;O<E;O++)typeof C[O]=="object"&&C[O]!=null?S[O]=D(C[O]):S[O]=C[O]}else{S={};for(var I in C)typeof C[I]=="object"&&C[I]!=null?S[I]=D(C[I]):S[I]=C[I]}return S};o.a=M},function(d,o,b){"use strict";function x(M,D,C){var S;return function(){var O=this,E=arguments,I=function(){S=null,C||M.apply(O,E)},A=C&&!S;clearTimeout(S),S=setTimeout(I,D),A&&M.apply(O,E)}}o.a=x},function(d,o,b){"use strict";var x=b(3);o.a=function(M,D){if(!Object(x.a)(M))throw new TypeError("Expected a function");var C=function S(){for(var O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];var I=D?D.apply(this,O):O[0],A=S.cache;if(A.has(I))return A.get(I);var R=M.apply(this,O);return A.set(I,R),R};return C.cache=new Map,C}},function(d,o,b){"use strict";var x=b(0),M=b(9),D=5;function C(O,E,I,A){I=I||0,A=A||D;for(var R in E)if(E.hasOwnProperty(R)){var B=E[R];B!==null&&Object(M.a)(B)?(Object(M.a)(O[R])||(O[R]={}),I<A?C(O[R],B,I+1,A):O[R]=E[R]):Object(x.a)(B)?(O[R]=[],O[R]=O[R].concat(B)):B!==void 0&&(O[R]=B)}}var S=function(E){for(var I=[],A=1;A<arguments.length;A++)I[A-1]=arguments[A];for(var R=0;R<I.length;R+=1)C(E,I[R]);return E};o.a=S},function(d,o,b){"use strict";var x=b(16),M=b(3),D=function(S,O,E,I){Object(M.a)(O)||(E=O,O=S,S=function(){});var A=Object.create?function(B,p){return Object.create(B,{constructor:{value:p}})}:function(B,p){function G(){}G.prototype=B;var W=new G;return W.constructor=p,W},R=A(O.prototype,S);return S.prototype=Object(x.a)(R,S.prototype),S.superclass=A(O.prototype,O),Object(x.a)(R,E),Object(x.a)(S,I),S};o.a=D},function(d,o,b){"use strict";var x=b(1),M=function(C,S){if(!Object(x.a)(C))return-1;var O=Array.prototype.indexOf;if(O)return O.call(C,S);for(var E=-1,I=0;I<C.length;I++)if(C[I]===S){E=I;break}return E};o.a=M},function(d,o,b){"use strict";var x=b(6),M=b(1),D=b(27),C=b(28),S=Object.prototype.hasOwnProperty;function O(E){if(Object(x.a)(E))return!0;if(Object(M.a)(E))return!E.length;var I=Object(D.a)(E);if(I==="Map"||I==="Set")return!E.size;if(Object(C.a)(E))return!Object.keys(E).length;for(var A in E)if(S.call(E,A))return!1;return!0}o.a=O},function(d,o,b){"use strict";var x=b(3),M=b(29);o.a=function(D,C,S){return Object(x.a)(S)?!!S(D,C):Object(M.a)(D,C)}},function(d,o,b){"use strict";var x=b(2),M=b(1),D=function(S,O){if(!Object(M.a)(S))return S;var E=[];return Object(x.a)(S,function(I,A){E.push(O(I,A))}),E};o.a=D},function(d,o,b){"use strict";var x=b(6),M=b(13),D=function(S){return S};o.a=function(C,S){S===void 0&&(S=D);var O={};return Object(M.a)(C)&&!Object(x.a)(C)&&Object.keys(C).forEach(function(E){O[E]=S(C[E],E)}),O}},function(d,o,b){"use strict";var x=b(8);o.a=function(M,D,C){for(var S=0,O=Object(x.a)(D)?D.split("."):D;M&&S<O.length;)M=M[O[S++]];return M===void 0||S<O.length?C:M}},function(d,o,b){"use strict";var x=b(13),M=b(8),D=b(5);o.a=function(C,S,O){var E=C,I=Object(M.a)(S)?S.split("."):S;return I.forEach(function(A,R){R<I.length-1?(Object(x.a)(E[A])||(E[A]=Object(D.a)(I[R+1])?[]:{}),E=E[A]):E[A]=O}),C}},function(d,o,b){"use strict";var x=b(2),M=b(9),D=Object.prototype.hasOwnProperty;o.a=function(C,S){if(C===null||!Object(M.a)(C))return{};var O={};return Object(x.a)(S,function(E){D.call(C,E)&&(O[E]=C[E])}),O}},function(d,o,b){"use strict";o.a=function(x,M,D){var C,S,O,E,I=0;D||(D={});var A=function(){I=D.leading===!1?0:Date.now(),C=null,E=x.apply(S,O),C||(S=O=null)},R=function(){var p=Date.now();!I&&D.leading===!1&&(I=p);var G=M-(p-I);return S=this,O=arguments,G<=0||G>M?(C&&(clearTimeout(C),C=null),I=p,E=x.apply(S,O),C||(S=O=null)):!C&&D.trailing!==!1&&(C=setTimeout(A,G)),E};return R.cancel=function(){clearTimeout(C),I=0,C=S=O=null},R}},function(d,o,b){"use strict";var x=b(1);o.a=function(M){return Object(x.a)(M)?Array.prototype.slice.call(M):[]}},function(d,o,b){"use strict";var x={};o.a=function(M){return M=M||"g",x[M]?x[M]+=1:x[M]=1,M+x[M]}},function(d,o,b){"use strict";o.a=function(){}},function(d,o,b){"use strict";o.a=function(x){return x}},function(d,o,b){"use strict";o.a=D;var x=b(6),M=b(1);function D(C){return Object(x.a)(C)?0:Object(M.a)(C)?C.length:Object.keys(C).length}},function(d,o,b){"use strict";var x=function(){function M(){this.map={}}return M.prototype.has=function(D){return this.map[D]!==void 0},M.prototype.get=function(D,C){var S=this.map[D];return S===void 0?C:S},M.prototype.set=function(D,C){this.map[D]=C},M.prototype.clear=function(){this.map={}},M.prototype.delete=function(D){delete this.map[D]},M.prototype.size=function(){return Object.keys(this.map).length},M}();o.a=x},function(d,o){function b(O,E,I,A){A===void 0&&(A=[]);var R=this;R.w=O||0,R.h=E||0,R.y=I||0,R.x=0,R.c=A||[],R.cs=A.length,R.prelim=0,R.mod=0,R.shift=0,R.change=0,R.tl=null,R.tr=null,R.el=null,R.er=null,R.msel=0,R.mser=0}b.fromNode=function(O,E){if(!O)return null;var I=[];return O.children.forEach(function(A){I.push(b.fromNode(A,E))}),E?new b(O.height,O.width,O.x,I):new b(O.width,O.height,O.y,I)};function x(O,E,I){I?O.y+=E:O.x+=E,O.children.forEach(function(A){x(A,E,I)})}function M(O,E){var I=E?O.y:O.x;return O.children.forEach(function(A){I=Math.min(M(A,E),I)}),I}function D(O,E){var I=M(O,E);x(O,-I,E)}function C(O,E,I){I?E.y=O.x:E.x=O.x,O.c.forEach(function(A,R){C(A,E.children[R],I)})}function S(O,E,I){I===void 0&&(I=0),E?(O.x=I,I+=O.width):(O.y=I,I+=O.height),O.children.forEach(function(A){S(A,E,I)})}d.exports=function(O,E){E===void 0&&(E={});var I=E.isHorizontal;function A(Q){if(Q.cs===0){R(Q);return}A(Q.c[0]);for(var Y=st(z(Q.c[0].el),0,null),K=1;K<Q.cs;++K){A(Q.c[K]);var et=z(Q.c[K].er);B(Q,K,Y),Y=st(et,K,Y)}F(Q),R(Q)}function R(Q){Q.cs===0?(Q.el=Q,Q.er=Q,Q.msel=Q.mser=0):(Q.el=Q.c[0].el,Q.msel=Q.c[0].msel,Q.er=Q.c[Q.cs-1].er,Q.mser=Q.c[Q.cs-1].mser)}function B(Q,Y,K){for(var et=Q.c[Y-1],ut=et.mod,dt=Q.c[Y],vt=dt.mod;et!==null&&dt!==null;){z(et)>K.low&&(K=K.nxt);var at=ut+et.prelim+et.w-(vt+dt.prelim);at>0&&(vt+=at,p(Q,Y,K.index,at));var pt=z(et),Tt=z(dt);pt<=Tt&&(et=W(et),et!==null&&(ut+=et.mod)),pt>=Tt&&(dt=G(dt),dt!==null&&(vt+=dt.mod))}!et&&!!dt?N(Q,Y,dt,vt):!!et&&!dt&&j(Q,Y,et,ut)}function p(Q,Y,K,et){Q.c[Y].mod+=et,Q.c[Y].msel+=et,Q.c[Y].mser+=et,$(Q,Y,K,et)}function G(Q){return Q.cs===0?Q.tl:Q.c[0]}function W(Q){return Q.cs===0?Q.tr:Q.c[Q.cs-1]}function z(Q){return Q.y+Q.h}function N(Q,Y,K,et){var ut=Q.c[0].el;ut.tl=K;var dt=et-K.mod-Q.c[0].msel;ut.mod+=dt,ut.prelim-=dt,Q.c[0].el=Q.c[Y].el,Q.c[0].msel=Q.c[Y].msel}function j(Q,Y,K,et){var ut=Q.c[Y].er;ut.tr=K;var dt=et-K.mod-Q.c[Y].mser;ut.mod+=dt,ut.prelim-=dt,Q.c[Y].er=Q.c[Y-1].er,Q.c[Y].mser=Q.c[Y-1].mser}function F(Q){Q.prelim=(Q.c[0].prelim+Q.c[0].mod+Q.c[Q.cs-1].mod+Q.c[Q.cs-1].prelim+Q.c[Q.cs-1].w)/2-Q.w/2}function k(Q,Y){Y+=Q.mod,Q.x=Q.prelim+Y,nt(Q);for(var K=0;K<Q.cs;K++)k(Q.c[K],Y)}function $(Q,Y,K,et){if(K!==Y-1){var ut=Y-K;Q.c[K+1].shift+=et/ut,Q.c[Y].shift-=et/ut,Q.c[Y].change-=et-et/ut}}function nt(Q){for(var Y=0,K=0,et=0;et<Q.cs;et++)Y+=Q.c[et].shift,K+=Y+Q.c[et].change,Q.c[et].mod+=K}function st(Q,Y,K){for(;K!==null&&Q>=K.low;)K=K.nxt;return{low:Q,index:Y,nxt:K}}S(O,I);var rt=b.fromNode(O,I);return A(rt),k(rt,0),C(rt,O,I),D(O,I),O}},function(d,o,b){function x(A,R){A.prototype=Object.create(R.prototype),A.prototype.constructor=A,A.__proto__=R}var M=b(11),D=b(115),C=b(17),S=b(7),O=function(A){x(R,A);function R(){return A.apply(this,arguments)||this}var B=R.prototype;return B.execute=function(){var G=this;return G.rootNode.width=0,C(G.rootNode,G.options,D)},R}(M),E={};function I(A,R){return R=S.assign({},E,R),new O(A,R).execute()}d.exports=I},function(d,o,b){var x=b(7);function M(S,O){S===void 0&&(S=0),O===void 0&&(O=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=O}var D={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function C(S,O,E){E?(O.x=S.x,O.y=S.y):(O.x=S.y,O.y=S.x),S.children.forEach(function(I,A){C(I,O.children[A],E)})}d.exports=function(S,O){O===void 0&&(O={}),O=x.assign({},D,O);var E=0;function I(G){if(!G)return null;G.width=0,G.depth&&G.depth>E&&(E=G.depth);var W=G.children,z=W.length,N=new M(G.height,[]);return W.forEach(function(j,F){var k=I(j);N.children.push(k),F===0&&(N.leftChild=k),F===z-1&&(N.rightChild=k)}),N.originNode=G,N.isLeaf=G.isLeaf(),N}function A(G){if(G.isLeaf||G.children.length===0)G.drawingDepth=E;else{var W=G.children.map(function(N){return A(N)}),z=Math.min.apply(null,W);G.drawingDepth=z-1}return G.drawingDepth}var R;function B(G){G.x=G.drawingDepth*O.rankSep,G.isLeaf?(G.y=0,R&&(G.y=R.y+R.height+O.nodeSep,G.originNode.parent!==R.originNode.parent&&(G.y+=O.subTreeSep)),R=G):(G.children.forEach(function(W){B(W)}),G.y=(G.leftChild.y+G.rightChild.y)/2)}var p=I(S);return A(p),B(p),C(p,S,O.isHorizontal),S}},function(d,o,b){function x(B,p){B.prototype=Object.create(p.prototype),B.prototype.constructor=B,B.__proto__=p}var M=b(11),D=b(117),C=b(30),S=b(7),O=["LR","RL","H"],E=O[0],I=function(B){x(p,B);function p(){return B.apply(this,arguments)||this}var G=p.prototype;return G.execute=function(){var z=this,N=z.options,j=z.rootNode;N.isHorizontal=!0;var F=N.indent,k=F===void 0?20:F,$=N.dropCap,nt=$===void 0?!0:$,st=N.direction||E;if(st&&O.indexOf(st)===-1)throw new TypeError("Invalid direction: "+st);if(st===O[0])D(j,k,nt);else if(st===O[1])D(j,k,nt),j.right2left();else if(st===O[2]){var rt=C(j,N),Q=rt.left,Y=rt.right;D(Q,k,nt),Q.right2left(),D(Y,k,nt);var K=Q.getBoundingBox();Y.translate(K.width,0),j.x=Y.x-j.width/2}return j},p}(M),A={};function R(B,p){return p=S.assign({},A,p),new I(B,p).execute()}d.exports=R},function(d,o){function b(x,M,D,C){if(!C)try{if(x.id===x.parent.children[0].id){x.x+=D*x.depth,x.y=M?M.y:0;return}}catch(S){}x.x+=D*x.depth,x.y=M?M.y+M.height:0}d.exports=function(x,M,D){var C=null;x.eachNode(function(S){b(S,C,M,D),C=S})}},function(d,o,b){function x(A,R){A.prototype=Object.create(R.prototype),A.prototype.constructor=A,A.__proto__=R}var M=b(11),D=b(119),C=b(17),S=b(7),O=function(A){x(R,A);function R(){return A.apply(this,arguments)||this}var B=R.prototype;return B.execute=function(){var G=this;return C(G.rootNode,G.options,D)},R}(M),E={};function I(A,R){return R=S.assign({},E,R),new O(A,R).execute()}d.exports=I},function(d,o,b){var x=b(7);function M(S,O){var E=0;return S.children.length?S.children.forEach(function(I){E+=M(I,O)}):E=S.height,S._subTreeSep=O.getSubTreeSep(S.data),S.totalHeight=Math.max(S.height,E)+2*S._subTreeSep,S.totalHeight}function D(S){var O=S.children,E=O.length;if(E){O.forEach(function(G){D(G)});var I=O[0],A=O[E-1],R=A.y-I.y+A.height,B=0;if(O.forEach(function(G){B+=G.totalHeight}),R>S.height)S.y=I.y+R/2-S.height/2;else if(O.length!==1||S.height>B){var p=S.y+(S.height-R)/2-I.y;O.forEach(function(G){G.translate(0,p)})}else S.y=(I.y+I.height/2+A.y+A.height/2)/2-S.height/2}}var C={getSubTreeSep:function(){return 0}};d.exports=function(S,O){O===void 0&&(O={}),O=x.assign({},C,O),S.parent={x:0,width:0,height:0,y:0},S.BFTraverse(function(E){E.x=E.parent.x+E.parent.width}),S.parent=null,M(S,O),S.startY=0,S.y=S.totalHeight/2-S.height/2,S.eachNode(function(E){var I=E.children,A=I.length;if(A){var R=I[0];if(R.startY=E.startY+E._subTreeSep,A===1)R.y=E.y+E.height/2-R.height/2;else{R.y=R.startY+R.totalHeight/2-R.height/2;for(var B=1;B<A;B++){var p=I[B];p.startY=I[B-1].startY+I[B-1].totalHeight,p.y=p.startY+p.totalHeight/2-p.height/2}}}}),D(S)}}])})},eo7c:function(wt,P){wt.exports=i;function i(d,o){return d[0]=1/o[0],d[1]=1/o[1],d}},fI7b:function(wt,P){wt.exports=i;function i(d,o,b){var x=o[0],M=o[1];return d[0]=b[0]*x+b[2]*M,d[1]=b[1]*x+b[3]*M,d}},fIi5:function(wt,P,i){var d=i("xi+f");function o(b,x){return d(x,function(M){return b[M]})}wt.exports=o},fQJb:function(wt,P,i){var d=i("cEHS"),o=i("ah2v"),b=i("TeP8"),x=i("E5vS"),M=i("0gIx");function D(C,S,O,E){if(!x(C))return C;S=o(S,C);for(var I=-1,A=S.length,R=A-1,B=C;B!=null&&++I<A;){var p=M(S[I]),G=O;if(p==="__proto__"||p==="constructor"||p==="prototype")return C;if(I!=R){var W=B[p];G=E?E(W,p,B):void 0,G===void 0&&(G=x(W)?W:b(S[I+1])?[]:{})}d(B,p,G),B=B[p]}return C}wt.exports=D},fQKG:function(wt,P,i){var d=i("qFee"),o=i("3FqU"),b=i("mXku"),x=i("Npd2"),M=i("E5vS"),D=i("rGlR"),C=i("TKkZ");function S(O,E,I,A,R){O!==E&&b(E,function(B,p){if(R||(R=new d),M(B))x(O,E,p,I,S,A,R);else{var G=A?A(C(O,p),B,p+"",O,E,R):void 0;G===void 0&&(G=B),o(O,p,G)}},D)}wt.exports=S},fUu9:function(wt,P,i){var d=i("tmP0"),o=i("ZvDv"),b=i("uSfk"),x=i("oX5j"),M=i("HR5z"),D=i("br1w"),C=200;function S(O,E,I){var A=-1,R=o,B=O.length,p=!0,G=[],W=G;if(I)p=!1,R=b;else if(B>=C){var z=E?null:M(O);if(z)return D(z);p=!1,R=x,W=new d}else W=E?[]:G;t:for(;++A<B;){var N=O[A],j=E?E(N):N;if(N=I||N!==0?N:0,p&&j===j){for(var F=W.length;F--;)if(W[F]===j)continue t;E&&W.push(j),G.push(N)}else R(W,j,I)||(W!==G&&W.push(j),G.push(N))}return G}wt.exports=S},fani:function(wt,P,i){"use strict";i.d(P,"adaptors",function(){return lt});var d=i("18og");i.d(P,"G2",function(){return d});var o=i("Gc/9"),b=i("/aUC"),x=i("6eBz");i.d(P,"Line",function(){return x.a});var M=i("Ob5K");i.d(P,"Area",function(){return M.a});var D=i("wU7O");i.d(P,"Column",function(){return D.a});var C=i("Vnm+");i.d(P,"Bar",function(){return C.a});var S=i("q6M4");i.d(P,"Pie",function(){return S.a});var O=i("/MLR");i.d(P,"Rose",function(){return O.a});var E=i("5nvU");i.d(P,"WordCloud",function(){return E.a});var I=i("02mg");i.d(P,"Scatter",function(){return I.a});var A=i("vuZ1");i.d(P,"Radar",function(){return A.a});var R=i("cR7P");i.d(P,"DualAxes",function(){return R.a});var B=i("SBWV");i.d(P,"TinyLine",function(){return B.a});var p=i("LRPA");i.d(P,"TinyColumn",function(){return p.a});var G=i("MriG");i.d(P,"TinyArea",function(){return G.a});var W=i("WQNz");i.d(P,"Histogram",function(){return W.a});var z=i("10jL");i.d(P,"Progress",function(){return z.a});var N=i("JJsy");i.d(P,"RingProgress",function(){return N.a});var j=i("/o6D");i.d(P,"Heatmap",function(){return j.a});var F=i("FaIz");i.d(P,"Box",function(){return F.a});var k=i("jmP0");i.d(P,"Stock",function(){return k.a});var $=i("EKEq");i.d(P,"Funnel",function(){return $.a});var nt=i("vUmE");i.d(P,"Liquid",function(){return nt.a});var st=i("rG0J");i.d(P,"Bullet",function(){return st.a});var rt=i("tlzC");i.d(P,"Sunburst",function(){return rt.a});var Q=i("q9WB");i.d(P,"Gauge",function(){return Q.a});var Y=i("zBxV");i.d(P,"Waterfall",function(){return Y.a});var K=i("Jwa5");i.d(P,"RadialBar",function(){return K.a});var et=i("H4CB");i.d(P,"BidirectionalBar",function(){return et.a});var ut=i("R+Mm");i.d(P,"Treemap",function(){return ut.a});var dt=i("hxUM");i.d(P,"Sankey",function(){return dt.a});var vt=i("GLju");i.d(P,"Chord",function(){return vt.a});var at=i("sRM1"),pt=i("+GOg");i.d(P,"Mix",function(){return pt.a});var Tt=i("Cw9K");i.d(P,"flow",function(){return Tt.e}),i.d(P,"measureTextWidth",function(){return Tt.p});var Gt=i("AOO/"),Kt=i("piQC"),Xt=i("VQm6"),gt="2.3.21",lt={scale:Kt.f,legend:Kt.d,tooltip:Kt.k,annotation:Kt.b,interaction:Kt.c,theme:Kt.j,animation:Kt.a}},fnXT:function(wt,P,i){"use strict";i.r(P),i.d(P,"Area",function(){return V}),i.d(P,"Bar",function(){return yt}),i.d(P,"Box",function(){return Me}),i.d(P,"Bullet",function(){return Wt}),i.d(P,"Column",function(){return Ct}),i.d(P,"Funnel",function(){return Rt}),i.d(P,"Histogram",function(){return Ht}),i.d(P,"Line",function(){return Jt}),i.d(P,"Liquid",function(){return nr}),i.d(P,"Heatmap",function(){return Ze}),i.d(P,"Pie",function(){return Mr}),i.d(P,"Progress",function(){return Jr}),i.d(P,"Radar",function(){return ta}),i.d(P,"RingProgress",function(){return ea}),i.d(P,"Rose",function(){return Yn}),i.d(P,"Chord",function(){return Qi}),i.d(P,"Scatter",function(){return ao}),i.d(P,"TinyArea",function(){return io}),i.d(P,"TinyColumn",function(){return So}),i.d(P,"TinyLine",function(){return Uo}),i.d(P,"Waterfall",function(){return ol}),i.d(P,"WordCloud",function(){return ms}),i.d(P,"Sunburst",function(){return ru}),i.d(P,"DualAxes",function(){return wi}),i.d(P,"Stock",function(){return Ps}),i.d(P,"RadialBar",function(){return pe}),i.d(P,"Gauge",function(){return We}),i.d(P,"Sankey",function(){return ir}),i.d(P,"Treemap",function(){return Gn}),i.d(P,"MultiView",function(){return Ba}),i.d(P,"Mix",function(){return Ba}),i.d(P,"BidirectionalBar",function(){return si}),i.d(P,"OrganizationTreeGraph",function(){return $0}),i.d(P,"DagreGraph",function(){return _0}),i.d(P,"IndentedTree",function(){return tb}),i.d(P,"DagreFundFlowGraph",function(){return nb}),i.d(P,"G2",function(){return B.G2}),i.d(P,"flow",function(){return B.flow}),i.d(P,"measureTextWidth",function(){return B.measureTextWidth}),i.d(P,"adaptors",function(){return B.adaptors});var d={};i.r(d),i.d(d,"getAdjMatrix",function(){return hi}),i.d(d,"breadthFirstSearch",function(){return jo}),i.d(d,"connectedComponent",function(){return Xs}),i.d(d,"getDegree",function(){return Ls}),i.d(d,"getInDegree",function(){return fl}),i.d(d,"getOutDegree",function(){return U}),i.d(d,"detectCycle",function(){return Ue}),i.d(d,"depthFirstSearch",function(){return ae}),i.d(d,"dijkstra",function(){return Tr}),i.d(d,"findAllPath",function(){return $r}),i.d(d,"findShortestPath",function(){return Sr}),i.d(d,"floydWarshall",function(){return Pr}),i.d(d,"labelPropagation",function(){return xa}),i.d(d,"louvain",function(){return oa}),i.d(d,"minimumSpanningTree",function(){return da}),i.d(d,"pageRank",function(){return ue}),i.d(d,"GADDI",function(){return pc}),i.d(d,"getNeighbors",function(){return gi});var o={};i.r(o),i.d(o,"getAdjMatrix",function(){return hi}),i.d(o,"breadthFirstSearch",function(){return jo}),i.d(o,"connectedComponent",function(){return Xs}),i.d(o,"getDegree",function(){return Ls}),i.d(o,"getInDegree",function(){return fl}),i.d(o,"getOutDegree",function(){return U}),i.d(o,"detectCycle",function(){return Ue}),i.d(o,"detectDirectedCycle",function(){return Bf}),i.d(o,"detectAllCycles",function(){return Ne}),i.d(o,"detectAllDirectedCycle",function(){return Le}),i.d(o,"detectAllUndirectedCycle",function(){return xe}),i.d(o,"depthFirstSearch",function(){return ae}),i.d(o,"dijkstra",function(){return Tr}),i.d(o,"findAllPath",function(){return $r}),i.d(o,"findShortestPath",function(){return Sr}),i.d(o,"floydWarshall",function(){return Pr}),i.d(o,"labelPropagation",function(){return xa}),i.d(o,"louvain",function(){return oa}),i.d(o,"minimumSpanningTree",function(){return da}),i.d(o,"pageRank",function(){return ue}),i.d(o,"getNeighbors",function(){return gi}),i.d(o,"Stack",function(){return Pl}),i.d(o,"GADDI",function(){return pc}),i.d(o,"getAdjMatrixAsync",function(){return yc}),i.d(o,"connectedComponentAsync",function(){return mc}),i.d(o,"getDegreeAsync",function(){return vl}),i.d(o,"getInDegreeAsync",function(){return Rf}),i.d(o,"getOutDegreeAsync",function(){return to}),i.d(o,"detectCycleAsync",function(){return wf}),i.d(o,"detectDirectedCycleAsync",function(){return Nu}),i.d(o,"detectAllCyclesAsync",function(){return bh}),i.d(o,"detectAllDirectedCycleAsync",function(){return bc}),i.d(o,"detectAllUndirectedCycleAsync",function(){return Ks}),i.d(o,"dijkstraAsync",function(){return Oi}),i.d(o,"findAllPathAsync",function(){return Oc}),i.d(o,"findShortestPathAsync",function(){return Oh}),i.d(o,"floydWarshallAsync",function(){return xc}),i.d(o,"labelPropagationAsync",function(){return Rs}),i.d(o,"louvainAsync",function(){return xh}),i.d(o,"minimumSpanningTreeAsync",function(){return Bu}),i.d(o,"pageRankAsync",function(){return Ji}),i.d(o,"getNeighborsAsync",function(){return ws}),i.d(o,"GADDIAsync",function(){return Ll}),i.d(o,"default",function(){return Cd});var b={};i.r(b),i.d(b,"compare",function(){return Ys}),i.d(b,"getLineIntersect",function(){return Zs}),i.d(b,"getRectIntersectByPoint",function(){return eo}),i.d(b,"getCircleIntersectByPoint",function(){return Cc}),i.d(b,"getEllipseIntersectByPoint",function(){return Nf}),i.d(b,"applyMatrix",function(){return Bs}),i.d(b,"invertMatrix",function(){return Mc}),i.d(b,"getCircleCenterByPoints",function(){return Tc}),i.d(b,"distance",function(){return jl}),i.d(b,"scaleMatrix",function(){return Cv}),i.d(b,"floydWarshall",function(){return Eh}),i.d(b,"getAdjMatrix",function(){return Rl}),i.d(b,"translate",function(){return Ac}),i.d(b,"move",function(){return Ff}),i.d(b,"scale",function(){return Md}),i.d(b,"rotate",function(){return Gf}),i.d(b,"getDegree",function(){return Ic}),i.d(b,"isPointInPolygon",function(){return gl}),i.d(b,"intersectBBox",function(){return Uf}),i.d(b,"isPolygonsIntersect",function(){return Fu}),i.d(b,"Line",function(){return Xo}),i.d(b,"getBBoxBoundLine",function(){return Ha}),i.d(b,"itemIntersectByLine",function(){return Wf}),i.d(b,"fractionToLine",function(){return Dc}),i.d(b,"getPointsCenter",function(){return zf}),i.d(b,"squareDist",function(){return Gu}),i.d(b,"pointLineSquareDist",function(){return Pc}),i.d(b,"isPointsOverlap",function(){return Lc}),i.d(b,"pointRectSquareDist",function(){return Ho}),i.d(b,"pointLineDistance",function(){return kf});var x={};i.r(x),i.d(x,"getBBox",function(){return uu}),i.d(x,"getLoopCfgs",function(){return wc}),i.d(x,"getLabelPosition",function(){return Bc}),i.d(x,"traverseTree",function(){return qo}),i.d(x,"traverseTreeUp",function(){return Fs}),i.d(x,"getLetterWidth",function(){return zu}),i.d(x,"getTextSize",function(){return cu}),i.d(x,"plainCombosToTrees",function(){return Nc}),i.d(x,"reconstructTree",function(){return Kf}),i.d(x,"getComboBBox",function(){return ku}),i.d(x,"shouldRefreshEdge",function(){return Th}),i.d(x,"cloneBesidesImg",function(){return yl});var M={};i.r(M),i.d(M,"uniqueId",function(){return Yf}),i.d(M,"formatPadding",function(){return Gc}),i.d(M,"cloneEvent",function(){return Rd}),i.d(M,"isViewportChanged",function(){return Zf}),i.d(M,"isNaN",function(){return ml}),i.d(M,"calculationItemsBBox",function(){return wd}),i.d(M,"processParallelEdges",function(){return Uc});var D={};i.r(D),i.d(D,"getSpline",function(){return Qc}),i.d(D,"getControlPoint",function(){return kl}),i.d(D,"pointsToPolygon",function(){return pu}),i.d(D,"pathToPoints",function(){return xl}),i.d(D,"getClosedSpline",function(){return th}),i.d(D,"roundedHull",function(){return Vl}),i.d(D,"paddedHull",function(){return rh});var C={};i.r(C),i.d(C,"defaultSubjectColors",function(){return Js});var S={};i.r(S),i.d(S,"leftTranslate",function(){return Ro}),i.d(S,"leftRotate",function(){return oh}),i.d(S,"leftScale",function(){return Yh}),i.d(S,"transform",function(){return Zh}),i.d(S,"direction",function(){return $h}),i.d(S,"angleTo",function(){return ec}),i.d(S,"vertical",function(){return nf});var O={};i.r(O),i.d(O,"mixColor",function(){return Fr}),i.d(O,"getColorsWithSubjectColor",function(){return an}),i.d(O,"getColorSetsBySubjectColors",function(){return Un});var E={};i.r(E),i.d(E,"proccessToFunc",function(){return V1}),i.d(E,"buildTextureData",function(){return X1}),i.d(E,"buildTextureDataWithOneEdgeAttr",function(){return H1}),i.d(E,"buildTextureDataWithTwoEdgeAttr",function(){return K1}),i.d(E,"attributesToTextureData",function(){return Y1}),i.d(E,"arrayToTextureData",function(){return Z1}),i.d(E,"radialLayout",function(){return $1});var I={};i.r(I),i.d(I,"gpuDetector",function(){return r0});var A=i("T9Mk"),R=i.n(A),B=i("fani"),p=i("jg4I"),G=function(n,t){var e={}.toString;return e.call(n)==="[object "+t+"]"},W=function(n){if(!n)return n;var t={};for(var e in n)t[e]=n[e];return t},z=function u(n){if(!n)return n;var t=new n.constructor,e=function(l){return Object.prototype.toString.call(l).slice(8,-1)};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r])==="Object"||e(n[r])==="Array"?u(n[r]):n[r]);return t},N=function(n,t){for(var e=n,r=0;r<t.length;r+=1)if(e==null?void 0:e[t[r]])e=e[t[r]];else{e=void 0;break}return e},j=function(n,t,e){if(!n)return n;var r=n;return t.forEach(function(a,l){l<t.length-1?r=r[a]:r[a]=e}),n},F={isType:G,clone:W,hasPath:N,setPath:j,deepClone:z},k=i("d0GS"),$=i.n(k),nt=function(n,t){var e=document.createElement("div");return t==="tooltip"&&(e.className="g2-tooltip"),$.a.render(n,e),e},st=nt,rt=function(){return rt=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},rt.apply(this,arguments)},Q=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t};function Y(u,n){var t=Object(A.useRef)(),e=Object(A.useRef)(),r=Object(A.useRef)(null),a=n.onReady,l=n.onEvent,f=function(X,Z){var J;return X===void 0&&(X="image/png"),(J=t.current)===null||J===void 0?void 0:J.chart.canvas.cfg.el.toDataURL(X,Z)},v=function(X,Z,J){var ht;X===void 0&&(X="download"),Z===void 0&&(Z="image/png");var mt=X;X.indexOf(".")===-1&&(mt=X+"."+Z.split("/")[1]);var At=(ht=t.current)===null||ht===void 0?void 0:ht.chart.canvas.cfg.el.toDataURL(Z,J),St=document.createElement("a");return St.href=At,St.download=mt,document.body.appendChild(St),St.click(),document.body.removeChild(St),St=null,mt},m=function(X,Z,J){var ht=F.hasPath,mt=F.setPath,At=ht(X,Z);mt(X,Z,function(){for(var St=[],Bt=0;Bt<arguments.length;Bt++)St[Bt]=arguments[Bt];var kt=F.isType(At,"Function")?At.apply(void 0,St):At;return F.isType(kt,"String")||F.isType(kt,"Number")||F.isType(kt,"HTMLDivElement")?kt:st(kt,J)})},T=function(){var X=F.hasPath;X(n,["statistic","content","customHtml"])&&m(n,["statistic","content","customHtml"]),X(n,["statistic","title","customHtml"])&&m(n,["statistic","title","customHtml"]),typeof n.tooltip=="object"&&(X(n,["tooltip","container"])&&m(n,["tooltip","container"],"tooltip"),X(n,["tooltip","customContent"])&&m(n,["tooltip","customContent"],"tooltip"))};return Object(A.useEffect)(function(){if(t.current&&!Object(p.G)(e.current,n)){var w=!1;if(e.current){var X=e.current,Z=X.data,J=X.value,ht=X.percent,mt=Q(X,["data","value","percent"]),At=n.data,St=n.value,Bt=n.percent,kt=Q(n,["data","value","percent"]);w=Object(p.G)(mt,kt)}if(w){var Yt="data",qt=["percent"],ee=Object.keys(n);qt.forEach(function(re){ee.includes(re)&&(Yt=re)}),t.current.changeData((n==null?void 0:n[Yt])||[])}else T(),t.current.update(n);e.current=rt({},n)}},[n]),Object(A.useEffect)(function(){if(!r.current)return function(){return null};T();var w=new u(r.current,rt({},n));u.prototype.toDataURL=function(Z,J){return f(Z,J)},u.prototype.downloadImage=function(Z,J,ht){return v(Z,J,ht)},w.render(),e.current||(e.current=rt({},n)),t.current=F.clone(w),a&&a(w);var X=function(J){l&&l(w,J)};return w.on("*",X),function(){t.current&&(t.current.destroy(),t.current.off("*",X),t.current=void 0)}},[]),{chart:t,container:r}}var K=function(n,t){!n||(Object(p.H)(n)?n(t):n.current=t)},et=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ut=function(u){et(n,u);function n(){var t=u!==null&&u.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(e){var r=t.props.errorTemplate;switch(e){default:return r&&typeof r=="function"?r(e):R.a.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",e.message)}},t}return n.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},n.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},n.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):R.a.createElement(A.Fragment,null,this.props.children)},n}(R.a.Component),dt=ut;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vt=function(){return vt=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},vt.apply(this,arguments)};function at(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t}var pt=function(){return Math.random().toString(36).substring(6)},Tt=function(n){var t=n.animate,e=n.backgroundColor,r=n.backgroundOpacity,a=n.baseUrl,l=n.children,f=n.foregroundColor,v=n.foregroundOpacity,m=n.gradientRatio,T=n.uniqueKey,w=n.interval,X=n.rtl,Z=n.speed,J=n.style,ht=n.title,mt=at(n,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),At=T||pt(),St=At+"-diff",Bt=At+"-animated-diff",kt=At+"-aria",Yt=X?{transform:"scaleX(-1)"}:null,qt="0; "+w+"; 1",ee=Z+"s";return Object(A.createElement)("svg",vt({"aria-labelledby":kt,role:"img",style:vt(vt({},J),Yt)},mt),ht?Object(A.createElement)("title",{id:kt},ht):null,Object(A.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+a+"#"+St+")",style:{fill:"url("+a+"#"+Bt+")"}}),Object(A.createElement)("defs",{role:"presentation"},Object(A.createElement)("clipPath",{id:St},l),Object(A.createElement)("linearGradient",{id:Bt},Object(A.createElement)("stop",{offset:"0%",stopColor:e,stopOpacity:r},t&&Object(A.createElement)("animate",{attributeName:"offset",values:-m+"; "+-m+"; 1",keyTimes:qt,dur:ee,repeatCount:"indefinite"})),Object(A.createElement)("stop",{offset:"50%",stopColor:f,stopOpacity:v},t&&Object(A.createElement)("animate",{attributeName:"offset",values:-m/2+"; "+-m/2+"; "+(1+m/2),keyTimes:qt,dur:ee,repeatCount:"indefinite"})),Object(A.createElement)("stop",{offset:"100%",stopColor:e,stopOpacity:r},t&&Object(A.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+m),keyTimes:qt,dur:ee,repeatCount:"indefinite"})))))};Tt.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var Gt=function(n){return n.children?Object(A.createElement)(Tt,vt({},n)):Object(A.createElement)(Kt,vt({},n))},Kt=function(n){return Object(A.createElement)(Gt,vt({viewBox:"0 0 476 124"},n),Object(A.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(A.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(A.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(A.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(A.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(A.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},Xt=function(n){return Object(A.createElement)(Gt,vt({viewBox:"0 0 400 460"},n),Object(A.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(A.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(A.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(A.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},gt=function(n){return Object(A.createElement)(Gt,vt({viewBox:"0 0 340 84"},n),Object(A.createElement)("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),Object(A.createElement)("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),Object(A.createElement)("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),Object(A.createElement)("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),Object(A.createElement)("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),Object(A.createElement)("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),Object(A.createElement)("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),Object(A.createElement)("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},lt=function(n){return Object(A.createElement)(Gt,vt({viewBox:"0 0 400 110"},n),Object(A.createElement)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),Object(A.createElement)("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),Object(A.createElement)("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),Object(A.createElement)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),Object(A.createElement)("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),Object(A.createElement)("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},ft=function(n){return Object(A.createElement)(Gt,vt({viewBox:"0 0 245 125"},n),Object(A.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(A.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(A.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(A.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(A.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(A.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(A.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(A.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},it=Gt,bt=function(n){var t=n.loadingTemplate,e=function(){return t||R.a.createElement(it,{viewBox:"0 0 400 180",width:200,height:90,speed:1},R.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),R.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),R.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),R.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),R.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),R.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),R.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),R.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),R.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),R.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return R.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},e())},Dt=bt,Mt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},q=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Mt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Area,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),V=q,ot=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},tt=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=ot(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Bar,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),yt=tt,Pt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ft=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Pt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Bullet,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Wt=Ft,Vt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Lt=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Vt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Column,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Ct=Lt,_=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},It=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=_(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Funnel,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Rt=It,xt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Nt=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=xt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Histogram,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Ht=Nt,jt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ut=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=jt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Line,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Jt=Ut,se=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},me=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=se(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Box,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Me=me,Pe=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ge=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Pe(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Liquid,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),nr=Ge,gr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},or=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=gr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Heatmap,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Ze=or,mr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Nr=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=mr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Pie,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Mr=Nr,vn=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ln=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=vn(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Gauge,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),We=Ln,Ye=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Gr=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Ye(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Progress,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Jr=Gr,_r=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},bn=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=_r(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Radar,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),ta=bn,aa=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},wn=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=aa(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.RingProgress,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),ea=wn,Aa=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Fa=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Aa(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Rose,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Yn=Fa,Ti=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Gi=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Ti(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Chord,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Qi=Gi,Xi=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ii=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Xi(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Scatter,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),ao=Ii,Go=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Po=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Go(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.TinyArea,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),io=Po,Hi=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},po=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Hi(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.TinyColumn,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),So=po,Zo=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},$o=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Zo(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.DualAxes,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),wi=$o,ys=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ws=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=ys(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.TinyLine,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Uo=Ws,Il=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ai=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Il(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Waterfall,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),ol=Ai,Is=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ds=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Is(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.WordCloud,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),ms=Ds,sl=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ua=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=sl(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Sunburst,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),ru=ua,Wo=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ll=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Wo(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Stock,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Ps=ll,ge=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},oe=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=ge(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.RadialBar,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),pe=oe,ze=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Xe=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=ze(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Sankey,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),ir=Xe,Br=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},sn=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Br(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Treemap,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Gn=sn,In=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},mn=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=In(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.Mix,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),Ba=mn,Ga=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},fi=Object(A.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,a=u.className,l=u.loading,f=u.loadingTemplate,v=u.errorTemplate,m=Ga(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),T=Y(B.BidirectionalBar,m),w=T.chart,X=T.container;return Object(A.useEffect)(function(){K(t,w.current)},[w.current]),Object(A.useImperativeHandle)(n,function(){return{getChart:function(){return w.current}}}),R.a.createElement(dt,{errorTemplate:v},l&&R.a.createElement(Dt,{loadingTemplate:f}),R.a.createElement("div",{className:a,style:r,ref:X}))}),si=fi,Di={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(n){return Object.assign(this,n),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(n){var t=this,e=this.events;this.graph=n,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!0),Object(p.j)(e,function(r,a){n.on(a,r)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(n){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!1),Object(p.j)(t,function(e,r){n.off(r,e)})},get:function(n){return this[n]},set:function(n,t){return this[n]=t,this}},oo=function(){function u(){}return u.registerBehavior=function(n,t){if(!t)throw new Error("please specify handler for this behavior: "+n);var e=Object(p.e)(Di);Object.assign(e,t);var r=function(l){var f=this;Object.assign(this,this.getDefaultCfg(),l);var v=this.getEvents();this.events=null;var m={};v&&(Object(p.j)(v,function(T,w){m[w]=Object(p.wb)(f,T)}),this.events=m)};r.prototype=e,u.types[n]=r},u.hasBehavior=function(n){return!!u.types[n]},u.getBehavior=function(n){return u.types[n]},u.types={},u}(),so=oo,Ui=so,ve=i("J+IK"),Ua=i("nZiY"),qn=i("sxZn"),Lo=function(n,t){var e=n.nodes,r=n.edges,a=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(f,v){l[f.id]=v;var m=[];a.push(m)}),r&&r.forEach(function(f){var v=f.source,m=f.target,T=l[v],w=l[m];!T&&T!==0||!w&&w!==0||(a[T][w]=1,t||(a[w][T]=1))}),a},hi=Lo,Qo=function(n,t){return n===t},zo=function(){function u(n,t){t===void 0&&(t=null),this.value=n,this.next=t}return u.prototype.toString=function(n){return n?n(this.value):""+this.value},u}(),zs=function(){function u(n){n===void 0&&(n=Qo),this.head=null,this.tail=null,this.compare=n}return u.prototype.prepend=function(n){var t=new zo(n,this.head);return this.head=t,this.tail||(this.tail=t),this},u.prototype.append=function(n){var t=new zo(n);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},u.prototype.delete=function(n){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,n);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare(e.next.value,n)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare(this.tail.value,n)&&(this.tail=e),t},u.prototype.find=function(n){var t=n.value,e=t===void 0?void 0:t,r=n.callback,a=r===void 0?void 0:r;if(!this.head)return null;for(var l=this.head;l;){if(a&&a(l.value)||e!==void 0&&this.compare(l.value,e))return l;l=l.next}return null},u.prototype.deleteTail=function(){var n=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,n;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,n},u.prototype.deleteHead=function(){if(!this.head)return null;var n=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),n},u.prototype.fromArray=function(n){var t=this;return n.forEach(function(e){return t.append(e)}),this},u.prototype.toArray=function(){for(var n=[],t=this.head;t;)n.push(t),t=t.next;return n},u.prototype.reverse=function(){for(var n=this.head,t=null,e=null;n;)e=n.next,n.next=t,t=n,n=e;this.tail=this.head,this.head=t},u.prototype.toString=function(n){return n===void 0&&(n=void 0),this.toArray().map(function(t){return t.toString(n)}).toString()},u}(),yo=zs,us=function(){function u(){this.linkedList=new yo}return u.prototype.isEmpty=function(){return!this.linkedList.head},u.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},u.prototype.enqueue=function(n){this.linkedList.append(n)},u.prototype.dequeue=function(){var n=this.linkedList.deleteHead();return n?n.value:null},u.prototype.toString=function(n){return this.linkedList.toString(n)},u}(),Jo=us,gi=function(n,t,e){t===void 0&&(t=[]);var r=t.filter(function(v){return v.source===n||v.target===n});if(e==="target"){var a=function(m){return m.source===n};return r.filter(a).map(function(v){return v.target})}if(e==="source"){var l=function(m){return m.target===n};return r.filter(l).map(function(v){return v.source})}var f=function(m){return m.source===n?m.target:m.source};return r.map(f)},ul=function(n,t){return t.filter(function(e){return e.source===n})},qi=function(n,t){return t.filter(function(e){return e.source===n||e.target===n})},ks=function(n){n===void 0&&(n=0);var t=(""+Math.random()).split(".")[1].substr(0,5),e=(""+Math.random()).split(".")[1].substr(0,5);return n+"-"+t+e};function _o(u){u===void 0&&(u={});var n=u,t=function(){},e=function(){var r={};return function(a){var l=a.next,f=l;return r[f]?!1:(r[f]=!0,!0)}}();return n.allowTraversal=u.allowTraversal||e,n.enter=u.enter||t,n.leave=u.leave||t,n}var cl=function(n,t,e){var r=_o(e),a=new Jo,l=n.edges,f=l===void 0?[]:l;a.enqueue(t);for(var v="",m=function(){var w=a.dequeue();r.enter({current:w,previous:v}),gi(w,f,"target").forEach(function(X){r.allowTraversal({previous:v,current:w,next:X})&&a.enqueue(X)}),r.leave({current:w,previous:v}),v=w};!a.isEmpty();)m()},jo=cl,cs=function(n){for(var t=n.nodes,e=t===void 0?[]:t,r=n.edges,a=r===void 0?[]:r,l=[],f={},v=[],m=function Z(J){v.push(J),f[J.id]=!0;for(var ht=gi(J.id,a),mt=function(Bt){var kt=ht[Bt];if(!f[kt]){var Yt=e.filter(function(qt){return qt.id===kt});Yt.length>0&&Z(Yt[0])}},At=0;At<ht.length;++At)mt(At)},T=0;T<e.length;T++){var w=e[T];if(!f[w.id]){m(w);for(var X=[];v.length>0;)X.push(v.pop());l.push(X)}}return l},Vs=function(n){for(var t=n.nodes,e=t===void 0?[]:t,r=n.edges,a=r===void 0?[]:r,l=[],f={},v={},m={},T=[],w=0,X=function mt(At){v[At.id]=w,m[At.id]=w,w+=1,l.push(At),f[At.id]=!0;for(var St=gi(At.id,a,"target").filter(function(ee){return e.map(function(re){return re.id}).indexOf(ee)>-1}),Bt=function(re){var fe=St[re];if(!v[fe]&&v[fe]!==0){var le=e.filter(function(Oe){return Oe.id===fe});le.length>0&&mt(le[0]),m[At.id]=Math.min(m[At.id],m[fe])}else f[fe]&&(m[At.id]=Math.min(m[At.id],v[fe]))},kt=0;kt<St.length;kt++)Bt(kt);if(m[At.id]===v[At.id]){for(var Yt=[];l.length>0;){var qt=l.pop();if(f[qt.id]=!1,Yt.push(qt),qt===At)break}Yt.length>0&&T.push(Yt)}},Z=0,J=e;Z<J.length;Z++){var ht=J[Z];!v[ht.id]&&v[ht.id]!==0&&X(ht)}return T};function Xs(u,n){return n?Vs(u):cs(u)}var bs=function(n){var t={},e=n.nodes,r=e===void 0?[]:e,a=n.edges,l=a===void 0?[]:a;return r.forEach(function(f){t[f.id]={degree:0,inDegree:0,outDegree:0}}),l.forEach(function(f){t[f.source].degree++,t[f.source].outDegree++,t[f.target].degree++,t[f.target].inDegree++}),t},Ls=bs,fl=function(n,t){var e=bs(n);return e[t]?bs(n)[t].inDegree:0},U=function(n,t){var e=bs(n);return e[t]?bs(n)[t].outDegree:0};function Et(u){u===void 0&&(u={});var n=u,t=function(){},e=function(){var r={};return function(a){var l=a.next;return r[l]?!1:(r[l]=!0,!0)}}();return n.allowTraversal=u.allowTraversal||e,n.enter=u.enter||t,n.leave=u.leave||t,n}function Qt(u,n,t,e){e.enter({current:n,previous:t});var r=u.edges,a=r===void 0?[]:r;gi(n,a,"target").forEach(function(l){e.allowTraversal({previous:t,current:n,next:l})&&Qt(u,l,n,e)}),e.leave({current:n,previous:t})}function ae(u,n,t){Qt(u,n,"",Et(t))}var he=function(n){var t=null,e=n.nodes,r=e===void 0?[]:e,a={},l={},f={},v={};r.forEach(function(w){l[w.id]=w});for(var m={enter:function(X){var Z=X.current,J=X.previous;if(f[Z]){t={};for(var ht=Z,mt=J;mt!==Z;)t[ht]=mt,ht=mt,mt=a[mt];t[ht]=mt}else f[Z]=Z,delete l[Z],a[Z]=J},leave:function(X){var Z=X.current;v[Z]=Z,delete f[Z]},allowTraversal:function(X){var Z=X.next;return t?!1:!v[Z]}};Object.keys(l).length;){var T=Object.keys(l)[0];ae(n,T,m)}return t},xe=function(n,t,e){var r,a;e===void 0&&(e=!0);for(var l=[],f=Xs(n,!1),v=0,m=f;v<m.length;v++){var T=m[v];if(!!T.length)for(var w=T[0],X=w.id,Z=[w],J=(r={},r[X]=w,r),ht=(a={},a[X]=new Set,a);Z.length>0;)for(var mt=Z.pop(),At=mt.id,St=gi(At,n.edges),Bt=function(qt){var ee,re=St[qt],fe=n.nodes.find(function(vr){return vr.id===re});if(re===At)l.push((ee={},ee[re]=mt,ee));else if(!(re in ht))J[re]=mt,Z.push(fe),ht[re]=new Set([mt]);else if(!ht[At].has(fe)){for(var le=!0,Oe=[fe,mt],Te=J[At];ht[re].size&&!ht[re].has(Te)&&(Oe.push(Te),Te!==J[Te.id]);)Te=J[Te.id];if(Oe.push(Te),t&&e?(le=!1,Oe.findIndex(function(vr){return t.indexOf(vr.id)>-1})>-1&&(le=!0)):t&&!e&&Oe.findIndex(function(vr){return t.indexOf(vr.id)>-1})>-1&&(le=!1),le){for(var sr={},fr=1;fr<Oe.length;fr+=1)sr[Oe[fr-1].id]=Oe[fr];Oe.length&&(sr[Oe[Oe.length-1].id]=Oe[0]),l.push(sr)}ht[re].add(mt)}},kt=0;kt<St.length;kt+=1)Bt(kt)}return l},Le=function(n,t,e){e===void 0&&(e=!0);for(var r=[],a=new Set,l=[],f=[],v={},m={},T=function(Te){for(var sr=[Te];sr.length>0;){var fr=sr.pop();a.has(fr)&&(a.delete(fr),l[fr.id].forEach(function(vr){sr.push(vr)}),l[fr.id].clear())}},w=function Oe(Te,sr,fr){var vr=!1;if(t&&e===!1&&t.indexOf(Te.id)>-1)return vr;r.push(Te),a.add(Te);for(var Qr=fr[Te.id],Zr=0;Zr<Qr.length;Zr+=1){var Rr=v[Qr[Zr]];if(Rr===sr){for(var Dr={},Ur=1;Ur<r.length;Ur+=1)Dr[r[Ur-1].id]=r[Ur];r.length&&(Dr[r[r.length-1].id]=r[0]),f.push(Dr),vr=!0}else a.has(Rr)||Oe(Rr,sr,fr)&&(vr=!0)}if(vr)T(Te);else for(var Zr=0;Zr<Qr.length;Zr+=1){var Rr=v[Qr[Zr]];l[Rr.id].has(Te)||l[Rr.id].add(Te)}return r.pop(),vr},X=n.nodes,Z=X===void 0?[]:X,J=0;J<Z.length;J+=1){var ht=Z[J],mt=ht.id;m[mt]=J,v[J]=ht}if(t&&e)for(var At=function(Te){var sr=t[Te];m[Z[Te].id]=m[sr],m[sr]=0,v[0]=Z.find(function(fr){return fr.id===sr}),v[m[Z[Te].id]]=Z[Te]},J=0;J<t.length;J++)At(J);for(var St=function(Te){for(var sr,fr,vr=Infinity,Qr=0;Qr<Te.length;Qr+=1)for(var Zr=Te[Qr],Rr=0;Rr<Zr.length;Rr++){var Dr=m[Zr[Rr].id];Dr<vr&&(vr=Dr,fr=Qr)}for(var Ur=Te[fr],Lr=[],Qr=0;Qr<Ur.length;Qr+=1){var kr=Ur[Qr];Lr[kr.id]=[];for(var On=0,Wr=gi(kr.id,n.edges,"target").filter(function(Fn){return Ur.map(function(Vn){return Vn.id}).indexOf(Fn)>-1});On<Wr.length;On++){var Xr=Wr[On];Xr===kr.id&&!(e===!1&&t.indexOf(kr.id)>-1)?f.push((sr={},sr[kr.id]=kr,sr)):Lr[kr.id].push(m[Xr])}}return{component:Ur,adjList:Lr,minIdx:vr}},Bt=0;Bt<Z.length;){var kt=Z.filter(function(Oe){return m[Oe.id]>=Bt}),Yt=Vs({nodes:kt,edges:n.edges}).filter(function(Oe){return Oe.length>1});if(Yt.length===0)break;var qt=St(Yt),ee=qt.minIdx,re=qt.adjList,fe=qt.component;if(fe.length>1){fe.forEach(function(Oe){l[Oe.id]=new Set});var le=v[ee];if(t&&e&&t.indexOf(le.id)===-1)return f;w(le,le,re),Bt=ee+1}else break}return f},Ne=function(n,t,e,r){return r===void 0&&(r=!0),t?Le(n,e,r):xe(n,e,r)},Ue=he,$e=function(n,t,e){for(var r=Infinity,a,l=0;l<t.length;l++){var f=t[l].id;!e[f]&&n[f]<=r&&(r=n[f],a=t[l])}return a},Qe=function(n,t,e,r){var a=n.nodes,l=a===void 0?[]:a,f=n.edges,v=f===void 0?[]:f,m=[],T={},w={},X={};l.forEach(function(Bt,kt){var Yt=Bt.id;m.push(Yt),w[Yt]=Infinity,Yt===t&&(w[Yt]=0)});for(var Z=l.length,J=function(kt){var Yt=$e(w,l,T),qt=Yt.id;if(T[qt]=!0,w[qt]===Infinity)return"continue";var ee=[];e?ee=ul(qt,v):ee=qi(qt,v),ee.forEach(function(re){var fe=re.target,le=re.source,Oe=fe===qt?le:fe,Te=r&&re[r]?re[r]:1;w[Oe]>w[Yt.id]+Te?(w[Oe]=w[Yt.id]+Te,X[Oe]=[Yt.id]):w[Oe]===w[Yt.id]+Te&&X[Oe].push(Yt.id)})},ht=0;ht<Z;ht++)J(ht);X[t]=[t];var mt={};for(var At in w)w[At]!==Infinity&&Ir(t,At,X,mt);var St={};for(var At in mt)St[At]=mt[At][0];return{length:w,path:St,allPath:mt}},Tr=Qe;function Ir(u,n,t,e){if(u===n)return[u];if(e[n])return e[n];for(var r=[],a=0,l=t[n];a<l.length;a++){var f=l[a],v=Ir(u,f,t,e);if(!v)return;for(var m=0,T=v;m<T.length;m++){var w=T[m];Object(p.B)(w)?r.push(Object(ve.f)(Object(ve.f)([],w),[n])):r.push([w,n])}}return e[n]=r,e[n]}var Sr=function(n,t,e,r,a){var l=Tr(n,t,r,a),f=l.length,v=l.path,m=l.allPath;return{length:f[e],path:v[e],allPath:m[e]}},$r=function(n,t,e,r){var a;if(t===e)return[[t]];var l=n.edges,f=l===void 0?[]:l,v=[t],m=(a={},a[t]=!0,a),T=[],w=[],X=r?gi(t,f,"target"):gi(t,f);for(T.push(X);v.length>0&&T.length>0;){var Z=T[T.length-1];if(Z.length){var J=Z.shift();J&&(v.push(J),m[J]=!0,X=r?gi(J,f,"target"):gi(J,f),T.push(X.filter(function(At){return!m[At]})))}else{var ht=v.pop();m[ht]=!1,T.pop();continue}if(v[v.length-1]===e){var mt=v.map(function(St){return St});w.push(mt);var ht=v.pop();m[ht]=!1,T.pop()}}return w},hn=function(n,t){for(var e=hi(n,t),r=[],a=e.length,l=0;l<a;l+=1){r[l]=[];for(var f=0;f<a;f+=1)l===f?r[l][f]=0:e[l][f]===0||!e[l][f]?r[l][f]=Infinity:r[l][f]=e[l][f]}for(var v=0;v<a;v+=1)for(var l=0;l<a;l+=1)for(var f=0;f<a;f+=1)r[l][f]>r[l][v]+r[v][f]&&(r[l][f]=r[l][v]+r[v][f]);return r},Pr=hn,Dn=function(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e="weight"),r===void 0&&(r=1e3);var a=n.nodes,l=a===void 0?[]:a,f=n.edges,v=f===void 0?[]:f,m={},T={};l.forEach(function(kt,Yt){var qt=ks();kt.clusterId=qt,m[qt]={id:qt,nodes:[kt]},T[kt.id]={node:kt,idx:Yt}});var w=hi(n,t),X=[],Z={};w.forEach(function(kt,Yt){var qt=0,ee=l[Yt].id;Z[ee]={},kt.forEach(function(re,fe){if(!!re){qt+=re;var le=l[fe].id;Z[ee][le]=re}}),X.push(qt)});for(var J=0,ht=function(){var Yt=!1;if(l.forEach(function(qt){var ee={};Object.keys(Z[qt.id]).forEach(function(vr){var Qr=Z[qt.id][vr],Zr=T[vr].node,Rr=Zr.clusterId;ee[Rr]||(ee[Rr]=0),ee[Rr]+=Qr});var re=-Infinity,fe=[];if(Object.keys(ee).forEach(function(vr){re<ee[vr]?(re=ee[vr],fe=[vr]):re===ee[vr]&&fe.push(vr)}),!(fe.length===1&&fe[0]===qt.clusterId)){var le=fe.indexOf(qt.clusterId);if(le>=0&&fe.splice(le,1),fe&&fe.length){Yt=!0;var Oe=m[qt.clusterId],Te=Oe.nodes.indexOf(qt);Oe.nodes.splice(Te,1);var sr=Math.floor(Math.random()*fe.length),fr=m[fe[sr]];fr.nodes.push(qt),qt.clusterId=fr.id}}}),!Yt)return"break";J++};J<r;){var mt=ht();if(mt==="break")break}Object.keys(m).forEach(function(kt){var Yt=m[kt];(!Yt.nodes||!Yt.nodes.length)&&delete m[kt]});var At=[],St={};v.forEach(function(kt){var Yt=kt.source,qt=kt.target,ee=kt[e]||1,re=T[Yt].node.clusterId,fe=T[qt].node.clusterId,le=re+"---"+fe;if(St[le])St[le].weight+=ee,St[le].count++;else{var Oe={source:re,target:fe,weight:ee,count:1};St[le]=Oe,At.push(Oe)}});var Bt=[];return Object.keys(m).forEach(function(kt){Bt.push(m[kt])}),{clusters:Bt,clusterEdges:At}},xa=Dn,Qn=function(n,t,e,r){for(var a=t.length,l=2*r,f=0,v=0;v<a;v++)for(var m=n[v].clusterId,T=0;T<a;T++){var w=n[T].clusterId;if(m===w){var X=t[v][T]||0,Z=e[v]||0,J=e[T]||0;f+=X-Z*J/l}}return f*=1/l,f},Jn=function(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e="weight"),r===void 0&&(r=1e-4);var a=n.nodes,l=a===void 0?[]:a,f=n.edges,v=f===void 0?[]:f,m=1,T={},w={};l.forEach(function(re,fe){var le=String(m++);re.clusterId=le,T[le]={id:le,nodes:[re]},w[re.id]={node:re,idx:fe}});var X=hi(n,t),Z=[],J={},ht=0;X.forEach(function(re,fe){var le=0,Oe=l[fe].id;J[Oe]={},re.forEach(function(Te,sr){if(!!Te){le+=Te;var fr=l[sr].id;J[Oe][fr]=Te,ht+=Te}}),Z.push(le)}),ht/=2;for(var mt=Infinity,At=Infinity,St=0;mt=Qn(l,X,Z,ht),!(Math.abs(mt-At)<r||St>100);)At=mt,St++,Object.keys(T).forEach(function(re){var fe=0;v.forEach(function(le){var Oe=le.source,Te=le.target,sr=w[Oe].node.clusterId,fr=w[Te].node.clusterId;(sr===re&&fr!==re||fr===re&&sr!==re)&&(fe=fe+(le[e]||1))}),T[re].sumTot=fe}),l.forEach(function(re,fe){var le=T[re.clusterId],Oe=0,Te,sr=Z[fe]/(2*ht),fr=0,vr=le.nodes;vr.forEach(function(kr){var On=w[kr.id].idx;fr+=X[fe][On]||0});var Qr=fr-le.sumTot*sr,Zr=J[re.id];if(Object.keys(Zr).forEach(function(kr){var On=w[kr].node,Wr=On.clusterId;if(Wr!==re.clusterId){var Xr=T[Wr],Nn=Xr.nodes;if(!(!Nn||!Nn.length)){var Fn=0;Nn.forEach(function(Ca){var Rn=w[Ca.id].idx;Fn+=X[fe][Rn]||0});var Vn=Fn-Xr.sumTot*sr,Or=Vn-Qr;Or>Oe&&(Oe=Or,Te=Xr)}}}),Oe>0){Te.nodes.push(re);var Rr=re.clusterId;re.clusterId=Te.id;var Dr=le.nodes.indexOf(re);le.nodes.splice(Dr,1);var Ur=0,Lr=0;v.forEach(function(kr){var On=kr.source,Wr=kr.target,Xr=w[On].node.clusterId,Nn=w[Wr].node.clusterId;(Xr===Te.id&&Nn!==Te.id||Nn===Te.id&&Xr!==Te.id)&&(Ur=Ur+(kr[e]||1)),(Xr===Rr&&Nn!==Rr||Nn===Rr&&Xr!==Rr)&&(Lr=Lr+(kr[e]||1))}),Te.sumTot=Ur,le.sumTot=Lr}});var Bt={},kt=0;Object.keys(T).forEach(function(re){var fe=T[re];if(!fe.nodes||!fe.nodes.length){delete T[re];return}var le=String(kt+1);le!==re&&(fe.id=le,fe.nodes=fe.nodes.map(function(Oe){return{id:Oe.id,clusterId:le}}),T[le]=fe,Bt[re]=le,delete T[re],kt++)}),l.forEach(function(re){re.clusterId&&Bt[re.clusterId]&&(re.clusterId=Bt[re.clusterId])});var Yt=[],qt={};v.forEach(function(re){var fe=re.source,le=re.target,Oe=re[e]||1,Te=w[fe].node.clusterId,sr=w[le].node.clusterId,fr=Te+"---"+sr;if(qt[fr])qt[fr].weight+=Oe,qt[fr].count++;else{var vr={source:Te,target:sr,weight:Oe,count:1};qt[fr]=vr,Yt.push(vr)}});var ee=[];return Object.keys(T).forEach(function(re){ee.push(T[re])}),{clusters:ee,clusterEdges:Yt}},oa=Jn,ia=function(){function u(n){this.count=n.length,this.parent={};for(var t=0,e=n;t<e.length;t++){var r=e[t];this.parent[r]=r}}return u.prototype.find=function(n){for(;this.parent[n]!==n;)n=this.parent[n];return n},u.prototype.union=function(n,t){var e=this.find(n),r=this.find(t);e!==r&&(e<r?(this.parent[t]!==t&&this.union(this.parent[t],n),this.parent[t]=this.parent[n]):(this.parent[n]!==n&&this.union(this.parent[n],t),this.parent[n]=this.parent[t]))},u.prototype.connected=function(n,t){return this.find(n)===this.find(t)},u}(),ba=ia,Za=function(n,t){return n-t},li=function(){function u(n){n===void 0&&(n=Za),this.compareFn=n,this.list=[]}return u.prototype.getLeft=function(n){return 2*n+1},u.prototype.getRight=function(n){return 2*n+2},u.prototype.getParent=function(n){return n===0?null:Math.floor((n-1)/2)},u.prototype.isEmpty=function(){return this.list.length<=0},u.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},u.prototype.delMin=function(){var n=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),n},u.prototype.insert=function(n){if(n!==null){this.list.push(n);var t=this.list.length-1;return this.moveUp(t),!0}return!1},u.prototype.moveUp=function(n){for(var t=this.getParent(n);n&&n>0&&this.compareFn(this.list[t],this.list[n])>0;){var e=this.list[t];this.list[t]=this.list[n],this.list[n]=e,n=t,t=this.getParent(n)}},u.prototype.moveDown=function(n){var t,e=n,r=this.getLeft(n),a=this.getRight(n),l=this.list.length;r!==null&&r<l&&this.compareFn(this.list[e],this.list[r])>0?e=r:a!==null&&a<l&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),n!==e&&(t=[this.list[e],this.list[n]],this.list[n]=t[0],this.list[e]=t[1],this.moveDown(e))},u}(),Pa=li,di=function(n,t){var e=[],r=n.nodes,a=r===void 0?[]:r,l=n.edges,f=l===void 0?[]:l;if(a.length===0)return e;var v=a[0],m=new Set;m.add(v);var T=function(mt,At){return t?mt.weight-At.weight:0},w=new Pa(T);for(qi(v.id,f).forEach(function(ht){w.insert(ht)});!w.isEmpty();){var X=w.delMin(),Z=X.source,J=X.target;m.has(Z)&&m.has(J)||(e.push(X),m.has(Z)||(m.add(Z),qi(Z,f).forEach(function(ht){w.insert(ht)})),m.has(J)||(m.add(J),qi(J,f).forEach(function(ht){w.insert(ht)})))}return e},$a=function(n,t){var e=[],r=n.nodes,a=r===void 0?[]:r,l=n.edges,f=l===void 0?[]:l;if(a.length===0)return e;var v=f.map(function(Z){return Z});t&&v.sort(function(Z,J){return Z.weight-J.weight});for(var m=new ba(a.map(function(Z){return Z.id}));v.length>0;){var T=v.shift(),w=T.source,X=T.target;m.connected(w,X)||(e.push(T),m.union(w,X))}return e},Ja=function(n,t,e){var r={prim:di,kruskal:$a};return e?r[e](n,t):$a(n,t)},da=Ja,Ce=function(n,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var r=1,a=0,l=1e3,f=n.nodes,v=f===void 0?[]:f,m=n.edges,T=m===void 0?[]:m,w=v.length,X,Z={},J={},ht=0;ht<w;++ht){var mt=v[ht],At=mt.id;Z[At]=1/w,J[At]=1/w}for(var St=Ls(n);l>0&&r>t;){a=0;for(var ht=0;ht<w;++ht){var mt=v[ht],At=mt.id;if(X=0,St[mt.id].inDegree===0)Z[At]=0;else{for(var Bt=gi(At,T,"source"),kt=0;kt<Bt.length;++kt){var Yt=Bt[kt],qt=St[Yt].outDegree;qt>0&&(X+=J[Yt]/qt)}Z[At]=e*X,a+=Z[At]}}a=(1-a)/w,r=0;for(var ht=0;ht<w;++ht){var mt=v[ht],At=mt.id;X=Z[At]+a,r+=Math.abs(X-J[At]),J[At]=X}l-=1}return J},ue=Ce,we=-1,ke=-1,xr="-1",Hr="-1",ra=-1,Xa="-1",Ki=function(){function u(n,t,e,r){n===void 0&&(n=we),t===void 0&&(t=ke),e===void 0&&(e=ke),r===void 0&&(r=xr),this.id=n,this.from=t,this.to=e,this.label=r}return u}(),Dl=function(){function u(n,t){n===void 0&&(n=ke),t===void 0&&(t=Hr),this.id=n,this.label=t,this.edges=[],this.edgeMap={}}return u.prototype.addEdge=function(n){this.edges.push(n),this.edgeMap[n.id]=n},u}(),Hs=function(){function u(n,t,e){n===void 0&&(n=ke),t===void 0&&(t=!0),e===void 0&&(e=!1),this.id=n,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=e}return u.prototype.getNodeNum=function(){return this.nodes.length},u.prototype.addNode=function(n,t){if(!this.nodeMap[n]){var e=new Dl(n,t);this.nodes.push(e),this.nodeMap[n]=e,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(n)}},u.prototype.addEdge=function(n,t,e,r){if((this.edgeIdAutoIncrease||n===void 0)&&(n=this.counter++),!(this.nodeMap[t]&&this.nodeMap[e]&&this.nodeMap[e].edgeMap[n])){var a=new Ki(n,t,e,r);if(this.edges.push(a),this.edgeMap[n]=a,this.nodeMap[t].addEdge(a),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(a),!this.directed){var l=new Ki(n,e,t,r);this.nodeMap[e].addEdge(l),this.edgeLabelMap[r].push(l)}}},u}(),ko=function(){function u(n,t,e,r,a){this.fromNode=n,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:e||Hr,edgeLabel:r||xr,nodeLabel2:a||Hr}}return u.prototype.equalTo=function(n){return this.fromNode===n.formNode&&this.toNode===n.toNode&&this.nodeEdgeNodeLabel===n.nodeEdgeNodeLabel},u.prototype.notEqualTo=function(n){return!this.equalTo(n)},u}(),Vo=function(){function u(){this.rmpath=[],this.dfsEdgeList=[]}return u.prototype.equalTo=function(n){var t=this.dfsEdgeList.length,e=n.length;if(t!==e)return!1;for(var r=0;r<t;r++)if(this.dfsEdgeList[r]!==n[r])return!1;return!0},u.prototype.notEqualTo=function(n){return!this.equalTo(n)},u.prototype.pushBack=function(n,t,e,r,a){return this.dfsEdgeList.push(new ko(n,t,e,r,a)),this.dfsEdgeList},u.prototype.toGraph=function(n,t){n===void 0&&(n=ra),t===void 0&&(t=!1);var e=new Hs(n,!0,t);return this.dfsEdgeList.forEach(function(r){var a=r.fromNode,l=r.toNode,f=r.nodeEdgeNodeLabel,v=f.nodeLabel1,m=f.edgeLabel,T=f.nodeLabel2;v!==Hr&&e.addNode(a,v),T!==Hr&&e.addNode(l,T),e.addEdge(void 0,a,l,m)}),e},u.prototype.buildRmpath=function(){this.rmpath=[];for(var n=void 0,t=this.dfsEdgeList.length,e=t-1;e>=0;e--){var r=this.dfsEdgeList[e],a=r.fromNode,l=r.toNode;a<l&&(n===void 0||l===n)&&(this.rmpath.push(e),n=a)}return this.rmpath},u.prototype.getNodeNum=function(){var n={};return this.dfsEdgeList.forEach(function(t){n[t.fromNode]||(n[t.fromNode]=!0),n[t.toNode]||(n[t.toNode]=!0)}),Object.keys(n).length},u}(),nu=function(){function u(n){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!n){for(;n;){var t=n.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,n=n.preNode}this.edges=this.edges.reverse()}}return u.prototype.hasNode=function(n){return this.nodesUsed[n.id]===1},u.prototype.hasEdge=function(n){return this.edgesUsed[n.id]===1},u}(),au=function(){function u(n){var t=n.graphs,e=n.minSupport,r=e===void 0?2:e,a=n.minNodeNum,l=a===void 0?1:a,f=n.maxNodeNum,v=f===void 0?4:f,m=n.top,T=m===void 0?10:m,w=n.directed,X=w===void 0?!1:w,Z=n.verbose,J=Z===void 0?!1:Z;this.graphs=t,this.dfsCode=new Vo,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=T,this.directed=X,this.counter=0,this.maxNodeNum=v,this.minNodeNum=l,this.verbose=J,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return u.prototype.findForwardRootEdges=function(n,t){var e=this,r=[],a=n.nodeMap;return t.edges.forEach(function(l){(e.directed||t.label<=a[l.to].label)&&r.push(l)}),r},u.prototype.findBackwardEdge=function(n,t,e,r){if(!this.directed&&t===e)return null;for(var a=n.nodeMap,l=a[e.to],f=l.edges,v=f.length,m=0;m<v;m++){var T=f[m];if(!(r.hasEdge(T)||T.to!==t.from)){if(this.directed){if(a[t.from].label<a[e.to].label||a[t.from].label===a[e.to].label&&t.label<=T.label)return T}else if(t.label<T.label||t.label===T.label&&a[t.to].label<=a[e.to].label)return T}}return null},u.prototype.findForwardPureEdges=function(n,t,e,r){for(var a=[],l=t.to,f=n.nodeMap[l].edges,v=f.length,m=0;m<v;m++){var T=f[m],w=n.nodeMap[T.to];e<=w.label&&!r.hasNode(w)&&a.push(T)}return a},u.prototype.findForwardRmpathEdges=function(n,t,e,r){for(var a=[],l=n.nodeMap,f=l[t.to].label,v=l[t.from],m=v.edges,T=m.length,w=0;w<T;w++){var X=m[w],Z=l[X.to].label;t.to===X.to||e>Z||r.hasNode(l[X.to])||(t.label<X.label||t.label===X.label&&f<=Z)&&a.push(X)}return a},u.prototype.getSupport=function(n){var t={};return n.forEach(function(e){t[e.graphId]||(t[e.graphId]=!0)}),Object.keys(t).length},u.prototype.findMinLabel=function(n){var t=void 0;return Object.keys(n).forEach(function(e){var r=n[e],a=r.nodeLabel1,l=r.edgeLabel,f=r.nodeLabel2;if(!t){t={nodeLabel1:a,edgeLabel:l,nodeLabel2:f};return}(a<t.nodeLabel1||a===t.nodeLabel1&&l<t.edgeLabel||a===t.nodeLabel1&&l===t.edgeLabel&&f<t.nodeLabel2)&&(t={nodeLabel1:a,edgeLabel:l,nodeLabel2:f})}),t},u.prototype.isMin=function(){var n=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var e=this.directed,r=t.toGraph(ra,e),a=r.nodeMap,l=new Vo,f={};r.nodes.forEach(function(w){var X=n.findForwardRootEdges(r,w);X.forEach(function(Z){var J=a[Z.to],ht=w.label+"-"+Z.label+"-"+J.label;f[ht]||(f[ht]={projected:[],nodeLabel1:w.label,edgeLabel:Z.label,nodeLabel2:J.label});var mt={graphId:r.id,edge:Z,preNode:null};f[ht].projected.push(mt)})});var v=this.findMinLabel(f);l.dfsEdgeList.push(new ko(0,1,v.nodeLabel1,v.edgeLabel,v.nodeLabel2));var m=function w(X){for(var Z=l.buildRmpath(),J=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,ht=l.dfsEdgeList[Z[0]].toNode,mt={},At=!1,St=0,Bt=e?-1:0,kt=function(Zr){if(At)return"break";X.forEach(function(Rr){var Dr=new nu(Rr),Ur=n.findBackwardEdge(r,Dr.edges[Z[Zr]],Dr.edges[Z[0]],Dr);Ur&&(mt[Ur.label]||(mt[Ur.label]={projected:[],edgeLabel:Ur.label}),mt[Ur.label].projected.push({graphId:r.id,edge:mt,preNode:Rr}),St=l.dfsEdgeList[Z[Zr]].fromNode,At=!0)})},Yt=Z.length-1;Yt>Bt;Yt--){var qt=kt(Yt);if(qt==="break")break}if(At){var ee=n.findMinLabel(mt);l.dfsEdgeList.push(new ko(ht,St,Hr,ee.edgeLabel,Hr));var re=l.dfsEdgeList.length-1;return n.dfsCode.dfsEdgeList[re]!==l.dfsEdgeList[re]?!1:w(mt[ee.edgeLabel].projected)}var fe={};At=!1;var le=0;X.forEach(function(Qr){var Zr=new nu(Qr),Rr=n.findForwardPureEdges(r,Zr.edges[Z[0]],J,Zr);Rr.length>0&&(At=!0,le=ht,Rr.forEach(function(Dr){var Ur=Dr.label+"-"+a[Dr.to].label;fe[Ur]||(fe[Ur]={projected:[],edgeLabel:Dr.label,nodeLabel2:a[Dr.to].label}),fe[Ur].projected.push({graphId:r.id,edge:Dr,preNode:Qr})}))});for(var Oe=Z.length,Te=function(Zr){if(At)return"break";var Rr=Z[Zr];X.forEach(function(Dr){var Ur=new nu(Dr),Lr=n.findForwardRmpathEdges(r,Ur.edges[Rr],J,Ur);Lr.length>0&&(At=!0,le=l.dfsEdgeList[Rr].fromNode,Lr.forEach(function(kr){var On=kr.label+"-"+a[kr.to].label;fe[On]||(fe[On]={projected:[],edgeLabel:kr.label,nodeLabel2:a[kr.to].label}),fe[On].projected.push({graphId:r.id,edge:kr,preNode:Dr})}))})},Yt=0;Yt<Oe;Yt++){var sr=Te(Yt);if(sr==="break")break}if(!At)return!0;var fr=n.findMinLabel(fe);l.dfsEdgeList.push(new ko(le,ht+1,Hr,fr.edgeLabel,fr.nodeLabel2));var vr=l.dfsEdgeList.length-1;return t.dfsEdgeList[vr]!==l.dfsEdgeList[vr]?!1:w(fe[fr.edgeLabel+"-"+fr.nodeLabel2].projected)},T=v.nodeLabel1+"-"+v.edgeLabel+"-"+v.nodeLabel2;return m(f[T].projected)},u.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var n=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Object(p.e)(n))}},u.prototype.subGraphMining=function(n){var t=this,e=this.getSupport(n);if(!(e<this.minSupport)&&!!this.isMin()){this.report();var r=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),l=this.dfsCode.dfsEdgeList[a[0]].toNode,f=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,v={},m={};n.forEach(function(T){for(var w=t.graphs[T.graphId],X=w.nodeMap,Z=new nu(T),J=a.length-1;J>=0;J--){var ht=t.findBackwardEdge(w,Z.edges[a[J]],Z.edges[a[0]],Z);if(ht){var mt=t.dfsCode.dfsEdgeList[a[J]].fromNode+"-"+ht.label;m[mt]||(m[mt]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[a[J]].fromNode,edgeLabel:ht.label}),m[mt].projected.push({graphId:T.graphId,edge:ht,preNode:T})}}if(!(r>=t.maxNodeNum)){var At=t.findForwardPureEdges(w,Z.edges[a[0]],f,Z);At.forEach(function(Bt){var kt=l+"-"+Bt.label+"-"+X[Bt.to].label;v[kt]||(v[kt]={projected:[],fromNodeId:l,edgeLabel:Bt.label,nodeLabel2:X[Bt.to].label}),v[kt].projected.push({graphId:T.graphId,edge:Bt,preNode:T})});for(var St=function(kt){var Yt=t.findForwardRmpathEdges(w,Z.edges[a[kt]],f,Z);Yt.forEach(function(qt){var ee=t.dfsCode.dfsEdgeList[a[kt]].fromNode+"-"+qt.label+"-"+X[qt.to].label;v[ee]||(v[ee]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[a[kt]].fromNode,edgeLabel:qt.label,nodeLabel2:X[qt.to].label}),v[ee].projected.push({graphId:T.graphId,edge:qt,preNode:T})})},J=0;J<a.length;J++)St(J)}}),Object.keys(m).forEach(function(T){var w=m[T],X=w.toNodeId,Z=w.edgeLabel;t.dfsCode.dfsEdgeList.push(new ko(l,X,"-1",Z,"-1")),t.subGraphMining(m[T].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(v).forEach(function(T){var w=v[T],X=w.fromNodeId,Z=w.edgeLabel,J=w.nodeLabel2;t.dfsCode.dfsEdgeList.push(new ko(X,l+1,Hr,Z,J)),t.subGraphMining(v[T].projected),t.dfsCode.dfsEdgeList.pop()})}},u.prototype.generate1EdgeFrequentSubGraphs=function(){var n=this.graphs,t=this.directed,e=this.minSupport,r=this.frequentSize1Subgraphs,a={},l={},f={},v={};return Object.keys(n).forEach(function(m){var T=n[m],w=T.nodeMap;T.nodes.forEach(function(X,Z){var J=X.label,ht=m+"-"+J;if(!f[ht]){var mt=a[J]||0;mt++,a[J]=mt}f[ht]={graphKey:m,label:J},X.edges.forEach(function(At){var St=J,Bt=w[At.to].label;if(!t&&St>Bt){var kt=Bt;Bt=St,St=kt}var Yt=At.label,qt=m+"-"+St+"-"+Yt+"-"+Bt,ee=St+"-"+Yt+"-"+Bt;if(!l[ee]){var re=l[ee]||0;re++,l[ee]=re}v[qt]={graphId:m,nodeLabel1:St,edgeLabel:Yt,nodeLabel2:Bt}})})}),Object.keys(a).forEach(function(m){var T=a[m];if(!(T<e)){var w={nodes:[],edges:[]};w.nodes.push({id:"0",label:m}),r.push(w)}}),r},u.prototype.run=function(){var n=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,e=this.directed,r={};Object.keys(t).forEach(function(a){var l=t[a],f=l.nodeMap;l.nodes.forEach(function(v){var m=n.findForwardRootEdges(l,v);m.forEach(function(T){var w=f[T.to],X=v.label+"-"+T.label+"-"+w.label;r[X]||(r[X]={projected:[],nodeLabel1:v.label,edgeLabel:T.label,nodeLabel2:w.label});var Z={graphId:a,edge:T,preNode:null};r[X].projected.push(Z)})})}),Object.keys(r).forEach(function(a){var l=r[a],f=l.projected,v=l.nodeLabel1,m=l.edgeLabel,T=l.nodeLabel2;n.dfsCode.dfsEdgeList.push(new ko(0,1,v,m,T)),n.subGraphMining(f),n.dfsCode.dfsEdgeList.pop()})}},u}(),iu=function(n,t,e,r){var a={};return Object.keys(n).forEach(function(l,f){var v=n[l],m=new Hs(f,!0,t),T={};v.nodes.forEach(function(w,X){m.addNode(X,w[e]),T[w.id]=X}),v.edges.forEach(function(w,X){var Z=T[w.source],J=T[w.target];m.addEdge(-1,Z,J,w[r])}),m&&m.getNodeNum()&&(a[m.id]=m)}),a},Tf=function(n,t,e){var r=[];return n.forEach(function(a){var l={nodes:[],edges:[]};a.nodes.forEach(function(f){var v;l.nodes.push((v={id:""+f.id},v[t]=f.label,v))}),a.edges.forEach(function(f){var v;l.edges.push((v={source:""+f.from,target:""+f.to},v[e]=f.label,v))}),r.push(l)}),r},vc="cluster",gc=function(n){var t=n.graphs,e=n.directed,r=e===void 0?!1:e,a=n.nodeLabelProp,l=a===void 0?vc:a,f=n.edgeLabelProp,v=f===void 0?vc:f,m=iu(t,r,l,v),T=n.minSupport,w=n.maxNodeNum,X=n.minNodeNum,Z=n.verbose,J=n.top,ht={graphs:m,minSupport:T,maxNodeNum:w,minNodeNum:X,top:J,verbose:Z,directed:r},mt=new au(ht);mt.run();var At=Tf(mt.frequentSubgraphs,l,v);return At},Os=gc;function ou(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(t){return typeof t}:ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(u)}var Af=function(n,t,e,r){e===void 0&&(e="cluster"),r===void 0&&(r=2);var a=[],l=n.nodes;return t.forEach(function(f,v){a.push(If(l,f,v,e,r))}),a},If=function(n,t,e,r,a){var l=[e],f=[],v={};return t.forEach(function(m,T){if(m<=a&&e!==T){l.push(T),f.push(n[T]);var w=n[T][r];v[w]?(v[w].count++,v[w].dists.push(m)):v[w]={count:1,dists:[m]}}}),Object.keys(v).forEach(function(m){v[m].dists=v[m].dists.sort(function(T,w){return T-w})}),{nodeIdx:e,nodeId:n[e].id,nodeIdxs:l,neighbors:f,neighborNum:l.length-1,nodeLabelCountMap:v}},hl=function(n,t,e,r,a){var l=Math.ceil(e/t),f={},v=0;return r.forEach(function(m,T){for(var w=0,X=0,Z=m.nodeIdxs,J=m.neighborNum-1;w<l;){for(var ht=Z[1+Math.floor(Math.random()*J)],mt=0;(f[T+"-"+ht]||f[ht+"-"+T])&&(ht=Math.floor(Math.random()*t),mt++,!(mt>2*t)););if(mt<2*t&&(f[T+"-"+ht]={start:T,end:ht,distance:a[T][ht]},w++,v++,v>=e))return f;if(X++,X>2*t)break}if(w<l){var At=l-w;l=(l+At)/(t-T-1)}}),f},ju=function(n,t,e,r){var a=e.nodes;return r||(r={}),Object.keys(n).forEach(function(l){var f,v;if(!(r&&r[l])){r[l]={nodes:[],edges:[]};var m=n[l],T=(f=t[m.start])===null||f===void 0?void 0:f.nodeIdxs,w=(v=t[m.end])===null||v===void 0?void 0:v.nodeIdxs;if(!(!T||!w)){var X=new Set(w),Z=T.filter(function(St){return X.has(St)});if(!(!Z||!Z.length)){for(var J={},ht=Z.length,mt=0;mt<ht;mt++){var At=a[Z[mt]];r[l].nodes.push(At),J[At.id]=!0}e.edges.forEach(function(St){J[St.source]&&J[St.target]&&r[l].edges.push(St)})}}}}),r},Ru=function(n,t,e,r){var a={};n.nodes.forEach(function(f){a[f.id]=f});var l=0;return n.edges.forEach(function(f){var v=a[f.source][e],m=a[f.target][e],T=t.nodes[0][e],w=t.nodes[1][e],X=t.edges[0][r];f[r]===X&&(v===T&&m===w||v===w&&m===T)&&l++}),l},Df=function(n,t,e){for(var r=Infinity,a=0,l=function(m){var T=n[m],w=Object.keys(T).sort(function(St,Bt){return T[St]-T[Bt]}),X=10,Z=[];w.forEach(function(St,Bt){Z[Bt%X]||(Z[Bt%X]={graphs:[],totalCount:0,aveCount:0}),Z[Bt%X].graphs.push(St),Z[Bt%X].totalCount+=T[St]});var J=0,ht=[];Z.forEach(function(St){var Bt=St.totalCount/St.graphs.length;St.aveCount=Bt,ht.push(Bt);var kt=0,Yt=St.length;St.graphs.forEach(function(qt,ee){var re=T[qt];St.graphs.forEach(function(fe,le){ee!==le&&(kt+=Math.abs(re-T[fe]))})}),kt/=Yt*(Yt-1)/2,J+=kt}),J/=Z.length;var mt=0;ht.forEach(function(St,Bt){ht.forEach(function(kt,Yt){Bt!==Yt&&(mt+=Math.abs(St-kt))}),mt/=ht.length*(ht.length-1)/2});var At=mt-J;r<At&&(r=At,a=m)},f=0;f<t;f++)l(f);return{structure:e[a],structureCountMap:n[a]}},dl=function(n,t){var e={},r={};return n.forEach(function(a,l){e[a.id]={idx:l,node:a,degree:0};var f=a[t];r[f]||(r[f]=[]),r[f].push(a)}),{nodeMap:e,nodeLabelMap:r}},su=function(n,t,e){var r={},a={};return n.forEach(function(l,f){r[""+ks]={idx:f,edge:l};var v=l[t];a[v]||(a[v]=[]),a[v].push(l);var m=e[l.source];m&&m.degree++;var T=e[l.target];T&&T.degree++}),{edgeMap:r,edgeLabelMap:a}},mo=function(n,t,e){var r=t.length,a={};return t.forEach(function(l,f){for(var v=e?0:f+1,m=n[f].id,T=v;T<r;T++)if(f!==T){var w=n[T].id,X=l[T];a[m+"-"+w]=X,e||(a[w+"-"+m]=X)}}),a},js=function(n,t,e,r,a,l,f,v,m,T,w){var X,Z=t.id+"-"+e.id;if(T&&T[Z])return T[Z];var J=w?w[Z]:void 0;if(!J){var ht=(X={},X[Z]={start:r[t.id].idx,end:r[e.id].idx,distance:a},X);w=ju(ht,l,n,w),J=w[Z]}return Ru(J,f,v,m)},Ed=function(n,t,e,r,a,l,f){if(e===void 0&&(e=!1),l===void 0&&(l="cluster"),f===void 0&&(f="cluster"),!(!n||!n.nodes)){var v=n.nodes.length;if(!!v){var m=Pr(n,e),T=Pr(t,e),w=mo(n.nodes,m,e),X=mo(t.nodes,T,e),Z=dl(n.nodes,l),J=Z.nodeMap,ht=Z.nodeLabelMap,mt=dl(t.nodes,l),At=mt.nodeMap,St=mt.nodeLabelMap;su(n.edges,f,J);var Bt=su(t.edges,f,At).edgeLabelMap;a||(a=Math.max.apply(Math,Object(ve.f)(Object(ve.f)([],T[0]),[2]))),r||(r=a);var kt=Af(n,m,l,r),Yt=Af(t,T,l,r),qt=Math.min(100,v*(v-1)/2),ee=hl(r,v,qt,Yt,m),re=ju(ee,kt,n),fe=10,le=1,Oe=1,Te=4,sr={graphs:re,nodeLabelProp:l,edgeLabelProp:f,minSupport:le,minNodeNum:Oe,maxNodeNum:Te,directed:e},fr=Os(sr).slice(0,fe),vr=fr.length,Qr=[];fr.forEach(function(Ya,mi){Qr[mi]={},Object.keys(re).forEach(function(ci){var ka=re[ci],Ci=Ru(ka,Ya,l,f);Qr[mi][ci]=Ci})});var Zr=Df(Qr,vr,fr),Rr=Zr.structure,Dr=Zr.structureCountMap,Ur=t.nodes[0],Lr=Ur[l],kr=ht[Lr],On={},Wr={},Xr={},Nn={},Fn={};Object.keys(St).forEach(function(Ya,mi){Fn[Ya]=[];var ci=-Infinity,ka=St[Ya],Ci={};ka.forEach(function(ei){var Ta=X[Ur.id+"-"+ei.id];Ta&&Fn[Ya].push(Ta),ci<Ta&&(ci=Ta),Ci[Ur.id+"-"+ei.id]={start:0,end:At[ei.id].idx,distance:Ta}}),Fn[Ya]=Fn[Ya].sort(function(ei,Ta){return ei-Ta}),Wr=ju(Ci,Yt,t,Wr);var Ma=[];if(Object.keys(Ci).forEach(function(ei){if(Xr[ei]){Ma.push(Xr[ei]);return}var Ta=Wr[ei];Xr[ei]=Ru(Ta,Rr,l,f),Ma.push(Xr[ei])}),Ma=Ma.sort(function(ei,Ta){return Ta-ei}),Nn[Ur.id+"-"+Ya]=Ma,Ya!==Lr)for(var Mi=kr.length,ii=function(Ta){var bi=kr[Ta],jn=kt[J[bi.id].idx],vi=jn.nodeLabelCountMap[Ya],Iu=St[Ya].length;if(!vi||vi.count<Iu)return kr.splice(Ta,1),"continue";for(var Do=!1,os=0;os<Iu;os++)if(vi.dists[os]>Fn[Ya][os]){Do=!0;break}if(Do)return kr.splice(Ta,1),"continue";var gs={};jn.neighbors.forEach(function(vo){var Fo=w[bi.id+"-"+vo.id];gs[bi.id+"-"+vo.id]={start:J[bi.id].idx,end:J[vo.id].idx,distance:Fo}}),re=ju(gs,kt,n,re);var no=[];Object.keys(gs).forEach(function(vo){if(Dr[vo]){no.push(Dr[vo]);return}var Fo=re[vo];Dr[vo]=Ru(Fo,Rr,l,f),no.push(Dr[vo])}),no=no.sort(function(vo,Fo){return Fo-vo});for(var ss=!1,os=0;os<Iu;os++)if(no[os]<Ma[os]){ss=!0;break}if(ss)return kr.splice(Ta,1),"continue"},Io=Mi-1;Io>=0;Io--)ii(Io)});var Vn=[];kr.forEach(function(Ya){for(var mi=J[Ya.id].idx,ci=If(n.nodes,m[mi],mi,l,a),ka=ci.neighbors,Ci=ka.length,Ma=!1,Mi=function(Ta){if(ka.length+1<t.nodes.length)return Ma=!0,{value:void 0};var bi=ka[Ta],jn=bi[l];if(!St[jn]||!St[jn].length)return ka.splice(Ta,1),"continue";var vi=Ya.id+"-"+bi.id;if(!Fn[jn]||!Fn[jn].length)return ka.splice(Ta,1),"continue";var Iu=w[vi],Do=Fn[jn][Fn[jn].length-1];if(Iu>Do)return ka.splice(Ta,1),"continue";var os=Dr[vi]?Dr[vi]:js(n,Ya,bi,J,Iu,kt,Rr,l,f,Dr,re),gs=Ur.id+"-"+jn,no=Nn[gs][Nn[gs].length-1];if(os<no)return ka.splice(Ta,1),"continue";var ss=On[jn];if(ss===void 0&&(ss=Infinity,St[jn].forEach(function(vo){var Fo=At[vo.id].degree;ss>Fo&&(ss=Fo)}),On[jn]=ss),J[bi.id].degree<ss)return ka.splice(Ta,1),"continue"},ii=Ci-1;ii>=0;ii--){var Io=Mi(ii);if(ou(Io)==="object")return Io.value}Ma||Vn.push({nodes:[Ya].concat(ka)})});var Or=Tr(t,Ur.id,!1).length,Ca={};e?(Object.keys(Or).forEach(function(Ya){var mi=At[Ya].node[l];Ca[mi]?Ca[mi].push(Or[Ya]):Ca[mi]=[Or[Ya]]}),Object.keys(Ca).forEach(function(Ya){Ca[Ya].sort(function(mi,ci){return mi-ci})})):Ca=Fn;for(var Rn=Vn.length,En=function(mi){var ci=Vn[mi],ka=ci.nodes[0],Ci={},Ma={};ci.nodes.forEach(function(Ri,go){Ma[Ri.id]={idx:go,node:Ri,degree:0};var Eo=Ri[l];Ci[Eo]?Ci[Eo]++:Ci[Eo]=1});var Mi=[],ii={};n.edges.forEach(function(Ri){Ma[Ri.source]&&Ma[Ri.target]&&(Mi.push(Ri),ii[Ri[f]]?ii[Ri[f]]++:ii[Ri[f]]=1,Ma[Ri.source].degree++,Ma[Ri.target].degree++)});for(var Io=Object.keys(Bt).length,ei=!1,Ta=0;Ta<Io;Ta++){var bi=Object.keys(Bt)[Ta];if(!ii[bi]||ii[bi]<Bt[bi].length){ei=!0;break}}if(ei)return Vn.splice(mi,1),"continue";var jn=Mi.length;if(jn<t.edges.length)return Vn.splice(mi,1),"break";for(var vi=!1,Iu=function(go){var Eo=Mi[go],ls=Eo[f],Pu=Bt[ls];if(!Pu||!Pu.length)return ii[ls]--,Pu&&ii[ls]<Pu.length?(vi=!0,"break"):(Mi.splice(go,1),Ma[Eo.source].degree--,Ma[Eo.target].degree--,"continue");var ph=Ma[Eo.source].node[l],md=Ma[Eo.target].node[l],Ev=!1;if(Pu.forEach(function(Lu){var yh=At[Lu.source].node,Sf=At[Lu.target].node;yh[l]===ph&&Sf[l]===md&&(Ev=!0),!e&&yh[l]===md&&Sf[l]===ph&&(Ev=!0)}),!Ev)return ii[ls]--,Pu&&ii[ls]<Pu.length?(vi=!0,"break"):(Mi.splice(go,1),Ma[Eo.source].degree--,Ma[Eo.target].degree--,"continue")},Ta=jn-1;Ta>=0;Ta--){var Do=Iu(Ta);if(Do==="break")break}if(vi)return Vn.splice(mi,1),"continue";ci.edges=Mi;var os=Tr(ci,ci.nodes[0].id,!1).length;if(Object.keys(os).reverse().forEach(function(Ri){if(!(Ri===ci.nodes[0].id||vi)){if(os[Ri]===Infinity){var go=Ma[Ri].node[l];if(Ci[go]--,Ci[go]<St[go].length){vi=!0;return}var Eo=ci.nodes.indexOf(Ma[Ri].node);ci.nodes.splice(Eo,1),Ma[Ri]=void 0;return}var ls=J[Ri].node[l];if(!Ca[ls]||!Ca[ls].length||os[Ri]>Ca[ls][Ca[ls].length-1]){var go=Ma[Ri].node[l];if(Ci[go]--,Ci[go]<St[go].length){vi=!0;return}var Eo=ci.nodes.indexOf(Ma[Ri].node);ci.nodes.splice(Eo,1),Ma[Ri]=void 0}}}),vi)return Vn.splice(mi,1),"continue";for(var gs=!0,no=0;gs&&!vi;){if(gs=!1,Ma[ka.id].degree<At[Ur.id].degree){vi=!0;break}if(Ci[ka[l]]<St[ka[l]].length){vi=!0;break}for(var ss=ci.nodes.length,vo=ss-1;vo>=0;vo--){var Fo=ci.nodes[vo],Du=Ma[Fo.id].degree,xv=Fo[l];if(Du<On[xv]){if(Ci[Fo[l]]--,Ci[Fo[l]]<St[Fo[l]].length){vi=!0;break}ci.nodes.splice(vo,1),Ma[Fo.id]=void 0,gs=!0}}if(vi||!gs&&no!==0)break;jn=Mi.length;for(var ps=jn-1;ps>=0;ps--){var il=Mi[ps];if(!Ma[il.source]||!Ma[il.target]){Mi.splice(ps,1);var Ef=il[f];if(ii[Ef]--,Ma[il.source]&&Ma[il.source].degree--,Ma[il.target]&&Ma[il.target].degree--,Bt[Ef]&&ii[Ef]<Bt[Ef].length){vi=!0;break}gs=!0}}no++}if(vi||vi||ci.nodes.length<t.nodes.length||Mi.length<t.edges.length)return Vn.splice(mi,1),"continue"},Da=Rn-1;Da>=0;Da--){var ui=En(Da);if(ui==="break")break}for(var ri=Vn.length,ho=function(mi){var ci=Vn[mi],ka={};ci.edges.forEach(function(Mi){var ii=Mi.source+"-"+Mi.target+"-"+Mi.label;ka[ii]?ka[ii]++:ka[ii]=1});for(var Ci=function(ii){var Io=Vn[ii],ei={};Io.edges.forEach(function(bi){var jn=bi.source+"-"+bi.target+"-"+bi.label;ei[jn]?ei[jn]++:ei[jn]=1});var Ta=!0;Object.keys(ei).length!==Object.keys(ka).length?Ta=!1:Object.keys(ka).forEach(function(bi){ei[bi]!==ka[bi]&&(Ta=!1)}),Ta&&Vn.splice(ii,1)},Ma=ri-1;Ma>mi;Ma--)Ci(Ma);ri=Vn.length},Da=0;Da<=ri-1;Da++)ho(Da);return Vn}}},pc=Ed,Sd=function(){function u(n){n===void 0&&(n=10),this.linkedList=new yo,this.maxStep=n}return Object.defineProperty(u.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),u.prototype.isEmpty=function(){return!this.linkedList.head},u.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},u.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},u.prototype.push=function(n){this.linkedList.prepend(n),this.length>this.maxStep&&this.linkedList.deleteTail()},u.prototype.pop=function(){var n=this.linkedList.deleteHead();return n?n.value:null},u.prototype.toArray=function(){return this.linkedList.toArray().map(function(n){return n.value})},u.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},u}(),Pl=Sd,Pi={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},Pf={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},wu=self;wu.onmessage=function(u){var n=u.data,t=n._algorithmType,e=n.data;if(!!t){if(typeof d[t]=="function"){var r=d[t].apply(d,e);wu.postMessage({_algorithmType:Pf.SUCCESS,data:r});return}wu.postMessage({_algorithmType:Pf.FAILURE})}};var Lf=null,jf=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Promise(function(r,a){var l=new Lf;l.postMessage({_algorithmType:n,data:t}),l.onmessage=function(f){var v=f.data,m=v.data,T=v._algorithmType;Pf.SUCCESS===T?r(m):a(),l.terminate()}})}},Wi=jf,yc=function(n,t){return Wi(Pi.getAdjMatrix).apply(void 0,[n,t])},mc=function(n,t){return Wi(Pi.connectedComponent).apply(void 0,[n,t])},vl=function(n){return Wi(Pi.getDegree)(n)},Rf=function(n,t){return Wi(Pi.getInDegree)(n,t)},to=function(n,t){return Wi(Pi.getOutDegree)(n,t)},wf=function(n){return Wi(Pi.detectCycle)(n)},bh=function(n){return Wi(Pi.detectAllCycles)(n)},bc=function(n){return Wi(Pi.detectAllDirectedCycle)(n)},Ks=function(n){return Wi(Pi.detectAllUndirectedCycle)(n)},Oi=function(n,t,e,r){return Wi(Pi.dijkstra).apply(void 0,[n,t,e,r])},Oc=function(n,t,e,r){return Wi(Pi.findAllPath).apply(void 0,[n,t,e,r])},Oh=function(n,t,e,r,a){return Wi(Pi.findShortestPath).apply(void 0,[n,t,e,r,a])},xc=function(n,t){return Wi(Pi.floydWarshall).apply(void 0,[n,t])},Rs=function(n,t,e,r){return r===void 0&&(r=1e3),Wi(Pi.labelPropagation)(n,t,e,r)},xh=function(n,t,e,r){return Wi(Pi.louvain)(n,t,e,r)},Bu=function(n,t,e){return Wi(Pi.minimumSpanningTree).apply(void 0,[n,t,e])},Ji=function(n,t,e){return Wi(Pi.pageRank).apply(void 0,[n,t,e])},ws=function(n,t,e){return Wi(Pi.getNeighbors).apply(void 0,[n,t,e])},Ll=function(n,t,e,r,a,l,f){return e===void 0&&(e=!1),l===void 0&&(l="cluster"),f===void 0&&(f="cluster"),Wi(Pi.GADDI).apply(void 0,[n,t,e,r,a,l,f])},Bf=Ue,Nu=wf,Cd={getAdjMatrix:hi,breadthFirstSearch:jo,connectedComponent:Xs,getDegree:Ls,getInDegree:fl,getOutDegree:U,detectCycle:Ue,detectDirectedCycle:Bf,detectAllCycles:Ne,detectAllDirectedCycle:Le,detectAllUndirectedCycle:xe,depthFirstSearch:ae,dijkstra:Tr,findAllPath:$r,findShortestPath:Sr,floydWarshall:Pr,labelPropagation:xa,louvain:oa,minimumSpanningTree:da,pageRank:ue,getNeighbors:gi,Stack:Pl,GADDI:pc,getAdjMatrixAsync:yc,connectedComponentAsync:mc,getDegreeAsync:vl,getInDegreeAsync:Rf,getOutDegreeAsync:to,detectCycleAsync:wf,detectDirectedCycleAsync:Nu,detectAllCyclesAsync:bh,detectAllDirectedCycleAsync:bc,detectAllUndirectedCycleAsync:Ks,dijkstraAsync:Oi,findAllPathAsync:Oc,findShortestPathAsync:Oh,floydWarshallAsync:xc,labelPropagationAsync:Rs,louvainAsync:xh,minimumSpanningTreeAsync:Bu,pageRankAsync:Ji,getNeighborsAsync:ws,GADDIAsync:Ll},Ec=qn.a.transform,Ys=function(n){return function(t,e){return t[n]-e[n]}},Sc=function(n,t,e){return n>=t&&n<=e},Zs=function(n,t,e,r){var a=1e-4,l={x:e.x-n.x,y:e.y-n.y},f={x:t.x-n.x,y:t.y-n.y},v={x:r.x-e.x,y:r.y-e.y},m=f.x*v.y-f.y*v.x,T=m*m,w=1/m,X=f.x*f.x+f.y*f.y,Z=v.x*v.x+v.y*v.y;if(T>a*X*Z){var J=(l.x*v.y-l.y*v.x)*w,ht=(l.x*f.y-l.y*f.x)*w;return!Sc(J,0,1)||!Sc(ht,0,1)?null:{x:n.x+J*f.x,y:n.y+J*f.y}}return null},eo=function(n,t){var e=n.x,r=n.y,a=n.width,l=n.height,f=e+a/2,v=r+l/2,m=[],T={x:f,y:v};m.push({x:e,y:r}),m.push({x:e+a,y:r}),m.push({x:e+a,y:r+l}),m.push({x:e,y:r+l}),m.push({x:e,y:r});for(var w=null,X=1;X<m.length&&(w=Zs(m[X-1],m[X],T,t),!w);X++);return w},Cc=function(n,t){var e=n.x,r=n.y,a=n.r,l=t.x,f=t.y,v=l-e,m=f-r,T=Math.sqrt(v*v+m*m);if(T<a)return null;var w=Math.sign(v),X=Math.sign(m),Z=Math.atan(m/v);return{x:e+Math.abs(a*Math.cos(Z))*w,y:r+Math.abs(a*Math.sin(Z))*X}},Nf=function(n,t){var e=n.rx,r=n.ry,a=n.x,l=n.y,f=t.x-a,v=t.y-l,m=Math.atan2(v/r,f/e);return m<0&&(m+=2*Math.PI),{x:a+e*Math.cos(m),y:l+r*Math.sin(m)}},Bs=function(n,t,e){e===void 0&&(e=1);var r=[n.x,n.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),qn.d.transformMat3(r,r,t),{x:r[0],y:r[1]}},Mc=function(n,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var r=qn.b.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var a=[n.x,n.y,e];return qn.d.transformMat3(a,a,r),{x:a[0],y:a[1]}},Tc=function(n,t,e){var r=n.x-t.x,a=n.y-t.y,l=n.x-e.x,f=n.y-e.y,v=(n.x*n.x-t.x*t.x-t.y*t.y+n.y*n.y)/2,m=(n.x*n.x-e.x*e.x-e.y*e.y+n.y*n.y)/2,T=a*l-r*f;return{x:-(f*v-a*m)/T,y:-(r*m-l*v)/T}},jl=function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(e*e+r*r)},Cv=function(n,t){var e=[];return n.forEach(function(r){var a=[];r.forEach(function(l){a.push(l*t)}),e.push(a)}),e},Eh=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var a=0;a<e;a+=1)r===a?t[r][a]=0:n[r][a]===0||!n[r][a]?t[r][a]=Infinity:t[r][a]=n[r][a]}for(var l=0;l<e;l+=1)for(var r=0;r<e;r+=1)for(var a=0;a<e;a+=1)t[r][a]>t[r][l]+t[l][a]&&(t[r][a]=t[r][l]+t[l][a]);return t},Rl=function(n,t){var e=n.nodes,r=n.edges,a=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(f,v){l[f.id]=v;var m=[];a.push(m)}),r&&r.forEach(function(f){var v=f.source,m=f.target,T=l[v],w=l[m];a[T][w]=1,t||(a[w][T]=1)}),a},Ac=function(n,t){n.translate(t.x,t.y)},Ff=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=n.getCanvasBBox(),a=t.x-r.minX,l=t.y-r.minY,f=Ec(e,[["t",a,l]]);n.setMatrix(f)},Md=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=t;Object(p.B)(t)||(r=[t,t]),Object(p.B)(t)&&t.length===1&&(r=[t[0],t[0]]),e=Ec(e,[["s",r[0],r[1]]]),n.setMatrix(e)},Gf=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Ec(e,[["r",t]]),n.setMatrix(e)},Ic=function(n,t,e){for(var r=[],a=0;a<n;a++)r[a]=0;return e.forEach(function(l){l.source&&(r[t[l.source]]+=1),l.target&&(r[t[l.target]]+=1)}),r};function Sh(u,n,t){return(t[0]-u[0])*(n[1]-u[1])==(n[0]-u[0])*(t[1]-u[1])&&Math.min(u[0],n[0])<=t[0]&&t[0]<=Math.max(u[0],n[0])&&Math.min(u[1],n[1])<=t[1]&&t[1]<=Math.max(u[1],n[1])}var gl=function(n,t,e){var r=!1,a=n.length,l=1e-6;function f(w){return Math.abs(w)<l?0:w<0?-1:1}if(a<=2)return!1;for(var v=0;v<a;v++){var m=n[v],T=n[(v+1)%a];if(Sh(m,T,[t,e]))return!0;f(m[1]-e)>0!=f(T[1]-e)>0&&f(t-(e-m[1])*(m[0]-T[0])/(m[1]-T[1])-m[0])<0&&(r=!r)}return r},Uf=function(n,t){return!(t.minX>n.maxX||t.maxX<n.minX||t.minY>n.maxY||t.maxY<n.minY)},pl=function(n,t){var e=!1;return Object(p.j)(n,function(r){if(Zs(r.from,r.to,t.from,t.to))return e=!0,!1}),e},Fu=function(n,t){var e=function(X){var Z=X.map(function(ht){return ht[0]}),J=X.map(function(ht){return ht[1]});return{minX:Math.min.apply(null,Z),maxX:Math.max.apply(null,Z),minY:Math.min.apply(null,J),maxY:Math.max.apply(null,J)}},r=function(X){for(var Z=[],J=X.length,ht=0;ht<J-1;ht++){var mt=X[ht],At=X[ht+1];Z.push({from:{x:mt[0],y:mt[1]},to:{x:At[0],y:At[1]}})}if(Z.length>1){var St=X[0],Bt=X[J-1];Z.push({from:{x:Bt[0],y:Bt[1]},to:{x:St[0],y:St[1]}})}return Z};if(n.length<2||t.length<2)return!1;var a=e(n),l=e(t);if(!Uf(a,l))return!1;var f=!1;if(Object(p.j)(t,function(w){if(gl(n,w[0],w[1]))return f=!0,!1}),f||(Object(p.j)(n,function(w){if(gl(t,w[0],w[1]))return f=!0,!1}),f))return!0;var v=r(n),m=r(t),T=!1;return Object(p.j)(m,function(w){if(pl(v,w))return T=!0,!1}),T},Xo=function(){function u(n,t,e,r){this.x1=n,this.y1=t,this.x2=e,this.y2=r}return u.prototype.getBBox=function(){var n=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2),a={x:n,y:t,minX:n,minY:t,maxX:e,maxY:r,width:e-n,height:r-t};return a},u}(),Ha=function(n,t){var e={top:[n.minX,n.minY,n.maxX,n.minY],left:[n.minX,n.minY,n.minX,n.maxY],bottom:[n.minX,n.maxY,n.maxX,n.maxY],right:[n.maxX,n.minY,n.maxX,n.maxY]};return e[t]},fs=function(n,t){var e=(t.x2-t.x1)*(n.y1-t.y1)-(t.y2-t.y1)*(n.x1-t.x1),r=(n.x2-n.x1)*(n.y1-t.y1)-(n.y2-n.y1)*(n.x1-t.x1),a=(t.y2-t.y1)*(n.x2-n.x1)-(t.x2-t.x1)*(n.y2-n.y1);if(a){var l=e/a,f=r/a;if(l>=0&&l<=1&&f>=0&&f<=1)return l}return Number.POSITIVE_INFINITY},Wf=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),a=0,l=[],f=0;f<4;f++){var v=Ha(r,e[f]),m=v[0],T=v[1],w=v[2],X=v[3];l[f]=Zs({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:m,y:T},{x:w,y:X}),l[f]&&(a+=1)}return[l,a]},Dc=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),a=Number.POSITIVE_INFINITY,l=0,f=0;f<4;f++){var v=Ha(r,e[f]),m=v[0],T=v[1],w=v[2],X=v[3],Z=fs(t,new Xo(m,T,w,X));Z=Math.abs(Z-.5),Z>=0&&Z<=1&&(l+=1,a=Z<a?Z:a)}return l===0?-1:a},zf=function(n){var t=0,e=0;if(n.length>0){for(var r=0,a=n;r<a.length;r++){var l=a[r];t+=l.x,e+=l.y}t/=n.length,e/=n.length}return{x:t,y:e}},Gu=function(n,t){return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)},Pc=function(n,t){var e=t.x1,r=t.y1,a=t.x2-e,l=t.y2-r,f=n.x-e,v=n.y-r,m=f*a+v*l,T;m<=0?T=0:(f=a-f,v=l-v,m=f*a+v*l,m<=0?T=0:T=m*m/(a*a+l*l));var w=f*f+v*v-T;return w<0&&(w=0),w},Lc=function(n,t,e){return e===void 0&&(e=.001),Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<Math.pow(e,2)},Ho=function(n,t){var e=n.x<t.x,r=n.x>t.x+t.width,a=n.y>t.y+t.height,l=n.y<t.y,f=e||r||a||l;if(!f)return 0;if(a&&!e&&!r)return Math.pow(t.y+t.height-n.y,2);if(l&&!e&&!r)return Math.pow(n.y-t.y,2);if(e&&!a&&!l)return Math.pow(t.x-n.x,2);if(r&&!a&&!l)return Math.pow(t.x+t.width-n.x,2);var v=Math.min(Math.abs(t.x-n.x),Math.abs(t.x+t.width-n.x)),m=Math.min(Math.abs(t.y-n.y),Math.abs(t.y+t.height-n.y));return v*v+m*m},kf=function(n,t){var e=n[0],r=n[1],a=n[2],l=n[3],f=t.x,v=t.y,m=[a-e,l-r];if(qn.c.exactEquals(m,[0,0]))return NaN;var T=[-m[1],m[0]];qn.c.normalize(T,T);var w=[f-e,v-r];return Math.abs(qn.c.dot(w,T))},Ns="rgb(95, 149, 255)",pi="rgb(255, 255, 255)",Uu="rgb(0, 0, 0)",xs="rgb(247, 250, 255)",Wu="rgb(239, 244, 255)",lu="rgb(253, 253, 253)",Vf="rgb(250, 250, 250)",wl="rgb(224, 224, 224)",Xf="rgb(234, 234, 234)",Ch="rgb(245, 245, 245)",Td="rgb(191, 213, 255)",Ad="#4572d9",Id="rgb(223, 234, 255)",La={mainStroke:Ns,mainFill:Wu,activeStroke:Ns,activeFill:xs,inactiveStroke:Td,inactiveFill:xs,selectedStroke:Ns,selectedFill:pi,highlightStroke:Ad,highlightFill:Id,disableStroke:wl,disableFill:Vf,edgeMainStroke:wl,edgeActiveStroke:Ns,edgeInactiveStroke:Xf,edgeSelectedStroke:Ns,edgeHighlightStroke:Ns,edgeDisableStroke:Ch,comboMainStroke:wl,comboMainFill:lu,comboActiveStroke:Ns,comboActiveFill:xs,comboInactiveStroke:wl,comboInactiveFill:lu,comboSelectedStroke:Ns,comboSelectedFill:lu,comboHighlightStroke:Ad,comboHighlightFill:lu,comboDisableStroke:Xf,comboDisableFill:Vf},Xn={version:"0.3.1",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:La.mainStroke,fill:Wu},size:20,color:La.mainStroke,linkPoints:{size:8,lineWidth:1,fill:La.activeFill,stroke:La.activeStroke}},nodeStateStyles:{active:{fill:La.activeFill,stroke:La.activeStroke,lineWidth:2,shadowColor:La.mainStroke,shadowBlur:10},selected:{fill:La.selectedFill,stroke:La.selectedStroke,lineWidth:4,shadowColor:La.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:La.highlightFill,stroke:La.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:La.inactiveFill,stroke:La.inactiveStroke,lineWidth:1},disable:{fill:La.disableFill,stroke:La.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Uu,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:La.edgeMainStroke,lineAppendWidth:2},color:La.edgeMainStroke},edgeStateStyles:{active:{stroke:La.edgeActiveStroke,lineWidth:1},selected:{stroke:La.edgeSelectedStroke,lineWidth:2,shadowColor:La.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:La.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:La.edgeInactiveStroke,lineWidth:1},disable:{stroke:La.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Uu,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:La.comboMainFill,lineWidth:1,stroke:La.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:La.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:La.comboActiveStroke,lineWidth:1,fill:La.comboActiveFill},selected:{stroke:La.comboSelectedStroke,lineWidth:2,fill:La.comboSelectedFill,shadowColor:La.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:La.comboHighlightStroke,lineWidth:2,fill:La.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:La.comboInactiveStroke,fill:La.comboInactiveFill,lineWidth:1},disable:{stroke:La.comboDisableStroke,fill:La.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},jc={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Es=Math.PI,Rc=Math.sin,Hf=Math.cos,lo=Rc(Es/8),uo=Hf(Es/8),uu=function(n,t){var e=n.getBBox(),r={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var l=t.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),r=Bs(r,l),a=Bs(a,l)}var f=r.x,v=r.y,m=a.x,T=a.y;return{x:f,y:v,minX:f,minY:v,maxX:m,maxY:T,width:m-f,height:T-v}},wc=function(n){var t=n.sourceNode||n.targetNode,e=t.get("group"),r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),l=a.getBBox(),f=n.loopCfg||{},v=f.dist||Math.max(l.width,l.height)*2,m=f.position||Xn.defaultLoopPosition,T=[r[6],r[7]],w=[n.startPoint.x,n.startPoint.y],X=[n.endPoint.x,n.endPoint.y],Z=l.height/2,J=l.height/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo;if(w[0]===X[0]&&w[1]===X[1]){switch(m){case"top":w=[T[0]-ht,T[1]-mt],X=[T[0]+At,T[1]-St];break;case"top-right":Z=l.height/2,J=l.width/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]+ht,T[1]-mt],X=[T[0]+St,T[1]-At];break;case"right":Z=l.width/2,J=l.width/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]+mt,T[1]-ht],X=[T[0]+St,T[1]+At];break;case"bottom-right":Z=l.width/2,J=l.height/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]+mt,T[1]+ht],X=[T[0]+At,T[1]+St];break;case"bottom":Z=l.height/2,J=l.height/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]+ht,T[1]+mt],X=[T[0]-At,T[1]+St];break;case"bottom-left":Z=l.height/2,J=l.width/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]-ht,T[1]+mt],X=[T[0]-St,T[1]+At];break;case"left":Z=l.width/2,J=l.width/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]-mt,T[1]+ht],X=[T[0]-St,T[1]-At];break;case"top-left":Z=l.width/2,J=l.height/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]-mt,T[1]-ht],X=[T[0]-At,T[1]-St];break;default:Z=l.width/2,J=l.width/2,ht=Z*lo,mt=Z*uo,At=J*lo,St=J*uo,w=[T[0]-ht,T[1]-mt],X=[T[0]+At,T[1]-St]}if(f.clockwise===!1){var Bt=[w[0],w[1]];w=[X[0],X[1]],X=[Bt[0],Bt[1]]}}var kt=[w[0]-T[0],w[1]-T[1]],Yt=(Z+v)/Z,qt=(J+v)/J;f.clockwise===!1&&(Yt=(J+v)/J,qt=(Z+v)/Z);var ee=qn.c.scale([0,0],kt,Yt),re=[T[0]+ee[0],T[1]+ee[1]],fe=[X[0]-T[0],X[1]-T[1]],le=qn.c.scale([0,0],fe,qt),Oe=[T[0]+le[0],T[1]+le[1]];return n.startPoint={x:w[0],y:w[1]},n.endPoint={x:X[0],y:X[1]},n.controlPoints=[{x:re[0],y:re[1]},{x:Oe[0],y:Oe[1]}],n},Bc=function(n,t,e,r,a){var l=1e-4,f=[],v=n.getPoint(t);if(v===null)return{x:0,y:0,angle:0};if(t<l)f=n.getStartTangent().reverse();else if(t>1-l)f=n.getEndTangent();else{var m=n.getPoint(t+l);f.push([v.x,v.y]),f.push([m.x,m.y])}var T=Math.atan2(f[1][1]-f[0][1],f[1][0]-f[0][0]);if(T<0&&(T+=Es*2),e&&(v.x+=Hf(T)*e,v.y+=Rc(T)*e),r){var w=T-Es/2;T>1/2*Es&&T<3*1/2*Es&&(w-=Es),v.x+=Hf(w)*r,v.y+=Rc(w)*r}var X={x:v.x,y:v.y,angle:T};return a?(T>1/2*Es&&T<3*1/2*Es&&(T-=Es),Object(ve.a)({rotate:T},X)):X},Mh=function u(n,t){if(t(n)===!1)return!1;if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return!1}return!0},Dd=function u(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return}return t(n)!==!1},qo=function(n,t){typeof t=="function"&&Mh(n,t)},Fs=function(n,t){typeof t=="function"&&Dd(n,t)},zu=function(n,t){return t*(jc[n]||1)},cu=function(n,t){var e=0,r=new RegExp("[\u4E00-\u9FA5]+");return n.split("").forEach(function(a){r.test(a)?e+=t:e+=zu(a,t)}),[e,t]},Nc=function(n,t){var e=[],r={},a={};n.forEach(function(v){a[v.id]=v}),n.forEach(function(v,m){var T=Object(p.e)(v);T.itemType="combo",T.children=void 0,T.parentId===T.id?(console.warn("The parentId for combo "+T.id+" can not be the same as the combo's id"),delete T.parentId):T.parentId&&!a[T.parentId]&&(console.warn("The parent combo for combo "+T.id+" does not exist!"),delete T.parentId);var w=r[T.id];if(w){if(T.children=w.children,r[T.id]=T,w=T,!w.parentId){e.push(w);return}var X=r[w.parentId];if(X)X.children?X.children.push(T):X.children=[T];else{var Z={id:w.parentId,children:[w]};r[w.parentId]=Z,r[T.id]=T}return}if(Object(p.O)(v.parentId)){var J=r[v.parentId];if(J)J.children?J.children.push(T):J.children=[T],r[T.id]=T;else{var ht={id:v.parentId,children:[T]};r[ht.id]=ht,r[T.id]=T}}else e.push(T),r[T.id]=T});var l={};(t||[]).forEach(function(v){l[v.id]=v;var m=r[v.comboId];if(m){var T={id:v.id,comboId:v.comboId};m.children?m.children.push(T):m.children=[T],T.itemType="node",r[v.id]=T}});var f=0;return e.forEach(function(v){v.depth=f+10,Mh(v,function(m){var T,w=r[m.id].itemType;w==="node"?T=r[m.comboId]:T=r[m.parentId],T&&w==="node"?m.depth=f+1:m.depth=f+10,f<m.depth&&(f=m.depth);var X=l[m.id];return X&&(X.depth=m.depth),!0})}),e},Kf=function(n,t,e){var r=n,a,l={root:{children:n}},f=!1,v="root";(n||[]).forEach(function(Z){if(!f){if(Z.id===t){a=Z,Z.itemType==="combo"?a.parentId=e:a.comboId=e,f=!0;return}qo(Z,function(J){return l[J.id]={children:J.children},r=l[J.parentId||J.comboId||"root"].children,J&&(J.removed||t===J.id)&&r?(v=J.parentId||J.comboId||"root",a=J,J.itemType==="combo"?a.parentId=e:a.comboId=e,f=!0,!1):!0})}}),r=l[v].children;var m=r?r.indexOf(a):-1;if(m>-1&&r.splice(m,1),f||(a={id:t,itemType:"node",comboId:e},l[t]={children:void 0}),t){var T=!1;if(e){var w=0;(n||[]).forEach(function(Z){T||qo(Z,function(J){return e===J.id?(T=!0,J.children?J.children.push(a):J.children=[a],w=J.depth,a.itemType==="node"?a.depth=w+2:a.depth=w+1,!1):!0})})}else(!e||!T)&&a.itemType!=="node"&&n.push(a);var X=a.depth;qo(a,function(Z){return Z.itemType==="node"?X+=2:X+=1,Z.depth=X,!0})}return n},ku=function(n,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!n||n.length===0||(n.forEach(function(r){var a=t.findById(r.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var l=a.getCanvasBBox();l.x&&e.minX>l.minX&&(e.minX=l.minX),l.y&&e.minY>l.minY&&(e.minY=l.minY),l.x&&e.maxX<l.maxX&&(e.maxX=l.maxX),l.y&&e.maxY<l.maxY&&(e.maxY=l.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(r){(e[r]===Infinity||e[r]===-Infinity)&&(e[r]=void 0)})),e},Th=function(n){var t=Object(p.K)(n.x)||Object(p.K)(n.y)||n.type||n.anchorPoints||n.size;return n.style&&(t=t||Object(p.K)(n.style.r)||Object(p.K)(n.style.width)||Object(p.K)(n.style.height)||Object(p.K)(n.style.rx)||Object(p.K)(n.style.ry)),t},yl=function(n){var t={};return Object.keys(n).forEach(function(e){var r=n[e];if(Object(p.M)(r)){var a={};Object.keys(r).forEach(function(l){var f=r[l];l==="img"&&!Object(p.O)(f)||(a[l]=Object(p.e)(f))}),t[e]=a}else t[e]=Object(p.e)(r)}),t},Pd=function(n){if(!n)return console.error("G6 Error Tips: the data must be defined"),!1;var t=n.nodes,e=n.edges,r=n.combos,a=r===void 0?[]:r;if(!t&&!e){var l=!0;return qo(n,function(X){return Object(p.O)(X.id)?!0:(l=!1,!1)}),l}var f=(t||[]).find(function(X){return!Object(p.O)(X.id)});if(f)return console.warn("G6 Warning Tips: missing 'id' property, or %c"+f.id+"%c is not a string.","font-size: 20px; color: red;",""),!1;var v=(t||[]).map(function(X){return X.id}),m=a.map(function(X){return X.id}),T=Object(ve.f)(Object(ve.f)([],v),m),w=(e||[]).find(function(X){return!T.includes(X.source)||!T.includes(X.target)});return w?(console.warn("G6 Warning Tips: The source %c"+w.source+"%c or the target %c"+w.target+"%c of the edge do not exist in the nodes or combos.","font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},Ld=function(n,t){if(n==="node"||n==="combo"){if(t.id&&!Object(p.O)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c"+t.id+"%c is not a string.","font-size: 20px; color: red;",""),!1}else if(n==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},Ah=function(){function u(n){this.graph=n,this.destroyed=!1,this.modes=n.get("modes")||{default:[]},this.formatModes(),this.mode=n.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return u.prototype.formatModes=function(){var n=this.modes;Object(p.j)(n,function(t){Object(p.j)(t,function(e,r){Object(p.O)(e)&&(t[r]={type:e})})})},u.prototype.setBehaviors=function(n){var t=this.graph,e=this.modes[n],r=[],a;Object(p.j)(e||[],function(l){var f=so.getBehavior(l.type||l);!f||(a=new f(l),a&&(a.bind(t),r.push(a)))}),this.currentBehaves=r},u.mergeBehaviors=function(n,t){return Object(p.j)(t,function(e){n.indexOf(e)<0&&(Object(p.O)(e)&&(e={type:e}),n.push(e))}),n},u.filterBehaviors=function(n,t){var e=[];return n.forEach(function(r){var a="";Object(p.O)(r)?a=r:a=r.type,t.indexOf(a)<0&&e.push(r)}),e},u.prototype.setMode=function(n){var t=this,e=t.modes,r=t.graph,a=n,l=e[a];!l||(r.emit("beforemodechange",{mode:n}),Object(p.j)(this.currentBehaves,function(f){f.delegate&&f.delegate.remove(),f.unbind(r)}),this.setBehaviors(a),r.emit("aftermodechange",{mode:n}),this.mode=n)},u.prototype.getMode=function(){return this.mode},u.prototype.manipulateBehaviors=function(n,t,e){var r=this,a;if(Object(p.B)(n)?a=n:a=[n],Object(p.B)(t))return Object(p.j)(t,function(f){r.modes[f]?e?r.modes[f]=u.mergeBehaviors(r.modes[f]||[],a):r.modes[f]=u.filterBehaviors(r.modes[f]||[],a):e&&(r.modes[f]=a)}),this;var l=t;return t||(l=this.mode),this.modes[l]||e&&(this.modes[l]=a),e?this.modes[l]=u.mergeBehaviors(this.modes[l]||[],a):this.modes[l]=u.filterBehaviors(this.modes[l]||[],a),this.setMode(this.mode),this},u.prototype.updateBehavior=function(n,t,e){Object(p.O)(n)&&(n={type:n});var r=[];if(!e||e===this.mode||e==="default"){if(r=this.currentBehaves,!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a=r.length,l=0;l<a;l++){var f=r[l];if(f.type===n.type)return f.updateCfg(t),this;l===a-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(r=this.modes[e],!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var v=r.length,l=0;l<v;l++){var f=r[l];if(f.type===n.type||f===n.type)return f===n.type&&(f={type:f}),Object.assign(f,t),r[l]=f,this;l===v-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},u.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},u}(),Fc=Ah,_n=i("m8xh"),Ih=i("U8wd"),jd=function(u){Object(ve.c)(n,u);function n(t,e){var r=u.call(this,t,e)||this;return r.item=e.item,r.canvasX=e.canvasX,r.canvasY=e.canvasY,r.wheelDelta=e.wheelDelta,r.detail=e.detail,r}return n}(Ih.Event),Yf=function(n){return n+"-"+Math.random()+Date.now()},Gc=function(n){var t=0,e=0,r=0,a=0;if(Object(p.K)(n))t=e=r=a=n;else if(Object(p.O)(n)){var l=parseInt(n,10);t=e=r=a=l}else Object(p.B)(n)&&(t=n[0],r=Object(p.I)(n[1])?n[0]:n[1],a=Object(p.I)(n[2])?n[0]:n[2],e=Object(p.I)(n[3])?r:n[3]);return[t,r,a,e]},Rd=function(n){var t=new jd(n.type,n);return t.clientX=n.clientX,t.clientY=n.clientY,t.x=n.x,t.y=n.y,t.target=n.target,t.currentTarget=n.currentTarget,t.bubbles=!0,t.item=n.item,t},Zf=function(n){if(!n)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],r=0;r<t;r++)if(n[r]!==e[r])return!0;return!1},ml=function(n){return Number.isNaN(Number(n))},wd=function(n){for(var t=Infinity,e=-Infinity,r=Infinity,a=-Infinity,l=0;l<n.length;l++){var f=n[l],v=f.getBBox(),m=v.minX,T=v.minY,w=v.maxX,X=v.maxY;m<t&&(t=m),T<r&&(r=T),w>e&&(e=w),X>a&&(a=X)}var Z=Math.floor(t),J=Math.floor(r),ht=Math.ceil(e)-Math.floor(t),mt=Math.ceil(a)-Math.floor(r);return{x:Z,y:J,width:ht,height:mt,minX:t,minY:r,maxX:e,maxY:a}},Uc=function(n,t,e,r,a){t===void 0&&(t=15),e===void 0&&(e="quadratic"),r===void 0&&(r=void 0),a===void 0&&(a=void 0);for(var l=n.length,f=t*2,v=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],m={},T=[],w={},X=0;X<l;X++){var Z=n[X],J=Z.source,ht=Z.target,mt=J+"-"+ht;if(!T[X]){m[mt]||(m[mt]=[]),T[X]=!0,m[mt].push(Z);for(var At=0;At<l;At++)if(X!==At){var St=n[At],Bt=St.source,kt=St.target;T[At]||(J===kt&&ht===Bt?(m[mt].push(St),T[At]=!0,w[Bt+"|"+kt+"|"+(m[mt].length-1)]=!0):J===Bt&&ht===kt&&(m[mt].push(St),T[At]=!0))}}}for(var Yt in m)for(var qt=m[Yt],ee=qt.length,re=0;re<ee;re++){var fe=qt[re];if(fe.source===fe.target){a&&(fe.type=a),fe.loopCfg={position:v[re%8],dist:Math.floor(re/8)*20+50};continue}if(ee===1&&r&&fe.source!==fe.target){fe.type=r;continue}fe.type=e;var le=(re%2==0?1:-1)*(w[fe.source+"|"+fe.target+"|"+re]?-1:1);ee%2==1?fe.curveOffset=le*Math.ceil(re/2)*f:fe.curveOffset=le*(Math.floor(re/2)*f+t)}return n},Bd=function(){function u(n){this.destroyed=!1,this.graph=n,this.destroyed=!1}return u.prototype.getViewCenter=function(){var n=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),r=t.get("height");return{x:(e-n[1]-n[3])/2+n[3],y:(r-n[0]-n[2])/2+n[0]}},u.prototype.fitCenter=function(){var n=this.graph,t=n.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var r=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};n.translate(r.x-a.x,r.y-a.y)}},u.prototype.fitView=function(){var n=this.graph,t=this.getFormatPadding(),e=n.get("width"),r=n.get("height"),a=n.get("group");a.resetMatrix();var l=a.getCanvasBBox();if(!(l.width===0||l.height===0)){var f=this.getViewCenter(),v={x:l.x+l.width/2,y:l.y+l.height/2};n.translate(f.x-v.x,f.y-v.y);var m=(e-t[1]-t[3])/l.width,T=(r-t[0]-t[2])/l.height,w=m;m>T&&(w=T),n.zoom(w,f)}},u.prototype.getFormatPadding=function(){var n=this.graph.get("fitViewPadding");return Gc(n)},u.prototype.focusPoint=function(n,t,e){var r=this,a=this.getViewCenter(),l=this.getPointByCanvas(a.x,a.y),f=this.graph.get("group").getMatrix();if(f||(f=[1,0,0,0,1,0,0,0,1]),t){var v=(l.x-n.x)*f[0],m=(l.y-n.y)*f[4],T=0,w=0,X=0,Z=0;this.graph.get("canvas").animate(function(J){X=v*J,Z=m*J,r.graph.translate(X-T,Z-w),T=X,w=Z},Object(ve.a)({},e))}else this.graph.translate((l.x-n.x)*f[0],(l.y-n.y)*f[4])},u.prototype.getPointByCanvas=function(n,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=Mc({x:n,y:t},e);return r},u.prototype.getPointByClient=function(n,t){var e=this.graph.get("canvas"),r=e.getPointByClient(n,t);return this.getPointByCanvas(r.x,r.y)},u.prototype.getClientByPoint=function(n,t){var e=this.graph.get("canvas"),r=this.getCanvasByPoint(n,t),a=e.getClientByPoint(r.x,r.y);return{x:a.x,y:a.y}},u.prototype.getCanvasByPoint=function(n,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Bs({x:n,y:t},e)},u.prototype.focus=function(n,t,e){if(Object(p.O)(n)&&(n=this.graph.findById(n)),n){var r=0,a=0;if(n.getType&&n.getType()==="edge"){var l=n.getSource().get("group").getMatrix(),f=n.getTarget().get("group").getMatrix();l&&f?(r=(l[6]+f[6])/2,a=(l[7]+f[7])/2):(l||f)&&(r=l?l[6]:f[6],a=l?l[7]:f[7])}else{var v=n.get("group"),m=v.getMatrix();m||(m=[1,0,0,0,1,0,0,0,1]),r=m[6],a=m[7]}this.focusPoint({x:r,y:a},t,e)}},u.prototype.changeSize=function(n,t){var e=this.graph;if(!Object(p.K)(n)||!Object(p.K)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:n,height:t});var r=e.get("canvas");r.changeSize(n,t);var a=e.get("plugins");a.forEach(function(l){if(l.get("gridContainer")){var f=e.get("minZoom");Object(_n.e)(l.get("container"),{width:n+"px",height:t+"px"}),Object(_n.e)(l.get("gridContainer"),{width:n/f+"px",height:t/f+"px",left:0,top:0})}})},u.prototype.destroy=function(){this.graph=null,this.destroyed=!1},u}(),fu=Bd;function $s(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$s=function(t){return typeof t}:$s=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(u)}function Nd(u){if(typeof u!="string")return u;var n=function(ee){if(typeof ee!="string")return ee;try{return JSON.parse(ee.trim())}catch(re){return ee.trim()}},t=n(u);if(typeof t!="string")return t;for(var e=function(ee){return ee[ee.length-1]},r=u.trim(),a=[],l=[],f=function(){for(var ee=[],re=0;re<arguments.length;re++)ee[re]=arguments[re];return ee.some(function(fe){return e(l)===fe})},v=function(){return e(a)},m=null,T=0,w="";T<r.length;){var X=r[T],Z=f('"',"'");if(!Z&&!X.trim()){T+=1;continue}var J=r[T-1]==="\\",ht=f("}"),mt=f("]"),At=f(","),St=v();if(Z)if(e(l)===X&&!J){l.pop();var Bt=n(w);St.push(Bt),m=Bt,w=""}else w+=X;else if(mt&&X===",")w&&(St.push(n(w)),w="");else if(ht&&X===":")l.push(","),w&&(St.push(w),w="");else if(At&&X===",")w&&(St.push(n(w)),w=""),l.pop();else if(X==="}"&&(ht||At)){w&&(St.push(n(w)),w=""),At&&l.pop();for(var kt={},Yt=1;Yt<St.length;Yt+=2)kt[St[Yt-1]]=St[Yt];a.pop(),a.length&&e(a).push(kt),l.pop(),m=kt}else X==="]"&&mt?(w&&(St.push(n(w)),w=""),a.pop(),a.length&&e(a).push(St),l.pop(),m=St):X==="{"?(a.push([]),l.push("}")):X==="["?(a.push([]),l.push("]")):X==='"'?l.push('"'):X==="'"?l.push("'"):w+=X;T+=1}return m||w}var hu=function(n){return n.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},Dh=function(n){return function(t){for(var e=n.length,r=[],a=0,l="";a<e;)if(n[a]==="{"&&n[a+1]==="{")r.push(l),l="",a+=2;else if(n[a]==="}"&&n[a+1]==="}"){if(r.length){var f=r.pop();l=Object(p.s)(t,l,f.endsWith("=")?'"{'+l+'}"':l),r.push(f+l)}a+=2,l=""}else l+=n[a],a+=1;return r.push(l),r.map(function(v,m){return r[m-1]&&r[m-1].endsWith("=")?'"{'+v+'}"':v}).join("")}};function Bl(u,n){var t={},e=u.getAttributeNames&&u.getAttributeNames()||[],r=u.children&&Array.from(u.children).map(function(f){return Bl(f,n)}),a={},l=u.tagName?u.tagName.toLowerCase():"group";return l==="text"&&(t.text=u.innerText),a.type=l,l==="img"&&(a.type="image"),Array.from(e).forEach(function(f){var v=hu(f),m=u.getAttribute(f);try{if(v==="style"||v==="attrs"){var T=Nd(m);t=Object(ve.a)(Object(ve.a)({},t),T)}else a[v]=Nd(m)}catch(w){if(v==="style")throw w;a[v]=m}}),a.attrs=t,n&&n.style&&a.name&&$s(n.style[a.name])==="object"&&(a.attrs=Object(ve.a)(Object(ve.a)({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=Object(ve.a)(Object(ve.a)({},a.attrs),n.style)),r.length&&(a.children=r),a}function Ph(u,n,t){var e=u.attrs,r=e===void 0?{}:e,a={x:n.x||0,y:n.y||0,width:t.width||0,height:t.height||0},l,f;switch(u.type){case"maker":case"circle":r.r&&(f=2*r.r,l=2*r.r);break;case"text":r.text&&(f=cu(r.text,r.fontSize||12)[0],l=16,a.y+=l,a.height=l,a.width=f,u.attrs=Object(ve.a)({fontSize:12,fill:"#000"},r));break;default:r.width&&(f=r.width),r.height&&(l=r.height)}return l>=0&&(a.height=l),f>=0&&(a.width=f),r.marginTop&&(a.y+=r.marginTop),r.marginLeft&&(a.x+=r.marginLeft),a}function Wc(u,n){var t;n===void 0&&(n={x:0,y:0});var e=Object(ve.a)({x:0,y:0,width:0,height:0},n);if((t=u.children)===null||t===void 0?void 0:t.length){var r=u.attrs,a=r===void 0?{}:r,l=a.marginTop,f=Object(ve.a)({},n);l&&(f.y+=l);for(var v=0;v<u.children.length;v++){u.children[v].attrs.key=(a.key||"root")+" -"+v+" ";var m=Wc(u.children[v],f);if(m.bbox){var T=m.bbox;m.attrs.next==="inline"?f.x+=m.bbox.width:f.y+=m.bbox.height,T.width+T.x>e.width&&(e.width=T.width+T.x),T.height+T.y>e.height&&(e.height=T.height+T.y)}}}return u.bbox=Ph(u,n,e),u.attrs=Object(ve.a)(Object(ve.a)({},u.attrs),u.bbox),u}function zc(u,n){var t,e,r,a,l=(u||{}).type,f=((n==null?void 0:n.attrs)||{}).key;if(f&&u&&(u.attrs.key=f),!u&&n)return{action:"delete",val:n,type:l,key:f};if(u&&!n)return{action:"add",val:u,type:l};if(!u&&!n)return{action:"same",type:l};var v=[];if(((t=u.children)===null||t===void 0?void 0:t.length)>0||((e=n.children)===null||e===void 0?void 0:e.length)>0)for(var m=Math.max((r=u.children)===null||r===void 0?void 0:r.length,(a=n.children)===null||a===void 0?void 0:a.length),T=n.children||[],w=u.children||[],X=0;X<m;X+=1)v.push(zc(w[X],T[X]));var Z=Object.keys(n.attrs),J=Object.keys(u.attrs);return n.type!==u.type?{action:"restructure",nowTarget:u,formerTarget:n,key:f,children:v}:Z.filter(function(ht){return ht!=="children"}).some(function(ht){return u.attrs[ht]!==n.attrs[ht]||!J.includes(ht)})?{action:"change",val:u,children:v,type:l,key:f}:{action:"same",children:v,type:l,key:f}}function du(u){var n={},t=function(r){var a=typeof u=="function"?u(r):u,l=Dh(a)(r),f=document.createElement("div");f.innerHTML=l;var v=f.children[0],m=Wc(Bl(v,r));return f.remove(),m};return{draw:function(r,a){var l=t(r),f=a,v=function m(T){var w=T.attrs,X=w===void 0?{}:w,Z=T.bbox,J=T.type,ht=T.children,mt=Object(ve.e)(T,["attrs","bbox","type","children"]);if(T.type!=="group"){var At=a.addShape(T.type,Object(ve.a)({attrs:X,origin:{bbox:Z,type:J,children:ht}},mt));T.keyshape&&(f=At)}T.children&&T.children.forEach(function(St){return m(St)})};return v(l),n[r.id]=[l],f},update:function(r,a){n[r.id]||(n[r.id]=[]);var l=a.getContainer(),f=l.get("children"),v=t(r),m=n[r.id].pop(),T=zc(v,m),w=function J(ht){var mt;ht.type!=="group"&&l.addShape(ht.type,{attrs:ht.attrs}),((mt=ht.children)===null||mt===void 0?void 0:mt.length)&&ht.children.map(function(At){return J(At)})},X=function J(ht){var mt,At=f.find(function(St){return St.attrs.key===ht.attrs.key});At&&l.removeChild(At),((mt=ht.children)===null||mt===void 0?void 0:mt.length)&&ht.children.map(function(St){return J(St)})},Z=function J(ht){var mt=ht.key;if(ht.type!=="group"){var At=f.find(function(Bt){return Bt.attrs.key===mt});switch(ht.action){case"change":if(At){var St=ht.val.keyshape?a.getOriginStyle():{};At.attr(Object(ve.a)(Object(ve.a)({},St),ht.val.attrs))}break;case"add":w(ht.val);break;case"delete":X(ht.val);break;case"restructure":X(ht.formerTarget),w(ht.nowTarget);break;default:break}}ht.children&&ht.children.forEach(function(Bt){return J(Bt)})};Z(T),n[r.id].push(v)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Nl={};function Vu(u){return Nl[u]||(Nl[u]=Object(p.tb)(u)),Nl[u]}var Lh={defaultShapeType:"defaultType",className:null,getShape:function(n){var t=this,e=t[n]||t[t.defaultShapeType]||t["simple-circle"];return e},draw:function(n,t,e){var r=this.getShape(n),a=r.draw(t,e);return r.afterDraw&&r.afterDraw(t,e,a),a},baseUpdate:function(n,t,e){var r=this.getShape(n);r.update&&r.update(t,e),r.afterUpdate&&r.afterUpdate(t,e)},setState:function(n,t,e,r){var a=this.getShape(n);a.setState(t,e,r)},shouldUpdate:function(n){var t=this.getShape(n);return!!t.update},getControlPoints:function(n,t){var e=this.getShape(n);return e.getControlPoints(t)},getAnchorPoints:function(n,t){var e=this.getShape(n);return e.getAnchorPoints(t)}},kc={options:{},draw:function(n,t){return this.drawShape(n,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.options.anchorPoints,e=n.anchorPoints||t;return e}},bl=function(){function u(){}return u.registerFactory=function(n,t){var e=Vu(n),r=Lh,a=Object(ve.a)(Object(ve.a)({},r),t);return u[e]=a,a.className=e,a},u.getFactory=function(n){var t=Vu(n);return u[t]},u.registerNode=function(n,t,e){var r=u.Node,a;if(typeof t=="string"||typeof t=="function"){var l=du(t);a=Object(ve.a)(Object(ve.a)({},r.getShape("single-node")),l)}else if(t.jsx){var f=t.jsx,l=du(f);a=Object(ve.a)(Object(ve.a)(Object(ve.a)({},r.getShape("single-node")),l),t)}else{r.getShape(e);var v=e?r.getShape(e):kc;a=Object(ve.a)(Object(ve.a)({},v),t)}return a.type=n,a.itemType="node",r[n]=a,a},u.registerEdge=function(n,t,e){var r=u.Edge,a=e?r.getShape(e):kc,l=Object(ve.a)(Object(ve.a)({},a),t);return l.type=n,l.itemType="edge",r[n]=l,l},u.registerCombo=function(n,t,e){var r=u.Combo,a=e?r.getShape(e):kc,l=Object(ve.a)(Object(ve.a)({},a),t);return l.type=n,l.itemType="combo",r[n]=l,l},u}(),ro=bl;bl.registerFactory("node",{defaultShapeType:"circle"}),bl.registerFactory("edge",{defaultShapeType:"line"}),bl.registerFactory("combo",{defaultShapeType:"circle"});var Vc="bboxCache",Xu="bboxCanvasCache",jh=["startArrow","endArrow"],Rh=function(){function u(n){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),n);var e=this.get("model"),r=e.id,a=this.get("type");r||(r=Yf(a),this.get("model").id=r),this.set("id",r);var l=n.group;l&&(l.set("item",this),l.set("id",r)),this.init(),this.draw();var f=e.shape||e.type||(a==="edge"?"line":"circle"),v=this.get("shapeFactory");if(v&&v[f]){var m=v[f].options;if(m&&m.stateStyles){var T=this.get("styles")||e.stateStyles;T=Object(p.h)({},m.stateStyles,T),this.set("styles",T)}}}return u.prototype.calculateBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=uu(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},u.prototype.calculateCanvasBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=uu(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},u.prototype.drawInner=function(){var n=this,t=n.get("shapeFactory"),e=n.get("group"),r=n.get("model");e.clear();var a=r.visible;if(a!==void 0&&!a&&n.changeVisibility(a),!!t){n.updatePosition(r);var l=n.getShapeCfg(r),f=l.type,v=t.draw(f,l,e);v&&(n.set("keyShape",v),v.set("isKeyShape",!0),v.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",f),this.restoreStates(t,f)}},u.prototype.setOriginStyle=function(){var n=this.get("group"),t=n.get("children"),e=this.getKeyShape(),r=this,a=e.get("name");if(this.get("originStyle")){var f=this.getOriginStyle();a&&!f[a]&&(f[a]={});var v=this.getCurrentStatesStyle();Object(p.j)(t,function(m){var T=m.get("name"),w=m.attr();if(T&&T!==a){var X=v[T];f[T]||(f[T]={}),X?Object.keys(w).forEach(function(ht){var mt=w[ht];mt!==X[ht]&&(f[T][ht]=mt)}):f[T]=m.get("type")!=="image"?Object(p.e)(w):r.getShapeStyleByName(T)}else{var Z=m.attr(),J=Object(ve.a)(Object(ve.a)({},v),v[a]);Object.keys(Z).forEach(function(ht){var mt=Z[ht];J[ht]!==mt&&(a?f[a][ht]=mt:f[ht]=mt)})}}),f.path&&delete f.path,f.matrix&&delete f.matrix,f.x&&delete f.x,f.y&&delete f.y,f[a]&&f[a].x&&delete f[a].x,f[a]&&f[a].y&&delete f[a].y,r.set("originStyle",f)}else{var l={};Object(p.j)(t,function(m){var T=m.get("type"),w=m.get("name");if(w&&w!==a)l[w]=T!=="image"?Object(p.e)(m.attr()):r.getShapeStyleByName(w);else{var X=r.getShapeStyleByName();if(X.path&&delete X.path,X.matrix&&delete X.matrix,!a)Object.assign(l,X);else if(w)l[a]=X;else{var Z=Yf("shape");m.set("name",Z),l[Z]=T!=="image"?Object(p.e)(m.attr()):r.getShapeStyleByName(w)}}}),r.set("originStyle",l)}},u.prototype.restoreStates=function(n,t){var e=this,r=e.get("states");Object(p.j)(r,function(a){n.setState(t,a,!0,e)})},u.prototype.init=function(){var n=ro.getFactory(this.get("type"));this.set("shapeFactory",n)},u.prototype.get=function(n){return this._cfg[n]},u.prototype.set=function(n,t){Object(p.N)(n)?this._cfg=Object(ve.a)(Object(ve.a)({},this._cfg),n):this._cfg[n]=t},u.prototype.getDefaultCfg=function(){return{}},u.prototype.clearCache=function(){this.set(Vc,null),this.set(Xu,null)},u.prototype.beforeDraw=function(){},u.prototype.afterDraw=function(){},u.prototype.afterUpdate=function(){},u.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},u.prototype.getShapeStyleByName=function(n){var t=this.get("group"),e;if(n?e=t.find(function(a){return a.get("name")===n}):e=this.getKeyShape(),e){var r={};return Object(p.j)(e.attr(),function(a,l){l!=="img"&&(r[l]=a)}),r}return{}},u.prototype.getShapeCfg=function(n){var t=this.get("styles");if(t){var e=n;return e.style=Object(ve.a)(Object(ve.a)({},t),n.style),e}return n},u.prototype.getStateStyle=function(n){var t=this.get("styles"),e=t&&t[n];return e},u.prototype.getOriginStyle=function(){return this.get("originStyle")},u.prototype.getCurrentStatesStyle=function(){var n=this,t={},e=n.getStates();return!e||!e.length?this.getOriginStyle():(Object(p.j)(n.getStates(),function(r){t=Object.assign(t,n.getStateStyle(r))}),t)},u.prototype.setState=function(n,t){var e=this.get("states"),r=this.get("shapeFactory"),a=n,l=n;Object(p.O)(t)&&(a=n+":"+t,l=n+":");var f=e;if(Object(p.C)(t)){var v=e.indexOf(l);if(t){if(v>-1)return;e.push(a)}else v>-1&&e.splice(v,1)}else if(Object(p.O)(t)){var m=e.filter(function(X){return X.includes(l)});m.length>0&&this.clearStates(m),f=f.filter(function(X){return!X.includes(l)}),f.push(a),this.set("states",f)}if(r){var T=this.get("model"),w=T.type;r.setState(w,n,t,this)}},u.prototype.clearStates=function(n){var t=this,e=t.getStates(),r=t.get("shapeFactory"),a=t.get("model"),l=a.type;n||(n=e),Object(p.O)(n)&&(n=[n]);var f=e.filter(function(v){return n.indexOf(v)===-1});t.set("states",f),n.forEach(function(v){r.setState(l,v,!1,t)})},u.prototype.getContainer=function(){return this.get("group")},u.prototype.getKeyShape=function(){return this.get("keyShape")},u.prototype.getModel=function(){return this.get("model")},u.prototype.getType=function(){return this.get("type")},u.prototype.getID=function(){return this.get("id")},u.prototype.isItem=function(){return!0},u.prototype.getStates=function(){return this.get("states")},u.prototype.hasState=function(n){var t=this.getStates();return t.indexOf(n)>=0},u.prototype.refresh=function(){var n=this.get("model");this.updatePosition(n),this.updateShape(),this.afterUpdate(),this.clearCache()},u.prototype.isOnlyMove=function(n){return!1},u.prototype.update=function(n,t){t===void 0&&(t=!1);var e=this.get("model"),r=e.visible,a=n.visible;r!==a&&a!==void 0&&this.changeVisibility(a);var l={x:e.x,y:e.y};n.x=isNaN(n.x)?e.x:n.x,n.y=isNaN(n.y)?e.y:n.y;var f=this.get("styles");if(n.stateStyles){var v=n.stateStyles;Object(p.bb)(f,v),delete n.stateStyles}Object.assign(e,n),t?this.updatePosition(n):((l.x!==n.x||l.y!==n.y)&&this.updatePosition(n),this.updateShape()),this.afterUpdate(),this.clearCache()},u.prototype.updateShape=function(){var n=this.get("shapeFactory"),t=this.get("model"),e=t.type;if(n.shouldUpdate(e)&&e===this.get("currentShape")){var r=this.getShapeCfg(t);n.baseUpdate(e,r,this),this.setOriginStyle()}else this.draw();this.restoreStates(n,e)},u.prototype.updatePosition=function(n){var t=this.get("model"),e=Object(p.I)(n.x)?t.x:n.x,r=Object(p.I)(n.y)?t.y:n.y,a=this.get("group");if(Object(p.I)(e)||Object(p.I)(r))return!1;t.x=e,t.y=r;var l=a.getMatrix();return l&&l[6]===e&&l[7]===r?!1:(a.resetMatrix(),Ac(a,{x:e,y:r}),this.clearCache(),!0)},u.prototype.getBBox=function(){var n=this.get(Vc);return n||(n=this.calculateBBox(),this.set(Vc,n)),n},u.prototype.getCanvasBBox=function(){var n=this.get(Xu);return n||(n=this.calculateCanvasBBox(),this.set(Xu,n)),n},u.prototype.toFront=function(){var n=this.get("group");n.toFront()},u.prototype.toBack=function(){var n=this.get("group");n.toBack()},u.prototype.show=function(){this.changeVisibility(!0)},u.prototype.hide=function(){this.changeVisibility(!1)},u.prototype.changeVisibility=function(n){var t=this.get("group");n?t.show():t.hide(),this.set("visible",n)},u.prototype.isVisible=function(){return this.get("visible")},u.prototype.enableCapture=function(n){var t=this.get("group");t&&t.set("capture",n)},u.prototype.destroy=function(){if(!this.destroyed){var n=this.get("animate"),t=this.get("group");n&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},u}(),$f=Rh,Hu={source:"start",target:"end"},Ss="Node",Qs="Point",Qf="Anchor",wh=function(u){Object(ve.c)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},n.prototype.setEnd=function(t,e){var r=Hu[t]+Qs,a=t+Ss,l=this.get(a);l&&!l.destroyed&&l.removeEdge(this),Object(p.N)(e)?(this.set(r,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(r,null))},n.prototype.getLinkPoint=function(t,e,r){var a=Hu[t]+Qs,l=t+Ss,f=this.get(a);if(!f){var v=this.get(l),m=t+Qf,T=this.getPrePoint(t,r),w=e[m];Object(p.I)(w)||(f=v.getLinkPointByAnchor(w)),f=f||v.getLinkPoint(T),Object(p.I)(f.index)||this.set(t+"AnchorIndex",f.index)}return f},n.prototype.getPrePoint=function(t,e){if(e&&e.length){var r=t==="source"?0:e.length-1;return e[r]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},n.prototype.getEndPoint=function(t){var e=t+Ss,r=Hu[t]+Qs,a=this.get(e);return a?a.get("model"):this.get(r)},n.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),r=this.getEndPoint("target"),a=this.get("shapeFactory"),l=t.type;return a.getControlPoints(l,{startPoint:e,endPoint:r})},n.prototype.getEndCenter=function(t){var e=t+Ss,r=Hu[t]+Qs,a=this.get(e);if(a){var l=a.getBBox();return{x:l.centerX,y:l.centerY}}return this.get(r)},n.prototype.init=function(){u.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},n.prototype.getShapeCfg=function(t){var e=this,r=e.get("linkCenter"),a=u.prototype.getShapeCfg.call(this,t);if(r)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var l=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,l),a.endPoint=e.getLinkPoint("target",t,l)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},n.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Ss),r=this.get("target"+Ss);return e?delete t["source"+Ss]:t.source=this.get("start"+Qs),r?delete t["target"+Ss]:t.target=this.get("end"+Qs),!Object(p.O)(t.source)&&!Object(p.N)(t.source)&&(t.source=t.source.getID()),!Object(p.O)(t.target)&&!Object(p.N)(t.target)&&(t.target=t.target.getID()),t},n.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},n.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},n.prototype.getSource=function(){return this.get("source")},n.prototype.getTarget=function(){return this.get("target")},n.prototype.updatePosition=function(){return!1},n.prototype.update=function(t,e){e===void 0&&(e=!1);var r=this.get("model"),a=r.visible,l=t.visible;a!==l&&l!==void 0&&this.changeVisibility(l);var f=this.get("styles");if(t.stateStyles){var v=t.stateStyles;Object(p.bb)(f,v),delete t.stateStyles}Object.assign(r,t),this.updateShape(),this.afterUpdate(),this.clearCache()},n.prototype.destroy=function(){var t=this.get("source"+Ss),e=this.get("target"+Ss);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),u.prototype.destroy.call(this)},n}($f),Xc=wh,vu="anchorPointsCache",Bh="bboxCache",Jf=function(u){Object(ve.c)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getNearestPoint=function(t,e){for(var r=0,a=t[0],l=jl(t[0],e),f=0;f<t.length;f++){var v=t[f],m=jl(v,e);m<l&&(a=v,l=m,r=f)}return a.anchorIndex=r,a},n.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},n.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},n.prototype.getNeighbors=function(t){var e=this,r=this.get("edges");if(t==="target"){var a=function(m){return m.getSource()===e};return r.filter(a).map(function(v){return v.getTarget()})}if(t==="source"){var l=function(m){return m.getTarget()===e};return r.filter(l).map(function(v){return v.getSource()})}var f=function(m){return m.getSource()===e?m.getTarget():m.getSource()};return r.map(f)},n.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},n.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),r=e.get("type"),a=this.get("type"),l,f,v=this.getBBox();a==="combo"?(l=v.centerX||(v.maxX+v.minX)/2,f=v.centerY||(v.maxY+v.minY)/2):(l=v.centerX,f=v.centerY);var m=this.getAnchorPoints(),T;switch(r){case"circle":T=Cc({x:l,y:f,r:v.width/2},t);break;case"ellipse":T=Nf({x:l,y:f,rx:v.width/2,ry:v.height/2},t);break;default:T=eo(v,t)}var w=T;return m.length&&(w||(w=t),w=this.getNearestPoint(m,w)),w||(w={x:l,y:f}),w},n.prototype.getAnchorPoints=function(){var t=this.get(vu);if(!t){t=[];var e=this.get("shapeFactory"),r=this.getBBox(),a=this.get("model"),l=this.getShapeCfg(a),f=a.type,v=e.getAnchorPoints(f,l)||[];Object(p.j)(v,function(m,T){var w={x:r.minX+m[0]*r.width,y:r.minY+m[1]*r.height,anchorIndex:T};t.push(w)}),this.set(vu,t)}return t},n.prototype.addEdge=function(t){this.get("edges").push(t)},n.prototype.lock=function(){this.set("locked",!0)},n.prototype.unlock=function(){this.set("locked",!1)},n.prototype.hasLocked=function(){return this.get("locked")},n.prototype.removeEdge=function(t){var e=this.getEdges(),r=e.indexOf(t);r>-1&&e.splice(r,1)},n.prototype.clearCache=function(){this.set(Bh,null),this.set(vu,null)},n.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!Object(p.I)(t.x),r=!Object(p.I)(t.y),a=Object.keys(t);return a.length===1&&(e||r)||a.length===2&&e&&r},n}($f),Hc=Jf,_f="bboxCache",Fl="bboxCanvasCache",Kc="sizeCache",Yc="anchorPointsCache",qf=function(u){Object(ve.c)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},n.prototype.getShapeCfg=function(t){var e=this.get("styles"),r=this.get("bbox");if(e&&r){var a=t,l={r:Math.hypot(r.height,r.width)/2||Xn.defaultCombo.size[0]/2,width:r.width||Xn.defaultCombo.size[0],height:r.height||Xn.defaultCombo.size[1]};a.style=Object(ve.a)(Object(ve.a)(Object(ve.a)({},e),t.style),l);var f=t.padding||Xn.defaultCombo.padding;return Object(p.K)(f)?(l.r+=f,l.width+=f*2,l.height+=f*2):(l.r+=f[0],l.width+=f[1]+f[3]||f[1]*2,l.height+=f[0]+f[2]||f[0]*2),this.set(Kc,l),a}return t},n.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),r=uu(t,e);r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;var a=this.get(Kc),l=this.get(_f)||{},f=l.x,v=l.x;if(a){a.width=Math.max(a.width,r.width),a.height=Math.max(a.height,r.height);var m=t.get("type");m==="circle"?(r.width=a.r*2,r.height=a.r*2):(r.width=a.width,r.height=a.height),r.minX=r.centerX-r.width/2,r.minY=r.centerY-r.height/2,r.maxX=r.centerX+r.width/2,r.maxY=r.centerY+r.height/2}else r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;return r.x=r.minX,r.y=r.minY,(r.x!==f||r.y!==v)&&this.set(Yc,null),r}},n.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},n.prototype.getNodes=function(){var t=this;return t.get("nodes")},n.prototype.getCombos=function(){var t=this;return t.get("combos")},n.prototype.addChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},n.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},n.prototype.removeChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.isOnlyMove=function(t){return!1},n.prototype.getBBox=function(){this.set(Fl,null);var t=this.calculateCanvasBBox();return t},n.prototype.clearCache=function(){this.set(_f,null),this.set(Fl,null),this.set(Yc,null)},n.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Kc,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},n}(Hc),Zc=qf,Gs="node",Ku="edge",Yu="vedge",Ko="combo",gu="default",Ol="Mapper",ts="stateStyles",Gl=function(){function u(n){this.graph=n,this.destroyed=!1}return u.prototype.addItem=function(n,t){var e=this.graph,r=n===Yu?Ku:n,a=e.get(r+"Group")||e.get("group"),l=Object(p.tb)(r),f=null,v=e.get(r+Object(p.tb)(ts))||{},m=e.get(gu+l);t[ts]&&(v=t[ts]),m&&Object(p.j)(m,function(St,Bt){Object(p.M)(St)&&!Object(p.B)(St)?t[Bt]=Object(p.h)({},St,t[Bt]):Object(p.B)(St)?t[Bt]=t[Bt]||Object(p.e)(m[Bt]):t[Bt]=t[Bt]||m[Bt]});var T=e.get(r+Ol);if(T){var w=T(t);w[ts]&&(v=w[ts],delete w[ts]),Object(p.j)(w,function(St,Bt){Object(p.M)(St)&&!Object(p.B)(St)?t[Bt]=Object(p.h)({},t[Bt],St):t[Bt]=w[Bt]||t[Bt]})}if(e.emit("beforeadditem",{type:n,model:t}),n===Ku||n===Yu){var X=void 0,Z=void 0;if(X=t.source,Z=t.target,X&&Object(p.O)(X)&&(X=e.findById(X)),Z&&Object(p.O)(Z)&&(Z=e.findById(Z)),!X||!Z){console.warn("The source or target node of edge "+t.id+" does not exist!");return}X.getType&&X.getType()==="combo"&&(t.isComboEdge=!0),Z.getType&&Z.getType()==="combo"&&(t.isComboEdge=!0),f=new Xc({model:t,source:X,target:Z,styles:v,linkCenter:e.get("linkCenter"),group:a.addGroup()})}else if(n===Gs)f=new Hc({model:t,styles:v,group:a.addGroup()});else if(n===Ko){var J=t.children,ht=ku(J,e);isNaN(ht.x)?isNaN(t.x)&&(t.x=Math.random()*100):t.x=ht.x,isNaN(ht.y)?isNaN(t.y)&&(t.y=Math.random()*100):t.y=ht.y;var mt=a.addGroup();mt.setZIndex(t.depth),f=new Zc({model:t,styles:v,bbox:t.collapsed?ku([],e):ht,group:mt});var At=f.getModel();(J||[]).forEach(function(St){var Bt=e.findById(St.id);f.addChild(Bt),St.depth=At.depth+2}),t.collapsed&&setTimeout(function(){e.collapseCombo(f)},16)}if(f)return e.get(n+"s").push(f),e.get("itemMap")[f.get("id")]=f,e.emit("afteradditem",{item:f,model:t}),f},u.prototype.updateItem=function(n,t){var e,r,a=this.graph;if(Object(p.O)(n)&&(n=a.findById(n)),!(!n||n.destroyed)){var l="";n.getType&&(l=n.getType());var f=a.get(l+Ol),v=n.getModel(),m=n.isOnlyMove(t);if(f){var T=Object(p.h)({},v,t),w=f(T),X=Object(p.h)({},v,w,t);w[ts]&&(n.set("styles",X[ts]),delete X[ts]),Object(p.j)(X,function(kt,Yt){t[Yt]=kt})}else Object(p.j)(t,function(kt,Yt){v[Yt]&&Object(p.M)(kt)&&!Object(p.B)(kt)&&(t[Yt]=Object(ve.a)(Object(ve.a)({},v[Yt]),t[Yt]))});if(a.emit("beforeupdateitem",{item:n,cfg:t}),l===Ku){if(t.source){var Z=t.source;Object(p.O)(Z)&&(Z=a.findById(Z)),n.setSource(Z)}if(t.target){var J=t.target;Object(p.O)(J)&&(J=a.findById(J)),n.setTarget(J)}n.update(t)}if(l===Gs||l===Ko){n.update(t,m);var ht=n.getEdges(),mt=Th(t);if(mt&&l===Gs)Object(p.j)(ht,function(kt){kt.refresh()});else if(mt&&l===Ko){var At=n.get("shapeFactory"),St=v.type||"circle",Bt=v.animate===void 0||t.animate===void 0?(r=(e=At[St])===null||e===void 0?void 0:e.options)===null||r===void 0?void 0:r.animate:v.animate||t.animate;Bt?setTimeout(function(){if(!(!n||n.destroyed)){var kt=n.getKeyShape();!kt||kt.destroyed||Object(p.j)(ht,function(Yt){Yt&&!Yt.destroyed&&Yt.refresh()})}},201):Object(p.j)(ht,function(kt){kt.refresh()})}}a.emit("afterupdateitem",{item:n,cfg:t})}},u.prototype.updateCombo=function(n,t){var e=this,r,a,l=this.graph;if(Object(p.O)(n)&&(n=l.findById(n)),!(!n||n.destroyed)){var f=n.getModel(),v=ku(f.collapsed?[]:t,l);n.set("bbox",v),n.update({x:v.x,y:v.y});var m=n.get("shapeFactory"),T=f.type||"circle",w=f.animate===void 0?(a=(r=m[T])===null||r===void 0?void 0:r.options)===null||a===void 0?void 0:a.animate:f.animate;w?setTimeout(function(){if(!(!n||n.destroyed)){var X=n.getKeyShape();!X||X.destroyed||(n.getShapeCfg(f),e.updateComboEdges(n))}},201):this.updateComboEdges(n)}},u.prototype.updateComboEdges=function(n){for(var t=n.getEdges()||[],e=0;e<t.length;e++){var r=t[e];if(r&&!r.destroyed){var a=r.get("shapeFactory"),l=r.getShapeCfg(r.getModel()),f=r.getContainer();f.clear();var v=a.draw(l.type,l,f);r.set("keyShape",v),v.set("isKeyShape",!0),v.set("draggable",!0),r.setOriginStyle()}}},u.prototype.collapseCombo=function(n){var t=this.graph;Object(p.O)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.hideItem(r)}),e.combos.forEach(function(r){t.hideItem(r)})},u.prototype.expandCombo=function(n){var t=this.graph;Object(p.O)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.showItem(r)}),e.combos.forEach(function(r){r.getModel().collapsed?r.show():t.showItem(r)})},u.prototype.removeItem=function(n){var t=this,e=this.graph;if(Object(p.O)(n)&&(n=e.findById(n)),!(!n||n.destroyed)){var r=Object(p.e)(n.getModel());e.emit("beforeremoveitem",{item:r});var a="";n.getType&&(a=n.getType());var l=e.get(a+"s"),f=l.indexOf(n);if(f>-1&&l.splice(f,1),a===Ku){var v=e.get("v"+a+"s"),m=v.indexOf(n);m>-1&&v.splice(m,1)}var T=n.get("id"),w=e.get("itemMap");delete w[T];var X=e.get("comboTrees"),Z=n.get("id");if(a===Gs){var J=n.getModel().comboId;if(X&&J){var ht=X,mt=!1;X.forEach(function(qt){mt||qo(qt,function(ee){if(ee.id===Z&&ht){var re=ht.indexOf(ee);return ht.splice(re,1),mt=!0,!1}return ht=ee.children,!0})})}for(var At=n.getEdges(),St=At.length-1;St>=0;St--)e.removeItem(At[St],!1);J&&e.updateCombo(J)}else if(a===Ko){var Bt=n.getModel().parentId,kt,Yt=!1;(X||[]).forEach(function(ee){Yt||qo(ee,function(re){return re.id===Z?(kt=re,Yt=!0,!1):!0})}),kt.removed=!0,kt&&kt.children&&kt.children.forEach(function(ee){t.removeItem(ee.id)});for(var At=n.getEdges(),St=At.length;St>=0;St--)e.removeItem(At[St],!1);Bt&&e.updateCombo(Bt)}n.destroy(),e.emit("afterremoveitem",{item:r})}},u.prototype.setItemState=function(n,t,e){var r=this.graph,a=t;Object(p.O)(e)&&(a=t+":"+e),!(n.hasState(a)===e&&e||Object(p.O)(e)&&n.hasState(a))&&(r.emit("beforeitemstatechange",{item:n,state:a,enabled:e}),n.setState(t,e),r.autoPaint(),r.emit("afteritemstatechange",{item:n,state:a,enabled:e}))},u.prototype.priorityState=function(n,t){var e=this.graph,r=n;Object(p.O)(n)&&(r=e.findById(n)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},u.prototype.clearItemStates=function(n,t){var e=this.graph;Object(p.O)(n)&&(n=e.findById(n)),e.emit("beforeitemstatesclear",{item:n,states:t}),n.clearStates(t),e.emit("afteritemstatesclear",{item:n,states:t})},u.prototype.refreshItem=function(n){var t=this.graph;Object(p.O)(n)&&(n=t.findById(n)),t.emit("beforeitemrefresh",{item:n}),n.refresh(),t.emit("afteritemrefresh",{item:n})},u.prototype.addCombos=function(n,t){var e=this,r=this.graph;(n||[]).forEach(function(l){Fs(l,function(f){var v;return t.forEach(function(m){m.id===f.id&&(m.children=f.children,m.depth=f.depth,v=m)}),v&&e.addItem("combo",v),!0})});var a=r.get("comboGroup");a&&a.sort()},u.prototype.changeItemVisibility=function(n,t){var e=this,r=this.graph;if(Object(p.O)(n)&&(n=r.findById(n)),!n){console.warn("The item to be shown or hidden does not exist!");return}if(r.emit("beforeitemvisibilitychange",{item:n,visible:t}),n.changeVisibility(t),n.getType&&n.getType()===Gs){var a=n.getEdges();Object(p.j)(a,function(T){t&&!(T.get("source").isVisible()&&T.get("target").isVisible())||e.changeItemVisibility(T,t)})}else if(n.getType&&n.getType()===Ko){var l=r.get("comboTrees"),f=n.get("id"),v=[],m=!1;(l||[]).forEach(function(w){m||!w.children||w.children.length===0||qo(w,function(X){return X.id===f?(v=X.children,m=!0,!1):!0})}),v&&(!t||t&&!n.getModel().collapsed)&&v.forEach(function(w){var X=r.findById(w.id);e.changeItemVisibility(X,t)});var a=n.getEdges();Object(p.j)(a,function(w){t&&!(w.get("source").isVisible()&&w.get("target").isVisible())||e.changeItemVisibility(w,t)})}return r.emit("afteritemvisibilitychange",{item:n,visible:t}),n},u.prototype.destroy=function(){this.graph=null,this.destroyed=!0},u}(),Ul=Gl,Yo=null,Wl=function(){function u(n){this.graph=n,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return u.checkCache=function(n,t,e){if(!!e[t]){var r=e[t].indexOf(n);r>=0&&e[t].splice(r,1)}},u.cacheState=function(n,t,e){e[t]||(e[t]=[]),e[t].push(n)},u.prototype.updateState=function(n,t,e){var r=this,a=u.checkCache,l=u.cacheState;if(!n.destroyed){var f=this.cachedStates,v=f.enabled,m=f.disabled;e?(a(n,t,m),l(n,t,v)):(a(n,t,v),l(n,t,m)),Yo&&clearTimeout(Yo),Yo=setTimeout(function(){Yo=null,r.updateGraphStates()},16)}},u.prototype.updateStates=function(n,t,e){var r=this;Object(p.O)(t)?this.updateState(n,t,e):t.forEach(function(a){r.updateState(n,a,e)})},u.prototype.updateGraphStates=function(){var n=this.graph.get("states"),t=this.cachedStates;Object(p.j)(t.disabled,function(e,r){n[r]&&(n[r]=n[r].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),Object(p.j)(t.enabled,function(e,r){if(!n[r])n[r]=e;else{var a={};n[r].forEach(function(l){l.destroyed||(a[l.get("id")]=!0)}),e.forEach(function(l){if(!l.destroyed){var f=l.get("id");a[f]||(a[f]=!0,n[r].push(l))}})}}),this.graph.emit("graphstatechange",{states:n}),this.cachedStates={enabled:{},disabled:{}}},u.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Yo&&clearTimeout(Yo),Yo=null,this.destroyed=!0},u}(),$c=Wl,zl=i("WOt1"),Zu=function(n,t){return!n||!t?n:n.replace(/\\?\{([^{}]+)\}/g,function(e,r){if(e.charAt(0)==="\\")return e.slice(1);var a=t[r];return a===0&&(a="0"),a||""})},Qc=function(n){var t=[];if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);for(var e=0,r=n;e<r.length;e++){var a=r[e],l=a.x,f=a.y;t.push(l),t.push(f)}var v=Object(zl.a)(t);return v.unshift(["M",n[0].x,n[0].y]),v},kl=function(n,t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var a={x:(1-e)*n.x+e*t.x,y:(1-e)*n.y+e*t.y},l=[0,0];qn.c.normalize(l,[t.x-n.x,t.y-n.y]),(!l||!l[0]&&!l[1])&&(l=[0,0]);var f=[-l[1]*r,l[0]*r];return a.x+=f[0],a.y+=f[1],a},pu=function(n,t){var e=n.length;if(!e)return"";for(var r="",a="",l=0;l<e;l++){var f=n[l];l===0?a="M{x} {y}":a="L{x} {y}",r+=Zu(a,f)}return t&&(r+="Z"),r},xl=function(n){var t=[];return n.forEach(function(e){var r=e[0];if(r!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var l=e.length;t.push([e[l-2],e[l-1]])}}),t},th=function(n){if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);var t=n[0],e=n[1],r=n[n.length-1],a=n[n.length-2];n.unshift(r),n.unshift(a),n.push(t),n.push(e);for(var l=[],f=1;f<n.length-2;f+=1){var v=n[f-1].x,m=n[f-1].y,T=n[f].x,w=n[f].y,X=n[f+1].x,Z=n[f+1].y,J=f!==n.length-2?n[f+2].x:X,ht=f!==n.length-2?n[f+2].y:Z,mt=T+(X-v)/6,At=w+(Z-m)/6,St=X-(J-T)/6,Bt=Z-(ht-w)/6;l.push(["C",mt,At,St,Bt,X,Z])}return l.unshift(["M",r.x,r.y]),l},Nh=function(n,t){return qn.c.scale([0,0],qn.c.normalize([0,0],n),t)},eh=function(n,t){var e=[n[1]-t[1],t[0]-n[0]],r=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(r===0)throw new Error("p0 should not be equal to p1");return[e[0]/r,e[1]/r]},Jc=function(n,t){return[t[0]-n[0],t[1]-n[1]]};function Vl(u,n){var t=function(w){var X=[w[0][0],w[0][1]-n],Z=[w[0][0],w[0][1]+n];return"M "+X+" A "+n+","+n+",0,0,0,"+Z+" A "+n+","+n+",0,0,0,"+X},e=function(w){var X=qn.c.scale([0,0],eh(w[0],w[1]),n),Z=qn.c.scale([0,0],X,-1),J=qn.c.add([0,0],w[0],X),ht=qn.c.add([0,0],w[1],X),mt=qn.c.add([0,0],w[1],Z),At=qn.c.add([0,0],w[0],Z);return"M "+J+" L "+ht+" A "+[n,n,"0,0,0",mt].join(",")+" L "+At+" A "+[n,n,"0,0,0",J].join(",")};if(!u||u.length<1)return"";if(u.length===1)return t(u);if(u.length===2)return e(u);for(var r=new Array(u.length),a=0;a<r.length;++a){var l=a===0?u[u.length-1]:u[a-1],f=u[a],v=qn.c.scale([0,0],eh(l,f),n);r[a]=[qn.c.add([0,0],l,v),qn.c.add([0,0],f,v)]}var m="A "+[n,n,"0,0,0,"].join(",");return r=r.map(function(T,w){var X="";return w===0&&(X="M "+r[r.length-1][1]+" "),X+=m+T[0]+" L "+T[1],X}),r.join(" ")}function rh(u,n){var t=u.length,e=function(T){var w=[T[0][0],T[0][1]-n],X=[T[0][0],T[0][1]+n];return"M "+w+" A "+[n,n,"0,0,0",X].join(",")+" A "+[n,n,"0,0,0",w].join(",")},r=function(T){var w=Jc(T[0],T[1]),X=Nh(w,n),Z=qn.c.add([0,0],T[0],qn.c.scale([0,0],X,-1)),J=qn.c.add([0,0],T[1],X),ht=1.2*n,mt=Nh(qn.c.normalize([0,0],w),ht),At=qn.c.scale([0,0],mt,-1),St=qn.c.add([0,0],Z,At),Bt=qn.c.add([0,0],J,At),kt=qn.c.add([0,0],Z,mt);return"M "+Z+" C "+[St,Bt,J].join(",")+" S "+[kt,Z].join(",")+" Z"};if(!u||t<1)return"";if(t===1)return e(u);if(t===2)return r(u);for(var a=u.map(function(m,T){var w=u[(T+1)%t];return{p:m,v:qn.c.normalize([0,0],Jc(m,w))}}),l=0;l<a.length;++l){var f=l>0?l-1:t-1,v=qn.c.normalize([0,0],qn.c.add([0,0],a[f].v,qn.c.scale([0,0],a[l].v,-1)));a[l].p=qn.c.add([0,0],a[l].p,qn.c.scale([0,0],v,n))}return a.map(function(m){var T=m.p;return{x:T[0],y:T[1]}})}var El=function(n,t,e){return(n.y-e.y)*(t.x-e.x)-(n.x-e.x)*(t.y-e.y)},Fh=function(n){var t=n.map(function(f){return{x:f.getModel().x,y:f.getModel().y}});if(t.sort(function(f,v){return f.x===v.x?f.y-v.y:f.x-v.x}),t.length===1)return t;for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&El(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var a=[],r=t.length-1;r>=0;r--){for(;a.length>=2&&El(a[a.length-2],a[a.length-1],t[r])<=0;)a.pop();a.push(t[r])}a.pop(),e.pop();var l=e.concat(a);return l},Fd={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Gd(u,n,t){var e=!1,r=function(v,m){return n.cells[v+m*n.width]},a=function(v,m){var T=0;return r(v-1,m-1)>=t&&(T+=1),r(v,m-1)>t&&(T+=2),r(v-1,m)>t&&(T+=4),r(v,m)>t&&(T+=8),T},l=function(v,m){for(var T=v,w=m,X,Z,J=0;J<n.width*n.height;J++){if(X=T,Z=w,u.findIndex(function(mt){return mt.x===T&&mt.y===w})>-1){if(!(u[0].x!==T||u[0].y!==w))return!0}else u.push({x:T,y:w});var ht=a(T,w);switch(ht){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:T++;break;case 12:case 14:case 4:T--;break;case 6:X===0&&(Z===-1?T-=1:T+=1);break;case 1:case 13:case 5:w--;break;case 9:X===1&&(Z===0?w-=1:w+=1);break;case 10:case 8:case 11:w++;break;default:return console.warn("Marching squares invalid state: "+ht),!0}}};this.march=function(){for(var f=0;f<n.width&&!e;f+=1)for(var v=0;v<n.height&&!e;v+=1)r(f,v)>t&&a(f,v)!==15&&(e=l(f,v));return e}}var Gh=function(n,t,e){var r=Math.ceil(n/e),a=Math.ceil(t/e),l=new Float32Array(Math.max(0,r*a)).fill(0);return{cells:l,width:r,height:a}},Uh=function(n,t,e){var r=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(l){var f={x:n.getModel().x,y:n.getModel().y},v={x:l.getModel().x,y:l.getModel().y},m=Gu(f,v),T=new Xo(f.x,f.y,v.x,v.y),w=e.reduce(function(X,Z){return Dc(Z,T)>0?X+1:X},0);m*Math.pow(w+1,2)<a&&(r=l,a=m*Math.pow(w+1,2))}),r},Wh=function(n,t){var e=Number.POSITIVE_INFINITY,r=null;return n.forEach(function(a){var l=Dc(a,t);l>=0&&l<e&&(r=a,e=l)}),r},Ud=function(n,t,e,r){var a=[],l=[];l.push(n);for(var f=!0,v=0,m=function(Z,J){var ht=!1;return J.forEach(function(mt){ht||(Lc(Z,{x:mt.x1,y:mt.y1})||Lc(Z,{x:mt.x2,y:mt.y2}))&&(ht=!0)}),ht},T=function(Z,J){for(var ht=0,mt=J;ht<mt.length;ht++){var At=mt[ht],St=At.getBBox(),Bt=[[St.x,St.y],[St.x+St.width,St.y],[St.x,St.y+St.height],[St.x+St.width,St.y+St.height]];if(gl(Bt,Z.x,Z.y))return!0}return!1};f&&v<e;){f=!1;for(var w=function(){var Z=l.pop(),J=Wh(t,Z);if(J){var ht=Wf(J,Z),mt=ht[0],At=ht[1];if(At===2){var St=function(kt){for(var Yt=r,qt=zh(J,Yt,mt,kt),ee=m(qt,l)||m(qt,a),re=T(qt,t);!ee&&re&&Yt>=1;)Yt/=1.5,qt=zh(J,Yt,mt,kt),ee=m(qt,l)||m(qt,a),re=T(qt,t);qt&&!ee&&(!kt||!re)&&(l.push(new Xo(Z.x1,Z.y1,qt.x,qt.y)),l.push(new Xo(qt.x,qt.y,Z.x2,Z.y2)),f=!0)};St(!0),f||St(!1)}}f||a.push(Z),v+=1};!f&&l.length;)w()}for(;l.length;)a.push(l.pop());return a};function Wd(u,n,t,e,r){var a=Uh(u,t,n);if(a===null)return[];var l=function(w){for(var X=[];w.length>0;){var Z=w.pop();if(w.length===0){X.push(Z);break}var J=w.pop(),ht=new Xo(Z.x1,Z.y1,J.x2,J.y2),mt=Wh(n,ht);mt?(X.push(Z),w.push(J)):w.push(ht)}return X},f=new Xo(u.getModel().x,u.getModel().y,a.getModel().x,a.getModel().y),v=Ud(f,n,e,r),m=l(v);return m}var zd=function(n,t,e){var r=Object.assign(Fd,e),a=zf(n.map(function(St){return{x:St.getModel().x,y:St.getModel().y}}));n=n.sort(function(St,Bt){return Gu({x:St.getModel().x,y:St.getModel().y},a)-Gu({x:Bt.getModel().x,y:Bt.getModel().y},a)});var l=[],f=[];n.forEach(function(St){var Bt=Wd(St,t,l,r.maxRoutingIterations,r.morphBuffer);Bt.forEach(function(kt){f.push(kt)}),l.push(St)});for(var v=kd(n,f,r.nodeR0),m=Gh(v.width,v.height,r.pixelGroupSize),T=[],w=[],X=0;X<r.maxMarchingIterations;X++)if(Vd(n,t,f,v,m,r),T=[],w=[],!!new Gd(T,m,r.threshold).march()){var Z=T.map(function(St){return{x:Math.round(St.x*r.pixelGroupSize+v.minX),y:Math.round(St.y*r.pixelGroupSize+v.minY)}});if(Z){var J=Z.length;if(r.skip>1)for(J=Math.floor(Z.length/r.skip);J<3&&r.skip>1;)r.skip-=1,J=Math.floor(Z.length/r.skip);for(var ht=0,mt=0;mt<J;mt+=1,ht+=r.skip)w.push({x:Z[ht].x,y:Z[ht].y})}var At=function(){for(var Bt=0,kt=n;Bt<kt.length;Bt++){var Yt=kt[Bt],qt=w.map(function(ee){return[ee.x,ee.y]});if(!gl(qt,Yt.getBBox().centerX,Yt.getBBox().centerY))return!1}return!0};if(w&&At())return w;if(r.threshold*=.9,X<=r.maxMarchingIterations*.5)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else if(r.nonMemberInfluenceFactor!==0&&t.length>0)r.nonMemberInfluenceFactor*=.8;else break}return w};function kd(u,n,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},r=[];u.forEach(function(v){r.push(v.getBBox())}),n.forEach(function(v){r.push(v.getBBox())});for(var a=0,l=r;a<l.length;a++){var f=l[a];e.minX=(f.minX<e.minX?f.minX:e.minX)-t,e.minY=(f.minY<e.minY?f.minY:e.minY)-t,e.maxX=(f.maxX>e.maxX?f.maxX:e.maxX)+t,e.maxY=(f.maxY>e.maxY?f.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function Vd(u,n,t,e,r,a){function l(Z,J){var ht=Math.floor((Z-J)/a.pixelGroupSize);return ht<0?0:ht}function f(Z,J){return Z*a.pixelGroupSize+J}var v=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),m=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),T=function(J,ht){var mt=Math.min(l(J.minX,ht+e.minX),r.width),At=Math.min(l(J.minY,ht+e.minY),r.height),St=Math.min(l(J.maxX,-ht+e.minX),r.width),Bt=Math.min(l(J.maxY,-ht+e.minY),r.height);return[mt,At,St,Bt]},w=function(J,ht){for(var mt=J.getBBox(),At=T(mt,a.nodeR1),St=At[0],Bt=At[1],kt=At[2],Yt=At[3],qt=Bt;qt<Yt;qt+=1)for(var ee=St;ee<kt;ee+=1)if(!(ht<0&&r[ee+qt*r.width]<=0)){var re=f(ee,e.minX),fe=f(qt,e.minY),le=Ho({x:re,y:fe},{x:mt.minX,y:mt.minY,width:mt.width,height:mt.height});if(le<Math.pow(a.nodeR1,2)){var Oe=Math.sqrt(le)-a.nodeR1;r.cells[ee+qt*r.width]+=ht*Oe*Oe}}},X=function(J,ht){for(var mt=J.getBBox(),At=T(mt,a.edgeR1),St=At[0],Bt=At[1],kt=At[2],Yt=At[3],qt=Bt;qt<Yt;qt+=1)for(var ee=St;ee<kt;ee+=1)if(!(ht<0&&r.cells[ee+qt*r.width]<=0)){var re=f(ee,e.minX),fe=f(qt,e.minY),le=Pc({x:re,y:fe},J);if(le<Math.pow(a.edgeR1,2)){var Oe=Math.sqrt(le)-a.edgeR1;r.cells[ee+qt*r.width]+=ht*Oe*Oe}}};a.nodeInfluenceFactor&&u.forEach(function(Z){w(Z,a.nodeInfluenceFactor/v)}),a.edgeInfluenceFactor&&t.forEach(function(Z){X(Z,a.edgeInfluenceFactor/m)}),a.negativeNodeInfluenceFactor&&n.forEach(function(Z){w(Z,a.negativeNodeInfluenceFactor/v)})}function zh(u,n,t,e){var r=u.getBBox(),a=t[0],l=t[1],f=t[2],v=t[3],m={topLeft:{x:r.minX-n,y:r.minY-n},topRight:{x:r.maxX+n,y:r.minY-n},bottomLeft:{x:r.minX-n,y:r.maxY+n},bottomRight:{x:r.maxX+n,y:r.maxY+n}},T=r.height*r.width;function w(J,ht){return r.width*((J.y-r.minY+(ht.y-r.minY))*.5)}if(l){if(a)return e?m.topLeft:m.bottomRight;if(f)return e?m.bottomLeft:m.topRight;var X=w(l,v);return X<T*.5?l.y>v.y?e?m.topLeft:m.bottomRight:e?m.topRight:m.bottomLeft:l.y<v.y?e?m.bottomLeft:m.topRight:e?m.bottomRight:m.topLeft}if(v){if(a)return e?m.topRight:m.bottomLeft;if(f)return e?m.bottomRight:m.topLeft}var Z=w(a,f);return Z<T*.5?a.x>f.x?e?m.topLeft:m.bottomRight:e?m.bottomLeft:m.topRight:a.x<f.x?e?m.topRight:m.bottomLeft:e?m.bottomRight:m.topLeft}var Xd=function(){function u(n,t){this.cfg=Object(p.h)(this.getDefaultCfg(),t),this.graph=n,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return Object(p.O)(e)?n.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(p.O)(e)?n.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return u.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},u.prototype.setPadding=function(){var n=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+n:10+n,this.cfg.bubbleCfg={nodeR0:this.padding-n,nodeR1:this.padding-n,morphBuffer:this.padding-n}},u.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},u.prototype.calcPath=function(n,t){var e,r,a;switch(this.type){case"round-convex":e=Fh(n),a=Vl(e.map(function(l){return[l.x,l.y]}),this.padding),r=Object(zl.c)(a);break;case"smooth-convex":e=Fh(n),e.length===2?(a=Vl(e.map(function(l){return[l.x,l.y]}),this.padding),r=Object(zl.c)(a)):e.length>2&&(a=rh(e.map(function(l){return[l.x,l.y]}),this.padding),r=th(a));break;case"bubble":e=zd(n,t,this.cfg.bubbleCfg),r=e.length>=2&&th(e);break;default:}return r},u.prototype.render=function(){this.group.addShape("path",{attrs:Object(ve.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},u.prototype.addMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n)),this.members.push(n);var t=this.nonMembers.indexOf(n);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},u.prototype.addNonMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n)),this.nonMembers.push(n);var t=this.members.indexOf(n);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},u.prototype.removeMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n));var t=this.members.indexOf(n);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},u.prototype.removeNonMember=function(n){if(!!n){Object(p.O)(n)&&(n=this.graph.findById(n));var t=this.nonMembers.indexOf(n);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},u.prototype.updateData=function(n,t){var e=this;this.group.findById(this.id).remove(),n&&(this.members=n.map(function(r){return Object(p.O)(r)?e.graph.findById(r):r})),t&&(this.nonMembers=t.map(function(r){return Object(p.O)(r)?e.graph.findById(r):r})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},u.prototype.updateStyle=function(n){var t=this.group.findById(this.id);t.attr(Object(ve.a)({},n))},u.prototype.updateCfg=function(n){var t=this;this.cfg=Object(p.h)(this.cfg,n),this.id=this.cfg.id,this.group=this.cfg.group,n.members&&(this.members=this.cfg.members.map(function(e){return Object(p.O)(e)?t.graph.findById(e):e})),n.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(p.O)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},u.prototype.contain=function(n){var t=this,e;Object(p.O)(n)?e=this.graph.findById(n):e=n;var r,a=e.getKeyShape();if(e.get("type")==="path")r=xl(a.attr("path"));else{var l=a.getCanvasBBox();r=[[l.minX,l.minY],[l.maxX,l.minY],[l.maxX,l.maxY],[l.minX,l.maxY]]}return r=r.map(function(f){var v=t.graph.getPointByCanvas(f[0],f[1]);return[v.x,v.y]}),Fu(r,xl(this.path))},u.prototype.destroy=function(){this.group.remove(),this.cfg=null},u}(),kh=Xd,yu=qn.a.transform,_c="node",$u=function(u){Object(ve.c)(n,u);function n(t){var e=u.call(this)||this;return e.cfg=Object(p.h)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Pl(e.cfg.maxStep),e.redoStack=new Pl(e.cfg.maxStep)),e}return n.prototype.init=function(){this.initCanvas();var t=new fu(this),e=new Fc(this),r=new Ul(this),a=new $c(this);this.set({viewController:t,modeController:e,itemController:r,stateController:a}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},n.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),r=e.id,a=t.addGroup({id:r+"-root",className:Xn.rootContainerClassName});if(this.get("groupByTypes")){var l=a.addGroup({id:r+"-edge",className:Xn.edgeContainerClassName}),f=a.addGroup({id:r+"-node",className:Xn.nodeContainerClassName}),v=a.addGroup({id:r+"-combo",className:Xn.comboContainerClassName});v.toBack(),this.set({nodeGroup:f,edgeGroup:l,comboGroup:v})}var m=a.addGroup({id:r+"-delegate",className:Xn.delegateContainerClassName});this.set({delegateGroup:m}),this.set("group",a)},n.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},n.prototype.set=function(t,e){return Object(p.N)(t)?this.cfg=Object(ve.a)(Object(ve.a)({},this.cfg),t):this.cfg[t]=e,this},n.prototype.get=function(t){return this.cfg[t]},n.prototype.getGroup=function(){return this.get("group")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.getMinZoom=function(){return this.get("minZoom")},n.prototype.setMinZoom=function(t){return this.set("minZoom",t)},n.prototype.getMaxZoom=function(){return this.get("maxZoom")},n.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},n.prototype.getWidth=function(){return this.get("width")},n.prototype.getHeight=function(){return this.get("height")},n.prototype.clearItemStates=function(t,e){Object(p.O)(t)&&(t=this.findById(t));var r=this.get("itemController");e||(e=t.get("states")),r.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},n.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},n.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},n.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},n.prototype.findById=function(t){return this.get("itemMap")[t]},n.prototype.find=function(t,e){var r,a=this.get(t+"s");return Object(p.j)(a,function(l,f){if(e(l,f))return r=l,r}),r},n.prototype.findAll=function(t,e){var r=[];return Object(p.j)(this.get(t+"s"),function(a,l){e(a,l)&&r.push(a)}),r},n.prototype.findAllByState=function(t,e){return this.findAll(t,function(r){return r.hasState(e)})},n.prototype.translate=function(t,e){var r=this.get("group"),a=Object(p.e)(r.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),a=yu(a,[["t",t,e]]),r.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:r.getMatrix()}),this.autoPaint()},n.prototype.moveTo=function(t,e){var r=this.get("group");Ff(r,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:r.getMatrix()})},n.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},n.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},n.prototype.addBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!0),this},n.prototype.removeBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!1),this},n.prototype.updateBehavior=function(t,e,r){var a=this.get("modeController");return a.updateBehavior(t,e,r),this},n.prototype.zoom=function(t,e){var r=this.get("group"),a=Object(p.e)(r.getMatrix()),l=this.get("minZoom"),f=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?a=yu(a,[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]):a=yu(a,[["s",t,t]]),!(l&&a[0]<l||f&&a[0]>f)&&(r.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},n.prototype.zoomTo=function(t,e){var r=t/this.getZoom();this.zoom(r,e)},n.prototype.focusItem=function(t,e,r){var a=this.get("viewController"),l=!1;e?l=!0:e===void 0&&(l=this.get("animate"));var f={};r?f=r:r===void 0&&(f=this.get("animateCfg")),a.focus(t,l,f),this.autoPaint()},n.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},n.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},n.prototype.getPointByClient=function(t,e){var r=this.get("viewController");return r.getPointByClient(t,e)},n.prototype.getClientByPoint=function(t,e){var r=this.get("viewController");return r.getClientByPoint(t,e)},n.prototype.getPointByCanvas=function(t,e){var r=this.get("viewController");return r.getPointByCanvas(t,e)},n.prototype.getCanvasByPoint=function(t,e){var r=this.get("viewController");return r.getCanvasByPoint(t,e)},n.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},n.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},n.prototype.showItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),a=r.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var l=a.getID(),f=a.getType(),v={},m={};switch(f){case"node":v.nodes=[{id:l,visible:!1}],m.nodes=[{id:l,visible:!0}];break;case"edge":v.nodes=[{id:l,visible:!1}],m.edges=[{id:l,visible:!0}];break;case"combo":v.nodes=[{id:l,visible:!1}],m.combos=[{id:l,visible:!0}];break;default:break}this.pushStack("visible",{before:v,after:m})}},n.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),a=r.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var l=a.getID(),f=a.getType(),v={},m={};switch(f){case"node":v.nodes=[{id:l,visible:!0}],m.nodes=[{id:l,visible:!1}];break;case"edge":v.nodes=[{id:l,visible:!0}],m.edges=[{id:l,visible:!1}];break;case"combo":v.nodes=[{id:l,visible:!0}],m.combos=[{id:l,visible:!1}];break;default:break}this.pushStack("visible",{before:v,after:m})}},n.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},n.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var r=e.get("canvas");r.set("autoDraw",t)},n.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},n.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var r=t;if(Object(p.O)(t)&&(r=this.findById(t)),!r&&Object(p.O)(t))console.warn("The item to be removed does not exist!");else if(r){var a="";if(r.getType&&(a=r.getType()),e&&this.get("enabledStack")){var l=Object(ve.a)(Object(ve.a)({},r.getModel()),{itemType:a}),f={};switch(a){case"node":{f.nodes=[l],f.edges=[];for(var v=r.getEdges(),m=v.length-1;m>=0;m--)f.edges.push(Object(ve.a)(Object(ve.a)({},v[m].getModel()),{itemType:"edge"}));break}case"edge":f.edges=[l];break;case"combo":f.combos=[l];break;default:break}this.pushStack("delete",{before:f,after:{}})}if(a==="node"){var T=r.getModel();T.comboId&&this.updateComboTree(r)}var w=this.get("itemController");if(w.removeItem(r),a==="combo"){var X=Kf(this.get("comboTrees"));this.set("comboTrees",X)}}},n.prototype.addItem=function(t,e,r,a){r===void 0&&(r=!0),a===void 0&&(a=!0);var l=this.get("comboSorted");this.set("comboSorted",l&&!a);var f=this.get("itemController");if(!Ld(t,e))return!1;if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var v,m=this.get("comboTrees");if(m||(m=[]),t==="combo"){var T=this.get("itemMap"),w=!1;if(m.forEach(function(kt){w||Fs(kt,function(Yt){if(e.parentId===Yt.id){w=!0;var qt=Object(ve.a)({id:e.id,depth:Yt.depth+2},e);Yt.children?Yt.children.push(qt):Yt.children=[qt],e.depth=qt.depth,v=f.addItem(t,e)}var ee=T[Yt.id];return w&&ee&&ee.getType&&ee.getType()==="combo"&&f.updateCombo(ee,Yt.children),!0})}),!w){var X=Object(ve.a)({id:e.id,depth:0},e);e.depth=X.depth,m.push(X),v=f.addItem(t,e)}this.set("comboTrees",m)}else if(t==="node"&&Object(p.O)(e.comboId)&&m){var Z=this.findById(e.comboId);Z&&Z.getType&&Z.getType()!=="combo"&&console.warn("'"+e.comboId+"' is not a id of a combo in the graph, the node will be added without combo."),v=f.addItem(t,e);var J=this.get("itemMap"),ht=!1,mt=!1;(m||[]).forEach(function(kt){mt||ht||Fs(kt,function(Yt){if(Yt.id===e.id)return mt=!0,!1;if(e.comboId===Yt.id&&!mt){ht=!0;var qt=Object(p.e)(e);qt.itemType="node",Yt.children?Yt.children.push(qt):Yt.children=[qt],qt.depth=Yt.depth+1}return ht&&J[Yt.id].getType&&J[Yt.id].getType()==="combo"&&f.updateCombo(J[Yt.id],Yt.children),!0})})}else v=f.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var Z=this.findById(e.comboId||e.parentId);Z&&Z.getType&&Z.getType()==="combo"&&Z.addChild(v)}var At=this.get("combos");if(At&&At.length>0&&this.sortCombos(),this.autoPaint(),r&&this.get("enabledStack")){var St=Object(ve.a)(Object(ve.a)({},v.getModel()),{itemType:t}),Bt={};switch(t){case"node":Bt.nodes=[St];break;case"edge":Bt.edges=[St];break;case"combo":Bt.combos=[St];break;default:break}this.pushStack("add",{before:{},after:Bt})}return v},n.prototype.add=function(t,e,r,a){return r===void 0&&(r=!0),a===void 0&&(a=!0),this.addItem(t,e,r,a)},n.prototype.updateItem=function(t,e,r){var a=this;r===void 0&&(r=!0);var l=this.get("itemController"),f;Object(p.O)(t)?f=this.findById(t):f=t;var v=Object(p.e)(f.getModel()),m="";f.getType&&(m=f.getType());var T=Object(ve.f)([],f.getStates());if(m==="combo"&&Object(p.j)(T,function(J){return a.setItemState(f,J,!1)}),l.updateItem(f,e),m==="combo"&&Object(p.j)(T,function(J){return a.setItemState(f,J,!0)}),r&&this.get("enabledStack")){var w={nodes:[],edges:[],combos:[]},X={nodes:[],edges:[],combos:[]},Z=Object(ve.a)({id:v.id},e);switch(m){case"node":w.nodes.push(v),X.nodes.push(Z);break;case"edge":w.edges.push(v),X.edges.push(Z);break;case"combo":w.combos.push(v),X.combos.push(Z);break;default:break}m==="node"&&w.nodes.push(v),this.pushStack("update",{before:w,after:X})}},n.prototype.update=function(t,e,r){r===void 0&&(r=!0),this.updateItem(t,e,r)},n.prototype.setItemState=function(t,e,r){Object(p.O)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,r);var l=this.get("stateController");Object(p.O)(r)?l.updateState(t,e+":"+r,!0):l.updateState(t,e,r)},n.prototype.priorityState=function(t,e){var r=this.get("itemController");r.priorityState(t,e)},n.prototype.data=function(t){Pd(t),this.set("data",t)},n.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var r=e.nodes,a=r===void 0?[]:r,l=e.edges,f=l===void 0?[]:l,v=e.combos,m=v===void 0?[]:v;if(this.clear(!0),this.emit("beforerender"),Object(p.j)(a,function(mt){t.add("node",mt,!1,!1)}),m&&m.length!==0){var T=Nc(m,a);this.set("comboTrees",T),t.addCombos(m)}Object(p.j)(f,function(mt){t.add("edge",mt,!1,!1)});var w=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var X=t.get("layoutController");if(X){if(X.layout(Z),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",w);function Z(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",w)}if(!this.get("groupByTypes"))if(m&&m.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var J=this.getNodes();J.forEach(function(mt){mt.toFront()})}else{var ht=this.getEdges();ht.forEach(function(mt){mt.toBack()})}this.get("enabledStack")&&this.pushStack("render")},n.prototype.read=function(t){this.data(t),this.render()},n.prototype.diffItems=function(t,e,r){var a=this,l,f=this.get("itemMap");Object(p.j)(r,function(v){if(l=f[v.id],l){if(a.get("animate")&&t===_c){var m=l.getContainer().getMatrix();m||(m=[1,0,0,0,1,0,0,0,1]),l.set("originAttrs",{x:m[6],y:m[7]})}a.updateItem(l,v,!1)}else l=a.addItem(t,v,!1);l&&e[t+"s"].push(l)})},n.prototype.changeData=function(t,e){e===void 0&&(e=!0);var r=this;if(!Pd(t))return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:r.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(ht){return r.clearItemStates(ht)}),this.getEdges().map(function(ht){return r.clearItemStates(ht)});var a=this.get("canvas"),l=a.get("localRefresh");a.set("localRefresh",!1),r.get("data")||(r.data(t),r.render());var f=this.get("itemMap"),v={nodes:[],edges:[]},m=t.combos;if(m){var T=Nc(m,t.nodes);this.set("comboTrees",T)}this.diffItems("node",v,t.nodes),Object(p.j)(f,function(ht,mt){f[mt].getModel().depth=0,!(ht.getType&&ht.getType()==="edge")&&(ht.getType&&ht.getType()==="combo"?(delete f[mt],ht.destroy()):v.nodes.indexOf(ht)<0&&(delete f[mt],r.remove(ht,!1)))});for(var w=this.getCombos(),X=w.length,Z=X-1;Z>=0;Z--)w[Z].destroyed&&w.splice(Z,1);m&&(r.addCombos(m),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",v,t.edges),Object(p.j)(f,function(ht,mt){ht.getType&&(ht.getType()==="node"||ht.getType()==="combo")||v.edges.indexOf(ht)<0&&(delete f[mt],r.remove(ht,!1))}),this.set({nodes:v.nodes,edges:v.edges});var J=this.get("layoutController");return J&&(J.changeData(),r.get("animate")&&!J.getLayoutType()?r.positionsAnimate():r.autoPaint()),setTimeout(function(){a.set("localRefresh",l)},16),this},n.prototype.addCombos=function(t){var e=this,r=e.get("comboTrees"),a=this.get("itemController");a.addCombos(r,t)},n.prototype.createCombo=function(t,e){var r=this;this.set("comboSorted",!1);var a="",l;if(!!t){if(Object(p.O)(t))a=t,l={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}l=t}var f=e.map(function(m){var T=r.findById(m),w=T.getModel(),X="";T.getType&&(X=T.getType());var Z={id:T.getID(),itemType:X};return X==="combo"?(Z.parentId=a,w.parentId=a):X==="node"&&(Z.comboId=a,w.comboId=a),Z});l.children=f,this.addItem("combo",l,!1),this.set("comboSorted",!1);var v=this.get("comboTrees");(v||[]).forEach(function(m){Fs(m,function(T){return T.id===a?(T.itemType="combo",T.children=f,!1):!0})}),v&&this.sortCombos()}},n.prototype.uncombo=function(t){var e=this,r=this,a=t;if(Object(p.O)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item is not a combo!");return}var l=a.getModel().parentId,f=r.get("comboTrees");f||(f=[]);var v=this.get("itemMap"),m=a.get("id"),T,w=[],X=this.get("combos"),Z=this.findById(l);if(f.forEach(function(ht){T||Fs(ht,function(mt){if(mt.id===m){T=mt;var At=a.getEdges();At.forEach(function(Bt){e.removeItem(Bt,!1)});var St=X.indexOf(t);X.splice(St,1),delete v[m],a.destroy()}if(l&&T&&mt.id===l){Z.removeCombo(a),w=mt.children;var St=w.indexOf(T);return St!==-1&&w.splice(St,1),T.children.forEach(function(kt){var Yt=e.findById(kt.id),qt=Yt.getModel();Yt.getType&&Yt.getType()==="combo"?(kt.parentId=l,delete kt.comboId,qt.parentId=l,delete qt.comboId):Yt.getType&&Yt.getType()==="node"&&(kt.comboId=l,qt.comboId=l),Z.addChild(Yt),w.push(kt)}),!1}return!0})}),!l&&T){var J=f.indexOf(T);f.splice(J,1),T.children.forEach(function(ht){ht.parentId=void 0;var mt=e.findById(ht.id).getModel();delete mt.parentId,delete mt.comboId,ht.itemType!=="node"&&f.push(ht)})}},n.prototype.updateCombos=function(){var t=this,e=this,r=this.get("comboTrees"),a=e.get("itemController"),l=e.get("itemMap");(r||[]).forEach(function(f){Fs(f,function(v){if(!v)return!0;var m=l[v.id];if(m&&m.getType&&m.getType()==="combo"){var T=Object(ve.f)([],m.getStates());Object(p.j)(T,function(w){return t.setItemState(m,w,!1)}),a.updateCombo(m,v.children),Object(p.j)(T,function(w){return t.setItemState(m,w,!0)})}return!0})}),e.sortCombos()},n.prototype.updateCombo=function(t){var e=this,r=this,a=t,l;if(Object(p.O)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}l=a.get("id");var f=this.get("comboTrees"),v=r.get("itemController"),m=r.get("itemMap");(f||[]).forEach(function(T){Fs(T,function(w){if(!w)return!0;var X=m[w.id];if(l===w.id&&X&&X.getType&&X.getType()==="combo"){var Z=Object(ve.f)([],X.getStates());Object(p.j)(Z,function(J){X.getStateStyle(J)&&e.setItemState(X,J,!1)}),v.updateCombo(X,w.children),Object(p.j)(Z,function(J){X.getStateStyle(J)&&e.setItemState(X,J,!0)}),l&&(l=w.parentId)}return!0})})},n.prototype.updateComboTree=function(t,e,r){r===void 0&&(r=!0);var a=this;this.set("comboSorted",!1);var l;Object(p.O)(t)?l=a.findById(t):l=t;var f=l.getModel(),v=f.comboId||f.parentId,m="";if(l.getType&&(m=l.getType()),e&&m==="combo"){var T=this.get("comboTrees"),w=!0,X;if((T||[]).forEach(function(St){X||qo(St,function(Bt){if(!X)return Bt.id===l.getID()&&(X=Bt),!0})}),qo(X,function(St){return St.id===e?(w=!1,!1):!0}),!w){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(r&&this.get("enabledStack")){var Z={},J={};m==="combo"?(Z.combos=[{id:f.id,parentId:f.parentId}],J.combos=[{id:f.id,parentId:e}]):m==="node"&&(Z.nodes=[{id:f.id,parentId:f.comboId}],J.nodes=[{id:f.id,parentId:e}]),this.pushStack("updateComboTree",{before:Z,after:J})}if(f.parentId||f.comboId){var ht=this.findById(f.parentId||f.comboId);ht&&ht.removeChild(l)}if(m==="combo"?f.parentId=e:m==="node"&&(f.comboId=e),e){var mt=this.findById(e);mt&&mt.addChild(l)}if(v){var mt=this.findById(v);mt&&mt.removeChild(l)}var At=Kf(this.get("comboTrees"),f.id,e);this.set("comboTrees",At),this.updateCombos()},n.prototype.save=function(){var t=[],e=[],r=[];return Object(p.j)(this.get("nodes"),function(a){t.push(a.getModel())}),Object(p.j)(this.get("edges"),function(a){e.push(a.getModel())}),Object(p.j)(this.get("combos"),function(a){r.push(a.getModel())}),{nodes:t,edges:e,combos:r}},n.prototype.changeSize=function(t,e){var r=this.get("viewController");return r.changeSize(t,e),this},n.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),r=t.get("edges"),a=t.get("edges");Object(p.j)(e,function(l){l.refresh()}),Object(p.j)(r,function(l){l.refresh()}),Object(p.j)(a,function(l){l.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},n.prototype.getNodes=function(){return this.get("nodes")},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getCombos=function(){return this.get("combos")},n.prototype.getComboChildren=function(t){if(Object(p.O)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},n.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),r=e.onFrame,a=t.getNodes(),l=a.map(function(v){var m=v.getModel();return{id:m.id,x:m.x,y:m.y}});t.isAnimating()&&t.stopAnimate();var f=t.get("canvas");f.animate(function(v){Object(p.j)(l,function(m){var T=t.findById(m.id);if(!(!T||T.destroyed)){var w=T.get("originAttrs"),X=T.get("model");if(!w){var Z=T.getContainer().getMatrix();Z||(Z=[1,0,0,0,1,0,0,0,1]),w={x:Z[6],y:Z[7]},T.set("originAttrs",w)}if(r){var J=r(T,v,m,w);T.set("model",Object.assign(X,J))}else X.x=w.x+(m.x-w.x)*v,X.y=w.y+(m.y-w.y)*v}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){Object(p.j)(a,function(m){m.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},n.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),r=t.get("edges"),a=t.get("vedges"),l=t.get("combos"),f,v={};Object(p.j)(e,function(m){f=m.getModel();var T=m.get("originAttrs");if(!(T&&f.x===T.x&&f.y===T.y)){var w=m.updatePosition({x:f.x,y:f.y});v[f.id]=w,f.comboId&&(v[f.comboId]=v[f.comboId]||w)}}),l&&l.length!==0&&t.updateCombos(),Object(p.j)(r,function(m){var T=m.getSource().getModel(),w=m.getTarget();if(!Object(p.N)(w)){var X=w.getModel();(v[T.id]||v[X.id]||m.getModel().isComboEdge)&&m.refresh()}}),Object(p.j)(a,function(m){m.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},n.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},n.prototype.isAnimating=function(){return this.animating},n.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},n.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},n.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},n.prototype.clear=function(t){t===void 0&&(t=!1);var e=this.get("canvas");return e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},n.prototype.updateLayout=function(t){var e=this.get("layoutController");Object(p.O)(t)&&(t={type:t});var r=this.get("layout"),a={};Object.assign(a,r,t),this.set("layout",a),e.isLayoutTypeSame(a)&&a.gpuEnabled===r.gpuEnabled?e.updateLayoutCfg(a):e.changeLayout(a)},n.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},n.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!(!e||!t)){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},n.prototype.collapseCombo=function(t){var e=this;if(Object(p.O)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),a=this.get("itemController");a.collapseCombo(t),r.collapsed=!0;var l=this.getEdges().concat(this.get("vedges")),f=[],v=[],m=this.get("comboTrees"),T=!1;(m||[]).forEach(function(Z){T||qo(Z,function(J){if(T&&J.depth<=r.depth)return!1;if(r.id===J.id&&(T=!0),T){var ht=e.findById(J.id);ht&&ht.getType&&ht.getType()==="combo"&&(f=f.concat(ht.getNodes()),v=v.concat(ht.getCombos()))}return!0})});var w={},X=[];l.forEach(function(Z){if(!(Z.isVisible()&&!Z.getModel().isVEdge)){var J=Z.getSource(),ht=Z.getTarget();if((f.includes(J)||v.includes(J))&&!f.includes(ht)&&!v.includes(ht)||J.getModel().id===r.id){var mt=Z.getModel();if(mt.isVEdge){e.removeItem(Z,!1);return}for(var At=ht.getModel();!ht.isVisible();){if(ht=e.findById(At.parentId||At.comboId),!ht||!At.parentId&&!At.comboId)return;At=ht.getModel()}var St=At.id;if(w[r.id+"-"+St]){w[r.id+"-"+St]+=mt.size||1;return}var Bt=e.addItem("vedge",{source:r.id,target:St,isVEdge:!0},!1);w[r.id+"-"+St]=mt.size||1,X.push(Bt)}else if(!f.includes(J)&&!v.includes(J)&&(f.includes(ht)||v.includes(ht))||ht.getModel().id===r.id){var mt=Z.getModel();if(mt.isVEdge){e.removeItem(Z,!1);return}for(var kt=J.getModel();!J.isVisible();){if(J=e.findById(kt.parentId||kt.comboId),!J||!kt.parentId&&!kt.comboId)return;kt=J.getModel()}var Yt=kt.id;if(w[Yt+"-"+r.id]){w[Yt+"-"+r.id]+=mt.size||1;return}var Bt=e.addItem("vedge",{target:r.id,source:Yt,isVEdge:!0},!1);w[Yt+"-"+r.id]=mt.size||1,X.push(Bt)}}}),X.forEach(function(Z){var J=Z.getModel();e.updateItem(Z,{size:w[J.source+"-"+J.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})},n.prototype.expandCombo=function(t){var e=this;if(Object(p.O)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),a=this.get("itemController");a.expandCombo(t),r.collapsed=!1;var l=this.getEdges().concat(this.get("vedges")),f=[],v=[],m=this.get("comboTrees"),T=!1;(m||[]).forEach(function(Z){T||qo(Z,function(J){if(T&&J.depth<=r.depth)return!1;if(r.id===J.id&&(T=!0),T){var ht=e.findById(J.id);ht&&ht.getType&&ht.getType()==="combo"&&(f=f.concat(ht.getNodes()),v=v.concat(ht.getCombos()))}return!0})});var w={},X={};l.forEach(function(Z){if(!(Z.isVisible()&&!Z.getModel().isVEdge)){var J=Z.getSource(),ht=Z.getTarget(),mt=J.get("id"),At=ht.get("id");if((f.includes(J)||v.includes(J))&&!f.includes(ht)&&!v.includes(ht)||mt===r.id){if(Z.getModel().isVEdge){e.removeItem(Z,!1);return}for(var St=ht.getModel();!ht.isVisible();){if(ht=e.findById(St.comboId||St.parentId),!ht||!St.parentId&&!St.comboId)return;St=ht.getModel()}At=St.id;for(var Bt=J.getModel();!J.isVisible();){if(J=e.findById(Bt.comboId||Bt.parentId),!J||!Bt.parentId&&!Bt.comboId)return;if(Bt.comboId===r.id||Bt.parentId===r.id)break;Bt=J.getModel()}if(mt=Bt.id,At){var kt=mt+"-"+At;if(w[kt]){w[kt]+=Z.getModel().size||1,e.updateItem(X[kt],{size:w[kt]},!1);return}var Yt=e.addItem("vedge",{source:mt,target:At,isVEdge:!0},!1);w[kt]=Z.getModel().size||1,X[kt]=Yt}}else if(!f.includes(J)&&!v.includes(J)&&(f.includes(ht)||v.includes(ht))||At===r.id){if(Z.getModel().isVEdge){e.removeItem(Z,!1);return}for(var Bt=J.getModel();!J.isVisible();){if(J=e.findById(Bt.comboId||Bt.parentId),!J||!Bt.parentId&&!Bt.comboId)return;Bt=J.getModel()}mt=Bt.id;for(var St=ht.getModel();!ht.isVisible();){if(ht=e.findById(St.comboId||St.parentId),!ht||!St.parentId&&!St.comboId)return;if(St.comboId===r.id||St.parentId===r.id)break;St=ht.getModel()}if(At=St.id,mt){var kt=mt+"-"+At;if(w[kt]){w[kt]+=Z.getModel().size||1,e.updateItem(X[kt],{size:w[kt]},!1);return}var Yt=e.addItem("vedge",{target:At,source:mt,isVEdge:!0},!1);w[kt]=Z.getModel().size||1,X[kt]=Yt}}else(f.includes(J)||v.includes(J))&&(f.includes(ht)||v.includes(ht))&&J.isVisible()&&ht.isVisible()&&Z.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},n.prototype.collapseExpandCombo=function(t){if(Object(p.O)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),r=this.findById(e.parentId);r;){var a=r.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),r=void 0;return}r=this.findById(a.parentId)}var l=e.collapsed;l?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},n.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var r=[],a={},l=this.get("comboTrees");(l||[]).forEach(function(v){qo(v,function(m){return r[m.depth]?r[m.depth].push(m.id):r[m.depth]=[m.id],a[m.id]=m.depth,!0})});var f=this.getEdges().concat(this.get("vedges"));(f||[]).forEach(function(v){var m=v.getModel(),T=a[m.source]||0,w=a[m.target]||0,X=Math.max(T,w);r[X]?r[X].push(m.id):r[X]=[m.id]}),r.forEach(function(v){if(!(!v||!v.length))for(var m=v.length-1;m>=0;m--){var T=t.findById(v[m]);T&&T.toFront()}})}},n.prototype.getNeighbors=function(t,e){var r=t;return Object(p.O)(t)&&(r=this.findById(t)),r.getNeighbors(e)},n.prototype.getNodeDegree=function(t,e,r){e===void 0&&(e=void 0),r===void 0&&(r=!1);var a=t;Object(p.O)(t)&&(a=this.findById(t));var l=this.get("degrees");(!l||r)&&(l=Ls(this.save()),this.set("degrees",l));var f=l[a.getID()],v=0;if(!f)return 0;switch(e){case"in":v=f.inDegree;break;case"out":v=f.outDegree;break;case"all":v=f;break;default:v=f.degree;break}return v},n.prototype.getUndoStack=function(){return this.undoStack},n.prototype.getRedoStack=function(){return this.redoStack},n.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},n.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},n.prototype.pushStack=function(t,e,r){if(t===void 0&&(t="update"),r===void 0&&(r="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?Object(p.e)(e):{before:{},after:Object(p.e)(this.save())};r==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},n.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix");return(!r||!t)&&(r=hi(this.save(),e),this.set("adjMatrix",r)),r},n.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!r||!t)&&(r=hi(this.save(),e),this.set("adjMatrix",r)),(!a||!t)&&(a=Pr(this.save(),e),this.set("shortestPathMatrix",a)),a},n.prototype.on=function(t,e,r){return u.prototype.on.call(this,t,e,r)},n.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},n.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var e=this.get("hullGroup"),r=this.get("hullMap");if(r||(r={},this.set("hullMap",r)),(!e||e.get("destroyed"))&&(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),r[t.id])return console.warn("Existed hull id."),r[t.id];var a=e.addGroup({id:t.id+"-container"}),l=new kh(this,Object(ve.a)(Object(ve.a)({},t),{group:a})),f=l.id;return r[f]=l,l},n.prototype.getHulls=function(){return this.get("hullMap")},n.prototype.getHullById=function(t){return this.get("hullMap")[t]},n.prototype.removeHull=function(t){var e;Object(p.O)(t)?e=this.getHullById(t):e=t;var r=this.get("hullMap");delete r[e.id],e.destroy()},n.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(e){var r=t[e];r.destroy()}),this.set("hullMap",{}))},n}(Ua.a),Qu=$u;function mu(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(u)}var Cs=qn.a.transform,qc="-shape",bu="-label",Ou=["startArrow","endArrow"],Xl={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},tf={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Us={edge:tf,node:Xl,combo:Xl},Hl="-label-bg",Kl={options:{},itemType:"",type:"",getCustomConfig:function(n){return{}},getOptions:function(n){return Object(p.h)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(n)||{},n)},draw:function(n,t){var e=this.drawShape(n,t);if(e.set("className",this.itemType+qc),n.label){var r=this.drawLabel(n,t);r.set("className",this.itemType+bu)}return e},afterDraw:function(n,t,e){},drawShape:function(n,t){return null},drawLabel:function(n,t){var e=this.getOptions(n).labelCfg,r=e||{},a=this.getLabelStyle(n,r,t),l=a.rotate;delete a.rotate;var f=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(l){var v=f.getBBox(),m=f.getMatrix();if(m||(m=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":m=Cs(m,[["t",-v.width/2,-v.height/2],["r",l],["t",v.width/2,v.height/2]]);break;case"lefttop":m=Cs(m,[["t",-a.x,-a.y],["r",l],["t",a.x,a.y]]);break;case"leftcenter":m=Cs(m,[["t",-a.x,-a.y-v.height/2],["r",l],["t",a.x,a.y+v.height/2]]);break;default:m=Cs(m,[["t",-v.width/2,-v.height/2],["r",l],["t",v.width/2,v.height/2]]);break}else m=Cs(m,[["t",-a.x,-a.y-v.height/2],["r",l],["t",a.x,a.y+v.height/2]]);f.setMatrix(m)}if(a.background){var T=this.drawLabelBg(n,t,f),w=this.itemType+Hl;T.set("classname",w),f.toFront()}return f},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,a=Object(p.bb)({},r,n.labelCfg),l=this.getLabelBgStyleByPosition(e,n,a,t),f=t.addShape("rect",{name:"text-bg-shape",attrs:l});return f},getLabelStyleByPosition:function(n,t,e){return{text:n.label}},getLabelBgStyleByPosition:function(n,t,e,r){return{}},getLabelStyle:function(n,t,e){var r=this.getLabelStyleByPosition(n,t,e),a=this.itemType+"Label",l=Xn[a]?Xn[a].style:null,f=Object(ve.a)(Object(ve.a)(Object(ve.a)({},l),r),t.style);return f},getShapeStyle:function(n){return n.style},update:function(n,t){this.updateShapeStyle(n,t),this.updateLabel(n,t)},updateShapeStyle:function(n,t){var e=t.getContainer(),r=t.getKeyShape(),a=Object(p.bb)({},r.attr(),n.style),l=function(m){var T,w=a[m];if(Object(p.N)(w)){var X=e.find(function(Z){return Z.get("name")===m});X&&X.attr(w)}else r.attr((T={},T[m]=w,T))};for(var f in a)l(f)},updateLabel:function(n,t){var e=t.getContainer(),r=this.getOptions({}).labelCfg,a=this.itemType+bu,l=e.find(function(Yt){return Yt.get("className")===a}),f=this.itemType+Hl,v=e.find(function(Yt){return Yt.get("classname")===f});if(n.label||n.label==="")if(l){var T={};t.getModel&&(T=t.getModel().labelCfg);var w=Object(p.h)({},r,T,n.labelCfg),X=this.getLabelStyleByPosition(n,w,e),Z=n.labelCfg?n.labelCfg.style:void 0,J=w.style&&w.style.background,ht=Object(ve.a)(Object(ve.a)(Object(ve.a)({},l.attr()),X),Z),mt=ht.rotate;if(delete ht.rotate,mt){var At=[1,0,0,0,1,0,0,0,1];At=Cs(At,[["t",-ht.x,-ht.y],["r",mt],["t",ht.x,ht.y]]),l.resetMatrix(),l.attr(Object(ve.a)(Object(ve.a)({},ht),{matrix:At}))}else l.resetMatrix(),l.attr(ht);if(!v)ht.background&&(v=this.drawLabelBg(n,e,l),v.set("classname",f),l.toFront());else if(ht.background){var St=this.getLabelBgStyleByPosition(l,n,w,e),Bt=Object(ve.a)(Object(ve.a)({},St),J);if(v.resetMatrix(),mt){var kt=[1,0,0,0,1,0,0,0,1];kt=Cs(kt,[["t",-Bt.x,-Bt.y],["r",mt],["t",Bt.x,Bt.y]]),Bt.matrix=kt}v.attr(Bt)}else e.removeChild(v)}else{var m=this.drawLabel(n,e);m.set("className",a)}},afterUpdate:function(n,t){},setState:function(n,t,e){var r,a,l=e.get("keyShape");if(!(!l||l.destroyed)){var f=e.getType(),v=Object(p.C)(t)?n:n+":"+t,m=this.getStateStyle(v,e),T=e.getStateStyle(v);if(!(!T&&!m)){var w=Object(p.bb)({},T||m),X=e.getContainer(),Z={x:1,y:1,cx:1,cy:1};if(f==="combo"&&(Z.r=1,Z.width=1,Z.height=1),t){var J=function(vr){var Qr,Zr=w[vr];if(Object(p.N)(Zr)&&!Ou.includes(vr)){var Rr=X.find(function(Dr){return Dr.get("name")===vr});Rr&&Rr.attr(Zr)}else l.attr((Qr={},Qr[vr]=Zr,Qr))};for(var ht in w)J(ht)}else{var mt=yl(e.getCurrentStatesStyle()),At=e.getModel(),St=Object(p.bb)({},At.style,yl(e.getOriginStyle())),Bt=l.get("name"),kt=l.attr(),Yt={};Object.keys(kt).forEach(function(fr){if(fr!=="img"){var vr=kt[fr];vr&&mu(vr)==="object"?Yt[fr]=Object(p.e)(vr):Yt[fr]=vr}});var qt={},ee=function(vr){var Qr=w[vr];if(Object(p.N)(Qr)&&!Ou.includes(vr)){var Zr=X.find(function(Ur){return Ur.get("name")===vr});if(Zr){var Rr=Object(p.e)(Zr.attr());Object(p.j)(Qr,function(Ur,Lr){if(vr===Bt&&Yt[Lr]&&!Z[Lr]){delete Yt[Lr];var kr=St[vr][Lr]||Us[f][Lr];l.attr(Lr,kr)}else if(Rr[Lr]||Rr[Lr]===0){delete Rr[Lr];var On=St[vr][Lr]||Us[f][Lr];Zr.attr(Lr,On)}}),qt[vr]=Rr}}else if(Yt[vr]&&!Z[vr]){delete Yt[vr];var Dr=St[vr]||(St[Bt]?St[Bt][vr]:void 0)||Us[f][vr];l.attr(vr,Dr)}};for(var re in w)ee(re);Bt?qt[Bt]=Yt:Object(p.bb)(qt,Yt);for(var ht in mt)if(!Z[ht]){var fe=mt[ht];(!Object(p.N)(fe)||Ou.includes(ht))&&(Bt?(Object(p.bb)(St[Bt],(a={},a[ht]=fe,a)),delete St[ht]):Object(p.bb)(St,(r={},r[ht]=fe,r)),delete mt[ht])}var le={};Object(p.h)(le,St,qt,mt);var Oe=!1,Te=function(vr){var Qr,Zr,Rr=le[vr];if(Object(p.N)(Rr)&&!Ou.includes(vr)){var Dr=X.find(function(Lr){return Lr.get("name")===vr});Dr&&(vr===Bt&&(f==="combo"&&(delete Rr.r,delete Rr.width,delete Rr.height),Oe=!0),Dr.attr(Rr))}else if(!Oe){var Ur=Rr||Us[f][vr];f==="combo"?Bt||l.attr((Qr={},Qr[vr]=Ur,Qr)):l.attr((Zr={},Zr[vr]=Ur,Zr))}};for(var sr in le)Te(sr)}}}},getStateStyle:function(n,t){var e=t.getModel(),r=t.getType(),a=this.getOptions(e),l=a.stateStyles,f=a.style,v=f===void 0?{}:f,m=e.stateStyles?e.stateStyles[n]:l&&l[n];return r==="combo"?Object(p.e)(m):Object(p.bb)({},v,m)},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.getOptions(n).anchorPoints;return t}},Ju={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Xn.nodeLabel.offset,getSize:function(n){var t=n.size||this.getOptions({}).size||Xn.defaultNode.size;return Object(p.B)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(p.B)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:n.label};var r=t.offset;Object(p.I)(r)&&(r=this.offset);var a=this.getSize(n),l=a[0],f=a[1],v;switch(e){case"top":v={x:0,y:0-f/2-r,textBaseline:"bottom"};break;case"bottom":v={x:0,y:f/2+r,textBaseline:"top"};break;case"left":v={x:0-l/2-r,y:0,textAlign:"right"};break;default:v={x:l/2+r,y:0,textAlign:"left"};break}return v.text=n.label,v},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var a=n.getBBox(),l=e.style&&e.style.background;if(!l)return{};var f=Gc(l.padding),v=a.width+f[1]+f[3],m=a.height+f[0]+f[2],T=e.offset;Object(p.I)(T)&&(T=this.offset);var w;return w={x:a.minX-f[3],y:a.minY-f[0]},w=Object(ve.a)(Object(ve.a)(Object(ve.a)({},w),l),{width:v,height:m}),w},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),a=t.addShape(e,{attrs:r,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=t.find(function(ee){return ee.get("className")==="link-point-left"}),a=t.find(function(ee){return ee.get("className")==="link-point-right"}),l=t.find(function(ee){return ee.get("className")==="link-point-top"}),f=t.find(function(ee){return ee.get("className")==="link-point-bottom"}),v;r&&(v=r.attr()),a&&!v&&(v=a.attr()),l&&!v&&(v=l.attr()),f&&!v&&(v=f.attr()),v||(v=e);var m=Object(p.bb)({},v,n.linkPoints),T=m.fill,w=m.stroke,X=m.lineWidth,Z=m.size/2;Z||(Z=m.r);var J=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ht=J.left,mt=J.right,At=J.top,St=J.bottom,Bt=this.getSize(n),kt=Bt[0],Yt=Bt[1],qt={r:Z,fill:T,stroke:w,lineWidth:X};r?!ht&&ht!==void 0?r.remove():r.attr(Object(ve.a)(Object(ve.a)({},qt),{x:-kt/2,y:0})):ht&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},qt),{x:-kt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!mt&&mt!==void 0&&a.remove(),a.attr(Object(ve.a)(Object(ve.a)({},qt),{x:kt/2,y:0}))):mt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},qt),{x:kt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),l?(!At&&At!==void 0&&l.remove(),l.attr(Object(ve.a)(Object(ve.a)({},qt),{x:0,y:-Yt/2}))):At&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},qt),{x:0,y:-Yt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),f?!St&&St!==void 0?f.remove():f.attr(Object(ve.a)(Object(ve.a)({},qt),{x:0,y:Yt/2})):St&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},qt),{x:0,y:Yt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(n,t,e,r){var a=t.get("keyShape");a.attr(Object(ve.a)({},e)),this.updateLabel(n,t),r&&this.updateIcon(n,t)},updateIcon:function(n,t){var e=this,r=t.getContainer(),a=this.getOptions(n).icon,l=(n.icon?n.icon:{show:void 0}).show,f=r.find(function(X){return X.get("className")===e.type+"-icon"});if(f)if(l||l===void 0){var v=Object(p.bb)({},f.attr(),a),m=v.width,T=v.height;f.attr(Object(ve.a)(Object(ve.a)({},v),{x:-m/2,y:-T/2}))}else f.remove();else if(l){var m=a.width,T=a.height;r.addShape("image",{attrs:Object(ve.a)(Object(ve.a)({},a),{x:-m/2,y:-T/2}),className:this.type+"-icon",name:this.type+"-icon"});var w=r.find(function(J){return J.get("className")==="node-label"});w&&w.toFront()}}},_u=Object(ve.a)(Object(ve.a)({},Kl),Ju);ro.registerNode("single-node",_u);var Sl="edge-shape";function ef(u){var n=u;return u==="start"?n="end":u==="end"&&(n="start"),n}var qu={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Xn.defaultEdge.size,style:{x:0,y:0,stroke:Xn.defaultEdge.style.stroke,lineAppendWidth:Xn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Xn.edgeLabel.style.fill,fontSize:Xn.edgeLabel.style.fontSize}},stateStyles:Object(ve.a)({},Xn.edgeStateStyles)},getPath:function(n){var t=[];return Object(p.j)(n,function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(p.bb)({},t,e,n.style),a=n.size||Xn.defaultEdge.size;n=this.getPathPoints(n);var l=n.startPoint,f=n.endPoint,v=this.getControlPoints(n),m=[l];v&&(m=m.concat(v)),m.push(f);var T=this.getPath(m),w=Object(p.bb)({},Xn.defaultEdge.style,{stroke:Xn.defaultEdge.color,lineWidth:a,path:T},r);return w},updateShapeStyle:function(n,t){var e=t.getContainer(),r={stroke:n.color},a=e.find(function(St){return St.get("className")==="edge-shape"})||t.getKeyShape(),l=n.size;n=this.getPathPoints(n);var f=n.startPoint,v=n.endPoint,m=this.getControlPoints(n),T=[f];m&&(T=T.concat(m)),T.push(v);var w=a.attr(),X=Object(p.bb)({},r,w,n.style),Z=n.sourceNode,J=n.targetNode,ht={radius:X.radius};m||(ht={source:Z,target:J,offset:X.offset,radius:X.radius}),w.endArrow&&X.endArrow===!1&&(n.style.endArrow={path:""}),w.startArrow&&X.startArrow===!1&&(n.style.startArrow={path:""});var mt=this.getPath(T,ht),At=Object(p.bb)(r,a.attr(),{lineWidth:l,path:mt},n.style);a&&a.attr(At)},getLabelStyleByPosition:function(n,t,e){var r=t.position||this.labelPosition,a={},l=e&&e.find(function(X){return X.get("className")===Sl}),f;r==="start"?f=0:r==="end"?f=1:f=.5;var v=t.refX||this.refX,m=t.refY||this.refY;if(n.startPoint.x===n.endPoint.x&&n.startPoint.y===n.endPoint.y)return a.x=n.startPoint.x+v,a.y=n.startPoint.y+m,a.text=n.label,a;var T;Object(p.I)(t.autoRotate)?T=this.labelAutoRotate:T=t.autoRotate;var w=Bc(l,f,v,m,T);return a.x=w.x,a.y=w.y,a.rotate=w.rotate,a.textAlign=this._getTextAlign(r,w.angle),a.text=n.label,a},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var a=n.getBBox(),l=e.style&&e.style.background;if(!l)return{};var f=l.padding,v=a.width+f[1]+f[3],m=a.height+f[0]+f[2],T=e.position||this.labelPosition,w=Object(ve.a)(Object(ve.a)({},l),{width:v,height:m,x:a.minX-f[2],y:a.minY-f[0],rotate:0}),X;Object(p.I)(e.autoRotate)?X=this.labelAutoRotate:X=e.autoRotate;var Z=r&&r.find(function(Bt){return Bt.get("className")===Sl}),J;T==="start"?J=0:T==="end"?J=1:J=.5;var ht=e.refX||this.refX,mt=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return w.x=t.startPoint.x+ht-v/2,w.y=t.startPoint.y+mt-m/2,w;var At=Bc(Z,J,ht-v/2,mt+m/2,X),St=At.angle;return St>1/2*Math.PI&&St<3*1/2*Math.PI&&(At=Bc(Z,J,ht+v/2,mt+m/2,X)),X&&(w.x=At.x,w.y=At.y),w.rotate=At.rotate,w},_getTextAlign:function(n,t){var e="center";return t?(t=t%(Math.PI*2),n!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=n:e=ef(n)),e):n},getControlPoints:function(n){return n.controlPoints},getPathPoints:function(n){return n},drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("path",{className:Sl,name:Sl,attrs:e});return r},drawLabel:function(n,t){var e=this.options.labelCfg,r;typeof window!="undefined"?r=window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif":r="Arial, sans-serif";var a=Object(p.h)({fontFamily:r},e,n.labelCfg),l=this.getLabelStyle(n,a,t),f=l.rotate;delete l.rotate;var v=t.addShape("text",{attrs:l,name:"text-shape"});if(f&&v.rotateAtStart(f),l.background){var m=this.drawLabelBg(n,t,v),T=this.itemType+Hl;m.set("classname",T),v.toFront()}return v},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,a=Object(p.h)({},r,n.labelCfg),l=this.getLabelStyle(n,a,t),f=l.rotate,v=this.getLabelBgStyleByPosition(e,n,a,t);delete v.rotate;var m=t.addShape("rect",{name:"text-bg-shape",attrs:v});return f&&m.rotateAtStart(f),m}},Yl=Object(ve.a)(Object(ve.a)({},Kl),qu);ro.registerEdge("single-edge",Yl),ro.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ro.registerEdge("spline",{getPath:function(n){var t=Qc(n);return t}},"single-edge"),ro.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint,r={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,l;if(n.controlPoints!==void 0){if(l=n.controlPoints[0],a=Tc(t,l,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>l.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>l.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<l.y?0:1:this.clockwise=a.y<l.y?1:0,(l.x-t.x)/(l.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),Object(p.B)(n.curveOffset)&&(n.curveOffset=n.curveOffset[0]),n.curveOffset<0?this.clockwise=0:this.clockwise=1;var f={x:e.x-t.x,y:e.y-t.y},v=Math.atan2(f.y,f.x);l={x:n.curveOffset*Math.cos(-Math.PI/2+v)+r.x,y:n.curveOffset*Math.sin(-Math.PI/2+v)+r.y},a=Tc(t,l,e)}var m=jl(t,a),T=[{x:m,y:m}];return T},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),n.length===2?t.push(["L",n[1].x,n[1].y]):t.push(["A",n[1].x,n[1].y,0,0,this.clockwise,n[2].x,n[2].y]),t}},"single-edge"),ro.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(n){var t=n.controlPoints;if(!t||!t.length){var e=n.startPoint,r=n.endPoint;n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(p.B)(this.curveOffset)&&(n.curveOffset=n.curveOffset[0]),Object(p.B)(this.curvePosition)&&(n.curvePosition=n.curveOffset[0]);var a=kl(e,r,n.curvePosition,n.curveOffset);t=[a]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["Q",n[1].x,n[1].y,n[2].x,n[2].y]),t}},"single-edge"),ro.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(n){var t=n.controlPoints;if(n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(p.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(p.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]),!t||!t.length||t.length<2){var e=n.startPoint,r=n.endPoint,a=kl(e,r,n.curvePosition[0],n.curveOffset[0]),l=kl(e,r,n.curvePosition[1],n.curveOffset[1]);t=[a,l]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["C",n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y]),t}},"single-edge"),ro.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(p.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(p.K)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(p.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.y-t.y,a=[0,0];n.curveOffset?a=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(a=n.minCurveOffset);var l={x:t.x,y:t.y+r*this.curvePosition[0]+a[0]},f={x:e.x,y:e.y-r*this.curvePosition[1]+a[1]};return[l,f]}},"cubic"),ro.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(p.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(p.K)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(p.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.x-t.x,a=[0,0];n.curveOffset?a=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(a=n.minCurveOffset);var l={x:t.x+r*this.curvePosition[0]+a[0],y:t.y},f={x:e.x-r*this.curvePosition[1]+a[1],y:e.y},v=[l,f];return v}},"cubic"),ro.registerEdge("loop",{getPathPoints:function(n){return wc(n)},getControlPoints:function(n){return n.controlPoints},afterDraw:function(n){n.controlPoints=void 0},afterUpdate:function(n){n.controlPoints=void 0}},"cubic");var Vh={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Xn.comboLabel.refX,refY:Xn.comboLabel.refY,options:{style:{stroke:Xn.defaultCombo.style.stroke,fill:Xn.defaultCombo.style.fill,lineWidth:Xn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Xn.comboLabel.style.fill,fontSize:Xn.comboLabel.style.fontSize}},stateStyles:Object(ve.a)({},Xn.comboStateStyles)},getSize:function(n){var t=Object(p.e)(n.size||this.options.size||Xn.defaultCombo.size);return Object(p.B)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(p.B)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,a=n.padding||this.options.padding;Object(p.B)(a)&&(a=a[0]);var l=t.refX,f=t.refY;Object(p.I)(l)&&(l=this.refX),Object(p.I)(f)&&(f=this.refY);var v=this.getSize(n),m=Math.max(r.r,v[0]/2)||v[0]/2,T=m+a,w;switch(e){case"top":w={x:0,y:-T-f,textBaseline:"bottom",textAlign:"center"};break;case"bottom":w={x:0,y:T+f,textBaseline:"bottom",textAlign:"center"};break;case"left":w={x:-T+l,y:0,textAlign:"left"};break;case"center":w={x:0,y:0,text:n.label,textAlign:"center"};break;default:w={x:T+l,y:0,textAlign:"right"};break}return w.text=n.label,w},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),a=t.addShape(e,{attrs:r,draggable:!0,name:"combo-shape"});return a},updateShape:function(n,t,e){var r=t.get("keyShape"),a=n.animate===void 0?this.options.animate:n.animate;a&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(ve.a)({},e)),this.updateLabel(n,t)}},nh=Object(ve.a)(Object(ve.a)({},Kl),Vh);ro.registerCombo("single-combo",nh),ro.registerCombo("circle",{options:{size:[Xn.defaultCombo.size[0],Xn.defaultCombo.size[0]],padding:Xn.defaultCombo.padding[0],animate:!0,style:{stroke:Xn.defaultCombo.style.stroke,fill:Xn.defaultCombo.style.fill,lineWidth:Xn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Xn.comboLabel.style.fill,fontSize:Xn.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(ve.a)({},Xn.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n);delete e.height,delete e.width;var r=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return r},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(p.B)(e)&&(e=e[0]);var r={stroke:n.color},a=Object(p.bb)({},t,r,n.style),l;if(n.fixSize)l=Object(p.K)(n.fixSize)?n.fixSize:n.fixSize[0];else{var f=this.getSize(n);!Object(p.K)(a.r)||isNaN(a.r)?l=f[0]/2||Xn.defaultCombo.style.r:l=Math.max(a.r,f[0]/2)||f[0]/2}a.r=l+e;var v=Object(ve.a)({x:0,y:0},a);return n.style?n.style.r=l:n.style={r:l},v},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(p.B)(r)&&(r=r[0]);var a=Object(p.e)(n.style),l;n.fixSize?l=Object(p.K)(n.fixSize)?n.fixSize:n.fixSize[0]:l=Math.max(a.r,e[0]/2)||e[0]/2,a.r=l+r;var f=t.get("sizeCache");f&&(f.r=a.r);var v={stroke:n.color},m=t.get("keyShape"),T=Object(p.bb)({},m.attr(),v,a);n.style?n.style.r=l:n.style={r:l},this.updateShape(n,t,T,!0)}},"single-combo"),ro.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Xn.defaultCombo.style.stroke,fill:Xn.defaultCombo.style.fill,lineWidth:Xn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Xn.comboLabel.style.fill,fontSize:Xn.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ve.a)({},Xn.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return r},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,a=n.padding||this.options.padding;Object(p.K)(a)&&(a=[a,a,a,a]);var l=t.refX,f=t.refY;Object(p.I)(l)&&(l=this.refX),Object(p.I)(f)&&(f=this.refY);var v=r.width/2+a[3],m=r.height/2+a[0],T;switch(e){case"top":T={x:0-v+l,y:0-m+f,textBaseline:"top",textAlign:"left"};break;case"bottom":T={x:0,y:m+f,textBaseline:"bottom",textAlign:"center"};break;case"left":T={x:0-v+f,y:0,textAlign:"left"};break;case"center":T={x:0,y:0,text:n.label,textAlign:"center"};break;default:T={x:v+l,y:0,textAlign:"right"};break}return T.text=n.label,T},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(p.K)(e)&&(e=[e,e,e,e]);var r={stroke:n.color},a=Object(p.bb)({},t,r,n.style),l=this.getSize(n),f,v,m=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;m?Object(p.K)(m)?(f=m,v=m):(f=m[0],v=m[1]):(!Object(p.K)(a.width)||isNaN(a.width)?f=l[0]||Xn.defaultCombo.style.width:f=Math.max(a.width,l[0])||l[0],!Object(p.K)(a.height)||isNaN(a.height)?v=l[1]||Xn.defaultCombo.style.height:v=Math.max(a.height,l[1])||l[1]);var T=-f/2-e[3],w=-v/2-e[0];a.width=f+e[1]+e[3],a.height=v+e[0]+e[2];var X=Object(ve.a)({x:T,y:w},a);return n.style?(n.style.width=f,n.style.height=v):n.style={width:f,height:v},X},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(p.K)(r)&&(r=[r,r,r,r]);var a=Object(p.e)(n.style),l,f,v=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;v?Object(p.K)(v)?(l=v,f=v):(l=v[0],f=v[1]):(l=Math.max(a.width,e[0])||e[0],f=Math.max(a.height,e[1])||e[1]),a.width=l+r[1]+r[3],a.height=f+r[0]+r[2];var m=t.get("sizeCache");m&&(m.width=a.width,m.height=a.height),a.x=-l/2-r[3],a.y=-f/2-r[0];var T={stroke:n.color},w=t.get("keyShape"),X=Object(p.bb)({},w.attr(),T,a);n.style?(n.style.width=l,n.style.height=f):n.style={width:l,height:f},this.updateShape(n,t,X,!1)},updateShape:function(n,t,e){var r=t.get("keyShape"),a=n.animate===void 0?this.options.animate:n.animate;a&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(ve.a)({},e)),this.updateLabel(n,t)}},"single-combo"),ro.registerNode("simple-circle",{options:{size:Xn.defaultNode.size,style:{x:0,y:0,stroke:Xn.defaultNode.style.stroke,fill:Xn.defaultNode.style.fill,lineWidth:Xn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xn.nodeLabel.style.fill,fontSize:Xn.nodeLabel.style.fontSize}},stateStyles:Object(ve.a)({},Xn.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("circle",{attrs:e,className:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.h)({},t,e),a=this.getSize(n),l=a[0]/2,f=Object(ve.a)({x:0,y:0,r:l},r);return f},update:function(n,t){var e=this.getSize(n),r={stroke:n.color,r:e[0]/2},a=t.get("keyShape"),l=Object(p.h)({},a.attr(),r,n.style);this.updateShape(n,t,l,!0)}},"single-node"),ro.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Xn.defaultNode.style.stroke,fill:Xn.defaultNode.style.fill,lineWidth:Xn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xn.nodeLabel.style.fill,fontSize:Xn.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ve.a)({},Xn.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),a=this.getSize(n),l=r.width||a[0],f=r.height||a[1],v=Object(ve.a)({x:-l/2,y:-f/2,width:l,height:f},r);return v},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,a=this.getSize(n),l=t.get("keyShape");n.size||(a[0]=l.attr("width")||r.width,a[1]=l.attr("height")||r.height);var f={stroke:n.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},v=Object(p.bb)({},r,l.attr(),f);v=Object(p.bb)(v,n.style),this.updateShape(n,t,v,!1)}},"single-node"),ro.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n);delete r.fill;var a=t.addShape(e,{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(n,a),a},drawClip:function(n,t){var e=this.getOptions(n).clipCfg;if(!!e.show){var r=e.type,a=e.x,l=e.y,f=e.style;if(r==="circle"){var v=e.r;t.setClip({type:"circle",attrs:Object(ve.a)({r:v,x:a,y:l},f)})}else if(r==="rect"){var m=e.width,T=e.height,w=a-m/2,X=l-T/2;t.setClip({type:"rect",attrs:Object(ve.a)({x:w,y:X,width:m,height:T},f)})}else if(r==="ellipse"){var Z=e.rx,J=e.ry;t.setClip({type:"ellipse",attrs:Object(ve.a)({x:a,y:l,rx:Z,ry:J},f)})}else if(r==="polygon"){var ht=e.points;t.setClip({type:"polygon",attrs:Object(ve.a)({points:ht},f)})}else if(r==="path"){var mt=e.path;t.setClip({type:"path",attrs:Object(ve.a)({path:mt},f)})}}},getShapeStyle:function(n){var t=this.getOptions(n).style,e=this.getSize(n),r=this.getOptions(n).img,a=e[0],l=e[1];t&&(a=t.width||e[0],l=t.height||e[1]);var f=Object(ve.a)({x:-a/2,y:-l/2,width:a,height:l,img:r},t);return f},updateShapeStyle:function(n,t){var e=t.getContainer(),r=this.itemType+"-shape",a=e.find(function(f){return f.get("className")===r})||t.getKeyShape(),l=this.getShapeStyle(n);a&&a.attr(l)}},"single-node");var Xh={triangle:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,a="M "+r+",0 L "+(r+t)+",-"+n/2+" L "+(r+t)+","+n/2+" Z";return a},vee:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=20),e===void 0&&(e=0);var r=e*2,a="M "+r+",0 L "+(r+t)+",-"+n/2+`
        L `+(r+2*t/3)+",0 L "+(r+t)+","+n/2+" Z";return a},circle:function(n,t){n===void 0&&(n=5),t===void 0&&(t=0);var e=t*2,r="M "+e+`, 0
            a `+n+","+n+" 0 1,0 "+n*2+`,0
            a `+n+","+n+" 0 1,0 "+-n*2+",0";return r},rect:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=10),e===void 0&&(e=0);var r=e*2,a="M "+r+","+-n/2+` 
        L `+(r+t)+","+-n/2+` 
        L `+(r+t)+","+n/2+` 
        L `+r+","+n/2+" Z";return a},diamond:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,a="M "+r+`,0 
        L `+(r+t/2)+","+-n/2+` 
        L `+(r+t)+`,0 
        L `+(r+t/2)+","+n/2+" Z";return a},triangleRect:function(n,t,e,r,a,l){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=15),r===void 0&&(r=3),a===void 0&&(a=5),l===void 0&&(l=0);var f=l*2,v=f+t+a,m="M "+f+",0 L "+(f+t)+",-"+n/2+" L "+(f+t)+","+n/2+` Z
            M `+v+", -"+e/2+`
            L `+(v+r)+" -"+e/2+`
            L `+(v+r)+" "+e/2+`
            L `+v+" "+e/2+`
            Z`;return m}},Hh={collapse:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n+e-4,t]]},expand:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n-e+2*e-4,t],["M",n-e+e,t-e+4],["L",n,t+e-4]]},upTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",n-r,t+a],["L",n+r,t+a],["L",n,t-e],["Z"]]},downTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",n-r,t-a],["L",n+r,t-a],["L",n,t+e],["Z"]]}},Cl=ro,Js=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],ah=qn.a.transform,ih=Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)({},M),x),D),b),C),{transform:ah,mat3:qn.b}),es=ih,Hd=function(){function u(n){this.graph=n,this.layoutCfg=n.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return u.prototype.initLayout=function(){},u.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},u.prototype.getLayoutCfgType=function(n){var t=n.type;if(t)return t;var e=n.pipes;return Array.isArray(e)?e.map(function(r){return(r==null?void 0:r.type)||""}):null},u.prototype.isLayoutTypeSame=function(n){var t=this.getLayoutCfgType(n);return Array.isArray(this.layoutType)?this.layoutType.every(function(e,r){return e===t[r]}):(n==null?void 0:n.type)===this.layoutType},u.prototype.refreshLayout=function(){var n=this.graph;!n||(n.get("animate")?n.positionsAnimate():n.refreshPositions())},u.prototype.changeLayout=function(n){this.layoutCfg=n,this.destoryLayoutMethods(),this.layout()},u.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},u.prototype.destoryLayoutMethods=function(){var n=this.layoutMethods;n==null||n.forEach(function(t){t.destroy()}),this.layoutMethods=[]},u.prototype.destroyLayout=function(){var n=this.graph;this.destoryLayoutMethods(),n.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},u.prototype.setDataFromGraph=function(){for(var n=[],t=[],e=[],r=[],a=[],l=[],f=[],v=this.graph.getNodes(),m=this.graph.getEdges(),T=this.graph.getCombos(),w=v.length,X=0;X<w;X++){var Z=v[X];if(!(!Z||Z.destroyed)){var J=Z.getModel();if(!Z.isVisible()){t.push(J);continue}n.push(J)}}for(var ht=m.length,X=0;X<ht;X++){var mt=m[X];if(!(!mt||mt.destroyed)){var J=mt.getModel();if(!mt.isVisible()){r.push(J);continue}J.isComboEdge?a.push(J):e.push(J)}}for(var At=T.length,X=0;X<At;X++){var St=T[X];if(!St.destroyed){var J=St.getModel();if(!St.isVisible()){r.push(J);continue}l.push(J)}}return{nodes:n,hiddenNodes:t,edges:e,hiddenEdges:r,combos:l,hiddenCombos:f,comboEdges:a}},u.prototype.reLayoutMethod=function(n,t){var e=this;return new Promise(function(r,a){var l=e.graph,f=t==null?void 0:t.type;t.onLayoutEnd=function(){l.emit("aftersublayout",{type:f}),r()},n.init(e.data),f==="force"&&(n.ticking=!1,n.forceSimulation.stop()),l.emit("beforesublayout",{type:f}),n.execute(),n.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()})},u.prototype.relayout=function(n){var t=this,e=this,r=e.graph,a=e.layoutMethods,l=e.layoutCfg;if(n){this.data=this.setDataFromGraph();var f=this.data.nodes;if(!f)return!1;this.initPositions(l.center,f)}r.emit("beforelayout");var v=Promise.resolve();a==null||a.forEach(function(m,T){var w=l[T];v=v.then(function(){return t.reLayoutMethod(m,w)})}),v.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd()}).catch(function(m){console.warn("relayout failed",m)})},u.prototype.filterLayoutData=function(n,t){var e=n.nodes,r=n.edges,a=Object(ve.e)(n,["nodes","edges"]);if(!e)return n;var l,f;if(Object(p.H)(t==null?void 0:t.nodesFilter)?l=t.nodesFilter:l=function(){return!0},Object(p.H)(t==null?void 0:t.edgesFilter))f=t.edgesFilter;else{var v=e.reduce(function(m,T){return m[T.id]=!0,m},{});f=function(T){return v[T.source]&&v[T.target]}}return Object(ve.a)({nodes:e.filter(l),edges:r.filter(f)},a)},u.prototype.getLayoutBBox=function(n){var t=this.graph,e=Object(p.v)(t.getNodes(),function(l){return l.getModel().layoutOrder}),r=Object.values(e).map(function(l){var f=wd(l);return f.size=[f.width,f.height],f}),a=Object.values(Object(p.v)(n,"layoutOrder"));return{groupNodes:a,layoutNodes:r}},u.prototype.layoutAnimate=function(){},u.prototype.moveToZero=function(){var n=this.graph,t=n.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||ml(e[0].x))){for(var r=[0,0],a=e.length,l=0;l<a;l++){var f=e[l];r[0]+=f.x,r[1]+=f.y}r[0]/=e.length,r[1]/=e.length;for(var l=0;l<a;l++){var f=e[l];f.x-=r[0],f.y-=r[1]}}},u.prototype.initPositions=function(n,t){var e=this.graph;if(!t)return!1;var r=t?t.length:0;if(!!r){var a=e.get("width")*.85,l=e.get("height")*.85,f=Math.ceil(Math.sqrt(r)*(a/l)),v=Math.ceil(r/f),m=a/(f-1),T=l/(v-1);(!isFinite(m)||!m)&&(m=0),(!isFinite(T)||!m)&&(T=0);for(var w=n[0]-a/2,X=n[1]-l/2,Z=!0,J=0;J<r;J++){var ht=t[J];ml(ht.x)&&(Z=!1,ht.x=J%f*m+w),ml(ht.y)&&(Z=!1,ht.y=Math.floor(J/f)*T+X)}return Z}},u.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},u}(),tc=Hd,Kd=function(){function u(n){this.graph=n,this.destroyed=!1,this.initEvents()}return u}(),Ms=Kd,rs;(function(u){u.CLICK="click",u.DBLCLICK="dblclick",u.MOUSEDOWN="mousedown",u.MOUDEUP="mouseup",u.CONTEXTMENU="contextmenu",u.MOUSEENTER="mouseenter",u.MOUSEOUT="mouseout",u.MOUSEOVER="mouseover",u.MOUSEMOVE="mousemove",u.MOUSELEAVE="mouseleave",u.DRAGSTART="dragstart",u.DRAGEND="dragend",u.DRAG="drag",u.DRAGENTER="dragenter",u.DRAGLEAVE="dragleave",u.DRAGOVER="dragover",u.DRAGOUT="dragout",u.DDROP="drop",u.KEYUP="keyup",u.KEYDOWN="keydown",u.WHEEL="wheel",u.FOCUS="focus",u.BLUR="blur",u.TOUCHSTART="touchstart",u.TOUCHMOVE="touchmove",u.TOUCHEND="touchend",u.CANVAS_TOUCHSTART="canvas:touchstart",u.CANVAS_TOUCHMOVE="canvas:touchmove",u.CANVAS_TOUCHEND="canvas:touchend",u.NODE_TOUCHSTART="node:touchstart",u.NODE_TOUCHMOVE="node:touchmove",u.NODE_TOUCHEND="node:touchend",u.COMBO_TOUCHSTART="combo:touchstart",u.COMBO_TOUCHMOVE="combo:touchmove",u.COMBO_TOUCHEND="combo:touchend",u.EDGE_TOUCHSTART="edge:touchstart",u.EDGE_TOUCHMOVE="edge:touchmove",u.EDGE_TOUCHEND="edge:touchend",u.NODE_CONTEXTMENU="node:contextmenu",u.NODE_CLICK="node:click",u.NODE_DBLCLICK="node:dblclick",u.NODE_MOUSEDOWN="node:mousedown",u.NODE_MOUSEUP="node:mouseup",u.NODE_MOUSEENTER="node:mouseenter",u.NODE_MOUSELEAVE="node:mouseleave",u.NODE_MOUSEMOVE="node:mousemove",u.NODE_MOUSEOUT="node:mouseout",u.NODE_MOUSEOVER="node:mouseover",u.NODE_DROP="node:drop",u.NODE_DRAGOVER="node:dragover",u.NODE_DRAGENTER="node:dragenter",u.NODE_DRAGLEAVE="node:dragleave",u.NODE_DRAGSTART="node:dragstart",u.NODE_DRAG="node:drag",u.NODE_DRAGEND="node:dragend",u.COMBO_CONTEXTMENU="combo:contextmenu",u.COMBO_CLICK="combo:click",u.COMBO_DBLCLICK="combo:dblclick",u.COMBO_MOUSEDOWN="combo:mousedown",u.COMBO_MOUSEUP="combo:mouseup",u.COMBO_MOUSEENTER="combo:mouseenter",u.COMBO_MOUSELEAVE="combo:mouseleave",u.COMBO_MOUSEMOVE="combo:mousemove",u.COMBO_MOUSEOUT="combo:mouseout",u.COMBO_MOUSEOVER="combo:mouseover",u.COMBO_DROP="combo:drop",u.COMBO_DRAGOVER="combo:dragover",u.COMBO_DRAGENTER="combo:dragenter",u.COMBO_DRAGLEAVE="combo:dragleave",u.COMBO_DRAGSTART="combo:dragstart",u.COMBO_DRAG="combo:drag",u.COMBO_DRAGEND="combo:dragend",u.EDGE_CONTEXTMENU="edge:contextmenu",u.EDGE_CLICK="edge:click",u.EDGE_DBLCLICK="edge:dblclick",u.EDGE_MOUSEDOWN="edge:mousedown",u.EDGE_MOUSEUP="edge:mouseup",u.EDGE_MOUSEENTER="edge:mouseenter",u.EDGE_MOUSELEAVE="edge:mouseleave",u.EDGE_MOUSEMOVE="edge:mousemove",u.EDGE_MOUSEOUT="edge:mouseout",u.EDGE_MOUSEOVER="edge:mouseover",u.EDGE_DROP="edge:drop",u.EDGE_DRAGOVER="edge:dragover",u.EDGE_DRAGENTER="edge:dragenter",u.EDGE_DRAGLEAVE="edge:dragleave",u.CANVAS_CONTEXTMENU="canvas:contextmenu",u.CANVAS_CLICK="canvas:click",u.CANVAS_DBLCLICK="canvas:dblclick",u.CANVAS_MOUSEDOWN="canvas:mousedown",u.CANVAS_MOUSEUP="canvas:mouseup",u.CANVAS_MOUSEENTER="canvas:mouseenter",u.CANVAS_MOUSELEAVE="canvas:mouseleave",u.CANVAS_MOUSEMOVE="canvas:mousemove",u.CANVAS_MOUSEOUT="canvas:mouseout",u.CANVAS_MOUSEOVER="canvas:mouseover",u.CANVAS_DROP="canvas:drop",u.CANVAS_DRAGENTER="canvas:dragenter",u.CANVAS_DRAGLEAVE="canvas:dragleave",u.CANVAS_DRAGSTART="canvas:dragstart",u.CANVAS_DRAG="canvas:drag",u.CANVAS_DRAGEND="canvas:dragend",u.BEFORERENDER="beforerender",u.AFTERRENDER="afterrender",u.BEFOREADDITEM="beforeadditem",u.AFTERADDITEM="afteradditem",u.BEFOREREMOVEITEM="beforeremoveitem",u.AFTERREMOVEITEM="afterremoveitem",u.BEFOREUPDATEITEM="beforeupdateitem",u.AFTERUPDATEITEM="afterupdateitem",u.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",u.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",u.BEFOREITEMSTATECHANGE="beforeitemstatechange",u.AFTERITEMSTATECHANGE="afteritemstatechange",u.BEFOREITEMREFRESH="beforeitemrefresh",u.AFTERITEMREFRESH="afteritemrefresh",u.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",u.AFTERITEMSTATESCLEAR="afteritemstatesclear",u.BEFOREMODECHANGE="beforemodechange",u.AFTERMODECHANGE="aftermodechange",u.BEFORELAYOUT="beforelayout",u.AFTERLAYOUT="afterlayout",u.BEFORECREATEEDGE="beforecreateedge",u.AFTERCREATEEDGE="aftercreateedge",u.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",u.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",u.BEFOREGRAPHREFRESH="beforegraphrefresh",u.AFTERGRAPHREFRESH="aftergraphrefresh",u.BEFOREANIMATE="beforeanimate",u.AFTERANIMATE="afteranimate",u.BEFOREPAINT="beforepaint",u.AFTERPAINT="afterpaint",u.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",u.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",u.GRAPHSTATECHANGE="graphstatechange",u.AFTERACTIVATERELATIONS="afteractivaterelations",u.NODESELECTCHANGE="nodeselectchange",u.TOOLTIPCHANGE="tooltipchange",u.WHEELZOOM="wheelzoom",u.VIEWPORTCHANGE="viewportchange",u.DRAGNODEEND="dragnodeend",u.STACKCHANGE="stackchange"})(rs||(rs={}));var Co=Cl.registerNode,_s=Cl.registerEdge,Kh=Cl.registerCombo,rf=Ui.registerBehavior,Mn=Xn,Yd={version:Xn.version,AbstractGraph:Qu,BaseGlobal:Mn,Util:es,Shape:Cl,Node:Hc,Edge:Xc,Combo:Zc,Hull:kh,registerNode:Cl.registerNode,registerEdge:Cl.registerEdge,registerCombo:Cl.registerCombo,registerBehavior:Ui.registerBehavior,Arrow:Xh,Marker:Hh,AbstractLayout:tc,AbstractEvent:Ms},zi=i("ZVen"),hs=i("l/Sb"),pr=i("99LQ");function Ro(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return pr.a.fromTranslation(e,t),pr.a.multiply(u,e,n)}function oh(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return pr.a.fromRotation(e,t),pr.a.multiply(u,e,n)}function Yh(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return pr.a.fromScaling(e,t),pr.a.multiply(u,e,n)}function Zd(u,n,t){return pr.a.multiply(u,t,n)}function Zh(u,n){for(var t=u?[].concat(u):[1,0,0,0,1,0,0,0,1],e=0,r=n.length;e<r;e++){var a=n[e];switch(a[0]){case"t":Ro(t,t,[a[1],a[2]]);break;case"s":Yh(t,t,[a[1],a[2]]);break;case"r":oh(t,t,a[1]);break;case"m":Zd(t,t,a[1]);break;default:break}}return t}function $h(u,n){return u[0]*n[1]-n[0]*u[1]}function ec(u,n,t){var e=pr.d.angle(u,n),r=$h(u,n)>=0;return t?r?Math.PI*2-e:e:r?e:Math.PI*2-e}function nf(u,n,t){return t?(u[0]=n[1],u[1]=-1*n[0]):(u[0]=-1*n[1],u[1]=n[0]),u}var $d=i("qRoJ"),rc=i.n($d),Qh=i("q4Li"),Zl=i.n(Qh),$l=2,af=.16,qs=.05,Jh=.05,Qd=.15,sh=5,tl=4,_t=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ie(u,n,t){var e;return Math.round(u.h)>=60&&Math.round(u.h)<=240?e=t?Math.round(u.h)-$l*n:Math.round(u.h)+$l*n:e=t?Math.round(u.h)+$l*n:Math.round(u.h)-$l*n,e<0?e+=360:e>=360&&(e-=360),e}function De(u,n,t){if(u.h===0&&u.s===0)return u.s;var e;return t?e=u.s-af*n:n===tl?e=u.s+af:e=u.s+qs*n,e>1&&(e=1),t&&n===sh&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function ar(u,n,t){var e;return t?e=u.v+Jh*n:e=u.v-Qd*n,e>1&&(e=1),Number(e.toFixed(2))}function Cr(u){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Zl()(u),r=sh;r>0;r-=1){var a=e.toHsv(),l=Zl()({h:ie(a,r,!0),s:De(a,r,!0),v:ar(a,r,!0)}).toHexString();t.push(l)}t.push(e.toHexString());for(var f=1;f<=tl;f+=1){var v=e.toHsv(),m=Zl()({h:ie(v,f),s:De(v,f),v:ar(v,f)}).toHexString();t.push(m)}return n.theme==="dark"?_t.map(function(T){var w=T.index,X=T.opacity,Z=Zl.a.mix(n.backgroundColor||"#141414",t[w],X*100).toHexString();return Z}):t}var br={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},rr={},Vr={};Object.keys(br).forEach(function(u){rr[u]=Cr(br[u]),rr[u].primary=rr[u][5],Vr[u]=Cr(br[u],{theme:"dark",backgroundColor:"#141414"}),Vr[u].primary=Vr[u][5]});var cn=rr.red,qr=rr.volcano,en=rr.gold,fn=rr.orange,yn=rr.yellow,gn=rr.lime,ln=rr.green,cr=rr.cyan,lr=rr.blue,tn=rr.geekblue,Cn=rr.purple,Ar=rr.magenta,zn=rr.grey,Fr=function(n,t,e){var r=rc()(n),a=rc()(t);return rc()([(1-e)*r.red()+e*a.red(),(1-e)*r.green()+e*a.green(),(1-e)*r.blue()+e*a.blue()]).rgb()},Kr=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="rgb(150, 150, 150)");var r=Fr(t,n,.05).rgb().toString(),a=Fr(t,n,.1).rgb().toString(),l=Fr(t,n,.2).rgb().toString(),f=Fr(t,n,.4).rgb().toString(),v=Fr(t,e,.02).rgb().toString(),m=Fr(t,e,.05).rgb().toString(),T=Fr(t,e,.1).rgb().toString(),w=Fr(t,e,.2).rgb().toString(),X=Fr(t,e,.3).rgb().toString(),Z=Cr(n,{theme:"default",backgroundColor:t}),J=rc()(n).hex().toLowerCase(),ht=Z.indexOf(J),mt=n;return ht!==-1&&(mt=Z[ht+1]),{mainStroke:n,mainFill:a,activeStroke:n,activeFill:r,inactiveStroke:f,inactiveFill:r,selectedStroke:n,selectedFill:t,highlightStroke:mt,highlightFill:l,disableStroke:X,disableFill:m,edgeMainStroke:X,edgeActiveStroke:n,edgeInactiveStroke:w,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:T,comboMainStroke:X,comboMainFill:v,comboActiveStroke:n,comboActiveFill:r,comboInactiveStroke:X,comboInactiveFill:v,comboSelectedStroke:n,comboSelectedFill:v,comboHighlightStroke:mt,comboHighlightFill:v,comboDisableStroke:w,comboDisableFill:m}},Yr=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="#777");var r=Fr(t,n,.2).rgb().toString(),a=Fr(t,n,.3).rgb().toString(),l=Fr(t,n,.6).rgb().toString(),f=Fr(t,n,.8).rgb().toString(),v=Fr(t,e,.2).rgb().toString(),m=Fr(t,e,.25).rgb().toString(),T=Fr(t,e,.3).rgb().toString(),w=Fr(t,e,.4).rgb().toString(),X=Fr(t,e,.5).rgb().toString(),Z=Cr(n,{theme:"dark",backgroundColor:t}),J=rc()(n).hex().toLowerCase(),ht=Z.indexOf(J),mt=n;return ht!==-1&&(mt=Z[ht+1]),{mainStroke:f,mainFill:r,activeStroke:n,activeFill:a,inactiveStroke:f,inactiveFill:r,selectedStroke:n,selectedFill:r,highlightStroke:n,highlightFill:l,disableStroke:X,disableFill:m,edgeMainStroke:e,edgeActiveStroke:n,edgeInactiveStroke:e,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:T,comboMainStroke:w,comboMainFill:m,comboActiveStroke:n,comboActiveFill:v,comboInactiveStroke:w,comboInactiveFill:m,comboSelectedStroke:n,comboSelectedFill:v,comboHighlightStroke:mt,comboHighlightFill:m,comboDisableStroke:w,comboDisableFill:v}},an=function(n,t,e,r){return t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)"),e==="default"?Kr(n,t,"rgb(150, 150, 150)"):Yr(n,t,"#777")},Un=function(n,t,e,r){t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)");var a=[];return n.forEach(function(l){a.push(an(l,t,e,r))}),a},sa="rgb(95, 149, 255)",pn="rgb(255, 255, 255)",rn="rgb(0, 0, 0)",ur=an(sa,pn),Hn={version:"0.3.0",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ur.mainStroke,fill:ur.mainFill},size:20,color:ur.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ur.activeFill,stroke:ur.activeStroke}},nodeStateStyles:{active:{fill:ur.activeFill,stroke:ur.activeStroke,lineWidth:2,shadowColor:ur.mainStroke,shadowBlur:10},selected:{fill:ur.selectedFill,stroke:ur.selectedStroke,lineWidth:4,shadowColor:ur.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ur.highlightFill,stroke:ur.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ur.inactiveFill,stroke:ur.inactiveStroke,lineWidth:1},disable:{fill:ur.disableFill,stroke:ur.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:rn,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ur.edgeMainStroke,lineAppendWidth:2},color:ur.edgeMainStroke},edgeStateStyles:{active:{stroke:ur.edgeActiveStroke,lineWidth:1},selected:{stroke:ur.edgeSelectedStroke,lineWidth:2,shadowColor:ur.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ur.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ur.edgeInactiveStroke,lineWidth:1},disable:{stroke:ur.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:rn,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ur.comboMainFill,lineWidth:1,stroke:ur.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ur.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ur.comboActiveStroke,lineWidth:1,fill:ur.comboActiveFill},selected:{stroke:ur.comboSelectedStroke,lineWidth:2,fill:ur.comboSelectedFill,shadowColor:ur.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ur.comboHighlightStroke,lineWidth:2,fill:ur.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ur.comboInactiveStroke,fill:ur.comboInactiveFill,lineWidth:1},disable:{stroke:ur.comboDisableStroke,fill:ur.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},pa=es.cloneEvent,Pn=es.isViewportChanged,Ea=function(u){Object(ve.c)(n,u);function n(t){var e=u.call(this,t)||this;return e.extendEvents=[],e.dragging=!1,e.preItem=null,e.graph=t,e.destroyed=!1,e.initEvents(),e}return n.prototype.initEvents=function(){var t=this,e=t.graph,r=t.extendEvents,a=r===void 0?[]:r,l=e.get("canvas"),f=l.get("el"),v=Object(p.wb)(this,"onCanvasEvents"),m=Object(p.wb)(this,"onExtendEvents"),T=Object(p.wb)(this,"onWheelEvent");l.off("*").on("*",v),this.canvasHandler=v,a.push(Object(_n.a)(f,"DOMMouseScroll",T)),a.push(Object(_n.a)(f,"mousewheel",T)),typeof window!="undefined"&&(a.push(Object(_n.a)(window,"keydown",m)),a.push(Object(_n.a)(window,"keyup",m)),a.push(Object(_n.a)(window,"focus",m)))},n.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},n.prototype.onCanvasEvents=function(t){var e=this.graph,r=e.get("canvas"),a=t.target,l=t.type;t.canvasX=t.x,t.canvasY=t.y;var f={x:t.canvasX,y:t.canvasY},v=e.get("group"),m=v.getMatrix();if(m||(m=[1,0,0,0,1,0,0,0,1]),Pn(m)&&(f=e.getPointByClient(t.clientX,t.clientY)),t.x=f.x,t.y=f.y,t.currentTarget=e,a===r){(l==="mousemove"||l==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=r,t.item=null,e.emit(l,t),e.emit("canvas:"+l,t);return}var T=n.getItemRoot(a);if(!T){e.emit(l,t);return}var w=T.get("item");if(!w.destroyed){var X=w.getType();if(t.target=a,t.item=w,t.canvasX===t.x&&t.canvasY===t.y){var Z=e.getCanvasByPoint(t.x,t.y);t.canvasX=Z.x,t.canvasY=Z.y}e.emit(l,t),t.name&&!t.name.includes(":")?e.emit(X+":"+l,t):e.emit(t.name,t),l==="dragstart"&&(this.dragging=!0),l==="dragend"&&(this.dragging=!1),l==="mousemove"&&this.handleMouseMove(t,X)}},n.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},n.prototype.onWheelEvent=function(t){Object(p.I)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},n.prototype.handleMouseMove=function(t,e){var r=this,a=r.graph,l=r.preItem,f=a.get("canvas"),v=t.target===f?null:t.item;t=pa(t),l&&l!==v&&!l.destroyed&&(t.item=l,this.emitCustomEvent(l.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(l.getType(),"dragleave",t)),v&&l!==v&&(t.item=v,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=v},n.prototype.emitCustomEvent=function(t,e,r){r.type=e,this.graph.emit(t+":"+e,r)},n.prototype.destroy=function(){var t=this,e=t.graph,r=t.canvasHandler,a=t.extendEvents,l=e.get("canvas");l.off("*",r),Object(p.j)(a,function(f){f.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},n}(Ms),ca=Ea,Bn=i("EiJX"),Wa=i("7XlJ"),ja=i("51Kb"),Va=i("UeMD"),kn=i("o7aH"),Ka=function(){function u(){Object(Bn.a)(this,u),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return Object(kn.a)(u,[{key:"layout",value:function(t){return this.init(t),this.execute(!0)}},{key:"init",value:function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}},{key:"execute",value:function(t){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(t){t&&Object.assign(this,t)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}]),u}(),Qa=function(n){return typeof n=="string"},ki=function(n){var t=Object.create(null);return function(e){var r=t[e];return r||(t[e]=n(e))}},Yi=/-(\w)/g,Li=ki(function(u){return u.replace(Yi,function(n,t){return t?t.toUpperCase():""})}),Na=Array.isArray,Sn=function(n){return typeof n=="number"},yi=function(n){return Number.isNaN(Number(n))},la=function(n){var t=parseFloat(n);return yi(t)?n:t},ni=function(n,t,e){for(var r=[],a=0;a<n;a++)r[a]=0;return e&&e.forEach(function(l){l.source&&(r[t[l.source]]+=1),l.target&&(r[t[l.target]]+=1)}),r},za=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var a=0;a<e;a+=1)r===a?t[r][a]=0:n[r][a]===0||!n[r][a]?t[r][a]=Infinity:t[r][a]=n[r][a]}for(var l=0;l<e;l+=1)for(var f=0;f<e;f+=1)for(var v=0;v<e;v+=1)t[f][v]>t[f][l]+t[l][v]&&(t[f][v]=t[f][l]+t[l][v]);return t},Zn=function(n,t){var e=n.nodes,r=n.edges,a=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(f,v){l[f.id]=v;var m=[];a.push(m)}),r&&r.forEach(function(f){var v=f.source,m=f.target,T=l[v],w=l[m];a[T][w]=1,t||(a[w][T]=1)}),a},ya=function(n,t){var e=[];return n.forEach(function(r){var a=[];r.forEach(function(l){a.push(l*t)}),e.push(a)}),e},Ra=function u(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return}return!!t(n)},Vi=function(n,t){typeof t=="function"&&Ra(n,t)},wo=function(n){return n!==null&&typeof n=="object"},Ql=function u(n){if(n===null)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof Array){var t=[];return n.forEach(function(r){t.push(r)}),t.map(function(r){return u(r)})}if(typeof n=="object"&&n!=={}){var e=Object.assign({},n);return Object.keys(e).forEach(function(r){e[r]=u(e[r])}),e}return n},Ae=function(n){return typeof n=="function"},hr=new Map,_e=function(n,t){if(hr.get(n)&&console.warn("The layout with the name ".concat(n," exists already, it will be overridden")),wo(t)){var e=function(r){Object(ja.a)(l,r);var a=Object(Va.a)(l);function l(f){var v;Object(Bn.a)(this,l),v=a.call(this);var m=Object(Wa.a)(v),T={},w=m.getDefaultCfg();return Object.assign(T,w,t,f),Object.keys(T).forEach(function(X){var Z=T[X];m[X]=Z}),v}return l}(Ka);hr.set(n,e)}else hr.set(n,t)},Tn=function(n){hr.has(n)&&hr.delete(n)},ma=function(n){return hr.has(n)?hr.get(n):null},Se=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.begin=[0,0],r.preventOverlap=!0,r.preventOverlapPadding=10,r.condense=!1,r.sortBy="degree",r.nodeSize=30,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.row=0,r.col=0,r.cellWidth=0,r.cellHeight=0,r.cellUsed={},r.id2manPos={},r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=a.length,f=r.begin;if(l===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(l===1){a[0].x=f[0],a[0].y=f[1],r.onLayoutEnd&&r.onLayoutEnd();return}var v=r.edges,m=[];a.forEach(function(qt){m.push(qt)});var T={};if(m.forEach(function(qt,ee){T[qt.id]=ee}),(r.sortBy==="degree"||!Qa(r.sortBy)||m[0][r.sortBy]===void 0)&&(r.sortBy="degree",yi(a[0].degree))){var w=ni(m.length,T,v);m.forEach(function(qt,ee){qt.degree=w[ee]})}m.sort(function(qt,ee){return ee[r.sortBy]-qt[r.sortBy]}),!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var X=r.rows,Z=r.cols!=null?r.cols:r.columns;if(r.cells=l,X!=null&&Z!=null?(r.rows=X,r.cols=Z):X!=null&&Z==null?(r.rows=X,r.cols=Math.ceil(r.cells/r.rows)):X==null&&Z!=null?(r.cols=Z,r.rows=Math.ceil(r.cells/r.cols)):(r.splits=Math.sqrt(r.cells*r.height/r.width),r.rows=Math.round(r.splits),r.cols=Math.round(r.width/r.height*r.splits)),r.cols*r.rows>r.cells){var J=r.small(),ht=r.large();(J-1)*ht>=r.cells?r.small(J-1):(ht-1)*J>=r.cells&&r.large(ht-1)}else for(;r.cols*r.rows<r.cells;){var mt=r.small(),At=r.large();(At+1)*mt>=r.cells?r.large(At+1):r.small(mt+1)}r.cellWidth=r.width/r.cols,r.cellHeight=r.height/r.rows,r.condense&&(r.cellWidth=0,r.cellHeight=0),r.preventOverlap&&m.forEach(function(qt){(!qt.x||!qt.y)&&(qt.x=0,qt.y=0);var ee,re;Na(qt.size)?(ee=qt.size[0],re=qt.size[1]):Sn(qt.size)&&(ee=qt.size,re=qt.size),(ee===void 0||re===void 0)&&(Na(r.nodeSize)?(ee=r.nodeSize[0],re=r.nodeSize[1]):Sn(r.nodeSize)?(ee=r.nodeSize,re=r.nodeSize):(ee=30,re=30));var fe=r.preventOverlapPadding,le=ee+fe,Oe=re+fe;r.cellWidth=Math.max(r.cellWidth,le),r.cellHeight=Math.max(r.cellHeight,Oe)}),r.cellUsed={},r.row=0,r.col=0,r.id2manPos={};for(var St=0;St<m.length;St++){var Bt=m[St],kt=void 0;if(r.position&&(kt=r.position(Bt)),kt&&(kt.row!==void 0||kt.col!==void 0)){var Yt={row:kt.row,col:kt.col};if(Yt.col===void 0)for(Yt.col=0;r.used(Yt.row,Yt.col);)Yt.col++;else if(Yt.row===void 0)for(Yt.row=0;r.used(Yt.row,Yt.col);)Yt.row++;r.id2manPos[Bt.id]=Yt,r.use(Yt.row,Yt.col)}r.getPos(Bt)}return r.onLayoutEnd&&r.onLayoutEnd(),{edges:v,nodes:m}}},{key:"small",value:function(r){var a=this,l,f=a.rows||5,v=a.cols||5;if(r==null)l=Math.min(f,v);else{var m=Math.min(f,v);m===a.rows?a.rows=r:a.cols=r}return l}},{key:"large",value:function(r){var a=this,l,f=a.rows||5,v=a.cols||5;if(r==null)l=Math.max(f,v);else{var m=Math.max(f,v);m===a.rows?a.rows=r:a.cols=r}return l}},{key:"used",value:function(r,a){var l=this;return l.cellUsed["c-".concat(r,"-").concat(a)]||!1}},{key:"use",value:function(r,a){var l=this;l.cellUsed["c-".concat(r,"-").concat(a)]=!0}},{key:"moveToNextCell",value:function(){var r=this,a=r.cols||5;r.col++,r.col>=a&&(r.col=0,r.row++)}},{key:"getPos",value:function(r){var a=this,l=a.begin,f=a.cellWidth,v=a.cellHeight,m,T,w=a.id2manPos[r.id];if(w)m=w.col*f+f/2+l[0],T=w.row*v+v/2+l[1];else{for(;a.used(a.row,a.col);)a.moveToNextCell();m=a.col*f+f/2+l[0],T=a.row*v+v/2+l[1],a.use(a.row,a.col),a.moveToNextCell()}r.x=m,r.y=T}},{key:"getType",value:function(){return"grid"}}]),t}(Ka),ce=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=.9,f=r.center;return!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),a&&a.forEach(function(v){v.x=(Math.random()-.5)*l*r.width+f[0],v.y=(Math.random()-.5)*l*r.height+f[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:a,edges:this.edges}}},{key:"getType",value:function(){return"random"}}]),t}(Ka),Re=function(n,t){var e;return n?Sn(n)?e=function(a){return n}:e=n:e=function(a){return t||1},e},Je=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=.5,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.preventOverlap=!0,r.tick=function(){},r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var r=this,a=r.nodes;if(r.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(r.timeInterval),!a||a.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var l=r.center;if(a.length===1){a[0].x=l[0],a[0].y=l[1],r.onLayoutEnd&&r.onLayoutEnd();return}var f={},v={};a.forEach(function(J,ht){Sn(J.x)||(J.x=Math.random()*r.width),Sn(J.y)||(J.y=Math.random()*r.height),f[J.id]=J,v[J.id]=ht}),r.nodeMap=f,r.nodeIdxMap=v,r.linkDistance=Re(r.linkDistance,1),r.nodeStrength=Re(r.nodeStrength,1),r.edgeStrength=Re(r.edgeStrength,1);var m=r.nodeSize,T;if(r.preventOverlap){var w=r.nodeSpacing,X;Sn(w)?X=function(){return w}:Ae(w)?X=w:X=function(){return 0},m?Na(m)?T=function(ht){var mt=m[0]>m[1]?m[0]:m[1];return mt+X(ht)}:T=function(ht){return m+X(ht)}:T=function(ht){if(ht.size){if(Na(ht.size)){var mt=ht.size[0]>ht.size[1]?ht.size[0]:ht.size[1];return mt+X(ht)}return ht.size+X(ht)}return 10+X(ht)}}r.nodeSize=T;var Z=r.edges;r.degrees=ni(a.length,r.nodeIdxMap,Z),r.getMass||(r.getMass=function(J){return r.degrees[r.nodeIdxMap[J.id]]||1}),r.run()}},{key:"run",value:function(){var r=this,a=r.nodes,l=r.edges,f=r.maxIteration;if(typeof window!="undefined"){var v=0;this.timeInterval=window.setInterval(function(){var m=[],T=[];if(!!a){a.forEach(function(J,ht){m[2*ht]=0,m[2*ht+1]=0,T[2*ht]=0,T[2*ht+1]=0}),r.calRepulsive(m,a),l&&r.calAttractive(m,l),r.calGravity(m,a);var w=Math.max(.02,r.interval-v*.002);r.updateVelocity(m,T,w,a);var X=[];a.forEach(function(J){X.push({x:J.x,y:J.y})}),r.updatePosition(T,w,a),r.tick&&r.tick();var Z=0;a.forEach(function(J,ht){var mt=J.x-X[ht].x,At=J.y-X[ht].y;Z+=Math.sqrt(mt*mt+At*At)}),Z/=a.length,Z<r.minMovement&&(window.clearInterval(r.timeInterval),r.onLayoutEnd&&r.onLayoutEnd()),v++,v>f&&(window.clearInterval(r.timeInterval),r.onLayoutEnd&&r.onLayoutEnd())}},0)}}},{key:"calRepulsive",value:function(r,a){var l=this,f=l.getMass,v=l.nodeStrength,m=l.factor,T=l.coulombDisScale,w=l.preventOverlap,X=l.nodeSize;a.forEach(function(Z,J){var ht=f?f(Z):1;a.forEach(function(mt,At){if(!(J>=At)){var St=Z.x-mt.x,Bt=Z.y-mt.y,kt=Math.sqrt(St*St+Bt*Bt)+.01,Yt=(kt+.1)*T,qt=St/kt,ee=Bt/kt,re=(v(Z)+v(mt))/2*m/(Yt*Yt),fe=f?f(mt):1;if(r[2*J]+=qt*re/ht,r[2*J+1]+=ee*re/ht,r[2*At]-=qt*re/fe,r[2*At+1]-=ee*re/fe,w&&kt<(X(Z)+X(mt))/2){var le=(v(Z)+v(mt))/2/(kt*kt);r[2*J]+=qt*le/ht,r[2*J+1]+=ee*le/ht,r[2*At]-=qt*le/fe,r[2*At+1]-=ee*le/fe}}})})}},{key:"calAttractive",value:function(r,a){var l=this,f=l.nodeMap,v=l.nodeIdxMap,m=l.linkDistance,T=l.edgeStrength,w=l.getMass;a.forEach(function(X,Z){var J=f[X.source],ht=f[X.target],mt=ht.x-J.x,At=ht.y-J.y,St=Math.sqrt(mt*mt+At*At)+.01,Bt=mt/St,kt=At/St,Yt=m(X)||1,qt=Yt-St,ee=qt*T(X),re=v[X.source],fe=v[X.target],le=w?w(J):1,Oe=w?w(ht):1;r[2*re]-=Bt*ee/le,r[2*re+1]-=kt*ee/le,r[2*fe]+=Bt*ee/Oe,r[2*fe+1]+=kt*ee/Oe})}},{key:"calGravity",value:function(r,a){for(var l=this,f=l.center,v=l.gravity,m=l.degrees,T=a.length,w=0;w<T;w++){var X=a[w],Z=X.x-f[0],J=X.y-f[1],ht=v;if(l.getCenter){var mt=l.getCenter(X,m[w]);mt&&Sn(mt[0])&&Sn(mt[1])&&Sn(mt[2])&&(Z=X.x-mt[0],J=X.y-mt[1],ht=mt[2])}!ht||(r[2*w]-=ht*Z,r[2*w+1]-=ht*J)}}},{key:"updateVelocity",value:function(r,a,l,f){var v=this,m=l*v.damping;f.forEach(function(T,w){var X=r[2*w]*m||.01,Z=r[2*w+1]*m||.01,J=Math.sqrt(X*X+Z*Z);if(J>v.maxSpeed){var ht=v.maxSpeed/J;X=ht*X,Z=ht*Z}a[2*w]=X,a[2*w+1]=Z})}},{key:"updatePosition",value:function(r,a,l){l.forEach(function(f,v){var m=r[2*v]*a,T=r[2*v+1]*a;f.x+=m,f.y+=T})}},{key:"stop",value:function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}]),t}(Ka),qe=function(u){var n=+this._x.call(null,u),t=+this._y.call(null,u);return Fe(this.cover(n,t),n,t,u)};function Fe(u,n,t,e){if(isNaN(n)||isNaN(t))return u;var r,a=u._root,l={data:e},f=u._x0,v=u._y0,m=u._x1,T=u._y1,w,X,Z,J,ht,mt,At,St;if(!a)return u._root=l,u;for(;a.length;)if((ht=n>=(w=(f+m)/2))?f=w:m=w,(mt=t>=(X=(v+T)/2))?v=X:T=X,r=a,!(a=a[At=mt<<1|ht]))return r[At]=l,u;if(Z=+u._x.call(null,a.data),J=+u._y.call(null,a.data),n===Z&&t===J)return l.next=a,r?r[At]=l:u._root=l,u;do r=r?r[At]=new Array(4):u._root=new Array(4),(ht=n>=(w=(f+m)/2))?f=w:m=w,(mt=t>=(X=(v+T)/2))?v=X:T=X;while((At=mt<<1|ht)==(St=(J>=X)<<1|Z>=w));return r[St]=a,r[At]=l,u}function Be(u){var n,t,e=u.length,r,a,l=new Array(e),f=new Array(e),v=Infinity,m=Infinity,T=-Infinity,w=-Infinity;for(t=0;t<e;++t)isNaN(r=+this._x.call(null,n=u[t]))||isNaN(a=+this._y.call(null,n))||(l[t]=r,f[t]=a,r<v&&(v=r),r>T&&(T=r),a<m&&(m=a),a>w&&(w=a));if(v>T||m>w)return this;for(this.cover(v,m).cover(T,w),t=0;t<e;++t)Fe(this,l[t],f[t],u[t]);return this}var Ve=function(u,n){if(isNaN(u=+u)||isNaN(n=+n))return this;var t=this._x0,e=this._y0,r=this._x1,a=this._y1;if(isNaN(t))r=(t=Math.floor(u))+1,a=(e=Math.floor(n))+1;else{for(var l=r-t||1,f=this._root,v,m;t>u||u>=r||e>n||n>=a;)switch(m=(n<e)<<1|u<t,v=new Array(4),v[m]=f,f=v,l*=2,m){case 0:r=t+l,a=e+l;break;case 1:t=r-l,a=e+l;break;case 2:r=t+l,e=a-l;break;case 3:t=r-l,e=a-l;break}this._root&&this._root.length&&(this._root=f)}return this._x0=t,this._y0=e,this._x1=r,this._y1=a,this},Ee=function(){var u=[];return this.visit(function(n){if(!n.length)do u.push(n.data);while(n=n.next)}),u},je=function(u){return arguments.length?this.cover(+u[0][0],+u[0][1]).cover(+u[1][0],+u[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ye=function(u,n,t,e,r){this.node=u,this.x0=n,this.y0=t,this.x1=e,this.y1=r},Ke=function(u,n,t){var e,r=this._x0,a=this._y0,l,f,v,m,T=this._x1,w=this._y1,X=[],Z=this._root,J,ht;for(Z&&X.push(new ye(Z,r,a,T,w)),t==null?t=Infinity:(r=u-t,a=n-t,T=u+t,w=n+t,t*=t);J=X.pop();)if(!(!(Z=J.node)||(l=J.x0)>T||(f=J.y0)>w||(v=J.x1)<r||(m=J.y1)<a))if(Z.length){var mt=(l+v)/2,At=(f+m)/2;X.push(new ye(Z[3],mt,At,v,m),new ye(Z[2],l,At,mt,m),new ye(Z[1],mt,f,v,At),new ye(Z[0],l,f,mt,At)),(ht=(n>=At)<<1|u>=mt)&&(J=X[X.length-1],X[X.length-1]=X[X.length-1-ht],X[X.length-1-ht]=J)}else{var St=u-+this._x.call(null,Z.data),Bt=n-+this._y.call(null,Z.data),kt=St*St+Bt*Bt;if(kt<t){var Yt=Math.sqrt(t=kt);r=u-Yt,a=n-Yt,T=u+Yt,w=n+Yt,e=Z.data}}return e},tr=function(u){if(isNaN(T=+this._x.call(null,u))||isNaN(w=+this._y.call(null,u)))return this;var n,t=this._root,e,r,a,l=this._x0,f=this._y0,v=this._x1,m=this._y1,T,w,X,Z,J,ht,mt,At;if(!t)return this;if(t.length)for(;;){if((J=T>=(X=(l+v)/2))?l=X:v=X,(ht=w>=(Z=(f+m)/2))?f=Z:m=Z,n=t,!(t=t[mt=ht<<1|J]))return this;if(!t.length)break;(n[mt+1&3]||n[mt+2&3]||n[mt+3&3])&&(e=n,At=mt)}for(;t.data!==u;)if(r=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,r?(a?r.next=a:delete r.next,this):n?(a?n[mt]=a:delete n[mt],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(e?e[At]=t:this._root=t),this):(this._root=a,this)};function jr(u){for(var n=0,t=u.length;n<t;++n)this.remove(u[n]);return this}var wr=function(){return this._root},Er=function(){var u=0;return this.visit(function(n){if(!n.length)do++u;while(n=n.next)}),u},on=function(u){var n=[],t,e=this._root,r,a,l,f,v;for(e&&n.push(new ye(e,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!u(e=t.node,a=t.x0,l=t.y0,f=t.x1,v=t.y1)&&e.length){var m=(a+f)/2,T=(l+v)/2;(r=e[3])&&n.push(new ye(r,m,T,f,v)),(r=e[2])&&n.push(new ye(r,a,T,m,v)),(r=e[1])&&n.push(new ye(r,m,l,f,T)),(r=e[0])&&n.push(new ye(r,a,l,m,T))}return this},Wn=function(u){var n=[],t=[],e;for(this._root&&n.push(new ye(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var a,l=e.x0,f=e.y0,v=e.x1,m=e.y1,T=(l+v)/2,w=(f+m)/2;(a=r[0])&&n.push(new ye(a,l,f,T,w)),(a=r[1])&&n.push(new ye(a,T,f,v,w)),(a=r[2])&&n.push(new ye(a,l,w,T,m)),(a=r[3])&&n.push(new ye(a,T,w,v,m))}t.push(e)}for(;e=t.pop();)u(e.node,e.x0,e.y0,e.x1,e.y1);return this};function Oa(u){return u[0]}var An=function(u){return arguments.length?(this._x=u,this):this._x};function Kn(u){return u[1]}var ha=function(u){return arguments.length?(this._y=u,this):this._y};function wa(u,n,t){var e=new xi(n==null?Oa:n,t==null?Kn:t,NaN,NaN,NaN,NaN);return u==null?e:e.addAll(u)}function xi(u,n,t,e,r,a){this._x=u,this._y=n,this._x0=t,this._y0=e,this._x1=r,this._y1=a,this._root=void 0}function co(u){for(var n={data:u.data},t=n;u=u.next;)t=t.next={data:u.data};return n}var bo=wa.prototype=xi.prototype;bo.copy=function(){var u=new xi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,e;if(!n)return u;if(!n.length)return u._root=co(n),u;for(t=[{source:n,target:u._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(e=n.source[r])&&(e.length?t.push({source:e,target:n.target[r]=new Array(4)}):n.target[r]=co(e));return u},bo.add=qe,bo.addAll=Be,bo.cover=Ve,bo.data=Ee,bo.extent=je,bo.find=Ke,bo.remove=tr,bo.removeAll=jr,bo.root=wr,bo.size=Er,bo.visit=on,bo.visitAfter=Wn,bo.x=An,bo.y=ha;var Ei=function(u){return function(){return u}},el=function(u){return(u()-.5)*1e-6},ds={value:function(){}};function of(){for(var u=0,n=arguments.length,t={},e;u<n;++u){if(!(e=arguments[u]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new _h(t)}function _h(u){this._=u}function Mv(u,n){return u.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}_h.prototype=of.prototype={constructor:_h,on:function(n,t){var e=this._,r=Mv(n+"",e),a,l=-1,f=r.length;if(arguments.length<2){for(;++l<f;)if((a=(n=r[l]).type)&&(a=dg(e[a],n.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<f;)if(a=(n=r[l]).type)e[a]=Jd(e[a],n.name,t);else if(t==null)for(a in e)e[a]=Jd(e[a],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new _h(n)},call:function(n,t){if((a=arguments.length-2)>0)for(var e=new Array(a),r=0,a,l;r<a;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(l=this._[n],r=0,a=l.length;r<a;++r)l[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],a=0,l=r.length;a<l;++a)r[a].value.apply(t,e)}};function dg(u,n){for(var t=0,e=u.length,r;t<e;++t)if((r=u[t]).name===n)return r.value}function Jd(u,n,t){for(var e=0,r=u.length;e<r;++e)if(u[e].name===n){u[e]=ds,u=u.slice(0,e).concat(u.slice(e+1));break}return t!=null&&u.push({name:n,value:t}),u}var vg=of,sf=0,lh=0,uh=0,Tv=1e3,qh,lf,td=0,Ml=0,ed=0,nc=typeof performance=="object"&&performance.now?performance:Date,Av=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(u){setTimeout(u,17)};function Iv(){return Ml||(Av(gg),Ml=nc.now()+ed)}function gg(){Ml=0}function rd(){this._call=this._time=this._next=null}rd.prototype=Dv.prototype={constructor:rd,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Iv():+e)+(t==null?0:+t),!this._next&&lf!==this&&(lf?lf._next=this:qh=this,lf=this),this._call=n,this._time=e,_d()},stop:function(){this._call&&(this._call=null,this._time=Infinity,_d())}};function Dv(u,n,t){var e=new rd;return e.restart(u,n,t),e}function pg(){Iv(),++sf;for(var u=qh,n;u;)(n=Ml-u._time)>=0&&u._call.call(null,n),u=u._next;--sf}function Pv(){Ml=(td=nc.now())+ed,sf=lh=0;try{pg()}finally{sf=0,mg(),Ml=0}}function yg(){var u=nc.now(),n=u-td;n>Tv&&(ed-=n,td=u)}function mg(){for(var u,n=qh,t,e=Infinity;n;)n._call?(e>n._time&&(e=n._time),u=n,n=n._next):(t=n._next,n._next=null,n=u?u._next=t:qh=t);lf=u,_d(e)}function _d(u){if(!sf){lh&&(lh=clearTimeout(lh));var n=u-Ml;n>24?(u<Infinity&&(lh=setTimeout(Pv,u-nc.now()-ed)),uh&&(uh=clearInterval(uh))):(uh||(td=nc.now(),uh=setInterval(yg,Tv)),sf=1,Av(Pv))}}var bg=1664525,Og=1013904223,Lv=4294967296,xg=function(){var u=1;return function(){return(u=(bg*u+Og)%Lv)/Lv}};function jv(u){return u.x}function Rv(u){return u.y}var Eg=10,wv=Math.PI*(3-Math.sqrt(5)),Bv=function(u){var n,t=1,e=.001,r=1-Math.pow(e,1/300),a=0,l=.6,f=new Map,v=Dv(w),m=vg("tick","end"),T=xg();u==null&&(u=[]);function w(){X(),m.call("tick",n),t<e&&(v.stop(),m.call("end",n))}function X(ht){var mt,At=u.length,St;ht===void 0&&(ht=1);for(var Bt=0;Bt<ht;++Bt)for(t+=(a-t)*r,f.forEach(function(kt){kt(t)}),mt=0;mt<At;++mt)St=u[mt],St.fx==null?St.x+=St.vx*=l:(St.x=St.fx,St.vx=0),St.fy==null?St.y+=St.vy*=l:(St.y=St.fy,St.vy=0);return n}function Z(){for(var ht=0,mt=u.length,At;ht<mt;++ht){if(At=u[ht],At.index=ht,At.fx!=null&&(At.x=At.fx),At.fy!=null&&(At.y=At.fy),isNaN(At.x)||isNaN(At.y)){var St=Eg*Math.sqrt(.5+ht),Bt=ht*wv;At.x=St*Math.cos(Bt),At.y=St*Math.sin(Bt)}(isNaN(At.vx)||isNaN(At.vy))&&(At.vx=At.vy=0)}}function J(ht){return ht.initialize&&ht.initialize(u,T),ht}return Z(),n={tick:X,restart:function(){return v.restart(w),n},stop:function(){return v.stop(),n},nodes:function(mt){return arguments.length?(u=mt,Z(),f.forEach(J),n):u},alpha:function(mt){return arguments.length?(t=+mt,n):t},alphaMin:function(mt){return arguments.length?(e=+mt,n):e},alphaDecay:function(mt){return arguments.length?(r=+mt,n):+r},alphaTarget:function(mt){return arguments.length?(a=+mt,n):a},velocityDecay:function(mt){return arguments.length?(l=1-mt,n):1-l},randomSource:function(mt){return arguments.length?(T=mt,f.forEach(J),n):T},force:function(mt,At){return arguments.length>1?(At==null?f.delete(mt):f.set(mt,J(At)),n):f.get(mt)},find:function(mt,At,St){var Bt=0,kt=u.length,Yt,qt,ee,re,fe;for(St==null?St=Infinity:St*=St,Bt=0;Bt<kt;++Bt)re=u[Bt],Yt=mt-re.x,qt=At-re.y,ee=Yt*Yt+qt*qt,ee<St&&(fe=re,St=ee);return fe},on:function(mt,At){return arguments.length>1?(m.on(mt,At),n):m.on(mt)}}},Nv=function(){var u,n,t,e,r=Ei(-30),a,l=1,f=Infinity,v=.81;function m(Z){var J,ht=u.length,mt=wa(u,jv,Rv).visitAfter(w);for(e=Z,J=0;J<ht;++J)n=u[J],mt.visit(X)}function T(){if(!!u){var Z,J=u.length,ht;for(a=new Array(J),Z=0;Z<J;++Z)ht=u[Z],a[ht.index]=+r(ht,Z,u)}}function w(Z){var J=0,ht,mt,At=0,St,Bt,kt;if(Z.length){for(St=Bt=kt=0;kt<4;++kt)(ht=Z[kt])&&(mt=Math.abs(ht.value))&&(J+=ht.value,At+=mt,St+=mt*ht.x,Bt+=mt*ht.y);Z.x=St/At,Z.y=Bt/At}else{ht=Z,ht.x=ht.data.x,ht.y=ht.data.y;do J+=a[ht.data.index];while(ht=ht.next)}Z.value=J}function X(Z,J,ht,mt){if(!Z.value)return!0;var At=Z.x-n.x,St=Z.y-n.y,Bt=mt-J,kt=At*At+St*St;if(Bt*Bt/v<kt)return kt<f&&(At===0&&(At=el(t),kt+=At*At),St===0&&(St=el(t),kt+=St*St),kt<l&&(kt=Math.sqrt(l*kt)),n.vx+=At*Z.value*e/kt,n.vy+=St*Z.value*e/kt),!0;if(Z.length||kt>=f)return;(Z.data!==n||Z.next)&&(At===0&&(At=el(t),kt+=At*At),St===0&&(St=el(t),kt+=St*St),kt<l&&(kt=Math.sqrt(l*kt)));do Z.data!==n&&(Bt=a[Z.data.index]*e/kt,n.vx+=At*Bt,n.vy+=St*Bt);while(Z=Z.next)}return m.initialize=function(Z,J){u=Z,t=J,T()},m.strength=function(Z){return arguments.length?(r=typeof Z=="function"?Z:Ei(+Z),T(),m):r},m.distanceMin=function(Z){return arguments.length?(l=Z*Z,m):Math.sqrt(l)},m.distanceMax=function(Z){return arguments.length?(f=Z*Z,m):Math.sqrt(f)},m.theta=function(Z){return arguments.length?(v=Z*Z,m):Math.sqrt(v)},m},Sg=function(u,n){var t,e=1;u==null&&(u=0),n==null&&(n=0);function r(){var a,l=t.length,f,v=0,m=0;for(a=0;a<l;++a)f=t[a],v+=f.x,m+=f.y;for(v=(v/l-u)*e,m=(m/l-n)*e,a=0;a<l;++a)f=t[a],f.x-=v,f.y-=m}return r.initialize=function(a){t=a},r.x=function(a){return arguments.length?(u=+a,r):u},r.y=function(a){return arguments.length?(n=+a,r):n},r.strength=function(a){return arguments.length?(e=+a,r):e},r};function Cg(u){return u.index}function Jl(u,n){var t=u.get(n);if(!t)throw new Error("node not found: "+n);return t}var nd=function(u){var n=Cg,t=w,e,r=Ei(30),a,l,f,v,m,T=1;u==null&&(u=[]);function w(mt){return 1/Math.min(f[mt.source.index],f[mt.target.index])}function X(mt){for(var At=0,St=u.length;At<T;++At)for(var Bt=0,kt,Yt,qt,ee,re,fe,le;Bt<St;++Bt)kt=u[Bt],Yt=kt.source,qt=kt.target,ee=qt.x+qt.vx-Yt.x-Yt.vx||el(m),re=qt.y+qt.vy-Yt.y-Yt.vy||el(m),fe=Math.sqrt(ee*ee+re*re),fe=(fe-a[Bt])/fe*mt*e[Bt],ee*=fe,re*=fe,qt.vx-=ee*(le=v[Bt]),qt.vy-=re*le,Yt.vx+=ee*(le=1-le),Yt.vy+=re*le}function Z(){if(!!l){var mt,At=l.length,St=u.length,Bt=new Map(l.map(function(Yt,qt){return[n(Yt,qt,l),Yt]})),kt;for(mt=0,f=new Array(At);mt<St;++mt)kt=u[mt],kt.index=mt,typeof kt.source!="object"&&(kt.source=Jl(Bt,kt.source)),typeof kt.target!="object"&&(kt.target=Jl(Bt,kt.target)),f[kt.source.index]=(f[kt.source.index]||0)+1,f[kt.target.index]=(f[kt.target.index]||0)+1;for(mt=0,v=new Array(St);mt<St;++mt)kt=u[mt],v[mt]=f[kt.source.index]/(f[kt.source.index]+f[kt.target.index]);e=new Array(St),J(),a=new Array(St),ht()}}function J(){if(!!l)for(var mt=0,At=u.length;mt<At;++mt)e[mt]=+t(u[mt],mt,u)}function ht(){if(!!l)for(var mt=0,At=u.length;mt<At;++mt)a[mt]=+r(u[mt],mt,u)}return X.initialize=function(mt,At){l=mt,m=At,Z()},X.links=function(mt){return arguments.length?(u=mt,Z(),X):u},X.id=function(mt){return arguments.length?(n=mt,X):n},X.iterations=function(mt){return arguments.length?(T=+mt,X):T},X.strength=function(mt){return arguments.length?(t=typeof mt=="function"?mt:Ei(+mt),J(),X):t},X.distance=function(mt){return arguments.length?(r=typeof mt=="function"?mt:Ei(+mt),ht(),X):r},X};function g(u){return u.x+u.vx}function h(u){return u.y+u.vy}var s=function(u){var n,t,e,r=1,a=1;typeof u!="function"&&(u=Ei(u==null?1:+u));function l(){for(var m,T=n.length,w,X,Z,J,ht,mt,At=0;At<a;++At)for(w=wa(n,g,h).visitAfter(f),m=0;m<T;++m)X=n[m],ht=t[X.index],mt=ht*ht,Z=X.x+X.vx,J=X.y+X.vy,w.visit(St);function St(Bt,kt,Yt,qt,ee){var re=Bt.data,fe=Bt.r,le=ht+fe;if(re){if(re.index>X.index){var Oe=Z-re.x-re.vx,Te=J-re.y-re.vy,sr=Oe*Oe+Te*Te;sr<le*le&&(Oe===0&&(Oe=el(e),sr+=Oe*Oe),Te===0&&(Te=el(e),sr+=Te*Te),sr=(le-(sr=Math.sqrt(sr)))/sr*r,X.vx+=(Oe*=sr)*(le=(fe*=fe)/(mt+fe)),X.vy+=(Te*=sr)*le,re.vx-=Oe*(le=1-le),re.vy-=Te*le)}return}return kt>Z+le||qt<Z-le||Yt>J+le||ee<J-le}}function f(m){if(m.data)return m.r=t[m.data.index];for(var T=m.r=0;T<4;++T)m[T]&&m[T].r>m.r&&(m.r=m[T].r)}function v(){if(!!n){var m,T=n.length,w;for(t=new Array(T),m=0;m<T;++m)w=n[m],t[w.index]=+u(w,m,n)}}return l.initialize=function(m,T){n=m,e=T,v()},l.iterations=function(m){return arguments.length?(a=+m,l):a},l.strength=function(m){return arguments.length?(r=+m,l):r},l.radius=function(m){return arguments.length?(u=typeof m=="function"?m:Ei(+m),v(),l):u},l},c=i("Wval"),y=function(u){var n=Ei(.1),t,e,r;typeof u!="function"&&(u=Ei(u==null?0:+u));function a(f){for(var v=0,m=t.length,T;v<m;++v)T=t[v],T.vx+=(r[v]-T.x)*e[v]*f}function l(){if(!!t){var f,v=t.length;for(e=new Array(v),r=new Array(v),f=0;f<v;++f)e[f]=isNaN(r[f]=+u(t[f],f,t))?0:+n(t[f],f,t)}}return a.initialize=function(f){t=f,l()},a.strength=function(f){return arguments.length?(n=typeof f=="function"?f:Ei(+f),l(),a):n},a.x=function(f){return arguments.length?(u=typeof f=="function"?f:Ei(+f),l(),a):u},a},L=function(u){var n=Ei(.1),t,e,r;typeof u!="function"&&(u=Ei(u==null?0:+u));function a(f){for(var v=0,m=t.length,T;v<m;++v)T=t[v],T.vy+=(r[v]-T.y)*e[v]*f}function l(){if(!!t){var f,v=t.length;for(e=new Array(v),r=new Array(v),f=0;f<v;++f)e[f]=isNaN(r[f]=+u(t[f],f,t))?0:+n(t[f],f,t)}}return a.initialize=function(f){t=f,l()},a.strength=function(f){return arguments.length?(n=typeof f=="function"?f:Ei(+f),l(),a):n},a.y=function(f){return arguments.length?(u=typeof f=="function"?f:Ei(+f),l(),a):u},a};function H(){function u(Wr){return function(){return Wr}}var n=function(Xr){return Xr.cluster},t=u(1),e=u(-1),r=u(100),a=u(.1),l=[0,0],f=[],v={},m=[],T=100,w=100,X={none:{x:0,y:0}},Z=[],J,ht="force",mt=!0,At=.1;function St(Wr){if(!mt)return St;J.tick(),re();for(var Xr=0,Nn=f.length,Fn,Vn=Wr*At;Xr<Nn;++Xr)Fn=f[Xr],Fn.vx+=(X[n(Fn)].x-Fn.x)*Vn,Fn.vy+=(X[n(Fn)].y-Fn.y)*Vn}function Bt(){!f||kt()}function kt(){if(!(!f||!f.length)){if(n(f[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Wr=Yt();J=Bv(Wr.nodes).force("x",y(T).strength(.1)).force("y",L(w).strength(.1)).force("collide",s(function(Xr){return Xr.r}).iterations(4)).force("charge",Nv().strength(e)).force("links",nd(Wr.nodes.length?Wr.links:[]).distance(r).strength(a)),Z=J.nodes(),re()}}function Yt(){var Wr=[],Xr=[],Nn={},Fn=[],Vn={},Or=[];return Vn=qt(f),Or=ee(m),Fn=Object.keys(Vn),Fn.forEach(function(Ca,Rn){var En=Vn[Ca];Wr.push({id:Ca,size:En.count,r:Math.sqrt(En.sumforceNodeSize/Math.PI)}),Nn[Ca]=Rn}),Or.forEach(function(Ca){var Rn=Nn[Ca.source],En=Nn[Ca.target];Rn!==void 0&&En!==void 0&&Xr.push({source:Rn,target:En,count:Ca.count})}),{nodes:Wr,links:Xr}}function qt(Wr){var Xr={};return Wr.forEach(function(Nn){var Fn=n(Nn);Xr[Fn]||(Xr[Fn]={count:0,sumforceNodeSize:0})}),Wr.forEach(function(Nn){var Fn=n(Nn),Vn=t(Nn),Or=Xr[Fn];Or.count=Or.count+1,Or.sumforceNodeSize=Or.sumforceNodeSize+Math.PI*(Vn*Vn)*1.3,Xr[Fn]=Or}),Xr}function ee(Wr){var Xr={},Nn=[];Wr.forEach(function(Vn){var Or=fe(Vn),Ca=0;Xr[Or]!==void 0&&(Ca=Xr[Or]),Ca+=1,Xr[Or]=Ca});var Fn=Object.entries(Xr);return Fn.forEach(function(Vn){var Or=Object(c.a)(Vn,2),Ca=Or[0],Rn=Or[1],En=Ca.split("~")[0],Da=Ca.split("~")[1];En!==void 0&&Da!==void 0&&Nn.push({source:En,target:Da,count:Rn})}),Nn}function re(){return X={none:{x:0,y:0}},Z.forEach(function(Wr){X[Wr.id]={x:Wr.x-l[0],y:Wr.y-l[1]}}),X}function fe(Wr){var Xr=n(v[Wr.source]),Nn=n(v[Wr.target]);return Xr<=Nn?"".concat(Xr,"~").concat(Nn):"".concat(Nn,"~").concat(Xr)}function le(Wr){v={},Wr.forEach(function(Xr){v[Xr.id]=Xr})}function Oe(Wr){return arguments.length?(ht=Wr,Bt(),St):ht}function Te(Wr){return arguments.length?typeof Wr=="string"?(n=function(Nn){return Nn[Wr]},St):(n=Wr,St):n}function sr(Wr){return arguments.length?(mt=Wr,St):mt}function fr(Wr){return arguments.length?(At=Wr,St):At}function vr(Wr){return arguments.length?(T=Wr,St):T}function Qr(Wr){return arguments.length?(w=Wr,St):w}function Zr(Wr){return arguments.length?(le(Wr||[]),f=Wr||[],St):f}function Rr(Wr){return arguments.length?(m=Wr||[],Bt(),St):m}function Dr(Wr){return arguments.length?(typeof Wr=="function"?t=Wr:t=u(+Wr),Bt(),St):t}function Ur(Wr){return arguments.length?(typeof Wr=="function"?e=Wr:e=u(+Wr),Bt(),St):e}function Lr(Wr){return arguments.length?(typeof Wr=="function"?r=Wr:r=u(+Wr),Bt(),St):r}function kr(Wr){return arguments.length?(typeof Wr=="function"?a=Wr:a=u(+Wr),Bt(),St):a}function On(Wr){return arguments.length?(l=Wr,St):l}return St.initialize=function(Wr){f=Wr,Bt()},St.template=Oe,St.groupBy=Te,St.enableGrouping=sr,St.strength=fr,St.centerX=vr,St.centerY=Qr,St.nodes=Zr,St.links=Rr,St.forceNodeSize=Dr,St.nodeSize=St.forceNodeSize,St.forceCharge=Ur,St.forceLinkDistance=Lr,St.forceLinkStrength=kr,St.offset=On,St.getFocis=re,St}var ct={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},Ot=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.center=[0,0],r.nodeStrength=null,r.edgeStrength=null,r.preventOverlap=!1,r.clusterNodeStrength=null,r.clusterEdgeStrength=null,r.clusterEdgeDistance=null,r.clusterNodeSize=null,r.clusterFociStrength=null,r.linkDistance=50,r.alphaDecay=.028,r.alphaMin=.001,r.alpha=.3,r.collideStrength=1,r.workerEnabled=!1,r.tick=function(){},r.onLayoutEnd=function(){},r.ticking=void 0,e&&r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(r){var a=this;a.nodes=r.nodes||[];var l=r.edges||[];a.edges=l.map(function(f){var v={},m=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(f).forEach(function(T){m.indexOf(T)>-1||(v[T]=f[T])}),v}),a.ticking=!1}},{key:"execute",value:function(r){var a=this,l=a.nodes,f=a.edges;if(!a.ticking){var v=a.forceSimulation,m=a.alphaMin,T=a.alphaDecay,w=a.alpha;if(v){if(r){if(a.clustering&&a.clusterForce&&(a.clusterForce.nodes(l),a.clusterForce.links(f)),v.nodes(l),f&&a.edgeForce)a.edgeForce.links(f);else if(f&&!a.edgeForce){var At=nd().id(function(St){return St.id}).links(f);a.edgeStrength&&At.strength(a.edgeStrength),a.linkDistance&&At.distance(a.linkDistance),a.edgeForce=At,v.force("link",At)}}a.preventOverlap&&a.overlapProcess(v),v.alpha(w).restart(),this.ticking=!0}else try{var X=Nv();if(a.nodeStrength&&X.strength(a.nodeStrength),v=Bv().nodes(l),a.clustering){var Z=H();Z.centerX(a.center[0]).centerY(a.center[1]).template("force").strength(a.clusterFociStrength),f&&Z.links(f),l&&Z.nodes(l),Z.forceLinkDistance(a.clusterEdgeDistance).forceLinkStrength(a.clusterEdgeStrength).forceCharge(a.clusterNodeStrength).forceNodeSize(a.clusterNodeSize),a.clusterForce=Z,v.force("group",Z)}if(v.force("center",Sg(a.center[0],a.center[1])).force("charge",X).alpha(w).alphaDecay(T).alphaMin(m),a.preventOverlap&&a.overlapProcess(v),f){var J=nd().id(function(St){return St.id}).links(f);a.edgeStrength&&J.strength(a.edgeStrength),a.linkDistance&&J.distance(a.linkDistance),a.edgeForce=J,v.force("link",J)}if(a.workerEnabled&&!Zt()&&(a.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!a.workerEnabled)v.on("tick",function(){a.tick()}).on("end",function(){a.ticking=!1,a.onLayoutEnd&&a.onLayoutEnd()}),a.ticking=!0;else{v.stop();for(var ht=zt(v),mt=1;mt<=ht;mt++)v.tick(),postMessage({nodes:l,currentTick:mt,totalTicks:ht,type:ct.TICK},void 0);a.ticking=!1}a.forceSimulation=v,a.ticking=!0}catch(St){a.ticking=!1,console.warn(St)}}}},{key:"overlapProcess",value:function(r){var a=this,l=a.nodeSize,f=a.nodeSpacing,v,m,T=a.collideStrength;if(Sn(f)?m=function(){return f}:Ae(f)?m=f:m=function(){return 0},!l)v=function(ht){if(ht.size){if(Na(ht.size)){var mt=ht.size[0]>ht.size[1]?ht.size[0]:ht.size[1];return mt/2+m(ht)}return ht.size/2+m(ht)}return 10+m(ht)};else if(Ae(l))v=function(ht){var mt=l(ht);return mt+m(ht)};else if(Na(l)){var w=l[0]>l[1]?l[0]:l[1],X=w/2;v=function(ht){return X+m(ht)}}else if(Sn(l)){var Z=l/2;v=function(ht){return Z+m(ht)}}else v=function(){return 10};r.force("collisionForce",s(v).strength(T))}},{key:"updateCfg",value:function(r){var a=this;a.ticking&&(a.forceSimulation.stop(),a.ticking=!1),a.forceSimulation=null,Object.assign(a,r)}},{key:"destroy",value:function(){var r=this;r.ticking&&(r.forceSimulation.stop(),r.ticking=!1),r.nodes=null,r.edges=null,r.destroyed=!0}}]),t}(Ka);function zt(u){var n=u.alphaMin(),t=u.alphaTarget(),e=u.alpha(),r=Math.log((n-t)/(e-t))/Math.log(1-u.alphaDecay()),a=Math.ceil(r);return a}function Zt(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function $t(u,n,t,e){u.forEach(function(r,a){u[a].children=[],u[a].parent=[]}),e?n.forEach(function(r){var a=0;r.source&&(a=t[r.source]);var l=0;r.target&&(l=t[r.target]);var f=u[a].children,v=u[l].parent;f.push(u[l].id),v.push(u[a].id)}):n.forEach(function(r){var a=0;r.source&&(a=t[r.source]);var l=0;r.target&&(l=t[r.target]);var f=u[a].children,v=u[l].children;f.push(u[l].id),v.push(u[a].id)})}function te(u,n,t){for(var e=t.length,r=0;r<e;r++)if(u.id===t[r].source&&n.id===t[r].target||n.id===t[r].source&&u.id===t[r].target)return!0;return!1}function ne(u,n){var t=u.degree,e=n.degree;return t<e?-1:t>e?1:0}var de=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.radius=null,r.startRadius=null,r.endRadius=null,r.startAngle=0,r.endAngle=2*Math.PI,r.clockwise=!0,r.divisions=1,r.ordering=null,r.angleRatio=1,r.nodes=[],r.edges=[],r.nodeMap={},r.degrees=[],r.width=300,r.height=300,r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=r.edges,f=a.length;if(f===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var v=r.center;if(f===1){a[0].x=v[0],a[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var m=r.radius,T=r.startRadius,w=r.endRadius,X=r.divisions,Z=r.startAngle,J=r.endAngle,ht=(J-Z)/f,mt={};a.forEach(function(Oe,Te){mt[Oe.id]=Te}),r.nodeMap=mt;var At=ni(a.length,mt,l);r.degrees=At,!m&&!T&&!w?m=r.height>r.width?r.width/2:r.height/2:!T&&w?T=w:T&&!w&&(w=T);var St=r.angleRatio,Bt=ht*St,kt=r.ordering,Yt=[];kt==="topology"?Yt=r.topologyOrdering():kt==="topology-directed"?Yt=r.topologyOrdering(!0):kt==="degree"?Yt=r.degreeOrdering():Yt=a;for(var qt=r.clockwise,ee=Math.ceil(f/X),re=0;re<f;++re){var fe=m;!fe&&T!==null&&w!==null&&(fe=T+re*(w-T)/(f-1)),fe||(fe=10+re*100/(f-1));var le=Z+re%ee*Bt+2*Math.PI/X*Math.floor(re/ee);qt||(le=J-re%ee*Bt-2*Math.PI/X*Math.floor(re/ee)),Yt[re].x=v[0]+Math.cos(le)*fe,Yt[re].y=v[1]+Math.sin(le)*fe,Yt[re].weight=At[re]}return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:Yt,edges:this.edges}}},{key:"topologyOrdering",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this,l=a.degrees,f=a.edges,v=a.nodes,m=Ql(v),T=a.nodeMap,w=[m[0]],X=[v[0]],Z=[],J=v.length;Z[0]=!0,$t(m,f,T,r);var ht=0;return m.forEach(function(mt,At){if(At!==0)if((At===J-1||l[At]!==l[At+1]||te(w[ht],mt,f))&&!Z[At])w.push(mt),X.push(v[T[mt.id]]),Z[At]=!0,ht++;else{for(var St=w[ht].children,Bt=!1,kt=0;kt<St.length;kt++){var Yt=T[St[kt]];if(l[Yt]===l[At]&&!Z[Yt]){w.push(m[Yt]),X.push(v[T[m[Yt].id]]),Z[Yt]=!0,Bt=!0;break}}for(var qt=0;!Bt&&(Z[qt]||(w.push(m[qt]),X.push(v[T[m[qt].id]]),Z[qt]=!0,Bt=!0),qt++,qt!==J););}}),X}},{key:"degreeOrdering",value:function(){var r=this,a=r.nodes,l=[],f=r.degrees;return a.forEach(function(v,m){v.degree=f[m],l.push(v)}),l.sort(ne),l}},{key:"getType",value:function(){return"circular"}}]),t}(Ka),be=i("+WlW"),He=i.n(be),er=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.rankdir="TB",r.nodesep=50,r.ranksep=50,r.controlPoints=!1,r.sortByCombo=!1,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var r=this,a=this,l=a.nodes,f=a.nodeSize,v=a.rankdir,m=a.combos;if(!!l){var T=a.edges||[],w=new He.a.graphlib.Graph({multigraph:!0,compound:!0}),X;f?Na(f)?X=function(){return f}:X=function(){return[f,f]}:X=function(St){return St.size?Na(St.size)?St.size:[St.size,St.size]:[40,40]};var Z=dr(a.nodesepFunc,a.nodesep,50),J=dr(a.ranksepFunc,a.ranksep,50);(v==="LR"||v==="RL")&&(Z=dr(a.ranksepFunc,a.ranksep,50),J=dr(a.nodesepFunc,a.nodesep,50)),w.setDefaultEdgeLabel(function(){return{}}),w.setGraph(a);var ht={};l.forEach(function(At){var St=X(At),Bt=J(At),kt=Z(At),Yt=St[0]+2*kt,qt=St[1]+2*Bt;w.setNode(At.id,{width:Yt,height:qt}),r.sortByCombo&&At.comboId&&(ht[At.comboId]||(ht[At.comboId]=!0,w.setNode(At.comboId,{})),w.setParent(At.id,At.comboId))}),this.sortByCombo&&m&&m.forEach(function(At){!At.parentId||(ht[At.parentId]||(ht[At.parentId]=!0,w.setNode(At.parentId,{})),w.setParent(At.id,At.parentId))}),T.forEach(function(At){w.setEdge(At.source,At.target,{weight:At.weight||1})}),He.a.layout(w);var mt;return w.nodes().forEach(function(At){mt=w.node(At);var St=l.findIndex(function(Bt){return Bt.id===At});!l[St]||(l[St].x=mt.x,l[St].y=mt.y)}),w.edges().forEach(function(At){mt=w.edge(At);var St=T.findIndex(function(Bt){return Bt.source===At.v&&Bt.target===At.w});a.controlPoints&&T[St].type!=="loop"&&(T[St].controlPoints=mt.points.slice(1,mt.points.length-1))}),a.onLayoutEnd&&a.onLayoutEnd(),{nodes:l,edges:T}}}},{key:"getType",value:function(){return"dagre"}}]),t}(Ka);function dr(u,n,t){var e;return u?e=u:Sn(n)?e=function(){return n}:e=function(){return t},e}var yr=i("5+eA"),nn=i("rBpl"),un=Object.prototype.toString;function dn(u){return un.call(u).endsWith("Array]")}function va(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!dn(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,a=r===void 0?u.length:r;if(e<0||e>=u.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>u.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=u[e],f=e+1;f<a;f++)u[f]>l&&(l=u[f]);return l}var na=va;function $n(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!dn(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,a=r===void 0?u.length:r;if(e<0||e>=u.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>u.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=u[e],f=e+1;f<a;f++)u[f]<l&&(l=u[f]);return l}var Ia=$n;function ai(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dn(u)){if(u.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(n.output!==void 0){if(!dn(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(u.length);var e=Ia(u),r=na(u);if(e===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=n.min,l=a===void 0?n.autoMinMax?e:0:a,f=n.max,v=f===void 0?n.autoMinMax?r:1:f;if(l>=v)throw new RangeError("min option must be smaller than max option");for(var m=(v-l)/(r-e),T=0;T<u.length;T++)t[T]=(u[T]-e)*m+l;return t}var _a=ai,ji=" ".repeat(2),Mo=" ".repeat(4);function To(){return Oo(this)}function Oo(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.maxRows,e=t===void 0?15:t,r=n.maxColumns,a=r===void 0?10:r,l=n.maxNumSize,f=l===void 0?8:l;return"".concat(u.constructor.name,` {
`).concat(ji,`[
`).concat(Mo).concat(uf(u,e,a,f),`
`).concat(ji,`]
`).concat(ji,"rows: ").concat(u.rows,`
`).concat(ji,"columns: ").concat(u.columns,`
}`)}function uf(u,n,t,e){for(var r=u.rows,a=u.columns,l=Math.min(r,n),f=Math.min(a,t),v=[],m=0;m<l;m++){for(var T=[],w=0;w<f;w++)T.push(_l(u.get(m,w),e));v.push("".concat(T.join(" ")))}return f!==a&&(v[v.length-1]+=" ... ".concat(a-t," more columns")),l!==r&&v.push("... ".concat(r-n," more rows")),v.join(`
`.concat(Mo))}function _l(u,n){var t=String(u);if(t.length<=n)return t.padEnd(n," ");var e=u.toPrecision(n-2);if(e.length<=n)return e;var r=u.toExponential(n-2),a=r.indexOf("e"),l=r.slice(a);return r.slice(0,n-l.length)+l}function Fv(u,n){u.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},u.prototype.addS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)+e);return this},u.prototype.addM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)+e.get(r,a));return this},u.add=function(e,r){var a=new n(e);return a.add(r)},u.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},u.prototype.subS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)-e);return this},u.prototype.subM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)-e.get(r,a));return this},u.sub=function(e,r){var a=new n(e);return a.sub(r)},u.prototype.subtract=u.prototype.sub,u.prototype.subtractS=u.prototype.subS,u.prototype.subtractM=u.prototype.subM,u.subtract=u.sub,u.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},u.prototype.mulS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)*e);return this},u.prototype.mulM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)*e.get(r,a));return this},u.mul=function(e,r){var a=new n(e);return a.mul(r)},u.prototype.multiply=u.prototype.mul,u.prototype.multiplyS=u.prototype.mulS,u.prototype.multiplyM=u.prototype.mulM,u.multiply=u.mul,u.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},u.prototype.divS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)/e);return this},u.prototype.divM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)/e.get(r,a));return this},u.div=function(e,r){var a=new n(e);return a.div(r)},u.prototype.divide=u.prototype.div,u.prototype.divideS=u.prototype.divS,u.prototype.divideM=u.prototype.divM,u.divide=u.div,u.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},u.prototype.modS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)%e);return this},u.prototype.modM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)%e.get(r,a));return this},u.mod=function(e,r){var a=new n(e);return a.mod(r)},u.prototype.modulus=u.prototype.mod,u.prototype.modulusS=u.prototype.modS,u.prototype.modulusM=u.prototype.modM,u.modulus=u.mod,u.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},u.prototype.andS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)&e);return this},u.prototype.andM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)&e.get(r,a));return this},u.and=function(e,r){var a=new n(e);return a.and(r)},u.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},u.prototype.orS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)|e);return this},u.prototype.orM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)|e.get(r,a));return this},u.or=function(e,r){var a=new n(e);return a.or(r)},u.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},u.prototype.xorS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)^e);return this},u.prototype.xorM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)^e.get(r,a));return this},u.xor=function(e,r){var a=new n(e);return a.xor(r)},u.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},u.prototype.leftShiftS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)<<e);return this},u.prototype.leftShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)<<e.get(r,a));return this},u.leftShift=function(e,r){var a=new n(e);return a.leftShift(r)},u.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},u.prototype.signPropagatingRightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)>>e);return this},u.prototype.signPropagatingRightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)>>e.get(r,a));return this},u.signPropagatingRightShift=function(e,r){var a=new n(e);return a.signPropagatingRightShift(r)},u.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},u.prototype.rightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)>>>e);return this},u.prototype.rightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,this.get(r,a)>>>e.get(r,a));return this},u.rightShift=function(e,r){var a=new n(e);return a.rightShift(r)},u.prototype.zeroFillRightShift=u.prototype.rightShift,u.prototype.zeroFillRightShiftS=u.prototype.rightShiftS,u.prototype.zeroFillRightShiftM=u.prototype.rightShiftM,u.zeroFillRightShift=u.rightShift,u.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,~this.get(e,r));return this},u.not=function(e){var r=new n(e);return r.not()},u.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.abs(this.get(e,r)));return this},u.abs=function(e){var r=new n(e);return r.abs()},u.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acos(this.get(e,r)));return this},u.acos=function(e){var r=new n(e);return r.acos()},u.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acosh(this.get(e,r)));return this},u.acosh=function(e){var r=new n(e);return r.acosh()},u.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asin(this.get(e,r)));return this},u.asin=function(e){var r=new n(e);return r.asin()},u.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asinh(this.get(e,r)));return this},u.asinh=function(e){var r=new n(e);return r.asinh()},u.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atan(this.get(e,r)));return this},u.atan=function(e){var r=new n(e);return r.atan()},u.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atanh(this.get(e,r)));return this},u.atanh=function(e){var r=new n(e);return r.atanh()},u.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cbrt(this.get(e,r)));return this},u.cbrt=function(e){var r=new n(e);return r.cbrt()},u.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.ceil(this.get(e,r)));return this},u.ceil=function(e){var r=new n(e);return r.ceil()},u.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.clz32(this.get(e,r)));return this},u.clz32=function(e){var r=new n(e);return r.clz32()},u.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cos(this.get(e,r)));return this},u.cos=function(e){var r=new n(e);return r.cos()},u.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cosh(this.get(e,r)));return this},u.cosh=function(e){var r=new n(e);return r.cosh()},u.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.exp(this.get(e,r)));return this},u.exp=function(e){var r=new n(e);return r.exp()},u.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.expm1(this.get(e,r)));return this},u.expm1=function(e){var r=new n(e);return r.expm1()},u.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.floor(this.get(e,r)));return this},u.floor=function(e){var r=new n(e);return r.floor()},u.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.fround(this.get(e,r)));return this},u.fround=function(e){var r=new n(e);return r.fround()},u.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log(this.get(e,r)));return this},u.log=function(e){var r=new n(e);return r.log()},u.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log1p(this.get(e,r)));return this},u.log1p=function(e){var r=new n(e);return r.log1p()},u.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log10(this.get(e,r)));return this},u.log10=function(e){var r=new n(e);return r.log10()},u.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log2(this.get(e,r)));return this},u.log2=function(e){var r=new n(e);return r.log2()},u.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.round(this.get(e,r)));return this},u.round=function(e){var r=new n(e);return r.round()},u.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sign(this.get(e,r)));return this},u.sign=function(e){var r=new n(e);return r.sign()},u.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sin(this.get(e,r)));return this},u.sin=function(e){var r=new n(e);return r.sin()},u.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sinh(this.get(e,r)));return this},u.sinh=function(e){var r=new n(e);return r.sinh()},u.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sqrt(this.get(e,r)));return this},u.sqrt=function(e){var r=new n(e);return r.sqrt()},u.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tan(this.get(e,r)));return this},u.tan=function(e){var r=new n(e);return r.tan()},u.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tanh(this.get(e,r)));return this},u.tanh=function(e){var r=new n(e);return r.tanh()},u.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.trunc(this.get(e,r)));return this},u.trunc=function(e){var r=new n(e);return r.trunc()},u.pow=function(e,r){var a=new n(e);return a.pow(r)},u.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},u.prototype.powS=function(e){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,Math.pow(this.get(r,a),e));return this},u.prototype.powM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.set(r,a,Math.pow(this.get(r,a),e.get(r,a)));return this}}function rl(u,n,t){var e=t?u.rows:u.rows-1;if(n<0||n>e)throw new RangeError("Row index out of range")}function nl(u,n,t){var e=t?u.columns:u.columns-1;if(n<0||n>e)throw new RangeError("Column index out of range")}function ac(u,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==u.columns)throw new RangeError("vector size must be the same as the number of columns");return n}function ic(u,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==u.rows)throw new RangeError("vector size must be the same as the number of rows");return n}function Gv(u,n,t){return{row:Mg(u,n),column:qd(u,t)}}function Mg(u,n){if(typeof n!="object")throw new TypeError("unexpected type for row indices");var t=n.some(function(e){return e<0||e>=u.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function qd(u,n){if(typeof n!="object")throw new TypeError("unexpected type for column indices");var t=n.some(function(e){return e<0||e>=u.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function Uv(u,n,t,e,r){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ff("startRow",n),ff("endRow",t),ff("startColumn",e),ff("endColumn",r),n>t||e>r||n<0||n>=u.rows||t<0||t>=u.rows||e<0||e>=u.columns||r<0||r>=u.columns)throw new RangeError("Submatrix indices are out of range")}function cf(u){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<u;e++)t.push(n);return t}function ff(u,n){if(typeof n!="number")throw new TypeError("".concat(u," must be a number"))}function hf(u){if(u.isEmpty())throw new Error("Empty matrix has no elements to index")}function xu(u){for(var n=cf(u.rows),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[t]+=u.get(t,e);return n}function ap(u){for(var n=cf(u.columns),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[e]+=u.get(t,e);return n}function Tg(u){for(var n=0,t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)n+=u.get(t,e);return n}function df(u){for(var n=cf(u.rows,1),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[t]*=u.get(t,e);return n}function Tl(u){for(var n=cf(u.columns,1),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[e]*=u.get(t,e);return n}function Ag(u){for(var n=1,t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)n*=u.get(t,e);return n}function ab(u,n,t){for(var e=u.rows,r=u.columns,a=[],l=0;l<e;l++){for(var f=0,v=0,m=0,T=0;T<r;T++)m=u.get(l,T)-t[l],f+=m,v+=m*m;n?a.push((v-f*f/r)/(r-1)):a.push((v-f*f/r)/r)}return a}function ib(u,n,t){for(var e=u.rows,r=u.columns,a=[],l=0;l<r;l++){for(var f=0,v=0,m=0,T=0;T<e;T++)m=u.get(T,l)-t[l],f+=m,v+=m*m;n?a.push((v-f*f/e)/(e-1)):a.push((v-f*f/e)/e)}return a}function ob(u,n,t){for(var e=u.rows,r=u.columns,a=e*r,l=0,f=0,v=0,m=0;m<e;m++)for(var T=0;T<r;T++)v=u.get(m,T)-t,l+=v,f+=v*v;return n?(f-l*l/a)/(a-1):(f-l*l/a)/a}function sb(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n[t])}function lb(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n[e])}function ub(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n)}function cb(u){for(var n=[],t=0;t<u.rows;t++){for(var e=0,r=0;r<u.columns;r++)e+=Math.pow(u.get(t,r),2)/(u.columns-1);n.push(Math.sqrt(e))}return n}function fb(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n[t])}function hb(u){for(var n=[],t=0;t<u.columns;t++){for(var e=0,r=0;r<u.rows;r++)e+=Math.pow(u.get(r,t),2)/(u.rows-1);n.push(Math.sqrt(e))}return n}function db(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n[e])}function vb(u){for(var n=u.size-1,t=0,e=0;e<u.columns;e++)for(var r=0;r<u.rows;r++)t+=Math.pow(u.get(r,e),2)/n;return Math.sqrt(t)}function gb(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n)}var Bo=function(){function u(){Object(Bn.a)(this,u)}return Object(kn.a)(u,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.call(this,e,r);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,r=-1,a=!0,l=!1;t<this.rows&&a;){for(e=0,l=!1;e<this.columns&&l===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(l=!0,r=e):(a=!1,l=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,r=-1,a=!0,l=!1;t<this.rows&&a;){for(e=0,l=!1;e<this.columns&&l===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(l=!0,r=e):(a=!1,l=!0);for(var f=e+1;f<this.rows;f++)this.get(t,f)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,r=0;e<t.rows&&r<t.columns;){for(var a=e,l=e;l<t.rows;l++)t.get(l,r)>t.get(a,r)&&(a=l);if(t.get(a,r)===0)r++;else{t.swapRows(e,a);for(var f=t.get(e,r),v=r;v<t.columns;v++)t.set(e,v,t.get(e,v)/f);for(var m=e+1;m<t.rows;m++){var T=t.get(m,r)/t.get(e,r);t.set(m,r,0);for(var w=r+1;w<t.columns;w++)t.set(m,w,t.get(m,w)-t.get(e,w)*T)}e++,r++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,a=r-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var l=0,f=!1;l<r&&f===!1;)t.get(a,l)===1?f=!0:l++;for(var v=0;v<a;v++)for(var m=t.get(v,l),T=l;T<e;T++){var w=t.get(v,T)-m*t.get(a,T);t.set(v,T,w)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,r=e===void 0?1:e,a=t.columns,l=a===void 0?1:a;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(l)||l<=0)throw new TypeError("columns must be a positive integer");for(var f=new Sa(this.rows*r,this.columns*l),v=0;v<r;v++)for(var m=0;m<l;m++)f.setSubMatrix(this,this.rows*v,this.columns*m);return f}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){rl(this,t);for(var e=[],r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"getRowVector",value:function(t){return Sa.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){rl(this,t),e=ac(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}},{key:"swapRows",value:function(t,e){rl(this,t),rl(this,e);for(var r=0;r<this.columns;r++){var a=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,a)}return this}},{key:"getColumn",value:function(t){nl(this,t);for(var e=[],r=0;r<this.rows;r++)e.push(this.get(r,t));return e}},{key:"getColumnVector",value:function(t){return Sa.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){nl(this,t),e=ic(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}},{key:"swapColumns",value:function(t,e){nl(this,t),nl(this,e);for(var r=0;r<this.rows;r++){var a=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,a)}return this}},{key:"addRowVector",value:function(t){t=ac(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{key:"subRowVector",value:function(t){t=ac(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{key:"mulRowVector",value:function(t){t=ac(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}},{key:"divRowVector",value:function(t){t=ac(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}},{key:"addColumnVector",value:function(t){t=ic(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=ic(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=ic(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=ic(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}},{key:"mulRow",value:function(t,e){rl(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}},{key:"mulColumn",value:function(t,e){nl(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxIndex",value:function(){hf(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.get(r,a)>t&&(t=this.get(r,a),e[0]=r,e[1]=a);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minIndex",value:function(){hf(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)this.get(r,a)<t&&(t=this.get(r,a),e[0]=r,e[1]=a);return e}},{key:"maxRow",value:function(t){if(rl(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}},{key:"maxRowIndex",value:function(t){rl(this,t),hf(this);for(var e=this.get(t,0),r=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),r[1]=a);return r}},{key:"minRow",value:function(t){if(rl(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}},{key:"minRowIndex",value:function(t){rl(this,t),hf(this);for(var e=this.get(t,0),r=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),r[1]=a);return r}},{key:"maxColumn",value:function(t){if(nl(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}},{key:"maxColumnIndex",value:function(t){nl(this,t),hf(this);for(var e=this.get(0,t),r=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),r[0]=a);return r}},{key:"minColumn",value:function(t){if(nl(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}},{key:"minColumnIndex",value:function(t){nl(this,t),hf(this);for(var e=this.get(0,t),r=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),r[0]=a);return r}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;r<t;r++)e.push(this.get(r,r));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var r=0;r<this.rows;r++)for(var a=0;a<this.columns;a++)e=e+this.get(r,a)*this.get(r,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{key:"dot",value:function(t){u.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,a=0;a<e.length;a++)r+=e[a]*t[a];return r}},{key:"mmul",value:function(t){t=Sa.checkMatrix(t);for(var e=this.rows,r=this.columns,a=t.columns,l=new Sa(e,a),f=new Float64Array(r),v=0;v<a;v++){for(var m=0;m<r;m++)f[m]=t.get(m,v);for(var T=0;T<e;T++){for(var w=0,X=0;X<r;X++)w+=this.get(T,X)*f[X];l.set(T,v,w)}}return l}},{key:"strassen2x2",value:function(t){t=Sa.checkMatrix(t);var e=new Sa(2,2),r=this.get(0,0),a=t.get(0,0),l=this.get(0,1),f=t.get(0,1),v=this.get(1,0),m=t.get(1,0),T=this.get(1,1),w=t.get(1,1),X=(r+T)*(a+w),Z=(v+T)*a,J=r*(f-w),ht=T*(m-a),mt=(r+l)*w,At=(v-r)*(a+f),St=(l-T)*(m+w),Bt=X+ht-mt+St,kt=J+mt,Yt=Z+ht,qt=X-Z+J+At;return e.set(0,0,Bt),e.set(0,1,kt),e.set(1,0,Yt),e.set(1,1,qt),e}},{key:"strassen3x3",value:function(t){t=Sa.checkMatrix(t);var e=new Sa(3,3),r=this.get(0,0),a=this.get(0,1),l=this.get(0,2),f=this.get(1,0),v=this.get(1,1),m=this.get(1,2),T=this.get(2,0),w=this.get(2,1),X=this.get(2,2),Z=t.get(0,0),J=t.get(0,1),ht=t.get(0,2),mt=t.get(1,0),At=t.get(1,1),St=t.get(1,2),Bt=t.get(2,0),kt=t.get(2,1),Yt=t.get(2,2),qt=(r+a+l-f-v-w-X)*At,ee=(r-f)*(-J+At),re=v*(-Z+J+mt-At-St-Bt+Yt),fe=(-r+f+v)*(Z-J+At),le=(f+v)*(-Z+J),Oe=r*Z,Te=(-r+T+w)*(Z-ht+St),sr=(-r+T)*(ht-St),fr=(T+w)*(-Z+ht),vr=(r+a+l-v-m-T-w)*St,Qr=w*(-Z+ht+mt-At-St-Bt+kt),Zr=(-l+w+X)*(At+Bt-kt),Rr=(l-X)*(At-kt),Dr=l*Bt,Ur=(w+X)*(-Bt+kt),Lr=(-l+v+m)*(St+Bt-Yt),kr=(l-m)*(St-Yt),On=(v+m)*(-Bt+Yt),Wr=a*mt,Xr=m*kt,Nn=f*ht,Fn=T*J,Vn=X*Yt,Or=Oe+Dr+Wr,Ca=qt+fe+le+Oe+Zr+Dr+Ur,Rn=Oe+Te+fr+vr+Dr+Lr+On,En=ee+re+fe+Oe+Dr+Lr+kr,Da=ee+fe+le+Oe+Xr,ui=Dr+Lr+kr+On+Nn,ri=Oe+Te+sr+Qr+Zr+Rr+Dr,ho=Zr+Rr+Dr+Ur+Fn,Ya=Oe+Te+sr+fr+Vn;return e.set(0,0,Or),e.set(0,1,Ca),e.set(0,2,Rn),e.set(1,0,En),e.set(1,1,Da),e.set(1,2,ui),e.set(2,0,ri),e.set(2,1,ho),e.set(2,2,Ya),e}},{key:"mmulStrassen",value:function(t){t=Sa.checkMatrix(t);var e=this.clone(),r=e.rows,a=e.columns,l=t.rows,f=t.columns;a!==l&&console.warn("Multiplying ".concat(r," x ").concat(a," and ").concat(l," x ").concat(f," matrix: dimensions do not match."));function v(X,Z,J){var ht=X.rows,mt=X.columns;if(ht===Z&&mt===J)return X;var At=u.zeros(Z,J);return At=At.setSubMatrix(X,0,0),At}var m=Math.max(r,l),T=Math.max(a,f);e=v(e,m,T),t=v(t,m,T);function w(X,Z,J,ht){if(J<=512||ht<=512)return X.mmul(Z);J%2==1&&ht%2==1?(X=v(X,J+1,ht+1),Z=v(Z,J+1,ht+1)):J%2==1?(X=v(X,J+1,ht),Z=v(Z,J+1,ht)):ht%2==1&&(X=v(X,J,ht+1),Z=v(Z,J,ht+1));var mt=parseInt(X.rows/2,10),At=parseInt(X.columns/2,10),St=X.subMatrix(0,mt-1,0,At-1),Bt=Z.subMatrix(0,mt-1,0,At-1),kt=X.subMatrix(0,mt-1,At,X.columns-1),Yt=Z.subMatrix(0,mt-1,At,Z.columns-1),qt=X.subMatrix(mt,X.rows-1,0,At-1),ee=Z.subMatrix(mt,Z.rows-1,0,At-1),re=X.subMatrix(mt,X.rows-1,At,X.columns-1),fe=Z.subMatrix(mt,Z.rows-1,At,Z.columns-1),le=w(u.add(St,re),u.add(Bt,fe),mt,At),Oe=w(u.add(qt,re),Bt,mt,At),Te=w(St,u.sub(Yt,fe),mt,At),sr=w(re,u.sub(ee,Bt),mt,At),fr=w(u.add(St,kt),fe,mt,At),vr=w(u.sub(qt,St),u.add(Bt,Yt),mt,At),Qr=w(u.sub(kt,re),u.add(ee,fe),mt,At),Zr=u.add(le,sr);Zr.sub(fr),Zr.add(Qr);var Rr=u.add(Te,fr),Dr=u.add(Oe,sr),Ur=u.sub(le,Oe);Ur.add(Te),Ur.add(vr);var Lr=u.zeros(2*Zr.rows,2*Zr.columns);return Lr=Lr.setSubMatrix(Zr,0,0),Lr=Lr.setSubMatrix(Rr,Zr.rows,0),Lr=Lr.setSubMatrix(Dr,0,Zr.columns),Lr=Lr.setSubMatrix(Ur,Zr.rows,Zr.columns),Lr.subMatrix(0,J-1,0,ht-1)}return w(e,t,m,T)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,a=t.max,l=a===void 0?1:a;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(l))throw new TypeError("max must be a number");if(r>=l)throw new RangeError("min must be smaller than max");for(var f=new Sa(this.rows,this.columns),v=0;v<this.rows;v++){var m=this.getRow(v);m.length>0&&_a(m,{min:r,max:l,output:m}),f.setRow(v,m)}return f}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,a=t.max,l=a===void 0?1:a;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(l))throw new TypeError("max must be a number");if(r>=l)throw new RangeError("min must be smaller than max");for(var f=new Sa(this.rows,this.columns),v=0;v<this.columns;v++){var m=this.getColumn(v);m.length&&_a(m,{min:r,max:l,output:m}),f.setColumn(v,m)}return f}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var r=0;r<t;r++){var a=this.get(e,r),l=this.get(e,this.columns-1-r);this.set(e,r,l),this.set(e,this.columns-1-r,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var r=0;r<t;r++){var a=this.get(r,e),l=this.get(this.rows-1-r,e);this.set(r,e,l),this.set(this.rows-1-r,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=Sa.checkMatrix(t);for(var e=this.rows,r=this.columns,a=t.rows,l=t.columns,f=new Sa(e*a,r*l),v=0;v<e;v++)for(var m=0;m<r;m++)for(var T=0;T<a;T++)for(var w=0;w<l;w++)f.set(a*v+T,l*m+w,this.get(v,m)*t.get(T,w));return f}},{key:"kroneckerSum",value:function(t){if(t=Sa.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,r=t.rows,a=this.kroneckerProduct(Sa.eye(r,r)),l=Sa.eye(e,e).kroneckerProduct(t);return a.add(l)}},{key:"transpose",value:function(){for(var t=new Sa(this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ip,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ip,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,r,a){Uv(this,t,e,r,a);for(var l=new Sa(e-t+1,a-r+1),f=t;f<=e;f++)for(var v=r;v<=a;v++)l.set(f-t,v-r,this.get(f,v));return l}},{key:"subMatrixRow",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var a=new Sa(t.length,r-e+1),l=0;l<t.length;l++)for(var f=e;f<=r;f++){if(t[l]<0||t[l]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[l]));a.set(l,f-e,this.get(t[l],f))}return a}},{key:"subMatrixColumn",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var a=new Sa(r-e+1,t.length),l=0;l<t.length;l++)for(var f=e;f<=r;f++){if(t[l]<0||t[l]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[l]));a.set(f-e,l,this.get(f,t[l]))}return a}},{key:"setSubMatrix",value:function(t,e,r){if(t=Sa.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,l=r+t.columns-1;Uv(this,e,a,r,l);for(var f=0;f<t.rows;f++)for(var v=0;v<t.columns;v++)this.set(e+f,r+v,t.get(f,v));return this}},{key:"selection",value:function(t,e){for(var r=Gv(this,t,e),a=new Sa(t.length,e.length),l=0;l<r.row.length;l++)for(var f=r.row[l],v=0;v<r.column.length;v++){var m=r.column[v];a.set(l,v,this.get(f,m))}return a}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}},{key:"clone",value:function(){for(var t=new Sa(this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}},{key:"sum",value:function(t){switch(t){case"row":return xu(this);case"column":return ap(this);case void 0:return Tg(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return df(this);case"column":return Tl(this);case void 0:return Ag(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var r=0;r<this.rows;r++)e[r]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,a=r.unbiased,l=a===void 0?!0:a,f=r.mean,v=f===void 0?this.mean(t):f;if(typeof l!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(v))throw new TypeError("mean must be an array");return ab(this,l,v)}case"column":{if(!Array.isArray(v))throw new TypeError("mean must be an array");return ib(this,l,v)}case void 0:{if(typeof v!="number")throw new TypeError("mean must be a number");return ob(this,l,v)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var r=this.variance(t,e);if(t===void 0)return Math.sqrt(r);for(var a=0;a<r.length;a++)r[a]=Math.sqrt(r[a]);return r}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,a=r.center,l=a===void 0?this.mean(t):a;switch(t){case"row":{if(!Array.isArray(l))throw new TypeError("center must be an array");return sb(this,l),this}case"column":{if(!Array.isArray(l))throw new TypeError("center must be an array");return lb(this,l),this}case void 0:{if(typeof l!="number")throw new TypeError("center must be a number");return ub(this,l),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e.scale;switch(t){case"row":{if(r===void 0)r=cb(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return fb(this,r),this}case"column":{if(r===void 0)r=hb(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return db(this,r),this}case void 0:{if(r===void 0)r=vb(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return gb(this,r),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Oo(this,t)}}],[{key:"from1DArray",value:function(t,e,r){var a=t*e;if(a!==r.length)throw new RangeError("data length does not match given dimensions");for(var l=new Sa(t,e),f=0;f<t;f++)for(var v=0;v<e;v++)l.set(f,v,r[f*e+v]);return l}},{key:"rowVector",value:function(t){for(var e=new Sa(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}},{key:"columnVector",value:function(t){for(var e=new Sa(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}},{key:"zeros",value:function(t,e){return new Sa(t,e)}},{key:"ones",value:function(t,e){return new Sa(t,e).fill(1)}},{key:"rand",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");for(var a=r.random,l=a===void 0?Math.random:a,f=new Sa(t,e),v=0;v<t;v++)for(var m=0;m<e;m++)f.set(v,m,l());return f}},{key:"randInt",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");var a=r.min,l=a===void 0?0:a,f=r.max,v=f===void 0?1e3:f,m=r.random,T=m===void 0?Math.random:m;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(v))throw new TypeError("max must be an integer");if(l>=v)throw new RangeError("min must be smaller than max");for(var w=v-l,X=new Sa(t,e),Z=0;Z<t;Z++)for(var J=0;J<e;J++){var ht=l+Math.round(T()*w);X.set(Z,J,ht)}return X}},{key:"eye",value:function(t,e,r){e===void 0&&(e=t),r===void 0&&(r=1);for(var a=Math.min(t,e),l=this.zeros(t,e),f=0;f<a;f++)l.set(f,f,r);return l}},{key:"diag",value:function(t,e,r){var a=t.length;e===void 0&&(e=a),r===void 0&&(r=e);for(var l=Math.min(a,e,r),f=this.zeros(e,r),v=0;v<l;v++)f.set(v,v,t[v]);return f}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,a=t.columns,l=new Sa(r,a),f=0;f<r;f++)for(var v=0;v<a;v++)l.set(f,v,Math.min(t.get(f,v),e.get(f,v)));return l}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,a=t.columns,l=new this(r,a),f=0;f<r;f++)for(var v=0;v<a;v++)l.set(f,v,Math.max(t.get(f,v),e.get(f,v)));return l}},{key:"checkMatrix",value:function(t){return u.isMatrix(t)?t:new Sa(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),u}();Bo.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Bo.prototype[Symbol.for("nodejs.util.inspect.custom")]=To);function ip(u,n){return u-n}Bo.random=Bo.rand,Bo.randomInt=Bo.randInt,Bo.diagonal=Bo.diag,Bo.prototype.diagonal=Bo.prototype.diag,Bo.identity=Bo.eye,Bo.prototype.negate=Bo.prototype.neg,Bo.prototype.tensorProduct=Bo.prototype.kroneckerProduct;var Sa=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e,r){var a;if(Object(Bn.a)(this,t),a=n.call(this),t.isMatrix(e))return Object(nn.a)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(r)&&r>=0)for(var l=0;l<e;l++)a.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var f=e;if(e=f.length,r=e?f[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var v=0;v<e;v++){if(f[v].length!==r)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(f[v]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=r,a}return Object(kn.a)(t,[{key:"set",value:function(r,a,l){return this.data[r][a]=l,this}},{key:"get",value:function(r,a){return this.data[r][a]}},{key:"removeRow",value:function(r){return rl(this,r),this.data.splice(r,1),this.rows-=1,this}},{key:"addRow",value:function(r,a){return a===void 0&&(a=r,r=this.rows),rl(this,r,!0),a=Float64Array.from(ac(this,a)),this.data.splice(r,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(r){nl(this,r);for(var a=0;a<this.rows;a++){for(var l=new Float64Array(this.columns-1),f=0;f<r;f++)l[f]=this.data[a][f];for(var v=r+1;v<this.columns;v++)l[v-1]=this.data[a][v];this.data[a]=l}return this.columns-=1,this}},{key:"addColumn",value:function(r,a){typeof a=="undefined"&&(a=r,r=this.columns),nl(this,r,!0),a=ic(this,a);for(var l=0;l<this.rows;l++){for(var f=new Float64Array(this.columns+1),v=0;v<r;v++)f[v]=this.data[l][v];for(f[v++]=a[l];v<this.columns+1;v++)f[v]=this.data[l][v-1];this.data[l]=f}return this.columns+=1,this}}]),t}(Bo);Fv(Bo,Sa);var pb=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.data=e,r.rows=e.length,r.columns=e[0].length,r}return Object(kn.a)(t,[{key:"set",value:function(r,a,l){return this.data[r][a]=l,this}},{key:"get",value:function(r,a){return this.data[r][a]}}]),t}(Bo);function ad(u,n){var t=0;return Math.abs(u)>Math.abs(n)?(t=n/u,Math.abs(u)*Math.sqrt(1+t*t)):n!==0?(t=u/n,Math.abs(n)*Math.sqrt(1+t*t)):0}var op=function(){function u(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(Bn.a)(this,u),n=pb.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");var e=n.rows,r=n.columns,a=t.computeLeftSingularVectors,l=a===void 0?!0:a,f=t.computeRightSingularVectors,v=f===void 0?!0:f,m=t.autoTranspose,T=m===void 0?!1:m,w=Boolean(l),X=Boolean(v),Z=!1,J;if(e<r)if(!T)J=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{J=n.transpose(),e=J.rows,r=J.columns,Z=!0;var ht=w;w=X,X=ht}else J=n.clone();for(var mt=Math.min(e,r),At=Math.min(e+1,r),St=new Float64Array(At),Bt=new Sa(e,mt),kt=new Sa(r,r),Yt=new Float64Array(r),qt=new Float64Array(e),ee=new Float64Array(At),re=0;re<At;re++)ee[re]=re;for(var fe=Math.min(e-1,r),le=Math.max(0,Math.min(r-2,e)),Oe=Math.max(fe,le),Te=0;Te<Oe;Te++){if(Te<fe){St[Te]=0;for(var sr=Te;sr<e;sr++)St[Te]=ad(St[Te],J.get(sr,Te));if(St[Te]!==0){J.get(Te,Te)<0&&(St[Te]=-St[Te]);for(var fr=Te;fr<e;fr++)J.set(fr,Te,J.get(fr,Te)/St[Te]);J.set(Te,Te,J.get(Te,Te)+1)}St[Te]=-St[Te]}for(var vr=Te+1;vr<r;vr++){if(Te<fe&&St[Te]!==0){for(var Qr=0,Zr=Te;Zr<e;Zr++)Qr+=J.get(Zr,Te)*J.get(Zr,vr);Qr=-Qr/J.get(Te,Te);for(var Rr=Te;Rr<e;Rr++)J.set(Rr,vr,J.get(Rr,vr)+Qr*J.get(Rr,Te))}Yt[vr]=J.get(Te,vr)}if(w&&Te<fe)for(var Dr=Te;Dr<e;Dr++)Bt.set(Dr,Te,J.get(Dr,Te));if(Te<le){Yt[Te]=0;for(var Ur=Te+1;Ur<r;Ur++)Yt[Te]=ad(Yt[Te],Yt[Ur]);if(Yt[Te]!==0){Yt[Te+1]<0&&(Yt[Te]=0-Yt[Te]);for(var Lr=Te+1;Lr<r;Lr++)Yt[Lr]/=Yt[Te];Yt[Te+1]+=1}if(Yt[Te]=-Yt[Te],Te+1<e&&Yt[Te]!==0){for(var kr=Te+1;kr<e;kr++)qt[kr]=0;for(var On=Te+1;On<e;On++)for(var Wr=Te+1;Wr<r;Wr++)qt[On]+=Yt[Wr]*J.get(On,Wr);for(var Xr=Te+1;Xr<r;Xr++)for(var Nn=-Yt[Xr]/Yt[Te+1],Fn=Te+1;Fn<e;Fn++)J.set(Fn,Xr,J.get(Fn,Xr)+Nn*qt[Fn])}if(X)for(var Vn=Te+1;Vn<r;Vn++)kt.set(Vn,Te,Yt[Vn])}}var Or=Math.min(r,e+1);if(fe<r&&(St[fe]=J.get(fe,fe)),e<Or&&(St[Or-1]=0),le+1<Or&&(Yt[le]=J.get(le,Or-1)),Yt[Or-1]=0,w){for(var Ca=fe;Ca<mt;Ca++){for(var Rn=0;Rn<e;Rn++)Bt.set(Rn,Ca,0);Bt.set(Ca,Ca,1)}for(var En=fe-1;En>=0;En--)if(St[En]!==0){for(var Da=En+1;Da<mt;Da++){for(var ui=0,ri=En;ri<e;ri++)ui+=Bt.get(ri,En)*Bt.get(ri,Da);ui=-ui/Bt.get(En,En);for(var ho=En;ho<e;ho++)Bt.set(ho,Da,Bt.get(ho,Da)+ui*Bt.get(ho,En))}for(var Ya=En;Ya<e;Ya++)Bt.set(Ya,En,-Bt.get(Ya,En));Bt.set(En,En,1+Bt.get(En,En));for(var mi=0;mi<En-1;mi++)Bt.set(mi,En,0)}else{for(var ci=0;ci<e;ci++)Bt.set(ci,En,0);Bt.set(En,En,1)}}if(X)for(var ka=r-1;ka>=0;ka--){if(ka<le&&Yt[ka]!==0)for(var Ci=ka+1;Ci<r;Ci++){for(var Ma=0,Mi=ka+1;Mi<r;Mi++)Ma+=kt.get(Mi,ka)*kt.get(Mi,Ci);Ma=-Ma/kt.get(ka+1,ka);for(var ii=ka+1;ii<r;ii++)kt.set(ii,Ci,kt.get(ii,Ci)+Ma*kt.get(ii,ka))}for(var Io=0;Io<r;Io++)kt.set(Io,ka,0);kt.set(ka,ka,1)}for(var ei=Or-1,Ta=0,bi=Number.EPSILON;Or>0;){var jn=void 0,vi=void 0;for(jn=Or-2;jn>=-1&&jn!==-1;jn--){var Iu=Number.MIN_VALUE+bi*Math.abs(St[jn]+Math.abs(St[jn+1]));if(Math.abs(Yt[jn])<=Iu||Number.isNaN(Yt[jn])){Yt[jn]=0;break}}if(jn===Or-2)vi=4;else{var Do=void 0;for(Do=Or-1;Do>=jn&&Do!==jn;Do--){var os=(Do!==Or?Math.abs(Yt[Do]):0)+(Do!==jn+1?Math.abs(Yt[Do-1]):0);if(Math.abs(St[Do])<=bi*os){St[Do]=0;break}}Do===jn?vi=3:Do===Or-1?vi=1:(vi=2,jn=Do)}switch(jn++,vi){case 1:{var gs=Yt[Or-2];Yt[Or-2]=0;for(var no=Or-2;no>=jn;no--){var ss=ad(St[no],gs),vo=St[no]/ss,Fo=gs/ss;if(St[no]=ss,no!==jn&&(gs=-Fo*Yt[no-1],Yt[no-1]=vo*Yt[no-1]),X)for(var Du=0;Du<r;Du++)ss=vo*kt.get(Du,no)+Fo*kt.get(Du,Or-1),kt.set(Du,Or-1,-Fo*kt.get(Du,no)+vo*kt.get(Du,Or-1)),kt.set(Du,no,ss)}break}case 2:{var xv=Yt[jn-1];Yt[jn-1]=0;for(var ps=jn;ps<Or;ps++){var il=ad(St[ps],xv),Ef=St[ps]/il,Ri=xv/il;if(St[ps]=il,xv=-Ri*Yt[ps],Yt[ps]=Ef*Yt[ps],w)for(var go=0;go<e;go++)il=Ef*Bt.get(go,ps)+Ri*Bt.get(go,jn-1),Bt.set(go,jn-1,-Ri*Bt.get(go,ps)+Ef*Bt.get(go,jn-1)),Bt.set(go,ps,il)}break}case 3:{var Eo=Math.max(Math.abs(St[Or-1]),Math.abs(St[Or-2]),Math.abs(Yt[Or-2]),Math.abs(St[jn]),Math.abs(Yt[jn])),ls=St[Or-1]/Eo,Pu=St[Or-2]/Eo,ph=Yt[Or-2]/Eo,md=St[jn]/Eo,Ev=Yt[jn]/Eo,Lu=((Pu+ls)*(Pu-ls)+ph*ph)/2,yh=ls*ph*(ls*ph),Sf=0;(Lu!==0||yh!==0)&&(Lu<0?Sf=0-Math.sqrt(Lu*Lu+yh):Sf=Math.sqrt(Lu*Lu+yh),Sf=yh/(Lu+Sf));for(var mh=(md+ls)*(md-ls)+Sf,bd=md*Ev,oi=jn;oi<Or-1;oi++){var As=ad(mh,bd);As===0&&(As=Number.MIN_VALUE);var tu=mh/As,eu=bd/As;if(oi!==jn&&(Yt[oi-1]=As),mh=tu*St[oi]+eu*Yt[oi],Yt[oi]=tu*Yt[oi]-eu*St[oi],bd=eu*St[oi+1],St[oi+1]=tu*St[oi+1],X)for(var Cf=0;Cf<r;Cf++)As=tu*kt.get(Cf,oi)+eu*kt.get(Cf,oi+1),kt.set(Cf,oi+1,-eu*kt.get(Cf,oi)+tu*kt.get(Cf,oi+1)),kt.set(Cf,oi,As);if(As=ad(mh,bd),As===0&&(As=Number.MIN_VALUE),tu=mh/As,eu=bd/As,St[oi]=As,mh=tu*Yt[oi]+eu*St[oi+1],St[oi+1]=-eu*Yt[oi]+tu*St[oi+1],bd=eu*Yt[oi+1],Yt[oi+1]=tu*Yt[oi+1],w&&oi<e-1)for(var Mf=0;Mf<e;Mf++)As=tu*Bt.get(Mf,oi)+eu*Bt.get(Mf,oi+1),Bt.set(Mf,oi+1,-eu*Bt.get(Mf,oi)+tu*Bt.get(Mf,oi+1)),Bt.set(Mf,oi,As)}Yt[Or-2]=mh,Ta=Ta+1;break}case 4:{if(St[jn]<=0&&(St[jn]=St[jn]<0?-St[jn]:0,X))for(var hg=0;hg<=ei;hg++)kt.set(hg,jn,-kt.get(hg,jn));for(;jn<ei&&!(St[jn]>=St[jn+1]);){var Sv=St[jn];if(St[jn]=St[jn+1],St[jn+1]=Sv,X&&jn<r-1)for(var Od=0;Od<r;Od++)Sv=kt.get(Od,jn+1),kt.set(Od,jn+1,kt.get(Od,jn)),kt.set(Od,jn,Sv);if(w&&jn<e-1)for(var xd=0;xd<e;xd++)Sv=Bt.get(xd,jn+1),Bt.set(xd,jn+1,Bt.get(xd,jn)),Bt.set(xd,jn,Sv);jn++}Ta=0,Or--;break}}}if(Z){var RM=kt;kt=Bt,Bt=RM}this.m=e,this.n=r,this.s=St,this.U=Bt,this.V=kt}return Object(kn.a)(u,[{key:"solve",value:function(t){for(var e=t,r=this.threshold,a=this.s.length,l=Sa.zeros(a,a),f=0;f<a;f++)Math.abs(this.s[f])<=r?l.set(f,f,0):l.set(f,f,1/this.s[f]);for(var v=this.U,m=this.rightSingularVectors,T=m.mmul(l),w=m.rows,X=v.rows,Z=Sa.zeros(w,X),J=0;J<w;J++)for(var ht=0;ht<X;ht++){for(var mt=0,At=0;At<a;At++)mt+=T.get(J,At)*v.get(ht,At);Z.set(J,ht,mt)}return Z.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(Sa.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,r=t.rows,a=t.columns,l=new Sa(r,this.s.length),f=0;f<r;f++)for(var v=0;v<a;v++)Math.abs(this.s[v])>e&&l.set(f,v,t.get(f,v)/this.s[v]);for(var m=this.U,T=m.rows,w=m.columns,X=new Sa(r,T),Z=0;Z<r;Z++)for(var J=0;J<T;J++){for(var ht=0,mt=0;mt<w;mt++)ht+=l.get(Z,mt)*m.get(J,mt);X.set(Z,J,ht)}return X}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,a=0,l=r.length;a<l;a++)r[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Sa.diag(this.s)}}]),u}(),yb=function(){function u(n){Object(Bn.a)(this,u),this.distances=n.distances,this.dimension=n.dimension||2,this.linkDistance=n.linkDistance}return Object(kn.a)(u,[{key:"layout",value:function(){var t=this,e=t.dimension,r=t.distances,a=t.linkDistance;try{var l=Sa.mul(Sa.pow(r,2),-.5),f=l.mean("row"),v=l.mean("column"),m=l.mean();l.add(m).subRowVector(f).subColumnVector(v);var T=new op(l),w=Sa.sqrt(T.diagonalMatrix).diagonal();return T.leftSingularVectors.toJSON().map(function(mt){return Sa.mul([mt],[w]).toJSON()[0].splice(0,e)})}catch(mt){for(var X=[],Z=0;Z<r.length;Z++){var J=Math.random()*a,ht=Math.random()*a;X.push([J,ht])}return X}}}]),u}(),mb=800,bb=function(){function u(n){Object(Bn.a)(this,u),this.disp=[],this.positions=n.positions,this.adjMatrix=n.adjMatrix,this.focusID=n.focusID,this.radii=n.radii,this.iterations=n.iterations||10,this.height=n.height||10,this.width=n.width||10,this.speed=n.speed||100,this.gravity=n.gravity||10,this.nodeSizeFunc=n.nodeSizeFunc,this.k=n.k||5,this.strictRadial=n.strictRadial,this.nodes=n.nodes}return Object(kn.a)(u,[{key:"layout",value:function(){var t=this,e=t.positions,r=[],a=t.iterations,l=t.width/10;t.maxDisplace=l,t.disp=r;for(var f=0;f<a;f++)e.forEach(function(v,m){r[m]={x:0,y:0}}),t.getRepulsion(),t.updatePositions();return e}},{key:"getRepulsion",value:function(){var t=this,e=t.positions,r=t.nodes,a=t.disp,l=t.k,f=t.radii||[];e.forEach(function(v,m){a[m]={x:0,y:0},e.forEach(function(T,w){if(m!==w&&f[m]===f[w]){var X=v[0]-T[0],Z=v[1]-T[1],J=Math.sqrt(X*X+Z*Z);if(J===0){J=1;var ht=m>w?1:-1;X=.01*ht,Z=.01*ht}if(J<t.nodeSizeFunc(r[m])/2+t.nodeSizeFunc(r[w])/2){var mt=l*l/J;a[m].x+=X/J*mt,a[m].y+=Z/J*mt}}})})}},{key:"updatePositions",value:function(){var t=this,e=t.positions,r=t.disp,a=t.speed,l=t.strictRadial,f=t.focusID,v=t.maxDisplace||t.width/10;l&&r.forEach(function(T,w){var X=e[w][0]-e[f][0],Z=e[w][1]-e[f][1],J=Math.sqrt(X*X+Z*Z),ht=Z/J,mt=-X/J,At=Math.sqrt(T.x*T.x+T.y*T.y),St=Math.acos((ht*T.x+mt*T.y)/At);St>Math.PI/2&&(St-=Math.PI/2,ht*=-1,mt*=-1);var Bt=Math.cos(St)*At;T.x=ht*Bt,T.y=mt*Bt});var m=t.radii;e.forEach(function(T,w){if(w!==f){var X=Math.sqrt(r[w].x*r[w].x+r[w].y*r[w].y);if(X>0&&w!==f){var Z=Math.min(v*(a/mb),X);if(T[0]+=r[w].x/X*Z,T[1]+=r[w].y/X*Z,l){var J=T[0]-e[f][0],ht=T[1]-e[f][1],mt=Math.sqrt(J*J+ht*ht);J=J/mt*m[w],ht=ht/mt*m[w],T[0]=e[f][0]+J,T[1]=e[f][1]+ht}}}})}}]),u}();function Ob(u){for(var n=u.length,t=u[0].length,e=[],r=0;r<n;r++){for(var a=[],l=0;l<t;l++)u[r][l]!==0?a.push(1/(u[r][l]*u[r][l])):a.push(0);e.push(a)}return e}function xb(u,n){var t=-1;return u.forEach(function(e,r){e.id===n&&(t=r)}),t}function sp(u,n){return Math.sqrt((u[0]-n[0])*(u[0]-n[0])+(u[1]-n[1])*(u[1]-n[1]))}var Eb=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.focusNode=null,r.unitRadius=null,r.linkDistance=50,r.preventOverlap=!1,r.strictRadial=!0,r.maxPreventOverlapIteration=200,r.sortStrength=10,r.nodes=[],r.edges=[],r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=r.edges||[];if(!a||a.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var f=r.center;if(a.length===1){a[0].x=f[0],a[0].y=f[1],r.onLayoutEnd&&r.onLayoutEnd();return}var v=r.linkDistance,m=null;if(Qa(r.focusNode)){for(var T=!1,w=0;w<a.length;w++)a[w].id===r.focusNode&&(m=a[w],r.focusNode=m,T=!0,w=a.length);T||(m=null)}else m=r.focusNode;m||(m=a[0],r.focusNode=m);var X=xb(a,m.id);r.focusIndex=X;var Z=Zn({nodes:a,edges:l},!1),J=za(Z),ht=r.maxToFocus(J,X);r.handleInfinity(J,X,ht+1),r.distances=J;var mt=J[X],At=r.width||500,St=r.height||500,Bt=At-f[0]>f[0]?f[0]:At-f[0],kt=St-f[1]>f[1]?f[1]:St-f[1];Bt===0&&(Bt=At/2),kt===0&&(kt=St/2);var Yt=kt>Bt?Bt:kt,qt=Math.max.apply(Math,Object(yr.a)(mt)),ee=[];mt.forEach(function(Ur,Lr){r.unitRadius||(r.unitRadius=Yt/qt),ee[Lr]=Ur*r.unitRadius}),r.radii=ee;var re=r.eIdealDisMatrix();r.eIdealDistances=re;var fe=Ob(re);r.weights=fe;var le=new yb({linkDistance:v,distances:re}),Oe=le.layout();Oe.forEach(function(Ur){yi(Ur[0])&&(Ur[0]=Math.random()*v),yi(Ur[1])&&(Ur[1]=Math.random()*v)}),r.positions=Oe,Oe.forEach(function(Ur,Lr){a[Lr].x=Ur[0]+f[0],a[Lr].y=Ur[1]+f[1]}),Oe.forEach(function(Ur){Ur[0]-=Oe[X][0],Ur[1]-=Oe[X][1]}),r.run();var Te=r.preventOverlap,sr=r.nodeSize,fr,vr=r.strictRadial;if(Te){var Qr=r.nodeSpacing,Zr;Sn(Qr)?Zr=function(){return Qr}:Ae(Qr)?Zr=Qr:Zr=function(){return 0},sr?Na(sr)?fr=function(Lr){var kr=sr[0]>sr[1]?sr[0]:sr[1];return kr+Zr(Lr)}:fr=function(Lr){return sr+Zr(Lr)}:fr=function(Lr){if(Lr.size){if(Na(Lr.size)){var kr=Lr.size[0]>Lr.size[1]?Lr.size[0]:Lr.size[1];return kr+Zr(Lr)}return Lr.size+Zr(Lr)}return 10+Zr(Lr)};var Rr={nodes:a,nodeSizeFunc:fr,adjMatrix:Z,positions:Oe,radii:ee,height:St,width:At,strictRadial:vr,focusID:X,iterations:r.maxPreventOverlapIteration||200,k:Oe.length/4.5},Dr=new bb(Rr);Oe=Dr.layout()}return Oe.forEach(function(Ur,Lr){a[Lr].x=Ur[0]+f[0],a[Lr].y=Ur[1]+f[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:a,edges:l}}},{key:"run",value:function(){for(var r=this,a=r.maxIteration,l=r.positions||[],f=r.weights||[],v=r.eIdealDistances||[],m=r.radii||[],T=0;T<=a;T++){var w=T/a;r.oneIteration(w,l,m,v,f)}}},{key:"oneIteration",value:function(r,a,l,f,v){var m=this,T=1-r,w=m.focusIndex;a.forEach(function(X,Z){var J=sp(X,[0,0]),ht=J===0?0:1/J;if(Z!==w){var mt=0,At=0,St=0;a.forEach(function(kt,Yt){if(Z!==Yt){var qt=sp(X,kt),ee=qt===0?0:1/qt,re=f[Yt][Z];St+=v[Z][Yt],mt+=v[Z][Yt]*(kt[0]+re*(X[0]-kt[0])*ee),At+=v[Z][Yt]*(kt[1]+re*(X[1]-kt[1])*ee)}});var Bt=l[Z]===0?0:1/l[Z];St*=T,St+=r*Bt*Bt,mt*=T,mt+=r*Bt*X[0]*ht,X[0]=mt/St,At*=T,At+=r*Bt*X[1]*ht,X[1]=At/St}})}},{key:"eIdealDisMatrix",value:function(){var r=this,a=r.nodes;if(!a)return[];var l=r.distances,f=r.linkDistance,v=r.radii||[],m=r.unitRadius||50,T=[];return l&&l.forEach(function(w,X){var Z=[];w.forEach(function(J,ht){if(X===ht)Z.push(0);else if(v[X]===v[ht])if(r.sortBy==="data")Z.push(J*(Math.abs(X-ht)*r.sortStrength)/(v[X]/m));else if(r.sortBy){var mt=a[X][r.sortBy]||0,At=a[ht][r.sortBy]||0;Qa(mt)&&(mt=mt.charCodeAt(0)),Qa(At)&&(At=At.charCodeAt(0)),Z.push(J*(Math.abs(mt-At)*r.sortStrength)/(v[X]/m))}else Z.push(J*f/(v[X]/m));else{var St=(f+m)/2;Z.push(J*St)}}),T.push(Z)}),T}},{key:"handleInfinity",value:function(r,a,l){for(var f=r.length,v=0;v<f;v++)if(r[a][v]===Infinity){r[a][v]=l,r[v][a]=l;for(var m=0;m<f;m++)r[v][m]!==Infinity&&r[a][m]===Infinity&&(r[a][m]=l+r[v][m],r[m][a]=l+r[v][m])}for(var T=0;T<f;T++)if(T!==a){for(var w=0;w<f;w++)if(r[T][w]===Infinity){var X=Math.abs(r[a][T]-r[a][w]);X=X===0?1:X,r[T][w]=X}}}},{key:"maxToFocus",value:function(r,a){for(var l=0,f=0;f<r[a].length;f++)r[a][f]!==Infinity&&(l=r[a][f]>l?r[a][f]:l);return l}},{key:"getType",value:function(){return"radial"}}]),t}(Ka),Sb=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.nodeSize=30,r.minNodeSpacing=10,r.preventOverlap=!1,r.equidistant=!1,r.startAngle=3/2*Math.PI,r.clockwise=!0,r.sortBy="degree",r.nodes=[],r.edges=[],r.width=300,r.height=300,r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=r.edges,f=a.length;if(f===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var v=r.center;if(f===1){a[0].x=v[0],a[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var m=[],T;Na(r.nodeSize)?T=Math.max(r.nodeSize[0],r.nodeSize[1]):T=r.nodeSize,a.forEach(function(le){m.push(le);var Oe=T;Na(le.size)?Oe=Math.max(le.size[0],le.size[1]):Sn(le.size)&&(Oe=le.size),T=Math.max(T,Oe)}),r.clockwise=r.counterclockwise!==void 0?!r.counterclockwise:r.clockwise;var w={},X={};if(m.forEach(function(le,Oe){w[le.id]=le,X[le.id]=Oe}),(r.sortBy==="degree"||!Qa(r.sortBy)||m[0][r.sortBy]===void 0)&&(r.sortBy="degree",!Sn(a[0].degree))){var Z=ni(a.length,X,l);m.forEach(function(le,Oe){le.degree=Z[Oe]})}m.sort(function(le,Oe){return Oe[r.sortBy]-le[r.sortBy]}),r.maxValueNode=m[0],r.maxLevelDiff=r.maxLevelDiff||r.maxValueNode[r.sortBy]/4;var J=[[]],ht=J[0];m.forEach(function(le){if(ht.length>0){var Oe=Math.abs(ht[0][r.sortBy]-le[r.sortBy]);r.maxLevelDiff&&Oe>=r.maxLevelDiff&&(ht=[],J.push(ht))}ht.push(le)});var mt=T+r.minNodeSpacing;if(!r.preventOverlap){var At=J.length>0&&J[0].length>1,St=Math.min(r.width,r.height)/2-mt,Bt=St/(J.length+(At?1:0));mt=Math.min(mt,Bt)}var kt=0;if(J.forEach(function(le){var Oe=r.sweep;Oe===void 0&&(Oe=2*Math.PI-2*Math.PI/le.length);var Te=le.dTheta=Oe/Math.max(1,le.length-1);if(le.length>1&&r.preventOverlap){var sr=Math.cos(Te)-Math.cos(0),fr=Math.sin(Te)-Math.sin(0),vr=Math.sqrt(mt*mt/(sr*sr+fr*fr));kt=Math.max(vr,kt)}le.r=kt,kt+=mt}),r.equidistant){for(var Yt=0,qt=0,ee=0;ee<J.length;ee++){var re=J[ee],fe=re.r-qt;Yt=Math.max(Yt,fe)}qt=0,J.forEach(function(le,Oe){Oe===0&&(qt=le.r),le.r=qt,qt+=Yt})}return J.forEach(function(le){var Oe=le.dTheta,Te=le.r;le.forEach(function(sr,fr){var vr=r.startAngle+(r.clockwise?1:-1)*Oe*fr;sr.x=v[0]+Te*Math.cos(vr),sr.y=v[1]+Te*Math.sin(vr)})}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:a,edges:l}}},{key:"getType",value:function(){return"concentric"}}]),t}(Ka),Cb=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.center=[0,0],r.linkDistance=50,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=r.edges,f=l===void 0?[]:l,v=r.center;if(!a||a.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(a.length===1){a[0].x=v[0],a[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var m=r.linkDistance,T=Zn({nodes:a,edges:f},!1),w=za(T);r.handleInfinity(w);var X=ya(w,m);r.scaledDistances=X;var Z=r.runMDS();return r.positions=Z,Z.forEach(function(J,ht){a[ht].x=J[0]+v[0],a[ht].y=J[1]+v[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:a,edges:f}}},{key:"runMDS",value:function(){var r=this,a=2,l=r.scaledDistances,f=Sa.mul(Sa.pow(l,2),-.5),v=f.mean("row"),m=f.mean("column"),T=f.mean();f.add(T).subRowVector(v).subColumnVector(m);var w=new op(f),X=Sa.sqrt(w.diagonalMatrix).diagonal();return w.leftSingularVectors.toJSON().map(function(Z){return Sa.mul([Z],[X]).toJSON()[0].splice(0,a)})}},{key:"handleInfinity",value:function(r){var a=-999999;r.forEach(function(l){l.forEach(function(f){f!==Infinity&&a<f&&(a=f)})}),r.forEach(function(l,f){l.forEach(function(v,m){v===Infinity&&(r[f][m]=a)})})}},{key:"getType",value:function(){return"mds"}}]),t}(Ka),Mb=800,Tb=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=1,r.clustering=!1,r.clusterGravity=10,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var r=this,a=this,l=a.nodes;if(!l||l.length===0){a.onLayoutEnd&&a.onLayoutEnd();return}!a.width&&typeof window!="undefined"&&(a.width=window.innerWidth),!a.height&&typeof window!="undefined"&&(a.height=window.innerHeight),a.center||(a.center=[a.width/2,a.height/2]);var f=a.center;if(l.length===1){l[0].x=f[0],l[0].y=f[1],a.onLayoutEnd&&a.onLayoutEnd();return}var v={},m={};return l.forEach(function(T,w){Sn(T.x)||(T.x=Math.random()*r.width),Sn(T.y)||(T.y=Math.random()*r.height),v[T.id]=T,m[T.id]=w}),a.nodeMap=v,a.nodeIdxMap=m,a.run()}},{key:"run",value:function(){var r=this,a=r.nodes,l=r.edges,f=r.maxIteration,v=r.center,m=r.height*r.width,T=Math.sqrt(m)/10,w=m/(a.length+1),X=Math.sqrt(w),Z=r.gravity,J=r.speed,ht=r.clustering,mt={};if(ht){a.forEach(function(kt){if(mt[kt.cluster]===void 0){var Yt={name:kt.cluster,cx:0,cy:0,count:0};mt[kt.cluster]=Yt}var qt=mt[kt.cluster];Sn(kt.x)&&(qt.cx+=kt.x),Sn(kt.y)&&(qt.cy+=kt.y),qt.count++});for(var At in mt)mt[At].cx/=mt[At].count,mt[At].cy/=mt[At].count}for(var St=function(Yt){var qt=[];if(a.forEach(function(le,Oe){qt[Oe]={x:0,y:0}}),r.applyCalculate(a,l,qt,X,w),ht){var ee=r.clusterGravity||Z;a.forEach(function(le,Oe){if(!(!Sn(le.x)||!Sn(le.y))){var Te=mt[le.cluster],sr=Math.sqrt((le.x-Te.cx)*(le.x-Te.cx)+(le.y-Te.cy)*(le.y-Te.cy)),fr=X*ee;qt[Oe].x-=fr*(le.x-Te.cx)/sr,qt[Oe].y-=fr*(le.y-Te.cy)/sr}});for(var re in mt)mt[re].cx=0,mt[re].cy=0,mt[re].count=0;a.forEach(function(le){var Oe=mt[le.cluster];Sn(le.x)&&(Oe.cx+=le.x),Sn(le.y)&&(Oe.cy+=le.y),Oe.count++});for(var fe in mt)mt[fe].cx/=mt[fe].count,mt[fe].cy/=mt[fe].count}a.forEach(function(le,Oe){if(!(!Sn(le.x)||!Sn(le.y))){var Te=.01*X*Z;qt[Oe].x-=Te*(le.x-v[0]),qt[Oe].y-=Te*(le.y-v[1])}}),a.forEach(function(le,Oe){if(!(!Sn(le.x)||!Sn(le.y))){var Te=Math.sqrt(qt[Oe].x*qt[Oe].x+qt[Oe].y*qt[Oe].y);if(Te>0){var sr=Math.min(T*(J/Mb),Te);le.x+=qt[Oe].x/Te*sr,le.y+=qt[Oe].y/Te*sr}}})},Bt=0;Bt<f;Bt++)St(Bt);return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:a,edges:l}}},{key:"applyCalculate",value:function(r,a,l,f,v){var m=this;m.calRepulsive(r,l,v),m.calAttractive(a,l,f)}},{key:"calRepulsive",value:function(r,a,l){r.forEach(function(f,v){a[v]={x:0,y:0},r.forEach(function(m,T){if(v!==T&&!(!Sn(f.x)||!Sn(m.x)||!Sn(f.y)||!Sn(m.y))){var w=f.x-m.x,X=f.y-m.y,Z=w*w+X*X;if(Z===0){Z=1;var J=v>T?1:-1;w=.01*J,X=.01*J}var ht=l/Z;a[v].x+=w*ht,a[v].y+=X*ht}})})}},{key:"calAttractive",value:function(r,a,l){var f=this;r.forEach(function(v){if(!(!v.source||!v.target)){var m=f.nodeIdxMap[v.source],T=f.nodeIdxMap[v.target];if(m!==T){var w=f.nodeMap[v.source],X=f.nodeMap[v.target];if(!(!Sn(X.x)||!Sn(w.x)||!Sn(X.y)||!Sn(w.y))){var Z=X.x-w.x,J=X.y-w.y,ht=Math.sqrt(Z*Z+J*J),mt=ht*ht/l;a[T].x-=Z/ht*mt,a[T].y-=J/ht*mt,a[m].x+=Z/ht*mt,a[m].y+=J/ht*mt}}}})}},{key:"getType",value:function(){return"fruchterman"}}]),t}(Ka),Ab=i("4Wd/"),fa=i.n(Ab),Ib=i("S5Um"),Bi=i.n(Ib),Db=i("qJ52"),qa=i.n(Db),Pb=i("25gg"),ti=i.n(Pb),Lb=i("VwUA"),Ni=i.n(Lb),wM=i("0iMn"),Ie=i("2Pg9"),ga=i("YcyD");function Ig(u){return typeof u=="number"}function oc(u){return u===void 0?0:u>360||u<-360?u%360:u}function ch(u,n,t){return Ig(u)?pr.e.fromValues(u,n,t):u.length===3?pr.e.clone(u):pr.e.fromValues(u[0],u[1],u[2])}var lp=function(){function u(n,t){qa()(this,u),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=n,this.matrix=pr.b.clone(t.matrix),this.right=pr.e.clone(t.right),this.up=pr.e.clone(t.up),this.forward=pr.e.clone(t.forward),this.position=pr.e.clone(t.position),this.focalPoint=pr.e.clone(t.focalPoint),this.distanceVector=pr.e.clone(t.distanceVector),this.azimuth=t.azimuth,this.elevation=t.elevation,this.roll=t.roll,this.relAzimuth=t.relAzimuth,this.relElevation=t.relElevation,this.relRoll=t.relRoll,this.dollyingStep=t.dollyingStep,this.distance=t.distance}return ti()(u,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=pr.b.copy(t.matrix,this.matrix),t.right=pr.e.copy(t.right,this.right),t.up=pr.e.copy(t.up,this.up),t.forward=pr.e.copy(t.forward,this.forward),t.position=pr.e.copy(t.position,this.position),t.focalPoint=pr.e.copy(t.focalPoint,this.focalPoint),t.distanceVector=pr.e.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),u}(),up,cp,fp,Dg,hp,dp,vp,Si;(function(u){u.ORBITING="ORBITING",u.EXPLORING="EXPLORING",u.TRACKING="TRACKING"})(Si||(Si={}));var Wv;(function(u){u.DEFAULT="DEFAULT",u.ROTATIONAL="ROTATIONAL",u.TRANSLATIONAL="TRANSLATIONAL",u.CINEMATIC="CINEMATIC"})(Wv||(Wv={}));var fh;(function(u){u.ORTHOGRAPHIC="ORTHOGRAPHIC",u.PERSPECTIVE="PERSPECTIVE"})(fh||(fh={}));var sc=Math.PI/180,vf=180/Math.PI,gp=(up=Object(ga.injectable)(),cp=Object(ga.inject)(Ie.IDENTIFIER.InteractorService),up(fp=(Dg=(vp=dp=function(){function u(){qa()(this,u),this.matrix=pr.b.create(),this.right=pr.e.fromValues(1,0,0),this.up=pr.e.fromValues(0,1,0),this.forward=pr.e.fromValues(0,0,1),this.position=pr.e.fromValues(0,0,1),this.focalPoint=pr.e.fromValues(0,0,0),this.distanceVector=pr.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=Infinity,this.minDistance=-Infinity,this.rotateWorld=!1,Bi()(this,"interactor",hp,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=pr.b.create(),this.view=void 0,this.following=void 0,this.type=Si.EXPLORING,this.trackingMode=Wv.DEFAULT,this.projectionMode=fh.PERSPECTIVE,this.frustum=new Ie.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return ti()(u,[{key:"clone",value:function(){var t=new u;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===Si.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Si.TRACKING&&e!==void 0&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==Si.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return pr.b.invert(pr.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,r,a,l,f){return this.aspect=t/e,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=a,this.view.width=l,this.view.height=f,this.projectionMode===fh.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===fh.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,r,a){return this.projectionMode=fh.PERSPECTIVE,this.fov=r,this.near=t,this.far=e,this.aspect=a,pr.b.perspective(this.perspective,this.fov*sc,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,r,a,l,f){this.projectionMode=fh.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=r,this.bottom=a,this.near=l,this.far=f;var v=(this.rright-this.left)/(2*this.zoom),m=(this.top-this.bottom)/(2*this.zoom),T=(this.rright+this.left)/2,w=(this.top+this.bottom)/2,X=T-v,Z=T+v,J=w+m,ht=w-m;if(this.view!==void 0&&this.view.enabled){var mt=(this.rright-this.left)/this.view.fullWidth/this.zoom,At=(this.top-this.bottom)/this.view.fullHeight/this.zoom;X+=mt*this.view.offsetX,Z=X+mt*this.view.width,J-=At*this.view.offsetY,ht=J-At*this.view.height}return pr.b.ortho(this.perspective,X,Z,J,ht,l,f),this}},{key:"setPosition",value:function(t,e,r){return this._setPosition(t,e,r),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,r){var a=pr.e.fromValues(0,1,0);if(this.focalPoint=ch(t,e,r),this.trackingMode===Wv.CINEMATIC){var l=pr.e.subtract(pr.e.create(),this.focalPoint,this.position);t=l[0],e=l[1],r=l[2];var f=pr.e.length(l),v=Math.asin(e/f)*vf,m=90+Math.atan2(r,t)*vf,T=pr.b.create();pr.b.rotateY(T,T,m*sc),pr.b.rotateX(T,T,v*sc),a=pr.e.transformMat4(pr.e.create(),[0,1,0],T)}return pr.b.invert(this.matrix,pr.b.lookAt(pr.b.create(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var e=pr.e.create();t=this.distance;var r=this.forward,a=this.focalPoint;return e[0]=t*r[0]+a[0],e[1]=t*r[1]+a[1],e[2]=t*r[2]+a[2],this._setPosition(e),this}}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=oc(t),this.computeMatrix(),this._getAxes(),this.type===Si.ORBITING||this.type===Si.EXPLORING?this._getPosition():this.type===Si.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=oc(t),this.computeMatrix(),this._getAxes(),this.type===Si.ORBITING||this.type===Si.EXPLORING?this._getPosition():this.type===Si.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=oc(t),this.computeMatrix(),this._getAxes(),this.type===Si.ORBITING||this.type===Si.EXPLORING?this._getPosition():this.type===Si.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,r){if(this.type===Si.EXPLORING){t=oc(t),e=oc(e),r=oc(r);var a=pr.c.setAxisAngle(pr.c.create(),[1,0,0],(this.rotateWorld?1:-1)*e*sc),l=pr.c.setAxisAngle(pr.c.create(),[0,1,0],(this.rotateWorld?1:-1)*t*sc),f=pr.c.setAxisAngle(pr.c.create(),[0,0,1],r*sc),v=pr.c.multiply(pr.c.create(),l,a);v=pr.c.multiply(pr.c.create(),v,f);var m=pr.b.fromQuat(pr.b.create(),v);pr.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),pr.b.multiply(this.matrix,this.matrix,m),pr.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+e)>90)return;this.relElevation=oc(e),this.relAzimuth=oc(t),this.relRoll=oc(r),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Si.ORBITING||this.type===Si.EXPLORING?this._getPosition():this.type===Si.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var r=ch(t,e,0),a=pr.e.clone(this.position);return pr.e.add(a,a,pr.e.scale(pr.e.create(),this.right,r[0])),pr.e.add(a,a,pr.e.scale(pr.e.create(),this.up,r[1])),this._setPosition(a),this}},{key:"dolly",value:function(t){var e=this.forward,r=pr.e.clone(this.position),a=t*this.dollyingStep,l=this.distance+t*this.dollyingStep;return a=Math.max(Math.min(l,this.maxDistance),this.minDistance)-this.distance,r[0]+=a*e[0],r[1]+=a*e[1],r[2]+=a*e[2],this._setPosition(r),this.type===Si.ORBITING||this.type===Si.EXPLORING?this._getDistance():this.type===Si.TRACKING&&pr.e.add(this.focalPoint,r,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var r=this.clone();r.setPosition(e.position),r.setFocalPoint(e.focalPoint),e.roll!==void 0&&r.setRoll(e.roll);var a=new lp(t,r);return this.landmarks.push(a),a}},{key:"setLandmark",value:function(t){var e=new lp(t,this);return this.landmarks.push(e),this}},{key:"gotoLandmark",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,a=this.landmarks.find(function(w){return w.name===t});if(a){if(r===0){a.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var l=a.getPosition(),f=a.getFocalPoint(),v=a.getRoll(),m,T=function w(X){m===void 0&&(m=X);var Z=X-m,J=(1-Math.cos(Z/r*Math.PI))/2,ht=pr.e.create(),mt=pr.e.create(),At=0;pr.e.lerp(ht,e.focalPoint,f,J),pr.e.lerp(mt,e.position,l,J),At=e.roll*(1-J)+v*J,e.setFocalPoint(ht),e.setPosition(mt),e.setRoll(At),e.computeMatrix();var St=pr.e.dist(ht,f)+pr.e.dist(mt,l);if(!(St>.01)){e.setFocalPoint(ht),e.setPosition(mt),e.setRoll(At),e.computeMatrix(),e.interactor.connect();return}Z<r&&(e.landmarkAnimationID=window.requestAnimationFrame(w))};window.requestAnimationFrame(T)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,e,r=pr.c.setAxisAngle(pr.c.create(),[0,0,1],this.roll*sc);pr.b.identity(this.matrix),t=pr.c.setAxisAngle(pr.c.create(),[1,0,0],(this.rotateWorld&&this.type!==Si.TRACKING||this.type===Si.TRACKING?1:-1)*this.elevation*sc),e=pr.c.setAxisAngle(pr.c.create(),[0,1,0],(this.rotateWorld&&this.type!==Si.TRACKING||this.type===Si.TRACKING?1:-1)*this.azimuth*sc);var a=pr.c.multiply(pr.c.create(),e,t);a=pr.c.multiply(pr.c.create(),a,r);var l=pr.b.fromQuat(pr.b.create(),a);this.type===Si.ORBITING||this.type===Si.EXPLORING?(pr.b.translate(this.matrix,this.matrix,this.focalPoint),pr.b.multiply(this.matrix,this.matrix,l),pr.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Si.TRACKING&&(pr.b.translate(this.matrix,this.matrix,this.position),pr.b.multiply(this.matrix,this.matrix,l))}},{key:"_setPosition",value:function(t,e,r){this.position=ch(t,e,r);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1}},{key:"_getAxes",value:function(){pr.e.copy(this.right,ch(pr.f.transformMat4(pr.f.create(),[1,0,0,0],this.matrix))),pr.e.copy(this.up,ch(pr.f.transformMat4(pr.f.create(),[0,1,0,0],this.matrix))),pr.e.copy(this.forward,ch(pr.f.transformMat4(pr.f.create(),[0,0,1,0],this.matrix))),pr.e.normalize(this.right,this.right),pr.e.normalize(this.up,this.up),pr.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],r=this.distanceVector[2],a=pr.e.length(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===Si.TRACKING?(this.elevation=Math.asin(e/a)*vf,this.azimuth=Math.atan2(-t,-r)*vf):this.rotateWorld?(this.elevation=Math.asin(e/a)*vf,this.azimuth=Math.atan2(-t,-r)*vf):(this.elevation=-Math.asin(e/a)*vf,this.azimuth=-Math.atan2(-t,-r)*vf)}},{key:"_getPosition",value:function(){pr.e.copy(this.position,ch(pr.f.transformMat4(pr.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){pr.e.transformMat3(this.distanceVector,[0,0,-this.distance],pr.a.fromMat4(pr.a.create(),this.matrix)),pr.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=pr.e.subtract(pr.e.create(),this.focalPoint,this.position),this.distance=pr.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),u}(),dp.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},vp),hp=Ni()(Dg.prototype,"interactor",[cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dg))||fp),pp,yp,mp,Pg,bp,tv,Op,gf=(pp=Object(ga.injectable)(),yp=Object(ga.inject)(Ie.IDENTIFIER.GeometryComponentManager),pp(mp=(Pg=(Op=tv=function(){function u(){qa()(this,u),this.config=void 0,Bi()(this,"geometry",bp,this),this.entity=void 0,this.component=void 0}return ti()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.component=this.geometry.create(t),this.component.entity=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),u}(),tv.BOX="box",tv.SPHERE="sphere",tv.PLANE="plane",tv.MERGED="merged",Op),bp=Ni()(Pg.prototype,"geometry",[yp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pg))||mp),jb=i("t7U3"),fo=i.n(jb),Rb=i("X0zg"),zr=i.n(Rb),xn=i("weX+");function xp(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var wb={}.toString,Bb=function(n,t){return wb.call(n)==="[object "+t+"]"},Nb=Bb,Fb=function(u){return Array.isArray?Array.isArray(u):Nb(u,"Array")},Gb=i("LcyE"),ev=i.n(Gb),Ub=9007199254740991,Wb="[object Arguments]",zb="[object Array]",kb="[object Boolean]",Vb="[object Date]",Xb="[object Error]",Hb="[object Function]",Kb="[object Map]",Yb="[object Number]",Zb="[object Object]",$b="[object RegExp]",Qb="[object Set]",Jb="[object String]",_b="[object WeakMap]",qb="[object ArrayBuffer]",tO="[object DataView]",eO="[object Float32Array]",rO="[object Float64Array]",nO="[object Int8Array]",aO="[object Int16Array]",iO="[object Int32Array]",oO="[object Uint8Array]",sO="[object Uint8ClampedArray]",lO="[object Uint16Array]",uO="[object Uint32Array]",Zi={};Zi[eO]=Zi[rO]=Zi[nO]=Zi[aO]=Zi[iO]=Zi[oO]=Zi[sO]=Zi[lO]=Zi[uO]=!0,Zi[Wb]=Zi[zb]=Zi[qb]=Zi[kb]=Zi[tO]=Zi[Vb]=Zi[Xb]=Zi[Hb]=Zi[Kb]=Zi[Yb]=Zi[Zb]=Zi[$b]=Zi[Qb]=Zi[Jb]=Zi[_b]=!1;function BM(u){return function(n){return u(n)}}var cO=Object.prototype,fO=cO.toString;function hO(u){return vO(u)&&dO(u.length)&&!!Zi[fO.call(u)]}function dO(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Ub}function vO(u){return!!u&&ev()(u)==="object"}var Ep=hO,Sp,Cp,Mp,Tp,zv,Ap,Ip,Dp;function Pp(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function Lp(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Pp(Object(t),!0).forEach(function(e){zr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):Pp(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var jp=(Sp=Object(ga.injectable)(),Cp=Object(ga.inject)(Ie.IDENTIFIER.RenderEngine),Mp=Object(ga.inject)(Ie.IDENTIFIER.ConfigService),Sp(Tp=(zv=(Dp=function(){function u(){qa()(this,u),Bi()(this,"engine",Ap,this),Bi()(this,"configService",Ip,this),this.entity=Object(Ie.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return ti()(u,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,r=t.engineOptions;this.initPromise=this.engine.init(Lp({canvas:e||xp(),swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1},r))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var r=this;if(typeof t=="string"){var a=Ig(e)||Ep(e)||Fb(e);if(this.compiledBundle&&this.compiledBundle.context){var l=this.compiledBundle.context.defines.find(function(v){return v.name===t});if(l)return l.value=e,this;var f=this.compiledBundle.context.uniforms.find(function(v){return v.name===t});f&&(a?(f.data=e,f.isReferer=!1,f.storageClass===Ie.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(f.isReferer=!0,f.data=e))}}else Object.keys(t).forEach(function(v){r.setBinding(v,t[v])});return this}},{key:"execute",value:function(){var n=fo()(fa.a.mark(function e(){var r=this,a,l,f=arguments;return fa.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a=f.length>0&&f[0]!==void 0?f[0]:1,!this.dirty){m.next=6;break}return this.compiledBundle.context&&(a>1?this.compiledBundle.context.maxIteration=a:this.compiledBundle.context.maxIteration++),m.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(T){var w=T.isReferer;return w}).forEach(function(T){var w=T.data,X=T.name;r.model.confirmInput(w.model,X)}),l=0;l<a;l++)this.model.run();return this.engine.endFrame(),m.abrupt("return",this);case 12:case"end":return m.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getOutput",value:function(){var n=fo()(fa.a.mark(function e(){return fa.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.model.readData());case 1:case"end":return a.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"compile",value:function(){var n=fo()(fa.a.mark(function e(){var r,a,l;return fa.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.initPromise;case 2:return r=Lp({},this.compiledBundle.context),a=this.engine.supportWebGPU?this.engine.useWGSL?Ie.Target.WGSL:Ie.Target.GLSL450:Ie.Target.GLSL100,l=this.compiledBundle.shaders[a],r.defines.filter(function(m){return m.runtime}).forEach(function(m){var T="".concat(Ie.DefineValuePlaceholder).concat(m.name);l=l.replace(T,"".concat(m.value))}),r.shader=l,r.uniforms.forEach(function(m){if(!m.data&&m.storageClass===Ie.STORAGE_CLASS.StorageBuffer){var T=1;m.type===Ie.AST_TOKEN_TYPES.FloatArray?T=1:m.type===Ie.AST_TOKEN_TYPES.Vector4FloatArray&&(T=4),m.data=new Float32Array(r.output.length*T).fill(0)}}),this.compiledBundle.context=r,v.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=v.sent;case 12:case"end":return v.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),u}(),Dp),Ap=Ni()(zv.prototype,"engine",[Cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=Ni()(zv.prototype,"configService",[Mp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zv))||Tp),Rp,wp,Bp,Lg,Np,Fp,Gp,Up=(Rp=Object(ga.injectable)(),wp=Object(ga.inject)(Ie.IDENTIFIER.MaterialComponentManager),Rp(Bp=(Lg=(Gp=Fp=function(){function u(){qa()(this,u),this.config=void 0,Bi()(this,"material",Np,this),this.entity=void 0,this.component=void 0}return ti()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t,e){this.entity=t,this.component=this.material.create(t),this.component.entity=t,this.component.type=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),u}(),Fp.BASIC="basic",Gp),Np=Ni()(Lg.prototype,"material",[wp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lg))||Bp),Wp,zp,kp,Vp,Xp,Hp,Kp,id,Yp,Zp,$p,Qp,kv,Jp,pf=(Wp=Object(ga.injectable)(),zp=Object(ga.inject)(Ie.IDENTIFIER.MeshComponentManager),kp=Object(ga.inject)(Ie.IDENTIFIER.CullableComponentManager),Vp=Object(ga.inject)(Ie.IDENTIFIER.TransformComponentManager),Xp=Object(ga.inject)(Ie.IDENTIFIER.Systems),Hp=Object(ga.named)(Ie.IDENTIFIER.SceneGraphSystem),Wp(Kp=(id=(Jp=kv=function(){function u(){qa()(this,u),this.attributes={},this.config=void 0,Bi()(this,"mesh",Yp,this),Bi()(this,"cullable",Zp,this),Bi()(this,"transform",$p,this),Bi()(this,"sceneGraphSystem",Qp,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return ti()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var e=this;Object.keys(t).forEach(function(r){t[r]!==void 0&&t[r]!==e.attributes[r]&&(e.onAttributeChanged({name:r,data:t[r]}),e.attributes[r]=t[r])})}},{key:"setVisible",value:function(t){var e=this;return this.meshComponent.visible=t,this.meshComponent.children.forEach(function(r){var a=e.mesh.getComponentByEntity(r);a&&(a.visible=t)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,r=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),r)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),u}(),kv.POINT="point",kv.LINE="line",kv.GRID="grid",Jp),Yp=Ni()(id.prototype,"mesh",[zp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zp=Ni()(id.prototype,"cullable",[kp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=Ni()(id.prototype,"transform",[Vp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=Ni()(id.prototype,"sceneGraphSystem",[Xp,Hp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),id))||Kp),gO=i("T0ZP"),pO=i.n(gO),yO=function(){function u(n,t){qa()(this,u),this.attribute=void 0,this.buffer=void 0;var e=t.buffer,r=t.offset,a=t.stride,l=t.normalized,f=t.size,v=t.divisor;this.buffer=e,this.attribute={buffer:e.get(),offset:r||0,stride:a||0,normalized:l||!1,divisor:v||0},f&&(this.attribute.size=f)}return ti()(u,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),lc,rv,uc,Al,nv,yf,av,Vv,Eu,hh,ns,Su,Cu,Xv,mO=(lc={},zr()(lc,Ie.gl.POINTS,"points"),zr()(lc,Ie.gl.LINES,"lines"),zr()(lc,Ie.gl.LINE_LOOP,"line loop"),zr()(lc,Ie.gl.LINE_STRIP,"line strip"),zr()(lc,Ie.gl.TRIANGLES,"triangles"),zr()(lc,Ie.gl.TRIANGLE_FAN,"triangle fan"),zr()(lc,Ie.gl.TRIANGLE_STRIP,"triangle strip"),lc),_p=(rv={},zr()(rv,Ie.gl.STATIC_DRAW,"static"),zr()(rv,Ie.gl.DYNAMIC_DRAW,"dynamic"),zr()(rv,Ie.gl.STREAM_DRAW,"stream"),rv),jg=(uc={},zr()(uc,Ie.gl.BYTE,"int8"),zr()(uc,Ie.gl.UNSIGNED_INT,"int16"),zr()(uc,Ie.gl.INT,"int32"),zr()(uc,Ie.gl.UNSIGNED_BYTE,"uint8"),zr()(uc,Ie.gl.UNSIGNED_SHORT,"uint16"),zr()(uc,Ie.gl.UNSIGNED_INT,"uint32"),zr()(uc,Ie.gl.FLOAT,"float"),uc),bO=(Al={},zr()(Al,Ie.gl.ALPHA,"alpha"),zr()(Al,Ie.gl.LUMINANCE,"luminance"),zr()(Al,Ie.gl.LUMINANCE_ALPHA,"luminance alpha"),zr()(Al,Ie.gl.RGB,"rgb"),zr()(Al,Ie.gl.RGBA,"rgba"),zr()(Al,Ie.gl.RGBA4,"rgba4"),zr()(Al,Ie.gl.RGB5_A1,"rgb5 a1"),zr()(Al,Ie.gl.RGB565,"rgb565"),zr()(Al,Ie.gl.DEPTH_COMPONENT,"depth"),zr()(Al,Ie.gl.DEPTH_STENCIL,"depth stencil"),Al),OO=(nv={},zr()(nv,Ie.gl.DONT_CARE,"dont care"),zr()(nv,Ie.gl.NICEST,"nice"),zr()(nv,Ie.gl.FASTEST,"fast"),nv),qp=(yf={},zr()(yf,Ie.gl.NEAREST,"nearest"),zr()(yf,Ie.gl.LINEAR,"linear"),zr()(yf,Ie.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),zr()(yf,Ie.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),zr()(yf,Ie.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),zr()(yf,Ie.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),yf),ty=(av={},zr()(av,Ie.gl.REPEAT,"repeat"),zr()(av,Ie.gl.CLAMP_TO_EDGE,"clamp"),zr()(av,Ie.gl.MIRRORED_REPEAT,"mirror"),av),xO=(Vv={},zr()(Vv,Ie.gl.NONE,"none"),zr()(Vv,Ie.gl.BROWSER_DEFAULT_WEBGL,"browser"),Vv),EO=(Eu={},zr()(Eu,Ie.gl.NEVER,"never"),zr()(Eu,Ie.gl.ALWAYS,"always"),zr()(Eu,Ie.gl.LESS,"less"),zr()(Eu,Ie.gl.LEQUAL,"lequal"),zr()(Eu,Ie.gl.GREATER,"greater"),zr()(Eu,Ie.gl.GEQUAL,"gequal"),zr()(Eu,Ie.gl.EQUAL,"equal"),zr()(Eu,Ie.gl.NOTEQUAL,"notequal"),Eu),ey=(hh={},zr()(hh,Ie.gl.FUNC_ADD,"add"),zr()(hh,Ie.gl.MIN_EXT,"min"),zr()(hh,Ie.gl.MAX_EXT,"max"),zr()(hh,Ie.gl.FUNC_SUBTRACT,"subtract"),zr()(hh,Ie.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),hh),Hv=(ns={},zr()(ns,Ie.gl.ZERO,"zero"),zr()(ns,Ie.gl.ONE,"one"),zr()(ns,Ie.gl.SRC_COLOR,"src color"),zr()(ns,Ie.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),zr()(ns,Ie.gl.SRC_ALPHA,"src alpha"),zr()(ns,Ie.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),zr()(ns,Ie.gl.DST_COLOR,"dst color"),zr()(ns,Ie.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),zr()(ns,Ie.gl.DST_ALPHA,"dst alpha"),zr()(ns,Ie.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),zr()(ns,Ie.gl.CONSTANT_COLOR,"constant color"),zr()(ns,Ie.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),zr()(ns,Ie.gl.CONSTANT_ALPHA,"constant alpha"),zr()(ns,Ie.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),zr()(ns,Ie.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),ns),SO=(Su={},zr()(Su,Ie.gl.NEVER,"never"),zr()(Su,Ie.gl.ALWAYS,"always"),zr()(Su,Ie.gl.LESS,"less"),zr()(Su,Ie.gl.LEQUAL,"lequal"),zr()(Su,Ie.gl.GREATER,"greater"),zr()(Su,Ie.gl.GEQUAL,"gequal"),zr()(Su,Ie.gl.EQUAL,"equal"),zr()(Su,Ie.gl.NOTEQUAL,"notequal"),Su),od=(Cu={},zr()(Cu,Ie.gl.ZERO,"zero"),zr()(Cu,Ie.gl.KEEP,"keep"),zr()(Cu,Ie.gl.REPLACE,"replace"),zr()(Cu,Ie.gl.INVERT,"invert"),zr()(Cu,Ie.gl.INCR,"increment"),zr()(Cu,Ie.gl.DECR,"decrement"),zr()(Cu,Ie.gl.INCR_WRAP,"increment wrap"),zr()(Cu,Ie.gl.DECR_WRAP,"decrement wrap"),Cu),CO=(Xv={},zr()(Xv,Ie.gl.FRONT,"front"),zr()(Xv,Ie.gl.BACK,"back"),Xv),MO=function(){function u(n,t){qa()(this,u),this.buffer=void 0;var e=t.data,r=t.usage,a=t.type;this.buffer=n.buffer({data:e,usage:_p[r||Ie.gl.STATIC_DRAW],type:jg[a||Ie.gl.UNSIGNED_BYTE]})}return ti()(u,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.buffer.subdata(e,r)}}]),u}(),TO=i("7v5s"),xo=i.n(TO),AO=9007199254740991,IO="[object Arguments]",DO="[object Array]",PO="[object Boolean]",LO="[object Date]",jO="[object Error]",RO="[object Function]",wO="[object Map]",BO="[object Number]",NO="[object Object]",FO="[object RegExp]",GO="[object Set]",UO="[object String]",WO="[object WeakMap]",zO="[object ArrayBuffer]",kO="[object DataView]",VO="[object Float32Array]",XO="[object Float64Array]",HO="[object Int8Array]",KO="[object Int16Array]",YO="[object Int32Array]",ZO="[object Uint8Array]",$O="[object Uint8ClampedArray]",QO="[object Uint16Array]",JO="[object Uint32Array]",$i={};$i[VO]=$i[XO]=$i[HO]=$i[KO]=$i[YO]=$i[ZO]=$i[$O]=$i[QO]=$i[JO]=!0,$i[IO]=$i[DO]=$i[zO]=$i[PO]=$i[kO]=$i[LO]=$i[jO]=$i[RO]=$i[wO]=$i[BO]=$i[NO]=$i[FO]=$i[GO]=$i[UO]=$i[WO]=!1;function NM(u){return function(n){return u(n)}}var _O=Object.prototype,qO=_O.toString;function tx(u){return rx(u)&&ex(u.length)&&!!$i[qO.call(u)]}function ex(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=AO}function rx(u){return!!u&&ev()(u)==="object"}var Rg=tx;function ry(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function ny(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ry(Object(t),!0).forEach(function(e){zr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):ry(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var nx=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,ay=0,Kv=!1,ax=function(){function u(n,t){var e=this;qa()(this,u),this.reGl=n,this.context=t,this.entity=Object(Ie.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var r={};this.context.uniforms.forEach(function(m){var T=m.name,w=m.type,X=m.data,Z=m.isReferer,J=m.storageClass;if(J===Ie.STORAGE_CLASS.StorageBuffer){if(Z)e.textureCache[T]={data:void 0},r["".concat(T,"Size")]=function(){return X.compiledBundle.context.output.textureSize};else{e.textureCache[T]=e.calcDataTexture(T,w,X);var ht=e.textureCache[T],mt=ht.textureWidth,At=ht.isOutput;r["".concat(T,"Size")]=[mt,mt],At&&(e.outputTextureName=T,e.context.needPingpong&&(e.outputTextureName="".concat(T,"Output"),e.textureCache[e.outputTextureName]=e.calcDataTexture(T,w,X)))}r[T]=function(){return Kv&&console.log("[".concat(e.entity,"]: ").concat(T," ").concat(e.textureCache[T].id)),e.textureCache[T].texture}}else if(J===Ie.STORAGE_CLASS.Uniform){if(X&&(Array.isArray(X)||Rg(X))&&X.length>16)throw new Error("invalid data type ".concat(w));r[T]=function(){return m.data}}});var a=this.getOuputDataTexture(),l=a.textureWidth,f=a.texelCount;r.u_OutputTextureSize=[l,l],r.u_OutputTexelCount=f,this.context.output.textureSize=[l,l];var v={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:r,vert:nx,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(v)}return ti()(u,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),Kv&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var n=fo()(fa.a.mark(function e(){var r=this,a,l,f,v,m,T,w,X;return fa.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){a=r.reGl.read()}),!a){J.next=6;break}if(l=this.getOuputDataTexture(),f=l.originalDataLength,v=l.elementsPerTexel,m=l.typedArrayConstructor,T=m===void 0?Float32Array:m,w=[],v!==4)for(X=0;X<a.length;X+=4)v===1?w.push(a[X]):v===2?w.push(a[X],a[X+1]):w.push(a[X],a[X+1],a[X+2]);else w=a;return J.abrupt("return",new T(w.slice(0,f)));case 6:return J.abrupt("return",new Float32Array);case 7:case"end":return J.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"confirmInput",value:function(t,e){var r;this.entity===t.entity?(this.dynamicPingpong=!0,r=this):r=t,this.textureCache[e].id=r.getOuputDataTexture().id,this.textureCache[e].texture=r.getOuputDataTexture().texture,Kv&&console.log("[".concat(this.entity,"]: confirm input ").concat(e," from model ").concat(r.entity,", ").concat(r.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=this.context.uniforms.find(function(m){var T=m.name;return T===t});if(a){var l=this.calcDataTexture(t,a.type,e),f=l.texture,v=l.data;this.textureCache[t].data=v,this.textureCache[t].texture=f}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e,Kv&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,r=t.textureWidth;return ny(ny({},t),{},{id:ay++,texture:this.reGl.texture({width:r,height:r,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,r){var a=1;e===Ie.AST_TOKEN_TYPES.Vector4FloatArray&&(a=4);for(var l=[],f=0;f<r.length;f+=a)a===1?l.push(r[f],0,0,0):a===2?l.push(r[f],r[f+1],0,0):a===3?l.push(r[f],r[f+1],r[f+2],0):a===4&&l.push(r[f],r[f+1],r[f+2],r[f+3]);var v=r.length,m=Math.ceil(v/a),T=Math.ceil(Math.sqrt(m)),w=T*T;m<w&&l.push.apply(l,xo()(new Array((w-m)*4).fill(0)));var X=this.reGl.texture({width:T,height:T,data:l,type:"float"});return{id:ay++,data:l,originalDataLength:v,typedArrayConstructor:Rg(r)?r.constructor:void 0,textureWidth:T,texture:X,texelCount:m,elementsPerTexel:a,isOutput:t===this.context.output.name}}}]),u}(),ix=function(){function u(n,t){qa()(this,u),this.elements=void 0;var e=t.data,r=t.usage,a=t.type,l=t.count;this.elements=n.elements({data:e,usage:_p[r||Ie.gl.STATIC_DRAW],type:jg[a||Ie.gl.UNSIGNED_BYTE],count:l})}return ti()(u,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),u}(),ox=function(){function u(n,t){qa()(this,u),this.framebuffer=void 0;var e=t.width,r=t.height,a=t.color,l=t.colors,f=t.depth,v=t.stencil,m={width:e,height:r};Array.isArray(l)&&(m.colors=l.map(function(T){return T.get()})),a&&typeof a!="boolean"&&(m.color=a.get()),this.framebuffer=n.framebuffer(m)}return ti()(u,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.framebuffer.resize(e,r)}}]),u}();function sx(u){var n=ev()(u);return u!=null&&(n==="object"||n==="function")}function iv(u){var n={};return Object.keys(u).forEach(function(t){wg(t,u[t],n,"")}),n}function wg(u,n,t,e){if(n===null||typeof n=="number"||typeof n=="boolean"||Array.isArray(n)&&typeof n[0]=="number"||Rg(n)||n===""||n.resize!==void 0){t["".concat(e&&e+".").concat(u)]=n;return}sx(n)&&Object.keys(n).forEach(function(r){wg(r,n[r],t,"".concat(e&&e+".").concat(u))}),Array.isArray(n)&&n.forEach(function(r,a){Object.keys(r).forEach(function(l){wg(l,r[l],t,"".concat(e&&e+".").concat(u,"[").concat(a,"]"))})})}function iy(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function sd(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?iy(Object(t),!0).forEach(function(e){zr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):iy(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var lx=function(){function u(n,t){qa()(this,u),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=n;var e=t.vs,r=t.fs,a=t.defines,l=t.attributes,f=t.uniforms,v=t.primitive,m=t.count,T=t.elements,w=t.depth,X=t.blend,Z=t.stencil,J=t.cull,ht=t.instances,mt=t.scissor,At=t.viewport,St={};f&&(this.uniforms=iv(f),Object.keys(f).forEach(function(qt){St[qt]=n.prop(qt)}));var Bt={};Object.keys(l).forEach(function(qt){Bt[qt]=l[qt].get()});var kt=a&&this.generateDefines(a)||"",Yt={attributes:Bt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(kt,`
`).concat(r),uniforms:St,vert:`
`.concat(kt,`
`).concat(e),primitive:mO[v===void 0?Ie.gl.TRIANGLES:v]};ht&&(Yt.instances=ht),m&&(Yt.count=m),T&&(Yt.elements=T.get()),mt&&(Yt.scissor=mt),At&&(Yt.viewport=At),this.initDepthDrawParams({depth:w},Yt),this.initBlendDrawParams({blend:X},Yt),this.initStencilDrawParams({stencil:Z},Yt),this.initCullDrawParams({cull:J},Yt),this.drawCommand=n(Yt)}return ti()(u,[{key:"addUniforms",value:function(t){this.uniforms=sd(sd({},this.uniforms),iv(t))}},{key:"draw",value:function(t){var e=sd(sd({},this.uniforms),iv(t.uniforms||{})),r={};Object.keys(e).forEach(function(a){var l=ev()(e[a]);l==="boolean"||l==="number"||Array.isArray(e[a])||e[a].BYTES_PER_ELEMENT?r[a]=e[a]:l==="string"||(r[a]=e[a].get())}),this.drawCommand(r)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var r=t.depth;r&&(e.depth={enable:r.enable===void 0?!0:!!r.enable,mask:r.mask===void 0?!0:!!r.mask,func:EO[r.func||Ie.gl.LESS],range:r.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var r=t.blend;if(r){var a=r.enable,l=r.func,f=r.equation,v=r.color,m=v===void 0?[0,0,0,0]:v;e.blend={enable:!!a,func:{srcRGB:Hv[l&&l.srcRGB||Ie.gl.SRC_ALPHA],srcAlpha:Hv[l&&l.srcAlpha||Ie.gl.SRC_ALPHA],dstRGB:Hv[l&&l.dstRGB||Ie.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:Hv[l&&l.dstAlpha||Ie.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:ey[f&&f.rgb||Ie.gl.FUNC_ADD],alpha:ey[f&&f.alpha||Ie.gl.FUNC_ADD]},color:m}}}},{key:"initStencilDrawParams",value:function(t,e){var r=t.stencil;if(r){var a=r.enable,l=r.mask,f=l===void 0?-1:l,v=r.func,m=v===void 0?{cmp:Ie.gl.ALWAYS,ref:0,mask:-1}:v,T=r.opFront,w=T===void 0?{fail:Ie.gl.KEEP,zfail:Ie.gl.KEEP,zpass:Ie.gl.KEEP}:T,X=r.opBack,Z=X===void 0?{fail:Ie.gl.KEEP,zfail:Ie.gl.KEEP,zpass:Ie.gl.KEEP}:X;e.stencil={enable:!!a,mask:f,func:sd(sd({},m),{},{cmp:SO[m.cmp]}),opFront:{fail:od[w.fail],zfail:od[w.zfail],zpass:od[w.zpass]},opBack:{fail:od[Z.fail],zfail:od[Z.zfail],zpass:od[Z.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var r=t.cull;if(r){var a=r.enable,l=r.face,f=l===void 0?Ie.gl.BACK:l;e.cull={enable:!!a,face:CO[f]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(e){return"#define ".concat(e," ").concat(Number(t[e]))}).join(`
`)}}]),u}(),ux=function(){function u(n,t){qa()(this,u),this.texture=void 0,this.width=void 0,this.height=void 0;var e=t.data,r=t.type,a=r===void 0?Ie.gl.UNSIGNED_BYTE:r,l=t.width,f=t.height,v=t.flipY,m=v===void 0?!1:v,T=t.format,w=T===void 0?Ie.gl.RGBA:T,X=t.mipmap,Z=X===void 0?!1:X,J=t.wrapS,ht=J===void 0?Ie.gl.CLAMP_TO_EDGE:J,mt=t.wrapT,At=mt===void 0?Ie.gl.CLAMP_TO_EDGE:mt,St=t.aniso,Bt=St===void 0?0:St,kt=t.alignment,Yt=kt===void 0?1:kt,qt=t.premultiplyAlpha,ee=qt===void 0?!1:qt,re=t.mag,fe=re===void 0?Ie.gl.NEAREST:re,le=t.min,Oe=le===void 0?Ie.gl.NEAREST:le,Te=t.colorSpace,sr=Te===void 0?Ie.gl.BROWSER_DEFAULT_WEBGL:Te;this.width=l,this.height=f;var fr={width:l,height:f,type:jg[a],format:bO[w],wrapS:ty[ht],wrapT:ty[At],mag:qp[fe],min:qp[Oe],alignment:Yt,flipY:m,colorSpace:xO[sr],premultiplyAlpha:ee,aniso:Bt};e&&(fr.data=e),typeof Z=="number"?fr.mipmap=OO[Z]:typeof Z=="boolean"&&(fr.mipmap=Z),this.texture=n.texture(fr)}return ti()(u,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.texture.resize(e,r),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture.destroy()}}]),u}(),oy,sy,ly,cx=(oy=Object(ga.injectable)(),oy(sy=(ly=function(){function u(){var n=this;qa()(this,u),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=fo()(fa.a.mark(function e(r){return fa.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!r.uniforms){l.next=3;break}return l.next=3,Promise.all(Object.keys(r.uniforms).map(function(){var f=fo()(fa.a.mark(function v(m){var T;return fa.a.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(r.uniforms[m]&&r.uniforms[m].load!==void 0)){X.next=5;break}return X.next=3,r.uniforms[m].load();case 3:T=X.sent,r.uniforms[m]=T;case 5:case"end":return X.stop()}},v)}));return function(v){return f.apply(this,arguments)}}()));case 3:return l.abrupt("return",new lx(n.gl,r));case 4:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new yO(n.gl,t)},this.createBuffer=function(t){return new MO(n.gl,t)},this.createElements=function(t){return new ix(n.gl,t)},this.createTexture2D=function(t){return new ux(n.gl,t)},this.createFramebuffer=function(t){return new ox(n.gl,t)},this.useFramebuffer=function(t,e){n.gl({framebuffer:t?t.get():null})(e)},this.createComputeModel=function(){var t=fo()(fa.a.mark(function e(r){return fa.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",new ax(n.gl,r));case 1:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var e=t.color,r=t.depth,a=t.stencil,l=t.framebuffer,f=l===void 0?null:l,v={color:e,depth:r,stencil:a};v.framebuffer=f===null?f:f.get(),n.gl.clear(v)},this.setScissor=function(t){n.gl&&n.gl._gl&&(t.enable&&t.box?(n.gl._gl.enable(Ie.gl.SCISSOR_TEST),n.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):n.gl._gl.disable(Ie.gl.SCISSOR_TEST),n.gl._refresh())},this.viewport=function(t){var e=t.x,r=t.y,a=t.width,l=t.height;n.gl&&n.gl._gl&&(n.gl._gl.viewport(e,r,a,l),n.gl._refresh())},this.readPixels=function(t){var e=t.framebuffer,r=t.x,a=t.y,l=t.width,f=t.height,v={x:r,y:a,width:l,height:f};return e&&(v.framebuffer=e.get()),n.gl.read(v)},this.getCanvas=function(){return n.$canvas},this.getGLContext=function(){return n.gl._gl},this.destroy=function(){n.gl&&(n.gl.destroy(),n.inited=!1)}}return ti()(u,[{key:"init",value:function(){var n=fo()(fa.a.mark(function e(r){return fa.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.inited){l.next=2;break}return l.abrupt("return");case 2:return this.$canvas=r.canvas,l.next=5,new Promise(function(f,v){pO()({canvas:r.canvas,attributes:{alpha:!0,antialias:r.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(T,w){(T||!w)&&v(T),f(w)}})});case 5:this.gl=l.sent,this.inited=!0;case 7:case"end":return l.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),u}(),ly))||sy);function fx(){return typeof window!="undefined"}function hx(u,n,t,e){if(!!fx()){var r=document.getElementsByTagName("head")[0],a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",u),e&&(a.id=e),a.onload=function(){n&&n()},a.onerror=function(l){t&&t("Unable to load script '".concat(u,"'"),l)},r.appendChild(a)}}function dx(u,n){return new Promise(function(t,e){hx(u,function(){t()},function(r,a){e(a)})})}var Yv,vx=function(){return Bg.apply(this,arguments)};function Bg(){return Bg=fo()(fa.a.mark(function u(){return fa.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Yv){t.next=2;break}return t.abrupt("return",Yv);case 2:return t.next=4,dx("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Yv=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",Yv);case 6:case"end":return t.stop()}},u)})),Bg.apply(this,arguments)}var gx=function(){function u(n,t){qa()(this,u),this.engine=n,this.options=t,this.attribute=void 0,this.buffer=void 0;var e=t,r=e.buffer,a=e.offset,l=e.stride,f=e.normalized,v=e.size,m=e.divisor,T=e.arrayStride,w=e.attributes,X=e.stepMode;this.buffer=r,this.attribute={buffer:r.get(),offset:a||0,stride:l||0,normalized:f||!1,divisor:m||0,arrayStride:T||0,attributes:w,stepMode:X||"vertex"},v&&(this.attribute.size=v)}return ti()(u,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),ld=function(){function u(n,t){qa()(this,u),this.engine=n,this.options=t,this.buffer=void 0;var e=t,r=e.data,a=e.usage,l=e.type;this.buffer=this.createBuffer(r instanceof Array?new Float32Array(r):r,a||xn.BufferUsage.Vertex|xn.BufferUsage.CopyDst)}return ti()(u,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.setSubData(this.buffer,r,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var r=t.byteLength%4,a={size:t.byteLength+r,usage:e},l=this.engine.device.createBuffer(a);return this.setSubData(l,0,t),l}},{key:"setSubData",value:function(t,e,r){var a=Ie.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;a.writeBuffer(t,e,r)}}]),u}();function px(u){return typeof u=="number"}var yx=function(){function u(n,t){qa()(this,u),this.engine=n,this.context=t,this.entity=Object(Ie.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return ti()(u,[{key:"init",value:function(){var n=fo()(fa.a.mark(function e(){var r=this,a,l,f,v,m,T,w;return fa.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:a=Z.sent,l=a.computeStage,f=this.context.uniforms.filter(function(J){return J.storageClass===Ie.STORAGE_CLASS.StorageBuffer}),v=this.context.uniforms.filter(function(J){return J.storageClass===Ie.STORAGE_CLASS.Uniform}),m=v.length?1:0,this.bindGroupEntries=[],m&&(T=0,w=[],v.forEach(function(J){if(px(J.data))r.uniformGPUBufferLayout.push({name:J.name,offset:T}),T+=4,w.push(J.data);else{var ht,mt=((ht=J.data)===null||ht===void 0?void 0:ht.length)||1;mt===3&&(mt=4,J.data.push(0));var At=T/4%4;if(At>0){var St=4-At;if(mt>1&&mt<=St)mt===2&&(St===3&&(T+=4,w.push(0)),w.push.apply(w,xo()(J.data)),r.uniformGPUBufferLayout.push({name:J.name,offset:T}));else{for(var Bt=0;Bt<St;Bt++)T+=4,w.push(0);w.push.apply(w,xo()(J.data)),r.uniformGPUBufferLayout.push({name:J.name,offset:T})}}T+=4*mt}}),this.uniformBuffer=new ld(this.engine,{data:w instanceof Array?new Float32Array(w):w,usage:xn.BufferUsage.Uniform|xn.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),f.forEach(function(J){if(J.data!==null&&(J.type===Ie.AST_TOKEN_TYPES.Vector4FloatArray||J.type===Ie.AST_TOKEN_TYPES.FloatArray)){var ht;J.name===r.context.output.name?(ht=new ld(r.engine,{data:isFinite(Number(J.data))?[J.data]:J.data,usage:xn.BufferUsage.Storage|xn.BufferUsage.CopyDst|xn.BufferUsage.CopySrc}),r.outputBuffer=ht,r.context.output={name:J.name,length:isFinite(Number(J.data))?1:J.data.length,typedArrayConstructor:Float32Array,gpuBuffer:ht.get()}):J.isReferer?J.data.model&&J.data.model.outputBuffer&&(ht=J.data.model.outputBuffer):ht=new ld(r.engine,{data:isFinite(Number(J.data))?[J.data]:J.data,usage:xn.BufferUsage.Storage|xn.BufferUsage.CopyDst|xn.BufferUsage.CopySrc}),r.vertexBuffers[J.name]=ht,r.bindGroupEntries.push({binding:m,resource:{name:J.name,refer:ht?void 0:J.data,buffer:ht?ht.get():void 0}}),m++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:l}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return Z.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(e){return t.vertexBuffers[e].destroy()})}},{key:"readData",value:function(){var n=fo()(fa.a.mark(function e(){var r,a,l,f,v,m,T,w,X,Z;return fa.a.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(r=this.context.output,!r){ht.next=16;break}if(a=r.length,l=r.typedArrayConstructor,f=r.gpuBuffer,!f){ht.next=16;break}return v=a*l.BYTES_PER_ELEMENT,m=this.engine.device.createBuffer({size:v,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),T=this.engine.device.createCommandEncoder(),T.copyBufferToBuffer(f,0,m,0,v),w=Ie.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue,w.submit([T.finish()]),ht.next=12,m.mapAsync(xn.MapMode.Read);case 12:return X=m.getMappedRange(),Z=new l(X.slice(0)),m.unmap(),ht.abrupt("return",Z);case 16:return ht.abrupt("return",new Float32Array);case 17:case"end":return ht.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"run",value:function(){if(this.engine.currentComputePass){var t;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,xo()(this.context.dispatch))}}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=this.vertexBuffers[t];a&&a.subData({data:e,offset:r})}},{key:"updateUniform",value:function(t,e){var r=this.uniformGPUBufferLayout.find(function(a){return a.name===t});r&&this.uniformBuffer.subData({data:Number.isFinite(e)?new Float32Array([e]):new Float32Array(e),offset:r.offset})}},{key:"confirmInput",value:function(t,e){var r=this.vertexBuffers[e],a=t.outputBuffer;if(r&&a&&r!==a){var l=this.engine.device.createCommandEncoder(),f=t.context.output,v=f.length,m=f.typedArrayConstructor,T=v*m.BYTES_PER_ELEMENT;l.copyBufferToBuffer(a.get(),0,r.get(),0,T);var w=Ie.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;w.submit([l.finish()])}}},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:function(){var n=fo()(fa.a.mark(function e(r){var a,l;return fa.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(a=r,l=`#version 450
`,this.engine.options.useWGSL){v.next=6;break}return v.next=5,this.compileShaderToSpirV(r,"compute",l);case 5:a=v.sent;case 6:return v.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:a,isWHLSL:Ie.isSafari}),entryPoint:"main"}});case 7:case"end":return v.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()}]),u}(),mx=function(){function u(n,t){qa()(this,u),this.engine=n,this.options=t,this.indexCount=void 0,this.buffer=void 0;var e=t,r=e.data,a=e.usage,l=e.type,f=e.count;this.indexCount=f||0,this.buffer=new ld(n,{data:r instanceof Array?new Uint16Array(r):r,usage:xn.BufferUsage.Index|xn.BufferUsage.CopyDst})}return ti()(u,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),bx=function(){function u(n,t){qa()(this,u),this.engine=n,this.options=t,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var e=t,r=e.width,a=e.height,l=e.color,f=e.colors,v=e.depth,m=e.stencil;l&&(this.colorTexture=l),v&&(this.depthTexture=v)}return ti()(u,[{key:"get",value:function(){var t,e;return{color:(t=this.colorTexture)===null||t===void 0?void 0:t.get(),depth:(e=this.depthTexture)===null||e===void 0?void 0:e.get()}}},{key:"destroy",value:function(){var t,e;(t=this.colorTexture)===null||t===void 0||t.destroy(),(e=this.depthTexture)===null||e===void 0||e.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;if(e!==this.width||r!==this.height){var a,l;(a=this.colorTexture)===null||a===void 0||a.resize({width:e,height:r}),(l=this.depthTexture)===null||l===void 0||l.resize({width:e,height:r})}this.width=e,this.height=r}}]),u}(),cc,Mu,dh,Ts,ud,Zv,ov,Ox=(cc={},zr()(cc,Ie.gl.POINTS,xn.PrimitiveTopology.PointList),zr()(cc,Ie.gl.LINES,xn.PrimitiveTopology.LineList),zr()(cc,Ie.gl.LINE_LOOP,xn.PrimitiveTopology.LineList),zr()(cc,Ie.gl.LINE_STRIP,xn.PrimitiveTopology.LineStrip),zr()(cc,Ie.gl.TRIANGLES,xn.PrimitiveTopology.TriangleList),zr()(cc,Ie.gl.TRIANGLE_FAN,xn.PrimitiveTopology.TriangleList),zr()(cc,Ie.gl.TRIANGLE_STRIP,xn.PrimitiveTopology.TriangleStrip),cc),xx=(Mu={},zr()(Mu,Ie.gl.NEVER,xn.CompareFunction.Never),zr()(Mu,Ie.gl.ALWAYS,xn.CompareFunction.Always),zr()(Mu,Ie.gl.LESS,xn.CompareFunction.Less),zr()(Mu,Ie.gl.LEQUAL,xn.CompareFunction.LessEqual),zr()(Mu,Ie.gl.GREATER,xn.CompareFunction.Greater),zr()(Mu,Ie.gl.GEQUAL,xn.CompareFunction.GreaterEqual),zr()(Mu,Ie.gl.EQUAL,xn.CompareFunction.Equal),zr()(Mu,Ie.gl.NOTEQUAL,xn.CompareFunction.NotEqual),Mu),uy=(dh={},zr()(dh,Ie.gl.FUNC_ADD,xn.BlendOperation.Add),zr()(dh,Ie.gl.MIN_EXT,xn.BlendOperation.Min),zr()(dh,Ie.gl.MAX_EXT,xn.BlendOperation.Max),zr()(dh,Ie.gl.FUNC_SUBTRACT,xn.BlendOperation.Subtract),zr()(dh,Ie.gl.FUNC_REVERSE_SUBTRACT,xn.BlendOperation.ReverseSubtract),dh),$v=(Ts={},zr()(Ts,Ie.gl.ZERO,xn.BlendFactor.Zero),zr()(Ts,Ie.gl.ONE,xn.BlendFactor.One),zr()(Ts,Ie.gl.SRC_COLOR,xn.BlendFactor.SrcColor),zr()(Ts,Ie.gl.ONE_MINUS_SRC_COLOR,xn.BlendFactor.OneMinusSrcColor),zr()(Ts,Ie.gl.SRC_ALPHA,xn.BlendFactor.SrcAlpha),zr()(Ts,Ie.gl.ONE_MINUS_SRC_ALPHA,xn.BlendFactor.OneMinusSrcAlpha),zr()(Ts,Ie.gl.DST_COLOR,xn.BlendFactor.DstColor),zr()(Ts,Ie.gl.ONE_MINUS_DST_COLOR,xn.BlendFactor.OneMinusDstColor),zr()(Ts,Ie.gl.DST_ALPHA,xn.BlendFactor.DstAlpha),zr()(Ts,Ie.gl.ONE_MINUS_DST_ALPHA,xn.BlendFactor.OneMinusDstAlpha),zr()(Ts,Ie.gl.CONSTANT_COLOR,xn.BlendFactor.BlendColor),zr()(Ts,Ie.gl.ONE_MINUS_CONSTANT_COLOR,xn.BlendFactor.OneMinusBlendColor),zr()(Ts,Ie.gl.SRC_ALPHA_SATURATE,xn.BlendFactor.SrcAlphaSaturated),Ts),Ex=(ud={},zr()(ud,Ie.gl.ALPHA,"r8unorm"),zr()(ud,Ie.gl.RGBA,"rgba8unorm"),zr()(ud,Ie.gl.DEPTH_COMPONENT,"depth32float"),zr()(ud,Ie.gl.DEPTH_STENCIL,"depth24plus-stencil8"),ud),cy=(Zv={},zr()(Zv,Ie.gl.NEAREST,"nearest"),zr()(Zv,Ie.gl.LINEAR,"linear"),Zv),Ng=(ov={},zr()(ov,Ie.gl.REPEAT,"repeat"),zr()(ov,Ie.gl.CLAMP_TO_EDGE,"clamp-to-edge"),zr()(ov,Ie.gl.MIRRORED_REPEAT,"mirror-repeat"),ov);function Sx(u){var n=u.cull;if(!n||!n.enable)return xn.CullMode.None;if(n.face)return n.face===Ie.gl.FRONT?xn.CullMode.Front:xn.CullMode.Back}function Cx(u){var n=u.depth,t=u.stencil,e={compare:xn.CompareFunction.Always,depthFailOp:xn.StencilOperation.Keep,failOp:xn.StencilOperation.Keep,passOp:xn.StencilOperation.Keep};return{depthWriteEnabled:n&&n.enable,depthCompare:xx[(n==null?void 0:n.func)||Ie.gl.ALWAYS],format:xn.TextureFormat.Depth24PlusStencil8,stencilFront:e,stencilBack:e,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Mx(u,n){var t=u.blend;return[{format:n,alphaBlend:{srcFactor:$v[t&&t.func&&t.func.srcAlpha||Ie.gl.ONE],dstFactor:$v[t&&t.func&&t.func.dstAlpha||Ie.gl.ZERO],operation:uy[t&&t.equation&&t.equation.alpha||Ie.gl.FUNC_ADD]},colorBlend:{srcFactor:$v[t&&t.func&&t.func.srcRGB||Ie.gl.ONE],dstFactor:$v[t&&t.func&&t.func.dstRGB||Ie.gl.ZERO],operation:uy[t&&t.equation&&t.equation.rgb||Ie.gl.FUNC_ADD]},writeMask:xn.ColorWrite.All}]}function fy(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function cd(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?fy(Object(t),!0).forEach(function(e){zr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):fy(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function Tx(u){for(var n=0,t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];for(var a=0,l=e;a<l.length;a++){var f=l[a];n+=f.length}for(var v=new u(n),m=0,T=0,w=e;T<w.length;T++){var X=w[T];v.set(X,m),m+=X.length}return v}var Ax=function(){function u(n,t){qa()(this,u),this.engine=n,this.options=t,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return ti()(u,[{key:"init",value:function(){var n=fo()(fa.a.mark(function e(){var r=this,a,l,f,v,m,T,w,X,Z,J,ht,mt,At,St,Bt,kt,Yt,qt;return fa.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return a=this.options,l=a.vs,f=a.fs,v=a.attributes,m=a.uniforms,T=a.primitive,w=a.count,X=a.elements,Z=a.depth,J=a.blend,ht=a.stencil,mt=a.cull,At=a.instances,re.next=3,this.compilePipelineStageDescriptor(l,f,null);case 3:St=re.sent,Bt=St.vertexStage,kt=St.fragmentStage,m&&this.buildUniformBindGroup(m),X&&(this.indexBuffer=X.get(),this.indexCount=X.indexCount),Yt={vertexBuffers:Object.keys(v).map(function(fe,le){var Oe=v[fe],Te=Oe.get(),sr=Te.arrayStride,fr=Te.stepMode,vr=Te.attributes;return r.attributeCache[fe]=Oe,{arrayStride:sr,stepMode:fr,attributes:vr}})},qt={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Ox[T||Ie.gl.TRIANGLES],rasterizationState:cd(cd({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Sx({cull:mt})}),depthStencilState:Cx({depth:Z,stencil:ht}),colorStates:Mx({blend:J},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:Bt,fragmentStage:kt,vertexState:Yt},this.renderPipeline=this.engine.device.createRenderPipeline(qt);case 11:case"end":return re.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"addUniforms",value:function(t){this.uniforms=cd(cd({},this.uniforms),iv(t))}},{key:"draw",value:function(t){var e=this,r=this.engine.getCurrentRenderPass(),a=cd(cd({},this.uniforms),iv(t.uniforms||{})),l=[];Object.keys(a).forEach(function(f){var v=ev()(a[f]);if(v==="boolean"||v==="number"||Array.isArray(a[f])||a[f].BYTES_PER_ELEMENT){var m,T=(m=e.uniformGPUBufferLayout.find(function(At){var St=At.name;return St===f}))===null||m===void 0?void 0:m.offset;T!==null&&e.uniformBuffer.subData({data:a[f],offset:T})}else{var w,X=(w=e.uniformGPUBufferLayout.find(function(At){var St=At.name;return St===f}))===null||w===void 0?void 0:w.offset;if(X!==null){var Z=a[f].get(),J=Z.color||Z,ht=J.texture,mt=J.sampler;mt&&(l.push({binding:X,resource:mt}),X++),l.push({binding:X,resource:ht.createView()})}}}),this.uniformBuffer&&(l[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:l}),this.renderPipeline&&r.setPipeline(this.renderPipeline),r.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&r.setIndexBuffer(this.indexBuffer.get(),xn.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(f,v){r.setVertexBuffer(0+v,e.attributeCache[f].get().buffer,0)}),this.indexBuffer?r.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):r.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var n=fo()(fa.a.mark(function e(r,a,l){var f,v,m;return fa.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(f=`#version 450
`,v=r,m=a,this.engine.options.useWGSL){w.next=10;break}return w.next=6,this.compileShaderToSpirV(r,"vertex",f);case 6:return v=w.sent,w.next=9,this.compileShaderToSpirV(a,"fragment",f);case 9:m=w.sent;case 10:return w.abrupt("return",this.createPipelineStageDescriptor(v,m));case 11:case"end":return w.stop()}},e,this)}));function t(e,r,a){return n.apply(this,arguments)}return t}()},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Ie.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Ie.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:xn.FrontFace.CCW,cullMode:xn.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var e=this,r=0,a=Tx.apply(void 0,[Float32Array].concat(xo()(Object.keys(t).map(function(v){return t[v]?(e.uniformGPUBufferLayout.push({name:v,offset:r}),r+=(t[v].length||1)*4,t[v]):[]})))),l=[],f=!1;a.length&&(f=!0,l.push({binding:0,visibility:xn.ShaderStage.Fragment|xn.ShaderStage.Vertex,type:xn.BindingType.UniformBuffer})),Object.keys(t).filter(function(v){return t[v]===null}).forEach(function(v,m){e.uniformGPUBufferLayout.push({name:v,offset:m*2+(f?1:0)}),l.push({binding:m*2+(f?1:0),visibility:xn.ShaderStage.Fragment,type:xn.BindingType.Sampler},{binding:m*2+(f?1:0)+1,visibility:xn.ShaderStage.Fragment,type:xn.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:l}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),f&&(this.uniformBuffer=new ld(this.engine,{data:a instanceof Array?new Float32Array(a):a,usage:xn.BufferUsage.Uniform|xn.BufferUsage.CopyDst}))}}]),u}(),Ix=function(){function u(n,t){qa()(this,u),this.engine=n,this.options=t,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return ti()(u,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,r=t.height;(e!==this.width||r!==this.height)&&(this.destroy(),this.createTexture()),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,e=t.data,r=t.type,a=r===void 0?Ie.gl.UNSIGNED_BYTE:r,l=t.width,f=t.height,v=t.flipY,m=v===void 0?!1:v,T=t.format,w=T===void 0?Ie.gl.RGBA:T,X=t.mipmap,Z=X===void 0?!1:X,J=t.wrapS,ht=J===void 0?Ie.gl.CLAMP_TO_EDGE:J,mt=t.wrapT,At=mt===void 0?Ie.gl.CLAMP_TO_EDGE:mt,St=t.aniso,Bt=St===void 0?0:St,kt=t.alignment,Yt=kt===void 0?1:kt,qt=t.premultiplyAlpha,ee=qt===void 0?!1:qt,re=t.mag,fe=re===void 0?Ie.gl.NEAREST:re,le=t.min,Oe=le===void 0?Ie.gl.NEAREST:le,Te=t.colorSpace,sr=Te===void 0?Ie.gl.BROWSER_DEFAULT_WEBGL:Te,fr=t.usage;this.width=l,this.height=f,this.texture=this.engine.device.createTexture({size:[l,f,1],mipLevelCount:1,sampleCount:1,dimension:xn.TextureDimension.E2d,format:Ex[w],usage:fr||xn.TextureUsage.Sampled|xn.TextureUsage.CopyDst}),(!fr||fr&xn.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Ng[ht],addressModeV:Ng[At],addressModeW:Ng[ht],magFilter:cy[fe],minFilter:cy[Oe],maxAnisotropy:Bt}))}}]),u}(),hy,dy,vy,Dx=(hy=Object(ga.injectable)(),hy(dy=(vy=function(){function u(){var n=this;qa()(this,u),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:Infinity,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){var e=t.framebuffer,r=t.color,a=t.depth,l=t.stencil;n.options.supportCompute&&n.startComputePass(),n.currentRenderTarget?(n.currentRenderPass&&n.endRenderTargetRenderPass(),n.startRenderTargetRenderPass(n.currentRenderTarget,r||null,!!a,!!l)):(n.mainColorAttachments[0].loadValue=r||xn.LoadOp.Load,n.mainDepthAttachment.depthLoadValue=a||xn.LoadOp.Load,n.mainDepthAttachment.stencilLoadValue=l?n.clearStencilValue:xn.LoadOp.Load,n.mainRenderPass&&n.endMainRenderPass(),n.startMainRenderPass())},this.createModel=function(){var t=fo()(fa.a.mark(function e(r){var a;return fa.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a=new Ax(n,r),f.next=3,a.init();case 3:return f.abrupt("return",a);case 4:case"end":return f.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new gx(n,t)},this.createBuffer=function(t){return new ld(n,t)},this.createElements=function(t){return new mx(n,t)},this.createTexture2D=function(t){return new Ix(n,t)},this.createFramebuffer=function(t){return new bx(n,t)},this.useFramebuffer=function(t,e){n.currentRenderTarget&&n.unbindFramebuffer(n.currentRenderTarget),n.currentRenderTarget=t,n.currentRenderTargetViewDescriptor={dimension:xn.TextureViewDimension.E2d,arrayLayerCount:1,aspect:xn.TextureAspect.All},n.currentRenderPass=null,e()},this.createComputeModel=function(){var t=fo()(fa.a.mark(function e(r){var a;return fa.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a=new yx(n,r),f.next=3,a.init();case 3:return f.abrupt("return",a);case 4:case"end":return f.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getCanvas=function(){return n.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var e=t.x,r=t.y,a=t.width,l=t.height;if(!n.currentRenderPass)n.transientViewport={x:e,y:r,width:a,height:l};else if(n.transientViewport.x!==Infinity){var f=n.getCurrentRenderPass();f.setViewport(n.transientViewport.x,n.transientViewport.y,n.transientViewport.width,n.transientViewport.height,0,1)}else if(e!==n.cachedViewport.x||r!==n.cachedViewport.y||a!==n.cachedViewport.width||l!==n.cachedViewport.height){n.cachedViewport={x:e,y:r,width:a,height:l};var v=n.getCurrentRenderPass();v.setViewport(e,r,a,l,0,1)}},this.readPixels=function(t){throw new Error("Method not implemented.")}}return ti()(u,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var n=fo()(fa.a.mark(function e(r){return fa.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.canvas=r.canvas,this.options=r,this.useWGSL=!!r.useWGSL,this.mainPassSampleCount=r.antialiasing?this.defaultSampleCount:1,l.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return l.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"setScissor",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(t){return t.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Ie.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(t){return t})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(t){return t}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var n=fo()(fa.a.mark(function e(){var r,a;return fa.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,vx();case 2:return this.glslang=f.sent,f.next=5,(r=navigator)===null||r===void 0||(a=r.gpu)===null||a===void 0?void 0:a.requestAdapter();case 5:return this.adapter=f.sent,f.next=8,this.adapter.requestDevice();case 8:this.device=f.sent;case 9:case"end":return f.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Ie.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:xn.TextureUsage.OutputAttachment|xn.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xn.TextureDimension.E2d,format:xn.TextureFormat.BGRA8Unorm,usage:xn.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:Ie.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:xn.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Ie.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:xn.StoreOp.Store}];var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xn.TextureDimension.E2d,format:Ie.isSafari?"depth32float-stencil8":xn.TextureFormat.Depth24PlusStencil8,usage:xn.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(e),this.mainDepthAttachment={attachment:Ie.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:xn.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:xn.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Ie.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Ie.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,r){var a,l,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,v=(a=t.get().color)===null||a===void 0?void 0:a.texture,m;v&&(m=v.createView(this.currentRenderTargetViewDescriptor));var T=(l=t.get().depth)===null||l===void 0?void 0:l.texture,w;T&&(w=T.createView());var X=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:m,loadValue:e!==null?e:xn.LoadOp.Load,storeOp:xn.StoreOp.Store}],depthStencilAttachment:T&&w?{attachment:w,depthLoadValue:r?this.clearDepthValue:xn.LoadOp.Load,depthStoreOp:xn.StoreOp.Store,stencilLoadValue:f?this.clearStencilValue:xn.LoadOp.Load,stencilStoreOp:xn.StoreOp.Store}:void 0});this.currentRenderPass=X,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=Infinity,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),u}(),vy))||dy),Px=i("FlNX"),Lx=i.n(Px),jx=i("K4uR"),mf=i.n(jx),Rx=i("Un2Z"),bf=i.n(Rx),wx=i("OUrb"),vs=i.n(wx),gy,py;function Bx(u){var n=Nx();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function Nx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var Fg=4/64,yy=1-Fg*2,Fx=(gy=Object(ga.injectable)(),gy(py=function(u){mf()(t,u);var n=Bx(t);function t(){return qa()(this,t),n.apply(this,arguments)}return ti()(t,[{key:"onEntityCreated",value:function(){var r=this.config,a=r.widthSegments,l=a===void 0?1:a,f=r.heightSegments,v=f===void 0?1:f,m=r.depthSegments,T=m===void 0?1:m,w=r.halfExtents,X=w===void 0?pr.e.fromValues(.5,.5,.5):w,Z=l,J=v,ht=T,mt=Lx()(X,3),At=mt[0],St=mt[1],Bt=mt[2],kt=[pr.e.fromValues(-At,-St,Bt),pr.e.fromValues(At,-St,Bt),pr.e.fromValues(At,St,Bt),pr.e.fromValues(-At,St,Bt),pr.e.fromValues(At,-St,-Bt),pr.e.fromValues(-At,-St,-Bt),pr.e.fromValues(-At,St,-Bt),pr.e.fromValues(At,St,-Bt)],Yt=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],qt=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],ee={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},re=[],fe=[],le=[],Oe=[],Te=[],sr=0,fr=function(Rr,Dr,Ur){var Lr,kr,On,Wr;for(On=0;On<=Dr;On++)for(Wr=0;Wr<=Ur;Wr++){var Xr=pr.e.create(),Nn=pr.e.create(),Fn=pr.e.create(),Vn=pr.e.create();pr.e.lerp(Xr,kt[Yt[Rr][0]],kt[Yt[Rr][1]],On/Dr),pr.e.lerp(Nn,kt[Yt[Rr][0]],kt[Yt[Rr][2]],Wr/Ur),pr.e.sub(Fn,Nn,kt[Yt[Rr][0]]),pr.e.add(Vn,Xr,Fn),Lr=On/Dr,kr=Wr/Ur,re.push(Vn[0],Vn[1],Vn[2]),fe.push(qt[Rr][0],qt[Rr][1],qt[Rr][2]),le.push(Lr,kr),Lr/=3,kr/=3,Lr=Lr*yy+Fg,kr=kr*yy+Fg,Lr+=Rr%3/3,kr+=Math.floor(Rr/3)/3,Oe.push(Lr,kr),On<Dr&&Wr<Ur&&(Te.push(sr+Ur+1,sr+1,sr),Te.push(sr+Ur+1,sr+Ur+2,sr+1)),sr++}};fr(ee.FRONT,Z,J),fr(ee.BACK,Z,J),fr(ee.TOP,Z,ht),fr(ee.BOTTOM,Z,ht),fr(ee.RIGHT,ht,J),fr(ee.LEFT,ht,J);var vr=Object(Ie.generateAABBFromVertices)(re),Qr=this.getComponent();Qr.indices=Uint32Array.from(Te),Qr.aabb=vr,Qr.vertexCount=sr,Qr.attributes=[{dirty:!0,name:"position",data:Float32Array.from(re),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(fe),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(le),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(gf))||py);function Gx(u,n){if(!u&&!n)throw new Error("Please specify valid arguments for parameters a and b.");if(!n||n.length===0)return u;if(!u||u.length===0)return n;if(Object.prototype.toString.call(u)!==Object.prototype.toString.call(n))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var t=new u.constructor(u.length+n.length);return t.set(u),t.set(n,u.length),t}var my,by;function Ux(u){var n=Wx();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function Wx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var zx=(my=Object(ga.injectable)(),my(by=function(u){mf()(t,u);var n=Ux(t);function t(){return qa()(this,t),n.apply(this,arguments)}return ti()(t,[{key:"onEntityCreated",value:function(){var r=this.config.geometries,a=r===void 0?[]:r,l=this.getComponent();l.aabb=new Ie.AABB;var f=[],v=[],m=0;a.forEach(function(T){var w=T.aabb,X=T.indices,Z=T.vertexCount,J=T.attributes;l.aabb.add(w),l.vertexCount+=Z,X&&v.push.apply(v,xo()(X.map(function(ht){return ht+m}))),m+=Z,J.forEach(function(ht,mt){f[mt]?ht.data&&(Ig(ht.data)?f[mt].push(ht.data):Ep(ht.data)?f[mt].data=Gx(f[mt].data,ht.data):f[mt].data=f[mt].data.concat(ht.data)):(f[mt]=ht,f[mt].dirty=!0)})}),l.attributes=f,l.indices=Uint32Array.from(v),l.dirty=!0}}]),t}(gf))||by),Oy,xy;function kx(u){var n=Vx();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function Vx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var Xx=(Oy=Object(ga.injectable)(),Oy(xy=function(u){mf()(t,u);var n=kx(t);function t(){return qa()(this,t),n.apply(this,arguments)}return ti()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,a=r.halfExtents,l=a===void 0?[.5,.5]:a,f=r.widthSegments,v=f===void 0?5:f,m=r.lengthSegments,T=m===void 0?5:m,w=[],X=[],Z=[],J=[],ht=0,mt=0;mt<=v;mt++)for(var At=0;At<=T;At++){var St=-l[0]+2*l[0]*mt/v,Bt=0,kt=-(-l[1]+2*l[1]*At/T),Yt=mt/v,qt=At/T;w.push(St,Bt,kt),X.push(0,1,0),Z.push(Yt,qt),mt<v&&At<T&&(J.push(ht+T+1,ht+1,ht),J.push(ht+T+1,ht+T+2,ht+1)),ht++}var ee=Object(Ie.generateAABBFromVertices)(w),re=this.getComponent();re.indices=Uint32Array.from(J),re.aabb=ee,re.vertexCount=ht,re.attributes=[{dirty:!0,name:"position",data:Float32Array.from(w),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(X),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(Z),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(gf))||xy),Ey,Sy;function Hx(u){var n=Kx();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function Kx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var Yx=(Ey=Object(ga.injectable)(),Ey(Sy=function(u){mf()(t,u);var n=Hx(t);function t(){return qa()(this,t),n.apply(this,arguments)}return ti()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,a=r.radius,l=a===void 0?.5:a,f=r.latitudeBands,v=f===void 0?16:f,m=r.longitudeBands,T=m===void 0?16:m,w=[],X=[],Z=[],J=[],ht=0;ht<=v;ht++)for(var mt=ht*Math.PI/v,At=Math.sin(mt),St=Math.cos(mt),Bt=0;Bt<=T;Bt++){var kt=Bt*2*Math.PI/T-Math.PI/2,Yt=Math.sin(kt),qt=Math.cos(kt),ee=qt*At,re=St,fe=Yt*At,le=1-Bt/T,Oe=1-ht/v;w.push(ee*l,re*l,fe*l),X.push(ee,re,fe),Z.push(le,Oe)}for(var Te=0;Te<v;++Te)for(var sr=0;sr<T;++sr){var fr=Te*(T+1)+sr,vr=fr+T+1;J.push(fr+1,vr,fr),J.push(fr+1,vr+1,vr)}var Qr=Object(Ie.generateAABBFromVertices)(w),Zr=this.getComponent();Zr.indices=Uint32Array.from(J),Zr.aabb=Qr,Zr.vertexCount=w.length/3,Zr.attributes=[{dirty:!0,name:"position",data:Float32Array.from(w),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(X),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(Z),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(gf))||Sy),Zx=i("DLmx"),ql=i.n(Zx),Cy,My,Ty,Ay,Qv,Iy,Dy,Py;function $x(u){var n=Qx();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function Qx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var Jx=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,_x=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,qx=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,t1=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,e1=(Cy=Object(ga.injectable)(),My=Object(ga.inject)(Ie.IDENTIFIER.RenderEngine),Ty=Object(ga.inject)(Ie.IDENTIFIER.ShaderModuleService),Cy(Ay=(Qv=(Py=function(u){mf()(t,u);var n=$x(t);function t(){var e;qa()(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),Bi()(e,"engine",Iy,ql()(e)),Bi()(e,"shaderModuleService",Dy,ql()(e)),e}return ti()(t,[{key:"onEntityCreated",value:function(){var r=this.getComponent(),a=this.engine.supportWebGPU?t1:_x,l=this.engine.supportWebGPU?qx:Jx;this.shaderModuleService.registerModule("material-basic",{vs:a,fs:l});var f=this.shaderModuleService.getModule("material-basic"),v=f.vs,m=f.fs,T=f.uniforms;r.vertexShaderGLSL=v,r.fragmentShaderGLSL=m,r.setUniform(T),this.config.map&&(r.setDefines({USE_UV:1,USE_MAP:1}),r.setUniform({map:this.config.map,uvTransform:pr.a.create()}))}}]),t}(Up),Py),Iy=Ni()(Qv.prototype,"engine",[My],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dy=Ni()(Qv.prototype,"shaderModuleService",[Ty],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qv))||Ay),Ly,jy,Ry,wy,By,Ny,Fy,sv,Gy,Uy,Wy,zy;function r1(u){var n=n1();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function n1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var a1=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,i1=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,o1=(Ly=Object(ga.injectable)(),jy=Object(ga.inject)(Ie.IDENTIFIER.Systems),Ry=Object(ga.named)(Ie.IDENTIFIER.MaterialSystem),wy=Object(ga.inject)(Ie.IDENTIFIER.Systems),By=Object(ga.named)(Ie.IDENTIFIER.GeometrySystem),Ny=Object(ga.inject)(Ie.IDENTIFIER.ShaderModuleService),Ly(Fy=(sv=(zy=function(u){mf()(t,u);var n=r1(t);function t(){var e;qa()(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),Bi()(e,"materialSystem",Gy,ql()(e)),Bi()(e,"geometrySystem",Uy,ql()(e)),Bi()(e,"shaderModuleService",Wy,ql()(e)),e}return ti()(t,[{key:"onAttributeChanged",value:function(r){var a=r.name,l=r.data,f=this.getMeshComponent();f&&f.material&&(a==="gridColor"?(f.material.setUniform("u_GridColor",l),f.material.setUniform("u_GridColor2",l)):a==="gridSize"&&(f.material.setUniform("u_GridSize",l),f.material.setUniform("u_GridSize2",l)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:i1,fs:a1});var r=this.shaderModuleService.getModule("grid"),a=r.vs,l=r.fs,f=r.uniforms,v=this.materialSystem.createShaderMaterial({vertexShader:a,fragmentShader:l});this.setMaterial(v);var m=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(m),v.setCull({enable:!1,face:Ie.gl.BACK}).setDepth({enable:!0,func:Ie.gl.LESS}),v.setUniform(f),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),m.setIndex([0,3,2,2,1,0]),m.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),t}(pf),zy),Gy=Ni()(sv.prototype,"materialSystem",[jy,Ry],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uy=Ni()(sv.prototype,"geometrySystem",[wy,By],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wy=Ni()(sv.prototype,"shaderModuleService",[Ny],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sv))||Fy),Jv=i("RV5/"),vh=i("aUeW");function _v(u,n,t,e,r){lv(n,e,-r),lv(n,e,r),u.push(t),u.push(t)}function lv(u,n,t){u.push([[n[0],n[1]],t])}var s1=function(u,n,t){var e=[0,0],r=[0,0],a=[0,0],l=[0,0],f=-1,v=!1,m=null,T=Object(Jv.create)(),w=t||0,X=3,Z=[],J=[],ht=[],mt=[0,0];n&&(u=u.slice(),u.push(u[0]));for(var At=u.length,St=1;St<At;St++){var Bt=w,kt=u[St-1],Yt=u[St],qt=St<u.length-1?u[St+1]:null;if(mt.push(St/At,St/At),Object(vh.direction)(e,Yt,kt),m||(m=[0,0],Object(vh.normal)(m,e)),v||(v=!0,_v(J,Z,kt,m,1)),ht.push([Bt+0,Bt+1,Bt+2]),!qt)Object(vh.normal)(m,e),_v(J,Z,Yt,m,1),ht.push(f===1?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),w+=2;else{Object(vh.direction)(r,qt,Yt);var ee=Object(vh.computeMiter)(a,l,e,r,1),re=Object(Jv.dot)(a,m)<0?-1:1,fe=ee>X;if(!isFinite(ee)){Object(vh.normal)(m,e),_v(J,Z,Yt,m,1),ht.push(f===1?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),w+=2,f=re;continue}fe?(ee=X,mt.push(St/At),lv(Z,m,-re),J.push(Yt),lv(Z,l,ee*re),J.push(Yt),ht.push(f!==-re?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),ht.push([Bt+2,Bt+3,Bt+4]),Object(vh.normal)(T,r),Object(Jv.copy)(m,T),lv(Z,m,-re),J.push(Yt),w+=3):(_v(J,Z,Yt,l,ee),ht.push(f===1?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),re=-1,Object(Jv.copy)(m,l),w+=2),f=re}}return{normals:Z,attrIndex:ht,attrPos:J,attrCounters:mt}},ky,Vy,Xy,Hy,Ky,Yy,Zy,uv,$y,Qy,Jy,_y;function l1(u){var n=u1();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function u1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var c1=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,f1=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,h1=(ky=Object(ga.injectable)(),Vy=Object(ga.inject)(Ie.IDENTIFIER.Systems),Xy=Object(ga.named)(Ie.IDENTIFIER.MaterialSystem),Hy=Object(ga.inject)(Ie.IDENTIFIER.Systems),Ky=Object(ga.named)(Ie.IDENTIFIER.GeometrySystem),Yy=Object(ga.inject)(Ie.IDENTIFIER.ShaderModuleService),ky(Zy=(uv=(_y=function(u){mf()(t,u);var n=l1(t);function t(){var e;qa()(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),Bi()(e,"materialSystem",$y,ql()(e)),Bi()(e,"geometrySystem",Qy,ql()(e)),Bi()(e,"shaderModuleService",Jy,ql()(e)),e.vertexCount=void 0,e}return ti()(t,[{key:"onAttributeChanged",value:function(r){var a=r.name,l=r.data,f=this.getMeshComponent();if(f&&f.material)switch(a){case"dashArray":f.material.setUniform("u_dash_array",l);break;case"dashOffset":f.material.setUniform("u_dash_offset",l);break;case"dashRatio":f.material.setUniform("u_dash_ratio",l);break;case"thickness":f.material.setUniform("u_thickness",l);break;case"color":var v=new Array(this.vertexCount).fill(void 0).map(function(){return l}).reduce(function(m,T){return[].concat(xo()(m),xo()(T))},[]);f.geometry.setAttribute("a_color",Float32Array.from(v),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var r=this;this.shaderModuleService.registerModule("line",{vs:f1,fs:c1});var a=this.shaderModuleService.getModule("line"),l=a.vs,f=a.fs,v=a.uniforms,m=this.materialSystem.createShaderMaterial({vertexShader:l,fragmentShader:f}),T=s1(this.config.points,!1),w=T.normals,X=T.attrIndex,Z=T.attrPos,J=T.attrCounters,ht=Z.length;this.vertexCount=ht;var mt=this.geometrySystem.createBufferGeometry({vertexCount:ht});this.setMaterial(m),this.setGeometry(mt),m.setCull({enable:!1,face:Ie.gl.BACK}).setUniform(v),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var At=[],St=[];w.forEach(function(kt){var Yt=kt[0],qt=kt[1];At.push([Yt[0],Yt[1]]),St.push(qt)}),mt.setIndex(X.reduce(function(kt,Yt){return[].concat(xo()(kt),xo()(Yt))},[])),mt.setAttribute("a_pos",Float32Array.from(Z.reduce(function(kt,Yt){return[].concat(xo()(kt),xo()(Yt))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var Bt=new Array(ht).fill(void 0).map(function(){return xo()(r.config.color)}).reduce(function(kt,Yt){return[].concat(xo()(kt),xo()(Yt))},[]);mt.setAttribute("a_color",Float32Array.from(Bt),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),mt.setAttribute("a_line_miter",Float32Array.from(St),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),mt.setAttribute("a_line_normal",Float32Array.from(At.reduce(function(kt,Yt){return[].concat(xo()(kt),xo()(Yt))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),mt.setAttribute("a_counters",Float32Array.from(J),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),t}(pf),_y),$y=Ni()(uv.prototype,"materialSystem",[Vy,Xy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy=Ni()(uv.prototype,"geometrySystem",[Hy,Ky],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jy=Ni()(uv.prototype,"shaderModuleService",[Yy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uv))||Zy);function d1(u){return[u+1&255,u+1>>8&255,u+1>>8>>8&255]}var qy,tm,em,rm,nm,am,im,cv,om,sm,lm,um;function cm(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function v1(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?cm(Object(t),!0).forEach(function(e){zr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):cm(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function g1(u){var n=p1();return function(){var e=vs()(u),r;if(n){var a=vs()(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return bf()(this,r)}}function p1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var y1=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,m1=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,b1=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],O1=(qy=Object(ga.injectable)(),tm=Object(ga.inject)(Ie.IDENTIFIER.Systems),em=Object(ga.named)(Ie.IDENTIFIER.MaterialSystem),rm=Object(ga.inject)(Ie.IDENTIFIER.Systems),nm=Object(ga.named)(Ie.IDENTIFIER.GeometrySystem),am=Object(ga.inject)(Ie.IDENTIFIER.ShaderModuleService),qy(im=(cv=(um=function(u){mf()(t,u);var n=g1(t);function t(){var e;qa()(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),Bi()(e,"materialSystem",om,ql()(e)),Bi()(e,"geometrySystem",sm,ql()(e)),Bi()(e,"shaderModuleService",lm,ql()(e)),e}return ti()(t,[{key:"onAttributeChanged",value:function(r){var a=r.name,l=r.data,f=this.getMeshComponent();f&&f.material&&(a==="strokeWidth"?f.material.setUniform("u_stroke_width",l):a==="strokeColor"?f.material.setUniform("u_stroke_color",l):a==="strokeOpacity"?f.material.setUniform("u_stroke_opacity",l):a==="opacity"?f.material.setUniform("u_opacity",l):a==="blur"&&f.material.setUniform("u_blur",l))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:m1,fs:y1});var r=this.shaderModuleService.getModule("grid"),a=r.vs,l=r.fs,f=r.uniforms,v=this.materialSystem.createShaderMaterial({vertexShader:a,fragmentShader:l,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Ie.gl.SRC_ALPHA,dstRGB:Ie.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});v.setUniform(v1({u_device_pixel_ratio:window.devicePixelRatio},f));var m=this.buildAttributes(),T=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:m.instancedOffsets.length/2,vertexCount:6});T.setIndex([0,2,1,0,3,2]),T.setAttribute("position",Float32Array.from(m.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),T.setAttribute("offset",Float32Array.from(m.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),T.setAttribute("color",Float32Array.from(m.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),T.setAttribute("size",Float32Array.from(m.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),T.setAttribute("shape",Float32Array.from(m.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),T.setAttribute("a_PickingColor",Float32Array.from(m.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(v),this.setGeometry(T)}},{key:"buildAttribute",value:function(r,a,l){var f,v,m,T;(f=a.instancedPickingColors).push.apply(f,xo()(d1(r.id||l))),a.instancedShapes.push(b1.indexOf(r.shape||"circle")),(v=a.instancedColors).push.apply(v,xo()(r.color||[1,0,0,1])),(m=a.instancedOffsets).push.apply(m,xo()(r.position||[0,0])),(T=a.instancedSizes).push.apply(T,xo()(r.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var r=this,a={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(l,f){r.buildAttribute(l,a,f)}):this.buildAttribute(this.config,a,0),a}}]),t}(pf),um),om=Ni()(cv.prototype,"materialSystem",[tm,em],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sm=Ni()(cv.prototype,"geometrySystem",[rm,nm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lm=Ni()(cv.prototype,"shaderModuleService",[am],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cv))||im),fm,hm,dm,vm,gm,fv,pm,ym,mm,bm;function Om(u,n){var t;if(typeof Symbol=="undefined"||u[Symbol.iterator]==null){if(Array.isArray(u)||(t=x1(u))||n&&u&&typeof u.length=="number"){t&&(u=t);var e=0,r=function(){};return{s:r,n:function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}},e:function(m){throw m},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,f;return{s:function(){t=u[Symbol.iterator]()},n:function(){var m=t.next();return a=m.done,m},e:function(m){l=!0,f=m},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(l)throw f}}}}function x1(u,n){if(!!u){if(typeof u=="string")return xm(u,n);var t=Object.prototype.toString.call(u).slice(8,-1);if(t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set")return Array.from(u);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xm(u,n)}}function xm(u,n){(n==null||n>u.length)&&(n=u.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=u[t];return e}var E1=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,S1=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,C1=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,M1=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,T1=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,Em=(fm=Object(ga.injectable)(),hm=Object(ga.inject)(Ie.IDENTIFIER.RenderEngine),dm=Object(ga.inject)(Ie.IDENTIFIER.ShaderModuleService),vm=Object(ga.inject)(Ie.IDENTIFIER.ConfigService),fm(gm=(fv=(bm=function(){function u(){qa()(this,u),this.container=void 0,Bi()(this,"engine",pm,this),Bi()(this,"shaderModule",ym,this),Bi()(this,"configService",mm,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return ti()(u,[{key:"init",value:function(){var n=fo()(fa.a.mark(function e(){var r,a,l,f,v;return fa.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:M1}),this.shaderModule.registerModule("uv.vert.main",{vs:T1}),this.shaderModule.registerModule("uv.frag.declaration",{fs:C1}),this.shaderModule.registerModule("map.frag.declaration",{fs:E1}),this.shaderModule.registerModule("map.frag.main",{fs:S1}),r=this.container.getAll(Ie.IDENTIFIER.Systems),a=this.configService.get(),!a.canvas){T.next=30;break}return T.next=11,this.engine.init({canvas:a.canvas,swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:l=Om(r),T.prev=12,l.s();case 14:if((f=l.n()).done){T.next=21;break}if(v=f.value,!v.initialize){T.next=19;break}return T.next=19,v.initialize();case 19:T.next=14;break;case 21:T.next=26;break;case 23:T.prev=23,T.t0=T.catch(12),l.e(T.t0);case 26:return T.prev=26,l.f(),T.finish(26);case 29:this.inited=!0;case 30:case"end":return T.stop()}},e,this,[[12,23,26,29]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"render",value:function(){var n=fo()(fa.a.mark(function e(){var r,a,l,f,v,m,T,w=arguments;return fa.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!this.inited||this.rendering)){Z.next=2;break}return Z.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(J){J()}),this.rendering=!0,this.engine.beginFrame(),r=this.container.getAll(Ie.IDENTIFIER.Systems),a=w.length,l=new Array(a),f=0;f<a;f++)l[f]=w[f];v=Om(r),Z.prev=8,v.s();case 10:if((m=v.n()).done){Z.next=17;break}if(T=m.value,!T.execute){Z.next=15;break}return Z.next=15,T.execute(l);case 15:Z.next=10;break;case 17:Z.next=22;break;case 19:Z.prev=19,Z.t0=Z.catch(8),v.e(Z.t0);case 22:return Z.prev=22,v.f(),Z.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return Z.stop()}},e,this,[[8,19,22,25]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift(function(){e.engine.clear(t),e.pendings.shift()}),this}},{key:"setSize",value:function(t){var e=t.width,r=t.height,a=this.engine.getCanvas();return this.size={width:e,height:r},a.width=e,a.height=r,this}},{key:"getSize",value:function(){return this.size}}]),u}(),bm),pm=Ni()(fv.prototype,"engine",[hm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ym=Ni()(fv.prototype,"shaderModule",[dm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mm=Ni()(fv.prototype,"configService",[vm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fv))||gm),Sm,Cm,Mm,Tm=(Sm=Object(ga.injectable)(),Sm(Cm=(Mm=function(){function u(){qa()(this,u),this.entities=[]}return ti()(u,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(t){return this.addEntity(t.getEntity()),this}},{key:"removeRenderable",value:function(t){return this.removeEntity(t.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(t){return this.entities.indexOf(t)===-1&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var e=this.entities.indexOf(t);return this.entities.splice(e,1),this}}]),u}(),Mm))||Cm),Am,Im,Dm,Pm=(Am=Object(ga.injectable)(),Am(Im=(Dm=function(){function u(){qa()(this,u),this.cache={}}return ti()(u,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,e){this.cache[t]=e}}]),u}(),Dm))||Im),Lm,jm,Rm,wm,qv,Bm,Nm,Fm;function Gm(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function Um(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Gm(Object(t),!0).forEach(function(e){zr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):Gm(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var Wm=(Lm=Object(ga.injectable)(),jm=Object(ga.inject)(Pm),Rm=Object(ga.inject)(Ie.IDENTIFIER.RenderEngine),Lm(wm=(qv=(Fm=function(){function u(){qa()(this,u),Bi()(this,"textureCache",Bm,this),Bi()(this,"engine",Nm,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return ti()(u,[{key:"setConfig",value:function(t){this.config=t}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var n=fo()(fa.a.mark(function e(){var r=this;return fa.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.config.url){l.next=4;break}return l.abrupt("return",new Promise(function(f,v){var m=r.textureCache.get(r.config.url);if(m)f(m);else{var T=new Image;T.crossOrigin="Anonymous",T.src=r.config.url,T.onload=function(){var w=r.engine.createTexture2D(Um(Um({},r.config),{},{data:T,width:T.width,height:T.height,flipY:!0}));r.textureCache.set(r.config.url,w),r.texture=w,r.loaded=!0,f(w)},T.onerror=function(){v()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),l.abrupt("return",this.texture);case 7:case"end":return l.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),u}(),Fm),Bm=Ni()(qv.prototype,"textureCache",[jm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nm=Ni()(qv.prototype,"engine",[Rm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qv))||wm),zm,km,Vm,Xm,Gg,Hm,Km,Ym=(zm=Object(ga.injectable)(),km=Object(ga.inject)(Ie.IDENTIFIER.Systems),Vm=Object(ga.named)(Ie.IDENTIFIER.RendererSystem),zm(Xm=(Gg=(Km=function(){function u(){qa()(this,u),Bi()(this,"rendererSystem",Hm,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return ti()(u,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),u}(),Km),Hm=Ni()(Gg.prototype,"rendererSystem",[km,Vm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gg))||Xm),Zm,$m,Qm,Ug,Jm,_m;function qm(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function A1(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?qm(Object(t),!0).forEach(function(e){zr()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):qm(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var tg=(Zm=Object(ga.injectable)(),$m=Object(ga.inject)(Ie.IDENTIFIER.ConfigService),Zm(Qm=(Ug=(_m=function(){function u(){qa()(this,u),Bi()(this,"configService",Jm,this),this.container=void 0}return ti()(u,[{key:"getEngine",value:function(){var n=fo()(fa.a.mark(function e(){var r,a,l,f;return fa.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return r=this.container.get(Ie.IDENTIFIER.RenderEngine),a=this.configService.get(),l=a.canvas,f=a.engineOptions,m.next=4,r.init(A1({canvas:l||xp(),swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1},f));case 4:return m.abrupt("return",r);case 5:case"end":return m.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getTransformComponent",value:function(t){var e=this.container.get(Ie.IDENTIFIER.TransformComponentManager);return e.getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){var e=this.container.get(Ie.IDENTIFIER.MeshComponentManager);return e.getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(Ie.createEntity)()}},{key:"createScene",value:function(){return this.container.get(Tm)}},{key:"createCamera",value:function(){return this.container.get(gp)}},{key:"createView",value:function(){return this.container.get(Ym)}},{key:"createRenderable",value:function(t,e){var r=t?this.container.getNamed(Ie.IDENTIFIER.Renderable,t):this.container.get(pf),a=Object(Ie.createEntity)();return r.setConfig(e||{}),r.setEntity(a),r}},{key:"createGeometry",value:function(t,e){var r=this.container.getNamed(Ie.IDENTIFIER.Geometry,t),a=Object(Ie.createEntity)();return r.setConfig(e||{}),r.setEntity(a),r.getComponent()}},{key:"createMaterial",value:function(t,e){var r=this.container.getNamed(Ie.IDENTIFIER.Material,t),a=Object(Ie.createEntity)();return r.setConfig(e||{}),r.setEntity(a,t),r.getComponent()}},{key:"createTexture2D",value:function(t){var e=this.container.get(Wm);return e.setConfig(t),e}},{key:"createBufferGeometry",value:function(t){var e=this.container.getNamed(Ie.IDENTIFIER.Systems,Ie.IDENTIFIER.GeometrySystem);return e.createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){var e=this.container.getNamed(Ie.IDENTIFIER.Systems,Ie.IDENTIFIER.GeometrySystem);return e.createInstancedBufferGeometry(t)}},{key:"createShaderMaterial",value:function(t){var e=this.container.getNamed(Ie.IDENTIFIER.Systems,Ie.IDENTIFIER.MaterialSystem);return e.createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(jp);return typeof t=="string"?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(Em);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){var t=this.container.getAll(Ie.IDENTIFIER.Systems);t.forEach(function(a){a.tearDown&&a.tearDown()});var e=this.container.get(Ie.IDENTIFIER.RenderEngine);e.destroy();var r=this.container.get(Ie.IDENTIFIER.InteractorService);r.destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object(Ie.createWorldContainer)(),r=navigator.gpu?Dx:cx;e.isBound(Ie.IDENTIFIER.RenderEngine)||e.bind(Ie.IDENTIFIER.RenderEngine).to(r).inSingletonScope(),e.bind(Em).toSelf(),e.bind(jp).toSelf(),e.bind(pf).toSelf(),e.bind(Ym).toSelf(),e.bind(gp).toSelf(),e.bind(Tm).toSelf(),e.bind(u).toSelf(),e.bind(Pm).toSelf(),e.bind(Wm).toSelf(),e.bind(Ie.IDENTIFIER.Geometry).to(Fx).whenTargetNamed(gf.BOX),e.bind(Ie.IDENTIFIER.Geometry).to(Yx).whenTargetNamed(gf.SPHERE),e.bind(Ie.IDENTIFIER.Geometry).to(Xx).whenTargetNamed(gf.PLANE),e.bind(Ie.IDENTIFIER.Geometry).to(zx).whenTargetNamed(gf.MERGED),e.bind(Ie.IDENTIFIER.Material).to(e1).whenTargetNamed(Up.BASIC),e.bind(Ie.IDENTIFIER.Renderable).to(O1).whenTargetNamed(pf.POINT),e.bind(Ie.IDENTIFIER.Renderable).to(h1).whenTargetNamed(pf.LINE),e.bind(Ie.IDENTIFIER.Renderable).to(o1).whenTargetNamed(pf.GRID);var a=e.get(u);return a.setContainer(e),a.setConfig(t),a}}]),u}(),_m),Jm=Ni()(Ug.prototype,"configService",[$m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ug))||Qm),fd=function(n,t){var e;return n?Sn(n)?e=function(){return n}:e=n:e=function(){return t||1},e},I1=function(n,t){var e=[],r=[],a={},l=0;for(l=0;l<n.length;l++){var f=n[l];a[f.id]=l,e.push(f.x),e.push(f.y),e.push(0),e.push(0),r.push([])}for(l=0;l<t.length;l++){var v=t[l];r[a[v.source]].push(a[v.target]),r[a[v.target]].push(a[v.source])}var m=0;for(l=0;l<n.length;l++){var T=e.length,w=r[l],X=w.length;e[l*4+2]=T,e[l*4+3]=w.length,m=Math.max(m,w.length);for(var Z=0;Z<X;++Z){var J=w[Z];e.push(+J)}}for(;e.length%4!=0;)e.push(0);return{maxEdgePerVetex:m,array:new Float32Array(e)}},D1=function(n,t,e,r){var a=[],l=[],f={},v=0;for(v=0;v<n.length;v++){var m=n[v];f[m.id]=v,a.push(m.x),a.push(m.y),a.push(0),a.push(0),l.push([])}for(v=0;v<t.length;v++){var T=t[v];l[f[T.source]].push(f[T.target]),l[f[T.source]].push(e(T)),l[f[T.source]].push(r(T)),l[f[T.source]].push(0),l[f[T.target]].push(f[T.source]),l[f[T.target]].push(e(T)),l[f[T.target]].push(r(T)),l[f[T.target]].push(0)}var w=0;for(v=0;v<n.length;v++){var X=a.length,Z=l[v],J=Z.length;a[v*4+2]=X+1048576*J/4,a[v*4+3]=0,w=Math.max(w,J/4);for(var ht=0;ht<J;++ht){var mt=Z[ht];a.push(+mt)}}for(;a.length%4!=0;)a.push(0);return{maxEdgePerVetex:w,array:new Float32Array(a)}},P1=function(n,t){var e=[],r=n.length,a={};return t.forEach(function(l){n.forEach(function(f,v){if(a[l[f]]===void 0&&(a[l[f]]=Object.keys(a).length),e.push(a[l[f]]),v===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(a).length}},t0=function(n){for(var t=[],e=n.length,r=n[0].length,a=function(v){n.forEach(function(m,T){if(t.push(m[v]),T===e-1)for(;t.length%4!=0;)t.push(0)})},l=0;l<r;l++)a(l);return new Float32Array(t)},FM=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }
    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const nodeAttributes = this.u_AttributeArray[i];
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;
    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,L1='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',GM=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,j1='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}',eg=function(u,n,t,e){function r(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function f(T){try{m(e.next(T))}catch(w){l(w)}}function v(T){try{m(e.throw(T))}catch(w){l(w)}}function m(T){T.done?a(T.value):r(T.value).then(f,v)}m((e=e.apply(u,n||[])).next())})},R1=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=1,r.clustering=!1,r.clusterField="cluster",r.clusterGravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return eg(this,void 0,void 0,fa.a.mark(function r(){var a=this,l,f,v,m,T;return fa.a.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(l=this,f=l.nodes,!(!f||f.length===0)){X.next=5;break}return l.onLayoutEnd&&l.onLayoutEnd(),X.abrupt("return");case 5:if(!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]),v=l.center,f.length!==1){X.next=14;break}return f[0].x=v[0],f[0].y=v[1],l.onLayoutEnd&&l.onLayoutEnd(),X.abrupt("return");case 14:return m={},T={},f.forEach(function(Z,J){Sn(Z.x)||(Z.x=Math.random()*a.width),Sn(Z.y)||(Z.y=Math.random()*a.height),m[Z.id]=Z,T[Z.id]=J}),l.nodeMap=m,l.nodeIdxMap=T,X.next=21,l.run();case 21:case"end":return X.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,a){return eg(this,void 0,void 0,fa.a.mark(function l(){var f=this,v,m,T,w,X;return fa.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(v=this,m=v.nodes,T=v.center,!(!m||m.length===0)){J.next=5;break}return J.abrupt("return");case 5:if(m.length!==1){J.next=9;break}return m[0].x=T[0],m[0].y=T[1],J.abrupt("return");case 9:return w={},X={},m.forEach(function(ht,mt){Sn(ht.x)||(ht.x=Math.random()*f.width),Sn(ht.y)||(ht.y=Math.random()*f.height),w[ht.id]=ht,X[ht.id]=mt}),v.nodeMap=w,v.nodeIdxMap=X,J.next=16,v.run(r,a);case 16:case"end":return J.stop()}},l,this)}))}},{key:"run",value:function(r,a){return eg(this,void 0,void 0,fa.a.mark(function l(){var f=this,v,m,T,w,X,Z,J,ht,mt,At,St,Bt,kt,Yt,qt,ee,re,fe,le,Oe,Te,sr,fr,vr,Qr,Zr;return fa.a.wrap(function(Dr){for(;;)switch(Dr.prev=Dr.next){case 0:for(v=this,m=v.nodes,T=v.edges,w=v.maxIteration,X=v.center,Z=v.height*v.width,J=Math.sqrt(Z)/10,ht=Z/(m.length+1),mt=Math.sqrt(ht),At=v.speed,St=v.clustering,Bt=P1([v.clusterField],m),kt=Bt.array,Yt=Bt.count,qt=m.length,ee=I1(m,T),re=ee.maxEdgePerVetex,fe=ee.array,le=v.workerEnabled,le?Oe=tg.create({canvas:r,engineOptions:{supportCompute:!0}}):Oe=tg.create({engineOptions:{supportCompute:!0}}),Te=v.onLayoutEnd,sr=[],fr=0;fr<Yt;fr++)sr.push(0,0,0,0);return vr=Oe.createKernel(L1).setDispatch([qt,1,1]).setBinding({u_Data:fe,u_K:mt,u_K2:ht,u_Gravity:v.gravity,u_ClusterGravity:v.clusterGravity||v.gravity||1,u_Speed:At,u_MaxDisplace:J,u_Clustering:St?1:0,u_Center:X,u_AttributeArray:kt,u_ClusterCenters:sr,MAX_EDGE_PER_VERTEX:re,VERTEX_COUNT:qt}),St&&(Qr=Oe.createKernel(j1).setDispatch([Yt,1,1]).setBinding({u_Data:fe,u_NodeAttributes:kt,u_ClusterCenters:sr,VERTEX_COUNT:qt,CLUSTER_COUNT:Yt})),Zr=function(){return eg(f,void 0,void 0,fa.a.mark(function Lr(){var kr,On;return fa.a.wrap(function(Xr){for(;;)switch(Xr.prev=Xr.next){case 0:kr=0;case 1:if(!(kr<w)){Xr.next=13;break}return Xr.next=4,vr.execute();case 4:if(!St){Xr.next=9;break}return Qr.setBinding({u_Data:vr}),Xr.next=8,Qr.execute();case 8:vr.setBinding({u_ClusterCenters:Qr});case 9:vr.setBinding({u_MaxDisplace:J*=.99});case 10:kr++,Xr.next=1;break;case 13:return Xr.next=15,vr.getOutput();case 15:On=Xr.sent,r?a.postMessage({type:ct.GPUEND,vertexEdgeData:On}):m.forEach(function(Nn,Fn){var Vn=On[4*Fn],Or=On[4*Fn+1];Nn.x=Vn,Nn.y=Or}),Te&&Te();case 18:case"end":return Xr.stop()}},Lr)}))},Dr.next=24,Zr();case 24:case"end":return Dr.stop()}},l,this)}))}},{key:"getType",value:function(){return"fruchterman-gpu"}}]),t}(Ka),UM=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = dist * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = 1000 * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    const distx = vx * this.u_interval;
    const disty = vy * this.u_interval;
    const distLength = sqrt(distx * distx + disty * disty);

    this.u_Data[i] = [
      currentNode[0] + distx,
      currentNode[1] + disty,
      currentNode[2],
      distLength
    ];
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,w1='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = dist * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',WM=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,B1='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}',Wg=function(u,n,t,e){function r(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function f(T){try{m(e.next(T))}catch(w){l(w)}}function v(T){try{m(e.throw(T))}catch(w){l(w)}}function m(T){T.done?a(T.value):r(T.value).then(f,v)}m((e=e.apply(u,n||[])).next())})},N1=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=1,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Wg(this,void 0,void 0,fa.a.mark(function r(){var a,l,f,v,m;return fa.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(a=this,l=a.nodes,!(!l||l.length===0)){w.next=5;break}return a.onLayoutEnd&&a.onLayoutEnd(),w.abrupt("return");case 5:if(!a.width&&typeof window!="undefined"&&(a.width=window.innerWidth),!a.height&&typeof window!="undefined"&&(a.height=window.innerHeight),a.center||(a.center=[a.width/2,a.height/2]),f=a.center,l.length!==1){w.next=14;break}return l[0].x=f[0],l[0].y=f[1],a.onLayoutEnd&&a.onLayoutEnd(),w.abrupt("return");case 14:return v={},m={},l.forEach(function(X,Z){Sn(X.x)||(X.x=Math.random()*a.width),Sn(X.y)||(X.y=Math.random()*a.height),v[X.id]=X,m[X.id]=Z}),a.nodeMap=v,a.nodeIdxMap=m,a.nodeStrength=fd(a.nodeStrength,1),a.edgeStrength=fd(a.edgeStrength,1),w.next=23,a.run();case 23:case"end":return w.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,a){var l=this,f=l.nodes,v=l.center;if(!(!f||f.length===0)){if(f.length===1){f[0].x=v[0],f[0].y=v[1];return}var m={},T={};f.forEach(function(w,X){Sn(w.x)||(w.x=Math.random()*l.width),Sn(w.y)||(w.y=Math.random()*l.height),m[w.id]=w,T[w.id]=X}),l.nodeMap=m,l.nodeIdxMap=T,l.nodeStrength=fd(l.nodeStrength,1),l.edgeStrength=fd(l.edgeStrength,1),l.run(r,a)}}},{key:"run",value:function(r,a){return Wg(this,void 0,void 0,fa.a.mark(function l(){var f=this,v,m,T,w,X,Z,J,ht,mt,At,St,Bt,kt,Yt,qt,ee,re,fe,le,Oe,Te,sr,fr,vr,Qr;return fa.a.wrap(function(Rr){for(;;)switch(Rr.prev=Rr.next){case 0:for(v=this,m=v.nodes,T=v.edges,w=v.maxIteration,!v.width&&typeof window!="undefined"&&(v.width=window.innerWidth),!v.height&&typeof window!="undefined"&&(v.height=window.innerHeight),X=m.length,v.linkDistance=fd(v.linkDistance),v.edgeStrength=fd(v.edgeStrength),Z=D1(m,T,v.linkDistance,v.edgeStrength),J=Z.maxEdgePerVetex,ht=Z.array,v.degrees=ni(m.length,v.nodeIdxMap,T),mt=[],At=[],St=[],Bt=[],kt=[],v.getMass||(v.getMass=function(Dr){return v.degrees[v.nodeIdxMap[Dr.id]]||1}),Yt=v.gravity,qt=v.center,m.forEach(function(Dr,Ur){mt.push(v.getMass(Dr)),At.push(v.nodeStrength(Dr)),v.degrees[Ur]||(v.degrees[Ur]=0);var Lr=[qt[0],qt[1],Yt];if(v.getCenter){var kr=v.getCenter(Dr,v.degrees[Ur]);kr&&Sn(kr[0])&&Sn(kr[1])&&Sn(kr[2])&&(Lr=kr)}St.push(Lr[0]),Bt.push(Lr[1]),kt.push(Lr[2])}),ee=t0([mt,v.degrees,At]),re=t0([St,Bt,kt]),fe=v.workerEnabled,fe?le=tg.create({canvas:r,engineOptions:{supportCompute:!0}}):le=tg.create({engineOptions:{supportCompute:!0}}),Oe=v.onLayoutEnd,Te=[],ht.forEach(function(Dr){Te.push(Dr)}),sr=0;sr<4;sr++)Te.push(0);return fr=le.createKernel(w1).setDispatch([X,1,1]).setBinding({u_Data:ht,u_damping:v.damping,u_maxSpeed:v.maxSpeed,u_minMovement:v.minMovement,u_coulombDisScale:v.coulombDisScale,u_factor:v.factor,u_NodeAttributeArray1:ee,u_NodeAttributeArray2:re,MAX_EDGE_PER_VERTEX:J,VERTEX_COUNT:X,u_AveMovement:Te,u_interval:v.interval}),vr=le.createKernel(B1).setDispatch([1,1,1]).setBinding({u_Data:ht,VERTEX_COUNT:X,u_AveMovement:[0,0,0,0]}),Qr=function(){return Wg(f,void 0,void 0,fa.a.mark(function Ur(){var Lr,kr,On;return fa.a.wrap(function(Xr){for(;;)switch(Xr.prev=Xr.next){case 0:Lr=0;case 1:if(!(Lr<w)){Xr.next=12;break}return Xr.next=4,fr.execute();case 4:return vr.setBinding({u_Data:fr}),Xr.next=7,vr.execute();case 7:kr=Math.max(.02,v.interval-Lr*.002),fr.setBinding({u_interval:kr,u_AveMovement:vr});case 9:Lr++,Xr.next=1;break;case 12:return Xr.next=14,fr.getOutput();case 14:On=Xr.sent,r?a.postMessage({type:ct.GPUEND,vertexEdgeData:On}):m.forEach(function(Nn,Fn){var Vn=On[4*Fn],Or=On[4*Fn+1];Nn.x=Vn,Nn.y=Or}),Oe&&Oe();case 17:case"end":return Xr.stop()}},Ur)}))},Rr.next=33,Qr();case 33:case"end":return Rr.stop()}},l,this)}))}},{key:"getType",value:function(){return"gForce-gpu"}}]),t}(Ka),F1=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.center=[0,0],r.maxIteration=100,r.gravity=10,r.comboGravity=10,r.linkDistance=10,r.alpha=1,r.alphaMin=.001,r.alphaDecay=1-Math.pow(r.alphaMin,1/300),r.alphaTarget=0,r.velocityDecay=.6,r.edgeStrength=.6,r.nodeStrength=30,r.preventOverlap=!1,r.preventNodeOverlap=!1,r.preventComboOverlap=!1,r.collideStrength=void 0,r.nodeCollideStrength=.5,r.comboCollideStrength=.5,r.comboSpacing=20,r.comboPadding=10,r.optimizeRangeFactor=1,r.onTick=function(){},r.onLayoutEnd=function(){},r.depthAttractiveForceScale=1,r.depthRepulsiveForceScale=2,r.nodes=[],r.edges=[],r.combos=[],r.comboTrees=[],r.width=300,r.height=300,r.bias=[],r.nodeMap={},r.oriComboMap={},r.indexMap={},r.comboMap={},r.previousLayouted=!1,r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=r.center;if(r.comboTree={id:"comboTreeRoot",depth:-1,children:r.comboTrees},!a||a.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(a.length===1){a[0].x=l[0],a[0].y=l[1],r.onLayoutEnd&&r.onLayoutEnd();return}r.initVals(),r.run(),r.onLayoutEnd&&r.onLayoutEnd()}},{key:"run",value:function(){var r=this,a=r.nodes,l=r.previousLayouted?r.maxIteration/5:r.maxIteration;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var f=r.center,v=r.velocityDecay,m=r.comboMap;r.previousLayouted||r.initPos(m);for(var T=function(ht){var mt=[];a.forEach(function(At,St){mt[St]={x:0,y:0}}),r.applyCalculate(mt),r.applyComboCenterForce(mt),a.forEach(function(At,St){!Sn(At.x)||!Sn(At.y)||(At.x+=mt[St].x*v,At.y+=mt[St].y*v)}),r.alpha+=(r.alphaTarget-r.alpha)*r.alphaDecay,r.onTick()},w=0;w<l;w++)T(w);var X=[0,0];a.forEach(function(J){!Sn(J.x)||!Sn(J.y)||(X[0]+=J.x,X[1]+=J.y)}),X[0]/=a.length,X[1]/=a.length;var Z=[f[0]-X[0],f[1]-X[1]];a.forEach(function(J,ht){!Sn(J.x)||!Sn(J.y)||(J.x+=Z[0],J.y+=Z[1])}),r.combos.forEach(function(J){var ht=m[J.id];ht&&ht.empty&&(J.x=ht.cx||J.x,J.y=ht.cy||J.y)}),r.previousLayouted=!0}},{key:"initVals",value:function(){var r=this,a=r.edges,l=r.nodes,f=r.combos,v={},m={},T={};l.forEach(function(Rr,Dr){m[Rr.id]=Rr,T[Rr.id]=Dr}),r.nodeMap=m,r.indexMap=T;var w={};f.forEach(function(Rr){w[Rr.id]=Rr}),r.oriComboMap=w,r.comboMap=r.getComboMap();var X=r.preventOverlap;r.preventComboOverlap=r.preventComboOverlap||X,r.preventNodeOverlap=r.preventNodeOverlap||X;var Z=r.collideStrength;Z&&(r.comboCollideStrength=Z,r.nodeCollideStrength=Z),r.comboCollideStrength=r.comboCollideStrength?r.comboCollideStrength:0,r.nodeCollideStrength=r.nodeCollideStrength?r.nodeCollideStrength:0;for(var J=0;J<a.length;++J)v[a[J].source]?v[a[J].source]++:v[a[J].source]=1,v[a[J].target]?v[a[J].target]++:v[a[J].target]=1;for(var ht=[],mt=0;mt<a.length;++mt)ht[mt]=v[a[mt].source]/(v[a[mt].source]+v[a[mt].target]);this.bias=ht;var At=r.nodeSize,St=r.nodeSpacing,Bt,kt;if(Sn(St)?kt=function(){return St}:Ae(St)?kt=St:kt=function(){return 0},this.nodeSpacing=kt,!At)Bt=function(Dr){if(Dr.size){if(Na(Dr.size)){var Ur=Dr.size[0]>Dr.size[1]?Dr.size[0]:Dr.size[1];return Ur/2}return Dr.size/2}return 10};else if(Ae(At))Bt=function(Dr){return At(Dr)};else if(Na(At)){var Yt=At[0]>At[1]?At[0]:At[1],qt=Yt/2;Bt=function(Dr){return qt}}else{var ee=At/2;Bt=function(Dr){return ee}}this.nodeSize=Bt;var re=r.comboSpacing,fe;Sn(re)?fe=function(){return re}:Ae(re)?fe=re:fe=function(){return 0},this.comboSpacing=fe;var le=r.comboPadding,Oe;Sn(le)?Oe=function(){return le}:Na(le)?Oe=function(){return Math.max.apply(null,le)}:Ae(le)?Oe=le:Oe=function(){return 0},this.comboPadding=Oe;var Te=this.linkDistance,sr;Te||(Te=10),Sn(Te)?sr=function(Dr){return Te}:sr=Te,this.linkDistance=sr;var fr=this.edgeStrength,vr;fr||(fr=1),Sn(fr)?vr=function(Dr){return fr}:vr=fr,this.edgeStrength=vr;var Qr=this.nodeStrength,Zr;Qr||(Qr=30),Sn(Qr)?Zr=function(Dr){return Qr}:Zr=Qr,this.nodeStrength=Zr}},{key:"initPos",value:function(r){var a=this,l=a.nodes;l.forEach(function(f,v){var m=f.comboId,T=r[m];m&&T?(f.x=T.cx+100/(v+1),f.y=T.cy+100/(v+1)):(f.x=100/(v+1),f.y=100/(v+1))})}},{key:"getComboMap",value:function(){var r=this,a=r.nodeMap,l=r.indexMap,f=r.comboTrees,v=r.oriComboMap,m={};return(f||[]).forEach(function(T){var w=[];Vi(T,function(X){if(X.itemType==="node"||!v[X.id])return!0;if(m[X.id]===void 0){var Z={id:X.id,name:X.id,cx:0,cy:0,count:0,depth:r.oriComboMap[X.id].depth,children:[]};m[X.id]=Z}var J=X.children;J&&J.forEach(function(kt){if(!m[kt.id]&&!a[kt.id])return!0;w.push(kt)});var ht=m[X.id];if(ht.cx=0,ht.cy=0,w.length===0){ht.empty=!0;var mt=v[X.id],At=Object.keys(a).length,St="".concat(X.id,"-visual-child-").concat(At),Bt={id:St,x:mt.x,y:mt.y,depth:ht.depth+1,itemType:"node"};r.nodes.push(Bt),a[St]=Bt,l[St]=At,ht.cx=mt.x,ht.cy=mt.y,w.push(Bt)}return w.forEach(function(kt){if(ht.count++,kt.itemType!=="node"){var Yt=m[kt.id];Sn(Yt.cx)&&(ht.cx+=Yt.cx),Sn(Yt.cy)&&(ht.cy+=Yt.cy);return}var qt=a[kt.id];!qt||(Sn(qt.x)&&(ht.cx+=qt.x),Sn(qt.y)&&(ht.cy+=qt.y))}),ht.cx/=ht.count,ht.cy/=ht.count,ht.children=w,!0})}),m}},{key:"applyComboCenterForce",value:function(r){var a=this,l=a.gravity,f=a.comboGravity||l,v=this.alpha,m=a.comboTrees,T=a.indexMap,w=a.nodeMap,X=a.comboMap;(m||[]).forEach(function(Z){Vi(Z,function(J){if(J.itemType==="node")return!0;var ht=X[J.id];if(!ht)return!0;var mt=X[J.id],At=(mt.depth+1)/10*.5,St=mt.cx,Bt=mt.cy;return mt.cx=0,mt.cy=0,mt.children.forEach(function(kt){if(kt.itemType!=="node"){var Yt=X[kt.id];Yt&&Sn(Yt.cx)&&(mt.cx+=Yt.cx),Yt&&Sn(Yt.cy)&&(mt.cy+=Yt.cy);return}var qt=w[kt.id],ee=qt.x-St||.005,re=qt.y-Bt||.005,fe=Math.sqrt(ee*ee+re*re),le=T[qt.id],Oe=f*v/fe*At;r[le].x-=ee*Oe,r[le].y-=re*Oe,Sn(qt.x)&&(mt.cx+=qt.x),Sn(qt.y)&&(mt.cy+=qt.y)}),mt.cx/=mt.count,mt.cy/=mt.count,!0})})}},{key:"applyCalculate",value:function(r){var a=this,l=a.comboMap,f=a.nodes,v={};f.forEach(function(T,w){f.forEach(function(X,Z){if(!(w<Z)){var J=T.x-X.x||.005,ht=T.y-X.y||.005,mt=J*J+ht*ht,At=Math.sqrt(mt);mt<1&&(mt=At),v["".concat(T.id,"-").concat(X.id)]={vx:J,vy:ht,vl2:mt,vl:At},v["".concat(X.id,"-").concat(T.id)]={vl2:mt,vl:At,vx:-J,vy:-ht}}})}),a.updateComboSizes(l),a.calRepulsive(r,v),a.calAttractive(r,v);var m=a.preventComboOverlap;m&&a.comboNonOverlapping(r,l)}},{key:"updateComboSizes",value:function(r){var a=this,l=a.comboTrees,f=a.nodeMap,v=a.nodeSize,m=a.comboSpacing,T=a.comboPadding;(l||[]).forEach(function(w){var X=[];Vi(w,function(Z){if(Z.itemType==="node")return!0;var J=r[Z.id];if(!J)return!1;var ht=Z.children;ht&&ht.forEach(function(St){!r[St.id]&&!f[St.id]||X.push(St)}),J.minX=Infinity,J.minY=Infinity,J.maxX=-Infinity,J.maxY=-Infinity,X.forEach(function(St){if(St.itemType!=="node")return!0;var Bt=f[St.id];if(!Bt)return!0;var kt=v(Bt),Yt=Bt.x-kt,qt=Bt.y-kt,ee=Bt.x+kt,re=Bt.y+kt;J.minX>Yt&&(J.minX=Yt),J.minY>qt&&(J.minY=qt),J.maxX<ee&&(J.maxX=ee),J.maxY<re&&(J.maxY=re)});var mt=a.oriComboMap[Z.id].size||10;Na(mt)&&(mt=mt[0]);var At=Math.max(J.maxX-J.minX,J.maxY-J.minY,mt);return J.r=At/2+m(J)/2+T(J),!0})})}},{key:"comboNonOverlapping",value:function(r,a){var l=this,f=l.comboTree,v=l.comboCollideStrength,m=l.indexMap,T=l.nodeMap;Vi(f,function(w){if(!a[w.id]&&!T[w.id]&&w.id!=="comboTreeRoot")return!1;var X=w.children;return X&&X.length>1&&X.forEach(function(Z,J){if(Z.itemType==="node")return!1;var ht=a[Z.id];!ht||X.forEach(function(mt,At){if(J<=At||mt.itemType==="node")return!1;var St=a[mt.id];if(!St)return!1;var Bt=ht.cx-St.cx||.005,kt=ht.cy-St.cy||.005,Yt=Bt*Bt+kt*kt,qt=ht.r,ee=St.r,re=qt+ee,fe=ee*ee,le=qt*qt;if(Yt<re*re){var Oe=Z.children;if(!Oe||Oe.length===0)return!1;var Te=mt.children;if(!Te||Te.length===0)return!1;var sr=Math.sqrt(Yt),fr=(re-sr)/sr*v,vr=Bt*fr,Qr=kt*fr,Zr=fe/(le+fe),Rr=1-Zr;Oe.forEach(function(Dr){if(Dr.itemType!=="node")return!1;if(!!T[Dr.id]){var Ur=m[Dr.id];Te.forEach(function(Lr){if(Lr.itemType!=="node"||!T[Lr.id])return!1;var kr=m[Lr.id];r[Ur].x+=vr*Zr,r[Ur].y+=Qr*Zr,r[kr].x-=vr*Rr,r[kr].y-=Qr*Rr})}})}})}),!0})}},{key:"calRepulsive",value:function(r,a){var l=this,f=l.nodes,v=l.width*l.optimizeRangeFactor,m=l.nodeStrength,T=l.alpha,w=l.nodeCollideStrength,X=l.preventNodeOverlap,Z=l.nodeSize,J=l.nodeSpacing,ht=l.depthRepulsiveForceScale,mt=l.center;f.forEach(function(At,St){if(!(!At.x||!At.y)){if(mt){var Bt=l.gravity,kt=At.x-mt[0]||.005,Yt=At.y-mt[1]||.005,qt=Math.sqrt(kt*kt+Yt*Yt);r[St].x-=kt*Bt*T/qt,r[St].y-=Yt*Bt*T/qt}f.forEach(function(ee,re){if(St!==re&&!(!ee.x||!ee.y)){var fe=a["".concat(At.id,"-").concat(ee.id)],le=fe.vl2,Oe=fe.vl;if(!(Oe>v)){var Te=a["".concat(At.id,"-").concat(ee.id)],sr=Te.vx,fr=Te.vy,vr=Math.log(Math.abs(ee.depth-At.depth)/10)+1||1;vr=vr<1?1:vr,ee.comboId!==At.comboId&&(vr+=1);var Qr=vr?Math.pow(ht,vr):1,Zr=m(ee)*T/le*Qr;if(r[St].x+=sr*Zr,r[St].y+=fr*Zr,St<re&&X){var Rr=Z(At)+J(At),Dr=Z(ee)+J(ee),Ur=Rr+Dr;if(le<Ur*Ur){var Lr=(Ur-Oe)/Oe*w,kr=Dr*Dr,On=kr/(Rr*Rr+kr),Wr=sr*Lr,Xr=fr*Lr;r[St].x+=Wr*On,r[St].y+=Xr*On,On=1-On,r[re].x-=Wr*On,r[re].y-=Xr*On}}}}})}})}},{key:"calAttractive",value:function(r,a){var l=this,f=l.edges,v=l.linkDistance,m=l.alpha,T=l.edgeStrength,w=l.bias,X=l.depthAttractiveForceScale;f.forEach(function(Z,J){if(!(!Z.source||!Z.target||Z.source===Z.target)){var ht=l.indexMap[Z.source],mt=l.indexMap[Z.target],At=l.nodeMap[Z.source],St=l.nodeMap[Z.target];if(!(!At||!St)){var Bt=Math.log(Math.abs(At.depth-St.depth)/10);At.comboId===St.comboId&&(Bt=Bt/2);var kt=Bt?Math.pow(X,Bt):1;if(At.comboId!==St.comboId&&kt===1?kt=X/2:At.comboId===St.comboId&&(kt=2),!(!Sn(St.x)||!Sn(At.x)||!Sn(St.y)||!Sn(At.y))){var Yt=a["".concat(Z.target,"-").concat(Z.source)],qt=Yt.vl,ee=Yt.vx,re=Yt.vy,fe=(qt-v(Z))/qt*m*T(Z)*kt,le=ee*fe,Oe=re*fe,Te=w[J];r[mt].x-=le*Te,r[mt].y-=Oe*Te,r[ht].x+=le*(1-Te),r[ht].y+=Oe*(1-Te)}}}})}},{key:"getType",value:function(){return"comboForce"}}]),t}(Ka),G1=function(){function u(n){Object(Bn.a)(this,u),this.id=n.id||0,this.rx=n.rx,this.ry=n.ry,this.fx=0,this.fy=0,this.mass=n.mass,this.degree=n.degree,this.g=n.g||0}return Object(kn.a)(u,[{key:"distanceTo",value:function(t){var e=this.rx-t.rx,r=this.ry-t.ry;return Math.hypot(e,r)}},{key:"setPos",value:function(t,e){this.rx=t,this.ry=e}},{key:"resetForce",value:function(){this.fx=0,this.fy=0}},{key:"addForce",value:function(t){var e=t.rx-this.rx,r=t.ry-this.ry,a=Math.hypot(e,r);a=a<1e-4?1e-4:a;var l=this.g*(this.degree+1)*(t.degree+1)/a;this.fx+=l*e/a,this.fy+=l*r/a}},{key:"in",value:function(t){return t.contains(this.rx,this.ry)}},{key:"add",value:function(t){var e=this.mass+t.mass,r=(this.rx*this.mass+t.rx*t.mass)/e,a=(this.ry*this.mass+t.ry*t.mass)/e,l=this.degree+t.degree,f={rx:r,ry:a,mass:e,degree:l};return new u(f)}}]),u}(),U1=function(){function u(n){Object(Bn.a)(this,u),this.xmid=n.xmid,this.ymid=n.ymid,this.length=n.length,this.massCenter=n.massCenter||[0,0],this.mass=n.mass||1}return Object(kn.a)(u,[{key:"getLength",value:function(){return this.length}},{key:"contains",value:function(t,e){var r=this.length/2;return t<=this.xmid+r&&t>=this.xmid-r&&e<=this.ymid+r&&e>=this.ymid-r}},{key:"NW",value:function(){var t=this.xmid-this.length/4,e=this.ymid+this.length/4,r=this.length/2,a={xmid:t,ymid:e,length:r},l=new u(a);return l}},{key:"NE",value:function(){var t=this.xmid+this.length/4,e=this.ymid+this.length/4,r=this.length/2,a={xmid:t,ymid:e,length:r},l=new u(a);return l}},{key:"SW",value:function(){var t=this.xmid-this.length/4,e=this.ymid-this.length/4,r=this.length/2,a={xmid:t,ymid:e,length:r},l=new u(a);return l}},{key:"SE",value:function(){var t=this.xmid+this.length/4,e=this.ymid-this.length/4,r=this.length/2,a={xmid:t,ymid:e,length:r},l=new u(a);return l}}]),u}(),W1=function(){function u(n){Object(Bn.a)(this,u),this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,n!=null&&(this.quad=n)}return Object(kn.a)(u,[{key:"insert",value:function(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new u(this.quad.NW()),this.NE=new u(this.quad.NE()),this.SW=new u(this.quad.SW()),this.SE=new u(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}},{key:"_putBody",value:function(t){!this.quad||(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}},{key:"_isExternal",value:function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}},{key:"updateForce",value:function(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{var e=this.quad?this.quad.getLength():0,r=this.body.distanceTo(t);e/r<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}]),u}(),z1=function(u){Object(ja.a)(t,u);var n=Object(Va.a)(t);function t(e){var r;return Object(Bn.a)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.kr=5,r.kg=1,r.mode="normal",r.preventOverlap=!1,r.dissuadeHubs=!1,r.barnesHut=!1,r.maxIteration=0,r.ks=.1,r.ksmax=10,r.tao=.1,r.onLayoutEnd=function(){},r.prune=!1,r.updateCfg(e),r}return Object(kn.a)(t,[{key:"getDefaultCfg",value:function(){return{}}},{key:"execute",value:function(){var r=this,a=r.nodes,l=r.maxIteration,f=r.onLayoutEnd,v=r.prune;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);for(var m=[],T=a.length,w=0;w<T;w+=1){var X=a[w],Z=10,J=10;Sn(X.size)&&(Z=X.size,J=X.size),Na(X.size)&&(isNaN(X.size[0])||(Z=X.size[0]),isNaN(X.size[1])||(J=X.size[1])),r.getWidth&&!isNaN(r.getWidth(X))&&(J=r.getWidth(X)),r.getHeight&&!isNaN(r.getHeight(X))&&(Z=r.getHeight(X));var ht=Math.max(Z,J);m.push(ht)}!r.barnesHut&&T>250&&(r.barnesHut=!0),!r.prune&&T>100&&(r.prune=!0),this.maxIteration===0&&!r.prune?(l=250,T<=200&&T>100?l=1e3:T>200&&(l=1200),this.maxIteration=l):this.maxIteration===0&&v&&(l=100,T<=200&&T>100?l=500:T>200&&(l=950),this.maxIteration=l),r.kr||(r.kr=50,T>100&&T<=500?r.kr=20:T>500&&(r.kr=1)),r.kg||(r.kg=20,T>100&&T<=500?r.kg=10:T>500&&(r.kg=1)),this.nodes=r.updateNodesByForces(m),f()}},{key:"updateNodesByForces",value:function(r){for(var a=this,l=a.nodes,f=a.edges,v=a.maxIteration,m=f.filter(function(fe){return fe.source!==fe.target}),T=l.length,w=m.length,X=[],Z={},J={},ht=[],mt=0;mt<T;mt+=1)Z[l[mt].id]=mt,X[mt]=0,(l[mt].x===void 0||isNaN(l[mt].x))&&(l[mt].x=Math.random()*1e3),(l[mt].y===void 0||isNaN(l[mt].y))&&(l[mt].y=Math.random()*1e3),ht.push({x:l[mt].x,y:l[mt].y});for(var At=0;At<w;At+=1){for(var St=void 0,Bt=void 0,kt=0,Yt=0,qt=0;qt<T;qt+=1)l[qt].id===m[At].source?(St=l[qt],kt=qt):l[qt].id===m[At].target&&(Bt=l[qt],Yt=qt),J[At]={sourceIdx:kt,targetIdx:Yt};St&&(X[Z[St.id]]+=1),Bt&&(X[Z[Bt.id]]+=1)}var ee=v;if(l=this.iterate(ee,Z,J,w,X,r),a.prune){for(var re=0;re<w;re+=1)X[J[re].sourceIdx]<=1?(l[J[re].sourceIdx].x=l[J[re].targetIdx].x,l[J[re].sourceIdx].y=l[J[re].targetIdx].y):X[J[re].targetIdx]<=1&&(l[J[re].targetIdx].x=l[J[re].sourceIdx].x,l[J[re].targetIdx].y=l[J[re].sourceIdx].y);a.prune=!1,a.barnesHut=!1,ee=100,l=this.iterate(ee,Z,J,w,X,r)}return l}},{key:"iterate",value:function(r,a,l,f,v,m){for(var T=this,w=T.nodes,X=T.kr,Z=T.preventOverlap,J=T.barnesHut,ht=w.length,mt=0,At=100,St=r,Bt=50,kt=[],Yt=[],qt=[],ee=0;ee<ht;ee+=1)if(kt[2*ee]=0,kt[2*ee+1]=0,J){var re={id:ee,rx:w[ee].x,ry:w[ee].y,mass:1,g:X,degree:v[ee]};qt[ee]=new G1(re)}for(;St>0;){for(var fe=0;fe<ht;fe+=1)Yt[2*fe]=kt[2*fe],Yt[2*fe+1]=kt[2*fe+1],kt[2*fe]=0,kt[2*fe+1]=0;kt=this.getAttrForces(St,Bt,f,a,l,v,m,kt),J&&(Z&&St>Bt||!Z)?kt=this.getOptRepGraForces(kt,qt,v):kt=this.getRepGraForces(St,Bt,kt,At,m,v);var le=this.updatePos(kt,Yt,mt,v);w=le.nodes,mt=le.sg,St--,T.tick&&T.tick()}return w}},{key:"getAttrForces",value:function(r,a,l,f,v,m,T,w){for(var X=this,Z=X.nodes,J=X.preventOverlap,ht=X.dissuadeHubs,mt=X.mode,At=X.prune,St=0;St<l;St+=1){var Bt=Z[v[St].sourceIdx],kt=v[St].sourceIdx,Yt=Z[v[St].targetIdx],qt=v[St].targetIdx;if(!(At&&(m[kt]<=1||m[qt]<=1))){var ee=[Yt.x-Bt.x,Yt.y-Bt.y],re=Math.hypot(ee[0],ee[1]);re=re<1e-4?1e-4:re,ee[0]=ee[0]/re,ee[1]=ee[1]/re,J&&r<a&&(re=re-T[kt]-T[qt]);var fe=re,le=fe;mt==="linlog"&&(fe=Math.log(1+re),le=fe),ht&&(fe=re/m[kt],le=re/m[qt]),J&&r<a&&re<=0?(fe=0,le=0):J&&r<a&&re>0&&(fe=re,le=re),w[2*f[Bt.id]]+=fe*ee[0],w[2*f[Yt.id]]-=le*ee[0],w[2*f[Bt.id]+1]+=fe*ee[1],w[2*f[Yt.id]+1]-=le*ee[1]}}return w}},{key:"getRepGraForces",value:function(r,a,l,f,v,m){for(var T=this,w=T.nodes,X=T.preventOverlap,Z=T.kr,J=T.kg,ht=T.center,mt=T.prune,At=w.length,St=0;St<At;St+=1){for(var Bt=St+1;Bt<At;Bt+=1)if(!(mt&&(m[St]<=1||m[Bt]<=1))){var kt=[w[Bt].x-w[St].x,w[Bt].y-w[St].y],Yt=Math.hypot(kt[0],kt[1]);Yt=Yt<1e-4?1e-4:Yt,kt[0]=kt[0]/Yt,kt[1]=kt[1]/Yt,X&&r<a&&(Yt=Yt-v[St]-v[Bt]);var qt=Z*(m[St]+1)*(m[Bt]+1)/Yt;X&&r<a&&Yt<0?qt=f*(m[St]+1)*(m[Bt]+1):X&&r<a&&Yt===0?qt=0:X&&r<a&&Yt>0&&(qt=Z*(m[St]+1)*(m[Bt]+1)/Yt),l[2*St]-=qt*kt[0],l[2*Bt]+=qt*kt[0],l[2*St+1]-=qt*kt[1],l[2*Bt+1]+=qt*kt[1]}var ee=[w[St].x-ht[0],w[St].y-ht[1]],re=Math.hypot(ee[0],ee[1]);ee[0]=ee[0]/re,ee[1]=ee[1]/re;var fe=J*(m[St]+1);l[2*St]-=fe*ee[0],l[2*St+1]-=fe*ee[1]}return l}},{key:"getOptRepGraForces",value:function(r,a,l){for(var f=this,v=f.nodes,m=f.kg,T=f.center,w=f.prune,X=v.length,Z=9e10,J=-9e10,ht=9e10,mt=-9e10,At=0;At<X;At+=1)w&&l[At]<=1||(a[At].setPos(v[At].x,v[At].y),v[At].x>=J&&(J=v[At].x),v[At].x<=Z&&(Z=v[At].x),v[At].y>=mt&&(mt=v[At].y),v[At].y<=ht&&(ht=v[At].y));for(var St=Math.max(J-Z,mt-ht),Bt={xmid:(J+Z)/2,ymid:(mt+ht)/2,length:St,massCenter:T,mass:X},kt=new U1(Bt),Yt=new W1(kt),qt=0;qt<X;qt+=1)w&&l[qt]<=1||a[qt].in(kt)&&Yt.insert(a[qt]);for(var ee=0;ee<X;ee+=1)if(!(w&&l[ee]<=1)){a[ee].resetForce(),Yt.updateForce(a[ee]),r[2*ee]-=a[ee].fx,r[2*ee+1]-=a[ee].fy;var re=[v[ee].x-T[0],v[ee].y-T[1]],fe=Math.hypot(re[0],re[1]);fe=fe<1e-4?1e-4:fe,re[0]=re[0]/fe,re[1]=re[1]/fe;var le=m*(l[ee]+1);r[2*ee]-=le*re[0],r[2*ee+1]-=le*re[1]}return r}},{key:"updatePos",value:function(r,a,l,f){for(var v=this,m=v.nodes,T=v.ks,w=v.tao,X=v.prune,Z=v.ksmax,J=m.length,ht=[],mt=[],At=0,St=0,Bt=0;Bt<J;Bt+=1)if(!(X&&f[Bt]<=1)){var kt=[r[2*Bt]-a[2*Bt],r[2*Bt+1]-a[2*Bt+1]],Yt=Math.hypot(kt[0],kt[1]),qt=[r[2*Bt]+a[2*Bt],r[2*Bt+1]+a[2*Bt+1]],ee=Math.hypot(qt[0],qt[1]);ht[Bt]=Yt,mt[Bt]=ee/2,At+=(f[Bt]+1)*ht[Bt],St+=(f[Bt]+1)*mt[Bt]}var re=l;l=w*St/At,re!==0&&(l=l>1.5*re?1.5*re:l);for(var fe=0;fe<J;fe+=1)if(!(X&&f[fe]<=1)){var le=T*l/(1+l*Math.sqrt(ht[fe])),Oe=Math.hypot(r[2*fe],r[2*fe+1]);Oe=Oe<1e-4?1e-4:Oe;var Te=Z/Oe;le=le>Te?Te:le;var sr=le*r[2*fe],fr=le*r[2*fe+1];m[fe].x+=sr,m[fe].y+=fr}return{nodes:m,sg:l}}}]),t}(Ka),zM=function(){function u(n){Object(Bn.a)(this,u);var t=ma(n.type);this.layoutInstance=new t(n)}return Object(kn.a)(u,[{key:"layout",value:function(t){return this.layoutInstance.layout(t)}},{key:"updateCfg",value:function(t){this.layoutInstance.updateCfg(t)}},{key:"init",value:function(t){this.layoutInstance.init(t)}},{key:"execute",value:function(){this.layoutInstance.execute()}},{key:"getDefaultCfg",value:function(){return this.layoutInstance.getDefaultCfg()}},{key:"destroy",value:function(){return this.layoutInstance.destroy()}}]),u}(),zg=new Proxy({},{get:function(n,t){return ma(t)},set:function(n,t,e){return _e(t,e),!0}}),k1=i("efFw"),rg=i.n(k1),e0=es.traverseTree,V1=function(n,t){var e;return n?Object(p.K)(n)?e=function(a){return n}:e=n:e=function(a){return t||1},e},X1=function(n,t){var e=[],r=[],a={},l=0;for(l=0;l<n.length;l++){var f=n[l];a[f.id]=l,e.push(f.x),e.push(f.y),e.push(0),e.push(0),r.push([])}for(l=0;l<t.length;l++){var v=t[l];r[a[v.source]].push(a[v.target]),r[a[v.target]].push(a[v.source])}var m=0;for(l=0;l<n.length;l++){var T=e.length,w=r[l],X=w.length;e[l*4+2]=T,e[l*4+3]=w.length,m=Math.max(m,w.length);for(var Z=0;Z<X;++Z){var J=w[Z];e.push(+J)}}for(;e.length%4!=0;)e.push(0);return{array:new Float32Array(e),maxEdgePerVetex:m}},H1=function(n,t,e){var r=[],a=[],l={},f=0;for(f=0;f<n.length;f++){var v=n[f];l[v.id]=f,r.push(v.x),r.push(v.y),r.push(0),r.push(0),a.push([])}for(f=0;f<t.length;f++){var m=t[f];a[l[m.source]].push(l[m.target]),a[l[m.source]].push(e(m)),a[l[m.target]].push(l[m.source]),a[l[m.target]].push(e(m))}var T=0;for(f=0;f<n.length;f++){var w=r.length,X=a[f],Z=X.length;r[f*4+2]=w,r[f*4+3]=Z/2,T=Math.max(T,Z/2);for(var J=0;J<Z;++J){var ht=X[J];r.push(+ht)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:T}},K1=function(n,t,e,r){var a=[],l=[],f={},v=0;for(v=0;v<n.length;v++){var m=n[v];f[m.id]=v,a.push(m.x),a.push(m.y),a.push(0),a.push(0),l.push([])}for(v=0;v<t.length;v++){var T=t[v];l[f[T.source]].push(f[T.target]),l[f[T.source]].push(e(T)),l[f[T.source]].push(r(T)),l[f[T.source]].push(0),l[f[T.target]].push(f[T.source]),l[f[T.target]].push(e(T)),l[f[T.target]].push(r(T)),l[f[T.target]].push(0)}var w=0;for(v=0;v<n.length;v++){var X=a.length,Z=l[v],J=Z.length;a[v*4+2]=X+1048576*J/4,a[v*4+3]=0,w=Math.max(w,J/4);for(var ht=0;ht<J;++ht){var mt=Z[ht];a.push(+mt)}}for(;a.length%4!=0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:w}},Y1=function(n,t){var e=[],r=n.length,a={};return t.forEach(function(l){n.forEach(function(f,v){if(a[l[f]]===void 0&&(a[l[f]]=Object.keys(a).length),e.push(a[l[f]]),v===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(a).length}},Z1=function(n){for(var t=[],e=n.length,r=n[0].length,a=function(v){n.forEach(function(m,T){if(t.push(m[v]),T===e-1)for(;t.length%4!=0;)t.push(0)})},l=0;l<r;l++)a(l);return new Float32Array(t)},$1=function(n,t){var e=["V","TB","BT"],r={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},l="x",f="y";t&&e.indexOf(t)>=0&&(f="x",l="y");var v=0;e0(n,function(w){return v++,w.x>a.x&&(a.x=w.x),w.x<r.x&&(r.x=w.x),w.y>a.y&&(a.y=w.y),w.y<r.y&&(r.y=w.y),!0});var m=Math.PI*2/v,T=a[f]-r[f];return T===0||e0(n,function(w){var X=(w[f]-r[f])/T*(Math.PI*2-m)+m,Z=Math.abs(l==="x"?w.x-n.x:w.y-n.y);return w.x=Z*Math.cos(X),w.y=Z*Math.sin(X),!0}),n},r0=function u(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var n=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(n.getContext("webgl")||n.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var e=t.parent!==void 0?t.parent:document.body,r=t.id!==void 0?t.id:"oldie",a=u().getWebGLErrorMessage();a.id=r,e.appendChild(a)}}},Q1=Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)({},es),O),E),I),fc=Q1,J1=fc.radialLayout,_1=function(){function u(n){this.type=n.type,this.radial=n.radial,this.config=n}return u.prototype.init=function(n){var t=this;if(this.data=n,this.radial){this.layoutMethod=function(e){var r=rg.a[t.type](e,t.config);return J1(r),r};return}this.layoutMethod=function(e){return rg.a[t.type](e,t.config)}},u.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},u.prototype.layout=function(n){return this.init(n),this.execute()},u}(),q1=_1;_e("grid",Se),_e("random",ce),_e("force",Ot),_e("circular",de),_e("dagre",er),_e("radial",Eb),_e("concentric",Sb),_e("mds",Cb),_e("fruchterman",Tb),_e("fruchterman-gpu",R1),_e("gForce",Je),_e("gForce-gpu",N1),_e("comboForce",F1),_e("forceAtlas2",z1);var tE=function(n,t){t.isCustomLayout=!0,_e(n,t)},eE=function(){function u(n,t){var e=n.toString(),r=new Blob(["importScripts('"+t+"');("+e+")()"],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}return u}(),rE=eE,nE=function(n){n===void 0&&(n="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var r={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function a(f){var v=f.data.type;return v===r.RUN||v===r.GPURUN}function l(f){var v=this,m=f.data.type;switch(m){case r.RUN:{var T=f.data,w=T.nodes,X=T.edges,Z=T.layoutCfg,J=Z===void 0?{}:Z,ht=J.type,mt=layout.getLayoutByName(ht);if(!mt){this.postMessage({type:r.ERROR,message:"layout "+ht+" not found"});break}var At;J.onLayoutEnd=function(){v.postMessage({type:r.END,nodes:w}),At==null||At.destroy()},At=new mt(J),At.init({nodes:w,edges:X}),At.execute();break}case r.GPURUN:{var St=f.data,Bt=St.nodes,X=St.edges,kt=St.layoutCfg,J=kt===void 0?{}:kt,Yt=St.canvas,ht=J.type,mt=layout.getLayoutByName(ht);if(!mt){this.postMessage({type:r.ERROR,message:"layout "+ht+" not found"});break}if(ht.split("-")[1]!=="gpu"){this.postMessage({type:r.ERROR,message:"layout "+ht+" does not support GPU"});break}var qt=new mt(J);qt.init({nodes:Bt,edges:X}),qt.executeWithWorker(Yt,this);break}default:break}}onmessage=function(v){a(v)&&l(v)}}var e=new rE(t,n);return e},hd={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function ng(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ng=function(t){return typeof t}:ng=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(u)}var n0=function(n){return setTimeout(n,16)},a0=function(n){return clearTimeout(n)},ag={requestAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||n0;return t(n)},cancelAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||a0;return t(n)}},i0=["fruchterman","gForce"],aE=["force","grid","circular"],iE=function(u){Object(ve.c)(n,u);function n(t){var e=u.call(this,t)||this;return e.graph=t,e.layoutCfg=t.get("layout")||{},e.layoutType=e.getLayoutType(),e.worker=null,e.workerData={},e.initLayout(),e}return n.prototype.initLayout=function(){},n.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=nE(this.layoutCfg.workerScriptURL),this.worker)},n.prototype.stopWorker=function(){var t=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,t.requestId&&(ag.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(ag.cancelAnimationFrame(t.requestId2),t.requestId2=null))},n.prototype.execLayoutMethod=function(t,e){var r=this;return new Promise(function(a,l){var f=r.graph,v=t.type;t.onLayoutEnd=function(){f.emit("aftersublayout",{type:v}),a()},v&&r.isGPU&&(r.hasGPUVersion(v)?v=v+"-gpu":console.warn("The '"+v+"' layout does not support GPU calculation for now, it will run in CPU."));var m=v==="force"||v==="g6force"||v==="gForce";if(m){var T=t.onTick,w=function(){T&&T(),f.refreshPositions()};t.tick=w}else t.type==="comboForce"&&(t.comboTrees=f.get("comboTrees"));var X=!1,Z;try{Z=new zg[v](t)}catch(mt){console.warn("The layout method: '"+v+"' does not exist! Please specify it first."),l()}if(X=Z.enableTick,X){var J=t.onTick,w=function(){J&&J(),f.refreshPositions()};Z.tick=w}var ht=r.filterLayoutData(r.data,t);uE(ht,e),Z.init(ht),f.emit("beforesublayout",{type:v}),Z.execute(),Z.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),r.layoutMethods[e]=Z})},n.prototype.updateLayoutMethod=function(t,e){var r=this;return new Promise(function(a,l){var f=r.graph,v=e==null?void 0:e.type;e.onLayoutEnd=function(){f.emit("aftersublayout",{type:v}),a()};var m=r.filterLayoutData(r.data,e);t.init(m),t.updateCfg(e),f.emit("beforesublayout",{type:v}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()})},n.prototype.layout=function(t){var e=this,r=this.graph;this.data=this.setDataFromGraph();var a=this.data,l=a.nodes,f=a.hiddenNodes;if(!l)return!1;var v=r.get("width"),m=r.get("height"),T={};Object.assign(T,{width:v,height:m,center:[v/2,m/2]},this.layoutCfg),this.layoutCfg=T,this.destoryLayoutMethods(),r.emit("beforelayout"),this.initPositions(T.center,l),this.initPositions(T.center,f);var w=T.type;w&&w.split("-")[1]==="gpu"&&(w=w.split("-")[0],T.gpuEnabled=!0);var X=!1;T.gpuEnabled&&(X=!0,r0().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),X=!1)),this.isGPU=X;var Z=T.onLayoutEnd,J=T.layoutEndFormatted,ht=T.adjust;if(J||(T.layoutEndFormatted=!0,T.onAllLayoutEnd=function(){return Object(ve.b)(e,void 0,void 0,function(){return Object(ve.d)(this,function(At){switch(At.label){case 0:return Z&&Z(),this.refreshLayout(),ht&&T.pipes?[4,this.adjustPipesBox(this.data,ht)]:[3,2];case 1:At.sent(),this.refreshLayout(),At.label=2;case 2:return r.emit("afterlayout"),[2]}})})}),this.stopWorker(),T.workerEnabled&&this.layoutWithWorker(this.data))return!0;var mt=Promise.resolve();return T.type?mt=mt.then(function(){return e.execLayoutMethod(T,0)}):T.pipes&&T.pipes.forEach(function(At,St){mt=mt.then(function(){return e.execLayoutMethod(At,St)})}),mt.then(function(){T.onAllLayoutEnd&&T.onAllLayoutEnd(),t&&t()}).catch(function(At){console.warn("graph layout failed,",At)}),!1},n.prototype.layoutWithWorker=function(t){var e=this,r=this,a=r.layoutCfg,l=r.graph,f=this.getWorker(),v=this.workerData;if(!f)return!1;v.requestId=null,v.requestId2=null,v.currentTick=null,v.currentTickData=null,l.emit("beforelayout");var m=Promise.resolve();if(a.type)m=m.then(function(){return e.runWebworker(f,t,a)});else if(a.pipes)for(var T=function(ht){m=m.then(function(){return e.runWebworker(f,t,ht)})},w=0,X=a.pipes;w<X.length;w++){var Z=X[w];T(Z)}return m.then(function(){a.onAllLayoutEnd&&a.onAllLayoutEnd()}).catch(function(J){console.error("layout failed",J)}),!0},n.prototype.runWebworker=function(t,e,r){var a=this,l=this.isGPU,f=this.filterLayoutData(e,r),v=f.nodes,m=f.edges,T=document.createElement("canvas"),w=l&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in T,X=sE(r,function(J){return typeof J!="function"});if(!w)t.postMessage({type:hd.RUN,nodes:v,edges:m,layoutCfg:X});else{var Z=T.transferControlToOffscreen();X.type=X.type+"-gpu",t.postMessage({type:hd.GPURUN,nodes:v,edges:m,layoutCfg:X,canvas:Z},[Z])}return new Promise(function(J,ht){t.onmessage=function(mt){a.handleWorkerMessage(J,ht,mt,f,r)}})},n.prototype.handleWorkerMessage=function(t,e,r,a,l){var f=this,v=f.graph,m=f.workerData,T=r.data,w=T.type,X=function(){l.onTick&&l.onTick()};switch(w){case hd.TICK:m.currentTick=T.currentTick,m.currentTickData=T,m.requestId||(m.requestId=ag.requestAnimationFrame(function(){kg(a,T),v.refreshPositions(),X(),T.currentTick===T.totalTicks?t():m.currentTick===T.totalTicks&&(m.requestId2=ag.requestAnimationFrame(function(){kg(a,m.currentTickData),v.refreshPositions(),m.requestId2=null,X(),t()})),m.requestId=null}));break;case hd.END:m.currentTick==null&&(kg(a,T),t());break;case hd.GPUEND:m.currentTick==null&&(lE(a,T),t());break;case hd.ERROR:console.warn("Web-Worker layout error!",T.message),e();break;default:e();break}},n.prototype.updateLayoutCfg=function(t){var e=this,r=this,a=r.graph,l=r.layoutMethods,f=Object(p.bb)({},this.layoutCfg,t);if(this.layoutCfg=f,!(l==null?void 0:l.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(t.workerEnabled&&this.layoutWithWorker(this.data))){a.emit("beforelayout");var v=Promise.resolve();l.length===1?v=v.then(function(){return e.updateLayoutMethod(l[0],f)}):l==null||l.forEach(function(m,T){var w=f.pipes[T];v=v.then(function(){return e.updateLayoutMethod(m,w)})}),v.then(function(){f.onAllLayoutEnd&&f.onAllLayoutEnd()}).catch(function(m){console.warn("layout failed",m)})}},n.prototype.adjustPipesBox=function(t,e){var r=this;return new Promise(function(a){var l=t.nodes;(l==null?void 0:l.length)||a(),aE.includes(e)||(console.warn("The adjust type "+e+" is not supported yet, please assign it with 'force', 'grid', or 'circular'."),a());var f={center:r.layoutCfg.center,nodeSize:function(J){return Math.max(J.height,J.width)},preventOverlap:!0,onLayoutEnd:function(){}},v=r.getLayoutBBox(l),m=v.groupNodes,T=v.layoutNodes,w=Object(p.e)(T);f.onLayoutEnd=function(){T==null||T.forEach(function(Z,J){var ht,mt,At,St=Z.x-((ht=w[J])===null||ht===void 0?void 0:ht.x),Bt=Z.y-((mt=w[J])===null||mt===void 0?void 0:mt.y);(At=m[J])===null||At===void 0||At.forEach(function(kt){kt.x+=St,kt.y+=Bt})}),a()};var X=new zg[e](f);X.layout({nodes:T})})},n.prototype.hasGPUVersion=function(t){for(var e=i0.length,r=0;r<e;r++)if(i0[r]===t)return!0;return!1},n.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},n}(tc),oE=iE;function kg(u,n){for(var t=u.nodes,e=n.nodes,r=t.length,a=0;a<r;a++){var l=t[a];l.x=e[a].x,l.y=e[a].y}}function sE(u,n){var t={};return u&&ng(u)==="object"?(Object.keys(u).forEach(function(e){u.hasOwnProperty(e)&&n(u[e])&&(t[e]=u[e])}),t):u}function lE(u,n){for(var t=u.nodes,e=n.vertexEdgeData,r=t.length,a=0;a<r;a++){var l=t[a],f=e[4*a],v=e[4*a+1];l.x=f,l.y=v}}function uE(u,n){var t;if(!!((t=u==null?void 0:u.nodes)===null||t===void 0?void 0:t.length)){var e=u.nodes;e.forEach(function(r){r.layoutOrder=n})}}var o0=S.transform,cE="svg",fE=function(u){Object(ve.c)(n,u);function n(t){var e=u.call(this,t)||this,r=e.get("defaultNode");return r||e.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",e.set("defaultNode",r)),e.destroyed=!1,e}return n.prototype.initLayoutController=function(){var t=new oE(this);this.set({layoutController:t})},n.prototype.initEventController=function(){var t=new ca(this);this.set({eventController:t})},n.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=t.clientWidth,r=t.clientHeight,a=this.get("width")||e,l=this.get("height")||r,f=this.get("renderer"),v;if(f===cE)v=new hs.Canvas({container:t,width:a,height:l});else{var m={container:t,width:a,height:l},T=this.get("pixelRatio");T&&(m.pixelRatio=T),v=new zi.Canvas(m)}this.set("canvas",v)},n.prototype.initPlugins=function(){var t=this;Object(p.j)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},n.prototype.downloadImageWatermark=function(t,e,r,a){return Object(ve.b)(this,void 0,void 0,function(){var l,f,v;return Object(ve.d)(this,function(m){switch(m.label){case 0:return l=t.style.backgroundImage,f=l.slice(5,l.length-2),v=new Image,v.src=f,[4,new Promise(function(T){v.onload=function(){var w=e.createPattern(v,"repeat");e.rect(0,0,r,a),e.fillStyle=w,e.fill(),T("")}})];case 1:return m.sent(),[2]}})})},n.prototype.asyncToDataUrl=function(t,e,r,a,l,f){var v=this,m=document.querySelector(".g6-graph-watermarker"),T=this.get("canvas"),w=T.getRenderer(),X=f||T.get("el"),Z="";t||(t="image/png"),setTimeout(function(){return Object(ve.b)(v,void 0,void 0,function(){var J,ht,mt,At,St,Bt,kt,Yt,qt,ee;return Object(ve.d)(this,function(re){switch(re.label){case 0:return w!=="svg"?[3,1]:(J=X.cloneNode(!0),ht=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),mt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",ht),mt.replaceChild(J,mt.documentElement),At=new XMLSerializer().serializeToString(mt),Z="data:image/svg+xml;charset=utf8,"+encodeURIComponent(At),[3,4]);case 1:return St=void 0,Bt=X.getContext("2d"),kt=a||this.get("width"),Yt=l||this.get("height"),qt=void 0,m?[4,this.downloadImageWatermark(m,Bt,kt,Yt)]:[3,3];case 2:re.sent(),re.label=3;case 3:e&&(ee=typeof window!="undefined"?window.devicePixelRatio:1,St=Bt.getImageData(0,0,kt*ee,Yt*ee),qt=Bt.globalCompositeOperation,Bt.globalCompositeOperation="destination-over",Bt.fillStyle=e,Bt.fillRect(0,0,kt,Yt)),Z=X.toDataURL(t),e&&(Bt.clearRect(0,0,kt,Yt),Bt.putImageData(St,0,0),Bt.globalCompositeOperation=qt),re.label=4;case 4:return r&&r(Z),[2]}})})},16)},n.prototype.toDataURL=function(t,e){var r=this.get("canvas"),a=r.getRenderer(),l=r.get("el");t||(t="image/png");var f="";if(a==="svg"){var v=l.cloneNode(!0),m=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),T=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",m);T.replaceChild(v,T.documentElement);var w=new XMLSerializer().serializeToString(T);f="data:image/svg+xml;charset=utf8,"+encodeURIComponent(w)}else{var X=void 0,Z=l.getContext("2d"),J=this.get("width"),ht=this.get("height"),mt=void 0;if(e){var At=typeof window!="undefined"?window.devicePixelRatio:1;X=Z.getImageData(0,0,J*At,ht*At),mt=Z.globalCompositeOperation,Z.globalCompositeOperation="destination-over",Z.fillStyle=e,Z.fillRect(0,0,J,ht)}f=l.toDataURL(t),e&&(Z.clearRect(0,0,J,ht),Z.putImageData(X,0,0),Z.globalCompositeOperation=mt)}return f},n.prototype.toFullDataURL=function(t,e,r){var a=this.get("group").getCanvasBBox(),l=a.height,f=a.width,v=this.get("renderer"),m=Object(_n.b)('<id="virtual-image"></div>'),T=r?r.backgroundColor:void 0,w=r?r.padding:void 0;w?Object(p.K)(w)&&(w=[w,w,w,w]):w=[0,0,0,0];var X=l+w[0]+w[2],Z=f+w[1]+w[3],J={container:m,height:X,width:Z,quickHit:!0},ht=v==="svg"?new hs.Canvas(J):new zi.Canvas(J),mt=this.get("group"),At=mt.clone(),St=Object(p.e)(At.getMatrix());St||(St=[1,0,0,0,1,0,0,0,1]);var Bt=(a.maxX+a.minX)/2,kt=(a.maxY+a.minY)/2;St=o0(St,[["t",-Bt,-kt],["t",f/2+w[3],l/2+w[0]]]),At.resetMatrix(),At.setMatrix(St),ht.add(At);var Yt=ht.get("el"),qt="";e||(e="image/png"),setTimeout(function(){if(v==="svg"){var ee=Yt.cloneNode(!0),re=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),fe=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",re);fe.replaceChild(ee,fe.documentElement);var le=new XMLSerializer().serializeToString(fe);qt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(le)}else{var Oe=void 0,Te=Yt.getContext("2d"),sr=void 0;if(T){var fr=typeof window!="undefined"?window.devicePixelRatio:1;Oe=Te.getImageData(0,0,Z*fr,X*fr),sr=Te.globalCompositeOperation,Te.globalCompositeOperation="destination-over",Te.fillStyle=T,Te.fillRect(0,0,Z,X)}qt=Yt.toDataURL(e),T&&(Te.clearRect(0,0,Z,X),Te.putImageData(Oe,0,0),Te.globalCompositeOperation=sr)}t&&t(qt)},16)},n.prototype.downloadFullImage=function(t,e,r){var a=this,l=this.get("group").getCanvasBBox(),f=l.height,v=l.width,m=this.get("renderer"),T=Object(_n.b)('<id="virtual-image"></div>'),w=document.querySelector(".g6-graph-watermarker"),X=r?r.backgroundColor:void 0,Z=r?r.padding:void 0;Z?Object(p.K)(Z)&&(Z=[Z,Z,Z,Z]):Z=[0,0,0,0];var J=f+Z[0]+Z[2],ht=v+Z[1]+Z[3];if(w){var mt=this.get("graphWaterMarker").cfg||{},At=mt.width,St=mt.height;J=Math.ceil(J/St)*St,ht=Math.ceil(ht/At)*At}var Bt={container:T,height:J,width:ht},kt=m==="svg"?new hs.Canvas(Bt):new zi.Canvas(Bt),Yt=this.get("group"),qt=Yt.clone(),ee=Object(p.e)(qt.getMatrix());ee||(ee=[1,0,0,0,1,0,0,0,1]);var re=(l.maxX+l.minX)/2,fe=(l.maxY+l.minY)/2;ee=o0(ee,[["t",-re,-fe],["t",v/2+Z[3],f/2+Z[0]]]),qt.resetMatrix(),qt.setMatrix(ee),kt.add(qt);var le=kt.get("el");e||(e="image/png"),this.asyncToDataUrl(e,X,function(Oe){var Te=document.createElement("a"),sr=(t||"graph")+(m==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Oe,m,Te,sr);var fr=document.createEvent("MouseEvents");fr.initEvent("click",!1,!1),Te.dispatchEvent(fr)},ht,J,le)},n.prototype.downloadImage=function(t,e,r){var a=this,l=this;l.isAnimating()&&l.stopAnimate();var f=l.get("canvas"),v=f.getRenderer();e||(e="image/png");var m=(t||"graph")+(v==="svg"?".svg":e.split("/")[1]),T=document.createElement("a");l.asyncToDataUrl(e,r,function(w){a.dataURLToImage(w,v,T,m);var X=document.createEvent("MouseEvents");X.initEvent("click",!1,!1),T.dispatchEvent(X)})},n.prototype.dataURLToImage=function(t,e,r,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var l=t.split(","),f="";if(l&&l.length>0){var v=l[0].match(/:(.*?);/);v&&v.length>=2&&(f=v[1])}for(var m=atob(l[1]),T=m.length,w=new Uint8Array(T);T--;)w[T]=m.charCodeAt(T);var X=new Blob([w],{type:f});window.navigator.msSaveBlob?window.navigator.msSaveBlob(X,a):r.addEventListener("click",function(){r.download=a,r.href=window.URL.createObjectURL(X)})}else r.addEventListener("click",function(){r.download=a,r.href=t})},n.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},n.prototype.removePlugin=function(t){var e=this.get("plugins"),r=e.indexOf(t);r>=0&&(t.destroyPlugin(),e.splice(r,1))},n.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Hn.waterMarkerImage);var r=this.get("container");Object(p.O)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var a=this.get("graphWaterMarker"),l=Object(p.h)({},Hn.imageWaterMarkerConfig,e),f=l.width,v=l.height,m=l.compatible,T=l.image;if(!a){var w={container:r,width:f,height:v,capture:!1},X=this.get("pixelRatio");X&&(w.pixelRatio=X),a=new zi.Canvas(w),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var Z=a.get("context"),J=T.rotate,ht=T.x,mt=T.y;Z.rotate(-J*Math.PI/180);var At=new Image;At.crossOrigin="anonymous",At.src=t,At.onload=function(){if(Z.drawImage(At,ht,mt,T.width,T.height),Z.rotate(J*Math.PI/180),m)r.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var St=document.querySelector(".g6-graph-watermarker");St||(St=document.createElement("div"),St.className="g6-graph-watermarker"),St.className="g6-graph-watermarker",a.destroyed||(St.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",r.appendChild(St))}}},n.prototype.setTextWaterMarker=function(t,e){var r=this.get("container");Object(p.O)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var a=this.get("graphWaterMarker"),l=Object(p.h)({},Hn.textWaterMarkerConfig,e),f=l.width,v=l.height,m=l.compatible,T=l.text;if(!a){var w={container:r,width:f,height:v,capture:!1},X=this.get("pixelRatio");X&&(w.pixelRatio=X),a=new zi.Canvas(w),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var Z=a.get("context"),J=T.rotate,ht=T.fill,mt=T.fontFamily,At=T.fontSize,St=T.baseline,Bt=T.x,kt=T.y,Yt=T.lineHeight;Z.rotate(-J*Math.PI/180),Z.font=At+"px "+mt,Z.fillStyle=ht,Z.textBaseline=St;for(var qt=t.length-1;qt>=0;qt--)Z.fillText(t[qt],Bt,kt+qt*Yt);if(Z.rotate(J*Math.PI/180),m)r.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var ee=document.querySelector(".g6-graph-watermarker");ee||(ee=document.createElement("div"),ee.className="g6-graph-watermarker"),ee.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",r.appendChild(ee)}},n.prototype.destroy=function(){Object(p.j)(this.get("plugins"),function(l){l.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var r=t[e];if(!!r){var a=r.parentElement;!a||a.removeChild(r)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),u.prototype.destroy.call(this)},n}(Qu),s0=fE,hE=fc.radialLayout,dE=fc.traverseTree,vE=function(u){Object(ve.c)(n,u);function n(t){var e=u.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return n.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var r=rg.a[t.type](e,t);return hE(r),r}:function(e){return rg.a[t.type](e,t)}):null},n.indexOfChild=function(t,e){var r=-1;return Object(p.j)(t,function(a,l){if(e===a.id)return r=l,!1}),r},n.prototype.getDefaultCfg=function(){var t=u.prototype.getDefaultCfg.call(this);return t.animate=!0,t},n.prototype.innerAddChild=function(t,e,r){var a=this,l=t.data;l&&(l.x=t.x,l.y=t.y,l.depth=t.depth);var f=a.addItem("node",l,!1);if(e){if(f.set("parent",e),r){var v=e.get("originAttrs");if(v)f.set("originAttrs",v);else{var m=e.getModel();f.set("originAttrs",{x:m.x,y:m.y})}}var T=e.get("children");T?T.push(f):e.set("children",[f]),a.addItem("edge",{source:e.get("id"),target:f.get("id"),id:e.get("id")+":"+f.get("id")},!1)}return Object(p.j)(t.children||[],function(w){a.innerAddChild(w,f,r)}),a.emit("afteraddchild",{item:f,parent:e}),f},n.prototype.innerUpdateChild=function(t,e,r){var a=this,l=a.findById(t.id);if(!l){a.innerAddChild(t,e,r);return}Object(p.j)(t.children||[],function(J){a.innerUpdateChild(J,l,r)});var f=l.get("children");if(f){var v=f.length;if(v>0)for(var m=f.length-1;m>=0;m--){var T=f[m].getModel();n.indexOfChild(t.children||[],T.id)===-1&&(a.innerRemoveChild(T.id,{x:t.x,y:t.y},r),f.splice(m,1))}}var w,X;l.get("originAttrs")&&(w=l.get("originAttrs").x,X=l.get("originAttrs").y);var Z=l.getModel();r&&l.set("originAttrs",{x:Z.x,y:Z.y}),l.set("model",t.data),(w!==t.x||X!==t.y)&&l.updatePosition({x:t.x,y:t.y})},n.prototype.innerRemoveChild=function(t,e,r){var a=this,l=a.findById(t);if(!!l)if(Object(p.j)(l.get("children"),function(v){a.innerRemoveChild(v.getModel().id,e,r)}),r){var f=l.getModel();l.set("to",e),l.set("originAttrs",{x:f.x,y:f.y}),a.get("removeList").push(l)}else a.removeItem(l)},n.prototype.changeData=function(t){var e=this;this.getNodes().map(function(r){return e.clearItemStates(r)}),this.getEdges().map(function(r){return e.clearItemStates(r)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},n.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},n.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},n.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},n.prototype.layout=function(t){var e=this,r=e.get("data"),a=e.get("layoutMethod"),l=a?a(r,e.get("layout")):r,f=e.get("animate");if(e.emit("beforerefreshlayout",{data:r,layoutData:l}),e.emit("beforelayout"),e.innerUpdateChild(l,void 0,f),t){var v=e.get("viewController");v.fitView()}f?e.layoutAnimate(l):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:r,layoutData:l}),e.emit("afterlayout")},n.prototype.addChild=function(t,e){var r=this;r.emit("beforeaddchild",{model:t,parent:e}),Object(p.O)(e)||(e=e.get("id"));var a=r.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),r.changeData())},n.prototype.updateChildren=function(t,e){var r=this;if(!e||!r.findById(e)){console.warn("Update children failed! There is no node with id '"+e+"'");return}var a=r.findDataById(e);a.children=t,r.changeData()},n.prototype.updateChild=function(t,e){var r=this;if(!e||!r.findById(e)){r.changeData(t);return}var a=r.findDataById(e),l=r.findById(t.id);if(a.children||(a.children=[]),!l)a.children.push(t);else{var f=n.indexOfChild(a.children,t.id);a.children[f]=t}r.changeData()},n.prototype.removeChild=function(t){var e=this,r=e.findById(t);if(!!r){var a=r.get("parent");if(a&&!a.destroyed){var l=e.findDataById(a.get("id")),f=l&&l.children||[],v=r.getModel(),m=n.indexOfChild(f,v.id);f.splice(m,1)}e.changeData()}},n.prototype.findDataById=function(t,e){var r=this;if(e||(e=r.get("data")),t===e.id)return e;var a=null;return Object(p.j)(e.children||[],function(l){if(l.id===t)return a=l,!1;if(a=r.findDataById(t,l),a)return!1}),a},n.prototype.layoutAnimate=function(t,e){var r=this,a=this.get("animateCfg");r.emit("beforeanimate",{data:t}),r.getEdges().forEach(function(l){var f=l.get("model");f.sourceAnchor||(f.sourceAnchor=l.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(l){dE(t,function(f){var v=r.findById(f.id);if(v){var m=v.get("originAttrs"),T=v.get("model");if(m||(m={x:T.x,y:T.y},v.set("originAttrs",m)),e){var w=e(v,l,m,t);v.set("model",Object.assign(T,w))}else T.x=m.x+(f.x-m.x)*l,T.y=m.y+(f.y-m.y)*l}return!0}),Object(p.j)(r.get("removeList"),function(f){var v=f.getModel(),m=f.get("originAttrs"),T=f.get("to");v.x=m.x+(T.x-m.x)*l,v.y=m.y+(T.y-m.y)*l}),r.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){Object(p.j)(r.getNodes(),function(f){f.set("originAttrs",null)}),Object(p.j)(r.get("removeList"),function(f){r.removeItem(f)}),r.set("removeList",[]),a.callback&&a.callback(),r.emit("afteranimate",{data:t})},delay:a.delay})},n.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},n.prototype.isLayoutAnimating=function(){return this.layoutAnimating},n.prototype.render=function(){var t=this,e=t.get("data");if(!e||!Object(p.M)(e)||!Object.keys(e).length)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},n.prototype.save=function(){return this.get("data")},n}(s0),gE=vE,pE=function(){function u(n){this._cfgs=Object(p.h)(this.getDefaultCfgs(),n),this._events={},this.destroyed=!1}return u.prototype.getDefaultCfgs=function(){return{}},u.prototype.initPlugin=function(n){var t=this;t.set("graph",n);var e=t.getEvents(),r={};Object(p.j)(e,function(a,l){var f=Object(p.wb)(t,a);r[l]=f,n.on(l,f)}),this._events=r,this.init()},u.prototype.getEvents=function(){return{}},u.prototype.get=function(n){return this._cfgs[n]},u.prototype.set=function(n,t){this._cfgs[n]=t},u.prototype.destroy=function(){},u.prototype.destroyPlugin=function(){this.destroy();var n=this.get("graph"),t=this._events;Object(p.j)(t,function(e,r){n.off(r,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},u}(),al=pE,yE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l0="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",mE=function(u){yE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{img:l0}},n.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),r=t.get("container"),a=t.get("canvas").get("el"),l=t.get("width"),f=t.get("height"),v=this.get("img")||l0,m=Object(_n.b)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),T=Object(_n.b)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+v+`;
        user-select: none
        '></div>`);m.appendChild(T),Object(_n.e)(m,{width:l+"px",height:f+"px",left:r.offsetLeft+"px",top:r.offsetTop+"px"}),Object(_n.e)(T,{width:l/e+"px",height:f/e+"px",left:"0px",top:"0px"}),r.insertBefore(m,a),this.set("container",m),this.set("gridContainer",T)},n.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},n.prototype.updateGrid=function(t){var e=this.get("gridContainer"),r=t.matrix;r||(r=[1,0,0,0,1,0,0,0,1]);var a="matrix("+r[0]+", "+r[1]+", "+r[3]+", "+r[4]+", 0, 0)";Object(_n.e)(e,{transform:a})},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),r=this.get("container");e.removeChild(r)},n}(al),bE=mE,OE=i("PwAq"),Vg=i.n(OE),xE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Vg()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var EE=function(u){xE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},n.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},n.prototype.init=function(){var t=this.get("className"),e=Object(_n.b)("<div class="+(t||"g6-component-contextmenu")+"></div>");Object(_n.e)(e,{top:"0px",position:"absolute",visibility:"hidden"});var r=this.get("container");r||(r=this.get("graph").get("container")),Object(p.O)(r)&&(r=document.getElementById(r)),r.appendChild(e),this.set("menu",e)},n.prototype.onMenuShow=function(t){var e=this;t.preventDefault(),t.stopPropagation();var r=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1){e.onMenuHide();return}}else if(r.indexOf("canvas")===-1)return;var a=this.get("shouldBegin");if(!!a(t)){var l=this.get("menu"),f=this.get("getContent"),v=this.get("graph"),m=f(t,v);Object(p.O)(m)?l.innerHTML=m:l.innerHTML=m.outerHTML,this.removeMenuEventListener();var T=this.get("handleMenuClick");if(T){var w=function(ee){T(ee.target,t.item,v)};this.set("handleMenuClickWrapper",w),l.addEventListener("click",w)}var X=v.get("width"),Z=v.get("height"),J=l.getBoundingClientRect(),ht=this.get("offsetX")||0,mt=this.get("offsetY")||0,At=v.getContainer().offsetTop,St=v.getContainer().offsetLeft,Bt=t.canvasX+St+ht,kt=t.canvasY+At+mt;Bt+J.width>X&&(Bt=t.canvasX-J.width-ht+St),kt+J.height>Z&&(kt=t.canvasY-J.height-mt+At),Object(_n.e)(l,{top:kt+"px",left:Bt+"px",visibility:"visible"});var Yt=function(ee){e.onMenuHide()};document.body.addEventListener("click",Yt),this.set("handler",Yt)}},n.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var r=this.get("menu");r.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},n.prototype.onMenuHide=function(){var t=this.get("menu");t&&Object(_n.e)(t,{visibility:"hidden"}),this.removeMenuEventListener()},n.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(p.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}(al),SE=EE,CE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xg=function(){return Xg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Xg.apply(this,arguments)},u0=Math.max,ME=S.transform,TE="default",AE="keyShape",IE="delegate",c0="svg",DE=function(u){CE(n,u);function n(){var t=u!==null&&u.apply(this,arguments)||this;return t.handleUpdateCanvas=Object(p.g)(function(e){var r=t;r.destroyed||r.updateCanvas()},100,!1),t}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.size,a=e.graph;if(!this.destroyed){var l=this.get("canvas"),f=l.get("container"),v=Object(_n.b)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`),m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,T=0,w=0,X=!1,Z=0,J=0,ht=0,mt=0,At=0,St=0;v.addEventListener("dragstart",function(Bt){var kt,Yt;if(Bt.dataTransfer){var qt=new Image;qt.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Yt=(kt=Bt.dataTransfer).setDragImage)===null||Yt===void 0||Yt.call(kt,qt,0,0);try{Bt.dataTransfer.setData("text/html","view-port-minimap")}catch(re){Bt.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,Bt.target===v){var ee=v.style;Z=parseInt(ee.left,10),J=parseInt(ee.top,10),ht=parseInt(ee.width,10),mt=parseInt(ee.height,10),!(ht>r[0]||mt>r[1])&&(St=a.getZoom(),At=t.get("ratio"),X=!0,T=Bt.clientX,w=Bt.clientY)}},!1),v.addEventListener(m?"dragover":"drag",function(Bt){if(!(!X||Object(p.I)(Bt.clientX)||Object(p.I)(Bt.clientY))){var kt=T-Bt.clientX,Yt=w-Bt.clientY;(Z-kt<0||Z-kt+ht>=r[0])&&(kt=0),(J-Yt<0||J-Yt+mt>=r[1])&&(Yt=0),Z-=kt,J-=Yt,Object(_n.e)(v,{left:Z+"px",top:J+"px"}),a.translate(kt*St/At,Yt*St/At),T=Bt.clientX,w=Bt.clientY}},!1),v.addEventListener("dragend",function(){X=!1,e.refresh=!0},!1),this.set("viewport",v),f.appendChild(v)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),r=this.get("dy"),a=this.get("totaldx"),l=this.get("totaldy"),f=this.get("graph"),v=this.get("size"),m=f.get("width"),T=f.get("height"),w=f.getPointByCanvas(0,0),X=f.getPointByCanvas(m,T),Z=this.get("viewport");Z||this.initViewport();var J=(X.x-w.x)*t,ht=(X.y-w.y)*t,mt=w.x*t+a,At=w.y*t+l,St=mt+J,Bt=At+ht;mt<0&&(J+=mt,mt=0),St>v[0]&&(J=J-(St-v[0])),At<0&&(ht+=At,At=0),Bt>v[1]&&(ht=ht-(Bt-v[1])),this.set("ratio",t);var kt=mt+"px",Yt=At+"px";Object(_n.e)(Z,{left:kt,top:Yt,width:J+"px",height:ht+"px"})}},n.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),r=t.get("group");if(!r.destroyed){var a=r.clone();a.resetMatrix(),e.clear(),e.add(a);var l=t.get("renderer");l===c0&&this.updateVisible(a)}},n.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var r=t.get("children");if(!r||!r.length)return;r.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},n.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph,r=this.get("canvas"),a=r.get("children")[0]||r.addGroup();Object(p.j)(e.getEdges(),function(v){t.updateOneEdgeKeyShape(v,a)}),Object(p.j)(e.getNodes(),function(v){t.updateOneNodeKeyShape(v,a)});var l=e.getCombos();if(l&&l.length){var f=a.find(function(v){return v.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){Object(p.j)(l,function(v){t.updateOneComboKeyShape(v,f)}),f.sort(),f.toBack()},250)}this.clearDestroyedShapes()},n.prototype.updateOneComboKeyShape=function(t,e){var r=this.get("itemMap")||{},a=r[t.get("id")],l=t.getBBox(),f=t.get("keyShape").clone(),v=f.attr(),m={x:l.centerX,y:l.centerY};a?m=Object.assign(v,m):(a=f,e.add(a));var T=a.get("type");(T==="rect"||T==="image")&&(m.x=l.minX,m.y=l.minY),a.attr(m),t.isVisible()?a.show():a.hide(),a.exist=!0;var w=t.getModel().depth;isNaN(w)||a.set("zIndex",w),r[t.get("id")]=a,this.set("itemMap",r)},n.prototype.updateOneNodeKeyShape=function(t,e){var r=this.get("itemMap")||{},a=r[t.get("id")],l=t.getBBox(),f=t.get("keyShape").clone(),v=f.attr(),m={x:l.centerX,y:l.centerY};a?m=Object.assign(v,m):(a=f,e.add(a));var T=a.get("type");(T==="rect"||T==="image")&&(m.x=l.minX,m.y=l.minY),a.attr(m),t.isVisible()?a.show():a.hide(),a.exist=!0;var w=t.getModel().depth;isNaN(w)||a.set("zIndex",w),r[t.get("id")]=a,this.set("itemMap",r)},n.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph,r=this.get("canvas"),a=r.get("children")[0]||r.addGroup();Object(p.j)(e.getEdges(),function(v){t.updateOneEdgeKeyShape(v,a)}),Object(p.j)(e.getNodes(),function(v){t.updateOneNodeDelegateShape(v,a)});var l=e.getCombos();if(l&&l.length){var f=a.find(function(v){return v.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){Object(p.j)(l,function(v){t.updateOneComboKeyShape(v,f)}),f.sort(),f.toBack()},250)}this.clearDestroyedShapes()},n.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var r=e.length-1;r>=0;r--){var a=t[e[r]],l=a.exist;a.exist=!1,l||(a.remove(),delete t[e[r]])}},n.prototype.updateOneEdgeKeyShape=function(t,e){var r=this.get("itemMap")||{},a=r[t.get("id")];if(a){var l=t.get("keyShape").attr("path");a.attr("path",l)}else a=t.get("keyShape").clone(),e.add(a);t.isVisible()?a.show():a.hide(),a.exist=!0,r[t.get("id")]=a,this.set("itemMap",r)},n.prototype.updateOneNodeDelegateShape=function(t,e){var r=this.get("delegateStyle"),a=this.get("itemMap")||{},l=a[t.get("id")],f=t.getBBox();if(l){var v={x:f.minX,y:f.minY,width:f.width,height:f.height};l.attr(v)}else l=e.addShape("rect",{attrs:Xg({x:f.minX,y:f.minY,width:f.width,height:f.height},r),name:"minimap-node-shape"});t.isVisible()?l.show():l.hide(),l.exist=!0,a[t.get("id")]=l,this.set("itemMap",a)},n.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=t.get("size"),a=t.get("className"),l=t.get("container"),f=Object(_n.b)("<div class='"+a+"' style='width: "+r[0]+"px; height: "+r[1]+"px; overflow: hidden'></div>");Object(p.O)(l)&&(l=document.getElementById(l)),l?l.appendChild(f):e.get("container").appendChild(f),t.set("container",f);var v=Object(_n.b)('<div class="g6-minimap-container" style="position: relative;"></div>');f.appendChild(v),v.addEventListener("dragenter",function(w){w.preventDefault()}),v.addEventListener("dragover",function(w){w.preventDefault()});var m,T=e.get("renderer");T===c0?m=new hs.Canvas({container:v,width:r[0],height:r[1]}):m=new zi.Canvas({container:v,width:r[0],height:r[1]}),t.set("canvas",m),t.updateCanvas()},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("size"),a=this.get("canvas"),l=this.get("type"),f=this.get("padding");if(!a.destroyed){switch(l){case TE:this.updateGraphShapes();break;case AE:this.updateKeyShapes();break;case IE:this.updateDelegateShapes();break;default:break}var v=a.get("children")[0];if(!!v){v.resetMatrix();var m=v.getCanvasBBox(),T=e.get("canvas").getCanvasBBox(),w=T.width,X=T.height;Number.isFinite(m.width)&&(w=u0(m.width,w),X=u0(m.height,X)),w+=2*f,X+=2*f;var Z=Math.min(r[0]/w,r[1]/X),J=[1,0,0,0,1,0,0,0,1],ht=0,mt=0;Number.isFinite(m.minX)&&(ht=-m.minX),Number.isFinite(m.minY)&&(mt=-m.minY);var At=(r[0]-(w-2*f)*Z)/2,St=(r[1]-(X-2*f)*Z)/2;J=ME(J,[["t",ht,mt],["s",Z,Z],["t",At,St]]),v.setMatrix(J),this.set("ratio",Z),this.set("totaldx",At+ht*Z),this.set("totaldy",St+mt*Z),this.set("dx",At),this.set("dy",St),this.updateViewport()}}}}},n.prototype.getCanvas=function(){return this.get("canvas")},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},n}(al),PE=DE,LE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Tu(u,n,t){var e=u.x-n.x,r=u.y-n.y;return!t||Math.abs(e)>t||Math.abs(r)>t?Math.sqrt(e*e+r*r):t}function jE(u,n){return u.x*n.x+u.y*n.y}function f0(u,n){var t=(n.source.y-n.target.y)/(n.source.x-n.target.x),e=(t*t*n.source.x+t*(u.y-n.source.y)+u.x)/(t*t+1),r=t*(e-n.source.x)+n.source.y;return{x:e,y:r}}var RE=function(u){LE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},n.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),r=function(){e&&e(),t.refreshPositions()};this.set("tick",r)},n.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var r=t.edges||[],a=t.nodes||[],l={},f=!1;if(a.forEach(function(kt){(kt.x===null||!kt.y===null||kt.x===void 0||!kt.y===void 0)&&(f=!0),l[kt.id]=kt}),f)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",l);var v=e.get("divisions"),m=e.get("divRate"),T=e.divideEdges(v);e.set("edgePoints",T);var w=e.getEdgeBundles();e.set("edgeBundles",w);for(var X=e.get("cycles"),Z=e.get("iterations"),J=e.get("iterRate"),ht=e.get("lambda"),mt=0;mt<X;mt++){for(var At=function(Yt){var qt=[];r.forEach(function(ee,re){if(ee.source!==ee.target){var fe=l[ee.source],le=l[ee.target];qt[re]=e.getEdgeForces({source:fe,target:le},re,v,ht);for(var Oe=0;Oe<v+1;Oe++)T[re][Oe].x+=qt[re][Oe].x,T[re][Oe].y+=qt[re][Oe].y}})},St=0;St<Z;St++)At(St);ht=ht/2,v*=m,Z*=J,T=e.divideEdges(v),e.set("edgePoints",T)}r.forEach(function(kt,Yt){kt.source!==kt.target&&(kt.type="polyline",kt.controlPoints=T[Yt].slice(1,T[Yt].length-1))});var Bt=e.get("graph");Bt.refresh()}},n.prototype.updateBundling=function(t){var e=this,r=t.data;if(r&&e.set("data",r),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(l){e.set(l,t[l])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(r)},n.prototype.divideEdges=function(t){var e=this,r=e.get("data").edges,a=e.get("nodeIdMap"),l=e.get("edgePoints");return(!l||l===void 0)&&(l=[]),r.forEach(function(f,v){(!l[v]||l[v]===void 0)&&(l[v]=[]);var m=a[f.source],T=a[f.target];if(t===1)l[v].push({x:m.x,y:m.y}),l[v].push({x:.5*(m.x+T.x),y:.5*(m.y+T.y)}),l[v].push({x:T.x,y:T.y});else{var w=0;!l[v]||l[v]===[]?w=Tu({x:m.x,y:m.y},{x:T.x,y:T.y}):w=e.getEdgeLength(l[v]);var X=w/(t+1),Z=X,J=[{x:m.x,y:m.y}];l[v].forEach(function(ht,mt){if(mt!==0){for(var At=Tu(ht,l[v][mt-1]);At>Z;){var St=Z/At,Bt={x:l[v][mt-1].x,y:l[v][mt-1].y};Bt.x+=St*(ht.x-l[v][mt-1].x),Bt.y+=St*(ht.y-l[v][mt-1].y),J.push(Bt),At-=Z,Z=X}Z-=At}}),J.push({x:T.x,y:T.y}),l[v]=J}}),l},n.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(r,a){a!==0&&(e+=Tu(r,t[a-1]))}),e},n.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),r=e.edges||[],a=t.get("bundleThreshold"),l=t.get("nodeIdMap"),f=t.get("edgeBundles");return f||(f=[]),r.forEach(function(v,m){(!f[m]||f[m]===void 0)&&(f[m]=[])}),r.forEach(function(v,m){var T=l[v.source],w=l[v.target];r.forEach(function(X,Z){if(!(Z<=m)){var J=l[X.source],ht=l[X.target],mt=t.getBundleScore({source:T,target:w},{source:J,target:ht});mt>=a&&(f[m].push(Z),f[Z].push(m))}})}),f},n.prototype.getBundleScore=function(t,e){var r=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Tu({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Tu({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=r.getAngleScore(t,e),l=r.getScaleScore(t,e),f=r.getPositionScore(t,e),v=r.getVisibilityScore(t,e);return a*l*f*v},n.prototype.getAngleScore=function(t,e){var r=jE({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return r/(t.length*e.length)},n.prototype.getScaleScore=function(t,e){var r=(t.length+e.length)/2,a=2/(r/Math.min(t.length,e.length)+Math.max(t.length,e.length)/r);return a},n.prototype.getPositionScore=function(t,e){var r=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},l={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},f=Tu(a,l);return r/(r+f)},n.prototype.getVisibilityScore=function(t,e){var r=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return r<a?r:a},n.prototype.getEdgeVisibility=function(t,e){var r=f0(e.source,t),a=f0(e.target,t),l={x:(r.x+a.x)/2,y:(r.y+a.y)/2},f={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Tu(l,f)/Tu(r,a))},n.prototype.getEdgeForces=function(t,e,r,a){for(var l=this,f=l.get("edgePoints"),v=l.get("K"),m=v/(Tu(t.source,t.target)*(r+1)),T=[{x:0,y:0}],w=1;w<r;w++){var X={x:0,y:0},Z=l.getSpringForce({pre:f[e][w-1],cur:f[e][w],next:f[e][w+1]},m),J=l.getElectrostaticForce(w,e);X.x=a*(Z.x+J.x),X.y=a*(Z.y+J.y),T.push(X)}return T.push({x:0,y:0}),T},n.prototype.getSpringForce=function(t,e){var r=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return r*=e,a*=e,{x:r,y:a}},n.prototype.getElectrostaticForce=function(t,e){var r=this,a=r.get("eps"),l=r.get("edgeBundles"),f=r.get("edgePoints"),v=l[e],m={x:0,y:0};return v.forEach(function(T){var w={x:f[T][t].x-f[e][t].x,y:f[T][t].y-f[e][t].y};if(Math.abs(w.x)>a||Math.abs(w.y)>a){var X=Tu(f[T][t],f[e][t]),Z=1/X;m.x+=w.x*Z,m.y+=w.y*Z}}),m},n.prototype.isTicking=function(){return this.get("ticking")},n.prototype.getSimulation=function(){return this.get("forceSimulation")},n.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),u.prototype.destroy.call(this)},n}(al),wE=RE,BE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hg=function(){return Hg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Hg.apply(this,arguments)},ig=.05,h0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},NE=function(u){BE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(p.e)(h0),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},n.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var r=t.get("d");t.set("molecularParam",(r+1)*e)},n.prototype.createDelegate=function(t){var e=this,r=this,a=r.get("delegate");(!a||a.destroyed)&&(r.magnify(t),a=r.get("delegate"),a.on("dragstart",function(l){r.set("delegateCenterDiff",{x:a.attr("x")-l.x,y:a.attr("y")-l.y})}),a.on("drag",function(l){r.magnify(l)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(l){e.scaleDByWheel(l)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(l){r.scaleRByWheel(l)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),a,l=e.get("delegate"),f=l?{x:l.attr("x"),y:l.attr("y")}:void 0,v=f||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-ig:a=1/(1-ig);var m=e.get("maxR"),T=e.get("minR"),w=e.get("r");(w>(m||r.get("height"))&&a>1||w<(T||r.get("height")*.05)&&a<1)&&(a=1),w*=a,e.set("r",w),e.set("r2",w*w);var X=e.get("d");e.set("molecularParam",(X+1)*w),e.set("delegateCenterDiff",void 0),e.magnify(t,v)}},n.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var r=e.get("dragPrePos"),a=e.get("graph"),l,f=a.getPointByClient(t.clientX,t.clientY);t.x-r.x<0?l=1-ig:l=1/(1-ig);var v=e.get("maxR"),m=e.get("minR"),T=e.get("r");(T>(v||a.get("height"))&&l>1||T<(m||a.get("height")*.05)&&l<1)&&(l=1),T*=l,e.set("r",T),e.set("r2",T*T);var w=e.get("d");e.set("molecularParam",(w+1)*T),e.magnify(t,f),e.set("dragPrePos",{x:t.x,y:t.y})}},n.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=0;t.originalEvent.wheelDelta<0?r=-.1:r=.1;var a=e.get("d"),l=a+r,f=e.get("maxD"),v=e.get("minD");if(l<f&&l>v){e.set("d",l);var m=e.get("r");e.set("molecularParam",(l+1)*m);var T=e.get("delegate"),w=T?{x:T.attr("x"),y:T.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,w)}}},n.prototype.scaleDByDrag=function(t){var e=this,r=e.get("dragPrePos"),a=t.x-r.x>0?.1:-.1,l=e.get("d"),f=l+a,v=e.get("maxD"),m=e.get("minD");if(f<v&&f>m){e.set("d",f);var T=e.get("r");e.set("molecularParam",(f+1)*T),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},n.prototype.magnify=function(t,e){var r=this;r.restoreCache();var a=r.get("graph"),l=r.get("cachedMagnifiedModels"),f=r.get("cachedOriginPositions"),v=r.get("showLabel"),m=r.get("r"),T=r.get("r2"),w=r.get("d"),X=r.get("molecularParam"),Z=a.getNodes(),J=Z.length,ht=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};r.get("dragging")&&(r.get("trigger")==="mousemove"||r.get("trigger")==="click")&&(ht=r.get("cacheCenter"));var mt=r.get("delegateCenterDiff");mt&&(ht.x+=mt.x,ht.y+=mt.y),r.updateDelegate(ht,m);for(var At=0;At<J;At++){var St=Z[At].getModel(),Bt=St.x,kt=St.y;if(!(isNaN(Bt)||isNaN(kt))){var Yt=(Bt-ht.x)*(Bt-ht.x)+(kt-ht.y)*(kt-ht.y);if(!isNaN(Yt)&&Yt<T&&Yt!==0){var qt=Math.sqrt(Yt),ee=X*qt/(w*qt+m),re=(Bt-ht.x)/qt,fe=(kt-ht.y)/qt;if(St.x=re*ee+ht.x,St.y=fe*ee+ht.y,f[St.id]||(f[St.id]={x:Bt,y:kt,texts:[]}),l.push(St),v&&2*qt<m)for(var le=Z[At],Oe=le.getContainer(),Te=Oe.getChildren(),sr=Te.length,fr=0;fr<sr;fr++){var vr=Te[fr];vr.get("type")==="text"&&(f[St.id].texts.push({visible:vr.get("visible"),shape:vr}),vr.set("visible",!0))}}}}a.refreshPositions()},n.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),r=t.get("cachedOriginPositions"),a=e.length,l=0;l<a;l++){var f=e[l],v=f.id,m=r[v];f.x=m.x,f.y=m.y;for(var T=m.texts.length,w=0;w<T;w++){var X=m.texts[w];X.shape.set("visible",X.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},n.prototype.updateParams=function(t){var e=this,r=t.r,a=t.d,l=t.trigger,f=t.minD,v=t.maxD,m=t.minR,T=t.maxR,w=t.scaleDBy,X=t.scaleRBy;isNaN(t.r)||(e.set("r",r),e.set("r2",r*r)),isNaN(a)||e.set("d",a),isNaN(v)||e.set("maxD",v),isNaN(f)||e.set("minD",f),isNaN(T)||e.set("maxR",T),isNaN(m)||e.set("minR",m);var Z=e.get("d"),J=e.get("r");if(e.set("molecularParam",(Z+1)*J),(l==="mousemove"||l==="click"||l==="drag")&&e.set("trigger",l),w==="drag"||w==="wheel"||w==="unset"){e.set("scaleDBy",w),e.get("delegate").remove(),e.get("delegate").destroy();var ht=e.get("dPercentText");ht&&(ht.remove(),ht.destroy())}if(X==="drag"||X==="wheel"||X==="unset"){e.set("scaleRBy",X),e.get("delegate").remove(),e.get("delegate").destroy();var ht=e.get("dPercentText");ht&&(ht.remove(),ht.destroy())}},n.prototype.updateDelegate=function(t,e){var r=this,a=this,l=a.get("graph"),f=a.get("delegate");if(!f||f.destroyed){var v=l.get("group"),m=a.get("delegateStyle")||h0;f=v.addShape("circle",{attrs:Hg({r:e/1.5,x:t.x,y:t.y},m),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?f.on("mousewheel",function(J){a.scaleRByWheel(J)}):this.get("scaleRBy")==="drag"&&(f.on("dragstart",function(J){a.set("dragging",!0),a.set("cacheCenter",{x:J.x,y:J.y}),a.set("dragPrePos",{x:J.x,y:J.y})}),f.on("drag",function(J){a.scaleRByDrag(J)}),f.on("dragend",function(J){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?f.on("mousewheel",function(J){r.scaleDByWheel(J)}):this.get("scaleDBy")==="drag"&&(f.on("dragstart",function(J){a.set("dragging",!0),a.set("cacheCenter",{x:J.x,y:J.y}),a.set("dragPrePos",{x:J.x,y:J.y})}),f.on("drag",function(J){r.scaleDByDrag(J)}),f.on("dragend",function(J){a.set("dragging",!1)})))}else f.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var T=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),w=a.get("dPercentText"),X=t.y+e/1.5+16;if(!w||w.destroyed){var Z=l.get("group");w=Z.addShape("text",{attrs:{text:T+"%",x:t.x,y:X,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",w)}else w.attr({text:T+"%",x:t.x,y:X})}a.set("delegate",f)},n.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var r=this.get("dPercentText");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}(al),FE=NE,GE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d0=.05;Vg()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var UE=function(n){if(!n)return[];if(n.composedPath)return n.composedPath();for(var t=[],e=n.target;e;){if(t.push(e),e.tagName==="HTML")return t.push(document,window),t;e=e.parentElement}return t},WE=function(u){GE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},n.prototype.init=function(){var t=this,e=this.get("graph"),r=this.get("getContent"),a=r(e),l=a;Object(p.O)(a)&&(l=Object(_n.b)(a));var f=this.get("className");l.setAttribute("class",f||"g6-component-toolbar");var v=this.get("container");v||(v=this.get("graph").get("container")),Object(p.O)(v)&&(v=document.getElementById(v)),v.appendChild(l),this.set("toolBar",l);var m=this.get("handleClick");l.addEventListener("click",function(w){var X=UE(w).filter(function(J){return J.nodeName==="LI"});if(X.length!==0){var Z=X[0].getAttribute("code");!Z||(m?m(Z,e):t.handleDefaultOperator(Z,e))}});var T=this.get("position");T&&Object(_n.e)(l,{top:T.y+"px",left:T.x+"px"}),this.bindUndoRedo()},n.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),r=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),l=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!r||!a||!l||t.on("stackchange",function(f){var v=f.undoStack,m=f.redoStack,T=v.length,w=m.length;T===1?(e.setAttribute("style","cursor: not-allowed"),r.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),r.removeAttribute("style")),w===0?(a.setAttribute("style","cursor: not-allowed"),l.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),l.removeAttribute("style"))})},n.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===1)){var r=e.pop();if(r){var a=r.action;t.pushStack(a,Object(p.e)(r.data),"redo");var l=r.data.before;if(a==="add"&&(l=r.data.after),!l)return;switch(a){case"visible":{Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){var T=t.findById(m.id);m.visible?t.showItem(T,!1):t.hideItem(T,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){t.updateItem(m.id,m,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":{Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){var T=m.itemType;delete m.itemType,t.addItem(T,m,!1)})});break}case"add":Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){t.removeItem(m.id,!1)})});break;case"updateComboTree":Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){t.updateComboTree(m.id,m.parentId,!1)})});break;default:}}}},n.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var r=e.pop();if(r){var a=r.action,l=r.data.after;if(t.pushStack(a,Object(p.e)(r.data)),a==="delete"&&(l=r.data.before),!l)return;switch(a){case"visible":{Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){var T=t.findById(m.id);m.visible?t.showItem(T,!1):t.hideItem(T,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){t.updateItem(m.id,m,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":l.edges&&l.edges.forEach(function(f){t.removeItem(f.id,!1)}),l.nodes&&l.nodes.forEach(function(f){t.removeItem(f.id,!1)}),l.combos&&l.combos.forEach(function(f){t.removeItem(f.id,!1)});break;case"add":{Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){var T=m.itemType;delete m.itemType,t.addItem(T,m,!1)})});break}case"updateComboTree":Object.keys(l).forEach(function(f){var v=l[f];!v||v.forEach(function(m){t.updateComboTree(m.id,m.parentId,!1)})});break;default:}}}},n.prototype.handleDefaultOperator=function(t,e){var r=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1/(1-d0*this.get("zoomSensitivity")),l=this.get("maxZoom")||e.get("maxZoom");if(a*r>l)return;e.zoomTo(r*a);break}case"zoomIn":{var f=1-d0*this.get("zoomSensitivity"),v=this.get("minZoom")||e.get("minZoom");if(f*r<v)return;e.zoomTo(r*f);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},n.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(p.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}var r=this.get("handleClick");r&&t.removeEventListener("click",r)},n}(al),zE=WE,kE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Vg()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var VE=function(u){kE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},n.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},n.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=Object(_n.b)("<div class="+t+"></div>"),r=this.get("container");r||(r=this.get("graph").get("container")),Object(p.O)(r)&&(r=document.getElementById(r)),Object(_n.e)(e,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(e),this.set("tooltip",e)},n.prototype.onClick=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,a=this.get("graph");this.currentTarget===r?(this.currentTarget=null,this.hideTooltip(),a.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=r,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"}))}},n.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,a=this.get("graph");this.currentTarget=r,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},n.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},n.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},n.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=this.get("tooltip"),a=this.get("getContent"),l=a(t);Object(p.O)(l)?r.innerHTML=l:r.innerHTML=l.outerHTML,this.updatePosition(t)}}},n.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Object(_n.e)(t,{visibility:"hidden",display:"none"})},n.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),r=this.get("tooltip");if(!e(t)){Object(_n.e)(r,{visibility:"hidden",display:"none"});return}var a=this.get("graph"),l=a.get("width"),f=a.get("height"),v=this.get("offsetX")||0,m=this.get("offsetY")||0,T=a.getPointByClient(t.clientX,t.clientY),w=this.get("fixToNode"),X=t.item;if(X.getType&&X.getType()==="node"&&w&&Object(p.B)(w)&&w.length>=2){var Z=X.getBBox();T={x:Z.minX+Z.width*w[0],y:Z.minY+Z.height*w[1]}}var J=a.getCanvasByPoint(T.x,T.y),ht=J.x,mt=J.y,At=a.getContainer(),St={x:ht+At.offsetLeft+v,y:mt+At.offsetTop+m};Object(_n.e)(r,{visibility:"visible",display:"unset"});var Bt=r.getBoundingClientRect();ht+Bt.width+v>l&&(St.x-=Bt.width+v),mt+Bt.height+m>f&&(St.y-=Bt.height+m),Object(_n.e)(r,{left:St.x+"px",top:St.y+"px"})},n.prototype.hide=function(){this.onMouseLeave()},n.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(p.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}(al),XE=VE,hv=i("6vWT"),HE=function(u,n){for(var t=0,e=n.length,r=u.length;t<e;t++,r++)u[r]=n[t];return u};function KE(u){return Object(p.U)(u,function(n,t){var e=t===0?"M":"L",r=n[0],a=n[1];return[e,r,a]})}function v0(u){return KE(u)}function YE(u){if(u.length<=2)return v0(u);var n=[];Object(p.j)(u,function(l){Object(p.G)(l,n.slice(n.length-2))||n.push(l[0],l[1])});var t=zl.a(n,!1),e=Object(p.y)(u),r=e[0],a=e[1];return t.unshift(["M",r,a]),t}function ZE(u,n,t,e){e===void 0&&(e=!0);var r=new hv.b({values:u}),a=new hv.a({values:Object(p.U)(u,function(f,v){return v})}),l=Object(p.U)(u,function(f,v){return[a.scale(v)*n,t-r.scale(f)*t]});return e?YE(l):v0(l)}function $E(u,n,t){for(var e=new hv.b({values:u}),r=new hv.a({values:Object(p.U)(u,function(w,X){return X})}),a=Object(p.U)(u,function(w,X){return[r.scale(X)*n,t-e.scale(w)*t]}),l=[],f=0;f<a.length;f++){var v=a[f],m={x:v[0],y:v[1],y0:t,size:5},T=_E(m);l.push.apply(l,T)}return qE(l)}function QE(u,n){var t=new hv.b({values:u}),e=Math.max(0,t.min);return n-t.scale(e)*n}function JE(u,n,t,e){var r=HE([],u),a=QE(e,t);return r.push(["L",n,a]),r.push(["L",0,a]),r.push(["Z"]),r}function _E(u){var n=u.x,t=u.y,e=u.y0,r=u.size,a,l;Object(p.B)(t)?(a=t[0],l=t[1]):(a=e,l=t);var f,v;Object(p.B)(n)?(f=n[0],v=n[1]):(f=n-r/2,v=n+r/2);var m=[{x:f,y:a},{x:f,y:l}];return m.push({x:v,y:l},{x:v,y:a}),m}function qE(u,n){n===void 0&&(n=!0);var t=[],e=u[0];t.push(["M",e.x,e.y]);for(var r=1,a=u.length;r<a;r++)t.push(["L",u[r].x,u[r].y]);return n&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var dv=function(){return dv=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},dv.apply(this,arguments)},tS={stroke:"#C5C5C5",strokeOpacity:.85},eS={fill:"#CACED4",opacity:.85},rS=function(){function u(n){var t=n.x,e=t===void 0?0:t,r=n.y,a=r===void 0?0:r,l=n.width,f=l===void 0?200:l,v=n.height,m=v===void 0?26:v,T=n.smooth,w=T===void 0?!0:T,X=n.isArea,Z=X===void 0?!1:X,J=n.data,ht=J===void 0?[]:J,mt=n.lineStyle,At=n.areaStyle,St=n.group,Bt=n.interval,kt=Bt===void 0?null:Bt;this.group=St,this.x=e,this.y=a,this.width=f,this.height=m,this.data=ht,this.smooth=w,this.isArea=Z,this.lineStyle=Object.assign({},tS,mt),this.areaStyle=Object.assign({},eS,At),this.intervalConfig=kt,this.renderLine()}return u.prototype.renderLine=function(){var n=this,t=n.x,e=n.y,r=n.width,a=n.height,l=n.data,f=n.smooth,v=n.isArea,m=n.lineStyle,T=n.areaStyle,w=this.group.addGroup({name:"trend-group"});if(l){var X=ZE(l,r,a,f);if(w.addShape("path",{attrs:dv({path:X},m)}),v){var Z=JE(X,r,a,l);w.addShape("path",{attrs:dv({path:Z},T)})}}this.intervalConfig&&w.addShape("path",{attrs:dv({path:$E(this.intervalConfig.data,r,a)},this.intervalConfig.style)}),w.move(t,e)},u.prototype.destory=function(){this.group.destroy()},u}(),nS=rS,dd=function(){return dd=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},dd.apply(this,arguments)},aS={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},iS={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},oS=function(){function u(n){var t=n.group,e=n.name,r=n.type,a=n.x,l=a===void 0?0:a,f=n.y,v=f===void 0?0:f,m=n.width,T=m===void 0?2:m,w=n.height,X=w===void 0?24:w,Z=n.style,J=Z===void 0?{}:Z;this.group=t,this.name=e,this.handleType=r,this.x=l,this.y=v,this.width=T,this.height=X,r==="trend"?this.style=dd(dd({},aS),J):r==="simple"&&(this.style=dd(dd({},iS),J)),this.renderHandle()}return u.prototype.setX=function(n){this.setXY(n,void 0)},u.prototype.setY=function(n){this.setXY(void 0,n)},u.prototype.setXY=function(n,t){Object(p.K)(n)&&(this.x=n),Object(p.K)(t)&&(this.y=t),this.updateXY()},u.prototype.renderHandle=function(){var n=this,t=n.width,e=n.height,r=n.style,a=n.name,l=r.fill,f=r.stroke,v=r.radius,m=r.opacity,T=r.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:l,stroke:f,radius:v,opacity:m,cursor:T},name:a+"-handler"}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:l,stroke:f,radius:v,opacity:m,cursor:T},name:a+"-handler"}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:l,stroke:f,radius:v,opacity:m,cursor:T},name:a+"-handler"})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:l,stroke:f,radius:v,opacity:m,cursor:T,lineWidth:2},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},u.prototype.bindSimpleEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.topCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.topCircle.attr("fill",e)})},u.prototype.bindTrendEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)})},u.prototype.show=function(){this.handleGroup.show()},u.prototype.hide=function(){this.handleGroup.hide()},u.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},u}(),g0=oS,p0="timebarstartplay",y0="timebarendplay",Au="valuechange",gh="timebarConfigChanged",Of="playPauseBtn",vv="nextStepBtn",gv="preStepBtn",Kg=function(){return Kg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Kg.apply(this,arguments)},sS=function(){function u(n){this.config=Object(p.h)({},n),this.init()}return u.prototype.update=function(n){this.config=Object(p.h)({},this.config,n),this.updateElement(),this.renderMarker()},u.prototype.init=function(){this.initElement(),this.renderMarker()},u.prototype.initElement=function(){var n=this.config,t=n.group,e=n.style,r=e.scale,a=r===void 0?1:r,l=e.offsetX,f=l===void 0?0:l,v=e.offsetY,m=v===void 0?0:v,T=this.config.x+f,w=this.config.y+m,X=t.addGroup({name:Of});this.startMarkerGroup=X.addGroup({name:Of}),this.circle=t.addShape("circle",{attrs:Kg({x:T,y:w,r:this.config.r*a},e),name:Of}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(T,w,a),fill:e.stroke||"#aaa"}}),this.pauseMarkerGroup=X.addGroup({name:Of});var Z=.25*this.config.r*a,J=.5*this.config.r*Math.sqrt(3)*a;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:T-.375*this.config.r*a,y:w-J/2,width:Z,height:J,fill:e.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:T+1/8*this.config.r*a,y:w-J/2,width:Z,height:J,fill:e.stroke||"#aaa",lineWidth:0}})},u.prototype.updateElement=function(){var n=this.config.style,t=n.scale,e=t===void 0?1:t,r=n.offsetX,a=r===void 0?0:r,l=n.offsetY,f=l===void 0?0:l,v=this.config.x+a,m=this.config.y+f;this.circle.attr("x",v),this.circle.attr("y",m),this.circle.attr("r",this.config.r*e),this.startMarker.attr("path",this.getStartMarkerPath(v,m,e));var T=.25*this.config.r*e,w=.5*this.config.r*Math.sqrt(3)*e;this.pauseLeftMarker.attr("x",v-(1/4+1/8)*this.config.r*e),this.pauseLeftMarker.attr("y",m-w/2),this.pauseLeftMarker.attr("width",T),this.pauseLeftMarker.attr("height",w),this.pauseRightMarker.attr("x",v+1/8*this.config.r*e),this.pauseRightMarker.attr("y",m-w/2),this.pauseRightMarker.attr("width",T),this.pauseRightMarker.attr("height",w)},u.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},u.prototype.getStartMarkerPath=function(n,t,e){var r=.5*this.config.r*Math.sqrt(3)*e;return[["M",n-r/Math.sqrt(3)/2,t-r/2],["L",n+r/Math.sqrt(3),t],["L",n-r/Math.sqrt(3)/2,t+r/2]]},u}(),lS=sS,Ao=function(){return Ao=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Ao.apply(this,arguments)},pv=S.transform,uS="#aaa",cS="green",fS={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},hS={fill:"#fff"},dS={fill:"green"},m0={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},b0={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},vS={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:m0,timeTypeControllerStyle:b0},Yg=110,xf=50,gS=function(){function u(n){this.controllerCfg=Object(p.h)({},vS,n),this.group=n.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=n.fontFamily||"Arial, sans-serif",this.init()}return u.prototype.init=function(){this.renderPlayButton()},u.prototype.getNextMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n+e,t],["L",n,t+e],["Z",n,t-e],["M",n,t],["L",n-e,t-e],["L",n-e,t+e],["Z"]]},u.prototype.getPreMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n-e,t],["L",n,t+e],["L",n,t-e],["M",n,t],["L",n+e,t-e],["L",n+e,t+e],["Z"]]},u.prototype.renderPlayButton=function(){var n=this.controllerCfg,t=n.width,e=n.height,r=n.x,a=n.y,l=n.hideTimeTypeController,f=n.fill,v=f===void 0?uS:f,m=n.stroke,T=m===void 0?cS:m,w=Ao(Ao({},fS),n.playBtnStyle||{}),X=Ao(Ao({},hS),n.preBtnStyle||{}),Z=Ao(Ao({},dS),n.nextBtnStyle||{}),J=e/2-5,ht=a+10,mt=this.controllerGroup.addShape("rect",{attrs:{x:r,y:ht,width:t,height:e,stroke:T,fill:v},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:ht,r:J}):this.playButton=new lS({group:this.controllerGroup,x:t/2,y:ht+J+5,r:J,isPlay:this.isPlay,style:w});var At=X.offsetX||0,St=X.offsetY||0,Bt=(X.scale||1)*J;this.controllerGroup.addShape("path",{attrs:Ao({path:this.getPreMarkerPath(t/2-5*J+At,ht+J+5+St,Bt*.5)},X),name:gv});var kt=Z.offsetX||0,Yt=Z.offsetY||0,qt=(Z.scale||1)*J;this.controllerGroup.addShape("path",{attrs:Ao({path:this.getNextMarkerPath(t/2+5*J+kt,ht+J+5+Yt,qt*.5)},Z),name:vv}),mt.toBack(),this.renderSpeedBtn(),l||this.renderToggleTime(),this.bindEvent();var ee=this.controllerCfg.scale,re=ee===void 0?1:ee,fe=this.controllerGroup.getCanvasBBox(),le=(fe.maxX+fe.minX)/2,Oe=(fe.maxY+fe.minY)/2,Te=pv([1,0,0,0,1,0,0,0,1],[["t",-le,-Oe],["s",re,re],["t",le,Oe]]);this.controllerGroup.setMatrix(Te)},u.prototype.renderSpeedBtn=function(){var n=this.controllerCfg,t=n.y,e=n.width,r=n.hideTimeTypeController,a=Ao(Ao({},m0),this.controllerCfg.speedControllerStyle||{}),l=a.scroller,f=l===void 0?{}:l,v=a.text,m=v===void 0?{}:v,T=a.pointer,w=T===void 0?{}:T,X=a.scale,Z=X===void 0?1:X,J=a.offsetX,ht=J===void 0?0:J,mt=a.offsetY,At=mt===void 0?0:mt,St=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=St;var Bt=[],kt=5;this.speedAxisY=[19,22,26,32,39];for(var Yt=0;Yt<5;Yt++){var qt=t+this.speedAxisY[Yt],ee=e-(r?xf:Yg);St.addShape("line",{attrs:Ao({x1:ee,x2:ee+15,y1:qt,y2:qt},f),speed:kt,name:"speed-rect"}),this.speedAxisY[Yt]=qt,Bt.push(kt),kt=kt-1}this.speedText=St.addShape("text",{attrs:Ao({x:e-(r?xf:Yg)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},m)}),this.speedPoint=St.addShape("path",{attrs:Ao({path:this.getPointerPath(e-(r?xf:Yg),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},w)});var re=this.speedGroup.getCanvasBBox(),fe=(re.maxX+re.minX)/2,le=(re.maxY+re.minY)/2,Oe=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Oe=pv(Oe,[["t",-fe,-le],["s",Z,Z],["t",fe+ht*Z,le+At*Z]]),this.speedGroup.setMatrix(Oe)},u.prototype.getPointerPath=function(n,t){return[["M",n,t],["L",n-10,t-4],["L",n-10,t+4],["Z"]]},u.prototype.renderToggleTime=function(){var n,t=this.controllerCfg.width,e=Ao(Ao({},b0),this.controllerCfg.timeTypeControllerStyle||{}),r=e.scale,a=r===void 0?1:r,l=e.offsetX,f=l===void 0?0:l,v=e.offsetY,m=v===void 0?0:v,T=e.box,w=T===void 0?{}:T,X=e.check,Z=X===void 0?{}:X,J=e.text,ht=J===void 0?{}:J;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:Ao({x:t-xf,y:this.speedAxisY[0]+3.5},w),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Ao({path:[["M",t-xf+3,this.speedAxisY[1]+6],["L",t-xf+7,this.speedAxisY[1]+10],["L",t-xf+12,this.speedAxisY[1]+4]]},Z),capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Ao({text:((n=this.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:t-xf+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},ht)});var mt=this.toggleGroup.getCanvasBBox(),At=(mt.maxX+mt.minX)/2,St=(mt.maxY+mt.minY)/2,Bt=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Bt=pv(Bt,[["t",-At,-St],["s",a,a],["t",At+f*a,St+m*a]]),this.toggleGroup.setMatrix(Bt)},u.prototype.bindEvent=function(){var n=this;this.speedGroup.on("speed-rect:click",function(t){var e=t.target.attr("y1"),r=n.speedPoint.attr("matrix"),a=n.speedAxisY.indexOf(r[7]||0),l=n.speedAxisY.indexOf(e),f=n.speedAxisY[l]-n.speedAxisY[a];r=pv(r,[["t",0,f]]),n.speedPoint.setMatrix(r),n.currentSpeed=n.speedAxisY.length-l,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(gh,{speed:n.currentSpeed,type:n.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var e=n.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=e[7],a=n.speedAxisY.indexOf(r);if(a===-1){var l=Infinity;n.speedAxisY.forEach(function(v,m){var T=Math.abs(v-r);l>T&&(l=T,a=m)})}t.originalEvent.deltaY>0?a=Math.max(0,a-1):a=Math.min(n.speedAxisY.length-1,a+1);var f=n.speedAxisY[a]-r;e=pv(e,[["t",0,f]]),n.speedPoint.setMatrix(e),n.currentSpeed=n.speedAxisY.length-a,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(gh,{speed:n.currentSpeed,type:n.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var e,r,a=t.target.get("isChecked");a?(n.checkedIcon.hide(),n.checkedText.attr("text",((r=n.controllerCfg)===null||r===void 0?void 0:r.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),n.currentType="range"):(n.checkedIcon.show(),n.checkedText.attr("text",((e=n.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),n.currentType="single"),t.target.set("isChecked",!a),n.group.emit(gh,{type:n.currentType,speed:n.currentSpeed})})},u.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},u}(),O0=gS,Fi=function(){return Fi=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Fi.apply(this,arguments)},pS={fill:"#416180",opacity:.05},yS={fill:"#416180",opacity:.15,radius:5},mS={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Zg=2,bS={width:Zg,height:24},OS={textBaseline:"middle",fill:"#000",opacity:.45},xS={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},ES={lineWidth:1,stroke:"#ccc"},SS=function(){function u(n){var t=this;this.prevX=0,this.onMouseDown=function(Lr){return function(kr){t.currentHandler=Lr;var On=kr.originalEvent;On.stopPropagation(),On.preventDefault(),t.prevX=Object(p.s)(On,"touches.0.pageX",On.pageX);var Wr=t.canvas.get("container");Wr.addEventListener("mousemove",t.onMouseMove),Wr.addEventListener("mouseup",t.onMouseUp),Wr.addEventListener("mouseleave",t.onMouseUp),Wr.addEventListener("touchmove",t.onMouseMove),Wr.addEventListener("touchend",t.onMouseUp),Wr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Lr){Lr.stopPropagation(),Lr.preventDefault();var kr=Object(p.s)(Lr,"touches.0.pageX",Lr.pageX),On=kr-t.prevX,Wr=t.adjustOffsetRange(On/t.width);t.updateStartEnd(Wr),t.updateUI(),t.prevX=kr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Lr=t.canvas.get("container");Lr&&(Lr.removeEventListener("mousemove",t.onMouseMove),Lr.removeEventListener("mouseup",t.onMouseUp),Lr.removeEventListener("mouseleave",t.onMouseUp),Lr.removeEventListener("touchmove",t.onMouseMove),Lr.removeEventListener("touchend",t.onMouseUp),Lr.removeEventListener("touchcancel",t.onMouseUp))};var e=n.x,r=e===void 0?0:e,a=n.y,l=a===void 0?0:a,f=n.width,v=f===void 0?100:f,m=n.height,T=n.padding,w=T===void 0?10:T,X=n.trendCfg,Z=n.controllerCfg,J=Z===void 0?{speed:1}:Z,ht=n.backgroundStyle,mt=ht===void 0?{}:ht,At=n.foregroundStyle,St=At===void 0?{}:At,Bt=n.handlerStyle,kt=Bt===void 0?{}:Bt,Yt=n.textStyle,qt=Yt===void 0?{}:Yt,ee=n.start,re=ee===void 0?0:ee,fe=n.end,le=fe===void 0?1:fe,Oe=n.minText,Te=Oe===void 0?"":Oe,sr=n.maxText,fr=sr===void 0?"":sr,vr=n.group,Qr=n.graph,Zr=n.canvas,Rr=n.tick,Dr=Rr===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(kr){return kr},ticks:[]}:Rr,Ur=n.type;this.graph=Qr,this.canvas=Zr,this.group=vr,this.timeBarType=Ur,this.x=r,this.y=l,this.width=v,this.height=m,this.padding=w,this.ticks=Dr.ticks,this.trendCfg=X,this.controllerCfg=J,this.currentSpeed=J.speed||1,this.tickLabelFormatter=Dr.tickLabelFormatter,Ur==="trend"?this.backgroundStyle=Fi(Fi({},pS),mt):Ur==="simple"&&(this.backgroundStyle=Fi(Fi({},yS),mt)),this.foregroundStyle=Fi(Fi({},mS),St),this.handlerStyle=Fi(Fi({},bS),kt),this.textStyle=Fi(Fi({},OS),qt),this.tickLabelStyle=Fi(Fi({},xS),Dr.tickLabelStyle),this.tickLineStyle=Fi(Fi({},ES),Dr.tickLineStyle),this.currentMode="range",this.start=re,this.end=le,this.minText=Te,this.maxText=fr,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return u.prototype.update=function(n){var t=n.x,e=n.y,r=n.width,a=n.height,l=n.minText,f=n.maxText,v=n.start,m=n.end;this.start=Math.min(1,Math.max(v,0)),this.end=Math.min(1,Math.max(m,0)),Object(p.b)(this,{x:t,y:e,width:r,height:a,minText:l,maxText:f}),this.updateUI()},u.prototype.setText=function(n,t){this.minTextShape.attr("text",n),this.maxTextShape.attr("text",t)},u.prototype.renderSlider=function(){var n=this,t=this,e=t.width,r=t.height,a=t.timeBarType;if(a==="trend"&&Object(p.jb)(Object(p.s)(this.trendCfg,"data"))){var l=new nS(Fi(Fi({x:this.x,y:this.y,width:e,height:r},this.trendCfg),{group:this.group}));this.trendComponent=l}var f=this.group.addGroup({name:"slider-group"});f.addShape("rect",{attrs:Fi({x:0,y:0,width:e,height:r},this.backgroundStyle)});var v=this.group.addGroup();a==="trend"?(this.minTextShape=v.addShape("text",{attrs:Fi({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=v.addShape("text",{attrs:Fi({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})):(this.minTextShape=v.addShape("text",{attrs:Fi({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=v.addShape("text",{attrs:Fi({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Fi({x:0,y:this.y,height:r},this.foregroundStyle)}),this.foregroundShape.on("mousedown",function(mt){mt.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(mt){mt.target.attr("cursor",n.foregroundStyle.cursor||"grab")});var m=Object(p.s)(this.handlerStyle,"width",2),T=Object(p.s)(this.handlerStyle,"height",24),w=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new g0({name:"minHandlerShape",group:w,type:a,x:this.x,y:this.y,width:m,height:T,style:this.handlerStyle});var X=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new g0({name:"maxHandlerShape",group:X,type:a,x:this.x,y:this.y,width:m,height:T,style:this.handlerStyle});var Z=this.ticks,J=e/(Z.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(mt){mt.destroy()});var ht=-Infinity;this.textList=Z.map(function(mt,At){n.tickPosList.push(n.x+At*J);var St;n.tickLabelFormatter?(St=n.tickLabelFormatter(mt),!Object(p.O)(St)&&St&&(St=mt.date)):St=mt.date;var Bt=n.group.addShape("text",{attrs:Fi({x:n.x+At*J,y:n.y+r+5,text:St,fontFamily:n.fontFamily||"Arial, sans-serif"},n.tickLabelStyle)}),kt=n.group.addShape("line",{attrs:Fi({x1:n.x+At*J,y1:n.y+r+2,x2:n.x+At*J,y2:n.y+r+6},n.tickLineStyle)});kt.toBack();var Yt=Bt.getBBox();return Yt.minX>ht?(Bt.show(),kt.show(),ht=Yt.minX+Yt.width+10):(Bt.hide(),kt.hide()),Bt}),this.controllerBtnGroup=new O0(Fi({group:this.group,x:this.x,y:this.y+r+25,width:e,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),f.move(this.x,this.y),this.bindEvents()},u.prototype.bindEvents=function(){var n=this,t=this.group.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Of+":click",function(){n.isPlay=!n.isPlay,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()}),this.group.on(vv+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(.01),n.updateUI()}),this.group.on(gv+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(-.01),n.updateUI()}),this.group.on(gh,function(r){var a=r.type,l=r.speed;n.currentSpeed=l,n.currentMode=a,a==="single"?(n.minHandlerShape.hide(),n.foregroundShape.hide(),n.minTextShape.hide()):a==="range"&&(n.minHandlerShape.show(),n.foregroundShape.show(),n.minTextShape.show())})},u.prototype.adjustTickIndex=function(n){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=n&&n<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-n)<Math.abs(n-this.tickPosList[t+1])?t:t+1;return 0},u.prototype.adjustOffsetRange=function(n){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,n))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,n))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,n))}default:return 0}},u.prototype.updateStartEnd=function(n){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],e=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=n,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.foregroundShape:this.start+=n,this.end+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;default:break}},u.prototype.updateUI=function(){var n=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,e=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var r=Object(p.s)(this.handlerStyle,"width",Zg);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),l=a[0],f=a[1];this.minHandlerShape.setX(t-r/2),Object(p.j)(l,function(v,m){return n.minTextShape.attr(m,v)}),this.maxHandlerShape.setX(e-r/2),Object(p.j)(f,function(v,m){return n.maxTextShape.attr(m,v)}),this.currentMode==="range"?this.graph.emit(Au,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Au,{value:[this.end,this.end]})},u.prototype.dodgeText=function(n){var t,e,r=2,a=Object(p.s)(this.handlerStyle,"width",Zg),l=this.minTextShape,f=this.maxTextShape,v=n[0],m=n[1],T=!1;v>m&&(t=[m,v],v=t[0],m=t[1],e=[f,l],l=e[0],f=e[1],T=!0);var w=l.getBBox(),X=f.getBBox(),Z=null,J=null;return this.timeBarType==="trend"?(Z=v-w.width<this.x+r?{x:v+a/2+r,textAlign:"left"}:{x:v-a/2-r,textAlign:"right"},J=m+X.width>this.x+this.width?{x:m-a/2-r,textAlign:"right"}:{x:m+a/2+r,textAlign:"left"}):this.timeBarType==="simple"&&(Z=w.width>v-r?{x:v+a/2+r,textAlign:"center"}:{x:v-a/2-r,textAlign:"center"},J=X.width>this.width-m-r?{x:m-a/2-r,textAlign:"center"}:{x:m+a/2+r,textAlign:"center"}),T?[J,Z]:[Z,J]},u.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n,e=t.ticks,r=t.width,a=n.currentSpeed,l=r/e.length,f=l/((10-a)*1e3/60),v=n.adjustOffsetRange(f/n.width);n.updateStartEnd(v),n.updateUI(),n.isPlay&&(n.playHandler=n.startPlay())}):void 0},u.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(p0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(y0,null))},u.prototype.destory=function(){this.graph.off(Au);var n=this.group,t=n.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=n.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),n.off(Of+":click"),n.off(vv+":click"),n.off(gv+":click"),n.off(gh),n.destroy(),this.trendComponent&&this.trendComponent.destory()},u}(),CS=SS,kM={opacity:.5,fill:"#000"},VM={opacity:.5,fill:"#000",r:5},XM={fill:"#fff",fontSize:12},MS=function(){function u(n){var t=n.x,e=t===void 0?0:t,r=n.y,a=r===void 0?0:r,l=n.container,f=n.text,v=n.padding,m=v===void 0?[4,4,4,4]:v,T=n.className,w=T===void 0?"g6-component-timebar-tooltip":T,X=n.backgroundColor,Z=X===void 0?"#000":X,J=n.textColor,ht=J===void 0?"#fff":J,mt=n.opacity,At=mt===void 0?.8:mt,St=n.fontSize,Bt=St===void 0?12:St;this.container=l,this.className=w,this.backgroundColor=Z,this.textColor=ht,this.x=e,this.y=a,this.text=f,this.padding=m,this.opacity=At,this.fontSize=Bt,this.render()}return u.prototype.render=function(){var n=this,t=n.className,e=n.x,r=n.y,a=n.backgroundColor,l=n.textColor,f=n.text,v=n.padding,m=n.opacity,T=n.fontSize,w=n.container,X=Object(_n.b)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+m+'"></div>');Object(p.O)(w)&&(w=document.getElementById(w)),w.appendChild(X),n.parentHeight=w.offsetHeight,n.parentWidth=w.offsetWidth,Object(_n.e)(X,{visibility:"hidden",top:0,left:0});var Z=Object(_n.b)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+T+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+l+"; padding: "+v[0]+"px "+v[1]+"px "+v[2]+"px "+v[3]+"px'></div>");Z.innerHTML=f,X.appendChild(Z),n.backgroundDOM=Z;var J=Object(_n.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");X.appendChild(J),n.arrowDOM=J,n.container=X},u.prototype.show=function(n){var t=this,e=n.text,r=n.x,a=n.y,l=n.clientX,f=n.clientY;t.backgroundDOM.innerHTML=e;var v=t.backgroundDOM.offsetWidth,m=t.backgroundDOM.offsetHeight,T=t.arrowDOM.offsetWidth,w=t.arrowDOM.offsetHeight;Object(_n.e)(t.container,{top:-m-w+"px",left:r+"px",visibility:"visible"}),Object(_n.e)(t.backgroundDOM,{marginLeft:-v/2+"px"}),Object(_n.e)(t.arrowDOM,{marginLeft:-T/2+"px",top:m+"px"});var X=r-v/2,Z=r+v/2;X<0?Object(_n.e)(t.backgroundDOM,{marginLeft:-v/2-X+"px"}):Z>t.parentWidth&&Object(_n.e)(t.backgroundDOM,{marginLeft:-v/2-Z+t.parentWidth+12+"px"})},u.prototype.hide=function(){Object(_n.e)(this.container,{top:0,left:0,visibility:"hidden"})},u}(),TS=MS,$g=function(){return $g=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},$g.apply(this,arguments)},AS={fill:"#5B8FF9"},IS={fill:"#e6e8e9"},DS=function(){function u(n){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=n.graph,e=n.canvas,r=n.group,a=n.width,l=n.height,f=n.padding,v=n.data,m=n.start,T=n.end,w=n.x,X=w===void 0?0:w,Z=n.y,J=Z===void 0?0:Z,ht=n.tickLabelFormatter,mt=n.selectedTickStyle,At=mt===void 0?AS:mt,St=n.unselectedTickStyle,Bt=St===void 0?IS:St,kt=n.tooltipBackgroundColor,Yt=n.tooltipFomatter;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=l,this.padding=f,this.data=v,this.start=m,this.end=T,this.tickLabelFormatter=ht,this.selectedTickStyle=At,this.unselectedTickStyle=Bt,this.x=X,this.y=J,this.tooltipBackgroundColor=kt,this.tooltipFomatter=Yt,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return u.prototype.renderSlices=function(){var n=this,t=this,e=t.width,r=t.height,a=t.padding,l=t.data,f=t.start,v=t.end,m=t.tickLabelFormatter,T=t.selectedTickStyle,w=t.unselectedTickStyle,X=e-2*a,Z=10,J=4,ht=3*a+J+Z,mt=r-ht-2*a,At=2,St=l.length,Bt=(X-At*(St-1))/St;this.tickWidth=Bt;var kt=this.sliceGroup,Yt=[],qt=[],ee=Math.round(St*f),re=Math.round(St*v);this.startTickRectId=ee,this.endTickRectId=re,l.forEach(function(le,Oe){var Te=Oe>=ee&&Oe<=re,sr=Te?T:w,fr=kt.addShape("rect",{attrs:$g({x:a+Oe*(Bt+At),y:a,width:Bt,height:mt},sr),draggable:!0,name:"tick-rect-"+Oe}),vr=kt.addShape("rect",{attrs:{x:a+Oe*Bt+At*(2*Oe-1)/2,y:a,width:Oe===0||Oe===St-1?Bt+At/2:Bt+At,height:mt,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+Oe});vr.toFront();var Qr=fr.getBBox(),Zr=(Qr.minX+Qr.maxX)/2;Yt.push({rect:fr,pickRect:vr,value:le.date,x:Zr,y:Qr.minY});var Rr;if(m?(Rr=m(le),!Object(p.O)(Rr)&&Rr&&(Rr=le.date)):Oe%Math.round(St/10)==0&&(Rr=le.date),Rr){qt.push(Rr);var Dr=Qr.maxY+a*2;kt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Zr,y1:Dr,x2:Zr,y2:Dr+J}});var Ur=Dr+J+a,Lr=kt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Zr,y:Ur,textAlign:"center",text:Rr,textBaseline:"top",fontSize:10,fontFamily:n.fontFamily||"Arial, sans-serif"},capture:!1}),kr=Lr.getBBox();kr.maxX>e?Lr.attr("textAlign","right"):kr.minX<0&&Lr.attr("textAlign","left")}}),this.tickRects=Yt;var fe=this.group;this.currentSpeed=1,this.controllerBtnGroup=new O0({group:fe,x:this.x,y:this.y+r+5,width:e,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},u.prototype.initEvent=function(){var n=this,t=this.sliceGroup;t.on("click",function(T){var w=T.target;if(!(w.get("type")!=="rect"||!w.get("name"))){var X=parseInt(w.get("name").split("-")[2],10);if(!isNaN(X)){var Z=n.tickRects,J=n.unselectedTickStyle;Z.forEach(function(St){St.rect.attr(J)});var ht=n.selectedTickStyle;Z[X].rect.attr(ht),n.startTickRectId=X,n.endTickRectId=X;var mt=Z.length,At=X/mt;n.graph.emit(Au,{value:[At,At]})}}}),t.on("dragstart",function(T){var w=n.tickRects,X=n.unselectedTickStyle;w.forEach(function(St){St.rect.attr(X)});var Z=T.target,J=parseInt(Z.get("name").split("-")[2],10),ht=n.selectedTickStyle;w[J].rect.attr(ht),n.startTickRectId=J;var mt=w.length,At=J/mt;n.graph.emit(Au,{value:[At,At]}),n.dragging=!0}),t.on("dragover",function(T){if(!!n.dragging&&T.target.get("type")==="rect"){for(var w=parseInt(T.target.get("name").split("-")[2],10),X=n.startTickRectId,Z=n.tickRects,J=n.selectedTickStyle,ht=n.unselectedTickStyle,mt=0;mt<Z.length;mt++){var At=mt>=X&&mt<=w?J:ht;Z[mt].rect.attr(At)}var St=Z.length;n.endTickRectId=w;var Bt=X/St,kt=w/St;n.graph.emit(Au,{value:[Bt,kt]})}}),t.on("drop",function(T){if(!!n.dragging&&(n.dragging=!1,T.target.get("type")==="rect")){var w=n.startTickRectId,X=parseInt(T.target.get("name").split("-")[2],10);if(!(X<w)){var Z=n.selectedTickStyle,J=n.tickRects;J[X].rect.attr(Z),n.endTickRectId=X;var ht=J.length,mt=w/ht,At=X/ht;n.graph.emit(Au,{value:[mt,At]})}}});var e=this,r=e.tooltipBackgroundColor,a=e.tooltipFomatter,l=e.canvas,f=new TS({container:l.get("container"),backgroundColor:r}),v=this.tickRects;v.forEach(function(T){var w=T.pickRect;w.on("mouseenter",function(X){var Z=X.target;if(Z.get("type")==="rect"){var J=parseInt(Z.get("name").split("-")[2],10),ht=l.getClientByPoint(v[J].x,v[J].y);f.show({x:v[J].x,y:v[J].y,clientX:ht.x,clientY:ht.y,text:a?a(v[J].value):v[J].value})}}),w.on("mouseleave",function(X){f.hide()})});var m=this.group;m.on(Of+":click",function(){n.isPlay=!n.isPlay,n.changePlayStatus()}),m.on(vv+":click",function(){n.updateStartEnd(1)}),m.on(gv+":click",function(){n.updateStartEnd(-1)}),m.on(gh,function(T){var w=T.type,X=T.speed;n.currentSpeed=X})},u.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(p0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(y0,null))},u.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n.currentSpeed;n.frameCount%(60/t)==0&&(n.frameCount=0,n.updateStartEnd(1)),n.frameCount++,n.isPlay&&(n.playHandler=n.startPlay())}):void 0},u.prototype.updateStartEnd=function(n){var t=this,e=this.tickRects,r=e.length,a=this.unselectedTickStyle,l=this.selectedTickStyle,f=t.endTickRectId;if(n>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),f!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var v=t.startTickRectId;v<=t.endTickRectId-1;v++)e[v].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(l);var m=t.startTickRectId/r,T=t.endTickRectId/r;this.graph.emit(Au,{value:[m,T]})}},u.prototype.destory=function(){this.graph.off(Au);var n=this.sliceGroup;n.off("click"),n.off("dragstart"),n.off("dragover"),n.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,n.off(Of+":click"),n.off(vv+":click"),n.off(gv+":click"),n.off(gh),this.sliceGroup.destroy()},u}(),PS=DS,LS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hc=function(){return hc=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},hc.apply(this,arguments)},jS=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},RS=4,wS=26,BS=function(u){LS(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1}},n.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,r=e.width,a=e.height,l=this.get("className")||"g6-component-timebar",f=this.get("container"),v=this.get("graph").get("container"),m;f?(Object(p.O)(f)&&(f=document.getElementById(f)),m=f):(m=Object(_n.b)("<div class='"+l+"'></div>"),Object(_n.e)(m,{position:"relative"})),v.appendChild(m),this.set("timeBarContainer",m);var T,w=t.get("renderer");w==="SVG"?T=new hs.Canvas({container:m,width:r,height:a}):T=new zi.Canvas({container:m,width:r,height:a}),this.set("canvas",T)},n.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var r=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",r)},n.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,r=t.x,a=t.y,l=t.padding,f=t.type,v=t.trend,m=t.slider,T=t.controllerCfg,w=t.textStyle,X=t.tick,Z=t.backgroundStyle,J=t.foregroundStyle,ht=v.data,mt=jS(v,["data"]),At=e-2*l,St=f==="trend"?wS:RS,Bt=this.get("graph"),kt=this.get("timeBarGroup"),Yt=this.get("canvas"),qt=null;f==="trend"||f==="simple"?qt=new CS(hc(hc({graph:Bt,canvas:Yt,group:kt,type:f,x:r+l,y:f==="trend"?a+l:a+l+15,width:At,height:St,padding:l,backgroundStyle:Z,foregroundStyle:J,trendCfg:hc(hc({},mt),{data:ht.map(function(ee){return ee.value})})},m),{tick:{ticks:ht,tickLabelFormatter:X.tickLabelFormatter,tickLabelStyle:X.tickLabelStyle,tickLineStyle:X.tickLineStyle},handlerStyle:hc(hc({},m.handlerStyle),{height:m.height||St}),controllerCfg:T,textStyle:w})):f==="tick"&&(qt=new PS(hc({graph:Bt,canvas:Yt,group:kt,x:r+l,y:a+l},X))),this.set("timebar",qt)},n.prototype.filterData=function(t){var e,r=t.value,a=null,l=this._cfgs.type;if(l==="trend"||l==="simple"?a=this._cfgs.trend.data:l==="tick"&&(a=this._cfgs.tick.data),!a||a.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var f=this.get("rangeChange"),v=this.get("graph"),m=Math.round(a.length*r[0]),T=Math.round(a.length*r[1]);T=T>=a.length?a.length-1:T,m=m>=a.length?a.length-1:m;var w=(e=this._cfgs.tick)===null||e===void 0?void 0:e.tickLabelFormatter,X=w?w(a[m]):a[m].date,Z=w?w(a[T]):a[T].date;if(l!=="tick"){var J=this.get("timebar");J.setText(X,Z)}if(f)f(v,X,Z);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=v.get("data"));var ht=this.cacheGraphData.nodes.filter(function(St){return St.date>=a[m].date&&St.date<=a[T].date}),mt=ht.map(function(St){return St.id}),At=[];this.cacheGraphData.edges&&(At=this.cacheGraphData.edges.filter(function(St){return mt.includes(St.source)&&mt.includes(St.target)}),this.get("filterEdge")&&(At=At.filter(function(St){return St.date>=a[m].date&&St.date<=a[T].date}))),v.changeData({nodes:ht,edges:At})}},n.prototype.initEvent=function(){var t=this,e=0,r=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,r=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,r=this._cfgs.tick.end);var l=this.get("graph");l.on("afterrender",function(f){t.filterData({value:[e,r]})}),l.on(Au,Object(p.nb)(function(f){t.filterData(f)},200,{trailing:!0,leading:!0}))},n.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),u.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(p.O)(r)&&(r=document.getElementById(r)),r.removeChild(e)}},n}(al),NS=BS,FS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GS=es.applyMatrix;function US(u,n){var t,e;if(u.naturalWidth)t=u.naturalWidth,e=u.naturalHeight;else{var r=new Image;r.src=u.src,r.onload=function(){n&&n(r.width,r.height)}}return[t,e]}var WS=function(u){FS(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.graph;if(!this.destroyed){var a=this.get("container");Object(p.O)(a)&&(a=document.getElementById(a));var l=Object(_n.b)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),f=0,v=0,m=!1,T=0,w=0,X=0,Z=0,J=0,ht=0;a.addEventListener("mousedown",function(mt){if(e.refresh=!1,mt.target===l){var At=l.style;X=parseInt(At.width,10),Z=parseInt(At.height,10);var St=t.get("width"),Bt=t.get("height");X>St||Z>Bt||(ht=r.getZoom(),J=t.get("ratio"),m=!0,f=mt.clientX,v=mt.clientY)}},!1),a.addEventListener("mousemove",function(mt){if(!(!m||Object(p.I)(mt.clientX)||Object(p.I)(mt.clientY))){var At=t.get("width"),St=t.get("height"),Bt=l.style;T=parseInt(Bt.left,10),w=parseInt(Bt.top,10),X=parseInt(Bt.width,10),Z=parseInt(Bt.height,10);var kt=f-mt.clientX,Yt=v-mt.clientY;T-kt<0?kt=T:T-kt+X>=At&&(kt=0),w-Yt<0?Yt=w:w-Yt+Z>=St&&(Yt=0),T-=kt,w-=Yt,Object(_n.e)(l,{left:T+"px",top:w+"px"}),r.translate(kt*ht/J,Yt*ht/J),f=mt.clientX,v=mt.clientY}},!1),a.addEventListener("mouseleave",function(){m=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){m=!1,e.refresh=!0},!1),this.set("viewport",l),a.appendChild(l)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),r=this.get("height"),a=this.get("graph"),l=a.get("width"),f=a.get("height"),v=l/f,m=a.getGroup(),T=m.getCanvasBBox(),w=[(T.minX+T.maxX)/2,(T.minY+T.maxY)/2],X=[T.maxX-T.minX,T.maxY-T.minY],Z={centerX:w[0],centerY:w[1],width:0,height:0,minX:0,minY:0};T[0]/T[1]>v?(Z.width=X[0],Z.height=Z.width/v):(Z.height=X[1],Z.width=Z.height*v),Z.minX=w[0]-Z.width/2,Z.minY=w[1]-Z.height/2;var J=m.getMatrix();J||(J=[1,0,0,0,1,0,0,0,1]);var ht=pr.a.invert([1,0,0,0,1,0,0,0,1],J),mt=GS({x:Z.minX,y:Z.minY},ht),At=a.getCanvasByPoint(mt.x,mt.y),St=this.get("viewport");St||this.initViewport();var Bt=l/Z.width,kt=Bt*e,Yt=Bt*r,qt=e*-At.x/Z.width,ee=r*-At.y/Z.height,re=qt+kt,fe=ee+Yt;qt<0&&(kt+=qt,qt=0),re>e&&(kt=kt-(re-e)),ee<0&&(Yt+=ee,ee=0),fe>r&&(Yt=Yt-(fe-r)),this.set("ratio",t);var le=qt+"px",Oe=ee+"px";Object(_n.e)(St,{left:le,top:Oe,width:kt+"px",height:Yt+"px"})}},n.prototype.init=function(){this.initContainer()},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=e.get("width"),a=e.get("height"),l=a/r,f=t.get("className"),v=t.get("container"),m=t.get("width"),T=t.get("height");!m&&!T&&(m=200),m?(T=l*m,t.set("height",T)):(m=1/l*T,t.set("width",m));var w=Object(_n.b)("<div class='"+f+"' style='width: "+m+"px; height: "+T+"px; overflow: hidden; position: relative;'></div>");Object(p.O)(v)&&(v=document.getElementById(v)),v?v.appendChild(w):e.get("container").appendChild(w),t.set("container",w);var X=Object(_n.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');w.appendChild(X);var Z=Object(_n.b)('<span style="display: table-cell; vertical-align: middle; "></span>');X.appendChild(Z),t.set("containerDOM",X),t.set("containerSpan",Z);var J=Object(_n.b)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",J),t.updateImgSize(),Z.appendChild(J),t.updateCanvas()},n.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),r=t.get("width"),a=t.get("height");e.onload=function(){var l=US(e);l[0]>l[1]?e.width=r:e.height=a}},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("width"),a=e.get("canvas").getCanvasBBox(),l=a.width,f=r/l;this.set("ratio",f),this.updateViewport()}}},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.updateGraphImg=function(t){var e=this,r=e.get("imgDOM");r.remove(),e.set("graphImg",t);var a=Object(_n.b)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var l=e.get("containerSpan");l.appendChild(a),e.updateCanvas()},n.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},n}(al),zS=WS,kS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qg=function(){return Qg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Qg.apply(this,arguments)},VS=es.distance,x0=.05,E0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},XS=function(u){kS(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(p.e)(E0),showLabel:"edge",scaleRBy:"wheel"}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},n.prototype.init=function(){var t=this,e=t.get("showLabel"),r=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",r),t.set("showEdgeLabel",a);var l=t.get("shouldShow");l||t.set("shouldShow",function(){return!0})},n.prototype.createDelegate=function(t){var e=this,r=e.get("delegate");(!r||r.destroyed)&&(e.filter(t),r=e.get("delegate"),r.on("dragstart",function(a){}),r.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&r.on("mousewheel",function(a){e.scaleRByWheel(a)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),a,l=e.get("delegate"),f=l?{x:l.attr("x"),y:l.attr("y")}:void 0,v=f||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-x0:a=1/(1-x0);var m=e.get("maxR"),T=e.get("minR"),w=e.get("r");(w>(m||r.get("height"))&&a>1||w<(T||r.get("height")*.05)&&a<1)&&(a=1),w*=a,e.set("r",w),e.filter(t)}},n.prototype.filter=function(t){var e=this,r=e.get("graph"),a=r.getNodes(),l={},f=e.get("r"),v=e.get("type"),m={x:t.x,y:t.y};e.updateDelegate(m,f);var T=e.get("shouldShow"),w=e.get("vShapes");w&&w.forEach(function(At){At.remove(),At.destroy()}),w=[],a.forEach(function(At){var St=At.getModel(),Bt=St.x,kt=St.y;VS({x:Bt,y:kt},m)<f&&(l[St.id]=At)});var X=r.getEdges(),Z=[];X.forEach(function(At){var St=At.getModel(),Bt=St.source,kt=St.target;T(St)&&(v==="only-source"||v==="one"?l[Bt]&&!l[kt]&&Z.push(At):v==="only-target"||v==="one"?l[kt]&&!l[Bt]&&Z.push(At):v==="both"&&l[Bt]&&l[kt]&&Z.push(At))});var J=e.get("showNodeLabel"),ht=e.get("showEdgelabel"),mt=r.get("group");Z.forEach(function(At){var St=At.get("group").get("children");St.forEach(function(Bt){var kt=Bt.get("type"),Yt=mt.addShape(kt,{attrs:Bt.attr()});w.push(Yt),J&&kt==="text"&&Yt.set("visible",!0)})}),Object.keys(l).forEach(function(At){var St=l[At],Bt=St.get("group").clone();if(mt.add(Bt),w.push(Bt),ht)for(var kt=Bt.get("children"),Yt=0;Yt<kt.length;Yt++){var qt=kt[Yt];qt.get("type")==="text"&&qt.set("visible",!0)}}),e.set("vShapes",w)},n.prototype.updateParams=function(t){var e=this,r=t.r,a=t.trigger,l=t.minR,f=t.maxR,v=t.scaleRBy,m=t.showLabel,T=t.shouldShow;if(isNaN(t.r)||e.set("r",r),isNaN(f)||e.set("maxR",f),isNaN(l)||e.set("minR",l),(a==="mousemove"||a==="click")&&e.set("trigger",a),v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var w=e.get("dPercentText");w&&(w.remove(),w.destroy())}(m==="node"||m==="both")&&e.set("showNodeLabel",!0),(m==="edge"||m==="both")&&e.set("showEdgeLabel",!0),T&&e.set("shouldShow",T)},n.prototype.updateDelegate=function(t,e){var r=this,a=r.get("graph"),l=r.get("delegate");if(!l||l.destroyed){var f=a.get("group"),v=r.get("delegateStyle")||E0;l=f.addShape("circle",{attrs:Qg({r:e,x:t.x,y:t.y},v),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&l.on("mousewheel",function(m){r.scaleRByWheel(m)})}else l.attr({x:t.x,y:t.y,r:e});r.set("delegate",l)},n.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var r=t.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}(al),HS=XS,KS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YS=es.pointLineDistance,ZS={stroke:"#FA8C16",lineWidth:1},$S=function(u){KS(n,u);function n(t){return u.call(this,t)||this}return n.prototype.getDefaultCfgs=function(){return{line:ZS,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},n.prototype.init=function(){},n.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},n.prototype.onDragStart=function(){this.initBoxLine()},n.prototype.onDrag=function(t){var e=t.item,r=e.get("delegateShape")||e,a=r.getBBox(),l=e.getModel(),f=l.x-a.x,v=l.y-a.y;this.show({x:a.minX+f,y:a.minY+v},{width:a.width,height:a.height})},n.prototype.onDragEnd=function(){this.destory()},n.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,a=t.itemAlignType,l=this.get("graph"),f=l.getNodes();f.forEach(function(v){var m=v.getBBox(),T=v.get("id");a===!0||a==="horizontal"?(e[T+"tltr"]=[m.minX,m.minY,m.maxX,m.minY,v],e[T+"lcrc"]=[m.minX,m.centerY,m.maxX,m.centerY,v],e[T+"blbr"]=[m.minX,m.maxY,m.maxX,m.maxY,v]):a==="center"&&(e[T+"lcrc"]=[m.minX,m.centerY,m.maxX,m.centerY,v]),a===!0||a==="vertical"?(r[T+"tlbl"]=[m.minX,m.minY,m.minX,m.maxY,v],r[T+"tcbc"]=[m.centerX,m.minY,m.centerX,m.maxY,v],r[T+"trbr"]=[m.maxX,m.minY,m.maxX,m.maxY,v]):a==="center"&&(r[T+"tcbc"]=[m.centerX,m.minY,m.centerX,m.maxY,v])})},n.prototype.show=function(t,e){var r=Object(p.bb)({},t);return this.itemAlign(t,e,r),t},n.prototype.itemAlign=function(t,e,r){var a=this,l=this._cfgs,f=l.horizontalLines,v=l.verticalLines,m=l.tolerance,T={x:r.x+e.width/2,y:r.y},w={x:r.x+e.width/2,y:r.y+e.height/2},X={x:r.x+e.width/2,y:r.y+e.height},Z={x:r.x,y:r.y+e.height/2},J={x:r.x+e.width,y:r.y+e.height/2},ht=[],mt=[],At=null;if(this.clearAlignLine(),Object(p.j)(f,function(Bt){Bt[4].isVisible&&(ht.push(a.getLineDisObject(Bt,T)),ht.push(a.getLineDisObject(Bt,w)),ht.push(a.getLineDisObject(Bt,X)))}),Object(p.j)(v,function(Bt){Bt[4].isVisible&&(mt.push(a.getLineDisObject(Bt,Z)),mt.push(a.getLineDisObject(Bt,w)),mt.push(a.getLineDisObject(Bt,J)))}),ht.sort(function(Bt,kt){return Bt.dis-kt.dis}),mt.sort(function(Bt,kt){return Bt.dis-kt.dis}),ht.length!==0&&ht[0].dis<m){t.y=ht[0].line[1]-ht[0].point.y+r.y,At={type:"item",horizontals:[ht[0]]};for(var St=1;St<3;St++)ht[0].dis===ht[St].dis&&At.horizontals.push(ht[St])}if(mt.length!==0&&mt[0].dis<m){t.x=mt[0].line[0]-mt[0].point.x+r.x,At?At.verticals=[mt[0]]:At={type:"item",verticals:[mt[0]]};for(var St=1;St<3;St++)mt[0].dis===mt[St].dis&&At.verticals.push(mt[St])}At&&(At.bbox=e,this.addAlignLine(At))},n.prototype.addAlignLine=function(t){var e=t.bbox,r=t.type,a=t.horizontals,l=t.verticals,f=this._cfgs,v=f.line,m=f.alignLines,T=this.get("graph"),w=T.get("group");r==="item"&&(a&&Object(p.j)(a,function(X){var Z=X.line,J=X.point,ht=(Z[0]+Z[2])/2,mt,At;J.x<ht?(mt=J.x-e.width/2,At=Math.max(Z[0],Z[2])):(mt=J.x+e.width/2,At=Math.min(Z[0],Z[2]));var St=Object(p.bb)({x1:mt,y1:Z[1],x2:At,y2:Z[1]},v),Bt=w.addShape("line",{attrs:St,capture:!1});m.push(Bt)}),l&&Object(p.j)(l,function(X){var Z=X.line,J=X.point,ht=(Z[1]+Z[3])/2,mt,At;J.y<ht?(mt=J.y-e.height/2,At=Math.max(Z[1],Z[3])):(mt=J.y+e.height/2,At=Math.min(Z[1],Z[3]));var St=Object(p.bb)({x1:Z[0],y1:mt,x2:Z[0],y2:At},v),Bt=w.addShape("line",{attrs:St,capture:!1});m.push(Bt)}))},n.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:YS(t,e)}},n.prototype.getContainer=function(){return this.get("container")},n.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(p.j)(t,function(e){e.remove()}),t.length=0},n.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,a=this.get("graph"),l=a.getNodes();l.forEach(function(f){var v=f.get("id");delete e[v+"tltr"],delete e[v+"lcrc"],delete e[v+"blbr"],delete r[v+"tlbl"],delete r[v+"tcbc"],delete r[v+"trbr"]}),this.clearAlignLine()},n}(al),QS=$S,JS=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_i=function(){return _i=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},_i.apply(this,arguments)},_S=["click","mouseenter"],qS=function(u){JS(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},n.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},e=t.multiple;e&&t.trigger==="mouseenter"&&this.set("multiple",!1);var r=this.get("align");if(!r){var a=this.get("position").split("-");a.includes("left")&&(r="left"),a.includes("right")?r="right":r="center",this.set("align",r)}var l=this.get("graph"),f=l.get("container"),v=Object(_n.b)(`<div class='g6-legend-container' style="position: absolute;"></div>`);f.appendChild(v),this.set("container",v);var m=this.render();Object(_n.e)(v,this.getContainerPos(m)),this.bindEvents()},n.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var e=this,r=e.get("graph"),a=this.get("offsetX"),l=this.get("offsetY"),f=this.get("margin"),v=this.get("position").split("-"),m={top:0,right:1,bottom:2,left:3},T=0,w=0,X={left:(r.getWidth()-t[0])/2+T,top:(r.getHeight()-t[1])/2+w};return v.forEach(function(Z){var J=f[m[Z]],ht=Z;switch(Z){case"top":J+=w;break;case"left":J+=T;break;case"bottom":J=r.getHeight()-t[1]-J+w,ht="top";break;default:J=r.getWidth()-t[0]-J+T,ht="left";break}X[ht]=J}),X.top+=l+r.getContainer().offsetTop,X.left+=a+r.getContainer().offsetLeft,Object.keys(X).forEach(function(Z){X[Z]=X[Z]+"px"}),X},n.prototype.bindEvents=function(){var t=this,e=t.get("filter");if(!(!e||!e.enable)){var r=e.trigger||"click";_S.includes(r)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),r="click");var a=t.get("legendCanvas");r==="mouseenter"?(a.on("node-container:mouseenter",function(l){return t.filterData(l)}),a.on("node-container:mouseleave",function(l){t.clearFilter(),t.clearActiveLegend()})):(a.on("node-container:click",function(l){return t.filterData(l)}),a.on("click",function(l){l.target&&l.target.isCanvas&&l.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},n.prototype.changeData=function(t){this.set("data",t);var e=this.render();Object(_n.e)(this.get("container"),this.getContainerPos(e))},n.prototype.activateLegend=function(t){var e=this.get("filter"),r=e==null?void 0:e.multiple;r||this.clearActiveLegend();var a=t.get("parent");a.get("active")?(a.set("active",!1),this.findLegendItemsByState("active").length&&a.set("inactive",!0)):(a.set("inactive",!1),a.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(w){w.set("inactive",!0)}):this.clearActiveLegend();var l=(e==null?void 0:e.lengedStateStyles)||{},f=(l==null?void 0:l.inactive)||{opacity:.5,"text-shape":{opacity:.5}},v=f["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(w){var X=w.get("children"),Z=X[0],J=X[1];Z.attr(_i(_i({},Z.get("oriAttrs")),f)),J.attr(_i(_i({},J.get("oriAttrs")),v))});var m=(l==null?void 0:l.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},T=m["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(w){var X=w.get("children"),Z=X[0],J=X[1];Z.attr(_i(_i({},Z.get("oriAttrs")),m)),J.attr(_i(_i({},J.get("oriAttrs")),T))})},n.prototype.findLegendItemsByState=function(t,e,r){e===void 0&&(e="all"),r===void 0&&(r=!0);var a=this.get("legendCanvas").find(function(v){return v.get("name")==="root"}),l=a.find(function(v){return v.get("name")==="node-group"}),f=a.find(function(v){return v.get("name")==="edge-group"});return e==="node"?l.get("children").filter(function(v){return!!v.get(t)===r}):e==="edge"?f.get("children").filter(function(v){return!!v.get(t)===r}):l.get("children").filter(function(v){return!!v.get(t)===r}).concat(f.get("children").filter(function(v){return!!v.get(t)===r}))},n.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),e=t.find(function(a){return a.get("name")==="root"}),r=[e.find(function(a){return a.get("name")==="node-group"}),e.find(function(a){return a.get("name")==="edge-group"})];r.forEach(function(a){a.get("children").forEach(function(l){l.set("active",!1),l.set("inactive",!1);var f=l.get("children"),v=f[0],m=f[1];v.attr(v.get("oriAttrs")),m.attr(m.get("oriAttrs"))})})},n.prototype.filterData=function(t){var e=this.get("filter"),r=e==null?void 0:e.filterFunctions;if(!(!e||!r)){var a=this.get("legendCanvas"),l=this.get("graph"),f=e.graphActiveState||"active",v=e.graphInactiveState||"inactive",m=e.multiple;this.clearFilter(),m||this.clearActiveLegend(),this.activateLegend(t.target);var T=a.find(function(At){return At.get("name")==="root"}),w=T.find(function(At){return At.get("name")==="node-group"}),X=T.find(function(At){return At.get("name")==="edge-group"}),Z=w.get("children").filter(function(At){return At.get("active")}),J=X.get("children").filter(function(At){return At.get("active")}),ht=0,mt=["getNodes","getEdges"];mt.forEach(function(At){l[At]().forEach(function(St){var Bt=!1,kt=At==="getNodes"?Z:J;kt.forEach(function(Yt){var qt=r[Yt.get("id")];Bt=Bt||qt(St.getModel())}),Bt?(l.setItemState(St,v,!1),l.setItemState(St,f,!0),ht++):(l.setItemState(St,f,!1),l.setItemState(St,v,!0))})}),ht||mt.forEach(function(At){l[At]().forEach(function(St){l.clearItemStates(St,[v])})})}},n.prototype.clearFilter=function(){var t=this.get("graph"),e=this.get("filter");if(!!e){var r=e.graphActiveState||"active",a=e.graphInactiveState||"inactive";t.getNodes().forEach(function(l){t.clearItemStates(l,[r,a])}),t.getEdges().forEach(function(l){t.clearItemStates(l,[r,a])})}},n.prototype.render=function(){var t=this;this.processData();var e=this.get("legendCanvas");if(!e){e=new zi.Canvas({container:this.get("container"),width:200,height:200});var r=e.addGroup({name:"root"});r.addGroup({name:"node-group"}),r.addGroup({name:"edge-group"}),this.set("legendCanvas",e)}var a=e.find(function(Zr){return Zr.get("name")==="root"}),l=a.find(function(Zr){return Zr.get("name")==="node-group"}),f=a.find(function(Zr){return Zr.get("name")==="edge-group"}),v=this.get("itemsData"),m=["nodes","edges"],T=[l,f];m.forEach(function(Zr,Rr){v[Zr].forEach(function(Dr){var Ur,Lr=T[Rr].addGroup({id:Dr.id,name:"node-container"}),kr,On=Dr.type,Wr=t.getShapeSize(Dr),Xr=Wr.width,Nn=Wr.height,Fn=Wr.r,Vn=t.getStyle(Zr.substr(0,4),Dr);switch(Dr.type){case"circle":kr={r:Fn,x:0,y:0};break;case"rect":kr={width:Xr,height:Nn,x:-Xr/2,y:-Nn/2};break;case"ellipse":kr={r1:Xr,r2:Nn,x:0,y:0};break;case"line":kr={x1:-Xr/2,y1:0,x2:Xr/2,y2:0},On="line";break;case"quadratic":kr={path:[["M",-Xr/2,0],["Q",0,Xr/2,Xr/2,0]]},On="path";break;case"cubic":kr={path:[["M",-Xr/2,0],["C",-Xr/6,Xr/2,Xr/6,-Xr/2,Xr/2,0]]},On="path";break;default:kr={r:Fn,x:0,y:0};break}var Or=Lr.addShape(On,{attrs:_i(_i({},kr),Vn),name:Dr.type+"-node-keyShape",oriAttrs:_i({opacity:1},Vn)});if(Dr.label){var Ca=Or.getBBox(),Rn=((Ur=Dr.labelCfg)===null||Ur===void 0?void 0:Ur.style)||{},En=_i({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},Rn);Lr.addShape("text",{attrs:_i({x:Ca.maxX+4,y:0,text:Dr.label},En),className:"legend-label",name:Dr.type+"-node-text",oriAttrs:En})}})});var w=this.get("padding"),X,Z=a.find(function(Zr){return Zr.get("name")==="title-container"}),J={height:0,maxY:0,width:0};if(this.get("title")){Z||(Z=a.addGroup({name:"title-container"}));var ht={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:w[0]},mt=this.get("titleConfig")||{},At=Object.assign(ht,mt.style||{});X=Z.addShape("text",{attrs:_i({text:this.get("title")},At)}),J=Z.getCanvasBBox(),Z.setMatrix([1,0,0,0,1,0,mt.offsetX,mt.offsetY,1])}this.layoutItems();var St=a.getCanvasBBox(),Bt=l.getCanvasBBox(),kt=Bt.minX<0?Math.abs(Bt.minX)+w[3]:w[3],Yt=J.maxY<Bt.minY?Math.abs(J.maxY-Bt.minY)+w[0]:J.maxY+w[0],qt=[1,0,0,0,1,0,kt,Yt,1];l.setMatrix(qt),St=a.getCanvasBBox();var ee=[St.minX+St.width+w[1],St.minY+St.height+w[2]];if(X){var mt=_i({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));J=Z.getCanvasBBox();var re=Z.getMatrix()||[1,0,0,0,1,0,0,0,1];mt.position==="center"?re[6]=ee[0]/2+mt.offsetX:mt.position==="right"?(re[6]=ee[0]-w[3]+mt.offsetX,X.attr({textAlign:"right"})):(re[6]=w[3]+mt.offsetX,X.attr({textAlign:"left"})),Z.setMatrix(re),J=Z.getCanvasBBox(),kt=Bt.minX<0?Math.abs(Bt.minX)+w[3]:w[3],Yt=Bt.minY<J.maxY?Math.abs(J.maxY-Bt.minY)+w[0]:J.maxY+w[0],qt=[1,0,0,0,1,0,kt,Yt,1],l.setMatrix(qt);var fe=[1,0,0,0,1,0,kt,Yt,1];this.get("layout")==="vertical"?fe[6]+=Bt.maxX+this.get("horiSep"):fe[7]+=Bt.maxY+this.get("vertiSep"),f.setMatrix(fe)}else{Bt=l.getCanvasBBox();var le=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?le[6]+=qt[6]+Bt.maxX+this.get("horiSep"):le[7]+=qt[7]+Bt.maxY+this.get("vertiSep"),f.setMatrix(le)}St=a.getCanvasBBox(),Bt=l.getCanvasBBox(),qt=l.getMatrix()||[1,0,0,0,1,0,0,0,1];var Oe=f.getMatrix()||[1,0,0,0,1,0,0,0,1],Te=f.getCanvasBBox();ee=[Math.max(Bt.width+qt[6],Te.width+Oe[6])+w[1],Math.max(Bt.height+qt[7],Te.height+Oe[7])+w[2]],e.changeSize(ee[0],ee[1]);var sr=this.get("containerStyle"),fr=a.getMatrix()||[1,0,0,0,1,0,0,0,1],vr=es.invertMatrix({x:0,y:0},fr),Qr=a.addShape("rect",{attrs:_i({x:vr.x+(sr.lineWidth||1),y:vr.y+(sr.lineWidth||1),width:ee[0]-2*(sr.lineWidth||1),height:ee[1]-2*(sr.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},sr),name:"legend-back-rect",capture:!1});return Qr.toBack(),ee},n.prototype.layoutItems=function(){var t=this.get("legendCanvas"),e=this.get("horiSep"),r=this.get("vertiSep"),a=this.get("layout"),l=this.get("align"),f=[0,0],v=t.find(function(kt){return kt.get("name")==="root"}),m=v.find(function(kt){return kt.get("name")==="node-group"}),T=v.find(function(kt){return kt.get("name")==="edge-group"}),w={min:0,max:-Infinity},X=-Infinity;m.get("children").forEach(function(kt,Yt){Yt===0&&(w.min=f[0]);var qt=kt.get("children")[0],ee=kt.getCanvasBBox(),re=qt.getBBox(),fe=re.width,le=re.height,Oe=0,Te=0,sr=0;a==="vertical"?(Te=f[1],sr=f[0]+fe/2,f[0]=sr+ee.height+r,Oe=ee.maxX+Te+fe/2):(Te=f[0]+fe/2,sr=f[1],f[0]=Te+ee.width+e,Oe=ee.maxY+sr+le/2),f[0]>w.max&&(w.max=f[0]),Oe>X&&(X=Oe),kt.setMatrix([1,0,0,0,1,0,Te,sr,1])});var Z=w.max-w.min,J={min:0,max:-Infinity},ht=m.getCanvasBBox();f[0]=0,f[1]=a==="vertical"?ht.maxX+e:ht.maxY+r,T.get("children").forEach(function(kt,Yt){Yt===0&&(J.min=f[0]);var qt=kt.get("children")[0],ee=kt.getCanvasBBox(),re=qt.getBBox(),fe=re.width,le=re.height,Oe=0,Te=0;a==="vertical"?(Oe=f[1],Te=f[0],f[0]=Te+ee.height+r,kt.setMatrix([1,0,0,0,1,0,0,Te+le/2,1])):(Oe=f[0],Te=f[1],f[0]=Oe+ee.width+e,kt.setMatrix([1,0,0,0,1,0,Oe+fe/2,0,1])),f[0]>J.max&&(J.max=f[0])});var mt=J.max-J.min;if(l&&l!==""&&l!=="left"){var At=Z-mt,St=l==="center"?Math.abs(At)/2:Math.abs(At),Bt=At<0?m:T;Bt.get("children").forEach(function(kt){var Yt=kt.getMatrix()||[1,0,0,0,1,0,0,0,1];a==="vertical"?Yt[7]+=St:Yt[6]+=St,kt.setMatrix(Yt)})}},n.prototype.processData=function(){var t=this.get("data"),e={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(r,a){return r.order-a.order}),t.nodes.forEach(function(r){var a,l,f,v,m,T=r.size||[((a=r.style)===null||a===void 0?void 0:a.width)||((l=r.style)===null||l===void 0?void 0:l.r)||8,((f=r.style)===null||f===void 0?void 0:f.height)||((v=r.style)===null||v===void 0?void 0:v.r)||8],w=((m=r.labelCfg)===null||m===void 0?void 0:m.style)||{};e.nodes.push({id:r.id||Object(p.sb)(),type:r.type||"circle",style:_i({},r.style),order:r.order,label:r.label,itemType:"node",size:T,labelCfg:{position:"right",style:_i({fontFamily:"Arial"},w)}})})),t.edges&&(t.edges.sort(function(r,a){return r.order-a.order}),t.edges.forEach(function(r){var a,l,f=r.type||"line";r.type==="cubic-horizontal"&&(f="cubic");var v=((a=r.labelCfg)===null||a===void 0?void 0:a.style)||{},m=r.size||[((l=r.style)===null||l===void 0?void 0:l.width)||8,1];e.edges.push({id:r.id||Object(p.sb)(),type:f,size:m,style:_i({lineWidth:Object(p.B)(m)?m[1]:1},r.style),order:r.order,label:r.label,itemType:"edge",labelCfg:{position:"right",style:_i({fontFamily:"Arial"},v)}})})),this.set("itemsData",e)},n.prototype.getContainer=function(){return this.get("container")},n.prototype.formatArray=function(t){var e=this.get(t);if(Object(p.K)(e))this.set(t,[e,e,e,e]);else if(Object(p.B)(e))switch(e.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[e[0],e[0],e[0],e[0]]);break;case 2:this.set(t,[e[0],e[1],e[0],e[1]]);break;case 3:this.set(t,[e[0],e[1],e[2],e[1]]);break;default:break}return this.get(t)},n.prototype.getShapeSize=function(t){var e,r,a;return t.size&&(Object(p.B)(t.size)?(e=t.size[0],r=t.size[1]||t.size[0],a=t.size[0]/2):Object(p.K)(t.size)&&(e=t.size,r=t.size,a=t.size/2)),t.style&&(t.style.width&&(e=t.style.width),t.style.height&&(r=t.style.height),t.style.r&&(a=t.style.r)),a||(a=5),e||(e=a),r||(r=a),{width:e,height:r,r:a}},n.prototype.getStyle=function(t,e){var r=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return _i(_i({},r),e.style||{})},n.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),r=this.get("container");e.removeChild(r)},n}(al),tC=qS,eC={PluginBase:al,Menu:SE,Grid:bE,Minimap:PE,Bundling:wE,ToolBar:zE,Tooltip:XE,Fisheye:FE,TimeBar:NS,ImageMinimap:zS,EdgeFilterLens:HS,SnapLine:QS,Legend:tC},rC=eC,No=rC;Co("circle",{options:{size:Mn.defaultNode.size,style:{x:0,y:0,stroke:Mn.defaultNode.style.stroke,fill:Mn.defaultNode.style.fill,lineWidth:Mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Mn.nodeLabel.style.fill,fontSize:Mn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Mn.defaultNode.linkPoints.size,lineWidth:Mn.defaultNode.linkPoints.lineWidth,fill:Mn.defaultNode.linkPoints.fill,stroke:Mn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ve.a)({},Mn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,a=this.getShapeStyle(n),l=Object(p.h)({},r,n.icon),f=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),v=l.width,m=l.height,T=l.show,w=l.text;return T&&(w?t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ve.a)({x:-v/2,y:-m/2},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),f},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,a=r.top,l=r.left,f=r.right,v=r.bottom,m=r.size,T=r.r,w=Object(ve.e)(r,["top","left","right","bottom","size","r"]),X=this.getSize(n),Z=X[0]/2;l&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:-Z,y:0,r:m/2||T||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),f&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:Z,y:0,r:m/2||T||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:-Z,r:m/2||T||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:Z,r:m/2||T||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.h)({},t,e),a=this.getSize(n),l=a[0]/2,f=Object(ve.a)({x:0,y:0,r:l},r);return f},update:function(n,t){var e=t.getContainer(),r=this.getSize(n),a={stroke:n.color,r:r[0]/2},l=t.get("keyShape"),f=Object(p.h)({},l.attr(),a,n.style);this.updateShape(n,t,f,!0),this.updateLinkPoints(n,e)}},"single-node"),Co("rect",{options:{size:[100,30],style:{radius:0,stroke:Mn.defaultNode.style.stroke,fill:Mn.defaultNode.style.fill,lineWidth:Mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Mn.nodeLabel.style.fill,fontSize:Mn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Mn.defaultNode.linkPoints.size,lineWidth:Mn.defaultNode.linkPoints.lineWidth,fill:Mn.defaultNode.linkPoints.fill,stroke:Mn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ve.a)({},Mn.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(n,t),r},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,a=r.top,l=r.left,f=r.right,v=r.bottom,m=r.size,T=r.r,w=Object(ve.e)(r,["top","left","right","bottom","size","r"]),X=this.getSize(n),Z=X[0],J=X[1];l&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:-Z/2,y:0,r:m/2||T||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),f&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:Z/2,y:0,r:m/2||T||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:-J/2,r:m/2||T||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:J/2,r:m/2||T||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),a=this.getSize(n),l=r.width||a[0],f=r.height||a[1],v=Object(ve.a)({x:-l/2,y:-f/2,width:l,height:f},r);return v},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,a=this.getSize(n),l=t.get("keyShape");n.size||(a[0]=l.attr("width")||r.width,a[1]=l.attr("height")||r.height);var f={stroke:n.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},v=Object(p.bb)({},r,l.attr(),f);v=Object(p.bb)(v,n.style),this.updateShape(n,t,v,!1),this.updateLinkPoints(n,e)}},"single-node"),Co("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Mn.defaultNode.style.stroke,fill:Mn.defaultNode.style.fill,lineWidth:Mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Mn.nodeLabel.style.fill,fontSize:Mn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Mn.defaultNode.linkPoints.size,lineWidth:Mn.defaultNode.linkPoints.lineWidth,fill:Mn.defaultNode.linkPoints.fill,stroke:Mn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ve.a)({},Mn.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,a=this.getShapeStyle(n),l=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),f=r.width,v=r.height,m=r.show,T=r.text;return m&&(T?t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ve.a)({x:-f/2,y:-v/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,a=r.top,l=r.left,f=r.right,v=r.bottom,m=r.size,T=r.r,w=Object(ve.e)(r,["top","left","right","bottom","size","r"]),X=this.getSize(n),Z=X[0]/2,J=X[1]/2;l&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:-Z,y:0,r:m/2||T||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),f&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:Z,y:0,r:m/2||T||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:-J,r:m/2||T||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:J,r:m/2||T||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),a=this.getSize(n),l=a[0]/2,f=a[1]/2,v=Object(ve.a)({x:0,y:0,rx:l,ry:f},r);return v},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,a=this.getSize(n),l={stroke:n.color,rx:a[0]/2,ry:a[1]/2},f=t.get("keyShape"),v=Object(p.bb)({},r,f.attr(),l);v=Object(p.bb)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)}},"single-node"),Co("diamond",{options:{size:[80,80],style:{stroke:Mn.defaultNode.style.stroke,fill:Mn.defaultNode.style.fill,lineWidth:Mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Mn.nodeLabel.style.fill,fontSize:Mn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Mn.defaultNode.linkPoints.size,lineWidth:Mn.defaultNode.linkPoints.lineWidth,fill:Mn.defaultNode.linkPoints.fill,stroke:Mn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ve.a)({},Mn.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,a=this.getShapeStyle(n),l=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),f=r.width,v=r.height,m=r.show,T=r.text;return m&&(T?t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ve.a)({x:-f/2,y:-v/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,a=r.top,l=r.left,f=r.right,v=r.bottom,m=r.size,T=r.r,w=Object(ve.e)(r,["top","left","right","bottom","size","r"]),X=this.getSize(n),Z=X[0],J=X[1];l&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:-Z/2,y:0,r:m/2||T||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),f&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:Z/2,y:0,r:m/2||T||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:-J/2,r:m/2||T||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:J/2,r:m/2||T||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(n){var t=this.getSize(n),e=t[0],r=t[1],a=[["M",0,-r/2],["L",e/2,0],["L",0,r/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),a=this.getPath(n),l=Object(ve.a)({path:a},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,a=this.getPath(n),l={stroke:n.color,path:a},f=t.get("keyShape"),v=Object(p.bb)({},r,f.attr(),l);v=Object(p.bb)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)}},"single-node"),Co("triangle",{options:{size:40,direction:"up",style:{stroke:Mn.defaultNode.style.stroke,fill:Mn.defaultNode.style.fill,lineWidth:Mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Mn.nodeLabel.style.fill,fontSize:Mn.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Mn.defaultNode.linkPoints.size,lineWidth:Mn.defaultNode.linkPoints.lineWidth,fill:Mn.defaultNode.linkPoints.fill,stroke:Mn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(ve.a)({},Mn.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(n,t){var e=this.getOptions(n),r=e.icon,a=r===void 0?{}:r,l=e.direction,f=this.getShapeStyle(n),v=n.direction||l,m=t.addShape("path",{attrs:f,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),T=a.width,w=a.height,X=a.show,Z=a.offset,J=a.text;if(X)if(J)t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});else{var ht=-T/2,mt=-w/2;(v==="up"||v==="down")&&(mt+=Z),(v==="left"||v==="right")&&(ht+=Z),t.addShape("image",{attrs:Object(ve.a)({x:ht,y:mt},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(n,t),m},drawLinkPoints:function(n,t){var e=this.getOptions(n),r=e.linkPoints,a=r===void 0?{}:r,l=e.direction,f=n.direction||l,v=a.top,m=a.left,T=a.right,w=a.bottom,X=a.size,Z=a.r,J=Object(ve.e)(a,["top","left","right","bottom","size","r"]),ht=this.getSize(n),mt=ht[0];if(m){var At=null,St=mt*Math.sin(1/3*Math.PI),Bt=mt*Math.sin(1/3*Math.PI);f==="up"?At=[-Bt,St]:f==="down"?At=[-Bt,-St]:f==="left"&&(At=[-Bt,Bt-St]),At&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},J),{x:At[0],y:At[1],r:X/2||Z||5}),className:"link-point-left",name:"link-point-left"})}if(T){var kt=null,St=mt*Math.sin(1/3*Math.PI),Bt=mt*Math.sin(1/3*Math.PI);f==="up"?kt=[Bt,St]:f==="down"?kt=[Bt,-St]:f==="right"&&(kt=[Bt,Bt-St]),kt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},J),{x:kt[0],y:kt[1],r:X/2||Z||5}),className:"link-point-right",name:"link-point-right"})}if(v){var Yt=null,St=mt*Math.sin(1/3*Math.PI),Bt=mt*Math.sin(1/3*Math.PI);f==="up"?Yt=[Bt-St,-St]:f==="left"?Yt=[Bt,-St]:f==="right"&&(Yt=[-Bt,-St]),Yt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},J),{x:Yt[0],y:Yt[1],r:X/2||Z||5}),className:"link-point-top",name:"link-point-top"})}if(w){var qt=null,St=mt*Math.sin(1/3*Math.PI),Bt=mt*Math.sin(1/3*Math.PI);f==="down"?qt=[-Bt+St,St]:f==="left"?qt=[Bt,St]:f==="right"&&(qt=[-Bt,St]),qt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},J),{x:qt[0],y:qt[1],r:X/2||Z||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(n){var t=this.getOptions(n).direction,e=n.direction||t,r=this.getSize(n),a=r[0],l=a*Math.sin(1/3*Math.PI),f=a*Math.sin(1/3*Math.PI),v=[["M",-f,l],["L",0,-l],["L",f,l],["Z"]];return e==="down"?v=[["M",-f,-l],["L",f,-l],["L",0,l],["Z"]]:e==="left"?v=[["M",-f,f-l],["L",f,-f],["L",f,f],["Z"]]:e==="right"&&(v=[["M",f,f-l],["L",-f,f],["L",-f,-f],["Z"]]),v},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),a=this.getPath(n),l=Object(ve.a)({path:a},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,a=this.getPath(n),l={stroke:n.color,path:a},f=t.get("keyShape"),v=Object(p.bb)({},r,f.attr(),l);v=Object(p.bb)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}),r=e.linkPoints,a=e.direction,l=n.direction||a,f=t.find(function(Qr){return Qr.get("className")==="link-point-left"}),v=t.find(function(Qr){return Qr.get("className")==="link-point-right"}),m=t.find(function(Qr){return Qr.get("className")==="link-point-top"}),T=t.find(function(Qr){return Qr.get("className")==="link-point-bottom"}),w=r,X=f||v||m||T;X&&(w=X.attr());var Z=Object(p.bb)({},w,n.linkPoints),J=Z.fill,ht=Z.stroke,mt=Z.lineWidth,At=Z.size/2;At||(At=Z.r);var St=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Bt=St.left,kt=St.right,Yt=St.top,qt=St.bottom,ee=this.getSize(n),re=ee[0],fe={r:At,fill:J,stroke:ht,lineWidth:mt},le=null,Oe=re*Math.sin(1/3*Math.PI),Te=re*Math.sin(1/3*Math.PI);l==="up"?le=[-Te,Oe]:l==="down"?le=[-Te,-Oe]:l==="left"&&(le=[-Te,Te-Oe]),le&&(f?!Bt&&Bt!==void 0?f.remove():f.attr(Object(ve.a)(Object(ve.a)({},fe),{x:le[0],y:le[1]})):Bt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},fe),{x:le[0],y:le[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var sr=null;l==="up"?sr=[Te,Oe]:l==="down"?sr=[Te,-Oe]:l==="right"&&(sr=[Te,Te-Oe]),sr&&(v?!kt&&kt!==void 0?v.remove():v.attr(Object(ve.a)(Object(ve.a)({},fe),{x:sr[0],y:sr[1]})):kt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},fe),{x:sr[0],y:sr[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var fr=null;l==="up"?fr=[Te-Oe,-Oe]:l==="left"?fr=[Te,-Oe]:l==="right"&&(fr=[-Te,-Oe]),fr&&(m?!Yt&&Yt!==void 0?m.remove():m.attr(Object(ve.a)(Object(ve.a)({},fe),{x:fr[0],y:fr[1]})):Yt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},fe),{x:fr[0],y:fr[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var vr=null;l==="down"?vr=[-Te+Oe,Oe]:l==="left"?vr=[Te,Oe]:l==="right"&&(vr=[-Te,Oe]),vr&&(T?!qt&&qt!==void 0?T.remove():T.attr(Object(ve.a)(Object(ve.a)({},fe),{x:vr[0],y:vr[1]})):qt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},fe),{x:vr[0],y:vr[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Co("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Mn.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(n,t){var e=this.getOptions(n).preRect,r=e===void 0?{}:e,a=this.getShapeStyle(n),l=this.getSize(n),f=l[0],v=l[1],m=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),T=r.show,w=Object(ve.e)(r,["show"]);return T&&t.addShape("rect",{attrs:Object(ve.a)({x:-f/2,y:-v/2,height:v},w),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(n,t),this.drawStateIcon(n,t),this.drawLinkPoints(n,t),m},drawLogoIcon:function(n,t){var e=this.getOptions(n).logoIcon,r=e===void 0?{}:e,a=this.getSize(n),l=a[0];if(r.show){var f=r.width,v=r.height,m=r.x,T=r.y,w=r.offset,X=r.text,Z=Object(ve.e)(r,["width","height","x","y","offset","text"]);X?t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},Z),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:Object(ve.a)(Object(ve.a)({},Z),{x:m||-l/2+f+w,y:T||-v/2,width:f,height:v}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(n,t){var e=this.getOptions(n).stateIcon,r=e===void 0?{}:e,a=this.getSize(n),l=a[0];if(r.show){var f=r.width,v=r.height,m=r.x,T=r.y,w=r.offset,X=r.text,Z=Object(ve.e)(r,["width","height","x","y","offset","text"]);X?t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},Z),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:Object(ve.a)(Object(ve.a)({},Z),{x:m||l/2-f+w,y:T||-v/2,width:f,height:v}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,a=r.top,l=r.left,f=r.right,v=r.bottom,m=r.size,T=r.r,w=Object(ve.e)(r,["top","left","right","bottom","size","r"]),X=this.getSize(n),Z=X[0],J=X[1];l&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:-Z/2,y:0,r:m/2||T||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),f&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:Z/2,y:0,r:m/2||T||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:-J/2,r:m/2||T||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},w),{x:0,y:J/2,r:m/2||T||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(n,t){var e=this.getOptions(n),r=e.labelCfg,a=r===void 0?{}:r,l=e.logoIcon,f=l===void 0?{}:l,v=e.descriptionCfg,m=v===void 0?{}:v,T=this.getSize(n),w=T[0],X=null,Z=f.show,J=f.width,ht=-w/2+a.offset;Z&&(ht=-w/2+J+a.offset);var mt=a.style,At=m.style,St=m.paddingTop;return Object(p.O)(n.description)?(X=t.addShape("text",{attrs:Object(ve.a)(Object(ve.a)({},mt),{x:ht,y:-5,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Object(ve.a)(Object(ve.a)({},At),{x:ht,y:17+(St||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0})):X=t.addShape("text",{attrs:Object(ve.a)(Object(ve.a)({},mt),{x:ht,y:7,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),X},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),a=this.getSize(n),l=r.width||a[0],f=r.height||a[1],v=Object(ve.a)({x:-l/2,y:-f/2,width:l,height:f},r);return v},update:function(n,t){var e=this.getOptions(n),r=e.style,a=r===void 0?{}:r,l=e.labelCfg,f=l===void 0?{}:l,v=e.descriptionCfg,m=v===void 0?{}:v,T=this.getSize(n),w=T[0],X=T[1],Z=t.get("keyShape");Z.attr(Object(ve.a)(Object(ve.a)({},a),{x:-w/2,y:-X/2,width:w,height:X}));var J=t.getContainer(),ht=J.find(function(Nn){return Nn.get("className")==="rect-logo-icon"}),mt=ht?ht.attr():{},At=Object(p.bb)({},mt,n.logoIcon),St=At.width;St===void 0&&(St=this.options.logoIcon.width);var Bt=n.logoIcon?n.logoIcon.show:void 0,kt=f.offset,Yt=-w/2+St+kt;!Bt&&Bt!==void 0&&(Yt=-w/2+kt);var qt=J.find(function(Nn){return Nn.get("className")==="node-label"}),ee=J.find(function(Nn){return Nn.get("className")==="rect-description"});if(n.label)if(!qt)J.addShape("text",{attrs:Object(ve.a)(Object(ve.a)({},f.style),{x:Yt,y:n.description?-5:7,text:n.label}),className:"node-label",name:"node-label",draggable:!0});else{var re=n.labelCfg?n.labelCfg.style:{},fe=Object(p.bb)({},qt.attr(),re);n.label&&(fe.text=n.label),fe.x=Yt,Object(p.O)(n.description)&&(fe.y=-5),ee&&(ee.resetMatrix(),ee.attr({x:Yt})),qt.resetMatrix(),qt.attr(fe)}if(Object(p.O)(n.description)){var le=m.paddingTop;if(!ee)J.addShape("text",{attrs:Object(ve.a)(Object(ve.a)({},m.style),{x:Yt,y:17+(le||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var re=n.descriptionCfg?n.descriptionCfg.style:{},Oe=Object(p.bb)({},ee.attr(),re);Object(p.O)(n.description)&&(Oe.text=n.description),Oe.x=Yt,ee.resetMatrix(),ee.attr(Object(ve.a)(Object(ve.a)({},Oe),{y:17+(le||0)}))}}var Te=J.find(function(Nn){return Nn.get("className")==="pre-rect"});if(Te){var sr=Object(p.bb)({},Te.attr(),n.preRect);Te.attr(Object(ve.a)(Object(ve.a)({},sr),{x:-w/2,y:-X/2,height:X}))}if(ht)if(!Bt&&Bt!==void 0)ht.remove();else{var fr=At.width,vr=At.height,Qr=At.x,Zr=At.y,Rr=At.offset,Dr=Object(ve.e)(At,["width","height","x","y","offset"]);ht.attr(Object(ve.a)(Object(ve.a)({},Dr),{x:Qr||-w/2+fr+Rr,y:Zr||-vr/2,width:fr,height:vr}))}else Bt&&this.drawLogoIcon(n,J);var Ur=J.find(function(Nn){return Nn.get("className")==="rect-state-icon"}),Lr=Ur?Ur.attr():{},kr=Object(p.bb)({},Lr,n.stateIcon);if(Ur){!kr.show&&kr.show!==void 0&&Ur.remove();var On=kr.width,vr=kr.height,Qr=kr.x,Zr=kr.y,Wr=kr.offset,Xr=Object(ve.e)(kr,["width","height","x","y","offset"]);Ur.attr(Object(ve.a)(Object(ve.a)({},Xr),{x:Qr||w/2-On+Wr,y:Zr||-vr/2,width:On,height:vr}))}else kr.show&&this.drawStateIcon(n,J);this.updateLinkPoints(n,J)}},"single-node"),Co("star",{options:{size:60,style:{stroke:Mn.defaultNode.style.stroke,fill:Mn.defaultNode.style.fill,lineWidth:Mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Mn.nodeLabel.style.fill,fontSize:Mn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Mn.defaultNode.linkPoints.size,lineWidth:Mn.defaultNode.linkPoints.lineWidth,fill:Mn.defaultNode.linkPoints.fill,stroke:Mn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ve.a)({},Mn.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,a=this.getShapeStyle(n),l=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),f=r.width,v=r.height,m=r.show,T=r.text;return m&&(T?t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ve.a)({x:-f/2,y:-v/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,a=r.top,l=r.left,f=r.right,v=r.leftBottom,m=r.rightBottom,T=r.size,w=r.r,X=Object(ve.e)(r,["top","left","right","leftBottom","rightBottom","size","r"]),Z=this.getSize(n),J=Z[0];if(f){var ht=Math.cos((18+72*0)/180*Math.PI)*J,mt=Math.sin((18+72*0)/180*Math.PI)*J;t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},X),{x:ht,y:-mt,r:T/2||w||5}),className:"link-point-right",name:"link-point-right"})}if(a){var ht=Math.cos((18+72*1)/180*Math.PI)*J,mt=Math.sin((18+72*1)/180*Math.PI)*J;t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},X),{x:ht,y:-mt,r:T/2||w||5}),className:"link-point-top",name:"link-point-top"})}if(l){var ht=Math.cos((18+72*2)/180*Math.PI)*J,mt=Math.sin((18+72*2)/180*Math.PI)*J;t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},X),{x:ht,y:-mt,r:T/2||w||5}),className:"link-point-left",name:"link-point-left"})}if(v){var ht=Math.cos((18+72*3)/180*Math.PI)*J,mt=Math.sin((18+72*3)/180*Math.PI)*J;t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},X),{x:ht,y:-mt,r:T/2||w||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(m){var ht=Math.cos((18+72*4)/180*Math.PI)*J,mt=Math.sin((18+72*4)/180*Math.PI)*J;t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},X),{x:ht,y:-mt,r:T/2||w||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(n){for(var t=this.getSize(n),e=t[0],r=e*3/8,a=n.innerR||r,l=[],f=0;f<5;f++){var v=Math.cos((18+72*f)/180*Math.PI)*e,m=Math.sin((18+72*f)/180*Math.PI)*e,T=Math.cos((54+72*f)/180*Math.PI)*a,w=Math.sin((54+72*f)/180*Math.PI)*a;f===0?l.push(["M",v,-m]):l.push(["L",v,-m]),l.push(["L",T,-w])}return l.push(["Z"]),l},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(p.bb)({},t,e),a=this.getPath(n),l=Object(ve.a)({path:a},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,a=this.getPath(n),l={stroke:n.color,path:a},f=t.get("keyShape"),v=Object(p.bb)({},r,f.attr(),l);v=Object(p.bb)(v,n.style),this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}).linkPoints,r=t.find(function(Oe){return Oe.get("className")==="link-point-left"}),a=t.find(function(Oe){return Oe.get("className")==="link-point-right"}),l=t.find(function(Oe){return Oe.get("className")==="link-point-top"}),f=t.find(function(Oe){return Oe.get("className")==="link-point-left-bottom"}),v=t.find(function(Oe){return Oe.get("className")==="link-point-right-bottom"}),m=e,T=r||a||l||f||v;T&&(m=T.attr());var w=Object(p.bb)({},m,n.linkPoints),X=w.fill,Z=w.stroke,J=w.lineWidth,ht=w.size/2;ht||(ht=w.r);var mt=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},At=mt.left,St=mt.right,Bt=mt.top,kt=mt.leftBottom,Yt=mt.rightBottom,qt=this.getSize(n),ee=qt[0],re={r:ht,fill:X,stroke:Z,lineWidth:J},fe=Math.cos((18+72*0)/180*Math.PI)*ee,le=Math.sin((18+72*0)/180*Math.PI)*ee;a?!St&&St!==void 0?a.remove():a.attr(Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le})):St&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),fe=Math.cos((18+72*1)/180*Math.PI)*ee,le=Math.sin((18+72*1)/180*Math.PI)*ee,l?!Bt&&Bt!==void 0?l.remove():l.attr(Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le})):Bt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),fe=Math.cos((18+72*2)/180*Math.PI)*ee,le=Math.sin((18+72*2)/180*Math.PI)*ee,r?!At&&At!==void 0?r.remove():r.attr(Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le})):At&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),fe=Math.cos((18+72*3)/180*Math.PI)*ee,le=Math.sin((18+72*3)/180*Math.PI)*ee,f?!kt&&kt!==void 0?f.remove():f.attr(Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le})):kt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),fe=Math.cos((18+72*4)/180*Math.PI)*ee,le=Math.sin((18+72*4)/180*Math.PI)*ee,v?!Yt&&Yt!==void 0?f.remove():v.attr(Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le})):Yt&&t.addShape("circle",{attrs:Object(ve.a)(Object(ve.a)({},re),{x:fe,y:-le}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var yv=es.defaultSubjectColors;Co("donut",{options:{size:Mn.defaultNode.size,style:{x:0,y:0,stroke:Mn.defaultNode.style.stroke,fill:Mn.defaultNode.style.fill,lineWidth:Mn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Mn.nodeLabel.style.fill,fontSize:Mn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Mn.defaultNode.linkPoints.size,lineWidth:Mn.defaultNode.linkPoints.lineWidth,fill:Mn.defaultNode.linkPoints.fill,stroke:Mn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(ve.a)({},Mn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,a=this.getShapeStyle(n),l=Object(p.h)({},r,n.icon),f=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0,name:this.type+"-keyShape"}),v=l.width,m=l.height,T=l.show,w=l.text;T&&(w?t.addShape("text",{attrs:Object(ve.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(ve.a)({x:-v/2,y:-m/2},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}));var X=f.attr("r"),Z=.6*X,J=(X+Z)/2,ht=n,mt=ht.donutAttrs,At=mt===void 0?{}:mt,St=ht.donutColorMap,Bt=St===void 0?{}:St,kt=Object.keys(At).length;if(At&&kt>1){var Yt=[],qt=0;if(Object.keys(At).forEach(function(le){var Oe=At[le]||0;!Object(p.K)(Oe)||(Yt.push({key:le,value:Oe,color:Bt[le]}),qt+=Oe)}),qt){var ee=X-Z;if(kt===1){t.addShape("circle",{attrs:{r:J,x:0,y:0,stroke:Yt[0].color||yv[0],lineWidth:ee},name:"fan-shape-0"});return}var re=[J,0],fe=0;Yt.forEach(function(le,Oe){var Te=le.value/qt;if(!(Te<.001)){if(Te>.999&&(Te=1),Te===1){t.addShape("circle",{attrs:{r:J,x:0,y:0,stroke:le.color||yv[Oe%yv.length],lineWidth:ee},name:"fan-shape-"+Oe});return}le.percent=Te,le.angle=Te*Math.PI*2,le.beginAgnle=fe,fe+=le.angle,le.endAngle=fe,le.arcBegin=re,le.arcEnd=[J*Math.cos(le.endAngle),-J*Math.sin(le.endAngle)];var sr=le.angle>Math.PI?1:0,fr=[["M",le.arcBegin[0],le.arcBegin[1]],["A",J,J,0,sr,0,le.arcEnd[0],le.arcEnd[1]],["L",le.arcEnd[0],le.arcEnd[1]]];t.addShape("path",{attrs:{path:fr,lineWidth:ee,stroke:le.color||yv[Oe%yv.length]},name:"fan-shape-"+Oe}),re=le.arcEnd}})}}return this.drawLinkPoints(n,t),f},update:void 0},"circle");var og=function(n){var t=n.x,e=n.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},nC=function(n){n===void 0&&(n=[]);var t=[],e=[];n.forEach(function(v){t.push(v.x),e.push(v.y)});var r=Math.min.apply(Math,t),a=Math.max.apply(Math,t),l=Math.min.apply(Math,e),f=Math.max.apply(Math,e);return{centerX:(r+a)/2,centerY:(l+f)/2,maxX:a,maxY:f,minX:r,minY:l,height:f-l,width:a-r}},HM=function(n,t){return Math.abs(n.centerX-t.centerX)*2<n.width+t.width&&Math.abs(n.centerY-t.centerY)*2<n.height+t.height},Jg=function(n){for(var t=[],e={},r=n.length,a=r-1;a>=0;a--){var l=n[a];l.id=l.x+"|||"+l.y,e[l.id]=l,t.push(l)}return t},S0=function(n){return Jg(n)},KM=function(n,t){return[n,{x:n.x,y:t.y},t]},sg=function(n,t){return n.width||n.height?{centerX:n.centerX,centerY:n.centerY,minX:n.minX-t,minY:n.minY-t,maxX:n.maxX+t,maxY:n.maxY+t,height:n.height+2*t,width:n.width+2*t}:n},aC=function(n,t){var e=Math.abs(n.x-t.centerX),r=Math.abs(n.y-t.centerY);return e===0&&r===0?0:e/t.width>r/t.height},_g=function(n,t,e){var r=aC(t,n);if(r===0){var a=n.centerX,l=n.centerY;return e.y<t.y?l=n.minY:e.x>t.x?a=n.maxX:e.x<t.x?a=n.minX:e.x===t.x&&(l=n.maxY),{x:a,y:l}}return r?{x:t.x>n.centerX?n.maxX:n.minX,y:t.y}:{x:t.x,y:t.y>n.centerY?n.maxY:n.minY}},C0=function(n,t){var e=Math.min(n.minX,t.minX),r=Math.min(n.minY,t.minY),a=Math.max(n.maxX,t.maxX),l=Math.max(n.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(r+l)/2,minX:e,minY:r,maxX:a,maxY:l,height:l-r,width:a-e}},qg=function(n){return[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.maxX,y:n.maxY},{x:n.minX,y:n.maxY}]},lg=function(n,t){var e=n.x,r=n.y;return e<t.minX||e>t.maxX||r<t.minY||r>t.maxY},iC=function(n,t){return t<n.minX||t>n.maxX?[]:[{x:t,y:n.minY},{x:t,y:n.maxY}]},oC=function(n,t){return t<n.minY||t>n.maxY?[]:[{x:n.minX,y:t},{x:n.maxX,y:t}]},sC=function(n,t){return iC(n,t.x).concat(oC(n,t.y))},mv=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},lC=function(n,t){var e=-2,r=0;return t.forEach(function(a){a&&(n.x===a.x&&(r+=e),n.y===a.y&&(r+=e))}),r},M0=function(n,t,e,r,a){return mv(n,t)+mv(n,e)+lC(n,[t,e,r,a])},uC=function u(n,t,e,r,a){a===void 0&&(a=0),n.unshift(t[r]),e[r]&&e[r]!==r&&a<=100&&u(n,t,e,e[r],a+1)},cC=function(n,t){var e=n.indexOf(t);e>-1&&n.splice(e,1)},ug=function(n,t,e,r){var a=e.x-n.x,l=e.y-n.y,f=r.x-n.x,v=r.y-n.y,m=e.x-t.x,T=e.y-t.y,w=r.x-t.x,X=r.y-t.y,Z=a*v-l*f,J=m*X-T*w,ht=a*T-l*m,mt=f*X-v*w;return Z*J<=0&&ht*mt<=0},tp=function(n,t,e){if(e.width||e.height){var r=qg(e),a=r[0],l=r[1],f=r[2],v=r[3];return ug(n,t,a,l)||ug(n,t,a,v)||ug(n,t,l,f)||ug(n,t,f,v)}return!1},fC=function(n,t,e,r){var a=[];return n.forEach(function(l){if(l!==t&&(l.x===t.x||l.y===t.y)){if(tp(l,t,e)||tp(l,t,r))return;a.push(l)}}),Jg(a)},hC=function(n,t,e,r,a,l,f){var v=[],m=[t],T={},w={},X={};w[t.id]=0,X[t.id]=M0(t,e,t);var Z={};n.forEach(function(At){Z[At.id]=At});for(var J,ht;m.length;){if(J=void 0,ht=Infinity,m.forEach(function(At){X[At.id]<=ht&&(ht=X[At.id],J=At)}),J===e){var mt=[];return uC(mt,Z,T,e.id),mt}cC(m,J),v.push(J),fC(n,J,r,a).forEach(function(At){if(v.indexOf(At)===-1){m.indexOf(At)===-1&&m.push(At);var St=X[J.id]+mv(J,At);w[At.id]&&St>=w[At.id]||(T[At.id]=J.id,w[At.id]=St,X[At.id]=w[At.id]+M0(At,e,t,l,f))}})}return[t,e]},dC=function(n,t,e){return!(n.x===t.x&&t.x===e.x||n.y===t.y&&t.y===e.y)},vC=function(n,t,e,r){var a=mv(n,t),l=mv(e,t);a<r&&(r=a),l<r&&(r=l);var f={x:t.x-r/a*(t.x-n.x),y:t.y-r/a*(t.y-n.y)},v={x:t.x-r/l*(t.x-e.x),y:t.y-r/l*(t.y-e.y)};return[f,v]},T0=function(n,t){var e=[],r=n[0];return e.push("M"+r.x+" "+r.y),n.forEach(function(a,l){var f=n[l+1],v=n[l+2];if(f&&v)if(dC(a,f,v)){var m=vC(a,f,v,t),T=m[0],w=m[1];e.push("L"+T.x+" "+T.y),e.push("Q"+f.x+" "+f.y+" "+w.x+" "+w.y),e.push("L"+w.x+" "+w.y)}else e.push("L"+f.x+" "+f.y);else f&&e.push("L"+f.x+" "+f.y)}),e.join("")},A0=function(n,t,e,r,a){var l,f;if(!e||!e.getType())l=og(n);else if(e.getType()==="combo"){var v=e.getKeyShape();l=v.getCanvasBBox()||og(n),l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2}else l=e.getBBox();if(!r||!r.getType())f=og(t);else if(r.getType()==="combo"){var m=r.getKeyShape().getBBox();if(m){var T=r.getModel(),w=T.x,X=T.y;f={x:w,y:X,width:m.width,height:m.height,minX:m.minX+w,maxX:m.maxX+w,minY:m.minY+X,maxY:m.maxY+X},f.centerX=(f.minX+f.maxX)/2,f.centerY=(f.minY+f.maxY)/2}else f=og(t)}else f=r&&r.getBBox();var Z=sg(l,a),J=sg(f,a),ht=_g(Z,n,t),mt=_g(J,t,n),At=nC([ht,mt]),St=C0(Z,At),Bt=C0(J,At),kt=[];kt=kt.concat(qg(St)).concat(qg(Bt));var Yt={x:(n.x+t.x)/2,y:(n.y+t.y)/2};[At,St,Bt].forEach(function(ee){kt=kt.concat(sC(ee,Yt).filter(function(re){return lg(re,Z)&&lg(re,J)}))}),[{x:ht.x,y:mt.y},{x:mt.x,y:ht.y}].forEach(function(ee){lg(ee,Z)&&lg(ee,J)&&kt.push(ee)}),kt.unshift(ht),kt.push(mt),kt=Jg(kt);var qt=hC(kt,ht,mt,l,f,n,t);return qt.unshift(n),qt.push(t),S0(qt)},gC=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},pC=function(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},yC=function(n,t){return[n,t]},mC=function(n,t,e,r,a){return S0(A0(n,t,e,r,a.offset))},bC={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:gC,fallbackRoute:mC},YM={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:pC,fallbackRoute:yC},dc=function(n,t){var e=Math.round(Math.abs(n/t)),r=n<0?-1:1;return e<0?0:r*e},OC=function(n,t,e){var r={};return n.forEach(function(a){if(!!a)for(var l=sg(a.getBBox(),e),f=dc(l.minX,t);f<=dc(l.maxX,t);f+=1)for(var v=dc(l.minY,t);v<=dc(l.maxY,t);v+=1)r[f+"|||"+v]=!0}),r},ep=function(n,t){var e=t.x-n.x,r=t.y-n.y;return e||r?Math.atan2(r,e):0},I0=function(n,t){var e=Math.abs(n-t);return e>Math.PI?2*Math.PI-e:e},D0=function(n,t,e){for(var r=Infinity,a=0,l=t.length;a<l;a++){var f=e(n,t[a]);f<r&&(r=f)}return r},P0=function(n,t,e,r,a){var l=[];if(!e)return[n];var f=a.directions,v=a.offset,m=e.getBBox(),T=t.x>m.minX&&t.x<m.maxX&&t.y>m.minY&&t.y<m.maxY,w=sg(m,v);for(var X in w)w[X]=dc(w[X],a.gridSize);if(T){for(var Z=0,J=f;Z<J.length;Z++)for(var ht=J[Z],mt=[[{x:w.minX,y:w.minY},{x:w.maxX,y:w.minY}],[{x:w.minX,y:w.minY},{x:w.minX,y:w.maxY}],[{x:w.maxX,y:w.minY},{x:w.maxX,y:w.maxY}],[{x:w.minX,y:w.maxY},{x:w.maxX,y:w.maxY}]],X=0;X<4;X++){var At=mt[X],St=es.getLineIntersect(n,{x:n.x+ht.stepX*w.width,y:n.y+ht.stepY*w.height},At[0],At[1]);St&&!tp(n,St,m)&&(St.id=St.x+"|||"+St.y,l.push(St))}return l}var Bt=_g(w,n,r);return Bt.id=Bt.x+"|||"+Bt.y,[Bt]},rp=function(n,t,e,r){var a=ep(n,t);if(!e[n.id]){var l=ep(r,n);return I0(l,a)}var f=ep({x:e[n.id].x,y:e[n.id].y},n);return I0(f,a)},xC=function(n,t,e,r,a,l,f){var v=[r],m=n.id,T=n.x,w=n.y,X={x:T,y:w,id:m};for(rp(X,l,t,e)&&v.unshift({x:l.x===r.x?r.x:X.x*f,y:l.y===r.y?r.y:X.y*f});t[m]&&t[m].id!==m;){var Z={x:T,y:w,id:m},J=t[m].id,ht=t[m].x,mt=t[m].y,At={x:ht,y:mt,id:J},St=rp(At,Z,t,e);St&&v.unshift({x:At.x===Z.x?v[0].x:At.x*f,y:At.y===Z.y?v[0].y:At.y*f}),m=J,T=ht,w=mt}var Bt={x:T,y:w,id:m};return v[0].x=Bt.x===e.x?a.x:v[0].x,v[0].y=Bt.y===e.y?a.y:v[0].y,v.unshift(a),v},EC=function(n,t,e,r,a){if(isNaN(n.x)||isNaN(t.x))return[];var l=Object(p.h)(bC,a);l.obstacles=l.obstacles||[];var f=l.gridSize,v=OC(l.obstacles.concat([e,r]),f,l.offset),m={x:dc(n.x,f),y:dc(n.y,f)},T={x:dc(t.x,f),y:dc(t.y,f)};n.id=m.x+"|||"+m.y,t.id=T.x+"|||"+T.y;var w=P0(m,n,e,T,l),X=P0(T,t,r,m,l);w.forEach(function(sr){delete v[sr.id]}),X.forEach(function(sr){delete v[sr.id]});for(var Z={},J={},ht={},mt={},At={},St=0;St<w.length;St++){var Bt=w[St];Z[Bt.id]=Bt,mt[Bt.id]=0,At[Bt.id]=D0(Bt,X,l.distFunc)}for(var kt=l.maximumLoops,Yt=l.penalties,qt,ee,re,fe,le,Oe,Te;Object.keys(Z).length>0&&kt>0&&(qt=void 0,ee=Infinity,Object.keys(Z).forEach(function(sr){var fr=Z[sr].id;At[fr]<=ee&&(ee=At[fr],qt=Z[fr])}),!!qt);){if(X.findIndex(function(sr){return sr.x===qt.x&&sr.y===qt.y})>-1)return xC(qt,ht,m,t,n,T,f);delete Z[qt.id],J[qt.id]=!0;for(var St=0;St<l.directions.length;St++)re=l.directions[St],fe={x:qt.x+re.stepX,y:qt.y+re.stepY,id:Math.round(qt.x)+re.stepX+"|||"+(Math.round(qt.y)+re.stepY)},!J[fe.id]&&(Te=rp(qt,fe,ht,m),!(Te>l.maxAllowedDirectionChange)&&(v[fe.id]||(Z[fe.id]||(Z[fe.id]=fe),le=l.distFunc(qt,fe)+(isNaN(Yt[Te])?f:Yt[Te]),Oe=mt[qt.id]+le,!(mt[fe.id]&&Oe>=mt[fe.id])&&(ht[fe.id]=qt,mt[fe.id]=Oe,At[fe.id]=Oe+D0(fe,X,l.distFunc)))));kt-=1}return l.fallbackRoute(n,t,e,r,l)};_s("polyline",{options:{color:Mn.defaultEdge.color,size:Mn.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Mn.defaultEdge.style.stroke,lineAppendWidth:Mn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Mn.edgeLabel.style.fill,fontSize:Mn.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(ve.a)({},Mn.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n);e.radius===0&&delete e.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return r},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(p.bb)({},t,e,n.style);n=this.getPathPoints(n),this.radius=r.radius,this.offset=r.offset;var a=n.startPoint,l=n.endPoint,f=this.getControlPoints(n),v=[a];f&&(v=v.concat(f)),v.push(l);var m=n.sourceNode,T=n.targetNode,w=r.radius,X=this.options.routeCfg,Z=Object(p.bb)({},X,n.routeCfg);Z.offset=r.offset;var J=this.getPath(v,m,T,w,Z);(Object(p.B)(J)&&J.length<=1||Object(p.O)(J)&&J.indexOf("L")===-1)&&(J="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(l.x)||isNaN(l.y))&&(J="M0 0, L0 0");var ht=Object(p.bb)({},Mn.defaultEdge.style,r,{lineWidth:n.size,path:J});return ht},updateShapeStyle:function(n,t){var e=t.getContainer();if(!!t.isVisible()){var r={stroke:n.color},a=e.find(function(kt){return kt.get("className")==="edge-shape"})||t.getKeyShape(),l=n.size;n=this.getPathPoints(n);var f=n.startPoint,v=n.endPoint,m=this.getControlPoints(n),T=[f];m&&(T=T.concat(m)),T.push(v);var w=a.attr(),X=Object(p.bb)({},r,w,n.style),Z=n.sourceNode,J=n.targetNode,ht=X.radius,mt=this.options.routeCfg,At=Object(p.bb)({},mt,n.routeCfg);At.offset=X.offset;var St=this.getPath(T,Z,J,ht,At);(Object(p.B)(St)&&St.length<=1||Object(p.O)(St)&&St.indexOf("L")===-1)&&(St="M0 0, L0 0"),(isNaN(f.x)||isNaN(f.y)||isNaN(v.x)||isNaN(v.y))&&(St="M0 0, L0 0"),w.endArrow&&X.endArrow===!1&&(n.style.endArrow={path:""}),w.startArrow&&X.startArrow===!1&&(n.style.startArrow={path:""});var Bt=Object(p.bb)(r,a.attr(),{lineWidth:l,path:St},n.style);a&&a.attr(Bt)}},getPath:function(n,t,e,r,a){var l=a.offset,f=a.simple;if(!l||n.length>2){if(r)return T0(n,r);var v=[];return Object(p.j)(n,function(X,Z){Z===0?v.push(["M",X.x,X.y]):v.push(["L",X.x,X.y])}),v}var m=f?A0(n[n.length-1],n[0],e,t,l):EC(n[0],n[n.length-1],t,e,a);if(!m||!m.length)return"M0 0, L0 0";if(r){var T=T0(m,r);return T}var w=es.pointsToPolygon(m);return w}},"single-edge");var L0=fc.cloneEvent,j0=fc.isNaN,R0=Math.abs,SC=10,CC=["shift","ctrl","alt","control"],MC={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(n){var t=this.origin,e=+n.clientX,r=+n.clientY;if(!(j0(e)||j0(r))){var a=e-t.x,l=r-t.y;this.get("direction")==="x"?l=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:r};var f=this.graph.get("width"),v=this.graph.get("height"),m=this.graph.get("canvas").getCanvasBBox(),T=this.scalableRange,w=this.scalableRange;T<1&&T>-1&&(T=f*T,w=v*w),(m.minX<=f+T&&m.minX+a>f+T||m.maxX+T>=0&&m.maxX+T+a<0)&&(a=0),(m.minY<=v+w&&m.minY+l>v+w||m.maxY+w>=0&&m.maxY+w+l<0)&&(l=0),this.graph.translate(a,l)}},onTouchStart:function(n){var t=this,e=n.originalEvent.touches,r=e[0],a=e[1];r&&a||(n.preventDefault(),t.onMouseDown(n))},onMouseDown:function(n){var t=this,e=n.originalEvent;if(!(e&&n.name!==rs.TOUCHSTART&&e.button!==0)&&!(n.name!==rs.TOUCHSTART&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin.call(this,n)&&!t.keydown){var r=n.target,a=r&&r.isCanvas&&r.isCanvas();if(!(!this.allowDragOnItem&&!a)&&(t.origin={x:n.clientX,y:n.clientY},t.dragging=!1,this.enableOptimize)){for(var l=this.graph,f=l.getEdges(),v=0,m=f.length;v<m;v++){var T=f[v].get("group").get("children");!T||T.forEach(function(kt){kt.set("ori-visibility",kt.get("ori-visibility")||kt.get("visible")),kt.hide()})}for(var w=l.getNodes(),X=0,Z=w.length;X<Z;X++)for(var J=w[X].getContainer(),ht=J.get("children"),mt=0,At=ht;mt<At.length;mt++){var St=At[mt],Bt=St.get("isKeyShape");Bt||(St.set("ori-visibility",St.get("ori-visibility")||St.get("visible")),St.hide())}}}},onTouchMove:function(n){var t=this,e=n.originalEvent.touches,r=e[0],a=e[1];if(r&&a){this.onMouseUp(n);return}n.preventDefault(),t.onMouseMove(n)},onMouseMove:function(n){var t=this.graph;if(!this.keydown){var e=n.target,r=e&&e.isCanvas&&e.isCanvas();if(!(!this.allowDragOnItem&&!r)&&(n=L0(n),!!this.origin)){if(this.dragging)n.type="drag",t.emit("canvas:drag",n);else{if(R0(this.origin.x-n.clientX)+R0(this.origin.y-n.clientY)<SC)return;this.shouldBegin.call(this,n)&&(n.type="dragstart",t.emit("canvas:dragstart",n),this.dragging=!0)}this.shouldUpdate.call(this,n)&&this.updateViewport(n)}}},onMouseUp:function(n){var t=this.graph;if(!this.keydown){if(this.enableOptimize){for(var e=t.getEdges(),r=0,a=e.length;r<a;r++){var l=e[r].get("group").get("children");!l||l.forEach(function(At){var St=At.get("ori-visibility");St&&At.show()})}for(var f=t.getNodes(),v=0,m=f.length;v<m;v++)for(var T=f[v].getContainer(),w=T.get("children"),X=0,Z=w;X<Z.length;X++){var J=Z[X],ht=J.get("isKeyShape");if(!ht){var mt=J.get("ori-visibility");mt&&J.show()}}}if(!this.dragging){this.origin=null;return}n=L0(n),this.shouldEnd.call(this,n)&&this.updateViewport(n),n.type="dragend",t.emit("canvas:dragend",n),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(n){var t=this,e=n.key;!e||(CC.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},TC={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas","node:touchstart":"onTouchStart","node:touchmove":"onTouchMove","node:touchend":"onDragEnd"}},validationCombo:function(n){if(!this.origin||!n||n.destroyed)return!1;var t=n.getType();return t==="combo"},onTouchStart:function(n){var t=this,e=n.originalEvent.touches,r=e[0],a=e[1];r&&a||(n.preventDefault(),t.onDragStart(n))},onTouchMove:function(n){var t=this,e=n.originalEvent.touches,r=e[0],a=e[1];if(r&&a){t.onDragEnd(n);return}n.preventDefault(),t.onDrag(n)},onDragStart:function(n){var t=this;if(!!this.shouldBegin.call(this,n)){var e=n.item;if(!(!e||e.destroyed||e.hasLocked())){var r=e.getContainer();r.set("capture",!1);var a=n.target;if(a){var l=a.get("isAnchorPoint");if(l)return}var f=this.graph;this.targets=[],this.targetCombo=null;var v=f.findAllByState("node",this.selectedState),m=e.get("id"),T=v.filter(function(X){var Z=X.get("id");return m===Z});T.length===0?this.targets.push(e):v.length>1?v.forEach(function(X){var Z=X.hasLocked();Z||t.targets.push(X)}):this.targets.push(e);var w=[];this.targets.forEach(function(X){w.push(Object(p.e)(X.getModel()))}),this.set("beforeDragNodes",w),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(X){var Z=X.getEdges();Z.forEach(function(J){!J.isVisible()||(t.hidenEdge[J.getID()]=!0,J.hide())})}),this.origin={x:n.x,y:n.y},this.point={},this.originPoint={}}}},onDrag:function(n){var t=this;!this.origin||!this.shouldUpdate(this,n)||(this.get("enableDelegate")?this.updateDelegate(n):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge")}):this.targets.map(function(e){t.update(e,n)}))},onDragEnd:function(n){var t=this;if(!(!this.origin||!this.shouldEnd.call(this,n))){var e=n.item;if(e){var r=e.getContainer();r.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(n),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(f){var v=f.getEdges();v.forEach(function(m){t.hidenEdge[m.getID()]&&m.show(),m.refresh()})}),this.hidenEdge={};var a=this.graph;if(a.get("enabledStack")){var l={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(f){l.before.nodes.push({id:f.id,x:f.x,y:f.y})}),this.targets.forEach(function(f){var v=f.getModel();l.after.nodes.push({id:v.id,x:v.x,y:v.y})}),a.pushStack("update",Object(p.e)(l))}a.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(n){var t=n.item;if(!!this.validationCombo(t)){this.updatePositions(n);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var r=t.getModel();this.targets.map(function(a){var l=a.getModel();l.comboId!==r.id&&e.updateComboTree(a,r.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(n){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(n),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var r=e.getModel();r.comboId&&t.updateComboTree(e)}))},onDropNode:function(n){if(!(!this.targets||this.targets.length===0)){var t=this,e=n.item;this.updatePositions(n);var r=t.graph,a=e.getModel().comboId;if(a)if(this.onlyChangeComboSize)r.updateCombos();else{var l=r.findById(a);t.comboActiveState&&r.setItemState(l,t.comboActiveState,!1),this.targets.map(function(f){var v=f.getModel();a!==v.comboId&&r.updateComboTree(f,a)}),r.updateCombo(l)}else this.targets.map(function(f){var v=f.getModel();v.comboId&&r.updateComboTree(f)});r.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(n){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&(this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge"),updateFunc:this.update}):this.targets.map(function(e){return t.update(e,n)}))},update:function(n,t){var e=this.origin,r=n.get("model"),a=n.get("id");this.point[a]||(this.point[a]={x:r.x||0,y:r.y||0});var l=t.x-e.x+this.point[a].x,f=t.y-e.y+this.point[a].y,v={x:l,y:f};this.get("updateEdge")?this.graph.updateItem(n,v,!1):n.updatePosition(v)},debounceUpdate:Object(p.g)(function(u){var n=u.targets,t=u.graph,e=u.point,r=u.origin,a=u.evt,l=u.updateEdge,f=u.updateFunc;n.map(function(v){var m=v.get("model"),T=v.get("id");e[T]||(e[T]={x:m.x||0,y:m.y||0});var w=a.x-r.x+e[T].x,X=a.y-r.y+e[T].y,Z={x:w,y:X};l?t.updateItem(v,Z,!1):v.updatePosition(Z)})},50,!0),updateDelegate:function(n){var t=this.graph;if(this.delegateRect){var X=n.x-this.origin.x+this.originPoint.minX,Z=n.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:X,y:Z})}else{var e=t.get("group"),r=Object(p.h)({},Hn.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(n),l=a.x,f=a.y,v=a.width,m=a.height,T=a.minX,w=a.minY;this.originPoint={x:l,y:f,width:v,height:m,minX:T,minY:w},this.delegateRect=e.addShape("rect",{attrs:Object(ve.a)({width:v,height:m,x:l,y:f},r),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(n){var t=this.targets;t.length===0&&t.push(n.item);for(var e=Infinity,r=-Infinity,a=Infinity,l=-Infinity,f=0;f<t.length;f++){var v=t[f],m=v.getBBox(),T=m.minX,w=m.minY,X=m.maxX,Z=m.maxY;T<e&&(e=T),w<a&&(a=w),X>r&&(r=X),Z>l&&(l=Z)}var J=Math.floor(e),ht=Math.floor(a),mt=Math.ceil(r)-Math.floor(e),At=Math.ceil(l)-Math.floor(a);return{x:J,y:ht,width:mt,height:At,minX:e,minY:a}}},AC={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(n){var t=this,e=n.originalEvent.touches,r=e[0],a=e[1];r&&a||(n.preventDefault(),t.setAllItemStates(n))},clearOnTouchStart:function(n){var t=this,e=n.originalEvent.touches,r=e[0],a=e[1];r&&a||(n.preventDefault(),t.clearActiveState(n))},setAllItemStates:function(n){var t=n.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(n.item,{event:n,action:"activate"})){for(var r=this,a=this.activeState,l=this.inactiveState,f=e.getNodes(),v=e.getCombos(),m=e.getEdges(),T=e.get("vedges"),w=f.length,X=v.length,Z=m.length,J=T.length,ht=0;ht<w;ht++){var mt=f[ht],At=mt.hasState("selected");r.resetSelected&&At&&e.setItemState(mt,"selected",!1),e.setItemState(mt,a,!1),l&&e.setItemState(mt,l,!0)}for(var ht=0;ht<X;ht++){var St=v[ht],At=St.hasState("selected");r.resetSelected&&At&&e.setItemState(St,"selected",!1),e.setItemState(St,a,!1),l&&e.setItemState(St,l,!0)}for(var ht=0;ht<Z;ht++){var Bt=m[ht];e.setItemState(Bt,a,!1),l&&e.setItemState(Bt,l,!0)}for(var ht=0;ht<J;ht++){var kt=T[ht];e.setItemState(kt,a,!1),l&&e.setItemState(kt,l,!0)}l&&e.setItemState(t,l,!1),e.setItemState(t,a,!0);for(var Yt=t.getEdges(),qt=Yt.length,ht=0;ht<qt;ht++){var Bt=Yt[ht],ee=void 0;Bt.getSource()===t?ee=Bt.getTarget():ee=Bt.getSource(),l&&e.setItemState(ee,l,!1),e.setItemState(ee,a,!0),e.setItemState(Bt,l,!1),e.setItemState(Bt,a,!0),Bt.toFront()}e.emit("afteractivaterelations",{item:n.item,action:"activate"})}},clearActiveState:function(n){var t=this,e=t.get("graph");if(!!t.shouldUpdate(n.item,{event:n,action:"deactivate"})){var r=this.activeState,a=this.inactiveState,l=e.get("autoPaint");e.setAutoPaint(!1);for(var f=e.getNodes()||[],v=e.getCombos()||[],m=e.getEdges()||[],T=e.get("vedges")||[],w=f.length,X=v.length,Z=m.length,J=T.length,ht=0;ht<w;ht++){var mt=f[ht];e.clearItemStates(mt,[r,a])}for(var ht=0;ht<X;ht++){var At=v[ht];e.clearItemStates(At,[r,a])}for(var ht=0;ht<Z;ht++){var St=m[ht];e.clearItemStates(St,[r,a,"deactivate"])}for(var ht=0;ht<J;ht++){var Bt=T[ht];e.clearItemStates(Bt,[r,a,"deactivate"])}e.paint(),e.setAutoPaint(l),e.emit("afteractivaterelations",{item:n.item||t.get("item"),action:"deactivate"})}}},cg=Math.min,w0=Math.max,B0=Math.abs,N0="shift",IC=["drag","shift","ctrl","alt","control"],DC={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:N0,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return IC.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=N0,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(n){var t=n.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:n.canvasX,y:n.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(n)},onMouseUp:function(n){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(n),this.dragging=!1)},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),a=t.findAllByState("edge",e);r.forEach(function(l){return t.setItemState(l,e,!1)}),a.forEach(function(l){return t.setItemState(l,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(n){var t=this,e=this,r=e.graph,a=e.originPoint,l=e.shouldUpdate,f=this.selectedState,v={x:n.x,y:n.y},m=r.getPointByCanvas(a.x,a.y),T=cg(v.x,m.x),w=w0(v.x,m.x),X=cg(v.y,m.y),Z=w0(v.y,m.y),J=[],ht=[];r.getNodes().forEach(function(At){if(!!At.isVisible()){var St=At.getBBox();if(St.centerX>=T&&St.centerX<=w&&St.centerY>=X&&St.centerY<=Z&&l(At,"select")){J.push(At);var Bt=At.getModel();ht.push(Bt.id),r.setItemState(At,f,!0)}}});var mt=[];this.includeEdges&&J.forEach(function(At){var St=At.getOutEdges();St.forEach(function(Bt){if(!!Bt.isVisible()){var kt=Bt.getModel(),Yt=kt.source,qt=kt.target;ht.includes(Yt)&&ht.includes(qt)&&l(Bt,"select")&&(mt.push(Bt),r.setItemState(Bt,t.selectedState,!0))}})}),this.selectedEdges=mt,this.selectedNodes=J,this.onSelect&&this.onSelect(J,mt),r.emit("nodeselectchange",{selectedItems:{nodes:J,edges:mt},select:!0})},createBrush:function(){var n=this,t=n.graph.get("canvas").addShape("rect",{attrs:n.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(n){var t=this.originPoint;this.brush.attr({width:B0(n.canvasX-t.x),height:B0(n.canvasY-t.y),x:cg(n.canvasX,t.x),y:cg(n.canvasY,t.y)})},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},F0="shift",PC=["shift","ctrl","alt","control"],LC={getDefaultCfg:function(){return{multiple:!0,trigger:F0,selectedState:"selected"}},getEvents:function(){var n=this;return PC.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=F0,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),n.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(n){var t=this,e=n.item;if(!(!e||e.destroyed)){var r=e.getType(),a=t.graph,l=t.keydown,f=t.multiple,v=t.shouldUpdate,m=t.shouldBegin;if(!!m.call(t,n)){if(!l||!f){var T=a.findAllByState(r,t.selectedState);Object(p.j)(T,function(Z){Z!==e&&a.setItemState(Z,t.selectedState,!1)})}if(e.hasState(t.selectedState)){v.call(t,n)&&a.setItemState(e,t.selectedState,!1);var w=a.findAllByState("node",t.selectedState),X=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:e,selectedItems:{nodes:w,combos:X},select:!1})}else{v.call(t,n)&&a.setItemState(e,t.selectedState,!0);var w=a.findAllByState("node",t.selectedState),X=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:e,selectedItems:{nodes:w,combos:X},select:!0})}}}},onCanvasClick:function(){var n=this,t=this.graph,e=t.findAllByState("node",this.selectedState);Object(p.j)(e,function(a){t.setItemState(a,n.selectedState,!1)});var r=t.findAllByState("combo",this.selectedState);Object(p.j)(r,function(a){t.setItemState(a,n.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===this.trigger.toLowerCase()||e.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.keydown=!1}},jC=S.transform,G0=.05,RC={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var n=this.fixSelectedItems;return n.fixState||(n.fixState="selected"),n.fixAll&&(n.fixLineWidth=!0,n.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(n){var t=n.originalEvent.touches,e=t[0],r=t[1];n.preventDefault(),!!r&&(this.shouldBegin&&!this.shouldBegin.call(this,n)||(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(n){if(!!this.moveable){n.preventDefault();var t=n.originalEvent.touches,e=t[0],r=t[1];if(!!r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var a=function(Z,J){return Math.hypot(J.x-Z.x,J.y-Z.y)},l=a({x:e.pageX,y:e.pageY},{x:r.pageX,y:r.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),f=this.originScale*l;this.currentScale=f;var v=this.get("minZoom")||this.graph.get("minZoom"),m=this.get("maxZoom")||this.graph.get("maxZoom");if(!(f>m||f<v)){var T=this.graph.get("canvas"),w=T.getPointByClient(n.clientX,n.clientY);this.graph.zoomTo(f,{x:w.x,y:w.y}),this.graph.emit("wheelzoom",n)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(n){var t=this,e=this,r=e.graph,a=e.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin.call(this,n))&&!!this.shouldUpdate.call(this,n)){n.preventDefault();var l=r.get("canvas"),f=l.getPointByClient(n.clientX,n.clientY),v=this.get("sensitivity"),m=r.getZoom(),T=m,w=m;n.wheelDelta<0?T=1-G0*v:T=1/(1-G0*v),w=m*T;var X=this.get("minZoom")||r.get("minZoom"),Z=this.get("maxZoom")||r.get("maxZoom");if(!(w>Z||w<X)){var J=this.get("enableOptimize");if(J){var ht=this.get("optimizeZoom"),mt=this.get("optimized"),At=r.getNodes(),St=r.getEdges(),Bt=At.length,kt=St.length;if(!mt){for(var Yt=0;Yt<Bt;Yt++){var qt=At[Yt];if(!qt.destroyed)for(var ee=qt.get("group").get("children"),re=ee.length,fe=0;fe<re;fe++){var le=ee[fe];!le.destoryed&&!le.get("isKeyShape")&&(le.set("ori-visibility",le.get("ori-visibility")||le.get("visible")),le.hide())}}for(var Oe=0;Oe<kt;Oe++)for(var Te=St[Oe],ee=Te.get("group").get("children"),re=ee.length,fe=0;fe<re;fe++){var le=ee[fe];le.set("ori-visibility",le.get("ori-visibility")||le.get("visible")),le.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var sr=setTimeout(function(){var ci=r.getZoom(),ka=t.get("optimized");if(ka){t.set("optimized",!1);for(var Ci=0;Ci<Bt;Ci++){var Ma=At[Ci],Mi=Ma.get("group").get("children"),ii=Mi.length;if(ci<ht){var Io=Ma.getKeyShape(),ei=Io.get("ori-visibility");ei&&Io.show()}else for(var Ta=0;Ta<ii;Ta++){var bi=Mi[Ta],ei=bi.get("ori-visibility");!bi.get("visible")&&ei&&ei&&bi.show()}}for(var jn=0;jn<kt;jn++){var vi=St[jn],Mi=vi.get("group").get("children"),ii=Mi.length;if(ci<ht){var Io=vi.getKeyShape(),ei=Io.get("ori-visibility");ei&&Io.show()}else for(var Ta=0;Ta<ii;Ta++){var bi=Mi[Ta];if(!bi.get("visible")){var ei=bi.get("ori-visibility");ei&&bi.show()}}}}},100);this.set("timeout",sr)}if(m<=1){var fr=void 0,vr=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){fr=r.findAllByState("node",a.fixState),vr=r.findAllByState("edge",a.fixState);for(var Qr=m/w,Zr=fr.length,Rr=0;Rr<Zr;Rr++){var qt=fr[Rr],Dr=qt.getContainer(),Ur=qt.getModel(),Lr=qt.getOriginStyle(),kr=qt.getStateStyle(a.fixState),On=qt.get("shapeFactory").getShape(Ur.type).getStateStyle(a.fixState,qt)[a.fixState];if(a.fixAll){if(w<=1){var Wr=Object(p.e)(Dr.getMatrix());Wr||(Wr=[1,0,0,0,1,0,0,0,1]);var Xr=qt.getModel(),Nn=Xr.x,Fn=Xr.y;Wr=jC(Wr,[["t",-Nn,-Fn],["s",Qr,Qr],["t",Nn,Fn]]),Dr.setMatrix(Wr)}}else for(var ee=Dr.get("children"),re=ee.length,fe=0;fe<re;fe++){var le=ee[fe],Vn=void 0,Or=void 0;if(a.fixLabel){var Ca=le.get("type");if(Ca==="text"){Vn=le.attr("fontSize")||12;var Rn=kr[le.get("name")],En=On[le.get("name")],Da=Rn?Rn.fontSize:12,ui=En?En.fontSize:12,ri=Da||ui||12;if(w<=1&&le.attr("fontSize",ri/w),Or)break}}if(a.fixLineWidth&&le.get("isKeyShape")){Or=le.attr("lineWidth")||0;var ho=kr.lineWidth||On.lineWidth||Lr.lineWidth||0;if(w<=1&&le.attr("lineWidth",ho/w),Vn)break}}}for(var Ya=vr.length,mi=0;mi<Ya;mi++)for(var Te=vr[mi],Dr=Te.getContainer(),ee=Dr.get("children"),Ur=Te.getModel(),kr=Te.getStateStyle(a.fixState),On=Te.get("shapeFactory").getShape(Ur.type).getStateStyle(a.fixState,Te)[a.fixState],re=ee.length,fe=0;fe<re;fe++){var le=ee[fe],Vn=void 0,Or=void 0;if(a.fixLabel||a.fixAll){var Ca=le.get("type");if(Ca==="text"){Vn=le.attr("fontSize")||12;var Rn=kr[le.get("name")],En=On[le.get("name")],Da=Rn?Rn.fontSize:12,ui=En?En.fontSize:12,ri=Da||ui||12;if(w<=1&&le.attr("fontSize",ri/w),Or)break}}if((a.fixLineWidth||a.fixAll)&&le.get("isKeyShape")){Or=le.attr("lineWidth")||0;var ho=kr.lineWidth||On.lineWidth||1;if(w<=1&&le.attr("lineWidth",ho/w),Vn)break}}}}r.zoomTo(w,{x:f.x,y:f.y}),r.emit("wheelzoom",n)}}}},U0={onMouseEnter:function(n){var t=n.item;this.currentTarget=t,this.showTooltip(n),this.graph.emit("tooltipchange",{item:n.item,action:"show"})},onMouseMove:function(n){if(!this.shouldUpdate(n)){this.hideTooltip();return}!this.currentTarget||n.item!==this.currentTarget||this.updatePosition(n)},onMouseLeave:function(n){!this.shouldEnd(n)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(n){var t=this.container;if(!(!n.item||n.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(n.item.get("model"),n);t.innerHTML=e,Object(_n.e)(this.container,{visibility:"visible"}),this.updatePosition(n)}},hideTooltip:function(){Object(_n.e)(this.container,{visibility:"hidden"})},updatePosition:function(n){var t=this.get("shouldBegin"),e=this,r=e.width,a=e.height,l=e.container,f=e.graph;if(!t(n)){Object(_n.e)(l,{visibility:"hidden"});return}var v=f.getPointByClient(n.clientX,n.clientY),m=f.getCanvasByPoint(v.x,v.y),T=m.x,w=m.y,X=l.getBoundingClientRect();T>r/2?T-=X.width:T+=this.offset,w>a/2?w-=X.height:w+=this.offset;var Z=T+"px",J=w+"px";Object(_n.e)(this.container,{left:Z,top:J,visibility:"visible"})},createTooltip:function(n){var t=n.get("el");t.style.position="relative";var e=Object(_n.b)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),Object(_n.e)(e,{position:"absolute",visibility:"visible"}),this.width=n.get("width"),this.height=n.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},wC=Object(ve.a)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},U0),BC=Object(ve.a)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},U0),W0="click",NC=["click","dblclick"],FC={getDefaultCfg:function(){return{trigger:W0,onChange:function(){}}},getEvents:function(){var n,t;return NC.includes(this.trigger)?t=this.trigger:(t=W0,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["node:"+t]="onNodeClick",n.touchstart="onNodeClick",n},onNodeClick:function(n){var t=n.item;if(!!t){var e=this.graph.findDataById(t.get("id"));if(!!e){var r=e.children;if(!(!r||r.length===0)){var a=!e.collapsed;!this.shouldBegin(n,a)||(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:n.item,collapsed:a}),!!this.shouldUpdate(n,a)&&(this.onChange(t,a),this.graph.layout()))}}}}},GC=fc.calculationItemsBBox,UC=function u(n,t){if(t(n)!==!1&&n){var e=n.get("combos");if(e.length===0)return!1;Object(p.j)(e,function(r){u(r,t)})}},WC={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(n){var t=n.item;if(!t||t.destroyed||!this.shouldUpdate(this,n))return!1;var e=t.getType();return e==="combo"},onDragStart:function(n){var t=this,e=this.graph,r=n.item;if(!!this.validationCombo(n)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),l=r.get("id"),f=a.filter(function(v){var m=v.get("id");return l===m});f.length===0?this.targets.push(r):this.targets=a,this.activeState&&this.targets.map(function(v){var m=v.getModel();if(m.parentId){var T=e.findById(m.parentId);T&&e.setItemState(T,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:n.x,y:n.y},this.currentItemChildCombos=[],UC(r,function(v){if(v.destroyed)return!1;var m=v.getModel();return t.currentItemChildCombos.push(m.id),!0})}},onDrag:function(n){var t=this;if(!!this.origin&&!!this.validationCombo(n))if(this.enableDelegate)this.updateDelegate(n);else{if(this.activeState){var e=this.graph,r=n.item,a=r.getModel(),l=e.getCombos(),f=r.getBBox(),v=f.centerX,m=f.centerY,T=f.width,w=l.filter(function(X){var Z=X.getModel();return a.parentId,Z.id!==a.id&&!t.currentItemChildCombos.includes(Z.id)});w.map(function(X){var Z=X.getBBox(),J=Z.centerX,ht=Z.centerY,mt=Z.width,At=v-J,St=m-ht,Bt=2*Math.sqrt(At*At+St*St);T+mt-Bt>.8*T?e.setItemState(X,t.activeState,!0):e.setItemState(X,t.activeState,!1)})}Object(p.j)(this.targets,function(X){t.updateCombo(X,n)})}},updatePositions:function(n){var t=this;this.enableDelegate&&Object(p.j)(this.targets,function(e){t.updateCombo(e,n)})},onDrop:function(n){var t=this,e=n.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(n);var r=this.graph,a=e.getModel();this.targets.map(function(l){var f=l.getModel();f.parentId!==a.id?(t.activeState&&r.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(l):r.updateComboTree(l,a.id)):r.updateCombo(e)}),this.end(e,n),this.endComparison=!0}},onNodeDrop:function(n){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(n);var e=this.graph,r=n.item,a=r.getModel().comboId,l;if(a){if(this.activeState){var f=e.findById(a);e.setItemState(f,this.activeState,!1)}this.targets.map(function(v){t.onlyChangeComboSize?e.updateCombo(v):a!==v.getID()&&(l=e.findById(a),a!==v.getModel().parentId&&e.updateComboTree(v,a))})}else this.targets.map(function(v){if(t.onlyChangeComboSize)e.updateCombo(v);else{var m=v.getModel();m.comboId&&e.updateComboTree(v)}});this.endComparison=!0,this.end(l,n)}},onDragEnter:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(n){if(!(!this.targets||this.targets.length===0)){var t=n.item;this.updatePositions(n);var e=this.getParentCombo(t.getModel().parentId),r=this.graph;e&&this.activeState&&r.setItemState(e,this.activeState,!1),this.end(void 0,n)}},end:function(n,t){var e=this;if(!!this.origin){var r=this.graph;if(this.delegateShape){var a=r.get("delegateGroup");a.clear(),this.delegateShape=null}n&&this.activeState&&r.setItemState(n,this.activeState,!1),n||this.targets.map(function(l){e.onlyChangeComboSize?r.updateCombo(l):r.updateComboTree(l)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(n,t){var e=this;if(t(n)!==!1&&n){var r=n.get("combos");Object(p.j)(r,function(l){e.traverse(l,t)});var a=n.get("nodes");Object(p.j)(a,function(l){e.traverse(l,t)})}},updateCombo:function(n,t){var e=this;this.traverse(n,function(r){return r.destroyed?!1:(e.updateSignleItem(r,t),!0)})},updateSignleItem:function(n,t){var e=this.origin,r=this.graph,a=n.getModel(),l=n.get("id");this.point[l]||(this.point[l]={x:a.x,y:a.y});var f=t.x-e.x+this.point[l].x,v=t.y-e.y+this.point[l].y;r.updateItem(n,{x:f,y:v})},getParentCombo:function(n){var t=this.graph;if(!!n){var e=t.findById(n);if(!!e)return e}},updateDelegate:function(n){var t=this.graph;if(this.delegateShape){var X=n.x-this.origin.x+this.originPoint.minX,Z=n.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:X,y:Z})}else{var e=t.get("delegateGroup"),r=null;this.targets.length>1?r=GC(this.targets):r=this.targets[0].getBBox();var a=r.x,l=r.y,f=r.width,v=r.height,m=r.minX,T=r.minY;this.originPoint={x:a,y:l,width:f,height:v,minX:m,minY:T};var w=Object(ve.a)(Object(ve.a)({},Hn.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:Object(ve.a)({width:r.width,height:r.height,x:r.x,y:r.y},w),name:"combo-delegate-shape"}),this.delegate=this.delegateShape}}},z0="dblclick",zC=["click","dblclick"],kC={getDefaultCfg:function(){return{trigger:z0,relayout:!0}},getEvents:function(){var n,t;return zC.includes(this.trigger)?t=this.trigger:(t=z0,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["combo:"+t]="onComboClick",n},onComboClick:function(n){var t=n.item,e=this,r=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var l=t.getModel(),f=l.id;!f||(r.collapseExpandCombo(f),a&&r.get("layout")?r.layout():r.refreshPositions())}}},VC=fc.isPolygonsIntersect,XC=fc.pathToPoints,k0="shift",HC=["drag","shift","ctrl","alt","control"],KC=function(n,t){var e,r=n.getKeyShape();if(n.get("type")==="path")e=XC(r.attr("path"));else{var a=r.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return VC(t,e)},YC={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:k0,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return HC.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=k0,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(n){var t=this.lasso,e=n.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:n.x,y:n.y},this.points.push(this.originPoint),t.show())},onDragMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:n.x,y:n.y}),this.updateLasso(n))},onDragEnd:function(n){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var n=this.points,t=[];return n.length&&(n.forEach(function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",n[0].x,n[0].y])),t},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),a=t.findAllByState("edge",e);r.forEach(function(l){return t.setItemState(l,e,!1)}),a.forEach(function(l){return t.setItemState(l,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var n=this,t=this,e=t.graph,r=t.shouldUpdate,a=this.points.map(function(T){return[e.getCanvasByPoint(T.x,T.y).x,e.getCanvasByPoint(T.x,T.y).y]}),l=this.selectedState,f=[],v=[];e.getNodes().forEach(function(T){if(!!T.isVisible()&&KC(T,a)&&r(T,"select")){f.push(T);var w=T.getModel();v.push(w.id),e.setItemState(T,l,!0)}});var m=[];this.includeEdges&&f.forEach(function(T){var w=T.getOutEdges();w.forEach(function(X){if(!!X.isVisible()){var Z=X.getModel(),J=Z.source,ht=Z.target;v.includes(J)&&v.includes(ht)&&r(X,"select")&&(m.push(X),e.setItemState(X,n.selectedState,!0))}})}),this.selectedEdges=m,this.selectedNodes=f,this.onSelect&&this.onSelect(f,m),e.emit("nodeselectchange",{selectedItems:{nodes:f,edges:m},select:!0})},createLasso:function(){var n=this,t=n.graph.get("delegateGroup").addShape("path",{attrs:Object(ve.a)({path:[]},n.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(n){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(n){var t=n.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},V0="click",ZC=["click","drag"],X0=void 0,$C=["shift","ctrl","control","alt","meta",void 0],QC={getDefaultCfg:function(){return{trigger:V0,key:X0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var n=this;ZC.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=V0,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),n.key&&$C.indexOf(n.key.toLowerCase())===-1&&(n.trigger=X0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return n.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:n.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),n.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:n.x,y:n.y})}},onClick:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item,r=t.graph,a=e.getModel(),l=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,n))return;var f=void 0;l&&Object(p.H)(l)?f=l({source:t.source,target:a.id}):f=t.edgeConfig;var v=Object(ve.a)({target:a.id},f);if(t.source===a.id&&(v.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,v,!1),r.get("enabledStack")){var m=Object(ve.a)(Object(ve.a)({},t.edge.getModel()),{itemType:"edge"}),T={};T.edges=[m],r.pushStack("add",{before:{},after:T})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,n))return;var f=void 0;l&&Object(p.H)(l)?f=l({source:a.id,target:a.id}):f=t.edgeConfig,t.edge=r.addItem("edge",Object(ve.a)({source:a.id,target:a.id},f),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(n){var t=this;if(!(t.key&&!t.keydown)){var e={x:n.x,y:n.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,r=n.item;if(t.addingEdge&&n.target&&n.target.isCanvas&&n.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}t.addingEdge&&t.edge===r&&(e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1)}},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.addingEdge&&n.edge&&(n.graph.removeItem(n.edge,!1),n.addingEdge=!1,n.edge=null),this.keydown=!1}},H0="ctrl",JC=["shift","ctrl","alt","control"],_C="1",qC={getDefaultCfg:function(){return{trigger:H0,combinedKey:_C,functionName:"fitView",functionParams:[]}},getEvents:function(){return JC.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=H0,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var l=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===l||r==="control"&&l==="ctrl"||r==="ctrl"&&l==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},tM=["shift","ctrl","alt","control"],eM={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return(!this.zoomKey||tM.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(n){var t=this,e=this.graph,r=n[this.zoomKey+"Key"];if(this.zoomKey==="control"&&(r=n.ctrlKey),r){var a=e.get("canvas"),l=a.getPointByClient(n.clientX,n.clientY),f=e.getZoom();n.wheelDelta>0?f=f+f*.05:f=f-f*.05,e.zoomTo(f,{x:l.x,y:l.y})}else{var v=n.deltaX||n.movementX,m=n.deltaY||n.movementY;!m&&navigator.userAgent.indexOf("Firefox")>-1&&(m=-n.wheelDelta*125/3);var T=this.graph.get("width"),w=this.graph.get("height"),X=this.graph.get("canvas").getCanvasBBox(),Z=this.scalableRange,J=this.scalableRange;Z<1&&Z>-1&&(Z=T*Z,J=w*J),(X.minX<=T+Z&&X.minX+v>T+Z||X.maxX+Z>=0&&X.maxX+Z+v<0)&&(v=0),(X.minY<=w+J&&X.minY+m>w+J||X.maxY+J>=0&&X.maxY+J+m<0)&&(m=0),this.get("direction")==="x"?m=0:this.get("direction")==="y"&&(v=0),e.translate(-v,-m)}n.preventDefault();var ht=this.get("enableOptimize");if(ht){var mt=this.get("optimizeZoom"),At=this.get("optimized"),St=e.getNodes(),Bt=e.getEdges(),kt=St.length,Yt=Bt.length;if(!At){for(var qt=0;qt<kt;qt++){var ee=St[qt];if(!ee.destroyed)for(var re=ee.get("group").get("children"),fe=re.length,le=0;le<fe;le++){var Oe=re[le];!Oe.destoryed&&!Oe.get("isKeyShape")&&(Oe.set("ori-visibility",Oe.get("ori-visibility")||Oe.get("visible")),Oe.hide())}}for(var Te=0;Te<Yt;Te++)for(var sr=Bt[Te],re=sr.get("group").get("children"),fe=re.length,le=0;le<fe;le++){var Oe=re[le];Oe.set("ori-visibility",Oe.get("ori-visibility")||Oe.get("visible")),Oe.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var fr=setTimeout(function(){var vr=e.getZoom(),Qr=t.get("optimized");if(Qr){t.set("optimized",!1);for(var Zr=0;Zr<kt;Zr++){var Rr=St[Zr],Dr=Rr.get("group").get("children"),Ur=Dr.length;if(vr<mt){var Lr=Rr.getKeyShape(),kr=Lr.get("ori-visibility");kr&&Lr.show()}else for(var On=0;On<Ur;On++){var Wr=Dr[On],kr=Wr.get("ori-visibility");!Wr.get("visible")&&kr&&kr&&Wr.show()}}for(var Xr=0;Xr<Yt;Xr++){var Nn=Bt[Xr],Dr=Nn.get("group").get("children"),Ur=Dr.length;if(vr<mt){var Lr=Nn.getKeyShape(),kr=Lr.get("ori-visibility");kr&&Lr.show()}else for(var On=0;On<Ur;On++){var Wr=Dr[On];if(!Wr.get("visible")){var kr=Wr.get("ori-visibility");kr&&Wr.show()}}}}},100);this.set("timeout",fr)}}},rM={"drag-canvas":MC,"zoom-canvas":RC,"drag-node":TC,"activate-relations":AC,"brush-select":DC,"click-select":LC,"lasso-select":YC,tooltip:wC,"edge-tooltip":BC,"collapse-expand":FC,"drag-combo":WC,"collapse-expand-combo":kC,"create-edge":QC,"shortcuts-call":qC,"scroll-canvas":eM};Object(p.j)(rM,function(u,n){rf(n,u)});var ZM=No.Grid,$M=No.Minimap,QM=No.Bundling,JM=No.Menu,nM=No.Fisheye,_M=No.ToolBar,qM=No.Tooltip,aM=No.TimeBar,iM=No.ImageMinimap,oM=No.EdgeFilterLens,sM=No.SnapLine,tT=No.Legend,K0={version:Hn.version,Graph:s0,TreeGraph:gE,Util:fc,Layout:zg,TreeLayout:q1,registerLayout:tE,Global:Hn,registerBehavior:rf,registerCombo:Kh,registerEdge:_s,registerNode:Co,Minimap:No.Minimap,Grid:No.Grid,Bundling:No.Bundling,Menu:No.Menu,ToolBar:No.ToolBar,Tooltip:No.Tooltip,Legend:No.Legend,TimeBar:aM,SnapLine:sM,Fisheye:nM,ImageMinimap:iM,EdgeFilterLens:oM,Algorithm:o,Arrow:Xh,Marker:Hh,Shape:Cl};K0.version="4.3.0";var as=K0,eT="4.3.0",is=function(){return is=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},is.apply(this,arguments)};as.registerNode("card-node",{draw:function(n,t){var e=n&&n.color?n.color:"#5B8FF9",r=n&&n.size?n.size:[100,30];typeof r=="number"&&(r=[r,r]);var a=n&&n.style?n.style:{};a=is({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var l=a.radius||0,f=t.addShape("rect",{attrs:is({x:0,y:0,width:r[0],height:r[1],stroke:e},a),name:"main-box",draggable:!0}),v=(n==null?void 0:n.title)||(n==null?void 0:n.label),m,T=n&&n.labelCfg&&n.labelCfg.style?n.labelCfg.style:{};if(v){var w=is({fill:"#fff"},T);m=t.addShape("text",{attrs:is(is({textBaseline:"top",x:8,y:2,text:v},w),{fill:"#fff"}),name:"title"})}var X=m?m.getBBox():{height:r[1]/2},Z=t.addShape("rect",{attrs:{x:0,y:0,width:r[0],height:X.height+4,fill:e,radius:[l,l,0,0]},name:"title-rect",draggable:!0});m==null||m.toFront();var J;(n==null?void 0:n.children)&&(J=t.addShape("marker",{attrs:{x:r[0]/2,y:0,r:6,cursor:"pointer",symbol:n.collapsed?as.Marker.expand:as.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var ht=n&&n.description?n.description:void 0,mt=Z.getBBox(),At;if(ht&&(At=t.addShape("text",{attrs:is({textBaseline:"top",x:8,y:mt.height+8,text:ht},T),name:"description"})),At){var St=At.getBBox(),Bt=mt.height+16+St.height,kt=r[0]>St.width+16?r[0]:St.width+16;f.attr({width:kt,height:Bt}),Z==null||Z.attr("width",kt),J==null||J.attr({x:kt,y:Bt/2})}return f},update:void 0},"single-node"),as.registerNode("round-rect",{drawShape:function(n,t){var e=n&&n.color?n.color:"#5B8FF9",r=n&&n.size?n.size:[100,30];typeof r=="number"&&(r=[r,r]);var a=n&&n.style?n.style:{};a.stroke&&(e=a.stroke);var l=a&&a.fill?a.fill:"#fff";a=is({width:r[0],height:r[1],radius:r[1]/2,fill:l,lineWidth:1.2,stroke:e},a);var f=t.addShape("rect",{attrs:is({x:-r[0]/2,y:-r[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-r[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:r[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),f},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(n,t){var e=t.getContainer(),r=e.get("children"),a=r[0],l=r[1],f=r[2],v=n.style&&n.style.stroke?n.style.stroke:"#5B8FF9";v&&(a.attr("stroke",v),l.attr("fill",v),f.attr("fill",v))}},"single-node");var lM=function(n){as.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,r){var a=this.getShapeStyle(e),l=(e||{}).labelCfg,f=l===void 0?{}:l,v=r.addShape("rect",{attrs:is(is({},a),{x:0,y:0})}),m={fill:"#e6fffb"},T="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return(e==null?void 0:e.leftIcon)&&(m=is(is({},m),e.leftIcon.style),T=e.leftIcon.img),r.addShape("rect",{attrs:is({x:1,y:1,width:38,height:a.height-2},m)}),r.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:T},name:"image-shape"}),n.enableEdit&&(r.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:as.Marker.expand},name:"add-item"}),r.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:as.Marker.collapse},name:"remove-item"})),(e==null?void 0:e.label)&&r.addShape("text",{attrs:is(is({},f.style),{text:e.label,x:a.width/2,y:a.height/1.5})}),v}},"rect")};as.registerEdge("fund-polyline",{draw:function(n,t){var e=n==null?void 0:n.startPoint,r=n==null?void 0:n.endPoint,a=r.y-e.y,l=a!==0?Math.min(500/Math.abs(a),20):0,f=l>15?0:16,v=a<0?f:-f,m={x:e.x+l,y:r.y+v},T={x:m.x+f,y:r.y},w={x:(m.x-e.x)*(r.y-e.y)/(m.y-e.y)+e.x,y:r.y},X=[["M",e.x,e.y],["L",m.x,m.y],["Q",w.x,w.y,T.x,T.y],["L",r.x,r.y]];Math.abs(a)<=5&&(X=[["M",e.x,e.y],["L",r.x,r.y]]);var Z=(n||{}).style,J=Z.stroke||(n==null?void 0:n.colorMap)&&n.colorMap[n.dataType]?(n==null?void 0:n.colorMap)[n==null?void 0:n.dataType]:"#5B8FF9",ht=(n==null?void 0:n.style)&&n.style.endArrow?n.style.endArrow:!1;Object(p.M)(ht)&&(ht.fill=J);var mt=t.addShape("path",{attrs:{path:X,stroke:J,lineWidth:Z.lineWidth||1.2,endArrow:ht},name:"path-shape"}),At=0,St=8,Bt,kt=T.x+At;if((n==null?void 0:n.label)&&(Bt=t.addShape("text",{attrs:{text:n.label,x:kt,y:r.y-St-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),n==null?void 0:n.dataType){var Yt=Bt?Bt.getBBox():{height:0};t.addShape("text",{attrs:{text:n.dataType,x:kt,y:r.y-St-Yt.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(n==null?void 0:n.subLabel)&&t.addShape("text",{attrs:{text:n.subLabel,x:kt,y:r.y+St+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),mt},update:void 0},"single-edge"),as.registerEdge("flow-line",{draw:function(n,t){var e=n==null?void 0:n.startPoint,r=n==null?void 0:n.endPoint,a=(n||{}).style,l=a===void 0?{}:a,f=t.addShape("path",{attrs:{stroke:l.stroke,endArrow:l.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+r.y)/2],["L",r.x,(e.y+r.y)/2],["L",r.x,r.y]]}});return f}});var np=function(){return np=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},np.apply(this,arguments)},uM={show:!1,size:[150,100],type:"keyShape"},bv=function(n,t,e){var r,a;return e&&e.current&&(r=e.current.offsetWidth,a=e.current.offsetHeight||500),!n&&!r||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[n||r||500,t||a||500]},Ov=function(n,t){if(!(!t||t.destroyed)){if(n&&n.show){var e=Object.assign(uM,n),r=new as.Minimap(np({},e));return t.addPlugin(r),r}return null}};function fg(u,n,t){var e=Object(A.useRef)(),r=n.data,a=n.nodeStyle,l=n.nodeAnchorPoints,f=n.nodeType,v=n.edgeType,m=n.edgeStyle,T=n.width,w=n.height,X=n.layout,Z=n.minimapCfg,J=n.behaviors,ht=n.nodeLabelCfg,mt=n.edgeLabelCfg,At;return Object(A.useEffect)(function(){u&&!u.destroyed&&u.changeData(r)},[r]),Object(A.useEffect)(function(){u&&!u.destroyed&&u.getNodes().forEach(function(St){u.updateItem(St,{type:f,style:a,anchorPoints:l,labelCfg:ht})})},[a,l,f]),Object(A.useEffect)(function(){u&&!u.destroyed&&u.getEdges().forEach(function(St){u.updateItem(St,{type:v,style:m,labelCfg:mt})})},[m,v]),Object(A.useEffect)(function(){if(u&&!u.destroyed){var St=bv(T,w,t);u.changeSize(St[0],St[1])}},[t,T,w]),Object(A.useEffect)(function(){u&&!u.destroyed&&u.updateLayout(X)},[X]),Object(A.useEffect)(function(){if(!(!Z||!u||u.destroyed))if(Z.show)At=Ov(Z,u),At==null||At.updateCanvas();else{var St=u.get("plugins")[0];St&&u.removePlugin(St)}},[Z]),Object(A.useEffect)(function(){if(u&&!u.destroyed){var St=u.get("modes").default,Bt=[];St.forEach(function(kt){Object(p.M)(kt)?Bt.push(kt.type):Object(p.O)(kt)&&Bt.push(kt)}),u.removeBehaviors(Bt,"default"),u.addBehaviors(J,"default")}},[J]),Object(A.useEffect)(function(){return e.current=u,function(){u&&!u.destroyed&&(u.destroy(),u=void 0)}},[]),{graphHook:e}}var Y0={hover:{stroke:"#1890ff",lineWidth:2}},cM={fill:"#91d5ff",stroke:"#40a9ff",radius:5},fM={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},hM={type:"compactBox",direction:"TB",getId:function(n){return n.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},Z0={style:{fill:"#000",fontSize:12}},vd={},dM=function(n){var t=n.data,e=n.className,r=n.style,a=n.width,l=n.height,f=n.nodeType,v=f===void 0?"rect":f,m=n.edgeType,T=m===void 0?"flow-line":m,w=n.collapseExpand,X=w===void 0?!1:w,Z=n.nodeSize,J=Z===void 0?[120,40]:Z,ht=n.nodeLabelCfg,mt=ht===void 0?Z0:ht,At=n.edgeLabelCfg,St=At===void 0?Z0:At,Bt=n.layout,kt=Bt===void 0?hM:Bt,Yt=n.enableEdit,qt=Yt===void 0?!1:Yt,ee=n.minimapCfg,re=n.nodeStyle,fe=re===void 0?cM:re,le=n.edgeStyle,Oe=le===void 0?fM:le,Te=n.nodeStateStyles,sr=Te===void 0?Y0:Te,fr=n.edgeStateStyles,vr=fr===void 0?Y0:fr,Qr=n.handleNodeClick,Zr=n.handleEdgeClick,Rr=n.handleNodeHover,Dr=n.handleNodeUnHover,Ur=n.handleEdgeHover,Lr=n.handleEdgeUnHover,kr=n.handleCanvasClick,On=n.graphRef,Wr=n.graphId,Xr=Wr===void 0?"defaultOrganizationTreeGraph":Wr,Nn={data:t,className:e,style:r,width:a,height:l,nodeType:v,edgeType:T,collapseExpand:X,nodeSize:J,nodeLabelCfg:mt,edgeLabelCfg:St,layout:kt,enableEdit:qt,minimapCfg:ee,nodeStyle:fe,edgeStyle:Oe,nodeStateStyles:sr,edgeStateStyles:vr,handleNodeClick:Qr,handleEdgeClick:Zr,handleNodeHover:Rr,handleNodeUnHover:Dr,handleEdgeHover:Ur,handleEdgeUnHover:Lr,handleCanvasClick:kr,graphRef:On,graphId:Xr},Fn=R.a.useRef(null);return fg(vd[Xr],Nn,Fn),Object(A.useEffect)(function(){var Vn=bv(a,l,Fn);v==="icon-node"&&lM({enableEdit:qt});var Or=vd[Xr];Or||(Or=new as.TreeGraph({container:Fn.current,width:Vn[0],height:Vn[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:v,size:J,style:fe,labelCfg:mt},defaultEdge:{type:T,style:Oe,labelCfg:St},nodeStateStyles:sr,edgeStateStyles:vr,layout:kt}),vd[Xr]=Or),On&&(On.current=Or),Ov(ee,Or);var Ca=z(t);return Or.data(Ca),Or.render(),Or.fitView(),X&&Or.addBehaviors({type:"collapse-expand"},"default"),Or.on("node:mouseenter",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!0),Rr&&Rr(En,Or)}),Or.on("node:mouseleave",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!1),Dr&&Dr(En,Or)}),Or.on("node:click",function(Rn){var En=Rn.item,Da=Rn.target,ui=Da.get("type"),ri=Da.get("name");if(ui==="marker"){var ho=En.getModel();if(ri==="add-item"){ho.children||(ho.children=[]);var Ya=Math.random().toString(36).slice(-8);ho.children.push({id:Ya,label:Ya}),Or.updateChild(ho,ho.id)}else ri==="remove-item"&&Or.removeChild(ho.id)}Qr&&Qr(En,Or)}),Or.on("edge:mouseenter",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!0),Ur&&Ur(En,Or)}),Or.on("edge:mouseleave",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!1),Lr&&Lr(En,Or)}),Or.on("edge:click",function(Rn){var En=Rn.item;Zr&&Zr(En,Or)}),Or.on("canvas:click",function(){kr==null||kr(Or)}),function(){vd[Xr]&&(vd[Xr].destroy(),delete vd[Xr])}},[]),R.a.createElement(dt,null,R.a.createElement("div",{className:e,style:r,ref:Fn}))},$0=dM,Q0={hover:{stroke:"#1890ff",lineWidth:2}},vM=[120,40],gM={stroke:"#40a9ff"},pM=[[.5,0],[.5,1]],yM={stroke:"#91d5ff",endArrow:{path:as.Arrow.vee(10,10)}},mM={type:"dagre",rankdir:"TB",nodesepFunc:function(){return 0},ranksepFunc:function(){return 0},controlPoints:!0},J0={style:{fill:"#000",fontSize:12}},gd={},bM=function(n){var t=n.data,e=n.className,r=n.style,a=n.width,l=n.height,f=n.nodeType,v=f===void 0?"modelRect":f,m=n.edgeType,T=m===void 0?"polyline":m,w=n.behaviors,X=w===void 0?["zoom-canvas","drag-canvas"]:w,Z=n.nodeSize,J=Z===void 0?vM:Z,ht=n.nodeLabelCfg,mt=ht===void 0?J0:ht,At=n.edgeLabelCfg,St=At===void 0?J0:At,Bt=n.nodeAnchorPoints,kt=Bt===void 0?pM:Bt,Yt=n.layout,qt=Yt===void 0?mM:Yt,ee=n.minimapCfg,re=n.nodeStyle,fe=re===void 0?gM:re,le=n.edgeStyle,Oe=le===void 0?yM:le,Te=n.nodeStateStyles,sr=Te===void 0?Q0:Te,fr=n.edgeStateStyles,vr=fr===void 0?Q0:fr,Qr=n.handleEdgeClick,Zr=n.handleEdgeHover,Rr=n.handleEdgeUnHover,Dr=n.handleNodeClick,Ur=n.handleNodeHover,Lr=n.handleNodeUnHover,kr=n.handleCanvasClick,On=n.graphRef,Wr=n.graphId,Xr=Wr===void 0?"defaultDagreGraph":Wr,Nn={data:t,className:e,style:r,width:a,height:l,nodeType:v,edgeType:T,behaviors:X,nodeSize:J,nodeLabelCfg:mt,edgeLabelCfg:St,nodeAnchorPoints:kt,layout:qt,minimapCfg:ee,nodeStyle:fe,edgeStyle:Oe,nodeStateStyles:sr,edgeStateStyles:vr,handleEdgeClick:Qr,handleEdgeHover:Zr,handleEdgeUnHover:Rr,handleNodeClick:Dr,handleNodeHover:Ur,handleNodeUnHover:Lr,handleCanvasClick:kr,graphRef:On,graphId:Xr},Fn=R.a.useRef(null);return fg(gd[Xr],Nn,Fn),Object(A.useEffect)(function(){var Vn=bv(a,l,Fn),Or=gd[Xr];Or||(Or=new as.Graph({container:Fn.current,width:Vn[0],height:Vn[1],modes:{default:X},defaultNode:{type:v,size:J,style:fe,anchorPoints:kt,labelCfg:mt},defaultEdge:{type:T,style:Oe,labelCfg:St},nodeStateStyles:sr,edgeStateStyles:vr,layout:qt,fitView:!0}),gd[Xr]=Or),On&&(On.current=Or),Ov(ee,Or);var Ca=z(t);return Or.data(Ca),Or.render(),Or.fitView(),Or.on("edge:mouseenter",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!0),Zr&&Zr(En,Or)}),Or.on("node:mouseenter",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!0),Ur&&Ur(En,Or)}),Or.on("edge:mouseleave",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!1),Rr&&Rr(En,Or)}),Or.on("node:mouseleave",function(Rn){var En=Rn.item;Or.setItemState(En,"hover",!1),Lr&&Lr(En,Or)}),Or.on("edge:click",function(Rn){var En=Rn.item;Qr&&Qr(En,Or)}),Or.on("node:click",function(Rn){var En=Rn.item;Dr&&Dr(En,Or)}),Or.on("canvas:click",function(){kr&&kr(Or)}),function(){gd[Xr]&&(gd[Xr].destroy(),delete gd[Xr])}},[]),R.a.createElement(dt,null,R.a.createElement("div",{className:e,style:r,ref:Fn}))},_0=bM,q0={hover:{stroke:"#1890ff",lineWidth:2}},OM=[120,40],xM={stroke:"#40a9ff"},EM=[[0,.5],[1,.5]],SM={stroke:"#ccc",endArrow:{path:as.Arrow.vee(10,10),fill:"#ccc"}},CM={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(){return 100}},MM={style:{fill:"#000",fontSize:12}},pd={},TM=function(n){var t=n.data,e=n.className,r=n.style,a=n.width,l=n.height,f=n.nodeType,v=f===void 0?"card-node":f,m=n.edgeType,T=m===void 0?"cubic-horizontal":m,w=n.behaviors,X=w===void 0?["zoom-canvas","drag-canvas"]:w,Z=n.nodeSize,J=Z===void 0?OM:Z,ht=n.nodeLabelCfg,mt=ht===void 0?MM:ht,At=n.nodeAnchorPoints,St=At===void 0?EM:At,Bt=n.layout,kt=Bt===void 0?CM:Bt,Yt=n.minimapCfg,qt=n.nodeStyle,ee=qt===void 0?xM:qt,re=n.edgeStyle,fe=re===void 0?SM:re,le=n.nodeStateStyles,Oe=le===void 0?q0:le,Te=n.edgeStateStyles,sr=Te===void 0?q0:Te,fr=n.collapseExpand,vr=fr===void 0?!0:fr,Qr=n.handleEdgeClick,Zr=n.handleEdgeHover,Rr=n.handleEdgeUnHover,Dr=n.handleNodeClick,Ur=n.handleNodeHover,Lr=n.handleNodeUnHover,kr=n.handleCanvasClick,On=n.graphRef,Wr=n.graphId,Xr=Wr===void 0?"defaultIndentedTreeGraph":Wr,Nn=R.a.useRef(null),Fn={data:t,className:e,style:r,width:a,height:l,nodeType:v,edgeType:T,behaviors:X,nodeSize:J,nodeLabelCfg:mt,nodeAnchorPoints:St,layout:kt,minimapCfg:Yt,nodeStyle:ee,edgeStyle:fe,nodeStateStyles:Oe,edgeStateStyles:sr,collapseExpand:vr,handleEdgeClick:Qr,handleEdgeHover:Zr,handleEdgeUnHover:Rr,handleNodeClick:Dr,handleNodeHover:Ur,handleNodeUnHover:Lr,handleCanvasClick:kr,graphRef:On,graphId:Xr};return fg(pd[Xr],Fn,Nn),Object(A.useEffect)(function(){var Vn=bv(a,l,Nn),Or=pd[Xr];Or||(Or=new as.TreeGraph({container:Nn.current,width:Vn[0],height:Vn[1],modes:{default:X},defaultNode:{type:v,size:J,style:ee,anchorPoints:St,labelCfg:mt},defaultEdge:{type:T,style:fe},nodeStateStyles:Oe,edgeStateStyles:sr,layout:kt}),pd[Xr]=Or),On&&(On.current=Or),Ov(Yt,Or);var Ca=z(t);if(Or.data(Ca),Or.render(),Or.fitView(),vr){var Rn=function(Da){var ui=Da.item;Da.target.get("name")==="collapse-icon"?(Or.updateItem(ui,{collapsed:!ui.getModel().collapsed}),Or.layout()):Dr&&Dr(ui,Or)};Or.on("node:click",function(En){Rn(En)}),Or.on("node:touchstart",function(En){Rn(En)})}return Or.on("edge:mouseenter",function(En){var Da=En.item;Or.setItemState(Da,"hover",!0),Zr&&Zr(Da,Or)}),Or.on("edge:mouseleave",function(En){var Da=En.item;Or.setItemState(Da,"hover",!1),Rr&&Rr(Da,Or)}),Or.on("edge:click",function(En){var Da=En.item;Qr&&Qr(Da,Or)}),Or.on("edge:touchstart",function(En){var Da=En.item;Qr&&Qr(Da,Or)}),Or.on("node:mouseenter",function(En){var Da=En.item;Or.setItemState(Da,"hover",!1),Ur&&Ur(Da,Or)}),Or.on("node:mouseleave",function(En){var Da=En.item;Or.setItemState(Da,"hover",!1),Lr&&Lr(Da,Or)}),Or.on("canvas:click",function(){kr==null||kr(Or)}),Or.on("canvas:touchstart",function(){kr==null||kr(Or)}),function(){pd[Xr]&&(pd[Xr].destroy(),delete pd[Xr])}},[]),R.a.createElement(dt,null,R.a.createElement("div",{className:e,style:r,ref:Nn}))},tb=TM,eb={hover:{stroke:"#1890ff",lineWidth:2}},AM=[150,30],IM={stroke:"#72CC4A",fill:"#f00"},DM=[[.5,0],[.5,1]],PM={stroke:"#91d5ff",endArrow:{path:as.Arrow.vee(10,10)}},LM={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},rb={style:{fill:"#000000A6",fontSize:10}},yd={},jM=function(n){var t=n.data,e=n.className,r=n.style,a=n.width,l=n.height,f=n.nodeType,v=f===void 0?"round-rect":f,m=n.edgeType,T=m===void 0?"fund-polyline":m,w=n.behaviors,X=w===void 0?["zoom-canvas","drag-canvas"]:w,Z=n.nodeSize,J=Z===void 0?AM:Z,ht=n.nodeLabelCfg,mt=ht===void 0?rb:ht,At=n.edgeLabelCfg,St=At===void 0?rb:At,Bt=n.nodeAnchorPoints,kt=Bt===void 0?DM:Bt,Yt=n.layout,qt=Yt===void 0?LM:Yt,ee=n.minimapCfg,re=n.nodeStyle,fe=re===void 0?IM:re,le=n.edgeStyle,Oe=le===void 0?PM:le,Te=n.nodeStateStyles,sr=Te===void 0?eb:Te,fr=n.edgeStateStyles,vr=fr===void 0?eb:fr,Qr=n.colorMap,Zr=Qr===void 0?{}:Qr,Rr=n.handleEdgeClick,Dr=n.handleEdgeHover,Ur=n.handleEdgeUnHover,Lr=n.handleNodeClick,kr=n.handleNodeHover,On=n.handleNodeUnHover,Wr=n.handleCanvasClick,Xr=n.graphRef,Nn=n.graphId,Fn=Nn===void 0?"defaultDagreFundFlowGraph":Nn,Vn=R.a.useRef(null),Or={data:t,className:e,style:r,width:a,height:l,nodeType:v,edgeType:T,behaviors:X,nodeSize:J,nodeLabelCfg:mt,edgeLabelCfg:St,nodeAnchorPoints:kt,layout:qt,minimapCfg:ee,nodeStyle:fe,edgeStyle:Oe,nodeStateStyles:sr,edgeStateStyles:vr,colorMap:Zr,handleEdgeClick:Rr,handleEdgeHover:Dr,handleEdgeUnHover:Ur,handleNodeClick:Lr,handleNodeHover:kr,handleNodeUnHover:On,handleCanvasClick:Wr,graphRef:Xr,graphId:Fn};return fg(yd[Fn],Or,Vn),Object(A.useEffect)(function(){var Ca=bv(a,l,Vn),Rn=yd[Fn];Rn||(Rn=new as.Graph({container:Vn.current,width:Ca[0],height:Ca[1],modes:{default:X},defaultNode:{type:v,size:J,style:fe,anchorPoints:kt,labelCfg:mt},defaultEdge:{type:T,style:Oe,colorMap:Zr,labelCfg:St},nodeStateStyles:sr,edgeStateStyles:vr,layout:qt,fitView:!0}),yd[Fn]=Rn),Xr&&(Xr.current=Rn),Ov(ee,Rn);var En=z(t);Rn.data(En),Rn.render();var Da=Rn.getEdges();return Da.forEach(function(ui){var ri=ui.getKeyShape(),ho=ri.attr("stroke"),Ya=ui.getTarget();Ya.update({style:{stroke:ho}})}),Rn.fitView(),Rn.on("edge:mouseenter",function(ui){var ri=ui.item;Rn.setItemState(ri,"hover",!0),Dr&&Dr(ri,Rn)}),Rn.on("edge:mouseleave",function(ui){var ri=ui.item;Rn.setItemState(ri,"hover",!1),Ur&&Ur(ri,Rn)}),Rn.on("edge:click",function(ui){var ri=ui.item;Rr&&Rr(ri,Rn)}),Rn.on("node:mouseenter",function(ui){var ri=ui.item;Rn.setItemState(ri,"hover",!1),kr&&kr(ri,Rn)}),Rn.on("node:mouseleave",function(ui){var ri=ui.item;Rn.setItemState(ri,"hover",!1),On&&On(ri,Rn)}),Rn.on("node:click",function(ui){var ri=ui.item;Lr&&Lr(ri,Rn)}),Rn.on("canvas:click",function(){Wr==null||Wr(Rn)}),function(){yd[Fn]&&(yd[Fn].destroy(),delete yd[Fn])}},[]),R.a.createElement(dt,null,R.a.createElement("div",{className:e,style:r,ref:Vn}))},nb=jM,rT=P.default={Area:V,Bar:yt,Box:Me,Bullet:Wt,Column:Ct,Funnel:Rt,Histogram:Ht,Line:Jt,Liquid:nr,Heatmap:Ze,Pie:Mr,Progress:Jr,Radar:ta,RingProgress:ea,Rose:Yn,Chord:Qi,Scatter:ao,TinyArea:io,TinyColumn:So,TinyLine:Uo,Waterfall:ol,WordCloud:ms,Sunburst:ru,DualAxes:wi,Stock:Ps,RadialBar:pe,Gauge:We,Sankey:ir,Treemap:Gn,MultiView:Ba,Mix:Ba,BidirectionalBar:si,OrganizationTreeGraph:$0,DagreGraph:_0,IndentedTree:tb,DagreFundFlowGraph:nb,G2:B.G2,flow:B.flow,measureTextWidth:B.measureTextWidth,adaptors:B.adaptors}},fo7X:function(wt,P,i){"use strict";i.d(P,"a",function(){return E});var d=i("qJ52"),o=i.n(d),b=i("25gg"),x=i.n(b),M=i("YcyD"),D=i.n(M),C,S,O,E=(C=Object(M.injectable)(),C(S=(O=function(){function I(){o()(this,I),this.config=void 0}return x()(I,[{key:"get",value:function(){return this.config}},{key:"set",value:function(R){this.config=R}}]),I}(),O))||S)},fxXO:function(wt,P,i){(function(d,o){o(P)})(this,function(d){"use strict";function o(Y,K){return b(Y)||x(Y,K)||M()}function b(Y){if(Array.isArray(Y))return Y}function x(Y,K){var et=[],ut=!0,dt=!1,vt=void 0;try{for(var at=Y[Symbol.iterator](),pt;!(ut=(pt=at.next()).done)&&(et.push(pt.value),!(K&&et.length===K));ut=!0);}catch(Tt){dt=!0,vt=Tt}finally{try{!ut&&at.return!=null&&at.return()}finally{if(dt)throw vt}}return et}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function D(Y,K,et,ut){Y=Y.filter(function(ft,it){var bt=K(ft,it),Dt=et(ft,it);return bt!=null&&isFinite(bt)&&Dt!=null&&isFinite(Dt)}),ut&&Y.sort(function(ft,it){return K(ft)-K(it)});for(var dt=Y.length,vt=new Float64Array(dt),at=new Float64Array(dt),pt=0,Tt=0,Gt,Kt,Xt,gt=0;gt<dt;)Xt=Y[gt],vt[gt]=Gt=+K(Xt,gt,Y),at[gt]=Kt=+et(Xt,gt,Y),++gt,pt+=(Gt-pt)/gt,Tt+=(Kt-Tt)/gt;for(var lt=0;lt<dt;++lt)vt[lt]-=pt,at[lt]-=Tt;return[vt,at,pt,Tt]}function C(Y,K,et,ut){for(var dt=0,vt=0,at=Y.length;vt<at;vt++){var pt=Y[vt],Tt=+K(pt,vt,Y),Gt=+et(pt,vt,Y);Tt!=null&&isFinite(Tt)&&Gt!=null&&isFinite(Gt)&&ut(Tt,Gt,dt++)}}function S(Y,K,et,ut,dt){var vt=0,at=0;return C(Y,K,et,function(pt,Tt){var Gt=Tt-dt(pt),Kt=Tt-ut;vt+=Gt*Gt,at+=Kt*Kt}),1-vt/at}function O(Y){return Math.atan2(Y[1][1]-Y[0][1],Y[1][0]-Y[0][0])*180/Math.PI}function E(Y){return[(Y[0][0]+Y[1][0])/2,(Y[0][1]+Y[1][1])/2]}function I(Y,K,et){for(var ut=Math.log(K-Y)*Math.LOG10E+1|0,dt=1*Math.pow(10,-ut/2-1),vt=1e4,at=[Tt(Y),Tt(K)],pt=0;Gt(at)&&pt<vt;);return at;function Tt(Kt){return[Kt,et(Kt)]}function Gt(Kt){pt++;for(var Xt=Kt.length,gt=!1,lt=0;lt<Xt-1;lt++){var ft=Kt[lt],it=Kt[lt+1],bt=E([ft,it]),Dt=Tt(bt[0]),Mt=O([ft,bt]),q=O([ft,Dt]),V=Math.abs(Mt-q);V>dt&&(Kt.splice(lt+1,0,Dt),gt=!0)}return gt}}function A(Y,K,et,ut){var dt=ut-Y*Y,vt=Math.abs(dt)<1e-24?0:(et-Y*K)/dt,at=K-vt*Y;return[at,vt]}function R(){var Y=function(vt){return vt[0]},K=function(vt){return vt[1]},et;function ut(dt){var vt=0,at=0,pt=0,Tt=0,Gt=0,Kt=0,Xt=et?+et[0]:Infinity,gt=et?+et[1]:-Infinity;C(dt,Y,K,function(q,V){var ot=Math.log(V),tt=q*V;++vt,at+=(V-at)/vt,Tt+=(tt-Tt)/vt,Kt+=(q*tt-Kt)/vt,pt+=(V*ot-pt)/vt,Gt+=(tt*ot-Gt)/vt,et||(q<Xt&&(Xt=q),q>gt&&(gt=q))});var lt=A(Tt/at,pt/at,Gt/at,Kt/at),ft=o(lt,2),it=ft[0],bt=ft[1];it=Math.exp(it);var Dt=function(V){return it*Math.exp(bt*V)},Mt=I(Xt,gt,Dt);return Mt.a=it,Mt.b=bt,Mt.predict=Dt,Mt.rSquared=S(dt,Y,K,at,Dt),Mt}return ut.domain=function(dt){return arguments.length?(et=dt,ut):et},ut.x=function(dt){return arguments.length?(Y=dt,ut):Y},ut.y=function(dt){return arguments.length?(K=dt,ut):K},ut}function B(){var Y=function(vt){return vt[0]},K=function(vt){return vt[1]},et;function ut(dt){var vt=0,at=0,pt=0,Tt=0,Gt=0,Kt=et?+et[0]:Infinity,Xt=et?+et[1]:-Infinity;C(dt,Y,K,function(Mt,q){++vt,at+=(Mt-at)/vt,pt+=(q-pt)/vt,Tt+=(Mt*q-Tt)/vt,Gt+=(Mt*Mt-Gt)/vt,et||(Mt<Kt&&(Kt=Mt),Mt>Xt&&(Xt=Mt))});var gt=A(at,pt,Tt,Gt),lt=o(gt,2),ft=lt[0],it=lt[1],bt=function(q){return it*q+ft},Dt=[[Kt,bt(Kt)],[Xt,bt(Xt)]];return Dt.a=it,Dt.b=ft,Dt.predict=bt,Dt.rSquared=S(dt,Y,K,pt,bt),Dt}return ut.domain=function(dt){return arguments.length?(et=dt,ut):et},ut.x=function(dt){return arguments.length?(Y=dt,ut):Y},ut.y=function(dt){return arguments.length?(K=dt,ut):K},ut}function p(Y){Y.sort(function(et,ut){return et-ut});var K=Y.length/2;return K%1==0?(Y[K-1]+Y[K])/2:Y[Math.floor(K)]}var G=2,W=1e-12;function z(){var Y=function(vt){return vt[0]},K=function(vt){return vt[1]},et=.3;function ut(dt){for(var vt=D(dt,Y,K,!0),at=o(vt,4),pt=at[0],Tt=at[1],Gt=at[2],Kt=at[3],Xt=pt.length,gt=Math.max(2,~~(et*Xt)),lt=new Float64Array(Xt),ft=new Float64Array(Xt),it=new Float64Array(Xt).fill(1),bt=-1;++bt<=G;){for(var Dt=[0,gt-1],Mt=0;Mt<Xt;++Mt){for(var q=pt[Mt],V=Dt[0],ot=Dt[1],tt=q-pt[V]>pt[ot]-q?V:ot,yt=0,Pt=0,Ft=0,Wt=0,Vt=0,Lt=1/Math.abs(pt[tt]-q||1),Ct=V;Ct<=ot;++Ct){var _=pt[Ct],It=Tt[Ct],Rt=N(Math.abs(q-_)*Lt)*it[Ct],xt=_*Rt;yt+=Rt,Pt+=xt,Ft+=It*Rt,Wt+=It*xt,Vt+=_*xt}var Nt=A(Pt/yt,Ft/yt,Wt/yt,Vt/yt),Ht=o(Nt,2),jt=Ht[0],Ut=Ht[1];lt[Mt]=jt+Ut*q,ft[Mt]=Math.abs(Tt[Mt]-lt[Mt]),j(pt,Mt+1,Dt)}if(bt===G)break;var Jt=p(ft);if(Math.abs(Jt)<W)break;for(var se=0,me,Me;se<Xt;++se)me=ft[se]/(6*Jt),it[se]=me>=1?W:(Me=1-me*me)*Me}return F(pt,lt,Gt,Kt)}return ut.bandwidth=function(dt){return arguments.length?(et=dt,ut):et},ut.x=function(dt){return arguments.length?(Y=dt,ut):Y},ut.y=function(dt){return arguments.length?(K=dt,ut):K},ut}function N(Y){return(Y=1-Y*Y*Y)*Y*Y}function j(Y,K,et){var ut=Y[K],dt=et[0],vt=et[1]+1;if(!(vt>=Y.length))for(;K>dt&&Y[vt]-ut<=ut-Y[dt];)et[0]=++dt,et[1]=vt,++vt}function F(Y,K,et,ut){for(var dt=Y.length,vt=[],at=0,pt=0,Tt=[],Gt;at<dt;++at)Gt=Y[at]+et,Tt[0]===Gt?Tt[1]+=(K[at]-Tt[1])/++pt:(pt=0,Tt[1]+=ut,Tt=[Gt,K[at]],vt.push(Tt));return Tt[1]+=ut,vt}function k(){var Y=function(at){return at[0]},K=function(at){return at[1]},et=Math.E,ut;function dt(vt){var at=0,pt=0,Tt=0,Gt=0,Kt=0,Xt=ut?+ut[0]:Infinity,gt=ut?+ut[1]:-Infinity,lt=Math.log(et);C(vt,Y,K,function(V,ot){var tt=Math.log(V)/lt;++at,pt+=(tt-pt)/at,Tt+=(ot-Tt)/at,Gt+=(tt*ot-Gt)/at,Kt+=(tt*tt-Kt)/at,ut||(V<Xt&&(Xt=V),V>gt&&(gt=V))});var ft=A(pt,Tt,Gt,Kt),it=o(ft,2),bt=it[0],Dt=it[1],Mt=function(ot){return Dt*Math.log(ot)/lt+bt},q=I(Xt,gt,Mt);return q.a=Dt,q.b=bt,q.predict=Mt,q.rSquared=S(vt,Y,K,Tt,Mt),q}return dt.domain=function(vt){return arguments.length?(ut=vt,dt):ut},dt.x=function(vt){return arguments.length?(Y=vt,dt):Y},dt.y=function(vt){return arguments.length?(K=vt,dt):K},dt.base=function(vt){return arguments.length?(et=vt,dt):et},dt}function $(){var Y=function(vt){return vt[0]},K=function(vt){return vt[1]},et;function ut(dt){var vt=D(dt,Y,K),at=o(vt,4),pt=at[0],Tt=at[1],Gt=at[2],Kt=at[3],Xt=pt.length,gt=0,lt=0,ft=0,it=0,bt=0,Dt,Mt,q,V;for(Dt=0;Dt<Xt;)Mt=pt[Dt],q=Tt[Dt++],V=Mt*Mt,gt+=(V-gt)/Dt,lt+=(V*Mt-lt)/Dt,ft+=(V*V-ft)/Dt,it+=(Mt*q-it)/Dt,bt+=(V*q-bt)/Dt;var ot=0,tt=0,yt=et?+et[0]:Infinity,Pt=et?+et[1]:-Infinity;C(dt,Y,K,function(Rt,xt){tt++,ot+=(xt-ot)/tt,et||(Rt<yt&&(yt=Rt),Rt>Pt&&(Pt=Rt))});var Ft=ft-gt*gt,Wt=gt*Ft-lt*lt,Vt=(bt*gt-it*lt)/Wt,Lt=(it*Ft-bt*lt)/Wt,Ct=-Vt*gt,_=function(xt){return xt=xt-Gt,Vt*xt*xt+Lt*xt+Ct+Kt},It=I(yt,Pt,_);return It.a=Vt,It.b=Lt-2*Vt*Gt,It.c=Ct-Lt*Gt+Vt*Gt*Gt+Kt,It.predict=_,It.rSquared=S(dt,Y,K,ot,_),It}return ut.domain=function(dt){return arguments.length?(et=dt,ut):et},ut.x=function(dt){return arguments.length?(Y=dt,ut):Y},ut.y=function(dt){return arguments.length?(K=dt,ut):K},ut}function nt(){var Y=function(at){return at[0]},K=function(at){return at[1]},et=3,ut;function dt(vt){if(et===1){var at=B().x(Y).y(K).domain(ut)(vt);return at.coefficients=[at.b,at.a],delete at.a,delete at.b,at}if(et===2){var pt=$().x(Y).y(K).domain(ut)(vt);return pt.coefficients=[pt.c,pt.b,pt.a],delete pt.a,delete pt.b,delete pt.c,pt}var Tt=D(vt,Y,K),Gt=o(Tt,4),Kt=Gt[0],Xt=Gt[1],gt=Gt[2],lt=Gt[3],ft=Kt.length,it=[],bt=[],Dt=et+1,Mt=0,q=0,V=ut?+ut[0]:Infinity,ot=ut?+ut[1]:-Infinity;C(vt,Y,K,function(_,It){++q,Mt+=(It-Mt)/q,ut||(_<V&&(V=_),_>ot&&(ot=_))});var tt,yt,Pt,Ft,Wt;for(tt=0;tt<Dt;++tt){for(Pt=0,Ft=0;Pt<ft;++Pt)Ft+=Math.pow(Kt[Pt],tt)*Xt[Pt];for(it.push(Ft),Wt=new Float64Array(Dt),yt=0;yt<Dt;++yt){for(Pt=0,Ft=0;Pt<ft;++Pt)Ft+=Math.pow(Kt[Pt],tt+yt);Wt[yt]=Ft}bt.push(Wt)}bt.push(it);var Vt=rt(bt),Lt=function(It){It-=gt;var Rt=lt+Vt[0]+Vt[1]*It+Vt[2]*It*It;for(tt=3;tt<Dt;++tt)Rt+=Vt[tt]*Math.pow(It,tt);return Rt},Ct=I(V,ot,Lt);return Ct.coefficients=st(Dt,Vt,-gt,lt),Ct.predict=Lt,Ct.rSquared=S(vt,Y,K,Mt,Lt),Ct}return dt.domain=function(vt){return arguments.length?(ut=vt,dt):ut},dt.x=function(vt){return arguments.length?(Y=vt,dt):Y},dt.y=function(vt){return arguments.length?(K=vt,dt):K},dt.order=function(vt){return arguments.length?(et=vt,dt):et},dt}function st(Y,K,et,ut){var dt=Array(Y),vt,at,pt,Tt;for(vt=0;vt<Y;++vt)dt[vt]=0;for(vt=Y-1;vt>=0;--vt)for(pt=K[vt],Tt=1,dt[vt]+=pt,at=1;at<=vt;++at)Tt*=(vt+1-at)/at,dt[vt-at]+=pt*Math.pow(et,at)*Tt;return dt[0]+=ut,dt}function rt(Y){var K=Y.length-1,et=[],ut,dt,vt,at,pt;for(ut=0;ut<K;++ut){for(at=ut,dt=ut+1;dt<K;++dt)Math.abs(Y[ut][dt])>Math.abs(Y[ut][at])&&(at=dt);for(vt=ut;vt<K+1;++vt)pt=Y[vt][ut],Y[vt][ut]=Y[vt][at],Y[vt][at]=pt;for(dt=ut+1;dt<K;++dt)for(vt=K;vt>=ut;vt--)Y[vt][dt]-=Y[vt][ut]*Y[ut][dt]/Y[ut][ut]}for(dt=K-1;dt>=0;--dt){for(pt=0,vt=dt+1;vt<K;++vt)pt+=Y[vt][dt]*et[vt];et[dt]=(Y[K][dt]-pt)/Y[dt][dt]}return et}function Q(){var Y=function(vt){return vt[0]},K=function(vt){return vt[1]},et;function ut(dt){var vt=0,at=0,pt=0,Tt=0,Gt=0,Kt=0,Xt=et?+et[0]:Infinity,gt=et?+et[1]:-Infinity;C(dt,Y,K,function(q,V){var ot=Math.log(q),tt=Math.log(V);++vt,at+=(ot-at)/vt,pt+=(tt-pt)/vt,Tt+=(ot*tt-Tt)/vt,Gt+=(ot*ot-Gt)/vt,Kt+=(V-Kt)/vt,et||(q<Xt&&(Xt=q),q>gt&&(gt=q))});var lt=A(at,pt,Tt,Gt),ft=o(lt,2),it=ft[0],bt=ft[1];it=Math.exp(it);var Dt=function(V){return it*Math.pow(V,bt)},Mt=I(Xt,gt,Dt);return Mt.a=it,Mt.b=bt,Mt.predict=Dt,Mt.rSquared=S(dt,Y,K,Kt,Dt),Mt}return ut.domain=function(dt){return arguments.length?(et=dt,ut):et},ut.x=function(dt){return arguments.length?(Y=dt,ut):Y},ut.y=function(dt){return arguments.length?(K=dt,ut):K},ut}d.regressionExp=R,d.regressionLinear=B,d.regressionLoess=z,d.regressionLog=k,d.regressionPoly=nt,d.regressionPow=Q,d.regressionQuad=$,Object.defineProperty(d,"__esModule",{value:!0})})},g1AO:function(wt,P){wt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},"g5+9":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.resolve=void 0;var d=i("196R"),o=i("2+60"),b=i("AUMs"),x=i("Rph/"),M=i("wfm+"),D=function(E,I,A){try{return A()}catch(R){throw b.isStackOverflowExeption(R)?new Error(d.CIRCULAR_DEPENDENCY_IN_FACTORY(E,I.toString())):R}},C=function O(E){return function(I){I.parentContext.setCurrentRequest(I);var A=I.bindings,R=I.childRequests,B=I.target&&I.target.isArray(),p=!I.parentRequest||!I.parentRequest.target||!I.target||!I.parentRequest.target.matchesArray(I.target.serviceIdentifier);if(B&&p)return R.map(function(F){var k=O(E);return k(F)});var G=null;if(I.target.isOptional()&&A.length===0)return;var W=A[0],z=W.scope===o.BindingScopeEnum.Singleton,N=W.scope===o.BindingScopeEnum.Request;if(z&&W.activated)return W.cache;if(N&&E!==null&&E.has(W.id))return E.get(W.id);if(W.type===o.BindingTypeEnum.ConstantValue)G=W.cache,W.activated=!0;else if(W.type===o.BindingTypeEnum.Function)G=W.cache,W.activated=!0;else if(W.type===o.BindingTypeEnum.Constructor)G=W.implementationType;else if(W.type===o.BindingTypeEnum.DynamicValue&&W.dynamicValue!==null)G=D("toDynamicValue",W.serviceIdentifier,function(){return W.dynamicValue(I.parentContext)});else if(W.type===o.BindingTypeEnum.Factory&&W.factory!==null)G=D("toFactory",W.serviceIdentifier,function(){return W.factory(I.parentContext)});else if(W.type===o.BindingTypeEnum.Provider&&W.provider!==null)G=D("toProvider",W.serviceIdentifier,function(){return W.provider(I.parentContext)});else if(W.type===o.BindingTypeEnum.Instance&&W.implementationType!==null)G=M.resolveInstance(W.implementationType,R,O(E));else{var j=x.getServiceIdentifierAsString(I.serviceIdentifier);throw new Error(d.INVALID_BINDING_TYPE+" "+j)}return typeof W.onActivation=="function"&&(G=W.onActivation(I.parentContext,G)),z&&(W.cache=G,W.activated=!0),N&&E!==null&&!E.has(W.id)&&E.set(W.id,G),G}};function S(O){var E=C(O.plan.rootRequest.requestScope);return E(O.plan.rootRequest)}P.resolve=S},gCNn:function(wt,P,i){"use strict";i.r(P),i.d(P,"create",function(){return o}),i.d(P,"clone",function(){return b}),i.d(P,"length",function(){return x}),i.d(P,"fromValues",function(){return M}),i.d(P,"copy",function(){return D}),i.d(P,"set",function(){return C}),i.d(P,"add",function(){return S}),i.d(P,"subtract",function(){return O}),i.d(P,"multiply",function(){return E}),i.d(P,"divide",function(){return I}),i.d(P,"ceil",function(){return A}),i.d(P,"floor",function(){return R}),i.d(P,"min",function(){return B}),i.d(P,"max",function(){return p}),i.d(P,"round",function(){return G}),i.d(P,"scale",function(){return W}),i.d(P,"scaleAndAdd",function(){return z}),i.d(P,"distance",function(){return N}),i.d(P,"squaredDistance",function(){return j}),i.d(P,"squaredLength",function(){return F}),i.d(P,"negate",function(){return k}),i.d(P,"inverse",function(){return $}),i.d(P,"normalize",function(){return nt}),i.d(P,"dot",function(){return st}),i.d(P,"cross",function(){return rt}),i.d(P,"lerp",function(){return Q}),i.d(P,"hermite",function(){return Y}),i.d(P,"bezier",function(){return K}),i.d(P,"random",function(){return et}),i.d(P,"transformMat4",function(){return ut}),i.d(P,"transformMat3",function(){return dt}),i.d(P,"transformQuat",function(){return vt}),i.d(P,"rotateX",function(){return at}),i.d(P,"rotateY",function(){return pt}),i.d(P,"rotateZ",function(){return Tt}),i.d(P,"angle",function(){return Gt}),i.d(P,"zero",function(){return Kt}),i.d(P,"str",function(){return Xt}),i.d(P,"exactEquals",function(){return gt}),i.d(P,"equals",function(){return lt}),i.d(P,"sub",function(){return ft}),i.d(P,"mul",function(){return it}),i.d(P,"div",function(){return bt}),i.d(P,"dist",function(){return Dt}),i.d(P,"sqrDist",function(){return Mt}),i.d(P,"len",function(){return q}),i.d(P,"sqrLen",function(){return V}),i.d(P,"forEach",function(){return ot});var d=i("TaHB");function o(){var tt=new d.a(3);return d.a!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt}function b(tt){var yt=new d.a(3);return yt[0]=tt[0],yt[1]=tt[1],yt[2]=tt[2],yt}function x(tt){var yt=tt[0],Pt=tt[1],Ft=tt[2];return Math.hypot(yt,Pt,Ft)}function M(tt,yt,Pt){var Ft=new d.a(3);return Ft[0]=tt,Ft[1]=yt,Ft[2]=Pt,Ft}function D(tt,yt){return tt[0]=yt[0],tt[1]=yt[1],tt[2]=yt[2],tt}function C(tt,yt,Pt,Ft){return tt[0]=yt,tt[1]=Pt,tt[2]=Ft,tt}function S(tt,yt,Pt){return tt[0]=yt[0]+Pt[0],tt[1]=yt[1]+Pt[1],tt[2]=yt[2]+Pt[2],tt}function O(tt,yt,Pt){return tt[0]=yt[0]-Pt[0],tt[1]=yt[1]-Pt[1],tt[2]=yt[2]-Pt[2],tt}function E(tt,yt,Pt){return tt[0]=yt[0]*Pt[0],tt[1]=yt[1]*Pt[1],tt[2]=yt[2]*Pt[2],tt}function I(tt,yt,Pt){return tt[0]=yt[0]/Pt[0],tt[1]=yt[1]/Pt[1],tt[2]=yt[2]/Pt[2],tt}function A(tt,yt){return tt[0]=Math.ceil(yt[0]),tt[1]=Math.ceil(yt[1]),tt[2]=Math.ceil(yt[2]),tt}function R(tt,yt){return tt[0]=Math.floor(yt[0]),tt[1]=Math.floor(yt[1]),tt[2]=Math.floor(yt[2]),tt}function B(tt,yt,Pt){return tt[0]=Math.min(yt[0],Pt[0]),tt[1]=Math.min(yt[1],Pt[1]),tt[2]=Math.min(yt[2],Pt[2]),tt}function p(tt,yt,Pt){return tt[0]=Math.max(yt[0],Pt[0]),tt[1]=Math.max(yt[1],Pt[1]),tt[2]=Math.max(yt[2],Pt[2]),tt}function G(tt,yt){return tt[0]=Math.round(yt[0]),tt[1]=Math.round(yt[1]),tt[2]=Math.round(yt[2]),tt}function W(tt,yt,Pt){return tt[0]=yt[0]*Pt,tt[1]=yt[1]*Pt,tt[2]=yt[2]*Pt,tt}function z(tt,yt,Pt,Ft){return tt[0]=yt[0]+Pt[0]*Ft,tt[1]=yt[1]+Pt[1]*Ft,tt[2]=yt[2]+Pt[2]*Ft,tt}function N(tt,yt){var Pt=yt[0]-tt[0],Ft=yt[1]-tt[1],Wt=yt[2]-tt[2];return Math.hypot(Pt,Ft,Wt)}function j(tt,yt){var Pt=yt[0]-tt[0],Ft=yt[1]-tt[1],Wt=yt[2]-tt[2];return Pt*Pt+Ft*Ft+Wt*Wt}function F(tt){var yt=tt[0],Pt=tt[1],Ft=tt[2];return yt*yt+Pt*Pt+Ft*Ft}function k(tt,yt){return tt[0]=-yt[0],tt[1]=-yt[1],tt[2]=-yt[2],tt}function $(tt,yt){return tt[0]=1/yt[0],tt[1]=1/yt[1],tt[2]=1/yt[2],tt}function nt(tt,yt){var Pt=yt[0],Ft=yt[1],Wt=yt[2],Vt=Pt*Pt+Ft*Ft+Wt*Wt;return Vt>0&&(Vt=1/Math.sqrt(Vt)),tt[0]=yt[0]*Vt,tt[1]=yt[1]*Vt,tt[2]=yt[2]*Vt,tt}function st(tt,yt){return tt[0]*yt[0]+tt[1]*yt[1]+tt[2]*yt[2]}function rt(tt,yt,Pt){var Ft=yt[0],Wt=yt[1],Vt=yt[2],Lt=Pt[0],Ct=Pt[1],_=Pt[2];return tt[0]=Wt*_-Vt*Ct,tt[1]=Vt*Lt-Ft*_,tt[2]=Ft*Ct-Wt*Lt,tt}function Q(tt,yt,Pt,Ft){var Wt=yt[0],Vt=yt[1],Lt=yt[2];return tt[0]=Wt+Ft*(Pt[0]-Wt),tt[1]=Vt+Ft*(Pt[1]-Vt),tt[2]=Lt+Ft*(Pt[2]-Lt),tt}function Y(tt,yt,Pt,Ft,Wt,Vt){var Lt=Vt*Vt,Ct=Lt*(2*Vt-3)+1,_=Lt*(Vt-2)+Vt,It=Lt*(Vt-1),Rt=Lt*(3-2*Vt);return tt[0]=yt[0]*Ct+Pt[0]*_+Ft[0]*It+Wt[0]*Rt,tt[1]=yt[1]*Ct+Pt[1]*_+Ft[1]*It+Wt[1]*Rt,tt[2]=yt[2]*Ct+Pt[2]*_+Ft[2]*It+Wt[2]*Rt,tt}function K(tt,yt,Pt,Ft,Wt,Vt){var Lt=1-Vt,Ct=Lt*Lt,_=Vt*Vt,It=Ct*Lt,Rt=3*Vt*Ct,xt=3*_*Lt,Nt=_*Vt;return tt[0]=yt[0]*It+Pt[0]*Rt+Ft[0]*xt+Wt[0]*Nt,tt[1]=yt[1]*It+Pt[1]*Rt+Ft[1]*xt+Wt[1]*Nt,tt[2]=yt[2]*It+Pt[2]*Rt+Ft[2]*xt+Wt[2]*Nt,tt}function et(tt,yt){yt=yt||1;var Pt=d.c()*2*Math.PI,Ft=d.c()*2-1,Wt=Math.sqrt(1-Ft*Ft)*yt;return tt[0]=Math.cos(Pt)*Wt,tt[1]=Math.sin(Pt)*Wt,tt[2]=Ft*yt,tt}function ut(tt,yt,Pt){var Ft=yt[0],Wt=yt[1],Vt=yt[2],Lt=Pt[3]*Ft+Pt[7]*Wt+Pt[11]*Vt+Pt[15];return Lt=Lt||1,tt[0]=(Pt[0]*Ft+Pt[4]*Wt+Pt[8]*Vt+Pt[12])/Lt,tt[1]=(Pt[1]*Ft+Pt[5]*Wt+Pt[9]*Vt+Pt[13])/Lt,tt[2]=(Pt[2]*Ft+Pt[6]*Wt+Pt[10]*Vt+Pt[14])/Lt,tt}function dt(tt,yt,Pt){var Ft=yt[0],Wt=yt[1],Vt=yt[2];return tt[0]=Ft*Pt[0]+Wt*Pt[3]+Vt*Pt[6],tt[1]=Ft*Pt[1]+Wt*Pt[4]+Vt*Pt[7],tt[2]=Ft*Pt[2]+Wt*Pt[5]+Vt*Pt[8],tt}function vt(tt,yt,Pt){var Ft=Pt[0],Wt=Pt[1],Vt=Pt[2],Lt=Pt[3],Ct=yt[0],_=yt[1],It=yt[2],Rt=Wt*It-Vt*_,xt=Vt*Ct-Ft*It,Nt=Ft*_-Wt*Ct,Ht=Wt*Nt-Vt*xt,jt=Vt*Rt-Ft*Nt,Ut=Ft*xt-Wt*Rt,Jt=Lt*2;return Rt*=Jt,xt*=Jt,Nt*=Jt,Ht*=2,jt*=2,Ut*=2,tt[0]=Ct+Rt+Ht,tt[1]=_+xt+jt,tt[2]=It+Nt+Ut,tt}function at(tt,yt,Pt,Ft){var Wt=[],Vt=[];return Wt[0]=yt[0]-Pt[0],Wt[1]=yt[1]-Pt[1],Wt[2]=yt[2]-Pt[2],Vt[0]=Wt[0],Vt[1]=Wt[1]*Math.cos(Ft)-Wt[2]*Math.sin(Ft),Vt[2]=Wt[1]*Math.sin(Ft)+Wt[2]*Math.cos(Ft),tt[0]=Vt[0]+Pt[0],tt[1]=Vt[1]+Pt[1],tt[2]=Vt[2]+Pt[2],tt}function pt(tt,yt,Pt,Ft){var Wt=[],Vt=[];return Wt[0]=yt[0]-Pt[0],Wt[1]=yt[1]-Pt[1],Wt[2]=yt[2]-Pt[2],Vt[0]=Wt[2]*Math.sin(Ft)+Wt[0]*Math.cos(Ft),Vt[1]=Wt[1],Vt[2]=Wt[2]*Math.cos(Ft)-Wt[0]*Math.sin(Ft),tt[0]=Vt[0]+Pt[0],tt[1]=Vt[1]+Pt[1],tt[2]=Vt[2]+Pt[2],tt}function Tt(tt,yt,Pt,Ft){var Wt=[],Vt=[];return Wt[0]=yt[0]-Pt[0],Wt[1]=yt[1]-Pt[1],Wt[2]=yt[2]-Pt[2],Vt[0]=Wt[0]*Math.cos(Ft)-Wt[1]*Math.sin(Ft),Vt[1]=Wt[0]*Math.sin(Ft)+Wt[1]*Math.cos(Ft),Vt[2]=Wt[2],tt[0]=Vt[0]+Pt[0],tt[1]=Vt[1]+Pt[1],tt[2]=Vt[2]+Pt[2],tt}function Gt(tt,yt){var Pt=tt[0],Ft=tt[1],Wt=tt[2],Vt=yt[0],Lt=yt[1],Ct=yt[2],_=Math.sqrt(Pt*Pt+Ft*Ft+Wt*Wt),It=Math.sqrt(Vt*Vt+Lt*Lt+Ct*Ct),Rt=_*It,xt=Rt&&st(tt,yt)/Rt;return Math.acos(Math.min(Math.max(xt,-1),1))}function Kt(tt){return tt[0]=0,tt[1]=0,tt[2]=0,tt}function Xt(tt){return"vec3("+tt[0]+", "+tt[1]+", "+tt[2]+")"}function gt(tt,yt){return tt[0]===yt[0]&&tt[1]===yt[1]&&tt[2]===yt[2]}function lt(tt,yt){var Pt=tt[0],Ft=tt[1],Wt=tt[2],Vt=yt[0],Lt=yt[1],Ct=yt[2];return Math.abs(Pt-Vt)<=d.b*Math.max(1,Math.abs(Pt),Math.abs(Vt))&&Math.abs(Ft-Lt)<=d.b*Math.max(1,Math.abs(Ft),Math.abs(Lt))&&Math.abs(Wt-Ct)<=d.b*Math.max(1,Math.abs(Wt),Math.abs(Ct))}var ft=O,it=E,bt=I,Dt=N,Mt=j,q=x,V=F,ot=function(){var tt=o();return function(yt,Pt,Ft,Wt,Vt,Lt){var Ct,_;for(Pt||(Pt=3),Ft||(Ft=0),Wt?_=Math.min(Wt*Pt+Ft,yt.length):_=yt.length,Ct=Ft;Ct<_;Ct+=Pt)tt[0]=yt[Ct],tt[1]=yt[Ct+1],tt[2]=yt[Ct+2],Vt(tt,tt,Lt),yt[Ct]=tt[0],yt[Ct+1]=tt[1],yt[Ct+2]=tt[2];return yt}}()},gCgN:function(wt,P,i){var d=i("7LJS"),o=i("NA5Q"),b=i("WeNx");function x(M){return M&&M.length?d(M,b,o):void 0}wt.exports=x},gPRb:function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"b",function(){return o});function d(b){return b==null?null:o(b)}function o(b){if(typeof b!="function")throw new Error;return b}},gWxb:function(wt,P,i){"use strict";var d=i("XSdR");wt.exports=o;function o(b){var x={},M=d.filter(b.nodes(),function(E){return!b.children(E).length}),D=d.max(d.map(M,function(E){return b.node(E).rank})),C=d.map(d.range(D+1),function(){return[]});function S(E){if(!d.has(x,E)){x[E]=!0;var I=b.node(E);C[I.rank].push(E),d.forEach(b.successors(E),S)}}var O=d.sortBy(M,function(E){return b.node(E).rank});return d.forEach(O,S),C}},"gs6+":function(wt,P,i){"use strict";var d=i("XSdR");wt.exports=o;function o(x,M){for(var D=0,C=1;C<M.length;++C)D+=b(x,M[C-1],M[C]);return D}function b(x,M,D){for(var C=d.zipObject(D,d.map(D,function(R,B){return B})),S=d.flatten(d.map(M,function(R){return d.sortBy(d.map(x.outEdges(R),function(B){return{pos:C[B.w],weight:x.edge(B).weight}}),"pos")}),!0),O=1;O<D.length;)O<<=1;var E=2*O-1;O-=1;var I=d.map(new Array(E),function(){return 0}),A=0;return d.forEach(S.forEach(function(R){var B=R.pos+O;I[B]+=R.weight;for(var p=0;B>0;)B%2&&(p+=I[B+1]),B=B-1>>1,I[B]+=R.weight;A+=R.weight*p})),A}},gsK0:function(wt,P,i){"use strict";i.r(P),i.d(P,"Base",function(){return D}),i.d(P,"Circle",function(){return O}),i.d(P,"Line",function(){return I});var d=i("J+IK"),o=i("jg4I"),b=i("jFyH"),x=i("KwOt"),M=function(A){Object(d.c)(R,A);function R(){return A!==null&&A.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var B=A.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},B),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:x.a.lineColor}}}})},R.prototype.getLineType=function(){var B=this.get("line")||this.get("defaultCfg").line;return B.type},R.prototype.renderInner=function(B){this.drawGrid(B)},R.prototype.getAlternatePath=function(B,p){var G=this.getGridPath(B),W=p.slice(0).reverse(),z=this.getGridPath(W,!0),N=this.get("closed");return N?G=G.concat(z):(z[0][0]="L",G=G.concat(z),G.push(["Z"])),G},R.prototype.getPathStyle=function(){return this.get("line").style},R.prototype.drawGrid=function(B){var p=this,G=this.get("line"),W=this.get("items"),z=this.get("alternateColor"),N=null;Object(o.j)(W,function(j,F){var k=j.id||F;if(G){var $=p.getPathStyle();$=Object(o.H)($)?$(j,F,W):$;var nt=p.getElementId("line-"+k),st=p.getGridPath(j.points);p.addShape(B,{type:"path",name:"grid-line",id:nt,attrs:Object(o.bb)({path:st},$)})}if(z&&F>0){var rt=p.getElementId("region-"+k),Q=F%2==0;if(Object(o.O)(z))Q&&p.drawAlternateRegion(rt,B,N.points,j.points,z);else{var Y=Q?z[1]:z[0];p.drawAlternateRegion(rt,B,N.points,j.points,Y)}}N=j})},R.prototype.drawAlternateRegion=function(B,p,G,W,z){var N=this.getAlternatePath(G,W);this.addShape(p,{type:"path",id:B,name:"grid-region",attrs:{path:N,fill:z}})},R}(b.a),D=M;function C(A,R,B,p){var G=B-A,W=p-R;return Math.sqrt(G*G+W*W)}var S=function(A){Object(d.c)(R,A);function R(){return A!==null&&A.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var B=A.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},B),{type:"circle",center:null,closed:!0})},R.prototype.getGridPath=function(B,p){var G=this.getLineType(),W=this.get("closed"),z=[];if(B.length)if(G==="circle"){var N=this.get("center"),j=B[0],F=C(N.x,N.y,j.x,j.y),k=p?0:1;W?(z.push(["M",N.x,N.y-F]),z.push(["A",F,F,0,0,k,N.x,N.y+F]),z.push(["A",F,F,0,0,k,N.x,N.y-F]),z.push(["Z"])):Object(o.j)(B,function($,nt){nt===0?z.push(["M",$.x,$.y]):z.push(["A",F,F,0,0,k,$.x,$.y])})}else Object(o.j)(B,function($,nt){nt===0?z.push(["M",$.x,$.y]):z.push(["L",$.x,$.y])}),W&&z.push(["Z"]);return z},R}(D),O=S,E=function(A){Object(d.c)(R,A);function R(){return A!==null&&A.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var B=A.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},B),{type:"line"})},R.prototype.getGridPath=function(B){var p=[];return Object(o.j)(B,function(G,W){W===0?p.push(["M",G.x,G.y]):p.push(["L",G.x,G.y])}),p},R}(D),I=E},hMip:function(wt,P,i){"use strict";i.d(P,"a",function(){return M});var d=i("bsNZ");function o(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function b(D,C){return o(D)*o(C)?(D[0]*C[0]+D[1]*C[1])/(o(D)*o(C)):1}function x(D,C){return(D[0]*C[1]<D[1]*C[0]?-1:1)*Math.acos(b(D,C))}function M(D,C){var S=C[1],O=C[2],E=Object(d.m)(Object(d.o)(C[3]),Math.PI*2),I=C[4],A=C[5],R=D[0],B=D[1],p=C[6],G=C[7],W=Math.cos(E)*(R-p)/2+Math.sin(E)*(B-G)/2,z=-1*Math.sin(E)*(R-p)/2+Math.cos(E)*(B-G)/2,N=W*W/(S*S)+z*z/(O*O);N>1&&(S*=Math.sqrt(N),O*=Math.sqrt(N));var j=S*S*(z*z)+O*O*(W*W),F=j?Math.sqrt((S*S*(O*O)-j)/j):1;I===A&&(F*=-1),isNaN(F)&&(F=0);var k=O?F*S*z/O:0,$=S?F*-O*W/S:0,nt=(R+p)/2+Math.cos(E)*k-Math.sin(E)*$,st=(B+G)/2+Math.sin(E)*k+Math.cos(E)*$,rt=[(W-k)/S,(z-$)/O],Q=[(-1*W-k)/S,(-1*z-$)/O],Y=x([1,0],rt),K=x(rt,Q);return b(rt,Q)<=-1&&(K=Math.PI),b(rt,Q)>=1&&(K=0),A===0&&K>0&&(K=K-2*Math.PI),A===1&&K<0&&(K=K+2*Math.PI),{cx:nt,cy:st,rx:Object(d.j)(D,[p,G])?0:S,ry:Object(d.j)(D,[p,G])?0:O,startAngle:Y,endAngle:Y+K,xRotation:E,arcFlag:I,sweepFlag:A}}},hQli:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.removeSensor=P.getSensor=void 0;var d=x(i("NNdr")),o=i("A2sQ"),b=i("MPYE");function x(S){return S&&S.__esModule?S:{default:S}}var M={},D=function(O){var E=O.getAttribute(b.SizeSensorId);if(E&&M[E])return M[E];var I=(0,d.default)();O.setAttribute(b.SizeSensorId,I);var A=(0,o.createSensor)(O);return M[I]=A,A};P.getSensor=D;var C=function(O){var E=O.element.getAttribute(b.SizeSensorId);O.element.removeAttribute(b.SizeSensorId),O.destroy(),E&&M[E]&&delete M[E]};P.removeSensor=C},hppO:function(wt,P,i){"use strict";var d=i("XSdR"),o=i("43gi").Graph;wt.exports={addDummyNode:b,simplify:x,asNonCompoundGraph:M,successorWeights:D,predecessorWeights:C,intersectRect:S,buildLayerMatrix:O,normalizeRanks:E,removeEmptyRanks:I,addBorderNode:A,maxRank:R,partition:B,time:p,notime:G};function b(W,z,N,j){var F;do F=d.uniqueId(j);while(W.hasNode(F));return N.dummy=z,W.setNode(F,N),F}function x(W){var z=new o().setGraph(W.graph());return d.forEach(W.nodes(),function(N){z.setNode(N,W.node(N))}),d.forEach(W.edges(),function(N){var j=z.edge(N.v,N.w)||{weight:0,minlen:1},F=W.edge(N);z.setEdge(N.v,N.w,{weight:j.weight+F.weight,minlen:Math.max(j.minlen,F.minlen)})}),z}function M(W){var z=new o({multigraph:W.isMultigraph()}).setGraph(W.graph());return d.forEach(W.nodes(),function(N){W.children(N).length||z.setNode(N,W.node(N))}),d.forEach(W.edges(),function(N){z.setEdge(N,W.edge(N))}),z}function D(W){var z=d.map(W.nodes(),function(N){var j={};return d.forEach(W.outEdges(N),function(F){j[F.w]=(j[F.w]||0)+W.edge(F).weight}),j});return d.zipObject(W.nodes(),z)}function C(W){var z=d.map(W.nodes(),function(N){var j={};return d.forEach(W.inEdges(N),function(F){j[F.v]=(j[F.v]||0)+W.edge(F).weight}),j});return d.zipObject(W.nodes(),z)}function S(W,z){var N=W.x,j=W.y,F=z.x-N,k=z.y-j,$=W.width/2,nt=W.height/2;if(!F&&!k)throw new Error("Not possible to find intersection inside of the rectangle");var st,rt;return Math.abs(k)*$>Math.abs(F)*nt?(k<0&&(nt=-nt),st=nt*F/k,rt=nt):(F<0&&($=-$),st=$,rt=$*k/F),{x:N+st,y:j+rt}}function O(W){var z=d.map(d.range(R(W)+1),function(){return[]});return d.forEach(W.nodes(),function(N){var j=W.node(N),F=j.rank;d.isUndefined(F)||(z[F][j.order]=N)}),z}function E(W){var z=d.min(d.map(W.nodes(),function(N){return W.node(N).rank}));d.forEach(W.nodes(),function(N){var j=W.node(N);d.has(j,"rank")&&(j.rank-=z)})}function I(W){var z=d.min(d.map(W.nodes(),function(k){return W.node(k).rank})),N=[];d.forEach(W.nodes(),function(k){var $=W.node(k).rank-z;N[$]||(N[$]=[]),N[$].push(k)});var j=0,F=W.graph().nodeRankFactor;d.forEach(N,function(k,$){d.isUndefined(k)&&$%F!=0?--j:j&&d.forEach(k,function(nt){W.node(nt).rank+=j})})}function A(W,z,N,j){var F={width:0,height:0};return arguments.length>=4&&(F.rank=N,F.order=j),b(W,"border",F,z)}function R(W){return d.max(d.map(W.nodes(),function(z){var N=W.node(z).rank;if(!d.isUndefined(N))return N}))}function B(W,z){var N={lhs:[],rhs:[]};return d.forEach(W,function(j){z(j)?N.lhs.push(j):N.rhs.push(j)}),N}function p(W,z){var N=d.now();try{return z()}finally{console.log(W+" time: "+(d.now()-N)+"ms")}}function G(W,z){return z()}},hxUM:function(wt,P,i){"use strict";i.d(P,"a",function(){return V});var d=i("J+IK"),o=i("jg4I"),b=i("Gc/9"),x=i("Cw9K"),M=i("piQC"),D=i("AOO/"),C="x",S="y",O="name",E="nodes",I="edges",A=i("ZXD1");function R(ot){return ot.target.depth}function B(ot){return ot.depth}function p(ot,tt){return tt-1-ot.height}function G(ot,tt){return ot.sourceLinks.length?ot.depth:tt-1}function W(ot){return ot.targetLinks.length?ot.depth:ot.sourceLinks.length?Object(o.ab)(ot.sourceLinks,R)-1:0}function z(ot){return function(){return ot}}function N(ot,tt){for(var yt=0,Pt=0;Pt<ot.length;Pt++)yt+=tt(ot[Pt]);return yt}function j(ot,tt){for(var yt=-Infinity,Pt=0;Pt<ot.length;Pt++)yt=Math.max(tt(ot[Pt]),yt);return yt}function F(ot,tt){for(var yt=Infinity,Pt=0;Pt<ot.length;Pt++)yt=Math.min(tt(ot[Pt]),yt);return yt}function k(ot,tt){return nt(ot.source,tt.source)||ot.index-tt.index}function $(ot,tt){return nt(ot.target,tt.target)||ot.index-tt.index}function nt(ot,tt){return ot.y0-tt.y0}function st(ot){return ot.value}function rt(ot){return ot.index}function Q(ot){return ot.nodes}function Y(ot){return ot.links}function K(ot,tt){var yt=ot.get(tt);if(!yt)throw new Error("missing: "+tt);return yt}function et(ot){for(var tt=ot.nodes,yt=0,Pt=tt;yt<Pt.length;yt++){for(var Ft=Pt[yt],Wt=Ft.y0,Vt=Wt,Lt=0,Ct=Ft.sourceLinks;Lt<Ct.length;Lt++){var _=Ct[Lt];_.y0=Wt+_.width/2,Wt+=_.width}for(var It=0,Rt=Ft.targetLinks;It<Rt.length;It++){var _=Rt[It];_.y1=Vt+_.width/2,Vt+=_.width}}}function ut(){var ot=0,tt=0,yt=1,Pt=1,Ft=24,Wt=8,Vt,Lt=rt,Ct=G,_,It,Rt,xt=Q,Nt=Y,Ht=6;function jt(We){var Ye={nodes:xt(We),links:Nt(We)};return Ut(Ye),Jt(Ye),se(Ye),me(Ye),Ge(Ye),et(Ye),Ye}jt.update=function(We){return et(We),We},jt.nodeId=function(We){return arguments.length?(Lt=typeof We=="function"?We:z(We),jt):Lt},jt.nodeAlign=function(We){return arguments.length?(Ct=typeof We=="function"?We:z(We),jt):Ct},jt.nodeDepth=function(We){return arguments.length?(_=(typeof We=="function",We),jt):_},jt.nodeSort=function(We){return arguments.length?(It=We,jt):It},jt.nodeWidth=function(We){return arguments.length?(Ft=+We,jt):Ft},jt.nodePadding=function(We){return arguments.length?(Wt=Vt=+We,jt):Wt},jt.nodes=function(We){return arguments.length?(xt=typeof We=="function"?We:z(We),jt):xt},jt.links=function(We){return arguments.length?(Nt=typeof We=="function"?We:z(We),jt):Nt},jt.linkSort=function(We){return arguments.length?(Rt=We,jt):Rt},jt.size=function(We){return arguments.length?(ot=tt=0,yt=+We[0],Pt=+We[1],jt):[yt-ot,Pt-tt]},jt.extent=function(We){return arguments.length?(ot=+We[0][0],yt=+We[1][0],tt=+We[0][1],Pt=+We[1][1],jt):[[ot,tt],[yt,Pt]]},jt.iterations=function(We){return arguments.length?(Ht=+We,jt):Ht};function Ut(We){var Ye=We.nodes,Gr=We.links;Ye.forEach(function(ea,Aa){ea.index=Aa,ea.sourceLinks=[],ea.targetLinks=[]});var Jr=new Map(Ye.map(function(ea){return[Lt(ea),ea]}));if(Gr.forEach(function(ea,Aa){ea.index=Aa;var Fa=ea.source,Yn=ea.target;typeof Fa!="object"&&(Fa=ea.source=K(Jr,Fa)),typeof Yn!="object"&&(Yn=ea.target=K(Jr,Yn)),Fa.sourceLinks.push(ea),Yn.targetLinks.push(ea)}),Rt!=null)for(var _r=0,bn=Ye;_r<bn.length;_r++){var ta=bn[_r],aa=ta.sourceLinks,wn=ta.targetLinks;aa.sort(Rt),wn.sort(Rt)}}function Jt(We){for(var Ye=We.nodes,Gr=0,Jr=Ye;Gr<Jr.length;Gr++){var _r=Jr[Gr];_r.value=_r.fixedValue===void 0?Math.max(N(_r.sourceLinks,st),N(_r.targetLinks,st)):_r.fixedValue}}function se(We){for(var Ye=We.nodes,Gr=Ye.length,Jr=new Set(Ye),_r=new Set,bn=0;Jr.size;){if(Jr.forEach(function(ea){ea.depth=bn;for(var Aa=0,Fa=ea.sourceLinks;Aa<Fa.length;Aa++){var Yn=Fa[Aa].target;_r.add(Yn)}}),++bn>Gr)throw new Error("circular link");Jr=_r,_r=new Set}if(_)for(var ta=Math.max(j(Ye,function(ea){return ea.depth})+1,0),aa=void 0,wn=0;wn<Ye.length;wn++)aa=Ye[wn],aa.depth=_.call(null,aa,ta)}function me(We){for(var Ye=We.nodes,Gr=Ye.length,Jr=new Set(Ye),_r=new Set,bn=0;Jr.size;){if(Jr.forEach(function(ta){ta.height=bn;for(var aa=0,wn=ta.targetLinks;aa<wn.length;aa++){var ea=wn[aa].source;_r.add(ea)}}),++bn>Gr)throw new Error("circular link");Jr=_r,_r=new Set}}function Me(We){for(var Ye=We.nodes,Gr=Math.max(j(Ye,function(Yn){return Yn.depth})+1,0),Jr=(yt-ot-Ft)/(Gr-1),_r=new Array(Gr).fill(0).map(function(){return[]}),bn=0,ta=Ye;bn<ta.length;bn++){var aa=ta[bn],wn=Math.max(0,Math.min(Gr-1,Math.floor(Ct.call(null,aa,Gr))));aa.layer=wn,aa.x0=ot+wn*Jr,aa.x1=aa.x0+Ft,_r[wn]?_r[wn].push(aa):_r[wn]=[aa]}if(It)for(var ea=0,Aa=_r;ea<Aa.length;ea++){var Fa=Aa[ea];Fa.sort(It)}return _r}function Pe(We){for(var Ye=F(We,function(Ti){return(Pt-tt-(Ti.length-1)*Vt)/N(Ti,st)}),Gr=0,Jr=We;Gr<Jr.length;Gr++){for(var _r=Jr[Gr],bn=tt,ta=0,aa=_r;ta<aa.length;ta++){var wn=aa[ta];wn.y0=bn,wn.y1=bn+wn.value*Ye,bn=wn.y1+Vt;for(var ea=0,Aa=wn.sourceLinks;ea<Aa.length;ea++){var Fa=Aa[ea];Fa.width=Fa.value*Ye}}bn=(Pt-bn+Vt)/(_r.length+1);for(var Yn=0;Yn<_r.length;++Yn){var wn=_r[Yn];wn.y0+=bn*(Yn+1),wn.y1+=bn*(Yn+1)}Mr(_r)}}function Ge(We){var Ye=Me(We);Vt=Math.min(Wt,(Pt-tt)/(j(Ye,function(bn){return bn.length})-1)),Pe(Ye);for(var Gr=0;Gr<Ht;++Gr){var Jr=Math.pow(.99,Gr),_r=Math.max(1-Jr,(Gr+1)/Ht);gr(Ye,Jr,_r),nr(Ye,Jr,_r)}}function nr(We,Ye,Gr){for(var Jr=1,_r=We.length;Jr<_r;++Jr){for(var bn=We[Jr],ta=0,aa=bn;ta<aa.length;ta++){for(var wn=aa[ta],ea=0,Aa=0,Fa=0,Yn=wn.targetLinks;Fa<Yn.length;Fa++){var Ti=Yn[Fa],Gi=Ti.source,Qi=Ti.value,Xi=Qi*(wn.layer-Gi.layer);ea+=vn(Gi,wn)*Xi,Aa+=Xi}if(Aa>0){var Ii=(ea/Aa-wn.y0)*Ye;wn.y0+=Ii,wn.y1+=Ii,Nr(wn)}}It===void 0&&bn.sort(nt),bn.length&&or(bn,Gr)}}function gr(We,Ye,Gr){for(var Jr=We.length,_r=Jr-2;_r>=0;--_r){for(var bn=We[_r],ta=0,aa=bn;ta<aa.length;ta++){for(var wn=aa[ta],ea=0,Aa=0,Fa=0,Yn=wn.sourceLinks;Fa<Yn.length;Fa++){var Ti=Yn[Fa],Gi=Ti.target,Qi=Ti.value,Xi=Qi*(Gi.layer-wn.layer);ea+=Ln(wn,Gi)*Xi,Aa+=Xi}if(Aa>0){var Ii=(ea/Aa-wn.y0)*Ye;wn.y0+=Ii,wn.y1+=Ii,Nr(wn)}}It===void 0&&bn.sort(nt),bn.length&&or(bn,Gr)}}function or(We,Ye){var Gr=We.length>>1,Jr=We[Gr];mr(We,Jr.y0-Vt,Gr-1,Ye),Ze(We,Jr.y1+Vt,Gr+1,Ye),mr(We,Pt,We.length-1,Ye),Ze(We,tt,0,Ye)}function Ze(We,Ye,Gr,Jr){for(;Gr<We.length;++Gr){var _r=We[Gr],bn=(Ye-_r.y0)*Jr;bn>1e-6&&(_r.y0+=bn,_r.y1+=bn),Ye=_r.y1+Vt}}function mr(We,Ye,Gr,Jr){for(;Gr>=0;--Gr){var _r=We[Gr],bn=(_r.y1-Ye)*Jr;bn>1e-6&&(_r.y0-=bn,_r.y1-=bn),Ye=_r.y0-Vt}}function Nr(We){var Ye=We.sourceLinks,Gr=We.targetLinks;if(Rt===void 0){for(var Jr=0,_r=Gr;Jr<_r.length;Jr++){var bn=_r[Jr].source.sourceLinks;bn.sort($)}for(var ta=0,aa=Ye;ta<aa.length;ta++){var wn=aa[ta].target.targetLinks;wn.sort(k)}}}function Mr(We){if(Rt===void 0)for(var Ye=0,Gr=We;Ye<Gr.length;Ye++){var Jr=Gr[Ye],_r=Jr.sourceLinks,bn=Jr.targetLinks;_r.sort($),bn.sort(k)}}function vn(We,Ye){for(var Gr=We.y0-(We.sourceLinks.length-1)*Vt/2,Jr=0,_r=We.sourceLinks;Jr<_r.length;Jr++){var bn=_r[Jr],ta=bn.target,aa=bn.width;if(ta===Ye)break;Gr+=aa+Vt}for(var wn=0,ea=Ye.targetLinks;wn<ea.length;wn++){var Aa=ea[wn],ta=Aa.source,aa=Aa.width;if(ta===We)break;Gr-=aa}return Gr}function Ln(We,Ye){for(var Gr=Ye.y0-(Ye.targetLinks.length-1)*Vt/2,Jr=0,_r=Ye.targetLinks;Jr<_r.length;Jr++){var bn=_r[Jr],ta=bn.source,aa=bn.width;if(ta===We)break;Gr+=aa+Vt}for(var wn=0,ea=We.sourceLinks;wn<ea.length;wn++){var Aa=ea[wn],ta=Aa.target,aa=Aa.width;if(ta===Ye)break;Gr-=aa}return Gr}return jt}var dt={left:B,right:p,center:W,justify:G},vt={nodeId:function(tt){return tt.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function at(ot){var tt=Object(o.O)(ot)?dt[ot]:Object(o.H)(ot)?ot:null;return tt||G}function pt(ot){return Object(o.b)({},vt,ot)}function Tt(ot,tt){var yt=pt(ot),Pt=yt.nodeId,Ft=yt.nodeSort,Wt=yt.nodeAlign,Vt=yt.nodeWidth,Lt=yt.nodePadding,Ct=yt.nodeDepth,_=ut().nodeSort(Ft).nodeWidth(Vt).nodePadding(Lt).nodeDepth(Ct).nodeAlign(at(Wt)).extent([[0,0],[1,1]]).nodeId(Pt),It=_(tt);return It.nodes.forEach(function(Rt){var xt=Rt.x0,Nt=Rt.x1,Ht=Rt.y0,jt=Rt.y1;Rt.x=[xt,Nt,Nt,xt],Rt.y=[Ht,Ht,jt,jt]}),It.links.forEach(function(Rt){var xt=Rt.source,Nt=Rt.target,Ht=xt.x1,jt=Nt.x0;Rt.x=[Ht,Ht,jt,jt];var Ut=Rt.width/2;Rt.y=[Rt.y0+Ut,Rt.y0-Ut,Rt.y1+Ut,Rt.y1-Ut]}),It}function Gt(ot,tt,yt){return Object(o.jb)(tt)===0?!1:tt.includes(yt)?!0:tt.some(function(Pt){return Gt(ot,ot.get(Pt),yt)})}function Kt(ot,tt,yt){var Pt=[],Ft=[],Wt=new Map;return Object(o.j)(ot,function(Vt){var Lt=Vt[tt],Ct=Vt[yt];Gt(Wt,[Lt],Ct)?Ft.push(Vt):(Pt.push(Vt),Wt.has(Ct)||Wt.set(Ct,[]),Wt.get(Ct).push(Lt))}),Ft.length!==0&&console.warn("sankey data contains circle, "+Ft.length+" records removed.",Ft),Pt}function Xt(ot,tt,yt){return Object(x.m)(ot)?ot/yt:tt}function gt(ot,tt,yt){return Object(x.m)(ot)?ot/yt:tt}function lt(ot,tt,yt){var Pt=ot.data,Ft=ot.sourceField,Wt=ot.targetField,Vt=ot.weightField,Lt=ot.nodeAlign,Ct=ot.nodeSort,_=ot.nodePadding,It=ot.nodePaddingRatio,Rt=ot.nodeWidth,xt=ot.nodeWidthRatio,Nt=ot.nodeDepth,Ht=ot.rawFields,jt=Ht===void 0?[]:Ht,Ut=Object(A.c)(Kt(Pt,Ft,Wt),Ft,Wt,Vt,jt),Jt=Tt({nodeAlign:Lt,nodePadding:gt(_,It,yt),nodeWidth:Xt(Rt,xt,tt),nodeSort:Ct,nodeDepth:Nt},Ut),se=Jt.nodes,me=Jt.links;return{nodes:se.map(function(Me){return Object(d.a)(Object(d.a)({},Object(x.q)(Me,Object(d.g)(["x","y","name"],jt))),{isNode:!0})}),edges:me.map(function(Me){return Object(d.a)(Object(d.a)({source:Me.source.name,target:Me.target.name,name:Me.source.name||Me.target.name},Object(x.q)(Me,Object(d.g)(["x","y","value"],jt))),{isNode:!1})})}}function ft(ot){var tt=ot.chart,yt=ot.options,Pt=yt.color,Ft=yt.nodeStyle,Wt=yt.edgeStyle,Vt=yt.label,Lt=yt.tooltip;tt.legend(!1),tt.tooltip(Lt),tt.axis(!1),tt.coordinate().reflect("y");var Ct=lt(yt,tt.width,tt.height),_=Ct.nodes,It=Ct.edges,Rt=tt.createView({id:I});Rt.data(It),Object(D.b)({chart:Rt,options:{xField:C,yField:S,seriesField:O,edge:{color:Pt,style:Wt,shape:"arc"},tooltip:Lt,state:{active:{style:{opacity:.8,lineWidth:0}}}}});var xt=tt.createView({id:E});return xt.data(_),Object(D.f)({chart:xt,options:{xField:C,yField:S,seriesField:O,polygon:{color:Pt,style:Ft},label:Vt,tooltip:Lt}}),tt.interaction("element-active"),tt.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),ot}function it(ot){var tt=ot.chart,yt=ot.options,Pt=yt.animation;typeof Pt=="boolean"?tt.animate(Pt):tt.animate(!0);var Ft=Object(d.g)(tt.views[0].geometries,tt.views[1].geometries);return Ft.forEach(function(Wt){Wt.animate(Pt)}),ot}function bt(ot){var tt=ot.chart,yt=ot.options,Pt=yt.nodeDraggable,Ft="sankey-node-draggable";return Pt?tt.interaction(Ft):tt.removeInteraction(Ft),ot}function Dt(ot){return Object(x.e)(ft,M.c,bt,it,M.j)(ot)}var Mt=i("18og"),q=function(ot){Object(d.c)(tt,ot);function tt(){var yt=ot!==null&&ot.apply(this,arguments)||this;return yt.isDragging=!1,yt}return tt.prototype.isNodeElement=function(){var yt=Object(o.s)(this.context,"event.target");if(yt){var Pt=yt.get("element");return Pt&&Pt.getModel().data.isNode}return!1},tt.prototype.getNodeView=function(){return Object(x.d)(this.context.view,E)},tt.prototype.getEdgeView=function(){return Object(x.d)(this.context.view,I)},tt.prototype.getCurrentDatumIdx=function(yt){return this.getNodeView().geometries[0].elements.indexOf(yt)},tt.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:Object(o.s)(this.context,"event.x"),y:Object(o.s)(this.context,"event.y")};var yt=this.context.event.target.get("element"),Pt=this.getCurrentDatumIdx(yt);if(Pt===-1)return;this.currentElementIdx=Pt,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},tt.prototype.translate=function(){if(this.isDragging){var yt=this.context.view,Pt={x:Object(o.s)(this.context,"event.x"),y:Object(o.s)(this.context,"event.y")},Ft=Pt.x-this.prevPoint.x,Wt=Pt.y-this.prevPoint.y,Vt=this.getNodeView(),Lt=Vt.geometries[0].elements[this.currentElementIdx];if(Lt&&Lt.getModel()){var Ct=Lt.getModel().data,_=Vt.getOptions().data,It=Vt.getCoordinate(),Rt={x:Ft/It.getWidth(),y:Wt/It.getHeight()},xt=Object(d.a)(Object(d.a)({},Ct),{x:Ct.x.map(function(Jt){return Jt+=Rt.x}),y:Ct.y.map(function(Jt){return Jt+=Rt.y})}),Nt=Object(d.g)(_);Nt[this.currentElementIdx]=xt,Vt.data(Nt);var Ht=Ct.name,jt=this.getEdgeView(),Ut=jt.getOptions().data;Ut.forEach(function(Jt){Jt.source===Ht&&(Jt.x[0]+=Rt.x,Jt.x[1]+=Rt.x,Jt.y[0]+=Rt.y,Jt.y[1]+=Rt.y),Jt.target===Ht&&(Jt.x[2]+=Rt.x,Jt.x[3]+=Rt.x,Jt.y[2]+=Rt.y,Jt.y[3]+=Rt.y)}),jt.data(Ut),this.prevPoint=Pt,yt.render(!0)}}},tt.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},tt}(Mt.Action);Object(Mt.registerAction)("sankey-node-drag",q),Object(Mt.registerInteraction)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(tt){return tt.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var V=function(ot){Object(d.c)(tt,ot);function tt(){var yt=ot!==null&&ot.apply(this,arguments)||this;return yt.type="sankey",yt}return tt.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(Pt,Ft){var Wt=Pt[1]===1;return{style:{fill:"#545454",textAlign:Wt?"end":"start"},offsetX:Wt?-8:8,content:Ft}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,fields:["name","source","target","value","isNode"],showContent:function(Pt){return!Object(o.s)(Pt,[0,"data","isNode"])},formatter:function(Pt){var Ft=Pt.source,Wt=Pt.target,Vt=Pt.value;return{name:Ft+" -> "+Wt,value:Vt}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},tt.prototype.changeData=function(yt){this.updateOption({data:yt});var Pt=lt(this.options,this.chart.width,this.chart.height),Ft=Pt.nodes,Wt=Pt.edges,Vt=Object(x.d)(this.chart,E),Lt=Object(x.d)(this.chart,I);Vt.changeData(Ft),Lt.changeData(Wt)},tt.prototype.getSchemaAdaptor=function(){return Dt},tt.prototype.getDefaultOptions=function(){return tt.getDefaultOptions()},tt}(b.b)},i1Q6:function(wt,P){function i(d,o){return d>o}wt.exports=i},iUtP:function(wt,P){wt.exports=i;function i(d,o,b){var x=Math.cos(b),M=Math.sin(b),D=o[0],C=o[1];return d[0]=D*x-C*M,d[1]=D*M+C*x,d}},iqCt:function(wt,P,i){"use strict";i.d(P,"a",function(){return b});var d=i("jg4I"),o=i("6AqY");function b(x){var M=Object(d.c)(Object(o.b)(x)?x:0,0,1);return[{type:"current",percent:M},{type:"target",percent:1-M}]}},iuKI:function(wt,P,i){wt.exports={components:i("AaeU"),dijkstra:i("DhYH"),dijkstraAll:i("e5xd"),findCycles:i("I7m4"),floydWarshall:i("Xure"),isAcyclic:i("P+oc"),postorder:i("qvXp"),preorder:i("DC1X"),prim:i("0aAk"),tarjan:i("EEYS"),topsort:i("3MnI")}},jCkg:function(wt,P,i){wt.exports=i("/Ykl")},jFP1:function(wt,P){wt.exports=i;function i(){var d=new Float32Array(2);return d[0]=0,d[1]=0,d}},jFyH:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("jg4I"),b=i("JGup"),x=i("xdm5"),M=i("L+OQ"),D=i("QwgH"),C="update_status",S=["visible","tip","delegateObject"],O=["container","group","shapesMap","isRegister","isUpdating","destroyed"],E=function(I){Object(d.c)(A,I);function A(){return I!==null&&I.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var R=I.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},R),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},A.prototype.remove=function(){this.clear();var R=this.get("group");R.remove()},A.prototype.clear=function(){var R=this.get("group");R.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},A.prototype.getChildComponentById=function(R){var B=this.getElementById(R),p=B&&B.get("component");return p},A.prototype.getElementById=function(R){return this.get("shapesMap")[R]},A.prototype.getElementByLocalId=function(R){var B=this.getElementId(R);return this.getElementById(B)},A.prototype.getElementsByName=function(R){var B=[];return Object(o.j)(this.get("shapesMap"),function(p){p.get("name")===R&&B.push(p)}),B},A.prototype.getContainer=function(){return this.get("container")},A.prototype.updateInner=function(R){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},A.prototype.render=function(){var R=this.get("offScreenGroup");R||(R=this.offScreenRender());var B=this.get("group");this.updateElements(R,B),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},A.prototype.show=function(){var R=this.get("group");R.show(),this.set("visible",!0)},A.prototype.hide=function(){var R=this.get("group");R.hide(),this.set("visible",!1)},A.prototype.setCapture=function(R){var B=this.get("group");B.set("capture",R),this.set("capture",R)},A.prototype.destroy=function(){this.removeEvent(),this.remove(),I.prototype.destroy.call(this)},A.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},A.prototype.getLayoutBBox=function(){var R=this.get("group"),B=this.getInnerLayoutBBox(),p=R.getTotalMatrix();return p&&(B=Object(x.a)(p,B)),B},A.prototype.on=function(R,B,p){var G=this.get("group");return G.on(R,B,p),this},A.prototype.off=function(R,B){var p=this.get("group");return p&&p.off(R,B),this},A.prototype.emit=function(R,B){var p=this.get("group");p.emit(R,B)},A.prototype.init=function(){I.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},A.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},A.prototype.delegateEmit=function(R,B){var p=this.get("group");B.target=p,p.emit(R,B),Object(b.a)(p,R,B)},A.prototype.createOffScreenGroup=function(){var R=this.get("group"),B=R.getGroupBase(),p=new B({delegateObject:this.getDelegateObject()});return p},A.prototype.applyOffset=function(){var R=this.get("offsetX"),B=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R,y:B})},A.prototype.initGroup=function(){var R=this.get("container");this.set("group",R.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},A.prototype.offScreenRender=function(){this.clearOffScreenCache();var R=this.createOffScreenGroup();return this.renderInner(R),this.set("offScreenGroup",R),this.set("offScreenBBox",Object(M.d)(R)),R},A.prototype.addGroup=function(R,B){this.appendDelegateObject(R,B);var p=R.addGroup(B);return this.get("isRegister")&&this.registerElement(p),p},A.prototype.addShape=function(R,B){this.appendDelegateObject(R,B);var p=R.addShape(B);return this.get("isRegister")&&this.registerElement(p),p},A.prototype.addComponent=function(R,B){var p=B.id,G=B.component,W=Object(d.e)(B,["id","component"]),z=new G(Object(d.a)(Object(d.a)({},W),{id:p,container:R,updateAutoRender:this.get("updateAutoRender")}));return z.init(),z.render(),this.get("isRegister")&&this.registerElement(z.get("group")),z},A.prototype.initEvent=function(){},A.prototype.removeEvent=function(){var R=this.get("group");R.off()},A.prototype.getElementId=function(R){var B=this.get("id"),p=this.get("name");return B+"-"+p+"-"+R},A.prototype.registerElement=function(R){var B=R.get("id");this.get("shapesMap")[B]=R},A.prototype.unregisterElement=function(R){var B=R.get("id");delete this.get("shapesMap")[B]},A.prototype.moveElementTo=function(R,B){var p=Object(x.f)(B);R.attr("matrix",p)},A.prototype.addAnimation=function(R,B,p){var G=B.attr("opacity");Object(o.I)(G)&&(G=1),B.attr("opacity",0),B.animate({opacity:G},p)},A.prototype.removeAnimation=function(R,B,p){B.animate({opacity:0},p)},A.prototype.updateAnimation=function(R,B,p,G){B.animate(p,G)},A.prototype.updateElements=function(R,B){var p=this,G=this.get("animate"),W=this.get("animateOption"),z=R.getChildren().slice(0),N;Object(o.j)(z,function(j){var F=j.get("id"),k=p.getElementById(F),$=j.get("name");if(k)if(j.get("isComponent")){var nt=j.get("component"),st=k.get("component"),rt=Object(o.eb)(nt.cfg,Object(o.i)(Object(o.R)(nt.cfg),O));st.update(rt),k.set(C,"update")}else{var Q=p.getReplaceAttrs(k,j);G&&W.update?p.updateAnimation($,k,Q,W.update):k.attr(Q),j.isGroup()&&p.updateElements(j,k),Object(o.j)(S,function(ut){k.set(ut,j.get(ut))}),Object(M.m)(k,j),N=k,k.set(C,"update")}else{B.add(j);var Y=B.getChildren();if(Y.splice(Y.length-1,1),N){var K=Y.indexOf(N);Y.splice(K+1,0,j)}else Y.unshift(j);if(p.registerElement(j),j.set(C,"add"),j.get("isComponent")){var nt=j.get("component");nt.set("container",B)}else j.isGroup()&&p.registerNewGroup(j);if(N=j,G){var et=p.get("isInit")?W.appear:W.enter;et&&p.addAnimation($,j,et)}}})},A.prototype.clearUpdateStatus=function(R){var B=R.getChildren();Object(o.j)(B,function(p){p.set(C,null)})},A.prototype.clearOffScreenCache=function(){var R=this.get("offScreenGroup");R&&R.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},A.prototype.getDelegateObject=function(){var R,B=this.get("name"),p=(R={},R[B]=this,R.component=this,R);return p},A.prototype.appendDelegateObject=function(R,B){var p=R.get("delegateObject");B.delegateObject||(B.delegateObject={}),Object(o.bb)(B.delegateObject,p)},A.prototype.getReplaceAttrs=function(R,B){var p=R.attr(),G=B.attr();return Object(o.j)(p,function(W,z){G[z]===void 0&&(G[z]=void 0)}),G},A.prototype.registerNewGroup=function(R){var B=this,p=R.getChildren();Object(o.j)(p,function(G){B.registerElement(G),G.set(C,"add"),G.isGroup()&&B.registerNewGroup(G)})},A.prototype.deleteElements=function(){var R=this,B=this.get("shapesMap"),p=[];Object(o.j)(B,function(z,N){!z.get(C)||z.destroyed?p.push([N,z]):z.set(C,null)});var G=this.get("animate"),W=this.get("animateOption");Object(o.j)(p,function(z){var N=z[0],j=z[1];if(!j.destroyed){var F=j.get("name");if(G&&W.leave){var k=Object(o.bb)({callback:function(){R.removeElement(j)}},W.leave);R.removeAnimation(F,j,k)}else R.removeElement(j)}delete B[N]})},A.prototype.removeElement=function(R){if(R.get("isGroup")){var B=R.get("component");B&&B.destroy()}R.remove()},A}(D.a);P.a=E},"jHy/":function(wt,P,i){var d=i("fIi5"),o=i("KmIr");function b(x){return x==null?[]:d(x,o(x))}wt.exports=b},jg4I:function(wt,P,i){"use strict";i.d(P,"f",function(){return x}),i.d(P,"z",function(){return x}),i.d(P,"i",function(){return S}),i.d(P,"m",function(){return Y}),i.d(P,"n",function(){return et}),i.d(P,"o",function(){return dt}),i.d(P,"q",function(){return at}),i.d(P,"t",function(){return gt}),i.d(P,"fb",function(){return tt}),i.d(P,"gb",function(){return Pt}),i.d(P,"lb",function(){return Vt}),i.d(P,"rb",function(){return Lt}),i.d(P,"vb",function(){return It}),i.d(P,"y",function(){return Rt}),i.d(P,"S",function(){return xt}),i.d(P,"l",function(){return D}),i.d(P,"k",function(){return se}),i.d(P,"kb",function(){return Me}),i.d(P,"u",function(){return or}),i.d(P,"v",function(){return nr}),i.d(P,"w",function(){return gr}),i.d(P,"wb",function(){return Mr}),i.d(P,"c",function(){return _r}),i.d(P,"p",function(){return ta}),i.d(P,"L",function(){return ao}),i.d(P,"W",function(){return Gt}),i.d(P,"X",function(){return po}),i.d(P,"Z",function(){return Kt}),i.d(P,"ab",function(){return So}),i.d(P,"cb",function(){return $o}),i.d(P,"pb",function(){return ol}),i.d(P,"r",function(){return Is}),i.d(P,"x",function(){return ms}),i.d(P,"R",function(){return j}),i.d(P,"ub",function(){return ua}),i.d(P,"T",function(){return Ps}),i.d(P,"mb",function(){return ze}),i.d(P,"tb",function(){return sn}),i.d(P,"B",function(){return p}),i.d(P,"C",function(){return si}),i.d(P,"D",function(){return oo}),i.d(P,"H",function(){return A}),i.d(P,"I",function(){return B}),i.d(P,"J",function(){return qn}),i.d(P,"K",function(){return wn}),i.d(P,"M",function(){return G}),i.d(P,"N",function(){return rt}),i.d(P,"O",function(){return Ft}),i.d(P,"P",function(){return I}),i.d(P,"Q",function(){return us}),i.d(P,"E",function(){return gi}),i.d(P,"hb",function(){return ul}),i.d(P,"d",function(){return qi}),i.d(P,"e",function(){return Vs}),i.d(P,"g",function(){return bs}),i.d(P,"Y",function(){return Ls}),i.d(P,"h",function(){return Qt}),i.d(P,"j",function(){return z}),i.d(P,"A",function(){return Le}),i.d(P,"F",function(){return $e}),i.d(P,"G",function(){return Tr}),i.d(P,"U",function(){return $r}),i.d(P,"V",function(){return Pr}),i.d(P,"bb",function(){return _o}),i.d(P,"b",function(){return _o}),i.d(P,"s",function(){return Dn}),i.d(P,"ib",function(){return xa}),i.d(P,"eb",function(){return Jn}),i.d(P,"nb",function(){return ia}),i.d(P,"ob",function(){return ba}),i.d(P,"qb",function(){return Wo}),i.d(P,"sb",function(){return li}),i.d(P,"db",function(){return Pa}),i.d(P,"jb",function(){return $a}),i.d(P,"a",function(){return da});var d=function(ue){return ue!==null&&typeof ue!="function"&&isFinite(ue.length)},o=d,b=function(ue,we){return o(ue)?ue.indexOf(we)>-1:!1},x=b,M=function(ue,we){if(!o(ue))return ue;for(var ke=[],xr=0;xr<ue.length;xr++){var Hr=ue[xr];we(Hr,xr)&&ke.push(Hr)}return ke},D=M,C=function(ue,we){return we===void 0&&(we=[]),D(ue,function(ke){return!x(we,ke)})},S=C,O={}.toString,E=function(ue,we){return O.call(ue)==="[object "+we+"]"},I=E,A=function(Ce){return I(Ce,"Function")},R=function(ue){return ue==null},B=R,p=function(Ce){return Array.isArray?Array.isArray(Ce):I(Ce,"Array")},G=function(Ce){var ue=typeof Ce;return Ce!==null&&ue==="object"||ue==="function"};function W(Ce,ue){if(!!Ce){var we;if(p(Ce))for(var ke=0,xr=Ce.length;ke<xr&&(we=ue(Ce[ke],ke),we!==!1);ke++);else if(G(Ce)){for(var Hr in Ce)if(Ce.hasOwnProperty(Hr)&&(we=ue(Ce[Hr],Hr),we===!1))break}}}var z=W,N=Object.keys?function(Ce){return Object.keys(Ce)}:function(Ce){var ue=[];return z(Ce,function(we,ke){A(Ce)&&ke==="prototype"||ue.push(ke)}),ue},j=N;function F(Ce,ue){var we=j(ue),ke=we.length;if(B(Ce))return!ke;for(var xr=0;xr<ke;xr+=1){var Hr=we[xr];if(ue[Hr]!==Ce[Hr]||!(Hr in Ce))return!1}return!0}var k=F,$=function(ue){return typeof ue=="object"&&ue!==null},nt=$,st=function(ue){if(!nt(ue)||!I(ue,"Object"))return!1;if(Object.getPrototypeOf(ue)===null)return!0;for(var we=ue;Object.getPrototypeOf(we)!==null;)we=Object.getPrototypeOf(we);return Object.getPrototypeOf(ue)===we},rt=st;function Q(Ce,ue){if(!p(Ce))return null;var we;if(A(ue)&&(we=ue),rt(ue)&&(we=function(Hr){return k(Hr,ue)}),we){for(var ke=0;ke<Ce.length;ke+=1)if(we(Ce[ke]))return Ce[ke]}return null}var Y=Q;function K(Ce,ue,we){we===void 0&&(we=0);for(var ke=we;ke<Ce.length;ke++)if(ue(Ce[ke],ke))return ke;return-1}var et=K,ut=function(ue,we){for(var ke=null,xr=0;xr<ue.length;xr++){var Hr=ue[xr],ra=Hr[we];if(!B(ra)){p(ra)?ke=ra[0]:ke=ra;break}}return ke},dt=ut,vt=function(ue){if(!p(ue))return[];for(var we=[],ke=0;ke<ue.length;ke++)we=we.concat(ue[ke]);return we},at=vt,pt=function Ce(ue,we){if(we===void 0&&(we=[]),!p(ue))we.push(ue);else for(var ke=0;ke<ue.length;ke+=1)Ce(ue[ke],we);return we},Tt=pt,Gt=function(Ce){if(!!p(Ce))return Ce.reduce(function(ue,we){return Math.max(ue,we)},Ce[0])},Kt=function(Ce){if(!!p(Ce))return Ce.reduce(function(ue,we){return Math.min(ue,we)},Ce[0])},Xt=function(ue){var we=ue.filter(function(Xa){return!isNaN(Xa)});if(!we.length)return{min:0,max:0};if(p(ue[0])){for(var ke=[],xr=0;xr<ue.length;xr++)ke=ke.concat(ue[xr]);we=ke}var Hr=Gt(we),ra=Kt(we);return{min:ra,max:Hr}},gt=Xt,lt=Array.prototype,ft=lt.splice,it=lt.indexOf,bt=function(ue){for(var we=[],ke=1;ke<arguments.length;ke++)we[ke-1]=arguments[ke];for(var xr=0;xr<we.length;xr++)for(var Hr=we[xr],ra=-1;(ra=it.call(ue,Hr))>-1;)ft.call(ue,ra,1);return ue},Dt=bt,Mt=Array.prototype.splice,q=function(ue,we){if(!o(ue))return[];for(var ke=ue?we.length:0,xr=ke-1;ke--;){var Hr=void 0,ra=we[ke];(ke===xr||ra!==Hr)&&(Hr=ra,Mt.call(ue,ra,1))}return ue},V=q,ot=function(ue,we,ke){if(!p(ue)&&!rt(ue))return ue;var xr=ke;return z(ue,function(Hr,ra){xr=we(xr,Hr,ra)}),xr},tt=ot,yt=function(ue,we){var ke=[];if(!o(ue))return ke;for(var xr=-1,Hr=[],ra=ue.length;++xr<ra;){var Xa=ue[xr];we(Xa,xr,ue)&&(ke.push(Xa),Hr.push(xr))}return V(ue,Hr),ke},Pt=yt,Ft=function(Ce){return I(Ce,"String")};function Wt(Ce,ue){var we;if(A(ue))we=function(Hr,ra){return ue(Hr)-ue(ra)};else{var ke=[];Ft(ue)?ke.push(ue):p(ue)&&(ke=ue),we=function(Hr,ra){for(var Xa=0;Xa<ke.length;Xa+=1){var Ki=ke[Xa];if(Hr[Ki]>ra[Ki])return 1;if(Hr[Ki]<ra[Ki])return-1}return 0}}return Ce.sort(we),Ce}var Vt=Wt;function Lt(Ce,ue){ue===void 0&&(ue=new Map);var we=[];if(Array.isArray(Ce))for(var ke=0,xr=Ce.length;ke<xr;ke++){var Hr=Ce[ke];ue.has(Hr)||(we.push(Hr),ue.set(Hr,!0))}return we}var Ct=function(){for(var ue=[],we=0;we<arguments.length;we++)ue[we]=arguments[we];return Lt([].concat.apply([],ue))},_=Ct,It=function(Ce,ue){for(var we=[],ke={},xr=0;xr<Ce.length;xr++){var Hr=Ce[xr],ra=Hr[ue];if(!B(ra)){p(ra)||(ra=[ra]);for(var Xa=0;Xa<ra.length;Xa++){var Ki=ra[Xa];ke[Ki]||(we.push(Ki),ke[Ki]=!0)}}}return we};function Rt(Ce){if(o(Ce))return Ce[0]}function xt(Ce){if(o(Ce)){var ue=Ce;return ue[ue.length-1]}}function Nt(Ce,ue){return p(Ce)||Ft(Ce)?Ce[0]===ue:!1}var Ht=Nt;function jt(Ce,ue){return p(Ce)||Ft(Ce)?Ce[Ce.length-1]===ue:!1}var Ut=jt,Jt=function(ue,we){for(var ke=0;ke<ue.length;ke++)if(!we(ue[ke],ke))return!1;return!0},se=Jt,me=function(ue,we){for(var ke=0;ke<ue.length;ke++)if(we(ue[ke],ke))return!0;return!1},Me=me,Pe=Object.prototype.hasOwnProperty;function Ge(Ce,ue){if(!ue||!p(Ce))return{};for(var we={},ke=A(ue)?ue:function(Xa){return Xa[ue]},xr,Hr=0;Hr<Ce.length;Hr++){var ra=Ce[Hr];xr=ke(ra),Pe.call(we,xr)?we[xr].push(ra):we[xr]=[ra]}return we}var nr=Ge;function gr(Ce,ue){if(!ue)return{0:Ce};if(!A(ue)){var we=p(ue)?ue:ue.replace(/\s+/g,"").split("*");ue=function(xr){for(var Hr="_",ra=0,Xa=we.length;ra<Xa;ra++)Hr+=xr[we[ra]]&&xr[we[ra]].toString();return Hr}}return nr(Ce,ue)}var or=function(Ce,ue){if(!ue)return[Ce];var we=gr(Ce,ue),ke=[];for(var xr in we)ke.push(we[xr]);return ke};function Ze(Ce,ue){return Ce["_wrap_"+ue]}var mr=Ze;function Nr(Ce,ue){if(Ce["_wrap_"+ue])return Ce["_wrap_"+ue];var we=function(xr){Ce[ue](xr)};return Ce["_wrap_"+ue]=we,we}var Mr=Nr,vn={};function Ln(Ce){var ue=vn[Ce];if(!ue){for(var we=Ce.toString(16),ke=we.length;ke<6;ke++)we="0"+we;ue="#"+we,vn[Ce]=ue}return ue}var We=Ln;function Ye(Ce){var ue=0,we=0,ke=0,xr=0;return p(Ce)?Ce.length===1?ue=we=ke=xr=Ce[0]:Ce.length===2?(ue=ke=Ce[0],we=xr=Ce[1]):Ce.length===3?(ue=Ce[0],we=xr=Ce[1],ke=Ce[2]):(ue=Ce[0],we=Ce[1],ke=Ce[2],xr=Ce[3]):ue=we=ke=xr=Ce,{r1:ue,r2:we,r3:ke,r4:xr}}var Gr=Ye,Jr=function(ue,we,ke){return ue<we?we:ue>ke?ke:ue},_r=Jr,bn=function(ue,we){var ke=we.toString(),xr=ke.indexOf(".");if(xr===-1)return Math.round(ue);var Hr=ke.substr(xr+1).length;return Hr>20&&(Hr=20),parseFloat(ue.toFixed(Hr))},ta=bn,aa=function(ue){return I(ue,"Number")},wn=aa,ea=function(ue){return wn(ue)&&ue%1!=0},Aa=ea,Fa=function(ue){return wn(ue)&&ue%2==0},Yn=Fa,Ti=Number.isInteger?Number.isInteger:function(Ce){return wn(Ce)&&Ce%1==0},Gi=Ti,Qi=function(ue){return wn(ue)&&ue<0},Xi=Qi,Ii=1e-5;function ao(Ce,ue,we){return we===void 0&&(we=Ii),Math.abs(Ce-ue)<we}var Go=function(ue){return wn(ue)&&ue%2!=0},Po=Go,io=function(ue){return wn(ue)&&ue>0},Hi=io,po=function(Ce,ue){if(!!p(Ce)){var we=Ce[0],ke;A(ue)?ke=ue(Ce[0]):ke=Ce[0][ue];var xr;return z(Ce,function(Hr){A(ue)?xr=ue(Hr):xr=Hr[ue],xr>ke&&(we=Hr,ke=xr)}),we}},So=function(Ce,ue){if(!!p(Ce)){var we=Ce[0],ke;A(ue)?ke=ue(Ce[0]):ke=Ce[0][ue];var xr;return z(Ce,function(Hr){A(ue)?xr=ue(Hr):xr=Hr[ue],xr<ke&&(we=Hr,ke=xr)}),we}},Zo=function(ue,we){return(ue%we+we)%we},$o=Zo,wi=180/Math.PI,ys=function(ue){return wi*ue},Ws=ys,Uo=parseInt,Il=Math.PI/180,Ai=function(ue){return Il*ue},ol=Ai,Is=z,Ds=function(Ce,ue){return Ce.hasOwnProperty(ue)},ms=Ds,sl=Object.values?function(Ce){return Object.values(Ce)}:function(Ce){var ue=[];return z(Ce,function(we,ke){A(Ce)&&ke==="prototype"||ue.push(we)}),ue},ua=sl,ru=function(Ce,ue){return x(ua(Ce),ue)},Wo=function(Ce){return B(Ce)?"":Ce.toString()},ll=function(ue){return Wo(ue).toLowerCase()},Ps=ll,ge=function(ue){var we=Wo(ue);return we.charAt(0).toLowerCase()+we.substring(1)},oe=ge;function pe(Ce,ue){return!Ce||!ue?Ce:Ce.replace(/\\?\{([^{}]+)\}/g,function(we,ke){return we.charAt(0)==="\\"?we.slice(1):ue[ke]===void 0?"":ue[ke]})}var ze=pe,Xe=function(ue){return Wo(ue).toUpperCase()},ir=Xe,Br=function(ue){var we=Wo(ue);return we.charAt(0).toUpperCase()+we.substring(1)},sn=Br,Gn={}.toString,In=function(ue){return Gn.call(ue).replace(/^\[object /,"").replace(/]$/,"")},mn=In,Ba=function(ue){return I(ue,"Arguments")},Ga=Ba,fi=function(ue){return I(ue,"Boolean")},si=fi,Di=function(ue){return I(ue,"Date")},oo=Di,so=function(ue){return I(ue,"Error")},Ui=so,ve=function(Ce){return wn(Ce)&&isFinite(Ce)},Ua=function(ue){return ue===null},qn=Ua,Lo=Object.prototype,hi=function(ue){var we=ue&&ue.constructor,ke=typeof we=="function"&&we.prototype||Lo;return ue===ke},Qo=hi,zo=function(ue){return I(ue,"RegExp")},zs=zo,yo=function(ue){return ue===void 0},us=yo,Jo=function(ue){return ue instanceof Element||ue instanceof HTMLDocument},gi=Jo;function ul(Ce){var ue=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(we){return setTimeout(we,16)};return ue(Ce)}function qi(Ce){var ue=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;ue(Ce)}function ks(Ce,ue){for(var we in ue)ue.hasOwnProperty(we)&&we!=="constructor"&&ue[we]!==void 0&&(Ce[we]=ue[we])}function _o(Ce,ue,we,ke){return ue&&ks(Ce,ue),we&&ks(Ce,we),ke&&ks(Ce,ke),Ce}var cl=function(){for(var ue=[],we=0;we<arguments.length;we++)ue[we]=arguments[we];for(var ke=ue[0],xr=1;xr<ue.length;xr++){var Hr=ue[xr];A(Hr)&&(Hr=Hr.prototype),_o(ke.prototype,Hr)}},jo=cl,cs=function Ce(ue){if(typeof ue!="object"||ue===null)return ue;var we;if(p(ue)){we=[];for(var ke=0,xr=ue.length;ke<xr;ke++)typeof ue[ke]=="object"&&ue[ke]!=null?we[ke]=Ce(ue[ke]):we[ke]=ue[ke]}else{we={};for(var Hr in ue)typeof ue[Hr]=="object"&&ue[Hr]!=null?we[Hr]=Ce(ue[Hr]):we[Hr]=ue[Hr]}return we},Vs=cs;function Xs(Ce,ue,we){var ke;return function(){var xr=this,Hr=arguments,ra=function(){ke=null,we||Ce.apply(xr,Hr)},Xa=we&&!ke;clearTimeout(ke),ke=setTimeout(ra,ue),Xa&&Ce.apply(xr,Hr)}}var bs=Xs,Ls=function(Ce,ue){if(!A(Ce))throw new TypeError("Expected a function");var we=function ke(){for(var xr=[],Hr=0;Hr<arguments.length;Hr++)xr[Hr]=arguments[Hr];var ra=ue?ue.apply(this,xr):xr[0],Xa=ke.cache;if(Xa.has(ra))return Xa.get(ra);var Ki=Ce.apply(this,xr);return Xa.set(ra,Ki),Ki};return we.cache=new Map,we},fl=5;function U(Ce,ue,we,ke){we=we||0,ke=ke||fl;for(var xr in ue)if(ue.hasOwnProperty(xr)){var Hr=ue[xr];Hr!==null&&rt(Hr)?(rt(Ce[xr])||(Ce[xr]={}),we<ke?U(Ce[xr],Hr,we+1,ke):Ce[xr]=ue[xr]):p(Hr)?(Ce[xr]=[],Ce[xr]=Ce[xr].concat(Hr)):Hr!==void 0&&(Ce[xr]=Hr)}}var Et=function(ue){for(var we=[],ke=1;ke<arguments.length;ke++)we[ke-1]=arguments[ke];for(var xr=0;xr<we.length;xr+=1)U(ue,we[xr]);return ue},Qt=Et,ae=function(ue,we,ke,xr){A(we)||(ke=we,we=ue,ue=function(){});var Hr=Object.create?function(Xa,Ki){return Object.create(Xa,{constructor:{value:Ki}})}:function(Xa,Ki){function Dl(){}Dl.prototype=Xa;var Hs=new Dl;return Hs.constructor=Ki,Hs},ra=Hr(we.prototype,ue);return ue.prototype=_o(ra,ue.prototype),ue.superclass=Hr(we.prototype,we),_o(ra,ke),_o(ue,xr),ue},he=ae,xe=function(ue,we){if(!o(ue))return-1;var ke=Array.prototype.indexOf;if(ke)return ke.call(ue,we);for(var xr=-1,Hr=0;Hr<ue.length;Hr++)if(ue[Hr]===we){xr=Hr;break}return xr},Le=xe,Ne=Object.prototype.hasOwnProperty;function Ue(Ce){if(B(Ce))return!0;if(o(Ce))return!Ce.length;var ue=mn(Ce);if(ue==="Map"||ue==="Set")return!Ce.size;if(Qo(Ce))return!Object.keys(Ce).length;for(var we in Ce)if(Ne.call(Ce,we))return!1;return!0}var $e=Ue,Qe=function Ce(ue,we){if(ue===we)return!0;if(!ue||!we||Ft(ue)||Ft(we))return!1;if(o(ue)||o(we)){if(ue.length!==we.length)return!1;for(var ke=!0,xr=0;xr<ue.length&&(ke=Ce(ue[xr],we[xr]),!!ke);xr++);return ke}if(nt(ue)||nt(we)){var Hr=Object.keys(ue),ra=Object.keys(we);if(Hr.length!==ra.length)return!1;for(var ke=!0,xr=0;xr<Hr.length&&(ke=Ce(ue[Hr[xr]],we[Hr[xr]]),!!ke);xr++);return ke}return!1},Tr=Qe,Ir=function(Ce,ue,we){return A(we)?!!we(Ce,ue):Tr(Ce,ue)},Sr=function(ue,we){if(!o(ue))return ue;for(var ke=[],xr=0;xr<ue.length;xr++){var Hr=ue[xr];ke.push(we(Hr,xr))}return ke},$r=Sr,hn=function(ue){return ue},Pr=function(Ce,ue){ue===void 0&&(ue=hn);var we={};return G(Ce)&&!B(Ce)&&Object.keys(Ce).forEach(function(ke){we[ke]=ue(Ce[ke],ke)}),we},Dn=function(Ce,ue,we){for(var ke=0,xr=Ft(ue)?ue.split("."):ue;Ce&&ke<xr.length;)Ce=Ce[xr[ke++]];return Ce===void 0||ke<xr.length?we:Ce},xa=function(Ce,ue,we){var ke=Ce,xr=Ft(ue)?ue.split("."):ue;return xr.forEach(function(Hr,ra){ra<xr.length-1?(G(ke[Hr])||(ke[Hr]=wn(xr[ra+1])?[]:{}),ke=ke[Hr]):ke[Hr]=we}),Ce},Qn=Object.prototype.hasOwnProperty,Jn=function(Ce,ue){if(Ce===null||!rt(Ce))return{};var we={};return z(ue,function(ke){Qn.call(Ce,ke)&&(we[ke]=Ce[ke])}),we},oa=function(Ce,ue){return tt(Ce,function(we,ke,xr){return ue.includes(xr)||(we[xr]=ke),we},{})},ia=function(Ce,ue,we){var ke,xr,Hr,ra,Xa=0;we||(we={});var Ki=function(){Xa=we.leading===!1?0:Date.now(),ke=null,ra=Ce.apply(xr,Hr),ke||(xr=Hr=null)},Dl=function(){var ko=Date.now();!Xa&&we.leading===!1&&(Xa=ko);var Vo=ue-(ko-Xa);return xr=this,Hr=arguments,Vo<=0||Vo>ue?(ke&&(clearTimeout(ke),ke=null),Xa=ko,ra=Ce.apply(xr,Hr),ke||(xr=Hr=null)):!ke&&we.trailing!==!1&&(ke=setTimeout(Ki,Vo)),ra};return Dl.cancel=function(){clearTimeout(ke),Xa=0,ke=xr=Hr=null},Dl},ba=function(Ce){return o(Ce)?Array.prototype.slice.call(Ce):[]},Za={},li=function(Ce){return Ce=Ce||"g",Za[Ce]?Za[Ce]+=1:Za[Ce]=1,Ce+Za[Ce]},Pa=function(){},di=function(Ce){return Ce};function $a(Ce){return B(Ce)?0:o(Ce)?Ce.length:Object.keys(Ce).length}var Ja=function(){function Ce(){this.map={}}return Ce.prototype.has=function(ue){return this.map[ue]!==void 0},Ce.prototype.get=function(ue,we){var ke=this.map[ue];return ke===void 0?we:ke},Ce.prototype.set=function(ue,we){this.map[ue]=we},Ce.prototype.clear=function(){this.map={}},Ce.prototype.delete=function(ue){delete this.map[ue]},Ce.prototype.size=function(){return Object.keys(this.map).length},Ce}(),da=Ja},jmP0:function(wt,P,i){"use strict";i.d(P,"a",function(){return F});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I"),x=i("piQC"),M=i("Cw9K"),D=i("lWkY"),C="$$stock-range$$",S="trend",O="up",E="down",I=["#ef5350","#26a69a"],A={showTitle:!1,showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0},itemTpl:'<li class="g2-tooltip-list-item" data-index={index}><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}{value}</li>'},R=Object(M.b)({},o.b.getDefaultOptions(),{tooltip:A,interactions:[{type:"tooltip"}],legend:{position:"top-left"}});function B(k,$){return Object(b.U)(k,function(nt){if(Object(b.B)($)){var st=$[0],rt=$[1],Q=$[2],Y=$[3];nt[S]=nt[st]<=nt[rt]?O:E,nt[C]=[nt[st],nt[rt],nt[Q],nt[Y]]}return nt})}function p(k){var $=k.chart,nt=k.options,st=nt.xField,rt=nt.yField,Q=nt.data;$.data(B(Q,rt));var Y=$.schema().position(st+"*"+C).shape("candle");return Y.color(S,I),k}function G(k){var $,nt,st=k.chart,rt=k.options,Q=rt.meta,Y=rt.xAxis,K=rt.yAxis,et=rt.xField,ut=($={},$[et]={type:"timeCat",tickCount:6},$[S]={values:[O,E]},$),dt=Object(M.b)(ut,Q,(nt={},nt[et]=Object(M.q)(Y,D.a),nt[C]=Object(M.q)(K,D.a),nt));return st.scale(dt),k}function W(k){var $=k.chart,nt=k.options,st=nt.xAxis,rt=nt.yAxis,Q=nt.xField;return st===!1?$.axis(Q,!1):$.axis(Q,st),rt===!1?$.axis(C,!1):$.axis(C,rt),k}function z(k){var $=k.chart,nt=k.options,st=nt.xField,rt=nt.yField,Q=nt.meta,Y=Q===void 0?{}:Q,K=nt.tooltip,et=K===void 0?{}:K,ut=Object(M.c)($,"schema"),dt=rt[0],vt=rt[1],at=rt[2],pt=rt[3],Tt=Y[dt]&&Y[dt].alias||dt,Gt=Y[vt]?Y[vt].alias||dt:vt,Kt=Y[at]&&Y[at].alias||at,Xt=Y[pt]&&Y[pt].alias||pt,gt={fields:[st,dt,vt,at,pt],callback:function(bt,Dt,Mt,q,V){var ot={name:bt,value:`
          <br><span data-label="`+Tt+'" style="padding-left: 16px">'+Tt+"\uFF1A"+Dt+`</span>
          <br><span data-label="`+Gt+'" style="padding-left: 16px">'+Gt+"\uFF1A"+Mt+`</span>
          <br><span data-label="`+Kt+'" style="padding-left: 16px">'+Kt+"\uFF1A"+q+`</span>
          <br><span data-label="`+Xt+'" style="padding-left: 16px">'+Xt+"\uFF1A"+V+`</span>
        `};return ot}},lt={crosshairs:{text:function(bt,Dt,Mt){var q={position:"end"};if(bt==="x"){var V=Mt[0];q.content=V?V.data[st]:Dt}else q.content=Dt;return q}}};if(et){if(Object(b.M)(et)){var ft=Object(M.b)({},lt,et);$.tooltip(ft),ut.tooltip(gt)}}else $.tooltip(!1);return k}function N(k){var $=k.chart,nt=k.options,st=nt.legend;return st?$.legend(S,st):st===!1&&$.legend(!1),k}function j(k){Object(M.e)(p,G,x.j,W,z,N,x.c,x.a)(k)}var F=function(k){Object(d.c)($,k);function $(){var nt=k!==null&&k.apply(this,arguments)||this;return nt.type="stock",nt}return $.getDefaultOptions=function(){return R},$.prototype.getDefaultOptions=function(){return $.getDefaultOptions()},$.prototype.getSchemaAdaptor=function(){return j},$.prototype.changeData=function(nt){this.updateOption({data:nt});var st=this.options.yField;this.chart.changeData(B(nt,st))},$}(o.b)},"k+AY":function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=null;function o(){if(!d){var b=document.createElement("canvas");b.width=1,b.height=1,d=b.getContext("2d")}return d}},k7N2:function(wt,P,i){var d=i("m9sd"),o=i("rGlR");function b(x){return d(x,o(x))}wt.exports=b},kDK3:function(wt,P,i){"use strict";wt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},kGri:function(wt,P){wt.exports=i;function i(d,o){return d[0]===o[0]&&d[1]===o[1]}},koGu:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.injectable=void 0;var d=i("196R"),o=i("9L8m");function b(){return function(x){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,x))throw new Error(d.DUPLICATED_INJECTABLE_DECORATOR);var M=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,x)||[];return Reflect.defineMetadata(o.PARAM_TYPES,M,x),x}}P.injectable=b},"kr+H":function(wt,P,i){"use strict";var d=i("XSdR"),o=i("43gi").Graph,b=i("9xKD").slack;wt.exports=x;function x(S){var O=new o({directed:!1}),E=S.nodes()[0],I=S.nodeCount();O.setNode(E,{});for(var A,R;M(O,S)<I;)A=D(O,S),R=O.hasNode(A.v)?b(S,A):-b(S,A),C(O,S,R);return O}function M(S,O){function E(I){d.forEach(O.nodeEdges(I),function(A){var R=A.v,B=I===R?A.w:R;!S.hasNode(B)&&!b(O,A)&&(S.setNode(B,{}),S.setEdge(I,B,{}),E(B))})}return d.forEach(S.nodes(),E),S.nodeCount()}function D(S,O){return d.minBy(O.edges(),function(E){if(S.hasNode(E.v)!==S.hasNode(E.w))return b(O,E)})}function C(S,O,E){d.forEach(S.nodes(),function(I){O.node(I).rank+=E})}},"l/Sb":function(wt,P,i){"use strict";i.r(P),i.d(P,"version",function(){return D});var d=i("ozhX");i.d(P,"Shape",function(){return d});var o=i("U8wd");for(var b in o)["default","Canvas","Group","Shape","version"].indexOf(b)<0&&function(C){i.d(P,C,function(){return o[C]})}(b);var x=i("5RCt");i.d(P,"Canvas",function(){return x.a});var M=i("CyRS");i.d(P,"Group",function(){return M.a});var D="0.5.6"},l0EA:function(wt,P){function i(d,o,b){for(var x=-1,M=d.length,D=o.length,C={};++x<M;){var S=x<D?o[x]:void 0;b(C,d[x],S)}return C}wt.exports=i},lCDx:function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=i("jg4I");function o(b){return Object(d.U)(b||[],function(x,M){return{x:""+M,y:x}})}},lOIa:function(wt,P,i){var d=i("c2a8");wt.exports={Graph:d.Graph,json:i("IJeR"),alg:i("iuKI"),version:d.version}},lVYH:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingInWhenOnSyntax=void 0;var d=i("aNuW"),o=i("zN6Y"),b=i("ITfU"),x=function(){function M(D){this._binding=D,this._bindingWhenSyntax=new b.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new d.BindingInSyntax(D)}return M.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},M.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},M.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},M.prototype.when=function(D){return this._bindingWhenSyntax.when(D)},M.prototype.whenTargetNamed=function(D){return this._bindingWhenSyntax.whenTargetNamed(D)},M.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},M.prototype.whenTargetTagged=function(D,C){return this._bindingWhenSyntax.whenTargetTagged(D,C)},M.prototype.whenInjectedInto=function(D){return this._bindingWhenSyntax.whenInjectedInto(D)},M.prototype.whenParentNamed=function(D){return this._bindingWhenSyntax.whenParentNamed(D)},M.prototype.whenParentTagged=function(D,C){return this._bindingWhenSyntax.whenParentTagged(D,C)},M.prototype.whenAnyAncestorIs=function(D){return this._bindingWhenSyntax.whenAnyAncestorIs(D)},M.prototype.whenNoAncestorIs=function(D){return this._bindingWhenSyntax.whenNoAncestorIs(D)},M.prototype.whenAnyAncestorNamed=function(D){return this._bindingWhenSyntax.whenAnyAncestorNamed(D)},M.prototype.whenAnyAncestorTagged=function(D,C){return this._bindingWhenSyntax.whenAnyAncestorTagged(D,C)},M.prototype.whenNoAncestorNamed=function(D){return this._bindingWhenSyntax.whenNoAncestorNamed(D)},M.prototype.whenNoAncestorTagged=function(D,C){return this._bindingWhenSyntax.whenNoAncestorTagged(D,C)},M.prototype.whenAnyAncestorMatches=function(D){return this._bindingWhenSyntax.whenAnyAncestorMatches(D)},M.prototype.whenNoAncestorMatches=function(D){return this._bindingWhenSyntax.whenNoAncestorMatches(D)},M.prototype.onActivation=function(D){return this._bindingOnSyntax.onActivation(D)},M}();P.BindingInWhenOnSyntax=x},lWkY:function(wt,P,i){"use strict";i.d(P,"a",function(){return d});var d=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"]},m0YO:function(wt,P){},m8xh:function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"b",function(){return C}),i.d(P,"c",function(){return E}),i.d(P,"d",function(){return A}),i.d(P,"e",function(){return B});function d(p,G,W){if(p){if(typeof p.addEventListener=="function")return p.addEventListener(G,W,!1),{remove:function(){p.removeEventListener(G,W,!1)}};if(typeof p.attachEvent=="function")return p.attachEvent("on"+G,W),{remove:function(){p.detachEvent("on"+G,W)}}}}var o,b,x,M;function D(){o=document.createElement("table"),b=document.createElement("tr"),x=/^\s*<(\w+|!)[^>]*>/,M={tr:document.createElement("tbody"),tbody:o,thead:o,tfoot:o,td:b,th:b,"*":document.createElement("div")}}function C(p){o||D();var G=x.test(p)&&RegExp.$1;(!G||!(G in M))&&(G="*");var W=M[G];p=p.replace(/(^\s*)|(\s*$)/g,""),W.innerHTML=""+p;var z=W.childNodes[0];return W.removeChild(z),z}function S(p,G,W){var z;try{z=window.getComputedStyle?window.getComputedStyle(p,null)[G]:p.style[G]}catch(N){}finally{z=z===void 0?W:z}return z}function O(p,G){var W=S(p,"height",G);return W==="auto"&&(W=p.offsetHeight),parseFloat(W)}function E(p,G){var W=O(p,G),z=parseFloat(S(p,"borderTopWidth"))||0,N=parseFloat(S(p,"paddingTop"))||0,j=parseFloat(S(p,"paddingBottom"))||0,F=parseFloat(S(p,"borderBottomWidth"))||0,k=parseFloat(S(p,"marginTop"))||0,$=parseFloat(S(p,"marginBottom"))||0;return W+z+F+N+j+k+$}function I(p,G){var W=S(p,"width",G);return W==="auto"&&(W=p.offsetWidth),parseFloat(W)}function A(p,G){var W=I(p,G),z=parseFloat(S(p,"borderLeftWidth"))||0,N=parseFloat(S(p,"paddingLeft"))||0,j=parseFloat(S(p,"paddingRight"))||0,F=parseFloat(S(p,"borderRightWidth"))||0,k=parseFloat(S(p,"marginRight"))||0,$=parseFloat(S(p,"marginLeft"))||0;return W+z+F+N+j+$+k}function R(){return window.devicePixelRatio?window.devicePixelRatio:2}function B(p,G){if(p)for(var W in G)G.hasOwnProperty(W)&&(p.style[W]=G[W]);return p}},mX1U:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("qfLv"),b=i("Lkm0"),x=i("08EK"),M=i("jg4I"),D=i("dAAy"),C=i("Hgj1"),S=i("yK/m"),O=i("qh6B"),E=i("riA0"),I=function(at){return["fill","stroke","fillStyle","strokeStyle"].includes(at)},A=function(at){return/^[r,R,L,l]{1}[\s]*\(/.test(at)},R=[1,0,0,0,1,0,0,0,1];function B(vt,at,pt){var Tt={},Gt=at.fromAttrs,Kt=at.toAttrs;if(!vt.destroyed){var Xt;for(var gt in Kt)if(!Object(M.G)(Gt[gt],Kt[gt]))if(gt==="path"){var lt=Kt[gt],ft=Gt[gt];lt.length>ft.length?(lt=E.c(Kt[gt]),ft=E.c(Gt[gt]),ft=E.a(ft,lt),ft=E.b(ft,lt),at.fromAttrs.path=ft,at.toAttrs.path=lt):at.pathFormatted||(lt=E.c(Kt[gt]),ft=E.c(Gt[gt]),ft=E.b(ft,lt),at.fromAttrs.path=ft,at.toAttrs.path=lt,at.pathFormatted=!0),Tt[gt]=[];for(var it=0;it<lt.length;it++){for(var bt=lt[it],Dt=ft[it],Mt=[],q=0;q<bt.length;q++)Object(M.K)(bt[q])&&Dt&&Object(M.K)(Dt[q])?(Xt=Object(S.a)(Dt[q],bt[q]),Mt.push(Xt(pt))):Mt.push(bt[q]);Tt[gt].push(Mt)}}else if(gt==="matrix"){var V=Object(O.a)(Gt[gt]||R,Kt[gt]||R),ot=V(pt);Tt[gt]=ot}else I(gt)&&A(Kt[gt])?Tt[gt]=Kt[gt]:Object(M.H)(Kt[gt])||(Xt=Object(S.a)(Gt[gt],Kt[gt]),Tt[gt]=Xt(pt));vt.attr(Tt)}}function p(vt,at,pt){var Tt=at.startTime,Gt=at.delay;if(pt<Tt+Gt||at._paused)return!1;var Kt,Xt=at.duration,gt=at.easing;if(pt=pt-Tt-at.delay,at.repeat)Kt=pt%Xt/Xt,Kt=C[gt](Kt);else if(Kt=pt/Xt,Kt<1)Kt=C[gt](Kt);else return at.onFrame?vt.attr(at.onFrame(1)):vt.attr(at.toAttrs),!0;if(at.onFrame){var lt=at.onFrame(Kt);vt.attr(lt)}else B(vt,at,Kt);return!1}var G=function(){function vt(at){this.animators=[],this.current=0,this.timer=null,this.canvas=at}return vt.prototype.initTimer=function(){var at=this,pt=!1,Tt,Gt,Kt;this.timer=D.a(function(Xt){if(at.current=Xt,at.animators.length>0){for(var gt=at.animators.length-1;gt>=0;gt--){if(Tt=at.animators[gt],Tt.destroyed){at.removeAnimator(gt);continue}if(!Tt.isAnimatePaused()){Gt=Tt.get("animations");for(var lt=Gt.length-1;lt>=0;lt--)Kt=Gt[lt],pt=p(Tt,Kt,Xt),pt&&(Gt.splice(lt,1),pt=!1,Kt.callback&&Kt.callback())}Gt.length===0&&at.removeAnimator(gt)}var ft=at.canvas.get("autoDraw");ft||at.canvas.draw()}})},vt.prototype.addAnimator=function(at){this.animators.push(at)},vt.prototype.removeAnimator=function(at){this.animators.splice(at,1)},vt.prototype.isAnimating=function(){return!!this.animators.length},vt.prototype.stop=function(){this.timer&&this.timer.stop()},vt.prototype.stopAllAnimations=function(at){at===void 0&&(at=!0),this.animators.forEach(function(pt){pt.stopAnimate(at)}),this.animators=[],this.canvas.draw()},vt.prototype.getTime=function(){return this.current},vt}(),W=G,z=i("8e3m"),N=40,j=0,F=":",k=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function $(vt,at){for(var pt in vt)if(vt.hasOwnProperty(pt)&&pt.indexOf(F+at)>=0)return!0;return!1}function nt(vt,at,pt){pt.name=at,pt.target=vt,pt.currentTarget=vt,pt.delegateTarget=vt,vt.emit(at,pt)}function st(vt,at,pt){if(pt.bubbles){var Tt=void 0,Gt=!1;if(at==="mouseenter"?(Tt=pt.fromShape,Gt=!0):at==="mouseleave"&&(Gt=!0,Tt=pt.toShape),vt.isCanvas()&&Gt)return;if(Tt&&Object(x.g)(vt,Tt)){pt.bubbles=!1;return}pt.name=at,pt.currentTarget=vt,pt.delegateTarget=vt,vt.emit(at,pt)}}var rt=function(){function vt(at){var pt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Tt){var Gt=Tt.type;pt._triggerEvent(Gt,Tt)},this._onDocumentMove=function(Tt){var Gt=pt.canvas,Kt=Gt.get("el");if(Kt!==Tt.target&&(pt.dragging||pt.currentShape)){var Xt=pt._getPointInfo(Tt);pt.dragging&&pt._emitEvent("drag",Tt,Xt,pt.draggingShape)}},this._onDocumentMouseUp=function(Tt){var Gt=pt.canvas,Kt=Gt.get("el");if(Kt!==Tt.target&&pt.dragging){var Xt=pt._getPointInfo(Tt);pt.draggingShape&&pt._emitEvent("drop",Tt,Xt,null),pt._emitEvent("dragend",Tt,Xt,pt.draggingShape),pt._afterDrag(pt.draggingShape,Xt,Tt)}},this.canvas=at.canvas}return vt.prototype.init=function(){this._bindEvents()},vt.prototype._bindEvents=function(){var at=this,pt=this.canvas.get("el");Object(x.a)(k,function(Tt){pt.addEventListener(Tt,at._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},vt.prototype._clearEvents=function(){var at=this,pt=this.canvas.get("el");Object(x.a)(k,function(Tt){pt.removeEventListener(Tt,at._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},vt.prototype._getEventObj=function(at,pt,Tt,Gt,Kt,Xt){var gt=new z.a(at,pt);return gt.fromShape=Kt,gt.toShape=Xt,gt.x=Tt.x,gt.y=Tt.y,gt.clientX=Tt.clientX,gt.clientY=Tt.clientY,gt.propagationPath.push(Gt),gt},vt.prototype._getShape=function(at,pt){return this.canvas.getShape(at.x,at.y,pt)},vt.prototype._getPointInfo=function(at){var pt=this.canvas,Tt=pt.getClientByEvent(at),Gt=pt.getPointByEvent(at);return{x:Gt.x,y:Gt.y,clientX:Tt.x,clientY:Tt.y}},vt.prototype._triggerEvent=function(at,pt){var Tt=this._getPointInfo(pt),Gt=this._getShape(Tt,pt),Kt=this["_on"+at],Xt=!1;if(Kt)Kt.call(this,Tt,Gt,pt);else{var gt=this.currentShape;at==="mouseenter"||at==="dragenter"||at==="mouseover"?(this._emitEvent(at,pt,Tt,null,null,Gt),Gt&&this._emitEvent(at,pt,Tt,Gt,null,Gt),at==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",pt,Tt,null)):at==="mouseleave"||at==="dragleave"||at==="mouseout"?(Xt=!0,gt&&this._emitEvent(at,pt,Tt,gt,gt,null),this._emitEvent(at,pt,Tt,null,gt,null),at==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",pt,Tt,null)):this._emitEvent(at,pt,Tt,Gt,null,null)}if(Xt||(this.currentShape=Gt),Gt&&!Gt.get("destroyed")){var lt=this.canvas,ft=lt.get("el");ft.style.cursor=Gt.attr("cursor")||lt.get("cursor")}},vt.prototype._onmousedown=function(at,pt,Tt){Tt.button===j&&(this.mousedownShape=pt,this.mousedownPoint=at,this.mousedownTimeStamp=Tt.timeStamp),this._emitEvent("mousedown",Tt,at,pt,null,null)},vt.prototype._emitMouseoverEvents=function(at,pt,Tt,Gt){var Kt=this.canvas.get("el");Tt!==Gt&&(Tt&&(this._emitEvent("mouseout",at,pt,Tt,Tt,Gt),this._emitEvent("mouseleave",at,pt,Tt,Tt,Gt),(!Gt||Gt.get("destroyed"))&&(Kt.style.cursor=this.canvas.get("cursor"))),Gt&&(this._emitEvent("mouseover",at,pt,Gt,Tt,Gt),this._emitEvent("mouseenter",at,pt,Gt,Tt,Gt)))},vt.prototype._emitDragoverEvents=function(at,pt,Tt,Gt,Kt){Gt?(Gt!==Tt&&(Tt&&this._emitEvent("dragleave",at,pt,Tt,Tt,Gt),this._emitEvent("dragenter",at,pt,Gt,Tt,Gt)),Kt||this._emitEvent("dragover",at,pt,Gt)):Tt&&this._emitEvent("dragleave",at,pt,Tt,Tt,Gt),Kt&&this._emitEvent("dragover",at,pt,Gt)},vt.prototype._afterDrag=function(at,pt,Tt){at&&(at.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Gt=this._getShape(pt,Tt);Gt!==at&&this._emitMouseoverEvents(Tt,pt,at,Gt),this.currentShape=Gt},vt.prototype._onmouseup=function(at,pt,Tt){if(Tt.button===j){var Gt=this.draggingShape;this.dragging?(Gt&&this._emitEvent("drop",Tt,at,pt),this._emitEvent("dragend",Tt,at,Gt),this._afterDrag(Gt,at,Tt)):(this._emitEvent("mouseup",Tt,at,pt),pt===this.mousedownShape&&this._emitEvent("click",Tt,at,pt),this.mousedownShape=null,this.mousedownPoint=null)}},vt.prototype._ondragover=function(at,pt,Tt){Tt.preventDefault();var Gt=this.currentShape;this._emitDragoverEvents(Tt,at,Gt,pt,!0)},vt.prototype._onmousemove=function(at,pt,Tt){var Gt=this.canvas,Kt=this.currentShape,Xt=this.draggingShape;if(this.dragging)Xt&&this._emitDragoverEvents(Tt,at,Kt,pt,!1),this._emitEvent("drag",Tt,at,Xt);else{var gt=this.mousedownPoint;if(gt){var lt=this.mousedownShape,ft=Tt.timeStamp,it=ft-this.mousedownTimeStamp,bt=gt.clientX-at.clientX,Dt=gt.clientY-at.clientY,Mt=bt*bt+Dt*Dt;it>120||Mt>N?lt&&lt.get("draggable")?(Xt=this.mousedownShape,Xt.set("capture",!1),this.draggingShape=Xt,this.dragging=!0,this._emitEvent("dragstart",Tt,at,Xt),this.mousedownShape=null,this.mousedownPoint=null):!lt&&Gt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Tt,at,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Tt,at,Kt,pt),this._emitEvent("mousemove",Tt,at,pt)):(this._emitMouseoverEvents(Tt,at,Kt,pt),this._emitEvent("mousemove",Tt,at,pt))}else this._emitMouseoverEvents(Tt,at,Kt,pt),this._emitEvent("mousemove",Tt,at,pt)}},vt.prototype._emitEvent=function(at,pt,Tt,Gt,Kt,Xt){var gt=this._getEventObj(at,pt,Tt,Gt,Kt,Xt);if(Gt){gt.shape=Gt,nt(Gt,at,gt);for(var lt=Gt.getParent();lt;)lt.emitDelegation(at,gt),gt.propagationStopped||st(lt,at,gt),gt.propagationPath.push(lt),lt=lt.getParent()}else{var ft=this.canvas;nt(ft,at,gt)}},vt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},vt}(),Q=rt,Y="px",K=Object(o.a)(),et=K&&K.name==="firefox",ut=function(vt){Object(d.c)(at,vt);function at(pt){var Tt=vt.call(this,pt)||this;return Tt.initContainer(),Tt.initDom(),Tt.initEvents(),Tt.initTimeline(),Tt}return at.prototype.getDefaultCfg=function(){var pt=vt.prototype.getDefaultCfg.call(this);return pt.cursor="default",pt.supportCSSTransform=!1,pt},at.prototype.initContainer=function(){var pt=this.get("container");Object(x.h)(pt)&&(pt=document.getElementById(pt),this.set("container",pt))},at.prototype.initDom=function(){var pt=this.createDom();this.set("el",pt);var Tt=this.get("container");Tt.appendChild(pt),this.setDOMSize(this.get("width"),this.get("height"))},at.prototype.initEvents=function(){var pt=new Q({canvas:this});pt.init(),this.set("eventController",pt)},at.prototype.initTimeline=function(){var pt=new W(this);this.set("timeline",pt)},at.prototype.setDOMSize=function(pt,Tt){var Gt=this.get("el");x.c&&(Gt.style.width=pt+Y,Gt.style.height=Tt+Y)},at.prototype.changeSize=function(pt,Tt){this.setDOMSize(pt,Tt),this.set("width",pt),this.set("height",Tt),this.onCanvasChange("changeSize")},at.prototype.getRenderer=function(){return this.get("renderer")},at.prototype.getCursor=function(){return this.get("cursor")},at.prototype.setCursor=function(pt){this.set("cursor",pt);var Tt=this.get("el");x.c&&Tt&&(Tt.style.cursor=pt)},at.prototype.getPointByEvent=function(pt){var Tt=this.get("supportCSSTransform");if(Tt){if(et&&!Object(x.e)(pt.layerX)&&pt.layerX!==pt.offsetX)return{x:pt.layerX,y:pt.layerY};if(!Object(x.e)(pt.offsetX))return{x:pt.offsetX,y:pt.offsetY}}var Gt=this.getClientByEvent(pt),Kt=Gt.x,Xt=Gt.y;return this.getPointByClient(Kt,Xt)},at.prototype.getClientByEvent=function(pt){var Tt=pt;return pt.touches&&(pt.type==="touchend"?Tt=pt.changedTouches[0]:Tt=pt.touches[0]),{x:Tt.clientX,y:Tt.clientY}},at.prototype.getPointByClient=function(pt,Tt){var Gt=this.get("el"),Kt=Gt.getBoundingClientRect();return{x:pt-Kt.left,y:Tt-Kt.top}},at.prototype.getClientByPoint=function(pt,Tt){var Gt=this.get("el"),Kt=Gt.getBoundingClientRect();return{x:pt+Kt.left,y:Tt+Kt.top}},at.prototype.draw=function(){},at.prototype.removeDom=function(){var pt=this.get("el");pt.parentNode.removeChild(pt)},at.prototype.clearEvents=function(){var pt=this.get("eventController");pt.destroy()},at.prototype.isCanvas=function(){return!0},at.prototype.getParent=function(){return null},at.prototype.destroy=function(){var pt=this.get("timeline");this.get("destroyed")||(this.clear(),pt&&pt.stop(),this.clearEvents(),this.removeDom(),vt.prototype.destroy.call(this))},at}(b.a),dt=ut},mbOf:function(wt,P,i){var d=i("ql+n");wt.exports=o;function o(){this._arr=[],this._keyIndices={}}o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(b){return b.key})},o.prototype.has=function(b){return d.has(this._keyIndices,b)},o.prototype.priority=function(b){var x=this._keyIndices[b];if(x!==void 0)return this._arr[x].priority},o.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(b,x){var M=this._keyIndices;if(b=String(b),!d.has(M,b)){var D=this._arr,C=D.length;return M[b]=C,D.push({key:b,priority:x}),this._decrease(C),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var b=this._arr.pop();return delete this._keyIndices[b.key],this._heapify(0),b.key},o.prototype.decrease=function(b,x){var M=this._keyIndices[b];if(x>this._arr[M].priority)throw new Error("New priority is greater than current priority. Key: "+b+" Old: "+this._arr[M].priority+" New: "+x);this._arr[M].priority=x,this._decrease(M)},o.prototype._heapify=function(b){var x=this._arr,M=2*b,D=M+1,C=b;M<x.length&&(C=x[M].priority<x[C].priority?M:C,D<x.length&&(C=x[D].priority<x[C].priority?D:C),C!==b&&(this._swap(b,C),this._heapify(C)))},o.prototype._decrease=function(b){for(var x=this._arr,M=x[b].priority,D;b!==0&&(D=b>>1,!(x[D].priority<M));)this._swap(b,D),b=D},o.prototype._swap=function(b,x){var M=this._arr,D=this._keyIndices,C=M[b],S=M[x];M[b]=S,M[x]=C,D[S.key]=b,D[C.key]=x}},mdrB:function(wt,P,i){var d=i("hQ5t"),o=i("TIpG"),b=i("KmIr");function x(M){return function(D,C,S){var O=Object(D);if(!o(D)){var E=d(C,3);D=b(D),C=function(A){return E(O[A],A,O)}}var I=M(D,C,S);return I>-1?O[E?D[I]:I]:void 0}}wt.exports=x},mxXC:function(wt,P,i){var d=i("XSdR");wt.exports=o;function o(b,x,M){var D={},C;d.forEach(M,function(S){for(var O=b.parent(S),E,I;O;){if(E=b.parent(O),E?(I=D[E],D[E]=O):(I=C,C=O),I&&I!==O){x.setEdge(I,O);return}O=E}})}},n9X1:function(wt,P,i){"use strict";i.d(P,"b",function(){return b}),i.d(P,"c",function(){return M}),i.d(P,"a",function(){return D});var d=i("08EK"),o=i("k+AY");function b(C,S,O){var E=1;if(Object(d.h)(C)&&(E=C.split(`
`).length),E>1){var I=x(S,O);return S*E+I*(E-1)}return S}function x(C,S){return S?S-C:C*.14}function M(C,S){var O=Object(o.a)(),E=0;if(Object(d.e)(C)||C==="")return E;if(O.save(),O.font=S,Object(d.h)(C)&&C.includes(`
`)){var I=C.split(`
`);Object(d.a)(I,function(A){var R=O.measureText(A).width;E<R&&(E=R)})}else E=O.measureText(C).width;return O.restore(),E}function D(C){var S=C.fontSize,O=C.fontFamily,E=C.fontWeight,I=C.fontStyle,A=C.fontVariant;return[I,A,E,S+"px",O].join(" ").trim()}},nA9L:function(wt,P,i){"use strict";i.r(P),i.d(P,"CONTAINER_CLASS",function(){return d}),i.d(P,"TITLE_CLASS",function(){return o}),i.d(P,"LIST_CLASS",function(){return b}),i.d(P,"LIST_ITEM_CLASS",function(){return x}),i.d(P,"MARKER_CLASS",function(){return M}),i.d(P,"VALUE_CLASS",function(){return D}),i.d(P,"NAME_CLASS",function(){return C}),i.d(P,"CROSSHAIR_X",function(){return S}),i.d(P,"CROSSHAIR_Y",function(){return O});var d="g2-tooltip",o="g2-tooltip-title",b="g2-tooltip-list",x="g2-tooltip-list-item",M="g2-tooltip-marker",D="g2-tooltip-value",C="g2-tooltip-name",S="g2-tooltip-crosshair-x",O="g2-tooltip-crosshair-y"},nZiY:function(wt,P,i){"use strict";var d="*",o=function(){function b(){this._events={}}return b.prototype.on=function(x,M,D){return this._events[x]||(this._events[x]=[]),this._events[x].push({callback:M,once:!!D}),this},b.prototype.once=function(x,M){return this.on(x,M,!0),this},b.prototype.emit=function(x){for(var M=this,D=[],C=1;C<arguments.length;C++)D[C-1]=arguments[C];var S=this._events[x]||[],O=this._events[d]||[],E=function(A){for(var R=A.length,B=0;B<R;B++)if(!!A[B]){var p=A[B],G=p.callback,W=p.once;W&&(A.splice(B,1),A.length===0&&delete M._events[x],R--,B--),G.apply(M,D)}};E(S),E(O)},b.prototype.off=function(x,M){if(!x)this._events={};else if(!M)delete this._events[x];else{for(var D=this._events[x]||[],C=D.length,S=0;S<C;S++)D[S].callback===M&&(D.splice(S,1),C--,S--);D.length===0&&delete this._events[x]}return this},b.prototype.getEvents=function(){return this._events},b}();P.a=o},naqw:function(wt,P){wt.exports=i;function i(d,o){return d[0]=Math.floor(o[0]),d[1]=Math.floor(o[1]),d}},"nl+T":function(wt,P,i){"use strict";var d=i("J+IK"),o=i("U8wd"),b=i("Nqgf"),x=i("K0hn"),M=i("jg4I"),D=i("bsNZ"),C=function(S){Object(d.c)(O,S);function O(){return S!==null&&S.apply(this,arguments)||this}return O.prototype.onCanvasChange=function(E){Object(x.h)(this,E)},O.prototype.getShapeBase=function(){return b},O.prototype.getGroupBase=function(){return O},O.prototype._applyClip=function(E,I){I&&(E.save(),Object(x.a)(E,I),I.createPath(E),E.restore(),E.clip(),I._afterDraw())},O.prototype.cacheCanvasBBox=function(){var E=this.cfg.children,I=[],A=[];Object(M.j)(E,function(j){var F=j.cfg.cacheCanvasBBox;F&&j.cfg.isInView&&(I.push(F.minX,F.maxX),A.push(F.minY,F.maxY))});var R=null;if(I.length){var B=Object(M.Z)(I),p=Object(M.W)(I),G=Object(M.Z)(A),W=Object(M.W)(A);R={minX:B,minY:G,x:B,y:G,maxX:p,maxY:W,width:p-B,height:W-G};var z=this.cfg.canvas;if(z){var N=z.getViewRange();this.set("isInView",Object(D.f)(R,N))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",R)},O.prototype.draw=function(E,I){var A=this.cfg.children,R=I?this.cfg.refresh:!0;A.length&&R&&(E.save(),Object(x.a)(E,this),this._applyClip(E,this.getClip()),Object(x.d)(E,A,I),E.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},O.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},O}(o.AbstractGroup);P.a=C},nxzP:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("qfLv"),b=i("LhfN"),x=i("tSnd"),M=i("jg4I"),D=i("dAAy"),C=i("Hgj1"),S=i("yK/m"),O=i("qh6B"),E=i("T5ir"),I=function(at){return["fill","stroke","fillStyle","strokeStyle"].includes(at)},A=function(at){return/^[r,R,L,l]{1}[\s]*\(/.test(at)},R=[1,0,0,0,1,0,0,0,1];function B(vt,at,pt){var Tt={},Gt=at.fromAttrs,Kt=at.toAttrs;if(!vt.destroyed){var Xt;for(var gt in Kt)if(!Object(M.G)(Gt[gt],Kt[gt]))if(gt==="path"){var lt=Kt[gt],ft=Gt[gt];lt.length>ft.length?(lt=E.parsePathString(Kt[gt]),ft=E.parsePathString(Gt[gt]),ft=E.fillPathByDiff(ft,lt),ft=E.formatPath(ft,lt),at.fromAttrs.path=ft,at.toAttrs.path=lt):at.pathFormatted||(lt=E.parsePathString(Kt[gt]),ft=E.parsePathString(Gt[gt]),ft=E.formatPath(ft,lt),at.fromAttrs.path=ft,at.toAttrs.path=lt,at.pathFormatted=!0),Tt[gt]=[];for(var it=0;it<lt.length;it++){for(var bt=lt[it],Dt=ft[it],Mt=[],q=0;q<bt.length;q++)Object(M.K)(bt[q])&&Dt&&Object(M.K)(Dt[q])?(Xt=Object(S.a)(Dt[q],bt[q]),Mt.push(Xt(pt))):Mt.push(bt[q]);Tt[gt].push(Mt)}}else if(gt==="matrix"){var V=Object(O.a)(Gt[gt]||R,Kt[gt]||R),ot=V(pt);Tt[gt]=ot}else I(gt)&&A(Kt[gt])?Tt[gt]=Kt[gt]:Object(M.H)(Kt[gt])||(Xt=Object(S.a)(Gt[gt],Kt[gt]),Tt[gt]=Xt(pt));vt.attr(Tt)}}function p(vt,at,pt){var Tt=at.startTime,Gt=at.delay;if(pt<Tt+Gt||at._paused)return!1;var Kt,Xt=at.duration,gt=at.easing;if(pt=pt-Tt-at.delay,at.repeat)Kt=pt%Xt/Xt,Kt=C[gt](Kt);else if(Kt=pt/Xt,Kt<1)Kt=C[gt](Kt);else return at.onFrame?vt.attr(at.onFrame(1)):vt.attr(at.toAttrs),!0;if(at.onFrame){var lt=at.onFrame(Kt);vt.attr(lt)}else B(vt,at,Kt);return!1}var G=function(){function vt(at){this.animators=[],this.current=0,this.timer=null,this.canvas=at}return vt.prototype.initTimer=function(){var at=this,pt=!1,Tt,Gt,Kt;this.timer=D.a(function(Xt){if(at.current=Xt,at.animators.length>0){for(var gt=at.animators.length-1;gt>=0;gt--){if(Tt=at.animators[gt],Tt.destroyed){at.removeAnimator(gt);continue}if(!Tt.isAnimatePaused()){Gt=Tt.get("animations");for(var lt=Gt.length-1;lt>=0;lt--)Kt=Gt[lt],pt=p(Tt,Kt,Xt),pt&&(Gt.splice(lt,1),pt=!1,Kt.callback&&Kt.callback())}Gt.length===0&&at.removeAnimator(gt)}var ft=at.canvas.get("autoDraw");ft||at.canvas.draw()}})},vt.prototype.addAnimator=function(at){this.animators.push(at)},vt.prototype.removeAnimator=function(at){this.animators.splice(at,1)},vt.prototype.isAnimating=function(){return!!this.animators.length},vt.prototype.stop=function(){this.timer&&this.timer.stop()},vt.prototype.stopAllAnimations=function(at){at===void 0&&(at=!0),this.animators.forEach(function(pt){pt.stopAnimate(at)}),this.animators=[],this.canvas.draw()},vt.prototype.getTime=function(){return this.current},vt}(),W=G,z=i("LxUj"),N=40,j=0,F=":",k=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function $(vt,at){for(var pt in vt)if(vt.hasOwnProperty(pt)&&pt.indexOf(F+at)>=0)return!0;return!1}function nt(vt,at,pt){pt.name=at,pt.target=vt,pt.currentTarget=vt,pt.delegateTarget=vt,vt.emit(at,pt)}function st(vt,at,pt){if(pt.bubbles){var Tt=void 0,Gt=!1;if(at==="mouseenter"?(Tt=pt.fromShape,Gt=!0):at==="mouseleave"&&(Gt=!0,Tt=pt.toShape),vt.isCanvas()&&Gt)return;if(Tt&&Object(x.g)(vt,Tt)){pt.bubbles=!1;return}pt.name=at,pt.currentTarget=vt,pt.delegateTarget=vt,vt.emit(at,pt)}}var rt=function(){function vt(at){var pt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Tt){var Gt=Tt.type;pt._triggerEvent(Gt,Tt)},this._onDocumentMove=function(Tt){var Gt=pt.canvas,Kt=Gt.get("el");if(Kt!==Tt.target&&(pt.dragging||pt.currentShape)){var Xt=pt._getPointInfo(Tt);pt.dragging&&pt._emitEvent("drag",Tt,Xt,pt.draggingShape)}},this._onDocumentMouseUp=function(Tt){var Gt=pt.canvas,Kt=Gt.get("el");if(Kt!==Tt.target&&pt.dragging){var Xt=pt._getPointInfo(Tt);pt.draggingShape&&pt._emitEvent("drop",Tt,Xt,null),pt._emitEvent("dragend",Tt,Xt,pt.draggingShape),pt._afterDrag(pt.draggingShape,Xt,Tt)}},this.canvas=at.canvas}return vt.prototype.init=function(){this._bindEvents()},vt.prototype._bindEvents=function(){var at=this,pt=this.canvas.get("el");Object(x.a)(k,function(Tt){pt.addEventListener(Tt,at._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},vt.prototype._clearEvents=function(){var at=this,pt=this.canvas.get("el");Object(x.a)(k,function(Tt){pt.removeEventListener(Tt,at._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},vt.prototype._getEventObj=function(at,pt,Tt,Gt,Kt,Xt){var gt=new z.a(at,pt);return gt.fromShape=Kt,gt.toShape=Xt,gt.x=Tt.x,gt.y=Tt.y,gt.clientX=Tt.clientX,gt.clientY=Tt.clientY,gt.propagationPath.push(Gt),gt},vt.prototype._getShape=function(at,pt){return this.canvas.getShape(at.x,at.y,pt)},vt.prototype._getPointInfo=function(at){var pt=this.canvas,Tt=pt.getClientByEvent(at),Gt=pt.getPointByEvent(at);return{x:Gt.x,y:Gt.y,clientX:Tt.x,clientY:Tt.y}},vt.prototype._triggerEvent=function(at,pt){var Tt=this._getPointInfo(pt),Gt=this._getShape(Tt,pt),Kt=this["_on"+at],Xt=!1;if(Kt)Kt.call(this,Tt,Gt,pt);else{var gt=this.currentShape;at==="mouseenter"||at==="dragenter"||at==="mouseover"?(this._emitEvent(at,pt,Tt,null,null,Gt),Gt&&this._emitEvent(at,pt,Tt,Gt,null,Gt),at==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",pt,Tt,null)):at==="mouseleave"||at==="dragleave"||at==="mouseout"?(Xt=!0,gt&&this._emitEvent(at,pt,Tt,gt,gt,null),this._emitEvent(at,pt,Tt,null,gt,null),at==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",pt,Tt,null)):this._emitEvent(at,pt,Tt,Gt,null,null)}if(Xt||(this.currentShape=Gt),Gt&&!Gt.get("destroyed")){var lt=this.canvas,ft=lt.get("el");ft.style.cursor=Gt.attr("cursor")||lt.get("cursor")}},vt.prototype._onmousedown=function(at,pt,Tt){Tt.button===j&&(this.mousedownShape=pt,this.mousedownPoint=at,this.mousedownTimeStamp=Tt.timeStamp),this._emitEvent("mousedown",Tt,at,pt,null,null)},vt.prototype._emitMouseoverEvents=function(at,pt,Tt,Gt){var Kt=this.canvas.get("el");Tt!==Gt&&(Tt&&(this._emitEvent("mouseout",at,pt,Tt,Tt,Gt),this._emitEvent("mouseleave",at,pt,Tt,Tt,Gt),(!Gt||Gt.get("destroyed"))&&(Kt.style.cursor=this.canvas.get("cursor"))),Gt&&(this._emitEvent("mouseover",at,pt,Gt,Tt,Gt),this._emitEvent("mouseenter",at,pt,Gt,Tt,Gt)))},vt.prototype._emitDragoverEvents=function(at,pt,Tt,Gt,Kt){Gt?(Gt!==Tt&&(Tt&&this._emitEvent("dragleave",at,pt,Tt,Tt,Gt),this._emitEvent("dragenter",at,pt,Gt,Tt,Gt)),Kt||this._emitEvent("dragover",at,pt,Gt)):Tt&&this._emitEvent("dragleave",at,pt,Tt,Tt,Gt),Kt&&this._emitEvent("dragover",at,pt,Gt)},vt.prototype._afterDrag=function(at,pt,Tt){at&&(at.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Gt=this._getShape(pt,Tt);Gt!==at&&this._emitMouseoverEvents(Tt,pt,at,Gt),this.currentShape=Gt},vt.prototype._onmouseup=function(at,pt,Tt){if(Tt.button===j){var Gt=this.draggingShape;this.dragging?(Gt&&this._emitEvent("drop",Tt,at,pt),this._emitEvent("dragend",Tt,at,Gt),this._afterDrag(Gt,at,Tt)):(this._emitEvent("mouseup",Tt,at,pt),pt===this.mousedownShape&&this._emitEvent("click",Tt,at,pt),this.mousedownShape=null,this.mousedownPoint=null)}},vt.prototype._ondragover=function(at,pt,Tt){Tt.preventDefault();var Gt=this.currentShape;this._emitDragoverEvents(Tt,at,Gt,pt,!0)},vt.prototype._onmousemove=function(at,pt,Tt){var Gt=this.canvas,Kt=this.currentShape,Xt=this.draggingShape;if(this.dragging)Xt&&this._emitDragoverEvents(Tt,at,Kt,pt,!1),this._emitEvent("drag",Tt,at,Xt);else{var gt=this.mousedownPoint;if(gt){var lt=this.mousedownShape,ft=Tt.timeStamp,it=ft-this.mousedownTimeStamp,bt=gt.clientX-at.clientX,Dt=gt.clientY-at.clientY,Mt=bt*bt+Dt*Dt;it>120||Mt>N?lt&&lt.get("draggable")?(Xt=this.mousedownShape,Xt.set("capture",!1),this.draggingShape=Xt,this.dragging=!0,this._emitEvent("dragstart",Tt,at,Xt),this.mousedownShape=null,this.mousedownPoint=null):!lt&&Gt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Tt,at,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Tt,at,Kt,pt),this._emitEvent("mousemove",Tt,at,pt)):(this._emitMouseoverEvents(Tt,at,Kt,pt),this._emitEvent("mousemove",Tt,at,pt))}else this._emitMouseoverEvents(Tt,at,Kt,pt),this._emitEvent("mousemove",Tt,at,pt)}},vt.prototype._emitEvent=function(at,pt,Tt,Gt,Kt,Xt){var gt=this._getEventObj(at,pt,Tt,Gt,Kt,Xt);if(Gt){gt.shape=Gt,nt(Gt,at,gt);for(var lt=Gt.getParent();lt;)lt.emitDelegation(at,gt),gt.propagationStopped||st(lt,at,gt),gt.propagationPath.push(lt),lt=lt.getParent()}else{var ft=this.canvas;nt(ft,at,gt)}},vt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},vt}(),Q=rt,Y="px",K=Object(o.a)(),et=K&&K.name==="firefox",ut=function(vt){Object(d.c)(at,vt);function at(pt){var Tt=vt.call(this,pt)||this;return Tt.initContainer(),Tt.initDom(),Tt.initEvents(),Tt.initTimeline(),Tt}return at.prototype.getDefaultCfg=function(){var pt=vt.prototype.getDefaultCfg.call(this);return pt.cursor="default",pt.supportCSSTransform=!1,pt},at.prototype.initContainer=function(){var pt=this.get("container");Object(x.h)(pt)&&(pt=document.getElementById(pt),this.set("container",pt))},at.prototype.initDom=function(){var pt=this.createDom();this.set("el",pt);var Tt=this.get("container");Tt.appendChild(pt),this.setDOMSize(this.get("width"),this.get("height"))},at.prototype.initEvents=function(){var pt=new Q({canvas:this});pt.init(),this.set("eventController",pt)},at.prototype.initTimeline=function(){var pt=new W(this);this.set("timeline",pt)},at.prototype.setDOMSize=function(pt,Tt){var Gt=this.get("el");x.c&&(Gt.style.width=pt+Y,Gt.style.height=Tt+Y)},at.prototype.changeSize=function(pt,Tt){this.setDOMSize(pt,Tt),this.set("width",pt),this.set("height",Tt),this.onCanvasChange("changeSize")},at.prototype.getRenderer=function(){return this.get("renderer")},at.prototype.getCursor=function(){return this.get("cursor")},at.prototype.setCursor=function(pt){this.set("cursor",pt);var Tt=this.get("el");x.c&&Tt&&(Tt.style.cursor=pt)},at.prototype.getPointByEvent=function(pt){var Tt=this.get("supportCSSTransform");if(Tt){if(et&&!Object(x.e)(pt.layerX)&&pt.layerX!==pt.offsetX)return{x:pt.layerX,y:pt.layerY};if(!Object(x.e)(pt.offsetX))return{x:pt.offsetX,y:pt.offsetY}}var Gt=this.getClientByEvent(pt),Kt=Gt.x,Xt=Gt.y;return this.getPointByClient(Kt,Xt)},at.prototype.getClientByEvent=function(pt){var Tt=pt;return pt.touches&&(pt.type==="touchend"?Tt=pt.changedTouches[0]:Tt=pt.touches[0]),{x:Tt.clientX,y:Tt.clientY}},at.prototype.getPointByClient=function(pt,Tt){var Gt=this.get("el"),Kt=Gt.getBoundingClientRect();return{x:pt-Kt.left,y:Tt-Kt.top}},at.prototype.getClientByPoint=function(pt,Tt){var Gt=this.get("el"),Kt=Gt.getBoundingClientRect();return{x:pt+Kt.left,y:Tt+Kt.top}},at.prototype.draw=function(){},at.prototype.removeDom=function(){var pt=this.get("el");pt.parentNode.removeChild(pt)},at.prototype.clearEvents=function(){var pt=this.get("eventController");pt.destroy()},at.prototype.isCanvas=function(){return!0},at.prototype.getParent=function(){return null},at.prototype.destroy=function(){var pt=this.get("timeline");this.get("destroyed")||(this.clear(),pt&&pt.stop(),this.clearEvents(),this.removeDom(),vt.prototype.destroy.call(this))},at}(b.a),dt=P.a=ut},oDuu:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("m8xh"),b=i("jg4I"),x=i("L+OQ"),M=i("QwgH"),D=function(C){Object(d.c)(S,C);function S(){return C!==null&&C.apply(this,arguments)||this}return S.prototype.getDefaultCfg=function(){var O=C.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},O),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},S.prototype.getContainer=function(){return this.get("container")},S.prototype.show=function(){var O=this.get("container");O.style.display="",this.set("visible",!0)},S.prototype.hide=function(){var O=this.get("container");O.style.display="none",this.set("visible",!1)},S.prototype.setCapture=function(O){var E=this.getContainer(),I=O?"auto":"none";E.style.pointerEvents=I,this.set("capture",O)},S.prototype.getBBox=function(){var O=this.getContainer(),E=parseFloat(O.style.left)||0,I=parseFloat(O.style.top)||0;return Object(x.b)(E,I,O.clientWidth,O.clientHeight)},S.prototype.clear=function(){var O=this.get("container");Object(x.a)(O)},S.prototype.destroy=function(){this.removeEvent(),this.removeDom(),C.prototype.destroy.call(this)},S.prototype.init=function(){C.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},S.prototype.initCapture=function(){this.setCapture(this.get("capture"))},S.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},S.prototype.initDom=function(){},S.prototype.initContainer=function(){var O=this.get("container");if(Object(b.I)(O)){O=this.createDom();var E=this.get("parent");Object(b.O)(E)&&(E=document.getElementById(E),this.set("parent",E)),E.appendChild(O),this.set("container",O)}else Object(b.O)(O)&&(O=document.getElementById(O),this.set("container",O));this.get("parent")||this.set("parent",O.parentNode)},S.prototype.resetStyles=function(){var O=this.get("domStyles"),E=this.get("defaultStyles");O?O=Object(b.h)({},E,O):O=E,this.set("domStyles",O)},S.prototype.applyStyles=function(){var O=this.get("domStyles");if(!!O){var E=this.getContainer();this.applyChildrenStyles(E,O);var I=this.get("containerClassName");if(I&&Object(x.h)(E,I)){var A=O[I];Object(o.e)(E,A)}}},S.prototype.applyChildrenStyles=function(O,E){Object(b.j)(E,function(I,A){var R=O.getElementsByClassName(A);Object(b.j)(R,function(B){Object(o.e)(B,I)})})},S.prototype.applyStyle=function(O,E){var I=this.get("domStyles");Object(o.e)(E,I[O])},S.prototype.createDom=function(){var O=this.get("containerTpl");return Object(o.b)(O)},S.prototype.initEvent=function(){},S.prototype.removeDom=function(){var O=this.get("container");O&&O.parentNode&&O.parentNode.removeChild(O)},S.prototype.removeEvent=function(){},S.prototype.updateInner=function(O){Object(b.x)(O,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},S.prototype.resetPosition=function(){},S}(M.a);P.a=D},oFJY:function(wt,P,i){"use strict";i.d(P,"b",function(){return o}),i.d(P,"c",function(){return b}),i.d(P,"a",function(){return x});var d=i("SCaY");function o(M,D){var C=M.cfg.el,S=M.attr(),O={dx:S.shadowOffsetX,dy:S.shadowOffsetY,blur:S.shadowBlur,color:S.shadowColor};if(!O.dx&&!O.dy&&!O.blur&&!O.color)C.removeAttribute("filter");else{var E=D.find("filter",O);E||(E=D.addShadow(O)),C.setAttribute("filter","url(#"+E+")")}}function b(M){var D=M.attr().matrix;if(D){for(var C=M.cfg.el,S=[],O=0;O<9;O+=3)S.push(D[O]+","+D[O+1]);S=S.join(","),S.indexOf("NaN")===-1?C.setAttribute("transform","matrix("+S+")"):console.warn("invalid matrix:",D)}}function x(M,D){var C=M.getClip(),S=M.get("el");if(!C)S.removeAttribute("clip-path");else if(C&&!S.hasAttribute("clip-path")){Object(d.a)(C),C.createPath(D);var O=D.addClip(C);S.setAttribute("clip-path","url(#"+O+")")}}},oS5r:function(wt,P,i){"use strict";var d=i("tuqv"),o=i("Od3v"),b=i("gPRb"),x=i("aOLp");P.a=function(){var M=o.a,D=!1,C=1,S=1,O=[0],E=x.a,I=x.a,A=x.a,R=x.a,B=x.a;function p(W){return W.x0=W.y0=0,W.x1=C,W.y1=S,W.eachBefore(G),O=[0],D&&W.eachBefore(d.a),W}function G(W){var z=O[W.depth],N=W.x0+z,j=W.y0+z,F=W.x1-z,k=W.y1-z;F<N&&(N=F=(N+F)/2),k<j&&(j=k=(j+k)/2),W.x0=N,W.y0=j,W.x1=F,W.y1=k,W.children&&(z=O[W.depth+1]=E(W)/2,N+=B(W)-z,j+=I(W)-z,F-=A(W)-z,k-=R(W)-z,F<N&&(N=F=(N+F)/2),k<j&&(j=k=(j+k)/2),M(W,N,j,F,k))}return p.round=function(W){return arguments.length?(D=!!W,p):D},p.size=function(W){return arguments.length?(C=+W[0],S=+W[1],p):[C,S]},p.tile=function(W){return arguments.length?(M=Object(b.b)(W),p):M},p.padding=function(W){return arguments.length?p.paddingInner(W).paddingOuter(W):p.paddingInner()},p.paddingInner=function(W){return arguments.length?(E=typeof W=="function"?W:Object(x.b)(+W),p):E},p.paddingOuter=function(W){return arguments.length?p.paddingTop(W).paddingRight(W).paddingBottom(W).paddingLeft(W):p.paddingTop()},p.paddingTop=function(W){return arguments.length?(I=typeof W=="function"?W:Object(x.b)(+W),p):I},p.paddingRight=function(W){return arguments.length?(A=typeof W=="function"?W:Object(x.b)(+W),p):A},p.paddingBottom=function(W){return arguments.length?(R=typeof W=="function"?W:Object(x.b)(+W),p):R},p.paddingLeft=function(W){return arguments.length?(B=typeof W=="function"?W:Object(x.b)(+W),p):B},p}},of5Y:function(wt,P,i){"use strict";var d=i("XSdR"),o=i("kr+H"),b=i("9xKD").slack,x=i("9xKD").longestPath,M=i("43gi").alg.preorder,D=i("43gi").alg.postorder,C=i("hppO").simplify;wt.exports=S,S.initLowLimValues=A,S.initCutValues=O,S.calcCutValue=I,S.leaveEdge=B,S.enterEdge=p,S.exchangeEdges=G;function S(j){j=C(j),x(j);var F=o(j);A(F),O(F,j);for(var k,$;k=B(F);)$=p(F,j,k),G(F,j,k,$)}function O(j,F){var k=D(j,j.nodes());k=k.slice(0,k.length-1),d.forEach(k,function($){E(j,F,$)})}function E(j,F,k){var $=j.node(k),nt=$.parent;j.edge(k,nt).cutvalue=I(j,F,k)}function I(j,F,k){var $=j.node(k),nt=$.parent,st=!0,rt=F.edge(k,nt),Q=0;return rt||(st=!1,rt=F.edge(nt,k)),Q=rt.weight,d.forEach(F.nodeEdges(k),function(Y){var K=Y.v===k,et=K?Y.w:Y.v;if(et!==nt){var ut=K===st,dt=F.edge(Y).weight;if(Q+=ut?dt:-dt,z(j,k,et)){var vt=j.edge(k,et).cutvalue;Q+=ut?-vt:vt}}}),Q}function A(j,F){arguments.length<2&&(F=j.nodes()[0]),R(j,{},1,F)}function R(j,F,k,$,nt){var st=k,rt=j.node($);return F[$]=!0,d.forEach(j.neighbors($),function(Q){d.has(F,Q)||(k=R(j,F,k,Q,$))}),rt.low=st,rt.lim=k++,nt?rt.parent=nt:delete rt.parent,k}function B(j){return d.find(j.edges(),function(F){return j.edge(F).cutvalue<0})}function p(j,F,k){var $=k.v,nt=k.w;F.hasEdge($,nt)||($=k.w,nt=k.v);var st=j.node($),rt=j.node(nt),Q=st,Y=!1;st.lim>rt.lim&&(Q=rt,Y=!0);var K=d.filter(F.edges(),function(et){return Y===N(j,j.node(et.v),Q)&&Y!==N(j,j.node(et.w),Q)});return d.minBy(K,function(et){return b(F,et)})}function G(j,F,k,$){var nt=k.v,st=k.w;j.removeEdge(nt,st),j.setEdge($.v,$.w,{}),A(j),O(j,F),W(j,F)}function W(j,F){var k=d.find(j.nodes(),function(nt){return!F.node(nt).parent}),$=M(j,k);$=$.slice(1),d.forEach($,function(nt){var st=j.node(nt).parent,rt=F.edge(nt,st),Q=!1;rt||(rt=F.edge(st,nt),Q=!0),F.node(nt).rank=F.node(st).rank+(Q?rt.minlen:-rt.minlen)})}function z(j,F,k){return j.hasEdge(F,k)}function N(j,F,k){return k.low<=F.lim&&F.lim<=k.lim}},oobg:function(wt,P){wt.exports=i;function i(d){var o=d[0],b=d[1];return Math.sqrt(o*o+b*b)}},"oq+b":function(wt,P,i){"use strict";i.d(P,"a",function(){return D});var d=i("qJ52"),o=i.n(d),b=i("25gg"),x=i.n(b),M=i("99LQ"),D=function(){function C(S,O){o()(this,C),this.center=void 0,this.halfExtents=void 0,this.min=M.e.create(),this.max=M.e.create(),this.update(S,O)}return x()(C,[{key:"update",value:function(O,E){this.center=O||M.e.create(),this.halfExtents=E||M.e.fromValues(.5,.5,.5),this.min=M.e.sub(this.min,this.center,this.halfExtents),this.max=M.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(O,E){M.e.add(this.center,E,O),M.e.scale(this.center,this.center,.5),M.e.sub(this.halfExtents,E,O),M.e.scale(this.halfExtents,this.halfExtents,.5),M.e.copy(this.min,O),M.e.copy(this.max,E)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(O){var E=this.center,I=E[0],A=E[1],R=E[2],B=this.halfExtents,p=B[0],G=B[1],W=B[2],z=I-p,N=I+p,j=A-G,F=A+G,k=R-W,$=R+W,nt=O.center,st=nt[0],rt=nt[1],Q=nt[2],Y=O.halfExtents,K=Y[0],et=Y[1],ut=Y[2],dt=st-K,vt=st+K,at=rt-et,pt=rt+et,Tt=Q-ut,Gt=Q+ut;dt<z&&(z=dt),vt>N&&(N=vt),at<j&&(j=at),pt>F&&(F=pt),Tt<k&&(k=Tt),Gt>$&&($=Gt),E[0]=(z+N)*.5,E[1]=(j+F)*.5,E[2]=(k+$)*.5,B[0]=(N-z)*.5,B[1]=(F-j)*.5,B[2]=($-k)*.5,this.min[0]=z,this.min[1]=j,this.min[2]=k,this.max[0]=N,this.max[1]=F,this.max[2]=$}},{key:"intersects",value:function(O){var E=this.getMax(),I=this.getMin(),A=O.getMax(),R=O.getMin();return I[0]<=A[0]&&E[0]>=R[0]&&I[1]<=A[1]&&E[1]>=R[1]&&I[2]<=A[2]&&E[2]>=R[2]}},{key:"containsPoint",value:function(O){var E=this.getMin(),I=this.getMax();return!(O[0]<E[0]||O[0]>I[0]||O[1]<E[1]||O[1]>I[1]||O[2]<E[2]||O[2]>I[2])}},{key:"getNegativeFarPoint",value:function(O){return O.pnVertexFlag===273?M.e.copy(M.e.create(),this.min):O.pnVertexFlag===272?M.e.fromValues(this.min[0],this.min[1],this.max[2]):O.pnVertexFlag===257?M.e.fromValues(this.min[0],this.max[1],this.min[2]):O.pnVertexFlag===256?M.e.fromValues(this.min[0],this.max[1],this.max[2]):O.pnVertexFlag===17?M.e.fromValues(this.max[0],this.min[1],this.min[2]):O.pnVertexFlag===16?M.e.fromValues(this.max[0],this.min[1],this.max[2]):O.pnVertexFlag===1?M.e.fromValues(this.max[0],this.max[1],this.min[2]):M.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(O){return O.pnVertexFlag===273?M.e.copy(M.e.create(),this.max):O.pnVertexFlag===272?M.e.fromValues(this.max[0],this.max[1],this.min[2]):O.pnVertexFlag===257?M.e.fromValues(this.max[0],this.min[1],this.max[2]):O.pnVertexFlag===256?M.e.fromValues(this.max[0],this.min[1],this.min[2]):O.pnVertexFlag===17?M.e.fromValues(this.min[0],this.max[1],this.max[2]):O.pnVertexFlag===16?M.e.fromValues(this.min[0],this.max[1],this.min[2]):O.pnVertexFlag===1?M.e.fromValues(this.min[0],this.min[1],this.max[2]):M.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),C}()},ozhX:function(wt,P,i){"use strict";i.r(P),i.d(P,"Base",function(){return E}),i.d(P,"Circle",function(){return R}),i.d(P,"Dom",function(){return p}),i.d(P,"Ellipse",function(){return W}),i.d(P,"Image",function(){return N}),i.d(P,"Line",function(){return k}),i.d(P,"Marker",function(){return rt}),i.d(P,"Path",function(){return Y}),i.d(P,"Polygon",function(){return et}),i.d(P,"Polyline",function(){return dt}),i.d(P,"Rect",function(){return Kt}),i.d(P,"Text",function(){return Dt});var d={};i.r(d),i.d(d,"Base",function(){return E}),i.d(d,"Circle",function(){return R}),i.d(d,"Dom",function(){return p}),i.d(d,"Ellipse",function(){return W}),i.d(d,"Image",function(){return N}),i.d(d,"Line",function(){return k}),i.d(d,"Marker",function(){return rt}),i.d(d,"Path",function(){return Y}),i.d(d,"Polygon",function(){return et}),i.d(d,"Polyline",function(){return dt}),i.d(d,"Rect",function(){return Kt}),i.d(d,"Text",function(){return Dt});var o=i("J+IK"),b=i("U8wd"),x=i("oFJY"),M=i("SCaY"),D=i("BSge"),C=i("0xlF"),S=i("CyRS"),O=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="svg",V.canFill=!1,V.canStroke=!1,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},q.prototype.afterAttrsChange=function(V){Mt.prototype.afterAttrsChange.call(this,V);var ot=this.get("canvas");if(ot&&ot.get("autoDraw")){var tt=ot.get("context");this.draw(tt,V)}},q.prototype.getShapeBase=function(){return d},q.prototype.getGroupBase=function(){return S.a},q.prototype.onCanvasChange=function(V){Object(D.b)(this,V)},q.prototype.calculateBBox=function(){var V=this.get("el"),ot=null;if(V)ot=V.getBBox();else{var tt=Object(b.getBBoxMethod)(this.get("type"));tt&&(ot=tt(this))}if(ot){var yt=ot.x,Pt=ot.y,Ft=ot.width,Wt=ot.height,Vt=this.getHitLineWidth(),Lt=Vt/2,Ct=yt-Lt,_=Pt-Lt,It=yt+Ft+Lt,Rt=Pt+Wt+Lt;return{x:Ct,y:_,minX:Ct,minY:_,maxX:It,maxY:Rt,width:Ft+Vt,height:Wt+Vt}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},q.prototype.isFill=function(){var V=this.attr(),ot=V.fill,tt=V.fillStyle;return(ot||tt||this.isClipShape())&&this.canFill},q.prototype.isStroke=function(){var V=this.attr(),ot=V.stroke,tt=V.strokeStyle;return(ot||tt)&&this.canStroke},q.prototype.draw=function(V,ot){var tt=this.get("el");this.get("destroyed")?tt&&tt.parentNode.removeChild(tt):(tt||Object(M.a)(this),Object(x.a)(this,V),this.createPath(V,ot),this.shadow(V,ot),this.strokeAndFill(V,ot),this.transform(ot))},q.prototype.createPath=function(V,ot){},q.prototype.strokeAndFill=function(V,ot){var tt=ot||this.attr(),yt=tt.fill,Pt=tt.fillStyle,Ft=tt.stroke,Wt=tt.strokeStyle,Vt=tt.fillOpacity,Lt=tt.strokeOpacity,Ct=tt.lineWidth,_=this.get("el");this.canFill&&(ot?"fill"in tt?this._setColor(V,"fill",yt):"fillStyle"in tt&&this._setColor(V,"fill",Pt):this._setColor(V,"fill",yt||Pt),Vt&&_.setAttribute(C.b.fillOpacity,Vt)),this.canStroke&&Ct>0&&(ot?"stroke"in tt?this._setColor(V,"stroke",Ft):"strokeStyle"in tt&&this._setColor(V,"stroke",Wt):this._setColor(V,"stroke",Ft||Wt),Lt&&_.setAttribute(C.b.strokeOpacity,Lt),Ct&&_.setAttribute(C.b.lineWidth,Ct))},q.prototype._setColor=function(V,ot,tt){var yt=this.get("el");if(!tt){yt.setAttribute(C.b[ot],"none");return}if(tt=tt.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(tt)){var Pt=V.find("gradient",tt);Pt||(Pt=V.addGradient(tt)),yt.setAttribute(C.b[ot],"url(#"+Pt+")")}else if(/^[p,P]{1}[\s]*\(/.test(tt)){var Pt=V.find("pattern",tt);Pt||(Pt=V.addPattern(tt)),yt.setAttribute(C.b[ot],"url(#"+Pt+")")}else yt.setAttribute(C.b[ot],tt)},q.prototype.shadow=function(V,ot){var tt=this.attr(),yt=ot||tt,Pt=yt.shadowOffsetX,Ft=yt.shadowOffsetY,Wt=yt.shadowBlur,Vt=yt.shadowColor;(Pt||Ft||Wt||Vt)&&Object(x.b)(this,V)},q.prototype.transform=function(V){var ot=this.attr(),tt=(V||ot).matrix;tt&&Object(x.c)(this)},q.prototype.isInShape=function(V,ot){return this.isPointInPath(V,ot)},q.prototype.isPointInPath=function(V,ot){var tt=this.get("el"),yt=this.get("canvas"),Pt=yt.get("el").getBoundingClientRect(),Ft=V+Pt.left,Wt=ot+Pt.top,Vt=document.elementFromPoint(Ft,Wt);return!!(Vt&&Vt.isEqualNode(tt))},q.prototype.getHitLineWidth=function(){var V=this.attrs,ot=V.lineWidth,tt=V.lineAppendWidth;return this.isStroke()?ot+tt:0},q}(b.AbstractShape),E=O,I=i("jg4I"),A=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="circle",V.canFill=!0,V.canStroke=!0,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{x:0,y:0,r:0})},q.prototype.createPath=function(V,ot){var tt=this.attr(),yt=this.get("el");Object(I.j)(ot||tt,function(Pt,Ft){Ft==="x"||Ft==="y"?yt.setAttribute("c"+Ft,Pt):C.b[Ft]&&yt.setAttribute(C.b[Ft],Pt)})},q}(E),R=A,B=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="dom",V.canFill=!1,V.canStroke=!1,V}return q.prototype.createPath=function(V,ot){var tt=this.attr(),yt=this.get("el");if(Object(I.j)(ot||tt,function(Vt,Lt){C.b[Lt]&&yt.setAttribute(C.b[Lt],Vt)}),typeof tt.html=="function"){var Pt=tt.html.call(this,tt);if(Pt instanceof Element||Pt instanceof HTMLDocument){for(var Ft=yt.childNodes,Wt=Ft.length-1;Wt>=0;Wt--)yt.removeChild(Ft[Wt]);yt.appendChild(Pt)}else yt.innerHTML=Pt}else yt.innerHTML=tt.html},q}(E),p=B,G=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="ellipse",V.canFill=!0,V.canStroke=!0,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{x:0,y:0,rx:0,ry:0})},q.prototype.createPath=function(V,ot){var tt=this.attr(),yt=this.get("el");Object(I.j)(ot||tt,function(Pt,Ft){Ft==="x"||Ft==="y"?yt.setAttribute("c"+Ft,Pt):C.b[Ft]&&yt.setAttribute(C.b[Ft],Pt)})},q}(E),W=G,z=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="image",V.canFill=!1,V.canStroke=!1,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{x:0,y:0,width:0,height:0})},q.prototype.createPath=function(V,ot){var tt=this,yt=this.attr(),Pt=this.get("el");Object(I.j)(ot||yt,function(Ft,Wt){Wt==="img"?tt._setImage(yt.img):C.b[Wt]&&Pt.setAttribute(C.b[Wt],Ft)})},q.prototype.setAttr=function(V,ot){this.attrs[V]=ot,V==="img"&&this._setImage(ot)},q.prototype._setImage=function(V){var ot=this.attr(),tt=this.get("el");if(Object(I.O)(V))tt.setAttribute("href",V);else if(V instanceof window.Image)ot.width||(tt.setAttribute("width",V.width),this.attr("width",V.width)),ot.height||(tt.setAttribute("height",V.height),this.attr("height",V.height)),tt.setAttribute("href",V.src);else if(V instanceof HTMLElement&&Object(I.O)(V.nodeName)&&V.nodeName.toUpperCase()==="CANVAS")tt.setAttribute("href",V.toDataURL());else if(V instanceof ImageData){var yt=document.createElement("canvas");yt.setAttribute("width",""+V.width),yt.setAttribute("height",""+V.height),yt.getContext("2d").putImageData(V,0,0),ot.width||(tt.setAttribute("width",""+V.width),this.attr("width",V.width)),ot.height||(tt.setAttribute("height",""+V.height),this.attr("height",V.height)),tt.setAttribute("href",yt.toDataURL())}},q}(E),N=z,j=i("9pBU"),F=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="line",V.canFill=!1,V.canStroke=!0,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},q.prototype.createPath=function(V,ot){var tt=this.attr(),yt=this.get("el");Object(I.j)(ot||tt,function(Pt,Ft){if(Ft==="startArrow"||Ft==="endArrow")if(Pt){var Wt=Object(I.M)(Pt)?V.addArrow(tt,C.b[Ft]):V.getDefaultArrow(tt,C.b[Ft]);yt.setAttribute(C.b[Ft],"url(#"+Wt+")")}else yt.removeAttribute(C.b[Ft]);else C.b[Ft]&&yt.setAttribute(C.b[Ft],Pt)})},q.prototype.getTotalLength=function(){var V=this.attr(),ot=V.x1,tt=V.y1,yt=V.x2,Pt=V.y2;return j.c.length(ot,tt,yt,Pt)},q.prototype.getPoint=function(V){var ot=this.attr(),tt=ot.x1,yt=ot.y1,Pt=ot.x2,Ft=ot.y2;return j.c.pointAt(tt,yt,Pt,Ft,V)},q}(E),k=F,$={circle:function(q,V,ot){return[["M",q,V],["m",-ot,0],["a",ot,ot,0,1,0,ot*2,0],["a",ot,ot,0,1,0,-ot*2,0]]},square:function(q,V,ot){return[["M",q-ot,V-ot],["L",q+ot,V-ot],["L",q+ot,V+ot],["L",q-ot,V+ot],["Z"]]},diamond:function(q,V,ot){return[["M",q-ot,V],["L",q,V-ot],["L",q+ot,V],["L",q,V+ot],["Z"]]},triangle:function(q,V,ot){var tt=ot*Math.sin(1/3*Math.PI);return[["M",q-ot,V+tt],["L",q,V-tt],["L",q+ot,V+tt],["z"]]},triangleDown:function(q,V,ot){var tt=ot*Math.sin(1/3*Math.PI);return[["M",q-ot,V-tt],["L",q+ot,V-tt],["L",q,V+tt],["Z"]]}},nt={get:function(q){return $[q]},register:function(q,V){$[q]=V},remove:function(q){delete $[q]},getAll:function(){return $}},st=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="marker",V.canFill=!0,V.canStroke=!0,V}return q.prototype.createPath=function(V){var ot=this.get("el");ot.setAttribute("d",this._assembleMarker())},q.prototype._assembleMarker=function(){var V=this._getPath();return Object(I.B)(V)?V.map(function(ot){return ot.join(" ")}).join(""):V},q.prototype._getPath=function(){var V=this.attr(),ot=V.x,tt=V.y,yt=V.r||V.radius,Pt=V.symbol||"circle",Ft;return Object(I.H)(Pt)?Ft=Pt:Ft=nt.get(Pt),Ft?Ft(ot,tt,yt):(console.warn(Ft+" symbol is not exist."),null)},q.symbolsFactory=nt,q}(E),rt=st,Q=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="path",V.canFill=!0,V.canStroke=!0,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{startArrow:!1,endArrow:!1})},q.prototype.createPath=function(V,ot){var tt=this,yt=this.attr(),Pt=this.get("el");Object(I.j)(ot||yt,function(Ft,Wt){if(Wt==="path"&&Object(I.B)(Ft))Pt.setAttribute("d",tt._formatPath(Ft));else if(Wt==="startArrow"||Wt==="endArrow")if(Ft){var Vt=Object(I.M)(Ft)?V.addArrow(yt,C.b[Wt]):V.getDefaultArrow(yt,C.b[Wt]);Pt.setAttribute(C.b[Wt],"url(#"+Vt+")")}else Pt.removeAttribute(C.b[Wt]);else C.b[Wt]&&Pt.setAttribute(C.b[Wt],Ft)})},q.prototype._formatPath=function(V){var ot=V.map(function(tt){return tt.join(" ")}).join("");return~ot.indexOf("NaN")?"":ot},q.prototype.getTotalLength=function(){var V=this.get("el");return V?V.getTotalLength():null},q.prototype.getPoint=function(V){var ot=this.get("el"),tt=this.getTotalLength();if(tt===0)return null;var yt=ot?ot.getPointAtLength(V*tt):null;return yt?{x:yt.x,y:yt.y}:null},q}(E),Y=Q,K=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="polygon",V.canFill=!0,V.canStroke=!0,V}return q.prototype.createPath=function(V,ot){var tt=this.attr(),yt=this.get("el");Object(I.j)(ot||tt,function(Pt,Ft){Ft==="points"&&Object(I.B)(Pt)&&Pt.length>=2?yt.setAttribute("points",Pt.map(function(Wt){return Wt[0]+","+Wt[1]}).join(" ")):C.b[Ft]&&yt.setAttribute(C.b[Ft],Pt)})},q}(E),et=K,ut=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="polyline",V.canFill=!0,V.canStroke=!0,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{startArrow:!1,endArrow:!1})},q.prototype.onAttrChange=function(V,ot,tt){Mt.prototype.onAttrChange.call(this,V,ot,tt),["points"].indexOf(V)!==-1&&this._resetCache()},q.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},q.prototype.createPath=function(V,ot){var tt=this.attr(),yt=this.get("el");Object(I.j)(ot||tt,function(Pt,Ft){Ft==="points"&&Object(I.B)(Pt)&&Pt.length>=2?yt.setAttribute("points",Pt.map(function(Wt){return Wt[0]+","+Wt[1]}).join(" ")):C.b[Ft]&&yt.setAttribute(C.b[Ft],Pt)})},q.prototype.getTotalLength=function(){var V=this.attr().points,ot=this.get("totalLength");return Object(I.I)(ot)?(this.set("totalLength",j.d.length(V)),this.get("totalLength")):ot},q.prototype.getPoint=function(V){var ot=this.attr().points,tt=this.get("tCache");tt||(this._setTcache(),tt=this.get("tCache"));var yt,Pt;return Object(I.j)(tt,function(Ft,Wt){V>=Ft[0]&&V<=Ft[1]&&(yt=(V-Ft[0])/(Ft[1]-Ft[0]),Pt=Wt)}),j.c.pointAt(ot[Pt][0],ot[Pt][1],ot[Pt+1][0],ot[Pt+1][1],yt)},q.prototype._setTcache=function(){var V=this.attr().points;if(!(!V||V.length===0)){var ot=this.getTotalLength();if(!(ot<=0)){var tt=0,yt=[],Pt,Ft;Object(I.j)(V,function(Wt,Vt){V[Vt+1]&&(Pt=[],Pt[0]=tt/ot,Ft=j.c.length(Wt[0],Wt[1],V[Vt+1][0],V[Vt+1][1]),tt+=Ft,Pt[1]=tt/ot,yt.push(Pt))}),this.set("tCache",yt)}}},q.prototype.getStartTangent=function(){var V=this.attr().points,ot=[];return ot.push([V[1][0],V[1][1]]),ot.push([V[0][0],V[0][1]]),ot},q.prototype.getEndTangent=function(){var V=this.attr().points,ot=V.length-1,tt=[];return tt.push([V[ot-1][0],V[ot-1][1]]),tt.push([V[ot][0],V[ot][1]]),tt},q}(E),dt=ut,vt=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,at=/[^\s,]+/gi;function pt(Mt){var q=0,V=0,ot=0,tt=0;return Object(I.B)(Mt)?Mt.length===1?q=V=ot=tt=Mt[0]:Mt.length===2?(q=ot=Mt[0],V=tt=Mt[1]):Mt.length===3?(q=Mt[0],V=tt=Mt[1],ot=Mt[2]):(q=Mt[0],V=Mt[1],ot=Mt[2],tt=Mt[3]):q=V=ot=tt=Mt,{r1:q,r2:V,r3:ot,r4:tt}}function Tt(Mt){if(Mt=Mt||[],Object(I.B)(Mt))return Mt;if(Object(I.O)(Mt))return Mt=Mt.match(vt),Object(I.j)(Mt,function(q,V){if(q=q.match(at),q[0].length>1){var ot=q[0].charAt(0);q.splice(1,0,q[0].substr(1)),q[0]=ot}Object(I.j)(q,function(tt,yt){isNaN(tt)||(q[yt]=+tt)}),Mt[V]=q}),Mt}var Gt=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="rect",V.canFill=!0,V.canStroke=!0,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{x:0,y:0,width:0,height:0,radius:0})},q.prototype.createPath=function(V,ot){var tt=this,yt=this.attr(),Pt=this.get("el"),Ft=!1,Wt=["x","y","width","height","radius"];Object(I.j)(ot||yt,function(Vt,Lt){Wt.indexOf(Lt)!==-1&&!Ft?(Pt.setAttribute("d",tt._assembleRect(yt)),Ft=!0):Wt.indexOf(Lt)===-1&&C.b[Lt]&&Pt.setAttribute(C.b[Lt],Vt)})},q.prototype._assembleRect=function(V){var ot=V.x,tt=V.y,yt=V.width,Pt=V.height,Ft=V.radius;if(!Ft)return"M "+ot+","+tt+" l "+yt+",0 l 0,"+Pt+" l"+-yt+" 0 z";var Wt=pt(Ft);Object(I.B)(Ft)?Ft.length===1?Wt.r1=Wt.r2=Wt.r3=Wt.r4=Ft[0]:Ft.length===2?(Wt.r1=Wt.r3=Ft[0],Wt.r2=Wt.r4=Ft[1]):Ft.length===3?(Wt.r1=Ft[0],Wt.r2=Wt.r4=Ft[1],Wt.r3=Ft[2]):(Wt.r1=Ft[0],Wt.r2=Ft[1],Wt.r3=Ft[2],Wt.r4=Ft[3]):Wt.r1=Wt.r2=Wt.r3=Wt.r4=Ft;var Vt=[["M "+(ot+Wt.r1)+","+tt],["l "+(yt-Wt.r1-Wt.r2)+",0"],["a "+Wt.r2+","+Wt.r2+",0,0,1,"+Wt.r2+","+Wt.r2],["l 0,"+(Pt-Wt.r2-Wt.r3)],["a "+Wt.r3+","+Wt.r3+",0,0,1,"+-Wt.r3+","+Wt.r3],["l "+(Wt.r3+Wt.r4-yt)+",0"],["a "+Wt.r4+","+Wt.r4+",0,0,1,"+-Wt.r4+","+-Wt.r4],["l 0,"+(Wt.r4+Wt.r1-Pt)],["a "+Wt.r1+","+Wt.r1+",0,0,1,"+Wt.r1+","+-Wt.r1],["z"]];return Vt.join(" ")},q}(E),Kt=Gt,Xt=i("qfLv"),gt=.3,lt={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},ft={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},it={left:"left",start:"left",center:"middle",right:"end",end:"end"},bt=function(Mt){Object(o.c)(q,Mt);function q(){var V=Mt!==null&&Mt.apply(this,arguments)||this;return V.type="text",V.canFill=!0,V.canStroke=!0,V}return q.prototype.getDefaultAttrs=function(){var V=Mt.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},V),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},q.prototype.createPath=function(V,ot){var tt=this,yt=this.attr(),Pt=this.get("el");this._setFont(),Object(I.j)(ot||yt,function(Ft,Wt){Wt==="text"?tt._setText(""+Ft):Wt==="matrix"&&Ft?Object(x.c)(tt):C.b[Wt]&&Pt.setAttribute(C.b[Wt],Ft)}),Pt.setAttribute("paint-order","stroke"),Pt.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},q.prototype._setFont=function(){var V=this.get("el"),ot=this.attr(),tt=ot.textBaseline,yt=ot.textAlign,Pt=Object(Xt.a)();Pt&&Pt.name==="firefox"?V.setAttribute("dominant-baseline",ft[tt]||"alphabetic"):V.setAttribute("alignment-baseline",lt[tt]||"baseline"),V.setAttribute("text-anchor",it[yt]||"left")},q.prototype._setText=function(V){var ot=this.get("el"),tt=this.attr(),yt=tt.x,Pt=tt.textBaseline,Ft=Pt===void 0?"bottom":Pt;if(!V)ot.innerHTML="";else if(~V.indexOf(`
`)){var Wt=V.split(`
`),Vt=Wt.length-1,Lt="";Object(I.j)(Wt,function(Ct,_){_===0?Ft==="alphabetic"?Lt+='<tspan x="'+yt+'" dy="'+-Vt+'em">'+Ct+"</tspan>":Ft==="top"?Lt+='<tspan x="'+yt+'" dy="0.9em">'+Ct+"</tspan>":Ft==="middle"?Lt+='<tspan x="'+yt+'" dy="'+-(Vt-1)/2+'em">'+Ct+"</tspan>":Ft==="bottom"?Lt+='<tspan x="'+yt+'" dy="-'+(Vt+gt)+'em">'+Ct+"</tspan>":Ft==="hanging"&&(Lt+='<tspan x="'+yt+'" dy="'+(-(Vt-1)-gt)+'em">'+Ct+"</tspan>"):Lt+='<tspan x="'+yt+'" dy="1em">'+Ct+"</tspan>"}),ot.innerHTML=Lt}else ot.innerHTML=V},q}(E),Dt=bt},"p/Nb":function(wt,P,i){"use strict";var d=i("XSdR"),o=i("hppO"),b=i("FeKW").positionX;wt.exports=x;function x(D){D=o.asNonCompoundGraph(D),M(D),d.forEach(b(D),function(C,S){D.node(S).x=C})}function M(D){var C=o.buildLayerMatrix(D),S=D.graph().ranksep,O=0;d.forEach(C,function(E){var I=d.max(d.map(E,function(A){return D.node(A).height}));d.forEach(E,function(A){D.node(A).y=O+I/2}),O+=I+S})}},p6OM:function(wt,P,i){"use strict";i.d(P,"a",function(){return S});var d=i("piQC"),o=i("Cw9K"),b=i("AOO/"),x=i("rwKT"),M=i("lCDx"),D=i("x7X8");i.d(P,"b",function(){return D.b});function C(O){var E=O.chart,I=O.options,A=I.data,R=I.color,B=I.columnStyle,p=I.columnWidthRatio,G=Object(M.a)(A);E.data(G);var W=Object(o.b)({},O,{options:{xField:x.c,yField:x.d,widthRatio:p,interval:{style:B,color:R}}});return Object(b.c)(W),E.axis(!1),E.legend(!1),E.interaction("element-active"),O}function S(O){return Object(o.e)(C,D.b,d.k,d.j,d.a,Object(d.b)())(O)}},pDxI:function(wt,P,i){"use strict";i.d(P,"a",function(){return d});function d(o,b){var x={};return o!==null&&typeof o=="object"&&b.forEach(function(M){var D=o[M];D!==void 0&&(x[M]=D)}),x}},pHwo:function(wt,P){wt.exports=1e-6},pQ2l:function(wt,P,i){"use strict";i.d(P,"a",function(){return d});function d(o){return o&&o.slice().reverse()}},pUwi:function(wt,P,i){wt.exports=i("PdHs")},piQC:function(wt,P,i){"use strict";i.d(P,"d",function(){return M}),i.d(P,"k",function(){return D}),i.d(P,"c",function(){return C}),i.d(P,"a",function(){return S}),i.d(P,"j",function(){return O}),i.d(P,"i",function(){return E}),i.d(P,"h",function(){return I}),i.d(P,"g",function(){return A}),i.d(P,"f",function(){return R}),i.d(P,"b",function(){return B}),i.d(P,"e",function(){return p});var d=i("J+IK"),o=i("jg4I"),b=i("lWkY"),x=i("Cw9K");function M(G){var W=G.chart,z=G.options,N=z.legend,j=z.colorField,F=z.seriesField;return N===!1?W.legend(!1):(j||F)&&W.legend(j||F,N),G}function D(G){var W=G.chart,z=G.options,N=z.tooltip;return N!==void 0&&W.tooltip(N),G}function C(G){var W=G.chart,z=G.options,N=z.interactions;return Object(o.j)(N,function(j){j.enable===!1?W.removeInteraction(j.type):W.interaction(j.type,j.cfg||{})}),G}function S(G){var W=G.chart,z=G.options,N=z.animation;return typeof N=="boolean"?W.animate(N):W.animate(!0),Object(o.j)(W.geometries,function(j){j.animate(N)}),G}function O(G){var W=G.chart,z=G.options,N=z.theme;return N&&W.theme(N),G}function E(G){var W=G.chart,z=G.options,N=z.state;return N&&Object(o.j)(W.geometries,function(j){j.state(N)}),G}function I(G){var W=G.chart,z=G.options,N=z.slider;return W.option("slider",N),G}function A(G){var W=G.chart,z=G.options,N=z.scrollbar;return W.option("scrollbar",N),G}function R(G,W){return function(z){var N=z.chart,j=z.options,F={};return Object(o.j)(G,function(k,$){F[$]=Object(x.q)(k,b.a)}),F=Object(x.b)({},W,j.meta,F),N.scale(F),z}}function B(G){return function(W){var z=W.chart,N=W.options,j=z.getController("annotation");return Object(o.j)(Object(d.g)(N.annotations||[],G||[]),function(F){j.annotation(F)}),W}}function p(G){var W=G.chart,z=G.options,N=z.yAxis,j=z.limitInPlot,F=j;return Object(o.M)(N)&&Object(o.I)(j)&&(Object.values(Object(x.q)(N,["min","max","minLimit","maxLimit"])).some(function(k){return!Object(o.I)(k)})?F=!0:F=!1),W.limitInPlot=F,G}},q6M4:function(wt,P,i){"use strict";i.d(P,"a",function(){return O});var d=i("J+IK"),o=i("18og"),b=i("Gc/9"),x=i("Cw9K"),M=i("CMcZ"),D=i("4SeD"),C=i("XIMx"),S=i("eG+y"),O=function(E){Object(d.c)(I,E);function I(){var A=E!==null&&E.apply(this,arguments)||this;return A.type="pie",A}return I.getDefaultOptions=function(){return D.a},I.prototype.changeData=function(A){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var R=this.options,B=this.options.angleField,p=Object(x.r)(R.data,B),G=Object(x.r)(A,B);Object(C.c)(p,B)||Object(C.c)(G,B)?this.update({data:A}):(this.updateOption({data:A}),this.chart.data(G),Object(M.b)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},I.prototype.getDefaultOptions=function(){return I.getDefaultOptions()},I.prototype.getSchemaAdaptor=function(){return M.a},I}(b.b)},q9WB:function(wt,P,i){"use strict";i.d(P,"a",function(){return C});var d=i("J+IK"),o=i("18og"),b=i("Gc/9"),x=i("DTnF"),M=i("0n2G"),D=i("5mgD");Object(o.registerShape)("point","gauge-indicator",{draw:function(O,E){var I=O.customInfo,A=I.indicator,R=I.defaultColor,B=A,p=B.pointer,G=B.pin,W=E.addGroup(),z=this.parsePoint({x:0,y:0});return p&&W.addShape("line",{name:"pointer",attrs:Object(d.a)({x1:z.x,y1:z.y,x2:O.x,y2:O.y,stroke:R},p.style)}),G&&W.addShape("circle",{name:"pin",attrs:Object(d.a)({x:z.x,y:z.y,stroke:R},G.style)}),W}}),Object(o.registerShape)("interval","meter-gauge",{draw:function(O,E){var I=O.customInfo.meter,A=I===void 0?{}:I,R=A.steps,B=R===void 0?50:R,p=A.stepRatio,G=p===void 0?.5:p,W=this.coordinate.endAngle-this.coordinate.startAngle,z=W/B,N=0;G>0&&G<=1&&(z=W/((1-G)/G*(B-1)+B),N=z*(1-G)/G);var j=E.addGroup();if(N>0)for(var F=this.coordinate.getCenter(),k=this.coordinate.getRadius(),$=o.Util.getAngle(O,this.coordinate),nt=$.startAngle,st=$.endAngle,rt=nt,Q=0;rt<st&&Q<2*B-1;Q++){var Y=Q%2;if(Y){var K=o.Util.getSectorPath(F.x,F.y,k,rt,Math.min(rt+N,st),k*this.coordinate.innerRadius);j.addShape("path",{name:"meter-gauge-mask",attrs:{path:K,fill:O.color,stroke:O.color,lineWidth:.5},capture:!1})}rt+=Y?N:z}return j}});var C=function(S){Object(d.c)(O,S);function O(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="gauge",E}return O.getDefaultOptions=function(){return M.b},O.prototype.changeData=function(E){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:E});var I=this.chart.views.find(function(R){return R.id===M.c});I&&I.data(Object(D.a)(E));var A=this.chart.views.find(function(R){return R.id===M.h});A&&A.data(Object(D.b)(E,this.options.range)),Object(x.b)({chart:this.chart,options:this.options},!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},O.prototype.getDefaultOptions=function(){return O.getDefaultOptions()},O.prototype.getSchemaAdaptor=function(){return x.a},O}(b.b)},qJ52:function(wt,P){function i(d,o){if(!(d instanceof o))throw new TypeError("Cannot call a class as a function")}wt.exports=i,wt.exports.default=wt.exports,wt.exports.__esModule=!0},qRoJ:function(wt,P,i){"use strict";var d=i("ytXd"),o=i("VMwZ"),b=[].slice,x=["keyword","gray","hex"],M={};Object.keys(o).forEach(function(B){M[b.call(o[B].labels).sort().join("")]=B});var D={};function C(B,p){if(!(this instanceof C))return new C(B,p);if(p&&p in x&&(p=null),p&&!(p in o))throw new Error("Unknown model: "+p);var G,W;if(B==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(B instanceof C)this.model=B.model,this.color=B.color.slice(),this.valpha=B.valpha;else if(typeof B=="string"){var z=d.get(B);if(z===null)throw new Error("Unable to parse color from string: "+B);this.model=z.model,W=o[this.model].channels,this.color=z.value.slice(0,W),this.valpha=typeof z.value[W]=="number"?z.value[W]:1}else if(B.length){this.model=p||"rgb",W=o[this.model].channels;var N=b.call(B,0,W);this.color=R(N,W),this.valpha=typeof B[W]=="number"?B[W]:1}else if(typeof B=="number")B&=16777215,this.model="rgb",this.color=[B>>16&255,B>>8&255,B&255],this.valpha=1;else{this.valpha=1;var j=Object.keys(B);"alpha"in B&&(j.splice(j.indexOf("alpha"),1),this.valpha=typeof B.alpha=="number"?B.alpha:0);var F=j.sort().join("");if(!(F in M))throw new Error("Unable to parse color from object: "+JSON.stringify(B));this.model=M[F];var k=o[this.model].labels,$=[];for(G=0;G<k.length;G++)$.push(B[k[G]]);this.color=R($)}if(D[this.model])for(W=o[this.model].channels,G=0;G<W;G++){var nt=D[this.model][G];nt&&(this.color[G]=nt(this.color[G]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}C.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(p){var G=this.model in d.to?this:this.rgb();G=G.round(typeof p=="number"?p:1);var W=G.valpha===1?G.color:G.color.concat(this.valpha);return d.to[G.model](W)},percentString:function(p){var G=this.rgb().round(typeof p=="number"?p:1),W=G.valpha===1?G.color:G.color.concat(this.valpha);return d.to.rgb.percent(W)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var p={},G=o[this.model].channels,W=o[this.model].labels,z=0;z<G;z++)p[W[z]]=this.color[z];return this.valpha!==1&&(p.alpha=this.valpha),p},unitArray:function(){var p=this.rgb().color;return p[0]/=255,p[1]/=255,p[2]/=255,this.valpha!==1&&p.push(this.valpha),p},unitObject:function(){var p=this.rgb().object();return p.r/=255,p.g/=255,p.b/=255,this.valpha!==1&&(p.alpha=this.valpha),p},round:function(p){return p=Math.max(p||0,0),new C(this.color.map(O(p)).concat(this.valpha),this.model)},alpha:function(p){return arguments.length?new C(this.color.concat(Math.max(0,Math.min(1,p))),this.model):this.valpha},red:E("rgb",0,I(255)),green:E("rgb",1,I(255)),blue:E("rgb",2,I(255)),hue:E(["hsl","hsv","hsl","hwb","hcg"],0,function(B){return(B%360+360)%360}),saturationl:E("hsl",1,I(100)),lightness:E("hsl",2,I(100)),saturationv:E("hsv",1,I(100)),value:E("hsv",2,I(100)),chroma:E("hcg",1,I(100)),gray:E("hcg",2,I(100)),white:E("hwb",1,I(100)),wblack:E("hwb",2,I(100)),cyan:E("cmyk",0,I(100)),magenta:E("cmyk",1,I(100)),yellow:E("cmyk",2,I(100)),black:E("cmyk",3,I(100)),x:E("xyz",0,I(100)),y:E("xyz",1,I(100)),z:E("xyz",2,I(100)),l:E("lab",0,I(100)),a:E("lab",1),b:E("lab",2),keyword:function(p){return arguments.length?new C(p):o[this.model].keyword(this.color)},hex:function(p){return arguments.length?new C(p):d.to.hex(this.rgb().round().color)},rgbNumber:function(){var p=this.rgb().color;return(p[0]&255)<<16|(p[1]&255)<<8|p[2]&255},luminosity:function(){for(var p=this.rgb().color,G=[],W=0;W<p.length;W++){var z=p[W]/255;G[W]=z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4)}return .2126*G[0]+.7152*G[1]+.0722*G[2]},contrast:function(p){var G=this.luminosity(),W=p.luminosity();return G>W?(G+.05)/(W+.05):(W+.05)/(G+.05)},level:function(p){var G=this.contrast(p);return G>=7.1?"AAA":G>=4.5?"AA":""},isDark:function(){var p=this.rgb().color,G=(p[0]*299+p[1]*587+p[2]*114)/1e3;return G<128},isLight:function(){return!this.isDark()},negate:function(){for(var p=this.rgb(),G=0;G<3;G++)p.color[G]=255-p.color[G];return p},lighten:function(p){var G=this.hsl();return G.color[2]+=G.color[2]*p,G},darken:function(p){var G=this.hsl();return G.color[2]-=G.color[2]*p,G},saturate:function(p){var G=this.hsl();return G.color[1]+=G.color[1]*p,G},desaturate:function(p){var G=this.hsl();return G.color[1]-=G.color[1]*p,G},whiten:function(p){var G=this.hwb();return G.color[1]+=G.color[1]*p,G},blacken:function(p){var G=this.hwb();return G.color[2]+=G.color[2]*p,G},grayscale:function(){var p=this.rgb().color,G=p[0]*.3+p[1]*.59+p[2]*.11;return C.rgb(G,G,G)},fade:function(p){return this.alpha(this.valpha-this.valpha*p)},opaquer:function(p){return this.alpha(this.valpha+this.valpha*p)},rotate:function(p){var G=this.hsl(),W=G.color[0];return W=(W+p)%360,W=W<0?360+W:W,G.color[0]=W,G},mix:function(p,G){if(!p||!p.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof p);var W=p.rgb(),z=this.rgb(),N=G===void 0?.5:G,j=2*N-1,F=W.alpha()-z.alpha(),k=((j*F==-1?j:(j+F)/(1+j*F))+1)/2,$=1-k;return C.rgb(k*W.red()+$*z.red(),k*W.green()+$*z.green(),k*W.blue()+$*z.blue(),W.alpha()*N+z.alpha()*(1-N))}},Object.keys(o).forEach(function(B){if(x.indexOf(B)===-1){var p=o[B].channels;C.prototype[B]=function(){if(this.model===B)return new C(this);if(arguments.length)return new C(arguments,B);var G=typeof arguments[p]=="number"?p:this.valpha;return new C(A(o[this.model][B].raw(this.color)).concat(G),B)},C[B]=function(G){return typeof G=="number"&&(G=R(b.call(arguments),p)),new C(G,B)}}});function S(B,p){return Number(B.toFixed(p))}function O(B){return function(p){return S(p,B)}}function E(B,p,G){return B=Array.isArray(B)?B:[B],B.forEach(function(W){(D[W]||(D[W]=[]))[p]=G}),B=B[0],function(W){var z;return arguments.length?(G&&(W=G(W)),z=this[B](),z.color[p]=W,z):(z=this[B]().color[p],G&&(z=G(z)),z)}}function I(B){return function(p){return Math.max(0,Math.min(B,p))}}function A(B){return Array.isArray(B)?B:[B]}function R(B,p){for(var G=0;G<p;G++)typeof B[G]!="number"&&(B[G]=0);return B}wt.exports=C},qSJf:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.id=void 0;var d=0;function o(){return d++}P.id=o},qTrL:function(wt,P){var i=800,d=16,o=Date.now;function b(x){var M=0,D=0;return function(){var C=o(),S=d-(C-D);if(D=C,S>0){if(++M>=i)return arguments[0]}else M=0;return x.apply(void 0,arguments)}}wt.exports=b},qTvU:function(wt,P,i){var d=i("2PUN");function o(b){var x=b==null?0:b.length;return x?d(b,1):[]}wt.exports=o},qXgj:function(wt,P,i){var d=i("IZ4i"),o=i("qTrL"),b=o(d);wt.exports=b},qccO:function(wt,P,i){var d=i("qhWv"),o=1/0,b=17976931348623157e292;function x(M){if(!M)return M===0?M:0;if(M=d(M),M===o||M===-o){var D=M<0?-1:1;return D*b}return M===M?M:0}wt.exports=x},qfLv:function(wt,P,i){"use strict";(function(d){i.d(P,"a",function(){return R});var o=function(){for(var j=0,F=0,k=arguments.length;F<k;F++)j+=arguments[F].length;for(var $=Array(j),nt=0,F=0;F<k;F++)for(var st=arguments[F],rt=0,Q=st.length;rt<Q;rt++,nt++)$[nt]=st[rt];return $},b=function(){function j(F,k,$){this.name=F,this.version=k,this.os=$,this.type="browser"}return j}(),x=function(){function j(F){this.version=F,this.type="node",this.name="node",this.os=d.platform}return j}(),M=function(){function j(F,k,$,nt){this.name=F,this.version=k,this.os=$,this.bot=nt,this.type="bot-device"}return j}(),D=function(){function j(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return j}(),C=function(){function j(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return j}(),S=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,O=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,E=3,I=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",S]],A=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function R(j){return j?G(j):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new C:typeof navigator!="undefined"?G(navigator.userAgent):z()}function B(j){return j!==""&&I.reduce(function(F,k){var $=k[0],nt=k[1];if(F)return F;var st=nt.exec(j);return!!st&&[$,st]},!1)}function p(j){var F=B(j);return F?F[0]:null}function G(j){var F=B(j);if(!F)return null;var k=F[0],$=F[1];if(k==="searchbot")return new D;var nt=$[1]&&$[1].split(/[._]/).slice(0,3);nt?nt.length<E&&(nt=o(nt,N(E-nt.length))):nt=[];var st=nt.join("."),rt=W(j),Q=O.exec(j);return Q&&Q[1]?new M(k,st,rt,Q[1]):new b(k,st,rt)}function W(j){for(var F=0,k=A.length;F<k;F++){var $=A[F],nt=$[0],st=$[1],rt=st.exec(j);if(rt)return nt}return null}function z(){var j=typeof d!="undefined"&&d.version;return j?new x(d.version.slice(1)):null}function N(j){for(var F=[],k=0;k<j;k++)F.push("0");return F}}).call(this,i("7vYp"))},qh6B:function(wt,P,i){"use strict";i.d(P,"b",function(){return b});var d=i("yK/m"),o=i("H6vk");P.a=function(x,M){return(Object(o.b)(M)?o.a:b)(x,M)};function b(x,M){var D=M?M.length:0,C=x?Math.min(D,x.length):0,S=new Array(C),O=new Array(D),E;for(E=0;E<C;++E)S[E]=Object(d.a)(x[E],M[E]);for(;E<D;++E)O[E]=M[E];return function(I){for(E=0;E<C;++E)O[E]=S[E](I);return O}}},"ql+n":function(wt,P,i){var d;try{d={clone:i("WlgG"),constant:i("vqXp"),each:i("8hqx"),filter:i("NFwm"),has:i("v/6M"),isArray:i("+Gi7"),isEmpty:i("x+i1"),isFunction:i("wmqP"),isUndefined:i("4tFv"),keys:i("KmIr"),map:i("N7LH"),reduce:i("5+Yv"),size:i("cGgO"),transform:i("3f1o"),union:i("VmDj"),values:i("jHy/")}}catch(o){}d||(d=window._),wt.exports=d},qvXp:function(wt,P,i){var d=i("E9DR");wt.exports=o;function o(b,x){return d(b,x,"post")}},qwYJ:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Request=void 0;var d=i("qSJf"),o=function(){function b(x,M,D,C,S){this.id=d.id(),this.serviceIdentifier=x,this.parentContext=M,this.parentRequest=D,this.target=S,this.childRequests=[],this.bindings=Array.isArray(C)?C:[C],this.requestScope=D===null?new Map:null}return b.prototype.addChildRequest=function(x,M,D){var C=new b(x,this.parentContext,this,M,D);return this.childRequests.push(C),C},b}();P.Request=o},"r/Jg":function(wt,P){wt.exports=i;function i(d,o){return d[0]=o[0],d[1]=o[1],d}},r93A:function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=null;function o(){if(!d){var b=document.createElement("canvas");b.width=1,b.height=1,d=b.getContext("2d")}return d}},rBQE:function(wt,P){wt.exports=i;function i(d,o){var b=o[0]-d[0],x=o[1]-d[1];return Math.sqrt(b*b+x*x)}},rG0J:function(wt,P,i){"use strict";i.d(P,"a",function(){return p});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I"),x=i("piQC"),M=i("Cw9K"),D=i("AOO/");function C(G){var W=G.data,z=G.xField,N=G.measureField,j=G.rangeField,F=G.targetField,k=G.layout,$=[],nt=[];W.forEach(function(Q,Y){var K;Q[j].sort(function(et,ut){return et-ut}),Q[j].forEach(function(et,ut){var dt,vt=ut===0?et:Q[j][ut]-Q[j][ut-1];$.push((dt={rKey:j+"_"+ut},dt[z]=z?Q[z]:String(Y),dt[j]=vt,dt))}),Q[N].forEach(function(et,ut){var dt;$.push((dt={mKey:Q[N].length>1?N+"_"+ut:""+N},dt[z]=z?Q[z]:String(Y),dt[N]=et,dt))}),$.push((K={tKey:""+F},K[z]=z?Q[z]:String(Y),K[F]=Q[F],K)),nt.push(Q[j],Q[N],Q[F])});var st=Math.min.apply(Math,nt.flat(Infinity)),rt=Math.max.apply(Math,nt.flat(Infinity));return st=st>0?0:st,k==="vertical"&&$.reverse(),{min:st,max:rt,ds:$}}function S(G){var W=G.chart,z=G.options,N=z.bulletStyle,j=z.targetField,F=z.rangeField,k=z.measureField,$=z.xField,nt=z.color,st=z.layout,rt=z.size,Q=z.label,Y=C(z),K=Y.min,et=Y.max,ut=Y.ds;W.data(ut);var dt=Object(M.b)({},G,{options:{xField:$,yField:F,seriesField:"rKey",isStack:!0,label:Object(b.s)(Q,"range"),interval:{color:Object(b.s)(nt,"range"),style:Object(b.s)(N,"range"),size:Object(b.s)(rt,"range")}}});Object(D.c)(dt),W.geometries[0].tooltip(!1);var vt=Object(M.b)({},G,{options:{xField:$,yField:k,seriesField:"mKey",isStack:!0,label:Object(b.s)(Q,"measure"),interval:{color:Object(b.s)(nt,"measure"),style:Object(b.s)(N,"measure"),size:Object(b.s)(rt,"measure")}}});Object(D.c)(vt);var at=Object(M.b)({},G,{options:{xField:$,yField:j,seriesField:"tKey",label:Object(b.s)(Q,"target"),point:{color:Object(b.s)(nt,"target"),style:Object(b.s)(N,"target"),size:Object(b.H)(Object(b.s)(rt,"target"))?function(pt){return Object(b.s)(rt,"target")(pt)/2}:Object(b.s)(rt,"target")/2,shape:st==="horizontal"?"line":"hyphen"}}});return Object(D.e)(at),st==="horizontal"&&W.coordinate().transpose(),Object(d.a)(Object(d.a)({},G),{ext:{data:{min:K,max:et}}})}function O(G){var W,z,N=G.options,j=G.ext,F=N.xAxis,k=N.yAxis,$=N.targetField,nt=N.rangeField,st=N.measureField,rt=N.xField,Q=j.data;return Object(M.e)(Object(x.f)((W={},W[rt]=F,W[st]=k,W),(z={},z[st]={min:Q==null?void 0:Q.min,max:Q==null?void 0:Q.max},z[$]={sync:""+st},z[nt]={sync:""+st},z)))(G)}function E(G){var W=G.chart,z=G.options,N=z.xAxis,j=z.yAxis,F=z.xField,k=z.measureField,$=z.rangeField,nt=z.targetField;return W.axis(""+$,!1),W.axis(""+nt,!1),N===!1?W.axis(""+F,!1):W.axis(""+F,N),j===!1?W.axis(""+k,!1):W.axis(""+k,j),G}function I(G){var W=G.chart,z=G.options,N=z.legend;return W.removeInteraction("legend-filter"),W.legend(N),W.legend("rKey",!1),W.legend("mKey",!1),W.legend("tKey",!1),G}function A(G){var W=G.chart,z=G.options,N=z.label,j=z.measureField,F=z.targetField,k=z.rangeField,$=W.geometries,nt=$[0],st=$[1],rt=$[2];return Object(b.s)(N,"range")?nt.label(""+k,Object(d.a)({layout:[{type:"limit-in-plot"}]},Object(M.v)(N.range))):nt.label(!1),Object(b.s)(N,"measure")?st.label(""+j,Object(d.a)({layout:[{type:"limit-in-plot"}]},Object(M.v)(N.measure))):st.label(!1),Object(b.s)(N,"target")?rt.label(""+F,Object(d.a)({layout:[{type:"limit-in-plot"}]},Object(M.v)(N.target))):rt.label(!1),G}function R(G){Object(M.e)(S,O,E,I,x.j,A,x.k,x.c,x.a)(G)}var B=Object(M.b)({},o.b.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),p=function(G){Object(d.c)(W,G);function W(){var z=G!==null&&G.apply(this,arguments)||this;return z.type="bullet",z}return W.getDefaultOptions=function(){return B},W.prototype.changeData=function(z){this.updateOption({data:z});var N=C(this.options),j=N.min,F=N.max,k=N.ds;O({options:this.options,ext:{data:{min:j,max:F}},chart:this.chart}),this.chart.changeData(k)},W.prototype.getSchemaAdaptor=function(){return R},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W}(o.b)},rJDL:function(wt,P,i){var d=i("XSdR"),o=i("L9IJ"),b=i("devy"),x=i("yWrq");wt.exports=M;function M(S,O,E,I){var A=S.children(O),R=S.node(O),B=R?R.borderLeft:void 0,p=R?R.borderRight:void 0,G={};B&&(A=d.filter(A,function(k){return k!==B&&k!==p}));var W=o(S,A);d.forEach(W,function(k){if(S.children(k.v).length){var $=M(S,k.v,E,I);G[k.v]=$,d.has($,"barycenter")&&C(k,$)}});var z=b(W,E);D(z,G);var N=x(z,I);if(B&&(N.vs=d.flatten([B,N.vs,p],!0),S.predecessors(B).length)){var j=S.node(S.predecessors(B)[0]),F=S.node(S.predecessors(p)[0]);d.has(N,"barycenter")||(N.barycenter=0,N.weight=0),N.barycenter=(N.barycenter*N.weight+j.order+F.order)/(N.weight+2),N.weight+=2}return N}function D(S,O){d.forEach(S,function(E){E.vs=d.flatten(E.vs.map(function(I){return O[I]?O[I].vs:I}),!0)})}function C(S,O){d.isUndefined(S.barycenter)?(S.barycenter=O.barycenter,S.weight=O.weight):(S.barycenter=(S.barycenter*S.weight+O.barycenter*O.weight)/(S.weight+O.weight),S.weight+=O.weight)}},rMkn:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Metadata=void 0;var d=i("9L8m"),o=function(){function b(x,M){this.key=x,this.value=M}return b.prototype.toString=function(){return this.key===d.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},b}();P.Metadata=o},riA0:function(wt,P,i){"use strict";i.d(P,"a",function(){return pt}),i.d(P,"b",function(){return Kt}),i.d(P,"c",function(){return M});var d=i("jg4I"),o=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,b=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),M=function(gt){if(!gt)return null;if(Object(d.B)(gt))return gt;var lt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(gt).replace(b,function(it,bt,Dt){var Mt=[],q=bt.toLowerCase();if(Dt.replace(x,function(V,ot){ot&&Mt.push(+ot)}),q==="m"&&Mt.length>2&&(ft.push([bt].concat(Mt.splice(0,2))),q="l",bt=bt==="m"?"l":"L"),q==="o"&&Mt.length===1&&ft.push([bt,Mt[0]]),q==="r")ft.push([bt].concat(Mt));else for(;Mt.length>=lt[q]&&(ft.push([bt].concat(Mt.splice(0,lt[q]))),!!lt[q]););return gt}),ft},D=function(gt,lt){for(var ft=[],it=0,bt=gt.length;bt-2*!lt>it;it+=2){var Dt=[{x:+gt[it-2],y:+gt[it-1]},{x:+gt[it],y:+gt[it+1]},{x:+gt[it+2],y:+gt[it+3]},{x:+gt[it+4],y:+gt[it+5]}];lt?it?bt-4===it?Dt[3]={x:+gt[0],y:+gt[1]}:bt-2===it&&(Dt[2]={x:+gt[0],y:+gt[1]},Dt[3]={x:+gt[2],y:+gt[3]}):Dt[0]={x:+gt[bt-2],y:+gt[bt-1]}:bt-4===it?Dt[3]=Dt[2]:it||(Dt[0]={x:+gt[it],y:+gt[it+1]}),ft.push(["C",(-Dt[0].x+6*Dt[1].x+Dt[2].x)/6,(-Dt[0].y+6*Dt[1].y+Dt[2].y)/6,(Dt[1].x+6*Dt[2].x-Dt[3].x)/6,(Dt[1].y+6*Dt[2].y-Dt[3].y)/6,Dt[2].x,Dt[2].y])}return ft},C=function(gt,lt,ft,it,bt){var Dt=[];if(bt===null&&it===null&&(it=ft),gt=+gt,lt=+lt,ft=+ft,it=+it,bt!==null){var Mt=Math.PI/180,q=gt+ft*Math.cos(-it*Mt),V=gt+ft*Math.cos(-bt*Mt),ot=lt+ft*Math.sin(-it*Mt),tt=lt+ft*Math.sin(-bt*Mt);Dt=[["M",q,ot],["A",ft,ft,0,+(bt-it>180),0,V,tt]]}else Dt=[["M",gt,lt],["m",0,-it],["a",ft,it,0,1,1,0,2*it],["a",ft,it,0,1,1,0,-2*it],["z"]];return Dt},S=function(gt){if(gt=M(gt),!gt||!gt.length)return[["M",0,0]];var lt=[],ft=0,it=0,bt=0,Dt=0,Mt=0,q,V;gt[0][0]==="M"&&(ft=+gt[0][1],it=+gt[0][2],bt=ft,Dt=it,Mt++,lt[0]=["M",ft,it]);for(var ot=gt.length===3&&gt[0][0]==="M"&&gt[1][0].toUpperCase()==="R"&&gt[2][0].toUpperCase()==="Z",tt=void 0,yt=void 0,Pt=Mt,Ft=gt.length;Pt<Ft;Pt++){if(lt.push(tt=[]),yt=gt[Pt],q=yt[0],q!==q.toUpperCase())switch(tt[0]=q.toUpperCase(),tt[0]){case"A":tt[1]=yt[1],tt[2]=yt[2],tt[3]=yt[3],tt[4]=yt[4],tt[5]=yt[5],tt[6]=+yt[6]+ft,tt[7]=+yt[7]+it;break;case"V":tt[1]=+yt[1]+it;break;case"H":tt[1]=+yt[1]+ft;break;case"R":V=[ft,it].concat(yt.slice(1));for(var Wt=2,Vt=V.length;Wt<Vt;Wt++)V[Wt]=+V[Wt]+ft,V[++Wt]=+V[Wt]+it;lt.pop(),lt=lt.concat(D(V,ot));break;case"O":lt.pop(),V=C(ft,it,yt[1],yt[2]),V.push(V[0]),lt=lt.concat(V);break;case"U":lt.pop(),lt=lt.concat(C(ft,it,yt[1],yt[2],yt[3])),tt=["U"].concat(lt[lt.length-1].slice(-2));break;case"M":bt=+yt[1]+ft,Dt=+yt[2]+it;break;default:for(var Wt=1,Vt=yt.length;Wt<Vt;Wt++)tt[Wt]=+yt[Wt]+(Wt%2?ft:it)}else if(q==="R")V=[ft,it].concat(yt.slice(1)),lt.pop(),lt=lt.concat(D(V,ot)),tt=["R"].concat(yt.slice(-2));else if(q==="O")lt.pop(),V=C(ft,it,yt[1],yt[2]),V.push(V[0]),lt=lt.concat(V);else if(q==="U")lt.pop(),lt=lt.concat(C(ft,it,yt[1],yt[2],yt[3])),tt=["U"].concat(lt[lt.length-1].slice(-2));else for(var Lt=0,Ct=yt.length;Lt<Ct;Lt++)tt[Lt]=yt[Lt];if(q=q.toUpperCase(),q!=="O")switch(tt[0]){case"Z":ft=+bt,it=+Dt;break;case"H":ft=tt[1];break;case"V":it=tt[1];break;case"M":bt=tt[tt.length-2],Dt=tt[tt.length-1];break;default:ft=tt[tt.length-2],it=tt[tt.length-1]}}return lt},O=function(gt,lt,ft,it){return[gt,lt,ft,it,ft,it]},E=function(gt,lt,ft,it,bt,Dt){var Mt=1/3,q=2/3;return[Mt*gt+q*ft,Mt*lt+q*it,Mt*bt+q*ft,Mt*Dt+q*it,bt,Dt]},I=function Xt(gt,lt,ft,it,bt,Dt,Mt,q,V,ot){ft===it&&(ft+=1);var tt=Math.PI*120/180,yt=Math.PI/180*(+bt||0),Pt=[],Ft,Wt,Vt,Lt,Ct,_=function(Jr,_r,bn){var ta=Jr*Math.cos(bn)-_r*Math.sin(bn),aa=Jr*Math.sin(bn)+_r*Math.cos(bn);return{x:ta,y:aa}};if(ot)Wt=ot[0],Vt=ot[1],Lt=ot[2],Ct=ot[3];else{Ft=_(gt,lt,-yt),gt=Ft.x,lt=Ft.y,Ft=_(q,V,-yt),q=Ft.x,V=Ft.y,gt===q&&lt===V&&(q+=1,V+=1);var It=(gt-q)/2,Rt=(lt-V)/2,xt=It*It/(ft*ft)+Rt*Rt/(it*it);xt>1&&(xt=Math.sqrt(xt),ft=xt*ft,it=xt*it);var Nt=ft*ft,Ht=it*it,jt=(Dt===Mt?-1:1)*Math.sqrt(Math.abs((Nt*Ht-Nt*Rt*Rt-Ht*It*It)/(Nt*Rt*Rt+Ht*It*It)));Lt=jt*ft*Rt/it+(gt+q)/2,Ct=jt*-it*It/ft+(lt+V)/2,Wt=Math.asin(((lt-Ct)/it).toFixed(9)),Vt=Math.asin(((V-Ct)/it).toFixed(9)),Wt=gt<Lt?Math.PI-Wt:Wt,Vt=q<Lt?Math.PI-Vt:Vt,Wt<0&&(Wt=Math.PI*2+Wt),Vt<0&&(Vt=Math.PI*2+Vt),Mt&&Wt>Vt&&(Wt=Wt-Math.PI*2),!Mt&&Vt>Wt&&(Vt=Vt-Math.PI*2)}var Ut=Vt-Wt;if(Math.abs(Ut)>tt){var Jt=Vt,se=q,me=V;Vt=Wt+tt*(Mt&&Vt>Wt?1:-1),q=Lt+ft*Math.cos(Vt),V=Ct+it*Math.sin(Vt),Pt=Xt(q,V,ft,it,bt,0,Mt,se,me,[Vt,Jt,Lt,Ct])}Ut=Vt-Wt;var Me=Math.cos(Wt),Pe=Math.sin(Wt),Ge=Math.cos(Vt),nr=Math.sin(Vt),gr=Math.tan(Ut/4),or=4/3*ft*gr,Ze=4/3*it*gr,mr=[gt,lt],Nr=[gt+or*Pe,lt-Ze*Me],Mr=[q+or*nr,V-Ze*Ge],vn=[q,V];if(Nr[0]=2*mr[0]-Nr[0],Nr[1]=2*mr[1]-Nr[1],ot)return[Nr,Mr,vn].concat(Pt);Pt=[Nr,Mr,vn].concat(Pt).join().split(",");for(var Ln=[],We=0,Ye=Pt.length;We<Ye;We++)Ln[We]=We%2?_(Pt[We-1],Pt[We],yt).y:_(Pt[We],Pt[We+1],yt).x;return Ln},A=function(gt,lt){var ft=S(gt),it=lt&&S(lt),bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Dt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Mt=[],q=[],V="",ot="",tt,yt=function(Rt,xt,Nt){var Ht,jt;if(!Rt)return["C",xt.x,xt.y,xt.x,xt.y,xt.x,xt.y];switch(!(Rt[0]in{T:1,Q:1})&&(xt.qx=xt.qy=null),Rt[0]){case"M":xt.X=Rt[1],xt.Y=Rt[2];break;case"A":Rt=["C"].concat(I.apply(0,[xt.x,xt.y].concat(Rt.slice(1))));break;case"S":Nt==="C"||Nt==="S"?(Ht=xt.x*2-xt.bx,jt=xt.y*2-xt.by):(Ht=xt.x,jt=xt.y),Rt=["C",Ht,jt].concat(Rt.slice(1));break;case"T":Nt==="Q"||Nt==="T"?(xt.qx=xt.x*2-xt.qx,xt.qy=xt.y*2-xt.qy):(xt.qx=xt.x,xt.qy=xt.y),Rt=["C"].concat(E(xt.x,xt.y,xt.qx,xt.qy,Rt[1],Rt[2]));break;case"Q":xt.qx=Rt[1],xt.qy=Rt[2],Rt=["C"].concat(E(xt.x,xt.y,Rt[1],Rt[2],Rt[3],Rt[4]));break;case"L":Rt=["C"].concat(O(xt.x,xt.y,Rt[1],Rt[2]));break;case"H":Rt=["C"].concat(O(xt.x,xt.y,Rt[1],xt.y));break;case"V":Rt=["C"].concat(O(xt.x,xt.y,xt.x,Rt[1]));break;case"Z":Rt=["C"].concat(O(xt.x,xt.y,xt.X,xt.Y));break;default:break}return Rt},Pt=function(Rt,xt){if(Rt[xt].length>7){Rt[xt].shift();for(var Nt=Rt[xt];Nt.length;)Mt[xt]="A",it&&(q[xt]="A"),Rt.splice(xt++,0,["C"].concat(Nt.splice(0,6)));Rt.splice(xt,1),tt=Math.max(ft.length,it&&it.length||0)}},Ft=function(Rt,xt,Nt,Ht,jt){Rt&&xt&&Rt[jt][0]==="M"&&xt[jt][0]!=="M"&&(xt.splice(jt,0,["M",Ht.x,Ht.y]),Nt.bx=0,Nt.by=0,Nt.x=Rt[jt][1],Nt.y=Rt[jt][2],tt=Math.max(ft.length,it&&it.length||0))};tt=Math.max(ft.length,it&&it.length||0);for(var Wt=0;Wt<tt;Wt++){ft[Wt]&&(V=ft[Wt][0]),V!=="C"&&(Mt[Wt]=V,Wt&&(ot=Mt[Wt-1])),ft[Wt]=yt(ft[Wt],bt,ot),Mt[Wt]!=="A"&&V==="C"&&(Mt[Wt]="C"),Pt(ft,Wt),it&&(it[Wt]&&(V=it[Wt][0]),V!=="C"&&(q[Wt]=V,Wt&&(ot=q[Wt-1])),it[Wt]=yt(it[Wt],Dt,ot),q[Wt]!=="A"&&V==="C"&&(q[Wt]="C"),Pt(it,Wt)),Ft(ft,it,bt,Dt,Wt),Ft(it,ft,Dt,bt,Wt);var Vt=ft[Wt],Lt=it&&it[Wt],Ct=Vt.length,_=it&&Lt.length;bt.x=Vt[Ct-2],bt.y=Vt[Ct-1],bt.bx=parseFloat(Vt[Ct-4])||bt.x,bt.by=parseFloat(Vt[Ct-3])||bt.y,Dt.bx=it&&(parseFloat(Lt[_-4])||Dt.x),Dt.by=it&&(parseFloat(Lt[_-3])||Dt.y),Dt.x=it&&Lt[_-2],Dt.y=it&&Lt[_-1]}return it?[ft,it]:ft},R=/,?([a-z]),?/gi,B=function(gt){return gt.join(",").replace(R,"$1")},p=function(gt,lt,ft,it,bt){var Dt=-3*lt+9*ft-9*it+3*bt,Mt=gt*Dt+6*lt-12*ft+6*it;return gt*Mt-3*lt+3*ft},G=function(gt,lt,ft,it,bt,Dt,Mt,q,V){V===null&&(V=1),V=V>1?1:V<0?0:V;for(var ot=V/2,tt=12,yt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Pt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ft=0,Wt=0;Wt<tt;Wt++){var Vt=ot*yt[Wt]+ot,Lt=p(Vt,gt,ft,bt,Mt),Ct=p(Vt,lt,it,Dt,q),_=Lt*Lt+Ct*Ct;Ft+=Pt[Wt]*Math.sqrt(_)}return ot*Ft},W=function(gt,lt,ft,it,bt,Dt,Mt,q){for(var V=[],ot=[[],[]],tt,yt,Pt,Ft,Wt=0;Wt<2;++Wt){if(Wt===0?(yt=6*gt-12*ft+6*bt,tt=-3*gt+9*ft-9*bt+3*Mt,Pt=3*ft-3*gt):(yt=6*lt-12*it+6*Dt,tt=-3*lt+9*it-9*Dt+3*q,Pt=3*it-3*lt),Math.abs(tt)<1e-12){if(Math.abs(yt)<1e-12)continue;Ft=-Pt/yt,Ft>0&&Ft<1&&V.push(Ft);continue}var Vt=yt*yt-4*Pt*tt,Lt=Math.sqrt(Vt);if(!(Vt<0)){var Ct=(-yt+Lt)/(2*tt);Ct>0&&Ct<1&&V.push(Ct);var _=(-yt-Lt)/(2*tt);_>0&&_<1&&V.push(_)}}for(var It=V.length,Rt=It,xt;It--;)Ft=V[It],xt=1-Ft,ot[0][It]=xt*xt*xt*gt+3*xt*xt*Ft*ft+3*xt*Ft*Ft*bt+Ft*Ft*Ft*Mt,ot[1][It]=xt*xt*xt*lt+3*xt*xt*Ft*it+3*xt*Ft*Ft*Dt+Ft*Ft*Ft*q;return ot[0][Rt]=gt,ot[1][Rt]=lt,ot[0][Rt+1]=Mt,ot[1][Rt+1]=q,ot[0].length=ot[1].length=Rt+2,{min:{x:Math.min.apply(0,ot[0]),y:Math.min.apply(0,ot[1])},max:{x:Math.max.apply(0,ot[0]),y:Math.max.apply(0,ot[1])}}},z=function(gt,lt,ft,it,bt,Dt,Mt,q){if(!(Math.max(gt,ft)<Math.min(bt,Mt)||Math.min(gt,ft)>Math.max(bt,Mt)||Math.max(lt,it)<Math.min(Dt,q)||Math.min(lt,it)>Math.max(Dt,q))){var V=(gt*it-lt*ft)*(bt-Mt)-(gt-ft)*(bt*q-Dt*Mt),ot=(gt*it-lt*ft)*(Dt-q)-(lt-it)*(bt*q-Dt*Mt),tt=(gt-ft)*(Dt-q)-(lt-it)*(bt-Mt);if(!!tt){var yt=V/tt,Pt=ot/tt,Ft=+yt.toFixed(2),Wt=+Pt.toFixed(2);if(!(Ft<+Math.min(gt,ft).toFixed(2)||Ft>+Math.max(gt,ft).toFixed(2)||Ft<+Math.min(bt,Mt).toFixed(2)||Ft>+Math.max(bt,Mt).toFixed(2)||Wt<+Math.min(lt,it).toFixed(2)||Wt>+Math.max(lt,it).toFixed(2)||Wt<+Math.min(Dt,q).toFixed(2)||Wt>+Math.max(Dt,q).toFixed(2)))return{x:yt,y:Pt}}}},N=function(gt,lt,ft){return lt>=gt.x&&lt<=gt.x+gt.width&&ft>=gt.y&&ft<=gt.y+gt.height},j=function(gt,lt,ft,it,bt){if(bt)return[["M",+gt+ +bt,lt],["l",ft-bt*2,0],["a",bt,bt,0,0,1,bt,bt],["l",0,it-bt*2],["a",bt,bt,0,0,1,-bt,bt],["l",bt*2-ft,0],["a",bt,bt,0,0,1,-bt,-bt],["l",0,bt*2-it],["a",bt,bt,0,0,1,bt,-bt],["z"]];var Dt=[["M",gt,lt],["l",ft,0],["l",0,it],["l",-ft,0],["z"]];return Dt.parsePathArray=B,Dt},F=function(gt,lt,ft,it){return gt===null&&(gt=lt=ft=it=0),lt===null&&(lt=gt.y,ft=gt.width,it=gt.height,gt=gt.x),{x:gt,y:lt,width:ft,w:ft,height:it,h:it,x2:gt+ft,y2:lt+it,cx:gt+ft/2,cy:lt+it/2,r1:Math.min(ft,it)/2,r2:Math.max(ft,it)/2,r0:Math.sqrt(ft*ft+it*it)/2,path:j(gt,lt,ft,it),vb:[gt,lt,ft,it].join(" ")}},k=function(gt,lt){return gt=F(gt),lt=F(lt),N(lt,gt.x,gt.y)||N(lt,gt.x2,gt.y)||N(lt,gt.x,gt.y2)||N(lt,gt.x2,gt.y2)||N(gt,lt.x,lt.y)||N(gt,lt.x2,lt.y)||N(gt,lt.x,lt.y2)||N(gt,lt.x2,lt.y2)||(gt.x<lt.x2&&gt.x>lt.x||lt.x<gt.x2&&lt.x>gt.x)&&(gt.y<lt.y2&&gt.y>lt.y||lt.y<gt.y2&&lt.y>gt.y)},$=function(gt,lt,ft,it,bt,Dt,Mt,q){Object(d.B)(gt)||(gt=[gt,lt,ft,it,bt,Dt,Mt,q]);var V=W.apply(null,gt);return F(V.min.x,V.min.y,V.max.x-V.min.x,V.max.y-V.min.y)},nt=function(gt,lt,ft,it,bt,Dt,Mt,q,V){var ot=1-V,tt=Math.pow(ot,3),yt=Math.pow(ot,2),Pt=V*V,Ft=Pt*V,Wt=tt*gt+yt*3*V*ft+ot*3*V*V*bt+Ft*Mt,Vt=tt*lt+yt*3*V*it+ot*3*V*V*Dt+Ft*q,Lt=gt+2*V*(ft-gt)+Pt*(bt-2*ft+gt),Ct=lt+2*V*(it-lt)+Pt*(Dt-2*it+lt),_=ft+2*V*(bt-ft)+Pt*(Mt-2*bt+ft),It=it+2*V*(Dt-it)+Pt*(q-2*Dt+it),Rt=ot*gt+V*ft,xt=ot*lt+V*it,Nt=ot*bt+V*Mt,Ht=ot*Dt+V*q,jt=90-Math.atan2(Lt-_,Ct-It)*180/Math.PI;return{x:Wt,y:Vt,m:{x:Lt,y:Ct},n:{x:_,y:It},start:{x:Rt,y:xt},end:{x:Nt,y:Ht},alpha:jt}},st=function(gt,lt,ft){var it=$(gt),bt=$(lt);if(!k(it,bt))return ft?0:[];for(var Dt=G.apply(0,gt),Mt=G.apply(0,lt),q=~~(Dt/8),V=~~(Mt/8),ot=[],tt=[],yt={},Pt=ft?0:[],Ft=0;Ft<q+1;Ft++){var Wt=nt.apply(0,gt.concat(Ft/q));ot.push({x:Wt.x,y:Wt.y,t:Ft/q})}for(var Ft=0;Ft<V+1;Ft++){var Wt=nt.apply(0,lt.concat(Ft/V));tt.push({x:Wt.x,y:Wt.y,t:Ft/V})}for(var Ft=0;Ft<q;Ft++)for(var Vt=0;Vt<V;Vt++){var Lt=ot[Ft],Ct=ot[Ft+1],_=tt[Vt],It=tt[Vt+1],Rt=Math.abs(Ct.x-Lt.x)<.001?"y":"x",xt=Math.abs(It.x-_.x)<.001?"y":"x",Nt=z(Lt.x,Lt.y,Ct.x,Ct.y,_.x,_.y,It.x,It.y);if(Nt){if(yt[Nt.x.toFixed(4)]===Nt.y.toFixed(4))continue;yt[Nt.x.toFixed(4)]=Nt.y.toFixed(4);var Ht=Lt.t+Math.abs((Nt[Rt]-Lt[Rt])/(Ct[Rt]-Lt[Rt]))*(Ct.t-Lt.t),jt=_.t+Math.abs((Nt[xt]-_[xt])/(It[xt]-_[xt]))*(It.t-_.t);Ht>=0&&Ht<=1&&jt>=0&&jt<=1&&(ft?Pt+=1:Pt.push({x:Nt.x,y:Nt.y,t1:Ht,t2:jt}))}}return Pt},rt=function(gt,lt,ft){gt=A(gt),lt=A(lt);for(var it,bt,Dt,Mt,q,V,ot,tt,yt,Pt,Ft=ft?0:[],Wt=0,Vt=gt.length;Wt<Vt;Wt++){var Lt=gt[Wt];if(Lt[0]==="M")it=q=Lt[1],bt=V=Lt[2];else{Lt[0]==="C"?(yt=[it,bt].concat(Lt.slice(1)),it=yt[6],bt=yt[7]):(yt=[it,bt,it,bt,q,V,q,V],it=q,bt=V);for(var Ct=0,_=lt.length;Ct<_;Ct++){var It=lt[Ct];if(It[0]==="M")Dt=ot=It[1],Mt=tt=It[2];else{It[0]==="C"?(Pt=[Dt,Mt].concat(It.slice(1)),Dt=Pt[6],Mt=Pt[7]):(Pt=[Dt,Mt,Dt,Mt,ot,tt,ot,tt],Dt=ot,Mt=tt);var Rt=st(yt,Pt,ft);if(ft)Ft+=Rt;else{for(var xt=0,Nt=Rt.length;xt<Nt;xt++)Rt[xt].segment1=Wt,Rt[xt].segment2=Ct,Rt[xt].bez1=yt,Rt[xt].bez2=Pt;Ft=Ft.concat(Rt)}}}}}return Ft},Q=function(gt,lt){return rt(gt,lt)};function Y(Xt,gt){var lt=[],ft=[];function it(bt,Dt){if(bt.length===1)lt.push(bt[0]),ft.push(bt[0]);else{for(var Mt=[],q=0;q<bt.length-1;q++)q===0&&lt.push(bt[0]),q===bt.length-2&&ft.push(bt[q+1]),Mt[q]=[(1-Dt)*bt[q][0]+Dt*bt[q+1][0],(1-Dt)*bt[q][1]+Dt*bt[q+1][1]];it(Mt,Dt)}}return Xt.length&&it(Xt,gt),{left:lt,right:ft.reverse()}}function K(Xt,gt,lt){var ft=[[Xt[1],Xt[2]]];lt=lt||2;var it=[];gt[0]==="A"?(ft.push(gt[6]),ft.push(gt[7])):gt[0]==="C"?(ft.push([gt[1],gt[2]]),ft.push([gt[3],gt[4]]),ft.push([gt[5],gt[6]])):gt[0]==="S"||gt[0]==="Q"?(ft.push([gt[1],gt[2]]),ft.push([gt[3],gt[4]])):ft.push([gt[1],gt[2]]);for(var bt=ft,Dt=1/lt,Mt=0;Mt<lt-1;Mt++){var q=Dt/(1-Dt*Mt),V=Y(bt,q);it.push(V.left),bt=V.right}it.push(bt);var ot=it.map(function(tt){var yt=[];return tt.length===4&&(yt.push("C"),yt=yt.concat(tt[2])),tt.length>=3&&(tt.length===3&&yt.push("Q"),yt=yt.concat(tt[1])),tt.length===2&&yt.push("L"),yt=yt.concat(tt[tt.length-1]),yt});return ot}var et=function(gt,lt,ft){if(ft===1)return[[].concat(gt)];var it=[];if(lt[0]==="L"||lt[0]==="C"||lt[0]==="Q")it=it.concat(K(gt,lt,ft));else{var bt=[].concat(gt);bt[0]==="M"&&(bt[0]="L");for(var Dt=0;Dt<=ft-1;Dt++)it.push(bt)}return it},ut=function(gt,lt){if(gt.length===1)return gt;var ft=gt.length-1,it=lt.length-1,bt=ft/it,Dt=[];if(gt.length===1&&gt[0][0]==="M"){for(var Mt=0;Mt<it-ft;Mt++)gt.push(gt[0]);return gt}for(var Mt=0;Mt<it;Mt++){var q=Math.floor(bt*Mt);Dt[q]=(Dt[q]||0)+1}var V=Dt.reduce(function(ot,tt,yt){return yt===ft?ot.concat(gt[ft]):ot.concat(et(gt[yt],gt[yt+1],tt))},[]);return V.unshift(gt[0]),(lt[it]==="Z"||lt[it]==="z")&&V.push("Z"),V},dt=function(gt,lt){if(gt.length!==lt.length)return!1;var ft=!0;return Object(d.j)(gt,function(it,bt){if(it!==lt[bt])return ft=!1,!1}),ft};function vt(Xt,gt,lt){var ft=null,it=lt;return gt<it&&(it=gt,ft="add"),Xt<it&&(it=Xt,ft="del"),{type:ft,min:it}}var at=function(gt,lt){var ft=gt.length,it=lt.length,bt,Dt,Mt=0;if(ft===0||it===0)return null;for(var q=[],V=0;V<=ft;V++)q[V]=[],q[V][0]={min:V};for(var ot=0;ot<=it;ot++)q[0][ot]={min:ot};for(var V=1;V<=ft;V++){bt=gt[V-1];for(var ot=1;ot<=it;ot++){Dt=lt[ot-1],dt(bt,Dt)?Mt=0:Mt=1;var tt=q[V-1][ot].min+1,yt=q[V][ot-1].min+1,Pt=q[V-1][ot-1].min+Mt;q[V][ot]=vt(tt,yt,Pt)}}return q},pt=function(gt,lt){var ft=at(gt,lt),it=gt.length,bt=lt.length,Dt=[],Mt=1,q=1;if(ft[it][bt].min!==it){for(var V=1;V<=it;V++){var ot=ft[V][V].min;q=V;for(var tt=Mt;tt<=bt;tt++)ft[V][tt].min<ot&&(ot=ft[V][tt].min,q=tt);Mt=q,ft[V][Mt].type&&Dt.push({index:V-1,type:ft[V][Mt].type})}for(var V=Dt.length-1;V>=0;V--)Mt=Dt[V].index,Dt[V].type==="add"?gt.splice(Mt,0,[].concat(gt[Mt])):gt.splice(Mt,1)}it=gt.length;var yt=bt-it;if(it<bt)for(var V=0;V<yt;V++)gt[it-1][0]==="z"||gt[it-1][0]==="Z"?gt.splice(it-2,0,gt[it-2]):gt.push(gt[it-1]),it+=1;return gt};function Tt(Xt,gt,lt){for(var ft=[].concat(Xt),it,bt=1/(lt+1),Dt=Gt(gt)[0],Mt=1;Mt<=lt;Mt++)bt*=Mt,it=Math.floor(Xt.length*bt),it===0?ft.unshift([Dt[0]*bt+Xt[it][0]*(1-bt),Dt[1]*bt+Xt[it][1]*(1-bt)]):ft.splice(it,0,[Dt[0]*bt+Xt[it][0]*(1-bt),Dt[1]*bt+Xt[it][1]*(1-bt)]);return ft}function Gt(Xt){var gt=[];switch(Xt[0]){case"M":gt.push([Xt[1],Xt[2]]);break;case"L":gt.push([Xt[1],Xt[2]]);break;case"A":gt.push([Xt[6],Xt[7]]);break;case"Q":gt.push([Xt[3],Xt[4]]),gt.push([Xt[1],Xt[2]]);break;case"T":gt.push([Xt[1],Xt[2]]);break;case"C":gt.push([Xt[5],Xt[6]]),gt.push([Xt[1],Xt[2]]),gt.push([Xt[3],Xt[4]]);break;case"S":gt.push([Xt[3],Xt[4]]),gt.push([Xt[1],Xt[2]]);break;case"H":gt.push([Xt[1],Xt[1]]);break;case"V":gt.push([Xt[1],Xt[1]]);break;default:}return gt}var Kt=function(gt,lt){if(gt.length<=1)return gt;for(var ft,it=0;it<lt.length;it++)if(gt[it][0]!==lt[it][0])switch(ft=Gt(gt[it]),lt[it][0]){case"M":gt[it]=["M"].concat(ft[0]);break;case"L":gt[it]=["L"].concat(ft[0]);break;case"A":gt[it]=[].concat(lt[it]),gt[it][6]=ft[0][0],gt[it][7]=ft[0][1];break;case"Q":if(ft.length<2)if(it>0)ft=Tt(ft,gt[it-1],1);else{gt[it]=lt[it];break}gt[it]=["Q"].concat(ft.reduce(function(bt,Dt){return bt.concat(Dt)},[]));break;case"T":gt[it]=["T"].concat(ft[0]);break;case"C":if(ft.length<3)if(it>0)ft=Tt(ft,gt[it-1],2);else{gt[it]=lt[it];break}gt[it]=["C"].concat(ft.reduce(function(bt,Dt){return bt.concat(Dt)},[]));break;case"S":if(ft.length<2)if(it>0)ft=Tt(ft,gt[it-1],1);else{gt[it]=lt[it];break}gt[it]=["S"].concat(ft.reduce(function(bt,Dt){return bt.concat(Dt)},[]));break;default:gt[it]=lt[it]}return gt}},rwKT:function(wt,P,i){"use strict";i.d(P,"c",function(){return b}),i.d(P,"d",function(){return x}),i.d(P,"b",function(){return M}),i.d(P,"a",function(){return D});var d=i("J+IK"),o=i("jg4I"),b="x",x="y",M={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(S,O){return""+Object(o.s)(O,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},D={appendPadding:2,tooltip:Object(d.a)({},M),animation:{}}},sNXT:function(wt,P,i){var d=i("cEHS"),o=i("l0EA");function b(x,M){return o(x||[],M||[],d)}wt.exports=b},sRM1:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("Cw9K"),b=i("Gc/9"),x=function(M){Object(d.c)(D,M);function D(C,S,O,E){var I=M.call(this,C,Object(o.b)({},E,S))||this;return I.type="g2-plot",I.defaultOptions=E,I.adaptor=O,I}return D.prototype.getDefaultOptions=function(){return this.defaultOptions},D.prototype.getSchemaAdaptor=function(){return this.adaptor},D}(b.b)},sn46:function(wt,P){},swOU:function(wt,P,i){var d=i("sVUS"),o=i("VL8K"),b=i("+Gi7"),x=d?d.isConcatSpreadable:void 0;function M(D){return b(D)||o(D)||!!(x&&D&&D[x])}wt.exports=M},sxZn:function(wt,P,i){"use strict";i.d(P,"b",function(){return o.a}),i.d(P,"c",function(){return o.d}),i.d(P,"d",function(){return o.e}),i.d(P,"a",function(){return d});var d={};i.r(d),i.d(d,"leftTranslate",function(){return b}),i.d(d,"leftRotate",function(){return x}),i.d(d,"leftScale",function(){return M}),i.d(d,"transform",function(){return C}),i.d(d,"direction",function(){return S}),i.d(d,"angleTo",function(){return O}),i.d(d,"vertical",function(){return E});var o=i("99LQ");function b(I,A,R){var B=[0,0,0,0,0,0,0,0,0];return o.a.fromTranslation(B,R),o.a.multiply(I,B,A)}function x(I,A,R){var B=[0,0,0,0,0,0,0,0,0];return o.a.fromRotation(B,R),o.a.multiply(I,B,A)}function M(I,A,R){var B=[0,0,0,0,0,0,0,0,0];return o.a.fromScaling(B,R),o.a.multiply(I,B,A)}function D(I,A,R){return o.a.multiply(I,R,A)}function C(I,A){for(var R=I?[].concat(I):[1,0,0,0,1,0,0,0,1],B=0,p=A.length;B<p;B++){var G=A[B];switch(G[0]){case"t":b(R,R,[G[1],G[2]]);break;case"s":M(R,R,[G[1],G[2]]);break;case"r":x(R,R,G[1]);break;case"m":D(R,R,G[1]);break;default:break}}return R}function S(I,A){return I[0]*A[1]-A[0]*I[1]}function O(I,A,R){var B=o.d.angle(I,A),p=S(I,A)>=0;return R?p?Math.PI*2-B:B:p?B:Math.PI*2-B}function E(I,A,R){return R?(I[0]=A[1],I[1]=-1*A[0]):(I[0]=-1*A[1],I[1]=A[0]),I}},syls:function(wt,P,i){"use strict";i.d(P,"a",function(){return d}),i.d(P,"b",function(){return b});var d=-1,o=1;function b(){return o++}},szLl:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingToSyntax=void 0;var d=i("196R"),o=i("2+60"),b=i("lVYH"),x=i("uh8N"),M=function(){function D(C){this._binding=C}return D.prototype.to=function(C){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=C,new b.BindingInWhenOnSyntax(this._binding)},D.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+d.INVALID_TO_SELF_VALUE);var C=this._binding.serviceIdentifier;return this.to(C)},D.prototype.toConstantValue=function(C){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=C,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=o.BindingScopeEnum.Singleton,new x.BindingWhenOnSyntax(this._binding)},D.prototype.toDynamicValue=function(C){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=C,this._binding.implementationType=null,new b.BindingInWhenOnSyntax(this._binding)},D.prototype.toConstructor=function(C){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=C,this._binding.scope=o.BindingScopeEnum.Singleton,new x.BindingWhenOnSyntax(this._binding)},D.prototype.toFactory=function(C){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=C,this._binding.scope=o.BindingScopeEnum.Singleton,new x.BindingWhenOnSyntax(this._binding)},D.prototype.toFunction=function(C){if(typeof C!="function")throw new Error(d.INVALID_FUNCTION_BINDING);var S=this.toConstantValue(C);return this._binding.type=o.BindingTypeEnum.Function,this._binding.scope=o.BindingScopeEnum.Singleton,S},D.prototype.toAutoFactory=function(C){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(S){var O=function(){return S.container.get(C)};return O},this._binding.scope=o.BindingScopeEnum.Singleton,new x.BindingWhenOnSyntax(this._binding)},D.prototype.toProvider=function(C){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=C,this._binding.scope=o.BindingScopeEnum.Singleton,new x.BindingWhenOnSyntax(this._binding)},D.prototype.toService=function(C){this.toDynamicValue(function(S){return S.container.get(C)})},D}();P.BindingToSyntax=M},t3mm:function(wt,P,i){var d=i("Z8sD"),o=d();wt.exports=o},t7U3:function(wt,P){function i(o,b,x,M,D,C,S){try{var O=o[C](S),E=O.value}catch(I){x(I);return}O.done?b(E):Promise.resolve(E).then(M,D)}function d(o){return function(){var b=this,x=arguments;return new Promise(function(M,D){var C=o.apply(b,x);function S(E){i(C,M,D,S,O,"next",E)}function O(E){i(C,M,D,S,O,"throw",E)}S(void 0)})}}wt.exports=d,wt.exports.default=wt.exports,wt.exports.__esModule=!0},t9lO:function(wt,P,i){"use strict";i.d(P,"b",function(){return D}),i.d(P,"a",function(){return C});var d=i("J+IK"),o=i("jg4I"),b=i("Cw9K");function x(S){var O={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},E=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];Object(o.s)(S,"fill")&&(O.color=S.fill);var I=Object(b.q)(S,E),A=I.shadowColor,R=I.shadowBlur,B=R===void 0?0:R,p=I.shadowOffsetX,G=p===void 0?0:p,W=I.shadowOffsetY,z=W===void 0?0:W;O["text-shadow"]=""+[A,G+"px",z+"px",B+"px"].join(" ");var N=Object(b.q)(S,E),j=N.stroke,F=N.lineWidth,k=F===void 0?0:F;return O["-webkit-text-stroke"]=""+[k+"px",j].join(" "),Object(o.j)(S,function($,nt){["fontSize"].includes(nt)&&Object(o.K)($)?O[Object(b.n)(nt)]=$+"px":nt&&!E.includes(nt)&&(O[Object(b.n)(nt)]=""+$)}),O}function M(S,O){S.style["pointer-events"]="none",Object(o.j)(O,function(E,I){I&&E&&(S.style[I]=E)})}var D=function(O,E,I){var A=E.statistic,R=E.plotType,B=A.title,p=A.content;[B,p].forEach(function(G,W){if(!!G){var z="",N="";W===0?N=p?"translate(-50%, -100%)":"translate(-50%, -50%)":N=B?"translate(-50%, 0)":"translate(-50%, -50%)";var j=Object(o.H)(G.style)?G.style(I):G.style;O.annotation().html(Object(d.a)({position:["50%","50%"],html:function(k,$){var nt=$.getCoordinate(),st=0;if(R==="pie"||R==="ring-progress")st=nt.getRadius()*nt.innerRadius*2;else if(R==="liquid"){var rt=Object(o.s)($.geometries,[0,"elements",0,"shape"]);if(rt){var Q=rt.find(function(et){return et.get("name")==="wrap"}),Y=Q.getCanvasBBox().width;st=Y}}else st||(st=nt.getWidth());M(k,Object(d.a)({width:st+"px",transform:N},x(j)));var K=$.getData();return G.customHtml?G.customHtml(k,$,I,K):(G.formatter&&(z=G.formatter(I,K)),z?Object(o.O)(z)?z:""+z:"<div></div>")},key:(W===0?"top":"bottom")+"-statistic"},Object(b.q)(G,["offsetX","offsetY","rotate","style","formatter"])))}})},C=function(O,E,I){var A=E.statistic,R=A.title,B=A.content;[R,B].forEach(function(p){if(!!p){var G="",W=Object(o.H)(p.style)?p.style(I):p.style;O.annotation().html(Object(d.a)({position:["50%","100%"],html:function(N,j){var F=j.getCoordinate(),k=j.views[0].getCoordinate(),$=k.getCenter(),nt=k.getRadius(),st=Math.max(Math.sin(k.startAngle),Math.sin(k.endAngle))*nt,rt=$.y+st-F.y.start-parseFloat(Object(o.s)(W,"fontSize",0)),Q=F.getRadius()*F.innerRadius*2;M(N,Object(d.a)({width:Q+"px",transform:"translate(-50%, "+rt+"px)"},x(W)));var Y=j.getData();return p.customHtml?p.customHtml(N,j,I,Y):(p.formatter&&(G=p.formatter(I,Y)),G?Object(o.O)(G)?G:""+G:"<div></div>")}},Object(b.q)(p,["offsetX","offsetY","rotate","style","formatter"])))}})}},t9r2:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("LhfN"),b=function(x){Object(d.c)(M,x);function M(){return x!==null&&x.apply(this,arguments)||this}return M.prototype.isGroup=function(){return!0},M.prototype.isEntityGroup=function(){return!1},M.prototype.clone=function(){for(var D=x.prototype.clone.call(this),C=this.getChildren(),S=0;S<C.length;S++){var O=C[S];D.add(O.clone())}return D},M}(o.a);P.a=b},tCm8:function(wt,P,i){var d=i("7LJS"),o=i("i1Q6"),b=i("WeNx");function x(M){return M&&M.length?d(M,b,o):void 0}wt.exports=x},tDsh:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("Lkm0"),b=function(M){Object(d.c)(D,M);function D(){return M!==null&&M.apply(this,arguments)||this}return D.prototype.isGroup=function(){return!0},D.prototype.isEntityGroup=function(){return!1},D.prototype.clone=function(){for(var C=M.prototype.clone.call(this),S=this.getChildren(),O=0;O<S.length;O++){var E=S[O];C.add(E.clone())}return C},D}(o.a),x=b},tKNA:function(wt,P,i){"use strict";var d=i("/WN3"),o=i("jg4I"),b=i("3k0L"),x=i("5Kaj");function M(C,S){return(S-C)*Math.random()+C}var D=function(C){Object(d.b)(S,C);function S(){return C!==null&&C.apply(this,arguments)||this}return S.prototype.process=function(O){var E=o.e(O),I=o.q(E);return this.adjustData(E,I),E},S.prototype.adjustDim=function(O,E,I){var A=this,R=this.groupData(I,O);return o.j(R,function(B,p){return A.adjustGroup(B,O,parseFloat(p),E)})},S.prototype.getAdjustOffset=function(O){var E=O.pre,I=O.next,A=(I-E)*b.c;return M(E+A,I-A)},S.prototype.adjustGroup=function(O,E,I,A){var R=this,B=this.getAdjustRange(E,I,A);return o.j(O,function(p){p[E]=R.getAdjustOffset(B)}),O},S}(x.a);P.a=D},tMVM:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingCount=void 0;var d={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};P.BindingCount=d},tSnd:function(wt,P,i){"use strict";i.d(P,"j",function(){return o}),i.d(P,"c",function(){return b}),i.d(P,"g",function(){return x}),i.d(P,"b",function(){return M});var d=i("jg4I");i.d(P,"e",function(){return d.I}),i.d(P,"d",function(){return d.H}),i.d(P,"h",function(){return d.O}),i.d(P,"f",function(){return d.M}),i.d(P,"i",function(){return d.bb}),i.d(P,"a",function(){return d.j}),i.d(P,"k",function(){return d.tb});function o(D,C){var S=D.indexOf(C);S!==-1&&D.splice(S,1)}var b=typeof window!="undefined"&&typeof window.document!="undefined";function x(D,C){if(D.isCanvas())return!0;for(var S=C.getParent(),O=!1;S;){if(S===D){O=!0;break}S=S.getParent()}return O}function M(D){return D.cfg.visible&&D.cfg.capture}},tbeB:function(wt,P){var i=Math.ceil,d=Math.max;function o(b,x,M,D){for(var C=-1,S=d(i((x-b)/(M||1)),0),O=Array(S);S--;)O[D?S:++C]=b,b+=M;return O}wt.exports=o},tebh:function(wt,P){wt.exports="0.8.5"},tjpL:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.inject=P.LazyServiceIdentifer=void 0;var d=i("196R"),o=i("9L8m"),b=i("rMkn"),x=i("ZLnY"),M=function(){function C(S){this._cb=S}return C.prototype.unwrap=function(){return this._cb()},C}();P.LazyServiceIdentifer=M;function D(C){return function(S,O,E){if(C===void 0)throw new Error(d.UNDEFINED_INJECT_ANNOTATION(S.name));var I=new b.Metadata(o.INJECT_TAG,C);typeof E=="number"?x.tagParameter(S,O,E,I):x.tagProperty(S,O,I)}}P.inject=D},tlzC:function(wt,P,i){"use strict";i.d(P,"a",function(){return nt});var d=i("J+IK"),o=i("Gc/9"),b=i("AOO/"),x=i("piQC"),M=i("Cw9K"),D=i("W7Gi"),C=i("M1/f"),S=i("jg4I"),O=i("5K47"),E={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function I(st,rt){rt=Object(S.b)({},E,rt);var Q=rt.as;if(!Object(S.B)(Q)||Q.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var Y;try{Y=Object(O.b)(rt)}catch(vt){console.warn(vt)}var K=function(at){return D.a().size(rt.size).round(rt.round).padding(rt.padding)(C.c(at).sum(function(pt){return pt[Y]}))},et=K(st),ut=Q[0],dt=Q[1];return et.each(function(vt){vt[ut]=[vt.x0,vt.x1,vt.x1,vt.x0],vt[dt]=[vt.y1,vt.y1,vt.y0,vt.y0],["x0","x1","y0","y1"].forEach(function(at){Q.indexOf(at)===-1&&delete vt[at]})}),Object(O.a)(et)}var A=i("4qWt");function R(st){var rt=st.data,Q=st.type,Y=st.seriesField,K=st.colorField,et=st.hierarchyConfig,ut={partition:I,treemap:A.a},dt=ut[Q](rt,Object(d.a)(Object(d.a)({},et),{type:"hierarchy."+Q,field:Y,as:["x","y"]})),vt=[];return dt.forEach(function(at){var pt,Tt,Gt,Kt,Xt;if(at.depth===0)return null;var gt=Object(d.a)((pt={},pt[Y]=at.data[Y]||((Gt=(Tt=at.parent)===null||Tt===void 0?void 0:Tt.data)===null||Gt===void 0?void 0:Gt[Y]),pt[K]=at.data[K]||((Xt=(Kt=at.parent)===null||Kt===void 0?void 0:Kt.data)===null||Xt===void 0?void 0:Xt[K]),pt),at);gt.ext=et,vt.push(gt)}),vt}function B(st){var rt=st.items,Q=st.formatter,Y=st.fields,K=rt[0]||{},et=K.color,ut=K.mappingData,dt=K.data,vt=document.createElement("ul");vt.className="g2-tooltip";var at="",pt=function(Gt,Kt){var Xt;return Q?Q(Object(d.a)(Object(d.a)({},Gt),{field:Kt})):{name:Kt,value:(Gt==null?void 0:Gt[Kt])||((Xt=Gt==null?void 0:Gt.data)===null||Xt===void 0?void 0:Xt[Kt])}};return Y.forEach(function(Tt){var Gt=pt(dt,Tt),Kt=Gt.name,Xt=Gt.value;at+=`<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;display:flex;align-items: center;">
        <span style="background-color:`+((ut==null?void 0:ut.color)||et)+`;" class="g2-tooltip-marker"></span>
        <span style="display:inline-flex;flex:1;justify-content:space-between">
        <span style="margin-right: 16px;">`+Kt+`:</span>
        <span class="g2-tooltip-list-item-value">`+Xt+`</span>
        </span>
    </li>`}),vt.innerHTML=at,vt}function p(st){var rt=st.chart,Q=st.options,Y=Q.color,K=Q.colorField,et=Q.sunburstStyle,ut=R(Q);return rt.data(ut),Object(b.f)(Object(M.b)({},st,{options:{xField:"x",yField:"y",seriesField:K,polygon:{color:Y,style:et}}})),st}function G(st){var rt=st.chart;return rt.axis(!1),st}function W(st){var rt=st.chart;return rt.legend(!1),st}function z(st){var rt=st.chart,Q=st.options,Y=Q.label,K=Q.seriesField,et=Object(M.c)(rt,"polygon");if(!Y)et.label(!1);else{var ut=Y.callback,dt=Object(d.e)(Y,["callback"]);et.label({fields:[K],callback:ut,cfg:Object(M.v)(dt)})}return st}function N(st){var rt=st.chart,Q=st.options,Y=Q.innerRadius,K=Q.radius,et=Q.reflect,ut=rt.coordinate({type:"polar",cfg:{innerRadius:Y,radius:K}});return et&&ut.reflect(et),st}function j(st){var rt=st.chart,Q=st.options,Y=Q.meta;return Y&&rt.scale(Y),st}function F(st){var rt=st.chart,Q=st.options,Y=Q.tooltip,K=Q.seriesField,et=Q.colorField;return Y&&rt.tooltip(Object(d.a)(Object(d.a)({},Y),{customContent:Y&&Y.customContent?Y.customContent:function(ut,dt){return B({value:ut,items:dt,formatter:Y&&(Y==null?void 0:Y.formatter),fields:Y&&Y.fields||[K,et]})}})),st}function k(st){return Object(M.e)(p,x.j,G,j,W,N,F,z,x.c,x.a,Object(x.b)())(st)}var $=Object(M.b)({},o.b.getDefaultOptions(),{type:"partition",innerRadius:0,seriesField:"value",tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1}}),nt=function(st){Object(d.c)(rt,st);function rt(){var Q=st!==null&&st.apply(this,arguments)||this;return Q.type="sunburst",Q}return rt.getDefaultOptions=function(){return $},rt.prototype.getDefaultOptions=function(){return rt.getDefaultOptions()},rt.prototype.getSchemaAdaptor=function(){return k},rt}(o.b)},to4S:function(wt,P,i){"use strict";i.d(P,"a",function(){return at});var d=i("4Wd/"),o=i.n(d),b=i("t7U3"),x=i.n(b),M=i("S5Um"),D=i.n(M),C=i("qJ52"),S=i.n(C),O=i("25gg"),E=i.n(O),I=i("VwUA"),A=i.n(I),R=i("0iMn"),B=i.n(R),p=i("YcyD"),G=i.n(p),W=i("XN3X"),z=i("RtY/"),N=i("aStn"),j=i("K4bE"),F,k,$,nt,st,rt,Q,Y,K,et,ut,dt,vt,at=(F=Object(p.injectable)(),k=Object(p.inject)(W.a.Systems),$=Object(p.named)(W.a.FrameGraphSystem),nt=Object(p.inject)(W.a.RenderPassFactory),st=Object(p.inject)(W.a.ConfigService),rt=Object(p.inject)(W.a.ResourcePool),F(Q=(Y=(vt=function(){function pt(){S()(this,pt),D()(this,"frameGraphSystem",K,this),D()(this,"renderPassFactory",et,this),D()(this,"configService",ut,this),D()(this,"resourcePool",dt,this)}return E()(pt,[{key:"execute",value:function(){var Tt=x()(o.a.mark(function Kt(Xt){var gt,lt,ft,it,bt,Dt,Mt,q,V;return o.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:gt=this.renderPassFactory(j.a.IDENTIFIER),lt=gt.setup,ft=gt.execute,it=this.frameGraphSystem.addPass(j.a.IDENTIFIER,lt,ft),bt=this.renderPassFactory(z.a.IDENTIFIER),Dt=bt.setup,Mt=bt.execute,q=bt.tearDown,V=this.frameGraphSystem.addPass(z.a.IDENTIFIER,Dt,Mt,q),this.frameGraphSystem.present(V.data.output);case 5:case"end":return tt.stop()}},Kt,this)}));function Gt(Kt){return Tt.apply(this,arguments)}return Gt}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(Gt,Kt){var Xt=this.renderPassFactory(N.a.IDENTIFIER);return Xt.pick(Gt,Kt)}}]),pt}(),vt),K=A()(Y.prototype,"frameGraphSystem",[k,$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=A()(Y.prototype,"renderPassFactory",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=A()(Y.prototype,"configService",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=A()(Y.prototype,"resourcePool",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y))||Q)},tqfL:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Plan=void 0;var d=function(){function o(b,x){this.parentContext=b,this.rootRequest=x}return o}();P.Plan=d},tqoU:function(wt,P){function i(d,o,b){for(var x=b-1,M=d.length;++x<M;)if(d[x]===o)return x;return-1}wt.exports=i},tuqv:function(wt,P,i){"use strict";P.a=function(d){d.x0=Math.round(d.x0),d.y0=Math.round(d.y0),d.x1=Math.round(d.x1),d.y1=Math.round(d.y1)}},u3Fj:function(wt,P,i){var d=i("mdrB"),o=i("Wzpx"),b=d(o);wt.exports=b},u6QS:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.named=void 0;var d=i("9L8m"),o=i("rMkn"),b=i("ZLnY");function x(M){return function(D,C,S){var O=new o.Metadata(d.NAMED_TAG,M);typeof S=="number"?b.tagParameter(D,C,S,O):b.tagProperty(D,C,O)}}P.named=x},uDR9:function(wt,P){function i(d,o){return wt.exports=i=Object.setPrototypeOf||function(x,M){return x.__proto__=M,x},wt.exports.default=wt.exports,wt.exports.__esModule=!0,i(d,o)}wt.exports=i,wt.exports.default=wt.exports,wt.exports.__esModule=!0},uRYK:function(wt,P,i){"use strict";i.d(P,"b",function(){return E}),i.d(P,"a",function(){return R});var d=i("jg4I"),o="\u2026";function b(B){for(var p=0,G=0;G<B.length;G++)p+=x(B,G);return p}function x(B,p){return B.charCodeAt(p)>0&&B.charCodeAt(p)<128?1:2}function M(B,p,G){G===void 0&&(G="tail");var W=B.length,z="";if(G==="tail"){for(var N=0,j=0;N<p;){var F=x(B,j);if(N+F<=p)z+=B[j],N+=x(B,j),j++;else break}z+=o}else if(G==="head"){for(var N=0,j=W-1;N<p;){var F=x(B,j);if(N+F<=p)z+=B[j],N+=x(B,j),j--;else break}z=o+z}else{for(var k="",$="",N=0,nt=0,st=W-1;N<p;){var rt=x(B,nt),Q=!1;rt+N<=p&&(k+=B[nt],nt++,N+=rt,Q=!0);var Y=x(B,st);if(Y+N<=p&&($=B[st]+$,N+=Y,st--,Q=!0),!Q)break}z=k+o+$}return z}var D="\u2026",C=2,S=400;function O(B){for(var p=B.map(function(k){var $=k.attr("text");return Object(d.I)($)?"":""+$}),G=0,W=0,z=0;z<p.length;z+=1){for(var N=0,j=0;j<=p[z].length;j+=1){var F=p[z].charCodeAt(j);F>=19968&&F<=40869?N+=2:N+=1}N>G&&(G=N,W=z)}return B[W].getBBox().width}function E(B){if(B.length>S)return O(B);var p=0;return Object(d.j)(B,function(G){var W=G.getBBox(),z=W.width;p<z&&(p=z)}),p}function I(B,p){var G=p.getCanvasBBox();return B?G.width:G.height}function A(B,p){return B.getBBox().width<p}function R(B,p,G,W){W===void 0&&(W="tail");var z=p.attr("text"),N=I(B,p),j=b(z),F=!1;if(G<N){var k=Math.floor(G/N*j)-C,$=void 0;k>=0?$=M(z,k,W):$=D,$&&(p.attr("text",$),F=!0)}return F?p.set("tip",z):p.set("tip",null),F}},uSfk:function(wt,P){function i(d,o,b){for(var x=-1,M=d==null?0:d.length;++x<M;)if(b(o,d[x]))return!0;return!1}wt.exports=i},uh8N:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingWhenOnSyntax=void 0;var d=i("zN6Y"),o=i("ITfU"),b=function(){function x(M){this._binding=M,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new d.BindingOnSyntax(this._binding)}return x.prototype.when=function(M){return this._bindingWhenSyntax.when(M)},x.prototype.whenTargetNamed=function(M){return this._bindingWhenSyntax.whenTargetNamed(M)},x.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},x.prototype.whenTargetTagged=function(M,D){return this._bindingWhenSyntax.whenTargetTagged(M,D)},x.prototype.whenInjectedInto=function(M){return this._bindingWhenSyntax.whenInjectedInto(M)},x.prototype.whenParentNamed=function(M){return this._bindingWhenSyntax.whenParentNamed(M)},x.prototype.whenParentTagged=function(M,D){return this._bindingWhenSyntax.whenParentTagged(M,D)},x.prototype.whenAnyAncestorIs=function(M){return this._bindingWhenSyntax.whenAnyAncestorIs(M)},x.prototype.whenNoAncestorIs=function(M){return this._bindingWhenSyntax.whenNoAncestorIs(M)},x.prototype.whenAnyAncestorNamed=function(M){return this._bindingWhenSyntax.whenAnyAncestorNamed(M)},x.prototype.whenAnyAncestorTagged=function(M,D){return this._bindingWhenSyntax.whenAnyAncestorTagged(M,D)},x.prototype.whenNoAncestorNamed=function(M){return this._bindingWhenSyntax.whenNoAncestorNamed(M)},x.prototype.whenNoAncestorTagged=function(M,D){return this._bindingWhenSyntax.whenNoAncestorTagged(M,D)},x.prototype.whenAnyAncestorMatches=function(M){return this._bindingWhenSyntax.whenAnyAncestorMatches(M)},x.prototype.whenNoAncestorMatches=function(M){return this._bindingWhenSyntax.whenNoAncestorMatches(M)},x.prototype.onActivation=function(M){return this._bindingOnSyntax.onActivation(M)},x}();P.BindingWhenOnSyntax=b},"v/6M":function(wt,P,i){var d=i("9drk"),o=i("CPGf");function b(x,M){return x!=null&&o(x,M,d)}wt.exports=b},v5ut:function(wt,P,i){var d=i("XSdR"),o=i("hppO");wt.exports={run:b,cleanup:C};function b(S){var O=o.addDummyNode(S,"root",{},"_root"),E=M(S),I=d.max(d.values(E))-1,A=2*I+1;S.graph().nestingRoot=O,d.forEach(S.edges(),function(B){S.edge(B).minlen*=A});var R=D(S)+1;d.forEach(S.children(),function(B){x(S,O,A,R,I,E,B)}),S.graph().nodeRankFactor=A}function x(S,O,E,I,A,R,B){var p=S.children(B);if(!p.length){B!==O&&S.setEdge(O,B,{weight:0,minlen:E});return}var G=o.addBorderNode(S,"_bt"),W=o.addBorderNode(S,"_bb"),z=S.node(B);S.setParent(G,B),z.borderTop=G,S.setParent(W,B),z.borderBottom=W,d.forEach(p,function(N){x(S,O,E,I,A,R,N);var j=S.node(N),F=j.borderTop?j.borderTop:N,k=j.borderBottom?j.borderBottom:N,$=j.borderTop?I:2*I,nt=F!==k?1:A-R[B]+1;S.setEdge(G,F,{weight:$,minlen:nt,nestingEdge:!0}),S.setEdge(k,W,{weight:$,minlen:nt,nestingEdge:!0})}),S.parent(B)||S.setEdge(O,G,{weight:0,minlen:A+R[B]})}function M(S){var O={};function E(I,A){var R=S.children(I);R&&R.length&&d.forEach(R,function(B){E(B,A+1)}),O[I]=A}return d.forEach(S.children(),function(I){E(I,1)}),O}function D(S){return d.reduce(S.edges(),function(O,E){return O+S.edge(E).weight},0)}function C(S){var O=S.graph();S.removeNode(O.nestingRoot),delete O.nestingRoot,d.forEach(S.edges(),function(E){var I=S.edge(E);I.nestingEdge&&S.removeEdge(E)})}},vAzl:function(wt,P,i){"use strict";var d=i("/WN3"),o=i("jg4I"),b=i("3k0L"),x=i("5Kaj"),M=function(D){Object(d.b)(C,D);function C(S){var O=D.call(this,S)||this;O.cacheMap={},O.adjustDataArray=[],O.mergeData=[];var E=S.marginRatio,I=E===void 0?b.d:E,A=S.dodgeRatio,R=A===void 0?b.b:A,B=S.dodgeBy,p=S.intervalPadding,G=S.dodgePadding,W=S.xDimensionLength,z=S.groupNum,N=S.defaultSize,j=S.maxColumnWidth,F=S.minColumnWidth,k=S.columnWidthRatio;return O.marginRatio=I,O.dodgeRatio=R,O.dodgeBy=B,O.intervalPadding=p,O.dodgePadding=G,O.xDimensionLegenth=W,O.groupNum=z,O.defaultSize=N,O.maxColumnWidth=j,O.minColumnWidth=F,O.columnWidthRatio=k,O}return C.prototype.process=function(S){var O=o.e(S),E=o.q(O),I=this.dodgeBy,A=I?o.u(E,I):O;return this.cacheMap={},this.adjustDataArray=A,this.mergeData=E,this.adjustData(A,E),this.adjustDataArray=[],this.mergeData=[],O},C.prototype.adjustDim=function(S,O,E,I){var A=this,R=this.getDistribution(S),B=this.groupData(E,S);return o.j(B,function(p,G){var W;O.length===1?W={pre:O[0]-1,next:O[0]+1}:W=A.getAdjustRange(S,parseFloat(G),O),o.j(p,function(z){var N=z[S],j=R[N],F=j.indexOf(I);z[S]=A.getDodgeOffset(W,F,j.length)})}),[]},C.prototype.getDodgeOffset=function(S,O,E){var I=this,A=I.dodgeRatio,R=I.marginRatio,B=I.intervalPadding,p=I.dodgePadding,G=S.pre,W=S.next,z=W-G,N;if(!o.I(B)&&o.I(p)&&B>=0){var j=this.getIntervalOnlyOffset(E,O);N=G+j}else if(!o.I(p)&&o.I(B)&&p>=0){var j=this.getDodgeOnlyOffset(E,O);N=G+j}else if(!o.I(B)&&!o.I(p)&&B>=0&&p>=0){var j=this.getIntervalAndDodgeOffset(E,O);N=G+j}else{var F=z*A/E,k=R*F,j=1/2*(z-E*F-(E-1)*k)+((O+1)*F+O*k)-1/2*F-1/2*z;N=(G+W)/2+j}return N},C.prototype.getIntervalOnlyOffset=function(S,O){var E=this,I=E.defaultSize,A=E.intervalPadding,R=E.xDimensionLegenth,B=E.groupNum,p=E.dodgeRatio,G=E.maxColumnWidth,W=E.minColumnWidth,z=E.columnWidthRatio,N=A/R,j=(1-(B-1)*N)/B*p/(S-1),F=((1-N*(B-1))/B-j*(S-1))/S;if(F=o.I(z)?F:1/B/S*z,!o.I(G)){var k=G/R;F=Math.min(F,k)}if(!o.I(W)){var $=W/R;F=Math.max(F,$)}F=I?I/R:F,j=((1-(B-1)*N)/B-S*F)/(S-1);var nt=((1/2+O)*F+O*j+1/2*N)*B-N/2;return nt},C.prototype.getDodgeOnlyOffset=function(S,O){var E=this,I=E.defaultSize,A=E.dodgePadding,R=E.xDimensionLegenth,B=E.groupNum,p=E.marginRatio,G=E.maxColumnWidth,W=E.minColumnWidth,z=E.columnWidthRatio,N=A/R,j=1*p/(B-1),F=((1-j*(B-1))/B-N*(S-1))/S;if(F=z?1/B/S*z:F,!o.I(G)){var k=G/R;F=Math.min(F,k)}if(!o.I(W)){var $=W/R;F=Math.max(F,$)}F=I?I/R:F,j=(1-(F*S+N*(S-1))*B)/(B-1);var nt=((1/2+O)*F+O*N+1/2*j)*B-j/2;return nt},C.prototype.getIntervalAndDodgeOffset=function(S,O){var E=this,I=E.intervalPadding,A=E.dodgePadding,R=E.xDimensionLegenth,B=E.groupNum,p=I/R,G=A/R,W=((1-p*(B-1))/B-G*(S-1))/S,z=((1/2+O)*W+O*G+1/2*p)*B-p/2;return z},C.prototype.getDistribution=function(S){var O=this.adjustDataArray,E=this.cacheMap,I=E[S];return I||(I={},o.j(O,function(A,R){var B=o.vb(A,S);B.length||B.push(0),o.j(B,function(p){I[p]||(I[p]=[]),I[p].push(R)})}),E[S]=I),I},C}(x.a);P.a=M},vItp:function(wt,P){},vQYD:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("4Qiu"),b=i("RxlK"),x=function(D){Object(d.c)(C,D);function C(S){return D.call(this,S)||this}return C.prototype._isInBBox=function(S,O){var E=this.getBBox();return E.minX<=S&&E.maxX>=S&&E.minY<=O&&E.maxY>=O},C.prototype.afterAttrsChange=function(S){D.prototype.afterAttrsChange.call(this,S),this.clearCacheBBox()},C.prototype.getBBox=function(){var S=this.cfg.bbox;return S||(S=this.calculateBBox(),this.set("bbox",S)),S},C.prototype.getCanvasBBox=function(){var S=this.cfg.canvasBBox;return S||(S=this.calculateCanvasBBox(),this.set("canvasBBox",S)),S},C.prototype.applyMatrix=function(S){D.prototype.applyMatrix.call(this,S),this.set("canvasBBox",null)},C.prototype.calculateCanvasBBox=function(){var S=this.getBBox(),O=this.getTotalMatrix(),E=S.minX,I=S.minY,A=S.maxX,R=S.maxY;if(O){var B=Object(b.c)(O,[S.minX,S.minY]),p=Object(b.c)(O,[S.maxX,S.minY]),G=Object(b.c)(O,[S.minX,S.maxY]),W=Object(b.c)(O,[S.maxX,S.maxY]);E=Math.min(B[0],p[0],G[0],W[0]),A=Math.max(B[0],p[0],G[0],W[0]),I=Math.min(B[1],p[1],G[1],W[1]),R=Math.max(B[1],p[1],G[1],W[1])}var z=this.attrs;if(z.shadowColor){var N=z.shadowBlur,j=N===void 0?0:N,F=z.shadowOffsetX,k=F===void 0?0:F,$=z.shadowOffsetY,nt=$===void 0?0:$,st=E-j+k,rt=A+j+k,Q=I-j+nt,Y=R+j+nt;E=Math.min(E,st),A=Math.max(A,rt),I=Math.min(I,Q),R=Math.max(R,Y)}return{x:E,y:I,minX:E,minY:I,maxX:A,maxY:R,width:A-E,height:R-I}},C.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},C.prototype.isClipShape=function(){return this.get("isClipShape")},C.prototype.isInShape=function(S,O){return!1},C.prototype.isOnlyHitBox=function(){return!1},C.prototype.isHit=function(S,O){var E=this.get("startArrowShape"),I=this.get("endArrowShape"),A=[S,O,1];A=this.invertFromMatrix(A);var R=A[0],B=A[1],p=this._isInBBox(R,B);return this.isOnlyHitBox()?p:!!(p&&!this.isClipped(R,B)&&(this.isInShape(R,B)||E&&E.isHit(R,B)||I&&I.isHit(R,B)))},C}(o.a),M=x},vUmE:function(wt,P,i){"use strict";i.d(P,"a",function(){return Q});var d=i("J+IK"),o=i("18og"),b=i("Gc/9"),x=i("jg4I"),M=i("piQC"),D=i("Cw9K"),C=i("AOO/"),S="liquid";function O(Y){return[{percent:Y,type:S}]}function E(Y){var K=Y.chart,et=Y.options,ut=et.percent,dt=et.liquidStyle,vt=et.radius,at=et.outline,pt=et.wave,Tt=et.shape;K.scale({percent:{min:0,max:1}}),K.data(O(ut));var Gt=et.color||K.getTheme().defaultColor,Kt=Object(D.b)({},Y,{options:{xField:"type",yField:"percent",widthRatio:vt,interval:{color:Gt,style:dt,shape:"liquid-fill-gauge"}}}),Xt=Object(C.c)(Kt).ext,gt=Xt.geometry,lt=K.getTheme().background,ft={radius:vt,outline:at,wave:pt,shape:Tt,background:lt};return gt.customInfo(ft),K.legend(!1),K.axis(!1),K.tooltip(!1),Y}function I(Y,K){var et=Y.chart,ut=Y.options,dt=ut.statistic,vt=ut.percent,at=ut.meta;if(et.getController("annotation").clear(!0),dt.content&&!dt.content.formatter){var pt=Object(x.s)(at,["percent","formatter"]);dt.content.formatter=function(Tt){var Gt=Tt.percent;return pt?pt(Gt):(Gt*100).toFixed(2)+"%"}}return Object(D.t)(et,{statistic:dt,plotType:"liquid"},{percent:vt}),K&&et.render(!0),Y}function A(Y){return Object(D.e)(M.j,E,I,Object(M.f)({}),M.a,M.c)(Y)}var R={radius:.9,statistic:{title:!1,content:{formatter:function(K){var et=K.percent;return(et*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},B=i("N8ZQ"),p=5e3;function G(Y,K,et){return Y+(K-Y)*et}function W(Y){var K=Object(d.a)({opacity:1},Y.style);return Y.color&&!K.fill&&(K.fill=Y.color),K}function z(Y){var K={fill:"#fff",fillOpacity:0,lineWidth:4},et=Object(x.bb)({},K,Y.style);return Y.color&&!et.stroke&&(et.stroke=Y.color),Object(x.K)(Y.opacity)&&(et.opacity=et.strokeOpacity=Y.opacity),et}function N(Y,K,et,ut){return K===0?[[Y+1/2*et/Math.PI/2,ut/2],[Y+1/2*et/Math.PI,ut],[Y+et/4,ut]]:K===1?[[Y+1/2*et/Math.PI/2*(Math.PI-2),ut],[Y+1/2*et/Math.PI/2*(Math.PI-1),ut/2],[Y+et/4,0]]:K===2?[[Y+1/2*et/Math.PI/2,-ut/2],[Y+1/2*et/Math.PI,-ut],[Y+et/4,-ut]]:[[Y+1/2*et/Math.PI/2*(Math.PI-2),-ut],[Y+1/2*et/Math.PI/2*(Math.PI-1),-ut/2],[Y+et/4,0]]}function j(Y,K,et,ut,dt,vt,at){for(var pt=Math.ceil(2*Y/et*4)*4,Tt=[],Gt=ut;Gt<-Math.PI*2;)Gt+=Math.PI*2;for(;Gt>0;)Gt-=Math.PI*2;Gt=Gt/Math.PI/2*et;var Kt=vt-Y+Gt-Y*2;Tt.push(["M",Kt,K]);for(var Xt=0,gt=0;gt<pt;++gt){var lt=gt%4,ft=N(gt*et/4,lt,et,dt);Tt.push(["C",ft[0][0]+Kt,-ft[0][1]+K,ft[1][0]+Kt,-ft[1][1]+K,ft[2][0]+Kt,-ft[2][1]+K]),gt===pt-1&&(Xt=ft[2][0])}return Tt.push(["L",Xt+Kt,at+Y]),Tt.push(["L",Kt,at+Y]),Tt.push(["Z"]),Tt}function F(Y,K,et,ut,dt,vt,at,pt,Tt){for(var Gt=dt.fill,Kt=dt.opacity,Xt=at.getBBox(),gt=Xt.maxX-Xt.minX,lt=Xt.maxY-Xt.minY,ft=0;ft<ut;ft++){var it=ut<=1?0:ft/(ut-1),bt=vt.addShape("path",{name:"waterwave-path",attrs:{path:j(pt,Xt.minY+lt*et,Tt,0,gt/32,Y,K),fill:Gt,opacity:G(.2,.9,it)*Kt}});try{var Dt=Object(B.a)([["t",Tt,0]]);bt.stopAnimate(),bt.animate({matrix:Dt},{duration:G(.5*p,p,it),repeat:!0})}catch(Mt){console.warn("off-screen group animate error!")}}}function k(Y,K,et,ut){var dt=et*2/3,vt=Math.max(dt,ut),at=dt/2,pt=Y,Tt=at+K-vt/2,Gt=Math.asin(at/((vt-at)*.85)),Kt=Math.sin(Gt)*at,Xt=Math.cos(Gt)*at,gt=pt-Xt,lt=Tt+Kt,ft=Y,it=Tt+at/Math.sin(Gt);return`
      M `+gt+" "+lt+`
      A `+at+" "+at+" 0 1 1 "+(gt+Xt*2)+" "+lt+`
      Q `+ft+" "+it+" "+Y+" "+(K+vt/2)+`
      Q `+ft+" "+it+" "+gt+" "+lt+`
      Z 
    `}function $(Y,K,et,ut){var dt=et/2,vt=ut/2;return`
      M `+Y+" "+(K-vt)+` 
      a `+dt+" "+vt+" 0 1 0 0 "+vt*2+`
      a `+dt+" "+vt+" 0 1 0 0 "+-vt*2+`
      Z
    `}function nt(Y,K,et,ut){var dt=ut/2,vt=et/2;return`
      M `+Y+" "+(K-dt)+`
      L `+(Y+vt)+" "+K+`
      L `+Y+" "+(K+dt)+`
      L `+(Y-vt)+" "+K+`
      Z
    `}function st(Y,K,et,ut){var dt=ut/2,vt=et/2;return`
      M `+Y+" "+(K-dt)+`
      L `+(Y+vt)+" "+(K+dt)+`
      L `+(Y-vt)+" "+(K+dt)+`
      Z
    `}function rt(Y,K,et,ut){var dt=.618,vt=ut/2,at=et/2*dt;return`
      M `+(Y-at)+" "+(K-vt)+`
      L `+(Y+at)+" "+(K-vt)+`
      L `+(Y+at)+" "+(K+vt)+`
      L `+(Y-at)+" "+(K+vt)+`
      Z
    `}Object(o.registerShape)("interval","liquid-fill-gauge",{draw:function(K,et){var ut=.5,dt=.5,vt=K.customInfo,at=vt,pt=at.radius,Tt=at.shape,Gt=at.background,Kt=vt.outline,Xt=vt.wave,gt=Kt.border,lt=Kt.distance,ft=Xt.count,it=Xt.length,bt=Object(x.fb)(K.points,function(Ct,_){return Math.min(Ct,_.x)},Infinity),Dt=this.parsePoint({x:ut,y:dt}),Mt=this.parsePoint({x:bt,y:dt}),q=Dt.x-Mt.x,V=Math.min(q,Mt.y*pt),ot=W(K),tt=z(Object(x.bb)({},K,Kt)),yt=V-gt/2,Pt={pin:k,circle:$,diamond:nt,triangle:st,rect:rt},Ft=typeof Tt=="function"?Tt:Pt[Tt]||Pt.circle,Wt=Ft(Dt.x,Dt.y,yt*2,yt*2),Vt=et.addGroup({name:"waves"}),Lt=Vt.setClip({type:"path",attrs:{path:Wt}});return F(Dt.x,Dt.y,1-K.points[1].y,ft,ot,Vt,Lt,V*2,it),et.addShape("path",{name:"distance",attrs:{path:Wt,fill:"transparent",lineWidth:gt+lt*2,stroke:Gt==="transparent"?"#fff":Gt}}),et.addShape("path",{name:"wrap",attrs:Object(x.bb)(tt,{path:Wt,fill:"transparent",lineWidth:gt})}),et}});var Q=function(Y){Object(d.c)(K,Y);function K(){var et=Y!==null&&Y.apply(this,arguments)||this;return et.type="liquid",et}return K.getDefaultOptions=function(){return R},K.prototype.getDefaultOptions=function(){return K.getDefaultOptions()},K.prototype.changeData=function(et){this.chart.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:et}),this.chart.data(O(et)),I({chart:this.chart,options:this.options},!0),this.chart.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,o.Event.fromData(this.chart,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},K.prototype.getSchemaAdaptor=function(){return A},K}(b.b)},vX7b:function(wt,P,i){"use strict";i.d(P,"a",function(){return M});var d=i("J+IK"),o=i("NmxA"),b=i("Cw9K"),x=i("wnXL");function M(D){var C=D.options,S=C.polygon,O=C.xField,E=C.yField,I=C.seriesField,A=C.tooltip,R=Object(o.a)(A,[O,E,I]),B=R.fields,p=R.formatter;return S?Object(x.a)(Object(b.b)({},D,{options:{type:"polygon",colorField:I,tooltipFields:B,mapping:Object(d.a)({tooltip:p},S)}})):D}},vdmW:function(wt,P){},viQC:function(wt,P,i){"use strict";var d=i("jg4I"),o=/rgba?\(([\s.,0-9]+)\)/,b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,x=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,M=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,D=function(z){return/^[r,R,L,l]{1}[\s]*\(/.test(z)},C=function(){var z=document.createElement("i");return z.title="Web Colour Picker",z.style.display="none",document.body.appendChild(z),z},S=function(z,N,j,F){return z[F]+(N[F]-z[F])*j};function O(W){return"#"+I(W[0])+I(W[1])+I(W[2])}var E=function(z){return[parseInt(z.substr(1,2),16),parseInt(z.substr(3,2),16),parseInt(z.substr(5,2),16)]},I=function(z){var N=Math.round(z).toString(16);return N.length===1?"0"+N:N},A=function(z,N){var j=isNaN(Number(N))||N<0?0:N>1?1:Number(N),F=z.length-1,k=Math.floor(F*j),$=F*j-k,nt=z[k],st=k===F?nt:z[k+1];return O([S(nt,st,$,0),S(nt,st,$,1),S(nt,st,$,2)])},R,B=function(z){if(z[0]==="#"&&z.length===7)return z;R||(R=C()),R.style.color=z;var N=document.defaultView.getComputedStyle(R,"").getPropertyValue("color"),j=o.exec(N),F=j[1].split(/\s*,\s*/).map(function(k){return Number(k)});return N=O(F),N},p=function(z){var N=Object(d.O)(z)?z.split("-"):z,j=Object(d.U)(N,function(F){return E(F.indexOf("#")===-1?B(F):F)});return function(F){return A(j,F)}},G=function(z){if(D(z)){var N,j=void 0;if(z[0]==="l"){var F=b.exec(z),k=+F[1]+90;j=F[2],N="linear-gradient("+k+"deg, "}else if(z[0]==="r"){N="radial-gradient(";var F=x.exec(z);j=F[4]}var $=j.match(M);return Object(d.j)($,function(nt,st){var rt=nt.split(":");N+=rt[1]+" "+rt[0]*100+"%",st!==$.length-1&&(N+=", ")}),N+=")",N}return z};P.a={rgb2arr:E,gradient:p,toRGB:Object(d.Y)(B),toCSSGradient:G}},vqXp:function(wt,P){function i(d){return function(){return d}}wt.exports=i},vuZ1:function(wt,P,i){"use strict";i.d(P,"a",function(){return G});var d=i("J+IK"),o=i("Gc/9"),b=i("Cw9K"),x=i("piQC"),M=i("AOO/");function D(W){var z=W.chart,N=W.options,j=N.data,F=N.lineStyle,k=N.color,$=N.point,nt=N.area,st=$==null?void 0:$.state;z.data(j);var rt=Object(b.b)({},W,{options:{line:{style:F,color:k},point:$&&Object(d.a)({color:k},$),area:nt&&Object(d.a)({color:k},nt),label:void 0}}),Q=Object(b.b)({},rt,{options:{tooltip:!1}}),Y=Object(b.b)({},rt,{options:{tooltip:!1,state:st}});return Object(M.d)(rt),Object(M.e)(Y),Object(M.a)(Q),W}function C(W){var z,N=W.options,j=N.xAxis,F=N.yAxis,k=N.xField,$=N.yField;return Object(b.e)(Object(x.f)((z={},z[k]=j,z[$]=F,z)))(W)}function S(W){var z=W.chart,N=W.options,j=N.radius,F=N.startAngle,k=N.endAngle;return z.coordinate("polar",{radius:j,startAngle:F,endAngle:k}),W}function O(W){var z=W.chart,N=W.options,j=N.xField,F=N.xAxis,k=N.yField,$=N.yAxis;return z.axis(j,F),z.axis(k,$),W}function E(W){var z=W.chart,N=W.options,j=N.label,F=N.yField,k=Object(b.c)(z,"line");if(!j)k.label(!1);else{var $=j.callback,nt=Object(d.e)(j,["callback"]);k.label({fields:[F],callback:$,cfg:Object(b.v)(nt)})}return W}function I(W){return Object(b.e)(D,C,x.j,S,O,x.d,x.k,E,x.c,x.a,Object(x.b)())(W)}var A=i("18og"),R=i("jg4I"),B=function(W){Object(d.c)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),z.prototype.getTooltipItems=function(N){var j=this.getTooltipCfg(),F=j.shared,k=j.title,$=W.prototype.getTooltipItems.call(this,N);if($.length>0){var nt=this.view.geometries[0],st=nt.dataArray,rt=$[0].name,Q=[];return st.forEach(function(Y){Y.forEach(function(K){var et=A.Util.getTooltipItems(K,nt),ut=et[0];if(!F&&ut&&ut.name===rt){var dt=Object(R.I)(k)?rt:k;Q.push(Object(d.a)(Object(d.a)({},ut),{name:ut.title,title:dt}))}else if(F&&ut){var dt=Object(R.I)(k)?ut.name||rt:k;Q.push(Object(d.a)(Object(d.a)({},ut),{name:ut.title,title:dt}))}})}),Q}return[]},z}(A.TooltipController);Object(A.registerComponentController)("radar-tooltip",B);var p=function(W){Object(d.c)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.init=function(){var N=this.context.view;N.removeInteraction("tooltip")},z.prototype.show=function(){var N=this.context.event,j=this.getTooltipController();j.showTooltip({x:N.x,y:N.y})},z.prototype.hide=function(){var N=this.getTooltipController();N.hideTooltip()},z.prototype.getTooltipController=function(){var N=this.context.view;return N.getController("radar-tooltip")},z}(A.Action);Object(A.registerAction)("radar-tooltip",p),Object(A.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var G=function(W){Object(d.c)(z,W);function z(){var N=W!==null&&W.apply(this,arguments)||this;return N.type="radar",N}return z.prototype.changeData=function(N){this.updateOption({data:N}),this.chart.changeData(N)},z.prototype.getDefaultOptions=function(){return Object(b.b)({},W.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},z.prototype.getSchemaAdaptor=function(){return I},z}(o.b)},w9vu:function(wt,P,i){"use strict";i.d(P,"a",function(){return o});var d=i("jg4I");function o(b){if(Object(d.K)(b))return[b,b,b,b];if(Object(d.B)(b)){var x=b.length;if(x===1)return[b[0],b[0],b[0],b[0]];if(x===2)return[b[0],b[1],b[0],b[1]];if(x===3)return[b[0],b[1],b[2],b[1]];if(x===4)return b}return[0,0,0,0]}},wMWh:function(wt,P){wt.exports=i;function i(d,o,b){var x=o[0],M=o[1];return d[0]=b[0]*x+b[3]*M+b[6],d[1]=b[1]*x+b[4]*M+b[7],d}},wOqf:function(wt,P,i){"use strict";var d=this&&this.__spreadArray||function(p,G){for(var W=0,z=G.length,N=p.length;W<z;W++,N++)p[N]=G[W];return p};Object.defineProperty(P,"__esModule",{value:!0}),P.getFunctionName=P.getBaseClassDependencyCount=P.getDependencies=void 0;var o=i("tjpL"),b=i("196R"),x=i("2+60"),M=i("9L8m"),D=i("Rph/");Object.defineProperty(P,"getFunctionName",{enumerable:!0,get:function(){return D.getFunctionName}});var C=i("Y26w");function S(p,G){var W=D.getFunctionName(G),z=O(p,W,G,!1);return z}P.getDependencies=S;function O(p,G,W,z){var N=p.getConstructorMetadata(W),j=N.compilerGeneratedMetadata;if(j===void 0){var F=b.MISSING_INJECTABLE_ANNOTATION+" "+G+".";throw new Error(F)}var k=N.userGeneratedMetadata,$=Object.keys(k),nt=W.length===0&&$.length>0,st=$.length>W.length,rt=nt||st?$.length:W.length,Q=I(z,G,j,k,rt),Y=A(p,W),K=d(d([],Q),Y);return K}function E(p,G,W,z,N){var j=N[p.toString()]||[],F=B(j),k=F.unmanaged!==!0,$=z[p],nt=F.inject||F.multiInject;if($=nt||$,$ instanceof o.LazyServiceIdentifer&&($=$.unwrap()),k){var st=$===Object,rt=$===Function,Q=$===void 0,Y=st||rt||Q;if(!G&&Y){var K=b.MISSING_INJECT_ANNOTATION+" argument "+p+" in class "+W+".";throw new Error(K)}var et=new C.Target(x.TargetTypeEnum.ConstructorArgument,F.targetName,$);return et.metadata=j,et}return null}function I(p,G,W,z,N){for(var j=[],F=0;F<N;F++){var k=F,$=E(k,p,G,W,z);$!==null&&j.push($)}return j}function A(p,G){for(var W=p.getPropertiesMetadata(G),z=[],N=Object.keys(W),j=0,F=N;j<F.length;j++){var k=F[j],$=W[k],nt=B(W[k]),st=nt.targetName||k,rt=nt.inject||nt.multiInject,Q=new C.Target(x.TargetTypeEnum.ClassProperty,st,rt);Q.metadata=$,z.push(Q)}var Y=Object.getPrototypeOf(G.prototype).constructor;if(Y!==Object){var K=A(p,Y);z=d(d([],z),K)}return z}function R(p,G){var W=Object.getPrototypeOf(G.prototype).constructor;if(W!==Object){var z=D.getFunctionName(W),N=O(p,z,W,!0),j=N.map(function($){return $.metadata.filter(function(nt){return nt.key===M.UNMANAGED_TAG})}),F=[].concat.apply([],j).length,k=N.length-F;return k>0?k:R(p,W)}else return 0}P.getBaseClassDependencyCount=R;function B(p){var G={};return p.forEach(function(W){G[W.key.toString()]=W.value}),{inject:G[M.INJECT_TAG],multiInject:G[M.MULTI_INJECT_TAG],targetName:G[M.NAME_TAG],unmanaged:G[M.UNMANAGED_TAG]}}},wU7O:function(wt,P,i){"use strict";i.d(P,"a",function(){return C});var d=i("J+IK"),o=i("Gc/9"),b=i("1MGC"),x=i("XELs"),M=i("Cw9K"),D=Object(M.b)({},o.b.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),C=function(S){Object(d.c)(O,S);function O(){var E=S!==null&&S.apply(this,arguments)||this;return E.type="column",E}return O.getDefaultOptions=function(){return D},O.prototype.changeData=function(E){this.updateOption({data:E});var I=this.options,A=I.yField,R=I.xField,B=I.isPercent,p=this,G=p.chart,W=p.options;Object(x.b)({chart:G,options:W}),this.chart.changeData(Object(b.a)(E,A,R,A,B))},O.prototype.getDefaultOptions=function(){return O.getDefaultOptions()},O.prototype.getSchemaAdaptor=function(){return x.a},O}(o.b)},wUId:function(wt,P,i){"use strict";i.d(P,"a",function(){return d});var d=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},"weX+":function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var d;(function(K){K.TextureCompressionBC="texture-compression-bc"})(d=P.ExtensionName||(P.ExtensionName={}));var o;(function(K){K.ClampToEdge="clamp-to-edge",K.Repeat="repeat",K.MirrorRepeat="mirror-repeat"})(o=P.AddressMode||(P.AddressMode={}));var b;(function(K){K.UniformBuffer="uniform-buffer",K.StorageBuffer="storage-buffer",K.ReadonlyStorageBuffer="readonly-storage-buffer",K.Sampler="sampler",K.ComparisonSampler="comparison-sampler",K.SampledTexture="sampled-texture",K.ReadonlyStorageTexture="readonly-storage-texture",K.WriteonlyStorageTexture="writeonly-storage-texture"})(b=P.BindingType||(P.BindingType={}));var x;(function(K){K.Zero="zero",K.One="one",K.SrcColor="src-color",K.OneMinusSrcColor="one-minus-src-color",K.SrcAlpha="src-alpha",K.OneMinusSrcAlpha="one-minus-src-alpha",K.DstColor="dst-color",K.OneMinusDstColor="one-minus-dst-color",K.DstAlpha="dst-alpha",K.OneMinusDstAlpha="one-minus-dst-alpha",K.SrcAlphaSaturated="src-alpha-saturated",K.BlendColor="blend-color",K.OneMinusBlendColor="one-minus-blend-color"})(x=P.BlendFactor||(P.BlendFactor={}));var M;(function(K){K.Add="add",K.Subtract="subtract",K.ReverseSubtract="reverse-subtract",K.Min="min",K.Max="max"})(M=P.BlendOperation||(P.BlendOperation={}));var D;(function(K){K.Never="never",K.Less="less",K.Equal="equal",K.LessEqual="less-equal",K.Greater="greater",K.NotEqual="not-equal",K.GreaterEqual="greater-equal",K.Always="always"})(D=P.CompareFunction||(P.CompareFunction={}));var C;(function(K){K.None="none",K.Front="front",K.Back="back"})(C=P.CullMode||(P.CullMode={}));var S;(function(K){K.Nearest="nearest",K.Linear="linear"})(S=P.FilterMode||(P.FilterMode={}));var O;(function(K){K.CCW="ccw",K.CW="cw"})(O=P.FrontFace||(P.FrontFace={}));var E;(function(K){K.Uint16="uint16",K.Uint32="uint32"})(E=P.IndexFormat||(P.IndexFormat={}));var I;(function(K){K.Vertex="vertex",K.Instance="instance"})(I=P.InputStepMode||(P.InputStepMode={}));var A;(function(K){K.Load="load"})(A=P.LoadOp||(P.LoadOp={}));var R;(function(K){K.PointList="point-list",K.LineList="line-list",K.LineStrip="line-strip",K.TriangleList="triangle-list",K.TriangleStrip="triangle-strip"})(R=P.PrimitiveTopology||(P.PrimitiveTopology={}));var B;(function(K){K.Keep="keep",K.Zero="zero",K.Replace="replace",K.Invert="invert",K.IncrementClamp="increment-clamp",K.DecrementClamp="decrement-clamp",K.IncrementWrap="increment-wrap",K.DecrementWrap="decrement-wrap"})(B=P.StencilOperation||(P.StencilOperation={}));var p;(function(K){K.Store="store",K.Clear="clear"})(p=P.StoreOp||(P.StoreOp={}));var G;(function(K){K.E1d="1d",K.E2d="2d",K.E3d="3d"})(G=P.TextureDimension||(P.TextureDimension={}));var W;(function(K){K.R8Unorm="r8unorm",K.R8Snorm="r8snorm",K.R8Uint="r8uint",K.R8Sint="r8sint",K.R16Uint="r16uint",K.R16Sint="r16sint",K.R16Float="r16float",K.RG8Unorm="rg8unorm",K.RG8Snorm="rg8snorm",K.RG8Uint="rg8uint",K.RG8Sint="rg8sint",K.R32Uint="r32uint",K.R32Sint="r32sint",K.R32Float="r32float",K.RG16Uint="rg16uint",K.RG16Sint="rg16sint",K.RG16Float="rg16float",K.RGBA8Unorm="rgba8unorm",K.RGBA8UnormSRGB="rgba8unorm-srgb",K.RGBA8Snorm="rgba8snorm",K.RGBA8Uint="rgba8uint",K.RGBA8Sint="rgba8sint",K.BGRA8Unorm="bgra8unorm",K.BGRA8UnormSRGB="bgra8unorm-srgb",K.RGB10A2Unorm="rgb10a2unorm",K.RG11B10Float="rg11b10float",K.RG32Uint="rg32uint",K.RG32Sint="rg32sint",K.RG32Float="rg32float",K.RGBA16Uint="rgba16uint",K.RGBA16Sint="rgba16sint",K.RGBA16Float="rgba16float",K.RGBA32Uint="rgba32uint",K.RGBA32Sint="rgba32sint",K.RGBA32Float="rgba32float",K.Depth32Float="depth32float",K.Depth24Plus="depth24plus",K.Depth24PlusStencil8="depth24plus-stencil8"})(W=P.TextureFormat||(P.TextureFormat={}));var z;(function(K){K.Float="float",K.Sint="sint",K.Uint="uint"})(z=P.TextureComponentType||(P.TextureComponentType={}));var N;(function(K){K.E1d="1d",K.E2d="2d",K.E2dArray="2d-array",K.Cube="cube",K.CubeArray="cube-array",K.E3d="3d"})(N=P.TextureViewDimension||(P.TextureViewDimension={}));var j;(function(K){K.Uchar2="uchar2",K.Uchar4="uchar4",K.Char2="char2",K.Char4="char4",K.Uchar2Norm="uchar2norm",K.Uchar4Norm="uchar4norm",K.Char2Norm="char2norm",K.Char4Norm="char4norm",K.Ushort2="ushort2",K.Ushort4="ushort4",K.Short2="short2",K.Short4="short4",K.Ushort2Norm="ushort2norm",K.Ushort4Norm="ushort4norm",K.Short2Norm="short2norm",K.Short4Norm="short4norm",K.Half2="half2",K.Half4="half4",K.Float="float",K.Float2="float2",K.Float3="float3",K.Float4="float4",K.Uint="uint",K.Uint2="uint2",K.Uint3="uint3",K.Uint4="uint4",K.Int="int",K.Int2="int2",K.Int3="int3",K.Int4="int4"})(j=P.VertexFormat||(P.VertexFormat={}));var F;(function(K){K.All="all",K.StencilOnly="stencil-only",K.DepthOnly="depth-only"})(F=P.TextureAspect||(P.TextureAspect={}));var k;(function(K){K.Error="error",K.Warning="warning",K.Info="info"})(k=P.CompilationMessageType||(P.CompilationMessageType={}));var $;(function(K){K.Occlusion="occlusion"})($=P.QueryType||(P.QueryType={}));var nt;(function(K){K[K.MapRead=1]="MapRead",K[K.MapWrite=2]="MapWrite",K[K.CopySrc=4]="CopySrc",K[K.CopyDst=8]="CopyDst",K[K.Index=16]="Index",K[K.Vertex=32]="Vertex",K[K.Uniform=64]="Uniform",K[K.Storage=128]="Storage",K[K.Indirect=256]="Indirect",K[K.QueryResolve=512]="QueryResolve"})(nt=P.BufferUsage||(P.BufferUsage={}));var st;(function(K){K[K.Red=1]="Red",K[K.Green=2]="Green",K[K.Blue=4]="Blue",K[K.Alpha=8]="Alpha",K[K.All=15]="All"})(st=P.ColorWrite||(P.ColorWrite={}));var rt;(function(K){K[K.Vertex=1]="Vertex",K[K.Fragment=2]="Fragment",K[K.Compute=4]="Compute"})(rt=P.ShaderStage||(P.ShaderStage={}));var Q;(function(K){K[K.CopySrc=1]="CopySrc",K[K.CopyDst=2]="CopyDst",K[K.Sampled=4]="Sampled",K[K.Storage=8]="Storage",K[K.OutputAttachment=16]="OutputAttachment"})(Q=P.TextureUsage||(P.TextureUsage={}));var Y;(function(K){K[K.Read=1]="Read",K[K.Write=2]="Write"})(Y=P.MapMode||(P.MapMode={}))},"wfm+":function(wt,P,i){"use strict";var d=this&&this.__spreadArray||function(O,E){for(var I=0,A=E.length,R=O.length;I<A;I++,R++)O[R]=E[I];return O};Object.defineProperty(P,"__esModule",{value:!0}),P.resolveInstance=void 0;var o=i("196R"),b=i("2+60"),x=i("9L8m");function M(O,E,I){var A=E.filter(function(B){return B.target!==null&&B.target.type===b.TargetTypeEnum.ClassProperty}),R=A.map(I);return A.forEach(function(B,p){var G="";G=B.target.name.value();var W=R[p];O[G]=W}),O}function D(O,E){return new(O.bind.apply(O,d([void 0],E)))}function C(O,E){if(Reflect.hasMetadata(x.POST_CONSTRUCT,O)){var I=Reflect.getMetadata(x.POST_CONSTRUCT,O);try{E[I.value]()}catch(A){throw new Error(o.POST_CONSTRUCT_ERROR(O.name,A.message))}}}function S(O,E,I){var A=null;if(E.length>0){var R=E.filter(function(p){return p.target!==null&&p.target.type===b.TargetTypeEnum.ConstructorArgument}),B=R.map(I);A=D(O,B),A=M(A,E,I)}else A=new O;return C(O,A),A}P.resolveInstance=S},wnXL:function(wt,P,i){"use strict";i.d(P,"b",function(){return M}),i.d(P,"a",function(){return D});var d=i("J+IK"),o=i("jg4I"),b=i("Cw9K");function x(C,S){var O=C.xField,E=C.yField,I=C.colorField,A=C.shapeField,R=C.sizeField,B=C.styleField,p=C.rawFields,G=p===void 0?[]:p,W=[];if(S==="color")W=Object(d.g)([I||O],G);else if(S==="shape")W=Object(d.g)([A||O],G);else if(S==="size")W=Object(d.g)([R||O],G);else{W=Object(d.g)([O,E,I,A,R,B],G);var z=["x","y","color","shape","size","style"].indexOf(S),N=W[z];W.splice(z,1),W.unshift(N)}return Object(o.rb)(W.filter(function(j){return!!j}))}function M(C,S){if(!!S)return function(){for(var O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];var I={};return C.forEach(function(A,R){I[A]=O[R]}),delete I.undefined,S(I)}}function D(C){var S=C.chart,O=C.options,E=O.type,I=O.args,A=O.mapping,R=O.xField,B=O.yField,p=O.colorField,G=O.shapeField,W=O.sizeField,z=O.tooltipFields,N=O.label,j=O.state;if(!A)return C;var F=A.color,k=A.shape,$=A.size,nt=A.style,st=A.tooltip,rt=S[E](I).position(R+"*"+B);if(Object(o.O)(F))p?rt.color(p,F):rt.color(F);else if(Object(o.H)(F)){var Q=x(O,"color");rt.color(Q.join("*"),M(Q,F))}else p&&rt.color(p,F);if(Object(o.O)(k))G?rt.shape(G,[k]):rt.shape(k);else if(Object(o.H)(k)){var Q=x(O,"shape");rt.shape(Q.join("*"),M(Q,k))}else G&&rt.shape(G,k);if(Object(o.K)($))W?rt.size(W,$):rt.size($);else if(Object(o.H)($)){var Q=x(O,"size");rt.size(Q.join("*"),M(Q,$))}else W&&rt.size(W,$);if(Object(o.H)(nt)){var Q=x(O,"style");rt.style(Q.join("*"),M(Q,nt))}else Object(o.M)(nt)&&rt.style(nt);if(z===!1?rt.tooltip(!1):Object(o.F)(z)||rt.tooltip(z.join("*"),M(z,st)),N===!1)rt.label(!1);else if(N){var Y=N.callback,K=N.fields,et=Object(d.e)(N,["callback","fields"]);rt.label({fields:K||[B],callback:Y,cfg:Object(b.v)(et)})}return j&&rt.state(j),[R,B].filter(function(ut){return ut!==p}).forEach(function(ut){S.legend(ut,!1)}),Object(d.a)(Object(d.a)({},C),{ext:{geometry:rt}})}},wvSg:function(wt,P,i){var d=i("TIpG"),o=i("2Swa");function b(x){return o(x)&&d(x)}wt.exports=b},"x+i1":function(wt,P,i){var d=i("3sCP"),o=i("5MHJ"),b=i("VL8K"),x=i("+Gi7"),M=i("TIpG"),D=i("lDzS"),C=i("/g2i"),S=i("lOrw"),O="[object Map]",E="[object Set]",I=Object.prototype,A=I.hasOwnProperty;function R(B){if(B==null)return!0;if(M(B)&&(x(B)||typeof B=="string"||typeof B.splice=="function"||D(B)||S(B)||b(B)))return!B.length;var p=o(B);if(p==O||p==E)return!B.size;if(C(B))return!d(B).length;for(var G in B)if(A.call(B,G))return!1;return!0}wt.exports=R},x7X8:function(wt,P,i){"use strict";i.d(P,"b",function(){return S}),i.d(P,"a",function(){return O});var d=i("piQC"),o=i("Cw9K"),b=i("AOO/"),x=i("rwKT"),M=i("lCDx"),D=i("ZXD1");function C(E){var I=E.chart,A=E.options,R=A.data,B=A.color,p=A.areaStyle,G=A.point,W=A.line,z=G==null?void 0:G.state,N=Object(M.a)(R);I.data(N);var j=Object(o.b)({},E,{options:{xField:x.c,yField:x.d,area:{color:B,style:p},line:W,point:G}}),F=Object(o.b)({},j,{options:{tooltip:!1}}),k=Object(o.b)({},j,{options:{tooltip:!1,state:z}});return Object(b.a)(j),Object(b.d)(F),Object(b.e)(k),I.axis(!1),I.legend(!1),E}function S(E){var I,A,R=E.options,B=R.xAxis,p=R.yAxis,G=R.data,W=Object(M.a)(G);return Object(o.e)(Object(d.f)((I={},I[x.c]=B,I[x.d]=p,I),(A={},A[x.c]={type:"cat"},A[x.d]=Object(D.a)(W,x.d),A)))(E)}function O(E){return Object(o.e)(C,S,d.k,d.j,d.a,Object(d.b)())(E)}},xO9G:function(wt,P,i){"use strict";i.d(P,"a",function(){return D});var d=i("qJ52"),o=i.n(d),b=i("25gg"),x=i.n(b),M=i("99LQ"),D=function(){function C(S,O){o()(this,C),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=S||0,this.normal=O||M.e.fromValues(0,1,0),this.updatePNVertexFlag()}return x()(C,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(O){return M.e.dot(O,this.normal)-this.distance}},{key:"normalize",value:function(){var O=1/M.e.len(this.normal);M.e.scale(this.normal,this.normal,O),this.distance*=O}},{key:"intersectsLine",value:function(O,E,I){var A=this.distanceToPoint(O),R=this.distanceToPoint(E),B=A/(A-R),p=B>=0&&B<=1;return p&&I&&M.e.lerp(I,O,E,B),p}}]),C}()},xOhq:function(wt,P,i){"use strict";var d=i("J+IK"),o=i("nZiY"),b=i("tSnd"),x=function(M){Object(d.c)(D,M);function D(C){var S=M.call(this)||this;S.destroyed=!1;var O=S.getDefaultCfg();return S.cfg=Object(b.i)(O,C),S}return D.prototype.getDefaultCfg=function(){return{}},D.prototype.get=function(C){return this.cfg[C]},D.prototype.set=function(C,S){this.cfg[C]=S},D.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},D}(o.a);P.a=x},xTyV:function(wt,P){},xXxO:function(wt,P,i){"use strict";var d=i("riA0"),o=i("xvuM"),b=i.n(o),x=i("7Xsh"),M=i.n(x),D=i("8e3m");i.d(P,"Event",function(){return D.a});var C=i("OEJE");i.d(P,"Base",function(){return C.a});var S=i("mX1U"),O=i("tDsh"),E=i("vQYD"),I=i("UngR"),A=i("n9X1"),R=i("08EK"),B=i("RxlK"),p=i("k+AY"),G="0.5.6"},xdm5:function(wt,P,i){"use strict";i.d(P,"e",function(){return b}),i.d(P,"f",function(){return x}),i.d(P,"d",function(){return M}),i.d(P,"a",function(){return C}),i.d(P,"b",function(){return S}),i.d(P,"c",function(){return O});var d=i("sxZn"),o=[1,0,0,0,1,0,0,0,1];function b(E,I,A){if(A===void 0&&(A=o),!I)return null;var R=d.a.transform(A,[["t",-E.x,-E.y],["r",I],["t",E.x,E.y]]);return R}function x(E,I){return!E.x&&!E.y?null:d.a.transform(I||o,[["t",E.x,E.y]])}function M(E){var I=[1,0,0],A=[0,0,0];return d.d.transformMat3(A,I,E),Math.atan2(A[1],A[0])}function D(E,I){var A=[0,0];return d.c.transformMat3(A,I,E),A}function C(E,I){var A=D(E,[I.minX,I.minY]),R=D(E,[I.maxX,I.minY]),B=D(E,[I.minX,I.maxY]),p=D(E,[I.maxX,I.maxY]),G=Math.min(A[0],R[0],B[0],p[0]),W=Math.max(A[0],R[0],B[0],p[0]),z=Math.min(A[1],R[1],B[1],p[1]),N=Math.max(A[1],R[1],B[1],p[1]);return{x:G,y:z,minX:G,minY:z,maxX:W,maxY:N,width:W-G,height:N-z}}function S(E,I,A,R){if(I){var B=b({x:A,y:R},I,E.getMatrix());E.setMatrix(B)}}function O(E,I,A){var R=x({x:I,y:A});E.attr("matrix",R)}},xvuM:function(wt,P){},y1zf:function(wt,P,i){"use strict";i.r(P),i.d(P,"Html",function(){return G});var d=i("J+IK"),o=i("viQC"),b=i("m8xh"),x=i("jg4I"),M=i("oDuu"),D=i("L+OQ"),C=i("nA9L"),S=i("KwOt"),O,E=(O={},O[""+C.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:S.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},O[""+C.TITLE_CLASS]={marginBottom:"4px"},O[""+C.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},O[""+C.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},O[""+C.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},O[""+C.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},O[""+C.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},O[""+C.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},O);function I(W,z,N,j,F){var k={left:W<F.x,right:W+N>F.x+F.width,top:z<F.y,bottom:z+j>F.y+F.height};return k}function A(W,z,N,j,F,k){var $=W,nt=z;switch(k){case"left":$=W-j-N,nt=z-F/2;break;case"right":$=W+N,nt=z-F/2;break;case"top":$=W-j/2,nt=z-F-N;break;case"bottom":$=W-j/2,nt=z+N;break;default:$=W+N,nt=z-F-N;break}return{x:$,y:nt}}function R(W,z,N,j,F,k,$){var nt=A(W,z,N,j,F,k);if($){var st=I(nt.x,nt.y,j,F,$);k==="auto"?(st.right&&(nt.x=Math.max(0,W-j-N)),st.top&&(nt.y=Math.max(0,z-F-N))):k==="top"||k==="bottom"?(st.left&&(nt.x=$.x),st.right&&(nt.x=$.x+$.width-j),k==="top"&&st.top&&(nt.y=z+N),k==="bottom"&&st.bottom&&(nt.y=z-F-N)):(st.top&&(nt.y=$.y),st.bottom&&(nt.y=$.y+$.height-F),k==="left"&&st.left&&(nt.x=W+N),k==="right"&&st.right&&(nt.x=W-j-N))}return nt}function B(W,z){var N=!1;return Object(x.j)(z,function(j){if(Object(x.x)(W,j))return N=!0,!1}),N}var p=function(W){Object(d.c)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.getDefaultCfg=function(){var N=W.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},N),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+C.CONTAINER_CLASS+'"><div class="'+C.TITLE_CLASS+'"></div><ul class="'+C.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+C.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+C.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+C.NAME_CLASS+`">{name}</span>:
          <span class="`+C.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+C.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+C.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:C.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:E})},z.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},z.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},z.prototype.show=function(){var N=this.getContainer();!N||this.destroyed||(this.set("visible",!0),Object(b.e)(N,{visibility:"visible"}),this.setCrossHairsVisible(!0))},z.prototype.hide=function(){var N=this.getContainer();!N||this.destroyed||(this.set("visible",!1),Object(b.e)(N,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},z.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},z.prototype.setLocation=function(N){this.set("x",N.x),this.set("y",N.y),this.resetPosition()},z.prototype.setCrossHairsVisible=function(N){var j=N?"":"none",F=this.get("xCrosshairDom"),k=this.get("yCrosshairDom");F&&Object(b.e)(F,{display:j}),k&&Object(b.e)(k,{display:j})},z.prototype.initContainer=function(){if(W.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var N=this.getHtmlContentNode();this.get("parent").appendChild(N),this.set("container",N),this.resetStyles(),this.applyStyles()}},z.prototype.updateInner=function(N){this.get("customContent")?this.renderCustomContent():(B(N,["title","showTitle"])&&this.resetTitle(),Object(x.x)(N,"items")&&this.renderItems()),W.prototype.updateInner.call(this,N)},z.prototype.initDom=function(){this.cacheDoms()},z.prototype.removeDom=function(){W.prototype.removeDom.call(this),this.clearCrosshairs()},z.prototype.resetPosition=function(){var N=this.get("x"),j=this.get("y"),F=this.get("offset"),k=this.getOffset(),$=k.offsetX,nt=k.offsetY,st=this.get("position"),rt=this.get("region"),Q=this.getContainer(),Y=this.getBBox(),K=Y.width,et=Y.height,ut;rt&&(ut=Object(D.k)(rt));var dt=R(N,j,F,K,et,st,ut);Object(b.e)(Q,{left:Object(D.l)(dt.x+$),top:Object(D.l)(dt.y+nt)}),this.resetCrosshairs()},z.prototype.renderCustomContent=function(){var N=this.getHtmlContentNode(),j=this.get("parent"),F=this.get("container");F&&F.parentNode===j?j.replaceChild(N,F):j.appendChild(N),this.set("container",N),this.resetStyles(),this.applyStyles()},z.prototype.getHtmlContentNode=function(){var N,j=this.get("customContent");if(j){var F=j(this.get("title"),this.get("items"));Object(x.E)(F)?N=F:N=Object(b.b)(F)}return N},z.prototype.cacheDoms=function(){var N=this.getContainer(),j=N.getElementsByClassName(C.TITLE_CLASS)[0],F=N.getElementsByClassName(C.LIST_CLASS)[0];this.set("titleDom",j),this.set("listDom",F)},z.prototype.resetTitle=function(){var N=this.get("title"),j=this.get("showTitle");j&&N?this.setTitle(N):this.setTitle("")},z.prototype.setTitle=function(N){var j=this.get("titleDom");j&&(j.innerText=N)},z.prototype.resetCrosshairs=function(){var N=this.get("crosshairsRegion"),j=this.get("crosshairs");if(!N||!j)this.clearCrosshairs();else{var F=Object(D.k)(N),k=this.get("xCrosshairDom"),$=this.get("yCrosshairDom");j==="x"?(this.resetCrosshair("x",F),$&&($.remove(),this.set("yCrosshairDom",null))):j==="y"?(this.resetCrosshair("y",F),k&&(k.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",F),this.resetCrosshair("y",F)),this.setCrossHairsVisible(this.get("visible"))}},z.prototype.resetCrosshair=function(N,j){var F=this.checkCrosshair(N),k=this.get(N);N==="x"?Object(b.e)(F,{left:Object(D.l)(k),top:Object(D.l)(j.y),height:Object(D.l)(j.height)}):Object(b.e)(F,{top:Object(D.l)(k),left:Object(D.l)(j.x),width:Object(D.l)(j.width)})},z.prototype.checkCrosshair=function(N){var j=N+"CrosshairDom",F=N+"CrosshairTpl",k="CROSSHAIR_"+N.toUpperCase(),$=C[k],nt=this.get(j),st=this.get("parent");return nt||(nt=Object(b.b)(this.get(F)),this.applyStyle($,nt),st.appendChild(nt),this.set(j,nt)),nt},z.prototype.renderItems=function(){this.clearItemDoms();var N=this.get("items"),j=this.get("itemTpl"),F=this.get("listDom");F&&(Object(x.j)(N,function(k){var $=o.a.toCSSGradient(k.color),nt=Object(d.a)(Object(d.a)({},k),{color:$}),st=Object(x.mb)(j,nt),rt=Object(b.b)(st);F.appendChild(rt)}),this.applyChildrenStyles(F,this.get("domStyles")))},z.prototype.clearItemDoms=function(){this.get("listDom")&&Object(D.a)(this.get("listDom"))},z.prototype.clearCrosshairs=function(){var N=this.get("xCrosshairDom"),j=this.get("yCrosshairDom");N&&N.remove(),j&&j.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},z}(M.a),G=p},"yK/m":function(wt,P,i){"use strict";var d=function(_,It,Rt){_.prototype=It.prototype=Rt,Rt.constructor=_};function o(_,It){var Rt=Object.create(_.prototype);for(var xt in It)Rt[xt]=It[xt];return Rt}function b(){}var x=.7,M=1/x,D="\\s*([+-]?\\d+)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O=/^#([0-9a-f]{3,8})$/,E=new RegExp("^rgb\\("+[D,D,D]+"\\)$"),I=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),A=new RegExp("^rgba\\("+[D,D,D,C]+"\\)$"),R=new RegExp("^rgba\\("+[S,S,S,C]+"\\)$"),B=new RegExp("^hsl\\("+[C,S,S]+"\\)$"),p=new RegExp("^hsla\\("+[C,S,S,C]+"\\)$"),G={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d(b,j,{copy:function(It){return Object.assign(new this.constructor,this,It)},displayable:function(){return this.rgb().displayable()},hex:W,formatHex:W,formatHsl:z,formatRgb:N,toString:N});function W(){return this.rgb().formatHex()}function z(){return et(this).formatHsl()}function N(){return this.rgb().formatRgb()}function j(_){var It,Rt;return _=(_+"").trim().toLowerCase(),(It=O.exec(_))?(Rt=It[1].length,It=parseInt(It[1],16),Rt===6?F(It):Rt===3?new st(It>>8&15|It>>4&240,It>>4&15|It&240,(It&15)<<4|It&15,1):Rt===8?k(It>>24&255,It>>16&255,It>>8&255,(It&255)/255):Rt===4?k(It>>12&15|It>>8&240,It>>8&15|It>>4&240,It>>4&15|It&240,((It&15)<<4|It&15)/255):null):(It=E.exec(_))?new st(It[1],It[2],It[3],1):(It=I.exec(_))?new st(It[1]*255/100,It[2]*255/100,It[3]*255/100,1):(It=A.exec(_))?k(It[1],It[2],It[3],It[4]):(It=R.exec(_))?k(It[1]*255/100,It[2]*255/100,It[3]*255/100,It[4]):(It=B.exec(_))?K(It[1],It[2]/100,It[3]/100,1):(It=p.exec(_))?K(It[1],It[2]/100,It[3]/100,It[4]):G.hasOwnProperty(_)?F(G[_]):_==="transparent"?new st(NaN,NaN,NaN,0):null}function F(_){return new st(_>>16&255,_>>8&255,_&255,1)}function k(_,It,Rt,xt){return xt<=0&&(_=It=Rt=NaN),new st(_,It,Rt,xt)}function $(_){return _ instanceof b||(_=j(_)),_?(_=_.rgb(),new st(_.r,_.g,_.b,_.opacity)):new st}function nt(_,It,Rt,xt){return arguments.length===1?$(_):new st(_,It,Rt,xt==null?1:xt)}function st(_,It,Rt,xt){this.r=+_,this.g=+It,this.b=+Rt,this.opacity=+xt}d(st,nt,o(b,{brighter:function(It){return It=It==null?M:Math.pow(M,It),new st(this.r*It,this.g*It,this.b*It,this.opacity)},darker:function(It){return It=It==null?x:Math.pow(x,It),new st(this.r*It,this.g*It,this.b*It,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rt,formatHex:rt,formatRgb:Q,toString:Q}));function rt(){return"#"+Y(this.r)+Y(this.g)+Y(this.b)}function Q(){var _=this.opacity;return _=isNaN(_)?1:Math.max(0,Math.min(1,_)),(_===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(_===1?")":", "+_+")")}function Y(_){return _=Math.max(0,Math.min(255,Math.round(_)||0)),(_<16?"0":"")+_.toString(16)}function K(_,It,Rt,xt){return xt<=0?_=It=Rt=NaN:Rt<=0||Rt>=1?_=It=NaN:It<=0&&(_=NaN),new dt(_,It,Rt,xt)}function et(_){if(_ instanceof dt)return new dt(_.h,_.s,_.l,_.opacity);if(_ instanceof b||(_=j(_)),!_)return new dt;if(_ instanceof dt)return _;_=_.rgb();var It=_.r/255,Rt=_.g/255,xt=_.b/255,Nt=Math.min(It,Rt,xt),Ht=Math.max(It,Rt,xt),jt=NaN,Ut=Ht-Nt,Jt=(Ht+Nt)/2;return Ut?(It===Ht?jt=(Rt-xt)/Ut+(Rt<xt)*6:Rt===Ht?jt=(xt-It)/Ut+2:jt=(It-Rt)/Ut+4,Ut/=Jt<.5?Ht+Nt:2-Ht-Nt,jt*=60):Ut=Jt>0&&Jt<1?0:jt,new dt(jt,Ut,Jt,_.opacity)}function ut(_,It,Rt,xt){return arguments.length===1?et(_):new dt(_,It,Rt,xt==null?1:xt)}function dt(_,It,Rt,xt){this.h=+_,this.s=+It,this.l=+Rt,this.opacity=+xt}d(dt,ut,o(b,{brighter:function(It){return It=It==null?M:Math.pow(M,It),new dt(this.h,this.s,this.l*It,this.opacity)},darker:function(It){return It=It==null?x:Math.pow(x,It),new dt(this.h,this.s,this.l*It,this.opacity)},rgb:function(){var It=this.h%360+(this.h<0)*360,Rt=isNaN(It)||isNaN(this.s)?0:this.s,xt=this.l,Nt=xt+(xt<.5?xt:1-xt)*Rt,Ht=2*xt-Nt;return new st(vt(It>=240?It-240:It+120,Ht,Nt),vt(It,Ht,Nt),vt(It<120?It+240:It-120,Ht,Nt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var It=this.opacity;return It=isNaN(It)?1:Math.max(0,Math.min(1,It)),(It===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(It===1?")":", "+It+")")}}));function vt(_,It,Rt){return(_<60?It+(Rt-It)*_/60:_<180?Rt:_<240?It+(Rt-It)*(240-_)/60:It)*255}function at(_,It,Rt,xt,Nt){var Ht=_*_,jt=Ht*_;return((1-3*_+3*Ht-jt)*It+(4-6*Ht+3*jt)*Rt+(1+3*_+3*Ht-3*jt)*xt+jt*Nt)/6}var pt=function(_){var It=_.length-1;return function(Rt){var xt=Rt<=0?Rt=0:Rt>=1?(Rt=1,It-1):Math.floor(Rt*It),Nt=_[xt],Ht=_[xt+1],jt=xt>0?_[xt-1]:2*Nt-Ht,Ut=xt<It-1?_[xt+2]:2*Ht-Nt;return at((Rt-xt/It)*It,jt,Nt,Ht,Ut)}},Tt=function(_){var It=_.length;return function(Rt){var xt=Math.floor(((Rt%=1)<0?++Rt:Rt)*It),Nt=_[(xt+It-1)%It],Ht=_[xt%It],jt=_[(xt+1)%It],Ut=_[(xt+2)%It];return at((Rt-xt/It)*It,Nt,Ht,jt,Ut)}},Gt=function(_){return function(){return _}};function Kt(_,It){return function(Rt){return _+Rt*It}}function Xt(_,It,Rt){return _=Math.pow(_,Rt),It=Math.pow(It,Rt)-_,Rt=1/Rt,function(xt){return Math.pow(_+xt*It,Rt)}}function gt(_,It){var Rt=It-_;return Rt?Kt(_,Rt>180||Rt<-180?Rt-360*Math.round(Rt/360):Rt):Gt(isNaN(_)?It:_)}function lt(_){return(_=+_)==1?ft:function(It,Rt){return Rt-It?Xt(It,Rt,_):Gt(isNaN(It)?Rt:It)}}function ft(_,It){var Rt=It-_;return Rt?Kt(_,Rt):Gt(isNaN(_)?It:_)}var it=function _(It){var Rt=lt(It);function xt(Nt,Ht){var jt=Rt((Nt=nt(Nt)).r,(Ht=nt(Ht)).r),Ut=Rt(Nt.g,Ht.g),Jt=Rt(Nt.b,Ht.b),se=ft(Nt.opacity,Ht.opacity);return function(me){return Nt.r=jt(me),Nt.g=Ut(me),Nt.b=Jt(me),Nt.opacity=se(me),Nt+""}}return xt.gamma=_,xt}(1);function bt(_){return function(It){var Rt=It.length,xt=new Array(Rt),Nt=new Array(Rt),Ht=new Array(Rt),jt,Ut;for(jt=0;jt<Rt;++jt)Ut=nt(It[jt]),xt[jt]=Ut.r||0,Nt[jt]=Ut.g||0,Ht[jt]=Ut.b||0;return xt=_(xt),Nt=_(Nt),Ht=_(Ht),Ut.opacity=1,function(Jt){return Ut.r=xt(Jt),Ut.g=Nt(Jt),Ut.b=Ht(Jt),Ut+""}}}var Dt=bt(pt),Mt=bt(Tt),q=i("qh6B"),V=function(_,It){var Rt=new Date;return _=+_,It=+It,function(xt){return Rt.setTime(_*(1-xt)+It*xt),Rt}},ot=function(_,It){return _=+_,It=+It,function(Rt){return _*(1-Rt)+It*Rt}},tt=function(_,It){var Rt={},xt={},Nt;(_===null||typeof _!="object")&&(_={}),(It===null||typeof It!="object")&&(It={});for(Nt in It)Nt in _?Rt[Nt]=Ct(_[Nt],It[Nt]):xt[Nt]=It[Nt];return function(Ht){for(Nt in Rt)xt[Nt]=Rt[Nt](Ht);return xt}},yt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pt=new RegExp(yt.source,"g");function Ft(_){return function(){return _}}function Wt(_){return function(It){return _(It)+""}}var Vt=function(_,It){var Rt=yt.lastIndex=Pt.lastIndex=0,xt,Nt,Ht,jt=-1,Ut=[],Jt=[];for(_=_+"",It=It+"";(xt=yt.exec(_))&&(Nt=Pt.exec(It));)(Ht=Nt.index)>Rt&&(Ht=It.slice(Rt,Ht),Ut[jt]?Ut[jt]+=Ht:Ut[++jt]=Ht),(xt=xt[0])===(Nt=Nt[0])?Ut[jt]?Ut[jt]+=Nt:Ut[++jt]=Nt:(Ut[++jt]=null,Jt.push({i:jt,x:ot(xt,Nt)})),Rt=Pt.lastIndex;return Rt<It.length&&(Ht=It.slice(Rt),Ut[jt]?Ut[jt]+=Ht:Ut[++jt]=Ht),Ut.length<2?Jt[0]?Wt(Jt[0].x):Ft(It):(It=Jt.length,function(se){for(var me=0,Me;me<It;++me)Ut[(Me=Jt[me]).i]=Me.x(se);return Ut.join("")})},Lt=i("H6vk"),Ct=P.a=function(_,It){var Rt=typeof It,xt;return It==null||Rt==="boolean"?Gt(It):(Rt==="number"?ot:Rt==="string"?(xt=j(It))?(It=xt,it):Vt:It instanceof j?it:It instanceof Date?V:Object(Lt.b)(It)?Lt.a:Array.isArray(It)?q.b:typeof It.valueOf!="function"&&typeof It.toString!="function"||isNaN(It)?tt:ot)(_,It)}},yWrq:function(wt,P,i){var d=i("XSdR"),o=i("hppO");wt.exports=b;function b(D,C){var S=o.partition(D,function(G){return d.has(G,"barycenter")}),O=S.lhs,E=d.sortBy(S.rhs,function(G){return-G.i}),I=[],A=0,R=0,B=0;O.sort(M(!!C)),B=x(I,E,B),d.forEach(O,function(G){B+=G.vs.length,I.push(G.vs),A+=G.barycenter*G.weight,R+=G.weight,B=x(I,E,B)});var p={vs:d.flatten(I,!0)};return R&&(p.barycenter=A/R,p.weight=R),p}function x(D,C,S){for(var O;C.length&&(O=d.last(C)).i<=S;)C.pop(),D.push(O.vs),S++;return S}function M(D){return function(C,S){return C.barycenter<S.barycenter?-1:C.barycenter>S.barycenter?1:D?S.i-C.i:C.i-S.i}}},yjpz:function(wt,P,i){"use strict";i.d(P,"a",function(){return C});var d=i("J+IK"),o=i("m8xh"),b=i("jg4I"),x=i("jFyH"),M={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},D={default:M,hover:{thumbColor:"rgba(0,0,0,0.2)"}},C=function(S){Object(d.c)(O,S);function O(){var E=S!==null&&S.apply(this,arguments)||this;return E.clearEvents=b.db,E.onStartEvent=function(I){return function(A){E.isMobile=I,A.originalEvent.preventDefault();var R=I?Object(b.s)(A.originalEvent,"touches.0.clientX"):A.clientX,B=I?Object(b.s)(A.originalEvent,"touches.0.clientY"):A.clientY;E.startPos=E.cfg.isHorizontal?R:B,E.bindLaterEvent()}},E.bindLaterEvent=function(){var I=E.getContainerDOM(),A=[];E.isMobile?A=[Object(o.a)(I,"touchmove",E.onMouseMove),Object(o.a)(I,"touchend",E.onMouseUp),Object(o.a)(I,"touchcancel",E.onMouseUp)]:A=[Object(o.a)(I,"mousemove",E.onMouseMove),Object(o.a)(I,"mouseup",E.onMouseUp),Object(o.a)(I,"mouseleave",E.onMouseUp)],E.clearEvents=function(){A.forEach(function(R){R.remove()})}},E.onMouseMove=function(I){var A=E.cfg,R=A.isHorizontal,B=A.thumbOffset;I.preventDefault();var p=E.isMobile?Object(b.s)(I,"touches.0.clientX"):I.clientX,G=E.isMobile?Object(b.s)(I,"touches.0.clientY"):I.clientY,W=R?p:G,z=W-E.startPos;E.startPos=W,E.updateThumbOffset(B+z)},E.onMouseUp=function(I){I.preventDefault(),E.clearEvents()},E.onTrackClick=function(I){var A=E.cfg,R=A.isHorizontal,B=A.x,p=A.y,G=A.thumbLen,W=E.getContainerDOM(),z=W.getBoundingClientRect(),N=I.clientX,j=I.clientY,F=R?N-z.left-B-G/2:j-z.top-p-G/2,k=E.validateRange(F);E.updateThumbOffset(k)},E.onThumbMouseOver=function(){var I=E.cfg.theme.hover.thumbColor;E.getElementByLocalId("thumb").attr("stroke",I),E.draw()},E.onThumbMouseOut=function(){var I=E.cfg.theme.default.thumbColor;E.getElementByLocalId("thumb").attr("stroke",I),E.draw()},E}return O.prototype.setRange=function(E,I){this.set("minLimit",E),this.set("maxLimit",I);var A=this.getValue(),R=Object(b.c)(A,E,I);A!==R&&!this.get("isInit")&&this.setValue(R)},O.prototype.getRange=function(){var E=this.get("minLimit")||0,I=this.get("maxLimit")||1;return{min:E,max:I}},O.prototype.setValue=function(E){var I=this.getRange(),A=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(b.c)(E,I.min,I.max)}),this.delegateEmit("valuechange",{originalValue:A,value:this.getValue()})},O.prototype.getValue=function(){return Object(b.c)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},O.prototype.getDefaultCfg=function(){var E=S.prototype.getDefaultCfg.call(this);return Object(d.a)(Object(d.a)({},E),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:D})},O.prototype.renderInner=function(E){this.renderTrackShape(E),this.renderThumbShape(E)},O.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},O.prototype.initEvent=function(){this.bindEvents()},O.prototype.renderTrackShape=function(E){var I=this.cfg,A=I.trackLen,R=I.theme,B=R===void 0?{default:{}}:R,p=Object(b.h)({},D,B).default,G=p.lineCap,W=p.trackColor,z=p.size,N=Object(b.s)(this.cfg,"size",z),j=this.get("isHorizontal")?{x1:0+N/2,y1:N/2,x2:A-N/2,y2:N/2,lineWidth:N,stroke:W,lineCap:G}:{x1:N/2,y1:0+N/2,x2:N/2,y2:A-N/2,lineWidth:N,stroke:W,lineCap:G};return this.addShape(E,{id:this.getElementId("track"),name:"track",type:"line",attrs:j})},O.prototype.renderThumbShape=function(E){var I=this.cfg,A=I.thumbOffset,R=I.thumbLen,B=I.theme,p=Object(b.h)({},D,B).default,G=p.size,W=p.lineCap,z=p.thumbColor,N=Object(b.s)(this.cfg,"size",G),j=this.get("isHorizontal")?{x1:A+N/2,y1:N/2,x2:A+R-N/2,y2:N/2,lineWidth:N,stroke:z,lineCap:W,cursor:"default"}:{x1:N/2,y1:A+N/2,x2:N/2,y2:A+R-N/2,lineWidth:N,stroke:z,lineCap:W,cursor:"default"};return this.addShape(E,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:j})},O.prototype.bindEvents=function(){var E=this.get("group");E.on("mousedown",this.onStartEvent(!1)),E.on("mouseup",this.onMouseUp),E.on("touchstart",this.onStartEvent(!0)),E.on("touchend",this.onMouseUp);var I=E.findById(this.getElementId("track"));I.on("click",this.onTrackClick);var A=E.findById(this.getElementId("thumb"));A.on("mouseover",this.onThumbMouseOver),A.on("mouseout",this.onThumbMouseOut)},O.prototype.getContainerDOM=function(){var E=this.get("container"),I=E&&E.get("canvas");return I&&I.get("container")},O.prototype.validateRange=function(E){var I=this.cfg,A=I.thumbLen,R=I.trackLen,B=E;return E+A>R?B=R-A:E+A<A&&(B=0),B},O.prototype.draw=function(){var E=this.get("container"),I=E&&E.get("canvas");I&&I.draw()},O.prototype.updateThumbOffset=function(E){var I=this.cfg,A=I.thumbOffset,R=I.isHorizontal,B=I.thumbLen,p=I.size,G=this.validateRange(E);if(G!==A){var W=this.getElementByLocalId("thumb");R?W.attr({x1:G+p/2,x2:G+B-p/2}):W.attr({y1:G+p/2,y2:G+B-p/2}),this.emitOffsetChange(G)}},O.prototype.emitOffsetChange=function(E){var I=this.cfg,A=I.thumbOffset,R=I.trackLen,B=I.thumbLen;this.cfg.thumbOffset=E,this.emit("scrollchange",{thumbOffset:E,ratio:Object(b.c)(E/(R-B),0,1)}),this.delegateEmit("valuechange",{originalValue:A,value:E})},O}(x.a)},ylrI:function(wt,P){wt.exports=i;function i(d,o){o=o||1;var b=Math.random()*2*Math.PI;return d[0]=Math.cos(b)*o,d[1]=Math.sin(b)*o,d}},ytXd:function(wt,P,i){var d=i("VrSm"),o=i("LKUO"),b={};for(var x in d)d.hasOwnProperty(x)&&(b[d[x]]=x);var M=wt.exports={to:{},get:{}};M.get=function(S){var O=S.substring(0,3).toLowerCase(),E,I;switch(O){case"hsl":E=M.get.hsl(S),I="hsl";break;case"hwb":E=M.get.hwb(S),I="hwb";break;default:E=M.get.rgb(S),I="rgb";break}return E?{model:I,value:E}:null},M.get.rgb=function(S){if(!S)return null;var O=/^#([a-f0-9]{3,4})$/i,E=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,I=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,A=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,R=/(\D+)/,B=[0,0,0,1],p,G,W;if(p=S.match(E)){for(W=p[2],p=p[1],G=0;G<3;G++){var z=G*2;B[G]=parseInt(p.slice(z,z+2),16)}W&&(B[3]=parseInt(W,16)/255)}else if(p=S.match(O)){for(p=p[1],W=p[3],G=0;G<3;G++)B[G]=parseInt(p[G]+p[G],16);W&&(B[3]=parseInt(W+W,16)/255)}else if(p=S.match(I)){for(G=0;G<3;G++)B[G]=parseInt(p[G+1],0);p[4]&&(B[3]=parseFloat(p[4]))}else if(p=S.match(A)){for(G=0;G<3;G++)B[G]=Math.round(parseFloat(p[G+1])*2.55);p[4]&&(B[3]=parseFloat(p[4]))}else return(p=S.match(R))?p[1]==="transparent"?[0,0,0,0]:(B=d[p[1]],B?(B[3]=1,B):null):null;for(G=0;G<3;G++)B[G]=D(B[G],0,255);return B[3]=D(B[3],0,1),B},M.get.hsl=function(S){if(!S)return null;var O=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,E=S.match(O);if(E){var I=parseFloat(E[4]),A=(parseFloat(E[1])+360)%360,R=D(parseFloat(E[2]),0,100),B=D(parseFloat(E[3]),0,100),p=D(isNaN(I)?1:I,0,1);return[A,R,B,p]}return null},M.get.hwb=function(S){if(!S)return null;var O=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,E=S.match(O);if(E){var I=parseFloat(E[4]),A=(parseFloat(E[1])%360+360)%360,R=D(parseFloat(E[2]),0,100),B=D(parseFloat(E[3]),0,100),p=D(isNaN(I)?1:I,0,1);return[A,R,B,p]}return null},M.to.hex=function(){var S=o(arguments);return"#"+C(S[0])+C(S[1])+C(S[2])+(S[3]<1?C(Math.round(S[3]*255)):"")},M.to.rgb=function(){var S=o(arguments);return S.length<4||S[3]===1?"rgb("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+")":"rgba("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+", "+S[3]+")"},M.to.rgb.percent=function(){var S=o(arguments),O=Math.round(S[0]/255*100),E=Math.round(S[1]/255*100),I=Math.round(S[2]/255*100);return S.length<4||S[3]===1?"rgb("+O+"%, "+E+"%, "+I+"%)":"rgba("+O+"%, "+E+"%, "+I+"%, "+S[3]+")"},M.to.hsl=function(){var S=o(arguments);return S.length<4||S[3]===1?"hsl("+S[0]+", "+S[1]+"%, "+S[2]+"%)":"hsla("+S[0]+", "+S[1]+"%, "+S[2]+"%, "+S[3]+")"},M.to.hwb=function(){var S=o(arguments),O="";return S.length>=4&&S[3]!==1&&(O=", "+S[3]),"hwb("+S[0]+", "+S[1]+"%, "+S[2]+"%"+O+")"},M.to.keyword=function(S){return b[S.slice(0,3)]};function D(S,O,E){return Math.min(Math.max(O,S),E)}function C(S){var O=S.toString(16).toUpperCase();return O.length<2?"0"+O:O}},z8FW:function(wt,P,i){var d=i("xi+f"),o=i("xXdm"),b=i("hQ5t"),x=i("4hrr"),M=i("6FVg"),D=i("hQlM"),C=i("3qqr"),S=i("WeNx"),O=i("+Gi7");function E(I,A,R){A.length?A=d(A,function(G){return O(G)?function(W){return o(W,G.length===1?G[0]:G)}:G}):A=[S];var B=-1;A=d(A,D(b));var p=x(I,function(G,W,z){var N=d(A,function(j){return j(G)});return{criteria:N,index:++B,value:G}});return M(p,function(G,W){return C(G,W,R)})}wt.exports=E},zBxV:function(wt,P,i){"use strict";i.d(P,"a",function(){return nt});var d=i("J+IK"),o=i("Gc/9"),b=i("jg4I"),x=i("piQC"),M=i("AOO/"),D=i("Cw9K"),C="$$yField$$",S="$$diffField$$",O="$$absoluteField$$",E="$$isTotal$$",I={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{label:"\u603B\u8BA1",style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function A(st,rt,Q,Y,K){var et,ut=[];if(Object(b.fb)(st,function(vt,at){var pt;Object(D.o)(D.a.WARN,Object(b.K)(at[Q]),at[Q]+" is not a valid number");var Tt=Object(b.Q)(at[Q])?null:at[Q];return ut.push(Object(d.a)(Object(d.a)({},at),(pt={},pt[Y]=[vt,vt+Tt],pt))),vt+Tt},0),ut.length&&K){var dt=Object(b.s)(ut,[[st.length-1],Y,[1]]);ut.push((et={},et[rt]=K.label,et[Q]=dt,et[Y]=[0,dt],et))}return ut}function R(st,rt,Q,Y){var K=A(st,rt,Q,C,Y);return K.map(function(et,ut){var dt;return Object(b.M)(et)?Object(d.a)(Object(d.a)({},et),(dt={},dt[O]=et[C][1],dt[S]=et[C][1]-et[C][0],dt[E]=ut===st.length,dt)):et})}var B=i("18og");function p(st){for(var rt=[],Q=0;Q<st.length;Q++){var Y=st[Q];if(Y){var K=Q===0?"M":"L";rt.push([K,Y.x,Y.y])}}var et=st[0];return rt.push(["L",et.x,et.y]),rt.push(["z"]),rt}function G(st){return Object(D.b)({},st.defaultStyle,st.style,{fill:st.color})}Object(B.registerShape)("interval","waterfall",{draw:function(rt,Q){var Y=rt.customInfo,K=rt.points,et=rt.nextPoints,ut=Q.addGroup(),dt=this.parsePath(p(K)),vt=G(rt);ut.addShape("path",{attrs:Object(d.a)(Object(d.a)({},vt),{path:dt})});var at=Object(b.s)(Y,"leaderLine");if(at&&et){var pt=[["M",K[2].x,K[2].y],["L",et[0].x,et[0].y]];K[2].y===et[1].y&&(pt[1]=["L",et[1].x,et[1].y]),pt=this.parsePath(pt),ut.addShape("path",{attrs:Object(d.a)({path:pt},at.style||{})})}return ut}});function W(st){var rt=st.chart,Q=st.options,Y=Q.data,K=Q.xField,et=Q.yField,ut=Q.total,dt=Q.leaderLine,vt=Q.columnWidthRatio,at=Q.waterfallStyle,pt=Q.risingFill,Tt=Q.fallingFill,Gt=Q.color;rt.data(R(Y,K,et,ut));var Kt=Gt||function(ft){return Object(b.s)(ft,[E])?Object(b.s)(ut,["style","fill"],""):Object(b.s)(ft,[C,1])-Object(b.s)(ft,[C,0])>0?pt:Tt},Xt=Object(D.b)({},st,{options:{xField:K,yField:C,seriesField:K,rawFields:[et,S,E,C],widthRatio:vt,interval:{style:at,shape:"waterfall",color:Kt}}}),gt=Object(M.c)(Xt).ext,lt=gt.geometry;return lt.customInfo({leaderLine:dt}),st}function z(st){var rt,Q,Y=st.options,K=Y.xAxis,et=Y.yAxis,ut=Y.xField,dt=Y.yField,vt=Y.meta,at=Object(D.b)({},{alias:dt},Object(b.s)(vt,dt));return Object(D.e)(Object(x.f)((rt={},rt[ut]=K,rt[dt]=et,rt[C]=et,rt),Object(D.b)({},vt,(Q={},Q[C]=at,Q[S]=at,Q[O]=at,Q))))(st)}function N(st){var rt=st.chart,Q=st.options,Y=Q.xAxis,K=Q.yAxis,et=Q.xField,ut=Q.yField;return Y===!1?rt.axis(et,!1):rt.axis(et,Y),K===!1?(rt.axis(ut,!1),rt.axis(C,!1)):(rt.axis(ut,K),rt.axis(C,K)),st}function j(st){var rt=st.chart,Q=st.options,Y=Q.legend,K=Q.total,et=Q.risingFill,ut=Q.fallingFill;if(Y===!1)rt.legend(!1);else{var dt=[{name:"\u589E\u52A0",value:"increase",marker:{symbol:"square",style:{r:5,fill:et}}},{name:"\u51CF\u5C11",value:"decrease",marker:{symbol:"square",style:{r:5,fill:ut}}}];K&&dt.push({name:K.label||"",value:"total",marker:{symbol:"square",style:Object(D.b)({},{r:5},Object(b.s)(K,"style"))}}),rt.legend(Object(D.b)({},{custom:!0,position:"top",items:dt},Y)),rt.removeInteraction("legend-filter")}return st}function F(st){var rt=st.chart,Q=st.options,Y=Q.label,K=Q.labelMode,et=Q.xField,ut=Object(D.c)(rt,"interval");if(!Y)ut.label(!1);else{var dt=Y.callback,vt=Object(d.e)(Y,["callback"]);ut.label({fields:K==="absolute"?[O,et]:[S,et],callback:dt,cfg:Object(D.v)(vt)})}return st}function k(st){var rt=st.chart,Q=st.options,Y=Q.tooltip,K=Q.xField,et=Q.yField;if(Y!==!1){rt.tooltip(Object(d.a)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[et]},Y));var ut=rt.geometries[0];(Y==null?void 0:Y.formatter)?ut.tooltip(K+"*"+et,Y.formatter):ut.tooltip(et)}else rt.tooltip(!1);return st}function $(st){return Object(D.e)(W,z,N,j,k,F,x.i,x.j,x.c,x.a,Object(x.b)())(st)}var nt=function(st){Object(d.c)(rt,st);function rt(){var Q=st!==null&&st.apply(this,arguments)||this;return Q.type="waterfall",Q}return rt.getDefaultOptions=function(){return I},rt.prototype.changeData=function(Q){var Y=this.options,K=Y.xField,et=Y.yField,ut=Y.total;this.updateOption({data:Q}),this.chart.changeData(R(Q,K,et,ut))},rt.prototype.getSchemaAdaptor=function(){return $},rt.prototype.getDefaultOptions=function(){return rt.getDefaultOptions()},rt}(o.b)},zEOA:function(wt,P,i){wt.exports=i("ebDh")},zJ04:function(wt,P){wt.exports=i;function i(d,o){return d[0]=Math.ceil(o[0]),d[1]=Math.ceil(o[1]),d}},zN6Y:function(wt,P,i){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingOnSyntax=void 0;var d=i("ITfU"),o=function(){function b(x){this._binding=x}return b.prototype.onActivation=function(x){return this._binding.onActivation=x,new d.BindingWhenSyntax(this._binding)},b}();P.BindingOnSyntax=o},zPMQ:function(wt,P,i){var d=i("Hz7B"),o=d("length");wt.exports=o},zWOy:function(wt,P){},zui5:function(wt,P,i){"use strict";var d;(function(o){o.Normal="normal",o.PostProcessing="post-processing"})(d||(d={}))}}]);
