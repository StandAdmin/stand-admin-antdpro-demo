(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+/lo":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=a(i("g3RE"));function a(x){return x&&x.__esModule?x:{default:x}}var M=function(D,E){for(var S=(0,c.default)(D,E),p=[],b=S.length,y=0;y<b;y+=1){p[y]=[];for(var C=0;C<b;C+=1)y===C?p[y][C]=0:S[y][C]===0||!S[y][C]?p[y][C]=Infinity:p[y][C]=S[y][C]}for(var I=0;I<b;I+=1)for(var y=0;y<b;y+=1)for(var C=0;C<b;C+=1)p[y][C]>p[y][I]+p[I][C]&&(p[y][C]=p[y][I]+p[I][C]);return p},O=M;A.default=O},"+2Ae":function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=a[0]+M[0],c[1]=a[1]+M[1],c}},"+A0x":function(Lt,A,i){"use strict";var c=i("dNsf");Object(c.registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},"+D6J":function(Lt,A){function i(c){return c!==c}Lt.exports=i},"+FNX":function(Lt,A,i){var c=i("XSdR"),a=i("43gi").Graph;Lt.exports=M;function M(x,D,E){var S=O(x),p=new a({compound:!0}).setGraph({root:S}).setDefaultNodeLabel(function(b){return x.node(b)});return c.forEach(x.nodes(),function(b){var y=x.node(b),C=x.parent(b);(y.rank===D||y.minRank<=D&&D<=y.maxRank)&&(p.setNode(b),p.setParent(b,C||S),c.forEach(x[E](b),function(I){var g=I.v===b?I.w:I.v,R=p.edge(g,b),U=c.isUndefined(R)?0:R.weight;p.setEdge(g,b,{weight:x.edge(I).weight+U})}),c.has(y,"minRank")&&p.setNode(b,{borderLeft:y.borderLeft[D],borderRight:y.borderRight[D]}))}),p}function O(x){for(var D;x.hasNode(D=c.uniqueId("_root")););return D}},"+IRo":function(Lt,A,i){"use strict";i.d(A,"b",function(){return U}),i.d(A,"a",function(){return B});var c=i("CMID"),a=i("8Mtd"),M=i("s9g+"),O=i("mT8n"),x=i("Yz/u"),D=i("xPJu"),E=i("Jze/"),S=i("7AB2"),p=i("/T8T"),b=i("hQih");function y(L){var w=L.chart,F=L.options,V=F.data,Y=F.angleField,tt=F.colorField,q=F.color,H=F.pieStyle,Q=Object(E.t)(V,Y);if(Object(p.c)(Q,Y)){var k="$$percentage$$";Q=Q.map(function(nt){var lt;return Object(c.__assign)(Object(c.__assign)({},nt),(lt={},lt[k]=1/Q.length,lt))}),w.data(Q);var K=Object(E.c)({},L,{options:{xField:"1",yField:k,seriesField:tt,isStack:!0,interval:{color:q,style:H},args:{zIndexReversed:!0}}});Object(x.c)(K)}else{w.data(Q);var K=Object(E.c)({},L,{options:{xField:"1",yField:Y,seriesField:tt,isStack:!0,interval:{color:q,style:H},args:{zIndexReversed:!0}}});Object(x.c)(K)}return L}function C(L){var w,F=L.chart,V=L.options,Y=V.meta,tt=V.colorField,q=Object(E.c)({},Y);return F.scale(q,(w={},w[tt]={type:"cat"},w)),L}function I(L){var w=L.chart,F=L.options,V=F.radius,Y=F.innerRadius,tt=F.startAngle,q=F.endAngle;return w.coordinate({type:"theta",cfg:{radius:V,innerRadius:Y,startAngle:tt,endAngle:q}}),L}function g(L){var w=L.chart,F=L.options,V=F.label,Y=F.colorField,tt=F.angleField,q=w.geometries[0];if(!V)q.label(!1);else{var H=V.callback,Q=Object(c.__rest)(V,["callback"]),k=Object(E.y)(Q);if(k.content){var K=k.content;k.content=function(rt,ot,dt){var Mt=rt[Y],Nt=rt[tt],ht=w.getScaleByField(tt),yt=ht==null?void 0:ht.scale(Nt);return Object(a.isFunction)(K)?K(Object(c.__assign)(Object(c.__assign)({},rt),{percent:yt}),ot,dt):Object(a.isString)(K)?Object(E.w)(K,{value:Nt,name:Mt,percentage:Object(a.isNumber)(yt)&&!Object(a.isNil)(Nt)?(yt*100).toFixed(2)+"%":null}):K}}var nt={inner:"",outer:"pie-outer",spider:"pie-spider"},lt=k.type?nt[k.type]:"pie-outer",ut=k.layout?Object(a.isArray)(k.layout)?k.layout:[k.layout]:[];k.layout=(lt?[{type:lt}]:[]).concat(ut),q.label({fields:Y?[tt,Y]:[tt],callback:H,cfg:Object(c.__assign)(Object(c.__assign)({},k),{offset:Object(p.a)(k.type,k.offset),type:"pie"})})}return L}function R(L){var w=L.innerRadius,F=L.statistic,V=L.angleField,Y=L.colorField,tt=L.meta,q=L.locale,H=Object(D.a)(q);if(w&&F){var Q=Object(E.c)({},S.a.statistic,F),k=Q.title,K=Q.content;return k!==!1&&(k=Object(E.c)({},{formatter:function(nt){return nt?nt[Y]:Object(a.isNil)(k.content)?H.get(["statistic","total"]):k.content}},k)),K!==!1&&(K=Object(E.c)({},{formatter:function(nt,lt){var ut=nt?nt[V]:Object(p.b)(lt,V),rt=Object(a.get)(tt,[V,"formatter"])||function(ot){return ot};return nt||Object(a.isNil)(K.content)?rt(ut):K.content}},K)),Object(E.c)({},{statistic:{title:k,content:K}},L)}return L}function U(L){var w=L.chart,F=L.options,V=R(F),Y=V.innerRadius,tt=V.statistic;return w.getController("annotation").clear(!0),Object(E.f)(Object(M.b)())(L),Y&&tt&&Object(E.v)(w,{statistic:tt,plotType:"pie"}),L}function W(L){var w=L.chart,F=L.options,V=F.tooltip,Y=F.colorField,tt=F.angleField,q=F.data;if(V===!1)w.tooltip(V);else if(w.tooltip(Object(E.c)({},V,{shared:!1})),Object(p.c)(q,tt)){var H=Object(a.get)(V,"fields"),Q=Object(a.get)(V,"formatter");Object(a.isEmpty)(Object(a.get)(V,"fields"))&&(H=[Y,tt],Q=Q||function(k){return{name:k[Y],value:Object(a.toString)(k[tt])}}),w.geometries[0].tooltip(H.join("*"),Object(O.b)(H,Q))}return L}function z(L){var w=L.chart,F=L.options,V=R(F),Y=V.interactions,tt=V.statistic,q=V.annotations;return Object(a.each)(Y,function(H){var Q,k;if(H.enable===!1)w.removeInteraction(H.type);else if(H.type==="pie-statistic-active"){var K=[];((Q=H.cfg)===null||Q===void 0?void 0:Q.start)||(K=[{trigger:"element:mouseenter",action:b.a+":change",arg:{statistic:tt,annotations:q}}]),Object(a.each)((k=H.cfg)===null||k===void 0?void 0:k.start,function(nt){K.push(Object(c.__assign)(Object(c.__assign)({},nt),{arg:{statistic:tt,annotations:q}}))}),w.interaction(H.type,Object(E.c)({},H.cfg,{start:K}))}else w.interaction(H.type,H.cfg||{})}),L}function B(L){return Object(E.f)(y,C,M.j,I,M.d,W,g,M.i,U,z,M.a)(L)}},"+On4":function(Lt,A,i){"use strict";var c=i("CMID"),a=i("m8xh"),M=i("8Mtd"),O=i("8Loy"),x=i("iXVM"),D=function(E){Object(c.__extends)(S,E);function S(){return E!==null&&E.apply(this,arguments)||this}return S.prototype.getDefaultCfg=function(){var p=E.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},S.prototype.getContainer=function(){return this.get("container")},S.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},S.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},S.prototype.setCapture=function(p){var b=this.getContainer(),y=p?"auto":"none";b.style.pointerEvents=y,this.set("capture",p)},S.prototype.getBBox=function(){var p=this.getContainer(),b=parseFloat(p.style.left)||0,y=parseFloat(p.style.top)||0;return Object(O.b)(b,y,p.clientWidth,p.clientHeight)},S.prototype.clear=function(){var p=this.get("container");Object(O.a)(p)},S.prototype.destroy=function(){this.removeEvent(),this.removeDom(),E.prototype.destroy.call(this)},S.prototype.init=function(){E.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},S.prototype.initCapture=function(){this.setCapture(this.get("capture"))},S.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},S.prototype.initDom=function(){},S.prototype.initContainer=function(){var p=this.get("container");if(Object(M.isNil)(p)){p=this.createDom();var b=this.get("parent");Object(M.isString)(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(p),this.set("container",p)}else Object(M.isString)(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},S.prototype.resetStyles=function(){var p=this.get("domStyles"),b=this.get("defaultStyles");p?p=Object(M.deepMix)({},b,p):p=b,this.set("domStyles",p)},S.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var b=this.getContainer();this.applyChildrenStyles(b,p);var y=this.get("containerClassName");if(y&&Object(O.h)(b,y)){var C=p[y];Object(a.e)(b,C)}}},S.prototype.applyChildrenStyles=function(p,b){Object(M.each)(b,function(y,C){var I=p.getElementsByClassName(C);Object(M.each)(I,function(g){Object(a.e)(g,y)})})},S.prototype.applyStyle=function(p,b){var y=this.get("domStyles");Object(a.e)(b,y[p])},S.prototype.createDom=function(){var p=this.get("containerTpl");return Object(a.b)(p)},S.prototype.initEvent=function(){},S.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode&&p.parentNode.removeChild(p)},S.prototype.removeEvent=function(){},S.prototype.updateInner=function(p){Object(M.hasKey)(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},S.prototype.resetPosition=function(){},S}(x.a);A.a=D},"+WlW":function(Lt,A,i){Lt.exports={graphlib:i("43gi"),layout:i("GbYH"),debug:i("PoGV"),util:{time:i("hppO").time,notime:i("hppO").notime},version:i("tebh")}},"+jGG":function(Lt,A,i){"use strict";i.d(A,"a",function(){return kt});var c=i("BLox"),a=i("YcyD"),M=i("UHDP"),O=i.n(M),x=i("Hg9g"),D=i("RHEd"),E=i.n(D),S=i("16OP"),p=i.n(S),b=i("7Nom"),y=i.n(b),C=i("4OuL"),I=i.n(C),g=i("r1m7"),R=i("XN3X"),U=i("ZVT1"),W,z,B,L,w,F,V=(W=Object(a.injectable)(),z=Object(a.inject)(R.a.RenderEngine),W(B=(L=(F=function(){function Wt(){p()(this,Wt),E()(this,"engine",w,this),this.resourcePool={}}return y()(Wt,[{key:"getOrCreateResource",value:function(ct){if(!this.resourcePool[ct.name]){var jt=ct.descriptor,Xt=jt.width,It=jt.height,Ut=jt.usage;this.resourcePool[ct.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:Xt,height:It,wrapS:U.a.CLAMP_TO_EDGE,wrapT:U.a.CLAMP_TO_EDGE,usage:Ut})})}return this.resourcePool[ct.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),Wt}(),F),w=I()(L.prototype,"engine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L))||B),Y=i("BgQB"),tt=i("P7eI"),q=i("J/Yx"),H=i("PkPV"),Q=i("0os6"),k=i("//O1"),K=i("7stk"),nt=i("AKnH"),lt=i("RtY/"),ut=i("aStn"),rt=i("K4bE"),ot=i("to4S"),dt=i("CURf"),Mt=i("oOaK"),Nt=i.n(Mt),ht=i("vpv6"),yt=i.n(ht),ft=i("G5xY"),st=i.n(ft);function xt(Wt){var wt=gt();return function(){var jt=st()(Wt),Xt;if(wt){var It=st()(this).constructor;Xt=Reflect.construct(jt,arguments,It)}else Xt=jt.apply(this,arguments);return yt()(this,Xt)}}function gt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Wt){return!1}}var At=function(Wt){Nt()(ct,Wt);var wt=xt(ct);function ct(jt){var Xt;return p()(this,ct),Xt=wt.call(this,jt),Xt.name=void 0,Xt.name=jt.name||"",Xt}return ct}(x.a),pt=i("Vd04"),_=i("+q6o"),$=i("fo7X"),bt=i("8Vus"),it=i("bmBd"),Ot=new a.Container,Pt=O()(Ot,!1),Rt=function(wt){var ct=Pt.lazyInject(wt);return function(jt,Xt,It){ct.call(this,jt,Xt),It&&(It.initializer=function(){return jt[Xt]})}},Vt=function(wt){var ct=Pt.lazyMultiInject(wt);return function(jt,Xt,It){ct.call(this,jt,Xt),It&&(It.initializer=function(){return jt[Xt]})}};Ot.bind(R.a.ShaderModuleService).to(it.a).inSingletonScope(),Ot.bind(R.a.NameComponentManager).toConstantValue(new x.b(At)),Ot.bind(R.a.HierarchyComponentManager).toConstantValue(new x.b(dt.a)),Ot.bind(R.a.TransformComponentManager).toConstantValue(new x.b(_.a)),Ot.bind(R.a.MeshComponentManager).toConstantValue(new x.b(K.a)),Ot.bind(R.a.CullableComponentManager).toConstantValue(new x.b(k.a)),Ot.bind(R.a.GeometryComponentManager).toConstantValue(new x.b(tt.a)),Ot.bind(R.a.MaterialComponentManager).toConstantValue(new x.b(H.a));function kt(){var Wt=new a.Container;return Wt.parent=Ot,Wt.bind(R.a.Systems).to(pt.a).inSingletonScope().whenTargetNamed(R.a.SceneGraphSystem),Wt.bind(R.a.Systems).to(Y.a).inSingletonScope().whenTargetNamed(R.a.FrameGraphSystem),Wt.bind(R.a.Systems).to(nt.a).inSingletonScope().whenTargetNamed(R.a.MeshSystem),Wt.bind(R.a.Systems).to(q.a).inSingletonScope().whenTargetNamed(R.a.GeometrySystem),Wt.bind(R.a.Systems).to(Q.a).inSingletonScope().whenTargetNamed(R.a.MaterialSystem),Wt.bind(R.a.Systems).to(ot.a).inSingletonScope().whenTargetNamed(R.a.RendererSystem),Wt.bind(R.a.ResourcePool).to(V).inSingletonScope(),Wt.bind(R.a.ConfigService).to($.a).inSingletonScope(),Wt.bind(R.a.InteractorService).to(bt.a).inSingletonScope(),Wt.bind(R.a.RenderPass).to(rt.a).inSingletonScope().whenTargetNamed(rt.a.IDENTIFIER),Wt.bind(R.a.RenderPass).to(lt.a).inSingletonScope().whenTargetNamed(lt.a.IDENTIFIER),Wt.bind(R.a.RenderPass).to(ut.a).inSingletonScope().whenTargetNamed(ut.a.IDENTIFIER),Wt.bind(R.a.RenderPassFactory).toFactory(function(wt){return function(ct){return wt.container.getNamed(R.a.RenderPass,ct)}}),Wt}},"+o0w":function(Lt,A,i){var c=i("2PUN"),a=i("z8FW"),M=i("dhvM"),O=i("TdPr"),x=M(function(D,E){if(D==null)return[];var S=E.length;return S>1&&O(D,E[0],E[1])?E=[]:S>2&&O(E[0],E[1],E[2])&&(E=[E[0]]),a(D,c(E,1),[])});Lt.exports=x},"+q6o":function(Lt,A,i){"use strict";i.d(A,"a",function(){return W});var c=i("16OP"),a=i.n(c),M=i("7Nom"),O=i.n(M),x=i("cW+D"),D=i.n(x),E=i("oOaK"),S=i.n(E),p=i("vpv6"),b=i.n(p),y=i("G5xY"),C=i.n(y),I=i("99LQ"),g=i("Hg9g");function R(z){var B=U();return function(){var w=C()(z),F;if(B){var V=C()(this).constructor;F=Reflect.construct(w,arguments,V)}else F=w.apply(this,arguments);return b()(this,F)}}function U(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(z){return!1}}var W=function(z){S()(L,z);var B=R(L);function L(w){var F;return a()(this,L),F=B.call(this,w),F.dirtyFlag=void 0,F.localDirtyFlag=void 0,F.parent=null,F.localPosition=I.e.fromValues(0,0,0),F.localRotation=I.c.fromValues(0,0,0,1),F.localScale=I.e.fromValues(1,1,1),F.localTransform=I.b.create(),F.position=I.e.fromValues(0,0,0),F.rotation=I.c.fromValues(0,0,0,1),F.scaling=I.e.fromValues(1,1,1),F.worldTransform=I.b.create(),F.matrixTransform=function(){var V=I.b.create();return function(Y){I.b.multiply(V,F.getLocalTransform(),Y),I.b.getScaling(F.localScale,V),I.b.getTranslation(F.localPosition,V),I.b.getRotation(F.localRotation,V)}}(),F.rotateRollPitchYaw=function(){var V=I.c.create(),Y=I.c.create(),tt=I.c.create();return function(q,H,Q){F.setDirty(),I.c.fromEuler(V,q,0,0),I.c.fromEuler(Y,0,H,0),I.c.fromEuler(tt,0,0,Q),I.c.multiply(F.localRotation,V,F.localRotation),I.c.multiply(F.localRotation,F.localRotation,Y),I.c.multiply(F.localRotation,tt,F.localRotation),I.c.normalize(F.localRotation,F.localRotation)}}(),F.lerp=function(){var V=I.e.create(),Y=I.c.create(),tt=I.e.create(),q=I.e.create(),H=I.c.create(),Q=I.e.create();return function(k,K,nt){F.setDirty(),I.b.getScaling(V,k.worldTransform),I.b.getTranslation(tt,k.worldTransform),I.b.getRotation(Y,k.worldTransform),I.b.getScaling(q,K.worldTransform),I.b.getTranslation(Q,K.worldTransform),I.b.getRotation(H,K.worldTransform),I.e.lerp(F.localScale,V,q,nt),I.c.slerp(F.localRotation,Y,H,nt),I.e.lerp(F.localPosition,tt,Q,nt)}}(),F.translate=function(){var V=I.e.create();return function(Y){return I.e.add(V,F.getPosition(),Y),F.setPosition(V),F.setDirty(!0),D()(F)}}(),F.translateLocal=function(){return function(V){return I.e.transformQuat(V,V,F.localRotation),I.e.add(F.localPosition,F.localPosition,V),F.setLocalDirty(!0),D()(F)}}(),F.setPosition=function(){var V=I.b.create();return function(Y){return F.position=Y,F.setLocalDirty(!0),F.parent===null?I.e.copy(F.localPosition,Y):(I.b.copy(V,F.parent.worldTransform),I.b.invert(V,V),I.e.transformMat4(F.localPosition,Y,V)),D()(F)}}(),F.rotate=function(){var V=I.c.create();return function(Y){if(F.parent===null)I.c.multiply(F.localRotation,F.localRotation,Y),I.c.normalize(F.localRotation,F.localRotation);else{var tt=F.getRotation(),q=F.parent.getRotation();I.c.copy(V,q),I.c.invert(V,V),I.c.multiply(V,V,Y),I.c.multiply(F.localRotation,Y,tt),I.c.normalize(F.localRotation,F.localRotation)}return F.setLocalDirty(),D()(F)}}(),F.rotateLocal=function(){return function(V){return I.c.multiply(F.localRotation,F.localRotation,V),I.c.normalize(F.localRotation,F.localRotation),F.setLocalDirty(!0),D()(F)}}(),F.setRotation=function(){var V=I.c.create();return function(Y){return F.parent===null?I.c.copy(F.localRotation,Y):(I.c.copy(V,F.parent.getRotation()),I.c.invert(V,V),I.c.copy(F.localRotation,V),I.c.mul(F.localRotation,F.localRotation,Y)),F.setLocalDirty(!0),D()(F)}}(),F}return O()(L,[{key:"setLocalPosition",value:function(F){I.e.copy(this.localPosition,F),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(F){I.e.copy(this.localScale,F),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(F){return I.c.copy(this.localRotation,F),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;F?this.dirtyFlag|=L.DIRTY:this.dirtyFlag&=~L.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;F?(this.localDirtyFlag|=L.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~L.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(I.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(F){I.b.multiply(this.worldTransform,F.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),I.b.getScaling(this.localScale,this.worldTransform),I.b.getTranslation(this.localPosition,this.worldTransform),I.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=I.e.fromValues(0,0,0),this.localRotation=I.c.fromValues(0,0,0,1),this.localScale=I.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(F){return this.setLocalDirty(),I.e.multiply(this.localScale,this.localScale,F),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(I.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return I.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return I.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return I.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),L}(g.a);W.DIRTY=1<<0},"//O1":function(Lt,A,i){"use strict";i.d(A,"a",function(){return R});var c=i("16OP"),a=i.n(c),M=i("cW+D"),O=i.n(M),x=i("oOaK"),D=i.n(x),E=i("vpv6"),S=i.n(E),p=i("G5xY"),b=i.n(p),y=i("Hg9g");function C(U){var W=I();return function(){var B=b()(U),L;if(W){var w=b()(this).constructor;L=Reflect.construct(B,arguments,w)}else L=B.apply(this,arguments);return S()(this,L)}}function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(U){return!1}}var g;(function(U){U[U.Standard=0]="Standard"})(g||(g={}));var R=function(U){D()(z,U);var W=C(z);function z(B){var L;return a()(this,z),L=W.call(this,B),L.strategy=g.Standard,L.visibilityPlaneMask=0,L.visible=!1,Object.assign(O()(L),B),L}return z}(y.a)},"/DyB":function(Lt,A,i){var c=i("dhvM"),a=i("TdPr");function M(O){return c(function(x,D){var E=-1,S=D.length,p=S>1?D[S-1]:void 0,b=S>2?D[2]:void 0;for(p=O.length>3&&typeof p=="function"?(S--,p):void 0,b&&a(D[0],D[1],b)&&(p=S<3?void 0:p,S=1),x=Object(x);++E<S;){var y=D[E];y&&O(x,y,E,p)}return x})}Lt.exports=M},"/SLs":function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=i("s9g+"),a=i("Jze/"),M=i("Yz/u"),O=i("LpBT"),x=i("pIri"),D=i("dipd");i.d(A,"b",function(){return D.b});function E(p){var b=p.chart,y=p.options,C=y.data,I=y.color,g=y.columnStyle,R=y.columnWidthRatio,U=Object(x.a)(C);b.data(U);var W=Object(a.c)({},p,{options:{xField:O.c,yField:O.d,widthRatio:R,interval:{style:g,color:I}}});return Object(M.c)(W),b.axis(!1),b.legend(!1),b.interaction("element-active"),p}function S(p){return Object(a.f)(E,D.b,c.k,c.j,c.a,Object(c.b)())(p)}},"/T8T":function(Lt,A,i){"use strict";i.d(A,"b",function(){return M}),i.d(A,"a",function(){return O}),i.d(A,"c",function(){return x});var c=i("8Mtd"),a=i("Jze/");function M(D,E){var S=null;return Object(c.each)(D,function(p){typeof p[E]=="number"&&(S+=p[E])}),S}function O(D,E){var S;switch(D){case"inner":return S="-30%",Object(c.isString)(E)&&E.endsWith("%")?parseFloat(E)*.01>0?S:E:E<0?E:S;case"outer":return S=12,Object(c.isString)(E)&&E.endsWith("%")?parseFloat(E)*.01<0?S:E:E>0?E:S;default:return E}}function x(D,E){return Object(c.every)(Object(a.t)(D,E),function(S){return S[E]===0})}},"/WN3":function(Lt,A,i){"use strict";i.d(A,"b",function(){return a}),i.d(A,"a",function(){return M});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c=function(q,H){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,k){Q.__proto__=k}||function(Q,k){for(var K in k)k.hasOwnProperty(K)&&(Q[K]=k[K])},c(q,H)};function a(tt,q){c(tt,q);function H(){this.constructor=tt}tt.prototype=q===null?Object.create(q):(H.prototype=q.prototype,new H)}var M=function(){return M=Object.assign||function(H){for(var Q,k=1,K=arguments.length;k<K;k++){Q=arguments[k];for(var nt in Q)Object.prototype.hasOwnProperty.call(Q,nt)&&(H[nt]=Q[nt])}return H},M.apply(this,arguments)};function O(tt,q){var H={};for(var Q in tt)Object.prototype.hasOwnProperty.call(tt,Q)&&q.indexOf(Q)<0&&(H[Q]=tt[Q]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,Q=Object.getOwnPropertySymbols(tt);k<Q.length;k++)q.indexOf(Q[k])<0&&Object.prototype.propertyIsEnumerable.call(tt,Q[k])&&(H[Q[k]]=tt[Q[k]]);return H}function x(tt,q,H,Q){var k=arguments.length,K=k<3?q:Q===null?Q=Object.getOwnPropertyDescriptor(q,H):Q,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(tt,q,H,Q);else for(var lt=tt.length-1;lt>=0;lt--)(nt=tt[lt])&&(K=(k<3?nt(K):k>3?nt(q,H,K):nt(q,H))||K);return k>3&&K&&Object.defineProperty(q,H,K),K}function D(tt,q){return function(H,Q){q(H,Q,tt)}}function E(tt,q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tt,q)}function S(tt,q,H,Q){function k(K){return K instanceof H?K:new H(function(nt){nt(K)})}return new(H||(H=Promise))(function(K,nt){function lt(ot){try{rt(Q.next(ot))}catch(dt){nt(dt)}}function ut(ot){try{rt(Q.throw(ot))}catch(dt){nt(dt)}}function rt(ot){ot.done?K(ot.value):k(ot.value).then(lt,ut)}rt((Q=Q.apply(tt,q||[])).next())})}function p(tt,q){var H={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},Q,k,K,nt;return nt={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(nt[Symbol.iterator]=function(){return this}),nt;function lt(rt){return function(ot){return ut([rt,ot])}}function ut(rt){if(Q)throw new TypeError("Generator is already executing.");for(;H;)try{if(Q=1,k&&(K=rt[0]&2?k.return:rt[0]?k.throw||((K=k.return)&&K.call(k),0):k.next)&&!(K=K.call(k,rt[1])).done)return K;switch(k=0,K&&(rt=[rt[0]&2,K.value]),rt[0]){case 0:case 1:K=rt;break;case 4:return H.label++,{value:rt[1],done:!1};case 5:H.label++,k=rt[1],rt=[0];continue;case 7:rt=H.ops.pop(),H.trys.pop();continue;default:if(K=H.trys,!(K=K.length>0&&K[K.length-1])&&(rt[0]===6||rt[0]===2)){H=0;continue}if(rt[0]===3&&(!K||rt[1]>K[0]&&rt[1]<K[3])){H.label=rt[1];break}if(rt[0]===6&&H.label<K[1]){H.label=K[1],K=rt;break}if(K&&H.label<K[2]){H.label=K[2],H.ops.push(rt);break}K[2]&&H.ops.pop(),H.trys.pop();continue}rt=q.call(tt,H)}catch(ot){rt=[6,ot],k=0}finally{Q=K=0}if(rt[0]&5)throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}}function b(tt,q,H,Q){Q===void 0&&(Q=H),tt[Q]=q[H]}function y(tt,q){for(var H in tt)H!=="default"&&!q.hasOwnProperty(H)&&(q[H]=tt[H])}function C(tt){var q=typeof Symbol=="function"&&Symbol.iterator,H=q&&tt[q],Q=0;if(H)return H.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&Q>=tt.length&&(tt=void 0),{value:tt&&tt[Q++],done:!tt}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(tt,q){var H=typeof Symbol=="function"&&tt[Symbol.iterator];if(!H)return tt;var Q=H.call(tt),k,K=[],nt;try{for(;(q===void 0||q-- >0)&&!(k=Q.next()).done;)K.push(k.value)}catch(lt){nt={error:lt}}finally{try{k&&!k.done&&(H=Q.return)&&H.call(Q)}finally{if(nt)throw nt.error}}return K}function g(){for(var tt=[],q=0;q<arguments.length;q++)tt=tt.concat(I(arguments[q]));return tt}function R(){for(var tt=0,q=0,H=arguments.length;q<H;q++)tt+=arguments[q].length;for(var Q=Array(tt),k=0,q=0;q<H;q++)for(var K=arguments[q],nt=0,lt=K.length;nt<lt;nt++,k++)Q[k]=K[nt];return Q}function U(tt){return this instanceof U?(this.v=tt,this):new U(tt)}function W(tt,q,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=H.apply(tt,q||[]),k,K=[];return k={},nt("next"),nt("throw"),nt("return"),k[Symbol.asyncIterator]=function(){return this},k;function nt(Mt){Q[Mt]&&(k[Mt]=function(Nt){return new Promise(function(ht,yt){K.push([Mt,Nt,ht,yt])>1||lt(Mt,Nt)})})}function lt(Mt,Nt){try{ut(Q[Mt](Nt))}catch(ht){dt(K[0][3],ht)}}function ut(Mt){Mt.value instanceof U?Promise.resolve(Mt.value.v).then(rt,ot):dt(K[0][2],Mt)}function rt(Mt){lt("next",Mt)}function ot(Mt){lt("throw",Mt)}function dt(Mt,Nt){Mt(Nt),K.shift(),K.length&&lt(K[0][0],K[0][1])}}function z(tt){var q,H;return q={},Q("next"),Q("throw",function(k){throw k}),Q("return"),q[Symbol.iterator]=function(){return this},q;function Q(k,K){q[k]=tt[k]?function(nt){return(H=!H)?{value:U(tt[k](nt)),done:k==="return"}:K?K(nt):nt}:K}}function B(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=tt[Symbol.asyncIterator],H;return q?q.call(tt):(tt=typeof C=="function"?C(tt):tt[Symbol.iterator](),H={},Q("next"),Q("throw"),Q("return"),H[Symbol.asyncIterator]=function(){return this},H);function Q(K){H[K]=tt[K]&&function(nt){return new Promise(function(lt,ut){nt=tt[K](nt),k(lt,ut,nt.done,nt.value)})}}function k(K,nt,lt,ut){Promise.resolve(ut).then(function(rt){K({value:rt,done:lt})},nt)}}function L(tt,q){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:q}):tt.raw=q,tt}function w(tt){if(tt&&tt.__esModule)return tt;var q={};if(tt!=null)for(var H in tt)Object.hasOwnProperty.call(tt,H)&&(q[H]=tt[H]);return q.default=tt,q}function F(tt){return tt&&tt.__esModule?tt:{default:tt}}function V(tt,q){if(!q.has(tt))throw new TypeError("attempted to get private field on non-instance");return q.get(tt)}function Y(tt,q,H){if(!q.has(tt))throw new TypeError("attempted to set private field on non-instance");return q.set(tt,H),H}},"/XgH":function(Lt,A,i){Lt.exports=i("EpgB")},"/Ykl":function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=a[0]/M[0],c[1]=a[1]/M[1],c}},"/dUy":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MetadataReader=void 0;var c=i("9L8m"),a=function(){function M(){}return M.prototype.getConstructorMetadata=function(O){var x=Reflect.getMetadata(c.PARAM_TYPES,O),D=Reflect.getMetadata(c.TAGGED,O);return{compilerGeneratedMetadata:x,userGeneratedMetadata:D||{}}},M.prototype.getPropertiesMetadata=function(O){var x=Reflect.getMetadata(c.TAGGED_PROP,O)||[];return x},M}();A.MetadataReader=a},"/pXD":function(Lt,A){},"08EK":function(Lt,A,i){"use strict";i.d(A,"j",function(){return a}),i.d(A,"c",function(){return M}),i.d(A,"g",function(){return O}),i.d(A,"b",function(){return x});var c=i("8Mtd");i.d(A,"e",function(){return c.isNil}),i.d(A,"d",function(){return c.isFunction}),i.d(A,"h",function(){return c.isString}),i.d(A,"f",function(){return c.isObject}),i.d(A,"i",function(){return c.mix}),i.d(A,"a",function(){return c.each}),i.d(A,"k",function(){return c.upperFirst});function a(D,E){var S=D.indexOf(E);S!==-1&&D.splice(S,1)}var M=typeof window!="undefined"&&typeof window.document!="undefined";function O(D,E){if(D.isCanvas())return!0;for(var S=E.getParent(),p=!1;S;){if(S===D){p=!0;break}S=S.getParent()}return p}function x(D){return D.cfg.visible&&D.cfg.capture}},"09fY":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.typeConstraint=A.namedConstraint=A.taggedConstraint=A.traverseAncerstors=void 0;var c=i("9L8m"),a=i("rMkn"),M=function(E,S){var p=E.parentRequest;return p!==null?S(p)?!0:M(p,S):!1};A.traverseAncerstors=M;var O=function(E){return function(S){var p=function(b){return b!==null&&b.target!==null&&b.target.matchesTag(E)(S)};return p.metaData=new a.Metadata(E,S),p}};A.taggedConstraint=O;var x=O(c.NAMED_TAG);A.namedConstraint=x;var D=function(E){return function(S){var p=null;if(S!==null)if(p=S.bindings[0],typeof E=="string"){var b=p.serviceIdentifier;return b===E}else{var y=S.bindings[0].implementationType;return E===y}return!1}};A.typeConstraint=D},"0D+0":function(Lt,A,i){"use strict";i.d(A,"a",function(){return g});var c=i("CMID"),a=i("GgvZ"),M=i("s9g+"),O=i("Jze/"),x=i("Yz/u");function D(R,U,W){var z=W.map(function(w){return w[U]}).filter(function(w){return w!==void 0}),B=z.length>0?Math.max.apply(Math,z):0,L=Math.abs(R)%360;return L?B*360/L:B}function E(R){var U=R.chart,W=R.options,z=W.barStyle,B=W.color,L=W.tooltip,w=W.colorField,F=W.type,V=W.xField,Y=W.yField,tt=W.data,q=Object(O.t)(tt,Y);U.data(q);var H=Object(O.c)({},R,{options:{tooltip:L,seriesField:w,interval:{style:z,color:B,shape:F==="line"?"line":"intervel"},minColumnWidth:W.minBarWidth,maxColumnWidth:W.maxBarWidth,columnBackground:W.barBackground}});return Object(x.c)(H),F==="line"&&Object(x.e)({chart:U,options:{xField:V,yField:Y,seriesField:w,point:{shape:"circle",color:B}}}),R}function S(R){var U,W=R.options,z=W.yField,B=W.maxAngle,L=W.data,w=Object(O.t)(L,z);return Object(O.f)(Object(M.f)((U={},U[z]={min:0,max:D(B,z,w)},U)))(R)}function p(R){var U=R.chart,W=R.options,z=W.radius,B=W.innerRadius,L=W.startAngle,w=W.endAngle;return U.coordinate({type:"polar",cfg:{radius:z,innerRadius:B,startAngle:L,endAngle:w}}).transpose(),R}function b(R){var U=R.chart,W=R.options,z=W.xField,B=W.xAxis;return U.axis(z,B),R}function y(R){var U=R.chart,W=R.options,z=W.label,B=W.yField,L=Object(O.d)(U,"interval");if(!z)L.label(!1);else{var w=z.callback,F=Object(c.__rest)(z,["callback"]);L.label({fields:[B],callback:w,cfg:Object(c.__assign)(Object(c.__assign)({},Object(O.y)(F)),{type:"polar"})})}return R}function C(R){return Object(O.f)(E,S,b,p,M.c,M.a,M.j,M.k,M.d,Object(M.b)(),y)(R)}var I=Object(O.c)({},a.b.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),g=function(R){Object(c.__extends)(U,R);function U(){var W=R!==null&&R.apply(this,arguments)||this;return W.type="radial-bar",W}return U.getDefaultOptions=function(){return I},U.prototype.changeData=function(W){this.updateOption({data:W}),S({chart:this.chart,options:this.options}),this.chart.changeData(W)},U.prototype.getDefaultOptions=function(){return U.getDefaultOptions()},U.prototype.getSchemaAdaptor=function(){return C},U}(a.b)},"0aAk":function(Lt,A,i){var c=i("ql+n"),a=i("K0S0"),M=i("mbOf");Lt.exports=O;function O(x,D){var E=new a,S={},p=new M,b;function y(I){var g=I.v===b?I.w:I.v,R=p.priority(g);if(R!==void 0){var U=D(I);U<R&&(S[g]=b,p.decrease(g,U))}}if(x.nodeCount()===0)return E;c.each(x.nodes(),function(I){p.add(I,Number.POSITIVE_INFINITY),E.setNode(I)}),p.decrease(x.nodes()[0],0);for(var C=!1;p.size()>0;){if(b=p.removeMin(),c.has(S,b))E.setEdge(b,S[b]);else{if(C)throw new Error("Input graph is not connected: "+x);C=!0}x.nodeEdges(b).forEach(y)}return E}},"0mwY":function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=a,c[1]=M,c}},"0os6":function(Lt,A,i){"use strict";i.d(A,"a",function(){return ut});var c=i("QJLF"),a=i.n(c),M=i("/wRx"),O=i.n(M),x=i("qaCK"),D=i.n(x),E=i("RHEd"),S=i.n(E),p=i("16OP"),b=i.n(p),y=i("7Nom"),C=i.n(y),I=i("4OuL"),g=i.n(I),R=i("r1m7"),U=i.n(R),W=i("YcyD"),z=i.n(W),B=i("2Pg9"),L=i("XN3X"),w,F,V,Y,tt,q,H,Q,k,K;function nt(rt,ot){var dt=Object.keys(rt);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(rt);ot&&(Mt=Mt.filter(function(Nt){return Object.getOwnPropertyDescriptor(rt,Nt).enumerable})),dt.push.apply(dt,Mt)}return dt}function lt(rt){for(var ot=1;ot<arguments.length;ot++){var dt=arguments[ot]!=null?arguments[ot]:{};ot%2?nt(Object(dt),!0).forEach(function(Mt){a()(rt,Mt,dt[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(dt)):nt(Object(dt)).forEach(function(Mt){Object.defineProperty(rt,Mt,Object.getOwnPropertyDescriptor(dt,Mt))})}return rt}var ut=(w=Object(W.injectable)(),F=Object(W.inject)(L.a.MaterialComponentManager),V=Object(W.inject)(L.a.RenderEngine),Y=Object(W.inject)(L.a.ShaderModuleService),w(tt=(q=(K=function(){function rt(){b()(this,rt),S()(this,"material",H,this),S()(this,"engine",Q,this),S()(this,"shaderModule",k,this)}return C()(rt,[{key:"execute",value:function(){var ot=D()(O.a.mark(function Mt(){return O.a.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:case"end":return ht.stop()}},Mt)}));function dt(){return ot.apply(this,arguments)}return dt}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(dt){var Mt=Object(B.createEntity)(),Nt=dt.vertexShader,ht=dt.fragmentShader,yt=[];if(!this.engine.supportWebGPU){var ft="material-".concat(Mt);this.shaderModule.registerModule(ft,{vs:dt.vertexShader,fs:dt.fragmentShader});var st=this.shaderModule.getModule(ft);Nt=st.vs,ht=st.fs,st.uniforms&&(yt=Object.keys(st.uniforms).map(function(xt){return{dirty:!0,name:xt,data:st.uniforms[xt]}}))}return this.material.create(Mt,lt(lt({vertexShaderGLSL:Nt,fragmentShaderGLSL:ht},dt),{},{uniforms:yt}))}}]),rt}(),K),H=g()(q.prototype,"material",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=g()(q.prototype,"engine",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=g()(q.prototype,"shaderModule",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q))||tt)},"0xlF":function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"b",function(){return a});var c={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},a={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},M=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},"13cj":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ContainerSnapshot=void 0;var c=function(){function a(){}return a.of=function(M,O){var x=new a;return x.bindings=M,x.middleware=O,x},a}();A.ContainerSnapshot=c},"16OP":function(Lt,A){function i(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}Lt.exports=i,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},"196R":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.STACK_OVERFLOW=A.CIRCULAR_DEPENDENCY_IN_FACTORY=A.POST_CONSTRUCT_ERROR=A.MULTIPLE_POST_CONSTRUCT_METHODS=A.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=A.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=A.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=A.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=A.ARGUMENTS_LENGTH_MISMATCH=A.INVALID_DECORATOR_OPERATION=A.INVALID_TO_SELF_VALUE=A.INVALID_FUNCTION_BINDING=A.INVALID_MIDDLEWARE_RETURN=A.NO_MORE_SNAPSHOTS_AVAILABLE=A.INVALID_BINDING_TYPE=A.NOT_IMPLEMENTED=A.CIRCULAR_DEPENDENCY=A.UNDEFINED_INJECT_ANNOTATION=A.MISSING_INJECT_ANNOTATION=A.MISSING_INJECTABLE_ANNOTATION=A.NOT_REGISTERED=A.CANNOT_UNBIND=A.AMBIGUOUS_MATCH=A.KEY_NOT_FOUND=A.NULL_ARGUMENT=A.DUPLICATED_METADATA=A.DUPLICATED_INJECTABLE_DECORATOR=void 0,A.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",A.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",A.NULL_ARGUMENT="NULL argument",A.KEY_NOT_FOUND="Key Not Found",A.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",A.CANNOT_UNBIND="Could not unbind serviceIdentifier:",A.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",A.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",A.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var c=function(x){return"@inject called with undefined this could mean that the class "+x+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};A.UNDEFINED_INJECT_ANNOTATION=c,A.CIRCULAR_DEPENDENCY="Circular dependency found:",A.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",A.INVALID_BINDING_TYPE="Invalid binding type:",A.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",A.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",A.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",A.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",A.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var a=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return"The number of constructor arguments in the derived class "+(x[0]+" must be >= than the number of constructor arguments of its base class.")};A.ARGUMENTS_LENGTH_MISMATCH=a,A.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",A.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",A.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",A.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",A.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var M=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return"@postConstruct error in class "+x[0]+": "+x[1]};A.POST_CONSTRUCT_ERROR=M;var O=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return"It looks like there is a circular dependency "+("in one of the '"+x[0]+"' bindings. Please investigate bindings with")+("service identifier '"+x[1]+"'.")};A.CIRCULAR_DEPENDENCY_IN_FACTORY=O,A.STACK_OVERFLOW="Maximum call stack size exceeded"},"1ImO":function(Lt,A,i){var c=i("SOgk");function a(M,O){var x=[];return c(M,function(D,E,S){O(D,E,S)&&x.push(D)}),x}Lt.exports=a},"1RCG":function(Lt,A){Lt.exports="2.1.8"},"1ZgE":function(Lt,A){},"1ban":function(Lt,A,i){var c=i("kDK3"),a={};for(var M in c)c.hasOwnProperty(M)&&(a[c[M]]=M);var O=Lt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var x in O)if(O.hasOwnProperty(x)){if(!("channels"in O[x]))throw new Error("missing channels property: "+x);if(!("labels"in O[x]))throw new Error("missing channel labels property: "+x);if(O[x].labels.length!==O[x].channels)throw new Error("channel and label counts mismatch: "+x);var D=O[x].channels,E=O[x].labels;delete O[x].channels,delete O[x].labels,Object.defineProperty(O[x],"channels",{value:D}),Object.defineProperty(O[x],"labels",{value:E})}O.rgb.hsl=function(p){var b=p[0]/255,y=p[1]/255,C=p[2]/255,I=Math.min(b,y,C),g=Math.max(b,y,C),R=g-I,U,W,z;return g===I?U=0:b===g?U=(y-C)/R:y===g?U=2+(C-b)/R:C===g&&(U=4+(b-y)/R),U=Math.min(U*60,360),U<0&&(U+=360),z=(I+g)/2,g===I?W=0:z<=.5?W=R/(g+I):W=R/(2-g-I),[U,W*100,z*100]},O.rgb.hsv=function(p){var b,y,C,I,g,R=p[0]/255,U=p[1]/255,W=p[2]/255,z=Math.max(R,U,W),B=z-Math.min(R,U,W),L=function(w){return(z-w)/6/B+1/2};return B===0?I=g=0:(g=B/z,b=L(R),y=L(U),C=L(W),R===z?I=C-y:U===z?I=1/3+b-C:W===z&&(I=2/3+y-b),I<0?I+=1:I>1&&(I-=1)),[I*360,g*100,z*100]},O.rgb.hwb=function(p){var b=p[0],y=p[1],C=p[2],I=O.rgb.hsl(p)[0],g=1/255*Math.min(b,Math.min(y,C));return C=1-1/255*Math.max(b,Math.max(y,C)),[I,g*100,C*100]},O.rgb.cmyk=function(p){var b=p[0]/255,y=p[1]/255,C=p[2]/255,I,g,R,U;return U=Math.min(1-b,1-y,1-C),I=(1-b-U)/(1-U)||0,g=(1-y-U)/(1-U)||0,R=(1-C-U)/(1-U)||0,[I*100,g*100,R*100,U*100]};function S(p,b){return Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2)+Math.pow(p[2]-b[2],2)}O.rgb.keyword=function(p){var b=a[p];if(b)return b;var y=Infinity,C;for(var I in c)if(c.hasOwnProperty(I)){var g=c[I],R=S(p,g);R<y&&(y=R,C=I)}return C},O.keyword.rgb=function(p){return c[p]},O.rgb.xyz=function(p){var b=p[0]/255,y=p[1]/255,C=p[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,C=C>.04045?Math.pow((C+.055)/1.055,2.4):C/12.92;var I=b*.4124+y*.3576+C*.1805,g=b*.2126+y*.7152+C*.0722,R=b*.0193+y*.1192+C*.9505;return[I*100,g*100,R*100]},O.rgb.lab=function(p){var b=O.rgb.xyz(p),y=b[0],C=b[1],I=b[2],g,R,U;return y/=95.047,C/=100,I/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,I=I>.008856?Math.pow(I,1/3):7.787*I+16/116,g=116*C-16,R=500*(y-C),U=200*(C-I),[g,R,U]},O.hsl.rgb=function(p){var b=p[0]/360,y=p[1]/100,C=p[2]/100,I,g,R,U,W;if(y===0)return W=C*255,[W,W,W];C<.5?g=C*(1+y):g=C+y-C*y,I=2*C-g,U=[0,0,0];for(var z=0;z<3;z++)R=b+1/3*-(z-1),R<0&&R++,R>1&&R--,6*R<1?W=I+(g-I)*6*R:2*R<1?W=g:3*R<2?W=I+(g-I)*(2/3-R)*6:W=I,U[z]=W*255;return U},O.hsl.hsv=function(p){var b=p[0],y=p[1]/100,C=p[2]/100,I=y,g=Math.max(C,.01),R,U;return C*=2,y*=C<=1?C:2-C,I*=g<=1?g:2-g,U=(C+y)/2,R=C===0?2*I/(g+I):2*y/(C+y),[b,R*100,U*100]},O.hsv.rgb=function(p){var b=p[0]/60,y=p[1]/100,C=p[2]/100,I=Math.floor(b)%6,g=b-Math.floor(b),R=255*C*(1-y),U=255*C*(1-y*g),W=255*C*(1-y*(1-g));switch(C*=255,I){case 0:return[C,W,R];case 1:return[U,C,R];case 2:return[R,C,W];case 3:return[R,U,C];case 4:return[W,R,C];case 5:return[C,R,U]}},O.hsv.hsl=function(p){var b=p[0],y=p[1]/100,C=p[2]/100,I=Math.max(C,.01),g,R,U;return U=(2-y)*C,g=(2-y)*I,R=y*I,R/=g<=1?g:2-g,R=R||0,U/=2,[b,R*100,U*100]},O.hwb.rgb=function(p){var b=p[0]/360,y=p[1]/100,C=p[2]/100,I=y+C,g,R,U,W;I>1&&(y/=I,C/=I),g=Math.floor(6*b),R=1-C,U=6*b-g,(g&1)!=0&&(U=1-U),W=y+U*(R-y);var z,B,L;switch(g){default:case 6:case 0:z=R,B=W,L=y;break;case 1:z=W,B=R,L=y;break;case 2:z=y,B=R,L=W;break;case 3:z=y,B=W,L=R;break;case 4:z=W,B=y,L=R;break;case 5:z=R,B=y,L=W;break}return[z*255,B*255,L*255]},O.cmyk.rgb=function(p){var b=p[0]/100,y=p[1]/100,C=p[2]/100,I=p[3]/100,g,R,U;return g=1-Math.min(1,b*(1-I)+I),R=1-Math.min(1,y*(1-I)+I),U=1-Math.min(1,C*(1-I)+I),[g*255,R*255,U*255]},O.xyz.rgb=function(p){var b=p[0]/100,y=p[1]/100,C=p[2]/100,I,g,R;return I=b*3.2406+y*-1.5372+C*-.4986,g=b*-.9689+y*1.8758+C*.0415,R=b*.0557+y*-.204+C*1.057,I=I>.0031308?1.055*Math.pow(I,1/2.4)-.055:I*12.92,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92,R=R>.0031308?1.055*Math.pow(R,1/2.4)-.055:R*12.92,I=Math.min(Math.max(0,I),1),g=Math.min(Math.max(0,g),1),R=Math.min(Math.max(0,R),1),[I*255,g*255,R*255]},O.xyz.lab=function(p){var b=p[0],y=p[1],C=p[2],I,g,R;return b/=95.047,y/=100,C/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,I=116*y-16,g=500*(b-y),R=200*(y-C),[I,g,R]},O.lab.xyz=function(p){var b=p[0],y=p[1],C=p[2],I,g,R;g=(b+16)/116,I=y/500+g,R=g-C/200;var U=Math.pow(g,3),W=Math.pow(I,3),z=Math.pow(R,3);return g=U>.008856?U:(g-16/116)/7.787,I=W>.008856?W:(I-16/116)/7.787,R=z>.008856?z:(R-16/116)/7.787,I*=95.047,g*=100,R*=108.883,[I,g,R]},O.lab.lch=function(p){var b=p[0],y=p[1],C=p[2],I,g,R;return I=Math.atan2(C,y),g=I*360/2/Math.PI,g<0&&(g+=360),R=Math.sqrt(y*y+C*C),[b,R,g]},O.lch.lab=function(p){var b=p[0],y=p[1],C=p[2],I,g,R;return R=C/360*2*Math.PI,I=y*Math.cos(R),g=y*Math.sin(R),[b,I,g]},O.rgb.ansi16=function(p){var b=p[0],y=p[1],C=p[2],I=1 in arguments?arguments[1]:O.rgb.hsv(p)[2];if(I=Math.round(I/50),I===0)return 30;var g=30+(Math.round(C/255)<<2|Math.round(y/255)<<1|Math.round(b/255));return I===2&&(g+=60),g},O.hsv.ansi16=function(p){return O.rgb.ansi16(O.hsv.rgb(p),p[2])},O.rgb.ansi256=function(p){var b=p[0],y=p[1],C=p[2];if(b===y&&y===C)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var I=16+36*Math.round(b/255*5)+6*Math.round(y/255*5)+Math.round(C/255*5);return I},O.ansi16.rgb=function(p){var b=p%10;if(b===0||b===7)return p>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var y=(~~(p>50)+1)*.5,C=(b&1)*y*255,I=(b>>1&1)*y*255,g=(b>>2&1)*y*255;return[C,I,g]},O.ansi256.rgb=function(p){if(p>=232){var b=(p-232)*10+8;return[b,b,b]}p-=16;var y,C=Math.floor(p/36)/5*255,I=Math.floor((y=p%36)/6)/5*255,g=y%6/5*255;return[C,I,g]},O.rgb.hex=function(p){var b=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),y=b.toString(16).toUpperCase();return"000000".substring(y.length)+y},O.hex.rgb=function(p){var b=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var y=b[0];b[0].length===3&&(y=y.split("").map(function(U){return U+U}).join(""));var C=parseInt(y,16),I=C>>16&255,g=C>>8&255,R=C&255;return[I,g,R]},O.rgb.hcg=function(p){var b=p[0]/255,y=p[1]/255,C=p[2]/255,I=Math.max(Math.max(b,y),C),g=Math.min(Math.min(b,y),C),R=I-g,U,W;return R<1?U=g/(1-R):U=0,R<=0?W=0:I===b?W=(y-C)/R%6:I===y?W=2+(C-b)/R:W=4+(b-y)/R+4,W/=6,W%=1,[W*360,R*100,U*100]},O.hsl.hcg=function(p){var b=p[1]/100,y=p[2]/100,C=1,I=0;return y<.5?C=2*b*y:C=2*b*(1-y),C<1&&(I=(y-.5*C)/(1-C)),[p[0],C*100,I*100]},O.hsv.hcg=function(p){var b=p[1]/100,y=p[2]/100,C=b*y,I=0;return C<1&&(I=(y-C)/(1-C)),[p[0],C*100,I*100]},O.hcg.rgb=function(p){var b=p[0]/360,y=p[1]/100,C=p[2]/100;if(y===0)return[C*255,C*255,C*255];var I=[0,0,0],g=b%1*6,R=g%1,U=1-R,W=0;switch(Math.floor(g)){case 0:I[0]=1,I[1]=R,I[2]=0;break;case 1:I[0]=U,I[1]=1,I[2]=0;break;case 2:I[0]=0,I[1]=1,I[2]=R;break;case 3:I[0]=0,I[1]=U,I[2]=1;break;case 4:I[0]=R,I[1]=0,I[2]=1;break;default:I[0]=1,I[1]=0,I[2]=U}return W=(1-y)*C,[(y*I[0]+W)*255,(y*I[1]+W)*255,(y*I[2]+W)*255]},O.hcg.hsv=function(p){var b=p[1]/100,y=p[2]/100,C=b+y*(1-b),I=0;return C>0&&(I=b/C),[p[0],I*100,C*100]},O.hcg.hsl=function(p){var b=p[1]/100,y=p[2]/100,C=y*(1-b)+.5*b,I=0;return C>0&&C<.5?I=b/(2*C):C>=.5&&C<1&&(I=b/(2*(1-C))),[p[0],I*100,C*100]},O.hcg.hwb=function(p){var b=p[1]/100,y=p[2]/100,C=b+y*(1-b);return[p[0],(C-b)*100,(1-C)*100]},O.hwb.hcg=function(p){var b=p[1]/100,y=p[2]/100,C=1-y,I=C-b,g=0;return I<1&&(g=(C-I)/(1-I)),[p[0],I*100,g*100]},O.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},O.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},O.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},O.gray.hsl=O.gray.hsv=function(p){return[0,0,p[0]]},O.gray.hwb=function(p){return[0,100,p[0]]},O.gray.cmyk=function(p){return[0,0,0,p[0]]},O.gray.lab=function(p){return[p[0],0,0]},O.gray.hex=function(p){var b=Math.round(p[0]/100*255)&255,y=(b<<16)+(b<<8)+b,C=y.toString(16).toUpperCase();return"000000".substring(C.length)+C},O.rgb.gray=function(p){var b=(p[0]+p[1]+p[2])/3;return[b/255*100]}},"1qwk":function(Lt,A,i){"use strict";i.d(A,"a",function(){return y});var c=i("CMID"),a=i("8Mtd"),M=i("s9g+"),O=i("Jze/"),x=i("Yz/u"),D=i("P4df"),E=i("DhAw");i.d(A,"b",function(){return E.d});function S(C){var I=C.chart,g=C.options,R=g.data,U=g.areaStyle,W=g.color,z=g.point,B=g.line,L=g.isPercent,w=g.xField,F=g.yField,V=g.tooltip,Y=g.seriesField,tt=g.startOnZero,q=z==null?void 0:z.state,H=Object(D.a)(R,F,w,F,L);I.data(H);var Q=L?Object(c.__assign)({formatter:function(lt){return{name:lt[Y]||lt[w],value:(Number(lt[F])*100).toFixed(2)+"%"}}},V):V,k=Object(O.c)({},C,{options:{area:{color:W,style:U},line:B&&Object(c.__assign)({color:W},B),point:z&&Object(c.__assign)({color:W},z),tooltip:Q,label:void 0,args:{startOnZero:tt}}}),K=Object(O.c)({},k,{options:{tooltip:!1}}),nt=Object(O.c)({},k,{options:{tooltip:!1,state:q}});return Object(x.a)(k),Object(x.d)(K),Object(x.e)(nt),C}function p(C){var I=C.chart,g=C.options,R=g.label,U=g.yField,W=Object(O.d)(I,"area");if(!R)W.label(!1);else{var z=R.callback,B=Object(c.__rest)(R,["callback"]);W.label({fields:[U],callback:z,cfg:Object(c.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(O.y)(B))})}return C}function b(C){var I=C.chart,g=C.options,R=g.isStack,U=g.isPercent,W=g.seriesField;return(U||R)&&W&&Object(a.each)(I.geometries,function(z){z.adjust("stack")}),C}function y(C){return Object(O.f)(S,E.d,b,M.j,E.b,E.c,M.k,p,M.h,Object(M.b)(),M.c,M.a,M.e)(C)}},"2+60":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.TargetTypeEnum=A.BindingTypeEnum=A.BindingScopeEnum=void 0;var c={Request:"Request",Singleton:"Singleton",Transient:"Transient"};A.BindingScopeEnum=c;var a={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};A.BindingTypeEnum=a;var M={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};A.TargetTypeEnum=M},"287h":function(Lt,A,i){"use strict";var c=i("CMID"),a=i("U8wd");function M(I,g){if(g){var R=Object(a.invert)(g);return Object(a.multiplyVec2)(R,I)}return I}function O(I,g,R){var U=I.getTotalMatrix();if(U){var W=M([g,R,1],U),z=W[0],B=W[1];return[z,B]}return[g,R]}function x(I,g,R){if(I.isCanvas&&I.isCanvas())return!0;if(!Object(a.isAllowCapture)(I)||I.cfg.isInView===!1)return!1;if(I.cfg.clipShape){var U=O(I,g,R),W=U[0],z=U[1];if(I.isClipped(W,z))return!1}var B=I.cfg.cacheCanvasBBox||I.getCanvasBBox();return g>=B.minX&&g<=B.maxX&&R>=B.minY&&R<=B.maxY}function D(I,g,R){if(!x(I,g,R))return null;for(var U=null,W=I.getChildren(),z=W.length,B=z-1;B>=0;B--){var L=W[B];if(L.isGroup())U=D(L,g,R);else if(x(L,g,R)){var w=L,F=O(L,g,R),V=F[0],Y=F[1];w.isInShape(V,Y)&&(U=L)}if(U)break}return U}var E=i("Nqgf"),S=i("nl+T"),p=i("bsNZ"),b=i("K0hn"),y=function(I){Object(c.__extends)(g,I);function g(){return I!==null&&I.apply(this,arguments)||this}return g.prototype.getDefaultCfg=function(){var R=I.prototype.getDefaultCfg.call(this);return R.renderer="canvas",R.autoDraw=!0,R.localRefresh=!0,R.refreshElements=[],R.clipView=!0,R.quickHit=!1,R},g.prototype.onCanvasChange=function(R){(R==="attr"||R==="sort"||R==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},g.prototype.getShapeBase=function(){return E},g.prototype.getGroupBase=function(){return S.a},g.prototype.getPixelRatio=function(){var R=this.get("pixelRatio")||Object(p.d)();return R>=1?Math.ceil(R):1},g.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},g.prototype.createDom=function(){var R=document.createElement("canvas"),U=R.getContext("2d");return this.set("context",U),R},g.prototype.setDOMSize=function(R,U){I.prototype.setDOMSize.call(this,R,U);var W=this.get("context"),z=this.get("el"),B=this.getPixelRatio();z.width=B*R,z.height=B*U,B>1&&W.scale(B,B)},g.prototype.clear=function(){I.prototype.clear.call(this),this._clearFrame();var R=this.get("context"),U=this.get("el");R.clearRect(0,0,U.width,U.height)},g.prototype.getShape=function(R,U){var W;return this.get("quickHit")?W=D(this,R,U):W=I.prototype.getShape.call(this,R,U,null),W},g.prototype._getRefreshRegion=function(){var R=this.get("refreshElements"),U=this.getViewRange(),W;if(R.length&&R[0]===this)W=U;else if(W=Object(b.f)(R),W){W.minX=Math.floor(W.minX),W.minY=Math.floor(W.minY),W.maxX=Math.ceil(W.maxX),W.maxY=Math.ceil(W.maxY),W.maxY+=1;var z=this.get("clipView");z&&(W=Object(b.g)(W,U))}return W},g.prototype.refreshElement=function(R){var U=this.get("refreshElements");U.push(R)},g.prototype._clearFrame=function(){var R=this.get("drawFrame");R&&(Object(p.a)(R),this.set("drawFrame",null),this.set("refreshElements",[]))},g.prototype.draw=function(){var R=this.get("drawFrame");this.get("autoDraw")&&R||this._startDraw()},g.prototype._drawAll=function(){var R=this.get("context"),U=this.get("el"),W=this.getChildren();R.clearRect(0,0,U.width,U.height),Object(b.a)(R,this),Object(b.d)(R,W),this.set("refreshElements",[])},g.prototype._drawRegion=function(){var R=this.get("context"),U=this.get("refreshElements"),W=this.getChildren(),z=this._getRefreshRegion();z?(R.clearRect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),R.save(),R.beginPath(),R.rect(z.minX,z.minY,z.maxX-z.minX,z.maxY-z.minY),R.clip(),Object(b.a)(R,this),Object(b.b)(this,W,z),Object(b.d)(R,W,z),R.restore()):U.length&&Object(b.c)(U),Object(p.c)(U,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},g.prototype._startDraw=function(){var R=this,U=this.get("drawFrame");U||(U=Object(p.n)(function(){R.get("localRefresh")?R._drawRegion():R._drawAll(),R.set("drawFrame",null)}),this.set("drawFrame",U))},g.prototype.skipDraw=function(){},g.prototype.removeDom=function(){var R=this.get("el");R.width=0,R.height=0,R.parentNode.removeChild(R)},g}(a.AbstractCanvas),C=A.a=y},"2AqX":function(Lt,A,i){"use strict";i.d(A,"a",function(){return O});var c=i("8Mtd");function a(x,D){var E=Math.floor(x/D);return[D*E,D*(E+1)]}function M(x){return Math.ceil(Math.log(x.length)/Math.LN2)+1}function O(x,D,E,S,p){var b=Object(c.clone)(x);Object(c.sortBy)(b,D);var y=Object(c.valuesOfKey)(b,D),C=Object(c.getRange)(y),I=C.max-C.min,g=E;if(!E&&S&&(g=I/S),!E&&!S){var R=M(y);g=I/R}var U={},W=Object(c.groupBy)(b,p);Object(c.isEmpty)(W)?Object(c.each)(b,function(B){var L=B[D],w=a(L,g),F=w[0]+"-"+w[1];Object(c.hasKey)(U,F)||(U[F]={range:w,count:0}),U[F].count+=1}):Object.keys(W).forEach(function(B){Object(c.each)(W[B],function(L){var w=L[D],F=a(w,g),V=F[0]+"-"+F[1],Y=V+"-"+B;Object(c.hasKey)(U,Y)||(U[Y]={range:F,count:0},U[Y][p]=B),U[Y].count+=1})});var z=[];return Object(c.each)(U,function(B){z.push(B)}),z}},"2DZl":function(Lt,A,i){"use strict";i.d(A,"b",function(){return b}),i.d(A,"a",function(){return I});var c=i("8Mtd"),a="\u2026";function M(g){for(var R=0,U=0;U<g.length;U++)R+=O(g,U);return R}function O(g,R){return g.charCodeAt(R)>0&&g.charCodeAt(R)<128?1:2}function x(g,R,U){U===void 0&&(U="tail");var W=g.length,z="";if(U==="tail"){for(var B=0,L=0;B<R;){var w=O(g,L);if(B+w<=R)z+=g[L],B+=O(g,L),L++;else break}z+=a}else if(U==="head"){for(var B=0,L=W-1;B<R;){var w=O(g,L);if(B+w<=R)z+=g[L],B+=O(g,L),L--;else break}z=a+z}else{for(var F="",V="",B=0,Y=0,tt=W-1;B<R;){var q=O(g,Y),H=!1;q+B<=R&&(F+=g[Y],Y++,B+=q,H=!0);var Q=O(g,tt);if(Q+B<=R&&(V=g[tt]+V,B+=Q,tt--,H=!0),!H)break}z=F+a+V}return z}var D="\u2026",E=2,S=400;function p(g){for(var R=g.map(function(F){var V=F.attr("text");return Object(c.isNil)(V)?"":""+V}),U=0,W=0,z=0;z<R.length;z+=1){for(var B=0,L=0;L<=R[z].length;L+=1){var w=R[z].charCodeAt(L);w>=19968&&w<=40869?B+=2:B+=1}B>U&&(U=B,W=z)}return g[W].getBBox().width}function b(g){if(g.length>S)return p(g);var R=0;return Object(c.each)(g,function(U){var W=U.getBBox(),z=W.width;R<z&&(R=z)}),R}function y(g,R){var U=R.getCanvasBBox();return g?U.width:U.height}function C(g,R){return g.getBBox().width<R}function I(g,R,U,W){W===void 0&&(W="tail");var z=R.attr("text"),B=y(g,R),L=M(z),w=!1;if(U<B){var F=Math.floor(U/B*L)-E,V=void 0;F>=0?V=x(z,F,W):V=D,V&&(R.attr("text",V),w=!0)}return w?R.set("tip",z):R.set("tip",null),w}},"2GXS":function(Lt,A,i){var c=i("qTvU"),a=i("MbSy"),M=i("qXgj");function O(x){return M(a(x,void 0,c),x+"")}Lt.exports=O},"2Kos":function(Lt,A,i){"use strict";i.r(A),i.d(A,"Area",function(){return _}),i.d(A,"Bar",function(){return it}),i.d(A,"Box",function(){return Se}),i.d(A,"Bullet",function(){return Rt}),i.d(A,"Column",function(){return Wt}),i.d(A,"Funnel",function(){return jt}),i.d(A,"Histogram",function(){return Ut}),i.d(A,"Line",function(){return Kt}),i.d(A,"Liquid",function(){return hr}),i.d(A,"Heatmap",function(){return qe}),i.d(A,"Pie",function(){return zr}),i.d(A,"Progress",function(){return Or}),i.d(A,"Radar",function(){return Kr}),i.d(A,"Facet",function(){return Pi}),i.d(A,"RingProgress",function(){return wn}),i.d(A,"Rose",function(){return ei}),i.d(A,"Chord",function(){return ga}),i.d(A,"Scatter",function(){return Gi}),i.d(A,"TinyArea",function(){return ca}),i.d(A,"TinyColumn",function(){return pa}),i.d(A,"TinyLine",function(){return $o}),i.d(A,"Waterfall",function(){return ba}),i.d(A,"WordCloud",function(){return ss}),i.d(A,"Sunburst",function(){return ri}),i.d(A,"DualAxes",function(){return po}),i.d(A,"Stock",function(){return Us}),i.d(A,"RadialBar",function(){return ls}),i.d(A,"Gauge",function(){return Mr}),i.d(A,"Sankey",function(){return Oe}),i.d(A,"Treemap",function(){return sr}),i.d(A,"Violin",function(){return On}),i.d(A,"MultiView",function(){return ki}),i.d(A,"Mix",function(){return ki}),i.d(A,"BidirectionalBar",function(){return Co}),i.d(A,"OrganizationTreeGraph",function(){return jb}),i.d(A,"DagreGraph",function(){return Nb}),i.d(A,"IndentedTree",function(){return zb}),i.d(A,"DagreFundFlowGraph",function(){return Yb}),i.d(A,"IndentedTreeGraph",function(){return _b}),i.d(A,"OrganizationalGraph",function(){return $b}),i.d(A,"RadialGraph",function(){return Qb}),i.d(A,"G2",function(){return I.G2}),i.d(A,"flow",function(){return I.flow}),i.d(A,"measureTextWidth",function(){return I.measureTextWidth}),i.d(A,"adaptors",function(){return I.adaptors});var c={};i.r(c),i.d(c,"getAdjMatrix",function(){return Ao}),i.d(c,"breadthFirstSearch",function(){return Ml}),i.d(c,"connectedComponent",function(){return Et}),i.d(c,"getDegree",function(){return re}),i.d(c,"getInDegree",function(){return fe}),i.d(c,"getOutDegree",function(){return be}),i.d(c,"detectCycle",function(){return Sr}),i.d(c,"detectDirectedCycle",function(){return gc}),i.d(c,"detectAllCycles",function(){return Cr}),i.d(c,"detectAllDirectedCycle",function(){return Ar}),i.d(c,"detectAllUndirectedCycle",function(){return _e}),i.d(c,"depthFirstSearch",function(){return Fe}),i.d(c,"dijkstra",function(){return Dr}),i.d(c,"findAllPath",function(){return Zn}),i.d(c,"findShortestPath",function(){return bi}),i.d(c,"floydWarshall",function(){return qn}),i.d(c,"labelPropagation",function(){return gi}),i.d(c,"louvain",function(){return Ii}),i.d(c,"minimumSpanningTree",function(){return jr}),i.d(c,"pageRank",function(){return pi}),i.d(c,"getNeighbors",function(){return La}),i.d(c,"Stack",function(){return Ys}),i.d(c,"GADDI",function(){return mh}),i.d(c,"default",function(){return pc});var a={};i.r(a),i.d(a,"compare",function(){return Eu}),i.d(a,"getLineIntersect",function(){return al}),i.d(a,"getRectIntersectByPoint",function(){return yf}),i.d(a,"getCircleIntersectByPoint",function(){return Xl}),i.d(a,"getEllipseIntersectByPoint",function(){return mf}),i.d(a,"applyMatrix",function(){return uo}),i.d(a,"invertMatrix",function(){return bh}),i.d(a,"getCircleCenterByPoints",function(){return bf}),i.d(a,"distance",function(){return Yl}),i.d(a,"scaleMatrix",function(){return Ps}),i.d(a,"floydWarshall",function(){return Ki}),i.d(a,"getAdjMatrix",function(){return Of}),i.d(a,"translate",function(){return Su}),i.d(a,"move",function(){return _o}),i.d(a,"scale",function(){return Is}),i.d(a,"rotate",function(){return Oh}),i.d(a,"getDegree",function(){return xh}),i.d(a,"isPointInPolygon",function(){return Hs}),i.d(a,"intersectBBox",function(){return Cl}),i.d(a,"isPolygonsIntersect",function(){return yc}),i.d(a,"Line",function(){return xs}),i.d(a,"getBBoxBoundLine",function(){return $a}),i.d(a,"itemIntersectByLine",function(){return Mu}),i.d(a,"fractionToLine",function(){return _s}),i.d(a,"getPointsCenter",function(){return xf}),i.d(a,"squareDist",function(){return Hl}),i.d(a,"pointLineSquareDist",function(){return Sh}),i.d(a,"isPointsOverlap",function(){return Ef}),i.d(a,"pointRectSquareDist",function(){return Sf}),i.d(a,"pointLineDistance",function(){return Sd});var M={};i.r(M),i.d(M,"getBBox",function(){return Du}),i.d(M,"getLoopCfgs",function(){return js}),i.d(M,"getLabelPosition",function(){return ol}),i.d(M,"traverseTree",function(){return No}),i.d(M,"traverseTreeUp",function(){return ws}),i.d(M,"getLetterWidth",function(){return Aa}),i.d(M,"getTextSize",function(){return Ec}),i.d(M,"plainCombosToTrees",function(){return _l}),i.d(M,"reconstructTree",function(){return Af}),i.d(M,"getComboBBox",function(){return Zl}),i.d(M,"shouldRefreshEdge",function(){return Ah}),i.d(M,"cloneBesidesImg",function(){return $l});var O={};i.r(O),i.d(O,"uniqueId",function(){return Df}),i.d(O,"formatPadding",function(){return sl}),i.d(O,"cloneEvent",function(){return Pu}),i.d(O,"isViewportChanged",function(){return Dd}),i.d(O,"isNaN",function(){return Pf}),i.d(O,"calculationItemsBBox",function(){return Ph}),i.d(O,"processParallelEdges",function(){return Pd});var x={};i.r(x),i.d(x,"getSpline",function(){return Ic}),i.d(x,"getControlPoint",function(){return Fu}),i.d(x,"pointsToPolygon",function(){return Uh}),i.d(x,"pathToPoints",function(){return Gu}),i.d(x,"getClosedSpline",function(){return Lc}),i.d(x,"roundedHull",function(){return Tl}),i.d(x,"paddedHull",function(){return wc});var D={};i.r(D),i.d(D,"defaultSubjectColors",function(){return Wc});var E={};i.r(E),i.d(E,"leftTranslate",function(){return $u}),i.d(E,"leftRotate",function(){return kh}),i.d(E,"leftScale",function(){return Xh}),i.d(E,"transform",function(){return Yh}),i.d(E,"direction",function(){return Yf}),i.d(E,"angleTo",function(){return Yc}),i.d(E,"vertical",function(){return Xd});var S={};i.r(S),i.d(S,"mixColor",function(){return Yt}),i.d(S,"getColorsWithSubjectColor",function(){return or}),i.d(S,"getColorSetsBySubjectColors",function(){return Rr});var p={};i.r(p),i.d(p,"proccessToFunc",function(){return l1}),i.d(p,"buildTextureData",function(){return u1}),i.d(p,"buildTextureDataWithOneEdgeAttr",function(){return c1}),i.d(p,"buildTextureDataWithTwoEdgeAttr",function(){return f1}),i.d(p,"attributesToTextureData",function(){return h1}),i.d(p,"arrayToTextureData",function(){return d1}),i.d(p,"radialLayout",function(){return v1});var b={};i.r(b),i.d(b,"gpuDetector",function(){return U0});var y=i("T9Mk"),C=i.n(y),I=i("Z7Bb"),g=i("8Mtd"),R=i("d0GS"),U=i.n(R),W=function(l,e){var t=document.createElement("div");return e==="tooltip"&&(t.className="g2-tooltip"),U.a.render(l,t),t},z=W,B=function(l,e){var t={}.toString;return t.call(l)==="[object "+e+"]"},L=function(l){if(!l)return l;var e={};for(var t in l)e[t]=l[t];return e},w=function(l){if(!l)return l;var e=new l.constructor,t=function(n){return Object.prototype.toString.call(n).slice(8,-1)};for(var r in l)l.hasOwnProperty(r)&&(e[r]=t(l[r])==="Object"||t(l[r])==="Array"?w(l[r]):l[r]);return e},F=function(l,e){for(var t=l,r=0;r<e.length;r+=1)if(t==null?void 0:t[e[r]])t=t[e[r]];else{t=void 0;break}return t},V=function(l,e,t){if(!l)return l;var r=l;return e.forEach(function(n,o){o<e.length-1?r=r[n]:r[n]=t}),l},Y={isType:B,clone:L,hasPath:F,setPath:V,deepClone:w},tt=function(){return tt=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},tt.apply(this,arguments)},q=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t};function H(l,e){var t=Object(y.useRef)(),r=Object(y.useRef)(),n=Object(y.useRef)(null),o=e.onReady,u=e.onEvent,d=function(G,et){var J;return G===void 0&&(G="image/png"),(J=t.current)===null||J===void 0?void 0:J.chart.canvas.cfg.el.toDataURL(G,et)},m=function(G,et,J){var at;G===void 0&&(G="download"),et===void 0&&(et="image/png");var mt=G;G.indexOf(".")===-1&&(mt=G+"."+et.split("/")[1]);var St=(at=t.current)===null||at===void 0?void 0:at.chart.canvas.cfg.el.toDataURL(et,J),Dt=document.createElement("a");return Dt.href=St,Dt.download=mt,document.body.appendChild(Dt),Dt.click(),document.body.removeChild(Dt),Dt=null,mt},T=function(G,et,J){var at=Y.hasPath,mt=Y.setPath,St=at(G,et);mt(G,et,function(){for(var Dt=[],Ct=0;Ct<arguments.length;Ct++)Dt[Ct]=arguments[Ct];var Bt=Y.isType(St,"Function")?St.apply(void 0,Dt):St;return Y.isType(Bt,"String")||Y.isType(Bt,"Number")||Y.isType(Bt,"HTMLDivElement")?Bt:z(Bt,J)})},j=function(){var G=Y.hasPath;G(e,["statistic","content","customHtml"])&&T(e,["statistic","content","customHtml"]),G(e,["statistic","title","customHtml"])&&T(e,["statistic","title","customHtml"]),typeof e.tooltip=="object"&&(G(e,["tooltip","container"])&&T(e,["tooltip","container"],"tooltip"),G(e,["tooltip","customContent"])&&T(e,["tooltip","customContent"],"tooltip"))};return Object(y.useEffect)(function(){if(t.current&&!Object(g.isEqual)(r.current,e)){var G=!1;if(r.current){var et=r.current,J=et.data,at=et.value,mt=et.percent,St=q(et,["data","value","percent"]),Dt=e.data,Ct=e.value,Bt=e.percent,zt=q(e,["data","value","percent"]);G=Object(g.isEqual)(St,zt)}if(G){var Ht="data",qt=["percent"],ue=Object.keys(e);qt.forEach(function(se){ue.includes(se)&&(Ht=se)}),t.current.changeData((e==null?void 0:e[Ht])||[])}else j(),t.current.update(e);r.current=Y.deepClone(e)}},[e]),Object(y.useEffect)(function(){if(!n.current)return function(){return null};j();var G=new l(n.current,tt({},e));l.prototype.toDataURL=function(J,at){return d(J,at)},l.prototype.downloadImage=function(J,at,mt){return m(J,at,mt)},G.render(),r.current||(r.current=Y.deepClone(e)),t.current=Y.clone(G),o&&o(G);var et=function(J){u&&u(G,J)};return G.on("*",et),function(){t.current&&(t.current.destroy(),t.current.off("*",et),t.current=void 0)}},[]),{chart:t,container:n}}var Q=function(l,e){!l||(Object(g.isFunction)(l)?l(e):l.current=e)},k=function(){var l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},l(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),K=function(l){k(e,l);function e(){var t=l!==null&&l.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(r){var n=t.props.errorTemplate;switch(r){default:return n&&typeof n=="function"?n(r):C.a.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",r.message)}},t}return e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,r){return r.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):C.a.createElement(y.Fragment,null,this.props.children)},e}(C.a.Component),nt=K;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var lt=function(){return lt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lt.apply(this,arguments)};function ut(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t}var rt=function(){return Math.random().toString(36).substring(6)},ot=function(l){var e=l.animate,t=l.backgroundColor,r=l.backgroundOpacity,n=l.baseUrl,o=l.children,u=l.foregroundColor,d=l.foregroundOpacity,m=l.gradientRatio,T=l.uniqueKey,j=l.interval,G=l.rtl,et=l.speed,J=l.style,at=l.title,mt=ut(l,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),St=T||rt(),Dt=St+"-diff",Ct=St+"-animated-diff",Bt=St+"-aria",zt=G?{transform:"scaleX(-1)"}:null,Ht="0; "+j+"; 1",qt=et+"s";return Object(y.createElement)("svg",lt({"aria-labelledby":Bt,role:"img",style:lt(lt({},J),zt)},mt),at?Object(y.createElement)("title",{id:Bt},at):null,Object(y.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+n+"#"+Dt+")",style:{fill:"url("+n+"#"+Ct+")"}}),Object(y.createElement)("defs",{role:"presentation"},Object(y.createElement)("clipPath",{id:Dt},o),Object(y.createElement)("linearGradient",{id:Ct},Object(y.createElement)("stop",{offset:"0%",stopColor:t,stopOpacity:r},e&&Object(y.createElement)("animate",{attributeName:"offset",values:-m+"; "+-m+"; 1",keyTimes:Ht,dur:qt,repeatCount:"indefinite"})),Object(y.createElement)("stop",{offset:"50%",stopColor:u,stopOpacity:d},e&&Object(y.createElement)("animate",{attributeName:"offset",values:-m/2+"; "+-m/2+"; "+(1+m/2),keyTimes:Ht,dur:qt,repeatCount:"indefinite"})),Object(y.createElement)("stop",{offset:"100%",stopColor:t,stopOpacity:r},e&&Object(y.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+m),keyTimes:Ht,dur:qt,repeatCount:"indefinite"})))))};ot.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var dt=function(l){return l.children?Object(y.createElement)(ot,lt({},l)):Object(y.createElement)(Mt,lt({},l))},Mt=function(l){return Object(y.createElement)(dt,lt({viewBox:"0 0 476 124"},l),Object(y.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(y.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(y.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(y.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(y.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(y.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},Nt=function(l){return Object(y.createElement)(dt,lt({viewBox:"0 0 400 460"},l),Object(y.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(y.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(y.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(y.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},ht=function(l){return Object(y.createElement)(dt,lt({viewBox:"0 0 340 84"},l),Object(y.createElement)("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),Object(y.createElement)("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),Object(y.createElement)("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),Object(y.createElement)("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),Object(y.createElement)("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),Object(y.createElement)("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),Object(y.createElement)("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),Object(y.createElement)("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},yt=function(l){return Object(y.createElement)(dt,lt({viewBox:"0 0 400 110"},l),Object(y.createElement)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),Object(y.createElement)("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),Object(y.createElement)("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),Object(y.createElement)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),Object(y.createElement)("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),Object(y.createElement)("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},ft=function(l){return Object(y.createElement)(dt,lt({viewBox:"0 0 245 125"},l),Object(y.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(y.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(y.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(y.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(y.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(y.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(y.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(y.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},st=dt,xt=function(l){var e=l.loadingTemplate,t=function(){return e||C.a.createElement(st,{viewBox:"0 0 400 180",width:200,height:90,speed:1},C.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),C.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),C.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),C.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),C.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),C.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),C.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),C.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),C.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),C.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return C.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},t())},gt=xt,At=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},pt=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=At(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Area,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),_=pt,$=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},bt=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=$(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Bar,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),it=bt,Ot=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Pt=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Ot(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Bullet,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Rt=Pt,Vt=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},kt=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Vt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Column,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Wt=kt,wt=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},ct=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=wt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Funnel,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),jt=ct,Xt=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},It=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Xt(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Histogram,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Ut=It,$t=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Ft=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=$t(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Line,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Kt=Ft,ee=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},ce=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=ee(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Box,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Se=ce,Ce=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Ge=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Ce(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Liquid,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),hr=Ge,dr=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},ar=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=dr(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Heatmap,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),qe=ar,Xe=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},ur=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Xe(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Pie,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),zr=ur,ir=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},qr=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=ir(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Gauge,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Mr=qr,Br=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},ze=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Br(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Progress,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Or=ze,Nr=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},$r=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Nr(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Radar,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Kr=$r,Un=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},ti=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Un(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.RingProgress,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),wn=ti,Bn=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},kn=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Bn(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Rose,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ei=kn,In=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},ai=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=In(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Chord,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ga=ai,Da=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Sa=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Da(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Scatter,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Gi=Sa,Ma=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Ri=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Ma(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.TinyArea,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ca=Ri,Di=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Ca=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Di(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.TinyColumn,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),pa=Ca,Wa=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},oo=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Wa(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.DualAxes,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),po=oo,Xa=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},os=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Xa(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.TinyLine,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),$o=os,Xo=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Ol=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Xo(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Waterfall,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ba=Ol,xl=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},El=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=xl(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.WordCloud,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ss=El,ys=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},nl=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=ys(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Sunburst,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ri=nl,Gl=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Yo=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Gl(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Stock,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Us=Yo,Ws=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},il=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Ws(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.RadialBar,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ls=il,ne=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},de=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=ne(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Sankey,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Oe=de,Ue=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Ve=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Ue(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Treemap,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),sr=Ve,wr=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Vr=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=wr(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Violin,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),On=Vr,Wn=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Nn=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=Wn(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Facet,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Pi=Nn,zi=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},Ia=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=zi(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.Mix,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),ki=Ia,fa=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},so=Object(y.forwardRef)(function(l,e){var t=l.chartRef,r=l.style,n=r===void 0?{height:"inherit"}:r,o=l.className,u=l.loading,d=l.loadingTemplate,m=l.errorTemplate,T=fa(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),j=H(I.BidirectionalBar,T),G=j.chart,et=j.container;return Object(y.useEffect)(function(){Q(t,G.current)},[G.current]),Object(y.useImperativeHandle)(e,function(){return{getChart:function(){return G.current}}}),C.a.createElement(nt,{errorTemplate:m},u&&C.a.createElement(gt,{loadingTemplate:d}),C.a.createElement("div",{className:o,style:n,ref:et}))}),Co=so,oe=i("CMID"),ms={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,r=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),Object(g.each)(r,function(n,o){e.on(o,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),Object(g.each)(t,function(r,n){e.off(n,r)})},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},lo=function(){function l(){}return l.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: "+e);var r=Object(g.clone)(ms);Object.assign(r,t);var n=function(u){var d=this;Object.assign(this,this.getDefaultCfg(),u);var m=this.getEvents();this.events=null;var T={};m&&(Object(g.each)(m,function(j,G){T[G]=Object(g.wrapBehavior)(d,j)}),this.events=T)};n.prototype=r,l.types[e]=n},l.hasBehavior=function(e){return!!l.types[e]},l.getBehavior=function(e){return l.types[e]},l.types={},l}(),ha=lo,Za=ha,yo=i("nZiY"),ci=i("sxZn"),mo=function(e,t){var r=e.nodes,n=e.edges,o=[],u={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(d,m){u[d.id]=m;var T=[];o.push(T)}),n&&n.forEach(function(d){var m=d.source,T=d.target,j=u[m],G=u[T];!j&&j!==0||!G&&G!==0||(o[j][G]=1,t||(o[G][j]=1))}),o},Ao=mo,us=function(e,t){return e===t},wo=function(){function l(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return l.prototype.toString=function(e){return e?e(this.value):""+this.value},l}(),bs=function(){function l(e){e===void 0&&(e=us),this.head=null,this.tail=null,this.compare=e}return l.prototype.prepend=function(e){var t=new wo(e,this.head);return this.head=t,this.tail||(this.tail=t),this},l.prototype.append=function(e){var t=new wo(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},l.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(r!==null)for(;r.next;)this.compare(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare(this.tail.value,e)&&(this.tail=r),t},l.prototype.find=function(e){var t=e.value,r=t===void 0?void 0:t,n=e.callback,o=n===void 0?void 0:n;if(!this.head)return null;for(var u=this.head;u;){if(o&&o(u.value)||r!==void 0&&this.compare(u.value,r))return u;u=u.next}return null},l.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},l.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},l.prototype.fromArray=function(e){var t=this;return e.forEach(function(r){return t.append(r)}),this},l.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},l.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},l.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},l}(),eo=bs,Os=function(){function l(){this.linkedList=new eo}return l.prototype.isEmpty=function(){return!this.linkedList.head},l.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},l.prototype.enqueue=function(e){this.linkedList.append(e)},l.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},l.prototype.toString=function(e){return this.linkedList.toString(e)},l}(),To=Os,La=function(e,t,r){t===void 0&&(t=[]);var n=t.filter(function(m){return m.source===e||m.target===e});if(r==="target"){var o=function(T){return T.source===e};return n.filter(o).map(function(m){return m.target})}if(r==="source"){var u=function(T){return T.target===e};return n.filter(u).map(function(m){return m.source})}var d=function(T){return T.source===e?T.target:T.source};return n.map(d)},ro=function(e,t){return t.filter(function(r){return r.source===e})},bo=function(e,t){return t.filter(function(r){return r.source===e||r.target===e})},zs=function(e){e===void 0&&(e=0);var t=(""+Math.random()).split(".")[1].substr(0,5),r=(""+Math.random()).split(".")[1].substr(0,5);return e+"-"+t+r};function Ul(l){l===void 0&&(l={});var e=l,t=function(){},r=function(){var n={};return function(o){var u=o.next,d=u;return n[d]?!1:(n[d]=!0,!0)}}();return e.allowTraversal=l.allowTraversal||r,e.enter=l.enter||t,e.leave=l.leave||t,e}var Sl=function(e,t,r){var n=Ul(r),o=new To,u=e.edges,d=u===void 0?[]:u;o.enqueue(t);for(var m="",T=function(){var G=o.dequeue();n.enter({current:G,previous:m}),La(G,d,"target").forEach(function(et){n.allowTraversal({previous:m,current:G,next:et})&&o.enqueue(et)}),n.leave({current:G,previous:m}),m=G};!o.isEmpty();)T()},Ml=Sl,Wl=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,o=n===void 0?[]:n,u=[],d={},m=[],T=function J(at){m.push(at),d[at.id]=!0;for(var mt=La(at.id,o),St=function(Bt){var zt=mt[Bt];if(!d[zt]){var Ht=r.filter(function(qt){return qt.id===zt});Ht.length>0&&J(Ht[0])}},Dt=0;Dt<mt.length;++Dt)St(Dt)},j=0;j<r.length;j++){var G=r[j];if(!d[G.id]){T(G);for(var et=[];m.length>0;)et.push(m.pop());u.push(et)}}return u},X=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,o=n===void 0?[]:n,u=[],d={},m={},T={},j=[],G=0,et=function St(Dt){m[Dt.id]=G,T[Dt.id]=G,G+=1,u.push(Dt),d[Dt.id]=!0;for(var Ct=La(Dt.id,o,"target").filter(function(ue){return r.map(function(se){return se.id}).indexOf(ue)>-1}),Bt=function(se){var Me=Ct[se];if(!m[Me]&&m[Me]!==0){var ve=r.filter(function(De){return De.id===Me});ve.length>0&&St(ve[0]),T[Dt.id]=Math.min(T[Dt.id],T[Me])}else d[Me]&&(T[Dt.id]=Math.min(T[Dt.id],m[Me]))},zt=0;zt<Ct.length;zt++)Bt(zt);if(T[Dt.id]===m[Dt.id]){for(var Ht=[];u.length>0;){var qt=u.pop();if(d[qt.id]=!1,Ht.push(qt),qt===Dt)break}Ht.length>0&&j.push(Ht)}},J=0,at=r;J<at.length;J++){var mt=at[J];!m[mt.id]&&m[mt.id]!==0&&et(mt)}return j};function Et(l,e){return e?X(l):Wl(l)}var Qt=function(e){var t={},r=e.nodes,n=r===void 0?[]:r,o=e.edges,u=o===void 0?[]:o;return n.forEach(function(d){t[d.id]={degree:0,inDegree:0,outDegree:0}}),u.forEach(function(d){t[d.source].degree++,t[d.source].outDegree++,t[d.target].degree++,t[d.target].inDegree++}),t},re=Qt,fe=function(e,t){var r=Qt(e);return r[t]?Qt(e)[t].inDegree:0},be=function(e,t){var r=Qt(e);return r[t]?Qt(e)[t].outDegree:0};function Ie(l){l===void 0&&(l={});var e=l,t=function(){},r=function(){var n={};return function(o){var u=o.next;return n[u]?!1:(n[u]=!0,!0)}}();return e.allowTraversal=l.allowTraversal||r,e.enter=l.enter||t,e.leave=l.leave||t,e}function we(l,e,t,r){r.enter({current:e,previous:t});var n=l.edges,o=n===void 0?[]:n;La(e,o,"target").forEach(function(u){r.allowTraversal({previous:t,current:e,next:u})&&we(l,u,e,r)}),r.leave({current:e,previous:t})}function Fe(l,e,t){we(l,e,"",Ie(t))}var $e=function(e){var t=null,r=e.nodes,n=r===void 0?[]:r,o={},u={},d={},m={};n.forEach(function(G){u[G.id]=G});for(var T={enter:function(et){var J=et.current,at=et.previous;if(d[J]){t={};for(var mt=J,St=at;St!==J;)t[mt]=St,mt=St,St=o[St];t[mt]=St}else d[J]=J,delete u[J],o[J]=at},leave:function(et){var J=et.current;m[J]=J,delete d[J]},allowTraversal:function(et){var J=et.next;return t?!1:!m[J]}};Object.keys(u).length;){var j=Object.keys(u)[0];Fe(e,j,T)}return t},_e=function(e,t,r){var n,o;r===void 0&&(r=!0);for(var u=[],d=Et(e,!1),m=0,T=d;m<T.length;m++){var j=T[m];if(!!j.length)for(var G=j[0],et=G.id,J=[G],at=(n={},n[et]=G,n),mt=(o={},o[et]=new Set,o);J.length>0;)for(var St=J.pop(),Dt=St.id,Ct=La(Dt,e.edges),Bt=function(qt){var ue,se=Ct[qt],Me=e.nodes.find(function(fr){return fr.id===se});if(se===Dt)u.push((ue={},ue[se]=St,ue));else if(!(se in mt))at[se]=St,J.push(Me),mt[se]=new Set([St]);else if(!mt[Dt].has(Me)){for(var ve=!0,De=[Me,St],ye=at[Dt];mt[se].size&&!mt[se].has(ye)&&(De.push(ye),ye!==at[ye.id]);)ye=at[ye.id];if(De.push(ye),t&&r?(ve=!1,De.findIndex(function(fr){return t.indexOf(fr.id)>-1})>-1&&(ve=!0)):t&&!r&&De.findIndex(function(fr){return t.indexOf(fr.id)>-1})>-1&&(ve=!1),ve){for(var pr={},cr=1;cr<De.length;cr+=1)pr[De[cr-1].id]=De[cr];De.length&&(pr[De[De.length-1].id]=De[0]),u.push(pr)}mt[se].add(St)}},zt=0;zt<Ct.length;zt+=1)Bt(zt)}return u},Ar=function(e,t,r){r===void 0&&(r=!0);for(var n=[],o=new Set,u=[],d=[],m={},T={},j=function(ye){for(var pr=[ye];pr.length>0;){var cr=pr.pop();o.has(cr)&&(o.delete(cr),u[cr.id].forEach(function(fr){pr.push(fr)}),u[cr.id].clear())}},G=function De(ye,pr,cr){var fr=!1;if(t&&r===!1&&t.indexOf(ye.id)>-1)return fr;n.push(ye),o.add(ye);for(var en=cr[ye.id],sn=0;sn<en.length;sn+=1){var Yr=m[en[sn]];if(Yr===pr){for(var rn={},gn=1;gn<n.length;gn+=1)rn[n[gn-1].id]=n[gn];n.length&&(rn[n[n.length-1].id]=n[0]),d.push(rn),fr=!0}else o.has(Yr)||De(Yr,pr,cr)&&(fr=!0)}if(fr)j(ye);else for(var sn=0;sn<en.length;sn+=1){var Yr=m[en[sn]];u[Yr.id].has(ye)||u[Yr.id].add(ye)}return n.pop(),fr},et=e.nodes,J=et===void 0?[]:et,at=0;at<J.length;at+=1){var mt=J[at],St=mt.id;T[St]=at,m[at]=mt}if(t&&r)for(var Dt=function(ye){var pr=t[ye];T[J[ye].id]=T[pr],T[pr]=0,m[0]=J.find(function(cr){return cr.id===pr}),m[T[J[ye].id]]=J[ye]},at=0;at<t.length;at++)Dt(at);for(var Ct=function(ye){for(var pr,cr,fr=Infinity,en=0;en<ye.length;en+=1)for(var sn=ye[en],Yr=0;Yr<sn.length;Yr++){var rn=T[sn[Yr].id];rn<fr&&(fr=rn,cr=en)}for(var gn=ye[cr],vn=[],en=0;en<gn.length;en+=1){var ln=gn[en];vn[ln.id]=[];for(var Pn=0,Lr=La(ln.id,e.edges,"target").filter(function(Sn){return gn.map(function(Fn){return Fn.id}).indexOf(Sn)>-1});Pn<Lr.length;Pn++){var nn=Lr[Pn];nn===ln.id&&!(r===!1&&t.indexOf(ln.id)>-1)?d.push((pr={},pr[ln.id]=ln,pr)):vn[ln.id].push(T[nn])}}return{component:gn,adjList:vn,minIdx:fr}},Bt=0;Bt<J.length;){var zt=J.filter(function(De){return T[De.id]>=Bt}),Ht=X({nodes:zt,edges:e.edges}).filter(function(De){return De.length>1});if(Ht.length===0)break;var qt=Ct(Ht),ue=qt.minIdx,se=qt.adjList,Me=qt.component;if(Me.length>1){Me.forEach(function(De){u[De.id]=new Set});var ve=m[ue];if(t&&r&&t.indexOf(ve.id)===-1)return d;G(ve,ve,se),Bt=ue+1}else break}return d},Cr=function(e,t,r,n){return n===void 0&&(n=!0),t?Ar(e,r,n):_e(e,r,n)},Sr=$e,Zr=function(e,t,r){for(var n=Infinity,o,u=0;u<t.length;u++){var d=t[u].id;!r[d]&&e[d]<=n&&(n=e[d],o=t[u])}return o},fn=function(e,t,r,n){var o=e.nodes,u=o===void 0?[]:o,d=e.edges,m=d===void 0?[]:d,T=[],j={},G={},et={};u.forEach(function(Bt,zt){var Ht=Bt.id;T.push(Ht),G[Ht]=Infinity,Ht===t&&(G[Ht]=0)});for(var J=u.length,at=function(zt){var Ht=Zr(G,u,j),qt=Ht.id;if(j[qt]=!0,G[qt]===Infinity)return"continue";var ue=[];r?ue=ro(qt,m):ue=bo(qt,m),ue.forEach(function(se){var Me=se.target,ve=se.source,De=Me===qt?ve:Me,ye=n&&se[n]?se[n]:1;G[De]>G[Ht.id]+ye?(G[De]=G[Ht.id]+ye,et[De]=[Ht.id]):G[De]===G[Ht.id]+ye&&et[De].push(Ht.id)})},mt=0;mt<J;mt++)at(mt);et[t]=[t];var St={};for(var Dt in G)G[Dt]!==Infinity&&Dn(t,Dt,et,St);var Ct={};for(var Dt in St)Ct[Dt]=St[Dt][0];return{length:G,path:Ct,allPath:St}},Dr=fn;function Dn(l,e,t,r){if(l===e)return[l];if(r[e])return r[e];for(var n=[],o=0,u=t[e];o<u.length;o++){var d=u[o],m=Dn(l,d,t,r);if(!m)return;for(var T=0,j=m;T<j.length;T++){var G=j[T];Object(g.isArray)(G)?n.push(Object(oe.__spreadArray)(Object(oe.__spreadArray)([],G),[e])):n.push([G,e])}}return r[e]=n,r[e]}var bi=function(e,t,r,n,o){var u=Dr(e,t,n,o),d=u.length,m=u.path,T=u.allPath;return{length:d[r],path:m[r],allPath:T[r]}},Zn=function(e,t,r,n){var o;if(t===r)return[[t]];var u=e.edges,d=u===void 0?[]:u,m=[t],T=(o={},o[t]=!0,o),j=[],G=[],et=n?La(t,d,"target"):La(t,d);for(j.push(et);m.length>0&&j.length>0;){var J=j[j.length-1];if(J.length){var at=J.shift();at&&(m.push(at),T[at]=!0,et=n?La(at,d,"target"):La(at,d),j.push(et.filter(function(Dt){return!T[Dt]})))}else{var mt=m.pop();T[mt]=!1,j.pop();continue}if(m[m.length-1]===r){var St=m.map(function(Ct){return Ct});G.push(St);var mt=m.pop();T[mt]=!1,j.pop()}}return G},Qn=function(e,t){for(var r=Ao(e,t),n=[],o=r.length,u=0;u<o;u+=1){n[u]=[];for(var d=0;d<o;d+=1)u===d?n[u][d]=0:r[u][d]===0||!r[u][d]?n[u][d]=Infinity:n[u][d]=r[u][d]}for(var m=0;m<o;m+=1)for(var u=0;u<o;u+=1)for(var d=0;d<o;d+=1)n[u][d]>n[u][m]+n[m][d]&&(n[u][d]=n[u][m]+n[m][d]);return n},qn=Qn,ni=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e3);var o=e.nodes,u=o===void 0?[]:o,d=e.edges,m=d===void 0?[]:d,T={},j={};u.forEach(function(zt,Ht){var qt=zs();zt.clusterId=qt,T[qt]={id:qt,nodes:[zt]},j[zt.id]={node:zt,idx:Ht}});var G=Ao(e,t),et=[],J={};G.forEach(function(zt,Ht){var qt=0,ue=u[Ht].id;J[ue]={},zt.forEach(function(se,Me){if(!!se){qt+=se;var ve=u[Me].id;J[ue][ve]=se}}),et.push(qt)});for(var at=0,mt=function(){var Ht=!1;if(u.forEach(function(qt){var ue={};Object.keys(J[qt.id]).forEach(function(fr){var en=J[qt.id][fr],sn=j[fr].node,Yr=sn.clusterId;ue[Yr]||(ue[Yr]=0),ue[Yr]+=en});var se=-Infinity,Me=[];if(Object.keys(ue).forEach(function(fr){se<ue[fr]?(se=ue[fr],Me=[fr]):se===ue[fr]&&Me.push(fr)}),!(Me.length===1&&Me[0]===qt.clusterId)){var ve=Me.indexOf(qt.clusterId);if(ve>=0&&Me.splice(ve,1),Me&&Me.length){Ht=!0;var De=T[qt.clusterId],ye=De.nodes.indexOf(qt);De.nodes.splice(ye,1);var pr=Math.floor(Math.random()*Me.length),cr=T[Me[pr]];cr.nodes.push(qt),qt.clusterId=cr.id}}}),!Ht)return"break";at++};at<n;){var St=mt();if(St==="break")break}Object.keys(T).forEach(function(zt){var Ht=T[zt];(!Ht.nodes||!Ht.nodes.length)&&delete T[zt]});var Dt=[],Ct={};m.forEach(function(zt){var Ht=zt.source,qt=zt.target,ue=zt[r]||1,se=j[Ht].node.clusterId,Me=j[qt].node.clusterId,ve=se+"---"+Me;if(Ct[ve])Ct[ve].weight+=ue,Ct[ve].count++;else{var De={source:se,target:Me,weight:ue,count:1};Ct[ve]=De,Dt.push(De)}});var Bt=[];return Object.keys(T).forEach(function(zt){Bt.push(T[zt])}),{clusters:Bt,clusterEdges:Dt}},gi=ni,Xi=function(e,t,r,n){for(var o=t.length,u=2*n,d=0,m=0;m<o;m++)for(var T=e[m].clusterId,j=0;j<o;j++){var G=e[j].clusterId;if(T===G){var et=t[m][j]||0,J=r[m]||0,at=r[j]||0;d+=et-J*at/u}}return d*=1/u,d},ia=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e-4);var o=e.nodes,u=o===void 0?[]:o,d=e.edges,m=d===void 0?[]:d,T=1,j={},G={};u.forEach(function(se,Me){var ve=String(T++);se.clusterId=ve,j[ve]={id:ve,nodes:[se]},G[se.id]={node:se,idx:Me}});var et=Ao(e,t),J=[],at={},mt=0;et.forEach(function(se,Me){var ve=0,De=u[Me].id;at[De]={},se.forEach(function(ye,pr){if(!!ye){ve+=ye;var cr=u[pr].id;at[De][cr]=ye,mt+=ye}}),J.push(ve)}),mt/=2;for(var St=Infinity,Dt=Infinity,Ct=0;St=Xi(u,et,J,mt),!(Math.abs(St-Dt)<n||Ct>100);)Dt=St,Ct++,Object.keys(j).forEach(function(se){var Me=0;m.forEach(function(ve){var De=ve.source,ye=ve.target,pr=G[De].node.clusterId,cr=G[ye].node.clusterId;(pr===se&&cr!==se||cr===se&&pr!==se)&&(Me=Me+(ve[r]||1))}),j[se].sumTot=Me}),u.forEach(function(se,Me){var ve=j[se.clusterId],De=0,ye,pr=J[Me]/(2*mt),cr=0,fr=ve.nodes;fr.forEach(function(ln){var Pn=G[ln.id].idx;cr+=et[Me][Pn]||0});var en=cr-ve.sumTot*pr,sn=at[se.id];if(Object.keys(sn).forEach(function(ln){var Pn=G[ln].node,Lr=Pn.clusterId;if(Lr!==se.clusterId){var nn=j[Lr],jn=nn.nodes;if(!(!jn||!jn.length)){var Sn=0;jn.forEach(function(ui){var la=G[ui.id].idx;Sn+=et[Me][la]||0});var Fn=Sn-nn.sumTot*pr,Tn=Fn-en;Tn>De&&(De=Tn,ye=nn)}}}),De>0){ye.nodes.push(se);var Yr=se.clusterId;se.clusterId=ye.id;var rn=ve.nodes.indexOf(se);ve.nodes.splice(rn,1);var gn=0,vn=0;m.forEach(function(ln){var Pn=ln.source,Lr=ln.target,nn=G[Pn].node.clusterId,jn=G[Lr].node.clusterId;(nn===ye.id&&jn!==ye.id||jn===ye.id&&nn!==ye.id)&&(gn=gn+(ln[r]||1)),(nn===Yr&&jn!==Yr||jn===Yr&&nn!==Yr)&&(vn=vn+(ln[r]||1))}),ye.sumTot=gn,ve.sumTot=vn}});var Bt={},zt=0;Object.keys(j).forEach(function(se){var Me=j[se];if(!Me.nodes||!Me.nodes.length){delete j[se];return}var ve=String(zt+1);ve!==se&&(Me.id=ve,Me.nodes=Me.nodes.map(function(De){return{id:De.id,clusterId:ve}}),j[ve]=Me,Bt[se]=ve,delete j[se],zt++)}),u.forEach(function(se){se.clusterId&&Bt[se.clusterId]&&(se.clusterId=Bt[se.clusterId])});var Ht=[],qt={};m.forEach(function(se){var Me=se.source,ve=se.target,De=se[r]||1,ye=G[Me].node.clusterId,pr=G[ve].node.clusterId,cr=ye+"---"+pr;if(qt[cr])qt[cr].weight+=De,qt[cr].count++;else{var fr={source:ye,target:pr,weight:De,count:1};qt[cr]=fr,Ht.push(fr)}});var ue=[];return Object.keys(j).forEach(function(se){ue.push(j[se])}),{clusters:ue,clusterEdges:Ht}},Ii=ia,aa=function(){function l(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return l.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},l.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},l.prototype.connected=function(e,t){return this.find(e)===this.find(t)},l}(),Yi=aa,Hi=function(e,t){return e-t},yi=function(){function l(e){e===void 0&&(e=Hi),this.compareFn=e,this.list=[]}return l.prototype.getLeft=function(e){return 2*e+1},l.prototype.getRight=function(e){return 2*e+2},l.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},l.prototype.isEmpty=function(){return this.list.length<=0},l.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},l.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},l.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},l.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},l.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),o=this.getRight(e),u=this.list.length;n!==null&&n<u&&this.compareFn(this.list[r],this.list[n])>0?r=n:o!==null&&o<u&&this.compareFn(this.list[r],this.list[o])>0&&(r=o),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},l}(),te=yi,Ae=function(e,t){var r=[],n=e.nodes,o=n===void 0?[]:n,u=e.edges,d=u===void 0?[]:u;if(o.length===0)return r;var m=o[0],T=new Set;T.add(m);var j=function(St,Dt){return t?St.weight-Dt.weight:0},G=new te(j);for(bo(m.id,d).forEach(function(mt){G.insert(mt)});!G.isEmpty();){var et=G.delMin(),J=et.source,at=et.target;T.has(J)&&T.has(at)||(r.push(et),T.has(J)||(T.add(J),bo(J,d).forEach(function(mt){G.insert(mt)})),T.has(at)||(T.add(at),bo(at,d).forEach(function(mt){G.insert(mt)})))}return r},Ne=function(e,t){var r=[],n=e.nodes,o=n===void 0?[]:n,u=e.edges,d=u===void 0?[]:u;if(o.length===0)return r;var m=d.map(function(J){return J});t&&m.sort(function(J,at){return J.weight-at.weight});for(var T=new Yi(o.map(function(J){return J.id}));m.length>0;){var j=m.shift(),G=j.source,et=j.target;T.connected(G,et)||(r.push(j),T.union(G,et))}return r},er=function(e,t,r){var n={prim:Ae,kruskal:Ne};return r?n[r](e,t):Ne(e,t)},jr=er,Mn=function(e,t,r){typeof t!="number"&&(t=1e-6),typeof r!="number"&&(r=.85);for(var n=1,o=0,u=1e3,d=e.nodes,m=d===void 0?[]:d,T=e.edges,j=T===void 0?[]:T,G=m.length,et,J={},at={},mt=0;mt<G;++mt){var St=m[mt],Dt=St.id;J[Dt]=1/G,at[Dt]=1/G}for(var Ct=re(e);u>0&&n>t;){o=0;for(var mt=0;mt<G;++mt){var St=m[mt],Dt=St.id;if(et=0,Ct[St.id].inDegree===0)J[Dt]=0;else{for(var Bt=La(Dt,j,"source"),zt=0;zt<Bt.length;++zt){var Ht=Bt[zt],qt=Ct[Ht].outDegree;qt>0&&(et+=at[Ht]/qt)}J[Dt]=r*et,o+=J[Dt]}}o=(1-o)/G,n=0;for(var mt=0;mt<G;++mt){var St=m[mt],Dt=St.id;et=J[Dt]+o,n+=Math.abs(et-at[Dt]),at[Dt]=et}u-=1}return at},pi=Mn,qi=-1,Do=-1,Ho="-1",Ko="-1",Vs=-1,dh="-1",uc=function(){function l(e,t,r,n){e===void 0&&(e=qi),t===void 0&&(t=Do),r===void 0&&(r=Do),n===void 0&&(n=Ho),this.id=e,this.from=t,this.to=r,this.label=n}return l}(),zl=function(){function l(e,t){e===void 0&&(e=Do),t===void 0&&(t=Ko),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return l.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},l}(),cc=function(){function l(e,t,r){e===void 0&&(e=Do),t===void 0&&(t=!0),r===void 0&&(r=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=r}return l.prototype.getNodeNum=function(){return this.nodes.length},l.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var r=new zl(e,t);this.nodes.push(r),this.nodeMap[e]=r,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},l.prototype.addEdge=function(e,t,r,n){if((this.edgeIdAutoIncrease||e===void 0)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new uc(e,t,r,n);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(o),!this.directed){var u=new uc(e,r,t,n);this.nodeMap[r].addEdge(u),this.edgeLabelMap[n].push(u)}}},l}(),Oo=function(){function l(e,t,r,n,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:r||Ko,edgeLabel:n||Ho,nodeLabel2:o||Ko}}return l.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},l.prototype.notEqualTo=function(e){return!this.equalTo(e)},l}(),fc=function(){function l(){this.rmpath=[],this.dfsEdgeList=[]}return l.prototype.equalTo=function(e){var t=this.dfsEdgeList.length,r=e.length;if(t!==r)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},l.prototype.notEqualTo=function(e){return!this.equalTo(e)},l.prototype.pushBack=function(e,t,r,n,o){return this.dfsEdgeList.push(new Oo(e,t,r,n,o)),this.dfsEdgeList},l.prototype.toGraph=function(e,t){e===void 0&&(e=Vs),t===void 0&&(t=!1);var r=new cc(e,!0,t);return this.dfsEdgeList.forEach(function(n){var o=n.fromNode,u=n.toNode,d=n.nodeEdgeNodeLabel,m=d.nodeLabel1,T=d.edgeLabel,j=d.nodeLabel2;m!==Ko&&r.addNode(o,m),j!==Ko&&r.addNode(u,j),r.addEdge(void 0,o,u,T)}),r},l.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length,r=t-1;r>=0;r--){var n=this.dfsEdgeList[r],o=n.fromNode,u=n.toNode;o<u&&(e===void 0||u===e)&&(this.rmpath.push(r),e=o)}return this.rmpath},l.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},l}(),Vl=function(){function l(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return l.prototype.hasNode=function(e){return this.nodesUsed[e.id]===1},l.prototype.hasEdge=function(e){return this.edgesUsed[e.id]===1},l}(),bu=function(){function l(e){var t=e.graphs,r=e.minSupport,n=r===void 0?2:r,o=e.minNodeNum,u=o===void 0?1:o,d=e.maxNodeNum,m=d===void 0?4:d,T=e.top,j=T===void 0?10:T,G=e.directed,et=G===void 0?!1:G,J=e.verbose,at=J===void 0?!1:J;this.graphs=t,this.dfsCode=new fc,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=j,this.directed=et,this.counter=0,this.maxNodeNum=m,this.minNodeNum=u,this.verbose=at,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return l.prototype.findForwardRootEdges=function(e,t){var r=this,n=[],o=e.nodeMap;return t.edges.forEach(function(u){(r.directed||t.label<=o[u.to].label)&&n.push(u)}),n},l.prototype.findBackwardEdge=function(e,t,r,n){if(!this.directed&&t===r)return null;for(var o=e.nodeMap,u=o[r.to],d=u.edges,m=d.length,T=0;T<m;T++){var j=d[T];if(!(n.hasEdge(j)||j.to!==t.from)){if(this.directed){if(o[t.from].label<o[r.to].label||o[t.from].label===o[r.to].label&&t.label<=j.label)return j}else if(t.label<j.label||t.label===j.label&&o[t.to].label<=o[r.to].label)return j}}return null},l.prototype.findForwardPureEdges=function(e,t,r,n){for(var o=[],u=t.to,d=e.nodeMap[u].edges,m=d.length,T=0;T<m;T++){var j=d[T],G=e.nodeMap[j.to];r<=G.label&&!n.hasNode(G)&&o.push(j)}return o},l.prototype.findForwardRmpathEdges=function(e,t,r,n){for(var o=[],u=e.nodeMap,d=u[t.to].label,m=u[t.from],T=m.edges,j=T.length,G=0;G<j;G++){var et=T[G],J=u[et.to].label;t.to===et.to||r>J||n.hasNode(u[et.to])||(t.label<et.label||t.label===et.label&&d<=J)&&o.push(et)}return o},l.prototype.getSupport=function(e){var t={};return e.forEach(function(r){t[r.graphId]||(t[r.graphId]=!0)}),Object.keys(t).length},l.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(r){var n=e[r],o=n.nodeLabel1,u=n.edgeLabel,d=n.nodeLabel2;if(!t){t={nodeLabel1:o,edgeLabel:u,nodeLabel2:d};return}(o<t.nodeLabel1||o===t.nodeLabel1&&u<t.edgeLabel||o===t.nodeLabel1&&u===t.edgeLabel&&d<t.nodeLabel2)&&(t={nodeLabel1:o,edgeLabel:u,nodeLabel2:d})}),t},l.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var r=this.directed,n=t.toGraph(Vs,r),o=n.nodeMap,u=new fc,d={};n.nodes.forEach(function(G){var et=e.findForwardRootEdges(n,G);et.forEach(function(J){var at=o[J.to],mt=G.label+"-"+J.label+"-"+at.label;d[mt]||(d[mt]={projected:[],nodeLabel1:G.label,edgeLabel:J.label,nodeLabel2:at.label});var St={graphId:n.id,edge:J,preNode:null};d[mt].projected.push(St)})});var m=this.findMinLabel(d);u.dfsEdgeList.push(new Oo(0,1,m.nodeLabel1,m.edgeLabel,m.nodeLabel2));var T=function G(et){for(var J=u.buildRmpath(),at=u.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,mt=u.dfsEdgeList[J[0]].toNode,St={},Dt=!1,Ct=0,Bt=r?-1:0,zt=function(sn){if(Dt)return"break";et.forEach(function(Yr){var rn=new Vl(Yr),gn=e.findBackwardEdge(n,rn.edges[J[sn]],rn.edges[J[0]],rn);gn&&(St[gn.label]||(St[gn.label]={projected:[],edgeLabel:gn.label}),St[gn.label].projected.push({graphId:n.id,edge:St,preNode:Yr}),Ct=u.dfsEdgeList[J[sn]].fromNode,Dt=!0)})},Ht=J.length-1;Ht>Bt;Ht--){var qt=zt(Ht);if(qt==="break")break}if(Dt){var ue=e.findMinLabel(St);u.dfsEdgeList.push(new Oo(mt,Ct,Ko,ue.edgeLabel,Ko));var se=u.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[se]!==u.dfsEdgeList[se]?!1:G(St[ue.edgeLabel].projected)}var Me={};Dt=!1;var ve=0;et.forEach(function(en){var sn=new Vl(en),Yr=e.findForwardPureEdges(n,sn.edges[J[0]],at,sn);Yr.length>0&&(Dt=!0,ve=mt,Yr.forEach(function(rn){var gn=rn.label+"-"+o[rn.to].label;Me[gn]||(Me[gn]={projected:[],edgeLabel:rn.label,nodeLabel2:o[rn.to].label}),Me[gn].projected.push({graphId:n.id,edge:rn,preNode:en})}))});for(var De=J.length,ye=function(sn){if(Dt)return"break";var Yr=J[sn];et.forEach(function(rn){var gn=new Vl(rn),vn=e.findForwardRmpathEdges(n,gn.edges[Yr],at,gn);vn.length>0&&(Dt=!0,ve=u.dfsEdgeList[Yr].fromNode,vn.forEach(function(ln){var Pn=ln.label+"-"+o[ln.to].label;Me[Pn]||(Me[Pn]={projected:[],edgeLabel:ln.label,nodeLabel2:o[ln.to].label}),Me[Pn].projected.push({graphId:n.id,edge:ln,preNode:rn})}))})},Ht=0;Ht<De;Ht++){var pr=ye(Ht);if(pr==="break")break}if(!Dt)return!0;var cr=e.findMinLabel(Me);u.dfsEdgeList.push(new Oo(ve,mt+1,Ko,cr.edgeLabel,cr.nodeLabel2));var fr=u.dfsEdgeList.length-1;return t.dfsEdgeList[fr]!==u.dfsEdgeList[fr]?!1:G(Me[cr.edgeLabel+"-"+cr.nodeLabel2].projected)},j=m.nodeLabel1+"-"+m.edgeLabel+"-"+m.nodeLabel2;return T(d[j].projected)},l.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Object(g.clone)(e))}},l.prototype.subGraphMining=function(e){var t=this,r=this.getSupport(e);if(!(r<this.minSupport)&&!!this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),o=this.dfsCode.buildRmpath(),u=this.dfsCode.dfsEdgeList[o[0]].toNode,d=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,m={},T={};e.forEach(function(j){for(var G=t.graphs[j.graphId],et=G.nodeMap,J=new Vl(j),at=o.length-1;at>=0;at--){var mt=t.findBackwardEdge(G,J.edges[o[at]],J.edges[o[0]],J);if(mt){var St=t.dfsCode.dfsEdgeList[o[at]].fromNode+"-"+mt.label;T[St]||(T[St]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[o[at]].fromNode,edgeLabel:mt.label}),T[St].projected.push({graphId:j.graphId,edge:mt,preNode:j})}}if(!(n>=t.maxNodeNum)){var Dt=t.findForwardPureEdges(G,J.edges[o[0]],d,J);Dt.forEach(function(Bt){var zt=u+"-"+Bt.label+"-"+et[Bt.to].label;m[zt]||(m[zt]={projected:[],fromNodeId:u,edgeLabel:Bt.label,nodeLabel2:et[Bt.to].label}),m[zt].projected.push({graphId:j.graphId,edge:Bt,preNode:j})});for(var Ct=function(zt){var Ht=t.findForwardRmpathEdges(G,J.edges[o[zt]],d,J);Ht.forEach(function(qt){var ue=t.dfsCode.dfsEdgeList[o[zt]].fromNode+"-"+qt.label+"-"+et[qt.to].label;m[ue]||(m[ue]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[o[zt]].fromNode,edgeLabel:qt.label,nodeLabel2:et[qt.to].label}),m[ue].projected.push({graphId:j.graphId,edge:qt,preNode:j})})},at=0;at<o.length;at++)Ct(at)}}),Object.keys(T).forEach(function(j){var G=T[j],et=G.toNodeId,J=G.edgeLabel;t.dfsCode.dfsEdgeList.push(new Oo(u,et,"-1",J,"-1")),t.subGraphMining(T[j].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(m).forEach(function(j){var G=m[j],et=G.fromNodeId,J=G.edgeLabel,at=G.nodeLabel2;t.dfsCode.dfsEdgeList.push(new Oo(et,u+1,Ko,J,at)),t.subGraphMining(m[j].projected),t.dfsCode.dfsEdgeList.pop()})}},l.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,r=this.minSupport,n=this.frequentSize1Subgraphs,o={},u={},d={},m={};return Object.keys(e).forEach(function(T){var j=e[T],G=j.nodeMap;j.nodes.forEach(function(et,J){var at=et.label,mt=T+"-"+at;if(!d[mt]){var St=o[at]||0;St++,o[at]=St}d[mt]={graphKey:T,label:at},et.edges.forEach(function(Dt){var Ct=at,Bt=G[Dt.to].label;if(!t&&Ct>Bt){var zt=Bt;Bt=Ct,Ct=zt}var Ht=Dt.label,qt=T+"-"+Ct+"-"+Ht+"-"+Bt,ue=Ct+"-"+Ht+"-"+Bt;if(!u[ue]){var se=u[ue]||0;se++,u[ue]=se}m[qt]={graphId:T,nodeLabel1:Ct,edgeLabel:Ht,nodeLabel2:Bt}})})}),Object.keys(o).forEach(function(T){var j=o[T];if(!(j<r)){var G={nodes:[],edges:[]};G.nodes.push({id:"0",label:T}),n.push(G)}}),n},l.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,r=this.directed,n={};Object.keys(t).forEach(function(o){var u=t[o],d=u.nodeMap;u.nodes.forEach(function(m){var T=e.findForwardRootEdges(u,m);T.forEach(function(j){var G=d[j.to],et=m.label+"-"+j.label+"-"+G.label;n[et]||(n[et]={projected:[],nodeLabel1:m.label,edgeLabel:j.label,nodeLabel2:G.label});var J={graphId:o,edge:j,preNode:null};n[et].projected.push(J)})})}),Object.keys(n).forEach(function(o){var u=n[o],d=u.projected,m=u.nodeLabel1,T=u.edgeLabel,j=u.nodeLabel2;e.dfsCode.dfsEdgeList.push(new Oo(0,1,m,T,j)),e.subGraphMining(d),e.dfsCode.dfsEdgeList.pop()})}},l}(),vh=function(e,t,r,n){var o={};return Object.keys(e).forEach(function(u,d){var m=e[u],T=new cc(d,!0,t),j={};m.nodes.forEach(function(G,et){T.addNode(et,G[r]),j[G.id]=et}),m.edges.forEach(function(G,et){var J=j[G.source],at=j[G.target];T.addEdge(-1,J,at,G[n])}),T&&T.getNodeNum()&&(o[T.id]=T)}),o},gh=function(e,t,r){var n=[];return e.forEach(function(o){var u={nodes:[],edges:[]};o.nodes.forEach(function(d){var m;u.nodes.push((m={id:""+d.id},m[t]=d.label,m))}),o.edges.forEach(function(d){var m;u.edges.push((m={source:""+d.from,target:""+d.to},m[r]=d.label,m))}),n.push(u)}),n},hc="cluster",cs=function(e){var t=e.graphs,r=e.directed,n=r===void 0?!1:r,o=e.nodeLabelProp,u=o===void 0?hc:o,d=e.edgeLabelProp,m=d===void 0?hc:d,T=vh(t,n,u,m),j=e.minSupport,G=e.maxNodeNum,et=e.minNodeNum,J=e.verbose,at=e.top,mt={graphs:T,minSupport:j,maxNodeNum:G,minNodeNum:et,top:at,verbose:J,directed:n},St=new bu(mt);St.run();var Dt=gh(St.frequentSubgraphs,u,m);return Dt},df=cs;function Ou(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(t){return typeof t}:Ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(l)}var vf=function(e,t,r,n){r===void 0&&(r="cluster"),n===void 0&&(n=2);var o=[],u=e.nodes;return t.forEach(function(d,m){o.push(Qo(u,d,m,r,n))}),o},Qo=function(e,t,r,n,o){var u=[r],d=[],m={};return t.forEach(function(T,j){if(T<=o&&r!==j){u.push(j),d.push(e[j]);var G=e[j][n];m[G]?(m[G].count++,m[G].dists.push(T)):m[G]={count:1,dists:[T]}}}),Object.keys(m).forEach(function(T){m[T].dists=m[T].dists.sort(function(j,G){return j-G})}),{nodeIdx:r,nodeId:e[r].id,nodeIdxs:u,neighbors:d,neighborNum:u.length-1,nodeLabelCountMap:m}},gf=function(e,t,r,n,o){var u=Math.ceil(r/t),d={},m=0;return n.forEach(function(T,j){for(var G=0,et=0,J=T.nodeIdxs,at=T.neighborNum-1;G<u;){for(var mt=J[1+Math.floor(Math.random()*at)],St=0;(d[j+"-"+mt]||d[mt+"-"+j])&&(mt=Math.floor(Math.random()*t),St++,!(St>2*t)););if(St<2*t&&(d[j+"-"+mt]={start:j,end:mt,distance:o[j][mt]},G++,m++,m>=r))return d;if(et++,et>2*t)break}if(G<u){var Dt=u-G;u=(u+Dt)/(t-j-1)}}),d},kl=function(e,t,r,n){var o=r.nodes;return n||(n={}),Object.keys(e).forEach(function(u){var d,m;if(!(n&&n[u])){n[u]={nodes:[],edges:[]};var T=e[u],j=(d=t[T.start])===null||d===void 0?void 0:d.nodeIdxs,G=(m=t[T.end])===null||m===void 0?void 0:m.nodeIdxs;if(!(!j||!G)){var et=new Set(G),J=j.filter(function(Ct){return et.has(Ct)});if(!(!J||!J.length)){for(var at={},mt=J.length,St=0;St<mt;St++){var Dt=o[J[St]];n[u].nodes.push(Dt),at[Dt.id]=!0}r.edges.forEach(function(Ct){at[Ct.source]&&at[Ct.target]&&n[u].edges.push(Ct)})}}}}),n},ks=function(e,t,r,n){var o={};e.nodes.forEach(function(d){o[d.id]=d});var u=0;return e.edges.forEach(function(d){var m=o[d.source][r],T=o[d.target][r],j=t.nodes[0][r],G=t.nodes[1][r],et=t.edges[0][n];d[n]===et&&(m===j&&T===G||m===G&&T===j)&&u++}),u},ph=function(e,t,r){for(var n=Infinity,o=0,u=function(T){var j=e[T],G=Object.keys(j).sort(function(Ct,Bt){return j[Ct]-j[Bt]}),et=10,J=[];G.forEach(function(Ct,Bt){J[Bt%et]||(J[Bt%et]={graphs:[],totalCount:0,aveCount:0}),J[Bt%et].graphs.push(Ct),J[Bt%et].totalCount+=j[Ct]});var at=0,mt=[];J.forEach(function(Ct){var Bt=Ct.totalCount/Ct.graphs.length;Ct.aveCount=Bt,mt.push(Bt);var zt=0,Ht=Ct.length;Ct.graphs.forEach(function(qt,ue){var se=j[qt];Ct.graphs.forEach(function(Me,ve){ue!==ve&&(zt+=Math.abs(se-j[Me]))})}),zt/=Ht*(Ht-1)/2,at+=zt}),at/=J.length;var St=0;mt.forEach(function(Ct,Bt){mt.forEach(function(zt,Ht){Bt!==Ht&&(St+=Math.abs(Ct-zt))}),St/=mt.length*(mt.length-1)/2});var Dt=St-at;n<Dt&&(n=Dt,o=T)},d=0;d<t;d++)u(d);return{structure:r[o],structureCountMap:e[o]}},dc=function(e,t){var r={},n={};return e.forEach(function(o,u){r[o.id]={idx:u,node:o,degree:0};var d=o[t];n[d]||(n[d]=[]),n[d].push(o)}),{nodeMap:r,nodeLabelMap:n}},Bo=function(e,t,r){var n={},o={};return e.forEach(function(u,d){n[""+zs]={idx:d,edge:u};var m=u[t];o[m]||(o[m]=[]),o[m].push(u);var T=r[u.source];T&&T.degree++;var j=r[u.target];j&&j.degree++}),{edgeMap:n,edgeLabelMap:o}},Xs=function(e,t,r){var n=t.length,o={};return t.forEach(function(u,d){for(var m=r?0:d+1,T=e[d].id,j=m;j<n;j++)if(d!==j){var G=e[j].id,et=u[j];o[T+"-"+G]=et,r||(o[G+"-"+T]=et)}}),o},Ed=function(e,t,r,n,o,u,d,m,T,j,G){var et,J=t.id+"-"+r.id;if(j&&j[J])return j[J];var at=G?G[J]:void 0;if(!at){var mt=(et={},et[J]={start:n[t.id].idx,end:n[r.id].idx,distance:o},et);G=kl(mt,u,e,G),at=G[J]}return ks(at,d,m,T)},yh=function(e,t,r,n,o,u,d){if(r===void 0&&(r=!1),u===void 0&&(u="cluster"),d===void 0&&(d="cluster"),!(!e||!e.nodes)){var m=e.nodes.length;if(!!m){var T=qn(e,r),j=qn(t,r),G=Xs(e.nodes,T,r),et=Xs(t.nodes,j,r),J=dc(e.nodes,u),at=J.nodeMap,mt=J.nodeLabelMap,St=dc(t.nodes,u),Dt=St.nodeMap,Ct=St.nodeLabelMap;Bo(e.edges,d,at);var Bt=Bo(t.edges,d,Dt).edgeLabelMap;o||(o=Math.max.apply(Math,Object(oe.__spreadArray)(Object(oe.__spreadArray)([],j[0]),[2]))),n||(n=o);var zt=vf(e,T,u,n),Ht=vf(t,j,u,n),qt=Math.min(100,m*(m-1)/2),ue=gf(n,m,qt,Ht,T),se=kl(ue,zt,e),Me=10,ve=1,De=1,ye=4,pr={graphs:se,nodeLabelProp:u,edgeLabelProp:d,minSupport:ve,minNodeNum:De,maxNodeNum:ye,directed:r},cr=df(pr).slice(0,Me),fr=cr.length,en=[];cr.forEach(function(ea,ya){en[ya]={},Object.keys(se).forEach(function(ua){var Wi=se[ua],xa=ks(Wi,ea,u,d);en[ya][ua]=xa})});var sn=ph(en,fr,cr),Yr=sn.structure,rn=sn.structureCountMap,gn=t.nodes[0],vn=gn[u],ln=mt[vn],Pn={},Lr={},nn={},jn={},Sn={};Object.keys(Ct).forEach(function(ea,ya){Sn[ea]=[];var ua=-Infinity,Wi=Ct[ea],xa={};Wi.forEach(function(Qi){var Ci=et[gn.id+"-"+Qi.id];Ci&&Sn[ea].push(Ci),ua<Ci&&(ua=Ci),xa[gn.id+"-"+Qi.id]={start:0,end:Dt[Qi.id].idx,distance:Ci}}),Sn[ea]=Sn[ea].sort(function(Qi,Ci){return Qi-Ci}),Lr=kl(xa,Ht,t,Lr);var Mi=[];if(Object.keys(xa).forEach(function(Qi){if(nn[Qi]){Mi.push(nn[Qi]);return}var Ci=Lr[Qi];nn[Qi]=ks(Ci,Yr,u,d),Mi.push(nn[Qi])}),Mi=Mi.sort(function(Qi,Ci){return Ci-Qi}),jn[gn.id+"-"+ea]=Mi,ea!==vn)for(var Ea=ln.length,ra=function(Ci){var ma=ln[Ci],Gn=zt[at[ma.id].idx],va=Gn.nodeLabelCountMap[ea],gu=Ct[ea].length;if(!va||va.count<gu)return ln.splice(Ci,1),"continue";for(var jo=!1,ns=0;ns<gu;ns++)if(va.dists[ns]>Sn[ea][ns]){jo=!0;break}if(jo)return ln.splice(Ci,1),"continue";var gs={};Gn.neighbors.forEach(function(vo){var ko=G[ma.id+"-"+vo.id];gs[ma.id+"-"+vo.id]={start:at[ma.id].idx,end:at[vo.id].idx,distance:ko}}),se=kl(gs,zt,e,se);var ao=[];Object.keys(gs).forEach(function(vo){if(rn[vo]){ao.push(rn[vo]);return}var ko=se[vo];rn[vo]=ks(ko,Yr,u,d),ao.push(rn[vo])}),ao=ao.sort(function(vo,ko){return ko-vo});for(var is=!1,ns=0;ns<gu;ns++)if(ao[ns]<Mi[ns]){is=!0;break}if(is)return ln.splice(Ci,1),"continue"},Ro=Ea-1;Ro>=0;Ro--)ra(Ro)});var Fn=[];ln.forEach(function(ea){for(var ya=at[ea.id].idx,ua=Qo(e.nodes,T[ya],ya,u,o),Wi=ua.neighbors,xa=Wi.length,Mi=!1,Ea=function(Ci){if(Wi.length+1<t.nodes.length)return Mi=!0,{value:void 0};var ma=Wi[Ci],Gn=ma[u];if(!Ct[Gn]||!Ct[Gn].length)return Wi.splice(Ci,1),"continue";var va=ea.id+"-"+ma.id;if(!Sn[Gn]||!Sn[Gn].length)return Wi.splice(Ci,1),"continue";var gu=G[va],jo=Sn[Gn][Sn[Gn].length-1];if(gu>jo)return Wi.splice(Ci,1),"continue";var ns=rn[va]?rn[va]:Ed(e,ea,ma,at,gu,zt,Yr,u,d,rn,se),gs=gn.id+"-"+Gn,ao=jn[gs][jn[gs].length-1];if(ns<ao)return Wi.splice(Ci,1),"continue";var is=Pn[Gn];if(is===void 0&&(is=Infinity,Ct[Gn].forEach(function(vo){var ko=Dt[vo.id].degree;is>ko&&(is=ko)}),Pn[Gn]=is),at[ma.id].degree<is)return Wi.splice(Ci,1),"continue"},ra=xa-1;ra>=0;ra--){var Ro=Ea(ra);if(Ou(Ro)==="object")return Ro.value}Mi||Fn.push({nodes:[ea].concat(Wi)})});var Tn=Dr(t,gn.id,!1).length,ui={};r?(Object.keys(Tn).forEach(function(ea){var ya=Dt[ea].node[u];ui[ya]?ui[ya].push(Tn[ea]):ui[ya]=[Tn[ea]]}),Object.keys(ui).forEach(function(ea){ui[ea].sort(function(ya,ua){return ya-ua})})):ui=Sn;for(var la=Fn.length,xi=function(ya){var ua=Fn[ya],Wi=ua.nodes[0],xa={},Mi={};ua.nodes.forEach(function(Pa,go){Mi[Pa.id]={idx:go,node:Pa,degree:0};var Mo=Pa[u];xa[Mo]?xa[Mo]++:xa[Mo]=1});var Ea=[],ra={};e.edges.forEach(function(Pa){Mi[Pa.source]&&Mi[Pa.target]&&(Ea.push(Pa),ra[Pa[d]]?ra[Pa[d]]++:ra[Pa[d]]=1,Mi[Pa.source].degree++,Mi[Pa.target].degree++)});for(var Ro=Object.keys(Bt).length,Qi=!1,Ci=0;Ci<Ro;Ci++){var ma=Object.keys(Bt)[Ci];if(!ra[ma]||ra[ma]<Bt[ma].length){Qi=!0;break}}if(Qi)return Fn.splice(ya,1),"continue";var Gn=Ea.length;if(Gn<t.edges.length)return Fn.splice(ya,1),"break";for(var va=!1,gu=function(go){var Mo=Ea[go],as=Mo[d],yu=Bt[as];if(!yu||!yu.length)return ra[as]--,yu&&ra[as]<yu.length?(va=!0,"break"):(Ea.splice(go,1),Mi[Mo.source].degree--,Mi[Mo.target].degree--,"continue");var ch=Mi[Mo.source].node[u],md=Mi[Mo.target].node[u],Dv=!1;if(yu.forEach(function(mu){var fh=Dt[mu.source].node,cf=Dt[mu.target].node;fh[u]===ch&&cf[u]===md&&(Dv=!0),!r&&fh[u]===md&&cf[u]===ch&&(Dv=!0)}),!Dv)return ra[as]--,yu&&ra[as]<yu.length?(va=!0,"break"):(Ea.splice(go,1),Mi[Mo.source].degree--,Mi[Mo.target].degree--,"continue")},Ci=Gn-1;Ci>=0;Ci--){var jo=gu(Ci);if(jo==="break")break}if(va)return Fn.splice(ya,1),"continue";ua.edges=Ea;var ns=Dr(ua,ua.nodes[0].id,!1).length;if(Object.keys(ns).reverse().forEach(function(Pa){if(!(Pa===ua.nodes[0].id||va)){if(ns[Pa]===Infinity){var go=Mi[Pa].node[u];if(xa[go]--,xa[go]<Ct[go].length){va=!0;return}var Mo=ua.nodes.indexOf(Mi[Pa].node);ua.nodes.splice(Mo,1),Mi[Pa]=void 0;return}var as=at[Pa].node[u];if(!ui[as]||!ui[as].length||ns[Pa]>ui[as][ui[as].length-1]){var go=Mi[Pa].node[u];if(xa[go]--,xa[go]<Ct[go].length){va=!0;return}var Mo=ua.nodes.indexOf(Mi[Pa].node);ua.nodes.splice(Mo,1),Mi[Pa]=void 0}}}),va)return Fn.splice(ya,1),"continue";for(var gs=!0,ao=0;gs&&!va;){if(gs=!1,Mi[Wi.id].degree<Dt[gn.id].degree){va=!0;break}if(xa[Wi[u]]<Ct[Wi[u]].length){va=!0;break}for(var is=ua.nodes.length,vo=is-1;vo>=0;vo--){var ko=ua.nodes[vo],pu=Mi[ko.id].degree,Tv=ko[u];if(pu<Pn[Tv]){if(xa[ko[u]]--,xa[ko[u]]<Ct[ko[u]].length){va=!0;break}ua.nodes.splice(vo,1),Mi[ko.id]=void 0,gs=!0}}if(va||!gs&&ao!==0)break;Gn=Ea.length;for(var ps=Gn-1;ps>=0;ps--){var rl=Ea[ps];if(!Mi[rl.source]||!Mi[rl.target]){Ea.splice(ps,1);var uf=rl[d];if(ra[uf]--,Mi[rl.source]&&Mi[rl.source].degree--,Mi[rl.target]&&Mi[rl.target].degree--,Bt[uf]&&ra[uf]<Bt[uf].length){va=!0;break}gs=!0}}ao++}if(va||va||ua.nodes.length<t.nodes.length||Ea.length<t.edges.length)return Fn.splice(ya,1),"continue"},to=la-1;to>=0;to--){var ka=xi(to);if(ka==="break")break}for(var So=Fn.length,el=function(ya){var ua=Fn[ya],Wi={};ua.edges.forEach(function(Ea){var ra=Ea.source+"-"+Ea.target+"-"+Ea.label;Wi[ra]?Wi[ra]++:Wi[ra]=1});for(var xa=function(ra){var Ro=Fn[ra],Qi={};Ro.edges.forEach(function(ma){var Gn=ma.source+"-"+ma.target+"-"+ma.label;Qi[Gn]?Qi[Gn]++:Qi[Gn]=1});var Ci=!0;Object.keys(Qi).length!==Object.keys(Wi).length?Ci=!1:Object.keys(Wi).forEach(function(ma){Qi[ma]!==Wi[ma]&&(Ci=!1)}),Ci&&Fn.splice(ra,1)},Mi=So-1;Mi>ya;Mi--)xa(Mi);So=Fn.length},to=0;to<=So-1;to++)el(to);return Fn}}},mh=yh,vc=function(){function l(e){e===void 0&&(e=10),this.linkedList=new eo,this.maxStep=e}return Object.defineProperty(l.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),l.prototype.isEmpty=function(){return!this.linkedList.head},l.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},l.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},l.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},l.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},l.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},l.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},l}(),Ys=vc,gc=Sr,pc={getAdjMatrix:Ao,breadthFirstSearch:Ml,connectedComponent:Et,getDegree:re,getInDegree:fe,getOutDegree:be,detectCycle:Sr,detectDirectedCycle:gc,detectAllCycles:Cr,detectAllDirectedCycle:Ar,detectAllUndirectedCycle:_e,depthFirstSearch:Fe,dijkstra:Dr,findAllPath:Zn,findShortestPath:bi,floydWarshall:qn,labelPropagation:gi,louvain:Ii,minimumSpanningTree:jr,pageRank:pi,getNeighbors:La,Stack:Ys,GADDI:mh},xu=ci.a.transform,Eu=function(e){return function(t,r){return t[e]-r[e]}},pf=function(e,t,r){return e>=t&&e<=r},al=function(e,t,r,n){var o=1e-4,u={x:r.x-e.x,y:r.y-e.y},d={x:t.x-e.x,y:t.y-e.y},m={x:n.x-r.x,y:n.y-r.y},T=d.x*m.y-d.y*m.x,j=T*T,G=1/T,et=d.x*d.x+d.y*d.y,J=m.x*m.x+m.y*m.y;if(j>o*et*J){var at=(u.x*m.y-u.y*m.x)*G,mt=(u.x*d.y-u.y*d.x)*G;return!pf(at,0,1)||!pf(mt,0,1)?null:{x:e.x+at*d.x,y:e.y+at*d.y}}return null},yf=function(e,t){var r=e.x,n=e.y,o=e.width,u=e.height,d=r+o/2,m=n+u/2,T=[],j={x:d,y:m};T.push({x:r,y:n}),T.push({x:r+o,y:n}),T.push({x:r+o,y:n+u}),T.push({x:r,y:n+u}),T.push({x:r,y:n});for(var G=null,et=1;et<T.length&&(G=al(T[et-1],T[et],j,t),!G);et++);return G},Xl=function(e,t){var r=e.x,n=e.y,o=e.r,u=t.x,d=t.y,m=u-r,T=d-n,j=Math.sqrt(m*m+T*T);if(j<o)return null;var G=Math.sign(m),et=Math.sign(T),J=Math.atan(T/m);return{x:r+Math.abs(o*Math.cos(J))*G,y:n+Math.abs(o*Math.sin(J))*et}},mf=function(e,t){var r=e.rx,n=e.ry,o=e.x,u=e.y,d=t.x-o,m=t.y-u,T=Math.atan2(m/n,d/r);return T<0&&(T+=2*Math.PI),{x:o+r*Math.cos(T),y:u+n*Math.sin(T)}},uo=function(e,t,r){r===void 0&&(r=1);var n=[e.x,e.y,r];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),ci.d.transformMat3(n,n,t),{x:n[0],y:n[1]}},bh=function(e,t,r){r===void 0&&(r=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ci.b.invert([1,0,0,0,1,0,0,0,1],t);n||(n=[1,0,0,0,1,0,0,0,1]);var o=[e.x,e.y,r];return ci.d.transformMat3(o,o,n),{x:o[0],y:o[1]}},bf=function(e,t,r){var n=e.x-t.x,o=e.y-t.y,u=e.x-r.x,d=e.y-r.y,m=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,T=(e.x*e.x-r.x*r.x-r.y*r.y+e.y*e.y)/2,j=o*u-n*d;return{x:-(d*m-o*T)/j,y:-(n*T-u*m)/j}},Yl=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},Ps=function(e,t){var r=[];return e.forEach(function(n){var o=[];n.forEach(function(u){o.push(u*t)}),r.push(o)}),r},Ki=function(e){for(var t=[],r=e.length,n=0;n<r;n+=1){t[n]=[];for(var o=0;o<r;o+=1)n===o?t[n][o]=0:e[n][o]===0||!e[n][o]?t[n][o]=Infinity:t[n][o]=e[n][o]}for(var u=0;u<r;u+=1)for(var n=0;n<r;n+=1)for(var o=0;o<r;o+=1)t[n][o]>t[n][u]+t[u][o]&&(t[n][o]=t[n][u]+t[u][o]);return t},Of=function(e,t){var r=e.nodes,n=e.edges,o=[],u={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(d,m){u[d.id]=m;var T=[];o.push(T)}),n&&n.forEach(function(d){var m=d.source,T=d.target,j=u[m],G=u[T];o[j][G]=1,t||(o[G][j]=1)}),o},Su=function(e,t){e.translate(t.x,t.y)},_o=function(e,t,r,n){n===void 0&&(n={duration:500});var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]);var u=e.getCanvasBBox(),d=t.x-u.minX,m=t.y-u.minY;if(r){var T=d*o[0],j=m*o[4],G=0,et=0,J=0,at=0;e.animate(function(St){return J=T*St,at=j*St,o=xu(o,[["t",J-G,at-et]]),G=J,et=at,{matrix:o}},n)}else{var mt=xu(o,[["t",d,m]]);e.setMatrix(mt)}},Is=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=t;Object(g.isArray)(t)||(n=[t,t]),Object(g.isArray)(t)&&t.length===1&&(n=[t[0],t[0]]),r=xu(r,[["s",n[0],n[1]]]),e.setMatrix(r)},Oh=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),r=xu(r,[["r",t]]),e.setMatrix(r)},xh=function(e,t,r){for(var n=[],o=0;o<e;o++)n[o]=0;return r.forEach(function(u){u.source&&(n[t[u.source]]+=1),u.target&&(n[t[u.target]]+=1)}),n};function Ls(l,e,t){return(t[0]-l[0])*(e[1]-l[1])==(e[0]-l[0])*(t[1]-l[1])&&Math.min(l[0],e[0])<=t[0]&&t[0]<=Math.max(l[0],e[0])&&Math.min(l[1],e[1])<=t[1]&&t[1]<=Math.max(l[1],e[1])}var Hs=function(e,t,r){var n=!1,o=e.length,u=1e-6;function d(G){return Math.abs(G)<u?0:G<0?-1:1}if(o<=2)return!1;for(var m=0;m<o;m++){var T=e[m],j=e[(m+1)%o];if(Ls(T,j,[t,r]))return!0;d(T[1]-r)>0!=d(j[1]-r)>0&&d(t-(r-T[1])*(T[0]-j[0])/(T[1]-j[1])-T[0])<0&&(n=!n)}return n},Cl=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},Eh=function(e,t){var r=!1;return Object(g.each)(e,function(n){if(al(n.from,n.to,t.from,t.to))return r=!0,!1}),r},yc=function(e,t){var r=function(et){var J=et.map(function(mt){return mt[0]}),at=et.map(function(mt){return mt[1]});return{minX:Math.min.apply(null,J),maxX:Math.max.apply(null,J),minY:Math.min.apply(null,at),maxY:Math.max.apply(null,at)}},n=function(et){for(var J=[],at=et.length,mt=0;mt<at-1;mt++){var St=et[mt],Dt=et[mt+1];J.push({from:{x:St[0],y:St[1]},to:{x:Dt[0],y:Dt[1]}})}if(J.length>1){var Ct=et[0],Bt=et[at-1];J.push({from:{x:Bt[0],y:Bt[1]},to:{x:Ct[0],y:Ct[1]}})}return J};if(e.length<2||t.length<2)return!1;var o=r(e),u=r(t);if(!Cl(o,u))return!1;var d=!1;if(Object(g.each)(t,function(G){if(Hs(e,G[0],G[1]))return d=!0,!1}),d||(Object(g.each)(e,function(G){if(Hs(t,G[0],G[1]))return d=!0,!1}),d))return!0;var m=n(e),T=n(t),j=!1;return Object(g.each)(T,function(G){if(Eh(m,G))return j=!0,!1}),j},xs=function(){function l(e,t,r,n){this.x1=e,this.y1=t,this.x2=r,this.y2=n}return l.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),o={x:e,y:t,minX:e,minY:t,maxX:r,maxY:n,width:r-e,height:n-t};return o},l}(),$a=function(e,t){var r={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return r[t]},Ks=function(e,t){var r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),o=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(o){var u=r/o,d=n/o;if(u>=0&&u<=1&&d>=0&&d<=1)return u}return Number.POSITIVE_INFINITY},Mu=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),o=0,u=[],d=0;d<4;d++){var m=$a(n,r[d]),T=m[0],j=m[1],G=m[2],et=m[3];u[d]=al({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:T,y:j},{x:G,y:et}),u[d]&&(o+=1)}return[u,o]},_s=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),o=Number.POSITIVE_INFINITY,u=0,d=0;d<4;d++){var m=$a(n,r[d]),T=m[0],j=m[1],G=m[2],et=m[3],J=Ks(t,new xs(T,j,G,et));J=Math.abs(J-.5),J>=0&&J<=1&&(u+=1,o=J<o?J:o)}return u===0?-1:o},xf=function(e){var t=0,r=0;if(e.length>0){for(var n=0,o=e;n<o.length;n++){var u=o[n];t+=u.x,r+=u.y}t/=e.length,r/=e.length}return{x:t,y:r}},Hl=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},Sh=function(e,t){var r=t.x1,n=t.y1,o=t.x2-r,u=t.y2-n,d=e.x-r,m=e.y-n,T=d*o+m*u,j;T<=0?j=0:(d=o-d,m=u-m,T=d*o+m*u,T<=0?j=0:j=T*T/(o*o+u*u));var G=d*d+m*m-j;return G<0&&(G=0),G},Ef=function(e,t,r){return r===void 0&&(r=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(r,2)},Sf=function(e,t){var r=e.x<t.x,n=e.x>t.x+t.width,o=e.y>t.y+t.height,u=e.y<t.y,d=r||n||o||u;if(!d)return 0;if(o&&!r&&!n)return Math.pow(t.y+t.height-e.y,2);if(u&&!r&&!n)return Math.pow(e.y-t.y,2);if(r&&!o&&!u)return Math.pow(t.x-e.x,2);if(n&&!o&&!u)return Math.pow(t.x+t.width-e.x,2);var m=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),T=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return m*m+T*T},Sd=function(e,t){var r=e[0],n=e[1],o=e[2],u=e[3],d=t.x,m=t.y,T=[o-r,u-n];if(ci.c.exactEquals(T,[0,0]))return NaN;var j=[-T[1],T[0]];ci.c.normalize(j,j);var G=[d-r,m-n];return Math.abs(ci.c.dot(G,j))},Jo="rgb(95, 149, 255)",Md="rgb(255, 255, 255)",Mf="rgb(0, 0, 0)",Rs="rgb(247, 250, 255)",Cf="rgb(239, 244, 255)",mc="rgb(253, 253, 253)",Cu="rgb(250, 250, 250)",Au="rgb(224, 224, 224)",Es="rgb(234, 234, 234)",Tu="rgb(245, 245, 245)",Mh="rgb(191, 213, 255)",bc="#4572d9",Ch="rgb(223, 234, 255)",ji={mainStroke:Jo,mainFill:Cf,activeStroke:Jo,activeFill:Rs,inactiveStroke:Mh,inactiveFill:Rs,selectedStroke:Jo,selectedFill:Md,highlightStroke:bc,highlightFill:Ch,disableStroke:Au,disableFill:Cu,edgeMainStroke:Au,edgeActiveStroke:Jo,edgeInactiveStroke:Es,edgeSelectedStroke:Jo,edgeHighlightStroke:Jo,edgeDisableStroke:Tu,comboMainStroke:Au,comboMainFill:mc,comboActiveStroke:Jo,comboActiveFill:Rs,comboInactiveStroke:Au,comboInactiveFill:mc,comboSelectedStroke:Jo,comboSelectedFill:mc,comboHighlightStroke:bc,comboHighlightFill:mc,comboDisableStroke:Es,comboDisableFill:Cu},zn={version:"0.3.4",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ji.mainStroke,fill:Cf},size:20,color:ji.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ji.activeFill,stroke:ji.activeStroke}},nodeStateStyles:{active:{fill:ji.activeFill,stroke:ji.activeStroke,lineWidth:2,shadowColor:ji.mainStroke,shadowBlur:10},selected:{fill:ji.selectedFill,stroke:ji.selectedStroke,lineWidth:4,shadowColor:ji.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ji.highlightFill,stroke:ji.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ji.inactiveFill,stroke:ji.inactiveStroke,lineWidth:1},disable:{fill:ji.disableFill,stroke:ji.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Mf,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ji.edgeMainStroke,lineAppendWidth:2},color:ji.edgeMainStroke},edgeStateStyles:{active:{stroke:ji.edgeActiveStroke,lineWidth:1},selected:{stroke:ji.edgeSelectedStroke,lineWidth:2,shadowColor:ji.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ji.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ji.edgeInactiveStroke,lineWidth:1},disable:{stroke:ji.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Mf,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ji.comboMainFill,lineWidth:1,stroke:ji.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ji.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ji.comboActiveStroke,lineWidth:1,fill:ji.comboActiveFill},selected:{stroke:ji.comboSelectedStroke,lineWidth:2,fill:ji.comboSelectedFill,shadowColor:ji.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ji.comboHighlightStroke,lineWidth:2,fill:ji.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ji.comboInactiveStroke,fill:ji.comboInactiveFill,lineWidth:1},disable:{stroke:ji.comboDisableStroke,fill:ji.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},_i={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Ya=Math.PI,Oc=Math.sin,xc=Math.cos,da=Oc(Ya/8),no=xc(Ya/8),Du=function(e,t){var r=e.getBBox(),n={x:r.minX,y:r.minY},o={x:r.maxX,y:r.maxY};if(t){var u=t.getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),n=uo(n,u),o=uo(o,u)}var d=n.x,m=n.y,T=o.x,j=o.y;return{x:d,y:m,minX:d,minY:m,maxX:T,maxY:j,width:T-d,height:j-m}},js=function(e){var t=e.sourceNode||e.targetNode,r=t.get("group"),n=r.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var o=t.getKeyShape(),u=o.getBBox(),d=e.loopCfg||{},m=d.dist||Math.max(u.width,u.height)*2,T=d.position||zn.defaultLoopPosition,j=[n[6],n[7]],G=[e.startPoint.x,e.startPoint.y],et=[e.endPoint.x,e.endPoint.y],J=u.height/2,at=u.height/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no;if(G[0]===et[0]&&G[1]===et[1]){switch(T){case"top":G=[j[0]-mt,j[1]-St],et=[j[0]+Dt,j[1]-Ct];break;case"top-right":J=u.height/2,at=u.width/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]+mt,j[1]-St],et=[j[0]+Ct,j[1]-Dt];break;case"right":J=u.width/2,at=u.width/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]+St,j[1]-mt],et=[j[0]+Ct,j[1]+Dt];break;case"bottom-right":J=u.width/2,at=u.height/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]+St,j[1]+mt],et=[j[0]+Dt,j[1]+Ct];break;case"bottom":J=u.height/2,at=u.height/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]+mt,j[1]+St],et=[j[0]-Dt,j[1]+Ct];break;case"bottom-left":J=u.height/2,at=u.width/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]-mt,j[1]+St],et=[j[0]-Ct,j[1]+Dt];break;case"left":J=u.width/2,at=u.width/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]-St,j[1]+mt],et=[j[0]-Ct,j[1]-Dt];break;case"top-left":J=u.width/2,at=u.height/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]-St,j[1]-mt],et=[j[0]-Dt,j[1]-Ct];break;default:J=u.width/2,at=u.width/2,mt=J*da,St=J*no,Dt=at*da,Ct=at*no,G=[j[0]-mt,j[1]-St],et=[j[0]+Dt,j[1]-Ct]}if(d.clockwise===!1){var Bt=[G[0],G[1]];G=[et[0],et[1]],et=[Bt[0],Bt[1]]}}var zt=[G[0]-j[0],G[1]-j[1]],Ht=(J+m)/J,qt=(at+m)/at;d.clockwise===!1&&(Ht=(at+m)/at,qt=(J+m)/J);var ue=ci.c.scale([0,0],zt,Ht),se=[j[0]+ue[0],j[1]+ue[1]],Me=[et[0]-j[0],et[1]-j[1]],ve=ci.c.scale([0,0],Me,qt),De=[j[0]+ve[0],j[1]+ve[1]];return e.startPoint={x:G[0],y:G[1]},e.endPoint={x:et[0],y:et[1]},e.controlPoints=[{x:se[0],y:se[1]},{x:De[0],y:De[1]}],e},ol=function(e,t,r,n,o){var u=1e-4,d=[],m=e.getPoint(t);if(m===null)return{x:0,y:0,angle:0};if(t<u)d=e.getStartTangent().reverse();else if(t>1-u)d=e.getEndTangent();else{var T=e.getPoint(t+u);d.push([m.x,m.y]),d.push([T.x,T.y])}var j=Math.atan2(d[1][1]-d[0][1],d[1][0]-d[0][0]);if(j<0&&(j+=Ya*2),r&&(m.x+=xc(j)*r,m.y+=Oc(j)*r),n){var G=j-Ya/2;j>1/2*Ya&&j<3*1/2*Ya&&(G-=Ya),m.x+=xc(G)*n,m.y+=Oc(G)*n}var et={x:m.x,y:m.y,angle:j};return o?(j>1/2*Ya&&j<3*1/2*Ya&&(j-=Ya),Object(oe.__assign)({rotate:j},et)):et},Zs=function l(e,t){if(t(e)===!1)return!1;if(e&&e.children){for(var r=e.children.length-1;r>=0;r--)if(!l(e.children[r],t))return!1}return!0},Kl=function l(e,t){if(e&&e.children){for(var r=e.children.length-1;r>=0;r--)if(!l(e.children[r],t))return}return t(e)!==!1},No=function(e,t){typeof t=="function"&&Zs(e,t)},ws=function(e,t){typeof t=="function"&&Kl(e,t)},Aa=function(e,t){return t*(_i[e]||1)},Ec=function(e,t){var r=0,n=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(o){n.test(o)?r+=t:r+=Aa(o,t)}),[r,t]},_l=function(e,t){var r=[],n={},o={};e.forEach(function(m){o[m.id]=m}),e.forEach(function(m,T){var j=Object(g.clone)(m);j.itemType="combo",j.children=void 0,j.parentId===j.id?(console.warn("The parentId for combo "+j.id+" can not be the same as the combo's id"),delete j.parentId):j.parentId&&!o[j.parentId]&&(console.warn("The parent combo for combo "+j.id+" does not exist!"),delete j.parentId);var G=n[j.id];if(G){if(j.children=G.children,n[j.id]=j,G=j,!G.parentId){r.push(G);return}var et=n[G.parentId];if(et)et.children?et.children.push(j):et.children=[j];else{var J={id:G.parentId,children:[G]};n[G.parentId]=J,n[j.id]=j}return}if(Object(g.isString)(m.parentId)){var at=n[m.parentId];if(at)at.children?at.children.push(j):at.children=[j],n[j.id]=j;else{var mt={id:m.parentId,children:[j]};n[mt.id]=mt,n[j.id]=j}}else r.push(j),n[j.id]=j});var u={};(t||[]).forEach(function(m){u[m.id]=m;var T=n[m.comboId];if(T){var j={id:m.id,comboId:m.comboId};T.children?T.children.push(j):T.children=[j],j.itemType="node",n[m.id]=j}});var d=0;return r.forEach(function(m){m.depth=d+10,Zs(m,function(T){var j,G=n[T.id].itemType;G==="node"?j=n[T.comboId]:j=n[T.parentId],j&&G==="node"?T.depth=d+1:T.depth=d+10,d<T.depth&&(d=T.depth);var et=u[T.id];return et&&(et.depth=T.depth),!0})}),r},Af=function(e,t,r){var n=e,o,u={root:{children:e}},d=!1,m="root";(e||[]).forEach(function(J){if(!d){if(J.id===t){o=J,J.itemType==="combo"?o.parentId=r:o.comboId=r,d=!0;return}No(J,function(at){return u[at.id]={children:at.children},n=u[at.parentId||at.comboId||"root"].children,at&&(at.removed||t===at.id)&&n?(m=at.parentId||at.comboId||"root",o=at,at.itemType==="combo"?o.parentId=r:o.comboId=r,d=!0,!1):!0})}}),n=u[m].children;var T=n?n.indexOf(o):-1;if(T>-1&&n.splice(T,1),d||(o={id:t,itemType:"node",comboId:r},u[t]={children:void 0}),t){var j=!1;if(r){var G=0;(e||[]).forEach(function(J){j||No(J,function(at){return r===at.id?(j=!0,at.children?at.children.push(o):at.children=[o],G=at.depth,o.itemType==="node"?o.depth=G+2:o.depth=G+1,!1):!0})})}else(!r||!j)&&o.itemType!=="node"&&e.push(o);var et=o.depth;No(o,function(J){return J.itemType==="node"?et+=2:et+=1,J.depth=et,!0})}return e},Zl=function(e,t){var r={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!e||e.length===0||(e.forEach(function(n){var o=t.findById(n.id);if(!(!o||!o.isVisible())){o.set("bboxCanvasCache",void 0);var u=o.getCanvasBBox();u.x&&r.minX>u.minX&&(r.minX=u.minX),u.y&&r.minY>u.minY&&(r.minY=u.minY),u.x&&r.maxX<u.maxX&&(r.maxX=u.maxX),u.y&&r.maxY<u.maxY&&(r.maxY=u.maxY)}}),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach(function(n){(r[n]===Infinity||r[n]===-Infinity)&&(r[n]=void 0)})),r},Ah=function(e){var t=Object(g.isNumber)(e.x)||Object(g.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||Object(g.isNumber)(e.style.r)||Object(g.isNumber)(e.style.width)||Object(g.isNumber)(e.style.height)||Object(g.isNumber)(e.style.rx)||Object(g.isNumber)(e.style.ry)),t},$l=function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(Object(g.isObject)(n)){var o={};Object.keys(n).forEach(function(u){var d=n[u];u==="img"&&!Object(g.isString)(d)||(o[u]=Object(g.clone)(d))}),t[r]=o}else t[r]=Object(g.clone)(n)}),t},Th=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,r=e.edges,n=e.combos,o=n===void 0?[]:n;if(!t&&!r){var u=!0;return No(e,function(et){return Object(g.isString)(et.id)?!0:(u=!1,!1)}),u}var d=(t||[]).find(function(et){return!Object(g.isString)(et.id)});if(d)return console.warn("G6 Warning Tips: missing 'id' property, or %c"+d.id+"%c is not a string.","font-size: 20px; color: red;",""),!1;var m=(t||[]).map(function(et){return et.id}),T=o.map(function(et){return et.id}),j=Object(oe.__spreadArray)(Object(oe.__spreadArray)([],m),T),G=(r||[]).find(function(et){return!j.includes(et.source)||!j.includes(et.target)});return G?(console.warn("G6 Warning Tips: The source %c"+G.source+"%c or the target %c"+G.target+"%c of the edge do not exist in the nodes or combos.","font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},Cd=function(e,t){if(e==="node"||e==="combo"){if(t.id&&!Object(g.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c"+t.id+"%c is not a string.","font-size: 20px; color: red;",""),!1}else if(e==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},Ad=function(){function l(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return l.prototype.formatModes=function(){var e=this.modes;Object(g.each)(e,function(t){Object(g.each)(t,function(r,n){Object(g.isString)(r)&&(t[n]={type:r})})})},l.prototype.setBehaviors=function(e){var t=this.graph,r=this.modes[e],n=[],o;Object(g.each)(r||[],function(u){var d=ha.getBehavior(u.type||u);!d||(o=new d(u),o&&(o.bind(t),n.push(o)))}),this.currentBehaves=n},l.mergeBehaviors=function(e,t){return Object(g.each)(t,function(r){e.indexOf(r)<0&&(Object(g.isString)(r)&&(r={type:r}),e.push(r))}),e},l.filterBehaviors=function(e,t){var r=[];return e.forEach(function(n){var o="";Object(g.isString)(n)?o=n:o=n.type,t.indexOf(o)<0&&r.push(n)}),r},l.prototype.setMode=function(e){var t=this,r=t.modes,n=t.graph,o=e,u=r[o];!u||(n.emit("beforemodechange",{mode:e}),Object(g.each)(this.currentBehaves,function(d){d.delegate&&d.delegate.remove(),d.unbind(n)}),this.setBehaviors(o),n.emit("aftermodechange",{mode:e}),this.mode=e)},l.prototype.getMode=function(){return this.mode},l.prototype.manipulateBehaviors=function(e,t,r){var n=this,o;if(Object(g.isArray)(e)?o=e:o=[e],Object(g.isArray)(t))return Object(g.each)(t,function(d){n.modes[d]?r?n.modes[d]=l.mergeBehaviors(n.modes[d]||[],o):n.modes[d]=l.filterBehaviors(n.modes[d]||[],o):r&&(n.modes[d]=o)}),this;var u=t;return t||(u=this.mode),this.modes[u]||r&&(this.modes[u]=o),r?this.modes[u]=l.mergeBehaviors(this.modes[u]||[],o):this.modes[u]=l.filterBehaviors(this.modes[u]||[],o),this.setMode(this.mode),this},l.prototype.updateBehavior=function(e,t,r){Object(g.isString)(e)&&(e={type:e});var n=[];if(!r||r===this.mode||r==="default"){if(n=this.currentBehaves,!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=n.length,u=0;u<o;u++){var d=n[u];if(d.type===e.type)return d.updateCfg(t),this;u===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(n=this.modes[r],!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var m=n.length,u=0;u<m;u++){var d=n[u];if(d.type===e.type||d===e.type)return d===e.type&&(d={type:d}),Object.assign(d,t),n[u]=d,this;u===m-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},l.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},l}(),Td=Ad,Dh=i("U8wd"),Tf=function(l){Object(oe.__extends)(e,l);function e(t,r){var n=l.call(this,t,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return e}(Dh.Event),Df=function(e){return e+"-"+Math.random()+Date.now()},sl=function(e){var t=0,r=0,n=0,o=0;if(Object(g.isNumber)(e))t=r=n=o=e;else if(Object(g.isString)(e)){var u=parseInt(e,10);t=r=n=o=u}else Object(g.isArray)(e)&&(t=e[0],n=Object(g.isNil)(e[1])?e[0]:e[1],o=Object(g.isNil)(e[2])?e[0]:e[2],r=Object(g.isNil)(e[3])?n:e[3]);return[t,n,o,r]},Pu=function(e){var t=new Tf(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},Dd=function(e){if(!e)return!1;for(var t=9,r=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(e[n]!==r[n])return!0;return!1},Pf=function(e){return Number.isNaN(Number(e))},Ph=function(e){for(var t=Infinity,r=-Infinity,n=Infinity,o=-Infinity,u=0;u<e.length;u++){var d=e[u],m=d.getBBox(),T=m.minX,j=m.minY,G=m.maxX,et=m.maxY;T<t&&(t=T),j<n&&(n=j),G>r&&(r=G),et>o&&(o=et)}var J=Math.floor(t),at=Math.floor(n),mt=Math.ceil(r)-Math.floor(t),St=Math.ceil(o)-Math.floor(n);return{x:J,y:at,width:mt,height:St,minX:t,minY:n,maxX:r,maxY:o}},Pd=function(e,t,r,n,o){t===void 0&&(t=15),r===void 0&&(r="quadratic"),n===void 0&&(n=void 0),o===void 0&&(o=void 0);for(var u=e.length,d=t*2,m=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],T={},j=[],G={},et=0;et<u;et++){var J=e[et],at=J.source,mt=J.target,St=at+"-"+mt;if(!j[et]){T[St]||(T[St]=[]),j[et]=!0,T[St].push(J);for(var Dt=0;Dt<u;Dt++)if(et!==Dt){var Ct=e[Dt],Bt=Ct.source,zt=Ct.target;j[Dt]||(at===zt&&mt===Bt?(T[St].push(Ct),j[Dt]=!0,G[Bt+"|"+zt+"|"+(T[St].length-1)]=!0):at===Bt&&mt===zt&&(T[St].push(Ct),j[Dt]=!0))}}}for(var Ht in T)for(var qt=T[Ht],ue=qt.length,se=0;se<ue;se++){var Me=qt[se];if(Me.source===Me.target){o&&(Me.type=o),Me.loopCfg={position:m[se%8],dist:Math.floor(se/8)*20+50};continue}if(ue===1&&n&&Me.source!==Me.target){Me.type=n;continue}Me.type=r;var ve=(se%2==0?1:-1)*(G[Me.source+"|"+Me.target+"|"+se]?-1:1);ue%2==1?Me.curveOffset=ve*Math.ceil(se/2)*d:Me.curveOffset=ve*(Math.floor(se/2)*d+t)}return e},Id=function(){function l(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return l.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,r=this.graph.get("width"),n=t.get("height");return{x:(r-e[1]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}},l.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var r=t.getCanvasBBox();if(!(r.width===0||r.height===0)){var n=this.getViewCenter(),o={x:r.x+r.width/2,y:r.y+r.height/2};e.translate(n.x-o.x,n.y-o.y)}},l.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),r=e.get("width"),n=e.get("height"),o=e.get("group");o.resetMatrix();var u=o.getCanvasBBox();if(!(u.width===0||u.height===0)){var d=this.getViewCenter(),m={x:u.x+u.width/2,y:u.y+u.height/2};e.translate(d.x-m.x,d.y-m.y);var T=(r-t[1]-t[3])/u.width,j=(n-t[0]-t[2])/u.height,G=T;T>j&&(G=j),e.zoom(G,d)}},l.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return sl(e)},l.prototype.focusPoint=function(e,t,r){var n=this,o=this.getViewCenter(),u=this.getPointByCanvas(o.x,o.y),d=this.graph.get("group").getMatrix();if(d||(d=[1,0,0,0,1,0,0,0,1]),t){var m=(u.x-e.x)*d[0],T=(u.y-e.y)*d[4],j=0,G=0,et=0,J=0;this.graph.get("canvas").animate(function(at){et=m*at,J=T*at,n.graph.translate(et-j,J-G),j=et,G=J},Object(oe.__assign)({},r))}else this.graph.translate((u.x-e.x)*d[0],(u.y-e.y)*d[4])},l.prototype.getPointByCanvas=function(e,t){var r=this.graph.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=bh({x:e,y:t},r);return n},l.prototype.getPointByClient=function(e,t){var r=this.graph.get("canvas"),n=r.getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},l.prototype.getClientByPoint=function(e,t){var r=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),o=r.getClientByPoint(n.x,n.y);return{x:o.x,y:o.y}},l.prototype.getCanvasByPoint=function(e,t){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),uo({x:e,y:t},r)},l.prototype.focus=function(e,t,r){if(Object(g.isString)(e)&&(e=this.graph.findById(e)),e){var n=0,o=0;if(e.getType&&e.getType()==="edge"){var u=e.getSource().get("group").getMatrix(),d=e.getTarget().get("group").getMatrix();u&&d?(n=(u[6]+d[6])/2,o=(u[7]+d[7])/2):(u||d)&&(n=u?u[6]:d[6],o=u?u[7]:d[7])}else{var m=e.get("group"),T=m.getMatrix();T||(T=[1,0,0,0,1,0,0,0,1]),n=T[6],o=T[7]}this.focusPoint({x:n,y:o},t,r)}},l.prototype.changeSize=function(e,t){var r=this.graph;if(!Object(g.isNumber)(e)||!Object(g.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");r.set({width:e,height:t});var n=r.get("canvas");n.changeSize(e,t);var o=r.get("plugins");o.forEach(function(u){u.get("gridContainer")&&u.positionInit()})},l.prototype.destroy=function(){this.graph=null,this.destroyed=!1},l}(),Ld=Id;function Sc(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sc=function(t){return typeof t}:Sc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(l)}function Ih(l){if(typeof l!="string")return l;var e=function(ue){if(typeof ue!="string")return ue;try{return JSON.parse(ue.trim())}catch(se){return ue.trim()}},t=e(l);if(typeof t!="string")return t;for(var r=function(ue){return ue[ue.length-1]},n=l.trim(),o=[],u=[],d=function(){for(var ue=[],se=0;se<arguments.length;se++)ue[se]=arguments[se];return ue.some(function(Me){return r(u)===Me})},m=function(){return r(o)},T=null,j=0,G="";j<n.length;){var et=n[j],J=d('"',"'");if(!J&&!et.trim()){j+=1;continue}var at=n[j-1]==="\\",mt=d("}"),St=d("]"),Dt=d(","),Ct=m();if(J)if(r(u)===et&&!at){u.pop();var Bt=e(G);Ct.push(Bt),T=Bt,G=""}else G+=et;else if(St&&et===",")G&&(Ct.push(e(G)),G="");else if(mt&&et===":")u.push(","),G&&(Ct.push(G),G="");else if(Dt&&et===",")G&&(Ct.push(e(G)),G=""),u.pop();else if(et==="}"&&(mt||Dt)){G&&(Ct.push(e(G)),G=""),Dt&&u.pop();for(var zt={},Ht=1;Ht<Ct.length;Ht+=2)zt[Ct[Ht-1]]=Ct[Ht];o.pop(),o.length&&r(o).push(zt),u.pop(),T=zt}else et==="]"&&St?(G&&(Ct.push(e(G)),G=""),o.pop(),o.length&&r(o).push(Ct),u.pop(),T=Ct):et==="{"?(o.push([]),u.push("}")):et==="["?(o.push([]),u.push("]")):et==='"'?u.push('"'):et==="'"?u.push("'"):G+=et;j+=1}return T||G}var Rd=function(e){return e.split("-").reduce(function(t,r){return t+r.charAt(0).toUpperCase()+r.slice(1)})},jd=function(e){return function(t){for(var r=e.length,n=[],o=0,u="";o<r;)if(e[o]==="{"&&e[o+1]==="{")n.push(u),u="",o+=2;else if(e[o]==="}"&&e[o+1]==="}"){if(n.length){var d=n.pop();u=Object(g.get)(t,u,d.endsWith("=")?'"{'+u+'}"':u),n.push(d+u)}o+=2,u=""}else u+=e[o],o+=1;return n.push(u),n.map(function(m,T){return n[T-1]&&n[T-1].endsWith("=")?'"{'+m+'}"':m}).join("")}};function Mc(l,e){var t={},r=l.getAttributeNames&&l.getAttributeNames()||[],n=l.children&&Array.from(l.children).map(function(d){return Mc(d,e)}),o={},u=l.tagName?l.tagName.toLowerCase():"group";return u==="text"&&(t.text=l.innerText),o.type=u,u==="img"&&(o.type="image"),Array.from(r).forEach(function(d){var m=Rd(d),T=l.getAttribute(d);try{if(m==="style"||m==="attrs"){var j=Ih(T);t=Object(oe.__assign)(Object(oe.__assign)({},t),j)}else o[m]=Ih(T)}catch(G){if(m==="style")throw G;o[m]=T}}),o.attrs=t,e&&e.style&&o.name&&Sc(e.style[o.name])==="object"&&(o.attrs=Object(oe.__assign)(Object(oe.__assign)({},o.attrs),e.style[o.name])),e&&e.style&&o.keyshape&&(o.attrs=Object(oe.__assign)(Object(oe.__assign)({},o.attrs),e.style)),n.length&&(o.children=n),o}function ll(l,e,t){var r=l.attrs,n=r===void 0?{}:r,o={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},u,d;switch(l.type){case"maker":case"circle":n.r&&(d=2*n.r,u=2*n.r);break;case"text":n.text&&(d=Ec(n.text,n.fontSize||12)[0],u=16,o.y+=u,o.height=u,o.width=d,l.attrs=Object(oe.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(d=n.width),n.height&&(u=n.height)}return u>=0&&(o.height=u),d>=0&&(o.width=d),n.marginTop&&(o.y+=n.marginTop),n.marginLeft&&(o.x+=n.marginLeft),o}function Ql(l,e){var t;e===void 0&&(e={x:0,y:0});var r=Object(oe.__assign)({x:0,y:0,width:0,height:0},e);if((t=l.children)===null||t===void 0?void 0:t.length){var n=l.attrs,o=n===void 0?{}:n,u=o.marginTop,d=Object(oe.__assign)({},e);u&&(d.y+=u);for(var m=0;m<l.children.length;m++){l.children[m].attrs.key=(o.key||"root")+" -"+m+" ";var T=Ql(l.children[m],d);if(T.bbox){var j=T.bbox;T.attrs.next==="inline"?d.x+=T.bbox.width:d.y+=T.bbox.height,j.width+j.x>r.width&&(r.width=j.width+j.x),j.height+j.y>r.height&&(r.height=j.height+j.y)}}}return l.bbox=ll(l,e,r),l.attrs=Object(oe.__assign)(Object(oe.__assign)({},l.attrs),l.bbox),l}function If(l,e){var t,r,n,o,u=(l||{}).type,d=((e==null?void 0:e.attrs)||{}).key;if(d&&l&&(l.attrs.key=d),!l&&e)return{action:"delete",val:e,type:u,key:d};if(l&&!e)return{action:"add",val:l,type:u};if(!l&&!e)return{action:"same",type:u};var m=[];if(((t=l.children)===null||t===void 0?void 0:t.length)>0||((r=e.children)===null||r===void 0?void 0:r.length)>0)for(var T=Math.max((n=l.children)===null||n===void 0?void 0:n.length,(o=e.children)===null||o===void 0?void 0:o.length),j=e.children||[],G=l.children||[],et=0;et<T;et+=1)m.push(If(G[et],j[et]));var J=Object.keys(e.attrs),at=Object.keys(l.attrs);return e.type!==l.type?{action:"restructure",nowTarget:l,formerTarget:e,key:d,children:m}:J.filter(function(mt){return mt!=="children"}).some(function(mt){return l.attrs[mt]!==e.attrs[mt]||!at.includes(mt)})?{action:"change",val:l,children:m,type:u,key:d}:{action:"same",children:m,type:u,key:d}}function Lf(l){var e={},t=function(n){var o=typeof l=="function"?l(n):l,u=jd(o)(n),d=document.createElement("div");d.innerHTML=u;var m=d.children[0],T=Ql(Mc(m,n));return d.remove(),T};return{draw:function(n,o){var u=t(n),d=o,m=function T(j){var G=j.attrs,et=G===void 0?{}:G,J=j.bbox,at=j.type,mt=j.children,St=Object(oe.__rest)(j,["attrs","bbox","type","children"]);if(j.type!=="group"){var Dt=o.addShape(j.type,Object(oe.__assign)({attrs:et,origin:{bbox:J,type:at,children:mt}},St));j.keyshape&&(d=Dt)}j.children&&j.children.forEach(function(Ct){return T(Ct)})};return m(u),e[n.id]=[u],d},update:function(n,o){e[n.id]||(e[n.id]=[]);var u=o.getContainer(),d=u.get("children"),m=t(n),T=e[n.id].pop(),j=If(m,T),G=function at(mt){var St;mt.type!=="group"&&u.addShape(mt.type,{attrs:mt.attrs}),((St=mt.children)===null||St===void 0?void 0:St.length)&&mt.children.map(function(Dt){return at(Dt)})},et=function at(mt){var St,Dt=d.find(function(Ct){return Ct.attrs.key===mt.attrs.key});Dt&&u.removeChild(Dt),((St=mt.children)===null||St===void 0?void 0:St.length)&&mt.children.map(function(Ct){return at(Ct)})},J=function at(mt){var St=mt.key;if(mt.type!=="group"){var Dt=d.find(function(Bt){return Bt.attrs.key===St});switch(mt.action){case"change":if(Dt){var Ct=mt.val.keyshape?o.getOriginStyle():{};Dt.attr(Object(oe.__assign)(Object(oe.__assign)({},Ct),mt.val.attrs))}break;case"add":G(mt.val);break;case"delete":et(mt.val);break;case"restructure":et(mt.formerTarget),G(mt.nowTarget);break;default:break}}mt.children&&mt.children.forEach(function(Bt){return at(Bt)})};J(j),e[n.id].push(m)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Jl={};function Lh(l){return Jl[l]||(Jl[l]=Object(g.upperFirst)(l)),Jl[l]}var Rh={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,r=t[e]||t[t.defaultShapeType]||t["simple-circle"];return r},draw:function(e,t,r){var n=this.getShape(e),o=n.draw(t,r);return n.afterDraw&&n.afterDraw(t,r,o),o},baseUpdate:function(e,t,r){var n=this.getShape(e);n.update&&n.update(t,r),n.afterUpdate&&n.afterUpdate(t,r)},setState:function(e,t,r,n){var o=this.getShape(e);o.setState(t,r,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var r=this.getShape(e);return r.getControlPoints(t)},getAnchorPoints:function(e,t){var r=this.getShape(e);return r.getAnchorPoints(t)}},jh={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,r=e.anchorPoints||t;return r}},Cc=function(){function l(){}return l.registerFactory=function(e,t){var r=Lh(e),n=Rh,o=Object(oe.__assign)(Object(oe.__assign)({},n),t);return l[r]=o,o.className=r,o},l.getFactory=function(e){var t=Lh(e);return l[t]},l.registerNode=function(e,t,r){var n=l.Node,o;if(typeof t=="string"||typeof t=="function"){var u=Lf(t);o=Object(oe.__assign)(Object(oe.__assign)({},n.getShape("single-node")),u)}else if(t.jsx){var d=t.jsx,u=Lf(d);o=Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)({},n.getShape("single-node")),u),t)}else{n.getShape(r);var m=r?n.getShape(r):jh;o=Object(oe.__assign)(Object(oe.__assign)({},m),t)}return o.type=e,o.itemType="node",n[e]=o,o},l.registerEdge=function(e,t,r){var n=l.Edge,o=r?n.getShape(r):jh,u=Object(oe.__assign)(Object(oe.__assign)({},o),t);return u.type=e,u.itemType="edge",n[e]=u,u},l.registerCombo=function(e,t,r){var n=l.Combo,o=r?n.getShape(r):jh,u=Object(oe.__assign)(Object(oe.__assign)({},o),t);return u.type=e,u.itemType="combo",n[e]=u,u},l}(),co=Cc;Cc.registerFactory("node",{defaultShapeType:"circle"}),Cc.registerFactory("edge",{defaultShapeType:"line"}),Cc.registerFactory("combo",{defaultShapeType:"circle"});var Iu="bboxCache",Rf="bboxCanvasCache",Ac=["startArrow","endArrow"],wd=function(){function l(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var r=this.get("model"),n=r.id,o=this.get("type");n||(n=Df(o),this.get("model").id=n),this.set("id",n);var u=e.group;u&&(u.set("item",this),u.set("id",n)),this.init(),this.draw();var d=r.shape||r.type||(o==="edge"?"line":"circle"),m=this.get("shapeFactory");if(m&&m[d]){var T=m[d].options;if(T&&T.stateStyles){var j=this.get("styles")||r.stateStyles;j=Object(g.deepMix)({},T.stateStyles,j),this.set("styles",j)}}}return l.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Du(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},l.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Du(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},l.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),r=e.get("group"),n=e.get("model");r.clear();var o=n.visible;if(o!==void 0&&!o&&e.changeVisibility(o),!!t){e.updatePosition(n);var u=e.getShapeCfg(n),d=u.type,m=t.draw(d,u,r);m&&(e.set("keyShape",m),m.set("isKeyShape",!0),m.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",d),this.restoreStates(t,d)}},l.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),r=this.getKeyShape(),n=this,o=r.get("name");if(this.get("originStyle")){var d=this.getOriginStyle();o&&!d[o]&&(d[o]={});var m=this.getCurrentStatesStyle();Object(g.each)(t,function(T){var j=T.get("name"),G=T.attr();if(j&&j!==o){var et=m[j];d[j]||(d[j]={}),et?Object.keys(G).forEach(function(mt){var St=G[mt];St!==et[mt]&&(d[j][mt]=St)}):d[j]=T.get("type")!=="image"?Object(g.clone)(G):n.getShapeStyleByName(j)}else{var J=T.attr(),at=Object(oe.__assign)(Object(oe.__assign)({},m),m[o]);Object.keys(J).forEach(function(mt){var St=J[mt];at[mt]!==St&&(o?d[o][mt]=St:d[mt]=St)})}}),d.path&&delete d.path,d.matrix&&delete d.matrix,d.x&&delete d.x,d.y&&delete d.y,d[o]&&d[o].x&&delete d[o].x,d[o]&&d[o].y&&delete d[o].y,n.set("originStyle",d)}else{var u={};Object(g.each)(t,function(T){var j=T.get("type"),G=T.get("name");if(G&&G!==o)u[G]=j!=="image"?Object(g.clone)(T.attr()):n.getShapeStyleByName(G);else{var et=n.getShapeStyleByName();if(et.path&&delete et.path,et.matrix&&delete et.matrix,!o)Object.assign(u,et);else if(G)u[o]=et;else{var J=Df("shape");T.set("name",J),u[J]=j!=="image"?Object(g.clone)(T.attr()):n.getShapeStyleByName(G)}}}),n.set("originStyle",u)}},l.prototype.restoreStates=function(e,t){var r=this,n=r.get("states");Object(g.each)(n,function(o){e.setState(t,o,!0,r)})},l.prototype.init=function(){var e=co.getFactory(this.get("type"));this.set("shapeFactory",e)},l.prototype.get=function(e){return this._cfg[e]},l.prototype.set=function(e,t){Object(g.isPlainObject)(e)?this._cfg=Object(oe.__assign)(Object(oe.__assign)({},this._cfg),e):this._cfg[e]=t},l.prototype.getDefaultCfg=function(){return{}},l.prototype.clearCache=function(){this.set(Iu,null),this.set(Rf,null)},l.prototype.beforeDraw=function(){},l.prototype.afterDraw=function(){},l.prototype.afterUpdate=function(){},l.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},l.prototype.getShapeStyleByName=function(e){var t=this.get("group"),r;if(e?r=t.find(function(o){return o.get("name")===e}):r=this.getKeyShape(),r){var n={};return Object(g.each)(r.attr(),function(o,u){(u!=="img"||Object(g.isString)(o))&&(n[u]=o)}),n}return{}},l.prototype.getShapeCfg=function(e){var t=this.get("styles");if(t){var r=e;return r.style=Object(oe.__assign)(Object(oe.__assign)({},t),e.style),r}return e},l.prototype.getStateStyle=function(e){var t=this.get("styles"),r=t&&t[e];return r},l.prototype.getOriginStyle=function(){return this.get("originStyle")},l.prototype.getCurrentStatesStyle=function(){var e=this,t={},r=e.getStates();return!r||!r.length?this.getOriginStyle():(Object(g.each)(e.getStates(),function(n){t=Object.assign(t,e.getStateStyle(n))}),t)},l.prototype.setState=function(e,t){var r=this.get("states"),n=this.get("shapeFactory"),o=e,u=e;Object(g.isString)(t)&&(o=e+":"+t,u=e+":");var d=r;if(Object(g.isBoolean)(t)){var m=r.indexOf(u);if(t){if(m>-1)return;r.push(o)}else m>-1&&r.splice(m,1)}else if(Object(g.isString)(t)){var T=r.filter(function(et){return et.includes(u)});T.length>0&&this.clearStates(T),d=d.filter(function(et){return!et.includes(u)}),d.push(o),this.set("states",d)}if(n){var j=this.get("model"),G=j.type;n.setState(G,e,t,this)}},l.prototype.clearStates=function(e){var t=this,r=t.getStates(),n=t.get("shapeFactory"),o=t.get("model"),u=o.type;e||(e=r),Object(g.isString)(e)&&(e=[e]);var d=r.filter(function(m){return e.indexOf(m)===-1});t.set("states",d),e.forEach(function(m){n.setState(u,m,!1,t)})},l.prototype.getContainer=function(){return this.get("group")},l.prototype.getKeyShape=function(){return this.get("keyShape")},l.prototype.getModel=function(){return this.get("model")},l.prototype.getType=function(){return this.get("type")},l.prototype.getID=function(){return this.get("id")},l.prototype.isItem=function(){return!0},l.prototype.getStates=function(){return this.get("states")},l.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},l.prototype.refresh=function(){var e=this.get("model");this.updatePosition(e),this.updateShape(),this.afterUpdate(),this.clearCache()},l.prototype.isOnlyMove=function(e){return!1},l.prototype.update=function(e,t){t===void 0&&(t=!1);var r=this.get("model"),n=r.visible,o=e.visible;n!==o&&o!==void 0&&this.changeVisibility(o);var u={x:r.x,y:r.y};e.x=isNaN(e.x)?r.x:e.x,e.y=isNaN(e.y)?r.y:e.y;var d=this.get("styles");if(e.stateStyles){var m=e.stateStyles;Object(g.mix)(d,m),delete e.stateStyles}Object.assign(r,e),t?this.updatePosition(e):((u.x!==e.x||u.y!==e.y)&&this.updatePosition(e),this.updateShape()),this.afterUpdate(),this.clearCache()},l.prototype.updateShape=function(){var e=this.get("shapeFactory"),t=this.get("model"),r=t.type;if(e.shouldUpdate(r)&&r===this.get("currentShape")){var n=this.getShapeCfg(t);e.baseUpdate(r,n,this),this.setOriginStyle()}else this.draw();this.restoreStates(e,r)},l.prototype.updatePosition=function(e){var t=this.get("model"),r=Object(g.isNil)(e.x)?t.x:e.x,n=Object(g.isNil)(e.y)?t.y:e.y,o=this.get("group");if(Object(g.isNil)(r)||Object(g.isNil)(n))return!1;t.x=r,t.y=n;var u=o.getMatrix();return u&&u[6]===r&&u[7]===n?!1:(o.resetMatrix(),Su(o,{x:r,y:n}),this.clearCache(),!0)},l.prototype.getBBox=function(){var e=this.get(Iu);return e||(e=this.calculateBBox(),this.set(Iu,e)),e},l.prototype.getCanvasBBox=function(){var e=this.get(Rf);return e||(e=this.calculateCanvasBBox(),this.set(Rf,e)),e},l.prototype.toFront=function(){var e=this.get("group");e.toFront()},l.prototype.toBack=function(){var e=this.get("group");e.toBack()},l.prototype.show=function(){this.changeVisibility(!0)},l.prototype.hide=function(){this.changeVisibility(!1)},l.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},l.prototype.isVisible=function(){return this.get("visible")},l.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},l.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},l}(),Lu=wd,Ru={source:"start",target:"end"},Fo="Node",qo="Point",Bd="Anchor",ju=function(l){Object(oe.__extends)(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,r){var n=Ru[t]+qo,o=t+Fo,u=this.get(o);u&&!u.destroyed&&u.removeEdge(this),Object(g.isPlainObject)(r)?(this.set(n,r),this.set(o,null)):r&&(r.addEdge(this),this.set(o,r),this.set(n,null))},e.prototype.getLinkPoint=function(t,r,n){var o=Ru[t]+qo,u=t+Fo,d=this.get(o);if(!d){var m=this.get(u),T=t+Bd,j=this.getPrePoint(t,n),G=r[T];Object(g.isNil)(G)||(d=m.getLinkPointByAnchor(G)),d=d||m.getLinkPoint(j),Object(g.isNil)(d.index)||this.set(t+"AnchorIndex",d.index)}return d},e.prototype.getPrePoint=function(t,r){if(r&&r.length){var n=t==="source"?0:r.length-1;return r[n]}var o=t==="source"?"target":"source";return this.getEndPoint(o)},e.prototype.getEndPoint=function(t){var r=t+Fo,n=Ru[t]+qo,o=this.get(r);return o?o.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var r=this.getEndPoint("source"),n=this.getEndPoint("target"),o=this.get("shapeFactory"),u=t.type;return o.getControlPoints(u,{startPoint:r,endPoint:n})},e.prototype.getEndCenter=function(t){var r=t+Fo,n=Ru[t]+qo,o=this.get(r);if(o){var u=o.getBBox();return{x:u.centerX,y:u.centerY}}return this.get(n)},e.prototype.init=function(){l.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t){var r=this,n=r.get("linkCenter"),o=l.prototype.getShapeCfg.call(this,t);if(n)o.startPoint=r.getEndCenter("source"),o.endPoint=r.getEndCenter("target");else{var u=o.controlPoints||r.getControlPointsByCenter(o);o.startPoint=r.getLinkPoint("source",t,u),o.endPoint=r.getLinkPoint("target",t,u)}return o.sourceNode=r.get("sourceNode"),o.targetNode=r.get("targetNode"),o},e.prototype.getModel=function(){var t=this.get("model"),r=this.get("source"+Fo),n=this.get("target"+Fo);return r?delete t["source"+Fo]:t.source=this.get("start"+qo),n?delete t["target"+Fo]:t.target=this.get("end"+qo),!Object(g.isString)(t.source)&&!Object(g.isPlainObject)(t.source)&&(t.source=t.source.getID()),!Object(g.isString)(t.target)&&!Object(g.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,r){r===void 0&&(r=!1);var n=this.get("model"),o=n.visible,u=t.visible;o!==u&&u!==void 0&&this.changeVisibility(u);var d=this.get("styles");if(t.stateStyles){var m=t.stateStyles;Object(g.mix)(d,m),delete t.stateStyles}Object.assign(n,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var t=this.get("source"+Fo),r=this.get("target"+Fo);t&&!t.destroyed&&t.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),l.prototype.destroy.call(this)},e}(Lu),jf=ju,ul="anchorPointsCache",wf="bboxCache",Bf=function(l){Object(oe.__extends)(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,r){for(var n=0,o=t[0],u=Yl(t[0],r),d=0;d<t.length;d++){var m=t[d],T=Yl(m,r);T<u&&(o=m,u=T,n=d)}return o.anchorIndex=n,o},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("source")===t})},e.prototype.getNeighbors=function(t){var r=this,n=this.get("edges");if(t==="target"){var o=function(T){return T.getSource()===r};return n.filter(o).map(function(m){return m.getTarget()})}if(t==="source"){var u=function(T){return T.getTarget()===r};return n.filter(u).map(function(m){return m.getSource()})}var d=function(T){return T.getSource()===r?T.getTarget():T.getSource()};return n.map(d)},e.prototype.getLinkPointByAnchor=function(t){var r=this.getAnchorPoints();return r[t]},e.prototype.getLinkPoint=function(t){var r=this.get("keyShape"),n=r.get("type"),o=this.get("type"),u,d,m=this.getBBox();o==="combo"?(u=m.centerX||(m.maxX+m.minX)/2,d=m.centerY||(m.maxY+m.minY)/2):(u=m.centerX,d=m.centerY);var T=this.getAnchorPoints(),j;switch(n){case"circle":j=Xl({x:u,y:d,r:m.width/2},t);break;case"ellipse":j=mf({x:u,y:d,rx:m.width/2,ry:m.height/2},t);break;default:j=yf(m,t)}var G=j;return T.length&&(G||(G=t),G=this.getNearestPoint(T,G)),G||(G={x:u,y:d}),G},e.prototype.getAnchorPoints=function(){var t=this.get(ul);if(!t){t=[];var r=this.get("shapeFactory"),n=this.getBBox(),o=this.get("model"),u=this.getShapeCfg(o),d=o.type,m=r.getAnchorPoints(d,u)||[];Object(g.each)(m,function(T,j){var G={x:n.minX+T[0]*n.width,y:n.minY+T[1]*n.height,anchorIndex:j};t.push(G)}),this.set(ul,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var r=this.getEdges(),n=r.indexOf(t);n>-1&&r.splice(n,1)},e.prototype.clearCache=function(){this.set(wf,null),this.set(ul,null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var r=!Object(g.isNil)(t.x),n=!Object(g.isNil)(t.y),o=Object.keys(t);return o.length===1&&(r||n)||o.length===2&&r&&n},e}(Lu),Tc=Bf,Dc="bboxCache",Pc="bboxCanvasCache",ql="sizeCache",wh="anchorPointsCache",Bh=function(l){Object(oe.__extends)(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var r=this.get("styles"),n=this.get("bbox");if(r&&n){var o=t,u={r:Math.hypot(n.height,n.width)/2||zn.defaultCombo.size[0]/2,width:n.width||zn.defaultCombo.size[0],height:n.height||zn.defaultCombo.size[1]};o.style=Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)({},r),t.style),u);var d=t.padding||zn.defaultCombo.padding;return Object(g.isNumber)(d)?(u.r+=d,u.width+=d*2,u.height+=d*2):(u.r+=d[0],u.width+=d[1]+d[3]||d[1]*2,u.height+=d[0]+d[2]||d[0]*2),this.set(ql,u),o}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),r=this.get("group"),n=Du(t,r);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var o=this.get(ql),u=this.get(Dc)||{},d=u.x,m=u.x;if(o){o.width=Math.max(o.width,n.width),o.height=Math.max(o.height,n.height);var T=t.get("type");T==="circle"?(n.width=o.r*2,n.height=o.r*2):(n.width=o.width,n.height=o.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,(n.x!==d||n.y!==m)&&this.set(wh,null),n}},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.addNode(t);break;case"combo":r.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var r=this;return r.get("combos").push(t),!0},e.prototype.addNode=function(t){var r=this;return r.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.removeNode(t);break;case"combo":r.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(!!t){var r=this.getCombos(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.removeNode=function(t){if(!!t){var r=this.getNodes(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){this.set(Pc,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(Dc,null),this.set(Pc,null),this.set(wh,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),r=this.get("group");t&&r.stopAnimate(),this.clearCache(),this.set(ql,null),this.set("bbox",null),r.remove(),this._cfg=null,this.destroyed=!0}},e}(Tc),Nf=Bh,tu="node",wu="edge",Ff="vedge",Al="combo",Nh="default",Bu="Mapper",fs="stateStyles",Fh=function(){function l(e){this.graph=e,this.destroyed=!1}return l.prototype.addItem=function(e,t){var r=this.graph,n=e===Ff?wu:e,o=r.get(n+"Group")||r.get("group"),u=Object(g.upperFirst)(n),d=null,m=r.get(n+Object(g.upperFirst)(fs))||{},T=r.get(Nh+u);t[fs]&&(m=t[fs]),T&&Object(g.each)(T,function(Ct,Bt){Object(g.isObject)(Ct)&&!Object(g.isArray)(Ct)?t[Bt]=Object(g.deepMix)({},Ct,t[Bt]):Object(g.isArray)(Ct)?t[Bt]=t[Bt]||Object(g.clone)(T[Bt]):t[Bt]=t[Bt]||T[Bt]});var j=r.get(n+Bu);if(j){var G=j(t);G[fs]&&(m=G[fs],delete G[fs]),Object(g.each)(G,function(Ct,Bt){Object(g.isObject)(Ct)&&!Object(g.isArray)(Ct)?t[Bt]=Object(g.deepMix)({},t[Bt],Ct):t[Bt]=G[Bt]||t[Bt]})}if(r.emit("beforeadditem",{type:e,model:t}),e===wu||e===Ff){var et=void 0,J=void 0;if(et=t.source,J=t.target,et&&Object(g.isString)(et)&&(et=r.findById(et)),J&&Object(g.isString)(J)&&(J=r.findById(J)),!et||!J){console.warn("The source or target node of edge "+t.id+" does not exist!");return}et.getType&&et.getType()==="combo"&&(t.isComboEdge=!0),J.getType&&J.getType()==="combo"&&(t.isComboEdge=!0),d=new jf({model:t,source:et,target:J,styles:m,linkCenter:r.get("linkCenter"),group:o.addGroup()})}else if(e===tu)d=new Tc({model:t,styles:m,group:o.addGroup()});else if(e===Al){var at=t.children,mt=Zl(at,r);isNaN(mt.x)?isNaN(t.x)&&(t.x=Math.random()*100):t.x=mt.x,isNaN(mt.y)?isNaN(t.y)&&(t.y=Math.random()*100):t.y=mt.y;var St=o.addGroup();St.setZIndex(t.depth),d=new Nf({model:t,styles:m,bbox:t.collapsed?Zl([],r):mt,group:St});var Dt=d.getModel();(at||[]).forEach(function(Ct){var Bt=r.findById(Ct.id);d.addChild(Bt),Ct.depth=Dt.depth+2}),t.collapsed&&setTimeout(function(){r.collapseCombo(d)},0)}if(d)return r.get(e+"s").push(d),r.get("itemMap")[d.get("id")]=d,r.emit("afteradditem",{item:d,model:t}),d},l.prototype.updateItem=function(e,t){var r,n,o=this.graph;if(Object(g.isString)(e)&&(e=o.findById(e)),!(!e||e.destroyed)){var u="";e.getType&&(u=e.getType());var d=o.get(u+Bu),m=e.getModel(),T=e.isOnlyMove(t);if(d){var j=Object(g.deepMix)({},m,t),G=d(j),et=Object(g.deepMix)({},m,G,t);G[fs]&&(e.set("styles",et[fs]),delete et[fs]),Object(g.each)(et,function(zt,Ht){t[Ht]=zt})}else Object(g.each)(t,function(zt,Ht){m[Ht]&&Object(g.isObject)(zt)&&!Object(g.isArray)(zt)&&(t[Ht]=Object(oe.__assign)(Object(oe.__assign)({},m[Ht]),t[Ht]))});if(o.emit("beforeupdateitem",{item:e,cfg:t}),u===wu){if(t.source){var J=t.source;Object(g.isString)(J)&&(J=o.findById(J)),e.setSource(J)}if(t.target){var at=t.target;Object(g.isString)(at)&&(at=o.findById(at)),e.setTarget(at)}e.update(t)}if(u===tu||u===Al){e.update(t,T);var mt=e.getEdges(),St=Ah(t);if(St&&u===tu)Object(g.each)(mt,function(zt){zt.refresh()});else if(St&&u===Al){var Dt=e.get("shapeFactory"),Ct=m.type||"circle",Bt=m.animate===void 0||t.animate===void 0?(n=(r=Dt[Ct])===null||r===void 0?void 0:r.options)===null||n===void 0?void 0:n.animate:m.animate||t.animate;Bt?setTimeout(function(){if(!(!e||e.destroyed)){var zt=e.getKeyShape();!zt||zt.destroyed||Object(g.each)(mt,function(Ht){Ht&&!Ht.destroyed&&Ht.refresh()})}},201):Object(g.each)(mt,function(zt){zt.refresh()})}}o.emit("afterupdateitem",{item:e,cfg:t})}},l.prototype.updateCombo=function(e,t){var r=this,n,o,u=this.graph;if(Object(g.isString)(e)&&(e=u.findById(e)),!(!e||e.destroyed)){var d=e.getModel(),m=Zl(d.collapsed?[]:t,u),T=d.collapsed?Zl(t,u):m,j=T.x,G=T.y;e.set("bbox",m),e.update({x:j,y:G});var et=e.get("shapeFactory"),J=d.type||"circle",at=d.animate===void 0?(o=(n=et[J])===null||n===void 0?void 0:n.options)===null||o===void 0?void 0:o.animate:d.animate;at?setTimeout(function(){if(!(!e||e.destroyed)){var mt=e.getKeyShape();!mt||mt.destroyed||(e.getShapeCfg(d),r.updateComboEdges(e))}},201):this.updateComboEdges(e)}},l.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],r=0;r<t.length;r++){var n=t[r];if(n&&!n.destroyed){var o=n.get("shapeFactory"),u=n.getShapeCfg(n.getModel()),d=n.getContainer();d.clear();var m=o.draw(u.type,u,d);n.set("keyShape",m),m.set("isKeyShape",!0),m.set("draggable",!0),n.setOriginStyle()}}},l.prototype.collapseCombo=function(e){var t=this.graph;Object(g.isString)(e)&&(e=t.findById(e));var r=e.getChildren();r.nodes.forEach(function(n){t.hideItem(n)}),r.combos.forEach(function(n){t.hideItem(n)})},l.prototype.expandCombo=function(e){var t=this.graph;Object(g.isString)(e)&&(e=t.findById(e));var r=e.getChildren();r.nodes.forEach(function(n){t.showItem(n)}),r.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},l.prototype.removeItem=function(e){var t=this,r=this.graph;if(Object(g.isString)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=Object(g.clone)(e.getModel());r.emit("beforeremoveitem",{item:n});var o="";e.getType&&(o=e.getType());var u=r.get(o+"s"),d=u.indexOf(e);if(d>-1&&u.splice(d,1),o===wu){var m=r.get("v"+o+"s"),T=m.indexOf(e);T>-1&&m.splice(T,1)}var j=e.get("id"),G=r.get("itemMap");delete G[j];var et=r.get("comboTrees"),J=e.get("id");if(o===tu){var at=e.getModel().comboId;if(et&&at){var mt=et,St=!1;et.forEach(function(qt){St||No(qt,function(ue){if(ue.id===J&&mt){var se=mt.indexOf(ue);return mt.splice(se,1),St=!0,!1}return mt=ue.children,!0})})}for(var Dt=e.getEdges(),Ct=Dt.length-1;Ct>=0;Ct--)r.removeItem(Dt[Ct],!1);at&&r.updateCombo(at)}else if(o===Al){var Bt=e.getModel().parentId,zt,Ht=!1;(et||[]).forEach(function(ue){Ht||No(ue,function(se){return se.id===J?(zt=se,Ht=!0,!1):!0})}),zt.removed=!0,zt&&zt.children&&zt.children.forEach(function(ue){t.removeItem(ue.id)});for(var Dt=e.getEdges(),Ct=Dt.length;Ct>=0;Ct--)r.removeItem(Dt[Ct],!1);Bt&&r.updateCombo(Bt)}e.destroy(),r.emit("afterremoveitem",{item:n})}},l.prototype.setItemState=function(e,t,r){var n=this.graph,o=t;Object(g.isString)(r)&&(o=t+":"+r),!(e.hasState(o)===r&&r||Object(g.isString)(r)&&e.hasState(o))&&(n.emit("beforeitemstatechange",{item:e,state:o,enabled:r}),e.setState(t,r),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:o,enabled:r}))},l.prototype.priorityState=function(e,t){var r=this.graph,n=e;Object(g.isString)(e)&&(n=r.findById(e)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},l.prototype.clearItemStates=function(e,t){var r=this.graph;Object(g.isString)(e)&&(e=r.findById(e)),r.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),r.emit("afteritemstatesclear",{item:e,states:t})},l.prototype.refreshItem=function(e){var t=this.graph;Object(g.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},l.prototype.addCombos=function(e,t){var r=this,n=this.graph;(e||[]).forEach(function(u){ws(u,function(d){var m;return t.forEach(function(T){T.id===d.id&&(T.children=d.children,T.depth=d.depth,m=T)}),m&&r.addItem("combo",m),!0})});var o=n.get("comboGroup");o&&o.sort()},l.prototype.changeItemVisibility=function(e,t){var r=this,n=this.graph;if(Object(g.isString)(e)&&(e=n.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===tu){var o=e.getEdges();Object(g.each)(o,function(j){t&&!(j.get("source").isVisible()&&j.get("target").isVisible())||r.changeItemVisibility(j,t)})}else if(e.getType&&e.getType()===Al){var u=n.get("comboTrees"),d=e.get("id"),m=[],T=!1;(u||[]).forEach(function(G){T||!G.children||G.children.length===0||No(G,function(et){return et.id===d?(m=et.children,T=!0,!1):!0})}),m&&(!t||t&&!e.getModel().collapsed)&&m.forEach(function(G){var et=n.findById(G.id);r.changeItemVisibility(et,t)});var o=e.getEdges();Object(g.each)(o,function(G){t&&!(G.get("source").isVisible()&&G.get("target").isVisible())||r.changeItemVisibility(G,t)})}return n.emit("afteritemvisibilitychange",{item:e,visible:t}),e},l.prototype.destroy=function(){this.graph=null,this.destroyed=!0},l}(),Gf=Fh,cl=null,Nu=function(){function l(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return l.checkCache=function(e,t,r){if(!!r[t]){var n=r[t].indexOf(e);n>=0&&r[t].splice(n,1)}},l.cacheState=function(e,t,r){r[t]||(r[t]=[]),r[t].push(e)},l.prototype.updateState=function(e,t,r){var n=this,o=l.checkCache,u=l.cacheState;if(!e.destroyed){var d=this.cachedStates,m=d.enabled,T=d.disabled;r?(o(e,t,T),u(e,t,m)):(o(e,t,m),u(e,t,T)),cl&&clearTimeout(cl),cl=setTimeout(function(){cl=null,n.updateGraphStates()},16)}},l.prototype.updateStates=function(e,t,r){var n=this;Object(g.isString)(t)?this.updateState(e,t,r):t.forEach(function(o){n.updateState(e,o,r)})},l.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;Object(g.each)(t.disabled,function(r,n){e[n]&&(e[n]=e[n].filter(function(o){return r.indexOf(o)<0&&!r.destroyed}))}),Object(g.each)(t.enabled,function(r,n){if(!e[n])e[n]=r;else{var o={};e[n].forEach(function(u){u.destroyed||(o[u.get("id")]=!0)}),r.forEach(function(u){if(!u.destroyed){var d=u.get("id");o[d]||(o[d]=!0,e[n].push(u))}})}}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},l.prototype.destroy=function(){this.graph=null,this.cachedStates=null,cl&&clearTimeout(cl),cl=null,this.destroyed=!0},l}(),Uf=Nu,eu=i("WOt1"),Gh=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){if(r.charAt(0)==="\\")return r.slice(1);var o=t[n];return o===0&&(o="0"),o||""})},Ic=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);for(var r=0,n=e;r<n.length;r++){var o=n[r],u=o.x,d=o.y;t.push(u),t.push(d)}var m=Object(eu.a)(t);return m.unshift(["M",e[0].x,e[0].y]),m},Fu=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var o={x:(1-r)*e.x+r*t.x,y:(1-r)*e.y+r*t.y},u=[0,0];ci.c.normalize(u,[t.x-e.x,t.y-e.y]),(!u||!u[0]&&!u[1])&&(u=[0,0]);var d=[-u[1]*n,u[0]*n];return o.x+=d[0],o.y+=d[1],o},Uh=function(e,t){var r=e.length;if(!r)return"";for(var n="",o="",u=0;u<r;u++){var d=e[u];u===0?o="M{x} {y}":o="L{x} {y}",n+=Gh(o,d)}return t&&(n+="Z"),n},Gu=function(e){var t=[];return e.forEach(function(r){var n=r[0];if(n!=="A")for(var o=1;o<r.length;o=o+2)t.push([r[o],r[o+1]]);else{var u=r.length;t.push([r[u-2],r[u-1]])}}),t},Lc=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);var t=e[0],r=e[1],n=e[e.length-1],o=e[e.length-2];e.unshift(n),e.unshift(o),e.push(t),e.push(r);for(var u=[],d=1;d<e.length-2;d+=1){var m=e[d-1].x,T=e[d-1].y,j=e[d].x,G=e[d].y,et=e[d+1].x,J=e[d+1].y,at=d!==e.length-2?e[d+2].x:et,mt=d!==e.length-2?e[d+2].y:J,St=j+(et-m)/6,Dt=G+(J-T)/6,Ct=et-(at-j)/6,Bt=J-(mt-G)/6;u.push(["C",St,Dt,Ct,Bt,et,J])}return u.unshift(["M",n.x,n.y]),u},Rc=function(e,t){return ci.c.scale([0,0],ci.c.normalize([0,0],e),t)},Uu=function(e,t){var r=[e[1]-t[1],t[0]-e[0]],n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[r[0]/n,r[1]/n]},jc=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function Tl(l,e){var t=function(G){var et=[G[0][0],G[0][1]-e],J=[G[0][0],G[0][1]+e];return"M "+et+" A "+e+","+e+",0,0,0,"+J+" A "+e+","+e+",0,0,0,"+et},r=function(G){var et=ci.c.scale([0,0],Uu(G[0],G[1]),e),J=ci.c.scale([0,0],et,-1),at=ci.c.add([0,0],G[0],et),mt=ci.c.add([0,0],G[1],et),St=ci.c.add([0,0],G[1],J),Dt=ci.c.add([0,0],G[0],J);return"M "+at+" L "+mt+" A "+[e,e,"0,0,0",St].join(",")+" L "+Dt+" A "+[e,e,"0,0,0",at].join(",")};if(!l||l.length<1)return"";if(l.length===1)return t(l);if(l.length===2)return r(l);for(var n=new Array(l.length),o=0;o<n.length;++o){var u=o===0?l[l.length-1]:l[o-1],d=l[o],m=ci.c.scale([0,0],Uu(u,d),e);n[o]=[ci.c.add([0,0],u,m),ci.c.add([0,0],d,m)]}var T="A "+[e,e,"0,0,0,"].join(",");return n=n.map(function(j,G){var et="";return G===0&&(et="M "+n[n.length-1][1]+" "),et+=T+j[0]+" L "+j[1],et}),n.join(" ")}function wc(l,e){var t=l.length,r=function(j){var G=[j[0][0],j[0][1]-e],et=[j[0][0],j[0][1]+e];return"M "+G+" A "+[e,e,"0,0,0",et].join(",")+" A "+[e,e,"0,0,0",G].join(",")},n=function(j){var G=jc(j[0],j[1]),et=Rc(G,e),J=ci.c.add([0,0],j[0],ci.c.scale([0,0],et,-1)),at=ci.c.add([0,0],j[1],et),mt=1.2*e,St=Rc(ci.c.normalize([0,0],G),mt),Dt=ci.c.scale([0,0],St,-1),Ct=ci.c.add([0,0],J,Dt),Bt=ci.c.add([0,0],at,Dt),zt=ci.c.add([0,0],J,St);return"M "+J+" C "+[Ct,Bt,at].join(",")+" S "+[zt,J].join(",")+" Z"};if(!l||t<1)return"";if(t===1)return r(l);if(t===2)return n(l);for(var o=l.map(function(T,j){var G=l[(j+1)%t];return{p:T,v:ci.c.normalize([0,0],jc(T,G))}}),u=0;u<o.length;++u){var d=u>0?u-1:t-1,m=ci.c.normalize([0,0],ci.c.add([0,0],o[d].v,ci.c.scale([0,0],o[u].v,-1)));o[u].p=ci.c.add([0,0],o[u].p,ci.c.scale([0,0],m,e))}return o.map(function(T){var j=T.p;return{x:j[0],y:j[1]}})}var Wu=function(e,t,r){return(e.y-r.y)*(t.x-r.x)-(e.x-r.x)*(t.y-r.y)},Bs=function(e){var t=e.map(function(d){return{x:d.getModel().x,y:d.getModel().y}});if(t.sort(function(d,m){return d.x===m.x?d.y-m.y:d.x-m.x}),t.length===1)return t;for(var r=[],n=0;n<t.length;n++){for(;r.length>=2&&Wu(r[r.length-2],r[r.length-1],t[n])<=0;)r.pop();r.push(t[n])}for(var o=[],n=t.length-1;n>=0;n--){for(;o.length>=2&&Wu(o[o.length-2],o[o.length-1],t[n])<=0;)o.pop();o.push(t[n])}o.pop(),r.pop();var u=r.concat(o);return u},zu={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Dl(l,e,t){var r=!1,n=function(m,T){return e.cells[m+T*e.width]},o=function(m,T){var j=0;return n(m-1,T-1)>=t&&(j+=1),n(m,T-1)>t&&(j+=2),n(m-1,T)>t&&(j+=4),n(m,T)>t&&(j+=8),j},u=function(m,T){for(var j=m,G=T,et,J,at=0;at<e.width*e.height;at++){if(et=j,J=G,l.findIndex(function(St){return St.x===j&&St.y===G})>-1){if(!(l[0].x!==j||l[0].y!==G))return!0}else l.push({x:j,y:G});var mt=o(j,G);switch(mt){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:j++;break;case 12:case 14:case 4:j--;break;case 6:et===0&&(J===-1?j-=1:j+=1);break;case 1:case 13:case 5:G--;break;case 9:et===1&&(J===0?G-=1:G+=1);break;case 10:case 8:case 11:G++;break;default:return console.warn("Marching squares invalid state: "+mt),!0}}};this.march=function(){for(var d=0;d<e.width&&!r;d+=1)for(var m=0;m<e.height&&!r;m+=1)n(d,m)>t&&o(d,m)!==15&&(r=u(d,m));return r}}var fl=function(e,t,r){var n=Math.ceil(e/r),o=Math.ceil(t/r),u=new Float32Array(Math.max(0,n*o)).fill(0);return{cells:u,width:n,height:o}},Vu=function(e,t,r){var n=null,o=Number.POSITIVE_INFINITY;return t.forEach(function(u){var d={x:e.getModel().x,y:e.getModel().y},m={x:u.getModel().x,y:u.getModel().y},T=Hl(d,m),j=new xs(d.x,d.y,m.x,m.y),G=r.reduce(function(et,J){return _s(J,j)>0?et+1:et},0);T*Math.pow(G+1,2)<o&&(n=u,o=T*Math.pow(G+1,2))}),n},$s=function(e,t){var r=Number.POSITIVE_INFINITY,n=null;return e.forEach(function(o){var u=_s(o,t);u>=0&&u<r&&(n=o,r=u)}),n},Pl=function(e,t,r,n){var o=[],u=[];u.push(e);for(var d=!0,m=0,T=function(J,at){var mt=!1;return at.forEach(function(St){mt||(Ef(J,{x:St.x1,y:St.y1})||Ef(J,{x:St.x2,y:St.y2}))&&(mt=!0)}),mt},j=function(J,at){for(var mt=0,St=at;mt<St.length;mt++){var Dt=St[mt],Ct=Dt.getBBox(),Bt=[[Ct.x,Ct.y],[Ct.x+Ct.width,Ct.y],[Ct.x,Ct.y+Ct.height],[Ct.x+Ct.width,Ct.y+Ct.height]];if(Hs(Bt,J.x,J.y))return!0}return!1};d&&m<r;){d=!1;for(var G=function(){var J=u.pop(),at=$s(t,J);if(at){var mt=Mu(at,J),St=mt[0],Dt=mt[1];if(Dt===2){var Ct=function(zt){for(var Ht=n,qt=Yu(at,Ht,St,zt),ue=T(qt,u)||T(qt,o),se=j(qt,t);!ue&&se&&Ht>=1;)Ht/=1.5,qt=Yu(at,Ht,St,zt),ue=T(qt,u)||T(qt,o),se=j(qt,t);qt&&!ue&&(!zt||!se)&&(u.push(new xs(J.x1,J.y1,qt.x,qt.y)),u.push(new xs(qt.x,qt.y,J.x2,J.y2)),d=!0)};Ct(!0),d||Ct(!1)}}d||o.push(J),m+=1};!d&&u.length;)G()}for(;u.length;)o.push(u.pop());return o};function Il(l,e,t,r,n){var o=Vu(l,t,e);if(o===null)return[];var u=function(G){for(var et=[];G.length>0;){var J=G.pop();if(G.length===0){et.push(J);break}var at=G.pop(),mt=new xs(J.x1,J.y1,at.x2,at.y2),St=$s(e,mt);St?(et.push(J),G.push(at)):G.push(mt)}return et},d=new xs(l.getModel().x,l.getModel().y,o.getModel().x,o.getModel().y),m=Pl(d,e,r,n),T=u(m);return T}var ku=function(e,t,r){var n=Object.assign(zu,r),o=xf(e.map(function(Ct){return{x:Ct.getModel().x,y:Ct.getModel().y}}));e=e.sort(function(Ct,Bt){return Hl({x:Ct.getModel().x,y:Ct.getModel().y},o)-Hl({x:Bt.getModel().x,y:Bt.getModel().y},o)});var u=[],d=[];e.forEach(function(Ct){var Bt=Il(Ct,t,u,n.maxRoutingIterations,n.morphBuffer);Bt.forEach(function(zt){d.push(zt)}),u.push(Ct)});for(var m=Bc(e,d,n.nodeR0),T=fl(m.width,m.height,n.pixelGroupSize),j=[],G=[],et=0;et<n.maxMarchingIterations;et++)if(Xu(e,t,d,m,T,n),j=[],G=[],!!new Dl(j,T,n.threshold).march()){var J=j.map(function(Ct){return{x:Math.round(Ct.x*n.pixelGroupSize+m.minX),y:Math.round(Ct.y*n.pixelGroupSize+m.minY)}});if(J){var at=J.length;if(n.skip>1)for(at=Math.floor(J.length/n.skip);at<3&&n.skip>1;)n.skip-=1,at=Math.floor(J.length/n.skip);for(var mt=0,St=0;St<at;St+=1,mt+=n.skip)G.push({x:J[mt].x,y:J[mt].y})}var Dt=function(){for(var Bt=0,zt=e;Bt<zt.length;Bt++){var Ht=zt[Bt],qt=G.map(function(ue){return[ue.x,ue.y]});if(!Hs(qt,Ht.getBBox().centerX,Ht.getBBox().centerY))return!1}return!0};if(G&&Dt())return G;if(n.threshold*=.9,et<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return G};function Bc(l,e,t){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];l.forEach(function(m){n.push(m.getBBox())}),e.forEach(function(m){n.push(m.getBBox())});for(var o=0,u=n;o<u.length;o++){var d=u[o];r.minX=(d.minX<r.minX?d.minX:r.minX)-t,r.minY=(d.minY<r.minY?d.minY:r.minY)-t,r.maxX=(d.maxX>r.maxX?d.maxX:r.maxX)+t,r.maxY=(d.maxY>r.maxY?d.maxY:r.maxY)+t}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}function Xu(l,e,t,r,n,o){function u(J,at){var mt=Math.floor((J-at)/o.pixelGroupSize);return mt<0?0:mt}function d(J,at){return J*o.pixelGroupSize+at}var m=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),T=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),j=function(at,mt){var St=Math.min(u(at.minX,mt+r.minX),n.width),Dt=Math.min(u(at.minY,mt+r.minY),n.height),Ct=Math.min(u(at.maxX,-mt+r.minX),n.width),Bt=Math.min(u(at.maxY,-mt+r.minY),n.height);return[St,Dt,Ct,Bt]},G=function(at,mt){for(var St=at.getBBox(),Dt=j(St,o.nodeR1),Ct=Dt[0],Bt=Dt[1],zt=Dt[2],Ht=Dt[3],qt=Bt;qt<Ht;qt+=1)for(var ue=Ct;ue<zt;ue+=1)if(!(mt<0&&n[ue+qt*n.width]<=0)){var se=d(ue,r.minX),Me=d(qt,r.minY),ve=Sf({x:se,y:Me},{x:St.minX,y:St.minY,width:St.width,height:St.height});if(ve<Math.pow(o.nodeR1,2)){var De=Math.sqrt(ve)-o.nodeR1;n.cells[ue+qt*n.width]+=mt*De*De}}},et=function(at,mt){for(var St=at.getBBox(),Dt=j(St,o.edgeR1),Ct=Dt[0],Bt=Dt[1],zt=Dt[2],Ht=Dt[3],qt=Bt;qt<Ht;qt+=1)for(var ue=Ct;ue<zt;ue+=1)if(!(mt<0&&n.cells[ue+qt*n.width]<=0)){var se=d(ue,r.minX),Me=d(qt,r.minY),ve=Sh({x:se,y:Me},at);if(ve<Math.pow(o.edgeR1,2)){var De=Math.sqrt(ve)-o.edgeR1;n.cells[ue+qt*n.width]+=mt*De*De}}};o.nodeInfluenceFactor&&l.forEach(function(J){G(J,o.nodeInfluenceFactor/m)}),o.edgeInfluenceFactor&&t.forEach(function(J){et(J,o.edgeInfluenceFactor/T)}),o.negativeNodeInfluenceFactor&&e.forEach(function(J){G(J,o.negativeNodeInfluenceFactor/m)})}function Yu(l,e,t,r){var n=l.getBBox(),o=t[0],u=t[1],d=t[2],m=t[3],T={topLeft:{x:n.minX-e,y:n.minY-e},topRight:{x:n.maxX+e,y:n.minY-e},bottomLeft:{x:n.minX-e,y:n.maxY+e},bottomRight:{x:n.maxX+e,y:n.maxY+e}},j=n.height*n.width;function G(at,mt){return n.width*((at.y-n.minY+(mt.y-n.minY))*.5)}if(u){if(o)return r?T.topLeft:T.bottomRight;if(d)return r?T.bottomLeft:T.topRight;var et=G(u,m);return et<j*.5?u.y>m.y?r?T.topLeft:T.bottomRight:r?T.topRight:T.bottomLeft:u.y<m.y?r?T.bottomLeft:T.topRight:r?T.bottomRight:T.topLeft}if(m){if(o)return r?T.topRight:T.bottomLeft;if(d)return r?T.bottomRight:T.topLeft}var J=G(o,d);return J<j*.5?o.x>d.x?r?T.topLeft:T.bottomRight:r?T.bottomLeft:T.topRight:o.x<d.x?r?T.topRight:T.bottomLeft:r?T.bottomRight:T.topLeft}var Nc=function(){function l(e,t){this.cfg=Object(g.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(r){return Object(g.isString)(r)?e.findById(r):r}),this.nonMembers=this.cfg.nonMembers.map(function(r){return Object(g.isString)(r)?e.findById(r):r}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return l.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},l.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},l.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},l.prototype.calcPath=function(e,t){var r,n,o;switch(this.type){case"round-convex":r=Bs(e),o=Tl(r.map(function(u){return[u.x,u.y]}),this.padding),n=Object(eu.c)(o);break;case"smooth-convex":r=Bs(e),r.length===2?(o=Tl(r.map(function(u){return[u.x,u.y]}),this.padding),n=Object(eu.c)(o)):r.length>2&&(o=wc(r.map(function(u){return[u.x,u.y]}),this.padding),n=Lc(o));break;case"bubble":r=ku(e,t,this.cfg.bubbleCfg),n=r.length>=2&&Lc(r);break;default:}return n},l.prototype.render=function(){this.group.addShape("path",{attrs:Object(oe.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},l.prototype.addMember=function(e){if(!!e){Object(g.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},l.prototype.addNonMember=function(e){if(!!e){Object(g.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},l.prototype.removeMember=function(e){if(!!e){Object(g.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},l.prototype.removeNonMember=function(e){if(!!e){Object(g.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},l.prototype.updateData=function(e,t){var r=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(n){return Object(g.isString)(n)?r.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return Object(g.isString)(n)?r.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},l.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr(Object(oe.__assign)({},e))},l.prototype.updateCfg=function(e){var t=this;this.cfg=Object(g.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(r){return Object(g.isString)(r)?t.graph.findById(r):r})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(r){return Object(g.isString)(r)?t.graph.findById(r):r})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},l.prototype.contain=function(e){var t=this,r;Object(g.isString)(e)?r=this.graph.findById(e):r=e;var n,o=r.getKeyShape();if(r.get("type")==="path")n=Gu(o.attr("path"));else{var u=o.getCanvasBBox();n=[[u.minX,u.minY],[u.maxX,u.minY],[u.maxX,u.maxY],[u.minX,u.maxY]]}return n=n.map(function(d){var m=t.graph.getPointByCanvas(d[0],d[1]);return[m.x,m.y]}),yc(n,Gu(this.path))},l.prototype.destroy=function(){this.group.remove(),this.cfg=null},l}(),Ll=Nc,hl=ci.a.transform,Wf="node",Nd=function(l){Object(oe.__extends)(e,l);function e(t){var r=l.call(this)||this;return r.cfg=Object(g.deepMix)(r.getDefaultCfg(),t),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new Ys(r.cfg.maxStep),r.redoStack=new Ys(r.cfg.maxStep)),r}return e.prototype.init=function(){this.initCanvas();var t=new Ld(this),r=new Td(this),n=new Gf(this),o=new Uf(this);this.set({viewController:t,modeController:r,itemController:n,stateController:o}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas"),r=this.get("canvas").get("el"),n=r.id,o=t.addGroup({id:n+"-root",className:zn.rootContainerClassName});if(this.get("groupByTypes")){var u=o.addGroup({id:n+"-edge",className:zn.edgeContainerClassName}),d=o.addGroup({id:n+"-node",className:zn.nodeContainerClassName}),m=o.addGroup({id:n+"-combo",className:zn.comboContainerClassName});m.toBack(),this.set({nodeGroup:d,edgeGroup:u,comboGroup:m})}var T=o.addGroup({id:n+"-delegate",className:zn.delegateContainerClassName});this.set({delegateGroup:T}),this.set("group",o)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,r){return Object(g.isPlainObject)(t)?this.cfg=Object(oe.__assign)(Object(oe.__assign)({},this.cfg),t):this.cfg[t]=r,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,r){Object(g.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");r||(r=t.get("states")),n.clearItemStates(t,r);var o=this.get("stateController");o.updateStates(t,r,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,r){var n,o=this.get(t+"s");return Object(g.each)(o,function(u,d){if(r(u,d))return n=u,n}),n},e.prototype.findAll=function(t,r){var n=[];return Object(g.each)(this.get(t+"s"),function(o,u){r(o,u)&&n.push(o)}),n},e.prototype.findAllByState=function(t,r){return this.findAll(t,function(n){return n.hasState(r)})},e.prototype.translate=function(t,r){var n=this.get("group"),o=Object(g.clone)(n.getMatrix());o||(o=[1,0,0,0,1,0,0,0,1]),o=hl(o,[["t",t,r]]),n.setMatrix(o),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,r,n,o){var u=this.get("group");_o(u,{x:t,y:r},n,o||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:u.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var r=this.get("viewController");r.fitView(),this.autoPaint()},e.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!0),this},e.prototype.removeBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!1),this},e.prototype.updateBehavior=function(t,r,n){var o=this.get("modeController");return o.updateBehavior(t,r,n),this},e.prototype.zoom=function(t,r){var n=this.get("group"),o=Object(g.clone)(n.getMatrix()),u=this.get("minZoom"),d=this.get("maxZoom");o||(o=[1,0,0,0,1,0,0,0,1]),r?o=hl(o,[["t",-r.x,-r.y],["s",t,t],["t",r.x,r.y]]):o=hl(o,[["s",t,t]]),!(u&&o[0]<u||d&&o[0]>d)&&(n.setMatrix(o),this.emit("viewportchange",{action:"zoom",matrix:o}),this.autoPaint())},e.prototype.zoomTo=function(t,r){var n=t/this.getZoom();this.zoom(n,r)},e.prototype.focusItem=function(t,r,n){var o=this.get("viewController"),u=!1;r?u=!0:r===void 0&&(u=this.get("animate"));var d={};n?d=n:n===void 0&&(d=this.get("animateCfg")),o.focus(t,u,d),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,r){var n=this.get("viewController");return n.getPointByClient(t,r)},e.prototype.getClientByPoint=function(t,r){var n=this.get("viewController");return n.getClientByPoint(t,r)},e.prototype.getPointByCanvas=function(t,r){var n=this.get("viewController");return n.getPointByCanvas(t,r)},e.prototype.getCanvasByPoint=function(t,r){var n=this.get("viewController");return n.getCanvasByPoint(t,r)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),o=n.changeItemVisibility(t,!0);if(r&&this.get("enabledStack")){var u=o.getID(),d=o.getType(),m={},T={};switch(d){case"node":m.nodes=[{id:u,visible:!1}],T.nodes=[{id:u,visible:!0}];break;case"edge":m.nodes=[{id:u,visible:!1}],T.edges=[{id:u,visible:!0}];break;case"combo":m.nodes=[{id:u,visible:!1}],T.combos=[{id:u,visible:!0}];break;default:break}this.pushStack("visible",{before:m,after:T})}},e.prototype.hideItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),o=n.changeItemVisibility(t,!1);if(r&&this.get("enabledStack")){var u=o.getID(),d=o.getType(),m={},T={};switch(d){case"node":m.nodes=[{id:u,visible:!0}],T.nodes=[{id:u,visible:!1}];break;case"edge":m.nodes=[{id:u,visible:!0}],T.edges=[{id:u,visible:!1}];break;case"combo":m.nodes=[{id:u,visible:!0}],T.combos=[{id:u,visible:!1}];break;default:break}this.pushStack("visible",{before:m,after:T})}},e.prototype.refreshItem=function(t){var r=this.get("itemController");r.refreshItem(t)},e.prototype.setAutoPaint=function(t){var r=this;r.set("autoPaint",t);var n=r.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,r){r===void 0&&(r=!0),this.removeItem(t,r)},e.prototype.removeItem=function(t,r){r===void 0&&(r=!0);var n=t;if(Object(g.isString)(t)&&(n=this.findById(t)),!n&&Object(g.isString)(t))console.warn("The item to be removed does not exist!");else if(n){var o="";if(n.getType&&(o=n.getType()),r&&this.get("enabledStack")){var u=Object(oe.__assign)(Object(oe.__assign)({},n.getModel()),{itemType:o}),d={};switch(o){case"node":{d.nodes=[u],d.edges=[];for(var m=n.getEdges(),T=m.length-1;T>=0;T--)d.edges.push(Object(oe.__assign)(Object(oe.__assign)({},m[T].getModel()),{itemType:"edge"}));break}case"edge":d.edges=[u];break;case"combo":d.combos=[u];break;default:break}this.pushStack("delete",{before:d,after:{}})}if(o==="node"){var j=n.getModel();j.comboId&&this.updateComboTree(n)}var G=this.get("itemController");if(G.removeItem(n),o==="combo"){var et=Af(this.get("comboTrees"));this.set("comboTrees",et)}}},e.prototype.addItem=function(t,r,n,o){n===void 0&&(n=!0),o===void 0&&(o=!0);var u=this.get("comboSorted");this.set("comboSorted",u&&!o);var d=this.get("itemController");if(!Cd(t,r))return!1;if(r.id&&this.findById(r.id)){console.warn("This item exists already. Be sure the id %c"+r.id+"%c is unique.","font-size: 20px; color: red;","");return}var m,T=this.get("comboTrees");if(T||(T=[]),t==="combo"){var j=this.get("itemMap"),G=!1;if(T.forEach(function(zt){G||ws(zt,function(Ht){if(r.parentId===Ht.id){G=!0;var qt=Object(oe.__assign)({id:r.id,depth:Ht.depth+2},r);Ht.children?Ht.children.push(qt):Ht.children=[qt],r.depth=qt.depth,m=d.addItem(t,r)}var ue=j[Ht.id];return G&&ue&&ue.getType&&ue.getType()==="combo"&&d.updateCombo(ue,Ht.children),!0})}),!G){var et=Object(oe.__assign)({id:r.id,depth:0},r);r.depth=et.depth,T.push(et),m=d.addItem(t,r)}this.set("comboTrees",T)}else if(t==="node"&&Object(g.isString)(r.comboId)&&T){var J=this.findById(r.comboId);J&&J.getType&&J.getType()!=="combo"&&console.warn("'"+r.comboId+"' is not a id of a combo in the graph, the node will be added without combo."),m=d.addItem(t,r);var at=this.get("itemMap"),mt=!1,St=!1;(T||[]).forEach(function(zt){St||mt||ws(zt,function(Ht){if(Ht.id===r.id)return St=!0,!1;if(r.comboId===Ht.id&&!St){mt=!0;var qt=Object(g.clone)(r);qt.itemType="node",Ht.children?Ht.children.push(qt):Ht.children=[qt],qt.depth=Ht.depth+1}return mt&&at[Ht.id].getType&&at[Ht.id].getType()==="combo"&&d.updateCombo(at[Ht.id],Ht.children),!0})})}else m=d.addItem(t,r);if(t==="node"&&r.comboId||t==="combo"&&r.parentId){var J=this.findById(r.comboId||r.parentId);J&&J.getType&&J.getType()==="combo"&&J.addChild(m)}var Dt=this.get("combos");if(Dt&&Dt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var Ct=Object(oe.__assign)(Object(oe.__assign)({},m.getModel()),{itemType:t}),Bt={};switch(t){case"node":Bt.nodes=[Ct];break;case"edge":Bt.edges=[Ct];break;case"combo":Bt.combos=[Ct];break;default:break}this.pushStack("add",{before:{},after:Bt})}return m},e.prototype.add=function(t,r,n,o){return n===void 0&&(n=!0),o===void 0&&(o=!0),this.addItem(t,r,n,o)},e.prototype.updateItem=function(t,r,n){var o=this;n===void 0&&(n=!0);var u=this.get("itemController"),d;Object(g.isString)(t)?d=this.findById(t):d=t;var m=Object(g.clone)(d.getModel()),T="";d.getType&&(T=d.getType());var j=Object(oe.__spreadArray)([],d.getStates());if(T==="combo"&&Object(g.each)(j,function(at){return o.setItemState(d,at,!1)}),u.updateItem(d,r),T==="combo"&&Object(g.each)(j,function(at){return o.setItemState(d,at,!0)}),n&&this.get("enabledStack")){var G={nodes:[],edges:[],combos:[]},et={nodes:[],edges:[],combos:[]},J=Object(oe.__assign)({id:m.id},r);switch(T){case"node":G.nodes.push(m),et.nodes.push(J);break;case"edge":G.edges.push(m),et.edges.push(J);break;case"combo":G.combos.push(m),et.combos.push(J);break;default:break}T==="node"&&G.nodes.push(m),this.pushStack("update",{before:G,after:et})}},e.prototype.update=function(t,r,n){n===void 0&&(n=!0),this.updateItem(t,r,n)},e.prototype.setItemState=function(t,r,n){Object(g.isString)(t)&&(t=this.findById(t));var o=this.get("itemController");o.setItemState(t,r,n);var u=this.get("stateController");Object(g.isString)(n)?u.updateState(t,r+":"+n,!0):u.updateState(t,r,n)},e.prototype.priorityState=function(t,r){var n=this.get("itemController");n.priorityState(t,r)},e.prototype.data=function(t){Th(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var r=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!r)throw new Error("data must be defined first");var n=r.nodes,o=n===void 0?[]:n,u=r.edges,d=u===void 0?[]:u,m=r.combos,T=m===void 0?[]:m;if(this.clear(!0),this.emit("beforerender"),Object(g.each)(o,function(St){t.add("node",St,!1,!1)}),T&&T.length!==0){var j=_l(T,o);this.set("comboTrees",j),t.addCombos(T)}Object(g.each)(d,function(St){t.add("edge",St,!1,!1)});var G=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var et=t.get("layoutController");if(et){if(et.layout(J),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",G);function J(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",G)}if(!this.get("groupByTypes"))if(T&&T.length!==0)this.sortCombos();else if(r.nodes&&r.edges&&r.nodes.length<r.edges.length){var at=this.getNodes();at.forEach(function(St){St.toFront()})}else{var mt=this.getEdges();mt.forEach(function(St){St.toBack()})}this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,r,n){var o=this,u,d=this.get("itemMap");Object(g.each)(n,function(m){if(u=d[m.id],u){if(o.get("animate")&&t===Wf){var T=u.getContainer().getMatrix();T||(T=[1,0,0,0,1,0,0,0,1]),u.set("originAttrs",{x:T[6],y:T[7]})}o.updateItem(u,m,!1)}else u=o.addItem(t,m,!1);u&&r[t+"s"].push(u)})},e.prototype.changeData=function(t,r){r===void 0&&(r=!0);var n=this;if(!Th(t))return this;r&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(mt){return n.clearItemStates(mt)}),this.getEdges().map(function(mt){return n.clearItemStates(mt)});var o=this.get("canvas"),u=o.get("localRefresh");o.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var d=this.get("itemMap"),m={nodes:[],edges:[]},T=t.combos;if(T){var j=_l(T,t.nodes);this.set("comboTrees",j)}else this.set("comboTrees",[]);this.diffItems("node",m,t.nodes),Object(g.each)(d,function(mt,St){d[St].getModel().depth=0,!(mt.getType&&mt.getType()==="edge")&&(mt.getType&&mt.getType()==="combo"?(delete d[St],mt.destroy()):m.nodes.indexOf(mt)<0&&(delete d[St],n.remove(mt,!1)))});for(var G=this.getCombos(),et=G.length,J=et-1;J>=0;J--)G[J].destroyed&&G.splice(J,1);T&&(n.addCombos(T),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",m,t.edges),Object(g.each)(d,function(mt,St){mt.getType&&(mt.getType()==="node"||mt.getType()==="combo")||m.edges.indexOf(mt)<0&&(delete d[St],n.remove(mt,!1))}),this.set({nodes:m.nodes,edges:m.edges});var at=this.get("layoutController");return at&&(at.changeData(),n.get("animate")&&!at.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout(function(){o.set("localRefresh",u)},16),this},e.prototype.addCombos=function(t){var r=this,n=r.get("comboTrees"),o=this.get("itemController");o.addCombos(n,t)},e.prototype.createCombo=function(t,r){var n=this;this.set("comboSorted",!1);var o="",u;if(!!t){if(Object(g.isString)(t))o=t,u={id:t};else{if(o=t.id,!o){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}u=t}var d=r.map(function(T){var j=n.findById(T),G=j.getModel(),et="";j.getType&&(et=j.getType());var J={id:j.getID(),itemType:et};return et==="combo"?(J.parentId=o,G.parentId=o):et==="node"&&(J.comboId=o,G.comboId=o),J});u.children=d,this.addItem("combo",u,!1),this.set("comboSorted",!1);var m=this.get("comboTrees");(m||[]).forEach(function(T){ws(T,function(j){return j.id===o?(j.itemType="combo",j.children=d,!1):!0})}),m&&this.sortCombos()}},e.prototype.uncombo=function(t){var r=this,n=this,o=t;if(Object(g.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var u=o.getModel().parentId,d=n.get("comboTrees");d||(d=[]);var m=this.get("itemMap"),T=o.get("id"),j,G=[],et=this.get("combos"),J=this.findById(u);if(d.forEach(function(mt){j||ws(mt,function(St){if(St.id===T){j=St;var Dt=o.getEdges();Dt.forEach(function(Bt){r.removeItem(Bt,!1)});var Ct=et.indexOf(o);et.splice(Ct,1),delete m[T],o.destroy()}if(u&&j&&St.id===u){J.removeCombo(o),G=St.children;var Ct=G.indexOf(j);return Ct!==-1&&G.splice(Ct,1),j.children.forEach(function(zt){var Ht=r.findById(zt.id),qt=Ht.getModel();Ht.getType&&Ht.getType()==="combo"?(zt.parentId=u,delete zt.comboId,qt.parentId=u,delete qt.comboId):Ht.getType&&Ht.getType()==="node"&&(zt.comboId=u,qt.comboId=u),J.addChild(Ht),G.push(zt)}),!1}return!0})}),!u&&j){var at=d.indexOf(j);d.splice(at,1),j.children.forEach(function(mt){mt.parentId=void 0;var St=r.findById(mt.id).getModel();delete St.parentId,delete St.comboId,mt.itemType!=="node"&&d.push(mt)})}},e.prototype.updateCombos=function(){var t=this,r=this,n=this.get("comboTrees"),o=r.get("itemController"),u=r.get("itemMap");(n||[]).forEach(function(d){ws(d,function(m){if(!m)return!0;var T=u[m.id];if(T&&T.getType&&T.getType()==="combo"){var j=Object(oe.__spreadArray)([],T.getStates());Object(g.each)(j,function(G){return t.setItemState(T,G,!1)}),o.updateCombo(T,m.children),Object(g.each)(j,function(G){return t.setItemState(T,G,!0)})}return!0})}),r.sortCombos()},e.prototype.updateCombo=function(t){var r=this,n=this,o=t,u;if(Object(g.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}u=o.get("id");var d=this.get("comboTrees"),m=n.get("itemController"),T=n.get("itemMap");(d||[]).forEach(function(j){ws(j,function(G){if(!G)return!0;var et=T[G.id];if(u===G.id&&et&&et.getType&&et.getType()==="combo"){var J=Object(oe.__spreadArray)([],et.getStates());Object(g.each)(J,function(at){et.getStateStyle(at)&&r.setItemState(et,at,!1)}),m.updateCombo(et,G.children),Object(g.each)(J,function(at){et.getStateStyle(at)&&r.setItemState(et,at,!0)}),u&&(u=G.parentId)}return!0})})},e.prototype.updateComboTree=function(t,r,n){n===void 0&&(n=!0);var o=this;this.set("comboSorted",!1);var u;Object(g.isString)(t)?u=o.findById(t):u=t;var d=u.getModel(),m=d.comboId||d.parentId,T="";if(u.getType&&(T=u.getType()),r&&T==="combo"){var j=this.get("comboTrees"),G=!0,et;if((j||[]).forEach(function(Ct){et||No(Ct,function(Bt){if(!et)return Bt.id===u.getID()&&(et=Bt),!0})}),No(et,function(Ct){return Ct.id===r?(G=!1,!1):!0}),!G){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(n&&this.get("enabledStack")){var J={},at={};T==="combo"?(J.combos=[{id:d.id,parentId:d.parentId}],at.combos=[{id:d.id,parentId:r}]):T==="node"&&(J.nodes=[{id:d.id,parentId:d.comboId}],at.nodes=[{id:d.id,parentId:r}]),this.pushStack("updateComboTree",{before:J,after:at})}if(d.parentId||d.comboId){var mt=this.findById(d.parentId||d.comboId);mt&&mt.removeChild(u)}if(T==="combo"?d.parentId=r:T==="node"&&(d.comboId=r),r){var St=this.findById(r);St&&St.addChild(u)}if(m){var St=this.findById(m);St&&St.removeChild(u)}var Dt=Af(this.get("comboTrees"),d.id,r);this.set("comboTrees",Dt),this.updateCombos()},e.prototype.save=function(){var t=[],r=[],n=[];return Object(g.each)(this.get("nodes"),function(o){t.push(o.getModel())}),Object(g.each)(this.get("edges"),function(o){r.push(o.getModel())}),Object(g.each)(this.get("combos"),function(o){n.push(o.getModel())}),{nodes:t,edges:r,combos:n}},e.prototype.changeSize=function(t,r){var n=this.get("viewController");return n.changeSize(t,r),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var r=t.get("nodes"),n=t.get("edges"),o=t.get("edges");Object(g.each)(r,function(u){u.refresh()}),Object(g.each)(n,function(u){u.refresh()}),Object(g.each)(o,function(u){u.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if(Object(g.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var r=t.get("animateCfg"),n=r.onFrame,o=t.getNodes(),u=o.map(function(m){var T=m.getModel();return{id:T.id,x:T.x,y:T.y}});t.isAnimating()&&t.stopAnimate();var d=t.get("canvas");d.animate(function(m){Object(g.each)(u,function(T){var j=t.findById(T.id);if(!(!j||j.destroyed)){var G=j.get("originAttrs"),et=j.get("model");if(!G){var J=j.getContainer().getMatrix();J||(J=[1,0,0,0,1,0,0,0,1]),G={x:J[6],y:J[7]},j.set("originAttrs",G)}if(n){var at=n(j,m,T,G);j.set("model",Object.assign(et,at))}else et.x=G.x+(T.x-G.x)*m,et.y=G.y+(T.y-G.y)*m}}),t.refreshPositions()},{duration:r.duration,easing:r.easing,callback:function(){Object(g.each)(o,function(T){T.set("originAttrs",null)}),r.callback&&r.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var r=t.get("nodes"),n=t.get("edges"),o=t.get("vedges"),u=t.get("combos"),d,m={};Object(g.each)(r,function(T){d=T.getModel();var j=T.get("originAttrs");if(!(j&&d.x===j.x&&d.y===j.y)){var G=T.updatePosition({x:d.x,y:d.y});m[d.id]=G,d.comboId&&(m[d.comboId]=m[d.comboId]||G)}}),u&&u.length!==0&&t.updateCombos(),Object(g.each)(n,function(T){var j=T.getSource().getModel(),G=T.getTarget();if(!Object(g.isPlainObject)(G)){var et=G.getModel();(m[j.id]||m[et.id]||T.getModel().isComboEdge)&&T.refresh()}}),Object(g.each)(o,function(T){T.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var r=this.get("modeController");return r.setMode(t),this},e.prototype.clear=function(t){t===void 0&&(t=!1);var r=this.get("canvas");return r.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t){var r=this.get("layoutController");Object(g.isString)(t)&&(t={type:t});var n=this.get("layout"),o={};Object.assign(o,n,t),this.set("layout",o),r.isLayoutTypeSame(o)&&o.gpuEnabled===n.gpuEnabled?r.updateLayoutCfg(o):r.changeLayout(o)},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),r=this.get("layout");if(!(!r||!t)){if(r.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},e.prototype.collapseCombo=function(t){var r=this;if(Object(g.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel(),o=this.get("itemController");o.collapseCombo(t),n.collapsed=!0;var u=this.getEdges().concat(this.get("vedges")),d=[],m=[],T=this.get("comboTrees"),j=!1;(T||[]).forEach(function(J){j||No(J,function(at){if(j&&at.depth<=n.depth)return!1;if(n.id===at.id&&(j=!0),j){var mt=r.findById(at.id);mt&&mt.getType&&mt.getType()==="combo"&&(d=d.concat(mt.getNodes()),m=m.concat(mt.getCombos()))}return!0})});var G={},et=[];u.forEach(function(J){if(!(J.isVisible()&&!J.getModel().isVEdge)){var at=J.getSource(),mt=J.getTarget();if((d.includes(at)||m.includes(at))&&!d.includes(mt)&&!m.includes(mt)||at.getModel().id===n.id){var St=J.getModel();if(St.isVEdge){r.removeItem(J,!1);return}for(var Dt=mt.getModel();!mt.isVisible();){if(mt=r.findById(Dt.parentId||Dt.comboId),!mt||!Dt.parentId&&!Dt.comboId)return;Dt=mt.getModel()}var Ct=Dt.id;if(G[n.id+"-"+Ct]){G[n.id+"-"+Ct]+=St.size||1;return}var Bt=r.addItem("vedge",{source:n.id,target:Ct,isVEdge:!0},!1);G[n.id+"-"+Ct]=St.size||1,et.push(Bt)}else if(!d.includes(at)&&!m.includes(at)&&(d.includes(mt)||m.includes(mt))||mt.getModel().id===n.id){var St=J.getModel();if(St.isVEdge){r.removeItem(J,!1);return}for(var zt=at.getModel();!at.isVisible();){if(at=r.findById(zt.parentId||zt.comboId),!at||!zt.parentId&&!zt.comboId)return;zt=at.getModel()}var Ht=zt.id;if(G[Ht+"-"+n.id]){G[Ht+"-"+n.id]+=St.size||1;return}var Bt=r.addItem("vedge",{target:n.id,source:Ht,isVEdge:!0},!1);G[Ht+"-"+n.id]=St.size||1,et.push(Bt)}}}),et.forEach(function(J){var at=J.getModel();r.updateItem(J,{size:G[at.source+"-"+at.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})},e.prototype.expandCombo=function(t){var r=this;if(Object(g.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel(),o=this.get("itemController");o.expandCombo(t),n.collapsed=!1;var u=this.getEdges().concat(this.get("vedges")),d=[],m=[],T=this.get("comboTrees"),j=!1;(T||[]).forEach(function(J){j||No(J,function(at){if(j&&at.depth<=n.depth)return!1;if(n.id===at.id&&(j=!0),j){var mt=r.findById(at.id);mt&&mt.getType&&mt.getType()==="combo"&&(d=d.concat(mt.getNodes()),m=m.concat(mt.getCombos()))}return!0})});var G={},et={};u.forEach(function(J){if(!(J.isVisible()&&!J.getModel().isVEdge)){var at=J.getSource(),mt=J.getTarget(),St=at.get("id"),Dt=mt.get("id");if((d.includes(at)||m.includes(at))&&!d.includes(mt)&&!m.includes(mt)||St===n.id){if(J.getModel().isVEdge){r.removeItem(J,!1);return}for(var Ct=mt.getModel();!mt.isVisible();){if(mt=r.findById(Ct.comboId||Ct.parentId),!mt||!Ct.parentId&&!Ct.comboId)return;Ct=mt.getModel()}Dt=Ct.id;for(var Bt=at.getModel();!at.isVisible();){if(at=r.findById(Bt.comboId||Bt.parentId),!at||!Bt.parentId&&!Bt.comboId)return;if(Bt.comboId===n.id||Bt.parentId===n.id)break;Bt=at.getModel()}if(St=Bt.id,Dt){var zt=St+"-"+Dt;if(G[zt]){G[zt]+=J.getModel().size||1,r.updateItem(et[zt],{size:G[zt]},!1);return}var Ht=r.addItem("vedge",{source:St,target:Dt,isVEdge:!0},!1);G[zt]=J.getModel().size||1,et[zt]=Ht}}else if(!d.includes(at)&&!m.includes(at)&&(d.includes(mt)||m.includes(mt))||Dt===n.id){if(J.getModel().isVEdge){r.removeItem(J,!1);return}for(var Bt=at.getModel();!at.isVisible();){if(at=r.findById(Bt.comboId||Bt.parentId),!at||!Bt.parentId&&!Bt.comboId)return;Bt=at.getModel()}St=Bt.id;for(var Ct=mt.getModel();!mt.isVisible();){if(mt=r.findById(Ct.comboId||Ct.parentId),!mt||!Ct.parentId&&!Ct.comboId)return;if(Ct.comboId===n.id||Ct.parentId===n.id)break;Ct=mt.getModel()}if(Dt=Ct.id,St){var zt=St+"-"+Dt;if(G[zt]){G[zt]+=J.getModel().size||1,r.updateItem(et[zt],{size:G[zt]},!1);return}var Ht=r.addItem("vedge",{target:Dt,source:St,isVEdge:!0},!1);G[zt]=J.getModel().size||1,et[zt]=Ht}}else(d.includes(at)||m.includes(at))&&(d.includes(mt)||m.includes(mt))&&at.isVisible()&&mt.isVisible()&&J.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},e.prototype.collapseExpandCombo=function(t){if(Object(g.isString)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var r=t.getModel(),n=this.findById(r.parentId);n;){var o=n.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(o.parentId)}var u=r.collapsed;u?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.sortCombos=function(){var t=this,r=this.get("comboSorted");if(!r){this.set("comboSorted",!0);var n=[],o={},u=this.get("comboTrees");(u||[]).forEach(function(m){No(m,function(T){return n[T.depth]?n[T.depth].push(T.id):n[T.depth]=[T.id],o[T.id]=T.depth,!0})});var d=this.getEdges().concat(this.get("vedges"));(d||[]).forEach(function(m){var T=m.getModel(),j=o[T.source]||0,G=o[T.target]||0,et=Math.max(j,G);n[et]?n[et].push(T.id):n[et]=[T.id]}),n.forEach(function(m){if(!(!m||!m.length))for(var T=m.length-1;T>=0;T--){var j=t.findById(m[T]);j&&j.toFront()}})}},e.prototype.getNeighbors=function(t,r){var n=t;return Object(g.isString)(t)&&(n=this.findById(t)),n.getNeighbors(r)},e.prototype.getNodeDegree=function(t,r,n){r===void 0&&(r=void 0),n===void 0&&(n=!1);var o=t;Object(g.isString)(t)&&(o=this.findById(t));var u=this.get("degrees");(!u||n)&&(u=re(this.save()),this.set("degrees",u));var d=u[o.getID()],m=0;if(!d)return 0;switch(r){case"in":m=d.inDegree;break;case"out":m=d.outDegree;break;case"all":m=d;break;default:m=d.degree;break}return m},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,r,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var o=r?Object(g.clone)(r):{before:{},after:Object(g.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:o}):this.undoStack.push({action:t,data:o}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Ao(this.save(),r),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix"),o=this.get("shortestPathMatrix");return(!n||!t)&&(n=Ao(this.save(),r),this.set("adjMatrix",n)),(!o||!t)&&(o=qn(this.save(),r),this.set("shortestPathMatrix",o)),o},e.prototype.on=function(t,r,n){return l.prototype.on.call(this,t,r,n)},e.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var r=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),(!r||r.get("destroyed"))&&(r=this.get("group").addGroup({id:"hullGroup"}),r.toBack(),this.set("hullGroup",r)),n[t.id])return console.warn("Existed hull id."),n[t.id];var o=r.addGroup({id:t.id+"-container"}),u=new Ll(this,Object(oe.__assign)(Object(oe.__assign)({},t),{group:o})),d=u.id;return n[d]=u,u},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var r;Object(g.isString)(t)?r=this.getHullById(t):r=t;var n=this.get("hullMap");delete n[r.id],r.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(r){var n=t[r];n.destroy()}),this.set("hullMap",{}))},e}(yo.a),Fc=Nd;function Hu(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hu=function(t){return typeof t}:Hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(l)}var dl=ci.a.transform,Fd="-shape",Rl="-label",Gc=["startArrow","endArrow"],zf={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Gd={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Ku={edge:Gd,node:zf,combo:zf},Vf="-label-bg",kf={options:{},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e){return Object(g.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){var r=this.drawShape(e,t);if(r.set("className",this.itemType+Fd),e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+Rl)}return r},afterDraw:function(e,t,r){},drawShape:function(e,t){return null},drawLabel:function(e,t){var r=this.getOptions(e).labelCfg,n=r||{},o=this.getLabelStyle(e,n,t),u=o.rotate;delete o.rotate;var d=t.addShape("text",{attrs:o,draggable:!0,className:"text-shape",name:"text-shape"});if(u){var m=d.getBBox(),T=d.getMatrix();if(T||(T=[1,0,0,0,1,0,0,0,1]),o.rotateCenter)switch(o.rotateCenter){case"center":T=dl(T,[["t",-m.width/2,-m.height/2],["r",u],["t",m.width/2,m.height/2]]);break;case"lefttop":T=dl(T,[["t",-o.x,-o.y],["r",u],["t",o.x,o.y]]);break;case"leftcenter":T=dl(T,[["t",-o.x,-o.y-m.height/2],["r",u],["t",o.x,o.y+m.height/2]]);break;default:T=dl(T,[["t",-m.width/2,-m.height/2],["r",u],["t",m.width/2,m.height/2]]);break}else T=dl(T,[["t",-o.x,-o.y-m.height/2],["r",u],["t",o.x,o.y+m.height/2]]);d.setMatrix(T)}if(o.background){var j=this.drawLabelBg(e,t,d),G=this.itemType+Vf;j.set("classname",G),d.toFront()}return d},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,o=Object(g.mix)({},n,e.labelCfg),u=this.getLabelBgStyleByPosition(r,e,o,t),d=t.addShape("rect",{name:"text-bg-shape",attrs:u});return d},getLabelStyleByPosition:function(e,t,r){return{text:e.label}},getLabelBgStyleByPosition:function(e,t,r,n){return{}},getLabelStyle:function(e,t,r){var n=this.getLabelStyleByPosition(e,t,r),o=this.itemType+"Label",u=zn[o]?zn[o].style:null,d=Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)({},u),n),t.style);return d},getShapeStyle:function(e){return e.style},update:function(e,t){this.updateShapeStyle(e,t),this.updateLabel(e,t)},updateShapeStyle:function(e,t){var r=t.getContainer(),n=t.getKeyShape(),o=Object(g.mix)({},n.attr(),e.style),u=function(T){var j,G=o[T];if(Object(g.isPlainObject)(G)){var et=r.find(function(J){return J.get("name")===T});et&&et.attr(G)}else n.attr((j={},j[T]=G,j))};for(var d in o)u(d)},updateLabel:function(e,t){var r=t.getContainer(),n=this.getOptions({}).labelCfg,o=this.itemType+Rl,u=r.find(function(Ht){return Ht.get("className")===o}),d=this.itemType+Vf,m=r.find(function(Ht){return Ht.get("classname")===d});if(e.label||e.label==="")if(u){var j={};t.getModel&&(j=t.getModel().labelCfg);var G=Object(g.deepMix)({},n,j,e.labelCfg),et=this.getLabelStyleByPosition(e,G,r),J=e.labelCfg?e.labelCfg.style:void 0,at=G.style&&G.style.background,mt=Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)({},u.attr()),et),J),St=mt.rotate;if(delete mt.rotate,St){var Dt=[1,0,0,0,1,0,0,0,1];Dt=dl(Dt,[["t",-mt.x,-mt.y],["r",St],["t",mt.x,mt.y]]),u.resetMatrix(),u.attr(Object(oe.__assign)(Object(oe.__assign)({},mt),{matrix:Dt}))}else u.resetMatrix(),u.attr(mt);if(!m)mt.background&&(m=this.drawLabelBg(e,r,u),m.set("classname",d),u.toFront());else if(mt.background){var Ct=this.getLabelBgStyleByPosition(u,e,G,r),Bt=Object(oe.__assign)(Object(oe.__assign)({},Ct),at);if(m.resetMatrix(),St){var zt=[1,0,0,0,1,0,0,0,1];zt=dl(zt,[["t",-Bt.x,-Bt.y],["r",St],["t",Bt.x,Bt.y]]),Bt.matrix=zt}m.attr(Bt)}else r.removeChild(m)}else{var T=this.drawLabel(e,r);T.set("className",o)}},afterUpdate:function(e,t){},setState:function(e,t,r){var n,o,u=r.get("keyShape");if(!(!u||u.destroyed)){var d=r.getType(),m=Object(g.isBoolean)(t)?e:e+":"+t,T=this.getStateStyle(m,r),j=r.getStateStyle(m);if(!(!j&&!T)){var G=Object(g.mix)({},j||T),et=r.getContainer(),J={x:1,y:1,cx:1,cy:1};if(d==="combo"&&(J.r=1,J.width=1,J.height=1),t){var at=function(fr){var en,sn=G[fr];if(Object(g.isPlainObject)(sn)&&!Gc.includes(fr)){var Yr=et.find(function(rn){return rn.get("name")===fr});Yr&&Yr.attr(sn)}else u.attr((en={},en[fr]=sn,en))};for(var mt in G)at(mt)}else{var St=$l(r.getCurrentStatesStyle()),Dt=r.getModel(),Ct=Object(g.mix)({},Dt.style,$l(r.getOriginStyle())),Bt=u.get("name"),zt=u.attr(),Ht={};Object.keys(zt).forEach(function(cr){if(cr!=="img"){var fr=zt[cr];fr&&Hu(fr)==="object"?Ht[cr]=Object(g.clone)(fr):Ht[cr]=fr}});var qt={},ue=function(fr){var en=G[fr];if(Object(g.isPlainObject)(en)&&!Gc.includes(fr)){var sn=et.find(function(gn){return gn.get("name")===fr});if(sn){var Yr=$l(sn.attr());Object(g.each)(en,function(gn,vn){if(fr===Bt&&Ht[vn]&&!J[vn]){delete Ht[vn];var ln=Ct[fr][vn]||Ku[d][vn];u.attr(vn,ln)}else if(Yr[vn]||Yr[vn]===0){delete Yr[vn];var Pn=Ct[fr][vn]||Ku[d][vn];sn.attr(vn,Pn)}}),qt[fr]=Yr}}else if(Ht[fr]&&!J[fr]){delete Ht[fr];var rn=Ct[fr]||(Ct[Bt]?Ct[Bt][fr]:void 0)||Ku[d][fr];u.attr(fr,rn)}};for(var se in G)ue(se);Bt?qt[Bt]=Ht:Object(g.mix)(qt,Ht);for(var mt in St)if(!J[mt]){var Me=St[mt];(!Object(g.isPlainObject)(Me)||Gc.includes(mt))&&(Bt?(Object(g.mix)(Ct[Bt],(o={},o[mt]=Me,o)),delete Ct[mt]):Object(g.mix)(Ct,(n={},n[mt]=Me,n)),delete St[mt])}var ve={};Object(g.deepMix)(ve,Ct,qt,St);var De=!1,ye=function(fr){var en,sn,Yr=ve[fr];if(Object(g.isPlainObject)(Yr)&&!Gc.includes(fr)){var rn=et.find(function(vn){return vn.get("name")===fr});rn&&(fr===Bt&&(d==="combo"&&(delete Yr.r,delete Yr.width,delete Yr.height),De=!0),rn.attr(Yr))}else if(!De){var gn=Yr||Ku[d][fr];d==="combo"?Bt||u.attr((en={},en[fr]=gn,en)):u.attr((sn={},sn[fr]=gn,sn))}};for(var pr in ve)ye(pr)}}}},getStateStyle:function(e,t){var r=t.getModel(),n=t.getType(),o=this.getOptions(r),u=o.stateStyles,d=o.style,m=d===void 0?{}:d,T=r.stateStyles?r.stateStyles[e]:u&&u[e];return n==="combo"?Object(g.clone)(T):Object(g.mix)({},m,T)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.getOptions(e).anchorPoints;return t}},Ud={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:zn.nodeLabel.offset,getSize:function(e){var t=e.size||this.getOptions({}).size||zn.defaultNode.size;return Object(g.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(g.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition;if(r==="center")return{x:0,y:0,text:e.label};var n=t.offset;Object(g.isNil)(n)&&(n=this.offset);var o=this.getSize(e),u=o[0],d=o[1],m;switch(r){case"top":m={x:0,y:0-d/2-n,textBaseline:"bottom"};break;case"bottom":m={x:0,y:d/2+n,textBaseline:"top"};break;case"left":m={x:0-u/2-n,y:0,textAlign:"right"};break;default:m={x:u/2+n,y:0,textAlign:"left"};break}return m.text=e.label,m},getLabelBgStyleByPosition:function(e,t,r,n){if(!e)return{};var o=e.getBBox(),u=r.style&&r.style.background;if(!u)return{};var d=sl(u.padding),m=o.width+d[1]+d[3],T=o.height+d[0]+d[2],j=r.offset;Object(g.isNil)(j)&&(j=this.offset);var G;return G={x:o.minX-d[3],y:o.minY-d[0]},G=Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)({},G),u),{width:m,height:T}),G},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),o=t.addShape(r,{attrs:n,draggable:!0,name:"node-shape"});return o},updateLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=t.find(function(ue){return ue.get("className")==="link-point-left"}),o=t.find(function(ue){return ue.get("className")==="link-point-right"}),u=t.find(function(ue){return ue.get("className")==="link-point-top"}),d=t.find(function(ue){return ue.get("className")==="link-point-bottom"}),m;n&&(m=n.attr()),o&&!m&&(m=o.attr()),u&&!m&&(m=u.attr()),d&&!m&&(m=d.attr()),m||(m=r);var T=Object(g.mix)({},m,e.linkPoints),j=T.fill,G=T.stroke,et=T.lineWidth,J=T.size/2;J||(J=T.r);var at=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},mt=at.left,St=at.right,Dt=at.top,Ct=at.bottom,Bt=this.getSize(e),zt=Bt[0],Ht=Bt[1],qt={r:J,fill:j,stroke:G,lineWidth:et};n?!mt&&mt!==void 0?n.remove():n.attr(Object(oe.__assign)(Object(oe.__assign)({},qt),{x:-zt/2,y:0})):mt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},qt),{x:-zt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),o?(!St&&St!==void 0&&o.remove(),o.attr(Object(oe.__assign)(Object(oe.__assign)({},qt),{x:zt/2,y:0}))):St&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},qt),{x:zt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),u?(!Dt&&Dt!==void 0&&u.remove(),u.attr(Object(oe.__assign)(Object(oe.__assign)({},qt),{x:0,y:-Ht/2}))):Dt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},qt),{x:0,y:-Ht/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),d?!Ct&&Ct!==void 0?d.remove():d.attr(Object(oe.__assign)(Object(oe.__assign)({},qt),{x:0,y:Ht/2})):Ct&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},qt),{x:0,y:Ht/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(e,t,r,n){var o=t.get("keyShape");o.attr(Object(oe.__assign)({},r)),this.updateLabel(e,t),n&&this.updateIcon(e,t)},updateIcon:function(e,t){var r=this,n=t.getContainer(),o=this.getOptions(e).icon,u=(e.icon?e.icon:{show:void 0}).show,d=n.find(function(et){return et.get("className")===r.type+"-icon"});if(d)if(u||u===void 0){var m=Object(g.mix)({},d.attr(),o),T=m.width,j=m.height;d.attr(Object(oe.__assign)(Object(oe.__assign)({},m),{x:-T/2,y:-j/2}))}else d.remove();else if(u){var T=o.width,j=o.height;n.addShape("image",{attrs:Object(oe.__assign)(Object(oe.__assign)({},o),{x:-T/2,y:-j/2}),className:this.type+"-icon",name:this.type+"-icon"});var G=n.find(function(at){return at.get("className")==="node-label"});G&&G.toFront()}}},Wh=Object(oe.__assign)(Object(oe.__assign)({},kf),Ud);co.registerNode("single-node",Wh);var jl="edge-shape";function zh(l){var e=l;return l==="start"?e="end":l==="end"&&(e="start"),e}var Vh={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:zn.defaultEdge.size,style:{x:0,y:0,stroke:zn.defaultEdge.style.stroke,lineAppendWidth:zn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:zn.edgeLabel.style.fill,fontSize:zn.edgeLabel.style.fontSize}},stateStyles:Object(oe.__assign)({},zn.edgeStateStyles)},getPath:function(e){var t=[];return Object(g.each)(e,function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=Object(g.mix)({},t,r,e.style),o=e.size||zn.defaultEdge.size;e=this.getPathPoints(e);var u=e.startPoint,d=e.endPoint,m=this.getControlPoints(e),T=[u];m&&(T=T.concat(m)),T.push(d);var j=this.getPath(T),G=Object(g.mix)({},zn.defaultEdge.style,{stroke:zn.defaultEdge.color,lineWidth:o,path:j},n);return G},updateShapeStyle:function(e,t){var r=t.getContainer(),n={stroke:e.color},o=r.find(function(Ct){return Ct.get("className")==="edge-shape"})||t.getKeyShape(),u=e.size;e=this.getPathPoints(e);var d=e.startPoint,m=e.endPoint,T=this.getControlPoints(e),j=[d];T&&(j=j.concat(T)),j.push(m);var G=o.attr(),et=Object(g.mix)({},n,G,e.style),J=e.sourceNode,at=e.targetNode,mt={radius:et.radius};T||(mt={source:J,target:at,offset:et.offset,radius:et.radius}),G.endArrow&&et.endArrow===!1&&(e.style.endArrow={path:""}),G.startArrow&&et.startArrow===!1&&(e.style.startArrow={path:""});var St=this.getPath(j,mt),Dt=Object(g.mix)(n,o.attr(),{lineWidth:u,path:St},e.style);o&&o.attr(Dt)},getLabelStyleByPosition:function(e,t,r){var n=t.position||this.labelPosition,o={},u=r&&r.find(function(et){return et.get("className")===jl}),d;n==="start"?d=0:n==="end"?d=1:d=.5;var m=t.refX||this.refX,T=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return o.x=e.startPoint.x+m,o.y=e.startPoint.y+T,o.text=e.label,o;var j;Object(g.isNil)(t.autoRotate)?j=this.labelAutoRotate:j=t.autoRotate;var G=ol(u,d,m,T,j);return o.x=G.x,o.y=G.y,o.rotate=G.rotate,o.textAlign=this._getTextAlign(n,G.angle),o.text=e.label,o},getLabelBgStyleByPosition:function(e,t,r,n){if(!e)return{};var o=e.getBBox(),u=r.style&&r.style.background;if(!u)return{};var d=u.padding,m=o.width+d[1]+d[3],T=o.height+d[0]+d[2],j=r.position||this.labelPosition,G=Object(oe.__assign)(Object(oe.__assign)({},u),{width:m,height:T,x:o.minX-d[2],y:o.minY-d[0],rotate:0}),et;Object(g.isNil)(r.autoRotate)?et=this.labelAutoRotate:et=r.autoRotate;var J=n&&n.find(function(Bt){return Bt.get("className")===jl}),at;j==="start"?at=0:j==="end"?at=1:at=.5;var mt=r.refX||this.refX,St=r.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return G.x=t.startPoint.x+mt-m/2,G.y=t.startPoint.y+St-T/2,G;var Dt=ol(J,at,mt-m/2,St+T/2,et),Ct=Dt.angle;return Ct>1/2*Math.PI&&Ct<3*1/2*Math.PI&&(Dt=ol(J,at,mt+m/2,St+T/2,et)),et&&(G.x=Dt.x,G.y=Dt.y),G.rotate=Dt.rotate,G},_getTextAlign:function(e,t){var r="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?r=e:r=zh(e)),r):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("path",{className:jl,name:jl,attrs:r});return n},drawLabel:function(e,t){var r=this.options.labelCfg,n;typeof window!="undefined"&&typeof window.getComputedStyle!="undefined"?n=window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif":n="Arial, sans-serif";var o=Object(g.deepMix)({fontFamily:n},r,e.labelCfg),u=this.getLabelStyle(e,o,t),d=u.rotate;delete u.rotate;var m=t.addShape("text",{attrs:u,name:"text-shape"});if(d&&m.rotateAtStart(d),u.background){var T=this.drawLabelBg(e,t,m),j=this.itemType+Vf;T.set("classname",j),m.toFront()}return m},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,o=Object(g.deepMix)({},n,e.labelCfg),u=this.getLabelStyle(e,o,t),d=u.rotate,m=this.getLabelBgStyleByPosition(r,e,o,t);delete m.rotate;var T=t.addShape("rect",{name:"text-bg-shape",attrs:m});return d&&T.rotateAtStart(d),T}},Wd=Object(oe.__assign)(Object(oe.__assign)({},kf),Vh);co.registerEdge("single-edge",Wd),co.registerEdge("line",{getControlPoints:function(){}},"single-edge"),co.registerEdge("spline",{getPath:function(e){var t=Ic(e);return t}},"single-edge"),co.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint,n={x:(t.x+r.x)/2,y:(t.y+r.y)/2},o,u;if(e.controlPoints!==void 0){if(u=e.controlPoints[0],o=bf(t,u,r),t.x<=r.x&&t.y>r.y?this.clockwise=o.x>u.x?0:1:t.x<=r.x&&t.y<r.y?this.clockwise=o.x>u.x?1:0:t.x>r.x&&t.y<=r.y?this.clockwise=o.y<u.y?0:1:this.clockwise=o.y<u.y?1:0,(u.x-t.x)/(u.y-t.y)==(r.x-t.x)/(r.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),Object(g.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var d={x:r.x-t.x,y:r.y-t.y},m=Math.atan2(d.y,d.x);u={x:e.curveOffset*Math.cos(-Math.PI/2+m)+n.x,y:e.curveOffset*Math.sin(-Math.PI/2+m)+n.y},o=bf(t,u,r)}var T=Yl(t,o),j=[{x:T,y:T}];return j},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),co.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var r=e.startPoint,n=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),Object(g.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),Object(g.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var o=Fu(r,n,e.curvePosition,e.curveOffset);t=[o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),co.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),Object(g.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),Object(g.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var r=e.startPoint,n=e.endPoint,o=Fu(r,n,e.curvePosition[0],e.curveOffset[0]),u=Fu(r,n,e.curvePosition[1],e.curveOffset[1]);t=[o,u]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),co.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),Object(g.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),Object(g.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),Object(g.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.y-t.y,o=[0,0];e.curveOffset?o=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(o=e.minCurveOffset);var u={x:t.x,y:t.y+n*this.curvePosition[0]+o[0]},d={x:r.x,y:r.y-n*this.curvePosition[1]+o[1]};return[u,d]}},"cubic"),co.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),Object(g.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),Object(g.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),Object(g.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.x-t.x,o=[0,0];e.curveOffset?o=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(o=e.minCurveOffset);var u={x:t.x+n*this.curvePosition[0]+o[0],y:t.y},d={x:r.x-n*this.curvePosition[1]+o[1],y:r.y},m=[u,d];return m}},"cubic"),co.registerEdge("loop",{getPathPoints:function(e){return js(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var zd={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:zn.comboLabel.refX,refY:zn.comboLabel.refY,options:{style:{stroke:zn.defaultCombo.style.stroke,fill:zn.defaultCombo.style.fill,lineWidth:zn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:zn.comboLabel.style.fill,fontSize:zn.comboLabel.style.fontSize}},stateStyles:Object(oe.__assign)({},zn.comboStateStyles)},getSize:function(e){var t=Object(g.clone)(e.size||this.options.size||zn.defaultCombo.size);return Object(g.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(g.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,o=e.padding||this.options.padding;Object(g.isArray)(o)&&(o=o[0]);var u=t.refX,d=t.refY;Object(g.isNil)(u)&&(u=this.refX),Object(g.isNil)(d)&&(d=this.refY);var m=this.getSize(e),T=Math.max(n.r,m[0]/2)||m[0]/2,j=T+o,G;switch(r){case"top":G={x:0,y:-j-d,textBaseline:"bottom",textAlign:"center"};break;case"bottom":G={x:0,y:j+d,textBaseline:"bottom",textAlign:"center"};break;case"left":G={x:-j+u,y:0,textAlign:"left"};break;case"center":G={x:0,y:0,text:e.label,textAlign:"center"};break;default:G={x:j+u,y:0,textAlign:"right"};break}return G.text=e.label,G},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),o=t.addShape(r,{attrs:n,draggable:!0,name:"combo-shape"});return o},updateShape:function(e,t,r){var n=t.get("keyShape"),o=e.animate===void 0?this.options.animate:e.animate;o&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr(Object(oe.__assign)({},r)),this.updateLabel(e,t)}},Vd=Object(oe.__assign)(Object(oe.__assign)({},kf),zd);co.registerCombo("single-combo",Vd),co.registerCombo("circle",{options:{size:[zn.defaultCombo.size[0],zn.defaultCombo.size[0]],padding:zn.defaultCombo.padding[0],animate:!0,style:{stroke:zn.defaultCombo.style.stroke,fill:zn.defaultCombo.style.fill,lineWidth:zn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:zn.comboLabel.style.fill,fontSize:zn.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(oe.__assign)({},zn.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e);delete r.height,delete r.width;var n=t.addShape("circle",{attrs:r,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;Object(g.isArray)(r)&&(r=r[0]);var n={stroke:e.color},o=Object(g.mix)({},t,n,e.style),u;if(e.fixSize)u=Object(g.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var d=this.getSize(e);!Object(g.isNumber)(o.r)||isNaN(o.r)?u=d[0]/2||zn.defaultCombo.style.r:u=Math.max(o.r,d[0]/2)||d[0]/2}o.r=u+r;var m=Object(oe.__assign)({x:0,y:0},o);return e.style?e.style.r=u:e.style={r:u},m},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;Object(g.isArray)(n)&&(n=n[0]);var o=Object(g.clone)(e.style),u;e.fixSize?u=Object(g.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:u=Math.max(o.r,r[0]/2)||r[0]/2,o.r=u+n;var d=t.get("sizeCache");d&&(d.r=o.r);var m={stroke:e.color},T=t.get("keyShape"),j=Object(g.mix)({},T.attr(),m,o);e.style?e.style.r=u:e.style={r:u},this.updateShape(e,t,j,!0)}},"single-combo"),co.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:zn.defaultCombo.style.stroke,fill:zn.defaultCombo.style.fill,lineWidth:zn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:zn.comboLabel.style.fill,fontSize:zn.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(oe.__assign)({},zn.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,o=e.padding||this.options.padding;Object(g.isNumber)(o)&&(o=[o,o,o,o]);var u=t.refX,d=t.refY;Object(g.isNil)(u)&&(u=this.refX),Object(g.isNil)(d)&&(d=this.refY);var m=n.width/2+o[3],T=n.height/2+o[0],j;switch(r){case"top":j={x:0-m+u,y:0-T+d,textBaseline:"top",textAlign:"left"};break;case"bottom":j={x:0,y:T+d,textBaseline:"bottom",textAlign:"center"};break;case"left":j={x:0-m+d,y:0,textAlign:"left"};break;case"center":j={x:0,y:0,text:e.label,textAlign:"center"};break;default:j={x:m+u,y:0,textAlign:"right"};break}return j.text=e.label,j},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;Object(g.isNumber)(r)&&(r=[r,r,r,r]);var n={stroke:e.color},o=Object(g.mix)({},t,n,e.style),u=this.getSize(e),d,m,T=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;T?Object(g.isNumber)(T)?(d=T,m=T):(d=T[0],m=T[1]):(!Object(g.isNumber)(o.width)||isNaN(o.width)?d=u[0]||zn.defaultCombo.style.width:d=Math.max(o.width,u[0])||u[0],!Object(g.isNumber)(o.height)||isNaN(o.height)?m=u[1]||zn.defaultCombo.style.height:m=Math.max(o.height,u[1])||u[1]);var j=-d/2-r[3],G=-m/2-r[0];o.width=d+r[1]+r[3],o.height=m+r[0]+r[2];var et=Object(oe.__assign)({x:j,y:G},o);return e.style?(e.style.width=d,e.style.height=m):e.style={width:d,height:m},et},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;Object(g.isNumber)(n)&&(n=[n,n,n,n]);var o=Object(g.clone)(e.style),u,d,m=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;m?Object(g.isNumber)(m)?(u=m,d=m):(u=m[0],d=m[1]):(u=Math.max(o.width,r[0])||r[0],d=Math.max(o.height,r[1])||r[1]),o.width=u+n[1]+n[3],o.height=d+n[0]+n[2];var T=t.get("sizeCache");T&&(T.width=o.width,T.height=o.height),o.x=-u/2-n[3],o.y=-d/2-n[0];var j={stroke:e.color},G=t.get("keyShape"),et=Object(g.mix)({},G.attr(),j,o);e.style?(e.style.width=u,e.style.height=d):e.style={width:u,height:d},this.updateShape(e,t,et,!1)},updateShape:function(e,t,r){var n=t.get("keyShape"),o=e.animate===void 0?this.options.animate:e.animate;o&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr(Object(oe.__assign)({},r)),this.updateLabel(e,t)}},"single-combo"),co.registerNode("simple-circle",{options:{size:zn.defaultNode.size,style:{x:0,y:0,stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize}},stateStyles:Object(oe.__assign)({},zn.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("circle",{attrs:r,className:this.type+"-keyShape",draggable:!0});return n},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.deepMix)({},t,r),o=this.getSize(e),u=o[0]/2,d=Object(oe.__assign)({x:0,y:0,r:u},n);return d},update:function(e,t){var r=this.getSize(e),n={stroke:e.color,r:r[0]/2},o=t.get("keyShape"),u=Object(g.deepMix)({},o.attr(),n,e.style);this.updateShape(e,t,u,!0)}},"single-node"),co.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(oe.__assign)({},zn.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return n},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.mix)({},t,r),o=this.getSize(e),u=n.width||o[0],d=n.height||o[1],m=Object(oe.__assign)({x:-u/2,y:-d/2,width:u,height:d},n);return m},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,o=this.getSize(e),u=t.get("keyShape");e.size||(o[0]=u.attr("width")||n.width,o[1]=u.attr("height")||n.height);var d={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},m=Object(g.mix)({},n,u.attr(),d);m=Object(g.mix)(m,e.style),this.updateShape(e,t,m,!1)}},"single-node"),co.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e);delete n.fill;var o=t.addShape(r,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(e,o),o},drawClip:function(e,t){var r=this.getOptions(e).clipCfg;if(!!r.show){var n=r.type,o=r.x,u=r.y,d=r.style;if(n==="circle"){var m=r.r;t.setClip({type:"circle",attrs:Object(oe.__assign)({r:m,x:o,y:u},d)})}else if(n==="rect"){var T=r.width,j=r.height,G=o-T/2,et=u-j/2;t.setClip({type:"rect",attrs:Object(oe.__assign)({x:G,y:et,width:T,height:j},d)})}else if(n==="ellipse"){var J=r.rx,at=r.ry;t.setClip({type:"ellipse",attrs:Object(oe.__assign)({x:o,y:u,rx:J,ry:at},d)})}else if(n==="polygon"){var mt=r.points;t.setClip({type:"polygon",attrs:Object(oe.__assign)({points:mt},d)})}else if(n==="path"){var St=r.path;t.setClip({type:"path",attrs:Object(oe.__assign)({path:St},d)})}}},getShapeStyle:function(e){var t=this.getOptions(e).style,r=this.getSize(e),n=this.getOptions(e).img,o=r[0],u=r[1];t&&(o=t.width||r[0],u=t.height||r[1]);var d=Object(oe.__assign)({x:-o/2,y:-u/2,width:o,height:u,img:n},t);return d},updateShapeStyle:function(e,t){var r=t.getContainer(),n=this.itemType+"-shape",o=r.find(function(d){return d.get("className")===n})||t.getKeyShape(),u=this.getShapeStyle(e);o&&o.attr(u)}},"single-node");var Uc={triangle:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,o="M "+n+",0 L "+(n+t)+",-"+e/2+" L "+(n+t)+","+e/2+" Z";return o},vee:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=20),r===void 0&&(r=0);var n=r*2,o="M "+n+",0 L "+(n+t)+",-"+e/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+e/2+" Z";return o},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var r=t*2,n="M "+r+`, 0
            a `+e+","+e+" 0 1,0 "+e*2+`,0
            a `+e+","+e+" 0 1,0 "+-e*2+",0";return n},rect:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=10),r===void 0&&(r=0);var n=r*2,o="M "+n+","+-e/2+` 
        L `+(n+t)+","+-e/2+` 
        L `+(n+t)+","+e/2+` 
        L `+n+","+e/2+" Z";return o},diamond:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,o="M "+n+`,0 
        L `+(n+t/2)+","+-e/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+e/2+" Z";return o},triangleRect:function(e,t,r,n,o,u){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=3),o===void 0&&(o=5),u===void 0&&(u=0);var d=u*2,m=d+t+o,T="M "+d+",0 L "+(d+t)+",-"+e/2+" L "+(d+t)+","+e/2+` Z
            M `+m+", -"+r/2+`
            L `+(m+n)+" -"+r/2+`
            L `+(m+n)+" "+r/2+`
            L `+m+" "+r/2+`
            Z`;return T}},ru={collapse:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e+r-4,t]]},expand:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e-r+2*r-4,t],["M",e-r+r,t-r+4],["L",e,t+r-4]]},upTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),o=r*Math.sin(Math.PI/6);return[["M",e-n,t+o],["L",e+n,t+o],["L",e,t-r],["Z"]]},downTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),o=r*Math.sin(Math.PI/6);return[["M",e-n,t-o],["L",e+n,t-o],["L",e,t+r],["Z"]]}},Ss=co,Wc=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Xf=ci.a.transform,zc=Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)({},O),M),x),a),D),{transform:Xf,mat3:ci.b}),Go=zc,Vc=function(){function l(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return l.prototype.initLayout=function(){},l.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},l.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var r=e.pipes;return Array.isArray(r)?r.map(function(n){return(n==null?void 0:n.type)||""}):null},l.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e);return Array.isArray(this.layoutType)?this.layoutType.every(function(r,n){return r===t[n]}):(e==null?void 0:e.type)===this.layoutType},l.prototype.refreshLayout=function(){var e=this.graph;!e||(e.get("animate")?e.positionsAnimate():e.refreshPositions())},l.prototype.changeLayout=function(e){this.layoutCfg=e,this.destoryLayoutMethods(),this.layout()},l.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},l.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;e==null||e.forEach(function(t){t.destroy()}),this.layoutMethods=[]},l.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},l.prototype.setDataFromGraph=function(){for(var e=[],t=[],r=[],n=[],o=[],u=[],d=[],m=this.graph.getNodes(),T=this.graph.getEdges(),j=this.graph.getCombos(),G=m.length,et=0;et<G;et++){var J=m[et];if(!(!J||J.destroyed)){var at=J.getModel();if(!J.isVisible()){t.push(at);continue}e.push(at)}}for(var mt=T.length,et=0;et<mt;et++){var St=T[et];if(!(!St||St.destroyed)){var at=St.getModel();if(!St.isVisible()){n.push(at);continue}at.isComboEdge?o.push(at):r.push(at)}}for(var Dt=j.length,et=0;et<Dt;et++){var Ct=j[et];if(!Ct.destroyed){var at=Ct.getModel();if(!Ct.isVisible()){n.push(at);continue}u.push(at)}}return{nodes:e,hiddenNodes:t,edges:r,hiddenEdges:n,combos:u,hiddenCombos:d,comboEdges:o}},l.prototype.reLayoutMethod=function(e,t){var r=this;return new Promise(function(n,o){var u=r.graph,d=t==null?void 0:t.type;t.onLayoutEnd=function(){u.emit("aftersublayout",{type:d}),n()},e.init(r.data),d==="force"&&(e.ticking=!1,e.forceSimulation.stop()),u.emit("beforesublayout",{type:d}),e.execute(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()})},l.prototype.relayout=function(e){var t=this,r=this,n=r.graph,o=r.layoutMethods,u=r.layoutCfg;if(e){this.data=this.setDataFromGraph();var d=this.data.nodes;if(!d)return!1;this.initPositions(u.center,d)}n.emit("beforelayout");var m=Promise.resolve();o==null||o.forEach(function(T,j){var G=u[j];m=m.then(function(){return t.reLayoutMethod(T,G)})}),m.then(function(){u.onAllLayoutEnd&&u.onAllLayoutEnd()}).catch(function(T){console.warn("relayout failed",T)})},l.prototype.filterLayoutData=function(e,t){var r=e.nodes,n=e.edges,o=Object(oe.__rest)(e,["nodes","edges"]);if(!r)return e;var u,d;if(Object(g.isFunction)(t==null?void 0:t.nodesFilter)?u=t.nodesFilter:u=function(){return!0},Object(g.isFunction)(t==null?void 0:t.edgesFilter))d=t.edgesFilter;else{var m=r.reduce(function(T,j){return T[j.id]=!0,T},{});d=function(j){return m[j.source]&&m[j.target]}}return Object(oe.__assign)({nodes:r.filter(u),edges:n.filter(d)},o)},l.prototype.getLayoutBBox=function(e){var t=this.graph,r=Object(g.groupBy)(t.getNodes(),function(u){return u.getModel().layoutOrder}),n=Object.values(r).map(function(u){var d=Ph(u);return d.size=[d.width,d.height],d}),o=Object.values(Object(g.groupBy)(e,"layoutOrder"));return{groupNodes:o,layoutNodes:n}},l.prototype.layoutAnimate=function(){},l.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),r=t.nodes;if(!(r[0].x===void 0||r[0].x===null||Pf(r[0].x))){for(var n=[0,0],o=r.length,u=0;u<o;u++){var d=r[u];n[0]+=d.x,n[1]+=d.y}n[0]/=r.length,n[1]/=r.length;for(var u=0;u<o;u++){var d=r[u];d.x-=n[0],d.y-=n[1]}}},l.prototype.initPositions=function(e,t){var r=this.graph;if(!t)return!1;var n=t?t.length:0;if(!!n){var o=r.get("width")*.85,u=r.get("height")*.85,d=Math.ceil(Math.sqrt(n)*(o/u)),m=Math.ceil(n/d),T=o/(d-1),j=u/(m-1);(!isFinite(T)||!T)&&(T=0),(!isFinite(j)||!T)&&(j=0);for(var G=e[0]-o/2,et=e[1]-u/2,J=!0,at=0;at<n;at++){var mt=t[at];Pf(mt.x)&&(J=!1,mt.x=at%d*T+G),Pf(mt.y)&&(J=!1,mt.y=Math.floor(at/d)*j+et)}return J}},l.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},l}(),kc=Vc,Xc=function(){function l(e){this.graph=e,this.destroyed=!1,this.initEvents()}return l}(),_u=Xc,vl;(function(l){l.CLICK="click",l.DBLCLICK="dblclick",l.MOUSEDOWN="mousedown",l.MOUDEUP="mouseup",l.CONTEXTMENU="contextmenu",l.MOUSEENTER="mouseenter",l.MOUSEOUT="mouseout",l.MOUSEOVER="mouseover",l.MOUSEMOVE="mousemove",l.MOUSELEAVE="mouseleave",l.DRAGSTART="dragstart",l.DRAGEND="dragend",l.DRAG="drag",l.DRAGENTER="dragenter",l.DRAGLEAVE="dragleave",l.DRAGOVER="dragover",l.DRAGOUT="dragout",l.DDROP="drop",l.KEYUP="keyup",l.KEYDOWN="keydown",l.WHEEL="wheel",l.FOCUS="focus",l.BLUR="blur",l.TOUCHSTART="touchstart",l.TOUCHMOVE="touchmove",l.TOUCHEND="touchend",l.CANVAS_TOUCHSTART="canvas:touchstart",l.CANVAS_TOUCHMOVE="canvas:touchmove",l.CANVAS_TOUCHEND="canvas:touchend",l.NODE_TOUCHSTART="node:touchstart",l.NODE_TOUCHMOVE="node:touchmove",l.NODE_TOUCHEND="node:touchend",l.COMBO_TOUCHSTART="combo:touchstart",l.COMBO_TOUCHMOVE="combo:touchmove",l.COMBO_TOUCHEND="combo:touchend",l.EDGE_TOUCHSTART="edge:touchstart",l.EDGE_TOUCHMOVE="edge:touchmove",l.EDGE_TOUCHEND="edge:touchend",l.NODE_CONTEXTMENU="node:contextmenu",l.NODE_CLICK="node:click",l.NODE_DBLCLICK="node:dblclick",l.NODE_MOUSEDOWN="node:mousedown",l.NODE_MOUSEUP="node:mouseup",l.NODE_MOUSEENTER="node:mouseenter",l.NODE_MOUSELEAVE="node:mouseleave",l.NODE_MOUSEMOVE="node:mousemove",l.NODE_MOUSEOUT="node:mouseout",l.NODE_MOUSEOVER="node:mouseover",l.NODE_DROP="node:drop",l.NODE_DRAGOVER="node:dragover",l.NODE_DRAGENTER="node:dragenter",l.NODE_DRAGLEAVE="node:dragleave",l.NODE_DRAGSTART="node:dragstart",l.NODE_DRAG="node:drag",l.NODE_DRAGEND="node:dragend",l.NODE_TAP="node:tap",l.NODE_PANSTART="node:panstart",l.NODE_PANMOVE="node:panmove",l.NODE_PANEND="node:panend",l.COMBO_CONTEXTMENU="combo:contextmenu",l.COMBO_CLICK="combo:click",l.COMBO_DBLCLICK="combo:dblclick",l.COMBO_MOUSEDOWN="combo:mousedown",l.COMBO_MOUSEUP="combo:mouseup",l.COMBO_MOUSEENTER="combo:mouseenter",l.COMBO_MOUSELEAVE="combo:mouseleave",l.COMBO_MOUSEMOVE="combo:mousemove",l.COMBO_MOUSEOUT="combo:mouseout",l.COMBO_MOUSEOVER="combo:mouseover",l.COMBO_DROP="combo:drop",l.COMBO_DRAGOVER="combo:dragover",l.COMBO_DRAGENTER="combo:dragenter",l.COMBO_DRAGLEAVE="combo:dragleave",l.COMBO_DRAGSTART="combo:dragstart",l.COMBO_DRAG="combo:drag",l.COMBO_DRAGEND="combo:dragend",l.COMBO_TAP="combo:tap",l.COMBO_PANSTART="combo:panstart",l.COMBO_PANMOVE="combo:panmove",l.COMBO_PANEND="combo:panend",l.EDGE_CONTEXTMENU="edge:contextmenu",l.EDGE_CLICK="edge:click",l.EDGE_DBLCLICK="edge:dblclick",l.EDGE_MOUSEDOWN="edge:mousedown",l.EDGE_MOUSEUP="edge:mouseup",l.EDGE_MOUSEENTER="edge:mouseenter",l.EDGE_MOUSELEAVE="edge:mouseleave",l.EDGE_MOUSEMOVE="edge:mousemove",l.EDGE_MOUSEOUT="edge:mouseout",l.EDGE_MOUSEOVER="edge:mouseover",l.EDGE_DROP="edge:drop",l.EDGE_DRAGOVER="edge:dragover",l.EDGE_DRAGENTER="edge:dragenter",l.EDGE_DRAGLEAVE="edge:dragleave",l.CANVAS_CONTEXTMENU="canvas:contextmenu",l.CANVAS_CLICK="canvas:click",l.CANVAS_DBLCLICK="canvas:dblclick",l.CANVAS_MOUSEDOWN="canvas:mousedown",l.CANVAS_MOUSEUP="canvas:mouseup",l.CANVAS_MOUSEENTER="canvas:mouseenter",l.CANVAS_MOUSELEAVE="canvas:mouseleave",l.CANVAS_MOUSEMOVE="canvas:mousemove",l.CANVAS_MOUSEOUT="canvas:mouseout",l.CANVAS_MOUSEOVER="canvas:mouseover",l.CANVAS_DROP="canvas:drop",l.CANVAS_DRAGENTER="canvas:dragenter",l.CANVAS_DRAGLEAVE="canvas:dragleave",l.CANVAS_DRAGSTART="canvas:dragstart",l.CANVAS_DRAG="canvas:drag",l.CANVAS_DRAGEND="canvas:dragend",l.CANVAS_TAP="canvas:tap",l.CANVAS_PANSTART="canvas:panstart",l.CANVAS_PANMOVE="canvas:panmove",l.CANVAS_PANEND="canvas:panend",l.BEFORERENDER="beforerender",l.AFTERRENDER="afterrender",l.BEFOREADDITEM="beforeadditem",l.AFTERADDITEM="afteradditem",l.BEFOREREMOVEITEM="beforeremoveitem",l.AFTERREMOVEITEM="afterremoveitem",l.BEFOREUPDATEITEM="beforeupdateitem",l.AFTERUPDATEITEM="afterupdateitem",l.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",l.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",l.BEFOREITEMSTATECHANGE="beforeitemstatechange",l.AFTERITEMSTATECHANGE="afteritemstatechange",l.BEFOREITEMREFRESH="beforeitemrefresh",l.AFTERITEMREFRESH="afteritemrefresh",l.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",l.AFTERITEMSTATESCLEAR="afteritemstatesclear",l.BEFOREMODECHANGE="beforemodechange",l.AFTERMODECHANGE="aftermodechange",l.BEFORELAYOUT="beforelayout",l.AFTERLAYOUT="afterlayout",l.BEFORECREATEEDGE="beforecreateedge",l.AFTERCREATEEDGE="aftercreateedge",l.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",l.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",l.BEFOREGRAPHREFRESH="beforegraphrefresh",l.AFTERGRAPHREFRESH="aftergraphrefresh",l.BEFOREANIMATE="beforeanimate",l.AFTERANIMATE="afteranimate",l.BEFOREPAINT="beforepaint",l.AFTERPAINT="afterpaint",l.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",l.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",l.GRAPHSTATECHANGE="graphstatechange",l.AFTERACTIVATERELATIONS="afteractivaterelations",l.NODESELECTCHANGE="nodeselectchange",l.TOOLTIPCHANGE="tooltipchange",l.WHEELZOOM="wheelzoom",l.VIEWPORTCHANGE="viewportchange",l.DRAGNODEEND="dragnodeend",l.STACKCHANGE="stackchange",l.TAP="tap",l.PINCHSTART="pinchstart",l.PINCHMOVE="pinchmove",l.PANSTART="panstart",l.PANMOVE="panmove",l.PANEND="panend"})(vl||(vl={}));var ts=Ss.registerNode,wl=Ss.registerEdge,Zu=Ss.registerCombo,nu=Za.registerBehavior,Cn=zn,kd={version:zn.version,AbstractGraph:Fc,BaseGlobal:Cn,Util:Go,Shape:Ss,Node:Tc,Edge:jf,Combo:Nf,Hull:Ll,registerNode:Ss.registerNode,registerEdge:Ss.registerEdge,registerCombo:Ss.registerCombo,registerBehavior:Za.registerBehavior,Arrow:Uc,Marker:ru,AbstractLayout:kc,AbstractEvent:_u},iu=i("f1V2"),Zo=i("ZVen"),gl=i("l/Sb"),Pr=i("99LQ");function $u(l,e,t){var r=[0,0,0,0,0,0,0,0,0];return Pr.a.fromTranslation(r,t),Pr.a.multiply(l,r,e)}function kh(l,e,t){var r=[0,0,0,0,0,0,0,0,0];return Pr.a.fromRotation(r,t),Pr.a.multiply(l,r,e)}function Xh(l,e,t){var r=[0,0,0,0,0,0,0,0,0];return Pr.a.fromScaling(r,t),Pr.a.multiply(l,r,e)}function pl(l,e,t){return Pr.a.multiply(l,t,e)}function Yh(l,e){for(var t=l?[].concat(l):[1,0,0,0,1,0,0,0,1],r=0,n=e.length;r<n;r++){var o=e[r];switch(o[0]){case"t":$u(t,t,[o[1],o[2]]);break;case"s":Xh(t,t,[o[1],o[2]]);break;case"r":kh(t,t,o[1]);break;case"m":pl(t,t,o[1]);break;default:break}}return t}function Yf(l,e){return l[0]*e[1]-e[0]*l[1]}function Yc(l,e,t){var r=Pr.d.angle(l,e),n=Yf(l,e)>=0;return t?n?Math.PI*2-r:r:n?r:Math.PI*2-r}function Xd(l,e,t){return t?(l[0]=e[1],l[1]=-1*e[0]):(l[0]=-1*e[1],l[1]=e[0]),l}var Hh=i("qRoJ"),Qu=i.n(Hh),Ns=i("q4Li"),Ju=i.n(Ns),Qs=2,Js=.16,Hf=.05,Hc=.05,qu=.15,Kf=5,Po=4,Fs=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ra(l,e,t){var r;return Math.round(l.h)>=60&&Math.round(l.h)<=240?r=t?Math.round(l.h)-Qs*e:Math.round(l.h)+Qs*e:r=t?Math.round(l.h)+Qs*e:Math.round(l.h)-Qs*e,r<0?r+=360:r>=360&&(r-=360),r}function Uo(l,e,t){if(l.h===0&&l.s===0)return l.s;var r;return t?r=l.s-Js*e:e===Po?r=l.s+Js:r=l.s+Hf*e,r>1&&(r=1),t&&e===Kf&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function Ms(l,e,t){var r;return t?r=l.v+Hc*e:r=l.v-qu*e,r>1&&(r=1),Number(r.toFixed(2))}function au(l){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=Ju()(l),n=Kf;n>0;n-=1){var o=r.toHsv(),u=Ju()({h:Ra(o,n,!0),s:Uo(o,n,!0),v:Ms(o,n,!0)}).toHexString();t.push(u)}t.push(r.toHexString());for(var d=1;d<=Po;d+=1){var m=r.toHsv(),T=Ju()({h:Ra(m,d),s:Uo(m,d),v:Ms(m,d)}).toHexString();t.push(T)}return e.theme==="dark"?Fs.map(function(j){var G=j.index,et=j.opacity,J=Ju.a.mix(e.backgroundColor||"#141414",t[G],et*100).toHexString();return J}):t}var _f={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Io={},Zf={};Object.keys(_f).forEach(function(l){Io[l]=au(_f[l]),Io[l].primary=Io[l][5],Zf[l]=au(_f[l],{theme:"dark",backgroundColor:"#141414"}),Zf[l].primary=Zf[l][5]});var Yd=Io.red,Iv=Io.volcano,Lv=Io.gold,Rv=Io.orange,jv=Io.yellow,wv=Io.lime,Hd=Io.green,Kd=Io.cyan,_d=Io.blue,Zd=Io.geekblue,Bv=Io.purple,Kc=Io.magenta,$f=Io.grey,Yt=function(e,t,r){var n=Qu()(e),o=Qu()(t);return Qu()([(1-r)*n.red()+r*o.red(),(1-r)*n.green()+r*o.green(),(1-r)*n.blue()+r*o.blue()]).rgb()},he=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="rgb(150, 150, 150)");var n=Yt(t,e,.05).rgb().toString(),o=Yt(t,e,.1).rgb().toString(),u=Yt(t,e,.2).rgb().toString(),d=Yt(t,e,.4).rgb().toString(),m=Yt(t,r,.02).rgb().toString(),T=Yt(t,r,.05).rgb().toString(),j=Yt(t,r,.1).rgb().toString(),G=Yt(t,r,.2).rgb().toString(),et=Yt(t,r,.3).rgb().toString(),J=au(e,{theme:"default",backgroundColor:t}),at=Qu()(e).hex().toLowerCase(),mt=J.indexOf(at),St=e;return mt!==-1&&(St=J[mt+1]),{mainStroke:e,mainFill:o,activeStroke:e,activeFill:n,inactiveStroke:d,inactiveFill:n,selectedStroke:e,selectedFill:t,highlightStroke:St,highlightFill:u,disableStroke:et,disableFill:T,edgeMainStroke:et,edgeActiveStroke:e,edgeInactiveStroke:G,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:j,comboMainStroke:et,comboMainFill:m,comboActiveStroke:e,comboActiveFill:n,comboInactiveStroke:et,comboInactiveFill:m,comboSelectedStroke:e,comboSelectedFill:m,comboHighlightStroke:St,comboHighlightFill:m,comboDisableStroke:G,comboDisableFill:T}},Pe=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="#777");var n=Yt(t,e,.2).rgb().toString(),o=Yt(t,e,.3).rgb().toString(),u=Yt(t,e,.6).rgb().toString(),d=Yt(t,e,.8).rgb().toString(),m=Yt(t,r,.2).rgb().toString(),T=Yt(t,r,.25).rgb().toString(),j=Yt(t,r,.3).rgb().toString(),G=Yt(t,r,.4).rgb().toString(),et=Yt(t,r,.5).rgb().toString(),J=au(e,{theme:"dark",backgroundColor:t}),at=Qu()(e).hex().toLowerCase(),mt=J.indexOf(at),St=e;return mt!==-1&&(St=J[mt+1]),{mainStroke:d,mainFill:n,activeStroke:e,activeFill:o,inactiveStroke:d,inactiveFill:n,selectedStroke:e,selectedFill:n,highlightStroke:e,highlightFill:u,disableStroke:et,disableFill:T,edgeMainStroke:r,edgeActiveStroke:e,edgeInactiveStroke:r,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:j,comboMainStroke:G,comboMainFill:T,comboActiveStroke:e,comboActiveFill:m,comboInactiveStroke:G,comboInactiveFill:T,comboSelectedStroke:e,comboSelectedFill:m,comboHighlightStroke:St,comboHighlightFill:T,comboDisableStroke:G,comboDisableFill:m}},or=function(e,t,r,n){return t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)"),r==="default"?he(e,t,"rgb(150, 150, 150)"):Pe(e,t,"#777")},Rr=function(e,t,r,n){t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)");var o=[];return e.forEach(function(u){o.push(or(u,t,r,n))}),o},lr="rgb(95, 149, 255)",gr="rgb(255, 255, 255)",kr="rgb(0, 0, 0)",Er=or(lr,gr),Hr={version:"0.3.4",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Er.mainStroke,fill:Er.mainFill},size:20,color:Er.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Er.activeFill,stroke:Er.activeStroke}},nodeStateStyles:{active:{fill:Er.activeFill,stroke:Er.activeStroke,lineWidth:2,shadowColor:Er.mainStroke,shadowBlur:10},selected:{fill:Er.selectedFill,stroke:Er.selectedStroke,lineWidth:4,shadowColor:Er.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Er.highlightFill,stroke:Er.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Er.inactiveFill,stroke:Er.inactiveStroke,lineWidth:1},disable:{fill:Er.disableFill,stroke:Er.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:kr,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Er.edgeMainStroke,lineAppendWidth:2},color:Er.edgeMainStroke},edgeStateStyles:{active:{stroke:Er.edgeActiveStroke,lineWidth:1},selected:{stroke:Er.edgeSelectedStroke,lineWidth:2,shadowColor:Er.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Er.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Er.edgeInactiveStroke,lineWidth:1},disable:{stroke:Er.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:kr,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Er.comboMainFill,lineWidth:1,stroke:Er.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Er.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Er.comboActiveStroke,lineWidth:1,fill:Er.comboActiveFill},selected:{stroke:Er.comboSelectedStroke,lineWidth:2,fill:Er.comboSelectedFill,shadowColor:Er.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Er.comboHighlightStroke,lineWidth:2,fill:Er.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Er.comboInactiveStroke,fill:Er.comboInactiveFill,lineWidth:1},disable:{stroke:Er.comboDisableStroke,fill:Er.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},rr=i("m8xh"),un=Go.cloneEvent,pn=Go.isViewportChanged,Xr=function(l){Object(oe.__extends)(e,l);function e(t){var r=l.call(this,t)||this;return r.extendEvents=[],r.dragging=!1,r.preItem=null,r.graph=t,r.destroyed=!1,r.initEvents(),r}return e.prototype.initEvents=function(){var t=this,r=t.graph,n=t.extendEvents,o=n===void 0?[]:n,u=r.get("canvas"),d=u.get("el"),m=Object(g.wrapBehavior)(this,"onCanvasEvents"),T=Object(g.wrapBehavior)(this,"onExtendEvents"),j=Object(g.wrapBehavior)(this,"onWheelEvent");u.off("*").on("*",m),this.canvasHandler=m,o.push(Object(rr.a)(d,"DOMMouseScroll",j)),o.push(Object(rr.a)(d,"mousewheel",j)),typeof window!="undefined"&&(o.push(Object(rr.a)(window,"keydown",T)),o.push(Object(rr.a)(window,"keyup",T)),o.push(Object(rr.a)(window,"focus",T)))},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var r=this.graph,n=r.get("canvas"),o=t.target,u=t.type;t.canvasX=t.x,t.canvasY=t.y;var d={x:t.canvasX,y:t.canvasY},m=r.get("group"),T=m.getMatrix();if(T||(T=[1,0,0,0,1,0,0,0,1]),pn(T)&&(d=r.getPointByClient(t.clientX,t.clientY)),t.x=d.x,t.y=d.y,t.currentTarget=r,o===n){(u==="mousemove"||u==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=n,t.item=null,r.emit(u,t),r.emit("canvas:"+u,t);return}var j=e.getItemRoot(o);if(!j){r.emit(u,t);return}var G=j.get("item");if(!G.destroyed){var et=G.getType();if(t.target=o,t.item=G,t.canvasX===t.x&&t.canvasY===t.y){var J=r.getCanvasByPoint(t.x,t.y);t.canvasX=J.x,t.canvasY=J.y}r.emit(u,t),t.name&&!t.name.includes(":")?r.emit(et+":"+u,t):r.emit(t.name,t),u==="dragstart"&&(this.dragging=!0),u==="dragend"&&(this.dragging=!1),u==="mousemove"&&this.handleMouseMove(t,et)}},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){Object(g.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,r){var n=this,o=n.graph,u=n.preItem,d=o.get("canvas"),m=t.target===d?null:t.item;t=un(t),u&&u!==m&&!u.destroyed&&(t.item=u,this.emitCustomEvent(u.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(u.getType(),"dragleave",t)),m&&u!==m&&(t.item=m,this.emitCustomEvent(r,"mouseenter",t),this.dragging&&this.emitCustomEvent(r,"dragenter",t)),this.preItem=m},e.prototype.emitCustomEvent=function(t,r,n){n.type=r,this.graph.emit(t+":"+r,n)},e.prototype.destroy=function(){var t=this,r=t.graph,n=t.canvasHandler,o=t.extendEvents,u=r.get("canvas");u.off("*",n),Object(g.each)(o,function(d){d.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},e}(_u),hn=Xr;class Ye{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(e){return this.init(e),this.execute(!0)}init(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[]}execute(e){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(e){e&&Object.assign(this,e)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const mr=l=>typeof l=="string",Qr=l=>{const e=Object.create(null);return t=>e[t]||(e[t]=l(t))},bn=/-(\w)/g,Wr=Qr(l=>l.replace(bn,(e,t)=>t?t.toUpperCase():"")),dn=Array.isArray,Ke=l=>typeof l=="number",cn=l=>Number.isNaN(Number(l)),Ur=l=>{const e=parseFloat(l);return cn(e)?l:e},on=(l,e,t)=>{const r=[];for(let n=0;n<l;n++)r[n]=0;return t&&t.forEach(n=>{n.source&&(r[e[n.source]]+=1),n.target&&(r[e[n.target]]+=1)}),r},Xn=l=>{const e=[],t=l.length;for(let r=0;r<t;r+=1){e[r]=[];for(let n=0;n<t;n+=1)r===n?e[r][n]=0:l[r][n]===0||!l[r][n]?e[r][n]=Infinity:e[r][n]=l[r][n]}for(let r=0;r<t;r+=1)for(let n=0;n<t;n+=1)for(let o=0;o<t;o+=1)e[n][o]>e[n][r]+e[r][o]&&(e[n][o]=e[n][r]+e[r][o]);return e},ii=(l,e)=>{const{nodes:t,edges:r}=l,n=[],o={};if(!t)throw new Error("invalid nodes data!");return t&&t.forEach((u,d)=>{o[u.id]=d;const m=[];n.push(m)}),r&&r.forEach(u=>{const{source:d,target:m}=u,T=o[d],j=o[m];n[T][j]=1,e||(n[j][T]=1)}),n},mn=(l,e)=>{const t=[];return l.forEach(r=>{const n=[];r.forEach(o=>{n.push(o*e)}),t.push(n)}),t},Jr=(l,e)=>{if(l&&l.children){for(let t=l.children.length-1;t>=0;t--)if(!Jr(l.children[t],e))return}return!!e(l)},Fr=(l,e)=>{typeof e=="function"&&Jr(l,e)},Jn=l=>l!==null&&typeof l=="object",hi=l=>{if(l===null)return l;if(l instanceof Date)return new Date(l.getTime());if(l instanceof Array){const e=[];return l.forEach(t=>{e.push(t)}),e.map(t=>hi(t))}if(typeof l=="object"&&l!=={}){const e=Object.assign({},l);return Object.keys(e).forEach(t=>{e[t]=hi(e[t])}),e}return l},An=l=>typeof l=="function",di=new Map,Vn=(l,e)=>{if(di.get(l)&&console.warn(`The layout with the name ${l} exists already, it will be overridden`),Jn(e)){class t extends Ye{constructor(n){super();const o=this,u={},d=o.getDefaultCfg();Object.assign(u,d,e,n),Object.keys(u).forEach(m=>{const T=u[m];o[m]=T})}}di.set(l,t)}else di.set(l,e)},Oi=l=>{di.has(l)&&di.delete(l)},wi=l=>di.has(l)?di.get(l):null;class za extends Ye{constructor(e){super();this.begin=[0,0],this.preventOverlap=!0,this.preventOverlapPadding=10,this.condense=!1,this.sortBy="degree",this.nodeSize=30,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.row=0,this.col=0,this.cellWidth=0,this.cellHeight=0,this.cellUsed={},this.id2manPos={},this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}execute(){const e=this,t=e.nodes,r=t.length,n=e.begin;if(r===0){e.onLayoutEnd&&e.onLayoutEnd();return}if(r===1){t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd();return}const o=e.edges,u=[];t.forEach(j=>{u.push(j)});const d={};if(u.forEach((j,G)=>{d[j.id]=G}),(e.sortBy==="degree"||!mr(e.sortBy)||u[0][e.sortBy]===void 0)&&(e.sortBy="degree",cn(t[0].degree))){const j=on(u.length,d,o);u.forEach((G,et)=>{G.degree=j[et]})}u.sort((j,G)=>G[e.sortBy]-j[e.sortBy]),!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight);const m=e.rows,T=e.cols!=null?e.cols:e.columns;if(e.cells=r,m!=null&&T!=null?(e.rows=m,e.cols=T):m!=null&&T==null?(e.rows=m,e.cols=Math.ceil(e.cells/e.rows)):m==null&&T!=null?(e.cols=T,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells){const j=e.small(),G=e.large();(j-1)*G>=e.cells?e.small(j-1):(G-1)*j>=e.cells&&e.large(G-1)}else for(;e.cols*e.rows<e.cells;){const j=e.small(),G=e.large();(G+1)*j>=e.cells?e.large(G+1):e.small(j+1)}e.cellWidth=e.width/e.cols,e.cellHeight=e.height/e.rows,e.condense&&(e.cellWidth=0,e.cellHeight=0),e.preventOverlap&&u.forEach(j=>{(!j.x||!j.y)&&(j.x=0,j.y=0);let G,et;dn(j.size)?(G=j.size[0],et=j.size[1]):Ke(j.size)&&(G=j.size,et=j.size),(G===void 0||et===void 0)&&(dn(e.nodeSize)?(G=e.nodeSize[0],et=e.nodeSize[1]):Ke(e.nodeSize)?(G=e.nodeSize,et=e.nodeSize):(G=30,et=30));const J=e.preventOverlapPadding,at=G+J,mt=et+J;e.cellWidth=Math.max(e.cellWidth,at),e.cellHeight=Math.max(e.cellHeight,mt)}),e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(let j=0;j<u.length;j++){const G=u[j];let et;if(e.position&&(et=e.position(G)),et&&(et.row!==void 0||et.col!==void 0)){const J={row:et.row,col:et.col};if(J.col===void 0)for(J.col=0;e.used(J.row,J.col);)J.col++;else if(J.row===void 0)for(J.row=0;e.used(J.row,J.col);)J.row++;e.id2manPos[G.id]=J,e.use(J.row,J.col)}e.getPos(G)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:o,nodes:u}}small(e){const t=this;let r;const n=t.rows||5,o=t.cols||5;return e==null?r=Math.min(n,o):Math.min(n,o)===t.rows?t.rows=e:t.cols=e,r}large(e){const t=this;let r;const n=t.rows||5,o=t.cols||5;return e==null?r=Math.max(n,o):Math.max(n,o)===t.rows?t.rows=e:t.cols=e,r}used(e,t){return this.cellUsed[`c-${e}-${t}`]||!1}use(e,t){const r=this;r.cellUsed[`c-${e}-${t}`]=!0}moveToNextCell(){const e=this,t=e.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)}getPos(e){const t=this,r=t.begin,n=t.cellWidth,o=t.cellHeight;let u,d;const m=t.id2manPos[e.id];if(m)u=m.col*n+n/2+r[0],d=m.row*o+o/2+r[1];else{for(;t.used(t.row,t.col);)t.moveToNextCell();u=t.col*n+n/2+r[0],d=t.row*o+o/2+r[1],t.use(t.row,t.col),t.moveToNextCell()}e.x=u,e.y=d}getType(){return"grid"}}class Qa extends Ye{constructor(e){super();this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{center:[0,0],width:300,height:300}}execute(){const e=this,t=e.nodes,r=.9,n=e.center;return!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),t&&t.forEach(o=>{o.x=(Math.random()-.5)*r*e.width+n[0],o.y=(Math.random()-.5)*r*e.height+n[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}}getType(){return"random"}}const Ei=(l,e)=>{let t;return l?Ke(l)?t=r=>l:t=l:t=r=>e||1,t};class ja extends Ye{constructor(e){super();this.maxIteration=1e3,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.preventOverlap=!0,this.tick=()=>{},this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:500,gravity:10,enableTick:!0}}execute(){const e=this,t=e.nodes;if(e.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(e.timeInterval),!t||t.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const r=e.center;if(t.length===1){t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}const n={},o={};t.forEach((T,j)=>{Ke(T.x)||(T.x=Math.random()*e.width),Ke(T.y)||(T.y=Math.random()*e.height),n[T.id]=T,o[T.id]=j}),e.nodeMap=n,e.nodeIdxMap=o,e.linkDistance=Ei(e.linkDistance,1),e.nodeStrength=Ei(e.nodeStrength,1),e.edgeStrength=Ei(e.edgeStrength,1);const u=e.nodeSize;let d;if(e.preventOverlap){const T=e.nodeSpacing;let j;Ke(T)?j=()=>T:An(T)?j=T:j=()=>0,u?dn(u)?d=G=>(u[0]>u[1]?u[0]:u[1])+j(G):d=G=>u+j(G):d=G=>G.size?dn(G.size)?(G.size[0]>G.size[1]?G.size[0]:G.size[1])+j(G):G.size+j(G):10+j(G)}e.nodeSize=d;const m=e.edges;e.degrees=on(t.length,e.nodeIdxMap,m),e.getMass||(e.getMass=T=>e.degrees[e.nodeIdxMap[T.id]]||1),e.run()}run(){const e=this,t=e.nodes,r=e.edges,n=e.maxIteration;if(typeof window=="undefined")return;let o=0;this.timeInterval=window.setInterval(()=>{const u=[],d=[];if(!t)return;t.forEach((G,et)=>{u[2*et]=0,u[2*et+1]=0,d[2*et]=0,d[2*et+1]=0}),e.calRepulsive(u,t),r&&e.calAttractive(u,r),e.calGravity(u,t);const m=Math.max(.02,e.interval-o*.002);e.updateVelocity(u,d,m,t);const T=[];t.forEach(G=>{T.push({x:G.x,y:G.y})}),e.updatePosition(d,m,t),e.tick&&e.tick();let j=0;t.forEach((G,et)=>{const J=G.x-T[et].x,at=G.y-T[et].y;j+=Math.sqrt(J*J+at*at)}),j/=t.length,j<e.minMovement&&(window.clearInterval(e.timeInterval),e.onLayoutEnd&&e.onLayoutEnd()),o++,o>=n&&(e.onLayoutEnd&&e.onLayoutEnd(),window.clearInterval(e.timeInterval))},0)}calRepulsive(e,t){const r=this,n=r.getMass,o=r.nodeStrength,u=r.factor,d=r.coulombDisScale,m=r.preventOverlap,T=r.nodeSize;t.forEach((j,G)=>{const et=n?n(j):1;t.forEach((J,at)=>{if(G>=at)return;const mt=j.x-J.x,St=j.y-J.y,Dt=Math.sqrt(mt*mt+St*St)+.01,Ct=(Dt+.1)*d,Bt=mt/Dt,zt=St/Dt,Ht=(o(j)+o(J))/2*u/(Ct*Ct),qt=n?n(J):1;if(e[2*G]+=Bt*Ht,e[2*G+1]+=zt*Ht,e[2*at]-=Bt*Ht,e[2*at+1]-=zt*Ht,m&&Dt<(T(j)+T(J))/2){const ue=(o(j)+o(J))/2/(Dt*Dt);e[2*G]+=Bt*ue/et,e[2*G+1]+=zt*ue/et,e[2*at]-=Bt*ue/qt,e[2*at+1]-=zt*ue/qt}})})}calAttractive(e,t){const r=this,n=r.nodeMap,o=r.nodeIdxMap,u=r.linkDistance,d=r.edgeStrength,m=r.getMass;t.forEach((T,j)=>{const G=n[T.source],et=n[T.target],J=et.x-G.x,at=et.y-G.y,mt=Math.sqrt(J*J+at*at)+.01,St=J/mt,Dt=at/mt,zt=((u(T)||1)-mt)*d(T),Ht=o[T.source],qt=o[T.target],ue=m?m(G):1,se=m?m(et):1;e[2*Ht]-=St*zt/ue,e[2*Ht+1]-=Dt*zt/ue,e[2*qt]+=St*zt/se,e[2*qt+1]+=Dt*zt/se})}calGravity(e,t){const r=this,n=r.center,o=r.gravity,u=r.degrees,d=t.length;for(let m=0;m<d;m++){const T=t[m];let j=T.x-n[0],G=T.y-n[1],et=o;if(r.getCenter){const J=r.getCenter(T,u[m]);J&&Ke(J[0])&&Ke(J[1])&&Ke(J[2])&&(j=T.x-J[0],G=T.y-J[1],et=J[2])}!et||(e[2*m]-=et*j,e[2*m+1]-=et*G)}}updateVelocity(e,t,r,n){const o=this,u=r*o.damping;n.forEach((d,m)=>{let T=e[2*m]*u||.01,j=e[2*m+1]*u||.01;const G=Math.sqrt(T*T+j*j);if(G>o.maxSpeed){const et=o.maxSpeed/G;T=et*T,j=et*j}t[2*m]=T,t[2*m+1]=j})}updatePosition(e,t,r){r.forEach((n,o)=>{if(Ke(n.fx)&&Ke(n.fy)){n.x=n.fx,n.y=n.fy;return}const u=e[2*o]*t,d=e[2*o+1]*t;n.x+=u,n.y+=d})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0}getType(){return"gForce"}}var oa=function(l){const e=+this._x.call(null,l),t=+this._y.call(null,l);return wa(this.cover(e,t),e,t,l)};function wa(l,e,t,r){if(isNaN(e)||isNaN(t))return l;var n,o=l._root,u={data:r},d=l._x0,m=l._y0,T=l._x1,j=l._y1,G,et,J,at,mt,St,Dt,Ct;if(!o)return l._root=u,l;for(;o.length;)if((mt=e>=(G=(d+T)/2))?d=G:T=G,(St=t>=(et=(m+j)/2))?m=et:j=et,n=o,!(o=o[Dt=St<<1|mt]))return n[Dt]=u,l;if(J=+l._x.call(null,o.data),at=+l._y.call(null,o.data),e===J&&t===at)return u.next=o,n?n[Dt]=u:l._root=u,l;do n=n?n[Dt]=new Array(4):l._root=new Array(4),(mt=e>=(G=(d+T)/2))?d=G:T=G,(St=t>=(et=(m+j)/2))?m=et:j=et;while((Dt=St<<1|mt)==(Ct=(at>=et)<<1|J>=G));return n[Ct]=o,n[Dt]=u,l}function Ba(l){var e,t,r=l.length,n,o,u=new Array(r),d=new Array(r),m=Infinity,T=Infinity,j=-Infinity,G=-Infinity;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,e=l[t]))||isNaN(o=+this._y.call(null,e))||(u[t]=n,d[t]=o,n<m&&(m=n),n>j&&(j=n),o<T&&(T=o),o>G&&(G=o));if(m>j||T>G)return this;for(this.cover(m,T).cover(j,G),t=0;t<r;++t)wa(this,u[t],d[t],l[t]);return this}var Ha=function(l,e){if(isNaN(l=+l)||isNaN(e=+e))return this;var t=this._x0,r=this._y0,n=this._x1,o=this._y1;if(isNaN(t))n=(t=Math.floor(l))+1,o=(r=Math.floor(e))+1;else{for(var u=n-t||1,d=this._root,m,T;t>l||l>=n||r>e||e>=o;)switch(T=(e<r)<<1|l<t,m=new Array(4),m[T]=d,d=m,u*=2,T){case 0:n=t+u,o=r+u;break;case 1:t=n-u,o=r+u;break;case 2:n=t+u,r=o-u;break;case 3:t=n-u,r=o-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=t,this._y0=r,this._x1=n,this._y1=o,this},io=function(){var l=[];return this.visit(function(e){if(!e.length)do l.push(e.data);while(e=e.next)}),l},fo=function(l){return arguments.length?this.cover(+l[0][0],+l[0][1]).cover(+l[1][0],+l[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ui=function(l,e,t,r,n){this.node=l,this.x0=e,this.y0=t,this.x1=r,this.y1=n},mi=function(l,e,t){var r,n=this._x0,o=this._y0,u,d,m,T,j=this._x1,G=this._y1,et=[],J=this._root,at,mt;for(J&&et.push(new Ui(J,n,o,j,G)),t==null?t=Infinity:(n=l-t,o=e-t,j=l+t,G=e+t,t*=t);at=et.pop();)if(!(!(J=at.node)||(u=at.x0)>j||(d=at.y0)>G||(m=at.x1)<n||(T=at.y1)<o))if(J.length){var St=(u+m)/2,Dt=(d+T)/2;et.push(new Ui(J[3],St,Dt,m,T),new Ui(J[2],u,Dt,St,T),new Ui(J[1],St,d,m,Dt),new Ui(J[0],u,d,St,Dt)),(mt=(e>=Dt)<<1|l>=St)&&(at=et[et.length-1],et[et.length-1]=et[et.length-1-mt],et[et.length-1-mt]=at)}else{var Ct=l-+this._x.call(null,J.data),Bt=e-+this._y.call(null,J.data),zt=Ct*Ct+Bt*Bt;if(zt<t){var Ht=Math.sqrt(t=zt);n=l-Ht,o=e-Ht,j=l+Ht,G=e+Ht,r=J.data}}return r},Ja=function(l){if(isNaN(j=+this._x.call(null,l))||isNaN(G=+this._y.call(null,l)))return this;var e,t=this._root,r,n,o,u=this._x0,d=this._y0,m=this._x1,T=this._y1,j,G,et,J,at,mt,St,Dt;if(!t)return this;if(t.length)for(;;){if((at=j>=(et=(u+m)/2))?u=et:m=et,(mt=G>=(J=(d+T)/2))?d=J:T=J,e=t,!(t=t[St=mt<<1|at]))return this;if(!t.length)break;(e[St+1&3]||e[St+2&3]||e[St+3&3])&&(r=e,Dt=St)}for(;t.data!==l;)if(n=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,n?(o?n.next=o:delete n.next,this):e?(o?e[St]=o:delete e[St],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(r?r[Dt]=t:this._root=t),this):(this._root=o,this)};function Vi(l){for(var e=0,t=l.length;e<t;++e)this.remove(l[e]);return this}var _n=function(){return this._root},Si=function(){var l=0;return this.visit(function(e){if(!e.length)do++l;while(e=e.next)}),l},Ai=function(l){var e=[],t,r=this._root,n,o,u,d,m;for(r&&e.push(new Ui(r,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!l(r=t.node,o=t.x0,u=t.y0,d=t.x1,m=t.y1)&&r.length){var T=(o+d)/2,j=(u+m)/2;(n=r[3])&&e.push(new Ui(n,T,j,d,m)),(n=r[2])&&e.push(new Ui(n,o,j,T,m)),(n=r[1])&&e.push(new Ui(n,T,u,d,j)),(n=r[0])&&e.push(new Ui(n,o,u,T,j))}return this},Na=function(l){var e=[],t=[],r;for(this._root&&e.push(new Ui(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var n=r.node;if(n.length){var o,u=r.x0,d=r.y0,m=r.x1,T=r.y1,j=(u+m)/2,G=(d+T)/2;(o=n[0])&&e.push(new Ui(o,u,d,j,G)),(o=n[1])&&e.push(new Ui(o,j,d,m,G)),(o=n[2])&&e.push(new Ui(o,u,G,j,T)),(o=n[3])&&e.push(new Ui(o,j,G,m,T))}t.push(r)}for(;r=t.pop();)l(r.node,r.x0,r.y0,r.x1,r.y1);return this};function Gs(l){return l[0]}var Cs=function(l){return arguments.length?(this._x=l,this):this._x};function Ee(l){return l[1]}var vr=function(l){return arguments.length?(this._y=l,this):this._y};function nr(l,e,t){var r=new En(e==null?Gs:e,t==null?Ee:t,NaN,NaN,NaN,NaN);return l==null?r:r.addAll(l)}function En(l,e,t,r,n,o){this._x=l,this._y=e,this._x0=t,this._y0=r,this._x1=n,this._y1=o,this._root=void 0}function oi(l){for(var e={data:l.data},t=e;l=l.next;)t=t.next={data:l.data};return e}var pe=nr.prototype=En.prototype;pe.copy=function(){var l=new En(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,r;if(!e)return l;if(!e.length)return l._root=oi(e),l;for(t=[{source:e,target:l._root=new Array(4)}];e=t.pop();)for(var n=0;n<4;++n)(r=e.source[n])&&(r.length?t.push({source:r,target:e.target[n]=new Array(4)}):e.target[n]=oi(r));return l},pe.add=oa,pe.addAll=Ba,pe.cover=Ha,pe.data=io,pe.extent=fo,pe.find=mi,pe.remove=Ja,pe.removeAll=Vi,pe.root=_n,pe.size=Si,pe.visit=Ai,pe.visitAfter=Na,pe.x=Cs,pe.y=vr;var ae=function(l){return function(){return l}},Le=function(l){return(l()-.5)*1e-6},Qe={value:function(){}};function Je(){for(var l=0,e=arguments.length,t={},r;l<e;++l){if(!(r=arguments[l]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Be(t)}function Be(l){this._=l}function je(l,e){return l.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Be.prototype=Je.prototype={constructor:Be,on:function(e,t){var r=this._,n=je(e+"",r),o,u=-1,d=n.length;if(arguments.length<2){for(;++u<d;)if((o=(e=n[u]).type)&&(o=We(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<d;)if(o=(e=n[u]).type)r[o]=me(r[o],e.name,t);else if(t==null)for(o in r)r[o]=me(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Be(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,u;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],n=0,o=u.length;n<o;++n)u[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,u=n.length;o<u;++o)n[o].value.apply(t,r)}};function We(l,e){for(var t=0,r=l.length,n;t<r;++t)if((n=l[t]).name===e)return n.value}function me(l,e,t){for(var r=0,n=l.length;r<n;++r)if(l[r].name===e){l[r]=Qe,l=l.slice(0,r).concat(l.slice(r+1));break}return t!=null&&l.push({name:e,value:t}),l}var Re=Je,ge=0,ke=0,tr=0,Tr=1e3,Ir,xr,_r=0,Rn=0,fi=0,Ln=typeof performance=="object"&&performance.now?performance:Date,Kn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function si(){return Rn||(Kn(Ni),Rn=Ln.now()+fi)}function Ni(){Rn=0}function ta(){this._call=this._time=this._next=null}ta.prototype=Va.prototype={constructor:ta,restart:function(l,e,t){if(typeof l!="function")throw new TypeError("callback is not a function");t=(t==null?si():+t)+(e==null?0:+e),!this._next&&xr!==this&&(xr?xr._next=this:Ir=this,xr=this),this._call=l,this._time=t,_c()},stop:function(){this._call&&(this._call=null,this._time=Infinity,_c())}};function Va(l,e,t){var r=new ta;return r.restart(l,e,t),r}function Qf(){si(),++ge;for(var l=Ir,e;l;)(e=Rn-l._time)>=0&&l._call.call(null,e),l=l._next;--ge}function Wo(){Rn=(_r=Ln.now())+fi,ge=ke=0;try{Qf()}finally{ge=0,As(),Rn=0}}function Kh(){var l=Ln.now(),e=l-_r;e>Tr&&(fi-=e,_r=l)}function As(){for(var l,e=Ir,t,r=Infinity;e;)e._call?(r>e._time&&(r=e._time),l=e,e=e._next):(t=e._next,e._next=null,e=l?l._next=t:Ir=t);xr=l,_c(r)}function _c(l){if(!ge){ke&&(ke=clearTimeout(ke));var e=l-Rn;e>24?(l<Infinity&&(ke=setTimeout(Wo,l-Ln.now()-fi)),tr&&(tr=clearInterval(tr))):(tr||(_r=Ln.now(),tr=setInterval(Kh,Tr)),ge=1,Kn(Wo))}}var Fg=1664525,Zc=1013904223,Jf=4294967296,Gg=function(){var l=1;return function(){return(l=(Fg*l+Zc)%Jf)/Jf}};function Ug(l){return l.x}function Wg(l){return l.y}var $d=10,zg=Math.PI*(3-Math.sqrt(5)),Nv=function(l){var e,t=1,r=.001,n=1-Math.pow(r,1/300),o=0,u=.6,d=new Map,m=Va(G),T=Re("tick","end"),j=Gg();l==null&&(l=[]);function G(){et(),T.call("tick",e),t<r&&(m.stop(),T.call("end",e))}function et(mt){var St,Dt=l.length,Ct;mt===void 0&&(mt=1);for(var Bt=0;Bt<mt;++Bt)for(t+=(o-t)*n,d.forEach(function(zt){zt(t)}),St=0;St<Dt;++St)Ct=l[St],Ct.fx==null?Ct.x+=Ct.vx*=u:(Ct.x=Ct.fx,Ct.vx=0),Ct.fy==null?Ct.y+=Ct.vy*=u:(Ct.y=Ct.fy,Ct.vy=0);return e}function J(){for(var mt=0,St=l.length,Dt;mt<St;++mt){if(Dt=l[mt],Dt.index=mt,Dt.fx!=null&&(Dt.x=Dt.fx),Dt.fy!=null&&(Dt.y=Dt.fy),isNaN(Dt.x)||isNaN(Dt.y)){var Ct=$d*Math.sqrt(.5+mt),Bt=mt*zg;Dt.x=Ct*Math.cos(Bt),Dt.y=Ct*Math.sin(Bt)}(isNaN(Dt.vx)||isNaN(Dt.vy))&&(Dt.vx=Dt.vy=0)}}function at(mt){return mt.initialize&&mt.initialize(l,j),mt}return J(),e={tick:et,restart:function(){return m.restart(G),e},stop:function(){return m.stop(),e},nodes:function(St){return arguments.length?(l=St,J(),d.forEach(at),e):l},alpha:function(St){return arguments.length?(t=+St,e):t},alphaMin:function(St){return arguments.length?(r=+St,e):r},alphaDecay:function(St){return arguments.length?(n=+St,e):+n},alphaTarget:function(St){return arguments.length?(o=+St,e):o},velocityDecay:function(St){return arguments.length?(u=1-St,e):1-u},randomSource:function(St){return arguments.length?(j=St,d.forEach(at),e):j},force:function(St,Dt){return arguments.length>1?(Dt==null?d.delete(St):d.set(St,at(Dt)),e):d.get(St)},find:function(St,Dt,Ct){var Bt=0,zt=l.length,Ht,qt,ue,se,Me;for(Ct==null?Ct=Infinity:Ct*=Ct,Bt=0;Bt<zt;++Bt)se=l[Bt],Ht=St-se.x,qt=Dt-se.y,ue=Ht*Ht+qt*qt,ue<Ct&&(Me=se,Ct=ue);return Me},on:function(St,Dt){return arguments.length>1?(T.on(St,Dt),e):T.on(St)}}},Fv=function(){var l,e,t,r,n=ae(-30),o,u=1,d=Infinity,m=.81;function T(J){var at,mt=l.length,St=nr(l,Ug,Wg).visitAfter(G);for(r=J,at=0;at<mt;++at)e=l[at],St.visit(et)}function j(){if(!!l){var J,at=l.length,mt;for(o=new Array(at),J=0;J<at;++J)mt=l[J],o[mt.index]=+n(mt,J,l)}}function G(J){var at=0,mt,St,Dt=0,Ct,Bt,zt;if(J.length){for(Ct=Bt=zt=0;zt<4;++zt)(mt=J[zt])&&(St=Math.abs(mt.value))&&(at+=mt.value,Dt+=St,Ct+=St*mt.x,Bt+=St*mt.y);J.x=Ct/Dt,J.y=Bt/Dt}else{mt=J,mt.x=mt.data.x,mt.y=mt.data.y;do at+=o[mt.data.index];while(mt=mt.next)}J.value=at}function et(J,at,mt,St){if(!J.value)return!0;var Dt=J.x-e.x,Ct=J.y-e.y,Bt=St-at,zt=Dt*Dt+Ct*Ct;if(Bt*Bt/m<zt)return zt<d&&(Dt===0&&(Dt=Le(t),zt+=Dt*Dt),Ct===0&&(Ct=Le(t),zt+=Ct*Ct),zt<u&&(zt=Math.sqrt(u*zt)),e.vx+=Dt*J.value*r/zt,e.vy+=Ct*J.value*r/zt),!0;if(J.length||zt>=d)return;(J.data!==e||J.next)&&(Dt===0&&(Dt=Le(t),zt+=Dt*Dt),Ct===0&&(Ct=Le(t),zt+=Ct*Ct),zt<u&&(zt=Math.sqrt(u*zt)));do J.data!==e&&(Bt=o[J.data.index]*r/zt,e.vx+=Dt*Bt,e.vy+=Ct*Bt);while(J=J.next)}return T.initialize=function(J,at){l=J,t=at,j()},T.strength=function(J){return arguments.length?(n=typeof J=="function"?J:ae(+J),j(),T):n},T.distanceMin=function(J){return arguments.length?(u=J*J,T):Math.sqrt(u)},T.distanceMax=function(J){return arguments.length?(d=J*J,T):Math.sqrt(d)},T.theta=function(J){return arguments.length?(m=J*J,T):Math.sqrt(m)},T},Gv=function(l,e){var t,r=1;l==null&&(l=0),e==null&&(e=0);function n(){var o,u=t.length,d,m=0,T=0;for(o=0;o<u;++o)d=t[o],m+=d.x,T+=d.y;for(m=(m/u-l)*r,T=(T/u-e)*r,o=0;o<u;++o)d=t[o],d.x-=m,d.y-=T}return n.initialize=function(o){t=o},n.x=function(o){return arguments.length?(l=+o,n):l},n.y=function(o){return arguments.length?(e=+o,n):e},n.strength=function(o){return arguments.length?(r=+o,n):r},n};function Uv(l){return l.index}function Wv(l,e){var t=l.get(e);if(!t)throw new Error("node not found: "+e);return t}var _h=function(l){var e=Uv,t=G,r,n=ae(30),o,u,d,m,T,j=1;l==null&&(l=[]);function G(St){return 1/Math.min(d[St.source.index],d[St.target.index])}function et(St){for(var Dt=0,Ct=l.length;Dt<j;++Dt)for(var Bt=0,zt,Ht,qt,ue,se,Me,ve;Bt<Ct;++Bt)zt=l[Bt],Ht=zt.source,qt=zt.target,ue=qt.x+qt.vx-Ht.x-Ht.vx||Le(T),se=qt.y+qt.vy-Ht.y-Ht.vy||Le(T),Me=Math.sqrt(ue*ue+se*se),Me=(Me-o[Bt])/Me*St*r[Bt],ue*=Me,se*=Me,qt.vx-=ue*(ve=m[Bt]),qt.vy-=se*ve,Ht.vx+=ue*(ve=1-ve),Ht.vy+=se*ve}function J(){if(!!u){var St,Dt=u.length,Ct=l.length,Bt=new Map(u.map(function(Ht,qt){return[e(Ht,qt,u),Ht]})),zt;for(St=0,d=new Array(Dt);St<Ct;++St)zt=l[St],zt.index=St,typeof zt.source!="object"&&(zt.source=Wv(Bt,zt.source)),typeof zt.target!="object"&&(zt.target=Wv(Bt,zt.target)),d[zt.source.index]=(d[zt.source.index]||0)+1,d[zt.target.index]=(d[zt.target.index]||0)+1;for(St=0,m=new Array(Ct);St<Ct;++St)zt=l[St],m[St]=d[zt.source.index]/(d[zt.source.index]+d[zt.target.index]);r=new Array(Ct),at(),o=new Array(Ct),mt()}}function at(){if(!!u)for(var St=0,Dt=l.length;St<Dt;++St)r[St]=+t(l[St],St,l)}function mt(){if(!!u)for(var St=0,Dt=l.length;St<Dt;++St)o[St]=+n(l[St],St,l)}return et.initialize=function(St,Dt){u=St,T=Dt,J()},et.links=function(St){return arguments.length?(l=St,J(),et):l},et.id=function(St){return arguments.length?(e=St,et):e},et.iterations=function(St){return arguments.length?(j=+St,et):j},et.strength=function(St){return arguments.length?(t=typeof St=="function"?St:ae(+St),at(),et):t},et.distance=function(St){return arguments.length?(n=typeof St=="function"?St:ae(+St),mt(),et):n},et};function Vg(l){return l.x+l.vx}function zv(l){return l.y+l.vy}var Vv=function(l){var e,t,r,n=1,o=1;typeof l!="function"&&(l=ae(l==null?1:+l));function u(){for(var T,j=e.length,G,et,J,at,mt,St,Dt=0;Dt<o;++Dt)for(G=nr(e,Vg,zv).visitAfter(d),T=0;T<j;++T)et=e[T],mt=t[et.index],St=mt*mt,J=et.x+et.vx,at=et.y+et.vy,G.visit(Ct);function Ct(Bt,zt,Ht,qt,ue){var se=Bt.data,Me=Bt.r,ve=mt+Me;if(se){if(se.index>et.index){var De=J-se.x-se.vx,ye=at-se.y-se.vy,pr=De*De+ye*ye;pr<ve*ve&&(De===0&&(De=Le(r),pr+=De*De),ye===0&&(ye=Le(r),pr+=ye*ye),pr=(ve-(pr=Math.sqrt(pr)))/pr*n,et.vx+=(De*=pr)*(ve=(Me*=Me)/(St+Me)),et.vy+=(ye*=pr)*ve,se.vx-=De*(ve=1-ve),se.vy-=ye*ve)}return}return zt>J+ve||qt<J-ve||Ht>at+ve||ue<at-ve}}function d(T){if(T.data)return T.r=t[T.data.index];for(var j=T.r=0;j<4;++j)T[j]&&T[j].r>T.r&&(T.r=T[j].r)}function m(){if(!!e){var T,j=e.length,G;for(t=new Array(j),T=0;T<j;++T)G=e[T],t[G.index]=+l(G,T,e)}}return u.initialize=function(T,j){e=T,r=j,m()},u.iterations=function(T){return arguments.length?(o=+T,u):o},u.strength=function(T){return arguments.length?(n=+T,u):n},u.radius=function(T){return arguments.length?(l=typeof T=="function"?T:ae(+T),m(),u):l},u},kg=function(l){var e=ae(.1),t,r,n;typeof l!="function"&&(l=ae(l==null?0:+l));function o(d){for(var m=0,T=t.length,j;m<T;++m)j=t[m],j.vx+=(n[m]-j.x)*r[m]*d}function u(){if(!!t){var d,m=t.length;for(r=new Array(m),n=new Array(m),d=0;d<m;++d)r[d]=isNaN(n[d]=+l(t[d],d,t))?0:+e(t[d],d,t)}}return o.initialize=function(d){t=d,u()},o.strength=function(d){return arguments.length?(e=typeof d=="function"?d:ae(+d),u(),o):e},o.x=function(d){return arguments.length?(l=typeof d=="function"?d:ae(+d),u(),o):l},o},Xg=function(l){var e=ae(.1),t,r,n;typeof l!="function"&&(l=ae(l==null?0:+l));function o(d){for(var m=0,T=t.length,j;m<T;++m)j=t[m],j.vy+=(n[m]-j.y)*r[m]*d}function u(){if(!!t){var d,m=t.length;for(r=new Array(m),n=new Array(m),d=0;d<m;++d)r[d]=isNaN(n[d]=+l(t[d],d,t))?0:+e(t[d],d,t)}}return o.initialize=function(d){t=d,u()},o.strength=function(d){return arguments.length?(e=typeof d=="function"?d:ae(+d),u(),o):e},o.y=function(d){return arguments.length?(l=typeof d=="function"?d:ae(+d),u(),o):l},o};function Yg(){function l(Lr){return()=>Lr}let e=Lr=>Lr.cluster,t=l(1),r=l(-1),n=l(100),o=l(.1),u=[0,0],d=[],m={},T=[],j=100,G=100,et={none:{x:0,y:0}},J=[],at,mt="force",St=!0,Dt=.1;function Ct(Lr){if(!St)return Ct;at.tick(),se();for(let nn=0,jn=d.length,Sn,Fn=Lr*Dt;nn<jn;++nn)Sn=d[nn],Sn.vx+=(et[e(Sn)].x-Sn.x)*Fn,Sn.vy+=(et[e(Sn)].y-Sn.y)*Fn}function Bt(){!d||zt()}function zt(){if(!d||!d.length)return;if(e(d[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");const Lr=Ht();at=Nv(Lr.nodes).force("x",kg(j).strength(.1)).force("y",Xg(G).strength(.1)).force("collide",Vv(nn=>nn.r).iterations(4)).force("charge",Fv().strength(r)).force("links",_h(Lr.nodes.length?Lr.links:[]).distance(n).strength(o)),J=at.nodes(),se()}function Ht(){const Lr=[],nn=[],jn={};let Sn=[],Fn={},Tn=[];return Fn=qt(d),Tn=ue(T),Sn=Object.keys(Fn),Sn.forEach((ui,la)=>{const xi=Fn[ui];Lr.push({id:ui,size:xi.count,r:Math.sqrt(xi.sumforceNodeSize/Math.PI)}),jn[ui]=la}),Tn.forEach(ui=>{const la=jn[ui.source],xi=jn[ui.target];la!==void 0&&xi!==void 0&&nn.push({source:la,target:xi,count:ui.count})}),{nodes:Lr,links:nn}}function qt(Lr){const nn={};return Lr.forEach(jn=>{const Sn=e(jn);nn[Sn]||(nn[Sn]={count:0,sumforceNodeSize:0})}),Lr.forEach(jn=>{const Sn=e(jn),Fn=t(jn),Tn=nn[Sn];Tn.count=Tn.count+1,Tn.sumforceNodeSize=Tn.sumforceNodeSize+Math.PI*(Fn*Fn)*1.3,nn[Sn]=Tn}),nn}function ue(Lr){const nn={},jn=[];return Lr.forEach(Fn=>{const Tn=Me(Fn);let ui=0;nn[Tn]!==void 0&&(ui=nn[Tn]),ui+=1,nn[Tn]=ui}),Object.entries(nn).forEach(([Fn,Tn])=>{const ui=Fn.split("~")[0],la=Fn.split("~")[1];ui!==void 0&&la!==void 0&&jn.push({source:ui,target:la,count:Tn})}),jn}function se(){return et={none:{x:0,y:0}},J.forEach(Lr=>{et[Lr.id]={x:Lr.x-u[0],y:Lr.y-u[1]}}),et}function Me(Lr){const nn=e(m[Lr.source]),jn=e(m[Lr.target]);return nn<=jn?`${nn}~${jn}`:`${jn}~${nn}`}function ve(Lr){m={},Lr.forEach(nn=>{m[nn.id]=nn})}function De(Lr){return arguments.length?(mt=Lr,Bt(),Ct):mt}function ye(Lr){return arguments.length?typeof Lr=="string"?(e=nn=>nn[Lr],Ct):(e=Lr,Ct):e}function pr(Lr){return arguments.length?(St=Lr,Ct):St}function cr(Lr){return arguments.length?(Dt=Lr,Ct):Dt}function fr(Lr){return arguments.length?(j=Lr,Ct):j}function en(Lr){return arguments.length?(G=Lr,Ct):G}function sn(Lr){return arguments.length?(ve(Lr||[]),d=Lr||[],Ct):d}function Yr(Lr){return arguments.length?(T=Lr||[],Bt(),Ct):T}function rn(Lr){return arguments.length?(typeof Lr=="function"?t=Lr:t=l(+Lr),Bt(),Ct):t}function gn(Lr){return arguments.length?(typeof Lr=="function"?r=Lr:r=l(+Lr),Bt(),Ct):r}function vn(Lr){return arguments.length?(typeof Lr=="function"?n=Lr:n=l(+Lr),Bt(),Ct):n}function ln(Lr){return arguments.length?(typeof Lr=="function"?o=Lr:o=l(+Lr),Bt(),Ct):o}function Pn(Lr){return arguments.length?(u=Lr,Ct):u}return Ct.initialize=Lr=>{d=Lr,Bt()},Ct.template=De,Ct.groupBy=ye,Ct.enableGrouping=pr,Ct.strength=cr,Ct.centerX=fr,Ct.centerY=en,Ct.nodes=sn,Ct.links=Yr,Ct.forceNodeSize=rn,Ct.nodeSize=Ct.forceNodeSize,Ct.forceCharge=gn,Ct.forceLinkDistance=vn,Ct.forceLinkStrength=ln,Ct.offset=Pn,Ct.getFocis=se,Ct}const Qd={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};class Hg extends Ye{constructor(e){super();this.center=[0,0],this.nodeStrength=null,this.edgeStrength=null,this.preventOverlap=!1,this.clusterNodeStrength=null,this.clusterEdgeStrength=null,this.clusterEdgeDistance=null,this.clusterNodeSize=null,this.clusterFociStrength=null,this.linkDistance=50,this.alphaDecay=.028,this.alphaMin=.001,this.alpha=.3,this.collideStrength=1,this.workerEnabled=!1,this.tick=()=>{},this.onLayoutEnd=()=>{},this.ticking=void 0,e&&this.updateCfg(e)}getDefaultCfg(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick(){},onLayoutEnd(){},workerEnabled:!1}}init(e){const t=this;t.nodes=e.nodes||[];const r=e.edges||[];t.edges=r.map(n=>{const o={},u=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(n).forEach(d=>{u.indexOf(d)>-1||(o[d]=n[d])}),o}),t.ticking=!1}execute(e){const t=this,r=t.nodes,n=t.edges;if(t.ticking)return;let o=t.forceSimulation;const u=t.alphaMin,d=t.alphaDecay,m=t.alpha;if(o){if(e){if(t.clustering&&t.clusterForce&&(t.clusterForce.nodes(r),t.clusterForce.links(n)),o.nodes(r),n&&t.edgeForce)t.edgeForce.links(n);else if(n&&!t.edgeForce){const T=_h().id(j=>j.id).links(n);t.edgeStrength&&T.strength(t.edgeStrength),t.linkDistance&&T.distance(t.linkDistance),t.edgeForce=T,o.force("link",T)}}t.preventOverlap&&t.overlapProcess(o),o.alpha(m).restart(),this.ticking=!0}else try{const T=Fv();if(t.nodeStrength&&T.strength(t.nodeStrength),o=Nv().nodes(r),t.clustering){const j=Yg();j.centerX(t.center[0]).centerY(t.center[1]).template("force").strength(t.clusterFociStrength),n&&j.links(n),r&&j.nodes(r),j.forceLinkDistance(t.clusterEdgeDistance).forceLinkStrength(t.clusterEdgeStrength).forceCharge(t.clusterNodeStrength).forceNodeSize(t.clusterNodeSize),t.clusterForce=j,o.force("group",j)}if(o.force("center",Gv(t.center[0],t.center[1])).force("charge",T).alpha(m).alphaDecay(d).alphaMin(u),t.preventOverlap&&t.overlapProcess(o),n){const j=_h().id(G=>G.id).links(n);t.edgeStrength&&j.strength(t.edgeStrength),t.linkDistance&&j.distance(t.linkDistance),t.edgeForce=j,o.force("link",j)}if(t.workerEnabled&&!qf()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!t.workerEnabled)o.on("tick",()=>{t.tick()}).on("end",()=>{t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()}),t.ticking=!0;else{o.stop();const j=kv(o);for(let G=1;G<=j;G++)o.tick(),postMessage({nodes:r,currentTick:G,totalTicks:j,type:Qd.TICK},void 0);t.ticking=!1}t.forceSimulation=o,t.ticking=!0}catch(T){t.ticking=!1,console.warn(T)}}overlapProcess(e){const t=this,r=t.nodeSize,n=t.nodeSpacing;let o,u;const d=t.collideStrength;if(Ke(n)?u=()=>n:An(n)?u=n:u=()=>0,!r)o=m=>m.size?dn(m.size)?(m.size[0]>m.size[1]?m.size[0]:m.size[1])/2+u(m):m.size/2+u(m):10+u(m);else if(An(r))o=m=>r(m)+u(m);else if(dn(r)){const T=(r[0]>r[1]?r[0]:r[1])/2;o=j=>T+u(j)}else if(Ke(r)){const m=r/2;o=T=>m+u(T)}else o=()=>10;e.force("collisionForce",Vv(o).strength(d))}updateCfg(e){const t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.forceSimulation=null,Object.assign(t,e)}destroy(){const e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.nodes=null,e.edges=null,e.destroyed=!0}}function kv(l){const e=l.alphaMin(),t=l.alphaTarget(),r=l.alpha(),n=Math.log((e-t)/(r-t))/Math.log(1-l.alphaDecay());return Math.ceil(n)}function qf(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function Kg(l,e,t,r){l.forEach((n,o)=>{l[o].children=[],l[o].parent=[]}),r?e.forEach(n=>{let o=0;n.source&&(o=t[n.source]);let u=0;n.target&&(u=t[n.target]);const d=l[o].children,m=l[u].parent;d.push(l[u].id),m.push(l[o].id)}):e.forEach(n=>{let o=0;n.source&&(o=t[n.source]);let u=0;n.target&&(u=t[n.target]);const d=l[o].children,m=l[u].children;d.push(l[u].id),m.push(l[o].id)})}function Zh(l,e,t){const r=t.length;for(let n=0;n<r;n++)if(l.id===t[n].source&&e.id===t[n].target||e.id===t[n].source&&l.id===t[n].target)return!0;return!1}function _g(l,e){const t=l.degree,r=e.degree;return t<r?-1:t>r?1:0}class Jd extends Ye{constructor(e){super();this.radius=null,this.startRadius=null,this.endRadius=null,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.divisions=1,this.ordering=null,this.angleRatio=1,this.nodes=[],this.edges=[],this.nodeMap={},this.degrees=[],this.width=300,this.height=300,this.updateCfg(e)}getDefaultCfg(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}execute(){const e=this,t=e.nodes,r=e.edges,n=t.length;if(n===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const o=e.center;if(n===1){t[0].x=o[0],t[0].y=o[1],e.onLayoutEnd&&e.onLayoutEnd();return}let u=e.radius,d=e.startRadius,m=e.endRadius;const T=e.divisions,j=e.startAngle,G=e.endAngle,et=(G-j)/n,J={};t.forEach((Ht,qt)=>{J[Ht.id]=qt}),e.nodeMap=J;const at=on(t.length,J,r);e.degrees=at,!u&&!d&&!m?u=e.height>e.width?e.width/2:e.height/2:!d&&m?d=m:d&&!m&&(m=d);const mt=e.angleRatio,St=et*mt,Dt=e.ordering;let Ct=[];Dt==="topology"?Ct=e.topologyOrdering():Dt==="topology-directed"?Ct=e.topologyOrdering(!0):Dt==="degree"?Ct=e.degreeOrdering():Ct=t;const Bt=e.clockwise,zt=Math.ceil(n/T);for(let Ht=0;Ht<n;++Ht){let qt=u;!qt&&d!==null&&m!==null&&(qt=d+Ht*(m-d)/(n-1)),qt||(qt=10+Ht*100/(n-1));let ue=j+Ht%zt*St+2*Math.PI/T*Math.floor(Ht/zt);Bt||(ue=G-Ht%zt*St-2*Math.PI/T*Math.floor(Ht/zt)),Ct[Ht].x=o[0]+Math.cos(ue)*qt,Ct[Ht].y=o[1]+Math.sin(ue)*qt,Ct[Ht].weight=at[Ht]}return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:Ct,edges:this.edges}}topologyOrdering(e=!1){const t=this,r=t.degrees,n=t.edges,o=t.nodes,u=hi(o),d=t.nodeMap,m=[u[0]],T=[o[0]],j=[],G=o.length;j[0]=!0,Kg(u,n,d,e);let et=0;return u.forEach((J,at)=>{if(at!==0)if((at===G-1||r[at]!==r[at+1]||Zh(m[et],J,n))&&!j[at])m.push(J),T.push(o[d[J.id]]),j[at]=!0,et++;else{const mt=m[et].children;let St=!1;for(let Ct=0;Ct<mt.length;Ct++){const Bt=d[mt[Ct]];if(r[Bt]===r[at]&&!j[Bt]){m.push(u[Bt]),T.push(o[d[u[Bt].id]]),j[Bt]=!0,St=!0;break}}let Dt=0;for(;!St&&(j[Dt]||(m.push(u[Dt]),T.push(o[d[u[Dt].id]]),j[Dt]=!0,St=!0),Dt++,Dt!==G););}}),T}degreeOrdering(){const e=this,t=e.nodes,r=[],n=e.degrees;return t.forEach((o,u)=>{o.degree=n[u],r.push(o)}),r.sort(_g),r}getType(){return"circular"}}var Zg=i("+WlW"),Xv=i.n(Zg);class $g extends Ye{constructor(e){super();this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}execute(){const e=this,{nodes:t,nodeSize:r,rankdir:n,combos:o}=e;if(!t)return;const u=e.edges||[],d=new Xv.a.graphlib.Graph({multigraph:!0,compound:!0});let m;r?dn(r)?m=()=>r:m=()=>[r,r]:m=J=>J.size?dn(J.size)?J.size:[J.size,J.size]:[40,40];let T=th(e.nodesepFunc,e.nodesep,50),j=th(e.ranksepFunc,e.ranksep,50);(n==="LR"||n==="RL")&&(T=th(e.ranksepFunc,e.ranksep,50),j=th(e.nodesepFunc,e.nodesep,50)),d.setDefaultEdgeLabel(()=>({})),d.setGraph(e);const G={};t.forEach(J=>{const at=m(J),mt=j(J),St=T(J),Dt=at[0]+2*St,Ct=at[1]+2*mt;d.setNode(J.id,{width:Dt,height:Ct}),this.sortByCombo&&J.comboId&&(G[J.comboId]||(G[J.comboId]=!0,d.setNode(J.comboId,{})),d.setParent(J.id,J.comboId))}),this.sortByCombo&&o&&o.forEach(J=>{!J.parentId||(G[J.parentId]||(G[J.parentId]=!0,d.setNode(J.parentId,{})),d.setParent(J.id,J.parentId))}),u.forEach(J=>{d.setEdge(J.source,J.target,{weight:J.weight||1})}),Xv.a.layout(d);let et;return d.nodes().forEach(J=>{et=d.node(J);const at=t.findIndex(mt=>mt.id===J);!t[at]||(t[at].x=et.x,t[at].y=et.y)}),d.edges().forEach(J=>{et=d.edge(J);const at=u.findIndex(mt=>mt.source===J.v&&mt.target===J.w);e.controlPoints&&u[at].type!=="loop"&&(u[at].controlPoints=et.points.slice(1,et.points.length-1))}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:u}}getType(){return"dagre"}}function th(l,e,t){let r;return l?r=l:Ke(e)?r=()=>e:r=()=>t,r}var Qg=i("sAMl"),Yv=i("RFMt"),Hv=i("hZX5"),$h=i("eOCE"),Qh=i("uW5x");const Jg=Object.prototype.toString;function Jh(l){return Jg.call(l).endsWith("Array]")}function qg(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Jh(l))throw new TypeError("input must be an array");if(l.length===0)throw new TypeError("input must not be empty");var t=e.fromIndex,r=t===void 0?0:t,n=e.toIndex,o=n===void 0?l.length:n;if(r<0||r>=l.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>l.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=l[r],d=r+1;d<o;d++)l[d]>u&&(u=l[d]);return u}var tp=qg;function ep(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Jh(l))throw new TypeError("input must be an array");if(l.length===0)throw new TypeError("input must not be empty");var t=e.fromIndex,r=t===void 0?0:t,n=e.toIndex,o=n===void 0?l.length:n;if(r<0||r>=l.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>l.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=l[r],d=r+1;d<o;d++)l[d]<u&&(u=l[d]);return u}var Kv=ep;function _v(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Jh(l)){if(l.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(e.output!==void 0){if(!Jh(e.output))throw new TypeError("output option must be an array if specified");t=e.output}else t=new Array(l.length);var r=Kv(l),n=tp(l);if(r===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,u=o===void 0?e.autoMinMax?r:0:o,d=e.max,m=d===void 0?e.autoMinMax?n:1:d;if(u>=m)throw new RangeError("min option must be smaller than max option");for(var T=(m-u)/(n-r),j=0;j<l.length;j++)t[j]=(l[j]-r)*T+u;return t}var Zv=_v,eh=" ".repeat(2),$v=" ".repeat(4);function rp(){return Qv(this)}function Qv(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxRows,r=t===void 0?15:t,n=e.maxColumns,o=n===void 0?10:n,u=e.maxNumSize,d=u===void 0?8:u;return"".concat(l.constructor.name,` {
`).concat(eh,`[
`).concat($v).concat(np(l,r,o,d),`
`).concat(eh,`]
`).concat(eh,"rows: ").concat(l.rows,`
`).concat(eh,"columns: ").concat(l.columns,`
}`)}function np(l,e,t,r){for(var n=l.rows,o=l.columns,u=Math.min(n,e),d=Math.min(o,t),m=[],T=0;T<u;T++){for(var j=[],G=0;G<d;G++)j.push(ou(l.get(T,G),r));m.push("".concat(j.join(" ")))}return d!==o&&(m[m.length-1]+=" ... ".concat(o-t," more columns")),u!==n&&m.push("... ".concat(n-e," more rows")),m.join(`
`.concat($v))}function ou(l,e){var t=String(l);if(t.length<=e)return t.padEnd(e," ");var r=l.toPrecision(e-2);if(r.length<=e)return r;var n=l.toExponential(e-2),o=n.indexOf("e"),u=n.slice(o);return n.slice(0,e-u.length)+u}function Jv(l,e){l.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},l.prototype.addS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)+r);return this},l.prototype.addM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)+r.get(n,o));return this},l.add=function(r,n){var o=new e(r);return o.add(n)},l.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},l.prototype.subS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)-r);return this},l.prototype.subM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)-r.get(n,o));return this},l.sub=function(r,n){var o=new e(r);return o.sub(n)},l.prototype.subtract=l.prototype.sub,l.prototype.subtractS=l.prototype.subS,l.prototype.subtractM=l.prototype.subM,l.subtract=l.sub,l.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},l.prototype.mulS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)*r);return this},l.prototype.mulM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)*r.get(n,o));return this},l.mul=function(r,n){var o=new e(r);return o.mul(n)},l.prototype.multiply=l.prototype.mul,l.prototype.multiplyS=l.prototype.mulS,l.prototype.multiplyM=l.prototype.mulM,l.multiply=l.mul,l.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},l.prototype.divS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)/r);return this},l.prototype.divM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)/r.get(n,o));return this},l.div=function(r,n){var o=new e(r);return o.div(n)},l.prototype.divide=l.prototype.div,l.prototype.divideS=l.prototype.divS,l.prototype.divideM=l.prototype.divM,l.divide=l.div,l.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},l.prototype.modS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)%r);return this},l.prototype.modM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)%r.get(n,o));return this},l.mod=function(r,n){var o=new e(r);return o.mod(n)},l.prototype.modulus=l.prototype.mod,l.prototype.modulusS=l.prototype.modS,l.prototype.modulusM=l.prototype.modM,l.modulus=l.mod,l.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},l.prototype.andS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)&r);return this},l.prototype.andM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)&r.get(n,o));return this},l.and=function(r,n){var o=new e(r);return o.and(n)},l.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},l.prototype.orS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)|r);return this},l.prototype.orM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)|r.get(n,o));return this},l.or=function(r,n){var o=new e(r);return o.or(n)},l.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},l.prototype.xorS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)^r);return this},l.prototype.xorM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)^r.get(n,o));return this},l.xor=function(r,n){var o=new e(r);return o.xor(n)},l.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},l.prototype.leftShiftS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)<<r);return this},l.prototype.leftShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)<<r.get(n,o));return this},l.leftShift=function(r,n){var o=new e(r);return o.leftShift(n)},l.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},l.prototype.signPropagatingRightShiftS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)>>r);return this},l.prototype.signPropagatingRightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)>>r.get(n,o));return this},l.signPropagatingRightShift=function(r,n){var o=new e(r);return o.signPropagatingRightShift(n)},l.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},l.prototype.rightShiftS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)>>>r);return this},l.prototype.rightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,this.get(n,o)>>>r.get(n,o));return this},l.rightShift=function(r,n){var o=new e(r);return o.rightShift(n)},l.prototype.zeroFillRightShift=l.prototype.rightShift,l.prototype.zeroFillRightShiftS=l.prototype.rightShiftS,l.prototype.zeroFillRightShiftM=l.prototype.rightShiftM,l.zeroFillRightShift=l.rightShift,l.prototype.not=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,~this.get(r,n));return this},l.not=function(r){var n=new e(r);return n.not()},l.prototype.abs=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.abs(this.get(r,n)));return this},l.abs=function(r){var n=new e(r);return n.abs()},l.prototype.acos=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.acos(this.get(r,n)));return this},l.acos=function(r){var n=new e(r);return n.acos()},l.prototype.acosh=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.acosh(this.get(r,n)));return this},l.acosh=function(r){var n=new e(r);return n.acosh()},l.prototype.asin=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.asin(this.get(r,n)));return this},l.asin=function(r){var n=new e(r);return n.asin()},l.prototype.asinh=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.asinh(this.get(r,n)));return this},l.asinh=function(r){var n=new e(r);return n.asinh()},l.prototype.atan=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.atan(this.get(r,n)));return this},l.atan=function(r){var n=new e(r);return n.atan()},l.prototype.atanh=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.atanh(this.get(r,n)));return this},l.atanh=function(r){var n=new e(r);return n.atanh()},l.prototype.cbrt=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.cbrt(this.get(r,n)));return this},l.cbrt=function(r){var n=new e(r);return n.cbrt()},l.prototype.ceil=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.ceil(this.get(r,n)));return this},l.ceil=function(r){var n=new e(r);return n.ceil()},l.prototype.clz32=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.clz32(this.get(r,n)));return this},l.clz32=function(r){var n=new e(r);return n.clz32()},l.prototype.cos=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.cos(this.get(r,n)));return this},l.cos=function(r){var n=new e(r);return n.cos()},l.prototype.cosh=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.cosh(this.get(r,n)));return this},l.cosh=function(r){var n=new e(r);return n.cosh()},l.prototype.exp=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.exp(this.get(r,n)));return this},l.exp=function(r){var n=new e(r);return n.exp()},l.prototype.expm1=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.expm1(this.get(r,n)));return this},l.expm1=function(r){var n=new e(r);return n.expm1()},l.prototype.floor=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.floor(this.get(r,n)));return this},l.floor=function(r){var n=new e(r);return n.floor()},l.prototype.fround=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.fround(this.get(r,n)));return this},l.fround=function(r){var n=new e(r);return n.fround()},l.prototype.log=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.log(this.get(r,n)));return this},l.log=function(r){var n=new e(r);return n.log()},l.prototype.log1p=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.log1p(this.get(r,n)));return this},l.log1p=function(r){var n=new e(r);return n.log1p()},l.prototype.log10=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.log10(this.get(r,n)));return this},l.log10=function(r){var n=new e(r);return n.log10()},l.prototype.log2=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.log2(this.get(r,n)));return this},l.log2=function(r){var n=new e(r);return n.log2()},l.prototype.round=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.round(this.get(r,n)));return this},l.round=function(r){var n=new e(r);return n.round()},l.prototype.sign=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.sign(this.get(r,n)));return this},l.sign=function(r){var n=new e(r);return n.sign()},l.prototype.sin=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.sin(this.get(r,n)));return this},l.sin=function(r){var n=new e(r);return n.sin()},l.prototype.sinh=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.sinh(this.get(r,n)));return this},l.sinh=function(r){var n=new e(r);return n.sinh()},l.prototype.sqrt=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.sqrt(this.get(r,n)));return this},l.sqrt=function(r){var n=new e(r);return n.sqrt()},l.prototype.tan=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.tan(this.get(r,n)));return this},l.tan=function(r){var n=new e(r);return n.tan()},l.prototype.tanh=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.tanh(this.get(r,n)));return this},l.tanh=function(r){var n=new e(r);return n.tanh()},l.prototype.trunc=function(){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.trunc(this.get(r,n)));return this},l.trunc=function(r){var n=new e(r);return n.trunc()},l.pow=function(r,n){var o=new e(r);return o.pow(n)},l.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},l.prototype.powS=function(r){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,Math.pow(this.get(n,o),r));return this},l.prototype.powM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.set(n,o,Math.pow(this.get(n,o),r.get(n,o)));return this}}function h(l,e,t){var r=t?l.rows:l.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function v(l,e,t){var r=t?l.columns:l.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function s(l,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==l.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function f(l,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==l.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function P(l,e,t){return{row:N(l,e),column:Z(l,t)}}function N(l,e){if(typeof e!="object")throw new TypeError("unexpected type for row indices");var t=e.some(function(r){return r<0||r>=l.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Z(l,e){if(typeof e!="object")throw new TypeError("unexpected type for column indices");var t=e.some(function(r){return r<0||r>=l.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function vt(l,e,t,r,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Gt("startRow",e),Gt("endRow",t),Gt("startColumn",r),Gt("endColumn",n),e>t||r>n||e<0||e>=l.rows||t<0||t>=l.rows||r<0||r>=l.columns||n<0||n>=l.columns)throw new RangeError("Submatrix indices are out of range")}function Tt(l){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],r=0;r<l;r++)t.push(e);return t}function Gt(l,e){if(typeof e!="number")throw new TypeError("".concat(l," must be a number"))}function _t(l){if(l.isEmpty())throw new Error("Empty matrix has no elements to index")}function Zt(l){for(var e=Tt(l.rows),t=0;t<l.rows;++t)for(var r=0;r<l.columns;++r)e[t]+=l.get(t,r);return e}function Jt(l){for(var e=Tt(l.columns),t=0;t<l.rows;++t)for(var r=0;r<l.columns;++r)e[r]+=l.get(t,r);return e}function ie(l){for(var e=0,t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)e+=l.get(t,r);return e}function le(l){for(var e=Tt(l.rows,1),t=0;t<l.rows;++t)for(var r=0;r<l.columns;++r)e[t]*=l.get(t,r);return e}function xe(l){for(var e=Tt(l.columns,1),t=0;t<l.rows;++t)for(var r=0;r<l.columns;++r)e[r]*=l.get(t,r);return e}function Ze(l){for(var e=1,t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)e*=l.get(t,r);return e}function He(l,e,t){for(var r=l.rows,n=l.columns,o=[],u=0;u<r;u++){for(var d=0,m=0,T=0,j=0;j<n;j++)T=l.get(u,j)-t[u],d+=T,m+=T*T;e?o.push((m-d*d/n)/(n-1)):o.push((m-d*d/n)/n)}return o}function yr(l,e,t){for(var r=l.rows,n=l.columns,o=[],u=0;u<n;u++){for(var d=0,m=0,T=0,j=0;j<r;j++)T=l.get(j,u)-t[u],d+=T,m+=T*T;e?o.push((m-d*d/r)/(r-1)):o.push((m-d*d/r)/r)}return o}function br(l,e,t){for(var r=l.rows,n=l.columns,o=r*n,u=0,d=0,m=0,T=0;T<r;T++)for(var j=0;j<n;j++)m=l.get(T,j)-t,u+=m,d+=m*m;return e?(d-u*u/o)/(o-1):(d-u*u/o)/o}function tn(l,e){for(var t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)l.set(t,r,l.get(t,r)-e[t])}function an(l,e){for(var t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)l.set(t,r,l.get(t,r)-e[r])}function yn(l,e){for(var t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)l.set(t,r,l.get(t,r)-e)}function li(l){for(var e=[],t=0;t<l.rows;t++){for(var r=0,n=0;n<l.columns;n++)r+=Math.pow(l.get(t,n),2)/(l.columns-1);e.push(Math.sqrt(r))}return e}function Yn(l,e){for(var t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)l.set(t,r,l.get(t,r)/e[t])}function Hn(l){for(var e=[],t=0;t<l.columns;t++){for(var r=0,n=0;n<l.rows;n++)r+=Math.pow(l.get(n,t),2)/(l.rows-1);e.push(Math.sqrt(r))}return e}function Ti(l,e){for(var t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)l.set(t,r,l.get(t,r)/e[r])}function sa(l){for(var e=l.size-1,t=0,r=0;r<l.columns;r++)for(var n=0;n<l.rows;n++)t+=Math.pow(l.get(n,r),2)/e;return Math.sqrt(t)}function Ji(l,e){for(var t=0;t<l.rows;t++)for(var r=0;r<l.columns;r++)l.set(t,r,l.get(t,r)/e)}var Bi=function(){function l(){Object($h.a)(this,l)}return Object(Qh.a)(l,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)t.call(this,r,n);return this}},{key:"to1DArray",value:function(){for(var t=[],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)t.push(this.get(r,n));return t}},{key:"to2DArray",value:function(){for(var t=[],r=0;r<this.rows;r++){t.push([]);for(var n=0;n<this.columns;n++)t[r].push(this.get(r,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,r=0,n=-1,o=!0,u=!1;t<this.rows&&o;){for(r=0,u=!1;r<this.columns&&u===!1;)this.get(t,r)===0?r++:this.get(t,r)===1&&r>n?(u=!0,n=r):(o=!1,u=!0);t++}return o}},{key:"isReducedEchelonForm",value:function(){for(var t=0,r=0,n=-1,o=!0,u=!1;t<this.rows&&o;){for(r=0,u=!1;r<this.columns&&u===!1;)this.get(t,r)===0?r++:this.get(t,r)===1&&r>n?(u=!0,n=r):(o=!1,u=!0);for(var d=r+1;d<this.rows;d++)this.get(t,d)!==0&&(o=!1);t++}return o}},{key:"echelonForm",value:function(){for(var t=this.clone(),r=0,n=0;r<t.rows&&n<t.columns;){for(var o=r,u=r;u<t.rows;u++)t.get(u,n)>t.get(o,n)&&(o=u);if(t.get(o,n)===0)n++;else{t.swapRows(r,o);for(var d=t.get(r,n),m=n;m<t.columns;m++)t.set(r,m,t.get(r,m)/d);for(var T=r+1;T<t.rows;T++){var j=t.get(T,n)/t.get(r,n);t.set(T,n,0);for(var G=n+1;G<t.columns;G++)t.set(T,G,t.get(T,G)-t.get(r,G)*j)}r++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),r=t.columns,n=t.rows,o=n-1;o>=0;)if(t.maxRow(o)===0)o--;else{for(var u=0,d=!1;u<n&&d===!1;)t.get(o,u)===1?d=!0:u++;for(var m=0;m<o;m++)for(var T=t.get(m,u),j=u;j<r;j++){var G=t.get(m,j)-T*t.get(o,j);t.set(m,j,G)}o--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var r=t.rows,n=r===void 0?1:r,o=t.columns,u=o===void 0?1:o;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(u)||u<=0)throw new TypeError("columns must be a positive integer");for(var d=new $n(this.rows*n,this.columns*u),m=0;m<n;m++)for(var T=0;T<u;T++)d.setSubMatrix(this,this.rows*m,this.columns*T);return d}},{key:"fill",value:function(t){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){h(this,t);for(var r=[],n=0;n<this.columns;n++)r.push(this.get(t,n));return r}},{key:"getRowVector",value:function(t){return $n.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,r){h(this,t),r=s(this,r);for(var n=0;n<this.columns;n++)this.set(t,n,r[n]);return this}},{key:"swapRows",value:function(t,r){h(this,t),h(this,r);for(var n=0;n<this.columns;n++){var o=this.get(t,n);this.set(t,n,this.get(r,n)),this.set(r,n,o)}return this}},{key:"getColumn",value:function(t){v(this,t);for(var r=[],n=0;n<this.rows;n++)r.push(this.get(n,t));return r}},{key:"getColumnVector",value:function(t){return $n.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,r){v(this,t),r=f(this,r);for(var n=0;n<this.rows;n++)this.set(n,t,r[n]);return this}},{key:"swapColumns",value:function(t,r){v(this,t),v(this,r);for(var n=0;n<this.rows;n++){var o=this.get(n,t);this.set(n,t,this.get(n,r)),this.set(n,r,o)}return this}},{key:"addRowVector",value:function(t){t=s(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=s(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=s(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=s(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=f(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+t[r]);return this}},{key:"subColumnVector",value:function(t){t=f(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-t[r]);return this}},{key:"mulColumnVector",value:function(t){t=f(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*t[r]);return this}},{key:"divColumnVector",value:function(t){t=f(this,t);for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/t[r]);return this}},{key:"mulRow",value:function(t,r){h(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*r);return this}},{key:"mulColumn",value:function(t,r){v(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*r);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n));return t}},{key:"maxIndex",value:function(){_t(this);for(var t=this.get(0,0),r=[0,0],n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.get(n,o)>t&&(t=this.get(n,o),r[0]=n,r[1]=o);return r}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n));return t}},{key:"minIndex",value:function(){_t(this);for(var t=this.get(0,0),r=[0,0],n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)this.get(n,o)<t&&(t=this.get(n,o),r[0]=n,r[1]=o);return r}},{key:"maxRow",value:function(t){if(h(this,t),this.isEmpty())return NaN;for(var r=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>r&&(r=this.get(t,n));return r}},{key:"maxRowIndex",value:function(t){h(this,t),_t(this);for(var r=this.get(t,0),n=[t,0],o=1;o<this.columns;o++)this.get(t,o)>r&&(r=this.get(t,o),n[1]=o);return n}},{key:"minRow",value:function(t){if(h(this,t),this.isEmpty())return NaN;for(var r=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<r&&(r=this.get(t,n));return r}},{key:"minRowIndex",value:function(t){h(this,t),_t(this);for(var r=this.get(t,0),n=[t,0],o=1;o<this.columns;o++)this.get(t,o)<r&&(r=this.get(t,o),n[1]=o);return n}},{key:"maxColumn",value:function(t){if(v(this,t),this.isEmpty())return NaN;for(var r=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>r&&(r=this.get(n,t));return r}},{key:"maxColumnIndex",value:function(t){v(this,t),_t(this);for(var r=this.get(0,t),n=[0,t],o=1;o<this.rows;o++)this.get(o,t)>r&&(r=this.get(o,t),n[0]=o);return n}},{key:"minColumn",value:function(t){if(v(this,t),this.isEmpty())return NaN;for(var r=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<r&&(r=this.get(n,t));return r}},{key:"minColumnIndex",value:function(t){v(this,t),_t(this);for(var r=this.get(0,t),n=[0,t],o=1;o<this.rows;o++)this.get(o,t)<r&&(r=this.get(o,t),n[0]=o);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),r=[],n=0;n<t;n++)r.push(this.get(n,n));return r}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",r=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var o=0;o<this.columns;o++)r=r+this.get(n,o)*this.get(n,o);return Math.sqrt(r)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)t+=this.get(r,n),this.set(r,n,t);return this}},{key:"dot",value:function(t){l.isMatrix(t)&&(t=t.to1DArray());var r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,o=0;o<r.length;o++)n+=r[o]*t[o];return n}},{key:"mmul",value:function(t){t=$n.checkMatrix(t);for(var r=this.rows,n=this.columns,o=t.columns,u=new $n(r,o),d=new Float64Array(n),m=0;m<o;m++){for(var T=0;T<n;T++)d[T]=t.get(T,m);for(var j=0;j<r;j++){for(var G=0,et=0;et<n;et++)G+=this.get(j,et)*d[et];u.set(j,m,G)}}return u}},{key:"strassen2x2",value:function(t){t=$n.checkMatrix(t);var r=new $n(2,2),n=this.get(0,0),o=t.get(0,0),u=this.get(0,1),d=t.get(0,1),m=this.get(1,0),T=t.get(1,0),j=this.get(1,1),G=t.get(1,1),et=(n+j)*(o+G),J=(m+j)*o,at=n*(d-G),mt=j*(T-o),St=(n+u)*G,Dt=(m-n)*(o+d),Ct=(u-j)*(T+G),Bt=et+mt-St+Ct,zt=at+St,Ht=J+mt,qt=et-J+at+Dt;return r.set(0,0,Bt),r.set(0,1,zt),r.set(1,0,Ht),r.set(1,1,qt),r}},{key:"strassen3x3",value:function(t){t=$n.checkMatrix(t);var r=new $n(3,3),n=this.get(0,0),o=this.get(0,1),u=this.get(0,2),d=this.get(1,0),m=this.get(1,1),T=this.get(1,2),j=this.get(2,0),G=this.get(2,1),et=this.get(2,2),J=t.get(0,0),at=t.get(0,1),mt=t.get(0,2),St=t.get(1,0),Dt=t.get(1,1),Ct=t.get(1,2),Bt=t.get(2,0),zt=t.get(2,1),Ht=t.get(2,2),qt=(n+o+u-d-m-G-et)*Dt,ue=(n-d)*(-at+Dt),se=m*(-J+at+St-Dt-Ct-Bt+Ht),Me=(-n+d+m)*(J-at+Dt),ve=(d+m)*(-J+at),De=n*J,ye=(-n+j+G)*(J-mt+Ct),pr=(-n+j)*(mt-Ct),cr=(j+G)*(-J+mt),fr=(n+o+u-m-T-j-G)*Ct,en=G*(-J+mt+St-Dt-Ct-Bt+zt),sn=(-u+G+et)*(Dt+Bt-zt),Yr=(u-et)*(Dt-zt),rn=u*Bt,gn=(G+et)*(-Bt+zt),vn=(-u+m+T)*(Ct+Bt-Ht),ln=(u-T)*(Ct-Ht),Pn=(m+T)*(-Bt+Ht),Lr=o*St,nn=T*zt,jn=d*mt,Sn=j*at,Fn=et*Ht,Tn=De+rn+Lr,ui=qt+Me+ve+De+sn+rn+gn,la=De+ye+cr+fr+rn+vn+Pn,xi=ue+se+Me+De+rn+vn+ln,to=ue+Me+ve+De+nn,ka=rn+vn+ln+Pn+jn,So=De+ye+pr+en+sn+Yr+rn,el=sn+Yr+rn+gn+Sn,ea=De+ye+pr+cr+Fn;return r.set(0,0,Tn),r.set(0,1,ui),r.set(0,2,la),r.set(1,0,xi),r.set(1,1,to),r.set(1,2,ka),r.set(2,0,So),r.set(2,1,el),r.set(2,2,ea),r}},{key:"mmulStrassen",value:function(t){t=$n.checkMatrix(t);var r=this.clone(),n=r.rows,o=r.columns,u=t.rows,d=t.columns;o!==u&&console.warn("Multiplying ".concat(n," x ").concat(o," and ").concat(u," x ").concat(d," matrix: dimensions do not match."));function m(et,J,at){var mt=et.rows,St=et.columns;if(mt===J&&St===at)return et;var Dt=l.zeros(J,at);return Dt=Dt.setSubMatrix(et,0,0),Dt}var T=Math.max(n,u),j=Math.max(o,d);r=m(r,T,j),t=m(t,T,j);function G(et,J,at,mt){if(at<=512||mt<=512)return et.mmul(J);at%2==1&&mt%2==1?(et=m(et,at+1,mt+1),J=m(J,at+1,mt+1)):at%2==1?(et=m(et,at+1,mt),J=m(J,at+1,mt)):mt%2==1&&(et=m(et,at,mt+1),J=m(J,at,mt+1));var St=parseInt(et.rows/2,10),Dt=parseInt(et.columns/2,10),Ct=et.subMatrix(0,St-1,0,Dt-1),Bt=J.subMatrix(0,St-1,0,Dt-1),zt=et.subMatrix(0,St-1,Dt,et.columns-1),Ht=J.subMatrix(0,St-1,Dt,J.columns-1),qt=et.subMatrix(St,et.rows-1,0,Dt-1),ue=J.subMatrix(St,J.rows-1,0,Dt-1),se=et.subMatrix(St,et.rows-1,Dt,et.columns-1),Me=J.subMatrix(St,J.rows-1,Dt,J.columns-1),ve=G(l.add(Ct,se),l.add(Bt,Me),St,Dt),De=G(l.add(qt,se),Bt,St,Dt),ye=G(Ct,l.sub(Ht,Me),St,Dt),pr=G(se,l.sub(ue,Bt),St,Dt),cr=G(l.add(Ct,zt),Me,St,Dt),fr=G(l.sub(qt,Ct),l.add(Bt,Ht),St,Dt),en=G(l.sub(zt,se),l.add(ue,Me),St,Dt),sn=l.add(ve,pr);sn.sub(cr),sn.add(en);var Yr=l.add(ye,cr),rn=l.add(De,pr),gn=l.sub(ve,De);gn.add(ye),gn.add(fr);var vn=l.zeros(2*sn.rows,2*sn.columns);return vn=vn.setSubMatrix(sn,0,0),vn=vn.setSubMatrix(Yr,sn.rows,0),vn=vn.setSubMatrix(rn,0,sn.columns),vn=vn.setSubMatrix(gn,sn.rows,sn.columns),vn.subMatrix(0,at-1,0,mt-1)}return G(r,t,T,j)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var r=t.min,n=r===void 0?0:r,o=t.max,u=o===void 0?1:o;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(u))throw new TypeError("max must be a number");if(n>=u)throw new RangeError("min must be smaller than max");for(var d=new $n(this.rows,this.columns),m=0;m<this.rows;m++){var T=this.getRow(m);T.length>0&&Zv(T,{min:n,max:u,output:T}),d.setRow(m,T)}return d}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var r=t.min,n=r===void 0?0:r,o=t.max,u=o===void 0?1:o;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(u))throw new TypeError("max must be a number");if(n>=u)throw new RangeError("min must be smaller than max");for(var d=new $n(this.rows,this.columns),m=0;m<this.columns;m++){var T=this.getColumn(m);T.length&&Zv(T,{min:n,max:u,output:T}),d.setColumn(m,T)}return d}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),r=0;r<this.rows;r++)for(var n=0;n<t;n++){var o=this.get(r,n),u=this.get(r,this.columns-1-n);this.set(r,n,u),this.set(r,this.columns-1-n,o)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),r=0;r<this.columns;r++)for(var n=0;n<t;n++){var o=this.get(n,r),u=this.get(this.rows-1-n,r);this.set(n,r,u),this.set(this.rows-1-n,r,o)}return this}},{key:"kroneckerProduct",value:function(t){t=$n.checkMatrix(t);for(var r=this.rows,n=this.columns,o=t.rows,u=t.columns,d=new $n(r*o,n*u),m=0;m<r;m++)for(var T=0;T<n;T++)for(var j=0;j<o;j++)for(var G=0;G<u;G++)d.set(o*m+j,u*T+G,this.get(m,T)*t.get(j,G));return d}},{key:"kroneckerSum",value:function(t){if(t=$n.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var r=this.rows,n=t.rows,o=this.kroneckerProduct($n.eye(n,n)),u=$n.eye(r,r).kroneckerProduct(t);return o.add(u)}},{key:"transpose",value:function(){for(var t=new $n(this.columns,this.rows),r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)t.set(n,r,this.get(r,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xo,r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xo,r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(t));return this}},{key:"subMatrix",value:function(t,r,n,o){vt(this,t,r,n,o);for(var u=new $n(r-t+1,o-n+1),d=t;d<=r;d++)for(var m=n;m<=o;m++)u.set(d-t,m-n,this.get(d,m));return u}},{key:"subMatrixRow",value:function(t,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.columns-1),r>n||r<0||r>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var o=new $n(t.length,n-r+1),u=0;u<t.length;u++)for(var d=r;d<=n;d++){if(t[u]<0||t[u]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[u]));o.set(u,d-r,this.get(t[u],d))}return o}},{key:"subMatrixColumn",value:function(t,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.rows-1),r>n||r<0||r>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var o=new $n(n-r+1,t.length),u=0;u<t.length;u++)for(var d=r;d<=n;d++){if(t[u]<0||t[u]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[u]));o.set(d-r,u,this.get(d,t[u]))}return o}},{key:"setSubMatrix",value:function(t,r,n){if(t=$n.checkMatrix(t),t.isEmpty())return this;var o=r+t.rows-1,u=n+t.columns-1;vt(this,r,o,n,u);for(var d=0;d<t.rows;d++)for(var m=0;m<t.columns;m++)this.set(r+d,n+m,t.get(d,m));return this}},{key:"selection",value:function(t,r){for(var n=P(this,t,r),o=new $n(t.length,r.length),u=0;u<n.row.length;u++)for(var d=n.row[u],m=0;m<n.column.length;m++){var T=n.column[m];o.set(u,m,this.get(d,T))}return o}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),r=0,n=0;n<t;n++)r+=this.get(n,n);return r}},{key:"clone",value:function(){for(var t=new $n(this.rows,this.columns),r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)t.set(r,n,this.get(r,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return Zt(this);case"column":return Jt(this);case void 0:return ie(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return le(this);case"column":return xe(this);case void 0:return Ze(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var r=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)r[n]/=this.columns;return r}case"column":{for(var o=0;o<this.columns;o++)r[o]/=this.rows;return r}case void 0:return r/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");var n=r,o=n.unbiased,u=o===void 0?!0:o,d=n.mean,m=d===void 0?this.mean(t):d;if(typeof u!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(m))throw new TypeError("mean must be an array");return He(this,u,m)}case"column":{if(!Array.isArray(m))throw new TypeError("mean must be an array");return yr(this,u,m)}case void 0:{if(typeof m!="number")throw new TypeError("mean must be a number");return br(this,u,m)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,r){typeof t=="object"&&(r=t,t=void 0);var n=this.variance(t,r);if(t===void 0)return Math.sqrt(n);for(var o=0;o<n.length;o++)n[o]=Math.sqrt(n[o]);return n}},{key:"center",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");var n=r,o=n.center,u=o===void 0?this.mean(t):o;switch(t){case"row":{if(!Array.isArray(u))throw new TypeError("center must be an array");return tn(this,u),this}case"column":{if(!Array.isArray(u))throw new TypeError("center must be an array");return an(this,u),this}case void 0:{if(typeof u!="number")throw new TypeError("center must be a number");return yn(this,u),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");var n=r.scale;switch(t){case"row":{if(n===void 0)n=li(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return Yn(this,n),this}case"column":{if(n===void 0)n=Hn(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return Ti(this,n),this}case void 0:{if(n===void 0)n=sa(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return Ji(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Qv(this,t)}}],[{key:"from1DArray",value:function(t,r,n){var o=t*r;if(o!==n.length)throw new RangeError("data length does not match given dimensions");for(var u=new $n(t,r),d=0;d<t;d++)for(var m=0;m<r;m++)u.set(d,m,n[d*r+m]);return u}},{key:"rowVector",value:function(t){for(var r=new $n(1,t.length),n=0;n<t.length;n++)r.set(0,n,t[n]);return r}},{key:"columnVector",value:function(t){for(var r=new $n(t.length,1),n=0;n<t.length;n++)r.set(n,0,t[n]);return r}},{key:"zeros",value:function(t,r){return new $n(t,r)}},{key:"ones",value:function(t,r){return new $n(t,r).fill(1)}},{key:"rand",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var o=n.random,u=o===void 0?Math.random:o,d=new $n(t,r),m=0;m<t;m++)for(var T=0;T<r;T++)d.set(m,T,u());return d}},{key:"randInt",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var o=n.min,u=o===void 0?0:o,d=n.max,m=d===void 0?1e3:d,T=n.random,j=T===void 0?Math.random:T;if(!Number.isInteger(u))throw new TypeError("min must be an integer");if(!Number.isInteger(m))throw new TypeError("max must be an integer");if(u>=m)throw new RangeError("min must be smaller than max");for(var G=m-u,et=new $n(t,r),J=0;J<t;J++)for(var at=0;at<r;at++){var mt=u+Math.round(j()*G);et.set(J,at,mt)}return et}},{key:"eye",value:function(t,r,n){r===void 0&&(r=t),n===void 0&&(n=1);for(var o=Math.min(t,r),u=this.zeros(t,r),d=0;d<o;d++)u.set(d,d,n);return u}},{key:"diag",value:function(t,r,n){var o=t.length;r===void 0&&(r=o),n===void 0&&(n=r);for(var u=Math.min(o,r,n),d=this.zeros(r,n),m=0;m<u;m++)d.set(m,m,t[m]);return d}},{key:"min",value:function(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var n=t.rows,o=t.columns,u=new $n(n,o),d=0;d<n;d++)for(var m=0;m<o;m++)u.set(d,m,Math.min(t.get(d,m),r.get(d,m)));return u}},{key:"max",value:function(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var n=t.rows,o=t.columns,u=new this(n,o),d=0;d<n;d++)for(var m=0;m<o;m++)u.set(d,m,Math.max(t.get(d,m),r.get(d,m)));return u}},{key:"checkMatrix",value:function(t){return l.isMatrix(t)?t:new $n(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),l}();Bi.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Bi.prototype[Symbol.for("nodejs.util.inspect.custom")]=rp);function xo(l,e){return l-e}Bi.random=Bi.rand,Bi.randomInt=Bi.randInt,Bi.diagonal=Bi.diag,Bi.prototype.diagonal=Bi.prototype.diag,Bi.identity=Bi.eye,Bi.prototype.negate=Bi.prototype.neg,Bi.prototype.tensorProduct=Bi.prototype.kroneckerProduct;var $n=function(l){Object(Yv.a)(t,l);var e=Object(Hv.a)(t);function t(r,n){var o;if(Object($h.a)(this,t),o=e.call(this),t.isMatrix(r))return Object(Qg.a)(o,r.clone());if(Number.isInteger(r)&&r>=0)if(o.data=[],Number.isInteger(n)&&n>=0)for(var u=0;u<r;u++)o.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(r)){var d=r;if(r=d.length,n=r?d[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var m=0;m<r;m++){if(d[m].length!==n)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(d[m]))}}else throw new TypeError("First argument must be a positive number or an array");return o.rows=r,o.columns=n,o}return Object(Qh.a)(t,[{key:"set",value:function(n,o,u){return this.data[n][o]=u,this}},{key:"get",value:function(n,o){return this.data[n][o]}},{key:"removeRow",value:function(n){return h(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,o){return o===void 0&&(o=n,n=this.rows),h(this,n,!0),o=Float64Array.from(s(this,o)),this.data.splice(n,0,o),this.rows+=1,this}},{key:"removeColumn",value:function(n){v(this,n);for(var o=0;o<this.rows;o++){for(var u=new Float64Array(this.columns-1),d=0;d<n;d++)u[d]=this.data[o][d];for(var m=n+1;m<this.columns;m++)u[m-1]=this.data[o][m];this.data[o]=u}return this.columns-=1,this}},{key:"addColumn",value:function(n,o){typeof o=="undefined"&&(o=n,n=this.columns),v(this,n,!0),o=f(this,o);for(var u=0;u<this.rows;u++){for(var d=new Float64Array(this.columns+1),m=0;m<n;m++)d[m]=this.data[u][m];for(d[m++]=o[u];m<this.columns+1;m++)d[m]=this.data[u][m-1];this.data[u]=d}return this.columns+=1,this}}]),t}(Bi);Jv(Bi,$n);var rh=function(l){Object(Yv.a)(t,l);var e=Object(Hv.a)(t);function t(r){var n;return Object($h.a)(this,t),n=e.call(this),n.data=r,n.rows=r.length,n.columns=r[0].length,n}return Object(Qh.a)(t,[{key:"set",value:function(n,o,u){return this.data[n][o]=u,this}},{key:"get",value:function(n,o){return this.data[n][o]}}]),t}(Bi);function qs(l,e){var t=0;return Math.abs(l)>Math.abs(e)?(t=e/l,Math.abs(l)*Math.sqrt(1+t*t)):e!==0?(t=l/e,Math.abs(e)*Math.sqrt(1+t*t)):0}var hs=function(){function l(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object($h.a)(this,l),e=rh.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");var r=e.rows,n=e.columns,o=t.computeLeftSingularVectors,u=o===void 0?!0:o,d=t.computeRightSingularVectors,m=d===void 0?!0:d,T=t.autoTranspose,j=T===void 0?!1:T,G=Boolean(u),et=Boolean(m),J=!1,at;if(r<n)if(!j)at=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{at=e.transpose(),r=at.rows,n=at.columns,J=!0;var mt=G;G=et,et=mt}else at=e.clone();for(var St=Math.min(r,n),Dt=Math.min(r+1,n),Ct=new Float64Array(Dt),Bt=new $n(r,St),zt=new $n(n,n),Ht=new Float64Array(n),qt=new Float64Array(r),ue=new Float64Array(Dt),se=0;se<Dt;se++)ue[se]=se;for(var Me=Math.min(r-1,n),ve=Math.max(0,Math.min(n-2,r)),De=Math.max(Me,ve),ye=0;ye<De;ye++){if(ye<Me){Ct[ye]=0;for(var pr=ye;pr<r;pr++)Ct[ye]=qs(Ct[ye],at.get(pr,ye));if(Ct[ye]!==0){at.get(ye,ye)<0&&(Ct[ye]=-Ct[ye]);for(var cr=ye;cr<r;cr++)at.set(cr,ye,at.get(cr,ye)/Ct[ye]);at.set(ye,ye,at.get(ye,ye)+1)}Ct[ye]=-Ct[ye]}for(var fr=ye+1;fr<n;fr++){if(ye<Me&&Ct[ye]!==0){for(var en=0,sn=ye;sn<r;sn++)en+=at.get(sn,ye)*at.get(sn,fr);en=-en/at.get(ye,ye);for(var Yr=ye;Yr<r;Yr++)at.set(Yr,fr,at.get(Yr,fr)+en*at.get(Yr,ye))}Ht[fr]=at.get(ye,fr)}if(G&&ye<Me)for(var rn=ye;rn<r;rn++)Bt.set(rn,ye,at.get(rn,ye));if(ye<ve){Ht[ye]=0;for(var gn=ye+1;gn<n;gn++)Ht[ye]=qs(Ht[ye],Ht[gn]);if(Ht[ye]!==0){Ht[ye+1]<0&&(Ht[ye]=0-Ht[ye]);for(var vn=ye+1;vn<n;vn++)Ht[vn]/=Ht[ye];Ht[ye+1]+=1}if(Ht[ye]=-Ht[ye],ye+1<r&&Ht[ye]!==0){for(var ln=ye+1;ln<r;ln++)qt[ln]=0;for(var Pn=ye+1;Pn<r;Pn++)for(var Lr=ye+1;Lr<n;Lr++)qt[Pn]+=Ht[Lr]*at.get(Pn,Lr);for(var nn=ye+1;nn<n;nn++)for(var jn=-Ht[nn]/Ht[ye+1],Sn=ye+1;Sn<r;Sn++)at.set(Sn,nn,at.get(Sn,nn)+jn*qt[Sn])}if(et)for(var Fn=ye+1;Fn<n;Fn++)zt.set(Fn,ye,Ht[Fn])}}var Tn=Math.min(n,r+1);if(Me<n&&(Ct[Me]=at.get(Me,Me)),r<Tn&&(Ct[Tn-1]=0),ve+1<Tn&&(Ht[ve]=at.get(ve,Tn-1)),Ht[Tn-1]=0,G){for(var ui=Me;ui<St;ui++){for(var la=0;la<r;la++)Bt.set(la,ui,0);Bt.set(ui,ui,1)}for(var xi=Me-1;xi>=0;xi--)if(Ct[xi]!==0){for(var to=xi+1;to<St;to++){for(var ka=0,So=xi;So<r;So++)ka+=Bt.get(So,xi)*Bt.get(So,to);ka=-ka/Bt.get(xi,xi);for(var el=xi;el<r;el++)Bt.set(el,to,Bt.get(el,to)+ka*Bt.get(el,xi))}for(var ea=xi;ea<r;ea++)Bt.set(ea,xi,-Bt.get(ea,xi));Bt.set(xi,xi,1+Bt.get(xi,xi));for(var ya=0;ya<xi-1;ya++)Bt.set(ya,xi,0)}else{for(var ua=0;ua<r;ua++)Bt.set(ua,xi,0);Bt.set(xi,xi,1)}}if(et)for(var Wi=n-1;Wi>=0;Wi--){if(Wi<ve&&Ht[Wi]!==0)for(var xa=Wi+1;xa<n;xa++){for(var Mi=0,Ea=Wi+1;Ea<n;Ea++)Mi+=zt.get(Ea,Wi)*zt.get(Ea,xa);Mi=-Mi/zt.get(Wi+1,Wi);for(var ra=Wi+1;ra<n;ra++)zt.set(ra,xa,zt.get(ra,xa)+Mi*zt.get(ra,Wi))}for(var Ro=0;Ro<n;Ro++)zt.set(Ro,Wi,0);zt.set(Wi,Wi,1)}for(var Qi=Tn-1,Ci=0,ma=Number.EPSILON;Tn>0;){var Gn=void 0,va=void 0;for(Gn=Tn-2;Gn>=-1&&Gn!==-1;Gn--){var gu=Number.MIN_VALUE+ma*Math.abs(Ct[Gn]+Math.abs(Ct[Gn+1]));if(Math.abs(Ht[Gn])<=gu||Number.isNaN(Ht[Gn])){Ht[Gn]=0;break}}if(Gn===Tn-2)va=4;else{var jo=void 0;for(jo=Tn-1;jo>=Gn&&jo!==Gn;jo--){var ns=(jo!==Tn?Math.abs(Ht[jo]):0)+(jo!==Gn+1?Math.abs(Ht[jo-1]):0);if(Math.abs(Ct[jo])<=ma*ns){Ct[jo]=0;break}}jo===Gn?va=3:jo===Tn-1?va=1:(va=2,Gn=jo)}switch(Gn++,va){case 1:{var gs=Ht[Tn-2];Ht[Tn-2]=0;for(var ao=Tn-2;ao>=Gn;ao--){var is=qs(Ct[ao],gs),vo=Ct[ao]/is,ko=gs/is;if(Ct[ao]=is,ao!==Gn&&(gs=-ko*Ht[ao-1],Ht[ao-1]=vo*Ht[ao-1]),et)for(var pu=0;pu<n;pu++)is=vo*zt.get(pu,ao)+ko*zt.get(pu,Tn-1),zt.set(pu,Tn-1,-ko*zt.get(pu,ao)+vo*zt.get(pu,Tn-1)),zt.set(pu,ao,is)}break}case 2:{var Tv=Ht[Gn-1];Ht[Gn-1]=0;for(var ps=Gn;ps<Tn;ps++){var rl=qs(Ct[ps],Tv),uf=Ct[ps]/rl,Pa=Tv/rl;if(Ct[ps]=rl,Tv=-Pa*Ht[ps],Ht[ps]=uf*Ht[ps],G)for(var go=0;go<r;go++)rl=uf*Bt.get(go,ps)+Pa*Bt.get(go,Gn-1),Bt.set(go,Gn-1,-Pa*Bt.get(go,ps)+uf*Bt.get(go,Gn-1)),Bt.set(go,ps,rl)}break}case 3:{var Mo=Math.max(Math.abs(Ct[Tn-1]),Math.abs(Ct[Tn-2]),Math.abs(Ht[Tn-2]),Math.abs(Ct[Gn]),Math.abs(Ht[Gn])),as=Ct[Tn-1]/Mo,yu=Ct[Tn-2]/Mo,ch=Ht[Tn-2]/Mo,md=Ct[Gn]/Mo,Dv=Ht[Gn]/Mo,mu=((yu+as)*(yu-as)+ch*ch)/2,fh=as*ch*(as*ch),cf=0;(mu!==0||fh!==0)&&(mu<0?cf=0-Math.sqrt(mu*mu+fh):cf=Math.sqrt(mu*mu+fh),cf=fh/(mu+cf));for(var hh=(md+as)*(md-as)+cf,bd=md*Dv,na=Gn;na<Tn-1;na++){var Ds=qs(hh,bd);Ds===0&&(Ds=Number.MIN_VALUE);var Nl=hh/Ds,Fl=bd/Ds;if(na!==Gn&&(Ht[na-1]=Ds),hh=Nl*Ct[na]+Fl*Ht[na],Ht[na]=Nl*Ht[na]-Fl*Ct[na],bd=Fl*Ct[na+1],Ct[na+1]=Nl*Ct[na+1],et)for(var ff=0;ff<n;ff++)Ds=Nl*zt.get(ff,na)+Fl*zt.get(ff,na+1),zt.set(ff,na+1,-Fl*zt.get(ff,na)+Nl*zt.get(ff,na+1)),zt.set(ff,na,Ds);if(Ds=qs(hh,bd),Ds===0&&(Ds=Number.MIN_VALUE),Nl=hh/Ds,Fl=bd/Ds,Ct[na]=Ds,hh=Nl*Ht[na]+Fl*Ct[na+1],Ct[na+1]=-Fl*Ht[na]+Nl*Ct[na+1],bd=Fl*Ht[na+1],Ht[na+1]=Nl*Ht[na+1],G&&na<r-1)for(var hf=0;hf<r;hf++)Ds=Nl*Bt.get(hf,na)+Fl*Bt.get(hf,na+1),Bt.set(hf,na+1,-Fl*Bt.get(hf,na)+Nl*Bt.get(hf,na+1)),Bt.set(hf,na,Ds)}Ht[Tn-2]=hh,Ci=Ci+1;break}case 4:{if(Ct[Gn]<=0&&(Ct[Gn]=Ct[Gn]<0?-Ct[Gn]:0,et))for(var Ng=0;Ng<=Qi;Ng++)zt.set(Ng,Gn,-zt.get(Ng,Gn));for(;Gn<Qi&&!(Ct[Gn]>=Ct[Gn+1]);){var Pv=Ct[Gn];if(Ct[Gn]=Ct[Gn+1],Ct[Gn+1]=Pv,et&&Gn<n-1)for(var Od=0;Od<n;Od++)Pv=zt.get(Od,Gn+1),zt.set(Od,Gn+1,zt.get(Od,Gn)),zt.set(Od,Gn,Pv);if(G&&Gn<r-1)for(var xd=0;xd<r;xd++)Pv=Bt.get(xd,Gn+1),Bt.set(xd,Gn+1,Bt.get(xd,Gn)),Bt.set(xd,Gn,Pv);Gn++}Ci=0,Tn--;break}}}if(J){var rA=zt;zt=Bt,Bt=rA}this.m=r,this.n=n,this.s=Ct,this.U=Bt,this.V=zt}return Object(Qh.a)(l,[{key:"solve",value:function(t){for(var r=t,n=this.threshold,o=this.s.length,u=$n.zeros(o,o),d=0;d<o;d++)Math.abs(this.s[d])<=n?u.set(d,d,0):u.set(d,d,1/this.s[d]);for(var m=this.U,T=this.rightSingularVectors,j=T.mmul(u),G=T.rows,et=m.rows,J=$n.zeros(G,et),at=0;at<G;at++)for(var mt=0;mt<et;mt++){for(var St=0,Dt=0;Dt<o;Dt++)St+=j.get(at,Dt)*m.get(mt,Dt);J.set(at,mt,St)}return J.mmul(r)}},{key:"solveForDiagonal",value:function(t){return this.solve($n.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,r=this.threshold,n=t.rows,o=t.columns,u=new $n(n,this.s.length),d=0;d<n;d++)for(var m=0;m<o;m++)Math.abs(this.s[m])>r&&u.set(d,m,t.get(d,m)/this.s[m]);for(var T=this.U,j=T.rows,G=T.columns,et=new $n(n,j),J=0;J<n;J++)for(var at=0;at<j;at++){for(var mt=0,St=0;St<G;St++)mt+=u.get(J,St)*T.get(at,St);et.set(J,at,mt)}return et}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,n=this.s,o=0,u=n.length;o<u;o++)n[o]>t&&r++;return r}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return $n.diag(this.s)}}]),l}();class zo{constructor(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}layout(){const e=this,{dimension:t,distances:r,linkDistance:n}=e;try{const o=$n.mul($n.pow(r,2),-.5),u=o.mean("row"),d=o.mean("column"),m=o.mean();o.add(m).subRowVector(u).subColumnVector(d);const T=new hs(o),j=$n.sqrt(T.diagonalMatrix).diagonal();return T.leftSingularVectors.toJSON().map(G=>$n.mul([G],[j]).toJSON()[0].splice(0,t))}catch(o){const u=[];for(let d=0;d<r.length;d++){const m=Math.random()*n,T=Math.random()*n;u.push([m,T])}return u}}}const qd=800;class tv{constructor(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}layout(){const e=this,t=e.positions,r=[],n=e.iterations,o=e.width/10;e.maxDisplace=o,e.disp=r;for(let u=0;u<n;u++)t.forEach((d,m)=>{r[m]={x:0,y:0}}),e.getRepulsion(),e.updatePositions();return t}getRepulsion(){const e=this,t=e.positions,r=e.nodes,n=e.disp,o=e.k,u=e.radii||[];t.forEach((d,m)=>{n[m]={x:0,y:0},t.forEach((T,j)=>{if(m===j||u[m]!==u[j])return;let G=d[0]-T[0],et=d[1]-T[1],J=Math.sqrt(G*G+et*et);if(J===0){J=1;const at=m>j?1:-1;G=.01*at,et=.01*at}if(J<e.nodeSizeFunc(r[m])/2+e.nodeSizeFunc(r[j])/2){const at=o*o/J;n[m].x+=G/J*at,n[m].y+=et/J*at}})})}updatePositions(){const e=this,t=e.positions,r=e.disp,n=e.speed,o=e.strictRadial,u=e.focusID,d=e.maxDisplace||e.width/10;o&&r.forEach((T,j)=>{const G=t[j][0]-t[u][0],et=t[j][1]-t[u][1],J=Math.sqrt(G*G+et*et);let at=et/J,mt=-G/J;const St=Math.sqrt(T.x*T.x+T.y*T.y);let Dt=Math.acos((at*T.x+mt*T.y)/St);Dt>Math.PI/2&&(Dt-=Math.PI/2,at*=-1,mt*=-1);const Ct=Math.cos(Dt)*St;T.x=at*Ct,T.y=mt*Ct});const m=e.radii;t.forEach((T,j)=>{if(j===u)return;const G=Math.sqrt(r[j].x*r[j].x+r[j].y*r[j].y);if(G>0&&j!==u){const et=Math.min(d*(n/qd),G);if(T[0]+=r[j].x/G*et,T[1]+=r[j].y/G*et,o){let J=T[0]-t[u][0],at=T[1]-t[u][1];const mt=Math.sqrt(J*J+at*at);J=J/mt*m[j],at=at/mt*m[j],T[0]=t[u][0]+J,T[1]=t[u][1]+at}}})}}function qv(l){const e=l.length,t=l[0].length,r=[];for(let n=0;n<e;n++){const o=[];for(let u=0;u<t;u++)l[n][u]!==0?o.push(1/(l[n][u]*l[n][u])):o.push(0);r.push(o)}return r}function ev(l,e){let t=-1;return l.forEach((r,n)=>{r.id===e&&(t=n)}),t}function rv(l,e){return Math.sqrt((l[0]-e[0])*(l[0]-e[0])+(l[1]-e[1])*(l[1]-e[1]))}class ip extends Ye{constructor(e){super();this.maxIteration=1e3,this.focusNode=null,this.unitRadius=null,this.linkDistance=50,this.preventOverlap=!1,this.strictRadial=!0,this.maxPreventOverlapIteration=200,this.sortStrength=10,this.nodes=[],this.edges=[],this.updateCfg(e)}getDefaultCfg(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}execute(){const e=this,t=e.nodes,r=e.edges||[];if(!t||t.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const n=e.center;if(t.length===1){t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd();return}const o=e.linkDistance;let u=null;if(mr(e.focusNode)){let De=!1;for(let ye=0;ye<t.length;ye++)t[ye].id===e.focusNode&&(u=t[ye],e.focusNode=u,De=!0,ye=t.length);De||(u=null)}else u=e.focusNode;u||(u=t[0],e.focusNode=u);const d=ev(t,u.id);e.focusIndex=d;const m=ii({nodes:t,edges:r},!1),T=Xn(m),j=e.maxToFocus(T,d);e.handleInfinity(T,d,j+1),e.distances=T;const G=T[d],et=e.width||500,J=e.height||500;let at=et-n[0]>n[0]?n[0]:et-n[0],mt=J-n[1]>n[1]?n[1]:J-n[1];at===0&&(at=et/2),mt===0&&(mt=J/2);const St=mt>at?at:mt,Dt=Math.max(...G),Ct=[];G.forEach((De,ye)=>{e.unitRadius||(e.unitRadius=St/Dt),Ct[ye]=De*e.unitRadius}),e.radii=Ct;const Bt=e.eIdealDisMatrix();e.eIdealDistances=Bt;const zt=qv(Bt);e.weights=zt;let qt=new zo({linkDistance:o,distances:Bt}).layout();qt.forEach(De=>{cn(De[0])&&(De[0]=Math.random()*o),cn(De[1])&&(De[1]=Math.random()*o)}),e.positions=qt,qt.forEach((De,ye)=>{t[ye].x=De[0]+n[0],t[ye].y=De[1]+n[1]}),qt.forEach(De=>{De[0]-=qt[d][0],De[1]-=qt[d][1]}),e.run();const ue=e.preventOverlap,se=e.nodeSize;let Me;const ve=e.strictRadial;if(ue){const De=e.nodeSpacing;let ye;Ke(De)?ye=()=>De:An(De)?ye=De:ye=()=>0,se?dn(se)?Me=fr=>(se[0]>se[1]?se[0]:se[1])+ye(fr):Me=fr=>se+ye(fr):Me=fr=>fr.size?dn(fr.size)?(fr.size[0]>fr.size[1]?fr.size[0]:fr.size[1])+ye(fr):fr.size+ye(fr):10+ye(fr);const pr={nodes:t,nodeSizeFunc:Me,adjMatrix:m,positions:qt,radii:Ct,height:J,width:et,strictRadial:ve,focusID:d,iterations:e.maxPreventOverlapIteration||200,k:qt.length/4.5};qt=new tv(pr).layout()}return qt.forEach((De,ye)=>{t[ye].x=De[0]+n[0],t[ye].y=De[1]+n[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}run(){const e=this,t=e.maxIteration,r=e.positions||[],n=e.weights||[],o=e.eIdealDistances||[],u=e.radii||[];for(let d=0;d<=t;d++){const m=d/t;e.oneIteration(m,r,u,o,n)}}oneIteration(e,t,r,n,o){const u=this,d=1-e,m=u.focusIndex;t.forEach((T,j)=>{const G=rv(T,[0,0]),et=G===0?0:1/G;if(j===m)return;let J=0,at=0,mt=0;t.forEach((Dt,Ct)=>{if(j===Ct)return;const Bt=rv(T,Dt),zt=Bt===0?0:1/Bt,Ht=n[Ct][j];mt+=o[j][Ct],J+=o[j][Ct]*(Dt[0]+Ht*(T[0]-Dt[0])*zt),at+=o[j][Ct]*(Dt[1]+Ht*(T[1]-Dt[1])*zt)});const St=r[j]===0?0:1/r[j];mt*=d,mt+=e*St*St,J*=d,J+=e*St*T[0]*et,T[0]=J/mt,at*=d,at+=e*St*T[1]*et,T[1]=at/mt})}eIdealDisMatrix(){const e=this,t=e.nodes;if(!t)return[];const r=e.distances,n=e.linkDistance,o=e.radii||[],u=e.unitRadius||50,d=[];return r&&r.forEach((m,T)=>{const j=[];m.forEach((G,et)=>{if(T===et)j.push(0);else if(o[T]===o[et])if(e.sortBy==="data")j.push(G*(Math.abs(T-et)*e.sortStrength)/(o[T]/u));else if(e.sortBy){let J=t[T][e.sortBy]||0,at=t[et][e.sortBy]||0;mr(J)&&(J=J.charCodeAt(0)),mr(at)&&(at=at.charCodeAt(0)),j.push(G*(Math.abs(J-at)*e.sortStrength)/(o[T]/u))}else j.push(G*n/(o[T]/u));else{const J=(n+u)/2;j.push(G*J)}}),d.push(j)}),d}handleInfinity(e,t,r){const n=e.length;for(let o=0;o<n;o++)if(e[t][o]===Infinity){e[t][o]=r,e[o][t]=r;for(let u=0;u<n;u++)e[o][u]!==Infinity&&e[t][u]===Infinity&&(e[t][u]=r+e[o][u],e[u][t]=r+e[o][u])}for(let o=0;o<n;o++)if(o!==t){for(let u=0;u<n;u++)if(e[o][u]===Infinity){let d=Math.abs(e[t][o]-e[t][u]);d=d===0?1:d,e[o][u]=d}}}maxToFocus(e,t){let r=0;for(let n=0;n<e[t].length;n++)e[t][n]!==Infinity&&(r=e[t][n]>r?e[t][n]:r);return r}getType(){return"radial"}}class nv extends Ye{constructor(e){super();this.nodeSize=30,this.minNodeSpacing=10,this.preventOverlap=!1,this.equidistant=!1,this.startAngle=3/2*Math.PI,this.clockwise=!0,this.sortBy="degree",this.nodes=[],this.edges=[],this.width=300,this.height=300,this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}execute(){const e=this,t=e.nodes,r=e.edges,n=t.length;if(n===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const o=e.center;if(n===1){t[0].x=o[0],t[0].y=o[1],e.onLayoutEnd&&e.onLayoutEnd();return}const u=[];let d;dn(e.nodeSize)?d=Math.max(e.nodeSize[0],e.nodeSize[1]):d=e.nodeSize,t.forEach(at=>{u.push(at);let mt=d;dn(at.size)?mt=Math.max(at.size[0],at.size[1]):Ke(at.size)&&(mt=at.size),d=Math.max(d,mt)}),e.clockwise=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise;const m={},T={};if(u.forEach((at,mt)=>{m[at.id]=at,T[at.id]=mt}),(e.sortBy==="degree"||!mr(e.sortBy)||u[0][e.sortBy]===void 0)&&(e.sortBy="degree",!Ke(t[0].degree))){const at=on(t.length,T,r);u.forEach((mt,St)=>{mt.degree=at[St]})}u.sort((at,mt)=>mt[e.sortBy]-at[e.sortBy]),e.maxValueNode=u[0],e.maxLevelDiff=e.maxLevelDiff||e.maxValueNode[e.sortBy]/4;const j=[[]];let G=j[0];u.forEach(at=>{if(G.length>0){const mt=Math.abs(G[0][e.sortBy]-at[e.sortBy]);e.maxLevelDiff&&mt>=e.maxLevelDiff&&(G=[],j.push(G))}G.push(at)});let et=d+e.minNodeSpacing;if(!e.preventOverlap){const at=j.length>0&&j[0].length>1,St=(Math.min(e.width,e.height)/2-et)/(j.length+(at?1:0));et=Math.min(et,St)}let J=0;if(j.forEach(at=>{let mt=e.sweep;mt===void 0&&(mt=2*Math.PI-2*Math.PI/at.length);const St=at.dTheta=mt/Math.max(1,at.length-1);if(at.length>1&&e.preventOverlap){const Dt=Math.cos(St)-Math.cos(0),Ct=Math.sin(St)-Math.sin(0),Bt=Math.sqrt(et*et/(Dt*Dt+Ct*Ct));J=Math.max(Bt,J)}at.r=J,J+=et}),e.equidistant){let at=0,mt=0;for(let St=0;St<j.length;St++){const Ct=j[St].r-mt;at=Math.max(at,Ct)}mt=0,j.forEach((St,Dt)=>{Dt===0&&(mt=St.r),St.r=mt,mt+=at})}return j.forEach(at=>{const mt=at.dTheta,St=at.r;at.forEach((Dt,Ct)=>{const Bt=e.startAngle+(e.clockwise?1:-1)*mt*Ct;Dt.x=o[0]+St*Math.cos(Bt),Dt.y=o[1]+St*Math.sin(Bt)})}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}getType(){return"concentric"}}class ap extends Ye{constructor(e){super();this.center=[0,0],this.linkDistance=50,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{center:[0,0],linkDistance:50}}execute(){const e=this,{nodes:t,edges:r=[]}=e,n=e.center;if(!t||t.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}if(t.length===1){t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd();return}const o=e.linkDistance,u=ii({nodes:t,edges:r},!1),d=Xn(u);e.handleInfinity(d);const m=mn(d,o);e.scaledDistances=m;const T=e.runMDS();return e.positions=T,T.forEach((j,G)=>{t[G].x=j[0]+n[0],t[G].y=j[1]+n[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}runMDS(){const e=this,t=2,r=e.scaledDistances,n=$n.mul($n.pow(r,2),-.5),o=n.mean("row"),u=n.mean("column"),d=n.mean();n.add(d).subRowVector(o).subColumnVector(u);const m=new hs(n),T=$n.sqrt(m.diagonalMatrix).diagonal();return m.leftSingularVectors.toJSON().map(j=>$n.mul([j],[T]).toJSON()[0].splice(0,t))}handleInfinity(e){let t=-999999;e.forEach(r=>{r.forEach(n=>{n!==Infinity&&t<n&&(t=n)})}),e.forEach((r,n)=>{r.forEach((o,u)=>{o===Infinity&&(e[n][u]=t)})})}getType(){return"mds"}}const iv=800;class av extends Ye{constructor(e){super();this.maxIteration=1e3,this.gravity=10,this.speed=5,this.clustering=!1,this.clusterGravity=10,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.onLayoutEnd=()=>{},this.tick=()=>{},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){const e=this,t=e.nodes;if(e.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(e.timeInterval),!t||t.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const r=e.center;if(t.length===1){t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}const n={},o={};return t.forEach((u,d)=>{Ke(u.x)||(u.x=Math.random()*this.width),Ke(u.y)||(u.y=Math.random()*this.height),n[u.id]=u,o[u.id]=d}),e.nodeMap=n,e.nodeIdxMap=o,e.run()}run(){const e=this,t=e.nodes;if(!t)return;const r=e.edges,n=e.maxIteration,o=e.center,u=e.height*e.width,d=Math.sqrt(u)/10,m=u/(t.length+1),T=Math.sqrt(m),j=e.gravity,G=e.speed,et=e.clustering,J={};if(et){t.forEach(mt=>{if(J[mt.cluster]===void 0){const Dt={name:mt.cluster,cx:0,cy:0,count:0};J[mt.cluster]=Dt}const St=J[mt.cluster];Ke(mt.x)&&(St.cx+=mt.x),Ke(mt.y)&&(St.cy+=mt.y),St.count++});for(const mt in J)J[mt].cx/=J[mt].count,J[mt].cy/=J[mt].count}if(typeof window=="undefined")return;let at=0;return this.timeInterval=window.setInterval(()=>{if(!t)return;const mt=[];if(t.forEach((St,Dt)=>{mt[Dt]={x:0,y:0}}),e.applyCalculate(t,r,mt,T,m),et){const St=e.clusterGravity||j;t.forEach((Dt,Ct)=>{if(!Ke(Dt.x)||!Ke(Dt.y))return;const Bt=J[Dt.cluster],zt=Math.sqrt((Dt.x-Bt.cx)*(Dt.x-Bt.cx)+(Dt.y-Bt.cy)*(Dt.y-Bt.cy)),Ht=T*St;mt[Ct].x-=Ht*(Dt.x-Bt.cx)/zt,mt[Ct].y-=Ht*(Dt.y-Bt.cy)/zt});for(const Dt in J)J[Dt].cx=0,J[Dt].cy=0,J[Dt].count=0;t.forEach(Dt=>{const Ct=J[Dt.cluster];Ke(Dt.x)&&(Ct.cx+=Dt.x),Ke(Dt.y)&&(Ct.cy+=Dt.y),Ct.count++});for(const Dt in J)J[Dt].cx/=J[Dt].count,J[Dt].cy/=J[Dt].count}t.forEach((St,Dt)=>{if(!Ke(St.x)||!Ke(St.y))return;const Ct=.01*T*j;mt[Dt].x-=Ct*(St.x-o[0]),mt[Dt].y-=Ct*(St.y-o[1])}),t.forEach((St,Dt)=>{if(Ke(St.fx)&&Ke(St.fy)){St.x=St.fx,St.y=St.fy;return}if(!Ke(St.x)||!Ke(St.y))return;const Ct=Math.sqrt(mt[Dt].x*mt[Dt].x+mt[Dt].y*mt[Dt].y);if(Ct>0){const Bt=Math.min(d*(G/iv),Ct);St.x+=mt[Dt].x/Ct*Bt,St.y+=mt[Dt].y/Ct*Bt}}),e.tick&&e.tick(),at++,at>=n&&(e.onLayoutEnd&&e.onLayoutEnd(),window.clearInterval(e.timeInterval))},0),{nodes:t,edges:r}}applyCalculate(e,t,r,n,o){const u=this;u.calRepulsive(e,r,o),t&&u.calAttractive(t,r,n)}calRepulsive(e,t,r){e.forEach((n,o)=>{t[o]={x:0,y:0},e.forEach((u,d)=>{if(o===d||!Ke(n.x)||!Ke(u.x)||!Ke(n.y)||!Ke(u.y))return;let m=n.x-u.x,T=n.y-u.y,j=m*m+T*T;if(j===0){j=1;const et=o>d?1:-1;m=.01*et,T=.01*et}const G=r/j;t[o].x+=m*G,t[o].y+=T*G})})}calAttractive(e,t,r){e.forEach(n=>{if(!n.source||!n.target)return;const o=this.nodeIdxMap[n.source],u=this.nodeIdxMap[n.target];if(o===u)return;const d=this.nodeMap[n.source],m=this.nodeMap[n.target];if(!Ke(m.x)||!Ke(d.x)||!Ke(m.y)||!Ke(d.y))return;const T=m.x-d.x,j=m.y-d.y,G=Math.sqrt(T*T+j*j),et=G*G/r;t[u].x-=T/G*et,t[u].y-=j/G*et,t[o].x+=T/G*et,t[o].y+=j/G*et})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}destroy(){const e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0}getType(){return"fruchterman"}}var op=i("RHEd"),Zi=i.n(op),sp=i("16OP"),$i=i.n(sp),yl=i("7Nom"),Fi=i.n(yl),Jb=i("4OuL"),Fa=i.n(Jb),nA=i("r1m7"),Te=i("2Pg9"),vi=i("YcyD");function lp(l){return typeof l=="number"}function tc(l){return l===void 0?0:l>360||l<-360?l%360:l}function nh(l,e,t){return lp(l)?Pr.e.fromValues(l,e,t):l.length===3?Pr.e.clone(l):Pr.e.fromValues(l[0],l[1],l[2])}var Yp=function(){function l(e,t){$i()(this,l),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=e,this.matrix=Pr.b.clone(t.matrix),this.right=Pr.e.clone(t.right),this.up=Pr.e.clone(t.up),this.forward=Pr.e.clone(t.forward),this.position=Pr.e.clone(t.position),this.focalPoint=Pr.e.clone(t.focalPoint),this.distanceVector=Pr.e.clone(t.distanceVector),this.azimuth=t.azimuth,this.elevation=t.elevation,this.roll=t.roll,this.relAzimuth=t.relAzimuth,this.relElevation=t.relElevation,this.relRoll=t.relRoll,this.dollyingStep=t.dollyingStep,this.distance=t.distance}return Fi()(l,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=Pr.b.copy(t.matrix,this.matrix),t.right=Pr.e.copy(t.right,this.right),t.up=Pr.e.copy(t.up,this.up),t.forward=Pr.e.copy(t.forward,this.forward),t.position=Pr.e.copy(t.position,this.position),t.focalPoint=Pr.e.copy(t.focalPoint,this.focalPoint),t.distanceVector=Pr.e.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),l}(),Hp,Kp,_p,up,Zp,$p,Qp,Oa;(function(l){l.ORBITING="ORBITING",l.EXPLORING="EXPLORING",l.TRACKING="TRACKING"})(Oa||(Oa={}));var tg;(function(l){l.DEFAULT="DEFAULT",l.ROTATIONAL="ROTATIONAL",l.TRANSLATIONAL="TRANSLATIONAL",l.CINEMATIC="CINEMATIC"})(tg||(tg={}));var ih;(function(l){l.ORTHOGRAPHIC="ORTHOGRAPHIC",l.PERSPECTIVE="PERSPECTIVE"})(ih||(ih={}));var ec=Math.PI/180,$c=180/Math.PI,Jp=(Hp=Object(vi.injectable)(),Kp=Object(vi.inject)(Te.IDENTIFIER.InteractorService),Hp(_p=(up=(Qp=$p=function(){function l(){$i()(this,l),this.matrix=Pr.b.create(),this.right=Pr.e.fromValues(1,0,0),this.up=Pr.e.fromValues(0,1,0),this.forward=Pr.e.fromValues(0,0,1),this.position=Pr.e.fromValues(0,0,1),this.focalPoint=Pr.e.fromValues(0,0,0),this.distanceVector=Pr.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=Infinity,this.minDistance=-Infinity,this.rotateWorld=!1,Zi()(this,"interactor",Zp,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Pr.b.create(),this.view=void 0,this.following=void 0,this.type=Oa.EXPLORING,this.trackingMode=tg.DEFAULT,this.projectionMode=ih.PERSPECTIVE,this.frustum=new Te.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return Fi()(l,[{key:"clone",value:function(){var t=new l;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,r){return this.type=t,this.type===Oa.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Oa.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==Oa.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return Pr.b.invert(Pr.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,r,n,o,u,d){return this.aspect=t/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=o,this.view.width=u,this.view.height=d,this.projectionMode===ih.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===ih.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,r,n,o){return this.projectionMode=ih.PERSPECTIVE,this.fov=n,this.near=t,this.far=r,this.aspect=o,Pr.b.perspective(this.perspective,this.fov*ec,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,r,n,o,u,d){this.projectionMode=ih.ORTHOGRAPHIC,this.rright=r,this.left=t,this.top=n,this.bottom=o,this.near=u,this.far=d;var m=(this.rright-this.left)/(2*this.zoom),T=(this.top-this.bottom)/(2*this.zoom),j=(this.rright+this.left)/2,G=(this.top+this.bottom)/2,et=j-m,J=j+m,at=G+T,mt=G-T;if(this.view!==void 0&&this.view.enabled){var St=(this.rright-this.left)/this.view.fullWidth/this.zoom,Dt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;et+=St*this.view.offsetX,J=et+St*this.view.width,at-=Dt*this.view.offsetY,mt=at-Dt*this.view.height}return Pr.b.ortho(this.perspective,et,J,at,mt,u,d),this}},{key:"setPosition",value:function(t,r,n){return this._setPosition(t,r,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,r,n){var o=Pr.e.fromValues(0,1,0);if(this.focalPoint=nh(t,r,n),this.trackingMode===tg.CINEMATIC){var u=Pr.e.subtract(Pr.e.create(),this.focalPoint,this.position);t=u[0],r=u[1],n=u[2];var d=Pr.e.length(u),m=Math.asin(r/d)*$c,T=90+Math.atan2(n,t)*$c,j=Pr.b.create();Pr.b.rotateY(j,j,T*ec),Pr.b.rotateX(j,j,m*ec),o=Pr.e.transformMat4(Pr.e.create(),[0,1,0],j)}return Pr.b.invert(this.matrix,Pr.b.lookAt(Pr.b.create(),this.position,this.focalPoint,o)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var r=Pr.e.create();t=this.distance;var n=this.forward,o=this.focalPoint;return r[0]=t*n[0]+o[0],r[1]=t*n[1]+o[1],r[2]=t*n[2]+o[2],this._setPosition(r),this}}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=tc(t),this.computeMatrix(),this._getAxes(),this.type===Oa.ORBITING||this.type===Oa.EXPLORING?this._getPosition():this.type===Oa.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=tc(t),this.computeMatrix(),this._getAxes(),this.type===Oa.ORBITING||this.type===Oa.EXPLORING?this._getPosition():this.type===Oa.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=tc(t),this.computeMatrix(),this._getAxes(),this.type===Oa.ORBITING||this.type===Oa.EXPLORING?this._getPosition():this.type===Oa.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,r,n){if(this.type===Oa.EXPLORING){t=tc(t),r=tc(r),n=tc(n);var o=Pr.c.setAxisAngle(Pr.c.create(),[1,0,0],(this.rotateWorld?1:-1)*r*ec),u=Pr.c.setAxisAngle(Pr.c.create(),[0,1,0],(this.rotateWorld?1:-1)*t*ec),d=Pr.c.setAxisAngle(Pr.c.create(),[0,0,1],n*ec),m=Pr.c.multiply(Pr.c.create(),u,o);m=Pr.c.multiply(Pr.c.create(),m,d);var T=Pr.b.fromQuat(Pr.b.create(),m);Pr.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),Pr.b.multiply(this.matrix,this.matrix,T),Pr.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+r)>90)return;this.relElevation=tc(r),this.relAzimuth=tc(t),this.relRoll=tc(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Oa.ORBITING||this.type===Oa.EXPLORING?this._getPosition():this.type===Oa.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,r){var n=nh(t,r,0),o=Pr.e.clone(this.position);return Pr.e.add(o,o,Pr.e.scale(Pr.e.create(),this.right,n[0])),Pr.e.add(o,o,Pr.e.scale(Pr.e.create(),this.up,n[1])),this._setPosition(o),this}},{key:"dolly",value:function(t){var r=this.forward,n=Pr.e.clone(this.position),o=t*this.dollyingStep,u=this.distance+t*this.dollyingStep;return o=Math.max(Math.min(u,this.maxDistance),this.minDistance)-this.distance,n[0]+=o*r[0],n[1]+=o*r[1],n[2]+=o*r[2],this._setPosition(n),this.type===Oa.ORBITING||this.type===Oa.EXPLORING?this._getDistance():this.type===Oa.TRACKING&&Pr.e.add(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(t,r){var n=this.clone();n.setPosition(r.position),n.setFocalPoint(r.focalPoint),r.roll!==void 0&&n.setRoll(r.roll);var o=new Yp(t,n);return this.landmarks.push(o),o}},{key:"setLandmark",value:function(t){var r=new Yp(t,this);return this.landmarks.push(r),this}},{key:"gotoLandmark",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,o=this.landmarks.find(function(G){return G.name===t});if(o){if(n===0){o.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var u=o.getPosition(),d=o.getFocalPoint(),m=o.getRoll(),T,j=function G(et){T===void 0&&(T=et);var J=et-T,at=(1-Math.cos(J/n*Math.PI))/2,mt=Pr.e.create(),St=Pr.e.create(),Dt=0;Pr.e.lerp(mt,r.focalPoint,d,at),Pr.e.lerp(St,r.position,u,at),Dt=r.roll*(1-at)+m*at,r.setFocalPoint(mt),r.setPosition(St),r.setRoll(Dt),r.computeMatrix();var Ct=Pr.e.dist(mt,d)+Pr.e.dist(St,u);if(!(Ct>.01)){r.setFocalPoint(mt),r.setPosition(St),r.setRoll(Dt),r.computeMatrix(),r.interactor.connect();return}J<n&&(r.landmarkAnimationID=window.requestAnimationFrame(G))};window.requestAnimationFrame(j)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,r,n=Pr.c.setAxisAngle(Pr.c.create(),[0,0,1],this.roll*ec);Pr.b.identity(this.matrix),t=Pr.c.setAxisAngle(Pr.c.create(),[1,0,0],(this.rotateWorld&&this.type!==Oa.TRACKING||this.type===Oa.TRACKING?1:-1)*this.elevation*ec),r=Pr.c.setAxisAngle(Pr.c.create(),[0,1,0],(this.rotateWorld&&this.type!==Oa.TRACKING||this.type===Oa.TRACKING?1:-1)*this.azimuth*ec);var o=Pr.c.multiply(Pr.c.create(),r,t);o=Pr.c.multiply(Pr.c.create(),o,n);var u=Pr.b.fromQuat(Pr.b.create(),o);this.type===Oa.ORBITING||this.type===Oa.EXPLORING?(Pr.b.translate(this.matrix,this.matrix,this.focalPoint),Pr.b.multiply(this.matrix,this.matrix,u),Pr.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Oa.TRACKING&&(Pr.b.translate(this.matrix,this.matrix,this.position),Pr.b.multiply(this.matrix,this.matrix,u))}},{key:"_setPosition",value:function(t,r,n){this.position=nh(t,r,n);var o=this.matrix;o[12]=this.position[0],o[13]=this.position[1],o[14]=this.position[2],o[15]=1}},{key:"_getAxes",value:function(){Pr.e.copy(this.right,nh(Pr.f.transformMat4(Pr.f.create(),[1,0,0,0],this.matrix))),Pr.e.copy(this.up,nh(Pr.f.transformMat4(Pr.f.create(),[0,1,0,0],this.matrix))),Pr.e.copy(this.forward,nh(Pr.f.transformMat4(Pr.f.create(),[0,0,1,0],this.matrix))),Pr.e.normalize(this.right,this.right),Pr.e.normalize(this.up,this.up),Pr.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],r=this.distanceVector[1],n=this.distanceVector[2],o=Pr.e.length(this.distanceVector);if(o===0){this.elevation=0,this.azimuth=0;return}this.type===Oa.TRACKING?(this.elevation=Math.asin(r/o)*$c,this.azimuth=Math.atan2(-t,-n)*$c):this.rotateWorld?(this.elevation=Math.asin(r/o)*$c,this.azimuth=Math.atan2(-t,-n)*$c):(this.elevation=-Math.asin(r/o)*$c,this.azimuth=-Math.atan2(-t,-n)*$c)}},{key:"_getPosition",value:function(){Pr.e.copy(this.position,nh(Pr.f.transformMat4(Pr.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Pr.e.transformMat3(this.distanceVector,[0,0,-this.distance],Pr.a.fromMat4(Pr.a.create(),this.matrix)),Pr.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Pr.e.subtract(Pr.e.create(),this.focalPoint,this.position),this.distance=Pr.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),l}(),$p.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},Qp),Zp=Fa()(up.prototype,"interactor",[Kp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up))||_p),qp,ty,ey,cp,ry,ov,ny,Qc=(qp=Object(vi.injectable)(),ty=Object(vi.inject)(Te.IDENTIFIER.GeometryComponentManager),qp(ey=(cp=(ny=ov=function(){function l(){$i()(this,l),this.config=void 0,Zi()(this,"geometry",ry,this),this.entity=void 0,this.component=void 0}return Fi()(l,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.component=this.geometry.create(t),this.component.entity=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),l}(),ov.BOX="box",ov.SPHERE="sphere",ov.PLANE="plane",ov.MERGED="merged",ny),ry=Fa()(cp.prototype,"geometry",[ty],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp))||ey),qb=i("/wRx"),Li=i.n(qb),tO=i("qaCK"),ho=i.n(tO),eO=i("QJLF"),Gr=i.n(eO),xn=i("weX+");function iy(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var rO={}.toString,nO=function(e,t){return rO.call(e)==="[object "+t+"]"},iO=nO,aO=function(l){return Array.isArray?Array.isArray(l):iO(l,"Array")},oO=i("gXEi"),sv=i.n(oO),sO=9007199254740991,lO="[object Arguments]",uO="[object Array]",cO="[object Boolean]",fO="[object Date]",hO="[object Error]",dO="[object Function]",vO="[object Map]",gO="[object Number]",pO="[object Object]",yO="[object RegExp]",mO="[object Set]",bO="[object String]",OO="[object WeakMap]",xO="[object ArrayBuffer]",EO="[object DataView]",SO="[object Float32Array]",MO="[object Float64Array]",CO="[object Int8Array]",AO="[object Int16Array]",TO="[object Int32Array]",DO="[object Uint8Array]",PO="[object Uint8ClampedArray]",IO="[object Uint16Array]",LO="[object Uint32Array]",Ka={};Ka[SO]=Ka[MO]=Ka[CO]=Ka[AO]=Ka[TO]=Ka[DO]=Ka[PO]=Ka[IO]=Ka[LO]=!0,Ka[lO]=Ka[uO]=Ka[xO]=Ka[cO]=Ka[EO]=Ka[fO]=Ka[hO]=Ka[dO]=Ka[vO]=Ka[gO]=Ka[pO]=Ka[yO]=Ka[mO]=Ka[bO]=Ka[OO]=!1;function iA(l){return function(e){return l(e)}}var RO=Object.prototype,jO=RO.toString;function wO(l){return NO(l)&&BO(l.length)&&!!Ka[jO.call(l)]}function BO(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=sO}function NO(l){return!!l&&sv()(l)==="object"}var ay=wO,oy,sy,ly,uy,eg,cy,fy,hy;function dy(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),t.push.apply(t,r)}return t}function vy(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dy(Object(t),!0).forEach(function(r){Gr()(l,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):dy(Object(t)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(t,r))})}return l}var gy=(oy=Object(vi.injectable)(),sy=Object(vi.inject)(Te.IDENTIFIER.RenderEngine),ly=Object(vi.inject)(Te.IDENTIFIER.ConfigService),oy(uy=(eg=(hy=function(){function l(){$i()(this,l),Zi()(this,"engine",cy,this),Zi()(this,"configService",fy,this),this.entity=Object(Te.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return Fi()(l,[{key:"init",value:function(){var t=this.configService.get(),r=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(vy({canvas:r||iy(),swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,r){var n=this;if(typeof t=="string"){var o=lp(r)||ay(r)||aO(r);if(this.compiledBundle&&this.compiledBundle.context){var u=this.compiledBundle.context.defines.find(function(m){return m.name===t});if(u)return u.value=r,this;var d=this.compiledBundle.context.uniforms.find(function(m){return m.name===t});d&&(o?(d.data=r,d.isReferer=!1,d.storageClass===Te.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(t,r):this.model&&this.model.updateBuffer(t,r)):(d.isReferer=!0,d.data=r))}}else Object.keys(t).forEach(function(m){n.setBinding(m,t[m])});return this}},{key:"execute",value:function(){var e=ho()(Li.a.mark(function r(){var n=this,o,u,d=arguments;return Li.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(o=d.length>0&&d[0]!==void 0?d[0]:1,!this.dirty){T.next=6;break}return this.compiledBundle.context&&(o>1?this.compiledBundle.context.maxIteration=o:this.compiledBundle.context.maxIteration++),T.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(j){var G=j.isReferer;return G}).forEach(function(j){var G=j.data,et=j.name;n.model.confirmInput(G.model,et)}),u=0;u<o;u++)this.model.run();return this.engine.endFrame(),T.abrupt("return",this);case 12:case"end":return T.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getOutput",value:function(){var e=ho()(Li.a.mark(function r(){return Li.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.model.readData());case 1:case"end":return o.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"compile",value:function(){var e=ho()(Li.a.mark(function r(){var n,o,u;return Li.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this.initPromise;case 2:return n=vy({},this.compiledBundle.context),o=this.engine.supportWebGPU?this.engine.useWGSL?Te.Target.WGSL:Te.Target.GLSL450:Te.Target.GLSL100,u=this.compiledBundle.shaders[o],n.defines.filter(function(T){return T.runtime}).forEach(function(T){var j="".concat(Te.DefineValuePlaceholder).concat(T.name);u=u.replace(j,"".concat(T.value))}),n.shader=u,n.uniforms.forEach(function(T){if(!T.data&&T.storageClass===Te.STORAGE_CLASS.StorageBuffer){var j=1;T.type===Te.AST_TOKEN_TYPES.FloatArray?j=1:T.type===Te.AST_TOKEN_TYPES.Vector4FloatArray&&(j=4),T.data=new Float32Array(n.output.length*j).fill(0)}}),this.compiledBundle.context=n,m.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=m.sent;case 12:case"end":return m.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()}]),l}(),hy),cy=Fa()(eg.prototype,"engine",[sy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fy=Fa()(eg.prototype,"configService",[ly],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg))||uy),py,yy,my,fp,by,Oy,xy,Ey=(py=Object(vi.injectable)(),yy=Object(vi.inject)(Te.IDENTIFIER.MaterialComponentManager),py(my=(fp=(xy=Oy=function(){function l(){$i()(this,l),this.config=void 0,Zi()(this,"material",by,this),this.entity=void 0,this.component=void 0}return Fi()(l,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t,r){this.entity=t,this.component=this.material.create(t),this.component.entity=t,this.component.type=r,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),l}(),Oy.BASIC="basic",xy),by=Fa()(fp.prototype,"material",[yy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fp))||my),Sy,My,Cy,Ay,Ty,Dy,Py,qh,Iy,Ly,Ry,jy,rg,wy,Jc=(Sy=Object(vi.injectable)(),My=Object(vi.inject)(Te.IDENTIFIER.MeshComponentManager),Cy=Object(vi.inject)(Te.IDENTIFIER.CullableComponentManager),Ay=Object(vi.inject)(Te.IDENTIFIER.TransformComponentManager),Ty=Object(vi.inject)(Te.IDENTIFIER.Systems),Dy=Object(vi.named)(Te.IDENTIFIER.SceneGraphSystem),Sy(Py=(qh=(wy=rg=function(){function l(){$i()(this,l),this.attributes={},this.config=void 0,Zi()(this,"mesh",Iy,this),Zi()(this,"cullable",Ly,this),Zi()(this,"transform",Ry,this),Zi()(this,"sceneGraphSystem",jy,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return Fi()(l,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var r=this;Object.keys(t).forEach(function(n){t[n]!==void 0&&t[n]!==r.attributes[n]&&(r.onAttributeChanged({name:n,data:t[n]}),r.attributes[n]=t[n])})}},{key:"setVisible",value:function(t){var r=this;return this.meshComponent.visible=t,this.meshComponent.children.forEach(function(n){var o=r.mesh.getComponentByEntity(n);o&&(o.visible=t)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var r=t.name,n=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(r),n)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),l}(),rg.POINT="point",rg.LINE="line",rg.GRID="grid",wy),Iy=Fa()(qh.prototype,"mesh",[My],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ly=Fa()(qh.prototype,"cullable",[Cy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ry=Fa()(qh.prototype,"transform",[Ay],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jy=Fa()(qh.prototype,"sceneGraphSystem",[Ty,Dy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh))||Py),FO=i("T0ZP"),GO=i.n(FO),UO=function(){function l(e,t){$i()(this,l),this.attribute=void 0,this.buffer=void 0;var r=t.buffer,n=t.offset,o=t.stride,u=t.normalized,d=t.size,m=t.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:n||0,stride:o||0,normalized:u||!1,divisor:m||0},d&&(this.attribute.size=d)}return Fi()(l,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),l}(),rc,lv,nc,ml,uv,qc,cv,ng,su,ah,es,lu,uu,ig,WO=(rc={},Gr()(rc,Te.gl.POINTS,"points"),Gr()(rc,Te.gl.LINES,"lines"),Gr()(rc,Te.gl.LINE_LOOP,"line loop"),Gr()(rc,Te.gl.LINE_STRIP,"line strip"),Gr()(rc,Te.gl.TRIANGLES,"triangles"),Gr()(rc,Te.gl.TRIANGLE_FAN,"triangle fan"),Gr()(rc,Te.gl.TRIANGLE_STRIP,"triangle strip"),rc),By=(lv={},Gr()(lv,Te.gl.STATIC_DRAW,"static"),Gr()(lv,Te.gl.DYNAMIC_DRAW,"dynamic"),Gr()(lv,Te.gl.STREAM_DRAW,"stream"),lv),hp=(nc={},Gr()(nc,Te.gl.BYTE,"int8"),Gr()(nc,Te.gl.UNSIGNED_INT,"int16"),Gr()(nc,Te.gl.INT,"int32"),Gr()(nc,Te.gl.UNSIGNED_BYTE,"uint8"),Gr()(nc,Te.gl.UNSIGNED_SHORT,"uint16"),Gr()(nc,Te.gl.UNSIGNED_INT,"uint32"),Gr()(nc,Te.gl.FLOAT,"float"),nc),zO=(ml={},Gr()(ml,Te.gl.ALPHA,"alpha"),Gr()(ml,Te.gl.LUMINANCE,"luminance"),Gr()(ml,Te.gl.LUMINANCE_ALPHA,"luminance alpha"),Gr()(ml,Te.gl.RGB,"rgb"),Gr()(ml,Te.gl.RGBA,"rgba"),Gr()(ml,Te.gl.RGBA4,"rgba4"),Gr()(ml,Te.gl.RGB5_A1,"rgb5 a1"),Gr()(ml,Te.gl.RGB565,"rgb565"),Gr()(ml,Te.gl.DEPTH_COMPONENT,"depth"),Gr()(ml,Te.gl.DEPTH_STENCIL,"depth stencil"),ml),VO=(uv={},Gr()(uv,Te.gl.DONT_CARE,"dont care"),Gr()(uv,Te.gl.NICEST,"nice"),Gr()(uv,Te.gl.FASTEST,"fast"),uv),Ny=(qc={},Gr()(qc,Te.gl.NEAREST,"nearest"),Gr()(qc,Te.gl.LINEAR,"linear"),Gr()(qc,Te.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),Gr()(qc,Te.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Gr()(qc,Te.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Gr()(qc,Te.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),qc),Fy=(cv={},Gr()(cv,Te.gl.REPEAT,"repeat"),Gr()(cv,Te.gl.CLAMP_TO_EDGE,"clamp"),Gr()(cv,Te.gl.MIRRORED_REPEAT,"mirror"),cv),kO=(ng={},Gr()(ng,Te.gl.NONE,"none"),Gr()(ng,Te.gl.BROWSER_DEFAULT_WEBGL,"browser"),ng),XO=(su={},Gr()(su,Te.gl.NEVER,"never"),Gr()(su,Te.gl.ALWAYS,"always"),Gr()(su,Te.gl.LESS,"less"),Gr()(su,Te.gl.LEQUAL,"lequal"),Gr()(su,Te.gl.GREATER,"greater"),Gr()(su,Te.gl.GEQUAL,"gequal"),Gr()(su,Te.gl.EQUAL,"equal"),Gr()(su,Te.gl.NOTEQUAL,"notequal"),su),Gy=(ah={},Gr()(ah,Te.gl.FUNC_ADD,"add"),Gr()(ah,Te.gl.MIN_EXT,"min"),Gr()(ah,Te.gl.MAX_EXT,"max"),Gr()(ah,Te.gl.FUNC_SUBTRACT,"subtract"),Gr()(ah,Te.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),ah),ag=(es={},Gr()(es,Te.gl.ZERO,"zero"),Gr()(es,Te.gl.ONE,"one"),Gr()(es,Te.gl.SRC_COLOR,"src color"),Gr()(es,Te.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),Gr()(es,Te.gl.SRC_ALPHA,"src alpha"),Gr()(es,Te.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Gr()(es,Te.gl.DST_COLOR,"dst color"),Gr()(es,Te.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),Gr()(es,Te.gl.DST_ALPHA,"dst alpha"),Gr()(es,Te.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Gr()(es,Te.gl.CONSTANT_COLOR,"constant color"),Gr()(es,Te.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Gr()(es,Te.gl.CONSTANT_ALPHA,"constant alpha"),Gr()(es,Te.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Gr()(es,Te.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),es),YO=(lu={},Gr()(lu,Te.gl.NEVER,"never"),Gr()(lu,Te.gl.ALWAYS,"always"),Gr()(lu,Te.gl.LESS,"less"),Gr()(lu,Te.gl.LEQUAL,"lequal"),Gr()(lu,Te.gl.GREATER,"greater"),Gr()(lu,Te.gl.GEQUAL,"gequal"),Gr()(lu,Te.gl.EQUAL,"equal"),Gr()(lu,Te.gl.NOTEQUAL,"notequal"),lu),td=(uu={},Gr()(uu,Te.gl.ZERO,"zero"),Gr()(uu,Te.gl.KEEP,"keep"),Gr()(uu,Te.gl.REPLACE,"replace"),Gr()(uu,Te.gl.INVERT,"invert"),Gr()(uu,Te.gl.INCR,"increment"),Gr()(uu,Te.gl.DECR,"decrement"),Gr()(uu,Te.gl.INCR_WRAP,"increment wrap"),Gr()(uu,Te.gl.DECR_WRAP,"decrement wrap"),uu),HO=(ig={},Gr()(ig,Te.gl.FRONT,"front"),Gr()(ig,Te.gl.BACK,"back"),ig),KO=function(){function l(e,t){$i()(this,l),this.buffer=void 0;var r=t.data,n=t.usage,o=t.type;this.buffer=e.buffer({data:r,usage:By[n||Te.gl.STATIC_DRAW],type:hp[o||Te.gl.UNSIGNED_BYTE]})}return Fi()(l,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var r=t.data,n=t.offset;this.buffer.subdata(r,n)}}]),l}(),_O=i("Zxkt"),Eo=i.n(_O),ZO=9007199254740991,$O="[object Arguments]",QO="[object Array]",JO="[object Boolean]",qO="[object Date]",tx="[object Error]",ex="[object Function]",rx="[object Map]",nx="[object Number]",ix="[object Object]",ax="[object RegExp]",ox="[object Set]",sx="[object String]",lx="[object WeakMap]",ux="[object ArrayBuffer]",cx="[object DataView]",fx="[object Float32Array]",hx="[object Float64Array]",dx="[object Int8Array]",vx="[object Int16Array]",gx="[object Int32Array]",px="[object Uint8Array]",yx="[object Uint8ClampedArray]",mx="[object Uint16Array]",bx="[object Uint32Array]",_a={};_a[fx]=_a[hx]=_a[dx]=_a[vx]=_a[gx]=_a[px]=_a[yx]=_a[mx]=_a[bx]=!0,_a[$O]=_a[QO]=_a[ux]=_a[JO]=_a[cx]=_a[qO]=_a[tx]=_a[ex]=_a[rx]=_a[nx]=_a[ix]=_a[ax]=_a[ox]=_a[sx]=_a[lx]=!1;function aA(l){return function(e){return l(e)}}var Ox=Object.prototype,xx=Ox.toString;function Ex(l){return Mx(l)&&Sx(l.length)&&!!_a[xx.call(l)]}function Sx(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=ZO}function Mx(l){return!!l&&sv()(l)==="object"}var dp=Ex;function Uy(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),t.push.apply(t,r)}return t}function Wy(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(t),!0).forEach(function(r){Gr()(l,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):Uy(Object(t)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(t,r))})}return l}var Cx=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,zy=0,og=!1,Ax=function(){function l(e,t){var r=this;$i()(this,l),this.reGl=e,this.context=t,this.entity=Object(Te.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var n={};this.context.uniforms.forEach(function(T){var j=T.name,G=T.type,et=T.data,J=T.isReferer,at=T.storageClass;if(at===Te.STORAGE_CLASS.StorageBuffer){if(J)r.textureCache[j]={data:void 0},n["".concat(j,"Size")]=function(){return et.compiledBundle.context.output.textureSize};else{r.textureCache[j]=r.calcDataTexture(j,G,et);var mt=r.textureCache[j],St=mt.textureWidth,Dt=mt.isOutput;n["".concat(j,"Size")]=[St,St],Dt&&(r.outputTextureName=j,r.context.needPingpong&&(r.outputTextureName="".concat(j,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(j,G,et)))}n[j]=function(){return og&&console.log("[".concat(r.entity,"]: ").concat(j," ").concat(r.textureCache[j].id)),r.textureCache[j].texture}}else if(at===Te.STORAGE_CLASS.Uniform){if(et&&(Array.isArray(et)||dp(et))&&et.length>16)throw new Error("invalid data type ".concat(G));n[j]=function(){return T.data}}});var o=this.getOuputDataTexture(),u=o.textureWidth,d=o.texelCount;n.u_OutputTextureSize=[u,u],n.u_OutputTexelCount=d,this.context.output.textureSize=[u,u];var m={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:n,vert:Cx,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(m)}return Fi()(l,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),og&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var e=ho()(Li.a.mark(function r(){var n=this,o,u,d,m,T,j,G,et;return Li.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){o=n.reGl.read()}),!o){at.next=6;break}if(u=this.getOuputDataTexture(),d=u.originalDataLength,m=u.elementsPerTexel,T=u.typedArrayConstructor,j=T===void 0?Float32Array:T,G=[],m!==4)for(et=0;et<o.length;et+=4)m===1?G.push(o[et]):m===2?G.push(o[et],o[et+1]):G.push(o[et],o[et+1],o[et+2]);else G=o;return at.abrupt("return",new j(G.slice(0,d)));case 6:return at.abrupt("return",new Float32Array);case 7:case"end":return at.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"confirmInput",value:function(t,r){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[r].id=n.getOuputDataTexture().id,this.textureCache[r].texture=n.getOuputDataTexture().texture,og&&console.log("[".concat(this.entity,"]: confirm input ").concat(r," from model ").concat(n.entity,", ").concat(n.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.context.uniforms.find(function(T){var j=T.name;return j===t});if(o){var u=this.calcDataTexture(t,o.type,r),d=u.texture,m=u.data;this.textureCache[t].data=m,this.textureCache[t].texture=d}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var r=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=r,og&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var r=t.data,n=t.textureWidth;return Wy(Wy({},t),{},{id:zy++,texture:this.reGl.texture({width:n,height:n,data:r,type:"float"})})}},{key:"calcDataTexture",value:function(t,r,n){var o=1;r===Te.AST_TOKEN_TYPES.Vector4FloatArray&&(o=4);for(var u=[],d=0;d<n.length;d+=o)o===1?u.push(n[d],0,0,0):o===2?u.push(n[d],n[d+1],0,0):o===3?u.push(n[d],n[d+1],n[d+2],0):o===4&&u.push(n[d],n[d+1],n[d+2],n[d+3]);var m=n.length,T=Math.ceil(m/o),j=Math.ceil(Math.sqrt(T)),G=j*j;T<G&&u.push.apply(u,Eo()(new Array((G-T)*4).fill(0)));var et=this.reGl.texture({width:j,height:j,data:u,type:"float"});return{id:zy++,data:u,originalDataLength:m,typedArrayConstructor:dp(n)?n.constructor:void 0,textureWidth:j,texture:et,texelCount:T,elementsPerTexel:o,isOutput:t===this.context.output.name}}}]),l}(),Tx=function(){function l(e,t){$i()(this,l),this.elements=void 0;var r=t.data,n=t.usage,o=t.type,u=t.count;this.elements=e.elements({data:r,usage:By[n||Te.gl.STATIC_DRAW],type:hp[o||Te.gl.UNSIGNED_BYTE],count:u})}return Fi()(l,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var r=t.data;this.elements.subdata(r)}},{key:"destroy",value:function(){this.elements.destroy()}}]),l}(),Dx=function(){function l(e,t){$i()(this,l),this.framebuffer=void 0;var r=t.width,n=t.height,o=t.color,u=t.colors,d=t.depth,m=t.stencil,T={width:r,height:n};Array.isArray(u)&&(T.colors=u.map(function(j){return j.get()})),o&&typeof o!="boolean"&&(T.color=o.get()),this.framebuffer=e.framebuffer(T)}return Fi()(l,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var r=t.width,n=t.height;this.framebuffer.resize(r,n)}}]),l}();function Px(l){var e=sv()(l);return l!=null&&(e==="object"||e==="function")}function fv(l){var e={};return Object.keys(l).forEach(function(t){vp(t,l[t],e,"")}),e}function vp(l,e,t,r){if(e===null||typeof e=="number"||typeof e=="boolean"||Array.isArray(e)&&typeof e[0]=="number"||dp(e)||e===""||e.resize!==void 0){t["".concat(r&&r+".").concat(l)]=e;return}Px(e)&&Object.keys(e).forEach(function(n){vp(n,e[n],t,"".concat(r&&r+".").concat(l))}),Array.isArray(e)&&e.forEach(function(n,o){Object.keys(n).forEach(function(u){vp(u,n[u],t,"".concat(r&&r+".").concat(l,"[").concat(o,"]"))})})}function Vy(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),t.push.apply(t,r)}return t}function ed(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vy(Object(t),!0).forEach(function(r){Gr()(l,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):Vy(Object(t)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(t,r))})}return l}var Ix=function(){function l(e,t){$i()(this,l),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=t.vs,n=t.fs,o=t.defines,u=t.attributes,d=t.uniforms,m=t.primitive,T=t.count,j=t.elements,G=t.depth,et=t.blend,J=t.stencil,at=t.cull,mt=t.instances,St=t.scissor,Dt=t.viewport,Ct={};d&&(this.uniforms=fv(d),Object.keys(d).forEach(function(qt){Ct[qt]=e.prop(qt)}));var Bt={};Object.keys(u).forEach(function(qt){Bt[qt]=u[qt].get()});var zt=o&&this.generateDefines(o)||"",Ht={attributes:Bt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(zt,`
`).concat(n),uniforms:Ct,vert:`
`.concat(zt,`
`).concat(r),primitive:WO[m===void 0?Te.gl.TRIANGLES:m]};mt&&(Ht.instances=mt),T&&(Ht.count=T),j&&(Ht.elements=j.get()),St&&(Ht.scissor=St),Dt&&(Ht.viewport=Dt),this.initDepthDrawParams({depth:G},Ht),this.initBlendDrawParams({blend:et},Ht),this.initStencilDrawParams({stencil:J},Ht),this.initCullDrawParams({cull:at},Ht),this.drawCommand=e(Ht)}return Fi()(l,[{key:"addUniforms",value:function(t){this.uniforms=ed(ed({},this.uniforms),fv(t))}},{key:"draw",value:function(t){var r=ed(ed({},this.uniforms),fv(t.uniforms||{})),n={};Object.keys(r).forEach(function(o){var u=sv()(r[o]);u==="boolean"||u==="number"||Array.isArray(r[o])||r[o].BYTES_PER_ELEMENT?n[o]=r[o]:u==="string"||(n[o]=r[o].get())}),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,r){var n=t.depth;n&&(r.depth={enable:n.enable===void 0?!0:!!n.enable,mask:n.mask===void 0?!0:!!n.mask,func:XO[n.func||Te.gl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,r){var n=t.blend;if(n){var o=n.enable,u=n.func,d=n.equation,m=n.color,T=m===void 0?[0,0,0,0]:m;r.blend={enable:!!o,func:{srcRGB:ag[u&&u.srcRGB||Te.gl.SRC_ALPHA],srcAlpha:ag[u&&u.srcAlpha||Te.gl.SRC_ALPHA],dstRGB:ag[u&&u.dstRGB||Te.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:ag[u&&u.dstAlpha||Te.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Gy[d&&d.rgb||Te.gl.FUNC_ADD],alpha:Gy[d&&d.alpha||Te.gl.FUNC_ADD]},color:T}}}},{key:"initStencilDrawParams",value:function(t,r){var n=t.stencil;if(n){var o=n.enable,u=n.mask,d=u===void 0?-1:u,m=n.func,T=m===void 0?{cmp:Te.gl.ALWAYS,ref:0,mask:-1}:m,j=n.opFront,G=j===void 0?{fail:Te.gl.KEEP,zfail:Te.gl.KEEP,zpass:Te.gl.KEEP}:j,et=n.opBack,J=et===void 0?{fail:Te.gl.KEEP,zfail:Te.gl.KEEP,zpass:Te.gl.KEEP}:et;r.stencil={enable:!!o,mask:d,func:ed(ed({},T),{},{cmp:YO[T.cmp]}),opFront:{fail:td[G.fail],zfail:td[G.zfail],zpass:td[G.zpass]},opBack:{fail:td[J.fail],zfail:td[J.zfail],zpass:td[J.zpass]}}}}},{key:"initCullDrawParams",value:function(t,r){var n=t.cull;if(n){var o=n.enable,u=n.face,d=u===void 0?Te.gl.BACK:u;r.cull={enable:!!o,face:HO[d]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(r){return"#define ".concat(r," ").concat(Number(t[r]))}).join(`
`)}}]),l}(),Lx=function(){function l(e,t){$i()(this,l),this.texture=void 0,this.width=void 0,this.height=void 0;var r=t.data,n=t.type,o=n===void 0?Te.gl.UNSIGNED_BYTE:n,u=t.width,d=t.height,m=t.flipY,T=m===void 0?!1:m,j=t.format,G=j===void 0?Te.gl.RGBA:j,et=t.mipmap,J=et===void 0?!1:et,at=t.wrapS,mt=at===void 0?Te.gl.CLAMP_TO_EDGE:at,St=t.wrapT,Dt=St===void 0?Te.gl.CLAMP_TO_EDGE:St,Ct=t.aniso,Bt=Ct===void 0?0:Ct,zt=t.alignment,Ht=zt===void 0?1:zt,qt=t.premultiplyAlpha,ue=qt===void 0?!1:qt,se=t.mag,Me=se===void 0?Te.gl.NEAREST:se,ve=t.min,De=ve===void 0?Te.gl.NEAREST:ve,ye=t.colorSpace,pr=ye===void 0?Te.gl.BROWSER_DEFAULT_WEBGL:ye;this.width=u,this.height=d;var cr={width:u,height:d,type:hp[o],format:zO[G],wrapS:Fy[mt],wrapT:Fy[Dt],mag:Ny[Me],min:Ny[De],alignment:Ht,flipY:T,colorSpace:kO[pr],premultiplyAlpha:ue,aniso:Bt};r&&(cr.data=r),typeof J=="number"?cr.mipmap=VO[J]:typeof J=="boolean"&&(cr.mipmap=J),this.texture=e.texture(cr)}return Fi()(l,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var r=t.width,n=t.height;this.texture.resize(r,n),this.width=r,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),l}(),ky,Xy,Yy,Rx=(ky=Object(vi.injectable)(),ky(Xy=(Yy=function(){function l(){var e=this;$i()(this,l),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=ho()(Li.a.mark(function r(n){return Li.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!n.uniforms){u.next=3;break}return u.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var d=ho()(Li.a.mark(function m(T){var j;return Li.a.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(!(n.uniforms[T]&&n.uniforms[T].load!==void 0)){et.next=5;break}return et.next=3,n.uniforms[T].load();case 3:j=et.sent,n.uniforms[T]=j;case 5:case"end":return et.stop()}},m)}));return function(m){return d.apply(this,arguments)}}()));case 3:return u.abrupt("return",new Ix(e.gl,n));case 4:case"end":return u.stop()}},r)}));return function(r){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new UO(e.gl,t)},this.createBuffer=function(t){return new KO(e.gl,t)},this.createElements=function(t){return new Tx(e.gl,t)},this.createTexture2D=function(t){return new Lx(e.gl,t)},this.createFramebuffer=function(t){return new Dx(e.gl,t)},this.useFramebuffer=function(t,r){e.gl({framebuffer:t?t.get():null})(r)},this.createComputeModel=function(){var t=ho()(Li.a.mark(function r(n){return Li.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Ax(e.gl,n));case 1:case"end":return u.stop()}},r)}));return function(r){return t.apply(this,arguments)}}(),this.clear=function(t){var r=t.color,n=t.depth,o=t.stencil,u=t.framebuffer,d=u===void 0?null:u,m={color:r,depth:n,stencil:o};m.framebuffer=d===null?d:d.get(),e.gl.clear(m)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(Te.gl.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(Te.gl.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var r=t.x,n=t.y,o=t.width,u=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(r,n,o,u),e.gl._refresh())},this.readPixels=function(t){var r=t.framebuffer,n=t.x,o=t.y,u=t.width,d=t.height,m={x:n,y:o,width:u,height:d};return r&&(m.framebuffer=r.get()),e.gl.read(m)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return Fi()(l,[{key:"init",value:function(){var e=ho()(Li.a.mark(function r(n){return Li.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.inited){u.next=2;break}return u.abrupt("return");case 2:return this.$canvas=n.canvas,u.next=5,new Promise(function(d,m){GO()({canvas:n.canvas,attributes:{alpha:!0,antialias:n.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(j,G){(j||!G)&&m(j),d(G)}})});case 5:this.gl=u.sent,this.inited=!0;case 7:case"end":return u.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),l}(),Yy))||Xy);function jx(){return typeof window!="undefined"}function wx(l,e,t,r){if(!!jx()){var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",l),r&&(o.id=r),o.onload=function(){e&&e()},o.onerror=function(u){t&&t("Unable to load script '".concat(l,"'"),u)},n.appendChild(o)}}function Bx(l,e){return new Promise(function(t,r){wx(l,function(){t()},function(n,o){r(o)})})}var sg,Nx=function(){return gp.apply(this,arguments)};function gp(){return gp=ho()(Li.a.mark(function l(){return Li.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!sg){t.next=2;break}return t.abrupt("return",sg);case 2:return t.next=4,Bx("https://preview.babylonjs.com/glslang/glslang.js");case 4:return sg=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",sg);case 6:case"end":return t.stop()}},l)})),gp.apply(this,arguments)}var Fx=function(){function l(e,t){$i()(this,l),this.engine=e,this.options=t,this.attribute=void 0,this.buffer=void 0;var r=t,n=r.buffer,o=r.offset,u=r.stride,d=r.normalized,m=r.size,T=r.divisor,j=r.arrayStride,G=r.attributes,et=r.stepMode;this.buffer=n,this.attribute={buffer:n.get(),offset:o||0,stride:u||0,normalized:d||!1,divisor:T||0,arrayStride:j||0,attributes:G,stepMode:et||"vertex"},m&&(this.attribute.size=m)}return Fi()(l,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),l}(),rd=function(){function l(e,t){$i()(this,l),this.engine=e,this.options=t,this.buffer=void 0;var r=t,n=r.data,o=r.usage,u=r.type;this.buffer=this.createBuffer(n instanceof Array?new Float32Array(n):n,o||xn.BufferUsage.Vertex|xn.BufferUsage.CopyDst)}return Fi()(l,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var r=t.data,n=t.offset;this.setSubData(this.buffer,n,r instanceof Array?new Float32Array(r):r)}},{key:"createBuffer",value:function(t,r){var n=t.byteLength%4,o={size:t.byteLength+n,usage:r},u=this.engine.device.createBuffer(o);return this.setSubData(u,0,t),u}},{key:"setSubData",value:function(t,r,n){var o=Te.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;o.writeBuffer(t,r,n)}}]),l}();function Gx(l){return typeof l=="number"}var Ux=function(){function l(e,t){$i()(this,l),this.engine=e,this.context=t,this.entity=Object(Te.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return Fi()(l,[{key:"init",value:function(){var e=ho()(Li.a.mark(function r(){var n=this,o,u,d,m,T,j,G;return Li.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:o=J.sent,u=o.computeStage,d=this.context.uniforms.filter(function(at){return at.storageClass===Te.STORAGE_CLASS.StorageBuffer}),m=this.context.uniforms.filter(function(at){return at.storageClass===Te.STORAGE_CLASS.Uniform}),T=m.length?1:0,this.bindGroupEntries=[],T&&(j=0,G=[],m.forEach(function(at){if(Gx(at.data))n.uniformGPUBufferLayout.push({name:at.name,offset:j}),j+=4,G.push(at.data);else{var mt,St=((mt=at.data)===null||mt===void 0?void 0:mt.length)||1;St===3&&(St=4,at.data.push(0));var Dt=j/4%4;if(Dt>0){var Ct=4-Dt;if(St>1&&St<=Ct)St===2&&(Ct===3&&(j+=4,G.push(0)),G.push.apply(G,Eo()(at.data)),n.uniformGPUBufferLayout.push({name:at.name,offset:j}));else{for(var Bt=0;Bt<Ct;Bt++)j+=4,G.push(0);G.push.apply(G,Eo()(at.data)),n.uniformGPUBufferLayout.push({name:at.name,offset:j})}}j+=4*St}}),this.uniformBuffer=new rd(this.engine,{data:G instanceof Array?new Float32Array(G):G,usage:xn.BufferUsage.Uniform|xn.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),d.forEach(function(at){if(at.data!==null&&(at.type===Te.AST_TOKEN_TYPES.Vector4FloatArray||at.type===Te.AST_TOKEN_TYPES.FloatArray)){var mt;at.name===n.context.output.name?(mt=new rd(n.engine,{data:isFinite(Number(at.data))?[at.data]:at.data,usage:xn.BufferUsage.Storage|xn.BufferUsage.CopyDst|xn.BufferUsage.CopySrc}),n.outputBuffer=mt,n.context.output={name:at.name,length:isFinite(Number(at.data))?1:at.data.length,typedArrayConstructor:Float32Array,gpuBuffer:mt.get()}):at.isReferer?at.data.model&&at.data.model.outputBuffer&&(mt=at.data.model.outputBuffer):mt=new rd(n.engine,{data:isFinite(Number(at.data))?[at.data]:at.data,usage:xn.BufferUsage.Storage|xn.BufferUsage.CopyDst|xn.BufferUsage.CopySrc}),n.vertexBuffers[at.name]=mt,n.bindGroupEntries.push({binding:T,resource:{name:at.name,refer:mt?void 0:at.data,buffer:mt?mt.get():void 0}}),T++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:u}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return J.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(r){return t.vertexBuffers[r].destroy()})}},{key:"readData",value:function(){var e=ho()(Li.a.mark(function r(){var n,o,u,d,m,T,j,G,et,J;return Li.a.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(n=this.context.output,!n){mt.next=16;break}if(o=n.length,u=n.typedArrayConstructor,d=n.gpuBuffer,!d){mt.next=16;break}return m=o*u.BYTES_PER_ELEMENT,T=this.engine.device.createBuffer({size:m,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),j=this.engine.device.createCommandEncoder(),j.copyBufferToBuffer(d,0,T,0,m),G=Te.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue,G.submit([j.finish()]),mt.next=12,T.mapAsync(xn.MapMode.Read);case 12:return et=T.getMappedRange(),J=new u(et.slice(0)),T.unmap(),mt.abrupt("return",J);case 16:return mt.abrupt("return",new Float32Array);case 17:case"end":return mt.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(){if(this.engine.currentComputePass){var t;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,Eo()(this.context.dispatch))}}},{key:"updateBuffer",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.vertexBuffers[t];o&&o.subData({data:r,offset:n})}},{key:"updateUniform",value:function(t,r){var n=this.uniformGPUBufferLayout.find(function(o){return o.name===t});n&&this.uniformBuffer.subData({data:Number.isFinite(r)?new Float32Array([r]):new Float32Array(r),offset:n.offset})}},{key:"confirmInput",value:function(t,r){var n=this.vertexBuffers[r],o=t.outputBuffer;if(n&&o&&n!==o){var u=this.engine.device.createCommandEncoder(),d=t.context.output,m=d.length,T=d.typedArrayConstructor,j=m*T.BYTES_PER_ELEMENT;u.copyBufferToBuffer(o.get(),0,n.get(),0,j);var G=Te.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;G.submit([u.finish()])}}},{key:"compileShaderToSpirV",value:function(t,r,n){return this.compileRawShaderToSpirV(n+t,r)}},{key:"compileRawShaderToSpirV",value:function(t,r){return this.engine.glslang.compileGLSL(t,r)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=ho()(Li.a.mark(function r(n){var o,u;return Li.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(o=n,u=`#version 450
`,this.engine.options.useWGSL){m.next=6;break}return m.next=5,this.compileShaderToSpirV(n,"compute",u);case 5:o=m.sent;case 6:return m.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:o,isWHLSL:Te.isSafari}),entryPoint:"main"}});case 7:case"end":return m.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()}]),l}(),Wx=function(){function l(e,t){$i()(this,l),this.engine=e,this.options=t,this.indexCount=void 0,this.buffer=void 0;var r=t,n=r.data,o=r.usage,u=r.type,d=r.count;this.indexCount=d||0,this.buffer=new rd(e,{data:n instanceof Array?new Uint16Array(n):n,usage:xn.BufferUsage.Index|xn.BufferUsage.CopyDst})}return Fi()(l,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),l}(),zx=function(){function l(e,t){$i()(this,l),this.engine=e,this.options=t,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=t,n=r.width,o=r.height,u=r.color,d=r.colors,m=r.depth,T=r.stencil;u&&(this.colorTexture=u),m&&(this.depthTexture=m)}return Fi()(l,[{key:"get",value:function(){var t,r;return{color:(t=this.colorTexture)===null||t===void 0?void 0:t.get(),depth:(r=this.depthTexture)===null||r===void 0?void 0:r.get()}}},{key:"destroy",value:function(){var t,r;(t=this.colorTexture)===null||t===void 0||t.destroy(),(r=this.depthTexture)===null||r===void 0||r.destroy()}},{key:"resize",value:function(t){var r=t.width,n=t.height;if(r!==this.width||n!==this.height){var o,u;(o=this.colorTexture)===null||o===void 0||o.resize({width:r,height:n}),(u=this.depthTexture)===null||u===void 0||u.resize({width:r,height:n})}this.width=r,this.height=n}}]),l}(),ic,cu,oh,Ts,nd,lg,hv,Vx=(ic={},Gr()(ic,Te.gl.POINTS,xn.PrimitiveTopology.PointList),Gr()(ic,Te.gl.LINES,xn.PrimitiveTopology.LineList),Gr()(ic,Te.gl.LINE_LOOP,xn.PrimitiveTopology.LineList),Gr()(ic,Te.gl.LINE_STRIP,xn.PrimitiveTopology.LineStrip),Gr()(ic,Te.gl.TRIANGLES,xn.PrimitiveTopology.TriangleList),Gr()(ic,Te.gl.TRIANGLE_FAN,xn.PrimitiveTopology.TriangleList),Gr()(ic,Te.gl.TRIANGLE_STRIP,xn.PrimitiveTopology.TriangleStrip),ic),kx=(cu={},Gr()(cu,Te.gl.NEVER,xn.CompareFunction.Never),Gr()(cu,Te.gl.ALWAYS,xn.CompareFunction.Always),Gr()(cu,Te.gl.LESS,xn.CompareFunction.Less),Gr()(cu,Te.gl.LEQUAL,xn.CompareFunction.LessEqual),Gr()(cu,Te.gl.GREATER,xn.CompareFunction.Greater),Gr()(cu,Te.gl.GEQUAL,xn.CompareFunction.GreaterEqual),Gr()(cu,Te.gl.EQUAL,xn.CompareFunction.Equal),Gr()(cu,Te.gl.NOTEQUAL,xn.CompareFunction.NotEqual),cu),Hy=(oh={},Gr()(oh,Te.gl.FUNC_ADD,xn.BlendOperation.Add),Gr()(oh,Te.gl.MIN_EXT,xn.BlendOperation.Min),Gr()(oh,Te.gl.MAX_EXT,xn.BlendOperation.Max),Gr()(oh,Te.gl.FUNC_SUBTRACT,xn.BlendOperation.Subtract),Gr()(oh,Te.gl.FUNC_REVERSE_SUBTRACT,xn.BlendOperation.ReverseSubtract),oh),ug=(Ts={},Gr()(Ts,Te.gl.ZERO,xn.BlendFactor.Zero),Gr()(Ts,Te.gl.ONE,xn.BlendFactor.One),Gr()(Ts,Te.gl.SRC_COLOR,xn.BlendFactor.SrcColor),Gr()(Ts,Te.gl.ONE_MINUS_SRC_COLOR,xn.BlendFactor.OneMinusSrcColor),Gr()(Ts,Te.gl.SRC_ALPHA,xn.BlendFactor.SrcAlpha),Gr()(Ts,Te.gl.ONE_MINUS_SRC_ALPHA,xn.BlendFactor.OneMinusSrcAlpha),Gr()(Ts,Te.gl.DST_COLOR,xn.BlendFactor.DstColor),Gr()(Ts,Te.gl.ONE_MINUS_DST_COLOR,xn.BlendFactor.OneMinusDstColor),Gr()(Ts,Te.gl.DST_ALPHA,xn.BlendFactor.DstAlpha),Gr()(Ts,Te.gl.ONE_MINUS_DST_ALPHA,xn.BlendFactor.OneMinusDstAlpha),Gr()(Ts,Te.gl.CONSTANT_COLOR,xn.BlendFactor.BlendColor),Gr()(Ts,Te.gl.ONE_MINUS_CONSTANT_COLOR,xn.BlendFactor.OneMinusBlendColor),Gr()(Ts,Te.gl.SRC_ALPHA_SATURATE,xn.BlendFactor.SrcAlphaSaturated),Ts),Xx=(nd={},Gr()(nd,Te.gl.ALPHA,"r8unorm"),Gr()(nd,Te.gl.RGBA,"rgba8unorm"),Gr()(nd,Te.gl.DEPTH_COMPONENT,"depth32float"),Gr()(nd,Te.gl.DEPTH_STENCIL,"depth24plus-stencil8"),nd),Ky=(lg={},Gr()(lg,Te.gl.NEAREST,"nearest"),Gr()(lg,Te.gl.LINEAR,"linear"),lg),pp=(hv={},Gr()(hv,Te.gl.REPEAT,"repeat"),Gr()(hv,Te.gl.CLAMP_TO_EDGE,"clamp-to-edge"),Gr()(hv,Te.gl.MIRRORED_REPEAT,"mirror-repeat"),hv);function Yx(l){var e=l.cull;if(!e||!e.enable)return xn.CullMode.None;if(e.face)return e.face===Te.gl.FRONT?xn.CullMode.Front:xn.CullMode.Back}function Hx(l){var e=l.depth,t=l.stencil,r={compare:xn.CompareFunction.Always,depthFailOp:xn.StencilOperation.Keep,failOp:xn.StencilOperation.Keep,passOp:xn.StencilOperation.Keep};return{depthWriteEnabled:e&&e.enable,depthCompare:kx[(e==null?void 0:e.func)||Te.gl.ALWAYS],format:xn.TextureFormat.Depth24PlusStencil8,stencilFront:r,stencilBack:r,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Kx(l,e){var t=l.blend;return[{format:e,alphaBlend:{srcFactor:ug[t&&t.func&&t.func.srcAlpha||Te.gl.ONE],dstFactor:ug[t&&t.func&&t.func.dstAlpha||Te.gl.ZERO],operation:Hy[t&&t.equation&&t.equation.alpha||Te.gl.FUNC_ADD]},colorBlend:{srcFactor:ug[t&&t.func&&t.func.srcRGB||Te.gl.ONE],dstFactor:ug[t&&t.func&&t.func.dstRGB||Te.gl.ZERO],operation:Hy[t&&t.equation&&t.equation.rgb||Te.gl.FUNC_ADD]},writeMask:xn.ColorWrite.All}]}function _y(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),t.push.apply(t,r)}return t}function id(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_y(Object(t),!0).forEach(function(r){Gr()(l,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):_y(Object(t)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(t,r))})}return l}function _x(l){for(var e=0,t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0,u=r;o<u.length;o++){var d=u[o];e+=d.length}for(var m=new l(e),T=0,j=0,G=r;j<G.length;j++){var et=G[j];m.set(et,T),T+=et.length}return m}var Zx=function(){function l(e,t){$i()(this,l),this.engine=e,this.options=t,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return Fi()(l,[{key:"init",value:function(){var e=ho()(Li.a.mark(function r(){var n=this,o,u,d,m,T,j,G,et,J,at,mt,St,Dt,Ct,Bt,zt,Ht,qt;return Li.a.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return o=this.options,u=o.vs,d=o.fs,m=o.attributes,T=o.uniforms,j=o.primitive,G=o.count,et=o.elements,J=o.depth,at=o.blend,mt=o.stencil,St=o.cull,Dt=o.instances,se.next=3,this.compilePipelineStageDescriptor(u,d,null);case 3:Ct=se.sent,Bt=Ct.vertexStage,zt=Ct.fragmentStage,T&&this.buildUniformBindGroup(T),et&&(this.indexBuffer=et.get(),this.indexCount=et.indexCount),Ht={vertexBuffers:Object.keys(m).map(function(Me,ve){var De=m[Me],ye=De.get(),pr=ye.arrayStride,cr=ye.stepMode,fr=ye.attributes;return n.attributeCache[Me]=De,{arrayStride:pr,stepMode:cr,attributes:fr}})},qt={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Vx[j||Te.gl.TRIANGLES],rasterizationState:id(id({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Yx({cull:St})}),depthStencilState:Hx({depth:J,stencil:mt}),colorStates:Kx({blend:at},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:Bt,fragmentStage:zt,vertexState:Ht},this.renderPipeline=this.engine.device.createRenderPipeline(qt);case 11:case"end":return se.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"addUniforms",value:function(t){this.uniforms=id(id({},this.uniforms),fv(t))}},{key:"draw",value:function(t){var r=this,n=this.engine.getCurrentRenderPass(),o=id(id({},this.uniforms),fv(t.uniforms||{})),u=[];Object.keys(o).forEach(function(d){var m=sv()(o[d]);if(m==="boolean"||m==="number"||Array.isArray(o[d])||o[d].BYTES_PER_ELEMENT){var T,j=(T=r.uniformGPUBufferLayout.find(function(Dt){var Ct=Dt.name;return Ct===d}))===null||T===void 0?void 0:T.offset;j!==null&&r.uniformBuffer.subData({data:o[d],offset:j})}else{var G,et=(G=r.uniformGPUBufferLayout.find(function(Dt){var Ct=Dt.name;return Ct===d}))===null||G===void 0?void 0:G.offset;if(et!==null){var J=o[d].get(),at=J.color||J,mt=at.texture,St=at.sampler;St&&(u.push({binding:et,resource:St}),et++),u.push({binding:et,resource:mt.createView()})}}}),this.uniformBuffer&&(u[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:u}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),xn.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(d,m){n.setVertexBuffer(0+m,r.attributeCache[d].get().buffer,0)}),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=ho()(Li.a.mark(function r(n,o,u){var d,m,T;return Li.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(d=`#version 450
`,m=n,T=o,this.engine.options.useWGSL){G.next=10;break}return G.next=6,this.compileShaderToSpirV(n,"vertex",d);case 6:return m=G.sent,G.next=9,this.compileShaderToSpirV(o,"fragment",d);case 9:T=G.sent;case 10:return G.abrupt("return",this.createPipelineStageDescriptor(m,T));case 11:case"end":return G.stop()}},r,this)}));function t(r,n,o){return e.apply(this,arguments)}return t}()},{key:"compileShaderToSpirV",value:function(t,r,n){return this.compileRawShaderToSpirV(n+t,r)}},{key:"compileRawShaderToSpirV",value:function(t,r){return this.engine.glslang.compileGLSL(t,r)}},{key:"createPipelineStageDescriptor",value:function(t,r){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Te.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:r,isWHLSL:Te.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:xn.FrontFace.CCW,cullMode:xn.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var r=this,n=0,o=_x.apply(void 0,[Float32Array].concat(Eo()(Object.keys(t).map(function(m){return t[m]?(r.uniformGPUBufferLayout.push({name:m,offset:n}),n+=(t[m].length||1)*4,t[m]):[]})))),u=[],d=!1;o.length&&(d=!0,u.push({binding:0,visibility:xn.ShaderStage.Fragment|xn.ShaderStage.Vertex,type:xn.BindingType.UniformBuffer})),Object.keys(t).filter(function(m){return t[m]===null}).forEach(function(m,T){r.uniformGPUBufferLayout.push({name:m,offset:T*2+(d?1:0)}),u.push({binding:T*2+(d?1:0),visibility:xn.ShaderStage.Fragment,type:xn.BindingType.Sampler},{binding:T*2+(d?1:0)+1,visibility:xn.ShaderStage.Fragment,type:xn.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:u}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),d&&(this.uniformBuffer=new rd(this.engine,{data:o instanceof Array?new Float32Array(o):o,usage:xn.BufferUsage.Uniform|xn.BufferUsage.CopyDst}))}}]),l}(),$x=function(){function l(e,t){$i()(this,l),this.engine=e,this.options=t,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return Fi()(l,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var r=t.width,n=t.height;(r!==this.width||n!==this.height)&&(this.destroy(),this.createTexture()),this.width=r,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,r=t.data,n=t.type,o=n===void 0?Te.gl.UNSIGNED_BYTE:n,u=t.width,d=t.height,m=t.flipY,T=m===void 0?!1:m,j=t.format,G=j===void 0?Te.gl.RGBA:j,et=t.mipmap,J=et===void 0?!1:et,at=t.wrapS,mt=at===void 0?Te.gl.CLAMP_TO_EDGE:at,St=t.wrapT,Dt=St===void 0?Te.gl.CLAMP_TO_EDGE:St,Ct=t.aniso,Bt=Ct===void 0?0:Ct,zt=t.alignment,Ht=zt===void 0?1:zt,qt=t.premultiplyAlpha,ue=qt===void 0?!1:qt,se=t.mag,Me=se===void 0?Te.gl.NEAREST:se,ve=t.min,De=ve===void 0?Te.gl.NEAREST:ve,ye=t.colorSpace,pr=ye===void 0?Te.gl.BROWSER_DEFAULT_WEBGL:ye,cr=t.usage;this.width=u,this.height=d,this.texture=this.engine.device.createTexture({size:[u,d,1],mipLevelCount:1,sampleCount:1,dimension:xn.TextureDimension.E2d,format:Xx[G],usage:cr||xn.TextureUsage.Sampled|xn.TextureUsage.CopyDst}),(!cr||cr&xn.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:pp[mt],addressModeV:pp[Dt],addressModeW:pp[mt],magFilter:Ky[Me],minFilter:Ky[De],maxAnisotropy:Bt}))}}]),l}(),Zy,$y,Qy,Qx=(Zy=Object(vi.injectable)(),Zy($y=(Qy=function(){function l(){var e=this;$i()(this,l),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:Infinity,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){var r=t.framebuffer,n=t.color,o=t.depth,u=t.stencil;e.options.supportCompute&&e.startComputePass(),e.currentRenderTarget?(e.currentRenderPass&&e.endRenderTargetRenderPass(),e.startRenderTargetRenderPass(e.currentRenderTarget,n||null,!!o,!!u)):(e.mainColorAttachments[0].loadValue=n||xn.LoadOp.Load,e.mainDepthAttachment.depthLoadValue=o||xn.LoadOp.Load,e.mainDepthAttachment.stencilLoadValue=u?e.clearStencilValue:xn.LoadOp.Load,e.mainRenderPass&&e.endMainRenderPass(),e.startMainRenderPass())},this.createModel=function(){var t=ho()(Li.a.mark(function r(n){var o;return Li.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=new Zx(e,n),d.next=3,o.init();case 3:return d.abrupt("return",o);case 4:case"end":return d.stop()}},r)}));return function(r){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new Fx(e,t)},this.createBuffer=function(t){return new rd(e,t)},this.createElements=function(t){return new Wx(e,t)},this.createTexture2D=function(t){return new $x(e,t)},this.createFramebuffer=function(t){return new zx(e,t)},this.useFramebuffer=function(t,r){e.currentRenderTarget&&e.unbindFramebuffer(e.currentRenderTarget),e.currentRenderTarget=t,e.currentRenderTargetViewDescriptor={dimension:xn.TextureViewDimension.E2d,arrayLayerCount:1,aspect:xn.TextureAspect.All},e.currentRenderPass=null,r()},this.createComputeModel=function(){var t=ho()(Li.a.mark(function r(n){var o;return Li.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=new Ux(e,n),d.next=3,o.init();case 3:return d.abrupt("return",o);case 4:case"end":return d.stop()}},r)}));return function(r){return t.apply(this,arguments)}}(),this.getCanvas=function(){return e.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var r=t.x,n=t.y,o=t.width,u=t.height;if(!e.currentRenderPass)e.transientViewport={x:r,y:n,width:o,height:u};else if(e.transientViewport.x!==Infinity){var d=e.getCurrentRenderPass();d.setViewport(e.transientViewport.x,e.transientViewport.y,e.transientViewport.width,e.transientViewport.height,0,1)}else if(r!==e.cachedViewport.x||n!==e.cachedViewport.y||o!==e.cachedViewport.width||u!==e.cachedViewport.height){e.cachedViewport={x:r,y:n,width:o,height:u};var m=e.getCurrentRenderPass();m.setViewport(r,n,o,u,0,1)}},this.readPixels=function(t){throw new Error("Method not implemented.")}}return Fi()(l,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=ho()(Li.a.mark(function r(n){return Li.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.canvas=n.canvas,this.options=n,this.useWGSL=!!n.useWGSL,this.mainPassSampleCount=n.antialiasing?this.defaultSampleCount:1,u.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return u.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"setScissor",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(t){return t.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Te.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(t){return t})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(t){return t}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=ho()(Li.a.mark(function r(){var n,o;return Li.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Nx();case 2:return this.glslang=d.sent,d.next=5,(n=navigator)===null||n===void 0||(o=n.gpu)===null||o===void 0?void 0:o.requestAdapter();case 5:return this.adapter=d.sent,d.next=8,this.adapter.requestDevice();case 8:this.device=d.sent;case 9:case"end":return d.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Te.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:xn.TextureUsage.OutputAttachment|xn.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xn.TextureDimension.E2d,format:xn.TextureFormat.BGRA8Unorm,usage:xn.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:Te.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:xn.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Te.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:xn.StoreOp.Store}];var r={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xn.TextureDimension.E2d,format:Te.isSafari?"depth32float-stencil8":xn.TextureFormat.Depth24PlusStencil8,usage:xn.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(r),this.mainDepthAttachment={attachment:Te.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:xn.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:xn.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Te.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Te.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,r,n){var o,u,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,m=(o=t.get().color)===null||o===void 0?void 0:o.texture,T;m&&(T=m.createView(this.currentRenderTargetViewDescriptor));var j=(u=t.get().depth)===null||u===void 0?void 0:u.texture,G;j&&(G=j.createView());var et=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:T,loadValue:r!==null?r:xn.LoadOp.Load,storeOp:xn.StoreOp.Store}],depthStencilAttachment:j&&G?{attachment:G,depthLoadValue:n?this.clearDepthValue:xn.LoadOp.Load,depthStoreOp:xn.StoreOp.Store,stencilLoadValue:d?this.clearStencilValue:xn.LoadOp.Load,stencilStoreOp:xn.StoreOp.Store}:void 0});this.currentRenderPass=et,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=Infinity,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),l}(),Qy))||$y),Jx=i("q66O"),qx=i.n(Jx),tE=i("oOaK"),tf=i.n(tE),eE=i("vpv6"),ef=i.n(eE),rE=i("G5xY"),ds=i.n(rE),Jy,qy;function nE(l){var e=iE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function iE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var yp=4/64,tm=1-yp*2,aE=(Jy=Object(vi.injectable)(),Jy(qy=function(l){tf()(t,l);var e=nE(t);function t(){return $i()(this,t),e.apply(this,arguments)}return Fi()(t,[{key:"onEntityCreated",value:function(){var n=this.config,o=n.widthSegments,u=o===void 0?1:o,d=n.heightSegments,m=d===void 0?1:d,T=n.depthSegments,j=T===void 0?1:T,G=n.halfExtents,et=G===void 0?Pr.e.fromValues(.5,.5,.5):G,J=u,at=m,mt=j,St=qx()(et,3),Dt=St[0],Ct=St[1],Bt=St[2],zt=[Pr.e.fromValues(-Dt,-Ct,Bt),Pr.e.fromValues(Dt,-Ct,Bt),Pr.e.fromValues(Dt,Ct,Bt),Pr.e.fromValues(-Dt,Ct,Bt),Pr.e.fromValues(Dt,-Ct,-Bt),Pr.e.fromValues(-Dt,-Ct,-Bt),Pr.e.fromValues(-Dt,Ct,-Bt),Pr.e.fromValues(Dt,Ct,-Bt)],Ht=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],qt=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],ue={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},se=[],Me=[],ve=[],De=[],ye=[],pr=0,cr=function(Yr,rn,gn){var vn,ln,Pn,Lr;for(Pn=0;Pn<=rn;Pn++)for(Lr=0;Lr<=gn;Lr++){var nn=Pr.e.create(),jn=Pr.e.create(),Sn=Pr.e.create(),Fn=Pr.e.create();Pr.e.lerp(nn,zt[Ht[Yr][0]],zt[Ht[Yr][1]],Pn/rn),Pr.e.lerp(jn,zt[Ht[Yr][0]],zt[Ht[Yr][2]],Lr/gn),Pr.e.sub(Sn,jn,zt[Ht[Yr][0]]),Pr.e.add(Fn,nn,Sn),vn=Pn/rn,ln=Lr/gn,se.push(Fn[0],Fn[1],Fn[2]),Me.push(qt[Yr][0],qt[Yr][1],qt[Yr][2]),ve.push(vn,ln),vn/=3,ln/=3,vn=vn*tm+yp,ln=ln*tm+yp,vn+=Yr%3/3,ln+=Math.floor(Yr/3)/3,De.push(vn,ln),Pn<rn&&Lr<gn&&(ye.push(pr+gn+1,pr+1,pr),ye.push(pr+gn+1,pr+gn+2,pr+1)),pr++}};cr(ue.FRONT,J,at),cr(ue.BACK,J,at),cr(ue.TOP,J,mt),cr(ue.BOTTOM,J,mt),cr(ue.RIGHT,mt,at),cr(ue.LEFT,mt,at);var fr=Object(Te.generateAABBFromVertices)(se),en=this.getComponent();en.indices=Uint32Array.from(ye),en.aabb=fr,en.vertexCount=pr,en.attributes=[{dirty:!0,name:"position",data:Float32Array.from(se),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(Me),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(ve),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(Qc))||qy);function oE(l,e){if(!l&&!e)throw new Error("Please specify valid arguments for parameters a and b.");if(!e||e.length===0)return l;if(!l||l.length===0)return e;if(Object.prototype.toString.call(l)!==Object.prototype.toString.call(e))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var t=new l.constructor(l.length+e.length);return t.set(l),t.set(e,l.length),t}var em,rm;function sE(l){var e=lE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function lE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var uE=(em=Object(vi.injectable)(),em(rm=function(l){tf()(t,l);var e=sE(t);function t(){return $i()(this,t),e.apply(this,arguments)}return Fi()(t,[{key:"onEntityCreated",value:function(){var n=this.config.geometries,o=n===void 0?[]:n,u=this.getComponent();u.aabb=new Te.AABB;var d=[],m=[],T=0;o.forEach(function(j){var G=j.aabb,et=j.indices,J=j.vertexCount,at=j.attributes;u.aabb.add(G),u.vertexCount+=J,et&&m.push.apply(m,Eo()(et.map(function(mt){return mt+T}))),T+=J,at.forEach(function(mt,St){d[St]?mt.data&&(lp(mt.data)?d[St].push(mt.data):ay(mt.data)?d[St].data=oE(d[St].data,mt.data):d[St].data=d[St].data.concat(mt.data)):(d[St]=mt,d[St].dirty=!0)})}),u.attributes=d,u.indices=Uint32Array.from(m),u.dirty=!0}}]),t}(Qc))||rm),nm,im;function cE(l){var e=fE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function fE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var hE=(nm=Object(vi.injectable)(),nm(im=function(l){tf()(t,l);var e=cE(t);function t(){return $i()(this,t),e.apply(this,arguments)}return Fi()(t,[{key:"onEntityCreated",value:function(){for(var n=this.config,o=n.halfExtents,u=o===void 0?[.5,.5]:o,d=n.widthSegments,m=d===void 0?5:d,T=n.lengthSegments,j=T===void 0?5:T,G=[],et=[],J=[],at=[],mt=0,St=0;St<=m;St++)for(var Dt=0;Dt<=j;Dt++){var Ct=-u[0]+2*u[0]*St/m,Bt=0,zt=-(-u[1]+2*u[1]*Dt/j),Ht=St/m,qt=Dt/j;G.push(Ct,Bt,zt),et.push(0,1,0),J.push(Ht,qt),St<m&&Dt<j&&(at.push(mt+j+1,mt+1,mt),at.push(mt+j+1,mt+j+2,mt+1)),mt++}var ue=Object(Te.generateAABBFromVertices)(G),se=this.getComponent();se.indices=Uint32Array.from(at),se.aabb=ue,se.vertexCount=mt,se.attributes=[{dirty:!0,name:"position",data:Float32Array.from(G),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(et),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(J),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(Qc))||im),am,om;function dE(l){var e=vE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function vE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var gE=(am=Object(vi.injectable)(),am(om=function(l){tf()(t,l);var e=dE(t);function t(){return $i()(this,t),e.apply(this,arguments)}return Fi()(t,[{key:"onEntityCreated",value:function(){for(var n=this.config,o=n.radius,u=o===void 0?.5:o,d=n.latitudeBands,m=d===void 0?16:d,T=n.longitudeBands,j=T===void 0?16:T,G=[],et=[],J=[],at=[],mt=0;mt<=m;mt++)for(var St=mt*Math.PI/m,Dt=Math.sin(St),Ct=Math.cos(St),Bt=0;Bt<=j;Bt++){var zt=Bt*2*Math.PI/j-Math.PI/2,Ht=Math.sin(zt),qt=Math.cos(zt),ue=qt*Dt,se=Ct,Me=Ht*Dt,ve=1-Bt/j,De=1-mt/m;G.push(ue*u,se*u,Me*u),et.push(ue,se,Me),J.push(ve,De)}for(var ye=0;ye<m;++ye)for(var pr=0;pr<j;++pr){var cr=ye*(j+1)+pr,fr=cr+j+1;at.push(cr+1,fr,cr),at.push(cr+1,fr+1,fr)}var en=Object(Te.generateAABBFromVertices)(G),sn=this.getComponent();sn.indices=Uint32Array.from(at),sn.aabb=en,sn.vertexCount=G.length/3,sn.attributes=[{dirty:!0,name:"position",data:Float32Array.from(G),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(et),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(J),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(Qc))||om),pE=i("cW+D"),Bl=i.n(pE),sm,lm,um,cm,cg,fm,hm,dm;function yE(l){var e=mE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function mE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var bE=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,OE=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,xE=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,EE=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,SE=(sm=Object(vi.injectable)(),lm=Object(vi.inject)(Te.IDENTIFIER.RenderEngine),um=Object(vi.inject)(Te.IDENTIFIER.ShaderModuleService),sm(cm=(cg=(dm=function(l){tf()(t,l);var e=yE(t);function t(){var r;$i()(this,t);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o)),Zi()(r,"engine",fm,Bl()(r)),Zi()(r,"shaderModuleService",hm,Bl()(r)),r}return Fi()(t,[{key:"onEntityCreated",value:function(){var n=this.getComponent(),o=this.engine.supportWebGPU?EE:OE,u=this.engine.supportWebGPU?xE:bE;this.shaderModuleService.registerModule("material-basic",{vs:o,fs:u});var d=this.shaderModuleService.getModule("material-basic"),m=d.vs,T=d.fs,j=d.uniforms;n.vertexShaderGLSL=m,n.fragmentShaderGLSL=T,n.setUniform(j),this.config.map&&(n.setDefines({USE_UV:1,USE_MAP:1}),n.setUniform({map:this.config.map,uvTransform:Pr.a.create()}))}}]),t}(Ey),dm),fm=Fa()(cg.prototype,"engine",[lm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hm=Fa()(cg.prototype,"shaderModuleService",[um],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cg))||cm),vm,gm,pm,ym,mm,bm,Om,dv,xm,Em,Sm,Mm;function ME(l){var e=CE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function CE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var AE=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,TE=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,DE=(vm=Object(vi.injectable)(),gm=Object(vi.inject)(Te.IDENTIFIER.Systems),pm=Object(vi.named)(Te.IDENTIFIER.MaterialSystem),ym=Object(vi.inject)(Te.IDENTIFIER.Systems),mm=Object(vi.named)(Te.IDENTIFIER.GeometrySystem),bm=Object(vi.inject)(Te.IDENTIFIER.ShaderModuleService),vm(Om=(dv=(Mm=function(l){tf()(t,l);var e=ME(t);function t(){var r;$i()(this,t);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o)),Zi()(r,"materialSystem",xm,Bl()(r)),Zi()(r,"geometrySystem",Em,Bl()(r)),Zi()(r,"shaderModuleService",Sm,Bl()(r)),r}return Fi()(t,[{key:"onAttributeChanged",value:function(n){var o=n.name,u=n.data,d=this.getMeshComponent();d&&d.material&&(o==="gridColor"?(d.material.setUniform("u_GridColor",u),d.material.setUniform("u_GridColor2",u)):o==="gridSize"&&(d.material.setUniform("u_GridSize",u),d.material.setUniform("u_GridSize2",u)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:TE,fs:AE});var n=this.shaderModuleService.getModule("grid"),o=n.vs,u=n.fs,d=n.uniforms,m=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:u});this.setMaterial(m);var T=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(T),m.setCull({enable:!1,face:Te.gl.BACK}).setDepth({enable:!0,func:Te.gl.LESS}),m.setUniform(d),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),T.setIndex([0,3,2,2,1,0]),T.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),t}(Jc),Mm),xm=Fa()(dv.prototype,"materialSystem",[gm,pm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Em=Fa()(dv.prototype,"geometrySystem",[ym,mm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sm=Fa()(dv.prototype,"shaderModuleService",[bm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dv))||Om),fg=i("RV5/"),sh=i("aUeW");function hg(l,e,t,r,n){vv(e,r,-n),vv(e,r,n),l.push(t),l.push(t)}function vv(l,e,t){l.push([[e[0],e[1]],t])}var PE=function(l,e,t){var r=[0,0],n=[0,0],o=[0,0],u=[0,0],d=-1,m=!1,T=null,j=Object(fg.create)(),G=t||0,et=3,J=[],at=[],mt=[],St=[0,0];e&&(l=l.slice(),l.push(l[0]));for(var Dt=l.length,Ct=1;Ct<Dt;Ct++){var Bt=G,zt=l[Ct-1],Ht=l[Ct],qt=Ct<l.length-1?l[Ct+1]:null;if(St.push(Ct/Dt,Ct/Dt),Object(sh.direction)(r,Ht,zt),T||(T=[0,0],Object(sh.normal)(T,r)),m||(m=!0,hg(at,J,zt,T,1)),mt.push([Bt+0,Bt+1,Bt+2]),!qt)Object(sh.normal)(T,r),hg(at,J,Ht,T,1),mt.push(d===1?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),G+=2;else{Object(sh.direction)(n,qt,Ht);var ue=Object(sh.computeMiter)(o,u,r,n,1),se=Object(fg.dot)(o,T)<0?-1:1,Me=ue>et;if(!isFinite(ue)){Object(sh.normal)(T,r),hg(at,J,Ht,T,1),mt.push(d===1?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),G+=2,d=se;continue}Me?(ue=et,St.push(Ct/Dt),vv(J,T,-se),at.push(Ht),vv(J,u,ue*se),at.push(Ht),mt.push(d!==-se?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),mt.push([Bt+2,Bt+3,Bt+4]),Object(sh.normal)(j,n),Object(fg.copy)(T,j),vv(J,T,-se),at.push(Ht),G+=3):(hg(at,J,Ht,u,ue),mt.push(d===1?[Bt,Bt+2,Bt+3]:[Bt+2,Bt+1,Bt+3]),se=-1,Object(fg.copy)(T,u),G+=2),d=se}}return{normals:J,attrIndex:mt,attrPos:at,attrCounters:St}},Cm,Am,Tm,Dm,Pm,Im,Lm,gv,Rm,jm,wm,Bm;function IE(l){var e=LE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function LE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var RE=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,jE=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,wE=(Cm=Object(vi.injectable)(),Am=Object(vi.inject)(Te.IDENTIFIER.Systems),Tm=Object(vi.named)(Te.IDENTIFIER.MaterialSystem),Dm=Object(vi.inject)(Te.IDENTIFIER.Systems),Pm=Object(vi.named)(Te.IDENTIFIER.GeometrySystem),Im=Object(vi.inject)(Te.IDENTIFIER.ShaderModuleService),Cm(Lm=(gv=(Bm=function(l){tf()(t,l);var e=IE(t);function t(){var r;$i()(this,t);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o)),Zi()(r,"materialSystem",Rm,Bl()(r)),Zi()(r,"geometrySystem",jm,Bl()(r)),Zi()(r,"shaderModuleService",wm,Bl()(r)),r.vertexCount=void 0,r}return Fi()(t,[{key:"onAttributeChanged",value:function(n){var o=n.name,u=n.data,d=this.getMeshComponent();if(d&&d.material)switch(o){case"dashArray":d.material.setUniform("u_dash_array",u);break;case"dashOffset":d.material.setUniform("u_dash_offset",u);break;case"dashRatio":d.material.setUniform("u_dash_ratio",u);break;case"thickness":d.material.setUniform("u_thickness",u);break;case"color":var m=new Array(this.vertexCount).fill(void 0).map(function(){return u}).reduce(function(T,j){return[].concat(Eo()(T),Eo()(j))},[]);d.geometry.setAttribute("a_color",Float32Array.from(m),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var n=this;this.shaderModuleService.registerModule("line",{vs:jE,fs:RE});var o=this.shaderModuleService.getModule("line"),u=o.vs,d=o.fs,m=o.uniforms,T=this.materialSystem.createShaderMaterial({vertexShader:u,fragmentShader:d}),j=PE(this.config.points,!1),G=j.normals,et=j.attrIndex,J=j.attrPos,at=j.attrCounters,mt=J.length;this.vertexCount=mt;var St=this.geometrySystem.createBufferGeometry({vertexCount:mt});this.setMaterial(T),this.setGeometry(St),T.setCull({enable:!1,face:Te.gl.BACK}).setUniform(m),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var Dt=[],Ct=[];G.forEach(function(zt){var Ht=zt[0],qt=zt[1];Dt.push([Ht[0],Ht[1]]),Ct.push(qt)}),St.setIndex(et.reduce(function(zt,Ht){return[].concat(Eo()(zt),Eo()(Ht))},[])),St.setAttribute("a_pos",Float32Array.from(J.reduce(function(zt,Ht){return[].concat(Eo()(zt),Eo()(Ht))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var Bt=new Array(mt).fill(void 0).map(function(){return Eo()(n.config.color)}).reduce(function(zt,Ht){return[].concat(Eo()(zt),Eo()(Ht))},[]);St.setAttribute("a_color",Float32Array.from(Bt),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),St.setAttribute("a_line_miter",Float32Array.from(Ct),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),St.setAttribute("a_line_normal",Float32Array.from(Dt.reduce(function(zt,Ht){return[].concat(Eo()(zt),Eo()(Ht))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),St.setAttribute("a_counters",Float32Array.from(at),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),t}(Jc),Bm),Rm=Fa()(gv.prototype,"materialSystem",[Am,Tm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jm=Fa()(gv.prototype,"geometrySystem",[Dm,Pm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wm=Fa()(gv.prototype,"shaderModuleService",[Im],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gv))||Lm);function BE(l){return[l+1&255,l+1>>8&255,l+1>>8>>8&255]}var Nm,Fm,Gm,Um,Wm,zm,Vm,pv,km,Xm,Ym,Hm;function Km(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),t.push.apply(t,r)}return t}function NE(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Km(Object(t),!0).forEach(function(r){Gr()(l,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):Km(Object(t)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(t,r))})}return l}function FE(l){var e=GE();return function(){var r=ds()(l),n;if(e){var o=ds()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef()(this,n)}}function GE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}var UE=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,WE=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,zE=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],VE=(Nm=Object(vi.injectable)(),Fm=Object(vi.inject)(Te.IDENTIFIER.Systems),Gm=Object(vi.named)(Te.IDENTIFIER.MaterialSystem),Um=Object(vi.inject)(Te.IDENTIFIER.Systems),Wm=Object(vi.named)(Te.IDENTIFIER.GeometrySystem),zm=Object(vi.inject)(Te.IDENTIFIER.ShaderModuleService),Nm(Vm=(pv=(Hm=function(l){tf()(t,l);var e=FE(t);function t(){var r;$i()(this,t);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o)),Zi()(r,"materialSystem",km,Bl()(r)),Zi()(r,"geometrySystem",Xm,Bl()(r)),Zi()(r,"shaderModuleService",Ym,Bl()(r)),r}return Fi()(t,[{key:"onAttributeChanged",value:function(n){var o=n.name,u=n.data,d=this.getMeshComponent();d&&d.material&&(o==="strokeWidth"?d.material.setUniform("u_stroke_width",u):o==="strokeColor"?d.material.setUniform("u_stroke_color",u):o==="strokeOpacity"?d.material.setUniform("u_stroke_opacity",u):o==="opacity"?d.material.setUniform("u_opacity",u):o==="blur"&&d.material.setUniform("u_blur",u))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:WE,fs:UE});var n=this.shaderModuleService.getModule("grid"),o=n.vs,u=n.fs,d=n.uniforms,m=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:u,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Te.gl.SRC_ALPHA,dstRGB:Te.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});m.setUniform(NE({u_device_pixel_ratio:window.devicePixelRatio},d));var T=this.buildAttributes(),j=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:T.instancedOffsets.length/2,vertexCount:6});j.setIndex([0,2,1,0,3,2]),j.setAttribute("position",Float32Array.from(T.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),j.setAttribute("offset",Float32Array.from(T.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),j.setAttribute("color",Float32Array.from(T.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),j.setAttribute("size",Float32Array.from(T.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),j.setAttribute("shape",Float32Array.from(T.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),j.setAttribute("a_PickingColor",Float32Array.from(T.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(m),this.setGeometry(j)}},{key:"buildAttribute",value:function(n,o,u){var d,m,T,j;(d=o.instancedPickingColors).push.apply(d,Eo()(BE(n.id||u))),o.instancedShapes.push(zE.indexOf(n.shape||"circle")),(m=o.instancedColors).push.apply(m,Eo()(n.color||[1,0,0,1])),(T=o.instancedOffsets).push.apply(T,Eo()(n.position||[0,0])),(j=o.instancedSizes).push.apply(j,Eo()(n.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var n=this,o={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(u,d){n.buildAttribute(u,o,d)}):this.buildAttribute(this.config,o,0),o}}]),t}(Jc),Hm),km=Fa()(pv.prototype,"materialSystem",[Fm,Gm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xm=Fa()(pv.prototype,"geometrySystem",[Um,Wm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ym=Fa()(pv.prototype,"shaderModuleService",[zm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pv))||Vm),_m,Zm,$m,Qm,Jm,yv,qm,t0,e0,r0;function n0(l,e){var t;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(t=kE(l))||e&&l&&typeof l.length=="number"){t&&(l=t);var r=0,n=function(){};return{s:n,n:function(){return r>=l.length?{done:!0}:{done:!1,value:l[r++]}},e:function(T){throw T},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,d;return{s:function(){t=l[Symbol.iterator]()},n:function(){var T=t.next();return o=T.done,T},e:function(T){u=!0,d=T},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(u)throw d}}}}function kE(l,e){if(!!l){if(typeof l=="string")return i0(l,e);var t=Object.prototype.toString.call(l).slice(8,-1);if(t==="Object"&&l.constructor&&(t=l.constructor.name),t==="Map"||t==="Set")return Array.from(l);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i0(l,e)}}function i0(l,e){(e==null||e>l.length)&&(e=l.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=l[t];return r}var XE=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,YE=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,HE=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,KE=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,_E=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,a0=(_m=Object(vi.injectable)(),Zm=Object(vi.inject)(Te.IDENTIFIER.RenderEngine),$m=Object(vi.inject)(Te.IDENTIFIER.ShaderModuleService),Qm=Object(vi.inject)(Te.IDENTIFIER.ConfigService),_m(Jm=(yv=(r0=function(){function l(){$i()(this,l),this.container=void 0,Zi()(this,"engine",qm,this),Zi()(this,"shaderModule",t0,this),Zi()(this,"configService",e0,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return Fi()(l,[{key:"init",value:function(){var e=ho()(Li.a.mark(function r(){var n,o,u,d,m;return Li.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:KE}),this.shaderModule.registerModule("uv.vert.main",{vs:_E}),this.shaderModule.registerModule("uv.frag.declaration",{fs:HE}),this.shaderModule.registerModule("map.frag.declaration",{fs:XE}),this.shaderModule.registerModule("map.frag.main",{fs:YE}),n=this.container.getAll(Te.IDENTIFIER.Systems),o=this.configService.get(),!o.canvas){j.next=30;break}return j.next=11,this.engine.init({canvas:o.canvas,swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:u=n0(n),j.prev=12,u.s();case 14:if((d=u.n()).done){j.next=21;break}if(m=d.value,!m.initialize){j.next=19;break}return j.next=19,m.initialize();case 19:j.next=14;break;case 21:j.next=26;break;case 23:j.prev=23,j.t0=j.catch(12),u.e(j.t0);case 26:return j.prev=26,u.f(),j.finish(26);case 29:this.inited=!0;case 30:case"end":return j.stop()}},r,this,[[12,23,26,29]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=ho()(Li.a.mark(function r(){var n,o,u,d,m,T,j,G=arguments;return Li.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!(!this.inited||this.rendering)){J.next=2;break}return J.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(at){at()}),this.rendering=!0,this.engine.beginFrame(),n=this.container.getAll(Te.IDENTIFIER.Systems),o=G.length,u=new Array(o),d=0;d<o;d++)u[d]=G[d];m=n0(n),J.prev=8,m.s();case 10:if((T=m.n()).done){J.next=17;break}if(j=T.value,!j.execute){J.next=15;break}return J.next=15,j.execute(u);case 15:J.next=10;break;case 17:J.next=22;break;case 19:J.prev=19,J.t0=J.catch(8),m.e(J.t0);case 22:return J.prev=22,m.f(),J.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return J.stop()}},r,this,[[8,19,22,25]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(t){var r=this;return this.inited?this.engine.clear(t):this.pendings.unshift(function(){r.engine.clear(t),r.pendings.shift()}),this}},{key:"setSize",value:function(t){var r=t.width,n=t.height,o=this.engine.getCanvas();return this.size={width:r,height:n},o.width=r,o.height=n,this}},{key:"getSize",value:function(){return this.size}}]),l}(),r0),qm=Fa()(yv.prototype,"engine",[Zm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t0=Fa()(yv.prototype,"shaderModule",[$m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e0=Fa()(yv.prototype,"configService",[Qm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yv))||Jm),o0,s0,l0,u0=(o0=Object(vi.injectable)(),o0(s0=(l0=function(){function l(){$i()(this,l),this.entities=[]}return Fi()(l,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(t){return this.addEntity(t.getEntity()),this}},{key:"removeRenderable",value:function(t){return this.removeEntity(t.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(t){return this.entities.indexOf(t)===-1&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var r=this.entities.indexOf(t);return this.entities.splice(r,1),this}}]),l}(),l0))||s0),c0,f0,h0,d0=(c0=Object(vi.injectable)(),c0(f0=(h0=function(){function l(){$i()(this,l),this.cache={}}return Fi()(l,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,r){this.cache[t]=r}}]),l}(),h0))||f0),v0,g0,p0,y0,dg,m0,b0,O0;function x0(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),t.push.apply(t,r)}return t}function E0(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x0(Object(t),!0).forEach(function(r){Gr()(l,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):x0(Object(t)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(t,r))})}return l}var S0=(v0=Object(vi.injectable)(),g0=Object(vi.inject)(d0),p0=Object(vi.inject)(Te.IDENTIFIER.RenderEngine),v0(y0=(dg=(O0=function(){function l(){$i()(this,l),Zi()(this,"textureCache",m0,this),Zi()(this,"engine",b0,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return Fi()(l,[{key:"setConfig",value:function(t){this.config=t}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=ho()(Li.a.mark(function r(){var n=this;return Li.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.config.url){u.next=4;break}return u.abrupt("return",new Promise(function(d,m){var T=n.textureCache.get(n.config.url);if(T)d(T);else{var j=new Image;j.crossOrigin="Anonymous",j.src=n.config.url,j.onload=function(){var G=n.engine.createTexture2D(E0(E0({},n.config),{},{data:j,width:j.width,height:j.height,flipY:!0}));n.textureCache.set(n.config.url,G),n.texture=G,n.loaded=!0,d(G)},j.onerror=function(){m()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),u.abrupt("return",this.texture);case 7:case"end":return u.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()}]),l}(),O0),m0=Fa()(dg.prototype,"textureCache",[g0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b0=Fa()(dg.prototype,"engine",[p0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dg))||y0),M0,C0,A0,T0,mp,D0,P0,I0=(M0=Object(vi.injectable)(),C0=Object(vi.inject)(Te.IDENTIFIER.Systems),A0=Object(vi.named)(Te.IDENTIFIER.RendererSystem),M0(T0=(mp=(P0=function(){function l(){$i()(this,l),Zi()(this,"rendererSystem",D0,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return Fi()(l,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),l}(),P0),D0=Fa()(mp.prototype,"rendererSystem",[C0,A0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mp))||T0),L0,R0,j0,bp,w0,B0;function N0(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),t.push.apply(t,r)}return t}function ZE(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(t),!0).forEach(function(r){Gr()(l,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):N0(Object(t)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(t,r))})}return l}var vg=(L0=Object(vi.injectable)(),R0=Object(vi.inject)(Te.IDENTIFIER.ConfigService),L0(j0=(bp=(B0=function(){function l(){$i()(this,l),Zi()(this,"configService",w0,this),this.container=void 0}return Fi()(l,[{key:"getEngine",value:function(){var e=ho()(Li.a.mark(function r(){var n,o,u,d;return Li.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return n=this.container.get(Te.IDENTIFIER.RenderEngine),o=this.configService.get(),u=o.canvas,d=o.engineOptions,T.next=4,n.init(ZE({canvas:u||iy(),swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1},d));case 4:return T.abrupt("return",n);case 5:case"end":return T.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getTransformComponent",value:function(t){var r=this.container.get(Te.IDENTIFIER.TransformComponentManager);return r.getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){var r=this.container.get(Te.IDENTIFIER.MeshComponentManager);return r.getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(Te.createEntity)()}},{key:"createScene",value:function(){return this.container.get(u0)}},{key:"createCamera",value:function(){return this.container.get(Jp)}},{key:"createView",value:function(){return this.container.get(I0)}},{key:"createRenderable",value:function(t,r){var n=t?this.container.getNamed(Te.IDENTIFIER.Renderable,t):this.container.get(Jc),o=Object(Te.createEntity)();return n.setConfig(r||{}),n.setEntity(o),n}},{key:"createGeometry",value:function(t,r){var n=this.container.getNamed(Te.IDENTIFIER.Geometry,t),o=Object(Te.createEntity)();return n.setConfig(r||{}),n.setEntity(o),n.getComponent()}},{key:"createMaterial",value:function(t,r){var n=this.container.getNamed(Te.IDENTIFIER.Material,t),o=Object(Te.createEntity)();return n.setConfig(r||{}),n.setEntity(o,t),n.getComponent()}},{key:"createTexture2D",value:function(t){var r=this.container.get(S0);return r.setConfig(t),r}},{key:"createBufferGeometry",value:function(t){var r=this.container.getNamed(Te.IDENTIFIER.Systems,Te.IDENTIFIER.GeometrySystem);return r.createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){var r=this.container.getNamed(Te.IDENTIFIER.Systems,Te.IDENTIFIER.GeometrySystem);return r.createInstancedBufferGeometry(t)}},{key:"createShaderMaterial",value:function(t){var r=this.container.getNamed(Te.IDENTIFIER.Systems,Te.IDENTIFIER.MaterialSystem);return r.createShaderMaterial(t)}},{key:"createKernel",value:function(t){var r=this.container.get(gy);return typeof t=="string"?r.setBundle(JSON.parse(t)):r.setBundle(t),r.init(),r}},{key:"createRenderer",value:function(){var t=this.container.get(a0);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){var t=this.container.getAll(Te.IDENTIFIER.Systems);t.forEach(function(o){o.tearDown&&o.tearDown()});var r=this.container.get(Te.IDENTIFIER.RenderEngine);r.destroy();var n=this.container.get(Te.IDENTIFIER.InteractorService);n.destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Object(Te.createWorldContainer)(),n=navigator.gpu?Qx:Rx;r.isBound(Te.IDENTIFIER.RenderEngine)||r.bind(Te.IDENTIFIER.RenderEngine).to(n).inSingletonScope(),r.bind(a0).toSelf(),r.bind(gy).toSelf(),r.bind(Jc).toSelf(),r.bind(I0).toSelf(),r.bind(Jp).toSelf(),r.bind(u0).toSelf(),r.bind(l).toSelf(),r.bind(d0).toSelf(),r.bind(S0).toSelf(),r.bind(Te.IDENTIFIER.Geometry).to(aE).whenTargetNamed(Qc.BOX),r.bind(Te.IDENTIFIER.Geometry).to(gE).whenTargetNamed(Qc.SPHERE),r.bind(Te.IDENTIFIER.Geometry).to(hE).whenTargetNamed(Qc.PLANE),r.bind(Te.IDENTIFIER.Geometry).to(uE).whenTargetNamed(Qc.MERGED),r.bind(Te.IDENTIFIER.Material).to(SE).whenTargetNamed(Ey.BASIC),r.bind(Te.IDENTIFIER.Renderable).to(VE).whenTargetNamed(Jc.POINT),r.bind(Te.IDENTIFIER.Renderable).to(wE).whenTargetNamed(Jc.LINE),r.bind(Te.IDENTIFIER.Renderable).to(DE).whenTargetNamed(Jc.GRID);var o=r.get(l);return o.setContainer(r),o.setConfig(t),o}}]),l}(),B0),w0=Fa()(bp.prototype,"configService",[R0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp))||j0);const ad=(l,e)=>{let t;return l?Ke(l)?t=()=>l:t=l:t=()=>e||1,t},$E=(l,e)=>{const t=[],r=[],n={};let o=0;for(o=0;o<l.length;o++){const d=l[o];n[d.id]=o,t.push(d.x),t.push(d.y),t.push(0),t.push(0),r.push([])}for(o=0;o<e.length;o++){const d=e[o];r[n[d.source]].push(n[d.target]),r[n[d.target]].push(n[d.source])}let u=0;for(o=0;o<l.length;o++){const d=t.length,m=r[o],T=m.length;t[o*4+2]=d,t[o*4+3]=m.length,u=Math.max(u,m.length);for(let j=0;j<T;++j){const G=m[j];t.push(+G)}}for(;t.length%4!=0;)t.push(0);return{maxEdgePerVetex:u,array:new Float32Array(t)}},QE=(l,e,t,r)=>{const n=[],o=[],u={};let d=0;for(d=0;d<l.length;d++){const T=l[d];u[T.id]=d,n.push(T.x),n.push(T.y),n.push(0),n.push(0),o.push([])}for(d=0;d<e.length;d++){const T=e[d];o[u[T.source]].push(u[T.target]),o[u[T.source]].push(t(T)),o[u[T.source]].push(r(T)),o[u[T.source]].push(0),o[u[T.target]].push(u[T.source]),o[u[T.target]].push(t(T)),o[u[T.target]].push(r(T)),o[u[T.target]].push(0)}let m=0;for(d=0;d<l.length;d++){const T=n.length,j=o[d],G=j.length;n[d*4+2]=T+1048576*G/4,n[d*4+3]=0,m=Math.max(m,G/4);for(let et=0;et<G;++et){const J=j[et];n.push(+J)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:m,array:new Float32Array(n)}},JE=(l,e)=>{const t=[],r=l.length,n={};return e.forEach(o=>{l.forEach((u,d)=>{if(n[o[u]]===void 0&&(n[o[u]]=Object.keys(n).length),t.push(n[o[u]]),d===r-1)for(;t.length%4!=0;)t.push(0)})}),{array:new Float32Array(t),count:Object.keys(n).length}},F0=l=>{const e=[],t=l.length,r=l[0].length;for(let n=0;n<r;n++)l.forEach((o,u)=>{if(e.push(o[n]),u===t-1)for(;e.length%4!=0;)e.push(0)});return new Float32Array(e)},oA=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,qE='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',sA=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,t1='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}';var gg=function(l,e,t,r){function n(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(j){try{T(r.next(j))}catch(G){u(G)}}function m(j){try{T(r.throw(j))}catch(G){u(G)}}function T(j){j.done?o(j.value):n(j.value).then(d,m)}T((r=r.apply(l,e||[])).next())})};class e1 extends Ye{constructor(e){super();this.maxIteration=1e3,this.gravity=10,this.speed=1,this.clustering=!1,this.clusterField="cluster",this.clusterGravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){return gg(this,void 0,void 0,function*(){const e=this,t=e.nodes;if(!t||t.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const r=e.center;if(t.length===1){t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}const n={},o={};t.forEach((u,d)=>{Ke(u.x)||(u.x=Math.random()*this.width),Ke(u.y)||(u.y=Math.random()*this.height),n[u.id]=u,o[u.id]=d}),e.nodeMap=n,e.nodeIdxMap=o,yield e.run()})}executeWithWorker(e,t){return gg(this,void 0,void 0,function*(){const r=this,n=r.nodes,o=r.center;if(!n||n.length===0)return;if(n.length===1){n[0].x=o[0],n[0].y=o[1];return}const u={},d={};n.forEach((m,T)=>{Ke(m.x)||(m.x=Math.random()*this.width),Ke(m.y)||(m.y=Math.random()*this.height),u[m.id]=m,d[m.id]=T}),r.nodeMap=u,r.nodeIdxMap=d,yield r.run(e,t)})}run(e,t){return gg(this,void 0,void 0,function*(){const r=this,n=r.nodes,o=r.edges,u=r.maxIteration,d=r.center,m=r.height*r.width;let T=Math.sqrt(m)/10;const j=m/(n.length+1),G=Math.sqrt(j),et=r.speed,J=r.clustering,{array:at,count:mt}=JE([r.clusterField],n);n.forEach((ve,De)=>{let ye=0,pr=0;Ke(ve.fx)&&Ke(ve.fy)&&(ye=ve.fx||.001,pr=ve.fy||.001),at[4*De+1]=ye,at[4*De+2]=pr});const St=n.length,{maxEdgePerVetex:Dt,array:Ct}=$E(n,o),Bt=r.workerEnabled;let zt;Bt?zt=vg.create({canvas:e,engineOptions:{supportCompute:!0}}):zt=vg.create({engineOptions:{supportCompute:!0}});const Ht=r.onLayoutEnd,qt=[];for(let ve=0;ve<mt;ve++)qt.push(0,0,0,0);const ue=zt.createKernel(qE).setDispatch([St,1,1]).setBinding({u_Data:Ct,u_K:G,u_K2:j,u_Gravity:r.gravity,u_ClusterGravity:r.clusterGravity||r.gravity||1,u_Speed:et,u_MaxDisplace:T,u_Clustering:J?1:0,u_Center:d,u_AttributeArray:at,u_ClusterCenters:qt,MAX_EDGE_PER_VERTEX:Dt,VERTEX_COUNT:St});let se;J&&(se=zt.createKernel(t1).setDispatch([mt,1,1]).setBinding({u_Data:Ct,u_NodeAttributes:at,u_ClusterCenters:qt,VERTEX_COUNT:St,CLUSTER_COUNT:mt})),yield(()=>gg(this,void 0,void 0,function*(){for(let De=0;De<u;De++)yield ue.execute(),J&&(se.setBinding({u_Data:ue}),yield se.execute(),ue.setBinding({u_ClusterCenters:se})),ue.setBinding({u_MaxDisplace:T*=.99});const ve=yield ue.getOutput();e?t.postMessage({type:Qd.GPUEND,vertexEdgeData:ve}):n.forEach((De,ye)=>{const pr=ve[4*ye],cr=ve[4*ye+1];De.x=pr,De.y=cr}),Ht&&Ht()}))()})}getType(){return"fruchterman-gpu"}}const lA=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,r1='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',uA=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,n1='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}';var Op=function(l,e,t,r){function n(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(j){try{T(r.next(j))}catch(G){u(G)}}function m(j){try{T(r.throw(j))}catch(G){u(G)}}function T(j){j.done?o(j.value):n(j.value).then(d,m)}T((r=r.apply(l,e||[])).next())})};class i1 extends Ye{constructor(e){super();this.maxIteration=1e3,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}execute(){return Op(this,void 0,void 0,function*(){const e=this,t=e.nodes;if(!t||t.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const r=e.center;if(t.length===1){t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}const n={},o={};t.forEach((u,d)=>{Ke(u.x)||(u.x=Math.random()*e.width),Ke(u.y)||(u.y=Math.random()*e.height),n[u.id]=u,o[u.id]=d}),e.nodeMap=n,e.nodeIdxMap=o,e.nodeStrength=ad(e.nodeStrength,1),e.edgeStrength=ad(e.edgeStrength,1),yield e.run()})}executeWithWorker(e,t){const r=this,n=r.nodes,o=r.center;if(!n||n.length===0)return;if(n.length===1){n[0].x=o[0],n[0].y=o[1];return}const u={},d={};n.forEach((m,T)=>{Ke(m.x)||(m.x=Math.random()*r.width),Ke(m.y)||(m.y=Math.random()*r.height),u[m.id]=m,d[m.id]=T}),r.nodeMap=u,r.nodeIdxMap=d,r.nodeStrength=ad(r.nodeStrength,1),r.edgeStrength=ad(r.edgeStrength,1),r.run(e,t)}run(e,t){return Op(this,void 0,void 0,function*(){const r=this,n=r.nodes,o=r.edges,u=r.maxIteration;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);const d=n.length;r.linkDistance=ad(r.linkDistance),r.edgeStrength=ad(r.edgeStrength);const{maxEdgePerVetex:m,array:T}=QE(n,o,r.linkDistance,r.edgeStrength);r.degrees=on(n.length,r.nodeIdxMap,o);const j=[],G=[],et=[],J=[],at=[],mt=[],St=[];r.getMass||(r.getMass=ye=>r.degrees[r.nodeIdxMap[ye.id]]||1);const Dt=r.gravity,Ct=r.center;n.forEach((ye,pr)=>{j.push(r.getMass(ye)),G.push(r.nodeStrength(ye)),r.degrees[pr]||(r.degrees[pr]=0);let cr=[Ct[0],Ct[1],Dt];if(r.getCenter){const fr=r.getCenter(ye,r.degrees[pr]);fr&&Ke(fr[0])&&Ke(fr[1])&&Ke(fr[2])&&(cr=fr)}et.push(cr[0]),J.push(cr[1]),at.push(cr[2]),Ke(ye.fx)&&Ke(ye.fy)?(mt.push(ye.fx||.001),St.push(ye.fy||.001)):(mt.push(0),St.push(0))});const Bt=F0([j,r.degrees,G,mt]),zt=F0([et,J,at,St]),Ht=r.workerEnabled;let qt;Ht?qt=vg.create({canvas:e,engineOptions:{supportCompute:!0}}):qt=vg.create({engineOptions:{supportCompute:!0}});const ue=r.onLayoutEnd,se=[];T.forEach(ye=>{se.push(ye)});for(let ye=0;ye<4;ye++)se.push(0);const Me=qt.createKernel(r1).setDispatch([d,1,1]).setBinding({u_Data:T,u_damping:r.damping,u_maxSpeed:r.maxSpeed,u_minMovement:r.minMovement,u_coulombDisScale:r.coulombDisScale,u_factor:r.factor,u_NodeAttributeArray1:Bt,u_NodeAttributeArray2:zt,MAX_EDGE_PER_VERTEX:m,VERTEX_COUNT:d,u_AveMovement:se,u_interval:r.interval}),ve=qt.createKernel(n1).setDispatch([1,1,1]).setBinding({u_Data:T,VERTEX_COUNT:d,u_AveMovement:[0,0,0,0]});yield(()=>Op(this,void 0,void 0,function*(){for(let pr=0;pr<u;pr++){yield Me.execute(),ve.setBinding({u_Data:Me}),yield ve.execute();const cr=Math.max(.02,r.interval-pr*.002);Me.setBinding({u_interval:cr,u_AveMovement:ve})}const ye=yield Me.getOutput();e?t.postMessage({type:Qd.GPUEND,vertexEdgeData:ye}):n.forEach((pr,cr)=>{const fr=ye[4*cr],en=ye[4*cr+1];pr.x=fr,pr.y=en}),ue&&ue()}))()})}getType(){return"gForce-gpu"}}class a1 extends Ye{constructor(e){super();this.center=[0,0],this.maxIteration=100,this.gravity=10,this.comboGravity=10,this.linkDistance=10,this.alpha=1,this.alphaMin=.001,this.alphaDecay=1-Math.pow(this.alphaMin,1/300),this.alphaTarget=0,this.velocityDecay=.6,this.edgeStrength=.6,this.nodeStrength=30,this.preventOverlap=!1,this.preventNodeOverlap=!1,this.preventComboOverlap=!1,this.collideStrength=void 0,this.nodeCollideStrength=.5,this.comboCollideStrength=.5,this.comboSpacing=20,this.comboPadding=10,this.optimizeRangeFactor=1,this.onTick=()=>{},this.onLayoutEnd=()=>{},this.depthAttractiveForceScale=1,this.depthRepulsiveForceScale=2,this.nodes=[],this.edges=[],this.combos=[],this.comboTrees=[],this.width=300,this.height=300,this.bias=[],this.nodeMap={},this.oriComboMap={},this.indexMap={},this.comboMap={},this.previousLayouted=!1,this.updateCfg(e)}getDefaultCfg(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}execute(){const e=this,t=e.nodes,r=e.center;if(e.comboTree={id:"comboTreeRoot",depth:-1,children:e.comboTrees},!t||t.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}if(t.length===1){t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}run(){const e=this,t=e.nodes,r=e.previousLayouted?e.maxIteration/5:e.maxIteration;!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight);const n=e.center,o=e.velocityDecay,u=e.comboMap;e.previousLayouted||e.initPos(u);for(let T=0;T<r;T++){const j=[];t.forEach((G,et)=>{j[et]={x:0,y:0}}),e.applyCalculate(j),e.applyComboCenterForce(j),t.forEach((G,et)=>{!Ke(G.x)||!Ke(G.y)||(G.x+=j[et].x*o,G.y+=j[et].y*o)}),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()}const d=[0,0];t.forEach(T=>{!Ke(T.x)||!Ke(T.y)||(d[0]+=T.x,d[1]+=T.y)}),d[0]/=t.length,d[1]/=t.length;const m=[n[0]-d[0],n[1]-d[1]];t.forEach((T,j)=>{!Ke(T.x)||!Ke(T.y)||(T.x+=m[0],T.y+=m[1])}),e.combos.forEach(T=>{const j=u[T.id];j&&j.empty&&(T.x=j.cx||T.x,T.y=j.cy||T.y)}),e.previousLayouted=!0}initVals(){const e=this,t=e.edges,r=e.nodes,n=e.combos,o={},u={},d={};r.forEach((ve,De)=>{u[ve.id]=ve,d[ve.id]=De}),e.nodeMap=u,e.indexMap=d;const m={};n.forEach(ve=>{m[ve.id]=ve}),e.oriComboMap=m,e.comboMap=e.getComboMap();const T=e.preventOverlap;e.preventComboOverlap=e.preventComboOverlap||T,e.preventNodeOverlap=e.preventNodeOverlap||T;const j=e.collideStrength;j&&(e.comboCollideStrength=j,e.nodeCollideStrength=j),e.comboCollideStrength=e.comboCollideStrength?e.comboCollideStrength:0,e.nodeCollideStrength=e.nodeCollideStrength?e.nodeCollideStrength:0;for(let ve=0;ve<t.length;++ve)o[t[ve].source]?o[t[ve].source]++:o[t[ve].source]=1,o[t[ve].target]?o[t[ve].target]++:o[t[ve].target]=1;const G=[];for(let ve=0;ve<t.length;++ve)G[ve]=o[t[ve].source]/(o[t[ve].source]+o[t[ve].target]);this.bias=G;const et=e.nodeSize,J=e.nodeSpacing;let at,mt;if(Ke(J)?mt=()=>J:An(J)?mt=J:mt=()=>0,this.nodeSpacing=mt,!et)at=ve=>ve.size?dn(ve.size)?(ve.size[0]>ve.size[1]?ve.size[0]:ve.size[1])/2:ve.size/2:10;else if(An(et))at=ve=>et(ve);else if(dn(et)){const De=(et[0]>et[1]?et[0]:et[1])/2;at=ye=>De}else{const ve=et/2;at=De=>ve}this.nodeSize=at;const St=e.comboSpacing;let Dt;Ke(St)?Dt=()=>St:An(St)?Dt=St:Dt=()=>0,this.comboSpacing=Dt;const Ct=e.comboPadding;let Bt;Ke(Ct)?Bt=()=>Ct:dn(Ct)?Bt=()=>Math.max.apply(null,Ct):An(Ct)?Bt=Ct:Bt=()=>0,this.comboPadding=Bt;let zt=this.linkDistance,Ht;zt||(zt=10),Ke(zt)?Ht=ve=>zt:Ht=zt,this.linkDistance=Ht;let qt=this.edgeStrength,ue;qt||(qt=1),Ke(qt)?ue=ve=>qt:ue=qt,this.edgeStrength=ue;let se=this.nodeStrength,Me;se||(se=30),Ke(se)?Me=ve=>se:Me=se,this.nodeStrength=Me}initPos(e){this.nodes.forEach((n,o)=>{const u=n.comboId,d=e[u];u&&d?(n.x=d.cx+100/(o+1),n.y=d.cy+100/(o+1)):(n.x=100/(o+1),n.y=100/(o+1))})}getComboMap(){const e=this,t=e.nodeMap,r=e.indexMap,n=e.comboTrees,o=e.oriComboMap,u={};return(n||[]).forEach(d=>{const m=[];Fr(d,T=>{if(T.itemType==="node"||!o[T.id])return!0;if(u[T.id]===void 0){const et={id:T.id,name:T.id,cx:0,cy:0,count:0,depth:e.oriComboMap[T.id].depth||0,children:[]};u[T.id]=et}const j=T.children;j&&j.forEach(et=>{if(!u[et.id]&&!t[et.id])return!0;m.push(et)});const G=u[T.id];if(G.cx=0,G.cy=0,m.length===0){G.empty=!0;const et=o[T.id],J=Object.keys(t).length,at=`${T.id}-visual-child-${J}`,mt={id:at,x:et.x,y:et.y,depth:G.depth+1,itemType:"node"};e.nodes.push(mt),t[at]=mt,r[at]=J,G.cx=et.x,G.cy=et.y,m.push(mt)}return m.forEach(et=>{if(G.count++,et.itemType!=="node"){const at=u[et.id];Ke(at.cx)&&(G.cx+=at.cx),Ke(at.cy)&&(G.cy+=at.cy);return}const J=t[et.id];!J||(Ke(J.x)&&(G.cx+=J.x),Ke(J.y)&&(G.cy+=J.y))}),G.cx/=G.count,G.cy/=G.count,G.children=m,!0})}),u}applyComboCenterForce(e){const t=this,r=t.gravity,n=t.comboGravity||r,o=this.alpha,u=t.comboTrees,d=t.indexMap,m=t.nodeMap,T=t.comboMap;(u||[]).forEach(j=>{Fr(j,G=>{if(G.itemType==="node"||!T[G.id])return!0;const J=T[G.id],at=(J.depth+1)/10*.5,mt=J.cx,St=J.cy;return J.cx=0,J.cy=0,J.children.forEach(Dt=>{if(Dt.itemType!=="node"){const se=T[Dt.id];se&&Ke(se.cx)&&(J.cx+=se.cx),se&&Ke(se.cy)&&(J.cy+=se.cy);return}const Ct=m[Dt.id],Bt=Ct.x-mt||.005,zt=Ct.y-St||.005,Ht=Math.sqrt(Bt*Bt+zt*zt),qt=d[Ct.id],ue=n*o/Ht*at;e[qt].x-=Bt*ue,e[qt].y-=zt*ue,Ke(Ct.x)&&(J.cx+=Ct.x),Ke(Ct.y)&&(J.cy+=Ct.y)}),J.cx/=J.count,J.cy/=J.count,!0})})}applyCalculate(e){const t=this,r=t.comboMap,n=t.nodes,o={};n.forEach((d,m)=>{n.forEach((T,j)=>{if(m<j)return;const G=d.x-T.x||.005,et=d.y-T.y||.005;let J=G*G+et*et;const at=Math.sqrt(J);J<1&&(J=at),o[`${d.id}-${T.id}`]={vx:G,vy:et,vl2:J,vl:at},o[`${T.id}-${d.id}`]={vl2:J,vl:at,vx:-G,vy:-et}})}),t.updateComboSizes(r),t.calRepulsive(e,o),t.calAttractive(e,o),t.preventComboOverlap&&t.comboNonOverlapping(e,r)}updateComboSizes(e){const t=this,r=t.comboTrees,n=t.nodeMap,o=t.nodeSize,u=t.comboSpacing,d=t.comboPadding;(r||[]).forEach(m=>{const T=[];Fr(m,j=>{if(j.itemType==="node")return!0;const G=e[j.id];if(!G)return!1;const et=j.children;et&&et.forEach(mt=>{!e[mt.id]&&!n[mt.id]||T.push(mt)}),G.minX=Infinity,G.minY=Infinity,G.maxX=-Infinity,G.maxY=-Infinity,T.forEach(mt=>{if(mt.itemType!=="node")return!0;const St=n[mt.id];if(!St)return!0;const Dt=o(St),Ct=St.x-Dt,Bt=St.y-Dt,zt=St.x+Dt,Ht=St.y+Dt;G.minX>Ct&&(G.minX=Ct),G.minY>Bt&&(G.minY=Bt),G.maxX<zt&&(G.maxX=zt),G.maxY<Ht&&(G.maxY=Ht)});let J=t.oriComboMap[j.id].size||10;dn(J)&&(J=J[0]);const at=Math.max(G.maxX-G.minX,G.maxY-G.minY,J);return G.r=at/2+u(G)/2+d(G),!0})})}comboNonOverlapping(e,t){const r=this,n=r.comboTree,o=r.comboCollideStrength,u=r.indexMap,d=r.nodeMap;Fr(n,m=>{if(!t[m.id]&&!d[m.id]&&m.id!=="comboTreeRoot")return!1;const T=m.children;return T&&T.length>1&&T.forEach((j,G)=>{if(j.itemType==="node")return!1;const et=t[j.id];!et||T.forEach((J,at)=>{if(G<=at||J.itemType==="node")return!1;const mt=t[J.id];if(!mt)return!1;const St=et.cx-mt.cx||.005,Dt=et.cy-mt.cy||.005,Ct=St*St+Dt*Dt,Bt=et.r||1,zt=mt.r||1,Ht=Bt+zt,qt=zt*zt,ue=Bt*Bt;if(Ct<Ht*Ht){const se=j.children;if(!se||se.length===0)return!1;const Me=J.children;if(!Me||Me.length===0)return!1;const ve=Math.sqrt(Ct),De=(Ht-ve)/ve*o,ye=St*De,pr=Dt*De,cr=qt/(ue+qt),fr=1-cr;se.forEach(en=>{if(en.itemType!=="node")return!1;if(!d[en.id])return;const sn=u[en.id];Me.forEach(Yr=>{if(Yr.itemType!=="node"||!d[Yr.id])return!1;const rn=u[Yr.id];e[sn].x+=ye*cr,e[sn].y+=pr*cr,e[rn].x-=ye*fr,e[rn].y-=pr*fr})})}})}),!0})}calRepulsive(e,t){const r=this,n=r.nodes,o=r.width*r.optimizeRangeFactor,u=r.nodeStrength,d=r.alpha,m=r.nodeCollideStrength,T=r.preventNodeOverlap,j=r.nodeSize,G=r.nodeSpacing,et=r.depthRepulsiveForceScale,J=r.center;n.forEach((at,mt)=>{if(!(!at.x||!at.y)){if(J){const St=r.gravity,Dt=at.x-J[0]||.005,Ct=at.y-J[1]||.005,Bt=Math.sqrt(Dt*Dt+Ct*Ct);e[mt].x-=Dt*St*d/Bt,e[mt].y-=Ct*St*d/Bt}n.forEach((St,Dt)=>{if(mt===Dt||!St.x||!St.y)return;const{vl2:Ct,vl:Bt}=t[`${at.id}-${St.id}`];if(Bt>o)return;const{vx:zt,vy:Ht}=t[`${at.id}-${St.id}`];let qt=Math.log(Math.abs(St.depth-at.depth)/10)+1||1;qt=qt<1?1:qt,St.comboId!==at.comboId&&(qt+=1);const ue=qt?Math.pow(et,qt):1,se=u(St)*d/Ct*ue;if(e[mt].x+=zt*se,e[mt].y+=Ht*se,mt<Dt&&T){const Me=j(at)+G(at)||1,ve=j(St)+G(St)||1,De=Me+ve;if(Ct<De*De){const ye=(De-Bt)/Bt*m,pr=ve*ve;let cr=pr/(Me*Me+pr);const fr=zt*ye,en=Ht*ye;e[mt].x+=fr*cr,e[mt].y+=en*cr,cr=1-cr,e[Dt].x-=fr*cr,e[Dt].y-=en*cr}}})}})}calAttractive(e,t){const r=this,n=r.edges,o=r.linkDistance,u=r.alpha,d=r.edgeStrength,m=r.bias,T=r.depthAttractiveForceScale;n.forEach((j,G)=>{if(!j.source||!j.target||j.source===j.target)return;const et=r.indexMap[j.source],J=r.indexMap[j.target],at=r.nodeMap[j.source],mt=r.nodeMap[j.target];if(!at||!mt)return;let St=at.depth===mt.depth?0:Math.log(Math.abs(at.depth-mt.depth)/10);at.comboId===mt.comboId&&(St=St/2);let Dt=St?Math.pow(T,St):1;if(at.comboId!==mt.comboId&&Dt===1?Dt=T/2:at.comboId===mt.comboId&&(Dt=2),!Ke(mt.x)||!Ke(at.x)||!Ke(mt.y)||!Ke(at.y))return;const{vl:Ct,vx:Bt,vy:zt}=t[`${j.target}-${j.source}`],Ht=(Ct-o(j))/Ct*u*d(j)*Dt,qt=Bt*Ht,ue=zt*Ht,se=m[G];e[J].x-=qt*se,e[J].y-=ue*se,e[et].x+=qt*(1-se),e[et].y+=ue*(1-se)})}getType(){return"comboForce"}}class xp{constructor(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}distanceTo(e){const t=this.rx-e.rx,r=this.ry-e.ry;return Math.hypot(t,r)}setPos(e,t){this.rx=e,this.ry=t}resetForce(){this.fx=0,this.fy=0}addForce(e){const t=e.rx-this.rx,r=e.ry-this.ry;let n=Math.hypot(t,r);n=n<1e-4?1e-4:n;const o=this.g*(this.degree+1)*(e.degree+1)/n;this.fx+=o*t/n,this.fy+=o*r/n}in(e){return e.contains(this.rx,this.ry)}add(e){const t=this.mass+e.mass,r=(this.rx*this.mass+e.rx*e.mass)/t,n=(this.ry*this.mass+e.ry*e.mass)/t,o=this.degree+e.degree,u={rx:r,ry:n,mass:t,degree:o};return new xp(u)}}class od{constructor(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}getLength(){return this.length}contains(e,t){const r=this.length/2;return e<=this.xmid+r&&e>=this.xmid-r&&t<=this.ymid+r&&t>=this.ymid-r}NW(){const e=this.xmid-this.length/4,t=this.ymid+this.length/4,r=this.length/2,n={xmid:e,ymid:t,length:r};return new od(n)}NE(){const e=this.xmid+this.length/4,t=this.ymid+this.length/4,r=this.length/2,n={xmid:e,ymid:t,length:r};return new od(n)}SW(){const e=this.xmid-this.length/4,t=this.ymid-this.length/4,r=this.length/2,n={xmid:e,ymid:t,length:r};return new od(n)}SE(){const e=this.xmid+this.length/4,t=this.ymid-this.length/4,r=this.length/2,n={xmid:e,ymid:t,length:r};return new od(n)}}class sd{constructor(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,e!=null&&(this.quad=e)}insert(e){if(this.body==null){this.body=e;return}this._isExternal()?(this.quad&&(this.NW=new sd(this.quad.NW()),this.NE=new sd(this.quad.NE()),this.SW=new sd(this.quad.SW()),this.SE=new sd(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e))}_putBody(e){!this.quad||(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(e){if(!(this.body==null||e===this.body))if(this._isExternal())e.addForce(this.body);else{const t=this.quad?this.quad.getLength():0,r=this.body.distanceTo(e);t/r<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e))}}}class o1 extends Ye{constructor(e){super();this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.kr=5,this.kg=1,this.mode="normal",this.preventOverlap=!1,this.dissuadeHubs=!1,this.barnesHut=!1,this.maxIteration=0,this.ks=.1,this.ksmax=10,this.tao=.1,this.onLayoutEnd=()=>{},this.prune=!1,this.updateCfg(e)}getDefaultCfg(){return{}}execute(){const e=this;let{nodes:t,maxIteration:r,onLayoutEnd:n,prune:o}=e;!e.width&&typeof window!="undefined"&&(e.width=window.innerWidth),!e.height&&typeof window!="undefined"&&(e.height=window.innerHeight);const u=[],d=t.length;for(let m=0;m<d;m+=1){const T=t[m];let j=10,G=10;Ke(T.size)&&(j=T.size,G=T.size),dn(T.size)&&(isNaN(T.size[0])||(j=T.size[0]),isNaN(T.size[1])||(G=T.size[1])),e.getWidth&&!isNaN(e.getWidth(T))&&(G=e.getWidth(T)),e.getHeight&&!isNaN(e.getHeight(T))&&(j=e.getHeight(T));const et=Math.max(j,G);u.push(et)}!e.barnesHut&&d>250&&(e.barnesHut=!0),!e.prune&&d>100&&(e.prune=!0),this.maxIteration===0&&!e.prune?(r=250,d<=200&&d>100?r=1e3:d>200&&(r=1200),this.maxIteration=r):this.maxIteration===0&&o&&(r=100,d<=200&&d>100?r=500:d>200&&(r=950),this.maxIteration=r),e.kr||(e.kr=50,d>100&&d<=500?e.kr=20:d>500&&(e.kr=1)),e.kg||(e.kg=20,d>100&&d<=500?e.kg=10:d>500&&(e.kg=1)),this.nodes=e.updateNodesByForces(u),n()}updateNodesByForces(e){const t=this;let{nodes:r,edges:n,maxIteration:o}=t;const u=n.filter(at=>at.source!==at.target),d=r.length,m=u.length,T=[],j={},G={},et=[];for(let at=0;at<d;at+=1)j[r[at].id]=at,T[at]=0,(r[at].x===void 0||isNaN(r[at].x))&&(r[at].x=Math.random()*1e3),(r[at].y===void 0||isNaN(r[at].y))&&(r[at].y=Math.random()*1e3),et.push({x:r[at].x,y:r[at].y});for(let at=0;at<m;at+=1){let mt,St,Dt=0,Ct=0;for(let Bt=0;Bt<d;Bt+=1)r[Bt].id===u[at].source?(mt=r[Bt],Dt=Bt):r[Bt].id===u[at].target&&(St=r[Bt],Ct=Bt),G[at]={sourceIdx:Dt,targetIdx:Ct};mt&&(T[j[mt.id]]+=1),St&&(T[j[St.id]]+=1)}let J=o;if(r=this.iterate(J,j,G,m,T,e),t.prune){for(let at=0;at<m;at+=1)T[G[at].sourceIdx]<=1?(r[G[at].sourceIdx].x=r[G[at].targetIdx].x,r[G[at].sourceIdx].y=r[G[at].targetIdx].y):T[G[at].targetIdx]<=1&&(r[G[at].targetIdx].x=r[G[at].sourceIdx].x,r[G[at].targetIdx].y=r[G[at].sourceIdx].y);t.prune=!1,t.barnesHut=!1,J=100,r=this.iterate(J,j,G,m,T,e)}return r}iterate(e,t,r,n,o,u){const d=this;let{nodes:m,kr:T,preventOverlap:j,barnesHut:G}=d;const et=m.length;let J=0;const at=100;let mt=e;const St=50;let Dt=[];const Ct=[],Bt=[];for(let zt=0;zt<et;zt+=1)if(Dt[2*zt]=0,Dt[2*zt+1]=0,G){let Ht={id:zt,rx:m[zt].x,ry:m[zt].y,mass:1,g:T,degree:o[zt]};Bt[zt]=new xp(Ht)}for(;mt>0;){for(let Ht=0;Ht<et;Ht+=1)Ct[2*Ht]=Dt[2*Ht],Ct[2*Ht+1]=Dt[2*Ht+1],Dt[2*Ht]=0,Dt[2*Ht+1]=0;Dt=this.getAttrForces(mt,St,n,t,r,o,u,Dt),G&&(j&&mt>St||!j)?Dt=this.getOptRepGraForces(Dt,Bt,o):Dt=this.getRepGraForces(mt,St,Dt,at,u,o);const zt=this.updatePos(Dt,Ct,J,o);m=zt.nodes,J=zt.sg,mt--,d.tick&&d.tick()}return m}getAttrForces(e,t,r,n,o,u,d,m){const T=this,{nodes:j,preventOverlap:G,dissuadeHubs:et,mode:J,prune:at}=T;for(let mt=0;mt<r;mt+=1){const St=j[o[mt].sourceIdx],Dt=o[mt].sourceIdx,Ct=j[o[mt].targetIdx],Bt=o[mt].targetIdx;if(at&&(u[Dt]<=1||u[Bt]<=1))continue;let zt=[Ct.x-St.x,Ct.y-St.y],Ht=Math.hypot(zt[0],zt[1]);Ht=Ht<1e-4?1e-4:Ht,zt[0]=zt[0]/Ht,zt[1]=zt[1]/Ht,G&&e<t&&(Ht=Ht-d[Dt]-d[Bt]);let qt=Ht,ue=qt;J==="linlog"&&(qt=Math.log(1+Ht),ue=qt),et&&(qt=Ht/u[Dt],ue=Ht/u[Bt]),G&&e<t&&Ht<=0?(qt=0,ue=0):G&&e<t&&Ht>0&&(qt=Ht,ue=Ht),m[2*n[St.id]]+=qt*zt[0],m[2*n[Ct.id]]-=ue*zt[0],m[2*n[St.id]+1]+=qt*zt[1],m[2*n[Ct.id]+1]-=ue*zt[1]}return m}getRepGraForces(e,t,r,n,o,u){const d=this,{nodes:m,preventOverlap:T,kr:j,kg:G,center:et,prune:J}=d,at=m.length;for(let mt=0;mt<at;mt+=1){for(let Bt=mt+1;Bt<at;Bt+=1){if(J&&(u[mt]<=1||u[Bt]<=1))continue;let zt=[m[Bt].x-m[mt].x,m[Bt].y-m[mt].y],Ht=Math.hypot(zt[0],zt[1]);Ht=Ht<1e-4?1e-4:Ht,zt[0]=zt[0]/Ht,zt[1]=zt[1]/Ht,T&&e<t&&(Ht=Ht-o[mt]-o[Bt]);let qt=j*(u[mt]+1)*(u[Bt]+1)/Ht;T&&e<t&&Ht<0?qt=n*(u[mt]+1)*(u[Bt]+1):T&&e<t&&Ht===0?qt=0:T&&e<t&&Ht>0&&(qt=j*(u[mt]+1)*(u[Bt]+1)/Ht),r[2*mt]-=qt*zt[0],r[2*Bt]+=qt*zt[0],r[2*mt+1]-=qt*zt[1],r[2*Bt+1]+=qt*zt[1]}let St=[m[mt].x-et[0],m[mt].y-et[1]];const Dt=Math.hypot(St[0],St[1]);St[0]=St[0]/Dt,St[1]=St[1]/Dt;const Ct=G*(u[mt]+1);r[2*mt]-=Ct*St[0],r[2*mt+1]-=Ct*St[1]}return r}getOptRepGraForces(e,t,r){const n=this,{nodes:o,kg:u,center:d,prune:m}=n,T=o.length;let j=9e10,G=-9e10,et=9e10,J=-9e10;for(let Ct=0;Ct<T;Ct+=1)m&&r[Ct]<=1||(t[Ct].setPos(o[Ct].x,o[Ct].y),o[Ct].x>=G&&(G=o[Ct].x),o[Ct].x<=j&&(j=o[Ct].x),o[Ct].y>=J&&(J=o[Ct].y),o[Ct].y<=et&&(et=o[Ct].y));let at=Math.max(G-j,J-et),mt={xmid:(G+j)/2,ymid:(J+et)/2,length:at,massCenter:d,mass:T},St=new od(mt),Dt=new sd(St);for(let Ct=0;Ct<T;Ct+=1)m&&r[Ct]<=1||t[Ct].in(St)&&Dt.insert(t[Ct]);for(let Ct=0;Ct<T;Ct+=1){if(m&&r[Ct]<=1)continue;t[Ct].resetForce(),Dt.updateForce(t[Ct]),e[2*Ct]-=t[Ct].fx,e[2*Ct+1]-=t[Ct].fy;let Bt=[o[Ct].x-d[0],o[Ct].y-d[1]],zt=Math.hypot(Bt[0],Bt[1]);zt=zt<1e-4?1e-4:zt,Bt[0]=Bt[0]/zt,Bt[1]=Bt[1]/zt;let Ht=u*(r[Ct]+1);e[2*Ct]-=Ht*Bt[0],e[2*Ct+1]-=Ht*Bt[1]}return e}updatePos(e,t,r,n){const o=this;let{nodes:u,ks:d,tao:m,prune:T,ksmax:j}=o;const G=u.length;let et=[],J=[],at=0,mt=0;for(let Dt=0;Dt<G;Dt+=1){if(T&&n[Dt]<=1)continue;const Ct=[e[2*Dt]-t[2*Dt],e[2*Dt+1]-t[2*Dt+1]],Bt=Math.hypot(Ct[0],Ct[1]),zt=[e[2*Dt]+t[2*Dt],e[2*Dt+1]+t[2*Dt+1]],Ht=Math.hypot(zt[0],zt[1]);et[Dt]=Bt,J[Dt]=Ht/2,at+=(n[Dt]+1)*et[Dt],mt+=(n[Dt]+1)*J[Dt]}let St=r;r=m*mt/at,St!==0&&(r=r>1.5*St?1.5*St:r);for(let Dt=0;Dt<G;Dt+=1){if(T&&n[Dt]<=1)continue;let Ct=d*r/(1+r*Math.sqrt(et[Dt])),Bt=Math.hypot(e[2*Dt],e[2*Dt+1]);Bt=Bt<1e-4?1e-4:Bt;const zt=j/Bt;Ct=Ct>zt?zt:Ct;const Ht=Ct*e[2*Dt],qt=Ct*e[2*Dt+1];u[Dt].x+=Ht,u[Dt].y+=qt}return{nodes:u,sg:r}}}class cA{constructor(e){const t=wi(e.type);this.layoutInstance=new t(e)}layout(e){return this.layoutInstance.layout(e)}updateCfg(e){this.layoutInstance.updateCfg(e)}init(e){this.layoutInstance.init(e)}execute(){this.layoutInstance.execute()}getDefaultCfg(){return this.layoutInstance.getDefaultCfg()}destroy(){return this.layoutInstance.destroy()}}const Ep=new Proxy({},{get:(l,e)=>wi(e),set:(l,e,t)=>(Vn(e,t),!0)});var s1=i("efFw"),pg=i.n(s1),G0=Go.traverseTree,l1=function(e,t){var r;return e?Object(g.isNumber)(e)?r=function(o){return e}:r=e:r=function(o){return t||1},r},u1=function(e,t){var r=[],n=[],o={},u=0;for(u=0;u<e.length;u++){var d=e[u];o[d.id]=u,r.push(d.x),r.push(d.y),r.push(0),r.push(0),n.push([])}for(u=0;u<t.length;u++){var m=t[u];n[o[m.source]].push(o[m.target]),n[o[m.target]].push(o[m.source])}var T=0;for(u=0;u<e.length;u++){var j=r.length,G=n[u],et=G.length;r[u*4+2]=j,r[u*4+3]=G.length,T=Math.max(T,G.length);for(var J=0;J<et;++J){var at=G[J];r.push(+at)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:T}},c1=function(e,t,r){var n=[],o=[],u={},d=0;for(d=0;d<e.length;d++){var m=e[d];u[m.id]=d,n.push(m.x),n.push(m.y),n.push(0),n.push(0),o.push([])}for(d=0;d<t.length;d++){var T=t[d];o[u[T.source]].push(u[T.target]),o[u[T.source]].push(r(T)),o[u[T.target]].push(u[T.source]),o[u[T.target]].push(r(T))}var j=0;for(d=0;d<e.length;d++){var G=n.length,et=o[d],J=et.length;n[d*4+2]=G,n[d*4+3]=J/2,j=Math.max(j,J/2);for(var at=0;at<J;++at){var mt=et[at];n.push(+mt)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:j}},f1=function(e,t,r,n){var o=[],u=[],d={},m=0;for(m=0;m<e.length;m++){var T=e[m];d[T.id]=m,o.push(T.x),o.push(T.y),o.push(0),o.push(0),u.push([])}for(m=0;m<t.length;m++){var j=t[m];u[d[j.source]].push(d[j.target]),u[d[j.source]].push(r(j)),u[d[j.source]].push(n(j)),u[d[j.source]].push(0),u[d[j.target]].push(d[j.source]),u[d[j.target]].push(r(j)),u[d[j.target]].push(n(j)),u[d[j.target]].push(0)}var G=0;for(m=0;m<e.length;m++){var et=o.length,J=u[m],at=J.length;o[m*4+2]=et+1048576*at/4,o[m*4+3]=0,G=Math.max(G,at/4);for(var mt=0;mt<at;++mt){var St=J[mt];o.push(+St)}}for(;o.length%4!=0;)o.push(0);return{array:new Float32Array(o),maxEdgePerVetex:G}},h1=function(e,t){var r=[],n=e.length,o={};return t.forEach(function(u){e.forEach(function(d,m){if(o[u[d]]===void 0&&(o[u[d]]=Object.keys(o).length),r.push(o[u[d]]),m===n-1)for(;r.length%4!=0;)r.push(0)})}),{array:new Float32Array(r),count:Object.keys(o).length}},d1=function(e){for(var t=[],r=e.length,n=e[0].length,o=function(m){e.forEach(function(T,j){if(t.push(T[m]),j===r-1)for(;t.length%4!=0;)t.push(0)})},u=0;u<n;u++)o(u);return new Float32Array(t)},v1=function(e,t){var r=["V","TB","BT"],n={x:Infinity,y:Infinity},o={x:-Infinity,y:-Infinity},u="x",d="y";t&&r.indexOf(t)>=0&&(d="x",u="y");var m=0;G0(e,function(G){return m++,G.x>o.x&&(o.x=G.x),G.x<n.x&&(n.x=G.x),G.y>o.y&&(o.y=G.y),G.y<n.y&&(n.y=G.y),!0});var T=Math.PI*2/m,j=o[d]-n[d];return j===0||G0(e,function(G){var et=(G[d]-n[d])/j*(Math.PI*2-T)+T,J=Math.abs(u==="x"?G.x-e.x:G.y-e.y);return G.x=J*Math.cos(et),G.y=J*Math.sin(et),!0}),e},U0=function l(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var r=t.parent!==void 0?t.parent:document.body,n=t.id!==void 0?t.id:"oldie",o=l().getWebGLErrorMessage();o.id=n,r.appendChild(o)}}},g1=Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)(Object(oe.__assign)({},Go),S),p),b),ac=g1,p1=ac.radialLayout,y1=function(){function l(e){this.type=e.type,this.radial=e.radial,this.config=e}return l.prototype.init=function(e){var t=this;if(this.data=e,this.radial){this.layoutMethod=function(r){var n=pg.a[t.type](r,t.config);return p1(n),n};return}this.layoutMethod=function(r){return pg.a[t.type](r,t.config)}},l.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},l.prototype.layout=function(e){return this.init(e),this.execute()},l}(),m1=y1;Vn("grid",za),Vn("random",Qa),Vn("force",Hg),Vn("circular",Jd),Vn("dagre",$g),Vn("radial",ip),Vn("concentric",nv),Vn("mds",ap),Vn("fruchterman",av),Vn("fruchterman-gpu",e1),Vn("gForce",ja),Vn("gForce-gpu",i1),Vn("comboForce",a1),Vn("forceAtlas2",o1);var b1=function(e,t){t.isCustomLayout=!0,Vn(e,t)},O1=function(){function l(e,t){var r=e.toString(),n=new Blob(["importScripts('"+t+"');("+r+")()"],{type:"text/javascript"});return new Worker(URL.createObjectURL(n))}return l}(),x1=O1,E1=function(e){e===void 0&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var n={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function o(d){var m=d.data.type;return m===n.RUN||m===n.GPURUN}function u(d){var m=this,T=d.data.type;switch(T){case n.RUN:{var j=d.data,G=j.nodes,et=j.edges,J=j.layoutCfg,at=J===void 0?{}:J,mt=at.type,St=layout.getLayoutByName(mt);if(!St){this.postMessage({type:n.ERROR,message:"layout "+mt+" not found"});break}var Dt;at.onLayoutEnd=function(){m.postMessage({type:n.END,nodes:G}),Dt==null||Dt.destroy()},Dt=new St(at),Dt.init({nodes:G,edges:et}),Dt.execute();break}case n.GPURUN:{var Ct=d.data,Bt=Ct.nodes,et=Ct.edges,zt=Ct.layoutCfg,at=zt===void 0?{}:zt,Ht=Ct.canvas,mt=at.type,St=layout.getLayoutByName(mt);if(!St){this.postMessage({type:n.ERROR,message:"layout "+mt+" not found"});break}if(mt.split("-")[1]!=="gpu"){this.postMessage({type:n.ERROR,message:"layout "+mt+" does not support GPU"});break}var qt=new St(at);qt.init({nodes:Bt,edges:et}),qt.executeWithWorker(Ht,this);break}default:break}}onmessage=function(m){o(m)&&u(m)}}var r=new x1(t,e);return r},ld={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function yg(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yg=function(t){return typeof t}:yg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(l)}var W0=function(e){return setTimeout(e,16)},z0=function(e){return clearTimeout(e)},mg={requestAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||W0;return t(e)},cancelAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||z0;return t(e)}},V0=["fruchterman","gForce"],S1=["force","grid","circular"],M1=function(l){Object(oe.__extends)(e,l);function e(t){var r=l.call(this,t)||this;return r.graph=t,r.layoutCfg=t.get("layout")||{},r.layoutType=r.getLayoutType(),r.worker=null,r.workerData={},r.initLayout(),r}return e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=E1(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,t.requestId&&(mg.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(mg.cancelAnimationFrame(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,r){var n=this;return new Promise(function(o,u){var d=n.graph,m=t.type;t.onLayoutEnd=function(){d.emit("aftersublayout",{type:m}),o()},m&&n.isGPU&&(n.hasGPUVersion(m)?m=m+"-gpu":console.warn("The '"+m+"' layout does not support GPU calculation for now, it will run in CPU."));var T=m==="force"||m==="g6force"||m==="gForce";if(T){var j=t.onTick,G=function(){j&&j(),d.refreshPositions()};t.tick=G}else t.type==="comboForce"&&(t.comboTrees=d.get("comboTrees"));var et=!1,J;try{J=new Ep[m](t)}catch(St){console.warn("The layout method: '"+m+"' does not exist! Please specify it first."),u()}if(et=J.enableTick,et){var at=t.onTick,G=function(){at&&at(),d.refreshPositions()};J.tick=G}var mt=n.filterLayoutData(n.data,t);D1(mt,r),J.init(mt),d.emit("beforesublayout",{type:m}),J.execute(),J.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),n.layoutMethods[r]=J})},e.prototype.updateLayoutMethod=function(t,r){var n=this;return new Promise(function(o,u){var d=n.graph,m=r==null?void 0:r.type;r.onLayoutEnd=function(){d.emit("aftersublayout",{type:m}),o()};var T=n.filterLayoutData(n.data,r);t.init(T),t.updateCfg(r),d.emit("beforesublayout",{type:m}),t.execute(),t.isCustomLayout&&r.onLayoutEnd&&r.onLayoutEnd()})},e.prototype.layout=function(t){var r=this,n=this.graph;this.data=this.setDataFromGraph();var o=this.data,u=o.nodes,d=o.hiddenNodes;if(!u)return!1;var m=n.get("width"),T=n.get("height"),j={};Object.assign(j,{width:m,height:T,center:[m/2,T/2]},this.layoutCfg),this.layoutCfg=j,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(j.center,u),this.initPositions(j.center,d);var G=j.type;G&&G.split("-")[1]==="gpu"&&(G=G.split("-")[0],j.gpuEnabled=!0);var et=!1;j.gpuEnabled&&(et=!0,U0().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),et=!1)),this.isGPU=et;var J=j.onLayoutEnd,at=j.layoutEndFormatted,mt=j.adjust;if(at||(j.layoutEndFormatted=!0,j.onAllLayoutEnd=function(){return Object(oe.__awaiter)(r,void 0,void 0,function(){return Object(oe.__generator)(this,function(Dt){switch(Dt.label){case 0:return J&&J(),this.refreshLayout(),mt&&j.pipes?[4,this.adjustPipesBox(this.data,mt)]:[3,2];case 1:Dt.sent(),this.refreshLayout(),Dt.label=2;case 2:return n.emit("afterlayout"),[2]}})})}),this.stopWorker(),j.workerEnabled&&this.layoutWithWorker(this.data))return!0;var St=Promise.resolve();return j.type?St=St.then(function(){return r.execLayoutMethod(j,0)}):j.pipes&&j.pipes.forEach(function(Dt,Ct){St=St.then(function(){return r.execLayoutMethod(Dt,Ct)})}),St.then(function(){j.onAllLayoutEnd&&j.onAllLayoutEnd(),t&&t()}).catch(function(Dt){console.warn("graph layout failed,",Dt)}),!1},e.prototype.layoutWithWorker=function(t){var r=this,n=this,o=n.layoutCfg,u=n.graph,d=this.getWorker(),m=this.workerData;if(!d)return!1;m.requestId=null,m.requestId2=null,m.currentTick=null,m.currentTickData=null,u.emit("beforelayout");var T=Promise.resolve();if(o.type)T=T.then(function(){return r.runWebworker(d,t,o)});else if(o.pipes)for(var j=function(mt){T=T.then(function(){return r.runWebworker(d,t,mt)})},G=0,et=o.pipes;G<et.length;G++){var J=et[G];j(J)}return T.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()}).catch(function(at){console.error("layout failed",at)}),!0},e.prototype.runWebworker=function(t,r,n){var o=this,u=this.isGPU,d=this.filterLayoutData(r,n),m=d.nodes,T=d.edges,j=document.createElement("canvas"),G=u&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in j,et=A1(n,function(at){return typeof at!="function"});if(!G)t.postMessage({type:ld.RUN,nodes:m,edges:T,layoutCfg:et});else{var J=j.transferControlToOffscreen();et.type=et.type+"-gpu",t.postMessage({type:ld.GPURUN,nodes:m,edges:T,layoutCfg:et,canvas:J},[J])}return new Promise(function(at,mt){t.onmessage=function(St){o.handleWorkerMessage(at,mt,St,d,n)}})},e.prototype.handleWorkerMessage=function(t,r,n,o,u){var d=this,m=d.graph,T=d.workerData,j=n.data,G=j.type,et=function(){u.onTick&&u.onTick()};switch(G){case ld.TICK:T.currentTick=j.currentTick,T.currentTickData=j,T.requestId||(T.requestId=mg.requestAnimationFrame(function(){Sp(o,j),m.refreshPositions(),et(),j.currentTick===j.totalTicks?t():T.currentTick===j.totalTicks&&(T.requestId2=mg.requestAnimationFrame(function(){Sp(o,T.currentTickData),m.refreshPositions(),T.requestId2=null,et(),t()})),T.requestId=null}));break;case ld.END:T.currentTick==null&&(Sp(o,j),t());break;case ld.GPUEND:T.currentTick==null&&(T1(o,j),t());break;case ld.ERROR:console.warn("Web-Worker layout error!",j.message),r();break;default:r();break}},e.prototype.updateLayoutCfg=function(t){var r=this,n=this,o=n.graph,u=n.layoutMethods,d=Object(g.mix)({},this.layoutCfg,t);if(this.layoutCfg=d,!(u==null?void 0:u.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(t.workerEnabled&&this.layoutWithWorker(this.data))){o.emit("beforelayout");var m=Promise.resolve();u.length===1?m=m.then(function(){return r.updateLayoutMethod(u[0],d)}):u==null||u.forEach(function(T,j){var G=d.pipes[j];m=m.then(function(){return r.updateLayoutMethod(T,G)})}),m.then(function(){d.onAllLayoutEnd&&d.onAllLayoutEnd()}).catch(function(T){console.warn("layout failed",T)})}},e.prototype.adjustPipesBox=function(t,r){var n=this;return new Promise(function(o){var u=t.nodes;(u==null?void 0:u.length)||o(),S1.includes(r)||(console.warn("The adjust type "+r+" is not supported yet, please assign it with 'force', 'grid', or 'circular'."),o());var d={center:n.layoutCfg.center,nodeSize:function(at){return Math.max(at.height,at.width)},preventOverlap:!0,onLayoutEnd:function(){}},m=n.getLayoutBBox(u),T=m.groupNodes,j=m.layoutNodes,G=Object(g.clone)(j);d.onLayoutEnd=function(){j==null||j.forEach(function(J,at){var mt,St,Dt,Ct=J.x-((mt=G[at])===null||mt===void 0?void 0:mt.x),Bt=J.y-((St=G[at])===null||St===void 0?void 0:St.y);(Dt=T[at])===null||Dt===void 0||Dt.forEach(function(zt){zt.x+=Ct,zt.y+=Bt})}),o()};var et=new Ep[r](d);et.layout({nodes:j})})},e.prototype.hasGPUVersion=function(t){for(var r=V0.length,n=0;n<r;n++)if(V0[n]===t)return!0;return!1},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(kc),C1=M1;function Sp(l,e){for(var t=l.nodes,r=e.nodes,n=t.length,o=0;o<n;o++){var u=t[o];u.x=r[o].x,u.y=r[o].y}}function A1(l,e){var t={};return l&&yg(l)==="object"?(Object.keys(l).forEach(function(r){l.hasOwnProperty(r)&&e(l[r])&&(t[r]=l[r])}),t):l}function T1(l,e){for(var t=l.nodes,r=e.vertexEdgeData,n=t.length,o=0;o<n;o++){var u=t[o],d=r[4*o],m=r[4*o+1];u.x=d,u.y=m}}function D1(l,e){var t;if(!!((t=l==null?void 0:l.nodes)===null||t===void 0?void 0:t.length)){var r=l.nodes;r.forEach(function(n){n.layoutOrder=e})}}var k0=E.transform,P1="svg",I1=function(l){Object(oe.__extends)(e,l);function e(t){var r=l.call(this,t)||this,n=r.get("defaultNode");return n||r.set("defaultNode",{type:"circle"}),n.type||(n.type="circle",r.set("defaultNode",n)),r.destroyed=!1,r}return e.prototype.initLayoutController=function(){var t=new C1(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new hn(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var r=t.clientWidth,n=t.clientHeight,o=this.get("width")||r,u=this.get("height")||n;!this.get("width")&&!this.get("height")&&(this.set("width",r),this.set("height",n));var d=this.get("renderer"),m;if(d===P1)m=new gl.Canvas({container:t,width:o,height:u});else{var T={container:t,width:o,height:u},j=this.get("pixelRatio");j&&(T.pixelRatio=j),m=new Zo.Canvas(T)}this.set("canvas",m)},e.prototype.initPlugins=function(){var t=this;Object(g.each)(t.get("plugins"),function(r){!r.destroyed&&r.initPlugin&&r.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,r,n,o){return Object(oe.__awaiter)(this,void 0,void 0,function(){var u,d,m;return Object(oe.__generator)(this,function(T){switch(T.label){case 0:return u=t.style.backgroundImage,d=u.slice(5,u.length-2),m=new Image,m.src=d,[4,new Promise(function(j){m.onload=function(){var G=r.createPattern(m,"repeat");r.rect(0,0,n,o),r.fillStyle=G,r.fill(),j("")}})];case 1:return T.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,r,n,o,u,d){var m=this,T=document.querySelector(".g6-graph-watermarker"),j=this.get("canvas"),G=j.getRenderer(),et=d||j.get("el"),J="";t||(t="image/png"),setTimeout(function(){return Object(oe.__awaiter)(m,void 0,void 0,function(){var at,mt,St,Dt,Ct,Bt,zt,Ht,qt,ue;return Object(oe.__generator)(this,function(se){switch(se.label){case 0:return G!=="svg"?[3,1]:(at=et.cloneNode(!0),mt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),St=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",mt),St.replaceChild(at,St.documentElement),Dt=new XMLSerializer().serializeToString(St),J="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Dt),[3,4]);case 1:return Ct=void 0,Bt=et.getContext("2d"),zt=o||this.get("width"),Ht=u||this.get("height"),qt=void 0,T?[4,this.downloadImageWatermark(T,Bt,zt,Ht)]:[3,3];case 2:se.sent(),se.label=3;case 3:r&&(ue=typeof window!="undefined"?window.devicePixelRatio:1,Ct=Bt.getImageData(0,0,zt*ue,Ht*ue),qt=Bt.globalCompositeOperation,Bt.globalCompositeOperation="destination-over",Bt.fillStyle=r,Bt.fillRect(0,0,zt,Ht)),J=et.toDataURL(t),r&&(Bt.clearRect(0,0,zt,Ht),Bt.putImageData(Ct,0,0),Bt.globalCompositeOperation=qt),se.label=4;case 4:return n&&n(J),[2]}})})},16)},e.prototype.toDataURL=function(t,r){var n=this.get("canvas"),o=n.getRenderer(),u=n.get("el");t||(t="image/png");var d="";if(o==="svg"){var m=u.cloneNode(!0),T=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),j=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",T);j.replaceChild(m,j.documentElement);var G=new XMLSerializer().serializeToString(j);d="data:image/svg+xml;charset=utf8,"+encodeURIComponent(G)}else{var et=void 0,J=u.getContext("2d"),at=this.get("width"),mt=this.get("height"),St=void 0;if(r){var Dt=typeof window!="undefined"?window.devicePixelRatio:1;et=J.getImageData(0,0,at*Dt,mt*Dt),St=J.globalCompositeOperation,J.globalCompositeOperation="destination-over",J.fillStyle=r,J.fillRect(0,0,at,mt)}d=u.toDataURL(t),r&&(J.clearRect(0,0,at,mt),J.putImageData(et,0,0),J.globalCompositeOperation=St)}return d},e.prototype.toFullDataURL=function(t,r,n){var o=this.get("group").getCanvasBBox(),u=o.height,d=o.width,m=this.get("renderer"),T=Object(rr.b)('<id="virtual-image"></div>'),j=n?n.backgroundColor:void 0,G=n?n.padding:void 0;G?Object(g.isNumber)(G)&&(G=[G,G,G,G]):G=[0,0,0,0];var et=u+G[0]+G[2],J=d+G[1]+G[3],at={container:T,height:et,width:J,quickHit:!0},mt=m==="svg"?new gl.Canvas(at):new Zo.Canvas(at),St=this.get("group"),Dt=St.clone(),Ct=Object(g.clone)(Dt.getMatrix());Ct||(Ct=[1,0,0,0,1,0,0,0,1]);var Bt=(o.maxX+o.minX)/2,zt=(o.maxY+o.minY)/2;Ct=k0(Ct,[["t",-Bt,-zt],["t",d/2+G[3],u/2+G[0]]]),Dt.resetMatrix(),Dt.setMatrix(Ct),mt.add(Dt);var Ht=mt.get("el"),qt="";r||(r="image/png"),setTimeout(function(){if(m==="svg"){var ue=Ht.cloneNode(!0),se=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Me=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",se);Me.replaceChild(ue,Me.documentElement);var ve=new XMLSerializer().serializeToString(Me);qt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ve)}else{var De=void 0,ye=Ht.getContext("2d"),pr=void 0;if(j){var cr=typeof window!="undefined"?window.devicePixelRatio:1;De=ye.getImageData(0,0,J*cr,et*cr),pr=ye.globalCompositeOperation,ye.globalCompositeOperation="destination-over",ye.fillStyle=j,ye.fillRect(0,0,J,et)}qt=Ht.toDataURL(r),j&&(ye.clearRect(0,0,J,et),ye.putImageData(De,0,0),ye.globalCompositeOperation=pr)}t&&t(qt)},16)},e.prototype.downloadFullImage=function(t,r,n){var o=this,u=this.get("group").getCanvasBBox(),d=u.height,m=u.width,T=this.get("renderer"),j=Object(rr.b)('<id="virtual-image"></div>'),G=document.querySelector(".g6-graph-watermarker"),et=n?n.backgroundColor:void 0,J=n?n.padding:void 0;J?Object(g.isNumber)(J)&&(J=[J,J,J,J]):J=[0,0,0,0];var at=d+J[0]+J[2],mt=m+J[1]+J[3];if(G){var St=this.get("graphWaterMarker").cfg||{},Dt=St.width,Ct=St.height;at=Math.ceil(at/Ct)*Ct,mt=Math.ceil(mt/Dt)*Dt}var Bt={container:j,height:at,width:mt},zt=T==="svg"?new gl.Canvas(Bt):new Zo.Canvas(Bt),Ht=this.get("group"),qt=Ht.clone(),ue=Object(g.clone)(qt.getMatrix());ue||(ue=[1,0,0,0,1,0,0,0,1]);var se=(u.maxX+u.minX)/2,Me=(u.maxY+u.minY)/2;ue=k0(ue,[["t",-se,-Me],["t",m/2+J[3],d/2+J[0]]]),qt.resetMatrix(),qt.setMatrix(ue),zt.add(qt);var ve=zt.get("el");r||(r="image/png"),this.asyncToDataUrl(r,et,function(De){var ye=document.createElement("a"),pr=(t||"graph")+(T==="svg"?".svg":"."+r.split("/")[1]);o.dataURLToImage(De,T,ye,pr);var cr=document.createEvent("MouseEvents");cr.initEvent("click",!1,!1),ye.dispatchEvent(cr)},mt,at,ve)},e.prototype.downloadImage=function(t,r,n){var o=this,u=this;u.isAnimating()&&u.stopAnimate();var d=u.get("canvas"),m=d.getRenderer();r||(r="image/png");var T=(t||"graph")+(m==="svg"?".svg":r.split("/")[1]),j=document.createElement("a");u.asyncToDataUrl(r,n,function(G){o.dataURLToImage(G,m,j,T);var et=document.createEvent("MouseEvents");et.initEvent("click",!1,!1),j.dispatchEvent(et)})},e.prototype.dataURLToImage=function(t,r,n,o){if(typeof window!="undefined")if(window.Blob&&window.URL&&r!=="svg"){var u=t.split(","),d="";if(u&&u.length>0){var m=u[0].match(/:(.*?);/);m&&m.length>=2&&(d=m[1])}for(var T=atob(u[1]),j=T.length,G=new Uint8Array(j);j--;)G[j]=T.charCodeAt(j);var et=new Blob([G],{type:d});window.navigator.msSaveBlob?window.navigator.msSaveBlob(et,o):n.addEventListener("click",function(){n.download=o,n.href=window.URL.createObjectURL(et)})}else n.addEventListener("click",function(){n.download=o,n.href=t})},e.prototype.addPlugin=function(t){var r=this;t.destroyed||(r.get("plugins").push(t),t.initPlugin(r))},e.prototype.removePlugin=function(t){var r=this.get("plugins"),n=r.indexOf(t);n>=0&&(t.destroyPlugin(),r.splice(n,1))},e.prototype.setImageWaterMarker=function(t,r){t===void 0&&(t=Hr.waterMarkerImage);var n=this.get("container");Object(g.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var o=this.get("graphWaterMarker"),u=Object(g.deepMix)({},Hr.imageWaterMarkerConfig,r),d=u.width,m=u.height,T=u.compatible,j=u.image;if(!o){var G={container:n,width:d,height:m,capture:!1},et=this.get("pixelRatio");et&&(G.pixelRatio=et),o=new Zo.Canvas(G),this.set("graphWaterMarker",o)}o.get("el").style.display="none";var J=o.get("context"),at=j.rotate,mt=j.x,St=j.y;J.rotate(-at*Math.PI/180);var Dt=new Image;Dt.crossOrigin="anonymous",Dt.src=t,Dt.onload=function(){if(J.drawImage(Dt,mt,St,j.width,j.height),J.rotate(at*Math.PI/180),T)n.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Ct=document.querySelector(".g6-graph-watermarker");Ct||(Ct=document.createElement("div"),Ct.className="g6-graph-watermarker"),Ct.className="g6-graph-watermarker",o.destroyed||(Ct.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(Ct))}}},e.prototype.setTextWaterMarker=function(t,r){var n=this.get("container");Object(g.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var o=this.get("graphWaterMarker"),u=Object(g.deepMix)({},Hr.textWaterMarkerConfig,r),d=u.width,m=u.height,T=u.compatible,j=u.text;if(!o){var G={container:n,width:d,height:m,capture:!1},et=this.get("pixelRatio");et&&(G.pixelRatio=et),o=new Zo.Canvas(G),this.set("graphWaterMarker",o)}o.get("el").style.display="none";var J=o.get("context"),at=j.rotate,mt=j.fill,St=j.fontFamily,Dt=j.fontSize,Ct=j.baseline,Bt=j.x,zt=j.y,Ht=j.lineHeight;J.rotate(-at*Math.PI/180),J.font=Dt+"px "+St,J.fillStyle=mt,J.textBaseline=Ct;for(var qt=t.length-1;qt>=0;qt--)J.fillText(t[qt],Bt,zt+qt*Ht);if(J.rotate(at*Math.PI/180),T)n.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var ue=document.querySelector(".g6-graph-watermarker");ue||(ue=document.createElement("div"),ue.className="g6-graph-watermarker"),ue.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(ue)}},e.prototype.destroy=function(){Object(g.each)(this.get("plugins"),function(u){u.destroyPlugin()});var t=this.get("tooltips");if(t)for(var r=0;r<t.length;r++){var n=t[r];if(!!n){var o=n.parentElement;!o||o.removeChild(n)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),l.prototype.destroy.call(this)},e}(Fc),X0=I1,L1=ac.radialLayout,R1=ac.traverseTree,j1=function(l){Object(oe.__extends)(e,l);function e(t){var r=l.call(this,t)||this;return r.layoutAnimating=!1,r.set("removeList",[]),r.set("layoutMethod",r.getLayout()),r}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(r){var n=pg.a[t.type](r,t);return L1(n),n}:function(r){return pg.a[t.type](r,t)}):null},e.indexOfChild=function(t,r){var n=-1;return Object(g.each)(t,function(o,u){if(r===o.id)return n=u,!1}),n},e.prototype.getDefaultCfg=function(){var t=l.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,r,n){var o=this,u=t.data;u&&(u.x=t.x,u.y=t.y,u.depth=t.depth);var d=o.addItem("node",u,!1);if(r){if(d.set("parent",r),n){var m=r.get("originAttrs");if(m)d.set("originAttrs",m);else{var T=r.getModel();d.set("originAttrs",{x:T.x,y:T.y})}}var j=r.get("children");j?j.push(d):r.set("children",[d]),o.addItem("edge",{source:r.get("id"),target:d.get("id"),id:r.get("id")+":"+d.get("id")},!1)}return Object(g.each)(t.children||[],function(G){o.innerAddChild(G,d,n)}),o.emit("afteraddchild",{item:d,parent:r}),d},e.prototype.innerUpdateChild=function(t,r,n){var o=this,u=o.findById(t.id);if(!u){o.innerAddChild(t,r,n);return}Object(g.each)(t.children||[],function(at){o.innerUpdateChild(at,u,n)});var d=u.get("children");if(d){var m=d.length;if(m>0)for(var T=d.length-1;T>=0;T--){var j=d[T].getModel();e.indexOfChild(t.children||[],j.id)===-1&&(o.innerRemoveChild(j.id,{x:t.x,y:t.y},n),d.splice(T,1))}}var G,et;u.get("originAttrs")&&(G=u.get("originAttrs").x,et=u.get("originAttrs").y);var J=u.getModel();n&&u.set("originAttrs",{x:J.x,y:J.y}),u.set("model",t.data),(G!==t.x||et!==t.y)&&u.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,r,n){var o=this,u=o.findById(t);if(!!u)if(Object(g.each)(u.get("children"),function(m){o.innerRemoveChild(m.getModel().id,r,n)}),n){var d=u.getModel();u.set("to",r),u.set("originAttrs",{x:d.x,y:d.y}),o.get("removeList").push(u)}else o.removeItem(u,!1)},e.prototype.changeData=function(t){var r=this;this.getNodes().map(function(n){return r.clearItemStates(n)}),this.getEdges().map(function(n){return r.clearItemStates(n)}),t?(r.data(t),r.render()):r.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var r=this;r.updateLayout(t)},e.prototype.updateLayout=function(t){var r=this;if(!t){console.warn("layout cannot be null");return}r.set("layout",t),r.set("layoutMethod",r.getLayout()),r.layout()},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var r=this;r.layout(t)},e.prototype.layout=function(t){var r=this,n=r.get("data"),o=r.get("layoutMethod"),u=o?o(n,r.get("layout")):n,d=r.get("animate");if(r.emit("beforerefreshlayout",{data:n,layoutData:u}),r.emit("beforelayout"),r.innerUpdateChild(u,void 0,d),t){var m=r.get("viewController");m.fitView()}d?r.layoutAnimate(u):(r.refresh(),r.paint()),r.emit("afterrefreshlayout",{data:n,layoutData:u}),r.emit("afterlayout")},e.prototype.addChild=function(t,r){var n=this;n.emit("beforeaddchild",{model:t,parent:r}),Object(g.isString)(r)||(r=r.get("id"));var o=n.findDataById(r);o&&(o.children||(o.children=[]),o.children.push(t),n.changeData())},e.prototype.updateChildren=function(t,r){var n=this;if(!r||!n.findById(r)){console.warn("Update children failed! There is no node with id '"+r+"'");return}var o=n.findDataById(r);o.children=t,n.changeData()},e.prototype.updateChild=function(t,r){var n=this;if(!r||!n.findById(r)){n.changeData(t);return}var o=n.findDataById(r),u=n.findById(t.id);if(o.children||(o.children=[]),!u)o.children.push(t);else{var d=e.indexOfChild(o.children,t.id);o.children[d]=t}n.changeData()},e.prototype.removeChild=function(t){var r=this,n=r.findById(t);if(!!n){var o=n.get("parent");if(o&&!o.destroyed){var u=r.findDataById(o.get("id")),d=u&&u.children||[],m=n.getModel(),T=e.indexOfChild(d,m.id);d.splice(T,1)}r.changeData()}},e.prototype.findDataById=function(t,r){var n=this;if(r||(r=n.get("data")),t===r.id)return r;var o=null;return Object(g.each)(r.children||[],function(u){if(u.id===t)return o=u,!1;if(o=n.findDataById(t,u),o)return!1}),o},e.prototype.layoutAnimate=function(t,r){var n=this,o=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(u){var d=u.get("model");d.sourceAnchor||(d.sourceAnchor=u.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(u){R1(t,function(d){var m=n.findById(d.id);if(m){var T=m.get("originAttrs"),j=m.get("model");if(T||(T={x:j.x,y:j.y},m.set("originAttrs",T)),r){var G=r(m,u,T,t);m.set("model",Object.assign(j,G))}else j.x=T.x+(d.x-T.x)*u,j.y=T.y+(d.y-T.y)*u}return!0}),Object(g.each)(n.get("removeList"),function(d){var m=d.getModel(),T=d.get("originAttrs"),j=d.get("to");m.x=T.x+(j.x-T.x)*u,m.y=T.y+(j.y-T.y)*u}),n.refreshPositions()},{duration:o.duration,easing:o.ease,callback:function(){Object(g.each)(n.getNodes(),function(d){d.set("originAttrs",null)}),Object(g.each)(n.get("removeList"),function(d){n.removeItem(d)}),n.set("removeList",[]),o.callback&&o.callback(),n.emit("afteranimate",{data:t})},delay:o.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){var t=this,r=t.get("data");if(!r||!Object(g.isObject)(r)||!Object.keys(r).length)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(X0),w1=j1,B1=function(){function l(e){this._cfgs=Object(g.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return l.prototype.getDefaultCfgs=function(){return{}},l.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var r=t.getEvents(),n={};Object(g.each)(r,function(o,u){var d=Object(g.wrapBehavior)(t,o);n[u]=d,e.on(u,d)}),this._events=n,this.init()},l.prototype.getEvents=function(){return{}},l.prototype.get=function(e){return this._cfgs[e]},l.prototype.set=function(e,t){this._cfgs[e]=t},l.prototype.destroy=function(){},l.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;Object(g.each)(t,function(r,n){e.off(n,r)}),this._events=null,this._cfgs=null,this.destroyed=!0},l}(),tl=B1,N1=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y0="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",F1=function(l){N1(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{img:Y0,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),r=t.get("container"),n=t.get("canvas").get("el"),o=this.get("img")||Y0,u=Object(rr.b)(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),d=Object(rr.b)(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `+o+`;
        user-select: none
        '></div>`);this.set("container",u),this.set("gridContainer",d),this.positionInit(),u.appendChild(d),r.insertBefore(u,n)},e.prototype.positionInit=function(){var t=this.get("graph"),r=t.get("minZoom"),n=t.get("width"),o=t.get("height");Object(rr.e)(this.get("container"),{width:n+"px",height:o+"px"});var u=n*80/r,d=o*80/r;Object(rr.e)(this.get("gridContainer"),{width:u+"px",height:d+"px",left:"-"+u/2+"px",top:"-"+d/2+"px"})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var r=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var o=this.get("follow"),u="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", "+(o?n[6]:"0")+", "+(o?n[7]:"0")+")";Object(rr.e)(r,{transform:u})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),r=t.get("container"),n=this.get("container");r.removeChild(n)},e}(tl),G1=F1,U1=i("PwAq"),Mp=i.n(U1),W1=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Mp()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var z1=function(l){W1(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(r){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(r){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),r=Object(rr.b)("<div class="+(t||"g6-component-contextmenu")+"></div>");Object(rr.e)(r,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),Object(g.isString)(n)&&(n=document.getElementById(n)),n.appendChild(r),this.set("menu",r)},e.prototype.onMenuShow=function(t){var r=this;t.preventDefault(),t.stopPropagation();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1){r.onMenuHide();return}}else if(n.indexOf("canvas")===-1){r.onMenuHide();return}var o=this.get("shouldBegin");if(!!o(t)){var u=this.get("menu"),d=this.get("getContent"),m=this.get("graph"),T=d(t,m);Object(g.isString)(T)?u.innerHTML=T:u.innerHTML=T.outerHTML,this.removeMenuEventListener();var j=this.get("handleMenuClick");if(j){var G=function(se){j(se.target,t.item,m)};this.set("handleMenuClickWrapper",G),u.addEventListener("click",G)}var et=m.get("width"),J=m.get("height"),at=u.getBoundingClientRect(),mt=this.get("offsetX")||0,St=this.get("offsetY")||0,Dt=m.getContainer().offsetTop,Ct=m.getContainer().offsetLeft,Bt=t.canvasX+Ct+mt,zt=t.canvasY+Dt+St;Bt+at.width>et&&(Bt=t.canvasX-at.width-mt+Ct),zt+at.height>J&&(zt=t.canvasY-at.height-St+Dt),Object(rr.e)(u,{top:zt+"px",left:Bt+"px",visibility:"visible"});var Ht=this.get("trigger")==="click",qt=function(se){if(Ht){Ht=!1;return}r.onMenuHide()};document.body.addEventListener("click",qt),this.set("handler",qt)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),r=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}r&&document.body.removeEventListener("click",r)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&Object(rr.e)(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(g.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(tl),V1=z1,k1=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cp=function(){return Cp=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Cp.apply(this,arguments)},H0=Math.max,X1=E.transform,Y1="default",H1="keyShape",K1="delegate",K0="svg",_1=function(l){k1(e,l);function e(){var t=l!==null&&l.apply(this,arguments)||this;return t.handleUpdateCanvas=Object(g.debounce)(function(r){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.size,o=r.graph;if(!this.destroyed){var u=this.get("canvas"),d=u.get("container"),m=Object(rr.b)(`
      <div
        class=`+r.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`),T=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,j=0,G=0,et=!1,J=0,at=0,mt=0,St=0,Dt=0,Ct=0;m.addEventListener("dragstart",function(Bt){var zt,Ht;if(Bt.dataTransfer){var qt=new Image;qt.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Ht=(zt=Bt.dataTransfer).setDragImage)===null||Ht===void 0||Ht.call(zt,qt,0,0);try{Bt.dataTransfer.setData("text/html","view-port-minimap")}catch(se){Bt.dataTransfer.setData("text","view-port-minimap")}}if(r.refresh=!1,Bt.target===m){var ue=m.style;J=parseInt(ue.left,10),at=parseInt(ue.top,10),mt=parseInt(ue.width,10),St=parseInt(ue.height,10),!(mt>n[0]||St>n[1])&&(Ct=o.getZoom(),Dt=t.get("ratio"),et=!0,j=Bt.clientX,G=Bt.clientY)}},!1),m.addEventListener(T?"dragover":"drag",function(Bt){if(!(!et||Object(g.isNil)(Bt.clientX)||Object(g.isNil)(Bt.clientY))){var zt=j-Bt.clientX,Ht=G-Bt.clientY;(J-zt<0||J-zt+mt>=n[0])&&(zt=0),(at-Ht<0||at-Ht+St>=n[1])&&(Ht=0),J-=zt,at-=Ht,Object(rr.e)(m,{left:J+"px",top:at+"px"}),o.translate(zt*Ct/Dt,Ht*Ct/Dt),j=Bt.clientX,G=Bt.clientY}},!1),m.addEventListener("dragend",function(){et=!1,r.refresh=!0},!1),this.set("viewport",m),d.appendChild(m)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("dx"),n=this.get("dy"),o=this.get("totaldx"),u=this.get("totaldy"),d=this.get("graph"),m=this.get("size"),T=d.get("width"),j=d.get("height"),G=d.getPointByCanvas(0,0),et=d.getPointByCanvas(T,j),J=this.get("viewport");J||this.initViewport();var at=(et.x-G.x)*t,mt=(et.y-G.y)*t,St=G.x*t+o,Dt=G.y*t+u,Ct=St+at,Bt=Dt+mt;St<0&&(at+=St,St=0),Ct>m[0]&&(at=at-(Ct-m[0])),Dt<0&&(mt+=Dt,Dt=0),Bt>m[1]&&(mt=mt-(Bt-m[1])),this.set("ratio",t);var zt=St+"px",Ht=Dt+"px";Object(rr.e)(J,{left:zt,top:Ht,width:at+"px",height:mt+"px"})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,r=this.get("canvas"),n=t.get("group");if(!n.destroyed){var o=n.clone();o.resetMatrix(),r.clear(),r.add(o);var u=t.get("renderer");u===K0&&this.updateVisible(o)}},e.prototype.updateVisible=function(t){var r=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(o){o.get("visible")||o.hide(),r.updateVisible(o)})}},e.prototype.updateKeyShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),o=n.get("children")[0]||n.addGroup();Object(g.each)(r.getEdges(),function(m){t.updateOneEdgeKeyShape(m,o)}),Object(g.each)(r.getNodes(),function(m){t.updateOneNodeKeyShape(m,o)});var u=r.getCombos();if(u&&u.length){var d=o.find(function(m){return m.get("name")==="comboGroup"})||o.addGroup({name:"comboGroup"});setTimeout(function(){Object(g.each)(u,function(m){t.updateOneComboKeyShape(m,d)}),d.sort(),d.toBack()},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,r){var n=this.get("itemMap")||{},o=n[t.get("id")],u=t.getBBox(),d=t.get("keyShape").clone(),m=d.attr(),T={x:u.centerX,y:u.centerY};o?T=Object.assign(m,T):(o=d,r.add(o));var j=o.get("type");(j==="rect"||j==="image")&&(T.x=u.minX,T.y=u.minY),o.attr(T),t.isVisible()?o.show():o.hide(),o.exist=!0;var G=t.getModel().depth;isNaN(G)||o.set("zIndex",G),n[t.get("id")]=o,this.set("itemMap",n)},e.prototype.updateOneNodeKeyShape=function(t,r){var n=this.get("itemMap")||{},o=n[t.get("id")],u=t.getBBox(),d=t.get("keyShape").clone(),m=d.attr(),T={x:u.centerX,y:u.centerY};o?T=Object.assign(m,T):(o=d,r.add(o));var j=o.get("type");(j==="rect"||j==="image")&&(T.x=u.minX,T.y=u.minY),o.attr(T),t.isVisible()?o.show():o.hide(),o.exist=!0;var G=t.getModel().depth;isNaN(G)||o.set("zIndex",G),n[t.get("id")]=o,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),o=n.get("children")[0]||n.addGroup();Object(g.each)(r.getEdges(),function(m){t.updateOneEdgeKeyShape(m,o)}),Object(g.each)(r.getNodes(),function(m){t.updateOneNodeDelegateShape(m,o)});var u=r.getCombos();if(u&&u.length){var d=o.find(function(m){return m.get("name")==="comboGroup"})||o.addGroup({name:"comboGroup"});setTimeout(function(){Object(g.each)(u,function(m){t.updateOneComboKeyShape(m,d)}),d.sort(),d.toBack()},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},r=Object.keys(t);if(!(!r||r.length===0))for(var n=r.length-1;n>=0;n--){var o=t[r[n]],u=o.exist;o.exist=!1,u||(o.remove(),delete t[r[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,r){var n=this.get("itemMap")||{},o=n[t.get("id")];if(o){var u=t.get("keyShape").attr("path");o.attr("path",u)}else o=t.get("keyShape").clone(),r.add(o);t.isVisible()?o.show():o.hide(),o.exist=!0,n[t.get("id")]=o,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,r){var n=this.get("delegateStyle"),o=this.get("itemMap")||{},u=o[t.get("id")],d=t.getBBox();if(u){var m={x:d.minX,y:d.minY,width:d.width,height:d.height};u.attr(m)}else u=r.addShape("rect",{attrs:Cp({x:d.minX,y:d.minY,width:d.width,height:d.height},n),name:"minimap-node-shape"});t.isVisible()?u.show():u.hide(),u.exist=!0,o[t.get("id")]=u,this.set("itemMap",o)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=t.get("size"),o=t.get("className"),u=t.get("container"),d=Object(rr.b)("<div class='"+o+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");Object(g.isString)(u)&&(u=document.getElementById(u)),u?u.appendChild(d):r.get("container").appendChild(d),t.set("container",d);var m=Object(rr.b)('<div class="g6-minimap-container" style="position: relative;"></div>');d.appendChild(m),m.addEventListener("dragenter",function(G){G.preventDefault()}),m.addEventListener("dragover",function(G){G.preventDefault()});var T,j=r.get("renderer");j===K0?T=new gl.Canvas({container:m,width:n[0],height:n[1]}):T=new Zo.Canvas({container:m,width:n[0],height:n[1]}),t.set("canvas",T),t.updateCanvas()},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),o=this.get("canvas"),u=this.get("type"),d=this.get("padding");if(!o.destroyed){switch(u){case Y1:this.updateGraphShapes();break;case H1:this.updateKeyShapes();break;case K1:this.updateDelegateShapes();break;default:break}var m=o.get("children")[0];if(!!m){m.resetMatrix();var T=m.getCanvasBBox(),j=r.get("canvas").getCanvasBBox(),G=r.getZoom()||1,et=j.width/G,J=j.height/G;Number.isFinite(T.width)&&(et=H0(T.width,et),J=H0(T.height,J)),et+=2*d,J+=2*d;var at=Math.min(n[0]/et,n[1]/J),mt=[1,0,0,0,1,0,0,0,1],St=0,Dt=0;Number.isFinite(T.minX)&&(St=-T.minX),Number.isFinite(T.minY)&&(Dt=-T.minY);var Ct=(n[0]-(et-2*d)*at)/2,Bt=(n[1]-(J-2*d)*at)/2;mt=X1(mt,[["t",St,Dt],["s",at,at],["t",Ct,Bt]]),m.setMatrix(mt),this.set("ratio",at),this.set("totaldx",Ct+St*at),this.set("totaldy",Bt+Dt*at),this.set("dx",Ct),this.set("dy",Bt),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},e}(tl),Z1=_1,$1=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function fu(l,e,t){var r=l.x-e.x,n=l.y-e.y;return!t||Math.abs(r)>t||Math.abs(n)>t?Math.sqrt(r*r+n*n):t}function Q1(l,e){return l.x*e.x+l.y*e.y}function _0(l,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(t*t*e.source.x+t*(l.y-e.source.y)+l.x)/(t*t+1),n=t*(r-e.source.x)+e.source.y;return{x:r,y:n}}var J1=function(l){$1(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),r=this.get("onTick"),n=function(){r&&r(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var r=this;if(r.set("data",t),!r.isTicking()){var n=t.edges||[],o=t.nodes||[],u={},d=!1;if(o.forEach(function(zt){(zt.x===null||!zt.y===null||zt.x===void 0||!zt.y===void 0)&&(d=!0),u[zt.id]=zt}),d)throw new Error("please layout the graph or assign x and y for nodes first");r.set("nodeIdMap",u);var m=r.get("divisions"),T=r.get("divRate"),j=r.divideEdges(m);r.set("edgePoints",j);var G=r.getEdgeBundles();r.set("edgeBundles",G);for(var et=r.get("cycles"),J=r.get("iterations"),at=r.get("iterRate"),mt=r.get("lambda"),St=0;St<et;St++){for(var Dt=function(Ht){var qt=[];n.forEach(function(ue,se){if(ue.source!==ue.target){var Me=u[ue.source],ve=u[ue.target];qt[se]=r.getEdgeForces({source:Me,target:ve},se,m,mt);for(var De=0;De<m+1;De++)j[se][De].x+=qt[se][De].x,j[se][De].y+=qt[se][De].y}})},Ct=0;Ct<J;Ct++)Dt(Ct);mt=mt/2,m*=T,J*=at,j=r.divideEdges(m),r.set("edgePoints",j)}n.forEach(function(zt,Ht){zt.source!==zt.target&&(zt.type="polyline",zt.controlPoints=j[Ht].slice(1,j[Ht].length-1))});var Bt=r.get("graph");Bt.refresh()}},e.prototype.updateBundling=function(t){var r=this,n=t.data;if(n&&r.set("data",n),r.get("ticking")&&r.set("ticking",!1),Object.keys(t).forEach(function(u){r.set(u,t[u])}),t.onTick){var o=this.get("graph");r.set("tick",function(){t.onTick(),o.refresh()})}r.bundling(n)},e.prototype.divideEdges=function(t){var r=this,n=r.get("data").edges,o=r.get("nodeIdMap"),u=r.get("edgePoints");return(!u||u===void 0)&&(u=[]),n.forEach(function(d,m){(!u[m]||u[m]===void 0)&&(u[m]=[]);var T=o[d.source],j=o[d.target];if(t===1)u[m].push({x:T.x,y:T.y}),u[m].push({x:.5*(T.x+j.x),y:.5*(T.y+j.y)}),u[m].push({x:j.x,y:j.y});else{var G=0;!u[m]||u[m]===[]?G=fu({x:T.x,y:T.y},{x:j.x,y:j.y}):G=r.getEdgeLength(u[m]);var et=G/(t+1),J=et,at=[{x:T.x,y:T.y}];u[m].forEach(function(mt,St){if(St!==0){for(var Dt=fu(mt,u[m][St-1]);Dt>J;){var Ct=J/Dt,Bt={x:u[m][St-1].x,y:u[m][St-1].y};Bt.x+=Ct*(mt.x-u[m][St-1].x),Bt.y+=Ct*(mt.y-u[m][St-1].y),at.push(Bt),Dt-=J,J=et}J-=Dt}}),at.push({x:j.x,y:j.y}),u[m]=at}}),u},e.prototype.getEdgeLength=function(t){var r=0;return t.forEach(function(n,o){o!==0&&(r+=fu(n,t[o-1]))}),r},e.prototype.getEdgeBundles=function(){var t=this,r=t.get("data"),n=r.edges||[],o=t.get("bundleThreshold"),u=t.get("nodeIdMap"),d=t.get("edgeBundles");return d||(d=[]),n.forEach(function(m,T){(!d[T]||d[T]===void 0)&&(d[T]=[])}),n.forEach(function(m,T){var j=u[m.source],G=u[m.target];n.forEach(function(et,J){if(!(J<=T)){var at=u[et.source],mt=u[et.target],St=t.getBundleScore({source:j,target:G},{source:at,target:mt});St>=o&&(d[T].push(J),d[J].push(T))}})}),d},e.prototype.getBundleScore=function(t,r){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,r.vx=r.target.x-r.source.x,r.vy=r.target.y-r.source.y,t.length=fu({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),r.length=fu({x:r.source.x,y:r.source.y},{x:r.target.x,y:r.target.y});var o=n.getAngleScore(t,r),u=n.getScaleScore(t,r),d=n.getPositionScore(t,r),m=n.getVisibilityScore(t,r);return o*u*d*m},e.prototype.getAngleScore=function(t,r){var n=Q1({x:t.vx,y:t.vy},{x:r.vx,y:r.vy});return n/(t.length*r.length)},e.prototype.getScaleScore=function(t,r){var n=(t.length+r.length)/2,o=2/(n/Math.min(t.length,r.length)+Math.max(t.length,r.length)/n);return o},e.prototype.getPositionScore=function(t,r){var n=(t.length+r.length)/2,o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},u={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2},d=fu(o,u);return n/(n+d)},e.prototype.getVisibilityScore=function(t,r){var n=this.getEdgeVisibility(t,r),o=this.getEdgeVisibility(r,t);return n<o?n:o},e.prototype.getEdgeVisibility=function(t,r){var n=_0(r.source,t),o=_0(r.target,t),u={x:(n.x+o.x)/2,y:(n.y+o.y)/2},d={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*fu(u,d)/fu(n,o))},e.prototype.getEdgeForces=function(t,r,n,o){for(var u=this,d=u.get("edgePoints"),m=u.get("K"),T=m/(fu(t.source,t.target)*(n+1)),j=[{x:0,y:0}],G=1;G<n;G++){var et={x:0,y:0},J=u.getSpringForce({pre:d[r][G-1],cur:d[r][G],next:d[r][G+1]},T),at=u.getElectrostaticForce(G,r);et.x=o*(J.x+at.x),et.y=o*(J.y+at.y),j.push(et)}return j.push({x:0,y:0}),j},e.prototype.getSpringForce=function(t,r){var n=t.pre.x+t.next.x-2*t.cur.x,o=t.pre.y+t.next.y-2*t.cur.y;return n*=r,o*=r,{x:n,y:o}},e.prototype.getElectrostaticForce=function(t,r){var n=this,o=n.get("eps"),u=n.get("edgeBundles"),d=n.get("edgePoints"),m=u[r],T={x:0,y:0};return m.forEach(function(j){var G={x:d[j][t].x-d[r][t].x,y:d[j][t].y-d[r][t].y};if(Math.abs(G.x)>o||Math.abs(G.y)>o){var et=fu(d[j][t],d[r][t]),J=1/et;T.x+=G.x*J,T.y+=G.y*J}}),T},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),l.prototype.destroy.call(this)},e}(tl),q1=J1,tS=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ap=function(){return Ap=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Ap.apply(this,arguments)},bg=.05,Z0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},eS=function(l){tS(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(g.clone)(Z0),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,r=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",r*r);var n=t.get("d");t.set("molecularParam",(n+1)*r)},e.prototype.createDelegate=function(t){var r=this,n=this,o=n.get("delegate");(!o||o.destroyed)&&(n.magnify(t),o=n.get("delegate"),o.on("dragstart",function(u){n.set("delegateCenterDiff",{x:o.attr("x")-u.x,y:o.attr("y")-u.y})}),o.on("drag",function(u){n.magnify(u)}),this.get("scaleDBy")==="wheel"&&o.on("mousewheel",function(u){r.scaleDByWheel(u)}),this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),o,u=r.get("delegate"),d=u?{x:u.attr("x"),y:u.attr("y")}:void 0,m=d||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?o=1-bg:o=1/(1-bg);var T=r.get("maxR"),j=r.get("minR"),G=r.get("r");(G>(T||n.get("height"))&&o>1||G<(j||n.get("height")*.05)&&o<1)&&(o=1),G*=o,r.set("r",G),r.set("r2",G*G);var et=r.get("d");r.set("molecularParam",(et+1)*G),r.set("delegateCenterDiff",void 0),r.magnify(t,m)}},e.prototype.scaleRByDrag=function(t){var r=this;if(!!t){var n=r.get("dragPrePos"),o=r.get("graph"),u,d=o.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?u=1-bg:u=1/(1-bg);var m=r.get("maxR"),T=r.get("minR"),j=r.get("r");(j>(m||o.get("height"))&&u>1||j<(T||o.get("height")*.05)&&u<1)&&(u=1),j*=u,r.set("r",j),r.set("r2",j*j);var G=r.get("d");r.set("molecularParam",(G+1)*j),r.magnify(t,d),r.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var r=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var o=r.get("d"),u=o+n,d=r.get("maxD"),m=r.get("minD");if(u<d&&u>m){r.set("d",u);var T=r.get("r");r.set("molecularParam",(u+1)*T);var j=r.get("delegate"),G=j?{x:j.attr("x"),y:j.attr("y")}:void 0;r.set("delegateCenterDiff",void 0),r.magnify(t,G)}}},e.prototype.scaleDByDrag=function(t){var r=this,n=r.get("dragPrePos"),o=t.x-n.x>0?.1:-.1,u=r.get("d"),d=u+o,m=r.get("maxD"),T=r.get("minD");if(d<m&&d>T){r.set("d",d);var j=r.get("r");r.set("molecularParam",(d+1)*j),r.magnify(t)}r.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,r){var n=this;n.restoreCache();var o=n.get("graph"),u=n.get("cachedMagnifiedModels"),d=n.get("cachedOriginPositions"),m=n.get("showLabel"),T=n.get("r"),j=n.get("r2"),G=n.get("d"),et=n.get("molecularParam"),J=o.getNodes(),at=J.length,mt=r?{x:r.x,y:r.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(mt=n.get("cacheCenter"));var St=n.get("delegateCenterDiff");St&&(mt.x+=St.x,mt.y+=St.y),n.updateDelegate(mt,T);for(var Dt=0;Dt<at;Dt++){var Ct=J[Dt].getModel(),Bt=Ct.x,zt=Ct.y;if(!(isNaN(Bt)||isNaN(zt))){var Ht=(Bt-mt.x)*(Bt-mt.x)+(zt-mt.y)*(zt-mt.y);if(!isNaN(Ht)&&Ht<j&&Ht!==0){var qt=Math.sqrt(Ht),ue=et*qt/(G*qt+T),se=(Bt-mt.x)/qt,Me=(zt-mt.y)/qt;if(Ct.x=se*ue+mt.x,Ct.y=Me*ue+mt.y,d[Ct.id]||(d[Ct.id]={x:Bt,y:zt,texts:[]}),u.push(Ct),m&&2*qt<T)for(var ve=J[Dt],De=ve.getContainer(),ye=De.getChildren(),pr=ye.length,cr=0;cr<pr;cr++){var fr=ye[cr];fr.get("type")==="text"&&(d[Ct.id].texts.push({visible:fr.get("visible"),shape:fr}),fr.set("visible",!0))}}}}o.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,r=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),o=r.length,u=0;u<o;u++){var d=r[u],m=d.id,T=n[m];d.x=T.x,d.y=T.y;for(var j=T.texts.length,G=0;G<j;G++){var et=T.texts[G];et.shape.set("visible",et.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var r=this,n=t.r,o=t.d,u=t.trigger,d=t.minD,m=t.maxD,T=t.minR,j=t.maxR,G=t.scaleDBy,et=t.scaleRBy;isNaN(t.r)||(r.set("r",n),r.set("r2",n*n)),isNaN(o)||r.set("d",o),isNaN(m)||r.set("maxD",m),isNaN(d)||r.set("minD",d),isNaN(j)||r.set("maxR",j),isNaN(T)||r.set("minR",T);var J=r.get("d"),at=r.get("r");if(r.set("molecularParam",(J+1)*at),(u==="mousemove"||u==="click"||u==="drag")&&r.set("trigger",u),G==="drag"||G==="wheel"||G==="unset"){r.set("scaleDBy",G),r.get("delegate").remove(),r.get("delegate").destroy();var mt=r.get("dPercentText");mt&&(mt.remove(),mt.destroy())}if(et==="drag"||et==="wheel"||et==="unset"){r.set("scaleRBy",et),r.get("delegate").remove(),r.get("delegate").destroy();var mt=r.get("dPercentText");mt&&(mt.remove(),mt.destroy())}},e.prototype.updateDelegate=function(t,r){var n=this,o=this,u=o.get("graph"),d=o.get("delegate");if(!d||d.destroyed){var m=u.get("group"),T=o.get("delegateStyle")||Z0;d=m.addShape("circle",{attrs:Ap({r:r/1.5,x:t.x,y:t.y},T),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?d.on("mousewheel",function(at){o.scaleRByWheel(at)}):this.get("scaleRBy")==="drag"&&(d.on("dragstart",function(at){o.set("dragging",!0),o.set("cacheCenter",{x:at.x,y:at.y}),o.set("dragPrePos",{x:at.x,y:at.y})}),d.on("drag",function(at){o.scaleRByDrag(at)}),d.on("dragend",function(at){o.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?d.on("mousewheel",function(at){n.scaleDByWheel(at)}):this.get("scaleDBy")==="drag"&&(d.on("dragstart",function(at){o.set("dragging",!0),o.set("cacheCenter",{x:at.x,y:at.y}),o.set("dragPrePos",{x:at.x,y:at.y})}),d.on("drag",function(at){n.scaleDByDrag(at)}),d.on("dragend",function(at){o.set("dragging",!1)})))}else d.attr({x:t.x,y:t.y,r:r/1.5});if(o.get("showDPercent")){var j=Math.round((o.get("d")-o.get("minD"))/(o.get("maxD")-o.get("minD"))*100),G=o.get("dPercentText"),et=t.y+r/1.5+16;if(!G||G.destroyed){var J=u.get("group");G=J.addShape("text",{attrs:{text:j+"%",x:t.x,y:et,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),o.set("dPercentText",G)}else G.attr({text:j+"%",x:t.x,y:et})}o.set("delegate",d)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var r=this.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(tl),rS=eS,nS=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$0=.05;Mp()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var iS=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],r=e.target;r;){if(t.push(r),r.tagName==="HTML")return t.push(document,window),t;r=r.parentElement}return t},aS=function(l){nS(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(r){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},e.prototype.init=function(){var t=this,r=this.get("graph"),n=this.get("getContent"),o=n(r),u=o;Object(g.isString)(o)&&(u=Object(rr.b)(o));var d=this.get("className");u.setAttribute("class",d||"g6-component-toolbar");var m=this.get("container");m||(m=this.get("graph").get("container")),Object(g.isString)(m)&&(m=document.getElementById(m)),m.appendChild(u),this.set("toolBar",u);var T=this.get("handleClick");u.addEventListener("click",function(G){var et=iS(G).filter(function(at){return at.nodeName==="LI"});if(et.length!==0){var J=et[0].getAttribute("code");!J||(T?T(J,r):t.handleDefaultOperator(J,r))}});var j=this.get("position");j&&Object(rr.e)(u,{top:j.y+"px",left:j.x+"px"}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),r=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),o=document.querySelector('.g6-component-toolbar li[code="redo"]'),u=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!r||!n||!o||!u||t.on("stackchange",function(d){var m=d.undoStack,T=d.redoStack,j=m.length,G=T.length;j===1?(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),n.removeAttribute("style")),G===0?(o.setAttribute("style","cursor: not-allowed"),u.setAttribute("style","opacity: 0.4")):(o.removeAttribute("style"),u.removeAttribute("style"))})},e.prototype.undo=function(){var t=this.get("graph"),r=t.getUndoStack();if(!(!r||r.length===1)){var n=r.pop();if(n){var o=n.action;t.pushStack(o,Object(g.clone)(n.data),"redo");var u=n.data.before;if(o==="add"&&(u=n.data.after),!u)return;switch(o){case"visible":{Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){var j=t.findById(T.id);T.visible?t.showItem(j,!1):t.hideItem(j,!1)})});break}case"render":case"update":Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){t.updateItem(T.id,T,!1)})});break;case"changedata":t.changeData(u,!1);break;case"delete":{Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){var j=T.itemType;delete T.itemType,t.addItem(j,T,!1)})});break}case"add":Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){t.removeItem(T.id,!1)})});break;case"updateComboTree":Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){t.updateComboTree(T.id,T.parentId,!1)})});break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),r=t.getRedoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var o=n.action,u=n.data.after;if(t.pushStack(o,Object(g.clone)(n.data)),o==="delete"&&(u=n.data.before),!u)return;switch(o){case"visible":{Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){var j=t.findById(T.id);T.visible?t.showItem(j,!1):t.hideItem(j,!1)})});break}case"render":case"update":Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){t.updateItem(T.id,T,!1)})});break;case"changedata":t.changeData(u,!1);break;case"delete":u.edges&&u.edges.forEach(function(d){t.removeItem(d.id,!1)}),u.nodes&&u.nodes.forEach(function(d){t.removeItem(d.id,!1)}),u.combos&&u.combos.forEach(function(d){t.removeItem(d.id,!1)});break;case"add":{Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){var j=T.itemType;delete T.itemType,t.addItem(j,T,!1)})});break}case"updateComboTree":Object.keys(u).forEach(function(d){var m=u[d];!m||m.forEach(function(T){t.updateComboTree(T.id,T.parentId,!1)})});break;default:}}}},e.prototype.handleDefaultOperator=function(t,r){var n=r.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var o=1/(1-$0*this.get("zoomSensitivity")),u=this.get("maxZoom")||r.get("maxZoom");if(o*n>u)return;r.zoomTo(n*o);break}case"zoomIn":{var d=1-$0*this.get("zoomSensitivity"),m=this.get("minZoom")||r.get("minZoom");if(d*n<m)return;r.zoomTo(n*d);break}case"realZoom":r.zoomTo(1);break;case"autoZoom":r.fitView([20,20]);break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(g.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(tl),oS=aS,sS=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Mp()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var lS=function(l){sS(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(r){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+r.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+r.item.getID()+`</span>
        `},shouldBegin:function(r){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,r=t.get("className")||"g6-component-tooltip",n=Object(rr.b)("<div class="+r+"></div>"),o=t.get("container");o||(o=t.get("graph").get("container")),Object(g.isString)(o)&&(o=document.getElementById(o)),Object(rr.e)(n,{position:"absolute",visibility:"hidden",display:"none"}),o.appendChild(n),t.get("trigger")!=="click"&&(n.addEventListener("mouseenter",function(u){Object(rr.e)(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(u){t.hideTooltip()})),t.set("tooltip",n)},e.prototype.onClick=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,o=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),o.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),o.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,o=this.get("graph");this.currentTarget=n,this.showTooltip(t),o.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var r=this.get("itemTypes");t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(!!t.item){var r=this.get("itemTypes");if(!(t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),o=this.get("getContent"),u=o(t);Object(g.isString)(u)?n.innerHTML=u:n.innerHTML=u.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Object(rr.e)(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var r=this.get("shouldBegin"),n=this.get("tooltip");if(!r(t)){Object(rr.e)(n,{visibility:"hidden",display:"none"});return}var o=this.get("graph"),u=o.get("width"),d=o.get("height"),m=this.get("offsetX")||0,T=this.get("offsetY")||0,j=o.getPointByClient(t.clientX,t.clientY),G=this.get("fixToNode"),et=t.item;if(et.getType&&et.getType()==="node"&&G&&Object(g.isArray)(G)&&G.length>=2){var J=et.getBBox();j={x:J.minX+J.width*G[0],y:J.minY+J.height*G[1]}}var at=o.getCanvasByPoint(j.x,j.y),mt=at.x,St=at.y,Dt=o.getContainer(),Ct={x:mt+Dt.offsetLeft+m,y:St+Dt.offsetTop+T};Object(rr.e)(n,{visibility:"visible",display:"unset"});var Bt=n.getBoundingClientRect();mt+Bt.width+m>u&&(Ct.x-=Bt.width+m),St+Bt.height+T>d&&(Ct.y-=Bt.height+T),Object(rr.e)(n,{left:Ct.x+"px",top:Ct.y+"px"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(g.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(tl),uS=lS,mv=i("r+uu"),cS=function(l,e){for(var t=0,r=e.length,n=l.length;t<r;t++,n++)l[n]=e[t];return l};function fS(l){return Object(g.map)(l,function(e,t){var r=t===0?"M":"L",n=e[0],o=e[1];return[r,n,o]})}function Q0(l){return fS(l)}function hS(l){if(l.length<=2)return Q0(l);var e=[];Object(g.each)(l,function(u){Object(g.isEqual)(u,e.slice(e.length-2))||e.push(u[0],u[1])});var t=eu.a(e,!1),r=Object(g.head)(l),n=r[0],o=r[1];return t.unshift(["M",n,o]),t}function dS(l,e,t,r){r===void 0&&(r=!0);var n=new mv.b({values:l}),o=new mv.a({values:Object(g.map)(l,function(d,m){return m})}),u=Object(g.map)(l,function(d,m){return[o.scale(m)*e,t-n.scale(d)*t]});return r?hS(u):Q0(u)}function vS(l,e,t,r){r===void 0&&(r=5);for(var n=new mv.b({values:l}),o=new mv.a({values:Object(g.map)(l,function(et,J){return J})}),u=Object(g.map)(l,function(et,J){return[o.scale(J)*e,t-n.scale(et)*t]}),d=[],m=0;m<u.length;m++){var T=u[m],j={x:T[0],y:T[1],y0:t,size:r},G=yS(j);d.push.apply(d,G)}return mS(d)}function gS(l,e){var t=new mv.b({values:l}),r=Math.max(0,t.min);return e-t.scale(r)*e}function pS(l,e,t,r){var n=cS([],l),o=gS(r,t);return n.push(["L",e,o]),n.push(["L",0,o]),n.push(["Z"]),n}function yS(l){var e=l.x,t=l.y,r=l.y0,n=l.size,o,u;Object(g.isArray)(t)?(o=t[0],u=t[1]):(o=r,u=t);var d,m;Object(g.isArray)(e)?(d=e[0],m=e[1]):(d=e-n/2,m=e+n/2);var T=[{x:d,y:o},{x:d,y:u}];return T.push({x:m,y:u},{x:m,y:o}),T}function mS(l,e){e===void 0&&(e=!0);var t=[],r=l[0];t.push(["M",r.x,r.y]);for(var n=1,o=l.length;n<o;n++)t.push(["L",l[n].x,l[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}var bv=function(){return bv=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},bv.apply(this,arguments)},bS={stroke:"#C5C5C5",strokeOpacity:.85},OS={fill:"#CACED4",opacity:.85},xS=function(){function l(e){var t=e.x,r=t===void 0?0:t,n=e.y,o=n===void 0?0:n,u=e.width,d=u===void 0?200:u,m=e.height,T=m===void 0?26:m,j=e.smooth,G=j===void 0?!0:j,et=e.isArea,J=et===void 0?!1:et,at=e.data,mt=at===void 0?[]:at,St=e.lineStyle,Dt=e.areaStyle,Ct=e.group,Bt=e.interval,zt=Bt===void 0?null:Bt;this.group=Ct,this.x=r,this.y=o,this.width=d,this.height=T,this.data=mt,this.smooth=G,this.isArea=J,this.lineStyle=Object.assign({},bS,St),this.areaStyle=Object.assign({},OS,Dt),this.intervalConfig=zt,this.renderLine()}return l.prototype.renderLine=function(){var e=this,t=e.x,r=e.y,n=e.width,o=e.height,u=e.barWidth,d=e.data,m=e.smooth,T=e.isArea,j=e.lineStyle,G=e.areaStyle,et=this.group.addGroup({name:"trend-group"});if(d){var J=dS(d,n,o,m);if(et.addShape("path",{attrs:bv({path:J},j)}),T){var at=pS(J,n,o,d);et.addShape("path",{attrs:bv({path:at},G)})}}this.intervalConfig&&et.addShape("path",{attrs:bv({path:vS(this.intervalConfig.data,n,o,this.intervalConfig.style.barWidth)},this.intervalConfig.style)}),et.move(t,r)},l.prototype.destory=function(){this.group.destroy()},l}(),ES=xS,ud=function(){return ud=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},ud.apply(this,arguments)},SS={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},MS={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},CS=function(){function l(e){var t=e.group,r=e.name,n=e.type,o=e.x,u=o===void 0?0:o,d=e.y,m=d===void 0?0:d,T=e.width,j=T===void 0?2:T,G=e.height,et=G===void 0?24:G,J=e.style,at=J===void 0?{}:J;this.group=t,this.name=r,this.handleType=n,this.x=u,this.y=m,this.width=j,this.height=et,n==="trend"?this.style=ud(ud({},SS),at):n==="simple"&&(this.style=ud(ud({},MS),at)),this.renderHandle()}return l.prototype.setX=function(e){this.setXY(e,void 0)},l.prototype.setY=function(e){this.setXY(void 0,e)},l.prototype.setXY=function(e,t){Object(g.isNumber)(e)&&(this.x=e),Object(g.isNumber)(t)&&(this.y=t),this.updateXY()},l.prototype.renderHandle=function(){var e=this,t=e.width,r=e.height,n=e.style,o=e.name,u=n.fill,d=n.stroke,m=n.radius,T=n.opacity,j=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:r,fill:u,stroke:d,radius:m,opacity:T,cursor:j},name:o+"-handler"}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:u,stroke:d,radius:m,opacity:T,cursor:j},name:o+"-handler"}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r,r:2*t,fill:u,stroke:d,radius:m,opacity:T,cursor:j},name:o+"-handler"})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:u,stroke:d,radius:m,opacity:T,cursor:j,lineWidth:2},name:o+"-handler"})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},l.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var r=e.style.highLightFill;e.topCircle.attr("fill",r)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var r=e.style.fill;e.topCircle.attr("fill",r)})},l.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var r=e.style.highLightFill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var r=e.style.fill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)})},l.prototype.show=function(){this.handleGroup.show()},l.prototype.hide=function(){this.handleGroup.hide()},l.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},l}(),J0=CS,q0="timebarstartplay",tb="timebarendplay",hu="valuechange",lh="timebarConfigChanged",rf="playPauseBtn",Ov="nextStepBtn",xv="preStepBtn",Tp=function(){return Tp=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Tp.apply(this,arguments)},AS=function(){function l(e){this.config=Object(g.deepMix)({},e),this.init()}return l.prototype.update=function(e){this.config=Object(g.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},l.prototype.init=function(){this.initElement(),this.renderMarker()},l.prototype.initElement=function(){var e=this.config,t=e.group,r=e.style,n=r.scale,o=n===void 0?1:n,u=r.offsetX,d=u===void 0?0:u,m=r.offsetY,T=m===void 0?0:m,j=this.config.x+d,G=this.config.y+T,et=t.addGroup({name:rf});this.startMarkerGroup=et.addGroup({name:rf}),this.circle=t.addShape("circle",{attrs:Tp({x:j,y:G,r:this.config.r*o},r),name:rf}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(j,G,o),fill:r.stroke||"#aaa"}}),this.pauseMarkerGroup=et.addGroup({name:rf});var J=.25*this.config.r*o,at=.5*this.config.r*Math.sqrt(3)*o;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:j-.375*this.config.r*o,y:G-at/2,width:J,height:at,fill:r.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:j+1/8*this.config.r*o,y:G-at/2,width:J,height:at,fill:r.stroke||"#aaa",lineWidth:0}})},l.prototype.updateElement=function(){var e=this.config.style,t=e.scale,r=t===void 0?1:t,n=e.offsetX,o=n===void 0?0:n,u=e.offsetY,d=u===void 0?0:u,m=this.config.x+o,T=this.config.y+d;this.circle.attr("x",m),this.circle.attr("y",T),this.circle.attr("r",this.config.r*r),this.startMarker.attr("path",this.getStartMarkerPath(m,T,r));var j=.25*this.config.r*r,G=.5*this.config.r*Math.sqrt(3)*r;this.pauseLeftMarker.attr("x",m-(1/4+1/8)*this.config.r*r),this.pauseLeftMarker.attr("y",T-G/2),this.pauseLeftMarker.attr("width",j),this.pauseLeftMarker.attr("height",G),this.pauseRightMarker.attr("x",m+1/8*this.config.r*r),this.pauseRightMarker.attr("y",T-G/2),this.pauseRightMarker.attr("width",j),this.pauseRightMarker.attr("height",G)},l.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},l.prototype.getStartMarkerPath=function(e,t,r){var n=.5*this.config.r*Math.sqrt(3)*r;return[["M",e-n/Math.sqrt(3)/2,t-n/2],["L",e+n/Math.sqrt(3),t],["L",e-n/Math.sqrt(3)/2,t+n/2]]},l}(),TS=AS,Lo=function(){return Lo=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Lo.apply(this,arguments)},Ev=E.transform,DS="#aaa",PS="green",IS={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},LS={fill:"#fff"},RS={fill:"green"},eb={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},rb={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},jS={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:eb,timeTypeControllerStyle:rb},Dp=110,nf=50,wS=function(){function l(e){this.controllerCfg=Object(g.deepMix)({},jS,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return l.prototype.init=function(){this.renderPlayButton()},l.prototype.getNextMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e+r,t],["L",e,t+r],["Z",e,t-r],["M",e,t],["L",e-r,t-r],["L",e-r,t+r],["Z"]]},l.prototype.getPreMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e-r,t],["L",e,t+r],["L",e,t-r],["M",e,t],["L",e+r,t-r],["L",e+r,t+r],["Z"]]},l.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,r=e.height,n=e.x,o=e.y,u=e.hideTimeTypeController,d=e.fill,m=d===void 0?DS:d,T=e.stroke,j=T===void 0?PS:T,G=Lo(Lo({},IS),e.playBtnStyle||{}),et=Lo(Lo({},LS),e.preBtnStyle||{}),J=Lo(Lo({},RS),e.nextBtnStyle||{}),at=r/2-5,mt=o+10,St=this.controllerGroup.addShape("rect",{attrs:{x:n,y:mt,width:t,height:r,stroke:j,fill:m},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:mt,r:at}):this.playButton=new TS({group:this.controllerGroup,x:t/2,y:mt+at+5,r:at,isPlay:this.isPlay,style:G});var Dt=et.offsetX||0,Ct=et.offsetY||0,Bt=(et.scale||1)*at;this.controllerGroup.addShape("path",{attrs:Lo({path:this.getPreMarkerPath(t/2-5*at+Dt,mt+at+5+Ct,Bt*.5)},et),name:xv});var zt=J.offsetX||0,Ht=J.offsetY||0,qt=(J.scale||1)*at;this.controllerGroup.addShape("path",{attrs:Lo({path:this.getNextMarkerPath(t/2+5*at+zt,mt+at+5+Ht,qt*.5)},J),name:Ov}),St.toBack(),this.renderSpeedBtn(),u||this.renderToggleTime(),this.bindEvent();var ue=this.controllerCfg.scale,se=ue===void 0?1:ue,Me=this.controllerGroup.getCanvasBBox(),ve=(Me.maxX+Me.minX)/2,De=(Me.maxY+Me.minY)/2,ye=Ev([1,0,0,0,1,0,0,0,1],[["t",-ve,-De],["s",se,se],["t",ve,De]]);this.controllerGroup.setMatrix(ye)},l.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,r=e.width,n=e.hideTimeTypeController,o=Lo(Lo({},eb),this.controllerCfg.speedControllerStyle||{}),u=o.scroller,d=u===void 0?{}:u,m=o.text,T=m===void 0?{}:m,j=o.pointer,G=j===void 0?{}:j,et=o.scale,J=et===void 0?1:et,at=o.offsetX,mt=at===void 0?0:at,St=o.offsetY,Dt=St===void 0?0:St,Ct=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=Ct;var Bt=[],zt=5;this.speedAxisY=[19,22,26,32,39];for(var Ht=0;Ht<5;Ht++){var qt=t+this.speedAxisY[Ht],ue=r-(n?nf:Dp);Ct.addShape("line",{attrs:Lo({x1:ue,x2:ue+15,y1:qt,y2:qt},d),speed:zt,name:"speed-rect"}),this.speedAxisY[Ht]=qt,Bt.push(zt),zt=zt-1}this.speedText=Ct.addShape("text",{attrs:Lo({x:r-(n?nf:Dp)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},T)}),this.speedPoint=Ct.addShape("path",{attrs:Lo({path:this.getPointerPath(r-(n?nf:Dp),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},G)});var se=this.speedGroup.getCanvasBBox(),Me=(se.maxX+se.minX)/2,ve=(se.maxY+se.minY)/2,De=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];De=Ev(De,[["t",-Me,-ve],["s",J,J],["t",Me+mt*J,ve+Dt*J]]),this.speedGroup.setMatrix(De)},l.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},l.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,r=Lo(Lo({},rb),this.controllerCfg.timeTypeControllerStyle||{}),n=r.scale,o=n===void 0?1:n,u=r.offsetX,d=u===void 0?0:u,m=r.offsetY,T=m===void 0?0:m,j=r.box,G=j===void 0?{}:j,et=r.check,J=et===void 0?{}:et,at=r.text,mt=at===void 0?{}:at;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:Lo({x:t-nf,y:this.speedAxisY[0]+3.5},G),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Lo({path:[["M",t-nf+3,this.speedAxisY[1]+6],["L",t-nf+7,this.speedAxisY[1]+10],["L",t-nf+12,this.speedAxisY[1]+4]]},J),capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Lo({text:((e=this.controllerCfg)===null||e===void 0?void 0:e.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:t-nf+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},mt)});var St=this.toggleGroup.getCanvasBBox(),Dt=(St.maxX+St.minX)/2,Ct=(St.maxY+St.minY)/2,Bt=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Bt=Ev(Bt,[["t",-Dt,-Ct],["s",o,o],["t",Dt+d*o,Ct+T*o]]),this.toggleGroup.setMatrix(Bt)},l.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",function(t){var r=t.target.attr("y1"),n=e.speedPoint.attr("matrix"),o=e.speedAxisY.indexOf(n[7]||0),u=e.speedAxisY.indexOf(r),d=e.speedAxisY[u]-e.speedAxisY[o];n=Ev(n,[["t",0,d]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-u,e.speedText.attr("text",e.currentSpeed+".0X"),e.group.emit(lh,{speed:e.currentSpeed,type:e.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var r=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],n=r[7],o=e.speedAxisY.indexOf(n);if(o===-1){var u=Infinity;e.speedAxisY.forEach(function(m,T){var j=Math.abs(m-n);u>j&&(u=j,o=T)})}t.originalEvent.deltaY>0?o=Math.max(0,o-1):o=Math.min(e.speedAxisY.length-1,o+1);var d=e.speedAxisY[o]-n;r=Ev(r,[["t",0,d]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text",e.currentSpeed+".0X"),e.group.emit(lh,{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var r,n,o=t.target.get("isChecked");o?(e.checkedIcon.hide(),e.checkedText.attr("text",((n=e.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",((r=e.controllerCfg)===null||r===void 0?void 0:r.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),e.currentType="single"),t.target.set("isChecked",!o),e.group.emit(lh,{type:e.currentType,speed:e.currentSpeed})})},l.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},l}(),nb=wS,Ga=function(){return Ga=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Ga.apply(this,arguments)},BS={fill:"#416180",opacity:.05},NS={fill:"#416180",opacity:.15,radius:5},FS={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Pp=2,GS={width:Pp,height:24},US={textBaseline:"middle",fill:"#000",opacity:.45},WS={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},zS={lineWidth:1,stroke:"#ccc"},VS=function(){function l(e){var t=this;this.prevX=0,this.onMouseDown=function(vn){return function(ln){t.currentHandler=vn;var Pn=ln.originalEvent;Pn.stopPropagation(),Pn.preventDefault(),t.prevX=Object(g.get)(Pn,"touches.0.pageX",Pn.pageX);var Lr=t.canvas.get("container");Lr.addEventListener("mousemove",t.onMouseMove),Lr.addEventListener("mouseup",t.onMouseUp),Lr.addEventListener("mouseleave",t.onMouseUp),Lr.addEventListener("touchmove",t.onMouseMove),Lr.addEventListener("touchend",t.onMouseUp),Lr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(vn){vn.stopPropagation(),vn.preventDefault();var ln=Object(g.get)(vn,"touches.0.pageX",vn.pageX),Pn=ln-t.prevX,Lr=t.adjustOffsetRange(Pn/t.width);t.updateStartEnd(Lr),t.updateUI(),t.prevX=ln},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var vn=t.canvas.get("container");vn&&(vn.removeEventListener("mousemove",t.onMouseMove),vn.removeEventListener("mouseup",t.onMouseUp),vn.removeEventListener("mouseleave",t.onMouseUp),vn.removeEventListener("touchmove",t.onMouseMove),vn.removeEventListener("touchend",t.onMouseUp),vn.removeEventListener("touchcancel",t.onMouseUp))};var r=e.x,n=r===void 0?0:r,o=e.y,u=o===void 0?0:o,d=e.width,m=d===void 0?100:d,T=e.height,j=e.padding,G=j===void 0?10:j,et=e.trendCfg,J=e.controllerCfg,at=J===void 0?{speed:1}:J,mt=e.backgroundStyle,St=mt===void 0?{}:mt,Dt=e.foregroundStyle,Ct=Dt===void 0?{}:Dt,Bt=e.handlerStyle,zt=Bt===void 0?{}:Bt,Ht=e.textStyle,qt=Ht===void 0?{}:Ht,ue=e.start,se=ue===void 0?0:ue,Me=e.end,ve=Me===void 0?1:Me,De=e.minText,ye=De===void 0?"":De,pr=e.maxText,cr=pr===void 0?"":pr,fr=e.group,en=e.graph,sn=e.canvas,Yr=e.tick,rn=Yr===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(ln){return ln},ticks:[]}:Yr,gn=e.type;this.graph=en,this.canvas=sn,this.group=fr,this.timeBarType=gn,this.x=n,this.y=u,this.width=m,this.height=T,this.padding=G,this.ticks=rn.ticks,this.trendCfg=et,this.controllerCfg=at,this.currentSpeed=at.speed||1,this.tickLabelFormatter=rn.tickLabelFormatter,gn==="trend"?this.backgroundStyle=Ga(Ga({},BS),St):gn==="simple"&&(this.backgroundStyle=Ga(Ga({},NS),St)),this.foregroundStyle=Ga(Ga({},FS),Ct),this.handlerStyle=Ga(Ga({},GS),zt),this.textStyle=Ga(Ga({},US),qt),this.tickLabelStyle=Ga(Ga({},WS),rn.tickLabelStyle),this.tickLineStyle=Ga(Ga({},zS),rn.tickLineStyle),this.currentMode="range",this.start=se,this.end=ve,this.minText=ye,this.maxText=cr,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return l.prototype.update=function(e){var t=e.x,r=e.y,n=e.width,o=e.height,u=e.minText,d=e.maxText,m=e.start,T=e.end;this.start=Math.min(1,Math.max(m,0)),this.end=Math.min(1,Math.max(T,0)),Object(g.assign)(this,{x:t,y:r,width:n,height:o,minText:u,maxText:d}),this.updateUI()},l.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},l.prototype.renderSlider=function(){var e=this,t=this,r=t.width,n=t.height,o=t.timeBarType;if(o==="trend"&&Object(g.size)(Object(g.get)(this.trendCfg,"data"))){var u=new ES(Ga(Ga({x:this.x,y:this.y,width:r,height:n},this.trendCfg),{group:this.group}));this.trendComponent=u}var d=this.group.addGroup({name:"slider-group"});d.addShape("rect",{attrs:Ga({x:0,y:0,width:r,height:n},this.backgroundStyle)});var m=this.group.addGroup();o==="trend"?(this.minTextShape=m.addShape("text",{attrs:Ga({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=m.addShape("text",{attrs:Ga({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})):(this.minTextShape=m.addShape("text",{attrs:Ga({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=m.addShape("text",{attrs:Ga({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Ga({x:0,y:this.y,height:n},this.foregroundStyle)}),this.foregroundShape.on("mousedown",function(St){St.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(St){St.target.attr("cursor",e.foregroundStyle.cursor||"grab")});var T=Object(g.get)(this.handlerStyle,"width",2),j=Object(g.get)(this.handlerStyle,"height",24),G=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new J0({name:"minHandlerShape",group:G,type:o,x:this.x,y:this.y,width:T,height:j,style:this.handlerStyle});var et=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new J0({name:"maxHandlerShape",group:et,type:o,x:this.x,y:this.y,width:T,height:j,style:this.handlerStyle});var J=this.ticks,at=r/(J.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(St){St.destroy()});var mt=-Infinity;this.textList=J.map(function(St,Dt){e.tickPosList.push(e.x+Dt*at);var Ct;e.tickLabelFormatter?(Ct=e.tickLabelFormatter(St),!Object(g.isString)(Ct)&&Ct&&(Ct=St.date)):Ct=St.date;var Bt=e.group.addShape("text",{attrs:Ga({x:e.x+Dt*at,y:e.y+n+5,text:Ct,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle)}),zt=e.group.addShape("line",{attrs:Ga({x1:e.x+Dt*at,y1:e.y+n+2,x2:e.x+Dt*at,y2:e.y+n+6},e.tickLineStyle)});zt.toBack();var Ht=Bt.getBBox();return Ht.minX>mt?(Bt.show(),zt.show(),mt=Ht.minX+Ht.width+10):(Bt.hide(),zt.hide()),Bt}),this.controllerBtnGroup=new nb(Ga({group:this.group,x:this.x,y:this.y+n+25,width:r,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),d.move(this.x,this.y),this.bindEvents()},l.prototype.bindEvents=function(){var e=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var r=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),r.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(rf+":click",function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on(Ov+":click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on(xv+":click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(lh,function(n){var o=n.type,u=n.speed;e.currentSpeed=u,e.currentMode=o,o==="single"?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):o==="range"&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},l.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},l.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,r=1-this.start;return Math.min(r,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,r=1-this.end;return Math.min(r,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,r=1-this.end;return Math.min(r,Math.max(t,e))}default:return 0}},l.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],r=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;default:break}},l.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,r=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",r-t);var n=Object(g.get)(this.handlerStyle,"width",Pp);this.setText(this.minText,this.maxText);var o=this.dodgeText([t,r]),u=o[0],d=o[1];this.minHandlerShape.setX(t-n/2),Object(g.each)(u,function(m,T){return e.minTextShape.attr(T,m)}),this.maxHandlerShape.setX(r-n/2),Object(g.each)(d,function(m,T){return e.maxTextShape.attr(T,m)}),this.currentMode==="range"?this.graph.emit(hu,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(hu,{value:[this.end,this.end]})},l.prototype.dodgeText=function(e){var t,r,n=2,o=Object(g.get)(this.handlerStyle,"width",Pp),u=this.minTextShape,d=this.maxTextShape,m=e[0],T=e[1],j=!1;m>T&&(t=[T,m],m=t[0],T=t[1],r=[d,u],u=r[0],d=r[1],j=!0);var G=u.getBBox(),et=d.getBBox(),J=null,at=null;return this.timeBarType==="trend"?(J=m-G.width<this.x+n?{x:m+o/2+n,textAlign:"left"}:{x:m-o/2-n,textAlign:"right"},at=T+et.width>this.x+this.width?{x:T-o/2-n,textAlign:"right"}:{x:T+o/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(J=G.width>m-n?{x:m+o/2+n,textAlign:"center"}:{x:m-o/2-n,textAlign:"center"},at=et.width>this.width-T-n?{x:T-o/2-n,textAlign:"center"}:{x:T+o/2+n,textAlign:"center"}),j?[at,J]:[J,at]},l.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e,r=t.ticks,n=t.width,o=e.currentSpeed,u=n/r.length,d=u/((10-o)*1e3/60),m=e.adjustOffsetRange(d/e.width);e.updateStartEnd(m),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())}):void 0},l.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(q0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(tb,null))},l.prototype.destory=function(){this.graph.off(hu);var e=this.group,t=e.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var r=e.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.off("maxHandlerShape-handler:mousedown"),r.off("maxHandlerShape-handler:touchstart"),r.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off(rf+":click"),e.off(Ov+":click"),e.off(xv+":click"),e.off(lh),e.destroy(),this.trendComponent&&this.trendComponent.destory()},l}(),kS=VS,fA={opacity:.5,fill:"#000"},hA={opacity:.5,fill:"#000",r:5},dA={fill:"#fff",fontSize:12},XS=function(){function l(e){var t=e.x,r=t===void 0?0:t,n=e.y,o=n===void 0?0:n,u=e.container,d=e.text,m=e.padding,T=m===void 0?[4,4,4,4]:m,j=e.className,G=j===void 0?"g6-component-timebar-tooltip":j,et=e.backgroundColor,J=et===void 0?"#000":et,at=e.textColor,mt=at===void 0?"#fff":at,St=e.opacity,Dt=St===void 0?.8:St,Ct=e.fontSize,Bt=Ct===void 0?12:Ct;this.container=u,this.className=G,this.backgroundColor=J,this.textColor=mt,this.x=r,this.y=o,this.text=d,this.padding=T,this.opacity=Dt,this.fontSize=Bt,this.render()}return l.prototype.render=function(){var e=this,t=e.className,r=e.x,n=e.y,o=e.backgroundColor,u=e.textColor,d=e.text,m=e.padding,T=e.opacity,j=e.fontSize,G=e.container,et=Object(rr.b)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+T+'"></div>');Object(g.isString)(G)&&(G=document.getElementById(G)),G.appendChild(et),e.parentHeight=G.offsetHeight,e.parentWidth=G.offsetWidth,Object(rr.e)(et,{visibility:"hidden",top:0,left:0});var J=Object(rr.b)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+o+"; font-size: "+j+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+u+"; padding: "+m[0]+"px "+m[1]+"px "+m[2]+"px "+m[3]+"px'></div>");J.innerHTML=d,et.appendChild(J),e.backgroundDOM=J;var at=Object(rr.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+o+"'></div>");et.appendChild(at),e.arrowDOM=at,e.container=et},l.prototype.show=function(e){var t=this,r=e.text,n=e.x,o=e.y,u=e.clientX,d=e.clientY;t.backgroundDOM.innerHTML=r;var m=t.backgroundDOM.offsetWidth,T=t.backgroundDOM.offsetHeight,j=t.arrowDOM.offsetWidth,G=t.arrowDOM.offsetHeight;Object(rr.e)(t.container,{top:-T-G+"px",left:n+"px",visibility:"visible"}),Object(rr.e)(t.backgroundDOM,{marginLeft:-m/2+"px"}),Object(rr.e)(t.arrowDOM,{marginLeft:-j/2+"px",top:T+"px"});var et=n-m/2,J=n+m/2;et<0?Object(rr.e)(t.backgroundDOM,{marginLeft:-m/2-et+"px"}):J>t.parentWidth&&Object(rr.e)(t.backgroundDOM,{marginLeft:-m/2-J+t.parentWidth+12+"px"})},l.prototype.hide=function(){Object(rr.e)(this.container,{top:0,left:0,visibility:"hidden"})},l}(),YS=XS,Ip=function(){return Ip=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Ip.apply(this,arguments)},HS={fill:"#5B8FF9"},KS={fill:"#e6e8e9"},_S=function(){function l(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,r=e.canvas,n=e.group,o=e.width,u=e.height,d=e.padding,m=e.data,T=e.start,j=e.end,G=e.x,et=G===void 0?0:G,J=e.y,at=J===void 0?0:J,mt=e.tickLabelFormatter,St=e.selectedTickStyle,Dt=St===void 0?HS:St,Ct=e.unselectedTickStyle,Bt=Ct===void 0?KS:Ct,zt=e.tooltipBackgroundColor,Ht=e.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=r,this.width=o,this.height=u,this.padding=d,this.data=m,this.start=T,this.end=j,this.tickLabelFormatter=mt,this.selectedTickStyle=Dt,this.unselectedTickStyle=Bt,this.x=et,this.y=at,this.tooltipBackgroundColor=zt,this.tooltipFomatter=Ht,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return l.prototype.renderSlices=function(){var e=this,t=this,r=t.width,n=t.height,o=t.padding,u=t.data,d=t.start,m=t.end,T=t.tickLabelFormatter,j=t.selectedTickStyle,G=t.unselectedTickStyle,et=r-2*o,J=10,at=4,mt=3*o+at+J,St=n-mt-2*o,Dt=2,Ct=u.length,Bt=(et-Dt*(Ct-1))/Ct;this.tickWidth=Bt;var zt=this.sliceGroup,Ht=[],qt=[],ue=Math.round(Ct*d),se=Math.round(Ct*m);this.startTickRectId=ue,this.endTickRectId=se,u.forEach(function(ve,De){var ye=De>=ue&&De<=se,pr=ye?j:G,cr=zt.addShape("rect",{attrs:Ip({x:o+De*(Bt+Dt),y:o,width:Bt,height:St},pr),draggable:!0,name:"tick-rect-"+De}),fr=zt.addShape("rect",{attrs:{x:o+De*Bt+Dt*(2*De-1)/2,y:o,width:De===0||De===Ct-1?Bt+Dt/2:Bt+Dt,height:St,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+De});fr.toFront();var en=cr.getBBox(),sn=(en.minX+en.maxX)/2;Ht.push({rect:cr,pickRect:fr,value:ve.date,x:sn,y:en.minY});var Yr;if(T?(Yr=T(ve),!Object(g.isString)(Yr)&&Yr&&(Yr=ve.date)):De%Math.round(Ct/10)==0&&(Yr=ve.date),Yr){qt.push(Yr);var rn=en.maxY+o*2;zt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:sn,y1:rn,x2:sn,y2:rn+at}});var gn=rn+at+o,vn=zt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:sn,y:gn,textAlign:"center",text:Yr,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},capture:!1}),ln=vn.getBBox();ln.maxX>r?vn.attr("textAlign","right"):ln.minX<0&&vn.attr("textAlign","left")}}),this.tickRects=Ht;var Me=this.group;this.currentSpeed=1,this.controllerBtnGroup=new nb({group:Me,x:this.x,y:this.y+n+5,width:r,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},l.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(j){var G=j.target;if(!(G.get("type")!=="rect"||!G.get("name"))){var et=parseInt(G.get("name").split("-")[2],10);if(!isNaN(et)){var J=e.tickRects,at=e.unselectedTickStyle;J.forEach(function(Ct){Ct.rect.attr(at)});var mt=e.selectedTickStyle;J[et].rect.attr(mt),e.startTickRectId=et,e.endTickRectId=et;var St=J.length,Dt=et/St;e.graph.emit(hu,{value:[Dt,Dt]})}}}),t.on("dragstart",function(j){var G=e.tickRects,et=e.unselectedTickStyle;G.forEach(function(Ct){Ct.rect.attr(et)});var J=j.target,at=parseInt(J.get("name").split("-")[2],10),mt=e.selectedTickStyle;G[at].rect.attr(mt),e.startTickRectId=at;var St=G.length,Dt=at/St;e.graph.emit(hu,{value:[Dt,Dt]}),e.dragging=!0}),t.on("dragover",function(j){if(!!e.dragging&&j.target.get("type")==="rect"){for(var G=parseInt(j.target.get("name").split("-")[2],10),et=e.startTickRectId,J=e.tickRects,at=e.selectedTickStyle,mt=e.unselectedTickStyle,St=0;St<J.length;St++){var Dt=St>=et&&St<=G?at:mt;J[St].rect.attr(Dt)}var Ct=J.length;e.endTickRectId=G;var Bt=et/Ct,zt=G/Ct;e.graph.emit(hu,{value:[Bt,zt]})}}),t.on("drop",function(j){if(!!e.dragging&&(e.dragging=!1,j.target.get("type")==="rect")){var G=e.startTickRectId,et=parseInt(j.target.get("name").split("-")[2],10);if(!(et<G)){var J=e.selectedTickStyle,at=e.tickRects;at[et].rect.attr(J),e.endTickRectId=et;var mt=at.length,St=G/mt,Dt=et/mt;e.graph.emit(hu,{value:[St,Dt]})}}});var r=this,n=r.tooltipBackgroundColor,o=r.tooltipFomatter,u=r.canvas,d=new YS({container:u.get("container"),backgroundColor:n}),m=this.tickRects;m.forEach(function(j){var G=j.pickRect;G.on("mouseenter",function(et){var J=et.target;if(J.get("type")==="rect"){var at=parseInt(J.get("name").split("-")[2],10),mt=u.getClientByPoint(m[at].x,m[at].y);d.show({x:m[at].x,y:m[at].y,clientX:mt.x,clientY:mt.y,text:o?o(m[at].value):m[at].value})}}),G.on("mouseleave",function(et){d.hide()})});var T=this.group;T.on(rf+":click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),T.on(Ov+":click",function(){e.updateStartEnd(1)}),T.on(xv+":click",function(){e.updateStartEnd(-1)}),T.on(lh,function(j){var G=j.type,et=j.speed;e.currentSpeed=et})},l.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(q0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(tb,null))},l.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)==0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},l.prototype.updateStartEnd=function(e){var t=this,r=this.tickRects,n=r.length,o=this.unselectedTickStyle,u=this.selectedTickStyle,d=t.endTickRectId;if(e>0?t.endTickRectId++:(r[t.endTickRectId].rect.attr(o),t.endTickRectId--),d!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var m=t.startTickRectId;m<=t.endTickRectId-1;m++)r[m].rect.attr(o);t.startTickRectId=t.endTickRectId}if(r[t.endTickRectId]){r[t.endTickRectId].rect.attr(u);var T=t.startTickRectId/n,j=t.endTickRectId/n;this.graph.emit(hu,{value:[T,j]})}},l.prototype.destory=function(){this.graph.off(hu);var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var r=t.pickRect;r.off("mouseenter"),r.off("mouseleave")}),this.tickRects.length=0,e.off(rf+":click"),e.off(Ov+":click"),e.off(xv+":click"),e.off(lh),this.sliceGroup.destroy()},l}(),ZS=_S,$S=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oc=function(){return oc=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},oc.apply(this,arguments)},QS=function(l,e){var t={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(l);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(l,r[n])&&(t[r[n]]=l[r[n]]);return t},JS=4,qS=26,tM=function(l){$S(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1}},e.prototype.initContainer=function(){var t=this.get("graph"),r=this._cfgs,n=r.width,o=r.height,u=this.get("className")||"g6-component-timebar",d=this.get("container"),m=this.get("graph").get("container"),T;d?(Object(g.isString)(d)&&(d=document.getElementById(d)),T=d):(T=Object(rr.b)("<div class='"+u+"'></div>"),Object(rr.e)(T,{position:"relative"})),m.appendChild(T),this.set("timeBarContainer",T);var j,G=t.get("renderer");G==="SVG"?j=new gl.Canvas({container:T,width:n,height:o}):j=new Zo.Canvas({container:T,width:n,height:o}),this.set("canvas",j)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),r=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",r),this.renderTrend(),this.initEvent();var n=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",n)},e.prototype.renderTrend=function(){var t=this._cfgs,r=t.width,n=t.x,o=t.y,u=t.padding,d=t.type,m=t.trend,T=t.slider,j=t.controllerCfg,G=t.textStyle,et=t.tick,J=t.backgroundStyle,at=t.foregroundStyle,mt=m.data,St=QS(m,["data"]),Dt=r-2*u,Ct=d==="trend"?qS:JS,Bt=this.get("graph"),zt=this.get("timeBarGroup"),Ht=this.get("canvas"),qt=null;d==="trend"||d==="simple"?qt=new kS(oc(oc({graph:Bt,canvas:Ht,group:zt,type:d,x:n+u,y:d==="trend"?o+u:o+u+15,width:Dt,height:Ct,padding:u,backgroundStyle:J,foregroundStyle:at,trendCfg:oc(oc({},St),{data:mt.map(function(ue){return ue.value})})},T),{tick:{ticks:mt,tickLabelFormatter:et.tickLabelFormatter,tickLabelStyle:et.tickLabelStyle,tickLineStyle:et.tickLineStyle},handlerStyle:oc(oc({},T.handlerStyle),{height:T.height||Ct}),controllerCfg:j,textStyle:G})):d==="tick"&&(qt=new ZS(oc({graph:Bt,canvas:Ht,group:zt,x:n+u,y:o+u},et))),this.set("timebar",qt)},e.prototype.filterData=function(t){var r,n=t.value,o=null,u=this._cfgs.type;if(u==="trend"||u==="simple"?o=this._cfgs.trend.data:u==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var d=this.get("rangeChange"),m=this.get("graph"),T=Math.round(o.length*n[0]),j=Math.round(o.length*n[1]);j=j>=o.length?o.length-1:j,T=T>=o.length?o.length-1:T;var G=(r=this._cfgs.tick)===null||r===void 0?void 0:r.tickLabelFormatter,et=G?G(o[T]):o[T].date,J=G?G(o[j]):o[j].date;if(u!=="tick"){var at=this.get("timebar");at.setText(et,J)}if(d)d(m,et,J);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=m.get("data"));var mt=this.cacheGraphData.nodes.filter(function(Ct){return Ct.date>=o[T].date&&Ct.date<=o[j].date}),St=mt.map(function(Ct){return Ct.id}),Dt=[];this.cacheGraphData.edges&&(Dt=this.cacheGraphData.edges.filter(function(Ct){return St.includes(Ct.source)&&St.includes(Ct.target)}),this.get("filterEdge")&&(Dt=Dt.filter(function(Ct){return Ct.date>=o[T].date&&Ct.date<=o[j].date}))),m.changeData({nodes:mt,edges:Dt})}},e.prototype.initEvent=function(){var t=this,r=0,n=0,o=this._cfgs.type;!o||o==="trend"||o==="simple"?(r=this._cfgs.slider.start,n=this._cfgs.slider.end):o==="tick"&&(r=this._cfgs.tick.start,n=this._cfgs.tick.end);var u=this.get("graph");u.on("afterrender",function(d){t.filterData({value:[r,n]})}),u.on(hu,Object(g.throttle)(function(d){t.filterData(d)},200,{trailing:!0,leading:!0}))},e.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),l.prototype.destroy.call(this);var r=this.get("timeBarContainer");if(r){var n=this.get("container");n||(n=this.get("graph").get("container")),Object(g.isString)(n)&&(n=document.getElementById(n)),n.removeChild(r)}},e}(tl),eM=tM,rM=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nM=Go.applyMatrix;function iM(l,e){var t,r;if(l.naturalWidth)t=l.naturalWidth,r=l.naturalHeight;else{var n=new Image;n.src=l.src,n.onload=function(){e&&e(n.width,n.height)}}return[t,r]}var aM=function(l){rM(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.graph;if(!this.destroyed){var o=this.get("container");Object(g.isString)(o)&&(o=document.getElementById(o));var u=Object(rr.b)("<div class="+r.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),d=0,m=0,T=!1,j=0,G=0,et=0,J=0,at=0,mt=0;o.addEventListener("mousedown",function(St){if(r.refresh=!1,St.target===u){var Dt=u.style;et=parseInt(Dt.width,10),J=parseInt(Dt.height,10);var Ct=t.get("width"),Bt=t.get("height");et>Ct||J>Bt||(mt=n.getZoom(),at=t.get("ratio"),T=!0,d=St.clientX,m=St.clientY)}},!1),o.addEventListener("mousemove",function(St){if(!(!T||Object(g.isNil)(St.clientX)||Object(g.isNil)(St.clientY))){var Dt=t.get("width"),Ct=t.get("height"),Bt=u.style;j=parseInt(Bt.left,10),G=parseInt(Bt.top,10),et=parseInt(Bt.width,10),J=parseInt(Bt.height,10);var zt=d-St.clientX,Ht=m-St.clientY;j-zt<0?zt=j:j-zt+et>=Dt&&(zt=0),G-Ht<0?Ht=G:G-Ht+J>=Ct&&(Ht=0),j-=zt,G-=Ht,Object(rr.e)(u,{left:j+"px",top:G+"px"}),n.translate(zt*mt/at,Ht*mt/at),d=St.clientX,m=St.clientY}},!1),o.addEventListener("mouseleave",function(){T=!1,r.refresh=!0},!1),o.addEventListener("mouseup",function(){T=!1,r.refresh=!0},!1),this.set("viewport",u),o.appendChild(u)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("width"),n=this.get("height"),o=this.get("graph"),u=o.get("width"),d=o.get("height"),m=u/d,T=o.getGroup(),j=T.getCanvasBBox(),G=[(j.minX+j.maxX)/2,(j.minY+j.maxY)/2],et=[j.maxX-j.minX,j.maxY-j.minY],J={centerX:G[0],centerY:G[1],width:0,height:0,minX:0,minY:0};j[0]/j[1]>m?(J.width=et[0],J.height=J.width/m):(J.height=et[1],J.width=J.height*m),J.minX=G[0]-J.width/2,J.minY=G[1]-J.height/2;var at=T.getMatrix();at||(at=[1,0,0,0,1,0,0,0,1]);var mt=Pr.a.invert([1,0,0,0,1,0,0,0,1],at),St=nM({x:J.minX,y:J.minY},mt),Dt=o.getCanvasByPoint(St.x,St.y),Ct=this.get("viewport");Ct||this.initViewport();var Bt=u/J.width,zt=Bt*r,Ht=Bt*n,qt=r*-Dt.x/J.width,ue=n*-Dt.y/J.height,se=qt+zt,Me=ue+Ht;qt<0&&(zt+=qt,qt=0),se>r&&(zt=zt-(se-r)),ue<0&&(Ht+=ue,ue=0),Me>n&&(Ht=Ht-(Me-n)),this.set("ratio",t);var ve=qt+"px",De=ue+"px";Object(rr.e)(Ct,{left:ve,top:De,width:zt+"px",height:Ht+"px"})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=r.get("width"),o=r.get("height"),u=o/n,d=t.get("className"),m=t.get("container"),T=t.get("width"),j=t.get("height");!T&&!j&&(T=200),T?(j=u*T,t.set("height",j)):(T=1/u*j,t.set("width",T));var G=Object(rr.b)("<div class='"+d+"' style='width: "+T+"px; height: "+j+"px; overflow: hidden; position: relative;'></div>");Object(g.isString)(m)&&(m=document.getElementById(m)),m?m.appendChild(G):r.get("container").appendChild(G),t.set("container",G);var et=Object(rr.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');G.appendChild(et);var J=Object(rr.b)('<span style="display: table-cell; vertical-align: middle; "></span>');et.appendChild(J),t.set("containerDOM",et),t.set("containerSpan",J);var at=Object(rr.b)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block; user-select: none;" draggable="false" />');t.set("imgDOM",at),t.updateImgSize(),J.appendChild(at),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,r=t.get("imgDOM"),n=t.get("width"),o=t.get("height");r.onload=function(){var u=iM(r);u[0]>u[1]?r.width=n:r.height=o}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),o=r.get("canvas").getCanvasBBox(),u=o.width,d=n/u;this.set("ratio",d),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var r=this,n=r.get("imgDOM");n.remove(),r.set("graphImg",t);var o=Object(rr.b)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');r.set("imgDOM",o),o.src=t,r.updateImgSize();var u=r.get("containerSpan");u.appendChild(o),r.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(tl),oM=aM,sM=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lp=function(){return Lp=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Lp.apply(this,arguments)},lM=Go.distance,ib=.05,ab={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},uM=function(l){sM(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(g.clone)(ab),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,r=t.get("showLabel"),n=r==="node"||r==="both",o=r==="edge"||r==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",o);var u=t.get("shouldShow");u||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var r=this,n=r.get("delegate");(!n||n.destroyed)&&(r.filter(t),n=r.get("delegate"),n.on("dragstart",function(o){}),n.on("drag",function(o){r.filter(o)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(o){r.scaleRByWheel(o)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),o,u=r.get("delegate"),d=u?{x:u.attr("x"),y:u.attr("y")}:void 0,m=d||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?o=1-ib:o=1/(1-ib);var T=r.get("maxR"),j=r.get("minR"),G=r.get("r");(G>(T||n.get("height"))&&o>1||G<(j||n.get("height")*.05)&&o<1)&&(o=1),G*=o,r.set("r",G),r.filter(t)}},e.prototype.filter=function(t){var r=this,n=r.get("graph"),o=n.getNodes(),u={},d=r.get("r"),m=r.get("type"),T={x:t.x,y:t.y};r.updateDelegate(T,d);var j=r.get("shouldShow"),G=r.get("vShapes");G&&G.forEach(function(Dt){Dt.remove(),Dt.destroy()}),G=[],o.forEach(function(Dt){var Ct=Dt.getModel(),Bt=Ct.x,zt=Ct.y;lM({x:Bt,y:zt},T)<d&&(u[Ct.id]=Dt)});var et=n.getEdges(),J=[];et.forEach(function(Dt){var Ct=Dt.getModel(),Bt=Ct.source,zt=Ct.target;j(Ct)&&(m==="only-source"||m==="one"?u[Bt]&&!u[zt]&&J.push(Dt):m==="only-target"||m==="one"?u[zt]&&!u[Bt]&&J.push(Dt):m==="both"&&u[Bt]&&u[zt]&&J.push(Dt))});var at=r.get("showNodeLabel"),mt=r.get("showEdgelabel"),St=n.get("group");J.forEach(function(Dt){var Ct=Dt.get("group").get("children");Ct.forEach(function(Bt){var zt=Bt.get("type"),Ht=St.addShape(zt,{attrs:Bt.attr()});G.push(Ht),at&&zt==="text"&&Ht.set("visible",!0)})}),Object.keys(u).forEach(function(Dt){var Ct=u[Dt],Bt=Ct.get("group").clone();if(St.add(Bt),G.push(Bt),mt)for(var zt=Bt.get("children"),Ht=0;Ht<zt.length;Ht++){var qt=zt[Ht];qt.get("type")==="text"&&qt.set("visible",!0)}}),r.set("vShapes",G)},e.prototype.updateParams=function(t){var r=this,n=t.r,o=t.trigger,u=t.minR,d=t.maxR,m=t.scaleRBy,T=t.showLabel,j=t.shouldShow;if(isNaN(t.r)||r.set("r",n),isNaN(d)||r.set("maxR",d),isNaN(u)||r.set("minR",u),(o==="mousemove"||o==="click")&&r.set("trigger",o),m==="wheel"||m==="unset"){r.set("scaleRBy",m),r.get("delegate").remove(),r.get("delegate").destroy();var G=r.get("dPercentText");G&&(G.remove(),G.destroy())}(T==="node"||T==="both")&&r.set("showNodeLabel",!0),(T==="edge"||T==="both")&&r.set("showEdgeLabel",!0),j&&r.set("shouldShow",j)},e.prototype.updateDelegate=function(t,r){var n=this,o=n.get("graph"),u=n.get("delegate");if(!u||u.destroyed){var d=o.get("group"),m=n.get("delegateStyle")||ab;u=d.addShape("circle",{attrs:Lp({r,x:t.x,y:t.y},m),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&u.on("mousewheel",function(T){n.scaleRByWheel(T)})}else u.attr({x:t.x,y:t.y,r});n.set("delegate",u)},e.prototype.clear=function(){var t=this,r=t.get("vShapes");r&&r.forEach(function(o){o.remove(),o.destroy()}),r=[],t.set("vShapes",r);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(tl),cM=uM,fM=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hM=Go.pointLineDistance,dM={stroke:"#FA8C16",lineWidth:1},vM=function(l){fM(e,l);function e(t){return l.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{line:dM,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var r=t.item,n=r.get("delegateShape")||r,o=n.getBBox(),u=r.getModel(),d=u.x-o.x,m=u.y-o.y;this.show({x:o.minX+d,y:o.minY+m},{width:o.width,height:o.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,o=t.itemAlignType,u=this.get("graph"),d=u.getNodes();d.forEach(function(m){var T=m.getBBox(),j=m.get("id");o===!0||o==="horizontal"?(r[j+"tltr"]=[T.minX,T.minY,T.maxX,T.minY,m],r[j+"lcrc"]=[T.minX,T.centerY,T.maxX,T.centerY,m],r[j+"blbr"]=[T.minX,T.maxY,T.maxX,T.maxY,m]):o==="center"&&(r[j+"lcrc"]=[T.minX,T.centerY,T.maxX,T.centerY,m]),o===!0||o==="vertical"?(n[j+"tlbl"]=[T.minX,T.minY,T.minX,T.maxY,m],n[j+"tcbc"]=[T.centerX,T.minY,T.centerX,T.maxY,m],n[j+"trbr"]=[T.maxX,T.minY,T.maxX,T.maxY,m]):o==="center"&&(n[j+"tcbc"]=[T.centerX,T.minY,T.centerX,T.maxY,m])})},e.prototype.show=function(t,r){var n=Object(g.mix)({},t);return this.itemAlign(t,r,n),t},e.prototype.itemAlign=function(t,r,n){var o=this,u=this._cfgs,d=u.horizontalLines,m=u.verticalLines,T=u.tolerance,j={x:n.x+r.width/2,y:n.y},G={x:n.x+r.width/2,y:n.y+r.height/2},et={x:n.x+r.width/2,y:n.y+r.height},J={x:n.x,y:n.y+r.height/2},at={x:n.x+r.width,y:n.y+r.height/2},mt=[],St=[],Dt=null;if(this.clearAlignLine(),Object(g.each)(d,function(Bt){Bt[4].isVisible&&(mt.push(o.getLineDisObject(Bt,j)),mt.push(o.getLineDisObject(Bt,G)),mt.push(o.getLineDisObject(Bt,et)))}),Object(g.each)(m,function(Bt){Bt[4].isVisible&&(St.push(o.getLineDisObject(Bt,J)),St.push(o.getLineDisObject(Bt,G)),St.push(o.getLineDisObject(Bt,at)))}),mt.sort(function(Bt,zt){return Bt.dis-zt.dis}),St.sort(function(Bt,zt){return Bt.dis-zt.dis}),mt.length!==0&&mt[0].dis<T){t.y=mt[0].line[1]-mt[0].point.y+n.y,Dt={type:"item",horizontals:[mt[0]]};for(var Ct=1;Ct<3;Ct++)mt[0].dis===mt[Ct].dis&&Dt.horizontals.push(mt[Ct])}if(St.length!==0&&St[0].dis<T){t.x=St[0].line[0]-St[0].point.x+n.x,Dt?Dt.verticals=[St[0]]:Dt={type:"item",verticals:[St[0]]};for(var Ct=1;Ct<3;Ct++)St[0].dis===St[Ct].dis&&Dt.verticals.push(St[Ct])}Dt&&(Dt.bbox=r,this.addAlignLine(Dt))},e.prototype.addAlignLine=function(t){var r=t.bbox,n=t.type,o=t.horizontals,u=t.verticals,d=this._cfgs,m=d.line,T=d.alignLines,j=this.get("graph"),G=j.get("group");n==="item"&&(o&&Object(g.each)(o,function(et){var J=et.line,at=et.point,mt=(J[0]+J[2])/2,St,Dt;at.x<mt?(St=at.x-r.width/2,Dt=Math.max(J[0],J[2])):(St=at.x+r.width/2,Dt=Math.min(J[0],J[2]));var Ct=Object(g.mix)({x1:St,y1:J[1],x2:Dt,y2:J[1]},m),Bt=G.addShape("line",{attrs:Ct,capture:!1});T.push(Bt)}),u&&Object(g.each)(u,function(et){var J=et.line,at=et.point,mt=(J[1]+J[3])/2,St,Dt;at.y<mt?(St=at.y-r.height/2,Dt=Math.max(J[1],J[3])):(St=at.y+r.height/2,Dt=Math.min(J[1],J[3]));var Ct=Object(g.mix)({x1:J[0],y1:St,x2:J[0],y2:Dt},m),Bt=G.addShape("line",{attrs:Ct,capture:!1});T.push(Bt)}))},e.prototype.getLineDisObject=function(t,r){return{line:t,point:r,dis:hM(t,r)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(g.each)(t,function(r){r.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,o=this.get("graph"),u=o.getNodes();u.forEach(function(d){var m=d.get("id");delete r[m+"tltr"],delete r[m+"lcrc"],delete r[m+"blbr"],delete n[m+"tlbl"],delete n[m+"tcbc"],delete n[m+"trbr"]}),this.clearAlignLine()},e}(tl),gM=vM,pM=function(){var l=function(t,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},l(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qa=function(){return qa=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},qa.apply(this,arguments)},yM=["click","mouseenter"],mM=function(l){pM(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},r=t.multiple;r&&t.trigger==="mouseenter"&&this.set("multiple",!1);var n=this.get("align");if(!n){var o=this.get("position").split("-");o.includes("left")&&(n="left"),o.includes("right")?n="right":n="center",this.set("align",n)}var u=this.get("graph"),d=u.get("container"),m=Object(rr.b)(`<div class='g6-legend-container' style="position: absolute;"></div>`);d.appendChild(m),this.set("container",m);var T=this.render();Object(rr.e)(m,this.getContainerPos(T)),this.bindEvents()},e.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var r=this,n=r.get("graph"),o=this.get("offsetX"),u=this.get("offsetY"),d=this.get("margin"),m=this.get("position").split("-"),T={top:0,right:1,bottom:2,left:3},j=0,G=0,et={left:(n.getWidth()-t[0])/2+j,top:(n.getHeight()-t[1])/2+G};return m.forEach(function(J){var at=d[T[J]],mt=J;switch(J){case"top":at+=G;break;case"left":at+=j;break;case"bottom":at=n.getHeight()-t[1]-at+G,mt="top";break;default:at=n.getWidth()-t[0]-at+j,mt="left";break}et[mt]=at}),et.top+=u+n.getContainer().offsetTop,et.left+=o+n.getContainer().offsetLeft,Object.keys(et).forEach(function(J){et[J]=et[J]+"px"}),et},e.prototype.bindEvents=function(){var t=this,r=t.get("filter");if(!(!r||!r.enable)){var n=r.trigger||"click";yM.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var o=t.get("legendCanvas");n==="mouseenter"?(o.on("node-container:mouseenter",function(u){return t.filterData(u)}),o.on("node-container:mouseleave",function(u){t.clearFilter(),t.clearActiveLegend()})):(o.on("node-container:click",function(u){return t.filterData(u)}),o.on("click",function(u){u.target&&u.target.isCanvas&&u.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var r=this.render();Object(rr.e)(this.get("container"),this.getContainerPos(r))},e.prototype.activateLegend=function(t){var r=this.get("filter"),n=r==null?void 0:r.multiple;n||this.clearActiveLegend();var o=t.get("parent");o.get("active")?(o.set("active",!1),this.findLegendItemsByState("active").length&&o.set("inactive",!0)):(o.set("inactive",!1),o.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(G){G.set("inactive",!0)}):this.clearActiveLegend();var u=(r==null?void 0:r.lengedStateStyles)||{},d=(u==null?void 0:u.inactive)||{opacity:.5,"text-shape":{opacity:.5}},m=d["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(G){var et=G.get("children"),J=et[0],at=et[1];J.attr(qa(qa({},J.get("oriAttrs")),d)),at.attr(qa(qa({},at.get("oriAttrs")),m))});var T=(u==null?void 0:u.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},j=T["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(G){var et=G.get("children"),J=et[0],at=et[1];J.attr(qa(qa({},J.get("oriAttrs")),T)),at.attr(qa(qa({},at.get("oriAttrs")),j))})},e.prototype.findLegendItemsByState=function(t,r,n){r===void 0&&(r="all"),n===void 0&&(n=!0);var o=this.get("legendCanvas").find(function(m){return m.get("name")==="root"}),u=o.find(function(m){return m.get("name")==="node-group"}),d=o.find(function(m){return m.get("name")==="edge-group"});return r==="node"?u.get("children").filter(function(m){return!!m.get(t)===n}):r==="edge"?d.get("children").filter(function(m){return!!m.get(t)===n}):u.get("children").filter(function(m){return!!m.get(t)===n}).concat(d.get("children").filter(function(m){return!!m.get(t)===n}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),r=t.find(function(o){return o.get("name")==="root"}),n=[r.find(function(o){return o.get("name")==="node-group"}),r.find(function(o){return o.get("name")==="edge-group"})];n.forEach(function(o){o.get("children").forEach(function(u){u.set("active",!1),u.set("inactive",!1);var d=u.get("children"),m=d[0],T=d[1];m.attr(m.get("oriAttrs")),T.attr(T.get("oriAttrs"))})})},e.prototype.filterData=function(t){var r=this.get("filter"),n=r==null?void 0:r.filterFunctions;if(!(!r||!n)){var o=this.get("legendCanvas"),u=this.get("graph"),d=r.graphActiveState||"active",m=r.graphInactiveState||"inactive",T=r.multiple;this.clearFilter(),T||this.clearActiveLegend(),this.activateLegend(t.target);var j=o.find(function(Dt){return Dt.get("name")==="root"}),G=j.find(function(Dt){return Dt.get("name")==="node-group"}),et=j.find(function(Dt){return Dt.get("name")==="edge-group"}),J=G.get("children").filter(function(Dt){return Dt.get("active")}),at=et.get("children").filter(function(Dt){return Dt.get("active")}),mt=0,St=["getNodes","getEdges"];St.forEach(function(Dt){u[Dt]().forEach(function(Ct){var Bt=!1,zt=Dt==="getNodes"?J:at;zt.forEach(function(Ht){var qt=n[Ht.get("id")];Bt=Bt||qt(Ct.getModel())}),Bt?(u.setItemState(Ct,m,!1),u.setItemState(Ct,d,!0),mt++):(u.setItemState(Ct,d,!1),u.setItemState(Ct,m,!0))})}),mt||St.forEach(function(Dt){u[Dt]().forEach(function(Ct){u.clearItemStates(Ct,[m])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),r=this.get("filter");if(!!r){var n=r.graphActiveState||"active",o=r.graphInactiveState||"inactive";t.getNodes().forEach(function(u){t.clearItemStates(u,[n,o])}),t.getEdges().forEach(function(u){t.clearItemStates(u,[n,o])})}},e.prototype.render=function(){var t=this;this.processData();var r=this.get("legendCanvas");if(!r){r=new Zo.Canvas({container:this.get("container"),width:200,height:200});var n=r.addGroup({name:"root"});n.addGroup({name:"node-group"}),n.addGroup({name:"edge-group"}),this.set("legendCanvas",r)}var o=r.find(function(sn){return sn.get("name")==="root"}),u=o.find(function(sn){return sn.get("name")==="node-group"}),d=o.find(function(sn){return sn.get("name")==="edge-group"}),m=this.get("itemsData"),T=["nodes","edges"],j=[u,d];T.forEach(function(sn,Yr){m[sn].forEach(function(rn){var gn,vn=j[Yr].addGroup({id:rn.id,name:"node-container"}),ln,Pn=rn.type,Lr=t.getShapeSize(rn),nn=Lr.width,jn=Lr.height,Sn=Lr.r,Fn=t.getStyle(sn.substr(0,4),rn);switch(rn.type){case"circle":ln={r:Sn,x:0,y:0};break;case"rect":ln={width:nn,height:jn,x:-nn/2,y:-jn/2};break;case"ellipse":ln={r1:nn,r2:jn,x:0,y:0};break;case"line":ln={x1:-nn/2,y1:0,x2:nn/2,y2:0},Pn="line";break;case"quadratic":ln={path:[["M",-nn/2,0],["Q",0,nn/2,nn/2,0]]},Pn="path";break;case"cubic":ln={path:[["M",-nn/2,0],["C",-nn/6,nn/2,nn/6,-nn/2,nn/2,0]]},Pn="path";break;default:ln={r:Sn,x:0,y:0};break}var Tn=vn.addShape(Pn,{attrs:qa(qa({},ln),Fn),name:rn.type+"-node-keyShape",oriAttrs:qa({opacity:1},Fn)});if(rn.label){var ui=Tn.getBBox(),la=((gn=rn.labelCfg)===null||gn===void 0?void 0:gn.style)||{},xi=qa({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},la);vn.addShape("text",{attrs:qa({x:ui.maxX+4,y:0,text:rn.label},xi),className:"legend-label",name:rn.type+"-node-text",oriAttrs:xi})}})});var G=this.get("padding"),et,J=o.find(function(sn){return sn.get("name")==="title-container"}),at={height:0,maxY:0,width:0};if(this.get("title")){J||(J=o.addGroup({name:"title-container"}));var mt={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:G[0]},St=this.get("titleConfig")||{},Dt=Object.assign(mt,St.style||{});et=J.addShape("text",{attrs:qa({text:this.get("title")},Dt)}),at=J.getCanvasBBox(),J.setMatrix([1,0,0,0,1,0,St.offsetX,St.offsetY,1])}this.layoutItems();var Ct=o.getCanvasBBox(),Bt=u.getCanvasBBox(),zt=Bt.minX<0?Math.abs(Bt.minX)+G[3]:G[3],Ht=at.maxY<Bt.minY?Math.abs(at.maxY-Bt.minY)+G[0]:at.maxY+G[0],qt=[1,0,0,0,1,0,zt,Ht,1];u.setMatrix(qt),Ct=o.getCanvasBBox();var ue=[Ct.minX+Ct.width+G[1],Ct.minY+Ct.height+G[2]];if(et){var St=qa({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));at=J.getCanvasBBox();var se=J.getMatrix()||[1,0,0,0,1,0,0,0,1];St.position==="center"?se[6]=ue[0]/2+St.offsetX:St.position==="right"?(se[6]=ue[0]-G[3]+St.offsetX,et.attr({textAlign:"right"})):(se[6]=G[3]+St.offsetX,et.attr({textAlign:"left"})),J.setMatrix(se),at=J.getCanvasBBox(),zt=Bt.minX<0?Math.abs(Bt.minX)+G[3]:G[3],Ht=Bt.minY<at.maxY?Math.abs(at.maxY-Bt.minY)+G[0]:at.maxY+G[0],qt=[1,0,0,0,1,0,zt,Ht,1],u.setMatrix(qt);var Me=[1,0,0,0,1,0,zt,Ht,1];this.get("layout")==="vertical"?Me[6]+=Bt.maxX+this.get("horiSep"):Me[7]+=Bt.maxY+this.get("vertiSep"),d.setMatrix(Me)}else{Bt=u.getCanvasBBox();var ve=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?ve[6]+=qt[6]+Bt.maxX+this.get("horiSep"):ve[7]+=qt[7]+Bt.maxY+this.get("vertiSep"),d.setMatrix(ve)}Ct=o.getCanvasBBox(),Bt=u.getCanvasBBox(),qt=u.getMatrix()||[1,0,0,0,1,0,0,0,1];var De=d.getMatrix()||[1,0,0,0,1,0,0,0,1],ye=d.getCanvasBBox();ue=[Math.max(Bt.width+qt[6],ye.width+De[6])+G[1],Math.max(Bt.height+qt[7],ye.height+De[7])+G[2]],r.changeSize(ue[0],ue[1]);var pr=this.get("containerStyle"),cr=o.getMatrix()||[1,0,0,0,1,0,0,0,1],fr=Go.invertMatrix({x:0,y:0},cr),en=o.addShape("rect",{attrs:qa({x:fr.x+(pr.lineWidth||1),y:fr.y+(pr.lineWidth||1),width:ue[0]-2*(pr.lineWidth||1),height:ue[1]-2*(pr.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},pr),name:"legend-back-rect",capture:!1});return en.toBack(),ue},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),r=this.get("horiSep"),n=this.get("vertiSep"),o=this.get("layout"),u=this.get("align"),d=[0,0],m=t.find(function(zt){return zt.get("name")==="root"}),T=m.find(function(zt){return zt.get("name")==="node-group"}),j=m.find(function(zt){return zt.get("name")==="edge-group"}),G={min:0,max:-Infinity},et=-Infinity;T.get("children").forEach(function(zt,Ht){Ht===0&&(G.min=d[0]);var qt=zt.get("children")[0],ue=zt.getCanvasBBox(),se=qt.getBBox(),Me=se.width,ve=se.height,De=0,ye=0,pr=0;o==="vertical"?(ye=d[1],pr=d[0]+Me/2,d[0]=pr+ue.height+n,De=ue.maxX+ye+Me/2):(ye=d[0]+Me/2,pr=d[1],d[0]=ye+ue.width+r,De=ue.maxY+pr+ve/2),d[0]>G.max&&(G.max=d[0]),De>et&&(et=De),zt.setMatrix([1,0,0,0,1,0,ye,pr,1])});var J=G.max-G.min,at={min:0,max:-Infinity},mt=T.getCanvasBBox();d[0]=0,d[1]=o==="vertical"?mt.maxX+r:mt.maxY+n,j.get("children").forEach(function(zt,Ht){Ht===0&&(at.min=d[0]);var qt=zt.get("children")[0],ue=zt.getCanvasBBox(),se=qt.getBBox(),Me=se.width,ve=se.height,De=0,ye=0;o==="vertical"?(De=d[1],ye=d[0],d[0]=ye+ue.height+n,zt.setMatrix([1,0,0,0,1,0,0,ye+ve/2,1])):(De=d[0],ye=d[1],d[0]=De+ue.width+r,zt.setMatrix([1,0,0,0,1,0,De+Me/2,0,1])),d[0]>at.max&&(at.max=d[0])});var St=at.max-at.min;if(u&&u!==""&&u!=="left"){var Dt=J-St,Ct=u==="center"?Math.abs(Dt)/2:Math.abs(Dt),Bt=Dt<0?T:j;Bt.get("children").forEach(function(zt){var Ht=zt.getMatrix()||[1,0,0,0,1,0,0,0,1];o==="vertical"?Ht[7]+=Ct:Ht[6]+=Ct,zt.setMatrix(Ht)})}},e.prototype.processData=function(){var t=this.get("data"),r={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(n,o){return n.order-o.order}),t.nodes.forEach(function(n){var o,u,d,m,T,j=n.size||[((o=n.style)===null||o===void 0?void 0:o.width)||((u=n.style)===null||u===void 0?void 0:u.r)||8,((d=n.style)===null||d===void 0?void 0:d.height)||((m=n.style)===null||m===void 0?void 0:m.r)||8],G=((T=n.labelCfg)===null||T===void 0?void 0:T.style)||{};r.nodes.push({id:n.id||Object(g.uniqueId)(),type:n.type||"circle",style:qa({},n.style),order:n.order,label:n.label,itemType:"node",size:j,labelCfg:{position:"right",style:qa({fontFamily:"Arial"},G)}})})),t.edges&&(t.edges.sort(function(n,o){return n.order-o.order}),t.edges.forEach(function(n){var o,u,d=n.type||"line";n.type==="cubic-horizontal"&&(d="cubic");var m=((o=n.labelCfg)===null||o===void 0?void 0:o.style)||{},T=n.size||[((u=n.style)===null||u===void 0?void 0:u.width)||8,1];r.edges.push({id:n.id||Object(g.uniqueId)(),type:d,size:T,style:qa({lineWidth:Object(g.isArray)(T)?T[1]:1},n.style),order:n.order,label:n.label,itemType:"edge",labelCfg:{position:"right",style:qa({fontFamily:"Arial"},m)}})})),this.set("itemsData",r)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var r=this.get(t);if(Object(g.isNumber)(r))this.set(t,[r,r,r,r]);else if(Object(g.isArray)(r))switch(r.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[r[0],r[0],r[0],r[0]]);break;case 2:this.set(t,[r[0],r[1],r[0],r[1]]);break;case 3:this.set(t,[r[0],r[1],r[2],r[1]]);break;default:break}return this.get(t)},e.prototype.getShapeSize=function(t){var r,n,o;return t.size&&(Object(g.isArray)(t.size)?(r=t.size[0],n=t.size[1]||t.size[0],o=t.size[0]/2):Object(g.isNumber)(t.size)&&(r=t.size,n=t.size,o=t.size/2)),t.style&&(t.style.width&&(r=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(o=t.style.r)),o||(o=5),r||(r=o),n||(n=o),{width:r,height:n,r:o}},e.prototype.getStyle=function(t,r){var n=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return qa(qa({},n),r.style||{})},e.prototype.destroy=function(){var t=this.get("graph"),r=t.get("container"),n=this.get("container");r.removeChild(n)},e}(tl),bM=mM,OM={PluginBase:tl,Menu:V1,Grid:G1,Minimap:Z1,Bundling:q1,ToolBar:oS,Tooltip:uS,Fisheye:rS,TimeBar:eM,ImageMinimap:oM,EdgeFilterLens:cM,SnapLine:gM,Legend:bM},xM=OM,Vo=xM;ts("circle",{options:{size:Cn.defaultNode.size,style:{x:0,y:0,stroke:Cn.defaultNode.style.stroke,fill:Cn.defaultNode.style.fill,lineWidth:Cn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Cn.nodeLabel.style.fill,fontSize:Cn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Cn.defaultNode.linkPoints.size,lineWidth:Cn.defaultNode.linkPoints.lineWidth,fill:Cn.defaultNode.linkPoints.fill,stroke:Cn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(oe.__assign)({},Cn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,o=this.getShapeStyle(e),u=Object(g.deepMix)({},n,e.icon),d=t.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0}),m=u.width,T=u.height,j=u.show,G=u.text;return j&&(G?t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(oe.__assign)({x:-m/2,y:-T/2},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(e,t),d},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,o=n.top,u=n.left,d=n.right,m=n.bottom,T=n.size,j=n.r,G=Object(oe.__rest)(n,["top","left","right","bottom","size","r"]),et=this.getSize(e),J=et[0]/2;u&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:-J,y:0,r:T/2||j||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:J,y:0,r:T/2||j||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:-J,r:T/2||j||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),m&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:J,r:T/2||j||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.deepMix)({},t,r),o=this.getSize(e),u=o[0]/2,d=Object(oe.__assign)({x:0,y:0,r:u},n);return d},update:function(e,t){var r=t.getContainer(),n=this.getSize(e),o={stroke:e.color,r:n[0]/2},u=t.get("keyShape"),d=Object(g.deepMix)({},u.attr(),o,e.style);this.updateShape(e,t,d,!0),this.updateLinkPoints(e,r)}},"single-node"),ts("rect",{options:{size:[100,30],style:{radius:0,stroke:Cn.defaultNode.style.stroke,fill:Cn.defaultNode.style.fill,lineWidth:Cn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Cn.nodeLabel.style.fill,fontSize:Cn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Cn.defaultNode.linkPoints.size,lineWidth:Cn.defaultNode.linkPoints.lineWidth,fill:Cn.defaultNode.linkPoints.fill,stroke:Cn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(oe.__assign)({},Cn.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(e,t),n},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,o=n.top,u=n.left,d=n.right,m=n.bottom,T=n.size,j=n.r,G=Object(oe.__rest)(n,["top","left","right","bottom","size","r"]),et=this.getSize(e),J=et[0],at=et[1];u&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:-J/2,y:0,r:T/2||j||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:J/2,y:0,r:T/2||j||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:-at/2,r:T/2||j||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),m&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:at/2,r:T/2||j||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.mix)({},t,r),o=this.getSize(e),u=n.width||o[0],d=n.height||o[1],m=Object(oe.__assign)({x:-u/2,y:-d/2,width:u,height:d},n);return m},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,o=this.getSize(e),u=t.get("keyShape");e.size||(o[0]=u.attr("width")||n.width,o[1]=u.attr("height")||n.height);var d={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},m=Object(g.mix)({},n,u.attr(),d);m=Object(g.mix)(m,e.style),this.updateShape(e,t,m,!1),this.updateLinkPoints(e,r)}},"single-node"),ts("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Cn.defaultNode.style.stroke,fill:Cn.defaultNode.style.fill,lineWidth:Cn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Cn.nodeLabel.style.fill,fontSize:Cn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Cn.defaultNode.linkPoints.size,lineWidth:Cn.defaultNode.linkPoints.lineWidth,fill:Cn.defaultNode.linkPoints.fill,stroke:Cn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(oe.__assign)({},Cn.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,o=this.getShapeStyle(e),u=t.addShape("ellipse",{attrs:o,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),d=n.width,m=n.height,T=n.show,j=n.text;return T&&(j?t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(oe.__assign)({x:-d/2,y:-m/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,o=n.top,u=n.left,d=n.right,m=n.bottom,T=n.size,j=n.r,G=Object(oe.__rest)(n,["top","left","right","bottom","size","r"]),et=this.getSize(e),J=et[0]/2,at=et[1]/2;u&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:-J,y:0,r:T/2||j||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:J,y:0,r:T/2||j||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:-at,r:T/2||j||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),m&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:at,r:T/2||j||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.mix)({},t,r),o=this.getSize(e),u=o[0]/2,d=o[1]/2,m=Object(oe.__assign)({x:0,y:0,rx:u,ry:d},n);return m},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,o=this.getSize(e),u={stroke:e.color,rx:o[0]/2,ry:o[1]/2},d=t.get("keyShape"),m=Object(g.mix)({},n,d.attr(),u);m=Object(g.mix)(m,e.style),this.updateShape(e,t,m,!0),this.updateLinkPoints(e,r)}},"single-node"),ts("diamond",{options:{size:[80,80],style:{stroke:Cn.defaultNode.style.stroke,fill:Cn.defaultNode.style.fill,lineWidth:Cn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Cn.nodeLabel.style.fill,fontSize:Cn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Cn.defaultNode.linkPoints.size,lineWidth:Cn.defaultNode.linkPoints.lineWidth,fill:Cn.defaultNode.linkPoints.fill,stroke:Cn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(oe.__assign)({},Cn.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,o=this.getShapeStyle(e),u=t.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),d=n.width,m=n.height,T=n.show,j=n.text;return T&&(j?t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(oe.__assign)({x:-d/2,y:-m/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,o=n.top,u=n.left,d=n.right,m=n.bottom,T=n.size,j=n.r,G=Object(oe.__rest)(n,["top","left","right","bottom","size","r"]),et=this.getSize(e),J=et[0],at=et[1];u&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:-J/2,y:0,r:T/2||j||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:J/2,y:0,r:T/2||j||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:-at/2,r:T/2||j||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),m&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:at/2,r:T/2||j||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(e){var t=this.getSize(e),r=t[0],n=t[1],o=[["M",0,-n/2],["L",r/2,0],["L",0,n/2],["L",-r/2,0],["Z"]];return o},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.mix)({},t,r),o=this.getPath(e),u=Object(oe.__assign)({path:o},n);return u},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,o=this.getPath(e),u={stroke:e.color,path:o},d=t.get("keyShape"),m=Object(g.mix)({},n,d.attr(),u);m=Object(g.mix)(m,e.style),this.updateShape(e,t,m,!0),this.updateLinkPoints(e,r)}},"single-node"),ts("triangle",{options:{size:40,direction:"up",style:{stroke:Cn.defaultNode.style.stroke,fill:Cn.defaultNode.style.fill,lineWidth:Cn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Cn.nodeLabel.style.fill,fontSize:Cn.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Cn.defaultNode.linkPoints.size,lineWidth:Cn.defaultNode.linkPoints.lineWidth,fill:Cn.defaultNode.linkPoints.fill,stroke:Cn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(oe.__assign)({},Cn.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var r=this.getOptions(e),n=r.icon,o=n===void 0?{}:n,u=r.direction,d=this.getShapeStyle(e),m=e.direction||u,T=t.addShape("path",{attrs:d,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),j=o.width,G=o.height,et=o.show,J=o.offset,at=o.text;if(et)if(at)t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});else{var mt=-j/2,St=-G/2;(m==="up"||m==="down")&&(St+=J),(m==="left"||m==="right")&&(mt+=J),t.addShape("image",{attrs:Object(oe.__assign)({x:mt,y:St},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(e,t),T},drawLinkPoints:function(e,t){var r=this.getOptions(e),n=r.linkPoints,o=n===void 0?{}:n,u=r.direction,d=e.direction||u,m=o.top,T=o.left,j=o.right,G=o.bottom,et=o.size,J=o.r,at=Object(oe.__rest)(o,["top","left","right","bottom","size","r"]),mt=this.getSize(e),St=mt[0];if(T){var Dt=null,Ct=St*Math.sin(1/3*Math.PI),Bt=St*Math.sin(1/3*Math.PI);d==="up"?Dt=[-Bt,Ct]:d==="down"?Dt=[-Bt,-Ct]:d==="left"&&(Dt=[-Bt,Bt-Ct]),Dt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},at),{x:Dt[0],y:Dt[1],r:et/2||J||5}),className:"link-point-left",name:"link-point-left"})}if(j){var zt=null,Ct=St*Math.sin(1/3*Math.PI),Bt=St*Math.sin(1/3*Math.PI);d==="up"?zt=[Bt,Ct]:d==="down"?zt=[Bt,-Ct]:d==="right"&&(zt=[Bt,Bt-Ct]),zt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},at),{x:zt[0],y:zt[1],r:et/2||J||5}),className:"link-point-right",name:"link-point-right"})}if(m){var Ht=null,Ct=St*Math.sin(1/3*Math.PI),Bt=St*Math.sin(1/3*Math.PI);d==="up"?Ht=[Bt-Ct,-Ct]:d==="left"?Ht=[Bt,-Ct]:d==="right"&&(Ht=[-Bt,-Ct]),Ht&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},at),{x:Ht[0],y:Ht[1],r:et/2||J||5}),className:"link-point-top",name:"link-point-top"})}if(G){var qt=null,Ct=St*Math.sin(1/3*Math.PI),Bt=St*Math.sin(1/3*Math.PI);d==="down"?qt=[-Bt+Ct,Ct]:d==="left"?qt=[Bt,Ct]:d==="right"&&(qt=[-Bt,Ct]),qt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},at),{x:qt[0],y:qt[1],r:et/2||J||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(e){var t=this.getOptions(e).direction,r=e.direction||t,n=this.getSize(e),o=n[0],u=o*Math.sin(1/3*Math.PI),d=o*Math.sin(1/3*Math.PI),m=[["M",-d,u],["L",0,-u],["L",d,u],["Z"]];return r==="down"?m=[["M",-d,-u],["L",d,-u],["L",0,u],["Z"]]:r==="left"?m=[["M",-d,d-u],["L",d,-d],["L",d,d],["Z"]]:r==="right"&&(m=[["M",d,d-u],["L",-d,d],["L",-d,-d],["Z"]]),m},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.mix)({},t,r),o=this.getPath(e),u=Object(oe.__assign)({path:o},n);return u},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,o=this.getPath(e),u={stroke:e.color,path:o},d=t.get("keyShape"),m=Object(g.mix)({},n,d.attr(),u);m=Object(g.mix)(m,e.style),this.updateShape(e,t,m,!0),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var r=this.getOptions({}),n=r.linkPoints,o=r.direction,u=e.direction||o,d=t.find(function(en){return en.get("className")==="link-point-left"}),m=t.find(function(en){return en.get("className")==="link-point-right"}),T=t.find(function(en){return en.get("className")==="link-point-top"}),j=t.find(function(en){return en.get("className")==="link-point-bottom"}),G=n,et=d||m||T||j;et&&(G=et.attr());var J=Object(g.mix)({},G,e.linkPoints),at=J.fill,mt=J.stroke,St=J.lineWidth,Dt=J.size/2;Dt||(Dt=J.r);var Ct=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Bt=Ct.left,zt=Ct.right,Ht=Ct.top,qt=Ct.bottom,ue=this.getSize(e),se=ue[0],Me={r:Dt,fill:at,stroke:mt,lineWidth:St},ve=null,De=se*Math.sin(1/3*Math.PI),ye=se*Math.sin(1/3*Math.PI);u==="up"?ve=[-ye,De]:u==="down"?ve=[-ye,-De]:u==="left"&&(ve=[-ye,ye-De]),ve&&(d?!Bt&&Bt!==void 0?d.remove():d.attr(Object(oe.__assign)(Object(oe.__assign)({},Me),{x:ve[0],y:ve[1]})):Bt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},Me),{x:ve[0],y:ve[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var pr=null;u==="up"?pr=[ye,De]:u==="down"?pr=[ye,-De]:u==="right"&&(pr=[ye,ye-De]),pr&&(m?!zt&&zt!==void 0?m.remove():m.attr(Object(oe.__assign)(Object(oe.__assign)({},Me),{x:pr[0],y:pr[1]})):zt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},Me),{x:pr[0],y:pr[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var cr=null;u==="up"?cr=[ye-De,-De]:u==="left"?cr=[ye,-De]:u==="right"&&(cr=[-ye,-De]),cr&&(T?!Ht&&Ht!==void 0?T.remove():T.attr(Object(oe.__assign)(Object(oe.__assign)({},Me),{x:cr[0],y:cr[1]})):Ht&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},Me),{x:cr[0],y:cr[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var fr=null;u==="down"?fr=[-ye+De,De]:u==="left"?fr=[ye,De]:u==="right"&&(fr=[-ye,De]),fr&&(j?!qt&&qt!==void 0?j.remove():j.attr(Object(oe.__assign)(Object(oe.__assign)({},Me),{x:fr[0],y:fr[1]})):qt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},Me),{x:fr[0],y:fr[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),ts("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Cn.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var r=this.getOptions(e).preRect,n=r===void 0?{}:r,o=this.getShapeStyle(e),u=this.getSize(e),d=u[0],m=u[1],T=t.addShape("rect",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),j=n.show,G=Object(oe.__rest)(n,["show"]);return j&&t.addShape("rect",{attrs:Object(oe.__assign)({x:-d/2,y:-m/2,height:m},G),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),T},drawLogoIcon:function(e,t){var r=this.getOptions(e).logoIcon,n=r===void 0?{}:r,o=this.getSize(e),u=o[0];if(n.show){var d=n.width,m=n.height,T=n.x,j=n.y,G=n.offset,et=n.text,J=Object(oe.__rest)(n,["width","height","x","y","offset","text"]);et?t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},J),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:Object(oe.__assign)(Object(oe.__assign)({},J),{x:T||-u/2+d+G,y:j||-m/2,width:d,height:m}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var r=this.getOptions(e).stateIcon,n=r===void 0?{}:r,o=this.getSize(e),u=o[0];if(n.show){var d=n.width,m=n.height,T=n.x,j=n.y,G=n.offset,et=n.text,J=Object(oe.__rest)(n,["width","height","x","y","offset","text"]);et?t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},J),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:Object(oe.__assign)(Object(oe.__assign)({},J),{x:T||u/2-d+G,y:j||-m/2,width:d,height:m}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,o=n.top,u=n.left,d=n.right,m=n.bottom,T=n.size,j=n.r,G=Object(oe.__rest)(n,["top","left","right","bottom","size","r"]),et=this.getSize(e),J=et[0],at=et[1];u&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:-J/2,y:0,r:T/2||j||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),d&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:J/2,y:0,r:T/2||j||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:-at/2,r:T/2||j||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),m&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},G),{x:0,y:at/2,r:T/2||j||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(e,t){var r=this.getOptions(e),n=r.labelCfg,o=n===void 0?{}:n,u=r.logoIcon,d=u===void 0?{}:u,m=r.descriptionCfg,T=m===void 0?{}:m,j=this.getSize(e),G=j[0],et=null,J=d.show,at=d.width,mt=-G/2+o.offset;J&&(mt=-G/2+at+o.offset);var St=o.style,Dt=T.style,Ct=T.paddingTop;return Object(g.isString)(e.description)?(et=t.addShape("text",{attrs:Object(oe.__assign)(Object(oe.__assign)({},St),{x:mt,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Object(oe.__assign)(Object(oe.__assign)({},Dt),{x:mt,y:17+(Ct||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0})):et=t.addShape("text",{attrs:Object(oe.__assign)(Object(oe.__assign)({},St),{x:mt,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0}),et},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.mix)({},t,r),o=this.getSize(e),u=n.width||o[0],d=n.height||o[1],m=Object(oe.__assign)({x:-u/2,y:-d/2,width:u,height:d},n);return m},update:function(e,t){var r=this.getOptions(e),n=r.style,o=n===void 0?{}:n,u=r.labelCfg,d=u===void 0?{}:u,m=r.descriptionCfg,T=m===void 0?{}:m,j=this.getSize(e),G=j[0],et=j[1],J=t.get("keyShape");J.attr(Object(oe.__assign)(Object(oe.__assign)({},o),{x:-G/2,y:-et/2,width:G,height:et}));var at=t.getContainer(),mt=at.find(function(jn){return jn.get("className")==="rect-logo-icon"}),St=mt?mt.attr():{},Dt=Object(g.mix)({},St,e.logoIcon),Ct=Dt.width;Ct===void 0&&(Ct=this.options.logoIcon.width);var Bt=e.logoIcon?e.logoIcon.show:void 0,zt=d.offset,Ht=-G/2+Ct+zt;!Bt&&Bt!==void 0&&(Ht=-G/2+zt);var qt=at.find(function(jn){return jn.get("className")==="node-label"}),ue=at.find(function(jn){return jn.get("className")==="rect-description"});if(e.label)if(!qt)at.addShape("text",{attrs:Object(oe.__assign)(Object(oe.__assign)({},d.style),{x:Ht,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0});else{var se=e.labelCfg?e.labelCfg.style:{},Me=Object(g.mix)({},qt.attr(),se);e.label&&(Me.text=e.label),Me.x=Ht,Object(g.isString)(e.description)&&(Me.y=-5),ue&&(ue.resetMatrix(),ue.attr({x:Ht})),qt.resetMatrix(),qt.attr(Me)}if(Object(g.isString)(e.description)){var ve=T.paddingTop;if(!ue)at.addShape("text",{attrs:Object(oe.__assign)(Object(oe.__assign)({},T.style),{x:Ht,y:17+(ve||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var se=e.descriptionCfg?e.descriptionCfg.style:{},De=Object(g.mix)({},ue.attr(),se);Object(g.isString)(e.description)&&(De.text=e.description),De.x=Ht,ue.resetMatrix(),ue.attr(Object(oe.__assign)(Object(oe.__assign)({},De),{y:17+(ve||0)}))}}var ye=at.find(function(jn){return jn.get("className")==="pre-rect"});if(ye){var pr=Object(g.mix)({},ye.attr(),e.preRect);ye.attr(Object(oe.__assign)(Object(oe.__assign)({},pr),{x:-G/2,y:-et/2,height:et}))}if(mt)if(!Bt&&Bt!==void 0)mt.remove();else{var cr=Dt.width,fr=Dt.height,en=Dt.x,sn=Dt.y,Yr=Dt.offset,rn=Object(oe.__rest)(Dt,["width","height","x","y","offset"]);mt.attr(Object(oe.__assign)(Object(oe.__assign)({},rn),{x:en||-G/2+cr+Yr,y:sn||-fr/2,width:cr,height:fr}))}else Bt&&this.drawLogoIcon(e,at);var gn=at.find(function(jn){return jn.get("className")==="rect-state-icon"}),vn=gn?gn.attr():{},ln=Object(g.mix)({},vn,e.stateIcon);if(gn){!ln.show&&ln.show!==void 0&&gn.remove();var Pn=ln.width,fr=ln.height,en=ln.x,sn=ln.y,Lr=ln.offset,nn=Object(oe.__rest)(ln,["width","height","x","y","offset"]);gn.attr(Object(oe.__assign)(Object(oe.__assign)({},nn),{x:en||G/2-Pn+Lr,y:sn||-fr/2,width:Pn,height:fr}))}else ln.show&&this.drawStateIcon(e,at);this.updateLinkPoints(e,at)}},"single-node"),ts("star",{options:{size:60,style:{stroke:Cn.defaultNode.style.stroke,fill:Cn.defaultNode.style.fill,lineWidth:Cn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Cn.nodeLabel.style.fill,fontSize:Cn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Cn.defaultNode.linkPoints.size,lineWidth:Cn.defaultNode.linkPoints.lineWidth,fill:Cn.defaultNode.linkPoints.fill,stroke:Cn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(oe.__assign)({},Cn.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,o=this.getShapeStyle(e),u=t.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),d=n.width,m=n.height,T=n.show,j=n.text;return T&&(j?t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(oe.__assign)({x:-d/2,y:-m/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,o=n.top,u=n.left,d=n.right,m=n.leftBottom,T=n.rightBottom,j=n.size,G=n.r,et=Object(oe.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),J=this.getSize(e),at=J[0];if(d){var mt=Math.cos((18+72*0)/180*Math.PI)*at,St=Math.sin((18+72*0)/180*Math.PI)*at;t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},et),{x:mt,y:-St,r:j/2||G||5}),className:"link-point-right",name:"link-point-right"})}if(o){var mt=Math.cos((18+72*1)/180*Math.PI)*at,St=Math.sin((18+72*1)/180*Math.PI)*at;t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},et),{x:mt,y:-St,r:j/2||G||5}),className:"link-point-top",name:"link-point-top"})}if(u){var mt=Math.cos((18+72*2)/180*Math.PI)*at,St=Math.sin((18+72*2)/180*Math.PI)*at;t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},et),{x:mt,y:-St,r:j/2||G||5}),className:"link-point-left",name:"link-point-left"})}if(m){var mt=Math.cos((18+72*3)/180*Math.PI)*at,St=Math.sin((18+72*3)/180*Math.PI)*at;t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},et),{x:mt,y:-St,r:j/2||G||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(T){var mt=Math.cos((18+72*4)/180*Math.PI)*at,St=Math.sin((18+72*4)/180*Math.PI)*at;t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},et),{x:mt,y:-St,r:j/2||G||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e),r=t[0],n=r*3/8,o=e.innerR||n,u=[],d=0;d<5;d++){var m=Math.cos((18+72*d)/180*Math.PI)*r,T=Math.sin((18+72*d)/180*Math.PI)*r,j=Math.cos((54+72*d)/180*Math.PI)*o,G=Math.sin((54+72*d)/180*Math.PI)*o;d===0?u.push(["M",m,-T]):u.push(["L",m,-T]),u.push(["L",j,-G])}return u.push(["Z"]),u},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=Object(g.mix)({},t,r),o=this.getPath(e),u=Object(oe.__assign)({path:o},n);return u},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,o=this.getPath(e),u={stroke:e.color,path:o},d=t.get("keyShape"),m=Object(g.mix)({},n,d.attr(),u);m=Object(g.mix)(m,e.style),this.updateShape(e,t,m,!0),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var r=this.getOptions({}).linkPoints,n=t.find(function(De){return De.get("className")==="link-point-left"}),o=t.find(function(De){return De.get("className")==="link-point-right"}),u=t.find(function(De){return De.get("className")==="link-point-top"}),d=t.find(function(De){return De.get("className")==="link-point-left-bottom"}),m=t.find(function(De){return De.get("className")==="link-point-right-bottom"}),T=r,j=n||o||u||d||m;j&&(T=j.attr());var G=Object(g.mix)({},T,e.linkPoints),et=G.fill,J=G.stroke,at=G.lineWidth,mt=G.size/2;mt||(mt=G.r);var St=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},Dt=St.left,Ct=St.right,Bt=St.top,zt=St.leftBottom,Ht=St.rightBottom,qt=this.getSize(e),ue=qt[0],se={r:mt,fill:et,stroke:J,lineWidth:at},Me=Math.cos((18+72*0)/180*Math.PI)*ue,ve=Math.sin((18+72*0)/180*Math.PI)*ue;o?!Ct&&Ct!==void 0?o.remove():o.attr(Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve})):Ct&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Me=Math.cos((18+72*1)/180*Math.PI)*ue,ve=Math.sin((18+72*1)/180*Math.PI)*ue,u?!Bt&&Bt!==void 0?u.remove():u.attr(Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve})):Bt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Me=Math.cos((18+72*2)/180*Math.PI)*ue,ve=Math.sin((18+72*2)/180*Math.PI)*ue,n?!Dt&&Dt!==void 0?n.remove():n.attr(Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve})):Dt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Me=Math.cos((18+72*3)/180*Math.PI)*ue,ve=Math.sin((18+72*3)/180*Math.PI)*ue,d?!zt&&zt!==void 0?d.remove():d.attr(Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve})):zt&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Me=Math.cos((18+72*4)/180*Math.PI)*ue,ve=Math.sin((18+72*4)/180*Math.PI)*ue,m?!Ht&&Ht!==void 0?d.remove():m.attr(Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve})):Ht&&t.addShape("circle",{attrs:Object(oe.__assign)(Object(oe.__assign)({},se),{x:Me,y:-ve}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var Sv=Go.defaultSubjectColors;ts("donut",{options:{size:Cn.defaultNode.size,style:{x:0,y:0,stroke:Cn.defaultNode.style.stroke,fill:Cn.defaultNode.style.fill,lineWidth:Cn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Cn.nodeLabel.style.fill,fontSize:Cn.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Cn.defaultNode.linkPoints.size,lineWidth:Cn.defaultNode.linkPoints.lineWidth,fill:Cn.defaultNode.linkPoints.fill,stroke:Cn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(oe.__assign)({},Cn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,o=this.getShapeStyle(e),u=Object(g.deepMix)({},n,e.icon),d=t.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0,name:this.type+"-keyShape"}),m=u.width,T=u.height,j=u.show,G=u.text;j&&(G?t.addShape("text",{attrs:Object(oe.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(oe.__assign)({x:-m/2,y:-T/2},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}));var et=d.attr("r"),J=.6*et,at=(et+J)/2,mt=e,St=mt.donutAttrs,Dt=St===void 0?{}:St,Ct=mt.donutColorMap,Bt=Ct===void 0?{}:Ct,zt=Object.keys(Dt).length;if(Dt&&zt>1){var Ht=[],qt=0;if(Object.keys(Dt).forEach(function(ve){var De=Dt[ve]||0;!Object(g.isNumber)(De)||(Ht.push({key:ve,value:De,color:Bt[ve]}),qt+=De)}),qt){var ue=et-J;if(zt===1){t.addShape("circle",{attrs:{r:at,x:0,y:0,stroke:Ht[0].color||Sv[0],lineWidth:ue},name:"fan-shape-0"});return}var se=[at,0],Me=0;Ht.forEach(function(ve,De){var ye=ve.value/qt;if(!(ye<.001)){if(ye>.999&&(ye=1),ye===1){t.addShape("circle",{attrs:{r:at,x:0,y:0,stroke:ve.color||Sv[De%Sv.length],lineWidth:ue},name:"fan-shape-"+De});return}ve.percent=ye,ve.angle=ye*Math.PI*2,ve.beginAgnle=Me,Me+=ve.angle,ve.endAngle=Me,ve.arcBegin=se,ve.arcEnd=[at*Math.cos(ve.endAngle),-at*Math.sin(ve.endAngle)];var pr=ve.angle>Math.PI?1:0,cr=[["M",ve.arcBegin[0],ve.arcBegin[1]],["A",at,at,0,pr,0,ve.arcEnd[0],ve.arcEnd[1]],["L",ve.arcEnd[0],ve.arcEnd[1]]];t.addShape("path",{attrs:{path:cr,lineWidth:ue,stroke:ve.color||Sv[De%Sv.length]},name:"fan-shape-"+De}),se=ve.arcEnd}})}}return this.drawLinkPoints(e,t),d},update:void 0},"circle");var Og=function(e){var t=e.x,r=e.y;return{x:t,y:r,centerX:t,centerY:r,minX:t,minY:r,maxX:t,maxY:r,height:0,width:0}},EM=function(e){e===void 0&&(e=[]);var t=[],r=[];e.forEach(function(m){t.push(m.x),r.push(m.y)});var n=Math.min.apply(Math,t),o=Math.max.apply(Math,t),u=Math.min.apply(Math,r),d=Math.max.apply(Math,r);return{centerX:(n+o)/2,centerY:(u+d)/2,maxX:o,maxY:d,minX:n,minY:u,height:d-u,width:o-n}},vA=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},Rp=function(e){for(var t=[],r={},n=e.length,o=n-1;o>=0;o--){var u=e[o];u.id=u.x+"|||"+u.y,r[u.id]=u,t.push(u)}return t},ob=function(e){return Rp(e)},gA=function(e,t){return[e,{x:e.x,y:t.y},t]},xg=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},SM=function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r===0&&n===0?0:r/t.width>n/t.height},jp=function(e,t,r){var n=SM(t,e);if(n===0){var o=e.centerX,u=e.centerY;return r.y<t.y?u=e.minY:r.x>t.x?o=e.maxX:r.x<t.x?o=e.minX:r.x===t.x&&(u=e.maxY),{x:o,y:u}}return n?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},sb=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),u=Math.max(e.maxY,t.maxY);return{centerX:(r+o)/2,centerY:(n+u)/2,minX:r,minY:n,maxX:o,maxY:u,height:u-n,width:o-r}},wp=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},Eg=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},MM=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},CM=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},AM=function(e,t){return MM(e,t.x).concat(CM(e,t.y))},Mv=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},TM=function(e,t){var r=-2,n=0;return t.forEach(function(o){o&&(e.x===o.x&&(n+=r),e.y===o.y&&(n+=r))}),n},lb=function(e,t,r,n,o){return Mv(e,t)+Mv(e,r)+TM(e,[t,r,n,o])},DM=function l(e,t,r,n,o){o===void 0&&(o=0),e.unshift(t[n]),r[n]&&r[n]!==n&&o<=100&&l(e,t,r,r[n],o+1)},PM=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},Sg=function(e,t,r,n){var o=r.x-e.x,u=r.y-e.y,d=n.x-e.x,m=n.y-e.y,T=r.x-t.x,j=r.y-t.y,G=n.x-t.x,et=n.y-t.y,J=o*m-u*d,at=T*et-j*G,mt=o*j-u*T,St=d*et-m*G;return J*at<=0&&mt*St<=0},Bp=function(e,t,r){if(r.width||r.height){var n=wp(r),o=n[0],u=n[1],d=n[2],m=n[3];return Sg(e,t,o,u)||Sg(e,t,o,m)||Sg(e,t,u,d)||Sg(e,t,d,m)}return!1},IM=function(e,t,r,n){var o=[];return e.forEach(function(u){if(u!==t&&(u.x===t.x||u.y===t.y)){if(Bp(u,t,r)||Bp(u,t,n))return;o.push(u)}}),Rp(o)},LM=function(e,t,r,n,o,u,d){var m=[],T=[t],j={},G={},et={};G[t.id]=0,et[t.id]=lb(t,r,t);var J={};e.forEach(function(Dt){J[Dt.id]=Dt});for(var at,mt;T.length;){if(at=void 0,mt=Infinity,T.forEach(function(Dt){et[Dt.id]<=mt&&(mt=et[Dt.id],at=Dt)}),at===r){var St=[];return DM(St,J,j,r.id),St}PM(T,at),m.push(at),IM(e,at,n,o).forEach(function(Dt){if(m.indexOf(Dt)===-1){T.indexOf(Dt)===-1&&T.push(Dt);var Ct=et[at.id]+Mv(at,Dt);G[Dt.id]&&Ct>=G[Dt.id]||(j[Dt.id]=at.id,G[Dt.id]=Ct,et[Dt.id]=G[Dt.id]+lb(Dt,r,t,u,d))}})}return[t,r]},RM=function(e,t,r){return!(e.x===t.x&&t.x===r.x||e.y===t.y&&t.y===r.y)},jM=function(e,t,r,n){var o=Mv(e,t),u=Mv(r,t);o<n&&(n=o),u<n&&(n=u);var d={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)},m={x:t.x-n/u*(t.x-r.x),y:t.y-n/u*(t.y-r.y)};return[d,m]},ub=function(e,t){var r=[],n=e[0];return r.push("M"+n.x+" "+n.y),e.forEach(function(o,u){var d=e[u+1],m=e[u+2];if(d&&m)if(RM(o,d,m)){var T=jM(o,d,m,t),j=T[0],G=T[1];r.push("L"+j.x+" "+j.y),r.push("Q"+d.x+" "+d.y+" "+G.x+" "+G.y),r.push("L"+G.x+" "+G.y)}else r.push("L"+d.x+" "+d.y);else d&&r.push("L"+d.x+" "+d.y)}),r.join("")},cb=function(e,t,r,n,o){var u,d;if(!r||!r.getType())u=Og(e);else if(r.getType()==="combo"){var m=r.getKeyShape();u=m.getCanvasBBox()||Og(e),u.centerX=(u.minX+u.maxX)/2,u.centerY=(u.minY+u.maxY)/2}else u=r.getBBox();if(!n||!n.getType())d=Og(t);else if(n.getType()==="combo"){var T=n.getKeyShape().getBBox();if(T){var j=n.getModel(),G=j.x,et=j.y;d={x:G,y:et,width:T.width,height:T.height,minX:T.minX+G,maxX:T.maxX+G,minY:T.minY+et,maxY:T.maxY+et},d.centerX=(d.minX+d.maxX)/2,d.centerY=(d.minY+d.maxY)/2}else d=Og(t)}else d=n&&n.getBBox();var J=xg(u,o),at=xg(d,o),mt=jp(J,e,t),St=jp(at,t,e),Dt=EM([mt,St]),Ct=sb(J,Dt),Bt=sb(at,Dt),zt=[];zt=zt.concat(wp(Ct)).concat(wp(Bt));var Ht={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[Dt,Ct,Bt].forEach(function(ue){zt=zt.concat(AM(ue,Ht).filter(function(se){return Eg(se,J)&&Eg(se,at)}))}),[{x:mt.x,y:St.y},{x:St.x,y:mt.y}].forEach(function(ue){Eg(ue,J)&&Eg(ue,at)&&zt.push(ue)}),zt.unshift(mt),zt.push(St),zt=Rp(zt);var qt=LM(zt,mt,St,u,d,e,t);return qt.unshift(e),qt.push(t),ob(qt)},wM=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},BM=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},NM=function(e,t){return[e,t]},FM=function(e,t,r,n,o){return ob(cb(e,t,r,n,o.offset))},GM={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:wM,fallbackRoute:FM},pA={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:BM,fallbackRoute:NM},sc=function(e,t){var r=Math.round(Math.abs(e/t)),n=e<0?-1:1;return r<0?0:n*r},UM=function(e,t,r){var n={};return e.forEach(function(o){if(!!o)for(var u=xg(o.getBBox(),r),d=sc(u.minX,t);d<=sc(u.maxX,t);d+=1)for(var m=sc(u.minY,t);m<=sc(u.maxY,t);m+=1)n[d+"|||"+m]=!0}),n},Np=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r||n?Math.atan2(n,r):0},fb=function(e,t){var r=Math.abs(e-t);return r>Math.PI?2*Math.PI-r:r},hb=function(e,t,r){for(var n=Infinity,o=0,u=t.length;o<u;o++){var d=r(e,t[o]);d<n&&(n=d)}return n},db=function(e,t,r,n,o){var u=[];if(!r)return[e];var d=o.directions,m=o.offset,T=r.getBBox(),j=t.x>T.minX&&t.x<T.maxX&&t.y>T.minY&&t.y<T.maxY,G=xg(T,m);for(var et in G)G[et]=sc(G[et],o.gridSize);if(j){for(var J=0,at=d;J<at.length;J++)for(var mt=at[J],St=[[{x:G.minX,y:G.minY},{x:G.maxX,y:G.minY}],[{x:G.minX,y:G.minY},{x:G.minX,y:G.maxY}],[{x:G.maxX,y:G.minY},{x:G.maxX,y:G.maxY}],[{x:G.minX,y:G.maxY},{x:G.maxX,y:G.maxY}]],et=0;et<4;et++){var Dt=St[et],Ct=Go.getLineIntersect(e,{x:e.x+mt.stepX*G.width,y:e.y+mt.stepY*G.height},Dt[0],Dt[1]);Ct&&!Bp(e,Ct,T)&&(Ct.id=Ct.x+"|||"+Ct.y,u.push(Ct))}return u}var Bt=jp(G,e,n);return Bt.id=Bt.x+"|||"+Bt.y,[Bt]},Fp=function(e,t,r,n){var o=Np(e,t);if(!r[e.id]){var u=Np(n,e);return fb(u,o)}var d=Np({x:r[e.id].x,y:r[e.id].y},e);return fb(d,o)},WM=function(e,t,r,n,o,u,d){var m=[n],T=e.id,j=e.x,G=e.y,et={x:j,y:G,id:T};for(Fp(et,u,t,r)&&m.unshift({x:u.x===n.x?n.x:et.x*d,y:u.y===n.y?n.y:et.y*d});t[T]&&t[T].id!==T;){var J={x:j,y:G,id:T},at=t[T].id,mt=t[T].x,St=t[T].y,Dt={x:mt,y:St,id:at},Ct=Fp(Dt,J,t,r);Ct&&m.unshift({x:Dt.x===J.x?m[0].x:Dt.x*d,y:Dt.y===J.y?m[0].y:Dt.y*d}),T=at,j=mt,G=St}var Bt={x:j,y:G,id:T};return m[0].x=Bt.x===r.x?o.x:m[0].x,m[0].y=Bt.y===r.y?o.y:m[0].y,m.unshift(o),m},zM=function(e,t,r,n,o){if(isNaN(e.x)||isNaN(t.x))return[];var u=Object(g.deepMix)(GM,o);u.obstacles=u.obstacles||[];var d=u.gridSize,m=UM(u.obstacles.concat([r,n]),d,u.offset),T={x:sc(e.x,d),y:sc(e.y,d)},j={x:sc(t.x,d),y:sc(t.y,d)};e.id=T.x+"|||"+T.y,t.id=j.x+"|||"+j.y;var G=db(T,e,r,j,u),et=db(j,t,n,T,u);G.forEach(function(pr){delete m[pr.id]}),et.forEach(function(pr){delete m[pr.id]});for(var J={},at={},mt={},St={},Dt={},Ct=0;Ct<G.length;Ct++){var Bt=G[Ct];J[Bt.id]=Bt,St[Bt.id]=0,Dt[Bt.id]=hb(Bt,et,u.distFunc)}for(var zt=u.maximumLoops,Ht=u.penalties,qt,ue,se,Me,ve,De,ye;Object.keys(J).length>0&&zt>0&&(qt=void 0,ue=Infinity,Object.keys(J).forEach(function(pr){var cr=J[pr].id;Dt[cr]<=ue&&(ue=Dt[cr],qt=J[cr])}),!!qt);){if(et.findIndex(function(pr){return pr.x===qt.x&&pr.y===qt.y})>-1)return WM(qt,mt,T,t,e,j,d);delete J[qt.id],at[qt.id]=!0;for(var Ct=0;Ct<u.directions.length;Ct++)se=u.directions[Ct],Me={x:qt.x+se.stepX,y:qt.y+se.stepY,id:Math.round(qt.x)+se.stepX+"|||"+(Math.round(qt.y)+se.stepY)},!at[Me.id]&&(ye=Fp(qt,Me,mt,T),!(ye>u.maxAllowedDirectionChange)&&(m[Me.id]||(J[Me.id]||(J[Me.id]=Me),ve=u.distFunc(qt,Me)+(isNaN(Ht[ye])?d:Ht[ye]),De=St[qt.id]+ve,!(St[Me.id]&&De>=St[Me.id])&&(mt[Me.id]=qt,St[Me.id]=De,Dt[Me.id]=De+hb(Me,et,u.distFunc)))));zt-=1}return u.fallbackRoute(e,t,r,n,u)};wl("polyline",{options:{color:Cn.defaultEdge.color,size:Cn.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Cn.defaultEdge.style.stroke,lineAppendWidth:Cn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Cn.edgeLabel.style.fill,fontSize:Cn.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(oe.__assign)({},Cn.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e);r.radius===0&&delete r.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:r});return n},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=Object(g.mix)({},t,r,e.style);e=this.getPathPoints(e),this.radius=n.radius,this.offset=n.offset;var o=e.startPoint,u=e.endPoint,d=this.getControlPoints(e),m=[o];d&&(m=m.concat(d)),m.push(u);var T=e.sourceNode,j=e.targetNode,G=n.radius,et=this.options.routeCfg,J=Object(g.mix)({},et,e.routeCfg);J.offset=n.offset;var at=this.getPath(m,T,j,G,J);(Object(g.isArray)(at)&&at.length<=1||Object(g.isString)(at)&&at.indexOf("L")===-1)&&(at="M0 0, L0 0"),(isNaN(o.x)||isNaN(o.y)||isNaN(u.x)||isNaN(u.y))&&(at="M0 0, L0 0");var mt=Object(g.mix)({},Cn.defaultEdge.style,n,{lineWidth:e.size,path:at});return mt},updateShapeStyle:function(e,t){var r=t.getContainer();if(!!t.isVisible()){var n={stroke:e.color},o=r.find(function(zt){return zt.get("className")==="edge-shape"})||t.getKeyShape(),u=e.size;e=this.getPathPoints(e);var d=e.startPoint,m=e.endPoint,T=this.getControlPoints(e),j=[d];T&&(j=j.concat(T)),j.push(m);var G=o.attr(),et=Object(g.mix)({},n,G,e.style),J=e.sourceNode,at=e.targetNode,mt=et.radius,St=this.options.routeCfg,Dt=Object(g.mix)({},St,e.routeCfg);Dt.offset=et.offset;var Ct=this.getPath(j,J,at,mt,Dt);(Object(g.isArray)(Ct)&&Ct.length<=1||Object(g.isString)(Ct)&&Ct.indexOf("L")===-1)&&(Ct="M0 0, L0 0"),(isNaN(d.x)||isNaN(d.y)||isNaN(m.x)||isNaN(m.y))&&(Ct="M0 0, L0 0"),G.endArrow&&et.endArrow===!1&&(e.style.endArrow={path:""}),G.startArrow&&et.startArrow===!1&&(e.style.startArrow={path:""});var Bt=Object(g.mix)(n,o.attr(),{lineWidth:u,path:Ct},e.style);o&&o.attr(Bt)}},getPath:function(e,t,r,n,o){var u=o.offset,d=o.simple;if(!u||e.length>2){if(n)return ub(e,n);var m=[];return Object(g.each)(e,function(et,J){J===0?m.push(["M",et.x,et.y]):m.push(["L",et.x,et.y])}),m}var T=d?cb(e[e.length-1],e[0],r,t,u):zM(e[0],e[e.length-1],t,r,o);if(!T||!T.length)return"M0 0, L0 0";if(n){var j=ub(T,n);return j}var G=Go.pointsToPolygon(T);return G}},"single-edge");var vb=ac.cloneEvent,gb=ac.isNaN,pb=Math.abs,VM=10,kM=["shift","ctrl","alt","control"],XM={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,r=+e.clientX,n=+e.clientY;if(!(gb(r)||gb(n))){var o=r-t.x,u=n-t.y;this.get("direction")==="x"?u=0:this.get("direction")==="y"&&(o=0),this.origin={x:r,y:n};var d=this.graph.get("width"),m=this.graph.get("height"),T=this.graph.get("canvas").getCanvasBBox(),j=this.scalableRange,G=this.scalableRange;j<1&&j>-1&&(j=d*j,G=m*G),(T.minX<=d+j&&T.minX+o>d+j||T.maxX+j>=0&&T.maxX+j+o<0)&&(o=0),(T.minY<=m+G&&T.minY+u>m+G||T.maxY+G>=0&&T.maxY+G+u<0)&&(u=0),this.graph.translate(o,u)}},onTouchStart:function(e){var t=this,r=e.originalEvent.touches,n=r[0],o=r[1];n&&o||(e.preventDefault(),t.onMouseDown(e))},onMouseDown:function(e){var t=this,r=e.originalEvent;if(!(r&&e.name!==vl.TOUCHSTART&&r.button!==0)&&!(e.name!==vl.TOUCHSTART&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin.call(this,e)&&!t.keydown){var n=e.target,o=n&&n.isCanvas&&n.isCanvas();if(!(!this.allowDragOnItem&&!o)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var u=this.graph,d=u.getEdges(),m=0,T=d.length;m<T;m++){var j=d[m].get("group").get("children");!j||j.forEach(function(zt){zt.set("ori-visibility",zt.get("ori-visibility")||zt.get("visible")),zt.hide()})}for(var G=u.getNodes(),et=0,J=G.length;et<J;et++)for(var at=G[et].getContainer(),mt=at.get("children"),St=0,Dt=mt;St<Dt.length;St++){var Ct=Dt[St],Bt=Ct.get("isKeyShape");Bt||(Ct.set("ori-visibility",Ct.get("ori-visibility")||Ct.get("visible")),Ct.hide())}}}},onTouchMove:function(e){var t=this,r=e.originalEvent.touches,n=r[0],o=r[1];if(n&&o){this.onMouseUp(e);return}e.preventDefault(),t.onMouseMove(e)},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var r=e.target,n=r&&r.isCanvas&&r.isCanvas();if(!(!this.allowDragOnItem&&!n)&&(e=vb(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(pb(this.origin.x-e.clientX)+pb(this.origin.y-e.clientY)<VM)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,r,n=this.graph;if(!this.keydown){var o=n.getZoom(),u=n.get("modeController"),d=(r=(t=u==null?void 0:u.modes[u.mode])===null||t===void 0?void 0:t.filter(function(ue){return ue.type==="zoom-canvas"}))===null||r===void 0?void 0:r[0],m=d?d.optimizeZoom||.1:0;if(this.enableOptimize){for(var T=n.getEdges(),j=0,G=T.length;j<G;j++){var et=T[j].get("group").get("children");!et||et.forEach(function(ue){var se=ue.get("ori-visibility");se&&ue.show()})}if(o>m)for(var J=n.getNodes(),at=0,mt=J.length;at<mt;at++)for(var St=J[at].getContainer(),Dt=St.get("children"),Ct=0,Bt=Dt;Ct<Bt.length;Ct++){var zt=Bt[Ct],Ht=zt.get("isKeyShape");if(!Ht){var qt=zt.get("ori-visibility");qt&&zt.show()}}}if(!this.dragging){this.origin=null;return}e=vb(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",n.emit("canvas:dragend",e),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=this,r=e.key;!r||(kM.indexOf(r.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},YM={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas","node:touchstart":"onTouchStart","node:touchmove":"onTouchMove","node:touchend":"onDragEnd"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],o=r[1];if(n&&o)return;e.preventDefault()}catch(u){console.warn("Touch original event not exist!")}t.onDragStart(e)},onTouchMove:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],o=r[1];if(n&&o){t.onDragEnd(e);return}e.preventDefault()}catch(u){console.warn("Touch original event not exist!")}t.onDrag(e)},onDragStart:function(e){var t=this;if(!!this.shouldBegin.call(this,e)){var r=e.item;if(!(!r||r.destroyed||r.hasLocked())){var n=r.getContainer();n.set("capture",!1);var o=e.target;if(o){var u=o.get("isAnchorPoint");if(u)return}var d=this.graph;this.targets=[],this.targetCombo=null;var m=d.findAllByState("node",this.selectedState),T=r.get("id"),j=m.filter(function(et){var J=et.get("id");return T===J});j.length===0?this.targets.push(r):m.length>1?m.forEach(function(et){var J=et.hasLocked();J||t.targets.push(et)}):this.targets.push(r);var G=[];this.targets.forEach(function(et){G.push(Object(g.clone)(et.getModel()))}),this.set("beforeDragNodes",G),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(et){var J=et.getEdges();J.forEach(function(at){!at.isVisible()||(t.hidenEdge[at.getID()]=!0,at.hide())})}),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;!this.origin||!this.shouldUpdate(this,e)||(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map(function(r){t.update(r,e)}))},onDragEnd:function(e){var t=this;if(!(!this.origin||!this.shouldEnd.call(this,e))){var r=e.item;if(r){var n=r.getContainer();n.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(e),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(d){var m=d.getEdges();m.forEach(function(T){t.hidenEdge[T.getID()]&&T.show(),T.refresh()})}),this.hidenEdge={};var o=this.graph;if(o.get("enabledStack")){var u={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(d){u.before.nodes.push({id:d.id,x:d.x,y:d.y})}),this.targets.forEach(function(d){var m=d.getModel();u.after.nodes.push({id:m.id,x:m.x,y:m.y})}),o.pushStack("update",Object(g.clone)(u))}o.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(!!this.validationCombo(t)){this.updatePositions(e);var r=this.graph;if(this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)r.updateCombos();else{var n=t.getModel();this.targets.map(function(o){var u=o.getModel();u.comboId!==n.id&&r.updateComboTree(o,n.id)}),r.updateCombo(t)}r.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(e),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(r){var n=r.getModel();n.comboId&&t.updateComboTree(r)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,r=e.item;this.updatePositions(e);var n=t.graph,o=r.getModel().comboId;if(o)if(this.onlyChangeComboSize)n.updateCombos();else{var u=n.findById(o);t.comboActiveState&&n.setItemState(u,t.comboActiveState,!1),this.targets.map(function(d){var m=d.getModel();o!==m.comboId&&n.updateComboTree(d,o)}),n.updateCombo(u)}else this.targets.map(function(d){var m=d.getModel();m.comboId&&n.updateComboTree(d)});n.emit("dragnodeend",{items:this.targets,targetItem:r})}},onDragEnter:function(e){var t=e.item;if(!!this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(!!this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&(this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):this.targets.map(function(r){return t.update(r,e)}))},update:function(e,t){var r=this.origin,n=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:n.x||0,y:n.y||0});var u=t.x-r.x+this.point[o].x,d=t.y-r.y+this.point[o].y,m={x:u,y:d};this.get("updateEdge")?this.graph.updateItem(e,m,!1):e.updatePosition(m)},debounceUpdate:Object(g.debounce)(function(l){var e=l.targets,t=l.graph,r=l.point,n=l.origin,o=l.evt,u=l.updateEdge,d=l.updateFunc;e.map(function(m){var T=m.get("model"),j=m.get("id");r[j]||(r[j]={x:T.x||0,y:T.y||0});var G=o.x-n.x+r[j].x,et=o.y-n.y+r[j].y,J={x:G,y:et};u?t.updateItem(m,J,!1):m.updatePosition(J)})},50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var et=e.x-this.origin.x+this.originPoint.minX,J=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:et,y:J})}else{var r=t.get("group"),n=Object(g.deepMix)({},Hr.delegateStyle,this.delegateStyle),o=this.calculationGroupPosition(e),u=o.x,d=o.y,m=o.width,T=o.height,j=o.minX,G=o.minY;this.originPoint={x:u,y:d,width:m,height:T,minX:j,minY:G},this.delegateRect=r.addShape("rect",{attrs:Object(oe.__assign)({width:m,height:T,x:u,y:d},n),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;t.length===0&&t.push(e.item);for(var r=Infinity,n=-Infinity,o=Infinity,u=-Infinity,d=0;d<t.length;d++){var m=t[d],T=m.getBBox(),j=T.minX,G=T.minY,et=T.maxX,J=T.maxY;j<r&&(r=j),G<o&&(o=G),et>n&&(n=et),J>u&&(u=J)}var at=Math.floor(r),mt=Math.floor(o),St=Math.ceil(n)-Math.floor(r),Dt=Math.ceil(u)-Math.floor(o);return{x:at,y:mt,width:St,height:Dt,minX:r,minY:o}}},HM={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],o=r[1];if(n&&o)return;e.preventDefault()}catch(u){console.warn("Touch original event not exist!")}t.setAllItemStates(e)},clearOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],o=r[1];if(n&&o)return;e.preventDefault()}catch(u){console.warn("Touch original event not exist!")}t.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,r=this.graph;if(this.item=t,!!this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var n=this,o=this.activeState,u=this.inactiveState,d=r.getNodes(),m=r.getCombos(),T=r.getEdges(),j=r.get("vedges"),G=d.length,et=m.length,J=T.length,at=j.length,mt=0;mt<G;mt++){var St=d[mt],Dt=St.hasState("selected");n.resetSelected&&Dt&&r.setItemState(St,"selected",!1),r.setItemState(St,o,!1),u&&r.setItemState(St,u,!0)}for(var mt=0;mt<et;mt++){var Ct=m[mt],Dt=Ct.hasState("selected");n.resetSelected&&Dt&&r.setItemState(Ct,"selected",!1),r.setItemState(Ct,o,!1),u&&r.setItemState(Ct,u,!0)}for(var mt=0;mt<J;mt++){var Bt=T[mt];r.setItemState(Bt,o,!1),u&&r.setItemState(Bt,u,!0)}for(var mt=0;mt<at;mt++){var zt=j[mt];r.setItemState(zt,o,!1),u&&r.setItemState(zt,u,!0)}u&&r.setItemState(t,u,!1),r.setItemState(t,o,!0);for(var Ht=t.getEdges(),qt=Ht.length,mt=0;mt<qt;mt++){var Bt=Ht[mt],ue=void 0;Bt.getSource()===t?ue=Bt.getTarget():ue=Bt.getSource(),u&&r.setItemState(ue,u,!1),r.setItemState(ue,o,!0),r.setItemState(Bt,u,!1),r.setItemState(Bt,o,!0),Bt.toFront()}r.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,r=t.get("graph");if(!!t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var n=this.activeState,o=this.inactiveState,u=r.get("autoPaint");r.setAutoPaint(!1);for(var d=r.getNodes()||[],m=r.getCombos()||[],T=r.getEdges()||[],j=r.get("vedges")||[],G=d.length,et=m.length,J=T.length,at=j.length,mt=0;mt<G;mt++){var St=d[mt];r.clearItemStates(St,[n,o])}for(var mt=0;mt<et;mt++){var Dt=m[mt];r.clearItemStates(Dt,[n,o])}for(var mt=0;mt<J;mt++){var Ct=T[mt];r.clearItemStates(Ct,[n,o,"deactivate"])}for(var mt=0;mt<at;mt++){var Bt=j[mt];r.clearItemStates(Bt,[n,o,"deactivate"])}r.paint(),r.setAutoPaint(u),r.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},Mg=Math.min,yb=Math.max,mb=Math.abs,bb="shift",KM=["drag","shift","ctrl","alt","control"],_M={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:bb,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return KM.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=bb,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,r=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),r||(r=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},r.attr({width:0,height:0}),r.show(),this.dragging=!0)},onMouseMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(e)},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),o=t.findAllByState("edge",r);n.forEach(function(u){return t.setItemState(u,r,!1)}),o.forEach(function(u){return t.setItemState(u,r,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,r=this,n=r.graph,o=r.originPoint,u=r.shouldUpdate,d=this.selectedState,m={x:e.x,y:e.y},T=n.getPointByCanvas(o.x,o.y),j=Mg(m.x,T.x),G=yb(m.x,T.x),et=Mg(m.y,T.y),J=yb(m.y,T.y),at=[],mt=[];n.getNodes().forEach(function(Dt){if(!!Dt.isVisible()){var Ct=Dt.getBBox();if(Ct.centerX>=j&&Ct.centerX<=G&&Ct.centerY>=et&&Ct.centerY<=J&&u(Dt,"select")){at.push(Dt);var Bt=Dt.getModel();mt.push(Bt.id),n.setItemState(Dt,d,!0)}}});var St=[];this.includeEdges&&at.forEach(function(Dt){var Ct=Dt.getOutEdges();Ct.forEach(function(Bt){if(!!Bt.isVisible()){var zt=Bt.getModel(),Ht=zt.source,qt=zt.target;mt.includes(Ht)&&mt.includes(qt)&&u(Bt,"select")&&(St.push(Bt),n.setItemState(Bt,t.selectedState,!0))}})}),this.selectedEdges=St,this.selectedNodes=at,this.onSelect&&this.onSelect(at,St),n.emit("nodeselectchange",{selectedItems:{nodes:at,edges:St},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:mb(e.canvasX-t.x),height:mb(e.canvasY-t.y),x:Mg(e.canvasX,t.x),y:Mg(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(!!t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Ob="shift",ZM=["shift","ctrl","alt","control"],$M={getDefaultCfg:function(){return{multiple:!0,trigger:Ob,selectedState:"selected"}},getEvents:function(){var e=this;return ZM.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=Ob,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,r=e.item;if(!(!r||r.destroyed)){var n=r.getType(),o=t.graph,u=t.keydown,d=t.multiple,m=t.shouldUpdate,T=t.shouldBegin;if(!!T.call(t,e)){if(!u||!d){var j=o.findAllByState("node",t.selectedState).concat(o.findAllByState("combo",t.selectedState));Object(g.each)(j,function(J){J!==r&&o.setItemState(J,t.selectedState,!1)})}if(r.hasState(t.selectedState)){m.call(t,e)&&o.setItemState(r,t.selectedState,!1);var G=o.findAllByState("node",t.selectedState),et=o.findAllByState("combo",t.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:G,combos:et},select:!1})}else{m.call(t,e)&&o.setItemState(r,t.selectedState,!0);var G=o.findAllByState("node",t.selectedState),et=o.findAllByState("combo",t.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:G,combos:et},select:!0})}}}},onCanvasClick:function(){var e=this,t=this.graph,r=t.findAllByState("node",this.selectedState);Object(g.each)(r,function(o){t.setItemState(o,e.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);Object(g.each)(n,function(o){t.setItemState(o,e.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(e){var t=this,r=e.key;!r||(r.toLowerCase()===this.trigger.toLowerCase()||r.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.keydown=!1}},QM=E.transform,xb=.05,JM={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,r=t[0],n=t[1];e.preventDefault(),!!n&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:r.pageX,pageY:r.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(!!this.moveable){e.preventDefault();var t=e.originalEvent.touches,r=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var o=function(J,at){return Math.hypot(at.x-J.x,at.y-J.y)},u=o({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/o({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),d=this.originScale*u;this.currentScale=d;var m=this.get("minZoom")||this.graph.get("minZoom"),T=this.get("maxZoom")||this.graph.get("maxZoom");if(!(d>T||d<m)){var j=this.graph.get("canvas"),G=j.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(d,{x:G.x,y:G.y}),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,r=this,n=r.graph,o=r.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin.call(this,e))&&!!this.shouldUpdate.call(this,e)){e.preventDefault();var u=n.get("canvas"),d=u.getPointByClient(e.clientX,e.clientY),m=this.get("sensitivity"),T=n.getZoom(),j=T,G=T;e.wheelDelta<0?j=1-xb*m:j=1/(1-xb*m),G=T*j;var et=this.get("minZoom")||n.get("minZoom"),J=this.get("maxZoom")||n.get("maxZoom");if(!(G>J||G<et)){var at=this.get("enableOptimize");if(at){var mt=this.get("optimizeZoom"),St=this.get("optimized"),Dt=n.getNodes(),Ct=n.getEdges(),Bt=Dt.length,zt=Ct.length;if(!St){for(var Ht=0;Ht<Bt;Ht++){var qt=Dt[Ht];if(!qt.destroyed)for(var ue=qt.get("group").get("children"),se=ue.length,Me=0;Me<se;Me++){var ve=ue[Me];!ve.destoryed&&!ve.get("isKeyShape")&&(ve.set("ori-visibility",ve.get("ori-visibility")||ve.get("visible")),ve.hide())}}for(var De=0;De<zt;De++)for(var ye=Ct[De],ue=ye.get("group").get("children"),se=ue.length,Me=0;Me<se;Me++){var ve=ue[Me];ve.set("ori-visibility",ve.get("ori-visibility")||ve.get("visible")),ve.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var pr=setTimeout(function(){var ua=n.getZoom(),Wi=t.get("optimized");if(Wi){t.set("optimized",!1);for(var xa=0;xa<Bt;xa++){var Mi=Dt[xa],Ea=Mi.get("group").get("children"),ra=Ea.length;if(ua<mt){var Ro=Mi.getKeyShape(),Qi=Ro.get("ori-visibility");Qi&&Ro.show()}else for(var Ci=0;Ci<ra;Ci++){var ma=Ea[Ci],Qi=ma.get("ori-visibility");!ma.get("visible")&&Qi&&Qi&&ma.show()}}for(var Gn=0;Gn<zt;Gn++){var va=Ct[Gn],Ea=va.get("group").get("children"),ra=Ea.length;if(ua<mt){var Ro=va.getKeyShape(),Qi=Ro.get("ori-visibility");Qi&&Ro.show()}else for(var Ci=0;Ci<ra;Ci++){var ma=Ea[Ci];if(!ma.get("visible")){var Qi=ma.get("ori-visibility");Qi&&ma.show()}}}}},100);this.set("timeout",pr)}if(T<=1){var cr=void 0,fr=void 0;if(o.fixAll||o.fixLineWidth||o.fixLabel){cr=n.findAllByState("node",o.fixState),fr=n.findAllByState("edge",o.fixState);for(var en=T/G,sn=cr.length,Yr=0;Yr<sn;Yr++){var qt=cr[Yr],rn=qt.getContainer(),gn=qt.getModel(),vn=qt.getOriginStyle(),ln=qt.getStateStyle(o.fixState),Pn=qt.get("shapeFactory").getShape(gn.type).getStateStyle(o.fixState,qt)[o.fixState];if(o.fixAll){if(G<=1){var Lr=Object(g.clone)(rn.getMatrix());Lr||(Lr=[1,0,0,0,1,0,0,0,1]);var nn=qt.getModel(),jn=nn.x,Sn=nn.y;Lr=QM(Lr,[["t",-jn,-Sn],["s",en,en],["t",jn,Sn]]),rn.setMatrix(Lr)}}else for(var ue=rn.get("children"),se=ue.length,Me=0;Me<se;Me++){var ve=ue[Me],Fn=void 0,Tn=void 0;if(o.fixLabel){var ui=ve.get("type");if(ui==="text"){Fn=ve.attr("fontSize")||12;var la=ln[ve.get("name")],xi=Pn[ve.get("name")],to=la?la.fontSize:12,ka=xi?xi.fontSize:12,So=to||ka||12;if(G<=1&&ve.attr("fontSize",So/G),Tn)break}}if(o.fixLineWidth&&ve.get("isKeyShape")){Tn=ve.attr("lineWidth")||0;var el=ln.lineWidth||Pn.lineWidth||vn.lineWidth||0;if(G<=1&&ve.attr("lineWidth",el/G),Fn)break}}}for(var ea=fr.length,ya=0;ya<ea;ya++)for(var ye=fr[ya],rn=ye.getContainer(),ue=rn.get("children"),gn=ye.getModel(),ln=ye.getStateStyle(o.fixState),Pn=ye.get("shapeFactory").getShape(gn.type).getStateStyle(o.fixState,ye)[o.fixState],se=ue.length,Me=0;Me<se;Me++){var ve=ue[Me],Fn=void 0,Tn=void 0;if(o.fixLabel||o.fixAll){var ui=ve.get("type");if(ui==="text"){Fn=ve.attr("fontSize")||12;var la=ln[ve.get("name")],xi=Pn[ve.get("name")],to=la?la.fontSize:12,ka=xi?xi.fontSize:12,So=to||ka||12;if(G<=1&&ve.attr("fontSize",So/G),Tn)break}}if((o.fixLineWidth||o.fixAll)&&ve.get("isKeyShape")){Tn=ve.attr("lineWidth")||0;var el=ln.lineWidth||Pn.lineWidth||1;if(G<=1&&ve.attr("lineWidth",el/G),Fn)break}}}}n.zoomTo(G,{x:d.x,y:d.y}),n.emit("wheelzoom",e)}}}},Eb={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){!this.shouldEnd(e)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var r=this.formatText(e.item.get("model"),e);t.innerHTML=r,Object(rr.e)(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){Object(rr.e)(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),r=this,n=r.width,o=r.height,u=r.container,d=r.graph;if(!t(e)){Object(rr.e)(u,{visibility:"hidden"});return}var m=d.getPointByClient(e.clientX,e.clientY),T=d.getCanvasByPoint(m.x,m.y),j=T.x,G=T.y,et=u.getBoundingClientRect();j>n/2?j-=et.width:j+=this.offset,G>o/2?G-=et.height:G+=this.offset;var J=j+"px",at=G+"px";Object(rr.e)(this.container,{left:J,top:at,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var r=Object(rr.b)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(r),Object(rr.e)(r,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=r,this.graph.get("tooltips").push(r),r}},qM=Object(oe.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Eb),tC=Object(oe.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Eb),Sb="click",eC=["click","dblclick"],rC={getDefaultCfg:function(){return{trigger:Sb,onChange:function(){}}},getEvents:function(){var e,t;return eC.includes(this.trigger)?t=this.trigger:(t=Sb,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:"+t]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(!!t){var r=this.graph.findDataById(t.get("id"));if(!!r){var n=r.children;if(!(!n||n.length===0)){var o=!r.collapsed;!this.shouldBegin(e,o)||(r.collapsed=o,t.getModel().collapsed=o,this.graph.emit("itemcollapsed",{item:e.item,collapsed:o}),!!this.shouldUpdate(e,o)&&(this.onChange(t,o),this.graph.layout()))}}}}},nC=ac.calculationItemsBBox,iC=function l(e,t){if(t(e)!==!1&&e){var r=e.get("combos");if(r.length===0)return!1;Object(g.each)(r,function(n){l(n,t)})}},aC={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate(this,e))return!1;var r=t.getType();return r==="combo"},onDragStart:function(e){var t=this,r=this.graph,n=e.item;if(!!this.validationCombo(e)){this.targets=[];var o=r.findAllByState("combo",this.selectedState),u=n.get("id"),d=o.filter(function(m){var T=m.get("id");return u===T});d.length===0?this.targets.push(n):this.targets=o,this.activeState&&this.targets.map(function(m){var T=m.getModel();if(T.parentId){var j=r.findById(T.parentId);j&&r.setItemState(j,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],iC(n,function(m){if(m.destroyed)return!1;var T=m.getModel();return t.currentItemChildCombos.push(T.id),!0})}},onDrag:function(e){var t=this;if(!!this.origin&&!!this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var r=this.graph,n=e.item,o=n.getModel(),u=r.getCombos(),d=n.getBBox(),m=d.centerX,T=d.centerY,j=d.width,G=u.filter(function(et){var J=et.getModel();return o.parentId,J.id!==o.id&&!t.currentItemChildCombos.includes(J.id)});G.map(function(et){var J=et.getBBox(),at=J.centerX,mt=J.centerY,St=J.width,Dt=m-at,Ct=T-mt,Bt=2*Math.sqrt(Dt*Dt+Ct*Ct);j+St-Bt>.8*j?r.setItemState(et,t.activeState,!0):r.setItemState(et,t.activeState,!1)})}Object(g.each)(this.targets,function(et){t.updateCombo(et,e)})}},updatePositions:function(e){var t=this;this.enableDelegate&&Object(g.each)(this.targets,function(r){t.updateCombo(r,e)})},onDrop:function(e){var t=this,r=e.item;if(!(!r||!this.targets||r.destroyed)){this.updatePositions(e);var n=this.graph,o=r.getModel();this.targets.map(function(u){var d=u.getModel();d.parentId!==o.id?(t.activeState&&n.setItemState(r,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(u):n.updateComboTree(u,o.id)):n.updateCombo(r)}),this.end(r,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(e);var r=this.graph,n=e.item,o=n.getModel().comboId,u;if(o){if(this.activeState){var d=r.findById(o);r.setItemState(d,this.activeState,!1)}this.targets.map(function(m){t.onlyChangeComboSize?r.updateCombo(m):o!==m.getID()&&(u=r.findById(o),o!==m.getModel().parentId&&r.updateComboTree(m,o))})}else this.targets.map(function(m){if(t.onlyChangeComboSize)r.updateCombo(m);else{var T=m.getModel();T.comboId&&r.updateComboTree(m)}});this.endComparison=!0,this.end(u,e)}},onDragEnter:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.updatePositions(e);var r=this.getParentCombo(t.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var r=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var o=n.get("delegateGroup");o.clear(),this.delegateShape=null}e&&this.activeState&&n.setItemState(e,this.activeState,!1),e||this.targets.map(function(u){r.onlyChangeComboSize?n.updateCombo(u):n.updateComboTree(u)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var r=this;if(t(e)!==!1&&e){var n=e.get("combos");Object(g.each)(n,function(u){r.traverse(u,t)});var o=e.get("nodes");Object(g.each)(o,function(u){r.traverse(u,t)})}},updateCombo:function(e,t){var r=this;this.traverse(e,function(n){return n.destroyed?!1:(r.updateSignleItem(n,t),!0)})},updateSignleItem:function(e,t){var r=this.origin,n=this.graph,o=e.getModel(),u=e.get("id");this.point[u]||(this.point[u]={x:o.x,y:o.y});var d=t.x-r.x+this.point[u].x,m=t.y-r.y+this.point[u].y;n.updateItem(e,{x:d,y:m})},getParentCombo:function(e){var t=this.graph;if(!!e){var r=t.findById(e);if(!!r)return r}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var et=e.x-this.origin.x+this.originPoint.minX,J=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:et,y:J})}else{var r=t.get("delegateGroup"),n=null;this.targets.length>1?n=nC(this.targets):n=this.targets[0].getBBox();var o=n.x,u=n.y,d=n.width,m=n.height,T=n.minX,j=n.minY;this.originPoint={x:o,y:u,width:d,height:m,minX:T,minY:j};var G=Object(oe.__assign)(Object(oe.__assign)({},Hr.delegateStyle),this.delegateStyle);this.delegateShape=r.addShape("rect",{attrs:Object(oe.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},G),name:"combo-delegate-shape"}),this.delegate=this.delegateShape}}},Mb="dblclick",oC=["click","dblclick"],sC={getDefaultCfg:function(){return{trigger:Mb,relayout:!0}},getEvents:function(){var e,t;return oC.includes(this.trigger)?t=this.trigger:(t=Mb,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:"+t]="onComboClick",e},onComboClick:function(e){var t=e.item,r=this,n=r.graph,o=r.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var u=t.getModel(),d=u.id;!d||(n.collapseExpandCombo(d),o&&n.get("layout")?n.layout():n.refreshPositions())}}},lC=ac.isPolygonsIntersect,uC=ac.pathToPoints,Cb="shift",cC=["drag","shift","ctrl","alt","control"],fC=function(e,t){var r,n=e.getKeyShape();if(e.get("type")==="path")r=uC(n.attr("path"));else{var o=n.getCanvasBBox();r=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return lC(t,r)},hC={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Cb,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return cC.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Cb,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,r=e.item;r||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),o=t.findAllByState("edge",r);n.forEach(function(u){return t.setItemState(u,r,!1)}),o.forEach(function(u){return t.setItemState(u,r,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,r=t.graph,n=t.shouldUpdate,o=this.points.map(function(j){return[r.getCanvasByPoint(j.x,j.y).x,r.getCanvasByPoint(j.x,j.y).y]}),u=this.selectedState,d=[],m=[];r.getNodes().forEach(function(j){if(!!j.isVisible()&&fC(j,o)&&n(j,"select")){d.push(j);var G=j.getModel();m.push(G.id),r.setItemState(j,u,!0)}});var T=[];this.includeEdges&&d.forEach(function(j){var G=j.getOutEdges();G.forEach(function(et){if(!!et.isVisible()){var J=et.getModel(),at=J.source,mt=J.target;m.includes(at)&&m.includes(mt)&&n(et,"select")&&(T.push(et),r.setItemState(et,e.selectedState,!0))}})}),this.selectedEdges=T,this.selectedNodes=d,this.onSelect&&this.onSelect(d,T),r.emit("nodeselectchange",{selectedItems:{nodes:d,edges:T},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:Object(oe.__assign)({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Ab="click",dC=["click","drag"],Tb=void 0,vC=["shift","ctrl","control","alt","meta",void 0],gC={getDefaultCfg:function(){return{trigger:Ab,key:Tb,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e=this;dC.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=Ab,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&vC.indexOf(e.key.toLowerCase())===-1&&(e.trigger=Tb,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item;(!r||r.getID()===t.source||r.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item,n=t.graph,o=r.getModel(),u=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var d=void 0;u&&Object(g.isFunction)(u)?d=u({source:t.source,target:o.id}):d=t.edgeConfig;var m=Object(oe.__assign)({target:o.id},d);if(t.source===o.id&&(m.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,m,!1),n.get("enabledStack")){var T=Object(oe.__assign)(Object(oe.__assign)({},t.edge.getModel()),{itemType:"edge"}),j={};j.edges=[T],n.pushStack("add",{before:{},after:j})}n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;var d=void 0;u&&Object(g.isFunction)(u)?d=u({source:o.id,target:o.id}):d=t.edgeConfig,t.edge=n.addItem("edge",Object(oe.__assign)({source:o.id,target:o.id},d),!1),t.source=o.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){var r={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:r},!1)}},cancelCreating:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=t.graph,n=e.item;if(t.addingEdge&&e.target&&e.target.isCanvas&&e.target.isCanvas()){r.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}t.addingEdge&&t.edge===n&&(r.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1)}},onKeyDown:function(e){var t=this,r=e.key;!r||(r.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},Db="ctrl",pC=["shift","ctrl","alt","control"],yC="1",mC={getDefaultCfg:function(){return{trigger:Db,combinedKey:yC,functionName:"fitView",functionParams:[]}},getEvents:function(){return pC.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Db,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(!!t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var o=this.graph;if(!o[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]();return}var u=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===u||n==="control"&&u==="ctrl"||n==="ctrl"&&u==="control")&&(this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},bC=["shift","ctrl","alt","control"],OC={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return(!this.zoomKey||bC.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,r=this.graph,n=e[this.zoomKey+"Key"];if(this.zoomKey==="control"&&(n=e.ctrlKey),n){var o=r.get("canvas"),u=o.getPointByClient(e.clientX,e.clientY),d=r.getZoom();e.wheelDelta>0?d=d+d*.05:d=d-d*.05,r.zoomTo(d,{x:u.x,y:u.y})}else{var m=e.deltaX||e.movementX,T=e.deltaY||e.movementY;!T&&navigator.userAgent.indexOf("Firefox")>-1&&(T=-e.wheelDelta*125/3);var j=this.graph.get("width"),G=this.graph.get("height"),et=this.graph.get("canvas").getCanvasBBox(),J=this.scalableRange,at=this.scalableRange;J<1&&J>-1&&(J=j*J,at=G*at),(et.minX<=j+J&&et.minX+m>j+J||et.maxX+J>=0&&et.maxX+J+m<0)&&(m=0),(et.minY<=G+at&&et.minY+T>G+at||et.maxY+at>=0&&et.maxY+at+T<0)&&(T=0),this.get("direction")==="x"?T=0:this.get("direction")==="y"&&(m=0),r.translate(-m,-T)}e.preventDefault();var mt=this.get("enableOptimize");if(mt){var St=this.get("optimizeZoom"),Dt=this.get("optimized"),Ct=r.getNodes(),Bt=r.getEdges(),zt=Ct.length,Ht=Bt.length;if(!Dt){for(var qt=0;qt<zt;qt++){var ue=Ct[qt];if(!ue.destroyed)for(var se=ue.get("group").get("children"),Me=se.length,ve=0;ve<Me;ve++){var De=se[ve];!De.destoryed&&!De.get("isKeyShape")&&(De.set("ori-visibility",De.get("ori-visibility")||De.get("visible")),De.hide())}}for(var ye=0;ye<Ht;ye++)for(var pr=Bt[ye],se=pr.get("group").get("children"),Me=se.length,ve=0;ve<Me;ve++){var De=se[ve];De.set("ori-visibility",De.get("ori-visibility")||De.get("visible")),De.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var cr=setTimeout(function(){var fr=r.getZoom(),en=t.get("optimized");if(en){t.set("optimized",!1);for(var sn=0;sn<zt;sn++){var Yr=Ct[sn],rn=Yr.get("group").get("children"),gn=rn.length;if(fr<St){var vn=Yr.getKeyShape(),ln=vn.get("ori-visibility");ln&&vn.show()}else for(var Pn=0;Pn<gn;Pn++){var Lr=rn[Pn],ln=Lr.get("ori-visibility");!Lr.get("visible")&&ln&&ln&&Lr.show()}}for(var nn=0;nn<Ht;nn++){var jn=Bt[nn],rn=jn.get("group").get("children"),gn=rn.length;if(fr<St){var vn=jn.getKeyShape(),ln=vn.get("ori-visibility");ln&&vn.show()}else for(var Pn=0;Pn<gn;Pn++){var Lr=rn[Pn];if(!Lr.get("visible")){var ln=Lr.get("ori-visibility");ln&&Lr.show()}}}}},100);this.set("timeout",cr)}}},xC={"drag-canvas":XM,"zoom-canvas":JM,"drag-node":YM,"activate-relations":HM,"brush-select":_M,"click-select":$M,"lasso-select":hC,tooltip:qM,"edge-tooltip":tC,"collapse-expand":rC,"drag-combo":aC,"collapse-expand-combo":sC,"create-edge":gC,"shortcuts-call":mC,"scroll-canvas":OC};Object(g.each)(xC,function(l,e){nu(e,l)});var EC=Object(oe.__assign)(Object(oe.__assign)({},c),iu),yA=Vo.Grid,mA=Vo.Minimap,bA=Vo.Bundling,OA=Vo.Menu,SC=Vo.Fisheye,xA=Vo.ToolBar,EA=Vo.Tooltip,MC=Vo.TimeBar,CC=Vo.ImageMinimap,AC=Vo.EdgeFilterLens,TC=Vo.SnapLine,SA=Vo.Legend,Pb={version:Hr.version,Graph:X0,TreeGraph:w1,Util:ac,Layout:Ep,TreeLayout:m1,registerLayout:b1,Global:Hr,registerBehavior:nu,registerCombo:Zu,registerEdge:wl,registerNode:ts,Minimap:Vo.Minimap,Grid:Vo.Grid,Bundling:Vo.Bundling,Menu:Vo.Menu,ToolBar:Vo.ToolBar,Tooltip:Vo.Tooltip,Legend:Vo.Legend,TimeBar:MC,SnapLine:TC,Fisheye:SC,ImageMinimap:CC,EdgeFilterLens:AC,Algorithm:EC,Arrow:Uc,Marker:ru,Shape:Ss};Pb.version="4.3.4";var Ua=Pb,MA="4.3.4",af=function(){return af=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},af.apply(this,arguments)},DC={show:!1,size:[150,100],type:"keyShape"},Cv=function(l,e,t){var r,n;return t&&t.current&&(r=t.current.offsetWidth,n=t.current.offsetHeight||500),!l&&!r||!e&&!n?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[l||r||500,e||n||500]},Av=function(l,e){if(!(!e||e.destroyed)){if(l&&l.show){var t=Object.assign(DC,l),r=new Ua.Minimap(af({},t));return e.addPlugin(r),r}return null}},PC=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var e=Math.random()*16|0,t=l=="x"?e:e&3|8;return t.toString(16)})},Cg=function(l){return l.current||(l.current="IndentedTreeGraph-"+PC()),l.current},Gp=function(l,e,t){var r=w(e);l.data(r),l.render(),t?l.fitView():l.fitCenter()},Ag=function(l,e){var t=e.handleEdgeClick,r=e.handleEdgeHover,n=e.handleEdgeUnHover,o=e.handleNodeClick,u=e.handleNodeHover,d=e.handleNodeUnHover,m=e.handleCanvasClick;l.on("edge:mouseenter",function(T){var j=T.item;l.setItemState(j,"hover",!0),r==null||r(j,l)}),l.on("edge:mouseleave",function(T){var j=T.item;l.setItemState(j,"hover",!1),n==null||n(j,l)}),l.on("edge:click",function(T){var j=T.item;t==null||t(j,l)}),l.on("edge:touchstart",function(T){var j=T.item;t==null||t(j,l)}),l.on("node:mouseenter",function(T){var j=T.item;l.setItemState(j,"hover",!0),u==null||u(j,l)}),l.on("node:mouseleave",function(T){var j=T.item;l.setItemState(j,"hover",!1),d==null||d(j,l)}),l.on("node:click",function(T){var j=T.item;o==null||o(j,l)}),l.on("canvas:click",function(){m==null||m(l)}),l.on("canvas:touchstart",function(){m==null||m(l)})},Tg=function(l,e){return af(af(af({},e),l),{layout:af(af({},e==null?void 0:e.layout),l==null?void 0:l.layout)})};function uh(l,e,t){var r=Object(y.useRef)(),n=e.data,o=e.nodeStyle,u=e.nodeAnchorPoints,d=e.nodeType,m=e.edgeType,T=e.edgeStyle,j=e.width,G=e.height,et=e.layout,J=e.minimapCfg,at=e.behaviors,mt=e.nodeLabelCfg,St=e.edgeLabelCfg,Dt=e.autoFit,Ct=Dt===void 0?!0:Dt,Bt;return Object(y.useEffect)(function(){l&&!l.destroyed&&(l.changeData(n),Ct?l.fitView():l.fitCenter())},[n]),Object(y.useEffect)(function(){l&&!l.destroyed&&l.getNodes().forEach(function(zt){l.updateItem(zt,{type:d,style:o,anchorPoints:u,labelCfg:mt})})},[o,u,d]),Object(y.useEffect)(function(){l&&!l.destroyed&&l.getEdges().forEach(function(zt){l.updateItem(zt,{type:m,style:T,labelCfg:St})})},[T,m]),Object(y.useEffect)(function(){if(l&&!l.destroyed){var zt=Cv(j,G,t);l.changeSize(zt[0],zt[1])}},[t,j,G]),Object(y.useEffect)(function(){l&&!l.destroyed&&l.updateLayout(et)},[et]),Object(y.useEffect)(function(){if(!(!J||!l||l.destroyed))if(J.show)Bt=Av(J,l),Bt==null||Bt.updateCanvas();else{var zt=l.get("plugins")[0];zt&&l.removePlugin(zt)}},[J]),Object(y.useEffect)(function(){if(l&&!l.destroyed){var zt=l.get("modes").default,Ht=[];zt.forEach(function(qt){Object(g.isObject)(qt)?Ht.push(qt.type):Object(g.isString)(qt)&&Ht.push(qt)}),l.removeBehaviors(Ht,"default"),l.addBehaviors(at,"default")}},[at]),Object(y.useEffect)(function(){return r.current=l,function(){l&&!l.destroyed&&(l.destroy(),l=void 0)}},[]),{graphHook:r}}var rs=function(){return rs=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},rs.apply(this,arguments)},IC=function(){Ua.registerNode("card-node",{draw:function(l,e){var t;l===void 0&&(l={});var r=l.size||[100,30];typeof r=="number"&&(r=[r,r]);var n=rs({radius:2,fill:"#fff"},l.style),o=n.stroke||l.color||"#5B8FF9",u=n.radius||0,d=e.addShape("rect",{attrs:rs({x:0,y:0,width:r[0],height:r[1],stroke:o},n),name:"main-box",draggable:!0}),m=l.title||l.label,T,j=((t=l.labelCfg)===null||t===void 0?void 0:t.style)||{};if(m){var G=rs({fill:"#fff"},j);T=e.addShape("text",{attrs:rs(rs({textBaseline:"top",x:8,y:2,text:m},G),{fill:"#fff"}),name:"title"})}var et=T?T.getBBox():{height:r[1]/2},J=e.addShape("rect",{attrs:{x:0,y:0,width:r[0],height:et.height+4,fill:o,radius:[u,u,0,0]},name:"title-rect",draggable:!0});T==null||T.toFront();var at;(l==null?void 0:l.children)&&(at=e.addShape("marker",{attrs:{x:r[0]/2,y:0,r:6,cursor:"pointer",symbol:l.collapsed?Ua.Marker.expand:Ua.Marker.collapse,stroke:o,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var mt=l&&l.description?l.description:void 0,St=J.getBBox(),Dt;if(mt&&(Dt=e.addShape("text",{attrs:rs({textBaseline:"top",x:8,y:St.height+8,text:mt},j),name:"description"})),Dt){var Ct=Dt.getBBox(),Bt=St.height+16+Ct.height,zt=r[0]>Ct.width+16?r[0]:Ct.width+16;d.attr({width:zt,height:Bt}),J==null||J.attr("width",zt),at==null||at.attr({x:zt,y:Bt/2})}return d},update:void 0},"single-node"),Ua.registerNode("round-rect",{drawShape:function(l,e){l===void 0&&(l={});var t=l.size||[100,30];typeof t=="number"&&(t=[t,t]);var r=l.style||{},n=r.stroke||l.color||"#5B8FF9",o=r.fill||"#fff";r=rs({width:t[0],height:t[1],radius:t[1]/2,fill:o,lineWidth:1.2,stroke:n},r);var u=e.addShape("rect",{attrs:rs({x:-t[0]/2,y:-t[1]/2},r),name:"rect-shape"});return e.addShape("circle",{attrs:{x:-t[0]/2,y:0,r:3,fill:r.stroke},name:"circle-shape"}),e.addShape("circle",{attrs:{x:t[0]/2,y:0,r:3,fill:r.stroke},name:"circle-shape2"}),u},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(e,t){var r;e===void 0&&(e={});var n=t.getContainer(),o=n.get("children"),u=o[0],d=o[1],m=o[2],T=((r=e.style)===null||r===void 0?void 0:r.stroke)||"#5B8FF9";T&&(u.attr("stroke",T),d.attr("fill",T),m.attr("fill",T))}},"single-node"),Ua.registerEdge("fund-polyline",{draw:function(e,t){var r;e===void 0&&(e={});var n=e.startPoint,o=e.endPoint,u=o.y-n.y,d=u!==0?Math.min(500/Math.abs(u),20):0,m=d>15?0:16,T=u<0?m:-m,j={x:n.x+d,y:o.y+T},G={x:j.x+m,y:o.y},et={x:(j.x-n.x)*(o.y-n.y)/(j.y-n.y)+n.x,y:o.y},J=[["M",n.x,n.y],["L",j.x,j.y],["Q",et.x,et.y,G.x,G.y],["L",o.x,o.y]];Math.abs(u)<=5&&(J=[["M",n.x,n.y],["L",o.x,o.y]]);var at=e.style,mt=at.stroke||(e==null?void 0:e.colorMap)&&e.colorMap[e.dataType]?(e==null?void 0:e.colorMap)[e==null?void 0:e.dataType]:"#5B8FF9",St=((r=e.style)===null||r===void 0?void 0:r.endArrow)||!1;Object(g.isObject)(St)&&(St.fill=mt);var Dt=t.addShape("path",{attrs:{path:J,stroke:mt,lineWidth:at.lineWidth||1.2,endArrow:St},name:"path-shape"}),Ct=0,Bt=8,zt,Ht=G.x+Ct;if((e==null?void 0:e.label)&&(zt=t.addShape("text",{attrs:{text:e.label,x:Ht,y:o.y-Bt-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),e==null?void 0:e.dataType){var qt=zt?zt.getBBox():{height:0};t.addShape("text",{attrs:{text:e.dataType,x:Ht,y:o.y-Bt-qt.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(e==null?void 0:e.subLabel)&&t.addShape("text",{attrs:{text:e.subLabel,x:Ht,y:o.y+Bt+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),Dt},update:void 0},"single-edge"),Ua.registerEdge("flow-line",{draw:function(l,e){l===void 0&&(l={});var t=l.startPoint,r=l.endPoint,n=l.style,o=n===void 0?{}:n,u=e.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",t.x,t.y],["L",t.x,(t.y+r.y)/2],["L",r.x,(t.y+r.y)/2],["L",r.x,r.y]]}});return u}})},LC=function(l){Ua.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,t){e===void 0&&(e={});var r=this.getShapeStyle(e),n=e.labelCfg,o=n===void 0?{}:n,u=t.addShape("rect",{attrs:rs(rs({},r),{x:0,y:0})}),d={fill:"#e6fffb"},m="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(d=rs(rs({},d),e.leftIcon.style),m=e.leftIcon.img),t.addShape("rect",{attrs:rs({x:1,y:1,width:38,height:r.height-2},d)}),t.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:m},name:"image-shape"}),l.enableEdit&&(t.addShape("marker",{attrs:{x:r.width/3,y:r.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Ua.Marker.expand},name:"add-item"}),t.addShape("marker",{attrs:{x:r.width*2/3,y:r.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Ua.Marker.collapse},name:"remove-item"})),e.label&&t.addShape("text",{attrs:rs(rs({},o.style),{text:e.label,x:r.width/2,y:r.height/1.5})}),u}},"rect")},du={style:{fill:"#000",fontSize:12}},Dg={stroke:"#91d5ff",endArrow:{path:Ua.Arrow.vee(10,10)}},Pg=[[.5,0],[.5,1]],vs={hover:{stroke:"#1890ff",lineWidth:2}},Ig=[120,40],Ib={fill:"#91d5ff",stroke:"#40a9ff",radius:2},Lb={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},Rb={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},RC={nodeType:"rect",edgeType:"flow-line",collapseExpand:!1,nodeSize:[120,40],nodeLabelCfg:du,edgeLabelCfg:du,layout:Rb,enableEdit:!1,nodeStyle:Ib,edgeStyle:Lb,nodeStateStyles:vs,edgeStateStyles:vs,autoFit:!0},cd={},jC=function(l){var e=Tg(l,RC),t=e.data,r=e.className,n=e.style,o=e.width,u=e.height,d=e.nodeType,m=d===void 0?"rect":d,T=e.edgeType,j=T===void 0?"flow-line":T,G=e.collapseExpand,et=G===void 0?!1:G,J=e.nodeSize,at=J===void 0?[120,40]:J,mt=e.nodeLabelCfg,St=mt===void 0?du:mt,Dt=e.edgeLabelCfg,Ct=Dt===void 0?du:Dt,Bt=e.layout,zt=Bt===void 0?Rb:Bt,Ht=e.enableEdit,qt=Ht===void 0?!1:Ht,ue=e.minimapCfg,se=e.nodeStyle,Me=se===void 0?Ib:se,ve=e.edgeStyle,De=ve===void 0?Lb:ve,ye=e.nodeStateStyles,pr=ye===void 0?vs:ye,cr=e.edgeStateStyles,fr=cr===void 0?vs:cr,en=e.autoFit,sn=en===void 0?!0:en,Yr=e.graphRef,rn=e.onReady,gn=e.loading,vn=e.loadingTemplate,ln=e.errorTemplate,Pn=C.a.useRef(null),Lr=C.a.useRef(null),nn=Cg(Lr);return uh(cd[nn],e,Pn),Object(y.useEffect)(function(){var jn=Cv(o,u,Pn);m==="icon-node"&&LC({enableEdit:qt});var Sn=cd[nn];return Sn||(Sn=new Ua.TreeGraph({container:Pn.current,width:jn[0],height:jn[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:m,size:at,style:Me,labelCfg:St},defaultEdge:{type:j,style:De,labelCfg:Ct},nodeStateStyles:pr,edgeStateStyles:fr,layout:zt}),cd[nn]=Sn),Yr&&(Yr.current=Sn),Av(ue,Sn),Gp(Sn,t,sn),rn&&rn(Sn),et&&Sn.addBehaviors({type:"collapse-expand"},"default"),Ag(Sn,l),function(){cd[nn]&&(cd[nn].destroy(),delete cd[nn])}},[]),C.a.createElement(nt,{errorTemplate:ln},gn&&C.a.createElement(gt,{loadingTemplate:vn}),C.a.createElement("div",{className:r,style:n,ref:Pn}))},jb=jC,wb={stroke:"#40a9ff"},Bb={type:"dagre",rankdir:"TB",nodesepFunc:function(){return 0},ranksepFunc:function(){return 0},controlPoints:!0},wC={nodeType:"modelRect",edgeType:"polyline",behaviors:["zoom-canvas","drag-canvas"],nodeSize:Ig,nodeLabelCfg:du,edgeLabelCfg:du,nodeAnchorPoints:Pg,layout:Bb,nodeStyle:wb,edgeStyle:Dg,nodeStateStyles:vs,edgeStateStyles:vs,autoFit:!0},fd={},BC=function(l){var e=Tg(l,wC),t=e.data,r=e.className,n=e.style,o=e.width,u=e.height,d=e.nodeType,m=d===void 0?"modelRect":d,T=e.edgeType,j=T===void 0?"polyline":T,G=e.behaviors,et=G===void 0?["zoom-canvas","drag-canvas"]:G,J=e.nodeSize,at=J===void 0?Ig:J,mt=e.nodeLabelCfg,St=mt===void 0?du:mt,Dt=e.edgeLabelCfg,Ct=Dt===void 0?du:Dt,Bt=e.nodeAnchorPoints,zt=Bt===void 0?Pg:Bt,Ht=e.layout,qt=Ht===void 0?Bb:Ht,ue=e.minimapCfg,se=e.nodeStyle,Me=se===void 0?wb:se,ve=e.edgeStyle,De=ve===void 0?Dg:ve,ye=e.nodeStateStyles,pr=ye===void 0?vs:ye,cr=e.edgeStateStyles,fr=cr===void 0?vs:cr,en=e.autoFit,sn=en===void 0?!0:en,Yr=e.graphRef,rn=e.onReady,gn=e.loading,vn=e.loadingTemplate,ln=e.errorTemplate,Pn=C.a.useRef(null),Lr=C.a.useRef(null),nn=Cg(Lr);return uh(fd[nn],e,Pn),Object(y.useEffect)(function(){var jn=Cv(o,u,Pn),Sn=fd[nn];return Sn||(Sn=new Ua.Graph({container:Pn.current,width:jn[0],height:jn[1],modes:{default:et},defaultNode:{type:m,size:at,style:Me,anchorPoints:zt,labelCfg:St},defaultEdge:{type:j,style:De,labelCfg:Ct},nodeStateStyles:pr,edgeStateStyles:fr,layout:qt,fitView:!0}),fd[nn]=Sn),Yr&&(Yr.current=Sn),Av(ue,Sn),Gp(Sn,t,sn),rn&&rn(Sn),Ag(Sn,l),function(){fd[nn]&&(fd[nn].destroy(),delete fd[nn])}},[]),C.a.createElement(nt,{errorTemplate:ln},gn&&C.a.createElement(gt,{loadingTemplate:vn}),C.a.createElement("div",{className:r,style:n,ref:Pn}))},Nb=BC;IC();var Fb={stroke:"#40a9ff"},Gb=[[0,.5],[1,.5]],Ub={stroke:"#ccc",endArrow:{path:Ua.Arrow.vee(10,10),fill:"#ccc"}},Wb={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(){return 100}},NC={nodeType:"card-node",edgeType:"cubic-horizontal",behaviors:["zoom-canvas","drag-canvas"],nodeSize:Ig,nodeLabelCfg:du,nodeAnchorPoints:Gb,layout:Wb,nodeStyle:Fb,edgeStyle:Ub,nodeStateStyles:vs,edgeStateStyles:vs,collapseExpand:!0,autoFit:!0},hd={},FC=function(l){var e=Tg(l,NC),t=e.data,r=e.className,n=e.style,o=e.width,u=e.height,d=e.nodeType,m=d===void 0?"card-node":d,T=e.edgeType,j=T===void 0?"cubic-horizontal":T,G=e.behaviors,et=G===void 0?["zoom-canvas","drag-canvas"]:G,J=e.nodeSize,at=J===void 0?Ig:J,mt=e.nodeLabelCfg,St=mt===void 0?du:mt,Dt=e.nodeAnchorPoints,Ct=Dt===void 0?Gb:Dt,Bt=e.layout,zt=Bt===void 0?Wb:Bt,Ht=e.minimapCfg,qt=e.nodeStyle,ue=qt===void 0?Fb:qt,se=e.edgeStyle,Me=se===void 0?Ub:se,ve=e.nodeStateStyles,De=ve===void 0?vs:ve,ye=e.edgeStateStyles,pr=ye===void 0?vs:ye,cr=e.collapseExpand,fr=cr===void 0?!0:cr,en=e.autoFit,sn=en===void 0?!0:en,Yr=e.handleNodeClick,rn=e.graphRef,gn=e.onReady,vn=e.loading,ln=e.loadingTemplate,Pn=e.errorTemplate,Lr=C.a.useRef(null),nn=Cg(Lr),jn=C.a.useRef(null);return uh(hd[nn],e,jn),Object(y.useEffect)(function(){var Sn=Cv(o,u,jn),Fn=hd[nn];if(Fn||(Fn=new Ua.TreeGraph({container:jn.current,width:Sn[0],height:Sn[1],modes:{default:et},defaultNode:{type:m,size:at,style:ue,anchorPoints:Ct,labelCfg:St},defaultEdge:{type:j,style:Me},nodeStateStyles:De,edgeStateStyles:pr,layout:zt}),hd[nn]=Fn),rn&&(rn.current=Fn),Av(Ht,Fn),Gp(Fn,t,sn),gn&&gn(Fn),fr){var Tn=function(ui){var la=ui.item;ui.target.get("name")==="collapse-icon"?(Fn.updateItem(la,{collapsed:!la.getModel().collapsed}),Fn.layout()):Yr&&Yr(la,Fn)};Fn.on("node:click",function(ui){Tn(ui)}),Fn.on("node:touchstart",function(ui){Tn(ui)})}return Ag(Fn,l),function(){hd[nn]&&(hd[nn].destroy(),delete hd[nn])}},[]),C.a.createElement(nt,{errorTemplate:Pn},vn&&C.a.createElement(gt,{loadingTemplate:ln}),C.a.createElement("div",{className:r,style:n,ref:jn}))},zb=FC,Vb=[150,30],kb={stroke:"#72CC4A",fill:"#f00"},Xb={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},Lg={style:{fill:"#000000A6",fontSize:10}},GC={nodeType:"round-rect",edgeType:"fund-polyline",behaviors:["zoom-canvas","drag-canvas"],nodeSize:Vb,nodeLabelCfg:Lg,edgeLabelCfg:Lg,nodeAnchorPoints:Pg,layout:Xb,nodeStyle:kb,edgeStyle:Dg,nodeStateStyles:vs,edgeStateStyles:vs,colorMap:{},autoFit:!0},dd={},UC=function(l){var e=Tg(l,GC),t=e.data,r=e.className,n=e.style,o=e.width,u=e.height,d=e.nodeType,m=d===void 0?"round-rect":d,T=e.edgeType,j=T===void 0?"fund-polyline":T,G=e.behaviors,et=G===void 0?["zoom-canvas","drag-canvas"]:G,J=e.nodeSize,at=J===void 0?Vb:J,mt=e.nodeLabelCfg,St=mt===void 0?Lg:mt,Dt=e.edgeLabelCfg,Ct=Dt===void 0?Lg:Dt,Bt=e.nodeAnchorPoints,zt=Bt===void 0?Pg:Bt,Ht=e.layout,qt=Ht===void 0?Xb:Ht,ue=e.minimapCfg,se=e.nodeStyle,Me=se===void 0?kb:se,ve=e.edgeStyle,De=ve===void 0?Dg:ve,ye=e.nodeStateStyles,pr=ye===void 0?vs:ye,cr=e.edgeStateStyles,fr=cr===void 0?vs:cr,en=e.colorMap,sn=en===void 0?{}:en,Yr=e.autoFit,rn=Yr===void 0?!0:Yr,gn=e.graphRef,vn=e.onReady,ln=e.loading,Pn=e.loadingTemplate,Lr=e.errorTemplate,nn=C.a.useRef(null),jn=C.a.useRef(null),Sn=Cg(jn);return uh(dd[Sn],e,nn),Object(y.useEffect)(function(){var Fn=Cv(o,u,nn),Tn=dd[Sn];Tn||(Tn=new Ua.Graph({container:nn.current,width:Fn[0],height:Fn[1],modes:{default:et},defaultNode:{type:m,size:at,style:Me,anchorPoints:zt,labelCfg:St},defaultEdge:{type:j,style:De,colorMap:sn,labelCfg:Ct},nodeStateStyles:pr,edgeStateStyles:fr,layout:qt,fitView:!0}),dd[Sn]=Tn),gn&&(gn.current=Tn),Av(ue,Tn);var ui=w(t);Tn.data(ui),Tn.render(),vn&&vn(Tn);var la=Tn.getEdges();return la.forEach(function(xi){var to=xi.getKeyShape(),ka=to.attr("stroke"),So=xi.getTarget();So.update({style:{stroke:ka}})}),rn?Tn.fitView():Tn.fitCenter(),Ag(Tn,l),function(){dd[Sn]&&(dd[Sn].destroy(),delete dd[Sn])}},[]),C.a.createElement(nt,{errorTemplate:Lr},ln&&C.a.createElement(gt,{loadingTemplate:Pn}),C.a.createElement("div",{className:r,style:n,ref:nn}))},Yb=UC,bl={hover:{stroke:"#1890ff",lineWidth:2}},Rg=[120,40],Hb={stroke:"#40a9ff"},jg=[[0,.5],[1,.5]],vu=6,WC={fill:"#fff",fontSize:12},Up=2,wg={fill:"#000",fontSize:12},zC={show:!1,size:[150,100],type:"keyShape"},CA={style:{fill:"#000",fontSize:12}},AA={style:{stroke:"#ccc"}},of=function(){return of=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},of.apply(this,arguments)},Wp=function(l,e,t){var r,n;return t&&t.current&&(r=t.current.offsetWidth,n=t.current.offsetHeight||500),!l&&!r||!e&&!n?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[l||r||500,e||n||500]},VC=function(l,e){if(e){var t=function(r){var n=r.item;r.target.get("name")==="collapse-icon"&&(l.updateItem(n,{collapsed:!n.getModel().collapsed}),l.layout())};l.on("node:click",function(r){t(r)}),l.on("node:touchstart",function(r){t(r)})}},zp=function(l,e,t){return l===void 0&&(l=0),e===void 0&&(e="vee"),t===void 0&&(t="#ccc"),{endArrow:{path:Ua.Arrow[e](10,10,l),fill:t,d:l}}},Bg=function(l){if(typeof l=="string"||typeof l=="number")return{text:l};var e=l.content,t=l.style;return{text:e,style:t}},lc=function(l,e,t){return typeof l=="function"?l(e,t):l||{}},kC=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var e=Math.random()*16|0,t=l=="x"?e:e&3|8;return t.toString(16)})},Vp=function(l){return l.current||(l.current="IndentedTreeGraph-"+kC()),l.current},kp=function(l,e,t){var r=w(e);l.data(r),l.render(),t?l.fitView():l.fitCenter()},XC=function(l,e){if(l===void 0&&(l={}),!(!e||e.destroyed)){if(l.show){var t=Object.assign(zC,l),r=new Ua.Minimap(of({},t));return e.addPlugin(r),r}return null}},Kb=function(l,e){l===void 0&&(l="right");var t=e[0],r=e[1],n=0,o=0;switch(l){case"top":n=t/2,o=0;break;case"right":n=t,o=r/2;break;case"bottom":n=t/2,o=r;break;case"left":n=0,o=r/2;break}return{x:n,y:o}},Xp=function(l,e){return of(of(of({},e),l),{layout:of(of({},e==null?void 0:e.layout),l==null?void 0:l.layout)})},Ta=function(){return Ta=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Ta.apply(this,arguments)},YC=function(){Ua.registerNode("card",{draw:function(l,e){var t;l===void 0&&(l={});var r=l.title,n=l.body,o=l.footer,u=l.collapseExpand,d=l.children,m=l.markerPosition,T=l.size||[100,30],j=0;typeof T=="number"&&(T=[T,T]);var G=Ta({radius:2,fill:"#fff"},l.style),et=G.stroke||l.color||"#5B8FF9",J=G.radius,at=e.addShape("rect",{attrs:Ta({x:0,y:0,width:T[0],height:T[1],stroke:et},G),name:"main-box",draggable:!0}),mt;if(r){var St=Bg(r),Dt=St.text,Ct=St.style,Bt=Ct===void 0?l.titleStyle:Ct;mt=e.addShape("text",{attrs:Ta(Ta({textBaseline:"top",x:vu,y:Up,text:Dt},WC),lc(Bt,e)),name:"title"})}var zt=(mt?mt.getBBox():{height:T[1]/2}).height,Ht=e.addShape("rect",{attrs:{x:0,y:0,width:T[0],height:zt+2*Up,fill:et,radius:[J,J,0,0]},name:"title-rect",draggable:!0});mt==null||mt.toFront();var qt;u&&d&&(qt=e.addShape("marker",{attrs:Ta(Ta(Ta({},Kb(m,T)),{r:6,cursor:"pointer",symbol:l.collapsed?Ua.Marker.expand:Ua.Marker.collapse,stroke:et,lineWidth:1,fill:"#fff"}),lc(l.markerStyle,e,Ta(Ta({},l),{name:"collapse-icon"}))),name:"collapse-icon"}));var ue=Ht.getBBox().height;j+=ue;var se;if(n){var Me=Bg(n),Dt=Me.text,ve=Me.style,De=ve===void 0?l.bodyStyle:ve;se=e.addShape("text",{attrs:Ta(Ta({textBaseline:"top",x:vu,y:j+vu,text:Dt},wg),lc(De,e)),name:"body"}),j+=se.getBBox().height}var ye;if(o){se&&(j+=vu);var pr=Bg(o),cr=pr.text,fr=pr.style,en=fr===void 0?l.footerStyle:fr;ye=e.addShape("text",{attrs:Ta(Ta({textBaseline:"top",x:vu,y:j+vu,text:cr},wg),lc(en,e)),name:"footer-label"});var sn=ye.getBBox(),Yr=sn.width,rn=sn.height,gn=0;if(typeof l.footer=="object"&&((t=l.footer)===null||t===void 0?void 0:t.value)){var vn=Bg({content:l.footer.value,style:l.footer.valueStyle}),ln=vn.text,Pn=vn.style,Lr=Pn===void 0?l.footerValueStyle||l.footerStyle:Pn,nn=e.addShape("text",{attrs:Ta(Ta({textBaseline:"top",x:Yr+vu*2,y:j+vu,text:ln},wg),lc(Lr,e)),name:"footer-value"}),jn=nn.getBBox().height;gn=jn}j+=Math.max(rn,gn)}if(se){var Sn=se.getBBox();console.log(zt);var Yr=T[0]>Sn.width+16?T[0]:Sn.width+16;at.attr({width:Yr,height:j+16}),Ht==null||Ht.attr("width",Yr),qt==null||qt.attr(Ta({},Kb(m,[Yr,j+zt+2*Up])))}return at},update:void 0},"single-node")},HC=function(){Ua.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(l,e){l===void 0&&(l={});var t=this.getShapeStyle(l),r=l.labelCfg,n=r===void 0?{}:r,o=l.labelStyle,u=l.label,d=l.markerStyle,m=l.showMarker,T=l.title,j=l.titleStyle,G=e.addShape("rect",{attrs:Ta(Ta({},t),{x:0,y:0})}),et=G.getBBox().height,J;if(l.leftIcon){var at=l.leftIcon,mt=at.x,St=mt===void 0?8:mt,Dt=at.y,Ct=at.width,Bt=Ct===void 0?24:Ct,zt=at.height,Ht=zt===void 0?24:zt,qt=at.style;qt&&e.addShape("rect",{attrs:Ta({x:1,y:1,width:38,height:t.height-2},qt)}),J=e.addShape("image",{attrs:{x:St,y:Dt||et/2-Ht/2,width:Bt,height:Ht,img:l.leftIcon.img},name:"image-shape"})}if(m&&(e.addShape("marker",{attrs:Ta({x:t.width/3,y:t.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Ua.Marker.expand},lc(d,e,Ta(Ta({},l),{name:"add-item"}))),name:"add-item"}),e.addShape("marker",{attrs:Ta({x:t.width*2/3,y:t.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Ua.Marker.collapse},lc(d,e,Ta(Ta({},l),{name:"remove-item"}))),name:"remove-item"})),u){var ue=o?lc(o,e,l):n.style,Dt=T?t.height/2-(ue.fontSize*1||12)-vu/2:t.height/2;e.addShape("text",{attrs:Ta({text:u,x:t.width/2,y:Dt,textAlign:J?"start":"center",textBaseline:T?"top":"middle"},ue)})}if(T){var se=j?lc(j,e,l):n.style;e.addShape("text",{attrs:Ta({text:T,x:t.width/2,y:t.height/2+vu/2,textAlign:J?"start":"center",textBaseline:"top"},se)})}return G}},"rect")},vd=function(){return vd=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},vd.apply(this,arguments)},gd={};YC();var KC={type:"compactBox",direction:"LR",getId:function(l){return l.id},getHeight:function(){return 60},getWidth:function(){return 16},getVGap:function(){return 16},getHGap:function(){return 100}},_C={nodeType:"card",edgeType:"cubic-horizontal",behaviors:["zoom-canvas","drag-canvas"],nodeAnchorPoints:jg,nodeSize:Rg,layout:KC,animate:!0,markerPosition:"right",nodeStateStyles:bl,edgeStateStyles:bl,collapseExpand:!0,showArrow:!0,arrowType:"vee",autoFit:!0},ZC=function(l){var e=Xp(l,_C),t=e.data,r=e.className,n=e.style,o=e.width,u=e.height,d=e.nodeType,m=d===void 0?"card":d,T=e.edgeType,j=T===void 0?"cubic-horizontal":T,G=e.behaviors,et=G===void 0?["zoom-canvas","drag-canvas"]:G,J=e.nodeAnchorPoints,at=J===void 0?jg:J,mt=e.nodeSize,St=mt===void 0?Rg:mt,Dt=e.layout,Ct=e.animate,Bt=Ct===void 0?!0:Ct,zt=e.nodeStyle,Ht=e.edgeStyle,qt=e.edgeCfg,ue=e.markerStyle,se=e.markerPosition,Me=se===void 0?"right":se,ve=e.nodeStateStyles,De=ve===void 0?bl:ve,ye=e.edgeStateStyles,pr=ye===void 0?bl:ye,cr=e.collapseExpand,fr=cr===void 0?!0:cr,en=e.titleStyle,sn=e.bodyStyle,Yr=e.footerStyle,rn=e.footerValueStyle,gn=e.showArrow,vn=gn===void 0?!0:gn,ln=e.arrowType,Pn=ln===void 0?"vee":ln,Lr=e.autoFit,nn=Lr===void 0?!0:Lr,jn=e.onReady,Sn=e.loading,Fn=e.loadingTemplate,Tn=e.errorTemplate,ui=C.a.useRef(null),la=C.a.useRef(null),xi=Vp(la);return uh(gd[xi],e,ui),Object(y.useEffect)(function(){var to=Wp(o,u,ui),ka=gd[xi];return ka||(ka=new Ua.TreeGraph({container:ui.current,width:to[0],height:to[1],animate:Bt,modes:{default:et},defaultNode:{type:m,size:St,anchorPoints:at,titleStyle:en,bodyStyle:sn,footerStyle:Yr,footerValueStyle:rn,markerStyle:ue,collapseExpand:fr,markerPosition:Me},defaultEdge:{type:j},nodeStateStyles:De,edgeStateStyles:pr,layout:Dt}),gd[xi]=ka),ka.node(function(So){return typeof zt=="function"?{style:zt(So,ka)}:{style:vd(vd({},Hb),zt)}}),ka.edge(function(So){return qt?typeof qt=="function"?qt(So,ka):qt:typeof Ht=="function"?{style:Ht(So,ka)}:{style:vd(vd({stroke:"#ccc"},vn&&zp(0,Pn)),Ht)}}),fr&&VC(ka,fr),kp(ka,t,nn),jn&&jn(ka),function(){gd[xi]&&(gd[xi].destroy(),delete gd[xi])}},[]),C.a.createElement(nt,{errorTemplate:Tn},Sn&&C.a.createElement(gt,{loadingTemplate:Fn}),C.a.createElement("div",{className:r,style:n,ref:ui}))},_b=ZC,sf=function(){return sf=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},sf.apply(this,arguments)},$C={fill:"#91d5ff",stroke:"#40a9ff",radius:2},Zb={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},QC={animate:!0,nodeType:"rect",edgeType:"flow-line",nodeSize:Rg,behaviors:["drag-canvas","zoom-canvas"],nodeLabelCfg:{style:wg},layout:Zb,showMarker:!1,showArrow:!0,arrowType:"triangle",nodeStateStyles:bl,edgeStateStyles:bl,autoFit:!0},pd={},JC=function(l){var e=Xp(l,QC),t=e.data,r=e.className,n=e.style,o=e.width,u=e.height,d=e.animate,m=d===void 0?!0:d,T=e.nodeType,j=T===void 0?"rect":T,G=e.edgeType,et=G===void 0?"flow-line":G,J=e.nodeSize,at=J===void 0?Rg:J,mt=e.behaviors,St=mt===void 0?["drag-canvas","zoom-canvas"]:mt,Dt=e.nodeLabelCfg,Ct=e.nodeCfg,Bt=e.layout,zt=Bt===void 0?Zb:Bt,Ht=e.showMarker,qt=Ht===void 0?!1:Ht,ue=e.showArrow,se=ue===void 0?!0:ue,Me=e.arrowType,ve=Me===void 0?"triangle":Me,De=e.minimapCfg,ye=e.edgeCfg,pr=e.markerStyle,cr=e.nodeStateStyles,fr=cr===void 0?bl:cr,en=e.edgeStateStyles,sn=en===void 0?bl:en,Yr=e.autoFit,rn=Yr===void 0?!0:Yr,gn=e.onReady,vn=e.loading,ln=e.loadingTemplate,Pn=e.errorTemplate,Lr=C.a.useRef(null),nn=C.a.useRef(null),jn=Vp(nn);uh(pd[jn],e,Lr);var Sn=(Array.isArray(at)?at[1]:at)/2;return Object(y.useEffect)(function(){var Fn=Wp(o,u,Lr);j==="icon-node"&&HC();var Tn=pd[jn];return Tn||(Tn=new Ua.TreeGraph({container:Lr.current,width:Fn[0],height:Fn[1],linkCenter:!0,animate:m,modes:{default:St},defaultNode:{type:j,size:at,labelCfg:Dt,markerStyle:pr,showMarker:qt},defaultEdge:{type:et},nodeStateStyles:fr,edgeStateStyles:sn,layout:zt}),pd[jn]=Tn),Tn.node(function(ui){return typeof Ct=="function"?Ct(ui,Tn):{style:sf(sf({},$C),Ct==null?void 0:Ct.style)}}),Tn.edge(function(ui){return typeof ye=="function"?ye(ui,Tn):sf(sf({},ye),{style:sf(sf({stroke:"#91d5ff"},se&&zp(Sn,ve,"#91d5ff")),ye==null?void 0:ye.style)})}),XC(De,Tn),kp(Tn,t,rn),gn&&gn(Tn),function(){pd[jn]&&(pd[jn].destroy(),delete pd[jn])}},[]),C.a.createElement(nt,{errorTemplate:Pn},vn&&C.a.createElement(gt,{loadingTemplate:ln}),C.a.createElement("div",{className:r,style:n,ref:Lr}))},$b=JC,lf=function(){return lf=Object.assign||function(l){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},lf.apply(this,arguments)},yd={},qC={type:"dendrogram",direction:"LR",nodeSep:20,rankSep:100,radial:!0},tA={nodeType:"circle",linkCenter:!0,edgeType:"line",behaviors:["zoom-canvas","drag-canvas"],nodeAnchorPoints:jg,nodeSize:30,layout:qC,animate:!0,nodeStateStyles:bl,edgeStateStyles:bl,showArrow:!1,arrowType:"triangle",autoFit:!0},eA=function(l){var e=Xp(l,tA),t=e.data,r=e.className,n=e.style,o=e.width,u=e.height,d=e.nodeType,m=d===void 0?"circle":d,T=e.linkCenter,j=T===void 0?!0:T,G=e.edgeType,et=G===void 0?"line":G,J=e.behaviors,at=J===void 0?["zoom-canvas","drag-canvas"]:J,mt=e.nodeAnchorPoints,St=mt===void 0?jg:mt,Dt=e.nodeSize,Ct=Dt===void 0?30:Dt,Bt=e.layout,zt=e.animate,Ht=zt===void 0?!0:zt,qt=e.nodeCfg,ue=e.edgeCfg,se=e.nodeStateStyles,Me=se===void 0?bl:se,ve=e.edgeStateStyles,De=ve===void 0?bl:ve,ye=e.showArrow,pr=ye===void 0?!1:ye,cr=e.arrowType,fr=cr===void 0?"triangle":cr,en=e.autoFit,sn=en===void 0?!0:en,Yr=e.onReady,rn=e.loading,gn=e.loadingTemplate,vn=e.errorTemplate,ln=C.a.useRef(null),Pn=C.a.useRef(null),Lr=Vp(Pn);uh(yd[Lr],e,ln);var nn=(Array.isArray(Ct)?Ct[0]:Ct)/2;return Object(y.useEffect)(function(){var jn=Wp(o,u,ln),Sn=yd[Lr];return Sn||(Sn=new Ua.TreeGraph({container:ln.current,width:jn[0],height:jn[1],animate:Ht,linkCenter:j,modes:{default:at},defaultNode:{type:m,size:Ct,anchorPoints:St},defaultEdge:{type:et},nodeStateStyles:Me,edgeStateStyles:De,layout:Bt}),yd[Lr]=Sn),Sn.node(function(Fn){return typeof qt=="function"?qt(Fn,Sn):lf(lf({},qt),{style:lf(lf({},Hb),qt==null?void 0:qt.style)})}),Sn.edge(function(Fn){return typeof ue=="function"?ue(Fn,Sn):{style:lf(lf({stroke:"#ccc"},pr&&zp(nn,fr)),ue==null?void 0:ue.style)}}),kp(Sn,t,sn),Yr&&Yr(Sn),function(){yd[Lr]&&(yd[Lr].destroy(),delete yd[Lr])}},[]),C.a.createElement(nt,{errorTemplate:vn},rn&&C.a.createElement(gt,{loadingTemplate:gn}),C.a.createElement("div",{className:r,style:n,ref:ln}))},Qb=eA,TA=A.default={Area:_,Bar:it,Box:Se,Bullet:Rt,Column:Wt,Funnel:jt,Histogram:Ut,Line:Kt,Liquid:hr,Heatmap:qe,Pie:zr,Progress:Or,Radar:Kr,Facet:Pi,RingProgress:wn,Rose:ei,Chord:ga,Scatter:Gi,TinyArea:ca,TinyColumn:pa,TinyLine:$o,Waterfall:ba,WordCloud:ss,Sunburst:ri,DualAxes:po,Stock:Us,RadialBar:ls,Gauge:Mr,Sankey:Oe,Treemap:sr,Violin:On,MultiView:ki,Mix:ki,BidirectionalBar:Co,OrganizationTreeGraph:jb,DagreGraph:Nb,IndentedTree:zb,DagreFundFlowGraph:Yb,IndentedTreeGraph:_b,OrganizationalGraph:$b,RadialGraph:Qb,G2:I.G2,flow:I.flow,measureTextWidth:I.measureTextWidth,adaptors:I.adaptors}},"2PUN":function(Lt,A,i){var c=i("qgzk"),a=i("swOU");function M(O,x,D,E,S){var p=-1,b=O.length;for(D||(D=a),S||(S=[]);++p<b;){var y=O[p];x>0&&D(y)?x>1?M(y,x-1,D,E,S):c(S,y):E||(S[S.length]=y)}return S}Lt.exports=M},"2Pg9":function(Lt,A,i){"use strict";i.d(A,"AST_TOKEN_TYPES",function(){return k}),i.d(A,"STORAGE_CLASS",function(){return nt}),i.d(A,"Target",function(){return lt}),i.d(A,"DefineValuePlaceholder",function(){return ut});var c=i("BLox"),a=i.n(c),M=i("Hg9g"),O=i("BgQB"),x=i("P7eI"),D=i("J/Yx"),E=i("PkPV"),S=i("0os6"),p=i("//O1"),b=i("7stk"),y=i("AKnH"),C=i("aStn"),I=i("to4S"),g=i("CURf"),R=i("Vd04"),U=i("+q6o"),W=i("syls");i.d(A,"createEntity",function(){return W.b});var z=i("XN3X");i.d(A,"IDENTIFIER",function(){return z.a});var B=i("+jGG");i.d(A,"createWorldContainer",function(){return B.a});var L=i("MciM");i.d(A,"generateAABBFromVertices",function(){return L.a});var w=i("wUId");i.d(A,"isSafari",function(){return w.a});var F=i("S9go"),V=i("P6PP");i.d(A,"AABB",function(){return V.a}),i.d(A,"Frustum",function(){return V.b});var Y=i("Pmht");i.o(Y,"gl")&&i.d(A,"gl",function(){return Y.gl});var tt=i("SJBz"),q=i.n(tt);i.o(tt,"gl")&&i.d(A,"gl",function(){return tt.gl});var H=i("Aw3q"),Q=i.n(H);i.o(H,"gl")&&i.d(A,"gl",function(){return H.gl}),i.o(Y,"gl")&&i.d(A,"gl",function(){return Y.gl});var k;(function(rt){rt.Void="Void",rt.Boolean="Boolean",rt.Float="Float",rt.Uint32="Uint32",rt.Int32="Int32",rt.Vector="Vector",rt.Vector2Float="vec2<f32>",rt.Vector3Float="vec3<f32>",rt.Vector4Float="vec4<f32>",rt.Vector2Boolean="vec2<bool>",rt.Vector3Boolean="vec3<bool>",rt.Vector4Boolean="vec4<bool>",rt.Vector2Uint="vec2<u32>",rt.Vector3Uint="vec3<u32>",rt.Vector4Uint="vec4<u32>",rt.Vector2Int="vec2<i32>",rt.Vector3Int="vec3<i32>",rt.Vector4Int="vec4<i32>",rt.Matrix="Matrix",rt.Matrix3x3Float="mat3x3<f32>",rt.Matrix4x4Float="mat4x4<i32>",rt.Struct="Struct",rt.FloatArray="Float[]",rt.Vector4FloatArray="vec4<f32>[]"})(k||(k={}));var K;(function(rt){rt.Program="Program",rt.Identifier="Identifier",rt.VariableDeclaration="VariableDeclaration",rt.BlockStatement="BlockStatement",rt.ReturnStatement="ReturnStatement",rt.FunctionDeclaration="FunctionDeclaration",rt.VariableDeclarator="VariableDeclarator",rt.AssignmentExpression="AssignmentExpression",rt.LogicalExpression="LogicalExpression",rt.BinaryExpression="BinaryExpression",rt.ArrayExpression="ArrayExpression",rt.UnaryExpression="UnaryExpression",rt.UpdateExpression="UpdateExpression",rt.FunctionExpression="FunctionExpression",rt.MemberExpression="MemberExpression",rt.ConditionalExpression="ConditionalExpression",rt.ExpressionStatement="ExpressionStatement",rt.CallExpression="CallExpression",rt.NumThreadStatement="NumThreadStatement",rt.StorageStatement="StorageStatement",rt.DoWhileStatement="DoWhileStatement",rt.WhileStatement="WhileStatement",rt.ForStatement="ForStatement",rt.BreakStatement="BreakStatement",rt.ContinueStatement="ContinueStatement",rt.IfStatement="IfStatement",rt.ImportedFunctionStatement="ImportedFunctionStatement"})(K||(K={}));var nt;(function(rt){rt.Input="Input",rt.Output="Output",rt.Uniform="Uniform",rt.Workgroup="Workgroup",rt.UniformConstant="UniformConstant",rt.Image="Image",rt.StorageBuffer="StorageBuffer",rt.Private="Private",rt.Function="Function"})(nt||(nt={}));var lt;(function(rt){rt.GLSL100="GLSL100",rt.GLSL450="GLSL450",rt.WGSL="WGSL"})(lt||(lt={}));var ut="__DefineValuePlaceholder__"},"2dy+":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=A.LinkedListNode=void 0;var c=function(D,E){return D===E},a=function(){function x(D,E){E===void 0&&(E=null),this.value=D,this.next=E}return x.prototype.toString=function(D){return D?D(this.value):""+this.value},x}();A.LinkedListNode=a;var M=function(){function x(D){D===void 0&&(D=c),this.head=null,this.tail=null,this.compare=D}return x.prototype.prepend=function(D){var E=new a(D,this.head);return this.head=E,this.tail||(this.tail=E),this},x.prototype.append=function(D){var E=new a(D);return this.head?(this.tail.next=E,this.tail=E,this):(this.head=E,this.tail=E,this)},x.prototype.delete=function(D){if(!this.head)return null;for(var E=null;this.head&&this.compare(this.head.value,D);)E=this.head,this.head=this.head.next;var S=this.head;if(S!==null)for(;S.next;)this.compare(S.next.value,D)?(E=S.next,S.next=S.next.next):S=S.next;return this.compare(this.tail.value,D)&&(this.tail=S),E},x.prototype.find=function(D){var E=D.value,S=E===void 0?void 0:E,p=D.callback,b=p===void 0?void 0:p;if(!this.head)return null;for(var y=this.head;y;){if(b&&b(y.value)||S!==void 0&&this.compare(y.value,S))return y;y=y.next}return null},x.prototype.deleteTail=function(){var D=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,D;for(var E=this.head;E.next;)E.next.next?E=E.next:E.next=null;return this.tail=E,D},x.prototype.deleteHead=function(){if(!this.head)return null;var D=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),D},x.prototype.fromArray=function(D){var E=this;return D.forEach(function(S){return E.append(S)}),this},x.prototype.toArray=function(){for(var D=[],E=this.head;E;)D.push(E),E=E.next;return D},x.prototype.reverse=function(){for(var D=this.head,E=null,S=null;D;)S=D.next,D.next=E,E=D,D=S;this.tail=this.head,this.head=E},x.prototype.toString=function(D){return D===void 0&&(D=void 0),this.toArray().map(function(E){return E.toString(D)}).toString()},x}(),O=M;A.default=O},"2vMh":function(Lt,A,i){var c=i("S8CN"),a=i("+D6J"),M=i("tqoU");function O(x,D,E){return D===D?M(x,D,E):c(x,a,E)}Lt.exports=O},"307E":function(Lt,A,i){"use strict";i.d(A,"a",function(){return E});var c=i("CMID"),a=i("GgvZ"),M=i("2AqX"),O=i("doIl"),x=i("Jze/"),D=Object(x.c)({},a.b.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),E=function(S){Object(c.__extends)(p,S);function p(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="histogram",b}return p.getDefaultOptions=function(){return D},p.prototype.changeData=function(b){this.updateOption({data:b});var y=this.options,C=y.binField,I=y.binNumber,g=y.binWidth,R=y.stackField;this.chart.changeData(Object(M.a)(b,C,g,I,R))},p.prototype.getDefaultOptions=function(){return p.getDefaultOptions()},p.prototype.getSchemaAdaptor=function(){return O.a},p}(a.b)},"3FqU":function(Lt,A,i){var c=i("TJOf"),a=i("TpDJ");function M(O,x,D){(D!==void 0&&!a(O[x],D)||D===void 0&&!(x in O))&&c(O,x,D)}Lt.exports=M},"3MnI":function(Lt,A,i){var c=i("ql+n");Lt.exports=a,a.CycleException=M;function a(O){var x={},D={},E=[];function S(p){if(c.has(D,p))throw new M;c.has(x,p)||(D[p]=!0,x[p]=!0,c.each(O.predecessors(p),S),delete D[p],E.push(p))}if(c.each(O.sinks(),S),c.size(x)!==O.nodeCount())throw new M;return E}function M(){}M.prototype=new Error},"3RHZ":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.QueryableString=void 0;var c=function(){function a(M){this.str=M}return a.prototype.startsWith=function(M){return this.str.indexOf(M)===0},a.prototype.endsWith=function(M){var O="",x=M.split("").reverse().join("");return O=this.str.split("").reverse().join(""),this.startsWith.call({str:O},x)},a.prototype.contains=function(M){return this.str.indexOf(M)!==-1},a.prototype.equals=function(M){return this.str===M},a.prototype.value=function(){return this.str},a}();A.QueryableString=c},"3coh":function(Lt,A,i){"use strict";i.d(A,"a",function(){return x}),i.d(A,"c",function(){return D}),i.d(A,"b",function(){return E});var c=i("CMID"),a=i("8Mtd"),M=i("rNQS"),O=i("VMp+");function x(S,p){var b=S.filter(function(I){var g=Object(a.get)(I,[p]);return Object(a.isNumber)(g)&&!isNaN(g)}),y=b.every(function(I){return Object(a.get)(I,[p])>=0}),C=b.every(function(I){return Object(a.get)(I,[p])<=0});return y?{min:0}:C?{max:0}:{}}function D(S,p,b,y,C){if(C===void 0&&(C=[]),!Array.isArray(S))return{nodes:[],links:[]};var I=[],g={},R=-1;return S.forEach(function(U){var W=U[p],z=U[b],B=U[y],L=Object(O.a)(U,C);g[W]||(g[W]=Object(c.__assign)({id:++R,name:W},L)),g[z]||(g[z]=Object(c.__assign)({id:++R,name:z},L)),I.push(Object(c.__assign)({source:g[W].id,target:g[z].id,value:B},L))}),{nodes:Object.values(g),links:I}}function E(S,p){var b=Object(a.filter)(S,function(y){var C=y[p];return C===null||typeof C=="number"&&!isNaN(C)});return Object(M.b)(M.a.WARN,b.length===S.length,"illegal data existed in chart data."),b}},"3f1o":function(Lt,A,i){var c=i("spfM"),a=i("xOgS"),M=i("R3oX"),O=i("hQ5t"),x=i("8ifL"),D=i("+Gi7"),E=i("lDzS"),S=i("wmqP"),p=i("E5vS"),b=i("lOrw");function y(C,I,g){var R=D(C),U=R||E(C)||b(C);if(I=O(I,4),g==null){var W=C&&C.constructor;U?g=R?new W:[]:p(C)?g=S(W)?a(x(C)):{}:g={}}return(U?c:M)(C,function(z,B,L){return I(g,z,B,L)}),g}Lt.exports=y},"3k0L":function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"d",function(){return a}),i.d(A,"b",function(){return M}),i.d(A,"c",function(){return O});var c=0,a=1/2,M=1/2,O=.05},"3qqr":function(Lt,A,i){var c=i("YKhI");function a(M,O,x){for(var D=-1,E=M.criteria,S=O.criteria,p=E.length,b=x.length;++D<p;){var y=c(E[D],S[D]);if(y){if(D>=b)return y;var C=x[D];return y*(C=="desc"?-1:1)}}return M.index-O.index}Lt.exports=a},"3sqG":function(Lt,A,i){"use strict";i.r(A),i.d(A,"cluster",function(){return S}),i.d(A,"hierarchy",function(){return p.c}),i.d(A,"pack",function(){return b.a}),i.d(A,"packSiblings",function(){return y.a}),i.d(A,"packEnclose",function(){return C.a}),i.d(A,"partition",function(){return I.a}),i.d(A,"stratify",function(){return B}),i.d(A,"tree",function(){return Q}),i.d(A,"treemap",function(){return k.a}),i.d(A,"treemapBinary",function(){return K}),i.d(A,"treemapDice",function(){return nt.a}),i.d(A,"treemapSlice",function(){return lt.a}),i.d(A,"treemapSliceDice",function(){return ut}),i.d(A,"treemapSquarify",function(){return rt.a}),i.d(A,"treemapResquarify",function(){return ot});function c(dt,Mt){return dt.parent===Mt.parent?1:2}function a(dt){return dt.reduce(M,0)/dt.length}function M(dt,Mt){return dt+Mt.x}function O(dt){return 1+dt.reduce(x,0)}function x(dt,Mt){return Math.max(dt,Mt.y)}function D(dt){for(var Mt;Mt=dt.children;)dt=Mt[0];return dt}function E(dt){for(var Mt;Mt=dt.children;)dt=Mt[Mt.length-1];return dt}var S=function(){var dt=c,Mt=1,Nt=1,ht=!1;function yt(ft){var st,xt=0;ft.eachAfter(function($){var bt=$.children;bt?($.x=a(bt),$.y=O(bt)):($.x=st?xt+=dt($,st):0,$.y=0,st=$)});var gt=D(ft),At=E(ft),pt=gt.x-dt(gt,At)/2,_=At.x+dt(At,gt)/2;return ft.eachAfter(ht?function($){$.x=($.x-ft.x)*Mt,$.y=(ft.y-$.y)*Nt}:function($){$.x=($.x-pt)/(_-pt)*Mt,$.y=(1-(ft.y?$.y/ft.y:1))*Nt})}return yt.separation=function(ft){return arguments.length?(dt=ft,yt):dt},yt.size=function(ft){return arguments.length?(ht=!1,Mt=+ft[0],Nt=+ft[1],yt):ht?null:[Mt,Nt]},yt.nodeSize=function(ft){return arguments.length?(ht=!0,Mt=+ft[0],Nt=+ft[1],yt):ht?[Mt,Nt]:null},yt},p=i("M1/f"),b=i("g2X9"),y=i("E5sV"),C=i("rxS0"),I=i("W7Gi"),g=i("gPRb"),R={depth:-1},U={};function W(dt){return dt.id}function z(dt){return dt.parentId}var B=function(){var dt=W,Mt=z;function Nt(ht){var yt=Array.from(ht),ft=yt.length,st,xt,gt,At,pt,_,$,bt=new Map;for(xt=0;xt<ft;++xt)st=yt[xt],pt=yt[xt]=new p.a(st),(_=dt(st,xt,ht))!=null&&(_+="")&&($=pt.id=_,bt.set($,bt.has($)?U:pt)),(_=Mt(st,xt,ht))!=null&&(_+="")&&(pt.parent=_);for(xt=0;xt<ft;++xt)if(pt=yt[xt],_=pt.parent){if(At=bt.get(_),!At)throw new Error("missing: "+_);if(At===U)throw new Error("ambiguous: "+_);At.children?At.children.push(pt):At.children=[pt],pt.parent=At}else{if(gt)throw new Error("multiple roots");gt=pt}if(!gt)throw new Error("no root");if(gt.parent=R,gt.eachBefore(function(it){it.depth=it.parent.depth+1,--ft}).eachBefore(p.b),gt.parent=null,ft>0)throw new Error("cycle");return gt}return Nt.id=function(ht){return arguments.length?(dt=Object(g.b)(ht),Nt):dt},Nt.parentId=function(ht){return arguments.length?(Mt=Object(g.b)(ht),Nt):Mt},Nt};function L(dt,Mt){return dt.parent===Mt.parent?1:2}function w(dt){var Mt=dt.children;return Mt?Mt[0]:dt.t}function F(dt){var Mt=dt.children;return Mt?Mt[Mt.length-1]:dt.t}function V(dt,Mt,Nt){var ht=Nt/(Mt.i-dt.i);Mt.c-=ht,Mt.s+=Nt,dt.c+=ht,Mt.z+=Nt,Mt.m+=Nt}function Y(dt){for(var Mt=0,Nt=0,ht=dt.children,yt=ht.length,ft;--yt>=0;)ft=ht[yt],ft.z+=Mt,ft.m+=Mt,Mt+=ft.s+(Nt+=ft.c)}function tt(dt,Mt,Nt){return dt.a.parent===Mt.parent?dt.a:Nt}function q(dt,Mt){this._=dt,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Mt}q.prototype=Object.create(p.a.prototype);function H(dt){for(var Mt=new q(dt,0),Nt,ht=[Mt],yt,ft,st,xt;Nt=ht.pop();)if(ft=Nt._.children)for(Nt.children=new Array(xt=ft.length),st=xt-1;st>=0;--st)ht.push(yt=Nt.children[st]=new q(ft[st],st)),yt.parent=Nt;return(Mt.parent=new q(null,0)).children=[Mt],Mt}var Q=function(){var dt=L,Mt=1,Nt=1,ht=null;function yt(At){var pt=H(At);if(pt.eachAfter(ft),pt.parent.m=-pt.z,pt.eachBefore(st),ht)At.eachBefore(gt);else{var _=At,$=At,bt=At;At.eachBefore(function(Vt){Vt.x<_.x&&(_=Vt),Vt.x>$.x&&($=Vt),Vt.depth>bt.depth&&(bt=Vt)});var it=_===$?1:dt(_,$)/2,Ot=it-_.x,Pt=Mt/($.x+it+Ot),Rt=Nt/(bt.depth||1);At.eachBefore(function(Vt){Vt.x=(Vt.x+Ot)*Pt,Vt.y=Vt.depth*Rt})}return At}function ft(At){var pt=At.children,_=At.parent.children,$=At.i?_[At.i-1]:null;if(pt){Y(At);var bt=(pt[0].z+pt[pt.length-1].z)/2;$?(At.z=$.z+dt(At._,$._),At.m=At.z-bt):At.z=bt}else $&&(At.z=$.z+dt(At._,$._));At.parent.A=xt(At,$,At.parent.A||_[0])}function st(At){At._.x=At.z+At.parent.m,At.m+=At.parent.m}function xt(At,pt,_){if(pt){for(var $=At,bt=At,it=pt,Ot=$.parent.children[0],Pt=$.m,Rt=bt.m,Vt=it.m,kt=Ot.m,Wt;it=F(it),$=w($),it&&$;)Ot=w(Ot),bt=F(bt),bt.a=At,Wt=it.z+Vt-$.z-Pt+dt(it._,$._),Wt>0&&(V(tt(it,At,_),At,Wt),Pt+=Wt,Rt+=Wt),Vt+=it.m,Pt+=$.m,kt+=Ot.m,Rt+=bt.m;it&&!F(bt)&&(bt.t=it,bt.m+=Vt-Rt),$&&!w(Ot)&&(Ot.t=$,Ot.m+=Pt-kt,_=At)}return _}function gt(At){At.x*=Mt,At.y=At.depth*Nt}return yt.separation=function(At){return arguments.length?(dt=At,yt):dt},yt.size=function(At){return arguments.length?(ht=!1,Mt=+At[0],Nt=+At[1],yt):ht?null:[Mt,Nt]},yt.nodeSize=function(At){return arguments.length?(ht=!0,Mt=+At[0],Nt=+At[1],yt):ht?[Mt,Nt]:null},yt},k=i("oS5r"),K=function(dt,Mt,Nt,ht,yt){var ft=dt.children,st,xt=ft.length,gt,At=new Array(xt+1);for(At[0]=gt=st=0;st<xt;++st)At[st+1]=gt+=ft[st].value;pt(0,xt,dt.value,Mt,Nt,ht,yt);function pt(_,$,bt,it,Ot,Pt,Rt){if(_>=$-1){var Vt=ft[_];Vt.x0=it,Vt.y0=Ot,Vt.x1=Pt,Vt.y1=Rt;return}for(var kt=At[_],Wt=bt/2+kt,wt=_+1,ct=$-1;wt<ct;){var jt=wt+ct>>>1;At[jt]<Wt?wt=jt+1:ct=jt}Wt-At[wt-1]<At[wt]-Wt&&_+1<wt&&--wt;var Xt=At[wt]-kt,It=bt-Xt;if(Pt-it>Rt-Ot){var Ut=bt?(it*It+Pt*Xt)/bt:Pt;pt(_,wt,Xt,it,Ot,Ut,Rt),pt(wt,$,It,Ut,Ot,Pt,Rt)}else{var $t=bt?(Ot*It+Rt*Xt)/bt:Rt;pt(_,wt,Xt,it,Ot,Pt,$t),pt(wt,$,It,it,$t,Pt,Rt)}}},nt=i("EbMC"),lt=i("WKd7"),ut=function(dt,Mt,Nt,ht,yt){(dt.depth&1?lt.a:nt.a)(dt,Mt,Nt,ht,yt)},rt=i("Od3v"),ot=function dt(Mt){function Nt(ht,yt,ft,st,xt){if((gt=ht._squarify)&&gt.ratio===Mt)for(var gt,At,pt,_,$=-1,bt,it=gt.length,Ot=ht.value;++$<it;){for(At=gt[$],pt=At.children,_=At.value=0,bt=pt.length;_<bt;++_)At.value+=pt[_].value;At.dice?Object(nt.a)(At,yt,ft,st,Ot?ft+=(xt-ft)*At.value/Ot:xt):Object(lt.a)(At,yt,ft,Ot?yt+=(st-yt)*At.value/Ot:st,xt),Ot-=At.value}else ht._squarify=gt=Object(rt.c)(Mt,ht,yt,ft,st,xt),gt.ratio=Mt}return Nt.ratio=function(ht){return dt((ht=+ht)>1?ht:1)},Nt}(rt.b)},"3zSj":function(Lt,A){Lt.exports=i;function i(c,a,M){var O=a[0]*a[0]+a[1]*a[1];if(O>M*M){var x=Math.sqrt(O);c[0]=a[0]/x*M,c[1]=a[1]/x*M}else c[0]=a[0],c[1]=a[1];return c}},"40+6":function(Lt,A,i){"use strict";i.d(A,"a",function(){return M});var c=new Map;function a(L,w){c.set(L,w)}function M(L){return c.get(L)}var O=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.width,tt=w.height;return{x:F,y:V,width:Y,height:tt}},x=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.r;return{x:F-Y,y:V-Y,width:Y*2,height:Y*2}},D=i("9pBU");function E(L,w){return!L||!w?L||w:{minX:Math.min(L.minX,w.minX),minY:Math.min(L.minY,w.minY),maxX:Math.max(L.maxX,w.maxX),maxY:Math.max(L.maxY,w.maxY)}}function S(L,w){var F=L.get("startArrowShape"),V=L.get("endArrowShape"),Y=null,tt=null;return F&&(Y=F.getCanvasBBox(),w=E(w,Y)),V&&(tt=V.getCanvasBBox(),w=E(w,tt)),w}var p=function(L){for(var w=L.attr(),F=w.points,V=[],Y=[],tt=0;tt<F.length;tt++){var q=F[tt];V.push(q[0]),Y.push(q[1])}var H=D.f.getBBoxByArray(V,Y),Q=H.x,k=H.y,K=H.width,nt=H.height,lt={minX:Q,minY:k,maxX:Q+K,maxY:k+nt};return lt=S(L,lt),{x:lt.minX,y:lt.minY,width:lt.maxX-lt.minX,height:lt.maxY-lt.minY}},b=function(L){for(var w=L.attr(),F=w.points,V=[],Y=[],tt=0;tt<F.length;tt++){var q=F[tt];V.push(q[0]),Y.push(q[1])}return D.f.getBBoxByArray(V,Y)},y=i("DBqA"),C=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.text,tt=w.fontSize,q=w.lineHeight,H=w.font;H||(H=Object(y.a)(w));var Q=Object(y.c)(Y,H),k;if(!Q)k={x:F,y:V,width:0,height:0};else{var K=w.textAlign,nt=w.textBaseline,lt=Object(y.b)(Y,tt,q),ut={x:F,y:V-lt};K&&(K==="end"||K==="right"?ut.x-=Q:K==="center"&&(ut.x-=Q/2)),nt&&(nt==="top"?ut.y+=lt:nt==="middle"&&(ut.y+=lt/2)),k={x:ut.x,y:ut.y,width:Q,height:lt}}return k},I=i("WOt1"),g=i("8Mtd");function R(L,w){for(var F=[],V=[],Y=[],tt=0;tt<L.length;tt++){var q=L[tt],H=q.currentPoint,Q=q.params,k=q.prePoint,K=void 0;switch(q.command){case"Q":K=D.e.box(k[0],k[1],Q[1],Q[2],Q[3],Q[4]);break;case"C":K=D.b.box(k[0],k[1],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6]);break;case"A":var nt=q.arcParams;K=D.a.box(nt.cx,nt.cy,nt.rx,nt.ry,nt.xRotation,nt.startAngle,nt.endAngle);break;default:F.push(H[0]),V.push(H[1]);break}K&&(q.box=K,F.push(K.x,K.x+K.width),V.push(K.y,K.y+K.height)),w&&(q.command==="L"||q.command==="M")&&q.prePoint&&q.nextPoint&&Y.push(q)}F=F.filter(function(Mt){return!Number.isNaN(Mt)}),V=V.filter(function(Mt){return!Number.isNaN(Mt)});var lt=Object(g.min)(F),ut=Object(g.min)(V),rt=Object(g.max)(F),ot=Object(g.max)(V);if(Y.length===0)return{x:lt,y:ut,width:rt-lt,height:ot-ut};for(var tt=0;tt<Y.length;tt++){var q=Y[tt],H=q.currentPoint,dt=void 0;H[0]===lt?(dt=U(q,w),lt=lt-dt.xExtra):H[0]===rt&&(dt=U(q,w),rt=rt+dt.xExtra),H[1]===ut?(dt=U(q,w),ut=ut-dt.yExtra):H[1]===ot&&(dt=U(q,w),ot=ot+dt.yExtra)}return{x:lt,y:ut,width:rt-lt,height:ot-ut}}function U(L,w){var F=L.prePoint,V=L.currentPoint,Y=L.nextPoint,tt=Math.pow(V[0]-F[0],2)+Math.pow(V[1]-F[1],2),q=Math.pow(V[0]-Y[0],2)+Math.pow(V[1]-Y[1],2),H=Math.pow(F[0]-Y[0],2)+Math.pow(F[1]-Y[1],2),Q=Math.acos((tt+q-H)/(2*Math.sqrt(tt)*Math.sqrt(q)));if(!Q||Math.sin(Q)===0||Object(g.isNumberEqual)(Q,0))return{xExtra:0,yExtra:0};var k=Math.abs(Math.atan2(Y[1]-V[1],Y[0]-V[0])),K=Math.abs(Math.atan2(Y[0]-V[0],Y[1]-V[1]));k=k>Math.PI/2?Math.PI-k:k,K=K>Math.PI/2?Math.PI-K:K;var nt={xExtra:Math.cos(Q/2-k)*(w/2*(1/Math.sin(Q/2)))-w/2||0,yExtra:Math.cos(K-Q/2)*(w/2*(1/Math.sin(Q/2)))-w/2||0};return nt}var W=function(L){var w=L.attr(),F=w.path,V=w.stroke,Y=V?w.lineWidth:0,tt=L.get("segments")||Object(I.e)(F),q=R(tt,Y),H=q.x,Q=q.y,k=q.width,K=q.height,nt={minX:H,minY:Q,maxX:H+k,maxY:Q+K};return nt=S(L,nt),{x:nt.minX,y:nt.minY,width:nt.maxX-nt.minX,height:nt.maxY-nt.minY}},z=function(L){var w=L.attr(),F=w.x1,V=w.y1,Y=w.x2,tt=w.y2,q=Math.min(F,Y),H=Math.max(F,Y),Q=Math.min(V,tt),k=Math.max(V,tt),K={minX:q,maxX:H,minY:Q,maxY:k};return K=S(L,K),{x:K.minX,y:K.minY,width:K.maxX-K.minX,height:K.maxY-K.minY}},B=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.rx,tt=w.ry;return{x:F-Y,y:V-tt,width:Y*2,height:tt*2}};a("rect",O),a("image",O),a("circle",x),a("marker",x),a("polyline",p),a("polygon",b),a("text",C),a("path",W),a("line",z),a("ellipse",B)},"43gi":function(Lt,A,i){var c;try{c=i("lOIa")}catch(a){}c||(c=window.graphlib),Lt.exports=c},"44Go":function(Lt,A){Lt.exports=i;function i(c,a){var M=new Float32Array(2);return M[0]=c,M[1]=a,M}},"4517":function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=i("8Mtd");function a(M,O){if(M===!1)return{fields:!1};var x=Object(c.get)(M,"fields"),D=Object(c.get)(M,"formatter");return D&&!x&&(x=O),{fields:x,formatter:D}}},"4BgK":function(Lt,A,i){"use strict";i.d(A,"a",function(){return E});var c=i("CMID"),a=i("GgvZ"),M=i("P4df"),O=i("1qwk"),x=i("Jze/"),D=Object(x.c)({},a.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),E=function(S){Object(c.__extends)(p,S);function p(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="area",b}return p.getDefaultOptions=function(){return D},p.prototype.getDefaultOptions=function(){return p.getDefaultOptions()},p.prototype.changeData=function(b){this.updateOption({data:b});var y=this.options,C=y.isPercent,I=y.xField,g=y.yField,R=this,U=R.chart,W=R.options;Object(O.b)({chart:U,options:W}),this.chart.changeData(Object(M.a)(b,g,I,g,C))},p.prototype.getSchemaAdaptor=function(){return O.a},p}(a.b)},"4GfJ":function(Lt,A,i){"use strict";i.r(A),i.d(A,"Base",function(){return D}),i.d(A,"Circle",function(){return p}),i.d(A,"Line",function(){return y});var c=i("CMID"),a=i("8Mtd"),M=i("VZin"),O=i("qhN0"),x=function(C){Object(c.__extends)(I,C);function I(){return C!==null&&C.apply(this,arguments)||this}return I.prototype.getDefaultCfg=function(){var g=C.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},g),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:O.a.lineColor}}}})},I.prototype.getLineType=function(){var g=this.get("line")||this.get("defaultCfg").line;return g.type},I.prototype.renderInner=function(g){this.drawGrid(g)},I.prototype.getAlternatePath=function(g,R){var U=this.getGridPath(g),W=R.slice(0).reverse(),z=this.getGridPath(W,!0),B=this.get("closed");return B?U=U.concat(z):(z[0][0]="L",U=U.concat(z),U.push(["Z"])),U},I.prototype.getPathStyle=function(){return this.get("line").style},I.prototype.drawGrid=function(g){var R=this,U=this.get("line"),W=this.get("items"),z=this.get("alternateColor"),B=null;Object(a.each)(W,function(L,w){var F=L.id||w;if(U){var V=R.getPathStyle();V=Object(a.isFunction)(V)?V(L,w,W):V;var Y=R.getElementId("line-"+F),tt=R.getGridPath(L.points);R.addShape(g,{type:"path",name:"grid-line",id:Y,attrs:Object(a.mix)({path:tt},V)})}if(z&&w>0){var q=R.getElementId("region-"+F),H=w%2==0;if(Object(a.isString)(z))H&&R.drawAlternateRegion(q,g,B.points,L.points,z);else{var Q=H?z[1]:z[0];R.drawAlternateRegion(q,g,B.points,L.points,Q)}}B=L})},I.prototype.drawAlternateRegion=function(g,R,U,W,z){var B=this.getAlternatePath(U,W);this.addShape(R,{type:"path",id:g,name:"grid-region",attrs:{path:B,fill:z}})},I}(M.a),D=x;function E(C,I,g,R){var U=g-C,W=R-I;return Math.sqrt(U*U+W*W)}var S=function(C){Object(c.__extends)(I,C);function I(){return C!==null&&C.apply(this,arguments)||this}return I.prototype.getDefaultCfg=function(){var g=C.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},g),{type:"circle",center:null,closed:!0})},I.prototype.getGridPath=function(g,R){var U=this.getLineType(),W=this.get("closed"),z=[];if(g.length)if(U==="circle"){var B=this.get("center"),L=g[0],w=E(B.x,B.y,L.x,L.y),F=R?0:1;W?(z.push(["M",B.x,B.y-w]),z.push(["A",w,w,0,0,F,B.x,B.y+w]),z.push(["A",w,w,0,0,F,B.x,B.y-w]),z.push(["Z"])):Object(a.each)(g,function(V,Y){Y===0?z.push(["M",V.x,V.y]):z.push(["A",w,w,0,0,F,V.x,V.y])})}else Object(a.each)(g,function(V,Y){Y===0?z.push(["M",V.x,V.y]):z.push(["L",V.x,V.y])}),W&&z.push(["Z"]);return z},I}(D),p=S,b=function(C){Object(c.__extends)(I,C);function I(){return C!==null&&C.apply(this,arguments)||this}return I.prototype.getDefaultCfg=function(){var g=C.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},g),{type:"line"})},I.prototype.getGridPath=function(g){var R=[];return Object(a.each)(g,function(U,W){W===0?R.push(["M",U.x,U.y]):R.push(["L",U.x,U.y])}),R},I}(D),y=b},"4OuL":function(Lt,A){function i(c,a,M,O,x){var D={};return Object.keys(O).forEach(function(E){D[E]=O[E]}),D.enumerable=!!D.enumerable,D.configurable=!!D.configurable,("value"in D||D.initializer)&&(D.writable=!0),D=M.slice().reverse().reduce(function(E,S){return S(c,a,E)||E},D),x&&D.initializer!==void 0&&(D.value=D.initializer?D.initializer.call(x):void 0,D.initializer=void 0),D.initializer===void 0&&(Object.defineProperty(c,a,D),D=null),D}Lt.exports=i,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},"4Qiu":function(Lt,A,i){"use strict";var c=i("CMID"),a=i("8Mtd"),M=i("sxZn"),O=i("08EK"),x=i("RxlK"),D=i("OEJE"),E=M.a.transform,S="matrix",p=["zIndex","capture","visible","type"],b=["repeat"],y=":",C="*";function I(z){for(var B=[],L=0;L<z.length;L++)Object(a.isArray)(z[L])?B.push([].concat(z[L])):B.push(z[L]);return B}function g(z,B){var L={},w=B.attrs;for(var F in z)L[F]=w[F];return L}function R(z,B){var L={},w=B.attr();return Object(a.each)(z,function(F,V){b.indexOf(V)===-1&&!Object(a.isEqual)(w[V],F)&&(L[V]=F)}),L}function U(z,B){if(B.onFrame)return z;var L=B.startTime,w=B.delay,F=B.duration,V=Object.prototype.hasOwnProperty;return Object(a.each)(z,function(Y){L+w<Y.startTime+Y.delay+Y.duration&&F>Y.delay&&Object(a.each)(B.toAttrs,function(tt,q){V.call(Y.toAttrs,q)&&(delete Y.toAttrs[q],delete Y.fromAttrs[q])})}),z}var W=function(z){Object(c.__extends)(B,z);function B(L){var w=z.call(this,L)||this;w.attrs={};var F=w.getDefaultAttrs();return Object(a.mix)(F,L.attrs),w.attrs=F,w.initAttrs(F),w.initAnimate(),w}return B.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},B.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},B.prototype.onCanvasChange=function(L){},B.prototype.initAttrs=function(L){},B.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},B.prototype.isGroup=function(){return!1},B.prototype.getParent=function(){return this.get("parent")},B.prototype.getCanvas=function(){return this.get("canvas")},B.prototype.attr=function(){for(var L,w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];var V=w[0],Y=w[1];if(!V)return this.attrs;if(Object(a.isObject)(V)){for(var tt in V)this.setAttr(tt,V[tt]);return this.afterAttrsChange(V),this}return w.length===2?(this.setAttr(V,Y),this.afterAttrsChange((L={},L[V]=Y,L)),this):this.attrs[V]},B.prototype.isClipped=function(L,w){var F=this.getClip();return F&&!F.isHit(L,w)},B.prototype.setAttr=function(L,w){var F=this.attrs[L];F!==w&&(this.attrs[L]=w,this.onAttrChange(L,w,F))},B.prototype.onAttrChange=function(L,w,F){L==="matrix"&&this.set("totalMatrix",null)},B.prototype.afterAttrsChange=function(L){if(this.cfg.isClipShape){var w=this.cfg.applyTo;w&&w.onCanvasChange("clip")}else this.onCanvasChange("attr")},B.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},B.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},B.prototype.setZIndex=function(L){this.set("zIndex",L);var w=this.getParent();return w&&w.sort(),this},B.prototype.toFront=function(){var L=this.getParent();if(!!L){var w=L.getChildren(),F=this.get("el"),V=w.indexOf(this);w.splice(V,1),w.push(this),this.onCanvasChange("zIndex")}},B.prototype.toBack=function(){var L=this.getParent();if(!!L){var w=L.getChildren(),F=this.get("el"),V=w.indexOf(this);w.splice(V,1),w.unshift(this),this.onCanvasChange("zIndex")}},B.prototype.remove=function(L){L===void 0&&(L=!0);var w=this.getParent();w?(Object(O.j)(w.getChildren(),this),w.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),L&&this.destroy()},B.prototype.resetMatrix=function(){this.attr(S,this.getDefaultMatrix()),this.onCanvasChange("matrix")},B.prototype.getMatrix=function(){return this.attr(S)},B.prototype.setMatrix=function(L){this.attr(S,L),this.onCanvasChange("matrix")},B.prototype.getTotalMatrix=function(){var L=this.cfg.totalMatrix;if(!L){var w=this.attr("matrix"),F=this.cfg.parentMatrix;F&&w?L=Object(x.b)(F,w):L=w||F,this.set("totalMatrix",L)}return L},B.prototype.applyMatrix=function(L){var w=this.attr("matrix"),F=null;L&&w?F=Object(x.b)(L,w):F=w||L,this.set("totalMatrix",F),this.set("parentMatrix",L)},B.prototype.getDefaultMatrix=function(){return null},B.prototype.applyToMatrix=function(L){var w=this.attr("matrix");return w?Object(x.c)(w,L):L},B.prototype.invertFromMatrix=function(L){var w=this.attr("matrix");if(w){var F=Object(x.a)(w);if(F)return Object(x.c)(F,L)}return L},B.prototype.setClip=function(L){var w=this.getCanvas(),F=null;if(L){var V=this.getShapeBase(),Y=Object(a.upperFirst)(L.type),tt=V[Y];tt&&(F=new tt({type:L.type,isClipShape:!0,applyTo:this,attrs:L.attrs,canvas:w}))}return this.set("clipShape",F),this.onCanvasChange("clip"),F},B.prototype.getClip=function(){var L=this.cfg.clipShape;return L||null},B.prototype.clone=function(){var L=this,w=this.attrs,F={};Object(a.each)(w,function(tt,q){Object(a.isArray)(w[q])?F[q]=I(w[q]):F[q]=w[q]});var V=this.constructor,Y=new V({attrs:F});return Object(a.each)(p,function(tt){Y.set(tt,L.get(tt))}),Y},B.prototype.destroy=function(){var L=this.destroyed;L||(this.attrs={},z.prototype.destroy.call(this))},B.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},B.prototype.animate=function(){for(var L=[],w=0;w<arguments.length;w++)L[w]=arguments[w];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var F=this.get("timeline");F||(F=this.get("canvas").get("timeline"),this.set("timeline",F));var V=this.get("animations")||[];F.timer||F.initTimer();var Y=L[0],tt=L[1],q=L[2],H=q===void 0?"easeLinear":q,Q=L[3],k=Q===void 0?a.noop:Q,K=L[4],nt=K===void 0?0:K,lt,ut,rt,ot,dt;Object(a.isFunction)(Y)?(lt=Y,Y={}):Object(a.isObject)(Y)&&Y.onFrame&&(lt=Y.onFrame,ut=Y.repeat),Object(a.isObject)(tt)?(dt=tt,tt=dt.duration,H=dt.easing||"easeLinear",nt=dt.delay||0,ut=dt.repeat||ut||!1,k=dt.callback||a.noop,rt=dt.pauseCallback||a.noop,ot=dt.resumeCallback||a.noop):(Object(a.isNumber)(k)&&(nt=k,k=null),Object(a.isFunction)(H)?(k=H,H="easeLinear"):H=H||"easeLinear");var Mt=R(Y,this),Nt={fromAttrs:g(Mt,this),toAttrs:Mt,duration:tt,easing:H,repeat:ut,callback:k,pauseCallback:rt,resumeCallback:ot,delay:nt,startTime:F.getTime(),id:Object(a.uniqueId)(),onFrame:lt,pathFormatted:!1};V.length>0?V=U(V,Nt):F.addAnimator(this),V.push(Nt),this.set("animations",V),this.set("_pause",{isPaused:!1})}},B.prototype.stopAnimate=function(L){var w=this;L===void 0&&(L=!0);var F=this.get("animations");Object(a.each)(F,function(V){L&&(V.onFrame?w.attr(V.onFrame(1)):w.attr(V.toAttrs)),V.callback&&V.callback()}),this.set("animating",!1),this.set("animations",[])},B.prototype.pauseAnimate=function(){var L=this.get("timeline"),w=this.get("animations"),F=L.getTime();return Object(a.each)(w,function(V){V._paused=!0,V._pauseTime=F,V.pauseCallback&&V.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:F}),this},B.prototype.resumeAnimate=function(){var L=this.get("timeline"),w=L.getTime(),F=this.get("animations"),V=this.get("_pause").pauseTime;return Object(a.each)(F,function(Y){Y.startTime=Y.startTime+(w-V),Y._paused=!1,Y._pauseTime=null,Y.resumeCallback&&Y.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",F),this},B.prototype.emitDelegation=function(L,w){var F=this,V=w.propagationPath,Y=this.getEvents(),tt;L==="mouseenter"?tt=w.fromShape:L==="mouseleave"&&(tt=w.toShape);for(var q=function(K){var nt=V[K],lt=nt.get("name");if(lt){if((nt.isGroup()||nt.isCanvas&&nt.isCanvas())&&tt&&Object(O.g)(nt,tt))return"break";Object(a.isArray)(lt)?Object(a.each)(lt,function(ut){F.emitDelegateEvent(nt,ut,w)}):H.emitDelegateEvent(nt,lt,w)}},H=this,Q=0;Q<V.length;Q++){var k=q(Q);if(k==="break")break}},B.prototype.emitDelegateEvent=function(L,w,F){var V=this.getEvents(),Y=w+y+F.type;(V[Y]||V[C])&&(F.name=Y,F.currentTarget=L,F.delegateTarget=this,F.delegateObject=L.get("delegateObject"),this.emit(Y,F))},B.prototype.translate=function(L,w){L===void 0&&(L=0),w===void 0&&(w=0);var F=this.getMatrix(),V=E(F,[["t",L,w]]);return this.setMatrix(V),this},B.prototype.move=function(L,w){var F=this.attr("x")||0,V=this.attr("y")||0;return this.translate(L-F,w-V),this},B.prototype.moveTo=function(L,w){return this.move(L,w)},B.prototype.scale=function(L,w){var F=this.getMatrix(),V=E(F,[["s",L,w||L]]);return this.setMatrix(V),this},B.prototype.rotate=function(L){var w=this.getMatrix(),F=E(w,[["r",L]]);return this.setMatrix(F),this},B.prototype.rotateAtStart=function(L){var w=this.attr(),F=w.x,V=w.y,Y=this.getMatrix(),tt=E(Y,[["t",-F,-V],["r",L],["t",F,V]]);return this.setMatrix(tt),this},B.prototype.rotateAtPoint=function(L,w,F){var V=this.getMatrix(),Y=E(V,[["t",-L,-w],["r",F],["t",L,w]]);return this.setMatrix(Y),this},B}(D.a);A.a=W},"4Qyq":function(Lt,A){},"4X1q":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Lookup=void 0;var c=i("196R"),a=function(){function M(){this._map=new Map}return M.prototype.getMap=function(){return this._map},M.prototype.add=function(O,x){if(O==null)throw new Error(c.NULL_ARGUMENT);if(x==null)throw new Error(c.NULL_ARGUMENT);var D=this._map.get(O);D!==void 0?(D.push(x),this._map.set(O,D)):this._map.set(O,[x])},M.prototype.get=function(O){if(O==null)throw new Error(c.NULL_ARGUMENT);var x=this._map.get(O);if(x!==void 0)return x;throw new Error(c.KEY_NOT_FOUND)},M.prototype.remove=function(O){if(O==null)throw new Error(c.NULL_ARGUMENT);if(!this._map.delete(O))throw new Error(c.KEY_NOT_FOUND)},M.prototype.removeByCondition=function(O){var x=this;this._map.forEach(function(D,E){var S=D.filter(function(p){return!O(p)});S.length>0?x._map.set(E,S):x._map.delete(E)})},M.prototype.hasKey=function(O){if(O==null)throw new Error(c.NULL_ARGUMENT);return this._map.has(O)},M.prototype.clone=function(){var O=new M;return this._map.forEach(function(x,D){x.forEach(function(E){return O.add(D,E.clone())})}),O},M.prototype.traverse=function(O){this._map.forEach(function(x,D){O(D,x)})},M}();A.Lookup=a},"4tFv":function(Lt,A){function i(c){return c===void 0}Lt.exports=i},"5+Yv":function(Lt,A,i){var c=i("RaWV"),a=i("SOgk"),M=i("hQ5t"),O=i("NbNK"),x=i("+Gi7");function D(E,S,p){var b=x(E)?c:O,y=arguments.length<3;return b(E,M(S,4),p,y,a)}Lt.exports=D},"5/ae":function(Lt,A){},"5Am0":function(Lt,A,i){Lt.exports=i("oobg")},"5BaD":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=i("e9gb"),a=M(i("TkY2"));function M(D){return D&&D.__esModule?D:{default:D}}var O=function(E){return function(){for(var S=[],p=0;p<arguments.length;p++)S[p]=arguments[p];return new Promise(function(b,y){var C=new a.default;C.postMessage({_algorithmType:E,data:S}),C.onmessage=function(I){var g=I.data,R=g.data,U=g._algorithmType;c.MESSAGE.SUCCESS===U?b(R):y(),C.terminate()}})}},x=O;A.default=x},"5Kaj":function(Lt,A,i){"use strict";var c=i("8Mtd"),a=i("3k0L"),M=function(){function O(x){var D=x.xField,E=x.yField,S=x.adjustNames,p=S===void 0?["x","y"]:S;this.adjustNames=p,this.xField=D,this.yField=E}return O.prototype.isAdjust=function(x){return this.adjustNames.indexOf(x)>=0},O.prototype.getAdjustRange=function(x,D,E){var S=this.yField,p=E.indexOf(D),b=E.length,y,C;return!S&&this.isAdjust("y")?(y=0,C=1):b>1?(y=E[p===0?0:p-1],C=E[p===b-1?b-1:p+1],p!==0?y+=(D-y)/2:y-=(C-D)/2,p!==b-1?C-=(C-D)/2:C+=(D-E[b-2])/2):(y=D===0?0:D-.5,C=D===0?1:D+.5),{pre:y,next:C}},O.prototype.adjustData=function(x,D){var E=this,S=this.getDimValues(D);c.each(x,function(p,b){c.each(S,function(y,C){E.adjustDim(C,y,p,b)})})},O.prototype.groupData=function(x,D){return c.each(x,function(E){E[D]===void 0&&(E[D]=a.a)}),c.groupBy(x,D)},O.prototype.adjustDim=function(x,D,E,S){},O.prototype.getDimValues=function(x){var D=this,E=D.xField,S=D.yField,p={},b=[];if(E&&this.isAdjust("x")&&b.push(E),S&&this.isAdjust("y")&&b.push(S),b.forEach(function(C){p[C]=c.valuesOfKey(x,C).sort(function(I,g){return I-g})}),!S&&this.isAdjust("y")){var y="y";p[y]=[a.a,1]}return p},O}();A.a=M},"5LP0":function(Lt,A){Lt.exports=i;function i(c,a){var M=a[0]-c[0],O=a[1]-c[1];return M*M+O*O}},"5M8n":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=function(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,x=null;return function(){for(var D=this,E=arguments.length,S=new Array(E),p=0;p<E;p++)S[p]=arguments[p];clearTimeout(x),x=setTimeout(function(){M.apply(D,S)},O)}};A.default=c},"5Nvg":function(Lt,A){function i(){}Lt.exports=i},"5RCt":function(Lt,A,i){"use strict";var c=i("CMID"),a=i("U8wd"),M=i("0xlF"),O=i("BSge"),x=i("oFJY"),D=i("SCaY"),E=i("ozhX"),S=i("CyRS"),p=i("8Mtd"),b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,y=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function I(ut){var rt=ut.match(C);if(!rt)return"";var ot="";return rt.sort(function(dt,Mt){return dt=dt.split(":"),Mt=Mt.split(":"),Number(dt[0])-Number(Mt[0])}),Object(p.each)(rt,function(dt){dt=dt.split(":"),ot+='<stop offset="'+dt[0]+'" stop-color="'+dt[1]+'"></stop>'}),ot}function g(ut,rt){var ot=b.exec(ut),dt=Object(p.mod)(Object(p.toRadian)(parseFloat(ot[1])),Math.PI*2),Mt=ot[2],Nt,ht;dt>=0&&dt<.5*Math.PI?(Nt={x:0,y:0},ht={x:1,y:1}):.5*Math.PI<=dt&&dt<Math.PI?(Nt={x:1,y:0},ht={x:0,y:1}):Math.PI<=dt&&dt<1.5*Math.PI?(Nt={x:1,y:1},ht={x:0,y:0}):(Nt={x:0,y:1},ht={x:1,y:0});var yt=Math.tan(dt),ft=yt*yt,st=(ht.x-Nt.x+yt*(ht.y-Nt.y))/(ft+1)+Nt.x,xt=yt*(ht.x-Nt.x+yt*(ht.y-Nt.y))/(ft+1)+Nt.y;rt.setAttribute("x1",Nt.x),rt.setAttribute("y1",Nt.y),rt.setAttribute("x2",st),rt.setAttribute("y2",xt),rt.innerHTML=I(Mt)}function R(ut,rt){var ot=y.exec(ut),dt=parseFloat(ot[1]),Mt=parseFloat(ot[2]),Nt=parseFloat(ot[3]),ht=ot[4];rt.setAttribute("cx",dt),rt.setAttribute("cy",Mt),rt.setAttribute("r",Nt),rt.innerHTML=I(ht)}var U=function(){function ut(rt){this.cfg={};var ot=null,dt=Object(p.uniqueId)("gradient_");return rt.toLowerCase()[0]==="l"?(ot=Object(D.b)("linearGradient"),g(rt,ot)):(ot=Object(D.b)("radialGradient"),R(rt,ot)),ot.setAttribute("id",dt),this.el=ot,this.id=dt,this.cfg=rt,this}return ut.prototype.match=function(rt,ot){return this.cfg===ot},ut}(),W=U,z={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},B={x:"-40%",y:"-40%",width:"200%",height:"200%"},L=function(){function ut(rt){this.type="filter",this.cfg={},this.type="filter";var ot=Object(D.b)("filter");return Object(p.each)(B,function(dt,Mt){ot.setAttribute(Mt,dt)}),this.el=ot,this.id=Object(p.uniqueId)("filter_"),this.el.id=this.id,this.cfg=rt,this._parseShadow(rt,ot),this}return ut.prototype.match=function(rt,ot){if(this.type!==rt)return!1;var dt=!0,Mt=this.cfg;return Object(p.each)(Object.keys(Mt),function(Nt){if(Mt[Nt]!==ot[Nt])return dt=!1,!1}),dt},ut.prototype.update=function(rt,ot){var dt=this.cfg;return dt[z[rt]]=ot,this._parseShadow(dt,this.el),this},ut.prototype._parseShadow=function(rt,ot){var dt=`<feDropShadow
      dx="`+(rt.dx||0)+`"
      dy="`+(rt.dy||0)+`"
      stdDeviation="`+(rt.blur?rt.blur/10:0)+`"
      flood-color="`+(rt.color?rt.color:"#000")+`"
      flood-opacity="`+(rt.opacity?rt.opacity:1)+`"
      />`;ot.innerHTML=dt},ut}(),w=L,F=function(){function ut(rt,ot){this.cfg={};var dt=Object(D.b)("marker"),Mt=Object(p.uniqueId)("marker_");dt.setAttribute("id",Mt);var Nt=Object(D.b)("path");Nt.setAttribute("stroke",rt.stroke||"none"),Nt.setAttribute("fill",rt.fill||"none"),dt.appendChild(Nt),dt.setAttribute("overflow","visible"),dt.setAttribute("orient","auto-start-reverse"),this.el=dt,this.child=Nt,this.id=Mt;var ht=rt[ot==="marker-start"?"startArrow":"endArrow"];return this.stroke=rt.stroke||"#000",ht===!0?this._setDefaultPath(ot,Nt):(this.cfg=ht,this._setMarker(rt.lineWidth,Nt)),this}return ut.prototype.match=function(){return!1},ut.prototype._setDefaultPath=function(rt,ot){var dt=this.el;ot.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),dt.setAttribute("refX",""+10*Math.cos(Math.PI/6)),dt.setAttribute("refY",""+5)},ut.prototype._setMarker=function(rt,ot){var dt=this.el,Mt=this.cfg.path,Nt=this.cfg.d;Object(p.isArray)(Mt)&&(Mt=Mt.map(function(ht){return ht.join(" ")}).join("")),ot.setAttribute("d",Mt),dt.appendChild(ot),Nt&&dt.setAttribute("refX",""+Nt/rt)},ut.prototype.update=function(rt){var ot=this.child;ot.attr?ot.attr("fill",rt):ot.setAttribute("fill",rt)},ut}(),V=F,Y=function(){function ut(rt){this.type="clip",this.cfg={};var ot=Object(D.b)("clipPath");this.el=ot,this.id=Object(p.uniqueId)("clip_"),ot.id=this.id;var dt=rt.cfg.el;return ot.appendChild(dt),this.cfg=rt,this}return ut.prototype.match=function(){return!1},ut.prototype.remove=function(){var rt=this.el;rt.parentNode.removeChild(rt)},ut}(),tt=Y,q=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,H=function(){function ut(rt){this.cfg={};var ot=Object(D.b)("pattern");ot.setAttribute("patternUnits","userSpaceOnUse");var dt=Object(D.b)("image");ot.appendChild(dt);var Mt=Object(p.uniqueId)("pattern_");ot.id=Mt,this.el=ot,this.id=Mt,this.cfg=rt;var Nt=q.exec(rt),ht=Nt[2];dt.setAttribute("href",ht);var yt=new Image;ht.match(/^data:/i)||(yt.crossOrigin="Anonymous"),yt.src=ht;function ft(){ot.setAttribute("width",""+yt.width),ot.setAttribute("height",""+yt.height)}return yt.complete?ft():(yt.onload=ft,yt.src=yt.src),this}return ut.prototype.match=function(rt,ot){return this.cfg===ot},ut}(),Q=H,k=function(){function ut(rt){var ot=Object(D.b)("defs"),dt=Object(p.uniqueId)("defs_");ot.id=dt,rt.appendChild(ot),this.children=[],this.defaultArrow={},this.el=ot,this.canvas=rt}return ut.prototype.find=function(rt,ot){for(var dt=this.children,Mt=null,Nt=0;Nt<dt.length;Nt++)if(dt[Nt].match(rt,ot)){Mt=dt[Nt].id;break}return Mt},ut.prototype.findById=function(rt){for(var ot=this.children,dt=null,Mt=0;Mt<ot.length;Mt++)if(ot[Mt].id===rt){dt=ot[Mt];break}return dt},ut.prototype.add=function(rt){this.children.push(rt),rt.canvas=this.canvas,rt.parent=this},ut.prototype.getDefaultArrow=function(rt,ot){var dt=rt.stroke||rt.strokeStyle;if(this.defaultArrow[dt])return this.defaultArrow[dt].id;var Mt=new V(rt,ot);return this.defaultArrow[dt]=Mt,this.el.appendChild(Mt.el),this.add(Mt),Mt.id},ut.prototype.addGradient=function(rt){var ot=new W(rt);return this.el.appendChild(ot.el),this.add(ot),ot.id},ut.prototype.addArrow=function(rt,ot){var dt=new V(rt,ot);return this.el.appendChild(dt.el),this.add(dt),dt.id},ut.prototype.addShadow=function(rt){var ot=new w(rt);return this.el.appendChild(ot.el),this.add(ot),ot.id},ut.prototype.addPattern=function(rt){var ot=new Q(rt);return this.el.appendChild(ot.el),this.add(ot),ot.id},ut.prototype.addClip=function(rt){var ot=new tt(rt);return this.el.appendChild(ot.el),this.add(ot),ot.id},ut}(),K=k,nt=function(ut){Object(c.__extends)(rt,ut);function rt(ot){return ut.call(this,Object(c.__assign)(Object(c.__assign)({},ot),{autoDraw:!0,renderer:"svg"}))||this}return rt.prototype.getShapeBase=function(){return E},rt.prototype.getGroupBase=function(){return S.a},rt.prototype.getShape=function(ot,dt,Mt){var Nt=Mt.target||Mt.srcElement;if(!M.a[Nt.tagName]){for(var ht=Nt.parentNode;ht&&!M.a[ht.tagName];)ht=ht.parentNode;Nt=ht}return this.find(function(yt){return yt.get("el")===Nt})},rt.prototype.createDom=function(){var ot=Object(D.b)("svg"),dt=new K(ot);return ot.setAttribute("width",""+this.get("width")),ot.setAttribute("height",""+this.get("height")),this.set("context",dt),ot},rt.prototype.onCanvasChange=function(ot){var dt=this.get("context"),Mt=this.get("el");if(ot==="sort"){var Nt=this.get("children");Nt&&Nt.length&&Object(D.d)(this,function(yt,ft){return Nt.indexOf(yt)-Nt.indexOf(ft)?1:0})}else if(ot==="clear"){if(Mt){Mt.innerHTML="";var ht=dt.el;ht.innerHTML="",Mt.appendChild(ht)}}else ot==="matrix"?Object(x.c)(this):ot==="clip"?Object(x.a)(this,dt):ot==="changeSize"&&(Mt.setAttribute("width",""+this.get("width")),Mt.setAttribute("height",""+this.get("height")))},rt.prototype.draw=function(){var ot=this.get("context"),dt=this.getChildren();Object(x.a)(this,ot),dt.length&&Object(O.a)(ot,dt)},rt}(a.AbstractCanvas),lt=A.a=nt},"5RYK":function(Lt,A,i){"use strict";i.r(A),i.d(A,"Html",function(){return U});var c=i("CMID"),a=i("viQC"),M=i("m8xh"),O=i("8Mtd"),x=i("+On4"),D=i("8Loy"),E=i("zRtE"),S=i("qhN0"),p,b=(p={},p[""+E.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:S.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},p[""+E.TITLE_CLASS]={marginBottom:"4px"},p[""+E.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},p[""+E.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},p[""+E.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},p[""+E.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},p[""+E.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},p[""+E.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},p);function y(W,z,B,L,w){var F={left:W<w.x,right:W+B>w.x+w.width,top:z<w.y,bottom:z+L>w.y+w.height};return F}function C(W,z,B,L,w,F){var V=W,Y=z;switch(F){case"left":V=W-L-B,Y=z-w/2;break;case"right":V=W+B,Y=z-w/2;break;case"top":V=W-L/2,Y=z-w-B;break;case"bottom":V=W-L/2,Y=z+B;break;default:V=W+B,Y=z-w-B;break}return{x:V,y:Y}}function I(W,z,B,L,w,F,V){var Y=C(W,z,B,L,w,F);if(V){var tt=y(Y.x,Y.y,L,w,V);F==="auto"?(tt.right&&(Y.x=Math.max(0,W-L-B)),tt.top&&(Y.y=Math.max(0,z-w-B))):F==="top"||F==="bottom"?(tt.left&&(Y.x=V.x),tt.right&&(Y.x=V.x+V.width-L),F==="top"&&tt.top&&(Y.y=z+B),F==="bottom"&&tt.bottom&&(Y.y=z-w-B)):(tt.top&&(Y.y=V.y),tt.bottom&&(Y.y=V.y+V.height-w),F==="left"&&tt.left&&(Y.x=W+B),F==="right"&&tt.right&&(Y.x=W-L-B))}return Y}function g(W,z){var B=!1;return Object(O.each)(z,function(L){if(Object(O.hasKey)(W,L))return B=!0,!1}),B}var R=function(W){Object(c.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.getDefaultCfg=function(){var B=W.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},B),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:b})},z.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},z.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},z.prototype.show=function(){var B=this.getContainer();!B||this.destroyed||(this.set("visible",!0),Object(M.e)(B,{visibility:"visible"}),this.setCrossHairsVisible(!0))},z.prototype.hide=function(){var B=this.getContainer();!B||this.destroyed||(this.set("visible",!1),Object(M.e)(B,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},z.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},z.prototype.setLocation=function(B){this.set("x",B.x),this.set("y",B.y),this.resetPosition()},z.prototype.setCrossHairsVisible=function(B){var L=B?"":"none",w=this.get("xCrosshairDom"),F=this.get("yCrosshairDom");w&&Object(M.e)(w,{display:L}),F&&Object(M.e)(F,{display:L})},z.prototype.initContainer=function(){if(W.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var B=this.getHtmlContentNode();this.get("parent").appendChild(B),this.set("container",B),this.resetStyles(),this.applyStyles()}},z.prototype.updateInner=function(B){this.get("customContent")?this.renderCustomContent():(g(B,["title","showTitle"])&&this.resetTitle(),Object(O.hasKey)(B,"items")&&this.renderItems()),W.prototype.updateInner.call(this,B)},z.prototype.initDom=function(){this.cacheDoms()},z.prototype.removeDom=function(){W.prototype.removeDom.call(this),this.clearCrosshairs()},z.prototype.resetPosition=function(){var B=this.get("x"),L=this.get("y"),w=this.get("offset"),F=this.getOffset(),V=F.offsetX,Y=F.offsetY,tt=this.get("position"),q=this.get("region"),H=this.getContainer(),Q=this.getBBox(),k=Q.width,K=Q.height,nt;q&&(nt=Object(D.k)(q));var lt=I(B,L,w,k,K,tt,nt);Object(M.e)(H,{left:Object(D.l)(lt.x+V),top:Object(D.l)(lt.y+Y)}),this.resetCrosshairs()},z.prototype.renderCustomContent=function(){var B=this.getHtmlContentNode(),L=this.get("parent"),w=this.get("container");w&&w.parentNode===L?L.replaceChild(B,w):L.appendChild(B),this.set("container",B),this.resetStyles(),this.applyStyles()},z.prototype.getHtmlContentNode=function(){var B,L=this.get("customContent");if(L){var w=L(this.get("title"),this.get("items"));Object(O.isElement)(w)?B=w:B=Object(M.b)(w)}return B},z.prototype.cacheDoms=function(){var B=this.getContainer(),L=B.getElementsByClassName(E.TITLE_CLASS)[0],w=B.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",L),this.set("listDom",w)},z.prototype.resetTitle=function(){var B=this.get("title"),L=this.get("showTitle");L&&B?this.setTitle(B):this.setTitle("")},z.prototype.setTitle=function(B){var L=this.get("titleDom");L&&(L.innerText=B)},z.prototype.resetCrosshairs=function(){var B=this.get("crosshairsRegion"),L=this.get("crosshairs");if(!B||!L)this.clearCrosshairs();else{var w=Object(D.k)(B),F=this.get("xCrosshairDom"),V=this.get("yCrosshairDom");L==="x"?(this.resetCrosshair("x",w),V&&(V.remove(),this.set("yCrosshairDom",null))):L==="y"?(this.resetCrosshair("y",w),F&&(F.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",w),this.resetCrosshair("y",w)),this.setCrossHairsVisible(this.get("visible"))}},z.prototype.resetCrosshair=function(B,L){var w=this.checkCrosshair(B),F=this.get(B);B==="x"?Object(M.e)(w,{left:Object(D.l)(F),top:Object(D.l)(L.y),height:Object(D.l)(L.height)}):Object(M.e)(w,{top:Object(D.l)(F),left:Object(D.l)(L.x),width:Object(D.l)(L.width)})},z.prototype.checkCrosshair=function(B){var L=B+"CrosshairDom",w=B+"CrosshairTpl",F="CROSSHAIR_"+B.toUpperCase(),V=E[F],Y=this.get(L),tt=this.get("parent");return Y||(Y=Object(M.b)(this.get(w)),this.applyStyle(V,Y),tt.appendChild(Y),this.set(L,Y)),Y},z.prototype.renderItems=function(){this.clearItemDoms();var B=this.get("items"),L=this.get("itemTpl"),w=this.get("listDom");w&&(Object(O.each)(B,function(F){var V=a.a.toCSSGradient(F.color),Y=Object(c.__assign)(Object(c.__assign)({},F),{color:V}),tt=Object(O.substitute)(L,Y),q=Object(M.b)(tt);w.appendChild(q)}),this.applyChildrenStyles(w,this.get("domStyles")))},z.prototype.clearItemDoms=function(){this.get("listDom")&&Object(D.a)(this.get("listDom"))},z.prototype.clearCrosshairs=function(){var B=this.get("xCrosshairDom"),L=this.get("yCrosshairDom");B&&B.remove(),L&&L.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},z}(x.a),U=R},"5i8x":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Context=void 0;var c=i("qSJf"),a=function(){function M(O){this.id=c.id(),this.container=O}return M.prototype.addPlan=function(O){this.plan=O},M.prototype.setCurrentRequest=function(O){this.currentRequest=O},M}();A.Context=a},"5oMf":function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("hppO");Lt.exports={run:M,undo:x};function M(D){D.graph().dummyChains=[],c.forEach(D.edges(),function(E){O(D,E)})}function O(D,E){var S=E.v,p=D.node(S).rank,b=E.w,y=D.node(b).rank,C=E.name,I=D.edge(E),g=I.labelRank;if(y!==p+1){D.removeEdge(E);var R,U,W;for(W=0,++p;p<y;++W,++p)I.points=[],U={width:0,height:0,edgeLabel:I,edgeObj:E,rank:p},R=a.addDummyNode(D,"edge",U,"_d"),p===g&&(U.width=I.width,U.height=I.height,U.dummy="edge-label",U.labelpos=I.labelpos),D.setEdge(S,R,{weight:I.weight},C),W===0&&D.graph().dummyChains.push(R),S=R;D.setEdge(S,b,{weight:I.weight},C)}}function x(D){c.forEach(D.graph().dummyChains,function(E){var S=D.node(E),p=S.edgeLabel,b;for(D.setEdge(S.edgeObj,p);S.dummy;)b=D.successors(E)[0],D.removeNode(E),p.points.push({x:S.x,y:S.y}),S.dummy==="edge-label"&&(p.x=S.x,p.y=S.y,p.width=S.width,p.height=S.height),E=b,S=D.node(E)})}},"60wz":function(Lt,A,i){"use strict";i.d(A,"b",function(){return E}),i.d(A,"a",function(){return S});var c=i("q66O"),a=i.n(c),M=i("99LQ");function O(b){return typeof b=="number"}function x(b){return b===void 0?0:b>360||b<-360?b%360:b}function D(b,y,C){return O(b)?M.e.fromValues(b,y,C):b.length===3?M.e.clone(b):M.e.fromValues(b[0],b[1],b[2])}function E(b,y){return y[0]=b[0],y[1]=b[1],y[2]=b[2],y[3]=b[4],y[4]=b[5],y[5]=b[6],y[6]=b[8],y[7]=b[9],y[8]=b[10],y}function S(b){var y=a()(b,3),C=y[0],I=y[1],g=y[2],R=C+I*256+g*65536-1;return R}function p(b){return[b+1&255,b+1>>8&255,b+1>>8>>8&255]}},"6FVg":function(Lt,A){function i(c,a){var M=c.length;for(c.sort(a);M--;)c[M]=c[M].value;return c}Lt.exports=i},"797j":function(Lt,A,i){"use strict";i.d(A,"a",function(){return rt});var c=i("8Mtd"),a=i("Jze/"),M=i("DhAw"),O=i("+IRo"),x=i("JTuY"),D=i("crRF"),E=i("1qwk"),S=i("qBCo"),p=i("b7/9"),b=i("/SLs"),y=i("dipd"),C=i("NR2y"),I=i("LFY6"),g=i("RZav"),R=i("doIl"),U=i("RxI3"),W=i("hfHj"),z=i("lYZ+"),B=i("8h7j"),L=i("xAy3"),w=i("4BgK"),F=i("ceWr"),V=i("E8mZ"),Y=i("ZDJ2"),tt=i("ET/o"),q=i("9zrt"),H=i("aaCk"),Q=i("ARn4"),k=i("307E"),K=i("tc10"),nt={line:M.a,pie:O.a,column:x.a,bar:D.a,area:E.a,gauge:S.a,"tiny-line":p.a,"tiny-column":b.a,"tiny-area":y.a,"ring-progress":C.a,progress:I.a,scatter:g.a,histogram:R.a,funnel:U.a},lt={line:W.a,pie:z.a,column:L.a,bar:B.a,area:w.a,gauge:F.a,"tiny-line":V.a,"tiny-column":tt.a,"tiny-area":Y.a,"ring-progress":q.a,progress:H.a,scatter:Q.a,histogram:k.a,funnel:K.a},ut={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function rt(ot,dt,Mt){var Nt=lt[ot];if(!Nt){console.error("could not find "+ot+" plot");return}var ht=nt[ot];ht({chart:dt,options:Object(a.c)({},Nt.getDefaultOptions(),Object(c.get)(ut,ot,{}),Mt)})}},"7AB2":function(Lt,A,i){"use strict";i.d(A,"a",function(){return M});var c=i("GgvZ"),a=i("Jze/"),M=Object(a.c)({},c.b.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}})},"7LJS":function(Lt,A,i){var c=i("0Zv/");function a(M,O,x){for(var D=-1,E=M.length;++D<E;){var S=M[D],p=O(S);if(p!=null&&(b===void 0?p===p&&!c(p):x(p,b)))var b=p,y=S}return y}Lt.exports=a},"7Nom":function(Lt,A){function i(a,M){for(var O=0;O<M.length;O++){var x=M[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(a,x.key,x)}}function c(a,M,O){return M&&i(a.prototype,M),O&&i(a,O),a}Lt.exports=c,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},"7Smf":function(Lt,A,i){"use strict";var c=i("GekJ"),a;(function(x){x.DEV="DEV",x.BETA="BETA",x.STABLE="STABLE"})(a||(a={}));function M(x,D){console.warn(x===a.DEV?"Plot '"+D+"' is in DEV stage, just give us issues.":x===a.BETA?"Plot '"+D+"' is in BETA stage, DO NOT use it in production env.":x===a.STABLE?"Plot '"+D+`' is in STABLE stage, import it by "import { `+D+` } from '@antv/g2plot'".`:"invalid Stage type.")}var O=function(){function x(){}return Object.defineProperty(x,"MultiView",{get:function(){return M(a.STABLE,"MultiView"),c.a},enumerable:!1,configurable:!0}),x}()},"7Xsh":function(Lt,A){},"7Zjo":function(Lt,A,i){"use strict";i.d(A,"a",function(){return Y});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("COxP"),x=i("s9g+"),D=i("Jze/"),E=i("b00Y"),S=i("b0U9"),p=i("Anwo");function b(tt,q){if(!!Object(M.isArray)(tt))return tt.find(function(H){return H.type===q})}function y(tt,q){var H=b(tt,q);return H&&H.enable!==!1}function C(tt){var q=tt.interactions,H=tt.drilldown;return Object(M.get)(H,"enabled")||y(q,"treemap-drill-down")}function I(tt){var q=tt.interactions["drill-down"];if(!!q){var H=q.context.actions.find(function(Q){return Q.name==="drill-down-action"});H.reset()}}function g(tt){var q=tt.data,H=tt.colorField,Q=tt.enableDrillDown,k=tt.hierarchyConfig,K=Object(p.a)(q,Object(c.__assign)(Object(c.__assign)({},k),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),nt=[];return K.forEach(function(lt){if(lt.depth===0||Q&&lt.depth!==1||!Q&&lt.children)return null;var ut=lt.ancestors().map(function(Mt){return{data:Mt.data,height:Mt.height,value:Mt.value}}),rt=Q&&Object(M.isArray)(q.path)?ut.concat(q.path.slice(1)):ut,ot=Object.assign({},lt.data,Object(c.__assign)({x:lt.x,y:lt.y,depth:lt.depth,value:lt.value,path:rt},lt));if(!lt.data[H]&&lt.parent){var dt=lt.ancestors().find(function(Mt){return Mt.data[H]});ot[H]=dt==null?void 0:dt.data[H]}else ot[H]=lt.data[H];ot[S.b]={hierarchyConfig:k,colorField:H,enableDrillDown:Q},nt.push(ot)}),nt}function R(tt){var q=tt.options,H=q.colorField;return Object(D.c)({options:{tooltip:{fields:["name","value",H,"path"],formatter:function(Q){return{name:Q.name,value:Q.value}}}}},tt)}function U(tt){var q=tt.chart,H=tt.options,Q=H.color,k=H.colorField,K=H.rectStyle,nt=H.hierarchyConfig,lt=g({data:H.data,colorField:H.colorField,enableDrillDown:C(H),hierarchyConfig:nt});return q.data(lt),Object(O.a)(Object(D.c)({},tt,{options:{xField:"x",yField:"y",seriesField:k,rawFields:["value"],polygon:{color:Q,style:K}}})),q.coordinate().reflect("y"),tt}function W(tt){var q=tt.chart;return q.axis(!1),tt}function z(tt){var q=tt.drilldown,H=tt.interactions,Q=H===void 0?[]:H,k=C(tt);return k?Object(D.c)({},tt,{interactions:Object(c.__spreadArrays)(Q,[{type:"drill-down",cfg:{drillDownConfig:q,transformData:g}}])}):tt}function B(tt){var q=tt.chart,H=tt.options,Q=H.interactions,k=H.drilldown;Object(x.c)({chart:q,options:z(H)});var K=b(Q,"view-zoom");K&&(K.enable!==!1?q.getCanvas().on("mousewheel",function(lt){lt.preventDefault()}):q.getCanvas().off("mousewheel"));var nt=C(H);return nt&&(q.appendPadding=Object(E.a)(q.appendPadding,Object(M.get)(k,["breadCrumb","position"]))),tt}function L(tt){return Object(D.f)(R,x.j,U,W,x.d,x.k,B,x.a,Object(x.b)())(tt)}var w={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},F=i("+A0x"),V=i("ORSI"),Y=function(tt){Object(c.__extends)(q,tt);function q(){var H=tt!==null&&tt.apply(this,arguments)||this;return H.type="treemap",H}return q.getDefaultOptions=function(){return w},q.prototype.changeData=function(H){var Q=this.options,k=Q.colorField,K=Q.interactions,nt=Q.hierarchyConfig;this.updateOption({data:H});var lt=g({data:H,colorField:k,enableDrillDown:y(K,"treemap-drill-down"),hierarchyConfig:nt});this.chart.changeData(lt),I(this.chart)},q.prototype.getDefaultOptions=function(){return q.getDefaultOptions()},q.prototype.getSchemaAdaptor=function(){return L},q}(a.b)},"7stk":function(Lt,A,i){"use strict";i.d(A,"a",function(){return R});var c=i("16OP"),a=i.n(c),M=i("cW+D"),O=i.n(M),x=i("oOaK"),D=i.n(x),E=i("vpv6"),S=i.n(E),p=i("G5xY"),b=i.n(p),y=i("Hg9g"),C=i("oq+b");function I(U){var W=g();return function(){var B=b()(U),L;if(W){var w=b()(this).constructor;L=Reflect.construct(B,arguments,w)}else L=B.apply(this,arguments);return S()(this,L)}}function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(U){return!1}}var R=function(U){D()(z,U);var W=I(z);function z(B){var L;return a()(this,z),L=W.call(this,B),L.material=void 0,L.geometry=void 0,L.aabb=new C.a,L.aabbDirty=!0,L.model=void 0,L.visible=!0,L.children=[],Object.assign(O()(L),B),L}return z}(y.a)},"8+ZV":function(Lt,A){Lt.exports=i;function i(c,a){var M=a[0],O=a[1],x=M*M+O*O;return x>0&&(x=1/Math.sqrt(x),c[0]=a[0]*x,c[1]=a[1]*x),c}},"8Lhm":function(Lt,A,i){var c=i("qccO");function a(M){var O=c(M),x=O%1;return O===O?x?O-x:O:0}Lt.exports=a},"8Loy":function(Lt,A,i){"use strict";i.d(A,"c",function(){return a}),i.d(A,"a",function(){return M}),i.d(A,"h",function(){return O}),i.d(A,"k",function(){return x}),i.d(A,"j",function(){return D}),i.d(A,"b",function(){return E}),i.d(A,"g",function(){return S}),i.d(A,"e",function(){return p}),i.d(A,"i",function(){return C}),i.d(A,"d",function(){return R}),i.d(A,"m",function(){return U}),i.d(A,"l",function(){return W}),i.d(A,"f",function(){return z});var c=i("8Mtd");function a(B){var L=0,w=0,F=0,V=0;return Object(c.isNumber)(B)?L=w=F=V=B:Object(c.isArray)(B)&&(L=B[0],F=Object(c.isNil)(B[1])?B[0]:B[1],V=Object(c.isNil)(B[2])?B[0]:B[2],w=Object(c.isNil)(B[3])?F:B[3]),[L,F,V,w]}function M(B){for(var L=B.childNodes,w=L.length,F=w-1;F>=0;F--)B.removeChild(L[F])}function O(B,L){return!!B.className.match(new RegExp("(\\s|^)"+L+"(\\s|$)"))}function x(B){var L=B.start,w=B.end,F=Math.min(L.x,w.x),V=Math.min(L.y,w.y),Y=Math.max(L.x,w.x),tt=Math.max(L.y,w.y);return{x:F,y:V,minX:F,minY:V,maxX:Y,maxY:tt,width:Y-F,height:tt-V}}function D(B){var L=B.map(function(q){return q.x}),w=B.map(function(q){return q.y}),F=Math.min.apply(Math,L),V=Math.min.apply(Math,w),Y=Math.max.apply(Math,L),tt=Math.max.apply(Math,w);return{x:F,y:V,minX:F,minY:V,maxX:Y,maxY:tt,width:Y-F,height:tt-V}}function E(B,L,w,F){var V=B+w,Y=L+F;return{x:B,y:L,width:w,height:F,minX:B,minY:L,maxX:isNaN(V)?0:V,maxY:isNaN(Y)?0:Y}}function S(B,L,w){return(1-w)*B+L*w}function p(B,L,w){return{x:B.x+Math.cos(w)*L,y:B.y+Math.sin(w)*L}}function b(B,L){var w=L.x-B.x,F=L.y-B.y;return Math.sqrt(w*w+F*F)}var y=function(B){return new Promise(function(L){setTimeout(L,B)})},C=function(B,L,w){return w===void 0&&(w=Math.pow(Number.EPSILON,.5)),[B,L].includes(Infinity)?Math.abs(B)===Math.abs(L):Math.abs(B-L)<w};function I(B,L){var w=Math.max(B.minX,L.minX),F=Math.max(B.minY,L.minY),V=Math.min(B.maxX,L.maxX),Y=Math.min(B.maxY,L.maxY);return E(w,F,V-w,Y-F)}function g(B,L){var w=Math.min(B.minX,L.minX),F=Math.min(B.minY,L.minY),V=Math.max(B.maxX,L.maxX),Y=Math.max(B.maxY,L.maxY);return E(w,F,V-w,Y-F)}function R(B){var L=B.getClip(),w=L&&L.getBBox(),F;if(!B.isGroup())F=B.getBBox();else{var V=Infinity,Y=-Infinity,tt=Infinity,q=-Infinity,H=B.getChildren();H.length>0?Object(c.each)(H,function(Q){if(Q.get("visible")){if(Q.isGroup()&&Q.get("children").length===0)return!0;var k=R(Q),K=Q.applyToMatrix([k.minX,k.minY,1]),nt=Q.applyToMatrix([k.minX,k.maxY,1]),lt=Q.applyToMatrix([k.maxX,k.minY,1]),ut=Q.applyToMatrix([k.maxX,k.maxY,1]),rt=Math.min(K[0],nt[0],lt[0],ut[0]),ot=Math.max(K[0],nt[0],lt[0],ut[0]),dt=Math.min(K[1],nt[1],lt[1],ut[1]),Mt=Math.max(K[1],nt[1],lt[1],ut[1]);rt<V&&(V=rt),ot>Y&&(Y=ot),dt<tt&&(tt=dt),Mt>q&&(q=Mt)}}):(V=0,Y=0,tt=0,q=0),F=E(V,tt,Y-V,q-tt)}return w?I(F,w):F}function U(B,L){if(!(!B.getClip()&&!L.getClip())){var w=L.getClip();if(!w){B.setClip(null);return}var F={type:w.get("type"),attrs:w.attr()};B.setClip(F)}}function W(B){return B+"px"}function z(B,L,w,F){var V=b(B,L),Y=F/V,tt=0;return w==="start"?tt=0-Y:w==="end"&&(tt=1+Y),{x:S(B.x,L.x,tt),y:S(B.y,L.y,tt)}}},"8Mtd":function(Lt,A,i){"use strict";i.r(A),i.d(A,"contains",function(){return O}),i.d(A,"includes",function(){return O}),i.d(A,"difference",function(){return S}),i.d(A,"find",function(){return Q}),i.d(A,"findIndex",function(){return K}),i.d(A,"firstValue",function(){return lt}),i.d(A,"flatten",function(){return rt}),i.d(A,"flattenDeep",function(){return dt}),i.d(A,"getRange",function(){return yt}),i.d(A,"pull",function(){return At}),i.d(A,"pullAt",function(){return $}),i.d(A,"reduce",function(){return it}),i.d(A,"remove",function(){return Pt}),i.d(A,"sortBy",function(){return kt}),i.d(A,"union",function(){return ct}),i.d(A,"uniq",function(){return Wt}),i.d(A,"valuesOfKey",function(){return jt}),i.d(A,"head",function(){return Xt}),i.d(A,"last",function(){return It}),i.d(A,"startsWith",function(){return $t}),i.d(A,"endsWith",function(){return Kt}),i.d(A,"filter",function(){return D}),i.d(A,"every",function(){return ce}),i.d(A,"some",function(){return Ce}),i.d(A,"group",function(){return qe}),i.d(A,"groupBy",function(){return dr}),i.d(A,"groupToMap",function(){return ar}),i.d(A,"getWrapBehavior",function(){return ur}),i.d(A,"wrapBehavior",function(){return ir}),i.d(A,"number2color",function(){return Br}),i.d(A,"parseRadius",function(){return Or}),i.d(A,"clamp",function(){return $r}),i.d(A,"fixedBase",function(){return Un}),i.d(A,"isDecimal",function(){return kn}),i.d(A,"isEven",function(){return In}),i.d(A,"isInteger",function(){return ga}),i.d(A,"isNegative",function(){return Sa}),i.d(A,"isNumberEqual",function(){return Ma}),i.d(A,"isOdd",function(){return ca}),i.d(A,"isPositive",function(){return Ca}),i.d(A,"max",function(){return Mt}),i.d(A,"maxBy",function(){return pa}),i.d(A,"min",function(){return Nt}),i.d(A,"minBy",function(){return Wa}),i.d(A,"mod",function(){return po}),i.d(A,"toDegree",function(){return $o}),i.d(A,"toInteger",function(){return Xo}),i.d(A,"toRadian",function(){return xl}),i.d(A,"forIn",function(){return El}),i.d(A,"has",function(){return ss}),i.d(A,"hasKey",function(){return ys}),i.d(A,"hasValue",function(){return Gl}),i.d(A,"keys",function(){return L}),i.d(A,"isMatch",function(){return F}),i.d(A,"values",function(){return ri}),i.d(A,"lowerCase",function(){return Ws}),i.d(A,"lowerFirst",function(){return ls}),i.d(A,"substitute",function(){return de}),i.d(A,"upperCase",function(){return Ue}),i.d(A,"upperFirst",function(){return sr}),i.d(A,"getType",function(){return On}),i.d(A,"isArguments",function(){return Nn}),i.d(A,"isArray",function(){return R}),i.d(A,"isArrayLike",function(){return a}),i.d(A,"isBoolean",function(){return zi}),i.d(A,"isDate",function(){return ki}),i.d(A,"isError",function(){return so}),i.d(A,"isFunction",function(){return C}),i.d(A,"isFinite",function(){return Co}),i.d(A,"isNil",function(){return g}),i.d(A,"isNull",function(){return ms}),i.d(A,"isNumber",function(){return wn}),i.d(A,"isObject",function(){return U}),i.d(A,"isObjectLike",function(){return Y}),i.d(A,"isPlainObject",function(){return q}),i.d(A,"isPrototype",function(){return Za}),i.d(A,"isRegExp",function(){return ci}),i.d(A,"isString",function(){return Rt}),i.d(A,"isType",function(){return y}),i.d(A,"isUndefined",function(){return Ao}),i.d(A,"isElement",function(){return wo}),i.d(A,"requestAnimationFrame",function(){return bs}),i.d(A,"clearAnimationFrame",function(){return eo}),i.d(A,"augment",function(){return ro}),i.d(A,"clone",function(){return zs}),i.d(A,"debounce",function(){return Sl}),i.d(A,"memoize",function(){return Ml}),i.d(A,"deepMix",function(){return Qt}),i.d(A,"each",function(){return z}),i.d(A,"extend",function(){return fe}),i.d(A,"indexOf",function(){return Ie}),i.d(A,"isEmpty",function(){return $e}),i.d(A,"isEqual",function(){return Ar}),i.d(A,"isEqualWith",function(){return Cr}),i.d(A,"map",function(){return Zr}),i.d(A,"mapValues",function(){return Dr}),i.d(A,"mix",function(){return To}),i.d(A,"assign",function(){return To}),i.d(A,"get",function(){return Dn}),i.d(A,"set",function(){return bi}),i.d(A,"pick",function(){return Qn}),i.d(A,"omit",function(){return qn}),i.d(A,"throttle",function(){return ni}),i.d(A,"toArray",function(){return gi}),i.d(A,"toString",function(){return Yo}),i.d(A,"uniqueId",function(){return ia}),i.d(A,"noop",function(){return Ii}),i.d(A,"identity",function(){return aa}),i.d(A,"size",function(){return Yi}),i.d(A,"Cache",function(){return yi});var c=function(te){return te!==null&&typeof te!="function"&&isFinite(te.length)},a=c,M=function(te,Ae){return a(te)?te.indexOf(Ae)>-1:!1},O=M,x=function(te,Ae){if(!a(te))return te;for(var Ne=[],er=0;er<te.length;er++){var jr=te[er];Ae(jr,er)&&Ne.push(jr)}return Ne},D=x,E=function(te,Ae){return Ae===void 0&&(Ae=[]),D(te,function(Ne){return!O(Ae,Ne)})},S=E,p={}.toString,b=function(te,Ae){return p.call(te)==="[object "+Ae+"]"},y=b,C=function(te){return y(te,"Function")},I=function(te){return te==null},g=I,R=function(te){return Array.isArray?Array.isArray(te):y(te,"Array")},U=function(te){var Ae=typeof te;return te!==null&&Ae==="object"||Ae==="function"};function W(te,Ae){if(!!te){var Ne;if(R(te))for(var er=0,jr=te.length;er<jr&&(Ne=Ae(te[er],er),Ne!==!1);er++);else if(U(te)){for(var Mn in te)if(te.hasOwnProperty(Mn)&&(Ne=Ae(te[Mn],Mn),Ne===!1))break}}}var z=W,B=Object.keys?function(te){return Object.keys(te)}:function(te){var Ae=[];return z(te,function(Ne,er){C(te)&&er==="prototype"||Ae.push(er)}),Ae},L=B;function w(te,Ae){var Ne=L(Ae),er=Ne.length;if(g(te))return!er;for(var jr=0;jr<er;jr+=1){var Mn=Ne[jr];if(Ae[Mn]!==te[Mn]||!(Mn in te))return!1}return!0}var F=w,V=function(te){return typeof te=="object"&&te!==null},Y=V,tt=function(te){if(!Y(te)||!y(te,"Object"))return!1;if(Object.getPrototypeOf(te)===null)return!0;for(var Ae=te;Object.getPrototypeOf(Ae)!==null;)Ae=Object.getPrototypeOf(Ae);return Object.getPrototypeOf(te)===Ae},q=tt;function H(te,Ae){if(!R(te))return null;var Ne;if(C(Ae)&&(Ne=Ae),q(Ae)&&(Ne=function(jr){return F(jr,Ae)}),Ne){for(var er=0;er<te.length;er+=1)if(Ne(te[er]))return te[er]}return null}var Q=H;function k(te,Ae,Ne){Ne===void 0&&(Ne=0);for(var er=Ne;er<te.length;er++)if(Ae(te[er],er))return er;return-1}var K=k,nt=function(te,Ae){for(var Ne=null,er=0;er<te.length;er++){var jr=te[er],Mn=jr[Ae];if(!g(Mn)){R(Mn)?Ne=Mn[0]:Ne=Mn;break}}return Ne},lt=nt,ut=function(te){if(!R(te))return[];for(var Ae=[],Ne=0;Ne<te.length;Ne++)Ae=Ae.concat(te[Ne]);return Ae},rt=ut,ot=function(te,Ae){if(Ae===void 0&&(Ae=[]),!R(te))Ae.push(te);else for(var Ne=0;Ne<te.length;Ne+=1)ot(te[Ne],Ae);return Ae},dt=ot,Mt=function(te){if(!!R(te))return te.reduce(function(Ae,Ne){return Math.max(Ae,Ne)},te[0])},Nt=function(te){if(!!R(te))return te.reduce(function(Ae,Ne){return Math.min(Ae,Ne)},te[0])},ht=function(te){var Ae=te.filter(function(pi){return!isNaN(pi)});if(!Ae.length)return{min:0,max:0};if(R(te[0])){for(var Ne=[],er=0;er<te.length;er++)Ne=Ne.concat(te[er]);Ae=Ne}var jr=Mt(Ae),Mn=Nt(Ae);return{min:Mn,max:jr}},yt=ht,ft=Array.prototype,st=ft.splice,xt=ft.indexOf,gt=function(te){for(var Ae=[],Ne=1;Ne<arguments.length;Ne++)Ae[Ne-1]=arguments[Ne];for(var er=0;er<Ae.length;er++)for(var jr=Ae[er],Mn=-1;(Mn=xt.call(te,jr))>-1;)st.call(te,Mn,1);return te},At=gt,pt=Array.prototype.splice,_=function(Ae,Ne){if(!a(Ae))return[];for(var er=Ae?Ne.length:0,jr=er-1;er--;){var Mn=void 0,pi=Ne[er];(er===jr||pi!==Mn)&&(Mn=pi,pt.call(Ae,pi,1))}return Ae},$=_,bt=function(te,Ae,Ne){if(!R(te)&&!q(te))return te;var er=Ne;return z(te,function(jr,Mn){er=Ae(er,jr,Mn)}),er},it=bt,Ot=function(te,Ae){var Ne=[];if(!a(te))return Ne;for(var er=-1,jr=[],Mn=te.length;++er<Mn;){var pi=te[er];Ae(pi,er,te)&&(Ne.push(pi),jr.push(er))}return $(te,jr),Ne},Pt=Ot,Rt=function(te){return y(te,"String")};function Vt(te,Ae){var Ne;if(C(Ae))Ne=function(jr,Mn){return Ae(jr)-Ae(Mn)};else{var er=[];Rt(Ae)?er.push(Ae):R(Ae)&&(er=Ae),Ne=function(jr,Mn){for(var pi=0;pi<er.length;pi+=1){var qi=er[pi];if(jr[qi]>Mn[qi])return 1;if(jr[qi]<Mn[qi])return-1}return 0}}return te.sort(Ne),te}var kt=Vt;function Wt(te,Ae){Ae===void 0&&(Ae=new Map);var Ne=[];if(Array.isArray(te))for(var er=0,jr=te.length;er<jr;er++){var Mn=te[er];Ae.has(Mn)||(Ne.push(Mn),Ae.set(Mn,!0))}return Ne}var wt=function(){for(var te=[],Ae=0;Ae<arguments.length;Ae++)te[Ae]=arguments[Ae];return Wt([].concat.apply([],te))},ct=wt,jt=function(te,Ae){for(var Ne=[],er={},jr=0;jr<te.length;jr++){var Mn=te[jr],pi=Mn[Ae];if(!g(pi)){R(pi)||(pi=[pi]);for(var qi=0;qi<pi.length;qi++){var Do=pi[qi];er[Do]||(Ne.push(Do),er[Do]=!0)}}}return Ne};function Xt(te){if(a(te))return te[0]}function It(te){if(a(te)){var Ae=te;return Ae[Ae.length-1]}}function Ut(te,Ae){return R(te)||Rt(te)?te[0]===Ae:!1}var $t=Ut;function Ft(te,Ae){return R(te)||Rt(te)?te[te.length-1]===Ae:!1}var Kt=Ft,ee=function(te,Ae){for(var Ne=0;Ne<te.length;Ne++)if(!Ae(te[Ne],Ne))return!1;return!0},ce=ee,Se=function(te,Ae){for(var Ne=0;Ne<te.length;Ne++)if(Ae(te[Ne],Ne))return!0;return!1},Ce=Se,Ge=Object.prototype.hasOwnProperty;function hr(te,Ae){if(!Ae||!R(te))return{};for(var Ne={},er=C(Ae)?Ae:function(qi){return qi[Ae]},jr,Mn=0;Mn<te.length;Mn++){var pi=te[Mn];jr=er(pi),Ge.call(Ne,jr)?Ne[jr].push(pi):Ne[jr]=[pi]}return Ne}var dr=hr;function ar(te,Ae){if(!Ae)return{0:te};if(!C(Ae)){var Ne=R(Ae)?Ae:Ae.replace(/\s+/g,"").split("*");Ae=function(er){for(var jr="_",Mn=0,pi=Ne.length;Mn<pi;Mn++)jr+=er[Ne[Mn]]&&er[Ne[Mn]].toString();return jr}}return dr(te,Ae)}var qe=function(te,Ae){if(!Ae)return[te];var Ne=ar(te,Ae),er=[];for(var jr in Ne)er.push(Ne[jr]);return er};function Xe(te,Ae){return te["_wrap_"+Ae]}var ur=Xe;function zr(te,Ae){if(te["_wrap_"+Ae])return te["_wrap_"+Ae];var Ne=function(er){te[Ae](er)};return te["_wrap_"+Ae]=Ne,Ne}var ir=zr,qr={};function Mr(te){var Ae=qr[te];if(!Ae){for(var Ne=te.toString(16),er=Ne.length;er<6;er++)Ne="0"+Ne;Ae="#"+Ne,qr[te]=Ae}return Ae}var Br=Mr;function ze(te){var Ae=0,Ne=0,er=0,jr=0;return R(te)?te.length===1?Ae=Ne=er=jr=te[0]:te.length===2?(Ae=er=te[0],Ne=jr=te[1]):te.length===3?(Ae=te[0],Ne=jr=te[1],er=te[2]):(Ae=te[0],Ne=te[1],er=te[2],jr=te[3]):Ae=Ne=er=jr=te,{r1:Ae,r2:Ne,r3:er,r4:jr}}var Or=ze,Nr=function(te,Ae,Ne){return te<Ae?Ae:te>Ne?Ne:te},$r=Nr,Kr=function(te,Ae){var Ne=Ae.toString(),er=Ne.indexOf(".");if(er===-1)return Math.round(te);var jr=Ne.substr(er+1).length;return jr>20&&(jr=20),parseFloat(te.toFixed(jr))},Un=Kr,ti=function(te){return y(te,"Number")},wn=ti,Bn=function(te){return wn(te)&&te%1!=0},kn=Bn,ei=function(te){return wn(te)&&te%2==0},In=ei,ai=Number.isInteger?Number.isInteger:function(te){return wn(te)&&te%1==0},ga=ai,Da=function(te){return wn(te)&&te<0},Sa=Da,Gi=1e-5;function Ma(te,Ae,Ne){return Ne===void 0&&(Ne=Gi),Math.abs(te-Ae)<Ne}var Ri=function(te){return wn(te)&&te%2!=0},ca=Ri,Di=function(te){return wn(te)&&te>0},Ca=Di,pa=function(te,Ae){if(!!R(te)){for(var Ne,er=-Infinity,jr=0;jr<te.length;jr++){var Mn=te[jr],pi=C(Ae)?Ae(Mn):Mn[Ae];pi>er&&(Ne=Mn,er=pi)}return Ne}},Wa=function(te,Ae){if(!!R(te)){for(var Ne,er=Infinity,jr=0;jr<te.length;jr++){var Mn=te[jr],pi=C(Ae)?Ae(Mn):Mn[Ae];pi<er&&(Ne=Mn,er=pi)}return Ne}},oo=function(te,Ae){return(te%Ae+Ae)%Ae},po=oo,Xa=180/Math.PI,os=function(te){return Xa*te},$o=os,Xo=parseInt,Ol=Math.PI/180,ba=function(te){return Ol*te},xl=ba,El=z,ss=function(te,Ae){return te.hasOwnProperty(Ae)},ys=ss,nl=Object.values?function(te){return Object.values(te)}:function(te){var Ae=[];return z(te,function(Ne,er){C(te)&&er==="prototype"||Ae.push(Ne)}),Ae},ri=nl,Gl=function(te,Ae){return O(ri(te),Ae)},Yo=function(te){return g(te)?"":te.toString()},Us=function(te){return Yo(te).toLowerCase()},Ws=Us,il=function(te){var Ae=Yo(te);return Ae.charAt(0).toLowerCase()+Ae.substring(1)},ls=il;function ne(te,Ae){return!te||!Ae?te:te.replace(/\\?\{([^{}]+)\}/g,function(Ne,er){return Ne.charAt(0)==="\\"?Ne.slice(1):Ae[er]===void 0?"":Ae[er]})}var de=ne,Oe=function(te){return Yo(te).toUpperCase()},Ue=Oe,Ve=function(te){var Ae=Yo(te);return Ae.charAt(0).toUpperCase()+Ae.substring(1)},sr=Ve,wr={}.toString,Vr=function(te){return wr.call(te).replace(/^\[object /,"").replace(/]$/,"")},On=Vr,Wn=function(te){return y(te,"Arguments")},Nn=Wn,Pi=function(te){return y(te,"Boolean")},zi=Pi,Ia=function(te){return y(te,"Date")},ki=Ia,fa=function(te){return y(te,"Error")},so=fa,Co=function(te){return wn(te)&&isFinite(te)},oe=function(te){return te===null},ms=oe,lo=Object.prototype,ha=function(te){var Ae=te&&te.constructor,Ne=typeof Ae=="function"&&Ae.prototype||lo;return te===Ne},Za=ha,yo=function(te){return y(te,"RegExp")},ci=yo,mo=function(te){return te===void 0},Ao=mo,us=function(te){return te instanceof Element||te instanceof HTMLDocument},wo=us;function bs(te){var Ae=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Ne){return setTimeout(Ne,16)};return Ae(te)}function eo(te){var Ae=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Ae(te)}function Os(te,Ae){for(var Ne in Ae)Ae.hasOwnProperty(Ne)&&Ne!=="constructor"&&Ae[Ne]!==void 0&&(te[Ne]=Ae[Ne])}function To(te,Ae,Ne,er){return Ae&&Os(te,Ae),Ne&&Os(te,Ne),er&&Os(te,er),te}var La=function(){for(var te=[],Ae=0;Ae<arguments.length;Ae++)te[Ae]=arguments[Ae];for(var Ne=te[0],er=1;er<te.length;er++){var jr=te[er];C(jr)&&(jr=jr.prototype),To(Ne.prototype,jr)}},ro=La,bo=function(te){if(typeof te!="object"||te===null)return te;var Ae;if(R(te)){Ae=[];for(var Ne=0,er=te.length;Ne<er;Ne++)typeof te[Ne]=="object"&&te[Ne]!=null?Ae[Ne]=bo(te[Ne]):Ae[Ne]=te[Ne]}else{Ae={};for(var jr in te)typeof te[jr]=="object"&&te[jr]!=null?Ae[jr]=bo(te[jr]):Ae[jr]=te[jr]}return Ae},zs=bo;function Ul(te,Ae,Ne){var er;return function(){var jr=this,Mn=arguments,pi=function(){er=null,Ne||te.apply(jr,Mn)},qi=Ne&&!er;clearTimeout(er),er=setTimeout(pi,Ae),qi&&te.apply(jr,Mn)}}var Sl=Ul,Ml=function(te,Ae){if(!C(te))throw new TypeError("Expected a function");var Ne=function(){for(var er=[],jr=0;jr<arguments.length;jr++)er[jr]=arguments[jr];var Mn=Ae?Ae.apply(this,er):er[0],pi=Ne.cache;if(pi.has(Mn))return pi.get(Mn);var qi=te.apply(this,er);return pi.set(Mn,qi),qi};return Ne.cache=new Map,Ne},Wl=5;function X(te,Ae,Ne,er){Ne=Ne||0,er=er||Wl;for(var jr in Ae)if(Ae.hasOwnProperty(jr)){var Mn=Ae[jr];Mn!==null&&q(Mn)?(q(te[jr])||(te[jr]={}),Ne<er?X(te[jr],Mn,Ne+1,er):te[jr]=Ae[jr]):R(Mn)?(te[jr]=[],te[jr]=te[jr].concat(Mn)):Mn!==void 0&&(te[jr]=Mn)}}var Et=function(te){for(var Ae=[],Ne=1;Ne<arguments.length;Ne++)Ae[Ne-1]=arguments[Ne];for(var er=0;er<Ae.length;er+=1)X(te,Ae[er]);return te},Qt=Et,re=function(te,Ae,Ne,er){C(Ae)||(Ne=Ae,Ae=te,te=function(){});var jr=Object.create?function(pi,qi){return Object.create(pi,{constructor:{value:qi}})}:function(pi,qi){function Do(){}Do.prototype=pi;var Ho=new Do;return Ho.constructor=qi,Ho},Mn=jr(Ae.prototype,te);return te.prototype=To(Mn,te.prototype),te.superclass=jr(Ae.prototype,Ae),To(Mn,Ne),To(te,er),te},fe=re,be=function(te,Ae){if(!a(te))return-1;var Ne=Array.prototype.indexOf;if(Ne)return Ne.call(te,Ae);for(var er=-1,jr=0;jr<te.length;jr++)if(te[jr]===Ae){er=jr;break}return er},Ie=be,we=Object.prototype.hasOwnProperty;function Fe(te){if(g(te))return!0;if(a(te))return!te.length;var Ae=On(te);if(Ae==="Map"||Ae==="Set")return!te.size;if(Za(te))return!Object.keys(te).length;for(var Ne in te)if(we.call(te,Ne))return!1;return!0}var $e=Fe,_e=function(te,Ae){if(te===Ae)return!0;if(!te||!Ae||Rt(te)||Rt(Ae))return!1;if(a(te)||a(Ae)){if(te.length!==Ae.length)return!1;for(var Ne=!0,er=0;er<te.length&&(Ne=_e(te[er],Ae[er]),!!Ne);er++);return Ne}if(Y(te)||Y(Ae)){var jr=Object.keys(te),Mn=Object.keys(Ae);if(jr.length!==Mn.length)return!1;for(var Ne=!0,er=0;er<jr.length&&(Ne=_e(te[jr[er]],Ae[jr[er]]),!!Ne);er++);return Ne}return!1},Ar=_e,Cr=function(te,Ae,Ne){return C(Ne)?!!Ne(te,Ae):Ar(te,Ae)},Sr=function(te,Ae){if(!a(te))return te;for(var Ne=[],er=0;er<te.length;er++){var jr=te[er];Ne.push(Ae(jr,er))}return Ne},Zr=Sr,fn=function(te){return te},Dr=function(te,Ae){Ae===void 0&&(Ae=fn);var Ne={};return U(te)&&!g(te)&&Object.keys(te).forEach(function(er){Ne[er]=Ae(te[er],er)}),Ne},Dn=function(te,Ae,Ne){for(var er=0,jr=Rt(Ae)?Ae.split("."):Ae;te&&er<jr.length;)te=te[jr[er++]];return te===void 0||er<jr.length?Ne:te},bi=function(te,Ae,Ne){var er=te,jr=Rt(Ae)?Ae.split("."):Ae;return jr.forEach(function(Mn,pi){pi<jr.length-1?(U(er[Mn])||(er[Mn]=wn(jr[pi+1])?[]:{}),er=er[Mn]):er[Mn]=Ne}),te},Zn=Object.prototype.hasOwnProperty,Qn=function(te,Ae){if(te===null||!q(te))return{};var Ne={};return z(Ae,function(er){Zn.call(te,er)&&(Ne[er]=te[er])}),Ne},qn=function(te,Ae){return it(te,function(Ne,er,jr){return Ae.includes(jr)||(Ne[jr]=er),Ne},{})},ni=function(te,Ae,Ne){var er,jr,Mn,pi,qi=0;Ne||(Ne={});var Do=function(){qi=Ne.leading===!1?0:Date.now(),er=null,pi=te.apply(jr,Mn),er||(jr=Mn=null)},Ho=function(){var Ko=Date.now();!qi&&Ne.leading===!1&&(qi=Ko);var Vs=Ae-(Ko-qi);return jr=this,Mn=arguments,Vs<=0||Vs>Ae?(er&&(clearTimeout(er),er=null),qi=Ko,pi=te.apply(jr,Mn),er||(jr=Mn=null)):!er&&Ne.trailing!==!1&&(er=setTimeout(Do,Vs)),pi};return Ho.cancel=function(){clearTimeout(er),qi=0,er=jr=Mn=null},Ho},gi=function(te){return a(te)?Array.prototype.slice.call(te):[]},Xi={},ia=function(te){return te=te||"g",Xi[te]?Xi[te]+=1:Xi[te]=1,te+Xi[te]},Ii=function(){},aa=function(te){return te};function Yi(te){return g(te)?0:a(te)?te.length:Object.keys(te).length}var Hi=function(){function te(){this.map={}}return te.prototype.has=function(Ae){return this.map[Ae]!==void 0},te.prototype.get=function(Ae,Ne){var er=this.map[Ae];return er===void 0?Ne:er},te.prototype.set=function(Ae,Ne){this.map[Ae]=Ne},te.prototype.clear=function(){this.map={}},te.prototype.delete=function(Ae){delete this.map[Ae]},te.prototype.size=function(){return Object.keys(this.map).length},te}(),yi=Hi},"8Qcm":function(Lt,A,i){"use strict";var c=i("NOzu");i.d(A,"Annotation",function(){return c});var a=i("DXmi");i.d(A,"Axis",function(){return a});var M=i("radC");i.d(A,"Crosshair",function(){return M});var O=i("4GfJ");i.d(A,"Grid",function(){return O});var x=i("G0yP");i.d(A,"Legend",function(){return x});var D=i("5RYK");i.d(A,"Tooltip",function(){return D});var E=i("iXVM"),S=i("VZin"),p=i("+On4"),b=i("PrMP");i.d(A,"Slider",function(){return b.a});var y=i("mmcn");i.d(A,"Scrollbar",function(){return y.a});var C=i("DUby"),I=i.n(C),g=i("LbFW"),R=i.n(g),U=i("qi70");i.d(A,"propagationDelegate",function(){return U.a});var W=i("zRtE");i.d(A,"TOOLTIP_CSS_CONST",function(){return W})},"8Vus":function(Lt,A,i){"use strict";i.d(A,"a",function(){return b});var c=i("16OP"),a=i.n(c),M=i("7Nom"),O=i.n(M),x=i("YcyD"),D=i.n(x),E,S,p;(function(y){y.PANSTART="PANSTART",y.PANEND="PANEND",y.PANMOVE="PANMOVE",y.PINCH="PINCH",y.KEYDOWN="KEYDOWN",y.KEYUP="KEYUP",y.HOVER="HOVER"})(p||(p={}));var b=(E=Object(x.injectable)(),E(S=function(){function y(){a()(this,y)}return O()(y,[{key:"listen",value:function(I){}},{key:"on",value:function(I,g){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),y}())||S)},"8Z6n":function(Lt,A){Lt.exports=i;function i(){var M={};M._next=M._prev=M,this._sentinel=M}i.prototype.dequeue=function(){var M=this._sentinel,O=M._prev;if(O!==M)return c(O),O},i.prototype.enqueue=function(M){var O=this._sentinel;M._prev&&M._next&&c(M),M._next=O._next,O._next._prev=M,O._next=M,M._prev=O},i.prototype.toString=function(){for(var M=[],O=this._sentinel,x=O._prev;x!==O;)M.push(JSON.stringify(x,a)),x=x._prev;return"["+M.join(", ")+"]"};function c(M){M._prev._next=M._next,M._next._prev=M._prev,delete M._next,delete M._prev}function a(M,O){if(M!=="_next"&&M!=="_prev")return O}},"8ceh":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=a(i("2dy+"));function a(x){return x&&x.__esModule?x:{default:x}}var M=function(){function x(){this.linkedList=new c.default}return x.prototype.isEmpty=function(){return!this.linkedList.head},x.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},x.prototype.enqueue=function(D){this.linkedList.append(D)},x.prototype.dequeue=function(){var D=this.linkedList.deleteHead();return D?D.value:null},x.prototype.toString=function(D){return this.linkedList.toString(D)},x}(),O=M;A.default=O},"8e3m":function(Lt,A,i){"use strict";var c=function(){function a(M,O){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=M,this.name=M,this.originalEvent=O,this.timeStamp=O.timeStamp}return a.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.propagationStopped=!0},a.prototype.toString=function(){var M=this.type;return"[Event (type="+M+")]"},a.prototype.save=function(){},a.prototype.restore=function(){},a}();A.a=c},"8h7j":function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=i("CMID"),a=i("GgvZ"),M=i("P4df"),O=i("crRF"),x=i("Jze/"),D=Object(x.c)({},a.b.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),E=i("uvO5"),S=function(p){Object(c.__extends)(b,p);function b(){var y=p!==null&&p.apply(this,arguments)||this;return y.type="bar",y}return b.getDefaultOptions=function(){return D},b.prototype.changeData=function(y){this.updateOption({data:y});var C=this,I=C.chart,g=C.options,R=g.xField,U=g.yField,W=g.isPercent,z=Object(c.__assign)(Object(c.__assign)({},g),{xField:U,yField:R});Object(O.b)({chart:I,options:z}),I.changeData(Object(M.a)(Object(E.a)(y),R,U,R,W))},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b.prototype.getSchemaAdaptor=function(){return O.a},b}(a.b)},"8hqx":function(Lt,A,i){Lt.exports=i("KAHC")},"8uxG":function(Lt,A,i){"use strict";i.d(A,"a",function(){return O}),i.d(A,"b",function(){return x});var c=i("8Mtd"),a=i("dRIm");function M(D,E){return D.map(function(S,p){var b;return b={},b[a.g]=S-(D[p-1]||0),b[a.f]=""+p,b[a.e]=E,b}).filter(function(S){return!!S[a.g]})}function O(D){var E;return[(E={},E[a.e]=Object(c.clamp)(D,0,1),E)]}function x(D,E){var S=Object(c.get)(E,["ticks"],[]),p=Object(c.size)(S)?S:[0,Object(c.clamp)(D,0,1),1];return M(p,D)}},"99LQ":function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"b",function(){return a}),i.d(A,"c",function(){return O}),i.d(A,"d",function(){return Wl}),i.d(A,"e",function(){return $r}),i.d(A,"f",function(){return M});var c={};i.r(c),i.d(c,"create",function(){return D}),i.d(c,"fromMat4",function(){return E}),i.d(c,"clone",function(){return S}),i.d(c,"copy",function(){return p}),i.d(c,"fromValues",function(){return b}),i.d(c,"set",function(){return y}),i.d(c,"identity",function(){return C}),i.d(c,"transpose",function(){return I}),i.d(c,"invert",function(){return g}),i.d(c,"adjoint",function(){return R}),i.d(c,"determinant",function(){return U}),i.d(c,"multiply",function(){return W}),i.d(c,"translate",function(){return z}),i.d(c,"rotate",function(){return B}),i.d(c,"scale",function(){return L}),i.d(c,"fromTranslation",function(){return w}),i.d(c,"fromRotation",function(){return F}),i.d(c,"fromScaling",function(){return V}),i.d(c,"fromMat2d",function(){return Y}),i.d(c,"fromQuat",function(){return tt}),i.d(c,"normalFromMat4",function(){return q}),i.d(c,"projection",function(){return H}),i.d(c,"str",function(){return Q}),i.d(c,"frob",function(){return k}),i.d(c,"add",function(){return K}),i.d(c,"subtract",function(){return nt}),i.d(c,"multiplyScalar",function(){return lt}),i.d(c,"multiplyScalarAndAdd",function(){return ut}),i.d(c,"exactEquals",function(){return rt}),i.d(c,"equals",function(){return ot}),i.d(c,"mul",function(){return dt}),i.d(c,"sub",function(){return Mt});var a={};i.r(a),i.d(a,"create",function(){return Nt}),i.d(a,"clone",function(){return ht}),i.d(a,"copy",function(){return yt}),i.d(a,"fromValues",function(){return ft}),i.d(a,"set",function(){return st}),i.d(a,"identity",function(){return xt}),i.d(a,"transpose",function(){return gt}),i.d(a,"invert",function(){return At}),i.d(a,"adjoint",function(){return pt}),i.d(a,"determinant",function(){return _}),i.d(a,"multiply",function(){return $}),i.d(a,"translate",function(){return bt}),i.d(a,"scale",function(){return it}),i.d(a,"rotate",function(){return Ot}),i.d(a,"rotateX",function(){return Pt}),i.d(a,"rotateY",function(){return Rt}),i.d(a,"rotateZ",function(){return Vt}),i.d(a,"fromTranslation",function(){return kt}),i.d(a,"fromScaling",function(){return Wt}),i.d(a,"fromRotation",function(){return wt}),i.d(a,"fromXRotation",function(){return ct}),i.d(a,"fromYRotation",function(){return jt}),i.d(a,"fromZRotation",function(){return Xt}),i.d(a,"fromRotationTranslation",function(){return It}),i.d(a,"fromQuat2",function(){return Ut}),i.d(a,"getTranslation",function(){return $t}),i.d(a,"getScaling",function(){return Ft}),i.d(a,"getRotation",function(){return Kt}),i.d(a,"fromRotationTranslationScale",function(){return ee}),i.d(a,"fromRotationTranslationScaleOrigin",function(){return ce}),i.d(a,"fromQuat",function(){return Se}),i.d(a,"frustum",function(){return Ce}),i.d(a,"perspective",function(){return Ge}),i.d(a,"perspectiveFromFieldOfView",function(){return hr}),i.d(a,"ortho",function(){return dr}),i.d(a,"lookAt",function(){return ar}),i.d(a,"targetTo",function(){return qe}),i.d(a,"str",function(){return Xe}),i.d(a,"frob",function(){return ur}),i.d(a,"add",function(){return zr}),i.d(a,"subtract",function(){return ir}),i.d(a,"multiplyScalar",function(){return qr}),i.d(a,"multiplyScalarAndAdd",function(){return Mr}),i.d(a,"exactEquals",function(){return Br}),i.d(a,"equals",function(){return ze}),i.d(a,"mul",function(){return Or}),i.d(a,"sub",function(){return Nr});var M={};i.r(M),i.d(M,"create",function(){return Kr}),i.d(M,"clone",function(){return Un}),i.d(M,"fromValues",function(){return ti}),i.d(M,"copy",function(){return wn}),i.d(M,"set",function(){return Bn}),i.d(M,"add",function(){return kn}),i.d(M,"subtract",function(){return ei}),i.d(M,"multiply",function(){return In}),i.d(M,"divide",function(){return ai}),i.d(M,"ceil",function(){return ga}),i.d(M,"floor",function(){return Da}),i.d(M,"min",function(){return Sa}),i.d(M,"max",function(){return Gi}),i.d(M,"round",function(){return Ma}),i.d(M,"scale",function(){return Ri}),i.d(M,"scaleAndAdd",function(){return ca}),i.d(M,"distance",function(){return Di}),i.d(M,"squaredDistance",function(){return Ca}),i.d(M,"length",function(){return pa}),i.d(M,"squaredLength",function(){return Wa}),i.d(M,"negate",function(){return oo}),i.d(M,"inverse",function(){return po}),i.d(M,"normalize",function(){return Xa}),i.d(M,"dot",function(){return os}),i.d(M,"cross",function(){return $o}),i.d(M,"lerp",function(){return Xo}),i.d(M,"random",function(){return Ol}),i.d(M,"transformMat4",function(){return ba}),i.d(M,"transformQuat",function(){return xl}),i.d(M,"zero",function(){return El}),i.d(M,"str",function(){return ss}),i.d(M,"exactEquals",function(){return ys}),i.d(M,"equals",function(){return nl}),i.d(M,"sub",function(){return ri}),i.d(M,"mul",function(){return Gl}),i.d(M,"div",function(){return Yo}),i.d(M,"dist",function(){return Us}),i.d(M,"sqrDist",function(){return Ws}),i.d(M,"len",function(){return il}),i.d(M,"sqrLen",function(){return ls}),i.d(M,"forEach",function(){return ne});var O={};i.r(O),i.d(O,"create",function(){return de}),i.d(O,"identity",function(){return Oe}),i.d(O,"setAxisAngle",function(){return Ue}),i.d(O,"getAxisAngle",function(){return Ve}),i.d(O,"getAngle",function(){return sr}),i.d(O,"multiply",function(){return wr}),i.d(O,"rotateX",function(){return Vr}),i.d(O,"rotateY",function(){return On}),i.d(O,"rotateZ",function(){return Wn}),i.d(O,"calculateW",function(){return Nn}),i.d(O,"exp",function(){return Pi}),i.d(O,"ln",function(){return zi}),i.d(O,"pow",function(){return Ia}),i.d(O,"slerp",function(){return ki}),i.d(O,"random",function(){return fa}),i.d(O,"invert",function(){return so}),i.d(O,"conjugate",function(){return Co}),i.d(O,"fromMat3",function(){return oe}),i.d(O,"fromEuler",function(){return ms}),i.d(O,"str",function(){return lo}),i.d(O,"clone",function(){return ha}),i.d(O,"fromValues",function(){return Za}),i.d(O,"copy",function(){return yo}),i.d(O,"set",function(){return ci}),i.d(O,"add",function(){return mo}),i.d(O,"mul",function(){return Ao}),i.d(O,"scale",function(){return us}),i.d(O,"dot",function(){return wo}),i.d(O,"lerp",function(){return bs}),i.d(O,"length",function(){return eo}),i.d(O,"len",function(){return Os}),i.d(O,"squaredLength",function(){return To}),i.d(O,"sqrLen",function(){return La}),i.d(O,"normalize",function(){return ro}),i.d(O,"exactEquals",function(){return bo}),i.d(O,"equals",function(){return zs}),i.d(O,"rotationTo",function(){return Ul}),i.d(O,"sqlerp",function(){return Sl}),i.d(O,"setAxes",function(){return Ml});var x=i("TaHB");function D(){var X=new x.a(9);return x.a!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[5]=0,X[6]=0,X[7]=0),X[0]=1,X[4]=1,X[8]=1,X}function E(X,Et){return X[0]=Et[0],X[1]=Et[1],X[2]=Et[2],X[3]=Et[4],X[4]=Et[5],X[5]=Et[6],X[6]=Et[8],X[7]=Et[9],X[8]=Et[10],X}function S(X){var Et=new x.a(9);return Et[0]=X[0],Et[1]=X[1],Et[2]=X[2],Et[3]=X[3],Et[4]=X[4],Et[5]=X[5],Et[6]=X[6],Et[7]=X[7],Et[8]=X[8],Et}function p(X,Et){return X[0]=Et[0],X[1]=Et[1],X[2]=Et[2],X[3]=Et[3],X[4]=Et[4],X[5]=Et[5],X[6]=Et[6],X[7]=Et[7],X[8]=Et[8],X}function b(X,Et,Qt,re,fe,be,Ie,we,Fe){var $e=new x.a(9);return $e[0]=X,$e[1]=Et,$e[2]=Qt,$e[3]=re,$e[4]=fe,$e[5]=be,$e[6]=Ie,$e[7]=we,$e[8]=Fe,$e}function y(X,Et,Qt,re,fe,be,Ie,we,Fe,$e){return X[0]=Et,X[1]=Qt,X[2]=re,X[3]=fe,X[4]=be,X[5]=Ie,X[6]=we,X[7]=Fe,X[8]=$e,X}function C(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function I(X,Et){if(X===Et){var Qt=Et[1],re=Et[2],fe=Et[5];X[1]=Et[3],X[2]=Et[6],X[3]=Qt,X[5]=Et[7],X[6]=re,X[7]=fe}else X[0]=Et[0],X[1]=Et[3],X[2]=Et[6],X[3]=Et[1],X[4]=Et[4],X[5]=Et[7],X[6]=Et[2],X[7]=Et[5],X[8]=Et[8];return X}function g(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Et[4],we=Et[5],Fe=Et[6],$e=Et[7],_e=Et[8],Ar=_e*Ie-we*$e,Cr=-_e*be+we*Fe,Sr=$e*be-Ie*Fe,Zr=Qt*Ar+re*Cr+fe*Sr;return Zr?(Zr=1/Zr,X[0]=Ar*Zr,X[1]=(-_e*re+fe*$e)*Zr,X[2]=(we*re-fe*Ie)*Zr,X[3]=Cr*Zr,X[4]=(_e*Qt-fe*Fe)*Zr,X[5]=(-we*Qt+fe*be)*Zr,X[6]=Sr*Zr,X[7]=(-$e*Qt+re*Fe)*Zr,X[8]=(Ie*Qt-re*be)*Zr,X):null}function R(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Et[4],we=Et[5],Fe=Et[6],$e=Et[7],_e=Et[8];return X[0]=Ie*_e-we*$e,X[1]=fe*$e-re*_e,X[2]=re*we-fe*Ie,X[3]=we*Fe-be*_e,X[4]=Qt*_e-fe*Fe,X[5]=fe*be-Qt*we,X[6]=be*$e-Ie*Fe,X[7]=re*Fe-Qt*$e,X[8]=Qt*Ie-re*be,X}function U(X){var Et=X[0],Qt=X[1],re=X[2],fe=X[3],be=X[4],Ie=X[5],we=X[6],Fe=X[7],$e=X[8];return Et*($e*be-Ie*Fe)+Qt*(-$e*fe+Ie*we)+re*(Fe*fe-be*we)}function W(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Et[4],Fe=Et[5],$e=Et[6],_e=Et[7],Ar=Et[8],Cr=Qt[0],Sr=Qt[1],Zr=Qt[2],fn=Qt[3],Dr=Qt[4],Dn=Qt[5],bi=Qt[6],Zn=Qt[7],Qn=Qt[8];return X[0]=Cr*re+Sr*Ie+Zr*$e,X[1]=Cr*fe+Sr*we+Zr*_e,X[2]=Cr*be+Sr*Fe+Zr*Ar,X[3]=fn*re+Dr*Ie+Dn*$e,X[4]=fn*fe+Dr*we+Dn*_e,X[5]=fn*be+Dr*Fe+Dn*Ar,X[6]=bi*re+Zn*Ie+Qn*$e,X[7]=bi*fe+Zn*we+Qn*_e,X[8]=bi*be+Zn*Fe+Qn*Ar,X}function z(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Et[4],Fe=Et[5],$e=Et[6],_e=Et[7],Ar=Et[8],Cr=Qt[0],Sr=Qt[1];return X[0]=re,X[1]=fe,X[2]=be,X[3]=Ie,X[4]=we,X[5]=Fe,X[6]=Cr*re+Sr*Ie+$e,X[7]=Cr*fe+Sr*we+_e,X[8]=Cr*be+Sr*Fe+Ar,X}function B(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Et[4],Fe=Et[5],$e=Et[6],_e=Et[7],Ar=Et[8],Cr=Math.sin(Qt),Sr=Math.cos(Qt);return X[0]=Sr*re+Cr*Ie,X[1]=Sr*fe+Cr*we,X[2]=Sr*be+Cr*Fe,X[3]=Sr*Ie-Cr*re,X[4]=Sr*we-Cr*fe,X[5]=Sr*Fe-Cr*be,X[6]=$e,X[7]=_e,X[8]=Ar,X}function L(X,Et,Qt){var re=Qt[0],fe=Qt[1];return X[0]=re*Et[0],X[1]=re*Et[1],X[2]=re*Et[2],X[3]=fe*Et[3],X[4]=fe*Et[4],X[5]=fe*Et[5],X[6]=Et[6],X[7]=Et[7],X[8]=Et[8],X}function w(X,Et){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=Et[0],X[7]=Et[1],X[8]=1,X}function F(X,Et){var Qt=Math.sin(Et),re=Math.cos(Et);return X[0]=re,X[1]=Qt,X[2]=0,X[3]=-Qt,X[4]=re,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function V(X,Et){return X[0]=Et[0],X[1]=0,X[2]=0,X[3]=0,X[4]=Et[1],X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function Y(X,Et){return X[0]=Et[0],X[1]=Et[1],X[2]=0,X[3]=Et[2],X[4]=Et[3],X[5]=0,X[6]=Et[4],X[7]=Et[5],X[8]=1,X}function tt(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Qt+Qt,we=re+re,Fe=fe+fe,$e=Qt*Ie,_e=re*Ie,Ar=re*we,Cr=fe*Ie,Sr=fe*we,Zr=fe*Fe,fn=be*Ie,Dr=be*we,Dn=be*Fe;return X[0]=1-Ar-Zr,X[3]=_e-Dn,X[6]=Cr+Dr,X[1]=_e+Dn,X[4]=1-$e-Zr,X[7]=Sr-fn,X[2]=Cr-Dr,X[5]=Sr+fn,X[8]=1-$e-Ar,X}function q(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Et[4],we=Et[5],Fe=Et[6],$e=Et[7],_e=Et[8],Ar=Et[9],Cr=Et[10],Sr=Et[11],Zr=Et[12],fn=Et[13],Dr=Et[14],Dn=Et[15],bi=Qt*we-re*Ie,Zn=Qt*Fe-fe*Ie,Qn=Qt*$e-be*Ie,qn=re*Fe-fe*we,ni=re*$e-be*we,gi=fe*$e-be*Fe,Xi=_e*fn-Ar*Zr,ia=_e*Dr-Cr*Zr,Ii=_e*Dn-Sr*Zr,aa=Ar*Dr-Cr*fn,Yi=Ar*Dn-Sr*fn,Hi=Cr*Dn-Sr*Dr,yi=bi*Hi-Zn*Yi+Qn*aa+qn*Ii-ni*ia+gi*Xi;return yi?(yi=1/yi,X[0]=(we*Hi-Fe*Yi+$e*aa)*yi,X[1]=(Fe*Ii-Ie*Hi-$e*ia)*yi,X[2]=(Ie*Yi-we*Ii+$e*Xi)*yi,X[3]=(fe*Yi-re*Hi-be*aa)*yi,X[4]=(Qt*Hi-fe*Ii+be*ia)*yi,X[5]=(re*Ii-Qt*Yi-be*Xi)*yi,X[6]=(fn*gi-Dr*ni+Dn*qn)*yi,X[7]=(Dr*Qn-Zr*gi-Dn*Zn)*yi,X[8]=(Zr*ni-fn*Qn+Dn*bi)*yi,X):null}function H(X,Et,Qt){return X[0]=2/Et,X[1]=0,X[2]=0,X[3]=0,X[4]=-2/Qt,X[5]=0,X[6]=-1,X[7]=1,X[8]=1,X}function Q(X){return"mat3("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+", "+X[4]+", "+X[5]+", "+X[6]+", "+X[7]+", "+X[8]+")"}function k(X){return Math.hypot(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8])}function K(X,Et,Qt){return X[0]=Et[0]+Qt[0],X[1]=Et[1]+Qt[1],X[2]=Et[2]+Qt[2],X[3]=Et[3]+Qt[3],X[4]=Et[4]+Qt[4],X[5]=Et[5]+Qt[5],X[6]=Et[6]+Qt[6],X[7]=Et[7]+Qt[7],X[8]=Et[8]+Qt[8],X}function nt(X,Et,Qt){return X[0]=Et[0]-Qt[0],X[1]=Et[1]-Qt[1],X[2]=Et[2]-Qt[2],X[3]=Et[3]-Qt[3],X[4]=Et[4]-Qt[4],X[5]=Et[5]-Qt[5],X[6]=Et[6]-Qt[6],X[7]=Et[7]-Qt[7],X[8]=Et[8]-Qt[8],X}function lt(X,Et,Qt){return X[0]=Et[0]*Qt,X[1]=Et[1]*Qt,X[2]=Et[2]*Qt,X[3]=Et[3]*Qt,X[4]=Et[4]*Qt,X[5]=Et[5]*Qt,X[6]=Et[6]*Qt,X[7]=Et[7]*Qt,X[8]=Et[8]*Qt,X}function ut(X,Et,Qt,re){return X[0]=Et[0]+Qt[0]*re,X[1]=Et[1]+Qt[1]*re,X[2]=Et[2]+Qt[2]*re,X[3]=Et[3]+Qt[3]*re,X[4]=Et[4]+Qt[4]*re,X[5]=Et[5]+Qt[5]*re,X[6]=Et[6]+Qt[6]*re,X[7]=Et[7]+Qt[7]*re,X[8]=Et[8]+Qt[8]*re,X}function rt(X,Et){return X[0]===Et[0]&&X[1]===Et[1]&&X[2]===Et[2]&&X[3]===Et[3]&&X[4]===Et[4]&&X[5]===Et[5]&&X[6]===Et[6]&&X[7]===Et[7]&&X[8]===Et[8]}function ot(X,Et){var Qt=X[0],re=X[1],fe=X[2],be=X[3],Ie=X[4],we=X[5],Fe=X[6],$e=X[7],_e=X[8],Ar=Et[0],Cr=Et[1],Sr=Et[2],Zr=Et[3],fn=Et[4],Dr=Et[5],Dn=Et[6],bi=Et[7],Zn=Et[8];return Math.abs(Qt-Ar)<=x.b*Math.max(1,Math.abs(Qt),Math.abs(Ar))&&Math.abs(re-Cr)<=x.b*Math.max(1,Math.abs(re),Math.abs(Cr))&&Math.abs(fe-Sr)<=x.b*Math.max(1,Math.abs(fe),Math.abs(Sr))&&Math.abs(be-Zr)<=x.b*Math.max(1,Math.abs(be),Math.abs(Zr))&&Math.abs(Ie-fn)<=x.b*Math.max(1,Math.abs(Ie),Math.abs(fn))&&Math.abs(we-Dr)<=x.b*Math.max(1,Math.abs(we),Math.abs(Dr))&&Math.abs(Fe-Dn)<=x.b*Math.max(1,Math.abs(Fe),Math.abs(Dn))&&Math.abs($e-bi)<=x.b*Math.max(1,Math.abs($e),Math.abs(bi))&&Math.abs(_e-Zn)<=x.b*Math.max(1,Math.abs(_e),Math.abs(Zn))}var dt=W,Mt=nt;function Nt(){var X=new x.a(16);return x.a!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[11]=0,X[12]=0,X[13]=0,X[14]=0),X[0]=1,X[5]=1,X[10]=1,X[15]=1,X}function ht(X){var Et=new x.a(16);return Et[0]=X[0],Et[1]=X[1],Et[2]=X[2],Et[3]=X[3],Et[4]=X[4],Et[5]=X[5],Et[6]=X[6],Et[7]=X[7],Et[8]=X[8],Et[9]=X[9],Et[10]=X[10],Et[11]=X[11],Et[12]=X[12],Et[13]=X[13],Et[14]=X[14],Et[15]=X[15],Et}function yt(X,Et){return X[0]=Et[0],X[1]=Et[1],X[2]=Et[2],X[3]=Et[3],X[4]=Et[4],X[5]=Et[5],X[6]=Et[6],X[7]=Et[7],X[8]=Et[8],X[9]=Et[9],X[10]=Et[10],X[11]=Et[11],X[12]=Et[12],X[13]=Et[13],X[14]=Et[14],X[15]=Et[15],X}function ft(X,Et,Qt,re,fe,be,Ie,we,Fe,$e,_e,Ar,Cr,Sr,Zr,fn){var Dr=new x.a(16);return Dr[0]=X,Dr[1]=Et,Dr[2]=Qt,Dr[3]=re,Dr[4]=fe,Dr[5]=be,Dr[6]=Ie,Dr[7]=we,Dr[8]=Fe,Dr[9]=$e,Dr[10]=_e,Dr[11]=Ar,Dr[12]=Cr,Dr[13]=Sr,Dr[14]=Zr,Dr[15]=fn,Dr}function st(X,Et,Qt,re,fe,be,Ie,we,Fe,$e,_e,Ar,Cr,Sr,Zr,fn,Dr){return X[0]=Et,X[1]=Qt,X[2]=re,X[3]=fe,X[4]=be,X[5]=Ie,X[6]=we,X[7]=Fe,X[8]=$e,X[9]=_e,X[10]=Ar,X[11]=Cr,X[12]=Sr,X[13]=Zr,X[14]=fn,X[15]=Dr,X}function xt(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function gt(X,Et){if(X===Et){var Qt=Et[1],re=Et[2],fe=Et[3],be=Et[6],Ie=Et[7],we=Et[11];X[1]=Et[4],X[2]=Et[8],X[3]=Et[12],X[4]=Qt,X[6]=Et[9],X[7]=Et[13],X[8]=re,X[9]=be,X[11]=Et[14],X[12]=fe,X[13]=Ie,X[14]=we}else X[0]=Et[0],X[1]=Et[4],X[2]=Et[8],X[3]=Et[12],X[4]=Et[1],X[5]=Et[5],X[6]=Et[9],X[7]=Et[13],X[8]=Et[2],X[9]=Et[6],X[10]=Et[10],X[11]=Et[14],X[12]=Et[3],X[13]=Et[7],X[14]=Et[11],X[15]=Et[15];return X}function At(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Et[4],we=Et[5],Fe=Et[6],$e=Et[7],_e=Et[8],Ar=Et[9],Cr=Et[10],Sr=Et[11],Zr=Et[12],fn=Et[13],Dr=Et[14],Dn=Et[15],bi=Qt*we-re*Ie,Zn=Qt*Fe-fe*Ie,Qn=Qt*$e-be*Ie,qn=re*Fe-fe*we,ni=re*$e-be*we,gi=fe*$e-be*Fe,Xi=_e*fn-Ar*Zr,ia=_e*Dr-Cr*Zr,Ii=_e*Dn-Sr*Zr,aa=Ar*Dr-Cr*fn,Yi=Ar*Dn-Sr*fn,Hi=Cr*Dn-Sr*Dr,yi=bi*Hi-Zn*Yi+Qn*aa+qn*Ii-ni*ia+gi*Xi;return yi?(yi=1/yi,X[0]=(we*Hi-Fe*Yi+$e*aa)*yi,X[1]=(fe*Yi-re*Hi-be*aa)*yi,X[2]=(fn*gi-Dr*ni+Dn*qn)*yi,X[3]=(Cr*ni-Ar*gi-Sr*qn)*yi,X[4]=(Fe*Ii-Ie*Hi-$e*ia)*yi,X[5]=(Qt*Hi-fe*Ii+be*ia)*yi,X[6]=(Dr*Qn-Zr*gi-Dn*Zn)*yi,X[7]=(_e*gi-Cr*Qn+Sr*Zn)*yi,X[8]=(Ie*Yi-we*Ii+$e*Xi)*yi,X[9]=(re*Ii-Qt*Yi-be*Xi)*yi,X[10]=(Zr*ni-fn*Qn+Dn*bi)*yi,X[11]=(Ar*Qn-_e*ni-Sr*bi)*yi,X[12]=(we*ia-Ie*aa-Fe*Xi)*yi,X[13]=(Qt*aa-re*ia+fe*Xi)*yi,X[14]=(fn*Zn-Zr*qn-Dr*bi)*yi,X[15]=(_e*qn-Ar*Zn+Cr*bi)*yi,X):null}function pt(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Et[4],we=Et[5],Fe=Et[6],$e=Et[7],_e=Et[8],Ar=Et[9],Cr=Et[10],Sr=Et[11],Zr=Et[12],fn=Et[13],Dr=Et[14],Dn=Et[15];return X[0]=we*(Cr*Dn-Sr*Dr)-Ar*(Fe*Dn-$e*Dr)+fn*(Fe*Sr-$e*Cr),X[1]=-(re*(Cr*Dn-Sr*Dr)-Ar*(fe*Dn-be*Dr)+fn*(fe*Sr-be*Cr)),X[2]=re*(Fe*Dn-$e*Dr)-we*(fe*Dn-be*Dr)+fn*(fe*$e-be*Fe),X[3]=-(re*(Fe*Sr-$e*Cr)-we*(fe*Sr-be*Cr)+Ar*(fe*$e-be*Fe)),X[4]=-(Ie*(Cr*Dn-Sr*Dr)-_e*(Fe*Dn-$e*Dr)+Zr*(Fe*Sr-$e*Cr)),X[5]=Qt*(Cr*Dn-Sr*Dr)-_e*(fe*Dn-be*Dr)+Zr*(fe*Sr-be*Cr),X[6]=-(Qt*(Fe*Dn-$e*Dr)-Ie*(fe*Dn-be*Dr)+Zr*(fe*$e-be*Fe)),X[7]=Qt*(Fe*Sr-$e*Cr)-Ie*(fe*Sr-be*Cr)+_e*(fe*$e-be*Fe),X[8]=Ie*(Ar*Dn-Sr*fn)-_e*(we*Dn-$e*fn)+Zr*(we*Sr-$e*Ar),X[9]=-(Qt*(Ar*Dn-Sr*fn)-_e*(re*Dn-be*fn)+Zr*(re*Sr-be*Ar)),X[10]=Qt*(we*Dn-$e*fn)-Ie*(re*Dn-be*fn)+Zr*(re*$e-be*we),X[11]=-(Qt*(we*Sr-$e*Ar)-Ie*(re*Sr-be*Ar)+_e*(re*$e-be*we)),X[12]=-(Ie*(Ar*Dr-Cr*fn)-_e*(we*Dr-Fe*fn)+Zr*(we*Cr-Fe*Ar)),X[13]=Qt*(Ar*Dr-Cr*fn)-_e*(re*Dr-fe*fn)+Zr*(re*Cr-fe*Ar),X[14]=-(Qt*(we*Dr-Fe*fn)-Ie*(re*Dr-fe*fn)+Zr*(re*Fe-fe*we)),X[15]=Qt*(we*Cr-Fe*Ar)-Ie*(re*Cr-fe*Ar)+_e*(re*Fe-fe*we),X}function _(X){var Et=X[0],Qt=X[1],re=X[2],fe=X[3],be=X[4],Ie=X[5],we=X[6],Fe=X[7],$e=X[8],_e=X[9],Ar=X[10],Cr=X[11],Sr=X[12],Zr=X[13],fn=X[14],Dr=X[15],Dn=Et*Ie-Qt*be,bi=Et*we-re*be,Zn=Et*Fe-fe*be,Qn=Qt*we-re*Ie,qn=Qt*Fe-fe*Ie,ni=re*Fe-fe*we,gi=$e*Zr-_e*Sr,Xi=$e*fn-Ar*Sr,ia=$e*Dr-Cr*Sr,Ii=_e*fn-Ar*Zr,aa=_e*Dr-Cr*Zr,Yi=Ar*Dr-Cr*fn;return Dn*Yi-bi*aa+Zn*Ii+Qn*ia-qn*Xi+ni*gi}function $(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Et[4],Fe=Et[5],$e=Et[6],_e=Et[7],Ar=Et[8],Cr=Et[9],Sr=Et[10],Zr=Et[11],fn=Et[12],Dr=Et[13],Dn=Et[14],bi=Et[15],Zn=Qt[0],Qn=Qt[1],qn=Qt[2],ni=Qt[3];return X[0]=Zn*re+Qn*we+qn*Ar+ni*fn,X[1]=Zn*fe+Qn*Fe+qn*Cr+ni*Dr,X[2]=Zn*be+Qn*$e+qn*Sr+ni*Dn,X[3]=Zn*Ie+Qn*_e+qn*Zr+ni*bi,Zn=Qt[4],Qn=Qt[5],qn=Qt[6],ni=Qt[7],X[4]=Zn*re+Qn*we+qn*Ar+ni*fn,X[5]=Zn*fe+Qn*Fe+qn*Cr+ni*Dr,X[6]=Zn*be+Qn*$e+qn*Sr+ni*Dn,X[7]=Zn*Ie+Qn*_e+qn*Zr+ni*bi,Zn=Qt[8],Qn=Qt[9],qn=Qt[10],ni=Qt[11],X[8]=Zn*re+Qn*we+qn*Ar+ni*fn,X[9]=Zn*fe+Qn*Fe+qn*Cr+ni*Dr,X[10]=Zn*be+Qn*$e+qn*Sr+ni*Dn,X[11]=Zn*Ie+Qn*_e+qn*Zr+ni*bi,Zn=Qt[12],Qn=Qt[13],qn=Qt[14],ni=Qt[15],X[12]=Zn*re+Qn*we+qn*Ar+ni*fn,X[13]=Zn*fe+Qn*Fe+qn*Cr+ni*Dr,X[14]=Zn*be+Qn*$e+qn*Sr+ni*Dn,X[15]=Zn*Ie+Qn*_e+qn*Zr+ni*bi,X}function bt(X,Et,Qt){var re=Qt[0],fe=Qt[1],be=Qt[2],Ie,we,Fe,$e,_e,Ar,Cr,Sr,Zr,fn,Dr,Dn;return Et===X?(X[12]=Et[0]*re+Et[4]*fe+Et[8]*be+Et[12],X[13]=Et[1]*re+Et[5]*fe+Et[9]*be+Et[13],X[14]=Et[2]*re+Et[6]*fe+Et[10]*be+Et[14],X[15]=Et[3]*re+Et[7]*fe+Et[11]*be+Et[15]):(Ie=Et[0],we=Et[1],Fe=Et[2],$e=Et[3],_e=Et[4],Ar=Et[5],Cr=Et[6],Sr=Et[7],Zr=Et[8],fn=Et[9],Dr=Et[10],Dn=Et[11],X[0]=Ie,X[1]=we,X[2]=Fe,X[3]=$e,X[4]=_e,X[5]=Ar,X[6]=Cr,X[7]=Sr,X[8]=Zr,X[9]=fn,X[10]=Dr,X[11]=Dn,X[12]=Ie*re+_e*fe+Zr*be+Et[12],X[13]=we*re+Ar*fe+fn*be+Et[13],X[14]=Fe*re+Cr*fe+Dr*be+Et[14],X[15]=$e*re+Sr*fe+Dn*be+Et[15]),X}function it(X,Et,Qt){var re=Qt[0],fe=Qt[1],be=Qt[2];return X[0]=Et[0]*re,X[1]=Et[1]*re,X[2]=Et[2]*re,X[3]=Et[3]*re,X[4]=Et[4]*fe,X[5]=Et[5]*fe,X[6]=Et[6]*fe,X[7]=Et[7]*fe,X[8]=Et[8]*be,X[9]=Et[9]*be,X[10]=Et[10]*be,X[11]=Et[11]*be,X[12]=Et[12],X[13]=Et[13],X[14]=Et[14],X[15]=Et[15],X}function Ot(X,Et,Qt,re){var fe=re[0],be=re[1],Ie=re[2],we=Math.hypot(fe,be,Ie),Fe,$e,_e,Ar,Cr,Sr,Zr,fn,Dr,Dn,bi,Zn,Qn,qn,ni,gi,Xi,ia,Ii,aa,Yi,Hi,yi,te;return we<x.b?null:(we=1/we,fe*=we,be*=we,Ie*=we,Fe=Math.sin(Qt),$e=Math.cos(Qt),_e=1-$e,Ar=Et[0],Cr=Et[1],Sr=Et[2],Zr=Et[3],fn=Et[4],Dr=Et[5],Dn=Et[6],bi=Et[7],Zn=Et[8],Qn=Et[9],qn=Et[10],ni=Et[11],gi=fe*fe*_e+$e,Xi=be*fe*_e+Ie*Fe,ia=Ie*fe*_e-be*Fe,Ii=fe*be*_e-Ie*Fe,aa=be*be*_e+$e,Yi=Ie*be*_e+fe*Fe,Hi=fe*Ie*_e+be*Fe,yi=be*Ie*_e-fe*Fe,te=Ie*Ie*_e+$e,X[0]=Ar*gi+fn*Xi+Zn*ia,X[1]=Cr*gi+Dr*Xi+Qn*ia,X[2]=Sr*gi+Dn*Xi+qn*ia,X[3]=Zr*gi+bi*Xi+ni*ia,X[4]=Ar*Ii+fn*aa+Zn*Yi,X[5]=Cr*Ii+Dr*aa+Qn*Yi,X[6]=Sr*Ii+Dn*aa+qn*Yi,X[7]=Zr*Ii+bi*aa+ni*Yi,X[8]=Ar*Hi+fn*yi+Zn*te,X[9]=Cr*Hi+Dr*yi+Qn*te,X[10]=Sr*Hi+Dn*yi+qn*te,X[11]=Zr*Hi+bi*yi+ni*te,Et!==X&&(X[12]=Et[12],X[13]=Et[13],X[14]=Et[14],X[15]=Et[15]),X)}function Pt(X,Et,Qt){var re=Math.sin(Qt),fe=Math.cos(Qt),be=Et[4],Ie=Et[5],we=Et[6],Fe=Et[7],$e=Et[8],_e=Et[9],Ar=Et[10],Cr=Et[11];return Et!==X&&(X[0]=Et[0],X[1]=Et[1],X[2]=Et[2],X[3]=Et[3],X[12]=Et[12],X[13]=Et[13],X[14]=Et[14],X[15]=Et[15]),X[4]=be*fe+$e*re,X[5]=Ie*fe+_e*re,X[6]=we*fe+Ar*re,X[7]=Fe*fe+Cr*re,X[8]=$e*fe-be*re,X[9]=_e*fe-Ie*re,X[10]=Ar*fe-we*re,X[11]=Cr*fe-Fe*re,X}function Rt(X,Et,Qt){var re=Math.sin(Qt),fe=Math.cos(Qt),be=Et[0],Ie=Et[1],we=Et[2],Fe=Et[3],$e=Et[8],_e=Et[9],Ar=Et[10],Cr=Et[11];return Et!==X&&(X[4]=Et[4],X[5]=Et[5],X[6]=Et[6],X[7]=Et[7],X[12]=Et[12],X[13]=Et[13],X[14]=Et[14],X[15]=Et[15]),X[0]=be*fe-$e*re,X[1]=Ie*fe-_e*re,X[2]=we*fe-Ar*re,X[3]=Fe*fe-Cr*re,X[8]=be*re+$e*fe,X[9]=Ie*re+_e*fe,X[10]=we*re+Ar*fe,X[11]=Fe*re+Cr*fe,X}function Vt(X,Et,Qt){var re=Math.sin(Qt),fe=Math.cos(Qt),be=Et[0],Ie=Et[1],we=Et[2],Fe=Et[3],$e=Et[4],_e=Et[5],Ar=Et[6],Cr=Et[7];return Et!==X&&(X[8]=Et[8],X[9]=Et[9],X[10]=Et[10],X[11]=Et[11],X[12]=Et[12],X[13]=Et[13],X[14]=Et[14],X[15]=Et[15]),X[0]=be*fe+$e*re,X[1]=Ie*fe+_e*re,X[2]=we*fe+Ar*re,X[3]=Fe*fe+Cr*re,X[4]=$e*fe-be*re,X[5]=_e*fe-Ie*re,X[6]=Ar*fe-we*re,X[7]=Cr*fe-Fe*re,X}function kt(X,Et){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=Et[0],X[13]=Et[1],X[14]=Et[2],X[15]=1,X}function Wt(X,Et){return X[0]=Et[0],X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=Et[1],X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=Et[2],X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function wt(X,Et,Qt){var re=Qt[0],fe=Qt[1],be=Qt[2],Ie=Math.hypot(re,fe,be),we,Fe,$e;return Ie<x.b?null:(Ie=1/Ie,re*=Ie,fe*=Ie,be*=Ie,we=Math.sin(Et),Fe=Math.cos(Et),$e=1-Fe,X[0]=re*re*$e+Fe,X[1]=fe*re*$e+be*we,X[2]=be*re*$e-fe*we,X[3]=0,X[4]=re*fe*$e-be*we,X[5]=fe*fe*$e+Fe,X[6]=be*fe*$e+re*we,X[7]=0,X[8]=re*be*$e+fe*we,X[9]=fe*be*$e-re*we,X[10]=be*be*$e+Fe,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X)}function ct(X,Et){var Qt=Math.sin(Et),re=Math.cos(Et);return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=re,X[6]=Qt,X[7]=0,X[8]=0,X[9]=-Qt,X[10]=re,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function jt(X,Et){var Qt=Math.sin(Et),re=Math.cos(Et);return X[0]=re,X[1]=0,X[2]=-Qt,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=Qt,X[9]=0,X[10]=re,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function Xt(X,Et){var Qt=Math.sin(Et),re=Math.cos(Et);return X[0]=re,X[1]=Qt,X[2]=0,X[3]=0,X[4]=-Qt,X[5]=re,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function It(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=re+re,Fe=fe+fe,$e=be+be,_e=re*we,Ar=re*Fe,Cr=re*$e,Sr=fe*Fe,Zr=fe*$e,fn=be*$e,Dr=Ie*we,Dn=Ie*Fe,bi=Ie*$e;return X[0]=1-(Sr+fn),X[1]=Ar+bi,X[2]=Cr-Dn,X[3]=0,X[4]=Ar-bi,X[5]=1-(_e+fn),X[6]=Zr+Dr,X[7]=0,X[8]=Cr+Dn,X[9]=Zr-Dr,X[10]=1-(_e+Sr),X[11]=0,X[12]=Qt[0],X[13]=Qt[1],X[14]=Qt[2],X[15]=1,X}function Ut(X,Et){var Qt=new x.a(3),re=-Et[0],fe=-Et[1],be=-Et[2],Ie=Et[3],we=Et[4],Fe=Et[5],$e=Et[6],_e=Et[7],Ar=re*re+fe*fe+be*be+Ie*Ie;return Ar>0?(Qt[0]=(we*Ie+_e*re+Fe*be-$e*fe)*2/Ar,Qt[1]=(Fe*Ie+_e*fe+$e*re-we*be)*2/Ar,Qt[2]=($e*Ie+_e*be+we*fe-Fe*re)*2/Ar):(Qt[0]=(we*Ie+_e*re+Fe*be-$e*fe)*2,Qt[1]=(Fe*Ie+_e*fe+$e*re-we*be)*2,Qt[2]=($e*Ie+_e*be+we*fe-Fe*re)*2),It(X,Et,Qt),X}function $t(X,Et){return X[0]=Et[12],X[1]=Et[13],X[2]=Et[14],X}function Ft(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[4],Ie=Et[5],we=Et[6],Fe=Et[8],$e=Et[9],_e=Et[10];return X[0]=Math.hypot(Qt,re,fe),X[1]=Math.hypot(be,Ie,we),X[2]=Math.hypot(Fe,$e,_e),X}function Kt(X,Et){var Qt=new x.a(3);Ft(Qt,Et);var re=1/Qt[0],fe=1/Qt[1],be=1/Qt[2],Ie=Et[0]*re,we=Et[1]*fe,Fe=Et[2]*be,$e=Et[4]*re,_e=Et[5]*fe,Ar=Et[6]*be,Cr=Et[8]*re,Sr=Et[9]*fe,Zr=Et[10]*be,fn=Ie+_e+Zr,Dr=0;return fn>0?(Dr=Math.sqrt(fn+1)*2,X[3]=.25*Dr,X[0]=(Ar-Sr)/Dr,X[1]=(Cr-Fe)/Dr,X[2]=(we-$e)/Dr):Ie>_e&&Ie>Zr?(Dr=Math.sqrt(1+Ie-_e-Zr)*2,X[3]=(Ar-Sr)/Dr,X[0]=.25*Dr,X[1]=(we+$e)/Dr,X[2]=(Cr+Fe)/Dr):_e>Zr?(Dr=Math.sqrt(1+_e-Ie-Zr)*2,X[3]=(Cr-Fe)/Dr,X[0]=(we+$e)/Dr,X[1]=.25*Dr,X[2]=(Ar+Sr)/Dr):(Dr=Math.sqrt(1+Zr-Ie-_e)*2,X[3]=(we-$e)/Dr,X[0]=(Cr+Fe)/Dr,X[1]=(Ar+Sr)/Dr,X[2]=.25*Dr),X}function ee(X,Et,Qt,re){var fe=Et[0],be=Et[1],Ie=Et[2],we=Et[3],Fe=fe+fe,$e=be+be,_e=Ie+Ie,Ar=fe*Fe,Cr=fe*$e,Sr=fe*_e,Zr=be*$e,fn=be*_e,Dr=Ie*_e,Dn=we*Fe,bi=we*$e,Zn=we*_e,Qn=re[0],qn=re[1],ni=re[2];return X[0]=(1-(Zr+Dr))*Qn,X[1]=(Cr+Zn)*Qn,X[2]=(Sr-bi)*Qn,X[3]=0,X[4]=(Cr-Zn)*qn,X[5]=(1-(Ar+Dr))*qn,X[6]=(fn+Dn)*qn,X[7]=0,X[8]=(Sr+bi)*ni,X[9]=(fn-Dn)*ni,X[10]=(1-(Ar+Zr))*ni,X[11]=0,X[12]=Qt[0],X[13]=Qt[1],X[14]=Qt[2],X[15]=1,X}function ce(X,Et,Qt,re,fe){var be=Et[0],Ie=Et[1],we=Et[2],Fe=Et[3],$e=be+be,_e=Ie+Ie,Ar=we+we,Cr=be*$e,Sr=be*_e,Zr=be*Ar,fn=Ie*_e,Dr=Ie*Ar,Dn=we*Ar,bi=Fe*$e,Zn=Fe*_e,Qn=Fe*Ar,qn=re[0],ni=re[1],gi=re[2],Xi=fe[0],ia=fe[1],Ii=fe[2],aa=(1-(fn+Dn))*qn,Yi=(Sr+Qn)*qn,Hi=(Zr-Zn)*qn,yi=(Sr-Qn)*ni,te=(1-(Cr+Dn))*ni,Ae=(Dr+bi)*ni,Ne=(Zr+Zn)*gi,er=(Dr-bi)*gi,jr=(1-(Cr+fn))*gi;return X[0]=aa,X[1]=Yi,X[2]=Hi,X[3]=0,X[4]=yi,X[5]=te,X[6]=Ae,X[7]=0,X[8]=Ne,X[9]=er,X[10]=jr,X[11]=0,X[12]=Qt[0]+Xi-(aa*Xi+yi*ia+Ne*Ii),X[13]=Qt[1]+ia-(Yi*Xi+te*ia+er*Ii),X[14]=Qt[2]+Ii-(Hi*Xi+Ae*ia+jr*Ii),X[15]=1,X}function Se(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Qt+Qt,we=re+re,Fe=fe+fe,$e=Qt*Ie,_e=re*Ie,Ar=re*we,Cr=fe*Ie,Sr=fe*we,Zr=fe*Fe,fn=be*Ie,Dr=be*we,Dn=be*Fe;return X[0]=1-Ar-Zr,X[1]=_e+Dn,X[2]=Cr-Dr,X[3]=0,X[4]=_e-Dn,X[5]=1-$e-Zr,X[6]=Sr+fn,X[7]=0,X[8]=Cr+Dr,X[9]=Sr-fn,X[10]=1-$e-Ar,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function Ce(X,Et,Qt,re,fe,be,Ie){var we=1/(Qt-Et),Fe=1/(fe-re),$e=1/(be-Ie);return X[0]=be*2*we,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=be*2*Fe,X[6]=0,X[7]=0,X[8]=(Qt+Et)*we,X[9]=(fe+re)*Fe,X[10]=(Ie+be)*$e,X[11]=-1,X[12]=0,X[13]=0,X[14]=Ie*be*2*$e,X[15]=0,X}function Ge(X,Et,Qt,re,fe){var be=1/Math.tan(Et/2),Ie;return X[0]=be/Qt,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=be,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[11]=-1,X[12]=0,X[13]=0,X[15]=0,fe!=null&&fe!==Infinity?(Ie=1/(re-fe),X[10]=(fe+re)*Ie,X[14]=2*fe*re*Ie):(X[10]=-1,X[14]=-2*re),X}function hr(X,Et,Qt,re){var fe=Math.tan(Et.upDegrees*Math.PI/180),be=Math.tan(Et.downDegrees*Math.PI/180),Ie=Math.tan(Et.leftDegrees*Math.PI/180),we=Math.tan(Et.rightDegrees*Math.PI/180),Fe=2/(Ie+we),$e=2/(fe+be);return X[0]=Fe,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=$e,X[6]=0,X[7]=0,X[8]=-((Ie-we)*Fe*.5),X[9]=(fe-be)*$e*.5,X[10]=re/(Qt-re),X[11]=-1,X[12]=0,X[13]=0,X[14]=re*Qt/(Qt-re),X[15]=0,X}function dr(X,Et,Qt,re,fe,be,Ie){var we=1/(Et-Qt),Fe=1/(re-fe),$e=1/(be-Ie);return X[0]=-2*we,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=-2*Fe,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=2*$e,X[11]=0,X[12]=(Et+Qt)*we,X[13]=(fe+re)*Fe,X[14]=(Ie+be)*$e,X[15]=1,X}function ar(X,Et,Qt,re){var fe,be,Ie,we,Fe,$e,_e,Ar,Cr,Sr,Zr=Et[0],fn=Et[1],Dr=Et[2],Dn=re[0],bi=re[1],Zn=re[2],Qn=Qt[0],qn=Qt[1],ni=Qt[2];return Math.abs(Zr-Qn)<x.b&&Math.abs(fn-qn)<x.b&&Math.abs(Dr-ni)<x.b?xt(X):(_e=Zr-Qn,Ar=fn-qn,Cr=Dr-ni,Sr=1/Math.hypot(_e,Ar,Cr),_e*=Sr,Ar*=Sr,Cr*=Sr,fe=bi*Cr-Zn*Ar,be=Zn*_e-Dn*Cr,Ie=Dn*Ar-bi*_e,Sr=Math.hypot(fe,be,Ie),Sr?(Sr=1/Sr,fe*=Sr,be*=Sr,Ie*=Sr):(fe=0,be=0,Ie=0),we=Ar*Ie-Cr*be,Fe=Cr*fe-_e*Ie,$e=_e*be-Ar*fe,Sr=Math.hypot(we,Fe,$e),Sr?(Sr=1/Sr,we*=Sr,Fe*=Sr,$e*=Sr):(we=0,Fe=0,$e=0),X[0]=fe,X[1]=we,X[2]=_e,X[3]=0,X[4]=be,X[5]=Fe,X[6]=Ar,X[7]=0,X[8]=Ie,X[9]=$e,X[10]=Cr,X[11]=0,X[12]=-(fe*Zr+be*fn+Ie*Dr),X[13]=-(we*Zr+Fe*fn+$e*Dr),X[14]=-(_e*Zr+Ar*fn+Cr*Dr),X[15]=1,X)}function qe(X,Et,Qt,re){var fe=Et[0],be=Et[1],Ie=Et[2],we=re[0],Fe=re[1],$e=re[2],_e=fe-Qt[0],Ar=be-Qt[1],Cr=Ie-Qt[2],Sr=_e*_e+Ar*Ar+Cr*Cr;Sr>0&&(Sr=1/Math.sqrt(Sr),_e*=Sr,Ar*=Sr,Cr*=Sr);var Zr=Fe*Cr-$e*Ar,fn=$e*_e-we*Cr,Dr=we*Ar-Fe*_e;return Sr=Zr*Zr+fn*fn+Dr*Dr,Sr>0&&(Sr=1/Math.sqrt(Sr),Zr*=Sr,fn*=Sr,Dr*=Sr),X[0]=Zr,X[1]=fn,X[2]=Dr,X[3]=0,X[4]=Ar*Dr-Cr*fn,X[5]=Cr*Zr-_e*Dr,X[6]=_e*fn-Ar*Zr,X[7]=0,X[8]=_e,X[9]=Ar,X[10]=Cr,X[11]=0,X[12]=fe,X[13]=be,X[14]=Ie,X[15]=1,X}function Xe(X){return"mat4("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+", "+X[4]+", "+X[5]+", "+X[6]+", "+X[7]+", "+X[8]+", "+X[9]+", "+X[10]+", "+X[11]+", "+X[12]+", "+X[13]+", "+X[14]+", "+X[15]+")"}function ur(X){return Math.hypot(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15])}function zr(X,Et,Qt){return X[0]=Et[0]+Qt[0],X[1]=Et[1]+Qt[1],X[2]=Et[2]+Qt[2],X[3]=Et[3]+Qt[3],X[4]=Et[4]+Qt[4],X[5]=Et[5]+Qt[5],X[6]=Et[6]+Qt[6],X[7]=Et[7]+Qt[7],X[8]=Et[8]+Qt[8],X[9]=Et[9]+Qt[9],X[10]=Et[10]+Qt[10],X[11]=Et[11]+Qt[11],X[12]=Et[12]+Qt[12],X[13]=Et[13]+Qt[13],X[14]=Et[14]+Qt[14],X[15]=Et[15]+Qt[15],X}function ir(X,Et,Qt){return X[0]=Et[0]-Qt[0],X[1]=Et[1]-Qt[1],X[2]=Et[2]-Qt[2],X[3]=Et[3]-Qt[3],X[4]=Et[4]-Qt[4],X[5]=Et[5]-Qt[5],X[6]=Et[6]-Qt[6],X[7]=Et[7]-Qt[7],X[8]=Et[8]-Qt[8],X[9]=Et[9]-Qt[9],X[10]=Et[10]-Qt[10],X[11]=Et[11]-Qt[11],X[12]=Et[12]-Qt[12],X[13]=Et[13]-Qt[13],X[14]=Et[14]-Qt[14],X[15]=Et[15]-Qt[15],X}function qr(X,Et,Qt){return X[0]=Et[0]*Qt,X[1]=Et[1]*Qt,X[2]=Et[2]*Qt,X[3]=Et[3]*Qt,X[4]=Et[4]*Qt,X[5]=Et[5]*Qt,X[6]=Et[6]*Qt,X[7]=Et[7]*Qt,X[8]=Et[8]*Qt,X[9]=Et[9]*Qt,X[10]=Et[10]*Qt,X[11]=Et[11]*Qt,X[12]=Et[12]*Qt,X[13]=Et[13]*Qt,X[14]=Et[14]*Qt,X[15]=Et[15]*Qt,X}function Mr(X,Et,Qt,re){return X[0]=Et[0]+Qt[0]*re,X[1]=Et[1]+Qt[1]*re,X[2]=Et[2]+Qt[2]*re,X[3]=Et[3]+Qt[3]*re,X[4]=Et[4]+Qt[4]*re,X[5]=Et[5]+Qt[5]*re,X[6]=Et[6]+Qt[6]*re,X[7]=Et[7]+Qt[7]*re,X[8]=Et[8]+Qt[8]*re,X[9]=Et[9]+Qt[9]*re,X[10]=Et[10]+Qt[10]*re,X[11]=Et[11]+Qt[11]*re,X[12]=Et[12]+Qt[12]*re,X[13]=Et[13]+Qt[13]*re,X[14]=Et[14]+Qt[14]*re,X[15]=Et[15]+Qt[15]*re,X}function Br(X,Et){return X[0]===Et[0]&&X[1]===Et[1]&&X[2]===Et[2]&&X[3]===Et[3]&&X[4]===Et[4]&&X[5]===Et[5]&&X[6]===Et[6]&&X[7]===Et[7]&&X[8]===Et[8]&&X[9]===Et[9]&&X[10]===Et[10]&&X[11]===Et[11]&&X[12]===Et[12]&&X[13]===Et[13]&&X[14]===Et[14]&&X[15]===Et[15]}function ze(X,Et){var Qt=X[0],re=X[1],fe=X[2],be=X[3],Ie=X[4],we=X[5],Fe=X[6],$e=X[7],_e=X[8],Ar=X[9],Cr=X[10],Sr=X[11],Zr=X[12],fn=X[13],Dr=X[14],Dn=X[15],bi=Et[0],Zn=Et[1],Qn=Et[2],qn=Et[3],ni=Et[4],gi=Et[5],Xi=Et[6],ia=Et[7],Ii=Et[8],aa=Et[9],Yi=Et[10],Hi=Et[11],yi=Et[12],te=Et[13],Ae=Et[14],Ne=Et[15];return Math.abs(Qt-bi)<=x.b*Math.max(1,Math.abs(Qt),Math.abs(bi))&&Math.abs(re-Zn)<=x.b*Math.max(1,Math.abs(re),Math.abs(Zn))&&Math.abs(fe-Qn)<=x.b*Math.max(1,Math.abs(fe),Math.abs(Qn))&&Math.abs(be-qn)<=x.b*Math.max(1,Math.abs(be),Math.abs(qn))&&Math.abs(Ie-ni)<=x.b*Math.max(1,Math.abs(Ie),Math.abs(ni))&&Math.abs(we-gi)<=x.b*Math.max(1,Math.abs(we),Math.abs(gi))&&Math.abs(Fe-Xi)<=x.b*Math.max(1,Math.abs(Fe),Math.abs(Xi))&&Math.abs($e-ia)<=x.b*Math.max(1,Math.abs($e),Math.abs(ia))&&Math.abs(_e-Ii)<=x.b*Math.max(1,Math.abs(_e),Math.abs(Ii))&&Math.abs(Ar-aa)<=x.b*Math.max(1,Math.abs(Ar),Math.abs(aa))&&Math.abs(Cr-Yi)<=x.b*Math.max(1,Math.abs(Cr),Math.abs(Yi))&&Math.abs(Sr-Hi)<=x.b*Math.max(1,Math.abs(Sr),Math.abs(Hi))&&Math.abs(Zr-yi)<=x.b*Math.max(1,Math.abs(Zr),Math.abs(yi))&&Math.abs(fn-te)<=x.b*Math.max(1,Math.abs(fn),Math.abs(te))&&Math.abs(Dr-Ae)<=x.b*Math.max(1,Math.abs(Dr),Math.abs(Ae))&&Math.abs(Dn-Ne)<=x.b*Math.max(1,Math.abs(Dn),Math.abs(Ne))}var Or=$,Nr=ir,$r=i("gCNn");function Kr(){var X=new x.a(4);return x.a!=Float32Array&&(X[0]=0,X[1]=0,X[2]=0,X[3]=0),X}function Un(X){var Et=new x.a(4);return Et[0]=X[0],Et[1]=X[1],Et[2]=X[2],Et[3]=X[3],Et}function ti(X,Et,Qt,re){var fe=new x.a(4);return fe[0]=X,fe[1]=Et,fe[2]=Qt,fe[3]=re,fe}function wn(X,Et){return X[0]=Et[0],X[1]=Et[1],X[2]=Et[2],X[3]=Et[3],X}function Bn(X,Et,Qt,re,fe){return X[0]=Et,X[1]=Qt,X[2]=re,X[3]=fe,X}function kn(X,Et,Qt){return X[0]=Et[0]+Qt[0],X[1]=Et[1]+Qt[1],X[2]=Et[2]+Qt[2],X[3]=Et[3]+Qt[3],X}function ei(X,Et,Qt){return X[0]=Et[0]-Qt[0],X[1]=Et[1]-Qt[1],X[2]=Et[2]-Qt[2],X[3]=Et[3]-Qt[3],X}function In(X,Et,Qt){return X[0]=Et[0]*Qt[0],X[1]=Et[1]*Qt[1],X[2]=Et[2]*Qt[2],X[3]=Et[3]*Qt[3],X}function ai(X,Et,Qt){return X[0]=Et[0]/Qt[0],X[1]=Et[1]/Qt[1],X[2]=Et[2]/Qt[2],X[3]=Et[3]/Qt[3],X}function ga(X,Et){return X[0]=Math.ceil(Et[0]),X[1]=Math.ceil(Et[1]),X[2]=Math.ceil(Et[2]),X[3]=Math.ceil(Et[3]),X}function Da(X,Et){return X[0]=Math.floor(Et[0]),X[1]=Math.floor(Et[1]),X[2]=Math.floor(Et[2]),X[3]=Math.floor(Et[3]),X}function Sa(X,Et,Qt){return X[0]=Math.min(Et[0],Qt[0]),X[1]=Math.min(Et[1],Qt[1]),X[2]=Math.min(Et[2],Qt[2]),X[3]=Math.min(Et[3],Qt[3]),X}function Gi(X,Et,Qt){return X[0]=Math.max(Et[0],Qt[0]),X[1]=Math.max(Et[1],Qt[1]),X[2]=Math.max(Et[2],Qt[2]),X[3]=Math.max(Et[3],Qt[3]),X}function Ma(X,Et){return X[0]=Math.round(Et[0]),X[1]=Math.round(Et[1]),X[2]=Math.round(Et[2]),X[3]=Math.round(Et[3]),X}function Ri(X,Et,Qt){return X[0]=Et[0]*Qt,X[1]=Et[1]*Qt,X[2]=Et[2]*Qt,X[3]=Et[3]*Qt,X}function ca(X,Et,Qt,re){return X[0]=Et[0]+Qt[0]*re,X[1]=Et[1]+Qt[1]*re,X[2]=Et[2]+Qt[2]*re,X[3]=Et[3]+Qt[3]*re,X}function Di(X,Et){var Qt=Et[0]-X[0],re=Et[1]-X[1],fe=Et[2]-X[2],be=Et[3]-X[3];return Math.hypot(Qt,re,fe,be)}function Ca(X,Et){var Qt=Et[0]-X[0],re=Et[1]-X[1],fe=Et[2]-X[2],be=Et[3]-X[3];return Qt*Qt+re*re+fe*fe+be*be}function pa(X){var Et=X[0],Qt=X[1],re=X[2],fe=X[3];return Math.hypot(Et,Qt,re,fe)}function Wa(X){var Et=X[0],Qt=X[1],re=X[2],fe=X[3];return Et*Et+Qt*Qt+re*re+fe*fe}function oo(X,Et){return X[0]=-Et[0],X[1]=-Et[1],X[2]=-Et[2],X[3]=-Et[3],X}function po(X,Et){return X[0]=1/Et[0],X[1]=1/Et[1],X[2]=1/Et[2],X[3]=1/Et[3],X}function Xa(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Qt*Qt+re*re+fe*fe+be*be;return Ie>0&&(Ie=1/Math.sqrt(Ie)),X[0]=Qt*Ie,X[1]=re*Ie,X[2]=fe*Ie,X[3]=be*Ie,X}function os(X,Et){return X[0]*Et[0]+X[1]*Et[1]+X[2]*Et[2]+X[3]*Et[3]}function $o(X,Et,Qt,re){var fe=Qt[0]*re[1]-Qt[1]*re[0],be=Qt[0]*re[2]-Qt[2]*re[0],Ie=Qt[0]*re[3]-Qt[3]*re[0],we=Qt[1]*re[2]-Qt[2]*re[1],Fe=Qt[1]*re[3]-Qt[3]*re[1],$e=Qt[2]*re[3]-Qt[3]*re[2],_e=Et[0],Ar=Et[1],Cr=Et[2],Sr=Et[3];return X[0]=Ar*$e-Cr*Fe+Sr*we,X[1]=-(_e*$e)+Cr*Ie-Sr*be,X[2]=_e*Fe-Ar*Ie+Sr*fe,X[3]=-(_e*we)+Ar*be-Cr*fe,X}function Xo(X,Et,Qt,re){var fe=Et[0],be=Et[1],Ie=Et[2],we=Et[3];return X[0]=fe+re*(Qt[0]-fe),X[1]=be+re*(Qt[1]-be),X[2]=Ie+re*(Qt[2]-Ie),X[3]=we+re*(Qt[3]-we),X}function Ol(X,Et){Et=Et||1;var Qt,re,fe,be,Ie,we;do Qt=x.c()*2-1,re=x.c()*2-1,Ie=Qt*Qt+re*re;while(Ie>=1);do fe=x.c()*2-1,be=x.c()*2-1,we=fe*fe+be*be;while(we>=1);var Fe=Math.sqrt((1-Ie)/we);return X[0]=Et*Qt,X[1]=Et*re,X[2]=Et*fe*Fe,X[3]=Et*be*Fe,X}function ba(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3];return X[0]=Qt[0]*re+Qt[4]*fe+Qt[8]*be+Qt[12]*Ie,X[1]=Qt[1]*re+Qt[5]*fe+Qt[9]*be+Qt[13]*Ie,X[2]=Qt[2]*re+Qt[6]*fe+Qt[10]*be+Qt[14]*Ie,X[3]=Qt[3]*re+Qt[7]*fe+Qt[11]*be+Qt[15]*Ie,X}function xl(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Qt[0],we=Qt[1],Fe=Qt[2],$e=Qt[3],_e=$e*re+we*be-Fe*fe,Ar=$e*fe+Fe*re-Ie*be,Cr=$e*be+Ie*fe-we*re,Sr=-Ie*re-we*fe-Fe*be;return X[0]=_e*$e+Sr*-Ie+Ar*-Fe-Cr*-we,X[1]=Ar*$e+Sr*-we+Cr*-Ie-_e*-Fe,X[2]=Cr*$e+Sr*-Fe+_e*-we-Ar*-Ie,X[3]=Et[3],X}function El(X){return X[0]=0,X[1]=0,X[2]=0,X[3]=0,X}function ss(X){return"vec4("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+")"}function ys(X,Et){return X[0]===Et[0]&&X[1]===Et[1]&&X[2]===Et[2]&&X[3]===Et[3]}function nl(X,Et){var Qt=X[0],re=X[1],fe=X[2],be=X[3],Ie=Et[0],we=Et[1],Fe=Et[2],$e=Et[3];return Math.abs(Qt-Ie)<=x.b*Math.max(1,Math.abs(Qt),Math.abs(Ie))&&Math.abs(re-we)<=x.b*Math.max(1,Math.abs(re),Math.abs(we))&&Math.abs(fe-Fe)<=x.b*Math.max(1,Math.abs(fe),Math.abs(Fe))&&Math.abs(be-$e)<=x.b*Math.max(1,Math.abs(be),Math.abs($e))}var ri=ei,Gl=In,Yo=ai,Us=Di,Ws=Ca,il=pa,ls=Wa,ne=function(){var X=Kr();return function(Et,Qt,re,fe,be,Ie){var we,Fe;for(Qt||(Qt=4),re||(re=0),fe?Fe=Math.min(fe*Qt+re,Et.length):Fe=Et.length,we=re;we<Fe;we+=Qt)X[0]=Et[we],X[1]=Et[we+1],X[2]=Et[we+2],X[3]=Et[we+3],be(X,X,Ie),Et[we]=X[0],Et[we+1]=X[1],Et[we+2]=X[2],Et[we+3]=X[3];return Et}}();function de(){var X=new x.a(4);return x.a!=Float32Array&&(X[0]=0,X[1]=0,X[2]=0),X[3]=1,X}function Oe(X){return X[0]=0,X[1]=0,X[2]=0,X[3]=1,X}function Ue(X,Et,Qt){Qt=Qt*.5;var re=Math.sin(Qt);return X[0]=re*Et[0],X[1]=re*Et[1],X[2]=re*Et[2],X[3]=Math.cos(Qt),X}function Ve(X,Et){var Qt=Math.acos(Et[3])*2,re=Math.sin(Qt/2);return re>x.b?(X[0]=Et[0]/re,X[1]=Et[1]/re,X[2]=Et[2]/re):(X[0]=1,X[1]=0,X[2]=0),Qt}function sr(X,Et){var Qt=wo(X,Et);return Math.acos(2*Qt*Qt-1)}function wr(X,Et,Qt){var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Qt[0],Fe=Qt[1],$e=Qt[2],_e=Qt[3];return X[0]=re*_e+Ie*we+fe*$e-be*Fe,X[1]=fe*_e+Ie*Fe+be*we-re*$e,X[2]=be*_e+Ie*$e+re*Fe-fe*we,X[3]=Ie*_e-re*we-fe*Fe-be*$e,X}function Vr(X,Et,Qt){Qt*=.5;var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Math.sin(Qt),Fe=Math.cos(Qt);return X[0]=re*Fe+Ie*we,X[1]=fe*Fe+be*we,X[2]=be*Fe-fe*we,X[3]=Ie*Fe-re*we,X}function On(X,Et,Qt){Qt*=.5;var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Math.sin(Qt),Fe=Math.cos(Qt);return X[0]=re*Fe-be*we,X[1]=fe*Fe+Ie*we,X[2]=be*Fe+re*we,X[3]=Ie*Fe-fe*we,X}function Wn(X,Et,Qt){Qt*=.5;var re=Et[0],fe=Et[1],be=Et[2],Ie=Et[3],we=Math.sin(Qt),Fe=Math.cos(Qt);return X[0]=re*Fe+fe*we,X[1]=fe*Fe-re*we,X[2]=be*Fe+Ie*we,X[3]=Ie*Fe-be*we,X}function Nn(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2];return X[0]=Qt,X[1]=re,X[2]=fe,X[3]=Math.sqrt(Math.abs(1-Qt*Qt-re*re-fe*fe)),X}function Pi(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Math.sqrt(Qt*Qt+re*re+fe*fe),we=Math.exp(be),Fe=Ie>0?we*Math.sin(Ie)/Ie:0;return X[0]=Qt*Fe,X[1]=re*Fe,X[2]=fe*Fe,X[3]=we*Math.cos(Ie),X}function zi(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Math.sqrt(Qt*Qt+re*re+fe*fe),we=Ie>0?Math.atan2(Ie,be)/Ie:0;return X[0]=Qt*we,X[1]=re*we,X[2]=fe*we,X[3]=.5*Math.log(Qt*Qt+re*re+fe*fe+be*be),X}function Ia(X,Et,Qt){return zi(X,Et),us(X,X,Qt),Pi(X,X),X}function ki(X,Et,Qt,re){var fe=Et[0],be=Et[1],Ie=Et[2],we=Et[3],Fe=Qt[0],$e=Qt[1],_e=Qt[2],Ar=Qt[3],Cr,Sr,Zr,fn,Dr;return Sr=fe*Fe+be*$e+Ie*_e+we*Ar,Sr<0&&(Sr=-Sr,Fe=-Fe,$e=-$e,_e=-_e,Ar=-Ar),1-Sr>x.b?(Cr=Math.acos(Sr),Zr=Math.sin(Cr),fn=Math.sin((1-re)*Cr)/Zr,Dr=Math.sin(re*Cr)/Zr):(fn=1-re,Dr=re),X[0]=fn*fe+Dr*Fe,X[1]=fn*be+Dr*$e,X[2]=fn*Ie+Dr*_e,X[3]=fn*we+Dr*Ar,X}function fa(X){var Et=x.c(),Qt=x.c(),re=x.c(),fe=Math.sqrt(1-Et),be=Math.sqrt(Et);return X[0]=fe*Math.sin(2*Math.PI*Qt),X[1]=fe*Math.cos(2*Math.PI*Qt),X[2]=be*Math.sin(2*Math.PI*re),X[3]=be*Math.cos(2*Math.PI*re),X}function so(X,Et){var Qt=Et[0],re=Et[1],fe=Et[2],be=Et[3],Ie=Qt*Qt+re*re+fe*fe+be*be,we=Ie?1/Ie:0;return X[0]=-Qt*we,X[1]=-re*we,X[2]=-fe*we,X[3]=be*we,X}function Co(X,Et){return X[0]=-Et[0],X[1]=-Et[1],X[2]=-Et[2],X[3]=Et[3],X}function oe(X,Et){var Qt=Et[0]+Et[4]+Et[8],re;if(Qt>0)re=Math.sqrt(Qt+1),X[3]=.5*re,re=.5/re,X[0]=(Et[5]-Et[7])*re,X[1]=(Et[6]-Et[2])*re,X[2]=(Et[1]-Et[3])*re;else{var fe=0;Et[4]>Et[0]&&(fe=1),Et[8]>Et[fe*3+fe]&&(fe=2);var be=(fe+1)%3,Ie=(fe+2)%3;re=Math.sqrt(Et[fe*3+fe]-Et[be*3+be]-Et[Ie*3+Ie]+1),X[fe]=.5*re,re=.5/re,X[3]=(Et[be*3+Ie]-Et[Ie*3+be])*re,X[be]=(Et[be*3+fe]+Et[fe*3+be])*re,X[Ie]=(Et[Ie*3+fe]+Et[fe*3+Ie])*re}return X}function ms(X,Et,Qt,re){var fe=.5*Math.PI/180;Et*=fe,Qt*=fe,re*=fe;var be=Math.sin(Et),Ie=Math.cos(Et),we=Math.sin(Qt),Fe=Math.cos(Qt),$e=Math.sin(re),_e=Math.cos(re);return X[0]=be*Fe*_e-Ie*we*$e,X[1]=Ie*we*_e+be*Fe*$e,X[2]=Ie*Fe*$e-be*we*_e,X[3]=Ie*Fe*_e+be*we*$e,X}function lo(X){return"quat("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+")"}var ha=Un,Za=ti,yo=wn,ci=Bn,mo=kn,Ao=wr,us=Ri,wo=os,bs=Xo,eo=pa,Os=eo,To=Wa,La=To,ro=Xa,bo=ys,zs=nl,Ul=function(){var X=$r.create(),Et=$r.fromValues(1,0,0),Qt=$r.fromValues(0,1,0);return function(re,fe,be){var Ie=$r.dot(fe,be);return Ie<-.999999?($r.cross(X,Et,fe),$r.len(X)<1e-6&&$r.cross(X,Qt,fe),$r.normalize(X,X),Ue(re,X,Math.PI),re):Ie>.999999?(re[0]=0,re[1]=0,re[2]=0,re[3]=1,re):($r.cross(X,fe,be),re[0]=X[0],re[1]=X[1],re[2]=X[2],re[3]=1+Ie,ro(re,re))}}(),Sl=function(){var X=de(),Et=de();return function(Qt,re,fe,be,Ie,we){return ki(X,re,Ie,we),ki(Et,fe,be,we),ki(Qt,X,Et,2*we*(1-we)),Qt}}(),Ml=function(){var X=D();return function(Et,Qt,re,fe){return X[0]=re[0],X[3]=re[1],X[6]=re[2],X[1]=fe[0],X[4]=fe[1],X[7]=fe[2],X[2]=-Qt[0],X[5]=-Qt[1],X[8]=-Qt[2],ro(Et,oe(Et,X))}}(),Wl=i("d/dq")},"9L8m":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.NON_CUSTOM_TAG_KEYS=A.POST_CONSTRUCT=A.DESIGN_PARAM_TYPES=A.PARAM_TYPES=A.TAGGED_PROP=A.TAGGED=A.MULTI_INJECT_TAG=A.INJECT_TAG=A.OPTIONAL_TAG=A.UNMANAGED_TAG=A.NAME_TAG=A.NAMED_TAG=void 0,A.NAMED_TAG="named",A.NAME_TAG="name",A.UNMANAGED_TAG="unmanaged",A.OPTIONAL_TAG="optional",A.INJECT_TAG="inject",A.MULTI_INJECT_TAG="multi_inject",A.TAGGED="inversify:tagged",A.TAGGED_PROP="inversify:tagged_props",A.PARAM_TYPES="inversify:paramtypes",A.DESIGN_PARAM_TYPES="design:paramtypes",A.POST_CONSTRUCT="post_construct";function c(){return[A.INJECT_TAG,A.MULTI_INJECT_TAG,A.NAME_TAG,A.UNMANAGED_TAG,A.NAMED_TAG,A.OPTIONAL_TAG]}A.NON_CUSTOM_TAG_KEYS=c()},"9drk":function(Lt,A){var i=Object.prototype,c=i.hasOwnProperty;function a(M,O){return M!=null&&c.call(M,O)}Lt.exports=a},"9g8t":function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});var c=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"]},"9pBU":function(Lt,A,i){"use strict";i.d(A,"e",function(){return B}),i.d(A,"b",function(){return tt}),i.d(A,"a",function(){return Mt}),i.d(A,"c",function(){return b}),i.d(A,"d",function(){return xt}),i.d(A,"f",function(){return c});var c={};i.r(c),i.d(c,"distance",function(){return O}),i.d(c,"isNumberEqual",function(){return x}),i.d(c,"getBBoxByArray",function(){return D}),i.d(c,"getBBoxRange",function(){return E}),i.d(c,"piMod",function(){return S});function a(pt){return Math.min.apply(null,pt)}function M(pt){return Math.max.apply(null,pt)}function O(pt,_,$,bt){var it=pt-$,Ot=_-bt;return Math.sqrt(it*it+Ot*Ot)}function x(pt,_){return Math.abs(pt-_)<.001}function D(pt,_){var $=a(pt),bt=a(_),it=M(pt),Ot=M(_);return{x:$,y:bt,width:it-$,height:Ot-bt}}function E(pt,_,$,bt){return{minX:a([pt,$]),maxX:M([pt,$]),minY:a([_,bt]),maxY:M([_,bt])}}function S(pt){return(pt+Math.PI*2)%(Math.PI*2)}var p=i("d/dq"),b={box:function(pt,_,$,bt){return D([pt,$],[_,bt])},length:function(pt,_,$,bt){return O(pt,_,$,bt)},pointAt:function(pt,_,$,bt,it){return{x:(1-it)*pt+it*$,y:(1-it)*_+it*bt}},pointDistance:function(pt,_,$,bt,it,Ot){var Pt=($-pt)*(it-pt)+(bt-_)*(Ot-_);if(Pt<0)return O(pt,_,it,Ot);var Rt=($-pt)*($-pt)+(bt-_)*(bt-_);return Pt>Rt?O($,bt,it,Ot):this.pointToLine(pt,_,$,bt,it,Ot)},pointToLine:function(pt,_,$,bt,it,Ot){var Pt=[$-pt,bt-_];if(p.exactEquals(Pt,[0,0]))return Math.sqrt((it-pt)*(it-pt)+(Ot-_)*(Ot-_));var Rt=[-Pt[1],Pt[0]];p.normalize(Rt,Rt);var Vt=[it-pt,Ot-_];return Math.abs(p.dot(Vt,Rt))},tangentAngle:function(pt,_,$,bt){return Math.atan2(bt-_,$-pt)}},y=1e-4;function C(pt,_,$,bt,it,Ot){var Pt,Rt=Infinity,Vt=[$,bt],kt=20;Ot&&Ot>200&&(kt=Ot/10);for(var Wt=1/kt,wt=Wt/10,ct=0;ct<=kt;ct++){var jt=ct*Wt,Xt=[it.apply(null,pt.concat([jt])),it.apply(null,_.concat([jt]))],It=O(Vt[0],Vt[1],Xt[0],Xt[1]);It<Rt&&(Pt=jt,Rt=It)}if(Pt===0)return{x:pt[0],y:_[0]};if(Pt===1){var Ut=pt.length;return{x:pt[Ut-1],y:_[Ut-1]}}Rt=Infinity;for(var ct=0;ct<32&&!(wt<y);ct++){var $t=Pt-wt,Ft=Pt+wt,Xt=[it.apply(null,pt.concat([$t])),it.apply(null,_.concat([$t]))],It=O(Vt[0],Vt[1],Xt[0],Xt[1]);if($t>=0&&It<Rt)Pt=$t,Rt=It;else{var Kt=[it.apply(null,pt.concat([Ft])),it.apply(null,_.concat([Ft]))],ee=O(Vt[0],Vt[1],Kt[0],Kt[1]);Ft<=1&&ee<Rt?(Pt=Ft,Rt=ee):wt*=.5}}return{x:it.apply(null,pt.concat([Pt])),y:it.apply(null,_.concat([Pt]))}}function I(pt,_){for(var $=0,bt=pt.length,it=0;it<bt;it++){var Ot=pt[it],Pt=_[it],Rt=pt[(it+1)%bt],Vt=_[(it+1)%bt];$+=O(Ot,Pt,Rt,Vt)}return $/2}function g(pt,_,$,bt){var it=1-bt;return it*it*pt+2*bt*it*_+bt*bt*$}function R(pt,_,$){var bt=pt+$-2*_;if(x(bt,0))return[.5];var it=(pt-_)/bt;return it<=1&&it>=0?[it]:[]}function U(pt,_,$,bt){return 2*(1-bt)*(_-pt)+2*bt*($-_)}function W(pt,_,$,bt,it,Ot,Pt){var Rt=g(pt,$,it,Pt),Vt=g(_,bt,Ot,Pt),kt=b.pointAt(pt,_,$,bt,Pt),Wt=b.pointAt($,bt,it,Ot,Pt);return[[pt,_,kt.x,kt.y,Rt,Vt],[Rt,Vt,Wt.x,Wt.y,it,Ot]]}function z(pt,_,$,bt,it,Ot,Pt){if(Pt===0)return(O(pt,_,$,bt)+O($,bt,it,Ot)+O(pt,_,it,Ot))/2;var Rt=W(pt,_,$,bt,it,Ot,.5),Vt=Rt[0],kt=Rt[1];return Vt.push(Pt-1),kt.push(Pt-1),z.apply(null,Vt)+z.apply(null,kt)}var B={box:function(pt,_,$,bt,it,Ot){var Pt=R(pt,$,it)[0],Rt=R(_,bt,Ot)[0],Vt=[pt,it],kt=[_,Ot];return Pt!==void 0&&Vt.push(g(pt,$,it,Pt)),Rt!==void 0&&kt.push(g(_,bt,Ot,Rt)),D(Vt,kt)},length:function(pt,_,$,bt,it,Ot){return z(pt,_,$,bt,it,Ot,3)},nearestPoint:function(pt,_,$,bt,it,Ot,Pt,Rt){return C([pt,$,it],[_,bt,Ot],Pt,Rt,g)},pointDistance:function(pt,_,$,bt,it,Ot,Pt,Rt){var Vt=this.nearestPoint(pt,_,$,bt,it,Ot,Pt,Rt);return O(Vt.x,Vt.y,Pt,Rt)},interpolationAt:g,pointAt:function(pt,_,$,bt,it,Ot,Pt){return{x:g(pt,$,it,Pt),y:g(_,bt,Ot,Pt)}},divide:function(pt,_,$,bt,it,Ot,Pt){return W(pt,_,$,bt,it,Ot,Pt)},tangentAngle:function(pt,_,$,bt,it,Ot,Pt){var Rt=U(pt,$,it,Pt),Vt=U(_,bt,Ot,Pt),kt=Math.atan2(Vt,Rt);return S(kt)}};function L(pt,_,$,bt,it){var Ot=1-it;return Ot*Ot*Ot*pt+3*_*it*Ot*Ot+3*$*it*it*Ot+bt*it*it*it}function w(pt,_,$,bt,it){var Ot=1-it;return 3*(Ot*Ot*(_-pt)+2*Ot*it*($-_)+it*it*(bt-$))}function F(pt,_,$,bt){var it=-3*pt+9*_-9*$+3*bt,Ot=6*pt-12*_+6*$,Pt=3*_-3*pt,Rt=[],Vt,kt,Wt;if(x(it,0))x(Ot,0)||(Vt=-Pt/Ot,Vt>=0&&Vt<=1&&Rt.push(Vt));else{var wt=Ot*Ot-4*it*Pt;x(wt,0)?Rt.push(-Ot/(2*it)):wt>0&&(Wt=Math.sqrt(wt),Vt=(-Ot+Wt)/(2*it),kt=(-Ot-Wt)/(2*it),Vt>=0&&Vt<=1&&Rt.push(Vt),kt>=0&&kt<=1&&Rt.push(kt))}return Rt}function V(pt,_,$,bt,it,Ot,Pt,Rt,Vt){var kt=L(pt,$,it,Pt,Vt),Wt=L(_,bt,Ot,Rt,Vt),wt=b.pointAt(pt,_,$,bt,Vt),ct=b.pointAt($,bt,it,Ot,Vt),jt=b.pointAt(it,Ot,Pt,Rt,Vt),Xt=b.pointAt(wt.x,wt.y,ct.x,ct.y,Vt),It=b.pointAt(ct.x,ct.y,jt.x,jt.y,Vt);return[[pt,_,wt.x,wt.y,Xt.x,Xt.y,kt,Wt],[kt,Wt,It.x,It.y,jt.x,jt.y,Pt,Rt]]}function Y(pt,_,$,bt,it,Ot,Pt,Rt,Vt){if(Vt===0)return I([pt,$,it,Pt],[_,bt,Ot,Rt]);var kt=V(pt,_,$,bt,it,Ot,Pt,Rt,.5),Wt=kt[0],wt=kt[1];return Wt.push(Vt-1),wt.push(Vt-1),Y.apply(null,Wt)+Y.apply(null,wt)}var tt={extrema:F,box:function(pt,_,$,bt,it,Ot,Pt,Rt){for(var Vt=[pt,Pt],kt=[_,Rt],Wt=F(pt,$,it,Pt),wt=F(_,bt,Ot,Rt),ct=0;ct<Wt.length;ct++)Vt.push(L(pt,$,it,Pt,Wt[ct]));for(var ct=0;ct<wt.length;ct++)kt.push(L(_,bt,Ot,Rt,wt[ct]));return D(Vt,kt)},length:function(pt,_,$,bt,it,Ot,Pt,Rt){return Y(pt,_,$,bt,it,Ot,Pt,Rt,3)},nearestPoint:function(pt,_,$,bt,it,Ot,Pt,Rt,Vt,kt,Wt){return C([pt,$,it,Pt],[_,bt,Ot,Rt],Vt,kt,L,Wt)},pointDistance:function(pt,_,$,bt,it,Ot,Pt,Rt,Vt,kt,Wt){var wt=this.nearestPoint(pt,_,$,bt,it,Ot,Pt,Rt,Vt,kt,Wt);return O(wt.x,wt.y,Vt,kt)},interpolationAt:L,pointAt:function(pt,_,$,bt,it,Ot,Pt,Rt,Vt){return{x:L(pt,$,it,Pt,Vt),y:L(_,bt,Ot,Rt,Vt)}},divide:function(pt,_,$,bt,it,Ot,Pt,Rt,Vt){return V(pt,_,$,bt,it,Ot,Pt,Rt,Vt)},tangentAngle:function(pt,_,$,bt,it,Ot,Pt,Rt,Vt){var kt=w(pt,$,it,Pt,Vt),Wt=w(_,bt,Ot,Rt,Vt);return S(Math.atan2(Wt,kt))}};function q(pt,_){var $=Math.abs(pt);return _>0?$:$*-1}var H={box:function(pt,_,$,bt){return{x:pt-$,y:_-bt,width:$*2,height:bt*2}},length:function(pt,_,$,bt){return Math.PI*(3*($+bt)-Math.sqrt((3*$+bt)*($+3*bt)))},nearestPoint:function(pt,_,$,bt,it,Ot){var Pt=$,Rt=bt;if(Pt===0||Rt===0)return{x:pt,y:_};for(var Vt=it-pt,kt=Ot-_,Wt=Math.abs(Vt),wt=Math.abs(kt),ct=Pt*Pt,jt=Rt*Rt,Xt=Math.PI/4,It,Ut,$t=0;$t<4;$t++){It=Pt*Math.cos(Xt),Ut=Rt*Math.sin(Xt);var Ft=(ct-jt)*Math.pow(Math.cos(Xt),3)/Pt,Kt=(jt-ct)*Math.pow(Math.sin(Xt),3)/Rt,ee=It-Ft,ce=Ut-Kt,Se=Wt-Ft,Ce=wt-Kt,Ge=Math.hypot(ce,ee),hr=Math.hypot(Ce,Se),dr=Ge*Math.asin((ee*Ce-ce*Se)/(Ge*hr)),ar=dr/Math.sqrt(ct+jt-It*It-Ut*Ut);Xt+=ar,Xt=Math.min(Math.PI/2,Math.max(0,Xt))}return{x:pt+q(It,Vt),y:_+q(Ut,kt)}},pointDistance:function(pt,_,$,bt,it,Ot){var Pt=this.nearestPoint(pt,_,$,bt,it,Ot);return O(Pt.x,Pt.y,it,Ot)},pointAt:function(pt,_,$,bt,it){var Ot=2*Math.PI*it;return{x:pt+$*Math.cos(Ot),y:_+bt*Math.sin(Ot)}},tangentAngle:function(pt,_,$,bt,it){var Ot=2*Math.PI*it,Pt=Math.atan2(bt*Math.cos(Ot),-$*Math.sin(Ot));return S(Pt)}};function Q(pt,_,$,bt,it,Ot,Pt,Rt){return-1*$*Math.cos(it)*Math.sin(Rt)-bt*Math.sin(it)*Math.cos(Rt)}function k(pt,_,$,bt,it,Ot,Pt,Rt){return-1*$*Math.sin(it)*Math.sin(Rt)+bt*Math.cos(it)*Math.cos(Rt)}function K(pt,_,$){return Math.atan(-_/pt*Math.tan($))}function nt(pt,_,$){return Math.atan(_/(pt*Math.tan($)))}function lt(pt,_,$,bt,it,Ot){return $*Math.cos(it)*Math.cos(Ot)-bt*Math.sin(it)*Math.sin(Ot)+pt}function ut(pt,_,$,bt,it,Ot){return $*Math.sin(it)*Math.cos(Ot)+bt*Math.cos(it)*Math.sin(Ot)+_}function rt(pt,_,$,bt){var it=Math.atan2(bt*pt,$*_);return(it+Math.PI*2)%(Math.PI*2)}function ot(pt,_,$){return{x:pt*Math.cos($),y:_*Math.sin($)}}function dt(pt,_,$){var bt=Math.cos($),it=Math.sin($);return[pt*bt-_*it,pt*it+_*bt]}var Mt={box:function(pt,_,$,bt,it,Ot,Pt){for(var Rt=K($,bt,it),Vt=Infinity,kt=-Infinity,Wt=[Ot,Pt],wt=-Math.PI*2;wt<=Math.PI*2;wt+=Math.PI){var ct=Rt+wt;Ot<Pt?Ot<ct&&ct<Pt&&Wt.push(ct):Pt<ct&&ct<Ot&&Wt.push(ct)}for(var wt=0;wt<Wt.length;wt++){var jt=lt(pt,_,$,bt,it,Wt[wt]);jt<Vt&&(Vt=jt),jt>kt&&(kt=jt)}for(var Xt=nt($,bt,it),It=Infinity,Ut=-Infinity,$t=[Ot,Pt],wt=-Math.PI*2;wt<=Math.PI*2;wt+=Math.PI){var Ft=Xt+wt;Ot<Pt?Ot<Ft&&Ft<Pt&&$t.push(Ft):Pt<Ft&&Ft<Ot&&$t.push(Ft)}for(var wt=0;wt<$t.length;wt++){var Kt=ut(pt,_,$,bt,it,$t[wt]);Kt<It&&(It=Kt),Kt>Ut&&(Ut=Kt)}return{x:Vt,y:It,width:kt-Vt,height:Ut-It}},length:function(pt,_,$,bt,it,Ot,Pt){},nearestPoint:function(pt,_,$,bt,it,Ot,Pt,Rt,Vt){var kt=dt(Rt-pt,Vt-_,-it),Wt=kt[0],wt=kt[1],ct=H.nearestPoint(0,0,$,bt,Wt,wt),jt=rt($,bt,ct.x,ct.y);jt<Ot?ct=ot($,bt,Ot):jt>Pt&&(ct=ot($,bt,Pt));var Xt=dt(ct.x,ct.y,it);return{x:Xt[0]+pt,y:Xt[1]+_}},pointDistance:function(pt,_,$,bt,it,Ot,Pt,Rt,Vt){var kt=this.nearestPoint(pt,_,$,bt,Rt,Vt);return O(kt.x,kt.y,Rt,Vt)},pointAt:function(pt,_,$,bt,it,Ot,Pt,Rt){var Vt=(Pt-Ot)*Rt+Ot;return{x:lt(pt,_,$,bt,it,Vt),y:ut(pt,_,$,bt,it,Vt)}},tangentAngle:function(pt,_,$,bt,it,Ot,Pt,Rt){var Vt=(Pt-Ot)*Rt+Ot,kt=Q(pt,_,$,bt,it,Ot,Pt,Vt),Wt=k(pt,_,$,bt,it,Ot,Pt,Vt);return S(Math.atan2(Wt,kt))}};function Nt(pt){for(var _=0,$=[],bt=0;bt<pt.length-1;bt++){var it=pt[bt],Ot=pt[bt+1],Pt=O(it[0],it[1],Ot[0],Ot[1]),Rt={from:it,to:Ot,length:Pt};$.push(Rt),_+=Pt}return{segments:$,totalLength:_}}function ht(pt){if(pt.length<2)return 0;for(var _=0,$=0;$<pt.length-1;$++){var bt=pt[$],it=pt[$+1];_+=O(bt[0],bt[1],it[0],it[1])}return _}function yt(pt,_){if(_>1||_<0||pt.length<2)return null;var $=Nt(pt),bt=$.segments,it=$.totalLength;if(it===0)return{x:pt[0][0],y:pt[0][1]};for(var Ot=0,Pt=null,Rt=0;Rt<bt.length;Rt++){var Vt=bt[Rt],kt=Vt.from,Wt=Vt.to,wt=Vt.length/it;if(_>=Ot&&_<=Ot+wt){var ct=(_-Ot)/wt;Pt=b.pointAt(kt[0],kt[1],Wt[0],Wt[1],ct);break}Ot+=wt}return Pt}function ft(pt,_){if(_>1||_<0||pt.length<2)return 0;for(var $=Nt(pt),bt=$.segments,it=$.totalLength,Ot=0,Pt=0,Rt=0;Rt<bt.length;Rt++){var Vt=bt[Rt],kt=Vt.from,Wt=Vt.to,wt=Vt.length/it;if(_>=Ot&&_<=Ot+wt){Pt=Math.atan2(Wt[1]-kt[1],Wt[0]-kt[0]);break}Ot+=wt}return Pt}function st(pt,_,$){for(var bt=Infinity,it=0;it<pt.length-1;it++){var Ot=pt[it],Pt=pt[it+1],Rt=b.pointDistance(Ot[0],Ot[1],Pt[0],Pt[1],_,$);Rt<bt&&(bt=Rt)}return bt}var xt={box:function(pt){for(var _=[],$=[],bt=0;bt<pt.length;bt++){var it=pt[bt];_.push(it[0]),$.push(it[1])}return D(_,$)},length:function(pt){return ht(pt)},pointAt:function(pt,_){return yt(pt,_)},pointDistance:function(pt,_,$){return st(pt,_,$)},tangentAngle:function(pt,_){return ft(pt,_)}};function gt(pt){var _=pt.slice(0);return pt.length&&_.push(pt[0]),_}var At={box:function(pt){return xt.box(pt)},length:function(pt){return ht(gt(pt))},pointAt:function(pt,_){return yt(gt(pt),_)},pointDistance:function(pt,_,$){return st(gt(pt),_,$)},tangentAngle:function(pt,_){return ft(gt(pt),_)}}},"9u1Y":function(Lt,A,i){"use strict";var c=this&&this.__awaiter||function(W,z,B,L){function w(F){return F instanceof B?F:new B(function(V){V(F)})}return new(B||(B=Promise))(function(F,V){function Y(H){try{q(L.next(H))}catch(Q){V(Q)}}function tt(H){try{q(L.throw(H))}catch(Q){V(Q)}}function q(H){H.done?F(H.value):w(H.value).then(Y,tt)}q((L=L.apply(W,z||[])).next())})},a=this&&this.__generator||function(W,z){var B={label:0,sent:function(){if(F[0]&1)throw F[1];return F[1]},trys:[],ops:[]},L,w,F,V;return V={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function Y(q){return function(H){return tt([q,H])}}function tt(q){if(L)throw new TypeError("Generator is already executing.");for(;B;)try{if(L=1,w&&(F=q[0]&2?w.return:q[0]?w.throw||((F=w.return)&&F.call(w),0):w.next)&&!(F=F.call(w,q[1])).done)return F;switch(w=0,F&&(q=[q[0]&2,F.value]),q[0]){case 0:case 1:F=q;break;case 4:return B.label++,{value:q[1],done:!1};case 5:B.label++,w=q[1],q=[0];continue;case 7:q=B.ops.pop(),B.trys.pop();continue;default:if(F=B.trys,!(F=F.length>0&&F[F.length-1])&&(q[0]===6||q[0]===2)){B=0;continue}if(q[0]===3&&(!F||q[1]>F[0]&&q[1]<F[3])){B.label=q[1];break}if(q[0]===6&&B.label<F[1]){B.label=F[1],F=q;break}if(F&&B.label<F[2]){B.label=F[2],B.ops.push(q);break}F[2]&&B.ops.pop(),B.trys.pop();continue}q=z.call(W,B)}catch(H){q=[6,H],w=0}finally{L=F=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},M=this&&this.__spreadArray||function(W,z){for(var B=0,L=z.length,w=W.length;B<L;B++,w++)W[w]=z[B];return W};Object.defineProperty(A,"__esModule",{value:!0}),A.Container=void 0;var O=i("DpFF"),x=i("196R"),D=i("2+60"),E=i("9L8m"),S=i("/dUy"),p=i("O7jt"),b=i("g5+9"),y=i("szLl"),C=i("qSJf"),I=i("Rph/"),g=i("13cj"),R=i("4X1q"),U=function(){function W(z){this._appliedMiddleware=[];var B=z||{};if(typeof B!="object")throw new Error(""+x.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(B.defaultScope===void 0)B.defaultScope=D.BindingScopeEnum.Transient;else if(B.defaultScope!==D.BindingScopeEnum.Singleton&&B.defaultScope!==D.BindingScopeEnum.Transient&&B.defaultScope!==D.BindingScopeEnum.Request)throw new Error(""+x.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(B.autoBindInjectable===void 0)B.autoBindInjectable=!1;else if(typeof B.autoBindInjectable!="boolean")throw new Error(""+x.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(B.skipBaseClassChecks===void 0)B.skipBaseClassChecks=!1;else if(typeof B.skipBaseClassChecks!="boolean")throw new Error(""+x.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:B.autoBindInjectable,defaultScope:B.defaultScope,skipBaseClassChecks:B.skipBaseClassChecks},this.id=C.id(),this._bindingDictionary=new R.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new S.MetadataReader}return W.merge=function(z,B){for(var L=[],w=2;w<arguments.length;w++)L[w-2]=arguments[w];var F=new W,V=M([z,B],L).map(function(q){return p.getBindingDictionary(q)}),Y=p.getBindingDictionary(F);function tt(q,H){q.traverse(function(Q,k){k.forEach(function(K){H.add(K.serviceIdentifier,K.clone())})})}return V.forEach(function(q){tt(q,Y)}),F},W.prototype.load=function(){for(var z=[],B=0;B<arguments.length;B++)z[B]=arguments[B];for(var L=this._getContainerModuleHelpersFactory(),w=0,F=z;w<F.length;w++){var V=F[w],Y=L(V.id);V.registry(Y.bindFunction,Y.unbindFunction,Y.isboundFunction,Y.rebindFunction)}},W.prototype.loadAsync=function(){for(var z=[],B=0;B<arguments.length;B++)z[B]=arguments[B];return c(this,void 0,void 0,function(){var L,w,F,V,Y;return a(this,function(tt){switch(tt.label){case 0:L=this._getContainerModuleHelpersFactory(),w=0,F=z,tt.label=1;case 1:return w<F.length?(V=F[w],Y=L(V.id),[4,V.registry(Y.bindFunction,Y.unbindFunction,Y.isboundFunction,Y.rebindFunction)]):[3,4];case 2:tt.sent(),tt.label=3;case 3:return w++,[3,1];case 4:return[2]}})})},W.prototype.unload=function(){for(var z=this,B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];var w=function(F){return function(V){return V.moduleId===F}};B.forEach(function(F){var V=w(F.id);z._bindingDictionary.removeByCondition(V)})},W.prototype.bind=function(z){var B=this.options.defaultScope||D.BindingScopeEnum.Transient,L=new O.Binding(z,B);return this._bindingDictionary.add(z,L),new y.BindingToSyntax(L)},W.prototype.rebind=function(z){return this.unbind(z),this.bind(z)},W.prototype.unbind=function(z){try{this._bindingDictionary.remove(z)}catch(B){throw new Error(x.CANNOT_UNBIND+" "+I.getServiceIdentifierAsString(z))}},W.prototype.unbindAll=function(){this._bindingDictionary=new R.Lookup},W.prototype.isBound=function(z){var B=this._bindingDictionary.hasKey(z);return!B&&this.parent&&(B=this.parent.isBound(z)),B},W.prototype.isBoundNamed=function(z,B){return this.isBoundTagged(z,E.NAMED_TAG,B)},W.prototype.isBoundTagged=function(z,B,L){var w=!1;if(this._bindingDictionary.hasKey(z)){var F=this._bindingDictionary.get(z),V=p.createMockRequest(this,z,B,L);w=F.some(function(Y){return Y.constraint(V)})}return!w&&this.parent&&(w=this.parent.isBoundTagged(z,B,L)),w},W.prototype.snapshot=function(){this._snapshots.push(g.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},W.prototype.restore=function(){var z=this._snapshots.pop();if(z===void 0)throw new Error(x.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=z.bindings,this._middleware=z.middleware},W.prototype.createChild=function(z){var B=new W(z||this.options);return B.parent=this,B},W.prototype.applyMiddleware=function(){for(var z=[],B=0;B<arguments.length;B++)z[B]=arguments[B];this._appliedMiddleware=this._appliedMiddleware.concat(z);var L=this._middleware?this._middleware:this._planAndResolve();this._middleware=z.reduce(function(w,F){return F(w)},L)},W.prototype.applyCustomMetadataReader=function(z){this._metadataReader=z},W.prototype.get=function(z){return this._get(!1,!1,D.TargetTypeEnum.Variable,z)},W.prototype.getTagged=function(z,B,L){return this._get(!1,!1,D.TargetTypeEnum.Variable,z,B,L)},W.prototype.getNamed=function(z,B){return this.getTagged(z,E.NAMED_TAG,B)},W.prototype.getAll=function(z){return this._get(!0,!0,D.TargetTypeEnum.Variable,z)},W.prototype.getAllTagged=function(z,B,L){return this._get(!1,!0,D.TargetTypeEnum.Variable,z,B,L)},W.prototype.getAllNamed=function(z,B){return this.getAllTagged(z,E.NAMED_TAG,B)},W.prototype.resolve=function(z){var B=this.createChild();return B.bind(z).toSelf(),this._appliedMiddleware.forEach(function(L){B.applyMiddleware(L)}),B.get(z)},W.prototype._getContainerModuleHelpersFactory=function(){var z=this,B=function(Y,tt){Y._binding.moduleId=tt},L=function(Y){return function(tt){var q=z.bind.bind(z),H=q(tt);return B(H,Y),H}},w=function(Y){return function(tt){var q=z.unbind.bind(z);q(tt)}},F=function(Y){return function(tt){var q=z.isBound.bind(z);return q(tt)}},V=function(Y){return function(tt){var q=z.rebind.bind(z),H=q(tt);return B(H,Y),H}};return function(Y){return{bindFunction:L(Y),isboundFunction:F(Y),rebindFunction:V(Y),unbindFunction:w(Y)}}},W.prototype._get=function(z,B,L,w,F,V){var Y=null,tt={avoidConstraints:z,contextInterceptor:function(q){return q},isMultiInject:B,key:F,serviceIdentifier:w,targetType:L,value:V};if(this._middleware){if(Y=this._middleware(tt),Y==null)throw new Error(x.INVALID_MIDDLEWARE_RETURN)}else Y=this._planAndResolve()(tt);return Y},W.prototype._planAndResolve=function(){var z=this;return function(B){var L=p.plan(z._metadataReader,z,B.isMultiInject,B.targetType,B.serviceIdentifier,B.key,B.value,B.avoidConstraints);L=B.contextInterceptor(L);var w=b.resolve(L);return w}},W}();A.Container=U},"9xKD":function(Lt,A,i){"use strict";var c=i("XSdR");Lt.exports={longestPath:a,slack:M};function a(O){var x={};function D(E){var S=O.node(E);if(c.has(x,E))return S.rank;x[E]=!0;var p=c.min(c.map(O.outEdges(E),function(b){return D(b.w)-O.edge(b).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),S.rank=p}c.forEach(O.sources(),D)}function M(O,x){return O.node(x.w).rank-O.node(x.v).rank-O.edge(x).minlen}},"9zrt":function(Lt,A,i){"use strict";i.d(A,"a",function(){return E});var c=i("CMID"),a=i("dNsf"),M=i("GgvZ"),O=i("q03q"),x=i("NR2y"),D={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},E=function(S){Object(c.__extends)(p,S);function p(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="ring-process",b}return p.getDefaultOptions=function(){return D},p.prototype.changeData=function(b){this.chart.emit(a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:b}),this.chart.data(Object(O.a)(b)),Object(x.b)({chart:this.chart,options:this.options},!0),this.chart.emit(a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},p.prototype.getDefaultOptions=function(){return p.getDefaultOptions()},p.prototype.getSchemaAdaptor=function(){return x.a},p}(M.b)},A2sQ:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.createSensor=void 0;var c=i("PJ1B"),a=i("BF5W"),M=typeof ResizeObserver!="undefined"?a.createSensor:c.createSensor;A.createSensor=M},AKnH:function(Lt,A,i){"use strict";i.d(A,"a",function(){return Nt});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("RHEd"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("7Nom"),b=i.n(p),y=i("4OuL"),C=i.n(y),I=i("r1m7"),g=i.n(I),R=i("99LQ"),U=i("YcyD"),W=i.n(U),z=i("XN3X"),B=i("c5gd"),L=i("60wz"),w,F,V,Y,tt,q,H,Q,k,K,nt,lt,ut,rt;function ot(ht,yt){var ft;if(typeof Symbol=="undefined"||ht[Symbol.iterator]==null){if(Array.isArray(ht)||(ft=dt(ht))||yt&&ht&&typeof ht.length=="number"){ft&&(ht=ft);var st=0,xt=function(){};return{s:xt,n:function(){return st>=ht.length?{done:!0}:{done:!1,value:ht[st++]}},e:function($){throw $},f:xt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gt=!0,At=!1,pt;return{s:function(){ft=ht[Symbol.iterator]()},n:function(){var $=ft.next();return gt=$.done,$},e:function($){At=!0,pt=$},f:function(){try{!gt&&ft.return!=null&&ft.return()}finally{if(At)throw pt}}}}function dt(ht,yt){if(!!ht){if(typeof ht=="string")return Mt(ht,yt);var ft=Object.prototype.toString.call(ht).slice(8,-1);if(ft==="Object"&&ht.constructor&&(ft=ht.constructor.name),ft==="Map"||ft==="Set")return Array.from(ht);if(ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ft))return Mt(ht,yt)}}function Mt(ht,yt){(yt==null||yt>ht.length)&&(yt=ht.length);for(var ft=0,st=new Array(yt);ft<yt;ft++)st[ft]=ht[ft];return st}var Nt=(w=Object(U.injectable)(),F=Object(U.inject)(z.a.MeshComponentManager),V=Object(U.inject)(z.a.CullableComponentManager),Y=Object(U.inject)(z.a.GeometryComponentManager),tt=Object(U.inject)(z.a.HierarchyComponentManager),q=Object(U.inject)(z.a.TransformComponentManager),w(H=(Q=(rt=function(){function ht(){S()(this,ht),D()(this,"mesh",k,this),D()(this,"cullable",K,this),D()(this,"geometry",nt,this),D()(this,"hierarchy",lt,this),D()(this,"transform",ut,this),this.planes=void 0}return b()(ht,[{key:"setFrustumPlanes",value:function(ft){this.planes=ft}},{key:"execute",value:function(){var yt=O()(a.a.mark(function st(xt){var gt,At,pt,_,$,bt,it,Ot,Pt,Rt,Vt,kt,Wt,wt,ct,jt,Xt,It,Ut,$t,Ft;return a.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:gt=ot(xt);try{for(gt.s();!(At=gt.n()).done;){pt=At.value,_=pt.getScene(),$=pt.getCamera(),bt=ot(_.getEntities());try{for(bt.s();!(it=bt.n()).done;)Ot=it.value,Pt=this.mesh.getComponentByEntity(Ot),Pt&&(Rt=this.hierarchy.getComponentByEntity(Ot),Vt=this.cullable.getComponentByEntity(Ot),kt=Pt.geometry,Wt=this.transform.getComponentByEntity(Ot),kt&&kt.aabb&&Wt&&Pt.aabbDirty&&(wt=Wt.worldTransform,ct=kt.aabb,jt=ct.center,Xt=ct.halfExtents,It=R.e.transformMat4(R.e.create(),jt,wt),Ut=Object(L.b)(wt,R.a.create()),$t=R.e.transformMat3(R.e.create(),Xt,Ut),Pt.aabb.update(It,$t),Pt.aabbDirty=!1),Vt&&kt&&(Ft=this.cullable.getComponentByEntity((Rt==null?void 0:Rt.parentID)||-1),Vt.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(Pt.aabb,(Ft==null?void 0:Ft.visibilityPlaneMask)||B.b.INDETERMINATE,this.planes||$.getFrustum().planes),Vt.visible=Vt.visibilityPlaneMask!==B.b.OUTSIDE))}catch(ce){bt.e(ce)}finally{bt.f()}}}catch(ce){gt.e(ce)}finally{gt.f()}case 2:case"end":return ee.stop()}},st,this)}));function ft(st){return yt.apply(this,arguments)}return ft}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(ft,st,xt){if(st===B.b.OUTSIDE||st===B.b.INSIDE)return st;for(var gt=B.b.INSIDE,At=0,pt=xt.length;At<pt;++At){var _=At<31?1<<At:0;if(!(At<31&&(st&_)==0)){var $=xt[At],bt=$.normal,it=$.distance;if(R.e.dot(bt,ft.getNegativeFarPoint(xt[At]))+it>0)return B.b.OUTSIDE;R.e.dot(bt,ft.getPositiveFarPoint(xt[At]))+it>0&&(gt|=_)}}return gt}}]),ht}(),rt),k=C()(Q.prototype,"mesh",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=C()(Q.prototype,"cullable",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=C()(Q.prototype,"geometry",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=C()(Q.prototype,"hierarchy",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=C()(Q.prototype,"transform",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q))||H)},AM3p:function(Lt,A,i){"use strict";var c=i("XSdR");Lt.exports={adjust:a,undo:M};function a(b){var y=b.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&O(b)}function M(b){var y=b.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&D(b),(y==="lr"||y==="rl")&&(S(b),O(b))}function O(b){c.forEach(b.nodes(),function(y){x(b.node(y))}),c.forEach(b.edges(),function(y){x(b.edge(y))})}function x(b){var y=b.width;b.width=b.height,b.height=y}function D(b){c.forEach(b.nodes(),function(y){E(b.node(y))}),c.forEach(b.edges(),function(y){var C=b.edge(y);c.forEach(C.points,E),c.has(C,"y")&&E(C)})}function E(b){b.y=-b.y}function S(b){c.forEach(b.nodes(),function(y){p(b.node(y))}),c.forEach(b.edges(),function(y){var C=b.edge(y);c.forEach(C.points,p),c.has(C,"x")&&p(C)})}function p(b){var y=b.x;b.x=b.y,b.y=y}},ANdP:function(Lt,A,i){"use strict";var c=i("/WN3"),a=i("8Mtd"),M=i("5Kaj"),O=function(x){Object(c.b)(D,x);function D(){return x!==null&&x.apply(this,arguments)||this}return D.prototype.process=function(E){var S=a.flatten(E),p=this,b=p.xField,y=p.yField,C=this.getXValuesMaxMap(S),I=Math.max.apply(Math,Object.keys(C).map(function(g){return C[g]}));return a.map(E,function(g){return a.map(g,function(R){var U,W,z=R[y],B=R[b];if(a.isArray(z)){var L=(I-C[B])/2;return Object(c.a)(Object(c.a)({},R),(U={},U[y]=a.map(z,function(F){return L+F}),U))}var w=(I-z)/2;return Object(c.a)(Object(c.a)({},R),(W={},W[y]=[w,z+w],W))})})},D.prototype.getXValuesMaxMap=function(E){var S=this,p=this,b=p.xField,y=p.yField,C=a.groupBy(E,function(I){return I[b]});return a.mapValues(C,function(I){return S.getDimMaxValue(I,y)})},D.prototype.getDimMaxValue=function(E,S){var p=a.map(E,function(y){return a.get(y,S,[])}),b=a.flatten(p);return Math.max.apply(Math,b)},D}(M.a);A.a=O},ARn4:function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=i("CMID"),a=i("dNsf"),M=i("GgvZ"),O=i("Jze/"),x=i("RZav"),D=Object(O.c)({},M.b.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}}),E=i("+A0x"),S=function(p){Object(c.__extends)(b,p);function b(y,C){var I=p.call(this,y,C)||this;return I.type="scatter",I.on(a.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(g){var R,U,W=I,z=W.options,B=W.chart;if(((R=g.data)===null||R===void 0?void 0:R.source)===a.BRUSH_FILTER_EVENTS.FILTER){var L=I.chart.filterData(I.chart.getData());Object(x.b)({chart:B,options:Object(c.__assign)(Object(c.__assign)({},z),{data:L})})}((U=g.data)===null||U===void 0?void 0:U.source)===a.BRUSH_FILTER_EVENTS.RESET&&Object(x.b)({chart:B,options:z})}),I}return b.getDefaultOptions=function(){return D},b.prototype.changeData=function(y){this.updateOption(Object(x.c)(Object(O.c)({},this.options,{data:y})));var C=this,I=C.options,g=C.chart;Object(x.b)({chart:g,options:I}),this.chart.changeData(y)},b.prototype.getSchemaAdaptor=function(){return x.a},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b}(M.b)},AUMs:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isStackOverflowExeption=void 0;var c=i("196R");function a(M){return M instanceof RangeError||M.message===c.STACK_OVERFLOW}A.isStackOverflowExeption=a},AaeU:function(Lt,A,i){var c=i("ql+n");Lt.exports=a;function a(M){var O={},x=[],D;function E(S){c.has(O,S)||(O[S]=!0,D.push(S),c.each(M.successors(S),E),c.each(M.predecessors(S),E))}return c.each(M.nodes(),function(S){D=[],E(S),D.length&&x.push(D)}),x}},"Af9/":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=O;var c=i("Eqze");function a(x){x===void 0&&(x={});var D=x,E=function(){},S=function(){var p={};return function(b){var y=b.next;return p[y]?!1:(p[y]=!0,!0)}}();return D.allowTraversal=x.allowTraversal||S,D.enter=x.enter||E,D.leave=x.leave||E,D}function M(x,D,E,S){S.enter({current:D,previous:E});var p=x.edges,b=p===void 0?[]:p;(0,c.getNeighbors)(D,b,"target").forEach(function(y){S.allowTraversal({previous:E,current:D,next:y})&&M(x,y,D,S)}),S.leave({current:D,previous:E})}function O(x,D,E){M(x,D,"",a(E))}},AmsH:function(Lt,A){var i="\\ud800-\\udfff",c="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",M="\\u20d0-\\u20ff",O=c+a+M,x="\\ufe0e\\ufe0f",D="\\u200d",E=RegExp("["+D+i+O+x+"]");function S(p){return E.test(p)}Lt.exports=S},Anwo:function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=i("3sqG"),a=i("oS5r"),M=i("M1/f"),O=i("8Mtd"),x=i("khvB"),D={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(p,b){return b.value-p.value},ratio:.5*(1+Math.sqrt(5))};function E(p,b){return p==="treemapSquarify"?c[p].ratio(b):c[p]}function S(p,b){b=Object(O.assign)({},D,b);var y=b.as;if(!Object(O.isArray)(y)||y.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var C;try{C=Object(x.b)(b)}catch(z){console.warn(z)}var I=E(b.tile,b.ratio),g=function(z){return a.a().tile(I).size(b.size).round(b.round).padding(b.padding).paddingInner(b.paddingInner).paddingOuter(b.paddingOuter).paddingTop(b.paddingTop).paddingRight(b.paddingRight).paddingBottom(b.paddingBottom).paddingLeft(b.paddingLeft)(M.c(z).sum(function(B){return b.ignoreParentValue&&B.children?0:B[C]}).sort(b.sort))},R=g(p),U=y[0],W=y[1];return R.each(function(z){z[U]=[z.x0,z.x1,z.x1,z.x0],z[W]=[z.y1,z.y1,z.y0,z.y0],["x0","x1","y0","y1"].forEach(function(B){y.indexOf(B)===-1&&delete z[B]})}),Object(x.a)(R)}},Aw3q:function(Lt,A){},BDwA:function(Lt,A){},BF5W:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.createSensor=void 0;var c=a(i("5M8n"));function a(O){return O&&O.__esModule?O:{default:O}}var M=function(x){var D=void 0,E=[],S=(0,c.default)(function(){E.forEach(function(I){I(x)})}),p=function(){var g=new ResizeObserver(S);return g.observe(x),S(),g},b=function(g){D||(D=p()),E.indexOf(g)===-1&&E.push(g)},y=function(){D.disconnect(),E=[],D=void 0},C=function(g){var R=E.indexOf(g);R!==-1&&E.splice(R,1),E.length===0&&D&&y()};return{element:x,bind:b,destroy:y,unbind:C}};A.createSensor=M},BLox:function(Lt,A,i){(function(c,a){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var M;(function(O){(function(x){var D=typeof a=="object"?a:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),E=S(O);typeof D.Reflect=="undefined"?D.Reflect=O:E=S(D.Reflect,E),x(E);function S(p,b){return function(y,C){typeof p[y]!="function"&&Object.defineProperty(p,y,{configurable:!0,writable:!0,value:C}),b&&b(y,C)}}})(function(x){var D=Object.prototype.hasOwnProperty,E=typeof Symbol=="function",S=E&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",p=E&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",b=typeof Object.create=="function",y={__proto__:[]}instanceof Array,C=!b&&!y,I={create:b?function(){return $t(Object.create(null))}:y?function(){return $t({__proto__:null})}:function(){return $t({})},has:C?function(Ft,Kt){return D.call(Ft,Kt)}:function(Ft,Kt){return Kt in Ft},get:C?function(Ft,Kt){return D.call(Ft,Kt)?Ft[Kt]:void 0}:function(Ft,Kt){return Ft[Kt]}},g=Object.getPrototypeOf(Function),R=typeof c=="object"&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL==="true",U=!R&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Xt(),W=!R&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:It(),z=!R&&typeof WeakMap=="function"?WeakMap:Ut(),B=new z;function L(Ft,Kt,ee,ce){if(ft(ee)){if(!it(Ft))throw new TypeError;if(!Pt(Kt))throw new TypeError;return K(Ft,Kt)}else{if(!it(Ft))throw new TypeError;if(!gt(Kt))throw new TypeError;if(!gt(ce)&&!ft(ce)&&!st(ce))throw new TypeError;return st(ce)&&(ce=void 0),ee=bt(ee),nt(Ft,Kt,ee,ce)}}x("decorate",L);function w(Ft,Kt){function ee(ce,Se){if(!gt(ce))throw new TypeError;if(!ft(Se)&&!Rt(Se))throw new TypeError;Mt(Ft,Kt,ce,Se)}return ee}x("metadata",w);function F(Ft,Kt,ee,ce){if(!gt(ee))throw new TypeError;return ft(ce)||(ce=bt(ce)),Mt(Ft,Kt,ee,ce)}x("defineMetadata",F);function V(Ft,Kt,ee){if(!gt(Kt))throw new TypeError;return ft(ee)||(ee=bt(ee)),ut(Ft,Kt,ee)}x("hasMetadata",V);function Y(Ft,Kt,ee){if(!gt(Kt))throw new TypeError;return ft(ee)||(ee=bt(ee)),rt(Ft,Kt,ee)}x("hasOwnMetadata",Y);function tt(Ft,Kt,ee){if(!gt(Kt))throw new TypeError;return ft(ee)||(ee=bt(ee)),ot(Ft,Kt,ee)}x("getMetadata",tt);function q(Ft,Kt,ee){if(!gt(Kt))throw new TypeError;return ft(ee)||(ee=bt(ee)),dt(Ft,Kt,ee)}x("getOwnMetadata",q);function H(Ft,Kt){if(!gt(Ft))throw new TypeError;return ft(Kt)||(Kt=bt(Kt)),Nt(Ft,Kt)}x("getMetadataKeys",H);function Q(Ft,Kt){if(!gt(Ft))throw new TypeError;return ft(Kt)||(Kt=bt(Kt)),ht(Ft,Kt)}x("getOwnMetadataKeys",Q);function k(Ft,Kt,ee){if(!gt(Kt))throw new TypeError;ft(ee)||(ee=bt(ee));var ce=lt(Kt,ee,!1);if(ft(ce)||!ce.delete(Ft))return!1;if(ce.size>0)return!0;var Se=B.get(Kt);return Se.delete(ee),Se.size>0||B.delete(Kt),!0}x("deleteMetadata",k);function K(Ft,Kt){for(var ee=Ft.length-1;ee>=0;--ee){var ce=Ft[ee],Se=ce(Kt);if(!ft(Se)&&!st(Se)){if(!Pt(Se))throw new TypeError;Kt=Se}}return Kt}function nt(Ft,Kt,ee,ce){for(var Se=Ft.length-1;Se>=0;--Se){var Ce=Ft[Se],Ge=Ce(Kt,ee,ce);if(!ft(Ge)&&!st(Ge)){if(!gt(Ge))throw new TypeError;ce=Ge}}return ce}function lt(Ft,Kt,ee){var ce=B.get(Ft);if(ft(ce)){if(!ee)return;ce=new U,B.set(Ft,ce)}var Se=ce.get(Kt);if(ft(Se)){if(!ee)return;Se=new U,ce.set(Kt,Se)}return Se}function ut(Ft,Kt,ee){var ce=rt(Ft,Kt,ee);if(ce)return!0;var Se=jt(Kt);return st(Se)?!1:ut(Ft,Se,ee)}function rt(Ft,Kt,ee){var ce=lt(Kt,ee,!1);return ft(ce)?!1:_(ce.has(Ft))}function ot(Ft,Kt,ee){var ce=rt(Ft,Kt,ee);if(ce)return dt(Ft,Kt,ee);var Se=jt(Kt);if(!st(Se))return ot(Ft,Se,ee)}function dt(Ft,Kt,ee){var ce=lt(Kt,ee,!1);if(!ft(ce))return ce.get(Ft)}function Mt(Ft,Kt,ee,ce){var Se=lt(ee,ce,!0);Se.set(Ft,Kt)}function Nt(Ft,Kt){var ee=ht(Ft,Kt),ce=jt(Ft);if(ce===null)return ee;var Se=Nt(ce,Kt);if(Se.length<=0)return ee;if(ee.length<=0)return Se;for(var Ce=new W,Ge=[],hr=0,dr=ee;hr<dr.length;hr++){var ar=dr[hr],qe=Ce.has(ar);qe||(Ce.add(ar),Ge.push(ar))}for(var Xe=0,ur=Se;Xe<ur.length;Xe++){var ar=ur[Xe],qe=Ce.has(ar);qe||(Ce.add(ar),Ge.push(ar))}return Ge}function ht(Ft,Kt){var ee=[],ce=lt(Ft,Kt,!1);if(ft(ce))return ee;for(var Se=ce.keys(),Ce=kt(Se),Ge=0;;){var hr=wt(Ce);if(!hr)return ee.length=Ge,ee;var dr=Wt(hr);try{ee[Ge]=dr}catch(ar){try{ct(Ce)}finally{throw ar}}Ge++}}function yt(Ft){if(Ft===null)return 1;switch(typeof Ft){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Ft===null?1:6;default:return 6}}function ft(Ft){return Ft===void 0}function st(Ft){return Ft===null}function xt(Ft){return typeof Ft=="symbol"}function gt(Ft){return typeof Ft=="object"?Ft!==null:typeof Ft=="function"}function At(Ft,Kt){switch(yt(Ft)){case 0:return Ft;case 1:return Ft;case 2:return Ft;case 3:return Ft;case 4:return Ft;case 5:return Ft}var ee=Kt===3?"string":Kt===5?"number":"default",ce=Vt(Ft,S);if(ce!==void 0){var Se=ce.call(Ft,ee);if(gt(Se))throw new TypeError;return Se}return pt(Ft,ee==="default"?"number":ee)}function pt(Ft,Kt){if(Kt==="string"){var ee=Ft.toString;if(Ot(ee)){var ce=ee.call(Ft);if(!gt(ce))return ce}var Se=Ft.valueOf;if(Ot(Se)){var ce=Se.call(Ft);if(!gt(ce))return ce}}else{var Se=Ft.valueOf;if(Ot(Se)){var ce=Se.call(Ft);if(!gt(ce))return ce}var Ce=Ft.toString;if(Ot(Ce)){var ce=Ce.call(Ft);if(!gt(ce))return ce}}throw new TypeError}function _(Ft){return!!Ft}function $(Ft){return""+Ft}function bt(Ft){var Kt=At(Ft,3);return xt(Kt)?Kt:$(Kt)}function it(Ft){return Array.isArray?Array.isArray(Ft):Ft instanceof Object?Ft instanceof Array:Object.prototype.toString.call(Ft)==="[object Array]"}function Ot(Ft){return typeof Ft=="function"}function Pt(Ft){return typeof Ft=="function"}function Rt(Ft){switch(yt(Ft)){case 3:return!0;case 4:return!0;default:return!1}}function Vt(Ft,Kt){var ee=Ft[Kt];if(ee!=null){if(!Ot(ee))throw new TypeError;return ee}}function kt(Ft){var Kt=Vt(Ft,p);if(!Ot(Kt))throw new TypeError;var ee=Kt.call(Ft);if(!gt(ee))throw new TypeError;return ee}function Wt(Ft){return Ft.value}function wt(Ft){var Kt=Ft.next();return Kt.done?!1:Kt}function ct(Ft){var Kt=Ft.return;Kt&&Kt.call(Ft)}function jt(Ft){var Kt=Object.getPrototypeOf(Ft);if(typeof Ft!="function"||Ft===g||Kt!==g)return Kt;var ee=Ft.prototype,ce=ee&&Object.getPrototypeOf(ee);if(ce==null||ce===Object.prototype)return Kt;var Se=ce.constructor;return typeof Se!="function"||Se===Ft?Kt:Se}function Xt(){var Ft={},Kt=[],ee=function(){function Ge(hr,dr,ar){this._index=0,this._keys=hr,this._values=dr,this._selector=ar}return Ge.prototype["@@iterator"]=function(){return this},Ge.prototype[p]=function(){return this},Ge.prototype.next=function(){var hr=this._index;if(hr>=0&&hr<this._keys.length){var dr=this._selector(this._keys[hr],this._values[hr]);return hr+1>=this._keys.length?(this._index=-1,this._keys=Kt,this._values=Kt):this._index++,{value:dr,done:!1}}return{value:void 0,done:!0}},Ge.prototype.throw=function(hr){throw this._index>=0&&(this._index=-1,this._keys=Kt,this._values=Kt),hr},Ge.prototype.return=function(hr){return this._index>=0&&(this._index=-1,this._keys=Kt,this._values=Kt),{value:hr,done:!0}},Ge}();return function(){function Ge(){this._keys=[],this._values=[],this._cacheKey=Ft,this._cacheIndex=-2}return Object.defineProperty(Ge.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ge.prototype.has=function(hr){return this._find(hr,!1)>=0},Ge.prototype.get=function(hr){var dr=this._find(hr,!1);return dr>=0?this._values[dr]:void 0},Ge.prototype.set=function(hr,dr){var ar=this._find(hr,!0);return this._values[ar]=dr,this},Ge.prototype.delete=function(hr){var dr=this._find(hr,!1);if(dr>=0){for(var ar=this._keys.length,qe=dr+1;qe<ar;qe++)this._keys[qe-1]=this._keys[qe],this._values[qe-1]=this._values[qe];return this._keys.length--,this._values.length--,hr===this._cacheKey&&(this._cacheKey=Ft,this._cacheIndex=-2),!0}return!1},Ge.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Ft,this._cacheIndex=-2},Ge.prototype.keys=function(){return new ee(this._keys,this._values,ce)},Ge.prototype.values=function(){return new ee(this._keys,this._values,Se)},Ge.prototype.entries=function(){return new ee(this._keys,this._values,Ce)},Ge.prototype["@@iterator"]=function(){return this.entries()},Ge.prototype[p]=function(){return this.entries()},Ge.prototype._find=function(hr,dr){return this._cacheKey!==hr&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=hr)),this._cacheIndex<0&&dr&&(this._cacheIndex=this._keys.length,this._keys.push(hr),this._values.push(void 0)),this._cacheIndex},Ge}();function ce(Ge,hr){return Ge}function Se(Ge,hr){return hr}function Ce(Ge,hr){return[Ge,hr]}}function It(){return function(){function Ft(){this._map=new U}return Object.defineProperty(Ft.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Ft.prototype.has=function(Kt){return this._map.has(Kt)},Ft.prototype.add=function(Kt){return this._map.set(Kt,Kt),this},Ft.prototype.delete=function(Kt){return this._map.delete(Kt)},Ft.prototype.clear=function(){this._map.clear()},Ft.prototype.keys=function(){return this._map.keys()},Ft.prototype.values=function(){return this._map.values()},Ft.prototype.entries=function(){return this._map.entries()},Ft.prototype["@@iterator"]=function(){return this.keys()},Ft.prototype[p]=function(){return this.keys()},Ft}()}function Ut(){var Ft=16,Kt=I.create(),ee=ce();return function(){function dr(){this._key=ce()}return dr.prototype.has=function(ar){var qe=Se(ar,!1);return qe!==void 0?I.has(qe,this._key):!1},dr.prototype.get=function(ar){var qe=Se(ar,!1);return qe!==void 0?I.get(qe,this._key):void 0},dr.prototype.set=function(ar,qe){var Xe=Se(ar,!0);return Xe[this._key]=qe,this},dr.prototype.delete=function(ar){var qe=Se(ar,!1);return qe!==void 0?delete qe[this._key]:!1},dr.prototype.clear=function(){this._key=ce()},dr}();function ce(){var dr;do dr="@@WeakMap@@"+hr();while(I.has(Kt,dr));return Kt[dr]=!0,dr}function Se(dr,ar){if(!D.call(dr,ee)){if(!ar)return;Object.defineProperty(dr,ee,{value:I.create()})}return dr[ee]}function Ce(dr,ar){for(var qe=0;qe<ar;++qe)dr[qe]=Math.random()*255|0;return dr}function Ge(dr){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(dr)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(dr)):Ce(new Uint8Array(dr),dr):Ce(new Array(dr),dr)}function hr(){var dr=Ge(Ft);dr[6]=dr[6]&79|64,dr[8]=dr[8]&191|128;for(var ar="",qe=0;qe<Ft;++qe){var Xe=dr[qe];(qe===4||qe===6||qe===8)&&(ar+="-"),Xe<16&&(ar+="0"),ar+=Xe.toString(16).toLowerCase()}return ar}}function $t(Ft){return Ft.__=void 0,delete Ft.__,Ft}})})(M||(M={}))}).call(this,i("7vYp"),i("HdUg"))},BSge:function(Lt,A,i){"use strict";i.d(A,"a",function(){return M}),i.d(A,"b",function(){return O});var c=i("oFJY"),a=i("SCaY");function M(x,D){D.forEach(function(E){E.draw(x)})}function O(x,D){var E=x.get("canvas");if(E&&E.get("autoDraw")){var S=E.get("context"),p=x.getParent(),b=p?p.getChildren():[E],y=x.get("el");if(D==="remove"){var C=x.get("isClipShape");if(C){var I=y&&y.parentNode,g=I&&I.parentNode;I&&g&&g.removeChild(I)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(D==="show")y.setAttribute("visibility","visible");else if(D==="hide")y.setAttribute("visibility","hidden");else if(D==="zIndex")Object(a.c)(y,b.indexOf(x));else if(D==="sort"){var R=x.get("children");R&&R.length&&Object(a.d)(x,function(U,W){return R.indexOf(U)-R.indexOf(W)?1:0})}else D==="clear"?y&&(y.innerHTML=""):D==="matrix"?Object(c.c)(x):D==="clip"?Object(c.a)(x,S):D==="attr"||D==="add"&&x.draw(S)}}},BTaQ:function(Lt,A,i){Lt.exports=i("rBQE")},BbNA:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var c=Symbol.for("INJECTION");function a(E,S,p,b){function y(){return b&&!Reflect.hasMetadata(c,this,S)&&Reflect.defineMetadata(c,p(),this,S),Reflect.hasMetadata(c,this,S)?Reflect.getMetadata(c,this,S):p()}function C(I){Reflect.defineMetadata(c,I,this,S)}Object.defineProperty(E,S,{configurable:!0,enumerable:!0,get:y,set:C})}function M(E,S){return function(p){return function(b,y){var C=function(){return E.get(p)};a(b,y,C,S)}}}A.makePropertyInjectDecorator=M;function O(E,S){return function(p,b){return function(y,C){var I=function(){return E.getNamed(p,b)};a(y,C,I,S)}}}A.makePropertyInjectNamedDecorator=O;function x(E,S){return function(p,b,y){return function(C,I){var g=function(){return E.getTagged(p,b,y)};a(C,I,g,S)}}}A.makePropertyInjectTaggedDecorator=x;function D(E,S){return function(p){return function(b,y){var C=function(){return E.getAll(p)};a(b,y,C,S)}}}A.makePropertyMultiInjectDecorator=D},BgQB:function(Lt,A,i){"use strict";i.d(A,"a",function(){return ft});var c=i("q66O"),a=i.n(c),M=i("/wRx"),O=i.n(M),x=i("qaCK"),D=i.n(x),E=i("RHEd"),S=i.n(E),p=i("16OP"),b=i.n(p),y=i("7Nom"),C=i.n(y),I=i("4OuL"),g=i.n(I),R=i("r1m7"),U=i("YcyD"),W=i("XN3X"),z=function st(){b()(this,st),this.index=void 0},B=function st(){b()(this,st),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},L=function(){function st(){b()(this,st),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return C()(st,[{key:"read",value:function(gt){return this.reads.find(function(At){return At.index===gt.index})||this.reads.push(gt),gt}},{key:"sample",value:function(gt){return this.read(gt),gt}},{key:"write",value:function(gt,At){var pt=this.writes.find(function(it){return it.index===At.index});if(pt)return At;var _=gt.getResourceNode(At);_.resource.version++,_.resource.imported&&(this.hasSideEffect=!0);var $=gt.createResourceNode(_.resource),bt=gt.getResourceNode($);return bt.writer=this,this.writes.push($),$}}]),st}(),w=i("oOaK"),F=i.n(w),V=i("vpv6"),Y=i.n(V),tt=i("G5xY"),q=i.n(tt),H=function st(){b()(this,st),this.first=void 0,this.last=void 0};function Q(st){var xt=k();return function(){var At=q()(st),pt;if(xt){var _=q()(this).constructor;pt=Reflect.construct(At,arguments,_)}else pt=At.apply(this,arguments);return Y()(this,pt)}}function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(st){return!1}}var K=function(st){F()(gt,st);var xt=Q(gt);function gt(){var At;b()(this,gt);for(var pt=arguments.length,_=new Array(pt),$=0;$<pt;$++)_[$]=arguments[$];return At=xt.call.apply(xt,[this].concat(_)),At.version=0,At.refs=0,At.name=void 0,At.imported=void 0,At.priority=void 0,At.discardStart=!0,At.discardEnd=!1,At.descriptor=void 0,At.resource=void 0,At}return C()(gt,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){!this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){!this.imported}}]),gt}(H),nt=function st(){b()(this,st),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},lt,ut,rt,ot,dt,Mt;function Nt(st,xt){var gt;if(typeof Symbol=="undefined"||st[Symbol.iterator]==null){if(Array.isArray(st)||(gt=ht(st))||xt&&st&&typeof st.length=="number"){gt&&(st=gt);var At=0,pt=function(){};return{s:pt,n:function(){return At>=st.length?{done:!0}:{done:!1,value:st[At++]}},e:function(Ot){throw Ot},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,$=!1,bt;return{s:function(){gt=st[Symbol.iterator]()},n:function(){var Ot=gt.next();return _=Ot.done,Ot},e:function(Ot){$=!0,bt=Ot},f:function(){try{!_&&gt.return!=null&&gt.return()}finally{if($)throw bt}}}}function ht(st,xt){if(!!st){if(typeof st=="string")return yt(st,xt);var gt=Object.prototype.toString.call(st).slice(8,-1);if(gt==="Object"&&st.constructor&&(gt=st.constructor.name),gt==="Map"||gt==="Set")return Array.from(st);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return yt(st,xt)}}function yt(st,xt){(xt==null||xt>st.length)&&(xt=st.length);for(var gt=0,At=new Array(xt);gt<xt;gt++)At[gt]=st[gt];return At}var ft=(lt=Object(U.injectable)(),ut=Object(U.inject)(W.a.RenderEngine),lt(rt=(ot=(Mt=function(){function st(){b()(this,st),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],S()(this,"engine",dt,this)}return C()(st,[{key:"execute",value:function(){var xt=D()(O.a.mark(function At(pt){return O.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return this.compile(),$.next=3,this.executePassNodes(pt);case 3:case"end":return $.stop()}},At,this)}));function gt(At){return xt.apply(this,arguments)}return gt}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(gt){gt.tearDown&&gt.tearDown()}),this.reset()}},{key:"addPass",value:function(gt,At,pt,_){var $=new B;$.execute=pt,_&&($.tearDown=_),$.name=gt;var bt=new L;return bt.name=gt,this.passNodes.push(bt),this.frameGraphPasses.push($),At(this,bt,$),$}},{key:"getPass",value:function(gt){return this.frameGraphPasses.find(function(At){return At.name===gt})}},{key:"compile",value:function(){var gt=this,At=Nt(this.passNodes),pt;try{for(At.s();!(pt=At.n()).done;){var _=pt.value;_.refCount=_.writes.length+(_.hasSideEffect?1:0),_.reads.forEach(function(ur){gt.resourceNodes[ur.index].readerCount++})}}catch(ur){At.e(ur)}finally{At.f()}var $=[],bt=Nt(this.resourceNodes),it;try{for(bt.s();!(it=bt.n()).done;){var Ot=it.value;Ot.readerCount===0&&$.push(Ot)}}catch(ur){bt.e(ur)}finally{bt.f()}for(;$.length;){var Pt=$.pop(),Rt=Pt&&Pt.writer;if(Rt&&--Rt.refCount==0){var Vt=Nt(Rt.reads),kt;try{for(Vt.s();!(kt=Vt.n()).done;){var Wt=kt.value,wt=this.resourceNodes[Wt.index];--wt.readerCount==0&&$.push(wt)}}catch(ur){Vt.e(ur)}finally{Vt.f()}}}this.resourceNodes.forEach(function(ur){ur.resource.refs+=ur.readerCount});var ct=Nt(this.passNodes),jt;try{for(ct.s();!(jt=ct.n()).done;){var Xt=jt.value;if(!!Xt.refCount){var It=Nt(Xt.reads),Ut;try{for(It.s();!(Ut=It.n()).done;){var $t=Ut.value,Ft=this.resourceNodes[$t.index].resource;Ft.first=Ft.first?Ft.first:Xt,Ft.last=Xt}}catch(ur){It.e(ur)}finally{It.f()}var Kt=Nt(Xt.writes),ee;try{for(Kt.s();!(ee=Kt.n()).done;){var ce=ee.value,Se=this.resourceNodes[ce.index].resource;Se.first=Se.first?Se.first:Xt,Se.last=Xt}}catch(ur){Kt.e(ur)}finally{Kt.f()}}}}catch(ur){ct.e(ur)}finally{ct.f()}for(var Ce=0;Ce<2;Ce++){var Ge=Nt(this.resourceNodes),hr;try{for(Ge.s();!(hr=Ge.n()).done;){var dr=hr.value,ar=dr.resource;if(ar.priority===Ce&&ar.refs){var qe=ar.first,Xe=ar.last;qe&&Xe&&(qe.devirtualize.push(ar),Xe.destroy.push(ar))}}}catch(ur){Ge.e(ur)}finally{Ge.f()}}}},{key:"executePassNodes",value:function(){var xt=D()(O.a.mark(function At(pt){var _,$,bt,it,Ot,Pt,Rt,Vt,kt,Wt,wt,ct,jt,Xt,It,Ut,$t;return O.a.wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:_=Nt(this.passNodes.entries()),Kt.prev=1,_.s();case 3:if(($=_.n()).done){Kt.next=18;break}if(bt=a()($.value,2),it=bt[0],Ot=bt[1],!Ot.refCount){Kt.next=16;break}Pt=Nt(Ot.devirtualize);try{for(Pt.s();!(Rt=Pt.n()).done;)Vt=Rt.value,Vt.preExecuteDevirtualize(this.engine)}catch(ee){Pt.e(ee)}finally{Pt.f()}kt=Nt(Ot.destroy);try{for(kt.s();!(Wt=kt.n()).done;)wt=Wt.value,wt.preExecuteDestroy(this.engine)}catch(ee){kt.e(ee)}finally{kt.f()}return Kt.next=12,this.frameGraphPasses[it].execute(this,this.frameGraphPasses[it],pt);case 12:ct=Nt(Ot.devirtualize);try{for(ct.s();!(jt=ct.n()).done;)Xt=jt.value,Xt.postExecuteDevirtualize(this.engine)}catch(ee){ct.e(ee)}finally{ct.f()}It=Nt(Ot.destroy);try{for(It.s();!(Ut=It.n()).done;)$t=Ut.value,$t.postExecuteDestroy(this.engine)}catch(ee){It.e(ee)}finally{It.f()}case 16:Kt.next=3;break;case 18:Kt.next=23;break;case 20:Kt.prev=20,Kt.t0=Kt.catch(1),_.e(Kt.t0);case 23:return Kt.prev=23,_.f(),Kt.finish(23);case 26:this.reset();case 27:case"end":return Kt.stop()}},At,this,[[1,20,23,26]])}));function gt(At){return xt.apply(this,arguments)}return gt}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(gt){return this.resourceNodes[gt.index]}},{key:"createResourceNode",value:function(gt){var At=new nt;At.resource=gt,At.version=gt.version,this.resourceNodes.push(At);var pt=new z;return pt.index=this.resourceNodes.length-1,pt}},{key:"createTexture",value:function(gt,At,pt){var _=new K;return _.name=At,_.descriptor=pt,this.createResourceNode(_)}},{key:"createRenderTarget",value:function(gt,At,pt){var _=new K;return _.name=At,_.descriptor=pt,this.createResourceNode(_)}},{key:"present",value:function(gt){this.addPass("Present",function(At,pt){pt.read(gt),pt.hasSideEffect=!0},D()(O.a.mark(function At(){return O.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:case"end":return _.stop()}},At)})))}}]),st}(),Mt),dt=g()(ot.prototype,"engine",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot))||rt)},CG4S:function(Lt,A){var i="\\ud800-\\udfff",c="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",M="\\u20d0-\\u20ff",O=c+a+M,x="\\ufe0e\\ufe0f",D="["+i+"]",E="["+O+"]",S="\\ud83c[\\udffb-\\udfff]",p="(?:"+E+"|"+S+")",b="[^"+i+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",I="\\u200d",g=p+"?",R="["+x+"]?",U="(?:"+I+"(?:"+[b,y,C].join("|")+")"+R+g+")*",W=R+g+U,z="(?:"+[b+E+"?",E,y,C,D].join("|")+")",B=RegExp(S+"(?="+S+")|"+z+W,"g");function L(w){for(var F=B.lastIndex=0;B.test(w);)++F;return F}Lt.exports=L},CMID:function(Lt,A,i){"use strict";i.r(A),i.d(A,"__extends",function(){return a}),i.d(A,"__assign",function(){return M}),i.d(A,"__rest",function(){return O}),i.d(A,"__decorate",function(){return x}),i.d(A,"__param",function(){return D}),i.d(A,"__metadata",function(){return E}),i.d(A,"__awaiter",function(){return S}),i.d(A,"__generator",function(){return p}),i.d(A,"__createBinding",function(){return b}),i.d(A,"__exportStar",function(){return y}),i.d(A,"__values",function(){return C}),i.d(A,"__read",function(){return I}),i.d(A,"__spread",function(){return g}),i.d(A,"__spreadArrays",function(){return R}),i.d(A,"__spreadArray",function(){return U}),i.d(A,"__await",function(){return W}),i.d(A,"__asyncGenerator",function(){return z}),i.d(A,"__asyncDelegator",function(){return B}),i.d(A,"__asyncValues",function(){return L}),i.d(A,"__makeTemplateObject",function(){return w}),i.d(A,"__importStar",function(){return V}),i.d(A,"__importDefault",function(){return Y}),i.d(A,"__classPrivateFieldGet",function(){return tt}),i.d(A,"__classPrivateFieldSet",function(){return q});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c=function(H,Q){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,K){k.__proto__=K}||function(k,K){for(var nt in K)Object.prototype.hasOwnProperty.call(K,nt)&&(k[nt]=K[nt])},c(H,Q)};function a(H,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");c(H,Q);function k(){this.constructor=H}H.prototype=Q===null?Object.create(Q):(k.prototype=Q.prototype,new k)}var M=function(){return M=Object.assign||function(Q){for(var k,K=1,nt=arguments.length;K<nt;K++){k=arguments[K];for(var lt in k)Object.prototype.hasOwnProperty.call(k,lt)&&(Q[lt]=k[lt])}return Q},M.apply(this,arguments)};function O(H,Q){var k={};for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&Q.indexOf(K)<0&&(k[K]=H[K]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,K=Object.getOwnPropertySymbols(H);nt<K.length;nt++)Q.indexOf(K[nt])<0&&Object.prototype.propertyIsEnumerable.call(H,K[nt])&&(k[K[nt]]=H[K[nt]]);return k}function x(H,Q,k,K){var nt=arguments.length,lt=nt<3?Q:K===null?K=Object.getOwnPropertyDescriptor(Q,k):K,ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(H,Q,k,K);else for(var rt=H.length-1;rt>=0;rt--)(ut=H[rt])&&(lt=(nt<3?ut(lt):nt>3?ut(Q,k,lt):ut(Q,k))||lt);return nt>3&&lt&&Object.defineProperty(Q,k,lt),lt}function D(H,Q){return function(k,K){Q(k,K,H)}}function E(H,Q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(H,Q)}function S(H,Q,k,K){function nt(lt){return lt instanceof k?lt:new k(function(ut){ut(lt)})}return new(k||(k=Promise))(function(lt,ut){function rt(Mt){try{dt(K.next(Mt))}catch(Nt){ut(Nt)}}function ot(Mt){try{dt(K.throw(Mt))}catch(Nt){ut(Nt)}}function dt(Mt){Mt.done?lt(Mt.value):nt(Mt.value).then(rt,ot)}dt((K=K.apply(H,Q||[])).next())})}function p(H,Q){var k={label:0,sent:function(){if(lt[0]&1)throw lt[1];return lt[1]},trys:[],ops:[]},K,nt,lt,ut;return ut={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function rt(dt){return function(Mt){return ot([dt,Mt])}}function ot(dt){if(K)throw new TypeError("Generator is already executing.");for(;k;)try{if(K=1,nt&&(lt=dt[0]&2?nt.return:dt[0]?nt.throw||((lt=nt.return)&&lt.call(nt),0):nt.next)&&!(lt=lt.call(nt,dt[1])).done)return lt;switch(nt=0,lt&&(dt=[dt[0]&2,lt.value]),dt[0]){case 0:case 1:lt=dt;break;case 4:return k.label++,{value:dt[1],done:!1};case 5:k.label++,nt=dt[1],dt=[0];continue;case 7:dt=k.ops.pop(),k.trys.pop();continue;default:if(lt=k.trys,!(lt=lt.length>0&&lt[lt.length-1])&&(dt[0]===6||dt[0]===2)){k=0;continue}if(dt[0]===3&&(!lt||dt[1]>lt[0]&&dt[1]<lt[3])){k.label=dt[1];break}if(dt[0]===6&&k.label<lt[1]){k.label=lt[1],lt=dt;break}if(lt&&k.label<lt[2]){k.label=lt[2],k.ops.push(dt);break}lt[2]&&k.ops.pop(),k.trys.pop();continue}dt=Q.call(H,k)}catch(Mt){dt=[6,Mt],nt=0}finally{K=lt=0}if(dt[0]&5)throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}}var b=Object.create?function(H,Q,k,K){K===void 0&&(K=k),Object.defineProperty(H,K,{enumerable:!0,get:function(){return Q[k]}})}:function(H,Q,k,K){K===void 0&&(K=k),H[K]=Q[k]};function y(H,Q){for(var k in H)k!=="default"&&!Object.prototype.hasOwnProperty.call(Q,k)&&b(Q,H,k)}function C(H){var Q=typeof Symbol=="function"&&Symbol.iterator,k=Q&&H[Q],K=0;if(k)return k.call(H);if(H&&typeof H.length=="number")return{next:function(){return H&&K>=H.length&&(H=void 0),{value:H&&H[K++],done:!H}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(H,Q){var k=typeof Symbol=="function"&&H[Symbol.iterator];if(!k)return H;var K=k.call(H),nt,lt=[],ut;try{for(;(Q===void 0||Q-- >0)&&!(nt=K.next()).done;)lt.push(nt.value)}catch(rt){ut={error:rt}}finally{try{nt&&!nt.done&&(k=K.return)&&k.call(K)}finally{if(ut)throw ut.error}}return lt}function g(){for(var H=[],Q=0;Q<arguments.length;Q++)H=H.concat(I(arguments[Q]));return H}function R(){for(var H=0,Q=0,k=arguments.length;Q<k;Q++)H+=arguments[Q].length;for(var K=Array(H),nt=0,Q=0;Q<k;Q++)for(var lt=arguments[Q],ut=0,rt=lt.length;ut<rt;ut++,nt++)K[nt]=lt[ut];return K}function U(H,Q,k){if(k||arguments.length===2)for(var K=0,nt=Q.length,lt;K<nt;K++)(lt||!(K in Q))&&(lt||(lt=Array.prototype.slice.call(Q,0,K)),lt[K]=Q[K]);return H.concat(lt||Q)}function W(H){return this instanceof W?(this.v=H,this):new W(H)}function z(H,Q,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=k.apply(H,Q||[]),nt,lt=[];return nt={},ut("next"),ut("throw"),ut("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function ut(ht){K[ht]&&(nt[ht]=function(yt){return new Promise(function(ft,st){lt.push([ht,yt,ft,st])>1||rt(ht,yt)})})}function rt(ht,yt){try{ot(K[ht](yt))}catch(ft){Nt(lt[0][3],ft)}}function ot(ht){ht.value instanceof W?Promise.resolve(ht.value.v).then(dt,Mt):Nt(lt[0][2],ht)}function dt(ht){rt("next",ht)}function Mt(ht){rt("throw",ht)}function Nt(ht,yt){ht(yt),lt.shift(),lt.length&&rt(lt[0][0],lt[0][1])}}function B(H){var Q,k;return Q={},K("next"),K("throw",function(nt){throw nt}),K("return"),Q[Symbol.iterator]=function(){return this},Q;function K(nt,lt){Q[nt]=H[nt]?function(ut){return(k=!k)?{value:W(H[nt](ut)),done:nt==="return"}:lt?lt(ut):ut}:lt}}function L(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=H[Symbol.asyncIterator],k;return Q?Q.call(H):(H=typeof C=="function"?C(H):H[Symbol.iterator](),k={},K("next"),K("throw"),K("return"),k[Symbol.asyncIterator]=function(){return this},k);function K(lt){k[lt]=H[lt]&&function(ut){return new Promise(function(rt,ot){ut=H[lt](ut),nt(rt,ot,ut.done,ut.value)})}}function nt(lt,ut,rt,ot){Promise.resolve(ot).then(function(dt){lt({value:dt,done:rt})},ut)}}function w(H,Q){return Object.defineProperty?Object.defineProperty(H,"raw",{value:Q}):H.raw=Q,H}var F=Object.create?function(H,Q){Object.defineProperty(H,"default",{enumerable:!0,value:Q})}:function(H,Q){H.default=Q};function V(H){if(H&&H.__esModule)return H;var Q={};if(H!=null)for(var k in H)k!=="default"&&Object.prototype.hasOwnProperty.call(H,k)&&b(Q,H,k);return F(Q,H),Q}function Y(H){return H&&H.__esModule?H:{default:H}}function tt(H,Q,k,K){if(k==="a"&&!K)throw new TypeError("Private accessor was defined without a getter");if(typeof Q=="function"?H!==Q||!K:!Q.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return k==="m"?K:k==="a"?K.call(H):K?K.value:Q.get(H)}function q(H,Q,k,K,nt){if(K==="m")throw new TypeError("Private method is not writable");if(K==="a"&&!nt)throw new TypeError("Private accessor was defined without a setter");if(typeof Q=="function"?H!==Q||!nt:!Q.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?nt.call(H,k):nt?nt.value=k:Q.set(H,k),k}},CNre:function(Lt,A,i){"use strict";i.d(A,"a",function(){return w});var c=i("CMID"),a=i("GgvZ"),M=i("s9g+"),O=i("Yz/u"),x=i("Jze/"),D=i("9g8t"),E="$$stock-range$$",S="trend",p="up",b="down",y={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(F,V,Y){var tt;if(F==="x"){var q=Y[0];tt=q?q.title:V}else tt=V;return{position:F==="y"?"start":"end",content:tt,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},C=Object(x.c)({},a.b.getDefaultOptions(),{tooltip:y,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"}),I=i("8Mtd");function g(F,V){return Object(I.map)(F,function(Y){if(Object(I.isArray)(V)){var tt=V[0],q=V[1],H=V[2],Q=V[3];Y[S]=Y[tt]<=Y[q]?p:b,Y[E]=[Y[tt],Y[q],Y[H],Y[Q]]}return Y})}function R(F){var V=F.chart,Y=F.options,tt=Y.yField,q=Y.data,H=Y.risingFill,Q=Y.fallingFill,k=Y.tooltip,K=Y.stockStyle;V.data(g(q,tt));var nt=k;return nt!==!1&&(nt=Object(x.c)({},{fields:tt},nt)),Object(O.g)(Object(x.c)({},F,{options:{schema:{shape:"candle",color:[H,Q],style:K},yField:E,seriesField:S,rawFields:tt,tooltip:nt}})),F}function U(F){var V,Y,tt=F.chart,q=F.options,H=q.meta,Q=q.xAxis,k=q.yAxis,K=q.xField,nt=(V={},V[K]={type:"timeCat",tickCount:6},V[S]={values:[p,b]},V),lt=Object(x.c)(nt,H,(Y={},Y[K]=Object(x.s)(Q,D.a),Y[E]=Object(x.s)(k,D.a),Y));return tt.scale(lt),F}function W(F){var V=F.chart,Y=F.options,tt=Y.xAxis,q=Y.yAxis,H=Y.xField;return tt===!1?V.axis(H,!1):V.axis(H,tt),q===!1?V.axis(E,!1):V.axis(E,q),F}function z(F){var V=F.chart,Y=F.options,tt=Y.tooltip;return tt!==!1?V.tooltip(tt):V.tooltip(!1),F}function B(F){var V=F.chart,Y=F.options,tt=Y.legend;return tt?V.legend(S,tt):tt===!1&&V.legend(!1),F}function L(F){Object(x.f)(M.j,R,U,W,z,B,M.c,M.a,Object(M.b)(),M.h)(F)}var w=function(F){Object(c.__extends)(V,F);function V(){var Y=F!==null&&F.apply(this,arguments)||this;return Y.type="stock",Y}return V.getDefaultOptions=function(){return C},V.prototype.getDefaultOptions=function(){return V.getDefaultOptions()},V.prototype.getSchemaAdaptor=function(){return L},V.prototype.changeData=function(Y){this.updateOption({data:Y});var tt=this.options.yField;this.chart.changeData(g(Y,tt))},V}(a.b)},COEK:function(Lt,A){Lt.exports=i;function i(c,a,M,O){var x=a[0],D=a[1];return c[0]=x+O*(M[0]-x),c[1]=D+O*(M[1]-D),c}},COxP:function(Lt,A,i){"use strict";i.d(A,"a",function(){return x});var c=i("CMID"),a=i("4517"),M=i("Jze/"),O=i("mT8n");function x(D){var E=D.options,S=E.polygon,p=E.xField,b=E.yField,y=E.seriesField,C=E.tooltip,I=Object(a.a)(C,[p,b,y]),g=I.fields,R=I.formatter;return S?Object(O.a)(Object(M.c)({},D,{options:{type:"polygon",colorField:y,tooltipFields:g,mapping:Object(c.__assign)({tooltip:R},S)}})):D}},CURf:function(Lt,A,i){"use strict";i.d(A,"a",function(){return g});var c=i("16OP"),a=i.n(c),M=i("cW+D"),O=i.n(M),x=i("oOaK"),D=i.n(x),E=i("vpv6"),S=i.n(E),p=i("G5xY"),b=i.n(p),y=i("Hg9g");function C(R){var U=I();return function(){var z=b()(R),B;if(U){var L=b()(this).constructor;B=Reflect.construct(z,arguments,L)}else B=z.apply(this,arguments);return S()(this,B)}}function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(R){return!1}}var g=function(R){D()(W,R);var U=C(W);function W(z){var B;return a()(this,W),B=U.call(this,z),B.parentID=void 0,Object.assign(O()(B),z),B}return W}(y.a)},Ca6f:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.targetName=void 0;var c=i("9L8m"),a=i("rMkn"),M=i("ZLnY");function O(x){return function(D,E,S){var p=new a.Metadata(c.NAME_TAG,x);M.tagParameter(D,E,S,p)}}A.targetName=O},CdXo:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.postConstruct=void 0;var c=i("196R"),a=i("9L8m"),M=i("rMkn");function O(){return function(x,D,E){var S=new M.Metadata(a.POST_CONSTRUCT,D);if(Reflect.hasOwnMetadata(a.POST_CONSTRUCT,x.constructor))throw new Error(c.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(a.POST_CONSTRUCT,S,x.constructor)}}A.postConstruct=O},CyRS:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("U8wd"),M=i("8Mtd"),O=i("ozhX"),x=i("BSge"),D=i("oFJY"),E=i("0xlF"),S=i("SCaY"),p=function(b){Object(c.__extends)(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var C=Object(S.b)("g");this.set("el",C);var I=this.getParent();if(I){var g=I.get("el");g||(g=I.createDom(),I.set("el",g)),g.appendChild(C)}return C},y.prototype.afterAttrsChange=function(C){b.prototype.afterAttrsChange.call(this,C);var I=this.get("canvas");if(I&&I.get("autoDraw")){var g=I.get("context");this.createPath(g,C)}},y.prototype.onCanvasChange=function(C){Object(x.b)(this,C)},y.prototype.getShapeBase=function(){return O},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(C){var I=this.getChildren(),g=this.get("el");this.get("destroyed")?g&&g.parentNode.removeChild(g):(g||this.createDom(),Object(D.a)(this,C),this.createPath(C),I.length&&Object(x.a)(C,I))},y.prototype.createPath=function(C,I){var g=this.attr(),R=this.get("el");Object(M.each)(I||g,function(U,W){E.b[W]&&R.setAttribute(E.b[W],U)}),Object(D.c)(this)},y}(a.AbstractGroup);A.a=p},DBqA:function(Lt,A,i){"use strict";i.d(A,"b",function(){return M}),i.d(A,"c",function(){return x}),i.d(A,"a",function(){return D});var c=i("tSnd"),a=i("r93A");function M(E,S,p){var b=1;if(Object(c.h)(E)&&(b=E.split(`
`).length),b>1){var y=O(S,p);return S*b+y*(b-1)}return S}function O(E,S){return S?S-E:E*.14}function x(E,S){var p=Object(a.a)(),b=0;if(Object(c.e)(E)||E==="")return b;if(p.save(),p.font=S,Object(c.h)(E)&&E.includes(`
`)){var y=E.split(`
`);Object(c.a)(y,function(C){var I=p.measureText(C).width;b<I&&(b=I)})}else b=p.measureText(E).width;return p.restore(),b}function D(E){var S=E.fontSize,p=E.fontFamily,b=E.fontWeight,y=E.fontStyle,C=E.fontVariant;return[y,C,b,S+"px",p].join(" ").trim()}},DC1X:function(Lt,A,i){var c=i("E9DR");Lt.exports=a;function a(M,O){return c(M,O,"pre")}},DUby:function(Lt,A){},DUss:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=M(i("8ceh")),a=i("Eqze");function M(E){return E&&E.__esModule?E:{default:E}}function O(E){E===void 0&&(E={});var S=E,p=function(){},b=function(){var y={};return function(C){var I=C.next,g=I;return y[g]?!1:(y[g]=!0,!0)}}();return S.allowTraversal=E.allowTraversal||b,S.enter=E.enter||p,S.leave=E.leave||p,S}var x=function(S,p,b){var y=O(b),C=new c.default,I=S.edges,g=I===void 0?[]:I;C.enqueue(p);for(var R="",U=function(){var z=C.dequeue();y.enter({current:z,previous:R}),(0,a.getNeighbors)(z,g,"target").forEach(function(B){y.allowTraversal({previous:R,current:z,next:B})&&C.enqueue(B)}),y.leave({current:z,previous:R}),R=z};!C.isEmpty();)U()},D=x;A.default=D},DXmi:function(Lt,A,i){"use strict";i.r(A),i.d(A,"Line",function(){return Nt}),i.d(A,"Circle",function(){return yt}),i.d(A,"Base",function(){return I});var c={};i.r(c),i.d(c,"getDefault",function(){return U}),i.d(c,"ellipsisHead",function(){return W}),i.d(c,"ellipsisTail",function(){return z}),i.d(c,"ellipsisMiddle",function(){return B});var a={};i.r(a),i.d(a,"getDefault",function(){return q}),i.d(a,"reserveFirst",function(){return H}),i.d(a,"reserveLast",function(){return Q}),i.d(a,"reserveBoth",function(){return k}),i.d(a,"equidistance",function(){return K}),i.d(a,"equidistanceWithReverseBoth",function(){return nt});var M={};i.r(M),i.d(M,"getDefault",function(){return rt}),i.d(M,"fixedAngle",function(){return ot}),i.d(M,"unfixedAngle",function(){return dt});var O={};i.r(O),i.d(O,"autoHide",function(){return a}),i.d(O,"autoRotate",function(){return M}),i.d(O,"autoEllipsis",function(){return c});var x=i("CMID"),D=i("sxZn"),E=i("8Mtd"),S=i("VZin"),p=i("x3DA"),b=i("ItRR"),y=i("qhN0"),C=function(ft){Object(x.__extends)(st,ft);function st(){return ft!==null&&ft.apply(this,arguments)||this}return st.prototype.getDefaultCfg=function(){var xt=ft.prototype.getDefaultCfg.call(this);return Object(x.__assign)(Object(x.__assign)({},xt),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:y.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:y.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:y.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:y.a.textColor,fontFamily:y.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:y.a.textColor,textBaseline:"middle",fontFamily:y.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:y.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},st.prototype.renderInner=function(xt){this.get("line")&&this.drawLine(xt),this.drawTicks(xt),this.get("title")&&this.drawTitle(xt)},st.prototype.isList=function(){return!0},st.prototype.getItems=function(){return this.get("ticks")},st.prototype.setItems=function(xt){this.update({ticks:xt})},st.prototype.updateItem=function(xt,gt){Object(E.mix)(xt,gt),this.clear(),this.render()},st.prototype.clearItems=function(){var xt=this.getElementByLocalId("label-group");xt&&xt.clear()},st.prototype.setItemState=function(xt,gt,At){xt[gt]=At,this.updateTickStates(xt)},st.prototype.hasState=function(xt,gt){return!!xt[gt]},st.prototype.getItemStates=function(xt){var gt=this.get("tickStates"),At=[];return Object(E.each)(gt,function(pt,_){xt[_]&&At.push(_)}),At},st.prototype.clearItemsState=function(xt){var gt=this,At=this.getItemsByState(xt);Object(E.each)(At,function(pt){gt.setItemState(pt,xt,!1)})},st.prototype.getItemsByState=function(xt){var gt=this,At=this.getItems();return Object(E.filter)(At,function(pt){return gt.hasState(pt,xt)})},st.prototype.getSidePoint=function(xt,gt){var At=this,pt=At.getSideVector(gt,xt);return{x:xt.x+pt[0],y:xt.y+pt[1]}},st.prototype.getTextAnchor=function(xt){var gt;return Object(E.isNumberEqual)(xt[0],0)?gt="center":xt[0]>0?gt="start":xt[0]<0&&(gt="end"),gt},st.prototype.getTextBaseline=function(xt){var gt;return Object(E.isNumberEqual)(xt[1],0)?gt="middle":xt[1]>0?gt="top":xt[1]<0&&(gt="bottom"),gt},st.prototype.processOverlap=function(xt){},st.prototype.drawLine=function(xt){var gt=this.getLinePath(),At=this.get("line");this.addShape(xt,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(E.mix)({path:gt},At.style)})},st.prototype.getTickLineItems=function(xt){var gt=this,At=[],pt=this.get("tickLine"),_=pt.alignTick,$=pt.length,bt=1,it=xt.length;return it>=2&&(bt=xt[1].value-xt[0].value),Object(E.each)(xt,function(Ot){var Pt=Ot.point;_||(Pt=gt.getTickPoint(Ot.value-bt/2));var Rt=gt.getSidePoint(Pt,$);At.push({startPoint:Pt,tickValue:Ot.value,endPoint:Rt,tickId:Ot.id,id:"tickline-"+Ot.id})}),At},st.prototype.getSubTickLineItems=function(xt){var gt=[],At=this.get("subTickLine"),pt=At.count,_=xt.length;if(_>=2)for(var $=0;$<_-1;$++)for(var bt=xt[$],it=xt[$+1],Ot=0;Ot<pt;Ot++){var Pt=(Ot+1)/(pt+1),Rt=(1-Pt)*bt.tickValue+Pt*it.tickValue,Vt=this.getTickPoint(Rt),kt=this.getSidePoint(Vt,At.length);gt.push({startPoint:Vt,endPoint:kt,tickValue:Rt,id:"sub-"+bt.id+"-"+Ot})}return gt},st.prototype.getTickLineAttrs=function(xt,gt,At,pt){var _=this.get(gt).style,$={points:[xt.startPoint,xt.endPoint]},bt=Object(E.get)(this.get("theme"),["tickLine","style"],{});_=Object(E.isFunction)(_)?Object(E.mix)({},bt,_($,At,pt)):_;var it=xt.startPoint,Ot=xt.endPoint;return Object(x.__assign)({x1:it.x,y1:it.y,x2:Ot.x,y2:Ot.y},_)},st.prototype.drawTick=function(xt,gt,At,pt,_){this.addShape(gt,{type:"line",id:this.getElementId(xt.id),name:"axis-"+At,attrs:this.getTickLineAttrs(xt,At,pt,_)})},st.prototype.drawTickLines=function(xt){var gt=this,At=this.get("ticks"),pt=this.get("subTickLine"),_=this.getTickLineItems(At),$=this.addGroup(xt,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),bt=this.get("tickLine");if(Object(E.each)(_,function(Ot,Pt){if(bt.displayWithLabel){var Rt=gt.getElementId("label-"+Ot.tickId);xt.findById(Rt)&&gt.drawTick(Ot,$,"tickLine",Pt,_)}else gt.drawTick(Ot,$,"tickLine",Pt,_)}),pt){var it=this.getSubTickLineItems(_);Object(E.each)(it,function(Ot,Pt){gt.drawTick(Ot,$,"subTickLine",Pt,it)})}},st.prototype.processTicks=function(){var xt=this,gt=this.get("ticks");Object(E.each)(gt,function(At){At.point=xt.getTickPoint(At.value),Object(E.isNil)(At.id)&&(At.id=At.name)})},st.prototype.drawTicks=function(xt){var gt=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(xt),this.get("tickLine")&&this.drawTickLines(xt);var At=this.get("ticks");Object(E.each)(At,function(pt){gt.applyTickStates(pt,xt)})},st.prototype.optimizeTicks=function(){var xt=this.get("optimize"),gt=this.get("ticks");if(xt&&xt.enable&&xt.threshold>0){var At=Object(E.size)(gt);if(At>xt.threshold){var pt=Math.ceil(At/xt.threshold),_=gt.filter(function($,bt){return bt%pt==0});this.set("ticks",_),this.set("originalTicks",gt)}}},st.prototype.getLabelAttrs=function(xt,gt,At){var pt=this.get("label"),_=pt.offset,$=pt.rotate,bt=pt.formatter,it=this.getSidePoint(xt.point,_),Ot=this.getSideVector(_,it),Pt=bt?bt(xt.name,xt,gt):xt.name,Rt=pt.style;Rt=Object(E.isFunction)(Rt)?Object(E.get)(this.get("theme"),["label","style"],{}):Rt;var Vt=Object(E.mix)({x:it.x,y:it.y,text:Pt,textAlign:this.getTextAnchor(Ot),textBaseline:this.getTextBaseline(Ot)},Rt);return $&&(Vt.matrix=Object(p.e)(it,$)),Vt},st.prototype.drawLabels=function(xt){var gt=this,At=this.get("ticks"),pt=this.addGroup(xt,{name:"axis-label-group",id:this.getElementId("label-group")});Object(E.each)(At,function(Rt,Vt){gt.addShape(pt,{type:"text",name:"axis-label",id:gt.getElementId("label-"+Rt.id),attrs:gt.getLabelAttrs(Rt,Vt,At),delegateObject:{tick:Rt,item:Rt,index:Vt}})}),this.processOverlap(pt);var _=pt.getChildren(),$=Object(E.get)(this.get("theme"),["label","style"],{}),bt=this.get("label"),it=bt.style,Ot=bt.formatter;if(Object(E.isFunction)(it)){var Pt=_.map(function(Rt){return Object(E.get)(Rt.get("delegateObject"),"tick")});Object(E.each)(_,function(Rt,Vt){var kt=Rt.get("delegateObject").tick,Wt=Ot?Ot(kt.name,kt,Vt):kt.name,wt=Object(E.mix)({},$,it(Wt,Vt,Pt));Rt.attr(wt)})}},st.prototype.getTitleAttrs=function(){var xt=this.get("title"),gt=xt.style,At=xt.position,pt=xt.offset,_=xt.spacing,$=_===void 0?0:_,bt=xt.autoRotate,it=gt.fontSize,Ot=.5;At==="start"?Ot=0:At==="end"&&(Ot=1);var Pt=this.getTickPoint(Ot),Rt=this.getSidePoint(Pt,pt||$+it/2),Vt=Object(E.mix)({x:Rt.x,y:Rt.y,text:xt.text},gt),kt=xt.rotate,Wt=kt;if(Object(E.isNil)(kt)&&bt){var wt=this.getAxisVector(Pt),ct=[1,0];Wt=D.a.angleTo(wt,ct,!0)}if(Wt){var jt=Object(p.e)(Rt,Wt);Vt.matrix=jt}return Vt},st.prototype.drawTitle=function(xt){this.addShape(xt,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},st.prototype.applyTickStates=function(xt,gt){var At=this.getItemStates(xt);if(At.length){var pt=this.get("tickStates"),_=this.getElementId("label-"+xt.id),$=gt.findById(_);if($){var bt=Object(b.a)(xt,"label",pt);bt&&$.attr(bt)}var it=this.getElementId("tickline-"+xt.id),Ot=gt.findById(it);if(Ot){var Pt=Object(b.a)(xt,"tickLine",pt);Pt&&Ot.attr(Pt)}}},st.prototype.updateTickStates=function(xt){var gt=this.getItemStates(xt),At=this.get("tickStates"),pt=this.get("label"),_=this.getElementByLocalId("label-"+xt.id),$=this.get("tickLine"),bt=this.getElementByLocalId("tickline-"+xt.id);if(gt.length){if(_){var it=Object(b.a)(xt,"label",At);it&&_.attr(it)}if(bt){var Ot=Object(b.a)(xt,"tickLine",At);Ot&&bt.attr(Ot)}}else _&&_.attr(pt.style),bt&&bt.attr($.style)},st}(S.a),I=C,g=i("2DZl");function R(ft,st,xt,gt){var At=st.getChildren(),pt=!1;return Object(E.each)(At,function(_){var $=Object(g.a)(ft,_,xt,gt);pt=pt||$}),pt}function U(){return z}function W(ft,st,xt){return R(ft,st,xt,"head")}function z(ft,st,xt){return R(ft,st,xt,"tail")}function B(ft,st,xt){return R(ft,st,xt,"middle")}var L=i("8Loy");function w(ft){var st=ft.attr("matrix");return st&&st[0]!==1}function F(ft){var st=w(ft)?Object(p.d)(ft.attr("matrix")):0;return st%360}function V(ft,st,xt,gt){var At=!1,pt=F(st),_=Math.abs(ft?xt.attr("y")-st.attr("y"):xt.attr("x")-st.attr("x")),$=(ft?xt.attr("y")>st.attr("y"):xt.attr("x")>st.attr("x"))?st.getBBox():xt.getBBox();if(ft){var bt=Math.abs(Math.cos(pt));Object(L.i)(bt,0,Math.PI/180)?At=$.width+gt>_:At=$.height/bt+gt>_}else{var bt=Math.abs(Math.sin(pt));Object(L.i)(bt,0,Math.PI/180)?At=$.width+gt>_:At=$.height/bt+gt>_}return At}function Y(ft,st,xt,gt){var At=(gt==null?void 0:gt.minGap)||0,pt=st.getChildren().slice().filter(function(kt){return kt.get("visible")});if(!pt.length)return!1;var _=!1;xt&&pt.reverse();for(var $=pt.length,bt=pt[0],it=bt,Ot=1;Ot<$;Ot++){var Pt=pt[Ot],Rt=Pt.getBBox(),Vt=V(ft,it,Pt,At);Vt?(Pt.hide(),_=!0):it=Pt}return _}function tt(ft,st,xt){var gt=(xt==null?void 0:xt.minGap)||0,At=st.getChildren().slice();if(At.length<2)return!1;var pt=!1,_=At[0],$=_.getBBox(),bt=At[1],it=At.length,Ot=F(_),Pt=Math.abs(ft?bt.attr("y")-_.attr("y"):bt.attr("x")-_.attr("x")),Rt=0;if(ft){var Vt=Math.abs(Math.cos(Ot));if(Object(L.i)(Vt,0,Math.PI/180)){var kt=Object(g.b)(At);Rt=(kt+gt)/Pt}else Rt=($.height/Vt+gt)/Pt}else{var Vt=Math.abs(Math.sin(Ot));if(Object(L.i)(Vt,0,Math.PI/180)){var kt=Object(g.b)(At);Rt=(kt+gt)/Pt}else Rt=($.height/Vt+gt)/Pt}if(Rt>1){Rt=Math.ceil(Rt);for(var Wt=0;Wt<it;Wt++)Wt%Rt!=0&&(At[Wt].hide(),pt=!0)}return pt}function q(){return K}function H(ft,st,xt,gt){return Y(ft,st,!1,gt)}function Q(ft,st,xt,gt){return Y(ft,st,!0,gt)}function k(ft,st,xt,gt){var At=(gt==null?void 0:gt.minGap)||0,pt=st.getChildren().slice();if(pt.length<=2)return!1;for(var _=!1,$=pt.length,bt=pt[0],it=pt[$-1],Ot=bt,Pt=1;Pt<$-1;Pt++){var Rt=pt[Pt],Vt=Rt.getBBox(),kt=V(ft,Ot,Rt,At);kt?(Rt.hide(),_=!0):Ot=Rt}var Wt=V(ft,Ot,it,At);return Wt&&(Ot.hide(),_=!0),_}function K(ft,st,xt,gt){var At=tt(ft,st,gt);return Y(ft,st,!1)&&(At=!0),At}function nt(ft,st,xt,gt){var At=st.getChildren().slice(),pt=tt(ft,st,gt);if(At.length>2){var _=At[0],$=At[At.length-1];_.get("visible")||(_.show(),Y(ft,st,!1,gt)&&(pt=!0)),$.get("visible")||($.show(),Y(ft,st,!0,gt)&&(pt=!0))}return pt}function lt(ft,st){Object(E.each)(ft,function(xt){var gt=xt.attr("x"),At=xt.attr("y"),pt=Object(p.e)({x:gt,y:At},st);xt.attr("matrix",pt)})}function ut(ft,st,xt,gt){var At=st.getChildren();if(!At.length||!ft&&At.length<2)return!1;var pt=Object(g.b)(At),_=!1;if(ft)_=!!xt&&pt>xt;else{var $=Math.abs(At[1].attr("x")-At[0].attr("x"));_=pt>$}if(_){var bt=gt(xt,pt);lt(At,bt)}return _}function rt(){return ot}function ot(ft,st,xt,gt){return ut(ft,st,xt,function(){return Object(E.isNumber)(gt)?gt:ft?y.a.verticalAxisRotate:y.a.horizontalAxisRotate})}function dt(ft,st,xt){return ut(ft,st,xt,function(gt,At){if(!gt)return ft?y.a.verticalAxisRotate:y.a.horizontalAxisRotate;if(ft)return-Math.acos(gt/At);var pt=0;return gt>At?pt=Math.PI/4:(pt=Math.asin(gt/At),pt>Math.PI/4&&(pt=Math.PI/4)),pt})}var Mt=function(ft){Object(x.__extends)(st,ft);function st(){return ft!==null&&ft.apply(this,arguments)||this}return st.prototype.getDefaultCfg=function(){var xt=ft.prototype.getDefaultCfg.call(this);return Object(x.__assign)(Object(x.__assign)({},xt),{type:"line",locationType:"region",start:null,end:null})},st.prototype.getLinePath=function(){var xt=this.get("start"),gt=this.get("end"),At=[];return At.push(["M",xt.x,xt.y]),At.push(["L",gt.x,gt.y]),At},st.prototype.getInnerLayoutBBox=function(){var xt=this.get("start"),gt=this.get("end"),At=ft.prototype.getInnerLayoutBBox.call(this),pt=Math.min(xt.x,gt.x,At.x),_=Math.min(xt.y,gt.y,At.y),$=Math.max(xt.x,gt.x,At.maxX),bt=Math.max(xt.y,gt.y,At.maxY);return{x:pt,y:_,minX:pt,minY:_,maxX:$,maxY:bt,width:$-pt,height:bt-_}},st.prototype.isVertical=function(){var xt=this.get("start"),gt=this.get("end");return Object(E.isNumberEqual)(xt.x,gt.x)},st.prototype.isHorizontal=function(){var xt=this.get("start"),gt=this.get("end");return Object(E.isNumberEqual)(xt.y,gt.y)},st.prototype.getTickPoint=function(xt){var gt=this,At=gt.get("start"),pt=gt.get("end"),_=pt.x-At.x,$=pt.y-At.y;return{x:At.x+_*xt,y:At.y+$*xt}},st.prototype.getSideVector=function(xt){var gt=this.getAxisVector(),At=D.c.normalize([0,0],gt),pt=this.get("verticalFactor"),_=[At[1],At[0]*-1];return D.c.scale([0,0],_,xt*pt)},st.prototype.getAxisVector=function(){var xt=this.get("start"),gt=this.get("end");return[gt.x-xt.x,gt.y-xt.y]},st.prototype.processOverlap=function(xt){var gt=this,At=this.isVertical(),pt=this.isHorizontal();if(!(!At&&!pt)){var _=this.get("label"),$=this.get("title"),bt=this.get("verticalLimitLength"),it=_.offset,Ot=bt,Pt=0,Rt=0;$&&(Pt=$.style.fontSize,Rt=$.spacing),Ot&&(Ot=Ot-it-Rt-Pt);var Vt=this.get("overlapOrder");if(Object(E.each)(Vt,function(wt){_[wt]&&gt.canProcessOverlap(wt)&&gt.autoProcessOverlap(wt,_[wt],xt,Ot)}),$&&Object(E.isNil)($.offset)){var kt=xt.getCanvasBBox(),Wt=At?kt.width:kt.height;$.offset=it+Wt+Rt+Pt/2}}},st.prototype.canProcessOverlap=function(xt){var gt=this.get("label");return xt==="autoRotate"?Object(E.isNil)(gt.rotate):!0},st.prototype.autoProcessOverlap=function(xt,gt,At,pt){var _=this,$=this.isVertical(),bt=!1,it=O[xt];if(gt===!0){var Ot=this.get("label");bt=it.getDefault()($,At,pt)}else if(Object(E.isFunction)(gt))bt=gt($,At,pt);else if(Object(E.isObject)(gt)){var Pt=gt;it[Pt.type]&&(bt=it[Pt.type]($,At,pt,Pt.cfg))}else it[gt]&&(bt=it[gt]($,At,pt));if(xt==="autoRotate"){if(bt){var Rt=At.getChildren(),Vt=this.get("verticalFactor");Object(E.each)(Rt,function(Wt){var wt=Wt.attr("textAlign");if(wt==="center"){var ct=Vt>0?"end":"start";Wt.attr("textAlign",ct)}})}}else if(xt==="autoHide"){var kt=At.getChildren().slice(0);Object(E.each)(kt,function(Wt){Wt.get("visible")||(_.get("isRegister")&&_.unregisterElement(Wt),Wt.remove())})}},st}(I),Nt=Mt,ht=function(ft){Object(x.__extends)(st,ft);function st(){return ft!==null&&ft.apply(this,arguments)||this}return st.prototype.getDefaultCfg=function(){var xt=ft.prototype.getDefaultCfg.call(this);return Object(x.__assign)(Object(x.__assign)({},xt),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},st.prototype.getLinePath=function(){var xt=this.get("center"),gt=xt.x,At=xt.y,pt=this.get("radius"),_=pt,$=this.get("startAngle"),bt=this.get("endAngle"),it=[];if(Math.abs(bt-$)===Math.PI*2)it=[["M",gt,At-_],["A",pt,_,0,1,1,gt,At+_],["A",pt,_,0,1,1,gt,At-_],["Z"]];else{var Ot=this.getCirclePoint($),Pt=this.getCirclePoint(bt),Rt=Math.abs(bt-$)>Math.PI?1:0,Vt=$>bt?0:1;it=[["M",gt,At],["L",Ot.x,Ot.y],["A",pt,_,0,Rt,Vt,Pt.x,Pt.y],["L",gt,At]]}return it},st.prototype.getTickPoint=function(xt){var gt=this.get("startAngle"),At=this.get("endAngle"),pt=gt+(At-gt)*xt;return this.getCirclePoint(pt)},st.prototype.getSideVector=function(xt,gt){var At=this.get("center"),pt=[gt.x-At.x,gt.y-At.y],_=this.get("verticalFactor"),$=D.c.length(pt);return D.c.scale(pt,pt,_*xt/$),pt},st.prototype.getAxisVector=function(xt){var gt=this.get("center"),At=[xt.x-gt.x,xt.y-gt.y];return[At[1],-1*At[0]]},st.prototype.getCirclePoint=function(xt,gt){var At=this.get("center");return gt=gt||this.get("radius"),{x:At.x+Math.cos(xt)*gt,y:At.y+Math.sin(xt)*gt}},st}(I),yt=ht},DhAw:function(Lt,A,i){"use strict";i.d(A,"d",function(){return S}),i.d(A,"b",function(){return p}),i.d(A,"c",function(){return b}),i.d(A,"a",function(){return I});var c=i("CMID"),a=i("8Mtd"),M=i("s9g+"),O=i("Jze/"),x=i("Yz/u"),D=i("3coh");function E(g){var R=g.chart,U=g.options,W=U.data,z=U.color,B=U.lineStyle,L=U.lineShape,w=U.point,F=U.seriesField,V=w==null?void 0:w.state;R.data(W);var Y=Object(O.c)({},g,{options:{shapeField:F,line:{color:z,style:B,shape:L},point:w&&Object(c.__assign)({color:z,shape:"circle"},w),label:void 0}}),tt=Object(O.c)({},Y,{options:{tooltip:!1,state:V}});return Object(x.d)(Y),Object(x.e)(tt),g}function S(g){var R,U,W=g.options,z=W.xAxis,B=W.yAxis,L=W.xField,w=W.yField,F=W.data;return Object(O.f)(Object(M.f)((R={},R[L]=z,R[w]=B,R),(U={},U[L]={type:"cat"},U[w]=Object(D.a)(F,w),U)))(g)}function p(g){var R=g.chart,U=g.options,W=U.xAxis,z=U.yAxis,B=U.xField,L=U.yField;return W===!1?R.axis(B,!1):R.axis(B,W),z===!1?R.axis(L,!1):R.axis(L,z),g}function b(g){var R=g.chart,U=g.options,W=U.legend,z=U.seriesField;return W&&z?R.legend(z,W):W===!1&&R.legend(!1),g}function y(g){var R=g.chart,U=g.options,W=U.label,z=U.yField,B=Object(O.d)(R,"line");if(!W)B.label(!1);else{var L=W.callback,w=Object(c.__rest)(W,["callback"]);B.label({fields:[z],callback:L,cfg:Object(c.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(O.y)(w))})}return g}function C(g){var R=g.chart,U=g.options,W=U.isStack;return W&&Object(a.each)(R.geometries,function(z){z.adjust("stack")}),g}function I(g){return Object(O.f)(E,S,C,M.j,p,b,M.k,y,M.h,M.c,M.a,Object(M.b)(),M.e)(g)}},DhYH:function(Lt,A,i){var c=i("ql+n"),a=i("mbOf");Lt.exports=O;var M=c.constant(1);function O(D,E,S,p){return x(D,String(E),S||M,p||function(b){return D.outEdges(b)})}function x(D,E,S,p){var b={},y=new a,C,I,g=function(R){var U=R.v!==C?R.v:R.w,W=b[U],z=S(R),B=I.distance+z;if(z<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+R+" Weight: "+z);B<W.distance&&(W.distance=B,W.predecessor=C,y.decrease(U,B))};for(D.nodes().forEach(function(R){var U=R===E?0:Number.POSITIVE_INFINITY;b[R]={distance:U},y.add(R,U)});y.size()>0&&(C=y.removeMin(),I=b[C],I.distance!==Number.POSITIVE_INFINITY);)p(C).forEach(g);return b}},DpFF:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Binding=void 0;var c=i("2+60"),a=i("qSJf"),M=function(){function O(x,D){this.id=a.id(),this.activated=!1,this.serviceIdentifier=x,this.scope=D,this.type=c.BindingTypeEnum.Invalid,this.constraint=function(E){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return O.prototype.clone=function(){var x=new O(this.serviceIdentifier,this.scope);return x.activated=x.scope===c.BindingScopeEnum.Singleton?this.activated:!1,x.implementationType=this.implementationType,x.dynamicValue=this.dynamicValue,x.scope=this.scope,x.type=this.type,x.factory=this.factory,x.provider=this.provider,x.constraint=this.constraint,x.onActivation=this.onActivation,x.cache=this.cache,x},O}();A.Binding=M},E5sV:function(Lt,A,i){"use strict";i.d(A,"b",function(){return E});var c=i("Vbks"),a=i("rxS0");function M(S,p,b){var y=S.x-p.x,C,I,g=S.y-p.y,R,U,W=y*y+g*g;W?(I=p.r+b.r,I*=I,U=S.r+b.r,U*=U,I>U?(C=(W+U-I)/(2*W),R=Math.sqrt(Math.max(0,U/W-C*C)),b.x=S.x-C*y-R*g,b.y=S.y-C*g+R*y):(C=(W+I-U)/(2*W),R=Math.sqrt(Math.max(0,I/W-C*C)),b.x=p.x+C*y-R*g,b.y=p.y+C*g+R*y)):(b.x=p.x+b.r,b.y=p.y)}function O(S,p){var b=S.r+p.r-1e-6,y=p.x-S.x,C=p.y-S.y;return b>0&&b*b>y*y+C*C}function x(S){var p=S._,b=S.next._,y=p.r+b.r,C=(p.x*b.r+b.x*p.r)/y,I=(p.y*b.r+b.y*p.r)/y;return C*C+I*I}function D(S){this._=S,this.next=null,this.previous=null}function E(S){if(!(C=(S=Object(c.a)(S)).length))return 0;var p,b,y,C,I,g,R,U,W,z,B;if(p=S[0],p.x=0,p.y=0,!(C>1))return p.r;if(b=S[1],p.x=-b.r,b.x=p.r,b.y=0,!(C>2))return p.r+b.r;M(b,p,y=S[2]),p=new D(p),b=new D(b),y=new D(y),p.next=y.previous=b,b.next=p.previous=y,y.next=b.previous=p;t:for(R=3;R<C;++R){M(p._,b._,y=S[R]),y=new D(y),U=b.next,W=p.previous,z=b._.r,B=p._.r;do if(z<=B){if(O(U._,y._)){b=U,p.next=b,b.previous=p,--R;continue t}z+=U._.r,U=U.next}else{if(O(W._,y._)){p=W,p.next=b,b.previous=p,--R;continue t}B+=W._.r,W=W.previous}while(U!==W.next);for(y.previous=p,y.next=b,p.next=b.previous=b=y,I=x(p);(y=y.next)!==b;)(g=x(y))<I&&(p=y,I=g);b=p.next}for(p=[b._],y=b;(y=y.next)!==b;)p.push(y._);for(y=Object(a.a)(p),R=0;R<C;++R)p=S[R],p.x-=y.x,p.y-=y.y;return y.r}A.a=function(S){return E(S),S}},E8mZ:function(Lt,A,i){"use strict";i.d(A,"a",function(){return D});var c=i("CMID"),a=i("GgvZ"),M=i("b7/9"),O=i("LpBT"),x=i("pIri"),D=function(E){Object(c.__extends)(S,E);function S(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="tiny-line",p}return S.getDefaultOptions=function(){return O.a},S.prototype.changeData=function(p){this.updateOption({data:p});var b=this,y=b.chart,C=b.options;Object(M.b)({chart:y,options:C}),y.changeData(Object(x.a)(p))},S.prototype.getDefaultOptions=function(){return S.getDefaultOptions()},S.prototype.getSchemaAdaptor=function(){return M.a},S}(a.b)},E9DR:function(Lt,A,i){var c=i("ql+n");Lt.exports=a;function a(O,x,D){c.isArray(x)||(x=[x]);var E=(O.isDirected()?O.successors:O.neighbors).bind(O),S=[],p={};return c.each(x,function(b){if(!O.hasNode(b))throw new Error("Graph does not have node: "+b);M(O,b,D==="post",p,E,S)}),S}function M(O,x,D,E,S,p){c.has(E,x)||(E[x]=!0,D||p.push(x),c.each(S(x),function(b){M(O,b,D,E,S,p)}),D&&p.push(x))}},EEYS:function(Lt,A,i){var c=i("ql+n");Lt.exports=a;function a(M){var O=0,x=[],D={},E=[];function S(p){var b=D[p]={onStack:!0,lowlink:O,index:O++};if(x.push(p),M.successors(p).forEach(function(I){c.has(D,I)?D[I].onStack&&(b.lowlink=Math.min(b.lowlink,D[I].index)):(S(I),b.lowlink=Math.min(b.lowlink,D[I].lowlink))}),b.lowlink===b.index){var y=[],C;do C=x.pop(),D[C].onStack=!1,y.push(C);while(p!==C);E.push(y)}}return M.nodes().forEach(function(p){c.has(D,p)||S(p)}),E}},"ET/o":function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=i("CMID"),a=i("GgvZ"),M=i("pIri"),O=i("/SLs"),x=i("8Mtd"),D={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(p,b){return""+Object(x.get)(b,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},E={appendPadding:2,tooltip:Object(c.__assign)({},D),animation:{}},S=function(p){Object(c.__extends)(b,p);function b(){var y=p!==null&&p.apply(this,arguments)||this;return y.type="tiny-column",y}return b.getDefaultOptions=function(){return E},b.prototype.changeData=function(y){this.updateOption({data:y});var C=this,I=C.chart,g=C.options;Object(O.b)({chart:I,options:g}),I.changeData(Object(M.a)(y))},b.prototype.getDefaultOptions=function(){return b.getDefaultOptions()},b.prototype.getSchemaAdaptor=function(){return O.a},b}(a.b)},EZfi:function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=Math.max(a[0],M[0]),c[1]=Math.max(a[1],M[1]),c}},EbMC:function(Lt,A,i){"use strict";A.a=function(c,a,M,O,x){for(var D=c.children,E,S=-1,p=D.length,b=c.value&&(O-a)/c.value;++S<p;)E=D[S],E.y0=M,E.y1=x,E.x0=a,E.x1=a+=E.value*b}},ElZV:function(Lt,A){},EpgB:function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=a[0]-M[0],c[1]=a[1]-M[1],c}},Eqze:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.uniqueId=A.getEdgesByNodeId=A.getOutEdgesNodeId=A.getNeighbors=void 0;var c=function(D,E,S){E===void 0&&(E=[]);var p=E.filter(function(I){return I.source===D||I.target===D});if(S==="target"){var b=function(g){return g.source===D};return p.filter(b).map(function(I){return I.target})}if(S==="source"){var y=function(g){return g.target===D};return p.filter(y).map(function(I){return I.source})}var C=function(g){return g.source===D?g.target:g.source};return p.map(C)};A.getNeighbors=c;var a=function(D,E){return E.filter(function(S){return S.source===D})};A.getOutEdgesNodeId=a;var M=function(D,E){return E.filter(function(S){return S.source===D||S.target===D})};A.getEdgesByNodeId=M;var O=function(D){D===void 0&&(D=0);var E=(""+Math.random()).split(".")[1].substr(0,5),S=(""+Math.random()).split(".")[1].substr(0,5);return D+"-"+E+S};A.uniqueId=O},FU1h:function(Lt,A,i){"use strict";i.d(A,"a",function(){return O});var c=i("CMID"),a=i("dNsf"),M=[1,0,0,0,1,0,0,0,1];function O(x,D){var E=D?Object(c.__spreadArrays)(D):Object(c.__spreadArrays)(M);return a.Util.transform(E,x)}},FasI:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=i("8Mtd"),a=i("l+tw"),M=function(){function C(I,g,R,U,W){this.fromNode=I,this.toNode=g,this.nodeEdgeNodeLabel={nodeLabel1:R||a.VACANT_NODE_LABEL,edgeLabel:U||a.VACANT_EDGE_LABEL,nodeLabel2:W||a.VACANT_NODE_LABEL}}return C.prototype.equalTo=function(I){return this.fromNode===I.formNode&&this.toNode===I.toNode&&this.nodeEdgeNodeLabel===I.nodeEdgeNodeLabel},C.prototype.notEqualTo=function(I){return!this.equalTo(I)},C}(),O=function(){function C(){this.rmpath=[],this.dfsEdgeList=[]}return C.prototype.equalTo=function(I){var g=this.dfsEdgeList.length,R=I.length;if(g!==R)return!1;for(var U=0;U<g;U++)if(this.dfsEdgeList[U]!==I[U])return!1;return!0},C.prototype.notEqualTo=function(I){return!this.equalTo(I)},C.prototype.pushBack=function(I,g,R,U,W){return this.dfsEdgeList.push(new M(I,g,R,U,W)),this.dfsEdgeList},C.prototype.toGraph=function(I,g){I===void 0&&(I=a.VACANT_GRAPH_ID),g===void 0&&(g=!1);var R=new a.Graph(I,!0,g);return this.dfsEdgeList.forEach(function(U){var W=U.fromNode,z=U.toNode,B=U.nodeEdgeNodeLabel,L=B.nodeLabel1,w=B.edgeLabel,F=B.nodeLabel2;L!==a.VACANT_NODE_LABEL&&R.addNode(W,L),F!==a.VACANT_NODE_LABEL&&R.addNode(z,F),R.addEdge(void 0,W,z,w)}),R},C.prototype.buildRmpath=function(){this.rmpath=[];for(var I=void 0,g=this.dfsEdgeList.length,R=g-1;R>=0;R--){var U=this.dfsEdgeList[R],W=U.fromNode,z=U.toNode;W<z&&(I===void 0||z===I)&&(this.rmpath.push(R),I=W)}return this.rmpath},C.prototype.getNodeNum=function(){var I={};return this.dfsEdgeList.forEach(function(g){I[g.fromNode]||(I[g.fromNode]=!0),I[g.toNode]||(I[g.toNode]=!0)}),Object.keys(I).length},C}(),x=function(){function C(I){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!I){for(;I;){var g=I.edge;this.edges.push(g),this.nodesUsed[g.from]=1,this.nodesUsed[g.to]=1,this.edgesUsed[g.id]=1,I=I.preNode}this.edges=this.edges.reverse()}}return C.prototype.hasNode=function(I){return this.nodesUsed[I.id]===1},C.prototype.hasEdge=function(I){return this.edgesUsed[I.id]===1},C}(),D=function(){function C(I){var g=I.graphs,R=I.minSupport,U=R===void 0?2:R,W=I.minNodeNum,z=W===void 0?1:W,B=I.maxNodeNum,L=B===void 0?4:B,w=I.top,F=w===void 0?10:w,V=I.directed,Y=V===void 0?!1:V,tt=I.verbose,q=tt===void 0?!1:tt;this.graphs=g,this.dfsCode=new O,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=U,this.top=F,this.directed=Y,this.counter=0,this.maxNodeNum=L,this.minNodeNum=z,this.verbose=q,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return C.prototype.findForwardRootEdges=function(I,g){var R=this,U=[],W=I.nodeMap;return g.edges.forEach(function(z){(R.directed||g.label<=W[z.to].label)&&U.push(z)}),U},C.prototype.findBackwardEdge=function(I,g,R,U){if(!this.directed&&g===R)return null;for(var W=I.nodeMap,z=W[R.to],B=z.edges,L=B.length,w=0;w<L;w++){var F=B[w];if(!(U.hasEdge(F)||F.to!==g.from)){if(this.directed){if(W[g.from].label<W[R.to].label||W[g.from].label===W[R.to].label&&g.label<=F.label)return F}else if(g.label<F.label||g.label===F.label&&W[g.to].label<=W[R.to].label)return F}}return null},C.prototype.findForwardPureEdges=function(I,g,R,U){for(var W=[],z=g.to,B=I.nodeMap[z].edges,L=B.length,w=0;w<L;w++){var F=B[w],V=I.nodeMap[F.to];R<=V.label&&!U.hasNode(V)&&W.push(F)}return W},C.prototype.findForwardRmpathEdges=function(I,g,R,U){for(var W=[],z=I.nodeMap,B=z[g.to].label,L=z[g.from],w=L.edges,F=w.length,V=0;V<F;V++){var Y=w[V],tt=z[Y.to].label;g.to===Y.to||R>tt||U.hasNode(z[Y.to])||(g.label<Y.label||g.label===Y.label&&B<=tt)&&W.push(Y)}return W},C.prototype.getSupport=function(I){var g={};return I.forEach(function(R){g[R.graphId]||(g[R.graphId]=!0)}),Object.keys(g).length},C.prototype.findMinLabel=function(I){var g=void 0;return Object.keys(I).forEach(function(R){var U=I[R],W=U.nodeLabel1,z=U.edgeLabel,B=U.nodeLabel2;if(!g){g={nodeLabel1:W,edgeLabel:z,nodeLabel2:B};return}(W<g.nodeLabel1||W===g.nodeLabel1&&z<g.edgeLabel||W===g.nodeLabel1&&z===g.edgeLabel&&B<g.nodeLabel2)&&(g={nodeLabel1:W,edgeLabel:z,nodeLabel2:B})}),g},C.prototype.isMin=function(){var I=this,g=this.dfsCode;if(this.verbose&&console.log("isMin checking",g),g.dfsEdgeList.length===1)return!0;var R=this.directed,U=g.toGraph(a.VACANT_GRAPH_ID,R),W=U.nodeMap,z=new O,B={};U.nodes.forEach(function(V){var Y=I.findForwardRootEdges(U,V);Y.forEach(function(tt){var q=W[tt.to],H=V.label+"-"+tt.label+"-"+q.label;B[H]||(B[H]={projected:[],nodeLabel1:V.label,edgeLabel:tt.label,nodeLabel2:q.label});var Q={graphId:U.id,edge:tt,preNode:null};B[H].projected.push(Q)})});var L=this.findMinLabel(B);z.dfsEdgeList.push(new M(0,1,L.nodeLabel1,L.edgeLabel,L.nodeLabel2));var w=function V(Y){for(var tt=z.buildRmpath(),q=z.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,H=z.dfsEdgeList[tt[0]].toNode,Q={},k=!1,K=0,nt=R?-1:0,lt=function(At){if(k)return"break";Y.forEach(function(pt){var _=new x(pt),$=I.findBackwardEdge(U,_.edges[tt[At]],_.edges[tt[0]],_);$&&(Q[$.label]||(Q[$.label]={projected:[],edgeLabel:$.label}),Q[$.label].projected.push({graphId:U.id,edge:Q,preNode:pt}),K=z.dfsEdgeList[tt[At]].fromNode,k=!0)})},ut=tt.length-1;ut>nt;ut--){var rt=lt(ut);if(rt==="break")break}if(k){var ot=I.findMinLabel(Q);z.dfsEdgeList.push(new M(H,K,a.VACANT_NODE_LABEL,ot.edgeLabel,a.VACANT_NODE_LABEL));var dt=z.dfsEdgeList.length-1;return I.dfsCode.dfsEdgeList[dt]!==z.dfsEdgeList[dt]?!1:V(Q[ot.edgeLabel].projected)}var Mt={};k=!1;var Nt=0;Y.forEach(function(gt){var At=new x(gt),pt=I.findForwardPureEdges(U,At.edges[tt[0]],q,At);pt.length>0&&(k=!0,Nt=H,pt.forEach(function(_){var $=_.label+"-"+W[_.to].label;Mt[$]||(Mt[$]={projected:[],edgeLabel:_.label,nodeLabel2:W[_.to].label}),Mt[$].projected.push({graphId:U.id,edge:_,preNode:gt})}))});for(var ht=tt.length,yt=function(At){if(k)return"break";var pt=tt[At];Y.forEach(function(_){var $=new x(_),bt=I.findForwardRmpathEdges(U,$.edges[pt],q,$);bt.length>0&&(k=!0,Nt=z.dfsEdgeList[pt].fromNode,bt.forEach(function(it){var Ot=it.label+"-"+W[it.to].label;Mt[Ot]||(Mt[Ot]={projected:[],edgeLabel:it.label,nodeLabel2:W[it.to].label}),Mt[Ot].projected.push({graphId:U.id,edge:it,preNode:_})}))})},ut=0;ut<ht;ut++){var ft=yt(ut);if(ft==="break")break}if(!k)return!0;var st=I.findMinLabel(Mt);z.dfsEdgeList.push(new M(Nt,H+1,a.VACANT_NODE_LABEL,st.edgeLabel,st.nodeLabel2));var xt=z.dfsEdgeList.length-1;return g.dfsEdgeList[xt]!==z.dfsEdgeList[xt]?!1:V(Mt[st.edgeLabel+"-"+st.nodeLabel2].projected)},F=L.nodeLabel1+"-"+L.edgeLabel+"-"+L.nodeLabel2;return w(B[F].projected)},C.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var I=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,c.clone)(I))}},C.prototype.subGraphMining=function(I){var g=this,R=this.getSupport(I);if(!(R<this.minSupport)&&!!this.isMin()){this.report();var U=this.dfsCode.getNodeNum(),W=this.dfsCode.buildRmpath(),z=this.dfsCode.dfsEdgeList[W[0]].toNode,B=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,L={},w={};I.forEach(function(F){for(var V=g.graphs[F.graphId],Y=V.nodeMap,tt=new x(F),q=W.length-1;q>=0;q--){var H=g.findBackwardEdge(V,tt.edges[W[q]],tt.edges[W[0]],tt);if(H){var Q=g.dfsCode.dfsEdgeList[W[q]].fromNode+"-"+H.label;w[Q]||(w[Q]={projected:[],toNodeId:g.dfsCode.dfsEdgeList[W[q]].fromNode,edgeLabel:H.label}),w[Q].projected.push({graphId:F.graphId,edge:H,preNode:F})}}if(!(U>=g.maxNodeNum)){var k=g.findForwardPureEdges(V,tt.edges[W[0]],B,tt);k.forEach(function(nt){var lt=z+"-"+nt.label+"-"+Y[nt.to].label;L[lt]||(L[lt]={projected:[],fromNodeId:z,edgeLabel:nt.label,nodeLabel2:Y[nt.to].label}),L[lt].projected.push({graphId:F.graphId,edge:nt,preNode:F})});for(var K=function(lt){var ut=g.findForwardRmpathEdges(V,tt.edges[W[lt]],B,tt);ut.forEach(function(rt){var ot=g.dfsCode.dfsEdgeList[W[lt]].fromNode+"-"+rt.label+"-"+Y[rt.to].label;L[ot]||(L[ot]={projected:[],fromNodeId:g.dfsCode.dfsEdgeList[W[lt]].fromNode,edgeLabel:rt.label,nodeLabel2:Y[rt.to].label}),L[ot].projected.push({graphId:F.graphId,edge:rt,preNode:F})})},q=0;q<W.length;q++)K(q)}}),Object.keys(w).forEach(function(F){var V=w[F],Y=V.toNodeId,tt=V.edgeLabel;g.dfsCode.dfsEdgeList.push(new M(z,Y,"-1",tt,"-1")),g.subGraphMining(w[F].projected),g.dfsCode.dfsEdgeList.pop()}),Object.keys(L).forEach(function(F){var V=L[F],Y=V.fromNodeId,tt=V.edgeLabel,q=V.nodeLabel2;g.dfsCode.dfsEdgeList.push(new M(Y,z+1,a.VACANT_NODE_LABEL,tt,q)),g.subGraphMining(L[F].projected),g.dfsCode.dfsEdgeList.pop()})}},C.prototype.generate1EdgeFrequentSubGraphs=function(){var I=this.graphs,g=this.directed,R=this.minSupport,U=this.frequentSize1Subgraphs,W={},z={},B={},L={};return Object.keys(I).forEach(function(w){var F=I[w],V=F.nodeMap;F.nodes.forEach(function(Y,tt){var q=Y.label,H=w+"-"+q;if(!B[H]){var Q=W[q]||0;Q++,W[q]=Q}B[H]={graphKey:w,label:q},Y.edges.forEach(function(k){var K=q,nt=V[k.to].label;if(!g&&K>nt){var lt=nt;nt=K,K=lt}var ut=k.label,rt=w+"-"+K+"-"+ut+"-"+nt,ot=K+"-"+ut+"-"+nt;if(!z[ot]){var dt=z[ot]||0;dt++,z[ot]=dt}L[rt]={graphId:w,nodeLabel1:K,edgeLabel:ut,nodeLabel2:nt}})})}),Object.keys(W).forEach(function(w){var F=W[w];if(!(F<R)){var V={nodes:[],edges:[]};V.nodes.push({id:"0",label:w}),U.push(V)}}),U},C.prototype.run=function(){var I=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var g=this.graphs,R=this.directed,U={};Object.keys(g).forEach(function(W){var z=g[W],B=z.nodeMap;z.nodes.forEach(function(L){var w=I.findForwardRootEdges(z,L);w.forEach(function(F){var V=B[F.to],Y=L.label+"-"+F.label+"-"+V.label;U[Y]||(U[Y]={projected:[],nodeLabel1:L.label,edgeLabel:F.label,nodeLabel2:V.label});var tt={graphId:W,edge:F,preNode:null};U[Y].projected.push(tt)})})}),Object.keys(U).forEach(function(W){var z=U[W],B=z.projected,L=z.nodeLabel1,w=z.edgeLabel,F=z.nodeLabel2;I.dfsCode.dfsEdgeList.push(new M(0,1,L,w,F)),I.subGraphMining(B),I.dfsCode.dfsEdgeList.pop()})}},C}(),E=function(I,g,R,U){var W={};return Object.keys(I).forEach(function(z,B){var L=I[z],w=new a.Graph(B,!0,g),F={};L.nodes.forEach(function(V,Y){w.addNode(Y,V[R]),F[V.id]=Y}),L.edges.forEach(function(V,Y){var tt=F[V.source],q=F[V.target];w.addEdge(-1,tt,q,V[U])}),w&&w.getNodeNum()&&(W[w.id]=w)}),W},S=function(I,g,R){var U=[];return I.forEach(function(W){var z={nodes:[],edges:[]};W.nodes.forEach(function(B){var L;z.nodes.push((L={id:""+B.id},L[g]=B.label,L))}),W.edges.forEach(function(B){var L;z.edges.push((L={source:""+B.from,target:""+B.to},L[R]=B.label,L))}),U.push(z)}),U},p="cluster",b=function(I){var g=I.graphs,R=I.directed,U=R===void 0?!1:R,W=I.nodeLabelProp,z=W===void 0?p:W,B=I.edgeLabelProp,L=B===void 0?p:B,w=E(g,U,z,L),F=I.minSupport,V=I.maxNodeNum,Y=I.minNodeNum,tt=I.verbose,q=I.top,H={graphs:w,minSupport:F,maxNodeNum:V,minNodeNum:Y,top:q,verbose:tt,directed:U},Q=new D(H);Q.run();var k=S(Q.frequentSubgraphs,z,L);return k},y=b;A.default=y},FeKW:function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("43gi").Graph,M=i("hppO");Lt.exports={positionX:R,findType1Conflicts:O,findType2Conflicts:x,addConflict:E,hasConflict:S,verticalAlignment:p,horizontalCompaction:b,alignCoordinates:I,findSmallestWidthAlignment:C,balance:g};function O(z,B){var L={};function w(F,V){var Y=0,tt=0,q=F.length,H=c.last(V);return c.forEach(V,function(Q,k){var K=D(z,Q),nt=K?z.node(K).order:q;(K||Q===H)&&(c.forEach(V.slice(tt,k+1),function(lt){c.forEach(z.predecessors(lt),function(ut){var rt=z.node(ut),ot=rt.order;(ot<Y||nt<ot)&&!(rt.dummy&&z.node(lt).dummy)&&E(L,ut,lt)})}),tt=k+1,Y=nt)}),V}return c.reduce(B,w),L}function x(z,B){var L={};function w(V,Y,tt,q,H){var Q;c.forEach(c.range(Y,tt),function(k){Q=V[k],z.node(Q).dummy&&c.forEach(z.predecessors(Q),function(K){var nt=z.node(K);nt.dummy&&(nt.order<q||nt.order>H)&&E(L,K,Q)})})}function F(V,Y){var tt=-1,q,H=0;return c.forEach(Y,function(Q,k){if(z.node(Q).dummy==="border"){var K=z.predecessors(Q);K.length&&(q=z.node(K[0]).order,w(Y,H,k,tt,q),H=k,tt=q)}w(Y,H,Y.length,q,V.length)}),Y}return c.reduce(B,F),L}function D(z,B){if(z.node(B).dummy)return c.find(z.predecessors(B),function(L){return z.node(L).dummy})}function E(z,B,L){if(B>L){var w=B;B=L,L=w}var F=z[B];F||(z[B]=F={}),F[L]=!0}function S(z,B,L){if(B>L){var w=B;B=L,L=w}return c.has(z[B],L)}function p(z,B,L,w){var F={},V={},Y={};return c.forEach(B,function(tt){c.forEach(tt,function(q,H){F[q]=q,V[q]=q,Y[q]=H})}),c.forEach(B,function(tt){var q=-1;c.forEach(tt,function(H){var Q=w(H);if(Q.length){Q=c.sortBy(Q,function(ut){return Y[ut]});for(var k=(Q.length-1)/2,K=Math.floor(k),nt=Math.ceil(k);K<=nt;++K){var lt=Q[K];V[H]===H&&q<Y[lt]&&!S(L,H,lt)&&(V[lt]=H,V[H]=F[H]=F[lt],q=Y[lt])}}})}),{root:F,align:V}}function b(z,B,L,w,F){var V={},Y=y(z,B,L,F),tt=F?"borderLeft":"borderRight";function q(k,K){for(var nt=Y.nodes(),lt=nt.pop(),ut={};lt;)ut[lt]?k(lt):(ut[lt]=!0,nt.push(lt),nt=nt.concat(K(lt))),lt=nt.pop()}function H(k){V[k]=Y.inEdges(k).reduce(function(K,nt){return Math.max(K,V[nt.v]+Y.edge(nt))},0)}function Q(k){var K=Y.outEdges(k).reduce(function(lt,ut){return Math.min(lt,V[ut.w]-Y.edge(ut))},Number.POSITIVE_INFINITY),nt=z.node(k);K!==Number.POSITIVE_INFINITY&&nt.borderType!==tt&&(V[k]=Math.max(V[k],K))}return q(H,Y.predecessors.bind(Y)),q(Q,Y.successors.bind(Y)),c.forEach(w,function(k){V[k]=V[L[k]]}),V}function y(z,B,L,w){var F=new a,V=z.graph(),Y=U(V.nodesep,V.edgesep,w);return c.forEach(B,function(tt){var q;c.forEach(tt,function(H){var Q=L[H];if(F.setNode(Q),q){var k=L[q],K=F.edge(k,Q);F.setEdge(k,Q,Math.max(Y(z,H,q),K||0))}q=H})}),F}function C(z,B){return c.minBy(c.values(B),function(L){var w=Number.NEGATIVE_INFINITY,F=Number.POSITIVE_INFINITY;return c.forIn(L,function(V,Y){var tt=W(z,Y)/2;w=Math.max(V+tt,w),F=Math.min(V-tt,F)}),w-F})}function I(z,B){var L=c.values(B),w=c.min(L),F=c.max(L);c.forEach(["u","d"],function(V){c.forEach(["l","r"],function(Y){var tt=V+Y,q=z[tt],H;if(q!==B){var Q=c.values(q);H=Y==="l"?w-c.min(Q):F-c.max(Q),H&&(z[tt]=c.mapValues(q,function(k){return k+H}))}})})}function g(z,B){return c.mapValues(z.ul,function(L,w){if(B)return z[B.toLowerCase()][w];var F=c.sortBy(c.map(z,w));return(F[1]+F[2])/2})}function R(z){var B=M.buildLayerMatrix(z),L=c.merge(O(z,B),x(z,B)),w={},F;c.forEach(["u","d"],function(Y){F=Y==="u"?B:c.values(B).reverse(),c.forEach(["l","r"],function(tt){tt==="r"&&(F=c.map(F,function(k){return c.values(k).reverse()}));var q=(Y==="u"?z.predecessors:z.successors).bind(z),H=p(z,F,L,q),Q=b(z,F,H.root,H.align,tt==="r");tt==="r"&&(Q=c.mapValues(Q,function(k){return-k})),w[Y+tt]=Q})});var V=C(z,w);return I(w,V),g(w,z.graph().align)}function U(z,B,L){return function(w,F,V){var Y=w.node(F),tt=w.node(V),q=0,H;if(q+=Y.width/2,c.has(Y,"labelpos"))switch(Y.labelpos.toLowerCase()){case"l":H=-Y.width/2;break;case"r":H=Y.width/2;break}if(H&&(q+=L?H:-H),H=0,q+=(Y.dummy?B:z)/2,q+=(tt.dummy?B:z)/2,q+=tt.width/2,c.has(tt,"labelpos"))switch(tt.labelpos.toLowerCase()){case"l":H=tt.width/2;break;case"r":H=-tt.width/2;break}return H&&(q+=L?H:-H),H=0,q}}function W(z,B){return z.node(B).width}},FolP:function(Lt,A){Lt.exports=i;function i(c,a){return c[0]*a[0]+c[1]*a[1]}},G0yP:function(Lt,A,i){"use strict";i.r(A),i.d(A,"Category",function(){return I}),i.d(A,"Continuous",function(){return W}),i.d(A,"Base",function(){return b});var c=i("CMID"),a=i("8Mtd"),M=i("2DZl"),O=i("x3DA"),x=i("ItRR"),D=i("qhN0"),E=i("VZin"),S=i("8Loy"),p=function(z){Object(c.__extends)(B,z);function B(){return z!==null&&z.apply(this,arguments)||this}return B.prototype.getDefaultCfg=function(){var L=z.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},L),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},B.prototype.getLayoutBBox=function(){var L=z.prototype.getLayoutBBox.call(this),w=this.get("maxWidth"),F=this.get("maxHeight"),V=L.width,Y=L.height;return w&&(V=Math.min(V,w)),F&&(Y=Math.min(Y,F)),Object(S.b)(L.minX,L.minY,V,Y)},B.prototype.setLocation=function(L){this.set("x",L.x),this.set("y",L.y),this.resetLocation()},B.prototype.resetLocation=function(){var L=this.get("x"),w=this.get("y"),F=this.get("offsetX"),V=this.get("offsetY");this.moveElementTo(this.get("group"),{x:L+F,y:w+V})},B.prototype.applyOffset=function(){this.resetLocation()},B.prototype.getDrawPoint=function(){return this.get("currentPoint")},B.prototype.setDrawPoint=function(L){return this.set("currentPoint",L)},B.prototype.renderInner=function(L){this.resetDraw(),this.get("title")&&this.drawTitle(L),this.drawLegendContent(L),this.get("background")&&this.drawBackground(L)},B.prototype.drawBackground=function(L){var w=this.get("background"),F=L.getBBox(),V=Object(S.c)(w.padding),Y=Object(c.__assign)({x:0,y:0,width:F.width+V[1]+V[3],height:F.height+V[0]+V[2]},w.style),tt=this.addShape(L,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Y});tt.toBack()},B.prototype.drawTitle=function(L){var w=this.get("currentPoint"),F=this.get("title"),V=F.spacing,Y=F.style,tt=F.text,q=this.addShape(L,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(c.__assign)({text:tt,x:w.x,y:w.y},Y)}),H=q.getBBox();this.set("currentPoint",{x:w.x,y:H.maxY+V})},B.prototype.resetDraw=function(){var L=this.get("background"),w={x:0,y:0};if(L){var F=Object(S.c)(L.padding);w.x=F[3],w.y=F[0]}this.set("currentPoint",w)},B}(E.a),b=p,y={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},C=function(z){Object(c.__extends)(B,z);function B(){var L=z!==null&&z.apply(this,arguments)||this;return L.currentPageIndex=1,L.totalPagesCnt=1,L.pageWidth=0,L.pageHeight=0,L.startX=0,L.startY=0,L.onNavigationBack=function(){var w=L.getElementByLocalId("item-group");if(L.currentPageIndex>1){L.currentPageIndex-=1,L.updateNavigation();var F=L.getCurrentNavigationMatrix();L.get("animate")?w.animate({matrix:F},100):w.attr({matrix:F})}},L.onNavigationAfter=function(){var w=L.getElementByLocalId("item-group");if(L.currentPageIndex<L.totalPagesCnt){L.currentPageIndex+=1,L.updateNavigation();var F=L.getCurrentNavigationMatrix();L.get("animate")?w.animate({matrix:F},100):w.attr({matrix:F})}},L}return B.prototype.getDefaultCfg=function(){var L=z.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},L),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:D.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:y,itemName:{spacing:16,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:D.a.uncheckedColor},markerStyle:{fill:D.a.uncheckedColor,stroke:D.a.uncheckedColor}},inactive:{nameStyle:{fill:D.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},B.prototype.isList=function(){return!0},B.prototype.getItems=function(){return this.get("items")},B.prototype.setItems=function(L){this.update({items:L})},B.prototype.updateItem=function(L,w){Object(a.mix)(L,w),this.clear(),this.render()},B.prototype.clearItems=function(){var L=this.getElementByLocalId("item-group");L&&L.clear()},B.prototype.setItemState=function(L,w,F){L[w]=F;var V=this.getElementByLocalId("item-"+L.id);if(V){var Y=this.getItems(),tt=Y.indexOf(L),q=this.createOffScreenGroup(),H=this.drawItem(L,tt,this.getItemHeight(),q);this.updateElements(H,V),this.clearUpdateStatus(V)}},B.prototype.hasState=function(L,w){return!!L[w]},B.prototype.getItemStates=function(L){var w=this.get("itemStates"),F=[];return Object(a.each)(w,function(V,Y){L[Y]&&F.push(Y)}),F},B.prototype.clearItemsState=function(L){var w=this,F=this.getItemsByState(L);Object(a.each)(F,function(V){w.setItemState(V,L,!1)})},B.prototype.getItemsByState=function(L){var w=this,F=this.getItems();return Object(a.filter)(F,function(V){return w.hasState(V,L)})},B.prototype.drawLegendContent=function(L){this.processItems(),this.drawItems(L)},B.prototype.processItems=function(){var L=this.get("items");Object(a.each)(L,function(w){w.id||(w.id=w.name)})},B.prototype.drawItems=function(L){var w=this,F=this.addGroup(L,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),V=this.addGroup(F,{id:this.getElementId("item-group"),name:"legend-item-group"}),Y=this.getItemHeight(),tt=this.get("itemWidth"),q=this.get("itemSpacing"),H=this.get("itemMarginBottom"),Q=this.get("currentPoint"),k=Q.x,K=Q.y,nt=this.get("layout"),lt=this.get("items"),ut=!1,rt=0,ot=this.get("maxWidth"),dt=this.get("maxHeight");Object(a.each)(lt,function(Mt,Nt){var ht=w.drawItem(Mt,Nt,Y,V),yt=ht.getBBox(),ft=tt||yt.width;ft>rt&&(rt=ft),nt==="horizontal"?(ot&&ot<Q.x+ft-k&&(ut=!0,Q.x=k,Q.y+=Y+H),w.moveElementTo(ht,Q),Q.x+=ft+q):(dt&&dt<Q.y+Y+H-K&&(ut=!0,Q.x+=rt+q,Q.y=K,rt=0),w.moveElementTo(ht,Q),Q.y+=Y+H)}),ut&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=k,this.startY=K,this.adjustNavigation(L,V))},B.prototype.getItemHeight=function(){var L=this.get("itemHeight");if(!L){var w=this.get("itemName");w&&(L=w.style.fontSize)}return L},B.prototype.drawMarker=function(L,w,F,V){var Y=Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({x:0,y:V/2},w.style),{symbol:Object(a.get)(F.marker,"symbol","circle")}),Object(a.get)(F.marker,"style",{})),tt=this.addShape(L,{type:"marker",id:this.getElementId("item-"+F.id+"-marker"),name:"legend-item-marker",attrs:Y}),q=tt.getBBox();tt.attr("x",q.width/2);var H=tt.attr(),Q=H.stroke,k=H.fill;return Q&&tt.set("isStroke",!0),k&&tt.set("isFill",!0),tt},B.prototype.drawItemText=function(L,w,F,V,Y,tt,q){var H=F.formatter,Q=Object(c.__assign)({x:tt,y:Y/2,text:H?H(V[w],V,q):V[w]},F.style);return this.addShape(L,{type:"text",id:this.getElementId("item-"+V.id+"-"+w),name:"legend-item-"+w,attrs:Q})},B.prototype.drawItem=function(L,w,F,V){var Y="item-"+L.id,tt=this.addGroup(V,{name:"legend-item-container",id:this.getElementId("item-container-"+Y),delegateObject:{item:L,index:w}}),q=this.addGroup(tt,{name:"legend-item",id:this.getElementId(Y),delegateObject:{item:L,index:w}}),H=this.get("marker"),Q=this.get("itemName"),k=this.get("itemValue"),K=this.get("itemBackground"),nt=this.getLimitItemWidth(),lt=0;if(H){var ut=this.drawMarker(q,H,L,F);lt=ut.getBBox().maxX+H.spacing}if(Q){var rt=this.drawItemText(q,"name",Q,L,F,lt,w);nt&&Object(M.a)(!0,rt,Object(a.clamp)(nt-lt,0,nt)),lt=rt.getBBox().maxX+Q.spacing}if(k){var ot=this.drawItemText(q,"value",k,L,F,lt,w);nt&&(k.alignRight?(ot.attr({textAlign:"right",x:nt}),Object(M.a)(!0,ot,Object(a.clamp)(nt-lt,0,nt),"head")):Object(M.a)(!0,ot,Object(a.clamp)(nt-lt,0,nt)))}if(K){var dt=q.getBBox(),Mt=this.addShape(q,{type:"rect",name:"legend-item-background",id:this.getElementId(Y+"-background"),attrs:Object(c.__assign)({x:0,y:0,width:dt.width,height:F},K.style)});Mt.toBack()}return this.applyItemStates(L,q),q},B.prototype.adjustNavigation=function(L,w){var F=this,V=this.startX,Y=this.startY,tt=this.get("layout"),q=w.findAll(function(st){return st.get("name")==="legend-item"}),H=this.get("maxWidth"),Q=this.get("maxHeight"),k=this.get("itemWidth"),K=this.get("itemSpacing"),nt=this.getItemHeight(),lt=Object(a.deepMix)({},y,this.get("pageNavigator")),ut=this.drawNavigation(L,tt,"00/00",lt),rt=ut.getBBox(),ot={x:V,y:Y},dt=1,Mt=0,Nt=0,ht=0;if(tt==="horizontal")this.pageHeight=nt,Object(a.each)(q,function(st){var xt=st.getBBox(),gt=k||xt.width;(Mt&&Mt<ot.x+gt+K||H<ot.x+gt+K+rt.width)&&(dt===1&&(Mt=ot.x+K,F.pageWidth=Mt,F.moveElementTo(ut,{x:H-K-rt.width-rt.minX,y:ot.y+nt/2-rt.height/2-rt.minY})),dt+=1,ot.x=V,ot.y+=nt),F.moveElementTo(st,ot),st.getParent().setClip({type:"rect",attrs:{x:ot.x,y:ot.y,width:gt+K,height:nt}}),ot.x+=gt+K});else{var yt=this.get("itemMarginBottom");Object(a.each)(q,function(st){var xt=st.getBBox();xt.width>Nt&&(Nt=xt.width)}),ht=Nt,Nt+=K,H&&(Nt=Math.min(H,Nt),ht=Math.min(H,ht)),this.pageWidth=Nt,this.pageHeight=Q-Math.max(rt.height,nt+yt);var ft=Math.floor(this.pageHeight/(nt+yt));Object(a.each)(q,function(st,xt){xt!==0&&xt%ft==0&&(dt+=1,ot.x+=Nt,ot.y=Y),F.moveElementTo(st,ot),st.getParent().setClip({type:"rect",attrs:{x:ot.x,y:ot.y,width:Nt,height:nt}}),ot.y+=nt+yt}),this.totalPagesCnt=dt,this.moveElementTo(ut,{x:V+ht/2-rt.width/2-rt.minX,y:Q-rt.height-rt.minY})}this.pageHeight&&this.pageWidth&&w.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=dt,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(ut),w.attr("matrix",this.getCurrentNavigationMatrix())},B.prototype.drawNavigation=function(L,w,F,V){var Y={x:0,y:0},tt=this.addGroup(L,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),q=Object(a.get)(V.marker,"style",{}),H=q.size,Q=H===void 0?12:H,k=Object(c.__rest)(q,["size"]),K=this.drawArrow(tt,Y,"navigation-arrow-left",w==="horizontal"?"up":"left",Q,k);K.on("click",this.onNavigationBack);var nt=K.getBBox();Y.x+=nt.width+2;var lt=this.addShape(tt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(c.__assign)({x:Y.x,y:Y.y+Q/2,text:F,textBaseline:"middle"},Object(a.get)(V.text,"style"))}),ut=lt.getBBox();Y.x+=ut.width+2;var rt=this.drawArrow(tt,Y,"navigation-arrow-right",w==="horizontal"?"down":"right",Q,k);return rt.on("click",this.onNavigationAfter),tt},B.prototype.updateNavigation=function(L){var w=Object(a.deepMix)({},y,this.get("pageNavigator")),F=w.marker.style,V=F.fill,Y=F.opacity,tt=F.inactiveFill,q=F.inactiveOpacity,H=this.currentPageIndex+"/"+this.totalPagesCnt,Q=L?L.getChildren()[1]:this.getElementByLocalId("navigation-text"),k=L?L.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),K=L?L.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),nt=Q.getBBox();Q.attr("text",H);var lt=Q.getBBox();Q.attr("x",Q.attr("x")-(lt.width-nt.width)/2),k.attr("opacity",this.currentPageIndex===1?q:Y),k.attr("fill",this.currentPageIndex===1?tt:V),k.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),K.attr("opacity",this.currentPageIndex===this.totalPagesCnt?q:Y),K.attr("fill",this.currentPageIndex===this.totalPagesCnt?tt:V),K.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},B.prototype.drawArrow=function(L,w,F,V,Y,tt){var q=w.x,H=w.y,Q={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},k=this.addShape(L,{type:"path",id:this.getElementId(F),name:F,attrs:Object(c.__assign)({path:[["M",q+Y/2,H],["L",q,H+Y],["L",q+Y,H+Y],["Z"]],cursor:"pointer"},tt)});return k.attr("matrix",Object(O.e)({x:q+Y/2,y:H+Y/2},Q[V])),k},B.prototype.getCurrentNavigationMatrix=function(){var L=this,w=L.currentPageIndex,F=L.pageWidth,V=L.pageHeight,Y=this.get("layout"),tt=Y==="horizontal"?{x:0,y:V*(1-w)}:{x:F*(1-w),y:0};return Object(O.f)(tt)},B.prototype.applyItemStates=function(L,w){var F=this.getItemStates(L),V=F.length>0;if(V){var Y=w.getChildren(),tt=this.get("itemStates");Object(a.each)(Y,function(q){var H=q.get("name"),Q=H.split("-")[2],k=Object(x.a)(L,Q,tt);k&&(q.attr(k),Q==="marker"&&!(q.get("isStroke")&&q.get("isFill"))&&(q.get("isStroke")&&q.attr("fill",null),q.get("isFill")&&q.attr("stroke",null)))})}},B.prototype.getLimitItemWidth=function(){var L=this.get("itemWidth"),w=this.get("maxItemWidth");return w?L&&(w=L<=w?L:w):L&&(w=L),w},B}(b),I=C,g=1.4,R=.4,U=function(z){Object(c.__extends)(B,z);function B(){return z!==null&&z.apply(this,arguments)||this}return B.prototype.getDefaultCfg=function(){var L=z.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},L),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:D.a.textColor,textBaseline:"middle",fontFamily:D.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:D.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},B.prototype.isSlider=function(){return!0},B.prototype.getValue=function(){return this.getCurrentValue()},B.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},B.prototype.setRange=function(L,w){this.update({min:L,max:w})},B.prototype.setValue=function(L){var w=this.getValue();this.set("value",L);var F=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(F),this.delegateEmit("valuechanged",{originValue:w,value:L})},B.prototype.initEvent=function(){var L=this.get("group");this.bindSliderEvent(L),this.bindRailEvent(L),this.bindTrackEvent(L)},B.prototype.drawLegendContent=function(L){this.drawRail(L),this.drawLabels(L),this.fixedElements(L),this.resetTrack(L),this.resetTrackClip(L),this.get("slidable")&&this.resetHandlers(L)},B.prototype.bindSliderEvent=function(L){this.bindHandlersEvent(L)},B.prototype.bindHandlersEvent=function(L){var w=this;L.on("legend-handler-min:drag",function(F){var V=w.getValueByCanvasPoint(F.x,F.y),Y=w.getCurrentValue(),tt=Y[1];tt<V&&(tt=V),w.setValue([V,tt])}),L.on("legend-handler-max:drag",function(F){var V=w.getValueByCanvasPoint(F.x,F.y),Y=w.getCurrentValue(),tt=Y[0];tt>V&&(tt=V),w.setValue([tt,V])})},B.prototype.bindRailEvent=function(L){},B.prototype.bindTrackEvent=function(L){var w=this,F=null;L.on("legend-track:dragstart",function(V){F={x:V.x,y:V.y}}),L.on("legend-track:drag",function(V){if(!!F){var Y=w.getValueByCanvasPoint(F.x,F.y),tt=w.getValueByCanvasPoint(V.x,V.y),q=w.getCurrentValue(),H=q[1]-q[0],Q=w.getRange(),k=tt-Y;k<0?q[0]+k>Q.min?w.setValue([q[0]+k,q[1]+k]):w.setValue([Q.min,Q.min+H]):k>0&&(k>0&&q[1]+k<Q.max?w.setValue([q[0]+k,q[1]+k]):w.setValue([Q.max-H,Q.max])),F={x:V.x,y:V.y}}}),L.on("legend-track:dragend",function(V){F=null})},B.prototype.drawLabels=function(L){this.drawLabel("min",L),this.drawLabel("max",L)},B.prototype.drawLabel=function(L,w){var F=this.get("label"),V=F.style,Y=F.align,tt=F.formatter,q=this.get(L),H=this.getLabelAlignAttrs(L,Y),Q="label-"+L;this.addShape(w,{type:"text",id:this.getElementId(Q),name:"legend-label-"+L,attrs:Object(c.__assign)(Object(c.__assign)({x:0,y:0,text:Object(a.isFunction)(tt)?tt(q):q},V),H)})},B.prototype.getLabelAlignAttrs=function(L,w){var F=this.isVertical(),V="center",Y="middle";return F?(V="start",w!=="rail"?L==="min"?Y="top":Y="bottom":Y="top"):w!=="rail"?(Y="top",L==="min"?V="start":V="end"):(V="start",Y="middle"),{textAlign:V,textBaseline:Y}},B.prototype.getRailPath=function(L,w,F,V){var Y=this.get("rail"),tt=Y.size,q=Y.defaultLength,H=Y.type,Q=this.isVertical(),k=q,K=F,nt=V;K||(K=Q?tt:k),nt||(nt=Q?k:tt);var lt=[];return H==="color"?(lt.push(["M",L,w]),lt.push(["L",L+K,w]),lt.push(["L",L+K,w+nt]),lt.push(["L",L,w+nt]),lt.push(["Z"])):(lt.push(["M",L+K,w]),lt.push(["L",L+K,w+nt]),lt.push(["L",L,w+nt]),lt.push(["Z"])),lt},B.prototype.drawRail=function(L){var w=this.get("rail"),F=w.style;this.addShape(L,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(c.__assign)({path:this.getRailPath(0,0)},F)})},B.prototype.getTrackColor=function(L){var w=L.length;if(!w)return null;if(w===1)return L[0];var F;this.isVertical()?F="l(90)":F="l(0)";for(var V=0;V<w;V++){var Y=V/(w-1);F+=" "+Y+":"+L[V]}return F},B.prototype.getTrackPath=function(L){var w=this.getRailShape(L),F=w.attr("path");return Object(a.clone)(F)},B.prototype.getClipTrackAttrs=function(L){var w=this.getCurrentValue(),F=w[0],V=w[1],Y=this.getRailBBox(L),tt=this.getPointByValue(F,L),q=this.getPointByValue(V,L),H=this.isVertical(),Q,k,K,nt;return H?(Q=Y.minX,k=tt.y,K=Y.width,nt=q.y-tt.y):(Q=tt.x,k=Y.minY,K=q.x-tt.x,nt=Y.height),{x:Q,y:k,width:K,height:nt}},B.prototype.getTrackAttrs=function(L){var w=this.get("track"),F=this.get("colors"),V=this.getTrackPath(L);return Object(a.mix)({path:V,fill:this.getTrackColor(F)},w.style)},B.prototype.resetTrackClip=function(L){var w=L||this.get("group"),F=this.getElementId("track"),V=w.findById(F),Y=V.getClip(),tt=this.getClipTrackAttrs(L);Y?Y.attr(tt):V.setClip({type:"rect",attrs:tt})},B.prototype.resetTrack=function(L){var w=this.getElementId("track"),F=L.findById(w),V=this.getTrackAttrs(L);F?F.attr(V):this.addShape(L,{type:"path",id:w,draggable:this.get("slidable"),name:"legend-track",attrs:V})},B.prototype.getPointByValue=function(L,w){var F=this.getRange(),V=F.min,Y=F.max,tt=(L-V)/(Y-V),q=this.getRailBBox(w),H=this.isVertical(),Q={x:0,y:0};return H?(Q.x=q.minX+q.width/2,Q.y=Object(S.g)(q.minY,q.maxY,tt)):(Q.x=Object(S.g)(q.minX,q.maxX,tt),Q.y=q.minY+q.height/2),Q},B.prototype.getRailShape=function(L){var w=L||this.get("group");return w.findById(this.getElementId("rail"))},B.prototype.getRailBBox=function(L){var w=this.getRailShape(L),F=w.getBBox();return F},B.prototype.getRailCanvasBBox=function(){var L=this.get("group"),w=L.findById(this.getElementId("rail")),F=w.getCanvasBBox();return F},B.prototype.isVertical=function(){return this.get("layout")==="vertical"},B.prototype.getValueByCanvasPoint=function(L,w){var F=this.getRange(),V=F.min,Y=F.max,tt=this.getRailCanvasBBox(),q=this.isVertical(),H=this.get("step"),Q;q?Q=(w-tt.minY)/tt.height:Q=(L-tt.minX)/tt.width;var k=Object(S.g)(V,Y,Q);if(H){var K=Math.round((k-V)/H);k=V+K*H}return k>Y&&(k=Y),k<V&&(k=V),k},B.prototype.getCurrentValue=function(){var L=this.get("value");return L||(L=[this.get("min"),this.get("max")]),L},B.prototype.resetHandlers=function(L){var w=this.getCurrentValue(),F=w[0],V=w[1];this.resetHandler(L,"min",F),this.resetHandler(L,"max",V)},B.prototype.getHandlerPath=function(L,w){var F=this.isVertical(),V=[],Y=L.size,tt=w.x,q=w.y,H=Y*g,Q=Y/2,k=Y/6;if(F){var K=tt+H*R;V.push(["M",tt,q]),V.push(["L",K,q+Q]),V.push(["L",tt+H,q+Q]),V.push(["L",tt+H,q-Q]),V.push(["L",K,q-Q]),V.push(["Z"]),V.push(["M",K,q+k]),V.push(["L",tt+H-2,q+k]),V.push(["M",K,q-k]),V.push(["L",tt+H-2,q-k])}else{var nt=q+H*R;V.push(["M",tt,q]),V.push(["L",tt-Q,nt]),V.push(["L",tt-Q,q+H]),V.push(["L",tt+Q,q+H]),V.push(["L",tt+Q,nt]),V.push(["Z"]),V.push(["M",tt-k,nt]),V.push(["L",tt-k,q+H-2]),V.push(["M",tt+k,nt]),V.push(["L",tt+k,q+H-2])}return V},B.prototype.resetHandler=function(L,w,F){var V=this.getPointByValue(F,L),Y=this.get("handler"),tt=this.getHandlerPath(Y,V),q=this.getElementId("handler-"+w),H=L.findById(q),Q=this.isVertical();H?H.attr("path",tt):this.addShape(L,{type:"path",name:"legend-handler-"+w,draggable:!0,id:q,attrs:Object(c.__assign)(Object(c.__assign)({path:tt},Y.style),{cursor:Q?"ns-resize":"ew-resize"})})},B.prototype.fixedElements=function(L){var w=L.findById(this.getElementId("rail")),F=L.findById(this.getElementId("label-min")),V=L.findById(this.getElementId("label-max")),Y=this.getDrawPoint();this.isVertical()?this.fixedVertail(F,V,w,Y):this.fixedHorizontal(F,V,w,Y)},B.prototype.fitRailLength=function(L,w,F,V){var Y=this.isVertical(),tt=Y?"height":"width",q=this.get("label"),H=q.align,Q=q.spacing,k=this.get("max"+Object(a.upperFirst)(tt));if(k){var K=H==="rail"?F[tt]+L[tt]+w[tt]+Q*2:F[tt],nt=K-k;nt>0&&this.changeRailLength(V,tt,F[tt]-nt)}},B.prototype.changeRailLength=function(L,w,F){var V=L.getBBox(),Y;w==="height"?Y=this.getRailPath(V.x,V.y,V.width,F):Y=this.getRailPath(V.x,V.y,F,V.height),L.attr("path",Y)},B.prototype.changeRailPosition=function(L,w,F){var V=L.getBBox(),Y=this.getRailPath(w,F,V.width,V.height);L.attr("path",Y)},B.prototype.fixedHorizontal=function(L,w,F,V){var Y=this.get("label"),tt=Y.align,q=Y.spacing,H=F.getBBox(),Q=L.getBBox(),k=w.getBBox(),K=H.height;this.fitRailLength(Q,k,H,F),H=F.getBBox(),tt==="rail"?(L.attr({x:V.x,y:V.y+K/2}),this.changeRailPosition(F,V.x+Q.width+q,V.y),w.attr({x:V.x+Q.width+H.width+q*2,y:V.y+K/2})):tt==="top"?(L.attr({x:V.x,y:V.y}),w.attr({x:V.x+H.width,y:V.y}),this.changeRailPosition(F,V.x,V.y+Q.height+q)):(this.changeRailPosition(F,V.x,V.y),L.attr({x:V.x,y:V.y+H.height+q}),w.attr({x:V.x+H.width,y:V.y+H.height+q}))},B.prototype.fixedVertail=function(L,w,F,V){var Y=this.get("label"),tt=Y.align,q=Y.spacing,H=F.getBBox(),Q=L.getBBox(),k=w.getBBox();if(this.fitRailLength(Q,k,H,F),H=F.getBBox(),tt==="rail")L.attr({x:V.x,y:V.y}),this.changeRailPosition(F,V.x,V.y+Q.height+q),w.attr({x:V.x,y:V.y+Q.height+H.height+q*2});else if(tt==="right")L.attr({x:V.x+H.width+q,y:V.y}),this.changeRailPosition(F,V.x,V.y),w.attr({x:V.x+H.width+q,y:V.y+H.height});else{var K=Math.max(Q.width,k.width);L.attr({x:V.x,y:V.y}),this.changeRailPosition(F,V.x+K+q,V.y),w.attr({x:V.x,y:V.y+H.height})}},B}(b),W=U},G5xY:function(Lt,A){function i(c){return Lt.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0,i(c)}Lt.exports=i,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},GCuf:function(Lt,A,i){var c=i("TJOf"),a=i("R3oX"),M=i("hQ5t");function O(x,D){var E={};return D=M(D,3),a(x,function(S,p,b){c(E,p,D(S,p,b))}),E}Lt.exports=O},GbYH:function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("ajvA"),M=i("5oMf"),O=i("OO/B"),x=i("hppO").normalizeRanks,D=i("Oye7"),E=i("hppO").removeEmptyRanks,S=i("v5ut"),p=i("dzzI"),b=i("AM3p"),y=i("Uhlt"),C=i("p/Nb"),I=i("hppO"),g=i("43gi").Graph;Lt.exports=R;function R(ft,st){var xt=st&&st.debugTiming?I.time:I.notime;xt("layout",function(){var gt=xt("  buildLayoutGraph",function(){return q(ft)});xt("  runLayout",function(){U(gt,xt)}),xt("  updateInputGraph",function(){W(ft,gt)})})}function U(ft,st){st("    makeSpaceForEdgeLabels",function(){H(ft)}),st("    removeSelfEdges",function(){dt(ft)}),st("    acyclic",function(){a.run(ft)}),st("    nestingGraph.run",function(){S.run(ft)}),st("    rank",function(){O(I.asNonCompoundGraph(ft))}),st("    injectEdgeLabelProxies",function(){Q(ft)}),st("    removeEmptyRanks",function(){E(ft)}),st("    nestingGraph.cleanup",function(){S.cleanup(ft)}),st("    normalizeRanks",function(){x(ft)}),st("    assignRankMinMax",function(){k(ft)}),st("    removeEdgeLabelProxies",function(){K(ft)}),st("    normalize.run",function(){M.run(ft)}),st("    parentDummyChains",function(){D(ft)}),st("    addBorderSegments",function(){p(ft)}),st("    order",function(){y(ft)}),st("    insertSelfEdges",function(){Mt(ft)}),st("    adjustCoordinateSystem",function(){b.adjust(ft)}),st("    position",function(){C(ft)}),st("    positionSelfEdges",function(){Nt(ft)}),st("    removeBorderNodes",function(){ot(ft)}),st("    normalize.undo",function(){M.undo(ft)}),st("    fixupEdgeLabelCoords",function(){ut(ft)}),st("    undoCoordinateSystem",function(){b.undo(ft)}),st("    translateGraph",function(){nt(ft)}),st("    assignNodeIntersects",function(){lt(ft)}),st("    reversePoints",function(){rt(ft)}),st("    acyclic.undo",function(){a.undo(ft)})}function W(ft,st){c.forEach(ft.nodes(),function(xt){var gt=ft.node(xt),At=st.node(xt);gt&&(gt.x=At.x,gt.y=At.y,st.children(xt).length&&(gt.width=At.width,gt.height=At.height))}),c.forEach(ft.edges(),function(xt){var gt=ft.edge(xt),At=st.edge(xt);gt.points=At.points,c.has(At,"x")&&(gt.x=At.x,gt.y=At.y)}),ft.graph().width=st.graph().width,ft.graph().height=st.graph().height}var z=["nodesep","edgesep","ranksep","marginx","marginy"],B={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},L=["acyclicer","ranker","rankdir","align"],w=["width","height"],F={width:0,height:0},V=["minlen","weight","width","height","labeloffset"],Y={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},tt=["labelpos"];function q(ft){var st=new g({multigraph:!0,compound:!0}),xt=yt(ft.graph());return st.setGraph(c.merge({},B,ht(xt,z),c.pick(xt,L))),c.forEach(ft.nodes(),function(gt){var At=yt(ft.node(gt));st.setNode(gt,c.defaults(ht(At,w),F)),st.setParent(gt,ft.parent(gt))}),c.forEach(ft.edges(),function(gt){var At=yt(ft.edge(gt));st.setEdge(gt,c.merge({},Y,ht(At,V),c.pick(At,tt)))}),st}function H(ft){var st=ft.graph();st.ranksep/=2,c.forEach(ft.edges(),function(xt){var gt=ft.edge(xt);gt.minlen*=2,gt.labelpos.toLowerCase()!=="c"&&(st.rankdir==="TB"||st.rankdir==="BT"?gt.width+=gt.labeloffset:gt.height+=gt.labeloffset)})}function Q(ft){c.forEach(ft.edges(),function(st){var xt=ft.edge(st);if(xt.width&&xt.height){var gt=ft.node(st.v),At=ft.node(st.w),pt={rank:(At.rank-gt.rank)/2+gt.rank,e:st};I.addDummyNode(ft,"edge-proxy",pt,"_ep")}})}function k(ft){var st=0;c.forEach(ft.nodes(),function(xt){var gt=ft.node(xt);gt.borderTop&&(gt.minRank=ft.node(gt.borderTop).rank,gt.maxRank=ft.node(gt.borderBottom).rank,st=c.max(st,gt.maxRank))}),ft.graph().maxRank=st}function K(ft){c.forEach(ft.nodes(),function(st){var xt=ft.node(st);xt.dummy==="edge-proxy"&&(ft.edge(xt.e).labelRank=xt.rank,ft.removeNode(st))})}function nt(ft){var st=Number.POSITIVE_INFINITY,xt=0,gt=Number.POSITIVE_INFINITY,At=0,pt=ft.graph(),_=pt.marginx||0,$=pt.marginy||0;function bt(it){var Ot=it.x,Pt=it.y,Rt=it.width,Vt=it.height;st=Math.min(st,Ot-Rt/2),xt=Math.max(xt,Ot+Rt/2),gt=Math.min(gt,Pt-Vt/2),At=Math.max(At,Pt+Vt/2)}c.forEach(ft.nodes(),function(it){bt(ft.node(it))}),c.forEach(ft.edges(),function(it){var Ot=ft.edge(it);c.has(Ot,"x")&&bt(Ot)}),st-=_,gt-=$,c.forEach(ft.nodes(),function(it){var Ot=ft.node(it);Ot.x-=st,Ot.y-=gt}),c.forEach(ft.edges(),function(it){var Ot=ft.edge(it);c.forEach(Ot.points,function(Pt){Pt.x-=st,Pt.y-=gt}),c.has(Ot,"x")&&(Ot.x-=st),c.has(Ot,"y")&&(Ot.y-=gt)}),pt.width=xt-st+_,pt.height=At-gt+$}function lt(ft){c.forEach(ft.edges(),function(st){var xt=ft.edge(st),gt=ft.node(st.v),At=ft.node(st.w),pt,_;xt.points?(pt=xt.points[0],_=xt.points[xt.points.length-1]):(xt.points=[],pt=At,_=gt),xt.points.unshift(I.intersectRect(gt,pt)),xt.points.push(I.intersectRect(At,_))})}function ut(ft){c.forEach(ft.edges(),function(st){var xt=ft.edge(st);if(c.has(xt,"x"))switch((xt.labelpos==="l"||xt.labelpos==="r")&&(xt.width-=xt.labeloffset),xt.labelpos){case"l":xt.x-=xt.width/2+xt.labeloffset;break;case"r":xt.x+=xt.width/2+xt.labeloffset;break}})}function rt(ft){c.forEach(ft.edges(),function(st){var xt=ft.edge(st);xt.reversed&&xt.points.reverse()})}function ot(ft){c.forEach(ft.nodes(),function(st){if(ft.children(st).length){var xt=ft.node(st),gt=ft.node(xt.borderTop),At=ft.node(xt.borderBottom),pt=ft.node(c.last(xt.borderLeft)),_=ft.node(c.last(xt.borderRight));xt.width=Math.abs(_.x-pt.x),xt.height=Math.abs(At.y-gt.y),xt.x=pt.x+xt.width/2,xt.y=gt.y+xt.height/2}}),c.forEach(ft.nodes(),function(st){ft.node(st).dummy==="border"&&ft.removeNode(st)})}function dt(ft){c.forEach(ft.edges(),function(st){if(st.v===st.w){var xt=ft.node(st.v);xt.selfEdges||(xt.selfEdges=[]),xt.selfEdges.push({e:st,label:ft.edge(st)}),ft.removeEdge(st)}})}function Mt(ft){var st=I.buildLayerMatrix(ft);c.forEach(st,function(xt){var gt=0;c.forEach(xt,function(At,pt){var _=ft.node(At);_.order=pt+gt,c.forEach(_.selfEdges,function($){I.addDummyNode(ft,"selfedge",{width:$.label.width,height:$.label.height,rank:_.rank,order:pt+ ++gt,e:$.e,label:$.label},"_se")}),delete _.selfEdges})})}function Nt(ft){c.forEach(ft.nodes(),function(st){var xt=ft.node(st);if(xt.dummy==="selfedge"){var gt=ft.node(xt.e.v),At=gt.x+gt.width/2,pt=gt.y,_=xt.x-At,$=gt.height/2;ft.setEdge(xt.e,xt.label),ft.removeNode(st),xt.label.points=[{x:At+2*_/3,y:pt-$},{x:At+5*_/6,y:pt-$},{x:At+_,y:pt},{x:At+5*_/6,y:pt+$},{x:At+2*_/3,y:pt+$}],xt.label.x=xt.x,xt.label.y=xt.y}})}function ht(ft,st){return c.mapValues(c.pick(ft,st),Number)}function yt(ft){var st={};return c.forEach(ft,function(xt,gt){st[gt.toLowerCase()]=xt}),st}},GekJ:function(Lt,A,i){"use strict";i.d(A,"a",function(){return U});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("mT8n"),x=i("s9g+"),D=i("9g8t"),E=i("Jze/"),S=i("797j");function p(W){var z=W.chart,B=W.options,L=B.views,w=B.legend;return Object(M.each)(L,function(F){var V=F.region,Y=F.data,tt=F.meta,q=F.axes,H=F.coordinate,Q=F.interactions,k=F.annotations,K=F.tooltip,nt=F.geometries,lt=z.createView({region:V});lt.data(Y);var ut={};q&&Object(M.each)(q,function(rt,ot){ut[ot]=Object(E.s)(rt,D.a)}),ut=Object(E.c)({},tt,ut),lt.scale(ut),q?Object(M.each)(q,function(rt,ot){lt.axis(ot,rt)}):lt.axis(!1),lt.coordinate(H),Object(M.each)(nt,function(rt){var ot=Object(O.a)({chart:lt,options:rt}).ext,dt=rt.adjust;dt&&ot.geometry.adjust(dt)}),Object(M.each)(Q,function(rt){rt.enable===!1?lt.removeInteraction(rt.type):lt.interaction(rt.type,rt.cfg)}),Object(M.each)(k,function(rt){lt.annotation()[rt.type](Object(c.__assign)({},rt))}),typeof F.animation=="boolean"?lt.animate(!1):(lt.animate(!0),Object(M.each)(lt.geometries,function(rt){rt.animate(F.animation)})),K&&(lt.interaction("tooltip"),lt.tooltip(K))}),w?Object(M.each)(w,function(F,V){z.legend(V,F)}):z.legend(!1),z.tooltip(B.tooltip),W}function b(W){var z=W.chart,B=W.options,L=B.plots;return Object(M.each)(L,function(w){var F=w.type,V=w.region,Y=w.options,tt=Y===void 0?{}:Y,q=tt.tooltip,H=z.createView(Object(c.__assign)({region:V},Object(E.s)(tt,a.a)));q&&H.interaction("tooltip"),Object(S.a)(F,H,tt)}),W}function y(W){return Object(E.f)(x.a,p,b,x.c,x.a,x.j,x.k)(W)}var C=i("dNsf");function I(W,z){var B=W.getModel(),L=B.data,w;return Object(M.isArray)(L)?w=L[0][z]:w=L[z],w}function g(W){var z=Object(E.g)(W);Object(M.each)(z,function(B){B.hasState("active")&&B.setState("active",!1),B.hasState("selected")&&B.setState("selected",!1),B.hasState("inactive")&&B.setState("inactive",!1)})}var R=function(W){Object(c.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.getAssociationItems=function(B,L){var w,F=this.context.event,V=L||{},Y=V.linkField,tt=V.dim,q=[];if((w=F.data)===null||w===void 0?void 0:w.data){var H=F.data.data;Object(M.each)(B,function(Q){var k,K,nt=Y;if(tt==="x"?nt=Q.getXScale().field:tt==="y"?nt=(k=Q.getYScales().find(function(ut){return ut.field===nt}))===null||k===void 0?void 0:k.field:nt||(nt=(K=Q.getGroupScales()[0])===null||K===void 0?void 0:K.field),!!nt){var lt=Object(M.map)(Object(E.g)(Q),function(ut){var rt=!1,ot=!1,dt=Object(M.isArray)(H)?Object(M.get)(H[0],nt):Object(M.get)(H,nt);return I(ut,nt)===dt?rt=!0:ot=!0,{element:ut,view:Q,active:rt,inactive:ot}});q.push.apply(q,lt)}})}return q},z.prototype.showTooltip=function(B){var L=Object(E.k)(this.context.view),w=this.getAssociationItems(L,B);Object(M.each)(w,function(F){if(F.active){var V=F.element.shape.getCanvasBBox();F.view.showTooltip({x:V.minX+V.width/2,y:V.minY+V.height/2})}})},z.prototype.hideTooltip=function(){var B=Object(E.k)(this.context.view);Object(M.each)(B,function(L){L.hideTooltip()})},z.prototype.active=function(B){var L=Object(E.m)(this.context.view),w=this.getAssociationItems(L,B);Object(M.each)(w,function(F){var V=F.active,Y=F.element;V&&Y.setState("active",!0)})},z.prototype.selected=function(B){var L=Object(E.m)(this.context.view),w=this.getAssociationItems(L,B);Object(M.each)(w,function(F){var V=F.active,Y=F.element;V&&Y.setState("selected",!0)})},z.prototype.highlight=function(B){var L=Object(E.m)(this.context.view),w=this.getAssociationItems(L,B);Object(M.each)(w,function(F){var V=F.inactive,Y=F.element;V&&Y.setState("inactive",!0)})},z.prototype.reset=function(){var B=Object(E.m)(this.context.view);Object(M.each)(B,function(L){g(L)})},z}(C.Action);Object(C.registerAction)("association",R),Object(C.registerInteraction)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(C.registerInteraction)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(C.registerInteraction)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(C.registerInteraction)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var U=function(W){Object(c.__extends)(z,W);function z(){var B=W!==null&&W.apply(this,arguments)||this;return B.type="mix",B}return z.prototype.getSchemaAdaptor=function(){return y},z}(a.b)},GgvZ:function(Lt,A,i){"use strict";i.d(A,"a",function(){return p}),i.d(A,"b",function(){return b});var c=i("CMID"),a=i("dNsf"),M=i("8Mtd"),O=i("nZiY"),x=i("bCfE"),D=i.n(x),E=i("Jze/"),S="data-chart-source-type",p=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],b=function(y){Object(c.__extends)(C,y);function C(I,g){var R=y.call(this)||this;return R.type="base",R.container=typeof I=="string"?document.getElementById(I):I,R.options=Object(E.c)({},R.getDefaultOptions(),g),R.createG2(),R.bindEvents(),R}return C.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},C.prototype.createG2=function(){var I=this.options,g=I.width,R=I.height;this.chart=new a.Chart(Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({container:this.container,autoFit:!1},this.getChartSize(g,R)),{localRefresh:!1}),Object(E.s)(this.options,p))),this.container.setAttribute(S,"G2Plot")},C.prototype.getChartSize=function(I,g){var R=Object(E.j)(this.container);return{width:I||R.width||400,height:g||R.height||400}},C.prototype.bindEvents=function(){var I=this;this.chart&&this.chart.on("*",function(g){(g==null?void 0:g.type)&&I.emit(g.type,g)})},C.prototype.getDefaultOptions=function(){return C.getDefaultOptions()},C.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},C.prototype.update=function(I){this.updateOption(I),this.render()},C.prototype.updateOption=function(I){this.options=Object(E.c)({},this.options,I)},C.prototype.setState=function(I,g,R){R===void 0&&(R=!0);var U=Object(E.g)(this.chart);Object(M.each)(U,function(W){g(W.getData())&&W.setState(I,R)})},C.prototype.getStates=function(){var I=Object(E.g)(this.chart),g=[];return Object(M.each)(I,function(R){var U=R.getData(),W=R.getStates();Object(M.each)(W,function(z){g.push({data:U,state:z,geometry:R.geometry,element:R})})}),g},C.prototype.changeData=function(I){this.update({data:I})},C.prototype.changeSize=function(I,g){this.chart.changeSize(I,g)},C.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(S)},C.prototype.execAdaptor=function(){var I=this.getSchemaAdaptor(),g=this.options,R=g.padding,U=g.appendPadding;this.chart.padding=R,this.chart.appendPadding=U,I({chart:this.chart,options:this.options})},C.prototype.triggerResize=function(){this.chart.forceFit()},C.prototype.bindSizeSensor=function(){var I=this;if(!this.unbind){var g=this.options.autoFit,R=g===void 0?!0:g;R&&(this.unbind=Object(x.bind)(this.container,function(){var U=Object(E.j)(I.container),W=U.width,z=U.height;(W!==I.chart.width||z!==I.chart.height)&&I.triggerResize()}))}},C.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},C}(O.a)},Gwo9:function(Lt,A,i){"use strict";i.d(A,"a",function(){return _});var c=i("CMID"),a=i("GgvZ"),M=i("s9g+"),O=i("Jze/"),x=i("Yz/u"),D=i("8Mtd"),E=i("b00Y"),S={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function p($,bt){return bt=Object(D.assign)({},S,bt),b($,bt)}function b($,bt){var it=K();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(Wt){Object(D.isNil)(bt[Wt])||it[Wt](bt[Wt])}),it.words($),bt.imageMask&&it.createMask(bt.imageMask);var Ot=it.start(),Pt=Ot._tags;Pt.forEach(function(Wt){Wt.x+=bt.size[0]/2,Wt.y+=bt.size[1]/2});var Rt=bt.size,Vt=Rt[0],kt=Rt[1];return Pt.push({text:"",value:0,x:0,y:0,opacity:0}),Pt.push({text:"",value:0,x:Vt,y:kt,opacity:0}),Pt}var y=Math.PI/180,C=1<<11>>5,I=1<<11;function g($){return $.text}function R(){return"serif"}function U(){return"normal"}function W($){return $.value}function z(){return~~(Math.random()*2)*90}function B(){return 1}function L($,bt,it,Ot){if(!bt.sprite){var Pt=$.context,Rt=$.ratio;Pt.clearRect(0,0,(C<<5)/Rt,I/Rt);var Vt=0,kt=0,Wt=0,wt=it.length;for(--Ot;++Ot<wt;){bt=it[Ot],Pt.save(),Pt.font=bt.style+" "+bt.weight+" "+~~((bt.size+1)/Rt)+"px "+bt.font;var ct=Pt.measureText(bt.text+"m").width*Rt,jt=bt.size<<1;if(bt.rotate){var Xt=Math.sin(bt.rotate*y),It=Math.cos(bt.rotate*y),Ut=ct*It,$t=ct*Xt,Ft=jt*It,Kt=jt*Xt;ct=Math.max(Math.abs(Ut+Kt),Math.abs(Ut-Kt))+31>>5<<5,jt=~~Math.max(Math.abs($t+Ft),Math.abs($t-Ft))}else ct=ct+31>>5<<5;if(jt>Wt&&(Wt=jt),Vt+ct>=C<<5&&(Vt=0,kt+=Wt,Wt=0),kt+jt>=I)break;Pt.translate((Vt+(ct>>1))/Rt,(kt+(jt>>1))/Rt),bt.rotate&&Pt.rotate(bt.rotate*y),Pt.fillText(bt.text,0,0),bt.padding&&(Pt.lineWidth=2*bt.padding,Pt.strokeText(bt.text,0,0)),Pt.restore(),bt.width=ct,bt.height=jt,bt.xoff=Vt,bt.yoff=kt,bt.x1=ct>>1,bt.y1=jt>>1,bt.x0=-bt.x1,bt.y0=-bt.y1,bt.hasText=!0,Vt+=ct}for(var ee=Pt.getImageData(0,0,(C<<5)/Rt,I/Rt).data,ce=[];--Ot>=0;)if(bt=it[Ot],!!bt.hasText){for(var ct=bt.width,Se=ct>>5,jt=bt.y1-bt.y0,Ce=0;Ce<jt*Se;Ce++)ce[Ce]=0;if(Vt=bt.xoff,Vt==null)return;kt=bt.yoff;for(var Ge=0,hr=-1,dr=0;dr<jt;dr++){for(var Ce=0;Ce<ct;Ce++){var ar=Se*dr+(Ce>>5),qe=ee[(kt+dr)*(C<<5)+(Vt+Ce)<<2]?1<<31-Ce%32:0;ce[ar]|=qe,Ge|=qe}Ge?hr=dr:(bt.y0++,jt--,dr--,kt++)}bt.y1=bt.y0+hr,bt.sprite=ce.slice(0,(bt.y1-bt.y0)*Se)}}}function w($,bt,it){it>>=5;for(var Ot=$.sprite,Pt=$.width>>5,Rt=$.x-(Pt<<4),Vt=Rt&127,kt=32-Vt,Wt=$.y1-$.y0,wt=($.y+$.y0)*it+(Rt>>5),ct,jt=0;jt<Wt;jt++){ct=0;for(var Xt=0;Xt<=Pt;Xt++)if((ct<<kt|(Xt<Pt?(ct=Ot[jt*Pt+Xt])>>>Vt:0))&bt[wt+Xt])return!0;wt+=it}return!1}function F($,bt){var it=$[0],Ot=$[1];bt.x+bt.x0<it.x&&(it.x=bt.x+bt.x0),bt.y+bt.y0<it.y&&(it.y=bt.y+bt.y0),bt.x+bt.x1>Ot.x&&(Ot.x=bt.x+bt.x1),bt.y+bt.y1>Ot.y&&(Ot.y=bt.y+bt.y1)}function V($,bt){return $.x+$.x1>bt[0].x&&$.x+$.x0<bt[1].x&&$.y+$.y1>bt[0].y&&$.y+$.y0<bt[1].y}function Y($){var bt=$[0]/$[1];return function(it){return[bt*(it*=.1)*Math.cos(it),it*Math.sin(it)]}}function tt($){var bt=4,it=bt*$[0]/$[1],Ot=0,Pt=0;return function(Rt){var Vt=Rt<0?-1:1;switch(Math.sqrt(1+4*Vt*Rt)-Vt&3){case 0:Ot+=it;break;case 1:Pt+=bt;break;case 2:Ot-=it;break;default:Pt-=bt;break}return[Ot,Pt]}}function q($){for(var bt=[],it=-1;++it<$;)bt[it]=0;return bt}function H(){return document.createElement("canvas")}function Q($){return Object(D.isFunction)($)?$:function(){return $}}var k={archimedean:Y,rectangular:tt};function K(){var $=[256,256],bt=R,it=W,Ot=U,Pt=z,Rt=B,Vt=Y,kt=Math.random,Wt=[],wt=Infinity,ct=g,jt=U,Xt=H,It={};It.start=function(){var Ft=$[0],Kt=$[1],ee=Ut(Xt()),ce=It.board?It.board:q(($[0]>>5)*$[1]),Se=Wt.length,Ce=[],Ge=Wt.map(function(qe,Xe,ur){return qe.text=ct.call(this,qe,Xe,ur),qe.font=bt.call(this,qe,Xe,ur),qe.style=jt.call(this,qe,Xe,ur),qe.weight=Ot.call(this,qe,Xe,ur),qe.rotate=Pt.call(this,qe,Xe,ur),qe.size=~~it.call(this,qe,Xe,ur),qe.padding=Rt.call(this,qe,Xe,ur),qe}).sort(function(qe,Xe){return Xe.size-qe.size}),hr=-1,dr=It.board?[{x:0,y:0},{x:Ft,y:Kt}]:null;ar();function ar(){for(var qe=Date.now();Date.now()-qe<wt&&++hr<Se;){var Xe=Ge[hr];Xe.x=Ft*(kt()+.5)>>1,Xe.y=Kt*(kt()+.5)>>1,L(ee,Xe,Ge,hr),Xe.hasText&&$t(ce,Xe,dr)&&(Ce.push(Xe),dr?It.hasImage||F(dr,Xe):dr=[{x:Xe.x+Xe.x0,y:Xe.y+Xe.y0},{x:Xe.x+Xe.x1,y:Xe.y+Xe.y1}],Xe.x-=$[0]>>1,Xe.y-=$[1]>>1)}It._tags=Ce,It._bounds=dr}return It};function Ut(Ft){Ft.width=Ft.height=1;var Kt=Math.sqrt(Ft.getContext("2d").getImageData(0,0,1,1).data.length>>2);Ft.width=(C<<5)/Kt,Ft.height=I/Kt;var ee=Ft.getContext("2d");return ee.fillStyle=ee.strokeStyle="red",ee.textAlign="center",{context:ee,ratio:Kt}}function $t(Ft,Kt,ee){for(var ce=Kt.x,Se=Kt.y,Ce=Math.sqrt($[0]*$[0]+$[1]*$[1]),Ge=Vt($),hr=kt()<.5?1:-1,dr,ar=-hr,qe,Xe;(dr=Ge(ar+=hr))&&(qe=~~dr[0],Xe=~~dr[1],!(Math.min(Math.abs(qe),Math.abs(Xe))>=Ce));)if(Kt.x=ce+qe,Kt.y=Se+Xe,!(Kt.x+Kt.x0<0||Kt.y+Kt.y0<0||Kt.x+Kt.x1>$[0]||Kt.y+Kt.y1>$[1])&&(!ee||!w(Kt,Ft,$[0]))&&(!ee||V(Kt,ee))){for(var ur=Kt.sprite,zr=Kt.width>>5,ir=$[0]>>5,qr=Kt.x-(zr<<4),Mr=qr&127,Br=32-Mr,ze=Kt.y1-Kt.y0,Or=void 0,Nr=(Kt.y+Kt.y0)*ir+(qr>>5),$r=0;$r<ze;$r++){Or=0;for(var Kr=0;Kr<=zr;Kr++)Ft[Nr+Kr]|=Or<<Br|(Kr<zr?(Or=ur[$r*zr+Kr])>>>Mr:0);Nr+=ir}return delete Kt.sprite,!0}return!1}return It.createMask=function(Ft){var Kt=document.createElement("canvas"),ee=$[0],ce=$[1];if(!(!ee||!ce)){var Se=ee>>5,Ce=q((ee>>5)*ce);Kt.width=ee,Kt.height=ce;var Ge=Kt.getContext("2d");Ge.drawImage(Ft,0,0,Ft.width,Ft.height,0,0,ee,ce);for(var hr=Ge.getImageData(0,0,ee,ce).data,dr=0;dr<ce;dr++)for(var ar=0;ar<ee;ar++){var qe=Se*dr+(ar>>5),Xe=dr*ee+ar<<2,ur=hr[Xe]>=250&&hr[Xe+1]>=250&&hr[Xe+2]>=250,zr=ur?1<<31-ar%32:0;Ce[qe]|=zr}It.board=Ce,It.hasImage=!0}},It.timeInterval=function(Ft){wt=Ft==null?Infinity:Ft},It.words=function(Ft){Wt=Ft},It.size=function(Ft){$=[+Ft[0],+Ft[1]]},It.font=function(Ft){bt=Q(Ft)},It.fontWeight=function(Ft){Ot=Q(Ft)},It.rotate=function(Ft){Pt=Q(Ft)},It.spiral=function(Ft){Vt=k[Ft]||Ft},It.fontSize=function(Ft){it=Q(Ft)},It.padding=function(Ft){Rt=Q(Ft)},It.random=function(Ft){kt=Q(Ft)},It}function nt($){var bt=$.options,it=$.chart,Ot=it,Pt=Ot.width,Rt=Ot.height,Vt=Ot.padding,kt=Ot.appendPadding,Wt=Ot.ele,wt=bt.data,ct=bt.imageMask,jt=bt.wordField,Xt=bt.weightField,It=bt.colorField,Ut=bt.wordStyle,$t=bt.timeInterval,Ft=bt.random,Kt=bt.spiral,ee=bt.autoFit,ce=ee===void 0?!0:ee,Se=bt.placementStrategy;if(!wt||!wt.length)return[];var Ce=Ut.fontFamily,Ge=Ut.fontWeight,hr=Ut.padding,dr=Ut.fontSize,ar=dt(wt,Xt),qe=[ht(ar),yt(ar)],Xe=wt.map(function(ir){return{text:ir[jt],value:ir[Xt],color:ir[It],datum:ir}}),ur={imageMask:ct,font:Ce,fontSize:ot(dr,qe),fontWeight:Ge,size:lt({width:Pt,height:Rt,padding:Vt,appendPadding:kt,autoFit:ce,container:Wt}),padding:hr,timeInterval:$t,random:Ft,spiral:Kt,rotate:Mt(bt)};if(Object(D.isFunction)(Se)){var zr=Xe.map(function(ir,qr,Mr){return Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},ir),{hasText:!!ir.text,font:Q(ur.font)(ir,qr,Mr),weight:Q(ur.fontWeight)(ir,qr,Mr),rotate:Q(ur.rotate)(ir,qr,Mr),size:Q(ur.fontSize)(ir,qr,Mr),style:"normal"}),Se.call(it,ir,qr,Mr))});return zr.push({text:"",value:0,x:0,y:0,opacity:0}),zr.push({text:"",value:0,x:ur.size[0],y:ur.size[1],opacity:0}),zr}return p(Xe,ur)}function lt($){var bt=$.width,it=$.height,Ot=$.container,Pt=$.autoFit,Rt=$.padding,Vt=$.appendPadding;if(Pt){var kt=Object(O.j)(Ot);bt=kt.width,it=kt.height}bt=bt||400,it=it||400;var Wt=ut({padding:Rt,appendPadding:Vt}),wt=Wt[0],ct=Wt[1],jt=Wt[2],Xt=Wt[3],It=[bt-(Xt+ct),it-(wt+jt)];return It}function ut($){var bt=Object(E.b)($.padding),it=Object(E.b)($.appendPadding),Ot=bt[0]+it[0],Pt=bt[1]+it[1],Rt=bt[2]+it[2],Vt=bt[3]+it[3];return[Ot,Pt,Rt,Vt]}function rt($){return new Promise(function(bt,it){if($ instanceof HTMLImageElement){bt($);return}if(Object(D.isString)($)){var Ot=new Image;Ot.crossOrigin="anonymous",Ot.src=$,Ot.onload=function(){bt(Ot)},Ot.onerror=function(){Object(O.q)(O.a.ERROR,!1,"image %s load failed !!!",$),it()};return}Object(O.q)(O.a.WARN,$===void 0,"The type of imageMask option must be String or HTMLImageElement."),it()})}function ot($,bt){if(Object(D.isFunction)($))return $;if(Object(D.isArray)($)){var it=$[0],Ot=$[1];if(!bt)return function(){return(Ot+it)/2};var Pt=bt[0],Rt=bt[1];return Rt===Pt?function(){return(Ot+it)/2}:function(kt){var Wt=kt.value;return(Ot-it)/(Rt-Pt)*(Wt-Pt)+it}}return function(){return $}}function dt($,bt){return $.map(function(it){return it[bt]}).filter(function(it){return typeof it=="number"&&!isNaN(it)})}function Mt($){var bt=Nt($),it=bt.rotation,Ot=bt.rotationSteps;if(!Object(D.isArray)(it))return it;var Pt=it[0],Rt=it[1],Vt=Ot===1?0:(Rt-Pt)/(Ot-1);return function(){return Rt===Pt?Rt:Math.floor(Math.random()*Ot)*Vt}}function Nt($){var bt=$.wordStyle.rotationSteps;return bt<1&&(Object(O.q)(O.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),bt=1),{rotation:$.wordStyle.rotation,rotationSteps:bt}}function ht($){return Math.min.apply(Math,$)}function yt($){return Math.max.apply(Math,$)}function ft($){var bt=$.chart,it=$.options,Ot=it.colorField,Pt=it.color,Rt=nt($);bt.data(Rt);var Vt=Object(O.c)({},$,{options:{xField:"x",yField:"y",seriesField:Ot&&"color",point:{color:Pt,shape:"word-cloud"}}}),kt=Object(x.e)(Vt).ext;return kt.geometry.label(!1),bt.coordinate().reflect("y"),bt.axis(!1),$}function st($){return Object(O.f)(Object(M.f)({x:{nice:!1},y:{nice:!1}}))($)}function xt($){Object(O.f)(ft,st,M.k,M.d,M.c,M.a,M.j,M.i)($)}var gt=Object(O.c)({},a.b.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function($){return{name:$.text,value:$.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),At=i("dNsf");Object(At.registerShape)("point","word-cloud",{draw:function($,bt){var it=$.x,Ot=$.y,Pt=bt.addShape("text",{attrs:Object(c.__assign)(Object(c.__assign)({},pt($)),{x:it,y:Ot})}),Rt=$.data.rotate;return typeof Rt=="number"&&At.Util.rotate(Pt,Rt*Math.PI/180),Pt}});function pt($){return{fontSize:$.data.size,text:$.data.text,textAlign:"center",fontFamily:$.data.font,fontWeight:$.data.weight,fill:$.color||$.defaultStyle.stroke,textBaseline:"alphabetic"}}var _=function($){Object(c.__extends)(bt,$);function bt(){var it=$!==null&&$.apply(this,arguments)||this;return it.type="word-cloud",it}return bt.getDefaultOptions=function(){return gt},bt.prototype.changeData=function(it){this.updateOption({data:it}),this.options.imageMask?this.render():this.chart.changeData(nt({chart:this.chart,options:this.options}))},bt.prototype.getDefaultOptions=function(){return bt.getDefaultOptions()},bt.prototype.render=function(){var it=this;return new Promise(function(Ot){var Pt=it.options.imageMask;if(!Pt){$.prototype.render.call(it),Ot();return}var Rt=function(Vt){it.options=Object(c.__assign)(Object(c.__assign)({},it.options),{imageMask:Vt||null}),$.prototype.render.call(it),Ot()};rt(Pt).then(Rt).catch(Rt)})},bt.prototype.getSchemaAdaptor=function(){return xt},bt.prototype.triggerResize=function(){var it=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){$.prototype.triggerResize.call(it)}))},bt}(a.b)},"H+Qf":function(Lt,A,i){var c=i("JWH+"),a=i("2GXS"),M=a(function(O,x){return O==null?{}:c(O,x)});Lt.exports=M},"H0Y/":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.GADDIAsync=A.getNeighborsAsync=A.pageRankAsync=A.minimumSpanningTreeAsync=A.louvainAsync=A.labelPropagationAsync=A.floydWarshallAsync=A.findShortestPathAsync=A.findAllPathAsync=A.dijkstraAsync=A.detectAllUndirectedCycleAsync=A.detectAllDirectedCycleAsync=A.detectAllCyclesAsync=A.detectCycleAsync=A.getOutDegreeAsync=A.getInDegreeAsync=A.getDegreeAsync=A.connectedComponentAsync=A.getAdjMatrixAsync=void 0;var c=M(i("5BaD")),a=i("e9gb");function M(V){return V&&V.__esModule?V:{default:V}}var O=function(Y,tt){return(0,c.default)(a.ALGORITHM.getAdjMatrix).apply(void 0,[Y,tt])};A.getAdjMatrixAsync=O;var x=function(Y,tt){return(0,c.default)(a.ALGORITHM.connectedComponent).apply(void 0,[Y,tt])};A.connectedComponentAsync=x;var D=function(Y){return(0,c.default)(a.ALGORITHM.getDegree)(Y)};A.getDegreeAsync=D;var E=function(Y,tt){return(0,c.default)(a.ALGORITHM.getInDegree)(Y,tt)};A.getInDegreeAsync=E;var S=function(Y,tt){return(0,c.default)(a.ALGORITHM.getOutDegree)(Y,tt)};A.getOutDegreeAsync=S;var p=function(Y){return(0,c.default)(a.ALGORITHM.detectCycle)(Y)};A.detectCycleAsync=p;var b=function(Y){return(0,c.default)(a.ALGORITHM.detectAllCycles)(Y)};A.detectAllCyclesAsync=b;var y=function(Y){return(0,c.default)(a.ALGORITHM.detectAllDirectedCycle)(Y)};A.detectAllDirectedCycleAsync=y;var C=function(Y){return(0,c.default)(a.ALGORITHM.detectAllUndirectedCycle)(Y)};A.detectAllUndirectedCycleAsync=C;var I=function(Y,tt,q,H){return(0,c.default)(a.ALGORITHM.dijkstra).apply(void 0,[Y,tt,q,H])};A.dijkstraAsync=I;var g=function(Y,tt,q,H){return(0,c.default)(a.ALGORITHM.findAllPath).apply(void 0,[Y,tt,q,H])};A.findAllPathAsync=g;var R=function(Y,tt,q,H,Q){return(0,c.default)(a.ALGORITHM.findShortestPath).apply(void 0,[Y,tt,q,H,Q])};A.findShortestPathAsync=R;var U=function(Y,tt){return(0,c.default)(a.ALGORITHM.floydWarshall).apply(void 0,[Y,tt])};A.floydWarshallAsync=U;var W=function(Y,tt,q,H){return H===void 0&&(H=1e3),(0,c.default)(a.ALGORITHM.labelPropagation)(Y,tt,q,H)};A.labelPropagationAsync=W;var z=function(Y,tt,q,H){return(0,c.default)(a.ALGORITHM.louvain)(Y,tt,q,H)};A.louvainAsync=z;var B=function(Y,tt,q){return(0,c.default)(a.ALGORITHM.minimumSpanningTree).apply(void 0,[Y,tt,q])};A.minimumSpanningTreeAsync=B;var L=function(Y,tt,q){return(0,c.default)(a.ALGORITHM.pageRank).apply(void 0,[Y,tt,q])};A.pageRankAsync=L;var w=function(Y,tt,q){return(0,c.default)(a.ALGORITHM.getNeighbors).apply(void 0,[Y,tt,q])};A.getNeighborsAsync=w;var F=function(Y,tt,q,H,Q,k,K){return q===void 0&&(q=!1),k===void 0&&(k="cluster"),K===void 0&&(K="cluster"),(0,c.default)(a.ALGORITHM.GADDI).apply(void 0,[Y,tt,q,H,Q,k,K])};A.GADDIAsync=F},H66V:function(Lt,A,i){"use strict";i.d(A,"a",function(){return H});var c=i("CMID"),a=i("dNsf"),M=i("GgvZ"),O=i("8Mtd"),x=i("s9g+"),D=i("Jze/"),E=i("Yz/u"),S="liquid";function p(Q){return[{percent:Q,type:S}]}function b(Q){var k=Q.chart,K=Q.options,nt=K.percent,lt=K.liquidStyle,ut=K.radius,rt=K.outline,ot=K.wave,dt=K.shape;k.scale({percent:{min:0,max:1}}),k.data(p(nt));var Mt=K.color||k.getTheme().defaultColor,Nt=Object(D.c)({},Q,{options:{xField:"type",yField:"percent",widthRatio:ut,interval:{color:Mt,style:lt,shape:"liquid-fill-gauge"}}}),ht=Object(E.c)(Nt).ext,yt=ht.geometry,ft=k.getTheme().background,st={radius:ut,outline:rt,wave:ot,shape:dt,background:ft};return yt.customInfo(st),k.legend(!1),k.axis(!1),k.tooltip(!1),Q}function y(Q,k){var K=Q.chart,nt=Q.options,lt=nt.statistic,ut=nt.percent,rt=nt.meta;K.getController("annotation").clear(!0);var ot=Object(O.get)(rt,["percent","formatter"])||function(Mt){return(Mt*100).toFixed(2)+"%"},dt=lt.content;return dt&&(dt=Object(D.c)({},dt,{content:Object(O.isNil)(dt.content)?ot(ut):dt.content})),Object(D.v)(K,{statistic:Object(c.__assign)(Object(c.__assign)({},lt),{content:dt}),plotType:"liquid"},{percent:ut}),k&&K.render(!0),Q}function C(Q){return Object(D.f)(x.j,b,y,Object(x.f)({}),x.a,x.c)(Q)}var I={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},g=i("FU1h"),R=5e3;function U(Q,k,K){return Q+(k-Q)*K}function W(Q){var k=Object(c.__assign)({opacity:1},Q.style);return Q.color&&!k.fill&&(k.fill=Q.color),k}function z(Q){var k={fill:"#fff",fillOpacity:0,lineWidth:4},K=Object(O.mix)({},k,Q.style);return Q.color&&!K.stroke&&(K.stroke=Q.color),Object(O.isNumber)(Q.opacity)&&(K.opacity=K.strokeOpacity=Q.opacity),K}function B(Q,k,K,nt){return k===0?[[Q+1/2*K/Math.PI/2,nt/2],[Q+1/2*K/Math.PI,nt],[Q+K/4,nt]]:k===1?[[Q+1/2*K/Math.PI/2*(Math.PI-2),nt],[Q+1/2*K/Math.PI/2*(Math.PI-1),nt/2],[Q+K/4,0]]:k===2?[[Q+1/2*K/Math.PI/2,-nt/2],[Q+1/2*K/Math.PI,-nt],[Q+K/4,-nt]]:[[Q+1/2*K/Math.PI/2*(Math.PI-2),-nt],[Q+1/2*K/Math.PI/2*(Math.PI-1),-nt/2],[Q+K/4,0]]}function L(Q,k,K,nt,lt,ut,rt){for(var ot=Math.ceil(2*Q/K*4)*4,dt=[],Mt=nt;Mt<-Math.PI*2;)Mt+=Math.PI*2;for(;Mt>0;)Mt-=Math.PI*2;Mt=Mt/Math.PI/2*K;var Nt=ut-Q+Mt-Q*2;dt.push(["M",Nt,k]);for(var ht=0,yt=0;yt<ot;++yt){var ft=yt%4,st=B(yt*K/4,ft,K,lt);dt.push(["C",st[0][0]+Nt,-st[0][1]+k,st[1][0]+Nt,-st[1][1]+k,st[2][0]+Nt,-st[2][1]+k]),yt===ot-1&&(ht=st[2][0])}return dt.push(["L",ht+Nt,rt+Q]),dt.push(["L",Nt,rt+Q]),dt.push(["Z"]),dt}function w(Q,k,K,nt,lt,ut,rt,ot,dt){for(var Mt=lt.fill,Nt=lt.opacity,ht=rt.getBBox(),yt=ht.maxX-ht.minX,ft=ht.maxY-ht.minY,st=0;st<nt;st++){var xt=nt<=1?0:st/(nt-1),gt=ut.addShape("path",{name:"waterwave-path",attrs:{path:L(ot,ht.minY+ft*K,dt,0,yt/32,Q,k),fill:Mt,opacity:U(.2,.9,xt)*Nt}});try{var At=Object(g.a)([["t",dt,0]]);gt.stopAnimate(),gt.animate({matrix:At},{duration:U(.5*R,R,xt),repeat:!0})}catch(pt){console.warn("off-screen group animate error!")}}}function F(Q,k,K,nt){var lt=K*2/3,ut=Math.max(lt,nt),rt=lt/2,ot=Q,dt=rt+k-ut/2,Mt=Math.asin(rt/((ut-rt)*.85)),Nt=Math.sin(Mt)*rt,ht=Math.cos(Mt)*rt,yt=ot-ht,ft=dt+Nt,st=Q,xt=dt+rt/Math.sin(Mt);return`
      M `+yt+" "+ft+`
      A `+rt+" "+rt+" 0 1 1 "+(yt+ht*2)+" "+ft+`
      Q `+st+" "+xt+" "+Q+" "+(k+ut/2)+`
      Q `+st+" "+xt+" "+yt+" "+ft+`
      Z 
    `}function V(Q,k,K,nt){var lt=K/2,ut=nt/2;return`
      M `+Q+" "+(k-ut)+` 
      a `+lt+" "+ut+" 0 1 0 0 "+ut*2+`
      a `+lt+" "+ut+" 0 1 0 0 "+-ut*2+`
      Z
    `}function Y(Q,k,K,nt){var lt=nt/2,ut=K/2;return`
      M `+Q+" "+(k-lt)+`
      L `+(Q+ut)+" "+k+`
      L `+Q+" "+(k+lt)+`
      L `+(Q-ut)+" "+k+`
      Z
    `}function tt(Q,k,K,nt){var lt=nt/2,ut=K/2;return`
      M `+Q+" "+(k-lt)+`
      L `+(Q+ut)+" "+(k+lt)+`
      L `+(Q-ut)+" "+(k+lt)+`
      Z
    `}function q(Q,k,K,nt){var lt=.618,ut=nt/2,rt=K/2*lt;return`
      M `+(Q-rt)+" "+(k-ut)+`
      L `+(Q+rt)+" "+(k-ut)+`
      L `+(Q+rt)+" "+(k+ut)+`
      L `+(Q-rt)+" "+(k+ut)+`
      Z
    `}Object(a.registerShape)("interval","liquid-fill-gauge",{draw:function(Q,k){var K=.5,nt=.5,lt=Q.customInfo,ut=lt,rt=ut.radius,ot=ut.shape,dt=ut.background,Mt=lt.outline,Nt=lt.wave,ht=Mt.border,yt=Mt.distance,ft=Nt.count,st=Nt.length,xt=Object(O.reduce)(Q.points,function(Wt,wt){return Math.min(Wt,wt.x)},Infinity),gt=this.parsePoint({x:K,y:nt}),At=this.parsePoint({x:xt,y:nt}),pt=gt.x-At.x,_=Math.min(pt,At.y*rt),$=W(Q),bt=z(Object(O.mix)({},Q,Mt)),it=_-ht/2,Ot={pin:F,circle:V,diamond:Y,triangle:tt,rect:q},Pt=typeof ot=="function"?ot:Ot[ot]||Ot.circle,Rt=Pt(gt.x,gt.y,it*2,it*2),Vt=k.addGroup({name:"waves"}),kt=Vt.setClip({type:"path",attrs:{path:Rt}});return w(gt.x,gt.y,1-Q.points[1].y,ft,$,Vt,kt,_*2,st),k.addShape("path",{name:"distance",attrs:{path:Rt,fill:"transparent",lineWidth:ht+yt*2,stroke:dt==="transparent"?"#fff":dt}}),k.addShape("path",{name:"wrap",attrs:Object(O.mix)(bt,{path:Rt,fill:"transparent",lineWidth:ht})}),k}});var H=function(Q){Object(c.__extends)(k,Q);function k(){var K=Q!==null&&Q.apply(this,arguments)||this;return K.type="liquid",K}return k.getDefaultOptions=function(){return I},k.prototype.getDefaultOptions=function(){return k.getDefaultOptions()},k.prototype.changeData=function(K){this.chart.emit(a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:K}),this.chart.data(p(K)),y({chart:this.chart,options:this.options},!0),this.chart.emit(a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},k.prototype.getSchemaAdaptor=function(){return C},k}(M.b)},H6vk:function(Lt,A,i){"use strict";i.d(A,"b",function(){return c}),A.a=function(a,M){M||(M=[]);var O=a?Math.min(M.length,a.length):0,x=M.slice(),D;return function(E){for(D=0;D<O;++D)x[D]=a[D]*(1-E)+M[D]*E;return x}};function c(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}},HAYd:function(Lt,A,i){Lt.exports=a;var c=i("pHwo");function a(M,O){var x=M[0],D=M[1],E=O[0],S=O[1];return Math.abs(x-E)<=c*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(D-S)<=c*Math.max(1,Math.abs(D),Math.abs(S))}},HMFt:function(Lt,A,i){var c=i("7LJS"),a=i("hQ5t"),M=i("NA5Q");function O(x,D){return x&&x.length?c(x,a(D,2),M):void 0}Lt.exports=O},HR5z:function(Lt,A,i){var c=i("BXhE"),a=i("5Nvg"),M=i("br1w"),O=1/0,x=c&&1/M(new c([,-0]))[1]==O?function(D){return new c(D)}:a;Lt.exports=x},HWsn:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiInject=void 0;var c=i("9L8m"),a=i("rMkn"),M=i("ZLnY");function O(x){return function(D,E,S){var p=new a.Metadata(c.MULTI_INJECT_TAG,x);typeof S=="number"?M.tagParameter(D,E,S,p):M.tagProperty(D,E,p)}}A.multiInject=O},Hg9g:function(Lt,A,i){"use strict";i.d(A,"a",function(){return b}),i.d(A,"b",function(){return y});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("7Nom"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("syls"),b=function C(I){S()(this,C)},y=function(){function C(I){S()(this,C),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=I}return D()(C,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(g){return this.lookup[g]>-1}},{key:"create",value:function(g,R){this.lookup[g]=this.components.length;var U=new this.clazz(R||{});return this.components.push(U),this.entities.push(g),U}},{key:"remove",value:function(g){var R=this.lookup[g];R>-1&&R<this.components.length-1&&(this.components[R]=this.components[this.components.length-1],this.entities[R]=this.entities[this.entities.length-1],this.lookup[this.entities[R]]=R),this.components.pop(),this.entities.pop(),delete this.lookup[g]}},{key:"removeKeepSorted",value:function(g){var R=this.lookup[g];if(R>-1){var U=this.entities[R];if(R<this.components.length-1){for(var W=R+1;W<this.components.length;++W)this.components[W-1]=this.components[W];for(var z=R+1;z<this.entities.length;++z)this.entities[z-1]=this.entities[z],this.lookup[this.entities[z-1]]=z-1}this.components.pop(),this.entities.pop(),delete this.lookup[U]}}},{key:"moveItem",value:function(g,R){if(g!==R){for(var U=this.components[g],W=this.entities[g],z=g<R?1:-1,B=g;B!==R;B+=z){var L=B+z;this.components[B]=this.components[L],this.entities[B]=this.entities[L],this.lookup[this.entities[B]]=B}this.components[R]=U,this.entities[R]=W,this.lookup[W]=R}}},{key:"getEntity",value:function(g){return this.entities[g]}},{key:"getComponent",value:function(g){return this.components[g]}},{key:"getComponentByEntity",value:function(g){var R=this.lookup[g];return R>-1?this.components[R]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(g){for(var R=0,U=Object.keys(this.lookup);R<U.length;R++){var W=U[R],z=Number(W);if(this.lookup[z]===g)return z}return p.a}},{key:"find",value:function(g){for(var R=0;R<this.getCount();R++){var U=this.getComponent(R);if(g(U,R))return U}return null}},{key:"findIndex",value:function(g){for(var R=0;R<this.getCount();R++){var U=this.getComponent(R);if(g(U,R))return R}return-1}},{key:"forEach",value:function(g){for(var R=0,U=Object.keys(this.lookup);R<U.length;R++){var W=U[R],z=Number(W),B=this.lookup[z];g(z,this.getComponent(B))}}},{key:"forEachAsync",value:function(){var I=O()(a.a.mark(function R(U){var W,z,B,L,w;return a.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:W=0,z=Object.keys(this.lookup);case 1:if(!(W<z.length)){V.next=10;break}return B=z[W],L=Number(B),w=this.lookup[L],V.next=7,U(L,this.getComponent(w));case 7:W++,V.next=1;break;case 10:case"end":return V.stop()}},R,this)}));function g(R){return I.apply(this,arguments)}return g}()},{key:"map",value:function(g){for(var R=[],U=0,W=Object.keys(this.lookup);U<W.length;U++){var z=W[U],B=Number(z),L=this.lookup[B];R.push(g(B,this.getComponent(L)))}return R}}]),C}()},Hgj1:function(Lt,A,i){"use strict";i.r(A),i.d(A,"easeLinear",function(){return c}),i.d(A,"easeQuad",function(){return O}),i.d(A,"easeQuadIn",function(){return a}),i.d(A,"easeQuadOut",function(){return M}),i.d(A,"easeQuadInOut",function(){return O}),i.d(A,"easeCubic",function(){return E}),i.d(A,"easeCubicIn",function(){return x}),i.d(A,"easeCubicOut",function(){return D}),i.d(A,"easeCubicInOut",function(){return E}),i.d(A,"easePoly",function(){return y}),i.d(A,"easePolyIn",function(){return p}),i.d(A,"easePolyOut",function(){return b}),i.d(A,"easePolyInOut",function(){return y}),i.d(A,"easeSin",function(){return U}),i.d(A,"easeSinIn",function(){return g}),i.d(A,"easeSinOut",function(){return R}),i.d(A,"easeSinInOut",function(){return U}),i.d(A,"easeExp",function(){return L}),i.d(A,"easeExpIn",function(){return z}),i.d(A,"easeExpOut",function(){return B}),i.d(A,"easeExpInOut",function(){return L}),i.d(A,"easeCircle",function(){return V}),i.d(A,"easeCircleIn",function(){return w}),i.d(A,"easeCircleOut",function(){return F}),i.d(A,"easeCircleInOut",function(){return V}),i.d(A,"easeBounce",function(){return ot}),i.d(A,"easeBounceIn",function(){return rt}),i.d(A,"easeBounceOut",function(){return ot}),i.d(A,"easeBounceInOut",function(){return dt}),i.d(A,"easeBack",function(){return yt}),i.d(A,"easeBackIn",function(){return Nt}),i.d(A,"easeBackOut",function(){return ht}),i.d(A,"easeBackInOut",function(){return yt}),i.d(A,"easeElastic",function(){return At}),i.d(A,"easeElasticIn",function(){return gt}),i.d(A,"easeElasticOut",function(){return At}),i.d(A,"easeElasticInOut",function(){return pt});function c(_){return+_}function a(_){return _*_}function M(_){return _*(2-_)}function O(_){return((_*=2)<=1?_*_:--_*(2-_)+1)/2}function x(_){return _*_*_}function D(_){return--_*_*_+1}function E(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}var S=3,p=function _($){$=+$;function bt(it){return Math.pow(it,$)}return bt.exponent=_,bt}(S),b=function _($){$=+$;function bt(it){return 1-Math.pow(1-it,$)}return bt.exponent=_,bt}(S),y=function _($){$=+$;function bt(it){return((it*=2)<=1?Math.pow(it,$):2-Math.pow(2-it,$))/2}return bt.exponent=_,bt}(S),C=Math.PI,I=C/2;function g(_){return+_==1?1:1-Math.cos(_*I)}function R(_){return Math.sin(_*I)}function U(_){return(1-Math.cos(C*_))/2}function W(_){return(Math.pow(2,-10*_)-.0009765625)*1.0009775171065494}function z(_){return W(1-+_)}function B(_){return 1-W(_)}function L(_){return((_*=2)<=1?W(1-_):2-W(_-1))/2}function w(_){return 1-Math.sqrt(1-_*_)}function F(_){return Math.sqrt(1- --_*_)}function V(_){return((_*=2)<=1?1-Math.sqrt(1-_*_):Math.sqrt(1-(_-=2)*_)+1)/2}var Y=4/11,tt=6/11,q=8/11,H=3/4,Q=9/11,k=10/11,K=15/16,nt=21/22,lt=63/64,ut=1/Y/Y;function rt(_){return 1-ot(1-_)}function ot(_){return(_=+_)<Y?ut*_*_:_<q?ut*(_-=tt)*_+H:_<k?ut*(_-=Q)*_+K:ut*(_-=nt)*_+lt}function dt(_){return((_*=2)<=1?1-ot(1-_):ot(_-1)+1)/2}var Mt=1.70158,Nt=function _($){$=+$;function bt(it){return(it=+it)*it*($*(it-1)+it)}return bt.overshoot=_,bt}(Mt),ht=function _($){$=+$;function bt(it){return--it*it*((it+1)*$+it)+1}return bt.overshoot=_,bt}(Mt),yt=function _($){$=+$;function bt(it){return((it*=2)<1?it*it*(($+1)*it-$):(it-=2)*it*(($+1)*it+$)+2)/2}return bt.overshoot=_,bt}(Mt),ft=2*Math.PI,st=1,xt=.3,gt=function _($,bt){var it=Math.asin(1/($=Math.max(1,$)))*(bt/=ft);function Ot(Pt){return $*W(- --Pt)*Math.sin((it-Pt)/bt)}return Ot.amplitude=function(Pt){return _(Pt,bt*ft)},Ot.period=function(Pt){return _($,Pt)},Ot}(st,xt),At=function _($,bt){var it=Math.asin(1/($=Math.max(1,$)))*(bt/=ft);function Ot(Pt){return 1-$*W(Pt=+Pt)*Math.sin((Pt+it)/bt)}return Ot.amplitude=function(Pt){return _(Pt,bt*ft)},Ot.period=function(Pt){return _($,Pt)},Ot}(st,xt),pt=function _($,bt){var it=Math.asin(1/($=Math.max(1,$)))*(bt/=ft);function Ot(Pt){return((Pt=Pt*2-1)<0?$*W(-Pt)*Math.sin((it-Pt)/bt):2-$*W(Pt)*Math.sin((it+Pt)/bt))/2}return Ot.amplitude=function(Pt){return _(Pt,bt*ft)},Ot.period=function(Pt){return _($,Pt)},Ot}(st,xt)},HxLA:function(Lt,A){function i(c,a){return Lt.exports=i=Object.setPrototypeOf||function(O,x){return O.__proto__=x,O},Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0,i(c,a)}Lt.exports=i,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},"I+6r":function(Lt,A,i){"use strict";var c=i("CMID"),a=i("Jze/"),M=i("GgvZ"),O=function(x){Object(c.__extends)(D,x);function D(E,S,p,b){var y=x.call(this,E,Object(a.c)({},b,S))||this;return y.type="g2-plot",y.defaultOptions=b,y.adaptor=p,y}return D.prototype.getDefaultOptions=function(){return this.defaultOptions},D.prototype.getSchemaAdaptor=function(){return this.adaptor},D}(M.b)},I7m4:function(Lt,A,i){var c=i("ql+n"),a=i("EEYS");Lt.exports=M;function M(O){return c.filter(a(O),function(x){return x.length>1||x.length===1&&O.hasEdge(x[0],x[0])})}},IJeR:function(Lt,A,i){var c=i("ql+n"),a=i("K0S0");Lt.exports={write:M,read:D};function M(E){var S={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:O(E),edges:x(E)};return c.isUndefined(E.graph())||(S.value=c.clone(E.graph())),S}function O(E){return c.map(E.nodes(),function(S){var p=E.node(S),b=E.parent(S),y={v:S};return c.isUndefined(p)||(y.value=p),c.isUndefined(b)||(y.parent=b),y})}function x(E){return c.map(E.edges(),function(S){var p=E.edge(S),b={v:S.v,w:S.w};return c.isUndefined(S.name)||(b.name=S.name),c.isUndefined(p)||(b.value=p),b})}function D(E){var S=new a(E.options).setGraph(E.value);return c.each(E.nodes,function(p){S.setNode(p.v,p.value),p.parent&&S.setParent(p.v,p.parent)}),c.each(E.edges,function(p){S.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),S}},ITfU:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingWhenSyntax=void 0;var c=i("zN6Y"),a=i("09fY"),M=function(){function O(x){this._binding=x}return O.prototype.when=function(x){return this._binding.constraint=x,new c.BindingOnSyntax(this._binding)},O.prototype.whenTargetNamed=function(x){return this._binding.constraint=a.namedConstraint(x),new c.BindingOnSyntax(this._binding)},O.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(x){var D=x.target!==null&&!x.target.isNamed()&&!x.target.isTagged();return D},new c.BindingOnSyntax(this._binding)},O.prototype.whenTargetTagged=function(x,D){return this._binding.constraint=a.taggedConstraint(x)(D),new c.BindingOnSyntax(this._binding)},O.prototype.whenInjectedInto=function(x){return this._binding.constraint=function(D){return a.typeConstraint(x)(D.parentRequest)},new c.BindingOnSyntax(this._binding)},O.prototype.whenParentNamed=function(x){return this._binding.constraint=function(D){return a.namedConstraint(x)(D.parentRequest)},new c.BindingOnSyntax(this._binding)},O.prototype.whenParentTagged=function(x,D){return this._binding.constraint=function(E){return a.taggedConstraint(x)(D)(E.parentRequest)},new c.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorIs=function(x){return this._binding.constraint=function(D){return a.traverseAncerstors(D,a.typeConstraint(x))},new c.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorIs=function(x){return this._binding.constraint=function(D){return!a.traverseAncerstors(D,a.typeConstraint(x))},new c.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorNamed=function(x){return this._binding.constraint=function(D){return a.traverseAncerstors(D,a.namedConstraint(x))},new c.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorNamed=function(x){return this._binding.constraint=function(D){return!a.traverseAncerstors(D,a.namedConstraint(x))},new c.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorTagged=function(x,D){return this._binding.constraint=function(E){return a.traverseAncerstors(E,a.taggedConstraint(x)(D))},new c.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorTagged=function(x,D){return this._binding.constraint=function(E){return!a.traverseAncerstors(E,a.taggedConstraint(x)(D))},new c.BindingOnSyntax(this._binding)},O.prototype.whenAnyAncestorMatches=function(x){return this._binding.constraint=function(D){return a.traverseAncerstors(D,x)},new c.BindingOnSyntax(this._binding)},O.prototype.whenNoAncestorMatches=function(x){return this._binding.constraint=function(D){return!a.traverseAncerstors(D,x)},new c.BindingOnSyntax(this._binding)},O}();A.BindingWhenSyntax=M},IVx7:function(Lt,A,i){"use strict";i.d(A,"a",function(){return q});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("s9g+"),x=i("Yz/u"),D=i("xPJu"),E=i("Jze/"),S="$$yField$$",p="$$diffField$$",b="$$absoluteField$$",y="$$isTotal$$",C={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function I(H,Q,k,K,nt){var lt,ut=[];if(Object(M.reduce)(H,function(ot,dt){var Mt;Object(E.q)(E.a.WARN,Object(M.isNumber)(dt[k]),dt[k]+" is not a valid number");var Nt=Object(M.isUndefined)(dt[k])?null:dt[k];return ut.push(Object(c.__assign)(Object(c.__assign)({},dt),(Mt={},Mt[K]=[ot,ot+Nt],Mt))),ot+Nt},0),ut.length&&nt){var rt=Object(M.get)(ut,[[H.length-1],K,[1]]);ut.push((lt={},lt[Q]=nt.label,lt[k]=rt,lt[K]=[0,rt],lt))}return ut}function g(H,Q,k,K){var nt=I(H,Q,k,S,K);return nt.map(function(lt,ut){var rt;return Object(M.isObject)(lt)?Object(c.__assign)(Object(c.__assign)({},lt),(rt={},rt[b]=lt[S][1],rt[p]=lt[S][1]-lt[S][0],rt[y]=ut===H.length,rt)):lt})}var R=i("dNsf");function U(H){for(var Q=[],k=0;k<H.length;k++){var K=H[k];if(K){var nt=k===0?"M":"L";Q.push([nt,K.x,K.y])}}var lt=H[0];return Q.push(["L",lt.x,lt.y]),Q.push(["z"]),Q}function W(H){return Object(E.c)({},H.defaultStyle,H.style,{fill:H.color})}Object(R.registerShape)("interval","waterfall",{draw:function(H,Q){var k=H.customInfo,K=H.points,nt=H.nextPoints,lt=Q.addGroup(),ut=this.parsePath(U(K)),rt=W(H);lt.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},rt),{path:ut})});var ot=Object(M.get)(k,"leaderLine");if(ot&&nt){var dt=[["M",K[2].x,K[2].y],["L",nt[0].x,nt[0].y]];K[2].y===nt[1].y&&(dt[1]=["L",nt[1].x,nt[1].y]),dt=this.parsePath(dt),lt.addShape("path",{attrs:Object(c.__assign)({path:dt},ot.style||{})})}return lt}});function z(H){var Q=H.options,k=Q.locale,K=Q.total,nt=Object(D.a)(k).get(["waterfall","total"]);return K&&typeof K.label!="string"&&nt&&(H.options.total.label=nt),H}function B(H){var Q=H.chart,k=H.options,K=k.data,nt=k.xField,lt=k.yField,ut=k.total,rt=k.leaderLine,ot=k.columnWidthRatio,dt=k.waterfallStyle,Mt=k.risingFill,Nt=k.fallingFill,ht=k.color;Q.data(g(K,nt,lt,ut));var yt=ht||function(gt){return Object(M.get)(gt,[y])?Object(M.get)(ut,["style","fill"],""):Object(M.get)(gt,[S,1])-Object(M.get)(gt,[S,0])>0?Mt:Nt},ft=Object(E.c)({},H,{options:{xField:nt,yField:S,seriesField:nt,rawFields:[lt,p,y,S],widthRatio:ot,interval:{style:dt,shape:"waterfall",color:yt}}}),st=Object(x.c)(ft).ext,xt=st.geometry;return xt.customInfo({leaderLine:rt}),H}function L(H){var Q,k,K=H.options,nt=K.xAxis,lt=K.yAxis,ut=K.xField,rt=K.yField,ot=K.meta,dt=Object(E.c)({},{alias:rt},Object(M.get)(ot,rt));return Object(E.f)(Object(O.f)((Q={},Q[ut]=nt,Q[rt]=lt,Q[S]=lt,Q),Object(E.c)({},ot,(k={},k[S]=dt,k[p]=dt,k[b]=dt,k))))(H)}function w(H){var Q=H.chart,k=H.options,K=k.xAxis,nt=k.yAxis,lt=k.xField,ut=k.yField;return K===!1?Q.axis(lt,!1):Q.axis(lt,K),nt===!1?(Q.axis(ut,!1),Q.axis(S,!1)):(Q.axis(ut,nt),Q.axis(S,nt)),H}function F(H){var Q=H.chart,k=H.options,K=k.legend,nt=k.total,lt=k.risingFill,ut=k.fallingFill,rt=k.locale,ot=Object(D.a)(rt);if(K===!1)Q.legend(!1);else{var dt=[{name:ot.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:lt}}},{name:ot.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:ut}}}];nt&&dt.push({name:nt.label||"",value:"total",marker:{symbol:"square",style:Object(E.c)({},{r:5},Object(M.get)(nt,"style"))}}),Q.legend(Object(E.c)({},{custom:!0,position:"top",items:dt},K)),Q.removeInteraction("legend-filter")}return H}function V(H){var Q=H.chart,k=H.options,K=k.label,nt=k.labelMode,lt=k.xField,ut=Object(E.d)(Q,"interval");if(!K)ut.label(!1);else{var rt=K.callback,ot=Object(c.__rest)(K,["callback"]);ut.label({fields:nt==="absolute"?[b,lt]:[p,lt],callback:rt,cfg:Object(E.y)(ot)})}return H}function Y(H){var Q=H.chart,k=H.options,K=k.tooltip,nt=k.xField,lt=k.yField;if(K!==!1){Q.tooltip(Object(c.__assign)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[lt]},K));var ut=Q.geometries[0];(K==null?void 0:K.formatter)?ut.tooltip(nt+"*"+lt,K.formatter):ut.tooltip(lt)}else Q.tooltip(!1);return H}function tt(H){return Object(E.f)(z,O.j,B,L,w,F,Y,V,O.i,O.c,O.a,Object(O.b)())(H)}var q=function(H){Object(c.__extends)(Q,H);function Q(){var k=H!==null&&H.apply(this,arguments)||this;return k.type="waterfall",k}return Q.getDefaultOptions=function(){return C},Q.prototype.changeData=function(k){var K=this.options,nt=K.xField,lt=K.yField,ut=K.total;this.updateOption({data:k}),this.chart.changeData(g(k,nt,lt,ut))},Q.prototype.getSchemaAdaptor=function(){return tt},Q.prototype.getDefaultOptions=function(){return Q.getDefaultOptions()},Q}(a.b)},IZ4i:function(Lt,A,i){var c=i("vqXp"),a=i("tIv8"),M=i("WeNx"),O=a?function(x,D){return a(x,"toString",{configurable:!0,enumerable:!1,value:c(D),writable:!0})}:M;Lt.exports=O},ItRR:function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=i("8Mtd");function a(M,O,x){var D=O+"Style",E=null;return Object(c.each)(x,function(S,p){M[p]&&S[D]&&(E||(E={}),Object(c.mix)(E,S[D]))}),E}},Itlo:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.tagged=void 0;var c=i("rMkn"),a=i("ZLnY");function M(O,x){return function(D,E,S){var p=new c.Metadata(O,x);typeof S=="number"?a.tagParameter(D,E,S,p):a.tagProperty(D,E,p)}}A.tagged=M},Ixdt:function(Lt,A,i){var c=i("fQKG"),a=i("/DyB"),M=a(function(O,x,D){c(O,x,D)});Lt.exports=M},"J/Yx":function(Lt,A,i){"use strict";i.d(A,"a",function(){return Q});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("RHEd"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("7Nom"),b=i.n(p),y=i("4OuL"),C=i.n(y),I=i("r1m7"),g=i.n(I),R=i("YcyD"),U=i.n(R),W=i("2Pg9"),z=i("XN3X"),B=i("ZVT1"),L,w,F,V,Y,tt,q,H,Q=(L=Object(R.injectable)(),w=Object(R.inject)(z.a.GeometryComponentManager),F=Object(R.inject)(z.a.RenderEngine),L(V=(Y=(H=function(){function k(){S()(this,k),D()(this,"geometry",tt,this),D()(this,"engine",q,this)}return b()(k,[{key:"execute",value:function(){var K=O()(a.a.mark(function lt(){var ut=this;return a.a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:this.geometry.forEach(function(dt,Mt){Mt.dirty&&(Mt.attributes.forEach(function(Nt){if(Nt.dirty&&Nt.data){if(!Nt.buffer)Nt.buffer=ut.engine.createBuffer({data:Nt.data,type:B.a.FLOAT});else{var ht;(ht=Nt.buffer)===null||ht===void 0||ht.subData({data:Nt.data,offset:0})}Nt.dirty=!1}}),Mt.indices&&(Mt.indicesBuffer?Mt.indicesBuffer.subData({data:Mt.indices,offset:0}):Mt.indicesBuffer=ut.engine.createElements({data:Mt.indices,count:Mt.indices.length,type:B.a.UNSIGNED_INT,usage:B.a.STATIC_DRAW})),Mt.dirty=!1)});case 1:case"end":return ot.stop()}},lt,this)}));function nt(){return K.apply(this,arguments)}return nt}()},{key:"tearDown",value:function(){this.geometry.forEach(function(nt,lt){lt.indicesBuffer&&lt.indicesBuffer.destroy(),lt.attributes.forEach(function(ut){ut.buffer&&ut.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},lt=nt.vertexCount,ut=Object(W.createEntity)();return this.geometry.create(ut,{vertexCount:lt})}},{key:"createInstancedBufferGeometry",value:function(nt){var lt=nt.maxInstancedCount,ut=nt.vertexCount,rt=Object(W.createEntity)();return this.geometry.create(rt,{maxInstancedCount:lt,vertexCount:ut})}}]),k}(),H),tt=C()(Y.prototype,"geometry",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=C()(Y.prototype,"engine",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y))||V)},JJ9t:function(Lt,A){Lt.exports=i;function i(c,a){return c[0]=Math.round(a[0]),c[1]=Math.round(a[1]),c}},JJn1:function(Lt,A){},JTuY:function(Lt,A,i){"use strict";i.d(A,"b",function(){return B}),i.d(A,"a",function(){return Y});var c=i("CMID"),a=i("8Mtd"),M=i("s9g+"),O=i("dNsf"),x=i("Jze/"),D=i("wh5Q");function E(tt,q){return Object(x.c)({size:q?32:80,spacing:q?8:12,offset:q?32:0,arrow:tt.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:tt.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:D.a}},tt)}function S(tt,q){return Object(a.map)(q.getModel().points,function(H){return tt.convertPoint(H)})}function p(tt,q,H){var Q=tt.view,k=tt.geometry,K=tt.group,nt=tt.options,lt=tt.horizontal,ut=nt.offset,rt=nt.size,ot=nt.arrow,dt=Q.getCoordinate(),Mt=S(dt,q)[lt?3:0],Nt=S(dt,H)[lt?0:3],ht=Nt.y-Mt.y,yt=Nt.x-Mt.x;if(typeof ot!="boolean"){var ft=ot.headSize,st=nt.spacing,xt;lt?(yt-ft)/2<st?(st=Math.max(1,(yt-ft)/2),xt=[[Mt.x+st,Mt.y-ut],[Mt.x+st,Mt.y-ut-rt],[Nt.x-st,Nt.y-ut-rt/2]]):xt=[[Mt.x+st,Mt.y-ut],[Mt.x+st,Mt.y-ut-rt],[Nt.x-st-ft,Nt.y-ut-rt],[Nt.x-st,Nt.y-ut-rt/2],[Nt.x-st-ft,Nt.y-ut]]:(ht-ft)/2<st?(st=Math.max(1,(ht-ft)/2),xt=[[Mt.x+ut,Mt.y+st],[Mt.x+ut+rt,Mt.y+st],[Nt.x+ut+rt/2,Nt.y-st]]):xt=[[Mt.x+ut,Mt.y+st],[Mt.x+ut+rt,Mt.y+st],[Nt.x+ut+rt,Nt.y-st-ft],[Nt.x+ut+rt/2,Nt.y-st],[Nt.x+ut,Nt.y-st-ft]],K.addShape("polygon",{id:Q.id+"-conversion-tag-arrow-"+k.getElementId(q.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:q,nextElement:H},attrs:Object(c.__assign)(Object(c.__assign)({},ot.style||{}),{points:xt})})}}function b(tt,q,H){var Q,k,K,nt=tt.view,lt=tt.geometry,ut=tt.group,rt=tt.options,ot=tt.field,dt=tt.horizontal,Mt=rt.offset,Nt=rt.size;if(typeof rt.text!="boolean"){var ht=nt.getCoordinate(),yt=((Q=rt.text)===null||Q===void 0?void 0:Q.formatter)&&((k=rt.text)===null||k===void 0?void 0:k.formatter(q.getData()[ot],H.getData()[ot])),ft=S(ht,q)[dt?3:0],st=S(ht,H)[dt?0:3],xt=ut.addShape("text",{id:nt.id+"-conversion-tag-text-"+lt.getElementId(q.getModel().mappingData),name:"conversion-tag-text",origin:{element:q,nextElement:H},attrs:Object(c.__assign)(Object(c.__assign)({},((K=rt.text)===null||K===void 0?void 0:K.style)||{}),{text:yt,x:dt?(ft.x+st.x)/2:ft.x+Mt+Nt/2,y:dt?ft.y-Mt-Nt/2:(ft.y+st.y)/2})});if(dt){var gt=st.x-ft.x,At=xt.getBBox().width;if(At>gt){var pt=At/yt.length,_=Math.max(1,Math.ceil(gt/pt)-1),$=yt.slice(0,_)+"...";xt.attr("text",$)}}}}function y(tt,q,H){p(tt,q,H),b(tt,q,H)}function C(tt,q,H){return q===void 0&&(q=!0),H===void 0&&(H=!1),function(Q){var k=Q.options,K=Q.chart,nt=k.conversionTag,lt=k.theme;return nt&&!H&&(K.theme(Object(x.c)({},Object(a.isObject)(lt)?lt:Object(O.getTheme)(lt),{columnWidthRatio:1/3})),K.annotation().shape({render:function(ut,rt){var ot=ut.addGroup({id:K.id+"-conversion-tag-group",name:"conversion-tag-group"}),dt=Object(a.find)(K.geometries,function(ht){return ht.type==="interval"}),Mt={view:rt,geometry:dt,group:ot,field:tt,horizontal:q,options:E(nt,q)},Nt=q?dt.elements:dt.elements.slice().reverse();Object(a.each)(Nt,function(ht,yt){yt>0&&y(Mt,Nt[yt-1],ht)})}})),Q}}var I={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};Object(O.registerInteraction)(I.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(O.registerInteraction)(I.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function g(tt){return tt===void 0&&(tt=!1),function(q){var H=q.chart,Q=q.options,k=Q.connectedArea,K=function(){H.removeInteraction(I.hover),H.removeInteraction(I.click)};if(!tt&&k){var nt=k.trigger||"hover";K(),H.interaction(I[nt])}else K();return q}}var R=i("Yz/u"),U=i("P4df");function W(tt){var q=tt.options,H=q.legend,Q=q.seriesField,k=q.isStack;return Q?H!==!1&&(H=Object(c.__assign)({position:k?"right-top":"top-left"},H)):H=!1,tt.options.legend=H,tt}function z(tt){var q=tt.chart,H=tt.options,Q=H.data,k=H.columnStyle,K=H.color,nt=H.columnWidthRatio,lt=H.isPercent,ut=H.xField,rt=H.yField,ot=H.seriesField,dt=H.tooltip;q.data(Object(U.a)(Q,rt,ut,rt,lt));var Mt=lt?Object(c.__assign)({formatter:function(ht){return{name:ht[ot]||ht[ut],value:(Number(ht[rt])*100).toFixed(2)+"%"}}},dt):dt,Nt=Object(x.c)({},tt,{options:{widthRatio:nt,tooltip:Mt,interval:{style:k,color:K}}});return Object(R.c)(Nt),tt}function B(tt){var q,H,Q=tt.options,k=Q.xAxis,K=Q.yAxis,nt=Q.xField,lt=Q.yField,ut=Q.data,rt=Q.isPercent,ot=rt?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(x.f)(Object(M.f)((q={},q[nt]=k,q[lt]=K,q),(H={},H[nt]={type:"cat"},H[lt]=Object(c.__assign)(Object(c.__assign)({},Object(x.b)(ut,lt)),ot),H)))(tt)}function L(tt){var q=tt.chart,H=tt.options,Q=H.xAxis,k=H.yAxis,K=H.xField,nt=H.yField;return Q===!1?q.axis(K,!1):q.axis(K,Q),k===!1?q.axis(nt,!1):q.axis(nt,k),tt}function w(tt){var q=tt.chart,H=tt.options,Q=H.legend,k=H.seriesField;return Q&&k?q.legend(k,Q):Q===!1&&q.legend(!1),tt}function F(tt){var q=tt.chart,H=tt.options,Q=H.label,k=H.yField,K=H.isRange,nt=Object(x.d)(q,"interval");if(!Q)nt.label(!1);else{var lt=Q.callback,ut=Object(c.__rest)(Q,["callback"]);nt.label({fields:[k],callback:lt,cfg:Object(c.__assign)({layout:(ut==null?void 0:ut.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(x.y)(K?Object(c.__assign)({content:function(rt){var ot;return(ot=rt[k])===null||ot===void 0?void 0:ot.join("-")}},ut):ut))})}return tt}function V(tt){var q=tt.chart,H=tt.options,Q=H.tooltip,k=H.isGroup,K=H.isStack,nt=H.groupField,lt=H.data,ut=H.xField,rt=H.yField,ot=H.seriesField;if(Q===!1)q.tooltip(!1);else{var dt=Q;if(k&&K){var Mt=(dt==null?void 0:dt.formatter)||function(Nt){return{name:Nt[ot]+" - "+Nt[nt],value:Nt[rt]}};dt=Object(c.__assign)(Object(c.__assign)({},dt),{customItems:function(Nt){var ht=[];return Object(a.each)(Nt,function(yt){var ft=Object(a.filter)(lt,function(st){return Object(a.isMatch)(st,Object(x.s)(yt.data,[ut,ot]))});ft.forEach(function(st){ht.push(Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},yt),{value:st[rt],data:st,mappingData:{_origin:st}}),Mt(st)))})}),ht}})}q.tooltip(dt)}return tt}function Y(tt,q){q===void 0&&(q=!1);var H=tt.options,Q=H.seriesField;return Object(x.f)(W,M.j,M.i,z,B,L,w,V,M.h,M.g,F,M.c,M.a,Object(M.b)(),C(H.yField,!q,!!Q),g(!H.isStack),M.e)(tt)}},"JWH+":function(Lt,A,i){var c=i("ThNq"),a=i("HDt/");function M(O,x){return c(O,x,function(D,E){return a(O,E)})}Lt.exports=M},Jr4d:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=i("CMID"),a=i("8Mtd"),M=i("Eqze"),O=function(p,b,y){for(var C=Infinity,I,g=0;g<b.length;g++){var R=b[g].id;!y[R]&&p[R]<=C&&(C=p[R],I=b[g])}return I},x=function(p,b,y,C){var I=p.nodes,g=I===void 0?[]:I,R=p.edges,U=R===void 0?[]:R,W=[],z={},B={},L={};g.forEach(function(H,Q){var k=H.id;W.push(k),B[k]=Infinity,k===b&&(B[k]=0)});for(var w=g.length,F=function(Q){var k=O(B,g,z),K=k.id;if(z[K]=!0,B[K]===Infinity)return"continue";var nt=[];y?nt=(0,M.getOutEdgesNodeId)(K,U):nt=(0,M.getEdgesByNodeId)(K,U),nt.forEach(function(lt){var ut=lt.target,rt=lt.source,ot=ut===K?rt:ut,dt=C&&lt[C]?lt[C]:1;B[ot]>B[k.id]+dt?(B[ot]=B[k.id]+dt,L[ot]=[k.id]):B[ot]===B[k.id]+dt&&L[ot].push(k.id)})},V=0;V<w;V++)F(V);L[b]=[b];var Y={};for(var tt in B)B[tt]!==Infinity&&E(b,tt,L,Y);var q={};for(var tt in Y)q[tt]=Y[tt][0];return{length:B,path:q,allPath:Y}},D=x;A.default=D;function E(S,p,b,y){if(S===p)return[S];if(y[p])return y[p];for(var C=[],I=0,g=b[p];I<g.length;I++){var R=g[I],U=E(S,R,b,y);if(!U)return;for(var W=0,z=U;W<z.length;W++){var B=z[W];(0,a.isArray)(B)?C.push((0,c.__spreadArray)((0,c.__spreadArray)([],B),[p])):C.push([B,p])}}return y[p]=C,y[p]}},"Jze/":function(Lt,A,i){"use strict";i.d(A,"f",function(){return c}),i.d(A,"s",function(){return a.a}),i.d(A,"w",function(){return O}),i.d(A,"q",function(){return x.b}),i.d(A,"a",function(){return x.a}),i.d(A,"j",function(){return D}),i.d(A,"d",function(){return E}),i.d(A,"g",function(){return S}),i.d(A,"h",function(){return p}),i.d(A,"i",function(){return b}),i.d(A,"e",function(){return y.a}),i.d(A,"m",function(){return y.c}),i.d(A,"k",function(){return y.b}),i.d(A,"y",function(){return I}),i.d(A,"l",function(){return z}),i.d(A,"c",function(){return B.a}),i.d(A,"p",function(){return L}),i.d(A,"v",function(){return w.b}),i.d(A,"u",function(){return w.a}),i.d(A,"r",function(){return Y}),i.d(A,"n",function(){return tt.a}),i.d(A,"o",function(){return tt.b}),i.d(A,"b",function(){return q.a}),i.d(A,"x",function(){return q.c}),i.d(A,"t",function(){return q.b});function c(){for(var H=[],Q=0;Q<arguments.length;Q++)H[Q]=arguments[Q];return function(k){return H.reduce(function(K,nt){return nt(K)},k)}}var a=i("VMp+"),M=i("8Mtd");function O(H,Q){return Q?Object(M.reduce)(Q,function(k,K,nt){return k.replace(new RegExp("{\\s*"+nt+"\\s*}","g"),K)},H):H}var x=i("rNQS");function D(H){if(!H)return{width:0,height:0};var Q=getComputedStyle(H);return{width:(H.clientWidth||parseInt(Q.width,10))-parseInt(Q.paddingLeft,10)-parseInt(Q.paddingRight,10),height:(H.clientHeight||parseInt(Q.height,10))-parseInt(Q.paddingTop,10)-parseInt(Q.paddingBottom,10)}}function E(H,Q){return H.geometries.find(function(k){return k.type===Q})}function S(H){return Object(M.reduce)(H.geometries,function(Q,k){return Q.concat(k.elements)},[])}function p(H){return Object(M.get)(H,["views","length"],0)<=0?S(H):Object(M.reduce)(H.views,function(Q,k){return Q.concat(p(k))},S(H))}function b(H){return Object(M.get)(H,["views","length"],0)<=0?H.geometries:Object(M.reduce)(H.views,function(Q,k){return Q.concat(k.geometries)},H.geometries)}var y=i("VMMH"),C=i("CMID");function I(H){if(!Object(M.isType)(H,"Object"))return H;var Q=Object(C.__assign)({},H);return Q.formatter&&!Q.content&&(Q.content=Q.formatter),Q}var g=i("sxZn");function R(H,Q){var k=[];if(H.length){k.push(["M",H[0].x,H[0].y]);for(var K=1,nt=H.length;K<nt;K+=1){var lt=H[K];k.push(["L",lt.x,lt.y])}Q&&k.push(["Z"])}return k}var U=function(H,Q,k,K){var nt=[],lt,ut,rt=!!K,ot,dt;if(rt){ot=[Infinity,Infinity],dt=[-Infinity,-Infinity];for(var Mt=0,Nt=H.length;Mt<Nt;Mt++){var ht=H[Mt];ot=g.c.min([0,0],ot,ht),dt=g.c.max([0,0],dt,ht)}ot=g.c.min([0,0],ot,K[0]),dt=g.c.max([0,0],dt,K[1])}for(var Mt=0,yt=H.length;Mt<yt;Mt++){var ht=H[Mt];if(k)lt=H[Mt?Mt-1:yt-1],ut=H[(Mt+1)%yt];else if(Mt===0||Mt===yt-1){nt.push(ht);continue}else lt=H[Mt-1],ut=H[Mt+1];var ft=[0,0];ft=g.c.sub(ft,ut,lt),ft=g.c.scale(ft,ft,Q);var st=g.c.distance(ht,lt),xt=g.c.distance(ht,ut),gt=st+xt;gt!==0&&(st/=gt,xt/=gt);var At=g.c.scale([0,0],ft,-st),pt=g.c.scale([0,0],ft,xt),_=g.c.add([0,0],ht,At),$=g.c.add([0,0],ht,pt);rt&&(_=g.c.max([0,0],_,ot),_=g.c.min([0,0],_,dt),$=g.c.max([0,0],$,ot),$=g.c.min([0,0],$,dt)),nt.push(_),nt.push($)}return k&&nt.push(nt.shift()),nt};function W(H,Q,k){for(var K=!!Q,nt=[],lt=0,ut=H.length;lt<ut;lt+=2)nt.push([H[lt],H[lt+1]]);for(var rt=U(nt,.4,K,k),ot=nt.length,dt=[],Mt,Nt,ht,lt=0;lt<ot-1;lt++)Mt=rt[lt*2],Nt=rt[lt*2+1],ht=nt[lt+1],dt.push(["C",Mt[0],Mt[1],Nt[0],Nt[1],ht[0],ht[1]]);return K&&(Mt=rt[ot],Nt=rt[ot+1],ht=nt[0],dt.push(["C",Mt[0],Mt[1],Nt[0],Nt[1],ht[0],ht[1]])),dt}function z(H,Q,k){var K=[],nt=H[0],lt=null;if(H.length<=2)return R(H,Q);for(var ut=0,rt=H.length;ut<rt;ut++){var ot=H[ut];(!lt||!(lt.x===ot.x&&lt.y===ot.y))&&(K.push(ot.x),K.push(ot.y),lt=ot)}var dt=k||[[0,0],[1,1]],Mt=W(K,Q,dt);return Mt.unshift(["M",nt.x,nt.y]),Mt}var B=i("YPJE");function L(H){if(!H)return H;var Q=H.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return Q.map(function(k){return k.toLowerCase()}).join("-")}var w=i("c6sP"),F;function V(){return F||(F=document.createElement("canvas").getContext("2d")),F}var Y=Object(M.memoize)(function(H,Q){Q===void 0&&(Q={});var k=Q.fontSize,K=Q.fontFamily,nt=K===void 0?"sans-serif":K,lt=Q.fontWeight,ut=Q.fontStyle,rt=Q.fontVariant,ot=V();ot.font=[ut,lt,rt,k+"px",nt].join(" ");var dt=ot.measureText(Object(M.isString)(H)?H:"");return dt.width},function(H,Q){return Q===void 0&&(Q={}),Object(C.__spreadArrays)([H],Object(M.values)(Q)).join("")}),tt=i("Sn/i"),q=i("3coh")},K0S0:function(Lt,A,i){"use strict";var c=i("ql+n");Lt.exports=x;var a="\0",M="\0",O="";function x(y){this._isDirected=c.has(y,"directed")?y.directed:!0,this._isMultigraph=c.has(y,"multigraph")?y.multigraph:!1,this._isCompound=c.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=c.constant(void 0),this._defaultEdgeLabelFn=c.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[M]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}x.prototype._nodeCount=0,x.prototype._edgeCount=0,x.prototype.isDirected=function(){return this._isDirected},x.prototype.isMultigraph=function(){return this._isMultigraph},x.prototype.isCompound=function(){return this._isCompound},x.prototype.setGraph=function(y){return this._label=y,this},x.prototype.graph=function(){return this._label},x.prototype.setDefaultNodeLabel=function(y){return c.isFunction(y)||(y=c.constant(y)),this._defaultNodeLabelFn=y,this},x.prototype.nodeCount=function(){return this._nodeCount},x.prototype.nodes=function(){return c.keys(this._nodes)},x.prototype.sources=function(){var y=this;return c.filter(this.nodes(),function(C){return c.isEmpty(y._in[C])})},x.prototype.sinks=function(){var y=this;return c.filter(this.nodes(),function(C){return c.isEmpty(y._out[C])})},x.prototype.setNodes=function(y,C){var I=arguments,g=this;return c.each(y,function(R){I.length>1?g.setNode(R,C):g.setNode(R)}),this},x.prototype.setNode=function(y,C){return c.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=C),this):(this._nodes[y]=arguments.length>1?C:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=M,this._children[y]={},this._children[M][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},x.prototype.node=function(y){return this._nodes[y]},x.prototype.hasNode=function(y){return c.has(this._nodes,y)},x.prototype.removeNode=function(y){var C=this;if(c.has(this._nodes,y)){var I=function(g){C.removeEdge(C._edgeObjs[g])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],c.each(this.children(y),function(g){C.setParent(g)}),delete this._children[y]),c.each(c.keys(this._in[y]),I),delete this._in[y],delete this._preds[y],c.each(c.keys(this._out[y]),I),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},x.prototype.setParent=function(y,C){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(c.isUndefined(C))C=M;else{C+="";for(var I=C;!c.isUndefined(I);I=this.parent(I))if(I===y)throw new Error("Setting "+C+" as parent of "+y+" would create a cycle");this.setNode(C)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=C,this._children[C][y]=!0,this},x.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},x.prototype.parent=function(y){if(this._isCompound){var C=this._parent[y];if(C!==M)return C}},x.prototype.children=function(y){if(c.isUndefined(y)&&(y=M),this._isCompound){var C=this._children[y];if(C)return c.keys(C)}else{if(y===M)return this.nodes();if(this.hasNode(y))return[]}},x.prototype.predecessors=function(y){var C=this._preds[y];if(C)return c.keys(C)},x.prototype.successors=function(y){var C=this._sucs[y];if(C)return c.keys(C)},x.prototype.neighbors=function(y){var C=this.predecessors(y);if(C)return c.union(C,this.successors(y))},x.prototype.isLeaf=function(y){var C;return this.isDirected()?C=this.successors(y):C=this.neighbors(y),C.length===0},x.prototype.filterNodes=function(y){var C=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});C.setGraph(this.graph());var I=this;c.each(this._nodes,function(U,W){y(W)&&C.setNode(W,U)}),c.each(this._edgeObjs,function(U){C.hasNode(U.v)&&C.hasNode(U.w)&&C.setEdge(U,I.edge(U))});var g={};function R(U){var W=I.parent(U);return W===void 0||C.hasNode(W)?(g[U]=W,W):W in g?g[W]:R(W)}return this._isCompound&&c.each(C.nodes(),function(U){C.setParent(U,R(U))}),C},x.prototype.setDefaultEdgeLabel=function(y){return c.isFunction(y)||(y=c.constant(y)),this._defaultEdgeLabelFn=y,this},x.prototype.edgeCount=function(){return this._edgeCount},x.prototype.edges=function(){return c.values(this._edgeObjs)},x.prototype.setPath=function(y,C){var I=this,g=arguments;return c.reduce(y,function(R,U){return g.length>1?I.setEdge(R,U,C):I.setEdge(R,U),U}),this},x.prototype.setEdge=function(){var y,C,I,g,R=!1,U=arguments[0];typeof U=="object"&&U!==null&&"v"in U?(y=U.v,C=U.w,I=U.name,arguments.length===2&&(g=arguments[1],R=!0)):(y=U,C=arguments[1],I=arguments[3],arguments.length>2&&(g=arguments[2],R=!0)),y=""+y,C=""+C,c.isUndefined(I)||(I=""+I);var W=S(this._isDirected,y,C,I);if(c.has(this._edgeLabels,W))return R&&(this._edgeLabels[W]=g),this;if(!c.isUndefined(I)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(C),this._edgeLabels[W]=R?g:this._defaultEdgeLabelFn(y,C,I);var z=p(this._isDirected,y,C,I);return y=z.v,C=z.w,Object.freeze(z),this._edgeObjs[W]=z,D(this._preds[C],y),D(this._sucs[y],C),this._in[C][W]=z,this._out[y][W]=z,this._edgeCount++,this},x.prototype.edge=function(y,C,I){var g=arguments.length===1?b(this._isDirected,arguments[0]):S(this._isDirected,y,C,I);return this._edgeLabels[g]},x.prototype.hasEdge=function(y,C,I){var g=arguments.length===1?b(this._isDirected,arguments[0]):S(this._isDirected,y,C,I);return c.has(this._edgeLabels,g)},x.prototype.removeEdge=function(y,C,I){var g=arguments.length===1?b(this._isDirected,arguments[0]):S(this._isDirected,y,C,I),R=this._edgeObjs[g];return R&&(y=R.v,C=R.w,delete this._edgeLabels[g],delete this._edgeObjs[g],E(this._preds[C],y),E(this._sucs[y],C),delete this._in[C][g],delete this._out[y][g],this._edgeCount--),this},x.prototype.inEdges=function(y,C){var I=this._in[y];if(I){var g=c.values(I);return C?c.filter(g,function(R){return R.v===C}):g}},x.prototype.outEdges=function(y,C){var I=this._out[y];if(I){var g=c.values(I);return C?c.filter(g,function(R){return R.w===C}):g}},x.prototype.nodeEdges=function(y,C){var I=this.inEdges(y,C);if(I)return I.concat(this.outEdges(y,C))};function D(y,C){y[C]?y[C]++:y[C]=1}function E(y,C){--y[C]||delete y[C]}function S(y,C,I,g){var R=""+C,U=""+I;if(!y&&R>U){var W=R;R=U,U=W}return R+O+U+O+(c.isUndefined(g)?a:g)}function p(y,C,I,g){var R=""+C,U=""+I;if(!y&&R>U){var W=R;R=U,U=W}var z={v:R,w:U};return g&&(z.name=g),z}function b(y,C){return S(y,C.v,C.w,C.name)}},K0hn:function(Lt,A,i){"use strict";i.d(A,"a",function(){return E}),i.d(A,"d",function(){return S}),i.d(A,"b",function(){return p}),i.d(A,"c",function(){return y}),i.d(A,"e",function(){return g}),i.d(A,"h",function(){return R}),i.d(A,"f",function(){return W}),i.d(A,"g",function(){return z});var c=i("8Mtd"),a=i("aTcL"),M=i("hMip"),O=i("bsNZ"),x=i("Oru/"),D={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function E(B,L){var w=L.attr();for(var F in w){var V=w[F],Y=D[F]?D[F]:F;Y==="matrix"&&V?B.transform(V[0],V[1],V[3],V[4],V[6],V[7]):Y==="lineDash"&&B.setLineDash?Object(c.isArray)(V)&&B.setLineDash(V):(Y==="strokeStyle"||Y==="fillStyle"?V=Object(a.b)(B,L,V):Y==="globalAlpha"&&(V=V*B.globalAlpha),B[Y]=V)}}function S(B,L,w){for(var F=0;F<L.length;F++){var V=L[F];V.cfg.visible?V.draw(B,w):V.skipDraw()}}function p(B,L,w){var F=B.get("refreshElements");Object(c.each)(F,function(V){if(V!==B)for(var Y=V.cfg.parent;Y&&Y!==B&&!Y.cfg.refresh;)Y.cfg.refresh=!0,Y=Y.cfg.parent}),F[0]===B?C(L,w):b(L,w)}function b(B,L){for(var w=0;w<B.length;w++){var F=B[w];if(F.cfg.visible)if(F.cfg.hasChanged)F.cfg.refresh=!0,F.isGroup()&&C(F.cfg.children,L);else if(F.cfg.refresh)F.isGroup()&&b(F.cfg.children,L);else{var V=I(F,L);F.cfg.refresh=V,V&&F.isGroup()&&b(F.cfg.children,L)}}}function y(B){for(var L=0;L<B.length;L++){var w=B[L];w.cfg.hasChanged=!1,w.isGroup()&&!w.destroyed&&y(w.cfg.children)}}function C(B,L){for(var w=0;w<B.length;w++){var F=B[w];F.cfg.refresh=!0,F.isGroup()&&C(F.get("children"),L)}}function I(B,L){var w=B.cfg.cacheCanvasBBox,F=B.cfg.isInView&&w&&Object(O.f)(w,L);return F}function g(B,L,w,F){var V=w.path,Y=w.startArrow,tt=w.endArrow;if(!!V){var q=[0,0],H=[0,0],Q={dx:0,dy:0};L.beginPath();for(var k=0;k<V.length;k++){var K=V[k],nt=K[0];if(k===0&&Y&&Y.d){var lt=B.getStartTangent();Q=x.c(lt[0][0],lt[0][1],lt[1][0],lt[1][1],Y.d)}else if(k===V.length-2&&V[k+1][0]==="Z"&&tt&&tt.d){var ut=V[k+1];if(ut[0]==="Z"){var lt=B.getEndTangent();Q=x.c(lt[0][0],lt[0][1],lt[1][0],lt[1][1],tt.d)}}else if(k===V.length-1&&tt&&tt.d&&V[0]!=="Z"){var lt=B.getEndTangent();Q=x.c(lt[0][0],lt[0][1],lt[1][0],lt[1][1],tt.d)}var rt=Q.dx,ot=Q.dy;switch(nt){case"M":L.moveTo(K[1]-rt,K[2]-ot),H=[K[1],K[2]];break;case"L":L.lineTo(K[1]-rt,K[2]-ot);break;case"Q":L.quadraticCurveTo(K[1],K[2],K[3]-rt,K[4]-ot);break;case"C":L.bezierCurveTo(K[1],K[2],K[3],K[4],K[5]-rt,K[6]-ot);break;case"A":{var dt=void 0;F?(dt=F[k],dt||(dt=Object(M.a)(q,K),F[k]=dt)):dt=Object(M.a)(q,K);var Mt=dt.cx,Nt=dt.cy,ht=dt.rx,yt=dt.ry,ft=dt.startAngle,st=dt.endAngle,xt=dt.xRotation,gt=dt.sweepFlag;if(L.ellipse)L.ellipse(Mt,Nt,ht,yt,xt,ft,st,1-gt);else{var At=ht>yt?ht:yt,pt=ht>yt?1:ht/yt,_=ht>yt?yt/ht:1;L.translate(Mt,Nt),L.rotate(xt),L.scale(pt,_),L.arc(0,0,At,ft,st,1-gt),L.scale(1/pt,1/_),L.rotate(-xt),L.translate(-Mt,-Nt)}break}case"Z":L.closePath();break;default:break}if(nt==="Z")q=H;else{var $=K.length;q=[K[$-2],K[$-1]]}}}}function R(B,L){var w=B.get("canvas");w&&(L==="remove"&&(B._cacheCanvasBBox=B.get("cacheCanvasBBox")),B.get("hasChanged")||(B.set("hasChanged",!0),B.cfg.parent&&B.cfg.parent.get("hasChanged")||(w.refreshElement(B,L,w),w.get("autoDraw")&&w.draw())))}function U(B){var L;if(B.destroyed)L=B._cacheCanvasBBox;else{var w=B.get("cacheCanvasBBox"),F=w&&!!(w.width&&w.height),V=B.getCanvasBBox(),Y=V&&!!(V.width&&V.height);F&&Y?L=Object(O.l)(w,V):F?L=w:Y&&(L=V)}return L}function W(B){if(!B.length)return null;var L=[],w=[],F=[],V=[];return Object(c.each)(B,function(Y){var tt=U(Y);tt&&(L.push(tt.minX),w.push(tt.minY),F.push(tt.maxX),V.push(tt.maxY))}),{minX:Object(c.min)(L),minY:Object(c.min)(w),maxX:Object(c.max)(F),maxY:Object(c.max)(V)}}function z(B,L){return!B||!L||!Object(O.f)(B,L)?null:{minX:Math.max(B.minX,L.minX),minY:Math.max(B.minY,L.minY),maxX:Math.min(B.maxX,L.maxX),maxY:Math.min(B.maxY,L.maxY)}}},K4bE:function(Lt,A,i){"use strict";i.d(A,"a",function(){return _});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("RHEd"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("7Nom"),b=i.n(p),y=i("4OuL"),C=i.n(y),I=i("r1m7"),g=i.n(I),R=i("99LQ"),U=i("YcyD"),W=i.n(U),z=i("XN3X"),B=i("ZVT1"),L,w,F,V,Y,tt,q,H,Q,k,K,nt,lt,ut,rt,ot,dt,Mt,Nt,ht,yt,ft,st,xt;function gt($,bt){var it;if(typeof Symbol=="undefined"||$[Symbol.iterator]==null){if(Array.isArray($)||(it=At($))||bt&&$&&typeof $.length=="number"){it&&($=it);var Ot=0,Pt=function(){};return{s:Pt,n:function(){return Ot>=$.length?{done:!0}:{done:!1,value:$[Ot++]}},e:function(wt){throw wt},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Rt=!0,Vt=!1,kt;return{s:function(){it=$[Symbol.iterator]()},n:function(){var wt=it.next();return Rt=wt.done,wt},e:function(wt){Vt=!0,kt=wt},f:function(){try{!Rt&&it.return!=null&&it.return()}finally{if(Vt)throw kt}}}}function At($,bt){if(!!$){if(typeof $=="string")return pt($,bt);var it=Object.prototype.toString.call($).slice(8,-1);if(it==="Object"&&$.constructor&&(it=$.constructor.name),it==="Map"||it==="Set")return Array.from($);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return pt($,bt)}}function pt($,bt){(bt==null||bt>$.length)&&(bt=$.length);for(var it=0,Ot=new Array(bt);it<bt;it++)Ot[it]=$[it];return Ot}var _=(L=Object(U.injectable)(),w=Object(U.inject)(z.a.MeshComponentManager),F=Object(U.inject)(z.a.GeometryComponentManager),V=Object(U.inject)(z.a.MaterialComponentManager),Y=Object(U.inject)(z.a.CullableComponentManager),tt=Object(U.inject)(z.a.TransformComponentManager),q=Object(U.inject)(z.a.HierarchyComponentManager),H=Object(U.inject)(z.a.Systems),Q=Object(U.named)(z.a.FrameGraphSystem),k=Object(U.inject)(z.a.RenderEngine),K=Object(U.inject)(z.a.ResourcePool),L(nt=(lt=(xt=st=function(){function $(){var bt=this;S()(this,$),D()(this,"mesh",ut,this),D()(this,"geometry",rt,this),D()(this,"material",ot,this),D()(this,"cullable",dt,this),D()(this,"transform",Mt,this),D()(this,"hierarchy",Nt,this),D()(this,"frameGraphSystem",ht,this),D()(this,"engine",yt,this),D()(this,"resourcePool",ft,this),this.modelCache={},this.setup=function(it,Ot,Pt){var Rt=it.createRenderTarget(Ot,"color buffer",{width:1,height:1,usage:B.a.RENDER_ATTACHMENT|B.a.SAMPLED|B.a.COPY_SRC});Pt.data={output:Ot.write(it,Rt)}},this.execute=function(){var it=O()(a.a.mark(function Ot(Pt,Rt,Vt){var kt,Wt,wt,ct,jt,Xt;return a.a.wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:kt=Pt.getResourceNode(Rt.data.output),Wt=bt.resourcePool.getOrCreateResource(kt.resource),wt=gt(Vt),Ut.prev=3,wt.s();case 5:if((ct=wt.n()).done){Ut.next=11;break}return jt=ct.value,Ut.next=9,bt.initView(jt);case 9:Ut.next=5;break;case 11:Ut.next=16;break;case 13:Ut.prev=13,Ut.t0=Ut.catch(3),wt.e(Ut.t0);case 16:return Ut.prev=16,wt.f(),Ut.finish(16);case 19:Xt=bt.engine.getCanvas(),Wt.resize({width:Xt.width,height:Xt.height}),bt.engine.setScissor({enable:!1}),bt.engine.clear({framebuffer:Wt,color:Vt[0].getClearColor(),depth:1}),bt.engine.useFramebuffer(Wt,function(){var $t=gt(Vt),Ft;try{for($t.s();!(Ft=$t.n()).done;){var Kt=Ft.value;bt.renderView(Kt)}}catch(ee){$t.e(ee)}finally{$t.f()}});case 24:case"end":return Ut.stop()}},Ot,null,[[3,13,16,19]])}));return function(Ot,Pt,Rt){return it.apply(this,arguments)}}()}return b()($,[{key:"renderView",value:function(it){var Ot=it.getScene(),Pt=it.getCamera(),Rt=Pt.getViewTransform(),Vt=R.b.multiply(R.b.create(),Pt.getPerspective(),Rt);Pt.getFrustum().extractFromVPMatrix(Vt);var kt=it.getViewport(),Wt=kt.x,wt=kt.y,ct=kt.width,jt=kt.height;this.engine.viewport({x:Wt,y:wt,width:ct,height:jt});var Xt=gt(Ot.getEntities()),It;try{for(Xt.s();!(It=Xt.n()).done;){var Ut=It.value;this.renderMesh(Ut,{camera:Pt,view:it,viewMatrix:Rt})}}catch($t){Xt.e($t)}finally{Xt.f()}}},{key:"renderMesh",value:function(it,Ot){var Pt=Ot.camera,Rt=Ot.view,Vt=Ot.viewMatrix,kt=this.mesh.getComponentByEntity(it);if(!(!kt||!kt.visible)){var Wt=kt.material,wt=kt.geometry;if(!(!wt||wt.dirty||!Wt)){var ct=this.transform.getComponentByEntity(it),jt=R.b.multiply(R.b.create(),Vt,ct.worldTransform),Xt=Rt.getViewport(),It=Xt.width,Ut=Xt.height;Wt.setUniform({projectionMatrix:Pt.getPerspective(),modelViewMatrix:jt,modelMatrix:ct.worldTransform,viewMatrix:Vt,cameraPosition:Pt.getPosition(),u_viewport:[It,Ut]}),kt.model&&(kt.model.draw({uniforms:Wt.uniforms.reduce(function($t,Ft){return $t[Ft.name]=Ft.data,$t},{})}),Wt.uniforms.forEach(function($t){$t.dirty=!1}),Wt.dirty=!1)}}}},{key:"initMesh",value:function(){var bt=O()(a.a.mark(function Ot(Pt,Rt){var Vt,kt,Wt,wt,ct,jt,Xt,It;return a.a.wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(Vt=this.mesh.getComponentByEntity(Pt),Vt){$t.next=3;break}return $t.abrupt("return");case 3:if(kt=Vt.material,Wt=Vt.geometry,!(!Wt||Wt.dirty||!kt)){$t.next=7;break}return $t.abrupt("return");case 7:if(Vt.model){$t.next=24;break}if(wt="m-".concat(kt.entity,"-g-").concat(Wt.entity),!this.modelCache[wt]){$t.next=12;break}return Vt.model=this.modelCache[wt],$t.abrupt("return");case 12:return kt.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),ct=this.engine,jt=ct.createModel,Xt=ct.createAttribute,It={vs:kt.vertexShaderGLSL,fs:kt.fragmentShaderGLSL,defines:kt.defines,attributes:Wt.attributes.reduce(function(Ft,Kt){return Kt.data&&Kt.buffer&&(Ft[Kt.name]=Xt({buffer:Kt.buffer,attributes:Kt.attributes,arrayStride:Kt.arrayStride,stepMode:Kt.stepMode,divisor:Kt.stepMode==="vertex"?0:1})),Ft},{}),uniforms:kt.uniforms.reduce(function(Ft,Kt){return Ft[Kt.name]=Kt.data,Ft},{}),scissor:{enable:!0,box:function(){return Rt.getViewport()}}},kt.cull&&(It.cull=kt.cull),kt.depth&&(It.depth=kt.depth),kt.blend&&(It.blend=kt.blend),Wt.indicesBuffer&&(It.elements=Wt.indicesBuffer),Wt.maxInstancedCount&&(It.instances=Wt.maxInstancedCount,It.count=Wt.vertexCount||3),$t.next=22,jt(It);case 22:Vt.model=$t.sent,this.modelCache[wt]=Vt.model;case 24:case"end":return $t.stop()}},Ot,this)}));function it(Ot,Pt){return bt.apply(this,arguments)}return it}()},{key:"initView",value:function(){var bt=O()(a.a.mark(function Ot(Pt){var Rt,Vt,kt,Wt;return a.a.wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:Rt=Pt.getScene(),Vt=gt(Rt.getEntities()),ct.prev=2,Vt.s();case 4:if((kt=Vt.n()).done){ct.next=10;break}return Wt=kt.value,ct.next=8,this.initMesh(Wt,Pt);case 8:ct.next=4;break;case 10:ct.next=15;break;case 12:ct.prev=12,ct.t0=ct.catch(2),Vt.e(ct.t0);case 15:return ct.prev=15,Vt.f(),ct.finish(15);case 18:case"end":return ct.stop()}},Ot,this,[[2,12,15,18]])}));function it(Ot){return bt.apply(this,arguments)}return it}()}]),$}(),st.IDENTIFIER="Render Pass",xt),ut=C()(lt.prototype,"mesh",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=C()(lt.prototype,"geometry",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=C()(lt.prototype,"material",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=C()(lt.prototype,"cullable",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=C()(lt.prototype,"transform",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=C()(lt.prototype,"hierarchy",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=C()(lt.prototype,"frameGraphSystem",[H,Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=C()(lt.prototype,"engine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=C()(lt.prototype,"resourcePool",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt))||nt)},KAHC:function(Lt,A,i){var c=i("spfM"),a=i("SOgk"),M=i("dVOP"),O=i("+Gi7");function x(D,E){var S=O(D)?c:a;return S(D,M(E))}Lt.exports=x},"KC/J":function(Lt,A,i){var c=i("zPMQ"),a=i("AmsH"),M=i("CG4S");function O(x){return a(x)?M(x):c(x)}Lt.exports=O},KCuH:function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=i("8Mtd"),a={locale:"en-US"};function M(O){Object(c.each)(O,function(x,D){return a[D]=x})}},L9IJ:function(Lt,A,i){var c=i("XSdR");Lt.exports=a;function a(M,O){return c.map(O,function(x){var D=M.inEdges(x);if(D.length){var E=c.reduce(D,function(S,p){var b=M.edge(p),y=M.node(p.v);return{sum:S.sum+b.weight*y.order,weight:S.weight+b.weight}},{sum:0,weight:0});return{v:x,barycenter:E.sum/E.weight,weight:E.weight}}else return{v:x}})}},"LCT+":function(Lt,A,i){"use strict";i.d(A,"a",function(){return g});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("s9g+"),x=i("9g8t"),D=i("Jze/"),E=i("797j"),S=i("mT8n");function p(R,U){var W=U.data,z=U.coordinate,B=U.interactions,L=U.annotations,w=U.animation,F=U.tooltip,V=U.axes,Y=U.meta,tt=U.geometries;W&&R.data(W);var q={};V&&Object(M.each)(V,function(H,Q){q[Q]=Object(D.s)(H,x.a)}),q=Object(D.c)({},Y,q),R.scale(q),z&&R.coordinate(z),V===!1?R.axis(!1):Object(M.each)(V,function(H,Q){R.axis(Q,H)}),Object(M.each)(tt,function(H){var Q=Object(S.a)({chart:R,options:H}).ext,k=H.adjust;k&&Q.geometry.adjust(k)}),Object(M.each)(B,function(H){H.enable===!1?R.removeInteraction(H.type):R.interaction(H.type,H.cfg)}),Object(M.each)(L,function(H){R.annotation()[H.type](Object(c.__assign)({},H))}),typeof w=="boolean"?R.animate(!1):(R.animate(!0),Object(M.each)(R.geometries,function(H){H.animate(w)})),F?(R.interaction("tooltip"),R.tooltip(F)):F===!1&&R.removeInteraction("tooltip")}function b(R){var U=R.chart,W=R.options,z=W.type,B=W.data,L=W.fields,w=W.eachView,F=Object(M.omit)(W,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return U.data(B),U.facet(z,Object(c.__assign)(Object(c.__assign)({},F),{fields:L,eachView:function(V,Y){var tt=w(V,Y);if(tt.geometries)p(V,tt);else{var q=tt,H=q.options;H.tooltip&&V.interaction("tooltip"),Object(E.a)(q.type,V,H)}}})),R}function y(R){var U=R.chart,W=R.options,z=W.axes,B=W.meta,L=W.tooltip,w=W.coordinate,F=W.theme,V=W.legend,Y=W.interactions,tt=W.annotations,q={};return z&&Object(M.each)(z,function(H,Q){q[Q]=Object(D.s)(H,x.a)}),q=Object(D.c)({},B,q),U.scale(q),U.coordinate(w),z?Object(M.each)(z,function(H,Q){U.axis(Q,H)}):U.axis(!1),L?(U.interaction("tooltip"),U.tooltip(L)):L===!1&&U.removeInteraction("tooltip"),U.legend(V),F&&U.theme(F),Object(M.each)(Y,function(H){H.enable===!1?U.removeInteraction(H.type):U.interaction(H.type,H.cfg)}),Object(M.each)(tt,function(H){U.annotation()[H.type](Object(c.__assign)({},H))}),R}function C(R){return Object(D.f)(O.j,b,y)(R)}var I={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},g=function(R){Object(c.__extends)(U,R);function U(){var W=R!==null&&R.apply(this,arguments)||this;return W.type="area",W}return U.getDefaultOptions=function(){return I},U.prototype.getDefaultOptions=function(){return U.getDefaultOptions()},U.prototype.getSchemaAdaptor=function(){return C},U}(a.b)},LFY6:function(Lt,A,i){"use strict";i.d(A,"b",function(){return E}),i.d(A,"a",function(){return p});var c=i("8Mtd"),a=i("Jze/"),M=i("s9g+"),O=i("Yz/u"),x=i("iWK/"),D=i("q03q");function E(b){var y=b.chart,C=b.options,I=C.percent,g=C.progressStyle,R=C.color,U=C.barWidthRatio;y.data(Object(D.a)(I));var W=Object(a.c)({},b,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:U,interval:{style:g,color:Object(c.isString)(R)?[R,x.a[1]]:R},args:{zIndexReversed:!0}}});return Object(O.c)(W),y.tooltip(!1),y.axis(!1),y.legend(!1),b}function S(b){var y=b.chart;return y.coordinate("rect").transpose(),b}function p(b){return Object(a.f)(E,Object(M.f)({}),S,M.a,M.j,Object(M.b)())(b)}},LKUO:function(Lt,A,i){"use strict";var c=i("g1AO"),a=Array.prototype.concat,M=Array.prototype.slice,O=Lt.exports=function(D){for(var E=[],S=0,p=D.length;S<p;S++){var b=D[S];c(b)?E=a.call(E,M.call(b)):E.push(b)}return E};O.wrap=function(x){return function(){return x(O(arguments))}}},LbFW:function(Lt,A){},LhfN:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("8Mtd"),M=i("Zdy7"),O=i("tSnd"),x={},D="_INDEX";function E(I,g){if(I.set("canvas",g),I.isGroup()){var R=I.get("children");R.length&&R.forEach(function(U){E(U,g)})}}function S(I,g){if(I.set("timeline",g),I.isGroup()){var R=I.get("children");R.length&&R.forEach(function(U){S(U,g)})}}function p(I,g){var R=I.getChildren();return R.indexOf(g)>=0}function b(I,g,R){R===void 0&&(R=!0),R?g.destroy():(g.set("parent",null),g.set("canvas",null)),Object(O.j)(I.getChildren(),g)}function y(I){return function(g,R){var U=I(g,R);return U===0?g[D]-R[D]:U}}var C=function(I){Object(c.__extends)(g,I);function g(){return I!==null&&I.apply(this,arguments)||this}return g.prototype.isCanvas=function(){return!1},g.prototype.getBBox=function(){var R=Infinity,U=-Infinity,W=Infinity,z=-Infinity,B=[],L=[],w=this.getChildren().filter(function(V){return V.get("visible")&&(!V.isGroup()||V.isGroup()&&V.getChildren().length>0)});w.length>0?(Object(O.a)(w,function(V){var Y=V.getBBox();B.push(Y.minX,Y.maxX),L.push(Y.minY,Y.maxY)}),R=Object(a.min)(B),U=Object(a.max)(B),W=Object(a.min)(L),z=Object(a.max)(L)):(R=0,U=0,W=0,z=0);var F={x:R,y:W,minX:R,minY:W,maxX:U,maxY:z,width:U-R,height:z-W};return F},g.prototype.getCanvasBBox=function(){var R=Infinity,U=-Infinity,W=Infinity,z=-Infinity,B=[],L=[],w=this.getChildren().filter(function(V){return V.get("visible")&&(!V.isGroup()||V.isGroup()&&V.getChildren().length>0)});w.length>0?(Object(O.a)(w,function(V){var Y=V.getCanvasBBox();B.push(Y.minX,Y.maxX),L.push(Y.minY,Y.maxY)}),R=Object(a.min)(B),U=Object(a.max)(B),W=Object(a.min)(L),z=Object(a.max)(L)):(R=0,U=0,W=0,z=0);var F={x:R,y:W,minX:R,minY:W,maxX:U,maxY:z,width:U-R,height:z-W};return F},g.prototype.getDefaultCfg=function(){var R=I.prototype.getDefaultCfg.call(this);return R.children=[],R},g.prototype.onAttrChange=function(R,U,W){if(I.prototype.onAttrChange.call(this,R,U,W),R==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},g.prototype.applyMatrix=function(R){var U=this.getTotalMatrix();I.prototype.applyMatrix.call(this,R);var W=this.getTotalMatrix();W!==U&&this._applyChildrenMarix(W)},g.prototype._applyChildrenMarix=function(R){var U=this.getChildren();Object(O.a)(U,function(W){W.applyMatrix(R)})},g.prototype.addShape=function(){for(var R=[],U=0;U<arguments.length;U++)R[U]=arguments[U];var W=R[0],z=R[1];Object(O.f)(W)?z=W:z.type=W;var B=x[z.type];B||(B=Object(O.k)(z.type),x[z.type]=B);var L=this.getShapeBase(),w=new L[B](z);return this.add(w),w},g.prototype.addGroup=function(){for(var R=[],U=0;U<arguments.length;U++)R[U]=arguments[U];var W=R[0],z=R[1],B;if(Object(O.d)(W))z?B=new W(z):B=new W({parent:this});else{var L=W||{},w=this.getGroupBase();B=new w(L)}return this.add(B),B},g.prototype.getCanvas=function(){var R;return this.isCanvas()?R=this:R=this.get("canvas"),R},g.prototype.getShape=function(R,U,W){if(!Object(O.b)(this))return null;var z=this.getChildren(),B;if(this.isCanvas())B=this._findShape(z,R,U,W);else{var L=[R,U,1];L=this.invertFromMatrix(L),this.isClipped(L[0],L[1])||(B=this._findShape(z,L[0],L[1],W))}return B},g.prototype._findShape=function(R,U,W,z){for(var B=null,L=R.length-1;L>=0;L--){var w=R[L];if(Object(O.b)(w)&&(w.isGroup()?B=w.getShape(U,W,z):w.isHit(U,W)&&(B=w)),B)break}return B},g.prototype.add=function(R){var U=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),B=R.getParent();B&&b(B,R,!1),R.set("parent",this),U&&E(R,U),z&&S(R,z),W.push(R),R.onCanvasChange("add"),this._applyElementMatrix(R)},g.prototype._applyElementMatrix=function(R){var U=this.getTotalMatrix();U&&R.applyMatrix(U)},g.prototype.getChildren=function(){return this.get("children")},g.prototype.sort=function(){var R=this.getChildren();Object(O.a)(R,function(U,W){return U[D]=W,U}),R.sort(y(function(U,W){return U.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},g.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var R=this.getChildren(),U=R.length-1;U>=0;U--)R[U].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},g.prototype.destroy=function(){this.get("destroyed")||(this.clear(),I.prototype.destroy.call(this))},g.prototype.getFirst=function(){return this.getChildByIndex(0)},g.prototype.getLast=function(){var R=this.getChildren();return this.getChildByIndex(R.length-1)},g.prototype.getChildByIndex=function(R){var U=this.getChildren();return U[R]},g.prototype.getCount=function(){var R=this.getChildren();return R.length},g.prototype.contain=function(R){var U=this.getChildren();return U.indexOf(R)>-1},g.prototype.removeChild=function(R,U){U===void 0&&(U=!0),this.contain(R)&&R.remove(U)},g.prototype.findAll=function(R){var U=[],W=this.getChildren();return Object(O.a)(W,function(z){R(z)&&U.push(z),z.isGroup()&&(U=U.concat(z.findAll(R)))}),U},g.prototype.find=function(R){var U=null,W=this.getChildren();return Object(O.a)(W,function(z){if(R(z)?U=z:z.isGroup()&&(U=z.find(R)),U)return!1}),U},g.prototype.findById=function(R){return this.find(function(U){return U.get("id")===R})},g.prototype.findByClassName=function(R){return this.find(function(U){return U.get("className")===R})},g.prototype.findAllByName=function(R){return this.findAll(function(U){return U.get("name")===R})},g}(M.a);A.a=C},Lkm0:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("8Mtd"),M=i("4Qiu"),O=i("08EK"),x={},D="_INDEX";function E(I,g){if(I.set("canvas",g),I.isGroup()){var R=I.get("children");R.length&&R.forEach(function(U){E(U,g)})}}function S(I,g){if(I.set("timeline",g),I.isGroup()){var R=I.get("children");R.length&&R.forEach(function(U){S(U,g)})}}function p(I,g){var R=I.getChildren();return R.indexOf(g)>=0}function b(I,g,R){R===void 0&&(R=!0),R?g.destroy():(g.set("parent",null),g.set("canvas",null)),Object(O.j)(I.getChildren(),g)}function y(I){return function(g,R){var U=I(g,R);return U===0?g[D]-R[D]:U}}var C=function(I){Object(c.__extends)(g,I);function g(){return I!==null&&I.apply(this,arguments)||this}return g.prototype.isCanvas=function(){return!1},g.prototype.getBBox=function(){var R=Infinity,U=-Infinity,W=Infinity,z=-Infinity,B=[],L=[],w=this.getChildren().filter(function(V){return V.get("visible")&&(!V.isGroup()||V.isGroup()&&V.getChildren().length>0)});w.length>0?(Object(O.a)(w,function(V){var Y=V.getBBox();B.push(Y.minX,Y.maxX),L.push(Y.minY,Y.maxY)}),R=Object(a.min)(B),U=Object(a.max)(B),W=Object(a.min)(L),z=Object(a.max)(L)):(R=0,U=0,W=0,z=0);var F={x:R,y:W,minX:R,minY:W,maxX:U,maxY:z,width:U-R,height:z-W};return F},g.prototype.getCanvasBBox=function(){var R=Infinity,U=-Infinity,W=Infinity,z=-Infinity,B=[],L=[],w=this.getChildren().filter(function(V){return V.get("visible")&&(!V.isGroup()||V.isGroup()&&V.getChildren().length>0)});w.length>0?(Object(O.a)(w,function(V){var Y=V.getCanvasBBox();B.push(Y.minX,Y.maxX),L.push(Y.minY,Y.maxY)}),R=Object(a.min)(B),U=Object(a.max)(B),W=Object(a.min)(L),z=Object(a.max)(L)):(R=0,U=0,W=0,z=0);var F={x:R,y:W,minX:R,minY:W,maxX:U,maxY:z,width:U-R,height:z-W};return F},g.prototype.getDefaultCfg=function(){var R=I.prototype.getDefaultCfg.call(this);return R.children=[],R},g.prototype.onAttrChange=function(R,U,W){if(I.prototype.onAttrChange.call(this,R,U,W),R==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},g.prototype.applyMatrix=function(R){var U=this.getTotalMatrix();I.prototype.applyMatrix.call(this,R);var W=this.getTotalMatrix();W!==U&&this._applyChildrenMarix(W)},g.prototype._applyChildrenMarix=function(R){var U=this.getChildren();Object(O.a)(U,function(W){W.applyMatrix(R)})},g.prototype.addShape=function(){for(var R=[],U=0;U<arguments.length;U++)R[U]=arguments[U];var W=R[0],z=R[1];Object(O.f)(W)?z=W:z.type=W;var B=x[z.type];B||(B=Object(O.k)(z.type),x[z.type]=B);var L=this.getShapeBase(),w=new L[B](z);return this.add(w),w},g.prototype.addGroup=function(){for(var R=[],U=0;U<arguments.length;U++)R[U]=arguments[U];var W=R[0],z=R[1],B;if(Object(O.d)(W))z?B=new W(z):B=new W({parent:this});else{var L=W||{},w=this.getGroupBase();B=new w(L)}return this.add(B),B},g.prototype.getCanvas=function(){var R;return this.isCanvas()?R=this:R=this.get("canvas"),R},g.prototype.getShape=function(R,U,W){if(!Object(O.b)(this))return null;var z=this.getChildren(),B;if(this.isCanvas())B=this._findShape(z,R,U,W);else{var L=[R,U,1];L=this.invertFromMatrix(L),this.isClipped(L[0],L[1])||(B=this._findShape(z,L[0],L[1],W))}return B},g.prototype._findShape=function(R,U,W,z){for(var B=null,L=R.length-1;L>=0;L--){var w=R[L];if(Object(O.b)(w)&&(w.isGroup()?B=w.getShape(U,W,z):w.isHit(U,W)&&(B=w)),B)break}return B},g.prototype.add=function(R){var U=this.getCanvas(),W=this.getChildren(),z=this.get("timeline"),B=R.getParent();B&&b(B,R,!1),R.set("parent",this),U&&E(R,U),z&&S(R,z),W.push(R),R.onCanvasChange("add"),this._applyElementMatrix(R)},g.prototype._applyElementMatrix=function(R){var U=this.getTotalMatrix();U&&R.applyMatrix(U)},g.prototype.getChildren=function(){return this.get("children")},g.prototype.sort=function(){var R=this.getChildren();Object(O.a)(R,function(U,W){return U[D]=W,U}),R.sort(y(function(U,W){return U.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},g.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var R=this.getChildren(),U=R.length-1;U>=0;U--)R[U].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},g.prototype.destroy=function(){this.get("destroyed")||(this.clear(),I.prototype.destroy.call(this))},g.prototype.getFirst=function(){return this.getChildByIndex(0)},g.prototype.getLast=function(){var R=this.getChildren();return this.getChildByIndex(R.length-1)},g.prototype.getChildByIndex=function(R){var U=this.getChildren();return U[R]},g.prototype.getCount=function(){var R=this.getChildren();return R.length},g.prototype.contain=function(R){var U=this.getChildren();return U.indexOf(R)>-1},g.prototype.removeChild=function(R,U){U===void 0&&(U=!0),this.contain(R)&&R.remove(U)},g.prototype.findAll=function(R){var U=[],W=this.getChildren();return Object(O.a)(W,function(z){R(z)&&U.push(z),z.isGroup()&&(U=U.concat(z.findAll(R)))}),U},g.prototype.find=function(R){var U=null,W=this.getChildren();return Object(O.a)(W,function(z){if(R(z)?U=z:z.isGroup()&&(U=z.find(R)),U)return!1}),U},g.prototype.findById=function(R){return this.find(function(U){return U.get("id")===R})},g.prototype.findByClassName=function(R){return this.find(function(U){return U.get("className")===R})},g.prototype.findAllByName=function(R){return this.findAll(function(U){return U.get("name")===R})},g}(M.a);A.a=C},LpBT:function(Lt,A,i){"use strict";i.d(A,"c",function(){return M}),i.d(A,"d",function(){return O}),i.d(A,"b",function(){return x}),i.d(A,"a",function(){return D});var c=i("CMID"),a=i("8Mtd"),M="x",O="y",x={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(E,S){return""+Object(a.get)(S,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},D={appendPadding:2,tooltip:Object(c.__assign)({},x),animation:{}}},LxUj:function(Lt,A,i){"use strict";var c=function(){function a(M,O){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=M,this.name=M,this.originalEvent=O,this.timeStamp=O.timeStamp}return a.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.propagationStopped=!0},a.prototype.toString=function(){var M=this.type;return"[Event (type="+M+")]"},a.prototype.save=function(){},a.prototype.restore=function(){},a}();A.a=c},"M1/f":function(Lt,A,i){"use strict";i.d(A,"c",function(){return F}),i.d(A,"b",function(){return H}),i.d(A,"a",function(){return Q});var c=i("RtOK");function a(k){var K=0,nt=k.children,lt=nt&&nt.length;if(!lt)K=1;else for(;--lt>=0;)K+=nt[lt].value;k.value=K}var M=function(){return this.eachAfter(a)},O=i("xFwU");function x(k,K){var nt=typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(!nt){if(Array.isArray(k)||(nt=Object(O.a)(k))||K&&k&&typeof k.length=="number"){nt&&(k=nt);var lt=0,ut=function(){};return{s:ut,n:function(){return lt>=k.length?{done:!0}:{done:!1,value:k[lt++]}},e:function(Nt){throw Nt},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt=!0,ot=!1,dt;return{s:function(){nt=nt.call(k)},n:function(){var Nt=nt.next();return rt=Nt.done,Nt},e:function(Nt){ot=!0,dt=Nt},f:function(){try{!rt&&nt.return!=null&&nt.return()}finally{if(ot)throw dt}}}}var D=function(k,K){var nt=-1,lt=x(this),ut;try{for(lt.s();!(ut=lt.n()).done;){var rt=ut.value;k.call(K,rt,++nt,this)}}catch(ot){lt.e(ot)}finally{lt.f()}return this},E=function(k,K){for(var nt=this,lt=[nt],ut,rt,ot=-1;nt=lt.pop();)if(k.call(K,nt,++ot,this),ut=nt.children)for(rt=ut.length-1;rt>=0;--rt)lt.push(ut[rt]);return this},S=function(k,K){for(var nt=this,lt=[nt],ut=[],rt,ot,dt,Mt=-1;nt=lt.pop();)if(ut.push(nt),rt=nt.children)for(ot=0,dt=rt.length;ot<dt;++ot)lt.push(rt[ot]);for(;nt=ut.pop();)k.call(K,nt,++Mt,this);return this},p=function(k,K){var nt=-1,lt=x(this),ut;try{for(lt.s();!(ut=lt.n()).done;){var rt=ut.value;if(k.call(K,rt,++nt,this))return rt}}catch(ot){lt.e(ot)}finally{lt.f()}},b=function(k){return this.eachAfter(function(K){for(var nt=+k(K.data)||0,lt=K.children,ut=lt&&lt.length;--ut>=0;)nt+=lt[ut].value;K.value=nt})},y=function(k){return this.eachBefore(function(K){K.children&&K.children.sort(k)})},C=function(k){for(var K=this,nt=I(K,k),lt=[K];K!==nt;)K=K.parent,lt.push(K);for(var ut=lt.length;k!==nt;)lt.splice(ut,0,k),k=k.parent;return lt};function I(k,K){if(k===K)return k;var nt=k.ancestors(),lt=K.ancestors(),ut=null;for(k=nt.pop(),K=lt.pop();k===K;)ut=k,k=nt.pop(),K=lt.pop();return ut}var g=function(){for(var k=this,K=[k];k=k.parent;)K.push(k);return K},R=function(){return Array.from(this)},U=function(){var k=[];return this.eachBefore(function(K){K.children||k.push(K)}),k},W=function(){var k=this,K=[];return k.each(function(nt){nt!==k&&K.push({source:nt.parent,target:nt})}),K},z=i("/wRx"),B=i.n(z),L=B.a.mark(w);function w(){var k,K,nt,lt,ut,rt;return B.a.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:k=this,nt=[k];case 1:K=nt.reverse(),nt=[];case 2:if(!(k=K.pop())){dt.next=8;break}return dt.next=5,k;case 5:if(lt=k.children)for(ut=0,rt=lt.length;ut<rt;++ut)nt.push(lt[ut]);dt.next=2;break;case 8:if(nt.length){dt.next=1;break}case 9:case"end":return dt.stop()}},L,this)}function F(k,K){k instanceof Map?(k=[void 0,k],K===void 0&&(K=tt)):K===void 0&&(K=Y);for(var nt=new Q(k),lt,ut=[nt],rt,ot,dt,Mt;lt=ut.pop();)if((ot=K(lt.data))&&(Mt=(ot=Array.from(ot)).length))for(lt.children=ot,dt=Mt-1;dt>=0;--dt)ut.push(rt=ot[dt]=new Q(ot[dt])),rt.parent=lt,rt.depth=lt.depth+1;return nt.eachBefore(H)}function V(){return F(this).eachBefore(q)}function Y(k){return k.children}function tt(k){return Array.isArray(k)?k[1]:null}function q(k){k.data.value!==void 0&&(k.value=k.data.value),k.data=k.data.data}function H(k){var K=0;do k.height=K;while((k=k.parent)&&k.height<++K)}function Q(k){this.data=k,this.depth=this.height=0,this.parent=null}Q.prototype=F.prototype=Object(c.a)({constructor:Q,count:M,each:D,eachAfter:S,eachBefore:E,find:p,sum:b,sort:y,path:C,ancestors:g,descendants:R,leaves:U,links:W,copy:V},Symbol.iterator,w)},M6f7:function(Lt,A,i){"use strict";function c(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(R){return typeof R}:c=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},c(I)}Object.defineProperty(A,"__esModule",{value:!0}),A.default=A.detectAllCycles=A.detectAllDirectedCycle=A.detectAllUndirectedCycle=void 0;var a=E(i("Af9/")),M=D(i("nrny")),O=i("Eqze");function x(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return x=function(){return I},I}function D(I){if(I&&I.__esModule)return I;if(I===null||c(I)!=="object"&&typeof I!="function")return{default:I};var g=x();if(g&&g.has(I))return g.get(I);var R={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in I)if(Object.prototype.hasOwnProperty.call(I,W)){var z=U?Object.getOwnPropertyDescriptor(I,W):null;z&&(z.get||z.set)?Object.defineProperty(R,W,z):R[W]=I[W]}return R.default=I,g&&g.set(I,R),R}function E(I){return I&&I.__esModule?I:{default:I}}var S=function(g){var R=null,U=g.nodes,W=U===void 0?[]:U,z={},B={},L={},w={};W.forEach(function(Y){B[Y.id]=Y});for(var F={enter:function(tt){var q=tt.current,H=tt.previous;if(L[q]){R={};for(var Q=q,k=H;k!==q;)R[Q]=k,Q=k,k=z[k];R[Q]=k}else L[q]=q,delete B[q],z[q]=H},leave:function(tt){var q=tt.current;w[q]=q,delete L[q]},allowTraversal:function(tt){var q=tt.next;return R?!1:!w[q]}};Object.keys(B).length;){var V=Object.keys(B)[0];(0,a.default)(g,V,F)}return R},p=function(g,R,U){var W,z;U===void 0&&(U=!0);for(var B=[],L=(0,M.default)(g,!1),w=0,F=L;w<F.length;w++){var V=F[w];if(!!V.length)for(var Y=V[0],tt=Y.id,q=[Y],H=(W={},W[tt]=Y,W),Q=(z={},z[tt]=new Set,z);q.length>0;)for(var k=q.pop(),K=k.id,nt=(0,O.getNeighbors)(K,g.edges),lt=function(ot){var dt,Mt=nt[ot],Nt=g.nodes.find(function(gt){return gt.id===Mt});if(Mt===K)B.push((dt={},dt[Mt]=k,dt));else if(!(Mt in Q))H[Mt]=k,q.push(Nt),Q[Mt]=new Set([k]);else if(!Q[K].has(Nt)){for(var ht=!0,yt=[Nt,k],ft=H[K];Q[Mt].size&&!Q[Mt].has(ft)&&(yt.push(ft),ft!==H[ft.id]);)ft=H[ft.id];if(yt.push(ft),R&&U?(ht=!1,yt.findIndex(function(gt){return R.indexOf(gt.id)>-1})>-1&&(ht=!0)):R&&!U&&yt.findIndex(function(gt){return R.indexOf(gt.id)>-1})>-1&&(ht=!1),ht){for(var st={},xt=1;xt<yt.length;xt+=1)st[yt[xt-1].id]=yt[xt];yt.length&&(st[yt[yt.length-1].id]=yt[0]),B.push(st)}Q[Mt].add(k)}},ut=0;ut<nt.length;ut+=1)lt(ut)}return B};A.detectAllUndirectedCycle=p;var b=function(g,R,U){U===void 0&&(U=!0);for(var W=[],z=new Set,B=[],L=[],w={},F={},V=function(ft){for(var st=[ft];st.length>0;){var xt=st.pop();z.has(xt)&&(z.delete(xt),B[xt.id].forEach(function(gt){st.push(gt)}),B[xt.id].clear())}},Y=function yt(ft,st,xt){var gt=!1;if(R&&U===!1&&R.indexOf(ft.id)>-1)return gt;W.push(ft),z.add(ft);for(var At=xt[ft.id],pt=0;pt<At.length;pt+=1){var _=w[At[pt]];if(_===st){for(var $={},bt=1;bt<W.length;bt+=1)$[W[bt-1].id]=W[bt];W.length&&($[W[W.length-1].id]=W[0]),L.push($),gt=!0}else z.has(_)||yt(_,st,xt)&&(gt=!0)}if(gt)V(ft);else for(var pt=0;pt<At.length;pt+=1){var _=w[At[pt]];B[_.id].has(ft)||B[_.id].add(ft)}return W.pop(),gt},tt=g.nodes,q=tt===void 0?[]:tt,H=0;H<q.length;H+=1){var Q=q[H],k=Q.id;F[k]=H,w[H]=Q}if(R&&U)for(var K=function(ft){var st=R[ft];F[q[ft].id]=F[st],F[st]=0,w[0]=q.find(function(xt){return xt.id===st}),w[F[q[ft].id]]=q[ft]},H=0;H<R.length;H++)K(H);for(var nt=function(ft){for(var st,xt,gt=Infinity,At=0;At<ft.length;At+=1)for(var pt=ft[At],_=0;_<pt.length;_++){var $=F[pt[_].id];$<gt&&(gt=$,xt=At)}for(var bt=ft[xt],it=[],At=0;At<bt.length;At+=1){var Ot=bt[At];it[Ot.id]=[];for(var Pt=0,Rt=(0,O.getNeighbors)(Ot.id,g.edges,"target").filter(function(Wt){return bt.map(function(wt){return wt.id}).indexOf(Wt)>-1});Pt<Rt.length;Pt++){var Vt=Rt[Pt];Vt===Ot.id&&!(U===!1&&R.indexOf(Ot.id)>-1)?L.push((st={},st[Ot.id]=Ot,st)):it[Ot.id].push(F[Vt])}}return{component:bt,adjList:it,minIdx:gt}},lt=0;lt<q.length;){var ut=q.filter(function(yt){return F[yt.id]>=lt}),rt=(0,M.detectStrongConnectComponents)({nodes:ut,edges:g.edges}).filter(function(yt){return yt.length>1});if(rt.length===0)break;var ot=nt(rt),dt=ot.minIdx,Mt=ot.adjList,Nt=ot.component;if(Nt.length>1){Nt.forEach(function(yt){B[yt.id]=new Set});var ht=w[dt];if(R&&U&&R.indexOf(ht.id)===-1)return L;Y(ht,ht,Mt),lt=dt+1}else break}return L};A.detectAllDirectedCycle=b;var y=function(g,R,U,W){return W===void 0&&(W=!0),R?b(g,U,W):p(g,U,W)};A.detectAllCycles=y;var C=S;A.default=C},MGR1:function(Lt,A){Lt.exports=i;function i(c,a){return c[0]=-a[0],c[1]=-a[1],c}},MPYE:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SensorTabIndex=A.SensorClassName=A.SizeSensorId=void 0;var c="size-sensor-id";A.SizeSensorId=c;var a="size-sensor-object";A.SensorClassName=a;var M="-1";A.SensorTabIndex=M},MbSy:function(Lt,A,i){var c=i("cvn4"),a=Math.max;function M(O,x,D){return x=a(x===void 0?O.length-1:x,0),function(){for(var E=arguments,S=-1,p=a(E.length-x,0),b=Array(p);++S<p;)b[S]=E[x+S];S=-1;for(var y=Array(x+1);++S<x;)y[S]=E[S];return y[x]=D(b),c(O,this,y)}}Lt.exports=M},MciM:function(Lt,A,i){"use strict";i.d(A,"a",function(){return M});var c=i("99LQ"),a=i("oq+b");function M(O){for(var x=new a.a,D=c.e.fromValues(O[0],O[1],O[2]),E=c.e.fromValues(O[0],O[1],O[2]),S=3;S<O.length;){var p=O[S++],b=O[S++],y=O[S++];p<D[0]&&(D[0]=p),b<D[1]&&(D[1]=b),y<D[2]&&(D[2]=y),p>E[0]&&(E[0]=p),b>E[1]&&(E[1]=b),y>E[2]&&(E[2]=y)}return x.setMinMax(D,E),x}},Mz7Q:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.unmanaged=void 0;var c=i("9L8m"),a=i("rMkn"),M=i("ZLnY");function O(){return function(x,D,E){var S=new a.Metadata(c.UNMANAGED_TAG,!0);M.tagParameter(x,D,E,S)}}A.unmanaged=O},NA5Q:function(Lt,A){function i(c,a){return c<a}Lt.exports=i},NFwm:function(Lt,A,i){var c=i("TxJF"),a=i("1ImO"),M=i("hQ5t"),O=i("+Gi7");function x(D,E){var S=O(D)?c:a;return S(D,M(E,3))}Lt.exports=x},NNdr:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=1,a=function(){return"".concat(c++)};A.default=a},NOzu:function(Lt,A,i){"use strict";i.r(A),i.d(A,"Line",function(){return b}),i.d(A,"Text",function(){return C}),i.d(A,"Arc",function(){return g}),i.d(A,"Region",function(){return U}),i.d(A,"Image",function(){return z}),i.d(A,"DataMarker",function(){return L}),i.d(A,"DataRegion",function(){return F}),i.d(A,"RegionFilter",function(){return Y}),i.d(A,"Shape",function(){return q}),i.d(A,"Html",function(){return K});var c=i("CMID"),a=i("8Mtd"),M=i("VZin"),O=i("2DZl"),x=i("x3DA"),D=i("8Loy");function E(nt,lt){var ut=lt.x,rt=lt.y,ot=lt.content,dt=lt.style,Mt=lt.id,Nt=lt.name,ht=lt.rotate,yt=lt.maxLength,ft=lt.autoEllipsis,st=lt.isVertical,xt=lt.ellipsisPosition,gt=lt.background,At=nt.addGroup({id:Mt+"-group",name:Nt+"-group",attrs:{x:ut,y:rt}}),pt=At.addShape({type:"text",id:Mt,name:Nt,attrs:Object(c.__assign)({x:0,y:0,text:ot},dt)}),_=Object(D.c)(Object(a.get)(gt,"padding",0));if(yt&&ft){var $=yt-(_[1]+_[3]);Object(O.a)(!st,pt,$,xt)}if(gt){var bt=Object(a.get)(gt,"style",{}),it=pt.getCanvasBBox(),Ot=it.minX,Pt=it.minY,Rt=it.width,Vt=it.height,kt=At.addShape("rect",{id:Mt+"-bg",name:Mt+"-bg",attrs:Object(c.__assign)({x:Ot-_[3],y:Pt-_[0],width:Rt+_[1]+_[3],height:Vt+_[0]+_[2]},bt)});kt.toBack()}Object(x.c)(At,ut,rt),Object(x.b)(At,ht,ut,rt)}var S=i("qhN0"),p=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:S.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:S.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:S.a.lineColor,lineWidth:1}}}})},lt.prototype.renderInner=function(ut){this.renderLine(ut),this.get("text")&&this.renderLabel(ut)},lt.prototype.renderLine=function(ut){var rt=this.get("start"),ot=this.get("end"),dt=this.get("style");this.addShape(ut,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(c.__assign)({x1:rt.x,y1:rt.y,x2:ot.x,y2:ot.y},dt)})},lt.prototype.getLabelPoint=function(ut,rt,ot){var dt;return ot==="start"?dt=0:ot==="center"?dt=.5:Object(a.isString)(ot)&&ot.indexOf("%")!==-1?dt=parseInt(ot,10)/100:Object(a.isNumber)(ot)?dt=ot:dt=1,(dt>1||dt<0)&&(dt=1),{x:Object(D.g)(ut.x,rt.x,dt),y:Object(D.g)(ut.y,rt.y,dt)}},lt.prototype.renderLabel=function(ut){var rt=this.get("text"),ot=this.get("start"),dt=this.get("end"),Mt=rt.position,Nt=rt.content,ht=rt.style,yt=rt.offsetX,ft=rt.offsetY,st=rt.autoRotate,xt=rt.maxLength,gt=rt.autoEllipsis,At=rt.ellipsisPosition,pt=rt.background,_=rt.isVertical,$=_===void 0?!1:_,bt=this.getLabelPoint(ot,dt,Mt),it=bt.x+yt,Ot=bt.y+ft,Pt={id:this.getElementId("line-text"),name:"annotation-line-text",x:it,y:Ot,content:Nt,style:ht,maxLength:xt,autoEllipsis:gt,ellipsisPosition:At,background:pt,isVertical:$};if(st){var Rt=[dt.x-ot.x,dt.y-ot.y];Pt.rotate=Math.atan2(Rt[1],Rt[0])}E(ut,Pt)},lt}(M.a),b=p,y=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:S.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:S.a.fontFamily}}})},lt.prototype.setLocation=function(ut){this.set("x",ut.x),this.set("y",ut.y),this.resetLocation()},lt.prototype.renderInner=function(ut){var rt=this.getLocation(),ot=rt.x,dt=rt.y,Mt=this.get("content"),Nt=this.get("style"),ht=this.getElementId("text"),yt=this.get("name")+"-text",ft=this.get("maxLength"),st=this.get("autoEllipsis"),xt=this.get("isVertical"),gt=this.get("ellipsisPosition"),At=this.get("background"),pt=this.get("rotate"),_={id:ht,name:yt,x:ot,y:dt,content:Mt,style:Nt,maxLength:ft,autoEllipsis:st,isVertical:xt,ellipsisPosition:gt,background:At,rotate:pt};E(ut,_)},lt.prototype.resetLocation=function(){var ut=this.getElementByLocalId("text-group");if(ut){var rt=this.getLocation(),ot=rt.x,dt=rt.y,Mt=this.get("rotate");Object(x.c)(ut,ot,dt),Object(x.b)(ut,Mt,ot,dt)}},lt}(M.a),C=y,I=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},lt.prototype.renderInner=function(ut){this.renderArc(ut)},lt.prototype.getArcPath=function(){var ut=this.getLocation(),rt=ut.center,ot=ut.radius,dt=ut.startAngle,Mt=ut.endAngle,Nt=Object(D.e)(rt,ot,dt),ht=Object(D.e)(rt,ot,Mt),yt=Mt-dt>Math.PI?1:0,ft=[["M",Nt.x,Nt.y]];if(Mt-dt==Math.PI*2){var st=Object(D.e)(rt,ot,dt+Math.PI);ft.push(["A",ot,ot,0,yt,1,st.x,st.y]),ft.push(["A",ot,ot,0,yt,1,ht.x,ht.y])}else ft.push(["A",ot,ot,0,yt,1,ht.x,ht.y]);return ft},lt.prototype.renderArc=function(ut){var rt=this.getArcPath(),ot=this.get("style");this.addShape(ut,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(c.__assign)({path:rt},ot)})},lt}(M.a),g=I,R=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:S.a.regionColor,opacity:.4}}})},lt.prototype.renderInner=function(ut){this.renderRegion(ut)},lt.prototype.renderRegion=function(ut){var rt=this.get("start"),ot=this.get("end"),dt=this.get("style"),Mt=Object(D.k)({start:rt,end:ot});this.addShape(ut,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(c.__assign)({x:Mt.x,y:Mt.y,width:Mt.width,height:Mt.height},dt)})},lt}(M.a),U=R,W=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},lt.prototype.renderInner=function(ut){this.renderImage(ut)},lt.prototype.getImageAttrs=function(){var ut=this.get("start"),rt=this.get("end"),ot=this.get("style"),dt=Object(D.k)({start:ut,end:rt}),Mt=this.get("src");return Object(c.__assign)({x:dt.x,y:dt.y,img:Mt,width:dt.width,height:dt.height},ot)},lt.prototype.renderImage=function(ut){this.addShape(ut,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},lt}(M.a),z=W,B=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:S.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:S.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:S.a.fontFamily}}}})},lt.prototype.renderInner=function(ut){Object(a.get)(this.get("line"),"display")&&this.renderLine(ut),Object(a.get)(this.get("text"),"display")&&this.renderText(ut),Object(a.get)(this.get("point"),"display")&&this.renderPoint(ut),this.get("autoAdjust")&&this.autoAdjust(ut)},lt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},lt.prototype.renderPoint=function(ut){var rt=this.getShapeAttrs().point;this.addShape(ut,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:rt})},lt.prototype.renderLine=function(ut){var rt=this.getShapeAttrs().line;this.addShape(ut,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:rt})},lt.prototype.renderText=function(ut){var rt=this.getShapeAttrs().text,ot=rt.x,dt=rt.y,Mt=rt.text,Nt=Object(c.__rest)(rt,["x","y","text"]),ht=this.get("text"),yt=ht.background,ft=ht.maxLength,st=ht.autoEllipsis,xt=ht.isVertival,gt=ht.ellipsisPosition,At={x:ot,y:dt,id:this.getElementId("text"),name:"annotation-text",content:Mt,style:Nt,background:yt,maxLength:ft,autoEllipsis:st,isVertival:xt,ellipsisPosition:gt};E(ut,At)},lt.prototype.autoAdjust=function(ut){var rt=this.get("direction"),ot=this.get("x"),dt=this.get("y"),Mt=Object(a.get)(this.get("line"),"length",0),Nt=this.get("coordinateBBox"),ht=ut.getBBox(),yt=ht.minX,ft=ht.maxX,st=ht.minY,xt=ht.maxY,gt=ut.findById(this.getElementId("text-group")),At=ut.findById(this.getElementId("text")),pt=ut.findById(this.getElementId("line"));if(!!Nt){if(gt){if(ot+yt<=Nt.minX){var _=Nt.minX-(ot+yt);Object(x.c)(gt,gt.attr("x")+_,gt.attr("y"))}if(ot+ft>=Nt.maxX){var _=ot+ft-Nt.maxX;Object(x.c)(gt,gt.attr("x")-_,gt.attr("y"))}}if(rt==="upward"&&dt+st<=Nt.minY||rt!=="upward"&&dt+xt>=Nt.maxY){var $=void 0,bt=void 0;rt==="upward"&&dt+st<=Nt.minY?($="top",bt=1):($="bottom",bt=-1),At.attr("textBaseline",$),pt&&pt.attr("path",[["M",0,0],["L",0,Mt*bt]]),Object(x.c)(gt,gt.attr("x"),(Mt+2)*bt)}}},lt.prototype.getShapeAttrs=function(){var ut=Object(a.get)(this.get("line"),"display"),rt=Object(a.get)(this.get("point"),"style",{}),ot=Object(a.get)(this.get("line"),"style",{}),dt=Object(a.get)(this.get("text"),"style",{}),Mt=this.get("direction"),Nt=ut?Object(a.get)(this.get("line"),"length",0):0,ht=Mt==="upward"?-1:1;return{point:Object(c.__assign)({x:0,y:0},rt),line:Object(c.__assign)({path:[["M",0,0],["L",0,Nt*ht]]},ot),text:Object(c.__assign)({x:0,y:(Nt+2)*ht,text:Object(a.get)(this.get("text"),"content",""),textBaseline:Mt==="upward"?"bottom":"top"},dt)}},lt}(M.a),L=B,w=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:S.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:S.a.textColor,fontFamily:S.a.fontFamily}}}})},lt.prototype.renderInner=function(ut){var rt=Object(a.get)(this.get("region"),"style",{}),ot=Object(a.get)(this.get("text"),"style",{}),dt=this.get("lineLength")||0,Mt=this.get("points");if(!!Mt.length){var Nt=Object(D.j)(Mt),ht=[];ht.push(["M",Mt[0].x,Nt.minY-dt]),Mt.forEach(function(ft){ht.push(["L",ft.x,ft.y])}),ht.push(["L",Mt[Mt.length-1].x,Mt[Mt.length-1].y-dt]),this.addShape(ut,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(c.__assign)({path:ht},rt)});var yt=Object(c.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Nt.minX+Nt.maxX)/2,y:Nt.minY-dt},this.get("text"));E(ut,yt)}},lt}(M.a),F=w,V=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},lt.prototype.renderInner=function(ut){var rt=this,ot=this.get("start"),dt=this.get("end"),Mt=this.addGroup(ut,{id:this.getElementId("region-filter"),capture:!1});Object(a.each)(this.get("shapes"),function(ht,yt){var ft=ht.get("type"),st=Object(a.clone)(ht.attr());rt.adjustShapeAttrs(st),rt.addShape(Mt,{id:rt.getElementId("shape-"+ft+"-"+yt),capture:!1,type:ft,attrs:st})});var Nt=Object(D.k)({start:ot,end:dt});Mt.setClip({type:"rect",attrs:{x:Nt.minX,y:Nt.minY,width:Nt.width,height:Nt.height}})},lt.prototype.adjustShapeAttrs=function(ut){var rt=this.get("color");ut.fill&&(ut.fill=ut.fillStyle=rt),ut.stroke=ut.strokeStyle=rt},lt}(M.a),Y=V,tt=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"shape",draw:a.noop})},lt.prototype.renderInner=function(ut){var rt=this.get("render");Object(a.isFunction)(rt)&&rt(ut)},lt}(M.a),q=tt,H=i("m8xh"),Q=i("+On4"),k=function(nt){Object(c.__extends)(lt,nt);function lt(){return nt!==null&&nt.apply(this,arguments)||this}return lt.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},ut),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},lt.prototype.render=function(){var ut=this.getContainer(),rt=this.get("html");Object(D.a)(ut);var ot=Object(a.isFunction)(rt)?rt(ut):rt;Object(a.isElement)(ot)?ut.appendChild(ot):Object(a.isString)(ot)&&ut.appendChild(Object(H.b)(ot)),this.resetPosition()},lt.prototype.resetPosition=function(){var ut=this.getContainer(),rt=this.getLocation(),ot=rt.x,dt=rt.y,Mt=this.get("alignX"),Nt=this.get("alignY"),ht=this.get("offsetX"),yt=this.get("offsetY"),ft=Object(H.d)(ut),st=Object(H.c)(ut),xt={x:ot,y:dt};Mt==="middle"?xt.x-=Math.round(ft/2):Mt==="right"&&(xt.x-=Math.round(ft)),Nt==="middle"?xt.y-=Math.round(st/2):Nt==="bottom"&&(xt.y-=Math.round(st)),ht&&(xt.x+=ht),yt&&(xt.y+=yt),Object(H.e)(ut,{position:"absolute",left:xt.x+"px",top:xt.y+"px",zIndex:this.get("zIndex")})},lt}(Q.a),K=k},NR2y:function(Lt,A,i){"use strict";i.d(A,"b",function(){return E}),i.d(A,"a",function(){return S});var c=i("CMID"),a=i("8Mtd"),M=i("Jze/"),O=i("s9g+"),x=i("LFY6");function D(p){var b=p.chart,y=p.options,C=y.innerRadius,I=y.radius;return b.coordinate("theta",{innerRadius:C,radius:I}),p}function E(p,b){var y=p.chart,C=p.options,I=C.innerRadius,g=C.statistic,R=C.percent,U=C.meta;if(y.getController("annotation").clear(!0),I&&g){var W=Object(a.get)(U,["percent","formatter"])||function(B){return(B*100).toFixed(2)+"%"},z=g.content;z&&(z=Object(M.c)({},z,{content:Object(a.isNil)(z.content)?W(R):z.content})),Object(M.v)(y,{statistic:Object(c.__assign)(Object(c.__assign)({},g),{content:z}),plotType:"ring-progress"},{percent:R})}return b&&y.render(!0),p}function S(p){return Object(M.f)(x.b,Object(O.f)({}),D,E,O.a,O.j,Object(O.b)())(p)}},NbNK:function(Lt,A){function i(c,a,M,O,x){return x(c,function(D,E,S){M=O?(O=!1,D):a(M,D,E,S)}),M}Lt.exports=i},Npd2:function(Lt,A,i){var c=i("3FqU"),a=i("ZU2r"),M=i("sCLo"),O=i("qXph"),x=i("zftb"),D=i("VL8K"),E=i("+Gi7"),S=i("wvSg"),p=i("lDzS"),b=i("wmqP"),y=i("E5vS"),C=i("LtJ/"),I=i("lOrw"),g=i("TKkZ"),R=i("k7N2");function U(W,z,B,L,w,F,V){var Y=g(W,B),tt=g(z,B),q=V.get(tt);if(q){c(W,B,q);return}var H=F?F(Y,tt,B+"",W,z,V):void 0,Q=H===void 0;if(Q){var k=E(tt),K=!k&&p(tt),nt=!k&&!K&&I(tt);H=tt,k||K||nt?E(Y)?H=Y:S(Y)?H=O(Y):K?(Q=!1,H=a(tt,!0)):nt?(Q=!1,H=M(tt,!0)):H=[]:C(tt)||D(tt)?(H=Y,D(Y)?H=R(Y):(!y(Y)||b(Y))&&(H=x(tt))):Q=!1}Q&&(V.set(tt,H),w(H,tt,L,F,V),V.delete(tt)),c(W,B,H)}Lt.exports=U},Nqgf:function(Lt,A,i){"use strict";i.r(A),i.d(A,"Base",function(){return S}),i.d(A,"Circle",function(){return b}),i.d(A,"Ellipse",function(){return I}),i.d(A,"Image",function(){return U}),i.d(A,"Line",function(){return w}),i.d(A,"Marker",function(){return q}),i.d(A,"Path",function(){return st}),i.d(A,"Polygon",function(){return At}),i.d(A,"Polyline",function(){return _}),i.d(A,"Rect",function(){return Pt}),i.d(A,"Text",function(){return Vt});var c={};i.r(c),i.d(c,"Base",function(){return S}),i.d(c,"Circle",function(){return b}),i.d(c,"Ellipse",function(){return I}),i.d(c,"Image",function(){return U}),i.d(c,"Line",function(){return w}),i.d(c,"Marker",function(){return q}),i.d(c,"Path",function(){return st}),i.d(c,"Polygon",function(){return At}),i.d(c,"Polyline",function(){return _}),i.d(c,"Rect",function(){return Pt}),i.d(c,"Text",function(){return Vt});var a=i("CMID"),M=i("U8wd"),O=i("bsNZ"),x=i("K0hn"),D=i("nl+T"),E=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Wt.prototype.getShapeBase=function(){return c},Wt.prototype.getGroupBase=function(){return D.a},Wt.prototype.onCanvasChange=function(wt){Object(x.h)(this,wt)},Wt.prototype.calculateBBox=function(){var wt=this.get("type"),ct=this.getHitLineWidth(),jt=Object(M.getBBoxMethod)(wt),Xt=jt(this),It=ct/2,Ut=Xt.x-It,$t=Xt.y-It,Ft=Xt.x+Xt.width+It,Kt=Xt.y+Xt.height+It;return{x:Ut,minX:Ut,y:$t,minY:$t,width:Xt.width+ct,height:Xt.height+ct,maxX:Ft,maxY:Kt}},Wt.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},Wt.prototype.isStroke=function(){return!!this.attrs.stroke},Wt.prototype._applyClip=function(wt,ct){ct&&(wt.save(),Object(x.a)(wt,ct),ct.createPath(wt),wt.restore(),wt.clip(),ct._afterDraw())},Wt.prototype.draw=function(wt,ct){var jt=this.cfg.clipShape;if(ct){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var Xt=this.getCanvasBBox();if(!Object(O.f)(ct,Xt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}wt.save(),Object(x.a)(wt,this),this._applyClip(wt,jt),this.drawPath(wt),wt.restore(),this._afterDraw()},Wt.prototype.getCanvasViewBox=function(){var wt=this.cfg.canvas;return wt?wt.getViewRange():null},Wt.prototype.cacheCanvasBBox=function(){var wt=this.getCanvasViewBox();if(wt){var ct=this.getCanvasBBox(),jt=Object(O.f)(ct,wt);this.set("isInView",jt),jt?this.set("cacheCanvasBBox",ct):this.set("cacheCanvasBBox",null)}},Wt.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},Wt.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},Wt.prototype.drawPath=function(wt){this.createPath(wt),this.strokeAndFill(wt),this.afterDrawPath(wt)},Wt.prototype.fill=function(wt){wt.fill()},Wt.prototype.stroke=function(wt){wt.stroke()},Wt.prototype.strokeAndFill=function(wt){var ct=this.attrs,jt=ct.lineWidth,Xt=ct.opacity,It=ct.strokeOpacity,Ut=ct.fillOpacity;this.isFill()&&(!Object(O.i)(Ut)&&Ut!==1?(wt.globalAlpha=Ut,this.fill(wt),wt.globalAlpha=Xt):this.fill(wt)),this.isStroke()&&jt>0&&(!Object(O.i)(It)&&It!==1&&(wt.globalAlpha=It),this.stroke(wt)),this.afterDrawPath(wt)},Wt.prototype.createPath=function(wt){},Wt.prototype.afterDrawPath=function(wt){},Wt.prototype.isInShape=function(wt,ct){var jt=this.isStroke(),Xt=this.isFill(),It=this.getHitLineWidth();return this.isInStrokeOrPath(wt,ct,jt,Xt,It)},Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){return!1},Wt.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var wt=this.attrs;return wt.lineWidth+wt.lineAppendWidth},Wt}(M.AbstractShape),S=E,p=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{x:0,y:0,r:0})},Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){var Ut=this.attr(),$t=Ut.x,Ft=Ut.y,Kt=Ut.r,ee=It/2,ce=Object(O.b)($t,Ft,wt,ct);return Xt&&jt?ce<=Kt+ee:Xt?ce<=Kt:jt?ce>=Kt-ee&&ce<=Kt+ee:!1},Wt.prototype.createPath=function(wt){var ct=this.attr(),jt=ct.x,Xt=ct.y,It=ct.r;wt.beginPath(),wt.arc(jt,Xt,It,0,Math.PI*2,!1),wt.closePath()},Wt}(S),b=p;function y(kt,Wt,wt,ct){return kt/(wt*wt)+Wt/(ct*ct)}var C=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{x:0,y:0,rx:0,ry:0})},Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){var Ut=this.attr(),$t=It/2,Ft=Ut.x,Kt=Ut.y,ee=Ut.rx,ce=Ut.ry,Se=(wt-Ft)*(wt-Ft),Ce=(ct-Kt)*(ct-Kt);return Xt&&jt?y(Se,Ce,ee+$t,ce+$t)<=1:Xt?y(Se,Ce,ee,ce)<=1:jt?y(Se,Ce,ee-$t,ce-$t)>=1&&y(Se,Ce,ee+$t,ce+$t)<=1:!1},Wt.prototype.createPath=function(wt){var ct=this.attr(),jt=ct.x,Xt=ct.y,It=ct.rx,Ut=ct.ry;if(wt.beginPath(),wt.ellipse)wt.ellipse(jt,Xt,It,Ut,0,0,Math.PI*2,!1);else{var $t=It>Ut?It:Ut,Ft=It>Ut?1:It/Ut,Kt=It>Ut?Ut/It:1;wt.save(),wt.translate(jt,Xt),wt.scale(Ft,Kt),wt.arc(0,0,$t,0,Math.PI*2),wt.restore(),wt.closePath()}},Wt}(S),I=C;function g(kt){return kt instanceof HTMLElement&&Object(O.k)(kt.nodeName)&&kt.nodeName.toUpperCase()==="CANVAS"}var R=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{x:0,y:0,width:0,height:0})},Wt.prototype.initAttrs=function(wt){this._setImage(wt.img)},Wt.prototype.isStroke=function(){return!1},Wt.prototype.isOnlyHitBox=function(){return!0},Wt.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var wt=this.get("canvas");wt?wt.draw():this.createPath(this.get("context"))}},Wt.prototype._setImage=function(wt){var ct=this,jt=this.attrs;if(Object(O.k)(wt)){var Xt=new Image;Xt.onload=function(){if(ct.destroyed)return!1;ct.attr("img",Xt),ct.set("loading",!1),ct._afterLoading();var It=ct.get("callback");It&&It.call(ct)},Xt.crossOrigin="Anonymous",Xt.src=wt,this.set("loading",!0)}else wt instanceof Image?(jt.width||(jt.width=wt.width),jt.height||(jt.height=wt.height)):g(wt)&&(jt.width||(jt.width=Number(wt.getAttribute("width"))),jt.height||(jt.height,Number(wt.getAttribute("height"))))},Wt.prototype.onAttrChange=function(wt,ct,jt){kt.prototype.onAttrChange.call(this,wt,ct,jt),wt==="img"&&this._setImage(ct)},Wt.prototype.createPath=function(wt){if(this.get("loading")){this.set("toDraw",!0),this.set("context",wt);return}var ct=this.attr(),jt=ct.x,Xt=ct.y,It=ct.width,Ut=ct.height,$t=ct.sx,Ft=ct.sy,Kt=ct.swidth,ee=ct.sheight,ce=ct.img;(ce instanceof Image||g(ce))&&(!Object(O.i)($t)&&!Object(O.i)(Ft)&&!Object(O.i)(Kt)&&!Object(O.i)(ee)?wt.drawImage(ce,$t,Ft,Kt,ee,jt,Xt,It,Ut):wt.drawImage(ce,jt,Xt,It,Ut))},Wt}(S),U=R,W=i("9pBU");function z(kt,Wt,wt,ct,jt,Xt,It){var Ut=Math.min(kt,wt),$t=Math.max(kt,wt),Ft=Math.min(Wt,ct),Kt=Math.max(Wt,ct),ee=jt/2;return Xt>=Ut-ee&&Xt<=$t+ee&&It>=Ft-ee&&It<=Kt+ee?W.c.pointToLine(kt,Wt,wt,ct,Xt,It)<=jt/2:!1}var B=i("Oru/"),L=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Wt.prototype.initAttrs=function(wt){this.setArrow()},Wt.prototype.onAttrChange=function(wt,ct,jt){kt.prototype.onAttrChange.call(this,wt,ct,jt),this.setArrow()},Wt.prototype.setArrow=function(){var wt=this.attr(),ct=wt.x1,jt=wt.y1,Xt=wt.x2,It=wt.y2,Ut=wt.startArrow,$t=wt.endArrow;Ut&&B.b(this,wt,Xt,It,ct,jt),$t&&B.a(this,wt,ct,jt,Xt,It)},Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){if(!jt||!It)return!1;var Ut=this.attr(),$t=Ut.x1,Ft=Ut.y1,Kt=Ut.x2,ee=Ut.y2;return z($t,Ft,Kt,ee,It,wt,ct)},Wt.prototype.createPath=function(wt){var ct=this.attr(),jt=ct.x1,Xt=ct.y1,It=ct.x2,Ut=ct.y2,$t=ct.startArrow,Ft=ct.endArrow,Kt={dx:0,dy:0},ee={dx:0,dy:0};$t&&$t.d&&(Kt=B.c(jt,Xt,It,Ut,ct.startArrow.d)),Ft&&Ft.d&&(ee=B.c(jt,Xt,It,Ut,ct.endArrow.d)),wt.beginPath(),wt.moveTo(jt+Kt.dx,Xt+Kt.dy),wt.lineTo(It-ee.dx,Ut-ee.dy)},Wt.prototype.afterDrawPath=function(wt){var ct=this.get("startArrowShape"),jt=this.get("endArrowShape");ct&&ct.draw(wt),jt&&jt.draw(wt)},Wt.prototype.getTotalLength=function(){var wt=this.attr(),ct=wt.x1,jt=wt.y1,Xt=wt.x2,It=wt.y2;return W.c.length(ct,jt,Xt,It)},Wt.prototype.getPoint=function(wt){var ct=this.attr(),jt=ct.x1,Xt=ct.y1,It=ct.x2,Ut=ct.y2;return W.c.pointAt(jt,Xt,It,Ut,wt)},Wt}(S),w=L,F=i("8Mtd"),V=i("WOt1"),Y={circle:function(kt,Wt,wt){return[["M",kt-wt,Wt],["A",wt,wt,0,1,0,kt+wt,Wt],["A",wt,wt,0,1,0,kt-wt,Wt]]},square:function(kt,Wt,wt){return[["M",kt-wt,Wt-wt],["L",kt+wt,Wt-wt],["L",kt+wt,Wt+wt],["L",kt-wt,Wt+wt],["Z"]]},diamond:function(kt,Wt,wt){return[["M",kt-wt,Wt],["L",kt,Wt-wt],["L",kt+wt,Wt],["L",kt,Wt+wt],["Z"]]},triangle:function(kt,Wt,wt){var ct=wt*Math.sin(1/3*Math.PI);return[["M",kt-wt,Wt+ct],["L",kt,Wt-ct],["L",kt+wt,Wt+ct],["Z"]]},"triangle-down":function(kt,Wt,wt){var ct=wt*Math.sin(1/3*Math.PI);return[["M",kt-wt,Wt-ct],["L",kt+wt,Wt-ct],["L",kt,Wt+ct],["Z"]]}},tt=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.initAttrs=function(wt){this._resetParamsCache()},Wt.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Wt.prototype.onAttrChange=function(wt,ct,jt){kt.prototype.onAttrChange.call(this,wt,ct,jt),["symbol","x","y","r","radius"].indexOf(wt)!==-1&&this._resetParamsCache()},Wt.prototype.isOnlyHitBox=function(){return!0},Wt.prototype._getR=function(wt){return Object(F.isNil)(wt.r)?wt.radius:wt.r},Wt.prototype._getPath=function(){var wt=this.attr(),ct=wt.x,jt=wt.y,Xt=wt.symbol||"circle",It=this._getR(wt),Ut,$t;if(Object(O.h)(Xt))Ut=Xt,$t=Ut(ct,jt,It),$t=Object(V.d)($t);else{if(Ut=Wt.Symbols[Xt],!Ut)return console.warn(Xt+" marker is not supported."),null;$t=Ut(ct,jt,It)}return $t},Wt.prototype.createPath=function(wt){var ct=this._getPath(),jt=this.get("paramsCache");Object(x.e)(this,wt,{path:ct},jt)},Wt.Symbols=Y,Wt}(S),q=tt;function H(kt,Wt,wt){var ct=Object(M.getOffScreenContext)();return kt.createPath(ct),ct.isPointInPath(Wt,wt)}var Q=1e-6;function k(kt){return Math.abs(kt)<Q?0:kt<0?-1:1}function K(kt,Wt,wt){return(wt[0]-kt[0])*(Wt[1]-kt[1])==(Wt[0]-kt[0])*(wt[1]-kt[1])&&Math.min(kt[0],Wt[0])<=wt[0]&&wt[0]<=Math.max(kt[0],Wt[0])&&Math.min(kt[1],Wt[1])<=wt[1]&&wt[1]<=Math.max(kt[1],Wt[1])}function nt(kt,Wt,wt){var ct=!1,jt=kt.length;if(jt<=2)return!1;for(var Xt=0;Xt<jt;Xt++){var It=kt[Xt],Ut=kt[(Xt+1)%jt];if(K(It,Ut,[Wt,wt]))return!0;k(It[1]-wt)>0!=k(Ut[1]-wt)>0&&k(Wt-(wt-It[1])*(It[0]-Ut[0])/(It[1]-Ut[1])-It[0])<0&&(ct=!ct)}return ct}var lt=i("sxZn"),ut=i("gCNn");function rt(kt,Wt,wt,ct,jt,Xt,It,Ut){var $t=(Math.atan2(Ut-Wt,It-kt)+Math.PI*2)%(Math.PI*2);if($t<ct||$t>jt)return!1;var Ft={x:kt+wt*Math.cos($t),y:Wt+wt*Math.sin($t)};return Object(O.b)(Ft.x,Ft.y,It,Ut)<=Xt/2}var ot=lt.a.transform;function dt(kt){for(var Wt=!1,wt=kt.length,ct=0;ct<wt;ct++){var jt=kt[ct],Xt=jt[0];if(Xt==="C"||Xt==="A"||Xt==="Q"){Wt=!0;break}}return Wt}function Mt(kt,Wt,wt,ct,jt){for(var Xt=!1,It=Wt/2,Ut=0;Ut<kt.length;Ut++){var $t=kt[Ut],Ft=$t.currentPoint,Kt=$t.params,ee=$t.prePoint,ce=$t.box;if(!(ce&&!Object(O.e)(ce.x-It,ce.y-It,ce.width+Wt,ce.height+Wt,wt,ct))){switch($t.command){case"L":case"Z":Xt=z(ee[0],ee[1],Ft[0],Ft[1],Wt,wt,ct);break;case"Q":var Se=W.e.pointDistance(ee[0],ee[1],Kt[1],Kt[2],Kt[3],Kt[4],wt,ct);Xt=Se<=Wt/2;break;case"C":var Ce=W.b.pointDistance(ee[0],ee[1],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5],Kt[6],wt,ct,jt);Xt=Ce<=Wt/2;break;case"A":var Ge=$t.arcParams,hr=Ge.cx,dr=Ge.cy,ar=Ge.rx,qe=Ge.ry,Xe=Ge.startAngle,ur=Ge.endAngle,zr=Ge.xRotation,ir=[wt,ct,1],qr=ar>qe?ar:qe,Mr=ar>qe?1:ar/qe,Br=ar>qe?qe/ar:1,ze=ot(null,[["t",-hr,-dr],["r",-zr],["s",1/Mr,1/Br]]);ut.transformMat3(ir,ir,ze),Xt=rt(0,0,qr,Xe,ur,Wt,ir[0],ir[1]);break;default:break}if(Xt)break}}return Xt}function Nt(kt){for(var Wt=kt.length,wt=[],ct=[],jt=[],Xt=0;Xt<Wt;Xt++){var It=kt[Xt],Ut=It[0];Ut==="M"?(jt.length&&(ct.push(jt),jt=[]),jt.push([It[1],It[2]])):Ut==="Z"?jt.length&&(wt.push(jt),jt=[]):jt.push([It[1],It[2]])}return jt.length>0&&ct.push(jt),{polygons:wt,polylines:ct}}var ht=Object(a.__assign)({hasArc:dt,extractPolygons:Nt,isPointInStroke:Mt},M.PathUtil);function yt(kt,Wt,wt){for(var ct=!1,jt=0;jt<kt.length;jt++){var Xt=kt[jt];if(ct=nt(Xt,Wt,wt),ct)break}return ct}var ft=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{startArrow:!1,endArrow:!1})},Wt.prototype.initAttrs=function(wt){this._setPathArr(wt.path),this.setArrow()},Wt.prototype.onAttrChange=function(wt,ct,jt){kt.prototype.onAttrChange.call(this,wt,ct,jt),wt==="path"&&this._setPathArr(ct),this.setArrow()},Wt.prototype._setPathArr=function(wt){this.attrs.path=Object(V.d)(wt);var ct=ht.hasArc(wt);this.set("hasArc",ct),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Wt.prototype.getSegments=function(){var wt=this.get("segements");return wt||(wt=Object(V.e)(this.attr("path")),this.set("segments",wt)),wt},Wt.prototype.setArrow=function(){var wt=this.attr(),ct=wt.startArrow,jt=wt.endArrow;if(ct){var Xt=this.getStartTangent();B.b(this,wt,Xt[0][0],Xt[0][1],Xt[1][0],Xt[1][1])}if(jt){var Xt=this.getEndTangent();B.a(this,wt,Xt[0][0],Xt[0][1],Xt[1][0],Xt[1][1])}},Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){var Ut=this.getSegments(),$t=this.get("hasArc"),Ft=!1;if(jt){var Kt=this.getTotalLength();Ft=ht.isPointInStroke(Ut,It,wt,ct,Kt)}if(!Ft&&Xt)if($t)Ft=H(this,wt,ct);else{var ee=this.attr("path"),ce=ht.extractPolygons(ee);Ft=yt(ce.polygons,wt,ct)||yt(ce.polylines,wt,ct)}return Ft},Wt.prototype.createPath=function(wt){var ct=this.attr(),jt=this.get("paramsCache");Object(x.e)(this,wt,ct,jt)},Wt.prototype.afterDrawPath=function(wt){var ct=this.get("startArrowShape"),jt=this.get("endArrowShape");ct&&ct.draw(wt),jt&&jt.draw(wt)},Wt.prototype.getTotalLength=function(){var wt=this.get("totalLength");return Object(F.isNil)(wt)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):wt},Wt.prototype.getPoint=function(wt){var ct=this.get("tCache");ct||(this._calculateCurve(),this._setTcache(),ct=this.get("tCache"));var jt,Xt,It=this.get("curve");if(!ct||ct.length===0)return It?{x:It[0][1],y:It[0][2]}:null;Object(F.each)(ct,function(Kt,ee){wt>=Kt[0]&&wt<=Kt[1]&&(jt=(wt-Kt[0])/(Kt[1]-Kt[0]),Xt=ee)});var Ut=It[Xt];if(Object(F.isNil)(Ut)||Object(F.isNil)(Xt))return null;var $t=Ut.length,Ft=It[Xt+1];return W.b.pointAt(Ut[$t-2],Ut[$t-1],Ft[1],Ft[2],Ft[3],Ft[4],Ft[5],Ft[6],jt)},Wt.prototype._calculateCurve=function(){var wt=this.attr().path;this.set("curve",ht.pathToCurve(wt))},Wt.prototype._setTcache=function(){var wt=0,ct=0,jt=[],Xt,It,Ut,$t,Ft=this.get("curve");if(!!Ft){if(Object(F.each)(Ft,function(Kt,ee){Ut=Ft[ee+1],$t=Kt.length,Ut&&(wt+=W.b.length(Kt[$t-2],Kt[$t-1],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5],Ut[6])||0)}),this.set("totalLength",wt),wt===0){this.set("tCache",[]);return}Object(F.each)(Ft,function(Kt,ee){Ut=Ft[ee+1],$t=Kt.length,Ut&&(Xt=[],Xt[0]=ct/wt,It=W.b.length(Kt[$t-2],Kt[$t-1],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5],Ut[6]),ct+=It||0,Xt[1]=ct/wt,jt.push(Xt))}),this.set("tCache",jt)}},Wt.prototype.getStartTangent=function(){var wt=this.getSegments(),ct;if(wt.length>1){var jt=wt[0].currentPoint,Xt=wt[1].currentPoint,It=wt[1].startTangent;ct=[],It?(ct.push([jt[0]-It[0],jt[1]-It[1]]),ct.push([jt[0],jt[1]])):(ct.push([Xt[0],Xt[1]]),ct.push([jt[0],jt[1]]))}return ct},Wt.prototype.getEndTangent=function(){var wt=this.getSegments(),ct=wt.length,jt;if(ct>1){var Xt=wt[ct-2].currentPoint,It=wt[ct-1].currentPoint,Ut=wt[ct-1].endTangent;jt=[],Ut?(jt.push([It[0]-Ut[0],It[1]-Ut[1]]),jt.push([It[0],It[1]])):(jt.push([Xt[0],Xt[1]]),jt.push([It[0],It[1]]))}return jt},Wt}(S),st=ft;function xt(kt,Wt,wt,ct,jt){var Xt=kt.length;if(Xt<2)return!1;for(var It=0;It<Xt-1;It++){var Ut=kt[It][0],$t=kt[It][1],Ft=kt[It+1][0],Kt=kt[It+1][1];if(z(Ut,$t,Ft,Kt,Wt,wt,ct))return!0}if(jt){var ee=kt[0],ce=kt[Xt-1];if(z(ee[0],ee[1],ce[0],ce[1],Wt,wt,ct))return!0}return!1}var gt=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){var Ut=this.attr().points,$t=!1;return jt&&($t=xt(Ut,It,wt,ct,!0)),!$t&&Xt&&($t=nt(Ut,wt,ct)),$t},Wt.prototype.createPath=function(wt){var ct=this.attr(),jt=ct.points;if(!(jt.length<2)){wt.beginPath();for(var Xt=0;Xt<jt.length;Xt++){var It=jt[Xt];Xt===0?wt.moveTo(It[0],It[1]):wt.lineTo(It[0],It[1])}wt.closePath()}},Wt}(S),At=gt,pt=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{startArrow:!1,endArrow:!1})},Wt.prototype.initAttrs=function(wt){this.setArrow()},Wt.prototype.onAttrChange=function(wt,ct,jt){kt.prototype.onAttrChange.call(this,wt,ct,jt),this.setArrow(),["points"].indexOf(wt)!==-1&&this._resetCache()},Wt.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Wt.prototype.setArrow=function(){var wt=this.attr(),ct=this.attrs,jt=ct.points,Xt=ct.startArrow,It=ct.endArrow,Ut=jt.length,$t=jt[0][0],Ft=jt[0][1],Kt=jt[Ut-1][0],ee=jt[Ut-1][1];Xt&&B.b(this,wt,jt[1][0],jt[1][1],$t,Ft),It&&B.a(this,wt,jt[Ut-2][0],jt[Ut-2][1],Kt,ee)},Wt.prototype.isFill=function(){return!1},Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){if(!jt||!It)return!1;var Ut=this.attr().points;return xt(Ut,It,wt,ct,!1)},Wt.prototype.isStroke=function(){return!0},Wt.prototype.createPath=function(wt){var ct=this.attr(),jt=ct.points,Xt=ct.startArrow,It=ct.endArrow,Ut=jt.length;if(!(jt.length<2)){var $t=jt[0][0],Ft=jt[0][1],Kt=jt[Ut-1][0],ee=jt[Ut-1][1];if(Xt&&Xt.d){var ce=B.c($t,Ft,jt[1][0],jt[1][1],Xt.d);$t+=ce.dx,Ft+=ce.dy}if(It&&It.d){var ce=B.c(jt[Ut-2][0],jt[Ut-2][1],Kt,ee,It.d);Kt-=ce.dx,ee-=ce.dy}wt.beginPath(),wt.moveTo($t,Ft);for(var Se=0;Se<Ut-1;Se++){var Ce=jt[Se];wt.lineTo(Ce[0],Ce[1])}wt.lineTo(Kt,ee)}},Wt.prototype.afterDrawPath=function(wt){var ct=this.get("startArrowShape"),jt=this.get("endArrowShape");ct&&ct.draw(wt),jt&&jt.draw(wt)},Wt.prototype.getTotalLength=function(){var wt=this.attr().points,ct=this.get("totalLength");return Object(F.isNil)(ct)?(this.set("totalLength",W.d.length(wt)),this.get("totalLength")):ct},Wt.prototype.getPoint=function(wt){var ct=this.attr().points,jt=this.get("tCache");jt||(this._setTcache(),jt=this.get("tCache"));var Xt,It;return Object(F.each)(jt,function(Ut,$t){wt>=Ut[0]&&wt<=Ut[1]&&(Xt=(wt-Ut[0])/(Ut[1]-Ut[0]),It=$t)}),W.c.pointAt(ct[It][0],ct[It][1],ct[It+1][0],ct[It+1][1],Xt)},Wt.prototype._setTcache=function(){var wt=this.attr().points;if(!(!wt||wt.length===0)){var ct=this.getTotalLength();if(!(ct<=0)){var jt=0,Xt=[],It,Ut;Object(F.each)(wt,function($t,Ft){wt[Ft+1]&&(It=[],It[0]=jt/ct,Ut=W.c.length($t[0],$t[1],wt[Ft+1][0],wt[Ft+1][1]),jt+=Ut,It[1]=jt/ct,Xt.push(It))}),this.set("tCache",Xt)}}},Wt.prototype.getStartTangent=function(){var wt=this.attr().points,ct=[];return ct.push([wt[1][0],wt[1][1]]),ct.push([wt[0][0],wt[0][1]]),ct},Wt.prototype.getEndTangent=function(){var wt=this.attr().points,ct=wt.length-1,jt=[];return jt.push([wt[ct-1][0],wt[ct-1][1]]),jt.push([wt[ct][0],wt[ct][1]]),jt},Wt}(S),_=pt,$=i("aTcL");function bt(kt,Wt,wt,ct,jt,Xt,It){var Ut=jt/2;return Object(O.e)(kt-Ut,Wt-Ut,wt,jt,Xt,It)||Object(O.e)(kt+wt-Ut,Wt-Ut,jt,ct,Xt,It)||Object(O.e)(kt+Ut,Wt+ct-Ut,wt,jt,Xt,It)||Object(O.e)(kt-Ut,Wt+Ut,jt,ct,Xt,It)}function it(kt,Wt,wt,ct,jt,Xt,It,Ut){var $t=Xt/2;return z(kt+jt,Wt,kt+wt-jt,Wt,Xt,It,Ut)||z(kt+wt,Wt+jt,kt+wt,Wt+ct-jt,Xt,It,Ut)||z(kt+wt-jt,Wt+ct,kt+jt,Wt+ct,Xt,It,Ut)||z(kt,Wt+ct-jt,kt,Wt+jt,Xt,It,Ut)||rt(kt+wt-jt,Wt+jt,jt,1.5*Math.PI,2*Math.PI,Xt,It,Ut)||rt(kt+wt-jt,Wt+ct-jt,jt,0,.5*Math.PI,Xt,It,Ut)||rt(kt+jt,Wt+ct-jt,jt,.5*Math.PI,Math.PI,Xt,It,Ut)||rt(kt+jt,Wt+jt,jt,Math.PI,1.5*Math.PI,Xt,It,Ut)}var Ot=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{x:0,y:0,width:0,height:0,radius:0})},Wt.prototype.isInStrokeOrPath=function(wt,ct,jt,Xt,It){var Ut=this.attr(),$t=Ut.x,Ft=Ut.y,Kt=Ut.width,ee=Ut.height,ce=Ut.radius;if(ce){var Ce=!1;return jt&&(Ce=it($t,Ft,Kt,ee,ce,It,wt,ct)),!Ce&&Xt&&(Ce=H(this,wt,ct)),Ce}else{var Se=It/2;if(Xt&&jt)return Object(O.e)($t-Se,Ft-Se,Kt+Se,ee+Se,wt,ct);if(Xt)return Object(O.e)($t,Ft,Kt,ee,wt,ct);if(jt)return bt($t,Ft,Kt,ee,It,wt,ct)}},Wt.prototype.createPath=function(wt){var ct=this.attr(),jt=ct.x,Xt=ct.y,It=ct.width,Ut=ct.height,$t=ct.radius;if(wt.beginPath(),$t===0)wt.rect(jt,Xt,It,Ut);else{var Ft=Object($.a)($t),Kt=Ft[0],ee=Ft[1],ce=Ft[2],Se=Ft[3];wt.moveTo(jt+Kt,Xt),wt.lineTo(jt+It-ee,Xt),ee!==0&&wt.arc(jt+It-ee,Xt+ee,ee,-Math.PI/2,0),wt.lineTo(jt+It,Xt+Ut-ce),ce!==0&&wt.arc(jt+It-ce,Xt+Ut-ce,ce,0,Math.PI/2),wt.lineTo(jt+Se,Xt+Ut),Se!==0&&wt.arc(jt+Se,Xt+Ut-Se,Se,Math.PI/2,Math.PI),wt.lineTo(jt,Xt+Kt),Kt!==0&&wt.arc(jt+Kt,Xt+Kt,Kt,Math.PI,Math.PI*1.5),wt.closePath()}},Wt}(S),Pt=Ot,Rt=function(kt){Object(a.__extends)(Wt,kt);function Wt(){return kt!==null&&kt.apply(this,arguments)||this}return Wt.prototype.getDefaultAttrs=function(){var wt=kt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},wt),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Wt.prototype.isOnlyHitBox=function(){return!0},Wt.prototype.initAttrs=function(wt){this._assembleFont(),wt.text&&this._setText(wt.text)},Wt.prototype._assembleFont=function(){var wt=this.attrs;wt.font=Object(M.assembleFont)(wt)},Wt.prototype._setText=function(wt){var ct=null;Object(O.k)(wt)&&wt.indexOf(`
`)!==-1&&(ct=wt.split(`
`)),this.set("textArr",ct)},Wt.prototype.onAttrChange=function(wt,ct,jt){kt.prototype.onAttrChange.call(this,wt,ct,jt),wt.startsWith("font")&&this._assembleFont(),wt==="text"&&this._setText(ct)},Wt.prototype._getSpaceingY=function(){var wt=this.attrs,ct=wt.lineHeight,jt=wt.fontSize*1;return ct?ct-jt:jt*.14},Wt.prototype._drawTextArr=function(wt,ct,jt){var Xt=this.attrs,It=Xt.textBaseline,Ut=Xt.x,$t=Xt.y,Ft=Xt.fontSize*1,Kt=this._getSpaceingY(),ee=Object(M.getTextHeight)(Xt.text,Xt.fontSize,Xt.lineHeight),ce;Object(O.c)(ct,function(Se,Ce){ce=$t+Ce*(Kt+Ft)-ee+Ft,It==="middle"&&(ce+=ee-Ft-(ee-Ft)/2),It==="top"&&(ce+=ee-Ft),Se&&(jt?wt.fillText(Se,Ut,ce):wt.strokeText(Se,Ut,ce))})},Wt.prototype._drawText=function(wt,ct){var jt=this.attr(),Xt=jt.x,It=jt.y,Ut=this.get("textArr");if(Ut)this._drawTextArr(wt,Ut,ct);else{var $t=jt.text;$t&&(ct?wt.fillText($t,Xt,It):wt.strokeText($t,Xt,It))}},Wt.prototype.strokeAndFill=function(wt){var ct=this.attrs,jt=ct.lineWidth,Xt=ct.opacity,It=ct.strokeOpacity,Ut=ct.fillOpacity;this.isStroke()&&jt>0&&(!Object(O.i)(It)&&It!==1&&(wt.globalAlpha=Xt),this.stroke(wt)),this.isFill()&&(!Object(O.i)(Ut)&&Ut!==1?(wt.globalAlpha=Ut,this.fill(wt),wt.globalAlpha=Xt):this.fill(wt)),this.afterDrawPath(wt)},Wt.prototype.fill=function(wt){this._drawText(wt,!0)},Wt.prototype.stroke=function(wt){this._drawText(wt,!1)},Wt}(S),Vt=Rt},O7jt:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getBindingDictionary=A.createMockRequest=A.plan=void 0;var c=i("tMVM"),a=i("196R"),M=i("2+60"),O=i("9L8m"),x=i("AUMs"),D=i("Rph/"),E=i("5i8x"),S=i("rMkn"),p=i("tqfL"),b=i("wOqf"),y=i("qwYJ"),C=i("Y26w");function I(w){return w._bindingDictionary}A.getBindingDictionary=I;function g(w,F,V,Y,tt,q){var H=w?O.MULTI_INJECT_TAG:O.INJECT_TAG,Q=new S.Metadata(H,V),k=new C.Target(F,Y,V,Q);if(tt!==void 0){var K=new S.Metadata(tt,q);k.metadata.push(K)}return k}function R(w,F,V,Y,tt){var q=z(V.container,tt.serviceIdentifier),H=[];return q.length===c.BindingCount.NoBindingsAvailable&&V.container.options.autoBindInjectable&&typeof tt.serviceIdentifier=="function"&&w.getConstructorMetadata(tt.serviceIdentifier).compilerGeneratedMetadata&&(V.container.bind(tt.serviceIdentifier).toSelf(),q=z(V.container,tt.serviceIdentifier)),F?H=q:H=q.filter(function(Q){var k=new y.Request(Q.serviceIdentifier,V,Y,Q,tt);return Q.constraint(k)}),U(tt.serviceIdentifier,H,tt,V.container),H}function U(w,F,V,Y){switch(F.length){case c.BindingCount.NoBindingsAvailable:if(V.isOptional())return F;var tt=D.getServiceIdentifierAsString(w),q=a.NOT_REGISTERED;throw q+=D.listMetadataForTarget(tt,V),q+=D.listRegisteredBindingsForServiceIdentifier(Y,tt,z),new Error(q);case c.BindingCount.OnlyOneBindingAvailable:if(!V.isArray())return F;case c.BindingCount.MultipleBindingsAvailable:default:if(V.isArray())return F;var tt=D.getServiceIdentifierAsString(w),q=a.AMBIGUOUS_MATCH+" "+tt;throw q+=D.listRegisteredBindingsForServiceIdentifier(Y,tt,z),new Error(q)}}function W(w,F,V,Y,tt,q){var H,Q;if(tt===null){H=R(w,F,Y,null,q),Q=new y.Request(V,Y,null,H,q);var k=new p.Plan(Y,Q);Y.addPlan(k)}else H=R(w,F,Y,tt,q),Q=tt.addChildRequest(q.serviceIdentifier,H,q);H.forEach(function(K){var nt=null;if(q.isArray())nt=Q.addChildRequest(K.serviceIdentifier,K,q);else{if(K.cache)return;nt=Q}if(K.type===M.BindingTypeEnum.Instance&&K.implementationType!==null){var lt=b.getDependencies(w,K.implementationType);if(!Y.container.options.skipBaseClassChecks){var ut=b.getBaseClassDependencyCount(w,K.implementationType);if(lt.length<ut){var rt=a.ARGUMENTS_LENGTH_MISMATCH(b.getFunctionName(K.implementationType));throw new Error(rt)}}lt.forEach(function(ot){W(w,!1,ot.serviceIdentifier,Y,nt,ot)})}})}function z(w,F){var V=[],Y=I(w);return Y.hasKey(F)?V=Y.get(F):w.parent!==null&&(V=z(w.parent,F)),V}function B(w,F,V,Y,tt,q,H,Q){Q===void 0&&(Q=!1);var k=new E.Context(F),K=g(V,Y,tt,"",q,H);try{return W(w,Q,tt,k,null,K),k}catch(nt){throw x.isStackOverflowExeption(nt)&&k.plan&&D.circularDependencyToException(k.plan.rootRequest),nt}}A.plan=B;function L(w,F,V,Y){var tt=new C.Target(M.TargetTypeEnum.Variable,"",F,new S.Metadata(V,Y)),q=new E.Context(w),H=new y.Request(F,q,null,[],tt);return H}A.createMockRequest=L},OEJE:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("nZiY"),M=i("08EK"),O=function(x){Object(c.__extends)(D,x);function D(E){var S=x.call(this)||this;S.destroyed=!1;var p=S.getDefaultCfg();return S.cfg=Object(M.i)(p,E),S}return D.prototype.getDefaultCfg=function(){return{}},D.prototype.get=function(E){return this.cfg[E]},D.prototype.set=function(E,S){this.cfg[E]=S},D.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},D}(a.a);A.a=O},OFdx:function(Lt,A,i){var c=i("mXku"),a=i("dVOP"),M=i("rGlR");function O(x,D){return x==null?x:c(x,a(D),M)}Lt.exports=O},"OO/B":function(Lt,A,i){"use strict";var c=i("9xKD"),a=c.longestPath,M=i("kr+H"),O=i("of5Y");Lt.exports=x;function x(p){switch(p.graph().ranker){case"network-simplex":S(p);break;case"tight-tree":E(p);break;case"longest-path":D(p);break;default:S(p)}}var D=a;function E(p){a(p),M(p)}function S(p){O(p)}},ORSI:function(Lt,A,i){"use strict";var c=i("dNsf"),a=i("8Mtd"),M=i("b0U9");function O(x){var D=Object(a.get)(x,["event","data","data"],{});return Object(a.isArray)(D.children)&&D.children.length>0}Object(c.registerAction)("drill-down-action",M.a),Object(c.registerInteraction)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:O},{trigger:"element:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:O,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]}]})},Od3v:function(Lt,A,i){"use strict";i.d(A,"b",function(){return M}),i.d(A,"c",function(){return O});var c=i("EbMC"),a=i("WKd7"),M=(1+Math.sqrt(5))/2;function O(x,D,E,S,p,b){for(var y=[],C=D.children,I,g,R=0,U=0,W=C.length,z,B,L=D.value,w,F,V,Y,tt,q,H;R<W;){z=p-E,B=b-S;do w=C[U++].value;while(!w&&U<W);for(F=V=w,q=Math.max(B/z,z/B)/(L*x),H=w*w*q,tt=Math.max(V/H,H/F);U<W;++U){if(w+=g=C[U].value,g<F&&(F=g),g>V&&(V=g),H=w*w*q,Y=Math.max(V/H,H/F),Y>tt){w-=g;break}tt=Y}y.push(I={value:w,dice:z<B,children:C.slice(R,U)}),I.dice?Object(c.a)(I,E,S,p,L?S+=B*w/L:b):Object(a.a)(I,E,S,L?E+=z*w/L:p,b),L-=w,R=U}return y}A.a=function x(D){function E(S,p,b,y,C){O(D,S,p,b,y,C)}return E.ratio=function(S){return x((S=+S)>1?S:1)},E}(M)},OeFv:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.findAllPath=A.findShortestPath=void 0;var c=M(i("Jr4d")),a=i("Eqze");function M(D){return D&&D.__esModule?D:{default:D}}var O=function(E,S,p,b,y){var C=(0,c.default)(E,S,b,y),I=C.length,g=C.path,R=C.allPath;return{length:I[p],path:g[p],allPath:R[p]}};A.findShortestPath=O;var x=function(E,S,p,b){var y;if(S===p)return[[S]];var C=E.edges,I=C===void 0?[]:C,g=[S],R=(y={},y[S]=!0,y),U=[],W=[],z=b?(0,a.getNeighbors)(S,I,"target"):(0,a.getNeighbors)(S,I);for(U.push(z);g.length>0&&U.length>0;){var B=U[U.length-1];if(B.length){var L=B.shift();L&&(g.push(L),R[L]=!0,z=b?(0,a.getNeighbors)(L,I,"target"):(0,a.getNeighbors)(L,I),U.push(z.filter(function(V){return!R[V]})))}else{var w=g.pop();R[w]=!1,U.pop();continue}if(g[g.length-1]===p){var F=g.map(function(Y){return Y});W.push(F);var w=g.pop();R[w]=!1,U.pop()}}return W};A.findAllPath=x},OpA2:function(Lt,A){},"Oru/":function(Lt,A,i){"use strict";i.d(A,"c",function(){return p}),i.d(A,"b",function(){return b}),i.d(A,"a",function(){return y});var c=i("CMID"),a=i("Nqgf"),M=Math.sin,O=Math.cos,x=Math.atan2,D=Math.PI;function E(C,I,g,R,U,W,z){var B=I.stroke,L=I.lineWidth,w=g-U,F=R-W,V=x(F,w),Y=new a.Path({type:"path",canvas:C.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*O(D/6)+","+10*M(D/6)+" L0,0 L"+10*O(D/6)+",-"+10*M(D/6),stroke:B,lineWidth:L}});Y.translate(U,W),Y.rotateAtPoint(U,W,V),C.set(z?"startArrowShape":"endArrowShape",Y)}function S(C,I,g,R,U,W,z){var B=I.startArrow,L=I.endArrow,w=I.stroke,F=I.lineWidth,V=z?B:L,Y=V.d,tt=V.fill,q=V.stroke,H=V.lineWidth,Q=Object(c.__rest)(V,["d","fill","stroke","lineWidth"]),k=g-U,K=R-W,nt=x(K,k);Y&&(U=U-O(nt)*Y,W=W-M(nt)*Y);var lt=new a.Path({type:"path",canvas:C.get("canvas"),isArrowShape:!0,attrs:Object(c.__assign)(Object(c.__assign)({},Q),{stroke:q||w,lineWidth:H||F,fill:tt})});lt.translate(U,W),lt.rotateAtPoint(U,W,nt),C.set(z?"startArrowShape":"endArrowShape",lt)}function p(C,I,g,R,U){var W=x(R-I,g-C);return{dx:O(W)*U,dy:M(W)*U}}function b(C,I,g,R,U,W){typeof I.startArrow=="object"?S(C,I,g,R,U,W,!0):I.startArrow?E(C,I,g,R,U,W,!0):C.set("startArrowShape",null)}function y(C,I,g,R,U,W){typeof I.endArrow=="object"?S(C,I,g,R,U,W,!1):I.endArrow?E(C,I,g,R,U,W,!1):C.set("startArrowShape",null)}},Oye7:function(Lt,A,i){var c=i("XSdR");Lt.exports=a;function a(x){var D=O(x);c.forEach(x.graph().dummyChains,function(E){for(var S=x.node(E),p=S.edgeObj,b=M(x,D,p.v,p.w),y=b.path,C=b.lca,I=0,g=y[I],R=!0;E!==p.w;){if(S=x.node(E),R){for(;(g=y[I])!==C&&x.node(g).maxRank<S.rank;)I++;g===C&&(R=!1)}if(!R){for(;I<y.length-1&&x.node(g=y[I+1]).minRank<=S.rank;)I++;g=y[I]}x.setParent(E,g),E=x.successors(E)[0]}})}function M(x,D,E,S){var p=[],b=[],y=Math.min(D[E].low,D[S].low),C=Math.max(D[E].lim,D[S].lim),I,g;I=E;do I=x.parent(I),p.push(I);while(I&&(D[I].low>y||C>D[I].lim));for(g=I,I=S;(I=x.parent(I))!==g;)b.push(I);return{path:p.concat(b.reverse()),lca:g}}function O(x){var D={},E=0;function S(p){var b=E;c.forEach(x.children(p),S),D[p]={low:b,lim:E++}}return c.forEach(x.children(),S),D}},"P+oc":function(Lt,A,i){var c=i("3MnI");Lt.exports=a;function a(M){try{c(M)}catch(O){if(O instanceof c.CycleException)return!1;throw O}return!0}},P4df:function(Lt,A,i){"use strict";i.d(A,"b",function(){return O}),i.d(A,"a",function(){return x});var c=i("CMID"),a=i("8Mtd"),M=i("Sn/i");function O(D,E,S,p){var b=Object(a.reduce)(D,function(y,C){var I=C[S],g=y.has(I)?y.get(I):0,R=C[E];return g=Object(M.b)(R)?g+R:g,y.set(I,g),y},new Map);return Object(a.map)(D,function(y){var C,I=y[E],g=y[S],R=Object(M.b)(I)?I/b.get(g):0;return Object(c.__assign)(Object(c.__assign)({},y),(C={},C[p]=R,C))})}function x(D,E,S,p,b){return b?O(D,E,S,p):D}},P6PP:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c.a}),i.d(A,"b",function(){return p.a});var c=i("oq+b"),a=i("16OP"),M=i.n(a),O=i("7Nom"),x=i.n(O),D=i("99LQ"),E=D.e.create(),S=function(){function W(z,B){M()(this,W),this.center=void 0,this.radius=void 0,this.center=z||D.e.create(),this.radius=B||.5}return x()(W,[{key:"containsPoint",value:function(B){return D.e.sub(E,B,this.center),D.e.length(E)<this.radius*this.radius}},{key:"intersects",value:function(B){D.e.sub(E,B.center,this.center);var L=B.radius+this.radius;return D.e.length(E)<=L*L}}]),W}(),p=i("c5gd"),b=i("xO9G"),y=D.e.create(),C=D.e.create(),I=D.e.create(),g=D.e.create(),R=D.e.create(),U=function(){function W(z,B){M()(this,W),this.origin=void 0,this.direction=void 0,this.origin=z||D.e.create(),this.direction=B||D.e.fromValues(0,0,-1)}return x()(W,[{key:"intersectsAABB",value:function(B,L){return L?this.intersectAABBWithIntersection(B,L):this.intersectsAABBWithoutIntersection(B)}},{key:"intersectsSphere",value:function(B,L){var w=D.e.sub(y,this.origin,B.center);D.e.normalize(C,D.e.copy(C,this.direction));var F=D.e.dot(w,C),V=D.e.dot(w,w)-B.radius*B.radius;if(V>0&&F>0)return null;var Y=F*F-V;if(Y<0)return!1;var tt=Math.abs(-F-Math.sqrt(Y));return L&&(D.e.copy(L,this.direction),D.e.scaleAndAdd(L,this.origin,L,tt)),!0}},{key:"intersectsPlane",value:function(B,L){var w=(B.distance-D.e.dot(B.normal,this.origin))/D.e.dot(B.normal,this.direction),F=w>=0;return F&&L&&D.e.scaleAndAdd(L,this.origin,this.direction,w),F}},{key:"intersectsAABBWithoutIntersection",value:function(B){var L=y,w=C,F=I,V=g,Y=R,tt=this.direction;return D.e.sub(L,this.origin,B.center),D.e.set(V,Math.abs(L[0]),Math.abs(L[1]),Math.abs(L[2])),D.e.mul(F,L,tt),V[0]>B.halfExtents[0]&&F[0]>=0||V[1]>B.halfExtents[1]&&F[1]>=0||V[2]>B.halfExtents[2]&&F[2]>=0?!1:(D.e.set(Y,Math.abs(tt[0]),Math.abs(tt[1]),Math.abs(tt[2])),D.e.cross(w,tt,L),D.e.set(w,Math.abs(w[0]),Math.abs(w[1]),Math.abs(w[2])),!(w[0]>B.halfExtents[1]*Y[2]+B.halfExtents[2]*Y[1]||w[1]>B.halfExtents[0]*Y[2]+B.halfExtents[2]*Y[0]||w[2]>B.halfExtents[0]*Y[1]+B.halfExtents[1]*Y[0]))}},{key:"intersectAABBWithIntersection",value:function(B,L){var w=D.e.copy(D.e.create(),B.getMin());D.e.sub(w,w,this.origin);var F=D.e.copy(D.e.create(),B.getMax());D.e.sub(F,F,this.origin);var V=this.direction;V[0]===0?(w[0]=w[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE,F[0]=F[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(w[0]/=V[0],F[0]/=V[0]),V[1]===0?(w[1]=w[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE,F[1]=F[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(w[1]/=V[1],F[1]/=V[1]),V[2]===0?(w[2]=w[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE,F[2]=F[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(w[2]/=V[2],F[2]/=V[2]);var Y=D.e.set(I,Math.min(w[0],F[0]),Math.min(w[1],F[1]),Math.min(w[2],F[2])),tt=D.e.set(g,Math.max(w[0],F[0]),Math.max(w[1],F[1]),Math.max(w[2],F[2])),q=Math.min(Math.min(tt[0],tt[1]),tt[2]),H=Math.max(Math.max(Y[0],Y[1]),Y[2]),Q=q>=H&&H>=0;return Q&&(D.e.copy(L,this.direction),D.e.scaleAndAdd(L,this.origin,L,H)),Q}}]),W}()},P7eI:function(Lt,A,i){"use strict";i.d(A,"a",function(){return Wt});var c=i("QJLF"),a=i.n(c),M=i("16OP"),O=i.n(M),x=i("7Nom"),D=i.n(x),E=i("cW+D"),S=i.n(E),p=i("oOaK"),b=i.n(p),y=i("vpv6"),C=i.n(y),I=i("G5xY"),g=i.n(I),R=i("99LQ"),U=i("Hg9g"),W=i("gXEi"),z=i.n(W),B=9007199254740991,L="[object Arguments]",w="[object Array]",F="[object Boolean]",V="[object Date]",Y="[object Error]",tt="[object Function]",q="[object Map]",H="[object Number]",Q="[object Object]",k="[object RegExp]",K="[object Set]",nt="[object String]",lt="[object WeakMap]",ut="[object ArrayBuffer]",rt="[object DataView]",ot="[object Float32Array]",dt="[object Float64Array]",Mt="[object Int8Array]",Nt="[object Int16Array]",ht="[object Int32Array]",yt="[object Uint8Array]",ft="[object Uint8ClampedArray]",st="[object Uint16Array]",xt="[object Uint32Array]",gt={};gt[ot]=gt[dt]=gt[Mt]=gt[Nt]=gt[ht]=gt[yt]=gt[ft]=gt[st]=gt[xt]=!0,gt[L]=gt[w]=gt[ut]=gt[F]=gt[rt]=gt[V]=gt[Y]=gt[tt]=gt[q]=gt[H]=gt[Q]=gt[k]=gt[K]=gt[nt]=gt[lt]=!1;function At(wt){return function(ct){return wt(ct)}}var pt=Object.prototype,_=pt.toString;function $(wt){return it(wt)&&bt(wt.length)&&!!gt[_.call(wt)]}function bt(wt){return typeof wt=="number"&&wt>-1&&wt%1==0&&wt<=B}function it(wt){return!!wt&&z()(wt)==="object"}var Ot=$;function Pt(wt,ct){var jt=Object.keys(wt);if(Object.getOwnPropertySymbols){var Xt=Object.getOwnPropertySymbols(wt);ct&&(Xt=Xt.filter(function(It){return Object.getOwnPropertyDescriptor(wt,It).enumerable})),jt.push.apply(jt,Xt)}return jt}function Rt(wt){for(var ct=1;ct<arguments.length;ct++){var jt=arguments[ct]!=null?arguments[ct]:{};ct%2?Pt(Object(jt),!0).forEach(function(Xt){a()(wt,Xt,jt[Xt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(wt,Object.getOwnPropertyDescriptors(jt)):Pt(Object(jt)).forEach(function(Xt){Object.defineProperty(wt,Xt,Object.getOwnPropertyDescriptor(jt,Xt))})}return wt}function Vt(wt){var ct=kt();return function(){var Xt=g()(wt),It;if(ct){var Ut=g()(this).constructor;It=Reflect.construct(Xt,arguments,Ut)}else It=Xt.apply(this,arguments);return C()(this,It)}}function kt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(wt){return!1}}var Wt=function(wt){b()(jt,wt);var ct=Vt(jt);function jt(Xt){var It;return O()(this,jt),It=ct.call(this,Xt),It.dirty=!0,It.attributes=[],It.indices=void 0,It.indicesBuffer=void 0,It.vertexCount=0,It.maxInstancedCount=void 0,It.aabb=void 0,It.entity=void 0,Object.assign(S()(It),Xt),It}return D()(jt,[{key:"setAttribute",value:function(It,Ut,$t,Ft){var Kt=this.attributes.find(function(ee){return ee.name===It});return Kt?(Kt.data=Ut,Kt.dirty=!0):this.attributes.push(Rt(Rt({dirty:!0,name:It,data:Ut},$t),{},{bufferGetter:Ft})),this.dirty=!0,this}},{key:"setIndex",value:function(It){return this.indices=new Uint32Array(It.buffer?It.buffer:It),this.dirty=!0,this}},{key:"applyMatrix",value:function(It){var Ut=this.attributes.find(function(Ce){var Ge=Ce.name;return Ge==="position"}),$t=this.attributes.find(function(Ce){var Ge=Ce.name;return Ge==="normal"});if(Ut&&(Ut.dirty=!0,Ut.data&&Ut.data.length))for(var Ft=0;Ft<Ut.data.length;Ft+=3){var Kt=R.f.fromValues(Ut.data[Ft],Ut.data[Ft+1],Ut.data[Ft+2],1);R.f.transformMat4(Kt,Kt,It),Ot(Ut.data)?Ut.data.set([Kt[0],Kt[1],Kt[2]],Ft):(Ut.data[Ft]=Kt[0],Ut.data[Ft+1]=Kt[1],Ut.data[Ft+2]=Kt[2])}if($t){var ee=R.a.normalFromMat4(R.a.create(),It);if($t.data&&$t.data.length)for(var ce=0;ce<$t.data.length;ce+=3){var Se=R.e.fromValues($t.data[ce],$t.data[ce+1],$t.data[ce+2]);R.e.transformMat3(Se,Se,ee),R.e.normalize(Se,Se),Ot($t.data)?$t.data.set([Se[0],Se[1],Se[2]],ce):($t.data[ce]=Se[0],$t.data[ce+1]=Se[1],$t.data[ce+2]=Se[2])}}}}]),jt}(U.a)},PHCe:function(Lt,A,i){"use strict";i.d(A,"b",function(){return c}),i.d(A,"c",function(){return a}),i.d(A,"a",function(){return M});function c(O,x){var D=[],E=O[0],S=O[1],p=O[2],b=O[3],y=O[4],C=O[5],I=O[6],g=O[7],R=O[8],U=x[0],W=x[1],z=x[2],B=x[3],L=x[4],w=x[5],F=x[6],V=x[7],Y=x[8];return D[0]=U*E+W*b+z*I,D[1]=U*S+W*y+z*g,D[2]=U*p+W*C+z*R,D[3]=B*E+L*b+w*I,D[4]=B*S+L*y+w*g,D[5]=B*p+L*C+w*R,D[6]=F*E+V*b+Y*I,D[7]=F*S+V*y+Y*g,D[8]=F*p+V*C+Y*R,D}function a(O,x){var D=[],E=x[0],S=x[1];return D[0]=O[0]*E+O[3]*S+O[6],D[1]=O[1]*E+O[4]*S+O[7],D}function M(O){var x=[],D=O[0],E=O[1],S=O[2],p=O[3],b=O[4],y=O[5],C=O[6],I=O[7],g=O[8],R=g*b-y*I,U=-g*p+y*C,W=I*p-b*C,z=D*R+E*U+S*W;return z?(z=1/z,x[0]=R*z,x[1]=(-g*E+S*I)*z,x[2]=(y*E-S*b)*z,x[3]=U*z,x[4]=(g*D-S*C)*z,x[5]=(-y*D+S*p)*z,x[6]=W*z,x[7]=(-I*D+E*C)*z,x[8]=(b*D-E*p)*z,x):null}},PJ1B:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.createSensor=void 0;var c=M(i("5M8n")),a=i("MPYE");function M(x){return x&&x.__esModule?x:{default:x}}var O=function(D){var E=void 0,S=[],p=function(){getComputedStyle(D).position==="static"&&(D.style.position="relative");var R=document.createElement("object");return R.onload=function(){R.contentDocument.defaultView.addEventListener("resize",b),b()},R.style.display="block",R.style.position="absolute",R.style.top="0",R.style.left="0",R.style.height="100%",R.style.width="100%",R.style.overflow="hidden",R.style.pointerEvents="none",R.style.zIndex="-1",R.style.opacity="0",R.setAttribute("class",a.SensorClassName),R.setAttribute("tabindex",a.SensorTabIndex),R.type="text/html",D.appendChild(R),R.data="about:blank",R},b=(0,c.default)(function(){S.forEach(function(g){g(D)})}),y=function(R){E||(E=p()),S.indexOf(R)===-1&&S.push(R)},C=function(){E&&E.parentNode&&(E.contentDocument&&E.contentDocument.defaultView.removeEventListener("resize",b),E.parentNode.removeChild(E),E=void 0,S=[])},I=function(R){var U=S.indexOf(R);U!==-1&&S.splice(U,1),S.length===0&&E&&C()};return{element:D,bind:y,destroy:C,unbind:I}};A.createSensor=O},PdHs:function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=a[0]*M[0],c[1]=a[1]*M[1],c}},PkPV:function(Lt,A,i){"use strict";i.d(A,"a",function(){return w});var c=i("QJLF"),a=i.n(c),M=i("16OP"),O=i.n(M),x=i("7Nom"),D=i.n(x),E=i("cW+D"),S=i.n(E),p=i("oOaK"),b=i.n(p),y=i("vpv6"),C=i.n(y),I=i("G5xY"),g=i.n(I),R=i("2Pg9"),U=i("Hg9g");function W(F,V){var Y=Object.keys(F);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(F);V&&(tt=tt.filter(function(q){return Object.getOwnPropertyDescriptor(F,q).enumerable})),Y.push.apply(Y,tt)}return Y}function z(F){for(var V=1;V<arguments.length;V++){var Y=arguments[V]!=null?arguments[V]:{};V%2?W(Object(Y),!0).forEach(function(tt){a()(F,tt,Y[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(Y)):W(Object(Y)).forEach(function(tt){Object.defineProperty(F,tt,Object.getOwnPropertyDescriptor(Y,tt))})}return F}function B(F){var V=L();return function(){var tt=g()(F),q;if(V){var H=g()(this).constructor;q=Reflect.construct(tt,arguments,H)}else q=tt.apply(this,arguments);return C()(this,q)}}function L(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(F){return!1}}var w=function(F){b()(Y,F);var V=B(Y);function Y(tt){var q;return O()(this,Y),q=V.call(this,tt),q.vertexShaderGLSL=void 0,q.fragmentShaderGLSL=void 0,q.defines={},q.dirty=!0,q.uniforms=[],q.cull={enable:!0,face:R.gl.BACK},q.depth={enable:!0},q.blend=void 0,q.entity=void 0,q.type=void 0,Object.assign(S()(q),tt),q}return D()(Y,[{key:"setDefines",value:function(q){return this.defines=z(z({},this.defines),q),this}},{key:"setCull",value:function(q){return this.cull=q,this}},{key:"setDepth",value:function(q){return this.depth=q,this}},{key:"setBlend",value:function(q){return this.blend=q,this}},{key:"setUniform",value:function(q,H){var Q=this;if(typeof q!="string")return Object.keys(q).forEach(function(K){return Q.setUniform(K,q[K])}),this;var k=this.uniforms.find(function(K){return K.name===q});return k?(k.dirty=!0,k.data=H):this.uniforms.push({name:q,dirty:!0,data:H}),this.dirty=!0,this}}]),Y}(U.a)},Pmht:function(Lt,A,i){"use strict";var c=i("ZVT1");i.d(A,"gl",function(){return c.a});var a=i("5/ae"),M=i.n(a),O=i("vdmW"),x=i.n(O),D=i("/pXD"),E=i.n(D),S=i("sn46"),p=i.n(S),b=i("1ZgE"),y=i.n(b),C=i("VRwR"),I=i.n(C),g=i("zui5"),R=i("JJn1"),U=i.n(R),W=i("TZFZ"),z=i.n(W),B=i("OpA2"),L=i.n(B),w=i("m0YO"),F=i.n(w)},PoGV:function(Lt,A,i){var c=i("XSdR"),a=i("hppO"),M=i("43gi").Graph;Lt.exports={debugOrdering:O};function O(x){var D=a.buildLayerMatrix(x),E=new M({compound:!0,multigraph:!0}).setGraph({});return c.forEach(x.nodes(),function(S){E.setNode(S,{label:S}),E.setParent(S,"layer"+x.node(S).rank)}),c.forEach(x.edges(),function(S){E.setEdge(S.v,S.w,{},S.name)}),c.forEach(D,function(S,p){var b="layer"+p;E.setNode(b,{rank:"same"}),c.reduce(S,function(y,C){return E.setEdge(y,C,{style:"invis"}),C})}),E}},PrMP:function(Lt,A,i){"use strict";i.d(A,"a",function(){return q});var c=i("CMID"),a=i("8Mtd"),M=i("VZin"),O={opacity:0},x={stroke:"#C5C5C5",strokeOpacity:.85},D={fill:"#CACED4",opacity:.85},E=i("WOt1"),S=i("r+uu");function p(Q){return Object(a.map)(Q,function(k,K){var nt=K===0?"M":"L",lt=k[0],ut=k[1];return[nt,lt,ut]})}function b(Q){return p(Q)}function y(Q){if(Q.length<=2)return b(Q);var k=[];Object(a.each)(Q,function(rt){Object(a.isEqual)(rt,k.slice(k.length-2))||k.push(rt[0],rt[1])});var K=Object(E.a)(k,!1),nt=Object(a.head)(Q),lt=nt[0],ut=nt[1];return K.unshift(["M",lt,ut]),K}function C(Q,k,K,nt){nt===void 0&&(nt=!0);var lt=new S.b({values:Q}),ut=new S.a({values:Object(a.map)(Q,function(ot,dt){return dt})}),rt=Object(a.map)(Q,function(ot,dt){return[ut.scale(dt)*k,K-lt.scale(ot)*K]});return nt?y(rt):b(rt)}function I(Q,k){var K=new S.b({values:Q}),nt=Math.max(0,K.min);return k-K.scale(nt)*k}function g(Q,k,K,nt){var lt=Object(c.__spreadArrays)(Q),ut=I(nt,K);return lt.push(["L",k,ut]),lt.push(["L",0,ut]),lt.push(["Z"]),lt}var R=function(Q){Object(c.__extends)(k,Q);function k(){return Q!==null&&Q.apply(this,arguments)||this}return k.prototype.getDefaultCfg=function(){var K=Q.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},K),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:O,lineStyle:x,areaStyle:D})},k.prototype.renderInner=function(K){var nt=this.cfg,lt=nt.width,ut=nt.height,rt=nt.data,ot=nt.smooth,dt=nt.isArea,Mt=nt.backgroundStyle,Nt=nt.lineStyle,ht=nt.areaStyle;this.addShape(K,{id:this.getElementId("background"),type:"rect",attrs:Object(c.__assign)({x:0,y:0,width:lt,height:ut},Mt)});var yt=C(rt,lt,ut,ot);if(this.addShape(K,{id:this.getElementId("line"),type:"path",attrs:Object(c.__assign)({path:yt},Nt)}),dt){var ft=g(yt,lt,ut,rt);this.addShape(K,{id:this.getElementId("area"),type:"path",attrs:Object(c.__assign)({path:ft},ht)})}},k.prototype.applyOffset=function(){var K=this.cfg,nt=K.x,lt=K.y;this.moveElementTo(this.get("group"),{x:nt,y:lt})},k}(M.a),U=R,W={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},z=function(Q){Object(c.__extends)(k,Q);function k(){return Q!==null&&Q.apply(this,arguments)||this}return k.prototype.getDefaultCfg=function(){var K=Q.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},K),{name:"handler",x:0,y:0,width:10,height:24,style:W})},k.prototype.renderInner=function(K){var nt=this.cfg,lt=nt.width,ut=nt.height,rt=nt.style,ot=rt.fill,dt=rt.stroke,Mt=rt.radius,Nt=rt.opacity,ht=rt.cursor;this.addShape(K,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:lt,height:ut,fill:ot,stroke:dt,radius:Mt,opacity:Nt,cursor:ht}});var yt=1/3*lt,ft=2/3*lt,st=1/4*ut,xt=3/4*ut;this.addShape(K,{id:this.getElementId("line-left"),type:"line",attrs:{x1:yt,y1:st,x2:yt,y2:xt,stroke:dt,cursor:ht}}),this.addShape(K,{id:this.getElementId("line-right"),type:"line",attrs:{x1:ft,y1:st,x2:ft,y2:xt,stroke:dt,cursor:ht}})},k.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},k.prototype.initEvent=function(){this.bindEvents()},k.prototype.bindEvents=function(){var K=this;this.get("group").on("mouseenter",function(){var nt=K.get("style").highLightFill;K.getElementByLocalId("background").attr("fill",nt),K.draw()}),this.get("group").on("mouseleave",function(){var nt=K.get("style").fill;K.getElementByLocalId("background").attr("fill",nt),K.draw()})},k.prototype.draw=function(){var K=this.get("container").get("canvas");K&&K.draw()},k}(M.a),B=z,L={fill:"#416180",opacity:.05},w={fill:"#5B8FF9",opacity:.15,cursor:"move"},F=10,V={width:F,height:24},Y={textBaseline:"middle",fill:"#000",opacity:.45},tt="sliderchange",q=function(Q){Object(c.__extends)(k,Q);function k(){var K=Q!==null&&Q.apply(this,arguments)||this;return K.onMouseDown=function(nt){return function(lt){K.currentTarget=nt;var ut=lt.originalEvent;ut.stopPropagation(),ut.preventDefault(),K.prevX=Object(a.get)(ut,"touches.0.pageX",ut.pageX),K.prevY=Object(a.get)(ut,"touches.0.pageY",ut.pageY);var rt=K.getContainerDOM();rt.addEventListener("mousemove",K.onMouseMove),rt.addEventListener("mouseup",K.onMouseUp),rt.addEventListener("mouseleave",K.onMouseUp),rt.addEventListener("touchmove",K.onMouseMove),rt.addEventListener("touchend",K.onMouseUp),rt.addEventListener("touchcancel",K.onMouseUp)}},K.onMouseMove=function(nt){var lt=K.cfg.width,ut=[K.get("start"),K.get("end")];nt.stopPropagation(),nt.preventDefault();var rt=Object(a.get)(nt,"touches.0.pageX",nt.pageX),ot=Object(a.get)(nt,"touches.0.pageY",nt.pageY),dt=rt-K.prevX,Mt=K.adjustOffsetRange(dt/lt);K.updateStartEnd(Mt),K.updateUI(K.getElementByLocalId("foreground"),K.getElementByLocalId("minText"),K.getElementByLocalId("maxText")),K.prevX=rt,K.prevY=ot,K.draw(),K.emit(tt,[K.get("start"),K.get("end")].sort()),K.delegateEmit("valuechanged",{originValue:ut,value:[K.get("start"),K.get("end")]})},K.onMouseUp=function(){K.currentTarget&&(K.currentTarget=void 0);var nt=K.getContainerDOM();nt&&(nt.removeEventListener("mousemove",K.onMouseMove),nt.removeEventListener("mouseup",K.onMouseUp),nt.removeEventListener("mouseleave",K.onMouseUp),nt.removeEventListener("touchmove",K.onMouseMove),nt.removeEventListener("touchend",K.onMouseUp),nt.removeEventListener("touchcancel",K.onMouseUp))},K}return k.prototype.setRange=function(K,nt){this.set("minLimit",K),this.set("maxLimit",nt);var lt=this.get("start"),ut=this.get("end"),rt=Object(a.clamp)(lt,K,nt),ot=Object(a.clamp)(ut,K,nt);!this.get("isInit")&&(lt!==rt||ut!==ot)&&this.setValue([rt,ot])},k.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},k.prototype.setValue=function(K){var nt=this.getRange();if(Object(a.isArray)(K)&&K.length===2){var lt=[this.get("start"),this.get("end")];this.update({start:Object(a.clamp)(K[0],nt.min,nt.max),end:Object(a.clamp)(K[1],nt.min,nt.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:lt,value:K})}},k.prototype.getValue=function(){return[this.get("start"),this.get("end")]},k.prototype.getDefaultCfg=function(){var K=Q.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},K),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:L,foregroundStyle:w,handlerStyle:V,textStyle:Y}})},k.prototype.update=function(K){var nt=K.start,lt=K.end,ut=Object(c.__assign)({},K);Object(a.isNil)(nt)||(ut.start=Object(a.clamp)(nt,0,1)),Object(a.isNil)(lt)||(ut.end=Object(a.clamp)(lt,0,1)),Q.prototype.update.call(this,ut),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},k.prototype.init=function(){this.set("start",Object(a.clamp)(this.get("start"),0,1)),this.set("end",Object(a.clamp)(this.get("end"),0,1)),Q.prototype.init.call(this)},k.prototype.render=function(){Q.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},k.prototype.renderInner=function(K){var nt=this.cfg,lt=nt.start,ut=nt.end,rt=nt.width,ot=nt.height,dt=nt.trendCfg,Mt=dt===void 0?{}:dt,Nt=nt.minText,ht=nt.maxText,yt=nt.backgroundStyle,ft=yt===void 0?{}:yt,st=nt.foregroundStyle,xt=st===void 0?{}:st,gt=nt.textStyle,At=gt===void 0?{}:gt,pt=Object(a.deepMix)({},W,this.cfg.handlerStyle),_=lt*rt,$=ut*rt;Object(a.size)(Object(a.get)(Mt,"data"))&&(this.trend=this.addComponent(K,Object(c.__assign)({component:R,id:this.getElementId("trend"),x:0,y:0,width:rt,height:ot},Mt))),this.addShape(K,{id:this.getElementId("background"),type:"rect",attrs:Object(c.__assign)({x:0,y:0,width:rt,height:ot},ft)});var bt=this.addShape(K,{id:this.getElementId("minText"),type:"text",attrs:Object(c.__assign)({y:ot/2,textAlign:"right",text:Nt,silent:!1},At)}),it=this.addShape(K,{id:this.getElementId("maxText"),type:"text",attrs:Object(c.__assign)({y:ot/2,textAlign:"left",text:ht,silent:!1},At)}),Ot=this.addShape(K,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(c.__assign)({y:0,height:ot},xt)}),Pt=Object(a.get)(pt,"width",F),Rt=Object(a.get)(pt,"height",24);this.minHandler=this.addComponent(K,{component:z,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(ot-Rt)/2,width:Pt,height:Rt,cursor:"ew-resize",style:pt}),this.maxHandler=this.addComponent(K,{component:z,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(ot-Rt)/2,width:Pt,height:Rt,cursor:"ew-resize",style:pt})},k.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},k.prototype.initEvent=function(){this.bindEvents()},k.prototype.updateUI=function(K,nt,lt){var ut=this.cfg,rt=ut.start,ot=ut.end,dt=ut.width,Mt=ut.minText,Nt=ut.maxText,ht=ut.handlerStyle,yt=ut.height,ft=rt*dt,st=ot*dt;this.trend&&(this.trend.update({width:dt,height:yt}),this.get("updateAutoRender")||this.trend.render()),K.attr("x",ft),K.attr("width",st-ft);var xt=Object(a.get)(ht,"width",F);nt.attr("text",Mt),lt.attr("text",Nt);var gt=this._dodgeText([ft,st],nt,lt),At=gt[0],pt=gt[1];this.minHandler&&(this.minHandler.update({x:ft-xt/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(a.each)(At,function(_,$){return nt.attr($,_)}),this.maxHandler&&(this.maxHandler.update({x:st-xt/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(a.each)(pt,function(_,$){return lt.attr($,_)})},k.prototype.bindEvents=function(){var K=this.get("group");K.on("handler-min:mousedown",this.onMouseDown("minHandler")),K.on("handler-min:touchstart",this.onMouseDown("minHandler")),K.on("handler-max:mousedown",this.onMouseDown("maxHandler")),K.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var nt=K.findById(this.getElementId("foreground"));nt.on("mousedown",this.onMouseDown("foreground")),nt.on("touchstart",this.onMouseDown("foreground"))},k.prototype.adjustOffsetRange=function(K){var nt=this.cfg,lt=nt.start,ut=nt.end;switch(this.currentTarget){case"minHandler":{var rt=0-lt,ot=1-lt;return Math.min(ot,Math.max(rt,K))}case"maxHandler":{var rt=0-ut,ot=1-ut;return Math.min(ot,Math.max(rt,K))}case"foreground":{var rt=0-lt,ot=1-ut;return Math.min(ot,Math.max(rt,K))}}},k.prototype.updateStartEnd=function(K){var nt=this.cfg,lt=nt.start,ut=nt.end;switch(this.currentTarget){case"minHandler":lt+=K;break;case"maxHandler":ut+=K;break;case"foreground":lt+=K,ut+=K;break}this.set("start",lt),this.set("end",ut)},k.prototype._dodgeText=function(K,nt,lt){var ut,rt,ot=this.cfg,dt=ot.handlerStyle,Mt=ot.width,Nt=2,ht=Object(a.get)(dt,"width",F),yt=K[0],ft=K[1],st=!1;yt>ft&&(ut=[ft,yt],yt=ut[0],ft=ut[1],rt=[lt,nt],nt=rt[0],lt=rt[1],st=!0);var xt=nt.getBBox(),gt=lt.getBBox(),At=xt.width>yt-Nt?{x:yt+ht/2+Nt,textAlign:"left"}:{x:yt-ht/2-Nt,textAlign:"right"},pt=gt.width>Mt-ft-Nt?{x:ft-ht/2-Nt,textAlign:"right"}:{x:ft+ht/2+Nt,textAlign:"left"};return st?[pt,At]:[At,pt]},k.prototype.draw=function(){var K=this.get("container"),nt=K&&K.get("canvas");nt&&nt.draw()},k.prototype.getContainerDOM=function(){var K=this.get("container"),nt=K&&K.get("canvas");return nt&&nt.get("container")},k}(M.a),H=q},PwAq:function(Lt,A){var i=[],c=[],a="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function M(x,D){if(D=D||{},x===void 0)throw new Error(a);var E=D.prepend===!0?"prepend":"append",S=D.container!==void 0?D.container:document.querySelector("head"),p=i.indexOf(S);p===-1&&(p=i.push(S)-1,c[p]={});var b;return c[p]!==void 0&&c[p][E]!==void 0?b=c[p][E]:(b=c[p][E]=O(),E==="prepend"?S.insertBefore(b,S.childNodes[0]):S.appendChild(b)),x.charCodeAt(0)===65279&&(x=x.substr(1,x.length)),b.styleSheet?b.styleSheet.cssText+=x:b.textContent+=x,b}function O(){var x=document.createElement("style");return x.setAttribute("type","text/css"),x}Lt.exports=M,Lt.exports.insertCss=M},"Q+aX":function(Lt,A,i){Lt.exports=a;var c=i("jFP1")();function a(M,O,x,D,E,S){var p,b;for(O||(O=2),x||(x=0),D?b=Math.min(D*O+x,M.length):b=M.length,p=x;p<b;p+=O)c[0]=M[p],c[1]=M[p+1],E(c,c,S),M[p]=c[0],M[p+1]=c[1];return M}},Q55c:function(Lt,A,i){"use strict";var c=i("T1Zk");i.d(A,"getAdjust",function(){return c.getAdjust});var a=i("5Kaj"),M=i("vAzl"),O=i("tKNA"),x=i("Swz8"),D=i("ANdP"),E=i("X5ku"),S=i.n(E);Object(c.registerAdjust)("Dodge",M.a),Object(c.registerAdjust)("Jitter",O.a),Object(c.registerAdjust)("Stack",x.a),Object(c.registerAdjust)("Symmetric",D.a)},Q8h2:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AsyncContainerModule=A.ContainerModule=void 0;var c=i("qSJf"),a=function(){function O(x){this.id=c.id(),this.registry=x}return O}();A.ContainerModule=a;var M=function(){function O(x){this.id=c.id(),this.registry=x}return O}();A.AsyncContainerModule=M},QArz:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getOutDegree=A.getInDegree=A.default=void 0;var c=function(D){var E={},S=D.nodes,p=S===void 0?[]:S,b=D.edges,y=b===void 0?[]:b;return p.forEach(function(C){E[C.id]={degree:0,inDegree:0,outDegree:0}}),y.forEach(function(C){E[C.source].degree++,E[C.source].outDegree++,E[C.target].degree++,E[C.target].inDegree++}),E},a=c;A.default=a;var M=function(D,E){var S=c(D);return S[E]?c(D)[E].inDegree:0};A.getInDegree=M;var O=function(D,E){var S=c(D);return S[E]?c(D)[E].outDegree:0};A.getOutDegree=O},R5yz:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=function(x,D){return x-D},a=function(){function O(x){x===void 0&&(x=c),this.compareFn=x,this.list=[]}return O.prototype.getLeft=function(x){return 2*x+1},O.prototype.getRight=function(x){return 2*x+2},O.prototype.getParent=function(x){return x===0?null:Math.floor((x-1)/2)},O.prototype.isEmpty=function(){return this.list.length<=0},O.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},O.prototype.delMin=function(){var x=this.top(),D=this.list.pop();return this.list.length>0&&(this.list[0]=D,this.moveDown(0)),x},O.prototype.insert=function(x){if(x!==null){this.list.push(x);var D=this.list.length-1;return this.moveUp(D),!0}return!1},O.prototype.moveUp=function(x){for(var D=this.getParent(x);x&&x>0&&this.compareFn(this.list[D],this.list[x])>0;){var E=this.list[D];this.list[D]=this.list[x],this.list[x]=E,x=D,D=this.getParent(x)}},O.prototype.moveDown=function(x){var D,E=x,S=this.getLeft(x),p=this.getRight(x),b=this.list.length;S!==null&&S<b&&this.compareFn(this.list[E],this.list[S])>0?E=S:p!==null&&p<b&&this.compareFn(this.list[E],this.list[p])>0&&(E=p),x!==E&&(D=[this.list[E],this.list[x]],this.list[x]=D[0],this.list[E]=D[1],this.moveDown(E))},O}(),M=a;A.default=M},RHEd:function(Lt,A){function i(c,a,M,O){!M||Object.defineProperty(c,a,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(O):void 0})}Lt.exports=i,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},"RV5/":function(Lt,A,i){Lt.exports={EPSILON:i("pHwo"),create:i("jFP1"),clone:i("Z23w"),fromValues:i("44Go"),copy:i("r/Jg"),set:i("0mwY"),equals:i("HAYd"),exactEquals:i("kGri"),add:i("+2Ae"),subtract:i("EpgB"),sub:i("/XgH"),multiply:i("PdHs"),mul:i("pUwi"),divide:i("/Ykl"),div:i("jCkg"),inverse:i("eo7c"),min:i("X4CS"),max:i("EZfi"),rotate:i("iUtP"),floor:i("naqw"),ceil:i("zJ04"),round:i("JJ9t"),scale:i("SwPz"),scaleAndAdd:i("aMRv"),distance:i("rBQE"),dist:i("BTaQ"),squaredDistance:i("5LP0"),sqrDist:i("Zkfg"),length:i("oobg"),len:i("5Am0"),squaredLength:i("ebDh"),sqrLen:i("zEOA"),negate:i("MGR1"),normalize:i("8+ZV"),dot:i("FolP"),cross:i("WLqU"),lerp:i("COEK"),random:i("ylrI"),transformMat2:i("fI7b"),transformMat2d:i("WzGa"),transformMat3:i("wMWh"),transformMat4:i("Rj9g"),forEach:i("Q+aX"),limit:i("3zSj")}},RZav:function(Lt,A,i){"use strict";i.d(A,"c",function(){return C}),i.d(A,"b",function(){return g}),i.d(A,"a",function(){return w});var c=i("CMID"),a=i("8Mtd"),M=i("Jze/"),O=i("Yz/u"),x=i("s9g+"),D=i("fxXO"),E={exp:D.regressionExp,linear:D.regressionLinear,loess:D.regressionLoess,log:D.regressionLog,poly:D.regressionPoly,pow:D.regressionPow,quad:D.regressionQuad};function S(F,V){var Y=10,tt={regionStyle:[{position:{start:[F,"max"],end:["max",V]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[F,V]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",V],end:[F,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[F,V],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",V],offsetX:-Y,offsetY:-Y,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",V],offsetX:Y,offsetY:-Y,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",V],offsetX:Y,offsetY:Y,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",V],offsetX:-Y,offsetY:Y,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return tt}var p=function(F,V){var Y=V.view,tt=V.options,q=tt.xField,H=tt.yField,Q=Y.getScaleByField(q),k=Y.getScaleByField(H),K=F.map(function(nt){return Y.getCoordinate().convert({x:Q.scale(nt[0]),y:k.scale(nt[1])})});return Object(M.l)(K,!1)},b=function(F){var V=F.options,Y=V.xField,tt=V.yField,q=V.data,H=V.regressionLine,Q=H.type,k=Q===void 0?"linear":Q,K=H.algorithm,nt;if(K)nt=Object(a.isArray)(K)?K:K(q);else{var lt=E[k]().x(function(ut){return ut[Y]}).y(function(ut){return ut[tt]});nt=lt(q)}return p(nt,F)},y=function(F){var V,Y=F.meta,tt=Y===void 0?{}:Y,q=F.xField,H=F.yField,Q=F.data,k=Q[0][q],K=Q[0][H],nt=k>0,lt=K>0;function ut(rt,ot){var dt=Object(a.get)(tt,[rt]);function Mt(ht){return Object(a.get)(dt,ht)}var Nt={};return ot==="x"?(Object(a.isNumber)(k)&&(Object(a.isNumber)(Mt("min"))||(Nt.min=nt?0:k*2),Object(a.isNumber)(Mt("max"))||(Nt.max=nt?k*2:0)),Nt):(Object(a.isNumber)(K)&&(Object(a.isNumber)(Mt("min"))||(Nt.min=lt?0:K*2),Object(a.isNumber)(Mt("max"))||(Nt.max=lt?K*2:0)),Nt)}return Object(c.__assign)(Object(c.__assign)({},tt),(V={},V[q]=Object(c.__assign)(Object(c.__assign)({},tt[q]),ut(q,"x")),V[H]=Object(c.__assign)(Object(c.__assign)({},tt[H]),ut(H,"y")),V))};function C(F){var V=F.data,Y=V===void 0?[]:V,tt=F.xField,q=F.yField;if(Y.length){for(var H=!0,Q=!0,k=Y[0],K=void 0,nt=1;nt<Y.length&&(K=Y[nt],k[tt]!==K[tt]&&(H=!1),k[q]!==K[q]&&(Q=!1),!(!H&&!Q));nt++)k=K;var lt=[];H&&lt.push(tt),Q&&lt.push(q);var ut=Object(M.s)(y(F),lt);return Object(M.c)({},F,{meta:ut})}return F}function I(F){var V=F.chart,Y=F.options,tt=Y.data,q=Y.type,H=Y.color,Q=Y.shape,k=Y.pointStyle,K=Y.shapeField,nt=Y.colorField,lt=Y.xField,ut=Y.yField,rt=Y.sizeField,ot=Y.size,dt=Y.tooltip;rt&&(ot||(ot=[2,8]),Object(a.isNumber)(ot)&&(ot=[ot,ot])),dt&&!dt.fields&&(dt=Object(c.__assign)(Object(c.__assign)({},dt),{fields:[lt,ut,nt,rt,K]})),V.data(tt),Object(O.e)(Object(M.c)({},F,{options:{seriesField:nt,point:{color:H,shape:Q,size:ot,style:k},tooltip:dt}}));var Mt=Object(M.d)(V,"point");return q&&Mt.adjust(q),F}function g(F){var V,Y=F.options,tt=Y.xAxis,q=Y.yAxis,H=Y.xField,Q=Y.yField,k=C(Y);return Object(M.f)(Object(x.f)((V={},V[H]=tt,V[Q]=q,V)))(Object(M.c)({},F,{options:k}))}function R(F){var V=F.chart,Y=F.options,tt=Y.xAxis,q=Y.yAxis,H=Y.xField,Q=Y.yField;return V.axis(H,tt),V.axis(Q,q),F}function U(F){var V=F.chart,Y=F.options,tt=Y.legend,q=Y.colorField,H=Y.shapeField,Q=Y.sizeField,k=Y.shapeLegend,K=Y.sizeLegend,nt=tt!==!1;return q&&V.legend(q,nt?tt:!1),H&&(k?V.legend(H,k):V.legend(H,k===!1?!1:tt)),Q&&V.legend(Q,K||!1),!nt&&!k&&!K&&V.legend(!1),F}function W(F){var V=F.chart,Y=F.options,tt=Y.label,q=Y.yField,H=Object(M.d)(V,"point");if(!tt)H.label(!1);else{var Q=tt.callback,k=Object(c.__rest)(tt,["callback"]);H.label({fields:[q],callback:Q,cfg:Object(M.y)(k)})}return F}function z(F){var V=F.options,Y=V.quadrant,tt=[];if(Y){var q=Y.xBaseline,H=q===void 0?0:q,Q=Y.yBaseline,k=Q===void 0?0:Q,K=Y.labels,nt=Y.regionStyle,lt=Y.lineStyle,ut=S(H,k),rt=new Array(4).join(",").split(",");rt.forEach(function(ot,dt){tt.push(Object(c.__assign)(Object(c.__assign)({type:"region",top:!1},ut.regionStyle[dt].position),{style:Object(M.c)({},ut.regionStyle[dt].style,nt==null?void 0:nt[dt])}),Object(c.__assign)({type:"text",top:!0},Object(M.c)({},ut.labelStyle[dt],K==null?void 0:K[dt])))}),tt.push({type:"line",top:!1,start:["min",k],end:["max",k],style:Object(M.c)({},ut.lineStyle,lt)},{type:"line",top:!1,start:[H,"min"],end:[H,"max"],style:Object(M.c)({},ut.lineStyle,lt)})}return Object(M.f)(Object(x.b)(tt))(F)}function B(F){var V=F.options,Y=F.chart,tt=V.regressionLine;if(tt){var q=tt.style,H=tt.top,Q=H===void 0?!1:H,k={stroke:"#9ba29a",lineWidth:2,opacity:.5};Y.annotation().shape({top:Q,render:function(K,nt){var lt=K.addGroup({id:Y.id+"-regression-line",name:"regression-line-group"}),ut=b({view:nt,options:V});lt.addShape("path",{name:"regression-line",attrs:Object(c.__assign)(Object(c.__assign)({path:ut},k),q)})}})}return F}function L(F){var V=F.chart,Y=F.options,tt=Y.tooltip;return tt?V.tooltip(tt):tt===!1&&V.tooltip(!1),F}function w(F){return Object(M.f)(I,g,R,U,L,W,x.c,z,x.a,x.j,B)(F)}},RaWV:function(Lt,A){function i(c,a,M,O){var x=-1,D=c==null?0:c.length;for(O&&D&&(M=c[++x]);++x<D;)M=a(M,c[x],x,c);return M}Lt.exports=i},Rj9g:function(Lt,A){Lt.exports=i;function i(c,a,M){var O=a[0],x=a[1];return c[0]=M[0]*O+M[4]*x+M[12],c[1]=M[1]*O+M[5]*x+M[13],c}},"Rph/":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.circularDependencyToException=A.listMetadataForTarget=A.listRegisteredBindingsForServiceIdentifier=A.getServiceIdentifierAsString=A.getFunctionName=void 0;var c=i("196R");function a(p){if(typeof p=="function"){var b=p;return b.name}else{if(typeof p=="symbol")return p.toString();var b=p;return b}}A.getServiceIdentifierAsString=a;function M(p,b,y){var C="",I=y(p,b);return I.length!==0&&(C=`
Registered bindings:`,I.forEach(function(g){var R="Object";g.implementationType!==null&&(R=S(g.implementationType)),C=C+`
 `+R,g.constraint.metaData&&(C=C+" - "+g.constraint.metaData)})),C}A.listRegisteredBindingsForServiceIdentifier=M;function O(p,b){return p.parentRequest===null?!1:p.parentRequest.serviceIdentifier===b?!0:O(p.parentRequest,b)}function x(p){function b(C,I){I===void 0&&(I=[]);var g=a(C.serviceIdentifier);return I.push(g),C.parentRequest!==null?b(C.parentRequest,I):I}var y=b(p);return y.reverse().join(" --> ")}function D(p){p.childRequests.forEach(function(b){if(O(b,b.serviceIdentifier)){var y=x(b);throw new Error(c.CIRCULAR_DEPENDENCY+" "+y)}else D(b)})}A.circularDependencyToException=D;function E(p,b){if(b.isTagged()||b.isNamed()){var y="",C=b.getNamedTag(),I=b.getCustomTags();return C!==null&&(y+=C.toString()+`
`),I!==null&&I.forEach(function(g){y+=g.toString()+`
`})," "+p+`
 `+p+" - "+y}else return" "+p}A.listMetadataForTarget=E;function S(p){if(p.name)return p.name;var b=p.toString(),y=b.match(/^function\s*([^\s(]+)/);return y?y[1]:"Anonymous function: "+b}A.getFunctionName=S},"RtY/":function(Lt,A,i){"use strict";i.d(A,"a",function(){return nt});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("RHEd"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("4OuL"),b=i.n(p),y=i("r1m7"),C=i.n(y),I=i("YcyD"),g=i.n(I),R=i("XN3X"),U=i("ZVT1"),W=i("K4bE"),z,B,L,w,F,V,Y,tt,q,H=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,Q=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,k=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,K=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,nt=(z=Object(I.injectable)(),B=Object(I.inject)(R.a.RenderEngine),L=Object(I.inject)(R.a.ResourcePool),z(w=(F=(q=tt=function lt(){var ut=this;S()(this,lt),D()(this,"engine",V,this),D()(this,"resourcePool",Y,this),this.model=void 0,this.setup=function(rt,ot,dt){var Mt=rt.getPass(W.a.IDENTIFIER);if(Mt){var Nt=rt.createRenderTarget(ot,"render to screen",{width:1,height:1});dt.data={input:ot.read(Mt.data.output),output:ot.write(rt,Nt)}}},this.execute=function(){var rt=O()(a.a.mark(function ot(dt,Mt){var Nt,ht,yt,ft,st,xt,gt;return a.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(Nt=ut.engine,ht=Nt.createModel,yt=Nt.createAttribute,ft=Nt.createBuffer,ut.model){pt.next=6;break}return pt.next=4,ht({vs:ut.engine.supportWebGPU?K:Q,fs:ut.engine.supportWebGPU?k:H,attributes:{a_Position:yt({buffer:ft({data:[-4,-4,4,-4,0,4],type:U.a.FLOAT}),size:2,arrayStride:2*4,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:st=pt.sent,ut.model=st;case 6:xt=dt.getResourceNode(Mt.data.input),gt=ut.resourcePool.getOrCreateResource(xt.resource),ut.engine.useFramebuffer(null,function(){ut.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),ut.model.draw({uniforms:{u_Texture:gt}})});case 9:case"end":return pt.stop()}},ot)}));return function(ot,dt){return rt.apply(this,arguments)}}(),this.tearDown=function(){ut.model=void 0}},tt.IDENTIFIER="Copy Pass",q),V=b()(F.prototype,"engine",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=b()(F.prototype,"resourcePool",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F))||w)},RxI3:function(Lt,A,i){"use strict";i.d(A,"a",function(){return rt});var c=i("8Mtd"),a=i("s9g+"),M=i("xPJu"),O=i("Jze/"),x=i("wh5Q"),D=i("CMID"),E=i("4517"),S=i("mT8n"),p=i("neUO");function b(ot,dt,Mt){var Nt=[],ht=Mt.yField,yt=Mt.maxSize,ft=Mt.minSize,st=Object(c.get)(Object(c.maxBy)(dt,ht),[ht]),xt=Object(c.isNumber)(yt)?yt:1,gt=Object(c.isNumber)(ft)?ft:0;return Nt=Object(c.map)(ot,function(At,pt){var _=(At[ht]||0)/st;return At[p.d]=_,At[p.c]=(xt-gt)*_+gt,At[p.b]=[Object(c.get)(ot,[pt-1,ht]),At[ht]],At}),Nt}function y(ot){return function(dt){var Mt=dt.chart,Nt=dt.options,ht=Nt.conversionTag,yt=Mt.getOptions().data;if(ht){var ft=ht.formatter;yt.forEach(function(st,xt){if(!(xt<=0)){var gt=ot(st,xt,yt,{top:!0,text:{content:Object(c.isFunction)(ft)?ft(st,yt):ft,offsetX:ht.offsetX,offsetY:ht.offsetY,position:"end",autoRotate:!1,style:Object(D.__assign)({textAlign:"start",textBaseline:"middle"},ht.style)}});Mt.annotation().line(gt)}})}return dt}}function C(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.data,ht=Nt===void 0?[]:Nt,yt=Mt.yField,ft=Mt.maxSize,st=Mt.minSize,xt=b(ht,ht,{yField:yt,maxSize:ft,minSize:st});return dt.data(xt),ot}function I(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.xField,ht=Mt.yField,yt=Mt.color,ft=Mt.tooltip,st=Mt.label,xt=Mt.shape,gt=xt===void 0?"funnel":xt,At=Mt.funnelStyle,pt=Object(E.a)(ft,[Nt,ht]),_=pt.fields,$=pt.formatter;Object(S.a)({chart:dt,options:{type:"interval",xField:Nt,yField:p.c,colorField:Nt,tooltipFields:Object(c.isArray)(_)&&_.concat([p.d,p.b]),mapping:{shape:gt,tooltip:$,color:yt,style:At},label:st}});var bt=Object(O.d)(ot.chart,"interval");return bt.adjust("symmetric"),ot}function g(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.isTransposed;return dt.coordinate({type:"rect",actions:Nt?[]:[["transpose"],["scale",1,-1]]}),ot}function R(ot){var dt=ot.options,Mt=dt.maxSize,Nt=function(ht,yt,ft,st){var xt=Mt-(Mt-ht[p.c])/2;return Object(D.__assign)(Object(D.__assign)({},st),{start:[yt-.5,xt],end:[yt-.5,xt+.05]})};return y(Nt)(ot),ot}function U(ot){return Object(O.f)(C,I,g,R)(ot)}function W(ot){var dt,Mt=ot.chart,Nt=ot.options,ht=Nt.data,yt=ht===void 0?[]:ht,ft=Nt.yField;return Mt.data(yt),Mt.scale((dt={},dt[ft]={sync:!0},dt)),ot}function z(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.data,ht=Mt.xField,yt=Mt.yField,ft=Mt.color,st=Mt.compareField,xt=Mt.isTransposed,gt=Mt.tooltip,At=Mt.maxSize,pt=Mt.minSize,_=Mt.label,$=Mt.funnelStyle;return dt.facet("mirror",{fields:[st],transpose:!xt,padding:xt?0:[32,0,0,0],eachView:function(bt,it){var Ot=xt?it.rowIndex:it.columnIndex;xt||bt.coordinate({type:"rect",actions:[["transpose"],["scale",Ot===0?-1:1,-1]]});var Pt=b(it.data,Nt,{yField:yt,maxSize:At,minSize:pt});bt.data(Pt);var Rt=Object(E.a)(gt,[ht,yt,st]),Vt=Rt.fields,kt=Rt.formatter,Wt=xt?{offset:Ot===0?10:-23,position:Ot===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:Ot===0?"end":"start"}};Object(S.a)({chart:bt,options:{type:"interval",xField:ht,yField:p.c,colorField:ht,tooltipFields:Object(c.isArray)(Vt)&&Vt.concat([p.d,p.b]),mapping:{shape:"funnel",tooltip:kt,color:ft,style:$},label:_===!1?!1:Object(O.c)({},Wt,_)}})}}),ot}function B(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.conversionTag,ht=Mt.isTransposed;return dt.once("beforepaint",function(){dt.views.forEach(function(yt,ft){var st=function(xt,gt,At,pt){var _=ft===0?-1:1;return Object(O.c)({},pt,{start:[gt-.5,xt[p.c]],end:[gt-.5,xt[p.c]+.05],text:ht?{style:{textAlign:"start"}}:{offsetX:Nt!==!1?_*Nt.offsetX:0,style:{textAlign:ft===0?"end":"start"}}})};y(st)(Object(O.c)({},{chart:yt,options:Mt}))})}),ot}function L(ot){return Object(O.f)(W,z,B)(ot)}function w(ot){var dt,Mt=ot.chart,Nt=ot.options,ht=Nt.data,yt=ht===void 0?[]:ht,ft=Nt.yField;return Mt.data(yt),Mt.scale((dt={},dt[ft]={sync:!0},dt)),ot}function F(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.seriesField,ht=Mt.isTransposed;return dt.facet("rect",{fields:[Nt],padding:[ht?0:32,10,0,10],eachView:function(yt,ft){U(Object(O.c)({},ot,{chart:yt,options:{data:ft.data}}))}}),ot}function V(ot){return Object(O.f)(w,F)(ot)}function Y(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.data,ht=Nt===void 0?[]:Nt,yt=Mt.yField,ft=Object(c.reduce)(ht,function(gt,At){return gt+(At[yt]||0)},0),st=Object(c.maxBy)(ht,yt)[yt],xt=Object(c.map)(ht,function(gt,At){var pt=[],_=[];if(gt[p.e]=(gt[yt]||0)/ft,At){var $=ht[At-1][p.f],bt=ht[At-1][p.g];pt[0]=$[3],_[0]=bt[3],pt[1]=$[2],_[1]=bt[2]}else pt[0]=-.5,_[0]=1,pt[1]=.5,_[1]=1;return _[2]=_[1]-gt[p.e],pt[2]=(_[2]+1)/4,_[3]=_[2],pt[3]=-pt[2],gt[p.f]=pt,gt[p.g]=_,gt[p.d]=(gt[yt]||0)/st,gt[p.b]=[Object(c.get)(ht,[At-1,yt]),gt[yt]],gt});return dt.data(xt),ot}function tt(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.xField,ht=Mt.yField,yt=Mt.color,ft=Mt.tooltip,st=Mt.label,xt=Mt.funnelStyle,gt=Object(E.a)(ft,[Nt,ht]),At=gt.fields,pt=gt.formatter;return Object(S.a)({chart:dt,options:{type:"polygon",xField:p.f,yField:p.g,colorField:Nt,tooltipFields:Object(c.isArray)(At)&&At.concat([p.d,p.b]),label:st,mapping:{tooltip:pt,color:yt,style:xt}}}),ot}function q(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.isTransposed;return dt.coordinate({type:"rect",actions:Nt?[["transpose"],["reflect","x"]]:[]}),ot}function H(ot){var dt=function(Mt,Nt,ht,yt){return Object(D.__assign)(Object(D.__assign)({},yt),{start:[Mt[p.f][1],Mt[p.g][1]],end:[Mt[p.f][1]+.05,Mt[p.g][1]]})};return y(dt)(ot),ot}function Q(ot){return Object(O.f)(Y,tt,q,H)(ot)}function k(ot){var dt=ot.options,Mt=dt.compareField,Nt=dt.xField,ht=dt.yField,yt=dt.locale,ft=dt.funnelStyle,st=Object(M.a)(yt),xt={label:Mt?{fields:[Nt,ht,Mt,p.d,p.b],formatter:function(At){return""+At[ht]}}:{fields:[Nt,ht,p.d,p.b],offset:0,position:"middle",formatter:function(At){return At[Nt]+" "+At[ht]}},tooltip:{title:Nt,formatter:function(At){return{name:At[Nt],value:At[ht]}}},conversionTag:{formatter:function(At){return st.get(["conversionTag","label"])+": "+x.a.apply(void 0,At[p.b])}}},gt;return(Mt||ft)&&(gt=function(At){return Object(O.c)({},Mt&&{lineWidth:1,stroke:"#fff"},Object(c.isFunction)(ft)?ft(At):ft)}),Object(O.c)({options:xt},ot,{options:{funnelStyle:gt}})}function K(ot){var dt=ot.options,Mt=dt.compareField,Nt=dt.dynamicHeight,ht=dt.seriesField;return ht?V(ot):Mt?L(ot):Nt?Q(ot):U(ot)}function nt(ot){var dt,Mt=ot.options,Nt=Mt.xAxis,ht=Mt.yAxis,yt=Mt.xField,ft=Mt.yField;return Object(O.f)(Object(a.f)((dt={},dt[yt]=Nt,dt[ft]=ht,dt)))(ot)}function lt(ot){var dt=ot.chart;return dt.axis(!1),ot}function ut(ot){var dt=ot.chart,Mt=ot.options,Nt=Mt.legend;return Nt===!1?dt.legend(!1):dt.legend(Nt),ot}function rt(ot){return Object(O.f)(k,K,nt,lt,a.k,a.c,ut,a.a,a.j,Object(a.b)())(ot)}},RxlK:function(Lt,A,i){"use strict";i.d(A,"b",function(){return c}),i.d(A,"c",function(){return a}),i.d(A,"a",function(){return M});function c(O,x){var D=[],E=O[0],S=O[1],p=O[2],b=O[3],y=O[4],C=O[5],I=O[6],g=O[7],R=O[8],U=x[0],W=x[1],z=x[2],B=x[3],L=x[4],w=x[5],F=x[6],V=x[7],Y=x[8];return D[0]=U*E+W*b+z*I,D[1]=U*S+W*y+z*g,D[2]=U*p+W*C+z*R,D[3]=B*E+L*b+w*I,D[4]=B*S+L*y+w*g,D[5]=B*p+L*C+w*R,D[6]=F*E+V*b+Y*I,D[7]=F*S+V*y+Y*g,D[8]=F*p+V*C+Y*R,D}function a(O,x){var D=[],E=x[0],S=x[1];return D[0]=O[0]*E+O[3]*S+O[6],D[1]=O[1]*E+O[4]*S+O[7],D}function M(O){var x=[],D=O[0],E=O[1],S=O[2],p=O[3],b=O[4],y=O[5],C=O[6],I=O[7],g=O[8],R=g*b-y*I,U=-g*p+y*C,W=I*p-b*C,z=D*R+E*U+S*W;return z?(z=1/z,x[0]=R*z,x[1]=(-g*E+S*I)*z,x[2]=(y*E-S*b)*z,x[3]=U*z,x[4]=(g*D-S*C)*z,x[5]=(-y*D+S*p)*z,x[6]=W*z,x[7]=(-I*D+E*C)*z,x[8]=(b*D-E*p)*z,x):null}},S8CN:function(Lt,A){function i(c,a,M,O){for(var x=c.length,D=M+(O?1:-1);O?D--:++D<x;)if(a(c[D],D,c))return D;return-1}Lt.exports=i},S9go:function(Lt,A,i){"use strict";var c=i("fo7X"),a=i("8Vus"),M=i("bmBd")},SCaY:function(Lt,A,i){"use strict";i.d(A,"b",function(){return M}),i.d(A,"a",function(){return O}),i.d(A,"d",function(){return x}),i.d(A,"c",function(){return D});var c=i("8Mtd"),a=i("0xlF");function M(E){return document.createElementNS("http://www.w3.org/2000/svg",E)}function O(E){var S=a.a[E.type],p=E.getParent();if(!S)throw new Error("the type "+E.type+" is not supported by svg");var b=M(S);if(E.get("id")&&(b.id=E.get("id")),E.set("el",b),E.set("attrs",{}),p){var y=p.get("el");y||(y=p.createDom(),p.set("el",y)),y.appendChild(b)}return b}function x(E,S){var p=E.get("el"),b=Object(c.toArray)(p.children).sort(S),y=document.createDocumentFragment();b.forEach(function(C){y.appendChild(C)}),p.appendChild(y)}function D(E,S){var p=E.parentNode,b=Array.from(p.childNodes).filter(function(g){return g.nodeType===1&&g.nodeName.toLowerCase()!=="defs"}),y=b[S],C=b.indexOf(E);if(y){if(C>S)p.insertBefore(E,y);else if(C<S){var I=b[S+1];I?p.insertBefore(E,I):p.appendChild(E)}}else p.appendChild(E)}},SJBz:function(Lt,A){},"Sn/i":function(Lt,A,i){"use strict";i.d(A,"b",function(){return c}),i.d(A,"a",function(){return a});function c(M){return typeof M=="number"&&!isNaN(M)}function a(M,O,x){var D=Math.min(O,x),E=Math.max(O,x);return M>=D&&M<=E}},SwPz:function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=a[0]*M,c[1]=a[1]*M,c}},Swz8:function(Lt,A,i){"use strict";var c=i("/WN3"),a=i("8Mtd"),M=i("5Kaj"),O=a.Cache,x=function(D){Object(c.b)(E,D);function E(S){var p=D.call(this,S)||this,b=S.adjustNames,y=b===void 0?["y"]:b,C=S.height,I=C===void 0?NaN:C,g=S.size,R=g===void 0?10:g,U=S.reverseOrder,W=U===void 0?!1:U;return p.adjustNames=y,p.height=I,p.size=R,p.reverseOrder=W,p}return E.prototype.process=function(S){var p=this,b=p.yField,y=p.reverseOrder,C=b?this.processStack(S):this.processOneDimStack(S);return y?this.reverse(C):C},E.prototype.reverse=function(S){return S.slice(0).reverse()},E.prototype.processStack=function(S){var p=this,b=p.xField,y=p.yField,C=p.reverseOrder,I=C?this.reverse(S):S,g=new O,R=new O;return I.map(function(U){return U.map(function(W){var z,B=a.get(W,b,0),L=a.get(W,[y]),w=B.toString();if(L=a.isArray(L)?L[1]:L,!a.isNil(L)){var F=L>=0?g:R;F.has(w)||F.set(w,0);var V=F.get(w),Y=L+V;return F.set(w,Y),Object(c.a)(Object(c.a)({},W),(z={},z[y]=[V,Y],z))}return W})})},E.prototype.processOneDimStack=function(S){var p=this,b=this,y=b.xField,C=b.height,I=b.reverseOrder,g="y",R=I?this.reverse(S):S,U=new O;return R.map(function(W){return W.map(function(z){var B,L=p.size,w=z[y],F=L*2/C;U.has(w)||U.set(w,F/2);var V=U.get(w);return U.set(w,V+F),Object(c.a)(Object(c.a)({},z),(B={},B[g]=V,B))})})},E}(M.a);A.a=x},T0ZP:function(Lt,A,i){(function(c,a){Lt.exports=a()})(this,function(){"use strict";var c=function(Yt){return Yt instanceof Uint8Array||Yt instanceof Uint16Array||Yt instanceof Uint32Array||Yt instanceof Int8Array||Yt instanceof Int16Array||Yt instanceof Int32Array||Yt instanceof Float32Array||Yt instanceof Float64Array||Yt instanceof Uint8ClampedArray},a=function(Yt,he){for(var Pe=Object.keys(he),or=0;or<Pe.length;++or)Yt[Pe[or]]=he[Pe[or]];return Yt},M=`
`;function O(Yt){return typeof atob!="undefined"?atob(Yt):"base64:"+Yt}function x(Yt){var he=new Error("(regl) "+Yt);throw console.error(he),he}function D(Yt,he){Yt||x(he)}function E(Yt){return Yt?": "+Yt:""}function S(Yt,he,Pe){Yt in he||x("unknown parameter ("+Yt+")"+E(Pe)+". possible values: "+Object.keys(he).join())}function p(Yt,he){c(Yt)||x("invalid parameter type"+E(he)+". must be a typed array")}function b(Yt,he){switch(he){case"number":return typeof Yt=="number";case"object":return typeof Yt=="object";case"string":return typeof Yt=="string";case"boolean":return typeof Yt=="boolean";case"function":return typeof Yt=="function";case"undefined":return typeof Yt=="undefined";case"symbol":return typeof Yt=="symbol"}}function y(Yt,he,Pe){b(Yt,he)||x("invalid parameter type"+E(Pe)+". expected "+he+", got "+typeof Yt)}function C(Yt,he){Yt>=0&&(Yt|0)===Yt||x("invalid parameter type, ("+Yt+")"+E(he)+". must be a nonnegative integer")}function I(Yt,he,Pe){he.indexOf(Yt)<0&&x("invalid value"+E(Pe)+". must be one of: "+he)}var g=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function R(Yt){Object.keys(Yt).forEach(function(he){g.indexOf(he)<0&&x('invalid regl constructor argument "'+he+'". must be one of '+g)})}function U(Yt,he){for(Yt=Yt+"";Yt.length<he;)Yt=" "+Yt;return Yt}function W(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function z(Yt,he){this.number=Yt,this.line=he,this.errors=[]}function B(Yt,he,Pe){this.file=Yt,this.line=he,this.message=Pe}function L(){var Yt=new Error,he=(Yt.stack||Yt).toString(),Pe=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(he);if(Pe)return Pe[1];var or=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(he);return or?or[1]:"unknown"}function w(){var Yt=new Error,he=(Yt.stack||Yt).toString(),Pe=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(he);if(Pe)return Pe[1];var or=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(he);return or?or[1]:"unknown"}function F(Yt,he){var Pe=Yt.split(`
`),or=1,Rr=0,lr={unknown:new W,0:new W};lr.unknown.name=lr[0].name=he||L(),lr.unknown.lines.push(new z(0,""));for(var gr=0;gr<Pe.length;++gr){var kr=Pe[gr],Er=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(kr);if(Er)switch(Er[1]){case"line":var Hr=/(\d+)(\s+\d+)?/.exec(Er[2]);Hr&&(or=Hr[1]|0,Hr[2]&&(Rr=Hr[2]|0,Rr in lr||(lr[Rr]=new W)));break;case"define":var rr=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Er[2]);rr&&(lr[Rr].name=rr[1]?O(rr[2]):rr[2]);break}lr[Rr].lines.push(new z(or++,kr))}return Object.keys(lr).forEach(function(un){var pn=lr[un];pn.lines.forEach(function(Xr){pn.index[Xr.number]=Xr})}),lr}function V(Yt){var he=[];return Yt.split(`
`).forEach(function(Pe){if(!(Pe.length<5)){var or=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Pe);or?he.push(new B(or[1]|0,or[2]|0,or[3].trim())):Pe.length>0&&he.push(new B("unknown",0,Pe))}}),he}function Y(Yt,he){he.forEach(function(Pe){var or=Yt[Pe.file];if(or){var Rr=or.index[Pe.line];if(Rr){Rr.errors.push(Pe),or.hasErrors=!0;return}}Yt.unknown.hasErrors=!0,Yt.unknown.lines[0].errors.push(Pe)})}function tt(Yt,he,Pe,or,Rr){if(!Yt.getShaderParameter(he,Yt.COMPILE_STATUS)){var lr=Yt.getShaderInfoLog(he),gr=or===Yt.FRAGMENT_SHADER?"fragment":"vertex";lt(Pe,"string",gr+" shader source must be a string",Rr);var kr=F(Pe,Rr),Er=V(lr);Y(kr,Er),Object.keys(kr).forEach(function(Hr){var rr=kr[Hr];if(!rr.hasErrors)return;var un=[""],pn=[""];function Xr(hn,Ye){un.push(hn),pn.push(Ye||"")}Xr("file number "+Hr+": "+rr.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),rr.lines.forEach(function(hn){if(hn.errors.length>0){Xr(U(hn.number,4)+"|  ","background-color:yellow; font-weight:bold"),Xr(hn.line+M,"color:red; background-color:yellow; font-weight:bold");var Ye=0;hn.errors.forEach(function(mr){var Qr=mr.message,bn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Qr);if(bn){var Wr=bn[1];switch(Qr=bn[2],Wr){case"assign":Wr="=";break}Ye=Math.max(hn.line.indexOf(Wr,Ye),0)}else Ye=0;Xr(U("| ",6)),Xr(U("^^^",Ye+3)+M,"font-weight:bold"),Xr(U("| ",6)),Xr(Qr+M,"font-weight:bold")}),Xr(U("| ",6)+M)}else Xr(U(hn.number,4)+"|  "),Xr(hn.line+M,"color:red")}),typeof document!="undefined"&&!window.chrome?(pn[0]=un.join("%c"),console.log.apply(console,pn)):console.log(un.join(""))}),D.raise("Error compiling "+gr+" shader, "+kr[0].name)}}function q(Yt,he,Pe,or,Rr){if(!Yt.getProgramParameter(he,Yt.LINK_STATUS)){var lr=Yt.getProgramInfoLog(he),gr=F(Pe,Rr),kr=F(or,Rr),Er='Error linking program with vertex shader, "'+kr[0].name+'", and fragment shader "'+gr[0].name+'"';typeof document!="undefined"?console.log("%c"+Er+M+"%c"+lr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Er+M+lr),D.raise(Er)}}function H(Yt){Yt._commandRef=L()}function Q(Yt,he,Pe,or){H(Yt);function Rr(Er){return Er?or.id(Er):0}Yt._fragId=Rr(Yt.static.frag),Yt._vertId=Rr(Yt.static.vert);function lr(Er,Hr){Object.keys(Hr).forEach(function(rr){Er[or.id(rr)]=!0})}var gr=Yt._uniformSet={};lr(gr,he.static),lr(gr,he.dynamic);var kr=Yt._attributeSet={};lr(kr,Pe.static),lr(kr,Pe.dynamic),Yt._hasCount="count"in Yt.static||"count"in Yt.dynamic||"elements"in Yt.static||"elements"in Yt.dynamic}function k(Yt,he){var Pe=w();x(Yt+" in command "+(he||L())+(Pe==="unknown"?"":" called from "+Pe))}function K(Yt,he,Pe){Yt||k(he,Pe||L())}function nt(Yt,he,Pe,or){Yt in he||k("unknown parameter ("+Yt+")"+E(Pe)+". possible values: "+Object.keys(he).join(),or||L())}function lt(Yt,he,Pe,or){b(Yt,he)||k("invalid parameter type"+E(Pe)+". expected "+he+", got "+typeof Yt,or||L())}function ut(Yt){Yt()}function rt(Yt,he,Pe){Yt.texture?I(Yt.texture._texture.internalformat,he,"unsupported texture format for attachment"):I(Yt.renderbuffer._renderbuffer.format,Pe,"unsupported renderbuffer format for attachment")}var ot=33071,dt=9728,Mt=9984,Nt=9985,ht=9986,yt=9987,ft=5120,st=5121,xt=5122,gt=5123,At=5124,pt=5125,_=5126,$=32819,bt=32820,it=33635,Ot=34042,Pt=36193,Rt={};Rt[ft]=Rt[st]=1,Rt[xt]=Rt[gt]=Rt[Pt]=Rt[it]=Rt[$]=Rt[bt]=2,Rt[At]=Rt[pt]=Rt[_]=Rt[Ot]=4;function Vt(Yt,he){return Yt===bt||Yt===$||Yt===it?2:Yt===Ot?4:Rt[Yt]*he}function kt(Yt){return!(Yt&Yt-1)&&!!Yt}function Wt(Yt,he,Pe){var or,Rr=he.width,lr=he.height,gr=he.channels;D(Rr>0&&Rr<=Pe.maxTextureSize&&lr>0&&lr<=Pe.maxTextureSize,"invalid texture shape"),(Yt.wrapS!==ot||Yt.wrapT!==ot)&&D(kt(Rr)&&kt(lr),"incompatible wrap mode for texture, both width and height must be power of 2"),he.mipmask===1?Rr!==1&&lr!==1&&D(Yt.minFilter!==Mt&&Yt.minFilter!==ht&&Yt.minFilter!==Nt&&Yt.minFilter!==yt,"min filter requires mipmap"):(D(kt(Rr)&&kt(lr),"texture must be a square power of 2 to support mipmapping"),D(he.mipmask===(Rr<<1)-1,"missing or incomplete mipmap data")),he.type===_&&(Pe.extensions.indexOf("oes_texture_float_linear")<0&&D(Yt.minFilter===dt&&Yt.magFilter===dt,"filter not supported, must enable oes_texture_float_linear"),D(!Yt.genMipmaps,"mipmap generation not supported with float textures"));var kr=he.images;for(or=0;or<16;++or)if(kr[or]){var Er=Rr>>or,Hr=lr>>or;D(he.mipmask&1<<or,"missing mipmap data");var rr=kr[or];if(D(rr.width===Er&&rr.height===Hr,"invalid shape for mip images"),D(rr.format===he.format&&rr.internalformat===he.internalformat&&rr.type===he.type,"incompatible type for mip image"),!rr.compressed)if(rr.data){var un=Math.ceil(Vt(rr.type,gr)*Er/rr.unpackAlignment)*rr.unpackAlignment;D(rr.data.byteLength===un*Hr,"invalid data for image, buffer size is inconsistent with image format")}else rr.element||rr.copy}else Yt.genMipmaps||D((he.mipmask&1<<or)==0,"extra mipmap data");he.compressed&&D(!Yt.genMipmaps,"mipmap generation for compressed images not supported")}function wt(Yt,he,Pe,or){var Rr=Yt.width,lr=Yt.height,gr=Yt.channels;D(Rr>0&&Rr<=or.maxTextureSize&&lr>0&&lr<=or.maxTextureSize,"invalid texture shape"),D(Rr===lr,"cube map must be square"),D(he.wrapS===ot&&he.wrapT===ot,"wrap mode not supported by cube map");for(var kr=0;kr<Pe.length;++kr){var Er=Pe[kr];D(Er.width===Rr&&Er.height===lr,"inconsistent cube map face shape"),he.genMipmaps&&(D(!Er.compressed,"can not generate mipmap for compressed textures"),D(Er.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Hr=Er.images,rr=0;rr<16;++rr){var un=Hr[rr];if(un){var pn=Rr>>rr,Xr=lr>>rr;D(Er.mipmask&1<<rr,"missing mipmap data"),D(un.width===pn&&un.height===Xr,"invalid shape for mip images"),D(un.format===Yt.format&&un.internalformat===Yt.internalformat&&un.type===Yt.type,"incompatible type for mip image"),un.compressed||(un.data?D(un.data.byteLength===pn*Xr*Math.max(Vt(un.type,gr),un.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):un.element||un.copy)}}}}var ct=a(D,{optional:ut,raise:x,commandRaise:k,command:K,parameter:S,commandParameter:nt,constructor:R,type:y,commandType:lt,isTypedArray:p,nni:C,oneOf:I,shaderError:tt,linkError:q,callSite:w,saveCommandRef:H,saveDrawInfo:Q,framebufferFormat:rt,guessCommand:L,texture2D:Wt,textureCube:wt}),jt=0,Xt=0,It=5,Ut=6;function $t(Yt,he){this.id=jt++,this.type=Yt,this.data=he}function Ft(Yt){return Yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Kt(Yt){if(Yt.length===0)return[];var he=Yt.charAt(0),Pe=Yt.charAt(Yt.length-1);if(Yt.length>1&&he===Pe&&(he==='"'||he==="'"))return['"'+Ft(Yt.substr(1,Yt.length-2))+'"'];var or=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Yt);if(or)return Kt(Yt.substr(0,or.index)).concat(Kt(or[1])).concat(Kt(Yt.substr(or.index+or[0].length)));var Rr=Yt.split(".");if(Rr.length===1)return['"'+Ft(Yt)+'"'];for(var lr=[],gr=0;gr<Rr.length;++gr)lr=lr.concat(Kt(Rr[gr]));return lr}function ee(Yt){return"["+Kt(Yt).join("][")+"]"}function ce(Yt,he){return new $t(Yt,ee(he+""))}function Se(Yt){return typeof Yt=="function"&&!Yt._reglType||Yt instanceof $t}function Ce(Yt,he){if(typeof Yt=="function")return new $t(Xt,Yt);if(typeof Yt=="number"||typeof Yt=="boolean")return new $t(It,Yt);if(Array.isArray(Yt))return new $t(Ut,Yt.map((Pe,or)=>Ce(Pe,he+"["+or+"]")));if(Yt instanceof $t)return Yt;ct(!1,"invalid option type in uniform "+he)}var Ge={DynamicVariable:$t,define:ce,isDynamic:Se,unbox:Ce,accessor:ee},hr={next:typeof requestAnimationFrame=="function"?function(Yt){return requestAnimationFrame(Yt)}:function(Yt){return setTimeout(Yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(Yt){return cancelAnimationFrame(Yt)}:clearTimeout},dr=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function ar(){var Yt={"":0},he=[""];return{id:function(Pe){var or=Yt[Pe];return or||(or=Yt[Pe]=he.length,he.push(Pe),or)},str:function(Pe){return he[Pe]}}}function qe(Yt,he,Pe){var or=document.createElement("canvas");a(or.style,{border:0,margin:0,padding:0,top:0,left:0}),Yt.appendChild(or),Yt===document.body&&(or.style.position="absolute",a(Yt.style,{margin:0,padding:0}));function Rr(){var kr=window.innerWidth,Er=window.innerHeight;if(Yt!==document.body){var Hr=Yt.getBoundingClientRect();kr=Hr.right-Hr.left,Er=Hr.bottom-Hr.top}or.width=Pe*kr,or.height=Pe*Er,a(or.style,{width:kr+"px",height:Er+"px"})}var lr;Yt!==document.body&&typeof ResizeObserver=="function"?(lr=new ResizeObserver(function(){setTimeout(Rr)}),lr.observe(Yt)):window.addEventListener("resize",Rr,!1);function gr(){lr?lr.disconnect():window.removeEventListener("resize",Rr),Yt.removeChild(or)}return Rr(),{canvas:or,onDestroy:gr}}function Xe(Yt,he){function Pe(or){try{return Yt.getContext(or,he)}catch(Rr){return null}}return Pe("webgl")||Pe("experimental-webgl")||Pe("webgl-experimental")}function ur(Yt){return typeof Yt.nodeName=="string"&&typeof Yt.appendChild=="function"&&typeof Yt.getBoundingClientRect=="function"}function zr(Yt){return typeof Yt.drawArrays=="function"||typeof Yt.drawElements=="function"}function ir(Yt){return typeof Yt=="string"?Yt.split():(ct(Array.isArray(Yt),"invalid extension array"),Yt)}function qr(Yt){return typeof Yt=="string"?(ct(typeof document!="undefined","not supported outside of DOM"),document.querySelector(Yt)):Yt}function Mr(Yt){var he=Yt||{},Pe,or,Rr,lr,gr={},kr=[],Er=[],Hr=typeof window=="undefined"?1:window.devicePixelRatio,rr=!1,un=function(hn){hn&&ct.raise(hn)},pn=function(){};if(typeof he=="string"?(ct(typeof document!="undefined","selector queries only supported in DOM enviroments"),Pe=document.querySelector(he),ct(Pe,"invalid query string for element")):typeof he=="object"?ur(he)?Pe=he:zr(he)?(lr=he,Rr=lr.canvas):(ct.constructor(he),"gl"in he?lr=he.gl:"canvas"in he?Rr=qr(he.canvas):"container"in he&&(or=qr(he.container)),"attributes"in he&&(gr=he.attributes,ct.type(gr,"object","invalid context attributes")),"extensions"in he&&(kr=ir(he.extensions)),"optionalExtensions"in he&&(Er=ir(he.optionalExtensions)),"onDone"in he&&(ct.type(he.onDone,"function","invalid or missing onDone callback"),un=he.onDone),"profile"in he&&(rr=!!he.profile),"pixelRatio"in he&&(Hr=+he.pixelRatio,ct(Hr>0,"invalid pixel ratio"))):ct.raise("invalid arguments to regl"),Pe&&(Pe.nodeName.toLowerCase()==="canvas"?Rr=Pe:or=Pe),!lr){if(!Rr){ct(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Xr=qe(or||document.body,un,Hr);if(!Xr)return null;Rr=Xr.canvas,pn=Xr.onDestroy}gr.premultipliedAlpha===void 0&&(gr.premultipliedAlpha=!0),lr=Xe(Rr,gr)}return lr?{gl:lr,canvas:Rr,container:or,extensions:kr,optionalExtensions:Er,pixelRatio:Hr,profile:rr,onDone:un,onDestroy:pn}:(pn(),un("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Br(Yt,he){var Pe={};function or(gr){ct.type(gr,"string","extension name must be string");var kr=gr.toLowerCase(),Er;try{Er=Pe[kr]=Yt.getExtension(kr)}catch(Hr){}return!!Er}for(var Rr=0;Rr<he.extensions.length;++Rr){var lr=he.extensions[Rr];if(!or(lr))return he.onDestroy(),he.onDone('"'+lr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return he.optionalExtensions.forEach(or),{extensions:Pe,restore:function(){Object.keys(Pe).forEach(function(gr){if(Pe[gr]&&!or(gr))throw new Error("(regl): error restoring extension "+gr)})}}}function ze(Yt,he){for(var Pe=Array(Yt),or=0;or<Yt;++or)Pe[or]=he(or);return Pe}var Or=5120,Nr=5121,$r=5122,Kr=5123,Un=5124,ti=5125,wn=5126;function Bn(Yt){for(var he=16;he<=1<<28;he*=16)if(Yt<=he)return he;return 0}function kn(Yt){var he,Pe;return he=(Yt>65535)<<4,Yt>>>=he,Pe=(Yt>255)<<3,Yt>>>=Pe,he|=Pe,Pe=(Yt>15)<<2,Yt>>>=Pe,he|=Pe,Pe=(Yt>3)<<1,Yt>>>=Pe,he|=Pe,he|Yt>>1}function ei(){var Yt=ze(8,function(){return[]});function he(lr){var gr=Bn(lr),kr=Yt[kn(gr)>>2];return kr.length>0?kr.pop():new ArrayBuffer(gr)}function Pe(lr){Yt[kn(lr.byteLength)>>2].push(lr)}function or(lr,gr){var kr=null;switch(lr){case Or:kr=new Int8Array(he(gr),0,gr);break;case Nr:kr=new Uint8Array(he(gr),0,gr);break;case $r:kr=new Int16Array(he(2*gr),0,gr);break;case Kr:kr=new Uint16Array(he(2*gr),0,gr);break;case Un:kr=new Int32Array(he(4*gr),0,gr);break;case ti:kr=new Uint32Array(he(4*gr),0,gr);break;case wn:kr=new Float32Array(he(4*gr),0,gr);break;default:return null}return kr.length!==gr?kr.subarray(0,gr):kr}function Rr(lr){Pe(lr.buffer)}return{alloc:he,free:Pe,allocType:or,freeType:Rr}}var In=ei();In.zero=ei();var ai=3408,ga=3410,Da=3411,Sa=3412,Gi=3413,Ma=3414,Ri=3415,ca=33901,Di=33902,Ca=3379,pa=3386,Wa=34921,oo=36347,po=36348,Xa=35661,os=35660,$o=34930,Xo=36349,Ol=34076,ba=34024,xl=7936,El=7937,ss=7938,ys=35724,nl=34047,ri=36063,Gl=34852,Yo=3553,Us=34067,Ws=34069,il=33984,ls=6408,ne=5126,de=5121,Oe=36160,Ue=36053,Ve=36064,sr=16384,wr=function(Yt,he){var Pe=1;he.ext_texture_filter_anisotropic&&(Pe=Yt.getParameter(nl));var or=1,Rr=1;he.webgl_draw_buffers&&(or=Yt.getParameter(Gl),Rr=Yt.getParameter(ri));var lr=!!he.oes_texture_float;if(lr){var gr=Yt.createTexture();Yt.bindTexture(Yo,gr),Yt.texImage2D(Yo,0,ls,1,1,0,ls,ne,null);var kr=Yt.createFramebuffer();if(Yt.bindFramebuffer(Oe,kr),Yt.framebufferTexture2D(Oe,Ve,Yo,gr,0),Yt.bindTexture(Yo,null),Yt.checkFramebufferStatus(Oe)!==Ue)lr=!1;else{Yt.viewport(0,0,1,1),Yt.clearColor(1,0,0,1),Yt.clear(sr);var Er=In.allocType(ne,4);Yt.readPixels(0,0,1,1,ls,ne,Er),Yt.getError()?lr=!1:(Yt.deleteFramebuffer(kr),Yt.deleteTexture(gr),lr=Er[0]===1),In.freeType(Er)}}var Hr=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),rr=!0;if(!Hr){var un=Yt.createTexture(),pn=In.allocType(de,36);Yt.activeTexture(il),Yt.bindTexture(Us,un),Yt.texImage2D(Ws,0,ls,3,3,0,ls,de,pn),In.freeType(pn),Yt.bindTexture(Us,null),Yt.deleteTexture(un),rr=!Yt.getError()}return{colorBits:[Yt.getParameter(ga),Yt.getParameter(Da),Yt.getParameter(Sa),Yt.getParameter(Gi)],depthBits:Yt.getParameter(Ma),stencilBits:Yt.getParameter(Ri),subpixelBits:Yt.getParameter(ai),extensions:Object.keys(he).filter(function(Xr){return!!he[Xr]}),maxAnisotropic:Pe,maxDrawbuffers:or,maxColorAttachments:Rr,pointSizeDims:Yt.getParameter(ca),lineWidthDims:Yt.getParameter(Di),maxViewportDims:Yt.getParameter(pa),maxCombinedTextureUnits:Yt.getParameter(Xa),maxCubeMapSize:Yt.getParameter(Ol),maxRenderbufferSize:Yt.getParameter(ba),maxTextureUnits:Yt.getParameter($o),maxTextureSize:Yt.getParameter(Ca),maxAttributes:Yt.getParameter(Wa),maxVertexUniforms:Yt.getParameter(oo),maxVertexTextureUnits:Yt.getParameter(os),maxVaryingVectors:Yt.getParameter(po),maxFragmentUniforms:Yt.getParameter(Xo),glsl:Yt.getParameter(ys),renderer:Yt.getParameter(El),vendor:Yt.getParameter(xl),version:Yt.getParameter(ss),readFloat:lr,npotTextureCube:rr}};function Vr(Yt){return!!Yt&&typeof Yt=="object"&&Array.isArray(Yt.shape)&&Array.isArray(Yt.stride)&&typeof Yt.offset=="number"&&Yt.shape.length===Yt.stride.length&&(Array.isArray(Yt.data)||c(Yt.data))}var On=function(Yt){return Object.keys(Yt).map(function(he){return Yt[he]})},Wn={shape:fa,flatten:ki};function Nn(Yt,he,Pe){for(var or=0;or<he;++or)Pe[or]=Yt[or]}function Pi(Yt,he,Pe,or){for(var Rr=0,lr=0;lr<he;++lr)for(var gr=Yt[lr],kr=0;kr<Pe;++kr)or[Rr++]=gr[kr]}function zi(Yt,he,Pe,or,Rr,lr){for(var gr=lr,kr=0;kr<he;++kr)for(var Er=Yt[kr],Hr=0;Hr<Pe;++Hr)for(var rr=Er[Hr],un=0;un<or;++un)Rr[gr++]=rr[un]}function Ia(Yt,he,Pe,or,Rr){for(var lr=1,gr=Pe+1;gr<he.length;++gr)lr*=he[gr];var kr=he[Pe];if(he.length-Pe==4){var Er=he[Pe+1],Hr=he[Pe+2],rr=he[Pe+3];for(gr=0;gr<kr;++gr)zi(Yt[gr],Er,Hr,rr,or,Rr),Rr+=lr}else for(gr=0;gr<kr;++gr)Ia(Yt[gr],he,Pe+1,or,Rr),Rr+=lr}function ki(Yt,he,Pe,or){var Rr=1;if(he.length)for(var lr=0;lr<he.length;++lr)Rr*=he[lr];else Rr=0;var gr=or||In.allocType(Pe,Rr);switch(he.length){case 0:break;case 1:Nn(Yt,he[0],gr);break;case 2:Pi(Yt,he[0],he[1],gr);break;case 3:zi(Yt,he[0],he[1],he[2],gr,0);break;default:Ia(Yt,he,0,gr,0)}return gr}function fa(Yt){for(var he=[],Pe=Yt;Pe.length;Pe=Pe[0])he.push(Pe.length);return he}var so={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Co=5120,oe=5122,ms=5124,lo=5121,ha=5123,Za=5125,yo=5126,ci=5126,mo={int8:Co,int16:oe,int32:ms,uint8:lo,uint16:ha,uint32:Za,float:yo,float32:ci},Ao=35048,us=35040,wo={dynamic:Ao,stream:us,static:35044},bs=Wn.flatten,eo=Wn.shape,Os=35044,To=35040,La=5121,ro=5126,bo=[];bo[5120]=1,bo[5122]=2,bo[5124]=4,bo[5121]=1,bo[5123]=2,bo[5125]=4,bo[5126]=4;function zs(Yt){return so[Object.prototype.toString.call(Yt)]|0}function Ul(Yt,he){for(var Pe=0;Pe<he.length;++Pe)Yt[Pe]=he[Pe]}function Sl(Yt,he,Pe,or,Rr,lr,gr){for(var kr=0,Er=0;Er<Pe;++Er)for(var Hr=0;Hr<or;++Hr)Yt[kr++]=he[Rr*Er+lr*Hr+gr]}function Ml(Yt,he,Pe,or){var Rr=0,lr={};function gr(Ye){this.id=Rr++,this.buffer=Yt.createBuffer(),this.type=Ye,this.usage=Os,this.byteLength=0,this.dimension=1,this.dtype=La,this.persistentData=null,Pe.profile&&(this.stats={size:0})}gr.prototype.bind=function(){Yt.bindBuffer(this.type,this.buffer)},gr.prototype.destroy=function(){pn(this)};var kr=[];function Er(Ye,mr){var Qr=kr.pop();return Qr||(Qr=new gr(Ye)),Qr.bind(),un(Qr,mr,To,0,1,!1),Qr}function Hr(Ye){kr.push(Ye)}function rr(Ye,mr,Qr){Ye.byteLength=mr.byteLength,Yt.bufferData(Ye.type,mr,Qr)}function un(Ye,mr,Qr,bn,Wr,dn){var Ke;if(Ye.usage=Qr,Array.isArray(mr)){if(Ye.dtype=bn||ro,mr.length>0){var cn;if(Array.isArray(mr[0])){Ke=eo(mr);for(var Ur=1,on=1;on<Ke.length;++on)Ur*=Ke[on];Ye.dimension=Ur,cn=bs(mr,Ke,Ye.dtype),rr(Ye,cn,Qr),dn?Ye.persistentData=cn:In.freeType(cn)}else if(typeof mr[0]=="number"){Ye.dimension=Wr;var Xn=In.allocType(Ye.dtype,mr.length);Ul(Xn,mr),rr(Ye,Xn,Qr),dn?Ye.persistentData=Xn:In.freeType(Xn)}else c(mr[0])?(Ye.dimension=mr[0].length,Ye.dtype=bn||zs(mr[0])||ro,cn=bs(mr,[mr.length,mr[0].length],Ye.dtype),rr(Ye,cn,Qr),dn?Ye.persistentData=cn:In.freeType(cn)):ct.raise("invalid buffer data")}}else if(c(mr))Ye.dtype=bn||zs(mr),Ye.dimension=Wr,rr(Ye,mr,Qr),dn&&(Ye.persistentData=new Uint8Array(new Uint8Array(mr.buffer)));else if(Vr(mr)){Ke=mr.shape;var ii=mr.stride,mn=mr.offset,Jr=0,Fr=0,Jn=0,hi=0;Ke.length===1?(Jr=Ke[0],Fr=1,Jn=ii[0],hi=0):Ke.length===2?(Jr=Ke[0],Fr=Ke[1],Jn=ii[0],hi=ii[1]):ct.raise("invalid shape"),Ye.dtype=bn||zs(mr.data)||ro,Ye.dimension=Fr;var An=In.allocType(Ye.dtype,Jr*Fr);Sl(An,mr.data,Jr,Fr,Jn,hi,mn),rr(Ye,An,Qr),dn?Ye.persistentData=An:In.freeType(An)}else mr instanceof ArrayBuffer?(Ye.dtype=La,Ye.dimension=Wr,rr(Ye,mr,Qr),dn&&(Ye.persistentData=new Uint8Array(new Uint8Array(mr)))):ct.raise("invalid buffer data")}function pn(Ye){he.bufferCount--,or(Ye);var mr=Ye.buffer;ct(mr,"buffer must not be deleted already"),Yt.deleteBuffer(mr),Ye.buffer=null,delete lr[Ye.id]}function Xr(Ye,mr,Qr,bn){he.bufferCount++;var Wr=new gr(mr);lr[Wr.id]=Wr;function dn(Ur){var on=Os,Xn=null,ii=0,mn=0,Jr=1;return Array.isArray(Ur)||c(Ur)||Vr(Ur)||Ur instanceof ArrayBuffer?Xn=Ur:typeof Ur=="number"?ii=Ur|0:Ur&&(ct.type(Ur,"object","buffer arguments must be an object, a number or an array"),"data"in Ur&&(ct(Xn===null||Array.isArray(Xn)||c(Xn)||Vr(Xn),"invalid data for buffer"),Xn=Ur.data),"usage"in Ur&&(ct.parameter(Ur.usage,wo,"invalid buffer usage"),on=wo[Ur.usage]),"type"in Ur&&(ct.parameter(Ur.type,mo,"invalid buffer type"),mn=mo[Ur.type]),"dimension"in Ur&&(ct.type(Ur.dimension,"number","invalid dimension"),Jr=Ur.dimension|0),"length"in Ur&&(ct.nni(ii,"buffer length must be a nonnegative integer"),ii=Ur.length|0)),Wr.bind(),Xn?un(Wr,Xn,on,mn,Jr,bn):(ii&&Yt.bufferData(Wr.type,ii,on),Wr.dtype=mn||La,Wr.usage=on,Wr.dimension=Jr,Wr.byteLength=ii),Pe.profile&&(Wr.stats.size=Wr.byteLength*bo[Wr.dtype]),dn}function Ke(Ur,on){ct(on+Ur.byteLength<=Wr.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Ur.byteLength+" starting from offset "+on+" to a buffer of size "+Wr.byteLength),Yt.bufferSubData(Wr.type,on,Ur)}function cn(Ur,on){var Xn=(on||0)|0,ii;if(Wr.bind(),c(Ur)||Ur instanceof ArrayBuffer)Ke(Ur,Xn);else if(Array.isArray(Ur)){if(Ur.length>0)if(typeof Ur[0]=="number"){var mn=In.allocType(Wr.dtype,Ur.length);Ul(mn,Ur),Ke(mn,Xn),In.freeType(mn)}else if(Array.isArray(Ur[0])||c(Ur[0])){ii=eo(Ur);var Jr=bs(Ur,ii,Wr.dtype);Ke(Jr,Xn),In.freeType(Jr)}else ct.raise("invalid buffer data")}else if(Vr(Ur)){ii=Ur.shape;var Fr=Ur.stride,Jn=0,hi=0,An=0,di=0;ii.length===1?(Jn=ii[0],hi=1,An=Fr[0],di=0):ii.length===2?(Jn=ii[0],hi=ii[1],An=Fr[0],di=Fr[1]):ct.raise("invalid shape");var Vn=Array.isArray(Ur.data)?Wr.dtype:zs(Ur.data),Oi=In.allocType(Vn,Jn*hi);Sl(Oi,Ur.data,Jn,hi,An,di,Ur.offset),Ke(Oi,Xn),In.freeType(Oi)}else ct.raise("invalid data for buffer subdata");return dn}return Qr||dn(Ye),dn._reglType="buffer",dn._buffer=Wr,dn.subdata=cn,Pe.profile&&(dn.stats=Wr.stats),dn.destroy=function(){pn(Wr)},dn}function hn(){On(lr).forEach(function(Ye){Ye.buffer=Yt.createBuffer(),Yt.bindBuffer(Ye.type,Ye.buffer),Yt.bufferData(Ye.type,Ye.persistentData||Ye.byteLength,Ye.usage)})}return Pe.profile&&(he.getTotalBufferSize=function(){var Ye=0;return Object.keys(lr).forEach(function(mr){Ye+=lr[mr].stats.size}),Ye}),{create:Xr,createStream:Er,destroyStream:Hr,clear:function(){On(lr).forEach(pn),kr.forEach(pn)},getBuffer:function(Ye){return Ye&&Ye._buffer instanceof gr?Ye._buffer:null},restore:hn,_initBuffer:un}}var Wl=0,X=0,Et=1,Qt=1,re=4,fe=4,be={points:Wl,point:X,lines:Et,line:Qt,triangles:re,triangle:fe,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ie=0,we=1,Fe=4,$e=5120,_e=5121,Ar=5122,Cr=5123,Sr=5124,Zr=5125,fn=34963,Dr=35040,Dn=35044;function bi(Yt,he,Pe,or){var Rr={},lr=0,gr={uint8:_e,uint16:Cr};he.oes_element_index_uint&&(gr.uint32=Zr);function kr(hn){this.id=lr++,Rr[this.id]=this,this.buffer=hn,this.primType=Fe,this.vertCount=0,this.type=0}kr.prototype.bind=function(){this.buffer.bind()};var Er=[];function Hr(hn){var Ye=Er.pop();return Ye||(Ye=new kr(Pe.create(null,fn,!0,!1)._buffer)),un(Ye,hn,Dr,-1,-1,0,0),Ye}function rr(hn){Er.push(hn)}function un(hn,Ye,mr,Qr,bn,Wr,dn){hn.buffer.bind();var Ke;if(Ye){var cn=dn;!dn&&(!c(Ye)||Vr(Ye)&&!c(Ye.data))&&(cn=he.oes_element_index_uint?Zr:Cr),Pe._initBuffer(hn.buffer,Ye,mr,cn,3)}else Yt.bufferData(fn,Wr,mr),hn.buffer.dtype=Ke||_e,hn.buffer.usage=mr,hn.buffer.dimension=3,hn.buffer.byteLength=Wr;if(Ke=dn,!dn){switch(hn.buffer.dtype){case _e:case $e:Ke=_e;break;case Cr:case Ar:Ke=Cr;break;case Zr:case Sr:Ke=Zr;break;default:ct.raise("unsupported type for element array")}hn.buffer.dtype=Ke}hn.type=Ke,ct(Ke!==Zr||!!he.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Ur=bn;Ur<0&&(Ur=hn.buffer.byteLength,Ke===Cr?Ur>>=1:Ke===Zr&&(Ur>>=2)),hn.vertCount=Ur;var on=Qr;if(Qr<0){on=Fe;var Xn=hn.buffer.dimension;Xn===1&&(on=Ie),Xn===2&&(on=we),Xn===3&&(on=Fe)}hn.primType=on}function pn(hn){or.elementsCount--,ct(hn.buffer!==null,"must not double destroy elements"),delete Rr[hn.id],hn.buffer.destroy(),hn.buffer=null}function Xr(hn,Ye){var mr=Pe.create(null,fn,!0),Qr=new kr(mr._buffer);or.elementsCount++;function bn(Wr){if(!Wr)mr(),Qr.primType=Fe,Qr.vertCount=0,Qr.type=_e;else if(typeof Wr=="number")mr(Wr),Qr.primType=Fe,Qr.vertCount=Wr|0,Qr.type=_e;else{var dn=null,Ke=Dn,cn=-1,Ur=-1,on=0,Xn=0;Array.isArray(Wr)||c(Wr)||Vr(Wr)?dn=Wr:(ct.type(Wr,"object","invalid arguments for elements"),"data"in Wr&&(dn=Wr.data,ct(Array.isArray(dn)||c(dn)||Vr(dn),"invalid data for element buffer")),"usage"in Wr&&(ct.parameter(Wr.usage,wo,"invalid element buffer usage"),Ke=wo[Wr.usage]),"primitive"in Wr&&(ct.parameter(Wr.primitive,be,"invalid element buffer primitive"),cn=be[Wr.primitive]),"count"in Wr&&(ct(typeof Wr.count=="number"&&Wr.count>=0,"invalid vertex count for elements"),Ur=Wr.count|0),"type"in Wr&&(ct.parameter(Wr.type,gr,"invalid buffer type"),Xn=gr[Wr.type]),"length"in Wr?on=Wr.length|0:(on=Ur,Xn===Cr||Xn===Ar?on*=2:(Xn===Zr||Xn===Sr)&&(on*=4))),un(Qr,dn,Ke,cn,Ur,on,Xn)}return bn}return bn(hn),bn._reglType="elements",bn._elements=Qr,bn.subdata=function(Wr,dn){return mr.subdata(Wr,dn),bn},bn.destroy=function(){pn(Qr)},bn}return{create:Xr,createStream:Hr,destroyStream:rr,getElements:function(hn){return typeof hn=="function"&&hn._elements instanceof kr?hn._elements:null},clear:function(){On(Rr).forEach(pn)}}}var Zn=new Float32Array(1),Qn=new Uint32Array(Zn.buffer),qn=5123;function ni(Yt){for(var he=In.allocType(qn,Yt.length),Pe=0;Pe<Yt.length;++Pe)if(isNaN(Yt[Pe]))he[Pe]=65535;else if(Yt[Pe]===Infinity)he[Pe]=31744;else if(Yt[Pe]===-Infinity)he[Pe]=64512;else{Zn[0]=Yt[Pe];var or=Qn[0],Rr=or>>>31<<15,lr=(or<<1>>>24)-127,gr=or>>13&(1<<10)-1;if(lr<-24)he[Pe]=Rr;else if(lr<-14){var kr=-14-lr;he[Pe]=Rr+(gr+(1<<10)>>kr)}else lr>15?he[Pe]=Rr+31744:he[Pe]=Rr+(lr+15<<10)+gr}return he}function gi(Yt){return Array.isArray(Yt)||c(Yt)}var Xi=function(Yt){return!(Yt&Yt-1)&&!!Yt},ia=34467,Ii=3553,aa=34067,Yi=34069,Hi=6408,yi=6406,te=6407,Ae=6409,Ne=6410,er=32854,jr=32855,Mn=36194,pi=32819,qi=32820,Do=33635,Ho=34042,Ko=6402,Vs=34041,dh=35904,uc=35906,zl=36193,cc=33776,Oo=33777,fc=33778,Vl=33779,bu=35986,vh=35987,gh=34798,hc=35840,cs=35841,df=35842,Ou=35843,vf=36196,Qo=5121,gf=5123,kl=5125,ks=5126,ph=10242,dc=10243,Bo=10497,Xs=33071,Ed=33648,yh=10240,mh=10241,vc=9728,Ys=9729,gc=9984,pc=9985,xu=9986,Eu=9987,pf=33170,al=4352,yf=4353,Xl=4354,mf=34046,uo=3317,bh=37440,bf=37441,Yl=37443,Ps=37444,Ki=33984,Of=[gc,xu,pc,Eu],Su=[0,Ae,Ne,te,Hi],_o={};_o[Ae]=_o[yi]=_o[Ko]=1,_o[Vs]=_o[Ne]=2,_o[te]=_o[dh]=3,_o[Hi]=_o[uc]=4;function Is(Yt){return"[object "+Yt+"]"}var Oh=Is("HTMLCanvasElement"),xh=Is("OffscreenCanvas"),Ls=Is("CanvasRenderingContext2D"),Hs=Is("ImageBitmap"),Cl=Is("HTMLImageElement"),Eh=Is("HTMLVideoElement"),yc=Object.keys(so).concat([Oh,xh,Ls,Hs,Cl,Eh]),xs=[];xs[Qo]=1,xs[ks]=4,xs[zl]=2,xs[gf]=2,xs[kl]=4;var $a=[];$a[er]=2,$a[jr]=2,$a[Mn]=2,$a[Vs]=4,$a[cc]=.5,$a[Oo]=.5,$a[fc]=1,$a[Vl]=1,$a[bu]=.5,$a[vh]=1,$a[gh]=1,$a[hc]=.5,$a[cs]=.25,$a[df]=.5,$a[Ou]=.25,$a[vf]=.5;function Ks(Yt){return Array.isArray(Yt)&&(Yt.length===0||typeof Yt[0]=="number")}function Mu(Yt){if(!Array.isArray(Yt))return!1;var he=Yt.length;return!(he===0||!gi(Yt[0]))}function _s(Yt){return Object.prototype.toString.call(Yt)}function xf(Yt){return _s(Yt)===Oh}function Hl(Yt){return _s(Yt)===xh}function Sh(Yt){return _s(Yt)===Ls}function Ef(Yt){return _s(Yt)===Hs}function Sf(Yt){return _s(Yt)===Cl}function Sd(Yt){return _s(Yt)===Eh}function Jo(Yt){if(!Yt)return!1;var he=_s(Yt);return yc.indexOf(he)>=0?!0:Ks(Yt)||Mu(Yt)||Vr(Yt)}function Md(Yt){return so[Object.prototype.toString.call(Yt)]|0}function Mf(Yt,he){var Pe=he.length;switch(Yt.type){case Qo:case gf:case kl:case ks:var or=In.allocType(Yt.type,Pe);or.set(he),Yt.data=or;break;case zl:Yt.data=ni(he);break;default:ct.raise("unsupported texture type, must specify a typed array")}}function Rs(Yt,he){return In.allocType(Yt.type===zl?ks:Yt.type,he)}function Cf(Yt,he){Yt.type===zl?(Yt.data=ni(he),In.freeType(he)):Yt.data=he}function mc(Yt,he,Pe,or,Rr,lr){for(var gr=Yt.width,kr=Yt.height,Er=Yt.channels,Hr=gr*kr*Er,rr=Rs(Yt,Hr),un=0,pn=0;pn<kr;++pn)for(var Xr=0;Xr<gr;++Xr)for(var hn=0;hn<Er;++hn)rr[un++]=he[Pe*Xr+or*pn+Rr*hn+lr];Cf(Yt,rr)}function Cu(Yt,he,Pe,or,Rr,lr){var gr;if(typeof $a[Yt]!="undefined"?gr=$a[Yt]:gr=_o[Yt]*xs[he],lr&&(gr*=6),Rr){for(var kr=0,Er=Pe;Er>=1;)kr+=gr*Er*Er,Er/=2;return kr}else return gr*Pe*or}function Au(Yt,he,Pe,or,Rr,lr,gr){var kr={"don't care":al,"dont care":al,nice:Xl,fast:yf},Er={repeat:Bo,clamp:Xs,mirror:Ed},Hr={nearest:vc,linear:Ys},rr=a({mipmap:Eu,"nearest mipmap nearest":gc,"linear mipmap nearest":pc,"nearest mipmap linear":xu,"linear mipmap linear":Eu},Hr),un={none:0,browser:Ps},pn={uint8:Qo,rgba4:pi,rgb565:Do,"rgb5 a1":qi},Xr={alpha:yi,luminance:Ae,"luminance alpha":Ne,rgb:te,rgba:Hi,rgba4:er,"rgb5 a1":jr,rgb565:Mn},hn={};he.ext_srgb&&(Xr.srgb=dh,Xr.srgba=uc),he.oes_texture_float&&(pn.float32=pn.float=ks),he.oes_texture_half_float&&(pn.float16=pn["half float"]=zl),he.webgl_depth_texture&&(a(Xr,{depth:Ko,"depth stencil":Vs}),a(pn,{uint16:gf,uint32:kl,"depth stencil":Ho})),he.webgl_compressed_texture_s3tc&&a(hn,{"rgb s3tc dxt1":cc,"rgba s3tc dxt1":Oo,"rgba s3tc dxt3":fc,"rgba s3tc dxt5":Vl}),he.webgl_compressed_texture_atc&&a(hn,{"rgb atc":bu,"rgba atc explicit alpha":vh,"rgba atc interpolated alpha":gh}),he.webgl_compressed_texture_pvrtc&&a(hn,{"rgb pvrtc 4bppv1":hc,"rgb pvrtc 2bppv1":cs,"rgba pvrtc 4bppv1":df,"rgba pvrtc 2bppv1":Ou}),he.webgl_compressed_texture_etc1&&(hn["rgb etc1"]=vf);var Ye=Array.prototype.slice.call(Yt.getParameter(ia));Object.keys(hn).forEach(function(Ee){var vr=hn[Ee];Ye.indexOf(vr)>=0&&(Xr[Ee]=vr)});var mr=Object.keys(Xr);Pe.textureFormats=mr;var Qr=[];Object.keys(Xr).forEach(function(Ee){var vr=Xr[Ee];Qr[vr]=Ee});var bn=[];Object.keys(pn).forEach(function(Ee){var vr=pn[Ee];bn[vr]=Ee});var Wr=[];Object.keys(Hr).forEach(function(Ee){var vr=Hr[Ee];Wr[vr]=Ee});var dn=[];Object.keys(rr).forEach(function(Ee){var vr=rr[Ee];dn[vr]=Ee});var Ke=[];Object.keys(Er).forEach(function(Ee){var vr=Er[Ee];Ke[vr]=Ee});var cn=mr.reduce(function(Ee,vr){var nr=Xr[vr];return nr===Ae||nr===yi||nr===Ae||nr===Ne||nr===Ko||nr===Vs||he.ext_srgb&&(nr===dh||nr===uc)?Ee[nr]=nr:nr===jr||vr.indexOf("rgba")>=0?Ee[nr]=Hi:Ee[nr]=te,Ee},{});function Ur(){this.internalformat=Hi,this.format=Hi,this.type=Qo,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ps,this.width=0,this.height=0,this.channels=0}function on(Ee,vr){Ee.internalformat=vr.internalformat,Ee.format=vr.format,Ee.type=vr.type,Ee.compressed=vr.compressed,Ee.premultiplyAlpha=vr.premultiplyAlpha,Ee.flipY=vr.flipY,Ee.unpackAlignment=vr.unpackAlignment,Ee.colorSpace=vr.colorSpace,Ee.width=vr.width,Ee.height=vr.height,Ee.channels=vr.channels}function Xn(Ee,vr){if(!(typeof vr!="object"||!vr)){if("premultiplyAlpha"in vr&&(ct.type(vr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Ee.premultiplyAlpha=vr.premultiplyAlpha),"flipY"in vr&&(ct.type(vr.flipY,"boolean","invalid texture flip"),Ee.flipY=vr.flipY),"alignment"in vr&&(ct.oneOf(vr.alignment,[1,2,4,8],"invalid texture unpack alignment"),Ee.unpackAlignment=vr.alignment),"colorSpace"in vr&&(ct.parameter(vr.colorSpace,un,"invalid colorSpace"),Ee.colorSpace=un[vr.colorSpace]),"type"in vr){var nr=vr.type;ct(he.oes_texture_float||!(nr==="float"||nr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ct(he.oes_texture_half_float||!(nr==="half float"||nr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ct(he.webgl_depth_texture||!(nr==="uint16"||nr==="uint32"||nr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ct.parameter(nr,pn,"invalid texture type"),Ee.type=pn[nr]}var En=Ee.width,oi=Ee.height,pe=Ee.channels,ae=!1;"shape"in vr?(ct(Array.isArray(vr.shape)&&vr.shape.length>=2,"shape must be an array"),En=vr.shape[0],oi=vr.shape[1],vr.shape.length===3&&(pe=vr.shape[2],ct(pe>0&&pe<=4,"invalid number of channels"),ae=!0),ct(En>=0&&En<=Pe.maxTextureSize,"invalid width"),ct(oi>=0&&oi<=Pe.maxTextureSize,"invalid height")):("radius"in vr&&(En=oi=vr.radius,ct(En>=0&&En<=Pe.maxTextureSize,"invalid radius")),"width"in vr&&(En=vr.width,ct(En>=0&&En<=Pe.maxTextureSize,"invalid width")),"height"in vr&&(oi=vr.height,ct(oi>=0&&oi<=Pe.maxTextureSize,"invalid height")),"channels"in vr&&(pe=vr.channels,ct(pe>0&&pe<=4,"invalid number of channels"),ae=!0)),Ee.width=En|0,Ee.height=oi|0,Ee.channels=pe|0;var Le=!1;if("format"in vr){var Qe=vr.format;ct(he.webgl_depth_texture||!(Qe==="depth"||Qe==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ct.parameter(Qe,Xr,"invalid texture format");var Je=Ee.internalformat=Xr[Qe];Ee.format=cn[Je],Qe in pn&&("type"in vr||(Ee.type=pn[Qe])),Qe in hn&&(Ee.compressed=!0),Le=!0}!ae&&Le?Ee.channels=_o[Ee.format]:ae&&!Le?Ee.channels!==Su[Ee.format]&&(Ee.format=Ee.internalformat=Su[Ee.channels]):Le&&ae&&ct(Ee.channels===_o[Ee.format],"number of channels inconsistent with specified format")}}function ii(Ee){Yt.pixelStorei(bh,Ee.flipY),Yt.pixelStorei(bf,Ee.premultiplyAlpha),Yt.pixelStorei(Yl,Ee.colorSpace),Yt.pixelStorei(uo,Ee.unpackAlignment)}function mn(){Ur.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Jr(Ee,vr){var nr=null;if(Jo(vr)?nr=vr:vr&&(ct.type(vr,"object","invalid pixel data type"),Xn(Ee,vr),"x"in vr&&(Ee.xOffset=vr.x|0),"y"in vr&&(Ee.yOffset=vr.y|0),Jo(vr.data)&&(nr=vr.data)),ct(!Ee.compressed||nr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),vr.copy){ct(!nr,"can not specify copy and data field for the same texture");var En=Rr.viewportWidth,oi=Rr.viewportHeight;Ee.width=Ee.width||En-Ee.xOffset,Ee.height=Ee.height||oi-Ee.yOffset,Ee.needsCopy=!0,ct(Ee.xOffset>=0&&Ee.xOffset<En&&Ee.yOffset>=0&&Ee.yOffset<oi&&Ee.width>0&&Ee.width<=En&&Ee.height>0&&Ee.height<=oi,"copy texture read out of bounds")}else if(!nr)Ee.width=Ee.width||1,Ee.height=Ee.height||1,Ee.channels=Ee.channels||4;else if(c(nr))Ee.channels=Ee.channels||4,Ee.data=nr,!("type"in vr)&&Ee.type===Qo&&(Ee.type=Md(nr));else if(Ks(nr))Ee.channels=Ee.channels||4,Mf(Ee,nr),Ee.alignment=1,Ee.needsFree=!0;else if(Vr(nr)){var pe=nr.data;!Array.isArray(pe)&&Ee.type===Qo&&(Ee.type=Md(pe));var ae=nr.shape,Le=nr.stride,Qe,Je,Be,je,We,me;ae.length===3?(Be=ae[2],me=Le[2]):(ct(ae.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Be=1,me=1),Qe=ae[0],Je=ae[1],je=Le[0],We=Le[1],Ee.alignment=1,Ee.width=Qe,Ee.height=Je,Ee.channels=Be,Ee.format=Ee.internalformat=Su[Be],Ee.needsFree=!0,mc(Ee,pe,je,We,me,nr.offset)}else if(xf(nr)||Hl(nr)||Sh(nr))xf(nr)||Hl(nr)?Ee.element=nr:Ee.element=nr.canvas,Ee.width=Ee.element.width,Ee.height=Ee.element.height,Ee.channels=4;else if(Ef(nr))Ee.element=nr,Ee.width=nr.width,Ee.height=nr.height,Ee.channels=4;else if(Sf(nr))Ee.element=nr,Ee.width=nr.naturalWidth,Ee.height=nr.naturalHeight,Ee.channels=4;else if(Sd(nr))Ee.element=nr,Ee.width=nr.videoWidth,Ee.height=nr.videoHeight,Ee.channels=4;else if(Mu(nr)){var Re=Ee.width||nr[0].length,ge=Ee.height||nr.length,ke=Ee.channels;gi(nr[0][0])?ke=ke||nr[0][0].length:ke=ke||1;for(var tr=Wn.shape(nr),Tr=1,Ir=0;Ir<tr.length;++Ir)Tr*=tr[Ir];var xr=Rs(Ee,Tr);Wn.flatten(nr,tr,"",xr),Cf(Ee,xr),Ee.alignment=1,Ee.width=Re,Ee.height=ge,Ee.channels=ke,Ee.format=Ee.internalformat=Su[ke],Ee.needsFree=!0}Ee.type===ks?ct(Pe.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Ee.type===zl&&ct(Pe.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Fr(Ee,vr,nr){var En=Ee.element,oi=Ee.data,pe=Ee.internalformat,ae=Ee.format,Le=Ee.type,Qe=Ee.width,Je=Ee.height;ii(Ee),En?Yt.texImage2D(vr,nr,ae,ae,Le,En):Ee.compressed?Yt.compressedTexImage2D(vr,nr,pe,Qe,Je,0,oi):Ee.needsCopy?(or(),Yt.copyTexImage2D(vr,nr,ae,Ee.xOffset,Ee.yOffset,Qe,Je,0)):Yt.texImage2D(vr,nr,ae,Qe,Je,0,ae,Le,oi||null)}function Jn(Ee,vr,nr,En,oi){var pe=Ee.element,ae=Ee.data,Le=Ee.internalformat,Qe=Ee.format,Je=Ee.type,Be=Ee.width,je=Ee.height;ii(Ee),pe?Yt.texSubImage2D(vr,oi,nr,En,Qe,Je,pe):Ee.compressed?Yt.compressedTexSubImage2D(vr,oi,nr,En,Le,Be,je,ae):Ee.needsCopy?(or(),Yt.copyTexSubImage2D(vr,oi,nr,En,Ee.xOffset,Ee.yOffset,Be,je)):Yt.texSubImage2D(vr,oi,nr,En,Be,je,Qe,Je,ae)}var hi=[];function An(){return hi.pop()||new mn}function di(Ee){Ee.needsFree&&In.freeType(Ee.data),mn.call(Ee),hi.push(Ee)}function Vn(){Ur.call(this),this.genMipmaps=!1,this.mipmapHint=al,this.mipmask=0,this.images=Array(16)}function Oi(Ee,vr,nr){var En=Ee.images[0]=An();Ee.mipmask=1,En.width=Ee.width=vr,En.height=Ee.height=nr,En.channels=Ee.channels=4}function wi(Ee,vr){var nr=null;if(Jo(vr))nr=Ee.images[0]=An(),on(nr,Ee),Jr(nr,vr),Ee.mipmask=1;else if(Xn(Ee,vr),Array.isArray(vr.mipmap))for(var En=vr.mipmap,oi=0;oi<En.length;++oi)nr=Ee.images[oi]=An(),on(nr,Ee),nr.width>>=oi,nr.height>>=oi,Jr(nr,En[oi]),Ee.mipmask|=1<<oi;else nr=Ee.images[0]=An(),on(nr,Ee),Jr(nr,vr),Ee.mipmask=1;on(Ee,Ee.images[0]),Ee.compressed&&(Ee.internalformat===cc||Ee.internalformat===Oo||Ee.internalformat===fc||Ee.internalformat===Vl)&&ct(Ee.width%4==0&&Ee.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function za(Ee,vr){for(var nr=Ee.images,En=0;En<nr.length;++En){if(!nr[En])return;Fr(nr[En],vr,En)}}var Qa=[];function Ei(){var Ee=Qa.pop()||new Vn;Ur.call(Ee),Ee.mipmask=0;for(var vr=0;vr<16;++vr)Ee.images[vr]=null;return Ee}function ja(Ee){for(var vr=Ee.images,nr=0;nr<vr.length;++nr)vr[nr]&&di(vr[nr]),vr[nr]=null;Qa.push(Ee)}function oa(){this.minFilter=vc,this.magFilter=vc,this.wrapS=Xs,this.wrapT=Xs,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=al}function wa(Ee,vr){if("min"in vr){var nr=vr.min;ct.parameter(nr,rr),Ee.minFilter=rr[nr],Of.indexOf(Ee.minFilter)>=0&&!("faces"in vr)&&(Ee.genMipmaps=!0)}if("mag"in vr){var En=vr.mag;ct.parameter(En,Hr),Ee.magFilter=Hr[En]}var oi=Ee.wrapS,pe=Ee.wrapT;if("wrap"in vr){var ae=vr.wrap;typeof ae=="string"?(ct.parameter(ae,Er),oi=pe=Er[ae]):Array.isArray(ae)&&(ct.parameter(ae[0],Er),ct.parameter(ae[1],Er),oi=Er[ae[0]],pe=Er[ae[1]])}else{if("wrapS"in vr){var Le=vr.wrapS;ct.parameter(Le,Er),oi=Er[Le]}if("wrapT"in vr){var Qe=vr.wrapT;ct.parameter(Qe,Er),pe=Er[Qe]}}if(Ee.wrapS=oi,Ee.wrapT=pe,"anisotropic"in vr){var Je=vr.anisotropic;ct(typeof Je=="number"&&Je>=1&&Je<=Pe.maxAnisotropic,"aniso samples must be between 1 and "),Ee.anisotropic=vr.anisotropic}if("mipmap"in vr){var Be=!1;switch(typeof vr.mipmap){case"string":ct.parameter(vr.mipmap,kr,"invalid mipmap hint"),Ee.mipmapHint=kr[vr.mipmap],Ee.genMipmaps=!0,Be=!0;break;case"boolean":Be=Ee.genMipmaps=vr.mipmap;break;case"object":ct(Array.isArray(vr.mipmap),"invalid mipmap type"),Ee.genMipmaps=!1,Be=!0;break;default:ct.raise("invalid mipmap type")}Be&&!("min"in vr)&&(Ee.minFilter=gc)}}function Ba(Ee,vr){Yt.texParameteri(vr,mh,Ee.minFilter),Yt.texParameteri(vr,yh,Ee.magFilter),Yt.texParameteri(vr,ph,Ee.wrapS),Yt.texParameteri(vr,dc,Ee.wrapT),he.ext_texture_filter_anisotropic&&Yt.texParameteri(vr,mf,Ee.anisotropic),Ee.genMipmaps&&(Yt.hint(pf,Ee.mipmapHint),Yt.generateMipmap(vr))}var Ha=0,io={},fo=Pe.maxTextureUnits,Ui=Array(fo).map(function(){return null});function mi(Ee){Ur.call(this),this.mipmask=0,this.internalformat=Hi,this.id=Ha++,this.refCount=1,this.target=Ee,this.texture=Yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new oa,gr.profile&&(this.stats={size:0})}function Ja(Ee){Yt.activeTexture(Ki),Yt.bindTexture(Ee.target,Ee.texture)}function Vi(){var Ee=Ui[0];Ee?Yt.bindTexture(Ee.target,Ee.texture):Yt.bindTexture(Ii,null)}function _n(Ee){var vr=Ee.texture;ct(vr,"must not double destroy texture");var nr=Ee.unit,En=Ee.target;nr>=0&&(Yt.activeTexture(Ki+nr),Yt.bindTexture(En,null),Ui[nr]=null),Yt.deleteTexture(vr),Ee.texture=null,Ee.params=null,Ee.pixels=null,Ee.refCount=0,delete io[Ee.id],lr.textureCount--}a(mi.prototype,{bind:function(){var Ee=this;Ee.bindCount+=1;var vr=Ee.unit;if(vr<0){for(var nr=0;nr<fo;++nr){var En=Ui[nr];if(En){if(En.bindCount>0)continue;En.unit=-1}Ui[nr]=Ee,vr=nr;break}vr>=fo&&ct.raise("insufficient number of texture units"),gr.profile&&lr.maxTextureUnits<vr+1&&(lr.maxTextureUnits=vr+1),Ee.unit=vr,Yt.activeTexture(Ki+vr),Yt.bindTexture(Ee.target,Ee.texture)}return vr},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&_n(this)}});function Si(Ee,vr){var nr=new mi(Ii);io[nr.id]=nr,lr.textureCount++;function En(ae,Le){var Qe=nr.texInfo;oa.call(Qe);var Je=Ei();return typeof ae=="number"?typeof Le=="number"?Oi(Je,ae|0,Le|0):Oi(Je,ae|0,ae|0):ae?(ct.type(ae,"object","invalid arguments to regl.texture"),wa(Qe,ae),wi(Je,ae)):Oi(Je,1,1),Qe.genMipmaps&&(Je.mipmask=(Je.width<<1)-1),nr.mipmask=Je.mipmask,on(nr,Je),ct.texture2D(Qe,Je,Pe),nr.internalformat=Je.internalformat,En.width=Je.width,En.height=Je.height,Ja(nr),za(Je,Ii),Ba(Qe,Ii),Vi(),ja(Je),gr.profile&&(nr.stats.size=Cu(nr.internalformat,nr.type,Je.width,Je.height,Qe.genMipmaps,!1)),En.format=Qr[nr.internalformat],En.type=bn[nr.type],En.mag=Wr[Qe.magFilter],En.min=dn[Qe.minFilter],En.wrapS=Ke[Qe.wrapS],En.wrapT=Ke[Qe.wrapT],En}function oi(ae,Le,Qe,Je){ct(!!ae,"must specify image data");var Be=Le|0,je=Qe|0,We=Je|0,me=An();return on(me,nr),me.width=0,me.height=0,Jr(me,ae),me.width=me.width||(nr.width>>We)-Be,me.height=me.height||(nr.height>>We)-je,ct(nr.type===me.type&&nr.format===me.format&&nr.internalformat===me.internalformat,"incompatible format for texture.subimage"),ct(Be>=0&&je>=0&&Be+me.width<=nr.width&&je+me.height<=nr.height,"texture.subimage write out of bounds"),ct(nr.mipmask&1<<We,"missing mipmap data"),ct(me.data||me.element||me.needsCopy,"missing image data"),Ja(nr),Jn(me,Ii,Be,je,We),Vi(),di(me),En}function pe(ae,Le){var Qe=ae|0,Je=Le|0||Qe;if(Qe===nr.width&&Je===nr.height)return En;En.width=nr.width=Qe,En.height=nr.height=Je,Ja(nr);for(var Be=0;nr.mipmask>>Be;++Be){var je=Qe>>Be,We=Je>>Be;if(!je||!We)break;Yt.texImage2D(Ii,Be,nr.format,je,We,0,nr.format,nr.type,null)}return Vi(),gr.profile&&(nr.stats.size=Cu(nr.internalformat,nr.type,Qe,Je,!1,!1)),En}return En(Ee,vr),En.subimage=oi,En.resize=pe,En._reglType="texture2d",En._texture=nr,gr.profile&&(En.stats=nr.stats),En.destroy=function(){nr.decRef()},En}function Ai(Ee,vr,nr,En,oi,pe){var ae=new mi(aa);io[ae.id]=ae,lr.cubeCount++;var Le=new Array(6);function Qe(je,We,me,Re,ge,ke){var tr,Tr=ae.texInfo;for(oa.call(Tr),tr=0;tr<6;++tr)Le[tr]=Ei();if(typeof je=="number"||!je){var Ir=je|0||1;for(tr=0;tr<6;++tr)Oi(Le[tr],Ir,Ir)}else if(typeof je=="object")if(We)wi(Le[0],je),wi(Le[1],We),wi(Le[2],me),wi(Le[3],Re),wi(Le[4],ge),wi(Le[5],ke);else if(wa(Tr,je),Xn(ae,je),"faces"in je){var xr=je.faces;for(ct(Array.isArray(xr)&&xr.length===6,"cube faces must be a length 6 array"),tr=0;tr<6;++tr)ct(typeof xr[tr]=="object"&&!!xr[tr],"invalid input for cube map face"),on(Le[tr],ae),wi(Le[tr],xr[tr])}else for(tr=0;tr<6;++tr)wi(Le[tr],je);else ct.raise("invalid arguments to cube map");for(on(ae,Le[0]),Pe.npotTextureCube||ct(Xi(ae.width)&&Xi(ae.height),"your browser does not support non power or two texture dimensions"),Tr.genMipmaps?ae.mipmask=(Le[0].width<<1)-1:ae.mipmask=Le[0].mipmask,ct.textureCube(ae,Tr,Le,Pe),ae.internalformat=Le[0].internalformat,Qe.width=Le[0].width,Qe.height=Le[0].height,Ja(ae),tr=0;tr<6;++tr)za(Le[tr],Yi+tr);for(Ba(Tr,aa),Vi(),gr.profile&&(ae.stats.size=Cu(ae.internalformat,ae.type,Qe.width,Qe.height,Tr.genMipmaps,!0)),Qe.format=Qr[ae.internalformat],Qe.type=bn[ae.type],Qe.mag=Wr[Tr.magFilter],Qe.min=dn[Tr.minFilter],Qe.wrapS=Ke[Tr.wrapS],Qe.wrapT=Ke[Tr.wrapT],tr=0;tr<6;++tr)ja(Le[tr]);return Qe}function Je(je,We,me,Re,ge){ct(!!We,"must specify image data"),ct(typeof je=="number"&&je===(je|0)&&je>=0&&je<6,"invalid face");var ke=me|0,tr=Re|0,Tr=ge|0,Ir=An();return on(Ir,ae),Ir.width=0,Ir.height=0,Jr(Ir,We),Ir.width=Ir.width||(ae.width>>Tr)-ke,Ir.height=Ir.height||(ae.height>>Tr)-tr,ct(ae.type===Ir.type&&ae.format===Ir.format&&ae.internalformat===Ir.internalformat,"incompatible format for texture.subimage"),ct(ke>=0&&tr>=0&&ke+Ir.width<=ae.width&&tr+Ir.height<=ae.height,"texture.subimage write out of bounds"),ct(ae.mipmask&1<<Tr,"missing mipmap data"),ct(Ir.data||Ir.element||Ir.needsCopy,"missing image data"),Ja(ae),Jn(Ir,Yi+je,ke,tr,Tr),Vi(),di(Ir),Qe}function Be(je){var We=je|0;if(We!==ae.width){Qe.width=ae.width=We,Qe.height=ae.height=We,Ja(ae);for(var me=0;me<6;++me)for(var Re=0;ae.mipmask>>Re;++Re)Yt.texImage2D(Yi+me,Re,ae.format,We>>Re,We>>Re,0,ae.format,ae.type,null);return Vi(),gr.profile&&(ae.stats.size=Cu(ae.internalformat,ae.type,Qe.width,Qe.height,!1,!0)),Qe}}return Qe(Ee,vr,nr,En,oi,pe),Qe.subimage=Je,Qe.resize=Be,Qe._reglType="textureCube",Qe._texture=ae,gr.profile&&(Qe.stats=ae.stats),Qe.destroy=function(){ae.decRef()},Qe}function Na(){for(var Ee=0;Ee<fo;++Ee)Yt.activeTexture(Ki+Ee),Yt.bindTexture(Ii,null),Ui[Ee]=null;On(io).forEach(_n),lr.cubeCount=0,lr.textureCount=0}gr.profile&&(lr.getTotalTextureSize=function(){var Ee=0;return Object.keys(io).forEach(function(vr){Ee+=io[vr].stats.size}),Ee});function Gs(){for(var Ee=0;Ee<fo;++Ee){var vr=Ui[Ee];vr&&(vr.bindCount=0,vr.unit=-1,Ui[Ee]=null)}On(io).forEach(function(nr){nr.texture=Yt.createTexture(),Yt.bindTexture(nr.target,nr.texture);for(var En=0;En<32;++En)if((nr.mipmask&1<<En)!=0)if(nr.target===Ii)Yt.texImage2D(Ii,En,nr.internalformat,nr.width>>En,nr.height>>En,0,nr.internalformat,nr.type,null);else for(var oi=0;oi<6;++oi)Yt.texImage2D(Yi+oi,En,nr.internalformat,nr.width>>En,nr.height>>En,0,nr.internalformat,nr.type,null);Ba(nr.texInfo,nr.target)})}function Cs(){for(var Ee=0;Ee<fo;++Ee){var vr=Ui[Ee];vr&&(vr.bindCount=0,vr.unit=-1,Ui[Ee]=null),Yt.activeTexture(Ki+Ee),Yt.bindTexture(Ii,null),Yt.bindTexture(aa,null)}}return{create2D:Si,createCube:Ai,clear:Na,getTexture:function(Ee){return null},restore:Gs,refresh:Cs}}var Es=36161,Tu=32854,Mh=32855,bc=36194,Ch=33189,ji=36168,zn=34041,_i=35907,Ya=34836,Oc=34842,xc=34843,da=[];da[Tu]=2,da[Mh]=2,da[bc]=2,da[Ch]=2,da[ji]=1,da[zn]=4,da[_i]=4,da[Ya]=16,da[Oc]=8,da[xc]=6;function no(Yt,he,Pe){return da[Yt]*he*Pe}var Du=function(Yt,he,Pe,or,Rr){var lr={rgba4:Tu,rgb565:bc,"rgb5 a1":Mh,depth:Ch,stencil:ji,"depth stencil":zn};he.ext_srgb&&(lr.srgba=_i),he.ext_color_buffer_half_float&&(lr.rgba16f=Oc,lr.rgb16f=xc),he.webgl_color_buffer_float&&(lr.rgba32f=Ya);var gr=[];Object.keys(lr).forEach(function(Xr){var hn=lr[Xr];gr[hn]=Xr});var kr=0,Er={};function Hr(Xr){this.id=kr++,this.refCount=1,this.renderbuffer=Xr,this.format=Tu,this.width=0,this.height=0,Rr.profile&&(this.stats={size:0})}Hr.prototype.decRef=function(){--this.refCount<=0&&rr(this)};function rr(Xr){var hn=Xr.renderbuffer;ct(hn,"must not double destroy renderbuffer"),Yt.bindRenderbuffer(Es,null),Yt.deleteRenderbuffer(hn),Xr.renderbuffer=null,Xr.refCount=0,delete Er[Xr.id],or.renderbufferCount--}function un(Xr,hn){var Ye=new Hr(Yt.createRenderbuffer());Er[Ye.id]=Ye,or.renderbufferCount++;function mr(bn,Wr){var dn=0,Ke=0,cn=Tu;if(typeof bn=="object"&&bn){var Ur=bn;if("shape"in Ur){var on=Ur.shape;ct(Array.isArray(on)&&on.length>=2,"invalid renderbuffer shape"),dn=on[0]|0,Ke=on[1]|0}else"radius"in Ur&&(dn=Ke=Ur.radius|0),"width"in Ur&&(dn=Ur.width|0),"height"in Ur&&(Ke=Ur.height|0);"format"in Ur&&(ct.parameter(Ur.format,lr,"invalid renderbuffer format"),cn=lr[Ur.format])}else typeof bn=="number"?(dn=bn|0,typeof Wr=="number"?Ke=Wr|0:Ke=dn):bn?ct.raise("invalid arguments to renderbuffer constructor"):dn=Ke=1;if(ct(dn>0&&Ke>0&&dn<=Pe.maxRenderbufferSize&&Ke<=Pe.maxRenderbufferSize,"invalid renderbuffer size"),!(dn===Ye.width&&Ke===Ye.height&&cn===Ye.format))return mr.width=Ye.width=dn,mr.height=Ye.height=Ke,Ye.format=cn,Yt.bindRenderbuffer(Es,Ye.renderbuffer),Yt.renderbufferStorage(Es,cn,dn,Ke),ct(Yt.getError()===0,"invalid render buffer format"),Rr.profile&&(Ye.stats.size=no(Ye.format,Ye.width,Ye.height)),mr.format=gr[Ye.format],mr}function Qr(bn,Wr){var dn=bn|0,Ke=Wr|0||dn;return dn===Ye.width&&Ke===Ye.height||(ct(dn>0&&Ke>0&&dn<=Pe.maxRenderbufferSize&&Ke<=Pe.maxRenderbufferSize,"invalid renderbuffer size"),mr.width=Ye.width=dn,mr.height=Ye.height=Ke,Yt.bindRenderbuffer(Es,Ye.renderbuffer),Yt.renderbufferStorage(Es,Ye.format,dn,Ke),ct(Yt.getError()===0,"invalid render buffer format"),Rr.profile&&(Ye.stats.size=no(Ye.format,Ye.width,Ye.height))),mr}return mr(Xr,hn),mr.resize=Qr,mr._reglType="renderbuffer",mr._renderbuffer=Ye,Rr.profile&&(mr.stats=Ye.stats),mr.destroy=function(){Ye.decRef()},mr}Rr.profile&&(or.getTotalRenderbufferSize=function(){var Xr=0;return Object.keys(Er).forEach(function(hn){Xr+=Er[hn].stats.size}),Xr});function pn(){On(Er).forEach(function(Xr){Xr.renderbuffer=Yt.createRenderbuffer(),Yt.bindRenderbuffer(Es,Xr.renderbuffer),Yt.renderbufferStorage(Es,Xr.format,Xr.width,Xr.height)}),Yt.bindRenderbuffer(Es,null)}return{create:un,clear:function(){On(Er).forEach(rr)},restore:pn}},js=36160,ol=36161,Zs=3553,Kl=34069,No=36064,ws=36096,Aa=36128,Ec=33306,_l=36053,Af=36054,Zl=36055,Ah=36057,$l=36061,Th=36193,Cd=5121,Ad=5126,Td=6407,Dh=6408,Tf=6402,Df=[Td,Dh],sl=[];sl[Dh]=4,sl[Td]=3;var Pu=[];Pu[Cd]=1,Pu[Ad]=4,Pu[Th]=2;var Dd=32854,Pf=32855,Ph=36194,Pd=33189,Id=36168,Ld=34041,Sc=35907,Ih=34836,Rd=34842,jd=34843,Mc=[Dd,Pf,Ph,Sc,Rd,jd,Ih],ll={};ll[_l]="complete",ll[Af]="incomplete attachment",ll[Ah]="incomplete dimensions",ll[Zl]="incomplete, missing attachment",ll[$l]="unsupported";function Ql(Yt,he,Pe,or,Rr,lr){var gr={cur:null,next:null,dirty:!1,setFBO:null},kr=["rgba"],Er=["rgba4","rgb565","rgb5 a1"];he.ext_srgb&&Er.push("srgba"),he.ext_color_buffer_half_float&&Er.push("rgba16f","rgb16f"),he.webgl_color_buffer_float&&Er.push("rgba32f");var Hr=["uint8"];he.oes_texture_half_float&&Hr.push("half float","float16"),he.oes_texture_float&&Hr.push("float","float32");function rr(mn,Jr,Fr){this.target=mn,this.texture=Jr,this.renderbuffer=Fr;var Jn=0,hi=0;Jr?(Jn=Jr.width,hi=Jr.height):Fr&&(Jn=Fr.width,hi=Fr.height),this.width=Jn,this.height=hi}function un(mn){mn&&(mn.texture&&mn.texture._texture.decRef(),mn.renderbuffer&&mn.renderbuffer._renderbuffer.decRef())}function pn(mn,Jr,Fr){if(!!mn)if(mn.texture){var Jn=mn.texture._texture,hi=Math.max(1,Jn.width),An=Math.max(1,Jn.height);ct(hi===Jr&&An===Fr,"inconsistent width/height for supplied texture"),Jn.refCount+=1}else{var di=mn.renderbuffer._renderbuffer;ct(di.width===Jr&&di.height===Fr,"inconsistent width/height for renderbuffer"),di.refCount+=1}}function Xr(mn,Jr){Jr&&(Jr.texture?Yt.framebufferTexture2D(js,mn,Jr.target,Jr.texture._texture.texture,0):Yt.framebufferRenderbuffer(js,mn,ol,Jr.renderbuffer._renderbuffer.renderbuffer))}function hn(mn){var Jr=Zs,Fr=null,Jn=null,hi=mn;typeof mn=="object"&&(hi=mn.data,"target"in mn&&(Jr=mn.target|0)),ct.type(hi,"function","invalid attachment data");var An=hi._reglType;return An==="texture2d"?(Fr=hi,ct(Jr===Zs)):An==="textureCube"?(Fr=hi,ct(Jr>=Kl&&Jr<Kl+6,"invalid cube map target")):An==="renderbuffer"?(Jn=hi,Jr=ol):ct.raise("invalid regl object for attachment"),new rr(Jr,Fr,Jn)}function Ye(mn,Jr,Fr,Jn,hi){if(Fr){var An=or.create2D({width:mn,height:Jr,format:Jn,type:hi});return An._texture.refCount=0,new rr(Zs,An,null)}else{var di=Rr.create({width:mn,height:Jr,format:Jn});return di._renderbuffer.refCount=0,new rr(ol,null,di)}}function mr(mn){return mn&&(mn.texture||mn.renderbuffer)}function Qr(mn,Jr,Fr){mn&&(mn.texture?mn.texture.resize(Jr,Fr):mn.renderbuffer&&mn.renderbuffer.resize(Jr,Fr),mn.width=Jr,mn.height=Fr)}var bn=0,Wr={};function dn(){this.id=bn++,Wr[this.id]=this,this.framebuffer=Yt.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Ke(mn){mn.colorAttachments.forEach(un),un(mn.depthAttachment),un(mn.stencilAttachment),un(mn.depthStencilAttachment)}function cn(mn){var Jr=mn.framebuffer;ct(Jr,"must not double destroy framebuffer"),Yt.deleteFramebuffer(Jr),mn.framebuffer=null,lr.framebufferCount--,delete Wr[mn.id]}function Ur(mn){var Jr;Yt.bindFramebuffer(js,mn.framebuffer);var Fr=mn.colorAttachments;for(Jr=0;Jr<Fr.length;++Jr)Xr(No+Jr,Fr[Jr]);for(Jr=Fr.length;Jr<Pe.maxColorAttachments;++Jr)Yt.framebufferTexture2D(js,No+Jr,Zs,null,0);Yt.framebufferTexture2D(js,Ec,Zs,null,0),Yt.framebufferTexture2D(js,ws,Zs,null,0),Yt.framebufferTexture2D(js,Aa,Zs,null,0),Xr(ws,mn.depthAttachment),Xr(Aa,mn.stencilAttachment),Xr(Ec,mn.depthStencilAttachment);var Jn=Yt.checkFramebufferStatus(js);!Yt.isContextLost()&&Jn!==_l&&ct.raise("framebuffer configuration not supported, status = "+ll[Jn]),Yt.bindFramebuffer(js,gr.next?gr.next.framebuffer:null),gr.cur=gr.next,Yt.getError()}function on(mn,Jr){var Fr=new dn;lr.framebufferCount++;function Jn(An,di){var Vn;ct(gr.next!==Fr,"can not update framebuffer which is currently in use");var Oi=0,wi=0,za=!0,Qa=!0,Ei=null,ja=!0,oa="rgba",wa="uint8",Ba=1,Ha=null,io=null,fo=null,Ui=!1;if(typeof An=="number")Oi=An|0,wi=di|0||Oi;else if(!An)Oi=wi=1;else{ct.type(An,"object","invalid arguments for framebuffer");var mi=An;if("shape"in mi){var Ja=mi.shape;ct(Array.isArray(Ja)&&Ja.length>=2,"invalid shape for framebuffer"),Oi=Ja[0],wi=Ja[1]}else"radius"in mi&&(Oi=wi=mi.radius),"width"in mi&&(Oi=mi.width),"height"in mi&&(wi=mi.height);("color"in mi||"colors"in mi)&&(Ei=mi.color||mi.colors,Array.isArray(Ei)&&ct(Ei.length===1||he.webgl_draw_buffers,"multiple render targets not supported")),Ei||("colorCount"in mi&&(Ba=mi.colorCount|0,ct(Ba>0,"invalid color buffer count")),"colorTexture"in mi&&(ja=!!mi.colorTexture,oa="rgba4"),"colorType"in mi&&(wa=mi.colorType,ja?(ct(he.oes_texture_float||!(wa==="float"||wa==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ct(he.oes_texture_half_float||!(wa==="half float"||wa==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):wa==="half float"||wa==="float16"?(ct(he.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),oa="rgba16f"):(wa==="float"||wa==="float32")&&(ct(he.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),oa="rgba32f"),ct.oneOf(wa,Hr,"invalid color type")),"colorFormat"in mi&&(oa=mi.colorFormat,kr.indexOf(oa)>=0?ja=!0:Er.indexOf(oa)>=0?ja=!1:ja?ct.oneOf(mi.colorFormat,kr,"invalid color format for texture"):ct.oneOf(mi.colorFormat,Er,"invalid color format for renderbuffer"))),("depthTexture"in mi||"depthStencilTexture"in mi)&&(Ui=!!(mi.depthTexture||mi.depthStencilTexture),ct(!Ui||he.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in mi&&(typeof mi.depth=="boolean"?za=mi.depth:(Ha=mi.depth,Qa=!1)),"stencil"in mi&&(typeof mi.stencil=="boolean"?Qa=mi.stencil:(io=mi.stencil,za=!1)),"depthStencil"in mi&&(typeof mi.depthStencil=="boolean"?za=Qa=mi.depthStencil:(fo=mi.depthStencil,za=!1,Qa=!1))}var Vi=null,_n=null,Si=null,Ai=null;if(Array.isArray(Ei))Vi=Ei.map(hn);else if(Ei)Vi=[hn(Ei)];else for(Vi=new Array(Ba),Vn=0;Vn<Ba;++Vn)Vi[Vn]=Ye(Oi,wi,ja,oa,wa);ct(he.webgl_draw_buffers||Vi.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ct(Vi.length<=Pe.maxColorAttachments,"too many color attachments, not supported"),Oi=Oi||Vi[0].width,wi=wi||Vi[0].height,Ha?_n=hn(Ha):za&&!Qa&&(_n=Ye(Oi,wi,Ui,"depth","uint32")),io?Si=hn(io):Qa&&!za&&(Si=Ye(Oi,wi,!1,"stencil","uint8")),fo?Ai=hn(fo):!Ha&&!io&&Qa&&za&&(Ai=Ye(Oi,wi,Ui,"depth stencil","depth stencil")),ct(!!Ha+!!io+!!fo<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Na=null;for(Vn=0;Vn<Vi.length;++Vn)if(pn(Vi[Vn],Oi,wi),ct(!Vi[Vn]||Vi[Vn].texture&&Df.indexOf(Vi[Vn].texture._texture.format)>=0||Vi[Vn].renderbuffer&&Mc.indexOf(Vi[Vn].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Vn+" is invalid"),Vi[Vn]&&Vi[Vn].texture){var Gs=sl[Vi[Vn].texture._texture.format]*Pu[Vi[Vn].texture._texture.type];Na===null?Na=Gs:ct(Na===Gs,"all color attachments much have the same number of bits per pixel.")}return pn(_n,Oi,wi),ct(!_n||_n.texture&&_n.texture._texture.format===Tf||_n.renderbuffer&&_n.renderbuffer._renderbuffer.format===Pd,"invalid depth attachment for framebuffer object"),pn(Si,Oi,wi),ct(!Si||Si.renderbuffer&&Si.renderbuffer._renderbuffer.format===Id,"invalid stencil attachment for framebuffer object"),pn(Ai,Oi,wi),ct(!Ai||Ai.texture&&Ai.texture._texture.format===Ld||Ai.renderbuffer&&Ai.renderbuffer._renderbuffer.format===Ld,"invalid depth-stencil attachment for framebuffer object"),Ke(Fr),Fr.width=Oi,Fr.height=wi,Fr.colorAttachments=Vi,Fr.depthAttachment=_n,Fr.stencilAttachment=Si,Fr.depthStencilAttachment=Ai,Jn.color=Vi.map(mr),Jn.depth=mr(_n),Jn.stencil=mr(Si),Jn.depthStencil=mr(Ai),Jn.width=Fr.width,Jn.height=Fr.height,Ur(Fr),Jn}function hi(An,di){ct(gr.next!==Fr,"can not resize a framebuffer which is currently in use");var Vn=Math.max(An|0,1),Oi=Math.max(di|0||Vn,1);if(Vn===Fr.width&&Oi===Fr.height)return Jn;for(var wi=Fr.colorAttachments,za=0;za<wi.length;++za)Qr(wi[za],Vn,Oi);return Qr(Fr.depthAttachment,Vn,Oi),Qr(Fr.stencilAttachment,Vn,Oi),Qr(Fr.depthStencilAttachment,Vn,Oi),Fr.width=Jn.width=Vn,Fr.height=Jn.height=Oi,Ur(Fr),Jn}return Jn(mn,Jr),a(Jn,{resize:hi,_reglType:"framebuffer",_framebuffer:Fr,destroy:function(){cn(Fr),Ke(Fr)},use:function(An){gr.setFBO({framebuffer:Jn},An)}})}function Xn(mn){var Jr=Array(6);function Fr(hi){var An;ct(Jr.indexOf(gr.next)<0,"can not update framebuffer which is currently in use");var di={color:null},Vn=0,Oi=null,wi="rgba",za="uint8",Qa=1;if(typeof hi=="number")Vn=hi|0;else if(!hi)Vn=1;else{ct.type(hi,"object","invalid arguments for framebuffer");var Ei=hi;if("shape"in Ei){var ja=Ei.shape;ct(Array.isArray(ja)&&ja.length>=2,"invalid shape for framebuffer"),ct(ja[0]===ja[1],"cube framebuffer must be square"),Vn=ja[0]}else"radius"in Ei&&(Vn=Ei.radius|0),"width"in Ei?(Vn=Ei.width|0,"height"in Ei&&ct(Ei.height===Vn,"must be square")):"height"in Ei&&(Vn=Ei.height|0);("color"in Ei||"colors"in Ei)&&(Oi=Ei.color||Ei.colors,Array.isArray(Oi)&&ct(Oi.length===1||he.webgl_draw_buffers,"multiple render targets not supported")),Oi||("colorCount"in Ei&&(Qa=Ei.colorCount|0,ct(Qa>0,"invalid color buffer count")),"colorType"in Ei&&(ct.oneOf(Ei.colorType,Hr,"invalid color type"),za=Ei.colorType),"colorFormat"in Ei&&(wi=Ei.colorFormat,ct.oneOf(Ei.colorFormat,kr,"invalid color format for texture"))),"depth"in Ei&&(di.depth=Ei.depth),"stencil"in Ei&&(di.stencil=Ei.stencil),"depthStencil"in Ei&&(di.depthStencil=Ei.depthStencil)}var oa;if(Oi)if(Array.isArray(Oi))for(oa=[],An=0;An<Oi.length;++An)oa[An]=Oi[An];else oa=[Oi];else{oa=Array(Qa);var wa={radius:Vn,format:wi,type:za};for(An=0;An<Qa;++An)oa[An]=or.createCube(wa)}for(di.color=Array(oa.length),An=0;An<oa.length;++An){var Ba=oa[An];ct(typeof Ba=="function"&&Ba._reglType==="textureCube","invalid cube map"),Vn=Vn||Ba.width,ct(Ba.width===Vn&&Ba.height===Vn,"invalid cube map shape"),di.color[An]={target:Kl,data:oa[An]}}for(An=0;An<6;++An){for(var Ha=0;Ha<oa.length;++Ha)di.color[Ha].target=Kl+An;An>0&&(di.depth=Jr[0].depth,di.stencil=Jr[0].stencil,di.depthStencil=Jr[0].depthStencil),Jr[An]?Jr[An](di):Jr[An]=on(di)}return a(Fr,{width:Vn,height:Vn,color:oa})}function Jn(hi){var An,di=hi|0;if(ct(di>0&&di<=Pe.maxCubeMapSize,"invalid radius for cube fbo"),di===Fr.width)return Fr;var Vn=Fr.color;for(An=0;An<Vn.length;++An)Vn[An].resize(di);for(An=0;An<6;++An)Jr[An].resize(di);return Fr.width=Fr.height=di,Fr}return Fr(mn),a(Fr,{faces:Jr,resize:Jn,_reglType:"framebufferCube",destroy:function(){Jr.forEach(function(hi){hi.destroy()})}})}function ii(){gr.cur=null,gr.next=null,gr.dirty=!0,On(Wr).forEach(function(mn){mn.framebuffer=Yt.createFramebuffer(),Ur(mn)})}return a(gr,{getFramebuffer:function(mn){if(typeof mn=="function"&&mn._reglType==="framebuffer"){var Jr=mn._framebuffer;if(Jr instanceof dn)return Jr}return null},create:on,createCube:Xn,clear:function(){On(Wr).forEach(cn)},restore:ii})}var If=5126,Lf=34962;function Jl(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=If,this.offset=0,this.stride=0,this.divisor=0}function Lh(Yt,he,Pe,or,Rr){for(var lr=Pe.maxAttributes,gr=new Array(lr),kr=0;kr<lr;++kr)gr[kr]=new Jl;var Er=0,Hr={},rr={Record:Jl,scope:{},state:gr,currentVAO:null,targetVAO:null,restore:pn()?Wr:function(){},createVAO:dn,getVAO:hn,destroyBuffer:un,setVAO:pn()?Ye:mr,clear:pn()?Qr:function(){}};function un(Ke){for(var cn=0;cn<gr.length;++cn){var Ur=gr[cn];Ur.buffer===Ke&&(Yt.disableVertexAttribArray(cn),Ur.buffer=null)}}function pn(){return he.oes_vertex_array_object}function Xr(){return he.angle_instanced_arrays}function hn(Ke){return typeof Ke=="function"&&Ke._vao?Ke._vao:null}function Ye(Ke){if(Ke!==rr.currentVAO){var cn=pn();Ke?cn.bindVertexArrayOES(Ke.vao):cn.bindVertexArrayOES(null),rr.currentVAO=Ke}}function mr(Ke){if(Ke!==rr.currentVAO){if(Ke)Ke.bindAttrs();else for(var cn=Xr(),Ur=0;Ur<gr.length;++Ur){var on=gr[Ur];on.buffer?(Yt.enableVertexAttribArray(Ur),Yt.vertexAttribPointer(Ur,on.size,on.type,on.normalized,on.stride,on.offfset),cn&&on.divisor&&cn.vertexAttribDivisorANGLE(Ur,on.divisor)):(Yt.disableVertexAttribArray(Ur),Yt.vertexAttrib4f(Ur,on.x,on.y,on.z,on.w))}rr.currentVAO=Ke}}function Qr(){On(Hr).forEach(function(Ke){Ke.destroy()})}function bn(){this.id=++Er,this.attributes=[];var Ke=pn();Ke?this.vao=Ke.createVertexArrayOES():this.vao=null,Hr[this.id]=this,this.buffers=[]}bn.prototype.bindAttrs=function(){for(var Ke=Xr(),cn=this.attributes,Ur=0;Ur<cn.length;++Ur){var on=cn[Ur];on.buffer?(Yt.enableVertexAttribArray(Ur),Yt.bindBuffer(Lf,on.buffer.buffer),Yt.vertexAttribPointer(Ur,on.size,on.type,on.normalized,on.stride,on.offset),Ke&&on.divisor&&Ke.vertexAttribDivisorANGLE(Ur,on.divisor)):(Yt.disableVertexAttribArray(Ur),Yt.vertexAttrib4f(Ur,on.x,on.y,on.z,on.w))}for(var Xn=cn.length;Xn<lr;++Xn)Yt.disableVertexAttribArray(Xn)},bn.prototype.refresh=function(){var Ke=pn();Ke&&(Ke.bindVertexArrayOES(this.vao),this.bindAttrs(),rr.currentVAO=this)},bn.prototype.destroy=function(){if(this.vao){var Ke=pn();this===rr.currentVAO&&(rr.currentVAO=null,Ke.bindVertexArrayOES(null)),Ke.deleteVertexArrayOES(this.vao),this.vao=null}Hr[this.id]&&(delete Hr[this.id],or.vaoCount-=1)};function Wr(){var Ke=pn();Ke&&On(Hr).forEach(function(cn){cn.refresh()})}function dn(Ke){var cn=new bn;or.vaoCount+=1;function Ur(on){ct(Array.isArray(on),"arguments to vertex array constructor must be an array"),ct(on.length<lr,"too many attributes"),ct(on.length>0,"must specify at least one attribute");var Xn={},ii=cn.attributes;ii.length=on.length;for(var mn=0;mn<on.length;++mn){var Jr=on[mn],Fr=ii[mn]=new Jl,Jn=Jr.data||Jr;if(Array.isArray(Jn)||c(Jn)||Vr(Jn)){var hi;cn.buffers[mn]&&(hi=cn.buffers[mn],c(Jn)&&hi._buffer.byteLength>=Jn.byteLength?hi.subdata(Jn):(hi.destroy(),cn.buffers[mn]=null)),cn.buffers[mn]||(hi=cn.buffers[mn]=Rr.create(Jr,Lf,!1,!0)),Fr.buffer=Rr.getBuffer(hi),Fr.size=Fr.buffer.dimension|0,Fr.normalized=!1,Fr.type=Fr.buffer.dtype,Fr.offset=0,Fr.stride=0,Fr.divisor=0,Fr.state=1,Xn[mn]=1}else Rr.getBuffer(Jr)?(Fr.buffer=Rr.getBuffer(Jr),Fr.size=Fr.buffer.dimension|0,Fr.normalized=!1,Fr.type=Fr.buffer.dtype,Fr.offset=0,Fr.stride=0,Fr.divisor=0,Fr.state=1):Rr.getBuffer(Jr.buffer)?(Fr.buffer=Rr.getBuffer(Jr.buffer),Fr.size=(+Jr.size||Fr.buffer.dimension)|0,Fr.normalized=!!Jr.normalized||!1,"type"in Jr?(ct.parameter(Jr.type,mo,"invalid buffer type"),Fr.type=mo[Jr.type]):Fr.type=Fr.buffer.dtype,Fr.offset=(Jr.offset||0)|0,Fr.stride=(Jr.stride||0)|0,Fr.divisor=(Jr.divisor||0)|0,Fr.state=1,ct(Fr.size>=1&&Fr.size<=4,"size must be between 1 and 4"),ct(Fr.offset>=0,"invalid offset"),ct(Fr.stride>=0&&Fr.stride<=255,"stride must be between 0 and 255"),ct(Fr.divisor>=0,"divisor must be positive"),ct(!Fr.divisor||!!he.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Jr?(ct(mn>0,"first attribute must not be a constant"),Fr.x=+Jr.x||0,Fr.y=+Jr.y||0,Fr.z=+Jr.z||0,Fr.w=+Jr.w||0,Fr.state=2):ct(!1,"invalid attribute spec for location "+mn)}for(var An=0;An<cn.buffers.length;++An)!Xn[An]&&cn.buffers[An]&&(cn.buffers[An].destroy(),cn.buffers[An]=null);return cn.refresh(),Ur}return Ur.destroy=function(){for(var on=0;on<cn.buffers.length;++on)cn.buffers[on]&&cn.buffers[on].destroy();cn.buffers.length=0,cn.destroy()},Ur._vao=cn,Ur._reglType="vao",Ur(Ke)}return rr}var Rh=35632,jh=35633,Cc=35718,co=35721;function Iu(Yt,he,Pe,or){var Rr={},lr={};function gr(Ye,mr,Qr,bn){this.name=Ye,this.id=mr,this.location=Qr,this.info=bn}function kr(Ye,mr){for(var Qr=0;Qr<Ye.length;++Qr)if(Ye[Qr].id===mr.id){Ye[Qr].location=mr.location;return}Ye.push(mr)}function Er(Ye,mr,Qr){var bn=Ye===Rh?Rr:lr,Wr=bn[mr];if(!Wr){var dn=he.str(mr);Wr=Yt.createShader(Ye),Yt.shaderSource(Wr,dn),Yt.compileShader(Wr),ct.shaderError(Yt,Wr,dn,Ye,Qr),bn[mr]=Wr}return Wr}var Hr={},rr=[],un=0;function pn(Ye,mr){this.id=un++,this.fragId=Ye,this.vertId=mr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,or.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Xr(Ye,mr,Qr){var bn,Wr,dn=Er(Rh,Ye.fragId),Ke=Er(jh,Ye.vertId),cn=Ye.program=Yt.createProgram();if(Yt.attachShader(cn,dn),Yt.attachShader(cn,Ke),Qr)for(bn=0;bn<Qr.length;++bn){var Ur=Qr[bn];Yt.bindAttribLocation(cn,Ur[0],Ur[1])}Yt.linkProgram(cn),ct.linkError(Yt,cn,he.str(Ye.fragId),he.str(Ye.vertId),mr);var on=Yt.getProgramParameter(cn,Cc);or.profile&&(Ye.stats.uniformsCount=on);var Xn=Ye.uniforms;for(bn=0;bn<on;++bn)if(Wr=Yt.getActiveUniform(cn,bn),Wr)if(Wr.size>1)for(var ii=0;ii<Wr.size;++ii){var mn=Wr.name.replace("[0]","["+ii+"]");kr(Xn,new gr(mn,he.id(mn),Yt.getUniformLocation(cn,mn),Wr))}else kr(Xn,new gr(Wr.name,he.id(Wr.name),Yt.getUniformLocation(cn,Wr.name),Wr));var Jr=Yt.getProgramParameter(cn,co);or.profile&&(Ye.stats.attributesCount=Jr);var Fr=Ye.attributes;for(bn=0;bn<Jr;++bn)Wr=Yt.getActiveAttrib(cn,bn),Wr&&kr(Fr,new gr(Wr.name,he.id(Wr.name),Yt.getAttribLocation(cn,Wr.name),Wr))}or.profile&&(Pe.getMaxUniformsCount=function(){var Ye=0;return rr.forEach(function(mr){mr.stats.uniformsCount>Ye&&(Ye=mr.stats.uniformsCount)}),Ye},Pe.getMaxAttributesCount=function(){var Ye=0;return rr.forEach(function(mr){mr.stats.attributesCount>Ye&&(Ye=mr.stats.attributesCount)}),Ye});function hn(){Rr={},lr={};for(var Ye=0;Ye<rr.length;++Ye)Xr(rr[Ye],null,rr[Ye].attributes.map(function(mr){return[mr.location,mr.name]}))}return{clear:function(){var Ye=Yt.deleteShader.bind(Yt);On(Rr).forEach(Ye),Rr={},On(lr).forEach(Ye),lr={},rr.forEach(function(mr){Yt.deleteProgram(mr.program)}),rr.length=0,Hr={},Pe.shaderCount=0},program:function(Ye,mr,Qr,bn){ct.command(Ye>=0,"missing vertex shader",Qr),ct.command(mr>=0,"missing fragment shader",Qr);var Wr=Hr[mr];Wr||(Wr=Hr[mr]={});var dn=Wr[Ye];if(dn&&(dn.refCount++,!bn))return dn;var Ke=new pn(mr,Ye);return Pe.shaderCount++,Xr(Ke,Qr,bn),dn||(Wr[Ye]=Ke),rr.push(Ke),a(Ke,{destroy:function(){if(Ke.refCount--,Ke.refCount<=0){Yt.deleteProgram(Ke.program);var cn=rr.indexOf(Ke);rr.splice(cn,1),Pe.shaderCount--}Wr[Ke.vertId].refCount<=0&&(Yt.deleteShader(lr[Ke.vertId]),delete lr[Ke.vertId],delete Hr[Ke.fragId][Ke.vertId]),Object.keys(Hr[Ke.fragId]).length||(Yt.deleteShader(Rr[Ke.fragId]),delete Rr[Ke.fragId],delete Hr[Ke.fragId])}})},restore:hn,shader:Er,frag:-1,vert:-1}}var Rf=6408,Ac=5121,wd=3333,Lu=5126;function Ru(Yt,he,Pe,or,Rr,lr,gr){function kr(rr){var un;he.next===null?(ct(Rr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),un=Ac):(ct(he.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),un=he.next.colorAttachments[0].texture._texture.type,lr.oes_texture_float?(ct(un===Ac||un===Lu,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),un===Lu&&ct(gr.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ct(un===Ac,"Reading from a framebuffer is only allowed for the type 'uint8'"));var pn=0,Xr=0,hn=or.framebufferWidth,Ye=or.framebufferHeight,mr=null;c(rr)?mr=rr:rr&&(ct.type(rr,"object","invalid arguments to regl.read()"),pn=rr.x|0,Xr=rr.y|0,ct(pn>=0&&pn<or.framebufferWidth,"invalid x offset for regl.read"),ct(Xr>=0&&Xr<or.framebufferHeight,"invalid y offset for regl.read"),hn=(rr.width||or.framebufferWidth-pn)|0,Ye=(rr.height||or.framebufferHeight-Xr)|0,mr=rr.data||null),mr&&(un===Ac?ct(mr instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):un===Lu&&ct(mr instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ct(hn>0&&hn+pn<=or.framebufferWidth,"invalid width for read pixels"),ct(Ye>0&&Ye+Xr<=or.framebufferHeight,"invalid height for read pixels"),Pe();var Qr=hn*Ye*4;return mr||(un===Ac?mr=new Uint8Array(Qr):un===Lu&&(mr=mr||new Float32Array(Qr))),ct.isTypedArray(mr,"data buffer for regl.read() must be a typedarray"),ct(mr.byteLength>=Qr,"data buffer for regl.read() too small"),Yt.pixelStorei(wd,4),Yt.readPixels(pn,Xr,hn,Ye,Rf,un,mr),mr}function Er(rr){var un;return he.setFBO({framebuffer:rr.framebuffer},function(){un=kr(rr)}),un}function Hr(rr){return!rr||!("framebuffer"in rr)?kr(rr):Er(rr)}return Hr}function Fo(Yt){return Array.prototype.slice.call(Yt)}function qo(Yt){return Fo(Yt).join("")}function Bd(){var Yt=0,he=[],Pe=[];function or(un){for(var pn=0;pn<Pe.length;++pn)if(Pe[pn]===un)return he[pn];var Xr="g"+Yt++;return he.push(Xr),Pe.push(un),Xr}function Rr(){var un=[];function pn(){un.push.apply(un,Fo(arguments))}var Xr=[];function hn(){var Ye="v"+Yt++;return Xr.push(Ye),arguments.length>0&&(un.push(Ye,"="),un.push.apply(un,Fo(arguments)),un.push(";")),Ye}return a(pn,{def:hn,toString:function(){return qo([Xr.length>0?"var "+Xr.join(",")+";":"",qo(un)])}})}function lr(){var un=Rr(),pn=Rr(),Xr=un.toString,hn=pn.toString;function Ye(mr,Qr){pn(mr,Qr,"=",un.def(mr,Qr),";")}return a(function(){un.apply(un,Fo(arguments))},{def:un.def,entry:un,exit:pn,save:Ye,set:function(mr,Qr,bn){Ye(mr,Qr),un(mr,Qr,"=",bn,";")},toString:function(){return Xr()+hn()}})}function gr(){var un=qo(arguments),pn=lr(),Xr=lr(),hn=pn.toString,Ye=Xr.toString;return a(pn,{then:function(){return pn.apply(pn,Fo(arguments)),this},else:function(){return Xr.apply(Xr,Fo(arguments)),this},toString:function(){var mr=Ye();return mr&&(mr="else{"+mr+"}"),qo(["if(",un,"){",hn(),"}",mr])}})}var kr=Rr(),Er={};function Hr(un,pn){var Xr=[];function hn(){var Wr="a"+Xr.length;return Xr.push(Wr),Wr}pn=pn||0;for(var Ye=0;Ye<pn;++Ye)hn();var mr=lr(),Qr=mr.toString,bn=Er[un]=a(mr,{arg:hn,toString:function(){return qo(["function(",Xr.join(),"){",Qr(),"}"])}});return bn}function rr(){var un=['"use strict";',kr,"return {"];Object.keys(Er).forEach(function(hn){un.push('"',hn,'":',Er[hn].toString(),",")}),un.push("}");var pn=qo(un).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Xr=Function.apply(null,he.concat(pn));return Xr.apply(null,Pe)}return{global:kr,link:or,block:Rr,proc:Hr,scope:lr,cond:gr,compile:rr}}var ju="xyzw".split(""),jf=5121,ul=1,wf=2,Bf=0,Tc=1,Dc=2,Pc=3,ql=4,wh=5,Bh=6,Nf="dither",tu="blend.enable",wu="blend.color",Ff="blend.equation",Al="blend.func",Nh="depth.enable",Bu="depth.func",fs="depth.range",Fh="depth.mask",Gf="colorMask",cl="cull.enable",Nu="cull.face",Uf="frontFace",eu="lineWidth",Gh="polygonOffset.enable",Ic="polygonOffset.offset",Fu="sample.alpha",Uh="sample.enable",Gu="sample.coverage",Lc="stencil.enable",Rc="stencil.mask",Uu="stencil.func",jc="stencil.opFront",Tl="stencil.opBack",wc="scissor.enable",Wu="scissor.box",Bs="viewport",zu="profile",Dl="framebuffer",fl="vert",Vu="frag",$s="elements",Pl="primitive",Il="count",ku="offset",Bc="instances",Xu="vao",Yu="Width",Nc="Height",Ll=Dl+Yu,hl=Dl+Nc,Wf=Bs+Yu,Nd=Bs+Nc,Fc="drawingBuffer",Hu=Fc+Yu,dl=Fc+Nc,Fd=[Al,Ff,Uu,jc,Tl,Gu,Bs,Wu,Ic],Rl=34962,Gc=34963,zf=35632,Gd=35633,Ku=3553,Vf=34067,kf=2884,Ud=3042,Wh=3024,jl=2960,zh=2929,Vh=3089,Wd=32823,zd=32926,Vd=32928,Uc=5126,ru=35664,Ss=35665,Wc=35666,Xf=5124,zc=35667,Go=35668,Vc=35669,kc=35670,Xc=35671,_u=35672,vl=35673,ts=35674,wl=35675,Zu=35676,nu=35678,Cn=35680,kd=4,iu=1028,Zo=1029,gl=2304,Pr=2305,$u=32775,kh=32776,Xh=519,pl=7680,Yh=0,Yf=1,Yc=32774,Xd=513,Hh=36160,Qu=36064,Ns={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ju=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Qs={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Js={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Hf={frag:zf,vert:Gd},Hc={cw:gl,ccw:Pr};function qu(Yt){return Array.isArray(Yt)||c(Yt)||Vr(Yt)}function Kf(Yt){return Yt.sort(function(he,Pe){return he===Bs?-1:Pe===Bs?1:he<Pe?-1:1})}function Po(Yt,he,Pe,or){this.thisDep=Yt,this.contextDep=he,this.propDep=Pe,this.append=or}function Fs(Yt){return Yt&&!(Yt.thisDep||Yt.contextDep||Yt.propDep)}function Ra(Yt){return new Po(!1,!1,!1,Yt)}function Uo(Yt,he){var Pe=Yt.type;if(Pe===Bf){var or=Yt.data.length;return new Po(!0,or>=1,or>=2,he)}else if(Pe===ql){var Rr=Yt.data;return new Po(Rr.thisDep,Rr.contextDep,Rr.propDep,he)}else{if(Pe===wh)return new Po(!1,!1,!1,he);if(Pe===Bh){for(var lr=!1,gr=!1,kr=!1,Er=0;Er<Yt.data.length;++Er){var Hr=Yt.data[Er];if(Hr.type===Tc)kr=!0;else if(Hr.type===Dc)gr=!0;else if(Hr.type===Pc)lr=!0;else if(Hr.type===Bf){lr=!0;var rr=Hr.data;rr>=1&&(gr=!0),rr>=2&&(kr=!0)}else Hr.type===ql&&(lr=lr||Hr.data.thisDep,gr=gr||Hr.data.contextDep,kr=kr||Hr.data.propDep)}return new Po(lr,gr,kr,he)}else return new Po(Pe===Pc,Pe===Dc,Pe===Tc,he)}}var Ms=new Po(!1,!1,!1,function(){});function au(Yt,he,Pe,or,Rr,lr,gr,kr,Er,Hr,rr,un,pn,Xr,hn){var Ye=Hr.Record,mr={add:32774,subtract:32778,"reverse subtract":32779};Pe.ext_blend_minmax&&(mr.min=$u,mr.max=kh);var Qr=Pe.angle_instanced_arrays,bn=Pe.webgl_draw_buffers,Wr={dirty:!0,profile:hn.profile},dn={},Ke=[],cn={},Ur={};function on(pe){return pe.replace(".","_")}function Xn(pe,ae,Le){var Qe=on(pe);Ke.push(pe),dn[Qe]=Wr[Qe]=!!Le,cn[Qe]=ae}function ii(pe,ae,Le){var Qe=on(pe);Ke.push(pe),Array.isArray(Le)?(Wr[Qe]=Le.slice(),dn[Qe]=Le.slice()):Wr[Qe]=dn[Qe]=Le,Ur[Qe]=ae}Xn(Nf,Wh),Xn(tu,Ud),ii(wu,"blendColor",[0,0,0,0]),ii(Ff,"blendEquationSeparate",[Yc,Yc]),ii(Al,"blendFuncSeparate",[Yf,Yh,Yf,Yh]),Xn(Nh,zh,!0),ii(Bu,"depthFunc",Xd),ii(fs,"depthRange",[0,1]),ii(Fh,"depthMask",!0),ii(Gf,Gf,[!0,!0,!0,!0]),Xn(cl,kf),ii(Nu,"cullFace",Zo),ii(Uf,Uf,Pr),ii(eu,eu,1),Xn(Gh,Wd),ii(Ic,"polygonOffset",[0,0]),Xn(Fu,zd),Xn(Uh,Vd),ii(Gu,"sampleCoverage",[1,!1]),Xn(Lc,jl),ii(Rc,"stencilMask",-1),ii(Uu,"stencilFunc",[Xh,0,-1]),ii(jc,"stencilOpSeparate",[iu,pl,pl,pl]),ii(Tl,"stencilOpSeparate",[Zo,pl,pl,pl]),Xn(wc,Vh),ii(Wu,"scissor",[0,0,Yt.drawingBufferWidth,Yt.drawingBufferHeight]),ii(Bs,Bs,[0,0,Yt.drawingBufferWidth,Yt.drawingBufferHeight]);var mn={gl:Yt,context:pn,strings:he,next:dn,current:Wr,draw:un,elements:lr,buffer:Rr,shader:rr,attributes:Hr.state,vao:Hr,uniforms:Er,framebuffer:kr,extensions:Pe,timer:Xr,isBufferArgs:qu},Jr={primTypes:be,compareFuncs:Qs,blendFuncs:Ns,blendEquations:mr,stencilOps:Js,glTypes:mo,orientationType:Hc};ct.optional(function(){mn.isArrayLike=gi}),bn&&(Jr.backBuffer=[Zo],Jr.drawBuffer=ze(or.maxDrawbuffers,function(pe){return pe===0?[0]:ze(pe,function(ae){return Qu+ae})}));var Fr=0;function Jn(){var pe=Bd(),ae=pe.link,Le=pe.global;pe.id=Fr++,pe.batchId="0";var Qe=ae(mn),Je=pe.shared={props:"a0"};Object.keys(mn).forEach(function(Re){Je[Re]=Le.def(Qe,".",Re)}),ct.optional(function(){pe.CHECK=ae(ct),pe.commandStr=ct.guessCommand(),pe.command=ae(pe.commandStr),pe.assert=function(Re,ge,ke){Re("if(!(",ge,"))",this.CHECK,".commandRaise(",ae(ke),",",this.command,");")},Jr.invalidBlendCombinations=Ju});var Be=pe.next={},je=pe.current={};Object.keys(Ur).forEach(function(Re){Array.isArray(Wr[Re])&&(Be[Re]=Le.def(Je.next,".",Re),je[Re]=Le.def(Je.current,".",Re))});var We=pe.constants={};Object.keys(Jr).forEach(function(Re){We[Re]=Le.def(JSON.stringify(Jr[Re]))}),pe.invoke=function(Re,ge){switch(ge.type){case Bf:var ke=["this",Je.context,Je.props,pe.batchId];return Re.def(ae(ge.data),".call(",ke.slice(0,Math.max(ge.data.length+1,4)),")");case Tc:return Re.def(Je.props,ge.data);case Dc:return Re.def(Je.context,ge.data);case Pc:return Re.def("this",ge.data);case ql:return ge.data.append(pe,Re),ge.data.ref;case wh:return ge.data.toString();case Bh:return ge.data.map(function(tr){return pe.invoke(Re,tr)})}},pe.attribCache={};var me={};return pe.scopeAttrib=function(Re){var ge=he.id(Re);if(ge in me)return me[ge];var ke=Hr.scope[ge];ke||(ke=Hr.scope[ge]=new Ye);var tr=me[ge]=ae(ke);return tr},pe}function hi(pe){var ae=pe.static,Le=pe.dynamic,Qe;if(zu in ae){var Je=!!ae[zu];Qe=Ra(function(je,We){return Je}),Qe.enable=Je}else if(zu in Le){var Be=Le[zu];Qe=Uo(Be,function(je,We){return je.invoke(We,Be)})}return Qe}function An(pe,ae){var Le=pe.static,Qe=pe.dynamic;if(Dl in Le){var Je=Le[Dl];return Je?(Je=kr.getFramebuffer(Je),ct.command(Je,"invalid framebuffer object"),Ra(function(je,We){var me=je.link(Je),Re=je.shared;We.set(Re.framebuffer,".next",me);var ge=Re.context;return We.set(ge,"."+Ll,me+".width"),We.set(ge,"."+hl,me+".height"),me})):Ra(function(je,We){var me=je.shared;We.set(me.framebuffer,".next","null");var Re=me.context;return We.set(Re,"."+Ll,Re+"."+Hu),We.set(Re,"."+hl,Re+"."+dl),"null"})}else if(Dl in Qe){var Be=Qe[Dl];return Uo(Be,function(je,We){var me=je.invoke(We,Be),Re=je.shared,ge=Re.framebuffer,ke=We.def(ge,".getFramebuffer(",me,")");ct.optional(function(){je.assert(We,"!"+me+"||"+ke,"invalid framebuffer object")}),We.set(ge,".next",ke);var tr=Re.context;return We.set(tr,"."+Ll,ke+"?"+ke+".width:"+tr+"."+Hu),We.set(tr,"."+hl,ke+"?"+ke+".height:"+tr+"."+dl),ke})}else return null}function di(pe,ae,Le){var Qe=pe.static,Je=pe.dynamic;function Be(me){if(me in Qe){var Re=Qe[me];ct.commandType(Re,"object","invalid "+me,Le.commandStr);var ge=!0,ke=Re.x|0,tr=Re.y|0,Tr,Ir;return"width"in Re?(Tr=Re.width|0,ct.command(Tr>=0,"invalid "+me,Le.commandStr)):ge=!1,"height"in Re?(Ir=Re.height|0,ct.command(Ir>=0,"invalid "+me,Le.commandStr)):ge=!1,new Po(!ge&&ae&&ae.thisDep,!ge&&ae&&ae.contextDep,!ge&&ae&&ae.propDep,function(Rn,fi){var Ln=Rn.shared.context,Kn=Tr;"width"in Re||(Kn=fi.def(Ln,".",Ll,"-",ke));var si=Ir;return"height"in Re||(si=fi.def(Ln,".",hl,"-",tr)),[ke,tr,Kn,si]})}else if(me in Je){var xr=Je[me],_r=Uo(xr,function(Rn,fi){var Ln=Rn.invoke(fi,xr);ct.optional(function(){Rn.assert(fi,Ln+"&&typeof "+Ln+'==="object"',"invalid "+me)});var Kn=Rn.shared.context,si=fi.def(Ln,".x|0"),Ni=fi.def(Ln,".y|0"),ta=fi.def('"width" in ',Ln,"?",Ln,".width|0:","(",Kn,".",Ll,"-",si,")"),Va=fi.def('"height" in ',Ln,"?",Ln,".height|0:","(",Kn,".",hl,"-",Ni,")");return ct.optional(function(){Rn.assert(fi,ta+">=0&&"+Va+">=0","invalid "+me)}),[si,Ni,ta,Va]});return ae&&(_r.thisDep=_r.thisDep||ae.thisDep,_r.contextDep=_r.contextDep||ae.contextDep,_r.propDep=_r.propDep||ae.propDep),_r}else return ae?new Po(ae.thisDep,ae.contextDep,ae.propDep,function(Rn,fi){var Ln=Rn.shared.context;return[0,0,fi.def(Ln,".",Ll),fi.def(Ln,".",hl)]}):null}var je=Be(Bs);if(je){var We=je;je=new Po(je.thisDep,je.contextDep,je.propDep,function(me,Re){var ge=We.append(me,Re),ke=me.shared.context;return Re.set(ke,"."+Wf,ge[2]),Re.set(ke,"."+Nd,ge[3]),ge})}return{viewport:je,scissor_box:Be(Wu)}}function Vn(pe,ae){var Le=pe.static,Qe=typeof Le[Vu]=="string"&&typeof Le[fl]=="string";if(Qe){if(Object.keys(ae.dynamic).length>0)return null;var Je=ae.static,Be=Object.keys(Je);if(Be.length>0&&typeof Je[Be[0]]=="number"){for(var je=[],We=0;We<Be.length;++We)ct(typeof Je[Be[We]]=="number","must specify all vertex attribute locations when using vaos"),je.push([Je[Be[We]]|0,Be[We]]);return je}}return null}function Oi(pe,ae,Le){var Qe=pe.static,Je=pe.dynamic;function Be(ge){if(ge in Qe){var ke=he.id(Qe[ge]);ct.optional(function(){rr.shader(Hf[ge],ke,ct.guessCommand())});var tr=Ra(function(){return ke});return tr.id=ke,tr}else if(ge in Je){var Tr=Je[ge];return Uo(Tr,function(Ir,xr){var _r=Ir.invoke(xr,Tr),Rn=xr.def(Ir.shared.strings,".id(",_r,")");return ct.optional(function(){xr(Ir.shared.shader,".shader(",Hf[ge],",",Rn,",",Ir.command,");")}),Rn})}return null}var je=Be(Vu),We=Be(fl),me=null,Re;return Fs(je)&&Fs(We)?(me=rr.program(We.id,je.id,null,Le),Re=Ra(function(ge,ke){return ge.link(me)})):Re=new Po(je&&je.thisDep||We&&We.thisDep,je&&je.contextDep||We&&We.contextDep,je&&je.propDep||We&&We.propDep,function(ge,ke){var tr=ge.shared.shader,Tr;je?Tr=je.append(ge,ke):Tr=ke.def(tr,".",Vu);var Ir;We?Ir=We.append(ge,ke):Ir=ke.def(tr,".",fl);var xr=tr+".program("+Ir+","+Tr;return ct.optional(function(){xr+=","+ge.command}),ke.def(xr+")")}),{frag:je,vert:We,progVar:Re,program:me}}function wi(pe,ae){var Le=pe.static,Qe=pe.dynamic;function Je(){if($s in Le){var ge=Le[$s];qu(ge)?ge=lr.getElements(lr.create(ge,!0)):ge&&(ge=lr.getElements(ge),ct.command(ge,"invalid elements",ae.commandStr));var ke=Ra(function(Tr,Ir){if(ge){var xr=Tr.link(ge);return Tr.ELEMENTS=xr,xr}return Tr.ELEMENTS=null,null});return ke.value=ge,ke}else if($s in Qe){var tr=Qe[$s];return Uo(tr,function(Tr,Ir){var xr=Tr.shared,_r=xr.isBufferArgs,Rn=xr.elements,fi=Tr.invoke(Ir,tr),Ln=Ir.def("null"),Kn=Ir.def(_r,"(",fi,")"),si=Tr.cond(Kn).then(Ln,"=",Rn,".createStream(",fi,");").else(Ln,"=",Rn,".getElements(",fi,");");return ct.optional(function(){Tr.assert(si.else,"!"+fi+"||"+Ln,"invalid elements")}),Ir.entry(si),Ir.exit(Tr.cond(Kn).then(Rn,".destroyStream(",Ln,");")),Tr.ELEMENTS=Ln,Ln})}return null}var Be=Je();function je(){if(Pl in Le){var ge=Le[Pl];return ct.commandParameter(ge,be,"invalid primitve",ae.commandStr),Ra(function(tr,Tr){return be[ge]})}else if(Pl in Qe){var ke=Qe[Pl];return Uo(ke,function(tr,Tr){var Ir=tr.constants.primTypes,xr=tr.invoke(Tr,ke);return ct.optional(function(){tr.assert(Tr,xr+" in "+Ir,"invalid primitive, must be one of "+Object.keys(be))}),Tr.def(Ir,"[",xr,"]")})}else if(Be)return Fs(Be)?Be.value?Ra(function(tr,Tr){return Tr.def(tr.ELEMENTS,".primType")}):Ra(function(){return kd}):new Po(Be.thisDep,Be.contextDep,Be.propDep,function(tr,Tr){var Ir=tr.ELEMENTS;return Tr.def(Ir,"?",Ir,".primType:",kd)});return null}function We(ge,ke){if(ge in Le){var tr=Le[ge]|0;return ct.command(!ke||tr>=0,"invalid "+ge,ae.commandStr),Ra(function(Ir,xr){return ke&&(Ir.OFFSET=tr),tr})}else if(ge in Qe){var Tr=Qe[ge];return Uo(Tr,function(Ir,xr){var _r=Ir.invoke(xr,Tr);return ke&&(Ir.OFFSET=_r,ct.optional(function(){Ir.assert(xr,_r+">=0","invalid "+ge)})),_r})}else if(ke&&Be)return Ra(function(Ir,xr){return Ir.OFFSET="0",0});return null}var me=We(ku,!0);function Re(){if(Il in Le){var ge=Le[Il]|0;return ct.command(typeof ge=="number"&&ge>=0,"invalid vertex count",ae.commandStr),Ra(function(){return ge})}else if(Il in Qe){var ke=Qe[Il];return Uo(ke,function(Ir,xr){var _r=Ir.invoke(xr,ke);return ct.optional(function(){Ir.assert(xr,"typeof "+_r+'==="number"&&'+_r+">=0&&"+_r+"===("+_r+"|0)","invalid vertex count")}),_r})}else if(Be)if(Fs(Be)){if(Be)return me?new Po(me.thisDep,me.contextDep,me.propDep,function(Ir,xr){var _r=xr.def(Ir.ELEMENTS,".vertCount-",Ir.OFFSET);return ct.optional(function(){Ir.assert(xr,_r+">=0","invalid vertex offset/element buffer too small")}),_r}):Ra(function(Ir,xr){return xr.def(Ir.ELEMENTS,".vertCount")});var tr=Ra(function(){return-1});return ct.optional(function(){tr.MISSING=!0}),tr}else{var Tr=new Po(Be.thisDep||me.thisDep,Be.contextDep||me.contextDep,Be.propDep||me.propDep,function(Ir,xr){var _r=Ir.ELEMENTS;return Ir.OFFSET?xr.def(_r,"?",_r,".vertCount-",Ir.OFFSET,":-1"):xr.def(_r,"?",_r,".vertCount:-1")});return ct.optional(function(){Tr.DYNAMIC=!0}),Tr}return null}return{elements:Be,primitive:je(),count:Re(),instances:We(Bc,!1),offset:me}}function za(pe,ae){var Le=pe.static,Qe=pe.dynamic,Je={};return Ke.forEach(function(Be){var je=on(Be);function We(me,Re){if(Be in Le){var ge=me(Le[Be]);Je[je]=Ra(function(){return ge})}else if(Be in Qe){var ke=Qe[Be];Je[je]=Uo(ke,function(tr,Tr){return Re(tr,Tr,tr.invoke(Tr,ke))})}}switch(Be){case cl:case tu:case Nf:case Lc:case Nh:case wc:case Gh:case Fu:case Uh:case Fh:return We(function(me){return ct.commandType(me,"boolean",Be,ae.commandStr),me},function(me,Re,ge){return ct.optional(function(){me.assert(Re,"typeof "+ge+'==="boolean"',"invalid flag "+Be,me.commandStr)}),ge});case Bu:return We(function(me){return ct.commandParameter(me,Qs,"invalid "+Be,ae.commandStr),Qs[me]},function(me,Re,ge){var ke=me.constants.compareFuncs;return ct.optional(function(){me.assert(Re,ge+" in "+ke,"invalid "+Be+", must be one of "+Object.keys(Qs))}),Re.def(ke,"[",ge,"]")});case fs:return We(function(me){return ct.command(gi(me)&&me.length===2&&typeof me[0]=="number"&&typeof me[1]=="number"&&me[0]<=me[1],"depth range is 2d array",ae.commandStr),me},function(me,Re,ge){ct.optional(function(){me.assert(Re,me.shared.isArrayLike+"("+ge+")&&"+ge+".length===2&&typeof "+ge+'[0]==="number"&&typeof '+ge+'[1]==="number"&&'+ge+"[0]<="+ge+"[1]","depth range must be a 2d array")});var ke=Re.def("+",ge,"[0]"),tr=Re.def("+",ge,"[1]");return[ke,tr]});case Al:return We(function(me){ct.commandType(me,"object","blend.func",ae.commandStr);var Re="srcRGB"in me?me.srcRGB:me.src,ge="srcAlpha"in me?me.srcAlpha:me.src,ke="dstRGB"in me?me.dstRGB:me.dst,tr="dstAlpha"in me?me.dstAlpha:me.dst;return ct.commandParameter(Re,Ns,je+".srcRGB",ae.commandStr),ct.commandParameter(ge,Ns,je+".srcAlpha",ae.commandStr),ct.commandParameter(ke,Ns,je+".dstRGB",ae.commandStr),ct.commandParameter(tr,Ns,je+".dstAlpha",ae.commandStr),ct.command(Ju.indexOf(Re+", "+ke)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Re+", "+ke+")",ae.commandStr),[Ns[Re],Ns[ke],Ns[ge],Ns[tr]]},function(me,Re,ge){var ke=me.constants.blendFuncs;ct.optional(function(){me.assert(Re,ge+"&&typeof "+ge+'==="object"',"invalid blend func, must be an object")});function tr(Ln,Kn){var si=Re.def('"',Ln,Kn,'" in ',ge,"?",ge,".",Ln,Kn,":",ge,".",Ln);return ct.optional(function(){me.assert(Re,si+" in "+ke,"invalid "+Be+"."+Ln+Kn+", must be one of "+Object.keys(Ns))}),si}var Tr=tr("src","RGB"),Ir=tr("dst","RGB");ct.optional(function(){var Ln=me.constants.invalidBlendCombinations;me.assert(Re,Ln+".indexOf("+Tr+'+", "+'+Ir+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var xr=Re.def(ke,"[",Tr,"]"),_r=Re.def(ke,"[",tr("src","Alpha"),"]"),Rn=Re.def(ke,"[",Ir,"]"),fi=Re.def(ke,"[",tr("dst","Alpha"),"]");return[xr,Rn,_r,fi]});case Ff:return We(function(me){if(typeof me=="string")return ct.commandParameter(me,mr,"invalid "+Be,ae.commandStr),[mr[me],mr[me]];if(typeof me=="object")return ct.commandParameter(me.rgb,mr,Be+".rgb",ae.commandStr),ct.commandParameter(me.alpha,mr,Be+".alpha",ae.commandStr),[mr[me.rgb],mr[me.alpha]];ct.commandRaise("invalid blend.equation",ae.commandStr)},function(me,Re,ge){var ke=me.constants.blendEquations,tr=Re.def(),Tr=Re.def(),Ir=me.cond("typeof ",ge,'==="string"');return ct.optional(function(){function xr(_r,Rn,fi){me.assert(_r,fi+" in "+ke,"invalid "+Rn+", must be one of "+Object.keys(mr))}xr(Ir.then,Be,ge),me.assert(Ir.else,ge+"&&typeof "+ge+'==="object"',"invalid "+Be),xr(Ir.else,Be+".rgb",ge+".rgb"),xr(Ir.else,Be+".alpha",ge+".alpha")}),Ir.then(tr,"=",Tr,"=",ke,"[",ge,"];"),Ir.else(tr,"=",ke,"[",ge,".rgb];",Tr,"=",ke,"[",ge,".alpha];"),Re(Ir),[tr,Tr]});case wu:return We(function(me){return ct.command(gi(me)&&me.length===4,"blend.color must be a 4d array",ae.commandStr),ze(4,function(Re){return+me[Re]})},function(me,Re,ge){return ct.optional(function(){me.assert(Re,me.shared.isArrayLike+"("+ge+")&&"+ge+".length===4","blend.color must be a 4d array")}),ze(4,function(ke){return Re.def("+",ge,"[",ke,"]")})});case Rc:return We(function(me){return ct.commandType(me,"number",je,ae.commandStr),me|0},function(me,Re,ge){return ct.optional(function(){me.assert(Re,"typeof "+ge+'==="number"',"invalid stencil.mask")}),Re.def(ge,"|0")});case Uu:return We(function(me){ct.commandType(me,"object",je,ae.commandStr);var Re=me.cmp||"keep",ge=me.ref||0,ke="mask"in me?me.mask:-1;return ct.commandParameter(Re,Qs,Be+".cmp",ae.commandStr),ct.commandType(ge,"number",Be+".ref",ae.commandStr),ct.commandType(ke,"number",Be+".mask",ae.commandStr),[Qs[Re],ge,ke]},function(me,Re,ge){var ke=me.constants.compareFuncs;ct.optional(function(){function xr(){me.assert(Re,Array.prototype.join.call(arguments,""),"invalid stencil.func")}xr(ge+"&&typeof ",ge,'==="object"'),xr('!("cmp" in ',ge,")||(",ge,".cmp in ",ke,")")});var tr=Re.def('"cmp" in ',ge,"?",ke,"[",ge,".cmp]",":",pl),Tr=Re.def(ge,".ref|0"),Ir=Re.def('"mask" in ',ge,"?",ge,".mask|0:-1");return[tr,Tr,Ir]});case jc:case Tl:return We(function(me){ct.commandType(me,"object",je,ae.commandStr);var Re=me.fail||"keep",ge=me.zfail||"keep",ke=me.zpass||"keep";return ct.commandParameter(Re,Js,Be+".fail",ae.commandStr),ct.commandParameter(ge,Js,Be+".zfail",ae.commandStr),ct.commandParameter(ke,Js,Be+".zpass",ae.commandStr),[Be===Tl?Zo:iu,Js[Re],Js[ge],Js[ke]]},function(me,Re,ge){var ke=me.constants.stencilOps;ct.optional(function(){me.assert(Re,ge+"&&typeof "+ge+'==="object"',"invalid "+Be)});function tr(Tr){return ct.optional(function(){me.assert(Re,'!("'+Tr+'" in '+ge+")||("+ge+"."+Tr+" in "+ke+")","invalid "+Be+"."+Tr+", must be one of "+Object.keys(Js))}),Re.def('"',Tr,'" in ',ge,"?",ke,"[",ge,".",Tr,"]:",pl)}return[Be===Tl?Zo:iu,tr("fail"),tr("zfail"),tr("zpass")]});case Ic:return We(function(me){ct.commandType(me,"object",je,ae.commandStr);var Re=me.factor|0,ge=me.units|0;return ct.commandType(Re,"number",je+".factor",ae.commandStr),ct.commandType(ge,"number",je+".units",ae.commandStr),[Re,ge]},function(me,Re,ge){ct.optional(function(){me.assert(Re,ge+"&&typeof "+ge+'==="object"',"invalid "+Be)});var ke=Re.def(ge,".factor|0"),tr=Re.def(ge,".units|0");return[ke,tr]});case Nu:return We(function(me){var Re=0;return me==="front"?Re=iu:me==="back"&&(Re=Zo),ct.command(!!Re,je,ae.commandStr),Re},function(me,Re,ge){return ct.optional(function(){me.assert(Re,ge+'==="front"||'+ge+'==="back"',"invalid cull.face")}),Re.def(ge,'==="front"?',iu,":",Zo)});case eu:return We(function(me){return ct.command(typeof me=="number"&&me>=or.lineWidthDims[0]&&me<=or.lineWidthDims[1],"invalid line width, must be a positive number between "+or.lineWidthDims[0]+" and "+or.lineWidthDims[1],ae.commandStr),me},function(me,Re,ge){return ct.optional(function(){me.assert(Re,"typeof "+ge+'==="number"&&'+ge+">="+or.lineWidthDims[0]+"&&"+ge+"<="+or.lineWidthDims[1],"invalid line width")}),ge});case Uf:return We(function(me){return ct.commandParameter(me,Hc,je,ae.commandStr),Hc[me]},function(me,Re,ge){return ct.optional(function(){me.assert(Re,ge+'==="cw"||'+ge+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Re.def(ge+'==="cw"?'+gl+":"+Pr)});case Gf:return We(function(me){return ct.command(gi(me)&&me.length===4,"color.mask must be length 4 array",ae.commandStr),me.map(function(Re){return!!Re})},function(me,Re,ge){return ct.optional(function(){me.assert(Re,me.shared.isArrayLike+"("+ge+")&&"+ge+".length===4","invalid color.mask")}),ze(4,function(ke){return"!!"+ge+"["+ke+"]"})});case Gu:return We(function(me){ct.command(typeof me=="object"&&me,je,ae.commandStr);var Re="value"in me?me.value:1,ge=!!me.invert;return ct.command(typeof Re=="number"&&Re>=0&&Re<=1,"sample.coverage.value must be a number between 0 and 1",ae.commandStr),[Re,ge]},function(me,Re,ge){ct.optional(function(){me.assert(Re,ge+"&&typeof "+ge+'==="object"',"invalid sample.coverage")});var ke=Re.def('"value" in ',ge,"?+",ge,".value:1"),tr=Re.def("!!",ge,".invert");return[ke,tr]})}}),Je}function Qa(pe,ae){var Le=pe.static,Qe=pe.dynamic,Je={};return Object.keys(Le).forEach(function(Be){var je=Le[Be],We;if(typeof je=="number"||typeof je=="boolean")We=Ra(function(){return je});else if(typeof je=="function"){var me=je._reglType;me==="texture2d"||me==="textureCube"?We=Ra(function(Re){return Re.link(je)}):me==="framebuffer"||me==="framebufferCube"?(ct.command(je.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Be+'"',ae.commandStr),We=Ra(function(Re){return Re.link(je.color[0])})):ct.commandRaise('invalid data for uniform "'+Be+'"',ae.commandStr)}else gi(je)?We=Ra(function(Re){var ge=Re.global.def("[",ze(je.length,function(ke){return ct.command(typeof je[ke]=="number"||typeof je[ke]=="boolean","invalid uniform "+Be,Re.commandStr),je[ke]}),"]");return ge}):ct.commandRaise('invalid or missing data for uniform "'+Be+'"',ae.commandStr);We.value=je,Je[Be]=We}),Object.keys(Qe).forEach(function(Be){var je=Qe[Be];Je[Be]=Uo(je,function(We,me){return We.invoke(me,je)})}),Je}function Ei(pe,ae){var Le=pe.static,Qe=pe.dynamic,Je={};return Object.keys(Le).forEach(function(Be){var je=Le[Be],We=he.id(Be),me=new Ye;if(qu(je))me.state=ul,me.buffer=Rr.getBuffer(Rr.create(je,Rl,!1,!0)),me.type=0;else{var Re=Rr.getBuffer(je);if(Re)me.state=ul,me.buffer=Re,me.type=0;else if(ct.command(typeof je=="object"&&je,"invalid data for attribute "+Be,ae.commandStr),"constant"in je){var ge=je.constant;me.buffer="null",me.state=wf,typeof ge=="number"?me.x=ge:(ct.command(gi(ge)&&ge.length>0&&ge.length<=4,"invalid constant for attribute "+Be,ae.commandStr),ju.forEach(function(Rn,fi){fi<ge.length&&(me[Rn]=ge[fi])}))}else{qu(je.buffer)?Re=Rr.getBuffer(Rr.create(je.buffer,Rl,!1,!0)):Re=Rr.getBuffer(je.buffer),ct.command(!!Re,'missing buffer for attribute "'+Be+'"',ae.commandStr);var ke=je.offset|0;ct.command(ke>=0,'invalid offset for attribute "'+Be+'"',ae.commandStr);var tr=je.stride|0;ct.command(tr>=0&&tr<256,'invalid stride for attribute "'+Be+'", must be integer betweeen [0, 255]',ae.commandStr);var Tr=je.size|0;ct.command(!("size"in je)||Tr>0&&Tr<=4,'invalid size for attribute "'+Be+'", must be 1,2,3,4',ae.commandStr);var Ir=!!je.normalized,xr=0;"type"in je&&(ct.commandParameter(je.type,mo,"invalid type for attribute "+Be,ae.commandStr),xr=mo[je.type]);var _r=je.divisor|0;"divisor"in je&&(ct.command(_r===0||Qr,'cannot specify divisor for attribute "'+Be+'", instancing not supported',ae.commandStr),ct.command(_r>=0,'invalid divisor for attribute "'+Be+'"',ae.commandStr)),ct.optional(function(){var Rn=ae.commandStr,fi=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(je).forEach(function(Ln){ct.command(fi.indexOf(Ln)>=0,'unknown parameter "'+Ln+'" for attribute pointer "'+Be+'" (valid parameters are '+fi+")",Rn)})}),me.buffer=Re,me.state=ul,me.size=Tr,me.normalized=Ir,me.type=xr||Re.dtype,me.offset=ke,me.stride=tr,me.divisor=_r}}Je[Be]=Ra(function(Rn,fi){var Ln=Rn.attribCache;if(We in Ln)return Ln[We];var Kn={isStream:!1};return Object.keys(me).forEach(function(si){Kn[si]=me[si]}),me.buffer&&(Kn.buffer=Rn.link(me.buffer),Kn.type=Kn.type||Kn.buffer+".dtype"),Ln[We]=Kn,Kn})}),Object.keys(Qe).forEach(function(Be){var je=Qe[Be];function We(me,Re){var ge=me.invoke(Re,je),ke=me.shared,tr=me.constants,Tr=ke.isBufferArgs,Ir=ke.buffer;ct.optional(function(){me.assert(Re,ge+"&&(typeof "+ge+'==="object"||typeof '+ge+'==="function")&&('+Tr+"("+ge+")||"+Ir+".getBuffer("+ge+")||"+Ir+".getBuffer("+ge+".buffer)||"+Tr+"("+ge+'.buffer)||("constant" in '+ge+"&&(typeof "+ge+'.constant==="number"||'+ke.isArrayLike+"("+ge+".constant))))",'invalid dynamic attribute "'+Be+'"')});var xr={isStream:Re.def(!1)},_r=new Ye;_r.state=ul,Object.keys(_r).forEach(function(Kn){xr[Kn]=Re.def(""+_r[Kn])});var Rn=xr.buffer,fi=xr.type;Re("if(",Tr,"(",ge,")){",xr.isStream,"=true;",Rn,"=",Ir,".createStream(",Rl,",",ge,");",fi,"=",Rn,".dtype;","}else{",Rn,"=",Ir,".getBuffer(",ge,");","if(",Rn,"){",fi,"=",Rn,".dtype;",'}else if("constant" in ',ge,"){",xr.state,"=",wf,";","if(typeof "+ge+'.constant === "number"){',xr[ju[0]],"=",ge,".constant;",ju.slice(1).map(function(Kn){return xr[Kn]}).join("="),"=0;","}else{",ju.map(function(Kn,si){return xr[Kn]+"="+ge+".constant.length>"+si+"?"+ge+".constant["+si+"]:0;"}).join(""),"}}else{","if(",Tr,"(",ge,".buffer)){",Rn,"=",Ir,".createStream(",Rl,",",ge,".buffer);","}else{",Rn,"=",Ir,".getBuffer(",ge,".buffer);","}",fi,'="type" in ',ge,"?",tr.glTypes,"[",ge,".type]:",Rn,".dtype;",xr.normalized,"=!!",ge,".normalized;");function Ln(Kn){Re(xr[Kn],"=",ge,".",Kn,"|0;")}return Ln("size"),Ln("offset"),Ln("stride"),Ln("divisor"),Re("}}"),Re.exit("if(",xr.isStream,"){",Ir,".destroyStream(",Rn,");","}"),xr}Je[Be]=Uo(je,We)}),Je}function ja(pe,ae){var Le=pe.static,Qe=pe.dynamic;if(Xu in Le){var Je=Le[Xu];return Je!==null&&Hr.getVAO(Je)===null&&(Je=Hr.createVAO(Je)),Ra(function(je){return je.link(Hr.getVAO(Je))})}else if(Xu in Qe){var Be=Qe[Xu];return Uo(Be,function(je,We){var me=je.invoke(We,Be);return We.def(je.shared.vao+".getVAO("+me+")")})}return null}function oa(pe){var ae=pe.static,Le=pe.dynamic,Qe={};return Object.keys(ae).forEach(function(Je){var Be=ae[Je];Qe[Je]=Ra(function(je,We){return typeof Be=="number"||typeof Be=="boolean"?""+Be:je.link(Be)})}),Object.keys(Le).forEach(function(Je){var Be=Le[Je];Qe[Je]=Uo(Be,function(je,We){return je.invoke(We,Be)})}),Qe}function wa(pe,ae,Le,Qe,Je){var Be=pe.static,je=pe.dynamic;ct.optional(function(){var Ln=[Dl,fl,Vu,$s,Pl,ku,Il,Bc,zu,Xu].concat(Ke);function Kn(si){Object.keys(si).forEach(function(Ni){ct.command(Ln.indexOf(Ni)>=0,'unknown parameter "'+Ni+'"',Je.commandStr)})}Kn(Be),Kn(je)});var We=Vn(pe,ae),me=An(pe,Je),Re=di(pe,me,Je),ge=wi(pe,Je),ke=za(pe,Je),tr=Oi(pe,Je,We);function Tr(Ln){var Kn=Re[Ln];Kn&&(ke[Ln]=Kn)}Tr(Bs),Tr(on(Wu));var Ir=Object.keys(ke).length>0,xr={framebuffer:me,draw:ge,shader:tr,state:ke,dirty:Ir,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(xr.profile=hi(pe,Je),xr.uniforms=Qa(Le,Je),xr.drawVAO=xr.scopeVAO=ja(pe,Je),!xr.drawVAO&&tr.program&&!We&&Pe.angle_instanced_arrays){var _r=!0,Rn=tr.program.attributes.map(function(Ln){var Kn=ae.static[Ln];return _r=_r&&!!Kn,Kn});if(_r&&Rn.length>0){var fi=Hr.getVAO(Hr.createVAO(Rn));xr.drawVAO=new Po(null,null,null,function(Ln,Kn){return Ln.link(fi)}),xr.useVAO=!0}}return We?xr.useVAO=!0:xr.attributes=Ei(ae,Je),xr.context=oa(Qe,Je),xr}function Ba(pe,ae,Le){var Qe=pe.shared,Je=Qe.context,Be=pe.scope();Object.keys(Le).forEach(function(je){ae.save(Je,"."+je);var We=Le[je],me=We.append(pe,ae);Array.isArray(me)?Be(Je,".",je,"=[",me.join(),"];"):Be(Je,".",je,"=",me,";")}),ae(Be)}function Ha(pe,ae,Le,Qe){var Je=pe.shared,Be=Je.gl,je=Je.framebuffer,We;bn&&(We=ae.def(Je.extensions,".webgl_draw_buffers"));var me=pe.constants,Re=me.drawBuffer,ge=me.backBuffer,ke;Le?ke=Le.append(pe,ae):ke=ae.def(je,".next"),Qe||ae("if(",ke,"!==",je,".cur){"),ae("if(",ke,"){",Be,".bindFramebuffer(",Hh,",",ke,".framebuffer);"),bn&&ae(We,".drawBuffersWEBGL(",Re,"[",ke,".colorAttachments.length]);"),ae("}else{",Be,".bindFramebuffer(",Hh,",null);"),bn&&ae(We,".drawBuffersWEBGL(",ge,");"),ae("}",je,".cur=",ke,";"),Qe||ae("}")}function io(pe,ae,Le){var Qe=pe.shared,Je=Qe.gl,Be=pe.current,je=pe.next,We=Qe.current,me=Qe.next,Re=pe.cond(We,".dirty");Ke.forEach(function(ge){var ke=on(ge);if(!(ke in Le.state)){var tr,Tr;if(ke in je){tr=je[ke],Tr=Be[ke];var Ir=ze(Wr[ke].length,function(_r){return Re.def(tr,"[",_r,"]")});Re(pe.cond(Ir.map(function(_r,Rn){return _r+"!=="+Tr+"["+Rn+"]"}).join("||")).then(Je,".",Ur[ke],"(",Ir,");",Ir.map(function(_r,Rn){return Tr+"["+Rn+"]="+_r}).join(";"),";"))}else{tr=Re.def(me,".",ke);var xr=pe.cond(tr,"!==",We,".",ke);Re(xr),ke in cn?xr(pe.cond(tr).then(Je,".enable(",cn[ke],");").else(Je,".disable(",cn[ke],");"),We,".",ke,"=",tr,";"):xr(Je,".",Ur[ke],"(",tr,");",We,".",ke,"=",tr,";")}}}),Object.keys(Le.state).length===0&&Re(We,".dirty=false;"),ae(Re)}function fo(pe,ae,Le,Qe){var Je=pe.shared,Be=pe.current,je=Je.current,We=Je.gl;Kf(Object.keys(Le)).forEach(function(me){var Re=Le[me];if(!(Qe&&!Qe(Re))){var ge=Re.append(pe,ae);if(cn[me]){var ke=cn[me];Fs(Re)?ge?ae(We,".enable(",ke,");"):ae(We,".disable(",ke,");"):ae(pe.cond(ge).then(We,".enable(",ke,");").else(We,".disable(",ke,");")),ae(je,".",me,"=",ge,";")}else if(gi(ge)){var tr=Be[me];ae(We,".",Ur[me],"(",ge,");",ge.map(function(Tr,Ir){return tr+"["+Ir+"]="+Tr}).join(";"),";")}else ae(We,".",Ur[me],"(",ge,");",je,".",me,"=",ge,";")}})}function Ui(pe,ae){Qr&&(pe.instancing=ae.def(pe.shared.extensions,".angle_instanced_arrays"))}function mi(pe,ae,Le,Qe,Je){var Be=pe.shared,je=pe.stats,We=Be.current,me=Be.timer,Re=Le.profile;function ge(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var ke,tr;function Tr(Ln){ke=ae.def(),Ln(ke,"=",ge(),";"),typeof Je=="string"?Ln(je,".count+=",Je,";"):Ln(je,".count++;"),Xr&&(Qe?(tr=ae.def(),Ln(tr,"=",me,".getNumPendingQueries();")):Ln(me,".beginQuery(",je,");"))}function Ir(Ln){Ln(je,".cpuTime+=",ge(),"-",ke,";"),Xr&&(Qe?Ln(me,".pushScopeStats(",tr,",",me,".getNumPendingQueries(),",je,");"):Ln(me,".endQuery();"))}function xr(Ln){var Kn=ae.def(We,".profile");ae(We,".profile=",Ln,";"),ae.exit(We,".profile=",Kn,";")}var _r;if(Re){if(Fs(Re)){Re.enable?(Tr(ae),Ir(ae.exit),xr("true")):xr("false");return}_r=Re.append(pe,ae),xr(_r)}else _r=ae.def(We,".profile");var Rn=pe.block();Tr(Rn),ae("if(",_r,"){",Rn,"}");var fi=pe.block();Ir(fi),ae.exit("if(",_r,"){",fi,"}")}function Ja(pe,ae,Le,Qe,Je){var Be=pe.shared;function je(me){switch(me){case ru:case zc:case Xc:return 2;case Ss:case Go:case _u:return 3;case Wc:case Vc:case vl:return 4;default:return 1}}function We(me,Re,ge){var ke=Be.gl,tr=ae.def(me,".location"),Tr=ae.def(Be.attributes,"[",tr,"]"),Ir=ge.state,xr=ge.buffer,_r=[ge.x,ge.y,ge.z,ge.w],Rn=["buffer","normalized","offset","stride"];function fi(){ae("if(!",Tr,".buffer){",ke,".enableVertexAttribArray(",tr,");}");var Kn=ge.type,si;if(ge.size?si=ae.def(ge.size,"||",Re):si=Re,ae("if(",Tr,".type!==",Kn,"||",Tr,".size!==",si,"||",Rn.map(function(ta){return Tr+"."+ta+"!=="+ge[ta]}).join("||"),"){",ke,".bindBuffer(",Rl,",",xr,".buffer);",ke,".vertexAttribPointer(",[tr,si,Kn,ge.normalized,ge.stride,ge.offset],");",Tr,".type=",Kn,";",Tr,".size=",si,";",Rn.map(function(ta){return Tr+"."+ta+"="+ge[ta]+";"}).join(""),"}"),Qr){var Ni=ge.divisor;ae("if(",Tr,".divisor!==",Ni,"){",pe.instancing,".vertexAttribDivisorANGLE(",[tr,Ni],");",Tr,".divisor=",Ni,";}")}}function Ln(){ae("if(",Tr,".buffer){",ke,".disableVertexAttribArray(",tr,");",Tr,".buffer=null;","}if(",ju.map(function(Kn,si){return Tr+"."+Kn+"!=="+_r[si]}).join("||"),"){",ke,".vertexAttrib4f(",tr,",",_r,");",ju.map(function(Kn,si){return Tr+"."+Kn+"="+_r[si]+";"}).join(""),"}")}Ir===ul?fi():Ir===wf?Ln():(ae("if(",Ir,"===",ul,"){"),fi(),ae("}else{"),Ln(),ae("}"))}Qe.forEach(function(me){var Re=me.name,ge=Le.attributes[Re],ke;if(ge){if(!Je(ge))return;ke=ge.append(pe,ae)}else{if(!Je(Ms))return;var tr=pe.scopeAttrib(Re);ct.optional(function(){pe.assert(ae,tr+".state","missing attribute "+Re)}),ke={},Object.keys(new Ye).forEach(function(Tr){ke[Tr]=ae.def(tr,".",Tr)})}We(pe.link(me),je(me.info.type),ke)})}function Vi(pe,ae,Le,Qe,Je){for(var Be=pe.shared,je=Be.gl,We,me=0;me<Qe.length;++me){var Re=Qe[me],ge=Re.name,ke=Re.info.type,tr=Le.uniforms[ge],Tr=pe.link(Re),Ir=Tr+".location",xr;if(tr){if(!Je(tr))continue;if(Fs(tr)){var _r=tr.value;if(ct.command(_r!==null&&typeof _r!="undefined",'missing uniform "'+ge+'"',pe.commandStr),ke===nu||ke===Cn){ct.command(typeof _r=="function"&&(ke===nu&&(_r._reglType==="texture2d"||_r._reglType==="framebuffer")||ke===Cn&&(_r._reglType==="textureCube"||_r._reglType==="framebufferCube")),"invalid texture for uniform "+ge,pe.commandStr);var Rn=pe.link(_r._texture||_r.color[0]._texture);ae(je,".uniform1i(",Ir,",",Rn+".bind());"),ae.exit(Rn,".unbind();")}else if(ke===ts||ke===wl||ke===Zu){ct.optional(function(){ct.command(gi(_r),"invalid matrix for uniform "+ge,pe.commandStr),ct.command(ke===ts&&_r.length===4||ke===wl&&_r.length===9||ke===Zu&&_r.length===16,"invalid length for matrix uniform "+ge,pe.commandStr)});var fi=pe.global.def("new Float32Array(["+Array.prototype.slice.call(_r)+"])"),Ln=2;ke===wl?Ln=3:ke===Zu&&(Ln=4),ae(je,".uniformMatrix",Ln,"fv(",Ir,",false,",fi,");")}else{switch(ke){case Uc:ct.commandType(_r,"number","uniform "+ge,pe.commandStr),We="1f";break;case ru:ct.command(gi(_r)&&_r.length===2,"uniform "+ge,pe.commandStr),We="2f";break;case Ss:ct.command(gi(_r)&&_r.length===3,"uniform "+ge,pe.commandStr),We="3f";break;case Wc:ct.command(gi(_r)&&_r.length===4,"uniform "+ge,pe.commandStr),We="4f";break;case kc:ct.commandType(_r,"boolean","uniform "+ge,pe.commandStr),We="1i";break;case Xf:ct.commandType(_r,"number","uniform "+ge,pe.commandStr),We="1i";break;case Xc:ct.command(gi(_r)&&_r.length===2,"uniform "+ge,pe.commandStr),We="2i";break;case zc:ct.command(gi(_r)&&_r.length===2,"uniform "+ge,pe.commandStr),We="2i";break;case _u:ct.command(gi(_r)&&_r.length===3,"uniform "+ge,pe.commandStr),We="3i";break;case Go:ct.command(gi(_r)&&_r.length===3,"uniform "+ge,pe.commandStr),We="3i";break;case vl:ct.command(gi(_r)&&_r.length===4,"uniform "+ge,pe.commandStr),We="4i";break;case Vc:ct.command(gi(_r)&&_r.length===4,"uniform "+ge,pe.commandStr),We="4i";break}ae(je,".uniform",We,"(",Ir,",",gi(_r)?Array.prototype.slice.call(_r):_r,");")}continue}else xr=tr.append(pe,ae)}else{if(!Je(Ms))continue;xr=ae.def(Be.uniforms,"[",he.id(ge),"]")}ke===nu?(ct(!Array.isArray(xr),"must specify a scalar prop for textures"),ae("if(",xr,"&&",xr,'._reglType==="framebuffer"){',xr,"=",xr,".color[0];","}")):ke===Cn&&(ct(!Array.isArray(xr),"must specify a scalar prop for cube maps"),ae("if(",xr,"&&",xr,'._reglType==="framebufferCube"){',xr,"=",xr,".color[0];","}")),ct.optional(function(){function Va(As,_c){pe.assert(ae,As,'bad data or missing for uniform "'+ge+'".  '+_c)}function Qf(As){ct(!Array.isArray(xr),"must not specify an array type for uniform"),Va("typeof "+xr+'==="'+As+'"',"invalid type, expected "+As)}function Wo(As,_c){Array.isArray(xr)?ct(xr.length===As,"must have length "+As):Va(Be.isArrayLike+"("+xr+")&&"+xr+".length==="+As,"invalid vector, should have length "+As,pe.commandStr)}function Kh(As){ct(!Array.isArray(xr),"must not specify a value type"),Va("typeof "+xr+'==="function"&&'+xr+'._reglType==="texture'+(As===Ku?"2d":"Cube")+'"',"invalid texture type",pe.commandStr)}switch(ke){case Xf:Qf("number");break;case zc:Wo(2,"number");break;case Go:Wo(3,"number");break;case Vc:Wo(4,"number");break;case Uc:Qf("number");break;case ru:Wo(2,"number");break;case Ss:Wo(3,"number");break;case Wc:Wo(4,"number");break;case kc:Qf("boolean");break;case Xc:Wo(2,"boolean");break;case _u:Wo(3,"boolean");break;case vl:Wo(4,"boolean");break;case ts:Wo(4,"number");break;case wl:Wo(9,"number");break;case Zu:Wo(16,"number");break;case nu:Kh(Ku);break;case Cn:Kh(Vf);break}});var Kn=1;switch(ke){case nu:case Cn:var si=ae.def(xr,"._texture");ae(je,".uniform1i(",Ir,",",si,".bind());"),ae.exit(si,".unbind();");continue;case Xf:case kc:We="1i";break;case zc:case Xc:We="2i",Kn=2;break;case Go:case _u:We="3i",Kn=3;break;case Vc:case vl:We="4i",Kn=4;break;case Uc:We="1f";break;case ru:We="2f",Kn=2;break;case Ss:We="3f",Kn=3;break;case Wc:We="4f",Kn=4;break;case ts:We="Matrix2fv";break;case wl:We="Matrix3fv";break;case Zu:We="Matrix4fv";break}if(ae(je,".uniform",We,"(",Ir,","),We.charAt(0)==="M"){var Ni=Math.pow(ke-ts+2,2),ta=pe.global.def("new Float32Array(",Ni,")");Array.isArray(xr)?ae("false,(",ze(Ni,function(Va){return ta+"["+Va+"]="+xr[Va]}),",",ta,")"):ae("false,(Array.isArray(",xr,")||",xr," instanceof Float32Array)?",xr,":(",ze(Ni,function(Va){return ta+"["+Va+"]="+xr+"["+Va+"]"}),",",ta,")")}else Kn>1?ae(ze(Kn,function(Va){return Array.isArray(xr)?xr[Va]:xr+"["+Va+"]"})):(ct(!Array.isArray(xr),"uniform value must not be an array"),ae(xr));ae(");")}}function _n(pe,ae,Le,Qe){var Je=pe.shared,Be=Je.gl,je=Je.draw,We=Qe.draw;function me(){var si=We.elements,Ni,ta=ae;return si?((si.contextDep&&Qe.contextDynamic||si.propDep)&&(ta=Le),Ni=si.append(pe,ta)):Ni=ta.def(je,".",$s),Ni&&ta("if("+Ni+")"+Be+".bindBuffer("+Gc+","+Ni+".buffer.buffer);"),Ni}function Re(){var si=We.count,Ni,ta=ae;return si?((si.contextDep&&Qe.contextDynamic||si.propDep)&&(ta=Le),Ni=si.append(pe,ta),ct.optional(function(){si.MISSING&&pe.assert(ae,"false","missing vertex count"),si.DYNAMIC&&pe.assert(ta,Ni+">=0","missing vertex count")})):(Ni=ta.def(je,".",Il),ct.optional(function(){pe.assert(ta,Ni+">=0","missing vertex count")})),Ni}var ge=me();function ke(si){var Ni=We[si];return Ni?Ni.contextDep&&Qe.contextDynamic||Ni.propDep?Ni.append(pe,Le):Ni.append(pe,ae):ae.def(je,".",si)}var tr=ke(Pl),Tr=ke(ku),Ir=Re();if(typeof Ir=="number"){if(Ir===0)return}else Le("if(",Ir,"){"),Le.exit("}");var xr,_r;Qr&&(xr=ke(Bc),_r=pe.instancing);var Rn=ge+".type",fi=We.elements&&Fs(We.elements);function Ln(){function si(){Le(_r,".drawElementsInstancedANGLE(",[tr,Ir,Rn,Tr+"<<(("+Rn+"-"+jf+")>>1)",xr],");")}function Ni(){Le(_r,".drawArraysInstancedANGLE(",[tr,Tr,Ir,xr],");")}ge?fi?si():(Le("if(",ge,"){"),si(),Le("}else{"),Ni(),Le("}")):Ni()}function Kn(){function si(){Le(Be+".drawElements("+[tr,Ir,Rn,Tr+"<<(("+Rn+"-"+jf+")>>1)"]+");")}function Ni(){Le(Be+".drawArrays("+[tr,Tr,Ir]+");")}ge?fi?si():(Le("if(",ge,"){"),si(),Le("}else{"),Ni(),Le("}")):Ni()}Qr&&(typeof xr!="number"||xr>=0)?typeof xr=="string"?(Le("if(",xr,">0){"),Ln(),Le("}else if(",xr,"<0){"),Kn(),Le("}")):Ln():Kn()}function Si(pe,ae,Le,Qe,Je){var Be=Jn(),je=Be.proc("body",Je);return ct.optional(function(){Be.commandStr=ae.commandStr,Be.command=Be.link(ae.commandStr)}),Qr&&(Be.instancing=je.def(Be.shared.extensions,".angle_instanced_arrays")),pe(Be,je,Le,Qe),Be.compile().body}function Ai(pe,ae,Le,Qe){Ui(pe,ae),Le.useVAO?Le.drawVAO?ae(pe.shared.vao,".setVAO(",Le.drawVAO.append(pe,ae),");"):ae(pe.shared.vao,".setVAO(",pe.shared.vao,".targetVAO);"):(ae(pe.shared.vao,".setVAO(null);"),Ja(pe,ae,Le,Qe.attributes,function(){return!0})),Vi(pe,ae,Le,Qe.uniforms,function(){return!0}),_n(pe,ae,ae,Le)}function Na(pe,ae){var Le=pe.proc("draw",1);Ui(pe,Le),Ba(pe,Le,ae.context),Ha(pe,Le,ae.framebuffer),io(pe,Le,ae),fo(pe,Le,ae.state),mi(pe,Le,ae,!1,!0);var Qe=ae.shader.progVar.append(pe,Le);if(Le(pe.shared.gl,".useProgram(",Qe,".program);"),ae.shader.program)Ai(pe,Le,ae,ae.shader.program);else{Le(pe.shared.vao,".setVAO(null);");var Je=pe.global.def("{}"),Be=Le.def(Qe,".id"),je=Le.def(Je,"[",Be,"]");Le(pe.cond(je).then(je,".call(this,a0);").else(je,"=",Je,"[",Be,"]=",pe.link(function(We){return Si(Ai,pe,ae,We,1)}),"(",Qe,");",je,".call(this,a0);"))}Object.keys(ae.state).length>0&&Le(pe.shared.current,".dirty=true;")}function Gs(pe,ae,Le,Qe){pe.batchId="a1",Ui(pe,ae);function Je(){return!0}Ja(pe,ae,Le,Qe.attributes,Je),Vi(pe,ae,Le,Qe.uniforms,Je),_n(pe,ae,ae,Le)}function Cs(pe,ae,Le,Qe){Ui(pe,ae);var Je=Le.contextDep,Be=ae.def(),je="a0",We="a1",me=ae.def();pe.shared.props=me,pe.batchId=Be;var Re=pe.scope(),ge=pe.scope();ae(Re.entry,"for(",Be,"=0;",Be,"<",We,";++",Be,"){",me,"=",je,"[",Be,"];",ge,"}",Re.exit);function ke(Rn){return Rn.contextDep&&Je||Rn.propDep}function tr(Rn){return!ke(Rn)}if(Le.needsContext&&Ba(pe,ge,Le.context),Le.needsFramebuffer&&Ha(pe,ge,Le.framebuffer),fo(pe,ge,Le.state,ke),Le.profile&&ke(Le.profile)&&mi(pe,ge,Le,!1,!0),Qe)Le.useVAO?Le.drawVAO?ke(Le.drawVAO)?ge(pe.shared.vao,".setVAO(",Le.drawVAO.append(pe,ge),");"):Re(pe.shared.vao,".setVAO(",Le.drawVAO.append(pe,Re),");"):Re(pe.shared.vao,".setVAO(",pe.shared.vao,".targetVAO);"):(Re(pe.shared.vao,".setVAO(null);"),Ja(pe,Re,Le,Qe.attributes,tr),Ja(pe,ge,Le,Qe.attributes,ke)),Vi(pe,Re,Le,Qe.uniforms,tr),Vi(pe,ge,Le,Qe.uniforms,ke),_n(pe,Re,ge,Le);else{var Tr=pe.global.def("{}"),Ir=Le.shader.progVar.append(pe,ge),xr=ge.def(Ir,".id"),_r=ge.def(Tr,"[",xr,"]");ge(pe.shared.gl,".useProgram(",Ir,".program);","if(!",_r,"){",_r,"=",Tr,"[",xr,"]=",pe.link(function(Rn){return Si(Gs,pe,Le,Rn,2)}),"(",Ir,");}",_r,".call(this,a0[",Be,"],",Be,");")}}function Ee(pe,ae){var Le=pe.proc("batch",2);pe.batchId="0",Ui(pe,Le);var Qe=!1,Je=!0;Object.keys(ae.context).forEach(function(Tr){Qe=Qe||ae.context[Tr].propDep}),Qe||(Ba(pe,Le,ae.context),Je=!1);var Be=ae.framebuffer,je=!1;Be?(Be.propDep?Qe=je=!0:Be.contextDep&&Qe&&(je=!0),je||Ha(pe,Le,Be)):Ha(pe,Le,null),ae.state.viewport&&ae.state.viewport.propDep&&(Qe=!0);function We(Tr){return Tr.contextDep&&Qe||Tr.propDep}io(pe,Le,ae),fo(pe,Le,ae.state,function(Tr){return!We(Tr)}),(!ae.profile||!We(ae.profile))&&mi(pe,Le,ae,!1,"a1"),ae.contextDep=Qe,ae.needsContext=Je,ae.needsFramebuffer=je;var me=ae.shader.progVar;if(me.contextDep&&Qe||me.propDep)Cs(pe,Le,ae,null);else{var Re=me.append(pe,Le);if(Le(pe.shared.gl,".useProgram(",Re,".program);"),ae.shader.program)Cs(pe,Le,ae,ae.shader.program);else{Le(pe.shared.vao,".setVAO(null);");var ge=pe.global.def("{}"),ke=Le.def(Re,".id"),tr=Le.def(ge,"[",ke,"]");Le(pe.cond(tr).then(tr,".call(this,a0,a1);").else(tr,"=",ge,"[",ke,"]=",pe.link(function(Tr){return Si(Cs,pe,ae,Tr,2)}),"(",Re,");",tr,".call(this,a0,a1);"))}}Object.keys(ae.state).length>0&&Le(pe.shared.current,".dirty=true;")}function vr(pe,ae){var Le=pe.proc("scope",3);pe.batchId="a2";var Qe=pe.shared,Je=Qe.current;Ba(pe,Le,ae.context),ae.framebuffer&&ae.framebuffer.append(pe,Le),Kf(Object.keys(ae.state)).forEach(function(je){var We=ae.state[je],me=We.append(pe,Le);gi(me)?me.forEach(function(Re,ge){Le.set(pe.next[je],"["+ge+"]",Re)}):Le.set(Qe.next,"."+je,me)}),mi(pe,Le,ae,!0,!0),[$s,ku,Il,Bc,Pl].forEach(function(je){var We=ae.draw[je];!We||Le.set(Qe.draw,"."+je,""+We.append(pe,Le))}),Object.keys(ae.uniforms).forEach(function(je){var We=ae.uniforms[je].append(pe,Le);Array.isArray(We)&&(We="["+We.join()+"]"),Le.set(Qe.uniforms,"["+he.id(je)+"]",We)}),Object.keys(ae.attributes).forEach(function(je){var We=ae.attributes[je].append(pe,Le),me=pe.scopeAttrib(je);Object.keys(new Ye).forEach(function(Re){Le.set(me,"."+Re,We[Re])})}),ae.scopeVAO&&Le.set(Qe.vao,".targetVAO",ae.scopeVAO.append(pe,Le));function Be(je){var We=ae.shader[je];We&&Le.set(Qe.shader,"."+je,We.append(pe,Le))}Be(fl),Be(Vu),Object.keys(ae.state).length>0&&(Le(Je,".dirty=true;"),Le.exit(Je,".dirty=true;")),Le("a1(",pe.shared.context,",a0,",pe.batchId,");")}function nr(pe){if(!(typeof pe!="object"||gi(pe))){for(var ae=Object.keys(pe),Le=0;Le<ae.length;++Le)if(Ge.isDynamic(pe[ae[Le]]))return!0;return!1}}function En(pe,ae,Le){var Qe=ae.static[Le];if(!Qe||!nr(Qe))return;var Je=pe.global,Be=Object.keys(Qe),je=!1,We=!1,me=!1,Re=pe.global.def("{}");Be.forEach(function(ke){var tr=Qe[ke];if(Ge.isDynamic(tr)){typeof tr=="function"&&(tr=Qe[ke]=Ge.unbox(tr));var Tr=Uo(tr,null);je=je||Tr.thisDep,me=me||Tr.propDep,We=We||Tr.contextDep}else{switch(Je(Re,".",ke,"="),typeof tr){case"number":Je(tr);break;case"string":Je('"',tr,'"');break;case"object":Array.isArray(tr)&&Je("[",tr.join(),"]");break;default:Je(pe.link(tr));break}Je(";")}});function ge(ke,tr){Be.forEach(function(Tr){var Ir=Qe[Tr];if(!!Ge.isDynamic(Ir)){var xr=ke.invoke(tr,Ir);tr(Re,".",Tr,"=",xr,";")}})}ae.dynamic[Le]=new Ge.DynamicVariable(ql,{thisDep:je,contextDep:We,propDep:me,ref:Re,append:ge}),delete ae.static[Le]}function oi(pe,ae,Le,Qe,Je){var Be=Jn();Be.stats=Be.link(Je),Object.keys(ae.static).forEach(function(We){En(Be,ae,We)}),Fd.forEach(function(We){En(Be,pe,We)});var je=wa(pe,ae,Le,Qe,Be);return Na(Be,je),vr(Be,je),Ee(Be,je),a(Be.compile(),{destroy:function(){je.shader.program.destroy()}})}return{next:dn,current:Wr,procs:function(){var pe=Jn(),ae=pe.proc("poll"),Le=pe.proc("refresh"),Qe=pe.block();ae(Qe),Le(Qe);var Je=pe.shared,Be=Je.gl,je=Je.next,We=Je.current;Qe(We,".dirty=false;"),Ha(pe,ae),Ha(pe,Le,null,!0);var me;Qr&&(me=pe.link(Qr)),Pe.oes_vertex_array_object&&Le(pe.link(Pe.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Re=0;Re<or.maxAttributes;++Re){var ge=Le.def(Je.attributes,"[",Re,"]"),ke=pe.cond(ge,".buffer");ke.then(Be,".enableVertexAttribArray(",Re,");",Be,".bindBuffer(",Rl,",",ge,".buffer.buffer);",Be,".vertexAttribPointer(",Re,",",ge,".size,",ge,".type,",ge,".normalized,",ge,".stride,",ge,".offset);").else(Be,".disableVertexAttribArray(",Re,");",Be,".vertexAttrib4f(",Re,",",ge,".x,",ge,".y,",ge,".z,",ge,".w);",ge,".buffer=null;"),Le(ke),Qr&&Le(me,".vertexAttribDivisorANGLE(",Re,",",ge,".divisor);")}return Le(pe.shared.vao,".currentVAO=null;",pe.shared.vao,".setVAO(",pe.shared.vao,".targetVAO);"),Object.keys(cn).forEach(function(tr){var Tr=cn[tr],Ir=Qe.def(je,".",tr),xr=pe.block();xr("if(",Ir,"){",Be,".enable(",Tr,")}else{",Be,".disable(",Tr,")}",We,".",tr,"=",Ir,";"),Le(xr),ae("if(",Ir,"!==",We,".",tr,"){",xr,"}")}),Object.keys(Ur).forEach(function(tr){var Tr=Ur[tr],Ir=Wr[tr],xr,_r,Rn=pe.block();if(Rn(Be,".",Tr,"("),gi(Ir)){var fi=Ir.length;xr=pe.global.def(je,".",tr),_r=pe.global.def(We,".",tr),Rn(ze(fi,function(Ln){return xr+"["+Ln+"]"}),");",ze(fi,function(Ln){return _r+"["+Ln+"]="+xr+"["+Ln+"];"}).join("")),ae("if(",ze(fi,function(Ln){return xr+"["+Ln+"]!=="+_r+"["+Ln+"]"}).join("||"),"){",Rn,"}")}else xr=Qe.def(je,".",tr),_r=Qe.def(We,".",tr),Rn(xr,");",We,".",tr,"=",xr,";"),ae("if(",xr,"!==",_r,"){",Rn,"}");Le(Rn)}),pe.compile()}(),compile:oi}}function _f(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Io=34918,Zf=34919,Yd=35007,Iv=function(Yt,he){if(!he.ext_disjoint_timer_query)return null;var Pe=[];function or(){return Pe.pop()||he.ext_disjoint_timer_query.createQueryEXT()}function Rr(Qr){Pe.push(Qr)}var lr=[];function gr(Qr){var bn=or();he.ext_disjoint_timer_query.beginQueryEXT(Yd,bn),lr.push(bn),Xr(lr.length-1,lr.length,Qr)}function kr(){he.ext_disjoint_timer_query.endQueryEXT(Yd)}function Er(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Hr=[];function rr(){return Hr.pop()||new Er}function un(Qr){Hr.push(Qr)}var pn=[];function Xr(Qr,bn,Wr){var dn=rr();dn.startQueryIndex=Qr,dn.endQueryIndex=bn,dn.sum=0,dn.stats=Wr,pn.push(dn)}var hn=[],Ye=[];function mr(){var Qr,bn,Wr=lr.length;if(Wr!==0){Ye.length=Math.max(Ye.length,Wr+1),hn.length=Math.max(hn.length,Wr+1),hn[0]=0,Ye[0]=0;var dn=0;for(Qr=0,bn=0;bn<lr.length;++bn){var Ke=lr[bn];he.ext_disjoint_timer_query.getQueryObjectEXT(Ke,Zf)?(dn+=he.ext_disjoint_timer_query.getQueryObjectEXT(Ke,Io),Rr(Ke)):lr[Qr++]=Ke,hn[bn+1]=dn,Ye[bn+1]=Qr}for(lr.length=Qr,Qr=0,bn=0;bn<pn.length;++bn){var cn=pn[bn],Ur=cn.startQueryIndex,on=cn.endQueryIndex;cn.sum+=hn[on]-hn[Ur];var Xn=Ye[Ur],ii=Ye[on];ii===Xn?(cn.stats.gpuTime+=cn.sum/1e6,un(cn)):(cn.startQueryIndex=Xn,cn.endQueryIndex=ii,pn[Qr++]=cn)}pn.length=Qr}}return{beginQuery:gr,endQuery:kr,pushScopeStats:Xr,update:mr,getNumPendingQueries:function(){return lr.length},clear:function(){Pe.push.apply(Pe,lr);for(var Qr=0;Qr<Pe.length;Qr++)he.ext_disjoint_timer_query.deleteQueryEXT(Pe[Qr]);lr.length=0,Pe.length=0},restore:function(){lr.length=0,Pe.length=0}}},Lv=16384,Rv=256,jv=1024,wv=34962,Hd="webglcontextlost",Kd="webglcontextrestored",_d=1,Zd=2,Bv=3;function Kc(Yt,he){for(var Pe=0;Pe<Yt.length;++Pe)if(Yt[Pe]===he)return Pe;return-1}function $f(Yt){var he=Mr(Yt);if(!he)return null;var Pe=he.gl,or=Pe.getContextAttributes(),Rr=Pe.isContextLost(),lr=Br(Pe,he);if(!lr)return null;var gr=ar(),kr=_f(),Er=lr.extensions,Hr=Iv(Pe,Er),rr=dr(),un=Pe.drawingBufferWidth,pn=Pe.drawingBufferHeight,Xr={tick:0,time:0,viewportWidth:un,viewportHeight:pn,framebufferWidth:un,framebufferHeight:pn,drawingBufferWidth:un,drawingBufferHeight:pn,pixelRatio:he.pixelRatio},hn={},Ye={elements:null,primitive:4,count:-1,offset:0,instances:-1},mr=wr(Pe,Er),Qr=Ml(Pe,kr,he,Wr),bn=Lh(Pe,Er,mr,kr,Qr);function Wr(_n){return bn.destroyBuffer(_n)}var dn=bi(Pe,Er,Qr,kr),Ke=Iu(Pe,gr,kr,he),cn=Au(Pe,Er,mr,function(){Xn.procs.poll()},Xr,kr,he),Ur=Du(Pe,Er,mr,kr,he),on=Ql(Pe,Er,mr,cn,Ur,kr),Xn=au(Pe,gr,Er,mr,Qr,dn,cn,on,hn,bn,Ke,Ye,Xr,Hr,he),ii=Ru(Pe,on,Xn.procs.poll,Xr,or,Er,mr),mn=Xn.next,Jr=Pe.canvas,Fr=[],Jn=[],hi=[],An=[he.onDestroy],di=null;function Vn(){if(Fr.length===0){Hr&&Hr.update(),di=null;return}di=hr.next(Vn),fo();for(var _n=Fr.length-1;_n>=0;--_n){var Si=Fr[_n];Si&&Si(Xr,null,0)}Pe.flush(),Hr&&Hr.update()}function Oi(){!di&&Fr.length>0&&(di=hr.next(Vn))}function wi(){di&&(hr.cancel(Vn),di=null)}function za(_n){_n.preventDefault(),Rr=!0,wi(),Jn.forEach(function(Si){Si()})}function Qa(_n){Pe.getError(),Rr=!1,lr.restore(),Ke.restore(),Qr.restore(),cn.restore(),Ur.restore(),on.restore(),bn.restore(),Hr&&Hr.restore(),Xn.procs.refresh(),Oi(),hi.forEach(function(Si){Si()})}Jr&&(Jr.addEventListener(Hd,za,!1),Jr.addEventListener(Kd,Qa,!1));function Ei(){Fr.length=0,wi(),Jr&&(Jr.removeEventListener(Hd,za),Jr.removeEventListener(Kd,Qa)),Ke.clear(),on.clear(),Ur.clear(),cn.clear(),dn.clear(),Qr.clear(),bn.clear(),Hr&&Hr.clear(),An.forEach(function(_n){_n()})}function ja(_n){ct(!!_n,"invalid args to regl({...})"),ct.type(_n,"object","invalid args to regl({...})");function Si(Je){var Be=a({},Je);delete Be.uniforms,delete Be.attributes,delete Be.context,delete Be.vao,"stencil"in Be&&Be.stencil.op&&(Be.stencil.opBack=Be.stencil.opFront=Be.stencil.op,delete Be.stencil.op);function je(We){if(We in Be){var me=Be[We];delete Be[We],Object.keys(me).forEach(function(Re){Be[We+"."+Re]=me[Re]})}}return je("blend"),je("depth"),je("cull"),je("stencil"),je("polygonOffset"),je("scissor"),je("sample"),"vao"in Je&&(Be.vao=Je.vao),Be}function Ai(Je,Be){var je={},We={};return Object.keys(Je).forEach(function(me){var Re=Je[me];if(Ge.isDynamic(Re)){We[me]=Ge.unbox(Re,me);return}else if(Be&&Array.isArray(Re)){for(var ge=0;ge<Re.length;++ge)if(Ge.isDynamic(Re[ge])){We[me]=Ge.unbox(Re,me);return}}je[me]=Re}),{dynamic:We,static:je}}var Na=Ai(_n.context||{},!0),Gs=Ai(_n.uniforms||{},!0),Cs=Ai(_n.attributes||{},!1),Ee=Ai(Si(_n),!1),vr={gpuTime:0,cpuTime:0,count:0},nr=Xn.compile(Ee,Cs,Gs,Na,vr),En=nr.draw,oi=nr.batch,pe=nr.scope,ae=[];function Le(Je){for(;ae.length<Je;)ae.push(null);return ae}function Qe(Je,Be){var je;if(Rr&&ct.raise("context lost"),typeof Je=="function")return pe.call(this,null,Je,0);if(typeof Be=="function")if(typeof Je=="number")for(je=0;je<Je;++je)pe.call(this,null,Be,je);else if(Array.isArray(Je))for(je=0;je<Je.length;++je)pe.call(this,Je[je],Be,je);else return pe.call(this,Je,Be,0);else if(typeof Je=="number"){if(Je>0)return oi.call(this,Le(Je|0),Je|0)}else if(Array.isArray(Je)){if(Je.length)return oi.call(this,Je,Je.length)}else return En.call(this,Je)}return a(Qe,{stats:vr,destroy:function(){nr.destroy()}})}var oa=on.setFBO=ja({framebuffer:Ge.define.call(null,_d,"framebuffer")});function wa(_n,Si){var Ai=0;Xn.procs.poll();var Na=Si.color;Na&&(Pe.clearColor(+Na[0]||0,+Na[1]||0,+Na[2]||0,+Na[3]||0),Ai|=Lv),"depth"in Si&&(Pe.clearDepth(+Si.depth),Ai|=Rv),"stencil"in Si&&(Pe.clearStencil(Si.stencil|0),Ai|=jv),ct(!!Ai,"called regl.clear with no buffer specified"),Pe.clear(Ai)}function Ba(_n){if(ct(typeof _n=="object"&&_n,"regl.clear() takes an object as input"),"framebuffer"in _n)if(_n.framebuffer&&_n.framebuffer_reglType==="framebufferCube")for(var Si=0;Si<6;++Si)oa(a({framebuffer:_n.framebuffer.faces[Si]},_n),wa);else oa(_n,wa);else wa(null,_n)}function Ha(_n){ct.type(_n,"function","regl.frame() callback must be a function"),Fr.push(_n);function Si(){var Ai=Kc(Fr,_n);ct(Ai>=0,"cannot cancel a frame twice");function Na(){var Gs=Kc(Fr,Na);Fr[Gs]=Fr[Fr.length-1],Fr.length-=1,Fr.length<=0&&wi()}Fr[Ai]=Na}return Oi(),{cancel:Si}}function io(){var _n=mn.viewport,Si=mn.scissor_box;_n[0]=_n[1]=Si[0]=Si[1]=0,Xr.viewportWidth=Xr.framebufferWidth=Xr.drawingBufferWidth=_n[2]=Si[2]=Pe.drawingBufferWidth,Xr.viewportHeight=Xr.framebufferHeight=Xr.drawingBufferHeight=_n[3]=Si[3]=Pe.drawingBufferHeight}function fo(){Xr.tick+=1,Xr.time=mi(),io(),Xn.procs.poll()}function Ui(){cn.refresh(),io(),Xn.procs.refresh(),Hr&&Hr.update()}function mi(){return(dr()-rr)/1e3}Ui();function Ja(_n,Si){ct.type(Si,"function","listener callback must be a function");var Ai;switch(_n){case"frame":return Ha(Si);case"lost":Ai=Jn;break;case"restore":Ai=hi;break;case"destroy":Ai=An;break;default:ct.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ai.push(Si),{cancel:function(){for(var Na=0;Na<Ai.length;++Na)if(Ai[Na]===Si){Ai[Na]=Ai[Ai.length-1],Ai.pop();return}}}}var Vi=a(ja,{clear:Ba,prop:Ge.define.bind(null,_d),context:Ge.define.bind(null,Zd),this:Ge.define.bind(null,Bv),draw:ja({}),buffer:function(_n){return Qr.create(_n,wv,!1,!1)},elements:function(_n){return dn.create(_n,!1)},texture:cn.create2D,cube:cn.createCube,renderbuffer:Ur.create,framebuffer:on.create,framebufferCube:on.createCube,vao:bn.createVAO,attributes:or,frame:Ha,on:Ja,limits:mr,hasExtension:function(_n){return mr.extensions.indexOf(_n.toLowerCase())>=0},read:ii,destroy:Ei,_gl:Pe,_refresh:Ui,poll:function(){fo(),Hr&&Hr.update()},now:mi,stats:kr});return he.onDone(null,Vi),Vi}return $f})},T1Zk:function(Lt,A,i){"use strict";i.d(A,"getAdjust",function(){return x}),i.d(A,"registerAdjust",function(){return D});var c=i("5Kaj"),a=i("X5ku"),M=i.n(a),O={},x=function(E){return O[E.toLowerCase()]},D=function(E,S){if(x(E))throw new Error("Adjust type '"+E+"' existed.");O[E.toLowerCase()]=S}},"T3K+":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=M(i("g3RE")),a=i("Eqze");function M(D){return D&&D.__esModule?D:{default:D}}var O=function(E,S,p,b){S===void 0&&(S=!1),p===void 0&&(p="weight"),b===void 0&&(b=1e3);var y=E.nodes,C=y===void 0?[]:y,I=E.edges,g=I===void 0?[]:I,R={},U={};C.forEach(function(q,H){var Q=(0,a.uniqueId)();q.clusterId=Q,R[Q]={id:Q,nodes:[q]},U[q.id]={node:q,idx:H}});var W=(0,c.default)(E,S),z=[],B={};W.forEach(function(q,H){var Q=0,k=C[H].id;B[k]={},q.forEach(function(K,nt){if(!!K){Q+=K;var lt=C[nt].id;B[k][lt]=K}}),z.push(Q)});for(var L=0,w=function(){var H=!1;if(C.forEach(function(Q){var k={};Object.keys(B[Q.id]).forEach(function(Mt){var Nt=B[Q.id][Mt],ht=U[Mt].node,yt=ht.clusterId;k[yt]||(k[yt]=0),k[yt]+=Nt});var K=-Infinity,nt=[];if(Object.keys(k).forEach(function(Mt){K<k[Mt]?(K=k[Mt],nt=[Mt]):K===k[Mt]&&nt.push(Mt)}),!(nt.length===1&&nt[0]===Q.clusterId)){var lt=nt.indexOf(Q.clusterId);if(lt>=0&&nt.splice(lt,1),nt&&nt.length){H=!0;var ut=R[Q.clusterId],rt=ut.nodes.indexOf(Q);ut.nodes.splice(rt,1);var ot=Math.floor(Math.random()*nt.length),dt=R[nt[ot]];dt.nodes.push(Q),Q.clusterId=dt.id}}}),!H)return"break";L++};L<b;){var F=w();if(F==="break")break}Object.keys(R).forEach(function(q){var H=R[q];(!H.nodes||!H.nodes.length)&&delete R[q]});var V=[],Y={};g.forEach(function(q){var H=q.source,Q=q.target,k=q[p]||1,K=U[H].node.clusterId,nt=U[Q].node.clusterId,lt=K+"---"+nt;if(Y[lt])Y[lt].weight+=k,Y[lt].count++;else{var ut={source:K,target:nt,weight:k,count:1};Y[lt]=ut,V.push(ut)}});var tt=[];return Object.keys(R).forEach(function(q){tt.push(R[q])}),{clusters:tt,clusterEdges:V}},x=O;A.default=x},T5ir:function(Lt,A,i){"use strict";i.r(A),i.d(A,"catmullRomToBezier",function(){return D}),i.d(A,"fillPath",function(){return nt}),i.d(A,"fillPathByDiff",function(){return ot}),i.d(A,"formatPath",function(){return Nt}),i.d(A,"intersection",function(){return H}),i.d(A,"parsePathArray",function(){return g}),i.d(A,"parsePathString",function(){return x}),i.d(A,"pathToAbsolute",function(){return S}),i.d(A,"pathToCurve",function(){return C}),i.d(A,"rectPath",function(){return L});var c=i("8Mtd"),a=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,M=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig"),x=function(ht){if(!ht)return null;if(Object(c.isArray)(ht))return ht;var yt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(ht).replace(M,function(st,xt,gt){var At=[],pt=xt.toLowerCase();if(gt.replace(O,function(_,$){$&&At.push(+$)}),pt==="m"&&At.length>2&&(ft.push([xt].concat(At.splice(0,2))),pt="l",xt=xt==="m"?"l":"L"),pt==="o"&&At.length===1&&ft.push([xt,At[0]]),pt==="r")ft.push([xt].concat(At));else for(;At.length>=yt[pt]&&(ft.push([xt].concat(At.splice(0,yt[pt]))),!!yt[pt]););return ht}),ft},D=function(ht,yt){for(var ft=[],st=0,xt=ht.length;xt-2*!yt>st;st+=2){var gt=[{x:+ht[st-2],y:+ht[st-1]},{x:+ht[st],y:+ht[st+1]},{x:+ht[st+2],y:+ht[st+3]},{x:+ht[st+4],y:+ht[st+5]}];yt?st?xt-4===st?gt[3]={x:+ht[0],y:+ht[1]}:xt-2===st&&(gt[2]={x:+ht[0],y:+ht[1]},gt[3]={x:+ht[2],y:+ht[3]}):gt[0]={x:+ht[xt-2],y:+ht[xt-1]}:xt-4===st?gt[3]=gt[2]:st||(gt[0]={x:+ht[st],y:+ht[st+1]}),ft.push(["C",(-gt[0].x+6*gt[1].x+gt[2].x)/6,(-gt[0].y+6*gt[1].y+gt[2].y)/6,(gt[1].x+6*gt[2].x-gt[3].x)/6,(gt[1].y+6*gt[2].y-gt[3].y)/6,gt[2].x,gt[2].y])}return ft},E=function(ht,yt,ft,st,xt){var gt=[];if(xt===null&&st===null&&(st=ft),ht=+ht,yt=+yt,ft=+ft,st=+st,xt!==null){var At=Math.PI/180,pt=ht+ft*Math.cos(-st*At),_=ht+ft*Math.cos(-xt*At),$=yt+ft*Math.sin(-st*At),bt=yt+ft*Math.sin(-xt*At);gt=[["M",pt,$],["A",ft,ft,0,+(xt-st>180),0,_,bt]]}else gt=[["M",ht,yt],["m",0,-st],["a",ft,st,0,1,1,0,2*st],["a",ft,st,0,1,1,0,-2*st],["z"]];return gt},S=function(ht){if(ht=x(ht),!ht||!ht.length)return[["M",0,0]];var yt=[],ft=0,st=0,xt=0,gt=0,At=0,pt,_;ht[0][0]==="M"&&(ft=+ht[0][1],st=+ht[0][2],xt=ft,gt=st,At++,yt[0]=["M",ft,st]);for(var $=ht.length===3&&ht[0][0]==="M"&&ht[1][0].toUpperCase()==="R"&&ht[2][0].toUpperCase()==="Z",bt=void 0,it=void 0,Ot=At,Pt=ht.length;Ot<Pt;Ot++){if(yt.push(bt=[]),it=ht[Ot],pt=it[0],pt!==pt.toUpperCase())switch(bt[0]=pt.toUpperCase(),bt[0]){case"A":bt[1]=it[1],bt[2]=it[2],bt[3]=it[3],bt[4]=it[4],bt[5]=it[5],bt[6]=+it[6]+ft,bt[7]=+it[7]+st;break;case"V":bt[1]=+it[1]+st;break;case"H":bt[1]=+it[1]+ft;break;case"R":_=[ft,st].concat(it.slice(1));for(var Rt=2,Vt=_.length;Rt<Vt;Rt++)_[Rt]=+_[Rt]+ft,_[++Rt]=+_[Rt]+st;yt.pop(),yt=yt.concat(D(_,$));break;case"O":yt.pop(),_=E(ft,st,it[1],it[2]),_.push(_[0]),yt=yt.concat(_);break;case"U":yt.pop(),yt=yt.concat(E(ft,st,it[1],it[2],it[3])),bt=["U"].concat(yt[yt.length-1].slice(-2));break;case"M":xt=+it[1]+ft,gt=+it[2]+st;break;default:for(var Rt=1,Vt=it.length;Rt<Vt;Rt++)bt[Rt]=+it[Rt]+(Rt%2?ft:st)}else if(pt==="R")_=[ft,st].concat(it.slice(1)),yt.pop(),yt=yt.concat(D(_,$)),bt=["R"].concat(it.slice(-2));else if(pt==="O")yt.pop(),_=E(ft,st,it[1],it[2]),_.push(_[0]),yt=yt.concat(_);else if(pt==="U")yt.pop(),yt=yt.concat(E(ft,st,it[1],it[2],it[3])),bt=["U"].concat(yt[yt.length-1].slice(-2));else for(var kt=0,Wt=it.length;kt<Wt;kt++)bt[kt]=it[kt];if(pt=pt.toUpperCase(),pt!=="O")switch(bt[0]){case"Z":ft=+xt,st=+gt;break;case"H":ft=bt[1];break;case"V":st=bt[1];break;case"M":xt=bt[bt.length-2],gt=bt[bt.length-1];break;default:ft=bt[bt.length-2],st=bt[bt.length-1]}}return yt},p=function(ht,yt,ft,st){return[ht,yt,ft,st,ft,st]},b=function(ht,yt,ft,st,xt,gt){var At=1/3,pt=2/3;return[At*ht+pt*ft,At*yt+pt*st,At*xt+pt*ft,At*gt+pt*st,xt,gt]},y=function(ht,yt,ft,st,xt,gt,At,pt,_,$){ft===st&&(ft+=1);var bt=Math.PI*120/180,it=Math.PI/180*(+xt||0),Ot=[],Pt,Rt,Vt,kt,Wt,wt=function(ze,Or,Nr){var $r=ze*Math.cos(Nr)-Or*Math.sin(Nr),Kr=ze*Math.sin(Nr)+Or*Math.cos(Nr);return{x:$r,y:Kr}};if($)Rt=$[0],Vt=$[1],kt=$[2],Wt=$[3];else{Pt=wt(ht,yt,-it),ht=Pt.x,yt=Pt.y,Pt=wt(pt,_,-it),pt=Pt.x,_=Pt.y,ht===pt&&yt===_&&(pt+=1,_+=1);var ct=(ht-pt)/2,jt=(yt-_)/2,Xt=ct*ct/(ft*ft)+jt*jt/(st*st);Xt>1&&(Xt=Math.sqrt(Xt),ft=Xt*ft,st=Xt*st);var It=ft*ft,Ut=st*st,$t=(gt===At?-1:1)*Math.sqrt(Math.abs((It*Ut-It*jt*jt-Ut*ct*ct)/(It*jt*jt+Ut*ct*ct)));kt=$t*ft*jt/st+(ht+pt)/2,Wt=$t*-st*ct/ft+(yt+_)/2,Rt=Math.asin(((yt-Wt)/st).toFixed(9)),Vt=Math.asin(((_-Wt)/st).toFixed(9)),Rt=ht<kt?Math.PI-Rt:Rt,Vt=pt<kt?Math.PI-Vt:Vt,Rt<0&&(Rt=Math.PI*2+Rt),Vt<0&&(Vt=Math.PI*2+Vt),At&&Rt>Vt&&(Rt=Rt-Math.PI*2),!At&&Vt>Rt&&(Vt=Vt-Math.PI*2)}var Ft=Vt-Rt;if(Math.abs(Ft)>bt){var Kt=Vt,ee=pt,ce=_;Vt=Rt+bt*(At&&Vt>Rt?1:-1),pt=kt+ft*Math.cos(Vt),_=Wt+st*Math.sin(Vt),Ot=y(pt,_,ft,st,xt,0,At,ee,ce,[Vt,Kt,kt,Wt])}Ft=Vt-Rt;var Se=Math.cos(Rt),Ce=Math.sin(Rt),Ge=Math.cos(Vt),hr=Math.sin(Vt),dr=Math.tan(Ft/4),ar=4/3*ft*dr,qe=4/3*st*dr,Xe=[ht,yt],ur=[ht+ar*Ce,yt-qe*Se],zr=[pt+ar*hr,_-qe*Ge],ir=[pt,_];if(ur[0]=2*Xe[0]-ur[0],ur[1]=2*Xe[1]-ur[1],$)return[ur,zr,ir].concat(Ot);Ot=[ur,zr,ir].concat(Ot).join().split(",");for(var qr=[],Mr=0,Br=Ot.length;Mr<Br;Mr++)qr[Mr]=Mr%2?wt(Ot[Mr-1],Ot[Mr],it).y:wt(Ot[Mr],Ot[Mr+1],it).x;return qr},C=function(ht,yt){var ft=S(ht),st=yt&&S(yt),xt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},gt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},At=[],pt=[],_="",$="",bt,it=function(ct,jt,Xt){var It,Ut;if(!ct)return["C",jt.x,jt.y,jt.x,jt.y,jt.x,jt.y];switch(!(ct[0]in{T:1,Q:1})&&(jt.qx=jt.qy=null),ct[0]){case"M":jt.X=ct[1],jt.Y=ct[2];break;case"A":ct=["C"].concat(y.apply(0,[jt.x,jt.y].concat(ct.slice(1))));break;case"S":Xt==="C"||Xt==="S"?(It=jt.x*2-jt.bx,Ut=jt.y*2-jt.by):(It=jt.x,Ut=jt.y),ct=["C",It,Ut].concat(ct.slice(1));break;case"T":Xt==="Q"||Xt==="T"?(jt.qx=jt.x*2-jt.qx,jt.qy=jt.y*2-jt.qy):(jt.qx=jt.x,jt.qy=jt.y),ct=["C"].concat(b(jt.x,jt.y,jt.qx,jt.qy,ct[1],ct[2]));break;case"Q":jt.qx=ct[1],jt.qy=ct[2],ct=["C"].concat(b(jt.x,jt.y,ct[1],ct[2],ct[3],ct[4]));break;case"L":ct=["C"].concat(p(jt.x,jt.y,ct[1],ct[2]));break;case"H":ct=["C"].concat(p(jt.x,jt.y,ct[1],jt.y));break;case"V":ct=["C"].concat(p(jt.x,jt.y,jt.x,ct[1]));break;case"Z":ct=["C"].concat(p(jt.x,jt.y,jt.X,jt.Y));break;default:break}return ct},Ot=function(ct,jt){if(ct[jt].length>7){ct[jt].shift();for(var Xt=ct[jt];Xt.length;)At[jt]="A",st&&(pt[jt]="A"),ct.splice(jt++,0,["C"].concat(Xt.splice(0,6)));ct.splice(jt,1),bt=Math.max(ft.length,st&&st.length||0)}},Pt=function(ct,jt,Xt,It,Ut){ct&&jt&&ct[Ut][0]==="M"&&jt[Ut][0]!=="M"&&(jt.splice(Ut,0,["M",It.x,It.y]),Xt.bx=0,Xt.by=0,Xt.x=ct[Ut][1],Xt.y=ct[Ut][2],bt=Math.max(ft.length,st&&st.length||0))};bt=Math.max(ft.length,st&&st.length||0);for(var Rt=0;Rt<bt;Rt++){ft[Rt]&&(_=ft[Rt][0]),_!=="C"&&(At[Rt]=_,Rt&&($=At[Rt-1])),ft[Rt]=it(ft[Rt],xt,$),At[Rt]!=="A"&&_==="C"&&(At[Rt]="C"),Ot(ft,Rt),st&&(st[Rt]&&(_=st[Rt][0]),_!=="C"&&(pt[Rt]=_,Rt&&($=pt[Rt-1])),st[Rt]=it(st[Rt],gt,$),pt[Rt]!=="A"&&_==="C"&&(pt[Rt]="C"),Ot(st,Rt)),Pt(ft,st,xt,gt,Rt),Pt(st,ft,gt,xt,Rt);var Vt=ft[Rt],kt=st&&st[Rt],Wt=Vt.length,wt=st&&kt.length;xt.x=Vt[Wt-2],xt.y=Vt[Wt-1],xt.bx=parseFloat(Vt[Wt-4])||xt.x,xt.by=parseFloat(Vt[Wt-3])||xt.y,gt.bx=st&&(parseFloat(kt[wt-4])||gt.x),gt.by=st&&(parseFloat(kt[wt-3])||gt.y),gt.x=st&&kt[wt-2],gt.y=st&&kt[wt-1]}return st?[ft,st]:ft},I=/,?([a-z]),?/gi,g=function(ht){return ht.join(",").replace(I,"$1")},R=function(ht,yt,ft,st,xt){var gt=-3*yt+9*ft-9*st+3*xt,At=ht*gt+6*yt-12*ft+6*st;return ht*At-3*yt+3*ft},U=function(ht,yt,ft,st,xt,gt,At,pt,_){_===null&&(_=1),_=_>1?1:_<0?0:_;for(var $=_/2,bt=12,it=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ot=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Pt=0,Rt=0;Rt<bt;Rt++){var Vt=$*it[Rt]+$,kt=R(Vt,ht,ft,xt,At),Wt=R(Vt,yt,st,gt,pt),wt=kt*kt+Wt*Wt;Pt+=Ot[Rt]*Math.sqrt(wt)}return $*Pt},W=function(ht,yt,ft,st,xt,gt,At,pt){for(var _=[],$=[[],[]],bt,it,Ot,Pt,Rt=0;Rt<2;++Rt){if(Rt===0?(it=6*ht-12*ft+6*xt,bt=-3*ht+9*ft-9*xt+3*At,Ot=3*ft-3*ht):(it=6*yt-12*st+6*gt,bt=-3*yt+9*st-9*gt+3*pt,Ot=3*st-3*yt),Math.abs(bt)<1e-12){if(Math.abs(it)<1e-12)continue;Pt=-Ot/it,Pt>0&&Pt<1&&_.push(Pt);continue}var Vt=it*it-4*Ot*bt,kt=Math.sqrt(Vt);if(!(Vt<0)){var Wt=(-it+kt)/(2*bt);Wt>0&&Wt<1&&_.push(Wt);var wt=(-it-kt)/(2*bt);wt>0&&wt<1&&_.push(wt)}}for(var ct=_.length,jt=ct,Xt;ct--;)Pt=_[ct],Xt=1-Pt,$[0][ct]=Xt*Xt*Xt*ht+3*Xt*Xt*Pt*ft+3*Xt*Pt*Pt*xt+Pt*Pt*Pt*At,$[1][ct]=Xt*Xt*Xt*yt+3*Xt*Xt*Pt*st+3*Xt*Pt*Pt*gt+Pt*Pt*Pt*pt;return $[0][jt]=ht,$[1][jt]=yt,$[0][jt+1]=At,$[1][jt+1]=pt,$[0].length=$[1].length=jt+2,{min:{x:Math.min.apply(0,$[0]),y:Math.min.apply(0,$[1])},max:{x:Math.max.apply(0,$[0]),y:Math.max.apply(0,$[1])}}},z=function(ht,yt,ft,st,xt,gt,At,pt){if(!(Math.max(ht,ft)<Math.min(xt,At)||Math.min(ht,ft)>Math.max(xt,At)||Math.max(yt,st)<Math.min(gt,pt)||Math.min(yt,st)>Math.max(gt,pt))){var _=(ht*st-yt*ft)*(xt-At)-(ht-ft)*(xt*pt-gt*At),$=(ht*st-yt*ft)*(gt-pt)-(yt-st)*(xt*pt-gt*At),bt=(ht-ft)*(gt-pt)-(yt-st)*(xt-At);if(!!bt){var it=_/bt,Ot=$/bt,Pt=+it.toFixed(2),Rt=+Ot.toFixed(2);if(!(Pt<+Math.min(ht,ft).toFixed(2)||Pt>+Math.max(ht,ft).toFixed(2)||Pt<+Math.min(xt,At).toFixed(2)||Pt>+Math.max(xt,At).toFixed(2)||Rt<+Math.min(yt,st).toFixed(2)||Rt>+Math.max(yt,st).toFixed(2)||Rt<+Math.min(gt,pt).toFixed(2)||Rt>+Math.max(gt,pt).toFixed(2)))return{x:it,y:Ot}}}},B=function(ht,yt,ft){return yt>=ht.x&&yt<=ht.x+ht.width&&ft>=ht.y&&ft<=ht.y+ht.height},L=function(ht,yt,ft,st,xt){if(xt)return[["M",+ht+ +xt,yt],["l",ft-xt*2,0],["a",xt,xt,0,0,1,xt,xt],["l",0,st-xt*2],["a",xt,xt,0,0,1,-xt,xt],["l",xt*2-ft,0],["a",xt,xt,0,0,1,-xt,-xt],["l",0,xt*2-st],["a",xt,xt,0,0,1,xt,-xt],["z"]];var gt=[["M",ht,yt],["l",ft,0],["l",0,st],["l",-ft,0],["z"]];return gt.parsePathArray=g,gt},w=function(ht,yt,ft,st){return ht===null&&(ht=yt=ft=st=0),yt===null&&(yt=ht.y,ft=ht.width,st=ht.height,ht=ht.x),{x:ht,y:yt,width:ft,w:ft,height:st,h:st,x2:ht+ft,y2:yt+st,cx:ht+ft/2,cy:yt+st/2,r1:Math.min(ft,st)/2,r2:Math.max(ft,st)/2,r0:Math.sqrt(ft*ft+st*st)/2,path:L(ht,yt,ft,st),vb:[ht,yt,ft,st].join(" ")}},F=function(ht,yt){return ht=w(ht),yt=w(yt),B(yt,ht.x,ht.y)||B(yt,ht.x2,ht.y)||B(yt,ht.x,ht.y2)||B(yt,ht.x2,ht.y2)||B(ht,yt.x,yt.y)||B(ht,yt.x2,yt.y)||B(ht,yt.x,yt.y2)||B(ht,yt.x2,yt.y2)||(ht.x<yt.x2&&ht.x>yt.x||yt.x<ht.x2&&yt.x>ht.x)&&(ht.y<yt.y2&&ht.y>yt.y||yt.y<ht.y2&&yt.y>ht.y)},V=function(ht,yt,ft,st,xt,gt,At,pt){Object(c.isArray)(ht)||(ht=[ht,yt,ft,st,xt,gt,At,pt]);var _=W.apply(null,ht);return w(_.min.x,_.min.y,_.max.x-_.min.x,_.max.y-_.min.y)},Y=function(ht,yt,ft,st,xt,gt,At,pt,_){var $=1-_,bt=Math.pow($,3),it=Math.pow($,2),Ot=_*_,Pt=Ot*_,Rt=bt*ht+it*3*_*ft+$*3*_*_*xt+Pt*At,Vt=bt*yt+it*3*_*st+$*3*_*_*gt+Pt*pt,kt=ht+2*_*(ft-ht)+Ot*(xt-2*ft+ht),Wt=yt+2*_*(st-yt)+Ot*(gt-2*st+yt),wt=ft+2*_*(xt-ft)+Ot*(At-2*xt+ft),ct=st+2*_*(gt-st)+Ot*(pt-2*gt+st),jt=$*ht+_*ft,Xt=$*yt+_*st,It=$*xt+_*At,Ut=$*gt+_*pt,$t=90-Math.atan2(kt-wt,Wt-ct)*180/Math.PI;return{x:Rt,y:Vt,m:{x:kt,y:Wt},n:{x:wt,y:ct},start:{x:jt,y:Xt},end:{x:It,y:Ut},alpha:$t}},tt=function(ht,yt,ft){var st=V(ht),xt=V(yt);if(!F(st,xt))return ft?0:[];for(var gt=U.apply(0,ht),At=U.apply(0,yt),pt=~~(gt/8),_=~~(At/8),$=[],bt=[],it={},Ot=ft?0:[],Pt=0;Pt<pt+1;Pt++){var Rt=Y.apply(0,ht.concat(Pt/pt));$.push({x:Rt.x,y:Rt.y,t:Pt/pt})}for(var Pt=0;Pt<_+1;Pt++){var Rt=Y.apply(0,yt.concat(Pt/_));bt.push({x:Rt.x,y:Rt.y,t:Pt/_})}for(var Pt=0;Pt<pt;Pt++)for(var Vt=0;Vt<_;Vt++){var kt=$[Pt],Wt=$[Pt+1],wt=bt[Vt],ct=bt[Vt+1],jt=Math.abs(Wt.x-kt.x)<.001?"y":"x",Xt=Math.abs(ct.x-wt.x)<.001?"y":"x",It=z(kt.x,kt.y,Wt.x,Wt.y,wt.x,wt.y,ct.x,ct.y);if(It){if(it[It.x.toFixed(4)]===It.y.toFixed(4))continue;it[It.x.toFixed(4)]=It.y.toFixed(4);var Ut=kt.t+Math.abs((It[jt]-kt[jt])/(Wt[jt]-kt[jt]))*(Wt.t-kt.t),$t=wt.t+Math.abs((It[Xt]-wt[Xt])/(ct[Xt]-wt[Xt]))*(ct.t-wt.t);Ut>=0&&Ut<=1&&$t>=0&&$t<=1&&(ft?Ot+=1:Ot.push({x:It.x,y:It.y,t1:Ut,t2:$t}))}}return Ot},q=function(ht,yt,ft){ht=C(ht),yt=C(yt);for(var st,xt,gt,At,pt,_,$,bt,it,Ot,Pt=ft?0:[],Rt=0,Vt=ht.length;Rt<Vt;Rt++){var kt=ht[Rt];if(kt[0]==="M")st=pt=kt[1],xt=_=kt[2];else{kt[0]==="C"?(it=[st,xt].concat(kt.slice(1)),st=it[6],xt=it[7]):(it=[st,xt,st,xt,pt,_,pt,_],st=pt,xt=_);for(var Wt=0,wt=yt.length;Wt<wt;Wt++){var ct=yt[Wt];if(ct[0]==="M")gt=$=ct[1],At=bt=ct[2];else{ct[0]==="C"?(Ot=[gt,At].concat(ct.slice(1)),gt=Ot[6],At=Ot[7]):(Ot=[gt,At,gt,At,$,bt,$,bt],gt=$,At=bt);var jt=tt(it,Ot,ft);if(ft)Pt+=jt;else{for(var Xt=0,It=jt.length;Xt<It;Xt++)jt[Xt].segment1=Rt,jt[Xt].segment2=Wt,jt[Xt].bez1=it,jt[Xt].bez2=Ot;Pt=Pt.concat(jt)}}}}}return Pt},H=function(ht,yt){return q(ht,yt)};function Q(ht,yt){var ft=[],st=[];function xt(gt,At){if(gt.length===1)ft.push(gt[0]),st.push(gt[0]);else{for(var pt=[],_=0;_<gt.length-1;_++)_===0&&ft.push(gt[0]),_===gt.length-2&&st.push(gt[_+1]),pt[_]=[(1-At)*gt[_][0]+At*gt[_+1][0],(1-At)*gt[_][1]+At*gt[_+1][1]];xt(pt,At)}}return ht.length&&xt(ht,yt),{left:ft,right:st.reverse()}}function k(ht,yt,ft){var st=[[ht[1],ht[2]]];ft=ft||2;var xt=[];yt[0]==="A"?(st.push(yt[6]),st.push(yt[7])):yt[0]==="C"?(st.push([yt[1],yt[2]]),st.push([yt[3],yt[4]]),st.push([yt[5],yt[6]])):yt[0]==="S"||yt[0]==="Q"?(st.push([yt[1],yt[2]]),st.push([yt[3],yt[4]])):st.push([yt[1],yt[2]]);for(var gt=st,At=1/ft,pt=0;pt<ft-1;pt++){var _=At/(1-At*pt),$=Q(gt,_);xt.push($.left),gt=$.right}xt.push(gt);var bt=xt.map(function(it){var Ot=[];return it.length===4&&(Ot.push("C"),Ot=Ot.concat(it[2])),it.length>=3&&(it.length===3&&Ot.push("Q"),Ot=Ot.concat(it[1])),it.length===2&&Ot.push("L"),Ot=Ot.concat(it[it.length-1]),Ot});return bt}var K=function(ht,yt,ft){if(ft===1)return[[].concat(ht)];var st=[];if(yt[0]==="L"||yt[0]==="C"||yt[0]==="Q")st=st.concat(k(ht,yt,ft));else{var xt=[].concat(ht);xt[0]==="M"&&(xt[0]="L");for(var gt=0;gt<=ft-1;gt++)st.push(xt)}return st},nt=function(ht,yt){if(ht.length===1)return ht;var ft=ht.length-1,st=yt.length-1,xt=ft/st,gt=[];if(ht.length===1&&ht[0][0]==="M"){for(var At=0;At<st-ft;At++)ht.push(ht[0]);return ht}for(var At=0;At<st;At++){var pt=Math.floor(xt*At);gt[pt]=(gt[pt]||0)+1}var _=gt.reduce(function($,bt,it){return it===ft?$.concat(ht[ft]):$.concat(K(ht[it],ht[it+1],bt))},[]);return _.unshift(ht[0]),(yt[st]==="Z"||yt[st]==="z")&&_.push("Z"),_},lt=function(ht,yt){if(ht.length!==yt.length)return!1;var ft=!0;return Object(c.each)(ht,function(st,xt){if(st!==yt[xt])return ft=!1,!1}),ft};function ut(ht,yt,ft){var st=null,xt=ft;return yt<xt&&(xt=yt,st="add"),ht<xt&&(xt=ht,st="del"),{type:st,min:xt}}var rt=function(ht,yt){var ft=ht.length,st=yt.length,xt,gt,At=0;if(ft===0||st===0)return null;for(var pt=[],_=0;_<=ft;_++)pt[_]=[],pt[_][0]={min:_};for(var $=0;$<=st;$++)pt[0][$]={min:$};for(var _=1;_<=ft;_++){xt=ht[_-1];for(var $=1;$<=st;$++){gt=yt[$-1],lt(xt,gt)?At=0:At=1;var bt=pt[_-1][$].min+1,it=pt[_][$-1].min+1,Ot=pt[_-1][$-1].min+At;pt[_][$]=ut(bt,it,Ot)}}return pt},ot=function(ht,yt){var ft=rt(ht,yt),st=ht.length,xt=yt.length,gt=[],At=1,pt=1;if(ft[st][xt].min!==st){for(var _=1;_<=st;_++){var $=ft[_][_].min;pt=_;for(var bt=At;bt<=xt;bt++)ft[_][bt].min<$&&($=ft[_][bt].min,pt=bt);At=pt,ft[_][At].type&&gt.push({index:_-1,type:ft[_][At].type})}for(var _=gt.length-1;_>=0;_--)At=gt[_].index,gt[_].type==="add"?ht.splice(At,0,[].concat(ht[At])):ht.splice(At,1)}st=ht.length;var it=xt-st;if(st<xt)for(var _=0;_<it;_++)ht[st-1][0]==="z"||ht[st-1][0]==="Z"?ht.splice(st-2,0,ht[st-2]):ht.push(ht[st-1]),st+=1;return ht};function dt(ht,yt,ft){for(var st=[].concat(ht),xt,gt=1/(ft+1),At=Mt(yt)[0],pt=1;pt<=ft;pt++)gt*=pt,xt=Math.floor(ht.length*gt),xt===0?st.unshift([At[0]*gt+ht[xt][0]*(1-gt),At[1]*gt+ht[xt][1]*(1-gt)]):st.splice(xt,0,[At[0]*gt+ht[xt][0]*(1-gt),At[1]*gt+ht[xt][1]*(1-gt)]);return st}function Mt(ht){var yt=[];switch(ht[0]){case"M":yt.push([ht[1],ht[2]]);break;case"L":yt.push([ht[1],ht[2]]);break;case"A":yt.push([ht[6],ht[7]]);break;case"Q":yt.push([ht[3],ht[4]]),yt.push([ht[1],ht[2]]);break;case"T":yt.push([ht[1],ht[2]]);break;case"C":yt.push([ht[5],ht[6]]),yt.push([ht[1],ht[2]]),yt.push([ht[3],ht[4]]);break;case"S":yt.push([ht[3],ht[4]]),yt.push([ht[1],ht[2]]);break;case"H":yt.push([ht[1],ht[1]]);break;case"V":yt.push([ht[1],ht[1]]);break;default:}return yt}var Nt=function(ht,yt){if(ht.length<=1)return ht;for(var ft,st=0;st<yt.length;st++)if(ht[st][0]!==yt[st][0])switch(ft=Mt(ht[st]),yt[st][0]){case"M":ht[st]=["M"].concat(ft[0]);break;case"L":ht[st]=["L"].concat(ft[0]);break;case"A":ht[st]=[].concat(yt[st]),ht[st][6]=ft[0][0],ht[st][7]=ft[0][1];break;case"Q":if(ft.length<2)if(st>0)ft=dt(ft,ht[st-1],1);else{ht[st]=yt[st];break}ht[st]=["Q"].concat(ft.reduce(function(xt,gt){return xt.concat(gt)},[]));break;case"T":ht[st]=["T"].concat(ft[0]);break;case"C":if(ft.length<3)if(st>0)ft=dt(ft,ht[st-1],2);else{ht[st]=yt[st];break}ht[st]=["C"].concat(ft.reduce(function(xt,gt){return xt.concat(gt)},[]));break;case"S":if(ft.length<2)if(st>0)ft=dt(ft,ht[st-1],1);else{ht[st]=yt[st];break}ht[st]=["S"].concat(ft.reduce(function(xt,gt){return xt.concat(gt)},[]));break;default:ht[st]=yt[st]}return ht}},"T8j/":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=O(i("Wdwj")),a=O(i("R5yz")),M=i("Eqze");function O(p){return p&&p.__esModule?p:{default:p}}var x=function(b,y){var C=[],I=b.nodes,g=I===void 0?[]:I,R=b.edges,U=R===void 0?[]:R;if(g.length===0)return C;var W=g[0],z=new Set;z.add(W);var B=function(tt,q){return y?tt.weight-q.weight:0},L=new a.default(B);for((0,M.getEdgesByNodeId)(W.id,U).forEach(function(Y){L.insert(Y)});!L.isEmpty();){var w=L.delMin(),F=w.source,V=w.target;z.has(F)&&z.has(V)||(C.push(w),z.has(F)||(z.add(F),(0,M.getEdgesByNodeId)(F,U).forEach(function(Y){L.insert(Y)})),z.has(V)||(z.add(V),(0,M.getEdgesByNodeId)(V,U).forEach(function(Y){L.insert(Y)})))}return C},D=function(b,y){var C=[],I=b.nodes,g=I===void 0?[]:I,R=b.edges,U=R===void 0?[]:R;if(g.length===0)return C;var W=U.map(function(F){return F});y&&W.sort(function(F,V){return F.weight-V.weight});for(var z=new c.default(g.map(function(F){return F.id}));W.length>0;){var B=W.shift(),L=B.source,w=B.target;z.connected(L,w)||(C.push(B),z.union(L,w))}return C},E=function(b,y,C){var I={prim:x,kruskal:D};return C?I[C](b,y):D(b,y)},S=E;A.default=S},TKkZ:function(Lt,A){function i(c,a){if(!(a==="constructor"&&typeof c[a]=="function")&&a!="__proto__")return c[a]}Lt.exports=i},TZFZ:function(Lt,A){},TaHB:function(Lt,A,i){"use strict";i.d(A,"b",function(){return c}),i.d(A,"a",function(){return a}),i.d(A,"c",function(){return M});var c=1e-6,a=typeof Float32Array!="undefined"?Float32Array:Array,M=Math.random;function O(S){a=S}var x=Math.PI/180;function D(S){return S*x}function E(S,p){return Math.abs(S-p)<=c*Math.max(1,Math.abs(S),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var S=0,p=arguments.length;p--;)S+=arguments[p]*arguments[p];return Math.sqrt(S)})},TdFI:function(Lt,A){},TdPr:function(Lt,A,i){var c=i("TpDJ"),a=i("TIpG"),M=i("TeP8"),O=i("E5vS");function x(D,E,S){if(!O(S))return!1;var p=typeof E;return(p=="number"?a(S)&&M(E,S.length):p=="string"&&E in S)?c(S[E],D):!1}Lt.exports=x},ThNq:function(Lt,A,i){var c=i("xXdm"),a=i("fQJb"),M=i("ah2v");function O(x,D,E){for(var S=-1,p=D.length,b={};++S<p;){var y=D[S],C=c(x,y);E(C,y)&&a(b,M(y,x),C)}return b}Lt.exports=O},TkY2:function(Lt,A,i){"use strict";function c(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(b){return typeof b}:c=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},c(S)}Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var a=x(i("bQN1")),M=i("e9gb");function O(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return O=function(){return S},S}function x(S){if(S&&S.__esModule)return S;if(S===null||c(S)!=="object"&&typeof S!="function")return{default:S};var p=O();if(p&&p.has(S))return p.get(S);var b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in S)if(Object.prototype.hasOwnProperty.call(S,C)){var I=y?Object.getOwnPropertyDescriptor(S,C):null;I&&(I.get||I.set)?Object.defineProperty(b,C,I):b[C]=S[C]}return b.default=S,p&&p.set(S,b),b}var D=self;D.onmessage=function(S){var p=S.data,b=p._algorithmType,y=p.data;if(!!b){if(typeof a[b]=="function"){var C=a[b].apply(a,y);D.postMessage({_algorithmType:M.MESSAGE.SUCCESS,data:C});return}D.postMessage({_algorithmType:M.MESSAGE.FAILURE})}};var E=null;A.default=E},U8wd:function(Lt,A,i){"use strict";i.r(A),i.d(A,"version",function(){return W});var c=i("T5ir");i.d(A,"PathUtil",function(){return c});var a=i("zWOy"),M=i.n(a);for(var O in a)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(O)<0&&function(z){i.d(A,z,function(){return a[z]})}(O);var x=i("bYNP"),D=i.n(x);for(var O in x)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(O)<0&&function(B){i.d(A,B,function(){return x[B]})}(O);var E=i("LxUj");i.d(A,"Event",function(){return E.a});var S=i("xOhq");i.d(A,"Base",function(){return S.a});var p=i("nxzP");i.d(A,"AbstractCanvas",function(){return p.a});var b=i("t9r2");i.d(A,"AbstractGroup",function(){return b.a});var y=i("aib0");i.d(A,"AbstractShape",function(){return y.a});var C=i("40+6");i.d(A,"getBBoxMethod",function(){return C.a});var I=i("DBqA");i.d(A,"getTextHeight",function(){return I.b}),i.d(A,"assembleFont",function(){return I.a});var g=i("tSnd");i.d(A,"isAllowCapture",function(){return g.b});var R=i("PHCe");i.d(A,"multiplyVec2",function(){return R.c}),i.d(A,"invert",function(){return R.a});var U=i("r93A");i.d(A,"getOffScreenContext",function(){return U.a});var W="0.5.6"},UHDP:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var c=i("BbNA");function a(M,O){O===void 0&&(O=!0);var x=c.makePropertyInjectDecorator(M,O),D=c.makePropertyInjectNamedDecorator(M,O),E=c.makePropertyInjectTaggedDecorator(M,O),S=c.makePropertyMultiInjectDecorator(M,O);return{lazyInject:x,lazyInjectNamed:D,lazyInjectTagged:E,lazyMultiInject:S}}A.default=a},Uhlt:function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("gWxb"),M=i("gs6+"),O=i("rJDL"),x=i("+FNX"),D=i("mxXC"),E=i("43gi").Graph,S=i("hppO");Lt.exports=p;function p(I){var g=S.maxRank(I),R=b(I,c.range(1,g+1),"inEdges"),U=b(I,c.range(g-1,-1,-1),"outEdges"),W=a(I);C(I,W);for(var z=Number.POSITIVE_INFINITY,B,L=0,w=0;w<4;++L,++w){y(L%2?R:U,L%4>=2),W=S.buildLayerMatrix(I);var F=M(I,W);F<z&&(w=0,B=c.cloneDeep(W),z=F)}C(I,B)}function b(I,g,R){return c.map(g,function(U){return x(I,U,R)})}function y(I,g){var R=new E;c.forEach(I,function(U){var W=U.graph().root,z=O(U,W,R,g);c.forEach(z.vs,function(B,L){U.node(B).order=L}),D(U,R,z.vs)})}function C(I,g){c.forEach(g,function(R){c.forEach(R,function(U,W){I.node(U).order=W})})}},UngR:function(Lt,A,i){"use strict";var c=new Map;function a(L,w){c.set(L,w)}function M(L){return c.get(L)}var O=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.width,tt=w.height;return{x:F,y:V,width:Y,height:tt}},x=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.r;return{x:F-Y,y:V-Y,width:Y*2,height:Y*2}},D=i("9pBU");function E(L,w){return!L||!w?L||w:{minX:Math.min(L.minX,w.minX),minY:Math.min(L.minY,w.minY),maxX:Math.max(L.maxX,w.maxX),maxY:Math.max(L.maxY,w.maxY)}}function S(L,w){var F=L.get("startArrowShape"),V=L.get("endArrowShape"),Y=null,tt=null;return F&&(Y=F.getCanvasBBox(),w=E(w,Y)),V&&(tt=V.getCanvasBBox(),w=E(w,tt)),w}var p=function(L){for(var w=L.attr(),F=w.points,V=[],Y=[],tt=0;tt<F.length;tt++){var q=F[tt];V.push(q[0]),Y.push(q[1])}var H=D.f.getBBoxByArray(V,Y),Q=H.x,k=H.y,K=H.width,nt=H.height,lt={minX:Q,minY:k,maxX:Q+K,maxY:k+nt};return lt=S(L,lt),{x:lt.minX,y:lt.minY,width:lt.maxX-lt.minX,height:lt.maxY-lt.minY}},b=function(L){for(var w=L.attr(),F=w.points,V=[],Y=[],tt=0;tt<F.length;tt++){var q=F[tt];V.push(q[0]),Y.push(q[1])}return D.f.getBBoxByArray(V,Y)},y=i("n9X1"),C=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.text,tt=w.fontSize,q=w.lineHeight,H=w.font;H||(H=Object(y.a)(w));var Q=Object(y.c)(Y,H),k;if(!Q)k={x:F,y:V,width:0,height:0};else{var K=w.textAlign,nt=w.textBaseline,lt=Object(y.b)(Y,tt,q),ut={x:F,y:V-lt};K&&(K==="end"||K==="right"?ut.x-=Q:K==="center"&&(ut.x-=Q/2)),nt&&(nt==="top"?ut.y+=lt:nt==="middle"&&(ut.y+=lt/2)),k={x:ut.x,y:ut.y,width:Q,height:lt}}return k},I=i("WOt1"),g=i("8Mtd");function R(L,w){for(var F=[],V=[],Y=[],tt=0;tt<L.length;tt++){var q=L[tt],H=q.currentPoint,Q=q.params,k=q.prePoint,K=void 0;switch(q.command){case"Q":K=D.e.box(k[0],k[1],Q[1],Q[2],Q[3],Q[4]);break;case"C":K=D.b.box(k[0],k[1],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6]);break;case"A":var nt=q.arcParams;K=D.a.box(nt.cx,nt.cy,nt.rx,nt.ry,nt.xRotation,nt.startAngle,nt.endAngle);break;default:F.push(H[0]),V.push(H[1]);break}K&&(q.box=K,F.push(K.x,K.x+K.width),V.push(K.y,K.y+K.height)),w&&(q.command==="L"||q.command==="M")&&q.prePoint&&q.nextPoint&&Y.push(q)}F=F.filter(function(Mt){return!Number.isNaN(Mt)}),V=V.filter(function(Mt){return!Number.isNaN(Mt)});var lt=Object(g.min)(F),ut=Object(g.min)(V),rt=Object(g.max)(F),ot=Object(g.max)(V);if(Y.length===0)return{x:lt,y:ut,width:rt-lt,height:ot-ut};for(var tt=0;tt<Y.length;tt++){var q=Y[tt],H=q.currentPoint,dt=void 0;H[0]===lt?(dt=U(q,w),lt=lt-dt.xExtra):H[0]===rt&&(dt=U(q,w),rt=rt+dt.xExtra),H[1]===ut?(dt=U(q,w),ut=ut-dt.yExtra):H[1]===ot&&(dt=U(q,w),ot=ot+dt.yExtra)}return{x:lt,y:ut,width:rt-lt,height:ot-ut}}function U(L,w){var F=L.prePoint,V=L.currentPoint,Y=L.nextPoint,tt=Math.pow(V[0]-F[0],2)+Math.pow(V[1]-F[1],2),q=Math.pow(V[0]-Y[0],2)+Math.pow(V[1]-Y[1],2),H=Math.pow(F[0]-Y[0],2)+Math.pow(F[1]-Y[1],2),Q=Math.acos((tt+q-H)/(2*Math.sqrt(tt)*Math.sqrt(q)));if(!Q||Math.sin(Q)===0||Object(g.isNumberEqual)(Q,0))return{xExtra:0,yExtra:0};var k=Math.abs(Math.atan2(Y[1]-V[1],Y[0]-V[0])),K=Math.abs(Math.atan2(Y[0]-V[0],Y[1]-V[1]));k=k>Math.PI/2?Math.PI-k:k,K=K>Math.PI/2?Math.PI-K:K;var nt={xExtra:Math.cos(Q/2-k)*(w/2*(1/Math.sin(Q/2)))-w/2||0,yExtra:Math.cos(K-Q/2)*(w/2*(1/Math.sin(Q/2)))-w/2||0};return nt}var W=function(L){var w=L.attr(),F=w.path,V=w.stroke,Y=V?w.lineWidth:0,tt=L.get("segments")||Object(I.e)(F),q=R(tt,Y),H=q.x,Q=q.y,k=q.width,K=q.height,nt={minX:H,minY:Q,maxX:H+k,maxY:Q+K};return nt=S(L,nt),{x:nt.minX,y:nt.minY,width:nt.maxX-nt.minX,height:nt.maxY-nt.minY}},z=function(L){var w=L.attr(),F=w.x1,V=w.y1,Y=w.x2,tt=w.y2,q=Math.min(F,Y),H=Math.max(F,Y),Q=Math.min(V,tt),k=Math.max(V,tt),K={minX:q,maxX:H,minY:Q,maxY:k};return K=S(L,K),{x:K.minX,y:K.minY,width:K.maxX-K.minX,height:K.maxY-K.minY}},B=function(L){var w=L.attr(),F=w.x,V=w.y,Y=w.rx,tt=w.ry;return{x:F-Y,y:V-tt,width:Y*2,height:tt*2}};a("rect",O),a("image",O),a("circle",x),a("marker",x),a("polyline",p),a("polygon",b),a("text",C),a("path",W),a("line",z),a("ellipse",B)},V6jZ:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=i("CMID"),a=D(i("+/lo")),M=D(i("FasI")),O=D(i("Jr4d")),x=i("Eqze");function D(L){return L&&L.__esModule?L:{default:L}}function E(L){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(F){return typeof F}:E=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},E(L)}var S=function(w,F,V,Y){V===void 0&&(V="cluster"),Y===void 0&&(Y=2);var tt=[],q=w.nodes;return F.forEach(function(H,Q){tt.push(p(q,H,Q,V,Y))}),tt},p=function(w,F,V,Y,tt){var q=[V],H=[],Q={};return F.forEach(function(k,K){if(k<=tt&&V!==K){q.push(K),H.push(w[K]);var nt=w[K][Y];Q[nt]?(Q[nt].count++,Q[nt].dists.push(k)):Q[nt]={count:1,dists:[k]}}}),Object.keys(Q).forEach(function(k){Q[k].dists=Q[k].dists.sort(function(K,nt){return K-nt})}),{nodeIdx:V,nodeId:w[V].id,nodeIdxs:q,neighbors:H,neighborNum:q.length-1,nodeLabelCountMap:Q}},b=function(w,F,V,Y,tt){var q=Math.ceil(V/F),H={},Q=0;return Y.forEach(function(k,K){for(var nt=0,lt=0,ut=k.nodeIdxs,rt=k.neighborNum-1;nt<q;){for(var ot=ut[1+Math.floor(Math.random()*rt)],dt=0;(H[K+"-"+ot]||H[ot+"-"+K])&&(ot=Math.floor(Math.random()*F),dt++,!(dt>2*F)););if(dt<2*F&&(H[K+"-"+ot]={start:K,end:ot,distance:tt[K][ot]},nt++,Q++,Q>=V))return H;if(lt++,lt>2*F)break}if(nt<q){var Mt=q-nt;q=(q+Mt)/(F-K-1)}}),H},y=function(w,F,V,Y){var tt=V.nodes;return Y||(Y={}),Object.keys(w).forEach(function(q){var H,Q;if(!(Y&&Y[q])){Y[q]={nodes:[],edges:[]};var k=w[q],K=(H=F[k.start])===null||H===void 0?void 0:H.nodeIdxs,nt=(Q=F[k.end])===null||Q===void 0?void 0:Q.nodeIdxs;if(!(!K||!nt)){var lt=new Set(nt),ut=K.filter(function(Nt){return lt.has(Nt)});if(!(!ut||!ut.length)){for(var rt={},ot=ut.length,dt=0;dt<ot;dt++){var Mt=tt[ut[dt]];Y[q].nodes.push(Mt),rt[Mt.id]=!0}V.edges.forEach(function(Nt){rt[Nt.source]&&rt[Nt.target]&&Y[q].edges.push(Nt)})}}}}),Y},C=function(w,F,V,Y){var tt={};w.nodes.forEach(function(H){tt[H.id]=H});var q=0;return w.edges.forEach(function(H){var Q=tt[H.source][V],k=tt[H.target][V],K=F.nodes[0][V],nt=F.nodes[1][V],lt=F.edges[0][Y];H[Y]===lt&&(Q===K&&k===nt||Q===nt&&k===K)&&q++}),q},I=function(w,F,V){for(var Y=Infinity,tt=0,q=function(k){var K=w[k],nt=Object.keys(K).sort(function(Nt,ht){return K[Nt]-K[ht]}),lt=10,ut=[];nt.forEach(function(Nt,ht){ut[ht%lt]||(ut[ht%lt]={graphs:[],totalCount:0,aveCount:0}),ut[ht%lt].graphs.push(Nt),ut[ht%lt].totalCount+=K[Nt]});var rt=0,ot=[];ut.forEach(function(Nt){var ht=Nt.totalCount/Nt.graphs.length;Nt.aveCount=ht,ot.push(ht);var yt=0,ft=Nt.length;Nt.graphs.forEach(function(st,xt){var gt=K[st];Nt.graphs.forEach(function(At,pt){xt!==pt&&(yt+=Math.abs(gt-K[At]))})}),yt/=ft*(ft-1)/2,rt+=yt}),rt/=ut.length;var dt=0;ot.forEach(function(Nt,ht){ot.forEach(function(yt,ft){ht!==ft&&(dt+=Math.abs(Nt-yt))}),dt/=ot.length*(ot.length-1)/2});var Mt=dt-rt;Y<Mt&&(Y=Mt,tt=k)},H=0;H<F;H++)q(H);return{structure:V[tt],structureCountMap:w[tt]}},g=function(w,F){var V={},Y={};return w.forEach(function(tt,q){V[tt.id]={idx:q,node:tt,degree:0};var H=tt[F];Y[H]||(Y[H]=[]),Y[H].push(tt)}),{nodeMap:V,nodeLabelMap:Y}},R=function(w,F,V){var Y={},tt={};return w.forEach(function(q,H){Y[""+x.uniqueId]={idx:H,edge:q};var Q=q[F];tt[Q]||(tt[Q]=[]),tt[Q].push(q);var k=V[q.source];k&&k.degree++;var K=V[q.target];K&&K.degree++}),{edgeMap:Y,edgeLabelMap:tt}},U=function(w,F,V){var Y=F.length,tt={};return F.forEach(function(q,H){for(var Q=V?0:H+1,k=w[H].id,K=Q;K<Y;K++)if(H!==K){var nt=w[K].id,lt=q[K];tt[k+"-"+nt]=lt,V||(tt[nt+"-"+k]=lt)}}),tt},W=function(w,F,V,Y,tt,q,H,Q,k,K,nt){var lt,ut=F.id+"-"+V.id;if(K&&K[ut])return K[ut];var rt=nt?nt[ut]:void 0;if(!rt){var ot=(lt={},lt[ut]={start:Y[F.id].idx,end:Y[V.id].idx,distance:tt},lt);nt=y(ot,q,w,nt),rt=nt[ut]}return C(rt,H,Q,k)},z=function(w,F,V,Y,tt,q,H){if(V===void 0&&(V=!1),q===void 0&&(q="cluster"),H===void 0&&(H="cluster"),!(!w||!w.nodes)){var Q=w.nodes.length;if(!!Q){var k=(0,a.default)(w,V),K=(0,a.default)(F,V),nt=U(w.nodes,k,V),lt=U(F.nodes,K,V),ut=g(w.nodes,q),rt=ut.nodeMap,ot=ut.nodeLabelMap,dt=g(F.nodes,q),Mt=dt.nodeMap,Nt=dt.nodeLabelMap;R(w.edges,H,rt);var ht=R(F.edges,H,Mt).edgeLabelMap;tt||(tt=Math.max.apply(Math,(0,c.__spreadArray)((0,c.__spreadArray)([],K[0]),[2]))),Y||(Y=tt);var yt=S(w,k,q,Y),ft=S(F,K,q,Y),st=Math.min(100,Q*(Q-1)/2),xt=b(Y,Q,st,ft,k),gt=y(xt,yt,w),At=10,pt=1,_=1,$=4,bt={graphs:gt,nodeLabelProp:q,edgeLabelProp:H,minSupport:pt,minNodeNum:_,maxNodeNum:$,directed:V},it=(0,M.default)(bt).slice(0,At),Ot=it.length,Pt=[];it.forEach(function(ar,qe){Pt[qe]={},Object.keys(gt).forEach(function(Xe){var ur=gt[Xe],zr=C(ur,ar,q,H);Pt[qe][Xe]=zr})});var Rt=I(Pt,Ot,it),Vt=Rt.structure,kt=Rt.structureCountMap,Wt=F.nodes[0],wt=Wt[q],ct=ot[wt],jt={},Xt={},It={},Ut={},$t={};Object.keys(Nt).forEach(function(ar,qe){$t[ar]=[];var Xe=-Infinity,ur=Nt[ar],zr={};ur.forEach(function(ze){var Or=lt[Wt.id+"-"+ze.id];Or&&$t[ar].push(Or),Xe<Or&&(Xe=Or),zr[Wt.id+"-"+ze.id]={start:0,end:Mt[ze.id].idx,distance:Or}}),$t[ar]=$t[ar].sort(function(ze,Or){return ze-Or}),Xt=y(zr,ft,F,Xt);var ir=[];if(Object.keys(zr).forEach(function(ze){if(It[ze]){ir.push(It[ze]);return}var Or=Xt[ze];It[ze]=C(Or,Vt,q,H),ir.push(It[ze])}),ir=ir.sort(function(ze,Or){return Or-ze}),Ut[Wt.id+"-"+ar]=ir,ar!==wt)for(var qr=ct.length,Mr=function(Or){var Nr=ct[Or],$r=yt[rt[Nr.id].idx],Kr=$r.nodeLabelCountMap[ar],Un=Nt[ar].length;if(!Kr||Kr.count<Un)return ct.splice(Or,1),"continue";for(var ti=!1,wn=0;wn<Un;wn++)if(Kr.dists[wn]>$t[ar][wn]){ti=!0;break}if(ti)return ct.splice(Or,1),"continue";var Bn={};$r.neighbors.forEach(function(In){var ai=nt[Nr.id+"-"+In.id];Bn[Nr.id+"-"+In.id]={start:rt[Nr.id].idx,end:rt[In.id].idx,distance:ai}}),gt=y(Bn,yt,w,gt);var kn=[];Object.keys(Bn).forEach(function(In){if(kt[In]){kn.push(kt[In]);return}var ai=gt[In];kt[In]=C(ai,Vt,q,H),kn.push(kt[In])}),kn=kn.sort(function(In,ai){return ai-In});for(var ei=!1,wn=0;wn<Un;wn++)if(kn[wn]<ir[wn]){ei=!0;break}if(ei)return ct.splice(Or,1),"continue"},Br=qr-1;Br>=0;Br--)Mr(Br)});var Ft=[];ct.forEach(function(ar){for(var qe=rt[ar.id].idx,Xe=p(w.nodes,k[qe],qe,q,tt),ur=Xe.neighbors,zr=ur.length,ir=!1,qr=function(Or){if(ur.length+1<F.nodes.length)return ir=!0,{value:void 0};var Nr=ur[Or],$r=Nr[q];if(!Nt[$r]||!Nt[$r].length)return ur.splice(Or,1),"continue";var Kr=ar.id+"-"+Nr.id;if(!$t[$r]||!$t[$r].length)return ur.splice(Or,1),"continue";var Un=nt[Kr],ti=$t[$r][$t[$r].length-1];if(Un>ti)return ur.splice(Or,1),"continue";var wn=kt[Kr]?kt[Kr]:W(w,ar,Nr,rt,Un,yt,Vt,q,H,kt,gt),Bn=Wt.id+"-"+$r,kn=Ut[Bn][Ut[Bn].length-1];if(wn<kn)return ur.splice(Or,1),"continue";var ei=jt[$r];if(ei===void 0&&(ei=Infinity,Nt[$r].forEach(function(In){var ai=Mt[In.id].degree;ei>ai&&(ei=ai)}),jt[$r]=ei),rt[Nr.id].degree<ei)return ur.splice(Or,1),"continue"},Mr=zr-1;Mr>=0;Mr--){var Br=qr(Mr);if(E(Br)==="object")return Br.value}ir||Ft.push({nodes:[ar].concat(ur)})});var Kt=(0,O.default)(F,Wt.id,!1).length,ee={};V?(Object.keys(Kt).forEach(function(ar){var qe=Mt[ar].node[q];ee[qe]?ee[qe].push(Kt[ar]):ee[qe]=[Kt[ar]]}),Object.keys(ee).forEach(function(ar){ee[ar].sort(function(qe,Xe){return qe-Xe})})):ee=$t;for(var ce=Ft.length,Se=function(qe){var Xe=Ft[qe],ur=Xe.nodes[0],zr={},ir={};Xe.nodes.forEach(function(Ri,ca){ir[Ri.id]={idx:ca,node:Ri,degree:0};var Di=Ri[q];zr[Di]?zr[Di]++:zr[Di]=1});var qr=[],Mr={};w.edges.forEach(function(Ri){ir[Ri.source]&&ir[Ri.target]&&(qr.push(Ri),Mr[Ri[H]]?Mr[Ri[H]]++:Mr[Ri[H]]=1,ir[Ri.source].degree++,ir[Ri.target].degree++)});for(var Br=Object.keys(ht).length,ze=!1,Or=0;Or<Br;Or++){var Nr=Object.keys(ht)[Or];if(!Mr[Nr]||Mr[Nr]<ht[Nr].length){ze=!0;break}}if(ze)return Ft.splice(qe,1),"continue";var $r=qr.length;if($r<F.edges.length)return Ft.splice(qe,1),"break";for(var Kr=!1,Un=function(ca){var Di=qr[ca],Ca=Di[H],pa=ht[Ca];if(!pa||!pa.length)return Mr[Ca]--,pa&&Mr[Ca]<pa.length?(Kr=!0,"break"):(qr.splice(ca,1),ir[Di.source].degree--,ir[Di.target].degree--,"continue");var Wa=ir[Di.source].node[q],oo=ir[Di.target].node[q],po=!1;if(pa.forEach(function(Xa){var os=Mt[Xa.source].node,$o=Mt[Xa.target].node;os[q]===Wa&&$o[q]===oo&&(po=!0),!V&&os[q]===oo&&$o[q]===Wa&&(po=!0)}),!po)return Mr[Ca]--,pa&&Mr[Ca]<pa.length?(Kr=!0,"break"):(qr.splice(ca,1),ir[Di.source].degree--,ir[Di.target].degree--,"continue")},Or=$r-1;Or>=0;Or--){var ti=Un(Or);if(ti==="break")break}if(Kr)return Ft.splice(qe,1),"continue";Xe.edges=qr;var wn=(0,O.default)(Xe,Xe.nodes[0].id,!1).length;if(Object.keys(wn).reverse().forEach(function(Ri){if(!(Ri===Xe.nodes[0].id||Kr)){if(wn[Ri]===Infinity){var ca=ir[Ri].node[q];if(zr[ca]--,zr[ca]<Nt[ca].length){Kr=!0;return}var Di=Xe.nodes.indexOf(ir[Ri].node);Xe.nodes.splice(Di,1),ir[Ri]=void 0;return}var Ca=rt[Ri].node[q];if(!ee[Ca]||!ee[Ca].length||wn[Ri]>ee[Ca][ee[Ca].length-1]){var ca=ir[Ri].node[q];if(zr[ca]--,zr[ca]<Nt[ca].length){Kr=!0;return}var Di=Xe.nodes.indexOf(ir[Ri].node);Xe.nodes.splice(Di,1),ir[Ri]=void 0}}}),Kr)return Ft.splice(qe,1),"continue";for(var Bn=!0,kn=0;Bn&&!Kr;){if(Bn=!1,ir[ur.id].degree<Mt[Wt.id].degree){Kr=!0;break}if(zr[ur[q]]<Nt[ur[q]].length){Kr=!0;break}for(var ei=Xe.nodes.length,In=ei-1;In>=0;In--){var ai=Xe.nodes[In],ga=ir[ai.id].degree,Da=ai[q];if(ga<jt[Da]){if(zr[ai[q]]--,zr[ai[q]]<Nt[ai[q]].length){Kr=!0;break}Xe.nodes.splice(In,1),ir[ai.id]=void 0,Bn=!0}}if(Kr||!Bn&&kn!==0)break;$r=qr.length;for(var Sa=$r-1;Sa>=0;Sa--){var Gi=qr[Sa];if(!ir[Gi.source]||!ir[Gi.target]){qr.splice(Sa,1);var Ma=Gi[H];if(Mr[Ma]--,ir[Gi.source]&&ir[Gi.source].degree--,ir[Gi.target]&&ir[Gi.target].degree--,ht[Ma]&&Mr[Ma]<ht[Ma].length){Kr=!0;break}Bn=!0}}kn++}if(Kr||Kr||Xe.nodes.length<F.nodes.length||qr.length<F.edges.length)return Ft.splice(qe,1),"continue"},Ce=ce-1;Ce>=0;Ce--){var Ge=Se(Ce);if(Ge==="break")break}for(var hr=Ft.length,dr=function(qe){var Xe=Ft[qe],ur={};Xe.edges.forEach(function(qr){var Mr=qr.source+"-"+qr.target+"-"+qr.label;ur[Mr]?ur[Mr]++:ur[Mr]=1});for(var zr=function(Mr){var Br=Ft[Mr],ze={};Br.edges.forEach(function(Nr){var $r=Nr.source+"-"+Nr.target+"-"+Nr.label;ze[$r]?ze[$r]++:ze[$r]=1});var Or=!0;Object.keys(ze).length!==Object.keys(ur).length?Or=!1:Object.keys(ur).forEach(function(Nr){ze[Nr]!==ur[Nr]&&(Or=!1)}),Or&&Ft.splice(Mr,1)},ir=hr-1;ir>qe;ir--)zr(ir);hr=Ft.length},Ce=0;Ce<=hr-1;Ce++)dr(Ce);return Ft}}},B=z;A.default=B},VMMH:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"c",function(){return a}),i.d(A,"b",function(){return M});function c(O,x){return O.views.find(function(D){return D.id===x})}function a(O){var x=O.parent;return x?x.views:[]}function M(O){return a(O).filter(function(x){return x!==O})}},"VMp+":function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});function c(a,M){var O={};return a!==null&&typeof a=="object"&&M.forEach(function(x){var D=a[x];D!==void 0&&(O[x]=D)}),O}},VMwZ:function(Lt,A,i){var c=i("1ban"),a=i("Wx0M"),M={},O=Object.keys(c);function x(E){var S=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),E(p))};return"conversion"in E&&(S.conversion=E.conversion),S}function D(E){var S=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var b=E(p);if(typeof b=="object")for(var y=b.length,C=0;C<y;C++)b[C]=Math.round(b[C]);return b};return"conversion"in E&&(S.conversion=E.conversion),S}O.forEach(function(E){M[E]={},Object.defineProperty(M[E],"channels",{value:c[E].channels}),Object.defineProperty(M[E],"labels",{value:c[E].labels});var S=a(E),p=Object.keys(S);p.forEach(function(b){var y=S[b];M[E][b]=D(y),M[E][b].raw=x(y)})}),Lt.exports=M},VRwR:function(Lt,A){},VZin:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("8Mtd"),M=i("qi70"),O=i("x3DA"),x=i("8Loy"),D=i("iXVM"),E="update_status",S=["visible","tip","delegateObject"],p=["container","group","shapesMap","isRegister","isUpdating","destroyed"],b=function(y){Object(c.__extends)(C,y);function C(){return y!==null&&y.apply(this,arguments)||this}return C.prototype.getDefaultCfg=function(){var I=y.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},I),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},C.prototype.remove=function(){this.clear();var I=this.get("group");I.remove()},C.prototype.clear=function(){var I=this.get("group");I.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},C.prototype.getChildComponentById=function(I){var g=this.getElementById(I),R=g&&g.get("component");return R},C.prototype.getElementById=function(I){return this.get("shapesMap")[I]},C.prototype.getElementByLocalId=function(I){var g=this.getElementId(I);return this.getElementById(g)},C.prototype.getElementsByName=function(I){var g=[];return Object(a.each)(this.get("shapesMap"),function(R){R.get("name")===I&&g.push(R)}),g},C.prototype.getContainer=function(){return this.get("container")},C.prototype.updateInner=function(I){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},C.prototype.render=function(){var I=this.get("offScreenGroup");I||(I=this.offScreenRender());var g=this.get("group");this.updateElements(I,g),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},C.prototype.show=function(){var I=this.get("group");I.show(),this.set("visible",!0)},C.prototype.hide=function(){var I=this.get("group");I.hide(),this.set("visible",!1)},C.prototype.setCapture=function(I){var g=this.get("group");g.set("capture",I),this.set("capture",I)},C.prototype.destroy=function(){this.removeEvent(),this.remove(),y.prototype.destroy.call(this)},C.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},C.prototype.getLayoutBBox=function(){var I=this.get("group"),g=this.getInnerLayoutBBox(),R=I.getTotalMatrix();return R&&(g=Object(O.a)(R,g)),g},C.prototype.on=function(I,g,R){var U=this.get("group");return U.on(I,g,R),this},C.prototype.off=function(I,g){var R=this.get("group");return R&&R.off(I,g),this},C.prototype.emit=function(I,g){var R=this.get("group");R.emit(I,g)},C.prototype.init=function(){y.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},C.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},C.prototype.delegateEmit=function(I,g){var R=this.get("group");g.target=R,R.emit(I,g),Object(M.a)(R,I,g)},C.prototype.createOffScreenGroup=function(){var I=this.get("group"),g=I.getGroupBase(),R=new g({delegateObject:this.getDelegateObject()});return R},C.prototype.applyOffset=function(){var I=this.get("offsetX"),g=this.get("offsetY");this.moveElementTo(this.get("group"),{x:I,y:g})},C.prototype.initGroup=function(){var I=this.get("container");this.set("group",I.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},C.prototype.offScreenRender=function(){this.clearOffScreenCache();var I=this.createOffScreenGroup();return this.renderInner(I),this.set("offScreenGroup",I),this.set("offScreenBBox",Object(x.d)(I)),I},C.prototype.addGroup=function(I,g){this.appendDelegateObject(I,g);var R=I.addGroup(g);return this.get("isRegister")&&this.registerElement(R),R},C.prototype.addShape=function(I,g){this.appendDelegateObject(I,g);var R=I.addShape(g);return this.get("isRegister")&&this.registerElement(R),R},C.prototype.addComponent=function(I,g){var R=g.id,U=g.component,W=Object(c.__rest)(g,["id","component"]),z=new U(Object(c.__assign)(Object(c.__assign)({},W),{id:R,container:I,updateAutoRender:this.get("updateAutoRender")}));return z.init(),z.render(),this.get("isRegister")&&this.registerElement(z.get("group")),z},C.prototype.initEvent=function(){},C.prototype.removeEvent=function(){var I=this.get("group");I.off()},C.prototype.getElementId=function(I){var g=this.get("id"),R=this.get("name");return g+"-"+R+"-"+I},C.prototype.registerElement=function(I){var g=I.get("id");this.get("shapesMap")[g]=I},C.prototype.unregisterElement=function(I){var g=I.get("id");delete this.get("shapesMap")[g]},C.prototype.moveElementTo=function(I,g){var R=Object(O.f)(g);I.attr("matrix",R)},C.prototype.addAnimation=function(I,g,R){var U=g.attr("opacity");Object(a.isNil)(U)&&(U=1),g.attr("opacity",0),g.animate({opacity:U},R)},C.prototype.removeAnimation=function(I,g,R){g.animate({opacity:0},R)},C.prototype.updateAnimation=function(I,g,R,U){g.animate(R,U)},C.prototype.updateElements=function(I,g){var R=this,U=this.get("animate"),W=this.get("animateOption"),z=I.getChildren().slice(0),B;Object(a.each)(z,function(L){var w=L.get("id"),F=R.getElementById(w),V=L.get("name");if(F)if(L.get("isComponent")){var Y=L.get("component"),tt=F.get("component"),q=Object(a.pick)(Y.cfg,Object(a.difference)(Object(a.keys)(Y.cfg),p));tt.update(q),F.set(E,"update")}else{var H=R.getReplaceAttrs(F,L);U&&W.update?R.updateAnimation(V,F,H,W.update):F.attr(H),L.isGroup()&&R.updateElements(L,F),Object(a.each)(S,function(nt){F.set(nt,L.get(nt))}),Object(x.m)(F,L),B=F,F.set(E,"update")}else{g.add(L);var Q=g.getChildren();if(Q.splice(Q.length-1,1),B){var k=Q.indexOf(B);Q.splice(k+1,0,L)}else Q.unshift(L);if(R.registerElement(L),L.set(E,"add"),L.get("isComponent")){var Y=L.get("component");Y.set("container",g)}else L.isGroup()&&R.registerNewGroup(L);if(B=L,U){var K=R.get("isInit")?W.appear:W.enter;K&&R.addAnimation(V,L,K)}}})},C.prototype.clearUpdateStatus=function(I){var g=I.getChildren();Object(a.each)(g,function(R){R.set(E,null)})},C.prototype.clearOffScreenCache=function(){var I=this.get("offScreenGroup");I&&I.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},C.prototype.getDelegateObject=function(){var I,g=this.get("name"),R=(I={},I[g]=this,I.component=this,I);return R},C.prototype.appendDelegateObject=function(I,g){var R=I.get("delegateObject");g.delegateObject||(g.delegateObject={}),Object(a.mix)(g.delegateObject,R)},C.prototype.getReplaceAttrs=function(I,g){var R=I.attr(),U=g.attr();return Object(a.each)(R,function(W,z){U[z]===void 0&&(U[z]=void 0)}),U},C.prototype.registerNewGroup=function(I){var g=this,R=I.getChildren();Object(a.each)(R,function(U){g.registerElement(U),U.set(E,"add"),U.isGroup()&&g.registerNewGroup(U)})},C.prototype.deleteElements=function(){var I=this,g=this.get("shapesMap"),R=[];Object(a.each)(g,function(z,B){!z.get(E)||z.destroyed?R.push([B,z]):z.set(E,null)});var U=this.get("animate"),W=this.get("animateOption");Object(a.each)(R,function(z){var B=z[0],L=z[1];if(!L.destroyed){var w=L.get("name");if(U&&W.leave){var F=Object(a.mix)({callback:function(){I.removeElement(L)}},W.leave);I.removeAnimation(w,L,F)}else I.removeElement(L)}delete g[B]})},C.prototype.removeElement=function(I){if(I.get("isGroup")){var g=I.get("component");g&&g.destroy()}I.remove()},C}(D.a);A.a=b},Vbks:function(Lt,A,i){"use strict";i.d(A,"b",function(){return c}),A.a=function(a){return typeof a=="object"&&"length"in a?a:Array.from(a)};function c(a){for(var M=a.length,O,x;M;)x=Math.random()*M--|0,O=a[M],a[M]=a[x],a[x]=O;return a}},Vd04:function(Lt,A,i){"use strict";i.d(A,"a",function(){return k});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("RHEd"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("7Nom"),b=i.n(p),y=i("4OuL"),C=i.n(y),I=i("r1m7"),g=i.n(I),R=i("99LQ"),U=i("YcyD"),W=i.n(U),z=i("XN3X"),B,L,w,F,V,Y,tt,q,H,Q,k=(B=Object(U.injectable)(),L=Object(U.inject)(z.a.HierarchyComponentManager),w=Object(U.inject)(z.a.TransformComponentManager),F=Object(U.inject)(z.a.MeshComponentManager),B(V=(Y=(Q=function(){function K(){S()(this,K),D()(this,"hierarchy",tt,this),D()(this,"transform",q,this),D()(this,"mesh",H,this)}return b()(K,[{key:"execute",value:function(){var nt=O()(a.a.mark(function ut(){return a.a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return ot.stop()}},ut,this)}));function lt(){return nt.apply(this,arguments)}return lt}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var lt=this;this.transform.forEach(function(ut,rt){(rt.isDirty()||rt.isLocalDirty())&&(lt.setMeshAABBDirty(lt.mesh.getComponentByEntity(ut)),rt.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var lt=this;this.hierarchy.forEach(function(ut,rt){var ot=lt.transform.getComponentByEntity(ut),dt=lt.transform.getComponentByEntity(rt.parentID);ot!==null&&dt!==null&&ot.updateTransformWithParent(dt)})}},{key:"attach",value:function(lt,ut,rt){this.hierarchy.contains(lt)&&this.detach(lt),this.hierarchy.create(lt,{parentID:ut});var ot=this.mesh.getComponentByEntity(ut);if(this.setMeshAABBDirty(ot),ot&&ot.children.indexOf(lt)===-1&&ot.children.push(lt),this.hierarchy.getCount()>1)for(var dt=this.hierarchy.getCount()-1;dt>0;--dt)for(var Mt=this.hierarchy.getEntity(dt),Nt=0;Nt<dt;++Nt){var ht=this.hierarchy.getComponent(Nt);if(ht.parentID===Mt){this.hierarchy.moveItem(dt,Nt),++dt;break}}var yt=this.hierarchy.getComponentByEntity(lt),ft=this.transform.getComponentByEntity(ut);ft===null&&(ft=this.transform.create(ut));var st=this.transform.getComponentByEntity(lt);st===null&&(st=this.transform.create(lt),ft=this.transform.getComponentByEntity(ut)),st.parent=ft,!rt&&ft&&(st.matrixTransform(R.b.invert(R.b.create(),ft.worldTransform)),st.updateTransform()),ft&&st.updateTransformWithParent(ft)}},{key:"detach",value:function(lt){var ut=this.hierarchy.getComponentByEntity(lt);if(ut!==null){var rt=this.transform.getComponentByEntity(lt);rt!==null&&(rt.parent=null,rt.applyTransform()),this.hierarchy.removeKeepSorted(lt);var ot=this.mesh.getComponentByEntity(ut.parentID);if(ot){var dt=ot.children.indexOf(lt);ot.children.splice(dt,1)}this.setMeshAABBDirty(ot)}}},{key:"detachChildren",value:function(lt){var ut=this.mesh.getComponentByEntity(lt);ut&&(ut.children=[]);for(var rt=0;rt<this.hierarchy.getCount();){var ot;if(((ot=this.hierarchy.getComponent(rt))===null||ot===void 0?void 0:ot.parentID)===lt){var dt=this.hierarchy.getEntity(rt);this.detach(dt)}else++rt}}},{key:"setMeshAABBDirty",value:function(lt){lt&&(lt.aabbDirty=!0)}}]),K}(),Q),tt=C()(Y.prototype,"hierarchy",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=C()(Y.prototype,"transform",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=C()(Y.prototype,"mesh",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y))||V)},Vlje:function(Lt,A,i){var c=i("dhvM"),a=i("TpDJ"),M=i("TdPr"),O=i("rGlR"),x=Object.prototype,D=x.hasOwnProperty,E=c(function(S,p){S=Object(S);var b=-1,y=p.length,C=y>2?p[2]:void 0;for(C&&M(p[0],p[1],C)&&(y=1);++b<y;)for(var I=p[b],g=O(I),R=-1,U=g.length;++R<U;){var W=g[R],z=S[W];(z===void 0||a(z,x[W])&&!D.call(S,W))&&(S[W]=I[W])}return S});Lt.exports=E},VmDj:function(Lt,A,i){var c=i("2PUN"),a=i("dhvM"),M=i("fUu9"),O=i("wvSg"),x=a(function(D){return M(c(D,1,O,!0))});Lt.exports=x},VrSm:function(Lt,A,i){"use strict";Lt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},W7Gi:function(Lt,A,i){"use strict";var c=i("tuqv"),a=i("EbMC");A.a=function(){var M=1,O=1,x=0,D=!1;function E(p){var b=p.height+1;return p.x0=p.y0=x,p.x1=M,p.y1=O/b,p.eachBefore(S(O,b)),D&&p.eachBefore(c.a),p}function S(p,b){return function(y){y.children&&Object(a.a)(y,y.x0,p*(y.depth+1)/b,y.x1,p*(y.depth+2)/b);var C=y.x0,I=y.y0,g=y.x1-x,R=y.y1-x;g<C&&(C=g=(C+g)/2),R<I&&(I=R=(I+R)/2),y.x0=C,y.y0=I,y.x1=g,y.y1=R}}return E.round=function(p){return arguments.length?(D=!!p,E):D},E.size=function(p){return arguments.length?(M=+p[0],O=+p[1],E):[M,O]},E.padding=function(p){return arguments.length?(x=+p,E):x},E}},WKd7:function(Lt,A,i){"use strict";A.a=function(c,a,M,O,x){for(var D=c.children,E,S=-1,p=D.length,b=c.value&&(x-M)/c.value;++S<p;)E=D[S],E.x0=a,E.x1=O,E.y0=M,E.y1=M+=E.value*b}},WLqU:function(Lt,A){Lt.exports=i;function i(c,a,M){var O=a[0]*M[1]-a[1]*M[0];return c[0]=c[1]=0,c[2]=O,c}},WOt1:function(Lt,A,i){"use strict";i.d(A,"a",function(){return D}),i.d(A,"c",function(){return w}),i.d(A,"d",function(){return Y}),i.d(A,"e",function(){return bt}),i.d(A,"b",function(){return Xt});var c=i("8Mtd"),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,M=/[^\s\,]+/ig;function O(It){var Ut=It||[];if(Object(c.isArray)(Ut))return Ut;if(Object(c.isString)(Ut))return Ut=Ut.match(a),Object(c.each)(Ut,function($t,Ft){if($t=$t.match(M),$t[0].length>1){var Kt=$t[0].charAt(0);$t.splice(1,0,$t[0].substr(1)),$t[0]=Kt}Object(c.each)($t,function(ee,ce){isNaN(ee)||($t[ce]=+ee)}),Ut[Ft]=$t}),Ut}var x=O;function D(It,Ut){for(var $t=[],Ft=0,Kt=It.length;Kt-2*!Ut>Ft;Ft+=2){var ee=[{x:+It[Ft-2],y:+It[Ft-1]},{x:+It[Ft],y:+It[Ft+1]},{x:+It[Ft+2],y:+It[Ft+3]},{x:+It[Ft+4],y:+It[Ft+5]}];Ut?Ft?Kt-4===Ft?ee[3]={x:+It[0],y:+It[1]}:Kt-2===Ft&&(ee[2]={x:+It[0],y:+It[1]},ee[3]={x:+It[2],y:+It[3]}):ee[0]={x:+It[Kt-2],y:+It[Kt-1]}:Kt-4===Ft?ee[3]=ee[2]:Ft||(ee[0]={x:+It[Ft],y:+It[Ft+1]}),$t.push(["C",(-ee[0].x+6*ee[1].x+ee[2].x)/6,(-ee[0].y+6*ee[1].y+ee[2].y)/6,(ee[1].x+6*ee[2].x-ee[3].x)/6,(ee[1].y+6*ee[2].y-ee[3].y)/6,ee[2].x,ee[2].y])}return $t}function E(It,Ut){var $t=[],Ft=[];function Kt(ee,ce){if(ee.length===1)$t.push(ee[0]),Ft.push(ee[0]);else{for(var Se=[],Ce=0;Ce<ee.length-1;Ce++)Ce===0&&$t.push(ee[0]),Ce===ee.length-2&&Ft.push(ee[Ce+1]),Se[Ce]=[(1-ce)*ee[Ce][0]+ce*ee[Ce+1][0],(1-ce)*ee[Ce][1]+ce*ee[Ce+1][1]];Kt(Se,ce)}}return It.length&&Kt(It,Ut),{left:$t,right:Ft.reverse()}}function S(It,Ut,$t){var Ft=[[It[1],It[2]]];$t=$t||2;var Kt=[];Ut[0]==="A"?(Ft.push(Ut[6]),Ft.push(Ut[7])):Ut[0]==="C"?(Ft.push([Ut[1],Ut[2]]),Ft.push([Ut[3],Ut[4]]),Ft.push([Ut[5],Ut[6]])):Ut[0]==="S"||Ut[0]==="Q"?(Ft.push([Ut[1],Ut[2]]),Ft.push([Ut[3],Ut[4]])):Ft.push([Ut[1],Ut[2]]);for(var ee=Ft,ce=1/$t,Se=0;Se<$t-1;Se++){var Ce=ce/(1-ce*Se),Ge=E(ee,Ce);Kt.push(Ge.left),ee=Ge.right}Kt.push(ee);var hr=Kt.map(function(dr){var ar=[];return dr.length===4&&(ar.push("C"),ar=ar.concat(dr[2])),dr.length>=3&&(dr.length===3&&ar.push("Q"),ar=ar.concat(dr[1])),dr.length===2&&ar.push("L"),ar=ar.concat(dr[dr.length-1]),ar});return hr}function p(It,Ut,$t){if($t===1)return[[].concat(It)];var Ft=[];if(Ut[0]==="L"||Ut[0]==="C"||Ut[0]==="Q")Ft=Ft.concat(S(It,Ut,$t));else{var Kt=[].concat(It);Kt[0]==="M"&&(Kt[0]="L");for(var ee=0;ee<=$t-1;ee++)Ft.push(Kt)}return Ft}function b(It,Ut){if(It.length===1)return It;var $t=It.length-1,Ft=Ut.length-1,Kt=$t/Ft,ee=[];if(It.length===1&&It[0][0]==="M"){for(var ce=0;ce<Ft-$t;ce++)It.push(It[0]);return It}for(var ce=0;ce<Ft;ce++){var Se=Math.floor(Kt*ce);ee[Se]=(ee[Se]||0)+1}var Ce=ee.reduce(function(Ge,hr,dr){return dr===$t?Ge.concat(It[$t]):Ge.concat(p(It[dr],It[dr+1],hr))},[]);return Ce.unshift(It[0]),(Ut[Ft]==="Z"||Ut[Ft]==="z")&&Ce.push("Z"),Ce}function y(It,Ut,$t){var Ft=null,Kt=$t;return Ut<Kt&&(Kt=Ut,Ft="add"),It<Kt&&(Kt=It,Ft="del"),{type:Ft,min:Kt}}var C=function(It,Ut){var $t=It.length,Ft=Ut.length,Kt,ee,ce=0;if($t===0||Ft===0)return null;for(var Se=[],Ce=0;Ce<=$t;Ce++)Se[Ce]=[],Se[Ce][0]={min:Ce};for(var Ge=0;Ge<=Ft;Ge++)Se[0][Ge]={min:Ge};for(var Ce=1;Ce<=$t;Ce++){Kt=It[Ce-1];for(var Ge=1;Ge<=Ft;Ge++){ee=Ut[Ge-1],Object(c.isEqual)(Kt,ee)?ce=0:ce=1;var hr=Se[Ce-1][Ge].min+1,dr=Se[Ce][Ge-1].min+1,ar=Se[Ce-1][Ge-1].min+ce;Se[Ce][Ge]=y(hr,dr,ar)}}return Se};function I(It,Ut){var $t=C(It,Ut),Ft=It.length,Kt=Ut.length,ee=[],ce=1,Se=1;if($t[Ft][Kt]!==Ft){for(var Ce=1;Ce<=Ft;Ce++){var Ge=$t[Ce][Ce].min;Se=Ce;for(var hr=ce;hr<=Kt;hr++)$t[Ce][hr].min<Ge&&(Ge=$t[Ce][hr].min,Se=hr);ce=Se,$t[Ce][ce].type&&ee.push({index:Ce-1,type:$t[Ce][ce].type})}for(var Ce=ee.length-1;Ce>=0;Ce--)ce=ee[Ce].index,ee[Ce].type==="add"?It.splice(ce,0,[].concat(It[ce])):It.splice(ce,1)}if(Ft=It.length,Ft<Kt)for(var Ce=0;Ce<Kt-Ft;Ce++)It[Ft-1][0]==="z"||It[Ft-1][0]==="Z"?It.splice(Ft-2,0,It[Ft-2]):It.push(It[Ft-1]);return It}function g(It){var Ut=[];switch(It[0]){case"M":Ut.push([It[1],It[2]]);break;case"L":Ut.push([It[1],It[2]]);break;case"A":Ut.push([It[6],It[7]]);break;case"Q":Ut.push([It[3],It[4]]),Ut.push([It[1],It[2]]);break;case"T":Ut.push([It[1],It[2]]);break;case"C":Ut.push([It[5],It[6]]),Ut.push([It[1],It[2]]),Ut.push([It[3],It[4]]);break;case"S":Ut.push([It[3],It[4]]),Ut.push([It[1],It[2]]);break;case"H":Ut.push([It[1],It[1]]);break;case"V":Ut.push([It[1],It[1]]);break;default:}return Ut}function R(It,Ut,$t){for(var Ft=[].concat(It),Kt,ee=1/($t+1),ce=g(Ut)[0],Se=1;Se<=$t;Se++)ee*=Se,Kt=Math.floor(It.length*ee),Kt===0?Ft.unshift([ce[0]*ee+It[Kt][0]*(1-ee),ce[1]*ee+It[Kt][1]*(1-ee)]):Ft.splice(Kt,0,[ce[0]*ee+It[Kt][0]*(1-ee),ce[1]*ee+It[Kt][1]*(1-ee)]);return Ft}function U(It,Ut){if(It.length<=1)return It;for(var $t,Ft=0;Ft<Ut.length;Ft++)if(It[Ft][0]!==Ut[Ft][0])switch($t=g(It[Ft]),Ut[Ft][0]){case"M":It[Ft]=["M"].concat($t[0]);break;case"L":It[Ft]=["L"].concat($t[0]);break;case"A":It[Ft]=[].concat(Ut[Ft]),It[Ft][6]=$t[0][0],It[Ft][7]=$t[0][1];break;case"Q":if($t.length<2)if(Ft>0)$t=R($t,It[Ft-1],1);else{It[Ft]=Ut[Ft];break}It[Ft]=["Q"].concat($t.reduce(function(Kt,ee){return Kt.concat(ee)},[]));break;case"T":It[Ft]=["T"].concat($t[0]);break;case"C":if($t.length<3)if(Ft>0)$t=R($t,It[Ft-1],2);else{It[Ft]=Ut[Ft];break}It[Ft]=["C"].concat($t.reduce(function(Kt,ee){return Kt.concat(ee)},[]));break;case"S":if($t.length<2)if(Ft>0)$t=R($t,It[Ft-1],1);else{It[Ft]=Ut[Ft];break}It[Ft]=["S"].concat($t.reduce(function(Kt,ee){return Kt.concat(ee)},[]));break;default:It[Ft]=Ut[Ft]}return It}function W(It,Ut,$t,Ft,Kt){return Kt?[["M",+It+ +Kt,Ut],["l",$t-Kt*2,0],["a",Kt,Kt,0,0,1,Kt,Kt],["l",0,Ft-Kt*2],["a",Kt,Kt,0,0,1,-Kt,Kt],["l",Kt*2-$t,0],["a",Kt,Kt,0,0,1,-Kt,-Kt],["l",0,Kt*2-Ft],["a",Kt,Kt,0,0,1,Kt,-Kt],["z"]]:[["M",It,Ut],["l",$t,0],["l",0,Ft],["l",-$t,0],["z"]]}var z=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,B=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig");function w(It){if(!It)return null;if(Object(c.isArray)(It))return It;var Ut={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},$t=[];return String(It).replace(B,function(Ft,Kt,ee){var ce=[],Se=Kt.toLowerCase();if(ee.replace(L,function(Ce,Ge){Ge&&ce.push(+Ge)}),Se==="m"&&ce.length>2&&($t.push([Kt].concat(ce.splice(0,2))),Se="l",Kt=Kt==="m"?"l":"L"),Se==="o"&&ce.length===1&&$t.push([Kt,ce[0]]),Se==="r")$t.push([Kt].concat(ce));else for(;ce.length>=Ut[Se]&&($t.push([Kt].concat(ce.splice(0,Ut[Se]))),!!Ut[Se]););return""}),$t}var F=/[a-z]/;function V(It,Ut){return[Ut[0]+(Ut[0]-It[0]),Ut[1]+(Ut[1]-It[1])]}function Y(It){var Ut=w(It);if(!Ut||!Ut.length)return[["M",0,0]];for(var $t=!1,Ft=0;Ft<Ut.length;Ft++){var Kt=Ut[Ft][0];if(F.test(Kt)||["V","H","T","S"].indexOf(Kt)>=0){$t=!0;break}}if(!$t)return Ut;var ee=[],ce=0,Se=0,Ce=0,Ge=0,hr=0,dr,ar,qe=Ut[0];(qe[0]==="M"||qe[0]==="m")&&(ce=+qe[1],Se=+qe[2],Ce=ce,Ge=Se,hr++,ee[0]=["M",ce,Se]);for(var Ft=hr,Xe=Ut.length;Ft<Xe;Ft++){var ur=Ut[Ft],zr=ee[Ft-1],ir=[],Kt=ur[0],qr=Kt.toUpperCase();if(Kt!==qr)switch(ir[0]=qr,qr){case"A":ir[1]=ur[1],ir[2]=ur[2],ir[3]=ur[3],ir[4]=ur[4],ir[5]=ur[5],ir[6]=+ur[6]+ce,ir[7]=+ur[7]+Se;break;case"V":ir[1]=+ur[1]+Se;break;case"H":ir[1]=+ur[1]+ce;break;case"M":Ce=+ur[1]+ce,Ge=+ur[2]+Se;break;default:for(var Mr=1,Br=ur.length;Mr<Br;Mr++)ir[Mr]=+ur[Mr]+(Mr%2?ce:Se)}else ir=Ut[Ft];switch(qr){case"Z":ce=+Ce,Se=+Ge;break;case"H":ce=ir[1],ir=["L",ce,Se];break;case"V":Se=ir[1],ir=["L",ce,Se];break;case"T":ce=ir[1],Se=ir[2];var ze=V([zr[1],zr[2]],[zr[3],zr[4]]);ir=["Q",ze[0],ze[1],ce,Se];break;case"S":ce=ir[ir.length-2],Se=ir[ir.length-1];var Or=zr.length,Nr=V([zr[Or-4],zr[Or-3]],[zr[Or-2],zr[Or-1]]);ir=["C",Nr[0],Nr[1],ir[1],ir[2],ce,Se];break;case"M":Ce=ir[ir.length-2],Ge=ir[ir.length-1];break;default:ce=ir[ir.length-2],Se=ir[ir.length-1]}ee.push(ir)}return ee}var tt=function(It,Ut,$t,Ft,Kt,ee,ce,Se,Ce,Ge){$t===Ft&&($t+=1);var hr=Math.PI*120/180,dr=Math.PI/180*(+Kt||0),ar=[],qe,Xe,ur,zr,ir,qr=function(pa,Wa,oo){var po=pa*Math.cos(oo)-Wa*Math.sin(oo),Xa=pa*Math.sin(oo)+Wa*Math.cos(oo);return{x:po,y:Xa}};if(Ge)Xe=Ge[0],ur=Ge[1],zr=Ge[2],ir=Ge[3];else{qe=qr(It,Ut,-dr),It=qe.x,Ut=qe.y,qe=qr(Se,Ce,-dr),Se=qe.x,Ce=qe.y,It===Se&&Ut===Ce&&(Se+=1,Ce+=1);var Mr=(It-Se)/2,Br=(Ut-Ce)/2,ze=Mr*Mr/($t*$t)+Br*Br/(Ft*Ft);ze>1&&(ze=Math.sqrt(ze),$t=ze*$t,Ft=ze*Ft);var Or=$t*$t,Nr=Ft*Ft,$r=(ee===ce?-1:1)*Math.sqrt(Math.abs((Or*Nr-Or*Br*Br-Nr*Mr*Mr)/(Or*Br*Br+Nr*Mr*Mr)));zr=$r*$t*Br/Ft+(It+Se)/2,ir=$r*-Ft*Mr/$t+(Ut+Ce)/2,Xe=Math.asin(Number(((Ut-ir)/Ft).toFixed(9))),ur=Math.asin(Number(((Ce-ir)/Ft).toFixed(9))),Xe=It<zr?Math.PI-Xe:Xe,ur=Se<zr?Math.PI-ur:ur,Xe<0&&(Xe=Math.PI*2+Xe),ur<0&&(ur=Math.PI*2+ur),ce&&Xe>ur&&(Xe=Xe-Math.PI*2),!ce&&ur>Xe&&(ur=ur-Math.PI*2)}var Kr=ur-Xe;if(Math.abs(Kr)>hr){var Un=ur,ti=Se,wn=Ce;ur=Xe+hr*(ce&&ur>Xe?1:-1),Se=zr+$t*Math.cos(ur),Ce=ir+Ft*Math.sin(ur),ar=tt(Se,Ce,$t,Ft,Kt,0,ce,ti,wn,[ur,Un,zr,ir])}Kr=ur-Xe;var Bn=Math.cos(Xe),kn=Math.sin(Xe),ei=Math.cos(ur),In=Math.sin(ur),ai=Math.tan(Kr/4),ga=4/3*$t*ai,Da=4/3*Ft*ai,Sa=[It,Ut],Gi=[It+ga*kn,Ut-Da*Bn],Ma=[Se+ga*In,Ce-Da*ei],Ri=[Se,Ce];if(Gi[0]=2*Sa[0]-Gi[0],Gi[1]=2*Sa[1]-Gi[1],Ge)return[Gi,Ma,Ri].concat(ar);ar=[Gi,Ma,Ri].concat(ar).join().split(",");for(var ca=[],Di=0,Ca=ar.length;Di<Ca;Di++)ca[Di]=Di%2?qr(ar[Di-1],ar[Di],dr).y:qr(ar[Di],ar[Di+1],dr).x;return ca},q=function(It,Ut,$t,Ft){return[It,Ut,$t,Ft,$t,Ft]},H=function(It,Ut,$t,Ft,Kt,ee){var ce=1/3,Se=2/3;return[ce*It+Se*$t,ce*Ut+Se*Ft,ce*Kt+Se*$t,ce*ee+Se*Ft,Kt,ee]};function Q(It,Ut){var $t=Y(It),Ft=Ut&&Y(Ut),Kt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ce=[],Se=[],Ce="",Ge="",hr,dr=function(Mr,Br,ze){var Or,Nr;if(!Mr)return["C",Br.x,Br.y,Br.x,Br.y,Br.x,Br.y];switch(!(Mr[0]in{T:1,Q:1})&&(Br.qx=Br.qy=null),Mr[0]){case"M":Br.X=Mr[1],Br.Y=Mr[2];break;case"A":Mr=["C"].concat(tt.apply(0,[Br.x,Br.y].concat(Mr.slice(1))));break;case"S":ze==="C"||ze==="S"?(Or=Br.x*2-Br.bx,Nr=Br.y*2-Br.by):(Or=Br.x,Nr=Br.y),Mr=["C",Or,Nr].concat(Mr.slice(1));break;case"T":ze==="Q"||ze==="T"?(Br.qx=Br.x*2-Br.qx,Br.qy=Br.y*2-Br.qy):(Br.qx=Br.x,Br.qy=Br.y),Mr=["C"].concat(H(Br.x,Br.y,Br.qx,Br.qy,Mr[1],Mr[2]));break;case"Q":Br.qx=Mr[1],Br.qy=Mr[2],Mr=["C"].concat(H(Br.x,Br.y,Mr[1],Mr[2],Mr[3],Mr[4]));break;case"L":Mr=["C"].concat(q(Br.x,Br.y,Mr[1],Mr[2]));break;case"H":Mr=["C"].concat(q(Br.x,Br.y,Mr[1],Br.y));break;case"V":Mr=["C"].concat(q(Br.x,Br.y,Br.x,Mr[1]));break;case"Z":Mr=["C"].concat(q(Br.x,Br.y,Br.X,Br.Y));break;default:break}return Mr},ar=function(Mr,Br){if(Mr[Br].length>7){Mr[Br].shift();for(var ze=Mr[Br];ze.length;)ce[Br]="A",Ft&&(Se[Br]="A"),Mr.splice(Br++,0,["C"].concat(ze.splice(0,6)));Mr.splice(Br,1),hr=Math.max($t.length,Ft&&Ft.length||0)}},qe=function(Mr,Br,ze,Or,Nr){Mr&&Br&&Mr[Nr][0]==="M"&&Br[Nr][0]!=="M"&&(Br.splice(Nr,0,["M",Or.x,Or.y]),ze.bx=0,ze.by=0,ze.x=Mr[Nr][1],ze.y=Mr[Nr][2],hr=Math.max($t.length,Ft&&Ft.length||0))};hr=Math.max($t.length,Ft&&Ft.length||0);for(var Xe=0;Xe<hr;Xe++){$t[Xe]&&(Ce=$t[Xe][0]),Ce!=="C"&&(ce[Xe]=Ce,Xe&&(Ge=ce[Xe-1])),$t[Xe]=dr($t[Xe],Kt,Ge),ce[Xe]!=="A"&&Ce==="C"&&(ce[Xe]="C"),ar($t,Xe),Ft&&(Ft[Xe]&&(Ce=Ft[Xe][0]),Ce!=="C"&&(Se[Xe]=Ce,Xe&&(Ge=Se[Xe-1])),Ft[Xe]=dr(Ft[Xe],ee,Ge),Se[Xe]!=="A"&&Ce==="C"&&(Se[Xe]="C"),ar(Ft,Xe)),qe($t,Ft,Kt,ee,Xe),qe(Ft,$t,ee,Kt,Xe);var ur=$t[Xe],zr=Ft&&Ft[Xe],ir=ur.length,qr=Ft&&zr.length;Kt.x=ur[ir-2],Kt.y=ur[ir-1],Kt.bx=parseFloat(ur[ir-4])||Kt.x,Kt.by=parseFloat(ur[ir-3])||Kt.y,ee.bx=Ft&&(parseFloat(zr[qr-4])||ee.x),ee.by=Ft&&(parseFloat(zr[qr-3])||ee.y),ee.x=Ft&&zr[qr-2],ee.y=Ft&&zr[qr-1]}return Ft?[$t,Ft]:$t}var k=function(It,Ut,$t,Ft,Kt){var ee=-3*Ut+9*$t-9*Ft+3*Kt,ce=It*ee+6*Ut-12*$t+6*Ft;return It*ce-3*Ut+3*$t},K=function(It,Ut,$t,Ft,Kt,ee,ce,Se,Ce){Ce===null&&(Ce=1),Ce=Ce>1?1:Ce<0?0:Ce;for(var Ge=Ce/2,hr=12,dr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ar=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],qe=0,Xe=0;Xe<hr;Xe++){var ur=Ge*dr[Xe]+Ge,zr=k(ur,It,$t,Kt,ce),ir=k(ur,Ut,Ft,ee,Se),qr=zr*zr+ir*ir;qe+=ar[Xe]*Math.sqrt(qr)}return Ge*qe},nt=function(It,Ut,$t,Ft,Kt,ee,ce,Se){for(var Ce=[],Ge=[[],[]],hr,dr,ar,qe,Xe=0;Xe<2;++Xe){if(Xe===0?(dr=6*It-12*$t+6*Kt,hr=-3*It+9*$t-9*Kt+3*ce,ar=3*$t-3*It):(dr=6*Ut-12*Ft+6*ee,hr=-3*Ut+9*Ft-9*ee+3*Se,ar=3*Ft-3*Ut),Math.abs(hr)<1e-12){if(Math.abs(dr)<1e-12)continue;qe=-ar/dr,qe>0&&qe<1&&Ce.push(qe);continue}var ur=dr*dr-4*ar*hr,zr=Math.sqrt(ur);if(!(ur<0)){var ir=(-dr+zr)/(2*hr);ir>0&&ir<1&&Ce.push(ir);var qr=(-dr-zr)/(2*hr);qr>0&&qr<1&&Ce.push(qr)}}for(var Mr=Ce.length,Br=Mr,ze;Mr--;)qe=Ce[Mr],ze=1-qe,Ge[0][Mr]=ze*ze*ze*It+3*ze*ze*qe*$t+3*ze*qe*qe*Kt+qe*qe*qe*ce,Ge[1][Mr]=ze*ze*ze*Ut+3*ze*ze*qe*Ft+3*ze*qe*qe*ee+qe*qe*qe*Se;return Ge[0][Br]=It,Ge[1][Br]=Ut,Ge[0][Br+1]=ce,Ge[1][Br+1]=Se,Ge[0].length=Ge[1].length=Br+2,{min:{x:Math.min.apply(0,Ge[0]),y:Math.min.apply(0,Ge[1])},max:{x:Math.max.apply(0,Ge[0]),y:Math.max.apply(0,Ge[1])}}},lt=function(It,Ut,$t,Ft,Kt,ee,ce,Se){if(!(Math.max(It,$t)<Math.min(Kt,ce)||Math.min(It,$t)>Math.max(Kt,ce)||Math.max(Ut,Ft)<Math.min(ee,Se)||Math.min(Ut,Ft)>Math.max(ee,Se))){var Ce=(It*Ft-Ut*$t)*(Kt-ce)-(It-$t)*(Kt*Se-ee*ce),Ge=(It*Ft-Ut*$t)*(ee-Se)-(Ut-Ft)*(Kt*Se-ee*ce),hr=(It-$t)*(ee-Se)-(Ut-Ft)*(Kt-ce);if(!!hr){var dr=Ce/hr,ar=Ge/hr,qe=+dr.toFixed(2),Xe=+ar.toFixed(2);if(!(qe<+Math.min(It,$t).toFixed(2)||qe>+Math.max(It,$t).toFixed(2)||qe<+Math.min(Kt,ce).toFixed(2)||qe>+Math.max(Kt,ce).toFixed(2)||Xe<+Math.min(Ut,Ft).toFixed(2)||Xe>+Math.max(Ut,Ft).toFixed(2)||Xe<+Math.min(ee,Se).toFixed(2)||Xe>+Math.max(ee,Se).toFixed(2)))return{x:dr,y:ar}}}},ut=function(It,Ut,$t){return Ut>=It.x&&Ut<=It.x+It.width&&$t>=It.y&&$t<=It.y+It.height},rt=function(It,Ut,$t,Ft){return It===null&&(It=Ut=$t=Ft=0),Ut===null&&(Ut=It.y,$t=It.width,Ft=It.height,It=It.x),{x:It,y:Ut,width:$t,w:$t,height:Ft,h:Ft,x2:It+$t,y2:Ut+Ft,cx:It+$t/2,cy:Ut+Ft/2,r1:Math.min($t,Ft)/2,r2:Math.max($t,Ft)/2,r0:Math.sqrt($t*$t+Ft*Ft)/2,path:W(It,Ut,$t,Ft),vb:[It,Ut,$t,Ft].join(" ")}},ot=function(It,Ut){return It=rt(It),Ut=rt(Ut),ut(Ut,It.x,It.y)||ut(Ut,It.x2,It.y)||ut(Ut,It.x,It.y2)||ut(Ut,It.x2,It.y2)||ut(It,Ut.x,Ut.y)||ut(It,Ut.x2,Ut.y)||ut(It,Ut.x,Ut.y2)||ut(It,Ut.x2,Ut.y2)||(It.x<Ut.x2&&It.x>Ut.x||Ut.x<It.x2&&Ut.x>It.x)&&(It.y<Ut.y2&&It.y>Ut.y||Ut.y<It.y2&&Ut.y>It.y)},dt=function(It,Ut,$t,Ft,Kt,ee,ce,Se){Object(c.isArray)(It)||(It=[It,Ut,$t,Ft,Kt,ee,ce,Se]);var Ce=nt.apply(null,It);return rt(Ce.min.x,Ce.min.y,Ce.max.x-Ce.min.x,Ce.max.y-Ce.min.y)},Mt=function(It,Ut,$t,Ft,Kt,ee,ce,Se,Ce){var Ge=1-Ce,hr=Math.pow(Ge,3),dr=Math.pow(Ge,2),ar=Ce*Ce,qe=ar*Ce,Xe=hr*It+dr*3*Ce*$t+Ge*3*Ce*Ce*Kt+qe*ce,ur=hr*Ut+dr*3*Ce*Ft+Ge*3*Ce*Ce*ee+qe*Se,zr=It+2*Ce*($t-It)+ar*(Kt-2*$t+It),ir=Ut+2*Ce*(Ft-Ut)+ar*(ee-2*Ft+Ut),qr=$t+2*Ce*(Kt-$t)+ar*(ce-2*Kt+$t),Mr=Ft+2*Ce*(ee-Ft)+ar*(Se-2*ee+Ft),Br=Ge*It+Ce*$t,ze=Ge*Ut+Ce*Ft,Or=Ge*Kt+Ce*ce,Nr=Ge*ee+Ce*Se,$r=90-Math.atan2(zr-qr,ir-Mr)*180/Math.PI;return{x:Xe,y:ur,m:{x:zr,y:ir},n:{x:qr,y:Mr},start:{x:Br,y:ze},end:{x:Or,y:Nr},alpha:$r}},Nt=function(It,Ut,$t){var Ft=dt(It),Kt=dt(Ut);if(!ot(Ft,Kt))return $t?0:[];for(var ee=K.apply(0,It),ce=K.apply(0,Ut),Se=~~(ee/8),Ce=~~(ce/8),Ge=[],hr=[],dr={},ar=$t?0:[],qe=0;qe<Se+1;qe++){var Xe=Mt.apply(0,It.concat(qe/Se));Ge.push({x:Xe.x,y:Xe.y,t:qe/Se})}for(var qe=0;qe<Ce+1;qe++){var Xe=Mt.apply(0,Ut.concat(qe/Ce));hr.push({x:Xe.x,y:Xe.y,t:qe/Ce})}for(var qe=0;qe<Se;qe++)for(var ur=0;ur<Ce;ur++){var zr=Ge[qe],ir=Ge[qe+1],qr=hr[ur],Mr=hr[ur+1],Br=Math.abs(ir.x-zr.x)<.001?"y":"x",ze=Math.abs(Mr.x-qr.x)<.001?"y":"x",Or=lt(zr.x,zr.y,ir.x,ir.y,qr.x,qr.y,Mr.x,Mr.y);if(Or){if(dr[Or.x.toFixed(4)]===Or.y.toFixed(4))continue;dr[Or.x.toFixed(4)]=Or.y.toFixed(4);var Nr=zr.t+Math.abs((Or[Br]-zr[Br])/(ir[Br]-zr[Br]))*(ir.t-zr.t),$r=qr.t+Math.abs((Or[ze]-qr[ze])/(Mr[ze]-qr[ze]))*(Mr.t-qr.t);Nr>=0&&Nr<=1&&$r>=0&&$r<=1&&($t?ar++:ar.push({x:Or.x,y:Or.y,t1:Nr,t2:$r}))}}return ar},ht=function(It,Ut,$t){It=Q(It),Ut=Q(Ut);for(var Ft,Kt,ee,ce,Se,Ce,Ge,hr,dr,ar,qe=$t?0:[],Xe=0,ur=It.length;Xe<ur;Xe++){var zr=It[Xe];if(zr[0]==="M")Ft=Se=zr[1],Kt=Ce=zr[2];else{zr[0]==="C"?(dr=[Ft,Kt].concat(zr.slice(1)),Ft=dr[6],Kt=dr[7]):(dr=[Ft,Kt,Ft,Kt,Se,Ce,Se,Ce],Ft=Se,Kt=Ce);for(var ir=0,qr=Ut.length;ir<qr;ir++){var Mr=Ut[ir];if(Mr[0]==="M")ee=Ge=Mr[1],ce=hr=Mr[2];else{Mr[0]==="C"?(ar=[ee,ce].concat(Mr.slice(1)),ee=ar[6],ce=ar[7]):(ar=[ee,ce,ee,ce,Ge,hr,Ge,hr],ee=Ge,ce=hr);var Br=Nt(dr,ar,$t);if($t)qe+=Br;else{for(var ze=0,Or=Br.length;ze<Or;ze++)Br[ze].segment1=Xe,Br[ze].segment2=ir,Br[ze].bez1=dr,Br[ze].bez2=ar;qe=qe.concat(Br)}}}}}return qe};function yt(It,Ut){return ht(It,Ut)}var ft=/,?([a-z]),?/gi;function st(It){return It.join(",").replace(ft,"$1")}function xt(It){return Math.sqrt(It[0]*It[0]+It[1]*It[1])}function gt(It,Ut){return xt(It)*xt(Ut)?(It[0]*Ut[0]+It[1]*Ut[1])/(xt(It)*xt(Ut)):1}function At(It,Ut){return(It[0]*Ut[1]<It[1]*Ut[0]?-1:1)*Math.acos(gt(It,Ut))}function pt(It,Ut){return It[0]===Ut[0]&&It[1]===Ut[1]}function _(It,Ut){var $t=Ut[1],Ft=Ut[2],Kt=Object(c.mod)(Object(c.toRadian)(Ut[3]),Math.PI*2),ee=Ut[4],ce=Ut[5],Se=It[0],Ce=It[1],Ge=Ut[6],hr=Ut[7],dr=Math.cos(Kt)*(Se-Ge)/2+Math.sin(Kt)*(Ce-hr)/2,ar=-1*Math.sin(Kt)*(Se-Ge)/2+Math.cos(Kt)*(Ce-hr)/2,qe=dr*dr/($t*$t)+ar*ar/(Ft*Ft);qe>1&&($t*=Math.sqrt(qe),Ft*=Math.sqrt(qe));var Xe=$t*$t*(ar*ar)+Ft*Ft*(dr*dr),ur=Xe?Math.sqrt(($t*$t*(Ft*Ft)-Xe)/Xe):1;ee===ce&&(ur*=-1),isNaN(ur)&&(ur=0);var zr=Ft?ur*$t*ar/Ft:0,ir=$t?ur*-Ft*dr/$t:0,qr=(Se+Ge)/2+Math.cos(Kt)*zr-Math.sin(Kt)*ir,Mr=(Ce+hr)/2+Math.sin(Kt)*zr+Math.cos(Kt)*ir,Br=[(dr-zr)/$t,(ar-ir)/Ft],ze=[(-1*dr-zr)/$t,(-1*ar-ir)/Ft],Or=At([1,0],Br),Nr=At(Br,ze);return gt(Br,ze)<=-1&&(Nr=Math.PI),gt(Br,ze)>=1&&(Nr=0),ce===0&&Nr>0&&(Nr=Nr-2*Math.PI),ce===1&&Nr<0&&(Nr=Nr+2*Math.PI),{cx:qr,cy:Mr,rx:pt(It,[Ge,hr])?0:$t,ry:pt(It,[Ge,hr])?0:Ft,startAngle:Or,endAngle:Or+Nr,xRotation:Kt,arcFlag:ee,sweepFlag:ce}}function $(It,Ut){return[Ut[0]+(Ut[0]-It[0]),Ut[1]+(Ut[1]-It[1])]}function bt(It){It=x(It);for(var Ut=[],$t=null,Ft=null,Kt=null,ee=0,ce=It.length,Se=0;Se<ce;Se++){var Ce=It[Se];Ft=It[Se+1];var Ge=Ce[0],hr={command:Ge,prePoint:$t,params:Ce,startTangent:null,endTangent:null};switch(Ge){case"M":Kt=[Ce[1],Ce[2]],ee=Se;break;case"A":var dr=_($t,Ce);hr.arcParams=dr;break;default:break}if(Ge==="Z")$t=Kt,Ft=It[ee+1];else{var ar=Ce.length;$t=[Ce[ar-2],Ce[ar-1]]}Ft&&Ft[0]==="Z"&&(Ft=It[ee],Ut[ee]&&(Ut[ee].prePoint=$t)),hr.currentPoint=$t,Ut[ee]&&pt($t,Ut[ee].currentPoint)&&(Ut[ee].prePoint=hr.prePoint);var qe=Ft?[Ft[Ft.length-2],Ft[Ft.length-1]]:null;hr.nextPoint=qe;var Xe=hr.prePoint;if(["L","H","V"].includes(Ge))hr.startTangent=[Xe[0]-$t[0],Xe[1]-$t[1]],hr.endTangent=[$t[0]-Xe[0],$t[1]-Xe[1]];else if(Ge==="Q"){var ur=[Ce[1],Ce[2]];hr.startTangent=[Xe[0]-ur[0],Xe[1]-ur[1]],hr.endTangent=[$t[0]-ur[0],$t[1]-ur[1]]}else if(Ge==="T"){var zr=Ut[Se-1],ur=$(zr.currentPoint,Xe);zr.command==="Q"?(hr.command="Q",hr.startTangent=[Xe[0]-ur[0],Xe[1]-ur[1]],hr.endTangent=[$t[0]-ur[0],$t[1]-ur[1]]):(hr.command="TL",hr.startTangent=[Xe[0]-$t[0],Xe[1]-$t[1]],hr.endTangent=[$t[0]-Xe[0],$t[1]-Xe[1]])}else if(Ge==="C"){var ir=[Ce[1],Ce[2]],qr=[Ce[3],Ce[4]];hr.startTangent=[Xe[0]-ir[0],Xe[1]-ir[1]],hr.endTangent=[$t[0]-qr[0],$t[1]-qr[1]]}else if(Ge==="S"){var zr=Ut[Se-1],ir=$(zr.currentPoint,Xe),qr=[Ce[1],Ce[2]];zr.command==="C"?(hr.command="C",hr.startTangent=[Xe[0]-ir[0],Xe[1]-ir[1]],hr.endTangent=[$t[0]-qr[0],$t[1]-qr[1]]):(hr.command="SQ",hr.startTangent=[Xe[0]-qr[0],Xe[1]-qr[1]],hr.endTangent=[$t[0]-qr[0],$t[1]-qr[1]])}else if(Ge==="A"){var Mr=.001,Br=hr.arcParams||{},ze=Br.cx,Or=ze===void 0?0:ze,Nr=Br.cy,$r=Nr===void 0?0:Nr,Kr=Br.rx,Un=Kr===void 0?0:Kr,ti=Br.ry,wn=ti===void 0?0:ti,Bn=Br.sweepFlag,kn=Bn===void 0?0:Bn,ei=Br.startAngle,In=ei===void 0?0:ei,ai=Br.endAngle,ga=ai===void 0?0:ai;kn===0&&(Mr*=-1);var Da=Un*Math.cos(In-Mr)+Or,Sa=wn*Math.sin(In-Mr)+$r;hr.startTangent=[Da-Kt[0],Sa-Kt[1]];var Gi=Un*Math.cos(In+ga+Mr)+Or,Ma=wn*Math.sin(In+ga-Mr)+$r;hr.endTangent=[Xe[0]-Gi,Xe[1]-Ma]}Ut.push(hr)}return Ut}var it=function(It,Ut,$t){return It>=Ut&&It<=$t};function Ot(It,Ut,$t,Ft){var Kt=.001,ee={x:$t.x-It.x,y:$t.y-It.y},ce={x:Ut.x-It.x,y:Ut.y-It.y},Se={x:Ft.x-$t.x,y:Ft.y-$t.y},Ce=ce.x*Se.y-ce.y*Se.x,Ge=Ce*Ce,hr=ce.x*ce.x+ce.y*ce.y,dr=Se.x*Se.x+Se.y*Se.y,ar=null;if(Ge>Kt*hr*dr){var qe=(ee.x*Se.y-ee.y*Se.x)/Ce,Xe=(ee.x*ce.y-ee.y*ce.x)/Ce;it(qe,0,1)&&it(Xe,0,1)&&(ar={x:It.x+qe*ce.x,y:It.y+qe*ce.y})}return ar}var Pt=1e-6;function Rt(It){return Math.abs(It)<Pt?0:It<0?-1:1}function Vt(It,Ut,$t){return($t[0]-It[0])*(Ut[1]-It[1])==(Ut[0]-It[0])*($t[1]-It[1])&&Math.min(It[0],Ut[0])<=$t[0]&&$t[0]<=Math.max(It[0],Ut[0])&&Math.min(It[1],Ut[1])<=$t[1]&&$t[1]<=Math.max(It[1],Ut[1])}function kt(It,Ut,$t){var Ft=!1,Kt=It.length;if(Kt<=2)return!1;for(var ee=0;ee<Kt;ee++){var ce=It[ee],Se=It[(ee+1)%Kt];if(Vt(ce,Se,[Ut,$t]))return!0;Rt(ce[1]-$t)>0!=Rt(Se[1]-$t)>0&&Rt(Ut-($t-ce[1])*(ce[0]-Se[0])/(ce[1]-Se[1])-ce[0])<0&&(Ft=!Ft)}return Ft}function Wt(It){for(var Ut=[],$t=It.length,Ft=0;Ft<$t-1;Ft++){var Kt=It[Ft],ee=It[Ft+1];Ut.push({from:{x:Kt[0],y:Kt[1]},to:{x:ee[0],y:ee[1]}})}if(Ut.length>1){var ce=It[0],Se=It[$t-1];Ut.push({from:{x:Se[0],y:Se[1]},to:{x:ce[0],y:ce[1]}})}return Ut}function wt(It,Ut){var $t=!1;return Object(c.each)(It,function(Ft){if(Ot(Ft.from,Ft.to,Ut.from,Ut.to))return $t=!0,!1}),$t}function ct(It){var Ut=It.map(function(Ft){return Ft[0]}),$t=It.map(function(Ft){return Ft[1]});return{minX:Math.min.apply(null,Ut),maxX:Math.max.apply(null,Ut),minY:Math.min.apply(null,$t),maxY:Math.max.apply(null,$t)}}function jt(It,Ut){return!(Ut.minX>It.maxX||Ut.maxX<It.minX||Ut.minY>It.maxY||Ut.maxY<It.minY)}function Xt(It,Ut){if(It.length<2||Ut.length<2)return!1;var $t=ct(It),Ft=ct(Ut);if(!jt($t,Ft))return!1;var Kt=!1;if(Object(c.each)(Ut,function(Ce){if(kt(It,Ce[0],Ce[1]))return Kt=!0,!1}),Kt||(Object(c.each)(It,function(Ce){if(kt(Ut,Ce[0],Ce[1]))return Kt=!0,!1}),Kt))return!0;var ee=Wt(It),ce=Wt(Ut),Se=!1;return Object(c.each)(ce,function(Ce){if(wt(ee,Ce))return Se=!0,!1}),Se}},Wdwj:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=function(){function M(O){this.count=O.length,this.parent={};for(var x=0,D=O;x<D.length;x++){var E=D[x];this.parent[E]=E}}return M.prototype.find=function(O){for(;this.parent[O]!==O;)O=this.parent[O];return O},M.prototype.union=function(O,x){var D=this.find(O),E=this.find(x);D!==E&&(D<E?(this.parent[x]!==x&&this.union(this.parent[x],O),this.parent[x]=this.parent[O]):(this.parent[O]!==O&&this.union(this.parent[O],x),this.parent[O]=this.parent[x]))},M.prototype.connected=function(O,x){return this.find(O)===this.find(x)},M}(),a=c;A.default=a},WemT:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.optional=void 0;var c=i("9L8m"),a=i("rMkn"),M=i("ZLnY");function O(){return function(x,D,E){var S=new a.Metadata(c.OPTIONAL_TAG,!0);typeof E=="number"?M.tagParameter(x,D,E,S):M.tagProperty(x,D,S)}}A.optional=O},WlgG:function(Lt,A,i){var c=i("Evga"),a=4;function M(O){return c(O,a)}Lt.exports=M},Wx0M:function(Lt,A,i){var c=i("1ban");function a(){for(var D={},E=Object.keys(c),S=E.length,p=0;p<S;p++)D[E[p]]={distance:-1,parent:null};return D}function M(D){var E=a(),S=[D];for(E[D].distance=0;S.length;)for(var p=S.pop(),b=Object.keys(c[p]),y=b.length,C=0;C<y;C++){var I=b[C],g=E[I];g.distance===-1&&(g.distance=E[p].distance+1,g.parent=p,S.unshift(I))}return E}function O(D,E){return function(S){return E(D(S))}}function x(D,E){for(var S=[E[D].parent,D],p=c[E[D].parent][D],b=E[D].parent;E[b].parent;)S.unshift(E[b].parent),p=O(c[E[b].parent][b],p),b=E[b].parent;return p.conversion=S,p}Lt.exports=function(D){for(var E=M(D),S={},p=Object.keys(E),b=p.length,y=0;y<b;y++){var C=p[y],I=E[C];I.parent!==null&&(S[C]=x(C,E))}return S}},WzGa:function(Lt,A){Lt.exports=i;function i(c,a,M){var O=a[0],x=a[1];return c[0]=M[0]*O+M[2]*x+M[4],c[1]=M[1]*O+M[3]*x+M[5],c}},Wzpx:function(Lt,A,i){var c=i("S8CN"),a=i("hQ5t"),M=i("8Lhm"),O=Math.max;function x(D,E,S){var p=D==null?0:D.length;if(!p)return-1;var b=S==null?0:M(S);return b<0&&(b=O(p+b,0)),c(D,a(E,3),b)}Lt.exports=x},X4CS:function(Lt,A){Lt.exports=i;function i(c,a,M){return c[0]=Math.min(a[0],M[0]),c[1]=Math.min(a[1],M[1]),c}},X5ku:function(Lt,A){},XN3X:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});var c={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},XSdR:function(Lt,A,i){var c;try{c={cloneDeep:i("CvKH"),constant:i("vqXp"),defaults:i("Vlje"),each:i("8hqx"),filter:i("NFwm"),find:i("u3Fj"),flatten:i("qTvU"),forEach:i("KAHC"),forIn:i("OFdx"),has:i("v/6M"),isUndefined:i("4tFv"),last:i("bkR+"),map:i("N7LH"),mapValues:i("GCuf"),max:i("tCm8"),merge:i("Ixdt"),min:i("gCgN"),minBy:i("HMFt"),now:i("H4kY"),pick:i("H+Qf"),range:i("t3mm"),reduce:i("5+Yv"),sortBy:i("+o0w"),uniqueId:i("ax0x"),values:i("jHy/"),zipObject:i("sNXT")}}catch(a){}c||(c=window._),Lt.exports=c},Xure:function(Lt,A,i){var c=i("ql+n");Lt.exports=M;var a=c.constant(1);function M(x,D,E){return O(x,D||a,E||function(S){return x.outEdges(S)})}function O(x,D,E){var S={},p=x.nodes();return p.forEach(function(b){S[b]={},S[b][b]={distance:0},p.forEach(function(y){b!==y&&(S[b][y]={distance:Number.POSITIVE_INFINITY})}),E(b).forEach(function(y){var C=y.v===b?y.w:y.v,I=D(y);S[b][C]={distance:I,predecessor:b}})}),p.forEach(function(b){var y=S[b];p.forEach(function(C){var I=S[C];p.forEach(function(g){var R=I[b],U=y[g],W=I[g],z=R.distance+U.distance;z<W.distance&&(W.distance=z,W.predecessor=U.predecessor)})})}),S}},Y26w:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Target=void 0;var c=i("9L8m"),a=i("qSJf"),M=i("rMkn"),O=i("3RHZ"),x=function(){function D(E,S,p,b){this.id=a.id(),this.type=E,this.serviceIdentifier=p,this.name=new O.QueryableString(S||""),this.metadata=new Array;var y=null;typeof b=="string"?y=new M.Metadata(c.NAMED_TAG,b):b instanceof M.Metadata&&(y=b),y!==null&&this.metadata.push(y)}return D.prototype.hasTag=function(E){for(var S=0,p=this.metadata;S<p.length;S++){var b=p[S];if(b.key===E)return!0}return!1},D.prototype.isArray=function(){return this.hasTag(c.MULTI_INJECT_TAG)},D.prototype.matchesArray=function(E){return this.matchesTag(c.MULTI_INJECT_TAG)(E)},D.prototype.isNamed=function(){return this.hasTag(c.NAMED_TAG)},D.prototype.isTagged=function(){return this.metadata.some(function(E){return c.NON_CUSTOM_TAG_KEYS.every(function(S){return E.key!==S})})},D.prototype.isOptional=function(){return this.matchesTag(c.OPTIONAL_TAG)(!0)},D.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(E){return E.key===c.NAMED_TAG})[0]:null},D.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(E){return c.NON_CUSTOM_TAG_KEYS.every(function(S){return E.key!==S})}):null},D.prototype.matchesNamedTag=function(E){return this.matchesTag(c.NAMED_TAG)(E)},D.prototype.matchesTag=function(E){var S=this;return function(p){for(var b=0,y=S.metadata;b<y.length;b++){var C=y[b];if(C.key===E&&C.value===p)return!0}return!1}},D}();A.Target=x},YKhI:function(Lt,A,i){var c=i("0Zv/");function a(M,O){if(M!==O){var x=M!==void 0,D=M===null,E=M===M,S=c(M),p=O!==void 0,b=O===null,y=O===O,C=c(O);if(!b&&!C&&!S&&M>O||S&&p&&y&&!b&&!C||D&&p&&y||!x&&y||!E)return 1;if(!D&&!S&&!C&&M<O||C&&x&&E&&!D&&!S||b&&x&&E||!p&&E||!y)return-1}return 0}Lt.exports=a},YPJE:function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=5,a={}.toString,M=function(p,b){return a.call(p)==="[object "+b+"]"},O=function(p){return M(p,"Array")},x=function(p){return typeof p=="object"&&p!==null},D=function(p){if(!x(p)||!M(p,"Object"))return!1;for(var b=p;Object.getPrototypeOf(b)!==null;)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(p)===b},E=function(p,b,y,C){y=y||0,C=C||c;for(var I in b)if(Object.prototype.hasOwnProperty.call(b,I)){var g=b[I];g?D(g)?(D(p[I])||(p[I]={}),y<C?E(p[I],g,y+1,C):p[I]=b[I]):O(g)?(p[I]=[],p[I]=p[I].concat(g)):p[I]=g:p[I]=g}},S=function(p){for(var b=[],y=1;y<arguments.length;y++)b[y-1]=arguments[y];for(var C=0;C<b.length;C+=1)E(p,b[C]);return p}},YcyD:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiBindToService=A.getServiceIdentifierAsString=A.typeConstraint=A.namedConstraint=A.taggedConstraint=A.traverseAncerstors=A.decorate=A.id=A.MetadataReader=A.postConstruct=A.targetName=A.multiInject=A.unmanaged=A.optional=A.LazyServiceIdentifer=A.inject=A.named=A.tagged=A.injectable=A.ContainerModule=A.AsyncContainerModule=A.TargetTypeEnum=A.BindingTypeEnum=A.BindingScopeEnum=A.Container=A.METADATA_KEY=void 0;var c=i("9L8m");A.METADATA_KEY=c;var a=i("9u1Y");Object.defineProperty(A,"Container",{enumerable:!0,get:function(){return a.Container}});var M=i("2+60");Object.defineProperty(A,"BindingScopeEnum",{enumerable:!0,get:function(){return M.BindingScopeEnum}}),Object.defineProperty(A,"BindingTypeEnum",{enumerable:!0,get:function(){return M.BindingTypeEnum}}),Object.defineProperty(A,"TargetTypeEnum",{enumerable:!0,get:function(){return M.TargetTypeEnum}});var O=i("Q8h2");Object.defineProperty(A,"AsyncContainerModule",{enumerable:!0,get:function(){return O.AsyncContainerModule}}),Object.defineProperty(A,"ContainerModule",{enumerable:!0,get:function(){return O.ContainerModule}});var x=i("koGu");Object.defineProperty(A,"injectable",{enumerable:!0,get:function(){return x.injectable}});var D=i("Itlo");Object.defineProperty(A,"tagged",{enumerable:!0,get:function(){return D.tagged}});var E=i("u6QS");Object.defineProperty(A,"named",{enumerable:!0,get:function(){return E.named}});var S=i("tjpL");Object.defineProperty(A,"inject",{enumerable:!0,get:function(){return S.inject}}),Object.defineProperty(A,"LazyServiceIdentifer",{enumerable:!0,get:function(){return S.LazyServiceIdentifer}});var p=i("WemT");Object.defineProperty(A,"optional",{enumerable:!0,get:function(){return p.optional}});var b=i("Mz7Q");Object.defineProperty(A,"unmanaged",{enumerable:!0,get:function(){return b.unmanaged}});var y=i("HWsn");Object.defineProperty(A,"multiInject",{enumerable:!0,get:function(){return y.multiInject}});var C=i("Ca6f");Object.defineProperty(A,"targetName",{enumerable:!0,get:function(){return C.targetName}});var I=i("CdXo");Object.defineProperty(A,"postConstruct",{enumerable:!0,get:function(){return I.postConstruct}});var g=i("/dUy");Object.defineProperty(A,"MetadataReader",{enumerable:!0,get:function(){return g.MetadataReader}});var R=i("qSJf");Object.defineProperty(A,"id",{enumerable:!0,get:function(){return R.id}});var U=i("ZLnY");Object.defineProperty(A,"decorate",{enumerable:!0,get:function(){return U.decorate}});var W=i("09fY");Object.defineProperty(A,"traverseAncerstors",{enumerable:!0,get:function(){return W.traverseAncerstors}}),Object.defineProperty(A,"taggedConstraint",{enumerable:!0,get:function(){return W.taggedConstraint}}),Object.defineProperty(A,"namedConstraint",{enumerable:!0,get:function(){return W.namedConstraint}}),Object.defineProperty(A,"typeConstraint",{enumerable:!0,get:function(){return W.typeConstraint}});var z=i("Rph/");Object.defineProperty(A,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return z.getServiceIdentifierAsString}});var B=i("Zub2");Object.defineProperty(A,"multiBindToService",{enumerable:!0,get:function(){return B.multiBindToService}})},"Yz/u":function(Lt,A,i){"use strict";i.d(A,"a",function(){return x}),i.d(A,"d",function(){return E}),i.d(A,"e",function(){return S.a}),i.d(A,"c",function(){return y}),i.d(A,"f",function(){return C.a}),i.d(A,"b",function(){return I}),i.d(A,"g",function(){return g}),i.d(A,"h",function(){return R});var c=i("CMID"),a=i("4517"),M=i("Jze/"),O=i("mT8n");function x(U){var W=U.options,z=W.area,B=W.xField,L=W.yField,w=W.seriesField,F=W.smooth,V=W.tooltip,Y=Object(a.a)(V,[B,L,w]),tt=Y.fields,q=Y.formatter;return z?Object(O.a)(Object(M.c)({},U,{options:{type:"area",colorField:w,tooltipFields:tt,mapping:Object(c.__assign)({shape:F?"smooth":"area",tooltip:q},z)}})):U}var D=i("8Mtd");function E(U){var W=U.options,z=W.line,B=W.stepType,L=W.xField,w=W.yField,F=W.seriesField,V=W.smooth,Y=W.connectNulls,tt=W.tooltip,q=Object(a.a)(tt,[L,w,F]),H=q.fields,Q=q.formatter;return z?Object(O.a)(Object(M.c)({},U,{options:{type:"line",colorField:F,tooltipFields:H,mapping:Object(D.deepMix)({shape:B||(V?"smooth":"line"),tooltip:Q},z),args:{connectNulls:Y}}})):U}var S=i("sgcf"),p=i("dNsf");function b(U){var W=U.chart,z=U.options,B=U.ext,L=z.seriesField,w=z.isGroup,F=z.isStack,V=z.marginRatio,Y=z.widthRatio,tt=z.groupField,q=z.theme,H=[];if(L&&(w&&H.push({type:"dodge",dodgeBy:tt||L,marginRatio:V}),F&&H.push({type:"stack",marginRatio:V})),H.length&&(B==null?void 0:B.geometry)){var Q=B==null?void 0:B.geometry;Q.adjust(H)}return Object(D.isNil)(Y)||W.theme(Object(M.c)({},Object(D.isObject)(q)?q:Object(p.getTheme)(q),{columnWidthRatio:Y})),U}function y(U){var W=U.options,z=W.xField,B=W.yField,L=W.interval,w=W.seriesField,F=W.tooltip,V=W.minColumnWidth,Y=W.maxColumnWidth,tt=W.columnBackground,q=W.dodgePadding,H=W.intervalPadding,Q=Object(a.a)(F,[z,B,w]),k=Q.fields,K=Q.formatter,nt=(L?Object(O.a)(Object(M.c)({},U,{options:{type:"interval",colorField:w,tooltipFields:k,mapping:Object(c.__assign)({tooltip:K},L),args:{dodgePadding:q,intervalPadding:H,minColumnWidth:V,maxColumnWidth:Y,background:tt}}})):U).ext;return b(Object(c.__assign)(Object(c.__assign)({},U),{ext:nt}))}var C=i("COxP");function I(U){var W=U.options,z=W.edge,B=W.xField,L=W.yField,w=W.seriesField,F=W.tooltip,V=Object(a.a)(F,[B,L,w]),Y=V.fields,tt=V.formatter;return z?Object(O.a)(Object(M.c)({},U,{options:{type:"edge",colorField:w,tooltipFields:Y,mapping:Object(c.__assign)({tooltip:tt},z)}})):U}function g(U){var W=U.options,z=W.schema,B=W.xField,L=W.yField,w=W.seriesField,F=W.tooltip,V=Object(a.a)(F,[B,L,w]),Y=V.fields,tt=V.formatter;return z?Object(O.a)(Object(M.c)({},U,{options:{type:"schema",colorField:w,tooltipFields:Y,mapping:Object(c.__assign)({tooltip:tt},z)}})):U}function R(U){var W=U.options,z=W.violin,B=W.xField,L=W.yField,w=W.seriesField,F=W.sizeField,V=W.tooltip,Y=Object(a.a)(V,[B,L,w,F]),tt=Y.fields,q=Y.formatter;return z?Object(O.a)(Object(M.c)({},U,{options:{type:"violin",colorField:w,tooltipFields:tt,mapping:Object(c.__assign)({tooltip:q},z)}})):U}},Z23w:function(Lt,A){Lt.exports=i;function i(c){var a=new Float32Array(2);return a[0]=c[0],a[1]=c[1],a}},Z7Bb:function(Lt,A,i){"use strict";i.d(A,"adaptors",function(){return $});var c=i("dNsf");i.d(A,"G2",function(){return c});var a=i("xPJu"),M=i("gnlQ"),O=i("t9Yg"),x=i("KCuH"),D=i("GgvZ"),E=i("eQ2F"),S=i("hfHj");i.d(A,"Line",function(){return S.a});var p=i("4BgK");i.d(A,"Area",function(){return p.a});var b=i("xAy3");i.d(A,"Column",function(){return b.a});var y=i("8h7j");i.d(A,"Bar",function(){return y.a});var C=i("lYZ+");i.d(A,"Pie",function(){return C.a});var I=i("epk5");i.d(A,"Rose",function(){return I.a});var g=i("Gwo9");i.d(A,"WordCloud",function(){return g.a});var R=i("ARn4");i.d(A,"Scatter",function(){return R.a});var U=i("dcmu");i.d(A,"Radar",function(){return U.a});var W=i("oO1q");i.d(A,"DualAxes",function(){return W.a});var z=i("E8mZ");i.d(A,"TinyLine",function(){return z.a});var B=i("ET/o");i.d(A,"TinyColumn",function(){return B.a});var L=i("ZDJ2");i.d(A,"TinyArea",function(){return L.a});var w=i("307E");i.d(A,"Histogram",function(){return w.a});var F=i("aaCk");i.d(A,"Progress",function(){return F.a});var V=i("9zrt");i.d(A,"RingProgress",function(){return V.a});var Y=i("byL5");i.d(A,"Heatmap",function(){return Y.a});var tt=i("c+HF");i.d(A,"Box",function(){return tt.a});var q=i("fURL");i.d(A,"Violin",function(){return q.a});var H=i("CNre");i.d(A,"Stock",function(){return H.a});var Q=i("tc10");i.d(A,"Funnel",function(){return Q.a});var k=i("H66V");i.d(A,"Liquid",function(){return k.a});var K=i("tYXh");i.d(A,"Bullet",function(){return K.a});var nt=i("fVs5");i.d(A,"Sunburst",function(){return nt.a});var lt=i("ceWr");i.d(A,"Gauge",function(){return lt.a});var ut=i("IVx7");i.d(A,"Waterfall",function(){return ut.a});var rt=i("0D+0");i.d(A,"RadialBar",function(){return rt.a});var ot=i("zPzM");i.d(A,"BidirectionalBar",function(){return ot.a});var dt=i("7Zjo");i.d(A,"Treemap",function(){return dt.a});var Mt=i("i2Ku");i.d(A,"Sankey",function(){return Mt.a});var Nt=i("h0Dq");i.d(A,"Chord",function(){return Nt.a});var ht=i("I+6r"),yt=i("GekJ");i.d(A,"Mix",function(){return yt.a});var ft=i("LCT+");i.d(A,"Facet",function(){return ft.a});var st=i("oNBn"),xt=i("Jze/");i.d(A,"flow",function(){return xt.f}),i.d(A,"measureTextWidth",function(){return xt.r});var gt=i("Yz/u"),At=i("s9g+"),pt=i("7Smf"),_="2.3.25";Object(a.b)("en-US",M.a),Object(a.b)("zh-CN",O.a);var $={scale:At.f,legend:At.d,tooltip:At.k,annotation:At.b,interaction:At.c,theme:At.j,animation:At.a}},Z8sD:function(Lt,A,i){var c=i("tbeB"),a=i("TdPr"),M=i("qccO");function O(x){return function(D,E,S){return S&&typeof S!="number"&&a(D,E,S)&&(E=S=void 0),D=M(D),E===void 0?(E=D,D=0):E=M(E),S=S===void 0?D<E?1:-1:M(S),c(D,E,S,x)}}Lt.exports=O},ZDJ2:function(Lt,A,i){"use strict";i.d(A,"a",function(){return E});var c=i("CMID"),a=i("GgvZ"),M=i("pIri"),O=i("dipd"),x=i("LpBT"),D={appendPadding:2,tooltip:Object(c.__assign)({},x.b),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},E=function(S){Object(c.__extends)(p,S);function p(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="tiny-area",b}return p.getDefaultOptions=function(){return D},p.prototype.changeData=function(b){this.updateOption({data:b});var y=this,C=y.chart,I=y.options;Object(O.b)({chart:C,options:I}),C.changeData(Object(M.a)(b))},p.prototype.getDefaultOptions=function(){return p.getDefaultOptions()},p.prototype.getSchemaAdaptor=function(){return O.a},p}(a.b)},ZDiw:function(Lt,A){},ZLnY:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.tagProperty=A.tagParameter=A.decorate=void 0;var c=i("196R"),a=i("9L8m");function M(p,b,y,C){var I=a.TAGGED;x(I,p,b,C,y)}A.tagParameter=M;function O(p,b,y){var C=a.TAGGED_PROP;x(C,p.constructor,b,y)}A.tagProperty=O;function x(p,b,y,C,I){var g={},R=typeof I=="number",U=I!==void 0&&R?I.toString():y;if(R&&y!==void 0)throw new Error(c.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(p,b)&&(g=Reflect.getMetadata(p,b));var W=g[U];if(!Array.isArray(W))W=[];else for(var z=0,B=W;z<B.length;z++){var L=B[z];if(L.key===C.key)throw new Error(c.DUPLICATED_METADATA+" "+L.key.toString())}W.push(C),g[U]=W,Reflect.defineMetadata(p,g,b)}function D(p,b){Reflect.decorate(p,b)}function E(p,b){return function(y,C){b(y,C,p)}}function S(p,b,y){typeof y=="number"?D([E(y,p)],b):typeof y=="string"?Reflect.decorate([p],b,y):D([p],b)}A.decorate=S},ZVT1:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});var c;(function(a){a[a.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",a[a.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",a[a.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",a[a.POINTS=0]="POINTS",a[a.LINES=1]="LINES",a[a.LINE_LOOP=2]="LINE_LOOP",a[a.LINE_STRIP=3]="LINE_STRIP",a[a.TRIANGLES=4]="TRIANGLES",a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN",a[a.ZERO=0]="ZERO",a[a.ONE=1]="ONE",a[a.SRC_COLOR=768]="SRC_COLOR",a[a.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",a[a.SRC_ALPHA=770]="SRC_ALPHA",a[a.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",a[a.DST_ALPHA=772]="DST_ALPHA",a[a.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",a[a.DST_COLOR=774]="DST_COLOR",a[a.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",a[a.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",a[a.FUNC_ADD=32774]="FUNC_ADD",a[a.BLEND_EQUATION=32777]="BLEND_EQUATION",a[a.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",a[a.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",a[a.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",a[a.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",a[a.MAX_EXT=32776]="MAX_EXT",a[a.MIN_EXT=32775]="MIN_EXT",a[a.BLEND_DST_RGB=32968]="BLEND_DST_RGB",a[a.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",a[a.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",a[a.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",a[a.CONSTANT_COLOR=32769]="CONSTANT_COLOR",a[a.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",a[a.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",a[a.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",a[a.BLEND_COLOR=32773]="BLEND_COLOR",a[a.ARRAY_BUFFER=34962]="ARRAY_BUFFER",a[a.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",a[a.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",a[a.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",a[a.STREAM_DRAW=35040]="STREAM_DRAW",a[a.STATIC_DRAW=35044]="STATIC_DRAW",a[a.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",a[a.BUFFER_SIZE=34660]="BUFFER_SIZE",a[a.BUFFER_USAGE=34661]="BUFFER_USAGE",a[a.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",a[a.FRONT=1028]="FRONT",a[a.BACK=1029]="BACK",a[a.FRONT_AND_BACK=1032]="FRONT_AND_BACK",a[a.CULL_FACE=2884]="CULL_FACE",a[a.BLEND=3042]="BLEND",a[a.DITHER=3024]="DITHER",a[a.STENCIL_TEST=2960]="STENCIL_TEST",a[a.DEPTH_TEST=2929]="DEPTH_TEST",a[a.SCISSOR_TEST=3089]="SCISSOR_TEST",a[a.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",a[a.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",a[a.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",a[a.NO_ERROR=0]="NO_ERROR",a[a.INVALID_ENUM=1280]="INVALID_ENUM",a[a.INVALID_VALUE=1281]="INVALID_VALUE",a[a.INVALID_OPERATION=1282]="INVALID_OPERATION",a[a.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",a[a.CW=2304]="CW",a[a.CCW=2305]="CCW",a[a.LINE_WIDTH=2849]="LINE_WIDTH",a[a.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",a[a.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",a[a.CULL_FACE_MODE=2885]="CULL_FACE_MODE",a[a.FRONT_FACE=2886]="FRONT_FACE",a[a.DEPTH_RANGE=2928]="DEPTH_RANGE",a[a.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",a[a.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",a[a.DEPTH_FUNC=2932]="DEPTH_FUNC",a[a.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",a[a.STENCIL_FUNC=2962]="STENCIL_FUNC",a[a.STENCIL_FAIL=2964]="STENCIL_FAIL",a[a.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",a[a.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",a[a.STENCIL_REF=2967]="STENCIL_REF",a[a.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",a[a.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",a[a.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",a[a.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",a[a.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",a[a.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",a[a.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",a[a.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",a[a.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",a[a.VIEWPORT=2978]="VIEWPORT",a[a.SCISSOR_BOX=3088]="SCISSOR_BOX",a[a.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",a[a.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",a[a.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",a[a.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",a[a.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",a[a.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",a[a.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",a[a.RED_BITS=3410]="RED_BITS",a[a.GREEN_BITS=3411]="GREEN_BITS",a[a.BLUE_BITS=3412]="BLUE_BITS",a[a.ALPHA_BITS=3413]="ALPHA_BITS",a[a.DEPTH_BITS=3414]="DEPTH_BITS",a[a.STENCIL_BITS=3415]="STENCIL_BITS",a[a.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",a[a.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",a[a.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",a[a.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",a[a.SAMPLES=32937]="SAMPLES",a[a.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",a[a.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",a[a.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",a[a.DONT_CARE=4352]="DONT_CARE",a[a.FASTEST=4353]="FASTEST",a[a.NICEST=4354]="NICEST",a[a.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",a[a.BYTE=5120]="BYTE",a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",a[a.SHORT=5122]="SHORT",a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",a[a.INT=5124]="INT",a[a.UNSIGNED_INT=5125]="UNSIGNED_INT",a[a.FLOAT=5126]="FLOAT",a[a.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",a[a.ALPHA=6406]="ALPHA",a[a.RGB=6407]="RGB",a[a.RGBA=6408]="RGBA",a[a.LUMINANCE=6409]="LUMINANCE",a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",a[a.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",a[a.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",a[a.VERTEX_SHADER=35633]="VERTEX_SHADER",a[a.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",a[a.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",a[a.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",a[a.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",a[a.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",a[a.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",a[a.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",a[a.SHADER_TYPE=35663]="SHADER_TYPE",a[a.DELETE_STATUS=35712]="DELETE_STATUS",a[a.LINK_STATUS=35714]="LINK_STATUS",a[a.VALIDATE_STATUS=35715]="VALIDATE_STATUS",a[a.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",a[a.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",a[a.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",a[a.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",a[a.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",a[a.NEVER=512]="NEVER",a[a.LESS=513]="LESS",a[a.EQUAL=514]="EQUAL",a[a.LEQUAL=515]="LEQUAL",a[a.GREATER=516]="GREATER",a[a.NOTEQUAL=517]="NOTEQUAL",a[a.GEQUAL=518]="GEQUAL",a[a.ALWAYS=519]="ALWAYS",a[a.KEEP=7680]="KEEP",a[a.REPLACE=7681]="REPLACE",a[a.INCR=7682]="INCR",a[a.DECR=7683]="DECR",a[a.INVERT=5386]="INVERT",a[a.INCR_WRAP=34055]="INCR_WRAP",a[a.DECR_WRAP=34056]="DECR_WRAP",a[a.VENDOR=7936]="VENDOR",a[a.RENDERER=7937]="RENDERER",a[a.VERSION=7938]="VERSION",a[a.NEAREST=9728]="NEAREST",a[a.LINEAR=9729]="LINEAR",a[a.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",a[a.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",a[a.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",a[a.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",a[a.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",a[a.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",a[a.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",a[a.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",a[a.TEXTURE_2D=3553]="TEXTURE_2D",a[a.TEXTURE=5890]="TEXTURE",a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",a[a.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",a[a.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",a[a.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",a[a.TEXTURE0=33984]="TEXTURE0",a[a.TEXTURE1=33985]="TEXTURE1",a[a.TEXTURE2=33986]="TEXTURE2",a[a.TEXTURE3=33987]="TEXTURE3",a[a.TEXTURE4=33988]="TEXTURE4",a[a.TEXTURE5=33989]="TEXTURE5",a[a.TEXTURE6=33990]="TEXTURE6",a[a.TEXTURE7=33991]="TEXTURE7",a[a.TEXTURE8=33992]="TEXTURE8",a[a.TEXTURE9=33993]="TEXTURE9",a[a.TEXTURE10=33994]="TEXTURE10",a[a.TEXTURE11=33995]="TEXTURE11",a[a.TEXTURE12=33996]="TEXTURE12",a[a.TEXTURE13=33997]="TEXTURE13",a[a.TEXTURE14=33998]="TEXTURE14",a[a.TEXTURE15=33999]="TEXTURE15",a[a.TEXTURE16=34e3]="TEXTURE16",a[a.TEXTURE17=34001]="TEXTURE17",a[a.TEXTURE18=34002]="TEXTURE18",a[a.TEXTURE19=34003]="TEXTURE19",a[a.TEXTURE20=34004]="TEXTURE20",a[a.TEXTURE21=34005]="TEXTURE21",a[a.TEXTURE22=34006]="TEXTURE22",a[a.TEXTURE23=34007]="TEXTURE23",a[a.TEXTURE24=34008]="TEXTURE24",a[a.TEXTURE25=34009]="TEXTURE25",a[a.TEXTURE26=34010]="TEXTURE26",a[a.TEXTURE27=34011]="TEXTURE27",a[a.TEXTURE28=34012]="TEXTURE28",a[a.TEXTURE29=34013]="TEXTURE29",a[a.TEXTURE30=34014]="TEXTURE30",a[a.TEXTURE31=34015]="TEXTURE31",a[a.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",a[a.REPEAT=10497]="REPEAT",a[a.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",a[a.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",a[a.FLOAT_VEC2=35664]="FLOAT_VEC2",a[a.FLOAT_VEC3=35665]="FLOAT_VEC3",a[a.FLOAT_VEC4=35666]="FLOAT_VEC4",a[a.INT_VEC2=35667]="INT_VEC2",a[a.INT_VEC3=35668]="INT_VEC3",a[a.INT_VEC4=35669]="INT_VEC4",a[a.BOOL=35670]="BOOL",a[a.BOOL_VEC2=35671]="BOOL_VEC2",a[a.BOOL_VEC3=35672]="BOOL_VEC3",a[a.BOOL_VEC4=35673]="BOOL_VEC4",a[a.FLOAT_MAT2=35674]="FLOAT_MAT2",a[a.FLOAT_MAT3=35675]="FLOAT_MAT3",a[a.FLOAT_MAT4=35676]="FLOAT_MAT4",a[a.SAMPLER_2D=35678]="SAMPLER_2D",a[a.SAMPLER_CUBE=35680]="SAMPLER_CUBE",a[a.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",a[a.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",a[a.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",a[a.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",a[a.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",a[a.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",a[a.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",a[a.COMPILE_STATUS=35713]="COMPILE_STATUS",a[a.LOW_FLOAT=36336]="LOW_FLOAT",a[a.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",a[a.HIGH_FLOAT=36338]="HIGH_FLOAT",a[a.LOW_INT=36339]="LOW_INT",a[a.MEDIUM_INT=36340]="MEDIUM_INT",a[a.HIGH_INT=36341]="HIGH_INT",a[a.FRAMEBUFFER=36160]="FRAMEBUFFER",a[a.RENDERBUFFER=36161]="RENDERBUFFER",a[a.RGBA4=32854]="RGBA4",a[a.RGB5_A1=32855]="RGB5_A1",a[a.RGB565=36194]="RGB565",a[a.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",a[a.STENCIL_INDEX=6401]="STENCIL_INDEX",a[a.STENCIL_INDEX8=36168]="STENCIL_INDEX8",a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL",a[a.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",a[a.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",a[a.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",a[a.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",a[a.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",a[a.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",a[a.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",a[a.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",a[a.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",a[a.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",a[a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",a[a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",a[a.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",a[a.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",a[a.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",a[a.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",a[a.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",a[a.NONE=0]="NONE",a[a.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",a[a.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",a[a.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",a[a.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",a[a.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",a[a.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",a[a.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",a[a.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",a[a.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",a[a.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",a[a.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",a[a.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",a[a.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",a[a.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",a[a.COPY_SRC=1]="COPY_SRC",a[a.COPY_DST=2]="COPY_DST",a[a.SAMPLED=4]="SAMPLED",a[a.STORAGE=8]="STORAGE",a[a.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(c||(c={}))},ZVen:function(Lt,A,i){"use strict";i.r(A),i.d(A,"version",function(){return E});var c=i("Nqgf");i.d(A,"Shape",function(){return c});var a=i("U8wd");for(var M in a)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(M)<0&&function(S){i.d(A,S,function(){return a[S]})}(M);var O=i("287h");i.d(A,"Canvas",function(){return O.a});var x=i("nl+T");i.d(A,"Group",function(){return x.a});var D=i("hMip");i.d(A,"getArcParams",function(){return D.a});var E="0.5.10"},Zdy7:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("8Mtd"),M=i("sxZn"),O=i("tSnd"),x=i("PHCe"),D=i("xOhq"),E=M.a.transform,S="matrix",p=["zIndex","capture","visible","type"],b=["repeat"],y=":",C="*";function I(z){for(var B=[],L=0;L<z.length;L++)Object(a.isArray)(z[L])?B.push([].concat(z[L])):B.push(z[L]);return B}function g(z,B){var L={},w=B.attrs;for(var F in z)L[F]=w[F];return L}function R(z,B){var L={},w=B.attr();return Object(a.each)(z,function(F,V){b.indexOf(V)===-1&&!Object(a.isEqual)(w[V],F)&&(L[V]=F)}),L}function U(z,B){if(B.onFrame)return z;var L=B.startTime,w=B.delay,F=B.duration,V=Object.prototype.hasOwnProperty;return Object(a.each)(z,function(Y){L+w<Y.startTime+Y.delay+Y.duration&&F>Y.delay&&Object(a.each)(B.toAttrs,function(tt,q){V.call(Y.toAttrs,q)&&(delete Y.toAttrs[q],delete Y.fromAttrs[q])})}),z}var W=function(z){Object(c.__extends)(B,z);function B(L){var w=z.call(this,L)||this;w.attrs={};var F=w.getDefaultAttrs();return Object(a.mix)(F,L.attrs),w.attrs=F,w.initAttrs(F),w.initAnimate(),w}return B.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},B.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},B.prototype.onCanvasChange=function(L){},B.prototype.initAttrs=function(L){},B.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},B.prototype.isGroup=function(){return!1},B.prototype.getParent=function(){return this.get("parent")},B.prototype.getCanvas=function(){return this.get("canvas")},B.prototype.attr=function(){for(var L,w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];var V=w[0],Y=w[1];if(!V)return this.attrs;if(Object(a.isObject)(V)){for(var tt in V)this.setAttr(tt,V[tt]);return this.afterAttrsChange(V),this}return w.length===2?(this.setAttr(V,Y),this.afterAttrsChange((L={},L[V]=Y,L)),this):this.attrs[V]},B.prototype.isClipped=function(L,w){var F=this.getClip();return F&&!F.isHit(L,w)},B.prototype.setAttr=function(L,w){var F=this.attrs[L];F!==w&&(this.attrs[L]=w,this.onAttrChange(L,w,F))},B.prototype.onAttrChange=function(L,w,F){L==="matrix"&&this.set("totalMatrix",null)},B.prototype.afterAttrsChange=function(L){if(this.cfg.isClipShape){var w=this.cfg.applyTo;w&&w.onCanvasChange("clip")}else this.onCanvasChange("attr")},B.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},B.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},B.prototype.setZIndex=function(L){this.set("zIndex",L);var w=this.getParent();return w&&w.sort(),this},B.prototype.toFront=function(){var L=this.getParent();if(!!L){var w=L.getChildren(),F=this.get("el"),V=w.indexOf(this);w.splice(V,1),w.push(this),this.onCanvasChange("zIndex")}},B.prototype.toBack=function(){var L=this.getParent();if(!!L){var w=L.getChildren(),F=this.get("el"),V=w.indexOf(this);w.splice(V,1),w.unshift(this),this.onCanvasChange("zIndex")}},B.prototype.remove=function(L){L===void 0&&(L=!0);var w=this.getParent();w?(Object(O.j)(w.getChildren(),this),w.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),L&&this.destroy()},B.prototype.resetMatrix=function(){this.attr(S,this.getDefaultMatrix()),this.onCanvasChange("matrix")},B.prototype.getMatrix=function(){return this.attr(S)},B.prototype.setMatrix=function(L){this.attr(S,L),this.onCanvasChange("matrix")},B.prototype.getTotalMatrix=function(){var L=this.cfg.totalMatrix;if(!L){var w=this.attr("matrix"),F=this.cfg.parentMatrix;F&&w?L=Object(x.b)(F,w):L=w||F,this.set("totalMatrix",L)}return L},B.prototype.applyMatrix=function(L){var w=this.attr("matrix"),F=null;L&&w?F=Object(x.b)(L,w):F=w||L,this.set("totalMatrix",F),this.set("parentMatrix",L)},B.prototype.getDefaultMatrix=function(){return null},B.prototype.applyToMatrix=function(L){var w=this.attr("matrix");return w?Object(x.c)(w,L):L},B.prototype.invertFromMatrix=function(L){var w=this.attr("matrix");if(w){var F=Object(x.a)(w);if(F)return Object(x.c)(F,L)}return L},B.prototype.setClip=function(L){var w=this.getCanvas(),F=null;if(L){var V=this.getShapeBase(),Y=Object(a.upperFirst)(L.type),tt=V[Y];tt&&(F=new tt({type:L.type,isClipShape:!0,applyTo:this,attrs:L.attrs,canvas:w}))}return this.set("clipShape",F),this.onCanvasChange("clip"),F},B.prototype.getClip=function(){var L=this.cfg.clipShape;return L||null},B.prototype.clone=function(){var L=this,w=this.attrs,F={};Object(a.each)(w,function(tt,q){Object(a.isArray)(w[q])?F[q]=I(w[q]):F[q]=w[q]});var V=this.constructor,Y=new V({attrs:F});return Object(a.each)(p,function(tt){Y.set(tt,L.get(tt))}),Y},B.prototype.destroy=function(){var L=this.destroyed;L||(this.attrs={},z.prototype.destroy.call(this))},B.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},B.prototype.animate=function(){for(var L=[],w=0;w<arguments.length;w++)L[w]=arguments[w];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var F=this.get("timeline");F||(F=this.get("canvas").get("timeline"),this.set("timeline",F));var V=this.get("animations")||[];F.timer||F.initTimer();var Y=L[0],tt=L[1],q=L[2],H=q===void 0?"easeLinear":q,Q=L[3],k=Q===void 0?a.noop:Q,K=L[4],nt=K===void 0?0:K,lt,ut,rt,ot,dt;Object(a.isFunction)(Y)?(lt=Y,Y={}):Object(a.isObject)(Y)&&Y.onFrame&&(lt=Y.onFrame,ut=Y.repeat),Object(a.isObject)(tt)?(dt=tt,tt=dt.duration,H=dt.easing||"easeLinear",nt=dt.delay||0,ut=dt.repeat||ut||!1,k=dt.callback||a.noop,rt=dt.pauseCallback||a.noop,ot=dt.resumeCallback||a.noop):(Object(a.isNumber)(k)&&(nt=k,k=null),Object(a.isFunction)(H)?(k=H,H="easeLinear"):H=H||"easeLinear");var Mt=R(Y,this),Nt={fromAttrs:g(Mt,this),toAttrs:Mt,duration:tt,easing:H,repeat:ut,callback:k,pauseCallback:rt,resumeCallback:ot,delay:nt,startTime:F.getTime(),id:Object(a.uniqueId)(),onFrame:lt,pathFormatted:!1};V.length>0?V=U(V,Nt):F.addAnimator(this),V.push(Nt),this.set("animations",V),this.set("_pause",{isPaused:!1})}},B.prototype.stopAnimate=function(L){var w=this;L===void 0&&(L=!0);var F=this.get("animations");Object(a.each)(F,function(V){L&&(V.onFrame?w.attr(V.onFrame(1)):w.attr(V.toAttrs)),V.callback&&V.callback()}),this.set("animating",!1),this.set("animations",[])},B.prototype.pauseAnimate=function(){var L=this.get("timeline"),w=this.get("animations"),F=L.getTime();return Object(a.each)(w,function(V){V._paused=!0,V._pauseTime=F,V.pauseCallback&&V.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:F}),this},B.prototype.resumeAnimate=function(){var L=this.get("timeline"),w=L.getTime(),F=this.get("animations"),V=this.get("_pause").pauseTime;return Object(a.each)(F,function(Y){Y.startTime=Y.startTime+(w-V),Y._paused=!1,Y._pauseTime=null,Y.resumeCallback&&Y.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",F),this},B.prototype.emitDelegation=function(L,w){var F=this,V=w.propagationPath,Y=this.getEvents(),tt;L==="mouseenter"?tt=w.fromShape:L==="mouseleave"&&(tt=w.toShape);for(var q=function(K){var nt=V[K],lt=nt.get("name");if(lt){if((nt.isGroup()||nt.isCanvas&&nt.isCanvas())&&tt&&Object(O.g)(nt,tt))return"break";Object(a.isArray)(lt)?Object(a.each)(lt,function(ut){F.emitDelegateEvent(nt,ut,w)}):H.emitDelegateEvent(nt,lt,w)}},H=this,Q=0;Q<V.length;Q++){var k=q(Q);if(k==="break")break}},B.prototype.emitDelegateEvent=function(L,w,F){var V=this.getEvents(),Y=w+y+F.type;(V[Y]||V[C])&&(F.name=Y,F.currentTarget=L,F.delegateTarget=this,F.delegateObject=L.get("delegateObject"),this.emit(Y,F))},B.prototype.translate=function(L,w){L===void 0&&(L=0),w===void 0&&(w=0);var F=this.getMatrix(),V=E(F,[["t",L,w]]);return this.setMatrix(V),this},B.prototype.move=function(L,w){var F=this.attr("x")||0,V=this.attr("y")||0;return this.translate(L-F,w-V),this},B.prototype.moveTo=function(L,w){return this.move(L,w)},B.prototype.scale=function(L,w){var F=this.getMatrix(),V=E(F,[["s",L,w||L]]);return this.setMatrix(V),this},B.prototype.rotate=function(L){var w=this.getMatrix(),F=E(w,[["r",L]]);return this.setMatrix(F),this},B.prototype.rotateAtStart=function(L){var w=this.attr(),F=w.x,V=w.y,Y=this.getMatrix(),tt=E(Y,[["t",-F,-V],["r",L],["t",F,V]]);return this.setMatrix(tt),this},B.prototype.rotateAtPoint=function(L,w,F){var V=this.getMatrix(),Y=E(V,[["t",-L,-w],["r",F],["t",L,w]]);return this.setMatrix(Y),this},B}(D.a);A.a=W},Zkfg:function(Lt,A,i){Lt.exports=i("5LP0")},Zub2:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiBindToService=void 0;var c=function(a){return function(M){return function(){for(var O=[],x=0;x<arguments.length;x++)O[x]=arguments[x];return O.forEach(function(D){return a.bind(D).toService(M)})}}};A.multiBindToService=c},ZvDv:function(Lt,A,i){var c=i("2vMh");function a(M,O){var x=M==null?0:M.length;return!!x&&c(M,O,0)>-1}Lt.exports=a},aMRv:function(Lt,A){Lt.exports=i;function i(c,a,M,O){return c[0]=a[0]+M[0]*O,c[1]=a[1]+M[1]*O,c}},aNuW:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingInSyntax=void 0;var c=i("2+60"),a=i("uh8N"),M=function(){function O(x){this._binding=x}return O.prototype.inRequestScope=function(){return this._binding.scope=c.BindingScopeEnum.Request,new a.BindingWhenOnSyntax(this._binding)},O.prototype.inSingletonScope=function(){return this._binding.scope=c.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},O.prototype.inTransientScope=function(){return this._binding.scope=c.BindingScopeEnum.Transient,new a.BindingWhenOnSyntax(this._binding)},O}();A.BindingInSyntax=M},aOLp:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});function c(){return 0}A.b=function(a){return function(){return a}}},aStn:function(Lt,A,i){"use strict";i.d(A,"a",function(){return Mt});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("RHEd"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("7Nom"),b=i.n(p),y=i("4OuL"),C=i.n(y),I=i("r1m7"),g=i.n(I),R=i("YcyD"),U=i.n(R),W=i("XN3X"),z=i("60wz"),B=i("K4bE"),L,w,F,V,Y,tt,q,H,Q,k,K,nt,lt;function ut(Nt,ht){var yt;if(typeof Symbol=="undefined"||Nt[Symbol.iterator]==null){if(Array.isArray(Nt)||(yt=rt(Nt))||ht&&Nt&&typeof Nt.length=="number"){yt&&(Nt=yt);var ft=0,st=function(){};return{s:st,n:function(){return ft>=Nt.length?{done:!0}:{done:!1,value:Nt[ft++]}},e:function(_){throw _},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xt=!0,gt=!1,At;return{s:function(){yt=Nt[Symbol.iterator]()},n:function(){var _=yt.next();return xt=_.done,_},e:function(_){gt=!0,At=_},f:function(){try{!xt&&yt.return!=null&&yt.return()}finally{if(gt)throw At}}}}function rt(Nt,ht){if(!!Nt){if(typeof Nt=="string")return ot(Nt,ht);var yt=Object.prototype.toString.call(Nt).slice(8,-1);if(yt==="Object"&&Nt.constructor&&(yt=Nt.constructor.name),yt==="Map"||yt==="Set")return Array.from(Nt);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return ot(Nt,ht)}}function ot(Nt,ht){(ht==null||ht>Nt.length)&&(ht=Nt.length);for(var yt=0,ft=new Array(ht);yt<ht;yt++)ft[yt]=Nt[yt];return ft}var dt={NONE:0,ENCODE:1,HIGHLIGHT:2},Mt=(L=Object(R.injectable)(),w=Object(R.inject)(W.a.RenderEngine),F=Object(R.inject)(W.a.ResourcePool),V=Object(R.inject)(W.a.RenderPassFactory),Y=Object(R.inject)(W.a.MeshComponentManager),L(tt=(q=(lt=nt=function(){function Nt(){var ht=this;S()(this,Nt),D()(this,"engine",H,this),D()(this,"resourcePool",Q,this),D()(this,"renderPassFactory",k,this),D()(this,"mesh",K,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(yt,ft,st){var xt=yt.createRenderTarget(ft,"picking fbo",{width:1,height:1});st.data={output:ft.write(yt,xt)},ft.hasSideEffect=!0},this.execute=function(){var yt=O()(a.a.mark(function ft(st,xt,gt){var At,pt,_;return a.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(ht.views=gt,!ht.alreadyInRendering){bt.next=3;break}return bt.abrupt("return");case 3:At=ut(gt);try{for(_=function(){var Ot=pt.value,Pt=Ot.getViewport(),Rt=Pt.width,Vt=Pt.height;ht.alreadyInRendering=!0;var kt=st.getResourceNode(xt.data.output);ht.pickingFBO=ht.resourcePool.getOrCreateResource(kt.resource),ht.pickingFBO.resize({width:Rt,height:Vt}),ht.engine.useFramebuffer(ht.pickingFBO,function(){ht.engine.clear({framebuffer:ht.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var Wt=ht.renderPassFactory(B.a.IDENTIFIER),wt=[],ct=Ot.getScene(),jt=ut(ct.getEntities()),Xt;try{for(jt.s();!(Xt=jt.n()).done;){var It=Xt.value,Ut=ht.mesh.getComponentByEntity(It),$t=Ut.material;$t.setUniform("u_PickingStage",dt.ENCODE),wt.push(Ut)}}catch(Ft){jt.e(Ft)}finally{jt.f()}Wt.renderView(Ot),wt.forEach(function(Ft){var Kt=Ft.material;Kt.setUniform("u_PickingStage",dt.HIGHLIGHT)}),ht.alreadyInRendering=!1})},At.s();!(pt=At.n()).done;)_()}catch(it){At.e(it)}finally{At.f()}case 5:case"end":return bt.stop()}},ft)}));return function(ft,st,xt){return yt.apply(this,arguments)}}(),this.pick=function(yt,ft){var st=yt.x,xt=yt.y,gt=ht.engine,At=gt.readPixels,pt=gt.useFramebuffer,_=ft.getViewport(),$=_.width,bt=_.height,it=st*window.devicePixelRatio,Ot=xt*window.devicePixelRatio;if(!(it>$||it<0||Ot>bt||Ot<0)){var Pt,Rt;return pt(ht.pickingFBO,function(){Pt=At({x:Math.round(it),y:Math.round(bt-(xt+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:ht.pickingFBO}),(Pt[0]!==0||Pt[1]!==0||Pt[2]!==0)&&(Rt=Object(z.a)(Pt),ht.highlightEnabled&&ht.highlightPickedFeature(Pt,ft))}),Rt}}}return b()(Nt,[{key:"enableHighlight",value:function(yt){this.highlightEnabled=yt}},{key:"setHighlightColor",value:function(yt){this.highlightColor=yt}},{key:"highlightPickedFeature",value:function(yt,ft){if(yt){var st=ut(ft.getScene().getEntities()),xt;try{for(st.s();!(xt=st.n()).done;){var gt=xt.value,At=this.mesh.getComponentByEntity(gt),pt=At.material;pt.setUniform("u_PickingStage",dt.HIGHLIGHT),pt.setUniform("u_PickingColor",[yt[0],yt[1],yt[2]]),pt.setUniform("u_HighlightColor",this.highlightColor)}}catch(_){st.e(_)}finally{st.f()}}}}]),Nt}(),nt.IDENTIFIER="PixelPicking Pass",lt),H=C()(q.prototype,"engine",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=C()(q.prototype,"resourcePool",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=C()(q.prototype,"renderPassFactory",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=C()(q.prototype,"mesh",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q))||tt)},aTcL:function(Lt,A,i){"use strict";i.d(A,"b",function(){return b}),i.d(A,"a",function(){return y});var c=i("bsNZ"),a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,M=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,O=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,x=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function D(C,I){var g=C.match(x);Object(c.c)(g,function(R){var U=R.split(":");I.addColorStop(U[0],U[1])})}function E(C,I,g){var R=a.exec(g),U=parseFloat(R[1])%360*(Math.PI/180),W=R[2],z=I.getBBox(),B,L;U>=0&&U<1/2*Math.PI?(B={x:z.minX,y:z.minY},L={x:z.maxX,y:z.maxY}):1/2*Math.PI<=U&&U<Math.PI?(B={x:z.maxX,y:z.minY},L={x:z.minX,y:z.maxY}):Math.PI<=U&&U<3/2*Math.PI?(B={x:z.maxX,y:z.maxY},L={x:z.minX,y:z.minY}):(B={x:z.minX,y:z.maxY},L={x:z.maxX,y:z.minY});var w=Math.tan(U),F=w*w,V=(L.x-B.x+w*(L.y-B.y))/(F+1)+B.x,Y=w*(L.x-B.x+w*(L.y-B.y))/(F+1)+B.y,tt=C.createLinearGradient(B.x,B.y,V,Y);return D(W,tt),tt}function S(C,I,g){var R=M.exec(g),U=parseFloat(R[1]),W=parseFloat(R[2]),z=parseFloat(R[3]),B=R[4];if(z===0){var L=B.match(x);return L[L.length-1].split(":")[1]}var w=I.getBBox(),F=w.maxX-w.minX,V=w.maxY-w.minY,Y=Math.sqrt(F*F+V*V)/2,tt=C.createRadialGradient(w.minX+F*U,w.minY+V*W,0,w.minX+F/2,w.minY+V/2,z*Y);return D(B,tt),tt}function p(C,I,g){if(I.get("patternSource")&&I.get("patternSource")===g)return I.get("pattern");var R,U,W=O.exec(g),z=W[1],B=W[2];function L(){R=C.createPattern(U,z),I.set("pattern",R),I.set("patternSource",g)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return U=new Image,B.match(/^data:/i)||(U.crossOrigin="Anonymous"),U.src=B,U.complete?L():(U.onload=L,U.src=U.src),R}function b(C,I,g){if(Object(c.k)(g)){if(g[1]==="("||g[2]==="("){if(g[0]==="l")return E(C,I,g);if(g[0]==="r")return S(C,I,g);if(g[0]==="p")return p(C,I,g)}return g}}function y(C){var I=0,g=0,R=0,U=0;return Object(c.g)(C)?C.length===1?I=g=R=U=C[0]:C.length===2?(I=R=C[0],g=U=C[1]):C.length===3?(I=C[0],g=U=C[1],R=C[2]):(I=C[0],g=C[1],R=C[2],U=C[3]):I=g=R=U=C,[I,g,R,U]}},aUeW:function(Lt,A,i){var c=i("+2Ae"),a=i("0mwY"),M=i("8+ZV"),O=i("EpgB"),x=i("FolP"),D=[0,0];Lt.exports.computeMiter=function(S,p,b,y,C){return c(S,b,y),M(S,S),a(p,-S[1],S[0]),a(D,-b[1],b[0]),C/x(p,D)},Lt.exports.normal=function(S,p){return a(S,-p[1],p[0]),S},Lt.exports.direction=function(S,p,b){return O(S,p,b),M(S,S),S}},aaCk:function(Lt,A,i){"use strict";i.d(A,"a",function(){return D});var c=i("CMID"),a=i("GgvZ"),M=i("LFY6"),O=i("iWK/"),x=i("q03q"),D=function(E){Object(c.__extends)(S,E);function S(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="process",p}return S.getDefaultOptions=function(){return O.b},S.prototype.changeData=function(p){this.updateOption({percent:p}),this.chart.changeData(Object(x.a)(p))},S.prototype.getDefaultOptions=function(){return S.getDefaultOptions()},S.prototype.getSchemaAdaptor=function(){return M.a},S}(a.b)},aib0:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("Zdy7"),M=i("PHCe"),O=function(x){Object(c.__extends)(D,x);function D(E){return x.call(this,E)||this}return D.prototype._isInBBox=function(E,S){var p=this.getBBox();return p.minX<=E&&p.maxX>=E&&p.minY<=S&&p.maxY>=S},D.prototype.afterAttrsChange=function(E){x.prototype.afterAttrsChange.call(this,E),this.clearCacheBBox()},D.prototype.getBBox=function(){var E=this.cfg.bbox;return E||(E=this.calculateBBox(),this.set("bbox",E)),E},D.prototype.getCanvasBBox=function(){var E=this.cfg.canvasBBox;return E||(E=this.calculateCanvasBBox(),this.set("canvasBBox",E)),E},D.prototype.applyMatrix=function(E){x.prototype.applyMatrix.call(this,E),this.set("canvasBBox",null)},D.prototype.calculateCanvasBBox=function(){var E=this.getBBox(),S=this.getTotalMatrix(),p=E.minX,b=E.minY,y=E.maxX,C=E.maxY;if(S){var I=Object(M.c)(S,[E.minX,E.minY]),g=Object(M.c)(S,[E.maxX,E.minY]),R=Object(M.c)(S,[E.minX,E.maxY]),U=Object(M.c)(S,[E.maxX,E.maxY]);p=Math.min(I[0],g[0],R[0],U[0]),y=Math.max(I[0],g[0],R[0],U[0]),b=Math.min(I[1],g[1],R[1],U[1]),C=Math.max(I[1],g[1],R[1],U[1])}var W=this.attrs;if(W.shadowColor){var z=W.shadowBlur,B=z===void 0?0:z,L=W.shadowOffsetX,w=L===void 0?0:L,F=W.shadowOffsetY,V=F===void 0?0:F,Y=p-B+w,tt=y+B+w,q=b-B+V,H=C+B+V;p=Math.min(p,Y),y=Math.max(y,tt),b=Math.min(b,q),C=Math.max(C,H)}return{x:p,y:b,minX:p,minY:b,maxX:y,maxY:C,width:y-p,height:C-b}},D.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},D.prototype.isClipShape=function(){return this.get("isClipShape")},D.prototype.isInShape=function(E,S){return!1},D.prototype.isOnlyHitBox=function(){return!1},D.prototype.isHit=function(E,S){var p=this.get("startArrowShape"),b=this.get("endArrowShape"),y=[E,S,1];y=this.invertFromMatrix(y);var C=y[0],I=y[1],g=this._isInBBox(C,I);return this.isOnlyHitBox()?g:!!(g&&!this.isClipped(C,I)&&(this.isInShape(C,I)||p&&p.isHit(C,I)||b&&b.isHit(C,I)))},D}(a.a);A.a=O},ajvA:function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("atuu");Lt.exports={run:M,undo:x};function M(D){var E=D.graph().acyclicer==="greedy"?a(D,S(D)):O(D);c.forEach(E,function(p){var b=D.edge(p);D.removeEdge(p),b.forwardName=p.name,b.reversed=!0,D.setEdge(p.w,p.v,b,c.uniqueId("rev"))});function S(p){return function(b){return p.edge(b).weight}}}function O(D){var E=[],S={},p={};function b(y){c.has(p,y)||(p[y]=!0,S[y]=!0,c.forEach(D.outEdges(y),function(C){c.has(S,C.w)?E.push(C):b(C.w)}),delete S[y])}return c.forEach(D.nodes(),b),E}function x(D){c.forEach(D.edges(),function(E){var S=D.edge(E);if(S.reversed){D.removeEdge(E);var p=S.forwardName;delete S.reversed,delete S.forwardName,D.setEdge(E.w,E.v,S,p)}})}},atuu:function(Lt,A,i){var c=i("XSdR"),a=i("43gi").Graph,M=i("8Z6n");Lt.exports=x;var O=c.constant(1);function x(b,y){if(b.nodeCount()<=1)return[];var C=S(b,y||O),I=D(C.graph,C.buckets,C.zeroIdx);return c.flatten(c.map(I,function(g){return b.outEdges(g.v,g.w)}),!0)}function D(b,y,C){for(var I=[],g=y[y.length-1],R=y[0],U;b.nodeCount();){for(;U=R.dequeue();)E(b,y,C,U);for(;U=g.dequeue();)E(b,y,C,U);if(b.nodeCount()){for(var W=y.length-2;W>0;--W)if(U=y[W].dequeue(),U){I=I.concat(E(b,y,C,U,!0));break}}}return I}function E(b,y,C,I,g){var R=g?[]:void 0;return c.forEach(b.inEdges(I.v),function(U){var W=b.edge(U),z=b.node(U.v);g&&R.push({v:U.v,w:U.w}),z.out-=W,p(y,C,z)}),c.forEach(b.outEdges(I.v),function(U){var W=b.edge(U),z=U.w,B=b.node(z);B.in-=W,p(y,C,B)}),b.removeNode(I.v),R}function S(b,y){var C=new a,I=0,g=0;c.forEach(b.nodes(),function(W){C.setNode(W,{v:W,in:0,out:0})}),c.forEach(b.edges(),function(W){var z=C.edge(W.v,W.w)||0,B=y(W),L=z+B;C.setEdge(W.v,W.w,L),g=Math.max(g,C.node(W.v).out+=B),I=Math.max(I,C.node(W.w).in+=B)});var R=c.range(g+I+3).map(function(){return new M}),U=I+1;return c.forEach(C.nodes(),function(W){p(R,U,C.node(W))}),{graph:C,buckets:R,zeroIdx:U}}function p(b,y,C){C.out?C.in?b[C.out-C.in+y].enqueue(C):b[b.length-1].enqueue(C):b[0].enqueue(C)}},ax0x:function(Lt,A,i){var c=i("cA8S"),a=0;function M(O){var x=++a;return c(O)+x}Lt.exports=M},b00Y:function(Lt,A,i){"use strict";i.d(A,"b",function(){return a}),i.d(A,"a",function(){return M});var c=i("8Mtd");function a(O){if(Object(c.isNumber)(O))return[O,O,O,O];if(Object(c.isArray)(O)){var x=O.length;if(x===1)return[O[0],O[0],O[0],O[0]];if(x===2)return[O[0],O[1],O[0],O[1]];if(x===3)return[O[0],O[1],O[2],O[1]];if(x===4)return O}return[0,0,0,0]}function M(O,x,D){x===void 0&&(x="bottom"),D===void 0&&(D=25);var E=a(O),S=[x.startsWith("top")?D:0,x.startsWith("right")?D:0,x.startsWith("bottom")?D:0,x.startsWith("left")?D:0];return[E[0]+S[0],E[1]+S[1],E[2]+S[2],E[3]+S[3]]}},b0U9:function(Lt,A,i){"use strict";i.d(A,"b",function(){return b}),i.d(A,"a",function(){return y});var c=i("CMID"),a=i("dNsf"),M=i("8Mtd"),O=i("YPJE"),x=4,D=0,E=5,S="drilldown-bread-crumb",p={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},b="hierarchy-data-transform-params",y=function(C){Object(c.__extends)(I,C);function I(){var g=C!==null&&C.apply(this,arguments)||this;return g.name="drill-down",g.historyCache=[],g.breadCrumbGroup=null,g.breadCrumbCfg=p,g}return I.prototype.click=function(){var g=Object(M.get)(this.context,["event","data","data"]);if(!g)return!1;this.drill(g),this.drawBreadCrumb()},I.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var g=this.context.view.getCoordinate(),R=this.breadCrumbGroup,U=R.getBBox(),W=this.getButtonCfg().position,z={x:g.start.x,y:g.end.y-(U.height+E*2)};g.isPolar&&(z={x:0,y:0}),W==="bottom-left"&&(z={x:g.start.x,y:g.start.y});var B=a.Util.transform(null,[["t",z.x+D,z.y+U.height+E]]);R.setMatrix(B)}},I.prototype.reset=function(){this.historyCache[0]&&this.back(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},I.prototype.drill=function(g){var R=this.context.view,U=Object(M.get)(R,["interactions","drill-down","cfg","transformData"],function(w){return w}),W=U(Object(c.__assign)({data:g.data},g[b]));R.changeData(W);for(var z=[],B=g;B;){var L=B.data;z.unshift({id:L.name+"_"+B.height+"_"+B.depth,name:L.name,children:U(Object(c.__assign)({data:L},g[b]))}),B=B.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(z)},I.prototype.back=function(g){if(!(!g||g.length<=0)){var R=this.context.view,U=Object(M.last)(g).children;R.changeData(U),g.length>1?(this.historyCache=g,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},I.prototype.getButtonCfg=function(){var g=this.context.view,R=Object(M.get)(g,["interactions","drill-down","cfg","drillDownConfig"]);return Object(O.a)(this.breadCrumbCfg,R==null?void 0:R.breadCrumb,this.cfg)},I.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},I.prototype.drawBreadCrumbGroup=function(){var g=this,R=this.getButtonCfg(),U=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:S});var W=0;U.forEach(function(z,B){var L=g.breadCrumbGroup.addShape({type:"text",id:z.id,name:S+"_"+z.name+"_text",attrs:Object(c.__assign)(Object(c.__assign)({text:B===0&&!Object(M.isNil)(R.rootText)?R.rootText:z.name},R.textStyle),{x:W,y:0})}),w=L.getBBox();if(W+=w.width+x,L.on("click",function(Y){var tt,q=Y.target.get("id");if(q!==((tt=Object(M.last)(U))===null||tt===void 0?void 0:tt.id)){var H=U.slice(0,U.findIndex(function(Q){return Q.id===q})+1);g.back(H)}}),L.on("mouseenter",function(Y){var tt,q=Y.target.get("id");q!==((tt=Object(M.last)(U))===null||tt===void 0?void 0:tt.id)?L.attr(R.activeTextStyle):L.attr({cursor:"default"})}),L.on("mouseleave",function(){L.attr(R.textStyle)}),B<U.length-1){var F=g.breadCrumbGroup.addShape({type:"text",name:R.name+"_"+z.name+"_divider",attrs:Object(c.__assign)(Object(c.__assign)({text:R.dividerText},R.textStyle),{x:W,y:0})}),V=F.getBBox();W+=V.width+x}})},I.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},I.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),C.prototype.destroy.call(this)},I}(a.Action)},"b7/9":function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=i("Jze/"),a=i("s9g+"),M=i("Yz/u"),O=i("dipd");i.d(A,"b",function(){return O.b});var x=i("pIri"),D=i("LpBT");function E(p){var b=p.chart,y=p.options,C=y.data,I=y.color,g=y.lineStyle,R=y.point,U=R==null?void 0:R.state,W=Object(x.a)(C);b.data(W);var z=Object(c.c)({},p,{options:{xField:D.c,yField:D.d,line:{color:I,style:g},point:R}}),B=Object(c.c)({},z,{options:{tooltip:!1,state:U}});return Object(M.d)(z),Object(M.e)(B),b.axis(!1),b.legend(!1),p}function S(p){return Object(c.f)(E,O.b,a.j,a.k,a.a,Object(a.b)())(p)}},bCfE:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ver=A.clear=A.bind=void 0;var c=i("hQli"),a=function(D,E){var S=(0,c.getSensor)(D);return S.bind(E),function(){S.unbind(E)}};A.bind=a;var M=function(D){var E=(0,c.getSensor)(D);(0,c.removeSensor)(E)};A.clear=M;var O="1.0.1";A.ver=O},bQN1:function(Lt,A,i){"use strict";function c(L){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(F){return typeof F}:c=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},c(L)}Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"getAdjMatrix",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(A,"breadthFirstSearch",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(A,"connectedComponent",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(A,"getDegree",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(A,"getInDegree",{enumerable:!0,get:function(){return x.getInDegree}}),Object.defineProperty(A,"getOutDegree",{enumerable:!0,get:function(){return x.getOutDegree}}),Object.defineProperty(A,"detectCycle",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(A,"depthFirstSearch",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(A,"dijkstra",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(A,"findAllPath",{enumerable:!0,get:function(){return p.findAllPath}}),Object.defineProperty(A,"findShortestPath",{enumerable:!0,get:function(){return p.findShortestPath}}),Object.defineProperty(A,"floydWarshall",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(A,"labelPropagation",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(A,"louvain",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(A,"minimumSpanningTree",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(A,"pageRank",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(A,"GADDI",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(A,"getNeighbors",{enumerable:!0,get:function(){return U.getNeighbors}});var a=B(i("g3RE")),M=B(i("DUss")),O=B(i("nrny")),x=z(i("QArz")),D=B(i("M6f7")),E=B(i("Af9/")),S=B(i("Jr4d")),p=i("OeFv"),b=B(i("+/lo")),y=B(i("T3K+")),C=B(i("fC6O")),I=B(i("T8j/")),g=B(i("vA80")),R=B(i("V6jZ")),U=i("Eqze");function W(){if(typeof WeakMap!="function")return null;var L=new WeakMap;return W=function(){return L},L}function z(L){if(L&&L.__esModule)return L;if(L===null||c(L)!=="object"&&typeof L!="function")return{default:L};var w=W();if(w&&w.has(L))return w.get(L);var F={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in L)if(Object.prototype.hasOwnProperty.call(L,Y)){var tt=V?Object.getOwnPropertyDescriptor(L,Y):null;tt&&(tt.get||tt.set)?Object.defineProperty(F,Y,tt):F[Y]=L[Y]}return F.default=L,w&&w.set(L,F),F}function B(L){return L&&L.__esModule?L:{default:L}}},bYNP:function(Lt,A){},"bkR+":function(Lt,A){function i(c){var a=c==null?0:c.length;return a?c[a-1]:void 0}Lt.exports=i},bmBd:function(Lt,A,i){"use strict";i.d(A,"a",function(){return V});var c=i("QJLF"),a=i.n(c),M=i("16OP"),O=i.n(M),x=i("7Nom"),D=i.n(x),E=i("YcyD");function S(Y){var tt=0;switch(Y){case"vec2":case"ivec2":tt=2;break;case"vec3":case"ivec3":tt=3;break;case"vec4":case"ivec4":case"mat2":tt=4;break;case"mat3":tt=9;break;case"mat4":tt=16;break;default:}return tt}var p=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function b(Y){var tt={};return Y=Y.replace(p,function(q,H,Q){var k=Q.split(":"),K=k[0].trim(),nt="";switch(k.length>1&&(nt=k[1].trim()),H){case"bool":nt=nt==="true";break;case"float":case"int":nt=Number(nt);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":nt?nt=nt.replace("[","").replace("]","").split(",").reduce(function(lt,ut){return lt.push(Number(ut.trim())),lt},[]):nt=new Array(S(H)).fill(0);break;default:}return tt[K]=nt,"uniform ".concat(H," ").concat(K,`;
`)}),{content:Y,uniforms:tt}}function y(Y){return Y.filter(function(tt,q,H){return H.indexOf(tt)===q})}var C,I,g;function R(Y,tt){var q=Object.keys(Y);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(Y);tt&&(H=H.filter(function(Q){return Object.getOwnPropertyDescriptor(Y,Q).enumerable})),q.push.apply(q,H)}return q}function U(Y){for(var tt=1;tt<arguments.length;tt++){var q=arguments[tt]!=null?arguments[tt]:{};tt%2?R(Object(q),!0).forEach(function(H){a()(Y,H,q[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(q)):R(Object(q)).forEach(function(H){Object.defineProperty(Y,H,Object.getOwnPropertyDescriptor(q,H))})}return Y}var W=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,z=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,B=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,L=/precision\s+(high|low|medium)p\s+float/,w=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,F=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,V=(C=Object(E.injectable)(),C(I=(g=function(){function Y(){O()(this,Y),this.moduleCache={},this.rawContentCache={}}return D()(Y,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:z,fs:W}),this.registerModule("sdf2d",{vs:"",fs:B})}},{key:"registerModule",value:function(q,H){if(!this.rawContentCache[q]){var Q=H.vs,k=Q===void 0?"":Q,K=H.fs,nt=K===void 0?"":K,lt=H.uniforms,ut=b(k),rt=ut.content,ot=ut.uniforms,dt=b(nt),Mt=dt.content,Nt=dt.uniforms;this.rawContentCache[q]={fs:Mt,uniforms:U(U(U({},ot),Nt),lt),vs:rt}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(q){var H=this;if(this.moduleCache[q])return this.moduleCache[q];var Q=this.rawContentCache[q].vs||"",k=this.rawContentCache[q].fs||"",K=this.processModule(Q,[],"vs"),nt=K.content,lt=K.includeList,ut=this.processModule(k,[],"fs"),rt=ut.content,ot=ut.includeList,dt=rt,Mt=y(lt.concat(ot).concat(q)).reduce(function(Nt,ht){return U(U({},Nt),H.rawContentCache[ht].uniforms)},{});return L.test(rt)||(dt=w+rt),this.moduleCache[q]={fs:dt.trim(),uniforms:Mt,vs:nt.trim()},this.moduleCache[q]}},{key:"processModule",value:function(q,H,Q){var k=this,K=q.replace(F,function(nt,lt){var ut=lt.split(" "),rt=ut[0].replace(/"/g,"");if(H.indexOf(rt)>-1)return"";var ot=k.rawContentCache[rt][Q];H.push(rt);var dt=k.processModule(ot||"",H,Q),Mt=dt.content;return Mt});return{content:K,includeList:H}}}]),Y}(),g))||I)},bsNZ:function(Lt,A,i){"use strict";i.d(A,"d",function(){return a}),i.d(A,"b",function(){return M}),i.d(A,"e",function(){return O}),i.d(A,"f",function(){return x}),i.d(A,"l",function(){return D}),i.d(A,"j",function(){return E});var c=i("8Mtd");i.d(A,"i",function(){return c.isNil}),i.d(A,"k",function(){return c.isString}),i.d(A,"h",function(){return c.isFunction}),i.d(A,"g",function(){return c.isArray}),i.d(A,"c",function(){return c.each}),i.d(A,"o",function(){return c.toRadian}),i.d(A,"m",function(){return c.mod}),i.d(A,"n",function(){return c.requestAnimationFrame}),i.d(A,"a",function(){return c.clearAnimationFrame});function a(){return window?window.devicePixelRatio:1}function M(S,p,b,y){var C=S-b,I=p-y;return Math.sqrt(C*C+I*I)}function O(S,p,b,y,C,I){return C>=S&&C<=S+b&&I>=p&&I<=p+y}function x(S,p){return!(p.minX>S.maxX||p.maxX<S.minX||p.minY>S.maxY||p.maxY<S.minY)}function D(S,p){return!S||!p?S||p:{minX:Math.min(S.minX,p.minX),minY:Math.min(S.minY,p.minY),maxX:Math.max(S.maxX,p.maxX),maxY:Math.max(S.maxY,p.maxY)}}function E(S,p){return S[0]===p[0]&&S[1]===p[1]}},byL5:function(Lt,A,i){"use strict";i.d(A,"a",function(){return U});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("Jze/"),x=i("s9g+"),D=i("mT8n"),E=i("4517");function S(W){var z=W.chart,B=W.options,L=B.data,w=B.type,F=B.xField,V=B.yField,Y=B.colorField,tt=B.sizeField,q=B.sizeRatio,H=B.shape,Q=B.color,k=B.tooltip,K=B.heatmapStyle;z.data(L);var nt="polygon";w==="density"&&(nt="heatmap");var lt=Object(E.a)(k,[F,V,Y]),ut=lt.fields,rt=lt.formatter,ot=1;return(q||q===0)&&(!H&&!tt?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):q<0||q>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):ot=q),Object(D.a)(Object(O.c)({},W,{options:{type:nt,colorField:Y,tooltipFields:ut,shapeField:tt||"",label:void 0,mapping:{tooltip:rt,shape:H&&(tt?function(dt){var Mt=L.map(function(yt){return yt[tt]}),Nt=Math.min.apply(Math,Mt),ht=Math.max.apply(Math,Mt);return[H,(Object(M.get)(dt,tt)-Nt)/(ht-Nt),ot]}:function(){return[H,1,ot]}),color:Q||Y&&z.getTheme().sequenceColors.join("-"),style:K}}})),W}function p(W){var z,B=W.options,L=B.xAxis,w=B.yAxis,F=B.xField,V=B.yField;return Object(O.f)(Object(x.f)((z={},z[F]=L,z[V]=w,z)))(W)}function b(W){var z=W.chart,B=W.options,L=B.xAxis,w=B.yAxis,F=B.xField,V=B.yField;return L===!1?z.axis(F,!1):z.axis(F,L),w===!1?z.axis(V,!1):z.axis(V,w),W}function y(W){var z=W.chart,B=W.options,L=B.label,w=B.colorField,F=B.type,V=Object(O.d)(z,F==="density"?"heatmap":"polygon");if(!L)V.label(!1);else if(w){var Y=L.callback,tt=Object(c.__rest)(L,["callback"]);V.label({fields:[w],callback:Y,cfg:Object(O.y)(tt)})}return W}function C(W){var z=W.chart,B=W.options,L=B.coordinate,w=B.reflect;return L&&z.coordinate({type:L.type||"rect",cfg:L.cfg}),w&&z.coordinate().reflect(w),W}function I(W){return Object(O.f)(x.j,p,C,S,b,x.d,x.k,y,Object(x.b)(),x.c,x.a,x.i)(W)}var g=Object(O.c)({},a.b.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}}),R=i("dNsf");Object(R.registerShape)("polygon","circle",{draw:function(W,z){var B,L,w=W.x,F=W.y,V=this.parsePoints(W.points),Y=Math.abs(V[2].x-V[1].x),tt=Math.abs(V[1].y-V[0].y),q=Math.min(Y,tt)/2,H=Number(W.shape[1]),Q=Number(W.shape[2]),k=Math.sqrt(Q),K=q*k*Math.sqrt(H),nt=((B=W.style)===null||B===void 0?void 0:B.fill)||W.color||((L=W.defaultStyle)===null||L===void 0?void 0:L.fill),lt=z.addShape("circle",{attrs:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({x:w,y:F,r:K},W.defaultStyle),W.style),{fill:nt})});return lt}}),Object(R.registerShape)("polygon","square",{draw:function(W,z){var B,L,w=W.x,F=W.y,V=this.parsePoints(W.points),Y=Math.abs(V[2].x-V[1].x),tt=Math.abs(V[1].y-V[0].y),q=Math.min(Y,tt),H=Number(W.shape[1]),Q=Number(W.shape[2]),k=Math.sqrt(Q),K=q*k*Math.sqrt(H),nt=((B=W.style)===null||B===void 0?void 0:B.fill)||W.color||((L=W.defaultStyle)===null||L===void 0?void 0:L.fill),lt=z.addShape("rect",{attrs:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({x:w-K/2,y:F-K/2,width:K,height:K},W.defaultStyle),W.style),{fill:nt})});return lt}});var U=function(W){Object(c.__extends)(z,W);function z(){var B=W!==null&&W.apply(this,arguments)||this;return B.type="heatmap",B}return z.getDefaultOptions=function(){return g},z.prototype.getSchemaAdaptor=function(){return I},z.prototype.getDefaultOptions=function(){return z.getDefaultOptions()},z}(a.b)},"c+HF":function(Lt,A,i){"use strict";i.d(A,"a",function(){return w});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("s9g+"),x=i("Yz/u"),D=i("Jze/"),E=i("9g8t"),S,p="$$range$$",b="low-q1-median-q3-high",y="$$y_outliers$$",C="outliers_view",I=Object(D.c)({},a.b.getDefaultOptions(),{meta:(S={},S[p]={min:0,alias:b},S),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),g=function(F,V){var Y=F;if(Array.isArray(V)){var tt=V[0],q=V[1],H=V[2],Q=V[3],k=V[4];Y=Object(M.map)(F,function(K){return K[p]=[K[tt],K[q],K[H],K[Q],K[k]],K})}return Y};function R(F){var V=F.chart,Y=F.options,tt=Y.xField,q=Y.yField,H=Y.groupField,Q=Y.color,k=Y.tooltip,K=Y.boxStyle;V.data(g(Y.data,q));var nt=Object(M.isArray)(q)?p:q,lt=q?Object(M.isArray)(q)?q:[q]:[],ut=k;ut!==!1&&(ut=Object(D.c)({},{fields:Object(M.isArray)(q)?q:[]},ut));var rt=Object(x.g)(Object(D.c)({},F,{options:{xField:tt,yField:nt,seriesField:H,tooltip:ut,rawFields:lt,schema:{shape:"box",color:Q,style:K}}})).ext;return H&&rt.geometry.adjust("dodge"),F}function U(F){var V=F.chart,Y=F.options,tt=Y.xField,q=Y.data,H=Y.outliersField,Q=Y.outliersStyle,k=Y.padding;if(!H)return F;var K=V.createView({padding:k,id:C});return K.data(q),Object(x.e)({chart:K,options:{xField:tt,yField:H,point:{shape:"circle",style:Q}}}),K.axis(!1),F}function W(F){var V,Y,tt=F.chart,q=F.options,H=q.meta,Q=q.xAxis,k=q.yAxis,K=q.xField,nt=q.yField,lt=q.outliersField,ut=Array.isArray(nt)?p:nt,rt={};if(lt){var ot=y;rt=(V={},V[lt]={sync:ot,nice:!0},V[ut]={sync:ot,nice:!0},V)}var dt=Object(D.c)(rt,H,(Y={},Y[K]=Object(D.s)(Q,E.a),Y[ut]=Object(D.s)(k,E.a),Y));return tt.scale(dt),F}function z(F){var V=F.chart,Y=F.options,tt=Y.xAxis,q=Y.yAxis,H=Y.xField,Q=Y.yField,k=Array.isArray(Q)?p:Q;return tt===!1?V.axis(H,!1):V.axis(H,tt),q===!1?V.axis(p,!1):V.axis(k,q),F}function B(F){var V=F.chart,Y=F.options,tt=Y.legend,q=Y.groupField;return q?tt?V.legend(q,tt):V.legend(q,{position:"bottom"}):V.legend(!1),F}function L(F){return Object(D.f)(R,U,W,z,B,O.k,O.c,O.a,O.j)(F)}var w=function(F){Object(c.__extends)(V,F);function V(){var Y=F!==null&&F.apply(this,arguments)||this;return Y.type="box",Y}return V.getDefaultOptions=function(){return I},V.prototype.changeData=function(Y){this.updateOption({data:Y});var tt=this.options.yField,q=this.chart.views.find(function(H){return H.id===C});q&&q.data(Y),this.chart.changeData(g(Y,tt))},V.prototype.getDefaultOptions=function(){return V.getDefaultOptions()},V.prototype.getSchemaAdaptor=function(){return L},V}(a.b)},c2a8:function(Lt,A,i){Lt.exports={Graph:i("K0S0"),version:i("1RCG")}},c5gd:function(Lt,A,i){"use strict";i.d(A,"b",function(){return p}),i.d(A,"a",function(){return b});var c=i("q66O"),a=i.n(c),M=i("16OP"),O=i.n(M),x=i("7Nom"),D=i.n(x),E=i("99LQ"),S=i("xO9G"),p;(function(y){y[y.OUTSIDE=4294967295]="OUTSIDE",y[y.INSIDE=0]="INSIDE",y[y.INDETERMINATE=2147483647]="INDETERMINATE"})(p||(p={}));var b=function(){function y(C){if(O()(this,y),this.planes=[],C)this.planes=C;else for(var I=0;I<6;I++)this.planes.push(new S.a)}return D()(y,[{key:"extractFromVPMatrix",value:function(I){var g=a()(I,16),R=g[0],U=g[1],W=g[2],z=g[3],B=g[4],L=g[5],w=g[6],F=g[7],V=g[8],Y=g[9],tt=g[10],q=g[11],H=g[12],Q=g[13],k=g[14],K=g[15];E.e.set(this.planes[0].normal,z-R,F-B,q-V),this.planes[0].distance=-(K-H),E.e.set(this.planes[1].normal,z+R,F+B,q+V),this.planes[1].distance=-(K+H),E.e.set(this.planes[2].normal,z+U,F+L,q+Y),this.planes[2].distance=-(K+Q),E.e.set(this.planes[3].normal,z-U,F-L,q-Y),this.planes[3].distance=-(K-Q),E.e.set(this.planes[4].normal,z-W,F-w,q-tt),this.planes[4].distance=-(K-k),E.e.set(this.planes[5].normal,z+W,F+w,q+tt),this.planes[5].distance=-(K+k),this.planes.forEach(function(nt){nt.normalize(),nt.updatePNVertexFlag()})}}]),y}()},c6sP:function(Lt,A,i){"use strict";i.d(A,"b",function(){return D}),i.d(A,"a",function(){return E});var c=i("CMID"),a=i("8Mtd"),M=i("Jze/");function O(S){var p={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},b=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];Object(a.get)(S,"fill")&&(p.color=S.fill);var y=Object(M.s)(S,b),C=y.shadowColor,I=y.shadowBlur,g=I===void 0?0:I,R=y.shadowOffsetX,U=R===void 0?0:R,W=y.shadowOffsetY,z=W===void 0?0:W;p["text-shadow"]=""+[C,U+"px",z+"px",g+"px"].join(" ");var B=Object(M.s)(S,b),L=B.stroke,w=B.lineWidth,F=w===void 0?0:w;return p["-webkit-text-stroke"]=""+[F+"px",L].join(" "),Object(a.each)(S,function(V,Y){["fontSize"].includes(Y)&&Object(a.isNumber)(V)?p[Object(M.p)(Y)]=V+"px":Y&&!b.includes(Y)&&(p[Object(M.p)(Y)]=""+V)}),p}function x(S,p){S.style["pointer-events"]="none",Object(a.each)(p,function(b,y){y&&b&&(S.style[y]=b)})}var D=function(S,p,b){var y=p.statistic,C=p.plotType,I=y.title,g=y.content;[I,g].forEach(function(R,U){if(!!R){var W="";U===0?W=g?"translate(-50%, -100%)":"translate(-50%, -50%)":W=I?"translate(-50%, 0)":"translate(-50%, -50%)";var z=Object(a.isFunction)(R.style)?R.style(b):R.style;S.annotation().html(Object(c.__assign)({position:["50%","50%"],html:function(B,L){var w=L.getCoordinate(),F=0;if(C==="pie"||C==="ring-progress")F=w.getRadius()*w.innerRadius*2;else if(C==="liquid"){var V=Object(a.get)(L.geometries,[0,"elements",0,"shape"]);if(V){var Y=V.find(function(Q){return Q.get("name")==="wrap"}),tt=Y.getCanvasBBox().width;F=tt}}else F||(F=w.getWidth());x(B,Object(c.__assign)({width:F+"px",transform:W},O(z)));var q=L.getData();if(R.customHtml)return R.customHtml(B,L,b,q);var H=R.content;return R.formatter&&(H=R.formatter(b,q)),H?Object(a.isString)(H)?H:""+H:"<div></div>"},key:(U===0?"top":"bottom")+"-statistic"},Object(M.s)(R,["offsetX","offsetY","rotate","style","formatter"])))}})},E=function(S,p,b){var y=p.statistic,C=y.title,I=y.content;[C,I].forEach(function(g){if(!!g){var R=Object(a.isFunction)(g.style)?g.style(b):g.style;S.annotation().html(Object(c.__assign)({position:["50%","100%"],html:function(U,W){var z=W.getCoordinate(),B=W.views[0].getCoordinate(),L=B.getCenter(),w=B.getRadius(),F=Math.max(Math.sin(B.startAngle),Math.sin(B.endAngle))*w,V=L.y+F-z.y.start-parseFloat(Object(a.get)(R,"fontSize",0)),Y=z.getRadius()*z.innerRadius*2;x(U,Object(c.__assign)({width:Y+"px",transform:"translate(-50%, "+V+"px)"},O(R)));var tt=W.getData();if(g.customHtml)return g.customHtml(U,W,b,tt);var q=g.content;return g.formatter&&(q=g.formatter(b,tt)),q?Object(a.isString)(q)?q:""+q:"<div></div>"}},Object(M.s)(g,["offsetX","offsetY","rotate","style","formatter"])))}})}},cGgO:function(Lt,A,i){var c=i("3sCP"),a=i("5MHJ"),M=i("TIpG"),O=i("BaLd"),x=i("KC/J"),D="[object Map]",E="[object Set]";function S(p){if(p==null)return 0;if(M(p))return O(p)?x(p):p.length;var b=a(p);return b==D||b==E?p.size:c(p).length}Lt.exports=S},"cW+D":function(Lt,A){function i(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}Lt.exports=i,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},ceWr:function(Lt,A,i){"use strict";i.d(A,"a",function(){return E});var c=i("CMID"),a=i("dNsf"),M=i("GgvZ"),O=i("qBCo"),x=i("dRIm"),D=i("8uxG");Object(a.registerShape)("point","gauge-indicator",{draw:function(S,p){var b=S.customInfo,y=b.indicator,C=b.defaultColor,I=y,g=I.pointer,R=I.pin,U=p.addGroup(),W=this.parsePoint({x:0,y:0});return g&&U.addShape("line",{name:"pointer",attrs:Object(c.__assign)({x1:W.x,y1:W.y,x2:S.x,y2:S.y,stroke:C},g.style)}),R&&U.addShape("circle",{name:"pin",attrs:Object(c.__assign)({x:W.x,y:W.y,stroke:C},R.style)}),U}}),Object(a.registerShape)("interval","meter-gauge",{draw:function(S,p){var b=S.customInfo.meter,y=b===void 0?{}:b,C=y.steps,I=C===void 0?50:C,g=y.stepRatio,R=g===void 0?.5:g,U=this.coordinate.endAngle-this.coordinate.startAngle,W=U/I,z=0;R>0&&R<=1&&(W=U/((1-R)/R*(I-1)+I),z=W*(1-R)/R);var B=p.addGroup();if(z>0)for(var L=this.coordinate.getCenter(),w=this.coordinate.getRadius(),F=a.Util.getAngle(S,this.coordinate),V=F.startAngle,Y=F.endAngle,tt=V,q=0;tt<Y&&q<2*I-1;q++){var H=q%2;if(H){var Q=a.Util.getSectorPath(L.x,L.y,w,tt,Math.min(tt+z,Y),w*this.coordinate.innerRadius);B.addShape("path",{name:"meter-gauge-mask",attrs:{path:Q,fill:S.color,stroke:S.color,lineWidth:.5},capture:!1})}tt+=H?z:W}return B}});var E=function(S){Object(c.__extends)(p,S);function p(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="gauge",b}return p.getDefaultOptions=function(){return x.b},p.prototype.changeData=function(b){this.chart.emit(a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:b});var y=this.chart.views.find(function(I){return I.id===x.c});y&&y.data(Object(D.a)(b));var C=this.chart.views.find(function(I){return I.id===x.h});C&&C.data(Object(D.b)(b,this.options.range)),Object(O.b)({chart:this.chart,options:this.options},!0),this.chart.emit(a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},p.prototype.getDefaultOptions=function(){return p.getDefaultOptions()},p.prototype.getSchemaAdaptor=function(){return O.a},p}(M.b)},crRF:function(Lt,A,i){"use strict";i.d(A,"a",function(){return O});var c=i("CMID"),a=i("JTuY"),M=i("uvO5");i.d(A,"b",function(){return a.b});function O(x){var D=x.chart,E=x.options,S=E.xField,p=E.yField,b=E.xAxis,y=E.yAxis,C=E.barStyle,I=E.barWidthRatio,g=E.label,R=E.data,U=E.seriesField,W=E.isStack,z=E.minBarWidth,B=E.maxBarWidth;g&&!g.position&&(g.position="left",g.layout||(g.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var L=E.legend;U?L!==!1&&(L=Object(c.__assign)({position:W?"top-left":"right-top",reversed:!W},L||{})):L=!1,x.options.legend=L;var w=E.tooltip;return U&&w!==!1&&(w=Object(c.__assign)({reversed:!W},w||{})),x.options.tooltip=w,D.coordinate().transpose(),Object(a.a)({chart:D,options:Object(c.__assign)(Object(c.__assign)({},E),{label:g,xField:p,yField:S,xAxis:y,yAxis:b,columnStyle:C,columnWidthRatio:I,minColumnWidth:z,maxColumnWidth:B,columnBackground:E.barBackground,data:Object(M.a)(R)})},!0)}},cvn4:function(Lt,A){function i(c,a,M){switch(M.length){case 0:return c.call(a);case 1:return c.call(a,M[0]);case 2:return c.call(a,M[0],M[1]);case 3:return c.call(a,M[0],M[1],M[2])}return c.apply(a,M)}Lt.exports=i},"d/dq":function(Lt,A,i){"use strict";i.r(A),i.d(A,"create",function(){return a}),i.d(A,"clone",function(){return M}),i.d(A,"fromValues",function(){return O}),i.d(A,"copy",function(){return x}),i.d(A,"set",function(){return D}),i.d(A,"add",function(){return E}),i.d(A,"subtract",function(){return S}),i.d(A,"multiply",function(){return p}),i.d(A,"divide",function(){return b}),i.d(A,"ceil",function(){return y}),i.d(A,"floor",function(){return C}),i.d(A,"min",function(){return I}),i.d(A,"max",function(){return g}),i.d(A,"round",function(){return R}),i.d(A,"scale",function(){return U}),i.d(A,"scaleAndAdd",function(){return W}),i.d(A,"distance",function(){return z}),i.d(A,"squaredDistance",function(){return B}),i.d(A,"length",function(){return L}),i.d(A,"squaredLength",function(){return w}),i.d(A,"negate",function(){return F}),i.d(A,"inverse",function(){return V}),i.d(A,"normalize",function(){return Y}),i.d(A,"dot",function(){return tt}),i.d(A,"cross",function(){return q}),i.d(A,"lerp",function(){return H}),i.d(A,"random",function(){return Q}),i.d(A,"transformMat2",function(){return k}),i.d(A,"transformMat2d",function(){return K}),i.d(A,"transformMat3",function(){return nt}),i.d(A,"transformMat4",function(){return lt}),i.d(A,"rotate",function(){return ut}),i.d(A,"angle",function(){return rt}),i.d(A,"zero",function(){return ot}),i.d(A,"str",function(){return dt}),i.d(A,"exactEquals",function(){return Mt}),i.d(A,"equals",function(){return Nt}),i.d(A,"len",function(){return ht}),i.d(A,"sub",function(){return yt}),i.d(A,"mul",function(){return ft}),i.d(A,"div",function(){return st}),i.d(A,"dist",function(){return xt}),i.d(A,"sqrDist",function(){return gt}),i.d(A,"sqrLen",function(){return At}),i.d(A,"forEach",function(){return pt});var c=i("TaHB");function a(){var _=new c.a(2);return c.a!=Float32Array&&(_[0]=0,_[1]=0),_}function M(_){var $=new c.a(2);return $[0]=_[0],$[1]=_[1],$}function O(_,$){var bt=new c.a(2);return bt[0]=_,bt[1]=$,bt}function x(_,$){return _[0]=$[0],_[1]=$[1],_}function D(_,$,bt){return _[0]=$,_[1]=bt,_}function E(_,$,bt){return _[0]=$[0]+bt[0],_[1]=$[1]+bt[1],_}function S(_,$,bt){return _[0]=$[0]-bt[0],_[1]=$[1]-bt[1],_}function p(_,$,bt){return _[0]=$[0]*bt[0],_[1]=$[1]*bt[1],_}function b(_,$,bt){return _[0]=$[0]/bt[0],_[1]=$[1]/bt[1],_}function y(_,$){return _[0]=Math.ceil($[0]),_[1]=Math.ceil($[1]),_}function C(_,$){return _[0]=Math.floor($[0]),_[1]=Math.floor($[1]),_}function I(_,$,bt){return _[0]=Math.min($[0],bt[0]),_[1]=Math.min($[1],bt[1]),_}function g(_,$,bt){return _[0]=Math.max($[0],bt[0]),_[1]=Math.max($[1],bt[1]),_}function R(_,$){return _[0]=Math.round($[0]),_[1]=Math.round($[1]),_}function U(_,$,bt){return _[0]=$[0]*bt,_[1]=$[1]*bt,_}function W(_,$,bt,it){return _[0]=$[0]+bt[0]*it,_[1]=$[1]+bt[1]*it,_}function z(_,$){var bt=$[0]-_[0],it=$[1]-_[1];return Math.hypot(bt,it)}function B(_,$){var bt=$[0]-_[0],it=$[1]-_[1];return bt*bt+it*it}function L(_){var $=_[0],bt=_[1];return Math.hypot($,bt)}function w(_){var $=_[0],bt=_[1];return $*$+bt*bt}function F(_,$){return _[0]=-$[0],_[1]=-$[1],_}function V(_,$){return _[0]=1/$[0],_[1]=1/$[1],_}function Y(_,$){var bt=$[0],it=$[1],Ot=bt*bt+it*it;return Ot>0&&(Ot=1/Math.sqrt(Ot)),_[0]=$[0]*Ot,_[1]=$[1]*Ot,_}function tt(_,$){return _[0]*$[0]+_[1]*$[1]}function q(_,$,bt){var it=$[0]*bt[1]-$[1]*bt[0];return _[0]=_[1]=0,_[2]=it,_}function H(_,$,bt,it){var Ot=$[0],Pt=$[1];return _[0]=Ot+it*(bt[0]-Ot),_[1]=Pt+it*(bt[1]-Pt),_}function Q(_,$){$=$||1;var bt=c.c()*2*Math.PI;return _[0]=Math.cos(bt)*$,_[1]=Math.sin(bt)*$,_}function k(_,$,bt){var it=$[0],Ot=$[1];return _[0]=bt[0]*it+bt[2]*Ot,_[1]=bt[1]*it+bt[3]*Ot,_}function K(_,$,bt){var it=$[0],Ot=$[1];return _[0]=bt[0]*it+bt[2]*Ot+bt[4],_[1]=bt[1]*it+bt[3]*Ot+bt[5],_}function nt(_,$,bt){var it=$[0],Ot=$[1];return _[0]=bt[0]*it+bt[3]*Ot+bt[6],_[1]=bt[1]*it+bt[4]*Ot+bt[7],_}function lt(_,$,bt){var it=$[0],Ot=$[1];return _[0]=bt[0]*it+bt[4]*Ot+bt[12],_[1]=bt[1]*it+bt[5]*Ot+bt[13],_}function ut(_,$,bt,it){var Ot=$[0]-bt[0],Pt=$[1]-bt[1],Rt=Math.sin(it),Vt=Math.cos(it);return _[0]=Ot*Vt-Pt*Rt+bt[0],_[1]=Ot*Rt+Pt*Vt+bt[1],_}function rt(_,$){var bt=_[0],it=_[1],Ot=$[0],Pt=$[1],Rt=Math.sqrt(bt*bt+it*it)*Math.sqrt(Ot*Ot+Pt*Pt),Vt=Rt&&(bt*Ot+it*Pt)/Rt;return Math.acos(Math.min(Math.max(Vt,-1),1))}function ot(_){return _[0]=0,_[1]=0,_}function dt(_){return"vec2("+_[0]+", "+_[1]+")"}function Mt(_,$){return _[0]===$[0]&&_[1]===$[1]}function Nt(_,$){var bt=_[0],it=_[1],Ot=$[0],Pt=$[1];return Math.abs(bt-Ot)<=c.b*Math.max(1,Math.abs(bt),Math.abs(Ot))&&Math.abs(it-Pt)<=c.b*Math.max(1,Math.abs(it),Math.abs(Pt))}var ht=L,yt=S,ft=p,st=b,xt=z,gt=B,At=w,pt=function(){var _=a();return function($,bt,it,Ot,Pt,Rt){var Vt,kt;for(bt||(bt=2),it||(it=0),Ot?kt=Math.min(Ot*bt+it,$.length):kt=$.length,Vt=it;Vt<kt;Vt+=bt)_[0]=$[Vt],_[1]=$[Vt+1],Pt(_,_,Rt),$[Vt]=_[0],$[Vt+1]=_[1];return $}}()},d7ZW:function(Lt,A){},dAAy:function(Lt,A,i){"use strict";i.d(A,"a",function(){return R});var c=0,a=0,M=0,O=1e3,x,D,E=0,S=0,p=0,b=typeof performance=="object"&&performance.now?performance:Date,y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(w){setTimeout(w,17)};function C(){return S||(y(I),S=b.now()+p)}function I(){S=0}function g(){this._call=this._time=this._next=null}g.prototype=R.prototype={constructor:g,restart:function(w,F,V){if(typeof w!="function")throw new TypeError("callback is not a function");V=(V==null?C():+V)+(F==null?0:+F),!this._next&&D!==this&&(D?D._next=this:x=this,D=this),this._call=w,this._time=V,L()},stop:function(){this._call&&(this._call=null,this._time=Infinity,L())}};function R(w,F,V){var Y=new g;return Y.restart(w,F,V),Y}function U(){C(),++c;for(var w=x,F;w;)(F=S-w._time)>=0&&w._call.call(null,F),w=w._next;--c}function W(){S=(E=b.now())+p,c=a=0;try{U()}finally{c=0,B(),S=0}}function z(){var w=b.now(),F=w-E;F>O&&(p-=F,E=w)}function B(){for(var w,F=x,V,Y=Infinity;F;)F._call?(Y>F._time&&(Y=F._time),w=F,F=F._next):(V=F._next,F._next=null,F=w?w._next=V:x=V);D=w,L(Y)}function L(w){if(!c){a&&(a=clearTimeout(a));var F=w-S;F>24?(w<Infinity&&(a=setTimeout(W,w-b.now()-p)),M&&(M=clearInterval(M))):(M||(E=b.now(),M=setInterval(z,O)),c=1,y(W))}}},dNsf:function(Lt,A,i){"use strict";i.r(A),i.d(A,"VIEW_LIFE_CIRCLE",function(){return E}),i.d(A,"BRUSH_FILTER_EVENTS",function(){return qf}),i.d(A,"VERSION",function(){return Ch}),i.d(A,"Chart",function(){return vf}),i.d(A,"View",function(){return df}),i.d(A,"Event",function(){return Oo}),i.d(A,"ComponentController",function(){return Qo}),i.d(A,"TooltipController",function(){return ks}),i.d(A,"Geometry",function(){return Ls}),i.d(A,"Element",function(){return Eu}),i.d(A,"GeometryLabel",function(){return Jo}),i.d(A,"Interaction",function(){return Sl}),i.d(A,"Action",function(){return ba}),i.d(A,"Facet",function(){return Xa}),i.d(A,"InteractionAction",function(){return ba}),i.d(A,"registerComponentController",function(){return Ho}),i.d(A,"registerGeometry",function(){return cs}),i.d(A,"registerShape",function(){return Ki}),i.d(A,"registerShapeFactory",function(){return Ps}),i.d(A,"getShapeFactory",function(){return Of}),i.d(A,"registerGeometryLabel",function(){return Xl}),i.d(A,"registerGeometryLabelLayout",function(){return uo}),i.d(A,"getGeometryLabel",function(){return yf}),i.d(A,"getGeometryLabelLayout",function(){return mf}),i.d(A,"getInteraction",function(){return fe}),i.d(A,"registerInteraction",function(){return be}),i.d(A,"registerAction",function(){return ri}),i.d(A,"getActionClass",function(){return nl}),i.d(A,"getFacet",function(){return $o}),i.d(A,"registerFacet",function(){return Xo}),i.d(A,"getTheme",function(){return Qn}),i.d(A,"registerTheme",function(){return qn}),i.d(A,"registerEngine",function(){return z}),i.d(A,"getEngine",function(){return W}),i.d(A,"registerAnimation",function(){return Bo}),i.d(A,"getAnimation",function(){return dc}),i.d(A,"LAYER",function(){return M}),i.d(A,"DIRECTION",function(){return O}),i.d(A,"Coordinate",function(){return it}),i.d(A,"Scale",function(){return gt.c}),i.d(A,"Util",function(){return ji});var c=i("CMID"),a=i("8Mtd"),M;(function(h){h.FORE="fore",h.MID="mid",h.BG="bg"})(M||(M={}));var O;(function(h){h.TOP="top",h.TOP_LEFT="top-left",h.TOP_RIGHT="top-right",h.RIGHT="right",h.RIGHT_TOP="right-top",h.RIGHT_BOTTOM="right-bottom",h.LEFT="left",h.LEFT_TOP="left-top",h.LEFT_BOTTOM="left-bottom",h.BOTTOM="bottom",h.BOTTOM_LEFT="bottom-left",h.BOTTOM_RIGHT="bottom-right",h.RADIUS="radius",h.CIRCLE="circle",h.NONE="none"})(O||(O={}));var x;(function(h){h.AXIS="axis",h.GRID="grid",h.LEGEND="legend",h.TOOLTIP="tooltip",h.ANNOTATION="annotation",h.SLIDER="slider",h.SCROLLBAR="scrollbar",h.OTHER="other"})(x||(x={}));var D={FORE:3,MID:2,BG:1},E;(function(h){h.BEFORE_RENDER="beforerender",h.AFTER_RENDER="afterrender",h.BEFORE_PAINT="beforepaint",h.AFTER_PAINT="afterpaint",h.BEFORE_CHANGE_DATA="beforechangedata",h.AFTER_CHANGE_DATA="afterchangedata",h.BEFORE_CLEAR="beforeclear",h.AFTER_CLEAR="afterclear",h.BEFORE_DESTROY="beforedestroy",h.BEFORE_CHANGE_SIZE="beforechangesize",h.AFTER_CHANGE_SIZE="afterchangesize"})(E||(E={}));var S;(function(h){h.BEFORE_DRAW_ANIMATE="beforeanimate",h.AFTER_DRAW_ANIMATE="afteranimate"})(S||(S={}));var p;(function(h){h.MOUSE_ENTER="plot:mouseenter",h.MOUSE_DOWN="plot:mousedown",h.MOUSE_MOVE="plot:mousemove",h.MOUSE_UP="plot:mouseup",h.MOUSE_LEAVE="plot:mouseleave",h.TOUCH_START="plot:touchstart",h.TOUCH_MOVE="plot:touchmove",h.TOUCH_END="plot:touchend",h.TOUCH_CANCEL="plot:touchcancel",h.CLICK="plot:click",h.DBLCLICK="plot:dblclick",h.CONTEXTMENU="plot:contextmenu",h.LEAVE="plot:leave",h.ENTER="plot:enter"})(p||(p={}));var b;(function(h){h.ACTIVE="active",h.INACTIVE="inactive",h.SELECTED="selected",h.DEFAULT="default"})(b||(b={}));var y=["color","shape","size"],C="_origin",I=1,g=1,R=.25,U={};function W(h){var v=U[h];if(!v)throw new Error("G engine '"+h+"' is not exist, please register it at first.");return v}function z(h,v){U[h]=v}var B=i("m8xh");function L(h){var v=getComputedStyle(h);return{width:(h.clientWidth||parseInt(v.width,10))-parseInt(v.paddingLeft,10)-parseInt(v.paddingRight,10),height:(h.clientHeight||parseInt(v.height,10))-parseInt(v.paddingTop,10)-parseInt(v.paddingBottom,10)}}function w(h){return typeof h=="number"&&!isNaN(h)}function F(h,v,s,f){var P=s,N=f;if(v){var Z=L(h);P=Z.width?Z.width:P,N=Z.height?Z.height:N}return{width:Math.max(w(P)?P:I,I),height:Math.max(w(N)?N:g,g)}}function V(h){var v=h.parentNode;v&&v.removeChild(h)}var Y=i("nZiY"),tt=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this)||this;f.destroyed=!1;var P=s.visible,N=P===void 0?!0:P;return f.visible=N,f}return v.prototype.show=function(){var s=this.visible;s||this.changeVisible(!0)},v.prototype.hide=function(){var s=this.visible;s&&this.changeVisible(!1)},v.prototype.destroy=function(){this.off(),this.destroyed=!0},v.prototype.changeVisible=function(s){this.visible!==s&&(this.visible=s)},v}(Y.a),q=tt,H=i("U8wd"),Q=i("Q55c"),k=function(h,v){return Object(a.isString)(v)?v:h.invert(h.scale(v))},K=function(){function h(v){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(v)}return h.prototype.mapping=function(){for(var v=this,s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var P=s.map(function(N,Z){return v._toOriginParam(N,v.scales[Z])});return this.callback.apply(this,P)},h.prototype.getLinearValue=function(v){var s=this.values.length-1,f=Math.floor(s*v),P=s*v-f,N=this.values[f],Z=f===s?N:this.values[f+1];return N+(Z-N)*P},h.prototype.getNames=function(){for(var v=this.scales,s=this.names,f=Math.min(v.length,s.length),P=[],N=0;N<f;N+=1)P.push(s[N]);return P},h.prototype.getFields=function(){return this.scales.map(function(v){return v.field})},h.prototype.getScale=function(v){return this.scales[this.names.indexOf(v)]},h.prototype.defaultCallback=function(){for(var v=this,s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];return s.length===0?this.values:s.map(function(P,N){var Z=v.scales[N];return Z.type==="identity"?Z.values[0]:v._getAttributeValue(Z,P)})},h.prototype._parseCfg=function(v){var s=this,f=v.type,P=f===void 0?"base":f,N=v.names,Z=N===void 0?[]:N,vt=v.scales,Tt=vt===void 0?[]:vt,Gt=v.values,_t=Gt===void 0?[]:Gt,Zt=v.callback;this.type=P,this.scales=Tt,this.values=_t,this.names=Z,this.callback=function(){for(var Jt=[],ie=0;ie<arguments.length;ie++)Jt[ie]=arguments[ie];if(Zt){var le=Zt.apply(void 0,Jt);if(!Object(a.isNil)(le))return[le]}return s.defaultCallback.apply(s,Jt)}},h.prototype._getAttributeValue=function(v,s){if(v.isCategory&&!this.linear){var f=v.translate(s);return this.values[f%this.values.length]}var P=v.scale(s);return this.getLinearValue(P)},h.prototype._toOriginParam=function(v,s){return s.isLinear?v:Object(a.isArray)(v)?v.map(function(f){return k(s,f)}):k(s,v)},h}(),nt=K,lt=i("/WN3"),ut=i("viQC"),rt=function(h){Object(lt.b)(v,h);function v(s){var f=h.call(this,s)||this;return f.type="color",f.names=["color"],Object(a.isString)(f.values)&&(f.linear=!0),f.gradient=ut.a.gradient(f.values),f}return v.prototype.getLinearValue=function(s){return this.gradient(s)},v}(nt),ot=rt,dt=function(h){Object(lt.b)(v,h);function v(s){var f=h.call(this,s)||this;return f.type="opacity",f.names=["opacity"],f}return v}(nt),Mt=dt,Nt=function(h){Object(lt.b)(v,h);function v(s){var f=h.call(this,s)||this;return f.names=["x","y"],f.type="position",f}return v.prototype.mapping=function(s,f){var P=this.scales,N=P[0],Z=P[1];return Object(a.isNil)(s)||Object(a.isNil)(f)?[]:[Object(a.isArray)(s)?s.map(function(vt){return N.scale(vt)}):N.scale(s),Object(a.isArray)(f)?f.map(function(vt){return Z.scale(vt)}):Z.scale(f)]},v}(nt),ht=Nt,yt=function(h){Object(lt.b)(v,h);function v(s){var f=h.call(this,s)||this;return f.type="shape",f.names=["shape"],f}return v.prototype.getLinearValue=function(s){var f=Math.round((this.values.length-1)*s);return this.values[f]},v}(nt),ft=yt,st=function(h){Object(lt.b)(v,h);function v(s){var f=h.call(this,s)||this;return f.type="size",f.names=["size"],f}return v}(nt),xt=st,gt=i("r+uu"),At={},pt=function(h){return At[h.toLowerCase()]},_=function(h,v){if(pt(h))throw new Error("Attribute type '"+h+"' existed.");At[h.toLowerCase()]=v};_("Color",ot),_("Opacity",Mt),_("Position",ht),_("Shape",ft),_("Size",xt);var $=i("sxZn"),bt=function(){function h(v){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var s=v.start,f=v.end,P=v.matrix,N=P===void 0?[1,0,0,0,1,0,0,0,1]:P,Z=v.isTransposed,vt=Z===void 0?!1:Z;this.start=s,this.end=f,this.matrix=N,this.originalMatrix=Object(c.__spreadArray)([],N),this.isTransposed=vt}return h.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},h.prototype.update=function(v){Object(a.assign)(this,v),this.initial()},h.prototype.convertDim=function(v,s){var f,P=this[s],N=P.start,Z=P.end;return this.isReflect(s)&&(f=[Z,N],N=f[0],Z=f[1]),N+v*(Z-N)},h.prototype.invertDim=function(v,s){var f,P=this[s],N=P.start,Z=P.end;return this.isReflect(s)&&(f=[Z,N],N=f[0],Z=f[1]),(v-N)/(Z-N)},h.prototype.applyMatrix=function(v,s,f){f===void 0&&(f=0);var P=this.matrix,N=[v,s,f];return $.d.transformMat3(N,N,P),N},h.prototype.invertMatrix=function(v,s,f){f===void 0&&(f=0);var P=this.matrix,N=$.b.invert([0,0,0,0,0,0,0,0,0],P),Z=[v,s,f];return N&&$.d.transformMat3(Z,Z,N),Z},h.prototype.convert=function(v){var s=this.convertPoint(v),f=s.x,P=s.y,N=this.applyMatrix(f,P,1);return{x:N[0],y:N[1]}},h.prototype.invert=function(v){var s=this.invertMatrix(v.x,v.y,1);return this.invertPoint({x:s[0],y:s[1]})},h.prototype.rotate=function(v){var s=this.matrix,f=this.center;return $.a.leftTranslate(s,s,[-f.x,-f.y]),$.a.leftRotate(s,s,v),$.a.leftTranslate(s,s,[f.x,f.y]),this},h.prototype.reflect=function(v){return v==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},h.prototype.scale=function(v,s){var f=this.matrix,P=this.center;return $.a.leftTranslate(f,f,[-P.x,-P.y]),$.a.leftScale(f,f,[v,s]),$.a.leftTranslate(f,f,[P.x,P.y]),this},h.prototype.translate=function(v,s){var f=this.matrix;return $.a.leftTranslate(f,f,[v,s]),this},h.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},h.prototype.getCenter=function(){return this.center},h.prototype.getWidth=function(){return this.width},h.prototype.getHeight=function(){return this.height},h.prototype.getRadius=function(){return this.radius},h.prototype.isReflect=function(v){return v==="x"?this.isReflectX:this.isReflectY},h.prototype.resetMatrix=function(v){this.matrix=v||Object(c.__spreadArray)([],this.originalMatrix)},h}(),it=bt,Ot=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;return f.isRect=!0,f.type="cartesian",f.initial(),f}return v.prototype.initial=function(){h.prototype.initial.call(this);var s=this.start,f=this.end;this.x={start:s.x,end:f.x},this.y={start:s.y,end:f.y}},v.prototype.convertPoint=function(s){var f,P=s.x,N=s.y;return this.isTransposed&&(f=[N,P],P=f[0],N=f[1]),{x:this.convertDim(P,"x"),y:this.convertDim(N,"y")}},v.prototype.invertPoint=function(s){var f,P=this.invertDim(s.x,"x"),N=this.invertDim(s.y,"y");return this.isTransposed&&(f=[N,P],P=f[0],N=f[1]),{x:P,y:N}},v}(it),Pt=Ot,Rt=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.isHelix=!0,f.type="helix";var P=s.startAngle,N=P===void 0?1.25*Math.PI:P,Z=s.endAngle,vt=Z===void 0?7.25*Math.PI:Z,Tt=s.innerRadius,Gt=Tt===void 0?0:Tt,_t=s.radius;return f.startAngle=N,f.endAngle=vt,f.innerRadius=Gt,f.radius=_t,f.initial(),f}return v.prototype.initial=function(){h.prototype.initial.call(this);var s=(this.endAngle-this.startAngle)/(2*Math.PI)+1,f=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(f=f*this.radius),this.d=Math.floor(f*(1-this.innerRadius)/s),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*f,end:this.innerRadius*f+this.d*.99}},v.prototype.convertPoint=function(s){var f,P=s.x,N=s.y;this.isTransposed&&(f=[N,P],P=f[0],N=f[1]);var Z=this.convertDim(P,"x"),vt=this.a*Z,Tt=this.convertDim(N,"y");return{x:this.center.x+Math.cos(Z)*(vt+Tt),y:this.center.y+Math.sin(Z)*(vt+Tt)}},v.prototype.invertPoint=function(s){var f,P=this.d+this.y.start,N=$.c.subtract([0,0],[s.x,s.y],[this.center.x,this.center.y]),Z=$.a.angleTo(N,[1,0],!0),vt=Z*this.a;$.c.length(N)<vt&&(vt=$.c.length(N));var Tt=Math.floor(($.c.length(N)-vt)/P);Z=2*Tt*Math.PI+Z;var Gt=this.a*Z,_t=$.c.length(N)-Gt;_t=Object(a.isNumberEqual)(_t,0)?0:_t;var Zt=this.invertDim(Z,"x"),Jt=this.invertDim(_t,"y");return Zt=Object(a.isNumberEqual)(Zt,0)?0:Zt,Jt=Object(a.isNumberEqual)(Jt,0)?0:Jt,this.isTransposed&&(f=[Jt,Zt],Zt=f[0],Jt=f[1]),{x:Zt,y:Jt}},v}(it),Vt=Rt,kt=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.isPolar=!0,f.type="polar";var P=s.startAngle,N=P===void 0?-Math.PI/2:P,Z=s.endAngle,vt=Z===void 0?Math.PI*3/2:Z,Tt=s.innerRadius,Gt=Tt===void 0?0:Tt,_t=s.radius;return f.startAngle=N,f.endAngle=vt,f.innerRadius=Gt,f.radius=_t,f.initial(),f}return v.prototype.initial=function(){for(h.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var s=this.getOneBox(),f=s.maxX-s.minX,P=s.maxY-s.minY,N=Math.abs(s.minX)/f,Z=Math.abs(s.minY)/P,vt;this.height/P>this.width/f?(vt=this.width/f,this.circleCenter={x:this.center.x-(.5-N)*this.width,y:this.center.y-(.5-Z)*vt*P}):(vt=this.height/P,this.circleCenter={x:this.center.x-(.5-N)*vt*f,y:this.center.y-(.5-Z)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=vt*this.radius:(this.radius<=0||this.radius>vt)&&(this.polarRadius=vt):this.polarRadius=vt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},v.prototype.getRadius=function(){return this.polarRadius},v.prototype.convertPoint=function(s){var f,P=this.getCenter(),N=s.x,Z=s.y;return this.isTransposed&&(f=[Z,N],N=f[0],Z=f[1]),N=this.convertDim(N,"x"),Z=this.convertDim(Z,"y"),{x:P.x+Math.cos(N)*Z,y:P.y+Math.sin(N)*Z}},v.prototype.invertPoint=function(s){var f,P=this.getCenter(),N=[s.x-P.x,s.y-P.y],Z=this,vt=Z.startAngle,Tt=Z.endAngle;this.isReflect("x")&&(f=[Tt,vt],vt=f[0],Tt=f[1]);var Gt=[1,0,0,0,1,0,0,0,1];$.a.leftRotate(Gt,Gt,vt);var _t=[1,0,0];$.d.transformMat3(_t,_t,Gt);var Zt=[_t[0],_t[1]],Jt=$.a.angleTo(Zt,N,Tt<vt);Object(a.isNumberEqual)(Jt,Math.PI*2)&&(Jt=0);var ie=$.c.length(N),le=Jt/(Tt-vt);le=Tt-vt>0?le:-le;var xe=this.invertDim(ie,"y"),Ze={x:0,y:0};return Ze.x=this.isTransposed?xe:le,Ze.y=this.isTransposed?le:xe,Ze},v.prototype.getCenter=function(){return this.circleCenter},v.prototype.getOneBox=function(){var s=this.startAngle,f=this.endAngle;if(Math.abs(f-s)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var P=[0,Math.cos(s),Math.cos(f)],N=[0,Math.sin(s),Math.sin(f)],Z=Math.min(s,f);Z<Math.max(s,f);Z+=Math.PI/18)P.push(Math.cos(Z)),N.push(Math.sin(Z));return{minX:Math.min.apply(Math,P),maxX:Math.max.apply(Math,P),minY:Math.min.apply(Math,N),maxY:Math.max.apply(Math,N)}},v}(it),Wt=kt,wt={},ct=function(h){return wt[h.toLowerCase()]},jt=function(h,v){wt[h.toLowerCase()]=v};jt("rect",Pt),jt("cartesian",Pt),jt("polar",Wt),jt("helix",Vt);var Xt=i("8Qcm"),It=Xt.Axis.Line,Ut=Xt.Axis.Circle,$t=Xt.Grid.Line,Ft=Xt.Grid.Circle,Kt=Xt.Legend.Category,ee=Xt.Legend.Continuous,ce=Xt.Tooltip.Html;function Se(h){if(Object(a.isEmpty)(h))return null;var v=h[0].x,s=h[0].x,f=h[0].y,P=h[0].y;return Object(a.each)(h,function(N){v=v>N.x?N.x:v,s=s<N.x?N.x:s,f=f>N.y?N.y:f,P=P<N.y?N.y:P}),{minX:v,maxX:s,minY:f,maxY:P,centerX:(v+s)/2,centerY:(f+P)/2}}function Ce(h,v,s,f){return{x:h+s*Math.cos(f),y:v+s*Math.sin(f)}}function Ge(h,v,s,f,P,N){N===void 0&&(N=0);var Z=Ce(h,v,s,f),vt=Ce(h,v,s,P),Tt=Ce(h,v,N,f),Gt=Ce(h,v,N,P);if(P-f==Math.PI*2){var _t=Ce(h,v,s,f+Math.PI),Zt=Ce(h,v,N,f+Math.PI),Jt=[["M",Z.x,Z.y],["A",s,s,0,1,1,_t.x,_t.y],["A",s,s,0,1,1,vt.x,vt.y],["M",Tt.x,Tt.y]];return N&&(Jt.push(["A",N,N,0,1,0,Zt.x,Zt.y]),Jt.push(["A",N,N,0,1,0,Gt.x,Gt.y])),Jt.push(["M",Z.x,Z.y]),Jt.push(["Z"]),Jt}var ie=P-f<=Math.PI?0:1,le=[["M",Z.x,Z.y],["A",s,s,0,ie,1,vt.x,vt.y],["L",Gt.x,Gt.y]];return N&&le.push(["A",N,N,0,ie,0,Tt.x,Tt.y]),le.push(["L",Z.x,Z.y]),le.push(["Z"]),le}function hr(h,v,s,f,P){var N=Ce(h,v,s,f),Z=Ce(h,v,s,P);if(Object(a.isNumberEqual)(P-f,Math.PI*2)){var vt=Ce(h,v,s,f+Math.PI);return[["M",N.x,N.y],["A",s,s,0,1,1,vt.x,vt.y],["A",s,s,0,1,1,N.x,N.y],["A",s,s,0,1,0,vt.x,vt.y],["A",s,s,0,1,0,N.x,N.y],["Z"]]}var Tt=P-f<=Math.PI?0:1;return[["M",N.x,N.y],["A",s,s,0,Tt,1,Z.x,Z.y]]}function dr(h,v){var s=h.points,f=Se(s),P,N,Z=v.startAngle,vt=v.endAngle,Tt=vt-Z;return v.isTransposed?(P=f.maxY*Tt,N=f.minY*Tt):(P=f.maxX*Tt,N=f.minX*Tt),P+=Z,N+=Z,{startAngle:N,endAngle:P}}function ar(h,v){if(Object(a.isNumber)(h)&&Object(a.isNumber)(v))return[h,v];for(var s=-1,f=0,P=0,N,Z=h.length-1,vt,Tt=0;++s<h.length;)N=Z,Z=s,Tt+=vt=h[N]*v[Z]-h[Z]*v[N],f+=(h[N]+h[Z])*vt,P+=(v[N]+v[Z])*vt;return Tt*=3,[f/Tt,P/Tt]}function qe(h,v){var s=h.attr(),f=v.attr();return Object(a.each)(s,function(P,N){f[N]===void 0&&(f[N]=void 0)}),f}function Xe(h,v,s){var f=Math.min(v,s),P=Math.max(v,s);return h>=f&&h<=P}function ur(h,v,s){if(Object(a.isString)(h))return h.padEnd(v,s);if(Object(a.isArray)(h)){var f=h.length;if(f<v)for(var P=v-f,N=0;N<P;N++)h.push(s)}return h}function zr(h,v){return v.forEach(function(s){delete h[s]}),h}function ir(h,v,s){v===void 0&&(v=[]),s===void 0&&(s={});for(var f=0,P=h;f<P.length;f++){var N=P[f];s[N]||(v.push(N),s[N]=!0)}return v}var qr=function(){function h(v,s,f,P){v===void 0&&(v=0),s===void 0&&(s=0),f===void 0&&(f=0),P===void 0&&(P=0),this.x=v,this.y=s,this.height=P,this.width=f}return h.fromRange=function(v,s,f,P){return new h(v,s,f-v,P-s)},h.fromObject=function(v){return new h(v.minX,v.minY,v.width,v.height)},Object.defineProperty(h.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),h.prototype.isEqual=function(v){return this.x===v.x&&this.y===v.y&&this.width===v.width&&this.height===v.height},h.prototype.contains=function(v){return v.minX>=this.minX&&v.maxX<=this.maxX&&v.minY>=this.minY&&v.maxY<=this.maxY},h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height)},h.prototype.add=function(){for(var v=[],s=0;s<arguments.length;s++)v[s]=arguments[s];var f=this.clone();return Object(a.each)(v,function(P){f.x=Math.min(P.x,f.x),f.y=Math.min(P.y,f.y),f.width=Math.max(P.maxX,f.maxX)-f.x,f.height=Math.max(P.maxY,f.maxY)-f.y}),f},h.prototype.merge=function(){for(var v=[],s=0;s<arguments.length;s++)v[s]=arguments[s];var f=this.clone();return Object(a.each)(v,function(P){f.x=Math.max(P.x,f.x),f.y=Math.max(P.y,f.y),f.width=Math.min(P.maxX,f.maxX)-f.x,f.height=Math.min(P.maxY,f.maxY)-f.y}),f},h.prototype.cut=function(v,s){var f=v.width,P=v.height;switch(s){case O.TOP:case O.TOP_LEFT:case O.TOP_RIGHT:return h.fromRange(this.minX,this.minY+P,this.maxX,this.maxY);case O.RIGHT:case O.RIGHT_TOP:case O.RIGHT_BOTTOM:return h.fromRange(this.minX,this.minY,this.maxX-f,this.maxY);case O.BOTTOM:case O.BOTTOM_LEFT:case O.BOTTOM_RIGHT:return h.fromRange(this.minX,this.minY,this.maxX,this.maxY-P);case O.LEFT:case O.LEFT_TOP:case O.LEFT_BOTTOM:return h.fromRange(this.minX+f,this.minY,this.maxX,this.maxY);default:return this}},h.prototype.shrink=function(v){var s=v[0],f=v[1],P=v[2],N=v[3];return new h(this.x+N,this.y+s,this.width-N-f,this.height-s-P)},h.prototype.expand=function(v){var s=v[0],f=v[1],P=v[2],N=v[3];return new h(this.x-N,this.y-s,this.width+N+f,this.height+s+P)},h.prototype.exceed=function(v){return[Math.max(-this.minY+v.minY,0),Math.max(this.maxX-v.maxX,0),Math.max(this.maxY-v.maxY,0),Math.max(-this.minX+v.minX,0)]},h.prototype.collide=function(v){return this.minX<v.maxX&&this.maxX>v.minX&&this.minY<v.maxY&&this.maxY>v.minY},h.prototype.size=function(){return this.width*this.height},h.prototype.isPointIn=function(v){return v.x>=this.minX&&v.x<=this.maxX&&v.y>=this.minY&&v.y<=this.maxY},h}(),Mr=function(h,v){var s=v.start,f=v.end;return new qr(h.x+h.width*s.x,h.y+h.height*s.y,h.width*Math.abs(f.x-s.x),h.height*Math.abs(f.y-s.y))};function Br(h){return[[h.minX,h.minY],[h.maxX,h.minY],[h.maxX,h.maxY],[h.minX,h.maxY]]}function ze(h){if(h.isPolar&&!h.isTransposed)return(h.endAngle-h.startAngle)*h.getRadius();var v=h.convert({x:0,y:0}),s=h.convert({x:1,y:0});return Math.sqrt(Math.pow(s.x-v.x,2)+Math.pow(s.y-v.y,2))}function Or(h){if(h.isPolar){var v=h.startAngle,s=h.endAngle;return s-v==Math.PI*2}return!1}function Nr(h,v){var s=h.getCenter();return Math.sqrt(Math.pow(v.x-s.x,2)+Math.pow(v.y-s.y,2))}function $r(h,v){var s=!1;if(h)if(h.type==="theta"){var f=h.start,P=h.end;s=Xe(v.x,f.x,P.x)&&Xe(v.y,f.y,P.y)}else{var N=h.invert(v);s=Xe(N.x,0,1)&&Xe(N.y,0,1)}return s}function Kr(h,v){var s=h.getCenter();return Math.atan2(v.y-s.y,v.x-s.x)}function Un(h,v){v===void 0&&(v=0);var s=h.start,f=h.end,P=h.getWidth(),N=h.getHeight();if(h.isPolar){var Z=h.startAngle,vt=h.endAngle,Tt=h.getCenter(),Gt=h.getRadius();return{type:"path",startState:{path:Ge(Tt.x,Tt.y,Gt+v,Z,Z)},endState:function(Zt){var Jt=(vt-Z)*Zt+Z,ie=Ge(Tt.x,Tt.y,Gt+v,Z,Jt);return{path:ie}},attrs:{path:Ge(Tt.x,Tt.y,Gt+v,Z,vt)}}}var _t;return h.isTransposed?_t={height:N+v*2}:_t={width:P+v*2},{type:"rect",startState:{x:s.x-v,y:f.y-v,width:h.isTransposed?P+v*2:0,height:h.isTransposed?0:N+v*2},endState:_t,attrs:{x:s.x-v,y:f.y-v,width:P+v*2,height:N+v*2}}}function ti(h,v){v===void 0&&(v=0);var s=h.start,f=h.end,P=h.getWidth(),N=h.getHeight(),Z=Math.min(s.x,f.x),vt=Math.min(s.y,f.y);return qr.fromRange(Z-v,vt-v,Z+P+v,vt+N+v)}var wn=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Bn(h){var v="linear";return wn.test(h)?v="timeCat":Object(a.isString)(h)&&(v="cat"),v}function kn(h,v,s){var f=v||[];if(Object(a.isNumber)(h)||Object(a.isNil)(Object(a.firstValue)(f,h))&&Object(a.isEmpty)(s)){var P=Object(gt.d)("identity");return new P({field:h.toString(),values:[h]})}var N=Object(a.valuesOfKey)(f,h),Z=Object(a.get)(s,"type",Bn(N[0])),vt=Object(gt.d)(Z);return new vt(Object(c.__assign)({field:h,values:N},s))}function ei(h,v){if(h.type!=="identity"&&v.type!=="identity"){var s={};for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(s[f]=v[f]);h.change(s)}}function In(h){return h.alias||h.field}function ai(h,v,s){var f=h.values,P=f.length,N;if(P===1)N=[.5,1];else{var Z=1,vt=0;Or(v)?v.isTransposed?(Z=Object(a.get)(s,"widthRatio.multiplePie",1/1.3),vt=1/P*Z,N=[vt/2,1-vt/2]):N=[0,1-1/P]:(vt=1/P/2,N=[vt,1-vt])}return N}function ga(h){var v=h.values.filter(function(s){return!Object(a.isNil)(s)&&!isNaN(s)});return Math.max.apply(Math,Object(c.__spreadArrays)(v,[Object(a.isNil)(h.max)?-Infinity:h.max]))}function Da(h){var v,s;switch(h){case O.TOP:v={x:0,y:1},s={x:1,y:1};break;case O.RIGHT:v={x:1,y:0},s={x:1,y:1};break;case O.BOTTOM:v={x:0,y:0},s={x:1,y:0};break;case O.LEFT:v={x:0,y:0},s={x:0,y:1};break;default:v=s={x:0,y:0}}return{start:v,end:s}}function Sa(h){var v,s;return h.isTransposed?(v={x:0,y:0},s={x:1,y:0}):(v={x:0,y:0},s={x:0,y:1}),{start:v,end:s}}function Gi(h,v){var s={start:{x:0,y:0},end:{x:0,y:0}};h.isRect?s=Da(v):h.isPolar&&(s=Sa(h));var f=s.start,P=s.end;return{start:h.convert(f),end:h.convert(P)}}function Ma(h,v){if(h.isRect)return h.isTransposed?[O.RIGHT,O.BOTTOM].includes(v)?1:-1:[O.BOTTOM,O.RIGHT].includes(v)?-1:1;if(h.isPolar){var s=h.x.start;return s<0?-1:1}return 1}function Ri(h){var v=h.start,s=h.end;return v.x===s.x}function ca(h,v){var s=h.start,f=h.end,P=Ri(h);return P?(s.y-f.y)*(v.x-s.x)>0?1:-1:(f.x-s.x)*(s.y-v.y)>0?-1:1}function Di(h,v){var s=Object(a.get)(h,["components","axis"],{});return Object(a.deepMix)({},Object(a.get)(s,["common"],{}),Object(a.deepMix)({},Object(a.get)(s,[v],{})))}function Ca(h,v,s){var f=Object(a.get)(h,["components","axis"],{});return Object(a.deepMix)({},Object(a.get)(f,["common","title"],{}),Object(a.deepMix)({},Object(a.get)(f,[v,"title"],{})),s)}function pa(h){var v=h.x,s=h.y,f=h.circleCenter,P=s.start>s.end,N=h.isTransposed?h.convert({x:P?0:1,y:0}):h.convert({x:0,y:P?0:1}),Z=[N.x-f.x,N.y-f.y],vt=[1,0],Tt=N.y>f.y?$.c.angle(Z,vt):$.c.angle(Z,vt)*-1,Gt=Tt+(v.end-v.start),_t=Math.sqrt(Math.pow(N.x-f.x,2)+Math.pow(N.y-f.y,2));return{center:f,radius:_t,startAngle:Tt,endAngle:Gt}}function Wa(h,v){return Object(a.isBoolean)(h)?h===!1?!1:{}:Object(a.get)(h,[v])}function oo(h,v){return Object(a.get)(h,"position",v)}function po(h,v){return Object(a.get)(v,["title","text"],In(h))}var Xa=function(){function h(v,s){this.destroyed=!1,this.facets=[],this.view=v,this.cfg=Object(a.deepMix)({},this.getDefaultCfg(),s)}return h.prototype.init=function(){this.container||(this.container=this.createContainer());var v=this.view.getData();this.facets=this.generateFacets(v)},h.prototype.render=function(){this.renderViews()},h.prototype.update=function(){},h.prototype.clear=function(){this.clearFacetViews()},h.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},h.prototype.facetToView=function(v){var s=v.region,f=v.data,P=v.padding,N=P===void 0?this.cfg.padding:P,Z=this.view.createView({region:s,padding:N});Z.data(f||[]),v.view=Z,this.beforeEachView(Z,v);var vt=this.cfg.eachView;return vt&&vt(Z,v),this.afterEachView(Z,v),Z},h.prototype.createContainer=function(){var v=this.view.getLayer(M.FORE);return v.addGroup()},h.prototype.renderViews=function(){this.createFacetViews()},h.prototype.createFacetViews=function(){var v=this;return this.facets.map(function(s){return v.facetToView(s)})},h.prototype.clearFacetViews=function(){var v=this;Object(a.each)(this.facets,function(s){s.view&&(v.view.removeView(s.view),s.view=void 0)})},h.prototype.getFieldValues=function(v,s){var f=[],P={};return Object(a.each)(v,function(N){var Z=N[s];!Object(a.isNil)(Z)&&!P[Z]&&(f.push(Z),P[Z]=!0)}),f},h.prototype.getRegion=function(v,s,f,P){var N=1/(s===0?1:s),Z=1/(v===0?1:v),vt={x:N*f,y:Z*P},Tt={x:N*(f+1),y:Z*(P+1)};return{start:vt,end:Tt}},h.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},h.prototype.getDefaultTitleCfg=function(){var v=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:v}}},h.prototype.processAxis=function(v,s){var f=v.getOptions(),P=f.coordinate,N=v.geometries,Z=Object(a.get)(P,"type","rect");if(Z==="rect"&&N.length){Object(a.isNil)(f.axes)&&(f.axes={});var vt=f.axes,Tt=N[0].getXYFields(),Gt=Tt[0],_t=Tt[1],Zt=Wa(vt,Gt),Jt=Wa(vt,_t);Zt!==!1&&(f.axes[Gt]=this.getXAxisOption(Gt,vt,Zt,s)),Jt!==!1&&(f.axes[_t]=this.getYAxisOption(_t,vt,Jt,s))}},h.prototype.getFacetDataFilter=function(v){return function(s){return Object(a.every)(v,function(f){var P=f.field,N=f.value;return!Object(a.isNil)(N)&&P?s[P]===N:!0})}},h}(),os={},$o=function(h){return os[Object(a.lowerCase)(h)]},Xo=function(h,v){os[Object(a.lowerCase)(h)]=v},Ol=function(){function h(v,s){this.context=v,this.cfg=s,v.addAction(this)}return h.prototype.applyCfg=function(v){Object(a.assign)(this,v)},h.prototype.init=function(){this.applyCfg(this.cfg)},h.prototype.destroy=function(){this.context.removeAction(this),this.context=null},h}(),ba=Ol,xl=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.execute=function(){this.callback&&this.callback(this.context)},v.prototype.destroy=function(){h.prototype.destroy.call(this),this.callback=null},v}(ba),El=xl,ss={};function ys(h,v){var s=ss[h],f=null;if(s){var P=s.ActionClass,N=s.cfg;f=new P(v,N),f.name=h,f.init()}return f}function nl(h){var v=ss[h];return Object(a.get)(v,"ActionClass")}function ri(h,v,s){ss[h]={ActionClass:v,cfg:s}}function Gl(h){delete ss[h]}function Yo(h,v){var s=new El(v);return s.callback=h,s.name="callback",s}function Us(h,v){var s=[];if(h.length){s.push(["M",h[0].x,h[0].y]);for(var f=1,P=h.length;f<P;f+=1){var N=h[f];s.push(["L",N.x,N.y])}v&&s.push(["Z"])}return s}function Ws(h,v){for(var s=[h[0]],f=1,P=h.length;f<P;f=f+2){var N=v.convert({x:h[f],y:h[f+1]});s.push(N.x,N.y)}return s}function il(h,v){var s=v.isTransposed,f=h[1],P=h[6],N=h[7],Z=v.convert({x:P,y:N}),vt=s?0:1;return["A",f,f,0,0,vt,Z.x,Z.y]}function ls(h,v,s){var f=s.isTransposed,P=s.startAngle,N=s.endAngle,Z=h[0].toLowerCase()==="a"?{x:h[6],y:h[7]}:{x:h[1],y:h[2]},vt={x:v[1],y:v[2]},Tt=[],Gt=f?"y":"x",_t=Math.abs(vt[Gt]-Z[Gt])*(N-P),Zt=vt[Gt]>=Z[Gt]?1:0,Jt=_t>Math.PI?1:0,ie=s.convert(vt),le=Nr(s,ie);if(le>=.5)if(_t===Math.PI*2){var xe={x:(vt.x+Z.x)/2,y:(vt.y+Z.y)/2},Ze=s.convert(xe);Tt.push(["A",le,le,0,Jt,Zt,Ze.x,Ze.y]),Tt.push(["A",le,le,0,Jt,Zt,ie.x,ie.y])}else Tt.push(["A",le,le,0,Jt,Zt,ie.x,ie.y]);return Tt}function ne(h){Object(a.each)(h,function(v,s){var f=v;if(f[0].toLowerCase()==="a"){var P=h[s-1],N=h[s+1];N&&N[0].toLowerCase()==="a"?P&&P[0].toLowerCase()==="l"&&(P[0]="M"):P&&P[0].toLowerCase()==="a"&&N&&N[0].toLowerCase()==="l"&&(N[0]="M")}})}var de=function(h,v,s,f){var P=[],N,Z,vt=!!f,Tt,Gt;if(vt){Tt=[Infinity,Infinity],Gt=[-Infinity,-Infinity];for(var _t=0,Zt=h.length;_t<Zt;_t++){var Jt=h[_t];Tt=$.c.min([0,0],Tt,Jt),Gt=$.c.max([0,0],Gt,Jt)}Tt=$.c.min([0,0],Tt,f[0]),Gt=$.c.max([0,0],Gt,f[1])}for(var _t=0,ie=h.length;_t<ie;_t++){var Jt=h[_t];if(s)N=h[_t?_t-1:ie-1],Z=h[(_t+1)%ie];else if(_t===0||_t===ie-1){P.push(Jt);continue}else N=h[_t-1],Z=h[_t+1];var le=[0,0];le=$.c.sub(le,Z,N),le=$.c.scale(le,le,v);var xe=$.c.distance(Jt,N),Ze=$.c.distance(Jt,Z),He=xe+Ze;He!==0&&(xe/=He,Ze/=He);var yr=$.c.scale([0,0],le,-xe),br=$.c.scale([0,0],le,Ze),tn=$.c.add([0,0],Jt,yr),an=$.c.add([0,0],Jt,br);vt&&(tn=$.c.max([0,0],tn,Tt),tn=$.c.min([0,0],tn,Gt),an=$.c.max([0,0],an,Tt),an=$.c.min([0,0],an,Gt)),P.push(tn),P.push(an)}return s&&P.push(P.shift()),P};function Oe(h,v,s){for(var f=!!v,P=[],N=0,Z=h.length;N<Z;N+=2)P.push([h[N],h[N+1]]);for(var vt=de(P,.4,f,s),Tt=P.length,Gt=[],_t,Zt,Jt,N=0;N<Tt-1;N++)_t=vt[N*2],Zt=vt[N*2+1],Jt=P[N+1],Gt.push(["C",_t[0],_t[1],Zt[0],Zt[1],Jt[0],Jt[1]]);return f&&(_t=vt[Tt],Zt=vt[Tt+1],Jt=P[0],Gt.push(["C",_t[0],_t[1],Zt[0],Zt[1],Jt[0],Jt[1]])),Gt}function Ue(h,v){return Us(h,v)}function Ve(h,v,s){var f=[],P=h[0],N=null;if(h.length<=2)return Ue(h,v);for(var Z=0,vt=h.length;Z<vt;Z++){var Tt=h[Z];(!N||!(N.x===Tt.x&&N.y===Tt.y))&&(f.push(Tt.x),f.push(Tt.y),N=Tt)}var Gt=s||[[0,0],[1,1]],_t=Oe(f,v,Gt);return _t.unshift(["M",P.x,P.y]),_t}function sr(h,v){var s=[];return Object(a.each)(v,function(f){var P=f[0];switch(P.toLowerCase()){case"m":case"l":case"c":s.push(Ws(f,h));break;case"a":s.push(il(f,h));break;case"z":default:s.push(f);break}}),s}function wr(h,v){var s=[],f,P,N,Z;return Object(a.each)(v,function(vt,Tt){var Gt=vt[0];switch(Gt.toLowerCase()){case"m":case"c":case"q":s.push(Ws(vt,h));break;case"l":f=v[Tt-1],P=vt,N=h.isTransposed,Z=N?f[f.length-2]===P[1]:f[f.length-1]===P[2],Z?s=s.concat(ls(f,P,h)):s.push(Ws(vt,h));break;case"a":s.push(il(vt,h));break;case"z":default:s.push(vt);break}}),ne(s),s}var Vr=i("WOt1");function On(h,v){var s=h.event,f=s.target,P=f.getCanvasBBox();return P.width>=v||P.height>=v?P:null}function Wn(h,v){var s=h.event,f=s.target,P=f.getCanvasBBox();return P.width>=v||P.height>=v?f.attr("path"):null}function Nn(h){var v=h.event,s,f=v.target;return f&&(s=f.get("element")),s}function Pi(h){var v=h.event,s=v.target,f;return s&&(f=s.get("delegateObject")),f}function zi(h){var v=h.event.gEvent;return!(v&&v.fromShape&&v.toShape&&v.fromShape.get("element")===v.toShape.get("element"))}function Ia(h){return h&&h.component&&h.component.isList()}function ki(h){return h&&h.component&&h.component.isSlider()}function fa(h){var v=h.event,s=v.target;return s&&s.get("name")==="mask"}function so(h,v){var s=h.event.target;if(s.get("type")==="path"){var f=Wn(h,v);return f?mo(h.view,f):void 0}var P=On(h,v);return P?yo(h.view,P):null}function Co(h,v,s){var f=On(h,s);if(!f)return null;var P=h.view,N=To(P,v,{x:f.x,y:f.y}),Z=To(P,v,{x:f.maxX,y:f.maxY}),vt={minX:N.x,minY:N.y,maxX:Z.x,maxY:Z.y};return yo(v,vt)}function oe(h){var v=h.geometries,s=[];return Object(a.each)(v,function(f){var P=f.elements;s=s.concat(P)}),h.views&&h.views.length&&Object(a.each)(h.views,function(f){s=s.concat(oe(f))}),s}function ms(h,v,s){var f=oe(h);return f.filter(function(P){return ha(P,v)===s})}function lo(h,v){var s=h.geometries,f=[];return Object(a.each)(s,function(P){var N=P.getElementsBy(function(Z){return Z.hasState(v)});f=f.concat(N)}),f}function ha(h,v){var s=h.getModel(),f=s.data,P;return Object(a.isArray)(f)?P=f[0][v]:P=f[v],P}function Za(h,v){return!(v.minX>h.maxX||v.maxX<h.minX||v.minY>h.maxY||v.maxY<h.minY)}function yo(h,v){var s=oe(h),f=[];return Object(a.each)(s,function(P){var N=P.shape,Z=N.getCanvasBBox();Za(v,Z)&&f.push(P)}),f}function ci(h){var v=[];return Object(a.each)(h,function(s){var f=s[0];if(f!=="A")for(var P=1;P<s.length;P=P+2)v.push([s[P],s[P+1]]);else{var N=s.length;v.push([s[N-2],s[N-1]])}}),v}function mo(h,v){var s=oe(h),f=ci(v),P=s.filter(function(N){var Z=N.shape,vt;if(Z.get("type")==="path")vt=ci(Z.attr("path"));else{var Tt=Z.getCanvasBBox();vt=Br(Tt)}return Object(Vr.b)(f,vt)});return P}function Ao(h){return h.getComponents().map(function(v){return v.component})}function us(h,v){var s=v.x-h.x,f=v.y-h.y;return Math.sqrt(s*s+f*f)}function wo(h,v){if(h.length<=2)return Ue(h,!1);var s=h[0],f=[];Object(a.each)(h,function(N){f.push(N.x),f.push(N.y)});var P=Oe(f,v,null);return P.unshift(["M",s.x,s.y]),P}function bs(h,v){return h.x<=v.x&&h.maxX>=v.x&&h.y<=v.y&&h.maxY>v.y}function eo(h){var v=h.parent,s=null;return v&&(s=v.views.filter(function(f){return f!==h})),s}function Os(h,v){var s=h.getCoordinate();return s.invert(v)}function To(h,v,s){var f=Os(h,s);return v.getCoordinate().convert(f)}function La(h,v,s,f){var P=!1;return Object(a.each)(h,function(N){if(N[s]===v[s]&&N[f]===v[f])return P=!0,!1}),P}function ro(h,v){var s=h.getScaleByField(v);return!s&&h.views&&Object(a.each)(h.views,function(f){if(s=ro(f,v),s)return!1}),s}var bo=function(){function h(v){this.actions=[],this.event=null,this.cacheMap={},this.view=v}return h.prototype.cache=function(){for(var v=[],s=0;s<arguments.length;s++)v[s]=arguments[s];if(v.length===1)return this.cacheMap[v[0]];v.length===2&&(this.cacheMap[v[0]]=v[1])},h.prototype.getAction=function(v){return this.actions.find(function(s){return s.name===v})},h.prototype.addAction=function(v){this.actions.push(v)},h.prototype.removeAction=function(v){var s=this.actions,f=this.actions.indexOf(v);f>=0&&s.splice(f,1)},h.prototype.getCurrentPoint=function(){var v=this.event;if(v)if(v.target instanceof HTMLElement){var s=this.view.getCanvas(),f=s.getPointByClient(v.clientX,v.clientY);return f}else return{x:v.x,y:v.y};return null},h.prototype.getCurrentShape=function(){return Object(a.get)(this.event,["gEvent","shape"])},h.prototype.isInPlot=function(){var v=this.getCurrentPoint();return v?this.view.isPointInPlot(v):!1},h.prototype.isInShape=function(v){var s=this.getCurrentShape();return s?s.get("name")===v:!1},h.prototype.isInComponent=function(v){var s=Ao(this.view),f=this.getCurrentPoint();return f?!!s.find(function(P){var N=P.getBBox();return v?P.get("name")===v&&bs(N,f):bs(N,f)}):!1},h.prototype.destroy=function(){this.view=null,this.event=null,Object(a.each)(this.actions.slice(),function(v){v.destroy()}),this.actions=null,this.cacheMap=null},h}(),zs=bo,Ul=function(){function h(v,s){this.view=v,this.cfg=s}return h.prototype.init=function(){this.initEvents()},h.prototype.initEvents=function(){},h.prototype.clearEvents=function(){},h.prototype.destroy=function(){this.clearEvents()},h}(),Sl=Ul;function Ml(h,v,s){var f=h.split(":"),P=f[0],N=v.getAction(P)||ys(P,v);if(!N)throw new Error("There is no action named "+P);var Z=f[1];return{action:N,methodName:Z,arg:s}}function Wl(h){var v=h.action,s=h.methodName,f=h.arg;if(v[s])v[s](f);else throw new Error("Action("+v.name+") doesn't have a method called "+s)}var X={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Et=function(h){Object(c.__extends)(v,h);function v(s,f){var P=h.call(this,s,f)||this;return P.callbackCaches={},P.emitCaches={},P.steps=f,P}return v.prototype.init=function(){this.initContext(),h.prototype.init.call(this)},v.prototype.destroy=function(){h.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},v.prototype.initEvents=function(){var s=this;Object(a.each)(this.steps,function(f,P){Object(a.each)(f,function(N){var Z=s.getActionCallback(P,N);Z&&s.bindEvent(N.trigger,Z)})})},v.prototype.clearEvents=function(){var s=this;Object(a.each)(this.steps,function(f,P){Object(a.each)(f,function(N){var Z=s.getActionCallback(P,N);Z&&s.offEvent(N.trigger,Z)})})},v.prototype.initContext=function(){var s=this.view,f=new zs(s);this.context=f;var P=this.steps;Object(a.each)(P,function(N){Object(a.each)(N,function(Z){if(Object(a.isFunction)(Z.action))Z.actionObject={action:Yo(Z.action,f),methodName:"execute"};else if(Object(a.isString)(Z.action))Z.actionObject=Ml(Z.action,f,Z.arg);else if(Object(a.isArray)(Z.action)){var vt=Z.action,Tt=Object(a.isArray)(Z.arg)?Z.arg:[Z.arg];Z.actionObject=[],Object(a.each)(vt,function(Gt,_t){Z.actionObject.push(Ml(Gt,f,Tt[_t]))})}})})},v.prototype.isAllowStep=function(s){var f=this.currentStepName,P=this.steps;if(f===s||s===X.SHOW_ENABLE)return!0;if(s===X.PROCESSING)return f===X.START;if(s===X.START)return f!==X.PROCESSING;if(s===X.END)return f===X.PROCESSING||f===X.START;if(s===X.ROLLBACK){if(P[X.END])return f===X.END;if(f===X.START)return!0}return!1},v.prototype.isAllowExecute=function(s,f){if(this.isAllowStep(s)){var P=this.getKey(s,f);return f.once&&this.emitCaches[P]?!1:f.isEnable?f.isEnable(this.context):!0}return!1},v.prototype.enterStep=function(s){this.currentStepName=s,this.emitCaches={}},v.prototype.afterExecute=function(s,f){s!==X.SHOW_ENABLE&&this.currentStepName!==s&&this.enterStep(s);var P=this.getKey(s,f);this.emitCaches[P]=!0},v.prototype.getKey=function(s,f){return s+f.trigger+f.action},v.prototype.getActionCallback=function(s,f){var P=this,N=this.context,Z=this.callbackCaches,vt=f.actionObject;if(f.action&&vt){var Tt=this.getKey(s,f);if(!Z[Tt]){var Gt=function(_t){N.event=_t,P.isAllowExecute(s,f)?(Object(a.isArray)(vt)?Object(a.each)(vt,function(Zt){N.event=_t,Wl(Zt)}):(N.event=_t,Wl(vt)),P.afterExecute(s,f),f.callback&&(N.event=_t,f.callback(N))):N.event=null};f.debounce?Z[Tt]=Object(a.debounce)(Gt,f.debounce.wait,f.debounce.immediate):f.throttle?Z[Tt]=Object(a.throttle)(Gt,f.throttle.wait,{leading:f.throttle.leading,trailing:f.throttle.trailing}):Z[Tt]=Gt}return Z[Tt]}return null},v.prototype.bindEvent=function(s,f){var P=s.split(":");P[0]==="window"?window.addEventListener(P[1],f):P[0]==="document"?document.addEventListener(P[1],f):this.view.on(s,f)},v.prototype.offEvent=function(s,f){var P=s.split(":");P[0]==="window"?window.removeEventListener(P[1],f):P[0]==="document"?document.removeEventListener(P[1],f):this.view.off(s,f)},v}(Sl),Qt=Et,re={};function fe(h){return re[Object(a.lowerCase)(h)]}function be(h,v){re[Object(a.lowerCase)(h)]=v}function Ie(h,v,s){var f=fe(h);if(!f)return null;if(Object(a.isPlainObject)(f)){var P=Object(a.mix)(Object(a.clone)(f),s);return new Qt(v,P)}else{var N=f;return new N(v,s)}}function we(h){return{title:{autoRotate:!0,position:"center",spacing:h.axisTitleSpacing,style:{fill:h.axisTitleTextFillColor,fontSize:h.axisTitleTextFontSize,lineHeight:h.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:h.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:h.axisLabelOffset,style:{fill:h.axisLabelFillColor,fontSize:h.axisLabelFontSize,lineHeight:h.axisLabelLineHeight,fontFamily:h.fontFamily}},line:{style:{lineWidth:h.axisLineBorder,stroke:h.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:h.axisGridBorderColor,lineWidth:h.axisGridBorder,lineDash:h.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:h.axisTickLineBorder,stroke:h.axisTickLineBorderColor},alignTick:!0,length:h.axisTickLineLength},subTickLine:null,animate:!0}}function Fe(h){return{title:null,marker:{symbol:"circle",spacing:h.legendMarkerSpacing,style:{r:h.legendCircleMarkerSize,fill:h.legendMarkerColor}},itemName:{spacing:5,style:{fill:h.legendItemNameFillColor,fontFamily:h.fontFamily,fontSize:h.legendItemNameFontSize,lineHeight:h.legendItemNameLineHeight,fontWeight:h.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:h.legendPageNavigatorMarkerSize,inactiveFill:h.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:h.legendPageNavigatorMarkerInactiveFillOpacity,fill:h.legendPageNavigatorMarkerFillColor,opacity:h.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:h.legendPageNavigatorTextFillColor,fontSize:h.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:h.legendItemSpacing,itemMarginBottom:h.legendItemMarginBottom,padding:h.legendPadding}}function $e(h){var v,s={point:{default:{fill:h.pointFillColor,r:h.pointSize,stroke:h.pointBorderColor,lineWidth:h.pointBorder,fillOpacity:h.pointFillOpacity},active:{stroke:h.pointActiveBorderColor,lineWidth:h.pointActiveBorder},selected:{stroke:h.pointSelectedBorderColor,lineWidth:h.pointSelectedBorder},inactive:{fillOpacity:h.pointInactiveFillOpacity,strokeOpacity:h.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:h.hollowPointFillColor,lineWidth:h.hollowPointBorder,stroke:h.hollowPointBorderColor,strokeOpacity:h.hollowPointBorderOpacity,r:h.hollowPointSize},active:{stroke:h.hollowPointActiveBorderColor,strokeOpacity:h.hollowPointActiveBorderOpacity},selected:{lineWidth:h.hollowPointSelectedBorder,stroke:h.hollowPointSelectedBorderColor,strokeOpacity:h.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:h.hollowPointInactiveBorderOpacity}},area:{default:{fill:h.areaFillColor,fillOpacity:h.areaFillOpacity,stroke:null},active:{fillOpacity:h.areaActiveFillOpacity},selected:{fillOpacity:h.areaSelectedFillOpacity},inactive:{fillOpacity:h.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:h.hollowAreaBorderColor,lineWidth:h.hollowAreaBorder,strokeOpacity:h.hollowAreaBorderOpacity},active:{fill:null,lineWidth:h.hollowAreaActiveBorder},selected:{fill:null,lineWidth:h.hollowAreaSelectedBorder},inactive:{strokeOpacity:h.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:h.intervalFillColor,fillOpacity:h.intervalFillOpacity},active:{stroke:h.intervalActiveBorderColor,lineWidth:h.intervalActiveBorder},selected:{stroke:h.intervalSelectedBorderColor,lineWidth:h.intervalSelectedBorder},inactive:{fillOpacity:h.intervalInactiveFillOpacity,strokeOpacity:h.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:h.hollowIntervalFillColor,stroke:h.hollowIntervalBorderColor,lineWidth:h.hollowIntervalBorder,strokeOpacity:h.hollowIntervalBorderOpacity},active:{stroke:h.hollowIntervalActiveBorderColor,lineWidth:h.hollowIntervalActiveBorder,strokeOpacity:h.hollowIntervalActiveBorderOpacity},selected:{stroke:h.hollowIntervalSelectedBorderColor,lineWidth:h.hollowIntervalSelectedBorder,strokeOpacity:h.hollowIntervalSelectedBorderOpacity},inactive:{stroke:h.hollowIntervalInactiveBorderColor,lineWidth:h.hollowIntervalInactiveBorder,strokeOpacity:h.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:h.lineBorderColor,lineWidth:h.lineBorder,strokeOpacity:h.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:h.lineActiveBorder},selected:{lineWidth:h.lineSelectedBorder},inactive:{strokeOpacity:h.lineInactiveBorderOpacity}}},f=we(h),P=Fe(h);return{background:h.backgroundColor,defaultColor:h.brandColor,subColor:h.subColor,semanticRed:h.paletteSemanticRed,semanticGreen:h.paletteSemanticGreen,padding:"auto",fontFamily:h.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:h.paletteQualitative10,colors20:h.paletteQualitative20,sequenceColors:h.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:function(N){var Z=N.geometry.coordinate;if(Z.isPolar&&Z.isTransposed){var vt=dr(N.getModel(),Z),Tt=vt.startAngle,Gt=vt.endAngle,_t=(Tt+Gt)/2,Zt=7.5,Jt=Zt*Math.cos(_t),ie=Zt*Math.sin(_t);return{matrix:$.a.transform(null,[["t",Jt,ie]])}}return s.interval.selected}}},"hollow-rect":{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},line:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},tick:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},funnel:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}},pyramid:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},line:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},dot:{default:{style:Object(c.__assign)(Object(c.__assign)({},s.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(c.__assign)(Object(c.__assign)({},s.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(c.__assign)(Object(c.__assign)({},s.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(c.__assign)(Object(c.__assign)({},s.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(c.__assign)(Object(c.__assign)({},s.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(c.__assign)(Object(c.__assign)({},s.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(c.__assign)(Object(c.__assign)({},s.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(c.__assign)(Object(c.__assign)({},s.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hvh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}},polygon:{polygon:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},point:{circle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},square:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},bowtie:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},diamond:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},hexagon:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},triangle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"triangle-down":{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"hollow-circle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-square":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-bowtie":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-diamond":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-hexagon":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle-down":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},cross:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},tick:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},plus:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},hyphen:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},line:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}}},area:{area:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},smooth:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},line:{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}},"smooth-line":{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}}},schema:{candle:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},box:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}}},edge:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},arc:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}},violin:{violin:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hollow:{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}},"hollow-smooth":{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}}}},components:{axis:{common:f,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(a.deepMix)({},f.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(a.deepMix)({},f.grid,{line:{type:"circle"}})}},legend:{common:P,right:{layout:"vertical",padding:h.legendVerticalPadding},left:{layout:"vertical",padding:h.legendVerticalPadding},top:{layout:"horizontal",padding:h.legendHorizontalPadding},bottom:{layout:"horizontal",padding:h.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:h.sliderRailHeight,defaultLength:h.sliderRailWidth,style:{fill:h.sliderRailFillColor,stroke:h.sliderRailBorderColor,lineWidth:h.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:h.sliderLabelTextFillColor,fontSize:h.sliderLabelTextFontSize,lineHeight:h.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:h.fontFamily}},handler:{size:h.sliderHandlerWidth,style:{fill:h.sliderHandlerFillColor,stroke:h.sliderHandlerBorderColor}},slidable:!0,padding:P.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:h.tooltipCrosshairsBorderColor,lineWidth:h.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(v={},v[""+Xt.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:h.tooltipContainerFillColor,opacity:h.tooltipContainerFillOpacity,boxShadow:h.tooltipContainerShadow,borderRadius:h.tooltipContainerBorderRadius+"px",color:h.tooltipTextFillColor,fontSize:h.tooltipTextFontSize+"px",fontFamily:h.fontFamily,lineHeight:h.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},v[""+Xt.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},v[""+Xt.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},v[""+Xt.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},v[""+Xt.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},v[""+Xt.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},v)},annotation:{arc:{style:{stroke:h.annotationArcBorderColor,lineWidth:h.annotationArcBorder},animate:!0},line:{style:{stroke:h.annotationLineBorderColor,lineDash:h.annotationLineDash,lineWidth:h.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,textAlign:"start",fontFamily:h.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:h.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:h.annotationRegionBorder,stroke:h.annotationRegionBorderColor,fill:h.annotationRegionFillColor,fillOpacity:h.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:h.brandColor,lineWidth:2}},line:{style:{stroke:h.annotationLineBorderColor,lineWidth:h.annotationLineBorder},length:h.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,fontFamily:h.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:h.annotationRegionFillColor,fillOpacity:h.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,fontFamily:h.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:h.cSliderBackgroundFillColor,opacity:h.cSliderBackgroundFillOpacity},foregroundStyle:{fill:h.cSliderForegroundFillColor,opacity:h.cSliderForegroundFillOpacity},handlerStyle:{width:h.cSliderHandlerWidth,height:h.cSliderHandlerHeight,fill:h.cSliderHandlerFillColor,opacity:h.cSliderHandlerFillOpacity,stroke:h.cSliderHandlerBorderColor,lineWidth:h.cSliderHandlerBorder,radius:h.cSliderHandlerBorderRadius,highLightFill:h.cSliderHandlerHighlightFillColor},textStyle:{fill:h.cSliderTextFillColor,opacity:h.cSliderTextFillOpacity,fontSize:h.cSliderTextFontSize,lineHeight:h.cSliderTextLineHeight,fontWeight:h.cSliderTextFontWeight,stroke:h.cSliderTextBorderColor,lineWidth:h.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:h.scrollbarTrackFillColor,thumbColor:h.scrollbarThumbFillColor}},hover:{style:{thumbColor:h.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:h.labelFillColor,fontSize:h.labelFontSize,fontFamily:h.fontFamily,stroke:h.labelBorderColor,lineWidth:h.labelBorder},fillColorDark:h.labelFillColorDark,fillColorLight:h.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:h.innerLabelFillColor,fontSize:h.innerLabelFontSize,fontFamily:h.fontFamily,stroke:h.innerLabelBorderColor,lineWidth:h.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:h.overflowLabelFillColor,fontSize:h.overflowLabelFontSize,fontFamily:h.fontFamily,stroke:h.overflowLabelBorderColor,lineWidth:h.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:h.labelLineBorder}},autoRotate:!0}}}var _e={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ar={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Cr=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Sr=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Zr=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],fn=function(h){h===void 0&&(h={});var v=h.backgroundColor,s=v===void 0?"transparent":v,f=h.subColor,P=f===void 0?"rgba(0,0,0,0.05)":f,N=h.paletteQualitative10,Z=N===void 0?Cr:N,vt=h.paletteQualitative20,Tt=vt===void 0?Sr:vt,Gt=h.paletteSemanticRed,_t=Gt===void 0?"#F4664A":Gt,Zt=h.paletteSemanticGreen,Jt=Zt===void 0?"#30BF78":Zt,ie=h.paletteSemanticYellow,le=ie===void 0?"#FAAD14":ie,xe=h.paletteSequence,Ze=xe===void 0?Zr:xe,He=h.fontFamily,yr=He===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:He,br=h.brandColor,tn=br===void 0?Z[0]:br;return{backgroundColor:s,brandColor:tn,subColor:P,paletteQualitative10:Z,paletteQualitative20:Tt,paletteSemanticRed:_t,paletteSemanticGreen:Jt,paletteSemanticYellow:le,paletteSequence:Ze,fontFamily:yr,axisLineBorderColor:_e[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:_e[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:_e[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:_e[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:_e[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:_e[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:_e[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:tn,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:_e[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:_e[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:_e[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:_e[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:_e[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:_e[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:_e[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:_e[25],annotationArcBorderColor:_e[15],annotationArcBorder:1,annotationLineBorderColor:_e[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:_e[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:_e[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:_e[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:_e[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:_e[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ar[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:_e[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Ar[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:_e[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:tn,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ar[100],pointBorderOpacity:1,pointActiveBorderColor:_e[100],pointSelectedBorder:2,pointSelectedBorderColor:_e[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:tn,hollowPointBorderOpacity:.95,hollowPointFillColor:Ar[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:_e[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:_e[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:tn,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:tn,areaFillOpacity:.25,areaActiveFillColor:tn,areaActiveFillOpacity:.5,areaSelectedFillColor:tn,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:tn,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:_e[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:_e[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:tn,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:_e[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:_e[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:tn,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ar[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:_e[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:_e[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Dr=fn();function Dn(h){var v=h.styleSheet,s=v===void 0?{}:v,f=Object(c.__rest)(h,["styleSheet"]),P=fn(s);return Object(a.deepMix)({},$e(P),f)}var bi=Dn({}),Zn={default:bi};function Qn(h){return Object(a.get)(Zn,Object(a.lowerCase)(h),Zn.default)}function qn(h,v){Zn[Object(a.lowerCase)(h)]=Dn(v)}function ni(h,v,s){var f=s.translate(h),P=s.translate(v);return Object(a.isNumberEqual)(f,P)}function gi(h,v){var s=v.coordinate,f=v.getXScale(),P=f.range,N=P[P.length-1],Z=P[0],vt=s.invert(h),Tt=vt.x;return s.isPolar&&Tt>(1+N)/2&&(Tt=Z),f.translate(f.invert(Tt))}function Xi(h,v,s){var f=s.coordinate,P=s.getYScale(),N=P.field,Z=f.invert(v),vt=P.invert(Z.y),Tt=Object(a.find)(h,function(Gt){var _t=Gt[C];return _t[N][0]<=vt&&_t[N][1]>=vt});return Tt||h[h.length-1]}var ia=Object(a.memoize)(function(h){if(h.isCategory)return 1;for(var v=h.values,s=v.length,f=h.translate(v[0]),P=f,N=0;N<s;N++){var Z=v[N],vt=h.translate(Z);vt<f&&(f=vt),vt>P&&(P=vt)}return(P-f)/(s-1)});function Ii(h,v,s){var f=v.getAttribute("position"),P=f.getFields(),N=v.scales,Z=Object(a.isFunction)(s)||!s?P[0]:s,vt=N[Z],Tt=vt?vt.getText(h[Z]):h[Z]||Z;return Object(a.isFunction)(s)?s(Tt,h):Tt}function aa(h){var v=Object(a.values)(h.attributes);return Object(a.filter)(v,function(s){return Object(a.contains)(y,s.type)})}function Yi(h){for(var v=aa(h),s,f=0,P=v;f<P.length;f++){var N=P[f],Z=N.getScale(N.type);if(Z&&Z.isLinear){s=Z;break}}var vt=h.getXScale(),Tt=h.getYScale();return s||Tt||vt}function Hi(h,v){var s=v.field,f=h[s];if(Object(a.isArray)(f)){var P=f.map(function(N){return v.getText(N)});return P.join("-")}return v.getText(f)}function yi(h,v){var s,f=v.getGroupScales();if(f.length&&(s=f[0]),s){var P=s.field;return s.getText(h[P])}var N=Yi(v);return In(N)}function te(h,v,s){if(v.length===0)return null;var f=s.type,P=s.getXScale(),N=s.getYScale(),Z=P.field,vt=N.field,Tt=null;if(f==="heatmap"||f==="point"){for(var Gt=s.coordinate,_t=Gt.invert(h),Zt=P.invert(_t.x),Jt=N.invert(_t.y),ie=Infinity,le=0;le<v.length;le++){var xe=v[le],Ze=xe[C],He=Math.pow(Ze[Z]-Zt,2)+Math.pow(Ze[vt]-Jt,2);He<ie&&(ie=He,Tt=xe)}return Tt}var yr=v[0],br=v[v.length-1],tn=gi(h,s),an=yr[C][Z],yn=yr[C][vt],li=br[C][Z],Yn=N.isLinear&&Object(a.isArray)(yn);if(Object(a.isArray)(an)){for(var le=0;le<v.length;le++){var Hn=v[le],Ze=Hn[C];if(P.translate(Ze[Z][0])<=tn&&P.translate(Ze[Z][1])>=tn)if(Yn)Object(a.isArray)(Tt)||(Tt=[]),Tt.push(Hn);else{Tt=Hn;break}}Object(a.isArray)(Tt)&&(Tt=Xi(Tt,h,s))}else{var Ti=void 0;if(!P.isLinear&&P.type!=="timeCat"){for(var le=0;le<v.length;le++){var Hn=v[le],Ze=Hn[C];if(ni(Ze[Z],tn,P))if(Yn)Object(a.isArray)(Tt)||(Tt=[]),Tt.push(Hn);else{Tt=Hn;break}else P.translate(Ze[Z])<=tn&&(br=Hn,Ti=v[le+1])}Object(a.isArray)(Tt)&&(Tt=Xi(Tt,h,s))}else{if((tn>P.translate(li)||tn<P.translate(an))&&(tn>P.max||tn<P.min))return null;for(var sa=0,Ji=v.length-1,Bi=void 0;sa<=Ji;){Bi=Math.floor((sa+Ji)/2);var xo=v[Bi][C][Z];if(ni(xo,tn,P))return v[Bi];P.translate(xo)<=P.translate(tn)?(sa=Bi+1,br=v[Bi],Ti=v[Bi+1]):(Ji===0&&(br=v[0]),Ji=Bi-1)}}br&&Ti&&Math.abs(P.translate(br[C][Z])-tn)>Math.abs(P.translate(Ti[C][Z])-tn)&&(br=Ti)}var $n=ia(s.getXScale());return!Tt&&Math.abs(P.translate(br[C][Z])-tn)<=$n/2&&(Tt=br),Tt}function Ae(h,v,s,f){s===void 0&&(s=""),f===void 0&&(f=!1);var P=h[C],N=Ii(P,v,s),Z=v.tooltipOption,vt=v.theme.defaultColor,Tt=[],Gt,_t;function Zt(li,Yn){if(f||!Object(a.isNil)(Yn)&&Yn!==""){var Hn={title:N,data:P,mappingData:h,name:li,value:Yn,color:h.color||vt,marker:!0};Tt.push(Hn)}}if(Object(a.isObject)(Z)){var Jt=Z.fields,ie=Z.callback;if(ie){var le=Jt.map(function(li){return h[C][li]}),xe=ie.apply(void 0,le),Ze=Object(c.__assign)({data:h[C],mappingData:h,title:N,color:h.color||vt,marker:!0},xe);Tt.push(Ze)}else for(var He=v.scales,yr=0,br=Jt;yr<br.length;yr++){var tn=br[yr];if(!Object(a.isNil)(P[tn])){var an=He[tn];Gt=In(an),_t=an.getText(P[tn]),Zt(Gt,_t)}}}else{var yn=Yi(v);_t=Hi(P,yn),Gt=yi(P,v),Zt(Gt,_t)}return Tt}function Ne(h,v,s,f){var P=f.showNil,N=[],Z=h.dataArray;if(!Object(a.isEmpty)(Z)){h.sort(Z);for(var vt=0,Tt=Z;vt<Tt.length;vt++){var Gt=Tt[vt],_t=te(v,Gt,h);if(_t){var Zt=h.getElementId(_t),Jt=h.elementsMap[Zt];if(h.type==="heatmap"||Jt.visible){var ie=Ae(_t,h,s,P);ie.length&&N.push(ie)}}}}return N}function er(h,v,s,f){var P=f.showNil,N=[],Z=h.container,vt=Z.getShape(v.x,v.y);if(vt&&vt.get("visible")&&vt.get("origin")){var Tt=vt.get("origin").mappingData,Gt=Ae(Tt,h,s,P);Gt.length&&N.push(Gt)}return N}function jr(h,v,s){for(var f=[],P=h.geometries,N=s.shared,Z=s.title,vt=s.reversed,Tt=0,Gt=P;Tt<Gt.length;Tt++){var _t=Gt[Tt];if(_t.visible&&_t.tooltipOption!==!1){var Zt=_t.type,Jt=void 0;["point","edge","polygon"].includes(Zt)?Jt=er(_t,v,Z,s):["area","line","path","heatmap"].includes(Zt)||N!==!1?Jt=Ne(_t,v,Z,s):Jt=er(_t,v,Z,s),Jt.length&&(vt&&Jt.reverse(),f.push(Jt))}}return f}function Mn(h,v,s){for(var f=jr(h,v,s),P=0,N=h.views;P<N.length;P++){var Z=N[P];f=f.concat(jr(Z,v,s))}return f}function pi(h){return!Object(a.isNumber)(h)&&!Object(a.isArray)(h)}function qi(h){h===void 0&&(h=0);var v=Object(a.isArray)(h)?h:[h];switch(v.length){case 0:v=[0,0,0,0];break;case 1:v=new Array(4).fill(v[0]);break;case 2:v=Object(c.__spreadArrays)(v,v);break;case 3:v=Object(c.__spreadArrays)(v,[v[1]]);break;default:v=v.slice(0,4);break}return v}var Do={};function Ho(h,v){Do[h]=v}function Ko(h){delete Do[h]}function Vs(){return Object.keys(Do)}function dh(h){return Do[h]}var uc=function(){function h(v){this.option=this.wrapperOption(v)}return h.prototype.update=function(v){return this.option=this.wrapperOption(v),this},h.prototype.hasAction=function(v){var s=this.option.actions;return Object(a.some)(s,function(f){return f[0]===v})},h.prototype.create=function(v,s){var f=this.option,P=f.type,N=f.cfg,Z=P==="theta",vt=Object(c.__assign)({start:v,end:s},N),Tt=ct(Z?"polar":P);return this.coordinate=new Tt(vt),this.coordinate.type=P,Z&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},h.prototype.adjust=function(v,s){return this.coordinate.update({start:v,end:s}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},h.prototype.rotate=function(v){return this.option.actions.push(["rotate",v]),this},h.prototype.reflect=function(v){return this.option.actions.push(["reflect",v]),this},h.prototype.scale=function(v,s){return this.option.actions.push(["scale",v,s]),this},h.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},h.prototype.getOption=function(){return this.option},h.prototype.getCoordinate=function(){return this.coordinate},h.prototype.wrapperOption=function(v){return Object(c.__assign)({type:"rect",actions:[],cfg:{}},v)},h.prototype.execActions=function(v){var s=this,f=this.option.actions;Object(a.each)(f,function(P){var N,Z=P[0],vt=P.slice(1),Tt=Object(a.isNil)(v)?!0:v.includes(Z);Tt&&(N=s.coordinate)[Z].apply(N,vt)})},h}(),zl=uc,cc=function(){function h(v,s,f){this.view=v,this.gEvent=s,this.data=f,this.type=s.type}return h.fromData=function(v,s,f){return new h(v,new H.Event(s,{}),f)},Object.defineProperty(h.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),h.prototype.toString=function(){return"[Event (type="+this.type+")]"},h.prototype.clone=function(){return new h(this.view,this.gEvent,this.data)},h}(),Oo=cc;function fc(h){var v=h.getController("axis"),s=h.getController("legend"),f=h.getController("annotation"),P=h.getController("slider"),N=h.getController("scrollbar");[v,P,N,s,f].forEach(function(Z){Z&&Z.layout()})}var Vl=function(){function h(){this.scales=new Map,this.syncScales=new Map}return h.prototype.createScale=function(v,s,f,P){var N=f,Z=this.getScaleMeta(P);if(s.length===0&&Z){var vt=Z.scale,Tt={type:vt.type};vt.isCategory&&(Tt.values=vt.values),N=Object(a.deepMix)(Tt,Z.scaleDef,f)}var Gt=kn(v,s,N);return this.cacheScale(Gt,f,P),Gt},h.prototype.sync=function(v,s){var f=this;this.syncScales.forEach(function(P,N){var Z=Number.MAX_SAFE_INTEGER,vt=Number.MIN_SAFE_INTEGER,Tt=[];Object(a.each)(P,function(Gt){var _t=f.getScale(Gt);vt=Object(a.isNumber)(_t.max)?Math.max(vt,_t.max):vt,Z=Object(a.isNumber)(_t.min)?Math.min(Z,_t.min):Z,Object(a.each)(_t.values,function(Zt){Tt.includes(Zt)||Tt.push(Zt)})}),Object(a.each)(P,function(Gt){var _t=f.getScale(Gt);if(_t.isContinuous)_t.change({min:Z,max:vt,values:Tt});else if(_t.isCategory){var Zt=_t.range,Jt=f.getScaleMeta(Gt);Tt&&!Object(a.get)(Jt,["scaleDef","range"])&&(Zt=ai(Object(a.deepMix)({},_t,{values:Tt}),v,s)),_t.change({values:Tt,range:Zt})}})})},h.prototype.cacheScale=function(v,s,f){var P=this.getScaleMeta(f);P&&P.scale.type===v.type?(ei(P.scale,v),P.scaleDef=s):(P={key:f,scale:v,scaleDef:s},this.scales.set(f,P));var N=this.getSyncKey(P);if(P.syncKey=N,this.removeFromSyncScales(f),N){var Z=this.syncScales.get(N);Z||(Z=[],this.syncScales.set(N,Z)),Z.push(f)}},h.prototype.getScale=function(v){var s=this.getScaleMeta(v);if(!s){var f=Object(a.last)(v.split("-")),P=this.syncScales.get(f);P&&P.length&&(s=this.getScaleMeta(P[0]))}return s&&s.scale},h.prototype.deleteScale=function(v){var s=this.getScaleMeta(v);if(s){var f=s.syncKey,P=this.syncScales.get(f);if(P&&P.length){var N=P.indexOf(v);N!==-1&&P.splice(N,1)}}this.scales.delete(v)},h.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},h.prototype.removeFromSyncScales=function(v){var s=this;this.syncScales.forEach(function(f,P){var N=f.indexOf(v);if(N!==-1)return f.splice(N,1),f.length===0&&s.syncScales.delete(P),!1})},h.prototype.getSyncKey=function(v){var s=v.scale,f=v.scaleDef,P=s.field,N=Object(a.get)(f,["sync"]);return N===!0?P:N===!1?void 0:N},h.prototype.getScaleMeta=function(v){return this.scales.get(v)},h}(),bu=function(){function h(v,s,f,P){v===void 0&&(v=0),s===void 0&&(s=0),f===void 0&&(f=0),P===void 0&&(P=0),this.top=v,this.right=s,this.bottom=f,this.left=P}return h.instance=function(v,s,f,P){return v===void 0&&(v=0),s===void 0&&(s=0),f===void 0&&(f=0),P===void 0&&(P=0),new h(v,s,f,P)},h.prototype.max=function(v){var s=v[0],f=v[1],P=v[2],N=v[3];return this.top=Math.max(this.top,s),this.right=Math.max(this.right,f),this.bottom=Math.max(this.bottom,P),this.left=Math.max(this.left,N),this},h.prototype.shrink=function(v){var s=v[0],f=v[1],P=v[2],N=v[3];return this.top+=s,this.right+=f,this.bottom+=P,this.left+=N,this},h.prototype.inc=function(v,s){var f=v.width,P=v.height;switch(s){case O.TOP:case O.TOP_LEFT:case O.TOP_RIGHT:this.top+=P;break;case O.RIGHT:case O.RIGHT_TOP:case O.RIGHT_BOTTOM:this.right+=f;break;case O.BOTTOM:case O.BOTTOM_LEFT:case O.BOTTOM_RIGHT:this.bottom+=P;break;case O.LEFT:case O.LEFT_TOP:case O.LEFT_BOTTOM:this.left+=f;break;default:break}return this},h.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},h.prototype.clone=function(){return new(h.bind.apply(h,Object(c.__spreadArrays)([void 0],this.getPadding())))},h}();function vh(h){var v=h.padding;if(!pi(v))return new(bu.bind.apply(bu,Object(c.__spreadArrays)([void 0],qi(v))));var s=h.viewBBox,f=new bu,P=[],N=[],Z=[];return Object(a.each)(h.getComponents(),function(vt){var Tt=vt.type;Tt===x.AXIS?P.push(vt):[x.LEGEND,x.SLIDER,x.SCROLLBAR].includes(Tt)?N.push(vt):Tt!==x.GRID&&Tt!==x.TOOLTIP&&Z.push(vt)}),Object(a.each)(P,function(vt){var Tt=vt.component,Gt=Tt.getLayoutBBox(),_t=new qr(Gt.x,Gt.y,Gt.width,Gt.height),Zt=_t.exceed(s);f.max(Zt)}),Object(a.each)(N,function(vt){var Tt=vt.component,Gt=vt.direction,_t=Tt.getLayoutBBox(),Zt=Tt.get("padding"),Jt=new qr(_t.x,_t.y,_t.width,_t.height).expand(Zt);f.inc(Jt,Gt)}),Object(a.each)(Z,function(vt){var Tt=vt.component,Gt=vt.direction,_t=Tt.getLayoutBBox(),Zt=new qr(_t.x,_t.y,_t.width,_t.height);f.inc(Zt,Gt)}),f}function gh(h,v,s){var f=s.instance();v.forEach(function(P){P.autoPadding=f.max(P.autoPadding.getPadding())})}var hc=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,{visible:s.visible})||this;f.views=[],f.geometries=[],f.controllers=[],f.interactions={},f.limitInPlot=!1,f.options={data:[],animate:!0},f.usedControllers=Vs(),f.scalePool=new Vl,f.layoutFunc=fc,f.isPreMouseInPlot=!1,f.isDataChanged=!1,f.isCoordinateChanged=!1,f.createdScaleKeys=new Map,f.onCanvasEvent=function(br){var tn=br.name;if(!tn.includes(":")){var an=f.createViewEvent(br);f.doPlotEvent(an),f.emit(tn,an)}},f.onDelegateEvents=function(br){var tn=br.name;if(!!tn.includes(":")){var an=f.createViewEvent(br);f.emit(tn,an)}};var P=s.id,N=P===void 0?Object(a.uniqueId)("view"):P,Z=s.parent,vt=s.canvas,Tt=s.backgroundGroup,Gt=s.middleGroup,_t=s.foregroundGroup,Zt=s.region,Jt=Zt===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:Zt,ie=s.padding,le=s.appendPadding,xe=s.theme,Ze=s.options,He=s.limitInPlot,yr=s.syncViewPadding;return f.parent=Z,f.canvas=vt,f.backgroundGroup=Tt,f.middleGroup=Gt,f.foregroundGroup=_t,f.region=Jt,f.padding=ie,f.appendPadding=le,f.options=Object(c.__assign)(Object(c.__assign)({},f.options),Ze),f.limitInPlot=He,f.id=N,f.syncViewPadding=yr,f.themeObject=Object(a.isObject)(xe)?Object(a.deepMix)({},Qn("default"),Dn(xe)):Qn(xe),f.init(),f}return v.prototype.setLayout=function(s){this.layoutFunc=s},v.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},v.prototype.render=function(s,f){s===void 0&&(s=!1),this.emit(E.BEFORE_RENDER,Oo.fromData(this,E.BEFORE_RENDER,f)),this.paint(s),this.emit(E.AFTER_RENDER,Oo.fromData(this,E.AFTER_RENDER,f)),this.visible===!1&&this.changeVisible(!1)},v.prototype.clear=function(){var s=this;this.emit(E.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var f=this.geometries,P=0;P<f.length;P++)f[P].clear(),f[P].container.remove(!0);this.geometries=[];for(var N=this.controllers,P=0;P<N.length;P++)N[P].name==="annotation"?N[P].clear(!0):N[P].clear();this.createdScaleKeys.forEach(function(vt,Tt){s.getRootView().scalePool.deleteScale(Tt)}),this.createdScaleKeys.clear();for(var Z=this.views,P=0;P<Z.length;P++)Z[P].clear();this.emit(E.AFTER_CLEAR)},v.prototype.destroy=function(){this.emit(E.BEFORE_DESTROY);var s=this.interactions;Object(a.each)(s,function(vt){vt&&vt.destroy()}),this.clear();for(var f=this.controllers,P=0,N=f.length;P<N;P++){var Z=f[P];Z.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),h.prototype.destroy.call(this)},v.prototype.changeVisible=function(s){h.prototype.changeVisible.call(this,s);for(var f=this.geometries,P=0,N=f.length;P<N;P++){var Z=f[P];Z.changeVisible(s)}for(var vt=this.controllers,P=0,N=vt.length;P<N;P++){var Tt=vt[P];Tt.changeVisible(s)}return this.foregroundGroup.set("visible",s),this.middleGroup.set("visible",s),this.backgroundGroup.set("visible",s),this.getCanvas().draw(),this},v.prototype.data=function(s){return Object(a.set)(this.options,"data",s),this.isDataChanged=!0,this},v.prototype.source=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(s)},v.prototype.filter=function(s,f){return Object(a.isFunction)(f)?(Object(a.set)(this.options,["filters",s],f),this):(!f&&Object(a.get)(this.options,["filters",s])&&delete this.options.filters[s],this)},v.prototype.axis=function(s,f){return Object(a.isBoolean)(s)?Object(a.set)(this.options,["axes"],s):Object(a.set)(this.options,["axes",s],f),this},v.prototype.legend=function(s,f){return Object(a.isBoolean)(s)?Object(a.set)(this.options,["legends"],s):Object(a.isString)(s)?(Object(a.set)(this.options,["legends",s],f),Object(a.isPlainObject)(f)&&(f==null?void 0:f.selected)&&Object(a.set)(this.options,["filters",s],function(P){var N;return(N=f==null?void 0:f.selected[P])!==null&&N!==void 0?N:!0})):Object(a.set)(this.options,["legends"],s),this},v.prototype.scale=function(s,f){var P=this;return Object(a.isString)(s)?Object(a.set)(this.options,["scales",s],f):Object(a.isObject)(s)&&Object(a.each)(s,function(N,Z){Object(a.set)(P.options,["scales",Z],N)}),this},v.prototype.tooltip=function(s){return Object(a.set)(this.options,"tooltip",s),this},v.prototype.annotation=function(){return this.getController("annotation")},v.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},v.prototype.coordinate=function(s,f){return Object(a.isString)(s)?Object(a.set)(this.options,"coordinate",{type:s,cfg:f}):Object(a.set)(this.options,"coordinate",s),this.coordinateController.update(this.options.coordinate),this.coordinateController},v.prototype.coord=function(s,f){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(s,f)},v.prototype.facet=function(s,f){this.facetInstance&&this.facetInstance.destroy();var P=$o(s);if(!P)throw new Error("facet '"+s+"' is not exist!");return this.facetInstance=new P(this,Object(c.__assign)(Object(c.__assign)({},f),{type:s})),this},v.prototype.animate=function(s){return Object(a.set)(this.options,"animate",s),this},v.prototype.updateOptions=function(s){return this.clear(),Object(a.mix)(this.options,s),this.views.forEach(function(f){return f.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},v.prototype.option=function(s,f){if(v.prototype[s])throw new Error(`Can't use built in variable name "`+s+'", please change another one.');return Object(a.set)(this.options,s,f),this},v.prototype.theme=function(s){return this.themeObject=Object(a.isObject)(s)?Object(a.deepMix)({},this.themeObject,Dn(s)):Qn(s),this},v.prototype.interaction=function(s,f){var P=this.interactions[s];P&&P.destroy();var N=Ie(s,this,f);return N&&(N.init(),this.interactions[s]=N),this},v.prototype.removeInteraction=function(s){var f=this.interactions[s];f&&(f.destroy(),this.interactions[s]=void 0)},v.prototype.changeData=function(s){this.isDataChanged=!0,this.emit(E.BEFORE_CHANGE_DATA,Oo.fromData(this,E.BEFORE_CHANGE_DATA,null)),this.data(s),this.paint(!0);for(var f=this.views,P=0,N=f.length;P<N;P++){var Z=f[P];Z.changeData(s)}this.emit(E.AFTER_CHANGE_DATA,Oo.fromData(this,E.AFTER_CHANGE_DATA,null))},v.prototype.createView=function(s){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var f={data:this.options.data,scales:Object(a.clone)(this.options.scales),axes:Object(a.clone)(this.options.axes),coordinate:Object(a.clone)(this.coordinateController.getOption()),tooltip:Object(a.clone)(this.options.tooltip),legends:Object(a.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},P=new v(Object(c.__assign)(Object(c.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:D.BG}),middleGroup:this.middleGroup.addGroup({zIndex:D.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:D.FORE}),theme:this.themeObject,padding:this.padding},s),{options:Object(c.__assign)(Object(c.__assign)({},f),Object(a.get)(s,"options",{}))}));return this.views.push(P),P},v.prototype.view=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(s)},v.prototype.removeView=function(s){var f=Object(a.remove)(this.views,function(P){return P===s})[0];return f&&f.destroy(),f},v.prototype.getCoordinate=function(){return this.coordinateInstance},v.prototype.getTheme=function(){return this.themeObject},v.prototype.getXScale=function(){var s=this.geometries[0];return s?s.getXScale():null},v.prototype.getYScales=function(){var s={};return this.geometries.map(function(f){var P=f.getYScale(),N=P.field;if(!s[N])return s[N]=!0,P})},v.prototype.getScalesByDim=function(s){for(var f=this.geometries,P={},N=0,Z=f.length;N<Z;N++){var vt=f[N],Tt=s==="x"?vt.getXScale():vt.getYScale();Tt&&!P[Tt.field]&&(P[Tt.field]=Tt)}return P},v.prototype.getScaleByField=function(s,f){var P=f||this.getScaleKey(s);return this.getRootView().scalePool.getScale(P)},v.prototype.getOptions=function(){return this.options},v.prototype.getData=function(){return this.filteredData},v.prototype.getLayer=function(s){return s===M.BG?this.backgroundGroup:s===M.MID?this.middleGroup:s===M.FORE?this.foregroundGroup:this.foregroundGroup},v.prototype.isPointInPlot=function(s){return $r(this.getCoordinate(),s)},v.prototype.getLegendAttributes=function(){return Object(a.flatten)(this.geometries.map(function(s){return s.getGroupAttributes()}))},v.prototype.getGroupScales=function(){var s=this.geometries.map(function(f){return f.getGroupScales()});return ir(Object(a.flatten)(s))},v.prototype.getCanvas=function(){return this.getRootView().canvas},v.prototype.getRootView=function(){for(var s=this;;){if(s.parent){s=s.parent;continue}break}return s},v.prototype.getXY=function(s){var f=this.getCoordinate(),P=this.getScalesByDim("x"),N=this.getScalesByDim("y"),Z,vt;if(Object(a.each)(s,function(Tt,Gt){P[Gt]&&(Z=P[Gt].scale(Tt)),N[Gt]&&(vt=N[Gt].scale(Tt))}),!Object(a.isNil)(Z)&&!Object(a.isNil)(vt))return f.convert({x:Z,y:vt})},v.prototype.getController=function(s){return Object(a.find)(this.controllers,function(f){return f.name===s})},v.prototype.showTooltip=function(s){var f=this.getController("tooltip");return f&&f.showTooltip(s),this},v.prototype.hideTooltip=function(){var s=this.getController("tooltip");return s&&s.hideTooltip(),this},v.prototype.lockTooltip=function(){var s=this.getController("tooltip");return s&&s.lockTooltip(),this},v.prototype.unlockTooltip=function(){var s=this.getController("tooltip");return s&&s.unlockTooltip(),this},v.prototype.isTooltipLocked=function(){var s=this.getController("tooltip");return s&&s.isTooltipLocked()},v.prototype.getTooltipItems=function(s){var f=this.getController("tooltip");return f?f.getTooltipItems(s):[]},v.prototype.getSnapRecords=function(s){for(var f=this.geometries,P=[],N=0,Z=f.length;N<Z;N++){var vt=f[N],Tt=vt.dataArray;vt.sort(Tt);for(var Gt=void 0,_t=0,Zt=Tt.length;_t<Zt;_t++){var Jt=Tt[_t];Gt=te(s,Jt,vt),Gt&&P.push(Gt)}}for(var ie=this.views,N=0,Z=ie.length;N<Z;N++){var le=ie[N],xe=le.getSnapRecords(s);P=P.concat(xe)}return P},v.prototype.getComponents=function(){for(var s=[],f=this.controllers,P=0,N=f.length;P<N;P++){var Z=f[P];s=s.concat(Z.getComponents())}return s},v.prototype.filterData=function(s){var f=this.options.filters;return Object(a.size)(f)===0?s:Object(a.filter)(s,function(P,N){var Z=Object.keys(f);return Z.every(function(vt){var Tt=f[vt];return Tt(P[vt],P,N)})})},v.prototype.filterFieldData=function(s,f){var P=this.options.filters,N=Object(a.get)(P,s);return Object(a.isUndefined)(N)?f:f.filter(function(Z,vt){return N(Z[s],Z,vt)})},v.prototype.adjustCoordinate=function(){var s=this.getCoordinate(),f=s.start,P=s.end,N=this.coordinateBBox.bl,Z=this.coordinateBBox.tr;if(Object(a.isEqual)(f,N)&&Object(a.isEqual)(P,Z)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(N,Z)},v.prototype.paint=function(s){this.renderDataRecursive(s),this.syncScale(),this.emit(E.BEFORE_PAINT),this.renderPaddingRecursive(s),this.renderLayoutRecursive(s),this.renderBackgroundStyleShape(),this.renderPaintRecursive(s),this.emit(E.AFTER_PAINT),this.isDataChanged=!1},v.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var s=Object(a.get)(this.themeObject,"background");if(s){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var f=this.viewBBox,P=f.x,N=f.y,Z=f.width,vt=f.height;this.backgroundStyleRectShape.attr({fill:s,x:P,y:N,width:Z,height:vt})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},v.prototype.renderPaddingRecursive=function(s){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(s),this.autoPadding=vh(this).shrink(qi(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var f=this.views,P=0,N=f.length;P<N;P++){var Z=f[P];Z.renderPaddingRecursive(s)}},v.prototype.renderLayoutRecursive=function(s){var f=this.syncViewPadding===!0?gh:Object(a.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;f&&(f(this,this.views,bu),this.views.forEach(function(Tt){Tt.coordinateBBox=Tt.viewBBox.shrink(Tt.autoPadding.getPadding()),Tt.adjustCoordinate()})),this.doLayout();for(var P=this.views,N=0,Z=P.length;N<Z;N++){var vt=P[N];vt.renderLayoutRecursive(s)}},v.prototype.renderPaintRecursive=function(s){var f=this.middleGroup;if(this.limitInPlot){var P=Un(this.coordinateInstance),N=P.type,Z=P.attrs;f.setClip({type:N,attrs:Z})}else f.setClip(void 0);this.paintGeometries(s),this.renderComponents(s);for(var vt=this.views,Tt=0,Gt=vt.length;Tt<Gt;Tt++){var _t=vt[Tt];_t.renderPaintRecursive(s)}},v.prototype.createScale=function(s,f,P,N){var Z=Object(a.get)(this.options.scales,[s]),vt=Object(c.__assign)(Object(c.__assign)({},Z),P);return this.parent?this.parent.createScale(s,f,vt,N):this.scalePool.createScale(s,f,vt,N)},v.prototype.renderDataRecursive=function(s){this.doFilterData(),this.createCoordinate(),this.initGeometries(s),this.renderFacet(s);for(var f=this.views,P=0,N=f.length;P<N;P++){var Z=f[P];Z.renderDataRecursive(s)}},v.prototype.calculateViewBBox=function(){var s,f,P,N;if(this.parent){var Z=this.parent.coordinateBBox;s=Z.x,f=Z.y,P=Z.width,N=Z.height}else s=0,f=0,P=this.canvas.get("width"),N=this.canvas.get("height");var vt=this.region,Tt=vt.start,Gt=vt.end,_t=new qr(s+P*Tt.x,f+N*Tt.y,P*(Gt.x-Tt.x),N*(Gt.y-Tt.y));(!this.viewBBox||!this.viewBBox.isEqual(_t))&&(this.viewBBox=new qr(s+P*Tt.x,f+N*Tt.y,P*(Gt.x-Tt.x),N*(Gt.y-Tt.y))),this.coordinateBBox=this.viewBBox},v.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},v.prototype.initComponentController=function(){for(var s=this.usedControllers,f=0,P=s.length;f<P;f++){var N=s[f],Z=dh(N);Z&&this.controllers.push(new Z(this))}},v.prototype.createViewEvent=function(s){var f=s.shape,P=s.name,N=f?f.get("origin"):null,Z=new Oo(this,s,N);return Z.type=P,Z},v.prototype.doPlotEvent=function(s){var f=s.type,P=s.x,N=s.y,Z={x:P,y:N},vt=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(vt.includes(f)){var Tt=this.isPointInPlot(Z),Gt=s.clone();if(Tt){var _t="plot:"+f;Gt.type=_t,this.emit(_t,Gt),(f==="mouseleave"||f==="touchend")&&(this.isPreMouseInPlot=!1)}f==="mousemove"||f==="touchmove"?(this.isPreMouseInPlot&&!Tt?(f==="mousemove"&&(Gt.type=p.MOUSE_LEAVE,this.emit(p.MOUSE_LEAVE,Gt)),Gt.type=p.LEAVE,this.emit(p.LEAVE,Gt)):!this.isPreMouseInPlot&&Tt&&(f==="mousemove"&&(Gt.type=p.MOUSE_ENTER,this.emit(p.MOUSE_ENTER,Gt)),Gt.type=p.ENTER,this.emit(p.ENTER,Gt)),this.isPreMouseInPlot=Tt):(f==="mouseleave"||f==="touchend")&&this.isPreMouseInPlot&&(f==="mouseleave"&&(Gt.type=p.MOUSE_LEAVE,this.emit(p.MOUSE_LEAVE,Gt)),Gt.type=p.LEAVE,this.emit(p.LEAVE,Gt),this.isPreMouseInPlot=!1)}},v.prototype.doFilterData=function(){var s=this.options.data;this.filteredData=this.filterData(s)},v.prototype.initGeometries=function(s){this.createOrUpdateScales();for(var f=this.getCoordinate(),P=Object(a.get)(this.options,"scales",{}),N=this.geometries,Z=0,vt=N.length;Z<vt;Z++){var Tt=N[Z];Tt.scales=this.getGeometryScales();var Gt={coordinate:f,scaleDefs:P,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};s?Tt.update(Gt):Tt.init(Gt)}this.adjustScales()},v.prototype.createOrUpdateScales=function(){for(var s=this.getScaleFields(),f=this.getGroupedFields(),P=this.getOptions(),N=P.data,Z=P.scales,vt=Z===void 0?{}:Z,Tt=this.filteredData,Gt=0,_t=s.length;Gt<_t;Gt++){var Zt=s[Gt],Jt=vt[Zt],ie=this.getScaleKey(Zt);this.createScale(Zt,f.includes(Zt)?N:Tt,Jt,ie),this.createdScaleKeys.set(ie,!0)}},v.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},v.prototype.getGeometryScales=function(){for(var s=this.getScaleFields(),f={},P=0;P<s.length;P++){var N=s[P];f[N]=this.getScaleByField(N)}return f},v.prototype.getScaleFields=function(){for(var s=[],f={},P=this.geometries,N=0;N<P.length;N++){var Z=P[N],vt=Z.getScaleFields();ir(vt,s,f)}return s},v.prototype.getGroupedFields=function(){for(var s=[],f={},P=this.geometries,N=0;N<P.length;N++){var Z=P[N],vt=Z.getGroupFields();ir(vt,s,f)}return s},v.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},v.prototype.adjustCategoryScaleRange=function(){var s=this,f=Object(c.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(Z){return!!Z}),P=this.getCoordinate(),N=this.options.scales;Object(a.each)(f,function(Z){var vt=Z.field,Tt=Z.values,Gt=Z.isCategory,_t=Z.isIdentity;(Gt||_t)&&Tt&&!Object(a.get)(N,[vt,"range"])&&(Z.range=ai(Z,P,s.theme))})},v.prototype.initComponents=function(s){for(var f=this.controllers,P=0;P<f.length;P++){var N=f[P];s?N.update():(N.clear(),N.render())}},v.prototype.doLayout=function(){this.layoutFunc(this)},v.prototype.createCoordinate=function(){var s=this.coordinateBBox.bl,f=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(s,f)},v.prototype.paintGeometries=function(s){for(var f=this.options.animate,P=this.getCoordinate(),N={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},Z=this.geometries,vt=0;vt<Z.length;vt++){var Tt=Z[vt];Tt.coordinate=P,Tt.canvasRegion=N,f||Tt.animate(!1),Tt.paint(s)}},v.prototype.renderComponents=function(s){for(var f=0;f<this.getComponents().length;f++){var P=this.getComponents()[f];P.component.render()}},v.prototype.renderFacet=function(s){this.facetInstance&&(s?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},v.prototype.initOptions=function(){var s=this,f=this.options,P=f.geometries,N=P===void 0?[]:P,Z=f.interactions,vt=Z===void 0?[]:Z,Tt=f.views,Gt=Tt===void 0?[]:Tt,_t=f.annotations,Zt=_t===void 0?[]:_t,Jt=f.coordinate,ie=f.events,le=f.facets;this.coordinateController?Jt&&this.coordinateController.update(Jt):this.coordinateController=new zl(Jt);for(var xe=0;xe<N.length;xe++){var Ze=N[xe];this.createGeometry(Ze)}for(var He=0;He<vt.length;He++){var yr=vt[He],br=yr.type,tn=yr.cfg;this.interaction(br,tn)}for(var an=0;an<Gt.length;an++){var yn=Gt[an];this.createView(yn)}for(var li=this.getController("annotation"),Yn=0;Yn<Zt.length;Yn++){var Hn=Zt[Yn];li.annotation(Hn)}ie&&Object(a.each)(ie,function(Ti,sa){s.on(sa,Ti)}),le&&Object(a.each)(le,function(Ti){var sa=Ti.type,Ji=Object(c.__rest)(Ti,["type"]);s.facet(sa,Ji)})},v.prototype.createGeometry=function(s){var f=s.type,P=s.cfg,N=P===void 0?{}:P;if(this[f]){var Z=this[f](N);Object(a.each)(s,function(vt,Tt){Object(a.isFunction)(Z[Tt])&&Z[Tt](vt)})}},v.prototype.getScaleKey=function(s){return this.id+"-"+s},v}(q);function cs(h,v){hc.prototype[h.toLowerCase()]=function(s){s===void 0&&(s={});var f=Object(c.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},s),P=new v(f);return this.geometries.push(P),P}}var df=hc,Ou=function(h){Object(c.__extends)(v,h);function v(s){var f=this,P=s.container,N=s.width,Z=s.height,vt=s.autoFit,Tt=vt===void 0?!1:vt,Gt=s.padding,_t=s.appendPadding,Zt=s.renderer,Jt=Zt===void 0?"canvas":Zt,ie=s.pixelRatio,le=s.localRefresh,xe=le===void 0?!0:le,Ze=s.visible,He=Ze===void 0?!0:Ze,yr=s.supportCSSTransform,br=yr===void 0?!1:yr,tn=s.defaultInteractions,an=tn===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:tn,yn=s.options,li=s.limitInPlot,Yn=s.theme,Hn=s.syncViewPadding,Ti=Object(a.isString)(P)?document.getElementById(P):P,sa=Object(B.b)('<div style="position:relative;"></div>');Ti.appendChild(sa);var Ji=F(Ti,Tt,N,Z),Bi=W(Jt),xo=new Bi.Canvas(Object(c.__assign)({container:sa,pixelRatio:ie,localRefresh:xe,supportCSSTransform:br},Ji));return f=h.call(this,{parent:null,canvas:xo,backgroundGroup:xo.addGroup({zIndex:D.BG}),middleGroup:xo.addGroup({zIndex:D.MID}),foregroundGroup:xo.addGroup({zIndex:D.FORE}),padding:Gt,appendPadding:_t,visible:He,options:yn,limitInPlot:li,theme:Yn,syncViewPadding:Hn})||this,f.onResize=Object(a.debounce)(function(){f.forceFit()},300),f.ele=Ti,f.canvas=xo,f.width=Ji.width,f.height=Ji.height,f.autoFit=Tt,f.localRefresh=xe,f.renderer=Jt,f.wrapperElement=sa,f.updateCanvasStyle(),f.bindAutoFit(),f.initDefaultInteractions(an),f}return v.prototype.initDefaultInteractions=function(s){var f=this;Object(a.each)(s,function(P){f.interaction(P)})},v.prototype.changeSize=function(s,f){return this.width===s&&this.height===f?this:(this.emit(E.BEFORE_CHANGE_SIZE),this.width=s,this.height=f,this.canvas.changeSize(s,f),this.render(!0),this.emit(E.AFTER_CHANGE_SIZE),this)},v.prototype.destroy=function(){h.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),V(this.wrapperElement),this.wrapperElement=null},v.prototype.changeVisible=function(s){return h.prototype.changeVisible.call(this,s),this.wrapperElement.style.display=s?"":"none",this},v.prototype.forceFit=function(){if(!this.destroyed){var s=F(this.ele,!0,this.width,this.height),f=s.width,P=s.height;this.changeSize(f,P)}},v.prototype.updateCanvasStyle=function(){Object(B.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},v.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},v.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},v}(df),vf=Ou,Qo=function(){function h(v){this.visible=!0,this.components=[],this.view=v}return h.prototype.clear=function(v){Object(a.each)(this.components,function(s){s.component.destroy()}),this.components=[]},h.prototype.destroy=function(){this.clear()},h.prototype.getComponents=function(){return this.components},h.prototype.changeVisible=function(v){this.visible!==v&&(this.components.forEach(function(s){v?s.component.show():s.component.hide()}),this.visible=v)},h}();function gf(h){for(var v=[],s=function(P){var N=h[P],Z=Object(a.find)(v,function(vt){return vt.color===N.color&&vt.name===N.name&&vt.value===N.value&&vt.title===N.title});Z||v.push(N)},f=0;f<h.length;f++)s(f);return v}var kl=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.isLocked=!1,s}return Object.defineProperty(v.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),v.prototype.init=function(){},v.prototype.isVisible=function(){var s=this.view.getOptions().tooltip;return s!==!1},v.prototype.render=function(){},v.prototype.showTooltip=function(s){if(this.point=s,!!this.isVisible()){var f=this.view,P=this.getTooltipItems(s);if(!P.length){this.hideTooltip();return}var N=this.getTitle(P),Z={x:P[0].x,y:P[0].y};f.emit("tooltip:show",Oo.fromData(f,"tooltip:show",Object(c.__assign)({items:P,title:N},s)));var vt=this.getTooltipCfg(),Tt=vt.follow,Gt=vt.showMarkers,_t=vt.showCrosshairs,Zt=vt.showContent,Jt=vt.marker,ie=this.items,le=this.title;if(!Object(a.isEqual)(le,N)||!Object(a.isEqual)(ie,P)?(f.emit("tooltip:change",Oo.fromData(f,"tooltip:change",Object(c.__assign)({items:P,title:N},s))),(Object(a.isFunction)(Zt)?Zt(P):Zt)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(a.mix)({},vt,{items:this.getItemsAfterProcess(P),title:N},Tt?s:{})),this.tooltip.show()),Gt&&this.renderTooltipMarkers(P,Jt)):(this.tooltip&&Tt&&(this.tooltip.update(s),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=P,this.title=N,_t){var xe=Object(a.get)(vt,["crosshairs","follow"],!1);this.renderCrosshairs(xe?s:Z,vt)}}},v.prototype.hideTooltip=function(){var s=this.getTooltipCfg().follow;if(!s){this.point=null;return}var f=this.tooltipMarkersGroup;f&&f.hide();var P=this.xCrosshair,N=this.yCrosshair;P&&P.hide(),N&&N.hide();var Z=this.tooltip;Z&&Z.hide(),this.view.emit("tooltip:hide",Oo.fromData(this.view,"tooltip:hide",{})),this.point=null},v.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},v.prototype.unlockTooltip=function(){this.isLocked=!1;var s=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(s.capture)},v.prototype.isTooltipLocked=function(){return this.isLocked},v.prototype.clear=function(){var s=this,f=s.tooltip,P=s.xCrosshair,N=s.yCrosshair,Z=s.tooltipMarkersGroup;f&&(f.hide(),f.clear()),P&&P.clear(),N&&N.clear(),Z&&Z.clear(),this.reset()},v.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},v.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},v.prototype.changeVisible=function(s){if(this.visible!==s){var f=this,P=f.tooltip,N=f.tooltipMarkersGroup,Z=f.xCrosshair,vt=f.yCrosshair;s?(P&&P.show(),N&&N.show(),Z&&Z.show(),vt&&vt.show()):(P&&P.hide(),N&&N.hide(),Z&&Z.hide(),vt&&vt.hide()),this.visible=s}},v.prototype.getTooltipItems=function(s){var f=this.findItemsFromView(this.view,s);if(f.length){f=Object(a.flatten)(f);for(var P=0,N=f;P<N.length;P++)for(var Z=N[P],vt=0,Tt=Z;vt<Tt.length;vt++){var Gt=Tt[vt],_t=Gt.mappingData,Zt=_t.x,Jt=_t.y;Gt.x=Object(a.isArray)(Zt)?Zt[Zt.length-1]:Zt,Gt.y=Object(a.isArray)(Jt)?Jt[Jt.length-1]:Jt}var ie=this.getTooltipCfg().shared;if(ie===!1&&f.length>1){for(var le=f[0],xe=Math.abs(s.y-le[0].y),Ze=0,He=f;Ze<He.length;Ze++){var yr=He[Ze],br=Math.abs(s.y-yr[0].y);br<=xe&&(le=yr,xe=br)}f=[le]}return gf(Object(a.flatten)(f))}return[]},v.prototype.layout=function(){},v.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var s=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}})}},v.prototype.isCursorEntered=function(s){if(this.tooltip){var f=this.tooltip.getContainer(),P=this.tooltip.get("capture");if(f&&P){var N=f.getBoundingClientRect(),Z=N.x,vt=N.y,Tt=N.width,Gt=N.height;return new qr(Z,vt,Tt,Gt).isPointIn(s)}}return!1},v.prototype.getTooltipCfg=function(){var s=this.view,f=s.getOptions().tooltip,P=this.processCustomContent(f),N=s.getTheme(),Z=Object(a.get)(N,["components","tooltip"],{}),vt=Object(a.get)(P,"enterable",Z.enterable);return Object(a.deepMix)({},Z,P,{capture:!!(vt||this.isLocked)})},v.prototype.processCustomContent=function(s){if(Object(a.isBoolean)(s)||!Object(a.get)(s,"customContent"))return s;var f=s.customContent,P=function(N,Z){var vt=f(N,Z)||"";return Object(a.isString)(vt)?'<div class="g2-tooltip">'+vt+"</div>":vt};return Object(c.__assign)(Object(c.__assign)({},s),{customContent:P})},v.prototype.getTitle=function(s){var f=s[0].title||s[0].name;return this.title=f,f},v.prototype.renderTooltip=function(){var s=this.view.getCanvas(),f={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}},P=this.getTooltipCfg(),N=new ce(Object(c.__assign)(Object(c.__assign)({parent:s.get("el").parentNode,region:f},P),{visible:!1,crosshairs:null}));N.init(),this.tooltip=N},v.prototype.renderTooltipMarkers=function(s,f){for(var P=this.getTooltipMarkersGroup(),N=0,Z=s;N<Z.length;N++){var vt=Z[N],Tt=vt.x,Gt=vt.y,_t=Object(c.__assign)(Object(c.__assign)({fill:vt.color,symbol:"circle",shadowColor:vt.color},f),{x:Tt,y:Gt});P.addShape("marker",{attrs:_t})}},v.prototype.renderCrosshairs=function(s,f){var P=Object(a.get)(f,["crosshairs","type"],"x");P==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(s,f)):P==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(s,f)):P==="xy"&&(this.renderXCrosshairs(s,f),this.renderYCrosshairs(s,f))},v.prototype.renderXCrosshairs=function(s,f){var P=this.getViewWithGeometry(this.view).getCoordinate();if(!!$r(P,s)){var N,Z;if(P.isRect)P.isTransposed?(N={x:P.start.x,y:s.y},Z={x:P.end.x,y:s.y}):(N={x:s.x,y:P.end.y},Z={x:s.x,y:P.start.y});else{var vt=Kr(P,s),Tt=P.getCenter(),Gt=P.getRadius();Z=Ce(Tt.x,Tt.y,Gt,vt),N=Tt}var _t=Object(a.deepMix)({start:N,end:Z,container:this.getTooltipCrosshairsGroup()},Object(a.get)(f,"crosshairs",{}),this.getCrosshairsText("x",s,f));delete _t.type;var Zt=this.xCrosshair;Zt?Zt.update(_t):(Zt=new Xt.Crosshair.Line(_t),Zt.init()),Zt.render(),Zt.show(),this.xCrosshair=Zt}},v.prototype.renderYCrosshairs=function(s,f){var P=this.getViewWithGeometry(this.view).getCoordinate();if(!!$r(P,s)){var N,Z;if(P.isRect){var vt=void 0,Tt=void 0;P.isTransposed?(vt={x:s.x,y:P.end.y},Tt={x:s.x,y:P.start.y}):(vt={x:P.start.x,y:s.y},Tt={x:P.end.x,y:s.y}),N={start:vt,end:Tt},Z="Line"}else N={center:P.getCenter(),radius:Nr(P,s),startAngle:P.startAngle,endAngle:P.endAngle},Z="Circle";N=Object(a.deepMix)({container:this.getTooltipCrosshairsGroup()},N,Object(a.get)(f,"crosshairs",{}),this.getCrosshairsText("y",s,f)),delete N.type;var Gt=this.yCrosshair;Gt?P.isRect&&Gt.get("type")==="circle"||!P.isRect&&Gt.get("type")==="line"?(Gt=new Xt.Crosshair[Z](N),Gt.init()):Gt.update(N):(Gt=new Xt.Crosshair[Z](N),Gt.init()),Gt.render(),Gt.show(),this.yCrosshair=Gt}},v.prototype.getCrosshairsText=function(s,f,P){var N=Object(a.get)(P,["crosshairs","text"]),Z=Object(a.get)(P,["crosshairs","follow"]),vt=this.items;if(N){var Tt=this.getViewWithGeometry(this.view),Gt=vt[0],_t=Tt.getXScale(),Zt=Tt.getYScales()[0],Jt=void 0,ie=void 0;if(Z){var le=this.view.getCoordinate().invert(f);Jt=_t.invert(le.x),ie=Zt.invert(le.y)}else Jt=Gt.data[_t.field],ie=Gt.data[Zt.field];var xe=s==="x"?Jt:ie;return Object(a.isFunction)(N)?N=N(s,xe,vt,f):N.content=xe,{text:N}}},v.prototype.getGuideGroup=function(){if(!this.guideGroup){var s=this.view.foregroundGroup;this.guideGroup=s.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},v.prototype.getTooltipMarkersGroup=function(){var s=this.tooltipMarkersGroup;return s&&!s.destroyed?(s.clear(),s.show()):(s=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),s.toFront(),this.tooltipMarkersGroup=s),s},v.prototype.getTooltipCrosshairsGroup=function(){var s=this.tooltipCrosshairsGroup;return s||(s=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),s.toBack(),this.tooltipCrosshairsGroup=s),s},v.prototype.findItemsFromView=function(s,f){if(s.getOptions().tooltip===!1)return[];for(var P=this.getTooltipCfg(),N=jr(s,f,P),Z=0,vt=s.views;Z<vt.length;Z++){var Tt=vt[Z];N=N.concat(this.findItemsFromView(Tt,f))}return N},v.prototype.getViewWithGeometry=function(s){var f=this;return s.geometries.length?s:Object(a.find)(s.views,function(P){return f.getViewWithGeometry(P)})},v.prototype.getItemsAfterProcess=function(s){var f=this.getTooltipCfg().customItems,P=f||function(N){return N};return P(s)},v}(Qo),ks=kl,ph={};function dc(h){return ph[h.toLowerCase()]}function Bo(h,v){ph[h.toLowerCase()]=v}var Xs={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Ed={interval:function(h){return{enter:{animation:h.isRect?h.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:h.isPolar&&h.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},yh={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(h){var v;return h.isRect?v=h.isTransposed?"grow-in-x":"grow-in-y":(v="grow-in-xy",h.isPolar&&h.isTransposed&&(v="wave-in")),{animation:v}},schema:function(h){var v;return h.isRect?v=h.isTransposed?"grow-in-x":"grow-in-y":v="grow-in-xy",{animation:v}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function mh(h,v){return{delay:Object(a.isFunction)(h.delay)?h.delay(v):h.delay,easing:Object(a.isFunction)(h.easing)?h.easing(v):h.easing,duration:Object(a.isFunction)(h.duration)?h.duration(v):h.duration,callback:h.callback,repeat:h.repeat}}function vc(h,v,s){var f=Ed[h];return f&&(Object(a.isFunction)(f)&&(f=f(v)),f=Object(a.deepMix)({},Xs,f),s)?f[s]:f}function Ys(h,v,s){var f=Object(a.get)(h.get("origin"),"data",C),P=v.animation,N=mh(v,f);if(P){var Z=dc(P);Z&&Z(h,N,s)}else h.animate(s.toAttrs,N)}function gc(h,v,s,f,P){if(yh[s]){var N=yh[s](f),Z=dc(Object(a.get)(N,"animation",""));if(Z){var vt=Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},Xs.appear),N),v);h.stopAnimate(),Z(h,vt,{coordinate:f,minYPoint:P,toAttrs:null})}}}var pc="element-background",xu=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.states=[];var P=s.shapeFactory,N=s.container,Z=s.offscreenGroup,vt=s.visible,Tt=vt===void 0?!0:vt;return f.shapeFactory=P,f.container=N,f.offscreenGroup=Z,f.visible=Tt,f}return v.prototype.draw=function(s,f){f===void 0&&(f=!1),this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.drawShape(s,f),this.visible===!1&&this.changeVisible(!1)},v.prototype.update=function(s){var f=this,P=f.shapeFactory,N=f.shape;if(!!N){this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.setShapeInfo(N,s);var Z=this.getOffscreenGroup(),vt=P.drawShape(this.shapeType,s,Z);vt.cfg.data=this.data,vt.cfg.origin=s,vt.cfg.element=this,this.syncShapeStyle(N,vt,this.getStates(),this.getAnimateCfg("update"))}},v.prototype.destroy=function(){var s=this,f=s.shapeFactory,P=s.shape;if(P){var N=this.getAnimateCfg("leave");N?Ys(P,N,{coordinate:f.coordinate,toAttrs:Object(c.__assign)({},P.attr())}):P.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,h.prototype.destroy.call(this)},v.prototype.changeVisible=function(s){h.prototype.changeVisible.call(this,s),s?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(f){f.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(f){f.hide()}))},v.prototype.setState=function(s,f){var P=this,N=P.states,Z=P.shapeFactory,vt=P.model,Tt=P.shape,Gt=P.shapeType,_t=N.indexOf(s);if(f){if(_t>-1)return;N.push(s),(s==="active"||s==="selected")&&(Tt==null||Tt.toFront())}else{if(_t===-1)return;N.splice(_t,1),(s==="active"||s==="selected")&&(Tt==null||Tt.toBack())}var Zt=Z.drawShape(Gt,vt,this.getOffscreenGroup());N.length?this.syncShapeStyle(Tt,Zt,N,null):this.syncShapeStyle(Tt,Zt,["reset"],null),Zt.remove(!0);var Jt={state:s,stateStatus:f,element:this,target:this.container};this.container.emit("statechange",Jt),Object(Xt.propagationDelegate)(this.shape,"statechange",Jt)},v.prototype.clearStates=function(){var s=this,f=this.states;Object(a.each)(f,function(P){s.setState(P,!1)}),this.states=[]},v.prototype.hasState=function(s){return this.states.includes(s)},v.prototype.getStates=function(){return this.states},v.prototype.getData=function(){return this.data},v.prototype.getModel=function(){return this.model},v.prototype.getBBox=function(){var s=this,f=s.shape,P=s.labelShape,N={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return f&&(N=f.getCanvasBBox()),P&&P.forEach(function(Z){var vt=Z.getCanvasBBox();N.x=Math.min(vt.x,N.x),N.y=Math.min(vt.y,N.y),N.minX=Math.min(vt.minX,N.minX),N.minY=Math.min(vt.minY,N.minY),N.maxX=Math.max(vt.maxX,N.maxX),N.maxY=Math.max(vt.maxY,N.maxY)}),N.width=N.maxX-N.minX,N.height=N.maxY-N.minY,N},v.prototype.getStatesStyle=function(){if(!this.statesStyle){var s=this,f=s.shapeType,P=s.geometry,N=s.shapeFactory,Z=P.stateOption,vt=N.defaultShapeType,Tt=N.theme[f]||N.theme[vt];this.statesStyle=Object(a.deepMix)({},Tt,Z)}return this.statesStyle},v.prototype.getStateStyle=function(s,f){var P=this.getStatesStyle(),N=Object(a.get)(P,[s,"style"],{}),Z=N[f]||N;return Object(a.isFunction)(Z)?Z(this):Z},v.prototype.getAnimateCfg=function(s){var f=this,P=this.animate;if(P){var N=P[s];return N&&Object(c.__assign)(Object(c.__assign)({},N),{callback:function(){var Z;Object(a.isFunction)(N.callback)&&N.callback(),(Z=f.geometry)===null||Z===void 0||Z.emit(S.AFTER_DRAW_ANIMATE)}})}return null},v.prototype.drawShape=function(s,f){var P;f===void 0&&(f=!1);var N=this,Z=N.shapeFactory,vt=N.container,Tt=N.shapeType;if(this.shape=Z.drawShape(Tt,s,vt),this.shape){this.setShapeInfo(this.shape,s);var Gt=this.shape.cfg.name;Gt?Object(a.isString)(Gt)&&(this.shape.cfg.name=["element",Gt]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var _t=f?"enter":"appear",Zt=this.getAnimateCfg(_t);Zt&&((P=this.geometry)===null||P===void 0||P.emit(S.BEFORE_DRAW_ANIMATE),Ys(this.shape,Zt,{coordinate:Z.coordinate,toAttrs:Object(c.__assign)({},this.shape.attr())}))}},v.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},v.prototype.setShapeInfo=function(s,f){var P=this;if(s.cfg.origin=f,s.cfg.element=this,s.isGroup()){var N=s.get("children");N.forEach(function(Z){P.setShapeInfo(Z,f)})}},v.prototype.syncShapeStyle=function(s,f,P,N,Z){var vt=this,Tt;if(P===void 0&&(P=[]),Z===void 0&&(Z=0),!(!s||!f)){var Gt=s.get("clipShape"),_t=f.get("clipShape");if(this.syncShapeStyle(Gt,_t,P,N),s.isGroup())for(var Zt=s.get("children"),Jt=f.get("children"),ie=0;ie<Zt.length;ie++)this.syncShapeStyle(Zt[ie],Jt[ie],P,N,Z+ie);else{if(!Object(a.isEmpty)(P)&&!Object(a.isEqual)(P,["reset"])){var le=s.get("name");Object(a.isArray)(le)&&(le=le[1]),Object(a.each)(P,function(Ze){if(f.get("name")!==pc){var He=vt.getStateStyle(Ze,le||Z);f.attr(He)}})}var xe=qe(s,f);this.animate?N?((Tt=this.geometry)===null||Tt===void 0||Tt.emit(S.BEFORE_DRAW_ANIMATE),Ys(s,N,{coordinate:this.shapeFactory.coordinate,toAttrs:xe,shapeModel:this.model})):Object(a.isEmpty)(P)?(s.stopAnimate(),s.animate(xe,{duration:300})):s.attr(xe):s.attr(xe)}}},v.prototype.getShapeType=function(s){var f=Object(a.get)(s,"shape");return Object(a.isArray)(f)?f[0]:f},v}(q),Eu=xu,pf={},al={};function yf(h){return pf[h.toLowerCase()]}function Xl(h,v){pf[h.toLowerCase()]=v}function mf(h){return al[h.toLowerCase()]}function uo(h,v){al[h.toLowerCase()]=v}var bh={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(h,v){var s=this.getShape(h);return s.getPoints?s.getPoints(v):this.getDefaultPoints(v)},getShape:function(h){var v=this[h]||this[this.defaultShapeType];return v.coordinate=this.coordinate,v},getDefaultPoints:function(){return[]},getDefaultStyle:function(h){return Object(a.get)(h,[this.defaultShapeType,"default","style"],{})},getMarker:function(h,v){var s=this.getShape(h);if(!s.getMarker){var f=this.defaultShapeType;s=this.getShape(f)}var P=this.theme,N=Object(a.get)(P,[h,"default"],{}),Z=s.getMarker(v);return Object(a.deepMix)({},N,Z)},drawShape:function(h,v,s){var f=this.getShape(h);return f.draw(v,s)}},bf={coordinate:null,parsePath:function(h){var v=this.coordinate,s=Object(Vr.c)(h);return v.isPolar?s=wr(v,s):s=sr(v,s),s},parsePoint:function(h){var v=this.coordinate;return v.convert(h)},parsePoints:function(h){var v=this.coordinate;return h.map(function(s){return v.convert(s)})},draw:function(h,v){}},Yl={};function Ps(h,v){var s=Object(a.upperFirst)(h),f=Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},bh),v),{geometryType:h});return Yl[s]=f,f}function Ki(h,v,s){var f=Object(a.upperFirst)(h),P=Yl[f],N=Object(c.__assign)(Object(c.__assign)({},bf),s);return P[v]=N,N}function Of(h){var v=Object(a.upperFirst)(h);return Yl[v]}function Su(h,v,s){if(s===void 0&&(s={}),!v)return[h];var f=Object(a.groupToMap)(h,v),P=[];if(v.length===1&&s[v[0]])for(var N=s[v[0]],Z=0,vt=N;Z<vt.length;Z++){var Tt=vt[Z],Gt=f["_"+Tt];Gt&&P.push(Gt)}else for(var _t in f)if(f.hasOwnProperty(_t)){var Zt=f[_t];P.push(Zt)}return P}function _o(h,v){return Object(a.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(s){return!Object(a.isEqual)(h[s],v[s])})}function Is(h){return Object(a.isArray)(h)?h:h.split("*")}function Oh(h,v){var s=[];return Object(a.each)(v,function(f,P){var N=P.split(" ")[0];N===h&&s.push(f)}),s}var xh=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.type="base",f.attributes={},f.elements=[],f.elementsMap={},f.animateOption=!0,f.attributeOption={},f.lastElementsMap={},f.generatePoints=!1,f.beforeMappingData=null,f.adjusts={},f.idFields=[],f.hasSorted=!1,f.isCoordinateChanged=!1;var P=s.container,N=s.labelsContainer,Z=s.coordinate,vt=s.data,Tt=s.sortable,Gt=Tt===void 0?!1:Tt,_t=s.visible,Zt=_t===void 0?!0:_t,Jt=s.theme,ie=s.scales,le=ie===void 0?{}:ie,xe=s.scaleDefs,Ze=xe===void 0?{}:xe,He=s.intervalPadding,yr=s.dodgePadding,br=s.maxColumnWidth,tn=s.minColumnWidth,an=s.columnWidthRatio,yn=s.roseWidthRatio,li=s.multiplePieWidthRatio,Yn=s.zIndexReversed;return f.container=P,f.labelsContainer=N,f.coordinate=Z,f.data=vt,f.sortable=Gt,f.visible=Zt,f.userTheme=Jt,f.scales=le,f.scaleDefs=Ze,f.intervalPadding=He,f.dodgePadding=yr,f.maxColumnWidth=br,f.minColumnWidth=tn,f.columnWidthRatio=an,f.roseWidthRatio=yn,f.multiplePieWidthRatio=li,f.zIndexReversed=Yn,f}return v.prototype.position=function(s){var f=s;Object(a.isPlainObject)(s)||(f={fields:Is(s)});var P=Object(a.get)(f,"fields");return P.length===1&&(P.unshift("1"),Object(a.set)(f,"fields",P)),Object(a.set)(this.attributeOption,"position",f),this},v.prototype.color=function(s,f){return this.createAttrOption("color",s,f),this},v.prototype.shape=function(s,f){return this.createAttrOption("shape",s,f),this},v.prototype.size=function(s,f){return this.createAttrOption("size",s,f),this},v.prototype.adjust=function(s){var f=s;return(Object(a.isString)(s)||Object(a.isPlainObject)(s))&&(f=[s]),Object(a.each)(f,function(P,N){Object(a.isObject)(P)||(f[N]={type:P})}),this.adjustOption=f,this},v.prototype.style=function(s,f){if(Object(a.isString)(s)){var P=Is(s);this.styleOption={fields:P,callback:f}}else{var N=s,P=N.fields,Z=N.callback,vt=N.cfg;P||Z||vt?this.styleOption=s:this.styleOption={cfg:s}}return this},v.prototype.tooltip=function(s,f){if(Object(a.isString)(s)){var P=Is(s);this.tooltipOption={fields:P,callback:f}}else this.tooltipOption=s;return this},v.prototype.animate=function(s){return this.animateOption=s,this},v.prototype.label=function(s,f,P){if(Object(a.isString)(s)){var N={},Z=Is(s);N.fields=Z,Object(a.isFunction)(f)?N.callback=f:Object(a.isPlainObject)(f)&&(N.cfg=f),P&&(N.cfg=P),this.labelOption=N}else this.labelOption=s;return this},v.prototype.state=function(s){return this.stateOption=s,this},v.prototype.customInfo=function(s){return this.customOption=s,this},v.prototype.init=function(s){s===void 0&&(s={}),this.setCfg(s),this.initAttributes(),this.processData(this.data),this.adjustScale()},v.prototype.update=function(s){s===void 0&&(s={});var f=s.data,P=s.isDataChanged,N=s.isCoordinateChanged,Z=this,vt=Z.attributeOption,Tt=Z.lastAttributeOption;Object(a.isEqual)(vt,Tt)?f&&(P||!Object(a.isEqual)(f,this.data))?(this.setCfg(s),this.initAttributes(),this.processData(f)):this.setCfg(s):this.init(s),this.adjustScale(),this.isCoordinateChanged=N},v.prototype.paint=function(s){var f=this;s===void 0&&(s=!1),this.animateOption&&(this.animateOption=Object(a.deepMix)({},vc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var P=this.getOffscreenGroup();P.clear();for(var N=this.beforeMappingData,Z=this.beforeMapping(N),vt=[],Tt=0,Gt=Z.length;Tt<Gt;Tt++){var _t=Z[Tt],Zt=this.mapping(_t);vt.push(Zt),this.createElements(Zt,Tt,s)}if(this.canDoGroupAnimation(s)){var Jt=this.container,ie=this.type,le=this.coordinate,xe=Object(a.get)(this.animateOption,"appear"),Ze=this.getYScale(),He=le.convert({x:0,y:Ze.scale(this.getYMinValue())});gc(Jt,xe,ie,le,He)}this.labelOption&&this.renderLabels(Object(a.flatten)(vt),s),this.dataArray=vt,Object(a.each)(this.lastElementsMap,function(yr){yr.animate=f.animateOption,yr.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(c.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},v.prototype.clear=function(){var s=this,f=s.container,P=s.geometryLabel,N=s.offscreenGroup;f&&f.clear(),P&&P.clear(),N&&N.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},v.prototype.destroy=function(){this.clear();var s=this.container;s.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,h.prototype.destroy.call(this)},v.prototype.getGroupScales=function(){return this.groupScales},v.prototype.getAttribute=function(s){return this.attributes[s]},v.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},v.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},v.prototype.getGroupAttributes=function(){var s=[];return Object(a.each)(this.attributes,function(f){y.includes(f.type)&&s.push(f)}),s},v.prototype.getDefaultValue=function(s){var f,P=this.getAttribute(s);return P&&Object(a.isEmpty)(P.scales)&&(f=P.values[0]),f},v.prototype.getAttributeValues=function(s,f){for(var P=[],N=s.scales,Z=0,vt=N.length;Z<vt;Z++){var Tt=N[Z],Gt=Tt.field;Tt.isIdentity?P.push(Tt.values):P.push(f[Gt])}return s.mapping.apply(s,P)},v.prototype.getAdjust=function(s){return this.adjusts[s]},v.prototype.getShapeMarker=function(s,f){var P=this.getShapeFactory();return P.getMarker(s,f)},v.prototype.getElementsBy=function(s){return this.elements.filter(function(f){return s(f)})},v.prototype.getElementId=function(s){s=Object(a.isArray)(s)?s[0]:s;var f=s[C];if(this.idFields.length){for(var P=f[this.idFields[0]],N=1;N<this.idFields.length;N++)P+="-"+f[this.idFields[N]];return P}var Z=this.type,vt=this.getXScale(),Tt=this.getYScale(),Gt=vt.field||"x",_t=Tt.field||"y",Zt=f[_t],Jt;vt.type==="identity"?Jt=vt.values[0]:Jt=f[Gt];var ie;Z==="interval"||Z==="schema"?ie=""+Jt:Z==="line"||Z==="area"||Z==="path"?ie=Z:ie=Jt+"-"+Zt;var le=this.groupScales;Object(a.isEmpty)(le)&&(le=Object(a.get)(this.getAttribute("color"),"scales",[]));for(var N=0,xe=le.length;N<xe;N++){var Ze=le[N],He=Ze.field;ie=ie+"-"+f[He]}var yr=this.getAdjust("dodge");if(yr){var br=yr.dodgeBy;br&&(ie=ie+"-"+f[br])}return this.getAdjust("jitter")&&(ie=ie+"-"+s.x+"-"+s.y),ie},v.prototype.getScaleFields=function(){var s=[],f={},P=this,N=P.attributeOption,Z=P.labelOption,vt=P.tooltipOption;for(var Tt in N)if(N.hasOwnProperty(Tt)){var Gt=N[Tt];Gt.fields?ir(Gt.fields,s,f):Gt.values&&ir(Gt.values,s,f)}return Z&&Z.fields&&ir(Z.fields,s,f),Object(a.isObject)(vt)&&vt.fields&&ir(vt.fields,s,f),s},v.prototype.changeVisible=function(s){h.prototype.changeVisible.call(this,s);for(var f=this.elements,P=0,N=f.length;P<N;P++){var Z=f[P];Z.changeVisible(s)}s?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},v.prototype.getGroupFields=function(){for(var s=[],f={},P=0,N=y.length;P<N;P++){var Z=y[P],vt=this.attributeOption[Z];vt&&vt.fields&&ir(vt.fields,s,f)}return s},v.prototype.getXYFields=function(){var s=this.attributeOption.position.fields,f=s[0],P=s[1];return[f,P]},v.prototype.getShapes=function(){return this.elements.map(function(s){return s.shape})},v.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},v.prototype.sort=function(s){if(!this.hasSorted)for(var f=this.getXScale(),P=f.field,N=0;N<s.length;N++){var Z=s[N];Z.sort(function(vt,Tt){return f.translate(vt[C][P])-f.translate(Tt[C][P])})}this.hasSorted=!0},v.prototype.adjustScale=function(){var s=this.getYScale();s&&this.getAdjust("stack")&&this.updateStackRange(s,this.beforeMappingData)},v.prototype.getShapeFactory=function(){var s=this.shapeType;if(!!Of(s))return this.shapeFactory||(this.shapeFactory=Object(a.clone)(Of(s))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[s]||{},this.shapeFactory},v.prototype.createShapePointsCfg=function(s){var f=this.getXScale(),P=this.getYScale(),N=this.normalizeValues(s[f.field],f),Z;return P?Z=this.normalizeValues(s[P.field],P):Z=s.y?s.y:.1,{x:N,y:Z,y0:P?P.scale(this.getYMinValue()):void 0}},v.prototype.createElement=function(s,f){f===void 0&&(f=!1);var P=this.container,N=this.getDrawCfg(s),Z=this.getShapeFactory(),vt=new Eu({shapeFactory:Z,container:P,offscreenGroup:this.getOffscreenGroup()});return vt.animate=this.animateOption,vt.geometry=this,vt.draw(N,f),vt},v.prototype.getDrawCfg=function(s){var f=s[C],P={mappingData:s,data:f,x:s.x,y:s.y,color:s.color,size:s.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},N=s.shape;!N&&this.getShapeFactory()&&(N=this.getShapeFactory().defaultShapeType),P.shape=N;var Z=this.theme.geometries[this.shapeType];P.defaultStyle=Object(a.get)(Z,[N,"default"],{}).style,!P.defaultStyle&&this.getShapeFactory()&&(P.defaultStyle=this.getShapeFactory().getDefaultStyle(Z));var vt=this.styleOption;return vt&&(P.style=this.getStyleCfg(vt,f)),this.generatePoints&&(P.points=s.points,P.nextPoints=s.nextPoints),P},v.prototype.createElements=function(s,f,P){P===void 0&&(P=!1);for(var N=this,Z=N.lastElementsMap,vt=N.elementsMap,Tt=N.elements,Gt=0,_t=s.length;Gt<_t;Gt++){var Zt=s[Gt],Jt=this.getElementId(Zt);vt[Jt]&&(Jt=Jt+"-"+f+"-"+Gt);var ie=Z[Jt];if(!ie)ie=this.createElement(Zt,P);else{var le=this.getDrawCfg(Zt),xe=ie.getModel();(this.isCoordinateChanged||_o(le,xe))&&(ie.animate=this.animateOption,ie.update(le)),delete Z[Jt]}Tt.push(ie),vt[Jt]=ie}if(this.zIndexReversed){var Ze=Tt.length;Tt.forEach(function(He,yr){He.shape.setZIndex(Ze-yr)})}return Tt},v.prototype.getLabelType=function(){var s=this,f=s.labelOption,P=s.coordinate,N=s.type,Z=P.type,vt=P.isTransposed,Tt=Object(a.get)(f,["cfg","type"]);return Tt||(Z==="polar"?Tt=vt?"pie":"polar":Z==="theta"?Tt="pie":N==="interval"||N==="polygon"?Tt="interval":Tt="base"),Tt},v.prototype.getYMinValue=function(){var s=this.getYScale(),f=s.min,P=s.max,N;return f>=0?N=f:P<=0?N=P:N=0,N},v.prototype.createAttrOption=function(s,f,P){if(Object(a.isNil)(f)||Object(a.isObject)(f))Object(a.isObject)(f)&&Object(a.isEqual)(Object.keys(f),["values"])?Object(a.set)(this.attributeOption,s,{fields:f.values}):Object(a.set)(this.attributeOption,s,f);else{var N={};Object(a.isNumber)(f)?N.values=[f]:N.fields=Is(f),P&&(Object(a.isFunction)(P)?N.callback=P:N.values=P),Object(a.set)(this.attributeOption,s,N)}},v.prototype.initAttributes=function(){var s=this,f=this,P=f.attributes,N=f.attributeOption,Z=f.theme,vt=f.shapeType;this.groupScales=[];var Tt={},Gt=function(Jt){if(N.hasOwnProperty(Jt)){var ie=N[Jt];if(!ie)return{value:void 0};var le=Object(c.__assign)({},ie),xe=le.callback,Ze=le.values,He=le.fields,yr=He===void 0?[]:He,br=yr.map(function(an){var yn=s.scales[an];return yn.isCategory&&!Tt[an]&&y.includes(Jt)&&(s.groupScales.push(yn),Tt[an]=!0),yn});le.scales=br,Jt!=="position"&&br.length===1&&br[0].type==="identity"?le.values=br[0].values:!xe&&!Ze&&(Jt==="size"?le.values=Z.sizes:Jt==="shape"?le.values=Z.shapes[vt]||[]:Jt==="color"&&(br.length?le.values=br[0].values.length<=10?Z.colors10:Z.colors20:le.values=Z.colors10));var tn=pt(Jt);P[Jt]=new tn(le)}};for(var _t in N){var Zt=Gt(_t);if(typeof Zt=="object")return Zt.value}},v.prototype.processData=function(s){this.hasSorted=!1;for(var f=this.getAttribute("position").scales,P=f.filter(function(an){return an.isCategory}),N=this.groupData(s),Z=[],vt=0,Tt=N.length;vt<Tt;vt++){for(var Gt=N[vt],_t=[],Zt=0,Jt=Gt.length;Zt<Jt;Zt++){var ie=Gt[Zt],le={};for(var xe in ie)le[xe]=ie[xe];le[C]=ie;for(var Ze=0,He=P;Ze<He.length;Ze++){var yr=He[Ze],br=yr.field;le[br]=yr.translate(le[br])}_t.push(le)}Z.push(_t)}var tn=this.adjustData(Z);return this.beforeMappingData=tn,tn},v.prototype.adjustData=function(s){var f=this.adjustOption,P=this,N=P.intervalPadding,Z=P.dodgePadding,vt=P.theme,Tt=this.maxColumnWidth||vt.maxColumnWidth,Gt=this.minColumnWidth||vt.minColumnWidth,_t=this.columnWidthRatio||vt.columnWidthRatio,Zt=s;if(f){var Jt=this.getXScale(),ie=this.getYScale(),le=Jt.field,xe=ie?ie.field:null,Ze=ze(this.coordinate),He=Jt.values.length,yr=this.getAttribute("size"),br=void 0;yr&&(br=yr.values[0]);for(var tn=0,an=f.length;tn<an;tn++){var yn=f[tn],li=Object(c.__assign)({xField:le,yField:xe,intervalPadding:N,dodgePadding:Z,xDimensionLength:Ze,groupNum:He,defaultSize:br,maxColumnWidth:Tt,minColumnWidth:Gt,columnWidthRatio:_t},yn),Yn=yn.type;if(Yn==="dodge"){var Hn=[];if(Jt.isCategory||Jt.type==="identity")Hn.push("x");else if(!ie)Hn.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");li.adjustNames=Hn,li.dodgeRatio=_t}else if(Yn==="stack"){var Ti=this.coordinate;if(!ie){li.height=Ti.getHeight();var sa=this.getDefaultValue("size")||3;li.size=sa}!Ti.isTransposed&&Object(a.isNil)(li.reverseOrder)&&(li.reverseOrder=!0)}var Ji=Object(Q.getAdjust)(Yn),Bi=new Ji(li);Zt=Bi.process(Zt),this.adjusts[Yn]=Bi}}return Zt},v.prototype.groupData=function(s){for(var f=this.getGroupScales(),P=this.scaleDefs,N={},Z=[],vt=0;vt<f.length;vt++){var Tt=f[vt],Gt=Tt.field;Z.push(Gt),Object(a.get)(P,[Gt,"values"])&&(N[Gt]=P[Gt].values)}return Su(s,Z,N)},v.prototype.updateStackRange=function(s,f){for(var P=Object(a.flatten)(f),N=s.field,Z=s.min,vt=s.max,Tt=0;Tt<P.length;Tt++){var Gt=P[Tt],_t=Math.min.apply(null,Gt[N]),Zt=Math.max.apply(null,Gt[N]);_t<Z&&(Z=_t),Zt>vt&&(vt=Zt)}var Jt=this.scaleDefs,ie={};Z<s.min&&!Object(a.get)(Jt,[N,"min"])&&(ie.min=Z),vt>s.max&&!Object(a.get)(Jt,[N,"max"])&&(ie.max=vt),s.change(ie)},v.prototype.beforeMapping=function(s){var f=s;if(this.sortable&&this.sort(f),this.generatePoints)for(var P=0,N=f.length;P<N;P++){var Z=f[P];this.generateShapePoints(Z);var vt=f[P+1];vt&&(this.generateShapePoints(vt),Z[0].nextPoints=vt[0].points)}return f},v.prototype.generateShapePoints=function(s){for(var f=this.getShapeFactory(),P=this.getAttribute("shape"),N=0;N<s.length;N++){var Z=s[N],vt=this.createShapePointsCfg(Z),Tt=P?this.getAttributeValues(P,Z):null,Gt=f.getShapePoints(Tt,vt);Z.points=Gt}},v.prototype.normalizeValues=function(s,f){var P=[];if(Object(a.isArray)(s))for(var N=0;N<s.length;N++){var Z=s[N];P.push(f.scale(Z))}else P=f.scale(s);return P},v.prototype.mapping=function(s){for(var f=this.attributes,P=[],N=0;N<s.length;N++){var Z=s[N],vt={_origin:Z[C],points:Z.points,nextPoints:Z.nextPoints};for(var Tt in f)if(f.hasOwnProperty(Tt)){var Gt=f[Tt],_t=Gt.names,Zt=this.getAttributeValues(Gt,Z);if(_t.length>1)for(var Jt=0;Jt<Zt.length;Jt+=1){var ie=Zt[Jt],le=_t[Jt];vt[le]=Object(a.isArray)(ie)&&ie.length===1?ie[0]:ie}else vt[_t[0]]=Zt.length===1?Zt[0]:Zt}this.convertPoint(vt),P.push(vt)}return P},v.prototype.convertPoint=function(s){var f=s.x,P=s.y,N,Z,vt,Tt=this.coordinate;if(Object(a.isArray)(f)&&Object(a.isArray)(P)){N=[],Z=[];for(var Gt=0,_t=0,Zt=f.length,Jt=P.length;Gt<Zt&&_t<Jt;Gt+=1,_t+=1)vt=Tt.convert({x:f[Gt],y:P[_t]}),N.push(vt.x),Z.push(vt.y)}else if(Object(a.isArray)(P)){Z=[];for(var ie=0;ie<P.length;ie++){var le=P[ie];vt=Tt.convert({x:f,y:le}),N&&N!==vt.x?(Object(a.isArray)(N)||(N=[N]),N.push(vt.x)):N=vt.x,Z.push(vt.y)}}else if(Object(a.isArray)(f)){N=[];for(var ie=0;ie<f.length;ie++){var xe=f[ie];vt=Tt.convert({x:xe,y:P}),Z&&Z!==vt.y?(Object(a.isArray)(Z)||(Z=[Z]),Z.push(vt.y)):Z=vt.y,N.push(vt.x)}}else{var Ze=Tt.convert({x:f,y:P});N=Ze.x,Z=Ze.y}s.x=N,s.y=Z},v.prototype.getStyleCfg=function(s,f){var P=s.fields,N=P===void 0?[]:P,Z=s.callback,vt=s.cfg;if(vt)return vt;var Tt=N.map(function(Gt){return f[Gt]});return Z.apply(void 0,Tt)},v.prototype.setCfg=function(s){var f=this,P=s.coordinate,N=s.data,Z=s.theme,vt=s.scaleDefs;P&&(this.coordinate=P),N&&(this.data=N),vt&&(this.scaleDefs=vt,this.idFields=[],Object(a.each)(vt,function(Tt,Gt){Tt&&Tt.key&&f.idFields.push(Gt)})),Z&&(this.theme=this.userTheme?Object(a.deepMix)({},Z,this.userTheme):Z)},v.prototype.renderLabels=function(s,f){f===void 0&&(f=!1);var P=this.geometryLabel;if(!P){var N=this.getLabelType(),Z=yf(N);P=new Z(this),this.geometryLabel=P}P.render(s,f);var vt=P.labelsRenderer.shapesMap;Object(a.each)(this.elementsMap,function(Tt,Gt){var _t=Oh(Gt,vt);if(_t.length){Tt.labelShape=_t;for(var Zt=0;Zt<_t.length;Zt++)for(var Jt=_t[Zt],ie=Jt.getChildren(),le=0;le<ie.length;le++){var xe=ie[le];xe.cfg.name=["element","label"],xe.cfg.element=Tt}}})},v.prototype.canDoGroupAnimation=function(s){return!s&&this.animateOption&&(Object(a.get)(this.animateOption,"appear")===void 0||Object(a.get)(this.animateOption,"appear")&&Object(a.get)(this.animateOption,["appear","animation"])===void 0)},v}(q),Ls=xh,Hs=$.a.transform;function Cl(h,v,s){var f=Hs(h.getMatrix(),[["t",v,s]]);h.setMatrix(f)}function Eh(h,v){var s=h.attr(),f=s.x,P=s.y,N=Hs(h.getMatrix(),[["t",-f,-P],["r",v],["t",f,P]]);return N}function yc(h,v){var s=Eh(h,v);h.setMatrix(s)}function xs(){return[1,0,0,0,1,0,0,0,1]}function $a(h,v){var s=h.getBBox(),f=(s.minX+s.maxX)/2,P=(s.minY+s.maxY)/2;h.applyToMatrix([f,P,1]);var N=Hs(h.getMatrix(),[["t",-f,-P],["s",v,v],["t",f,P]]);h.setMatrix(N)}function Ks(h){return h.find(function(v){return v.get("type")==="text"})}function Mu(h,v,s){s===void 0&&(s=[0,0,0,0]);var f=h.getChildren()[0];if(f){var P=f.clone();(v==null?void 0:v.rotate)&&yc(P,-v.rotate);var N=P.getCanvasBBox(),Z=N.x,vt=N.y,Tt=N.width,Gt=N.height;P.destroy();var _t=s;return Object(a.isNil)(_t)?_t=[2,2,2,2]:Object(a.isNumber)(_t)&&(_t=new Array(4).fill(_t)),{x:Z-_t[3],y:vt-_t[0],width:Tt+_t[1]+_t[3],height:Gt+_t[0]+_t[2],rotation:(v==null?void 0:v.rotate)||0}}}function _s(h,v,s){s===void 0&&(s=0);var f=Math.max(0,Math.min(h.x+h.width+s,v.x+v.width+s)-Math.max(h.x-s,v.x-s)),P=Math.max(0,Math.min(h.y+h.height+s,v.y+v.height+s)-Math.max(h.y-s,v.y-s));return f*P}function xf(h,v){var s=h.getBBox();return Object(a.some)(v,function(f){var P=f.getBBox();return _s(s,P,2)>0})}function Hl(h,v,s){var f=s.data,P=s.origin,N=s.animateCfg,Z=s.coordinate,vt=Object(a.get)(N,"update");h.set("data",f),h.set("origin",P),h.set("animateCfg",N),h.set("coordinate",Z),h.set("visible",v.get("visible")),h.getChildren().forEach(function(Tt,Gt){var _t=v.getChildByIndex(Gt);if(!_t)h.removeChild(Tt),Tt.remove(!0);else{Tt.set("data",f),Tt.set("origin",P),Tt.set("animateCfg",N),Tt.set("coordinate",Z);var Zt=qe(Tt,_t);vt?Ys(Tt,vt,{toAttrs:Zt,coordinate:Z}):Tt.attr(Zt),_t.isGroup()&&Hl(Tt,_t,s)}}),Object(a.each)(v.getChildren(),function(Tt,Gt){Gt>=h.getCount()&&(Tt.destroyed||h.add(Tt))})}var Sh=function(){function h(v){this.shapesMap={},this.lastShapesMap={};var s=v.layout,f=v.container;this.layout=s,this.container=f}return h.prototype.render=function(v,s,f){var P=this;f===void 0&&(f=!1),this.shapesMap={};var N=this.container,Z=this.createOffscreenGroup();if(v.length){for(var vt=0,Tt=v;vt<Tt.length;vt++){var Gt=Tt[vt];Gt&&this.renderLabel(Gt,Z)}this.doLayout(v,s),this.renderLabelLine(v),this.renderLabelBackground(v),this.adjustLabel(v)}var _t=this.lastShapesMap,Zt=this.shapesMap;Object(a.each)(Zt,function(Jt,ie){if(Jt.destroyed)delete Zt[ie];else{if(_t[ie]){var le=Jt.get("data"),xe=Jt.get("origin"),Ze=Jt.get("coordinate"),He=Jt.get("animateCfg"),yr=_t[ie];Hl(yr,Zt[ie],{data:le,origin:xe,animateCfg:He,coordinate:Ze}),P.shapesMap[ie]=yr}else{N.add(Jt);var br=Object(a.get)(Jt.get("animateCfg"),f?"enter":"appear");br&&Ys(Jt,br,{toAttrs:Object(c.__assign)({},Jt.attr()),coordinate:Jt.get("coordinate")})}delete _t[ie]}}),Object(a.each)(_t,function(Jt){var ie=Object(a.get)(Jt.get("animateCfg"),"leave");ie?Ys(Jt,ie,{toAttrs:null,coordinate:Jt.get("coordinate")}):Jt.remove(!0)}),this.lastShapesMap=Zt,Z.destroy()},h.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},h.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},h.prototype.renderLabel=function(v,s){var f=v.id,P=v.elementId,N=v.data,Z=v.mappingData,vt=v.coordinate,Tt=v.animate,Gt=v.content,_t={id:f,elementId:P,data:N,origin:Object(c.__assign)(Object(c.__assign)({},Z),{data:Z[C]}),coordinate:vt},Zt=s.addGroup(Object(c.__assign)({name:"label",animateCfg:this.animate===!1||Tt===null||Tt===!1?!1:Object(a.deepMix)({},this.animate,Tt)},_t)),Jt;if(Gt.isGroup&&Gt.isGroup()||Gt.isShape&&Gt.isShape()){var ie=Gt.getCanvasBBox(),le=ie.width,xe=ie.height,Ze=Object(a.get)(v,"textAlign","left"),He=v.x,yr=v.y-xe/2;Ze==="center"?He=He-le/2:(Ze==="right"||Ze==="end")&&(He=He-le),Cl(Gt,He,yr),Jt=Gt,Zt.add(Gt)}else{var br=Object(a.get)(v,["style","fill"]);Jt=Zt.addShape("text",Object(c.__assign)({attrs:Object(c.__assign)(Object(c.__assign)({x:v.x,y:v.y,textAlign:v.textAlign,textBaseline:Object(a.get)(v,"textBaseline","middle"),text:v.content},v.style),{fill:Object(a.isNull)(br)?v.color:br})},_t))}v.rotate&&yc(Jt,v.rotate),this.shapesMap[f]=Zt},h.prototype.doLayout=function(v,s){var f=this;if(this.layout){var P=Object(a.isArray)(this.layout)?this.layout:[this.layout];Object(a.each)(P,function(N){var Z=mf(Object(a.get)(N,"type",""));if(Z){var vt=[],Tt=[];Object(a.each)(f.shapesMap,function(Gt,_t){vt.push(Gt),Tt.push(s[Gt.get("elementId")])}),Z(v,vt,Tt,f.region,N.cfg)}})}},h.prototype.renderLabelLine=function(v){var s=this;Object(a.each)(v,function(f){var P=Object(a.get)(f,"coordinate");if(!(!f||!P)){var N=P.getCenter(),Z=P.getRadius();if(!!f.labelLine){var vt=Object(a.get)(f,"labelLine",{}),Tt=f.id,Gt=vt.path;if(!Gt){var _t=Ce(N.x,N.y,Z,f.angle);Gt=[["M",_t.x,_t.y],["L",f.x,f.y]]}var Zt=s.shapesMap[Tt];Zt.destroyed||Zt.addShape("path",{capture:!1,attrs:Object(c.__assign)({path:Gt,stroke:f.color?f.color:Object(a.get)(f,["style","fill"],"#000"),fill:null},vt.style),id:Tt,origin:f.mappingData,data:f.data,coordinate:f.coordinate})}}})},h.prototype.renderLabelBackground=function(v){var s=this;Object(a.each)(v,function(f){var P=Object(a.get)(f,"coordinate"),N=Object(a.get)(f,"background");if(!(!N||!P)){var Z=f.id,vt=s.shapesMap[Z];if(!vt.destroyed){var Tt=vt.getChildren()[0];if(Tt){var Gt=Mu(vt,f,N.padding),_t=Gt.rotation,Zt=Object(c.__rest)(Gt,["rotation"]),Jt=vt.addShape("rect",{attrs:Object(c.__assign)(Object(c.__assign)({},Zt),N.style||{}),id:Z,origin:f.mappingData,data:f.data,coordinate:f.coordinate});if(Jt.setZIndex(-1),_t){var ie=Tt.getMatrix();Jt.setMatrix(ie)}}}}})},h.prototype.createOffscreenGroup=function(){var v=this.container,s=v.getGroupBase(),f=new s({});return f},h.prototype.adjustLabel=function(v){var s=this;Object(a.each)(v,function(f){if(f){var P=f.id,N=s.shapesMap[P];if(!N.destroyed){var Z=N.findAll(function(vt){return vt.get("type")!=="path"});Object(a.each)(Z,function(vt){vt&&(f.offsetX&&vt.attr("x",vt.attr("x")+f.offsetX),f.offsetY&&vt.attr("y",vt.attr("y")+f.offsetY))})}}})},h}(),Ef=Sh;function Sf(h){var v=0;return Object(a.each)(h,function(s){v+=s}),v/h.length}var Sd=function(){function h(v){this.geometry=v}return h.prototype.getLabelItems=function(v){var s=this,f=[],P=this.getLabelCfgs(v);return Object(a.each)(v,function(N,Z){var vt=P[Z];if(!vt||Object(a.isNil)(N.x)||Object(a.isNil)(N.y)){f.push(null);return}var Tt=Object(a.isArray)(vt.content)?vt.content:[vt.content];vt.content=Tt;var Gt=Tt.length;Object(a.each)(Tt,function(_t,Zt){if(Object(a.isNil)(_t)||_t===""){f.push(null);return}var Jt=Object(c.__assign)(Object(c.__assign)({},vt),s.getLabelPoint(vt,N,Zt));Jt.textAlign||(Jt.textAlign=s.getLabelAlign(Jt,Zt,Gt)),Jt.offset<=0&&(Jt.labelLine=null),f.push(Jt)})}),f},h.prototype.render=function(v,s){s===void 0&&(s=!1);var f=this.getLabelItems(v),P=this.getLabelsRenderer(),N=this.getGeometryShapes();P.render(f,N,s)},h.prototype.clear=function(){var v=this.labelsRenderer;v&&v.clear()},h.prototype.destroy=function(){var v=this.labelsRenderer;v&&v.destroy(),this.labelsRenderer=null},h.prototype.getCoordinate=function(){return this.geometry.coordinate},h.prototype.getDefaultLabelCfg=function(v,s){var f=this.geometry,P=f.type,N=f.theme;return P==="polygon"||P==="interval"&&s==="middle"||v<0&&!["line","point","path"].includes(P)?Object(a.get)(N,"innerLabels",{}):Object(a.get)(N,"labels",{})},h.prototype.getThemedLabelCfg=function(v){var s=this.geometry,f=this.getDefaultLabelCfg(),P=s.type,N=s.theme,Z;return P==="polygon"||v.offset<0&&!["line","point","path"].includes(P)?Z=Object(a.deepMix)({},f,N.innerLabels,v):Z=Object(a.deepMix)({},f,N.labels,v),Z},h.prototype.setLabelPosition=function(v,s,f,P){},h.prototype.getLabelOffset=function(v){var s=this.getCoordinate(),f=this.getOffsetVector(v);return s.isTransposed?f[0]:f[1]},h.prototype.getLabelOffsetPoint=function(v,s,f){var P=v.offset,N=this.getCoordinate(),Z=N.isTransposed,vt=Z?"x":"y",Tt=Z?1:-1,Gt={x:0,y:0};return s>0||f===1?Gt[vt]=P*Tt:Gt[vt]=P*Tt*-1,Gt},h.prototype.getLabelPoint=function(v,s,f){var P=this.getCoordinate(),N=v.content.length;function Z(Ze,He,yr){yr===void 0&&(yr=!1);var br=Ze;return Object(a.isArray)(br)&&(v.content.length===1?yr?br=Sf(br):br.length<=2?br=br[Ze.length-1]:br=Sf(br):br=br[He]),br}var vt={content:v.content[f],x:0,y:0,start:{x:0,y:0},color:"#fff"},Tt=Object(a.isArray)(s.shape)?s.shape[0]:s.shape,Gt=Tt==="funnel"||Tt==="pyramid";if(this.geometry.type==="polygon"){var _t=ar(s.x,s.y);vt.x=_t[0],vt.y=_t[1]}else this.geometry.type==="interval"&&!Gt?(vt.x=Z(s.x,f,!0),vt.y=Z(s.y,f)):(vt.x=Z(s.x,f),vt.y=Z(s.y,f));if(Gt){var Zt=Object(a.get)(s,"nextPoints"),Jt=Object(a.get)(s,"points");if(Zt){var ie=P.convert(Jt[1]),le=P.convert(Zt[1]);vt.x=(ie.x+le.x)/2,vt.y=(ie.y+le.y)/2}else if(Tt==="pyramid"){var ie=P.convert(Jt[1]),le=P.convert(Jt[2]);vt.x=(ie.x+le.x)/2,vt.y=(ie.y+le.y)/2}}v.position&&this.setLabelPosition(vt,s,f,v.position);var xe=this.getLabelOffsetPoint(v,f,N);return vt.start={x:vt.x,y:vt.y},vt.x+=xe.x,vt.y+=xe.y,vt.color=s.color,vt},h.prototype.getLabelAlign=function(v,s,f){var P="center",N=this.getCoordinate();if(N.isTransposed){var Z=v.offset;Z<0?P="right":Z===0?P="center":P="left",f>1&&s===0&&(P==="right"?P="left":P==="left"&&(P="right"))}return P},h.prototype.getLabelId=function(v){var s=this.geometry,f=s.type,P=s.getXScale(),N=s.getYScale(),Z=v[C],vt=s.getElementId(v);return f==="line"||f==="area"?vt+=" "+Z[P.field]:f==="path"&&(vt+=" "+Z[P.field]+"-"+Z[N.field]),vt},h.prototype.getLabelsRenderer=function(){var v=this.geometry,s=v.labelsContainer,f=v.labelOption,P=v.canvasRegion,N=v.animateOption,Z=this.geometry.coordinate,vt=this.labelsRenderer;return vt||(vt=new Ef({container:s,layout:Object(a.get)(f,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=vt),vt.region=P,vt.animate=N?vc("label",Z):!1,vt},h.prototype.getLabelCfgs=function(v){var s=this,f=this.geometry,P=f.labelOption,N=f.scales,Z=f.coordinate,vt=P,Tt=vt.fields,Gt=vt.callback,_t=vt.cfg,Zt=Tt.map(function(ie){return N[ie]}),Jt=[];return Object(a.each)(v,function(ie,le){var xe=ie[C],Ze=s.getLabelText(xe,Zt),He;if(Gt){var yr=Tt.map(function(li){return xe[li]});if(He=Gt.apply(void 0,yr),Object(a.isNil)(He)){Jt.push(null);return}}var br=Object(c.__assign)(Object(c.__assign)({id:s.getLabelId(ie),elementId:s.geometry.getElementId(ie),data:xe,mappingData:ie,coordinate:Z},_t),He);Object(a.isFunction)(br.position)&&(br.position=br.position(xe,ie,le));var tn=s.getLabelOffset(br.offset||0),an=s.getDefaultLabelCfg(tn,br.position);br=Object(a.deepMix)({},an,br),br.offset=s.getLabelOffset(br.offset||0);var yn=br.content;Object(a.isFunction)(yn)?br.content=yn(xe,ie,le):Object(a.isUndefined)(yn)&&(br.content=Ze[0]),Jt.push(br)}),Jt},h.prototype.getLabelText=function(v,s){var f=[];return Object(a.each)(s,function(P){var N=v[P.field];Object(a.isArray)(N)?N=N.map(function(Z){return P.getText(Z)}):N=P.getText(N),Object(a.isNil)(N)||N===""?f.push(null):f.push(N)}),f},h.prototype.getOffsetVector=function(v){v===void 0&&(v=0);var s=this.getCoordinate(),f=0;return Object(a.isNumber)(v)&&(f=v),s.isTransposed?s.applyMatrix(f,0):s.applyMatrix(0,f)},h.prototype.getGeometryShapes=function(){var v=this.geometry,s={};return Object(a.each)(v.elementsMap,function(f,P){s[P]=f.shape}),Object(a.each)(v.getOffscreenGroup().getChildren(),function(f){var P=v.getElementId(f.get("origin").mappingData);s[P]=f}),s},h}(),Jo=Sd,Md=i("ojtO");function Mf(h,v,s){if(!h)return s;var f;if(h.callback&&h.callback.length>1){var P=Array(h.callback.length-1).fill("");f=h.mapping.apply(h,Object(c.__spreadArrays)([v],P)).join("")}else f=h.mapping(v).join("");return f||s}var Rs={hexagon:function(h,v,s){var f=s/2*Math.sqrt(3);return[["M",h,v-s],["L",h+f,v-s/2],["L",h+f,v+s/2],["L",h,v+s],["L",h-f,v+s/2],["L",h-f,v-s/2],["Z"]]},bowtie:function(h,v,s){var f=s-1.5;return[["M",h-s,v-f],["L",h+s,v+f],["L",h+s,v-f],["L",h-s,v+f],["Z"]]},cross:function(h,v,s){return[["M",h-s,v-s],["L",h+s,v+s],["M",h+s,v-s],["L",h-s,v+s]]},tick:function(h,v,s){return[["M",h-s/2,v-s],["L",h+s/2,v-s],["M",h,v-s],["L",h,v+s],["M",h-s/2,v+s],["L",h+s/2,v+s]]},plus:function(h,v,s){return[["M",h-s,v],["L",h+s,v],["M",h,v-s],["L",h,v+s]]},hyphen:function(h,v,s){return[["M",h-s,v],["L",h+s,v]]},line:function(h,v,s){return[["M",h,v-s],["L",h,v+s]]}},Cf=["line","cross","tick","plus","hyphen"];function mc(h,v){return Object(a.isFunction)(v)?v(h):Object(a.deepMix)({},h,v)}function Cu(h,v){var s=h.symbol;if(Object(a.isString)(s)&&Cf.indexOf(s)!==-1){var f=Object(a.get)(h,"style",{}),P=Object(a.get)(f,"lineWidth",1),N=f.stroke||f.fill||v;h.style=Object(a.deepMix)({},h.style,{lineWidth:P,stroke:N,fill:null})}}function Au(h){var v=h.symbol;Object(a.isString)(v)&&Rs[v]&&(h.symbol=Rs[v])}function Es(h){return h.startsWith(O.LEFT)||h.startsWith(O.RIGHT)?"vertical":"horizontal"}function Tu(h,v,s,f,P){var N=s.getScale(s.type);if(N.isCategory){var Z=N.field,vt=v.getAttribute("color"),Tt=v.getAttribute("shape"),Gt=h.getTheme().defaultColor,_t=v.coordinate.isPolar;return N.getTicks().map(function(Zt,Jt){var ie,le=Zt.text,xe=Zt.value,Ze=le,He=N.invert(xe),yr=h.filterFieldData(Z,[(ie={},ie[Z]=He,ie)]).length===0;Object(a.each)(h.views,function(li){var Yn;li.filterFieldData(Z,[(Yn={},Yn[Z]=He,Yn)]).length||(yr=!0)});var br=Mf(vt,He,Gt),tn=Mf(Tt,He,"point"),an=v.getShapeMarker(tn,{color:br,isInPolar:_t}),yn=P;return Object(a.isFunction)(yn)&&(yn=yn(Ze,Jt,Object(c.__assign)({name:Ze,value:He},Object(a.deepMix)({},f,an)))),an=Object(a.deepMix)({},f,an,zr(Object(c.__assign)({},yn),["style"])),Cu(an,br),yn&&yn.style&&(an.style=mc(an.style,yn.style)),Au(an),{id:He,name:Ze,value:He,marker:an,unchecked:yr}})}return[]}function Mh(h,v,s){return s.map(function(f,P){var N=v;Object(a.isFunction)(N)&&(N=N(f.name,P,Object(a.deepMix)({},h,f)));var Z=Object(a.deepMix)({},h,N,f.marker);return Au(Z),f.marker=Z,f})}function bc(h,v){var s=Object(a.get)(h,["components","legend"],{});return Object(a.deepMix)({},Object(a.get)(s,["common"],{}),Object(a.deepMix)({},Object(a.get)(s,[v],{})))}var Ch="4.1.19",ji={getLegendItems:Tu,translate:Cl,rotate:yc,zoom:$a,transform:Hs,getAngle:dr,getSectorPath:Ge,polarToCartesian:Ce,getDelegationObject:Pi,getTooltipItems:Ae},zn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},_i={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ya=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Oc=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],xc=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],da=function(h){h===void 0&&(h={});var v=h.backgroundColor,s=v===void 0?"#141414":v,f=h.subColor,P=f===void 0?"rgba(255,255,255,0.05)":f,N=h.paletteQualitative10,Z=N===void 0?Ya:N,vt=h.paletteQualitative20,Tt=vt===void 0?Oc:vt,Gt=h.paletteSemanticRed,_t=Gt===void 0?"#F4664A":Gt,Zt=h.paletteSemanticGreen,Jt=Zt===void 0?"#30BF78":Zt,ie=h.paletteSemanticYellow,le=ie===void 0?"#FAAD14":ie,xe=h.paletteSequence,Ze=xe===void 0?xc:xe,He=h.fontFamily,yr=He===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:He,br=h.brandColor,tn=br===void 0?Z[0]:br;return{backgroundColor:s,brandColor:tn,subColor:P,paletteQualitative10:Z,paletteQualitative20:Tt,paletteSemanticRed:_t,paletteSemanticGreen:Jt,paletteSemanticYellow:le,paletteSequence:Ze,fontFamily:yr,axisLineBorderColor:_i[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:_i[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:_i[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:_i[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:_i[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:_i[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:_i[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ya[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:_i[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:_i[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:_i[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:_i[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:_i[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:_i[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:zn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:zn[25],annotationArcBorderColor:_i[15],annotationArcBorder:1,annotationLineBorderColor:_i[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:_i[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:_i[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:_i[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:_i[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:_i[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:zn[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:_i[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:zn[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:_i[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Ya[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:zn[100],pointBorderOpacity:1,pointActiveBorderColor:_i[100],pointSelectedBorder:2,pointSelectedBorderColor:_i[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ya[0],hollowPointBorderOpacity:.95,hollowPointFillColor:zn[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:_i[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:_i[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ya[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ya[0],areaFillOpacity:.25,areaActiveFillColor:Ya[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ya[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ya[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:_i[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:_i[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ya[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:_i[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:_i[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ya[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:zn[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:_i[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:_i[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},no=da(),Du=i("ZVen"),js=i("l/Sb");function ol(h){return h?!1:h==null||isNaN(h)}function Zs(h){if(Object(a.isArray)(h))return ol(h[1].y);var v=h.y;return Object(a.isArray)(v)?ol(v[0]):ol(v)}function Kl(h,v,s){if(v===void 0&&(v=!1),s===void 0&&(s=!0),!h.length||h.length===1&&!s)return[];if(v){for(var f=[],P=0,N=h.length;P<N;P++){var Z=h[P];Zs(Z)||f.push(Z)}return[f]}for(var vt=[],Tt=[],P=0,N=h.length;P<N;P++){var Z=h[P];Zs(Z)?Tt.length&&(Tt.length===1&&!s||vt.push(Tt),Tt=[]):Tt.push(Z)}return Tt.length&&vt.push(Tt),vt}function No(h){for(var v=[],s=0;s<h.length;s++){var f=h[s];if(f){var P=s===0?"M":"L";v.push([P,f.x,f.y])}}var N=h[0];return N&&(v.push(["L",N.x,N.y]),v.push(["z"])),v}function ws(h){for(var v=h.length/2,s=[],f=[],P=0;P<h.length;P++)P<v?s.push(h[P]):f.push(h[P]);var N=Ve(s,!1),Z=Ve(f,!1);f.length&&N.push(["L",f[0].x,f[0].y]),Z.shift();var vt=N.concat(Z);return s.length&&vt.push(["L",s[0].x,s[0].y]),vt.push(["z"]),vt}function Aa(h,v,s,f){f===void 0&&(f="");var P=h.style,N=P===void 0?{}:P,Z=h.defaultStyle,vt=h.color,Tt=h.size,Gt=Object(c.__assign)(Object(c.__assign)({},Z),N);return vt&&(v&&(N.stroke||(Gt.stroke=vt)),s&&(N.fill||(Gt.fill=vt))),f&&Object(a.isNil)(N[f])&&!Object(a.isNil)(Tt)&&(Gt[f]=Tt),Gt}function Ec(h){return Object(a.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},Object(a.get)(h,["background","style"]))}function _l(h){var v=h.x,s=Object(a.isArray)(h.y)?h.y:[h.y];return s.map(function(f,P){return{x:Object(a.isArray)(v)?v[P]:v,y:f}})}var Af={line:function(h,v,s){return[["M",h-s,v],["L",h+s,v]]},dot:function(h,v,s){return[["M",h-s,v],["L",h+s,v]]},dash:function(h,v,s){return[["M",h-s,v],["L",h+s,v]]},smooth:function(h,v,s){return[["M",h-s,v],["A",s/2,s/2,0,1,1,h,v],["A",s/2,s/2,0,1,0,h+s,v]]},hv:function(h,v,s){return[["M",h-s-1,v-2.5],["L",h,v-2.5],["L",h,v+2.5],["L",h+s+1,v+2.5]]},vh:function(h,v,s){return[["M",h-s-1,v+2.5],["L",h,v+2.5],["L",h,v-2.5],["L",h+s+1,v-2.5]]},hvh:function(h,v,s){return[["M",h-(s+1),v+2.5],["L",h-s/2,v+2.5],["L",h-s/2,v-2.5],["L",h+s/2,v-2.5],["L",h+s/2,v+2.5],["L",h+s+1,v+2.5]]},vhv:function(h,v){return[["M",h-5,v+2.5],["L",h-5,v],["L",h,v],["L",h,v-3],["L",h,v+3],["L",h+6.5,v+3]]}};function Zl(h,v){var s=h.color;return{symbol:Af[v],style:{lineWidth:2,r:6,stroke:s}}}function Ah(h,v,s){for(var f=h.isStack,P=h.connectNulls,N=h.isInCircle,Z=h.showSinglePoint,vt=Aa(h,!0,!1,"lineWidth"),Tt=Kl(h.points,P,Z),Gt=[],_t=0,Zt=Tt.length;_t<Zt;_t++){var Jt=Tt[_t];Gt=Gt.concat(Cd(Jt,N,f,v,s,vt))}return vt.path=Gt,vt}function $l(h,v,s,f,P){if(h.length===1)return[["M",h[0].x,h[0].y-P.lineWidth/2],["L",h[0].x,h[0].y],["L",h[0].x,h[0].y+P.lineWidth/2]];var N;return s?(v&&h.length&&h.push({x:h[0].x,y:h[0].y}),N=Ve(h,!1,f)):(N=Ue(h,!1),v&&N.push(["Z"])),N}function Th(h,v,s,f,P,N){var Z=[],vt=[];Object(a.each)(h,function(_t){var Zt=_l(_t);Z.push(Zt[1]),vt.push(Zt[0])});var Tt=$l(Z,v,f,P,N),Gt=$l(vt,v,f,P,N);return s?Tt:Tt.concat(Gt)}function Cd(h,v,s,f,P,N){if(h.length){var Z=h[0];return Object(a.isArray)(Z.y)?Th(h,v,s,f,P,N):$l(h,v,f,P,N)}return[]}var Ad=Ps("line",{defaultShapeType:"line"});Object(a.each)(["line","dot","dash","smooth"],function(h){Ki("line",h,{draw:function(v,s){var f=h==="smooth",P;if(f){var N=this.coordinate,Z=N.start,vt=N.end;P=[[Z.x,vt.y],[vt.x,Z.y]]}var Tt=Ah(v,f,P),Gt=s.addShape({type:"path",attrs:Tt,name:"line",capture:!f});return Gt},getMarker:function(v){return Zl(v,h)}})});var Td=Ad,Dh=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.type="path",f.shapeType="line";var P=s.connectNulls,N=P===void 0?!1:P,Z=s.showSinglePoint,vt=Z===void 0?!0:Z;return f.connectNulls=N,f.showSinglePoint=vt,f}return v.prototype.createElements=function(s,f,P){P===void 0&&(P=!1);var N=this,Z=N.lastElementsMap,vt=N.elementsMap,Tt=N.elements,Gt=N.container,_t=this.getElementId(s),Zt=this.getShapeInfo(s),Jt=Z[_t];if(Jt){var le=Jt.getModel();(this.isCoordinateChanged||_o(le,Zt))&&(Jt.animate=this.animateOption,Jt.update(Zt)),delete Z[_t]}else{var ie=this.getShapeFactory();Jt=new Eu({shapeFactory:ie,container:Gt,offscreenGroup:this.getOffscreenGroup()}),Jt.geometry=this,Jt.animate=this.animateOption,Jt.draw(Zt,P)}return Tt.push(Jt),vt[_t]=Jt,Tt},v.prototype.getPointsAndData=function(s){for(var f=[],P=[],N=0,Z=s.length;N<Z;N++){var vt=s[N];f.push({x:vt.x,y:vt.y}),P.push(vt[C])}return{points:f,data:P}},v.prototype.getShapeInfo=function(s){var f=this.getDrawCfg(s[0]),P=this.getPointsAndData(s),N=P.points,Z=P.data;return f.mappingData=s,f.data=Z,f.isStack=!!this.getAdjust("stack"),f.points=N,f.connectNulls=this.connectNulls,f.showSinglePoint=this.showSinglePoint,f},v}(Ls),Tf=Dh;function Df(h,v,s,f,P){var N=[];if(h.length){for(var Z=[],vt=[],Tt=0,Gt=h.length;Tt<Gt;Tt++){var _t=h[Tt];Z.push(_t[1]),vt.push(_t[0])}vt=vt.reverse(),Object(a.each)([Z,vt],function(Zt,Jt){var ie=[],le=f.parsePoints(Zt),xe=le[0];Z.length===1&&vt.length===1?ie=Jt===0?[["M",xe.x-.5,xe.y],["L",xe.x+.5,xe.y]]:[["L",xe.x+.5,xe.y],["L",xe.x-.5,xe.y]]:(v&&le.push({x:xe.x,y:xe.y}),s?ie=Ve(le,!1,P):ie=Ue(le,!1),Jt>0&&(ie[0][0]="L")),N=N.concat(ie)}),N.push(["Z"])}return N}function sl(h,v,s,f,P){for(var N=Aa(h,v,!v,"lineWidth"),Z=h.connectNulls,vt=h.isInCircle,Tt=h.points,Gt=h.showSinglePoint,_t=Kl(Tt,Z,Gt),Zt=[],Jt=0,ie=_t.length;Jt<ie;Jt++){var le=_t[Jt];Zt=Zt.concat(Df(le,vt,s,f,P))}return N.path=Zt,N}function Pu(h){var v=h.start,s=h.end;return[[v.x,s.y],[s.x,v.y]]}var Dd=Ps("area",{defaultShapeType:"area",getDefaultPoints:function(h){var v=h.x,s=h.y0,f=Object(a.isArray)(h.y)?h.y:[s,h.y];return f.map(function(P){return{x:v,y:P}})}});Ki("area","area",{draw:function(h,v){var s=sl(h,!1,!1,this),f=v.addShape({type:"path",attrs:s,name:"area"});return f},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){return P===void 0&&(P=5.5),[["M",s-P,f-4],["L",s+P,f-4],["L",s+P,f+4],["L",s-P,f+4],["Z"]]},style:{r:5,fill:v}}}});var Pf=Dd,Ph=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.type="area",f.shapeType="area",f.generatePoints=!0,f.startOnZero=!0;var P=s.startOnZero,N=P===void 0?!0:P,Z=s.sortable,vt=Z===void 0?!1:Z,Tt=s.showSinglePoint,Gt=Tt===void 0?!1:Tt;return f.startOnZero=N,f.sortable=vt,f.showSinglePoint=Gt,f}return v.prototype.getPointsAndData=function(s){for(var f=[],P=[],N=0,Z=s.length;N<Z;N++){var vt=s[N];f.push(vt.points),P.push(vt[C])}return{points:f,data:P}},v.prototype.getYMinValue=function(){if(this.startOnZero)return h.prototype.getYMinValue.call(this);var s=this.getYScale();return s.min},v}(Tf),Pd=Ph,Id=Ps("edge",{defaultShapeType:"line",getDefaultPoints:function(h){return _l(h)}});Ki("edge","line",{draw:function(h,v){var s=Aa(h,!0,!1,"lineWidth"),f=Ue(this.parsePoints(h.points),this.coordinate.isPolar);return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var Ld=Id,Sc=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.type="edge",s.shapeType="edge",s.generatePoints=!0,s}return v}(Ls),Ih=Sc,Rd=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.type="heatmap",s.paletteCache={},s}return v.prototype.createElements=function(s,f,P){P===void 0&&(P=!1);var N=this.prepareRange(s),Z=this.prepareSize(),vt=Object(a.get)(this.styleOption,["style","shadowBlur"]);return Object(a.isNumber)(vt)||(vt=Z/2),this.prepareGreyScaleBlurredCircle(Z,vt),this.drawWithRange(s,N,Z,vt),null},v.prototype.clear=function(){h.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},v.prototype.prepareRange=function(s){var f=this.getAttribute("color"),P=f.getFields()[0],N=Infinity,Z=-Infinity;return s.forEach(function(vt){var Tt=vt[C][P];Tt>Z&&(Z=Tt),Tt<N&&(N=Tt)}),N===Z&&(N=Z-1),[N,Z]},v.prototype.prepareSize=function(){var s=this.getDefaultValue("size");return Object(a.isNumber)(s)||(s=this.getDefaultSize()),s},v.prototype.prepareGreyScaleBlurredCircle=function(s,f){var P=this.getGrayScaleBlurredCanvas(),N=s+f,Z=P.getContext("2d");P.width=P.height=N*2,Z.clearRect(0,0,P.width,P.height),Z.shadowOffsetX=Z.shadowOffsetY=N*2,Z.shadowBlur=f,Z.shadowColor="black",Z.beginPath(),Z.arc(-N,-N,s,0,Math.PI*2,!0),Z.closePath(),Z.fill()},v.prototype.drawWithRange=function(s,f,P,N){var Z=this.coordinate,vt=Z.start,Tt=Z.end,Gt=this.coordinate.getWidth(),_t=this.coordinate.getHeight(),Zt=this.getAttribute("color"),Jt=Zt.getFields()[0];this.clearShadowCanvasCtx();var ie=this.getShadowCanvasCtx();f&&(s=s.filter(function(Yn){return Yn[C][Jt]<=f[1]&&Yn[C][Jt]>=f[0]}));for(var le=this.scales[Jt],xe=0,Ze=s;xe<Ze.length;xe++){var He=Ze[xe],yr=this.getDrawCfg(He),br=yr.x,tn=yr.y,an=le.scale(He[C][Jt]);this.drawGrayScaleBlurredCircle(br-vt.x,tn-Tt.y,P+N,an,ie)}var yn=ie.getImageData(0,0,Gt,_t);this.clearShadowCanvasCtx(),this.colorize(yn),ie.putImageData(yn,0,0);var li=this.getImageShape();li.attr("x",vt.x),li.attr("y",Tt.y),li.attr("width",Gt),li.attr("height",_t),li.attr("img",ie.canvas),li.set("origin",this.getShapeInfo(s))},v.prototype.getDefaultSize=function(){var s=this.getAttribute("position"),f=this.coordinate;return Math.min(f.getWidth()/(s.scales[0].ticks.length*4),f.getHeight()/(s.scales[1].ticks.length*4))},v.prototype.clearShadowCanvasCtx=function(){var s=this.getShadowCanvasCtx();s.clearRect(0,0,s.canvas.width,s.canvas.height)},v.prototype.getShadowCanvasCtx=function(){var s=this.shadowCanvas;return s||(s=document.createElement("canvas"),this.shadowCanvas=s),s.width=this.coordinate.getWidth(),s.height=this.coordinate.getHeight(),s.getContext("2d")},v.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},v.prototype.drawGrayScaleBlurredCircle=function(s,f,P,N,Z){var vt=this.getGrayScaleBlurredCanvas();Z.globalAlpha=N,Z.drawImage(vt,s-P,f-P)},v.prototype.colorize=function(s){for(var f=this.getAttribute("color"),P=s.data,N=this.paletteCache,Z=3;Z<P.length;Z+=4){var vt=P[Z];if(Object(a.isNumber)(vt)){var Tt=N[vt]?N[vt]:ut.a.rgb2arr(f.gradient(vt/256));P[Z-3]=Tt[0],P[Z-2]=Tt[1],P[Z-1]=Tt[2],P[Z]=vt}}},v.prototype.getImageShape=function(){var s=this.imageShape;if(s)return s;var f=this.container;return s=f.addShape({type:"image",attrs:{}}),this.imageShape=s,s},v.prototype.getShapeInfo=function(s){var f=this.getDrawCfg(s[0]);return Object(c.__assign)(Object(c.__assign)({},f),{mappingData:s,data:this.getData(s)})},v.prototype.getData=function(s){return s.map(function(f){return f[C]})},v}(Ls),jd=Rd;function Mc(h,v){v===void 0&&(v=!1);var s=h.x,f=h.y,P=h.y0,N=h.size,Z,vt;Object(a.isArray)(f)?(Z=f[0],vt=f[1]):(Z=P,vt=f);var Tt,Gt;Object(a.isArray)(s)?(Tt=s[0],Gt=s[1]):(Tt=s-N/2,Gt=s+N/2);var _t=[{x:Tt,y:Z},{x:Tt,y:vt}];return v?_t.push({x:Gt,y:(vt+Z)/2}):_t.push({x:Gt,y:vt},{x:Gt,y:Z}),_t}function ll(h,v){v===void 0&&(v=!0);var s=[],f=h[0];s.push(["M",f.x,f.y]);for(var P=1,N=h.length;P<N;P++)s.push(["L",h[P].x,h[P].y]);return v&&(s.push(["L",f.x,f.y]),s.push(["z"])),s}function Ql(h,v){var s=0,f=0,P=0,N=0;return Object(a.isArray)(h)?h.length===1?s=f=P=N=h[0]:h.length===2?(s=P=h[0],f=N=h[1]):h.length===3?(s=h[0],f=N=h[1],P=h[2]):(s=h[0],f=h[1],P=h[2],N=h[3]):s=f=P=N=h,s+f>v&&(s=s?v/(1+f/s):0,f=v-s),P+N>v&&(P=P?v/(1+N/P):0,N=v-P),[s||0,f||0,P||0,N||0]}function If(h,v,s){var f=[];if(s.isRect){var P=s.isTransposed?{x:s.start.x,y:v[0].y}:{x:v[0].x,y:s.start.y},N=s.isTransposed?{x:s.end.x,y:v[2].y}:{x:v[3].x,y:s.end.y},Z=Object(a.get)(h,["background","style","radius"]);if(Z){var vt=s.isTransposed?Math.abs(v[0].y-v[2].y):v[2].x-v[1].x,Tt=s.isTransposed?s.getWidth():s.getHeight(),Gt=Ql(Z,Math.min(vt,Tt)),_t=Gt[0],Zt=Gt[1],Jt=Gt[2],ie=Gt[3];f.push(["M",P.x,N.y+_t]),_t!==0&&f.push(["A",_t,_t,0,0,1,P.x+_t,N.y]),f.push(["L",N.x-Zt,N.y]),Zt!==0&&f.push(["A",Zt,Zt,0,0,1,N.x,N.y+Zt]),f.push(["L",N.x,P.y-Jt]),Jt!==0&&f.push(["A",Jt,Jt,0,0,1,N.x-Jt,P.y]),f.push(["L",P.x+ie,P.y]),ie!==0&&f.push(["A",ie,ie,0,0,1,P.x,P.y-ie])}else f.push(["M",P.x,P.y]),f.push(["L",N.x,P.y]),f.push(["L",N.x,N.y]),f.push(["L",P.x,N.y]),f.push(["L",P.x,P.y]);f.push(["z"])}if(s.isPolar){var le=s.getCenter(),xe=dr(h,s),Ze=xe.startAngle,He=xe.endAngle;if(s.type!=="theta"&&!s.isTransposed)f=Ge(le.x,le.y,s.getRadius(),Ze,He);else{var yr=function(an){return Math.pow(an,2)},_t=Math.sqrt(yr(le.x-v[0].x)+yr(le.y-v[0].y)),Zt=Math.sqrt(yr(le.x-v[2].x)+yr(le.y-v[2].y));f=Ge(le.x,le.y,_t,s.startAngle,s.endAngle,Zt)}}return f}function Lf(h,v,s){var f=s.getWidth(),P=s.getHeight(),N=s.type==="rect",Z=[],vt=(h[2].x-h[1].x)/2,Tt=s.isTransposed?vt*P/f:vt*f/P;return v==="round"?(N?(Z.push(["M",h[0].x,h[0].y+Tt]),Z.push(["L",h[1].x,h[1].y-Tt]),Z.push(["A",vt,vt,0,0,1,h[2].x,h[2].y-Tt]),Z.push(["L",h[3].x,h[3].y+Tt]),Z.push(["A",vt,vt,0,0,1,h[0].x,h[0].y+Tt])):(Z.push(["M",h[0].x,h[0].y]),Z.push(["L",h[1].x,h[1].y]),Z.push(["A",vt,vt,0,0,1,h[2].x,h[2].y]),Z.push(["L",h[3].x,h[3].y]),Z.push(["A",vt,vt,0,0,1,h[0].x,h[0].y])),Z.push(["z"])):Z=ll(h),Z}function Jl(h,v,s){var f=[];return Object(a.isNil)(v)?s?f.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",h[2].x,h[2].y],["L",h[2].x,h[2].y],["Z"]):f.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",h[2].x,h[2].y],["L",h[3].x,h[3].y],["Z"]):f.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",v[1].x,v[1].y],["L",v[0].x,v[0].y],["Z"]),f}function Lh(h,v,s){var f,P,N,Z,vt=h[0],Tt=h[1],Gt=h[2],_t=h[3],Zt=[0,0,0,0],Jt=Zt[0],ie=Zt[1],le=Zt[2],xe=Zt[3];vt.y<Tt.y?(Tt=h[0],vt=h[1],_t=h[2],Gt=h[3],f=Ql(s,Math.min(_t.x-vt.x,vt.y-Tt.y)),xe=f[0],le=f[1],ie=f[2],Jt=f[3]):(P=Ql(s,Math.min(_t.x-vt.x,vt.y-Tt.y)),Jt=P[0],ie=P[1],le=P[2],xe=P[3]),v.isTransposed&&(vt=h[0],_t=h[1],Gt=h[2],Tt=h[3],h[0].x>h[1].x?(_t=h[0],vt=h[1],Tt=h[2],Gt=h[3],N=Ql(s,Math.min(_t.x-vt.x,vt.y-Tt.y)),Jt=N[0],xe=N[1],le=N[2],ie=N[3]):(Z=Ql(s,Math.min(_t.x-vt.x,vt.y-Tt.y)),ie=Z[0],le=Z[1],xe=Z[2],Jt=Z[3]));var Ze=[];return Ze.push(["M",Tt.x,Tt.y+Jt]),Jt!==0&&Ze.push(["A",Jt,Jt,0,0,1,Tt.x+Jt,Tt.y]),Ze.push(["L",Gt.x-ie,Gt.y]),ie!==0&&Ze.push(["A",ie,ie,0,0,1,Gt.x,Gt.y+ie]),Ze.push(["L",_t.x,_t.y-le]),le!==0&&Ze.push(["A",le,le,0,0,1,_t.x-le,_t.y]),Ze.push(["L",vt.x+xe,vt.y]),xe!==0&&Ze.push(["A",xe,xe,0,0,1,vt.x,vt.y-xe]),Ze.push(["L",Tt.x,Tt.y+Jt]),Ze.push(["z"]),Ze}var Rh=Ps("interval",{defaultShapeType:"rect",getDefaultPoints:function(h){return Mc(h)}});Ki("interval","rect",{draw:function(h,v){var s=Aa(h,!1,!0),f=v,P=h==null?void 0:h.background;if(P){f=v.addGroup();var N=Ec(h),Z=If(h,this.parsePoints(h.points),this.coordinate);f.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},N),{path:Z}),zIndex:-1,name:pc})}var vt;s.radius&&this.coordinate.isRect?vt=Lh(this.parsePoints(h.points),this.coordinate,s.radius):vt=this.parsePath(Lf(h.points,s.lineCap,this.coordinate));var Tt=f.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:vt}),name:"interval"});return P?f:Tt},getMarker:function(h){var v=h.color,s=h.isInPolar;return s?{symbol:"circle",style:{r:4.5,fill:v}}:{symbol:"square",style:{r:4,fill:v}}}});var jh=Rh;function Cc(h,v){var s=h.length,f=h;Object(a.isString)(f[0])&&(f=h.map(function(vt){return v.translate(vt)}));for(var P=f[1]-f[0],N=2;N<s;N++){var Z=f[N]-f[N-1];P>Z&&(P=Z)}return P}function co(h,v){if(v){var s=Object(a.flatten)(h),f=Object(a.valuesOfKey)(s,v);return f.length}return h.length}function Iu(h){var v=h.theme,s=h.coordinate,f=h.getXScale(),P=f.values,N=h.beforeMappingData,Z=P.length,vt=ze(h.coordinate),Tt=h.intervalPadding,Gt=h.dodgePadding,_t=h.maxColumnWidth||v.maxColumnWidth,Zt=h.minColumnWidth||v.minColumnWidth,Jt=h.columnWidthRatio||v.columnWidthRatio,ie=h.multiplePieWidthRatio||v.multiplePieWidthRatio,le=h.roseWidthRatio||v.roseWidthRatio;if(f.isLinear&&P.length>1){P.sort();var xe=Cc(P,f);Z=(f.max-f.min)/xe,P.length>Z&&(Z=P.length)}var Ze=f.range,He=1/Z,yr=1;if(s.isPolar?s.isTransposed&&Z>1?yr=ie:yr=le:(f.isLinear&&(He*=Ze[1]-Ze[0]),yr=Jt),!Object(a.isNil)(Tt)&&Tt>=0){var br=Tt/vt;He=(1-(Z-1)*br)/Z}else He*=yr;if(h.getAdjust("dodge")){var tn=h.getAdjust("dodge"),an=tn.dodgeBy,yn=co(N,an);if(!Object(a.isNil)(Gt)&&Gt>=0){var li=Gt/vt;He=(He-li*(yn-1))/yn}else!Object(a.isNil)(Tt)&&Tt>=0&&(He*=yr),He=He/yn;He=He>=0?He:0}if(!Object(a.isNil)(_t)&&_t>=0){var Yn=_t/vt;He>Yn&&(He=Yn)}if(!Object(a.isNil)(Zt)&&Zt>=0){var Hn=Zt/vt;He<Hn&&(He=Hn)}return He}var Rf=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.type="interval",f.shapeType="interval",f.generatePoints=!0;var P=s.background;return f.background=P,f}return v.prototype.createShapePointsCfg=function(s){var f=h.prototype.createShapePointsCfg.call(this,s),P,N=this.getAttribute("size");if(N){P=this.getAttributeValues(N,s)[0];var Z=this.coordinate,vt=ze(Z);P=P/vt}else this.defaultSize||(this.defaultSize=Iu(this)),P=this.defaultSize;return f.size=P,f},v.prototype.adjustScale=function(){h.prototype.adjustScale.call(this);var s=this.getYScale();if(this.coordinate.type==="theta")s.change({nice:!1,min:0,max:ga(s)});else{var f=this.scaleDefs,P=s.field,N=s.min,Z=s.max,vt=s.type;vt!=="time"&&(N>0&&!Object(a.get)(f,[P,"min"])&&s.change({min:0}),Z<=0&&!Object(a.get)(f,[P,"max"])&&s.change({max:0}))}},v.prototype.getDrawCfg=function(s){var f=h.prototype.getDrawCfg.call(this,s);return f.background=this.background,f},v}(Ls),Ac=Rf,wd=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;f.type="line";var P=s.sortable,N=P===void 0?!1:P;return f.sortable=N,f}return v}(Tf),Lu=wd,Ru=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Fo=["cross","tick","plus","hyphen","line"];function qo(h,v,s,f,P){var N=Aa(v,P,!P,"r"),Z=h.parsePoints(v.points),vt=Z[0];if(v.isStack)vt=Z[1];else if(Z.length>1){for(var Tt=s.addGroup(),Gt=0,_t=Z;Gt<_t.length;Gt++){var Zt=_t[Gt];Tt.addShape({type:"marker",attrs:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},N),{symbol:Rs[f]||f}),Zt)})}return Tt}return s.addShape({type:"marker",attrs:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},N),{symbol:Rs[f]||f}),vt)})}var Bd=Ps("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(h){return _l(h)}});Object(a.each)(Ru,function(h){Ki("point","hollow-"+h,{draw:function(v,s){return qo(this,v,s,h,!0)},getMarker:function(v){var s=v.color;return{symbol:Rs[h]||h,style:{r:4.5,stroke:s,fill:null}}}})});var ju=Bd,jf=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.type="point",s.shapeType="point",s.generatePoints=!0,s}return v.prototype.getDrawCfg=function(s){var f=h.prototype.getDrawCfg.call(this,s);return Object(c.__assign)(Object(c.__assign)({},f),{isStack:!!this.getAdjust("stack")})},v}(Ls),ul=jf;function wf(h){for(var v=h[0],s=1,f=[["M",v.x,v.y]];s<h.length;){var P=h[s];(P.x!==h[s-1].x||P.y!==h[s-1].y)&&(f.push(["L",P.x,P.y]),P.x===v.x&&P.y===v.y&&s<h.length-1&&(v=h[s+1],f.push(["Z"]),f.push(["M",v.x,v.y]),s++)),s++}return Object(a.isEqual)(Object(a.last)(f),v)||f.push(["L",v.x,v.y]),f.push(["Z"]),f}var Bf=Ps("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(h){var v=[];return Object(a.each)(h.x,function(s,f){var P=h.y[f];v.push({x:s,y:P})}),v}});Ki("polygon","polygon",{draw:function(h,v){if(!Object(a.isEmpty)(h.points)){var s=Aa(h,!0,!0),f=this.parsePath(wf(h.points));return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f}),name:"polygon"})}},getMarker:function(h){var v=h.color;return{symbol:"square",style:{r:4,fill:v}}}});var Tc=Bf,Dc=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.type="polygon",s.shapeType="polygon",s.generatePoints=!0,s}return v.prototype.createShapePointsCfg=function(s){var f=h.prototype.createShapePointsCfg.call(this,s),P=f.x,N=f.y,Z;if(!(Object(a.isArray)(P)&&Object(a.isArray)(N))){var vt=this.getXScale(),Tt=this.getYScale(),Gt=vt.values.length,_t=Tt.values.length,Zt=.5*1/Gt,Jt=.5*1/_t;vt.isCategory&&Tt.isCategory?(P=[P-Zt,P-Zt,P+Zt,P+Zt],N=[N-Jt,N+Jt,N+Jt,N-Jt]):Object(a.isArray)(P)?(Z=P,P=[Z[0],Z[0],Z[1],Z[1]],N=[N-Jt/2,N+Jt/2,N+Jt/2,N-Jt/2]):Object(a.isArray)(N)&&(Z=N,N=[Z[0],Z[1],Z[1],Z[0]],P=[P-Zt/2,P-Zt/2,P+Zt/2,P+Zt/2]),f.x=P,f.y=N}return f},v}(Ls),Pc=Dc,ql=Ps("schema",{defaultShapeType:""}),wh=ql,Bh=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.type="schema",s.shapeType="schema",s.generatePoints=!0,s}return v.prototype.createShapePointsCfg=function(s){var f=h.prototype.createShapePointsCfg.call(this,s),P,N=this.getAttribute("size");if(N){P=this.getAttributeValues(N,s)[0];var Z=this.coordinate,vt=ze(Z);P=P/vt}else this.defaultSize||(this.defaultSize=Iu(this)),P=this.defaultSize;return f.size=P,f},v}(Ls),Nf=Bh;function tu(h){if(!Object(a.isArray)(h))return[];var v=Object(a.max)(h);return Object(a.map)(h,function(s){return s/v})}var wu=Ps("violin",{defaultShapeType:"violin",getDefaultPoints:function(h){var v=h.size/2,s=[],f=tu(h._size);return Object(a.each)(h.y,function(P,N){var Z=f[N]*v,vt=N===0,Tt=N===h.y.length-1;s.push({isMin:vt,isMax:Tt,x:h.x-Z,y:P}),s.unshift({isMin:vt,isMax:Tt,x:h.x+Z,y:P})}),s}});Ki("violin","violin",{draw:function(h,v){var s=Aa(h,!0,!0),f=this.parsePath(No(h.points));return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f}),name:"violin"})},getMarker:function(h){var v=h.color;return{symbol:"circle",style:{r:4,fill:v}}}});var Ff=wu,Al=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.type="violin",s.shapeType="violin",s.generatePoints=!0,s}return v.prototype.createShapePointsCfg=function(s){var f=h.prototype.createShapePointsCfg.call(this,s),P,N=this.getAttribute("size");if(N){P=this.getAttributeValues(N,s)[0];var Z=this.coordinate,vt=ze(Z);P=P/vt}else this.defaultSize||(this.defaultSize=Iu(this)),P=this.defaultSize;return f.size=P,f._size=Object(a.get)(s[C],[this._sizeField]),f},v.prototype.initAttributes=function(){var s=this.attributeOption,f=s.size?s.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=f,delete s.size,h.prototype.initAttributes.call(this)},v}(Ls),Nh=Al;Ki("area","line",{draw:function(h,v){var s=sl(h,!0,!1,this),f=v.addShape({type:"path",attrs:s,name:"area"});return f},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){return P===void 0&&(P=5.5),[["M",s-P,f-4],["L",s+P,f-4],["L",s+P,f+4],["L",s-P,f+4],["Z"]]},style:{r:5,stroke:v,fill:null}}}}),Ki("area","smooth",{draw:function(h,v){var s=this.coordinate,f=sl(h,!1,!0,this,Pu(s)),P=v.addShape({type:"path",attrs:f,name:"area"});return P},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){return P===void 0&&(P=5.5),[["M",s-P,f-4],["L",s+P,f-4],["L",s+P,f+4],["L",s-P,f+4],["Z"]]},style:{r:5,fill:v}}}}),Ki("area","smooth-line",{draw:function(h,v){var s=this.coordinate,f=sl(h,!0,!0,this,Pu(s)),P=v.addShape({type:"path",attrs:f,name:"area"});return P},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){return P===void 0&&(P=5.5),[["M",s-P,f-4],["L",s+P,f-4],["L",s+P,f+4],["L",s-P,f+4],["Z"]]},style:{r:5,stroke:v,fill:null}}}});function Bu(h,v){return["C",h.x*1/2+v.x*1/2,h.y,h.x*1/2+v.x*1/2,v.y,v.x,v.y]}function fs(h,v){var s=[];s.push({x:v.x,y:v.y}),s.push(h);var f=["Q"];return Object(a.each)(s,function(P){f.push(P.x,P.y)}),f}function Fh(h,v,s){var f=fs(v,s),P=[["M",h.x,h.y]];return P.push(f),P}function Gf(h,v){var s=fs(h[1],v),f=fs(h[3],v),P=[["M",h[0].x,h[0].y]];return P.push(f),P.push(["L",h[3].x,h[3].y]),P.push(["L",h[2].x,h[2].y]),P.push(s),P.push(["L",h[1].x,h[1].y]),P.push(["L",h[0].x,h[0].y]),P.push(["Z"]),P}Ki("edge","arc",{draw:function(h,v){var s=Aa(h,!0,!1,"lineWidth"),f=h.points,P=f.length>2?"weight":"normal",N;if(h.isInCircle){var Z={x:0,y:1};return P==="normal"?N=Fh(f[0],f[1],Z):(s.fill=s.stroke,N=Gf(f,Z)),N=this.parsePath(N),v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:N})})}else{if(P==="normal")return f=this.parsePoints(f),N=hr((f[1].x+f[0].x)/2,f[0].y,Math.abs(f[1].x-f[0].x)/2,Math.PI,Math.PI*2),v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:N})});var vt=Bu(f[1],f[3]),Tt=Bu(f[2],f[0]);return N=[["M",f[0].x,f[0].y],["L",f[1].x,f[1].y],vt,["L",f[3].x,f[3].y],["L",f[2].x,f[2].y],Tt,["Z"]],N=this.parsePath(N),s.fill=s.stroke,v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:N})})}},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});function cl(h,v){var s=Bu(h,v),f=[["M",h.x,h.y]];return f.push(s),f}Ki("edge","smooth",{draw:function(h,v){var s=Aa(h,!0,!1,"lineWidth"),f=h.points,P=this.parsePath(cl(f[0],f[1]));return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:P})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var Nu=1/3;function Uf(h,v){var s=[];s.push({x:h.x,y:h.y*(1-Nu)+v.y*Nu}),s.push({x:v.x,y:h.y*(1-Nu)+v.y*Nu}),s.push(v);var f=[["M",h.x,h.y]];return Object(a.each)(s,function(P){f.push(["L",P.x,P.y])}),f}Ki("edge","vhv",{draw:function(h,v){var s=Aa(h,!0,!1,"lineWidth"),f=h.points,P=this.parsePath(Uf(f[0],f[1]));return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:P})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}}),Ki("interval","funnel",{getPoints:function(h){return h.size=h.size*2,Mc(h)},draw:function(h,v){var s=Aa(h,!1,!0),f=this.parsePath(Jl(h.points,h.nextPoints,!1)),P=v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f}),name:"interval"});return P},getMarker:function(h){var v=h.color;return{symbol:"square",style:{r:4,fill:v}}}}),Ki("interval","hollow-rect",{draw:function(h,v){var s=Aa(h,!0,!1),f=v,P=h==null?void 0:h.background;if(P){f=v.addGroup();var N=Ec(h),Z=If(h,this.parsePoints(h.points),this.coordinate);f.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},N),{path:Z}),zIndex:-1,name:pc})}var vt=this.parsePath(ll(h.points)),Tt=f.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:vt}),name:"interval"});return P?f:Tt},getMarker:function(h){var v=h.color,s=h.isInPolar;return s?{symbol:"circle",style:{r:4.5,stroke:v,fill:null}}:{symbol:"square",style:{r:4,stroke:v,fill:null}}}});function eu(h){var v=h.x,s=h.y,f=h.y0;return Object(a.isArray)(s)?s.map(function(P,N){return{x:Object(a.isArray)(v)?v[N]:v,y:P}}):[{x:v,y:f},{x:v,y:s}]}Ki("interval","line",{getPoints:function(h){return eu(h)},draw:function(h,v){var s=Aa(h,!0,!1,"lineWidth"),f=zr(Object(c.__assign)({},s),["fill"]),P=this.parsePath(ll(h.points,!1)),N=v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},f),{path:P}),name:"interval"});return N},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){return[["M",s,f-P],["L",s,f+P]]},style:{r:5,stroke:v}}}}),Ki("interval","pyramid",{getPoints:function(h){return h.size=h.size*2,Mc(h,!0)},draw:function(h,v){var s=Aa(h,!1,!0),f=this.parsePath(Jl(h.points,h.nextPoints,!0)),P=v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f}),name:"interval"});return P},getMarker:function(h){var v=h.color;return{symbol:"square",style:{r:4,fill:v}}}});function Gh(h){var v=h.x,s=h.y,f=h.y0,P=h.size,N,Z;Object(a.isArray)(s)?(N=s[0],Z=s[1]):(N=f,Z=s);var vt=v+P/2,Tt=v-P/2;return[{x:v,y:N},{x:v,y:Z},{x:Tt,y:N},{x:vt,y:N},{x:Tt,y:Z},{x:vt,y:Z}]}function Ic(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["M",h[4].x,h[4].y],["L",h[5].x,h[5].y]]}Ki("interval","tick",{getPoints:function(h){return Gh(h)},draw:function(h,v){var s=Aa(h,!0,!1),f=this.parsePath(Ic(h.points)),P=v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f}),name:"interval"});return P},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){return[["M",s-P/2,f-P],["L",s+P/2,f-P],["M",s,f-P],["L",s,f+P],["M",s-P/2,f+P],["L",s+P/2,f+P]]},style:{r:5,stroke:v}}}});var Fu=function(h,v,s){var f=h.x,P=h.y,N=v.x,Z=v.y,vt;switch(s){case"hv":vt=[{x:N,y:P}];break;case"vh":vt=[{x:f,y:Z}];break;case"hvh":var Tt=(N+f)/2;vt=[{x:Tt,y:P},{x:Tt,y:Z}];break;case"vhv":var Gt=(P+Z)/2;vt=[{x:f,y:Gt},{x:N,y:Gt}];break;default:break}return vt};function Uh(h,v){var s=[];return Object(a.each)(h,function(f,P){var N=h[P+1];if(s.push(f),N){var Z=Fu(f,N,v);s=s.concat(Z)}}),s}function Gu(h){return h.map(function(v,s){return s===0?["M",v.x,v.y]:["L",v.x,v.y]})}function Lc(h,v){var s=Kl(h.points,h.connectNulls,h.showSinglePoint),f=[];return Object(a.each)(s,function(P){var N=Uh(P,v);f=f.concat(Gu(N))}),Object(c.__assign)(Object(c.__assign)({},Aa(h,!0,!1,"lineWidth")),{path:f})}Object(a.each)(["hv","vh","hvh","vhv"],function(h){Ki("line",h,{draw:function(v,s){var f=Lc(v,h),P=s.addShape({type:"path",attrs:f,name:"line"});return P},getMarker:function(v){return Zl(v,h)}})}),Object(a.each)(Fo,function(h){Ki("point",h,{draw:function(v,s){return qo(this,v,s,h,!0)},getMarker:function(v){var s=v.color;return{symbol:Rs[h],style:{r:4.5,stroke:s,fill:null}}}})}),Ki("point","image",{draw:function(h,v){var s=Aa(h,!1,!1,"r").r,f=this.parsePoints(h.points),P=f[0];if(h.isStack)P=f[1];else if(f.length>1){for(var N=v.addGroup(),Z=0,vt=f;Z<vt.length;Z++){var Tt=vt[Z];N.addShape("image",{attrs:{x:Tt.x-s/2,y:Tt.y-s,width:s,height:s,img:h.shape[1]}})}return N}return v.addShape("image",{attrs:{x:P.x-s/2,y:P.y-s,width:s,height:s,img:h.shape[1]}})},getMarker:function(h){var v=h.color;return{symbol:"circle",style:{r:4.5,fill:v}}}}),Object(a.each)(Ru,function(h){Ki("point",h,{draw:function(v,s){return qo(this,v,s,h,!1)},getMarker:function(v){var s=v.color;return{symbol:Rs[h]||h,style:{r:4.5,fill:s}}}})});function Rc(h){var v=Object(a.isArray)(h)?h:[h],s=v[0],f=v[v.length-1],P=v.length>1?v[1]:s,N=v.length>3?v[3]:f,Z=v.length>2?v[2]:P;return{min:s,max:f,min1:P,max1:N,median:Z}}function Uu(h,v,s){var f=s/2,P;if(Object(a.isArray)(v)){var N=Rc(v),Z=N.min,vt=N.max,Tt=N.median,Gt=N.min1,_t=N.max1,Zt=h-f,Jt=h+f;P=[[Zt,vt],[Jt,vt],[h,vt],[h,_t],[Zt,Gt],[Zt,_t],[Jt,_t],[Jt,Gt],[h,Gt],[h,Z],[Zt,Z],[Jt,Z],[Zt,Tt],[Jt,Tt]]}else{v=Object(a.isNil)(v)?.5:v;var ie=Rc(h),Z=ie.min,vt=ie.max,Tt=ie.median,Gt=ie.min1,_t=ie.max1,le=v-f,xe=v+f;P=[[Z,le],[Z,xe],[Z,v],[Gt,v],[Gt,le],[Gt,xe],[_t,xe],[_t,le],[_t,v],[vt,v],[vt,le],[vt,xe],[Tt,le],[Tt,xe]]}return P.map(function(Ze){return{x:Ze[0],y:Ze[1]}})}function jc(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["M",h[4].x,h[4].y],["L",h[5].x,h[5].y],["L",h[6].x,h[6].y],["L",h[7].x,h[7].y],["L",h[4].x,h[4].y],["Z"],["M",h[8].x,h[8].y],["L",h[9].x,h[9].y],["M",h[10].x,h[10].y],["L",h[11].x,h[11].y],["M",h[12].x,h[12].y],["L",h[13].x,h[13].y]]}Ki("schema","box",{getPoints:function(h){var v=h.x,s=h.y,f=h.size;return Uu(v,s,f)},draw:function(h,v){var s=Aa(h,!0,!1),f=this.parsePath(jc(h.points)),P=v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f,name:"schema"})});return P},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){var N=[f-6,f-3,f,f+3,f+6],Z=Uu(s,N,P);return[["M",Z[0].x+1,Z[0].y],["L",Z[1].x-1,Z[1].y],["M",Z[2].x,Z[2].y],["L",Z[3].x,Z[3].y],["M",Z[4].x,Z[4].y],["L",Z[5].x,Z[5].y],["L",Z[6].x,Z[6].y],["L",Z[7].x,Z[7].y],["L",Z[4].x,Z[4].y],["Z"],["M",Z[8].x,Z[8].y],["L",Z[9].x,Z[9].y],["M",Z[10].x+1,Z[10].y],["L",Z[11].x-1,Z[11].y],["M",Z[12].x,Z[12].y],["L",Z[13].x,Z[13].y]]},style:{r:6,lineWidth:1,stroke:v}}}});function Tl(h){var v=Object(a.isArray)(h)?h:[h],s=v.sort(function(f,P){return P-f});return ur(s,4,s[s.length-1])}function wc(h,v,s){var f=Tl(v);return[{x:h,y:f[0]},{x:h,y:f[1]},{x:h-s/2,y:f[2]},{x:h-s/2,y:f[1]},{x:h+s/2,y:f[1]},{x:h+s/2,y:f[2]},{x:h,y:f[2]},{x:h,y:f[3]}]}function Wu(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["L",h[4].x,h[4].y],["L",h[5].x,h[5].y],["Z"],["M",h[6].x,h[6].y],["L",h[7].x,h[7].y]]}Ki("schema","candle",{getPoints:function(h){var v=h.x,s=h.y,f=h.size;return wc(v,s,f)},draw:function(h,v){var s=Aa(h,!0,!0),f=this.parsePath(Wu(h.points)),P=v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f,name:"schema"})});return P},getMarker:function(h){var v=h.color;return{symbol:function(s,f,P){var N=[f+7.5,f+3,f-3,f-7.5],Z=wc(s,N,P);return[["M",Z[0].x,Z[0].y],["L",Z[1].x,Z[1].y],["M",Z[2].x,Z[2].y],["L",Z[3].x,Z[3].y],["L",Z[4].x,Z[4].y],["L",Z[5].x,Z[5].y],["Z"],["M",Z[6].x,Z[6].y],["L",Z[7].x,Z[7].y]]},style:{lineWidth:1,stroke:v,fill:v,r:6}}}});function Bs(h,v){var s=Math.abs(h[0].x-h[2].x),f=Math.abs(h[0].y-h[2].y),P=Math.min(s,f);v&&(P=Object(a.clamp)(v,0,Math.min(s,f))),P=P/2;var N=(h[0].x+h[2].x)/2,Z=(h[0].y+h[2].y)/2;return{x:N-P,y:Z-P,width:P*2,height:P*2}}Ki("polygon","square",{draw:function(h,v){if(!Object(a.isEmpty)(h.points)){var s=Aa(h,!0,!0),f=this.parsePoints(h.points);return v.addShape("rect",{attrs:Object(c.__assign)(Object(c.__assign)({},s),Bs(f,h.size)),name:"polygon"})}},getMarker:function(h){var v=h.color;return{symbol:"square",style:{r:4,fill:v}}}}),Ki("violin","smooth",{draw:function(h,v){var s=Aa(h,!0,!0),f=this.parsePath(ws(h.points));return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f})})},getMarker:function(h){var v=h.color;return{symbol:"circle",style:{stroke:null,r:4,fill:v}}}}),Ki("violin","hollow",{draw:function(h,v){var s=Aa(h,!0,!1),f=this.parsePath(No(h.points));return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f})})},getMarker:function(h){var v=h.color;return{symbol:"circle",style:{r:4,fill:null,stroke:v}}}}),Ki("violin","hollow-smooth",{draw:function(h,v){var s=Aa(h,!0,!1),f=this.parsePath(ws(h.points));return v.addShape("path",{attrs:Object(c.__assign)(Object(c.__assign)({},s),{path:f})})},getMarker:function(h){var v=h.color;return{symbol:"circle",style:{r:4,fill:null,stroke:v}}}});var zu=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getLabelValueDir=function(s){var f="y",P=s.points;return P[0][f]<=P[2][f]?1:-1},v.prototype.getLabelOffsetPoint=function(s,f,P){var N,Z=h.prototype.getLabelOffsetPoint.call(this,s,f,P),vt=this.getCoordinate().isTransposed,Tt=vt?"x":"y",Gt=this.getLabelValueDir(s.mappingData);return Object(c.__assign)(Object(c.__assign)({},Z),(N={},N[Tt]=Z[Tt]*Gt,N))},v.prototype.getThemedLabelCfg=function(s){var f=this.geometry,P=this.getDefaultLabelCfg(),N=f.theme;return Object(a.deepMix)({},P,N.labels,s.position==="middle"?{offset:0}:{},s)},v.prototype.setLabelPosition=function(s,f,P,N){var Z=this.getCoordinate(),vt=Z.isTransposed,Tt=f.points,Gt=Z.convert(Tt[0]),_t=Z.convert(Tt[2]),Zt=this.getLabelValueDir(f),Jt,ie,le,xe,Ze=Object(a.isArray)(f.shape)?f.shape[0]:f.shape;if(Ze==="funnel"||Ze==="pyramid"){var He=Object(a.get)(f,"nextPoints"),yr=Object(a.get)(f,"points");if(He){var br=Z.convert(yr[0]),tn=Z.convert(yr[1]),an=Z.convert(He[0]),yn=Z.convert(He[1]);vt?(Jt=Math.min(an.y,br.y),le=Math.max(an.y,br.y),ie=(tn.x+yn.x)/2,xe=(br.x+an.x)/2):(Jt=Math.min((tn.y+yn.y)/2,(br.y+an.y)/2),le=Math.max((tn.y+yn.y)/2,(br.y+an.y)/2),ie=yn.x,xe=br.x)}else Jt=Math.min(_t.y,Gt.y),le=Math.max(_t.y,Gt.y),ie=_t.x,xe=Gt.x}else Jt=Math.min(_t.y,Gt.y),le=Math.max(_t.y,Gt.y),ie=_t.x,xe=Gt.x;switch(N){case"right":s.x=ie,s.y=(Jt+le)/2,s.textAlign=Object(a.get)(s,"textAlign",Zt>0?"left":"right");break;case"left":s.x=xe,s.y=(Jt+le)/2,s.textAlign=Object(a.get)(s,"textAlign",Zt>0?"left":"right");break;case"bottom":vt&&(s.x=(ie+xe)/2),s.y=le,s.textAlign=Object(a.get)(s,"textAlign","center"),s.textBaseline=Object(a.get)(s,"textBaseline",Zt>0?"bottom":"top");break;case"middle":vt&&(s.x=(ie+xe)/2),s.y=(Jt+le)/2,s.textAlign=Object(a.get)(s,"textAlign","center"),s.textBaseline=Object(a.get)(s,"textBaseline","middle");break;case"top":vt&&(s.x=(ie+xe)/2),s.y=Jt,s.textAlign=Object(a.get)(s,"textAlign","center"),s.textBaseline=Object(a.get)(s,"textBaseline",Zt>0?"bottom":"top");break;default:break}},v}(Jo),Dl=zu,fl=Math.PI/2,Vu=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getLabelOffset=function(s){var f=this.getCoordinate(),P=0;if(Object(a.isNumber)(s))P=s;else if(Object(a.isString)(s)&&s.indexOf("%")!==-1){var N=f.getRadius();f.innerRadius>0&&(N=N*(1-f.innerRadius)),P=parseFloat(s)*.01*N}return P},v.prototype.getLabelItems=function(s){var f=h.prototype.getLabelItems.call(this,s),P=this.geometry.getYScale();return Object(a.map)(f,function(N){if(N&&P){var Z=P.scale(Object(a.get)(N.data,P.field));return Object(c.__assign)(Object(c.__assign)({},N),{percent:Z})}return N})},v.prototype.getLabelAlign=function(s){var f=this.getCoordinate(),P;if(s.labelEmit)P=s.angle<=Math.PI/2&&s.angle>=-Math.PI/2?"left":"right";else if(!f.isTransposed)P="center";else{var N=f.getCenter(),Z=s.offset;Math.abs(s.x-N.x)<1?P="center":s.angle>Math.PI||s.angle<=0?P=Z>0?"left":"right":P=Z>0?"right":"left"}return P},v.prototype.getLabelPoint=function(s,f,P){var N=1,Z,vt=s.content[P];this.isToMiddle(f)?Z=this.getMiddlePoint(f.points):(s.content.length===1&&P===0?P=1:P===0&&(N=-1),Z=this.getArcPoint(f,P));var Tt=s.offset*N,Gt=this.getPointAngle(Z),_t=s.labelEmit,Zt=this.getCirclePoint(Gt,Tt,Z,_t);return Zt.r===0?Zt.content="":(Zt.content=vt,Zt.angle=Gt,Zt.color=f.color),Zt.rotate=s.autoRotate?this.getLabelRotate(Gt,Tt,_t):s.rotate,Zt.start={x:Z.x,y:Z.y},Zt},v.prototype.getArcPoint=function(s,f){return f===void 0&&(f=0),!Object(a.isArray)(s.x)&&!Object(a.isArray)(s.y)?{x:s.x,y:s.y}:{x:Object(a.isArray)(s.x)?s.x[f]:s.x,y:Object(a.isArray)(s.y)?s.y[f]:s.y}},v.prototype.getPointAngle=function(s){return Kr(this.getCoordinate(),s)},v.prototype.getCirclePoint=function(s,f,P,N){var Z=this.getCoordinate(),vt=Z.getCenter(),Tt=Nr(Z,P);if(Tt===0)return Object(c.__assign)(Object(c.__assign)({},vt),{r:Tt});var Gt=s;if(Z.isTransposed&&Tt>f&&!N){var _t=Math.asin(f/(2*Tt));Gt=s+_t*2}else Tt=Tt+f;return{x:vt.x+Tt*Math.cos(Gt),y:vt.y+Tt*Math.sin(Gt),r:Tt}},v.prototype.getLabelRotate=function(s,f,P){var N=s+fl;return P&&(N-=fl),N&&(N>fl?N=N-Math.PI:N<-fl&&(N=N+Math.PI)),N},v.prototype.getMiddlePoint=function(s){var f=this.getCoordinate(),P=s.length,N={x:0,y:0};return Object(a.each)(s,function(Z){N.x+=Z.x,N.y+=Z.y}),N.x/=P,N.y/=P,N=f.convert(N),N},v.prototype.isToMiddle=function(s){return s.x.length>2},v}(Jo),$s=Vu,Pl=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.defaultLayout="distribute",s}return v.prototype.getDefaultLabelCfg=function(s,f){var P=h.prototype.getDefaultLabelCfg.call(this,s,f);return Object(a.deepMix)({},P,Object(a.get)(this.geometry.theme,"pieLabels",{}))},v.prototype.getLabelOffset=function(s){return h.prototype.getLabelOffset.call(this,s)||0},v.prototype.getLabelRotate=function(s,f,P){var N;return f<0&&(N=s,N>Math.PI/2&&(N=N-Math.PI),N<-Math.PI/2&&(N=N+Math.PI)),N},v.prototype.getLabelAlign=function(s){var f=this.getCoordinate(),P=f.getCenter(),N;return s.angle<=Math.PI/2&&s.x>=P.x?N="left":N="right",s.offset<=0&&(N==="right"?N="left":N="right"),N},v.prototype.getArcPoint=function(s){return s},v.prototype.getPointAngle=function(s){var f=this.getCoordinate(),P={x:Object(a.isArray)(s.x)?s.x[0]:s.x,y:s.y[0]},N={x:Object(a.isArray)(s.x)?s.x[1]:s.x,y:s.y[1]},Z,vt=Kr(f,P);if(s.points&&s.points[0].y===s.points[1].y)Z=vt;else{var Tt=Kr(f,N);vt>=Tt&&(Tt=Tt+Math.PI*2),Z=vt+(Tt-vt)/2}return Z},v.prototype.getCirclePoint=function(s,f){var P=this.getCoordinate(),N=P.getCenter(),Z=P.getRadius()+f;return Object(c.__assign)(Object(c.__assign)({},Ce(N.x,N.y,Z,s)),{angle:s,r:Z})},v}($s),Il=Pl,ku=4;function Bc(h,v,s,f,P,N){var Z=!0,vt=f.start,Tt=f.end,Gt=Math.min(vt.y,Tt.y),_t=Math.abs(vt.y-Tt.y),Zt,Jt=0,ie=Number.MIN_VALUE,le=v.map(function(an){return an.y>Jt&&(Jt=an.y),an.y<ie&&(ie=an.y),{size:s,targets:[an.y-Gt]}});for(ie-=Gt,Jt-Gt>_t&&(_t=Jt-Gt);Z;)for(le.forEach(function(an){var yn=(Math.min.apply(ie,an.targets)+Math.max.apply(ie,an.targets))/2;an.pos=Math.min(Math.max(ie,yn-an.size/2),_t-an.size)}),Z=!1,Zt=le.length;Zt--;)if(Zt>0){var xe=le[Zt-1],Ze=le[Zt];xe.pos+xe.size>Ze.pos&&(xe.size+=Ze.size,xe.targets=xe.targets.concat(Ze.targets),xe.pos+xe.size>_t&&(xe.pos=_t-xe.size),le.splice(Zt,1),Z=!0)}Zt=0,le.forEach(function(an){var yn=Gt+s/2;an.targets.forEach(function(){v[Zt].y=an.pos+yn,yn+=s,Zt++})});for(var He={},yr=0,br=h;yr<br.length;yr++){var tn=br[yr];He[tn.get("id")]=tn}v.forEach(function(an){var yn=an.r*an.r,li=Math.pow(Math.abs(an.y-P.y),2);if(yn<li)an.x=P.x;else{var Yn=Math.sqrt(yn-li);N?an.x=P.x+Yn:an.x=P.x-Yn}var Hn=He[an.id];Hn.attr("x",an.x),Hn.attr("y",an.y);var Ti=Object(a.find)(Hn.getChildren(),function(sa){return sa.get("type")==="text"});Ti&&(Ti.attr("y",an.y),Ti.attr("x",an.x))})}function Xu(h,v,s,f){if(!(!h.length||!v.length)){var P=h[0]?h[0].offset:0,N=v[0].get("coordinate"),Z=N.getRadius(),vt=N.getCenter();if(P>0){var Tt=14,Gt=Z+P,_t=Gt*2+Tt*2,Zt={start:N.start,end:N.end},Jt=[[],[]];h.forEach(function(ie){!ie||(ie.textAlign==="right"?Jt[0].push(ie):Jt[1].push(ie))}),Jt.forEach(function(ie,le){var xe=_t/Tt;ie.length>xe&&(ie.sort(function(Ze,He){return He["..percent"]-Ze["..percent"]}),ie.splice(xe,ie.length-xe)),ie.sort(function(Ze,He){return Ze.y-He.y}),Bc(v,ie,Tt,Zt,vt,le)})}Object(a.each)(h,function(ie){if(ie&&ie.labelLine){var le=ie.offset,xe=ie.angle,Ze=Ce(vt.x,vt.y,Z,xe),He=Ce(vt.x,vt.y,Z+le/2,xe),yr=ie.x+Object(a.get)(ie,"offsetX",0),br=ie.y+Object(a.get)(ie,"offsetY",0),tn={x:yr-Math.cos(xe)*ku,y:br-Math.sin(xe)*ku};Object(a.isObject)(ie.labelLine)||(ie.labelLine={}),ie.labelLine.path=["M "+Ze.x,Ze.y+" Q"+He.x,He.y+" "+tn.x,tn.y].join(",")}})}}function Yu(h,v,s){var f=h.filter(function(le){return!le.invisible});f.sort(function(le,xe){return le.y-xe.y});var P=!0,N=s.minY,Z=s.maxY,vt=Math.abs(N-Z),Tt,Gt=0,_t=Number.MIN_VALUE,Zt=f.map(function(le){return le.y>Gt&&(Gt=le.y),le.y<_t&&(_t=le.y),{content:le.content,size:v,targets:[le.y-N],pos:null}});for(_t-=N,Gt-N>vt&&(vt=Gt-N);P;)for(Zt.forEach(function(le){var xe=(Math.min.apply(_t,le.targets)+Math.max.apply(_t,le.targets))/2;le.pos=Math.min(Math.max(_t,xe-le.size/2),vt-le.size),le.pos=Math.max(0,le.pos)}),P=!1,Tt=Zt.length;Tt--;)if(Tt>0){var Jt=Zt[Tt-1],ie=Zt[Tt];Jt.pos+Jt.size>ie.pos&&(Jt.size+=ie.size,Jt.targets=Jt.targets.concat(ie.targets),Jt.pos+Jt.size>vt&&(Jt.pos=vt-Jt.size),Zt.splice(Tt,1),P=!0)}Tt=0,Zt.forEach(function(le){var xe=N+v/2;le.targets.forEach(function(){f[Tt].y=le.pos+xe,xe+=v,Tt++})})}var Nc=4;function Ll(h,v){var s=v.getCenter(),f=v.getRadius();if(h&&h.labelLine){var P=h.angle,N=h.offset,Z=Ce(s.x,s.y,f,P),vt=h.x+Object(a.get)(h,"offsetX",0)*(Math.cos(P)>0?1:-1),Tt=h.y+Object(a.get)(h,"offsetY",0)*(Math.sin(P)>0?1:-1),Gt={x:vt-Math.cos(P)*Nc,y:Tt-Math.sin(P)*Nc},_t=h.labelLine.smooth,Zt=[],Jt=Gt.x-s.x,ie=Gt.y-s.y,le=Math.atan(ie/Jt);if(Jt<0&&(le+=Math.PI),_t===!1){Object(a.isObject)(h.labelLine)||(h.labelLine={});var xe=0;(P<0&&P>-Math.PI/2||P>Math.PI*1.5)&&Gt.y>Z.y&&(xe=1),P>=0&&P<Math.PI/2&&Gt.y>Z.y&&(xe=1),P>=Math.PI/2&&P<Math.PI&&Z.y>Gt.y&&(xe=1),(P<-Math.PI/2||P>=Math.PI&&P<Math.PI*1.5)&&Z.y>Gt.y&&(xe=1);var Ze=N/2>4?4:Math.max(N/2-1,0),He=Ce(s.x,s.y,f+Ze,P),yr=Ce(s.x,s.y,f+N/2,le),br=0;Zt.push("M "+Z.x+" "+Z.y),Zt.push("L "+He.x+" "+He.y),Zt.push("A "+s.x+" "+s.y+" 0 "+br+" "+xe+" "+yr.x+" "+yr.y),Zt.push("L "+Gt.x+" "+Gt.y)}else{var He=Ce(s.x,s.y,f+(N/2>4?4:Math.max(N/2-1,0)),P),tn=Z.x<s.x?1:-1;Zt.push("M "+Gt.x+" "+Gt.y);var an=(Z.y-s.y)/(Z.x-s.x),yn=(Gt.y-s.y)/(Gt.x-s.x);Math.abs(an-yn)>Math.pow(Math.E,-16)&&Zt.push.apply(Zt,["C",Gt.x+tn*4,Gt.y,2*He.x-Z.x,2*He.y-Z.y,Z.x,Z.y]),Zt.push("L "+Z.x+" "+Z.y)}h.labelLine.path=Zt.join(" ")}}function hl(h,v,s,f){var P=Object(a.filter)(h,function(yn){return!Object(a.isNil)(yn)}),N=v[0]&&v[0].get("coordinate");if(!!N){for(var Z=N.getCenter(),vt=N.getRadius(),Tt={},Gt=0,_t=v;Gt<_t.length;Gt++){var Zt=_t[Gt];Tt[Zt.get("id")]=Zt}var Jt=Object(a.get)(P[0],"labelHeight",14),ie=Object(a.get)(P[0],"offset",0);if(!(ie<=0)){var le="left",xe="right",Ze=Object(a.groupBy)(P,function(yn){return yn.x<Z.x?le:xe}),He=N.start,yr=N.end,br=Math.min((vt+ie+Jt)*2,N.getHeight()),tn=br/2,an={minX:He.x,maxX:yr.x,minY:Z.y-tn,maxY:Z.y+tn};Object(a.each)(Ze,function(yn,li){var Yn=Math.floor(br/Jt);yn.length>Yn&&(yn.sort(function(Hn,Ti){return Ti.percent-Hn.percent}),Object(a.each)(yn,function(Hn,Ti){Ti+1>Yn&&(Tt[Hn.id].set("visible",!1),Hn.invisible=!0)})),Yu(yn,Jt,an)}),Object(a.each)(Ze,function(yn,li){Object(a.each)(yn,function(Yn){var Hn=li===xe,Ti=Tt[Yn.id],sa=Ti.getChildByIndex(0);if(sa){var Ji=vt+ie,Bi=Yn.y-Z.y,xo=Math.pow(Ji,2),$n=Math.pow(Bi,2),rh=xo-$n>0?xo-$n:0,qs=Math.sqrt(rh),hs=Math.abs(Math.cos(Yn.angle)*Ji);Hn?Yn.x=Z.x+Math.max(qs,hs):Yn.x=Z.x-Math.max(qs,hs)}sa&&(sa.attr("y",Yn.y),sa.attr("x",Yn.x)),Ll(Yn,N)})})}}}var Wf=4,Nd=4,Fc=4;function Hu(h,v,s){var f=v.getCenter(),P=v.getRadius(),N={x:h.x-(s?Fc:-Fc),y:h.y},Z=Ce(f.x,f.y,P+Wf,h.angle),vt={x:N.x,y:N.y},Tt={x:Z.x,y:Z.y},Gt=Ce(f.x,f.y,P,h.angle),_t="";if(N.y!==Z.y){var Zt=s?4:-4;vt.y=N.y,h.angle<0&&h.angle>=-Math.PI/2&&(vt.x=Math.max(Z.x,N.x-Zt),N.y<Z.y?Tt.y=vt.y:(Tt.y=Z.y,Tt.x=Math.max(Tt.x,vt.x-Zt))),h.angle>0&&h.angle<Math.PI/2&&(vt.x=Math.max(Z.x,N.x-Zt),N.y>Z.y?Tt.y=vt.y:(Tt.y=Z.y,Tt.x=Math.max(Tt.x,vt.x-Zt))),h.angle>Math.PI/2&&(vt.x=Math.min(Z.x,N.x-Zt),N.y>Z.y?Tt.y=vt.y:(Tt.y=Z.y,Tt.x=Math.min(Tt.x,vt.x-Zt))),h.angle<-Math.PI/2&&(vt.x=Math.min(Z.x,N.x-Zt),N.y<Z.y?Tt.y=vt.y:(Tt.y=Z.y,Tt.x=Math.min(Tt.x,vt.x-Zt)))}_t=["M "+N.x+","+N.y,"L "+vt.x+","+vt.y,"L "+Tt.x+","+Tt.y,"L "+Z.x+","+Z.y,"L "+Gt.x+","+Gt.y].join(" "),h.labelLine=Object(a.deepMix)({},h.labelLine,{path:_t})}function dl(h,v,s,f){var P=v[0]&&v[0].get("coordinate");if(!!P){for(var N=P.getCenter(),Z=P.getRadius(),vt={},Tt=0,Gt=v;Tt<Gt.length;Tt++){var _t=Gt[Tt];vt[_t.get("id")]=_t}var Zt=Object(a.get)(h[0],"labelHeight",14),Jt=Math.max(Object(a.get)(h[0],"offset",0),Wf);Object(a.each)(h,function(yn){var li=Object(a.get)(vt,[yn.id]);if(!!li){var Yn=yn.x>N.x||yn.x===N.x&&yn.y>N.y,Hn=Object(a.isNil)(yn.offsetX)?Nd:yn.offsetX,Ti=Ce(N.x,N.y,Z+Wf,yn.angle),sa=Jt+Hn;yn.x=N.x+(Yn?1:-1)*(Z+sa),yn.y=Ti.y}});var ie=P.start,le=P.end,xe="left",Ze="right",He=Object(a.groupBy)(h,function(yn){return yn.x<N.x?xe:Ze}),yr=(Z+Jt)*2+Zt;Object(a.each)(He,function(yn){var li=yn.length*Zt;li>yr&&(yr=Math.min(li,Math.abs(ie.y-le.y)))});var br={minX:ie.x,maxX:le.x,minY:N.y-yr/2,maxY:N.y+yr/2};Object(a.each)(He,function(yn,li){var Yn=yr/Zt;yn.length>Yn&&(yn.sort(function(Hn,Ti){return Ti.percent-Hn.percent}),Object(a.each)(yn,function(Hn,Ti){Ti>Yn&&(vt[Hn.id].set("visible",!1),Hn.invisible=!0)})),Yu(yn,Zt,br)});var tn=br.minY,an=br.maxY;Object(a.each)(He,function(yn,li){var Yn=li===Ze;Object(a.each)(yn,function(Hn){var Ti=Object(a.get)(vt,Hn&&[Hn.id]);if(!!Ti){if(Hn.y<tn||Hn.y>an){Ti.set("visible",!1);return}var sa=Ti.getChildByIndex(0),Ji=sa.getCanvasBBox(),Bi={x:Yn?Ji.x:Ji.maxX,y:Ji.y+Ji.height/2};Cl(sa,Hn.x-Bi.x,Hn.y-Bi.y),Hn.labelLine&&Hu(Hn,P,Yn)}})})}}function Fd(h,v,s,f){Object(a.each)(v,function(P){var N=f.minX,Z=f.minY,vt=f.maxX,Tt=f.maxY,Gt=P.getCanvasBBox(),_t=Gt.minX,Zt=Gt.minY,Jt=Gt.maxX,ie=Gt.maxY,le=Gt.x,xe=Gt.y,Ze=Gt.width,He=Gt.height,yr=le,br=xe;(_t<N||Jt<N)&&(yr=N),(Zt<Z||ie<Z)&&(br=Z),_t>vt?yr=vt-Ze:Jt>vt&&(yr=yr-(Jt-vt)),Zt>Tt?br=Tt-He:ie>Tt&&(br=br-(ie-Tt)),(yr!==le||br!==xe)&&Cl(P,yr-le,br-xe)})}function Rl(h,v,s,f){Object(a.each)(v,function(P,N){var Z=P.getCanvasBBox(),vt=s[N].getBBox();(Z.minX<vt.minX||Z.minY<vt.minY||Z.maxX>vt.maxX||Z.maxY>vt.maxY)&&P.remove(!0)})}var Gc=100,zf=function(){function h(v){v===void 0&&(v={}),this.bitmap={};var s=v.xGap,f=s===void 0?1:s,P=v.yGap,N=P===void 0?8:P;this.xGap=f,this.yGap=N}return h.prototype.hasGap=function(v){for(var s=!0,f=this.bitmap,P=Math.round(v.minX),N=Math.round(v.maxX),Z=Math.round(v.minY),vt=Math.round(v.maxY),Tt=P;Tt<=N;Tt+=1){if(!f[Tt]){f[Tt]={};continue}if(Tt===P||Tt===N){for(var Gt=Z;Gt<=vt;Gt++)if(f[Tt][Gt]){s=!1;break}}else if(f[Tt][Z]||f[Tt][vt]){s=!1;break}}return s},h.prototype.fillGap=function(v){for(var s=this.bitmap,f=Math.round(v.minX),P=Math.round(v.maxX),N=Math.round(v.minY),Z=Math.round(v.maxY),vt=f;vt<=P;vt+=1)s[vt]||(s[vt]={});for(var vt=f;vt<=P;vt+=this.xGap){for(var Tt=N;Tt<=Z;Tt+=this.yGap)s[vt][Tt]=!0;s[vt][Z]=!0}if(this.yGap!==1)for(var vt=N;vt<=Z;vt+=1)s[f][vt]=!0,s[P][vt]=!0;if(this.xGap!==1)for(var vt=f;vt<=P;vt+=1)s[vt][N]=!0,s[vt][Z]=!0},h.prototype.destroy=function(){this.bitmap={}},h}();function Gd(h,v,s){s===void 0&&(s=Gc);var f=-1,P=h.attr(),N=P.x,Z=P.y,vt=h.getCanvasBBox(),Tt=Math.sqrt(vt.width*vt.width+vt.height*vt.height),Gt,_t=-f,Zt=0,Jt=0,ie=function(He){var yr=He*.1;return[yr*Math.cos(yr),yr*Math.sin(yr)]};if(v.hasGap(vt))return v.fillGap(vt),!0;for(var le=!1,xe=0,Ze={};Math.min(Math.abs(Zt),Math.abs(Jt))<Tt&&xe<s;)if(Gt=ie(_t+=f),Zt=~~Gt[0],Jt=~~Gt[1],!(!Zt&&!Jt||Ze[Zt+"-"+Jt])&&(h.attr({x:N+Zt,y:Z+Jt}),Zt+Jt<0&&h.attr("textAlign","right"),xe++,v.hasGap(h.getCanvasBBox()))){v.fillGap(h.getCanvasBBox()),le=!0,Ze[Zt+"-"+Jt]=!0;break}return le}function Ku(h,v,s,f){var P=h.getCanvasBBox(),N=P.width,Z=P.height,vt={x:v,y:s,textAlign:"center"};switch(f){case 0:vt.y-=Z+1,vt.x+=1,vt.textAlign="left";break;case 1:vt.y-=Z+1,vt.x-=1,vt.textAlign="right";break;case 2:vt.y+=Z+1,vt.x-=1,vt.textAlign="right";break;case 3:vt.y+=Z+1,vt.x+=1,vt.textAlign="left";break;case 5:vt.y-=Z*2+2;break;case 6:vt.y+=Z*2+2;break;case 7:vt.x+=N+1,vt.textAlign="left";break;case 8:vt.x-=N+1,vt.textAlign="right";break;default:break}return h.attr(vt),h.getCanvasBBox()}function Vf(h,v,s,f){var P=new zf;Object(a.each)(v,function(N){var Z=N.find(function(vt){return vt.get("type")==="text"});Gd(Z,P)||N.remove(!0)}),P.destroy()}function kf(h,v,s,f){var P=new zf;Object(a.each)(v,function(N){for(var Z=N.find(function(ie){return ie.get("type")==="text"}),vt=Z.attr(),Tt=vt.x,Gt=vt.y,_t=!1,Zt=0;Zt<=8;Zt++){var Jt=Ku(Z,Tt,Gt,Zt);if(P.hasGap(Jt)){P.fillGap(Jt),_t=!0;break}}_t||N.remove(!0)}),P.destroy()}var Ud=$.c.dot;function Wh(h){if(h.length>4)return[];var v=function(P,N){return[N.x-P.x,N.y-P.y]},s=v(h[0],h[1]),f=v(h[1],h[2]);return[s,f]}function jl(h,v,s){v===void 0&&(v=0),s===void 0&&(s={x:0,y:0});var f=h.x,P=h.y;return{x:(f-s.x)*Math.cos(-v)+(P-s.y)*Math.sin(-v)+s.x,y:(s.x-f)*Math.sin(-v)+(P-s.y)*Math.cos(-v)+s.y}}function zh(h){var v=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],s=h.rotation;return s?[jl(v[0],s,v[0]),jl(v[1],s,v[0]),jl(v[2],s,v[0]),jl(v[3],s,v[0])]:v}function Vh(h,v){if(h.length>4)return{min:0,max:0};var s=[];return h.forEach(function(f){s.push(Ud([f.x,f.y],v))}),{min:Math.min.apply(Math,s),max:Math.max.apply(Math,s)}}function Wd(h,v){return h.max>v.min&&h.min<v.max}function zd(h,v,s){return s===void 0&&(s=0),!(v.x>h.x+h.width+s||v.x+v.width<h.x-s||v.y>h.y+h.height+s||v.y+v.height<h.y-s)}function Vd(h,v){if(!h.rotation&&!v.rotation)return zd(h,v);for(var s=zh(h),f=zh(v),P=Object(c.__spreadArrays)(Wh(s),Wh(f)),N=0;N<P.length;N++){var Z=P[N],vt=Vh(s,Z),Tt=Vh(f,Z);if(!Wd(vt,Tt))return!1}return!0}function Uc(h,v,s,f){for(var P=0;P<v.length;P++){var N=v[P];if(v[P].get("visible"))for(var Z=P+1;Z<v.length;Z++){var vt=v[Z];if(N&&vt&&N!==vt&&vt.get("visible")){var Tt=Mu(N,h[P],Object(a.get)(h[P],"background.padding")),Gt=Mu(vt,h[Z],Object(a.get)(h[Z],"background.padding"));Vd(Tt,Gt)&&v[Z].set("visible",!1)}}}}var ru={"#5B8FF9":!0},Ss=function(h){var v=ut.a.toRGB(h).toUpperCase();if(ru[v])return ru[v];var s=ut.a.rgb2arr(v),f=s[0],P=s[1],N=s[2],Z=(f*299+P*587+N*114)/1e3<128;return Z};function Wc(h,v,s){if(s.length!==0){var f=s[0].get("element"),P=f.geometry.theme,N=P.labels||{},Z=N.fillColorLight,vt=N.fillColorDark;s.forEach(function(Tt,Gt){var _t=v[Gt],Zt=_t.find(function(He){return He.get("type")==="text"}),Jt=qr.fromObject(Tt.getBBox()),ie=qr.fromObject(Zt.getCanvasBBox()),le=!Jt.contains(ie),xe=Tt.attr("fill"),Ze=Ss(xe);le?Zt.attr(P.overflowLabels.style):Ze?Z&&Zt.attr("fill",Z):vt&&Zt.attr("fill",vt)})}}function Xf(h,v,s){var f=h.coordinate,P=Ks(v),N=qr.fromObject(P.getCanvasBBox()),Z=qr.fromObject(s.getBBox());return f.isTransposed?Z.height>=N.height:Z.width>=N.width}function zc(h,v,s){var f=!!h.getAdjust("stack");return f||v.every(function(P,N){var Z=s[N];return Xf(h,P,Z)})}function Go(h,v,s){var f=h.coordinate,P=qr.fromObject(s.getBBox()),N=Ks(v);f.isTransposed?N.attr({x:P.minX+P.width/2,textAlign:"center"}):N.attr({y:P.minY+P.height/2,textBaseline:"middle"})}function Vc(h,v,s){var f;if(s.length!==0){var P=(f=s[0])===null||f===void 0?void 0:f.get("element"),N=P==null?void 0:P.geometry;if(!(!N||N.type!=="interval")){var Z=zc(N,v,s);Z&&s.forEach(function(vt,Tt){var Gt=v[Tt];Go(N,Gt,vt)})}}}function kc(h){var v=500,s=[],f=Math.max(Math.floor(h.length/v),1);return Object(a.each)(h,function(P,N){N%f==0?s.push(P):P.set("visible",!1)}),s}function Xc(h,v,s){var f;if(s.length!==0){var P=(f=s[0])===null||f===void 0?void 0:f.get("element"),N=P==null?void 0:P.geometry;if(!(!N||N.type!=="interval")){var Z=kc(v),vt=N.getXYFields()[0],Tt=[],Gt=[],_t=Object(a.groupBy)(Z,function(xe){return xe.get("data")[vt]}),Zt=Object(a.uniq)(Object(a.map)(Z,function(xe){return xe.get("data")[vt]})),Jt;Z.forEach(function(xe){xe.set("visible",!0)});var ie=function(xe){xe&&(xe.length&&Gt.push(xe.pop()),Gt.push.apply(Gt,xe))};for(Object(a.size)(Zt)>0&&(Jt=Zt.shift(),ie(_t[Jt])),Object(a.size)(Zt)>0&&(Jt=Zt.pop(),ie(_t[Jt])),Object(a.each)(Zt.reverse(),function(xe){ie(_t[xe])});Gt.length>0;){var le=Gt.shift();le.get("visible")&&(xf(le,Tt)?le.set("visible",!1):Tt.push(le))}}}}function _u(h,v){var s=h.getXYFields()[1],f=[],P=v.sort(function(N,Z){return N.get("data")[s]-N.get("data")[s]});return P.length>0&&f.push(P.shift()),P.length>0&&f.push(P.pop()),f.push.apply(f,P),f}function vl(h,v,s){return h.some(function(f){return s(f,v)})}function ts(h,v,s){s===void 0&&(s=0);var f=Math.max(0,Math.min(h.x+h.width+s,v.x+v.width+s)-Math.max(h.x-s,v.x-s)),P=Math.max(0,Math.min(h.y+h.height+s,v.y+v.height+s)-Math.max(h.y-s,v.y-s));return f*P}function wl(h,v){return vl(h,v,function(s,f){var P=Ks(s),N=Ks(f);return ts(P.getCanvasBBox(),N.getCanvasBBox(),2)>0})}function Zu(h,v,s,f,P){var N,Z;if(s.length!==0){var vt=(N=s[0])===null||N===void 0?void 0:N.get("element"),Tt=vt==null?void 0:vt.geometry;if(!(!Tt||Tt.type!=="point")){var Gt=Tt.getXYFields(),_t=Gt[0],Zt=Gt[1],Jt=Object(a.groupBy)(v,function(xe){return xe.get("data")[_t]}),ie=[],le=P&&P.offset||((Z=h[0])===null||Z===void 0?void 0:Z.offset)||12;Object(a.map)(Object(a.keys)(Jt).reverse(),function(xe){for(var Ze=_u(Tt,Jt[xe]);Ze.length;){var He=Ze.shift(),yr=Ks(He);if(vl(ie,He,function(an,yn){return an.get("data")[_t]===yn.get("data")[_t]&&an.get("data")[Zt]===yn.get("data")[Zt]})){yr.set("visible",!1);continue}var br=wl(ie,He),tn=!1;if(br&&(yr.attr("y",yr.attr("y")+2*le),tn=wl(ie,He)),tn){yr.set("visible",!1);continue}ie.push(He)}})}}}function nu(h,v){var s=h.getXYFields()[1],f=[],P=v.sort(function(N,Z){return N.get("data")[s]-N.get("data")[s]});return P.length>0&&f.push(P.shift()),P.length>0&&f.push(P.pop()),f.push.apply(f,P),f}function Cn(h,v,s){return h.some(function(f){return s(f,v)})}function kd(h,v,s){s===void 0&&(s=0);var f=Math.max(0,Math.min(h.x+h.width+s,v.x+v.width+s)-Math.max(h.x-s,v.x-s)),P=Math.max(0,Math.min(h.y+h.height+s,v.y+v.height+s)-Math.max(h.y-s,v.y-s));return f*P}function iu(h,v){return Cn(h,v,function(s,f){var P=Ks(s),N=Ks(f);return kd(P.getCanvasBBox(),N.getCanvasBBox(),2)>0})}function Zo(h,v,s,f,P){var N,Z;if(s.length!==0){var vt=(N=s[0])===null||N===void 0?void 0:N.get("element"),Tt=vt==null?void 0:vt.geometry;if(!(!Tt||["path","line","area"].indexOf(Tt.type)<0)){var Gt=Tt.getXYFields(),_t=Gt[0],Zt=Gt[1],Jt=Object(a.groupBy)(v,function(xe){return xe.get("data")[_t]}),ie=[],le=P&&P.offset||((Z=h[0])===null||Z===void 0?void 0:Z.offset)||12;Object(a.map)(Object(a.keys)(Jt).reverse(),function(xe){for(var Ze=nu(Tt,Jt[xe]);Ze.length;){var He=Ze.shift(),yr=Ks(He);if(Cn(ie,He,function(an,yn){return an.get("data")[_t]===yn.get("data")[_t]&&an.get("data")[Zt]===yn.get("data")[Zt]})){yr.set("visible",!1);continue}var br=iu(ie,He),tn=!1;if(br&&(yr.attr("y",yr.attr("y")+2*le),tn=iu(ie,He)),tn){yr.set("visible",!1);continue}ie.push(He)}})}}}var gl;function Pr(){return gl||(gl=document.createElement("canvas").getContext("2d")),gl}var $u=Object(a.memoize)(function(h,v){v===void 0&&(v={});var s=v.fontSize,f=v.fontFamily,P=v.fontWeight,N=v.fontStyle,Z=v.fontVariant,vt=Pr();return vt.font=[N,Z,P,s+"px",f].join(" "),vt.measureText(Object(a.isString)(h)?h:"").width},function(h,v){return v===void 0&&(v={}),Object(c.__spreadArrays)([h],Object(a.values)(v)).join("")}),kh=function(h,v,s){var f=16,P=$u("...",s),N;Object(a.isString)(h)?N=h:N=Object(a.toString)(h);var Z=v,vt=[],Tt,Gt;if($u(h,s)<=v)return h;for(;Tt=N.substr(0,f),Gt=$u(Tt,s),!(Gt+P>Z&&Gt>Z);)if(vt.push(Tt),Z-=Gt,N=N.substr(f),!N)return vt.join("");for(;Tt=N.substr(0,1),Gt=$u(Tt,s),!(Gt+P>Z);)if(vt.push(Tt),Z-=Gt,N=N.substr(1),!N)return vt.join("");return vt.join("")+"..."};function Xh(h,v,s,f,P){if(!(v.length<=0)){var N=(P==null?void 0:P.direction)||["top","right","bottom","left"],Z=(P==null?void 0:P.action)||"translate",vt=(P==null?void 0:P.margin)||0,Tt=v[0].get("coordinate");if(!!Tt){var Gt=ti(Tt,vt),_t=Gt.minX,Zt=Gt.minY,Jt=Gt.maxX,ie=Gt.maxY;Object(a.each)(v,function(le){var xe=le.getCanvasBBox(),Ze=xe.minX,He=xe.minY,yr=xe.maxX,br=xe.maxY,tn=xe.x,an=xe.y,yn=xe.width,li=xe.height,Yn=tn,Hn=an;if(N.indexOf("left")>=0&&(Ze<_t||yr<_t)&&(Yn=_t),N.indexOf("top")>=0&&(He<Zt||br<Zt)&&(Hn=Zt),N.indexOf("right")>=0&&(Ze>Jt?Yn=Jt-yn:yr>Jt&&(Yn=Yn-(yr-Jt))),N.indexOf("bottom")>=0&&(He>ie?Hn=ie-li:br>ie&&(Hn=Hn-(br-ie))),Yn!==tn||Hn!==an){var Ti=Yn-tn;if(Z==="translate")Cl(le,Ti,Hn-an);else if(Z==="ellipsis"){var sa=le.findAll(function(Ji){return Ji.get("type")==="text"});sa.forEach(function(Ji){var Bi=Object(a.pick)(Ji.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),xo=Ji.getCanvasBBox(),$n=kh(Ji.attr("text"),xo.width-Math.abs(Ti),Bi);Ji.attr("text",$n)})}else le.hide()}})}}}function pl(h,v,s){var f={fillOpacity:Object(a.isNil)(h.attr("fillOpacity"))?1:h.attr("fillOpacity"),strokeOpacity:Object(a.isNil)(h.attr("strokeOpacity"))?1:h.attr("strokeOpacity"),opacity:Object(a.isNil)(h.attr("opacity"))?1:h.attr("opacity")};h.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),h.animate(f,v)}function Yh(h,v,s){var f={fillOpacity:0,strokeOpacity:0,opacity:0},P=v.easing,N=v.duration,Z=v.delay;h.animate(f,N,P,function(){h.remove(!0)},Z)}function Yf(h,v,s){var f,P=v[0],N=v[1];return h.applyToMatrix([P,N,1]),s==="x"?(h.setMatrix($.a.transform(h.getMatrix(),[["t",-P,-N],["s",.01,1],["t",P,N]])),f=$.a.transform(h.getMatrix(),[["t",-P,-N],["s",100,1],["t",P,N]])):s==="y"?(h.setMatrix($.a.transform(h.getMatrix(),[["t",-P,-N],["s",1,.01],["t",P,N]])),f=$.a.transform(h.getMatrix(),[["t",-P,-N],["s",1,100],["t",P,N]])):s==="xy"&&(h.setMatrix($.a.transform(h.getMatrix(),[["t",-P,-N],["s",.01,.01],["t",P,N]])),f=$.a.transform(h.getMatrix(),[["t",-P,-N],["s",100,100],["t",P,N]])),f}function Yc(h,v,s,f,P){var N=s.start,Z=s.end,vt=s.getWidth(),Tt=s.getHeight(),Gt,_t;P==="y"?(Gt=N.x+vt/2,_t=f.y<N.y?f.y:N.y):P==="x"?(Gt=f.x>N.x?f.x:N.x,_t=N.y+Tt/2):P==="xy"&&(s.isPolar?(Gt=s.getCenter().x,_t=s.getCenter().y):(Gt=(N.x+Z.x)/2,_t=(N.y+Z.y)/2));var Zt=Yf(h,[Gt,_t],P);h.animate({matrix:Zt},v)}function Xd(h,v,s){var f=s.coordinate,P=s.minYPoint;Yc(h,v,f,P,"x")}function Hh(h,v,s){var f=s.coordinate,P=s.minYPoint;Yc(h,v,f,P,"y")}function Qu(h,v,s){var f=s.coordinate,P=s.minYPoint;Yc(h,v,f,P,"xy")}function Ns(h,v,s){var f=h.getTotalLength();h.attr("lineDash",[f]),h.animate(function(P){return{lineDashOffset:(1-P)*f}},v)}function Ju(h,v,s){var f=s.toAttrs,P=f.x,N=f.y;delete f.x,delete f.y,h.attr(f),h.animate({x:P,y:N},v)}function Qs(h,v,s){var f=h.getBBox(),P=h.get("origin").mappingData,N=P.points,Z=N[0].y-N[1].y>0?f.maxX:f.minX,vt=(f.minY+f.maxY)/2;h.applyToMatrix([Z,vt,1]);var Tt=$.a.transform(h.getMatrix(),[["t",-Z,-vt],["s",.01,1],["t",Z,vt]]);h.setMatrix(Tt),h.animate({matrix:$.a.transform(h.getMatrix(),[["t",-Z,-vt],["s",100,1],["t",Z,vt]])},v)}function Js(h,v,s){var f=h.getBBox(),P=h.get("origin").mappingData,N=(f.minX+f.maxX)/2,Z=P.points,vt=Z[0].y-Z[1].y<=0?f.maxY:f.minY;h.applyToMatrix([N,vt,1]);var Tt=$.a.transform(h.getMatrix(),[["t",-N,-vt],["s",1,.01],["t",N,vt]]);h.setMatrix(Tt),h.animate({matrix:$.a.transform(h.getMatrix(),[["t",-N,-vt],["s",1,100],["t",N,vt]])},v)}function Hf(h,v){var s,f=Object(Du.getArcParams)(h,v),P=f.startAngle,N=f.endAngle;return!Object(a.isNumberEqual)(P,-Math.PI*.5)&&P<-Math.PI*.5&&(P+=Math.PI*2),!Object(a.isNumberEqual)(N,-Math.PI*.5)&&N<-Math.PI*.5&&(N+=Math.PI*2),v[5]===0&&(s=[N,P],P=s[0],N=s[1]),Object(a.isNumberEqual)(P,Math.PI*1.5)&&(P=Math.PI*-.5),Object(a.isNumberEqual)(N,Math.PI*-.5)&&(N=Math.PI*1.5),{startAngle:P,endAngle:N}}function Hc(h){var v;return h[0]==="M"||h[0]==="L"?v=[h[1],h[2]]:(h[0]==="a"||h[0]==="A"||h[0]==="C")&&(v=[h[h.length-2],h[h.length-1]]),v}function qu(h){var v,s,f,P=h.filter(function(br){return br[0]==="A"||br[0]==="a"});if(P.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var N=P[0],Z=P.length>1?P[1]:P[0],vt=h.indexOf(N),Tt=h.indexOf(Z),Gt=Hc(h[vt-1]),_t=Hc(h[Tt-1]),Zt=Hf(Gt,N),Jt=Zt.startAngle,ie=Zt.endAngle,le=Hf(_t,Z),xe=le.startAngle,Ze=le.endAngle;Object(a.isNumberEqual)(Jt,xe)&&Object(a.isNumberEqual)(ie,Ze)?(s=Jt,f=ie):(s=Math.min(Jt,xe),f=Math.max(ie,Ze));var He=N[1],yr=P[P.length-1][1];return He<yr?(v=[yr,He],He=v[0],yr=v[1]):He===yr&&(yr=0),{startAngle:s,endAngle:f,radius:He,innerRadius:yr}}function Kf(h,v,s){var f=s.toAttrs,P=s.coordinate,N=f.path||[],Z=N.map(function(yr){return yr[0]});if(!(N.length<1)){var vt=qu(N),Tt=vt.startAngle,Gt=vt.endAngle,_t=vt.radius,Zt=vt.innerRadius,Jt=qu(h.attr("path")),ie=Jt.startAngle,le=Jt.endAngle,xe=P.getCenter(),Ze=Tt-ie,He=Gt-le;if(Ze===0&&He===0){h.attr("path",N);return}h.animate(function(yr){var br=ie+yr*Ze,tn=le+yr*He;return Object(c.__assign)(Object(c.__assign)({},f),{path:Object(a.isEqual)(Z,["M","A","A","Z"])?hr(xe.x,xe.y,_t,br,tn):Ge(xe.x,xe.y,_t,br,tn,Zt)})},Object(c.__assign)(Object(c.__assign)({},v),{callback:function(){h.attr("path",N)}}))}}function Po(h,v,s){var f=Un(s.coordinate,20),P=f.type,N=f.startState,Z=f.endState,vt=h.setClip({type:P,attrs:N});vt.animate(Z,Object(c.__assign)(Object(c.__assign)({},v),{callback:function(){h&&!h.get("destroyed")&&h.set("clipShape",null),vt.remove(!0)}}))}function Fs(h,v,s){if(h.isGroup())Object(a.each)(h.getChildren(),function(vt){Fs(vt,v,s)});else{var f=h.getBBox(),P=(f.minX+f.maxX)/2,N=(f.minY+f.maxY)/2;if(h.applyToMatrix([P,N,1]),s==="zoomIn"){var Z=$.a.transform(h.getMatrix(),[["t",-P,-N],["s",.01,.01],["t",P,N]]);h.setMatrix(Z),h.animate({matrix:$.a.transform(h.getMatrix(),[["t",-P,-N],["s",100,100],["t",P,N]])},v)}else h.animate({matrix:$.a.transform(h.getMatrix(),[["t",-P,-N],["s",.01,.01],["t",P,N]])},Object(c.__assign)(Object(c.__assign)({},v),{callback:function(){h.remove(!0)}}))}}function Ra(h,v,s){Fs(h,v,"zoomIn")}function Uo(h,v,s){Fs(h,v,"zoomOut")}function Ms(h){return[O.TOP,O.BOTTOM].includes(h)?{offsetX:0,offsetY:h===O.TOP?-8:8,style:{textAlign:"center",textBaseline:h===O.TOP?"bottom":"top"}}:[O.LEFT,O.RIGHT].includes(h)?{offsetX:h===O.LEFT?-8:8,offsetY:0,style:{textAlign:h===O.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function au(h,v,s){return{x:h.x+v*Math.cos(s),y:h.y+v*Math.sin(s)}}var _f=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},v.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},v.prototype.getRegion=function(s,f){var P=1/2,N={x:.5,y:.5},Z=Math.PI*2/s,vt=-1*Math.PI/2+Z*f,Tt=P/(1+1/Math.sin(Z/2)),Gt=au(N,P-Tt,vt),_t=Math.PI*5/4,Zt=Math.PI*1/4;return{start:au(Gt,Tt,_t),end:au(Gt,Tt,Zt)}},v.prototype.afterEachView=function(s,f){this.processAxis(s,f)},v.prototype.beforeEachView=function(s,f){},v.prototype.generateFacets=function(s){var f=this,P=this.cfg,N=P.fields,Z=P.type,vt=N[0];if(!vt)throw new Error("No `fields` specified!");var Tt=this.getFieldValues(s,vt),Gt=Tt.length,_t=[];return Tt.forEach(function(Zt,Jt){var ie=[{field:vt,value:Zt,values:Tt}],le=Object(a.filter)(s,f.getFacetDataFilter(ie)),xe={type:Z,data:le,region:f.getRegion(Gt,Jt),columnValue:Zt,columnField:vt,columnIndex:Jt,columnValuesLength:Gt,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};_t.push(xe)}),_t},v.prototype.getXAxisOption=function(s,f,P,N){return P},v.prototype.getYAxisOption=function(s,f,P,N){return P},v.prototype.renderTitle=function(){var s=this;Object(a.each)(this.facets,function(f){var P=f.columnValue,N=f.view,Z=Object(a.get)(s.cfg.title,"formatter"),vt=Object(a.deepMix)({position:["50%","0%"],content:Z?Z(P):P},Ms(O.TOP),s.cfg.title);N.annotation().text(vt)})},v}(Xa),Io=_f,Zf=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},v.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},v.prototype.afterEachView=function(s,f){this.processAxis(s,f)},v.prototype.beforeEachView=function(s,f){},v.prototype.generateFacets=function(s){var f=this,P=this.cfg.fields,N=this.cfg.cols,Z=P[0];if(!Z)throw new Error("No `fields` specified!");var vt=this.getFieldValues(s,Z),Tt=vt.length;N=N||Tt;var Gt=this.getPageCount(Tt,N),_t=[];return vt.forEach(function(Zt,Jt){var ie=f.getRowCol(Jt,N),le=ie.row,xe=ie.col,Ze=[{field:Z,value:Zt,values:vt}],He=Object(a.filter)(s,f.getFacetDataFilter(Ze)),yr={type:f.cfg.type,data:He,region:f.getRegion(Gt,N,xe,le),columnValue:Zt,rowValue:Zt,columnField:Z,rowField:null,columnIndex:xe,rowIndex:le,columnValuesLength:N,rowValuesLength:Gt,total:Tt};_t.push(yr)}),_t},v.prototype.getXAxisOption=function(s,f,P,N){return N.rowIndex!==N.rowValuesLength-1&&N.columnValuesLength*N.rowIndex+N.columnIndex+1+N.columnValuesLength<=N.total?Object(c.__assign)(Object(c.__assign)({},P),{label:null,title:null}):P},v.prototype.getYAxisOption=function(s,f,P,N){return N.columnIndex!==0?Object(c.__assign)(Object(c.__assign)({},P),{title:null,label:null}):P},v.prototype.renderTitle=function(){var s=this;Object(a.each)(this.facets,function(f){var P=f.columnValue,N=f.view,Z=Object(a.get)(s.cfg.title,"formatter"),vt=Object(a.deepMix)({position:["50%","0%"],content:Z?Z(P):P},Ms(O.TOP),s.cfg.title);N.annotation().text(vt)})},v.prototype.getPageCount=function(s,f){return Math.floor((s+f-1)/f)},v.prototype.getRowCol=function(s,f){var P=Math.floor(s/f),N=s%f;return{row:P,col:N}},v}(Xa),Yd=Zf,Iv=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(c.__assign)({},h.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(c.__assign)({},h.prototype.getDefaultTitleCfg.call(this))})},v.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},v.prototype.afterEachView=function(s,f){this.processAxis(s,f)},v.prototype.beforeEachView=function(s,f){},v.prototype.generateFacets=function(s){for(var f=this.cfg,P=f.fields,N=f.type,Z=P.length,vt=Z,Tt=[],Gt=0;Gt<vt;Gt++)for(var _t=P[Gt],Zt=0;Zt<Z;Zt++){var Jt=P[Zt],ie={type:N,data:s,region:this.getRegion(Z,vt,Gt,Zt),columnValue:_t,rowValue:Jt,columnField:_t,rowField:Jt,columnIndex:Gt,rowIndex:Zt,columnValuesLength:vt,rowValuesLength:Z};Tt.push(ie)}return Tt},v.prototype.getXAxisOption=function(s,f,P,N){return N.rowIndex!==N.rowValuesLength-1?Object(c.__assign)(Object(c.__assign)({},P),{label:null,title:null}):P},v.prototype.getYAxisOption=function(s,f,P,N){return N.columnIndex!==0?Object(c.__assign)(Object(c.__assign)({},P),{title:null,label:null}):P},v.prototype.renderTitle=function(){var s=this;Object(a.each)(this.facets,function(f,P){var N=f.columnIndex,Z=f.rowIndex,vt=f.columnValuesLength,Tt=f.rowValuesLength,Gt=f.columnValue,_t=f.rowValue,Zt=f.view;if(Z===0){var Jt=Object(a.get)(s.cfg.columnTitle,"formatter"),ie=Object(a.deepMix)({position:["50%","0%"],content:Jt?Jt(Gt):Gt},Ms(O.TOP),s.cfg.columnTitle);Zt.annotation().text(ie)}if(N===vt-1){var Jt=Object(a.get)(s.cfg.rowTitle,"formatter"),ie=Object(a.deepMix)({position:["100%","50%"],content:Jt?Jt(_t):_t},Ms(O.RIGHT),s.cfg.rowTitle);Zt.annotation().text(ie)}})},v}(Xa),Lv=Iv,Rv=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this),transpose:!1})},v.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},v.prototype.beforeEachView=function(s,f){this.cfg.transpose?f.columnIndex%2==0?s.coordinate().transpose().reflect("x"):s.coordinate().transpose():f.rowIndex%2!=0&&s.coordinate().reflect("y")},v.prototype.afterEachView=function(s,f){this.processAxis(s,f)},v.prototype.generateFacets=function(s){var f=this,P=this.cfg.fields[0],N=[],Z=1,vt=1,Tt=[""],Gt=[""],_t,Zt;return this.cfg.transpose?(_t=P,Tt=this.getFieldValues(s,_t).slice(0,2),Z=Tt.length):(Zt=P,Gt=this.getFieldValues(s,Zt).slice(0,2),vt=Gt.length),Tt.forEach(function(Jt,ie){Gt.forEach(function(le,xe){var Ze=[{field:_t,value:Jt,values:Tt},{field:Zt,value:le,values:Gt}],He=Object(a.filter)(s,f.getFacetDataFilter(Ze)),yr={type:f.cfg.type,data:He,region:f.getRegion(vt,Z,ie,xe),columnValue:Jt,rowValue:le,columnField:_t,rowField:Zt,columnIndex:ie,rowIndex:xe,columnValuesLength:Z,rowValuesLength:vt};N.push(yr)})}),N},v.prototype.getXAxisOption=function(s,f,P,N){return N.columnIndex===1||N.rowIndex===1?Object(c.__assign)(Object(c.__assign)({},P),{label:null,title:null}):P},v.prototype.getYAxisOption=function(s,f,P,N){return P},v.prototype.renderTitle=function(){var s=this;Object(a.each)(this.facets,function(f,P){var N=f.columnValue,Z=f.rowValue,vt=f.view,Tt=Object(a.get)(s.cfg.title,"formatter");if(s.cfg.transpose){var Gt=Object(a.deepMix)({position:["50%","0%"],content:Tt?Tt(N):N},Ms(O.TOP),s.cfg.title);vt.annotation().text(Gt)}else{var Gt=Object(a.deepMix)({position:["100%","50%"],content:Tt?Tt(Z):Z},Ms(O.RIGHT),s.cfg.title);vt.annotation().text(Gt)}})},v}(Xa),jv=Rv,wv=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.afterEachView=function(s,f){this.processAxis(s,f)},v.prototype.beforeEachView=function(s,f){},v.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(c.__assign)({},h.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(c.__assign)({},h.prototype.getDefaultTitleCfg.call(this))})},v.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},v.prototype.generateFacets=function(s){var f=this,P=this.cfg.fields,N=P[0],Z=P[1],vt=[],Tt=1,Gt=1,_t=[""],Zt=[""];return N&&(_t=this.getFieldValues(s,N),Tt=_t.length),Z&&(Zt=this.getFieldValues(s,Z),Gt=Zt.length),_t.forEach(function(Jt,ie){Zt.forEach(function(le,xe){var Ze=[{field:N,value:Jt,values:_t},{field:Z,value:le,values:Zt}],He=Object(a.filter)(s,f.getFacetDataFilter(Ze)),yr={type:f.cfg.type,data:He,region:f.getRegion(Gt,Tt,ie,xe),columnValue:Jt,rowValue:le,columnField:N,rowField:Z,columnIndex:ie,rowIndex:xe,columnValuesLength:Tt,rowValuesLength:Gt};vt.push(yr)})}),vt},v.prototype.renderTitle=function(){var s=this;Object(a.each)(this.facets,function(f,P){var N=f.columnIndex,Z=f.rowIndex,vt=f.columnValuesLength,Tt=f.columnValue,Gt=f.rowValue,_t=f.view;if(Z===0){var Zt=Object(a.get)(s.cfg.columnTitle,"formatter"),Jt=Object(a.deepMix)({position:["50%","0%"],content:Zt?Zt(Tt):Tt},Ms(O.TOP),s.cfg.columnTitle);_t.annotation().text(Jt)}if(N===vt-1){var Zt=Object(a.get)(s.cfg.rowTitle,"formatter"),Jt=Object(a.deepMix)({position:["100%","50%"],content:Zt?Zt(Gt):Gt},Ms(O.RIGHT),s.cfg.rowTitle);_t.annotation().text(Jt)}})},v.prototype.getXAxisOption=function(s,f,P,N){return N.rowIndex!==N.rowValuesLength-1?Object(c.__assign)(Object(c.__assign)({},P),{title:null,label:null}):N.columnIndex!==Math.floor((N.columnValuesLength-1)/2)?Object(c.__assign)(Object(c.__assign)({},P),{title:null}):P},v.prototype.getYAxisOption=function(s,f,P,N){return N.columnIndex!==0?Object(c.__assign)(Object(c.__assign)({},P),{title:null,label:null}):N.rowIndex!==Math.floor((N.rowValuesLength-1)/2)?Object(c.__assign)(Object(c.__assign)({},P),{title:null}):P},v}(Xa),Hd=wv,Kd=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.afterChartRender=function(){s.facets&&s.cfg.line&&(s.container.clear(),s.drawLines(s.facets))},s}return v.prototype.afterEachView=function(s,f){this.processAxis(s,f)},v.prototype.beforeEachView=function(s,f){},v.prototype.init=function(){h.prototype.init.call(this),this.view.on(E.AFTER_RENDER,this.afterChartRender)},v.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},v.prototype.generateFacets=function(s){var f=this.cfg.fields;if(!f.length)throw new Error("Please specify for the fields for rootFacet!");var P=[],N={type:this.cfg.type,data:s,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return P.push(N),N.children=this.getChildFacets(s,1,P),this.setRegion(P),P},v.prototype.setRegion=function(s){var f=this;this.forceColIndex(s),s.forEach(function(P){P.region=f.getRegion(P.rowValuesLength,P.columnValuesLength,P.columnIndex,P.rowIndex)})},v.prototype.getRegion=function(s,f,P,N){var Z=1/f,vt=1/s,Tt={x:Z*P,y:vt*N},Gt={x:Tt.x+Z,y:Tt.y+vt*2/3};return{start:Tt,end:Gt}},v.prototype.forceColIndex=function(s){var f=this,P=[],N=0;s.forEach(function(Jt){f.isLeaf(Jt)&&(P.push(Jt),Jt.columnIndex=N,N++)}),P.forEach(function(Jt){Jt.columnValuesLength=P.length});for(var Z=this.cfg.fields.length,vt=Z-1;vt>=0;vt--)for(var Tt=this.getFacetsByLevel(s,vt),Gt=0,_t=Tt;Gt<_t.length;Gt++){var Zt=_t[Gt];this.isLeaf(Zt)||(Zt.originColIndex=Zt.columnIndex,Zt.columnIndex=this.getRegionIndex(Zt.children),Zt.columnValuesLength=P.length)}},v.prototype.getFacetsByLevel=function(s,f){var P=[];return s.forEach(function(N){N.rowIndex===f&&P.push(N)}),P},v.prototype.getRegionIndex=function(s){var f=s[0],P=s[s.length-1];return(P.columnIndex-f.columnIndex)/2+f.columnIndex},v.prototype.isLeaf=function(s){return!s.children||!s.children.length},v.prototype.getRows=function(){return this.cfg.fields.length+1},v.prototype.getChildFacets=function(s,f,P){var N=this,Z=this.cfg.fields,vt=Z.length;if(!(vt<f)){var Tt=[],Gt=Z[f-1],_t=this.getFieldValues(s,Gt);return _t.forEach(function(Zt,Jt){var ie=[{field:Gt,value:Zt,values:_t}],le=s.filter(N.getFacetDataFilter(ie));if(le.length){var xe={type:N.cfg.type,data:le,region:null,columnValue:Zt,rowValue:"",columnField:Gt,rowField:"",columnIndex:Jt,rowValuesLength:N.getRows(),columnValuesLength:1,rowIndex:f,children:N.getChildFacets(le,f+1,P)};Tt.push(xe),P.push(xe)}}),Tt}},v.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},v.prototype.renderTitle=function(){var s=this;Object(a.each)(this.facets,function(f){var P=f.columnValue,N=f.view,Z=Object(a.get)(s.cfg.title,"formatter"),vt=Object(a.deepMix)({position:["50%","0%"],content:Z?Z(P):P},Ms(O.TOP),s.cfg.title);N.annotation().text(vt)})},v.prototype.drawLines=function(s){var f=this;s.forEach(function(P){if(!f.isLeaf(P)){var N=P.children;f.addFacetLines(P,N)}})},v.prototype.addFacetLines=function(s,f){var P=this,N=s.view,Z=N.coordinateBBox,vt={x:Z.x+Z.width/2,y:Z.y+Z.height};f.forEach(function(Tt){var Gt=Tt.view.coordinateBBox,_t={x:Gt.bl.x+(Gt.tr.x-Gt.bl.x)/2,y:Gt.tr.y},Zt={x:vt.x,y:vt.y+(_t.y-vt.y)/2},Jt={x:_t.x,y:Zt.y};P.drawLine([vt,Zt,Jt,_t])})},v.prototype.getPath=function(s){var f=[],P=this.cfg.line.smooth;return P?(f.push(["M",s[0].x,s[0].y]),f.push(["C",s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y])):s.forEach(function(N,Z){Z===0?f.push(["M",N.x,N.y]):f.push(["L",N.x,N.y])}),f},v.prototype.drawLine=function(s){var f=this.getPath(s),P=this.cfg.line.style;this.container.addShape("path",{attrs:Object(a.assign)({path:f},P)})},v.prototype.getXAxisOption=function(s,f,P,N){return N.rowIndex!==N.rowValuesLength-1?Object(c.__assign)(Object(c.__assign)({},P),{title:null,label:null}):P},v.prototype.getYAxisOption=function(s,f,P,N){return N.originColIndex!==0&&N.columnIndex!==0?Object(c.__assign)(Object(c.__assign)({},P),{title:null,label:null}):P},v}(Xa),_d=Kd;function Zd(h){var v=Object(c.__spreadArrays)(h);v.sort(function(f,P){return f-P});var s=v.length;return s===0?0:s%2==1?v[(s-1)/2]:(v[s/2]+v[s/2-1])/2}function Bv(h){var v=Object(a.reduce)(h,function(s,f){return s+=isNaN(f)||!Object(a.isNumber)(f)?0:f},0);return h.length===0?0:v/h.length}function Kc(h,v){if(!v)return null;var s;switch(h){case"start":return 0;case"end":return 1;case"median":{s=v.isCategory?Zd(v.values.map(function(f,P){return P})):Zd(v.values);break}case"mean":{s=v.isCategory?(v.values.length-1)/2:Bv(v.values);break}case"min":s=v.isCategory?0:v[h];break;case"max":s=v.isCategory?v.values.length-1:v[h];break;default:s=h;break}return v.scale(s)}var $f=["regionFilter","shape"],Yt=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;return f.cache=new Map,f.foregroundContainer=f.view.getLayer(M.FORE).addGroup(),f.backgroundContainer=f.view.getLayer(M.BG).addGroup(),f.option=[],f}return Object.defineProperty(v.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),v.prototype.init=function(){},v.prototype.layout=function(){this.update()},v.prototype.render=function(){},v.prototype.update=function(){var s=this;this.onAfterRender(function(){var P=new Map;Object(a.each)(s.option,function(N){if(Object(a.includes)($f,N.type)){var Z=s.updateOrCreate(N);Z&&P.set(s.getCacheKey(N),Z)}}),s.cache=s.syncCache(P)});var f=new Map;Object(a.each)(this.option,function(P){if(!Object(a.includes)($f,P.type)){var N=s.updateOrCreate(P);N&&f.set(s.getCacheKey(P),N)}}),this.cache=this.syncCache(f)},v.prototype.clear=function(s){s===void 0&&(s=!1),h.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),s&&(this.option=[])},v.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},v.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(f){s.push(f)}),s},v.prototype.clearComponents=function(){this.getComponents().forEach(function(s){s.component.destroy()}),this.cache.clear()},v.prototype.onAfterRender=function(s){this.view.getOptions().animate?this.view.geometries.forEach(function(f){f.animateOption&&f.once(S.AFTER_DRAW_ANIMATE,function(){s()})}):this.view.getRootView().once(E.AFTER_RENDER,function(){s()})},v.prototype.createAnnotation=function(s){var f=s.type,P=Xt.Annotation[Object(a.upperFirst)(f)];if(P){var N=this.getAnnotationTheme(f),Z=this.getAnnotationCfg(f,s,N),vt=new P(Z);return{component:vt,layer:this.isTop(Z)?M.FORE:M.BG,direction:O.NONE,type:x.ANNOTATION,extra:s}}},v.prototype.annotation=function(s){this.option.push(s)},v.prototype.arc=function(s){return this.annotation(Object(c.__assign)({type:"arc"},s)),this},v.prototype.image=function(s){return this.annotation(Object(c.__assign)({type:"image"},s)),this},v.prototype.line=function(s){return this.annotation(Object(c.__assign)({type:"line"},s)),this},v.prototype.region=function(s){return this.annotation(Object(c.__assign)({type:"region"},s)),this},v.prototype.text=function(s){return this.annotation(Object(c.__assign)({type:"text"},s)),this},v.prototype.dataMarker=function(s){return this.annotation(Object(c.__assign)({type:"dataMarker"},s)),this},v.prototype.dataRegion=function(s){this.annotation(Object(c.__assign)({type:"dataRegion"},s))},v.prototype.regionFilter=function(s){this.annotation(Object(c.__assign)({type:"regionFilter"},s))},v.prototype.shape=function(s){this.annotation(Object(c.__assign)({type:"shape"},s))},v.prototype.html=function(s){this.annotation(Object(c.__assign)({type:"html"},s))},v.prototype.parsePosition=function(s){var f=this.view.getXScale(),P=this.view.getScalesByDim("y"),N=Object(a.isFunction)(s)?s.call(null,f,P):s,Z=0,vt=0;if(Object(a.isArray)(N)){var Tt=N[0],Gt=N[1];if(Object(a.isString)(Tt)&&Tt.indexOf("%")!==-1&&!isNaN(Tt.slice(0,-1)))return this.parsePercentPosition(N);Z=Kc(Tt,f),vt=Kc(Gt,Object.values(P)[0])}else if(!Object(a.isNil)(N))for(var _t=0,Zt=Object(a.keys)(N);_t<Zt.length;_t++){var Jt=Zt[_t],ie=N[Jt];Jt===f.field&&(Z=Kc(ie,f)),P[Jt]&&(vt=Kc(ie,P[Jt]))}return this.view.getCoordinate().convert({x:Z,y:vt})},v.prototype.getRegionPoints=function(s,f){var P=this,N=this.view.getXScale(),Z=this.view.getScalesByDim("y"),vt=Object.values(Z)[0],Tt=N.field,Gt=this.view.getData(),_t=Object(a.isArray)(s)?s[0]:s[Tt],Zt=Object(a.isArray)(f)?f[0]:f[Tt],Jt=[],ie;return Object(a.each)(Gt,function(le,xe){if(le[Tt]===_t&&(ie=xe),xe>=ie){var Ze=P.parsePosition([le[Tt],le[vt.field]]);Ze&&Jt.push(Ze)}if(le[Tt]===Zt)return!1}),Jt},v.prototype.parsePercentPosition=function(s){var f=parseFloat(s[0])/100,P=parseFloat(s[1])/100,N=this.view.getCoordinate(),Z=N.start,vt=N.end,Tt={x:Math.min(Z.x,vt.x),y:Math.min(Z.y,vt.y)},Gt=N.getWidth()*f+Tt.x,_t=N.getHeight()*P+Tt.y;return{x:Gt,y:_t}},v.prototype.getCoordinateBBox=function(){var s=this.view.getCoordinate(),f=s.start,P=s.end,N=s.getWidth(),Z=s.getHeight(),vt={x:Math.min(f.x,P.x),y:Math.min(f.y,P.y)};return{x:vt.x,y:vt.y,minX:vt.x,minY:vt.y,maxX:vt.x+N,maxY:vt.y+Z,width:N,height:Z}},v.prototype.getAnnotationCfg=function(s,f,P){var N=this,Z=this.view.getCoordinate(),vt=this.view.getCanvas(),Tt={};if(Object(a.isNil)(f))return null;if(s==="arc"){var Gt=f,_t=Gt.start,Zt=Gt.end,Jt=this.parsePosition(_t),ie=this.parsePosition(Zt),le=Kr(Z,Jt),xe=Kr(Z,ie);le>xe&&(xe=Math.PI*2+xe),Tt={center:Z.getCenter(),radius:Nr(Z,Jt),startAngle:le,endAngle:xe}}else if(s==="image"){var Ze=f,_t=Ze.start,Zt=Ze.end;Tt={start:this.parsePosition(_t),end:this.parsePosition(Zt),src:f.src}}else if(s==="line"){var He=f,_t=He.start,Zt=He.end;Tt={start:this.parsePosition(_t),end:this.parsePosition(Zt),text:Object(a.get)(f,"text",null)}}else if(s==="region"){var yr=f,_t=yr.start,Zt=yr.end;Tt={start:this.parsePosition(_t),end:this.parsePosition(Zt)}}else if(s==="text"){var br=this.view.getData(),tn=f,an=tn.position,yn=tn.content,li=Object(c.__rest)(tn,["position","content"]),Yn=yn;Object(a.isFunction)(yn)&&(Yn=yn(br)),Tt=Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},this.parsePosition(an)),li),{content:Yn})}else if(s==="dataMarker"){var Hn=f,an=Hn.position,Ti=Hn.point,sa=Hn.line,Ji=Hn.text,Bi=Hn.autoAdjust,xo=Hn.direction;Tt=Object(c.__assign)(Object(c.__assign)({},this.parsePosition(an)),{coordinateBBox:this.getCoordinateBBox(),point:Ti,line:sa,text:Ji,autoAdjust:Bi,direction:xo})}else if(s==="dataRegion"){var $n=f,_t=$n.start,Zt=$n.end,rh=$n.region,Ji=$n.text,qs=$n.lineLength;Tt={points:this.getRegionPoints(_t,Zt),region:rh,text:Ji,lineLength:qs}}else if(s==="regionFilter"){var hs=f,_t=hs.start,Zt=hs.end,zo=hs.apply,qd=hs.color,tv=this.view.geometries,qv=[],ev=function(yl){!yl||(yl.isGroup()?yl.getChildren().forEach(function(Fi){return ev(Fi)}):qv.push(yl))};Object(a.each)(tv,function(yl){zo?Object(a.contains)(zo,yl.type)&&Object(a.each)(yl.elements,function(Fi){ev(Fi.shape)}):Object(a.each)(yl.elements,function(Fi){ev(Fi.shape)})}),Tt={color:qd,shapes:qv,start:this.parsePosition(_t),end:this.parsePosition(Zt)}}else if(s==="shape"){var rv=f,ip=rv.render,nv=Object(c.__rest)(rv,["render"]),ap=function(sp){if(Object(a.isFunction)(f.render))return ip(sp,N.view,{parsePosition:N.parsePosition.bind(N)})};Tt=Object(c.__assign)(Object(c.__assign)({},nv),{render:ap})}else if(s==="html"){var iv=f,av=iv.html,an=iv.position,nv=Object(c.__rest)(iv,["html","position"]),op=function(yl){return Object(a.isFunction)(av)?av(yl,N.view):av};Tt=Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},nv),this.parsePosition(an)),{parent:vt.get("el").parentNode,html:op})}var Zi=Object(a.deepMix)({},P,Object(c.__assign)(Object(c.__assign)({},Tt),{top:f.top,style:f.style,offsetX:f.offsetX,offsetY:f.offsetY}));return s!=="html"&&(Zi.container=this.getComponentContainer(Zi)),Zi.animate=this.view.getOptions().animate&&Zi.animate&&Object(a.get)(f,"animate",Zi.animate),Zi.animateOption=Object(a.deepMix)({},Xs,Zi.animateOption,f.animateOption),Zi},v.prototype.isTop=function(s){return Object(a.get)(s,"top",!0)},v.prototype.getComponentContainer=function(s){return this.isTop(s)?this.foregroundContainer:this.backgroundContainer},v.prototype.getAnnotationTheme=function(s){return Object(a.get)(this.view.getTheme(),["components","annotation",s],{})},v.prototype.updateOrCreate=function(s){var f=this.cache.get(this.getCacheKey(s));if(f){var P=s.type,N=this.getAnnotationTheme(P),Z=this.getAnnotationCfg(P,s,N);zr(Z,["container"]),f.component.update(Z),Object(a.includes)($f,s.type)&&f.component.render()}else f=this.createAnnotation(s),f&&(f.component.init(),Object(a.includes)($f,s.type)&&f.component.render());return f},v.prototype.syncCache=function(s){var f=this,P=new Map(this.cache);return s.forEach(function(N,Z){P.set(Z,N)}),P.forEach(function(N,Z){Object(a.find)(f.option,function(vt){return Z===f.getCacheKey(vt)})||(N.component.destroy(),P.delete(Z))}),P},v.prototype.getCacheKey=function(s){return s},v}(Qo),he=Yt;function Pe(h,v){var s=Object(a.deepMix)({},Object(a.get)(h,["components","axis","common"]),Object(a.get)(h,["components","axis",v]));return Object(a.get)(s,["grid"],{})}function or(h,v,s,f){var P=[],N=v.getTicks();return h.isPolar&&N.push({value:1,text:"",tickValue:""}),N.reduce(function(Z,vt,Tt){var Gt=vt.value;if(f)P.push({points:[h.convert(s==="y"?{x:0,y:Gt}:{x:Gt,y:0}),h.convert(s==="y"?{x:1,y:Gt}:{x:Gt,y:1})]});else if(Tt){var _t=Z.value,Zt=(_t+Gt)/2;P.push({points:[h.convert(s==="y"?{x:0,y:Zt}:{x:Zt,y:0}),h.convert(s==="y"?{x:1,y:Zt}:{x:Zt,y:1})]})}return vt},N[0]),P}function Rr(h,v,s,f,P){var N=v.values.length,Z=[],vt=s.getTicks();return vt.reduce(function(Tt,Gt){var _t=Tt?Tt.value:Gt.value,Zt=Gt.value,Jt=(_t+Zt)/2;return P==="x"?Z.push({points:[h.convert({x:f?Zt:Jt,y:0}),h.convert({x:f?Zt:Jt,y:1})]}):Z.push({points:Object(a.map)(Array(N+1),function(ie,le){return h.convert({x:le/N,y:f?Zt:Jt})})}),Gt},vt[0]),Z}function lr(h,v){var s=Object(a.get)(v,"grid");if(s===null)return!1;var f=Object(a.get)(h,"grid");return!(s===void 0&&f===null)}var gr=["container"],kr=Object(c.__assign)(Object(c.__assign)({},Xs),{appear:null}),Er=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;return f.cache=new Map,f.gridContainer=f.view.getLayer(M.BG).addGroup(),f.gridForeContainer=f.view.getLayer(M.FORE).addGroup(),f.axisContainer=f.view.getLayer(M.BG).addGroup(),f.axisForeContainer=f.view.getLayer(M.FORE).addGroup(),f}return Object.defineProperty(v.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),v.prototype.init=function(){},v.prototype.render=function(){this.update()},v.prototype.layout=function(){var s=this,f=this.view.getCoordinate();Object(a.each)(this.getComponents(),function(P){var N=P.component,Z=P.direction,vt=P.type,Tt=P.extra,Gt=Tt.dim,_t=Tt.scale,Zt=Tt.alignTick,Jt;if(vt===x.AXIS)f.isPolar?Gt==="x"?Jt=f.isTransposed?Gi(f,Z):pa(f):Gt==="y"&&(Jt=f.isTransposed?pa(f):Gi(f,Z)):Jt=Gi(f,Z);else if(vt===x.GRID)if(f.isPolar){var ie=void 0;f.isTransposed?ie=Gt==="x"?Rr(f,s.view.getYScales()[0],_t,Zt,Gt):or(f,_t,Gt,Zt):ie=Gt==="x"?or(f,_t,Gt,Zt):Rr(f,s.view.getXScale(),_t,Zt,Gt),Jt={items:ie,center:s.view.getCoordinate().getCenter()}}else Jt={items:or(f,_t,Gt,Zt)};N.update(Jt)})},v.prototype.update=function(){this.option=this.view.getOptions().axes;var s=new Map;this.updateXAxes(s),this.updateYAxes(s);var f=new Map;this.cache.forEach(function(P,N){s.has(N)?f.set(N,P):P.component.destroy()}),this.cache=f},v.prototype.clear=function(){h.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},v.prototype.destroy=function(){h.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},v.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(f){s.push(f)}),s},v.prototype.updateXAxes=function(s){var f=this.view.getXScale();if(!(!f||f.isIdentity)){var P=Wa(this.option,f.field);if(P!==!1){var N=oo(P,O.BOTTOM),Z=M.BG,vt="x",Tt=this.view.getCoordinate(),Gt=this.getId("axis",f.field),_t=this.getId("grid",f.field);if(Tt.isRect){var Zt=this.cache.get(Gt);if(Zt){var Jt=this.getLineAxisCfg(f,P,N);zr(Jt,gr),Zt.component.update(Jt),s.set(Gt,Zt)}else Zt=this.createLineAxis(f,P,Z,N,vt),this.cache.set(Gt,Zt),s.set(Gt,Zt);var ie=this.cache.get(_t);if(ie){var Jt=this.getLineGridCfg(f,P,N,vt);zr(Jt,gr),ie.component.update(Jt),s.set(_t,ie)}else ie=this.createLineGrid(f,P,Z,N,vt),ie&&(this.cache.set(_t,ie),s.set(_t,ie))}else if(Tt.isPolar){var Zt=this.cache.get(Gt);if(Zt){var Jt=Tt.isTransposed?this.getLineAxisCfg(f,P,O.RADIUS):this.getCircleAxisCfg(f,P,N);zr(Jt,gr),Zt.component.update(Jt),s.set(Gt,Zt)}else{if(Tt.isTransposed){if(Object(a.isUndefined)(P))return;Zt=this.createLineAxis(f,P,Z,O.RADIUS,vt)}else Zt=this.createCircleAxis(f,P,Z,N,vt);this.cache.set(Gt,Zt),s.set(Gt,Zt)}var ie=this.cache.get(_t);if(ie){var Jt=Tt.isTransposed?this.getCircleGridCfg(f,P,O.RADIUS,vt):this.getLineGridCfg(f,P,O.CIRCLE,vt);zr(Jt,gr),ie.component.update(Jt),s.set(_t,ie)}else{if(Tt.isTransposed){if(Object(a.isUndefined)(P))return;ie=this.createCircleGrid(f,P,Z,O.RADIUS,vt)}else ie=this.createLineGrid(f,P,Z,O.CIRCLE,vt);ie&&(this.cache.set(_t,ie),s.set(_t,ie))}}}}},v.prototype.updateYAxes=function(s){var f=this,P=this.view.getYScales();Object(a.each)(P,function(N,Z){if(!(!N||N.isIdentity)){var vt=N.field,Tt=Wa(f.option,vt);if(Tt!==!1){var Gt=M.BG,_t="y",Zt=f.getId("axis",vt),Jt=f.getId("grid",vt),ie=f.view.getCoordinate();if(ie.isRect){var le=oo(Tt,Z===0?O.LEFT:O.RIGHT),xe=f.cache.get(Zt);if(xe){var Ze=f.getLineAxisCfg(N,Tt,le);zr(Ze,gr),xe.component.update(Ze),s.set(Zt,xe)}else xe=f.createLineAxis(N,Tt,Gt,le,_t),f.cache.set(Zt,xe),s.set(Zt,xe);var He=f.cache.get(Jt);if(He){var Ze=f.getLineGridCfg(N,Tt,le,_t);zr(Ze,gr),He.component.update(Ze),s.set(Jt,He)}else He=f.createLineGrid(N,Tt,Gt,le,_t),He&&(f.cache.set(Jt,He),s.set(Jt,He))}else if(ie.isPolar){var xe=f.cache.get(Zt);if(xe){var Ze=ie.isTransposed?f.getCircleAxisCfg(N,Tt,O.CIRCLE):f.getLineAxisCfg(N,Tt,O.RADIUS);zr(Ze,gr),xe.component.update(Ze),s.set(Zt,xe)}else{if(ie.isTransposed){if(Object(a.isUndefined)(Tt))return;xe=f.createCircleAxis(N,Tt,Gt,O.CIRCLE,_t)}else xe=f.createLineAxis(N,Tt,Gt,O.RADIUS,_t);f.cache.set(Zt,xe),s.set(Zt,xe)}var He=f.cache.get(Jt);if(He){var Ze=ie.isTransposed?f.getLineGridCfg(N,Tt,O.CIRCLE,_t):f.getCircleGridCfg(N,Tt,O.RADIUS,_t);zr(Ze,gr),He.component.update(Ze),s.set(Jt,He)}else{if(ie.isTransposed){if(Object(a.isUndefined)(Tt))return;He=f.createLineGrid(N,Tt,Gt,O.CIRCLE,_t)}else He=f.createCircleGrid(N,Tt,Gt,O.RADIUS,_t);He&&(f.cache.set(Jt,He),s.set(Jt,He))}}}}})},v.prototype.createLineAxis=function(s,f,P,N,Z){var vt={component:new It(this.getLineAxisCfg(s,f,N)),layer:P,direction:N===O.RADIUS?O.NONE:N,type:x.AXIS,extra:{dim:Z,scale:s}};return vt.component.set("field",s.field),vt.component.init(),vt},v.prototype.createLineGrid=function(s,f,P,N,Z){var vt=this.getLineGridCfg(s,f,N,Z);if(vt){var Tt={component:new $t(vt),layer:P,direction:O.NONE,type:x.GRID,extra:{dim:Z,scale:s,alignTick:Object(a.get)(vt,"alignTick",!0)}};return Tt.component.init(),Tt}},v.prototype.createCircleAxis=function(s,f,P,N,Z){var vt={component:new Ut(this.getCircleAxisCfg(s,f,N)),layer:P,direction:N,type:x.AXIS,extra:{dim:Z,scale:s}};return vt.component.set("field",s.field),vt.component.init(),vt},v.prototype.createCircleGrid=function(s,f,P,N,Z){var vt=this.getCircleGridCfg(s,f,N,Z);if(vt){var Tt={component:new Ft(vt),layer:P,direction:O.NONE,type:x.GRID,extra:{dim:Z,scale:s,alignTick:Object(a.get)(vt,"alignTick",!0)}};return Tt.component.init(),Tt}},v.prototype.getLineAxisCfg=function(s,f,P){var N=Object(a.get)(f,["top"])?this.axisForeContainer:this.axisContainer,Z=this.view.getCoordinate(),vt=Gi(Z,P),Tt=po(s,f),Gt=Di(this.view.getTheme(),P),_t=Object(a.get)(f,["title"])?Object(a.deepMix)({title:{style:{text:Tt}}},{title:Ca(this.view.getTheme(),P,f.title)},f):f,Zt=Object(a.deepMix)(Object(c.__assign)(Object(c.__assign)({container:N},vt),{ticks:s.getTicks().map(function(br){return{id:""+br.tickValue,name:br.text,value:br.value}}),verticalFactor:Z.isPolar?ca(vt,Z.getCenter())*-1:ca(vt,Z.getCenter()),theme:Gt}),Gt,_t),Jt=this.getAnimateCfg(Zt),ie=Jt.animate,le=Jt.animateOption;Zt.animateOption=le,Zt.animate=ie;var xe=Ri(vt),Ze=Object(a.get)(Zt,"verticalLimitLength",xe?1/3:1/2);if(Ze<=1){var He=this.view.getCanvas().get("width"),yr=this.view.getCanvas().get("height");Zt.verticalLimitLength=Ze*(xe?He:yr)}return Zt},v.prototype.getLineGridCfg=function(s,f,P,N){if(!!lr(Di(this.view.getTheme(),P),f)){var Z=Pe(this.view.getTheme(),P),vt=Object(a.deepMix)({container:Object(a.get)(f,["top"])?this.gridForeContainer:this.gridContainer},Z,Object(a.get)(f,"grid"),this.getAnimateCfg(f));return vt.items=or(this.view.getCoordinate(),s,N,Object(a.get)(vt,"alignTick",!0)),vt}},v.prototype.getCircleAxisCfg=function(s,f,P){var N=Object(a.get)(f,["top"])?this.axisForeContainer:this.axisContainer,Z=this.view.getCoordinate(),vt=s.getTicks().map(function(xe){return{id:""+xe.tickValue,name:xe.text,value:xe.value}});!s.isCategory&&Math.abs(Z.endAngle-Z.startAngle)===Math.PI*2&&vt.pop();var Tt=po(s,f),Gt=Di(this.view.getTheme(),O.CIRCLE),_t=Object(a.get)(f,["title"])?Object(a.deepMix)({title:{style:{text:Tt}}},{title:Ca(this.view.getTheme(),P,f.title)},f):f,Zt=Object(a.deepMix)(Object(c.__assign)(Object(c.__assign)({container:N},pa(this.view.getCoordinate())),{ticks:vt,verticalFactor:1,theme:Gt}),Gt,_t),Jt=this.getAnimateCfg(Zt),ie=Jt.animate,le=Jt.animateOption;return Zt.animate=ie,Zt.animateOption=le,Zt},v.prototype.getCircleGridCfg=function(s,f,P,N){if(!!lr(Di(this.view.getTheme(),P),f)){var Z=Pe(this.view.getTheme(),O.RADIUS),vt=Object(a.deepMix)({container:Object(a.get)(f,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},Z,Object(a.get)(f,"grid"),this.getAnimateCfg(f)),Tt=Object(a.get)(vt,"alignTick",!0),Gt=N==="x"?this.view.getYScales()[0]:this.view.getXScale();return vt.items=Rr(this.view.getCoordinate(),Gt,s,Tt,N),vt}},v.prototype.getId=function(s,f){var P=this.view.getCoordinate();return s+"-"+f+"-"+P.type},v.prototype.getAnimateCfg=function(s){return{animate:this.view.getOptions().animate&&Object(a.get)(s,"animate"),animateOption:s&&s.animateOption?Object(a.deepMix)({},kr,s.animateOption):kr}},v}(Qo),Hr=Er;function rr(h,v,s){return s===O.TOP?[h.minX+h.width/2-v.width/2,h.minY]:s===O.BOTTOM?[h.minX+h.width/2-v.width/2,h.maxY-v.height]:s===O.LEFT?[h.minX,h.minY+h.height/2-v.height/2]:s===O.RIGHT?[h.maxX-v.width,h.minY+h.height/2-v.height/2]:s===O.TOP_LEFT||s===O.LEFT_TOP?[h.tl.x,h.tl.y]:s===O.TOP_RIGHT||s===O.RIGHT_TOP?[h.tr.x-v.width,h.tr.y]:s===O.BOTTOM_LEFT||s===O.LEFT_BOTTOM?[h.bl.x,h.bl.y-v.height]:s===O.BOTTOM_RIGHT||s===O.RIGHT_BOTTOM?[h.br.x-v.width,h.br.y-v.height]:[0,0]}function un(h,v){if(v.isTransposed)switch(h){case O.BOTTOM:return O.LEFT;case O.LEFT:return O.BOTTOM;case O.RIGHT:return O.TOP;case O.TOP:return O.RIGHT}return h}function pn(h){return h===O.LEFT?O.RIGHT:h===O.RIGHT?O.LEFT:h}function Xr(h){return h===O.TOP?O.BOTTOM:h===O.BOTTOM?O.TOP:h}function hn(h,v){var s=v.matrix[0],f=v.matrix[4],P=h;return s<0&&(P=pn(P)),f<0&&(P=Xr(P)),P}function Ye(h,v){var s=h;return v.isReflect("x")&&(s=pn(s)),v.isReflect("y")&&(s=Xr(s)),s}function mr(h,v){var s=h;return s=un(s,v),s=hn(s,v),s=Ye(s,v),s}function Qr(h,v){return Object(a.isBoolean)(h)?h===!1?!1:{}:Object(a.get)(h,[v],h)}function bn(h){return Object(a.get)(h,"position",O.BOTTOM)}var Wr=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;return f.container=f.view.getLayer(M.FORE).addGroup(),f}return Object.defineProperty(v.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),v.prototype.init=function(){},v.prototype.render=function(){this.update()},v.prototype.layout=function(){var s=this;this.layoutBBox=this.view.viewBBox,Object(a.each)(this.components,function(f){var P=f.component,N=f.direction,Z=Es(N),vt=s.getCategoryLegendSizeCfg(Z),Tt=P.get("maxWidth"),Gt=P.get("maxHeight");P.update({maxWidth:Math.min(vt.maxWidth,Tt||0),maxHeight:Math.min(vt.maxHeight,Gt||0)});var _t=P.get("padding"),Zt=P.getLayoutBBox(),Jt=new qr(Zt.x,Zt.y,Zt.width,Zt.height).expand(_t),ie=rr(s.view.viewBBox,Jt,N),le=ie[0],xe=ie[1],Ze=rr(s.layoutBBox,Jt,N),He=Ze[0],yr=Ze[1],br=0,tn=0;N.startsWith("top")||N.startsWith("bottom")?(br=le,tn=yr):(br=He,tn=xe),P.setLocation({x:br+_t[3],y:tn+_t[0]}),s.layoutBBox=s.layoutBBox.cut(Jt,N)})},v.prototype.update=function(){var s=this;this.option=this.view.getOptions().legends;var f={},P=function(Jt,ie,le){var xe=s.getId(le.field),Ze=s.getComponentById(xe);if(Ze){var He=void 0,yr=Qr(s.option,le.field);yr!==!1&&(Object(a.get)(yr,"custom")?He=s.getCategoryCfg(Jt,ie,le,yr,!0):le.isLinear?He=s.getContinuousCfg(Jt,ie,le,yr):le.isCategory&&(He=s.getCategoryCfg(Jt,ie,le,yr))),He&&(zr(He,["container"]),Ze.direction=bn(yr),Ze.component.update(He),f[xe]=!0)}else{var br=s.createFieldLegend(Jt,ie,le);br&&(br.component.init(),s.components.push(br),f[xe]=!0)}};if(Object(a.get)(this.option,"custom")){var N="global-custom",Z=this.getComponentById(N);if(Z){var vt=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);zr(vt,["container"]),Z.component.update(vt),f[N]=!0}else{var Tt=this.createCustomLegend(void 0,void 0,void 0,this.option);if(Tt){Tt.init();var Gt=M.FORE,_t=bn(this.option);this.components.push({id:N,component:Tt,layer:Gt,direction:_t,type:x.LEGEND,extra:void 0}),f[N]=!0}}}else this.loopLegends(P);var Zt=[];Object(a.each)(this.getComponents(),function(Jt){f[Jt.id]?Zt.push(Jt):Jt.component.destroy()}),this.components=Zt},v.prototype.clear=function(){h.prototype.clear.call(this),this.container.clear()},v.prototype.destroy=function(){h.prototype.destroy.call(this),this.container.remove(!0)},v.prototype.getGeometries=function(s){var f=this,P=s.geometries;return Object(a.each)(s.views,function(N){P=P.concat(f.getGeometries(N))}),P},v.prototype.loopLegends=function(s){var f=this.view.getRootView()===this.view;if(!!f){var P=this.getGeometries(this.view),N={};Object(a.each)(P,function(Z){var vt=Z.getGroupAttributes();Object(a.each)(vt,function(Tt){var Gt=Tt.getScale(Tt.type);!Gt||Gt.type==="identity"||N[Gt.field]||(s(Z,Tt,Gt),N[Gt.field]=!0)})})}},v.prototype.createFieldLegend=function(s,f,P){var N,Z=Qr(this.option,P.field),vt=M.FORE,Tt=bn(Z);if(Z!==!1&&(Object(a.get)(Z,"custom")?N=this.createCustomLegend(s,f,P,Z):P.isLinear?N=this.createContinuousLegend(s,f,P,Z):P.isCategory&&(N=this.createCategoryLegend(s,f,P,Z))),N)return N.set("field",P.field),{id:this.getId(P.field),component:N,layer:vt,direction:Tt,type:x.LEGEND,extra:{scale:P}}},v.prototype.createCustomLegend=function(s,f,P,N){var Z=this.getCategoryCfg(s,f,P,N,!0);return new Kt(Z)},v.prototype.createContinuousLegend=function(s,f,P,N){var Z=this.getContinuousCfg(s,f,P,N);return new ee(Z)},v.prototype.createCategoryLegend=function(s,f,P,N){var Z=this.getCategoryCfg(s,f,P,N);return new Kt(Z)},v.prototype.getContinuousCfg=function(s,f,P,N){var Z=P.getTicks(),vt=Object(a.find)(Z,function(xe){return xe.value===0}),Tt=Object(a.find)(Z,function(xe){return xe.value===1}),Gt=Z.map(function(xe){var Ze=xe.value,He=xe.tickValue,yr=f.mapping(P.invert(Ze)).join("");return{value:He,attrValue:yr,color:yr,scaleValue:Ze}});vt||Gt.push({value:P.min,attrValue:f.mapping(P.invert(0)).join(""),color:f.mapping(P.invert(0)).join(""),scaleValue:0}),Tt||Gt.push({value:P.max,attrValue:f.mapping(P.invert(1)).join(""),color:f.mapping(P.invert(1)).join(""),scaleValue:1}),Gt.sort(function(xe,Ze){return xe.value-Ze.value});var _t={min:Object(a.head)(Gt).value,max:Object(a.last)(Gt).value,colors:[],rail:{type:f.type},track:{}};f.type==="size"&&(_t.track={style:{fill:f.type==="size"?this.view.getTheme().defaultColor:void 0}}),f.type==="color"&&(_t.colors=Gt.map(function(xe){return xe.attrValue}));var Zt=this.container,Jt=bn(N),ie=Es(Jt),le=Object(a.get)(N,"title");return le&&(le=Object(a.deepMix)({text:In(P)},le)),_t.container=Zt,_t.layout=ie,_t.title=le,_t.animateOption=Xs,this.mergeLegendCfg(_t,N,"continuous")},v.prototype.getCategoryCfg=function(s,f,P,N,Z){var vt=this.container,Tt=Object(a.get)(N,"position",O.BOTTOM),Gt=bc(this.view.getTheme(),Tt),_t=Object(a.get)(Gt,["marker"]),Zt=Object(a.get)(N,"marker"),Jt=Es(Tt),ie=Object(a.get)(Gt,["pageNavigator"]),le=Object(a.get)(N,"pageNavigator"),xe=Z?Mh(_t,Zt,N.items):Tu(this.view,s,f,_t,Zt),Ze=Object(a.get)(N,"title");Ze&&(Ze=Object(a.deepMix)({text:P?In(P):""},Ze));var He=this.getCategoryLegendSizeCfg(Jt);He.container=vt,He.layout=Jt,He.items=xe,He.title=Ze,He.animateOption=Xs,He.pageNavigator=Object(a.deepMix)({},ie,le);var yr=this.mergeLegendCfg(He,N,Tt);yr.reversed&&yr.items.reverse();var br=Object(a.get)(yr,"maxItemWidth");return br&&br<=1&&(yr.maxItemWidth=this.view.viewBBox.width*br),yr},v.prototype.mergeLegendCfg=function(s,f,P){var N=P.split("-")[0],Z=bc(this.view.getTheme(),N);return Object(a.deepMix)({},Z,s,f)},v.prototype.getId=function(s){return this.name+"-"+s},v.prototype.getComponentById=function(s){return Object(a.find)(this.components,function(f){return f.id===s})},v.prototype.getCategoryLegendSizeCfg=function(s){var f=this.view.viewBBox,P=f.width,N=f.height;return s==="vertical"?{maxWidth:P*R,maxHeight:N}:{maxWidth:P,maxHeight:N*R}},v}(Qo),dn=Wr,Ke=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;return f.onChangeFn=a.noop,f.resetMeasure=function(){f.clear()},f.onValueChange=function(P){var N=P[0],Z=P[1];f.start=N,f.end=Z,f.changeViewData(N,Z)},f.container=f.view.getLayer(M.FORE).addGroup(),f.onChangeFn=Object(a.throttle)(f.onValueChange,20,{leading:!0}),f.width=0,f.view.on(E.BEFORE_CHANGE_DATA,f.resetMeasure),f.view.on(E.BEFORE_CHANGE_SIZE,f.resetMeasure),f}return Object.defineProperty(v.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),v.prototype.destroy=function(){h.prototype.destroy.call(this),this.view.off(E.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(E.BEFORE_CHANGE_SIZE,this.resetMeasure)},v.prototype.init=function(){},v.prototype.render=function(){this.option=this.view.getOptions().slider;var s=this.getSliderCfg(),f=s.start,P=s.end;Object(a.isNil)(this.start)&&(this.start=f,this.end=P);var N=this.view.getOptions().data;this.option&&!Object(a.isEmpty)(N)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},v.prototype.layout=function(){var s=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.start,s.end)},0)),this.slider){var f=this.view.coordinateBBox.width,P=this.slider.component.get("padding"),N=P[0],Z=P[1],vt=P[2],Tt=P[3],Gt=this.slider.component.getLayoutBBox(),_t=new qr(Gt.x,Gt.y,Math.min(Gt.width,f),Gt.height).expand(P),Zt=this.getMinMaxText(this.start,this.end),Jt=Zt.minText,ie=Zt.maxText,le=rr(this.view.viewBBox,_t,O.BOTTOM),xe=le[0],Ze=le[1],He=rr(this.view.coordinateBBox,_t,O.BOTTOM),yr=He[0],br=He[1];this.slider.component.update(Object(c.__assign)(Object(c.__assign)({},this.getSliderCfg()),{x:yr+Tt,y:Ze+N,width:this.width,start:this.start,end:this.end,minText:Jt,maxText:ie})),this.view.viewBBox=this.view.viewBBox.cut(_t,O.BOTTOM)}},v.prototype.update=function(){this.render()},v.prototype.createSlider=function(){var s=this.getSliderCfg(),f=new Xt.Slider(Object(c.__assign)({container:this.container},s));return f.init(),{component:f,layer:M.FORE,direction:O.BOTTOM,type:x.SLIDER}},v.prototype.updateSlider=function(){var s=this.getSliderCfg();if(this.width){var f=this.getMinMaxText(this.start,this.end),P=f.minText,N=f.maxText;s=Object(c.__assign)(Object(c.__assign)({},s),{width:this.width,start:this.start,end:this.end,minText:P,maxText:N})}return this.slider.component.update(s),this.slider},v.prototype.measureSlider=function(){var s=this.getSliderCfg().width;this.width=s},v.prototype.getSliderCfg=function(){var s={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(a.isObject)(this.option)){var f=Object(c.__assign)({data:this.getData()},Object(a.get)(this.option,"trendCfg",{}));s=Object(a.deepMix)({},s,this.getThemeOptions(),this.option),s=Object(c.__assign)(Object(c.__assign)({},s),{trendCfg:f})}return s.start=Object(a.clamp)(Math.min(Object(a.isNil)(s.start)?0:s.start,Object(a.isNil)(s.end)?1:s.end),0,1),s.end=Object(a.clamp)(Math.max(Object(a.isNil)(s.start)?0:s.start,Object(a.isNil)(s.end)?1:s.end),0,1),s},v.prototype.getData=function(){var s=this.view.getOptions().data,f=this.view.getYScales()[0],P=this.view.getGroupScales();if(P.length){var N=P[0],Z=N.field,vt=N.ticks;return s.reduce(function(Tt,Gt){return Gt[Z]===vt[0]&&Tt.push(Gt[f.field]),Tt},[])}return s.map(function(Tt){return Tt[f.field]||0})},v.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(a.get)(s,["components","slider","common"],{})},v.prototype.getMinMaxText=function(s,f){var P=this.view.getOptions().data,N=this.view.getXScale(),Z=!0,vt=Object(a.valuesOfKey)(P,N.field),Tt=Z?vt:vt.reverse(),Gt=Object(a.size)(P);if(!N||!Gt)return{};var _t=Object(a.size)(Tt),Zt=Math.floor(s*(_t-1)),Jt=Math.floor(f*(_t-1)),ie=Object(a.get)(Tt,[Zt]),le=Object(a.get)(Tt,[Jt]),xe=this.getSliderCfg().formatter;return xe&&(ie=xe(ie,P[Zt],Zt),le=xe(le,P[Jt],Jt)),{minText:ie,maxText:le}},v.prototype.changeViewData=function(s,f){var P=this.view.getOptions().data,N=this.view.getXScale(),Z=Object(a.size)(P);if(!(!N||!Z)){var vt=!0,Tt=Object(a.valuesOfKey)(P,N.field),Gt=vt?Tt:Tt.reverse(),_t=Object(a.size)(Gt),Zt=Math.floor(s*(_t-1)),Jt=Math.floor(f*(_t-1));this.view.filter(N.field,function(ie,le){var xe=Gt.indexOf(ie);return xe>-1?Xe(xe,Zt,Jt):!0}),this.view.render(!0)}},v.prototype.getComponents=function(){return this.slider?[this.slider]:[]},v.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},v}(Qo),cn=Ke,Ur=0,on=8,Xn=32,ii=20,mn=function(h){Object(c.__extends)(v,h);function v(s){var f=h.call(this,s)||this;return f.onChangeFn=a.noop,f.resetMeasure=function(){f.clear()},f.onValueChange=function(P){var N=P.ratio,Z=f.getValidScrollbarCfg().animate;f.ratio=Object(a.clamp)(N,0,1);var vt=f.view.getOptions().animate;Z||f.view.animate(!1),f.changeViewData(f.getScrollRange(),!0),f.view.animate(vt)},f.container=f.view.getLayer(M.FORE).addGroup(),f.onChangeFn=Object(a.throttle)(f.onValueChange,20,{leading:!0}),f.trackLen=0,f.thumbLen=0,f.ratio=0,f.view.on(E.BEFORE_CHANGE_DATA,f.resetMeasure),f.view.on(E.BEFORE_CHANGE_SIZE,f.resetMeasure),f}return Object.defineProperty(v.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),v.prototype.destroy=function(){h.prototype.destroy.call(this),this.view.off(E.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(E.BEFORE_CHANGE_SIZE,this.resetMeasure)},v.prototype.init=function(){},v.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},v.prototype.layout=function(){var s=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.getScrollRange(),!0)})),this.scrollbar){var f=this.view.coordinateBBox.width,P=this.scrollbar.component.get("padding"),N=this.scrollbar.component.getLayoutBBox(),Z=new qr(N.x,N.y,Math.min(N.width,f),N.height).expand(P),vt=this.getScrollbarComponentCfg(),Tt=void 0,Gt=void 0;if(vt.isHorizontal){var _t=rr(this.view.viewBBox,Z,O.BOTTOM),Zt=_t[0],Jt=_t[1],ie=rr(this.view.coordinateBBox,Z,O.BOTTOM),le=ie[0],xe=ie[1];Tt=le,Gt=Jt}else{var Ze=rr(this.view.viewBBox,Z,O.RIGHT),Zt=Ze[0],Jt=Ze[1],He=rr(this.view.viewBBox,Z,O.RIGHT),le=He[0],xe=He[1];Tt=le,Gt=Jt}Tt+=P[3],Gt+=P[0],this.trackLen?this.scrollbar.component.update(Object(c.__assign)(Object(c.__assign)({},vt),{x:Tt,y:Gt,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(c.__assign)(Object(c.__assign)({},vt),{x:Tt,y:Gt})),this.view.viewBBox=this.view.viewBBox.cut(Z,vt.isHorizontal?O.BOTTOM:O.RIGHT)}},v.prototype.update=function(){this.render()},v.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},v.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},v.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(a.get)(s,["components","scrollbar","common"],{})},v.prototype.getScrollbarTheme=function(s){var f=Object(a.get)(this.view.getTheme(),["components","scrollbar"]),P=s||{},N=P.thumbHighlightColor,Z=Object(c.__rest)(P,["thumbHighlightColor"]);return{default:Object(a.deepMix)({},Object(a.get)(f,["default","style"],{}),Z),hover:Object(a.deepMix)({},Object(a.get)(f,["hover","style"],{}),{thumbColor:N})}},v.prototype.measureScrollbar=function(){var s=this.view.getXScale(),f=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var P=this.getScrollbarComponentCfg(),N=P.trackLen,Z=P.thumbLen;this.trackLen=N,this.thumbLen=Z,this.xScaleCfg={field:s.field,values:s.values||[]},this.yScalesCfg=f},v.prototype.getScrollRange=function(){var s=Math.floor((this.cnt-this.step)*Object(a.clamp)(this.ratio,0,1)),f=Math.min(s+this.step-1,this.cnt-1);return[s,f]},v.prototype.changeViewData=function(s,f){var P=this,N=s[0],Z=s[1],vt=this.getValidScrollbarCfg().type,Tt=vt!=="vertical",Gt=Object(a.valuesOfKey)(this.data,this.xScaleCfg.field),_t=Tt?Gt:Gt.reverse();this.yScalesCfg.forEach(function(Zt){P.view.scale(Zt.field,{formatter:Zt.formatter,type:Zt.type,min:Zt.min,max:Zt.max})}),this.view.filter(this.xScaleCfg.field,function(Zt){var Jt=_t.indexOf(Zt);return Jt>-1?Xe(Jt,N,Z):!0}),this.view.render(!0)},v.prototype.createScrollbar=function(){var s=this.getValidScrollbarCfg().type,f=s!=="vertical",P=new Xt.Scrollbar(Object(c.__assign)(Object(c.__assign)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return P.init(),{component:P,layer:M.FORE,direction:f?O.BOTTOM:O.RIGHT,type:x.SCROLLBAR}},v.prototype.updateScrollbar=function(){var s=this.getScrollbarComponentCfg(),f=this.trackLen?Object(c.__assign)(Object(c.__assign)({},s),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(c.__assign)({},s);return this.scrollbar.component.update(f),this.scrollbar},v.prototype.getStep=function(){if(this.step)return this.step;var s=this.view.coordinateBBox,f=this.getValidScrollbarCfg(),P=f.type,N=f.categorySize,Z=P!=="vertical";return Math.floor((Z?s.width:s.height)/N)},v.prototype.getCnt=function(){if(this.cnt)return this.cnt;var s=this.view.getXScale(),f=this.view.getOptions().data,P=Object(a.valuesOfKey)(f,s.field);return Object(a.size)(P)},v.prototype.getScrollbarComponentCfg=function(){var s=this.view,f=s.coordinateBBox,P=s.viewBBox,N=this.getValidScrollbarCfg(),Z=N.type,vt=N.padding,Tt=N.width,Gt=N.height,_t=N.style,Zt=Z!=="vertical",Jt=vt[0],ie=vt[1],le=vt[2],xe=vt[3],Ze=Zt?{x:f.minX+xe,y:P.maxY-Gt-le}:{x:P.maxX-Tt-ie,y:f.minY+Jt},He=this.getStep(),yr=this.getCnt(),br=Zt?f.width-xe-ie:f.height-Jt-le,tn=Math.max(br*Object(a.clamp)(He/yr,0,1),ii);return Object(c.__assign)(Object(c.__assign)({},this.getThemeOptions()),{x:Ze.x,y:Ze.y,size:Zt?Gt:Tt,isHorizontal:Zt,trackLen:br,thumbLen:tn,thumbOffset:0,theme:this.getScrollbarTheme(_t)})},v.prototype.getValidScrollbarCfg=function(){var s={type:"horizontal",categorySize:Xn,width:on,height:on,padding:[0,0,0,0],animate:!0,style:{}};return Object(a.isObject)(this.option)&&(s=Object(c.__assign)(Object(c.__assign)({},s),this.option)),(!Object(a.isObject)(this.option)||!this.option.padding)&&(s.padding=s.type==="horizontal"?[Ur,0,Ur,0]:[0,Ur,0,Ur]),s},v}(Qo),Jr=mn,Fr={fill:"#CCD6EC",opacity:.3};function Jn(h,v,s){var f=Mn(h,v,s);if(f.length){f=Object(a.flatten)(f);for(var P=0,N=f;P<N.length;P++)for(var Z=N[P],vt=0,Tt=Z;vt<Tt.length;vt++){var Gt=Tt[vt],_t=Gt.mappingData,Zt=_t.x,Jt=_t.y;Gt.x=Object(a.isArray)(Zt)?Zt[Zt.length-1]:Zt,Gt.y=Object(a.isArray)(Jt)?Jt[Jt.length-1]:Jt}var ie=s.shared;if(ie===!1&&f.length>1){for(var le=f[0],xe=Math.abs(v.y-le[0].y),Ze=0,He=f;Ze<He.length;Ze++){var yr=He[Ze],br=Math.abs(v.y-yr[0].y);br<=xe&&(le=yr,xe=br)}f=[le]}return Object(a.uniq)(Object(a.flatten)(f))}return[]}var hi=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.show=function(s){var f=this.context.view,P=this.context.event,N=f.getController("tooltip").getTooltipCfg(),Z=Jn(f,{x:P.x,y:P.y},N);if(!Object(a.isEqual)(Z,this.items)&&(this.items=Z,Z.length)){var vt=f.getXScale().field,Tt=Z[0].data[vt],Gt=[],_t=f.geometries;if(Object(a.each)(_t,function(hs){if(hs.type==="interval"||hs.type==="schema"){var zo=hs.getElementsBy(function(qd){var tv=qd.getData();return tv[vt]===Tt});Gt=Gt.concat(zo)}}),Gt.length){var Zt=f.getCoordinate(),Jt=Gt[0].shape.getCanvasBBox(),ie=Gt[0].shape.getCanvasBBox(),le=Jt;Object(a.each)(Gt,function(hs){var zo=hs.shape.getCanvasBBox();Zt.isTransposed?(zo.minY<Jt.minY&&(Jt=zo),zo.maxY>ie.maxY&&(ie=zo)):(zo.minX<Jt.minX&&(Jt=zo),zo.maxX>ie.maxX&&(ie=zo)),le.x=Math.min(zo.minX,le.minX),le.y=Math.min(zo.minY,le.minY),le.width=Math.max(zo.maxX,le.maxX)-le.x,le.height=Math.max(zo.maxY,le.maxY)-le.y});var xe=f.backgroundGroup,Ze=f.coordinateBBox,He=void 0;if(Zt.isRect){var yr=f.getXScale(),br=s||{},tn=br.appendRatio,an=br.appendWidth;Object(a.isNil)(an)&&(tn=Object(a.isNil)(tn)?yr.isLinear?0:.25:tn,an=Zt.isTransposed?tn*ie.height:tn*Jt.width);var yn=void 0,li=void 0,Yn=void 0,Hn=void 0;Zt.isTransposed?(yn=Ze.minX,li=Math.min(ie.minY,Jt.minY)-an,Yn=Ze.width,Hn=le.height+an*2):(yn=Math.min(Jt.minX,ie.minX)-an,li=Ze.minY,Yn=le.width+an*2,Hn=Ze.height),He=[["M",yn,li],["L",yn+Yn,li],["L",yn+Yn,li+Hn],["L",yn,li+Hn],["Z"]]}else{var Ti=Object(a.head)(Gt),sa=Object(a.last)(Gt),Ji=dr(Ti.getModel(),Zt).startAngle,Bi=dr(sa.getModel(),Zt).endAngle,xo=Zt.getCenter(),$n=Zt.getRadius(),rh=Zt.innerRadius*$n;He=Ge(xo.x,xo.y,$n,Ji,Bi,rh)}if(this.regionPath)this.regionPath.attr("path",He),this.regionPath.show();else{var qs=Object(a.get)(s,"style",Fr);this.regionPath=xe.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(c.__assign)(Object(c.__assign)({},qs),{path:He})})}}}},v.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},v.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),h.prototype.destroy.call(this)},v}(ba),An=hi,di=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.timeStamp=0,s}return v.prototype.show=function(){var s=this.context,f=s.event,P=s.view,N=P.isTooltipLocked();if(!N){var Z=this.timeStamp,vt=+new Date,Tt=Object(a.get)(s.view.getOptions(),"tooltip.showDelay",16);if(vt-Z>Tt){var Gt=this.location,_t={x:f.x,y:f.y};(!Gt||!Object(a.isEqual)(Gt,_t))&&this.showTooltip(P,_t),this.timeStamp=vt,this.location=_t}}},v.prototype.hide=function(){var s=this.context.view,f=s.getController("tooltip"),P=this.context.event,N=P.clientX,Z=P.clientY;f.isCursorEntered({x:N,y:Z})||s.isTooltipLocked()||(this.hideTooltip(s),this.location=null)},v.prototype.showTooltip=function(s,f){s.showTooltip(f)},v.prototype.hideTooltip=function(s){s.hideTooltip()},v}(ba),Vn=di,Oi=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.showTooltip=function(s,f){var P=eo(s);Object(a.each)(P,function(N){var Z=To(s,N,f);N.showTooltip(Z)})},v.prototype.hideTooltip=function(s){var f=eo(s);Object(a.each)(f,function(P){P.hideTooltip()})},v}(Vn),wi=Oi,za=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.timeStamp=0,s}return v.prototype.destroy=function(){h.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},v.prototype.show=function(){var s=this.context,f=s.event,P=this.timeStamp,N=+new Date;if(N-P>16){var Z=this.location,vt={x:f.x,y:f.y};(!Z||!Object(a.isEqual)(Z,vt))&&this.showTooltip(vt),this.timeStamp=N,this.location=vt}},v.prototype.hide=function(){this.hideTooltip(),this.location=null},v.prototype.showTooltip=function(s){var f=this.context,P=f.event,N=P.target;if(N&&N.get("tip")){this.tooltip||this.renderTooltip();var Z=N.get("tip");this.tooltip.update(Object(c.__assign)({title:Z},s)),this.tooltip.show()}},v.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},v.prototype.renderTooltip=function(){var s,f=this.context.view,P=f.canvas,N={start:{x:0,y:0},end:{x:P.get("width"),y:P.get("height")}},Z=f.getTheme(),vt=Object(a.get)(Z,["components","tooltip","domStyles"],{}),Tt=new ce({parent:P.get("el").parentNode,region:N,visible:!1,crosshairs:null,domStyles:Object(c.__assign)({},Object(a.deepMix)({},vt,(s={},s[Xt.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},s[Xt.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},s)))});Tt.init(),Tt.setCapture(!1),this.tooltip=Tt},v}(ba),Qa=za,Ei=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="",s}return v.prototype.hasState=function(s){return s.hasState(this.stateName)},v.prototype.setElementState=function(s,f){s.setState(this.stateName,f)},v.prototype.setState=function(){this.setStateEnable(!0)},v.prototype.clear=function(){var s=this.context.view;this.clearViewState(s)},v.prototype.clearViewState=function(s){var f=this,P=lo(s,this.stateName);Object(a.each)(P,function(N){f.setElementState(N,!1)})},v}(ba),ja=Ei;function oa(h){return Object(a.get)(h.get("delegateObject"),"item")}var wa=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.ignoreListItemStates=["unchecked"],s}return v.prototype.isItemIgnore=function(s,f){var P=this.ignoreListItemStates,N=P.filter(function(Z){return f.hasState(s,Z)});return!!N.length},v.prototype.setStateByComponent=function(s,f,P){var N=this.context.view,Z=s.get("field"),vt=oe(N);this.setElementsStateByItem(vt,Z,f,P)},v.prototype.setStateByElement=function(s,f){this.setElementState(s,f)},v.prototype.isMathItem=function(s,f,P){var N=this.context.view,Z=ro(N,f),vt=ha(s,f);return!Object(a.isNil)(vt)&&P.name===Z.getText(vt)},v.prototype.setElementsStateByItem=function(s,f,P,N){var Z=this;Object(a.each)(s,function(vt){Z.isMathItem(vt,f,P)&&vt.setState(Z.stateName,N)})},v.prototype.setStateEnable=function(s){var f=Nn(this.context);if(f)zi(this.context)&&this.setStateByElement(f,s);else{var P=Pi(this.context);if(Ia(P)){var N=P.item,Z=P.component;if(N&&Z&&!this.isItemIgnore(N,Z)){var vt=this.context.event.gEvent;if(vt&&vt.fromShape&&vt.toShape&&oa(vt.fromShape)===oa(vt.toShape))return;this.setStateByComponent(Z,N,s)}}}},v.prototype.toggle=function(){var s=Nn(this.context);if(s){var f=s.hasState(this.stateName);this.setElementState(s,!f)}},v.prototype.reset=function(){this.setStateEnable(!1)},v}(ja),Ba=wa,Ha=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="active",s}return v.prototype.active=function(){this.setState()},v}(Ba),io=Ha,fo=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.cache={},s}return v.prototype.getColorScale=function(s,f){var P=f.geometry.getAttribute("color");if(!P)return null;var N=s.getScaleByField(P.getFields()[0]);return N},v.prototype.getLinkPath=function(s,f){var P=this.context.view,N=P.getCoordinate().isTransposed,Z=s.shape.getCanvasBBox(),vt=f.shape.getCanvasBBox(),Tt=N?[["M",Z.minX,Z.minY],["L",vt.minX,vt.maxY],["L",vt.maxX,vt.maxY],["L",Z.maxX,Z.minY],["Z"]]:[["M",Z.maxX,Z.minY],["L",vt.minX,vt.minY],["L",vt.minX,vt.maxY],["L",Z.maxX,Z.maxY],["Z"]];return Tt},v.prototype.addLinkShape=function(s,f,P,N){var Z={opacity:.4,fill:f.shape.attr("fill")};s.addShape({type:"path",attrs:Object(c.__assign)(Object(c.__assign)({},Object(a.deepMix)({},Z,Object(a.isFunction)(N)?N(Z,f):N)),{path:this.getLinkPath(f,P)})})},v.prototype.linkByElement=function(s,f){var P=this,N=this.context.view,Z=this.getColorScale(N,s);if(!!Z){var vt=ha(s,Z.field);if(!this.cache[vt]){var Tt=ms(N,Z.field,vt),Gt=this.linkGroup,_t=Gt.addGroup();this.cache[vt]=_t;var Zt=Tt.length;Object(a.each)(Tt,function(Jt,ie){if(ie<Zt-1){var le=Tt[ie+1];P.addLinkShape(_t,Jt,le,f)}})}}},v.prototype.removeLink=function(s){var f=this.getColorScale(this.context.view,s);if(!!f){var P=ha(s,f.field);this.cache[P]&&(this.cache[P].remove(),this.cache[P]=null)}},v.prototype.link=function(s){var f=this.context;this.linkGroup||(this.linkGroup=f.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var P=Nn(f);P&&this.linkByElement(P,s==null?void 0:s.style)},v.prototype.unlink=function(){var s=Nn(this.context);s&&this.removeLink(s)},v.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},v.prototype.destroy=function(){h.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},v}(ba),Ui=fo,mi=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.startPoint=null,s.endPoint=null,s.isStarted=!1,s.effectSiblings=!1,s.effectByRecord=!1,s}return v.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},v.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},v.prototype.getIntersectElements=function(){var s=null;if(fa(this.context))s=so(this.context,10);else{var f=this.startPoint,P=this.isStarted?this.getCurrentPoint():this.endPoint;if(!f||!P)return;var N={minX:Math.min(f.x,P.x),minY:Math.min(f.y,P.y),maxX:Math.max(f.x,P.x),maxY:Math.max(f.y,P.y)},Z=this.context.view;s=yo(Z,N)}return s},v.prototype.setStateEnable=function(s){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(s);else{var f=oe(this.context.view),P=this.getIntersectElements();P&&P.length?this.effectByRecord?this.setSiblingsStateByRecord(P,s):this.setElementsState(P,s,f):this.clear()}},v.prototype.setSiblingsStateByRecord=function(s,f){var P=this,N=this.context.view,Z=eo(N),vt=s.map(function(_t){return _t.getModel().data}),Tt=N.getXScale().field,Gt=N.getYScales()[0].field;Object(a.each)(Z,function(_t){var Zt=oe(_t),Jt=Zt.filter(function(ie){var le=ie.getModel().data;return La(vt,le,Tt,Gt)});P.setElementsState(Jt,f,Zt)})},v.prototype.setSiblingsState=function(s){var f=this,P=this.context.view,N=eo(P);fa(this.context)&&Object(a.each)(N,function(Z){var vt=oe(Z),Tt=Co(f.context,Z,10);Tt&&Tt.length?f.setElementsState(Tt,s,vt):f.clearViewState(Z)})},v.prototype.setElementsState=function(s,f,P){var N=this;Object(a.each)(P,function(Z){s.includes(Z)?N.setElementState(Z,f):N.setElementState(Z,!1)})},v.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},v.prototype.clear=function(){var s=this,f=this.context.view;if(this.effectSiblings){var P=eo(f);Object(a.each)(P,function(N){s.clearViewState(N)})}else this.clearViewState(f)},v}(ja),Ja=mi,Vi=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="active",s}return v.prototype.active=function(){this.setState()},v}(Ja),_n=Vi,Si=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.setStateEnable=function(s){var f=Nn(this.context);if(f){if(!zi(this.context))return;s?(this.clear(),this.setElementState(f,!0)):this.hasState(f)&&this.setElementState(f,!1)}},v.prototype.toggle=function(){var s=Nn(this.context);if(s){var f=this.hasState(s);f||this.clear(),this.setElementState(s,!f)}},v.prototype.reset=function(){this.setStateEnable(!1)},v}(ja),Ai=Si,Na=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="active",s}return v.prototype.active=function(){this.setState()},v}(Ai),Gs=Na,Cs="inactive",Ee="active";function vr(h){var v=oe(h);Object(a.each)(v,function(s){s.hasState(Ee)&&s.setState(Ee,!1),s.hasState(Cs)&&s.setState(Cs,!1)})}function nr(h,v,s){Object(a.each)(h,function(f){v(f)?(f.hasState(Cs)&&f.setState(Cs,!1),f.setState(Ee,s)):(f.hasState(Ee)&&f.setState(Ee,!1),f.setState(Cs,s))})}var En=b.INACTIVE,oi=b.ACTIVE,pe=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName=oi,s}return v.prototype.setElementsStateByItem=function(s,f,P,N){var Z=this,vt=function(Tt){return Z.isMathItem(Tt,f,P)};this.setHighlightBy(s,vt,N)},v.prototype.setElementHighlight=function(s,f){f(s)?(s.hasState(En)&&s.setState(En,!1),s.setState(oi,!0)):s.hasState(oi)||s.setState(En,!0)},v.prototype.setHighlightBy=function(s,f,P){var N=this;if(P)Object(a.each)(s,function(Tt){N.setElementHighlight(Tt,f)});else{var Z=lo(this.context.view,oi),vt=!0;Object(a.each)(Z,function(Tt){if(!f(Tt))return vt=!1,!1}),vt?this.clear():Object(a.each)(s,function(Tt){f(Tt)&&(Tt.hasState(oi)&&Tt.setState(oi,!1),Tt.setState(En,!0))})}},v.prototype.setElementState=function(s,f){var P=this.context.view,N=oe(P);this.setHighlightBy(N,function(Z){return s===Z},f)},v.prototype.highlight=function(){this.setState()},v.prototype.clear=function(){var s=this.context.view;vr(s)},v}(Ba),ae=pe,Le=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.setStateByElement=function(s,f){var P=this.context.view,N=s.geometry.getAttribute("color");if(!!N){var Z=P.getScaleByField(N.getFields()[0]),vt=ha(s,Z.field),Tt=oe(P),Gt=Tt.filter(function(_t){return ha(_t,Z.field)===vt});this.setHighlightBy(Tt,function(_t){return Gt.includes(_t)},f)}},v}(ae),Qe=Le,Je=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.setElementHighlight=function(s,f){f(s)?(s.hasState(En)&&s.setState(En,!1),s.setState(oi,!0)):(s.setState(En,!0),s.hasState(oi)&&s.setState(oi,!1))},v.prototype.setStateByElement=function(s,f){var P=this.context.view,N=P.getXScale(),Z=ha(s,N.field),vt=oe(P),Tt=vt.filter(function(Gt){return ha(Gt,N.field)===Z});this.setHighlightBy(vt,function(Gt){return Tt.includes(Gt)},f)},v.prototype.toggle=function(){var s=Nn(this.context);if(s){var f=s.hasState(this.stateName);this.setStateByElement(s,!f)}},v}(ae),Be=Je,je=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="active",s}return v.prototype.clearViewState=function(s){vr(s)},v.prototype.highlight=function(){this.setState()},v.prototype.setElementsState=function(s,f,P){nr(P,function(N){return s.indexOf(N)>=0},f)},v}(Ja),We=je,me=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="active",s}return v.prototype.highlight=function(){this.setState()},v.prototype.setElementState=function(s,f){var P=this.context.view,N=oe(P);nr(N,function(Z){return s===Z},f)},v.prototype.clear=function(){var s=this.context.view;vr(s)},v}(Ai),Re=me,ge=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="selected",s}return v.prototype.selected=function(){this.setState()},v}(Ja),ke=ge,tr=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="selected",s}return v.prototype.selected=function(){this.setState()},v}(Ba),Tr=tr,Ir=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="selected",s}return v.prototype.selected=function(){this.setState()},v}(Ai),xr=Ir,_r=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="",s.ignoreItemStates=[],s}return v.prototype.getTriggerListInfo=function(){var s=Pi(this.context),f=null;return Ia(s)&&(f={item:s.item,list:s.component}),f},v.prototype.getAllowComponents=function(){var s=this,f=this.context.view,P=Ao(f),N=[];return Object(a.each)(P,function(Z){Z.isList()&&s.allowSetStateByElement(Z)&&N.push(Z)}),N},v.prototype.hasState=function(s,f){return s.hasState(f,this.stateName)},v.prototype.clearAllComponentsState=function(){var s=this,f=this.getAllowComponents();Object(a.each)(f,function(P){P.clearItemsState(s.stateName)})},v.prototype.allowSetStateByElement=function(s){var f=s.get("field");if(!f)return!1;if(this.cfg&&this.cfg.componentNames){var P=s.get("name");if(this.cfg.componentNames.indexOf(P)===-1)return!1}var N=this.context.view,Z=ro(N,f);return Z&&Z.isCategory},v.prototype.allowSetStateByItem=function(s,f){var P=this.ignoreItemStates;if(P.length){var N=P.filter(function(Z){return f.hasState(s,Z)});return N.length===0}return!0},v.prototype.setStateByElement=function(s,f,P){var N=s.get("field"),Z=this.context.view,vt=ro(Z,N),Tt=ha(f,N),Gt=vt.getText(Tt);this.setItemsState(s,Gt,P)},v.prototype.setStateEnable=function(s){var f=this,P=Nn(this.context);if(P){var N=this.getAllowComponents();Object(a.each)(N,function(Gt){f.setStateByElement(Gt,P,s)})}else{var Z=Pi(this.context);if(Ia(Z)){var vt=Z.item,Tt=Z.component;this.allowSetStateByElement(Tt)&&this.allowSetStateByItem(vt,Tt)&&this.setItemState(Tt,vt,s)}}},v.prototype.setItemsState=function(s,f,P){var N=this,Z=s.getItems();Object(a.each)(Z,function(vt){vt.name===f&&N.setItemState(s,vt,P)})},v.prototype.setItemState=function(s,f,P){s.setItemState(f,this.stateName,P)},v.prototype.setState=function(){this.setStateEnable(!0)},v.prototype.reset=function(){this.setStateEnable(!1)},v.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var f=s.list,P=s.item,N=this.hasState(f,P);this.setItemState(f,P,!N)}},v.prototype.clear=function(){var s=this.getTriggerListInfo();s?s.list.clearItemsState(this.stateName):this.clearAllComponentsState()},v}(ba),Rn=_r,fi=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="active",s}return v.prototype.active=function(){this.setState()},v}(Rn),Ln=fi,Kn="inactive",si="active";function Ni(h){var v=h.getItems();Object(a.each)(v,function(s){h.hasState(s,si)&&h.setItemState(s,si,!1),h.hasState(s,Kn)&&h.setItemState(s,Kn,!1)})}var ta="inactive",Va="active",Qf=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName=Va,s.ignoreItemStates=["unchecked"],s}return v.prototype.setItemsState=function(s,f,P){this.setHighlightBy(s,function(N){return N.name===f},P)},v.prototype.setItemState=function(s,f,P){var N=s.getItems();this.setHighlightBy(s,function(Z){return Z===f},P)},v.prototype.setHighlightBy=function(s,f,P){var N=s.getItems();if(P)Object(a.each)(N,function(Tt){f(Tt)?(s.hasState(Tt,ta)&&s.setItemState(Tt,ta,!1),s.setItemState(Tt,Va,!0)):s.hasState(Tt,Va)||s.setItemState(Tt,ta,!0)});else{var Z=s.getItemsByState(Va),vt=!0;Object(a.each)(Z,function(Tt){if(!f(Tt))return vt=!1,!1}),vt?this.clear():Object(a.each)(N,function(Tt){f(Tt)&&(s.hasState(Tt,Va)&&s.setItemState(Tt,Va,!1),s.setItemState(Tt,ta,!0))})}},v.prototype.highlight=function(){this.setState()},v.prototype.clear=function(){var s=this.getTriggerListInfo();if(s)Ni(s.list);else{var f=this.getAllowComponents();Object(a.each)(f,function(P){P.clearItemsState(Va),P.clearItemsState(ta)})}},v}(Rn),Wo=Qf,Kh=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="selected",s}return v.prototype.selected=function(){this.setState()},v}(Rn),As=Kh,_c=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName="unchecked",s}return v.prototype.unchecked=function(){this.setState()},v}(Rn),Fg=_c,Zc="unchecked",Jf="checked",Gg=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.stateName=Jf,s}return v.prototype.setItemState=function(s,f,P){this.setCheckedBy(s,function(N){return N===f},P)},v.prototype.setCheckedBy=function(s,f,P){var N=s.getItems();P&&Object(a.each)(N,function(Z){f(Z)?(s.hasState(Z,Zc)&&s.setItemState(Z,Zc,!1),s.setItemState(Z,Jf,!0)):s.hasState(Z,Jf)||s.setItemState(Z,Zc,!0)})},v.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var f=s.list,P=s.item,N=!Object(a.some)(f.getItems(),function(Z){return f.hasState(Z,Zc)});N||f.hasState(P,Zc)?this.setItemState(f,P,!0):this.reset()}},v.prototype.checked=function(){this.setState()},v.prototype.reset=function(){var s=this.getAllowComponents();Object(a.each)(s,function(f){f.clearItemsState(Jf),f.clearItemsState(Zc)})},v}(Rn),Ug=Gg,Wg=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.maskShape=null,s.points=[],s.starting=!1,s.moving=!1,s.preMovePoint=null,s.shapeType="path",s}return v.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},v.prototype.emitEvent=function(s){var f="mask:"+s,P=this.context.view,N=this.context.event;P.emit(f,{target:this.maskShape,shape:this.maskShape,points:this.points,x:N.x,y:N.y})},v.prototype.createMask=function(){var s=this.context.view,f=this.getMaskAttrs(),P=s.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(c.__assign)({fill:"#C5D4EB",opacity:.3},f)});return P},v.prototype.getMaskPath=function(){return[]},v.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},v.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},v.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},v.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var s=this.getCurrentPoint(),f=this.preMovePoint,P=s.x-f.x,N=s.y-f.y,Z=this.points;Object(a.each)(Z,function(vt){vt.x+=P,vt.y+=N}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=s}},v.prototype.updateMask=function(){var s=this.getMaskAttrs();this.maskShape.attr(s)},v.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},v.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},v.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},v.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},v.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,h.prototype.destroy.call(this)},v}(ba),$d=Wg,zg=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.shapeType="circle",s}return v.prototype.getMaskAttrs=function(){var s=this.points,f=Object(a.last)(this.points),P=0,N=0,Z=0;if(s.length){var vt=s[0];P=us(vt,f)/2,N=(f.x+vt.x)/2,Z=(f.y+vt.y)/2}return{x:N,y:Z,r:P}},v}($d),Nv=zg,Fv=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.shapeType="rect",s}return v.prototype.getRegion=function(){var s=this.points;return{start:Object(a.head)(s),end:Object(a.last)(s)}},v.prototype.getMaskAttrs=function(){var s=this.getRegion(),f=s.start,P=s.end,N=Math.min(f.x,P.x),Z=Math.min(f.y,P.y),vt=Math.abs(P.x-f.x),Tt=Math.abs(P.y-f.y);return{x:N,y:Z,width:vt,height:Tt}},v}($d),Gv=Fv;function Uv(h){h.x=Object(a.clamp)(h.x,0,1),h.y=Object(a.clamp)(h.y,0,1)}var Wv=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.dim="x",s.inPlot=!0,s}return v.prototype.getRegion=function(){var s=null,f=null,P=this.points,N=this.dim,Z=this.context.view.getCoordinate(),vt=Z.invert(Object(a.head)(P)),Tt=Z.invert(Object(a.last)(P));return this.inPlot&&(Uv(vt),Uv(Tt)),N==="x"?(s=Z.convert({x:vt.x,y:0}),f=Z.convert({x:Tt.x,y:1})):(s=Z.convert({x:0,y:vt.y}),f=Z.convert({x:1,y:Tt.y})),{start:s,end:f}},v}(Gv),_h=Wv,Vg=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getMaskPath=function(){var s=this.points,f=[];return s.length&&(Object(a.each)(s,function(P,N){N===0?f.push(["M",P.x,P.y]):f.push(["L",P.x,P.y])}),f.push(["L",s[0].x,s[0].y])),f},v.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},v.prototype.addPoint=function(){this.resize()},v}($d),zv=Vg,Vv=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getMaskPath=function(){var s=this.points;return wo(s,!0)},v}(zv),kg=Vv,Xg=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.setCursor=function(s){var f=this.context.view;f.getCanvas().setCursor(s)},v.prototype.default=function(){this.setCursor("default")},v.prototype.pointer=function(){this.setCursor("pointer")},v.prototype.move=function(){this.setCursor("move")},v.prototype.crosshair=function(){this.setCursor("crosshair")},v.prototype.wait=function(){this.setCursor("wait")},v.prototype.help=function(){this.setCursor("help")},v.prototype.text=function(){this.setCursor("text")},v.prototype.eResize=function(){this.setCursor("e-resize")},v.prototype.wResize=function(){this.setCursor("w-resize")},v.prototype.nResize=function(){this.setCursor("n-resize")},v.prototype.sResize=function(){this.setCursor("s-resize")},v.prototype.neResize=function(){this.setCursor("ne-resize")},v.prototype.nwResize=function(){this.setCursor("nw-resize")},v.prototype.seResize=function(){this.setCursor("se-resize")},v.prototype.swResize=function(){this.setCursor("sw-resize")},v.prototype.nsResize=function(){this.setCursor("ns-resize")},v.prototype.ewResize=function(){this.setCursor("ew-resize")},v}(ba),Yg=Xg,Qd=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.filterView=function(s,f,P){var N=this;s.getScaleByField(f)&&s.filter(f,P),s.views&&s.views.length&&Object(a.each)(s.views,function(Z){N.filterView(Z,f,P)})},v.prototype.filter=function(){var s=Pi(this.context);if(s){var f=this.context.view,P=s.component,N=P.get("field");if(Ia(s)){if(N){var Z=P.getItemsByState("unchecked"),vt=ro(f,N),Tt=Z.map(function(Jt){return Jt.name});Tt.length?this.filterView(f,N,function(Jt){var ie=vt.getText(Jt);return!Tt.includes(ie)}):this.filterView(f,N,null),f.render(!0)}}else if(ki(s)){var Gt=P.getValue(),_t=Gt[0],Zt=Gt[1];this.filterView(f,N,function(Jt){return Jt>=_t&&Jt<=Zt}),f.render(!0)}}},v}(ba),Hg=Qd;function kv(h,v,s,f){var P=Math.min(s[v],f[v]),N=Math.max(s[v],f[v]),Z=h.range,vt=Z[0],Tt=Z[1];if(P<vt&&(P=vt),N>Tt&&(N=Tt),P===Tt&&N===Tt)return null;var Gt=h.invert(P),_t=h.invert(N);if(h.isCategory){var Zt=h.values.indexOf(Gt),Jt=h.values.indexOf(_t),ie=h.values.slice(Zt,Jt+1);return function(le){return ie.includes(le)}}else return function(le){return le>=Gt&&le<=_t}}var qf;(function(h){h.FILTER="brush-filter-processing",h.RESET="brush-filter-reset"})(qf||(qf={}));var Kg=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.dims=["x","y"],s.startPoint=null,s.isStarted=!1,s}return v.prototype.hasDim=function(s){return this.dims.includes(s)},v.prototype.start=function(){var s=this.context;this.isStarted=!0,this.startPoint=s.getCurrentPoint()},v.prototype.filter=function(){var s,f;if(fa(this.context)){var P=this.context.event.target,N=P.getCanvasBBox();s={x:N.x,y:N.y},f={x:N.maxX,y:N.maxY}}else{if(!this.isStarted)return;s=this.startPoint,f=this.context.getCurrentPoint()}if(!(Math.abs(s.x-f.x)<5||Math.abs(s.x-f.y)<5)){var Z=this.context.view,vt=Z.getCoordinate(),Tt=vt.invert(f),Gt=vt.invert(s);if(this.hasDim("x")){var _t=Z.getXScale(),Zt=kv(_t,"x",Tt,Gt);this.filterView(Z,_t.field,Zt)}if(this.hasDim("y")){var Jt=Z.getYScales()[0],Zt=kv(Jt,"y",Tt,Gt);this.filterView(Z,Jt.field,Zt)}this.reRender(Z,{source:qf.FILTER})}},v.prototype.end=function(){this.isStarted=!1},v.prototype.reset=function(){var s=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var f=s.getXScale();this.filterView(s,f.field,null)}if(this.hasDim("y")){var P=s.getYScales()[0];this.filterView(s,P.field,null)}this.reRender(s,{source:qf.RESET})},v.prototype.filterView=function(s,f,P){s.filter(f,P)},v.prototype.reRender=function(s,f){s.render(!0,f)},v}(ba),Zh=Kg,_g=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.filterView=function(s,f,P){var N=eo(s);Object(a.each)(N,function(Z){Z.filter(f,P)})},v.prototype.reRender=function(s){var f=eo(s);Object(a.each)(f,function(P){P.render(!0)})},v}(Zh),Jd=_g,Zg=function(h){Object(c.__extends)(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.filter=function(){var s=Pi(this.context),f=this.context.view,P=oe(f);if(fa(this.context)){var N=so(this.context,10);N&&Object(a.each)(P,function(le){N.includes(le)?le.show():le.hide()})}else if(s){var Z=s.component,vt=Z.get("field");if(Ia(s)){if(vt){var Tt=Z.getItemsByState("unchecked"),Gt=ro(f,vt),_t=Tt.map(function(le){return le.name});Object(a.each)(P,function(le){var xe=ha(le,vt),Ze=Gt.getText(xe);_t.indexOf(Ze)>=0?le.hide():le.show()})}}else if(ki(s)){var Zt=Z.getValue(),Jt=Zt[0],ie=Zt[1];Object(a.each)(P,function(le){var xe=ha(le,vt);xe>=Jt&&xe<=ie?le.show():le.hide()})}}},v.prototype.clear=function(){var s=oe(this.context.view);Object(a.each)(s,function(f){f.show()})},v.prototype.reset=function(){this.clear()},v}(ba),Xv=Zg,$g=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.byRecord=!1,s}return v.prototype.filter=function(){fa(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},v.prototype.filterByRecord=function(){var s=this.context.view,f=so(this.context,10);if(!!f){var P=s.getXScale().field,N=s.getYScales()[0].field,Z=f.map(function(Tt){return Tt.getModel().data}),vt=eo(s);Object(a.each)(vt,function(Tt){var Gt=oe(Tt);Object(a.each)(Gt,function(_t){var Zt=_t.getModel().data;La(Z,Zt,P,N)?_t.show():_t.hide()})})}},v.prototype.filterByBBox=function(){var s=this,f=this.context.view,P=eo(f);Object(a.each)(P,function(N){var Z=Co(s.context,N,10),vt=oe(N);Z&&Object(a.each)(vt,function(Tt){Z.includes(Tt)?Tt.show():Tt.hide()})})},v.prototype.reset=function(){var s=eo(this.context.view);Object(a.each)(s,function(f){var P=oe(f);Object(a.each)(P,function(N){N.show()})})},v}(ba),th=$g,Qg=10,Yv=5,Hv=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.buttonGroup=null,s.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},s}return v.prototype.getButtonCfg=function(){return Object(a.deepMix)(this.buttonCfg,this.cfg)},v.prototype.drawButton=function(){var s=this.getButtonCfg(),f=this.context.view.foregroundGroup.addGroup({name:s.name}),P=f.addShape({type:"text",name:"button-text",attrs:Object(c.__assign)({text:s.text},s.textStyle)}),N=P.getBBox(),Z=qi(s.padding),vt=f.addShape({type:"rect",name:"button-rect",attrs:Object(c.__assign)({x:N.x-Z[3],y:N.y-Z[0],width:N.width+Z[1]+Z[3],height:N.height+Z[0]+Z[2]},s.style)});vt.toBack(),f.on("mouseenter",function(){vt.attr(s.activeStyle)}),f.on("mouseleave",function(){vt.attr(s.style)}),this.buttonGroup=f},v.prototype.resetPosition=function(){var s=this.context.view,f=s.getCoordinate(),P=f.convert({x:1,y:1}),N=this.buttonGroup,Z=N.getBBox(),vt=$.a.transform(null,[["t",P.x-Z.width-Qg,P.y+Z.height+Yv]]);N.setMatrix(vt)},v.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},v.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},v.prototype.destroy=function(){var s=this.buttonGroup;s&&s.remove(),h.prototype.destroy.call(this)},v}(ba),$h=Hv,Qh=4,Jg=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.starting=!1,s.dragStart=!1,s}return v.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},v.prototype.drag=function(){if(!!this.startPoint){var s=this.context.getCurrentPoint(),f=this.context.view,P=this.context.event;this.dragStart?f.emit("drag",{target:P.target,x:P.x,y:P.y}):us(s,this.startPoint)>Qh&&(f.emit("dragstart",{target:P.target,x:P.x,y:P.y}),this.dragStart=!0)}},v.prototype.end=function(){if(this.dragStart){var s=this.context.view,f=this.context.event;s.emit("dragend",{target:f.target,x:f.x,y:f.y})}this.starting=!1,this.dragStart=!1},v}(ba),Jh=Jg,qg=5,tp=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.starting=!1,s.isMoving=!1,s.startPoint=null,s.startMatrix=null,s}return v.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},v.prototype.move=function(){if(!!this.starting){var s=this.startPoint,f=this.context.getCurrentPoint(),P=us(s,f);if(P>qg&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var N=this.context.view,Z=$.a.transform(this.startMatrix,[["t",f.x-s.x,f.y-s.y]]);N.backgroundGroup.setMatrix(Z),N.foregroundGroup.setMatrix(Z),N.middleGroup.setMatrix(Z)}}},v.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},v.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var s=this.context.view;s.backgroundGroup.resetMatrix(),s.foregroundGroup.resetMatrix(),s.middleGroup.resetMatrix(),this.isMoving=!1},v}(ba),ep=tp,Kv="x",_v="y",Zv=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.dims=[Kv,_v],s.cfgFields=["dims"],s.cacheScaleDefs={},s}return v.prototype.hasDim=function(s){return this.dims.includes(s)},v.prototype.getScale=function(s){var f=this.context.view;return s==="x"?f.getXScale():f.getYScales()[0]},v.prototype.resetDim=function(s){var f=this.context.view;if(this.hasDim(s)&&this.cacheScaleDefs[s]){var P=this.getScale(s);f.scale(P.field,this.cacheScaleDefs[s]),this.cacheScaleDefs[s]=null}},v.prototype.reset=function(){this.resetDim(Kv),this.resetDim(_v);var s=this.context.view;s.render(!0)},v}(ba),eh=Zv,$v=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.startPoint=null,s.starting=!1,s.startCache={},s}return v.prototype.start=function(){var s=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var f=this.dims;Object(a.each)(f,function(P){var N=s.getScale(P),Z=N.min,vt=N.max,Tt=N.values;s.startCache[P]={min:Z,max:vt,values:Tt}})},v.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},v.prototype.translate=function(){var s=this;if(!!this.starting){var f=this.startPoint,P=this.context.view.getCoordinate(),N=this.context.getCurrentPoint(),Z=P.invert(f),vt=P.invert(N),Tt=vt.x-Z.x,Gt=vt.y-Z.y,_t=this.context.view,Zt=this.dims;Object(a.each)(Zt,function(Jt){s.translateDim(Jt,{x:Tt*-1,y:Gt*-1})}),_t.render(!0)}},v.prototype.translateDim=function(s,f){if(this.hasDim(s)){var P=this.getScale(s);P.isLinear&&this.translateLinear(s,P,f)}},v.prototype.translateLinear=function(s,f,P){var N=this.context.view,Z=this.startCache[s],vt=Z.min,Tt=Z.max,Gt=Tt-vt,_t=P[s]*Gt;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:f.nice,min:vt,max:Tt}),N.scale(f.field,{nice:!1,min:vt+_t,max:Tt+_t})},v.prototype.reset=function(){h.prototype.reset.call(this),this.startPoint=null,this.starting=!1},v}(eh),rp=$v,Qv=function(h){Object(c.__extends)(v,h);function v(){var s=h!==null&&h.apply(this,arguments)||this;return s.zoomRatio=.05,s}return v.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},v.prototype.zoom=function(s){var f=this,P=this.dims;Object(a.each)(P,function(N){f.zoomDim(N,s)}),this.context.view.render(!0)},v.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},v.prototype.zoomDim=function(s,f){if(this.hasDim(s)){var P=this.getScale(s);P.isLinear&&this.zoomLinear(s,P,f)}},v.prototype.zoomLinear=function(s,f,P){var N=this.context.view;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:f.nice,min:f.min,max:f.max});var Z=this.cacheScaleDefs[s],vt=Z.max-Z.min,Tt=f.min,Gt=f.max,_t=P*vt,Zt=Tt-_t,Jt=Gt+_t,ie=Jt-Zt,le=ie/vt;Jt>Zt&&le<100&&le>.01&&N.scale(f.field,{nice:!1,min:Tt-_t,max:Gt+_t})},v}(eh),np=Qv;qn("dark",$e(no)),z("canvas",Du),z("svg",js),cs("Polygon",Pc),cs("Interval",Ac),cs("Schema",Nf),cs("Path",Tf),cs("Point",ul),cs("Line",Lu),cs("Area",Pd),cs("Edge",Ih),cs("Heatmap",jd),cs("Violin",Nh),Xl("base",Jo),Xl("interval",Dl),Xl("pie",Il),Xl("polar",$s),uo("overlap",kf),uo("distribute",Xu),uo("fixed-overlap",Vf),uo("hide-overlap",Uc),uo("limit-in-shape",Rl),uo("limit-in-canvas",Fd),uo("limit-in-plot",Xh),uo("pie-outer",hl),uo("adjust-color",Wc),uo("interval-adjust-position",Vc),uo("interval-hide-overlap",Xc),uo("point-adjust-position",Zu),uo("pie-spider",dl),uo("path-adjust-position",Zo),Bo("fade-in",pl),Bo("fade-out",Yh),Bo("grow-in-x",Xd),Bo("grow-in-xy",Qu),Bo("grow-in-y",Hh),Bo("scale-in-x",Qs),Bo("scale-in-y",Js),Bo("wave-in",Po),Bo("zoom-in",Ra),Bo("zoom-out",Uo),Bo("position-update",Ju),Bo("sector-path-update",Kf),Bo("path-in",Ns),Xo("rect",Hd),Xo("mirror",jv),Xo("list",Yd),Xo("matrix",Lv),Xo("circle",Io),Xo("tree",_d),Ho("axis",Hr),Ho("legend",dn),Ho("tooltip",ks),Ho("annotation",he),Ho("slider",cn),Ho("scrollbar",Jr),ri("tooltip",Vn),ri("sibling-tooltip",wi),ri("ellipsis-text",Qa),ri("element-active",io),ri("element-single-active",Gs),ri("element-range-active",_n),ri("element-highlight",ae),ri("element-highlight-by-x",Be),ri("element-highlight-by-color",Qe),ri("element-single-highlight",Re),ri("element-range-highlight",We),ri("element-sibling-highlight",We,{effectSiblings:!0,effectByRecord:!0}),ri("element-selected",Tr),ri("element-single-selected",xr),ri("element-range-selected",ke),ri("element-link-by-color",Ui),ri("active-region",An),ri("list-active",Ln),ri("list-selected",As),ri("list-highlight",Wo),ri("list-unchecked",Fg),ri("list-checked",Ug),ri("legend-item-highlight",Wo,{componentNames:["legend"]}),ri("axis-label-highlight",Wo,{componentNames:["axis"]}),ri("rect-mask",Gv),ri("x-rect-mask",_h,{dim:"x"}),ri("y-rect-mask",_h,{dim:"y"}),ri("circle-mask",Nv),ri("path-mask",zv),ri("smooth-path-mask",kg),ri("cursor",Yg),ri("data-filter",Hg),ri("brush",Zh),ri("brush-x",Zh,{dims:["x"]}),ri("brush-y",Zh,{dims:["y"]}),ri("sibling-filter",Jd),ri("sibling-x-filter",Jd),ri("sibling-y-filter",Jd),ri("element-filter",Xv),ri("element-sibling-filter",th),ri("element-sibling-filter-record",th,{byRecord:!0}),ri("view-drag",Jh),ri("view-move",ep),ri("scale-translate",rp),ri("scale-zoom",np),ri("reset-button",$h,{name:"reset-button",text:"reset"});function ou(h){return h.isInPlot()}be("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),be("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),be("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),be("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),be("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),be("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),be("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),be("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),be("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),be("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),be("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),be("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(h){return!h.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(h){return!h.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),be("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ou,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ou,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ou,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),be("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),be("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ou,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ou,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ou,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),be("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ou,action:"path-mask:start"},{trigger:"mousedown",isEnable:ou,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),be("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),be("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),be("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),be("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),be("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),be("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Jv(h){return h.gEvent.preventDefault(),h.gEvent.originalEvent.deltaY>0}be("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(h){return Jv(h.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(h){return!Jv(h.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),be("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},dRIm:function(Lt,A,i){"use strict";i.d(A,"g",function(){return a}),i.d(A,"f",function(){return M}),i.d(A,"e",function(){return O}),i.d(A,"a",function(){return x}),i.d(A,"c",function(){return D}),i.d(A,"h",function(){return E}),i.d(A,"d",function(){return S}),i.d(A,"b",function(){return p});var c,a="range",M="type",O="percent",x="#f0f0f0",D="indicator-view",E="range-view",S="range-mask-view",p={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(c={},c[a]={sync:"v"},c[O]={sync:"v",tickCount:5,tickInterval:.2},c),animation:!1}},dckT:function(Lt,A,i){"use strict";var c=50,a=2,M=Math.log(2),O=Lt.exports,x=i("t8pM");function D(S){return 1-Math.abs(S)}Lt.exports.getUnifiedMinMax=function(S,p){return O.getUnifiedMinMaxMulti([S],p)},Lt.exports.getUnifiedMinMaxMulti=function(S,p){p=p||{};var b=!1,y=!1,C=x.isNumber(p.width)?p.width:a,I=x.isNumber(p.size)?p.size:c,g=x.isNumber(p.min)?p.min:(b=!0,x.findMinMulti(S)),R=x.isNumber(p.max)?p.max:(y=!0,x.findMaxMulti(S)),U=R-g,W=U/(I-1);return b&&(g=g-2*C*W),y&&(R=R+2*C*W),{min:g,max:R}},Lt.exports.create=function(S,p){if(p=p||{},!S||S.length===0)return[];var b=x.isNumber(p.size)?p.size:c,y=x.isNumber(p.width)?p.width:a,C=O.getUnifiedMinMax(S,{size:b,width:y,min:p.min,max:p.max}),I=C.min,g=C.max,R=g-I,U=R/(b-1);if(R===0)return[{x:I,y:1}];for(var W=[],z=0;z<b;z++)W.push({x:I+z*U,y:0});var B=function(H){return Math.floor((H-I)/U)},L=E(D,y),w=L[y],F=L[y-1]-L[y-2],V=0;S.forEach(function(H){var Q=B(H);if(!(Q+y<0||Q-y>=W.length)){var k=Math.max(Q-y,0),K=Q,nt=Math.min(Q+y,W.length-1),lt=k-(Q-y),ut=Q+y-nt,rt=L[-y-1+lt]||0,ot=L[-y-1+ut]||0,dt=w/(w-rt-ot);lt>0&&(V+=dt*(lt-1)*F);var Mt=Math.max(0,Q-y+1);x.inside(0,W.length-1,Mt)&&(W[Mt].y+=dt*1*F),x.inside(0,W.length-1,K+1)&&(W[K+1].y-=dt*2*F),x.inside(0,W.length-1,nt+1)&&(W[nt+1].y+=dt*1*F)}});var Y=V,tt=0,q=0;return W.forEach(function(H){tt+=H.y,Y+=tt,H.y=Y,q+=Y}),q>0&&W.forEach(function(H){H.y/=q}),W};function E(S,p){for(var b={},y=0,C=-p;C<=p;C++)y+=S(C/p),b[C]=y;return b}Lt.exports.getExpectedValueFromPdf=function(S){if(!(!S||S.length===0)){var p=0;return S.forEach(function(b){p+=b.x*b.y}),p}},Lt.exports.getXWithLeftTailArea=function(S,p){if(!(!S||S.length===0)){for(var b=0,y=0,C=0;C<S.length&&(y=C,b+=S[C].y,!(b>=p));C++);return S[y].x}},Lt.exports.getPerplexity=function(S){if(!(!S||S.length===0)){var p=0;return S.forEach(function(b){var y=Math.log(b.y);isFinite(y)&&(p+=b.y*y)}),p=-p/M,Math.pow(2,p)}}},dcmu:function(Lt,A,i){"use strict";i.d(A,"a",function(){return U});var c=i("CMID"),a=i("GgvZ"),M=i("Jze/"),O=i("s9g+"),x=i("Yz/u");function D(W){var z=W.chart,B=W.options,L=B.data,w=B.lineStyle,F=B.color,V=B.point,Y=B.area;z.data(L);var tt=Object(M.c)({},W,{options:{line:{style:w,color:F},point:V&&Object(c.__assign)({color:F},V),area:Y&&Object(c.__assign)({color:F},Y),label:void 0}}),q=Object(M.c)({},tt,{options:{tooltip:!1}}),H=(V==null?void 0:V.state)||B.state,Q=Object(M.c)({},tt,{options:{tooltip:!1,state:H}});return Object(x.d)(tt),Object(x.e)(Q),Object(x.a)(q),W}function E(W){var z,B=W.options,L=B.xAxis,w=B.yAxis,F=B.xField,V=B.yField;return Object(M.f)(Object(O.f)((z={},z[F]=L,z[V]=w,z)))(W)}function S(W){var z=W.chart,B=W.options,L=B.radius,w=B.startAngle,F=B.endAngle;return z.coordinate("polar",{radius:L,startAngle:w,endAngle:F}),W}function p(W){var z=W.chart,B=W.options,L=B.xField,w=B.xAxis,F=B.yField,V=B.yAxis;return z.axis(L,w),z.axis(F,V),W}function b(W){var z=W.chart,B=W.options,L=B.label,w=B.yField,F=Object(M.d)(z,"line");if(!L)F.label(!1);else{var V=L.callback,Y=Object(c.__rest)(L,["callback"]);F.label({fields:[w],callback:V,cfg:Object(M.y)(Y)})}return W}function y(W){return Object(M.f)(D,E,O.j,S,p,O.d,O.k,b,O.c,O.a,Object(O.b)())(W)}var C=i("dNsf"),I=i("8Mtd"),g=function(W){Object(c.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),z.prototype.getTooltipItems=function(B){var L=this.getTooltipCfg(),w=L.shared,F=L.title,V=W.prototype.getTooltipItems.call(this,B);if(V.length>0){var Y=this.view.geometries[0],tt=Y.dataArray,q=V[0].name,H=[];return tt.forEach(function(Q){Q.forEach(function(k){var K=C.Util.getTooltipItems(k,Y),nt=K[0];if(!w&&nt&&nt.name===q){var lt=Object(I.isNil)(F)?q:F;H.push(Object(c.__assign)(Object(c.__assign)({},nt),{name:nt.title,title:lt}))}else if(w&&nt){var lt=Object(I.isNil)(F)?nt.name||q:F;H.push(Object(c.__assign)(Object(c.__assign)({},nt),{name:nt.title,title:lt}))}})}),H}return[]},z}(C.TooltipController);Object(C.registerComponentController)("radar-tooltip",g);var R=function(W){Object(c.__extends)(z,W);function z(){return W!==null&&W.apply(this,arguments)||this}return z.prototype.init=function(){var B=this.context.view;B.removeInteraction("tooltip")},z.prototype.show=function(){var B=this.context.event,L=this.getTooltipController();L.showTooltip({x:B.x,y:B.y})},z.prototype.hide=function(){var B=this.getTooltipController();B.hideTooltip()},z.prototype.getTooltipController=function(){var B=this.context.view;return B.getController("radar-tooltip")},z}(C.Action);Object(C.registerAction)("radar-tooltip",R),Object(C.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var U=function(W){Object(c.__extends)(z,W);function z(){var B=W!==null&&W.apply(this,arguments)||this;return B.type="radar",B}return z.prototype.changeData=function(B){this.updateOption({data:B}),this.chart.changeData(B)},z.prototype.getDefaultOptions=function(){return Object(M.c)({},W.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},z.prototype.getSchemaAdaptor=function(){return y},z}(a.b)},devy:function(Lt,A,i){"use strict";var c=i("XSdR");Lt.exports=a;function a(x,D){var E={};c.forEach(x,function(p,b){var y=E[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:b};c.isUndefined(p.barycenter)||(y.barycenter=p.barycenter,y.weight=p.weight)}),c.forEach(D.edges(),function(p){var b=E[p.v],y=E[p.w];!c.isUndefined(b)&&!c.isUndefined(y)&&(y.indegree++,b.out.push(E[p.w]))});var S=c.filter(E,function(p){return!p.indegree});return M(S)}function M(x){var D=[];function E(b){return function(y){y.merged||(c.isUndefined(y.barycenter)||c.isUndefined(b.barycenter)||y.barycenter>=b.barycenter)&&O(b,y)}}function S(b){return function(y){y.in.push(b),--y.indegree==0&&x.push(y)}}for(;x.length;){var p=x.pop();D.push(p),c.forEach(p.in.reverse(),E(p)),c.forEach(p.out,S(p))}return c.map(c.filter(D,function(b){return!b.merged}),function(b){return c.pick(b,["vs","i","barycenter","weight"])})}function O(x,D){var E=0,S=0;x.weight&&(E+=x.barycenter*x.weight,S+=x.weight),D.weight&&(E+=D.barycenter*D.weight,S+=D.weight),x.vs=D.vs.concat(x.vs),x.barycenter=E/S,x.weight=S,x.i=Math.min(D.i,x.i),D.merged=!0}},dhvM:function(Lt,A,i){var c=i("WeNx"),a=i("MbSy"),M=i("qXgj");function O(x,D){return M(a(x,D,c),x+"")}Lt.exports=O},dipd:function(Lt,A,i){"use strict";i.d(A,"b",function(){return S}),i.d(A,"a",function(){return p});var c=i("s9g+"),a=i("Jze/"),M=i("Yz/u"),O=i("LpBT"),x=i("pIri"),D=i("3coh");function E(b){var y=b.chart,C=b.options,I=C.data,g=C.color,R=C.areaStyle,U=C.point,W=C.line,z=U==null?void 0:U.state,B=Object(x.a)(I);y.data(B);var L=Object(a.c)({},b,{options:{xField:O.c,yField:O.d,area:{color:g,style:R},line:W,point:U}}),w=Object(a.c)({},L,{options:{tooltip:!1}}),F=Object(a.c)({},L,{options:{tooltip:!1,state:z}});return Object(M.a)(L),Object(M.d)(w),Object(M.e)(F),y.axis(!1),y.legend(!1),b}function S(b){var y,C,I=b.options,g=I.xAxis,R=I.yAxis,U=I.data,W=Object(x.a)(U);return Object(a.f)(Object(c.f)((y={},y[O.c]=g,y[O.d]=R,y),(C={},C[O.c]={type:"cat"},C[O.d]=Object(D.a)(W,O.d),C)))(b)}function p(b){return Object(a.f)(E,S,c.k,c.j,c.a,Object(c.b)())(b)}},doIl:function(Lt,A,i){"use strict";i.d(A,"a",function(){return b});var c=i("CMID"),a=i("s9g+"),M=i("Jze/"),O=i("Yz/u"),x=i("2AqX");function D(y){var C=y.chart,I=y.options,g=I.data,R=I.binField,U=I.binNumber,W=I.binWidth,z=I.color,B=I.stackField,L=I.legend,w=I.columnStyle,F=Object(x.a)(g,R,W,U,B);C.data(F);var V=Object(M.c)({},y,{options:{xField:"range",yField:"count",seriesField:B,isStack:!0,interval:{color:z,style:w}}});return Object(O.c)(V),L&&B&&C.legend(B,L),y}function E(y){var C=y.options,I=C.xAxis,g=C.yAxis;return Object(M.f)(Object(a.f)({range:I,count:g}))(y)}function S(y){var C=y.chart,I=y.options,g=I.xAxis,R=I.yAxis;return g===!1?C.axis("range",!1):C.axis("range",g),R===!1?C.axis("count",!1):C.axis("count",R),y}function p(y){var C=y.chart,I=y.options,g=I.label,R=Object(M.d)(C,"interval");if(!g)R.label(!1);else{var U=g.callback,W=Object(c.__rest)(g,["callback"]);R.label({fields:["count"],callback:U,cfg:Object(M.y)(W)})}return y}function b(y){return Object(M.f)(D,E,S,a.j,a.i,p,a.k,a.c,a.a)(y)}},dzzI:function(Lt,A,i){var c=i("XSdR"),a=i("hppO");Lt.exports=M;function M(x){function D(E){var S=x.children(E),p=x.node(E);if(S.length&&c.forEach(S,D),c.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var b=p.minRank,y=p.maxRank+1;b<y;++b)O(x,"borderLeft","_bl",E,p,b),O(x,"borderRight","_br",E,p,b)}}c.forEach(x.children(),D)}function O(x,D,E,S,p,b){var y={width:0,height:0,rank:b,borderType:D},C=p[D][b-1],I=a.addDummyNode(x,"border",y,E);p[D][b]=I,x.setParent(I,S),C&&x.setEdge(C,I,{weight:1})}},e5xd:function(Lt,A,i){var c=i("DhYH"),a=i("ql+n");Lt.exports=M;function M(O,x,D){return a.transform(O.nodes(),function(E,S){E[S]=c(O,S,x,D)},{})}},e9gb:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MESSAGE=A.ALGORITHM=void 0;var c={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};A.ALGORITHM=c;var a={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};A.MESSAGE=a},eQ2F:function(Lt,A,i){"use strict";var c=i("TdFI"),a=i.n(c),M=i("ZDiw"),O=i.n(M),x=i("ElZV"),D=i.n(x),E=i("vW+r"),S=i.n(E),p=i("BDwA"),b=i.n(p),y=i("d7ZW"),C=i.n(y),I=i("4Qyq"),g=i.n(I),R=i("kOEf"),U=i.n(R),W=i("j3Uc"),z=i.n(W)},ebDh:function(Lt,A){Lt.exports=i;function i(c){var a=c[0],M=c[1];return a*a+M*M}},efFw:function(Lt,A,i){(function(a,M){Lt.exports=M()})(typeof self!="undefined"?self:this,function(){return function(c){var a={};function M(O){if(a[O])return a[O].exports;var x=a[O]={i:O,l:!1,exports:{}};return c[O].call(x.exports,x,x.exports,M),x.l=!0,x.exports}return M.m=c,M.c=a,M.d=function(O,x,D){M.o(O,x)||Object.defineProperty(O,x,{configurable:!1,enumerable:!0,get:D})},M.n=function(O){var x=O&&O.__esModule?function(){return O.default}:function(){return O};return M.d(x,"a",x),x},M.o=function(O,x){return Object.prototype.hasOwnProperty.call(O,x)},M.p="",M(M.s=31)}([function(c,a,M){"use strict";var O=M(4);a.a=function(x){return Array.isArray?Array.isArray(x):Object(O.a)(x,"Array")}},function(c,a,M){"use strict";var O=function(x){return x!==null&&typeof x!="function"&&isFinite(x.length)};a.a=O},function(c,a,M){"use strict";var O=M(0),x=M(13);function D(E,S){if(!!E){var p;if(Object(O.a)(E))for(var b=0,y=E.length;b<y&&(p=S(E[b],b),p!==!1);b++);else if(Object(x.a)(E)){for(var C in E)if(E.hasOwnProperty(C)&&(p=S(E[C],C),p===!1))break}}}a.a=D},function(c,a,M){"use strict";var O=M(4);a.a=function(x){return Object(O.a)(x,"Function")}},function(c,a,M){"use strict";var O={}.toString,x=function(D,E){return O.call(D)==="[object "+E+"]"};a.a=x},function(c,a,M){"use strict";var O=M(4),x=function(D){return Object(O.a)(D,"Number")};a.a=x},function(c,a,M){"use strict";var O=function(x){return x==null};a.a=O},function(c,a,M){var O=M(33),x=O.mix;c.exports={assign:x}},function(c,a,M){"use strict";var O=M(4);a.a=function(x){return Object(O.a)(x,"String")}},function(c,a,M){"use strict";var O=M(15),x=M(4),D=function(E){if(!Object(O.a)(E)||!Object(x.a)(E,"Object"))return!1;if(Object.getPrototypeOf(E)===null)return!0;for(var S=E;Object.getPrototypeOf(S)!==null;)S=Object.getPrototypeOf(S);return Object.getPrototypeOf(E)===S};a.a=D},function(c,a,M){"use strict";var O=M(6);a.a=function(x){return Object(O.a)(x)?"":x.toString()}},function(c,a,M){var O=M(18),x=function(){function D(S,p){p===void 0&&(p={});var b=this;b.options=p,b.rootNode=O(S,p)}var E=D.prototype;return E.execute=function(){throw new Error("please override this method")},D}();c.exports=x},function(c,a,M){"use strict";var O=M(1),x=function(D,E){return Object(O.a)(D)?D.indexOf(E)>-1:!1};a.a=x},function(c,a,M){"use strict";a.a=function(O){var x=typeof O;return O!==null&&x==="object"||x==="function"}},function(c,a,M){"use strict";var O=M(2),x=M(1),D=function(E,S){if(!Object(x.a)(E))return E;var p=[];return Object(O.a)(E,function(b,y){S(b,y)&&p.push(b)}),p};a.a=D},function(c,a,M){"use strict";var O=function(x){return typeof x=="object"&&x!==null};a.a=O},function(c,a,M){"use strict";a.a=x;function O(D,E){for(var S in E)E.hasOwnProperty(S)&&S!=="constructor"&&E[S]!==void 0&&(D[S]=E[S])}function x(D,E,S,p){return E&&O(D,E),S&&O(D,S),p&&O(D,p),D}},function(c,a,M){var O=M(30),x=["LR","RL","TB","BT","H","V"],D=["LR","RL","H"],E=function(b){return D.indexOf(b)>-1},S=x[0];c.exports=function(p,b,y){var C=b.direction||S;if(b.isHorizontal=E(C),C&&x.indexOf(C)===-1)throw new TypeError("Invalid direction: "+C);if(C===x[0])y(p,b);else if(C===x[1])y(p,b),p.right2left();else if(C===x[2])y(p,b);else if(C===x[3])y(p,b),p.bottom2top();else if(C===x[4]||C===x[5]){var I=O(p,b),g=I.left,R=I.right;y(g,b),y(R,b),b.isHorizontal?g.right2left():g.bottom2top(),R.translate(g.x-R.x,g.y-R.y),p.x=g.x,p.y=R.y;var U=p.getBoundingBox();b.isHorizontal?U.top<0&&p.translate(0,-U.top):U.left<0&&p.translate(-U.left,0)}var W=b.fixedRoot;return W===void 0&&(W=!0),W&&p.translate(-(p.x+p.width/2+p.hgap),-(p.y+p.height/2+p.vgap)),p}},function(c,a,M){var O=M(7),x=18,D=x*2,E=x,S={getId:function(C){return C.id||C.name},getPreH:function(C){return C.preH||0},getPreV:function(C){return C.preV||0},getHGap:function(C){return C.hgap||E},getVGap:function(C){return C.vgap||E},getChildren:function(C){return C.children},getHeight:function(C){return C.height||D},getWidth:function(C){var I=C.label||" ";return C.width||I.split("").length*x}};function p(y,C){var I=this;if(I.vgap=I.hgap=0,y instanceof p)return y;I.data=y;var g=C.getHGap(y),R=C.getVGap(y);return I.preH=C.getPreH(y),I.preV=C.getPreV(y),I.width=C.getWidth(y),I.height=C.getHeight(y),I.width+=I.preH,I.height+=I.preV,I.id=C.getId(y),I.x=I.y=0,I.depth=0,I.children||(I.children=[]),I.addGap(g,R),I}O.assign(p.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(C,I){var g=this;g.hgap+=C,g.vgap+=I,g.width+=2*C,g.height+=2*I},eachNode:function(C){for(var I=this,g=[I],R;R=g.shift();)C(R),g=R.children.concat(g)},DFTraverse:function(C){this.eachNode(C)},BFTraverse:function(C){for(var I=this,g=[I],R;R=g.shift();)C(R),g=g.concat(R.children)},getBoundingBox:function(){var C={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(I){C.left=Math.min(C.left,I.x),C.top=Math.min(C.top,I.y),C.width=Math.max(C.width,I.x+I.width),C.height=Math.max(C.height,I.y+I.height)}),C},translate:function(C,I){C===void 0&&(C=0),I===void 0&&(I=0),this.eachNode(function(g){g.x+=C,g.y+=I,g.x+=g.preH,g.y+=g.preV})},right2left:function(){var C=this,I=C.getBoundingBox();C.eachNode(function(g){g.x=g.x-(g.x-I.left)*2-g.width}),C.translate(I.width,0)},bottom2top:function(){var C=this,I=C.getBoundingBox();C.eachNode(function(g){g.y=g.y-(g.y-I.top)*2-g.height}),C.translate(0,I.height)}});function b(y,C,I){C===void 0&&(C={}),C=O.assign({},S,C);var g=new p(y,C),R=[g],U;if(!I&&!y.collapsed){for(;U=R.shift();)if(!U.data.collapsed){var W=C.getChildren(U.data),z=W?W.length:0;if(U.children=new Array(z),W&&z)for(var B=0;B<z;B++){var L=new p(W[B],C);U.children[B]=L,R.push(L),L.parent=U,L.depth=U.depth+1}}}return g}c.exports=b},function(c,a,M){"use strict";var O=M(6),x=M(20);function D(E,S){var p=Object(x.a)(S),b=p.length;if(Object(O.a)(E))return!b;for(var y=0;y<b;y+=1){var C=p[y];if(S[C]!==E[C]||!(C in E))return!1}return!0}a.a=D},function(c,a,M){"use strict";var O=M(2),x=M(3),D=Object.keys?function(E){return Object.keys(E)}:function(E){var S=[];return Object(O.a)(E,function(p,b){Object(x.a)(E)&&b==="prototype"||S.push(b)}),S};a.a=D},function(c,a,M){"use strict";var O=M(1),x=Array.prototype.splice,D=function(S,p){if(!Object(O.a)(S))return[];for(var b=S?p.length:0,y=b-1;b--;){var C=void 0,I=p[b];(b===y||I!==C)&&(C=I,x.call(S,I,1))}return S};a.a=D},function(c,a,M){"use strict";var O=M(12),x=M(2),D=function(E){var S=[];return Object(x.a)(E,function(p){Object(O.a)(S,p)||S.push(p)}),S};a.a=D},function(c,a,M){"use strict";var O=M(0),x=M(3),D=M(24),E=function(S,p){if(!p)return{0:S};if(!Object(x.a)(p)){var b=Object(O.a)(p)?p:p.replace(/\s+/g,"").split("*");p=function(C){for(var I="_",g=0,R=b.length;g<R;g++)I+=C[b[g]]&&C[b[g]].toString();return I}}var y=Object(D.a)(S,p);return y};a.a=E},function(c,a,M){"use strict";var O=M(2),x=M(0),D=M(3),E=Object.prototype.hasOwnProperty;function S(p,b){if(!b||!Object(x.a)(p))return{};var y={},C=Object(D.a)(b)?b:function(g){return g[b]},I;return Object(O.a)(p,function(g){I=C(g),E.call(y,I)?y[I].push(g):y[I]=[g]}),y}a.a=S},function(c,a,M){"use strict";a.a=function(O,x){return O.hasOwnProperty(x)}},function(c,a,M){"use strict";var O=M(2),x=M(3),D=Object.values?function(E){return Object.values(E)}:function(E){var S=[];return Object(O.a)(E,function(p,b){Object(x.a)(E)&&b==="prototype"||S.push(p)}),S};a.a=D},function(c,a,M){"use strict";var O={}.toString,x=function(D){return O.call(D).replace(/^\[object /,"").replace(/]$/,"")};a.a=x},function(c,a,M){"use strict";var O=Object.prototype,x=function(D){var E=D&&D.constructor,S=typeof E=="function"&&E.prototype||O;return D===S};a.a=x},function(c,a,M){"use strict";var O=M(15),x=M(1),D=M(8),E=function(S,p){if(S===p)return!0;if(!S||!p||Object(D.a)(S)||Object(D.a)(p))return!1;if(Object(x.a)(S)||Object(x.a)(p)){if(S.length!==p.length)return!1;for(var b=!0,y=0;y<S.length&&(b=E(S[y],p[y]),!!b);y++);return b}if(Object(O.a)(S)||Object(O.a)(p)){var C=Object.keys(S),I=Object.keys(p);if(C.length!==I.length)return!1;for(var b=!0,y=0;y<C.length&&(b=E(S[C[y]],p[C[y]]),!!b);y++);return b}return!1};a.a=E},function(c,a,M){var O=M(18);c.exports=function(x,D){for(var E=O(x.data,D,!0),S=O(x.data,D,!0),p=x.children.length,b=Math.round(p/2),y=D.getSide||function(R,U){return U<b?"right":"left"},C=0;C<p;C++){var I=x.children[C],g=y(I,C);g==="right"?S.children.push(I):E.children.push(I)}return E.eachNode(function(R){R.isRoot()||(R.side="left")}),S.eachNode(function(R){R.isRoot()||(R.side="right")}),{left:E,right:S}}},function(c,a,M){var O={compactBox:M(32),dendrogram:M(114),indented:M(116),mindmap:M(118)};c.exports=O},function(c,a,M){function O(C,I){C.prototype=Object.create(I.prototype),C.prototype.constructor=C,C.__proto__=I}var x=M(11),D=M(113),E=M(17),S=M(7),p=function(C){O(I,C);function I(){return C.apply(this,arguments)||this}var g=I.prototype;return g.execute=function(){var U=this;return E(U.rootNode,U.options,D)},I}(x),b={};function y(C,I){return I=S.assign({},b,I),new p(C,I).execute()}c.exports=y},function(c,a,M){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var O=M(12);M.d(a,"contains",function(){return O.a}),M.d(a,"includes",function(){return O.a});var x=M(34);M.d(a,"difference",function(){return x.a});var D=M(35);M.d(a,"find",function(){return D.a});var E=M(36);M.d(a,"findIndex",function(){return E.a});var S=M(37);M.d(a,"firstValue",function(){return S.a});var p=M(38);M.d(a,"flatten",function(){return p.a});var b=M(39);M.d(a,"flattenDeep",function(){return b.a});var y=M(40);M.d(a,"getRange",function(){return y.a});var C=M(41);M.d(a,"pull",function(){return C.a});var I=M(21);M.d(a,"pullAt",function(){return I.a});var g=M(42);M.d(a,"reduce",function(){return g.a});var R=M(43);M.d(a,"remove",function(){return R.a});var U=M(44);M.d(a,"sortBy",function(){return U.a});var W=M(45);M.d(a,"union",function(){return W.a});var z=M(22);M.d(a,"uniq",function(){return z.a});var B=M(46);M.d(a,"valuesOfKey",function(){return B.a});var L=M(47);M.d(a,"head",function(){return L.a});var w=M(48);M.d(a,"last",function(){return w.a});var F=M(49);M.d(a,"startsWith",function(){return F.a});var V=M(50);M.d(a,"endsWith",function(){return V.a});var Y=M(14);M.d(a,"filter",function(){return Y.a});var tt=M(51);M.d(a,"every",function(){return tt.a});var q=M(52);M.d(a,"some",function(){return q.a});var H=M(53);M.d(a,"group",function(){return H.a});var Q=M(24);M.d(a,"groupBy",function(){return Q.a});var k=M(23);M.d(a,"groupToMap",function(){return k.a});var K=M(54);M.d(a,"getWrapBehavior",function(){return K.a});var nt=M(55);M.d(a,"wrapBehavior",function(){return nt.a});var lt=M(56);M.d(a,"number2color",function(){return lt.a});var ut=M(57);M.d(a,"parseRadius",function(){return ut.a});var rt=M(58);M.d(a,"clamp",function(){return rt.a});var ot=M(59);M.d(a,"fixedBase",function(){return ot.a});var dt=M(60);M.d(a,"isDecimal",function(){return dt.a});var Mt=M(61);M.d(a,"isEven",function(){return Mt.a});var Nt=M(62);M.d(a,"isInteger",function(){return Nt.a});var ht=M(63);M.d(a,"isNegative",function(){return ht.a});var yt=M(64);M.d(a,"isNumberEqual",function(){return yt.a});var ft=M(65);M.d(a,"isOdd",function(){return ft.a});var st=M(66);M.d(a,"isPositive",function(){return st.a});var xt=M(67);M.d(a,"maxBy",function(){return xt.a});var gt=M(68);M.d(a,"minBy",function(){return gt.a});var At=M(69);M.d(a,"mod",function(){return At.a});var pt=M(70);M.d(a,"toDegree",function(){return pt.a});var _=M(71);M.d(a,"toInteger",function(){return _.a});var $=M(72);M.d(a,"toRadian",function(){return $.a});var bt=M(73);M.d(a,"forIn",function(){return bt.a});var it=M(25);M.d(a,"has",function(){return it.a});var Ot=M(74);M.d(a,"hasKey",function(){return Ot.a});var Pt=M(75);M.d(a,"hasValue",function(){return Pt.a});var Rt=M(20);M.d(a,"keys",function(){return Rt.a});var Vt=M(19);M.d(a,"isMatch",function(){return Vt.a});var kt=M(26);M.d(a,"values",function(){return kt.a});var Wt=M(76);M.d(a,"lowerCase",function(){return Wt.a});var wt=M(77);M.d(a,"lowerFirst",function(){return wt.a});var ct=M(78);M.d(a,"substitute",function(){return ct.a});var jt=M(79);M.d(a,"upperCase",function(){return jt.a});var Xt=M(80);M.d(a,"upperFirst",function(){return Xt.a});var It=M(27);M.d(a,"getType",function(){return It.a});var Ut=M(81);M.d(a,"isArguments",function(){return Ut.a});var $t=M(0);M.d(a,"isArray",function(){return $t.a});var Ft=M(1);M.d(a,"isArrayLike",function(){return Ft.a});var Kt=M(82);M.d(a,"isBoolean",function(){return Kt.a});var ee=M(83);M.d(a,"isDate",function(){return ee.a});var ce=M(84);M.d(a,"isError",function(){return ce.a});var Se=M(3);M.d(a,"isFunction",function(){return Se.a});var Ce=M(85);M.d(a,"isFinite",function(){return Ce.a});var Ge=M(6);M.d(a,"isNil",function(){return Ge.a});var hr=M(86);M.d(a,"isNull",function(){return hr.a});var dr=M(5);M.d(a,"isNumber",function(){return dr.a});var ar=M(13);M.d(a,"isObject",function(){return ar.a});var qe=M(15);M.d(a,"isObjectLike",function(){return qe.a});var Xe=M(9);M.d(a,"isPlainObject",function(){return Xe.a});var ur=M(28);M.d(a,"isPrototype",function(){return ur.a});var zr=M(87);M.d(a,"isRegExp",function(){return zr.a});var ir=M(8);M.d(a,"isString",function(){return ir.a});var qr=M(4);M.d(a,"isType",function(){return qr.a});var Mr=M(88);M.d(a,"isUndefined",function(){return Mr.a});var Br=M(89);M.d(a,"isElement",function(){return Br.a});var ze=M(90);M.d(a,"requestAnimationFrame",function(){return ze.a});var Or=M(91);M.d(a,"clearAnimationFrame",function(){return Or.a});var Nr=M(92);M.d(a,"augment",function(){return Nr.a});var $r=M(93);M.d(a,"clone",function(){return $r.a});var Kr=M(94);M.d(a,"debounce",function(){return Kr.a});var Un=M(95);M.d(a,"memoize",function(){return Un.a});var ti=M(96);M.d(a,"deepMix",function(){return ti.a});var wn=M(2);M.d(a,"each",function(){return wn.a});var Bn=M(97);M.d(a,"extend",function(){return Bn.a});var kn=M(98);M.d(a,"indexOf",function(){return kn.a});var ei=M(99);M.d(a,"isEmpty",function(){return ei.a});var In=M(29);M.d(a,"isEqual",function(){return In.a});var ai=M(100);M.d(a,"isEqualWith",function(){return ai.a});var ga=M(101);M.d(a,"map",function(){return ga.a});var Da=M(102);M.d(a,"mapValues",function(){return Da.a});var Sa=M(16);M.d(a,"mix",function(){return Sa.a}),M.d(a,"assign",function(){return Sa.a});var Gi=M(103);M.d(a,"get",function(){return Gi.a});var Ma=M(104);M.d(a,"set",function(){return Ma.a});var Ri=M(105);M.d(a,"pick",function(){return Ri.a});var ca=M(106);M.d(a,"throttle",function(){return ca.a});var Di=M(107);M.d(a,"toArray",function(){return Di.a});var Ca=M(10);M.d(a,"toString",function(){return Ca.a});var pa=M(108);M.d(a,"uniqueId",function(){return pa.a});var Wa=M(109);M.d(a,"noop",function(){return Wa.a});var oo=M(110);M.d(a,"identity",function(){return oo.a});var po=M(111);M.d(a,"size",function(){return po.a});var Xa=M(112);M.d(a,"Cache",function(){return Xa.a})},function(c,a,M){"use strict";var O=M(14),x=M(12),D=function(E,S){return S===void 0&&(S=[]),Object(O.a)(E,function(p){return!Object(x.a)(S,p)})};a.a=D},function(c,a,M){"use strict";var O=M(3),x=M(19),D=M(0),E=M(9);function S(p,b){if(!Object(D.a)(p))return null;var y;if(Object(O.a)(b)&&(y=b),Object(E.a)(b)&&(y=function(I){return Object(x.a)(I,b)}),y){for(var C=0;C<p.length;C+=1)if(y(p[C]))return p[C]}return null}a.a=S},function(c,a,M){"use strict";function O(x,D,E){E===void 0&&(E=0);for(var S=E;S<x.length;S++)if(D(x[S],S))return S;return-1}a.a=O},function(c,a,M){"use strict";var O=M(6),x=M(0),D=function(E,S){for(var p=null,b=0;b<E.length;b++){var y=E[b],C=y[S];if(!Object(O.a)(C)){Object(x.a)(C)?p=C[0]:p=C;break}}return p};a.a=D},function(c,a,M){"use strict";var O=M(0),x=function(D){if(!Object(O.a)(D))return[];for(var E=[],S=0;S<D.length;S++)E=E.concat(D[S]);return E};a.a=x},function(c,a,M){"use strict";var O=M(0),x=function(D,E){if(E===void 0&&(E=[]),!Object(O.a)(D))E.push(D);else for(var S=0;S<D.length;S+=1)x(D[S],E);return E};a.a=x},function(c,a,M){"use strict";var O=M(0),x=M(14),D=function(E){if(E=Object(x.a)(E,function(C){return!isNaN(C)}),!E.length)return{min:0,max:0};if(Object(O.a)(E[0])){for(var S=[],p=0;p<E.length;p++)S=S.concat(E[p]);E=S}var b=Math.max.apply(null,E),y=Math.min.apply(null,E);return{min:y,max:b}};a.a=D},function(c,a,M){"use strict";var O=Array.prototype,x=O.splice,D=O.indexOf,E=function(S){for(var p=[],b=1;b<arguments.length;b++)p[b-1]=arguments[b];for(var y=0;y<p.length;y++)for(var C=p[y],I=-1;(I=D.call(S,C))>-1;)x.call(S,I,1);return S};a.a=E},function(c,a,M){"use strict";var O=M(2),x=M(0),D=M(9),E=function(S,p,b){if(!Object(x.a)(S)&&!Object(D.a)(S))return S;var y=b;return Object(O.a)(S,function(C,I){y=p(y,C,I)}),y};a.a=E},function(c,a,M){"use strict";var O=M(1),x=M(21),D=function(E,S){var p=[];if(!Object(O.a)(E))return p;for(var b=-1,y=[],C=E.length;++b<C;){var I=E[b];S(I,b,E)&&(p.push(I),y.push(b))}return Object(x.a)(E,y),p};a.a=D},function(c,a,M){"use strict";var O=M(0),x=M(8),D=M(3);function E(S,p){var b;if(Object(D.a)(p))b=function(C,I){return p(C)-p(I)};else{var y=[];Object(x.a)(p)?y.push(p):Object(O.a)(p)&&(y=p),b=function(C,I){for(var g=0;g<y.length;g+=1){var R=y[g];if(C[R]>I[R])return 1;if(C[R]<I[R])return-1}return 0}}return S.sort(b),S}a.a=E},function(c,a,M){"use strict";var O=M(22),x=function(){for(var D=[],E=0;E<arguments.length;E++)D[E]=arguments[E];return Object(O.a)([].concat.apply([],D))};a.a=x},function(c,a,M){"use strict";var O=M(2),x=M(0),D=M(6);a.a=function(E,S){var p=[],b={};return E.forEach(function(y){var C=y[S];Object(D.a)(C)||(Object(x.a)(C)||(C=[C]),Object(O.a)(C,function(I){b[I]||(p.push(I),b[I]=!0)}))}),p}},function(c,a,M){"use strict";a.a=x;var O=M(1);function x(D){if(Object(O.a)(D))return D[0]}},function(c,a,M){"use strict";a.a=x;var O=M(1);function x(D){if(Object(O.a)(D)){var E=D;return E[E.length-1]}}},function(c,a,M){"use strict";var O=M(0),x=M(8);function D(E,S){return Object(O.a)(E)||Object(x.a)(E)?E[0]===S:!1}a.a=D},function(c,a,M){"use strict";var O=M(0),x=M(8);function D(E,S){return Object(O.a)(E)||Object(x.a)(E)?E[E.length-1]===S:!1}a.a=D},function(c,a,M){"use strict";var O=function(x,D){for(var E=0;E<x.length;E++)if(!D(x[E],E))return!1;return!0};a.a=O},function(c,a,M){"use strict";var O=function(x,D){for(var E=0;E<x.length;E++)if(D(x[E],E))return!0;return!1};a.a=O},function(c,a,M){"use strict";var O=M(23);a.a=function(x,D){if(!D)return[x];var E=Object(O.a)(x,D),S=[];for(var p in E)S.push(E[p]);return S}},function(c,a,M){"use strict";function O(x,D){return x["_wrap_"+D]}a.a=O},function(c,a,M){"use strict";function O(x,D){if(x["_wrap_"+D])return x["_wrap_"+D];var E=function(S){x[D](S)};return x["_wrap_"+D]=E,E}a.a=O},function(c,a,M){"use strict";var O={};function x(D){var E=O[D];if(!E){for(var S=D.toString(16),p=S.length;p<6;p++)S="0"+S;E="#"+S,O[D]=E}return E}a.a=x},function(c,a,M){"use strict";var O=M(0);function x(D){var E=0,S=0,p=0,b=0;return Object(O.a)(D)?D.length===1?E=S=p=b=D[0]:D.length===2?(E=p=D[0],S=b=D[1]):D.length===3?(E=D[0],S=b=D[1],p=D[2]):(E=D[0],S=D[1],p=D[2],b=D[3]):E=S=p=b=D,{r1:E,r2:S,r3:p,r4:b}}a.a=x},function(c,a,M){"use strict";var O=function(x,D,E){return x<D?D:x>E?E:x};a.a=O},function(c,a,M){"use strict";var O=function(x,D){var E=D.toString(),S=E.indexOf(".");if(S===-1)return Math.round(x);var p=E.substr(S+1).length;return p>20&&(p=20),parseFloat(x.toFixed(p))};a.a=O},function(c,a,M){"use strict";var O=M(5),x=function(D){return Object(O.a)(D)&&D%1!=0};a.a=x},function(c,a,M){"use strict";var O=M(5),x=function(D){return Object(O.a)(D)&&D%2==0};a.a=x},function(c,a,M){"use strict";var O=M(5),x=Number.isInteger?Number.isInteger:function(D){return Object(O.a)(D)&&D%1==0};a.a=x},function(c,a,M){"use strict";var O=M(5),x=function(D){return Object(O.a)(D)&&D<0};a.a=x},function(c,a,M){"use strict";a.a=x;var O=1e-5;function x(D,E,S){return S===void 0&&(S=O),Math.abs(D-E)<S}},function(c,a,M){"use strict";var O=M(5),x=function(D){return Object(O.a)(D)&&D%2!=0};a.a=x},function(c,a,M){"use strict";var O=M(5),x=function(D){return Object(O.a)(D)&&D>0};a.a=x},function(c,a,M){"use strict";var O=M(2),x=M(0),D=M(3);a.a=function(E,S){if(!!Object(x.a)(E)){var p=E[0],b;Object(D.a)(S)?b=S(E[0]):b=E[0][S];var y;return Object(O.a)(E,function(C){Object(D.a)(S)?y=S(C):y=C[S],y>b&&(p=C,b=y)}),p}}},function(c,a,M){"use strict";var O=M(2),x=M(0),D=M(3);a.a=function(E,S){if(!!Object(x.a)(E)){var p=E[0],b;Object(D.a)(S)?b=S(E[0]):b=E[0][S];var y;return Object(O.a)(E,function(C){Object(D.a)(S)?y=S(C):y=C[S],y<b&&(p=C,b=y)}),p}}},function(c,a,M){"use strict";var O=function(x,D){return(x%D+D)%D};a.a=O},function(c,a,M){"use strict";var O=180/Math.PI,x=function(D){return O*D};a.a=x},function(c,a,M){"use strict";a.a=parseInt},function(c,a,M){"use strict";var O=Math.PI/180,x=function(D){return O*D};a.a=x},function(c,a,M){"use strict";var O=M(2);a.a=O.a},function(c,a,M){"use strict";var O=M(25);a.a=O.a},function(c,a,M){"use strict";var O=M(12),x=M(26);a.a=function(D,E){return Object(O.a)(Object(x.a)(D),E)}},function(c,a,M){"use strict";var O=M(10),x=function(D){return Object(O.a)(D).toLowerCase()};a.a=x},function(c,a,M){"use strict";var O=M(10),x=function(D){var E=Object(O.a)(D);return E.charAt(0).toLowerCase()+E.substring(1)};a.a=x},function(c,a,M){"use strict";function O(x,D){return!x||!D?x:x.replace(/\\?\{([^{}]+)\}/g,function(E,S){return E.charAt(0)==="\\"?E.slice(1):D[S]===void 0?"":D[S]})}a.a=O},function(c,a,M){"use strict";var O=M(10),x=function(D){return Object(O.a)(D).toUpperCase()};a.a=x},function(c,a,M){"use strict";var O=M(10),x=function(D){var E=Object(O.a)(D);return E.charAt(0).toUpperCase()+E.substring(1)};a.a=x},function(c,a,M){"use strict";var O=M(4),x=function(D){return Object(O.a)(D,"Arguments")};a.a=x},function(c,a,M){"use strict";var O=M(4),x=function(D){return Object(O.a)(D,"Boolean")};a.a=x},function(c,a,M){"use strict";var O=M(4),x=function(D){return Object(O.a)(D,"Date")};a.a=x},function(c,a,M){"use strict";var O=M(4),x=function(D){return Object(O.a)(D,"Error")};a.a=x},function(c,a,M){"use strict";var O=M(5);a.a=function(x){return Object(O.a)(x)&&isFinite(x)}},function(c,a,M){"use strict";var O=function(x){return x===null};a.a=O},function(c,a,M){"use strict";var O=M(4),x=function(D){return Object(O.a)(D,"RegExp")};a.a=x},function(c,a,M){"use strict";var O=function(x){return x===void 0};a.a=O},function(c,a,M){"use strict";var O=function(x){return x instanceof Element||x instanceof HTMLDocument};a.a=O},function(c,a,M){"use strict";a.a=O;function O(x){var D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(E){return setTimeout(E,16)};return D(x)}},function(c,a,M){"use strict";a.a=O;function O(x){var D=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;D(x)}},function(c,a,M){"use strict";var O=M(16),x=M(3),D=function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];for(var p=E[0],b=1;b<E.length;b++){var y=E[b];Object(x.a)(y)&&(y=y.prototype),Object(O.a)(p.prototype,y)}};a.a=D},function(c,a,M){"use strict";var O=M(0),x=function(D){if(typeof D!="object"||D===null)return D;var E;if(Object(O.a)(D)){E=[];for(var S=0,p=D.length;S<p;S++)typeof D[S]=="object"&&D[S]!=null?E[S]=x(D[S]):E[S]=D[S]}else{E={};for(var b in D)typeof D[b]=="object"&&D[b]!=null?E[b]=x(D[b]):E[b]=D[b]}return E};a.a=x},function(c,a,M){"use strict";function O(x,D,E){var S;return function(){var p=this,b=arguments,y=function(){S=null,E||x.apply(p,b)},C=E&&!S;clearTimeout(S),S=setTimeout(y,D),C&&x.apply(p,b)}}a.a=O},function(c,a,M){"use strict";var O=M(3);a.a=function(x,D){if(!Object(O.a)(x))throw new TypeError("Expected a function");var E=function(){for(var S=[],p=0;p<arguments.length;p++)S[p]=arguments[p];var b=D?D.apply(this,S):S[0],y=E.cache;if(y.has(b))return y.get(b);var C=x.apply(this,S);return y.set(b,C),C};return E.cache=new Map,E}},function(c,a,M){"use strict";var O=M(0),x=M(9),D=5;function E(p,b,y,C){y=y||0,C=C||D;for(var I in b)if(b.hasOwnProperty(I)){var g=b[I];g!==null&&Object(x.a)(g)?(Object(x.a)(p[I])||(p[I]={}),y<C?E(p[I],g,y+1,C):p[I]=b[I]):Object(O.a)(g)?(p[I]=[],p[I]=p[I].concat(g)):g!==void 0&&(p[I]=g)}}var S=function(p){for(var b=[],y=1;y<arguments.length;y++)b[y-1]=arguments[y];for(var C=0;C<b.length;C+=1)E(p,b[C]);return p};a.a=S},function(c,a,M){"use strict";var O=M(16),x=M(3),D=function(E,S,p,b){Object(x.a)(S)||(p=S,S=E,E=function(){});var y=Object.create?function(I,g){return Object.create(I,{constructor:{value:g}})}:function(I,g){function R(){}R.prototype=I;var U=new R;return U.constructor=g,U},C=y(S.prototype,E);return E.prototype=Object(O.a)(C,E.prototype),E.superclass=y(S.prototype,S),Object(O.a)(C,p),Object(O.a)(E,b),E};a.a=D},function(c,a,M){"use strict";var O=M(1),x=function(D,E){if(!Object(O.a)(D))return-1;var S=Array.prototype.indexOf;if(S)return S.call(D,E);for(var p=-1,b=0;b<D.length;b++)if(D[b]===E){p=b;break}return p};a.a=x},function(c,a,M){"use strict";var O=M(6),x=M(1),D=M(27),E=M(28),S=Object.prototype.hasOwnProperty;function p(b){if(Object(O.a)(b))return!0;if(Object(x.a)(b))return!b.length;var y=Object(D.a)(b);if(y==="Map"||y==="Set")return!b.size;if(Object(E.a)(b))return!Object.keys(b).length;for(var C in b)if(S.call(b,C))return!1;return!0}a.a=p},function(c,a,M){"use strict";var O=M(3),x=M(29);a.a=function(D,E,S){return Object(O.a)(S)?!!S(D,E):Object(x.a)(D,E)}},function(c,a,M){"use strict";var O=M(2),x=M(1),D=function(E,S){if(!Object(x.a)(E))return E;var p=[];return Object(O.a)(E,function(b,y){p.push(S(b,y))}),p};a.a=D},function(c,a,M){"use strict";var O=M(6),x=M(13),D=function(E){return E};a.a=function(E,S){S===void 0&&(S=D);var p={};return Object(x.a)(E)&&!Object(O.a)(E)&&Object.keys(E).forEach(function(b){p[b]=S(E[b],b)}),p}},function(c,a,M){"use strict";var O=M(8);a.a=function(x,D,E){for(var S=0,p=Object(O.a)(D)?D.split("."):D;x&&S<p.length;)x=x[p[S++]];return x===void 0||S<p.length?E:x}},function(c,a,M){"use strict";var O=M(13),x=M(8),D=M(5);a.a=function(E,S,p){var b=E,y=Object(x.a)(S)?S.split("."):S;return y.forEach(function(C,I){I<y.length-1?(Object(O.a)(b[C])||(b[C]=Object(D.a)(y[I+1])?[]:{}),b=b[C]):b[C]=p}),E}},function(c,a,M){"use strict";var O=M(2),x=M(9),D=Object.prototype.hasOwnProperty;a.a=function(E,S){if(E===null||!Object(x.a)(E))return{};var p={};return Object(O.a)(S,function(b){D.call(E,b)&&(p[b]=E[b])}),p}},function(c,a,M){"use strict";a.a=function(O,x,D){var E,S,p,b,y=0;D||(D={});var C=function(){y=D.leading===!1?0:Date.now(),E=null,b=O.apply(S,p),E||(S=p=null)},I=function(){var g=Date.now();!y&&D.leading===!1&&(y=g);var R=x-(g-y);return S=this,p=arguments,R<=0||R>x?(E&&(clearTimeout(E),E=null),y=g,b=O.apply(S,p),E||(S=p=null)):!E&&D.trailing!==!1&&(E=setTimeout(C,R)),b};return I.cancel=function(){clearTimeout(E),y=0,E=S=p=null},I}},function(c,a,M){"use strict";var O=M(1);a.a=function(x){return Object(O.a)(x)?Array.prototype.slice.call(x):[]}},function(c,a,M){"use strict";var O={};a.a=function(x){return x=x||"g",O[x]?O[x]+=1:O[x]=1,x+O[x]}},function(c,a,M){"use strict";a.a=function(){}},function(c,a,M){"use strict";a.a=function(O){return O}},function(c,a,M){"use strict";a.a=D;var O=M(6),x=M(1);function D(E){return Object(O.a)(E)?0:Object(x.a)(E)?E.length:Object.keys(E).length}},function(c,a,M){"use strict";var O=function(){function x(){this.map={}}return x.prototype.has=function(D){return this.map[D]!==void 0},x.prototype.get=function(D,E){var S=this.map[D];return S===void 0?E:S},x.prototype.set=function(D,E){this.map[D]=E},x.prototype.clear=function(){this.map={}},x.prototype.delete=function(D){delete this.map[D]},x.prototype.size=function(){return Object.keys(this.map).length},x}();a.a=O},function(c,a){function M(p,b,y,C){C===void 0&&(C=[]);var I=this;I.w=p||0,I.h=b||0,I.y=y||0,I.x=0,I.c=C||[],I.cs=C.length,I.prelim=0,I.mod=0,I.shift=0,I.change=0,I.tl=null,I.tr=null,I.el=null,I.er=null,I.msel=0,I.mser=0}M.fromNode=function(p,b){if(!p)return null;var y=[];return p.children.forEach(function(C){y.push(M.fromNode(C,b))}),b?new M(p.height,p.width,p.x,y):new M(p.width,p.height,p.y,y)};function O(p,b,y){y?p.y+=b:p.x+=b,p.children.forEach(function(C){O(C,b,y)})}function x(p,b){var y=b?p.y:p.x;return p.children.forEach(function(C){y=Math.min(x(C,b),y)}),y}function D(p,b){var y=x(p,b);O(p,-y,b)}function E(p,b,y){y?b.y=p.x:b.x=p.x,p.c.forEach(function(C,I){E(C,b.children[I],y)})}function S(p,b,y){y===void 0&&(y=0),b?(p.x=y,y+=p.width):(p.y=y,y+=p.height),p.children.forEach(function(C){S(C,b,y)})}c.exports=function(p,b){b===void 0&&(b={});var y=b.isHorizontal;function C(H){if(H.cs===0){I(H);return}C(H.c[0]);for(var Q=tt(z(H.c[0].el),0,null),k=1;k<H.cs;++k){C(H.c[k]);var K=z(H.c[k].er);g(H,k,Q),Q=tt(K,k,Q)}w(H),I(H)}function I(H){H.cs===0?(H.el=H,H.er=H,H.msel=H.mser=0):(H.el=H.c[0].el,H.msel=H.c[0].msel,H.er=H.c[H.cs-1].er,H.mser=H.c[H.cs-1].mser)}function g(H,Q,k){for(var K=H.c[Q-1],nt=K.mod,lt=H.c[Q],ut=lt.mod;K!==null&&lt!==null;){z(K)>k.low&&(k=k.nxt);var rt=nt+K.prelim+K.w-(ut+lt.prelim);rt>0&&(ut+=rt,R(H,Q,k.index,rt));var ot=z(K),dt=z(lt);ot<=dt&&(K=W(K),K!==null&&(nt+=K.mod)),ot>=dt&&(lt=U(lt),lt!==null&&(ut+=lt.mod))}!K&&!!lt?B(H,Q,lt,ut):!!K&&!lt&&L(H,Q,K,nt)}function R(H,Q,k,K){H.c[Q].mod+=K,H.c[Q].msel+=K,H.c[Q].mser+=K,V(H,Q,k,K)}function U(H){return H.cs===0?H.tl:H.c[0]}function W(H){return H.cs===0?H.tr:H.c[H.cs-1]}function z(H){return H.y+H.h}function B(H,Q,k,K){var nt=H.c[0].el;nt.tl=k;var lt=K-k.mod-H.c[0].msel;nt.mod+=lt,nt.prelim-=lt,H.c[0].el=H.c[Q].el,H.c[0].msel=H.c[Q].msel}function L(H,Q,k,K){var nt=H.c[Q].er;nt.tr=k;var lt=K-k.mod-H.c[Q].mser;nt.mod+=lt,nt.prelim-=lt,H.c[Q].er=H.c[Q-1].er,H.c[Q].mser=H.c[Q-1].mser}function w(H){H.prelim=(H.c[0].prelim+H.c[0].mod+H.c[H.cs-1].mod+H.c[H.cs-1].prelim+H.c[H.cs-1].w)/2-H.w/2}function F(H,Q){Q+=H.mod,H.x=H.prelim+Q,Y(H);for(var k=0;k<H.cs;k++)F(H.c[k],Q)}function V(H,Q,k,K){if(k!==Q-1){var nt=Q-k;H.c[k+1].shift+=K/nt,H.c[Q].shift-=K/nt,H.c[Q].change-=K-K/nt}}function Y(H){for(var Q=0,k=0,K=0;K<H.cs;K++)Q+=H.c[K].shift,k+=Q+H.c[K].change,H.c[K].mod+=k}function tt(H,Q,k){for(;k!==null&&H>=k.low;)k=k.nxt;return{low:H,index:Q,nxt:k}}S(p,y);var q=M.fromNode(p,y);return C(q),F(q,0),E(q,p,y),D(p,y),p}},function(c,a,M){function O(C,I){C.prototype=Object.create(I.prototype),C.prototype.constructor=C,C.__proto__=I}var x=M(11),D=M(115),E=M(17),S=M(7),p=function(C){O(I,C);function I(){return C.apply(this,arguments)||this}var g=I.prototype;return g.execute=function(){var U=this;return U.rootNode.width=0,E(U.rootNode,U.options,D)},I}(x),b={};function y(C,I){return I=S.assign({},b,I),new p(C,I).execute()}c.exports=y},function(c,a,M){var O=M(7);function x(S,p){S===void 0&&(S=0),p===void 0&&(p=[]);var b=this;b.x=b.y=0,b.leftChild=b.rightChild=null,b.height=0,b.children=p}var D={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function E(S,p,b){b?(p.x=S.x,p.y=S.y):(p.x=S.y,p.y=S.x),S.children.forEach(function(y,C){E(y,p.children[C],b)})}c.exports=function(S,p){p===void 0&&(p={}),p=O.assign({},D,p);var b=0;function y(U){if(!U)return null;U.width=0,U.depth&&U.depth>b&&(b=U.depth);var W=U.children,z=W.length,B=new x(U.height,[]);return W.forEach(function(L,w){var F=y(L);B.children.push(F),w===0&&(B.leftChild=F),w===z-1&&(B.rightChild=F)}),B.originNode=U,B.isLeaf=U.isLeaf(),B}function C(U){if(U.isLeaf||U.children.length===0)U.drawingDepth=b;else{var W=U.children.map(function(B){return C(B)}),z=Math.min.apply(null,W);U.drawingDepth=z-1}return U.drawingDepth}var I;function g(U){U.x=U.drawingDepth*p.rankSep,U.isLeaf?(U.y=0,I&&(U.y=I.y+I.height+p.nodeSep,U.originNode.parent!==I.originNode.parent&&(U.y+=p.subTreeSep)),I=U):(U.children.forEach(function(W){g(W)}),U.y=(U.leftChild.y+U.rightChild.y)/2)}var R=y(S);return C(R),g(R),E(R,S,p.isHorizontal),S}},function(c,a,M){function O(g,R){g.prototype=Object.create(R.prototype),g.prototype.constructor=g,g.__proto__=R}var x=M(11),D=M(117),E=M(30),S=M(7),p=["LR","RL","H"],b=p[0],y=function(g){O(R,g);function R(){return g.apply(this,arguments)||this}var U=R.prototype;return U.execute=function(){var z=this,B=z.options,L=z.rootNode;B.isHorizontal=!0;var w=B.indent,F=w===void 0?20:w,V=B.dropCap,Y=V===void 0?!0:V,tt=B.direction||b;if(tt&&p.indexOf(tt)===-1)throw new TypeError("Invalid direction: "+tt);if(tt===p[0])D(L,F,Y);else if(tt===p[1])D(L,F,Y),L.right2left();else if(tt===p[2]){var q=E(L,B),H=q.left,Q=q.right;D(H,F,Y),H.right2left(),D(Q,F,Y);var k=H.getBoundingBox();Q.translate(k.width,0),L.x=Q.x-L.width/2}return L},R}(x),C={};function I(g,R){return R=S.assign({},C,R),new y(g,R).execute()}c.exports=I},function(c,a){function M(O,x,D,E){if(!E)try{if(O.id===O.parent.children[0].id){O.x+=D*O.depth,O.y=x?x.y:0;return}}catch(S){}O.x+=D*O.depth,O.y=x?x.y+x.height:0}c.exports=function(O,x,D){var E=null;O.eachNode(function(S){M(S,E,x,D),E=S})}},function(c,a,M){function O(C,I){C.prototype=Object.create(I.prototype),C.prototype.constructor=C,C.__proto__=I}var x=M(11),D=M(119),E=M(17),S=M(7),p=function(C){O(I,C);function I(){return C.apply(this,arguments)||this}var g=I.prototype;return g.execute=function(){var U=this;return E(U.rootNode,U.options,D)},I}(x),b={};function y(C,I){return I=S.assign({},b,I),new p(C,I).execute()}c.exports=y},function(c,a,M){var O=M(7);function x(S,p){var b=0;return S.children.length?S.children.forEach(function(y){b+=x(y,p)}):b=S.height,S._subTreeSep=p.getSubTreeSep(S.data),S.totalHeight=Math.max(S.height,b)+2*S._subTreeSep,S.totalHeight}function D(S){var p=S.children,b=p.length;if(b){p.forEach(function(U){D(U)});var y=p[0],C=p[b-1],I=C.y-y.y+C.height,g=0;if(p.forEach(function(U){g+=U.totalHeight}),I>S.height)S.y=y.y+I/2-S.height/2;else if(p.length!==1||S.height>g){var R=S.y+(S.height-I)/2-y.y;p.forEach(function(U){U.translate(0,R)})}else S.y=(y.y+y.height/2+C.y+C.height/2)/2-S.height/2}}var E={getSubTreeSep:function(){return 0}};c.exports=function(S,p){p===void 0&&(p={}),p=O.assign({},E,p),S.parent={x:0,width:0,height:0,y:0},S.BFTraverse(function(b){b.x=b.parent.x+b.parent.width}),S.parent=null,x(S,p),S.startY=0,S.y=S.totalHeight/2-S.height/2,S.eachNode(function(b){var y=b.children,C=y.length;if(C){var I=y[0];if(I.startY=b.startY+b._subTreeSep,C===1)I.y=b.y+b.height/2-I.height/2;else{I.y=I.startY+I.totalHeight/2-I.height/2;for(var g=1;g<C;g++){var R=y[g];R.startY=y[g-1].startY+y[g-1].totalHeight,R.y=R.startY+R.totalHeight/2-R.height/2}}}}),D(S)}}])})},eo7c:function(Lt,A){Lt.exports=i;function i(c,a){return c[0]=1/a[0],c[1]=1/a[1],c}},epk5:function(Lt,A,i){"use strict";i.d(A,"a",function(){return R});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("Jze/"),x=i("s9g+"),D=i("Yz/u");function E(U){var W=U.chart,z=U.options,B=z.data,L=z.sectorStyle,w=z.color;return W.data(B),Object(O.f)(D.c)(Object(O.c)({},U,{options:{marginRatio:1,interval:{style:L,color:w}}})),U}function S(U){var W=U.chart,z=U.options,B=z.label,L=z.xField,w=Object(O.d)(W,"interval");if(B===!1)w.label(!1);else if(Object(M.isObject)(B)){var F=B.callback,V=B.fields,Y=Object(c.__rest)(B,["callback","fields"]),tt=Y.offset,q=Y.layout;(tt===void 0||tt>=0)&&(q=q?Object(M.isArray)(q)?q:[q]:[],Y.layout=Object(M.filter)(q,function(H){return H.type!=="limit-in-shape"}),Y.layout.length||delete Y.layout),w.label({fields:V||[L],callback:F,cfg:Object(O.y)(Y)})}else Object(O.q)(O.a.WARN,B===null,"the label option must be an Object."),w.label({fields:[L]});return U}function p(U){var W=U.chart,z=U.options,B=z.legend,L=z.seriesField;return B===!1?W.legend(!1):L&&W.legend(L,B),U}function b(U){var W=U.chart,z=U.options,B=z.radius,L=z.innerRadius,w=z.startAngle,F=z.endAngle;return W.coordinate({type:"polar",cfg:{radius:B,innerRadius:L,startAngle:w,endAngle:F}}),U}function y(U){var W,z=U.options,B=z.xAxis,L=z.yAxis,w=z.xField,F=z.yField;return Object(O.f)(Object(x.f)((W={},W[w]=B,W[F]=L,W)))(U)}function C(U){var W=U.chart,z=U.options,B=z.xAxis,L=z.yAxis,w=z.xField,F=z.yField;return B?W.axis(w,B):W.axis(w,!1),L?W.axis(F,L):W.axis(F,!1),U}function I(U){Object(O.f)(E,y,S,b,C,p,x.k,x.c,x.a,x.j,Object(x.b)(),x.i)(U)}var g=Object(O.c)({},a.b.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),R=function(U){Object(c.__extends)(W,U);function W(){var z=U!==null&&U.apply(this,arguments)||this;return z.type="rose",z}return W.getDefaultOptions=function(){return g},W.prototype.changeData=function(z){this.updateOption({data:z}),this.chart.changeData(z)},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W.prototype.getSchemaAdaptor=function(){return I},W}(a.b)},f1V2:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"getAdjMatrixAsync",{enumerable:!0,get:function(){return c.getAdjMatrixAsync}}),Object.defineProperty(A,"connectedComponentAsync",{enumerable:!0,get:function(){return c.connectedComponentAsync}}),Object.defineProperty(A,"getDegreeAsync",{enumerable:!0,get:function(){return c.getDegreeAsync}}),Object.defineProperty(A,"getInDegreeAsync",{enumerable:!0,get:function(){return c.getInDegreeAsync}}),Object.defineProperty(A,"getOutDegreeAsync",{enumerable:!0,get:function(){return c.getOutDegreeAsync}}),Object.defineProperty(A,"detectCycleAsync",{enumerable:!0,get:function(){return c.detectCycleAsync}}),Object.defineProperty(A,"detectAllCyclesAsync",{enumerable:!0,get:function(){return c.detectAllCyclesAsync}}),Object.defineProperty(A,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return c.detectAllDirectedCycleAsync}}),Object.defineProperty(A,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return c.detectAllUndirectedCycleAsync}}),Object.defineProperty(A,"dijkstraAsync",{enumerable:!0,get:function(){return c.dijkstraAsync}}),Object.defineProperty(A,"findAllPathAsync",{enumerable:!0,get:function(){return c.findAllPathAsync}}),Object.defineProperty(A,"findShortestPathAsync",{enumerable:!0,get:function(){return c.findShortestPathAsync}}),Object.defineProperty(A,"floydWarshallAsync",{enumerable:!0,get:function(){return c.floydWarshallAsync}}),Object.defineProperty(A,"labelPropagationAsync",{enumerable:!0,get:function(){return c.labelPropagationAsync}}),Object.defineProperty(A,"louvainAsync",{enumerable:!0,get:function(){return c.louvainAsync}}),Object.defineProperty(A,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return c.minimumSpanningTreeAsync}}),Object.defineProperty(A,"pageRankAsync",{enumerable:!0,get:function(){return c.pageRankAsync}}),Object.defineProperty(A,"getNeighborsAsync",{enumerable:!0,get:function(){return c.getNeighborsAsync}}),Object.defineProperty(A,"GADDIAsync",{enumerable:!0,get:function(){return c.GADDIAsync}}),A.default=A.detectDirectedCycleAsync=void 0;var c=i("H0Y/"),a=c.detectCycleAsync;A.detectDirectedCycleAsync=a;var M={getAdjMatrixAsync:c.getAdjMatrixAsync,connectedComponentAsync:c.connectedComponentAsync,getDegreeAsync:c.getDegreeAsync,getInDegreeAsync:c.getInDegreeAsync,getOutDegreeAsync:c.getOutDegreeAsync,detectCycleAsync:c.detectCycleAsync,detectDirectedCycleAsync:a,detectAllCyclesAsync:c.detectAllCyclesAsync,detectAllDirectedCycleAsync:c.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:c.detectAllUndirectedCycleAsync,dijkstraAsync:c.dijkstraAsync,findAllPathAsync:c.findAllPathAsync,findShortestPathAsync:c.findShortestPathAsync,floydWarshallAsync:c.floydWarshallAsync,labelPropagationAsync:c.labelPropagationAsync,louvainAsync:c.louvainAsync,minimumSpanningTreeAsync:c.minimumSpanningTreeAsync,pageRankAsync:c.pageRankAsync,getNeighborsAsync:c.getNeighborsAsync,GADDIAsync:c.GADDIAsync};A.default=M},fC6O:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=a(i("g3RE"));function a(D){return D&&D.__esModule?D:{default:D}}var M=function(E,S,p,b){for(var y=S.length,C=2*b,I=0,g=0;g<y;g++)for(var R=E[g].clusterId,U=0;U<y;U++){var W=E[U].clusterId;if(R===W){var z=S[g][U]||0,B=p[g]||0,L=p[U]||0;I+=z-B*L/C}}return I*=1/C,I},O=function(E,S,p,b){S===void 0&&(S=!1),p===void 0&&(p="weight"),b===void 0&&(b=1e-4);var y=E.nodes,C=y===void 0?[]:y,I=E.edges,g=I===void 0?[]:I,R=1,U={},W={};C.forEach(function(K,nt){var lt=String(R++);K.clusterId=lt,U[lt]={id:lt,nodes:[K]},W[K.id]={node:K,idx:nt}});var z=(0,c.default)(E,S),B=[],L={},w=0;z.forEach(function(K,nt){var lt=0,ut=C[nt].id;L[ut]={},K.forEach(function(rt,ot){if(!!rt){lt+=rt;var dt=C[ot].id;L[ut][dt]=rt,w+=rt}}),B.push(lt)}),w/=2;for(var F=Infinity,V=Infinity,Y=0;F=M(C,z,B,w),!(Math.abs(F-V)<b||Y>100);)V=F,Y++,Object.keys(U).forEach(function(K){var nt=0;g.forEach(function(lt){var ut=lt.source,rt=lt.target,ot=W[ut].node.clusterId,dt=W[rt].node.clusterId;(ot===K&&dt!==K||dt===K&&ot!==K)&&(nt=nt+(lt[p]||1))}),U[K].sumTot=nt}),C.forEach(function(K,nt){var lt=U[K.clusterId],ut=0,rt,ot=B[nt]/(2*w),dt=0,Mt=lt.nodes;Mt.forEach(function(gt){var At=W[gt.id].idx;dt+=z[nt][At]||0});var Nt=dt-lt.sumTot*ot,ht=L[K.id];if(Object.keys(ht).forEach(function(gt){var At=W[gt].node,pt=At.clusterId;if(pt!==K.clusterId){var _=U[pt],$=_.nodes;if(!(!$||!$.length)){var bt=0;$.forEach(function(Pt){var Rt=W[Pt.id].idx;bt+=z[nt][Rt]||0});var it=bt-_.sumTot*ot,Ot=it-Nt;Ot>ut&&(ut=Ot,rt=_)}}}),ut>0){rt.nodes.push(K);var yt=K.clusterId;K.clusterId=rt.id;var ft=lt.nodes.indexOf(K);lt.nodes.splice(ft,1);var st=0,xt=0;g.forEach(function(gt){var At=gt.source,pt=gt.target,_=W[At].node.clusterId,$=W[pt].node.clusterId;(_===rt.id&&$!==rt.id||$===rt.id&&_!==rt.id)&&(st=st+(gt[p]||1)),(_===yt&&$!==yt||$===yt&&_!==yt)&&(xt=xt+(gt[p]||1))}),rt.sumTot=st,lt.sumTot=xt}});var tt={},q=0;Object.keys(U).forEach(function(K){var nt=U[K];if(!nt.nodes||!nt.nodes.length){delete U[K];return}var lt=String(q+1);lt!==K&&(nt.id=lt,nt.nodes=nt.nodes.map(function(ut){return{id:ut.id,clusterId:lt}}),U[lt]=nt,tt[K]=lt,delete U[K],q++)}),C.forEach(function(K){K.clusterId&&tt[K.clusterId]&&(K.clusterId=tt[K.clusterId])});var H=[],Q={};g.forEach(function(K){var nt=K.source,lt=K.target,ut=K[p]||1,rt=W[nt].node.clusterId,ot=W[lt].node.clusterId,dt=rt+"---"+ot;if(Q[dt])Q[dt].weight+=ut,Q[dt].count++;else{var Mt={source:rt,target:ot,weight:ut,count:1};Q[dt]=Mt,H.push(Mt)}});var k=[];return Object.keys(U).forEach(function(K){k.push(U[K])}),{clusters:k,clusterEdges:H}},x=O;A.default=x},fI7b:function(Lt,A){Lt.exports=i;function i(c,a,M){var O=a[0],x=a[1];return c[0]=M[0]*O+M[2]*x,c[1]=M[1]*O+M[3]*x,c}},fIi5:function(Lt,A,i){var c=i("xi+f");function a(M,O){return c(O,function(x){return M[x]})}Lt.exports=a},fQJb:function(Lt,A,i){var c=i("cEHS"),a=i("ah2v"),M=i("TeP8"),O=i("E5vS"),x=i("0gIx");function D(E,S,p,b){if(!O(E))return E;S=a(S,E);for(var y=-1,C=S.length,I=C-1,g=E;g!=null&&++y<C;){var R=x(S[y]),U=p;if(R==="__proto__"||R==="constructor"||R==="prototype")return E;if(y!=I){var W=g[R];U=b?b(W,R,g):void 0,U===void 0&&(U=O(W)?W:M(S[y+1])?[]:{})}c(g,R,U),g=g[R]}return E}Lt.exports=D},fQKG:function(Lt,A,i){var c=i("qFee"),a=i("3FqU"),M=i("mXku"),O=i("Npd2"),x=i("E5vS"),D=i("rGlR"),E=i("TKkZ");function S(p,b,y,C,I){p!==b&&M(b,function(g,R){if(I||(I=new c),x(g))O(p,b,R,y,S,C,I);else{var U=C?C(E(p,R),g,R+"",p,b,I):void 0;U===void 0&&(U=g),a(p,R,U)}},D)}Lt.exports=S},fURL:function(Lt,A,i){"use strict";i.d(A,"a",function(){return xt});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("s9g+"),x=i("Yz/u"),D=i("Jze/"),E=i("9g8t"),S=i("dckT"),p=i.n(S);function b(gt,At){var pt=gt.length*At;if(gt.length===0)throw new Error("quantile requires at least one data point.");if(At<0||At>1)throw new Error("quantiles must be between 0 and 1");return At===1?gt[gt.length-1]:At===0?gt[0]:pt%1!=0?gt[Math.ceil(pt)-1]:gt.length%2==0?(gt[pt-1]+gt[pt])/2:gt[pt]}function y(gt,At,pt){var _=gt[At];gt[At]=gt[pt],gt[pt]=_}function C(gt,At,pt,_){for(pt=pt||0,_=_||gt.length-1;_>pt;){if(_-pt>600){var $=_-pt+1,bt=At-pt+1,it=Math.log($),Ot=.5*Math.exp(2*it/3),Pt=.5*Math.sqrt(it*Ot*($-Ot)/$);bt-$/2<0&&(Pt*=-1);var Rt=Math.max(pt,Math.floor(At-bt*Ot/$+Pt)),Vt=Math.min(_,Math.floor(At+($-bt)*Ot/$+Pt));C(gt,At,Rt,Vt)}var kt=gt[At],Wt=pt,wt=_;for(y(gt,pt,At),gt[_]>kt&&y(gt,pt,_);Wt<wt;){for(y(gt,Wt,wt),Wt++,wt--;gt[Wt]<kt;)Wt++;for(;gt[wt]>kt;)wt--}gt[pt]===kt?y(gt,pt,wt):(wt++,y(gt,wt,_)),wt<=At&&(pt=wt+1),At<=wt&&(_=wt-1)}}function I(gt,At){var pt=gt.slice();if(Array.isArray(At)){R(pt,At);for(var _=[],$=0;$<At.length;$++)_[$]=b(pt,At[$]);return _}else{var bt=W(pt.length,At);return g(pt,bt,0,pt.length-1),b(pt,At)}}function g(gt,At,pt,_){At%1==0?C(gt,At,pt,_):(At=Math.floor(At),C(gt,At,pt,_),C(gt,At+1,At+1,_))}function R(gt,At){for(var pt=[0],_=0;_<At.length;_++)pt.push(W(gt.length,At[_]));pt.push(gt.length-1),pt.sort(U);for(var $=[0,pt.length-1];$.length;){var bt=Math.ceil($.pop()),it=Math.floor($.pop());if(!(bt-it<=1)){var Ot=Math.floor((it+bt)/2);g(gt,pt[Ot],Math.floor(pt[it]),Math.ceil(pt[bt])),$.push(it,Ot,Ot,bt)}}}function U(gt,At){return gt-At}function W(gt,At){var pt=gt*At;return At===1?gt-1:At===0?0:pt%1!=0?Math.ceil(pt)-1:gt%2==0?pt-.5:pt}var z=function(gt){return{low:Object(M.min)(gt),high:Object(M.max)(gt),q1:I(gt,.25),q3:I(gt,.75),median:I(gt,[.5]),minMax:[Object(M.min)(gt),Object(M.max)(gt)],quantile:[I(gt,.25),I(gt,.75)]}},B=function(gt,At){var pt=p.a.create(gt,At);return{violinSize:pt.map(function(_){return _.y}),violinY:pt.map(function(_){return _.x})}},L=function(gt){var At=gt.xField,pt=gt.yField,_=gt.seriesField,$=gt.data,bt=gt.kde,it={min:bt.min,max:bt.max,size:bt.sampleSize,width:bt.width};if(!_){var Ot=Object(M.groupBy)($,At);return Object.keys(Ot).map(function(Vt){var kt=Ot[Vt],Wt=kt.map(function(wt){return wt[pt]});return Object(c.__assign)(Object(c.__assign)({x:Vt},B(Wt,it)),z(Wt))})}var Pt=[],Rt=Object(M.groupBy)($,_);return Object.keys(Rt).forEach(function(Vt){var kt=Object(M.groupBy)(Rt[Vt],At);return Object.keys(kt).forEach(function(Wt){var wt,ct=kt[Wt],jt=ct.map(function(Xt){return Xt[pt]});Pt.push(Object(c.__assign)(Object(c.__assign)((wt={x:Wt},wt[_]=Vt,wt),B(jt,it)),z(jt)))})}),Pt},w="x",F="violinY",V="violinSize",Y="minMax",tt="quantile",q="median",H="violin_view",Q="min_max_view",k="quantile_view",K="median_view",nt=Object(D.c)({},a.b.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),lt=["low","high","q1","q3","median"],ut=[{type:"dodge",marginRatio:1/32}];function rt(gt){var At=gt.chart,pt=gt.options;return At.data(L(pt)),gt}function ot(gt){var At=gt.chart,pt=gt.options,_=pt.seriesField,$=pt.color,bt=pt.shape,it=bt===void 0?"violin":bt,Ot=pt.violinStyle,Pt=pt.tooltip,Rt=At.createView({id:H});return Object(x.h)({chart:Rt,options:{xField:w,yField:F,seriesField:_||w,sizeField:V,tooltip:Object(c.__assign)({fields:lt},Pt),violin:{style:Ot,color:$,shape:it}}}),Rt.geometries[0].adjust(ut),gt}function dt(gt){var At=gt.chart,pt=gt.options,_=pt.seriesField,$=pt.color,bt=pt.tooltip,it=pt.box;if(it===!1)return gt;var Ot=At.createView({id:Q});Object(x.c)({chart:Ot,options:{xField:w,yField:Y,seriesField:_||w,tooltip:Object(c.__assign)({fields:lt},bt),interval:{color:$,size:1,style:{lineWidth:0}}}}),Ot.geometries[0].adjust(ut);var Pt=At.createView({id:k});Object(x.c)({chart:Pt,options:{xField:w,yField:tt,seriesField:_||w,tooltip:Object(c.__assign)({fields:lt},bt),interval:{color:$,size:8,style:{fillOpacity:1}}}}),Pt.geometries[0].adjust(ut);var Rt=At.createView({id:K});return Object(x.e)({chart:Rt,options:{xField:w,yField:q,seriesField:_||w,tooltip:Object(c.__assign)({fields:lt},bt),point:{color:$,size:1,style:{fill:"white",lineWidth:0}}}}),Rt.geometries[0].adjust(ut),Pt.axis(!1),Ot.axis(!1),Rt.axis(!1),Rt.legend(!1),Ot.legend(!1),Pt.legend(!1),gt}function Mt(gt){var At,pt=gt.chart,_=gt.options,$=_.meta,bt=_.xAxis,it=_.yAxis,Ot={},Pt=Object(D.c)(Ot,$,(At={},At[w]=Object(c.__assign)(Object(c.__assign)({sync:!0},Object(D.s)(bt,E.a)),{type:"cat"}),At[F]=Object(c.__assign)({sync:!0},Object(D.s)(it,E.a)),At[Y]=Object(c.__assign)({sync:F},Object(D.s)(it,E.a)),At[tt]=Object(c.__assign)({sync:F},Object(D.s)(it,E.a)),At[q]=Object(c.__assign)({sync:F},Object(D.s)(it,E.a)),At));return pt.scale(Pt),gt}function Nt(gt){var At=gt.chart,pt=gt.options,_=pt.xAxis,$=pt.yAxis,bt=Object(D.e)(At,H);return _===!1?bt.axis(w,!1):bt.axis(w,_),$===!1?bt.axis(F,!1):bt.axis(F,$),At.axis(!1),gt}function ht(gt){var At=gt.chart,pt=gt.options,_=pt.legend,$=pt.seriesField,bt=pt.shape;if(_===!1)At.legend(!1);else{var it=$||w,Ot=Object(M.omit)(_,["selected"]);(!bt||!bt.startsWith("hollow"))&&(Object(M.get)(Ot,["marker","style","lineWidth"])||Object(M.set)(Ot,["marker","style","lineWidth"],0)),At.legend(it,Ot),Object(M.get)(_,"selected")&&Object(M.each)(At.views,function(Pt){return Pt.legend(it,_)})}return gt}function yt(gt){var At=gt.chart,pt=Object(D.e)(At,H);return Object(O.b)()(Object(c.__assign)(Object(c.__assign)({},gt),{chart:pt})),gt}function ft(gt){var At=gt.chart,pt=gt.options,_=pt.animation;return Object(M.each)(At.views,function($){typeof _=="boolean"?$.animate(_):$.animate(!0),Object(M.each)($.geometries,function(bt){bt.animate(_)})}),gt}function st(gt){return Object(D.f)(O.j,rt,ot,dt,Mt,O.k,Nt,ht,O.c,yt,ft)(gt)}var xt=function(gt){Object(c.__extends)(At,gt);function At(){var pt=gt!==null&&gt.apply(this,arguments)||this;return pt.type="violin",pt}return At.getDefaultOptions=function(){return nt},At.prototype.changeData=function(pt){this.updateOption({data:pt}),this.chart.changeData(L(this.options))},At.prototype.getDefaultOptions=function(){return At.getDefaultOptions()},At.prototype.getSchemaAdaptor=function(){return st},At}(a.b)},fUu9:function(Lt,A,i){var c=i("tmP0"),a=i("ZvDv"),M=i("uSfk"),O=i("oX5j"),x=i("HR5z"),D=i("br1w"),E=200;function S(p,b,y){var C=-1,I=a,g=p.length,R=!0,U=[],W=U;if(y)R=!1,I=M;else if(g>=E){var z=b?null:x(p);if(z)return D(z);R=!1,I=O,W=new c}else W=b?[]:U;t:for(;++C<g;){var B=p[C],L=b?b(B):B;if(B=y||B!==0?B:0,R&&L===L){for(var w=W.length;w--;)if(W[w]===L)continue t;b&&W.push(L),U.push(B)}else I(W,L,y)||(W!==U&&W.push(L),U.push(B))}return U}Lt.exports=S},fVs5:function(Lt,A,i){"use strict";i.d(A,"a",function(){return lt});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("Yz/u"),x=i("s9g+"),D=i("Jze/"),E=i("b00Y"),S="ancestor-node",p="value",b="path",y=[b,"name","depth","height"],C=Object(D.c)({},a.b.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),I=i("b0U9"),g=i("W7Gi"),R=i("M1/f"),U=i("khvB"),W={field:"value",size:[1,1],round:!1,padding:0,sort:function(ut,rt){return rt.value-ut.value},as:["x","y"],ignoreParentValue:!0};function z(ut,rt){rt=Object(M.assign)({},W,rt);var ot=rt.as;if(!Object(M.isArray)(ot)||ot.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var dt;try{dt=Object(U.b)(rt)}catch(ft){console.warn(ft)}var Mt=function(ft){return g.a().size(rt.size).round(rt.round).padding(rt.padding)(R.c(ft).sum(function(st){return Object(M.size)(st.children)?rt.ignoreParentValue?0:st[dt]-Object(M.reduce)(st.children,function(xt,gt){return xt+gt[dt]},0):st[dt]}).sort(rt.sort))},Nt=Mt(ut),ht=ot[0],yt=ot[1];return Nt.each(function(ft){var st,xt;ft[ht]=[ft.x0,ft.x1,ft.x1,ft.x0],ft[yt]=[ft.y1,ft.y1,ft.y0,ft.y0],ft.name=ft.name||((st=ft.data)===null||st===void 0?void 0:st.name)||((xt=ft.data)===null||xt===void 0?void 0:xt.label),ft.data.name=ft.name,["x0","x1","y0","y1"].forEach(function(gt){ot.indexOf(gt)===-1&&delete ft[gt]})}),Object(U.a)(Nt)}var B=i("Anwo");function L(ut){var rt=ut.data,ot=ut.colorField,dt=ut.rawFields,Mt=ut.hierarchyConfig,Nt=Mt===void 0?{}:Mt,ht={partition:z,treemap:B.a},yt=ut.seriesField,ft=ut.type||"partition",st=ht[ft](rt,Object(c.__assign)(Object(c.__assign)({field:yt||"value"},Nt),{type:"hierarchy."+ft,as:["x","y"]})),xt=[];return st.forEach(function(gt){var At,pt,_,$,bt,it;if(gt.depth===0)return null;for(var Ot=gt.data.name,Pt=Object(c.__assign)({},gt);Pt.depth>1;)Ot=((pt=Pt.parent.data)===null||pt===void 0?void 0:pt.name)+" / "+Ot,Pt=Pt.parent;var Rt=Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},Object(D.s)(gt.data,Object(c.__spreadArrays)(dt||[],[Nt.field]))),(At={},At[b]=Ot,At[S]=Pt.data.name,At)),gt);yt&&(Rt[yt]=gt.data[yt]||(($=(_=gt.parent)===null||_===void 0?void 0:_.data)===null||$===void 0?void 0:$[yt])),ot&&(Rt[ot]=gt.data[ot]||((it=(bt=gt.parent)===null||bt===void 0?void 0:bt.data)===null||it===void 0?void 0:it[ot])),Rt.ext=Nt,Rt[I.b]={hierarchyConfig:Nt,colorField:ot,rawFields:dt},xt.push(Rt)}),xt}function w(ut){var rt=ut.chart,ot=ut.options,dt=ot.color,Mt=ot.colorField,Nt=Mt===void 0?S:Mt,ht=ot.sunburstStyle,yt=ot.rawFields,ft=yt===void 0?[]:yt,st=L(ot);rt.data(st);var xt;return ht&&(xt=function(gt){return Object(D.c)({},{fillOpacity:Math.pow(.85,gt.depth)},Object(M.isFunction)(ht)?ht(gt):ht)}),Object(O.f)(Object(D.c)({},ut,{options:{xField:"x",yField:"y",seriesField:Nt,rawFields:Object(M.uniq)(Object(c.__spreadArrays)(y,ft)),polygon:{color:dt,style:xt}}})),ut}function F(ut){var rt=ut.chart;return rt.axis(!1),ut}function V(ut){var rt=ut.chart;return rt.legend(!1),ut}function Y(ut){var rt=ut.chart,ot=ut.options,dt=ot.label,Mt=Object(D.d)(rt,"polygon");if(!dt)Mt.label(!1);else{var Nt=dt.fields,ht=Nt===void 0?["name"]:Nt,yt=dt.callback,ft=Object(c.__rest)(dt,["fields","callback"]);Mt.label({fields:ht,callback:yt,cfg:Object(D.y)(ft)})}return ut}function tt(ut){var rt=ut.chart,ot=ut.options,dt=ot.innerRadius,Mt=ot.radius,Nt=ot.reflect,ht=rt.coordinate({type:"polar",cfg:{innerRadius:dt,radius:Mt}});return Nt&&ht.reflect(Nt),ut}function q(ut){var rt,ot=ut.options,dt=ot.hierarchyConfig,Mt=ot.meta;return Object(D.f)(Object(x.f)({},(rt={},rt[p]=Object(M.get)(Mt,Object(M.get)(dt,["field"],"value")),rt)))(ut)}function H(ut){var rt=ut.chart,ot=ut.options,dt=ot.tooltip;if(dt===!1)rt.tooltip(!1);else{var Mt=dt;Object(M.get)(dt,"fields")||(Mt=Object(D.c)({},{customItems:function(Nt){return Nt.map(function(ht){var yt=Object(M.get)(rt.getOptions(),"scales"),ft=Object(M.get)(yt,[b,"formatter"],function(xt){return xt}),st=Object(M.get)(yt,[p,"formatter"],function(xt){return xt});return Object(c.__assign)(Object(c.__assign)({},ht),{name:ft(ht.data[b]),value:st(ht.data.value)})})}},Mt)),rt.tooltip(Mt)}return ut}function Q(ut){var rt=ut.drilldown,ot=ut.interactions,dt=ot===void 0?[]:ot;return(rt==null?void 0:rt.enabled)?Object(D.c)({},ut,{interactions:Object(c.__spreadArrays)(dt,[{type:"drill-down",cfg:{drillDownConfig:rt,transformData:L}}])}):ut}function k(ut){var rt=ut.chart,ot=ut.options,dt=ot.drilldown;return Object(x.c)({chart:rt,options:Q(ot)}),(dt==null?void 0:dt.enabled)&&(rt.appendPadding=Object(E.a)(rt.appendPadding,Object(M.get)(dt,["breadCrumb","position"]))),ut}function K(ut){return Object(D.f)(x.j,w,F,q,V,tt,H,Y,k,x.a,Object(x.b)())(ut)}var nt=i("ORSI"),lt=function(ut){Object(c.__extends)(rt,ut);function rt(){var ot=ut!==null&&ut.apply(this,arguments)||this;return ot.type="sunburst",ot}return rt.getDefaultOptions=function(){return C},rt.prototype.getDefaultOptions=function(){return rt.getDefaultOptions()},rt.prototype.getSchemaAdaptor=function(){return K},rt.SUNBURST_ANCESTOR_FIELD=S,rt.SUNBURST_PATH_FIELD=b,rt}(a.b)},fo7X:function(Lt,A,i){"use strict";i.d(A,"a",function(){return b});var c=i("16OP"),a=i.n(c),M=i("7Nom"),O=i.n(M),x=i("YcyD"),D=i.n(x),E,S,p,b=(E=Object(x.injectable)(),E(S=(p=function(){function y(){a()(this,y),this.config=void 0}return O()(y,[{key:"get",value:function(){return this.config}},{key:"set",value:function(I){this.config=I}}]),y}(),p))||S)},fxXO:function(Lt,A,i){(function(c,a){a(A)})(this,function(c){"use strict";function a(Q,k){return M(Q)||O(Q,k)||x()}function M(Q){if(Array.isArray(Q))return Q}function O(Q,k){var K=[],nt=!0,lt=!1,ut=void 0;try{for(var rt=Q[Symbol.iterator](),ot;!(nt=(ot=rt.next()).done)&&(K.push(ot.value),!(k&&K.length===k));nt=!0);}catch(dt){lt=!0,ut=dt}finally{try{!nt&&rt.return!=null&&rt.return()}finally{if(lt)throw ut}}return K}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function D(Q,k,K,nt){Q=Q.filter(function(st,xt){var gt=k(st,xt),At=K(st,xt);return gt!=null&&isFinite(gt)&&At!=null&&isFinite(At)}),nt&&Q.sort(function(st,xt){return k(st)-k(xt)});for(var lt=Q.length,ut=new Float64Array(lt),rt=new Float64Array(lt),ot=0,dt=0,Mt,Nt,ht,yt=0;yt<lt;)ht=Q[yt],ut[yt]=Mt=+k(ht,yt,Q),rt[yt]=Nt=+K(ht,yt,Q),++yt,ot+=(Mt-ot)/yt,dt+=(Nt-dt)/yt;for(var ft=0;ft<lt;++ft)ut[ft]-=ot,rt[ft]-=dt;return[ut,rt,ot,dt]}function E(Q,k,K,nt){for(var lt=0,ut=0,rt=Q.length;ut<rt;ut++){var ot=Q[ut],dt=+k(ot,ut,Q),Mt=+K(ot,ut,Q);dt!=null&&isFinite(dt)&&Mt!=null&&isFinite(Mt)&&nt(dt,Mt,lt++)}}function S(Q,k,K,nt,lt){var ut=0,rt=0;return E(Q,k,K,function(ot,dt){var Mt=dt-lt(ot),Nt=dt-nt;ut+=Mt*Mt,rt+=Nt*Nt}),1-ut/rt}function p(Q){return Math.atan2(Q[1][1]-Q[0][1],Q[1][0]-Q[0][0])*180/Math.PI}function b(Q){return[(Q[0][0]+Q[1][0])/2,(Q[0][1]+Q[1][1])/2]}function y(Q,k,K){for(var nt=Math.log(k-Q)*Math.LOG10E+1|0,lt=1*Math.pow(10,-nt/2-1),ut=1e4,rt=[dt(Q),dt(k)],ot=0;Mt(rt)&&ot<ut;);return rt;function dt(Nt){return[Nt,K(Nt)]}function Mt(Nt){ot++;for(var ht=Nt.length,yt=!1,ft=0;ft<ht-1;ft++){var st=Nt[ft],xt=Nt[ft+1],gt=b([st,xt]),At=dt(gt[0]),pt=p([st,gt]),_=p([st,At]),$=Math.abs(pt-_);$>lt&&(Nt.splice(ft+1,0,At),yt=!0)}return yt}}function C(Q,k,K,nt){var lt=nt-Q*Q,ut=Math.abs(lt)<1e-24?0:(K-Q*k)/lt,rt=k-ut*Q;return[rt,ut]}function I(){var Q=function(ut){return ut[0]},k=function(ut){return ut[1]},K;function nt(lt){var ut=0,rt=0,ot=0,dt=0,Mt=0,Nt=0,ht=K?+K[0]:Infinity,yt=K?+K[1]:-Infinity;E(lt,Q,k,function(_,$){var bt=Math.log($),it=_*$;++ut,rt+=($-rt)/ut,dt+=(it-dt)/ut,Nt+=(_*it-Nt)/ut,ot+=($*bt-ot)/ut,Mt+=(it*bt-Mt)/ut,K||(_<ht&&(ht=_),_>yt&&(yt=_))});var ft=C(dt/rt,ot/rt,Mt/rt,Nt/rt),st=a(ft,2),xt=st[0],gt=st[1];xt=Math.exp(xt);var At=function($){return xt*Math.exp(gt*$)},pt=y(ht,yt,At);return pt.a=xt,pt.b=gt,pt.predict=At,pt.rSquared=S(lt,Q,k,rt,At),pt}return nt.domain=function(lt){return arguments.length?(K=lt,nt):K},nt.x=function(lt){return arguments.length?(Q=lt,nt):Q},nt.y=function(lt){return arguments.length?(k=lt,nt):k},nt}function g(){var Q=function(ut){return ut[0]},k=function(ut){return ut[1]},K;function nt(lt){var ut=0,rt=0,ot=0,dt=0,Mt=0,Nt=K?+K[0]:Infinity,ht=K?+K[1]:-Infinity;E(lt,Q,k,function(pt,_){++ut,rt+=(pt-rt)/ut,ot+=(_-ot)/ut,dt+=(pt*_-dt)/ut,Mt+=(pt*pt-Mt)/ut,K||(pt<Nt&&(Nt=pt),pt>ht&&(ht=pt))});var yt=C(rt,ot,dt,Mt),ft=a(yt,2),st=ft[0],xt=ft[1],gt=function(_){return xt*_+st},At=[[Nt,gt(Nt)],[ht,gt(ht)]];return At.a=xt,At.b=st,At.predict=gt,At.rSquared=S(lt,Q,k,ot,gt),At}return nt.domain=function(lt){return arguments.length?(K=lt,nt):K},nt.x=function(lt){return arguments.length?(Q=lt,nt):Q},nt.y=function(lt){return arguments.length?(k=lt,nt):k},nt}function R(Q){Q.sort(function(K,nt){return K-nt});var k=Q.length/2;return k%1==0?(Q[k-1]+Q[k])/2:Q[Math.floor(k)]}var U=2,W=1e-12;function z(){var Q=function(ut){return ut[0]},k=function(ut){return ut[1]},K=.3;function nt(lt){for(var ut=D(lt,Q,k,!0),rt=a(ut,4),ot=rt[0],dt=rt[1],Mt=rt[2],Nt=rt[3],ht=ot.length,yt=Math.max(2,~~(K*ht)),ft=new Float64Array(ht),st=new Float64Array(ht),xt=new Float64Array(ht).fill(1),gt=-1;++gt<=U;){for(var At=[0,yt-1],pt=0;pt<ht;++pt){for(var _=ot[pt],$=At[0],bt=At[1],it=_-ot[$]>ot[bt]-_?$:bt,Ot=0,Pt=0,Rt=0,Vt=0,kt=0,Wt=1/Math.abs(ot[it]-_||1),wt=$;wt<=bt;++wt){var ct=ot[wt],jt=dt[wt],Xt=B(Math.abs(_-ct)*Wt)*xt[wt],It=ct*Xt;Ot+=Xt,Pt+=It,Rt+=jt*Xt,Vt+=jt*It,kt+=ct*It}var Ut=C(Pt/Ot,Rt/Ot,Vt/Ot,kt/Ot),$t=a(Ut,2),Ft=$t[0],Kt=$t[1];ft[pt]=Ft+Kt*_,st[pt]=Math.abs(dt[pt]-ft[pt]),L(ot,pt+1,At)}if(gt===U)break;var ee=R(st);if(Math.abs(ee)<W)break;for(var ce=0,Se,Ce;ce<ht;++ce)Se=st[ce]/(6*ee),xt[ce]=Se>=1?W:(Ce=1-Se*Se)*Ce}return w(ot,ft,Mt,Nt)}return nt.bandwidth=function(lt){return arguments.length?(K=lt,nt):K},nt.x=function(lt){return arguments.length?(Q=lt,nt):Q},nt.y=function(lt){return arguments.length?(k=lt,nt):k},nt}function B(Q){return(Q=1-Q*Q*Q)*Q*Q}function L(Q,k,K){var nt=Q[k],lt=K[0],ut=K[1]+1;if(!(ut>=Q.length))for(;k>lt&&Q[ut]-nt<=nt-Q[lt];)K[0]=++lt,K[1]=ut,++ut}function w(Q,k,K,nt){for(var lt=Q.length,ut=[],rt=0,ot=0,dt=[],Mt;rt<lt;++rt)Mt=Q[rt]+K,dt[0]===Mt?dt[1]+=(k[rt]-dt[1])/++ot:(ot=0,dt[1]+=nt,dt=[Mt,k[rt]],ut.push(dt));return dt[1]+=nt,ut}function F(){var Q=function(rt){return rt[0]},k=function(rt){return rt[1]},K=Math.E,nt;function lt(ut){var rt=0,ot=0,dt=0,Mt=0,Nt=0,ht=nt?+nt[0]:Infinity,yt=nt?+nt[1]:-Infinity,ft=Math.log(K);E(ut,Q,k,function($,bt){var it=Math.log($)/ft;++rt,ot+=(it-ot)/rt,dt+=(bt-dt)/rt,Mt+=(it*bt-Mt)/rt,Nt+=(it*it-Nt)/rt,nt||($<ht&&(ht=$),$>yt&&(yt=$))});var st=C(ot,dt,Mt,Nt),xt=a(st,2),gt=xt[0],At=xt[1],pt=function(bt){return At*Math.log(bt)/ft+gt},_=y(ht,yt,pt);return _.a=At,_.b=gt,_.predict=pt,_.rSquared=S(ut,Q,k,dt,pt),_}return lt.domain=function(ut){return arguments.length?(nt=ut,lt):nt},lt.x=function(ut){return arguments.length?(Q=ut,lt):Q},lt.y=function(ut){return arguments.length?(k=ut,lt):k},lt.base=function(ut){return arguments.length?(K=ut,lt):K},lt}function V(){var Q=function(ut){return ut[0]},k=function(ut){return ut[1]},K;function nt(lt){var ut=D(lt,Q,k),rt=a(ut,4),ot=rt[0],dt=rt[1],Mt=rt[2],Nt=rt[3],ht=ot.length,yt=0,ft=0,st=0,xt=0,gt=0,At,pt,_,$;for(At=0;At<ht;)pt=ot[At],_=dt[At++],$=pt*pt,yt+=($-yt)/At,ft+=($*pt-ft)/At,st+=($*$-st)/At,xt+=(pt*_-xt)/At,gt+=($*_-gt)/At;var bt=0,it=0,Ot=K?+K[0]:Infinity,Pt=K?+K[1]:-Infinity;E(lt,Q,k,function(Xt,It){it++,bt+=(It-bt)/it,K||(Xt<Ot&&(Ot=Xt),Xt>Pt&&(Pt=Xt))});var Rt=st-yt*yt,Vt=yt*Rt-ft*ft,kt=(gt*yt-xt*ft)/Vt,Wt=(xt*Rt-gt*ft)/Vt,wt=-kt*yt,ct=function(It){return It=It-Mt,kt*It*It+Wt*It+wt+Nt},jt=y(Ot,Pt,ct);return jt.a=kt,jt.b=Wt-2*kt*Mt,jt.c=wt-Wt*Mt+kt*Mt*Mt+Nt,jt.predict=ct,jt.rSquared=S(lt,Q,k,bt,ct),jt}return nt.domain=function(lt){return arguments.length?(K=lt,nt):K},nt.x=function(lt){return arguments.length?(Q=lt,nt):Q},nt.y=function(lt){return arguments.length?(k=lt,nt):k},nt}function Y(){var Q=function(rt){return rt[0]},k=function(rt){return rt[1]},K=3,nt;function lt(ut){if(K===1){var rt=g().x(Q).y(k).domain(nt)(ut);return rt.coefficients=[rt.b,rt.a],delete rt.a,delete rt.b,rt}if(K===2){var ot=V().x(Q).y(k).domain(nt)(ut);return ot.coefficients=[ot.c,ot.b,ot.a],delete ot.a,delete ot.b,delete ot.c,ot}var dt=D(ut,Q,k),Mt=a(dt,4),Nt=Mt[0],ht=Mt[1],yt=Mt[2],ft=Mt[3],st=Nt.length,xt=[],gt=[],At=K+1,pt=0,_=0,$=nt?+nt[0]:Infinity,bt=nt?+nt[1]:-Infinity;E(ut,Q,k,function(ct,jt){++_,pt+=(jt-pt)/_,nt||(ct<$&&($=ct),ct>bt&&(bt=ct))});var it,Ot,Pt,Rt,Vt;for(it=0;it<At;++it){for(Pt=0,Rt=0;Pt<st;++Pt)Rt+=Math.pow(Nt[Pt],it)*ht[Pt];for(xt.push(Rt),Vt=new Float64Array(At),Ot=0;Ot<At;++Ot){for(Pt=0,Rt=0;Pt<st;++Pt)Rt+=Math.pow(Nt[Pt],it+Ot);Vt[Ot]=Rt}gt.push(Vt)}gt.push(xt);var kt=q(gt),Wt=function(jt){jt-=yt;var Xt=ft+kt[0]+kt[1]*jt+kt[2]*jt*jt;for(it=3;it<At;++it)Xt+=kt[it]*Math.pow(jt,it);return Xt},wt=y($,bt,Wt);return wt.coefficients=tt(At,kt,-yt,ft),wt.predict=Wt,wt.rSquared=S(ut,Q,k,pt,Wt),wt}return lt.domain=function(ut){return arguments.length?(nt=ut,lt):nt},lt.x=function(ut){return arguments.length?(Q=ut,lt):Q},lt.y=function(ut){return arguments.length?(k=ut,lt):k},lt.order=function(ut){return arguments.length?(K=ut,lt):K},lt}function tt(Q,k,K,nt){var lt=Array(Q),ut,rt,ot,dt;for(ut=0;ut<Q;++ut)lt[ut]=0;for(ut=Q-1;ut>=0;--ut)for(ot=k[ut],dt=1,lt[ut]+=ot,rt=1;rt<=ut;++rt)dt*=(ut+1-rt)/rt,lt[ut-rt]+=ot*Math.pow(K,rt)*dt;return lt[0]+=nt,lt}function q(Q){var k=Q.length-1,K=[],nt,lt,ut,rt,ot;for(nt=0;nt<k;++nt){for(rt=nt,lt=nt+1;lt<k;++lt)Math.abs(Q[nt][lt])>Math.abs(Q[nt][rt])&&(rt=lt);for(ut=nt;ut<k+1;++ut)ot=Q[ut][nt],Q[ut][nt]=Q[ut][rt],Q[ut][rt]=ot;for(lt=nt+1;lt<k;++lt)for(ut=k;ut>=nt;ut--)Q[ut][lt]-=Q[ut][nt]*Q[nt][lt]/Q[nt][nt]}for(lt=k-1;lt>=0;--lt){for(ot=0,ut=lt+1;ut<k;++ut)ot+=Q[ut][lt]*K[ut];K[lt]=(Q[k][lt]-ot)/Q[lt][lt]}return K}function H(){var Q=function(ut){return ut[0]},k=function(ut){return ut[1]},K;function nt(lt){var ut=0,rt=0,ot=0,dt=0,Mt=0,Nt=0,ht=K?+K[0]:Infinity,yt=K?+K[1]:-Infinity;E(lt,Q,k,function(_,$){var bt=Math.log(_),it=Math.log($);++ut,rt+=(bt-rt)/ut,ot+=(it-ot)/ut,dt+=(bt*it-dt)/ut,Mt+=(bt*bt-Mt)/ut,Nt+=($-Nt)/ut,K||(_<ht&&(ht=_),_>yt&&(yt=_))});var ft=C(rt,ot,dt,Mt),st=a(ft,2),xt=st[0],gt=st[1];xt=Math.exp(xt);var At=function($){return xt*Math.pow($,gt)},pt=y(ht,yt,At);return pt.a=xt,pt.b=gt,pt.predict=At,pt.rSquared=S(lt,Q,k,Nt,At),pt}return nt.domain=function(lt){return arguments.length?(K=lt,nt):K},nt.x=function(lt){return arguments.length?(Q=lt,nt):Q},nt.y=function(lt){return arguments.length?(k=lt,nt):k},nt}c.regressionExp=I,c.regressionLinear=g,c.regressionLoess=z,c.regressionLog=F,c.regressionPoly=Y,c.regressionPow=H,c.regressionQuad=V,Object.defineProperty(c,"__esModule",{value:!0})})},g1AO:function(Lt,A){Lt.exports=function(c){return!c||typeof c=="string"?!1:c instanceof Array||Array.isArray(c)||c.length>=0&&(c.splice instanceof Function||Object.getOwnPropertyDescriptor(c,c.length-1)&&c.constructor.name!=="String")}},g2X9:function(Lt,A,i){"use strict";var c=i("E5sV"),a=i("gPRb"),M=i("aOLp");function O(S){return Math.sqrt(S.value)}A.a=function(){var S=null,p=1,b=1,y=M.a;function C(I){return I.x=p/2,I.y=b/2,S?I.eachBefore(x(S)).eachAfter(D(y,.5)).eachBefore(E(1)):I.eachBefore(x(O)).eachAfter(D(M.a,1)).eachAfter(D(y,I.r/Math.min(p,b))).eachBefore(E(Math.min(p,b)/(2*I.r))),I}return C.radius=function(I){return arguments.length?(S=Object(a.a)(I),C):S},C.size=function(I){return arguments.length?(p=+I[0],b=+I[1],C):[p,b]},C.padding=function(I){return arguments.length?(y=typeof I=="function"?I:Object(M.b)(+I),C):y},C};function x(S){return function(p){p.children||(p.r=Math.max(0,+S(p)||0))}}function D(S,p){return function(b){if(y=b.children){var y,C,I=y.length,g=S(b)*p||0,R;if(g)for(C=0;C<I;++C)y[C].r+=g;if(R=Object(c.b)(y),g)for(C=0;C<I;++C)y[C].r-=g;b.r=R+g}}}function E(S){return function(p){var b=p.parent;p.r*=S,b&&(p.x=b.x+S*p.x,p.y=b.y+S*p.y)}}},g3RE:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=function(O,x){var D=O.nodes,E=O.edges,S=[],p={};if(!D)throw new Error("invalid nodes data!");return D&&D.forEach(function(b,y){p[b.id]=y;var C=[];S.push(C)}),E&&E.forEach(function(b){var y=b.source,C=b.target,I=p[y],g=p[C];!I&&I!==0||!g&&g!==0||(S[I][g]=1,x||(S[g][I]=1))}),S},a=c;A.default=a},"g5+9":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.resolve=void 0;var c=i("196R"),a=i("2+60"),M=i("AUMs"),O=i("Rph/"),x=i("wfm+"),D=function(p,b,y){try{return y()}catch(C){throw M.isStackOverflowExeption(C)?new Error(c.CIRCULAR_DEPENDENCY_IN_FACTORY(p,b.toString())):C}},E=function(p){return function(b){b.parentContext.setCurrentRequest(b);var y=b.bindings,C=b.childRequests,I=b.target&&b.target.isArray(),g=!b.parentRequest||!b.parentRequest.target||!b.target||!b.parentRequest.target.matchesArray(b.target.serviceIdentifier);if(I&&g)return C.map(function(L){var w=E(p);return w(L)});var R=null;if(b.target.isOptional()&&y.length===0)return;var U=y[0],W=U.scope===a.BindingScopeEnum.Singleton,z=U.scope===a.BindingScopeEnum.Request;if(W&&U.activated)return U.cache;if(z&&p!==null&&p.has(U.id))return p.get(U.id);if(U.type===a.BindingTypeEnum.ConstantValue)R=U.cache,U.activated=!0;else if(U.type===a.BindingTypeEnum.Function)R=U.cache,U.activated=!0;else if(U.type===a.BindingTypeEnum.Constructor)R=U.implementationType;else if(U.type===a.BindingTypeEnum.DynamicValue&&U.dynamicValue!==null)R=D("toDynamicValue",U.serviceIdentifier,function(){return U.dynamicValue(b.parentContext)});else if(U.type===a.BindingTypeEnum.Factory&&U.factory!==null)R=D("toFactory",U.serviceIdentifier,function(){return U.factory(b.parentContext)});else if(U.type===a.BindingTypeEnum.Provider&&U.provider!==null)R=D("toProvider",U.serviceIdentifier,function(){return U.provider(b.parentContext)});else if(U.type===a.BindingTypeEnum.Instance&&U.implementationType!==null)R=x.resolveInstance(U.implementationType,C,E(p));else{var B=O.getServiceIdentifierAsString(b.serviceIdentifier);throw new Error(c.INVALID_BINDING_TYPE+" "+B)}return typeof U.onActivation=="function"&&(R=U.onActivation(b.parentContext,R)),W&&(U.cache=R,U.activated=!0),z&&p!==null&&!p.has(U.id)&&p.set(U.id,R),R}};function S(p){var b=E(p.plan.rootRequest.requestScope);return b(p.plan.rootRequest)}A.resolve=S},gCNn:function(Lt,A,i){"use strict";i.r(A),i.d(A,"create",function(){return a}),i.d(A,"clone",function(){return M}),i.d(A,"length",function(){return O}),i.d(A,"fromValues",function(){return x}),i.d(A,"copy",function(){return D}),i.d(A,"set",function(){return E}),i.d(A,"add",function(){return S}),i.d(A,"subtract",function(){return p}),i.d(A,"multiply",function(){return b}),i.d(A,"divide",function(){return y}),i.d(A,"ceil",function(){return C}),i.d(A,"floor",function(){return I}),i.d(A,"min",function(){return g}),i.d(A,"max",function(){return R}),i.d(A,"round",function(){return U}),i.d(A,"scale",function(){return W}),i.d(A,"scaleAndAdd",function(){return z}),i.d(A,"distance",function(){return B}),i.d(A,"squaredDistance",function(){return L}),i.d(A,"squaredLength",function(){return w}),i.d(A,"negate",function(){return F}),i.d(A,"inverse",function(){return V}),i.d(A,"normalize",function(){return Y}),i.d(A,"dot",function(){return tt}),i.d(A,"cross",function(){return q}),i.d(A,"lerp",function(){return H}),i.d(A,"hermite",function(){return Q}),i.d(A,"bezier",function(){return k}),i.d(A,"random",function(){return K}),i.d(A,"transformMat4",function(){return nt}),i.d(A,"transformMat3",function(){return lt}),i.d(A,"transformQuat",function(){return ut}),i.d(A,"rotateX",function(){return rt}),i.d(A,"rotateY",function(){return ot}),i.d(A,"rotateZ",function(){return dt}),i.d(A,"angle",function(){return Mt}),i.d(A,"zero",function(){return Nt}),i.d(A,"str",function(){return ht}),i.d(A,"exactEquals",function(){return yt}),i.d(A,"equals",function(){return ft}),i.d(A,"sub",function(){return st}),i.d(A,"mul",function(){return xt}),i.d(A,"div",function(){return gt}),i.d(A,"dist",function(){return At}),i.d(A,"sqrDist",function(){return pt}),i.d(A,"len",function(){return _}),i.d(A,"sqrLen",function(){return $}),i.d(A,"forEach",function(){return bt});var c=i("TaHB");function a(){var it=new c.a(3);return c.a!=Float32Array&&(it[0]=0,it[1]=0,it[2]=0),it}function M(it){var Ot=new c.a(3);return Ot[0]=it[0],Ot[1]=it[1],Ot[2]=it[2],Ot}function O(it){var Ot=it[0],Pt=it[1],Rt=it[2];return Math.hypot(Ot,Pt,Rt)}function x(it,Ot,Pt){var Rt=new c.a(3);return Rt[0]=it,Rt[1]=Ot,Rt[2]=Pt,Rt}function D(it,Ot){return it[0]=Ot[0],it[1]=Ot[1],it[2]=Ot[2],it}function E(it,Ot,Pt,Rt){return it[0]=Ot,it[1]=Pt,it[2]=Rt,it}function S(it,Ot,Pt){return it[0]=Ot[0]+Pt[0],it[1]=Ot[1]+Pt[1],it[2]=Ot[2]+Pt[2],it}function p(it,Ot,Pt){return it[0]=Ot[0]-Pt[0],it[1]=Ot[1]-Pt[1],it[2]=Ot[2]-Pt[2],it}function b(it,Ot,Pt){return it[0]=Ot[0]*Pt[0],it[1]=Ot[1]*Pt[1],it[2]=Ot[2]*Pt[2],it}function y(it,Ot,Pt){return it[0]=Ot[0]/Pt[0],it[1]=Ot[1]/Pt[1],it[2]=Ot[2]/Pt[2],it}function C(it,Ot){return it[0]=Math.ceil(Ot[0]),it[1]=Math.ceil(Ot[1]),it[2]=Math.ceil(Ot[2]),it}function I(it,Ot){return it[0]=Math.floor(Ot[0]),it[1]=Math.floor(Ot[1]),it[2]=Math.floor(Ot[2]),it}function g(it,Ot,Pt){return it[0]=Math.min(Ot[0],Pt[0]),it[1]=Math.min(Ot[1],Pt[1]),it[2]=Math.min(Ot[2],Pt[2]),it}function R(it,Ot,Pt){return it[0]=Math.max(Ot[0],Pt[0]),it[1]=Math.max(Ot[1],Pt[1]),it[2]=Math.max(Ot[2],Pt[2]),it}function U(it,Ot){return it[0]=Math.round(Ot[0]),it[1]=Math.round(Ot[1]),it[2]=Math.round(Ot[2]),it}function W(it,Ot,Pt){return it[0]=Ot[0]*Pt,it[1]=Ot[1]*Pt,it[2]=Ot[2]*Pt,it}function z(it,Ot,Pt,Rt){return it[0]=Ot[0]+Pt[0]*Rt,it[1]=Ot[1]+Pt[1]*Rt,it[2]=Ot[2]+Pt[2]*Rt,it}function B(it,Ot){var Pt=Ot[0]-it[0],Rt=Ot[1]-it[1],Vt=Ot[2]-it[2];return Math.hypot(Pt,Rt,Vt)}function L(it,Ot){var Pt=Ot[0]-it[0],Rt=Ot[1]-it[1],Vt=Ot[2]-it[2];return Pt*Pt+Rt*Rt+Vt*Vt}function w(it){var Ot=it[0],Pt=it[1],Rt=it[2];return Ot*Ot+Pt*Pt+Rt*Rt}function F(it,Ot){return it[0]=-Ot[0],it[1]=-Ot[1],it[2]=-Ot[2],it}function V(it,Ot){return it[0]=1/Ot[0],it[1]=1/Ot[1],it[2]=1/Ot[2],it}function Y(it,Ot){var Pt=Ot[0],Rt=Ot[1],Vt=Ot[2],kt=Pt*Pt+Rt*Rt+Vt*Vt;return kt>0&&(kt=1/Math.sqrt(kt)),it[0]=Ot[0]*kt,it[1]=Ot[1]*kt,it[2]=Ot[2]*kt,it}function tt(it,Ot){return it[0]*Ot[0]+it[1]*Ot[1]+it[2]*Ot[2]}function q(it,Ot,Pt){var Rt=Ot[0],Vt=Ot[1],kt=Ot[2],Wt=Pt[0],wt=Pt[1],ct=Pt[2];return it[0]=Vt*ct-kt*wt,it[1]=kt*Wt-Rt*ct,it[2]=Rt*wt-Vt*Wt,it}function H(it,Ot,Pt,Rt){var Vt=Ot[0],kt=Ot[1],Wt=Ot[2];return it[0]=Vt+Rt*(Pt[0]-Vt),it[1]=kt+Rt*(Pt[1]-kt),it[2]=Wt+Rt*(Pt[2]-Wt),it}function Q(it,Ot,Pt,Rt,Vt,kt){var Wt=kt*kt,wt=Wt*(2*kt-3)+1,ct=Wt*(kt-2)+kt,jt=Wt*(kt-1),Xt=Wt*(3-2*kt);return it[0]=Ot[0]*wt+Pt[0]*ct+Rt[0]*jt+Vt[0]*Xt,it[1]=Ot[1]*wt+Pt[1]*ct+Rt[1]*jt+Vt[1]*Xt,it[2]=Ot[2]*wt+Pt[2]*ct+Rt[2]*jt+Vt[2]*Xt,it}function k(it,Ot,Pt,Rt,Vt,kt){var Wt=1-kt,wt=Wt*Wt,ct=kt*kt,jt=wt*Wt,Xt=3*kt*wt,It=3*ct*Wt,Ut=ct*kt;return it[0]=Ot[0]*jt+Pt[0]*Xt+Rt[0]*It+Vt[0]*Ut,it[1]=Ot[1]*jt+Pt[1]*Xt+Rt[1]*It+Vt[1]*Ut,it[2]=Ot[2]*jt+Pt[2]*Xt+Rt[2]*It+Vt[2]*Ut,it}function K(it,Ot){Ot=Ot||1;var Pt=c.c()*2*Math.PI,Rt=c.c()*2-1,Vt=Math.sqrt(1-Rt*Rt)*Ot;return it[0]=Math.cos(Pt)*Vt,it[1]=Math.sin(Pt)*Vt,it[2]=Rt*Ot,it}function nt(it,Ot,Pt){var Rt=Ot[0],Vt=Ot[1],kt=Ot[2],Wt=Pt[3]*Rt+Pt[7]*Vt+Pt[11]*kt+Pt[15];return Wt=Wt||1,it[0]=(Pt[0]*Rt+Pt[4]*Vt+Pt[8]*kt+Pt[12])/Wt,it[1]=(Pt[1]*Rt+Pt[5]*Vt+Pt[9]*kt+Pt[13])/Wt,it[2]=(Pt[2]*Rt+Pt[6]*Vt+Pt[10]*kt+Pt[14])/Wt,it}function lt(it,Ot,Pt){var Rt=Ot[0],Vt=Ot[1],kt=Ot[2];return it[0]=Rt*Pt[0]+Vt*Pt[3]+kt*Pt[6],it[1]=Rt*Pt[1]+Vt*Pt[4]+kt*Pt[7],it[2]=Rt*Pt[2]+Vt*Pt[5]+kt*Pt[8],it}function ut(it,Ot,Pt){var Rt=Pt[0],Vt=Pt[1],kt=Pt[2],Wt=Pt[3],wt=Ot[0],ct=Ot[1],jt=Ot[2],Xt=Vt*jt-kt*ct,It=kt*wt-Rt*jt,Ut=Rt*ct-Vt*wt,$t=Vt*Ut-kt*It,Ft=kt*Xt-Rt*Ut,Kt=Rt*It-Vt*Xt,ee=Wt*2;return Xt*=ee,It*=ee,Ut*=ee,$t*=2,Ft*=2,Kt*=2,it[0]=wt+Xt+$t,it[1]=ct+It+Ft,it[2]=jt+Ut+Kt,it}function rt(it,Ot,Pt,Rt){var Vt=[],kt=[];return Vt[0]=Ot[0]-Pt[0],Vt[1]=Ot[1]-Pt[1],Vt[2]=Ot[2]-Pt[2],kt[0]=Vt[0],kt[1]=Vt[1]*Math.cos(Rt)-Vt[2]*Math.sin(Rt),kt[2]=Vt[1]*Math.sin(Rt)+Vt[2]*Math.cos(Rt),it[0]=kt[0]+Pt[0],it[1]=kt[1]+Pt[1],it[2]=kt[2]+Pt[2],it}function ot(it,Ot,Pt,Rt){var Vt=[],kt=[];return Vt[0]=Ot[0]-Pt[0],Vt[1]=Ot[1]-Pt[1],Vt[2]=Ot[2]-Pt[2],kt[0]=Vt[2]*Math.sin(Rt)+Vt[0]*Math.cos(Rt),kt[1]=Vt[1],kt[2]=Vt[2]*Math.cos(Rt)-Vt[0]*Math.sin(Rt),it[0]=kt[0]+Pt[0],it[1]=kt[1]+Pt[1],it[2]=kt[2]+Pt[2],it}function dt(it,Ot,Pt,Rt){var Vt=[],kt=[];return Vt[0]=Ot[0]-Pt[0],Vt[1]=Ot[1]-Pt[1],Vt[2]=Ot[2]-Pt[2],kt[0]=Vt[0]*Math.cos(Rt)-Vt[1]*Math.sin(Rt),kt[1]=Vt[0]*Math.sin(Rt)+Vt[1]*Math.cos(Rt),kt[2]=Vt[2],it[0]=kt[0]+Pt[0],it[1]=kt[1]+Pt[1],it[2]=kt[2]+Pt[2],it}function Mt(it,Ot){var Pt=it[0],Rt=it[1],Vt=it[2],kt=Ot[0],Wt=Ot[1],wt=Ot[2],ct=Math.sqrt(Pt*Pt+Rt*Rt+Vt*Vt),jt=Math.sqrt(kt*kt+Wt*Wt+wt*wt),Xt=ct*jt,It=Xt&&tt(it,Ot)/Xt;return Math.acos(Math.min(Math.max(It,-1),1))}function Nt(it){return it[0]=0,it[1]=0,it[2]=0,it}function ht(it){return"vec3("+it[0]+", "+it[1]+", "+it[2]+")"}function yt(it,Ot){return it[0]===Ot[0]&&it[1]===Ot[1]&&it[2]===Ot[2]}function ft(it,Ot){var Pt=it[0],Rt=it[1],Vt=it[2],kt=Ot[0],Wt=Ot[1],wt=Ot[2];return Math.abs(Pt-kt)<=c.b*Math.max(1,Math.abs(Pt),Math.abs(kt))&&Math.abs(Rt-Wt)<=c.b*Math.max(1,Math.abs(Rt),Math.abs(Wt))&&Math.abs(Vt-wt)<=c.b*Math.max(1,Math.abs(Vt),Math.abs(wt))}var st=p,xt=b,gt=y,At=B,pt=L,_=O,$=w,bt=function(){var it=a();return function(Ot,Pt,Rt,Vt,kt,Wt){var wt,ct;for(Pt||(Pt=3),Rt||(Rt=0),Vt?ct=Math.min(Vt*Pt+Rt,Ot.length):ct=Ot.length,wt=Rt;wt<ct;wt+=Pt)it[0]=Ot[wt],it[1]=Ot[wt+1],it[2]=Ot[wt+2],kt(it,it,Wt),Ot[wt]=it[0],Ot[wt+1]=it[1],Ot[wt+2]=it[2];return Ot}}()},gCgN:function(Lt,A,i){var c=i("7LJS"),a=i("NA5Q"),M=i("WeNx");function O(x){return x&&x.length?c(x,M,a):void 0}Lt.exports=O},gPRb:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"b",function(){return a});function c(M){return M==null?null:a(M)}function a(M){if(typeof M!="function")throw new Error;return M}},gWxb:function(Lt,A,i){"use strict";var c=i("XSdR");Lt.exports=a;function a(M){var O={},x=c.filter(M.nodes(),function(b){return!M.children(b).length}),D=c.max(c.map(x,function(b){return M.node(b).rank})),E=c.map(c.range(D+1),function(){return[]});function S(b){if(!c.has(O,b)){O[b]=!0;var y=M.node(b);E[y.rank].push(b),c.forEach(M.successors(b),S)}}var p=c.sortBy(x,function(b){return M.node(b).rank});return c.forEach(p,S),E}},gnlQ:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});var c={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}},"gs6+":function(Lt,A,i){"use strict";var c=i("XSdR");Lt.exports=a;function a(O,x){for(var D=0,E=1;E<x.length;++E)D+=M(O,x[E-1],x[E]);return D}function M(O,x,D){for(var E=c.zipObject(D,c.map(D,function(I,g){return g})),S=c.flatten(c.map(x,function(I){return c.sortBy(c.map(O.outEdges(I),function(g){return{pos:E[g.w],weight:O.edge(g).weight}}),"pos")}),!0),p=1;p<D.length;)p<<=1;var b=2*p-1;p-=1;var y=c.map(new Array(b),function(){return 0}),C=0;return c.forEach(S.forEach(function(I){var g=I.pos+p;y[g]+=I.weight;for(var R=0;g>0;)g%2&&(R+=y[g+1]),g=g-1>>1,y[g]+=I.weight;C+=I.weight*R})),C}},h0Dq:function(Lt,A,i){"use strict";i.d(A,"a",function(){return k});var c=i("CMID"),a=i("8Mtd"),M=i("GgvZ"),O=i("Jze/"),x=i("s9g+"),D=i("Yz/u"),E={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(K){return K.id},source:function(K){return K.source},target:function(K){return K.target},sourceWeight:function(K){return K.value||1},targetWeight:function(K){return K.value||1},sortBy:null};function S(K,nt,lt){Object(a.forIn)(K,function(ut,rt){ut.inEdges=nt.filter(function(ot){return""+lt.target(ot)==""+rt}),ut.outEdges=nt.filter(function(ot){return""+lt.source(ot)==""+rt}),ut.edges=ut.outEdges.concat(ut.inEdges),ut.frequency=ut.edges.length,ut.value=0,ut.inEdges.forEach(function(ot){ut.value+=lt.targetWeight(ot)}),ut.outEdges.forEach(function(ot){ut.value+=lt.sourceWeight(ot)})})}function p(K,nt){var lt={weight:function(rt,ot){return ot.value-rt.value},frequency:function(rt,ot){return ot.frequency-rt.frequency},id:function(rt,ot){return(""+nt.id(rt)).localeCompare(""+nt.id(ot))}},ut=lt[nt.sortBy];!ut&&Object(a.isFunction)(nt.sortBy)&&(ut=nt.sortBy),ut&&K.sort(ut)}function b(K,nt){var lt=K.length;if(!lt)throw new TypeError("Invalid nodes: it's empty!");if(nt.weight){var ut=nt.nodePaddingRatio;if(ut<0||ut>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var rt=ut/(2*lt),ot=nt.nodeWidthRatio;if(ot<=0||ot>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var dt=0;K.forEach(function(Nt){dt+=Nt.value}),K.forEach(function(Nt){Nt.weight=Nt.value/dt,Nt.width=Nt.weight*(1-ut),Nt.height=ot}),K.forEach(function(Nt,ht){for(var yt=0,ft=ht-1;ft>=0;ft--)yt+=K[ft].width+2*rt;var st=Nt.minX=rt+yt,xt=Nt.maxX=Nt.minX+Nt.width,gt=Nt.minY=nt.y-ot/2,At=Nt.maxY=gt+ot;Nt.x=[st,xt,xt,st],Nt.y=[gt,gt,At,At]})}else{var Mt=1/lt;K.forEach(function(Nt,ht){Nt.x=(ht+.5)*Mt,Nt.y=nt.y})}return K}function y(K,nt,lt){if(lt.weight){var ut={};Object(a.forIn)(K,function(rt,ot){ut[ot]=rt.value}),nt.forEach(function(rt){var ot=lt.source(rt),dt=lt.target(rt),Mt=K[ot],Nt=K[dt];if(Mt&&Nt){var ht=ut[ot],yt=lt.sourceWeight(rt),ft=Mt.minX+(Mt.value-ht)/Mt.value*Mt.width,st=ft+yt/Mt.value*Mt.width;ut[ot]-=yt;var xt=ut[dt],gt=lt.targetWeight(rt),At=Nt.minX+(Nt.value-xt)/Nt.value*Nt.width,pt=At+gt/Nt.value*Nt.width;ut[dt]-=gt;var _=lt.y;rt.x=[ft,st,At,pt],rt.y=[_,_,_,_],rt.source=Mt,rt.target=Nt}})}else nt.forEach(function(rt){var ot=K[lt.source(rt)],dt=K[lt.target(rt)];ot&&dt&&(rt.x=[ot.x,dt.x],rt.y=[ot.y,dt.y],rt.source=ot,rt.target=dt)});return nt}function C(K){return Object(a.assign)({},E,K)}function I(K,nt){var lt=C(K),ut={},rt=nt.nodes,ot=nt.links;rt.forEach(function(Nt){var ht=lt.id(Nt);ut[ht]=Nt}),S(ut,ot,lt),p(rt,lt);var dt=b(rt,lt),Mt=y(ut,ot,lt);return{nodes:dt,links:Mt}}var g="x",R="y",U="name",W="source",z={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(K,nt){var lt=(K[0]+K[1])/2,ut=lt>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:ut,content:nt}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(K){return!Object(a.get)(K,[0,"data","isNode"])},formatter:function(K){var nt=K.source,lt=K.target,ut=K.value;return{name:nt+" -> "+lt,value:ut}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function B(K){var nt=K.options,lt=nt.data,ut=nt.sourceField,rt=nt.targetField,ot=nt.weightField,dt=nt.nodePaddingRatio,Mt=nt.nodeWidthRatio,Nt=nt.rawFields,ht=Nt===void 0?[]:Nt,yt=Object(O.x)(lt,ut,rt,ot),ft=I({weight:!0,nodePaddingRatio:dt,nodeWidthRatio:Mt},yt),st=ft.nodes,xt=ft.links,gt=st.map(function(pt){return Object(c.__assign)(Object(c.__assign)({},Object(O.s)(pt,Object(c.__spreadArrays)(["id","x","y","name"],ht))),{isNode:!0})}),At=xt.map(function(pt){return Object(c.__assign)(Object(c.__assign)({source:pt.source.name,target:pt.target.name,name:pt.source.name||pt.target.name},Object(O.s)(pt,Object(c.__spreadArrays)(["x","y","value"],ht))),{isNode:!1})});return Object(c.__assign)(Object(c.__assign)({},K),{ext:Object(c.__assign)(Object(c.__assign)({},K.ext),{chordData:{nodesData:gt,edgesData:At}})})}function L(K){var nt,lt=K.chart;return lt.scale((nt={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},nt[U]={sync:"color"},nt[W]={sync:"color"},nt)),K}function w(K){var nt=K.chart;return nt.axis(!1),K}function F(K){var nt=K.chart;return nt.legend(!1),K}function V(K){var nt=K.chart,lt=K.options,ut=lt.tooltip;return nt.tooltip(ut),K}function Y(K){var nt=K.chart;return nt.coordinate("polar").reflect("y"),K}function tt(K){var nt=K.chart,lt=K.options,ut=K.ext.chordData.nodesData,rt=lt.nodeStyle,ot=lt.label,dt=lt.tooltip,Mt=nt.createView();return Mt.data(ut),Object(D.f)({chart:Mt,options:{xField:g,yField:R,seriesField:U,polygon:{style:rt},label:ot,tooltip:dt}}),K}function q(K){var nt=K.chart,lt=K.options,ut=K.ext.chordData.edgesData,rt=lt.edgeStyle,ot=lt.tooltip,dt=nt.createView();dt.data(ut);var Mt={xField:g,yField:R,seriesField:W,edge:{style:rt,shape:"arc"},tooltip:ot};return Object(D.b)({chart:dt,options:Mt}),K}function H(K){var nt=K.chart,lt=K.options,ut=lt.animation;return typeof ut=="boolean"?nt.animate(ut):nt.animate(!0),Object(a.each)(Object(O.i)(nt),function(rt){rt.animate(ut)}),K}function Q(K){return Object(O.f)(x.j,B,Y,L,w,F,V,q,tt,x.c,x.i,H)(K)}var k=function(K){Object(c.__extends)(nt,K);function nt(){var lt=K!==null&&K.apply(this,arguments)||this;return lt.type="chord",lt}return nt.getDefaultOptions=function(){return z},nt.prototype.setState=function(lt,ut,rt){rt===void 0&&(rt=!0);var ot=Object(O.h)(this.chart);Object(a.each)(ot,function(dt){ut(dt.getData())&&dt.setState(lt,rt)})},nt.prototype.getStates=function(){var lt=Object(O.h)(this.chart),ut=[];return Object(a.each)(lt,function(rt){var ot=rt.getData(),dt=rt.getStates();Object(a.each)(dt,function(Mt){ut.push({data:ot,state:Mt,geometry:rt.geometry,element:rt})})}),ut},nt.prototype.getDefaultOptions=function(){return nt.getDefaultOptions()},nt.prototype.getSchemaAdaptor=function(){return Q},nt}(M.b)},hMip:function(Lt,A,i){"use strict";i.d(A,"a",function(){return x});var c=i("bsNZ");function a(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function M(D,E){return a(D)*a(E)?(D[0]*E[0]+D[1]*E[1])/(a(D)*a(E)):1}function O(D,E){return(D[0]*E[1]<D[1]*E[0]?-1:1)*Math.acos(M(D,E))}function x(D,E){var S=E[1],p=E[2],b=Object(c.m)(Object(c.o)(E[3]),Math.PI*2),y=E[4],C=E[5],I=D[0],g=D[1],R=E[6],U=E[7],W=Math.cos(b)*(I-R)/2+Math.sin(b)*(g-U)/2,z=-1*Math.sin(b)*(I-R)/2+Math.cos(b)*(g-U)/2,B=W*W/(S*S)+z*z/(p*p);B>1&&(S*=Math.sqrt(B),p*=Math.sqrt(B));var L=S*S*(z*z)+p*p*(W*W),w=L?Math.sqrt((S*S*(p*p)-L)/L):1;y===C&&(w*=-1),isNaN(w)&&(w=0);var F=p?w*S*z/p:0,V=S?w*-p*W/S:0,Y=(I+R)/2+Math.cos(b)*F-Math.sin(b)*V,tt=(g+U)/2+Math.sin(b)*F+Math.cos(b)*V,q=[(W-F)/S,(z-V)/p],H=[(-1*W-F)/S,(-1*z-V)/p],Q=O([1,0],q),k=O(q,H);return M(q,H)<=-1&&(k=Math.PI),M(q,H)>=1&&(k=0),C===0&&k>0&&(k=k-2*Math.PI),C===1&&k<0&&(k=k+2*Math.PI),{cx:Y,cy:tt,rx:Object(c.j)(D,[R,U])?0:S,ry:Object(c.j)(D,[R,U])?0:p,startAngle:Q,endAngle:Q+k,xRotation:b,arcFlag:y,sweepFlag:C}}},hQih:function(Lt,A,i){"use strict";i.d(A,"a",function(){return S});var c=i("dNsf"),a=i("CMID"),M=i("8Mtd"),O=i("FU1h"),x=function(p){Object(a.__extends)(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getActiveElements=function(){var y=c.Util.getDelegationObject(this.context);if(y){var C=this.context.view,I=y.component,g=y.item,R=I.get("field");if(R){var U=C.geometries[0].elements;return U.filter(function(W){return W.getModel().data[R]===g.value})}}return[]},b.prototype.getActiveElementLabels=function(){var y=this.context.view,C=this.getActiveElements(),I=y.geometries[0].labelsContainer.getChildren();return I.filter(function(g){return C.find(function(R){return Object(M.isEqual)(R.getData(),g.get("data"))})})},b.prototype.transfrom=function(y){y===void 0&&(y=7.5);var C=this.getActiveElements(),I=this.getActiveElementLabels();C.forEach(function(g,R){var U=I[R],W=g.geometry.coordinate;if(W.isPolar&&W.isTransposed){var z=c.Util.getAngle(g.getModel(),W),B=z.startAngle,L=z.endAngle,w=(B+L)/2,F=y,V=F*Math.cos(w),Y=F*Math.sin(w);g.shape.setMatrix(Object(O.a)([["t",V,Y]])),U.setMatrix(Object(O.a)([["t",V,Y]]))}})},b.prototype.active=function(){this.transfrom()},b.prototype.reset=function(){this.transfrom(0)},b}(c.Action),D=i("c6sP"),E=function(p){Object(a.__extends)(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getAnnotations=function(y){var C=y||this.context.view;return C.getController("annotation").option},b.prototype.getInitialAnnotation=function(){return this.initialAnnotation},b.prototype.init=function(){var y=this,C=this.context.view;C.removeInteraction("tooltip"),C.on("afterchangesize",function(){var I=y.getAnnotations(C);y.initialAnnotation=I})},b.prototype.change=function(y){var C=this.context,I=C.view,g=C.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var R=Object(M.get)(g,["data","data"]);if(g.type.match("legend-item")){var U=c.Util.getDelegationObject(this.context),W=I.getGroupedFields()[0];if(U&&W){var z=U.item;R=I.getData().find(function(w){return w[W]===z.value})}}if(R){var B=Object(M.get)(y,"annotations",[]),L=Object(M.get)(y,"statistic",{});I.getController("annotation").clear(!0),Object(M.each)(B,function(w){typeof w=="object"&&I.annotation()[w.type](w)}),Object(D.b)(I,{statistic:L,plotType:"pie"},R),I.render(!0)}},b.prototype.reset=function(){var y=this.context.view,C=y.getController("annotation");C.clear(!0);var I=this.getInitialAnnotation();Object(M.each)(I,function(g){y.annotation()[g.type](g)}),y.render(!0)},b}(c.Action),S="pie-statistic";Object(c.registerAction)(S,E),Object(c.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(c.registerAction)("pie-legend",x),Object(c.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},hQli:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.removeSensor=A.getSensor=void 0;var c=O(i("NNdr")),a=i("A2sQ"),M=i("MPYE");function O(S){return S&&S.__esModule?S:{default:S}}var x={},D=function(p){var b=p.getAttribute(M.SizeSensorId);if(b&&x[b])return x[b];var y=(0,c.default)();p.setAttribute(M.SizeSensorId,y);var C=(0,a.createSensor)(p);return x[y]=C,C};A.getSensor=D;var E=function(p){var b=p.element.getAttribute(M.SizeSensorId);p.element.removeAttribute(M.SizeSensorId),p.destroy(),b&&x[b]&&delete x[b]};A.removeSensor=E},hfHj:function(Lt,A,i){"use strict";i.d(A,"a",function(){return p});var c=i("CMID"),a=i("GgvZ"),M=i("DhAw"),O=i("Jze/"),x=Object(O.c)({},a.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1}),D=i("dNsf"),E=i("8Mtd"),S=function(b){Object(c.__extends)(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.active=function(){var C=this.getView(),I=this.context.event;if(I.data){var g=I.data.items,R=C.geometries.filter(function(U){return U.type==="point"});Object(E.each)(R,function(U){Object(E.each)(U.elements,function(W){var z=Object(E.findIndex)(g,function(B){return B.data===W.data})!==-1;W.setState("active",z)})})}},y.prototype.getView=function(){return this.context.view},y}(D.InteractionAction);Object(D.registerAction)("marker-active",S),Object(D.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var p=function(b){Object(c.__extends)(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.type="line",C}return y.getDefaultOptions=function(){return x},y.prototype.changeData=function(C){this.updateOption({data:C});var I=this,g=I.chart,R=I.options;Object(M.d)({chart:g,options:R}),this.chart.changeData(C)},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.getSchemaAdaptor=function(){return M.a},y}(a.b)},hppO:function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("43gi").Graph;Lt.exports={addDummyNode:M,simplify:O,asNonCompoundGraph:x,successorWeights:D,predecessorWeights:E,intersectRect:S,buildLayerMatrix:p,normalizeRanks:b,removeEmptyRanks:y,addBorderNode:C,maxRank:I,partition:g,time:R,notime:U};function M(W,z,B,L){var w;do w=c.uniqueId(L);while(W.hasNode(w));return B.dummy=z,W.setNode(w,B),w}function O(W){var z=new a().setGraph(W.graph());return c.forEach(W.nodes(),function(B){z.setNode(B,W.node(B))}),c.forEach(W.edges(),function(B){var L=z.edge(B.v,B.w)||{weight:0,minlen:1},w=W.edge(B);z.setEdge(B.v,B.w,{weight:L.weight+w.weight,minlen:Math.max(L.minlen,w.minlen)})}),z}function x(W){var z=new a({multigraph:W.isMultigraph()}).setGraph(W.graph());return c.forEach(W.nodes(),function(B){W.children(B).length||z.setNode(B,W.node(B))}),c.forEach(W.edges(),function(B){z.setEdge(B,W.edge(B))}),z}function D(W){var z=c.map(W.nodes(),function(B){var L={};return c.forEach(W.outEdges(B),function(w){L[w.w]=(L[w.w]||0)+W.edge(w).weight}),L});return c.zipObject(W.nodes(),z)}function E(W){var z=c.map(W.nodes(),function(B){var L={};return c.forEach(W.inEdges(B),function(w){L[w.v]=(L[w.v]||0)+W.edge(w).weight}),L});return c.zipObject(W.nodes(),z)}function S(W,z){var B=W.x,L=W.y,w=z.x-B,F=z.y-L,V=W.width/2,Y=W.height/2;if(!w&&!F)throw new Error("Not possible to find intersection inside of the rectangle");var tt,q;return Math.abs(F)*V>Math.abs(w)*Y?(F<0&&(Y=-Y),tt=Y*w/F,q=Y):(w<0&&(V=-V),tt=V,q=V*F/w),{x:B+tt,y:L+q}}function p(W){var z=c.map(c.range(I(W)+1),function(){return[]});return c.forEach(W.nodes(),function(B){var L=W.node(B),w=L.rank;c.isUndefined(w)||(z[w][L.order]=B)}),z}function b(W){var z=c.min(c.map(W.nodes(),function(B){return W.node(B).rank}));c.forEach(W.nodes(),function(B){var L=W.node(B);c.has(L,"rank")&&(L.rank-=z)})}function y(W){var z=c.min(c.map(W.nodes(),function(F){return W.node(F).rank})),B=[];c.forEach(W.nodes(),function(F){var V=W.node(F).rank-z;B[V]||(B[V]=[]),B[V].push(F)});var L=0,w=W.graph().nodeRankFactor;c.forEach(B,function(F,V){c.isUndefined(F)&&V%w!=0?--L:L&&c.forEach(F,function(Y){W.node(Y).rank+=L})})}function C(W,z,B,L){var w={width:0,height:0};return arguments.length>=4&&(w.rank=B,w.order=L),M(W,"border",w,z)}function I(W){return c.max(c.map(W.nodes(),function(z){var B=W.node(z).rank;if(!c.isUndefined(B))return B}))}function g(W,z){var B={lhs:[],rhs:[]};return c.forEach(W,function(L){z(L)?B.lhs.push(L):B.rhs.push(L)}),B}function R(W,z){var B=c.now();try{return z()}finally{console.log(W+" time: "+(c.now()-B)+"ms")}}function U(W,z){return z()}},i1Q6:function(Lt,A){function i(c,a){return c>a}Lt.exports=i},i2Ku:function(Lt,A,i){"use strict";i.d(A,"a",function(){return bt});var c=i("CMID"),a=i("8Mtd"),M=i("GgvZ"),O=i("Jze/"),x=i("s9g+"),D=i("Yz/u"),E="x",S="y",p="name",b="nodes",y="edges",C=i("3coh");function I(it){return it.target.depth}function g(it){return it.depth}function R(it,Ot){return Ot-1-it.height}function U(it,Ot){return it.sourceLinks.length?it.depth:Ot-1}function W(it){return it.targetLinks.length?it.depth:it.sourceLinks.length?Object(a.minBy)(it.sourceLinks,I)-1:0}function z(it){return function(){return it}}function B(it,Ot){for(var Pt=0,Rt=0;Rt<it.length;Rt++)Pt+=Ot(it[Rt]);return Pt}function L(it,Ot){for(var Pt=-Infinity,Rt=0;Rt<it.length;Rt++)Pt=Math.max(Ot(it[Rt]),Pt);return Pt}function w(it,Ot){for(var Pt=Infinity,Rt=0;Rt<it.length;Rt++)Pt=Math.min(Ot(it[Rt]),Pt);return Pt}function F(it,Ot){return Y(it.source,Ot.source)||it.index-Ot.index}function V(it,Ot){return Y(it.target,Ot.target)||it.index-Ot.index}function Y(it,Ot){return it.y0-Ot.y0}function tt(it){return it.value}function q(it){return it.index}function H(it){return it.nodes}function Q(it){return it.links}function k(it,Ot){var Pt=it.get(Ot);if(!Pt)throw new Error("missing: "+Ot);return Pt}function K(it){for(var Ot=it.nodes,Pt=0,Rt=Ot;Pt<Rt.length;Pt++){for(var Vt=Rt[Pt],kt=Vt.y0,Wt=kt,wt=0,ct=Vt.sourceLinks;wt<ct.length;wt++){var jt=ct[wt];jt.y0=kt+jt.width/2,kt+=jt.width}for(var Xt=0,It=Vt.targetLinks;Xt<It.length;Xt++){var jt=It[Xt];jt.y1=Wt+jt.width/2,Wt+=jt.width}}}function nt(){var it=0,Ot=0,Pt=1,Rt=1,Vt=24,kt=8,Wt,wt=q,ct=U,jt,Xt,It,Ut=H,$t=Q,Ft=6;function Kt(ze){var Or={nodes:Ut(ze),links:$t(ze)};return ee(Or),ce(Or),Se(Or),Ce(Or),dr(Or),K(Or),Or}Kt.update=function(ze){return K(ze),ze},Kt.nodeId=function(ze){return arguments.length?(wt=typeof ze=="function"?ze:z(ze),Kt):wt},Kt.nodeAlign=function(ze){return arguments.length?(ct=typeof ze=="function"?ze:z(ze),Kt):ct},Kt.nodeDepth=function(ze){return arguments.length?(jt=(typeof ze=="function",ze),Kt):jt},Kt.nodeSort=function(ze){return arguments.length?(Xt=ze,Kt):Xt},Kt.nodeWidth=function(ze){return arguments.length?(Vt=+ze,Kt):Vt},Kt.nodePadding=function(ze){return arguments.length?(kt=Wt=+ze,Kt):kt},Kt.nodes=function(ze){return arguments.length?(Ut=typeof ze=="function"?ze:z(ze),Kt):Ut},Kt.links=function(ze){return arguments.length?($t=typeof ze=="function"?ze:z(ze),Kt):$t},Kt.linkSort=function(ze){return arguments.length?(It=ze,Kt):It},Kt.size=function(ze){return arguments.length?(it=Ot=0,Pt=+ze[0],Rt=+ze[1],Kt):[Pt-it,Rt-Ot]},Kt.extent=function(ze){return arguments.length?(it=+ze[0][0],Pt=+ze[1][0],Ot=+ze[0][1],Rt=+ze[1][1],Kt):[[it,Ot],[Pt,Rt]]},Kt.iterations=function(ze){return arguments.length?(Ft=+ze,Kt):Ft};function ee(ze){var Or=ze.nodes,Nr=ze.links;Or.forEach(function(kn,ei){kn.index=ei,kn.sourceLinks=[],kn.targetLinks=[]});var $r=new Map(Or.map(function(kn){return[wt(kn),kn]}));if(Nr.forEach(function(kn,ei){kn.index=ei;var In=kn.source,ai=kn.target;typeof In!="object"&&(In=kn.source=k($r,In)),typeof ai!="object"&&(ai=kn.target=k($r,ai)),In.sourceLinks.push(kn),ai.targetLinks.push(kn)}),It!=null)for(var Kr=0,Un=Or;Kr<Un.length;Kr++){var ti=Un[Kr],wn=ti.sourceLinks,Bn=ti.targetLinks;wn.sort(It),Bn.sort(It)}}function ce(ze){for(var Or=ze.nodes,Nr=0,$r=Or;Nr<$r.length;Nr++){var Kr=$r[Nr];Kr.value=Kr.fixedValue===void 0?Math.max(B(Kr.sourceLinks,tt),B(Kr.targetLinks,tt)):Kr.fixedValue}}function Se(ze){for(var Or=ze.nodes,Nr=Or.length,$r=new Set(Or),Kr=new Set,Un=0;$r.size;){if($r.forEach(function(kn){kn.depth=Un;for(var ei=0,In=kn.sourceLinks;ei<In.length;ei++){var ai=In[ei].target;Kr.add(ai)}}),++Un>Nr)throw new Error("circular link");$r=Kr,Kr=new Set}if(jt)for(var ti=Math.max(L(Or,function(kn){return kn.depth})+1,0),wn=void 0,Bn=0;Bn<Or.length;Bn++)wn=Or[Bn],wn.depth=jt.call(null,wn,ti)}function Ce(ze){for(var Or=ze.nodes,Nr=Or.length,$r=new Set(Or),Kr=new Set,Un=0;$r.size;){if($r.forEach(function(ti){ti.height=Un;for(var wn=0,Bn=ti.targetLinks;wn<Bn.length;wn++){var kn=Bn[wn].source;Kr.add(kn)}}),++Un>Nr)throw new Error("circular link");$r=Kr,Kr=new Set}}function Ge(ze){for(var Or=ze.nodes,Nr=Math.max(L(Or,function(ai){return ai.depth})+1,0),$r=(Pt-it-Vt)/(Nr-1),Kr=new Array(Nr).fill(0).map(function(){return[]}),Un=0,ti=Or;Un<ti.length;Un++){var wn=ti[Un],Bn=Math.max(0,Math.min(Nr-1,Math.floor(ct.call(null,wn,Nr))));wn.layer=Bn,wn.x0=it+Bn*$r,wn.x1=wn.x0+Vt,Kr[Bn]?Kr[Bn].push(wn):Kr[Bn]=[wn]}if(Xt)for(var kn=0,ei=Kr;kn<ei.length;kn++){var In=ei[kn];In.sort(Xt)}return Kr}function hr(ze){for(var Or=w(ze,function(ga){return(Rt-Ot-(ga.length-1)*Wt)/B(ga,tt)}),Nr=0,$r=ze;Nr<$r.length;Nr++){for(var Kr=$r[Nr],Un=Ot,ti=0,wn=Kr;ti<wn.length;ti++){var Bn=wn[ti];Bn.y0=Un,Bn.y1=Un+Bn.value*Or,Un=Bn.y1+Wt;for(var kn=0,ei=Bn.sourceLinks;kn<ei.length;kn++){var In=ei[kn];In.width=In.value*Or}}Un=(Rt-Un+Wt)/(Kr.length+1);for(var ai=0;ai<Kr.length;++ai){var Bn=Kr[ai];Bn.y0+=Un*(ai+1),Bn.y1+=Un*(ai+1)}qr(Kr)}}function dr(ze){var Or=Ge(ze);Wt=Math.min(kt,(Rt-Ot)/(L(Or,function(Un){return Un.length})-1)),hr(Or);for(var Nr=0;Nr<Ft;++Nr){var $r=Math.pow(.99,Nr),Kr=Math.max(1-$r,(Nr+1)/Ft);qe(Or,$r,Kr),ar(Or,$r,Kr)}}function ar(ze,Or,Nr){for(var $r=1,Kr=ze.length;$r<Kr;++$r){for(var Un=ze[$r],ti=0,wn=Un;ti<wn.length;ti++){for(var Bn=wn[ti],kn=0,ei=0,In=0,ai=Bn.targetLinks;In<ai.length;In++){var ga=ai[In],Da=ga.source,Sa=ga.value,Gi=Sa*(Bn.layer-Da.layer);kn+=Mr(Da,Bn)*Gi,ei+=Gi}if(ei>0){var Ma=(kn/ei-Bn.y0)*Or;Bn.y0+=Ma,Bn.y1+=Ma,ir(Bn)}}Xt===void 0&&Un.sort(Y),Un.length&&Xe(Un,Nr)}}function qe(ze,Or,Nr){for(var $r=ze.length,Kr=$r-2;Kr>=0;--Kr){for(var Un=ze[Kr],ti=0,wn=Un;ti<wn.length;ti++){for(var Bn=wn[ti],kn=0,ei=0,In=0,ai=Bn.sourceLinks;In<ai.length;In++){var ga=ai[In],Da=ga.target,Sa=ga.value,Gi=Sa*(Da.layer-Bn.layer);kn+=Br(Bn,Da)*Gi,ei+=Gi}if(ei>0){var Ma=(kn/ei-Bn.y0)*Or;Bn.y0+=Ma,Bn.y1+=Ma,ir(Bn)}}Xt===void 0&&Un.sort(Y),Un.length&&Xe(Un,Nr)}}function Xe(ze,Or){var Nr=ze.length>>1,$r=ze[Nr];zr(ze,$r.y0-Wt,Nr-1,Or),ur(ze,$r.y1+Wt,Nr+1,Or),zr(ze,Rt,ze.length-1,Or),ur(ze,Ot,0,Or)}function ur(ze,Or,Nr,$r){for(;Nr<ze.length;++Nr){var Kr=ze[Nr],Un=(Or-Kr.y0)*$r;Un>1e-6&&(Kr.y0+=Un,Kr.y1+=Un),Or=Kr.y1+Wt}}function zr(ze,Or,Nr,$r){for(;Nr>=0;--Nr){var Kr=ze[Nr],Un=(Kr.y1-Or)*$r;Un>1e-6&&(Kr.y0-=Un,Kr.y1-=Un),Or=Kr.y0-Wt}}function ir(ze){var Or=ze.sourceLinks,Nr=ze.targetLinks;if(It===void 0){for(var $r=0,Kr=Nr;$r<Kr.length;$r++){var Un=Kr[$r].source.sourceLinks;Un.sort(V)}for(var ti=0,wn=Or;ti<wn.length;ti++){var Bn=wn[ti].target.targetLinks;Bn.sort(F)}}}function qr(ze){if(It===void 0)for(var Or=0,Nr=ze;Or<Nr.length;Or++){var $r=Nr[Or],Kr=$r.sourceLinks,Un=$r.targetLinks;Kr.sort(V),Un.sort(F)}}function Mr(ze,Or){for(var Nr=ze.y0-(ze.sourceLinks.length-1)*Wt/2,$r=0,Kr=ze.sourceLinks;$r<Kr.length;$r++){var Un=Kr[$r],ti=Un.target,wn=Un.width;if(ti===Or)break;Nr+=wn+Wt}for(var Bn=0,kn=Or.targetLinks;Bn<kn.length;Bn++){var ei=kn[Bn],ti=ei.source,wn=ei.width;if(ti===ze)break;Nr-=wn}return Nr}function Br(ze,Or){for(var Nr=Or.y0-(Or.targetLinks.length-1)*Wt/2,$r=0,Kr=Or.targetLinks;$r<Kr.length;$r++){var Un=Kr[$r],ti=Un.source,wn=Un.width;if(ti===ze)break;Nr+=wn+Wt}for(var Bn=0,kn=ze.sourceLinks;Bn<kn.length;Bn++){var ei=kn[Bn],ti=ei.target,wn=ei.width;if(ti===Or)break;Nr-=wn}return Nr}return Kt}var lt={left:g,right:R,center:W,justify:U},ut={nodeId:function(it){return it.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function rt(it){var Ot=Object(a.isString)(it)?lt[it]:Object(a.isFunction)(it)?it:null;return Ot||U}function ot(it){return Object(a.assign)({},ut,it)}function dt(it,Ot){var Pt=ot(it),Rt=Pt.nodeId,Vt=Pt.nodeSort,kt=Pt.nodeAlign,Wt=Pt.nodeWidth,wt=Pt.nodePadding,ct=Pt.nodeDepth,jt=nt().nodeSort(Vt).nodeWidth(Wt).nodePadding(wt).nodeDepth(ct).nodeAlign(rt(kt)).extent([[0,0],[1,1]]).nodeId(Rt),Xt=jt(Ot);return Xt.nodes.forEach(function(It){var Ut=It.x0,$t=It.x1,Ft=It.y0,Kt=It.y1;It.x=[Ut,$t,$t,Ut],It.y=[Ft,Ft,Kt,Kt]}),Xt.links.forEach(function(It){var Ut=It.source,$t=It.target,Ft=Ut.x1,Kt=$t.x0;It.x=[Ft,Ft,Kt,Kt];var ee=It.width/2;It.y=[It.y0+ee,It.y0-ee,It.y1+ee,It.y1-ee]}),Xt}function Mt(it,Ot,Pt){var Rt=[];return it.forEach(function(Vt){var kt=Vt[Ot],Wt=Vt[Pt];Rt.includes(kt)||Rt.push(kt),Rt.includes(Wt)||Rt.push(Wt)}),Rt}function Nt(it,Ot,Pt,Rt){var Vt={};return Ot.forEach(function(kt){Vt[kt]={},Ot.forEach(function(Wt){Vt[kt][Wt]=0})}),it.forEach(function(kt){Vt[kt[Pt]][kt[Rt]]=1}),Vt}function ht(it,Ot,Pt){if(!Object(a.isArray)(it))return[];var Rt=[],Vt=Mt(it,Ot,Pt),kt=Nt(it,Vt,Ot,Pt),Wt={};Vt.forEach(function(ct){Wt[ct]=0});function wt(ct){Wt[ct]=1,Vt.forEach(function(jt){if(kt[ct][jt]!=0)if(Wt[jt]==1)Rt.push(ct+"_"+jt);else{if(Wt[jt]==-1)return;wt(jt)}}),Wt[ct]=-1}return Vt.forEach(function(ct){Wt[ct]!=-1&&wt(ct)}),Rt.length!==0&&console.warn("sankey data contains circle, "+Rt.length+" records removed.",Rt),it.filter(function(ct){return Rt.findIndex(function(jt){return jt===ct[Ot]+"_"+ct[Pt]})<0})}function yt(it,Ot,Pt){return Object(O.o)(it)?it/Pt:Ot}function ft(it,Ot,Pt){return Object(O.o)(it)?it/Pt:Ot}function st(it,Ot,Pt){var Rt=it.data,Vt=it.sourceField,kt=it.targetField,Wt=it.weightField,wt=it.nodeAlign,ct=it.nodeSort,jt=it.nodePadding,Xt=it.nodePaddingRatio,It=it.nodeWidth,Ut=it.nodeWidthRatio,$t=it.nodeDepth,Ft=it.rawFields,Kt=Ft===void 0?[]:Ft,ee=Object(C.c)(ht(Rt,Vt,kt),Vt,kt,Wt,Kt),ce=dt({nodeAlign:wt,nodePadding:ft(jt,Xt,Pt),nodeWidth:yt(It,Ut,Ot),nodeSort:ct,nodeDepth:$t},ee),Se=ce.nodes,Ce=ce.links;return{nodes:Se.map(function(Ge){return Object(c.__assign)(Object(c.__assign)({},Object(O.s)(Ge,Object(c.__spreadArrays)(["x","y","name"],Kt))),{isNode:!0})}),edges:Ce.map(function(Ge){return Object(c.__assign)(Object(c.__assign)({source:Ge.source.name,target:Ge.target.name,name:Ge.source.name||Ge.target.name},Object(O.s)(Ge,Object(c.__spreadArrays)(["x","y","value"],Kt))),{isNode:!1})})}}function xt(it){var Ot=it.chart,Pt=it.options,Rt=Pt.color,Vt=Pt.nodeStyle,kt=Pt.edgeStyle,Wt=Pt.label,wt=Pt.tooltip;Ot.legend(!1),Ot.tooltip(wt),Ot.axis(!1),Ot.coordinate().reflect("y");var ct=st(Pt,Ot.width,Ot.height),jt=ct.nodes,Xt=ct.edges,It=Ot.createView({id:y});It.data(Xt),Object(D.b)({chart:It,options:{xField:E,yField:S,seriesField:p,edge:{color:Rt,style:kt,shape:"arc"},tooltip:wt,state:{active:{style:{opacity:.8,lineWidth:0}}}}});var Ut=Ot.createView({id:b});return Ut.data(jt),Object(D.f)({chart:Ut,options:{xField:E,yField:S,seriesField:p,polygon:{color:Rt,style:Vt},label:Wt,tooltip:wt}}),Ot.interaction("element-active"),Ot.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),it}function gt(it){var Ot=it.chart,Pt=it.options,Rt=Pt.animation;typeof Rt=="boolean"?Ot.animate(Rt):Ot.animate(!0);var Vt=Object(c.__spreadArrays)(Ot.views[0].geometries,Ot.views[1].geometries);return Vt.forEach(function(kt){kt.animate(Rt)}),it}function At(it){var Ot=it.chart,Pt=it.options,Rt=Pt.nodeDraggable,Vt="sankey-node-draggable";return Rt?Ot.interaction(Vt):Ot.removeInteraction(Vt),it}function pt(it){return Object(O.f)(xt,x.c,At,gt,x.j)(it)}var _=i("dNsf"),$=function(it){Object(c.__extends)(Ot,it);function Ot(){var Pt=it!==null&&it.apply(this,arguments)||this;return Pt.isDragging=!1,Pt}return Ot.prototype.isNodeElement=function(){var Pt=Object(a.get)(this.context,"event.target");if(Pt){var Rt=Pt.get("element");return Rt&&Rt.getModel().data.isNode}return!1},Ot.prototype.getNodeView=function(){return Object(O.e)(this.context.view,b)},Ot.prototype.getEdgeView=function(){return Object(O.e)(this.context.view,y)},Ot.prototype.getCurrentDatumIdx=function(Pt){return this.getNodeView().geometries[0].elements.indexOf(Pt)},Ot.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:Object(a.get)(this.context,"event.x"),y:Object(a.get)(this.context,"event.y")};var Pt=this.context.event.target.get("element"),Rt=this.getCurrentDatumIdx(Pt);if(Rt===-1)return;this.currentElementIdx=Rt,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},Ot.prototype.translate=function(){if(this.isDragging){var Pt=this.context.view,Rt={x:Object(a.get)(this.context,"event.x"),y:Object(a.get)(this.context,"event.y")},Vt=Rt.x-this.prevPoint.x,kt=Rt.y-this.prevPoint.y,Wt=this.getNodeView(),wt=Wt.geometries[0].elements[this.currentElementIdx];if(wt&&wt.getModel()){var ct=wt.getModel().data,jt=Wt.getOptions().data,Xt=Wt.getCoordinate(),It={x:Vt/Xt.getWidth(),y:kt/Xt.getHeight()},Ut=Object(c.__assign)(Object(c.__assign)({},ct),{x:ct.x.map(function(ce){return ce+=It.x}),y:ct.y.map(function(ce){return ce+=It.y})}),$t=Object(c.__spreadArrays)(jt);$t[this.currentElementIdx]=Ut,Wt.data($t);var Ft=ct.name,Kt=this.getEdgeView(),ee=Kt.getOptions().data;ee.forEach(function(ce){ce.source===Ft&&(ce.x[0]+=It.x,ce.x[1]+=It.x,ce.y[0]+=It.y,ce.y[1]+=It.y),ce.target===Ft&&(ce.x[2]+=It.x,ce.x[3]+=It.x,ce.y[2]+=It.y,ce.y[3]+=It.y)}),Kt.data(ee),this.prevPoint=Rt,Pt.render(!0)}}},Ot.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},Ot}(_.Action);Object(_.registerAction)("sankey-node-drag",$),Object(_.registerInteraction)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(it){return it.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var bt=function(it){Object(c.__extends)(Ot,it);function Ot(){var Pt=it!==null&&it.apply(this,arguments)||this;return Pt.type="sankey",Pt}return Ot.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(Pt,Rt){var Vt=Pt[1]===1;return{style:{fill:"#545454",textAlign:Vt?"end":"start"},offsetX:Vt?-8:8,content:Rt}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,fields:["name","source","target","value","isNode"],showContent:function(Pt){return!Object(a.get)(Pt,[0,"data","isNode"])},formatter:function(Pt){var Rt=Pt.source,Vt=Pt.target,kt=Pt.value;return{name:Rt+" -> "+Vt,value:kt}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},Ot.prototype.changeData=function(Pt){this.updateOption({data:Pt});var Rt=st(this.options,this.chart.width,this.chart.height),Vt=Rt.nodes,kt=Rt.edges,Wt=Object(O.e)(this.chart,b),wt=Object(O.e)(this.chart,y);Wt.changeData(Vt),wt.changeData(kt)},Ot.prototype.getSchemaAdaptor=function(){return pt},Ot.prototype.getDefaultOptions=function(){return Ot.getDefaultOptions()},Ot}(M.b)},iUtP:function(Lt,A){Lt.exports=i;function i(c,a,M){var O=Math.cos(M),x=Math.sin(M),D=a[0],E=a[1];return c[0]=D*O-E*x,c[1]=D*x+E*O,c}},"iWK/":function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"b",function(){return a});var c=["#FAAD14","#E8EDF3"],a={percent:.2,color:c,animation:{}}},iXVM:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("xXxO"),M=i("8Mtd"),O={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},x=function(D){Object(c.__extends)(E,D);function E(S){var p=D.call(this,S)||this;return p.initCfg(),p}return E.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},E.prototype.clear=function(){},E.prototype.update=function(S){var p=this,b=this.get("defaultCfg");Object(M.each)(S,function(y,C){var I=p.get(C),g=y;I!==y&&(Object(M.isObject)(y)&&b[C]&&(g=Object(M.deepMix)({},b[C],y)),p.set(C,g))}),this.updateInner(S),this.afterUpdate(S)},E.prototype.updateInner=function(S){},E.prototype.afterUpdate=function(S){Object(M.hasKey)(S,"visible")&&(S.visible?this.show():this.hide()),Object(M.hasKey)(S,"capture")&&this.setCapture(S.capture)},E.prototype.getLayoutBBox=function(){return this.getBBox()},E.prototype.getLocationType=function(){return this.get("locationType")},E.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},E.prototype.setOffset=function(S,p){this.update({offsetX:S,offsetY:p})},E.prototype.setLocation=function(S){var p=Object(c.__assign)({},S);this.update(p)},E.prototype.getLocation=function(){var S=this,p={},b=this.get("locationType"),y=O[b];return Object(M.each)(y,function(C){p[C]=S.get(C)}),p},E.prototype.isList=function(){return!1},E.prototype.isSlider=function(){return!1},E.prototype.init=function(){},E.prototype.initCfg=function(){var S=this,p=this.get("defaultCfg");Object(M.each)(p,function(b,y){var C=S.get(y);if(Object(M.isObject)(C)){var I=Object(M.deepMix)({},b,C);S.set(y,I)}})},E}(a.Base);A.a=x},iuKI:function(Lt,A,i){Lt.exports={components:i("AaeU"),dijkstra:i("DhYH"),dijkstraAll:i("e5xd"),findCycles:i("I7m4"),floydWarshall:i("Xure"),isAcyclic:i("P+oc"),postorder:i("qvXp"),preorder:i("DC1X"),prim:i("0aAk"),tarjan:i("EEYS"),topsort:i("3MnI")}},j3Uc:function(Lt,A){},jCkg:function(Lt,A,i){Lt.exports=i("/Ykl")},jFP1:function(Lt,A){Lt.exports=i;function i(){var c=new Float32Array(2);return c[0]=0,c[1]=0,c}},"jHy/":function(Lt,A,i){var c=i("fIi5"),a=i("KmIr");function M(O){return O==null?[]:c(O,a(O))}Lt.exports=M},"k+AY":function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=null;function a(){if(!c){var M=document.createElement("canvas");M.width=1,M.height=1,c=M.getContext("2d")}return c}},k7N2:function(Lt,A,i){var c=i("m9sd"),a=i("rGlR");function M(O){return c(O,a(O))}Lt.exports=M},kDK3:function(Lt,A,i){"use strict";Lt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},kGri:function(Lt,A){Lt.exports=i;function i(c,a){return c[0]===a[0]&&c[1]===a[1]}},kOEf:function(Lt,A){},khvB:function(Lt,A,i){"use strict";i.d(A,"b",function(){return M}),i.d(A,"a",function(){return O});var c=i("8Mtd"),a="Invalid field: it must be a string!";function M(x,D){var E=x.field,S=x.fields;if(Object(c.isString)(E))return E;if(Object(c.isArray)(E))return console.warn(a),E[0];if(console.warn(a+" will try to get fields instead."),Object(c.isString)(S))return S;if(Object(c.isArray)(S)&&S.length)return S[0];if(D)return D;throw new TypeError(a)}function O(x){var D=[];return x&&x.each?x.each(function(E){D.push(E)}):x&&x.eachNode&&x.eachNode(function(E){D.push(E)}),D}},koGu:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.injectable=void 0;var c=i("196R"),a=i("9L8m");function M(){return function(O){if(Reflect.hasOwnMetadata(a.PARAM_TYPES,O))throw new Error(c.DUPLICATED_INJECTABLE_DECORATOR);var x=Reflect.getMetadata(a.DESIGN_PARAM_TYPES,O)||[];return Reflect.defineMetadata(a.PARAM_TYPES,x,O),O}}A.injectable=M},"kr+H":function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("43gi").Graph,M=i("9xKD").slack;Lt.exports=O;function O(S){var p=new a({directed:!1}),b=S.nodes()[0],y=S.nodeCount();p.setNode(b,{});for(var C,I;x(p,S)<y;)C=D(p,S),I=p.hasNode(C.v)?M(S,C):-M(S,C),E(p,S,I);return p}function x(S,p){function b(y){c.forEach(p.nodeEdges(y),function(C){var I=C.v,g=y===I?C.w:I;!S.hasNode(g)&&!M(p,C)&&(S.setNode(g,{}),S.setEdge(y,g,{}),b(g))})}return c.forEach(S.nodes(),b),S.nodeCount()}function D(S,p){return c.minBy(p.edges(),function(b){if(S.hasNode(b.v)!==S.hasNode(b.w))return M(p,b)})}function E(S,p,b){c.forEach(S.nodes(),function(y){p.node(y).rank+=b})}},"l+tw":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Graph=A.Node=A.Edge=A.AUTO_EDGE_ID=A.VACANT_GRAPH_ID=A.VACANT_NODE_LABEL=A.VACANT_EDGE_LABEL=A.VACANT_NODE_ID=A.VACANT_EDGE_ID=void 0;var c=-1;A.VACANT_EDGE_ID=c;var a=-1;A.VACANT_NODE_ID=a;var M="-1";A.VACANT_EDGE_LABEL=M;var O="-1";A.VACANT_NODE_LABEL=O;var x=-1;A.VACANT_GRAPH_ID=x;var D="-1";A.AUTO_EDGE_ID=D;var E=function(){function b(y,C,I,g){y===void 0&&(y=c),C===void 0&&(C=a),I===void 0&&(I=a),g===void 0&&(g=M),this.id=y,this.from=C,this.to=I,this.label=g}return b}();A.Edge=E;var S=function(){function b(y,C){y===void 0&&(y=a),C===void 0&&(C=O),this.id=y,this.label=C,this.edges=[],this.edgeMap={}}return b.prototype.addEdge=function(y){this.edges.push(y),this.edgeMap[y.id]=y},b}();A.Node=S;var p=function(){function b(y,C,I){y===void 0&&(y=a),C===void 0&&(C=!0),I===void 0&&(I=!1),this.id=y,this.edgeIdAutoIncrease=C,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=I}return b.prototype.getNodeNum=function(){return this.nodes.length},b.prototype.addNode=function(y,C){if(!this.nodeMap[y]){var I=new S(y,C);this.nodes.push(I),this.nodeMap[y]=I,this.nodeLabelMap[C]||(this.nodeLabelMap[C]=[]),this.nodeLabelMap[C].push(y)}},b.prototype.addEdge=function(y,C,I,g){if((this.edgeIdAutoIncrease||y===void 0)&&(y=this.counter++),!(this.nodeMap[C]&&this.nodeMap[I]&&this.nodeMap[I].edgeMap[y])){var R=new E(y,C,I,g);if(this.edges.push(R),this.edgeMap[y]=R,this.nodeMap[C].addEdge(R),this.edgeLabelMap[g]||(this.edgeLabelMap[g]=[]),this.edgeLabelMap[g].push(R),!this.directed){var U=new E(y,I,C,g);this.nodeMap[I].addEdge(U),this.edgeLabelMap[g].push(U)}}},b}();A.Graph=p},"l/Sb":function(Lt,A,i){"use strict";i.r(A),i.d(A,"version",function(){return D});var c=i("ozhX");i.d(A,"Shape",function(){return c});var a=i("U8wd");for(var M in a)["default","Canvas","Group","Shape","version"].indexOf(M)<0&&function(E){i.d(A,E,function(){return a[E]})}(M);var O=i("5RCt");i.d(A,"Canvas",function(){return O.a});var x=i("CyRS");i.d(A,"Group",function(){return x.a});var D="0.5.6"},l0EA:function(Lt,A){function i(c,a,M){for(var O=-1,x=c.length,D=a.length,E={};++O<x;){var S=O<D?a[O]:void 0;M(E,c[O],S)}return E}Lt.exports=i},lOIa:function(Lt,A,i){var c=i("c2a8");Lt.exports={Graph:c.Graph,json:i("IJeR"),alg:i("iuKI"),version:c.version}},lVYH:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingInWhenOnSyntax=void 0;var c=i("aNuW"),a=i("zN6Y"),M=i("ITfU"),O=function(){function x(D){this._binding=D,this._bindingWhenSyntax=new M.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new a.BindingOnSyntax(this._binding),this._bindingInSyntax=new c.BindingInSyntax(D)}return x.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},x.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},x.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},x.prototype.when=function(D){return this._bindingWhenSyntax.when(D)},x.prototype.whenTargetNamed=function(D){return this._bindingWhenSyntax.whenTargetNamed(D)},x.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},x.prototype.whenTargetTagged=function(D,E){return this._bindingWhenSyntax.whenTargetTagged(D,E)},x.prototype.whenInjectedInto=function(D){return this._bindingWhenSyntax.whenInjectedInto(D)},x.prototype.whenParentNamed=function(D){return this._bindingWhenSyntax.whenParentNamed(D)},x.prototype.whenParentTagged=function(D,E){return this._bindingWhenSyntax.whenParentTagged(D,E)},x.prototype.whenAnyAncestorIs=function(D){return this._bindingWhenSyntax.whenAnyAncestorIs(D)},x.prototype.whenNoAncestorIs=function(D){return this._bindingWhenSyntax.whenNoAncestorIs(D)},x.prototype.whenAnyAncestorNamed=function(D){return this._bindingWhenSyntax.whenAnyAncestorNamed(D)},x.prototype.whenAnyAncestorTagged=function(D,E){return this._bindingWhenSyntax.whenAnyAncestorTagged(D,E)},x.prototype.whenNoAncestorNamed=function(D){return this._bindingWhenSyntax.whenNoAncestorNamed(D)},x.prototype.whenNoAncestorTagged=function(D,E){return this._bindingWhenSyntax.whenNoAncestorTagged(D,E)},x.prototype.whenAnyAncestorMatches=function(D){return this._bindingWhenSyntax.whenAnyAncestorMatches(D)},x.prototype.whenNoAncestorMatches=function(D){return this._bindingWhenSyntax.whenNoAncestorMatches(D)},x.prototype.onActivation=function(D){return this._bindingOnSyntax.onActivation(D)},x}();A.BindingInWhenOnSyntax=O},"lYZ+":function(Lt,A,i){"use strict";i.d(A,"a",function(){return p});var c=i("CMID"),a=i("dNsf"),M=i("GgvZ"),O=i("Jze/"),x=i("+IRo"),D=i("7AB2"),E=i("/T8T"),S=i("hQih"),p=function(b){Object(c.__extends)(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.type="pie",C}return y.getDefaultOptions=function(){return D.a},y.prototype.changeData=function(C){this.chart.emit(a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var I=this.options,g=this.options.angleField,R=Object(O.t)(I.data,g),U=Object(O.t)(C,g);Object(E.c)(R,g)||Object(E.c)(U,g)?this.update({data:C}):(this.updateOption({data:C}),this.chart.data(U),Object(x.b)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},y.prototype.getDefaultOptions=function(){return y.getDefaultOptions()},y.prototype.getSchemaAdaptor=function(){return x.a},y}(M.b)},m0YO:function(Lt,A){},m8xh:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"b",function(){return E}),i.d(A,"c",function(){return b}),i.d(A,"d",function(){return C}),i.d(A,"e",function(){return g});function c(R,U,W){if(R){if(typeof R.addEventListener=="function")return R.addEventListener(U,W,!1),{remove:function(){R.removeEventListener(U,W,!1)}};if(typeof R.attachEvent=="function")return R.attachEvent("on"+U,W),{remove:function(){R.detachEvent("on"+U,W)}}}}var a,M,O,x;function D(){a=document.createElement("table"),M=document.createElement("tr"),O=/^\s*<(\w+|!)[^>]*>/,x={tr:document.createElement("tbody"),tbody:a,thead:a,tfoot:a,td:M,th:M,"*":document.createElement("div")}}function E(R){a||D();var U=O.test(R)&&RegExp.$1;(!U||!(U in x))&&(U="*");var W=x[U];R=R.replace(/(^\s*)|(\s*$)/g,""),W.innerHTML=""+R;var z=W.childNodes[0];return W.removeChild(z),z}function S(R,U,W){var z;try{z=window.getComputedStyle?window.getComputedStyle(R,null)[U]:R.style[U]}catch(B){}finally{z=z===void 0?W:z}return z}function p(R,U){var W=S(R,"height",U);return W==="auto"&&(W=R.offsetHeight),parseFloat(W)}function b(R,U){var W=p(R,U),z=parseFloat(S(R,"borderTopWidth"))||0,B=parseFloat(S(R,"paddingTop"))||0,L=parseFloat(S(R,"paddingBottom"))||0,w=parseFloat(S(R,"borderBottomWidth"))||0,F=parseFloat(S(R,"marginTop"))||0,V=parseFloat(S(R,"marginBottom"))||0;return W+z+w+B+L+F+V}function y(R,U){var W=S(R,"width",U);return W==="auto"&&(W=R.offsetWidth),parseFloat(W)}function C(R,U){var W=y(R,U),z=parseFloat(S(R,"borderLeftWidth"))||0,B=parseFloat(S(R,"paddingLeft"))||0,L=parseFloat(S(R,"paddingRight"))||0,w=parseFloat(S(R,"borderRightWidth"))||0,F=parseFloat(S(R,"marginRight"))||0,V=parseFloat(S(R,"marginLeft"))||0;return W+z+w+B+L+V+F}function I(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(R,U){if(R)for(var W in U)U.hasOwnProperty(W)&&(R.style[W]=U[W]);return R}},mT8n:function(Lt,A,i){"use strict";i.d(A,"b",function(){return x}),i.d(A,"a",function(){return D});var c=i("CMID"),a=i("8Mtd"),M=i("Jze/");function O(E,S){var p=E.xField,b=E.yField,y=E.colorField,C=E.shapeField,I=E.sizeField,g=E.styleField,R=E.rawFields,U=R===void 0?[]:R,W=[];if(S==="color")W=Object(c.__spreadArrays)([y||p],U);else if(S==="shape")W=Object(c.__spreadArrays)([C||p],U);else if(S==="size")W=Object(c.__spreadArrays)([I||p],U);else{W=Object(c.__spreadArrays)([p,b,y,C,I,g],U);var z=["x","y","color","shape","size","style"].indexOf(S),B=W[z];W.splice(z,1),W.unshift(B)}return Object(a.uniq)(W.filter(function(L){return!!L}))}function x(E,S){if(!!S)return function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];var y={};return E.forEach(function(C,I){y[C]=p[I]}),delete y.undefined,S(y)}}function D(E){var S=E.chart,p=E.options,b=p.type,y=p.args,C=p.mapping,I=p.xField,g=p.yField,R=p.colorField,U=p.shapeField,W=p.sizeField,z=p.tooltipFields,B=p.label,L=p.state;if(!C)return E;var w=C.color,F=C.shape,V=C.size,Y=C.style,tt=C.tooltip,q=S[b](y).position(I+"*"+g);if(Object(a.isString)(w))R?q.color(R,w):q.color(w);else if(Object(a.isFunction)(w)){var H=O(p,"color");q.color(H.join("*"),x(H,w))}else R&&q.color(R,w);if(Object(a.isString)(F))U?q.shape(U,[F]):q.shape(F);else if(Object(a.isFunction)(F)){var H=O(p,"shape");q.shape(H.join("*"),x(H,F))}else U&&q.shape(U,F);if(Object(a.isNumber)(V))W?q.size(W,V):q.size(V);else if(Object(a.isFunction)(V)){var H=O(p,"size");q.size(H.join("*"),x(H,V))}else W&&q.size(W,V);if(Object(a.isFunction)(Y)){var H=O(p,"style");q.style(H.join("*"),x(H,Y))}else Object(a.isObject)(Y)&&q.style(Y);if(z===!1?q.tooltip(!1):Object(a.isEmpty)(z)||q.tooltip(z.join("*"),x(z,tt)),B===!1)q.label(!1);else if(B){var Q=B.callback,k=B.fields,K=Object(c.__rest)(B,["callback","fields"]);q.label({fields:k||[g],callback:Q,cfg:Object(M.y)(K)})}return L&&q.state(L),[I,g].filter(function(nt){return nt!==R}).forEach(function(nt){S.legend(nt,!1)}),Object(c.__assign)(Object(c.__assign)({},E),{ext:{geometry:q}})}},mX1U:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("qfLv"),M=i("Lkm0"),O=i("08EK"),x=i("8Mtd"),D=i("dAAy"),E=i("Hgj1"),S=i("yK/m"),p=i("qh6B"),b=i("riA0"),y=function(ut){return["fill","stroke","fillStyle","strokeStyle"].includes(ut)},C=function(ut){return/^[r,R,L,l]{1}[\s]*\(/.test(ut)},I=[1,0,0,0,1,0,0,0,1];function g(ut,rt,ot){var dt={},Mt=rt.fromAttrs,Nt=rt.toAttrs;if(!ut.destroyed){var ht;for(var yt in Nt)if(!Object(x.isEqual)(Mt[yt],Nt[yt]))if(yt==="path"){var ft=Nt[yt],st=Mt[yt];ft.length>st.length?(ft=b.c(Nt[yt]),st=b.c(Mt[yt]),st=b.a(st,ft),st=b.b(st,ft),rt.fromAttrs.path=st,rt.toAttrs.path=ft):rt.pathFormatted||(ft=b.c(Nt[yt]),st=b.c(Mt[yt]),st=b.b(st,ft),rt.fromAttrs.path=st,rt.toAttrs.path=ft,rt.pathFormatted=!0),dt[yt]=[];for(var xt=0;xt<ft.length;xt++){for(var gt=ft[xt],At=st[xt],pt=[],_=0;_<gt.length;_++)Object(x.isNumber)(gt[_])&&At&&Object(x.isNumber)(At[_])?(ht=Object(S.a)(At[_],gt[_]),pt.push(ht(ot))):pt.push(gt[_]);dt[yt].push(pt)}}else if(yt==="matrix"){var $=Object(p.a)(Mt[yt]||I,Nt[yt]||I),bt=$(ot);dt[yt]=bt}else y(yt)&&C(Nt[yt])?dt[yt]=Nt[yt]:Object(x.isFunction)(Nt[yt])||(ht=Object(S.a)(Mt[yt],Nt[yt]),dt[yt]=ht(ot));ut.attr(dt)}}function R(ut,rt,ot){var dt=rt.startTime,Mt=rt.delay;if(ot<dt+Mt||rt._paused)return!1;var Nt,ht=rt.duration,yt=rt.easing;if(ot=ot-dt-rt.delay,rt.repeat)Nt=ot%ht/ht,Nt=E[yt](Nt);else if(Nt=ot/ht,Nt<1)Nt=E[yt](Nt);else return rt.onFrame?ut.attr(rt.onFrame(1)):ut.attr(rt.toAttrs),!0;if(rt.onFrame){var ft=rt.onFrame(Nt);ut.attr(ft)}else g(ut,rt,Nt);return!1}var U=function(){function ut(rt){this.animators=[],this.current=0,this.timer=null,this.canvas=rt}return ut.prototype.initTimer=function(){var rt=this,ot=!1,dt,Mt,Nt;this.timer=D.a(function(ht){if(rt.current=ht,rt.animators.length>0){for(var yt=rt.animators.length-1;yt>=0;yt--){if(dt=rt.animators[yt],dt.destroyed){rt.removeAnimator(yt);continue}if(!dt.isAnimatePaused()){Mt=dt.get("animations");for(var ft=Mt.length-1;ft>=0;ft--)Nt=Mt[ft],ot=R(dt,Nt,ht),ot&&(Mt.splice(ft,1),ot=!1,Nt.callback&&Nt.callback())}Mt.length===0&&rt.removeAnimator(yt)}var st=rt.canvas.get("autoDraw");st||rt.canvas.draw()}})},ut.prototype.addAnimator=function(rt){this.animators.push(rt)},ut.prototype.removeAnimator=function(rt){this.animators.splice(rt,1)},ut.prototype.isAnimating=function(){return!!this.animators.length},ut.prototype.stop=function(){this.timer&&this.timer.stop()},ut.prototype.stopAllAnimations=function(rt){rt===void 0&&(rt=!0),this.animators.forEach(function(ot){ot.stopAnimate(rt)}),this.animators=[],this.canvas.draw()},ut.prototype.getTime=function(){return this.current},ut}(),W=U,z=i("8e3m"),B=40,L=0,w=":",F=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function V(ut,rt){for(var ot in ut)if(ut.hasOwnProperty(ot)&&ot.indexOf(w+rt)>=0)return!0;return!1}function Y(ut,rt,ot){ot.name=rt,ot.target=ut,ot.currentTarget=ut,ot.delegateTarget=ut,ut.emit(rt,ot)}function tt(ut,rt,ot){if(ot.bubbles){var dt=void 0,Mt=!1;if(rt==="mouseenter"?(dt=ot.fromShape,Mt=!0):rt==="mouseleave"&&(Mt=!0,dt=ot.toShape),ut.isCanvas()&&Mt)return;if(dt&&Object(O.g)(ut,dt)){ot.bubbles=!1;return}ot.name=rt,ot.currentTarget=ut,ot.delegateTarget=ut,ut.emit(rt,ot)}}var q=function(){function ut(rt){var ot=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(dt){var Mt=dt.type;ot._triggerEvent(Mt,dt)},this._onDocumentMove=function(dt){var Mt=ot.canvas,Nt=Mt.get("el");if(Nt!==dt.target&&(ot.dragging||ot.currentShape)){var ht=ot._getPointInfo(dt);ot.dragging&&ot._emitEvent("drag",dt,ht,ot.draggingShape)}},this._onDocumentMouseUp=function(dt){var Mt=ot.canvas,Nt=Mt.get("el");if(Nt!==dt.target&&ot.dragging){var ht=ot._getPointInfo(dt);ot.draggingShape&&ot._emitEvent("drop",dt,ht,null),ot._emitEvent("dragend",dt,ht,ot.draggingShape),ot._afterDrag(ot.draggingShape,ht,dt)}},this.canvas=rt.canvas}return ut.prototype.init=function(){this._bindEvents()},ut.prototype._bindEvents=function(){var rt=this,ot=this.canvas.get("el");Object(O.a)(F,function(dt){ot.addEventListener(dt,rt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},ut.prototype._clearEvents=function(){var rt=this,ot=this.canvas.get("el");Object(O.a)(F,function(dt){ot.removeEventListener(dt,rt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},ut.prototype._getEventObj=function(rt,ot,dt,Mt,Nt,ht){var yt=new z.a(rt,ot);return yt.fromShape=Nt,yt.toShape=ht,yt.x=dt.x,yt.y=dt.y,yt.clientX=dt.clientX,yt.clientY=dt.clientY,yt.propagationPath.push(Mt),yt},ut.prototype._getShape=function(rt,ot){return this.canvas.getShape(rt.x,rt.y,ot)},ut.prototype._getPointInfo=function(rt){var ot=this.canvas,dt=ot.getClientByEvent(rt),Mt=ot.getPointByEvent(rt);return{x:Mt.x,y:Mt.y,clientX:dt.x,clientY:dt.y}},ut.prototype._triggerEvent=function(rt,ot){var dt=this._getPointInfo(ot),Mt=this._getShape(dt,ot),Nt=this["_on"+rt],ht=!1;if(Nt)Nt.call(this,dt,Mt,ot);else{var yt=this.currentShape;rt==="mouseenter"||rt==="dragenter"||rt==="mouseover"?(this._emitEvent(rt,ot,dt,null,null,Mt),Mt&&this._emitEvent(rt,ot,dt,Mt,null,Mt),rt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ot,dt,null)):rt==="mouseleave"||rt==="dragleave"||rt==="mouseout"?(ht=!0,yt&&this._emitEvent(rt,ot,dt,yt,yt,null),this._emitEvent(rt,ot,dt,null,yt,null),rt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ot,dt,null)):this._emitEvent(rt,ot,dt,Mt,null,null)}if(ht||(this.currentShape=Mt),Mt&&!Mt.get("destroyed")){var ft=this.canvas,st=ft.get("el");st.style.cursor=Mt.attr("cursor")||ft.get("cursor")}},ut.prototype._onmousedown=function(rt,ot,dt){dt.button===L&&(this.mousedownShape=ot,this.mousedownPoint=rt,this.mousedownTimeStamp=dt.timeStamp),this._emitEvent("mousedown",dt,rt,ot,null,null)},ut.prototype._emitMouseoverEvents=function(rt,ot,dt,Mt){var Nt=this.canvas.get("el");dt!==Mt&&(dt&&(this._emitEvent("mouseout",rt,ot,dt,dt,Mt),this._emitEvent("mouseleave",rt,ot,dt,dt,Mt),(!Mt||Mt.get("destroyed"))&&(Nt.style.cursor=this.canvas.get("cursor"))),Mt&&(this._emitEvent("mouseover",rt,ot,Mt,dt,Mt),this._emitEvent("mouseenter",rt,ot,Mt,dt,Mt)))},ut.prototype._emitDragoverEvents=function(rt,ot,dt,Mt,Nt){Mt?(Mt!==dt&&(dt&&this._emitEvent("dragleave",rt,ot,dt,dt,Mt),this._emitEvent("dragenter",rt,ot,Mt,dt,Mt)),Nt||this._emitEvent("dragover",rt,ot,Mt)):dt&&this._emitEvent("dragleave",rt,ot,dt,dt,Mt),Nt&&this._emitEvent("dragover",rt,ot,Mt)},ut.prototype._afterDrag=function(rt,ot,dt){rt&&(rt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Mt=this._getShape(ot,dt);Mt!==rt&&this._emitMouseoverEvents(dt,ot,rt,Mt),this.currentShape=Mt},ut.prototype._onmouseup=function(rt,ot,dt){if(dt.button===L){var Mt=this.draggingShape;this.dragging?(Mt&&this._emitEvent("drop",dt,rt,ot),this._emitEvent("dragend",dt,rt,Mt),this._afterDrag(Mt,rt,dt)):(this._emitEvent("mouseup",dt,rt,ot),ot===this.mousedownShape&&this._emitEvent("click",dt,rt,ot),this.mousedownShape=null,this.mousedownPoint=null)}},ut.prototype._ondragover=function(rt,ot,dt){dt.preventDefault();var Mt=this.currentShape;this._emitDragoverEvents(dt,rt,Mt,ot,!0)},ut.prototype._onmousemove=function(rt,ot,dt){var Mt=this.canvas,Nt=this.currentShape,ht=this.draggingShape;if(this.dragging)ht&&this._emitDragoverEvents(dt,rt,Nt,ot,!1),this._emitEvent("drag",dt,rt,ht);else{var yt=this.mousedownPoint;if(yt){var ft=this.mousedownShape,st=dt.timeStamp,xt=st-this.mousedownTimeStamp,gt=yt.clientX-rt.clientX,At=yt.clientY-rt.clientY,pt=gt*gt+At*At;xt>120||pt>B?ft&&ft.get("draggable")?(ht=this.mousedownShape,ht.set("capture",!1),this.draggingShape=ht,this.dragging=!0,this._emitEvent("dragstart",dt,rt,ht),this.mousedownShape=null,this.mousedownPoint=null):!ft&&Mt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",dt,rt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(dt,rt,Nt,ot),this._emitEvent("mousemove",dt,rt,ot)):(this._emitMouseoverEvents(dt,rt,Nt,ot),this._emitEvent("mousemove",dt,rt,ot))}else this._emitMouseoverEvents(dt,rt,Nt,ot),this._emitEvent("mousemove",dt,rt,ot)}},ut.prototype._emitEvent=function(rt,ot,dt,Mt,Nt,ht){var yt=this._getEventObj(rt,ot,dt,Mt,Nt,ht);if(Mt){yt.shape=Mt,Y(Mt,rt,yt);for(var ft=Mt.getParent();ft;)ft.emitDelegation(rt,yt),yt.propagationStopped||tt(ft,rt,yt),yt.propagationPath.push(ft),ft=ft.getParent()}else{var st=this.canvas;Y(st,rt,yt)}},ut.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},ut}(),H=q,Q="px",k=Object(a.a)(),K=k&&k.name==="firefox",nt=function(ut){Object(c.__extends)(rt,ut);function rt(ot){var dt=ut.call(this,ot)||this;return dt.initContainer(),dt.initDom(),dt.initEvents(),dt.initTimeline(),dt}return rt.prototype.getDefaultCfg=function(){var ot=ut.prototype.getDefaultCfg.call(this);return ot.cursor="default",ot.supportCSSTransform=!1,ot},rt.prototype.initContainer=function(){var ot=this.get("container");Object(O.h)(ot)&&(ot=document.getElementById(ot),this.set("container",ot))},rt.prototype.initDom=function(){var ot=this.createDom();this.set("el",ot);var dt=this.get("container");dt.appendChild(ot),this.setDOMSize(this.get("width"),this.get("height"))},rt.prototype.initEvents=function(){var ot=new H({canvas:this});ot.init(),this.set("eventController",ot)},rt.prototype.initTimeline=function(){var ot=new W(this);this.set("timeline",ot)},rt.prototype.setDOMSize=function(ot,dt){var Mt=this.get("el");O.c&&(Mt.style.width=ot+Q,Mt.style.height=dt+Q)},rt.prototype.changeSize=function(ot,dt){this.setDOMSize(ot,dt),this.set("width",ot),this.set("height",dt),this.onCanvasChange("changeSize")},rt.prototype.getRenderer=function(){return this.get("renderer")},rt.prototype.getCursor=function(){return this.get("cursor")},rt.prototype.setCursor=function(ot){this.set("cursor",ot);var dt=this.get("el");O.c&&dt&&(dt.style.cursor=ot)},rt.prototype.getPointByEvent=function(ot){var dt=this.get("supportCSSTransform");if(dt){if(K&&!Object(O.e)(ot.layerX)&&ot.layerX!==ot.offsetX)return{x:ot.layerX,y:ot.layerY};if(!Object(O.e)(ot.offsetX))return{x:ot.offsetX,y:ot.offsetY}}var Mt=this.getClientByEvent(ot),Nt=Mt.x,ht=Mt.y;return this.getPointByClient(Nt,ht)},rt.prototype.getClientByEvent=function(ot){var dt=ot;return ot.touches&&(ot.type==="touchend"?dt=ot.changedTouches[0]:dt=ot.touches[0]),{x:dt.clientX,y:dt.clientY}},rt.prototype.getPointByClient=function(ot,dt){var Mt=this.get("el"),Nt=Mt.getBoundingClientRect();return{x:ot-Nt.left,y:dt-Nt.top}},rt.prototype.getClientByPoint=function(ot,dt){var Mt=this.get("el"),Nt=Mt.getBoundingClientRect();return{x:ot+Nt.left,y:dt+Nt.top}},rt.prototype.draw=function(){},rt.prototype.removeDom=function(){var ot=this.get("el");ot.parentNode.removeChild(ot)},rt.prototype.clearEvents=function(){var ot=this.get("eventController");ot.destroy()},rt.prototype.isCanvas=function(){return!0},rt.prototype.getParent=function(){return null},rt.prototype.destroy=function(){var ot=this.get("timeline");this.get("destroyed")||(this.clear(),ot&&ot.stop(),this.clearEvents(),this.removeDom(),ut.prototype.destroy.call(this))},rt}(M.a),lt=nt},mbOf:function(Lt,A,i){var c=i("ql+n");Lt.exports=a;function a(){this._arr=[],this._keyIndices={}}a.prototype.size=function(){return this._arr.length},a.prototype.keys=function(){return this._arr.map(function(M){return M.key})},a.prototype.has=function(M){return c.has(this._keyIndices,M)},a.prototype.priority=function(M){var O=this._keyIndices[M];if(O!==void 0)return this._arr[O].priority},a.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},a.prototype.add=function(M,O){var x=this._keyIndices;if(M=String(M),!c.has(x,M)){var D=this._arr,E=D.length;return x[M]=E,D.push({key:M,priority:O}),this._decrease(E),!0}return!1},a.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var M=this._arr.pop();return delete this._keyIndices[M.key],this._heapify(0),M.key},a.prototype.decrease=function(M,O){var x=this._keyIndices[M];if(O>this._arr[x].priority)throw new Error("New priority is greater than current priority. Key: "+M+" Old: "+this._arr[x].priority+" New: "+O);this._arr[x].priority=O,this._decrease(x)},a.prototype._heapify=function(M){var O=this._arr,x=2*M,D=x+1,E=M;x<O.length&&(E=O[x].priority<O[E].priority?x:E,D<O.length&&(E=O[D].priority<O[E].priority?D:E),E!==M&&(this._swap(M,E),this._heapify(E)))},a.prototype._decrease=function(M){for(var O=this._arr,x=O[M].priority,D;M!==0&&(D=M>>1,!(O[D].priority<x));)this._swap(M,D),M=D},a.prototype._swap=function(M,O){var x=this._arr,D=this._keyIndices,E=x[M],S=x[O];x[M]=S,x[O]=E,D[S.key]=M,D[E.key]=O}},mdrB:function(Lt,A,i){var c=i("hQ5t"),a=i("TIpG"),M=i("KmIr");function O(x){return function(D,E,S){var p=Object(D);if(!a(D)){var b=c(E,3);D=M(D),E=function(C){return b(p[C],C,p)}}var y=x(D,E,S);return y>-1?p[b?D[y]:y]:void 0}}Lt.exports=O},mmcn:function(Lt,A,i){"use strict";i.d(A,"a",function(){return E});var c=i("CMID"),a=i("m8xh"),M=i("8Mtd"),O=i("VZin"),x={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},D={default:x,hover:{thumbColor:"rgba(0,0,0,0.2)"}},E=function(S){Object(c.__extends)(p,S);function p(){var b=S!==null&&S.apply(this,arguments)||this;return b.clearEvents=M.noop,b.onStartEvent=function(y){return function(C){b.isMobile=y,C.originalEvent.preventDefault();var I=y?Object(M.get)(C.originalEvent,"touches.0.clientX"):C.clientX,g=y?Object(M.get)(C.originalEvent,"touches.0.clientY"):C.clientY;b.startPos=b.cfg.isHorizontal?I:g,b.bindLaterEvent()}},b.bindLaterEvent=function(){var y=b.getContainerDOM(),C=[];b.isMobile?C=[Object(a.a)(y,"touchmove",b.onMouseMove),Object(a.a)(y,"touchend",b.onMouseUp),Object(a.a)(y,"touchcancel",b.onMouseUp)]:C=[Object(a.a)(y,"mousemove",b.onMouseMove),Object(a.a)(y,"mouseup",b.onMouseUp),Object(a.a)(y,"mouseleave",b.onMouseUp)],b.clearEvents=function(){C.forEach(function(I){I.remove()})}},b.onMouseMove=function(y){var C=b.cfg,I=C.isHorizontal,g=C.thumbOffset;y.preventDefault();var R=b.isMobile?Object(M.get)(y,"touches.0.clientX"):y.clientX,U=b.isMobile?Object(M.get)(y,"touches.0.clientY"):y.clientY,W=I?R:U,z=W-b.startPos;b.startPos=W,b.updateThumbOffset(g+z)},b.onMouseUp=function(y){y.preventDefault(),b.clearEvents()},b.onTrackClick=function(y){var C=b.cfg,I=C.isHorizontal,g=C.x,R=C.y,U=C.thumbLen,W=b.getContainerDOM(),z=W.getBoundingClientRect(),B=y.clientX,L=y.clientY,w=I?B-z.left-g-U/2:L-z.top-R-U/2,F=b.validateRange(w);b.updateThumbOffset(F)},b.onThumbMouseOver=function(){var y=b.cfg.theme.hover.thumbColor;b.getElementByLocalId("thumb").attr("stroke",y),b.draw()},b.onThumbMouseOut=function(){var y=b.cfg.theme.default.thumbColor;b.getElementByLocalId("thumb").attr("stroke",y),b.draw()},b}return p.prototype.setRange=function(b,y){this.set("minLimit",b),this.set("maxLimit",y);var C=this.getValue(),I=Object(M.clamp)(C,b,y);C!==I&&!this.get("isInit")&&this.setValue(I)},p.prototype.getRange=function(){var b=this.get("minLimit")||0,y=this.get("maxLimit")||1;return{min:b,max:y}},p.prototype.setValue=function(b){var y=this.getRange(),C=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(M.clamp)(b,y.min,y.max)}),this.delegateEmit("valuechange",{originalValue:C,value:this.getValue()})},p.prototype.getValue=function(){return Object(M.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},p.prototype.getDefaultCfg=function(){var b=S.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},b),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:D})},p.prototype.renderInner=function(b){this.renderTrackShape(b),this.renderThumbShape(b)},p.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},p.prototype.initEvent=function(){this.bindEvents()},p.prototype.renderTrackShape=function(b){var y=this.cfg,C=y.trackLen,I=y.theme,g=I===void 0?{default:{}}:I,R=Object(M.deepMix)({},D,g).default,U=R.lineCap,W=R.trackColor,z=R.size,B=Object(M.get)(this.cfg,"size",z),L=this.get("isHorizontal")?{x1:0+B/2,y1:B/2,x2:C-B/2,y2:B/2,lineWidth:B,stroke:W,lineCap:U}:{x1:B/2,y1:0+B/2,x2:B/2,y2:C-B/2,lineWidth:B,stroke:W,lineCap:U};return this.addShape(b,{id:this.getElementId("track"),name:"track",type:"line",attrs:L})},p.prototype.renderThumbShape=function(b){var y=this.cfg,C=y.thumbOffset,I=y.thumbLen,g=y.theme,R=Object(M.deepMix)({},D,g).default,U=R.size,W=R.lineCap,z=R.thumbColor,B=Object(M.get)(this.cfg,"size",U),L=this.get("isHorizontal")?{x1:C+B/2,y1:B/2,x2:C+I-B/2,y2:B/2,lineWidth:B,stroke:z,lineCap:W,cursor:"default"}:{x1:B/2,y1:C+B/2,x2:B/2,y2:C+I-B/2,lineWidth:B,stroke:z,lineCap:W,cursor:"default"};return this.addShape(b,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:L})},p.prototype.bindEvents=function(){var b=this.get("group");b.on("mousedown",this.onStartEvent(!1)),b.on("mouseup",this.onMouseUp),b.on("touchstart",this.onStartEvent(!0)),b.on("touchend",this.onMouseUp);var y=b.findById(this.getElementId("track"));y.on("click",this.onTrackClick);var C=b.findById(this.getElementId("thumb"));C.on("mouseover",this.onThumbMouseOver),C.on("mouseout",this.onThumbMouseOut)},p.prototype.getContainerDOM=function(){var b=this.get("container"),y=b&&b.get("canvas");return y&&y.get("container")},p.prototype.validateRange=function(b){var y=this.cfg,C=y.thumbLen,I=y.trackLen,g=b;return b+C>I?g=I-C:b+C<C&&(g=0),g},p.prototype.draw=function(){var b=this.get("container"),y=b&&b.get("canvas");y&&y.draw()},p.prototype.updateThumbOffset=function(b){var y=this.cfg,C=y.thumbOffset,I=y.isHorizontal,g=y.thumbLen,R=y.size,U=this.validateRange(b);if(U!==C){var W=this.getElementByLocalId("thumb");I?W.attr({x1:U+R/2,x2:U+g-R/2}):W.attr({y1:U+R/2,y2:U+g-R/2}),this.emitOffsetChange(U)}},p.prototype.emitOffsetChange=function(b){var y=this.cfg,C=y.thumbOffset,I=y.trackLen,g=y.thumbLen;this.cfg.thumbOffset=b,this.emit("scrollchange",{thumbOffset:b,ratio:Object(M.clamp)(b/(I-g),0,1)}),this.delegateEmit("valuechange",{originalValue:C,value:b})},p}(O.a)},mxXC:function(Lt,A,i){var c=i("XSdR");Lt.exports=a;function a(M,O,x){var D={},E;c.forEach(x,function(S){for(var p=M.parent(S),b,y;p;){if(b=M.parent(p),b?(y=D[b],D[b]=p):(y=E,E=p),y&&y!==p){O.setEdge(y,p);return}p=b}})}},n9X1:function(Lt,A,i){"use strict";i.d(A,"b",function(){return M}),i.d(A,"c",function(){return x}),i.d(A,"a",function(){return D});var c=i("08EK"),a=i("k+AY");function M(E,S,p){var b=1;if(Object(c.h)(E)&&(b=E.split(`
`).length),b>1){var y=O(S,p);return S*b+y*(b-1)}return S}function O(E,S){return S?S-E:E*.14}function x(E,S){var p=Object(a.a)(),b=0;if(Object(c.e)(E)||E==="")return b;if(p.save(),p.font=S,Object(c.h)(E)&&E.includes(`
`)){var y=E.split(`
`);Object(c.a)(y,function(C){var I=p.measureText(C).width;b<I&&(b=I)})}else b=p.measureText(E).width;return p.restore(),b}function D(E){var S=E.fontSize,p=E.fontFamily,b=E.fontWeight,y=E.fontStyle,C=E.fontVariant;return[y,C,b,S+"px",p].join(" ").trim()}},nZiY:function(Lt,A,i){"use strict";var c="*",a=function(){function M(){this._events={}}return M.prototype.on=function(O,x,D){return this._events[O]||(this._events[O]=[]),this._events[O].push({callback:x,once:!!D}),this},M.prototype.once=function(O,x){return this.on(O,x,!0),this},M.prototype.emit=function(O){for(var x=this,D=[],E=1;E<arguments.length;E++)D[E-1]=arguments[E];var S=this._events[O]||[],p=this._events[c]||[],b=function(y){for(var C=y.length,I=0;I<C;I++)if(!!y[I]){var g=y[I],R=g.callback,U=g.once;U&&(y.splice(I,1),y.length===0&&delete x._events[O],C--,I--),R.apply(x,D)}};b(S),b(p)},M.prototype.off=function(O,x){if(!O)this._events={};else if(!x)delete this._events[O];else{for(var D=this._events[O]||[],E=D.length,S=0;S<E;S++)D[S].callback===x&&(D.splice(S,1),E--,S--);D.length===0&&delete this._events[O]}return this},M.prototype.getEvents=function(){return this._events},M}();A.a=a},naqw:function(Lt,A){Lt.exports=i;function i(c,a){return c[0]=Math.floor(a[0]),c[1]=Math.floor(a[1]),c}},neUO:function(Lt,A,i){"use strict";i.d(A,"d",function(){return a}),i.d(A,"c",function(){return M}),i.d(A,"b",function(){return O}),i.d(A,"e",function(){return x}),i.d(A,"f",function(){return D}),i.d(A,"g",function(){return E}),i.d(A,"a",function(){return S});var c,a="$$percentage$$",M="$$mappingValue$$",O="$$conversion$$",x="$$totalPercentage$$",D="$$x$$",E="$$y$$",S={appendPadding:[0,80],minSize:0,maxSize:1,meta:(c={},c[M]={min:0,max:1,nice:!1},c),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}}},"nl+T":function(Lt,A,i){"use strict";var c=i("CMID"),a=i("U8wd"),M=i("Nqgf"),O=i("K0hn"),x=i("8Mtd"),D=i("bsNZ"),E=function(S){Object(c.__extends)(p,S);function p(){return S!==null&&S.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(b){Object(O.h)(this,b)},p.prototype.getShapeBase=function(){return M},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(b,y){y&&(b.save(),Object(O.a)(b,y),y.createPath(b),b.restore(),b.clip(),y._afterDraw())},p.prototype.cacheCanvasBBox=function(){var b=this.cfg.children,y=[],C=[];Object(x.each)(b,function(L){var w=L.cfg.cacheCanvasBBox;w&&L.cfg.isInView&&(y.push(w.minX,w.maxX),C.push(w.minY,w.maxY))});var I=null;if(y.length){var g=Object(x.min)(y),R=Object(x.max)(y),U=Object(x.min)(C),W=Object(x.max)(C);I={minX:g,minY:U,x:g,y:U,maxX:R,maxY:W,width:R-g,height:W-U};var z=this.cfg.canvas;if(z){var B=z.getViewRange();this.set("isInView",Object(D.f)(I,B))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",I)},p.prototype.draw=function(b,y){var C=this.cfg.children,I=y?this.cfg.refresh:!0;C.length&&I&&(b.save(),Object(O.a)(b,this),this._applyClip(b,this.getClip()),Object(O.d)(b,C,y),b.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(a.AbstractGroup);A.a=E},nrny:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=O,A.detectStrongConnectComponents=A.detectConnectedComponents=void 0;var c=i("Eqze"),a=function(D){for(var E=D.nodes,S=E===void 0?[]:E,p=D.edges,b=p===void 0?[]:p,y=[],C={},I=[],g=function z(B){I.push(B),C[B.id]=!0;for(var L=(0,c.getNeighbors)(B.id,b),w=function(Y){var tt=L[Y];if(!C[tt]){var q=S.filter(function(H){return H.id===tt});q.length>0&&z(q[0])}},F=0;F<L.length;++F)w(F)},R=0;R<S.length;R++){var U=S[R];if(!C[U.id]){g(U);for(var W=[];I.length>0;)W.push(I.pop());y.push(W)}}return y};A.detectConnectedComponents=a;var M=function(D){for(var E=D.nodes,S=E===void 0?[]:E,p=D.edges,b=p===void 0?[]:p,y=[],C={},I={},g={},R=[],U=0,W=function w(F){I[F.id]=U,g[F.id]=U,U+=1,y.push(F),C[F.id]=!0;for(var V=(0,c.getNeighbors)(F.id,b,"target").filter(function(Q){return S.map(function(k){return k.id}).indexOf(Q)>-1}),Y=function(k){var K=V[k];if(!I[K]&&I[K]!==0){var nt=S.filter(function(lt){return lt.id===K});nt.length>0&&w(nt[0]),g[F.id]=Math.min(g[F.id],g[K])}else C[K]&&(g[F.id]=Math.min(g[F.id],I[K]))},tt=0;tt<V.length;tt++)Y(tt);if(g[F.id]===I[F.id]){for(var q=[];y.length>0;){var H=y.pop();if(C[H.id]=!1,q.push(H),H===F)break}q.length>0&&R.push(q)}},z=0,B=S;z<B.length;z++){var L=B[z];!I[L.id]&&I[L.id]!==0&&W(L)}return R};A.detectStrongConnectComponents=M;function O(x,D){return D?M(x):a(x)}},nxzP:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("qfLv"),M=i("LhfN"),O=i("tSnd"),x=i("8Mtd"),D=i("dAAy"),E=i("Hgj1"),S=i("yK/m"),p=i("qh6B"),b=i("T5ir"),y=function(ut){return["fill","stroke","fillStyle","strokeStyle"].includes(ut)},C=function(ut){return/^[r,R,L,l]{1}[\s]*\(/.test(ut)},I=[1,0,0,0,1,0,0,0,1];function g(ut,rt,ot){var dt={},Mt=rt.fromAttrs,Nt=rt.toAttrs;if(!ut.destroyed){var ht;for(var yt in Nt)if(!Object(x.isEqual)(Mt[yt],Nt[yt]))if(yt==="path"){var ft=Nt[yt],st=Mt[yt];ft.length>st.length?(ft=b.parsePathString(Nt[yt]),st=b.parsePathString(Mt[yt]),st=b.fillPathByDiff(st,ft),st=b.formatPath(st,ft),rt.fromAttrs.path=st,rt.toAttrs.path=ft):rt.pathFormatted||(ft=b.parsePathString(Nt[yt]),st=b.parsePathString(Mt[yt]),st=b.formatPath(st,ft),rt.fromAttrs.path=st,rt.toAttrs.path=ft,rt.pathFormatted=!0),dt[yt]=[];for(var xt=0;xt<ft.length;xt++){for(var gt=ft[xt],At=st[xt],pt=[],_=0;_<gt.length;_++)Object(x.isNumber)(gt[_])&&At&&Object(x.isNumber)(At[_])?(ht=Object(S.a)(At[_],gt[_]),pt.push(ht(ot))):pt.push(gt[_]);dt[yt].push(pt)}}else if(yt==="matrix"){var $=Object(p.a)(Mt[yt]||I,Nt[yt]||I),bt=$(ot);dt[yt]=bt}else y(yt)&&C(Nt[yt])?dt[yt]=Nt[yt]:Object(x.isFunction)(Nt[yt])||(ht=Object(S.a)(Mt[yt],Nt[yt]),dt[yt]=ht(ot));ut.attr(dt)}}function R(ut,rt,ot){var dt=rt.startTime,Mt=rt.delay;if(ot<dt+Mt||rt._paused)return!1;var Nt,ht=rt.duration,yt=rt.easing;if(ot=ot-dt-rt.delay,rt.repeat)Nt=ot%ht/ht,Nt=E[yt](Nt);else if(Nt=ot/ht,Nt<1)Nt=E[yt](Nt);else return rt.onFrame?ut.attr(rt.onFrame(1)):ut.attr(rt.toAttrs),!0;if(rt.onFrame){var ft=rt.onFrame(Nt);ut.attr(ft)}else g(ut,rt,Nt);return!1}var U=function(){function ut(rt){this.animators=[],this.current=0,this.timer=null,this.canvas=rt}return ut.prototype.initTimer=function(){var rt=this,ot=!1,dt,Mt,Nt;this.timer=D.a(function(ht){if(rt.current=ht,rt.animators.length>0){for(var yt=rt.animators.length-1;yt>=0;yt--){if(dt=rt.animators[yt],dt.destroyed){rt.removeAnimator(yt);continue}if(!dt.isAnimatePaused()){Mt=dt.get("animations");for(var ft=Mt.length-1;ft>=0;ft--)Nt=Mt[ft],ot=R(dt,Nt,ht),ot&&(Mt.splice(ft,1),ot=!1,Nt.callback&&Nt.callback())}Mt.length===0&&rt.removeAnimator(yt)}var st=rt.canvas.get("autoDraw");st||rt.canvas.draw()}})},ut.prototype.addAnimator=function(rt){this.animators.push(rt)},ut.prototype.removeAnimator=function(rt){this.animators.splice(rt,1)},ut.prototype.isAnimating=function(){return!!this.animators.length},ut.prototype.stop=function(){this.timer&&this.timer.stop()},ut.prototype.stopAllAnimations=function(rt){rt===void 0&&(rt=!0),this.animators.forEach(function(ot){ot.stopAnimate(rt)}),this.animators=[],this.canvas.draw()},ut.prototype.getTime=function(){return this.current},ut}(),W=U,z=i("LxUj"),B=40,L=0,w=":",F=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function V(ut,rt){for(var ot in ut)if(ut.hasOwnProperty(ot)&&ot.indexOf(w+rt)>=0)return!0;return!1}function Y(ut,rt,ot){ot.name=rt,ot.target=ut,ot.currentTarget=ut,ot.delegateTarget=ut,ut.emit(rt,ot)}function tt(ut,rt,ot){if(ot.bubbles){var dt=void 0,Mt=!1;if(rt==="mouseenter"?(dt=ot.fromShape,Mt=!0):rt==="mouseleave"&&(Mt=!0,dt=ot.toShape),ut.isCanvas()&&Mt)return;if(dt&&Object(O.g)(ut,dt)){ot.bubbles=!1;return}ot.name=rt,ot.currentTarget=ut,ot.delegateTarget=ut,ut.emit(rt,ot)}}var q=function(){function ut(rt){var ot=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(dt){var Mt=dt.type;ot._triggerEvent(Mt,dt)},this._onDocumentMove=function(dt){var Mt=ot.canvas,Nt=Mt.get("el");if(Nt!==dt.target&&(ot.dragging||ot.currentShape)){var ht=ot._getPointInfo(dt);ot.dragging&&ot._emitEvent("drag",dt,ht,ot.draggingShape)}},this._onDocumentMouseUp=function(dt){var Mt=ot.canvas,Nt=Mt.get("el");if(Nt!==dt.target&&ot.dragging){var ht=ot._getPointInfo(dt);ot.draggingShape&&ot._emitEvent("drop",dt,ht,null),ot._emitEvent("dragend",dt,ht,ot.draggingShape),ot._afterDrag(ot.draggingShape,ht,dt)}},this.canvas=rt.canvas}return ut.prototype.init=function(){this._bindEvents()},ut.prototype._bindEvents=function(){var rt=this,ot=this.canvas.get("el");Object(O.a)(F,function(dt){ot.addEventListener(dt,rt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},ut.prototype._clearEvents=function(){var rt=this,ot=this.canvas.get("el");Object(O.a)(F,function(dt){ot.removeEventListener(dt,rt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},ut.prototype._getEventObj=function(rt,ot,dt,Mt,Nt,ht){var yt=new z.a(rt,ot);return yt.fromShape=Nt,yt.toShape=ht,yt.x=dt.x,yt.y=dt.y,yt.clientX=dt.clientX,yt.clientY=dt.clientY,yt.propagationPath.push(Mt),yt},ut.prototype._getShape=function(rt,ot){return this.canvas.getShape(rt.x,rt.y,ot)},ut.prototype._getPointInfo=function(rt){var ot=this.canvas,dt=ot.getClientByEvent(rt),Mt=ot.getPointByEvent(rt);return{x:Mt.x,y:Mt.y,clientX:dt.x,clientY:dt.y}},ut.prototype._triggerEvent=function(rt,ot){var dt=this._getPointInfo(ot),Mt=this._getShape(dt,ot),Nt=this["_on"+rt],ht=!1;if(Nt)Nt.call(this,dt,Mt,ot);else{var yt=this.currentShape;rt==="mouseenter"||rt==="dragenter"||rt==="mouseover"?(this._emitEvent(rt,ot,dt,null,null,Mt),Mt&&this._emitEvent(rt,ot,dt,Mt,null,Mt),rt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ot,dt,null)):rt==="mouseleave"||rt==="dragleave"||rt==="mouseout"?(ht=!0,yt&&this._emitEvent(rt,ot,dt,yt,yt,null),this._emitEvent(rt,ot,dt,null,yt,null),rt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ot,dt,null)):this._emitEvent(rt,ot,dt,Mt,null,null)}if(ht||(this.currentShape=Mt),Mt&&!Mt.get("destroyed")){var ft=this.canvas,st=ft.get("el");st.style.cursor=Mt.attr("cursor")||ft.get("cursor")}},ut.prototype._onmousedown=function(rt,ot,dt){dt.button===L&&(this.mousedownShape=ot,this.mousedownPoint=rt,this.mousedownTimeStamp=dt.timeStamp),this._emitEvent("mousedown",dt,rt,ot,null,null)},ut.prototype._emitMouseoverEvents=function(rt,ot,dt,Mt){var Nt=this.canvas.get("el");dt!==Mt&&(dt&&(this._emitEvent("mouseout",rt,ot,dt,dt,Mt),this._emitEvent("mouseleave",rt,ot,dt,dt,Mt),(!Mt||Mt.get("destroyed"))&&(Nt.style.cursor=this.canvas.get("cursor"))),Mt&&(this._emitEvent("mouseover",rt,ot,Mt,dt,Mt),this._emitEvent("mouseenter",rt,ot,Mt,dt,Mt)))},ut.prototype._emitDragoverEvents=function(rt,ot,dt,Mt,Nt){Mt?(Mt!==dt&&(dt&&this._emitEvent("dragleave",rt,ot,dt,dt,Mt),this._emitEvent("dragenter",rt,ot,Mt,dt,Mt)),Nt||this._emitEvent("dragover",rt,ot,Mt)):dt&&this._emitEvent("dragleave",rt,ot,dt,dt,Mt),Nt&&this._emitEvent("dragover",rt,ot,Mt)},ut.prototype._afterDrag=function(rt,ot,dt){rt&&(rt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Mt=this._getShape(ot,dt);Mt!==rt&&this._emitMouseoverEvents(dt,ot,rt,Mt),this.currentShape=Mt},ut.prototype._onmouseup=function(rt,ot,dt){if(dt.button===L){var Mt=this.draggingShape;this.dragging?(Mt&&this._emitEvent("drop",dt,rt,ot),this._emitEvent("dragend",dt,rt,Mt),this._afterDrag(Mt,rt,dt)):(this._emitEvent("mouseup",dt,rt,ot),ot===this.mousedownShape&&this._emitEvent("click",dt,rt,ot),this.mousedownShape=null,this.mousedownPoint=null)}},ut.prototype._ondragover=function(rt,ot,dt){dt.preventDefault();var Mt=this.currentShape;this._emitDragoverEvents(dt,rt,Mt,ot,!0)},ut.prototype._onmousemove=function(rt,ot,dt){var Mt=this.canvas,Nt=this.currentShape,ht=this.draggingShape;if(this.dragging)ht&&this._emitDragoverEvents(dt,rt,Nt,ot,!1),this._emitEvent("drag",dt,rt,ht);else{var yt=this.mousedownPoint;if(yt){var ft=this.mousedownShape,st=dt.timeStamp,xt=st-this.mousedownTimeStamp,gt=yt.clientX-rt.clientX,At=yt.clientY-rt.clientY,pt=gt*gt+At*At;xt>120||pt>B?ft&&ft.get("draggable")?(ht=this.mousedownShape,ht.set("capture",!1),this.draggingShape=ht,this.dragging=!0,this._emitEvent("dragstart",dt,rt,ht),this.mousedownShape=null,this.mousedownPoint=null):!ft&&Mt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",dt,rt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(dt,rt,Nt,ot),this._emitEvent("mousemove",dt,rt,ot)):(this._emitMouseoverEvents(dt,rt,Nt,ot),this._emitEvent("mousemove",dt,rt,ot))}else this._emitMouseoverEvents(dt,rt,Nt,ot),this._emitEvent("mousemove",dt,rt,ot)}},ut.prototype._emitEvent=function(rt,ot,dt,Mt,Nt,ht){var yt=this._getEventObj(rt,ot,dt,Mt,Nt,ht);if(Mt){yt.shape=Mt,Y(Mt,rt,yt);for(var ft=Mt.getParent();ft;)ft.emitDelegation(rt,yt),yt.propagationStopped||tt(ft,rt,yt),yt.propagationPath.push(ft),ft=ft.getParent()}else{var st=this.canvas;Y(st,rt,yt)}},ut.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},ut}(),H=q,Q="px",k=Object(a.a)(),K=k&&k.name==="firefox",nt=function(ut){Object(c.__extends)(rt,ut);function rt(ot){var dt=ut.call(this,ot)||this;return dt.initContainer(),dt.initDom(),dt.initEvents(),dt.initTimeline(),dt}return rt.prototype.getDefaultCfg=function(){var ot=ut.prototype.getDefaultCfg.call(this);return ot.cursor="default",ot.supportCSSTransform=!1,ot},rt.prototype.initContainer=function(){var ot=this.get("container");Object(O.h)(ot)&&(ot=document.getElementById(ot),this.set("container",ot))},rt.prototype.initDom=function(){var ot=this.createDom();this.set("el",ot);var dt=this.get("container");dt.appendChild(ot),this.setDOMSize(this.get("width"),this.get("height"))},rt.prototype.initEvents=function(){var ot=new H({canvas:this});ot.init(),this.set("eventController",ot)},rt.prototype.initTimeline=function(){var ot=new W(this);this.set("timeline",ot)},rt.prototype.setDOMSize=function(ot,dt){var Mt=this.get("el");O.c&&(Mt.style.width=ot+Q,Mt.style.height=dt+Q)},rt.prototype.changeSize=function(ot,dt){this.setDOMSize(ot,dt),this.set("width",ot),this.set("height",dt),this.onCanvasChange("changeSize")},rt.prototype.getRenderer=function(){return this.get("renderer")},rt.prototype.getCursor=function(){return this.get("cursor")},rt.prototype.setCursor=function(ot){this.set("cursor",ot);var dt=this.get("el");O.c&&dt&&(dt.style.cursor=ot)},rt.prototype.getPointByEvent=function(ot){var dt=this.get("supportCSSTransform");if(dt){if(K&&!Object(O.e)(ot.layerX)&&ot.layerX!==ot.offsetX)return{x:ot.layerX,y:ot.layerY};if(!Object(O.e)(ot.offsetX))return{x:ot.offsetX,y:ot.offsetY}}var Mt=this.getClientByEvent(ot),Nt=Mt.x,ht=Mt.y;return this.getPointByClient(Nt,ht)},rt.prototype.getClientByEvent=function(ot){var dt=ot;return ot.touches&&(ot.type==="touchend"?dt=ot.changedTouches[0]:dt=ot.touches[0]),{x:dt.clientX,y:dt.clientY}},rt.prototype.getPointByClient=function(ot,dt){var Mt=this.get("el"),Nt=Mt.getBoundingClientRect();return{x:ot-Nt.left,y:dt-Nt.top}},rt.prototype.getClientByPoint=function(ot,dt){var Mt=this.get("el"),Nt=Mt.getBoundingClientRect();return{x:ot+Nt.left,y:dt+Nt.top}},rt.prototype.draw=function(){},rt.prototype.removeDom=function(){var ot=this.get("el");ot.parentNode.removeChild(ot)},rt.prototype.clearEvents=function(){var ot=this.get("eventController");ot.destroy()},rt.prototype.isCanvas=function(){return!0},rt.prototype.getParent=function(){return null},rt.prototype.destroy=function(){var ot=this.get("timeline");this.get("destroyed")||(this.clear(),ot&&ot.stop(),this.clearEvents(),this.removeDom(),ut.prototype.destroy.call(this))},rt}(M.a),lt=A.a=nt},oFJY:function(Lt,A,i){"use strict";i.d(A,"b",function(){return a}),i.d(A,"c",function(){return M}),i.d(A,"a",function(){return O});var c=i("SCaY");function a(x,D){var E=x.cfg.el,S=x.attr(),p={dx:S.shadowOffsetX,dy:S.shadowOffsetY,blur:S.shadowBlur,color:S.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)E.removeAttribute("filter");else{var b=D.find("filter",p);b||(b=D.addShadow(p)),E.setAttribute("filter","url(#"+b+")")}}function M(x){var D=x.attr().matrix;if(D){for(var E=x.cfg.el,S=[],p=0;p<9;p+=3)S.push(D[p]+","+D[p+1]);S=S.join(","),S.indexOf("NaN")===-1?E.setAttribute("transform","matrix("+S+")"):console.warn("invalid matrix:",D)}}function O(x,D){var E=x.getClip(),S=x.get("el");if(!E)S.removeAttribute("clip-path");else if(E&&!S.hasAttribute("clip-path")){Object(c.a)(E),E.createPath(D);var p=D.addClip(E);S.setAttribute("clip-path","url(#"+p+")")}}},oNBn:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("sgcf"),x=i("s9g+"),D=i("Jze/"),E=i("b00Y"),S=i("g2X9"),p=i("M1/f"),b=i("khvB"),y={field:"value",as:["x","y","r"],sort:function(K,nt){return nt.value-K.value}};function C(K,nt){nt=Object(M.assign)({},y,nt);var lt=nt.as;if(!Object(M.isArray)(lt)||lt.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var ut;try{ut=Object(b.b)(nt)}catch(ht){console.warn(ht)}var rt=function(ht){return S.a().size(nt.size).padding(nt.padding)(p.c(ht).sum(function(yt){return yt[ut]}).sort(nt.sort))},ot=rt(K),dt=lt[0],Mt=lt[1],Nt=lt[2];return ot.each(function(ht){ht[dt]=ht.x,ht[Mt]=ht.y,ht[Nt]=ht.r}),Object(b.a)(ot)}var I=i("b0U9");function g(K){var nt=K.data,lt=K.hierarchyConfig,ut=K.rawFields,rt=ut===void 0?[]:ut,ot=K.enableDrillDown,dt=C(nt,Object(c.__assign)(Object(c.__assign)({},lt),{field:"value",as:["x","y","r"]})),Mt=[];return dt.forEach(function(Nt){for(var ht,yt=Nt.data.name,ft=Object(c.__assign)({},Nt);ft.depth>1;)yt=((ht=ft.parent.data)===null||ht===void 0?void 0:ht.name)+" / "+yt,ft=ft.parent;if(ot&&Nt.depth>2)return null;var st=Object(D.c)({},Nt.data,Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},Object(D.s)(Nt.data,rt)),{path:yt}),Nt));st.ext=lt,st[I.b]={hierarchyConfig:lt,rawFields:rt,enableDrillDown:ot},Mt.push(st)}),Mt}function R(K){var nt=K.map(function(ut){return Object(E.b)(ut)}),lt=[0,0,0,0];return nt.length>0&&(lt=lt.map(function(ut,rt){return nt.forEach(function(ot,dt){ut+=nt[dt][rt]}),ut})),lt}function U(K,nt,lt){var ut=R([K,nt]),rt=ut[0],ot=ut[1],dt=ut[2],Mt=ut[3],Nt=lt.width,ht=lt.height,yt=Nt-(Mt+ot),ft=ht-(rt+dt),st=Math.min(yt,ft),xt=(yt-st)/2,gt=(ft-st)/2,At=rt+gt,pt=ot+xt,_=dt+gt,$=Mt+xt,bt=[At,pt,_,$],it=st<0?0:st;return{finalPadding:bt,finalSize:it}}var W=["x","y","r","name","value","path","depth"],z={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function B(K){var nt=K.chart,lt=Math.min(nt.viewBBox.width,nt.viewBBox.height);return Object(D.c)({options:{size:function(ut){var rt=ut.r;return rt*lt}}},K)}function L(K){var nt=K.options,lt=K.chart,ut=lt.viewBBox,rt=nt.padding,ot=nt.appendPadding,dt=nt.drilldown,Mt=ot;if(dt==null?void 0:dt.enabled){var Nt=Object(E.a)(lt.appendPadding,Object(M.get)(dt,["breadCrumb","position"]));Mt=R([Nt,ot])}var ht=U(rt,Mt,ut).finalPadding;return lt.padding=ht,lt.appendPadding=0,K}function w(K){var nt=K.chart,lt=K.options,ut=nt.padding,rt=nt.appendPadding,ot=lt.color,dt=lt.colorField,Mt=lt.pointStyle,Nt=lt.hierarchyConfig,ht=lt.sizeField,yt=lt.rawFields,ft=yt===void 0?[]:yt,st=lt.drilldown,xt=g({data:lt.data,hierarchyConfig:Nt,enableDrillDown:st==null?void 0:st.enabled,rawFields:ft});nt.data(xt);var gt=nt.viewBBox,At=U(ut,rt,gt).finalSize,pt=function(_){var $=_.r;return $*At};return ht&&(pt=function(_){return _[ht]*At}),Object(O.a)(Object(D.c)({},K,{options:{xField:"x",yField:"y",seriesField:dt,sizeField:ht,rawFields:Object(c.__spreadArrays)(W,ft),point:{color:ot,style:Mt,shape:"circle",size:pt}}})),K}function F(K){return Object(D.f)(Object(x.f)({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(K)}function V(K){var nt=K.chart,lt=K.options,ut=lt.tooltip;if(ut===!1)nt.tooltip(!1);else{var rt=ut;Object(M.get)(ut,"fields")||(rt=Object(D.c)({},{customItems:function(ot){return ot.map(function(dt){var Mt=Object(M.get)(nt.getOptions(),"scales"),Nt=Object(M.get)(Mt,["name","formatter"],function(yt){return yt}),ht=Object(M.get)(Mt,["value","formatter"],function(yt){return yt});return Object(c.__assign)(Object(c.__assign)({},dt),{name:Nt(dt.data.name),value:ht(dt.data.value)})})}},rt)),nt.tooltip(rt)}return K}function Y(K){var nt=K.chart;return nt.axis(!1),K}function tt(K){var nt=K.drilldown,lt=K.interactions,ut=lt===void 0?[]:lt;return(nt==null?void 0:nt.enabled)?Object(D.c)({},K,{interactions:Object(c.__spreadArrays)(ut,[{type:"drill-down",cfg:{drillDownConfig:nt,transformData:g,enableDrillDown:!0}}])}):K}function q(K){var nt=K.chart,lt=K.options;return Object(x.c)({chart:nt,options:tt(lt)}),K}function H(K){return Object(D.f)(B,L,x.j,F,w,Y,x.d,V,q,x.a,Object(x.b)())(K)}var Q=i("ORSI"),k=function(K){Object(c.__extends)(nt,K);function nt(){var lt=K!==null&&K.apply(this,arguments)||this;return lt.type="circle-packing",lt}return nt.getDefaultOptions=function(){return z},nt.prototype.getDefaultOptions=function(){return nt.getDefaultOptions()},nt.prototype.getSchemaAdaptor=function(){return H},nt.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},nt}(a.b)},oO1q:function(Lt,A,i){"use strict";i.d(A,"a",function(){return ht});var c=i("CMID"),a=i("8Mtd"),M=i("GgvZ"),O=i("Jze/"),x=i("s9g+"),D=i("P4df"),E=i("VMMH"),S;(function(yt){yt.Left="Left",yt.Right="Right"})(S||(S={}));var p;(function(yt){yt.Line="line",yt.Column="column"})(p||(p={}));var b="left-axes-view",y="right-axes-view",C={nice:!0,label:{autoHide:!0,autoRotate:!1}},I=Object(c.__assign)(Object(c.__assign)({},C),{position:"left"}),g=Object(c.__assign)(Object(c.__assign)({},C),{position:"right",grid:null});function R(yt){return Object(a.get)(yt,"geometry")===p.Line}function U(yt){return Object(a.get)(yt,"geometry")===p.Column}function W(yt,ft,st){return U(st)?Object(O.c)({},{geometry:p.Column,label:st.label&&st.isRange?{content:function(xt){var gt;return(gt=xt[ft])===null||gt===void 0?void 0:gt.join("-")}}:void 0},st):Object(c.__assign)({geometry:p.Line},st)}function z(yt,ft){var st=yt[0],xt=yt[1];if(Object(a.isArray)(ft)){var gt=ft[0],At=ft[1];return[gt,At]}var pt=Object(a.get)(ft,st),_=Object(a.get)(ft,xt);return[pt,_]}function B(yt,ft){return ft===S.Left?yt===!1?!1:Object(O.c)({},I,yt):ft===S.Right?yt===!1?!1:Object(O.c)({},g,yt):yt}var L=i("dNsf");function w(yt){var ft=yt.view,st=yt.geometryOption,xt=yt.yField,gt=yt.legend,At=Object(a.get)(gt,"marker"),pt=Object(O.d)(ft,R(st)?"line":"interval");if(!st.seriesField){var _=pt.getAttribute("color"),$=_.values[0],bt=At||(R(st)?{symbol:function(Ot,Pt,Rt){return[["M",Ot-Rt,Pt],["L",Ot+Rt,Pt]]},style:{lineWidth:2,r:6,stroke:$}}:{symbol:"square",style:{fill:$}});return[{value:xt,name:Object(a.get)(ft,"options.scales."+xt+".alias")||xt,marker:bt,isGeometry:!0,viewId:ft.id}]}var it=pt.getGroupAttributes();return Object(a.reduce)(it,function(Ot,Pt){var Rt=L.Util.getLegendItems(ft,pt,Pt,ft.getTheme(),At);return Ot.concat(Rt)},[])}var F=i("Yz/u");function V(yt){var ft=yt.options,st=yt.chart,xt=ft.geometryOption,gt=xt.isStack,At=xt.color,pt=xt.seriesField,_=xt.groupField,$=xt.isGroup,bt=["xField","yField"];if(R(xt)){Object(F.d)(Object(O.c)({},yt,{options:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},Object(O.s)(ft,bt)),xt),{line:{color:xt.color,style:xt.lineStyle}})})),Object(F.e)(Object(O.c)({},yt,{options:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},Object(O.s)(ft,bt)),xt),{point:xt.point&&Object(c.__assign)({color:At,shape:"circle"},xt.point)})}));var it=[];$&&it.push({type:"dodge",dodgeBy:_||pt,customOffset:0}),gt&&it.push({type:"stack"}),it.length&&Object(a.each)(st.geometries,function(Ot){Ot.adjust(it)})}return U(xt)&&Object(F.c)(Object(O.c)({},yt,{options:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},Object(O.s)(ft,bt)),xt),{widthRatio:xt.columnWidthRatio,interval:Object(c.__assign)(Object(c.__assign)({},Object(O.s)(xt,["color"])),{style:xt.columnStyle})})})),yt}var Y=function(yt,ft){var st=ft[0],xt=ft[1],gt=yt.getOptions().data,At=yt.getXScale(),pt=Object(a.size)(gt);if(!(!At||!pt)){var _=!0,$=Object(a.valuesOfKey)(gt,At.field),bt=_?$:$.reverse(),it=Object(a.size)(bt),Ot=Math.floor(st*(it-1)),Pt=Math.floor(xt*(it-1));yt.filter(At.field,function(Rt){var Vt=bt.indexOf(Rt);return Vt>-1?Object(O.n)(Vt,Ot,Pt):!0}),yt.render(!0)}};function tt(yt){var ft,st=yt.options,xt=st.geometryOptions,gt=xt===void 0?[]:xt,At=st.xField,pt=st.yField,_=Object(a.every)(gt,function($){var bt=$.geometry;return bt===p.Line||bt===void 0});return Object(O.c)({},{options:{geometryOptions:[],meta:(ft={},ft[At]={type:"cat",sync:!0,range:_?[0,1]:void 0},ft),tooltip:{showMarkers:_,showCrosshairs:_,shared:!0,crosshairs:{type:"x"}},interactions:_?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},yt,{options:{yAxis:z(pt,st.yAxis),geometryOptions:[W(At,pt[0],gt[0]),W(At,pt[1],gt[1])],annotations:z(pt,st.annotations)}})}function q(yt){var ft=yt.chart,st=yt.options,xt=st.xField,gt=st.yField,At=st.geometryOptions,pt=st.data,_=st.tooltip,$={line:0,column:1},bt=[Object(c.__assign)(Object(c.__assign)({},At[0]),{id:b,data:pt[0],yField:gt[0]}),Object(c.__assign)(Object(c.__assign)({},At[1]),{id:y,data:pt[1],yField:gt[1]})];return bt.sort(function(it,Ot){return-$[it.geometry]+$[Ot.geometry]}).forEach(function(it){var Ot=it.id,Pt=it.data,Rt=it.yField,Vt=U(it)&&it.isPercent,kt=Vt?Object(D.b)(Pt,Rt,xt,Rt):Pt,Wt=ft.createView({id:Ot}).data(kt),wt=Vt?Object(c.__assign)({formatter:function(ct){return{name:ct[it.seriesField]||Rt,value:(Number(ct[Rt])*100).toFixed(2)+"%"}}},_):_;V({chart:Wt,options:{xField:xt,yField:Rt,tooltip:wt,geometryOption:it}})}),yt}function H(yt){var ft,st=yt.chart,xt=yt.options,gt=xt.geometryOptions,At=((ft=st.getTheme())===null||ft===void 0?void 0:ft.colors10)||[],pt=0;return st.once("beforepaint",function(){Object(a.each)(gt,function(_,$){var bt=Object(E.a)(st,$===0?b:y);if(!_.color){var it=bt.getGroupScales(),Ot=Object(a.get)(it,[0,"values","length"],1),Pt=At.slice(pt,pt+Ot).concat($===0?[]:At);bt.geometries.forEach(function(Rt){_.seriesField?Rt.color(_.seriesField,Pt):Rt.color(Pt[0])}),pt+=Ot}}),st.render(!0)}),yt}function Q(yt){var ft,st,xt=yt.chart,gt=yt.options,At=gt.xAxis,pt=gt.yAxis,_=gt.xField,$=gt.yField;return Object(x.f)((ft={},ft[_]=At,ft[$[0]]=pt[0],ft))(Object(O.c)({},yt,{chart:Object(E.a)(xt,b)})),Object(x.f)((st={},st[_]=At,st[$[1]]=pt[1],st))(Object(O.c)({},yt,{chart:Object(E.a)(xt,y)})),yt}function k(yt){var ft=yt.chart,st=yt.options,xt=Object(E.a)(ft,b),gt=Object(E.a)(ft,y),At=st.xField,pt=st.yField,_=st.xAxis,$=st.yAxis;return ft.axis(At,!1),ft.axis(pt[0],!1),ft.axis(pt[1],!1),xt.axis(At,_),xt.axis(pt[0],B($[0],S.Left)),gt.axis(At,!1),gt.axis(pt[1],B($[1],S.Right)),yt}function K(yt){var ft=yt.chart,st=yt.options,xt=st.tooltip,gt=Object(E.a)(ft,b),At=Object(E.a)(ft,y);return ft.tooltip(xt),gt.tooltip({shared:!0}),At.tooltip({shared:!0}),yt}function nt(yt){var ft=yt.chart;return Object(x.c)(Object(O.c)({},yt,{chart:Object(E.a)(ft,b)})),Object(x.c)(Object(O.c)({},yt,{chart:Object(E.a)(ft,y)})),yt}function lt(yt){var ft=yt.chart,st=yt.options,xt=st.annotations,gt=Object(a.get)(xt,[0]),At=Object(a.get)(xt,[1]);return Object(x.b)(gt)(Object(O.c)({},yt,{chart:Object(E.a)(ft,b),options:{annotations:gt}})),Object(x.b)(At)(Object(O.c)({},yt,{chart:Object(E.a)(ft,y),options:{annotations:At}})),yt}function ut(yt){var ft=yt.chart;return Object(x.j)(Object(O.c)({},yt,{chart:Object(E.a)(ft,b)})),Object(x.j)(Object(O.c)({},yt,{chart:Object(E.a)(ft,y)})),Object(x.j)(yt),yt}function rt(yt){var ft=yt.chart;return Object(x.a)(Object(O.c)({},yt,{chart:Object(E.a)(ft,b)})),Object(x.a)(Object(O.c)({},yt,{chart:Object(E.a)(ft,y)})),yt}function ot(yt){var ft=yt.chart,st=yt.options,xt=st.yAxis;return Object(x.e)(Object(O.c)({},yt,{chart:Object(E.a)(ft,b),options:{yAxis:xt[0]}})),Object(x.e)(Object(O.c)({},yt,{chart:Object(E.a)(ft,y),options:{yAxis:xt[1]}})),yt}function dt(yt){var ft=yt.chart,st=yt.options,xt=st.legend,gt=st.geometryOptions,At=st.yField,pt=st.data,_=Object(E.a)(ft,b),$=Object(E.a)(ft,y);return xt===!1?ft.legend(!1):Object(a.isObject)(xt)&&xt.custom===!0?ft.legend(xt):(ft.once("beforepaint",function(){var bt=pt[0].length?w({view:_,geometryOption:gt[0],yField:At[0],legend:xt}):[],it=pt[1].length?w({view:$,geometryOption:gt[1],yField:At[1],legend:xt}):[];ft.legend(Object(O.c)({},xt,{custom:!0,items:bt.concat(it)}))}),ft.on("legend-item:click",function(bt){var it=Object(a.get)(bt,"gEvent.delegateObject",{});if(it&&it.item){var Ot=it.item,Pt=Ot.value,Rt=Ot.isGeometry,Vt=Ot.viewId;if(Rt){var kt=Object(a.findIndex)(At,function(ct){return ct===Pt});if(kt>-1){var Wt=Object(a.get)(Object(E.a)(ft,Vt),"geometries");Object(a.each)(Wt,function(ct){ct.changeVisible(!it.item.unchecked)})}}else{var wt=Object(a.get)(ft.getController("legend"),"option.items",[]);Object(a.each)(ft.views,function(ct){var jt=ct.getGroupScales();Object(a.each)(jt,function(Xt){Xt.values&&Xt.values.indexOf(Pt)>-1&&ct.filter(Xt.field,function(It){var Ut=Object(a.find)(wt,function($t){return $t.value===It});return!Ut.unchecked})}),ft.render(!0)})}}})),yt}function Mt(yt){var ft=yt.chart,st=yt.options,xt=st.slider,gt=Object(E.a)(ft,b),At=Object(E.a)(ft,y);return xt&&(gt.option("slider",xt),gt.on("slider:valuechanged",function(pt){var _=pt.event,$=_.value,bt=_.originValue;Object(a.isEqual)($,bt)||Y(At,$)}),ft.once("afterpaint",function(){if(!Object(a.isBoolean)(xt)){var pt=xt.start,_=xt.end;(pt||_)&&Y(At,[pt,_])}})),yt}function Nt(yt){return Object(O.f)(tt,q,Q,k,ot,K,nt,lt,ut,rt,H,dt,Mt)(yt)}var ht=function(yt){Object(c.__extends)(ft,yt);function ft(){var st=yt!==null&&yt.apply(this,arguments)||this;return st.type="dual-axes",st}return ft.prototype.getDefaultOptions=function(){return Object(O.c)({},yt.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},ft.prototype.getSchemaAdaptor=function(){return Nt},ft.prototype.setState=function(st,xt,gt){gt===void 0&&(gt=!0);var At=Object(O.h)(this.chart);Object(a.each)(At,function(pt){xt(pt.getData())&&pt.setState(st,gt)})},ft.prototype.getStates=function(){var st=Object(O.h)(this.chart),xt=[];return Object(a.each)(st,function(gt){var At=gt.getData(),pt=gt.getStates();Object(a.each)(pt,function(_){xt.push({data:At,state:_,geometry:gt.geometry,element:gt})})}),xt},ft}(M.b)},oOaK:function(Lt,A,i){var c=i("HxLA");function a(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),O&&c(M,O)}Lt.exports=a,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},oS5r:function(Lt,A,i){"use strict";var c=i("tuqv"),a=i("Od3v"),M=i("gPRb"),O=i("aOLp");A.a=function(){var x=a.a,D=!1,E=1,S=1,p=[0],b=O.a,y=O.a,C=O.a,I=O.a,g=O.a;function R(W){return W.x0=W.y0=0,W.x1=E,W.y1=S,W.eachBefore(U),p=[0],D&&W.eachBefore(c.a),W}function U(W){var z=p[W.depth],B=W.x0+z,L=W.y0+z,w=W.x1-z,F=W.y1-z;w<B&&(B=w=(B+w)/2),F<L&&(L=F=(L+F)/2),W.x0=B,W.y0=L,W.x1=w,W.y1=F,W.children&&(z=p[W.depth+1]=b(W)/2,B+=g(W)-z,L+=y(W)-z,w-=C(W)-z,F-=I(W)-z,w<B&&(B=w=(B+w)/2),F<L&&(L=F=(L+F)/2),x(W,B,L,w,F))}return R.round=function(W){return arguments.length?(D=!!W,R):D},R.size=function(W){return arguments.length?(E=+W[0],S=+W[1],R):[E,S]},R.tile=function(W){return arguments.length?(x=Object(M.b)(W),R):x},R.padding=function(W){return arguments.length?R.paddingInner(W).paddingOuter(W):R.paddingInner()},R.paddingInner=function(W){return arguments.length?(b=typeof W=="function"?W:Object(O.b)(+W),R):b},R.paddingOuter=function(W){return arguments.length?R.paddingTop(W).paddingRight(W).paddingBottom(W).paddingLeft(W):R.paddingTop()},R.paddingTop=function(W){return arguments.length?(y=typeof W=="function"?W:Object(O.b)(+W),R):y},R.paddingRight=function(W){return arguments.length?(C=typeof W=="function"?W:Object(O.b)(+W),R):C},R.paddingBottom=function(W){return arguments.length?(I=typeof W=="function"?W:Object(O.b)(+W),R):I},R.paddingLeft=function(W){return arguments.length?(g=typeof W=="function"?W:Object(O.b)(+W),R):g},R}},of5Y:function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("kr+H"),M=i("9xKD").slack,O=i("9xKD").longestPath,x=i("43gi").alg.preorder,D=i("43gi").alg.postorder,E=i("hppO").simplify;Lt.exports=S,S.initLowLimValues=C,S.initCutValues=p,S.calcCutValue=y,S.leaveEdge=g,S.enterEdge=R,S.exchangeEdges=U;function S(L){L=E(L),O(L);var w=a(L);C(w),p(w,L);for(var F,V;F=g(w);)V=R(w,L,F),U(w,L,F,V)}function p(L,w){var F=D(L,L.nodes());F=F.slice(0,F.length-1),c.forEach(F,function(V){b(L,w,V)})}function b(L,w,F){var V=L.node(F),Y=V.parent;L.edge(F,Y).cutvalue=y(L,w,F)}function y(L,w,F){var V=L.node(F),Y=V.parent,tt=!0,q=w.edge(F,Y),H=0;return q||(tt=!1,q=w.edge(Y,F)),H=q.weight,c.forEach(w.nodeEdges(F),function(Q){var k=Q.v===F,K=k?Q.w:Q.v;if(K!==Y){var nt=k===tt,lt=w.edge(Q).weight;if(H+=nt?lt:-lt,z(L,F,K)){var ut=L.edge(F,K).cutvalue;H+=nt?-ut:ut}}}),H}function C(L,w){arguments.length<2&&(w=L.nodes()[0]),I(L,{},1,w)}function I(L,w,F,V,Y){var tt=F,q=L.node(V);return w[V]=!0,c.forEach(L.neighbors(V),function(H){c.has(w,H)||(F=I(L,w,F,H,V))}),q.low=tt,q.lim=F++,Y?q.parent=Y:delete q.parent,F}function g(L){return c.find(L.edges(),function(w){return L.edge(w).cutvalue<0})}function R(L,w,F){var V=F.v,Y=F.w;w.hasEdge(V,Y)||(V=F.w,Y=F.v);var tt=L.node(V),q=L.node(Y),H=tt,Q=!1;tt.lim>q.lim&&(H=q,Q=!0);var k=c.filter(w.edges(),function(K){return Q===B(L,L.node(K.v),H)&&Q!==B(L,L.node(K.w),H)});return c.minBy(k,function(K){return M(w,K)})}function U(L,w,F,V){var Y=F.v,tt=F.w;L.removeEdge(Y,tt),L.setEdge(V.v,V.w,{}),C(L),p(L,w),W(L,w)}function W(L,w){var F=c.find(L.nodes(),function(Y){return!w.node(Y).parent}),V=x(L,F);V=V.slice(1),c.forEach(V,function(Y){var tt=L.node(Y).parent,q=w.edge(Y,tt),H=!1;q||(q=w.edge(tt,Y),H=!0),w.node(Y).rank=w.node(tt).rank+(H?q.minlen:-q.minlen)})}function z(L,w,F){return L.hasEdge(w,F)}function B(L,w,F){return F.low<=w.lim&&w.lim<=F.lim}},ojtO:function(Lt,A){},oobg:function(Lt,A){Lt.exports=i;function i(c){var a=c[0],M=c[1];return Math.sqrt(a*a+M*M)}},"oq+b":function(Lt,A,i){"use strict";i.d(A,"a",function(){return D});var c=i("16OP"),a=i.n(c),M=i("7Nom"),O=i.n(M),x=i("99LQ"),D=function(){function E(S,p){a()(this,E),this.center=void 0,this.halfExtents=void 0,this.min=x.e.create(),this.max=x.e.create(),this.update(S,p)}return O()(E,[{key:"update",value:function(p,b){this.center=p||x.e.create(),this.halfExtents=b||x.e.fromValues(.5,.5,.5),this.min=x.e.sub(this.min,this.center,this.halfExtents),this.max=x.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(p,b){x.e.add(this.center,b,p),x.e.scale(this.center,this.center,.5),x.e.sub(this.halfExtents,b,p),x.e.scale(this.halfExtents,this.halfExtents,.5),x.e.copy(this.min,p),x.e.copy(this.max,b)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(p){var b=this.center,y=b[0],C=b[1],I=b[2],g=this.halfExtents,R=g[0],U=g[1],W=g[2],z=y-R,B=y+R,L=C-U,w=C+U,F=I-W,V=I+W,Y=p.center,tt=Y[0],q=Y[1],H=Y[2],Q=p.halfExtents,k=Q[0],K=Q[1],nt=Q[2],lt=tt-k,ut=tt+k,rt=q-K,ot=q+K,dt=H-nt,Mt=H+nt;lt<z&&(z=lt),ut>B&&(B=ut),rt<L&&(L=rt),ot>w&&(w=ot),dt<F&&(F=dt),Mt>V&&(V=Mt),b[0]=(z+B)*.5,b[1]=(L+w)*.5,b[2]=(F+V)*.5,g[0]=(B-z)*.5,g[1]=(w-L)*.5,g[2]=(V-F)*.5,this.min[0]=z,this.min[1]=L,this.min[2]=F,this.max[0]=B,this.max[1]=w,this.max[2]=V}},{key:"intersects",value:function(p){var b=this.getMax(),y=this.getMin(),C=p.getMax(),I=p.getMin();return y[0]<=C[0]&&b[0]>=I[0]&&y[1]<=C[1]&&b[1]>=I[1]&&y[2]<=C[2]&&b[2]>=I[2]}},{key:"containsPoint",value:function(p){var b=this.getMin(),y=this.getMax();return!(p[0]<b[0]||p[0]>y[0]||p[1]<b[1]||p[1]>y[1]||p[2]<b[2]||p[2]>y[2])}},{key:"getNegativeFarPoint",value:function(p){return p.pnVertexFlag===273?x.e.copy(x.e.create(),this.min):p.pnVertexFlag===272?x.e.fromValues(this.min[0],this.min[1],this.max[2]):p.pnVertexFlag===257?x.e.fromValues(this.min[0],this.max[1],this.min[2]):p.pnVertexFlag===256?x.e.fromValues(this.min[0],this.max[1],this.max[2]):p.pnVertexFlag===17?x.e.fromValues(this.max[0],this.min[1],this.min[2]):p.pnVertexFlag===16?x.e.fromValues(this.max[0],this.min[1],this.max[2]):p.pnVertexFlag===1?x.e.fromValues(this.max[0],this.max[1],this.min[2]):x.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(p){return p.pnVertexFlag===273?x.e.copy(x.e.create(),this.max):p.pnVertexFlag===272?x.e.fromValues(this.max[0],this.max[1],this.min[2]):p.pnVertexFlag===257?x.e.fromValues(this.max[0],this.min[1],this.max[2]):p.pnVertexFlag===256?x.e.fromValues(this.max[0],this.min[1],this.min[2]):p.pnVertexFlag===17?x.e.fromValues(this.min[0],this.max[1],this.max[2]):p.pnVertexFlag===16?x.e.fromValues(this.min[0],this.max[1],this.min[2]):p.pnVertexFlag===1?x.e.fromValues(this.min[0],this.min[1],this.max[2]):x.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),E}()},ozhX:function(Lt,A,i){"use strict";i.r(A),i.d(A,"Base",function(){return b}),i.d(A,"Circle",function(){return I}),i.d(A,"Dom",function(){return R}),i.d(A,"Ellipse",function(){return W}),i.d(A,"Image",function(){return B}),i.d(A,"Line",function(){return F}),i.d(A,"Marker",function(){return q}),i.d(A,"Path",function(){return Q}),i.d(A,"Polygon",function(){return K}),i.d(A,"Polyline",function(){return lt}),i.d(A,"Rect",function(){return Nt}),i.d(A,"Text",function(){return At});var c={};i.r(c),i.d(c,"Base",function(){return b}),i.d(c,"Circle",function(){return I}),i.d(c,"Dom",function(){return R}),i.d(c,"Ellipse",function(){return W}),i.d(c,"Image",function(){return B}),i.d(c,"Line",function(){return F}),i.d(c,"Marker",function(){return q}),i.d(c,"Path",function(){return Q}),i.d(c,"Polygon",function(){return K}),i.d(c,"Polyline",function(){return lt}),i.d(c,"Rect",function(){return Nt}),i.d(c,"Text",function(){return At});var a=i("CMID"),M=i("U8wd"),O=i("oFJY"),x=i("SCaY"),D=i("BSge"),E=i("0xlF"),S=i("CyRS"),p=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="svg",$.canFill=!1,$.canStroke=!1,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},_.prototype.afterAttrsChange=function($){pt.prototype.afterAttrsChange.call(this,$);var bt=this.get("canvas");if(bt&&bt.get("autoDraw")){var it=bt.get("context");this.draw(it,$)}},_.prototype.getShapeBase=function(){return c},_.prototype.getGroupBase=function(){return S.a},_.prototype.onCanvasChange=function($){Object(D.b)(this,$)},_.prototype.calculateBBox=function(){var $=this.get("el"),bt=null;if($)bt=$.getBBox();else{var it=Object(M.getBBoxMethod)(this.get("type"));it&&(bt=it(this))}if(bt){var Ot=bt.x,Pt=bt.y,Rt=bt.width,Vt=bt.height,kt=this.getHitLineWidth(),Wt=kt/2,wt=Ot-Wt,ct=Pt-Wt,jt=Ot+Rt+Wt,Xt=Pt+Vt+Wt;return{x:wt,y:ct,minX:wt,minY:ct,maxX:jt,maxY:Xt,width:Rt+kt,height:Vt+kt}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},_.prototype.isFill=function(){var $=this.attr(),bt=$.fill,it=$.fillStyle;return(bt||it||this.isClipShape())&&this.canFill},_.prototype.isStroke=function(){var $=this.attr(),bt=$.stroke,it=$.strokeStyle;return(bt||it)&&this.canStroke},_.prototype.draw=function($,bt){var it=this.get("el");this.get("destroyed")?it&&it.parentNode.removeChild(it):(it||Object(x.a)(this),Object(O.a)(this,$),this.createPath($,bt),this.shadow($,bt),this.strokeAndFill($,bt),this.transform(bt))},_.prototype.createPath=function($,bt){},_.prototype.strokeAndFill=function($,bt){var it=bt||this.attr(),Ot=it.fill,Pt=it.fillStyle,Rt=it.stroke,Vt=it.strokeStyle,kt=it.fillOpacity,Wt=it.strokeOpacity,wt=it.lineWidth,ct=this.get("el");this.canFill&&(bt?"fill"in it?this._setColor($,"fill",Ot):"fillStyle"in it&&this._setColor($,"fill",Pt):this._setColor($,"fill",Ot||Pt),kt&&ct.setAttribute(E.b.fillOpacity,kt)),this.canStroke&&wt>0&&(bt?"stroke"in it?this._setColor($,"stroke",Rt):"strokeStyle"in it&&this._setColor($,"stroke",Vt):this._setColor($,"stroke",Rt||Vt),Wt&&ct.setAttribute(E.b.strokeOpacity,Wt),wt&&ct.setAttribute(E.b.lineWidth,wt))},_.prototype._setColor=function($,bt,it){var Ot=this.get("el");if(!it){Ot.setAttribute(E.b[bt],"none");return}if(it=it.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(it)){var Pt=$.find("gradient",it);Pt||(Pt=$.addGradient(it)),Ot.setAttribute(E.b[bt],"url(#"+Pt+")")}else if(/^[p,P]{1}[\s]*\(/.test(it)){var Pt=$.find("pattern",it);Pt||(Pt=$.addPattern(it)),Ot.setAttribute(E.b[bt],"url(#"+Pt+")")}else Ot.setAttribute(E.b[bt],it)},_.prototype.shadow=function($,bt){var it=this.attr(),Ot=bt||it,Pt=Ot.shadowOffsetX,Rt=Ot.shadowOffsetY,Vt=Ot.shadowBlur,kt=Ot.shadowColor;(Pt||Rt||Vt||kt)&&Object(O.b)(this,$)},_.prototype.transform=function($){var bt=this.attr(),it=($||bt).matrix;it&&Object(O.c)(this)},_.prototype.isInShape=function($,bt){return this.isPointInPath($,bt)},_.prototype.isPointInPath=function($,bt){var it=this.get("el"),Ot=this.get("canvas"),Pt=Ot.get("el").getBoundingClientRect(),Rt=$+Pt.left,Vt=bt+Pt.top,kt=document.elementFromPoint(Rt,Vt);return!!(kt&&kt.isEqualNode(it))},_.prototype.getHitLineWidth=function(){var $=this.attrs,bt=$.lineWidth,it=$.lineAppendWidth;return this.isStroke()?bt+it:0},_}(M.AbstractShape),b=p,y=i("8Mtd"),C=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="circle",$.canFill=!0,$.canStroke=!0,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{x:0,y:0,r:0})},_.prototype.createPath=function($,bt){var it=this.attr(),Ot=this.get("el");Object(y.each)(bt||it,function(Pt,Rt){Rt==="x"||Rt==="y"?Ot.setAttribute("c"+Rt,Pt):E.b[Rt]&&Ot.setAttribute(E.b[Rt],Pt)})},_}(b),I=C,g=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="dom",$.canFill=!1,$.canStroke=!1,$}return _.prototype.createPath=function($,bt){var it=this.attr(),Ot=this.get("el");if(Object(y.each)(bt||it,function(kt,Wt){E.b[Wt]&&Ot.setAttribute(E.b[Wt],kt)}),typeof it.html=="function"){var Pt=it.html.call(this,it);if(Pt instanceof Element||Pt instanceof HTMLDocument){for(var Rt=Ot.childNodes,Vt=Rt.length-1;Vt>=0;Vt--)Ot.removeChild(Rt[Vt]);Ot.appendChild(Pt)}else Ot.innerHTML=Pt}else Ot.innerHTML=it.html},_}(b),R=g,U=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="ellipse",$.canFill=!0,$.canStroke=!0,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{x:0,y:0,rx:0,ry:0})},_.prototype.createPath=function($,bt){var it=this.attr(),Ot=this.get("el");Object(y.each)(bt||it,function(Pt,Rt){Rt==="x"||Rt==="y"?Ot.setAttribute("c"+Rt,Pt):E.b[Rt]&&Ot.setAttribute(E.b[Rt],Pt)})},_}(b),W=U,z=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="image",$.canFill=!1,$.canStroke=!1,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{x:0,y:0,width:0,height:0})},_.prototype.createPath=function($,bt){var it=this,Ot=this.attr(),Pt=this.get("el");Object(y.each)(bt||Ot,function(Rt,Vt){Vt==="img"?it._setImage(Ot.img):E.b[Vt]&&Pt.setAttribute(E.b[Vt],Rt)})},_.prototype.setAttr=function($,bt){this.attrs[$]=bt,$==="img"&&this._setImage(bt)},_.prototype._setImage=function($){var bt=this.attr(),it=this.get("el");if(Object(y.isString)($))it.setAttribute("href",$);else if($ instanceof window.Image)bt.width||(it.setAttribute("width",$.width),this.attr("width",$.width)),bt.height||(it.setAttribute("height",$.height),this.attr("height",$.height)),it.setAttribute("href",$.src);else if($ instanceof HTMLElement&&Object(y.isString)($.nodeName)&&$.nodeName.toUpperCase()==="CANVAS")it.setAttribute("href",$.toDataURL());else if($ instanceof ImageData){var Ot=document.createElement("canvas");Ot.setAttribute("width",""+$.width),Ot.setAttribute("height",""+$.height),Ot.getContext("2d").putImageData($,0,0),bt.width||(it.setAttribute("width",""+$.width),this.attr("width",$.width)),bt.height||(it.setAttribute("height",""+$.height),this.attr("height",$.height)),it.setAttribute("href",Ot.toDataURL())}},_}(b),B=z,L=i("9pBU"),w=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="line",$.canFill=!1,$.canStroke=!0,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},_.prototype.createPath=function($,bt){var it=this.attr(),Ot=this.get("el");Object(y.each)(bt||it,function(Pt,Rt){if(Rt==="startArrow"||Rt==="endArrow")if(Pt){var Vt=Object(y.isObject)(Pt)?$.addArrow(it,E.b[Rt]):$.getDefaultArrow(it,E.b[Rt]);Ot.setAttribute(E.b[Rt],"url(#"+Vt+")")}else Ot.removeAttribute(E.b[Rt]);else E.b[Rt]&&Ot.setAttribute(E.b[Rt],Pt)})},_.prototype.getTotalLength=function(){var $=this.attr(),bt=$.x1,it=$.y1,Ot=$.x2,Pt=$.y2;return L.c.length(bt,it,Ot,Pt)},_.prototype.getPoint=function($){var bt=this.attr(),it=bt.x1,Ot=bt.y1,Pt=bt.x2,Rt=bt.y2;return L.c.pointAt(it,Ot,Pt,Rt,$)},_}(b),F=w,V={circle:function(pt,_,$){return[["M",pt,_],["m",-$,0],["a",$,$,0,1,0,$*2,0],["a",$,$,0,1,0,-$*2,0]]},square:function(pt,_,$){return[["M",pt-$,_-$],["L",pt+$,_-$],["L",pt+$,_+$],["L",pt-$,_+$],["Z"]]},diamond:function(pt,_,$){return[["M",pt-$,_],["L",pt,_-$],["L",pt+$,_],["L",pt,_+$],["Z"]]},triangle:function(pt,_,$){var bt=$*Math.sin(1/3*Math.PI);return[["M",pt-$,_+bt],["L",pt,_-bt],["L",pt+$,_+bt],["z"]]},triangleDown:function(pt,_,$){var bt=$*Math.sin(1/3*Math.PI);return[["M",pt-$,_-bt],["L",pt+$,_-bt],["L",pt,_+bt],["Z"]]}},Y={get:function(pt){return V[pt]},register:function(pt,_){V[pt]=_},remove:function(pt){delete V[pt]},getAll:function(){return V}},tt=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="marker",$.canFill=!0,$.canStroke=!0,$}return _.prototype.createPath=function($){var bt=this.get("el");bt.setAttribute("d",this._assembleMarker())},_.prototype._assembleMarker=function(){var $=this._getPath();return Object(y.isArray)($)?$.map(function(bt){return bt.join(" ")}).join(""):$},_.prototype._getPath=function(){var $=this.attr(),bt=$.x,it=$.y,Ot=$.r||$.radius,Pt=$.symbol||"circle",Rt;return Object(y.isFunction)(Pt)?Rt=Pt:Rt=Y.get(Pt),Rt?Rt(bt,it,Ot):(console.warn(Rt+" symbol is not exist."),null)},_.symbolsFactory=Y,_}(b),q=tt,H=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="path",$.canFill=!0,$.canStroke=!0,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{startArrow:!1,endArrow:!1})},_.prototype.createPath=function($,bt){var it=this,Ot=this.attr(),Pt=this.get("el");Object(y.each)(bt||Ot,function(Rt,Vt){if(Vt==="path"&&Object(y.isArray)(Rt))Pt.setAttribute("d",it._formatPath(Rt));else if(Vt==="startArrow"||Vt==="endArrow")if(Rt){var kt=Object(y.isObject)(Rt)?$.addArrow(Ot,E.b[Vt]):$.getDefaultArrow(Ot,E.b[Vt]);Pt.setAttribute(E.b[Vt],"url(#"+kt+")")}else Pt.removeAttribute(E.b[Vt]);else E.b[Vt]&&Pt.setAttribute(E.b[Vt],Rt)})},_.prototype._formatPath=function($){var bt=$.map(function(it){return it.join(" ")}).join("");return~bt.indexOf("NaN")?"":bt},_.prototype.getTotalLength=function(){var $=this.get("el");return $?$.getTotalLength():null},_.prototype.getPoint=function($){var bt=this.get("el"),it=this.getTotalLength();if(it===0)return null;var Ot=bt?bt.getPointAtLength($*it):null;return Ot?{x:Ot.x,y:Ot.y}:null},_}(b),Q=H,k=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="polygon",$.canFill=!0,$.canStroke=!0,$}return _.prototype.createPath=function($,bt){var it=this.attr(),Ot=this.get("el");Object(y.each)(bt||it,function(Pt,Rt){Rt==="points"&&Object(y.isArray)(Pt)&&Pt.length>=2?Ot.setAttribute("points",Pt.map(function(Vt){return Vt[0]+","+Vt[1]}).join(" ")):E.b[Rt]&&Ot.setAttribute(E.b[Rt],Pt)})},_}(b),K=k,nt=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="polyline",$.canFill=!0,$.canStroke=!0,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{startArrow:!1,endArrow:!1})},_.prototype.onAttrChange=function($,bt,it){pt.prototype.onAttrChange.call(this,$,bt,it),["points"].indexOf($)!==-1&&this._resetCache()},_.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},_.prototype.createPath=function($,bt){var it=this.attr(),Ot=this.get("el");Object(y.each)(bt||it,function(Pt,Rt){Rt==="points"&&Object(y.isArray)(Pt)&&Pt.length>=2?Ot.setAttribute("points",Pt.map(function(Vt){return Vt[0]+","+Vt[1]}).join(" ")):E.b[Rt]&&Ot.setAttribute(E.b[Rt],Pt)})},_.prototype.getTotalLength=function(){var $=this.attr().points,bt=this.get("totalLength");return Object(y.isNil)(bt)?(this.set("totalLength",L.d.length($)),this.get("totalLength")):bt},_.prototype.getPoint=function($){var bt=this.attr().points,it=this.get("tCache");it||(this._setTcache(),it=this.get("tCache"));var Ot,Pt;return Object(y.each)(it,function(Rt,Vt){$>=Rt[0]&&$<=Rt[1]&&(Ot=($-Rt[0])/(Rt[1]-Rt[0]),Pt=Vt)}),L.c.pointAt(bt[Pt][0],bt[Pt][1],bt[Pt+1][0],bt[Pt+1][1],Ot)},_.prototype._setTcache=function(){var $=this.attr().points;if(!(!$||$.length===0)){var bt=this.getTotalLength();if(!(bt<=0)){var it=0,Ot=[],Pt,Rt;Object(y.each)($,function(Vt,kt){$[kt+1]&&(Pt=[],Pt[0]=it/bt,Rt=L.c.length(Vt[0],Vt[1],$[kt+1][0],$[kt+1][1]),it+=Rt,Pt[1]=it/bt,Ot.push(Pt))}),this.set("tCache",Ot)}}},_.prototype.getStartTangent=function(){var $=this.attr().points,bt=[];return bt.push([$[1][0],$[1][1]]),bt.push([$[0][0],$[0][1]]),bt},_.prototype.getEndTangent=function(){var $=this.attr().points,bt=$.length-1,it=[];return it.push([$[bt-1][0],$[bt-1][1]]),it.push([$[bt][0],$[bt][1]]),it},_}(b),lt=nt,ut=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,rt=/[^\s,]+/gi;function ot(pt){var _=0,$=0,bt=0,it=0;return Object(y.isArray)(pt)?pt.length===1?_=$=bt=it=pt[0]:pt.length===2?(_=bt=pt[0],$=it=pt[1]):pt.length===3?(_=pt[0],$=it=pt[1],bt=pt[2]):(_=pt[0],$=pt[1],bt=pt[2],it=pt[3]):_=$=bt=it=pt,{r1:_,r2:$,r3:bt,r4:it}}function dt(pt){if(pt=pt||[],Object(y.isArray)(pt))return pt;if(Object(y.isString)(pt))return pt=pt.match(ut),Object(y.each)(pt,function(_,$){if(_=_.match(rt),_[0].length>1){var bt=_[0].charAt(0);_.splice(1,0,_[0].substr(1)),_[0]=bt}Object(y.each)(_,function(it,Ot){isNaN(it)||(_[Ot]=+it)}),pt[$]=_}),pt}var Mt=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="rect",$.canFill=!0,$.canStroke=!0,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{x:0,y:0,width:0,height:0,radius:0})},_.prototype.createPath=function($,bt){var it=this,Ot=this.attr(),Pt=this.get("el"),Rt=!1,Vt=["x","y","width","height","radius"];Object(y.each)(bt||Ot,function(kt,Wt){Vt.indexOf(Wt)!==-1&&!Rt?(Pt.setAttribute("d",it._assembleRect(Ot)),Rt=!0):Vt.indexOf(Wt)===-1&&E.b[Wt]&&Pt.setAttribute(E.b[Wt],kt)})},_.prototype._assembleRect=function($){var bt=$.x,it=$.y,Ot=$.width,Pt=$.height,Rt=$.radius;if(!Rt)return"M "+bt+","+it+" l "+Ot+",0 l 0,"+Pt+" l"+-Ot+" 0 z";var Vt=ot(Rt);Object(y.isArray)(Rt)?Rt.length===1?Vt.r1=Vt.r2=Vt.r3=Vt.r4=Rt[0]:Rt.length===2?(Vt.r1=Vt.r3=Rt[0],Vt.r2=Vt.r4=Rt[1]):Rt.length===3?(Vt.r1=Rt[0],Vt.r2=Vt.r4=Rt[1],Vt.r3=Rt[2]):(Vt.r1=Rt[0],Vt.r2=Rt[1],Vt.r3=Rt[2],Vt.r4=Rt[3]):Vt.r1=Vt.r2=Vt.r3=Vt.r4=Rt;var kt=[["M "+(bt+Vt.r1)+","+it],["l "+(Ot-Vt.r1-Vt.r2)+",0"],["a "+Vt.r2+","+Vt.r2+",0,0,1,"+Vt.r2+","+Vt.r2],["l 0,"+(Pt-Vt.r2-Vt.r3)],["a "+Vt.r3+","+Vt.r3+",0,0,1,"+-Vt.r3+","+Vt.r3],["l "+(Vt.r3+Vt.r4-Ot)+",0"],["a "+Vt.r4+","+Vt.r4+",0,0,1,"+-Vt.r4+","+-Vt.r4],["l 0,"+(Vt.r4+Vt.r1-Pt)],["a "+Vt.r1+","+Vt.r1+",0,0,1,"+Vt.r1+","+-Vt.r1],["z"]];return kt.join(" ")},_}(b),Nt=Mt,ht=i("qfLv"),yt=.3,ft={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},st={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},xt={left:"left",start:"left",center:"middle",right:"end",end:"end"},gt=function(pt){Object(a.__extends)(_,pt);function _(){var $=pt!==null&&pt.apply(this,arguments)||this;return $.type="text",$.canFill=!0,$.canStroke=!0,$}return _.prototype.getDefaultAttrs=function(){var $=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},$),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},_.prototype.createPath=function($,bt){var it=this,Ot=this.attr(),Pt=this.get("el");this._setFont(),Object(y.each)(bt||Ot,function(Rt,Vt){Vt==="text"?it._setText(""+Rt):Vt==="matrix"&&Rt?Object(O.c)(it):E.b[Vt]&&Pt.setAttribute(E.b[Vt],Rt)}),Pt.setAttribute("paint-order","stroke"),Pt.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},_.prototype._setFont=function(){var $=this.get("el"),bt=this.attr(),it=bt.textBaseline,Ot=bt.textAlign,Pt=Object(ht.a)();Pt&&Pt.name==="firefox"?$.setAttribute("dominant-baseline",st[it]||"alphabetic"):$.setAttribute("alignment-baseline",ft[it]||"baseline"),$.setAttribute("text-anchor",xt[Ot]||"left")},_.prototype._setText=function($){var bt=this.get("el"),it=this.attr(),Ot=it.x,Pt=it.textBaseline,Rt=Pt===void 0?"bottom":Pt;if(!$)bt.innerHTML="";else if(~$.indexOf(`
`)){var Vt=$.split(`
`),kt=Vt.length-1,Wt="";Object(y.each)(Vt,function(wt,ct){ct===0?Rt==="alphabetic"?Wt+='<tspan x="'+Ot+'" dy="'+-kt+'em">'+wt+"</tspan>":Rt==="top"?Wt+='<tspan x="'+Ot+'" dy="0.9em">'+wt+"</tspan>":Rt==="middle"?Wt+='<tspan x="'+Ot+'" dy="'+-(kt-1)/2+'em">'+wt+"</tspan>":Rt==="bottom"?Wt+='<tspan x="'+Ot+'" dy="-'+(kt+yt)+'em">'+wt+"</tspan>":Rt==="hanging"&&(Wt+='<tspan x="'+Ot+'" dy="'+(-(kt-1)-yt)+'em">'+wt+"</tspan>"):Wt+='<tspan x="'+Ot+'" dy="1em">'+wt+"</tspan>"}),bt.innerHTML=Wt}else bt.innerHTML=$},_}(b),At=gt},"p/Nb":function(Lt,A,i){"use strict";var c=i("XSdR"),a=i("hppO"),M=i("FeKW").positionX;Lt.exports=O;function O(D){D=a.asNonCompoundGraph(D),x(D),c.forEach(M(D),function(E,S){D.node(S).x=E})}function x(D){var E=a.buildLayerMatrix(D),S=D.graph().ranksep,p=0;c.forEach(E,function(b){var y=c.max(c.map(b,function(C){return D.node(C).height}));c.forEach(b,function(C){D.node(C).y=p+y/2}),p+=y+S})}},pHwo:function(Lt,A){Lt.exports=1e-6},pIri:function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=i("8Mtd");function a(M){return Object(c.map)(M||[],function(O,x){return{x:""+x,y:O}})}},pUwi:function(Lt,A,i){Lt.exports=i("PdHs")},q03q:function(Lt,A,i){"use strict";i.d(A,"a",function(){return M});var c=i("8Mtd"),a=i("Sn/i");function M(O){var x=Object(c.clamp)(Object(a.b)(O)?O:0,0,1);return[{type:"current",percent:x},{type:"target",percent:1-x}]}},qBCo:function(Lt,A,i){"use strict";i.d(A,"b",function(){return C}),i.d(A,"a",function(){return g});var c=i("CMID"),a=i("8Mtd"),M=i("s9g+"),O=i("Yz/u"),x=i("9g8t"),D=i("Jze/"),E=i("dRIm"),S=i("8uxG");function p(R){var U=R.chart,W=R.options,z=W.percent,B=W.range,L=W.radius,w=W.innerRadius,F=W.startAngle,V=W.endAngle,Y=W.axis,tt=W.indicator,q=W.gaugeStyle,H=B.color,Q=B.width;if(tt){var k=Object(S.a)(z),K=U.createView({id:E.c});K.data(k),K.point().position(E.e+"*1").shape("gauge-indicator").customInfo({defaultColor:U.getTheme().defaultColor,indicator:tt}),K.coordinate("polar",{startAngle:F,endAngle:V,radius:w*L}),K.axis(E.e,Y),K.scale(E.e,Object(D.s)(Y,x.a))}var nt=Object(S.b)(z,W.range),lt=U.createView({id:E.h});lt.data(nt);var ut=Object(a.isString)(H)?[H,E.a]:H;return Object(O.c)({chart:lt,options:{xField:"1",yField:E.g,seriesField:E.f,rawFields:[E.e],isStack:!0,interval:{color:ut,style:q},args:{zIndexReversed:!0},minColumnWidth:Q,maxColumnWidth:Q}}),lt.coordinate("polar",{innerRadius:w,radius:L,startAngle:F,endAngle:V}).transpose(),R}function b(R){var U,W=R.chart,z=R.options,B=z.type,L=z.meter;if(B==="meter"){var w=z.innerRadius,F=z.radius,V=z.startAngle,Y=z.endAngle,tt=z.range,q=tt==null?void 0:tt.width,H=tt==null?void 0:tt.width,Q=W.getTheme().background,k=Q;(!k||k==="transparent")&&(k="#fff");var K=W.createView({id:E.d});K.data([(U={},U[E.f]="1",U[E.g]=1,U)]);var nt={meter:L};K.interval({minColumnWidth:q,maxColumnWidth:H}).position("1*"+E.g).color(k).adjust("stack").shape("meter-gauge").customInfo(nt),K.coordinate("polar",{innerRadius:w,radius:F,startAngle:V,endAngle:Y}).transpose()}return R}function y(R){var U;return Object(D.f)(Object(M.f)((U={range:{min:0,max:1,maxLimit:1,minLimit:0}},U[E.e]={},U)))(R)}function C(R,U){var W=R.chart,z=R.options,B=z.statistic,L=z.percent;if(W.getController("annotation").clear(!0),B){var w=B.content,F=void 0;w&&(F=Object(D.c)({},{content:(L*100).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},w)),Object(D.u)(W,{statistic:Object(c.__assign)(Object(c.__assign)({},B),{content:F})},{percent:L})}return U&&W.render(!0),R}function I(R){var U=R.chart;return U.legend(!1),U.tooltip(!1),R}function g(R){return Object(D.f)(M.j,M.a,p,y,C,M.c,b,Object(M.b)(),I)(R)}},qRoJ:function(Lt,A,i){"use strict";var c=i("ytXd"),a=i("VMwZ"),M=[].slice,O=["keyword","gray","hex"],x={};Object.keys(a).forEach(function(g){x[M.call(a[g].labels).sort().join("")]=g});var D={};function E(g,R){if(!(this instanceof E))return new E(g,R);if(R&&R in O&&(R=null),R&&!(R in a))throw new Error("Unknown model: "+R);var U,W;if(g==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(g instanceof E)this.model=g.model,this.color=g.color.slice(),this.valpha=g.valpha;else if(typeof g=="string"){var z=c.get(g);if(z===null)throw new Error("Unable to parse color from string: "+g);this.model=z.model,W=a[this.model].channels,this.color=z.value.slice(0,W),this.valpha=typeof z.value[W]=="number"?z.value[W]:1}else if(g.length){this.model=R||"rgb",W=a[this.model].channels;var B=M.call(g,0,W);this.color=I(B,W),this.valpha=typeof g[W]=="number"?g[W]:1}else if(typeof g=="number")g&=16777215,this.model="rgb",this.color=[g>>16&255,g>>8&255,g&255],this.valpha=1;else{this.valpha=1;var L=Object.keys(g);"alpha"in g&&(L.splice(L.indexOf("alpha"),1),this.valpha=typeof g.alpha=="number"?g.alpha:0);var w=L.sort().join("");if(!(w in x))throw new Error("Unable to parse color from object: "+JSON.stringify(g));this.model=x[w];var F=a[this.model].labels,V=[];for(U=0;U<F.length;U++)V.push(g[F[U]]);this.color=I(V)}if(D[this.model])for(W=a[this.model].channels,U=0;U<W;U++){var Y=D[this.model][U];Y&&(this.color[U]=Y(this.color[U]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}E.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(g){var R=this.model in c.to?this:this.rgb();R=R.round(typeof g=="number"?g:1);var U=R.valpha===1?R.color:R.color.concat(this.valpha);return c.to[R.model](U)},percentString:function(g){var R=this.rgb().round(typeof g=="number"?g:1),U=R.valpha===1?R.color:R.color.concat(this.valpha);return c.to.rgb.percent(U)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var g={},R=a[this.model].channels,U=a[this.model].labels,W=0;W<R;W++)g[U[W]]=this.color[W];return this.valpha!==1&&(g.alpha=this.valpha),g},unitArray:function(){var g=this.rgb().color;return g[0]/=255,g[1]/=255,g[2]/=255,this.valpha!==1&&g.push(this.valpha),g},unitObject:function(){var g=this.rgb().object();return g.r/=255,g.g/=255,g.b/=255,this.valpha!==1&&(g.alpha=this.valpha),g},round:function(g){return g=Math.max(g||0,0),new E(this.color.map(p(g)).concat(this.valpha),this.model)},alpha:function(g){return arguments.length?new E(this.color.concat(Math.max(0,Math.min(1,g))),this.model):this.valpha},red:b("rgb",0,y(255)),green:b("rgb",1,y(255)),blue:b("rgb",2,y(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,function(g){return(g%360+360)%360}),saturationl:b("hsl",1,y(100)),lightness:b("hsl",2,y(100)),saturationv:b("hsv",1,y(100)),value:b("hsv",2,y(100)),chroma:b("hcg",1,y(100)),gray:b("hcg",2,y(100)),white:b("hwb",1,y(100)),wblack:b("hwb",2,y(100)),cyan:b("cmyk",0,y(100)),magenta:b("cmyk",1,y(100)),yellow:b("cmyk",2,y(100)),black:b("cmyk",3,y(100)),x:b("xyz",0,y(100)),y:b("xyz",1,y(100)),z:b("xyz",2,y(100)),l:b("lab",0,y(100)),a:b("lab",1),b:b("lab",2),keyword:function(g){return arguments.length?new E(g):a[this.model].keyword(this.color)},hex:function(g){return arguments.length?new E(g):c.to.hex(this.rgb().round().color)},rgbNumber:function(){var g=this.rgb().color;return(g[0]&255)<<16|(g[1]&255)<<8|g[2]&255},luminosity:function(){for(var g=this.rgb().color,R=[],U=0;U<g.length;U++){var W=g[U]/255;R[U]=W<=.03928?W/12.92:Math.pow((W+.055)/1.055,2.4)}return .2126*R[0]+.7152*R[1]+.0722*R[2]},contrast:function(g){var R=this.luminosity(),U=g.luminosity();return R>U?(R+.05)/(U+.05):(U+.05)/(R+.05)},level:function(g){var R=this.contrast(g);return R>=7.1?"AAA":R>=4.5?"AA":""},isDark:function(){var g=this.rgb().color,R=(g[0]*299+g[1]*587+g[2]*114)/1e3;return R<128},isLight:function(){return!this.isDark()},negate:function(){for(var g=this.rgb(),R=0;R<3;R++)g.color[R]=255-g.color[R];return g},lighten:function(g){var R=this.hsl();return R.color[2]+=R.color[2]*g,R},darken:function(g){var R=this.hsl();return R.color[2]-=R.color[2]*g,R},saturate:function(g){var R=this.hsl();return R.color[1]+=R.color[1]*g,R},desaturate:function(g){var R=this.hsl();return R.color[1]-=R.color[1]*g,R},whiten:function(g){var R=this.hwb();return R.color[1]+=R.color[1]*g,R},blacken:function(g){var R=this.hwb();return R.color[2]+=R.color[2]*g,R},grayscale:function(){var g=this.rgb().color,R=g[0]*.3+g[1]*.59+g[2]*.11;return E.rgb(R,R,R)},fade:function(g){return this.alpha(this.valpha-this.valpha*g)},opaquer:function(g){return this.alpha(this.valpha+this.valpha*g)},rotate:function(g){var R=this.hsl(),U=R.color[0];return U=(U+g)%360,U=U<0?360+U:U,R.color[0]=U,R},mix:function(g,R){if(!g||!g.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof g);var U=g.rgb(),W=this.rgb(),z=R===void 0?.5:R,B=2*z-1,L=U.alpha()-W.alpha(),w=((B*L==-1?B:(B+L)/(1+B*L))+1)/2,F=1-w;return E.rgb(w*U.red()+F*W.red(),w*U.green()+F*W.green(),w*U.blue()+F*W.blue(),U.alpha()*z+W.alpha()*(1-z))}},Object.keys(a).forEach(function(g){if(O.indexOf(g)===-1){var R=a[g].channels;E.prototype[g]=function(){if(this.model===g)return new E(this);if(arguments.length)return new E(arguments,g);var U=typeof arguments[R]=="number"?R:this.valpha;return new E(C(a[this.model][g].raw(this.color)).concat(U),g)},E[g]=function(U){return typeof U=="number"&&(U=I(M.call(arguments),R)),new E(U,g)}}});function S(g,R){return Number(g.toFixed(R))}function p(g){return function(R){return S(R,g)}}function b(g,R,U){return g=Array.isArray(g)?g:[g],g.forEach(function(W){(D[W]||(D[W]=[]))[R]=U}),g=g[0],function(W){var z;return arguments.length?(U&&(W=U(W)),z=this[g](),z.color[R]=W,z):(z=this[g]().color[R],U&&(z=U(z)),z)}}function y(g){return function(R){return Math.max(0,Math.min(g,R))}}function C(g){return Array.isArray(g)?g:[g]}function I(g,R){for(var U=0;U<R;U++)typeof g[U]!="number"&&(g[U]=0);return g}Lt.exports=E},qSJf:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.id=void 0;var c=0;function a(){return c++}A.id=a},qTrL:function(Lt,A){var i=800,c=16,a=Date.now;function M(O){var x=0,D=0;return function(){var E=a(),S=c-(E-D);if(D=E,S>0){if(++x>=i)return arguments[0]}else x=0;return O.apply(void 0,arguments)}}Lt.exports=M},qTvU:function(Lt,A,i){var c=i("2PUN");function a(M){var O=M==null?0:M.length;return O?c(M,1):[]}Lt.exports=a},qXgj:function(Lt,A,i){var c=i("IZ4i"),a=i("qTrL"),M=a(c);Lt.exports=M},qaCK:function(Lt,A){function i(a,M,O,x,D,E,S){try{var p=a[E](S),b=p.value}catch(y){O(y);return}p.done?M(b):Promise.resolve(b).then(x,D)}function c(a){return function(){var M=this,O=arguments;return new Promise(function(x,D){var E=a.apply(M,O);function S(b){i(E,x,D,S,p,"next",b)}function p(b){i(E,x,D,S,p,"throw",b)}S(void 0)})}}Lt.exports=c,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},qccO:function(Lt,A,i){var c=i("qhWv"),a=1/0,M=17976931348623157e292;function O(x){if(!x)return x===0?x:0;if(x=c(x),x===a||x===-a){var D=x<0?-1:1;return D*M}return x===x?x:0}Lt.exports=O},qfLv:function(Lt,A,i){"use strict";(function(c){i.d(A,"a",function(){return I});var a=function(){for(var L=0,w=0,F=arguments.length;w<F;w++)L+=arguments[w].length;for(var V=Array(L),Y=0,w=0;w<F;w++)for(var tt=arguments[w],q=0,H=tt.length;q<H;q++,Y++)V[Y]=tt[q];return V},M=function(){function L(w,F,V){this.name=w,this.version=F,this.os=V,this.type="browser"}return L}(),O=function(){function L(w){this.version=w,this.type="node",this.name="node",this.os=c.platform}return L}(),x=function(){function L(w,F,V,Y){this.name=w,this.version=F,this.os=V,this.bot=Y,this.type="bot-device"}return L}(),D=function(){function L(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return L}(),E=function(){function L(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return L}(),S=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",S]],C=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function I(L){return L?U(L):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new E:typeof navigator!="undefined"?U(navigator.userAgent):z()}function g(L){return L!==""&&y.reduce(function(w,F){var V=F[0],Y=F[1];if(w)return w;var tt=Y.exec(L);return!!tt&&[V,tt]},!1)}function R(L){var w=g(L);return w?w[0]:null}function U(L){var w=g(L);if(!w)return null;var F=w[0],V=w[1];if(F==="searchbot")return new D;var Y=V[1]&&V[1].split(/[._]/).slice(0,3);Y?Y.length<b&&(Y=a(Y,B(b-Y.length))):Y=[];var tt=Y.join("."),q=W(L),H=p.exec(L);return H&&H[1]?new x(F,tt,q,H[1]):new M(F,tt,q)}function W(L){for(var w=0,F=C.length;w<F;w++){var V=C[w],Y=V[0],tt=V[1],q=tt.exec(L);if(q)return Y}return null}function z(){var L=typeof c!="undefined"&&c.version;return L?new O(c.version.slice(1)):null}function B(L){for(var w=[],F=0;F<L;F++)w.push("0");return w}}).call(this,i("7vYp"))},qh6B:function(Lt,A,i){"use strict";i.d(A,"b",function(){return M});var c=i("yK/m"),a=i("H6vk");A.a=function(O,x){return(Object(a.b)(x)?a.a:M)(O,x)};function M(O,x){var D=x?x.length:0,E=O?Math.min(D,O.length):0,S=new Array(E),p=new Array(D),b;for(b=0;b<E;++b)S[b]=Object(c.a)(O[b],x[b]);for(;b<D;++b)p[b]=x[b];return function(y){for(b=0;b<E;++b)p[b]=S[b](y);return p}}},qhN0:function(Lt,A,i){"use strict";A.a={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},qi70:function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=i("xXxO");function a(M,O,x){var D=new c.Event(O,x);D.target=M,D.propagationPath.push(M),M.emitDelegation(O,D);for(var E=M.getParent();E;)E.emitDelegation(O,D),D.propagationPath.push(E),E=E.getParent()}},"ql+n":function(Lt,A,i){var c;try{c={clone:i("WlgG"),constant:i("vqXp"),each:i("8hqx"),filter:i("NFwm"),has:i("v/6M"),isArray:i("+Gi7"),isEmpty:i("x+i1"),isFunction:i("wmqP"),isUndefined:i("4tFv"),keys:i("KmIr"),map:i("N7LH"),reduce:i("5+Yv"),size:i("cGgO"),transform:i("3f1o"),union:i("VmDj"),values:i("jHy/")}}catch(a){}c||(c=window._),Lt.exports=c},qvXp:function(Lt,A,i){var c=i("E9DR");Lt.exports=a;function a(M,O){return c(M,O,"post")}},qwYJ:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Request=void 0;var c=i("qSJf"),a=function(){function M(O,x,D,E,S){this.id=c.id(),this.serviceIdentifier=O,this.parentContext=x,this.parentRequest=D,this.target=S,this.childRequests=[],this.bindings=Array.isArray(E)?E:[E],this.requestScope=D===null?new Map:null}return M.prototype.addChildRequest=function(O,x,D){var E=new M(O,this.parentContext,this,x,D);return this.childRequests.push(E),E},M}();A.Request=a},"r+uu":function(Lt,A,i){"use strict";i.d(A,"a",function(){return b}),i.d(A,"b",function(){return Xt}),i.d(A,"c",function(){return E}),i.d(A,"d",function(){return zr});var c={};i.r(c),i.d(c,"default",function(){return st}),i.d(c,"assign",function(){return L}),i.d(c,"format",function(){return ht}),i.d(c,"parse",function(){return yt}),i.d(c,"defaultI18n",function(){return tt}),i.d(c,"setGlobalDateI18n",function(){return H}),i.d(c,"setGlobalDateMasks",function(){return Nt});var a=i("8Mtd"),M={};function O(ne){return M[ne]}function x(ne,de){M[ne]=de}var D=function(){function ne(de){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=de,this.initCfg(),this.init()}return ne.prototype.translate=function(de){return de},ne.prototype.change=function(de){Object(a.assign)(this.__cfg__,de),this.init()},ne.prototype.clone=function(){return this.constructor(this.__cfg__)},ne.prototype.getTicks=function(){var de=this;return Object(a.map)(this.ticks,function(Oe,Ue){return Object(a.isObject)(Oe)?Oe:{text:de.getText(Oe,Ue),tickValue:Oe,value:de.scale(Oe)}})},ne.prototype.getText=function(de,Oe){var Ue=this.formatter,Ve=Ue?Ue(de,Oe):de;return Object(a.isNil)(Ve)||!Object(a.isFunction)(Ve.toString)?"":Ve.toString()},ne.prototype.getConfig=function(de){return this.__cfg__[de]},ne.prototype.init=function(){Object(a.assign)(this,this.__cfg__),this.setDomain(),Object(a.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},ne.prototype.initCfg=function(){},ne.prototype.setDomain=function(){},ne.prototype.calculateTicks=function(){var de=this.tickMethod,Oe=[];if(Object(a.isString)(de)){var Ue=O(de);if(!Ue)throw new Error("There is no method to to calculate ticks!");Oe=Ue(this)}else Object(a.isFunction)(de)&&(Oe=de(this));return Oe},ne.prototype.rangeMin=function(){return this.range[0]},ne.prototype.rangeMax=function(){return this.range[1]},ne.prototype.calcPercent=function(de,Oe,Ue){return Object(a.isNumber)(de)?(de-Oe)/(Ue-Oe):NaN},ne.prototype.calcValue=function(de,Oe,Ue){return Oe+de*(Ue-Oe)},ne}(),E=D,S=i("CMID"),p=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="cat",Oe.isCategory=!0,Oe}return de.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var Oe=0;Oe<this.values.length;Oe++)this.translateIndexMap.set(this.values[Oe],Oe)}},de.prototype.translate=function(Oe){this.buildIndexMap();var Ue=this.translateIndexMap.get(Oe);return Ue===void 0&&(Ue=Object(a.isNumber)(Oe)?Oe:NaN),Ue},de.prototype.scale=function(Oe){var Ue=this.translate(Oe),Ve=this.calcPercent(Ue,this.min,this.max);return this.calcValue(Ve,this.rangeMin(),this.rangeMax())},de.prototype.invert=function(Oe){var Ue=this.max-this.min,Ve=this.calcPercent(Oe,this.rangeMin(),this.rangeMax()),sr=Math.round(Ue*Ve)+this.min;return sr<this.min||sr>this.max?NaN:this.values[sr]},de.prototype.getText=function(Oe){for(var Ue=[],Ve=1;Ve<arguments.length;Ve++)Ue[Ve-1]=arguments[Ve];var sr=Oe;return Object(a.isNumber)(Oe)&&!this.values.includes(Oe)&&(sr=this.values[sr]),ne.prototype.getText.apply(this,Object(S.__spreadArrays)([sr],Ue))},de.prototype.initCfg=function(){this.tickMethod="cat"},de.prototype.setDomain=function(){if(Object(a.isNil)(this.getConfig("min"))&&(this.min=0),Object(a.isNil)(this.getConfig("max"))){var Oe=this.values.length;this.max=Oe>1?Oe-1:Oe}this.translateIndexMap&&(this.translateIndexMap=void 0)},de}(E),b=p,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,C="[1-9]\\d?",I="\\d\\d",g="\\d{3}",R="\\d{4}",U="[^\\s]+",W=/\[([^]*?)\]/gm;function z(ne,de){for(var Oe=[],Ue=0,Ve=ne.length;Ue<Ve;Ue++)Oe.push(ne[Ue].substr(0,de));return Oe}var B=function(ne){return function(de,Oe){var Ue=Oe[ne].map(function(sr){return sr.toLowerCase()}),Ve=Ue.indexOf(de.toLowerCase());return Ve>-1?Ve:null}};function L(ne){for(var de=[],Oe=1;Oe<arguments.length;Oe++)de[Oe-1]=arguments[Oe];for(var Ue=0,Ve=de;Ue<Ve.length;Ue++){var sr=Ve[Ue];for(var wr in sr)ne[wr]=sr[wr]}return ne}var w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],F=["January","February","March","April","May","June","July","August","September","October","November","December"],V=z(F,3),Y=z(w,3),tt={dayNamesShort:Y,dayNames:w,monthNamesShort:V,monthNames:F,amPm:["am","pm"],DoFn:function(ne){return ne+["th","st","nd","rd"][ne%10>3?0:(ne-ne%10!=10?1:0)*ne%10]}},q=L({},tt),H=function(ne){return q=L(q,ne)},Q=function(ne){return ne.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},k=function(ne,de){for(de===void 0&&(de=2),ne=String(ne);ne.length<de;)ne="0"+ne;return ne},K={D:function(ne){return String(ne.getDate())},DD:function(ne){return k(ne.getDate())},Do:function(ne,de){return de.DoFn(ne.getDate())},d:function(ne){return String(ne.getDay())},dd:function(ne){return k(ne.getDay())},ddd:function(ne,de){return de.dayNamesShort[ne.getDay()]},dddd:function(ne,de){return de.dayNames[ne.getDay()]},M:function(ne){return String(ne.getMonth()+1)},MM:function(ne){return k(ne.getMonth()+1)},MMM:function(ne,de){return de.monthNamesShort[ne.getMonth()]},MMMM:function(ne,de){return de.monthNames[ne.getMonth()]},YY:function(ne){return k(String(ne.getFullYear()),4).substr(2)},YYYY:function(ne){return k(ne.getFullYear(),4)},h:function(ne){return String(ne.getHours()%12||12)},hh:function(ne){return k(ne.getHours()%12||12)},H:function(ne){return String(ne.getHours())},HH:function(ne){return k(ne.getHours())},m:function(ne){return String(ne.getMinutes())},mm:function(ne){return k(ne.getMinutes())},s:function(ne){return String(ne.getSeconds())},ss:function(ne){return k(ne.getSeconds())},S:function(ne){return String(Math.round(ne.getMilliseconds()/100))},SS:function(ne){return k(Math.round(ne.getMilliseconds()/10),2)},SSS:function(ne){return k(ne.getMilliseconds(),3)},a:function(ne,de){return ne.getHours()<12?de.amPm[0]:de.amPm[1]},A:function(ne,de){return ne.getHours()<12?de.amPm[0].toUpperCase():de.amPm[1].toUpperCase()},ZZ:function(ne){var de=ne.getTimezoneOffset();return(de>0?"-":"+")+k(Math.floor(Math.abs(de)/60)*100+Math.abs(de)%60,4)},Z:function(ne){var de=ne.getTimezoneOffset();return(de>0?"-":"+")+k(Math.floor(Math.abs(de)/60),2)+":"+k(Math.abs(de)%60,2)}},nt=function(ne){return+ne-1},lt=[null,C],ut=[null,U],rt=["isPm",U,function(ne,de){var Oe=ne.toLowerCase();return Oe===de.amPm[0]?0:Oe===de.amPm[1]?1:null}],ot=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(ne){var de=(ne+"").match(/([+-]|\d\d)/gi);if(de){var Oe=+de[1]*60+parseInt(de[2],10);return de[0]==="+"?Oe:-Oe}return 0}],dt={D:["day",C],DD:["day",I],Do:["day",C+U,function(ne){return parseInt(ne,10)}],M:["month",C,nt],MM:["month",I,nt],YY:["year",I,function(ne){var de=new Date,Oe=+(""+de.getFullYear()).substr(0,2);return+(""+(+ne>68?Oe-1:Oe)+ne)}],h:["hour",C,void 0,"isPm"],hh:["hour",I,void 0,"isPm"],H:["hour",C],HH:["hour",I],m:["minute",C],mm:["minute",I],s:["second",C],ss:["second",I],YYYY:["year",R],S:["millisecond","\\d",function(ne){return+ne*100}],SS:["millisecond",I,function(ne){return+ne*10}],SSS:["millisecond",g],d:lt,dd:lt,ddd:ut,dddd:ut,MMM:["month",U,B("monthNamesShort")],MMMM:["month",U,B("monthNames")],a:rt,A:rt,ZZ:ot,Z:ot},Mt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Nt=function(ne){return L(Mt,ne)},ht=function(ne,de,Oe){if(de===void 0&&(de=Mt.default),Oe===void 0&&(Oe={}),typeof ne=="number"&&(ne=new Date(ne)),Object.prototype.toString.call(ne)!=="[object Date]"||isNaN(ne.getTime()))throw new Error("Invalid Date pass to format");de=Mt[de]||de;var Ue=[];de=de.replace(W,function(sr,wr){return Ue.push(wr),"@@@"});var Ve=L(L({},q),Oe);return de=de.replace(y,function(sr){return K[sr](ne,Ve)}),de.replace(/@@@/g,function(){return Ue.shift()})};function yt(ne,de,Oe){if(Oe===void 0&&(Oe={}),typeof de!="string")throw new Error("Invalid format in fecha parse");if(de=Mt[de]||de,ne.length>1e3)return null;var Ue=new Date,Ve={year:Ue.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},sr=[],wr=[],Vr=de.replace(W,function(lo,ha){return wr.push(Q(ha)),"@@@"}),On={},Wn={};Vr=Q(Vr).replace(y,function(lo){var ha=dt[lo],Za=ha[0],yo=ha[1],ci=ha[3];if(On[Za])throw new Error("Invalid format. "+Za+" specified twice in format");return On[Za]=!0,ci&&(Wn[ci]=!0),sr.push(ha),"("+yo+")"}),Object.keys(Wn).forEach(function(lo){if(!On[lo])throw new Error("Invalid format. "+lo+" is required in specified format")}),Vr=Vr.replace(/@@@/g,function(){return wr.shift()});var Nn=ne.match(new RegExp(Vr,"i"));if(!Nn)return null;for(var Pi=L(L({},q),Oe),zi=1;zi<Nn.length;zi++){var Ia=sr[zi-1],ki=Ia[0],fa=Ia[2],so=fa?fa(Nn[zi],Pi):+Nn[zi];if(so==null)return null;Ve[ki]=so}Ve.isPm===1&&Ve.hour!=null&&+Ve.hour!=12?Ve.hour=+Ve.hour+12:Ve.isPm===0&&+Ve.hour==12&&(Ve.hour=0);for(var Co=new Date(Ve.year,Ve.month,Ve.day,Ve.hour,Ve.minute,Ve.second,Ve.millisecond),oe=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],zi=0,ms=oe.length;zi<ms;zi++)if(On[oe[zi][0]]&&Ve[oe[zi][0]]!==Co[oe[zi][1]]())return null;return Ve.timezoneOffset==null?Co:new Date(Date.UTC(Ve.year,Ve.month,Ve.day,Ve.hour,Ve.minute-Ve.timezoneOffset,Ve.second,Ve.millisecond))}var ft={format:ht,parse:yt,defaultI18n:tt,setGlobalDateI18n:H,setGlobalDateMasks:Nt},st=ft,xt=function(ne){return function(de,Oe,Ue,Ve){for(var sr=Object(a.isNil)(Ue)?0:Ue,wr=Object(a.isNil)(Ve)?de.length:Ve;sr<wr;){var Vr=sr+wr>>>1;ne(de[Vr])>Oe?wr=Vr:sr=Vr+1}return sr}},gt="format";function At(ne,de){var Oe=c[gt]||st[gt];return Oe(ne,de)}function pt(ne){return Object(a.isString)(ne)&&(ne.indexOf("T")>0?ne=new Date(ne).getTime():ne=new Date(ne.replace(/-/gi,"/")).getTime()),Object(a.isDate)(ne)&&(ne=ne.getTime()),ne}var _=1e3,$=60*_,bt=60*$,it=24*bt,Ot=it*31,Pt=it*365,Rt=[["HH:mm:ss",_],["HH:mm:ss",_*10],["HH:mm:ss",_*30],["HH:mm",$],["HH:mm",$*10],["HH:mm",$*30],["HH",bt],["HH",bt*6],["HH",bt*12],["YYYY-MM-DD",it],["YYYY-MM-DD",it*4],["YYYY-WW",it*7],["YYYY-MM",Ot],["YYYY-MM",Ot*4],["YYYY-MM",Ot*6],["YYYY",it*380]];function Vt(ne,de,Oe){var Ue=(de-ne)/Oe,Ve=xt(function(wr){return wr[1]})(Rt,Ue)-1,sr=Rt[Ve];return Ve<0?sr=Rt[0]:Ve>=Rt.length&&(sr=Object(a.last)(Rt)),sr}var kt=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="timeCat",Oe}return de.prototype.translate=function(Oe){Oe=pt(Oe);var Ue=this.values.indexOf(Oe);return Ue===-1&&(Object(a.isNumber)(Oe)&&Oe<this.values.length?Ue=Oe:Ue=NaN),Ue},de.prototype.getText=function(Oe,Ue){var Ve=this.translate(Oe);if(Ve>-1){var sr=this.values[Ve],wr=this.formatter;return sr=wr?wr(sr,Ue):At(sr,this.mask),sr}return Oe},de.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},de.prototype.setDomain=function(){var Oe=this.values;Object(a.each)(Oe,function(Ue,Ve){Oe[Ve]=pt(Ue)}),Oe.sort(function(Ue,Ve){return Ue-Ve}),ne.prototype.setDomain.call(this)},de}(b),Wt=kt,wt=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.isContinuous=!0,Oe}return de.prototype.scale=function(Oe){if(Object(a.isNil)(Oe))return NaN;var Ue=this.rangeMin(),Ve=this.rangeMax(),sr=this.max,wr=this.min;if(sr===wr)return Ue;var Vr=this.getScalePercent(Oe);return Ue+Vr*(Ve-Ue)},de.prototype.init=function(){ne.prototype.init.call(this);var Oe=this.ticks,Ue=Object(a.head)(Oe),Ve=Object(a.last)(Oe);Ue<this.min&&(this.min=Ue),Ve>this.max&&(this.max=Ve),Object(a.isNil)(this.minLimit)||(this.min=Ue),Object(a.isNil)(this.maxLimit)||(this.max=Ve)},de.prototype.setDomain=function(){var Oe=Object(a.getRange)(this.values),Ue=Oe.min,Ve=Oe.max;Object(a.isNil)(this.min)&&(this.min=Ue),Object(a.isNil)(this.max)&&(this.max=Ve),this.min>this.max&&(this.min=Ue,this.max=Ve)},de.prototype.calculateTicks=function(){var Oe=this,Ue=ne.prototype.calculateTicks.call(this);return this.nice||(Ue=Object(a.filter)(Ue,function(Ve){return Ve>=Oe.min&&Ve<=Oe.max})),Ue},de.prototype.getScalePercent=function(Oe){var Ue=this.max,Ve=this.min;return(Oe-Ve)/(Ue-Ve)},de.prototype.getInvertPercent=function(Oe){return(Oe-this.rangeMin())/(this.rangeMax()-this.rangeMin())},de}(E),ct=wt,jt=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="linear",Oe.isLinear=!0,Oe}return de.prototype.invert=function(Oe){var Ue=this.getInvertPercent(Oe);return this.min+Ue*(this.max-this.min)},de.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},de}(ct),Xt=jt;function It(ne,de){var Oe=Math.E,Ue;return de>=0?Ue=Math.pow(Oe,Math.log(de)/ne):Ue=Math.pow(Oe,Math.log(-de)/ne)*-1,Ue}function Ut(ne,de){return ne===1?1:Math.log(de)/Math.log(ne)}function $t(ne,de,Oe){Object(a.isNil)(Oe)&&(Oe=Math.max.apply(null,ne));var Ue=Oe;return Object(a.each)(ne,function(Ve){Ve>0&&Ve<Ue&&(Ue=Ve)}),Ue===Oe&&(Ue=Oe/de),Ue>1&&(Ue=1),Ue}function Ft(ne){var de=ne.toString().split(/[eE]/),Oe=(de[0].split(".")[1]||"").length-+(de[1]||0);return Oe>0?Oe:0}function Kt(ne,de){var Oe=Ft(ne),Ue=Ft(de),Ve=Math.pow(10,Math.max(Oe,Ue));return(ne*Ve+de*Ve)/Ve}var ee=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="log",Oe}return de.prototype.invert=function(Oe){var Ue=this.base,Ve=Ut(Ue,this.max),sr=this.rangeMin(),wr=this.rangeMax()-sr,Vr,On=this.positiveMin;if(On){if(Oe===0)return 0;Vr=Ut(Ue,On/Ue);var Wn=1/(Ve-Vr)*wr;if(Oe<Wn)return Oe/Wn*On}else Vr=Ut(Ue,this.min);var Nn=(Oe-sr)/wr,Pi=Nn*(Ve-Vr)+Vr;return Math.pow(Ue,Pi)},de.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},de.prototype.setDomain=function(){ne.prototype.setDomain.call(this);var Oe=this.min;if(Oe<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");Oe===0&&(this.positiveMin=$t(this.values,this.base,this.max))},de.prototype.getScalePercent=function(Oe){var Ue=this.max,Ve=this.min;if(Ue===Ve||Oe<=0)return 0;var sr=this.base,wr=this.positiveMin;wr&&(Ve=wr*1/sr);var Vr;return Oe<wr?Vr=Oe/wr/(Ut(sr,Ue)-Ut(sr,Ve)):Vr=(Ut(sr,Oe)-Ut(sr,Ve))/(Ut(sr,Ue)-Ut(sr,Ve)),Vr},de}(ct),ce=ee,Se=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="pow",Oe}return de.prototype.invert=function(Oe){var Ue=this.getInvertPercent(Oe),Ve=this.exponent,sr=It(Ve,this.max),wr=It(Ve,this.min),Vr=Ue*(sr-wr)+wr,On=Vr>=0?1:-1;return Math.pow(Vr,Ve)*On},de.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},de.prototype.getScalePercent=function(Oe){var Ue=this.max,Ve=this.min;if(Ue===Ve)return 0;var sr=this.exponent,wr=(It(sr,Oe)-It(sr,Ve))/(It(sr,Ue)-It(sr,Ve));return wr},de}(ct),Ce=Se,Ge=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="time",Oe}return de.prototype.getText=function(Oe,Ue){var Ve=this.translate(Oe),sr=this.formatter;return sr?sr(Ve,Ue):At(Ve,this.mask)},de.prototype.scale=function(Oe){var Ue=Oe;return(Object(a.isString)(Ue)||Object(a.isDate)(Ue))&&(Ue=this.translate(Ue)),ne.prototype.scale.call(this,Ue)},de.prototype.translate=function(Oe){return pt(Oe)},de.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},de.prototype.setDomain=function(){var Oe=this.values,Ue=this.getConfig("min"),Ve=this.getConfig("max");if((!Object(a.isNil)(Ue)||!Object(a.isNumber)(Ue))&&(this.min=this.translate(this.min)),(!Object(a.isNil)(Ve)||!Object(a.isNumber)(Ve))&&(this.max=this.translate(this.max)),Oe&&Oe.length){var sr=[],wr=Infinity,Vr=wr,On=0;Object(a.each)(Oe,function(Wn){var Nn=pt(Wn);if(isNaN(Nn))throw new TypeError("Invalid Time: "+Wn+" in time scale!");wr>Nn?(Vr=wr,wr=Nn):Vr>Nn&&(Vr=Nn),On<Nn&&(On=Nn),sr.push(Nn)}),Oe.length>1&&(this.minTickInterval=Vr-wr),Object(a.isNil)(Ue)&&(this.min=wr),Object(a.isNil)(Ve)&&(this.max=On)}},de}(Xt),hr=Ge,dr=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="quantize",Oe}return de.prototype.invert=function(Oe){var Ue=this.ticks,Ve=Ue.length,sr=this.getInvertPercent(Oe),wr=Math.floor(sr*(Ve-1));if(wr>=Ve-1)return Object(a.last)(Ue);if(wr<0)return Object(a.head)(Ue);var Vr=Ue[wr],On=Ue[wr+1],Wn=wr/(Ve-1),Nn=(wr+1)/(Ve-1);return Vr+(sr-Wn)/(Nn-Wn)*(On-Vr)},de.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},de.prototype.calculateTicks=function(){var Oe=ne.prototype.calculateTicks.call(this);return this.nice||(Object(a.last)(Oe)!==this.max&&Oe.push(this.max),Object(a.head)(Oe)!==this.min&&Oe.unshift(this.min)),Oe},de.prototype.getScalePercent=function(Oe){var Ue=this.ticks;if(Oe<Object(a.head)(Ue))return 0;if(Oe>Object(a.last)(Ue))return 1;var Ve=0;return Object(a.each)(Ue,function(sr,wr){if(Oe>=sr)Ve=wr;else return!1}),Ve/(Ue.length-1)},de}(ct),ar=dr,qe=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="quantile",Oe}return de.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},de}(ar),Xe=qe,ur={};function zr(ne){return ur[ne]}function ir(ne,de){if(zr(ne))throw new Error("type '"+ne+"' existed.");ur[ne]=de}var qr=function(ne){Object(S.__extends)(de,ne);function de(){var Oe=ne!==null&&ne.apply(this,arguments)||this;return Oe.type="identity",Oe.isIdentity=!0,Oe}return de.prototype.calculateTicks=function(){return this.values},de.prototype.scale=function(Oe){return this.values[0]!==Oe&&Object(a.isNumber)(Oe)?Oe:this.range[0]},de.prototype.invert=function(Oe){var Ue=this.range;return Oe<Ue[0]||Oe>Ue[1]?NaN:this.values[0]},de}(E),Mr=qr,Br=[1,5,2,2.5,4,3],ze=[1,5,2,2.5,4,3,1.5,7,6,8,9],Or=Number.EPSILON*100;function Nr(ne,de){return(ne%de+de)%de}function $r(ne,de,Oe,Ue,Ve,sr){var wr=Object(a.size)(de),Vr=Object(a.indexOf)(de,ne),On=0,Wn=Nr(Ue,sr);return(Wn<Or||sr-Wn<Or)&&Ue<=0&&Ve>=0&&(On=1),1-Vr/(wr-1)-Oe+On}function Kr(ne,de,Oe){var Ue=Object(a.size)(de),Ve=Object(a.indexOf)(de,ne),sr=1;return 1-Ve/(Ue-1)-Oe+sr}function Un(ne,de,Oe,Ue,Ve,sr){var wr=(ne-1)/(sr-Ve),Vr=(de-1)/(Math.max(sr,Ue)-Math.min(Oe,Ve));return 2-Math.max(wr/Vr,Vr/wr)}function ti(ne,de){return ne>=de?2-(ne-1)/(de-1):1}function wn(ne,de,Oe,Ue){var Ve=de-ne;return 1-.5*(Math.pow(de-Ue,2)+Math.pow(ne-Oe,2))/Math.pow(.1*Ve,2)}function Bn(ne,de,Oe){var Ue=de-ne;if(Oe>Ue){var Ve=(Oe-Ue)/2;return 1-Math.pow(Ve,2)/Math.pow(.1*Ue,2)}return 1}function kn(){return 1}function ei(ne){return ne<1e-15?ne:parseFloat(ne.toFixed(15))}function In(ne,de,Oe,Ue,Ve,sr){if(Oe===void 0&&(Oe=5),Ue===void 0&&(Ue=!0),Ve===void 0&&(Ve=Br),sr===void 0&&(sr=[.25,.2,.5,.05]),Number.isNaN(ne)||Number.isNaN(de)||typeof ne!="number"||typeof de!="number"||!Oe)return{min:0,max:0,ticks:[]};if(de-ne<1e-15||Oe===1)return{min:ne,max:de,ticks:[ne]};for(var wr={score:-2,lmin:0,lmax:0,lstep:0},Vr=1;Vr<Infinity;){for(var On=0;On<Ve.length;On+=1){var Wn=Ve[On],Nn=Kr(Wn,Ve,Vr);if(sr[0]*Nn+sr[1]+sr[2]+sr[3]<wr.score){Vr=Infinity;break}for(var Pi=2;Pi<Infinity;){var zi=ti(Pi,Oe);if(sr[0]*Nn+sr[1]+sr[2]*zi+sr[3]<wr.score)break;for(var Ia=(de-ne)/(Pi+1)/Vr/Wn,ki=Math.ceil(Math.log10(Ia));ki<Infinity;){var fa=Vr*Wn*Math.pow(10,ki),so=Bn(ne,de,fa*(Pi-1));if(sr[0]*Nn+sr[1]*so+sr[2]*zi+sr[3]<wr.score)break;var Co=Math.floor(de/fa)*Vr-(Pi-1)*Vr,oe=Math.ceil(ne/fa)*Vr;if(Co<=oe)for(var ms=oe-Co,lo=0;lo<=ms;lo+=1){var ha=Co+lo,Za=ha*(fa/Vr),yo=Za+fa*(Pi-1),ci=fa,mo=$r(Wn,Ve,Vr,Za,yo,ci),Ao=wn(ne,de,Za,yo),us=Un(Pi,Oe,ne,de,Za,yo),wo=kn(),bs=sr[0]*mo+sr[1]*Ao+sr[2]*us+sr[3]*wo;bs>wr.score&&(!Ue||Za<=ne&&yo>=de)&&(wr.lmin=Za,wr.lmax=yo,wr.lstep=ci,wr.score=bs)}ki+=1}Pi+=1}}Vr+=1}for(var eo=wr.lmax,Os=wr.lmin,To=wr.lstep,La=Math.floor((eo-Os)/To)+1,ro=new Array(La),On=0;On<La;On++)ro[On]=ei(Os+On*To);return{min:Math.min(ne,Object(a.head)(ro)),max:Math.max(de,Object(a.last)(ro)),ticks:ro}}function ai(ne){var de=ne.values,Oe=ne.tickInterval,Ue=ne.tickCount,Ve=de;if(Object(a.isNumber)(Oe))return Object(a.filter)(Ve,function(Wn,Nn){return Nn%Oe==0});var sr=ne.min,wr=ne.max;if(Object(a.isNil)(sr)&&(sr=0),Object(a.isNil)(wr)&&(wr=de.length-1),Object(a.isNumber)(Ue)&&Ue<wr-sr){var Vr=In(sr,wr,Ue,!1,[1,2,5,3,4,7,6,8,9]).ticks,On=Object(a.filter)(Vr,function(Wn){return Wn>=sr&&Wn<=wr});return On.map(function(Wn){return de[Wn]})}return de.slice(sr,wr+1)}function ga(ne){var de=ne.min,Oe=ne.max,Ue=ne.nice,Ve=ne.tickCount,sr=new Ri;return sr.domain([de,Oe]),Ue&&sr.nice(Ve),sr.ticks(Ve)}var Da=5,Sa=Math.sqrt(50),Gi=Math.sqrt(10),Ma=Math.sqrt(2),Ri=function(){function ne(){this._domain=[0,1]}return ne.prototype.domain=function(de){return de?(this._domain=Array.from(de,Number),this):this._domain.slice()},ne.prototype.nice=function(de){var Oe,Ue;de===void 0&&(de=Da);var Ve=this._domain.slice(),sr=0,wr=this._domain.length-1,Vr=this._domain[sr],On=this._domain[wr],Wn;return On<Vr&&(Oe=[On,Vr],Vr=Oe[0],On=Oe[1],Ue=[wr,sr],sr=Ue[0],wr=Ue[1]),Wn=Di(Vr,On,de),Wn>0?(Vr=Math.floor(Vr/Wn)*Wn,On=Math.ceil(On/Wn)*Wn,Wn=Di(Vr,On,de)):Wn<0&&(Vr=Math.ceil(Vr*Wn)/Wn,On=Math.floor(On*Wn)/Wn,Wn=Di(Vr,On,de)),Wn>0?(Ve[sr]=Math.floor(Vr/Wn)*Wn,Ve[wr]=Math.ceil(On/Wn)*Wn,this.domain(Ve)):Wn<0&&(Ve[sr]=Math.ceil(Vr*Wn)/Wn,Ve[wr]=Math.floor(On*Wn)/Wn,this.domain(Ve)),this},ne.prototype.ticks=function(de){return de===void 0&&(de=Da),ca(this._domain[0],this._domain[this._domain.length-1],de||Da)},ne}();function ca(ne,de,Oe){var Ue,Ve=-1,sr,wr,Vr;if(de=+de,ne=+ne,Oe=+Oe,ne===de&&Oe>0)return[ne];if((Ue=de<ne)&&(sr=ne,ne=de,de=sr),(Vr=Di(ne,de,Oe))===0||!isFinite(Vr))return[];if(Vr>0)for(ne=Math.ceil(ne/Vr),de=Math.floor(de/Vr),wr=new Array(sr=Math.ceil(de-ne+1));++Ve<sr;)wr[Ve]=(ne+Ve)*Vr;else for(ne=Math.floor(ne*Vr),de=Math.ceil(de*Vr),wr=new Array(sr=Math.ceil(ne-de+1));++Ve<sr;)wr[Ve]=(ne-Ve)/Vr;return Ue&&wr.reverse(),wr}function Di(ne,de,Oe){var Ue=(de-ne)/Math.max(0,Oe),Ve=Math.floor(Math.log(Ue)/Math.LN10),sr=Ue/Math.pow(10,Ve);return Ve>=0?(sr>=Sa?10:sr>=Gi?5:sr>=Ma?2:1)*Math.pow(10,Ve):-Math.pow(10,-Ve)/(sr>=Sa?10:sr>=Gi?5:sr>=Ma?2:1)}function Ca(ne,de,Oe){var Ue;return Oe==="ceil"?Ue=Math.ceil(ne/de):Oe==="floor"?Ue=Math.floor(ne/de):Ue=Math.round(ne/de),Ue*de}function pa(ne,de,Oe){var Ue=Ca(ne,Oe,"floor"),Ve=Ca(de,Oe,"ceil");Ue=Object(a.fixedBase)(Ue,Oe),Ve=Object(a.fixedBase)(Ve,Oe);for(var sr=[],wr=Ue;wr<=Ve;wr=wr+Oe){var Vr=Object(a.fixedBase)(wr,Oe);sr.push(Vr)}return{min:Ue,max:Ve,ticks:sr}}function Wa(ne,de,Oe){var Ue,Ve=ne.minLimit,sr=ne.maxLimit,wr=ne.min,Vr=ne.max,On=ne.tickCount,Wn=On===void 0?5:On,Nn=Object(a.isNil)(Ve)?Object(a.isNil)(de)?wr:de:Ve,Pi=Object(a.isNil)(sr)?Object(a.isNil)(Oe)?Vr:Oe:sr;if(Nn>Pi&&(Ue=[Nn,Pi],Pi=Ue[0],Nn=Ue[1]),Wn<=2)return[Nn,Pi];for(var zi=(Pi-Nn)/(Wn-1),Ia=[],ki=0;ki<Wn;ki++)Ia.push(Nn+zi*ki);return Ia}function oo(ne){var de=ne.min,Oe=ne.max,Ue=ne.tickInterval,Ve=ne.minLimit,sr=ne.maxLimit,wr=ga(ne);return!Object(a.isNil)(Ve)||!Object(a.isNil)(sr)?Wa(ne,Object(a.head)(wr),Object(a.last)(wr)):Ue?pa(de,Oe,Ue).ticks:wr}function po(ne){var de=ne.min,Oe=ne.max,Ue=ne.tickCount,Ve=ne.nice,sr=ne.tickInterval,wr=ne.minLimit,Vr=ne.maxLimit,On=In(de,Oe,Ue,Ve).ticks;return!Object(a.isNil)(wr)||!Object(a.isNil)(Vr)?Wa(ne,Object(a.head)(On),Object(a.last)(On)):sr?pa(de,Oe,sr).ticks:On}function Xa(ne){var de=ne.base,Oe=ne.tickCount,Ue=ne.min,Ve=ne.max,sr=ne.values,wr,Vr=Ut(de,Ve);if(Ue>0)wr=Math.floor(Ut(de,Ue));else{var On=$t(sr,de,Ve);wr=Math.floor(Ut(de,On))}for(var Wn=Vr-wr,Nn=Math.ceil(Wn/Oe),Pi=[],zi=wr;zi<Vr+Nn;zi=zi+Nn)Pi.push(Math.pow(de,zi));return Ue<=0&&Pi.unshift(0),Pi}function os(ne){return ne<1e-15?ne:parseFloat(ne.toFixed(15))}function $o(ne,de,Oe){if(Oe===void 0&&(Oe=5),ne===de)return{max:de,min:ne,ticks:[ne]};var Ue=1.5,Ve=.5+1.5*Ue,sr=de-ne,wr=sr/Oe,Vr=Math.pow(10,Math.floor(Math.log10(wr))),On=Vr;2*Vr-wr<Ue*(wr-On)&&(On=2*Vr,5*Vr-wr<Ve*(wr-On)&&(On=5*Vr,10*Vr-wr<Ue*(wr-On)&&(On=10*Vr)));for(var Wn=Math.ceil(de/On),Nn=Math.floor(ne/On),Pi=Math.max(Wn*On,de),zi=Math.min(Nn*On,ne),Ia=Math.floor((Pi-zi)/On)+1,ki=new Array(Ia),fa=0;fa<Ia;fa++)ki[fa]=os(zi+fa*On);return{min:zi,max:Pi,ticks:ki}}function Xo(ne){var de=ne.exponent,Oe=ne.tickCount,Ue=Math.ceil(It(de,ne.max)),Ve=Math.floor(It(de,ne.min)),sr=$o(Ve,Ue,Oe).ticks;return sr.map(function(wr){var Vr=wr>=0?1:-1;return Math.pow(wr,de)*Vr})}function Ol(ne,de){var Oe=ne.length*de;return de===1?ne[ne.length-1]:de===0?ne[0]:Oe%1!=0?ne[Math.ceil(Oe)-1]:ne.length%2==0?(ne[Oe-1]+ne[Oe])/2:ne[Oe]}function ba(ne){var de=ne.tickCount,Oe=ne.values;if(!Oe||!Oe.length)return[];for(var Ue=Oe.slice().sort(function(Vr,On){return Vr-On}),Ve=[],sr=0;sr<de;sr++){var wr=sr/(de-1);Ve.push(Ol(Ue,wr))}return Ve}function xl(ne){var de=ne.min,Oe=ne.max,Ue=ne.tickCount,Ve=ne.tickInterval,sr=ne.minLimit,wr=ne.maxLimit,Vr=$o(de,Oe,Ue).ticks;return!Object(a.isNil)(sr)||!Object(a.isNil)(wr)?Wa(ne,Object(a.head)(Vr),Object(a.last)(Vr)):Ve?pa(de,Oe,Ve).ticks:Vr}function El(ne){var de=ne.min,Oe=ne.max,Ue=ne.minTickInterval,Ve=ne.tickInterval,sr=ne.tickCount;if(Ve)sr=Math.ceil((Oe-de)/Ve);else{Ve=Vt(de,Oe,sr)[1];var wr=(Oe-de)/Ve,Vr=wr/sr;Vr>1&&(Ve=Ve*Math.ceil(Vr)),Ue&&Ve<Ue&&(Ve=Ue)}for(var On=[],Wn=de;Wn<Oe+Ve;Wn+=Ve)On.push(Wn);return On}function ss(ne){var de=ai(ne),Oe=Object(a.last)(ne.values);return Oe!==Object(a.last)(de)&&de.push(Oe),de}function ys(ne){return new Date(ne).getFullYear()}function nl(ne){return new Date(ne,0,1).getTime()}function ri(ne){return new Date(ne).getMonth()}function Gl(ne,de){var Oe=ys(ne),Ue=ys(de),Ve=ri(ne),sr=ri(de);return(Ue-Oe)*12+(sr-Ve)%12}function Yo(ne,de){return new Date(ne,de,1).getTime()}function Us(ne,de){return Math.ceil((de-ne)/it)}function Ws(ne,de){return Math.ceil((de-ne)/bt)}function il(ne,de){return Math.ceil((de-ne)/(60*1e3))}function ls(ne){var de=ne.min,Oe=ne.max,Ue=ne.minTickInterval,Ve=ne.tickCount,sr=ne.tickInterval,wr=[];sr||(sr=(Oe-de)/Ve,Ue&&sr<Ue&&(sr=Ue));var Vr=ys(de);if(sr>Pt)for(var On=ys(Oe),Wn=Math.ceil(sr/Pt),Nn=Vr;Nn<=On+Wn;Nn=Nn+Wn)wr.push(nl(Nn));else if(sr>Ot)for(var Pi=Math.ceil(sr/Ot),zi=ri(de),Ia=Gl(de,Oe),Nn=0;Nn<=Ia+Pi;Nn=Nn+Pi)wr.push(Yo(Vr,Nn+zi));else if(sr>it)for(var ki=new Date(de),fa=ki.getFullYear(),so=ki.getMonth(),Co=ki.getDate(),oe=Math.ceil(sr/it),ms=Us(de,Oe),Nn=0;Nn<ms+oe;Nn=Nn+oe)wr.push(new Date(fa,so,Co+Nn).getTime());else if(sr>bt)for(var ki=new Date(de),fa=ki.getFullYear(),so=ki.getMonth(),oe=ki.getDate(),lo=ki.getHours(),ha=Math.ceil(sr/bt),Za=Ws(de,Oe),Nn=0;Nn<=Za+ha;Nn=Nn+ha)wr.push(new Date(fa,so,oe,lo+Nn).getTime());else if(sr>$)for(var yo=il(de,Oe),ci=Math.ceil(sr/$),Nn=0;Nn<=yo+ci;Nn=Nn+ci)wr.push(de+Nn*$);else{var mo=sr;mo<_&&(mo=_);for(var Ao=Math.floor(de/_)*_,us=Math.ceil((Oe-de)/_),wo=Math.ceil(mo/_),Nn=0;Nn<us+wo;Nn=Nn+wo)wr.push(Ao+Nn*_)}return wr.length>=512&&console.warn("Notice: current ticks length("+wr.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+sr+") is too small, increase the value to solve the problem!"),wr}x("cat",ai),x("time-cat",ss),x("wilkinson-extended",po),x("r-pretty",xl),x("time",El),x("time-pretty",ls),x("log",Xa),x("pow",Xo),x("quantile",ba),x("d3-linear",oo),ir("cat",b),ir("category",b),ir("identity",Mr),ir("linear",Xt),ir("log",ce),ir("pow",Ce),ir("time",hr),ir("timeCat",Wt),ir("quantize",ar),ir("quantile",Xe)},"r/Jg":function(Lt,A){Lt.exports=i;function i(c,a){return c[0]=a[0],c[1]=a[1],c}},r1m7:function(Lt,A){function i(c,a){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}Lt.exports=i,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},r93A:function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=null;function a(){if(!c){var M=document.createElement("canvas");M.width=1,M.height=1,c=M.getContext("2d")}return c}},rBQE:function(Lt,A){Lt.exports=i;function i(c,a){var M=a[0]-c[0],O=a[1]-c[1];return Math.sqrt(M*M+O*O)}},rJDL:function(Lt,A,i){var c=i("XSdR"),a=i("L9IJ"),M=i("devy"),O=i("yWrq");Lt.exports=x;function x(S,p,b,y){var C=S.children(p),I=S.node(p),g=I?I.borderLeft:void 0,R=I?I.borderRight:void 0,U={};g&&(C=c.filter(C,function(F){return F!==g&&F!==R}));var W=a(S,C);c.forEach(W,function(F){if(S.children(F.v).length){var V=x(S,F.v,b,y);U[F.v]=V,c.has(V,"barycenter")&&E(F,V)}});var z=M(W,b);D(z,U);var B=O(z,y);if(g&&(B.vs=c.flatten([g,B.vs,R],!0),S.predecessors(g).length)){var L=S.node(S.predecessors(g)[0]),w=S.node(S.predecessors(R)[0]);c.has(B,"barycenter")||(B.barycenter=0,B.weight=0),B.barycenter=(B.barycenter*B.weight+L.order+w.order)/(B.weight+2),B.weight+=2}return B}function D(S,p){c.forEach(S,function(b){b.vs=c.flatten(b.vs.map(function(y){return p[y]?p[y].vs:y}),!0)})}function E(S,p){c.isUndefined(S.barycenter)?(S.barycenter=p.barycenter,S.weight=p.weight):(S.barycenter=(S.barycenter*S.weight+p.barycenter*p.weight)/(S.weight+p.weight),S.weight+=p.weight)}},rMkn:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Metadata=void 0;var c=i("9L8m"),a=function(){function M(O,x){this.key=O,this.value=x}return M.prototype.toString=function(){return this.key===c.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},M}();A.Metadata=a},rNQS:function(Lt,A,i){"use strict";i.d(A,"a",function(){return a}),i.d(A,"b",function(){return D});var c=i("CMID"),a;(function(E){E.ERROR="error",E.WARN="warn",E.INFO="log"})(a||(a={}));var M="AntV/G2Plot";function O(E){for(var S=[],p=1;p<arguments.length;p++)S[p-1]=arguments[p];var b=0;return M+": "+E.replace(/%s/g,function(){return""+S[b++]})}function x(E,S){for(var p=[],b=2;b<arguments.length;b++)p[b-2]=arguments[b];if(!E){var y=new Error(O.apply(void 0,Object(c.__spreadArrays)([S],p)));throw y.name=M,y}}function D(E,S,p){for(var b=[],y=3;y<arguments.length;y++)b[y-3]=arguments[y];S||console[E](O.apply(void 0,Object(c.__spreadArrays)([p],b)))}},radC:function(Lt,A,i){"use strict";i.r(A),i.d(A,"Line",function(){return b}),i.d(A,"Circle",function(){return C}),i.d(A,"Base",function(){return S}),i.d(A,"Html",function(){return w});var c=i("CMID"),a=i("8Loy"),M=i("8Mtd"),O=i("VZin"),x=i("x3DA"),D=i("qhN0"),E=function(F){Object(c.__extends)(V,F);function V(){return F!==null&&F.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var Y=F.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},Y),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:D.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:D.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:D.a.fontFamily}},textBackground:{padding:5,style:{stroke:D.a.lineColor}}}})},V.prototype.renderInner=function(Y){this.get("line")&&this.renderLine(Y),this.get("text")&&(this.renderText(Y),this.renderBackground(Y))},V.prototype.renderText=function(Y){var tt=this.get("text"),q=tt.style,H=tt.autoRotate,Q=tt.content;if(!Object(M.isNil)(Q)){var k=this.getTextPoint(),K=null;if(H){var nt=this.getRotateAngle();K=Object(x.e)(k,nt)}this.addShape(Y,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},k),{text:Q,matrix:K}),q)})}},V.prototype.renderLine=function(Y){var tt=this.getLinePath(),q=this.get("line"),H=q.style;this.addShape(Y,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(c.__assign)({path:tt},H)})},V.prototype.renderBackground=function(Y){var tt=this.getElementId("text"),q=Y.findById(tt),H=this.get("textBackground");if(H&&q){var Q=q.getBBox(),k=Object(a.c)(H.padding),K=H.style,nt=this.addShape(Y,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(c.__assign)({x:Q.x-k[3],y:Q.y-k[0],width:Q.width+k[1]+k[3],height:Q.height+k[0]+k[2],matrix:q.attr("matrix")},K)});nt.toBack()}},V}(O.a),S=E,p=function(F){Object(c.__extends)(V,F);function V(){return F!==null&&F.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var Y=F.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},Y),{type:"line",locationType:"region",start:null,end:null})},V.prototype.getRotateAngle=function(){var Y=this.getLocation(),tt=Y.start,q=Y.end,H=this.get("text").position,Q=Math.atan2(q.y-tt.y,q.x-tt.x),k=H==="start"?Q-Math.PI/2:Q+Math.PI/2;return k},V.prototype.getTextPoint=function(){var Y=this.getLocation(),tt=Y.start,q=Y.end,H=this.get("text"),Q=H.position,k=H.offset;return Object(a.f)(tt,q,Q,k)},V.prototype.getLinePath=function(){var Y=this.getLocation(),tt=Y.start,q=Y.end;return[["M",tt.x,tt.y],["L",q.x,q.y]]},V}(S),b=p,y=function(F){Object(c.__extends)(V,F);function V(){return F!==null&&F.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var Y=F.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},Y),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},V.prototype.getRotateAngle=function(){var Y=this.getLocation(),tt=Y.startAngle,q=Y.endAngle,H=this.get("text").position,Q=H==="start"?tt+Math.PI/2:q-Math.PI/2;return Q},V.prototype.getTextPoint=function(){var Y=this.get("text"),tt=Y.position,q=Y.offset,H=this.getLocation(),Q=H.center,k=H.radius,K=H.startAngle,nt=H.endAngle,lt=tt==="start"?K:nt,ut=this.getRotateAngle()-Math.PI,rt=Object(a.e)(Q,k,lt),ot=Math.cos(ut)*q,dt=Math.sin(ut)*q;return{x:rt.x+ot,y:rt.y+dt}},V.prototype.getLinePath=function(){var Y=this.getLocation(),tt=Y.center,q=Y.radius,H=Y.startAngle,Q=Y.endAngle,k=null;if(Q-H==Math.PI*2){var K=tt.x,nt=tt.y;k=[["M",K,nt-q],["A",q,q,0,1,1,K,nt+q],["A",q,q,0,1,1,K,nt-q],["Z"]]}else{var lt=Object(a.e)(tt,q,H),ut=Object(a.e)(tt,q,Q),rt=Math.abs(Q-H)>Math.PI?1:0,ot=H>Q?0:1;k=[["M",lt.x,lt.y],["A",q,q,0,rt,ot,ut.x,ut.y]]}return k},V}(S),C=y,I=i("m8xh"),g=i("+On4"),R="g2-crosshair",U=R+"-line",W=R+"-text",z,B=(z={},z[""+R]={position:"relative"},z[""+U]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},z[""+W]={position:"absolute",color:D.a.textColor,fontFamily:D.a.fontFamily},z),L=function(F){Object(c.__extends)(V,F);function V(){return F!==null&&F.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var Y=F.prototype.getDefaultCfg.call(this);return Object(c.__assign)(Object(c.__assign)({},Y),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+R+'"></div>',crosshairTpl:'<div class="'+U+'"></div>',textTpl:'<span class="'+W+'">{content}</span>',domStyles:null,containerClassName:R,defaultStyles:B,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},V.prototype.render=function(){this.resetText(),this.resetPosition()},V.prototype.initCrossHair=function(){var Y=this.getContainer(),tt=this.get("crosshairTpl"),q=Object(I.b)(tt);Y.appendChild(q),this.applyStyle(U,q),this.set("crosshairEl",q)},V.prototype.getTextPoint=function(){var Y=this.getLocation(),tt=Y.start,q=Y.end,H=this.get("text"),Q=H.position,k=H.offset;return Object(a.f)(tt,q,Q,k)},V.prototype.resetText=function(){var Y=this.get("text"),tt=this.get("textEl");if(Y){var q=Y.content;if(!tt){var H=this.getContainer(),Q=Object(M.substitute)(this.get("textTpl"),Y);tt=Object(I.b)(Q),H.appendChild(tt),this.applyStyle(W,tt),this.set("textEl",tt)}tt.innerHTML=q}else tt&&tt.remove()},V.prototype.isVertical=function(Y,tt){return Y.x===tt.x},V.prototype.resetPosition=function(){var Y=this.get("crosshairEl");Y||(this.initCrossHair(),Y=this.get("crosshairEl"));var tt=this.get("start"),q=this.get("end"),H=Math.min(tt.x,q.x),Q=Math.min(tt.y,q.y);this.isVertical(tt,q)?Object(I.e)(Y,{width:"1px",height:Object(a.l)(Math.abs(q.y-tt.y))}):Object(I.e)(Y,{height:"1px",width:Object(a.l)(Math.abs(q.x-tt.x))}),Object(I.e)(Y,{top:Object(a.l)(Q),left:Object(a.l)(H)}),this.alignText()},V.prototype.alignText=function(){var Y=this.get("textEl");if(Y){var tt=this.get("text").align,q=Y.clientWidth,H=this.getTextPoint();switch(tt){case"center":H.x=H.x-q/2;break;case"right":H.x=H.x-q;case"left":break}Object(I.e)(Y,{top:Object(a.l)(H.y),left:Object(a.l)(H.x)})}},V.prototype.updateInner=function(Y){Object(M.hasKey)(Y,"text")&&this.resetText(),F.prototype.updateInner.call(this,Y)},V}(g.a),w=L},riA0:function(Lt,A,i){"use strict";i.d(A,"a",function(){return ot}),i.d(A,"b",function(){return Nt}),i.d(A,"c",function(){return x});var c=i("8Mtd"),a=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,M=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig"),x=function(ht){if(!ht)return null;if(Object(c.isArray)(ht))return ht;var yt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(ht).replace(M,function(st,xt,gt){var At=[],pt=xt.toLowerCase();if(gt.replace(O,function(_,$){$&&At.push(+$)}),pt==="m"&&At.length>2&&(ft.push([xt].concat(At.splice(0,2))),pt="l",xt=xt==="m"?"l":"L"),pt==="o"&&At.length===1&&ft.push([xt,At[0]]),pt==="r")ft.push([xt].concat(At));else for(;At.length>=yt[pt]&&(ft.push([xt].concat(At.splice(0,yt[pt]))),!!yt[pt]););return ht}),ft},D=function(ht,yt){for(var ft=[],st=0,xt=ht.length;xt-2*!yt>st;st+=2){var gt=[{x:+ht[st-2],y:+ht[st-1]},{x:+ht[st],y:+ht[st+1]},{x:+ht[st+2],y:+ht[st+3]},{x:+ht[st+4],y:+ht[st+5]}];yt?st?xt-4===st?gt[3]={x:+ht[0],y:+ht[1]}:xt-2===st&&(gt[2]={x:+ht[0],y:+ht[1]},gt[3]={x:+ht[2],y:+ht[3]}):gt[0]={x:+ht[xt-2],y:+ht[xt-1]}:xt-4===st?gt[3]=gt[2]:st||(gt[0]={x:+ht[st],y:+ht[st+1]}),ft.push(["C",(-gt[0].x+6*gt[1].x+gt[2].x)/6,(-gt[0].y+6*gt[1].y+gt[2].y)/6,(gt[1].x+6*gt[2].x-gt[3].x)/6,(gt[1].y+6*gt[2].y-gt[3].y)/6,gt[2].x,gt[2].y])}return ft},E=function(ht,yt,ft,st,xt){var gt=[];if(xt===null&&st===null&&(st=ft),ht=+ht,yt=+yt,ft=+ft,st=+st,xt!==null){var At=Math.PI/180,pt=ht+ft*Math.cos(-st*At),_=ht+ft*Math.cos(-xt*At),$=yt+ft*Math.sin(-st*At),bt=yt+ft*Math.sin(-xt*At);gt=[["M",pt,$],["A",ft,ft,0,+(xt-st>180),0,_,bt]]}else gt=[["M",ht,yt],["m",0,-st],["a",ft,st,0,1,1,0,2*st],["a",ft,st,0,1,1,0,-2*st],["z"]];return gt},S=function(ht){if(ht=x(ht),!ht||!ht.length)return[["M",0,0]];var yt=[],ft=0,st=0,xt=0,gt=0,At=0,pt,_;ht[0][0]==="M"&&(ft=+ht[0][1],st=+ht[0][2],xt=ft,gt=st,At++,yt[0]=["M",ft,st]);for(var $=ht.length===3&&ht[0][0]==="M"&&ht[1][0].toUpperCase()==="R"&&ht[2][0].toUpperCase()==="Z",bt=void 0,it=void 0,Ot=At,Pt=ht.length;Ot<Pt;Ot++){if(yt.push(bt=[]),it=ht[Ot],pt=it[0],pt!==pt.toUpperCase())switch(bt[0]=pt.toUpperCase(),bt[0]){case"A":bt[1]=it[1],bt[2]=it[2],bt[3]=it[3],bt[4]=it[4],bt[5]=it[5],bt[6]=+it[6]+ft,bt[7]=+it[7]+st;break;case"V":bt[1]=+it[1]+st;break;case"H":bt[1]=+it[1]+ft;break;case"R":_=[ft,st].concat(it.slice(1));for(var Rt=2,Vt=_.length;Rt<Vt;Rt++)_[Rt]=+_[Rt]+ft,_[++Rt]=+_[Rt]+st;yt.pop(),yt=yt.concat(D(_,$));break;case"O":yt.pop(),_=E(ft,st,it[1],it[2]),_.push(_[0]),yt=yt.concat(_);break;case"U":yt.pop(),yt=yt.concat(E(ft,st,it[1],it[2],it[3])),bt=["U"].concat(yt[yt.length-1].slice(-2));break;case"M":xt=+it[1]+ft,gt=+it[2]+st;break;default:for(var Rt=1,Vt=it.length;Rt<Vt;Rt++)bt[Rt]=+it[Rt]+(Rt%2?ft:st)}else if(pt==="R")_=[ft,st].concat(it.slice(1)),yt.pop(),yt=yt.concat(D(_,$)),bt=["R"].concat(it.slice(-2));else if(pt==="O")yt.pop(),_=E(ft,st,it[1],it[2]),_.push(_[0]),yt=yt.concat(_);else if(pt==="U")yt.pop(),yt=yt.concat(E(ft,st,it[1],it[2],it[3])),bt=["U"].concat(yt[yt.length-1].slice(-2));else for(var kt=0,Wt=it.length;kt<Wt;kt++)bt[kt]=it[kt];if(pt=pt.toUpperCase(),pt!=="O")switch(bt[0]){case"Z":ft=+xt,st=+gt;break;case"H":ft=bt[1];break;case"V":st=bt[1];break;case"M":xt=bt[bt.length-2],gt=bt[bt.length-1];break;default:ft=bt[bt.length-2],st=bt[bt.length-1]}}return yt},p=function(ht,yt,ft,st){return[ht,yt,ft,st,ft,st]},b=function(ht,yt,ft,st,xt,gt){var At=1/3,pt=2/3;return[At*ht+pt*ft,At*yt+pt*st,At*xt+pt*ft,At*gt+pt*st,xt,gt]},y=function(ht,yt,ft,st,xt,gt,At,pt,_,$){ft===st&&(ft+=1);var bt=Math.PI*120/180,it=Math.PI/180*(+xt||0),Ot=[],Pt,Rt,Vt,kt,Wt,wt=function(ze,Or,Nr){var $r=ze*Math.cos(Nr)-Or*Math.sin(Nr),Kr=ze*Math.sin(Nr)+Or*Math.cos(Nr);return{x:$r,y:Kr}};if($)Rt=$[0],Vt=$[1],kt=$[2],Wt=$[3];else{Pt=wt(ht,yt,-it),ht=Pt.x,yt=Pt.y,Pt=wt(pt,_,-it),pt=Pt.x,_=Pt.y,ht===pt&&yt===_&&(pt+=1,_+=1);var ct=(ht-pt)/2,jt=(yt-_)/2,Xt=ct*ct/(ft*ft)+jt*jt/(st*st);Xt>1&&(Xt=Math.sqrt(Xt),ft=Xt*ft,st=Xt*st);var It=ft*ft,Ut=st*st,$t=(gt===At?-1:1)*Math.sqrt(Math.abs((It*Ut-It*jt*jt-Ut*ct*ct)/(It*jt*jt+Ut*ct*ct)));kt=$t*ft*jt/st+(ht+pt)/2,Wt=$t*-st*ct/ft+(yt+_)/2,Rt=Math.asin(((yt-Wt)/st).toFixed(9)),Vt=Math.asin(((_-Wt)/st).toFixed(9)),Rt=ht<kt?Math.PI-Rt:Rt,Vt=pt<kt?Math.PI-Vt:Vt,Rt<0&&(Rt=Math.PI*2+Rt),Vt<0&&(Vt=Math.PI*2+Vt),At&&Rt>Vt&&(Rt=Rt-Math.PI*2),!At&&Vt>Rt&&(Vt=Vt-Math.PI*2)}var Ft=Vt-Rt;if(Math.abs(Ft)>bt){var Kt=Vt,ee=pt,ce=_;Vt=Rt+bt*(At&&Vt>Rt?1:-1),pt=kt+ft*Math.cos(Vt),_=Wt+st*Math.sin(Vt),Ot=y(pt,_,ft,st,xt,0,At,ee,ce,[Vt,Kt,kt,Wt])}Ft=Vt-Rt;var Se=Math.cos(Rt),Ce=Math.sin(Rt),Ge=Math.cos(Vt),hr=Math.sin(Vt),dr=Math.tan(Ft/4),ar=4/3*ft*dr,qe=4/3*st*dr,Xe=[ht,yt],ur=[ht+ar*Ce,yt-qe*Se],zr=[pt+ar*hr,_-qe*Ge],ir=[pt,_];if(ur[0]=2*Xe[0]-ur[0],ur[1]=2*Xe[1]-ur[1],$)return[ur,zr,ir].concat(Ot);Ot=[ur,zr,ir].concat(Ot).join().split(",");for(var qr=[],Mr=0,Br=Ot.length;Mr<Br;Mr++)qr[Mr]=Mr%2?wt(Ot[Mr-1],Ot[Mr],it).y:wt(Ot[Mr],Ot[Mr+1],it).x;return qr},C=function(ht,yt){var ft=S(ht),st=yt&&S(yt),xt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},gt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},At=[],pt=[],_="",$="",bt,it=function(ct,jt,Xt){var It,Ut;if(!ct)return["C",jt.x,jt.y,jt.x,jt.y,jt.x,jt.y];switch(!(ct[0]in{T:1,Q:1})&&(jt.qx=jt.qy=null),ct[0]){case"M":jt.X=ct[1],jt.Y=ct[2];break;case"A":ct=["C"].concat(y.apply(0,[jt.x,jt.y].concat(ct.slice(1))));break;case"S":Xt==="C"||Xt==="S"?(It=jt.x*2-jt.bx,Ut=jt.y*2-jt.by):(It=jt.x,Ut=jt.y),ct=["C",It,Ut].concat(ct.slice(1));break;case"T":Xt==="Q"||Xt==="T"?(jt.qx=jt.x*2-jt.qx,jt.qy=jt.y*2-jt.qy):(jt.qx=jt.x,jt.qy=jt.y),ct=["C"].concat(b(jt.x,jt.y,jt.qx,jt.qy,ct[1],ct[2]));break;case"Q":jt.qx=ct[1],jt.qy=ct[2],ct=["C"].concat(b(jt.x,jt.y,ct[1],ct[2],ct[3],ct[4]));break;case"L":ct=["C"].concat(p(jt.x,jt.y,ct[1],ct[2]));break;case"H":ct=["C"].concat(p(jt.x,jt.y,ct[1],jt.y));break;case"V":ct=["C"].concat(p(jt.x,jt.y,jt.x,ct[1]));break;case"Z":ct=["C"].concat(p(jt.x,jt.y,jt.X,jt.Y));break;default:break}return ct},Ot=function(ct,jt){if(ct[jt].length>7){ct[jt].shift();for(var Xt=ct[jt];Xt.length;)At[jt]="A",st&&(pt[jt]="A"),ct.splice(jt++,0,["C"].concat(Xt.splice(0,6)));ct.splice(jt,1),bt=Math.max(ft.length,st&&st.length||0)}},Pt=function(ct,jt,Xt,It,Ut){ct&&jt&&ct[Ut][0]==="M"&&jt[Ut][0]!=="M"&&(jt.splice(Ut,0,["M",It.x,It.y]),Xt.bx=0,Xt.by=0,Xt.x=ct[Ut][1],Xt.y=ct[Ut][2],bt=Math.max(ft.length,st&&st.length||0))};bt=Math.max(ft.length,st&&st.length||0);for(var Rt=0;Rt<bt;Rt++){ft[Rt]&&(_=ft[Rt][0]),_!=="C"&&(At[Rt]=_,Rt&&($=At[Rt-1])),ft[Rt]=it(ft[Rt],xt,$),At[Rt]!=="A"&&_==="C"&&(At[Rt]="C"),Ot(ft,Rt),st&&(st[Rt]&&(_=st[Rt][0]),_!=="C"&&(pt[Rt]=_,Rt&&($=pt[Rt-1])),st[Rt]=it(st[Rt],gt,$),pt[Rt]!=="A"&&_==="C"&&(pt[Rt]="C"),Ot(st,Rt)),Pt(ft,st,xt,gt,Rt),Pt(st,ft,gt,xt,Rt);var Vt=ft[Rt],kt=st&&st[Rt],Wt=Vt.length,wt=st&&kt.length;xt.x=Vt[Wt-2],xt.y=Vt[Wt-1],xt.bx=parseFloat(Vt[Wt-4])||xt.x,xt.by=parseFloat(Vt[Wt-3])||xt.y,gt.bx=st&&(parseFloat(kt[wt-4])||gt.x),gt.by=st&&(parseFloat(kt[wt-3])||gt.y),gt.x=st&&kt[wt-2],gt.y=st&&kt[wt-1]}return st?[ft,st]:ft},I=/,?([a-z]),?/gi,g=function(ht){return ht.join(",").replace(I,"$1")},R=function(ht,yt,ft,st,xt){var gt=-3*yt+9*ft-9*st+3*xt,At=ht*gt+6*yt-12*ft+6*st;return ht*At-3*yt+3*ft},U=function(ht,yt,ft,st,xt,gt,At,pt,_){_===null&&(_=1),_=_>1?1:_<0?0:_;for(var $=_/2,bt=12,it=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ot=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Pt=0,Rt=0;Rt<bt;Rt++){var Vt=$*it[Rt]+$,kt=R(Vt,ht,ft,xt,At),Wt=R(Vt,yt,st,gt,pt),wt=kt*kt+Wt*Wt;Pt+=Ot[Rt]*Math.sqrt(wt)}return $*Pt},W=function(ht,yt,ft,st,xt,gt,At,pt){for(var _=[],$=[[],[]],bt,it,Ot,Pt,Rt=0;Rt<2;++Rt){if(Rt===0?(it=6*ht-12*ft+6*xt,bt=-3*ht+9*ft-9*xt+3*At,Ot=3*ft-3*ht):(it=6*yt-12*st+6*gt,bt=-3*yt+9*st-9*gt+3*pt,Ot=3*st-3*yt),Math.abs(bt)<1e-12){if(Math.abs(it)<1e-12)continue;Pt=-Ot/it,Pt>0&&Pt<1&&_.push(Pt);continue}var Vt=it*it-4*Ot*bt,kt=Math.sqrt(Vt);if(!(Vt<0)){var Wt=(-it+kt)/(2*bt);Wt>0&&Wt<1&&_.push(Wt);var wt=(-it-kt)/(2*bt);wt>0&&wt<1&&_.push(wt)}}for(var ct=_.length,jt=ct,Xt;ct--;)Pt=_[ct],Xt=1-Pt,$[0][ct]=Xt*Xt*Xt*ht+3*Xt*Xt*Pt*ft+3*Xt*Pt*Pt*xt+Pt*Pt*Pt*At,$[1][ct]=Xt*Xt*Xt*yt+3*Xt*Xt*Pt*st+3*Xt*Pt*Pt*gt+Pt*Pt*Pt*pt;return $[0][jt]=ht,$[1][jt]=yt,$[0][jt+1]=At,$[1][jt+1]=pt,$[0].length=$[1].length=jt+2,{min:{x:Math.min.apply(0,$[0]),y:Math.min.apply(0,$[1])},max:{x:Math.max.apply(0,$[0]),y:Math.max.apply(0,$[1])}}},z=function(ht,yt,ft,st,xt,gt,At,pt){if(!(Math.max(ht,ft)<Math.min(xt,At)||Math.min(ht,ft)>Math.max(xt,At)||Math.max(yt,st)<Math.min(gt,pt)||Math.min(yt,st)>Math.max(gt,pt))){var _=(ht*st-yt*ft)*(xt-At)-(ht-ft)*(xt*pt-gt*At),$=(ht*st-yt*ft)*(gt-pt)-(yt-st)*(xt*pt-gt*At),bt=(ht-ft)*(gt-pt)-(yt-st)*(xt-At);if(!!bt){var it=_/bt,Ot=$/bt,Pt=+it.toFixed(2),Rt=+Ot.toFixed(2);if(!(Pt<+Math.min(ht,ft).toFixed(2)||Pt>+Math.max(ht,ft).toFixed(2)||Pt<+Math.min(xt,At).toFixed(2)||Pt>+Math.max(xt,At).toFixed(2)||Rt<+Math.min(yt,st).toFixed(2)||Rt>+Math.max(yt,st).toFixed(2)||Rt<+Math.min(gt,pt).toFixed(2)||Rt>+Math.max(gt,pt).toFixed(2)))return{x:it,y:Ot}}}},B=function(ht,yt,ft){return yt>=ht.x&&yt<=ht.x+ht.width&&ft>=ht.y&&ft<=ht.y+ht.height},L=function(ht,yt,ft,st,xt){if(xt)return[["M",+ht+ +xt,yt],["l",ft-xt*2,0],["a",xt,xt,0,0,1,xt,xt],["l",0,st-xt*2],["a",xt,xt,0,0,1,-xt,xt],["l",xt*2-ft,0],["a",xt,xt,0,0,1,-xt,-xt],["l",0,xt*2-st],["a",xt,xt,0,0,1,xt,-xt],["z"]];var gt=[["M",ht,yt],["l",ft,0],["l",0,st],["l",-ft,0],["z"]];return gt.parsePathArray=g,gt},w=function(ht,yt,ft,st){return ht===null&&(ht=yt=ft=st=0),yt===null&&(yt=ht.y,ft=ht.width,st=ht.height,ht=ht.x),{x:ht,y:yt,width:ft,w:ft,height:st,h:st,x2:ht+ft,y2:yt+st,cx:ht+ft/2,cy:yt+st/2,r1:Math.min(ft,st)/2,r2:Math.max(ft,st)/2,r0:Math.sqrt(ft*ft+st*st)/2,path:L(ht,yt,ft,st),vb:[ht,yt,ft,st].join(" ")}},F=function(ht,yt){return ht=w(ht),yt=w(yt),B(yt,ht.x,ht.y)||B(yt,ht.x2,ht.y)||B(yt,ht.x,ht.y2)||B(yt,ht.x2,ht.y2)||B(ht,yt.x,yt.y)||B(ht,yt.x2,yt.y)||B(ht,yt.x,yt.y2)||B(ht,yt.x2,yt.y2)||(ht.x<yt.x2&&ht.x>yt.x||yt.x<ht.x2&&yt.x>ht.x)&&(ht.y<yt.y2&&ht.y>yt.y||yt.y<ht.y2&&yt.y>ht.y)},V=function(ht,yt,ft,st,xt,gt,At,pt){Object(c.isArray)(ht)||(ht=[ht,yt,ft,st,xt,gt,At,pt]);var _=W.apply(null,ht);return w(_.min.x,_.min.y,_.max.x-_.min.x,_.max.y-_.min.y)},Y=function(ht,yt,ft,st,xt,gt,At,pt,_){var $=1-_,bt=Math.pow($,3),it=Math.pow($,2),Ot=_*_,Pt=Ot*_,Rt=bt*ht+it*3*_*ft+$*3*_*_*xt+Pt*At,Vt=bt*yt+it*3*_*st+$*3*_*_*gt+Pt*pt,kt=ht+2*_*(ft-ht)+Ot*(xt-2*ft+ht),Wt=yt+2*_*(st-yt)+Ot*(gt-2*st+yt),wt=ft+2*_*(xt-ft)+Ot*(At-2*xt+ft),ct=st+2*_*(gt-st)+Ot*(pt-2*gt+st),jt=$*ht+_*ft,Xt=$*yt+_*st,It=$*xt+_*At,Ut=$*gt+_*pt,$t=90-Math.atan2(kt-wt,Wt-ct)*180/Math.PI;return{x:Rt,y:Vt,m:{x:kt,y:Wt},n:{x:wt,y:ct},start:{x:jt,y:Xt},end:{x:It,y:Ut},alpha:$t}},tt=function(ht,yt,ft){var st=V(ht),xt=V(yt);if(!F(st,xt))return ft?0:[];for(var gt=U.apply(0,ht),At=U.apply(0,yt),pt=~~(gt/8),_=~~(At/8),$=[],bt=[],it={},Ot=ft?0:[],Pt=0;Pt<pt+1;Pt++){var Rt=Y.apply(0,ht.concat(Pt/pt));$.push({x:Rt.x,y:Rt.y,t:Pt/pt})}for(var Pt=0;Pt<_+1;Pt++){var Rt=Y.apply(0,yt.concat(Pt/_));bt.push({x:Rt.x,y:Rt.y,t:Pt/_})}for(var Pt=0;Pt<pt;Pt++)for(var Vt=0;Vt<_;Vt++){var kt=$[Pt],Wt=$[Pt+1],wt=bt[Vt],ct=bt[Vt+1],jt=Math.abs(Wt.x-kt.x)<.001?"y":"x",Xt=Math.abs(ct.x-wt.x)<.001?"y":"x",It=z(kt.x,kt.y,Wt.x,Wt.y,wt.x,wt.y,ct.x,ct.y);if(It){if(it[It.x.toFixed(4)]===It.y.toFixed(4))continue;it[It.x.toFixed(4)]=It.y.toFixed(4);var Ut=kt.t+Math.abs((It[jt]-kt[jt])/(Wt[jt]-kt[jt]))*(Wt.t-kt.t),$t=wt.t+Math.abs((It[Xt]-wt[Xt])/(ct[Xt]-wt[Xt]))*(ct.t-wt.t);Ut>=0&&Ut<=1&&$t>=0&&$t<=1&&(ft?Ot+=1:Ot.push({x:It.x,y:It.y,t1:Ut,t2:$t}))}}return Ot},q=function(ht,yt,ft){ht=C(ht),yt=C(yt);for(var st,xt,gt,At,pt,_,$,bt,it,Ot,Pt=ft?0:[],Rt=0,Vt=ht.length;Rt<Vt;Rt++){var kt=ht[Rt];if(kt[0]==="M")st=pt=kt[1],xt=_=kt[2];else{kt[0]==="C"?(it=[st,xt].concat(kt.slice(1)),st=it[6],xt=it[7]):(it=[st,xt,st,xt,pt,_,pt,_],st=pt,xt=_);for(var Wt=0,wt=yt.length;Wt<wt;Wt++){var ct=yt[Wt];if(ct[0]==="M")gt=$=ct[1],At=bt=ct[2];else{ct[0]==="C"?(Ot=[gt,At].concat(ct.slice(1)),gt=Ot[6],At=Ot[7]):(Ot=[gt,At,gt,At,$,bt,$,bt],gt=$,At=bt);var jt=tt(it,Ot,ft);if(ft)Pt+=jt;else{for(var Xt=0,It=jt.length;Xt<It;Xt++)jt[Xt].segment1=Rt,jt[Xt].segment2=Wt,jt[Xt].bez1=it,jt[Xt].bez2=Ot;Pt=Pt.concat(jt)}}}}}return Pt},H=function(ht,yt){return q(ht,yt)};function Q(ht,yt){var ft=[],st=[];function xt(gt,At){if(gt.length===1)ft.push(gt[0]),st.push(gt[0]);else{for(var pt=[],_=0;_<gt.length-1;_++)_===0&&ft.push(gt[0]),_===gt.length-2&&st.push(gt[_+1]),pt[_]=[(1-At)*gt[_][0]+At*gt[_+1][0],(1-At)*gt[_][1]+At*gt[_+1][1]];xt(pt,At)}}return ht.length&&xt(ht,yt),{left:ft,right:st.reverse()}}function k(ht,yt,ft){var st=[[ht[1],ht[2]]];ft=ft||2;var xt=[];yt[0]==="A"?(st.push(yt[6]),st.push(yt[7])):yt[0]==="C"?(st.push([yt[1],yt[2]]),st.push([yt[3],yt[4]]),st.push([yt[5],yt[6]])):yt[0]==="S"||yt[0]==="Q"?(st.push([yt[1],yt[2]]),st.push([yt[3],yt[4]])):st.push([yt[1],yt[2]]);for(var gt=st,At=1/ft,pt=0;pt<ft-1;pt++){var _=At/(1-At*pt),$=Q(gt,_);xt.push($.left),gt=$.right}xt.push(gt);var bt=xt.map(function(it){var Ot=[];return it.length===4&&(Ot.push("C"),Ot=Ot.concat(it[2])),it.length>=3&&(it.length===3&&Ot.push("Q"),Ot=Ot.concat(it[1])),it.length===2&&Ot.push("L"),Ot=Ot.concat(it[it.length-1]),Ot});return bt}var K=function(ht,yt,ft){if(ft===1)return[[].concat(ht)];var st=[];if(yt[0]==="L"||yt[0]==="C"||yt[0]==="Q")st=st.concat(k(ht,yt,ft));else{var xt=[].concat(ht);xt[0]==="M"&&(xt[0]="L");for(var gt=0;gt<=ft-1;gt++)st.push(xt)}return st},nt=function(ht,yt){if(ht.length===1)return ht;var ft=ht.length-1,st=yt.length-1,xt=ft/st,gt=[];if(ht.length===1&&ht[0][0]==="M"){for(var At=0;At<st-ft;At++)ht.push(ht[0]);return ht}for(var At=0;At<st;At++){var pt=Math.floor(xt*At);gt[pt]=(gt[pt]||0)+1}var _=gt.reduce(function($,bt,it){return it===ft?$.concat(ht[ft]):$.concat(K(ht[it],ht[it+1],bt))},[]);return _.unshift(ht[0]),(yt[st]==="Z"||yt[st]==="z")&&_.push("Z"),_},lt=function(ht,yt){if(ht.length!==yt.length)return!1;var ft=!0;return Object(c.each)(ht,function(st,xt){if(st!==yt[xt])return ft=!1,!1}),ft};function ut(ht,yt,ft){var st=null,xt=ft;return yt<xt&&(xt=yt,st="add"),ht<xt&&(xt=ht,st="del"),{type:st,min:xt}}var rt=function(ht,yt){var ft=ht.length,st=yt.length,xt,gt,At=0;if(ft===0||st===0)return null;for(var pt=[],_=0;_<=ft;_++)pt[_]=[],pt[_][0]={min:_};for(var $=0;$<=st;$++)pt[0][$]={min:$};for(var _=1;_<=ft;_++){xt=ht[_-1];for(var $=1;$<=st;$++){gt=yt[$-1],lt(xt,gt)?At=0:At=1;var bt=pt[_-1][$].min+1,it=pt[_][$-1].min+1,Ot=pt[_-1][$-1].min+At;pt[_][$]=ut(bt,it,Ot)}}return pt},ot=function(ht,yt){var ft=rt(ht,yt),st=ht.length,xt=yt.length,gt=[],At=1,pt=1;if(ft[st][xt].min!==st){for(var _=1;_<=st;_++){var $=ft[_][_].min;pt=_;for(var bt=At;bt<=xt;bt++)ft[_][bt].min<$&&($=ft[_][bt].min,pt=bt);At=pt,ft[_][At].type&&gt.push({index:_-1,type:ft[_][At].type})}for(var _=gt.length-1;_>=0;_--)At=gt[_].index,gt[_].type==="add"?ht.splice(At,0,[].concat(ht[At])):ht.splice(At,1)}st=ht.length;var it=xt-st;if(st<xt)for(var _=0;_<it;_++)ht[st-1][0]==="z"||ht[st-1][0]==="Z"?ht.splice(st-2,0,ht[st-2]):ht.push(ht[st-1]),st+=1;return ht};function dt(ht,yt,ft){for(var st=[].concat(ht),xt,gt=1/(ft+1),At=Mt(yt)[0],pt=1;pt<=ft;pt++)gt*=pt,xt=Math.floor(ht.length*gt),xt===0?st.unshift([At[0]*gt+ht[xt][0]*(1-gt),At[1]*gt+ht[xt][1]*(1-gt)]):st.splice(xt,0,[At[0]*gt+ht[xt][0]*(1-gt),At[1]*gt+ht[xt][1]*(1-gt)]);return st}function Mt(ht){var yt=[];switch(ht[0]){case"M":yt.push([ht[1],ht[2]]);break;case"L":yt.push([ht[1],ht[2]]);break;case"A":yt.push([ht[6],ht[7]]);break;case"Q":yt.push([ht[3],ht[4]]),yt.push([ht[1],ht[2]]);break;case"T":yt.push([ht[1],ht[2]]);break;case"C":yt.push([ht[5],ht[6]]),yt.push([ht[1],ht[2]]),yt.push([ht[3],ht[4]]);break;case"S":yt.push([ht[3],ht[4]]),yt.push([ht[1],ht[2]]);break;case"H":yt.push([ht[1],ht[1]]);break;case"V":yt.push([ht[1],ht[1]]);break;default:}return yt}var Nt=function(ht,yt){if(ht.length<=1)return ht;for(var ft,st=0;st<yt.length;st++)if(ht[st][0]!==yt[st][0])switch(ft=Mt(ht[st]),yt[st][0]){case"M":ht[st]=["M"].concat(ft[0]);break;case"L":ht[st]=["L"].concat(ft[0]);break;case"A":ht[st]=[].concat(yt[st]),ht[st][6]=ft[0][0],ht[st][7]=ft[0][1];break;case"Q":if(ft.length<2)if(st>0)ft=dt(ft,ht[st-1],1);else{ht[st]=yt[st];break}ht[st]=["Q"].concat(ft.reduce(function(xt,gt){return xt.concat(gt)},[]));break;case"T":ht[st]=["T"].concat(ft[0]);break;case"C":if(ft.length<3)if(st>0)ft=dt(ft,ht[st-1],2);else{ht[st]=yt[st];break}ht[st]=["C"].concat(ft.reduce(function(xt,gt){return xt.concat(gt)},[]));break;case"S":if(ft.length<2)if(st>0)ft=dt(ft,ht[st-1],1);else{ht[st]=yt[st];break}ht[st]=["S"].concat(ft.reduce(function(xt,gt){return xt.concat(gt)},[]));break;default:ht[st]=yt[st]}return ht}},rxS0:function(Lt,A,i){"use strict";var c=i("Vbks");A.a=function(b){for(var y=0,C=(b=Object(c.b)(Array.from(b))).length,I=[],g,R;y<C;)g=b[y],R&&O(R,g)?++y:(R=D(I=a(I,g)),y=0);return R};function a(b,y){var C,I;if(x(y,b))return[y];for(C=0;C<b.length;++C)if(M(y,b[C])&&x(S(b[C],y),b))return[b[C],y];for(C=0;C<b.length-1;++C)for(I=C+1;I<b.length;++I)if(M(S(b[C],b[I]),y)&&M(S(b[C],y),b[I])&&M(S(b[I],y),b[C])&&x(p(b[C],b[I],y),b))return[b[C],b[I],y];throw new Error}function M(b,y){var C=b.r-y.r,I=y.x-b.x,g=y.y-b.y;return C<0||C*C<I*I+g*g}function O(b,y){var C=b.r-y.r+Math.max(b.r,y.r,1)*1e-9,I=y.x-b.x,g=y.y-b.y;return C>0&&C*C>I*I+g*g}function x(b,y){for(var C=0;C<y.length;++C)if(!O(b,y[C]))return!1;return!0}function D(b){switch(b.length){case 1:return E(b[0]);case 2:return S(b[0],b[1]);case 3:return p(b[0],b[1],b[2])}}function E(b){return{x:b.x,y:b.y,r:b.r}}function S(b,y){var C=b.x,I=b.y,g=b.r,R=y.x,U=y.y,W=y.r,z=R-C,B=U-I,L=W-g,w=Math.sqrt(z*z+B*B);return{x:(C+R+z/w*L)/2,y:(I+U+B/w*L)/2,r:(w+g+W)/2}}function p(b,y,C){var I=b.x,g=b.y,R=b.r,U=y.x,W=y.y,z=y.r,B=C.x,L=C.y,w=C.r,F=I-U,V=I-B,Y=g-W,tt=g-L,q=z-R,H=w-R,Q=I*I+g*g-R*R,k=Q-U*U-W*W+z*z,K=Q-B*B-L*L+w*w,nt=V*Y-F*tt,lt=(Y*K-tt*k)/(nt*2)-I,ut=(tt*q-Y*H)/nt,rt=(V*k-F*K)/(nt*2)-g,ot=(F*H-V*q)/nt,dt=ut*ut+ot*ot-1,Mt=2*(R+lt*ut+rt*ot),Nt=lt*lt+rt*rt-R*R,ht=-(dt?(Mt+Math.sqrt(Mt*Mt-4*dt*Nt))/(2*dt):Nt/Mt);return{x:I+lt+ut*ht,y:g+rt+ot*ht,r:ht}}},"s9g+":function(Lt,A,i){"use strict";i.d(A,"d",function(){return x}),i.d(A,"k",function(){return D}),i.d(A,"c",function(){return E}),i.d(A,"a",function(){return S}),i.d(A,"j",function(){return p}),i.d(A,"i",function(){return b}),i.d(A,"h",function(){return y}),i.d(A,"g",function(){return C}),i.d(A,"f",function(){return I}),i.d(A,"b",function(){return g}),i.d(A,"e",function(){return R});var c=i("CMID"),a=i("8Mtd"),M=i("9g8t"),O=i("Jze/");function x(U){var W=U.chart,z=U.options,B=z.legend,L=z.colorField,w=z.seriesField;return B===!1?W.legend(!1):(L||w)&&W.legend(L||w,B),U}function D(U){var W=U.chart,z=U.options,B=z.tooltip;return B!==void 0&&W.tooltip(B),U}function E(U){var W=U.chart,z=U.options,B=z.interactions;return Object(a.each)(B,function(L){L.enable===!1?W.removeInteraction(L.type):W.interaction(L.type,L.cfg||{})}),U}function S(U){var W=U.chart,z=U.options,B=z.animation;return typeof B=="boolean"?W.animate(B):W.animate(!0),Object(a.each)(W.geometries,function(L){L.animate(B)}),U}function p(U){var W=U.chart,z=U.options,B=z.theme;return B&&W.theme(B),U}function b(U){var W=U.chart,z=U.options,B=z.state;return B&&Object(a.each)(W.geometries,function(L){L.state(B)}),U}function y(U){var W=U.chart,z=U.options,B=z.slider;return W.option("slider",B),U}function C(U){var W=U.chart,z=U.options,B=z.scrollbar;return W.option("scrollbar",B),U}function I(U,W){return function(z){var B=z.chart,L=z.options,w={};return Object(a.each)(U,function(F,V){w[V]=Object(O.s)(F,M.a)}),w=Object(O.c)({},W,L.meta,w),B.scale(w),z}}function g(U){return function(W){var z=W.chart,B=W.options,L=z.getController("annotation");return Object(a.each)(Object(c.__spreadArrays)(B.annotations||[],U||[]),function(w){L.annotation(w)}),W}}function R(U){var W=U.chart,z=U.options,B=z.yAxis,L=z.limitInPlot,w=L;return Object(a.isObject)(B)&&Object(a.isNil)(L)&&(Object.values(Object(O.s)(B,["min","max","minLimit","maxLimit"])).some(function(F){return!Object(a.isNil)(F)})?w=!0:w=!1),W.limitInPlot=w,U}},sNXT:function(Lt,A,i){var c=i("cEHS"),a=i("l0EA");function M(O,x){return a(O||[],x||[],c)}Lt.exports=M},sgcf:function(Lt,A,i){"use strict";i.d(A,"a",function(){return x});var c=i("CMID"),a=i("4517"),M=i("Jze/"),O=i("mT8n");function x(D){var E=D.options,S=E.point,p=E.xField,b=E.yField,y=E.seriesField,C=E.sizeField,I=E.shapeField,g=E.tooltip,R=Object(a.a)(g,[p,b,y,C,I]),U=R.fields,W=R.formatter;return S?Object(O.a)(Object(M.c)({},D,{options:{type:"point",colorField:y,shapeField:I,tooltipFields:U,mapping:Object(c.__assign)({tooltip:W},S)}})):D}},sn46:function(Lt,A){},swOU:function(Lt,A,i){var c=i("sVUS"),a=i("VL8K"),M=i("+Gi7"),O=c?c.isConcatSpreadable:void 0;function x(D){return M(D)||a(D)||!!(O&&D&&D[O])}Lt.exports=x},sxZn:function(Lt,A,i){"use strict";i.d(A,"b",function(){return a.a}),i.d(A,"c",function(){return a.d}),i.d(A,"d",function(){return a.e}),i.d(A,"a",function(){return c});var c={};i.r(c),i.d(c,"leftTranslate",function(){return M}),i.d(c,"leftRotate",function(){return O}),i.d(c,"leftScale",function(){return x}),i.d(c,"transform",function(){return E}),i.d(c,"direction",function(){return S}),i.d(c,"angleTo",function(){return p}),i.d(c,"vertical",function(){return b});var a=i("99LQ");function M(y,C,I){var g=[0,0,0,0,0,0,0,0,0];return a.a.fromTranslation(g,I),a.a.multiply(y,g,C)}function O(y,C,I){var g=[0,0,0,0,0,0,0,0,0];return a.a.fromRotation(g,I),a.a.multiply(y,g,C)}function x(y,C,I){var g=[0,0,0,0,0,0,0,0,0];return a.a.fromScaling(g,I),a.a.multiply(y,g,C)}function D(y,C,I){return a.a.multiply(y,I,C)}function E(y,C){for(var I=y?[].concat(y):[1,0,0,0,1,0,0,0,1],g=0,R=C.length;g<R;g++){var U=C[g];switch(U[0]){case"t":M(I,I,[U[1],U[2]]);break;case"s":x(I,I,[U[1],U[2]]);break;case"r":O(I,I,U[1]);break;case"m":D(I,I,U[1]);break;default:break}}return I}function S(y,C){return y[0]*C[1]-C[0]*y[1]}function p(y,C,I){var g=a.d.angle(y,C),R=S(y,C)>=0;return I?R?Math.PI*2-g:g:R?g:Math.PI*2-g}function b(y,C,I){return I?(y[0]=C[1],y[1]=-1*C[0]):(y[0]=-1*C[1],y[1]=C[0]),y}},syls:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c}),i.d(A,"b",function(){return M});var c=-1,a=1;function M(){return a++}},szLl:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingToSyntax=void 0;var c=i("196R"),a=i("2+60"),M=i("lVYH"),O=i("uh8N"),x=function(){function D(E){this._binding=E}return D.prototype.to=function(E){return this._binding.type=a.BindingTypeEnum.Instance,this._binding.implementationType=E,new M.BindingInWhenOnSyntax(this._binding)},D.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+c.INVALID_TO_SELF_VALUE);var E=this._binding.serviceIdentifier;return this.to(E)},D.prototype.toConstantValue=function(E){return this._binding.type=a.BindingTypeEnum.ConstantValue,this._binding.cache=E,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=a.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},D.prototype.toDynamicValue=function(E){return this._binding.type=a.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=E,this._binding.implementationType=null,new M.BindingInWhenOnSyntax(this._binding)},D.prototype.toConstructor=function(E){return this._binding.type=a.BindingTypeEnum.Constructor,this._binding.implementationType=E,this._binding.scope=a.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},D.prototype.toFactory=function(E){return this._binding.type=a.BindingTypeEnum.Factory,this._binding.factory=E,this._binding.scope=a.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},D.prototype.toFunction=function(E){if(typeof E!="function")throw new Error(c.INVALID_FUNCTION_BINDING);var S=this.toConstantValue(E);return this._binding.type=a.BindingTypeEnum.Function,this._binding.scope=a.BindingScopeEnum.Singleton,S},D.prototype.toAutoFactory=function(E){return this._binding.type=a.BindingTypeEnum.Factory,this._binding.factory=function(S){var p=function(){return S.container.get(E)};return p},this._binding.scope=a.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},D.prototype.toProvider=function(E){return this._binding.type=a.BindingTypeEnum.Provider,this._binding.provider=E,this._binding.scope=a.BindingScopeEnum.Singleton,new O.BindingWhenOnSyntax(this._binding)},D.prototype.toService=function(E){this.toDynamicValue(function(S){return S.container.get(E)})},D}();A.BindingToSyntax=x},t3mm:function(Lt,A,i){var c=i("Z8sD"),a=c();Lt.exports=a},t8pM:function(Lt,A,i){"use strict";var c=Lt.exports;Lt.exports.isNumber=function(a){return typeof a=="number"},Lt.exports.findMin=function(a){if(a.length===0)return Infinity;for(var M=a[0],O=1;O<a.length;O++)M=Math.min(M,a[O]);return M},Lt.exports.findMax=function(a){if(a.length===0)return-Infinity;for(var M=a[0],O=1;O<a.length;O++)M=Math.max(M,a[O]);return M},Lt.exports.findMinMulti=function(a){for(var M=c.findMin(a[0]),O=1;O<a.length;O++)M=Math.min(M,c.findMin(a[O]));return M},Lt.exports.findMaxMulti=function(a){for(var M=c.findMax(a[0]),O=1;O<a.length;O++)M=Math.max(M,c.findMax(a[O]));return M},Lt.exports.inside=function(a,M,O){return a<=O&&O<=M}},t9Yg:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});var c={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}}},t9r2:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("LhfN"),M=function(O){Object(c.__extends)(x,O);function x(){return O!==null&&O.apply(this,arguments)||this}return x.prototype.isGroup=function(){return!0},x.prototype.isEntityGroup=function(){return!1},x.prototype.clone=function(){for(var D=O.prototype.clone.call(this),E=this.getChildren(),S=0;S<E.length;S++){var p=E[S];D.add(p.clone())}return D},x}(a.a);A.a=M},tCm8:function(Lt,A,i){var c=i("7LJS"),a=i("i1Q6"),M=i("WeNx");function O(x){return x&&x.length?c(x,M,a):void 0}Lt.exports=O},tDsh:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("Lkm0"),M=function(x){Object(c.__extends)(D,x);function D(){return x!==null&&x.apply(this,arguments)||this}return D.prototype.isGroup=function(){return!0},D.prototype.isEntityGroup=function(){return!1},D.prototype.clone=function(){for(var E=x.prototype.clone.call(this),S=this.getChildren(),p=0;p<S.length;p++){var b=S[p];E.add(b.clone())}return E},D}(a.a),O=M},tKNA:function(Lt,A,i){"use strict";var c=i("/WN3"),a=i("8Mtd"),M=i("3k0L"),O=i("5Kaj");function x(E,S){return(S-E)*Math.random()+E}var D=function(E){Object(c.b)(S,E);function S(){return E!==null&&E.apply(this,arguments)||this}return S.prototype.process=function(p){var b=a.clone(p),y=a.flatten(b);return this.adjustData(b,y),b},S.prototype.adjustDim=function(p,b,y){var C=this,I=this.groupData(y,p);return a.each(I,function(g,R){return C.adjustGroup(g,p,parseFloat(R),b)})},S.prototype.getAdjustOffset=function(p){var b=p.pre,y=p.next,C=(y-b)*M.c;return x(b+C,y-C)},S.prototype.adjustGroup=function(p,b,y,C){var I=this,g=this.getAdjustRange(b,y,C);return a.each(p,function(R){R[b]=I.getAdjustOffset(g)}),p},S}(O.a);A.a=D},tMVM:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingCount=void 0;var c={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};A.BindingCount=c},tSnd:function(Lt,A,i){"use strict";i.d(A,"j",function(){return a}),i.d(A,"c",function(){return M}),i.d(A,"g",function(){return O}),i.d(A,"b",function(){return x});var c=i("8Mtd");i.d(A,"e",function(){return c.isNil}),i.d(A,"d",function(){return c.isFunction}),i.d(A,"h",function(){return c.isString}),i.d(A,"f",function(){return c.isObject}),i.d(A,"i",function(){return c.mix}),i.d(A,"a",function(){return c.each}),i.d(A,"k",function(){return c.upperFirst});function a(D,E){var S=D.indexOf(E);S!==-1&&D.splice(S,1)}var M=typeof window!="undefined"&&typeof window.document!="undefined";function O(D,E){if(D.isCanvas())return!0;for(var S=E.getParent(),p=!1;S;){if(S===D){p=!0;break}S=S.getParent()}return p}function x(D){return D.cfg.visible&&D.cfg.capture}},tYXh:function(Lt,A,i){"use strict";i.d(A,"a",function(){return R});var c=i("CMID"),a=i("GgvZ"),M=i("8Mtd"),O=i("s9g+"),x=i("Jze/"),D=i("Yz/u");function E(U){var W=U.data,z=U.xField,B=U.measureField,L=U.rangeField,w=U.targetField,F=U.layout,V=[],Y=[];W.forEach(function(H,Q){var k;H[L].sort(function(K,nt){return K-nt}),H[L].forEach(function(K,nt){var lt,ut=nt===0?K:H[L][nt]-H[L][nt-1];V.push((lt={rKey:L+"_"+nt},lt[z]=z?H[z]:String(Q),lt[L]=ut,lt))}),H[B].forEach(function(K,nt){var lt;V.push((lt={mKey:H[B].length>1?B+"_"+nt:""+B},lt[z]=z?H[z]:String(Q),lt[B]=K,lt))}),V.push((k={tKey:""+w},k[z]=z?H[z]:String(Q),k[w]=H[w],k)),Y.push(H[L],H[B],H[w])});var tt=Math.min.apply(Math,Y.flat(Infinity)),q=Math.max.apply(Math,Y.flat(Infinity));return tt=tt>0?0:tt,F==="vertical"&&V.reverse(),{min:tt,max:q,ds:V}}function S(U){var W=U.chart,z=U.options,B=z.bulletStyle,L=z.targetField,w=z.rangeField,F=z.measureField,V=z.xField,Y=z.color,tt=z.layout,q=z.size,H=z.label,Q=E(z),k=Q.min,K=Q.max,nt=Q.ds;W.data(nt);var lt=Object(x.c)({},U,{options:{xField:V,yField:w,seriesField:"rKey",isStack:!0,label:Object(M.get)(H,"range"),interval:{color:Object(M.get)(Y,"range"),style:Object(M.get)(B,"range"),size:Object(M.get)(q,"range")}}});Object(D.c)(lt),W.geometries[0].tooltip(!1);var ut=Object(x.c)({},U,{options:{xField:V,yField:F,seriesField:"mKey",isStack:!0,label:Object(M.get)(H,"measure"),interval:{color:Object(M.get)(Y,"measure"),style:Object(M.get)(B,"measure"),size:Object(M.get)(q,"measure")}}});Object(D.c)(ut);var rt=Object(x.c)({},U,{options:{xField:V,yField:L,seriesField:"tKey",label:Object(M.get)(H,"target"),point:{color:Object(M.get)(Y,"target"),style:Object(M.get)(B,"target"),size:Object(M.isFunction)(Object(M.get)(q,"target"))?function(ot){return Object(M.get)(q,"target")(ot)/2}:Object(M.get)(q,"target")/2,shape:tt==="horizontal"?"line":"hyphen"}}});return Object(D.e)(rt),tt==="horizontal"&&W.coordinate().transpose(),Object(c.__assign)(Object(c.__assign)({},U),{ext:{data:{min:k,max:K}}})}function p(U){var W,z,B=U.options,L=U.ext,w=B.xAxis,F=B.yAxis,V=B.targetField,Y=B.rangeField,tt=B.measureField,q=B.xField,H=L.data;return Object(x.f)(Object(O.f)((W={},W[q]=w,W[tt]=F,W),(z={},z[tt]={min:H==null?void 0:H.min,max:H==null?void 0:H.max,sync:!0},z[V]={sync:""+tt},z[Y]={sync:""+tt},z)))(U)}function b(U){var W=U.chart,z=U.options,B=z.xAxis,L=z.yAxis,w=z.xField,F=z.measureField,V=z.rangeField,Y=z.targetField;return W.axis(""+V,!1),W.axis(""+Y,!1),B===!1?W.axis(""+w,!1):W.axis(""+w,B),L===!1?W.axis(""+F,!1):W.axis(""+F,L),U}function y(U){var W=U.chart,z=U.options,B=z.legend;return W.removeInteraction("legend-filter"),W.legend(B),W.legend("rKey",!1),W.legend("mKey",!1),W.legend("tKey",!1),U}function C(U){var W=U.chart,z=U.options,B=z.label,L=z.measureField,w=z.targetField,F=z.rangeField,V=W.geometries,Y=V[0],tt=V[1],q=V[2];return Object(M.get)(B,"range")?Y.label(""+F,Object(c.__assign)({layout:[{type:"limit-in-plot"}]},Object(x.y)(B.range))):Y.label(!1),Object(M.get)(B,"measure")?tt.label(""+L,Object(c.__assign)({layout:[{type:"limit-in-plot"}]},Object(x.y)(B.measure))):tt.label(!1),Object(M.get)(B,"target")?q.label(""+w,Object(c.__assign)({layout:[{type:"limit-in-plot"}]},Object(x.y)(B.target))):q.label(!1),U}function I(U){Object(x.f)(S,p,b,y,O.j,C,O.k,O.c,O.a)(U)}var g=Object(x.c)({},a.b.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),R=function(U){Object(c.__extends)(W,U);function W(){var z=U!==null&&U.apply(this,arguments)||this;return z.type="bullet",z}return W.getDefaultOptions=function(){return g},W.prototype.changeData=function(z){this.updateOption({data:z});var B=E(this.options),L=B.min,w=B.max,F=B.ds;p({options:this.options,ext:{data:{min:L,max:w}},chart:this.chart}),this.chart.changeData(F)},W.prototype.getSchemaAdaptor=function(){return I},W.prototype.getDefaultOptions=function(){return W.getDefaultOptions()},W}(a.b)},tbeB:function(Lt,A){var i=Math.ceil,c=Math.max;function a(M,O,x,D){for(var E=-1,S=c(i((O-M)/(x||1)),0),p=Array(S);S--;)p[D?S:++E]=M,M+=x;return p}Lt.exports=a},tc10:function(Lt,A,i){"use strict";i.d(A,"a",function(){return x});var c=i("CMID"),a=i("GgvZ"),M=i("RxI3"),O=i("neUO"),x=function(D){Object(c.__extends)(E,D);function E(){var S=D!==null&&D.apply(this,arguments)||this;return S.type="funnel",S}return E.getDefaultOptions=function(){return O.a},E.prototype.getDefaultOptions=function(){return E.getDefaultOptions()},E.prototype.getSchemaAdaptor=function(){return M.a},E.CONVERSATION_FIELD=O.b,E.PERCENT_FIELD=O.d,E.TOTAL_PERCENT_FIELD=O.e,E}(a.b)},tebh:function(Lt,A){Lt.exports="0.8.5"},tjpL:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.inject=A.LazyServiceIdentifer=void 0;var c=i("196R"),a=i("9L8m"),M=i("rMkn"),O=i("ZLnY"),x=function(){function E(S){this._cb=S}return E.prototype.unwrap=function(){return this._cb()},E}();A.LazyServiceIdentifer=x;function D(E){return function(S,p,b){if(E===void 0)throw new Error(c.UNDEFINED_INJECT_ANNOTATION(S.name));var y=new M.Metadata(a.INJECT_TAG,E);typeof b=="number"?O.tagParameter(S,p,b,y):O.tagProperty(S,p,y)}}A.inject=D},to4S:function(Lt,A,i){"use strict";i.d(A,"a",function(){return rt});var c=i("/wRx"),a=i.n(c),M=i("qaCK"),O=i.n(M),x=i("RHEd"),D=i.n(x),E=i("16OP"),S=i.n(E),p=i("7Nom"),b=i.n(p),y=i("4OuL"),C=i.n(y),I=i("r1m7"),g=i.n(I),R=i("YcyD"),U=i.n(R),W=i("XN3X"),z=i("RtY/"),B=i("aStn"),L=i("K4bE"),w,F,V,Y,tt,q,H,Q,k,K,nt,lt,ut,rt=(w=Object(R.injectable)(),F=Object(R.inject)(W.a.Systems),V=Object(R.named)(W.a.FrameGraphSystem),Y=Object(R.inject)(W.a.RenderPassFactory),tt=Object(R.inject)(W.a.ConfigService),q=Object(R.inject)(W.a.ResourcePool),w(H=(Q=(ut=function(){function ot(){S()(this,ot),D()(this,"frameGraphSystem",k,this),D()(this,"renderPassFactory",K,this),D()(this,"configService",nt,this),D()(this,"resourcePool",lt,this)}return b()(ot,[{key:"execute",value:function(){var dt=O()(a.a.mark(function Nt(ht){var yt,ft,st,xt,gt,At,pt,_,$;return a.a.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:yt=this.renderPassFactory(L.a.IDENTIFIER),ft=yt.setup,st=yt.execute,xt=this.frameGraphSystem.addPass(L.a.IDENTIFIER,ft,st),gt=this.renderPassFactory(z.a.IDENTIFIER),At=gt.setup,pt=gt.execute,_=gt.tearDown,$=this.frameGraphSystem.addPass(z.a.IDENTIFIER,At,pt,_),this.frameGraphSystem.present($.data.output);case 5:case"end":return it.stop()}},Nt,this)}));function Mt(Nt){return dt.apply(this,arguments)}return Mt}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(Mt,Nt){var ht=this.renderPassFactory(B.a.IDENTIFIER);return ht.pick(Mt,Nt)}}]),ot}(),ut),k=C()(Q.prototype,"frameGraphSystem",[F,V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=C()(Q.prototype,"renderPassFactory",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=C()(Q.prototype,"configService",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=C()(Q.prototype,"resourcePool",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q))||H)},tqfL:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Plan=void 0;var c=function(){function a(M,O){this.parentContext=M,this.rootRequest=O}return a}();A.Plan=c},tqoU:function(Lt,A){function i(c,a,M){for(var O=M-1,x=c.length;++O<x;)if(c[O]===a)return O;return-1}Lt.exports=i},tuqv:function(Lt,A,i){"use strict";A.a=function(c){c.x0=Math.round(c.x0),c.y0=Math.round(c.y0),c.x1=Math.round(c.x1),c.y1=Math.round(c.y1)}},u3Fj:function(Lt,A,i){var c=i("mdrB"),a=i("Wzpx"),M=c(a);Lt.exports=M},u6QS:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.named=void 0;var c=i("9L8m"),a=i("rMkn"),M=i("ZLnY");function O(x){return function(D,E,S){var p=new a.Metadata(c.NAMED_TAG,x);typeof S=="number"?M.tagParameter(D,E,S,p):M.tagProperty(D,E,p)}}A.named=O},uSfk:function(Lt,A){function i(c,a,M){for(var O=-1,x=c==null?0:c.length;++O<x;)if(M(a,c[O]))return!0;return!1}Lt.exports=i},uh8N:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingWhenOnSyntax=void 0;var c=i("zN6Y"),a=i("ITfU"),M=function(){function O(x){this._binding=x,this._bindingWhenSyntax=new a.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new c.BindingOnSyntax(this._binding)}return O.prototype.when=function(x){return this._bindingWhenSyntax.when(x)},O.prototype.whenTargetNamed=function(x){return this._bindingWhenSyntax.whenTargetNamed(x)},O.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},O.prototype.whenTargetTagged=function(x,D){return this._bindingWhenSyntax.whenTargetTagged(x,D)},O.prototype.whenInjectedInto=function(x){return this._bindingWhenSyntax.whenInjectedInto(x)},O.prototype.whenParentNamed=function(x){return this._bindingWhenSyntax.whenParentNamed(x)},O.prototype.whenParentTagged=function(x,D){return this._bindingWhenSyntax.whenParentTagged(x,D)},O.prototype.whenAnyAncestorIs=function(x){return this._bindingWhenSyntax.whenAnyAncestorIs(x)},O.prototype.whenNoAncestorIs=function(x){return this._bindingWhenSyntax.whenNoAncestorIs(x)},O.prototype.whenAnyAncestorNamed=function(x){return this._bindingWhenSyntax.whenAnyAncestorNamed(x)},O.prototype.whenAnyAncestorTagged=function(x,D){return this._bindingWhenSyntax.whenAnyAncestorTagged(x,D)},O.prototype.whenNoAncestorNamed=function(x){return this._bindingWhenSyntax.whenNoAncestorNamed(x)},O.prototype.whenNoAncestorTagged=function(x,D){return this._bindingWhenSyntax.whenNoAncestorTagged(x,D)},O.prototype.whenAnyAncestorMatches=function(x){return this._bindingWhenSyntax.whenAnyAncestorMatches(x)},O.prototype.whenNoAncestorMatches=function(x){return this._bindingWhenSyntax.whenNoAncestorMatches(x)},O.prototype.onActivation=function(x){return this._bindingOnSyntax.onActivation(x)},O}();A.BindingWhenOnSyntax=M},uvO5:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});function c(a){return a&&a.slice().reverse()}},"v/6M":function(Lt,A,i){var c=i("9drk"),a=i("CPGf");function M(O,x){return O!=null&&a(O,x,c)}Lt.exports=M},v5ut:function(Lt,A,i){var c=i("XSdR"),a=i("hppO");Lt.exports={run:M,cleanup:E};function M(S){var p=a.addDummyNode(S,"root",{},"_root"),b=x(S),y=c.max(c.values(b))-1,C=2*y+1;S.graph().nestingRoot=p,c.forEach(S.edges(),function(g){S.edge(g).minlen*=C});var I=D(S)+1;c.forEach(S.children(),function(g){O(S,p,C,I,y,b,g)}),S.graph().nodeRankFactor=C}function O(S,p,b,y,C,I,g){var R=S.children(g);if(!R.length){g!==p&&S.setEdge(p,g,{weight:0,minlen:b});return}var U=a.addBorderNode(S,"_bt"),W=a.addBorderNode(S,"_bb"),z=S.node(g);S.setParent(U,g),z.borderTop=U,S.setParent(W,g),z.borderBottom=W,c.forEach(R,function(B){O(S,p,b,y,C,I,B);var L=S.node(B),w=L.borderTop?L.borderTop:B,F=L.borderBottom?L.borderBottom:B,V=L.borderTop?y:2*y,Y=w!==F?1:C-I[g]+1;S.setEdge(U,w,{weight:V,minlen:Y,nestingEdge:!0}),S.setEdge(F,W,{weight:V,minlen:Y,nestingEdge:!0})}),S.parent(g)||S.setEdge(p,U,{weight:0,minlen:C+I[g]})}function x(S){var p={};function b(y,C){var I=S.children(y);I&&I.length&&c.forEach(I,function(g){b(g,C+1)}),p[y]=C}return c.forEach(S.children(),function(y){b(y,1)}),p}function D(S){return c.reduce(S.edges(),function(p,b){return p+S.edge(b).weight},0)}function E(S){var p=S.graph();S.removeNode(p.nestingRoot),delete p.nestingRoot,c.forEach(S.edges(),function(b){var y=S.edge(b);y.nestingEdge&&S.removeEdge(b)})}},vA80:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=M(i("QArz")),a=i("Eqze");function M(D){return D&&D.__esModule?D:{default:D}}var O=function(E,S,p){typeof S!="number"&&(S=1e-6),typeof p!="number"&&(p=.85);for(var b=1,y=0,C=1e3,I=E.nodes,g=I===void 0?[]:I,R=E.edges,U=R===void 0?[]:R,W=g.length,z,B={},L={},w=0;w<W;++w){var F=g[w],V=F.id;B[V]=1/W,L[V]=1/W}for(var Y=(0,c.default)(E);C>0&&b>S;){y=0;for(var w=0;w<W;++w){var F=g[w],V=F.id;if(z=0,Y[F.id].inDegree===0)B[V]=0;else{for(var tt=(0,a.getNeighbors)(V,U,"source"),q=0;q<tt.length;++q){var H=tt[q],Q=Y[H].outDegree;Q>0&&(z+=L[H]/Q)}B[V]=p*z,y+=B[V]}}y=(1-y)/W,b=0;for(var w=0;w<W;++w){var F=g[w],V=F.id;z=B[V]+y,b+=Math.abs(z-L[V]),L[V]=z}C-=1}return L},x=O;A.default=x},vAzl:function(Lt,A,i){"use strict";var c=i("/WN3"),a=i("8Mtd"),M=i("3k0L"),O=i("5Kaj"),x=function(D){Object(c.b)(E,D);function E(S){var p=D.call(this,S)||this;p.cacheMap={},p.adjustDataArray=[],p.mergeData=[];var b=S.marginRatio,y=b===void 0?M.d:b,C=S.dodgeRatio,I=C===void 0?M.b:C,g=S.dodgeBy,R=S.intervalPadding,U=S.dodgePadding,W=S.xDimensionLength,z=S.groupNum,B=S.defaultSize,L=S.maxColumnWidth,w=S.minColumnWidth,F=S.columnWidthRatio;return p.marginRatio=y,p.dodgeRatio=I,p.dodgeBy=g,p.intervalPadding=R,p.dodgePadding=U,p.xDimensionLegenth=W,p.groupNum=z,p.defaultSize=B,p.maxColumnWidth=L,p.minColumnWidth=w,p.columnWidthRatio=F,p}return E.prototype.process=function(S){var p=a.clone(S),b=a.flatten(p),y=this.dodgeBy,C=y?a.group(b,y):p;return this.cacheMap={},this.adjustDataArray=C,this.mergeData=b,this.adjustData(C,b),this.adjustDataArray=[],this.mergeData=[],p},E.prototype.adjustDim=function(S,p,b,y){var C=this,I=this.getDistribution(S),g=this.groupData(b,S);return a.each(g,function(R,U){var W;p.length===1?W={pre:p[0]-1,next:p[0]+1}:W=C.getAdjustRange(S,parseFloat(U),p),a.each(R,function(z){var B=z[S],L=I[B],w=L.indexOf(y);z[S]=C.getDodgeOffset(W,w,L.length)})}),[]},E.prototype.getDodgeOffset=function(S,p,b){var y=this,C=y.dodgeRatio,I=y.marginRatio,g=y.intervalPadding,R=y.dodgePadding,U=S.pre,W=S.next,z=W-U,B;if(!a.isNil(g)&&a.isNil(R)&&g>=0){var L=this.getIntervalOnlyOffset(b,p);B=U+L}else if(!a.isNil(R)&&a.isNil(g)&&R>=0){var L=this.getDodgeOnlyOffset(b,p);B=U+L}else if(!a.isNil(g)&&!a.isNil(R)&&g>=0&&R>=0){var L=this.getIntervalAndDodgeOffset(b,p);B=U+L}else{var w=z*C/b,F=I*w,L=1/2*(z-b*w-(b-1)*F)+((p+1)*w+p*F)-1/2*w-1/2*z;B=(U+W)/2+L}return B},E.prototype.getIntervalOnlyOffset=function(S,p){var b=this,y=b.defaultSize,C=b.intervalPadding,I=b.xDimensionLegenth,g=b.groupNum,R=b.dodgeRatio,U=b.maxColumnWidth,W=b.minColumnWidth,z=b.columnWidthRatio,B=C/I,L=(1-(g-1)*B)/g*R/(S-1),w=((1-B*(g-1))/g-L*(S-1))/S;if(w=a.isNil(z)?w:1/g/S*z,!a.isNil(U)){var F=U/I;w=Math.min(w,F)}if(!a.isNil(W)){var V=W/I;w=Math.max(w,V)}w=y?y/I:w,L=((1-(g-1)*B)/g-S*w)/(S-1);var Y=((1/2+p)*w+p*L+1/2*B)*g-B/2;return Y},E.prototype.getDodgeOnlyOffset=function(S,p){var b=this,y=b.defaultSize,C=b.dodgePadding,I=b.xDimensionLegenth,g=b.groupNum,R=b.marginRatio,U=b.maxColumnWidth,W=b.minColumnWidth,z=b.columnWidthRatio,B=C/I,L=1*R/(g-1),w=((1-L*(g-1))/g-B*(S-1))/S;if(w=z?1/g/S*z:w,!a.isNil(U)){var F=U/I;w=Math.min(w,F)}if(!a.isNil(W)){var V=W/I;w=Math.max(w,V)}w=y?y/I:w,L=(1-(w*S+B*(S-1))*g)/(g-1);var Y=((1/2+p)*w+p*B+1/2*L)*g-L/2;return Y},E.prototype.getIntervalAndDodgeOffset=function(S,p){var b=this,y=b.intervalPadding,C=b.dodgePadding,I=b.xDimensionLegenth,g=b.groupNum,R=y/I,U=C/I,W=((1-R*(g-1))/g-U*(S-1))/S,z=((1/2+p)*W+p*U+1/2*R)*g-R/2;return z},E.prototype.getDistribution=function(S){var p=this.adjustDataArray,b=this.cacheMap,y=b[S];return y||(y={},a.each(p,function(C,I){var g=a.valuesOfKey(C,S);g.length||g.push(0),a.each(g,function(R){y[R]||(y[R]=[]),y[R].push(I)})}),b[S]=y),y},E}(O.a);A.a=x},vQYD:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("4Qiu"),M=i("RxlK"),O=function(D){Object(c.__extends)(E,D);function E(S){return D.call(this,S)||this}return E.prototype._isInBBox=function(S,p){var b=this.getBBox();return b.minX<=S&&b.maxX>=S&&b.minY<=p&&b.maxY>=p},E.prototype.afterAttrsChange=function(S){D.prototype.afterAttrsChange.call(this,S),this.clearCacheBBox()},E.prototype.getBBox=function(){var S=this.cfg.bbox;return S||(S=this.calculateBBox(),this.set("bbox",S)),S},E.prototype.getCanvasBBox=function(){var S=this.cfg.canvasBBox;return S||(S=this.calculateCanvasBBox(),this.set("canvasBBox",S)),S},E.prototype.applyMatrix=function(S){D.prototype.applyMatrix.call(this,S),this.set("canvasBBox",null)},E.prototype.calculateCanvasBBox=function(){var S=this.getBBox(),p=this.getTotalMatrix(),b=S.minX,y=S.minY,C=S.maxX,I=S.maxY;if(p){var g=Object(M.c)(p,[S.minX,S.minY]),R=Object(M.c)(p,[S.maxX,S.minY]),U=Object(M.c)(p,[S.minX,S.maxY]),W=Object(M.c)(p,[S.maxX,S.maxY]);b=Math.min(g[0],R[0],U[0],W[0]),C=Math.max(g[0],R[0],U[0],W[0]),y=Math.min(g[1],R[1],U[1],W[1]),I=Math.max(g[1],R[1],U[1],W[1])}var z=this.attrs;if(z.shadowColor){var B=z.shadowBlur,L=B===void 0?0:B,w=z.shadowOffsetX,F=w===void 0?0:w,V=z.shadowOffsetY,Y=V===void 0?0:V,tt=b-L+F,q=C+L+F,H=y-L+Y,Q=I+L+Y;b=Math.min(b,tt),C=Math.max(C,q),y=Math.min(y,H),I=Math.max(I,Q)}return{x:b,y,minX:b,minY:y,maxX:C,maxY:I,width:C-b,height:I-y}},E.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},E.prototype.isClipShape=function(){return this.get("isClipShape")},E.prototype.isInShape=function(S,p){return!1},E.prototype.isOnlyHitBox=function(){return!1},E.prototype.isHit=function(S,p){var b=this.get("startArrowShape"),y=this.get("endArrowShape"),C=[S,p,1];C=this.invertFromMatrix(C);var I=C[0],g=C[1],R=this._isInBBox(I,g);return this.isOnlyHitBox()?R:!!(R&&!this.isClipped(I,g)&&(this.isInShape(I,g)||b&&b.isHit(I,g)||y&&y.isHit(I,g)))},E}(a.a),x=O},"vW+r":function(Lt,A){},vdmW:function(Lt,A){},viQC:function(Lt,A,i){"use strict";var c=i("8Mtd"),a=/rgba?\(([\s.,0-9]+)\)/,M=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,D=function(W){return/^[r,R,L,l]{1}[\s]*\(/.test(W)},E=function(){var W=document.createElement("i");return W.title="Web Colour Picker",W.style.display="none",document.body.appendChild(W),W},S=function(W,z,B,L){return W[L]+(z[L]-W[L])*B};function p(W){return"#"+y(W[0])+y(W[1])+y(W[2])}var b=function(W){return[parseInt(W.substr(1,2),16),parseInt(W.substr(3,2),16),parseInt(W.substr(5,2),16)]},y=function(W){var z=Math.round(W).toString(16);return z.length===1?"0"+z:z},C=function(W,z){var B=isNaN(Number(z))||z<0?0:z>1?1:Number(z),L=W.length-1,w=Math.floor(L*B),F=L*B-w,V=W[w],Y=w===L?V:W[w+1];return p([S(V,Y,F,0),S(V,Y,F,1),S(V,Y,F,2)])},I,g=function(W){if(W[0]==="#"&&W.length===7)return W;I||(I=E()),I.style.color=W;var z=document.defaultView.getComputedStyle(I,"").getPropertyValue("color"),B=a.exec(z),L=B[1].split(/\s*,\s*/).map(function(w){return Number(w)});return z=p(L),z},R=function(W){var z=Object(c.isString)(W)?W.split("-"):W,B=Object(c.map)(z,function(L){return b(L.indexOf("#")===-1?g(L):L)});return function(L){return C(B,L)}},U=function(W){if(D(W)){var z,B=void 0;if(W[0]==="l"){var L=M.exec(W),w=+L[1]+90;B=L[2],z="linear-gradient("+w+"deg, "}else if(W[0]==="r"){z="radial-gradient(";var L=O.exec(W);B=L[4]}var F=B.match(x);return Object(c.each)(F,function(V,Y){var tt=V.split(":");z+=tt[1]+" "+tt[0]*100+"%",Y!==F.length-1&&(z+=", ")}),z+=")",z}return W};A.a={rgb2arr:b,gradient:R,toRGB:Object(c.memoize)(g),toCSSGradient:U}},vpv6:function(Lt,A,i){var c=i("gXEi").default,a=i("cW+D");function M(O,x){return x&&(c(x)==="object"||typeof x=="function")?x:a(O)}Lt.exports=M,Lt.exports.default=Lt.exports,Lt.exports.__esModule=!0},vqXp:function(Lt,A){function i(c){return function(){return c}}Lt.exports=i},wMWh:function(Lt,A){Lt.exports=i;function i(c,a,M){var O=a[0],x=a[1];return c[0]=M[0]*O+M[3]*x+M[6],c[1]=M[1]*O+M[4]*x+M[7],c}},wOqf:function(Lt,A,i){"use strict";var c=this&&this.__spreadArray||function(R,U){for(var W=0,z=U.length,B=R.length;W<z;W++,B++)R[B]=U[W];return R};Object.defineProperty(A,"__esModule",{value:!0}),A.getFunctionName=A.getBaseClassDependencyCount=A.getDependencies=void 0;var a=i("tjpL"),M=i("196R"),O=i("2+60"),x=i("9L8m"),D=i("Rph/");Object.defineProperty(A,"getFunctionName",{enumerable:!0,get:function(){return D.getFunctionName}});var E=i("Y26w");function S(R,U){var W=D.getFunctionName(U),z=p(R,W,U,!1);return z}A.getDependencies=S;function p(R,U,W,z){var B=R.getConstructorMetadata(W),L=B.compilerGeneratedMetadata;if(L===void 0){var w=M.MISSING_INJECTABLE_ANNOTATION+" "+U+".";throw new Error(w)}var F=B.userGeneratedMetadata,V=Object.keys(F),Y=W.length===0&&V.length>0,tt=V.length>W.length,q=Y||tt?V.length:W.length,H=y(z,U,L,F,q),Q=C(R,W),k=c(c([],H),Q);return k}function b(R,U,W,z,B){var L=B[R.toString()]||[],w=g(L),F=w.unmanaged!==!0,V=z[R],Y=w.inject||w.multiInject;if(V=Y||V,V instanceof a.LazyServiceIdentifer&&(V=V.unwrap()),F){var tt=V===Object,q=V===Function,H=V===void 0,Q=tt||q||H;if(!U&&Q){var k=M.MISSING_INJECT_ANNOTATION+" argument "+R+" in class "+W+".";throw new Error(k)}var K=new E.Target(O.TargetTypeEnum.ConstructorArgument,w.targetName,V);return K.metadata=L,K}return null}function y(R,U,W,z,B){for(var L=[],w=0;w<B;w++){var F=w,V=b(F,R,U,W,z);V!==null&&L.push(V)}return L}function C(R,U){for(var W=R.getPropertiesMetadata(U),z=[],B=Object.keys(W),L=0,w=B;L<w.length;L++){var F=w[L],V=W[F],Y=g(W[F]),tt=Y.targetName||F,q=Y.inject||Y.multiInject,H=new E.Target(O.TargetTypeEnum.ClassProperty,tt,q);H.metadata=V,z.push(H)}var Q=Object.getPrototypeOf(U.prototype).constructor;if(Q!==Object){var k=C(R,Q);z=c(c([],z),k)}return z}function I(R,U){var W=Object.getPrototypeOf(U.prototype).constructor;if(W!==Object){var z=D.getFunctionName(W),B=p(R,z,W,!0),L=B.map(function(V){return V.metadata.filter(function(Y){return Y.key===x.UNMANAGED_TAG})}),w=[].concat.apply([],L).length,F=B.length-w;return F>0?F:I(R,W)}else return 0}A.getBaseClassDependencyCount=I;function g(R){var U={};return R.forEach(function(W){U[W.key.toString()]=W.value}),{inject:U[x.INJECT_TAG],multiInject:U[x.MULTI_INJECT_TAG],targetName:U[x.NAME_TAG],unmanaged:U[x.UNMANAGED_TAG]}}},wUId:function(Lt,A,i){"use strict";i.d(A,"a",function(){return c});var c=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},"weX+":function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var c;(function(k){k.TextureCompressionBC="texture-compression-bc"})(c=A.ExtensionName||(A.ExtensionName={}));var a;(function(k){k.ClampToEdge="clamp-to-edge",k.Repeat="repeat",k.MirrorRepeat="mirror-repeat"})(a=A.AddressMode||(A.AddressMode={}));var M;(function(k){k.UniformBuffer="uniform-buffer",k.StorageBuffer="storage-buffer",k.ReadonlyStorageBuffer="readonly-storage-buffer",k.Sampler="sampler",k.ComparisonSampler="comparison-sampler",k.SampledTexture="sampled-texture",k.ReadonlyStorageTexture="readonly-storage-texture",k.WriteonlyStorageTexture="writeonly-storage-texture"})(M=A.BindingType||(A.BindingType={}));var O;(function(k){k.Zero="zero",k.One="one",k.SrcColor="src-color",k.OneMinusSrcColor="one-minus-src-color",k.SrcAlpha="src-alpha",k.OneMinusSrcAlpha="one-minus-src-alpha",k.DstColor="dst-color",k.OneMinusDstColor="one-minus-dst-color",k.DstAlpha="dst-alpha",k.OneMinusDstAlpha="one-minus-dst-alpha",k.SrcAlphaSaturated="src-alpha-saturated",k.BlendColor="blend-color",k.OneMinusBlendColor="one-minus-blend-color"})(O=A.BlendFactor||(A.BlendFactor={}));var x;(function(k){k.Add="add",k.Subtract="subtract",k.ReverseSubtract="reverse-subtract",k.Min="min",k.Max="max"})(x=A.BlendOperation||(A.BlendOperation={}));var D;(function(k){k.Never="never",k.Less="less",k.Equal="equal",k.LessEqual="less-equal",k.Greater="greater",k.NotEqual="not-equal",k.GreaterEqual="greater-equal",k.Always="always"})(D=A.CompareFunction||(A.CompareFunction={}));var E;(function(k){k.None="none",k.Front="front",k.Back="back"})(E=A.CullMode||(A.CullMode={}));var S;(function(k){k.Nearest="nearest",k.Linear="linear"})(S=A.FilterMode||(A.FilterMode={}));var p;(function(k){k.CCW="ccw",k.CW="cw"})(p=A.FrontFace||(A.FrontFace={}));var b;(function(k){k.Uint16="uint16",k.Uint32="uint32"})(b=A.IndexFormat||(A.IndexFormat={}));var y;(function(k){k.Vertex="vertex",k.Instance="instance"})(y=A.InputStepMode||(A.InputStepMode={}));var C;(function(k){k.Load="load"})(C=A.LoadOp||(A.LoadOp={}));var I;(function(k){k.PointList="point-list",k.LineList="line-list",k.LineStrip="line-strip",k.TriangleList="triangle-list",k.TriangleStrip="triangle-strip"})(I=A.PrimitiveTopology||(A.PrimitiveTopology={}));var g;(function(k){k.Keep="keep",k.Zero="zero",k.Replace="replace",k.Invert="invert",k.IncrementClamp="increment-clamp",k.DecrementClamp="decrement-clamp",k.IncrementWrap="increment-wrap",k.DecrementWrap="decrement-wrap"})(g=A.StencilOperation||(A.StencilOperation={}));var R;(function(k){k.Store="store",k.Clear="clear"})(R=A.StoreOp||(A.StoreOp={}));var U;(function(k){k.E1d="1d",k.E2d="2d",k.E3d="3d"})(U=A.TextureDimension||(A.TextureDimension={}));var W;(function(k){k.R8Unorm="r8unorm",k.R8Snorm="r8snorm",k.R8Uint="r8uint",k.R8Sint="r8sint",k.R16Uint="r16uint",k.R16Sint="r16sint",k.R16Float="r16float",k.RG8Unorm="rg8unorm",k.RG8Snorm="rg8snorm",k.RG8Uint="rg8uint",k.RG8Sint="rg8sint",k.R32Uint="r32uint",k.R32Sint="r32sint",k.R32Float="r32float",k.RG16Uint="rg16uint",k.RG16Sint="rg16sint",k.RG16Float="rg16float",k.RGBA8Unorm="rgba8unorm",k.RGBA8UnormSRGB="rgba8unorm-srgb",k.RGBA8Snorm="rgba8snorm",k.RGBA8Uint="rgba8uint",k.RGBA8Sint="rgba8sint",k.BGRA8Unorm="bgra8unorm",k.BGRA8UnormSRGB="bgra8unorm-srgb",k.RGB10A2Unorm="rgb10a2unorm",k.RG11B10Float="rg11b10float",k.RG32Uint="rg32uint",k.RG32Sint="rg32sint",k.RG32Float="rg32float",k.RGBA16Uint="rgba16uint",k.RGBA16Sint="rgba16sint",k.RGBA16Float="rgba16float",k.RGBA32Uint="rgba32uint",k.RGBA32Sint="rgba32sint",k.RGBA32Float="rgba32float",k.Depth32Float="depth32float",k.Depth24Plus="depth24plus",k.Depth24PlusStencil8="depth24plus-stencil8"})(W=A.TextureFormat||(A.TextureFormat={}));var z;(function(k){k.Float="float",k.Sint="sint",k.Uint="uint"})(z=A.TextureComponentType||(A.TextureComponentType={}));var B;(function(k){k.E1d="1d",k.E2d="2d",k.E2dArray="2d-array",k.Cube="cube",k.CubeArray="cube-array",k.E3d="3d"})(B=A.TextureViewDimension||(A.TextureViewDimension={}));var L;(function(k){k.Uchar2="uchar2",k.Uchar4="uchar4",k.Char2="char2",k.Char4="char4",k.Uchar2Norm="uchar2norm",k.Uchar4Norm="uchar4norm",k.Char2Norm="char2norm",k.Char4Norm="char4norm",k.Ushort2="ushort2",k.Ushort4="ushort4",k.Short2="short2",k.Short4="short4",k.Ushort2Norm="ushort2norm",k.Ushort4Norm="ushort4norm",k.Short2Norm="short2norm",k.Short4Norm="short4norm",k.Half2="half2",k.Half4="half4",k.Float="float",k.Float2="float2",k.Float3="float3",k.Float4="float4",k.Uint="uint",k.Uint2="uint2",k.Uint3="uint3",k.Uint4="uint4",k.Int="int",k.Int2="int2",k.Int3="int3",k.Int4="int4"})(L=A.VertexFormat||(A.VertexFormat={}));var w;(function(k){k.All="all",k.StencilOnly="stencil-only",k.DepthOnly="depth-only"})(w=A.TextureAspect||(A.TextureAspect={}));var F;(function(k){k.Error="error",k.Warning="warning",k.Info="info"})(F=A.CompilationMessageType||(A.CompilationMessageType={}));var V;(function(k){k.Occlusion="occlusion"})(V=A.QueryType||(A.QueryType={}));var Y;(function(k){k[k.MapRead=1]="MapRead",k[k.MapWrite=2]="MapWrite",k[k.CopySrc=4]="CopySrc",k[k.CopyDst=8]="CopyDst",k[k.Index=16]="Index",k[k.Vertex=32]="Vertex",k[k.Uniform=64]="Uniform",k[k.Storage=128]="Storage",k[k.Indirect=256]="Indirect",k[k.QueryResolve=512]="QueryResolve"})(Y=A.BufferUsage||(A.BufferUsage={}));var tt;(function(k){k[k.Red=1]="Red",k[k.Green=2]="Green",k[k.Blue=4]="Blue",k[k.Alpha=8]="Alpha",k[k.All=15]="All"})(tt=A.ColorWrite||(A.ColorWrite={}));var q;(function(k){k[k.Vertex=1]="Vertex",k[k.Fragment=2]="Fragment",k[k.Compute=4]="Compute"})(q=A.ShaderStage||(A.ShaderStage={}));var H;(function(k){k[k.CopySrc=1]="CopySrc",k[k.CopyDst=2]="CopyDst",k[k.Sampled=4]="Sampled",k[k.Storage=8]="Storage",k[k.OutputAttachment=16]="OutputAttachment"})(H=A.TextureUsage||(A.TextureUsage={}));var Q;(function(k){k[k.Read=1]="Read",k[k.Write=2]="Write"})(Q=A.MapMode||(A.MapMode={}))},"wfm+":function(Lt,A,i){"use strict";var c=this&&this.__spreadArray||function(p,b){for(var y=0,C=b.length,I=p.length;y<C;y++,I++)p[I]=b[y];return p};Object.defineProperty(A,"__esModule",{value:!0}),A.resolveInstance=void 0;var a=i("196R"),M=i("2+60"),O=i("9L8m");function x(p,b,y){var C=b.filter(function(g){return g.target!==null&&g.target.type===M.TargetTypeEnum.ClassProperty}),I=C.map(y);return C.forEach(function(g,R){var U="";U=g.target.name.value();var W=I[R];p[U]=W}),p}function D(p,b){return new(p.bind.apply(p,c([void 0],b)))}function E(p,b){if(Reflect.hasMetadata(O.POST_CONSTRUCT,p)){var y=Reflect.getMetadata(O.POST_CONSTRUCT,p);try{b[y.value]()}catch(C){throw new Error(a.POST_CONSTRUCT_ERROR(p.name,C.message))}}}function S(p,b,y){var C=null;if(b.length>0){var I=b.filter(function(R){return R.target!==null&&R.target.type===M.TargetTypeEnum.ConstructorArgument}),g=I.map(y);C=D(p,g),C=x(C,b,y)}else C=new p;return E(p,C),C}A.resolveInstance=S},wh5Q:function(Lt,A,i){"use strict";i.d(A,"a",function(){return a});var c=i("8Mtd");function a(M,O){return!Object(c.isNumber)(M)||!Object(c.isNumber)(O)?"-":M===O?"100%":M===0?"\u221E":O===0?"-\u221E":(100*O/M).toFixed(2)+"%"}},wvSg:function(Lt,A,i){var c=i("TIpG"),a=i("2Swa");function M(O){return a(O)&&c(O)}Lt.exports=M},"x+i1":function(Lt,A,i){var c=i("3sCP"),a=i("5MHJ"),M=i("VL8K"),O=i("+Gi7"),x=i("TIpG"),D=i("lDzS"),E=i("/g2i"),S=i("lOrw"),p="[object Map]",b="[object Set]",y=Object.prototype,C=y.hasOwnProperty;function I(g){if(g==null)return!0;if(x(g)&&(O(g)||typeof g=="string"||typeof g.splice=="function"||D(g)||S(g)||M(g)))return!g.length;var R=a(g);if(R==p||R==b)return!g.size;if(E(g))return!c(g).length;for(var U in g)if(C.call(g,U))return!1;return!0}Lt.exports=I},x3DA:function(Lt,A,i){"use strict";i.d(A,"e",function(){return M}),i.d(A,"f",function(){return O}),i.d(A,"d",function(){return x}),i.d(A,"a",function(){return E}),i.d(A,"b",function(){return S}),i.d(A,"c",function(){return p});var c=i("sxZn"),a=[1,0,0,0,1,0,0,0,1];function M(b,y,C){if(C===void 0&&(C=a),!y)return null;var I=c.a.transform(C,[["t",-b.x,-b.y],["r",y],["t",b.x,b.y]]);return I}function O(b,y){return!b.x&&!b.y?null:c.a.transform(y||a,[["t",b.x,b.y]])}function x(b){var y=[1,0,0],C=[0,0,0];return c.d.transformMat3(C,y,b),Math.atan2(C[1],C[0])}function D(b,y){var C=[0,0];return c.c.transformMat3(C,y,b),C}function E(b,y){var C=D(b,[y.minX,y.minY]),I=D(b,[y.maxX,y.minY]),g=D(b,[y.minX,y.maxY]),R=D(b,[y.maxX,y.maxY]),U=Math.min(C[0],I[0],g[0],R[0]),W=Math.max(C[0],I[0],g[0],R[0]),z=Math.min(C[1],I[1],g[1],R[1]),B=Math.max(C[1],I[1],g[1],R[1]);return{x:U,y:z,minX:U,minY:z,maxX:W,maxY:B,width:W-U,height:B-z}}function S(b,y,C,I){if(y){var g=M({x:C,y:I},y,b.getMatrix());b.setMatrix(g)}}function p(b,y,C){var I=O({x:y,y:C});b.attr("matrix",I)}},xAy3:function(Lt,A,i){"use strict";i.d(A,"a",function(){return E});var c=i("CMID"),a=i("GgvZ"),M=i("P4df"),O=i("JTuY"),x=i("Jze/"),D=Object(x.c)({},a.b.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),E=function(S){Object(c.__extends)(p,S);function p(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="column",b}return p.getDefaultOptions=function(){return D},p.prototype.changeData=function(b){this.updateOption({data:b});var y=this.options,C=y.yField,I=y.xField,g=y.isPercent,R=this,U=R.chart,W=R.options;Object(O.b)({chart:U,options:W}),this.chart.changeData(Object(M.a)(b,C,I,C,g))},p.prototype.getDefaultOptions=function(){return p.getDefaultOptions()},p.prototype.getSchemaAdaptor=function(){return O.a},p}(a.b)},xO9G:function(Lt,A,i){"use strict";i.d(A,"a",function(){return D});var c=i("16OP"),a=i.n(c),M=i("7Nom"),O=i.n(M),x=i("99LQ"),D=function(){function E(S,p){a()(this,E),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=S||0,this.normal=p||x.e.fromValues(0,1,0),this.updatePNVertexFlag()}return O()(E,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(p){return x.e.dot(p,this.normal)-this.distance}},{key:"normalize",value:function(){var p=1/x.e.len(this.normal);x.e.scale(this.normal,this.normal,p),this.distance*=p}},{key:"intersectsLine",value:function(p,b,y){var C=this.distanceToPoint(p),I=this.distanceToPoint(b),g=C/(C-I),R=g>=0&&g<=1;return R&&y&&x.e.lerp(y,p,b,g),R}}]),E}()},xOhq:function(Lt,A,i){"use strict";var c=i("CMID"),a=i("nZiY"),M=i("tSnd"),O=function(x){Object(c.__extends)(D,x);function D(E){var S=x.call(this)||this;S.destroyed=!1;var p=S.getDefaultCfg();return S.cfg=Object(M.i)(p,E),S}return D.prototype.getDefaultCfg=function(){return{}},D.prototype.get=function(E){return this.cfg[E]},D.prototype.set=function(E,S){this.cfg[E]=S},D.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},D}(a.a);A.a=O},xPJu:function(Lt,A,i){"use strict";i.d(A,"b",function(){return x}),i.d(A,"a",function(){return D});var c=i("8Mtd"),a=i("Jze/"),M=i("KCuH"),O={};function x(E,S){O[E]=S}function D(E){return{get:function(S,p){return Object(a.w)(Object(c.get)(O[E],S)||Object(c.get)(O[M.a.locale],S)||Object(c.get)(O["en-US"],S)||S,p)}}}},xXxO:function(Lt,A,i){"use strict";var c=i("riA0"),a=i("xvuM"),M=i.n(a),O=i("7Xsh"),x=i.n(O),D=i("8e3m");i.d(A,"Event",function(){return D.a});var E=i("OEJE");i.d(A,"Base",function(){return E.a});var S=i("mX1U"),p=i("tDsh"),b=i("vQYD"),y=i("UngR"),C=i("n9X1"),I=i("08EK"),g=i("RxlK"),R=i("k+AY"),U="0.5.6"},xvuM:function(Lt,A){},"yK/m":function(Lt,A,i){"use strict";var c=function(ct,jt,Xt){ct.prototype=jt.prototype=Xt,Xt.constructor=ct};function a(ct,jt){var Xt=Object.create(ct.prototype);for(var It in jt)Xt[It]=jt[It];return Xt}function M(){}var O=.7,x=1/O,D="\\s*([+-]?\\d+)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[D,D,D]+"\\)$"),y=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),C=new RegExp("^rgba\\("+[D,D,D,E]+"\\)$"),I=new RegExp("^rgba\\("+[S,S,S,E]+"\\)$"),g=new RegExp("^hsl\\("+[E,S,S]+"\\)$"),R=new RegExp("^hsla\\("+[E,S,S,E]+"\\)$"),U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c(M,L,{copy:function(ct){return Object.assign(new this.constructor,this,ct)},displayable:function(){return this.rgb().displayable()},hex:W,formatHex:W,formatHsl:z,formatRgb:B,toString:B});function W(){return this.rgb().formatHex()}function z(){return K(this).formatHsl()}function B(){return this.rgb().formatRgb()}function L(ct){var jt,Xt;return ct=(ct+"").trim().toLowerCase(),(jt=p.exec(ct))?(Xt=jt[1].length,jt=parseInt(jt[1],16),Xt===6?w(jt):Xt===3?new tt(jt>>8&15|jt>>4&240,jt>>4&15|jt&240,(jt&15)<<4|jt&15,1):Xt===8?F(jt>>24&255,jt>>16&255,jt>>8&255,(jt&255)/255):Xt===4?F(jt>>12&15|jt>>8&240,jt>>8&15|jt>>4&240,jt>>4&15|jt&240,((jt&15)<<4|jt&15)/255):null):(jt=b.exec(ct))?new tt(jt[1],jt[2],jt[3],1):(jt=y.exec(ct))?new tt(jt[1]*255/100,jt[2]*255/100,jt[3]*255/100,1):(jt=C.exec(ct))?F(jt[1],jt[2],jt[3],jt[4]):(jt=I.exec(ct))?F(jt[1]*255/100,jt[2]*255/100,jt[3]*255/100,jt[4]):(jt=g.exec(ct))?k(jt[1],jt[2]/100,jt[3]/100,1):(jt=R.exec(ct))?k(jt[1],jt[2]/100,jt[3]/100,jt[4]):U.hasOwnProperty(ct)?w(U[ct]):ct==="transparent"?new tt(NaN,NaN,NaN,0):null}function w(ct){return new tt(ct>>16&255,ct>>8&255,ct&255,1)}function F(ct,jt,Xt,It){return It<=0&&(ct=jt=Xt=NaN),new tt(ct,jt,Xt,It)}function V(ct){return ct instanceof M||(ct=L(ct)),ct?(ct=ct.rgb(),new tt(ct.r,ct.g,ct.b,ct.opacity)):new tt}function Y(ct,jt,Xt,It){return arguments.length===1?V(ct):new tt(ct,jt,Xt,It==null?1:It)}function tt(ct,jt,Xt,It){this.r=+ct,this.g=+jt,this.b=+Xt,this.opacity=+It}c(tt,Y,a(M,{brighter:function(ct){return ct=ct==null?x:Math.pow(x,ct),new tt(this.r*ct,this.g*ct,this.b*ct,this.opacity)},darker:function(ct){return ct=ct==null?O:Math.pow(O,ct),new tt(this.r*ct,this.g*ct,this.b*ct,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q,formatHex:q,formatRgb:H,toString:H}));function q(){return"#"+Q(this.r)+Q(this.g)+Q(this.b)}function H(){var ct=this.opacity;return ct=isNaN(ct)?1:Math.max(0,Math.min(1,ct)),(ct===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ct===1?")":", "+ct+")")}function Q(ct){return ct=Math.max(0,Math.min(255,Math.round(ct)||0)),(ct<16?"0":"")+ct.toString(16)}function k(ct,jt,Xt,It){return It<=0?ct=jt=Xt=NaN:Xt<=0||Xt>=1?ct=jt=NaN:jt<=0&&(ct=NaN),new lt(ct,jt,Xt,It)}function K(ct){if(ct instanceof lt)return new lt(ct.h,ct.s,ct.l,ct.opacity);if(ct instanceof M||(ct=L(ct)),!ct)return new lt;if(ct instanceof lt)return ct;ct=ct.rgb();var jt=ct.r/255,Xt=ct.g/255,It=ct.b/255,Ut=Math.min(jt,Xt,It),$t=Math.max(jt,Xt,It),Ft=NaN,Kt=$t-Ut,ee=($t+Ut)/2;return Kt?(jt===$t?Ft=(Xt-It)/Kt+(Xt<It)*6:Xt===$t?Ft=(It-jt)/Kt+2:Ft=(jt-Xt)/Kt+4,Kt/=ee<.5?$t+Ut:2-$t-Ut,Ft*=60):Kt=ee>0&&ee<1?0:Ft,new lt(Ft,Kt,ee,ct.opacity)}function nt(ct,jt,Xt,It){return arguments.length===1?K(ct):new lt(ct,jt,Xt,It==null?1:It)}function lt(ct,jt,Xt,It){this.h=+ct,this.s=+jt,this.l=+Xt,this.opacity=+It}c(lt,nt,a(M,{brighter:function(ct){return ct=ct==null?x:Math.pow(x,ct),new lt(this.h,this.s,this.l*ct,this.opacity)},darker:function(ct){return ct=ct==null?O:Math.pow(O,ct),new lt(this.h,this.s,this.l*ct,this.opacity)},rgb:function(){var ct=this.h%360+(this.h<0)*360,jt=isNaN(ct)||isNaN(this.s)?0:this.s,Xt=this.l,It=Xt+(Xt<.5?Xt:1-Xt)*jt,Ut=2*Xt-It;return new tt(ut(ct>=240?ct-240:ct+120,Ut,It),ut(ct,Ut,It),ut(ct<120?ct+240:ct-120,Ut,It),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ct=this.opacity;return ct=isNaN(ct)?1:Math.max(0,Math.min(1,ct)),(ct===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ct===1?")":", "+ct+")")}}));function ut(ct,jt,Xt){return(ct<60?jt+(Xt-jt)*ct/60:ct<180?Xt:ct<240?jt+(Xt-jt)*(240-ct)/60:jt)*255}function rt(ct,jt,Xt,It,Ut){var $t=ct*ct,Ft=$t*ct;return((1-3*ct+3*$t-Ft)*jt+(4-6*$t+3*Ft)*Xt+(1+3*ct+3*$t-3*Ft)*It+Ft*Ut)/6}var ot=function(ct){var jt=ct.length-1;return function(Xt){var It=Xt<=0?Xt=0:Xt>=1?(Xt=1,jt-1):Math.floor(Xt*jt),Ut=ct[It],$t=ct[It+1],Ft=It>0?ct[It-1]:2*Ut-$t,Kt=It<jt-1?ct[It+2]:2*$t-Ut;return rt((Xt-It/jt)*jt,Ft,Ut,$t,Kt)}},dt=function(ct){var jt=ct.length;return function(Xt){var It=Math.floor(((Xt%=1)<0?++Xt:Xt)*jt),Ut=ct[(It+jt-1)%jt],$t=ct[It%jt],Ft=ct[(It+1)%jt],Kt=ct[(It+2)%jt];return rt((Xt-It/jt)*jt,Ut,$t,Ft,Kt)}},Mt=function(ct){return function(){return ct}};function Nt(ct,jt){return function(Xt){return ct+Xt*jt}}function ht(ct,jt,Xt){return ct=Math.pow(ct,Xt),jt=Math.pow(jt,Xt)-ct,Xt=1/Xt,function(It){return Math.pow(ct+It*jt,Xt)}}function yt(ct,jt){var Xt=jt-ct;return Xt?Nt(ct,Xt>180||Xt<-180?Xt-360*Math.round(Xt/360):Xt):Mt(isNaN(ct)?jt:ct)}function ft(ct){return(ct=+ct)==1?st:function(jt,Xt){return Xt-jt?ht(jt,Xt,ct):Mt(isNaN(jt)?Xt:jt)}}function st(ct,jt){var Xt=jt-ct;return Xt?Nt(ct,Xt):Mt(isNaN(ct)?jt:ct)}var xt=function ct(jt){var Xt=ft(jt);function It(Ut,$t){var Ft=Xt((Ut=Y(Ut)).r,($t=Y($t)).r),Kt=Xt(Ut.g,$t.g),ee=Xt(Ut.b,$t.b),ce=st(Ut.opacity,$t.opacity);return function(Se){return Ut.r=Ft(Se),Ut.g=Kt(Se),Ut.b=ee(Se),Ut.opacity=ce(Se),Ut+""}}return It.gamma=ct,It}(1);function gt(ct){return function(jt){var Xt=jt.length,It=new Array(Xt),Ut=new Array(Xt),$t=new Array(Xt),Ft,Kt;for(Ft=0;Ft<Xt;++Ft)Kt=Y(jt[Ft]),It[Ft]=Kt.r||0,Ut[Ft]=Kt.g||0,$t[Ft]=Kt.b||0;return It=ct(It),Ut=ct(Ut),$t=ct($t),Kt.opacity=1,function(ee){return Kt.r=It(ee),Kt.g=Ut(ee),Kt.b=$t(ee),Kt+""}}}var At=gt(ot),pt=gt(dt),_=i("qh6B"),$=function(ct,jt){var Xt=new Date;return ct=+ct,jt=+jt,function(It){return Xt.setTime(ct*(1-It)+jt*It),Xt}},bt=function(ct,jt){return ct=+ct,jt=+jt,function(Xt){return ct*(1-Xt)+jt*Xt}},it=function(ct,jt){var Xt={},It={},Ut;(ct===null||typeof ct!="object")&&(ct={}),(jt===null||typeof jt!="object")&&(jt={});for(Ut in jt)Ut in ct?Xt[Ut]=wt(ct[Ut],jt[Ut]):It[Ut]=jt[Ut];return function($t){for(Ut in Xt)It[Ut]=Xt[Ut]($t);return It}},Ot=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pt=new RegExp(Ot.source,"g");function Rt(ct){return function(){return ct}}function Vt(ct){return function(jt){return ct(jt)+""}}var kt=function(ct,jt){var Xt=Ot.lastIndex=Pt.lastIndex=0,It,Ut,$t,Ft=-1,Kt=[],ee=[];for(ct=ct+"",jt=jt+"";(It=Ot.exec(ct))&&(Ut=Pt.exec(jt));)($t=Ut.index)>Xt&&($t=jt.slice(Xt,$t),Kt[Ft]?Kt[Ft]+=$t:Kt[++Ft]=$t),(It=It[0])===(Ut=Ut[0])?Kt[Ft]?Kt[Ft]+=Ut:Kt[++Ft]=Ut:(Kt[++Ft]=null,ee.push({i:Ft,x:bt(It,Ut)})),Xt=Pt.lastIndex;return Xt<jt.length&&($t=jt.slice(Xt),Kt[Ft]?Kt[Ft]+=$t:Kt[++Ft]=$t),Kt.length<2?ee[0]?Vt(ee[0].x):Rt(jt):(jt=ee.length,function(ce){for(var Se=0,Ce;Se<jt;++Se)Kt[(Ce=ee[Se]).i]=Ce.x(ce);return Kt.join("")})},Wt=i("H6vk"),wt=A.a=function(ct,jt){var Xt=typeof jt,It;return jt==null||Xt==="boolean"?Mt(jt):(Xt==="number"?bt:Xt==="string"?(It=L(jt))?(jt=It,xt):kt:jt instanceof L?xt:jt instanceof Date?$:Object(Wt.b)(jt)?Wt.a:Array.isArray(jt)?_.b:typeof jt.valueOf!="function"&&typeof jt.toString!="function"||isNaN(jt)?it:bt)(ct,jt)}},yWrq:function(Lt,A,i){var c=i("XSdR"),a=i("hppO");Lt.exports=M;function M(D,E){var S=a.partition(D,function(U){return c.has(U,"barycenter")}),p=S.lhs,b=c.sortBy(S.rhs,function(U){return-U.i}),y=[],C=0,I=0,g=0;p.sort(x(!!E)),g=O(y,b,g),c.forEach(p,function(U){g+=U.vs.length,y.push(U.vs),C+=U.barycenter*U.weight,I+=U.weight,g=O(y,b,g)});var R={vs:c.flatten(y,!0)};return I&&(R.barycenter=C/I,R.weight=I),R}function O(D,E,S){for(var p;E.length&&(p=c.last(E)).i<=S;)E.pop(),D.push(p.vs),S++;return S}function x(D){return function(E,S){return E.barycenter<S.barycenter?-1:E.barycenter>S.barycenter?1:D?S.i-E.i:E.i-S.i}}},ylrI:function(Lt,A){Lt.exports=i;function i(c,a){a=a||1;var M=Math.random()*2*Math.PI;return c[0]=Math.cos(M)*a,c[1]=Math.sin(M)*a,c}},ytXd:function(Lt,A,i){var c=i("VrSm"),a=i("LKUO"),M={};for(var O in c)c.hasOwnProperty(O)&&(M[c[O]]=O);var x=Lt.exports={to:{},get:{}};x.get=function(S){var p=S.substring(0,3).toLowerCase(),b,y;switch(p){case"hsl":b=x.get.hsl(S),y="hsl";break;case"hwb":b=x.get.hwb(S),y="hwb";break;default:b=x.get.rgb(S),y="rgb";break}return b?{model:y,value:b}:null},x.get.rgb=function(S){if(!S)return null;var p=/^#([a-f0-9]{3,4})$/i,b=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,y=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,C=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,I=/(\D+)/,g=[0,0,0,1],R,U,W;if(R=S.match(b)){for(W=R[2],R=R[1],U=0;U<3;U++){var z=U*2;g[U]=parseInt(R.slice(z,z+2),16)}W&&(g[3]=parseInt(W,16)/255)}else if(R=S.match(p)){for(R=R[1],W=R[3],U=0;U<3;U++)g[U]=parseInt(R[U]+R[U],16);W&&(g[3]=parseInt(W+W,16)/255)}else if(R=S.match(y)){for(U=0;U<3;U++)g[U]=parseInt(R[U+1],0);R[4]&&(g[3]=parseFloat(R[4]))}else if(R=S.match(C)){for(U=0;U<3;U++)g[U]=Math.round(parseFloat(R[U+1])*2.55);R[4]&&(g[3]=parseFloat(R[4]))}else return(R=S.match(I))?R[1]==="transparent"?[0,0,0,0]:(g=c[R[1]],g?(g[3]=1,g):null):null;for(U=0;U<3;U++)g[U]=D(g[U],0,255);return g[3]=D(g[3],0,1),g},x.get.hsl=function(S){if(!S)return null;var p=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,b=S.match(p);if(b){var y=parseFloat(b[4]),C=(parseFloat(b[1])+360)%360,I=D(parseFloat(b[2]),0,100),g=D(parseFloat(b[3]),0,100),R=D(isNaN(y)?1:y,0,1);return[C,I,g,R]}return null},x.get.hwb=function(S){if(!S)return null;var p=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,b=S.match(p);if(b){var y=parseFloat(b[4]),C=(parseFloat(b[1])%360+360)%360,I=D(parseFloat(b[2]),0,100),g=D(parseFloat(b[3]),0,100),R=D(isNaN(y)?1:y,0,1);return[C,I,g,R]}return null},x.to.hex=function(){var S=a(arguments);return"#"+E(S[0])+E(S[1])+E(S[2])+(S[3]<1?E(Math.round(S[3]*255)):"")},x.to.rgb=function(){var S=a(arguments);return S.length<4||S[3]===1?"rgb("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+")":"rgba("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+", "+S[3]+")"},x.to.rgb.percent=function(){var S=a(arguments),p=Math.round(S[0]/255*100),b=Math.round(S[1]/255*100),y=Math.round(S[2]/255*100);return S.length<4||S[3]===1?"rgb("+p+"%, "+b+"%, "+y+"%)":"rgba("+p+"%, "+b+"%, "+y+"%, "+S[3]+")"},x.to.hsl=function(){var S=a(arguments);return S.length<4||S[3]===1?"hsl("+S[0]+", "+S[1]+"%, "+S[2]+"%)":"hsla("+S[0]+", "+S[1]+"%, "+S[2]+"%, "+S[3]+")"},x.to.hwb=function(){var S=a(arguments),p="";return S.length>=4&&S[3]!==1&&(p=", "+S[3]),"hwb("+S[0]+", "+S[1]+"%, "+S[2]+"%"+p+")"},x.to.keyword=function(S){return M[S.slice(0,3)]};function D(S,p,b){return Math.min(Math.max(p,S),b)}function E(S){var p=S.toString(16).toUpperCase();return p.length<2?"0"+p:p}},z8FW:function(Lt,A,i){var c=i("xi+f"),a=i("xXdm"),M=i("hQ5t"),O=i("4hrr"),x=i("6FVg"),D=i("hQlM"),E=i("3qqr"),S=i("WeNx"),p=i("+Gi7");function b(y,C,I){C.length?C=c(C,function(U){return p(U)?function(W){return a(W,U.length===1?U[0]:U)}:U}):C=[S];var g=-1;C=c(C,D(M));var R=O(y,function(U,W,z){var B=c(C,function(L){return L(U)});return{criteria:B,index:++g,value:U}});return x(R,function(U,W){return E(U,W,I)})}Lt.exports=b},zEOA:function(Lt,A,i){Lt.exports=i("ebDh")},zJ04:function(Lt,A){Lt.exports=i;function i(c,a){return c[0]=Math.ceil(a[0]),c[1]=Math.ceil(a[1]),c}},zN6Y:function(Lt,A,i){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingOnSyntax=void 0;var c=i("ITfU"),a=function(){function M(O){this._binding=O}return M.prototype.onActivation=function(O){return this._binding.onActivation=O,new c.BindingWhenSyntax(this._binding)},M}();A.BindingOnSyntax=a},zPMQ:function(Lt,A,i){var c=i("Hz7B"),a=c("length");Lt.exports=a},zPzM:function(Lt,A,i){"use strict";i.d(A,"a",function(){return V});var c=i("CMID"),a=i("dNsf"),M=i("GgvZ"),O=i("Jze/"),x=i("8Mtd"),D=i("s9g+"),E=i("Yz/u"),S="first-axes-view",p="second-axes-view",b="series-field-key";function y(Y,tt,q,H,Q){var k=[];tt.forEach(function(ot){H.forEach(function(dt){var Mt,Nt=(Mt={},Mt[Y]=dt[Y],Mt[q]=ot,Mt[ot]=dt[ot],Mt);k.push(Nt)})});var K=Object.values(Object(x.groupBy)(k,q)),nt=K[0],lt=nt===void 0?[]:nt,ut=K[1],rt=ut===void 0?[]:ut;return Q?[lt.reverse(),rt.reverse()]:[lt,rt]}function C(Y){return Y!=="vertical"}function I(Y,tt,q){var H=tt[0],Q=tt[1],k=H.autoPadding,K=Q.autoPadding,nt=Y.__axisPosition,lt=nt.layout,ut=nt.position;if(C(lt)&&ut==="top"&&(H.autoPadding=q.instance(k.top,0,k.bottom,k.left),Q.autoPadding=q.instance(K.top,k.left,K.bottom,0)),C(lt)&&ut==="bottom"&&(H.autoPadding=q.instance(k.top,k.right/2+5,k.bottom,k.left),Q.autoPadding=q.instance(K.top,K.right,K.bottom,k.right/2+5)),!C(lt)&&ut==="bottom"){var rt=k.left>=K.left?k.left:K.left;H.autoPadding=q.instance(k.top,k.right,k.bottom/2+5,rt),Q.autoPadding=q.instance(k.bottom/2+5,K.right,K.bottom,rt)}if(!C(lt)&&ut==="top"){var rt=k.left>=K.left?k.left:K.left;H.autoPadding=q.instance(k.top,k.right,0,rt),Q.autoPadding=q.instance(0,K.right,k.top,rt)}}function g(Y){var tt=Y.chart,q=Y.options,H=q.data,Q=q.xField,k=q.yField,K=q.color,nt=q.barStyle,lt=q.widthRatio,ut=q.legend,rt=q.layout,ot=y(Q,k,b,H,C(rt));ut?tt.legend(b,ut):ut===!1&&tt.legend(!1);var dt,Mt,Nt=ot[0],ht=ot[1];C(rt)?(dt=tt.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:S}),dt.coordinate().transpose().reflect("x"),Mt=tt.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:p}),Mt.coordinate().transpose(),dt.data(Nt),Mt.data(ht)):(dt=tt.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:S}),Mt=tt.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:p}),Mt.coordinate().reflect("y").rotate(Math.PI*0),dt.data(Nt),Mt.data(ht));var yt=Object(O.c)({},Y,{chart:dt,options:{widthRatio:lt,xField:Q,yField:k[0],seriesField:b,interval:{color:K,style:nt}}});Object(E.c)(yt);var ft=Object(O.c)({},Y,{chart:Mt,options:{xField:Q,yField:k[1],seriesField:b,widthRatio:lt,interval:{color:K,style:nt}}});return Object(E.c)(ft),Y}function R(Y){var tt,q,H,Q=Y.options,k=Y.chart,K=Q.xAxis,nt=Q.yAxis,lt=Q.xField,ut=Q.yField,rt=Object(O.e)(k,S),ot=Object(O.e)(k,p),dt={};return Object(x.keys)((Q==null?void 0:Q.meta)||{}).map(function(Mt){Object(x.get)(Q==null?void 0:Q.meta,[Mt,"alias"])&&(dt[Mt]=Q.meta[Mt].alias)}),k.scale((tt={},tt[b]={sync:!0,formatter:function(Mt){return Object(x.get)(dt,Mt,Mt)}},tt)),Object(D.f)((q={},q[lt]=K,q[ut[0]]=nt[ut[0]],q))(Object(O.c)({},Y,{chart:rt})),Object(D.f)((H={},H[lt]=K,H[ut[1]]=nt[ut[1]],H))(Object(O.c)({},Y,{chart:ot})),Y}function U(Y){var tt=Y.chart,q=Y.options,H=q.xAxis,Q=q.yAxis,k=q.xField,K=q.yField,nt=q.layout,lt=Object(O.e)(tt,S),ut=Object(O.e)(tt,p);return(H==null?void 0:H.position)==="bottom"?ut.axis(k,Object(c.__assign)(Object(c.__assign)({},H),{label:{formatter:function(){return""}}})):ut.axis(k,!1),H===!1?lt.axis(k,!1):lt.axis(k,Object(c.__assign)({position:C(nt)?"top":"bottom"},H)),Q===!1?(lt.axis(K[0],!1),ut.axis(K[1],!1)):(lt.axis(K[0],Q[K[0]]),ut.axis(K[1],Q[K[1]])),tt.__axisPosition={position:lt.getOptions().axes[k].position,layout:nt},Y}function W(Y){var tt=Y.chart;return Object(D.c)(Object(O.c)({},Y,{chart:Object(O.e)(tt,S)})),Object(D.c)(Object(O.c)({},Y,{chart:Object(O.e)(tt,p)})),Y}function z(Y){var tt=Y.chart,q=Y.options,H=q.yField,Q=q.yAxis;return Object(D.e)(Object(O.c)({},Y,{chart:Object(O.e)(tt,S),options:{yAxis:Q[H[0]]}})),Object(D.e)(Object(O.c)({},Y,{chart:Object(O.e)(tt,p),options:{yAxis:Q[H[1]]}})),Y}function B(Y){var tt=Y.chart;return Object(D.j)(Object(O.c)({},Y,{chart:Object(O.e)(tt,S)})),Object(D.j)(Object(O.c)({},Y,{chart:Object(O.e)(tt,p)})),Y}function L(Y){var tt=Y.chart;return Object(D.a)(Object(O.c)({},Y,{chart:Object(O.e)(tt,S)})),Object(D.a)(Object(O.c)({},Y,{chart:Object(O.e)(tt,p)})),Y}function w(Y){var tt=Y.chart,q=Y.options,H=q.label,Q=q.yField,k=Object(O.e)(tt,S),K=Object(O.e)(tt,p),nt=Object(O.d)(k,"interval"),lt=Object(O.d)(K,"interval");if(!H)nt.label(!1),lt.label(!1);else{var ut=H.callback,rt=Object(c.__rest)(H,["callback"]);nt.label({fields:[Q[0]],callback:ut,cfg:Object(O.y)(rt)}),lt.label({fields:[Q[1]],callback:ut,cfg:Object(O.y)(rt)})}return Y}function F(Y){return Object(O.f)(g,R,U,z,B,w,D.k,W,L)(Y)}var V=function(Y){Object(c.__extends)(tt,Y);function tt(){var q=Y!==null&&Y.apply(this,arguments)||this;return q.type="bidirectional-bar",q}return tt.getDefaultOptions=function(){return Object(O.c)({},Y.getDefaultOptions.call(this),{syncViewPadding:I})},tt.prototype.changeData=function(q){q===void 0&&(q=[]),this.chart.emit(a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({data:q});var H=this.options,Q=H.xField,k=H.yField,K=H.layout,nt=y(Q,k,b,q,C(K)),lt=nt[0],ut=nt[1],rt=Object(O.e)(this.chart,S),ot=Object(O.e)(this.chart,p);rt.data(lt),ot.data(ut),this.chart.render(!0),this.chart.emit(a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,a.Event.fromData(this.chart,a.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},tt.prototype.getDefaultOptions=function(){return tt.getDefaultOptions()},tt.prototype.getSchemaAdaptor=function(){return F},tt}(M.b)},zRtE:function(Lt,A,i){"use strict";i.r(A),i.d(A,"CONTAINER_CLASS",function(){return c}),i.d(A,"TITLE_CLASS",function(){return a}),i.d(A,"LIST_CLASS",function(){return M}),i.d(A,"LIST_ITEM_CLASS",function(){return O}),i.d(A,"MARKER_CLASS",function(){return x}),i.d(A,"VALUE_CLASS",function(){return D}),i.d(A,"NAME_CLASS",function(){return E}),i.d(A,"CROSSHAIR_X",function(){return S}),i.d(A,"CROSSHAIR_Y",function(){return p});var c="g2-tooltip",a="g2-tooltip-title",M="g2-tooltip-list",O="g2-tooltip-list-item",x="g2-tooltip-marker",D="g2-tooltip-value",E="g2-tooltip-name",S="g2-tooltip-crosshair-x",p="g2-tooltip-crosshair-y"},zWOy:function(Lt,A){},zui5:function(Lt,A,i){"use strict";var c;(function(a){a.Normal="normal",a.PostProcessing="post-processing"})(c||(c={}))}}]);
